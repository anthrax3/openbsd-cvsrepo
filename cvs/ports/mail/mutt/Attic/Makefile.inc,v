head	1.46;
access;
symbols
	OPENBSD_5_5:1.44.0.4
	OPENBSD_5_5_BASE:1.44
	OPENBSD_5_4:1.44.0.2
	OPENBSD_5_4_BASE:1.44
	OPENBSD_5_3:1.38.0.2
	OPENBSD_5_3_BASE:1.38
	OPENBSD_5_2:1.37.0.6
	OPENBSD_5_2_BASE:1.37
	OPENBSD_5_1_BASE:1.37
	OPENBSD_5_1:1.37.0.4
	OPENBSD_5_0:1.37.0.2
	OPENBSD_5_0_BASE:1.37
	OPENBSD_4_9:1.36.0.2
	OPENBSD_4_9_BASE:1.36
	OPENBSD_4_8:1.32.0.6
	OPENBSD_4_8_BASE:1.32
	OPENBSD_4_7:1.32.0.4
	OPENBSD_4_7_BASE:1.32
	OPENBSD_4_6:1.32.0.2
	OPENBSD_4_6_BASE:1.32
	OPENBSD_4_5:1.29.0.2
	OPENBSD_4_5_BASE:1.29
	OPENBSD_4_4:1.28.0.2
	OPENBSD_4_4_BASE:1.28
	OPENBSD_4_3:1.25.0.2
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.24.0.2
	OPENBSD_4_2_BASE:1.24
	OPENBSD_4_1:1.23.0.4
	OPENBSD_4_1_BASE:1.23
	OPENBSD_4_0:1.23.0.2
	OPENBSD_4_0_BASE:1.23
	OPENBSD_3_9:1.20.0.2
	OPENBSD_3_9_BASE:1.20
	OPENBSD_3_8:1.14.0.2
	OPENBSD_3_8_BASE:1.14
	OPENBSD_3_7:1.13.0.2
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.5.0.2
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2;
locks; strict;
comment	@# @;


1.46
date	2014.05.13.14.27.53;	author sthen;	state dead;
branches;
next	1.45;

1.45
date	2014.04.21.18.57.49;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2013.06.20.08.26.13;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2013.06.20.06.54.38;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2013.06.17.19.30.44;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2013.03.14.10.14.10;	author sthen;	state Exp;
branches;
next	1.40;

1.40
date	2013.03.11.12.17.36;	author sthen;	state Exp;
branches;
next	1.39;

1.39
date	2013.03.11.11.23.51;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.37;

1.37
date	2011.05.04.07.49.40;	author sthen;	state Exp;
branches;
next	1.36;

1.36
date	2010.11.19.07.23.07;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.11.11.19.46.30;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.18.20.29.53;	author jsg;	state Exp;
branches;
next	1.33;

1.33
date	2010.09.08.09.57.28;	author sthen;	state Exp;
branches;
next	1.32;

1.32
date	2009.06.20.10.20.09;	author sthen;	state Exp;
branches;
next	1.31;

1.31
date	2009.06.16.09.37.19;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2009.04.20.07.43.21;	author sthen;	state Exp;
branches;
next	1.29;

1.29
date	2008.09.02.18.35.57;	author todd;	state Exp;
branches;
next	1.28;

1.28
date	2008.05.22.14.40.12;	author sthen;	state Exp;
branches;
next	1.27;

1.27
date	2008.05.21.13.46.19;	author sthen;	state Exp;
branches;
next	1.26;

1.26
date	2008.05.09.17.46.51;	author bernd;	state Exp;
branches;
next	1.25;

1.25
date	2007.11.11.10.09.43;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2007.06.21.17.26.29;	author bernd;	state Exp;
branches;
next	1.23;

1.23
date	2006.08.03.19.56.08;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2006.08.02.14.30.09;	author bernd;	state Exp;
branches;
next	1.21;

1.21
date	2006.03.22.12.43.09;	author bernd;	state Exp;
branches;
next	1.20;

1.20
date	2005.11.12.02.29.47;	author jolan;	state Exp;
branches;
next	1.19;

1.19
date	2005.11.09.21.19.03;	author bernd;	state Exp;
branches;
next	1.18;

1.18
date	2005.11.03.21.57.55;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2005.10.05.09.48.10;	author bernd;	state Exp;
branches;
next	1.16;

1.16
date	2005.09.29.17.25.27;	author bernd;	state Exp;
branches;
next	1.15;

1.15
date	2005.09.14.21.00.03;	author bernd;	state Exp;
branches;
next	1.14;

1.14
date	2005.05.03.15.37.16;	author jolan;	state Exp;
branches;
next	1.13;

1.13
date	2005.03.06.01.44.20;	author sturm;	state Exp;
branches;
next	1.12;

1.12
date	2005.02.07.20.47.56;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2005.02.07.17.16.15;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2005.01.02.12.56.05;	author alek;	state Exp;
branches;
next	1.9;

1.9
date	2004.11.30.08.57.55;	author xsa;	state Exp;
branches;
next	1.8;

1.8
date	2004.10.20.20.15.20;	author xsa;	state Exp;
branches;
next	1.7;

1.7
date	2004.09.25.02.10.07;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2004.09.22.21.26.40;	author fgsch;	state Exp;
branches;
next	1.5;

1.5
date	2004.08.10.09.14.48;	author xsa;	state Exp;
branches;
next	1.4;

1.4
date	2004.06.28.14.17.21;	author lebel;	state Exp;
branches;
next	1.3;

1.3
date	2004.04.06.12.43.46;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2004.02.24.19.48.16;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2004.02.19.20.42.05;	author brad;	state Exp;
branches;
next	;


desc
@@


1.46
log
@Remove old version of mutt, which is missing fixes made to the 1.5
"snapshot" branch 9 years ago (in fact the 1.4 branch has really only
received a couple of security fixes since 2002).

No naysayers, and positive feedback about the removal from ajacoutot and brad.
@
text
@# $OpenBSD: Makefile.inc,v 1.45 2014/04/21 18:57:49 sthen Exp $

CATEGORIES=	mail

HOMEPAGE=	http://www.mutt.org/

MASTER_SITES_MUTT= ftp://ftp.mutt.org/mutt/ \
		   ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/ \
		   ftp://ftp.gbnet.net/pub/mutt-international/ \
		   ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/

MASTER_SITES0=	http://www.spinnaker.de/mutt/compressed/
MASTER_SITES1=	http://lunar-linux.org/~tchan/mutt/
MASTER_SITES2=	http://spacehopper.org/mutt/
DIST_SUBDIR=	mutt

MAINTAINER=	Stuart Henderson <sthen@@openbsd.org>

MODULES=	devel/gettext

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB+=	c crypto ssl

FLAVORS+=	slang mixmaster compressed
FLAVOR?=

CONFIGURE_STYLE= autoconf old
AUTOCONF_VERSION?= 2.61
CONFIGURE_ARGS+=--enable-external_dotlock \
		--enable-flock \
		--enable-imap \
		--enable-pop \
		--disable-fcntl \
		--mandir=${PREFIX}/man \
		--sysconfdir=${CONFDIR} \
		--with-docdir="${PREFIX}/share/doc/mutt" \
		--with-ssl
FAKE_FLAGS=	sysconfdir="${PREFIX}/share/examples/mutt"
PATCH_DIST_STRIP= -p1

.if defined(DEBUG)
CONFIGURE_ARGS+=--enable-debug
.endif

CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		ISPELL="${LOCALBASE}/bin/ispell"

.if ${FLAVOR:Mslang}
LIB_DEPENDS+=		devel/libslang
CONFIGURE_ARGS+=	--with-slang="${PREFIX}"
WANTLIB+=		m termlib slang>=14
.else
CONFIGURE_ARGS+=	--with-curses
WANTLIB+=		ncurses
.endif

# compressed folder support
DIST_COMPRESSED?=	patch-${VERSION}.rr.compressed.1.gz:0
.if ${FLAVOR:Mcompressed}
PATCHFILES+=		${DIST_COMPRESSED}
CONFIGURE_ARGS+=	--enable-compressed
.else
SUPDISTFILES+=		${DIST_COMPRESSED}
.endif

.if ${FLAVOR:Mmixmaster}
CONFIGURE_ARGS+=	--with-mixmaster="${LOCALBASE}/sbin/mixmaster"
RUN_DEPENDS+=		mail/mixmaster
.endif

.if ${FLAVOR:Midn}
CONFIGURE_ARGS+=	--with-idn
LIB_DEPENDS+=		devel/libidn
WANTLIB+=		idn>=16
.else
CONFIGURE_ARGS+=	--without-idn
.endif

.if defined(HOMESPOOL)
CONFIGURE_ARGS+=	--with-homespool="${HOMESPOOL}"
.endif

.if defined(DOMAIN)
CONFIGURE_ARGS+=	--with-domain="${DOMAIN}"
.endif

WRKDIST=	${WRKDIR}/${DISTNAME:S/i$//}
CONFDIR=	${SYSCONFDIR}/mutt
SUBST_VARS=	CONFDIR
MUTTRCDIR?=

post-install:
	@@mv -f ${PREFIX}/share/doc/mutt/samples/* ${PREFIX}/share/examples/mutt
	@@perl -pi -e "s,/etc/Muttrc,${CONFDIR}/Muttrc," ${PREFIX}/man/man1/mutt.1
	@@perl -pi -e "s,/etc/mime.types,${CONFDIR}/mime.types," ${PREFIX}/man/man1/mutt.1
	@@perl -pi -e "s,/usr/bin/gpg,${LOCALBASE}/bin/gpg," \
		${PREFIX}/share/examples/mutt/gpg.rc
@


1.45
log
@disable gss support and add an old patch sitting in my tree for >1 year to
fix F1 help text display in stable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.44 2013/06/20 08:26:13 ajacoutot Exp $
@


1.44
log
@No need for pthread.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.43 2013/06/20 06:54:38 ajacoutot Exp $
d24 1
a24 2
WANTLIB+=	c crypto gssapi krb5 ssl asn1 com_err heimbase
WANTLIB+=	roken wind
a38 1
		--with-gss \
@


1.43
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.42 2013/06/17 19:30:44 ajacoutot Exp $
d25 1
a25 1
WANTLIB+=	pthread roken wind
@


1.42
log
@Unbreak with new Heimdal; get rid of self-cooked krb5-config since we
have it in base now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.41 2013/03/14 10:14:10 sthen Exp $
d24 2
a25 2
WANTLIB+=	c crypto gssapi krb5 ssl asn1 com_err heimbase heimntlm
WANTLIB+=	hx509 pthread roken wind
@


1.41
log
@add the trashfolder patch to mutt/snapshot, req'd by aja.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.40 2013/03/11 12:17:36 sthen Exp $
d24 2
a25 1
WANTLIB+=	c crypto gssapi krb5 ssl
@


1.40
log
@PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.39 2013/03/11 11:23:51 espie Exp $
d42 1
a64 1
PATCH_DIST_STRIP=	-p1
@


1.39
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.38 2013/02/09 14:49:51 sthen Exp $
a22 2
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_FTP=	Yes
d57 1
a57 1
WANTLIB+=		ncurses 
@


1.38
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.37 2011/05/04 07:49:40 sthen Exp $
a23 1
PERMIT_DISTFILES_CDROM=	Yes
@


1.37
log
@move ftp.mutt.org to the top of the list, and let peek-ftp work for snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.36 2010/11/19 07:23:07 espie Exp $
d54 1
a54 1
.if ${FLAVOR:L:Mslang}
d65 1
a65 1
.if ${FLAVOR:L:Mcompressed}
d73 1
a73 1
.if ${FLAVOR:L:Mmixmaster}
d78 1
a78 1
.if ${FLAVOR:L:Midn}
@


1.36
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.35 2010/11/11 19:46:30 espie Exp $
d7 2
a8 2
MASTER_SITES_MUTT= ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/ \
		   ftp://ftp.mutt.org/mutt/ \
@


1.35
log
@fix some WANTLIB we missed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.34 2010/10/18 20:29:53 jsg Exp $
d55 1
a55 1
LIB_DEPENDS+=		::devel/libslang
d57 1
a57 1
WANTLIB+=		m termlib slang.>=14
d75 1
a75 1
RUN_DEPENDS+=		::mail/mixmaster
d80 2
a81 2
LIB_DEPENDS+=		::devel/libidn
WANTLIB+=		idn.>=16
@


1.34
log
@no need to link libdes for kerberos
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.33 2010/09/08 09:57:28 sthen Exp $
d55 1
a55 1
LIB_DEPENDS+=		slang.>=14::devel/libslang
d57 1
a57 1
WANTLIB+=		m termlib
@


1.33
log
@- update the sidebar/compressed patches to work with this snapshot.
- new LIB_DEPENDS/REVISION.
- switch to a newer snapshot pulled from the repo, rolling in the
upstream patches.

requested by edd@@. thanks to jasper@@, landry@@, pea@@ for testing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.32 2009/06/20 10:20:09 sthen Exp $
d27 1
a27 1
WANTLIB+=	c crypto des gssapi krb5 ssl
@


1.32
log
@iff the variable DEBUG is set, add --enable-debug to configure args.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.31 2009/06/16 09:37:19 sthen Exp $
d80 2
a81 1
LIB_DEPENDS+=		idn.>=16::devel/libidn
@


1.31
log
@- bug-fix and SECURITY update to 1.5.20; fixes CVE-2009-1390 (X.509
Certificate Chain Security Bypass vulnerability).

- added a couple of post-1.5.20 patches from upstream for regressions

- cleanup the port's handling of sample config files

testing by Simon Kuhnle, Edd Barrett, testing and ok landry@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.30 2009/04/20 07:43:21 sthen Exp $
d45 4
@


1.30
log
@update to 1.5.19 and take MAINTAINER. thanks to Simon Kuhnle,
landry@@ and Brad for testing various versions of this diff.

ok landry@@ after a few rounds of pain with Maildir and the sidebar
patch, eventually resulting in snapshot/patches/sidebar-buffy_c.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.29 2008/09/02 18:35:57 todd Exp $
d14 1
d43 2
a44 2
		--with-sharedir="${PREFIX}/share/mutt" \
		--with-ssl \
d60 1
d62 1
a62 1
PATCHFILES+=		patch-${VERSION}.rr.compressed.1.gz:0
d66 1
a66 1
SUPDISTFILES+=		patch-${VERSION}.rr.compressed.1.gz:0
a94 5
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/mutt
	${INSTALL_DATA} ${WRKSRC}/${MUTTRCDIR}Muttrc \
		${PREFIX}/share/examples/mutt/Muttrc.sample
	${INSTALL_DATA} ${WRKDIST}/mime.types \
		${PREFIX}/share/examples/mutt/mime.types.sample
@


1.29
log
@corrects builds where MACHINE != MACHINE_ARCH (WRKDIST vs WRKSRC)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.28 2008/05/22 14:40:12 sthen Exp $
d13 4
a16 1
MASTER_SITES1=	http://spacehopper.org/
d20 1
a20 1
# GPL
d25 1
d58 1
a58 2
# compressed folder support provided by
# http://www.spinnaker.de/mutt/compressed/
a92 1
	@@strip ${PREFIX}/bin/mutt
@


1.28
log
@Fix problem reported by naddy@@: the sidebar patchset is only for snapshot,
so move it out of Makefile.inc and fix stable/distinfo. Bump not necessary.

ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.27 2008/05/21 13:46:19 sthen Exp $
d94 1
a94 1
	${INSTALL_DATA} ${WRKSRC}/mime.types \
@


1.27
log
@update to 1.5.18, tested by many.  ok merdely
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.26 2008/05/09 17:46:51 bernd Exp $
a73 7
.endif

.if ${FLAVOR:L:Msidebar}
PATCHFILES+=		patch-${VERSION}.sidebar-b.txt:1
PATCH_DIST_STRIP=	-p1
.else
SUPDISTFILES+=		patch-${VERSION}.sidebar-b.txt:1
@


1.26
log
@Some cleanup of the mutt Makefile's. Moving the common
WANTLIB stuff to Makefile.inc. Sorting the CONFIGURE_ARGS
options. Having the stable release of mutt use the appropriate
version of autoconf.

from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25 2007/11/11 10:09:43 sthen Exp $
d77 1
a77 1
PATCHFILES+=		patch-1.5.17.sidebar.txt:1
d80 1
a80 1
SUPDISTFILES+=		patch-1.5.17.sidebar.txt:1
d94 1
d99 1
a99 1
	${INSTALL_DATA} ${WRKSRC}/Muttrc \
@


1.25
log
@Update Mutt to 1.5.17, fix WANTLIB for 1.5.xx (adding qdbm in 1.5.16
brought in a dependency on libz).

feedback/ok bernd@@, simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.24 2007/06/21 17:26:29 bernd Exp $
d22 1
a26 1
AUTOCONF_VERSION?= 2.59
d28 2
a29 2
CONFIGURE_ARGS+=--with-sharedir="${PREFIX}/share/mutt" \
		--with-docdir="${PREFIX}/share/doc/mutt" \
a30 2
		--disable-fcntl \
		--enable-external_dotlock \
d33 6
a39 6
		--sysconfdir=${CONFDIR}

.if ${KERBEROS5} == "yes"
CONFIGURE_ARGS+=--with-gss
WANTLIB+=	gssapi krb5
.endif
@


1.24
log
@Update to mutt-1.5.16.

Initial diff and sidebar-patch hosting by Stuart Henderson. Thanks!

Enable the Maildir/POP3/IMAP header cache by default and remove
the hcache FLAVOR.

Tested by many. Corrections from simon@@.

ok simon@@, steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.23 2006/08/03 19:56:08 espie Exp $
a22 2
WANTLIB=	c crypto des ssl

d79 1
a79 1
PATCHFILES+=		patch-1.5.16.sidebar.txt:1
d82 1
a82 1
SUPDISTFILES+=		patch-1.5.16.sidebar.txt:1
@


1.23
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.22 2006/08/02 14:30:09 bernd Exp $
d13 1
a13 1
MASTER_SITES1=	http://mirrors.protection.cx/~jolan/
d30 1
a30 1
CONFIGURE_ARGS=	--with-sharedir="${PREFIX}/share/mutt" \
a72 7
.if ${FLAVOR:L:Mhcache}
CONFIGURE_ARGS+=	--enable-hcache --without-qdbm
LIB_DEPENDS+=		gdbm.>=2::databases/gdbm
.else
CONFIGURE_ARGS+=	--without-gdbm --without-qdbm
.endif

d81 1
a81 1
PATCHFILES+=		patch-1.5.12.sidebar.20060720.txt-fixed:1
d84 1
a84 1
SUPDISTFILES+=		patch-1.5.12.sidebar.20060720.txt-fixed:1
@


1.22
log
@Update to mutt-1.5.12 snapshot.

tested by many
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.21 2006/03/22 12:43:09 bernd Exp $
d50 1
a50 1
LIB_DEPENDS+=		slang.14::devel/libslang
d75 1
a75 1
LIB_DEPENDS+=		gdbm.2::databases/gdbm
d82 1
a82 1
LIB_DEPENDS+=		idn.16::devel/libidn
@


1.21
log
@Correct path to gpg in the gpg.rc example file. Bump PKGNAMEs.

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.20 2005/11/12 02:29:47 jolan Exp $
d28 1
d74 1
a74 1
CONFIGURE_ARGS+=	--enable-hcache
d77 1
a77 1
CONFIGURE_ARGS+=	--without-gdbm
d88 1
a88 1
PATCHFILES+=		patch-1.5.10i.sidebar.20050816.txt-fixed:1
d91 1
a91 1
SUPDISTFILES+=		patch-1.5.10i.sidebar.20050816.txt-fixed:1
@


1.20
log
@use re-rolled sidebar patch that doesn't patch the PATCHES file.  fixes
a conflict with the compressed and sidebar flavors

reported by viq on ports@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.19 2005/11/09 21:19:03 bernd Exp $
d115 2
@


1.19
log
@Add sidebar FLAVOR. Info: http://thomer.com/mutt/

Initial patch from jolan@@.

ok jolan@@, "looks good" sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.18 2005/11/03 21:57:55 naddy Exp $
d13 1
a13 1
MASTER_SITES1=	http://thomer.com/mutt/
d87 1
a87 1
PATCHFILES+=		patch-1.5.10i.sidebar.20050816.txt:1
d90 1
a90 1
SUPDISTFILES+=		patch-1.5.10i.sidebar.20050816.txt:1
@


1.18
log
@Do not allow automake to run for the compressed FLAVOR; the patch already
includes the required Makefile.in changes.  ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.17 2005/10/05 09:48:10 bernd Exp $
d13 1
d84 7
@


1.17
log
@- add idn FLAVOR for snapshot (internationalized domain name support)
- clean up snapshot/pkg/DESCR
- bump PKGNAME for snapshot

okay sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.16 2005/09/29 17:25:27 bernd Exp $
a61 1
CONFIGURE_STYLE+=	automake
@


1.16
log
@- update mutt snapshot to 1.5.11
- move DISTNAME from Makefile.inc to stable/snapshot Makefile
(since 1.5.11, DISTNAME contains no 'i' anymore)

help & ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.15 2005/09/14 21:00:03 bernd Exp $
d77 7
@


1.15
log
@- update to mutt-1.5.10
- preprocess muttrc manpage with tbl

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.14 2005/05/03 15:37:16 jolan Exp $
a2 1
DISTNAME=	mutt-${VERSION}i
@


1.14
log
@dont have a teary if kerberos5 stuff isnt around

ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.13 2005/03/06 01:44:20 sturm Exp $
a13 1
MASTER_SITES1=	http://wwwcip.informatik.uni-erlangen.de/~sithglan/mutt/
a73 2
PATCHFILES+=		mutt-cvs-header-cache.29:1
PATCH_DIST_STRIP=	-p1
a76 1
SUPDISTFILES+=		mutt-cvs-header-cache.29:1
@


1.13
log
@update snapshot to mutt 1.5.8

from Bernd Ahlers <b.ahlers at ba-net.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.12 2005/02/07 20:47:56 naddy Exp $
d24 1
a24 1
WANTLIB=	c crypto des gssapi krb5 ssl
a37 1
		--with-gss \
d39 5
@


1.12
log
@push PKGNAME down one directory level; from sturm@@ via maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.11 2005/02/07 17:16:15 naddy Exp $
d71 1
a71 1
PATCHFILES+=		patch-1.5.7.tg.hcache.1:1
d76 1
a76 1
SUPDISTFILES+=		patch-1.5.7.tg.hcache.1:1
@


1.11
log
@update snapshot to 1.5.7; from Bernd Ahlers <b.ahlers@@ba-net.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.10 2005/01/02 12:56:05 alek Exp $
a3 1
PKGNAME=	${DISTNAME}
@


1.10
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.9 2004/11/30 08:57:55 xsa Exp $
d4 1
a4 1
PKGNAME=	${DISTNAME}p0
d6 3
d13 1
a16 2
HOMEPAGE=	http://www.mutt.org/

d24 2
a25 1
WANTLIB=		c crypto des gssapi krb5 ssl
d33 2
a34 1
		--enable-flock --disable-fcntl \
d36 6
a41 2
		--enable-imap --enable-pop --with-ssl \
		--with-gss --sysconfdir=${CONFDIR}
d72 1
a72 1
PATCHFILES+=		patch-1.5.6.tg.hcache.11:1
a73 1
AUTOCONF_VERSION=	2.52
d77 2
a78 1
SUPDISTFILES+=		patch-1.5.6.tg.hcache.11:1
d82 1
a82 1
CONFIGURE_ARGS+= --with-homespool="${HOMESPOOL}"
@


1.9
log
@- Update to latest hcache patch;
  From: Bernd Ahlers <b.ahlers at ba-net.org>; tested by many;
- bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.8 2004/10/20 20:15:20 xsa Exp $
d22 1
d41 1
d44 1
@


1.8
log
@update the header cache patch; initially from Simon Dassow;
tested by many, Thanks! ok avsm@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.7 2004/09/25 02:10:07 brad Exp $
d4 1
d61 1
a61 1
PATCHFILES+=		patch-1.5.6.tg.hcache.9:1
d67 1
a67 1
SUPDISTFILES+=		patch-1.5.6.tg.hcache.9:1
@


1.7
log
@the BUILD_DEPENDS is redundant.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.6 2004/09/22 21:26:40 fgsch Exp $
d60 1
a60 1
PATCHFILES+=		mutt-cvs-maildir-header-cache.18:1
d66 1
a66 1
SUPDISTFILES+=		mutt-cvs-maildir-header-cache.18:1
@


1.6
log
@missing dependency; noticed by fries a bit ago.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.5 2004/08/10 09:14:48 xsa Exp $
a63 1
BUILD_DEPENDS+=		::databases/gdbm
@


1.5
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.4 2004/06/28 14:17:21 lebel Exp $
d65 1
@


1.4
log
@added support for maildir header caching via a new flavour, named "hcache" in
the snapshot release of mutt.

For more info, see http://wwwcip.informatik.uni-erlangen.de/~sithglan/mutt/.

Thanks to Bernd Ahlers <b.ahlers AT ba-net.org> for the work.
(henning@@ can spare me the 20 hours marathon of humppa now that this is in :))
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.3 2004/04/06 12:43:46 brad Exp $
d14 1
a14 1
MODULES=	gettext
@


1.3
log
@man page path fixups.
--
From: Robert Nagy <thuglife at bsd dot hu>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.2 2004/02/24 19:48:16 naddy Exp $
d10 1
d22 1
a22 1
FLAVORS=	slang mixmaster compressed
d37 2
a38 2
LIB_DEPENDS+=	slang.14::devel/libslang
CONFIGURE_ARGS+= --with-slang="${PREFIX}"
d40 1
a40 1
CONFIGURE_ARGS+= --with-curses
d46 4
a49 4
PATCHFILES+=	patch-${VERSION}.rr.compressed.1.gz:0
PATCH_DIST_STRIP=-p1
CONFIGURE_ARGS+= --enable-compressed
CONFIGURE_STYLE+= automake
d51 1
a51 1
SUPDISTFILES+=	patch-${VERSION}.rr.compressed.1.gz:0
d55 12
a66 2
CONFIGURE_ARGS+=       --with-mixmaster="${LOCALBASE}/sbin/mixmaster"
RUN_DEPENDS+=          ::mail/mixmaster
d74 1
a74 1
CONFIGURE_ARGS+= --with-domain="${DOMAIN}"
@


1.2
log
@remove workaround for gcc2.95/sparc64 optimizer bug: sha1.c compiles fine now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.1 2004/02/19 20:42:05 brad Exp $
d78 2
@


1.1
log
@common pieces here, pretty much everything.
@
text
@d1 1
a1 1
# $OpenBSD$
a22 5

# XXX workaround sparc64 gcc optimization bug
.if ${MACHINE_ARCH:Msparc64}
PATCH_LIST=     gcc-* patch-*
.endif
@

