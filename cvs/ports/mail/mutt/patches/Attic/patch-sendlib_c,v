head	1.2;
access;
symbols
	OPENBSD_5_8:1.1.0.6
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.09.03.20.41.57;	author sthen;	state dead;
branches;
next	1.1;
commitid	KH9IKzgbRT9UwWpV;

1.1
date	2014.12.13.22.55.24;	author sthen;	state Exp;
branches;
next	;
commitid	nPXFAra9ujeUpOXP;


desc
@@


1.2
log
@update to mutt-1.5.24 (requiring the various optional patchsets, sidebar
etc to be modified), remove some port patches which are un/no-longer
necessary, and avoid depending on autoconf/automake except in those
cases where optional patchsets touch the Makefiles and require auto*
to be regenerated.
@
text
@$OpenBSD: patch-sendlib_c,v 1.1 2014/12/13 22:55:24 sthen Exp $

debian #771674

--- sendlib.c.orig	Sat Dec 13 22:49:40 2014
+++ sendlib.c	Sat Dec 13 22:51:10 2014
@@@@ -1814,7 +1814,12 @@@@ static int write_one_header (FILE *fp, int pfxw, int m
     {
       tagbuf = mutt_substrdup (start, t);
       /* skip over the colon separating the header field name and value */
-      t = skip_email_wsp(t + 1);
+      ++t;
+
+      /* skip over any leading whitespace (WSP, as defined in RFC5322) */
+      while (*t == ' ' || *t == '\t')
+        t++;
+
       valbuf = mutt_substrdup (t, end);
     }
     dprint(4,(debugfile,"mwoh: buf[%s%s] too long, "
@


1.1
log
@fix bug introduced in mutt's last bugfix commit (spurious , added after headers)
@
text
@d1 1
a1 1
$OpenBSD$
@

