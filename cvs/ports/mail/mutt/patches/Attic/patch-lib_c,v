head	1.2;
access;
symbols
	OPENBSD_5_8:1.1.0.6
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.09.03.20.41.57;	author sthen;	state dead;
branches;
next	1.1;
commitid	KH9IKzgbRT9UwWpV;

1.1
date	2014.12.01.17.55.24;	author sthen;	state Exp;
branches;
next	;
commitid	9FZzUs4YdyBaV1A2;


desc
@@


1.2
log
@update to mutt-1.5.24 (requiring the various optional patchsets, sidebar
etc to be modified), remove some port patches which are un/no-longer
necessary, and avoid depending on autoconf/automake except in those
cases where optional patchsets touch the Makefiles and require auto*
to be regenerated.
@
text
@$OpenBSD: patch-lib_c,v 1.1 2014/12/01 17:55:24 sthen Exp $

http://dev.mutt.org/trac/ticket/3716 ->
http://anonscm.debian.org/cgit/pkg-mutt/mutt.git/diff/debian/patches/upstream/771125-CVE-2014-9116-jessie.patch

--- lib.c.orig	Mon Dec  1 17:15:50 2014
+++ lib.c	Mon Dec  1 17:16:14 2014
@@@@ -815,6 +815,9 @@@@ char *mutt_substrdup (const char *begin, const char *e
   size_t len;
   char *p;
 
+  if (end != NULL && end < begin)
+    return NULL;
+
   if (end)
     len = end - begin;
   else
@


1.1
log
@add crash fix to mutt, "Somewhat corrupted mail headers can cause mutt to call
mutt_substrdup with begin end, which leads to crash" - found by american fuzzy
lop. Fix from debian though not committed upstream yet so this may change later.
Requested by "Kenta S."
@
text
@d1 1
a1 1
$OpenBSD$
@

