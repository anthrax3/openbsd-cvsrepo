head	1.98;
access;
symbols
	OPENBSD_6_1:1.91.0.2
	OPENBSD_6_1_BASE:1.91
	OPENBSD_6_0:1.78.0.2
	OPENBSD_6_0_BASE:1.78
	OPENBSD_5_9:1.73.0.2
	OPENBSD_5_9_BASE:1.73
	OPENBSD_5_8:1.66.0.6
	OPENBSD_5_8_BASE:1.66
	OPENBSD_5_7:1.66.0.2
	OPENBSD_5_7_BASE:1.66
	OPENBSD_5_6:1.60.0.2
	OPENBSD_5_6_BASE:1.60
	OPENBSD_5_5:1.58.0.2
	OPENBSD_5_5_BASE:1.58
	OPENBSD_5_4:1.57.0.16
	OPENBSD_5_4_BASE:1.57
	OPENBSD_5_3:1.57.0.14
	OPENBSD_5_3_BASE:1.57
	OPENBSD_5_2:1.57.0.12
	OPENBSD_5_2_BASE:1.57
	OPENBSD_5_1_BASE:1.57
	OPENBSD_5_1:1.57.0.10
	OPENBSD_5_0:1.57.0.8
	OPENBSD_5_0_BASE:1.57
	OPENBSD_4_9:1.57.0.6
	OPENBSD_4_9_BASE:1.57
	OPENBSD_4_8:1.57.0.4
	OPENBSD_4_8_BASE:1.57
	OPENBSD_4_7:1.57.0.2
	OPENBSD_4_7_BASE:1.57
	OPENBSD_4_6:1.55.0.10
	OPENBSD_4_6_BASE:1.55
	OPENBSD_4_5:1.55.0.8
	OPENBSD_4_5_BASE:1.55
	OPENBSD_4_4:1.55.0.6
	OPENBSD_4_4_BASE:1.55
	OPENBSD_4_3:1.55.0.4
	OPENBSD_4_3_BASE:1.55
	OPENBSD_4_2:1.55.0.2
	OPENBSD_4_2_BASE:1.55
	OPENBSD_4_1:1.51.0.10
	OPENBSD_4_1_BASE:1.51
	OPENBSD_4_0:1.51.0.8
	OPENBSD_4_0_BASE:1.51
	OPENBSD_3_9:1.51.0.6
	OPENBSD_3_9_BASE:1.51
	OPENBSD_3_8:1.51.0.4
	OPENBSD_3_8_BASE:1.51
	OPENBSD_3_7:1.51.0.2
	OPENBSD_3_7_BASE:1.51
	OPENBSD_3_6:1.50.0.6
	OPENBSD_3_6_BASE:1.50
	OPENBSD_3_5:1.50.0.4
	OPENBSD_3_5_BASE:1.50
	OPENBSD_3_4:1.50.0.2
	OPENBSD_3_4_BASE:1.50
	OPENBSD_3_3:1.49.0.6
	OPENBSD_3_3_BASE:1.49
	OPENBSD_3_2:1.49.0.4
	OPENBSD_3_2_BASE:1.49
	OPENBSD_3_1:1.49.0.2
	OPENBSD_3_1_BASE:1.49
	OPENBSD_3_0:1.48.0.2
	OPENBSD_3_0_BASE:1.48
	OPENBSD_2_9_TRACKING_SWITCH:1.46
	OPENBSD_2_9:1.43.0.2
	OPENBSD_2_9_BASE:1.43
	OPENBSD_2_8:1.42.0.2
	OPENBSD_2_8_BASE:1.42
	OPENBSD_2_7:1.29.0.2
	OPENBSD_2_7_BASE:1.29
	OPENBSD_2_6:1.17.0.2
	OPENBSD_2_6_BASE:1.17
	OPENBSD_2_5:1.13.0.2
	OPENBSD_2_5_BASE:1.13
	turan_1998-Nov-18:1.1.1.1
	turan:1.1.1;
locks; strict;
comment	@# @;


1.98
date	2017.09.04.16.48.37;	author sthen;	state Exp;
branches;
next	1.97;
commitid	jYWmvdc9EATiAtES;

1.97
date	2017.08.22.18.03.52;	author tj;	state Exp;
branches;
next	1.96;
commitid	AXZik13A7f5WN0gs;

1.96
date	2017.05.30.21.21.47;	author sthen;	state Exp;
branches;
next	1.95;
commitid	7RGqDbxw7vCi5fay;

1.95
date	2017.04.21.08.08.44;	author sthen;	state Exp;
branches;
next	1.94;
commitid	Yvgfc6fPxMTpnOsk;

1.94
date	2017.04.19.08.19.02;	author sthen;	state Exp;
branches;
next	1.93;
commitid	Zqm211h9540dffjb;

1.93
date	2017.04.14.14.17.58;	author sthen;	state Exp;
branches;
next	1.92;
commitid	o4BoE0Ysi6LeZMN4;

1.92
date	2017.04.12.15.59.08;	author sthen;	state Exp;
branches;
next	1.91;
commitid	Uyuow8qiJ40G9WUF;

1.91
date	2017.02.25.10.53.14;	author sthen;	state Exp;
branches;
next	1.90;
commitid	so9H85zpIVrMGREG;

1.90
date	2017.01.20.12.03.43;	author sthen;	state Exp;
branches;
next	1.89;
commitid	tUixp0rFR8QGnIuQ;

1.89
date	2016.12.05.12.06.51;	author sthen;	state Exp;
branches;
next	1.88;
commitid	ofyD4c47zEXI6GG4;

1.88
date	2016.10.18.11.33.26;	author sthen;	state Exp;
branches;
next	1.87;
commitid	jZIEWgBO4K7EnWHl;

1.87
date	2016.09.19.22.33.53;	author sthen;	state Exp;
branches;
next	1.86;
commitid	zkBIdv4etTN0V3s6;

1.86
date	2016.09.19.21.13.25;	author jca;	state Exp;
branches;
next	1.85;
commitid	Im83Cx0srbuzC847;

1.85
date	2016.09.19.08.24.28;	author sthen;	state Exp;
branches;
next	1.84;
commitid	VEMsQfxNg2rxC3dV;

1.84
date	2016.09.16.10.54.56;	author sthen;	state Exp;
branches;
next	1.83;
commitid	uH7wI3hVp7Ba0qKA;

1.83
date	2016.09.16.10.47.22;	author sthen;	state Exp;
branches;
next	1.82;
commitid	NWAhBrxiFZe1cfkn;

1.82
date	2016.09.16.07.53.44;	author giovanni;	state Exp;
branches;
next	1.81;
commitid	XULmE6K0gWtf75pi;

1.81
date	2016.09.01.17.33.40;	author sthen;	state Exp;
branches;
next	1.80;
commitid	etfUybT7vLthsUnN;

1.80
date	2016.08.19.22.47.55;	author sthen;	state Exp;
branches;
next	1.79;
commitid	geW6xy2VOR2RlBk5;

1.79
date	2016.08.18.22.41.55;	author sthen;	state Exp;
branches;
next	1.78;
commitid	gnrUqXx2FMSWHzjp;

1.78
date	2016.07.07.07.27.24;	author sthen;	state Exp;
branches;
next	1.77;
commitid	QA4muGkcib2rqERE;

1.77
date	2016.05.01.13.43.00;	author sthen;	state Exp;
branches;
next	1.76;
commitid	IU4nOramZFIlYS0t;

1.76
date	2016.04.06.19.10.18;	author sthen;	state Exp;
branches;
next	1.75;
commitid	Tb9oF36v2WtBw2Un;

1.75
date	2016.04.06.17.36.09;	author sthen;	state Exp;
branches;
next	1.74;
commitid	eBra3XKFZgRyG0n2;

1.74
date	2016.04.04.14.55.36;	author sthen;	state Exp;
branches;
next	1.73;
commitid	9bCANb6niAcVaqs3;

1.73
date	2016.01.27.11.10.00;	author tb;	state Exp;
branches;
next	1.72;
commitid	iPo0DIHKJCRWaxq0;

1.72
date	2016.01.17.14.13.41;	author sthen;	state Exp;
branches;
next	1.71;
commitid	JVilYppYElFFxV8m;

1.71
date	2015.12.29.21.44.33;	author sthen;	state Exp;
branches;
next	1.70;
commitid	Y0tCwDXxZUj5deC6;

1.70
date	2015.12.19.00.33.46;	author sthen;	state Exp;
branches;
next	1.69;
commitid	cDIr7cvp5TaqJRlP;

1.69
date	2015.12.09.00.03.10;	author sthen;	state Exp;
branches;
next	1.68;
commitid	sNaAMU4vnAMXwRJw;

1.68
date	2015.09.09.18.39.40;	author sthen;	state Exp;
branches;
next	1.67;
commitid	KwFVcIhrtHhXGPmv;

1.67
date	2015.09.03.20.41.57;	author sthen;	state Exp;
branches;
next	1.66;
commitid	KH9IKzgbRT9UwWpV;

1.66
date	2014.12.13.22.55.24;	author sthen;	state Exp;
branches;
next	1.65;
commitid	nPXFAra9ujeUpOXP;

1.65
date	2014.12.01.17.55.24;	author sthen;	state Exp;
branches;
next	1.64;
commitid	9FZzUs4YdyBaV1A2;

1.64
date	2014.10.20.23.53.42;	author sthen;	state Exp;
branches;
next	1.63;
commitid	NJXb7elIyTaNyssa;

1.63
date	2014.09.17.12.50.38;	author sthen;	state Exp;
branches;
next	1.62;
commitid	QTfhqRrgv5wNm7oW;

1.62
date	2014.09.08.22.36.22;	author sthen;	state Exp;
branches;
next	1.61;
commitid	xv7vkjldMZUK7l6f;

1.61
date	2014.08.27.06.58.00;	author ajacoutot;	state Exp;
branches;
next	1.60;
commitid	LV57HYD4QXzcqbWn;

1.60
date	2014.06.29.10.28.56;	author sthen;	state Exp;
branches;
next	1.59;
commitid	x9gJ3DShzVtOi1lK;

1.59
date	2014.05.13.14.27.53;	author sthen;	state Exp;
branches;
next	1.58;

1.58
date	2013.10.14.22.09.47;	author juanfra;	state Exp;
branches;
next	1.57;

1.57
date	2010.02.01.17.00.13;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2009.10.14.15.45.47;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2007.07.26.14.38.24;	author todd;	state Exp;
branches;
next	1.54;

1.54
date	2007.07.19.00.19.28;	author todd;	state Exp;
branches;
next	1.53;

1.53
date	2007.06.24.16.01.21;	author steven;	state Exp;
branches;
next	1.52;

1.52
date	2007.06.21.17.26.29;	author bernd;	state Exp;
branches;
next	1.51;

1.51
date	2005.02.19.15.42.58;	author sturm;	state Exp;
branches;
next	1.50;

1.50
date	2003.07.11.17.57.10;	author pvalchev;	state Exp;
branches;
next	1.49;

1.49
date	2002.01.23.19.01.28;	author lebel;	state Exp;
branches;
next	1.48;

1.48
date	2001.10.06.02.47.46;	author lebel;	state Exp;
branches;
next	1.47;

1.47
date	2001.08.20.19.45.00;	author lebel;	state Exp;
branches;
next	1.46;

1.46
date	2001.08.03.14.59.19;	author fgsch;	state Exp;
branches;
next	1.45;

1.45
date	2001.05.27.21.30.29;	author lebel;	state Exp;
branches;
next	1.44;

1.44
date	2001.05.18.00.57.29;	author naddy;	state Exp;
branches;
next	1.43;

1.43
date	2001.04.19.22.26.31;	author brad;	state Exp;
branches
	1.43.2.1;
next	1.42;

1.42
date	2000.10.16.13.30.33;	author fgsch;	state Exp;
branches;
next	1.41;

1.41
date	2000.09.06.05.48.48;	author brad;	state Exp;
branches;
next	1.40;

1.40
date	2000.08.12.13.29.55;	author brad;	state Exp;
branches;
next	1.39;

1.39
date	2000.08.04.17.55.26;	author brad;	state Exp;
branches;
next	1.38;

1.38
date	2000.07.29.11.15.24;	author brad;	state Exp;
branches;
next	1.37;

1.37
date	2000.07.27.22.27.59;	author brad;	state Exp;
branches;
next	1.36;

1.36
date	2000.07.22.23.51.19;	author brad;	state Exp;
branches;
next	1.35;

1.35
date	2000.07.11.07.15.00;	author brad;	state Exp;
branches;
next	1.34;

1.34
date	2000.07.08.08.55.59;	author fgsch;	state Exp;
branches;
next	1.33;

1.33
date	2000.07.08.08.45.36;	author fgsch;	state Exp;
branches;
next	1.32;

1.32
date	2000.07.04.04.23.36;	author fgsch;	state Exp;
branches;
next	1.31;

1.31
date	2000.06.29.23.18.10;	author fgsch;	state Exp;
branches;
next	1.30;

1.30
date	2000.06.28.22.28.20;	author fgsch;	state Exp;
branches;
next	1.29;

1.29
date	2000.04.01.23.33.03;	author espie;	state Exp;
branches
	1.29.2.1;
next	1.28;

1.28
date	2000.03.24.23.28.16;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2000.03.05.18.30.33;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2000.03.04.23.01.21;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2000.02.15.05.04.41;	author turan;	state Exp;
branches;
next	1.24;

1.24
date	2000.02.12.08.02.23;	author turan;	state Exp;
branches;
next	1.23;

1.23
date	2000.02.09.01.11.42;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2000.02.05.22.48.46;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2000.01.21.16.39.36;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2000.01.13.21.59.23;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2000.01.13.04.35.59;	author kevlo;	state Exp;
branches;
next	1.18;

1.18
date	99.11.03.01.10.37;	author turan;	state Exp;
branches;
next	1.17;

1.17
date	99.09.10.09.50.17;	author turan;	state Exp;
branches;
next	1.16;

1.16
date	99.07.15.02.42.28;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	99.05.07.05.31.56;	author turan;	state Exp;
branches;
next	1.14;

1.14
date	99.04.28.23.50.02;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	99.04.02.00.37.50;	author turan;	state Exp;
branches;
next	1.12;

1.12
date	99.03.29.19.47.46;	author turan;	state Exp;
branches;
next	1.11;

1.11
date	99.03.29.19.17.24;	author turan;	state Exp;
branches;
next	1.10;

1.10
date	99.03.05.11.53.57;	author turan;	state Exp;
branches;
next	1.9;

1.9
date	99.02.16.07.09.38;	author turan;	state Exp;
branches;
next	1.8;

1.8
date	99.01.12.05.07.16;	author turan;	state Exp;
branches;
next	1.7;

1.7
date	99.01.11.02.40.05;	author marc;	state Exp;
branches;
next	1.6;

1.6
date	99.01.09.15.24.24;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	99.01.04.06.33.47;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	98.12.16.21.51.29;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.12.16.20.08.42;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.11.20.05.19.43;	author turan;	state Exp;
branches;
next	1.1;

1.1
date	98.11.19.03.16.33;	author turan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.11.19.03.16.33;	author turan;	state Exp;
branches;
next	;

1.29.2.1
date	2000.09.15.05.01.43;	author marc;	state Exp;
branches;
next	;

1.43.2.1
date	2002.01.02.22.32.07;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.98
log
@update to mutt-1.9.0
@
text
@# $OpenBSD: Makefile,v 1.97 2017/08/22 18:03:52 tj Exp $

COMMENT=	tty-based e-mail client

DISTNAME=	mutt-1.9.0
EPOCH=		3

CATEGORIES=	mail
HOMEPAGE=	http://www.mutt.org/

MAINTAINER=	Stuart Henderson <sthen@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

# uses pledge()
WANTLIB+=	c crypto iconv idn intl qdbm ssl z

MASTER_SITES=	http://ftp.mutt.org/pub/mutt/ \
		https://ftp.osuosl.org/pub/mutt/ \
		https://bitbucket.org/mutt/mutt/downloads/ \
		ftp://ftp.mutt.org/pub/mutt/

LIB_DEPENDS=	databases/qdbm \
		devel/gettext \
		devel/libidn
BUILD_DEPENDS+=	textproc/docbook-xsl \
		www/lynx

FLAVORS=	gpgme sasl slang
FLAVOR?=

CONFIGURE_STYLE=  gnu

FLAVOR_COMMA=	${FLAVOR_EXT:S/-/,/g}
SUBST_VARS=	FLAVOR_COMMA

CONFIGURE_ARGS+= --enable-compressed \
		--enable-external_dotlock \
		--disable-fcntl \
		--enable-flock \
		--enable-hcache \
		--with-idn \
		--enable-imap \
		--enable-pop \
		--enable-sidebar \
		--enable-smtp \
		--mandir=${PREFIX}/man \
		--without-gdbm \
		--without-tokyocabinet \
		--with-qdbm \
		--with-docdir="${PREFIX}/share/doc/mutt" \
		--with-ssl
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		ISPELL="${LOCALBASE}/bin/ispell"
SYSCONFDIR=	${BASESYSCONFDIR}/mutt
FAKE_FLAGS=	sysconfdir="${PREFIX}/share/examples/mutt"

.if defined(DEBUG)
CONFIGURE_ARGS+=	--enable-debug
.endif

## standard flavours:

.if ${FLAVOR:Mgpgme}
CONFIGURE_ARGS+= --enable-gpgme
LIB_DEPENDS+=	security/gpgme
WANTLIB+=	assuan gpg-error gpgme
.endif

.if ${FLAVOR:Msasl}
CONFIGURE_ARGS+= --with-sasl=${LOCALBASE}
LIB_DEPENDS+=	security/cyrus-sasl2
WANTLIB+=	sasl2
.endif

.if ${FLAVOR:Mslang}
CONFIGURE_ARGS+= --with-slang="${PREFIX}"
LIB_DEPENDS+=	devel/libslang
WANTLIB+=	m termlib slang>=14
.else
CONFIGURE_ARGS+= --with-curses
WANTLIB+=	ncurses
.endif

post-install:
	@@mv -f ${PREFIX}/share/doc/mutt/samples/* ${PREFIX}/share/examples/mutt
	@@perl -pi -e "s,/usr/bin/gpg,${LOCALBASE}/bin/gpg," \
		${PREFIX}/share/examples/mutt/gpg.rc

.include <bsd.port.mk>
@


1.97
log
@prioritize https over http/ftp for distfiles.

ok aja jasper for gnome, aja for gnutls, giovanni for gimp, sthen for the rest
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2017/05/30 21:21:47 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.8.3
@


1.96
log
@update to mutt-1.8.3, "This is a bug-fix release. Of note to Gmail users
is a potential crash fix when copy/moving messages to its Trash folder."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2017/04/21 08:08:44 sthen Exp $
d20 1
@


1.95
log
@Actually build sidebar, as was intended in r1.88. Pointed out by Piotr Kubaj.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2017/04/19 08:19:02 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.8.2
a6 1
REVISION=	0
@


1.94
log
@update to mutt-1.8.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2017/04/14 14:17:58 sthen Exp $
d7 1
d46 1
@


1.93
log
@update to mutt-1.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2017/04/12 15:59:08 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.8.1
@


1.92
log
@enable compressed folders (now that it's in the main mutt release and not
done as a third-party patch). requested by isdtor at gmail/com
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2017/02/25 10:53:14 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.8.0
a6 1
REVISION=	0
@


1.91
log
@update to mutt-1.8.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2017/01/20 12:03:43 sthen Exp $
d7 1
d38 2
a39 1
CONFIGURE_ARGS+= --enable-external_dotlock \
@


1.90
log
@Mutt has its own ssl-cert-checking code rather than deferring to
(open|libre)ssl, which didn't handle alt chains. Backport an upstream
commit which changes to using SSL_set_verify + callback. Neomutt already
has the newer code so wasn't affected.

Problem connecting to imap.gmail.com reported by krw.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2016/12/05 12:06:51 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.7.2
a6 1
REVISION=	0
@


1.89
log
@update to mutt-1.7.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2016/10/18 11:33:26 sthen Exp $
d7 1
@


1.88
log
@update the main mutt port to 1.7.1, removing flavours:

sidebar - now in the main release (if you use this and your old configuration
doesn't work, review /usr/local/share/examples/mutt/sample.muttrc-sidebar)

compressed folders - use mail/neomutt if you want this
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2016/09/19 22:33:53 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.7.1
@


1.87
log
@backout to mutt-1.6.2 again.

people who reported crashes: please get backtraces.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2016/08/19 22:47:55 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.6.2
a21 4
MASTER_SITES1=	http://lunar-linux.org/~tchan/mutt/
MASTER_SITES2=	http://spacehopper.org/mutt/
DIST_SUBDIR=	mutt
PATCH_DIST_STRIP= -p1
d29 1
a29 1
FLAVORS=	compressed gpgme sasl sidebar slang
a81 42
.endif

# third party patches

# N.B. In general we would like to avoid additional patches here, they
# frequently cause problems at update time. If you have a favourite patch
# that you would like to see added, please engage with Mutt upstream
# to talk about getting it imported directly instead. You can of course
# patch locally :-)

# If there are conflicts when updating mutt, check to see if gentoo have
# already fixed: http://prefix.gentooexperimental.org:8000/mutt-patches

# sidebar patch (not good, but people seem to like it...)
DIST_SIDEBAR=	sidebar-1.6.0.diff.gz:2
SUPDISTFILES+=	${DIST_SIDEBAR}
.if ${FLAVOR:Msidebar}
PATCHFILES+=	${DIST_SIDEBAR}
.endif

# compressed folders patch http://www.spinnaker.de/mutt/compressed/
DIST_COMPR=	compressed-1.6.0.diff.gz:2
SUPDISTFILES+=	${DIST_COMPR}
.if ${FLAVOR:Mcompressed}
PATCHFILES+=	${DIST_COMPR}
CONFIGURE_ARGS+= --enable-compressed
.endif

# trashfolder, http://cedricduval.free.fr/mutt/patches/
# enabled unconditionally, it's not *too* intrusive (additional flavours
# mean a big increase in ports testing required).
PATCHFILES+=	trashfolder-1.6.0.diff.gz:2

.if ${FLAVOR:Msidebar} || ${FLAVOR:Mcompressed}
AUTOCONF_VERSION= 2.69
AUTOMAKE_VERSION= 1.15
BUILD_DEPENDS+=	${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}

post-patch:
	cd ${WRKSRC}; AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} autoreconf --install
@


1.86
log
@Fix packaging.

It looks README.notmuch isn't installed anymore, maybe a change in the
handling of --disable-notmuch.  Quick fix for now.

Spotted by Markus Lude, PLIST diff from Rafael Sadowski.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2016/09/19 08:24:28 sthen Exp $
d5 2
a6 5
D=		20160916
DISTNAME=	neomutt-$D
PKGNAME=	mutt-1.7.0.$D
EPOCH=		2
REVISION=	0
d19 5
a23 1
MASTER_SITES=	https://github.com/neomutt/neomutt/releases/download/neomutt-$D/
d33 1
a33 1
FLAVORS=	gpgme sasl slang
d36 1
a36 1
CONFIGURE_STYLE= gnu
a42 1
		--enable-compressed \
a44 2
		--disable-notmuch \
		--enable-sidebar \
a48 1
		--enable-nntp \
d86 42
@


1.85
log
@update to neomutt-20160916
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2016/09/16 10:54:56 sthen Exp $
d9 1
@


1.84
log
@backout to 20160827; the newer code is crashing:
https://github.com/neomutt/neomutt/issues/147
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2016/09/01 17:33:40 sthen Exp $
d5 1
a5 1
D=		20160827
d7 1
a7 1
PKGNAME=	mutt-1.7.0.20160827
a34 1
SEPARATE_BUILD=	 Yes
@


1.83
log
@use SEPARATE_BUILD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2016/09/16 07:53:44 giovanni Exp $
d5 1
a5 1
D=		20160910
d7 2
a8 2
PKGNAME=	mutt-1.7.0.$D
EPOCH=		1
@


1.82
log
@update to 20160910 version
ok sthen@@ (Maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2016/09/01 17:33:40 sthen Exp $
d34 2
a35 1
CONFIGURE_STYLE=  gnu
@


1.81
log
@Switch the mutt port to using the 20160827 NeoMutt sources based on 1.7.0.
Most of the flavours are now integrated in the main package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2016/08/19 22:47:55 sthen Exp $
d5 1
a5 1
D=		20160827
d7 1
a7 1
PKGNAME=	mutt-1.7.0.20160827
@


1.80
log
@backout mutt update, as spotted by kili the compressed folders patch doesn't
apply, it's going to need more work than i have time for at the moment to
merge (i hate these external patchsets...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2016/07/07 07:27:24 sthen Exp $
d5 3
a7 1
DISTNAME=	mutt-1.6.2
d21 1
a21 5
MASTER_SITES=	http://ftp.mutt.org/pub/mutt/ \
		https://bitbucket.org/mutt/mutt/downloads/ \
		ftp://ftp.mutt.org/pub/mutt/
MASTER_SITES1=	http://lunar-linux.org/~tchan/mutt/
MASTER_SITES2=	http://spacehopper.org/mutt/
d31 1
a31 1
FLAVORS=	compressed gpgme sasl sidebar slang
d41 1
d44 2
d50 1
a87 42
.endif

# third party patches

# N.B. In general we would like to avoid additional patches here, they
# frequently cause problems at update time. If you have a favourite patch
# that you would like to see added, please engage with Mutt upstream
# to talk about getting it imported directly instead. You can of course
# patch locally :-)

# If there are conflicts when updating mutt, check to see if gentoo have
# already fixed: http://prefix.gentooexperimental.org:8000/mutt-patches

# sidebar patch (not good, but people seem to like it...)
DIST_SIDEBAR=	sidebar-1.6.0.diff.gz:2
SUPDISTFILES+=	${DIST_SIDEBAR}
.if ${FLAVOR:Msidebar}
PATCHFILES+=	${DIST_SIDEBAR}
.endif

# compressed folders patch http://www.spinnaker.de/mutt/compressed/
DIST_COMPR=	compressed-1.6.0.diff.gz:2
SUPDISTFILES+=	${DIST_COMPR}
.if ${FLAVOR:Mcompressed}
PATCHFILES+=	${DIST_COMPR}
CONFIGURE_ARGS+= --enable-compressed
.endif

# trashfolder, http://cedricduval.free.fr/mutt/patches/
# enabled unconditionally, it's not *too* intrusive (additional flavours
# mean a big increase in ports testing required).
PATCHFILES+=	trashfolder-1.6.0.diff.gz:2

.if ${FLAVOR:Msidebar} || ${FLAVOR:Mcompressed}
AUTOCONF_VERSION= 2.69
AUTOMAKE_VERSION= 1.15
BUILD_DEPENDS+=	${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}

post-patch:
	cd ${WRKSRC}; AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} autoreconf --install
@


1.79
log
@update to Mutt 1.7.0, remove flavour for sidebar
@
text
@d5 2
a6 2
DISTNAME=	mutt-1.7.0
EPOCH=		0
d22 2
a23 1
MASTER_SITES0=	http://spacehopper.org/mutt/
d33 1
a33 1
FLAVORS=	compressed gpgme sasl slang
a41 1
		--enable-sidebar \
d99 7
d107 1
a107 1
DIST_COMPR=	compressed-1.6.0.diff.gz:0
d112 6
d119 1
@


1.78
log
@bugfix update to mutt-1.6.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2016/05/01 13:43:00 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.6.2
d22 1
a22 2
MASTER_SITES1=	http://lunar-linux.org/~tchan/mutt/
MASTER_SITES2=	http://spacehopper.org/mutt/
d32 1
a32 1
FLAVORS=	compressed gpgme sasl sidebar slang
d41 1
a98 7
# sidebar patch (not good, but people seem to like it...)
DIST_SIDEBAR=	sidebar-1.6.0.diff.gz:2
SUPDISTFILES+=	${DIST_SIDEBAR}
.if ${FLAVOR:Msidebar}
PATCHFILES+=	${DIST_SIDEBAR}
.endif

d100 1
a100 1
DIST_COMPR=	compressed-1.6.0.diff.gz:2
a104 6
.endif

# trashfolder, http://cedricduval.free.fr/mutt/patches/
# enabled unconditionally, it's not *too* intrusive (additional flavours
# mean a big increase in ports testing required).
PATCHFILES+=	trashfolder-1.6.0.diff.gz:2
a105 1
.if ${FLAVOR:Msidebar} || ${FLAVOR:Mcompressed}
@


1.77
log
@update to mutt-1.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2016/04/06 19:10:18 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.6.1
@


1.76
log
@drop gettext-tools dep, it's only needed for builds from an hg checkout,
the files are pregenerated in tarballs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2016/04/06 17:36:09 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.6.0
a6 1
REVISION=	0
@


1.75
log
@MODULES->LIB_DEPENDS on devel/gettext, add RDEP on devel/gettext-tools
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2016/04/04 14:55:36 sthen Exp $
d31 1
a31 2
BUILD_DEPENDS+=	devel/gettext-tools \
		textproc/docbook-xsl \
@


1.74
log
@update to mutt-1.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2016/01/27 11:10:00 tb Exp $
d7 1
d18 1
a18 1
WANTLIB+=	c crypto idn qdbm ssl z
a27 2
MODULES=	devel/gettext

d29 1
d31 2
a32 1
BUILD_DEPENDS+=	textproc/docbook-xsl \
@


1.73
log
@Add missing sendfd and recvfd pledges for the gpgme flavor.
Reported by Andreas Kusalananda Kahari, thanks!

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2016/01/17 14:13:41 sthen Exp $
d5 1
a5 2
DISTNAME=	mutt-1.5.24
REVISION=	5
d101 1
a101 1
DIST_SIDEBAR=	sidebar-1.5.24.diff.gz:2
d108 1
a108 1
DIST_COMPR=	compressed-1.5.24.diff.gz:2
d118 1
a118 1
PATCHFILES+=	trashfolder-1.5.24.diff.gz:2
d121 2
a122 2
AUTOCONF_VERSION= 2.65
AUTOMAKE_VERSION= 1.9
@


1.72
log
@Add an initial pledge to mutt, from tb@@. Tested so far with slang/normal,
gpgme/normal, sasl/normal, headercache on/off, and with imap/mbox/maildir.

As you'd expect with a program like this that has many configuration
options, including at runtime, the pledge is rather wide. But even so,
a wide pledge still prevents many system calls, and restricts use of
others.

Committing early to make it easier for people to test. Please do so,
especially if you have an unusual configuration. If you run into problems,
please obtain a ktrace and report back to tb@@ and myself with a description,
the last page or so of kdump output, and preferably a backtrace. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2015/12/29 21:44:33 sthen Exp $
d6 1
a6 1
REVISION=	4
@


1.71
log
@Switch Mutt back to qdbm for the header cache, tb@@ reported some problems
with the cache getting invalidated when messages were attached/detached
from threads, and since I wasn't 100% sure about tokyocabinet with a
non-UBC system this seems the best approach. We also tried gdbm (g not
q), which was slightly faster for me (but not much in it) but seems
much slower for tb@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2015/12/19 00:33:46 sthen Exp $
d6 1
a6 1
REVISION=	3
d17 1
@


1.70
log
@switch Mutt to using tokyocabinet for the header cache. (hcache is
not enabled by default; if you use it, please test and let me know if
you run into problems).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2015/12/09 00:03:10 sthen Exp $
d6 1
a6 1
REVISION=	2
d17 1
a17 1
WANTLIB+=	c crypto idn tokyocabinet ssl z
d29 1
a29 1
LIB_DEPENDS=	databases/tokyocabinet \
d52 2
@


1.69
log
@Add Mutt patch to fix hash table key "use after free" in mh_check_mailbox().
Reported by J. Scott Heppler  http://dev.mutt.org/trac/ticket/3797
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2015/09/09 18:39:40 sthen Exp $
d6 1
a6 1
REVISION=	1
d17 1
a17 1
WANTLIB+=	c crypto idn qdbm>=14 ssl z
d29 1
a29 1
LIB_DEPENDS=	databases/qdbm \
@


1.68
log
@Fix crash on 32-bit arch when using gpgme, gpgme's gpgme_subkey_t->timestamp
is an unsigned long and can't be passed directly to localtime which takes a
time_t. From Hannes Wenzel.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2015/09/03 20:41:57 sthen Exp $
d6 1
a6 1
REVISION=	0
@


1.67
log
@update to mutt-1.5.24 (requiring the various optional patchsets, sidebar
etc to be modified), remove some port patches which are un/no-longer
necessary, and avoid depending on autoconf/automake except in those
cases where optional patchsets touch the Makefiles and require auto*
to be regenerated.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2014/12/13 22:55:24 sthen Exp $
d6 1
@


1.66
log
@fix bug introduced in mutt's last bugfix commit (spurious , added after headers)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2014/12/01 17:55:24 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.5.23
a6 1
REVISION=	9
d18 3
a20 3
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=mutt/} \
		ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/ \
		ftp://ftp.mutt.org/mutt/
d36 1
a36 3
AUTOCONF_VERSION= 2.65
AUTOMAKE_VERSION= 1.9
CONFIGURE_STYLE=  autoconf
a40 2
BUILD_DEPENDS+=	${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}
d98 1
a98 1
DIST_SIDEBAR=	sidebar-1.5.22.diff1.gz:2
d105 1
a105 1
DIST_COMPR=	compressed-1.5.22.diff0.gz:2
d115 7
a121 1
PATCHFILES+=	trashfolder-1.5.22.diff0.gz:2
d124 3
a126 4
	cd ${WRKSRC}; \
	    AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
	    autoreconf --install
@


1.65
log
@add crash fix to mutt, "Somewhat corrupted mail headers can cause mutt to call
mutt_substrdup with begin end, which leads to crash" - found by american fuzzy
lop. Fix from debian though not committed upstream yet so this may change later.
Requested by "Kenta S."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2014/10/20 23:53:42 sthen Exp $
d7 1
a7 1
REVISION=	8
@


1.64
log
@add gpgme support to mutt, from Mike Burns, DESCR entry from me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2014/09/17 12:50:38 sthen Exp $
d7 1
a7 1
REVISION=	7
@


1.63
log
@remove some old flavours for mutt; idn (merged to main), mixmaster (removed).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2014/09/08 22:36:22 sthen Exp $
d7 1
a7 1
REVISION=	6
d34 1
a34 1
FLAVORS=	sasl sidebar slang compressed
d69 6
@


1.62
log
@build dep on www/lynx, problem reported by frantisek holop
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2014/08/27 06:58:00 ajacoutot Exp $
d7 1
a7 1
REVISION=	5
d17 1
a17 1
WANTLIB+=	c crypto qdbm>=14 ssl z
d29 2
a30 1
LIB_DEPENDS=	databases/qdbm
d34 1
a34 1
FLAVORS=	idn sasl sidebar slang mixmaster compressed
d50 1
a73 13
.endif

.if ${FLAVOR:Midn}
CONFIGURE_ARGS+= --with-idn
LIB_DEPENDS+=	devel/libidn
WANTLIB+=	idn>=16
.else
CONFIGURE_ARGS+= --without-idn
.endif

.if ${FLAVOR:Mmixmaster}
CONFIGURE_ARGS+= --with-mixmaster="${LOCALBASE}/sbin/mixmaster"
RUN_DEPENDS+=	mail/mixmaster
@


1.61
log
@Cope with openssl(1) move from /usr/sbin to /usr/bin

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/06/29 10:28:56 sthen Exp $
d7 1
a7 1
REVISION=	4
d30 2
a31 1
BUILD_DEPENDS+=	textproc/docbook-xsl
@


1.60
log
@in sample config, expand the list of encr algorithms for s/mime and change
default to aes256
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/05/13 14:27:53 sthen Exp $
d7 1
a7 1
REVISION=	3
@


1.59
log
@Remove old version of mutt, which is missing fixes made to the 1.5
"snapshot" branch 9 years ago (in fact the 1.4 branch has really only
received a couple of security fixes since 2002).

No naysayers, and positive feedback about the removal from ajacoutot and brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2014/04/21 18:57:49 sthen Exp $
d7 1
a7 1
REVISION=	2
@


1.58
log
@+snapshot,slang

ok sthen@@
@
text
@d1 1
a1 11
# $OpenBSD: Makefile,v 1.57 2010/02/01 17:00:13 espie Exp $ 
 
     SUBDIR =
     SUBDIR += stable
     SUBDIR += stable,compressed
     SUBDIR += snapshot
     SUBDIR += snapshot,sasl
     SUBDIR += snapshot,slang
     SUBDIR += snapshot,compressed,sidebar
     SUBDIR += snapshot,compressed,sidebar,sasl
     SUBDIR += snapshot,compressed,sidebar,sasl,slang
d3 135
a137 1
.include <bsd.port.subdir.mk>
@


1.57
log
@SUBDIR += is wrong: it means the makefile will pick up SUBDIR from env, thus
breaking cd /usr/ports && SUBDIR=some/path make something for
category makefiles. While there, also put spaces around += uniformously.
okay naddy@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/10/14 15:45:47 sthen Exp $ 
d8 1
@


1.56
log
@+snapshot,compressed,sidebar,sasl,slang

I'd like to get an slang flavour built by default and todd uses
this set of options.
@
text
@d1 3
a3 2
# $OpenBSD: Makefile,v 1.55 2007/07/26 14:38:24 todd Exp $ 

@


1.55
log
@different snapshot flavors to be built, to match actual usages
general concensus
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2007/07/19 00:19:28 todd Exp $ 
d9 1
@


1.54
log
@+snapshot,sasl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2007/06/24 16:01:21 steven Exp $ 
a5 1
     SUBDIR += snapshot,compressed
d7 2
a8 1
     SUBDIR += snapshot,sidebar
@


1.53
log
@build the sidebar flavor of mutt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2007/06/21 17:26:29 bernd Exp $ 
d7 1
@


1.52
log
@Update to mutt-1.5.16.

Initial diff and sidebar-patch hosting by Stuart Henderson. Thanks!

Enable the Maildir/POP3/IMAP header cache by default and remove
the hcache FLAVOR.

Tested by many. Corrections from simon@@.

ok simon@@, steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2005/02/19 15:42:58 sturm Exp $ 
d7 1
@


1.51
log
@add a hcache FLAVOR package, it's too good to not provide a package
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2003/07/11 17:57:10 pvalchev Exp $ 
a6 1
     SUBDIR += snapshot,hcache
@


1.50
log
@build packages with "compressed" flavors for stable/snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2002/01/23 19:01:28 lebel Exp $ 
d7 1
@


1.49
log
@naddy@@, fgsch@@ and I all agreed to remove the pop and imap
FLAVORs and intergrate them in the default install in both stable
and snapshot ports of mail/mutt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2001/10/06 02:47:46 lebel Exp $ 
d4 1
d6 1
@


1.48
log
@s/slang,imap,pop/imap,pop/, idea from naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2001/08/20 19:45:00 lebel Exp $ 
a3 1
     SUBDIR += stable,imap,pop
a4 1
     SUBDIR += snapshot,imap,pop
@


1.47
log
@We are splitting mutt into mutt/stable and mutt/snapshot.

These will be imported in a jiffy.
@
text
@d1 1
a1 1
# $OpenBSD$ 
d4 1
a4 2
     SUBDIR += stable,slang
     SUBDIR += stable,slang,imap,pop
d6 1
a6 2
     SUBDIR += snapshot,slang
     SUBDIR += snapshot,slang,imap,pop
@


1.46
log
@Add mixmaster support by Nikolay Sturm <Nikolay.Sturm@@desy.de>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2001/05/27 21:30:29 lebel Exp $
d3 6
a8 1
COMMENT=	"tty-based e-mail client"
d10 1
a10 86
DISTNAME=	mutt-1.2.5i
CATEGORIES=     mail
NEED_VERSION=	1.384
MASTER_SITES=	ftp://ftp.mutt.org/pub/mutt/ \
                ftp://ftp.gbnet.net/pub/mutt-international/ \
                ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/ \
                ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/ \
		ftp://ftp.iks-jena.de/pub/mitarb/lutz/crypt/software/pgp/mutt/

HOMEPAGE=	http://www.mutt.org/

LIB_DEPENDS=	intl.1::devel/gettext 

MAINTAINER=	Federico Schwindt <fgsch@@openbsd.org>

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

FLAVORS=	slang imap pop compressed mixmaster
FLAVOR?=

SYSCONFDIR=	/etc/mutt
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--with-sharedir="${PREFIX}/share/mutt" \
		--with-docdir="${PREFIX}/share/doc/mutt" \
		--enable-flock --disable-fcntl \
		--enable-external_dotlock
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		ISPELL="${LOCALBASE}/bin/ispell"

.if ${FLAVOR:L:Mslang}
LIB_DEPENDS+=	slang.14::devel/libslang
CONFIGURE_ARGS+= --with-slang="${PREFIX}"
.else
CONFIGURE_ARGS+= --with-curses
.endif

# compressed folder support provided by
# http://www.spinnaker.de/mutt/compressed/patch-1.2.5.rr.compressed.1.gz
.if ${FLAVOR:L:Mcompressed}
MASTER_SITES0=	http://www.spinnaker.de/mutt/compressed/
PATCHFILES+=	patch-1.2.5.rr.compressed.1.gz:0
PATCH_DIST_STRIP=-p1
CONFIGURE_ARGS+= --enable-compressed
.endif

# If you need IMAP or POP, you may want to enable those.
.if ${FLAVOR:L:Mimap}
CONFIGURE_ARGS+= --enable-imap --with-ssl
.endif

# Note: The POP3 support is there only for convenience, and it's rather
# limited.  If you need more functionality you should consider using a
# specialized program, such as fetchmail.
.if ${FLAVOR:L:Mpop}
CONFIGURE_ARGS+= --enable-pop
.endif

.if ${FLAVOR:L:Mmixmaster}
MIXMASTER=             ${LOCALBASE}/sbin/mixmaster
CONFIGURE_ARGS+=       --with-mixmaster="${MIXMASTER}"
RUN_DEPENDS+=          ${MIXMASTER}::mail/mixmaster
.endif

.if defined(HOMESPOOL)
CONFIGURE_ARGS+= --with-homespool="${HOMESPOOL}"
.endif

.if defined(DOMAIN)
CONFIGURE_ARGS+= --with-domain="${DOMAIN}"
.endif

WRKDIST=	${WRKDIR}/${DISTNAME:S/i$//}

post-install:
	@@strip ${PREFIX}/bin/mutt
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/mutt
	${INSTALL_DATA} ${WRKSRC}/Muttrc \
	 ${PREFIX}/share/examples/mutt/Muttrc.sample
	${INSTALL_DATA} ${WRKSRC}/mime.types \
	 ${PREFIX}/share/examples/mutt/mime.types.sample

.include <bsd.port.mk>
@


1.45
log
@add a new FLAVOR to mutt, "compressed" that add compressed folder support
to mutt via a patch provided by Roland Rosenfeld <roland@@spinnaker.de>,
located at http://www.spinnaker.de/mutt/compressed/.

Also, add a patch to browser.c to handle proper handling of timestamp in
folder view of Maildir forlders.

Okayed by fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2001/05/18 00:57:29 naddy Exp $
d25 1
a25 1
FLAVORS=	slang imap pop compressed
d64 6
@


1.44
log
@remove explicit curses flavor; ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2001/04/19 22:26:31 brad Exp $
d25 1
a25 1
FLAVORS=	slang imap pop
d45 9
d68 4
@


1.43
log
@- integrate COMMENT
- bump NEED_VERSION
- remove now bogus pre-fetch message
- document FLAVORs in DESCR
--
Ok'd by: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2000/10/16 13:30:33 fgsch Exp $
d25 2
a26 2
FLAVORS=	slang curses imap pop
FLAVOR?=	curses
d41 1
a41 1
.elif ${FLAVOR:L:Mcurses}
a42 3
.else
.BEGIN:
	echo "Bad choice FLAVOR=${FLAVOR}"; exit 1
@


1.43.2.1
log
@SECURITY FIX: Update to mutt 1.2.5.1. This fixes a remote exploit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2001/04/19 22:26:31 brad Exp $
d5 1
a5 1
DISTNAME=	mutt-1.2.5.1
@


1.42
log
@add real names to MAINTAINER.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.41 2000/09/06 05:48:48 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.324
a47 4
.if defined(HOMESPOOL)
CONFIGURE_ARGS+= --with-homespool="${HOMESPOOL}"
.endif

d60 4
a64 10

.if !defined(NO_WARNINGS)
pre-fetch:
	@@echo
	@@echo '**********************************************************'
	@@echo '* This software contains cryptographic enabling code.    *'
	@@echo '* It is illegal to export outside of the United States.  *'
	@@echo '**********************************************************'
	@@echo
.endif
@


1.41
log
@remove SYSCONFDIR from SUBST_VARS and SUBST_VARS too if no other variables
are listed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2000/08/12 13:29:55 brad Exp $
d16 1
a16 1
MAINTAINER=	fgsch@@openbsd.org
@


1.40
log
@use variable substitution to remove the hard coded CONFIG_DIR in the
DEINSTALL/INSTALL scripts.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2000/08/04 17:55:26 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.310
a26 2
SUBST_VARS=	SYSCONFDIR

@


1.39
log
@- move config file from lib/mutt to share/examples/mutt
- ${FOO} -> FOO in INSTALL/DEINSTALL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2000/07/29 11:15:24 brad Exp $
d27 2
@


1.38
log
@upgrade to mutt 1.2.5i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2000/07/27 22:27:59 brad Exp $
d76 5
a80 3
	${INSTALL_DATA_DIR} ${PREFIX}/lib/mutt
	${INSTALL_DATA} ${WRKSRC}/Muttrc ${PREFIX}/lib/mutt/Muttrc.sample
	${INSTALL_DATA} ${WRKSRC}/mime.types ${PREFIX}/lib/mutt/mime.types.sample
@


1.37
log
@- add optional SSL transport layer encryption for IMAP
- switch mailbox locking to flock()
- add RCS id to patch-configure
- fix offsets in patch_mbox_c
- mention IMAP support in DESCR
--
from naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2000/07/22 23:51:19 brad Exp $
d3 1
a3 1
DISTNAME=	mutt-1.2.4i
@


1.36
log
@config files should be installed in /etc/mutt, deal with this correctly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2000/07/11 07:15:00 brad Exp $
d23 2
a24 2
FLAVORS=slang curses imap pop
FLAVOR?=curses
d26 1
a27 1
SYSCONFDIR=	/etc/mutt
d30 1
a50 2
# NOTE: read mutt documentation !!! those `features' are not very
# useful, it's likely you would be better off using fetchmail...
d52 1
a52 1
CONFIGURE_ARGS+= --enable-imap
d55 3
d64 1
a65 1
.if !defined(NO_WARNINGS)
@


1.35
log
@- assume ispell is installed by default, end user can add the ispell
port/package to use it
- add missing CONFIGURE_ENV options to bring in gettext support
- add a few patches to ensure mutt does not use its own gettext headers
but the headers installed on the system instead
- remove install message from Makefile and put it into pkg/MESSAGE so it's
displayed properly once this port is made into a package
- rename one patch, patch-fix_DOTLOCK_group -> patch-configure
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2000/07/08 08:55:59 fgsch Exp $
d27 1
a27 1
SYSCONFDIR=	${PREFIX}/share/mutt
d74 3
@


1.34
log
@Add HOMEPAGE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2000/07/08 08:45:36 fgsch Exp $
d12 4
a17 2
HOMEPAGE=	http://www.mutt.org/

a25 2
LIB_DEPENDS=	intl.1::devel/gettext 

d28 6
a33 3
CONFIGURE_ARGS=	--prefix=${PREFIX} \
		--with-sharedir=${PREFIX}/share/mutt \
		--with-docdir=${PREFIX}/share/doc/mutt 
d37 1
a37 1
CONFIGURE_ARGS+=--with-slang=${PREFIX}
d39 1
a39 1
CONFIGURE_ARGS+=--with-curses
d46 1
a46 1
CONFIGURE_ARGS+= --with-homespool=${HOMESPOOL}
d49 1
a49 1
# If you need IMAP or IPOP, you may want to enable those.
d62 1
a63 1
pre-fetch:
d73 1
a73 7
	strip ${PREFIX}/bin/mutt
	@@echo 
	@@echo '************************************************************'
	@@echo ' A sample muttrc and mime.types is available in '
	@@echo ' ${PREFIX}/share/mutt/{Muttrc,mime.types}       '        
	@@echo '************************************************************'
	@@echo
@


1.33
log
@update to 1.2.4i. change default flavor to curses since we ship with it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2000/07/04 04:23:36 fgsch Exp $
d13 2
@


1.32
log
@change the maintainer to myself; ok turan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2000/06/29 23:18:10 fgsch Exp $
d3 1
a3 1
DISTNAME=	mutt-1.2.2i
d5 1
a5 1
NEED_VERSION=	1.309
d20 1
a20 1
FLAVOR?=slang
@


1.31
log
@update to 1.2.2i. remove deprecated `if defined' statements.
bump NEED_VERSION. change a few master sites.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2000/06/28 22:28:20 fgsch Exp $
d12 1
a12 1
MAINTAINER=	turan@@openbsd.org
@


1.30
log
@remove extra :. remove FAKE=yes and use CONFIGURE_STYLE.
bump NEED_VERSION. still waiting turan@@ reply for update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2000/04/01 23:33:03 espie Exp $
d3 1
a3 1
DISTNAME=	mutt-1.0.1i
d5 2
a6 3
NEED_VERSION=	1.308
MASTER_SITES=	ftp://ftp.guug.de/pub/mutt/ \
		ftp://riemann.iam.uni-bonn.de/pub/mutt/ \
d9 2
a10 1
                ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/
a19 5

.if defined(TTY_LIB)
FLAVOR?=
FLAVOR+=${TTY_LIB}
.endif
a20 6
.if defined(WITH_IMAP)
FLAVOR+=imap
.endif
.if defined(WITH_POP)
FLAVOR+=pop
.endif
a32 1

d37 1
a37 1
	@@echo "Bad choice FLAVOR=${FLAVOR}"; exit 1
@


1.29
log
@Flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2000/03/24 23:28:16 espie Exp $
d5 1
a5 1
NEED_VERSION=	 1.230
a13 1
LICENSE_TYPE=		GPL
a32 1
FAKE=		Yes
d35 1
a35 1
GNU_CONFIGURE=	Yes
d48 1
a48 1
.BEGIN::
@


1.29.2.1
log
@bring mail as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2000/08/12 13:29:55 brad Exp $
d3 1
a3 1
DISTNAME=	mutt-1.2.5i
d5 3
a7 2
NEED_VERSION=	1.310
MASTER_SITES=	ftp://ftp.mutt.org/pub/mutt/ \
d10 1
a10 2
                ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/ \
		ftp://ftp.iks-jena.de/pub/mitarb/lutz/crypt/software/pgp/mutt/
d12 1
a12 5
HOMEPAGE=	http://www.mutt.org/

LIB_DEPENDS=	intl.1::devel/gettext 

MAINTAINER=	fgsch@@openbsd.org
d14 1
d20 13
a32 2
FLAVORS=	slang curses imap pop
FLAVOR?=	curses
d34 2
a35 2
SYSCONFDIR=	/etc/mutt
SUBST_VARS=	SYSCONFDIR
d37 5
a41 8
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--with-sharedir="${PREFIX}/share/mutt" \
		--with-docdir="${PREFIX}/share/doc/mutt" \
		--enable-flock --disable-fcntl \
		--enable-external_dotlock
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		ISPELL="${LOCALBASE}/bin/ispell"
d45 2
a46 1
CONFIGURE_ARGS+= --with-slang="${PREFIX}"
d48 1
a48 1
CONFIGURE_ARGS+= --with-curses
d50 2
a51 2
.BEGIN:
	echo "Bad choice FLAVOR=${FLAVOR}"; exit 1
d55 1
a55 1
CONFIGURE_ARGS+= --with-homespool="${HOMESPOOL}"
d58 3
a60 1
# If you need IMAP or POP, you may want to enable those.
d62 1
a62 1
CONFIGURE_ARGS+= --enable-imap --with-ssl
a64 3
# Note: The POP3 support is there only for convenience, and it's rather
# limited.  If you need more functionality you should consider using a
# specialized program, such as fetchmail.
d82 7
a88 6
	@@strip ${PREFIX}/bin/mutt
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/mutt
	${INSTALL_DATA} ${WRKSRC}/Muttrc \
	 ${PREFIX}/share/examples/mutt/Muttrc.sample
	${INSTALL_DATA} ${WRKSRC}/mime.types \
	 ${PREFIX}/share/examples/mutt/mime.types.sample
@


1.28
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2000/03/05 18:30:33 espie Exp $
d20 13
a32 1
TTY_LIB?=slang
d43 2
a44 4
PKGNAME=${DISTNAME}-${TTY_LIB}

.if ${TTY_LIB:L} == "slang"
LIB_DEPENDS+=	slang.13::devel/libslang
d47 1
a47 1
.elif ${TTY_LIB:L} == "curses"
d51 1
a51 1
	@@echo "Bad choice TTY_LIB=${TTY_LIB}"; exit 1
d61 1
a61 1
.if defined(WITH_IMAP)
d65 1
a65 1
.if defined(WITH_POP)
@


1.27
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2000/03/04 23:01:21 espie Exp $
d5 1
a5 1
NEED_VERSION=	1.223
d23 1
a23 1
LIB_DEPENDS=	intl.1:devel/gettext 
d34 1
a34 1
LIB_DEPENDS+=	slang.13:devel/libslang
@


1.26
log
@Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2000/02/15 05:04:41 turan Exp $
d5 1
a21 1
NEED_VERSION=1.218
d23 1
a23 1
LIB_DEPENDS=	intl.1:${PORTSDIR}/devel/gettext 
d34 1
a34 1
LIB_DEPENDS+=	slang.13:${PORTSDIR}/devel/libslang
@


1.25
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/02/12 08:02:23 turan Exp $
d14 4
a17 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d21 2
a22 1
NEED_VERSION=1.187
@


1.24
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/02/09 01:11:42 espie Exp $
d14 4
a17 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.23
log
@Switch to WRKDIST, as I used this port to check.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/02/05 22:48:46 espie Exp $
d12 6
@


1.22
log
@Remove ld bug work-around.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/01/21 16:39:36 espie Exp $
d15 1
d18 1
a18 1
GNU_CONFIGURE=	yes
d52 1
a52 1
WRKSRC=		${WRKDIR}/${DISTNAME:S/i$//}
d56 6
a61 6
	@@${ECHO}
	@@${ECHO} '**********************************************************'
	@@${ECHO} '* This software contains cryptographic enabling code.    *'
	@@${ECHO} '* It is illegal to export outside of the United States.  *'
	@@${ECHO} '**********************************************************'
	@@${ECHO}
d66 6
a71 6
	@@${ECHO} 
	@@${ECHO} '************************************************************'
	@@${ECHO} ' A sample muttrc and mime.types is available in '
	@@${ECHO} ' ${PREFIX}/share/mutt/{Muttrc,mime.types}       '        
	@@${ECHO} '************************************************************'
	@@${ECHO}
@


1.21
log
@Update to mutt 1.0.1.

with help from David Terrell (and tests/advice from various people).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 1999/11/03 01:10:37 turan Exp $
a27 2
# work-around for ld problem with slang
CONFIGURE_ENV=LIBS=-lc
@


1.20
log
@Mark mutt as broken until someone updates to 1.0 and audits the security
fixes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/01/13 04:35:59 kevlo Exp $
d3 1
a3 2
BROKEN="Update to 1.0 needed to solve security issues"
DISTNAME=	mutt-0.95.7i
d5 1
a5 1
MASTER_SITES=	ftp://ftp.guug.de/pub/mutt/historic/ \
d7 3
a9 3
		ftp://ftp.gbnet.net/pub/mutt-international/ \
		ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/ \
		ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/ 
d13 3
a15 2
LIB_DEPENDS=	slang.13:${PORTSDIR}/devel/libslang \
		intl.1:${PORTSDIR}/devel/gettext
d19 33
a51 4
CONFIGURE_ARGS=	--prefix=/usr/local \
		--with-slang=/usr/local \
		--with-docdir=/usr/local/share/doc/mutt \
		--with-sharedir=/usr/local/share/mutt
d53 1
a53 1
WRKSRC=		${WRKDIR}/mutt-0.95.7
d55 1
a56 1
.if !defined(NO_WARNINGS)
d69 2
a70 2
	@@${ECHO} '* A sample muttrc and mime.types is available at           *'
	@@${ECHO} '* /usr/local/share/mutt/{Muttrc,mime.types}                *'
@


1.19
log
@Fix the MASTER_SITES direcotry.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 1999/11/03 01:10:37 turan Exp $
d3 1
@


1.18
log
@mutt needs a gettext depend
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 1999/09/10 09:50:17 turan Exp $
d5 1
a5 1
MASTER_SITES=	ftp://ftp.guug.de/pub/mutt/ \
@


1.17
log
@update to 0.95.7i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 1999/07/15 02:42:28 brad Exp $
d13 2
a14 1
LIB_DEPENDS=	slang.13:${PORTSDIR}/devel/libslang
@


1.16
log
@upgrade to mutt 0.95.6i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 1999/05/07 05:31:56 turan Exp $
d3 1
a3 1
DISTNAME=	mutt-0.95.6i
d22 1
a22 1
WRKSRC=		${WRKDIR}/mutt-0.95.6
@


1.15
log
@update mutt port to 0.95.5i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/04/28 23:50:02 brad Exp $
d3 1
a3 1
DISTNAME=	mutt-0.95.5i
a4 4
WRKSRC=		${WRKDIR}/mutt-0.95.5

MAINTAINER=	turan@@openbsd.org

d11 4
d22 1
a22 1
LIB_DEPENDS=	slang.1.22:${PORTSDIR}/devel/libslang
@


1.14
log
@- style fixes with Makefile
- fix patches so they are cleanly applied
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/04/02 00:37:50 turan Exp $
d3 1
a3 1
DISTNAME=	mutt-0.95.4i
d5 1
a5 1
WRKSRC=		${WRKDIR}/mutt-0.95.4
@


1.13
log
@people are confused.  these are examples.  move them to share/mutt.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/03/29 19:47:46 turan Exp $
d3 18
a20 20
DISTNAME=		mutt-0.95.4i
CATEGORIES=     	mail
WRKSRC=			${WRKDIR}/mutt-0.95.4

#MIRROR_DISTFILE=	no

MAINTAINER=		turan@@cvs.openbsd.org

MASTER_SITES=		ftp://ftp.guug.de/pub/mutt/ \
			ftp://riemann.iam.uni-bonn.de/pub/mutt/ \
			ftp://ftp.gbnet.net/pub/mutt-international/ \
			ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/ \
			ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/ 

GNU_CONFIGURE=		yes
SYSCONFDIR=		${PREFIX}/share/mutt
CONFIGURE_ARGS=		--prefix=/usr/local \
			--with-slang=/usr/local \
			--with-docdir=/usr/local/share/doc/mutt \
			--with-sharedir=/usr/local/share/mutt
d22 1
a22 1
LIB_DEPENDS=    slang.1.22:${PORTSDIR}/devel/libslang
d24 1
a25 1
pre-fetch:
@


1.12
log
@typo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/03/29 19:17:24 turan Exp $
d18 1
a18 1
SYSCONFDIR=		${PREFIX}/etc
d30 2
a31 2
	@@${ECHO} '* This software contains cryptography enabling code.  It *'
	@@${ECHO} '* is illegal to export outside of the United States.     *'
d40 2
a41 3
	@@${ECHO} '* Remember to create or update Muttrc and mime.types       *'
	@@${ECHO} '* from the Muttrc.sample and mime.types.sample files which *'
	@@${ECHO} '* have been copied into the /usr/local/etc/ directory.     *'
@


1.11
log
@move configs back to /usr/local...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/03/05 11:53:57 turan Exp $
d42 1
a42 1
	@@${ECHO} '* have been copied into the PREFIX/share/mutt directory.   *'
@


1.10
log
@update to 0.95.4i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/02/16 07:09:38 turan Exp $
d18 1
d22 1
a22 2
			--with-sharedir=/usr/local/share/mutt \

@


1.9
log
@update to 0.95.3i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/01/12 05:07:16 turan Exp $
d3 1
a3 1
DISTNAME=		mutt-0.95.3i
d5 1
a5 1
WRKSRC=			${WRKDIR}/mutt-0.95.3
@


1.8
log
@update to 0.95.1i plus fix securty hole in rfc1524.c
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/01/11 02:40:05 marc Exp $
d3 1
a3 1
DISTNAME=		mutt-0.95.1i
d5 1
a5 1
WRKSRC=			${WRKDIR}/mutt-0.95.1
@


1.7
log
@update to 0.95.1; note mktemp use in pkg/SECURITY
@
text
@d1 1
a1 7
# $OpenBSD: Makefile,v 1.6 1999/01/09 15:24:24 espie Exp $
#

# What port/package will be created
#
DISTNAME=		mutt-0.95.1
DISTFILES=		${DISTNAME}i${EXTRACT_SUFX}
d3 1
d5 1
d7 1
a7 1
MIRROR_DISTFILE=	no
d9 1
a9 3
# where to send bitches about this port
#
MAINTAINER=		turans@@umich.edu
a10 2
# where the source files and patches can be fetched
#
a16 2
# build/configuration variables
#
d18 5
a22 7
CONFIGURE_ARGS=		--enable-pop \
			--enable-imap \
			--enable-flock \
			--disable-fcntl \
			--with-slang=${PREFIX} \
			--with-docdir=${PREFIX}/share/doc/mutt \
			--sysconfdir=/etc
d28 5
a32 5
	@@${ECHO} 
	@@${ECHO} This software contains cryptography enabling code.  It is 
	@@${ECHO} illegal to export outside of the United States.  The 
	@@${ECHO} download site is set to Germany.  Once you bring it into 
	@@${ECHO} the US, it may not leave again.
@


1.6
log
@turans@@ will have to convince me this is not a wide-open security hole.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/01/04 06:33:47 marc Exp $
d6 1
a6 1
DISTNAME=		mutt-0.95
a7 1
BROKEN="Security hole"
@


1.5
log
@update to 0.95; Kenneth R Westerback <krw@@tcn.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1998/12/16 21:51:29 marc Exp $
d8 1
@


1.4
log
@sources not available
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1998/12/16 20:08:42 marc Exp $
d6 3
a8 1
DISTNAME=		mutt-0.93.2i
a10 1
BROKEN=			"new version available"
d19 5
a23 1
MASTER_SITES=		ftp://ftp.guug.de/pub/mutt/
d28 7
a34 1
CONFIGURE_ARGS=		--prefix=/usr/local --with-sharedir=/usr/local/share/mutt --with-docdir=/usr/local/share/doc/mutt --with-slang=/usr/local
d36 1
a36 2
#LIB_DEPENDS=    slang\\.0\\.99[0-9][0-9]:${PORTSDIR}/devel/libslang
LIB_DEPENDS=    slang\\.1\\.22:${PORTSDIR}/devel/libslang
d47 10
@


1.3
log
@guard build instructions with NO_WARNINGS flag
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1998/11/20 05:19:43 turan Exp $
d8 3
@


1.2
log
@update libslang depend 0.99 to 1.22
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/11/19 03:16:33 turan Exp $
d25 1
d33 1
a33 1

@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d22 2
a23 1
LIB_DEPENDS=    slang\\.0\\.99[0-9][0-9]:${PORTSDIR}/devel/libslang
@


1.1.1.1
log
@added mutt port
@
text
@@
