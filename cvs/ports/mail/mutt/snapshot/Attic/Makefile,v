head	1.84;
access;
symbols
	OPENBSD_5_5:1.80.0.2
	OPENBSD_5_5_BASE:1.80
	OPENBSD_5_4:1.77.0.2
	OPENBSD_5_4_BASE:1.77
	OPENBSD_5_3:1.72.0.2
	OPENBSD_5_3_BASE:1.72
	OPENBSD_5_2:1.70.0.4
	OPENBSD_5_2_BASE:1.70
	OPENBSD_5_1_BASE:1.70
	OPENBSD_5_1:1.70.0.2
	OPENBSD_5_0:1.69.0.2
	OPENBSD_5_0_BASE:1.69
	OPENBSD_4_9:1.65.0.2
	OPENBSD_4_9_BASE:1.65
	OPENBSD_4_8:1.59.0.2
	OPENBSD_4_8_BASE:1.59
	OPENBSD_4_7:1.57.0.2
	OPENBSD_4_7_BASE:1.57
	OPENBSD_4_6:1.55.0.2
	OPENBSD_4_6_BASE:1.55
	OPENBSD_4_5:1.49.0.4
	OPENBSD_4_5_BASE:1.49
	OPENBSD_4_4:1.49.0.2
	OPENBSD_4_4_BASE:1.49
	OPENBSD_4_3:1.46.0.2
	OPENBSD_4_3_BASE:1.46
	OPENBSD_4_2:1.43.0.2
	OPENBSD_4_2_BASE:1.43
	OPENBSD_4_1:1.40.0.4
	OPENBSD_4_1_BASE:1.40
	OPENBSD_4_0:1.40.0.2
	OPENBSD_4_0_BASE:1.40
	OPENBSD_3_9:1.37.0.2
	OPENBSD_3_9_BASE:1.37
	OPENBSD_3_8:1.33.0.2
	OPENBSD_3_8_BASE:1.33
	OPENBSD_3_7:1.32.0.2
	OPENBSD_3_7_BASE:1.32
	OPENBSD_3_6:1.29.0.2
	OPENBSD_3_6_BASE:1.29
	OPENBSD_3_5:1.28.0.2
	OPENBSD_3_5_BASE:1.28
	OPENBSD_3_4:1.22.0.2
	OPENBSD_3_4_BASE:1.22
	OPENBSD_3_3:1.21.0.2
	OPENBSD_3_3_BASE:1.21
	OPENBSD_3_2:1.18.0.2
	OPENBSD_3_2_BASE:1.18
	OPENBSD_3_1:1.17.0.2
	OPENBSD_3_1_BASE:1.17
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	lebel_2001-Aug-20:1.1.1.1
	lebel:1.1.1;
locks; strict;
comment	@# @;


1.84
date	2014.05.13.14.27.53;	author sthen;	state dead;
branches;
next	1.83;

1.83
date	2014.04.21.18.57.49;	author sthen;	state Exp;
branches;
next	1.82;

1.82
date	2014.03.12.22.33.01;	author sthen;	state Exp;
branches;
next	1.81;

1.81
date	2014.03.12.21.20.58;	author sthen;	state Exp;
branches;
next	1.80;

1.80
date	2013.11.18.16.34.05;	author sthen;	state Exp;
branches
	1.80.2.1;
next	1.79;

1.79
date	2013.10.18.21.08.57;	author sthen;	state Exp;
branches;
next	1.78;

1.78
date	2013.08.23.16.40.29;	author sthen;	state Exp;
branches;
next	1.77;

1.77
date	2013.06.20.08.26.13;	author ajacoutot;	state Exp;
branches
	1.77.2.1;
next	1.76;

1.76
date	2013.06.20.06.54.38;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2013.06.17.19.30.44;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2013.03.14.10.16.06;	author sthen;	state Exp;
branches;
next	1.73;

1.73
date	2013.03.14.10.14.10;	author sthen;	state Exp;
branches;
next	1.72;

1.72
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.71;

1.71
date	2012.09.27.17.26.05;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2011.09.29.09.38.13;	author sthen;	state Exp;
branches;
next	1.69;

1.69
date	2011.05.04.07.49.40;	author sthen;	state Exp;
branches;
next	1.68;

1.68
date	2011.04.26.14.04.05;	author sthen;	state Exp;
branches;
next	1.67;

1.67
date	2011.04.16.09.00.44;	author sthen;	state Exp;
branches;
next	1.66;

1.66
date	2011.03.28.16.19.45;	author sthen;	state Exp;
branches;
next	1.65;

1.65
date	2010.11.19.07.23.07;	author espie;	state Exp;
branches;
next	1.64;

1.64
date	2010.10.18.20.29.53;	author jsg;	state Exp;
branches;
next	1.63;

1.63
date	2010.10.18.19.59.16;	author espie;	state Exp;
branches;
next	1.62;

1.62
date	2010.10.02.01.22.12;	author sthen;	state Exp;
branches;
next	1.61;

1.61
date	2010.09.15.18.42.38;	author sthen;	state Exp;
branches;
next	1.60;

1.60
date	2010.09.08.09.57.28;	author sthen;	state Exp;
branches;
next	1.59;

1.59
date	2010.08.09.09.54.14;	author dcoppa;	state Exp;
branches;
next	1.58;

1.58
date	2010.05.18.08.31.02;	author sthen;	state Exp;
branches;
next	1.57;

1.57
date	2009.07.29.20.26.45;	author sthen;	state Exp;
branches;
next	1.56;

1.56
date	2009.07.28.09.21.24;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2009.06.19.21.35.37;	author sthen;	state Exp;
branches;
next	1.54;

1.54
date	2009.06.19.21.28.24;	author sthen;	state Exp;
branches;
next	1.53;

1.53
date	2009.06.16.09.37.19;	author sthen;	state Exp;
branches;
next	1.52;

1.52
date	2009.05.22.15.21.25;	author sthen;	state Exp;
branches;
next	1.51;

1.51
date	2009.05.22.08.00.58;	author sthen;	state Exp;
branches;
next	1.50;

1.50
date	2009.04.20.07.43.21;	author sthen;	state Exp;
branches;
next	1.49;

1.49
date	2008.05.22.14.40.12;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2008.05.21.13.46.19;	author sthen;	state Exp;
branches;
next	1.47;

1.47
date	2008.05.09.17.46.51;	author bernd;	state Exp;
branches;
next	1.46;

1.46
date	2008.02.06.15.01.56;	author okan;	state Exp;
branches;
next	1.45;

1.45
date	2007.11.11.10.09.43;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2007.09.16.00.17.05;	author merdely;	state Exp;
branches;
next	1.43;

1.43
date	2007.07.19.00.18.12;	author todd;	state Exp;
branches;
next	1.42;

1.42
date	2007.06.21.17.26.29;	author bernd;	state Exp;
branches;
next	1.41;

1.41
date	2007.05.04.09.09.31;	author kili;	state Exp;
branches;
next	1.40;

1.40
date	2006.08.02.14.30.09;	author bernd;	state Exp;
branches
	1.40.2.1
	1.40.4.1;
next	1.39;

1.39
date	2006.06.21.08.16.45;	author bernd;	state Exp;
branches;
next	1.38;

1.38
date	2006.03.22.12.43.09;	author bernd;	state Exp;
branches;
next	1.37;

1.37
date	2005.11.09.21.19.03;	author bernd;	state Exp;
branches
	1.37.2.1;
next	1.36;

1.36
date	2005.10.05.09.48.10;	author bernd;	state Exp;
branches;
next	1.35;

1.35
date	2005.09.29.17.25.28;	author bernd;	state Exp;
branches;
next	1.34;

1.34
date	2005.09.14.21.00.03;	author bernd;	state Exp;
branches;
next	1.33;

1.33
date	2005.07.05.12.17.16;	author aanriot;	state Exp;
branches
	1.33.2.1;
next	1.32;

1.32
date	2005.03.06.01.44.20;	author sturm;	state Exp;
branches;
next	1.31;

1.31
date	2005.02.07.17.16.16;	author naddy;	state Exp;
branches;
next	1.30;

1.30
date	2004.09.15.00.06.59;	author pvalchev;	state Exp;
branches;
next	1.29;

1.29
date	2004.06.28.14.17.21;	author lebel;	state Exp;
branches;
next	1.28;

1.28
date	2004.02.19.20.42.36;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	2004.02.19.20.05.51;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2004.02.18.18.56.57;	author lebel;	state Exp;
branches;
next	1.25;

1.25
date	2004.02.17.05.54.41;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2004.01.16.14.24.41;	author fgsch;	state Exp;
branches;
next	1.23;

1.23
date	2003.12.03.20.47.45;	author lebel;	state Exp;
branches;
next	1.22;

1.22
date	2003.05.12.21.16.42;	author sturm;	state Exp;
branches;
next	1.21;

1.21
date	2003.03.20.19.11.19;	author lebel;	state Exp;
branches;
next	1.20;

1.20
date	2003.01.14.16.37.58;	author lebel;	state Exp;
branches;
next	1.19;

1.19
date	2002.12.28.22.00.33;	author fgsch;	state Exp;
branches;
next	1.18;

1.18
date	2002.05.03.15.13.14;	author lebel;	state Exp;
branches
	1.18.2.1;
next	1.17;

1.17
date	2002.03.20.20.46.30;	author lebel;	state Exp;
branches;
next	1.16;

1.16
date	2002.03.04.20.17.23;	author lebel;	state Exp;
branches;
next	1.15;

1.15
date	2002.01.25.17.01.12;	author lebel;	state Exp;
branches;
next	1.14;

1.14
date	2002.01.23.19.01.28;	author lebel;	state Exp;
branches;
next	1.13;

1.13
date	2002.01.11.04.26.11;	author lebel;	state Exp;
branches;
next	1.12;

1.12
date	2002.01.11.04.12.26;	author lebel;	state Exp;
branches;
next	1.11;

1.11
date	2002.01.11.04.06.38;	author lebel;	state Exp;
branches;
next	1.10;

1.10
date	2002.01.08.15.46.21;	author lebel;	state Exp;
branches;
next	1.9;

1.9
date	2002.01.08.03.54.46;	author lebel;	state Exp;
branches;
next	1.8;

1.8
date	2002.01.03.02.45.01;	author lebel;	state Exp;
branches;
next	1.7;

1.7
date	2001.12.13.03.25.32;	author lebel;	state Exp;
branches;
next	1.6;

1.6
date	2001.10.24.15.31.19;	author lebel;	state Exp;
branches;
next	1.5;

1.5
date	2001.09.24.17.39.16;	author lebel;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2001.09.19.14.37.00;	author lebel;	state Exp;
branches;
next	1.3;

1.3
date	2001.09.15.21.14.36;	author lebel;	state Exp;
branches;
next	1.2;

1.2
date	2001.08.29.03.30.02;	author lebel;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.20.19.51.53;	author lebel;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.08.20.19.51.53;	author lebel;	state Exp;
branches;
next	;

1.5.2.1
date	2002.01.03.04.21.07;	author lebel;	state Exp;
branches;
next	1.5.2.2;

1.5.2.2
date	2002.01.08.03.55.54;	author lebel;	state Exp;
branches;
next	1.5.2.3;

1.5.2.3
date	2002.01.11.05.00.27;	author lebel;	state Exp;
branches;
next	;

1.18.2.1
date	2003.03.21.14.27.56;	author brad;	state Exp;
branches;
next	;

1.33.2.1
date	2006.06.24.17.15.31;	author sturm;	state Exp;
branches;
next	;

1.37.2.1
date	2006.06.24.17.16.11;	author sturm;	state Exp;
branches;
next	;

1.40.2.1
date	2007.05.05.08.45.19;	author sturm;	state Exp;
branches;
next	;

1.40.4.1
date	2007.05.05.08.46.48;	author sturm;	state Exp;
branches;
next	;

1.77.2.1
date	2014.03.13.09.24.10;	author jasper;	state Exp;
branches;
next	;

1.80.2.1
date	2014.03.13.10.59.37;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.84
log
@Remove old version of mutt, which is missing fixes made to the 1.5
"snapshot" branch 9 years ago (in fact the 1.4 branch has really only
received a couple of security fixes since 2002).

No naysayers, and positive feedback about the removal from ajacoutot and brad.
@
text
@# $OpenBSD: Makefile,v 1.83 2014/04/21 18:57:49 sthen Exp $

COMMENT=	tty-based e-mail client, development version

DISTNAME=	mutt-1.5.23
EPOCH=		0
REVISION=	0
# http://prefix.gentooexperimental.org:8000/mutt-patches is useful
MASTER_SITES=	${MASTER_SITES_MUTT} \
		${MASTER_SITE_SOURCEFORGE:=mutt/} \
		${MASTER_SITES_MUTT:=devel/}

WANTLIB=	qdbm>=14 z

FLAVORS=	idn sasl sidebar
FLAVOR?=

AUTOCONF_VERSION= 2.65
CONFIGURE_ARGS= --enable-hcache \
		--enable-smtp \
		--without-gdbm

LIB_DEPENDS=	databases/qdbm
BUILD_DEPENDS+=	textproc/docbook-xsl

.if ${FLAVOR:Msasl}
CONFIGURE_ARGS+= --with-sasl=${LOCALBASE}
LIB_DEPENDS+=	security/cyrus-sasl2
WANTLIB+=	sasl2
.endif

MUTTRCDIR=	doc/

DIST_COMPRESSED=compressed-1.5.22.diff0.gz:2
DIST_SIDEBAR=	sidebar-1.5.22.diff1.gz:2

# http://cedricduval.free.fr/mutt/patches/
PATCHFILES+=	trashfolder-1.5.22.diff0.gz:2

.if ${FLAVOR:Msidebar}
PATCHFILES+=		${DIST_SIDEBAR}
.else
SUPDISTFILES+=		${DIST_SIDEBAR}
.endif

AUTOMAKE_VERSION= 1.9
CONFIGURE_STYLE= gnu
BUILD_DEPENDS+=	${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}
post-patch:
	cd ${WRKSRC}; \
	    AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
	    autoreconf --install

.include <bsd.port.mk>
@


1.83
log
@disable gss support and add an old patch sitting in my tree for >1 year to
fix F1 help text display in stable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2014/03/12 22:33:01 sthen Exp $
@


1.82
log
@update to Mutt 1.5.23, rolling in the security fix added in a patch earlier,
and fixing a couple of other issues.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2014/03/12 21:20:58 sthen Exp $
d7 1
@


1.81
log
@SECURITY update for Mutt; fix buffer overrun caused by not updating a
string length after address expansion (rfc2047 header decode).

http://dev.mutt.org/trac/changeset/9bf7593e3c08cc32bd69595d5c1cac75c29ba09d
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2013/11/18 16:34:05 sthen Exp $
d5 1
a5 1
DISTNAME=	mutt-1.5.22
a6 1
REVISION=	1
d8 2
a9 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=mutt/} \
@


1.80
log
@use a newer sidebar patch, adding a fix for the status line in the pager
display from Vincent Brillault via Gentoo, problem reported by Mark Patruck
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2013/10/18 21:08:57 sthen Exp $
d7 1
a7 1
REVISION=	0
@


1.80.2.1
log
@SECURITY update for Mutt; fix buffer overrun caused by not updating a
string length after address expansion (rfc2047 header decode).

http://dev.mutt.org/trac/changeset/9bf7593e3c08cc32bd69595d5c1cac75c29ba09d
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2013/11/18 16:34:05 sthen Exp $
d7 1
a7 1
REVISION=	1
@


1.79
log
@Update to mutt 1.5.22 - thanks landry@@, rpe@@ and jung@@ for tests and OKs,
and Fabian Groffen (Gentoo) for updating the sidebar patch just in time that
I didn't have to duplicate work :)

Disable groff while there, mandoc is perfectly good (only changes being
quotes and whitespace).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2013/08/23 16:40:29 sthen Exp $
d7 2
d34 1
a34 1
DIST_SIDEBAR=	sidebar-1.5.22.diff0.gz:2
@


1.78
log
@Mutt has sanity checks for header cache structs, but doesn't use base types
when it calculates its hash. Give it some extra text so it knows that time_t
has changed so it can correctly invalidate old header caches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2013/06/20 08:26:13 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	mutt-1.5.21
a6 1
REVISION=	5
d31 2
a32 2
DIST_COMPRESSED=compressed-5302767aa6aa.gz:2
DIST_SIDEBAR=	sidebar-5302767aa6aa.gz:2
d35 1
a35 1
PATCHFILES+=	trashfolder-5302767aa6aa.gz:2
a44 1
USE_GROFF =	Yes
@


1.77
log
@No need for pthread.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2013/06/20 06:54:38 ajacoutot Exp $
d7 1
a7 1
REVISION=	4
@


1.77.2.1
log
@SECURITY update for Mutt; fix buffer overrun caused by not updating a
string length after address expansion (rfc2047 header decode).

http://dev.mutt.org/trac/changeset/9bf7593e3c08cc32bd69595d5c1cac75c29ba09d
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2013/06/20 08:26:13 ajacoutot Exp $
d7 1
a7 1
REVISION=	5
@


1.76
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2013/06/17 19:30:44 ajacoutot Exp $
d7 1
a7 1
REVISION=	3
@


1.75
log
@Unbreak with new Heimdal; get rid of self-cooked krb5-config since we
have it in base now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2013/03/14 10:16:06 sthen Exp $
d7 1
a7 1
REVISION=	2
@


1.74
log
@add a comment saying where the trashfolder patch comes from
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2013/03/14 10:14:10 sthen Exp $
d7 1
a7 1
REVISION=	1
@


1.73
log
@add the trashfolder patch to mutt/snapshot, req'd by aja.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2013/02/09 14:49:51 sthen Exp $
d35 1
@


1.72
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2012/09/27 17:26:05 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
d35 2
a38 1
PATCH_DIST_STRIP=	-p1
@


1.71
log
@docbook-xsl already comes with libxslt.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/09/29 09:38:13 sthen Exp $
d24 1
a24 1
.if ${FLAVOR:L:Msasl}
d35 1
a35 1
.if ${FLAVOR:L:Msidebar}
@


1.70
log
@bump; make sure people get updated packages now that cyrus-sasl is fixed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/05/04 07:49:40 sthen Exp $
d22 1
a22 3
BUILD_DEPENDS+=	textproc/docbook \
		textproc/docbook-xsl \
		textproc/libxslt
@


1.69
log
@move ftp.mutt.org to the top of the list, and let peek-ftp work for snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/04/26 14:04:05 sthen Exp $
d7 1
@


1.68
log
@Bump EPOCHs, we previously had a 1.4.2i version which doesn't fit with
the usual version comparison. Noticed by naddy@@ in i386 bulk pkg build with
older PLIST_DB files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/04/16 09:00:44 sthen Exp $
d7 2
a8 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=mutt/}
@


1.67
log
@remove unneeded patches (NULL casts)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/03/28 16:19:45 sthen Exp $
d6 1
a6 1
REVISION=	2
@


1.66
log
@use correct autoconf; from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2010/11/19 07:23:07 espie Exp $
d6 1
a6 1
REVISION=	1
@


1.65
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2010/10/18 20:29:53 jsg Exp $
d14 1
a14 1
AUTOCONF_VERSION= 2.64
@


1.64
log
@no need to link libdes for kerberos
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/10/18 19:59:16 espie Exp $
d9 1
a9 1
WANTLIB=	qdbm.>=14 z
d19 4
a22 4
LIB_DEPENDS=	::databases/qdbm
BUILD_DEPENDS+=	::textproc/docbook \
		::textproc/docbook-xsl \
		::textproc/libxslt
d26 1
a26 1
LIB_DEPENDS+=	::security/cyrus-sasl2
@


1.63
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/10/02 01:22:12 sthen Exp $
d6 1
a6 1
REVISION=	0
@


1.62
log
@add patches from upstream repo;
- fix segfault when $message_cachedir is set and opening a POP3 mailbox.
- RFC2047 encode/decode the group name in an address list.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/09/15 18:42:38 sthen Exp $
d44 1
@


1.61
log
@update Mutt to 1.5.21
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/09/08 09:57:28 sthen Exp $
d6 1
a41 1
## following needed for hg snapshots
@


1.60
log
@- update the sidebar/compressed patches to work with this snapshot.
- new LIB_DEPENDS/REVISION.
- switch to a newer snapshot pulled from the repo, rolling in the
upstream patches.

requested by edd@@. thanks to jasper@@, landry@@, pea@@ for testing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/08/09 09:54:14 dcoppa Exp $
d5 2
a6 6
VERSION=	1.5.20
DISTNAME=	mutt-5302767aa6aa
DISTFILES=	${DISTNAME}.tar.bz2
PKGNAME=	mutt-${VERSION}.20100824
# ${MASTER_SITE_SOURCEFORGE:=mutt/} ${MASTER_SITES_MUTT:=devel/}
MASTER_SITES=	http://spacehopper.org/mirrors/
@


1.59
log
@Fix bug in imap_keepalive() which erroneously free Context when the
IMAP connection is shut down by the server.

From upstream, via edd@@

OK espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/05/18 08:31:02 sthen Exp $
d6 5
a10 4
DISTNAME=	mutt-${VERSION}
REVISION=	3
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=mutt/} \
		${MASTER_SITES_MUTT:=devel/}
d12 1
a12 1
WANTLIB=	z
d17 1
a17 2
# should be 2.63
AUTOCONF_VERSION= 2.62
d22 4
a25 1
LIB_DEPENDS=	qdbm.>=14::databases/qdbm
d29 2
a30 1
LIB_DEPENDS+=	sasl2::security/cyrus-sasl2
d35 2
a36 2
DIST_COMPRESSED=compressed-1.5.20.diff.gz:2
DIST_SIDEBAR=	sidebar-1.5.20.diff0.gz:2
d44 11
@


1.58
log
@Remove a couple of pointless hunks from the patch. Spotted by dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2009/07/29 20:26:45 sthen Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.57
log
@Add a patch for mutt ticket #3296, IMAP header cache misbehaves on sparc64.
Bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/07/28 09:21:24 sthen Exp $
d32 1
a32 1
DIST_SIDEBAR=	sidebar-1.5.20.diff.gz:2
@


1.56
log
@Add MASTER_SITE_SOURCEFORGE, they are now mirroring most Mutt versions.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2009/06/19 21:35:37 sthen Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.55
log
@don't try and free a static buffer, avoiding a segfault with unmailboxes;
regression since 1.5.19. From Mutt upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2009/06/19 21:28:24 sthen Exp $
d8 2
a9 1
MASTER_SITES=	${MASTER_SITES_MUTT:=devel/}
@


1.54
log
@dhill@@ had a crash with smtp_url specifying a port (I added one diff
but another followed); update the relevant file to the newer revision,
fixing the problem. ok dhill@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2009/06/16 09:37:19 sthen Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
@


1.53
log
@- bug-fix and SECURITY update to 1.5.20; fixes CVE-2009-1390 (X.509
Certificate Chain Security Bypass vulnerability).

- added a couple of post-1.5.20 patches from upstream for regressions

- cleanup the port's handling of sample config files

testing by Simon Kuhnle, Edd Barrett, testing and ok landry@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/05/22 15:21:25 sthen Exp $
d7 1
@


1.52
log
@..hot on the heels of the last one, another update to the sidebar patch,
makes Maildir folders work better. bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/05/22 08:00:58 sthen Exp $
d5 1
a5 1
VERSION=	1.5.19
a6 1
PKGNAME=	mutt-${VERSION}p0
d14 2
d29 3
d33 1
a33 1
PATCHFILES+=		patch-${VERSION}.sidebar.20090522.txt:1
d36 1
a36 1
SUPDISTFILES+=		patch-${VERSION}.sidebar.20090522.txt:1
@


1.51
log
@Terry Chan rolled patches/sidebar-buffy_c into the sidebar patch upstream;
no need to maintain it separately here now. No package change -> no bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/04/20 07:43:21 sthen Exp $
d7 1
d29 1
a29 1
PATCHFILES+=		patch-${VERSION}.sidebar.20090521.txt:1
d32 1
a32 1
SUPDISTFILES+=		patch-${VERSION}.sidebar.20090521.txt:1
@


1.50
log
@update to 1.5.19 and take MAINTAINER. thanks to Simon Kuhnle,
landry@@ and Brad for testing various versions of this diff.

ok landry@@ after a few rounds of pain with Maildir and the sidebar
patch, eventually resulting in snapshot/patches/sidebar-buffy_c.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2008/05/22 14:40:12 sthen Exp $
d28 1
a28 1
PATCHFILES+=		patch-${VERSION}.sidebar.20090308.txt:1
a29 1
PATCH_LIST=		patch-* sidebar-*
d31 1
a31 1
SUPDISTFILES+=		patch-${VERSION}.sidebar.20090308.txt:1
@


1.49
log
@Fix problem reported by naddy@@: the sidebar patchset is only for snapshot,
so move it out of Makefile.inc and fix stable/distinfo. Bump not necessary.

ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2008/05/21 13:46:19 sthen Exp $
d5 1
a5 1
VERSION=	1.5.18
d28 1
a28 1
PATCHFILES+=		patch-${VERSION}.sidebar-b.txt:1
d30 1
d32 1
a32 1
SUPDISTFILES+=		patch-${VERSION}.sidebar-b.txt:1
@


1.48
log
@update to 1.5.18, tested by many.  ok merdely
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2008/05/09 17:46:51 bernd Exp $
d26 7
@


1.47
log
@Some cleanup of the mutt Makefile's. Moving the common
WANTLIB stuff to Makefile.inc. Sorting the CONFIGURE_ARGS
options. Having the stable release of mutt use the appropriate
version of autoconf.

from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2008/02/06 15:01:56 okan Exp $
d5 1
a5 1
VERSION=	1.5.17
a6 1
PKGNAME=	${DISTNAME}p0
d24 2
@


1.46
log
@fix "garbled characters" issue in imap rename, as reported by marco@@

"get it in" sthen@@, ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2007/11/11 10:09:43 sthen Exp $
d10 2
d15 2
a16 5
AUTOCONF_VERSION=2.61

CONFIGURE_ARGS=	--enable-smtp \
		--mandir=${PREFIX}/man \
		--enable-hcache \
a24 2

WANTLIB=	c crypto des ssl z
@


1.45
log
@Update Mutt to 1.5.17, fix WANTLIB for 1.5.xx (adding qdbm in 1.5.16
brought in a dependency on libz).

feedback/ok bernd@@, simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2007/09/16 00:17:05 merdely Exp $
d7 1
@


1.44
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2007/07/19 00:18:12 todd Exp $
d5 1
a5 1
VERSION=	1.5.16
a6 1
PKGNAME=	${DISTNAME}p0
d12 1
a12 1
AUTOCONF_VERSION=2.60
d25 2
@


1.43
log
@add sasl flavor to mutt

this works for me, tested by me and others, from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2007/06/21 17:26:29 bernd Exp $
d3 1
a3 1
COMMENT=	"tty-based e-mail client, development version"
@


1.42
log
@Update to mutt-1.5.16.

Initial diff and sidebar-patch hosting by Stuart Henderson. Thanks!

Enable the Maildir/POP3/IMAP header cache by default and remove
the hcache FLAVOR.

Tested by many. Corrections from simon@@.

ok simon@@, steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2007/05/04 09:09:31 kili Exp $
d7 1
d10 2
a11 1
FLAVORS=	idn sidebar
d21 5
@


1.41
log
@
Fix buffer overflow in mutt_gecos_name().
From ray@@ (snapshot), applied to stable and tested by me. Feedback
from wilfried@@ and (via ray@@) moritz@@.

ok moritz@@ steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/08/02 14:30:09 bernd Exp $
d5 1
a5 1
VERSION=	1.5.12
a6 1
PKGNAME=	${DISTNAME}p0
d9 10
a18 1
FLAVORS=	hcache idn sidebar
@


1.40
log
@Update to mutt-1.5.12 snapshot.

tested by many
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2006/06/21 08:16:45 bernd Exp $
d7 1
@


1.40.4.1
log
@MFC:
Fix buffer overflow in mutt_gecos_name().
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/08/02 14:30:09 bernd Exp $
a6 1
PKGNAME=	${DISTNAME}p0
@


1.40.2.1
log
@MFC:
Fix buffer overflow in mutt_gecos_name().
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/08/02 14:30:09 bernd Exp $
a6 1
PKGNAME=	${DISTNAME}p0
@


1.39
log
@Fix a buffer overflow in the IMAP code.

Diff from mutt CVS via TAKAHASHI Tamotsu, thanks!

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2006/03/22 12:43:09 bernd Exp $
d5 1
a5 1
VERSION=	1.5.11
a6 1
PKGNAME=	${DISTNAME}p3
a7 2

AUTOCONF_VERSION= 2.59
@


1.38
log
@Correct path to gpg in the gpg.rc example file. Bump PKGNAMEs.

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2005/11/09 21:19:03 bernd Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.37
log
@Add sidebar FLAVOR. Info: http://thomer.com/mutt/

Initial patch from jolan@@.

ok jolan@@, "looks good" sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2005/10/05 09:48:10 bernd Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.37.2.1
log
@MFC:
Fix a buffer overflow in the IMAP code.

Diff from mutt CVS via TAKAHASHI Tamotsu, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2005/11/09 21:19:03 bernd Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
@


1.36
log
@- add idn FLAVOR for snapshot (internationalized domain name support)
- clean up snapshot/pkg/DESCR
- bump PKGNAME for snapshot

okay sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2005/09/29 17:25:28 bernd Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d12 1
a12 1
FLAVORS=	hcache idn
@


1.35
log
@- update mutt snapshot to 1.5.11
- move DISTNAME from Makefile.inc to stable/snapshot Makefile
(since 1.5.11, DISTNAME contains no 'i' anymore)

help & ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2005/09/14 21:00:03 bernd Exp $
d7 1
d12 1
a12 1
FLAVORS=	hcache
@


1.34
log
@- update to mutt-1.5.10
- preprocess muttrc manpage with tbl

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2005/07/05 12:17:16 aanriot Exp $
d5 2
a6 1
VERSION=	1.5.10
@


1.33
log
@update to 1.5.9.

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2005/03/06 01:44:20 sturm Exp $
d5 1
a5 1
VERSION=	1.5.9
@


1.33.2.1
log
@MFC:
Fix a buffer overflow in the IMAP code.

Diff from mutt CVS via TAKAHASHI Tamotsu, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2005/07/05 12:17:16 aanriot Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.32
log
@update snapshot to mutt 1.5.8

from Bernd Ahlers <b.ahlers at ba-net.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2005/02/07 17:16:16 naddy Exp $
d5 1
a5 1
VERSION=	1.5.8
@


1.31
log
@update snapshot to 1.5.7; from Bernd Ahlers <b.ahlers@@ba-net.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2004/09/15 00:06:59 pvalchev Exp $
d5 1
a5 1
VERSION=	1.5.7
@


1.30
log
@remove David Lebel from maintainer position per his request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2004/06/28 14:17:21 lebel Exp $
d5 1
a5 1
VERSION=	1.5.6
d7 2
@


1.29
log
@added support for maildir header caching via a new flavour, named "hcache" in
the snapshot release of mutt.

For more info, see http://wwwcip.informatik.uni-erlangen.de/~sithglan/mutt/.

Thanks to Bernd Ahlers <b.ahlers AT ba-net.org> for the work.
(henning@@ can spare me the 20 hours marathon of humppa now that this is in :))
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2004/02/19 20:42:36 brad Exp $
a6 2

MAINTAINER=	David Lebel <lebel@@openbsd.org>
@


1.28
log
@use ../Makefile.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/02/19 20:05:51 brad Exp $
d9 2
@


1.27
log
@revert rev 1.25
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/02/18 18:56:57 lebel Exp $
d6 1
a6 11
DISTNAME=	mutt-${VERSION}i
CATEGORIES=	mail
MASTER_SITES=	ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/devel/ \
		ftp://ftp.mutt.org/mutt/devel/ \
		ftp://ftp.gbnet.net/pub/mutt-international/devel/ \
		ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/devel/
MASTER_SITES0=	http://www.spinnaker.de/mutt/compressed/

HOMEPAGE=	http://www.mutt.org/

MODULES=	gettext
a8 68

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

FLAVORS=	slang mixmaster compressed
FLAVOR?=

# XXX workaround sparc64 gcc optimization bug
.if ${MACHINE_ARCH:Msparc64}
PATCH_LIST=     gcc-* patch-*
.endif

CONFDIR=	${SYSCONFDIR}/mutt
CONFIGURE_STYLE= autoconf old
CONFIGURE_ARGS=	--with-sharedir="${PREFIX}/share/mutt" \
		--with-docdir="${PREFIX}/share/doc/mutt" \
		--enable-flock --disable-fcntl \
		--enable-external_dotlock \
		--enable-imap --enable-pop --with-ssl \
		--with-gss --sysconfdir=${CONFDIR}
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		ISPELL="${LOCALBASE}/bin/ispell"

.if ${FLAVOR:L:Mslang}
LIB_DEPENDS+=	slang.14::devel/libslang
CONFIGURE_ARGS+= --with-slang="${PREFIX}"
.else
CONFIGURE_ARGS+= --with-curses
.endif

# compressed folder support provided by
# http://www.spinnaker.de/mutt/compressed/
.if ${FLAVOR:L:Mcompressed}
PATCHFILES+=	patch-${VERSION}.rr.compressed.1.gz:0
PATCH_DIST_STRIP=-p1
CONFIGURE_ARGS+= --enable-compressed
CONFIGURE_STYLE+= automake
.else
SUPDISTFILES+=  patch-${VERSION}.rr.compressed.1.gz:0
.endif

.if ${FLAVOR:L:Mmixmaster}
CONFIGURE_ARGS+= --with-mixmaster="${LOCALBASE}/sbin/mixmaster"
RUN_DEPENDS+=	::mail/mixmaster
.endif

.if defined(HOMESPOOL)
CONFIGURE_ARGS+= --with-homespool="${HOMESPOOL}"
.endif

.if defined(DOMAIN)
CONFIGURE_ARGS+= --with-domain="${DOMAIN}"
.endif

WRKDIST=	${WRKDIR}/${DISTNAME:S/i$//}
SUBST_VARS=	CONFDIR

post-install:
	@@strip ${PREFIX}/bin/mutt
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/mutt
	${INSTALL_DATA} ${WRKSRC}/Muttrc \
		${PREFIX}/share/examples/mutt/Muttrc.sample
	${INSTALL_DATA} ${WRKSRC}/mime.types \
		${PREFIX}/share/examples/mutt/mime.types.sample
	mv ${PREFIX}/share/doc/mutt/samples/* ${PREFIX}/share/examples/mutt
@


1.26
log
@update mutt/snapshot to 1.5.6i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/02/17 05:54:41 brad Exp $
a56 1
BUILD_DEPENDS+=	::devel/automake
@


1.25
log
@add BUILD_DEPENDS on automake for the compressed FLAVOR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/01/16 14:24:41 fgsch Exp $
d5 1
a5 1
VERSION=	1.5.5.1
d8 2
a9 1
MASTER_SITES=	ftp://ftp.mutt.org/mutt/devel/ \
a10 1
		ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/devel/ \
@


1.24
log
@gss support; lebel@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/12/03 20:47:45 lebel Exp $
d57 1
@


1.23
log
@update mutt/snapshot to 1.5.5.1i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/05/12 21:16:42 sturm Exp $
d34 1
d40 1
a40 1
		--sysconfdir=${CONFDIR}
d58 1
a58 1
CONFIGURE_STYLE= automake old
a60 1
CONFIGURE_STYLE= gnu old
@


1.22
log
@- /etc -> SYSCONFDIR
- don't change SYSCONFDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/03/20 19:11:19 lebel Exp $
d5 1
a5 1
VERSION=	1.5.4
@


1.21
log
@Mutt 1.4.1 and 1.5.4 were released on March 19, 2003. These releases both fix a
buffer overflow identified by Core Security Technologies. The only differences
between 1.4 and 1.4.1 are bug fixes. If you are currently using 1.4, it's
probably a very good idea to update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/01/14 16:37:58 lebel Exp $
d33 1
a33 1
SYSCONFDIR=	/etc/mutt
d38 2
a39 1
		--enable-imap --enable-pop --with-ssl
d57 1
a57 1
CONFIGURE_STYLE= automake
d60 1
a60 1
CONFIGURE_STYLE= gnu
d77 1
@


1.20
log
@update mutt/snapshot to 1.5.3i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/12/28 22:00:33 fgsch Exp $
d5 1
a5 1
VERSION=	1.5.3
d56 1
a56 1
CONFIGURE_STYLE= autoconf
a75 4

post-configure:
# make sure `missing' as the proper bits sets.
	@@chmod 755 ${WRKSRC}/missing
@


1.19
log
@o fix MASTER_SITES
o remove NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/05/03 15:13:14 lebel Exp $
d5 1
a5 1
VERSION=	1.3.99
d8 4
a11 4
MASTER_SITES=	ftp://ftp.mutt.org/mutt/ \
		ftp://ftp.gbnet.net/pub/mutt-international/ \
		ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/ \
		ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/
@


1.18
log
@update mutt/snapshot to 1.3.99i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/03/20 20:46:30 lebel Exp $
d8 1
a8 2
NEED_VERSION=	1.460
MASTER_SITES=	ftp://ftp.mutt.org/pub/mutt/ \
d11 1
a11 2
		ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/ \
		ftp://ftp.iks-jena.de/pub/mitarb/lutz/crypt/software/pgp/mutt/
@


1.18.2.1
log
@MFC:
Mutt 1.4.1 and 1.5.4 were released on March 19, 2003. These releases both fix a
buffer overflow identified by Core Security Technologies. The only differences
between 1.4 and 1.4.1 are bug fixes. If you are currently using 1.4, it's
probably a very good idea to update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/03/20 19:11:19 lebel Exp $
d5 1
a5 1
VERSION=	1.5.4
d8 6
a13 4
MASTER_SITES=	ftp://ftp.mutt.org/mutt/devel/ \
		ftp://ftp.gbnet.net/pub/mutt-international/devel/ \
		ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/devel/ \
		ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/devel/
d58 1
a58 1
CONFIGURE_STYLE= automake
d78 4
@


1.17
log
@update mail/mutt/snapshot to 1.3.28i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/03/04 20:17:23 lebel Exp $
d5 1
a5 1
VERSION=	1.3.28
@


1.16
log
@XXX workaround a gcc optimization bug on sparc64 (for sha1.c)
inspired by what pvalchev@@ did on security/aide
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/01/25 17:01:12 lebel Exp $
d5 1
a5 1
VERSION=	1.3.27
@


1.15
log
@update mutt/snapshot to 1.3.27i; thanks naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/01/23 19:01:28 lebel Exp $
d29 5
@


1.14
log
@naddy@@, fgsch@@ and I all agreed to remove the pop and imap
FLAVORs and intergrate them in the default install in both stable
and snapshot ports of mail/mutt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/01/11 04:26:11 lebel Exp $
d5 1
a5 1
VERSION=	1.3.25
d50 1
a50 1
PATCHFILES+=	patch-${VERSION}.rr.compressed.2.gz:0
d55 1
a55 1
SUPDISTFILES+=  patch-${VERSION}.rr.compressed.2.gz:0
@


1.13
log
@now now... I should REALLY go to sleep. Put back SUPDISTFILES. Sorry.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/01/11 04:12:26 lebel Exp $
d27 1
a27 1
FLAVORS=	slang imap pop mixmaster compressed
d34 2
a35 1
		--enable-external_dotlock
a56 12
.endif

# If you need IMAP or POP, you may want to enable those.
.if ${FLAVOR:L:Mimap}
CONFIGURE_ARGS+= --enable-imap --with-ssl
.endif

# Note: The POP3 support is there only for convenience, and it's rather
# limited.  If you need more functionality you should consider using a
# specialized program, such as fetchmail.
.if ${FLAVOR:L:Mpop}
CONFIGURE_ARGS+= --enable-pop --with-ssl
@


1.12
log
@no need to define SUPDISTFILES when the FLAVOR compressed isn't specified.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/01/11 04:06:38 lebel Exp $
d54 1
@


1.11
log
@* Add compressed folder patch to SUPDISTFILES; spotted by fgsch@@
* Use new version of said patch.
* Merge some cosmetic fixes from mutt/stable.
from naddy@@ and fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/01/08 15:46:21 lebel Exp $
a53 1
SUPDISTFILES+=	patch-${VERSION}.rr.compressed.2.gz:0
@


1.10
log
@we don't really need the last rmdir in the post-install target; fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/01/08 03:54:46 lebel Exp $
d7 1
a7 1
CATEGORIES=     mail
d10 3
a12 3
                ftp://ftp.gbnet.net/pub/mutt-international/ \
                ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/ \
                ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/ \
d14 1
d49 1
a49 2
MASTER_SITES0=	http://www.spinnaker.de/mutt/compressed/
PATCHFILES+=	patch-${VERSION}.rr.compressed.1.gz:0
d54 1
d71 2
a72 3
MIXMASTER=             ${LOCALBASE}/sbin/mixmaster
CONFIGURE_ARGS+=       --with-mixmaster="${MIXMASTER}"
RUN_DEPENDS+=          ${MIXMASTER}::mail/mixmaster
@


1.9
log
@re-enable compressed FLAVOR since they are now available for 1.3.25
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/01/03 02:45:01 lebel Exp $
a96 1
	rmdir ${PREFIX}/share/doc/mutt/samples
@


1.8
log
@update mail/mutt/snapshot to 1.3.25i.
- Fix a remotely exploitable bug in mutt.
- For the time being, I disabled the compressed FLAVOR since the updated patch
  is not yet available for the current version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/12/13 03:25:32 lebel Exp $
d26 1
a26 3
# disable compressed FLAVOR for the time being, until the author of the patch
# provide a new patch fro 1.3.25 (or a later version).
FLAVORS=	slang imap pop mixmaster # compressed
@


1.7
log
@update mail/mutt/snapshot to 1.3.24i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/10/24 15:31:19 lebel Exp $
d5 1
a5 1
VERSION=	1.3.24
d26 3
a28 1
FLAVORS=	slang imap pop compressed mixmaster
@


1.6
log
@update mail/mutt/snapshot to 1.3.23i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/09/24 17:39:16 lebel Exp $
d5 1
a5 1
VERSION=	1.3.23
a29 1
CONFIGURE_STYLE= gnu
d49 1
a49 1
PATCHFILES+=	patch-${VERSION}.rr.compressed.2.gz:0
d52 3
@


1.5
log
@bump NEED_VERSION, use gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/09/19 14:37:00 lebel Exp $
d5 1
a5 1
VERSION=	1.3.21
d9 5
a13 5
MASTER_SITES=	ftp://ftp.mutt.org/pub/mutt/devel/ \
                ftp://ftp.gbnet.net/pub/mutt-international/devel/ \
                ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/devel/ \
                ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/devel/ \
		ftp://ftp.iks-jena.de/pub/mitarb/lutz/crypt/software/pgp/mutt/devel/
d50 1
a50 1
PATCHFILES+=	patch-${VERSION}.rr.compressed.1.gz:0
@


1.5.2.1
log
@MFC:
update mail/mutt/snapshot to 1.3.25i.
- Fix a remotely exploitable bug in mutt.
- For the time being, I disabled the compressed FLAVOR since the updated patch
is not yet available for the current version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/09/24 17:39:16 lebel Exp $
d5 1
a5 1
VERSION=	1.3.25
d9 5
a13 5
MASTER_SITES=	ftp://ftp.mutt.org/pub/mutt/ \
                ftp://ftp.gbnet.net/pub/mutt-international/ \
                ftp://ftp.fu-berlin.de/pub/unix/mail/mutt/ \
                ftp://ftp.gwdg.de/pub/unix/mail/mutt/international/ \
		ftp://ftp.iks-jena.de/pub/mitarb/lutz/crypt/software/pgp/mutt/
d26 1
a26 3
# disable compressed FLAVOR for the time being, until the author of the patch
# provide a new patch fro 1.3.25 (or a later version).
FLAVORS=	slang imap pop mixmaster # compressed
@


1.5.2.2
log
@re-enable compressed FLAVOR since they are now available for 1.3.25
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5.2.1 2002/01/03 04:21:07 lebel Exp $
d26 3
a28 1
FLAVORS=	slang imap pop mixmaster compressed
@


1.5.2.3
log
@MFC:
* Add compressed folder patch to SUPDISTFILES; spotted by fgsch@@
* Use new version of said patch.
from naddy@@ and fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5.2.2 2002/01/08 03:55:54 lebel Exp $
a13 1
MASTER_SITES0=  http://www.spinnaker.de/mutt/compressed/
d30 1
d49 2
a50 1
PATCHFILES+=	patch-${VERSION}.rr.compressed.2.gz:0
a52 4
CONFIGURE_STYLE= autoconf
.else
SUPDISTFILES+=  patch-${VERSION}.rr.compressed.2.gz:0
CONFIGURE_STYLE= gnu
d95 1
@


1.4
log
@enable ssl with pop.  pointed out by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/09/15 21:14:36 lebel Exp $
d8 1
a8 1
NEED_VERSION=	1.384
d17 1
a17 1
LIB_DEPENDS=	intl.1::devel/gettext 
@


1.3
log
@make sure ${WRKSRC}/missing has the proper bits set.
This is especially needed with the compressed flavour set.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/08/29 03:30:02 lebel Exp $
d64 1
a64 1
CONFIGURE_ARGS+= --enable-pop
@


1.2
log
@update mutt/snapshot to 1.3.21i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/08/20 19:51:53 lebel Exp $
d82 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2001/08/03 14:59:19 fgsch Exp $
d5 1
a5 1
VERSION=	1.3.20
d47 1
a47 1
# http://www.spinnaker.de/mutt/compressed/patch-1.2.5.rr.compressed.1.gz
d50 1
a50 1
PATCHFILES+=	patch-${VERSION}.rr.compressed.2.gz:0
@


1.1.1.1
log
@initial import of mutt/snapshot 1.3.20i:
--
The Mutt Mail User Agent

This is a nifty e-mail client that includes excellent PGP hooks.
Other features include:

- color support
- message threading
- MIME support (including RFC2047 support for encoded headers)
- IMAP (also over SSL) and POP3 support
- support for multiple mailbox formats (mbox, MMDF, MH, maildir)
- highly customizable, including key bindings
- searches using regular expression
- Delivery Status Notification (DSN) support
- PGP/MIME (RFC2015)
- small and efficient

Flavors:
	slang	   - build using the S-Lang library for screen handling.
	imap	   - build with IMAP & SSL support.
	pop	   - build with POP3 support.
	compressed - build with compressed folder support 
		     (see: http://www.spinnaker.de/mutt/compressed/)
        mixmaster  - build with anonymous remailing support.

This is the development version of mutt.

WWW: http://www.mutt.org/

@
text
@@
