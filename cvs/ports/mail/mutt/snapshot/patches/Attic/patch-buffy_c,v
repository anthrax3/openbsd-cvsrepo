head	1.2;
access;
symbols
	OPENBSD_4_8:1.1.0.6
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.4
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2010.09.08.09.57.28;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2009.06.19.21.35.37;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update the sidebar/compressed patches to work with this snapshot.
- new LIB_DEPENDS/REVISION.
- switch to a newer snapshot pulled from the repo, rolling in the
upstream patches.

requested by edd@@. thanks to jasper@@, landry@@, pea@@ for testing.
@
text
@$OpenBSD: patch-buffy_c,v 1.1 2009/06/19 21:35:37 sthen Exp $

r5914 from upstream; Do not free statically-allocated
buffy buffer. Unbreaks unmailboxes, ticket #3273.

--- buffy.c.orig	Fri Jun 19 22:30:51 2009
+++ buffy.c	Fri Jun 19 22:30:52 2009
@@@@ -236,7 +236,6 @@@@ int mutt_parse_mailboxes (BUFFER *path, BUFFER *s, uns
     {
       if(*tmp)
       {
-        FREE (&((*tmp)->path));
         tmp1=(*tmp)->next;
         FREE (tmp);		/* __FREE_CHECKED__ */
         *tmp=tmp1;
@


1.1
log
@don't try and free a static buffer, avoiding a segfault with unmailboxes;
regression since 1.5.19. From Mutt upstream.
@
text
@d1 1
a1 1
$OpenBSD$
@

