head	1.2;
access;
symbols
	OPENBSD_4_8:1.1.0.6
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.4
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2010.09.08.09.57.28;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2009.06.16.09.37.19;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update the sidebar/compressed patches to work with this snapshot.
- new LIB_DEPENDS/REVISION.
- switch to a newer snapshot pulled from the repo, rolling in the
upstream patches.

requested by edd@@. thanks to jasper@@, landry@@, pea@@ for testing.
@
text
@$OpenBSD: patch-handler_c,v 1.1 2009/06/16 09:37:19 sthen Exp $

unbreak header weeding for message/rfc822 parts, mutt bug #3265

--- handler.c.orig	Mon Jun 15 21:08:41 2009
+++ handler.c	Mon Jun 15 21:08:57 2009
@@@@ -1090,7 +1090,7 @@@@ static int message_handler (BODY *a, STATE *s)
     mutt_copy_hdr (s->fpin, s->fpout, off_start, b->parts->offset,
 	(((s->flags & M_WEED) || ((s->flags & (M_DISPLAY|M_PRINTING)) && option (OPTWEED))) ? (CH_WEED | CH_REORDER) : 0) |
 	(s->prefix ? CH_PREFIX : 0) | CH_DECODE | CH_FROM |
-	(s->flags & M_DISPLAY) ? CH_DISPLAY : 0, s->prefix);
+	((s->flags & M_DISPLAY) ? CH_DISPLAY : 0), s->prefix);
 
     if (s->prefix)
       state_puts (s->prefix, s);
@


1.1
log
@- bug-fix and SECURITY update to 1.5.20; fixes CVE-2009-1390 (X.509
Certificate Chain Security Bypass vulnerability).

- added a couple of post-1.5.20 patches from upstream for regressions

- cleanup the port's handling of sample config files

testing by Simon Kuhnle, Edd Barrett, testing and ok landry@@.
@
text
@d1 1
a1 1
$OpenBSD$
@

