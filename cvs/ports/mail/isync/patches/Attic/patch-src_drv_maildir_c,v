head	1.2;
access;
symbols
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.12.20.09.59.23;	author jasper;	state dead;
branches;
next	1.1;
commitid	LpqXG01KnuDuhZu1;

1.1
date	2015.04.03.20.08.10;	author czarkoff;	state Exp;
branches;
next	;
commitid	EmpUXAmTop1wZvEU;


desc
@@


1.2
log
@update to isync-1.2.1
@
text
@$OpenBSD: patch-src_drv_maildir_c,v 1.1 2015/04/03 20:08:10 czarkoff Exp $
--- src/drv_maildir.c.orig	Fri Apr  3 17:24:41 2015
+++ src/drv_maildir.c	Fri Apr  3 17:25:15 2015
@@@@ -1464,7 +1464,7 @@@@ maildir_set_msg_flags( store_t *gctx, message_t *gmsg,
 			for (i = 0; i < as(Flags); i++) {
 				if ((p = strchr( s, Flags[i] ))) {
 					if (del & (1 << i)) {
-						memcpy( p, p + 1, fl - (p - s) );
+						memmove( p, p + 1, fl - (p - s) );
 						fl--;
 					}
 				} else if (add & (1 << i)) {
@


1.1
log
@use memmove(3) instead of memcpy(3)

Forgot to add this patch while updating isync to 1.2.0.
@
text
@d1 1
a1 1
$OpenBSD$
@

