head	1.37;
access;
symbols
	OPENBSD_6_1:1.37.0.4
	OPENBSD_6_1_BASE:1.37
	OPENBSD_6_0:1.37.0.2
	OPENBSD_6_0_BASE:1.37
	OPENBSD_5_9:1.33.0.2
	OPENBSD_5_9_BASE:1.33
	OPENBSD_5_8:1.32.0.4
	OPENBSD_5_8_BASE:1.32
	OPENBSD_5_7:1.31.0.2
	OPENBSD_5_7_BASE:1.31
	OPENBSD_5_6:1.29.0.2
	OPENBSD_5_6_BASE:1.29
	OPENBSD_5_5:1.22.0.2
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_2:1.19.0.4
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.2
	OPENBSD_5_0:1.17.0.2
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.11.0.4
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.11.0.2
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.10.0.4
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.2
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.7.0.2
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	ajacoutot_20071122:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.37
date	2016.07.10.11.55.21;	author ajacoutot;	state Exp;
branches;
next	1.36;
commitid	z5d1nBYCZyNp45NM;

1.36
date	2016.04.13.05.54.38;	author ajacoutot;	state Exp;
branches;
next	1.35;
commitid	FEyN530s76c95AzV;

1.35
date	2016.04.12.19.18.18;	author naddy;	state Exp;
branches;
next	1.34;
commitid	iBNusezb7RJkhyxq;

1.34
date	2016.03.10.21.58.51;	author naddy;	state Exp;
branches;
next	1.33;
commitid	g78OHI8ulpVtt3HS;

1.33
date	2015.10.20.19.36.46;	author ajacoutot;	state Exp;
branches;
next	1.32;
commitid	ewDSzKsUKAyjXKJV;

1.32
date	2015.03.19.20.25.26;	author naddy;	state Exp;
branches;
next	1.31;
commitid	zN8twHQGaJf3YJpT;

1.31
date	2015.01.27.13.38.05;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	k1CfpROGwOFCH9yP;

1.30
date	2014.08.30.08.56.04;	author miod;	state Exp;
branches;
next	1.29;
commitid	sKIEhpMc6wcMlEGk;

1.29
date	2014.07.16.07.50.50;	author ajacoutot;	state Exp;
branches;
next	1.28;
commitid	kTT3GE6ou47TeMww;

1.28
date	2014.07.10.13.09.06;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	Xpirey71VpT09196;

1.27
date	2014.04.27.16.43.32;	author sthen;	state Exp;
branches;
next	1.26;

1.26
date	2014.04.27.16.39.46;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2014.04.22.19.47.02;	author kili;	state Exp;
branches;
next	1.24;

1.24
date	2014.04.21.13.46.53;	author sthen;	state Exp;
branches;
next	1.23;

1.23
date	2014.04.21.12.26.19;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2014.01.19.09.40.28;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2013.10.17.09.08.03;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2012.09.27.15.11.17;	author ajacoutot;	state dead;
branches;
next	1.19;

1.19
date	2011.12.02.14.36.15;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2011.10.23.19.46.57;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.06.02.13.41.39;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2010.11.19.07.23.05;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.12.13.54.47;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.23.19.41.47;	author jsg;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.18.19.59.15;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.08.31.20.07.10;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.11.08.08.22.53;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2009.01.23.11.41.29;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2008.12.28.11.09.03;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2008.10.15.14.31.04;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2008.06.15.00.08.44;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.06.12.21.47.20;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.05.20.07.17.16;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.04.24.10.11.43;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.01.03.10.54.35;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2007.12.07.17.56.01;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2007.11.22.13.49.52;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.11.22.13.49.52;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.37
log
@Fix imap authentication.

from Anthony La Porte
@
text
@# $OpenBSD: Makefile,v 1.36 2016/04/13 05:54:38 ajacoutot Exp $

COMMENT-main=		UW e-mail client
COMMENT-c-client=	UW c-client mail access routines
COMMENT-imap=		UW IMAP4rev1/POP2/POP3 mail servers
COMMENT-mailutil=	UW IMAP4rev1/POP2/POP3 mail utility
COMMENT-pico=		UW text editor
COMMENT-pilot=		UW file system navigator

V=			2.20
DISTNAME=		alpine-${V}
EXTRACT_SUFX=		.tar.xz

SHARED_LIBS=		c-client 7.0

# grep "PICO version" ${WRKSRC}/pico/pico.h
PICO_V=			5.07
# grep PILOT_VERSION ${WRKSRC}/pico/pilot.c
PILOT_V=		2.99

PKGNAME-main=		alpine-${V}
PKGNAME-c-client=	c-client-${V}
PKGNAME-imap=		imap-uw-${V}
PKGNAME-mailutil=	mailutil-uw-${V}
PKGNAME-pico=		pico-${PICO_V}
PKGNAME-pilot=		pilot-${PILOT_V}

REVISION-main=		0
REVISION-c-client=	0
REVISION-imap=		2
REVISION-mailutil=	0
REVISION-pico=		4
REVISION-pilot=		16

EPOCH-c-client=		0
EPOCH-imap=		0
EPOCH-mailutil=		0

CATEGORIES=		mail
CATEGORIES-main=	mail news
CATEGORIES-c-client=	devel mail
CATEGORIES-pico=	editors
CATEGORIES-pilot=	sysutils

HOMEPAGE=		http://patches.freeiz.com/alpine/

# Apache 2.0
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=		http://patches.freeiz.com/alpine/release/src/ \
			https://www.mpeters.org/mirror/

MULTI_PACKAGES=		-main -c-client -imap -mailutil -pico -pilot

WANTLIB += c crypto iconv intl ncurses ssl

WANTLIB-main=		${WANTLIB} pthread
WANTLIB-c-client=	# empty
WANTLIB-pico=		${WANTLIB} pthread
WANTLIB-pilot=		${WANTLIB} pthread

LIB_DEPENDS=		devel/gettext
BUILD_DEPENDS=		textproc/aspell/core
RUN_DEPENDS-main=	textproc/aspell/core
RUN_DEPENDS-pico=	textproc/aspell/core

# Link error: c-client not found!
USE_LIBTOOL=		gnu

SHLIB=			libc-client.so.${LIBc-client_VERSION}
MAKE_FLAGS=		EXTRACFLAGS="${CFLAGS}" \
			SHLIB="${SHLIB}" \
			SHLIBNAME=${SHLIB} \
			CC="${CC}"

CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib" \
			ac_cv_search_regcomp=-lc \
			ac_cv_search_SSL_library_init="`pkg-config --libs openssl`"
CONFIGURE_ARGS=		--with-system-pinerc=${SYSCONFDIR}/pine.conf \
			--with-system-fixed-pinerc=${SYSCONFDIR}/pine.conf.fixed \
			--with-system-mail-directory=/var/mail \
			--with-ssl-certs-dir=/etc/ssl \
			--with-simple-spellcheck=aspell \
			--with-interactive-spellcheck=aspell \
			--with-c-client-target=bso \
			--with-debug-level=0 \
			--without-ldap \
			--without-tcl \
			--without-npa \
			--enable-quotas \
			--disable-debug

HEADERS=		c-client.h dummy.h env.h env_unix.h fdstring.h \
			flockcyg.h flocksim.h flstring.h fs.h ftl.h \
			imap4r1.h linkage.c linkage.h mail.h misc.h \
			netmsg.h newsrc.h nl.h nntp.h osdep.h pseudo.h \
			rfc822.h smtp.h sslio.h tcp.h tcp_unix.h unix.h \
			utf8.h utf8aux.h

post-install:
	# alpine, pico, pilot
	${INSTALL_DATA_DIR} ${PREFIX}/share/{doc,examples}/alpine
	${INSTALL_DATA} ${WRKSRC}/doc/tech-notes/tech-notes.txt \
		${WRKSRC}/doc/mailcap.unx \
		${WRKSRC}/doc/mime.types \
		${PREFIX}/share/doc/alpine
	${WRKBUILD}/alpine/alpine -conf > \
		${PREFIX}/share/examples/alpine/pine.conf
	# c-client
	${INSTALL_DATA_DIR} ${PREFIX}/include/c-client
	cd ${WRKSRC}/c-client; ${INSTALL_DATA} ${HEADERS} \
		${PREFIX}/include/c-client
	${INSTALL_DATA} ${WRKBUILD}/c-client/c-client.a \
		${PREFIX}/lib/libc-client.a
	@@if [ -f ${WRKBUILD}/imap/c-client/${SHLIB} ]; then \
		${INSTALL_DATA} ${WRKSRC}/c-client/${SHLIB} ${PREFIX}/lib; \
	fi
	# imap-uw
	${INSTALL_PROGRAM} ${WRKBUILD}/imap/imapd/imapd ${PREFIX}/libexec
	${INSTALL_PROGRAM} ${WRKBUILD}/imap/ipopd/ipop2d ${PREFIX}/libexec
	${INSTALL_PROGRAM} ${WRKBUILD}/imap/ipopd/ipop3d ${PREFIX}/libexec
	${INSTALL_PROGRAM} ${WRKBUILD}/imap/mlock/mlock ${PREFIX}/libexec
	${INSTALL_PROGRAM} ${WRKBUILD}/imap/dmail/dmail ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKBUILD}/imap/tmail/tmail ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/imap/src/{imapd,ipopd}/*.8 \
		${PREFIX}/man/man8
	${INSTALL_MAN} ${WRKSRC}/imap/src/{dmail,tmail}/*.1 \
		${PREFIX}/man/man1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/imap-uw
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/imap-uw
	${INSTALL_DATA} ${FILESDIR}/c-client.cf \
		${PREFIX}/share/examples/imap-uw
	tar -C ${WRKSRC}/imap/docs -cf - . | \
		tar -C ${PREFIX}/share/doc/imap-uw -xf -
	find ${PREFIX}/share/doc/imap-uw -type f -exec chmod 0644 {} \;
	# mailutil
	${INSTALL_PROGRAM} ${WRKBUILD}/imap/mailutil/mailutil ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/imap/src/mailutil/mailutil.1 ${PREFIX}/man/man1

.include <bsd.port.mk>
@


1.36
log
@Simplify WANTLIB/LIB_DEPENDS after devel/gettext MODULE removal in previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2016/04/12 19:18:18 naddy Exp $
d30 1
a30 1
REVISION-imap=		1
@


1.35
log
@replace gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2016/03/10 21:58:51 naddy Exp $
a58 2
WANTLIB-imap=		${WANTLIB}
WANTLIB-mailutil=	${WANTLIB}
d64 2
a65 3
RUN_DEPENDS-main=	${RUN_DEPENDS} textproc/aspell/core
RUN_DEPENDS-pico=	${RUN_DEPENDS} textproc/aspell/core
RUN_DEPENDS-c-client=	#empty
@


1.34
log
@remove various instances of NO_SHARED_LIBS and PROPERTIES:Mno_shared,
fold PFRAG.shared into PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/10/20 19:36:46 ajacoutot Exp $
d28 1
d30 4
a33 3
REVISION-imap=		0
REVISION-pico=		3
REVISION-pilot=		15
d55 1
a55 1
WANTLIB += c crypto ncurses ssl
d64 1
a64 1
MODULES=		devel/gettext
@


1.33
log
@smmsp -> _smmsp

from Geoff Steckel with a few tweaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/03/19 20:25:26 naddy Exp $
d82 1
a82 2
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--with-system-pinerc=${SYSCONFDIR}/pine.conf \
a143 4

.if defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:L} == "yes"
MAKE_ENV +=		NO_SHARED_LIBS=Yes
.endif
@


1.32
log
@fold lib-only PFRAG.shared into PLIST, and some related cleanups
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/01/27 13:38:05 ajacoutot Exp $
d29 1
@


1.31
log
@Update to alpine-2.20.
(c-client-2.20, imap-uw-2.20, mailutil-uw-2.20, pico-5.07, pilot-2.99)

input, test and ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2014/08/30 08:56:04 miod Exp $
d28 1
@


1.30
log
@Remove RAND_egd tentacles in never-used code paths gcc 4 is smart enough to
optimize away, but gcc 3 isn't. Bump VERSION.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/07/16 07:50:50 ajacoutot Exp $
d10 1
a10 1
V=			2.11
d14 1
a14 1
SHARED_LIBS=		c-client 6.0
d28 2
a29 6
REVISION-main=		3
REVISION-mailutil=	2
REVISION-imap=		4
REVISION-pico=		2
REVISION-pilot=		14
REVISION-c-client=	2
d91 1
d105 1
a105 1
	${INSTALL_DATA} ${WRKSRC}/doc/tech-notes.txt \
@


1.29
log
@No more lynx in base.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/07/10 13:09:06 ajacoutot Exp $
d28 6
a33 6
REVISION-main=		2
REVISION-mailutil=	1
REVISION-imap=		3
REVISION-pico=		1
REVISION-pilot=		13
REVISION-c-client=	1
@


1.28
log
@rc.conf.local is in man(1) section 8, at least for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/04/27 16:43:32 sthen Exp $
d28 1
a28 1
REVISION-main=		1
@


1.27
log
@switch to using `pkg-config --libs openssl`, suggested by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2014/04/27 16:39:46 sthen Exp $
d30 1
a30 1
REVISION-imap=		2
@


1.26
log
@c-client lost SSL support after kerbV removal (libssl requires libcrypto,
but because we don't do inter-library links in base, it isn't pulled in
automatically) - explicitly pass the required libraries, and bump shlib
version; this particular update is really just a minor, but bumping major
here because we missed it before.  ok aja@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/04/22 19:47:02 kili Exp $
d83 1
a83 1
			ac_cv_search_SSL_library_init="-lcrypto -lssl"
@


1.25
log
@-pico and -pilot need bumps, too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/04/21 13:46:53 sthen Exp $
d14 1
a14 1
SHARED_LIBS=		c-client 5.1
d28 6
a33 6
REVISION-main=		0
REVISION-mailutil=	0
REVISION-imap=		1
REVISION-pico=		0
REVISION-pilot=		12
REVISION-c-client=	0
d55 1
a55 1
WANTLIB += c ncurses
d82 2
a83 1
			ac_cv_search_regcomp=-lc
@


1.24
log
@missing bump which caused me some head scratching ;)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/04/21 12:26:19 ajacoutot Exp $
d31 2
a32 1
REVISION-pilot=		11
@


1.23
log
@Drop gssapi support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/01/19 09:40:28 ajacoutot Exp $
d32 1
@


1.22
log
@Fix mode for doc files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/10/17 09:08:03 ajacoutot Exp $
d28 3
a30 1
REVISION-imap=		0
d53 1
a53 2
WANTLIB += asn1 c crypto gssapi krb5 ncurses ssl
WANTLIB += com_err heimbase roken wind
d55 1
a55 1
WANTLIB-main=		${WANTLIB} com_err crypto pthread ssl
d57 2
a58 2
WANTLIB-imap=		${WANTLIB} com_err crypto ssl
WANTLIB-mailutil=	${WANTLIB} com_err crypto ssl
d75 1
a75 3
			CC="${CC}" \
			EXTRAAUTHENTICATORS="gss" \
			GSSCFLAGS="-DHEIMDAL"
d78 1
a78 1
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include $$(krb5-config --cflags)" \
a79 1
			LIBS="$$(krb5-config gssapi --libs)" \
@


1.21
log
@Update to alpine-2.11.
New upstream, re-alpine is dead...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/08/30 01:45:13 djm Exp $
d28 1
d139 1
@


1.20
log
@Remove, these ports are superseded by mail/re-alpine.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/12/02 14:36:15 espie Exp $
d3 36
a38 3
COMMENT-main=	UW e-mail client
COMMENT-pico=	UW text editor
COMMENT-pilot=	UW file system navigator
d40 1
a40 2
V=		2.00
DISTNAME=	alpine-${V}
d42 2
a43 2
PICO_V=		5.04 # grep "PICO version" ${WRKSRC}/pico/pico.h
PILOT_V=	2.99 # grep PILOT_VERSION ${WRKSRC}/pico/pilot.c
d45 2
a46 3
CATEGORIES=	mail news
CATEGORIES-pico=editors
CATEGORIES-pilot=sysutils
d48 1
a48 3
PKGNAME-main=	alpine-${V}
PKGNAME-pico=	pico-${PICO_V}
PKGNAME-pilot=	pilot-${PILOT_V}
d50 2
a51 3
REVISION-main=	5
REVISION-pico=	2
REVISION-pilot=	4
d53 49
a101 55
HOMEPAGE=	http://www.washington.edu/alpine/

# Apache 2.0
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	ftp://ftp.cac.washington.edu/alpine/

WANTLIB=	c ncurses pthread
WANTLIB-main=	${WANTLIB} asn1 com_err crypto gssapi kafs krb5 ssl

MULTI_PACKAGES=	-main -pico -pilot

MODULES=	devel/gettext
BUILD_DEPENDS=	mail/imap-uw,-c-client>=2007b \
		textproc/aspell/core
RUN_DEPENDS=	textproc/aspell/core

USE_LIBTOOL=	Yes
USE_GROFF =	Yes

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		alpine_with_local_maildir="/var/mail"
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-system-pinerc=${SYSCONFDIR}/pine.conf \
		--with-system-fixed-pinerc=${SYSCONFDIR}/pine.conf.fixed \
		--with-system-mail-directory=/var/mail \
		--with-ssl-certs-dir=/etc/ssl \
		--with-supplied-regex=no \
		--without-tcl \
		--enable-quotas

FLAVORS=	ldap
FLAVOR?=

.if ${FLAVOR:Mldap}
CONFIGURE_ARGS+=--with-ldap-dir=${LOCALBASE}
LIB_DEPENDS+=	databases/openldap,-main
WANTLIB+=	sasl2 lber ldap
WANTLIB-pico=	${WANTLIB} asn1 com_err crypto gssapi krb5 ssl
WANTLIB-pilot=	${WANTLIB} asn1 com_err crypto gssapi krb5 ssl
.else
CONFIGURE_ARGS+=--without-ldap
.endif

pre-configure:
	@@cd ${WRKSRC} && ln -sf ${LOCALBASE}/include/c-client c-client
	@@cd ${WRKSRC}/imap/src && rm -rf c-client \
		&& ln -sf ${LOCALBASE}/include/c-client c-client
	${SUBST_CMD} ${WRKSRC}/alpine/Makefile.in \
		${WRKSRC}/pico/Makefile.in
d104 2
a105 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/alpine
d110 31
d143 4
@


1.19
log
@bye bye FLAVOR:L
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/10/23 19:46:57 ajacoutot Exp $
@


1.18
log
@I no longer use these, so remove myself from MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/06/02 13:41:39 ajacoutot Exp $
d64 1
a64 1
.if ${FLAVOR:L:Mldap}
@


1.17
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/11/19 07:23:05 espie Exp $
d21 3
a23 5
REVISION-main=	4
REVISION-pico=	1
REVISION-pilot=	3

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
@


1.16
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/11/12 13:54:47 jasper Exp $
d21 1
a21 1
REVISION-main=	3
@


1.15
log
@switch to pkg-readmes

ok ajacoutot@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/10/23 19:41:47 jsg Exp $
d43 3
a45 3
BUILD_DEPENDS=	:c-client->=2007b:mail/imap-uw,-c-client \
		:aspell-*:textproc/aspell/core
RUN_DEPENDS=	:aspell-*:textproc/aspell/core
d68 1
a68 1
LIB_DEPENDS+=	::databases/openldap,-main
@


1.14
log
@no need to link libdes for kerberos
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/18 19:59:15 espie Exp $
d21 1
a21 1
REVISION-main=	2
a87 1
		${FILESDIR}/README.OpenBSD \
@


1.13
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/08/31 20:07:10 ajacoutot Exp $
d21 1
a21 1
REVISION-main=	1
d38 1
a38 1
WANTLIB-main=	${WANTLIB} asn1 com_err crypto des gssapi kafs krb5 ssl
@


1.12
log
@Set "Do Not Send Flowed Text" by default to allow sending proper inline
diffs ("cool!!!" sthen@@).
Switch to REVISION and new DEPENDS.

Add a README.OpenBSD file explaining how to setup pop/imap/smtp.

Most work from Daniel Dickman (thanks!), with a couple of tweaks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/11/08 08:22:53 ajacoutot Exp $
d48 1
@


1.11
log
@mail/imap-uw,-c-client,plaintext is no more.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/01/23 11:41:29 ajacoutot Exp $
d17 7
a23 3
PKGNAME-main=	alpine-${V}p0
PKGNAME-pico=	pico-${PICO_V}p1
PKGNAME-pilot=	pilot-${PILOT_V}p3
d67 2
a68 2
LIB_DEPENDS+=	lber.>=9,ldap.>=9::databases/openldap,-main
WANTLIB+=	sasl2
d87 1
@


1.10
log
@- fix a locales related crash in the editor

crash reported by Niels Van Mourik via jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/12/28 11:09:03 ajacoutot Exp $
d39 1
a39 1
BUILD_DEPENDS=	:c-client->=2007b-!plaintext:mail/imap-uw,-c-client \
@


1.9
log
@- fix a typo in PLISTs that would prevent upgrading from old versions of
pilot and pico

from Ingo Schwarze, thanks for spotting this!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/10/15 14:31:04 ajacoutot Exp $
d17 3
a19 3
PKGNAME-main=	alpine-${V}
PKGNAME-pico=	pico-${PICO_V}p0
PKGNAME-pilot=	pilot-${PILOT_V}p2
@


1.8
log
@- update to alpine 2.00 (+pico 5.04)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/06/15 00:08:44 ajacoutot Exp $
d18 2
a19 2
PKGNAME-pico=	pico-${PICO_V}
PKGNAME-pilot=	pilot-${PILOT_V}p1
@


1.7
log
@- use SUBST_CMD
- explicitely set configure options
no pkg change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/06/12 21:47:20 ajacoutot Exp $
d7 1
a7 1
V=		1.10
d10 1
a10 1
PICO_V=		5.01 # grep "PICO version" ${WRKSRC}/pico/pico.h
d17 3
a19 3
PKGNAME-main=	alpine-${V}p0
PKGNAME-pico=	pico-${PICO_V}p0
PKGNAME-pilot=	pilot-${PILOT_V}p0
d39 1
a39 1
BUILD_DEPENDS=	:c-client->=2007a1-!plaintext:mail/imap-uw,-c-client \
@


1.6
log
@- fix a crash when using tab-completion for selecting a save filename
(from alpine SVN)
- regen PLIST while here

reported to and fixed by upstream
issue spotted by Jonathan Thornburg <J.Thornburg at soton.ac dot uk>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/05/20 07:17:16 ajacoutot Exp $
d54 1
a54 1
		--with-kerberos \
d73 3
a75 3
	@@cd ${WRKSRC}/imap/src && rm -rf c-client && ln -sf ${LOCALBASE}/include/c-client c-client
	@@perl -pi -e 's,!!LOCALBASE!!,${LOCALBASE},g' \
		${WRKSRC}/alpine/Makefile.in \
@


1.5
log
@- update to alpine-1.10, pico-5.01

from Daniel Dickman <didickman at gmail dot com>, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/04/24 10:11:43 ajacoutot Exp $
d17 3
a19 3
PKGNAME-main=	alpine-${V}
PKGNAME-pico=	pico-${PICO_V}
PKGNAME-pilot=	pilot-${PILOT_V}
@


1.4
log
@- make sure we do not use the plaintext FLAVOR from c-client

CRAM-MD5 authentication and alikes can be disabled using the
"disable-these-authenticators=..." option if needed;
plaintext will still work over TLS/SSL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/01/03 10:54:35 ajacoutot Exp $
d7 1
a7 1
V=		1.00
d10 2
a11 2
PICO_V=		4.98
PILOT_V=	2.99
d17 1
a17 1
PKGNAME-main=	alpine-${V}p0
d39 1
a39 1
BUILD_DEPENDS=	:c-client->=2007-!plaintext:mail/imap-uw,-c-client \
@


1.3
log
@- update to alpine-1.00
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/12/07 17:56:01 ajacoutot Exp $
d17 1
a17 1
PKGNAME-main=	alpine-${V}
d39 1
a39 1
BUILD_DEPENDS=	:c-client->=2007:mail/imap-uw,-c-client \
@


1.2
log
@- install some useful sample files and docs

based on a submission by Markus Hennecke
<markus-hennecke at markus-hennecke dot de>, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/11/22 13:49:52 ajacoutot Exp $
d7 1
a7 1
V=		0.99999
d17 1
a17 1
PKGNAME-main=	alpine-${V}p0
d39 1
a39 1
BUILD_DEPENDS=	:c-client-*:mail/imap-uw,-c-client \
d47 2
a48 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d17 1
a17 1
PKGNAME-main=	alpine-${V}
d76 7
@


1.1.1.1
log
@Import alpine-0.99999

Alpine is a screen-oriented message-handling tool.  In its default
configuration, Alpine offers an intentionally limited set of functions
geared toward the novice user, but it also has a large list of optional
"power-user" and personal-preference features.


Note: Alpine is the next-generation successor to Pine and supersed it;
it is not a rewrite, it is mostly the same code with a license change
and several improvements (Pine development stopped more than 2 years ago).

ok djm@@
@
text
@@
