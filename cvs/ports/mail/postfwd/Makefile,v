head	1.7;
access;
symbols
	OPENBSD_6_1:1.7.0.8
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.7.0.6
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.4
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.6.0.8
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.6
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.4
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	giovanni-20130320:1.1.1.1
	giovanni:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2015.07.15.20.33.57;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	RFLVeqkLnZcJTtxn;

1.6
date	2013.07.18.08.48.00;	author giovanni;	state Exp;
branches;
next	1.5;

1.5
date	2013.07.17.07.52.43;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2013.07.17.07.36.06;	author giovanni;	state Exp;
branches;
next	1.3;

1.3
date	2013.06.27.02.50.17;	author william;	state Exp;
branches;
next	1.2;

1.2
date	2013.04.23.09.22.46;	author giovanni;	state Exp;
branches;
next	1.1;

1.1
date	2013.03.20.14.22.06;	author giovanni;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.03.20.14.22.06;	author giovanni;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Fix pexp.
@
text
@# $OpenBSD: Makefile,v 1.6 2013/07/18 08:48:00 giovanni Exp $

COMMENT =	Postfix policy server

DISTNAME =	postfwd-1.35
REVISION =	4
CATEGORIES =	mail

HOMEPAGE =	http://www.postfwd.org/

MAINTAINER =	Giovanni Bechis <giovanni@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM =Yes

MASTER_SITES =	${HOMEPAGE}

RUN_DEPENDS =	devel/p5-Net-Server \
		devel/p5-IO-Multiplex \
		net/p5-Net-DNS 

PKG_ARCH =	*
NO_BUILD =	Yes
NO_TEST =	Yes

do-install:
	${INSTALL_SCRIPT} ${WRKSRC}/sbin/postfwd2 ${PREFIX}/sbin/postfwd2
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/postfwd/
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/postfwd/plugins/
	${INSTALL_DATA} ${WRKSRC}/etc/postfwd.cf.sample ${PREFIX}/share/examples/postfwd/postfwd.cf.sample
	${INSTALL_DATA} ${WRKSRC}/plugins/* ${PREFIX}/share/examples/postfwd/plugins/
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/postfwd/
	${INSTALL_SCRIPT} ${WRKSRC}/tools/postfwd-client.pl ${PREFIX}/bin/postfwd-client.pl
	${INSTALL_SCRIPT} ${WRKSRC}/tools/rblcheck.pl ${PREFIX}/bin/rblcheck.pl
	${INSTALL_SCRIPT} ${WRKSRC}/tools/hapolicy/hapolicy ${PREFIX}/sbin/hapolicy
	${INSTALL_DATA} ${WRKSRC}/doc/postfwd2* ${PREFIX}/share/doc/postfwd/
	${INSTALL_DATA} ${WRKSRC}/tools/hapolicy/hapolicy.* ${PREFIX}/share/doc/postfwd/
	${INSTALL_DATA} ${WRKSRC}/tools/request.sample ${PREFIX}/share/doc/postfwd/request.sample
	${INSTALL_MAN} ${WRKSRC}/man/man8/postfwd2.8 ${PREFIX}/man/man8/postfwd2.8

.include <bsd.port.mk>
@


1.6
log
@
Fix rc scripts for real and put pid where it belongs
ok william@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/07/17 07:52:43 ajacoutot Exp $
d6 1
a6 1
REVISION =	3
@


1.5
log
@etc -> SYSCONFDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/07/17 07:36:06 giovanni Exp $
d6 1
a6 1
REVISION =	2
@


1.4
log
@
Fix stop and reload case in rc script.
with and ok william@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/06/27 02:50:17 william Exp $
d6 1
a6 1
REVISION =	1
@


1.3
log
@Add hapolicy, rblcheck, postfwd-client, and the request.sample (cited
in the docs) to the package and bump REVISION; ok giovanni@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/04/23 09:22:46 giovanni Exp $
d6 1
a6 1
REVISION =	0
@


1.2
log
@
Update to 1.35, some compatibility fixes with newer Perl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/03/20 14:22:06 giovanni Exp $
d6 1
d33 3
d37 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.64 2013/03/11 14:45:20 espie Exp $
d5 1
a5 1
DISTNAME =	postfwd-1.34
a20 2
USE_GROFF =	Yes

d28 1
d30 1
@


1.1.1.1
log
@
Import mail/postfwd, a postfix policy server
help and ok brad@@ and landry@@

Postfwd is a policy server that combines complex Postfix restrictions
in a ruleset similar to those of most firewalls. Postfwd
uses the Postfix policy delegation protocol to control access to
the mail system before a message has been accepted. It allows you
to choose an action (e.g. reject, dunno) for a combination of several
SMTP parameters (like sender and recipient address, size or the
client's TLS fingerprint).
@
text
@@
