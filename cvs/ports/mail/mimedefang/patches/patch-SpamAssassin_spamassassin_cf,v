head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.18
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.16
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.14
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.10
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.12
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.8
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2013.03.28.14.27.19;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.09.18.15.34.39;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2012.05.31.18.31.42;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Enable queuing by default (up to 10 msgs).
Rework and document the way mimedefang+spamassassin work wrt bayes.
Add a note on using mfs(8) for the spool directory.
Take maintainer.

ok okan@@ (former maintainer)
@
text
@$OpenBSD$
--- SpamAssassin/spamassassin.cf.orig	Thu Mar 28 12:17:56 2013
+++ SpamAssassin/spamassassin.cf	Thu Mar 28 12:21:08 2013
@@@@ -70,6 +70,16 @@@@ rewrite_subject 0
 
 skip_rbl_checks 1
 
+# Place the learning data into the journal for later synchronization.
+# This is typically useful for high-traffic sites to avoid the
+# contention of having each SpamAssassin process attempt to gain write
+# access to the Bayes DB.
+# "sa-learn --force-expire" must be run as the _mdefang user on a
+# regular basis to synchronize the journal data into the Bayes DB.
+#
+bayes_learn_to_journal 1
+bayes_auto_expire 0
+
 ###########################################################################
 # Add your own customised scores for some tests below.  The default scores are
 # read from the installed "spamassassin.cf" file, but you can override them
@


1.2
log
@* set default email to postmaster@@localhost since this alias exists by default
and change AdminName accordingly
* disable the filter_bad_filename filter by default, it is the admin's
job to choose whether he wants to enable it or not
* remove useless spamassassin.cf patch
* run mimedefang with -G so that external helpers (e.g. antivirus scanners)
can access its socket by being added to the _mdefang group

ok okan@@ (maintainer)
@
text
@d1 4
a4 9
$OpenBSD: patch-SpamAssassin_spamassassin_cf,v 1.1 2012/05/31 18:31:42 ajacoutot Exp $
--- SpamAssassin/spamassassin.cf.orig	Thu May 31 17:42:57 2012
+++ SpamAssassin/spamassassin.cf	Thu May 31 17:43:06 2012
@@@@ -44,7 +44,7 @@@@ ok_locales		en
 # By default, the subject lines of suspected spam will be tagged.
 # This can be disabled here.
 #
-rewrite_subject 0
+# rewrite_header Subject *****SPAM*****
d6 15
a20 2
 # By default, spamassassin will include its report in the body
 # of suspected spam. Enabling this causes the report to go in the
@


1.1
log
@Update to mimedefang-2.73.

Rework the port to comply with upstream defaults and generally simplify
it. Set default options in rc.d(8) following the default init script
behavior.
Activate ipheader and install gen-ip-validator.pl.

ok okan@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
@

