head	1.13;
access;
symbols
	OPENBSD_6_2:1.13.0.16
	OPENBSD_6_2_BASE:1.13
	OPENBSD_6_1:1.13.0.14
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.13.0.12
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.13.0.8
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.10
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.13.0.6
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.13.0.4
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.2
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.11.0.2
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.10.0.2
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.4
	OPENBSD_5_0:1.8.0.2
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.7.0.2
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.6.0.8
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.6.0.6
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.4
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.2
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.5.0.4
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	alek_20061019:1.1.1.1
	alek:1.1.1;
locks; strict;
comment	@# @;


1.13
date	2014.02.06.16.00.44;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2013.03.28.14.27.19;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2012.12.05.18.51.56;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2012.06.01.15.35.48;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2012.05.31.18.31.42;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2011.05.11.12.57.48;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2010.12.07.02.56.19;	author okan;	state Exp;
branches;
next	1.6;

1.6
date	2008.10.21.23.28.14;	author okan;	state Exp;
branches;
next	1.5;

1.5
date	2007.11.02.22.40.04;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.27.07.42.09;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.26.21.24.50;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2007.07.27.21.57.30;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2006.10.19.01.06.22;	author alek;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.10.19.01.06.22;	author alek;	state Exp;
branches;
next	;


desc
@@


1.13
log
@Tweak @@user and according @@comment.
@
text
@@@comment $OpenBSD: PLIST,v 1.12 2013/03/28 14:27:19 ajacoutot Exp $
@@comment non-volatile homedir needed for sa-learn(1), MD sets user_dir to QUARANTINEDIR
@@newgroup _mdefang:570
@@newuser _mdefang:570:_mdefang:daemon:MIMEDefang User:/var/spool/MD-Quarantine:/sbin/nologin
@@extraunexec rm -rf /var/spool/MIMEDefang/*
@@extraunexec rm -rf /var/spool/MD-Quarantine/*
@@bin bin/md-mx-ctrl
@@bin bin/mimedefang
@@bin bin/mimedefang-multiplexor
bin/mimedefang-util
bin/mimedefang.pl
bin/watch-mimedefang
bin/watch-multiple-mimedefangs.tcl
@@man man/man1/mimedefang-util.1
@@man man/man5/mimedefang-filter.5
@@man man/man7/mimedefang-notify.7
@@man man/man7/mimedefang-protocol.7
@@man man/man8/md-mx-ctrl.8
@@man man/man8/mimedefang-multiplexor.8
@@man man/man8/mimedefang.8
@@man man/man8/mimedefang.pl.8
@@man man/man8/watch-mimedefang.8
@@man man/man8/watch-multiple-mimedefangs.8
share/doc/pkg-readmes/${FULLPKGNAME}
share/examples/gen-ip-validator.pl
share/examples/mimedefang/
share/examples/mimedefang/mail/
share/examples/mimedefang/mail/mimedefang-filter
share/examples/mimedefang/mail/mimedefang-filter-openbsd-ports
@@sample ${SYSCONFDIR}/mail/mimedefang-filter
@@mode 0400
@@owner _mdefang
share/examples/mimedefang/mail/mimedefang-ip-key
@@mode
@@owner
share/examples/mimedefang/mail/sa-mimedefang.cf
@@sample ${SYSCONFDIR}/mail/sa-mimedefang.cf
@@mode 0750
@@owner _mdefang
@@group _mdefang
@@sample /var/spool/MIMEDefang/
@@sample /var/spool/MD-Quarantine/
@@mode
@@owner
@@group
@@rcscript ${RCDIR}/mimedefang
@@rcscript ${RCDIR}/mimedefang_multiplexor
@


1.12
log
@Enable queuing by default (up to 10 msgs).
Rework and document the way mimedefang+spamassassin work wrt bayes.
Add a note on using mfs(8) for the spool directory.
Take maintainer.

ok okan@@ (former maintainer)
@
text
@d1 2
a2 2
@@comment $OpenBSD: PLIST,v 1.11 2012/12/05 18:51:56 ajacoutot Exp $
@@comment homedir is needed force sa-learn under the ~/.spamassassin
d4 1
a4 1
@@newuser _mdefang:570:_mdefang:daemon:MIMEDefang:/var/spool/MD-Quarantine:/sbin/nologin
@


1.11
log
@Add `-r' to mimedefang flags by default.
Add an example for filter_relay() that works out of the box.
Rename the mimedefang_daemon rc.d(8) script to mimedefang as it's
supposed to be...

ok okan@@ (maintainer)
@
text
@d1 2
a2 1
@@comment $OpenBSD: PLIST,v 1.10 2012/06/01 15:35:48 ajacoutot Exp $
d4 1
a4 1
@@newuser _mdefang:570:_mdefang:daemon:MIMEDefang:/nonexistent:/sbin/nologin
@


1.10
log
@Add some commented examples on how to do most usual tasks (tag spam,
discard and/or quarantine virus mails...).

ok okan@@ (maintainer)
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.9 2012/05/31 18:31:42 ajacoutot Exp $
d45 1
a45 1
@@rcscript ${RCDIR}/mimedefang_daemon
@


1.9
log
@Update to mimedefang-2.73.

Rework the port to comply with upstream defaults and generally simplify
it. Set default options in rc.d(8) following the default init script
behavior.
Activate ipheader and install gen-ip-validator.pl.

ok okan@@ (maintainer)
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.8 2011/05/11 12:57:48 jasper Exp $
d28 1
@


1.8
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.

ok aja@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.7 2010/12/07 02:56:19 okan Exp $
a3 1
@@extraunexec rm -rf /var/run/mdefang/*
d9 1
d13 1
d24 1
d26 2
a27 2
@@sample ${SYSCONFDIR}/mail/
share/examples/mimedefang/mimedefang-filter
d29 6
a34 1
share/examples/mimedefang/sa-mimedefang.cf
a35 2
@@rcscript ${RCDIR}/mimedefang_daemon
@@rcscript ${RCDIR}/mimedefang_multiplexor
d41 5
a45 2
@@mode 0755
@@sample /var/run/mdefang/
@


1.7
log
@- update to 2.71
- switch to pkg-readmes
- add rc scripts

pointers with README's and ok jasper@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.6 2008/10/21 23:28:14 okan Exp $
d4 3
a37 3
@@extraunexec rm -rf /var/run/mdefang/*
@@extraunexec rm -rf /var/spool/MIMEDefang/*
@@extraunexec rm -rf /var/spool/MD-Quarantine/*
@


1.6
log
@- update to 2.65
- use SUBST_CMD
- fix sample startup rc.mimedefang

ok merdely
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.5 2007/11/02 22:40:04 sthen Exp $
d19 1
a23 4
share/examples/mimedefang/rc.mimedefang
@@mode 0750
@@sample ${SYSCONFDIR}/rc.mimedefang
@@mode
d26 2
@


1.5
log
@update to 2.63

ok steven
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.4 2007/09/27 07:42:09 sthen Exp $
d4 3
a6 3
bin/md-mx-ctrl
bin/mimedefang
bin/mimedefang-multiplexor
@


1.4
log
@revert PLIST change, SYSCONFDIR != /etc

pointed out & requested by sturm
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.3 2007/09/26 21:24:50 sthen Exp $
d24 1
a24 1
@@mode 755
d36 1
a36 1
@@unexec rm -rf /var/run/mdefang/*
@


1.3
log
@don't @@sample /etc/mail, it's in base.

@@unexec -> @@extraunexec to stop pkg_delete complaining if
/var/run/mimedefang doesn't exist.

ok merdely
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.2 2007/07/27 21:57:30 steven Exp $
d20 1
d36 1
a36 1
@@extraunexec rm -rf /var/run/mdefang/*
@


1.2
log
@update to 2.62;  makes it work with sendmail 8.14
from and tested by Stuart Henderson

depend on p5-HTML-Parser (suggested by Eric Olsen)
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.1.1.1 2006/10/19 01:06:22 alek Exp $
a19 1
@@sample ${SYSCONFDIR}/mail/
d35 1
a35 1
@@unexec rm -rf /var/run/mdefang/*
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.15 2004/12/28 21:03:51 sturm Exp $
d9 1
d18 1
@


1.1.1.1
log
@Import mimedefang 2.57

MIMEDefang is a framework for filtering e-mail. It uses Sendmail's
"Milter" API, some C glue code, and some Perl code to let you write
high-performance mail filters in Perl.

Joint work with dlg@@
@
text
@@
