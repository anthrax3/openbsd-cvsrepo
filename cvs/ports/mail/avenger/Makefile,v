head	1.23;
access;
symbols
	OPENBSD_6_0:1.23.0.14
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.23.0.10
	OPENBSD_5_9_BASE:1.23
	OPENBSD_5_8:1.23.0.12
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.23.0.8
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.23.0.6
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.23.0.4
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.21.0.2
	OPENBSD_5_3_BASE:1.21
	OPENBSD_5_2:1.20.0.2
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.2
	OPENBSD_5_0:1.15.0.2
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.8.0.2
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.5.0.4
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.2
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.2.0.8
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.6
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2
	sturm_20051127:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2013.03.21.08.46.32;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2013.03.11.11.23.50;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2012.11.14.12.57.34;	author gonzalo;	state Exp;
branches;
next	1.20;

1.20
date	2012.03.29.13.38.40;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2012.03.08.12.13.00;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2011.12.02.14.36.15;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2011.09.16.10.31.21;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2011.09.12.18.02.34;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2011.03.29.12.03.53;	author pea;	state Exp;
branches;
next	1.14;

1.14
date	2011.01.14.22.17.03;	author landry;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.26.14.50.10;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.19.07.23.05;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.09.20.13.25;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.10.18.19.59.15;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.09.26.07.34.27;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2010.07.09.06.01.07;	author landry;	state Exp;
branches;
next	1.7;

1.7
date	2010.04.26.20.09.18;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2010.04.15.14.58.24;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2009.03.16.11.40.24;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2007.10.25.21.05.33;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.16.00.17.04;	author merdely;	state Exp;
branches;
next	1.2;

1.2
date	2006.02.20.21.10.40;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2005.11.27.17.42.48;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.11.27.17.42.48;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.23
log
@USE_LIBTOOL=Yes is the default now.
@
text
@# $OpenBSD: Makefile,v 1.22 2013/03/11 11:23:50 espie Exp $

COMMENT=		anti-spam SMTP server
DISTNAME=		avenger-0.8.3
CATEGORIES=		mail

HOMEPAGE=		http://www.mailavenger.org/

# GPL
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c crypto m pcap ssl stdc++ lib/db4/db>=4

MASTER_SITES=		${HOMEPAGE}/dist/

LIB_DEPENDS=		databases/db/v4

SEPARATE_BUILD=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--with-db=${LOCALBASE} \
			--with-etcdir=${SYSCONFDIR}/avenger
CONFIGURE_ENV+=		WFLAGS="-Wall"

MAKE_FLAGS+=		CFLAGS+=-DHAVE_GETPEEREID \
			CXXFLAGS+=-DHAVE_GETPEEREID

FLAVORS=                sasl2
FLAVOR?=

.if ${FLAVOR:Msasl2}
CONFIGURE_ARGS +=        --enable-sasl
LIB_DEPENDS +=		security/cyrus-sasl2
WANTLIB +=		sasl2
.else
CONFIGURE_ARGS +=	--disable-sasl
.endif

.include <bsd.port.mk>
@


1.22
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/11/14 12:57:34 gonzalo Exp $
a15 1
USE_LIBTOOL=		Yes
@


1.21
log
@Update for Avenger to 0.8.3.

While here GROFF is not needed.

Ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/03/29 13:38:40 sthen Exp $
a10 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.20
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/03/08 12:13:00 ajacoutot Exp $
d4 1
a4 2
DISTNAME=		avenger-0.8.1
REVISION=		2
a19 1
USE_GROFF =		Yes
@


1.19
log
@Garbage collect the /dev/arandom patches.

from Brad
ok landry@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/12/02 14:36:15 espie Exp $
d24 1
a24 1
SEPARATE_BUILD=		concurrent
@


1.18
log
@bye bye FLAVOR:L
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/09/16 10:31:21 espie Exp $
d5 1
a5 1
REVISION=		1
d28 1
a28 2
CONFIGURE_ENV+=		WFLAGS="-Wall" \
			sfs_cv_dev_random="/dev/arandom"
@


1.17
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/09/12 18:02:34 naddy Exp $
d37 1
a37 1
.if ${FLAVOR:L:Msasl2}
@


1.16
log
@bump all (sub)packages that depend on db/v4; requested by and help from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/03/29 12:03:53 pea Exp $
d5 1
a5 1
REVISION=		0
@


1.15
log
@Update to 0.8.1
Remove maintainer per his request
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/01/14 22:17:03 landry Exp $
d5 1
@


1.14
log
@Set @@conflict markers, both ports install bin/deliver.
Reported by naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/26 14:50:10 espie Exp $
d4 1
a4 2
DISTNAME=		avenger-0.7.4
REVISION =		3
a7 2

MAINTAINER=		David Mazieres (http://www.scs.stanford.edu/~dm/addr/)
@


1.13
log
@since db/v4 has db->=4,<5 as default, no need to specify it explicitly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/19 07:23:05 espie Exp $
d5 1
a5 1
REVISION =		2
@


1.12
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/11/09 20:13:25 espie Exp $
d24 1
a24 1
LIB_DEPENDS=		db->=4,<5:databases/db/v4
@


1.11
log
@WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/10/18 19:59:15 espie Exp $
d18 1
a18 1
WANTLIB=		c crypto m pcap ssl stdc++ lib/db4/db.>=4
d24 1
a24 1
LIB_DEPENDS=		:db->=4,<5:databases/db/v4
d41 1
a41 1
LIB_DEPENDS +=		::security/cyrus-sasl2
@


1.10
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/09/26 07:34:27 steven Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p2
d18 1
a18 1
WANTLIB=		c crypto m pcap ssl stdc++
d23 2
a24 2
USE_GROFF =	Yes
LIB_DEPENDS=		lib/db4/db.>=4:db->=4,<5:databases/db/v4
d40 3
a42 2
CONFIGURE_ARGS+=        --enable-sasl
LIB_DEPENDS+=		sasl2::security/cyrus-sasl2
d44 1
a44 1
CONFIGURE_ARGS+=	--disable-sasl
@


1.9
log
@appears to build fine with openbsd libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/04/26 20:09:18 steven Exp $
d23 1
@


1.8
log
@Fix getpeereid() fallout. header uses #ifdef HAVE_GETPEEREID, but configure
doesn't even check for the function presence. Add -DHAVE_GETPEEREID to
CFLAGS/CXXFLAGS in MAKE_FLAGS to fix it.
@
text
@d22 1
a22 1
USE_LIBTOOL=		gnu
@


1.7
log
@use gnu libtool here for now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/03/16 11:40:24 espie Exp $
d31 3
@


1.6
log
@Stupid poor blank lines, stupid poor blank lines...
@
text
@d22 1
a22 1
USE_LIBTOOL=		Yes
@


1.5
log
@a few deps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/10/25 21:05:33 steven Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p1
@


1.4
log
@db.=4 -> db.>=4  in preparation of db4 update

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/09/16 00:17:04 merdely Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p0
d23 1
a23 1
LIB_DEPENDS=		lib/db4/db.>=4:db-4.*:databases/db/v4
@


1.3
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/02/20 21:10:40 sturm Exp $
d5 1
d23 1
a23 1
LIB_DEPENDS=		lib/db4/db.=4:db-4.*:databases/db/v4
@


1.2
log
@update to avenger 0.7.4
this release fixes a bug, where spamassassin 3.1 would parse old mail
avenger headers incorrectly, rejecting legitimate mail

from maintainer David Mazieres
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/11/27 17:42:48 sturm Exp $
d3 1
a3 1
COMMENT=		"anti-spam SMTP server"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 1
DISTNAME=		avenger-0.7.2
@


1.1.1.1
log
@Initial import of Mail Avenger 0.7.2

Mail Avenger is a highly-configurable, MTA-independent SMTP server
daemon. It lets users run messages through filters like ClamAV and
SpamAssassin during SMTP transactions, so the server can reject mail
before assuming responsibility for its delivery. Other unique features
include TCP SYN fingerprint and network route recording, verification
of sender addresses through SMTP callbacks, SPF (sender policy
framework) as a general policy language, qmail-style control over both
SMTP-level behavior and local delivery of extension addresses,
mail-bomb protection, integration with kernel firewalls, and more.

from David Mazieres (http://www.scs.stanford.edu/~dm/addr/)
@
text
@@
