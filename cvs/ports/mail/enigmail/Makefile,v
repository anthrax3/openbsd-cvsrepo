head	1.39;
access;
symbols
	OPENBSD_6_1:1.38.0.2
	OPENBSD_6_1_BASE:1.38
	OPENBSD_6_0:1.36.0.4
	OPENBSD_6_0_BASE:1.36
	OPENBSD_5_9:1.36.0.2
	OPENBSD_5_9_BASE:1.36
	OPENBSD_5_8:1.35.0.6
	OPENBSD_5_8_BASE:1.35
	OPENBSD_5_7:1.35.0.2
	OPENBSD_5_7_BASE:1.35
	OPENBSD_5_6:1.33.0.2
	OPENBSD_5_6_BASE:1.33
	OPENBSD_4_9:1.29.0.4
	OPENBSD_4_9_BASE:1.29
	OPENBSD_4_8:1.29.0.2
	OPENBSD_4_8_BASE:1.29
	OPENBSD_4_7:1.24.0.2
	OPENBSD_4_7_BASE:1.24
	OPENBSD_4_6:1.20.0.2
	OPENBSD_4_6_BASE:1.20
	OPENBSD_4_5:1.18.0.2
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.15.0.2
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.13.0.2
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.10.0.2
	OPENBSD_4_2_BASE:1.10
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	steven-20061003:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.39
date	2017.08.30.20.42.13;	author giovanni;	state Exp;
branches;
next	1.38;
commitid	mHz7HTrnl4lpg10h;

1.38
date	2016.11.25.14.01.25;	author giovanni;	state Exp;
branches;
next	1.37;
commitid	oScVXp8xVPUn7QBc;

1.37
date	2016.09.04.14.58.59;	author giovanni;	state Exp;
branches;
next	1.36;
commitid	IKmcWaArrrOohcIK;

1.36
date	2015.09.19.12.35.47;	author landry;	state Exp;
branches;
next	1.35;
commitid	DTI6LziXHEI7IQzy;

1.35
date	2014.09.24.20.06.14;	author landry;	state Exp;
branches;
next	1.34;
commitid	ms9vMvOfx6Stn3do;

1.34
date	2014.09.10.05.14.38;	author landry;	state Exp;
branches;
next	1.33;
commitid	P94ungovZ1U1zKJY;

1.33
date	2014.03.25.22.38.23;	author landry;	state Exp;
branches;
next	1.32;

1.32
date	2014.03.24.21.46.16;	author landry;	state Exp;
branches;
next	1.31;

1.31
date	2014.03.24.21.01.46;	author landry;	state Exp;
branches;
next	1.30;

1.30
date	2011.07.28.20.36.56;	author landry;	state dead;
branches;
next	1.29;

1.29
date	2010.07.27.20.19.27;	author landry;	state Exp;
branches;
next	1.28;

1.28
date	2010.07.27.20.14.49;	author landry;	state dead;
branches;
next	1.27;

1.27
date	2010.07.18.18.49.01;	author naddy;	state Exp;
branches;
next	1.26;

1.26
date	2010.06.23.17.11.50;	author landry;	state Exp;
branches;
next	1.25;

1.25
date	2010.04.03.09.46.09;	author landry;	state Exp;
branches;
next	1.24;

1.24
date	2009.12.27.15.51.47;	author steven;	state Exp;
branches;
next	1.23;

1.23
date	2009.11.17.23.08.35;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.09.18.20.33.50;	author martynas;	state Exp;
branches;
next	1.21;

1.21
date	2009.08.21.16.42.21;	author martynas;	state Exp;
branches;
next	1.20;

1.20
date	2009.06.24.09.42.34;	author martynas;	state Exp;
branches;
next	1.19;

1.19
date	2009.03.19.22.00.28;	author martynas;	state Exp;
branches;
next	1.18;

1.18
date	2009.01.09.15.47.30;	author martynas;	state Exp;
branches
	1.18.2.1;
next	1.17;

1.17
date	2008.12.19.11.44.07;	author martynas;	state Exp;
branches;
next	1.16;

1.16
date	2008.09.26.19.30.13;	author martynas;	state Exp;
branches;
next	1.15;

1.15
date	2008.07.24.10.15.51;	author martynas;	state Exp;
branches;
next	1.14;

1.14
date	2008.05.06.20.37.59;	author martynas;	state Exp;
branches;
next	1.13;

1.13
date	2008.02.29.21.51.01;	author bernd;	state Exp;
branches;
next	1.12;

1.12
date	2007.11.16.21.35.04;	author martynas;	state Exp;
branches;
next	1.11;

1.11
date	2007.09.16.00.17.04;	author merdely;	state Exp;
branches;
next	1.10;

1.10
date	2007.08.05.15.46.37;	author martynas;	state Exp;
branches;
next	1.9;

1.9
date	2007.07.27.23.58.17;	author kurt;	state Exp;
branches;
next	1.8;

1.8
date	2007.06.23.09.28.02;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2007.06.22.18.59.19;	author martynas;	state Exp;
branches;
next	1.6;

1.6
date	2007.06.11.07.42.53;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2007.05.03.13.35.50;	author kurt;	state Exp;
branches;
next	1.4;

1.4
date	2007.04.30.22.41.52;	author martynas;	state Exp;
branches;
next	1.3;

1.3
date	2007.03.19.22.15.16;	author martynas;	state Exp;
branches;
next	1.2;

1.2
date	2006.12.21.21.41.44;	author kurt;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2006.10.03.21.10.16;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.10.03.21.10.16;	author steven;	state Exp;
branches;
next	;

1.2.2.1
date	2007.05.01.16.21.45;	author sturm;	state Exp;
branches;
next	1.2.2.2;

1.2.2.2
date	2007.06.27.05.06.43;	author sturm;	state Exp;
branches;
next	;

1.18.2.1
date	2009.06.13.02.44.04;	author william;	state Exp;
branches;
next	;


desc
@@


1.39
log
@update to 1.9.8.1
Support to Thunderbird 55 added
ok landry@@
@
text
@# $OpenBSD: Makefile,v 1.38 2016/11/25 14:01:25 giovanni Exp $

# keep in synch with mozilla.port.mk
ONLY_FOR_ARCHS =	i386 amd64 powerpc sparc64
COMMENT-main =		GnuPG extension for Thunderbird
COMMENT-seamonkey =	GnuPG extension for Seamonkey

V =		1.9.8.1
DISTNAME =	enigmail-${V}
PKGNAME-main =	${PKGNAME}
PKGNAME-seamonkey =	enigmail-seamonkey-${V}
EPOCH =		0
HOMEPAGE =	http://www.mozilla-enigmail.org/
MASTER_SITES =	http://www.mozilla-enigmail.org/download/source/

CATEGORIES =	mail
MULTI_PACKAGES =	-main -seamonkey

# MPL
PERMIT_PACKAGE_CDROM=	Yes

MODULES =	lang/python
MODPY_RUNDEP =	No
USE_GMAKE =	Yes
CONFIGURE_STYLE =	gnu

BUILD_DEPENDS =	archivers/zip archivers/unzip
RUN_DEPENDS =	security/gnupg2
WRKDIST =	${WRKDIR}/enigmail

# needed for the naming of the libsubprocess.so
# the xpi, and the arch matching within mozilla
.if ${MACHINE_ARCH:Mi386}
XPCOM_ABI =	x86
.elif ${MACHINE_ARCH:Mamd64}
XPCOM_ABI =	x86_64
.elif ${MACHINE_ARCH:Mpowerpc}
XPCOM_ABI =	ppc
.elif ${MACHINE_ARCH:Msparc64}
XPCOM_ABI =	sparc
.endif
SUBST_VARS += XPCOM_ABI

EXTDIR =	${PREFIX}/lib/mozilla/extensions/
# enigmail's UUID
GUID =	{847b3a00-7ab1-11d4-8f02-006008948af5}
# TB and SM's UUIDs
APPS =	{3550f703-e582-4d05-9a08-453d09bdfdc6} {92650c4d-4b8e-4d2a-b7eb-24ecf4f6b63a}

post-configure:
	${SUBST_CMD} ${WRKSRC}/Makefile

post-build:
	cd ${WRKSRC} && ${MAKE_PROGRAM} xpi

do-install:
.for a in ${APPS}
	${INSTALL_DATA_DIR} ${EXTDIR}/${a}/${GUID}
	${UNZIP} -oq ${WRKBUILD}/build/enigmail*.xpi -d ${EXTDIR}/${a}/${GUID}
.endfor

.include <bsd.port.mk>
@


1.38
log
@update to 1.9.6
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2016/09/04 14:58:59 giovanni Exp $
d8 1
a8 1
V =		1.9.6
@


1.37
log
@update to 1.9.5
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2015/09/19 12:35:47 landry Exp $
d8 2
a9 1
DISTNAME =	enigmail-1.9.5
d11 1
a11 1
PKGNAME-seamonkey =	enigmail-seamonkey-1.9.5
@


1.36
log
@Update to enigmail 1.8.2.

Switch to depend by default on gnupg2, enigmail can use both but prefers
the latter and will deprecate support for gnupg 1.4 in the next
versions.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2014/09/24 20:06:14 landry Exp $
d8 1
a8 1
DISTNAME =	enigmail-1.8.2
d10 1
a10 1
PKGNAME-seamonkey =	enigmail-seamonkey-1.8.2
d48 3
@


1.35
log
@Add unzip to BDEP, since it's used during do-install.. noticed by rpe@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2014/09/10 05:14:38 landry Exp $
d8 1
a8 1
DISTNAME =	enigmail-1.7.2
d10 1
a10 1
PKGNAME-seamonkey =	enigmail-seamonkey-1.7.2
d27 1
a27 1
RUN_DEPENDS =	security/gnupg
@


1.34
log
@Update to enigmail 1.7.2

See https://www.enigmail.net/download/changelog.php#enig1.7.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2014/03/25 22:38:23 landry Exp $
d26 1
a26 1
BUILD_DEPENDS =	archivers/zip
@


1.33
log
@Add archivers/zip to BDEP; espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2014/03/24 21:46:16 landry Exp $
d8 3
a10 4
DISTNAME =	enigmail-source-5d83c7e111bac392d3d1b8fff0dc25f66d0dd890
EXTRACT_SUFX =	.zip
PKGNAME-main =	enigmail-1.6.20140324
PKGNAME-seamonkey =	enigmail-seamonkey-1.6.20140324
d13 1
a13 2
#MASTER_SITES =	http://www.mozilla-enigmail.org/download/source/
MASTER_SITES =	http://rhaalovely.net/stuff/
d28 1
@


1.32
log
@Update to git master, and mirror the tarball since sourceforge can't be
trusted... noted by jasper@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2014/03/24 21:01:46 landry Exp $
d28 1
@


1.31
log
@Resurrect mail/enigmail, shipping a git tarball from sf.net so that we
can use the "new" auto* build system decoupled from mozilla build system.

mail/enigmail,-main will replace mail/thunderbird,-enigmail (and
respectively, mail/enigmail,-seamonkey will replace
www/seamonkey,-enigmail) now that i've finally figured out how to
install systemwide extensions in ${LOCALBASE}/lib/mozilla/extensions/${APPID}
and how to automagically enable them.

Finally, we only build enigmail once...
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
a8 2
# use a git snapshots from SF to get the new build system
DISTNAME =	enigmail-source-4067f959be1d4e8467ffb54e045683a710859cd7
d10 2
a11 2
PKGNAME-main =	enigmail-1.6.20140313
PKGNAME-seamonkey =	enigmail-seamonkey-1.6.20140313
d15 1
a15 1
MASTER_SITES =	http://sourceforge.net/code-snapshots/git/e/en/enigmail/source.git/
@


1.30
log
@Garbage collect mail/enigmail, it's now built as subpackages of
mail/mozilla-thunderbird and www/seamonkey.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/07/27 20:19:27 landry Exp $
d3 4
a6 3
    SUBDIR =
    SUBDIR += seamonkey
    SUBDIR += thunderbird
d8 52
a59 1
.include <bsd.port.subdir.mk>
@


1.29
log
@Readd subdir Makefile so that thunderbird and seamonkey dirs are reached.
@
text
@d1 1
a1 1
# $OpenBSD$
@


1.28
log
@Temporary cvs delete. An infrastructure to build different versions of
enigmail for seamonkey and thunderbird will replace it.. as much as i
hate that way of doing things, seems i have no choice.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/07/18 18:49:01 naddy Exp $
d3 3
a5 1
SHARED_ONLY=	Yes
d7 1
a7 81
COMMENT-main=		GnuPG extension for Thunderbird
COMMENT-seamonkey=	GnuPG extension for Seamonkey

VER=		1.0.1
DISTNAME=	enigmail-${VER}
PKGNAME-main=	enigmail-${VER}p0
PKGNAME-seamonkey=	enigmail-seamonkey-${VER}p0
CATEGORIES=	mail security

MULTI_PACKAGES=	-main -seamonkey

# must be in sync with SO_VERSION in
# mail/mozilla-thunderbird and www/seamonkey
SHARED_LIBS=	enigmime	16.0

HOMEPAGE=	http://enigmail.mozdev.org/

# mozilla public license or GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	http://www.mozilla-enigmail.org/download/source/

THUNDERBIRD_DIR=mail/mozilla-thunderbird
BUILD_DEPENDS=	::${THUNDERBIRD_DIR}:configure \
		::archivers/unzip
RUN_DEPENDS=	::security/gnupg

LIB_DEPENDS-main=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_core:mozilla-thunderbird->=3.0.4:${THUNDERBIRD_DIR}
LIB_DEPENDS-seamonkey=	seamonkey/xpcom,seamonkey/xpcom_core:seamonkey->=2.0.4:www/seamonkey
WANTLIB=	c m nspr4 plc4 plds4

USE_X11=	Yes
USE_GMAKE=	Yes
NO_REGRESS=	Yes

MOZBASE=	${WRKDIR}/${THUNDERBIRD_DIR}/comm-1.9.1
MOZBIN=		${MOZBASE}/mozilla/dist/bin
WRKDIST=	${WRKDIR}/enigmail
WRKSRC=		${MOZBASE}/mailnews/extensions/enigmail

GNU_ARCH=	${MACHINE_ARCH:S/amd64/x86_64/}
ENIGMAIL_XPI=	${DISTNAME:S/.1//}-openbsd-${GNU_ARCH}.xpi

# unzip ${ENIGMAIL_XPI} and inspect install.rdf for GUID
GUID=		{847b3a00-7ab1-11d4-8f02-006008948af5}
GLOBALDIR=	${PREFIX}/mozilla-thunderbird/extensions/${GUID}
SEAMONKEYDIR=	${PREFIX}/seamonkey/extensions/${GUID}

SUBST_VARS=	GUID

post-extract:
	@@perl -pi -e 's|(genxpi.*) (\$$\(TARGET_XPCOM_ABI\))|\1 "\2"|g' \
		${WRKDIST}/Makefile.in
	@@perl -pi -e 's|[-_]?\$${xpcomAbi}||g' ${WRKDIST}/genxpi
	@@mv ${WRKDIST} ${MOZBASE}/mailnews/extensions

do-build:
	@@cd ${MOZBASE} && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} export
	@@cd ${MOZBASE}/mozilla/modules/libreg && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM}
	@@cd ${MOZBASE}/mozilla/xpcom/string && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM}
	@@cd ${MOZBASE}/mozilla/xpcom && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM}
	@@cd ${MOZBASE}/mozilla/xpcom/obsolete && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM}
	@@cd ${WRKSRC} && ./makemake -r
	@@cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM}
	@@cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} xpi

do-install:
	${INSTALL_DATA_DIR} ${GLOBALDIR}
	unzip -q ${MOZBIN}/${ENIGMAIL_XPI} -d ${GLOBALDIR}
	${INSTALL_DATA_DIR} ${SEAMONKEYDIR}
	unzip -q ${MOZBIN}/${ENIGMAIL_XPI} -d ${SEAMONKEYDIR}
	cp ${GLOBALDIR}/platform/OpenBSD*/components/libenigmime.so.* \
		${GLOBALDIR}/components/
	mv ${GLOBALDIR}/platform/OpenBSD*/components/libenigmime.so.* \
		${SEAMONKEYDIR}/components/
	rm -Rf ${GLOBALDIR}/platform/

.include <bsd.port.mk>
@


1.27
log
@Remove redundant variables OPSYS and OPSYS_VER.
OPSYS was always "OpenBSD", the ports tree doesn't cover other
operating systems.
OPSYS_VER was the same as OSREV.

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/06/23 17:11:50 landry Exp $
@


1.26
log
@Bump PKGNAME/SO_VERSION to chase www/mozilla-thunderbird update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/04/03 09:46:09 landry Exp $
d49 1
a49 1
ENIGMAIL_XPI=	${DISTNAME:S/.1//}-${OPSYS:L}-${GNU_ARCH}.xpi
@


1.25
log
@Update to enigmail 1.0.1, version which works with thunderbird 3.
Added a -seamonkey subpackage which supersedes mail/enigmail-seamonkey.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/12/27 15:51:47 steven Exp $
d10 2
a11 2
PKGNAME-main=	enigmail-${VER}
PKGNAME-seamonkey=	enigmail-seamonkey-${VER}
d18 1
a18 1
SHARED_LIBS=	enigmime	15.0
@


1.24
log
@loosen dependency on thunderbird/seamonkey (>= instead of exact pkg version)

ajacoutot@@ agrees

problem noticed by Mikolaj Kucharski
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/09/18 20:33:50 martynas Exp $
d5 2
a6 1
COMMENT=	GnuPG extension for Thunderbird
d8 1
a8 1
VER=		0.96.0
d10 2
a11 1
PKGNAME=	${DISTNAME}p1
d14 5
a18 1
SHARED_LIBS=	enigmime	14.0
d35 2
a36 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird->=2.0.0.23p0:${THUNDERBIRD_DIR}
d43 2
a44 2
MOZBASE=	${WRKDIR}/${THUNDERBIRD_DIR}/mozilla
MOZBIN=		${MOZBASE}/dist/bin
d49 1
a49 1
ENIGMAIL_XPI=	${DISTNAME}-${OPSYS:L}-${GNU_ARCH}.xpi
d54 1
d66 4
a69 4
	@@cd ${MOZBASE}/modules/libreg && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM}
	@@cd ${MOZBASE}/xpcom/string && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM}
	@@cd ${MOZBASE}/xpcom && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM}
	@@cd ${MOZBASE}/xpcom/obsolete && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM}
d77 4
d82 2
a83 1
		${GLOBALDIR}/components/
@


1.23
log
@Bump SHARED_LIBS and LIB_DEPENDS after mozilla-thunderbird+seamonkey
commits.

prodded by sthen@@
@
text
@d9 1
a9 1
PKGNAME=	${DISTNAME}p0
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.23p0:${THUNDERBIRD_DIR}
@


1.22
log
@http://enigmail.mozdev.org/download/changelog.php#enig0.96.0
* A total of 81(!) bugs were fixed in this release.
* Improvements to the main user interface for decrypting messages.
* Use gpg groups as target for email addresses and rules.
* Option to automatically attach signing key to sent messages.
* Allow to send encrypted messages to newsgroups.
* New displaying of keys in the Enigmail key manager.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/08/21 16:42:21 martynas Exp $
d9 1
d12 1
a12 1
SHARED_LIBS=	enigmime	13.0
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.23:${THUNDERBIRD_DIR}
@


1.21
log
@update for 2.0.0.23
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/06/24 09:42:34 martynas Exp $
d7 1
a7 1
VER=		0.95.7
a8 1
PKGNAME=	${DISTNAME}p4
d50 3
@


1.20
log
@update enigmail for mozilla-thunderbird-2.0.0.22
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/03/19 22:00:28 martynas Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p3
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.22:${THUNDERBIRD_DIR}
@


1.19
log
@update for mozilla-thunderbird-2.0.0.21
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/01/09 15:47:30 martynas Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p2
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.21:${THUNDERBIRD_DIR}
@


1.18
log
@update for mozilla-thunderbird-2.0.0.19
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/12/19 11:44:07 martynas Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p1
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.19:${THUNDERBIRD_DIR}
@


1.18.2.1
log
@MFC:
update for mozilla-thunderbird-2.0.0.21
ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/03/19 22:00:28 martynas Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p2
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.21:${THUNDERBIRD_DIR}
@


1.17
log
@update for mozilla-thunderbird-2.0.0.18
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/09/26 19:30:13 martynas Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.18:${THUNDERBIRD_DIR}
@


1.16
log
@- update to enigmail-0.95.7, bug-fix release
http://enigmail.mozdev.org/download/changelog.php#enig0.95.7
- update for mozilla-thunderbird-2.0.0.17
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/07/24 10:15:51 martynas Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.17:${THUNDERBIRD_DIR}
@


1.15
log
@update for mozilla-thunderbird-2.0.0.16
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/05/06 20:37:59 martynas Exp $
d7 1
a7 1
VER=		0.95.6
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.16:${THUNDERBIRD_DIR}
@


1.14
log
@- bugfix update to enigmail-0.95.6:
http://enigmail.mozdev.org/download/changelog.php#enig0.95.6
- update for mozilla-thunderbird-2.0.0.14
- fix MASTER_SITES
ok kurt@@, naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/02/29 21:51:01 bernd Exp $
d9 1
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.14:${THUNDERBIRD_DIR}
@


1.13
log
@Build with current thunderbird.

ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/11/16 21:35:04 martynas Exp $
d7 1
a7 1
VER=		0.95.5
a8 1
PKGNAME=	${DISTNAME}p0
d21 1
a21 1
MASTER_SITES=	http://www.mozilla-enigmail.org/downloads/src/
d28 1
a28 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.12:${THUNDERBIRD_DIR}
@


1.12
log
@update to enigmail-0.95.5, a bug-fix release;  ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/09/16 00:17:04 merdely Exp $
d9 1
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.9:${THUNDERBIRD_DIR}
@


1.11
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/08/05 15:46:37 martynas Exp $
d7 1
a7 1
VER=		0.95.3
d28 1
a28 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.6:${THUNDERBIRD_DIR}
@


1.10
log
@- update to 0.95.3;
- bump for 2.0.0.6;
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/07/27 23:58:17 kurt Exp $
d5 1
a5 1
COMMENT=	"GnuPG extension for Thunderbird"
@


1.9
log
@- update LIB_DEPENDS to match 2.0.0.5 thunderbird
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/06/23 09:28:02 steven Exp $
d7 1
a7 1
VER=		0.95.1
a8 1
PKGNAME=	${DISTNAME}p0
d28 1
a28 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.5:${THUNDERBIRD_DIR}
@


1.8
log
@enigmail appears to work fine on sparc64, so remove BROKEN.
prodding by martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/06/22 18:59:19 martynas Exp $
d9 1
d29 1
a29 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.4:${THUNDERBIRD_DIR}
@


1.7
log
@Update to 0.95.1 which contains bug fixes, including the #16895 --
PGP/MIME message scrambled if password not typed correct on first.
Also, make it work with thunderbird 2.0.0.4.
ok kurt@@

P.S., i'm tired of asking this, this is the last time i do.  People
who have sparc64, please verify if this is still true after last
major tb/enigmail updates:
.if ${MACHINE_ARCH} == "sparc64"
BROKEN=         "Thunderbird hangs when accessing items from the OpenPGP menu"
.endif
Let me, or kurt@@ know.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/06/11 07:42:53 ajacoutot Exp $
a3 4

.if ${MACHINE_ARCH} == "sparc64"
BROKEN=		"Thunderbird hangs when accessing items from the OpenPGP menu"
.endif
@


1.6
log
@- unbreak fake target

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/05/03 13:35:50 kurt Exp $
d11 1
a11 1
VER=		0.95.0
a12 1
PKGNAME=	${DISTNAME}p0
d32 1
a32 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-2.0.0.0:${THUNDERBIRD_DIR}
@


1.5
log
@Install lib into generic components dir instead of arch specific dir.
Problem noticed by steven@@ diff from martynas@@ okay both.

NOTE: Due to change in location of the lib, anyone upgrading from 0.95.0
will need to uninstall 0.95.0, run thunderbird once then install 0.95.0p0.
Upgrading from prior versions will work fine.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/04/30 22:41:52 martynas Exp $
d70 1
a70 1
	mv ${GLOBALDIR}/platform/OpenBSD_*/components/libenigmime.so.* \
@


1.4
log
@update to 0.95.0 and make it work with mozilla-thunderbird-2.0.0.0
ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/03/19 22:15:16 martynas Exp $
d13 1
d70 2
@


1.3
log
@Security update to enigmail 0.94.3.
Fixes CVE-2007-1264.
ok kurt@@, naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/12/21 21:41:44 kurt Exp $
d11 1
a11 1
VER=		0.94.3
d15 1
a15 1
SHARED_LIBS=	enigmime	12.1
d32 1
a32 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-1.5.0.10:${THUNDERBIRD_DIR}
a70 1

@


1.2
log
@Install as a global extension now. Corrects problems reported by Stephan A.
Rickauer" <stephan.rickauer at ini.phys.ethz.ch>
NOTE:
SO_VERSION must be kept in sync with thunderbird's SO_VERSION.
LIB_DEPENDS must be kept in sync with thunderbird's PKGNAME.
with input and okay steven@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/10/03 21:10:16 steven Exp $
d11 1
a11 1
VER=		0.94.1
a12 1
PKGNAME=	enigmail-${VER}p0
d15 1
a15 1
SHARED_LIBS=	enigmime	12.0
d32 1
a32 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-1.5.0.9:${THUNDERBIRD_DIR}
@


1.2.2.1
log
@MFC:
Security update to enigmail 0.94.3.
Fixes CVE-2007-1264.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.2 2006/12/21 21:41:44 kurt Exp $

SHARED_ONLY=	Yes
d9 1
a9 1
VER=		0.94.3
d11 1
d14 1
a14 1
SHARED_LIBS=	enigmime	12.1
d31 1
a31 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-1.5.0.10:${THUNDERBIRD_DIR}
@


1.2.2.2
log
@update LIB_DEPENDS to thunderbird 1.5.0.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2.2.1 2007/05/01 16:21:45 sturm Exp $
a12 1
PKGNAME=	${DISTNAME}p0
d32 1
a32 1
LIB_DEPENDS=	mozilla-thunderbird/xpcom,mozilla-thunderbird/xpcom_compat,mozilla-thunderbird/xpcom_core:mozilla-thunderbird-1.5.0.12:${THUNDERBIRD_DIR}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d11 1
d14 2
d27 6
a32 3
BUILD_DEPENDS=	::${THUNDERBIRD_DIR}:configure
RUN_DEPENDS=	:mozilla-thunderbird->=1.5:${THUNDERBIRD_DIR} \
		::security/gnupg
a36 1
SUBST_VARS=	VER ENIGMAIL_XPI GNU_ARCH
d46 6
d66 2
a67 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/enigmail
	${INSTALL_DATA} ${MOZBIN}/${ENIGMAIL_XPI} ${PREFIX}/share/enigmail
d70 1
@


1.1.1.1
log
@import of Enigmail 0.94.1

Enigmail is an extension to the mail client of Mozilla/Netscape and
Mozilla Thunderbird which allows users to access the authentication and
encryption features provided by GnuPG.

go ahead espie@@
@
text
@@
