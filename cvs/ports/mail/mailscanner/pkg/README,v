head	1.5;
access;
symbols
	OPENBSD_6_1:1.5.0.12
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.5.0.10
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.6
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.8
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.4
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.2
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.3.0.12
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.10
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.8
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.6
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.4
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2014.07.22.10.55.40;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	3LzguPEQl5LkjlcD;

1.4
date	2014.07.12.11.25.00;	author sthen;	state Exp;
branches;
next	1.3;
commitid	76ij4rO0HAnPaXZj;

1.3
date	2011.07.22.19.57.20;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2011.06.02.13.41.39;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.11.16.09.17.55;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Tweak documentation according to recent rc changes.

ok jasper@@
@
text
@$OpenBSD: README,v 1.4 2014/07/12 11:25:00 sthen Exp $

+-----------------------------------------------------------------------
| Running ${FULLPKGNAME} on OpenBSD
+-----------------------------------------------------------------------

The MailScanner port is using the original MailScanner tarball from 
www.mailscanner.info. This tarball puts all the MailScanner files in 
subdirectories

bin	MailScanner binary / MailScanner start script etc.
etc	MailScanner config files / rules / report templates
lib	Virus wrapper and autoupdate scripts / MailScanner Perl libraries
docs	Documentation
var	pid file

In order to make this OpenBSD compliant the port installs those files
in the following directories:

${TRUEPREFIX}/libexec/MailScanner	MailScanner binary, virus wrapper/autoupdate
${TRUEPREFIX}/lib/MailScanner		MailScanner Perl libraries
${TRUEPREFIX}/share/MailScanner		MailScanner report templates
${TRUEPREFIX}/share/doc/MailScanner	Documentation
${TRUEPREFIX}/share/examples/MailScanner Example files
${SYSCONFDIR}/MailScanner		MailScanner config files / rules

See http://www.mailscanner.info  and the sample configuration
files in ${SYSCONFDIR}/MailScanner for further instructions.

To activate this package, you must do the following for sendmail:

1. Set the following in your sendmail.mc file:

	define(`confDELIVER_MODE',`queue')
	define(`confPRIVACY_FLAGS',`noetrn')

   (if you do not have a sendmail.mc file, use
    /usr/share/sendmail/cf/openbsd-proto.mc)

   and regenerate your sendmail.cf

   (if you do not know how, try:

	m4 /usr/share/sendmail/m4/cf.m4 sendmail.mc > test.cf
   )
   

2. Put the following line in /etc/rc.conf.local:

	sendmail_flags=-L sm-mta -bd -OQueueDirectory=/var/spool/mqueue.in

3. Add the following to /etc/rc.local:

  # MailScanner
  if [ -x /usr/sbin/sendmail ]; then
        echo -n ' sm-mta-queue'; /usr/sbin/sendmail -q30s -L sm-mta-queue
  fi

4. Add "mailscanner" to your pkg_scripts line in /etc/rc.conf.local.

5. Add the following to root's crontab:

  # Check the status of MailScanner every hour
  0       *       *       *       *       ${TRUEPREFIX}/bin/check_mailscanner -q


For other MTAs, configure according to MailScanner's documentation,
and follow steps 4 and 5 above.
@


1.4
log
@don't use "echo 'pkg_scripts="${pkg_scripts} icinga' >> /etc/rc.conf.local"
examples
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.3 2011/07/22 19:57:20 sthen Exp $
d50 1
a50 1
	sendmail_flags="-L sm-mta -bd -OQueueDirectory=/var/spool/mqueue.in"
@


1.3
log
@add an rc script for MailScanner, looks ok to Brad (maintainer).
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.2 2011/06/02 13:41:39 ajacoutot Exp $
d59 1
a59 3
4. Add the following to /etc/rc.conf.local:

  pkg_scripts="${pkg_scripts} mailscanner"
@


1.2
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.1 2010/11/16 09:17:55 jasper Exp $
d59 3
a61 4
  # MailScanner outbound queue
  if [ -x ${TRUEPREFIX}/bin/check_mailscanner ]; then
        echo -n ' MailScanner'; ${TRUEPREFIX}/bin/check_mailscanner
  fi
d63 1
a63 1
4. Add the following to root's crontab:
d67 4
@


1.1
log
@- switch to pkg-readmes

ok brad (MAINTAINER)
@
text
@d1 5
a5 1
$OpenBSD$
@

