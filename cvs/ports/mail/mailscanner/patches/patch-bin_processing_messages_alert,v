head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.32
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.30
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.28
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.24
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.26
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.22
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.20
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.18
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.16
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.14
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.12
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.10
	OPENBSD_5_0:1.3.0.8
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.6
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.4
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2009.10.07.20.59.29;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.05.23.21.30.05;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2009.04.08.22.29.24;	author todd;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to 4.78.17-1, from Brad (maintainer).
@
text
@$OpenBSD: patch-bin_processing_messages_alert,v 1.2 2009/05/23 21:30:05 sthen Exp $
--- bin/processing_messages_alert.orig	Tue Sep  8 10:21:09 2009
+++ bin/processing_messages_alert	Sat Sep 26 13:05:52 2009
@@@@ -1,13 +1,13 @@@@
 #!/bin/sh
 
-#noticesfrom=`perl -n -e 'print "$_" if chomp && s/^\s*Notices\s*From\s*=\s*([^\s#]+).*$/$1/' /opt/MailScanner/etc/MailScanner.conf`
-#localpostmaster=`perl -n -e 'print "$_" if chomp && s/^\s*Local\s*Postmaster\s*=\s*([^\s#]+).*$/$1/' /opt/MailScanner/etc/MailScanner.conf`
-#noticesto=`perl -n -e 'print "$_" if chomp && s/^\s*Notices\s*To\s*=\s*([^\s#]+).*$/$1/' /opt/MailScanner/etc/MailScanner.conf`
-#sendnotices=`perl -n -e 'print "$_" if chomp && s/^\s*Send\s*Notices\s*=\s*([^\s#]+).*$/$1/' /opt/MailScanner/etc/MailScanner.conf`
-noticesfrom=`/opt/MailScanner/bin/Quick.Peek noticesfrom /opt/MailScanner/etc/MailScanner.conf`
-localpostmaster=`/opt/MailScanner/bin/Quick.Peek localpostmaster /opt/MailScanner/etc/MailScanner.conf`
-noticesto=`/opt/MailScanner/bin/Quick.Peek noticesto /opt/MailScanner/etc/MailScanner.conf`
-sendnotices=`/opt/MailScanner/bin/Quick.Peek sendnotices /opt/MailScanner/etc/MailScanner.conf`
+#noticesfrom=`perl -n -e 'print "$_" if chomp && s/^\s*Notices\s*From\s*=\s*([^\s#]+).*$/$1/' %SYSCONFDIR%/MailScanner/MailScanner.conf`
+#localpostmaster=`perl -n -e 'print "$_" if chomp && s/^\s*Local\s*Postmaster\s*=\s*([^\s#]+).*$/$1/' %SYSCONFDIR%/MailScanner/MailScanner.conf`
+#noticesto=`perl -n -e 'print "$_" if chomp && s/^\s*Notices\s*To\s*=\s*([^\s#]+).*$/$1/' %SYSCONFDIR%/MailScanner/MailScanner.conf`
+#sendnotices=`perl -n -e 'print "$_" if chomp && s/^\s*Send\s*Notices\s*=\s*([^\s#]+).*$/$1/' %SYSCONFDIR%/MailScanner/MailScanner.conf`
+noticesfrom=`%PREFIX%/bin/Quick.Peek noticesfrom %SYSCONFDIR%/MailScanner/MailScanner.conf`
+localpostmaster=`%PREFIX%/bin/Quick.Peek localpostmaster %SYSCONFDIR%/MailScanner/MailScanner.conf`
+noticesto=`%PREFIX%/bin/Quick.Peek noticesto %SYSCONFDIR%/MailScanner/MailScanner.conf`
+sendnotices=`%PREFIX%/bin/Quick.Peek sendnotices %SYSCONFDIR%/MailScanner/MailScanner.conf`
 
 # Only do this if they want to send notices to postmaster at all
 if [ "x$sendnotices" = "xno" ]; then
@@@@ -21,7 +21,7 @@@@ if ( echo $noticesto | grep -q '^/' ); then
   noticesto=$localpostmaster
 fi
 
-alert=`/opt/MailScanner/bin/MailScanner --processing`
+alert=`%PREFIX%/bin/MailScanner --processing`
 
 if [ \! "x$alert" = "x" ]; then
   #cat <<EOM
@


1.2
log
@update to 4.76.25-1, from Brad. ok todd@@
@
text
@d1 4
a4 4
$OpenBSD: patch-bin_processing_messages_alert,v 1.1 2009/04/08 22:29:24 todd Exp $
--- bin/processing_messages_alert.orig	Wed May  6 15:39:02 2009
+++ bin/processing_messages_alert	Wed May 13 19:32:41 2009
@@@@ -1,16 +1,16 @@@@
d7 16
a22 8
-noticesfrom=`perl -n -e 'print "$_" if chomp && s/^\s*Notices\s*From\s*=\s*([^\s#]+).*$/$1/' /opt/MailScanner/etc/MailScanner.conf`
-localpostmaster=`perl -n -e 'print "$_" if chomp && s/^\s*Local\s*Postmaster\s*=\s*([^\s#]+).*$/$1/' /opt/MailScanner/etc/MailScanner.conf`
-noticesto=`perl -n -e 'print "$_" if chomp && s/^\s*Notices\s*To\s*=\s*([^\s#]+).*$/$1/' /opt/MailScanner/etc/MailScanner.conf`
-sendnotices=`perl -n -e 'print "$_" if chomp && s/^\s*Send\s*Notices\s*=\s*([^\s#]+).*$/$1/' /opt/MailScanner/etc/MailScanner.conf`
+noticesfrom=`perl -n -e 'print "$_" if chomp && s/^\s*Notices\s*From\s*=\s*([^\s#]+).*$/$1/' %SYSCONFDIR%/MailScanner/MailScanner.conf`
+localpostmaster=`perl -n -e 'print "$_" if chomp && s/^\s*Local\s*Postmaster\s*=\s*([^\s#]+).*$/$1/' %SYSCONFDIR%/MailScanner/MailScanner.conf`
+noticesto=`perl -n -e 'print "$_" if chomp && s/^\s*Notices\s*To\s*=\s*([^\s#]+).*$/$1/' %SYSCONFDIR%/MailScanner/MailScanner.conf`
+sendnotices=`perl -n -e 'print "$_" if chomp && s/^\s*Send\s*Notices\s*=\s*([^\s#]+).*$/$1/' %SYSCONFDIR%/MailScanner/MailScanner.conf`
d26 2
a27 1
   exit 0
@


1.1
log
@update to 4.75.11, tested by brad and sthen@@ for nearly a week now, from brad
@
text
@d1 4
a4 4
$OpenBSD$
--- bin/processing_messages_alert.orig	Wed Apr  1 18:09:59 2009
+++ bin/processing_messages_alert	Wed Apr  1 18:14:53 2009
@@@@ -1,10 +1,10 @@@@
d10 1
d14 6
@

