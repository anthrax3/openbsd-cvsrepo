head	1.7;
access;
symbols
	OPENBSD_6_2:1.7.0.4
	OPENBSD_6_2_BASE:1.7
	OPENBSD_6_1:1.7.0.2
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	sthen_20151009:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2017.03.08.17.02.13;	author sthen;	state Exp;
branches;
next	1.6;
commitid	A890MNPdF6wiuQcz;

1.6
date	2016.09.12.09.48.37;	author edd;	state Exp;
branches;
next	1.5;
commitid	E7di75op8BYcIz2l;

1.5
date	2016.05.27.09.18.14;	author sthen;	state Exp;
branches;
next	1.4;
commitid	GheqJMbHWIwZIxgU;

1.4
date	2016.02.25.00.47.55;	author sthen;	state Exp;
branches;
next	1.3;
commitid	amDaCn6p3CbhFxiB;

1.3
date	2016.01.19.01.14.51;	author sthen;	state Exp;
branches;
next	1.2;
commitid	iEGWVeykwJ99QWIT;

1.2
date	2015.10.28.09.57.35;	author sthen;	state Exp;
branches;
next	1.1;
commitid	5SsvBRr3GPXSKrf8;

1.1
date	2015.10.09.16.09.17;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;
commitid	fTxmpHhud3V1d0SA;

1.1.1.1
date	2015.10.09.16.09.17;	author sthen;	state Exp;
branches;
next	;
commitid	fTxmpHhud3V1d0SA;


desc
@@


1.7
log
@update to rspamd-1.5.2, from Brad
@
text
@$OpenBSD: patch-src_rspamadm_CMakeLists_txt,v 1.6 2016/09/12 09:48:37 edd Exp $
--- src/rspamadm/CMakeLists.txt.orig	Thu Feb  2 06:19:08 2017
+++ src/rspamadm/CMakeLists.txt	Sun Mar  5 15:23:51 2017
@@@@ -40,9 +40,9 @@@@ TARGET_LINK_LIBRARIES(rspamadm rspamd-server)
 TARGET_LINK_LIBRARIES(rspamadm ${RSPAMD_REQUIRED_LIBRARIES})
 TARGET_LINK_LIBRARIES(rspamadm rspamd-linenoise)
 
-IF (NOT DEBIAN_BUILD)
+IF (NOT DEBIAN_BUILD AND NOT OPENBSD_BUILD)
     SET_TARGET_PROPERTIES(rspamadm PROPERTIES VERSION ${RSPAMD_VERSION})
-ENDIF (NOT DEBIAN_BUILD)
+ENDIF (NOT DEBIAN_BUILD AND NOT OPENBSD_BUILD)
 
 IF (ENABLE_FANN MATCHES "ON")
     TARGET_LINK_LIBRARIES(rspamadm fann)
@


1.6
log
@Update to rspamd-1.3.5.

Also use the robot test suite, now that all of the dependencies are ported.

Thanks to upstream for working with us to get this working smoothly on OpenBSD.

Input from sthen@@ and giovanni@@, tested by giovanni@@ and gilles@@.

OK giovanni@@, thanks.
@
text
@d1 4
a4 4
$OpenBSD: patch-src_rspamadm_CMakeLists_txt,v 1.5 2016/05/27 09:18:14 sthen Exp $
--- src/rspamadm/CMakeLists.txt.orig	Fri Jul 22 10:18:48 2016
+++ src/rspamadm/CMakeLists.txt	Tue Aug 30 18:07:13 2016
@@@@ -39,9 +39,9 @@@@ TARGET_LINK_LIBRARIES(rspamadm rspamd-server)
@


1.5
log
@update to rspamd-1.2.7, from Brad
@
text
@d1 6
a6 6
$OpenBSD: patch-src_rspamadm_CMakeLists_txt,v 1.4 2016/02/25 00:47:55 sthen Exp $
--- src/rspamadm/CMakeLists.txt.orig	Mon Apr  4 12:37:40 2016
+++ src/rspamadm/CMakeLists.txt	Wed Apr 13 21:48:16 2016
@@@@ -44,9 +44,9 @@@@ IF(ENABLE_HIREDIS MATCHES "ON")
 ENDIF()
 TARGET_LINK_LIBRARIES(rspamadm rspamd-actrie)
@


1.4
log
@update to rspamd-1.1.4
@
text
@d1 4
a4 4
$OpenBSD: patch-src_rspamadm_CMakeLists_txt,v 1.3 2016/01/19 01:14:51 sthen Exp $
--- src/rspamadm/CMakeLists.txt.orig	Fri Feb  5 13:38:07 2016
+++ src/rspamadm/CMakeLists.txt	Tue Feb 23 14:20:53 2016
@@@@ -43,9 +43,9 @@@@ IF(ENABLE_HIREDIS MATCHES "ON")
@


1.3
log
@update to rspamd 1.1.0, from Brad.
@
text
@d1 4
a4 4
$OpenBSD: patch-src_rspamadm_CMakeLists_txt,v 1.2 2015/10/28 09:57:35 sthen Exp $
--- src/rspamadm/CMakeLists.txt.orig	Mon Jan 11 10:52:14 2016
+++ src/rspamadm/CMakeLists.txt	Mon Jan 18 18:35:49 2016
@@@@ -41,9 +41,9 @@@@ IF(ENABLE_HIREDIS MATCHES "ON")
@


1.2
log
@update to rspamd-1.0.9
@
text
@d1 4
a4 4
$OpenBSD: patch-src_rspamadm_CMakeLists_txt,v 1.1.1.1 2015/10/09 16:09:17 sthen Exp $
--- src/rspamadm/CMakeLists.txt.orig	Fri Oct 23 06:23:36 2015
+++ src/rspamadm/CMakeLists.txt	Wed Oct 28 01:43:41 2015
@@@@ -17,8 +17,8 @@@@ IF (ENABLE_SNOWBALL MATCHES "ON")
d11 2
a12 1
 ENDIF (NOT DEBIAN_BUILD)
d14 2
a15 3
-INSTALL(TARGETS rspamadm RUNTIME DESTINATION bin)
\ No newline at end of file
+INSTALL(TARGETS rspamadm RUNTIME DESTINATION bin)
@


1.1
log
@Initial revision
@
text
@d1 5
a5 5
$OpenBSD$
--- src/rspamadm/CMakeLists.txt.orig	Tue Sep 29 00:14:47 2015
+++ src/rspamadm/CMakeLists.txt	Tue Sep 29 00:15:29 2015
@@@@ -14,8 +14,8 @@@@ TARGET_LINK_LIBRARIES(rspamadm ${RSPAMD_REQUIRED_LIBRA
 TARGET_LINK_LIBRARIES(rspamadm stemmer)
@


1.1.1.1
log
@import ports/mail/rspamd, joint work with brad - not yet perfect, but in
good enough shape to continue in tree.  tweak/ok giovanni@@.

Rspamd is an advanced spam filtering system that allows evaluation of messages
by a number of rules including regular expressions, statistical analysis and
custom services such as URL black lists. Each message is analysed by rspamd and
given a spam score.

According to this spam score and the user's settings rspamd recommends an action
for the MTA to apply to the message- for example to pass, reject or add a
header. Rspamd is designed to process hundreds of messages per second
simultaneously and has a number of features available.
@
text
@@
