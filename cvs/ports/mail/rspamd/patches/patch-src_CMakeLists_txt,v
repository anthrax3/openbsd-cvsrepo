head	1.6;
access;
symbols
	OPENBSD_6_1:1.5.0.2
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	sthen_20151009:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2017.08.20.10.11.14;	author jasper;	state Exp;
branches;
next	1.5;
commitid	eqwGqbIzthq3GVId;

1.5
date	2017.03.08.17.02.13;	author sthen;	state Exp;
branches;
next	1.4;
commitid	A890MNPdF6wiuQcz;

1.4
date	2016.09.12.09.48.37;	author edd;	state Exp;
branches;
next	1.3;
commitid	E7di75op8BYcIz2l;

1.3
date	2016.05.27.09.18.14;	author sthen;	state Exp;
branches;
next	1.2;
commitid	GheqJMbHWIwZIxgU;

1.2
date	2016.01.19.01.14.51;	author sthen;	state Exp;
branches;
next	1.1;
commitid	iEGWVeykwJ99QWIT;

1.1
date	2015.10.09.16.09.17;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;
commitid	fTxmpHhud3V1d0SA;

1.1.1.1
date	2015.10.09.16.09.17;	author sthen;	state Exp;
branches;
next	;
commitid	fTxmpHhud3V1d0SA;


desc
@@


1.6
log
@update to rspamd-1.6.3

from "Akai"
@
text
@$OpenBSD: patch-src_CMakeLists_txt,v 1.5 2017/03/08 17:02:13 sthen Exp $
Index: src/CMakeLists.txt
--- src/CMakeLists.txt.orig
+++ src/CMakeLists.txt
@@@@ -163,9 +163,9 @@@@ ENDIF()
 ADD_EXECUTABLE(rspamd ${RSPAMDSRC} ${CMAKE_CURRENT_BINARY_DIR}/workers.c)
 SET_TARGET_PROPERTIES(rspamd PROPERTIES LINKER_LANGUAGE C)
 SET_TARGET_PROPERTIES(rspamd PROPERTIES COMPILE_FLAGS "-DRSPAMD_MAIN")
-IF(NOT DEBIAN_BUILD)
+IF(NOT DEBIAN_BUILD AND NOT OPENBSD_BUILD)
 	SET_TARGET_PROPERTIES(rspamd PROPERTIES VERSION ${RSPAMD_VERSION})
-ENDIF(NOT DEBIAN_BUILD)
+ENDIF(NOT DEBIAN_BUILD AND NOT OPENBSD_BUILD)
 
 TARGET_LINK_LIBRARIES(rspamd rspamd-server)
 IF (ENABLE_SNOWBALL MATCHES "ON")
@


1.5
log
@update to rspamd-1.5.2, from Brad
@
text
@d1 5
a5 4
$OpenBSD: patch-src_CMakeLists_txt,v 1.4 2016/09/12 09:48:37 edd Exp $
--- src/CMakeLists.txt.orig	Wed Jan 11 09:04:45 2017
+++ src/CMakeLists.txt	Sun Mar  5 15:23:51 2017
@@@@ -174,9 +174,9 @@@@ ENDIF()
@


1.4
log
@Update to rspamd-1.3.5.

Also use the robot test suite, now that all of the dependencies are ported.

Thanks to upstream for working with us to get this working smoothly on OpenBSD.

Input from sthen@@ and giovanni@@, tested by giovanni@@ and gilles@@.

OK giovanni@@, thanks.
@
text
@d1 4
a4 4
$OpenBSD: patch-src_CMakeLists_txt,v 1.3 2016/05/27 09:18:14 sthen Exp $
--- src/CMakeLists.txt.orig	Sat Jul 23 17:14:45 2016
+++ src/CMakeLists.txt	Tue Aug 30 18:07:13 2016
@@@@ -149,9 +149,9 @@@@ ADD_DEPENDENCIES(rspamd-server rspamd_lua_preprocess)
@


1.3
log
@update to rspamd-1.2.7, from Brad
@
text
@d1 4
a4 4
$OpenBSD: patch-src_CMakeLists_txt,v 1.2 2016/01/19 01:14:51 sthen Exp $
--- src/CMakeLists.txt.orig	Mon Apr  4 12:34:33 2016
+++ src/CMakeLists.txt	Wed Apr 13 21:48:16 2016
@@@@ -117,9 +117,9 @@@@ ENDIF()
@


1.2
log
@update to rspamd 1.1.0, from Brad.
@
text
@d1 4
a4 4
$OpenBSD: patch-src_CMakeLists_txt,v 1.1.1.1 2015/10/09 16:09:17 sthen Exp $
--- src/CMakeLists.txt.orig	Mon Jan 11 14:13:00 2016
+++ src/CMakeLists.txt	Mon Jan 18 18:30:19 2016
@@@@ -115,9 +115,9 @@@@ ENDIF()
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- src/CMakeLists.txt.orig	Thu Sep 24 20:11:05 2015
+++ src/CMakeLists.txt	Mon Sep 28 21:55:07 2015
@@@@ -103,7 +103,7 @@@@ TARGET_LINK_LIBRARIES(rspamd-server rspamd-cdb)
d11 2
a12 1
 ENDIF(NOT DEBIAN_BUILD)
d14 2
@


1.1.1.1
log
@import ports/mail/rspamd, joint work with brad - not yet perfect, but in
good enough shape to continue in tree.  tweak/ok giovanni@@.

Rspamd is an advanced spam filtering system that allows evaluation of messages
by a number of rules including regular expressions, statistical analysis and
custom services such as URL black lists. Each message is analysed by rspamd and
given a spam score.

According to this spam score and the user's settings rspamd recommends an action
for the MTA to apply to the message- for example to pass, reject or add a
header. Rspamd is designed to process hundreds of messages per second
simultaneously and has a number of features available.
@
text
@@
