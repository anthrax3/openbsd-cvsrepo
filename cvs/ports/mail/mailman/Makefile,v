head	1.86;
access;
symbols
	OPENBSD_6_1:1.86.0.2
	OPENBSD_6_1_BASE:1.86
	OPENBSD_6_0:1.85.0.2
	OPENBSD_6_0_BASE:1.85
	OPENBSD_5_9:1.81.0.2
	OPENBSD_5_9_BASE:1.81
	OPENBSD_5_8:1.81.0.4
	OPENBSD_5_8_BASE:1.81
	OPENBSD_5_7:1.80.0.2
	OPENBSD_5_7_BASE:1.80
	OPENBSD_5_6:1.79.0.4
	OPENBSD_5_6_BASE:1.79
	OPENBSD_5_5:1.79.0.2
	OPENBSD_5_5_BASE:1.79
	OPENBSD_5_4:1.76.0.2
	OPENBSD_5_4_BASE:1.76
	OPENBSD_5_3:1.75.0.2
	OPENBSD_5_3_BASE:1.75
	OPENBSD_5_2:1.74.0.2
	OPENBSD_5_2_BASE:1.74
	OPENBSD_5_1_BASE:1.73
	OPENBSD_5_1:1.73.0.2
	OPENBSD_5_0:1.69.0.2
	OPENBSD_5_0_BASE:1.69
	OPENBSD_4_9:1.65.0.2
	OPENBSD_4_9_BASE:1.65
	OPENBSD_4_8:1.54.0.4
	OPENBSD_4_8_BASE:1.54
	OPENBSD_4_7:1.54.0.2
	OPENBSD_4_7_BASE:1.54
	OPENBSD_4_6:1.52.0.2
	OPENBSD_4_6_BASE:1.52
	OPENBSD_4_5:1.50.0.2
	OPENBSD_4_5_BASE:1.50
	OPENBSD_4_4:1.49.0.2
	OPENBSD_4_4_BASE:1.49
	OPENBSD_4_3:1.46.0.2
	OPENBSD_4_3_BASE:1.46
	OPENBSD_4_2:1.44.0.4
	OPENBSD_4_2_BASE:1.44
	OPENBSD_4_1:1.44.0.2
	OPENBSD_4_1_BASE:1.44
	OPENBSD_4_0:1.43.0.2
	OPENBSD_4_0_BASE:1.43
	OPENBSD_3_9:1.37.0.2
	OPENBSD_3_9_BASE:1.37
	OPENBSD_3_8:1.34.0.2
	OPENBSD_3_8_BASE:1.34
	OPENBSD_3_7:1.32.0.2
	OPENBSD_3_7_BASE:1.32
	OPENBSD_3_6:1.27.0.2
	OPENBSD_3_6_BASE:1.27
	OPENBSD_3_5:1.25.0.2
	OPENBSD_3_5_BASE:1.25
	OPENBSD_3_4:1.22.0.2
	OPENBSD_3_4_BASE:1.22
	OPENBSD_3_3:1.20.0.2
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.13.0.2
	OPENBSD_3_2_BASE:1.13
	OPENBSD_3_1:1.7.0.2
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.1.1.1.0.2
	OPENBSD_3_0_BASE:1.1.1.1
	shell_2001-Aug-29:1.1.1.1
	shell:1.1.1;
locks; strict;
comment	@# @;


1.86
date	2016.09.06.13.44.22;	author okan;	state Exp;
branches;
next	1.85;
commitid	jesLyiN2n7sErjwY;

1.85
date	2016.04.28.13.02.39;	author okan;	state Exp;
branches;
next	1.84;
commitid	oTSx49ccY11xfuxf;

1.84
date	2016.04.22.16.42.14;	author okan;	state Exp;
branches;
next	1.83;
commitid	kaceXXQSjpLKbHAT;

1.83
date	2016.03.19.10.31.44;	author sthen;	state Exp;
branches;
next	1.82;
commitid	kNtFlVB07geYvIcH;

1.82
date	2016.03.19.10.29.03;	author sthen;	state Exp;
branches;
next	1.81;
commitid	LpTygYElsO7FmATf;

1.81
date	2015.04.09.15.37.08;	author okan;	state Exp;
branches;
next	1.80;
commitid	GSGfKXzFwFEulTbB;

1.80
date	2014.11.22.22.56.42;	author ian;	state Exp;
branches
	1.80.2.1;
next	1.79;
commitid	GZCZAAjn3zCnfZsE;

1.79
date	2014.01.22.21.49.52;	author okan;	state Exp;
branches
	1.79.4.1;
next	1.78;

1.78
date	2013.11.09.23.19.03;	author naddy;	state Exp;
branches;
next	1.77;

1.77
date	2013.11.06.17.26.08;	author okan;	state Exp;
branches;
next	1.76;

1.76
date	2013.03.11.11.23.51;	author espie;	state Exp;
branches;
next	1.75;

1.75
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.74;

1.74
date	2012.02.16.22.27.56;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2012.01.26.11.34.42;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2012.01.26.11.32.06;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2011.09.16.10.31.21;	author espie;	state Exp;
branches;
next	1.70;

1.70
date	2011.09.14.01.56.30;	author william;	state Exp;
branches;
next	1.69;

1.69
date	2011.06.08.17.50.10;	author jasper;	state Exp;
branches;
next	1.68;

1.68
date	2011.06.02.13.41.39;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2011.05.11.12.57.48;	author jasper;	state Exp;
branches;
next	1.66;

1.66
date	2011.03.03.09.50.11;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2011.01.05.16.05.54;	author ajacoutot;	state Exp;
branches
	1.65.2.1;
next	1.64;

1.64
date	2010.12.27.14.50.23;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2010.12.24.10.40.05;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2010.12.13.16.13.04;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2010.12.11.12.57.37;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2010.12.11.09.59.25;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2010.12.11.08.48.24;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2010.11.10.07.36.44;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2010.11.09.21.46.50;	author jasper;	state Exp;
branches;
next	1.56;

1.56
date	2010.09.21.07.21.00;	author jasper;	state Exp;
branches;
next	1.55;

1.55
date	2010.08.30.17.46.57;	author fgsch;	state Exp;
branches;
next	1.54;

1.54
date	2010.01.12.19.06.06;	author okan;	state Exp;
branches;
next	1.53;

1.53
date	2009.09.15.17.37.21;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2009.05.02.09.56.44;	author djm;	state Exp;
branches;
next	1.51;

1.51
date	2009.03.25.13.39.40;	author jasper;	state Exp;
branches;
next	1.50;

1.50
date	2008.10.28.09.28.24;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2008.07.09.19.30.23;	author wcmaier;	state Exp;
branches;
next	1.48;

1.48
date	2008.06.24.16.00.23;	author steven;	state Exp;
branches;
next	1.47;

1.47
date	2008.06.24.13.18.02;	author jakob;	state Exp;
branches;
next	1.46;

1.46
date	2007.10.08.08.22.41;	author steven;	state Exp;
branches;
next	1.45;

1.45
date	2007.09.16.00.17.05;	author merdely;	state Exp;
branches;
next	1.44;

1.44
date	2006.12.11.20.42.50;	author jakob;	state Exp;
branches;
next	1.43;

1.43
date	2006.08.31.00.25.43;	author fgsch;	state Exp;
branches;
next	1.42;

1.42
date	2006.06.05.12.37.30;	author aanriot;	state Exp;
branches;
next	1.41;

1.41
date	2006.06.03.09.39.22;	author alek;	state Exp;
branches;
next	1.40;

1.40
date	2006.04.24.05.47.46;	author jakob;	state Exp;
branches;
next	1.39;

1.39
date	2006.04.22.13.30.43;	author jakob;	state Exp;
branches;
next	1.38;

1.38
date	2006.03.13.18.35.45;	author bernd;	state Exp;
branches;
next	1.37;

1.37
date	2006.01.21.15.03.32;	author jakob;	state Exp;
branches
	1.37.2.1;
next	1.36;

1.36
date	2005.11.13.17.48.41;	author jakob;	state Exp;
branches;
next	1.35;

1.35
date	2005.11.11.20.33.25;	author sturm;	state Exp;
branches;
next	1.34;

1.34
date	2005.06.23.07.34.56;	author djm;	state Exp;
branches
	1.34.2.1;
next	1.33;

1.33
date	2005.04.24.19.31.25;	author jakob;	state Exp;
branches;
next	1.32;

1.32
date	2005.02.11.19.33.55;	author jakob;	state Exp;
branches
	1.32.2.1;
next	1.31;

1.31
date	2005.02.10.14.58.06;	author jakob;	state Exp;
branches;
next	1.30;

1.30
date	2005.02.04.09.19.35;	author jakob;	state Exp;
branches;
next	1.29;

1.29
date	2005.01.26.05.28.53;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	2005.01.02.12.56.05;	author alek;	state Exp;
branches;
next	1.27;

1.27
date	2004.07.09.18.12.35;	author xsa;	state Exp;
branches
	1.27.2.1;
next	1.26;

1.26
date	2004.05.31.15.34.01;	author jakob;	state Exp;
branches;
next	1.25;

1.25
date	2004.01.14.21.00.10;	author djm;	state Exp;
branches
	1.25.2.1;
next	1.24;

1.24
date	2004.01.01.17.29.08;	author jakob;	state Exp;
branches;
next	1.23;

1.23
date	2003.10.09.15.39.33;	author sturm;	state Exp;
branches;
next	1.22;

1.22
date	2003.06.22.10.05.28;	author sturm;	state Exp;
branches
	1.22.2.1;
next	1.21;

1.21
date	2003.05.01.16.11.53;	author sturm;	state Exp;
branches;
next	1.20;

1.20
date	2003.02.10.22.18.25;	author sturm;	state Exp;
branches;
next	1.19;

1.19
date	2003.01.27.22.15.40;	author sturm;	state Exp;
branches;
next	1.18;

1.18
date	2003.01.27.10.47.04;	author sturm;	state Exp;
branches;
next	1.17;

1.17
date	2003.01.18.18.25.10;	author sturm;	state Exp;
branches;
next	1.16;

1.16
date	2003.01.18.16.52.17;	author sturm;	state Exp;
branches;
next	1.15;

1.15
date	2002.11.22.16.43.45;	author sturm;	state Exp;
branches;
next	1.14;

1.14
date	2002.10.25.20.05.20;	author jakob;	state Exp;
branches;
next	1.13;

1.13
date	2002.08.03.21.08.19;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2002.07.20.20.18.02;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2002.05.23.16.17.23;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2002.05.14.01.04.18;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2002.05.13.23.31.25;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2002.05.02.19.02.10;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2002.04.07.22.30.23;	author matt;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2002.02.15.19.53.43;	author matt;	state Exp;
branches;
next	1.5;

1.5
date	2001.12.02.08.21.53;	author pvalchev;	state Exp;
branches;
next	1.4;

1.4
date	2001.11.12.13.29.21;	author wilfried;	state Exp;
branches;
next	1.3;

1.3
date	2001.11.10.15.00.48;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.10.31.20.09.18;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.29.02.13.04;	author shell;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.08.29.02.13.04;	author shell;	state Exp;
branches
	1.1.1.1.2.1;
next	;

1.1.1.1.2.1
date	2001.11.12.14.44.28;	author wilfried;	state Exp;
branches;
next	1.1.1.1.2.2;

1.1.1.1.2.2
date	2001.12.14.13.14.27;	author naddy;	state Exp;
branches;
next	;

1.7.2.1
date	2002.05.23.16.51.02;	author naddy;	state Exp;
branches;
next	1.7.2.2;

1.7.2.2
date	2002.08.04.11.50.39;	author naddy;	state Exp;
branches;
next	;

1.22.2.1
date	2004.06.30.21.29.32;	author brad;	state Exp;
branches;
next	;

1.25.2.1
date	2004.06.30.21.23.28;	author brad;	state Exp;
branches;
next	1.25.2.2;

1.25.2.2
date	2005.01.30.08.45.25;	author sturm;	state Exp;
branches;
next	1.25.2.3;

1.25.2.3
date	2005.02.12.12.08.37;	author robert;	state Exp;
branches;
next	1.25.2.4;

1.25.2.4
date	2005.02.13.16.50.38;	author sturm;	state Exp;
branches;
next	;

1.27.2.1
date	2005.01.30.08.45.44;	author sturm;	state Exp;
branches;
next	1.27.2.2;

1.27.2.2
date	2005.02.12.12.07.38;	author robert;	state Exp;
branches;
next	1.27.2.3;

1.27.2.3
date	2005.02.13.16.50.02;	author sturm;	state Exp;
branches;
next	;

1.32.2.1
date	2005.11.20.20.35.21;	author sturm;	state Exp;
branches;
next	;

1.34.2.1
date	2005.11.12.11.26.56;	author sturm;	state Exp;
branches;
next	1.34.2.2;

1.34.2.2
date	2005.11.20.20.35.57;	author sturm;	state Exp;
branches;
next	;

1.37.2.1
date	2006.05.01.20.08.11;	author sturm;	state Exp;
branches;
next	;

1.65.2.1
date	2011.03.09.09.53.45;	author jasper;	state Exp;
branches;
next	;

1.79.4.1
date	2015.04.09.20.06.24;	author okan;	state Exp;
branches;
next	;
commitid	CR1e77cmhhBzFvfL;

1.80.2.1
date	2015.04.09.20.02.26;	author okan;	state Exp;
branches;
next	;
commitid	XRFFnVRLx6SloCKr;


desc
@@


1.86
log
@Update to 2.1.23; includes CVE-2016-6893 fix.
@
text
@# $OpenBSD: Makefile,v 1.85 2016/04/28 13:02:39 okan Exp $

COMMENT=	mailing list manager with web interface

DISTNAME=	mailman-2.1.23
CATEGORIES=	mail www

HOMEPAGE=	https://www.gnu.org/software/mailman/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=mailman/}
EXTRACT_SUFX=		.tgz

MODULES=		lang/python

BUILD_DEPENDS=		net/py-dnspython
RUN_DEPENDS=		net/py-dnspython

NO_TEST=		Yes

MMDOC=			${PREFIX}/share/doc/mailman
MMEXAMPLES=		${PREFIX}/share/examples/mailman
MMHOME=			${PREFIX}/lib/mailman
MMSPOOL=		/var/spool/mailman

FAKE_FLAGS=		DIRSETGID=":"

# gnu still breaks the paths as prefix is actually mailman's home
CONFIGURE_STYLE=	simple
CONFIGURE_ARGS+=	--prefix='${MMHOME}' \
			--with-mailhost=localhost.my.domain \
			--with-python=${MODPY_BIN} \
			--with-urlhost=localhost.my.domain \
			--with-var-prefix='${MMSPOOL}' \
			--without-permcheck \
			--with-username=_mailman \
			--with-groupname=_mailman \
			--with-cgi-gid=_mailmanq \
			--with-mail-gid=_mailmanq

SCRIPTS=	Mailman/Archiver/pipermail.py \
		Mailman/Post.py \
		bin/msgfmt.py \
		tests/onebounce.py

pre-configure:
.for SCRIPT in ${SCRIPTS}
	@@${SUBST_CMD} ${WRKSRC}/${SCRIPT}
.endfor

post-install:
	@@${INSTALL_DATA_DIR} ${MMDOC}
	@@for file in FAQ NEWS README* UPGRADING; do \
	    ${INSTALL_DATA} ${WRKDIST}/$$file ${MMDOC}; \
	done
	@@${INSTALL_DATA_DIR} ${MMEXAMPLES}
	@@mv ${WRKINST}/var/spool/mailman/data/sitelist.cfg ${MMEXAMPLES}

.include <bsd.port.mk>
@


1.85
log
@Maintenance update to 2.1.22.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2016/04/22 16:42:14 okan Exp $
d5 1
a5 1
DISTNAME=	mailman-2.1.22
@


1.84
log
@- Update to 2.1.21.
- gc configure patch since it hasn't been required since introducing
  --without-permcheck in configure, despite the comment in Makefile.
- Some of Defaults.py are now upstream defaults.

Remove FLAVORs:
- Rewrite src/common.c:check_caller() for the cgi/mail wrapper to now
  look at the defined group membership instead, _mailmanq (a new group).
  This allows the administrator to switch mail servers and web servers
  without requiring a FLAVOR for each combination; but rather, by simply
  adding the cgi/mail user to the _mailmanq group. This is a diversion
  from upstream, but will be proposed. At least sthen@@ and dlg@@ agree to
  go in this general direction.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2016/03/19 10:31:44 sthen Exp $
d5 1
a5 1
DISTNAME=	mailman-2.1.21
@


1.83
log
@pathes->paths in comment
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2016/03/19 10:29:03 sthen Exp $
d5 1
a5 2
DISTNAME=	mailman-2.1.20
REVISION=	0
a33 2
# do not use --without-permcheck as this requires the mailman user and group
# to exist, otherwise there will be problems running mailman
d41 3
a43 13
			--with-groupname=_mailman

FLAVORS=	smtpd postfix sendmail
FLAVOR?=	smtpd
.if ${FLAVOR:Mpostfix}
CONFIGURE_ARGS+=--with-mail-gid=_mailman
.elif ${FLAVOR:Msendmail}
CONFIGURE_ARGS+=--with-mail-gid=daemon
.elif ${FLAVOR:Msmtpd}
CONFIGURE_ARGS+=--with-mail-gid=_smtpd
.else
ERRORS+="Fatal: a flavor (smtpd, postfix, sendmail) must be specified"
.endif
@


1.82
log
@Require an explicit FLAVOR for mailman's GID checking, so that it's a bit
more obvious when people "pkg_add mailman" that they need to pick one.

(This could be improved by patching to extend the check to allow for one
of a number of possible GIDs, then we could just have a single package
covering all of them.)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2015/04/09 15:37:08 okan Exp $
d13 1
d33 1
a33 1
# gnu still breaks the pathes as prefix is actually mailman's home
@


1.81
log
@update to 2.1.20; includes fix for CVE-2015-2775.

feeback ajacoutot; feedback and ok jca
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2014/11/22 22:56:42 ian Exp $
d6 1
d45 2
a46 2
FLAVORS=	postfix sendmail
FLAVOR?=
d51 2
d54 1
a54 1
CONFIGURE_ARGS+=--with-mail-gid=_smtpd
@


1.80
log
@Make default flavor expect group _smtpd to match our default mailer.
New 'sendmail' flavor to provide the old behavior.
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2013/11/09 23:19:03 naddy Exp $
d5 1
a5 2
DISTNAME=	mailman-2.1.17
REVISION=	0
d19 3
a56 1
		templates/ru/s2s.py \
@


1.80.2.1
log
@Cherry pick for CVE-2015-2775: Path traversal vulnerability

requested by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2014/11/22 22:56:42 ian Exp $
d6 1
a6 1
REVISION=	1
@


1.79
log
@minor update to 2.1.17

ok bcallah@@
@
text
@d6 1
d42 1
a42 1
FLAVORS=	postfix
d46 2
d49 1
a49 1
CONFIGURE_ARGS+=--with-mail-gid=daemon
@


1.79.4.1
log
@Cherry pick for CVE-2015-2775: Path traversal vulnerability

requested by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2014/01/22 21:49:52 okan Exp $
a5 1
REVISION=	0
@


1.78
log
@move http://www.gnu.org to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2013/11/06 17:26:08 okan Exp $
d5 1
a5 2
DISTNAME=	mailman-2.1.16
REVISION=	0
@


1.77
log
@update to 2.1.16

port-wise ok zhuk@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2013/03/11 11:23:51 espie Exp $
d6 1
d9 1
a9 1
HOMEPAGE=	http://www.gnu.org/software/mailman/
@


1.76
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2013/02/09 14:49:51 sthen Exp $
d5 1
a5 2
DISTNAME=	mailman-2.1.14
REVISION=	17
a51 1
		messages/Makefile.in \
@


1.75
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2012/02/16 22:27:56 ajacoutot Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d20 1
a20 1
NO_REGRESS=		Yes
@


1.74
log
@No need for HOMEDIR to be group writable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2012/01/26 11:34:42 ajacoutot Exp $
d47 1
a47 1
.if ${FLAVOR:L:Mpostfix}
@


1.73
log
@Fix the rc script.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2012/01/26 11:32:06 ajacoutot Exp $
d6 1
a6 1
REVISION=	16
@


1.72
log
@Unbreak out-of-the-box functionnality by creating a link from
%D/lib/mailman/mail/mailman to /usr/libexec/sm.bin/mailman. This is
needed by sendmail restricted shell.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2011/09/16 10:31:21 espie Exp $
d6 1
a6 1
REVISION=	15
@


1.71
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/09/14 01:56:30 william Exp $
d6 1
a6 1
REVISION=	14
@


1.70
log
@help the script match running processes

ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/06/08 17:50:10 jasper Exp $
d6 1
a6 1
REVISION=	13
@


1.69
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/06/02 13:41:39 ajacoutot Exp $
d6 1
a6 1
REVISION=	12
@


1.68
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/05/11 12:57:48 jasper Exp $
d6 1
a6 1
REVISION=	11
@


1.67
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/03/03 09:50:11 jasper Exp $
d6 1
a6 1
REVISION=	10
@


1.66
log
@Security fix for CVE-2011-0707.
Mailman "Full Name" Script Insertion Vulnerabilities.

Patch from upstream ML.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/01/05 16:05:54 ajacoutot Exp $
d6 1
a6 1
REVISION=	9
@


1.65
log
@Make use of rcexec.
While here, force postgresql to quit in rc_stop, ok pea@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2010/12/27 14:50:23 ajacoutot Exp $
d6 1
a6 1
REVISION=	8
@


1.65.2.1
log
@Security fix for CVE-2011-0707.
Mailman "Full Name" Script Insertion Vulnerabilities.

Patch from upstream ML.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/03/03 09:50:11 jasper Exp $
d6 1
a6 1
REVISION=	9
@


1.64
log
@Simplify after recent rc.subr change.
The framework is now stable and we will start documenting it (at last).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/12/24 10:40:05 ajacoutot Exp $
d6 1
a6 1
REVISION=	7
@


1.63
log
@Cope with recent rc.subr changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/12/13 16:13:04 ajacoutot Exp $
d6 1
a6 1
REVISION=	6
@


1.62
log
@Cope with recent rc.subr changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/12/11 12:57:37 ajacoutot Exp $
d6 1
a6 1
REVISION=	5
@


1.61
log
@Move these to rc_reload=NO.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/12/11 09:59:25 ajacoutot Exp $
d6 1
a6 1
REVISION=	4
@


1.60
log
@Cope again with rc.subr changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/12/11 08:48:24 ajacoutot Exp $
d6 1
a6 1
REVISION=	3
@


1.59
log
@Adapt to new rc_start and fix RCS Id.

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/11/10 07:36:44 ajacoutot Exp $
d6 1
a6 1
REVISION=	2
@


1.58
log
@Trailing space.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/11/09 21:46:50 jasper Exp $
d6 1
a6 1
REVISION=	1
@


1.57
log
@- switch to pkg-readmes
- add an rc script

looks ok to sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/09/21 07:21:00 jasper Exp $
d6 1
a6 1
REVISION=	0
@


1.56
log
@- SECURITY UPDATE of mailman to 2.1.14
Fixes CVE-2010-3089: Mailman List Description Two Script Insertion Vulnerabilities

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/08/30 17:46:57 fgsch Exp $
d6 1
a69 1
	@@${INSTALL_DATA} ${FILESDIR}/README.OpenBSD ${MMDOC}
@


1.55
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/01/12 19:06:06 okan Exp $
d5 1
a5 2
DISTNAME=	mailman-2.1.12
REVISION =	2
d10 1
a10 1
# GPL
@


1.54
log
@remove the group check completely, mirroring what was done for
MAILMAN_USER - allows for a build and package without having
_mailman:_mailman user and group

ok stephan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2009/09/15 17:37:21 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.53
log
@remove marc balmer as maintainer of all of his ports, to take away the
illusion marc still maintains them. as requested by himself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/05/02 09:56:44 djm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.52
log
@mailman-2.1.12; ok MAINTAINER mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/03/25 13:39:40 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}
a9 2

MAINTAINER=	Marc Balmer <mbalmer@@openbsd.org>
@


1.51
log
@- more missing package name bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2008/10/28 09:28:24 ajacoutot Exp $
d5 2
a6 2
DISTNAME=	mailman-2.1.9
PKGNAME=	${DISTNAME}p3
d28 1
a56 4
		admin/bin/faq2ht.py \
		admin/bin/mm2do \
		admin/bin/release \
		admin/www/reset_pw.py \
d73 2
@


1.50
log
@- MODPY_BIN is already in default SUBST_VARS with the lang/python MODULE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2008/07/09 19:30:23 wcmaier Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.49
log
@Replace 'python' invocations with ${MODPY_BIN} via ${SUBST_CMD}.

While here, regen patches.

"looks reasonable" and requested by mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2008/06/24 16:00:23 steven Exp $
a63 2

SUBST_VARS=	MODPY_BIN
@


1.48
log
@bump pkgname when changing maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2008/06/24 13:18:02 jakob Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d53 18
@


1.47
log
@give MAINTAINER to mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2007/10/08 08:22:41 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.46
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2007/09/16 00:17:05 merdely Exp $
d11 1
a11 1
MAINTAINER=	Jakob Schlyter <jakob@@openbsd.org>
@


1.45
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2006/12/11 20:42:50 jakob Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}
@


1.44
log
@upgrade to mailman 2.1.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2006/08/31 00:25:43 fgsch Exp $
d3 1
a3 1
COMMENT=	"mailing list manager with web interface"
@


1.43
log
@talk about installing mm-icon.png as well; bump package.
maintainer and pvalchev@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2006/06/05 12:37:30 aanriot Exp $
d5 2
a6 2
DISTNAME=	mailman-2.1.8
PKGNAME=	${DISTNAME}p3
@


1.42
log
@- remove obsolete @@extraunexec lines in PLIST .
- bump PKGNAME .

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2006/06/03 09:39:22 alek Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.41
log
@Bump PKGNAMEs after recent python switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/04/24 05:47:46 jakob Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.40
log
@add missing files; noted by djm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2006/04/22 13:30:43 jakob Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.39
log
@upgrade to mailman 2.1.8; recommended upgrade as this fixes a cross-site
scripting security bug in the previous release (CVE-2006-1712).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2006/03/13 18:35:45 bernd Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}
@


1.38
log
@Use python module instead of hardcoded python version.

ok alek@@ (some time ago)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2006/01/21 15:03:32 jakob Exp $
d5 2
a6 2
DISTNAME=	mailman-2.1.7
PKGNAME=	${DISTNAME}p0
@


1.37
log
@mailman v2.1.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2005/11/13 17:48:41 jakob Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}
d23 1
a23 4
PYTHON_VER=		2.3
SUBST_VARS=		PYTHON_VER
BUILD_DEPENDS=		${RUN_DEPENDS}
RUN_DEPENDS=		:python-${PYTHON_VER}*:lang/python/${PYTHON_VER}
d39 1
a39 1
			--with-python=${LOCALBASE}/bin/python${PYTHON_VER} \
@


1.37.2.1
log
@MFC:
upgrade to mailman 2.1.8; recommended upgrade as this fixes a cross-site
scripting security bug in the previous release (CVE-2006-1712).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2006/01/21 15:03:32 jakob Exp $
d5 2
a6 2
DISTNAME=	mailman-2.1.8
PKGNAME=	${DISTNAME}p0
@


1.36
log
@fix postfix gid
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2005/11/11 20:33:25 sturm Exp $
d5 2
a6 2
DISTNAME=	mailman-2.1.6
PKGNAME=	${DISTNAME}p1
@


1.35
log
@do not check for the existence of _mailman:_mailman at configure time,
that user/group might not exist yet

noticed by Chris Mika <cmika at seenothing.org>
maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2005/06/23 07:34:56 djm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d52 1
a52 1
CONFIGURE_ARGS+=--with-mail-gid=nobody
@


1.34
log
@mailman-2.16; ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2005/04/24 19:31:25 jakob Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}
@


1.34.2.1
log
@MFC:
do not check for the existence of _mailman:_mailman at configure time,
that user/group might not exist yet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2005/06/23 07:34:56 djm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.34.2.2
log
@fix mail-gid for postfix FLAVOR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34.2.1 2005/11/12 11:26:56 sturm Exp $
d52 1
a52 2
FULLPKGNAME=	${DISTNAME}p1${FLAVOR_EXT}
CONFIGURE_ARGS+=--with-mail-gid=_mailman
@


1.33
log
@use python 2.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2005/02/11 19:33:55 jakob Exp $
d5 2
a6 2
DISTNAME=	mailman-2.1.5
PKGNAME=	${DISTNAME}p5
d45 3
a47 1
			--without-permcheck
@


1.32
log
@fix CAN-2004-1143 (weak password generation)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2005/02/10 14:58:06 jakob Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
d23 1
a23 1
PYTHON_VER=		2.2
@


1.32.2.1
log
@fix mail-gid for postfix FLAVOR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2005/02/11 19:33:55 jakob Exp $
d50 1
a50 2
FULLPKGNAME=	${DISTNAME}p5${FLAVOR_EXT}
CONFIGURE_ARGS+=--with-mail-gid=_mailman
@


1.31
log
@critical security update (CAN-2005-0202)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2005/02/04 09:19:35 jakob Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.30
log
@get rid of INSTALL script; from Aleksander Piotrowski
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/01/26 05:28:53 brad Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.29
log
@Florian Weimer has discovered a cross-site scripting vulnerability in
the error messages that are produced by Mailman.

CAN-2004-1177
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/01/02 12:56:05 alek Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.28
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/07/09 18:12:35 xsa Exp $
d6 2
a7 1
CATEGORIES=     mail www
@


1.27
log
@
use FILESDIR instead of hardcoding 'files/';
okay jakob@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/05/31 15:34:01 jakob Exp $
d17 1
@


1.27.2.1
log
@MFC:

Florian Weimer has discovered a cross-site scripting vulnerability in
the error messages that are produced by Mailman.

CAN-2004-1177

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/07/09 18:12:35 xsa Exp $
a5 1
PKGNAME=	${DISTNAME}p1
@


1.27.2.2
log
@SECURITY:
fix a directory traversal vulnerability
http://www.vuxml.org/openbsd/b735b5b2-7b7c-11d9-b18e-080020fe8945.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27.2.1 2005/01/30 08:45:44 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.27.2.3
log
@MFC:

fix CAN-2004-1143 (weak password generation)

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27.2.2 2005/02/12 12:07:38 robert Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
@


1.26
log
@update to mailman v2.1.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/01/14 21:00:10 djm Exp $
d58 1
a58 1
	@@${INSTALL_DATA} files/README.OpenBSD ${MMDOC}
@


1.25
log
@honour PYTHON_VER in PLIST, so we can build against python-2.3; ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/01/01 17:29:08 jakob Exp $
d5 1
a5 1
DISTNAME=	mailman-2.1.4
@


1.25.2.1
log
@MFC:
update to mailman v2.1.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/05/31 15:34:01 jakob Exp $
d5 1
a5 1
DISTNAME=	mailman-2.1.5
@


1.25.2.2
log
@MFC:

Florian Weimer has discovered a cross-site scripting vulnerability in
the error messages that are produced by Mailman.

CAN-2004-1177

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25.2.1 2004/06/30 21:23:28 brad Exp $
a5 1
PKGNAME=	${DISTNAME}p1
@


1.25.2.3
log
@SECURITY:
fix a directory traversal vulnerability
http://www.vuxml.org/openbsd/b735b5b2-7b7c-11d9-b18e-080020fe8945.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25.2.2 2005/01/30 08:45:25 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.25.2.4
log
@MFC:

fix CAN-2004-1143 (weak password generation)

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25.2.3 2005/02/12 12:08:37 robert Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
@


1.24
log
@upgrade to v2.1.4, take MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/10/09 15:39:33 sturm Exp $
d22 1
@


1.23
log
@- update to mailman 2.1.3
- drop maintainership
- use @@extra
- get rid of WWW while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/06/22 10:05:28 sturm Exp $
d5 1
a5 1
DISTNAME=	mailman-2.1.3
d9 2
@


1.22
log
@new user/group naming schema

bumped PKGNAME except for xcept
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/05/01 16:11:53 sturm Exp $
d5 1
a5 2
DISTNAME=	mailman-2.1.2
PKGNAME=	${DISTNAME}p0
a9 2
MAINTAINER=	Nikolay Sturm <sturm@@openbsd.org>

d39 2
a40 1
			--with-var-prefix='${MMSPOOL}'
@


1.22.2.1
log
@MFC:
update to mailman v2.1.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/05/31 15:34:01 jakob Exp $
d5 2
a6 1
DISTNAME=	mailman-2.1.5
d11 1
a11 1
MAINTAINER=	Jakob Schlyter <jakob@@openbsd.org>
a22 1
SUBST_VARS=		PYTHON_VER
d42 1
a42 2
			--with-var-prefix='${MMSPOOL}' \
			--without-permcheck
@


1.21
log
@update to mailman 2.1.2

- lots of bugfixes
- support for portuguese and polish

heads up and some testing by jakob
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/02/10 22:18:25 sturm Exp $
d6 1
@


1.20
log
@update to mailman 2.1.1

- includes bugfixes and security patches
- more localization
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/01/27 22:15:40 sturm Exp $
d5 1
a5 1
DISTNAME=	mailman-2.1.1
d33 1
d35 3
a37 3
# Adding DESTDIR by hand, because 'CONFIGURE_STYLE= gnu dest' overwrites
# our prefix without touching var-prefix
CONFIGURE_ARGS+=	--prefix='$${${DESTDIRNAME}}${MMHOME}' \
d41 1
a41 1
			--with-var-prefix='$${${DESTDIRNAME}}${MMSPOOL}'
a49 7

post-configure:
	@@perl -i -pe 's#\$${${DESTDIRNAME}}##g' \
		${WRKSRC}/Mailman/Defaults.py \
		${WRKSRC}/cron/crontab.in \
		${WRKSRC}/misc/mailman \
		${WRKSRC}/misc/paths.py
@


1.19
log
@bump package version

thanks brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2003/01/27 10:47:04 sturm Exp $
d5 1
a5 1
DISTNAME=	mailman-2.1
a6 1
PKGNAME=	${DISTNAME}p1
a19 5

# workaround XSS bug, will be part of 2.1.1
PATCH_DIST_ARGS=	-b ${DISTORIG} -d ${WRKSRC}/Mailman/Cgi --forward \
				--quiet -E ${PATCH_DIST_STRIP}
PATCHFILES=		xss-2.1.0-patch.txt
@


1.18
log
@Add a distribution patch, to fix an XSS bug. This patch is a quick fix and
will be part of the upcomming 2.1.1 version of mailman.

thanks to jakob@@ for the reminder
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2003/01/18 18:25:10 sturm Exp $
d7 1
@


1.17
log
@use the actual homepage in HOMEPAGE

from jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2003/01/18 16:52:17 sturm Exp $
d20 5
@


1.16
log
@update to mailman 2.1

- multi-lingual support
- list creation/removal through web interface
- MIME base content filtering (demime et.al.)
- new architecture of mail delivery subsystem
- better, faster, cheaper, ... ;-)

naddy@@ OK
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/11/22 16:43:45 sturm Exp $
d8 1
a8 1
HOMEPAGE=	http://www.gnu.org/software/mailman/mailman.html
@


1.15
log
@set MAINTAINER to sturm@@openbsd.org

naddy@@ OK
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/10/25 20:05:20 jakob Exp $
d5 2
a6 2
DISTNAME=	mailman-2.0.12
CATEGORIES=     mail
a27 1
MMEXAMPLES=		${PREFIX}/share/examples/mailman
d36 5
a40 3
CONFIGURE_ARGS+=	--with-var-prefix='$${${DESTDIRNAME}}${MMSPOOL}' \
			--prefix='$${${DESTDIRNAME}}${MMHOME}' \
			--with-python=${LOCALBASE}/bin/python${PYTHON_VER}
d42 1
a42 1
FLAVORS=postfix
d52 4
a55 2
		${WRKSRC}/misc/paths.py ${WRKSRC}/Mailman/Defaults.py \
		${WRKSRC}/cron/crontab.in
a58 1
	@@${INSTALL_DATA_DIR} ${MMEXAMPLES}
a62 3
	@@for file in filters/bowa-strip misc/pending_subscriptions.db; do \
	    ${INSTALL_DATA} ${WRKDIST}/$$file ${MMEXAMPLES}; \
	done
@


1.14
log
@patch crontab.in, from MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/08/03 21:08:19 naddy Exp $
d10 1
a10 1
MAINTAINER=	Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>
@


1.13
log
@Unbreak.
From maintainer Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/07/20 20:18:02 naddy Exp $
d51 2
a52 1
		${WRKSRC}/misc/paths.py ${WRKSRC}/Mailman/Defaults.py
@


1.12
log
@Update to 2.0.12, use python 2.2.
From maintainer Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>.

mailman changes:

- Implemented a guard against some reply loops and 'bot subscription
  attacks.  Specifically, if a message to -request has a Precedence:
  bulk (or list, or junk) header, the command is ignored.  Well-behaved
  'bots should always include such a header.

- Changes to the configure script so that you can pass in the mail host
  and web host by setting the environment variables MAILHOST and WWWHOST
  respectively.  configure will also exit if it can't figure out these
  values (usually due to broken dns).

- Closed another minor cross-site scripting vulnerability.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/05/23 16:17:23 naddy Exp $
d48 4
@


1.11
log
@SECURITY update to 2.0.11: Fix two cross-site scripting vulnerabilities.
From maintainer Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/05/14 01:04:18 naddy Exp $
d5 1
a5 1
DISTNAME=	mailman-2.0.11
a6 1
NEED_VERSION=	1.527
d21 3
a23 3
PYTHON_VER=		2.1
BUILD_DEPENDS=		:python-${PYTHON_VER}*:lang/python/${PYTHON_VER}
RUN_DEPENDS=		${BUILD_DEPENDS}
d32 1
a32 5
FAKE_FLAGS=		prefix="${WRKINST}${MMHOME}" \
			var_prefix="${WRKINST}${MMSPOOL}" \
			MAKE="make prefix=${WRKINST}${MMHOME} \
				   var_prefix=${WRKINST}${MMSPOOL}" \
			DIRSETGID=":"
d35 4
a38 2
CONFIGURE_ARGS+=	--with-var-prefix="${MMSPOOL}" \
			--prefix="${MMHOME}" \
@


1.10
log
@Update to 2.0.10:  bug fixes.
From  maintainer Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/05/13 23:31:25 espie Exp $
d5 1
a5 1
DISTNAME=	mailman-2.0.10
@


1.9
log
@More MASTER_SITES_SUBDIR out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/05/02 19:02:10 naddy Exp $
d5 1
a5 1
DISTNAME=	mailman-2.0.8
d7 1
a7 1
NEED_VERSION=	1.500
@


1.8
log
@update maintainer address
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/04/07 22:30:23 matt Exp $
d19 1
a19 2
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=	mailman
@


1.7
log
@fix deps on python versions to actually use that version; ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/02/15 19:53:43 matt Exp $
d11 1
a11 1
MAINTAINER=	Nikolay Sturm <nikolay.sturm@@desy.de>
@


1.7.2.1
log
@MFC:
SECURITY update to 2.0.11: Fix two cross-site scripting vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	mailman-2.0.11
d7 1
a7 1
NEED_VERSION=	1.522
d11 1
a11 1
MAINTAINER=	Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>
d19 2
a20 1
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=mailman/}
@


1.7.2.2
log
@MFC:
Update to 2.0.12: security fixes.

Submitted by Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/07/20 20:18:02 naddy Exp $
d5 2
a6 2
DISTNAME=	mailman-2.0.12
CATEGORIES=	mail
d23 2
a24 2
BUILD_DEPENDS=		${RUN_DEPENDS}
RUN_DEPENDS=		:python-${PYTHON_VER}*:lang/python/${PYTHON_VER}
d36 1
a36 1
				var_prefix=${WRKINST}${MMSPOOL}" \
@


1.6
log
@Update Python dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/12/02 08:21:53 pvalchev Exp $
d23 2
a24 1
BUILD_DEPENDS=		:python-2.1*:lang/python/2.1
d42 2
a43 1
			--prefix="${MMHOME}"
@


1.5
log
@mailman-2.0.8: a security update
from maintainer Nikolay.Sturm@@desy.de
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/11/12 13:29:21 wilfried Exp $
d23 1
a23 1
BUILD_DEPENDS=		::lang/python
@


1.4
log
@two security fixes plus some minor regular bugfixes, from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/11/10 15:00:48 espie Exp $
d5 1
a5 1
DISTNAME=	mailman-2.0.7
d7 1
a7 1
NEED_VERSION=	1.492
d19 1
a19 1
MASTER_SITES=		${MASTER_SITE_GNU}
@


1.3
log
@Kill first component of BUILD_DEPENDS.

Fix sawfish comment while I'm at it.
`window manager for the X windows system'.
Like DUH ! It's going to be a window manager for my microwave oven ?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/10/31 20:09:18 wilfried Exp $
d5 1
a5 1
DISTNAME=	mailman-2.0.6
d7 1
a7 1
NEED_VERSION=	1.489
@


1.2
log
@NO_REGRESS, from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/08/29 02:13:04 shell Exp $
d7 1
a7 1
NEED_VERSION=	1.448
d23 1
a23 1
BUILD_DEPENDS=		python::lang/python
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d25 2
@


1.1.1.1
log
@Initial import of mailman

Submitted by Nikolay Sturm <nikolay.sturm@@desy.de>
---

This is GNU Mailman, a mailing list management system distributed
under the GNU Public License (GPL).

Mailman has most of the standard features you'd expect in a
mailing list manager, and more.

@
text
@@


1.1.1.1.2.1
log
@MFC:
two security fixes plus some minor regular bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/08/29 02:13:04 shell Exp $
d5 1
a5 1
DISTNAME=	mailman-2.0.7
@


1.1.1.1.2.2
log
@MFC:
security update to 2.0.8; CERT Advisory CA-2000-02
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1.2.1 2001/11/12 14:44:28 wilfried Exp $
d5 1
a5 1
DISTNAME=	mailman-2.0.8
d19 1
a19 1
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE}
@


