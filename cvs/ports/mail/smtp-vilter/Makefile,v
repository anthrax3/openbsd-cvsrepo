head	1.63;
access;
symbols
	OPENBSD_6_0:1.63.0.2
	OPENBSD_6_0_BASE:1.63
	OPENBSD_5_9:1.62.0.2
	OPENBSD_5_9_BASE:1.62
	OPENBSD_5_8:1.61.0.4
	OPENBSD_5_8_BASE:1.61
	OPENBSD_5_7:1.59.0.2
	OPENBSD_5_7_BASE:1.59
	OPENBSD_5_6:1.56.0.4
	OPENBSD_5_6_BASE:1.56
	OPENBSD_5_5:1.56.0.2
	OPENBSD_5_5_BASE:1.56
	OPENBSD_5_4:1.53.0.2
	OPENBSD_5_4_BASE:1.53
	OPENBSD_5_3:1.50.0.2
	OPENBSD_5_3_BASE:1.50
	OPENBSD_5_2:1.49.0.4
	OPENBSD_5_2_BASE:1.49
	OPENBSD_5_1_BASE:1.49
	OPENBSD_5_1:1.49.0.2
	OPENBSD_5_0:1.48.0.2
	OPENBSD_5_0_BASE:1.48
	OPENBSD_4_9:1.45.0.2
	OPENBSD_4_9_BASE:1.45
	OPENBSD_4_8:1.37.0.2
	OPENBSD_4_8_BASE:1.37
	OPENBSD_4_7:1.36.0.2
	OPENBSD_4_7_BASE:1.36
	OPENBSD_4_6:1.33.0.4
	OPENBSD_4_6_BASE:1.33
	OPENBSD_4_5:1.33.0.2
	OPENBSD_4_5_BASE:1.33
	OPENBSD_4_4:1.32.0.2
	OPENBSD_4_4_BASE:1.32
	OPENBSD_4_3:1.31.0.2
	OPENBSD_4_3_BASE:1.31
	OPENBSD_4_2:1.29.0.4
	OPENBSD_4_2_BASE:1.29
	OPENBSD_4_1:1.29.0.2
	OPENBSD_4_1_BASE:1.29
	OPENBSD_4_0:1.20.0.2
	OPENBSD_4_0_BASE:1.20
	OPENBSD_3_9:1.19.0.2
	OPENBSD_3_9_BASE:1.19
	OPENBSD_3_8:1.4.0.2
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	mbalmer_20041117:1.1.1.1
	mbalmer:1.1.1;
locks; strict;
comment	@# @;


1.63
date	2016.03.16.16.46.32;	author naddy;	state Exp;
branches;
next	1.62;
commitid	4Ekn8nPgVVHWLTwe;

1.62
date	2015.12.03.21.24.30;	author sthen;	state Exp;
branches;
next	1.61;
commitid	qh8BBe4z9PLvLPKf;

1.61
date	2015.07.30.16.05.51;	author sthen;	state Exp;
branches;
next	1.60;
commitid	673iTYLm0W3iukwT;

1.60
date	2015.07.15.16.15.35;	author ajacoutot;	state Exp;
branches;
next	1.59;
commitid	xtIOzklA3EtpOLtM;

1.59
date	2014.09.21.16.47.45;	author sthen;	state Exp;
branches;
next	1.58;
commitid	CeEB7vCrQWjU5SfK;

1.58
date	2014.09.17.09.13.13;	author ajacoutot;	state Exp;
branches;
next	1.57;
commitid	6B840kxHQJkj832j;

1.57
date	2014.09.17.07.52.42;	author jca;	state Exp;
branches;
next	1.56;
commitid	jO4L7hmRLOLvdXQI;

1.56
date	2014.01.23.15.45.18;	author jasper;	state Exp;
branches;
next	1.55;

1.55
date	2014.01.19.09.45.04;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2013.08.09.18.06.52;	author ian;	state Exp;
branches;
next	1.53;

1.53
date	2013.05.09.18.47.53;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2013.05.05.17.37.00;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2013.03.11.11.23.53;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.49;

1.49
date	2011.09.16.10.31.22;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2011.06.23.22.50.27;	author naddy;	state Exp;
branches;
next	1.47;

1.47
date	2011.05.11.12.57.48;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2011.04.17.09.10.46;	author sthen;	state Exp;
branches;
next	1.45;

1.45
date	2010.12.27.14.50.23;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2010.12.24.10.40.06;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2010.11.19.07.23.09;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2010.11.04.12.01.42;	author sthen;	state Exp;
branches;
next	1.41;

1.41
date	2010.10.29.12.54.44;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.10.29.11.59.22;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.10.20.15.23.04;	author naddy;	state Exp;
branches;
next	1.38;

1.38
date	2010.10.18.19.59.20;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2010.04.03.20.07.06;	author naddy;	state Exp;
branches;
next	1.36;

1.36
date	2009.11.26.14.02.58;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2009.09.15.17.37.21;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2009.08.30.20.45.24;	author sthen;	state Exp;
branches;
next	1.33;

1.33
date	2008.10.28.15.21.49;	author naddy;	state Exp;
branches;
next	1.32;

1.32
date	2008.07.02.13.34.46;	author mbalmer;	state Exp;
branches;
next	1.31;

1.31
date	2008.01.04.17.48.36;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2007.09.16.00.17.06;	author merdely;	state Exp;
branches;
next	1.29;

1.29
date	2007.02.04.12.05.12;	author mbalmer;	state Exp;
branches;
next	1.28;

1.28
date	2007.01.21.13.13.04;	author mbalmer;	state Exp;
branches;
next	1.27;

1.27
date	2007.01.17.08.38.15;	author mbalmer;	state Exp;
branches;
next	1.26;

1.26
date	2007.01.14.10.11.51;	author mbalmer;	state Exp;
branches;
next	1.25;

1.25
date	2006.11.12.12.21.21;	author mbalmer;	state Exp;
branches;
next	1.24;

1.24
date	2006.11.12.12.09.14;	author mbalmer;	state Exp;
branches;
next	1.23;

1.23
date	2006.10.22.09.40.23;	author mbalmer;	state Exp;
branches;
next	1.22;

1.22
date	2006.10.22.09.24.41;	author mbalmer;	state Exp;
branches;
next	1.21;

1.21
date	2006.09.18.13.18.56;	author mbalmer;	state Exp;
branches;
next	1.20;

1.20
date	2006.04.19.09.27.07;	author mbalmer;	state Exp;
branches;
next	1.19;

1.19
date	2006.02.19.10.25.17;	author mbalmer;	state Exp;
branches;
next	1.18;

1.18
date	2006.02.17.07.44.39;	author mbalmer;	state Exp;
branches;
next	1.17;

1.17
date	2006.02.09.19.51.20;	author mbalmer;	state Exp;
branches;
next	1.16;

1.16
date	2006.02.07.10.13.11;	author mbalmer;	state Exp;
branches;
next	1.15;

1.15
date	2006.02.05.14.02.42;	author mbalmer;	state Exp;
branches;
next	1.14;

1.14
date	2006.02.04.17.33.25;	author bernd;	state Exp;
branches;
next	1.13;

1.13
date	2006.01.20.14.58.52;	author mbalmer;	state Exp;
branches;
next	1.12;

1.12
date	2006.01.11.14.59.52;	author mbalmer;	state Exp;
branches;
next	1.11;

1.11
date	2005.12.23.16.05.48;	author mbalmer;	state Exp;
branches;
next	1.10;

1.10
date	2005.12.18.08.43.22;	author mbalmer;	state Exp;
branches;
next	1.9;

1.9
date	2005.12.17.22.07.53;	author mbalmer;	state Exp;
branches;
next	1.8;

1.8
date	2005.12.17.20.17.23;	author mbalmer;	state Exp;
branches;
next	1.7;

1.7
date	2005.12.09.09.41.25;	author mbalmer;	state Exp;
branches;
next	1.6;

1.6
date	2005.11.01.16.26.49;	author mbalmer;	state Exp;
branches;
next	1.5;

1.5
date	2005.09.07.21.36.18;	author mbalmer;	state Exp;
branches;
next	1.4;

1.4
date	2005.05.26.20.45.41;	author mbalmer;	state Exp;
branches;
next	1.3;

1.3
date	2005.03.11.17.56.50;	author mbalmer;	state Exp;
branches;
next	1.2;

1.2
date	2005.01.02.12.56.05;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2004.11.17.11.00.01;	author mbalmer;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.11.17.11.00.01;	author mbalmer;	state Exp;
branches;
next	;


desc
@@


1.63
log
@remove SHARED_ONLY from ports that don't use any MODULES
@
text
@# $OpenBSD: Makefile,v 1.62 2015/12/03 21:24:30 sthen Exp $

COMMENT=	sendmail milter to scan messages for viruses and spam

DISTNAME=	smtp-vilter-1.3.6
EPOCH=		0
REVISION=	3

CATEGORIES=	mail

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c m pthread milter

MASTER_SITES=	https://spacehopper.org/mirrors/
EXTRACT_SUFX=	.tgz

LIB_DEPENDS=	mail/sendmail,-libmilter

NO_TEST=	Yes

FLAVORS=	ldap
FLAVOR?=

.if ${FLAVOR:Mldap}
MAKE_FLAGS+=	-DENABLE_LDAP
LIB_DEPENDS+=	databases/openldap
WANTLIB += ldap_r lber
.endif

CFLAGS+=	-I${LOCALBASE}/include
FAKE_FLAGS=	BINDIR=${PREFIX}/sbin \
		LIBDIR=${PREFIX}/lib/smtp-vilter \
		MANDIR=${PREFIX}/man/man \
		SPATH=${PREFIX}/share/examples/smtp-vilter

pre-configure:
	${SUBST_CMD} ${WRKSRC}/etc/smtp-vilter/smtp-vilter.conf

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples
	cp -r ${WRKSRC}/etc/smtp-vilter ${PREFIX}/share/examples/

.include <bsd.port.mk>
@


1.62
log
@switch my distfiles mirror to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2015/07/30 16:05:51 sthen Exp $
a9 2

SHARED_ONLY=	Yes
@


1.61
log
@mirror files no longer on MASTER_SITES and remove old HOMEPAGEs,
pointed out by naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2015/07/15 16:15:35 ajacoutot Exp $
d18 1
a18 1
MASTER_SITES=	http://spacehopper.org/mirrors/
@


1.60
log
@Fix pexp after recent rc.subr change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/09/21 16:47:45 sthen Exp $
d7 1
a7 1
REVISION=	2
d9 1
a9 3
CATEGORIES=    	mail

HOMEPAGE=	http://www.etc.msys.ch/software/smtp-vilter/
d18 1
a18 1
MASTER_SITES=  	${HOMEPAGE}
@


1.59
log
@fix now that libmilter headers have moved under /usr/local
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/09/17 09:13:13 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
@


1.58
log
@Cope with recent sendmail subpackaging.
Fix ports that were not able to find the milter includes (since it's not
under /usr/includes anymore).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2014/09/17 07:52:42 jca Exp $
d36 1
@


1.57
log
@Cope with sendmail (and libmilter) moving to ports.
Input from sthen@@, ok ajacoutot@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2014/01/23 15:45:18 jasper Exp $
d7 1
a7 1
REVISION=	0
d23 1
a23 1
LIB_DEPENDS=	mail/sendmail
@


1.56
log
@revert to 1.3.6 as the update to 1.3.8 has been causing regressions
as noticed by henning@@ ; to be investigated.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/02/09 14:49:51 sthen Exp $
d7 1
d22 2
@


1.55
log
@Fix modes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/08/09 18:06:52 ian Exp $
d5 2
a6 2
DISTNAME=	smtp-vilter-1.3.8
REVISION=	2
@


1.54
log
@Unbreak for shared arches with -nodefaultlibs, and bump.
Cluestick and "looks ok" from matthew@@; OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/05/05 17:37:00 jasper Exp $
d6 1
a6 1
REVISION=	1
@


1.53
log
@re-add function that got lost in the previous update; unbreaks ldap flavor.

spotted by sthen@@
@
text
@d6 1
a6 1
REVISION=	0
@


1.52
log
@- update to smtp-vilter 1.3.8

prompted by marc balmer (upstream)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/03/11 11:23:53 espie Exp $
d6 1
@


1.51
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/02/09 14:49:51 sthen Exp $
d5 1
a5 2
DISTNAME=	smtp-vilter-1.3.6
REVISION=	14
@


1.50
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/09/16 10:31:22 espie Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d22 1
a22 1
NO_REGRESS=	Yes
@


1.49
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/06/23 22:50:27 naddy Exp $
d30 1
a30 1
.if ${FLAVOR:L:Mldap}
@


1.48
log
@Cope with bsd.man.mk changes and install source man pages.
While here, also update some PLISTs, fix PREFIX use, etc.
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/05/11 12:57:48 jasper Exp $
d6 1
a6 1
REVISION=	13
@


1.47
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/04/17 09:10:46 sthen Exp $
d6 1
a6 1
REVISION=	12
d35 5
@


1.46
log
@remove libutf8 build dep, no longer needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/12/27 14:50:23 ajacoutot Exp $
d6 1
a6 1
REVISION=	11
@


1.45
log
@Simplify after recent rc.subr change.
The framework is now stable and we will start documenting it (at last).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/12/24 10:40:06 ajacoutot Exp $
d6 1
a6 1
REVISION=	10
a32 1
BUILD_DEPENDS+=	misc/libutf8
@


1.44
log
@Cope with recent rc.subr changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/11/19 07:23:09 espie Exp $
d6 1
a6 1
REVISION=	9
@


1.43
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/11/04 12:01:42 sthen Exp $
d6 1
a6 1
REVISION=	8
@


1.42
log
@add missing ", ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/10/29 12:54:44 ajacoutot Exp $
d32 2
a33 2
LIB_DEPENDS+=	::databases/openldap
BUILD_DEPENDS+=	::misc/libutf8
@


1.41
log
@Add RCS IDs to rc scripts.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/10/29 11:59:22 ajacoutot Exp $
d6 1
a6 1
REVISION=	7
@


1.40
log
@Move to REVISION and new DEPENDS.
Add some saner defaults so that it works out of the box.
Add an rc script.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/10/20 15:23:04 naddy Exp $
d6 1
a6 1
REVISION=	6
@


1.39
log
@ports that preformat man pages with mandoc via bsd.man.mk don't need groff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/10/18 19:59:20 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p5
d19 2
a20 1
WANTLIB=		c m pthread milter
d32 1
a32 1
LIB_DEPENDS+=	ldap_r,lber::databases/openldap
d34 1
d36 3
@


1.38
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/04/03 20:07:06 naddy Exp $
a23 1
USE_GROFF =	Yes
@


1.37
log
@mdoc fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2009/11/26 14:02:58 jasper Exp $
d24 1
@


1.36
log
@- add patches from "MARTIN" to pass sasl auth status to the spam backend
this will be integrated into the next upstream release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/09/15 17:37:21 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
@


1.35
log
@remove marc balmer as maintainer of all of his ports, to take away the
illusion marc still maintains them. as requested by himself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/08/30 20:45:24 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.34
log
@Update MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2008/10/28 15:21:49 naddy Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
a10 2

MAINTAINER=	Marc Balmer <mbalmer@@openbsd.org>
@


1.33
log
@Change "${SYSCONFDIR}" to "/etc" for files that are *always* in the
latter location.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2008/07/02 13:34:46 mbalmer Exp $
d23 1
a23 1
MASTER_SITES=  	ftp://ftp.etc.msys.ch/pub/sources/smtp-vilter/
@


1.32
log
@Fix possible crash in attachment filter.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2008/01/04 17:48:36 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.31
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2007/09/16 00:17:06 merdely Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.30
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/02/04 12:05:12 mbalmer Exp $
a24 2

FAKE_FLAGS=	${MAKE_FLAGS}
@


1.29
log
@Make smtp-vilter work with sendmail-8.14.0.  The  smfiDesc_str was extended,
so make sure the new elements are initialized to sane values.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/01/21 13:13:04 mbalmer Exp $
d3 1
a3 1
COMMENT=	"sendmail milter to scan messages for viruses and spam"
@


1.28
log
@Update to smtp-vilter 1.3.6 which removes the auto-expiration of entries
added to (or cleared from) pf tables, since pfctl can now do this using
pfctl -t tablename -T expire.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/01/17 08:38:15 mbalmer Exp $
d6 1
@


1.27
log
@Update to smtp-vilter-1.3.5, which implements virus scanning by filedescriptor
passing in the clamd backend.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/01/14 10:11:51 mbalmer Exp $
d5 1
a5 1
DISTNAME=	smtp-vilter-1.3.5
@


1.26
log
@Add an LDAP flavor for per domain and/or per user configuration.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/11/12 12:21:21 mbalmer Exp $
d5 1
a5 2
DISTNAME=	smtp-vilter-1.3.4
PKGNAME=	${DISTNAME}p0
@


1.25
log
@Had ro re-roll the tarball.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2006/11/12 12:09:14 mbalmer Exp $
d29 9
@


1.24
log
@Update to smtp-vilter 1.3.4.
- The scanning backends are now treated as internal modules, not shared
  libraries for general use.
- This adds support for Postfix.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2006/10/22 09:40:23 mbalmer Exp $
d6 1
@


1.23
log
@sort SHARED_LIBS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2006/10/22 09:24:41 mbalmer Exp $
d5 1
a5 1
DISTNAME=	smtp-vilter-1.3.3
a7 5
SHARED_LIBS=	vilter-attachment	8.0 \
		vilter-clamd		8.0 \
		vilter-icap		8.0 \
		vilter-regex		8.0 \
		vilter-spamd		8.0
a24 5
MAKE_FLAGS=	LIBvilter-attachment_VERSION=${LIBvilter-attachment_VERSION} \
		LIBvilter-clamd_VERSION=${LIBvilter-clamd_VERSION} \
		LIBvilter-icap_VERSION=${LIBvilter-icap_VERSION} \
		LIBvilter-spamd_VERSION=${LIBvilter-spamd_VERSION} \
		LIBvilter-regex_VERSION=${LIBvilter-regex_VERSION}
@


1.22
log
@smtp-vilter-1.3.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/09/18 13:18:56 mbalmer Exp $
d11 2
a12 2
		vilter-spamd		8.0 \
		vilter-regex		8.0
@


1.21
log
@Make extended logging work again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/04/19 09:27:07 mbalmer Exp $
d5 1
a5 2
DISTNAME=	smtp-vilter-1.3.2
PKGNAME=	${DISTNAME}p1
d8 5
a12 4
SHARED_LIBS=	vilter-attachment	7.2 \
		vilter-clamd		7.2 \
		vilter-icap		7.2 \
		vilter-spamd		7.2
d33 2
a34 1
		LIBvilter-spamd_VERSION=${LIBvilter-spamd_VERSION}
@


1.20
log
@Better advice in MESSAGE; from jared rr spiegel, <jrrs@@hklocal.nodeless.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/02/19 10:25:17 mbalmer Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.19
log
@smtp-vilter-1.3.2:  the configuration file parser outputs proper error
messages if a syntax error is encountered.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/02/17 07:44:39 mbalmer Exp $
d6 1
@


1.18
log
@Update to version 1.3.1.  Fixes some threading problem under heavy load.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/02/09 19:51:20 mbalmer Exp $
d5 1
a5 1
DISTNAME=	smtp-vilter-1.3.1
d8 4
a11 4
SHARED_LIBS=	vilter-attachment	7.1 \
		vilter-clamd		7.1 \
		vilter-icap		7.1 \
		vilter-spamd		7.1
@


1.17
log
@Update to version 1.3.0

Reliability enhancements for extreme busy servers.  Restart terminated
child processes, gracefully terminate if libmilter gets an error (like
pthread_create() failing). Add -A command line option to scan a file present
in the filesystem.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/02/07 10:13:11 mbalmer Exp $
d5 1
a5 1
DISTNAME=	smtp-vilter-1.3.0
d8 4
a11 4
SHARED_LIBS=	vilter-attachment	5.1 \
		vilter-clamd		5.1 \
		vilter-icap		5.1 \
		vilter-spamd		5.1
@


1.16
log
@Update to smtp-vilter-1.2.7, this fixes a bug in spam prefix handling.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/02/05 14:02:42 mbalmer Exp $
d5 1
a5 1
DISTNAME=	smtp-vilter-1.2.7
@


1.15
log
@Update to 1.2.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/02/04 17:33:25 bernd Exp $
d5 1
a5 1
DISTNAME=	smtp-vilter-1.2.6
@


1.14
log
@Fix broken SHARED_LIBS stuff.

ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/01/20 14:58:52 mbalmer Exp $
d5 1
a5 2
DISTNAME=	smtp-vilter-1.2.5
PKGNAME=	${DISTNAME}p0
@


1.13
log
@Update to smtp-vilter-1.2.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/01/11 14:59:52 mbalmer Exp $
d6 1
d29 6
@


1.12
log
@In the installation message, do not give advice to define variables with
a dash in /etc/rc.conf.local.

Found by Marc Winiger mw@@msys.ch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/12/23 16:05:48 mbalmer Exp $
d5 1
a5 2
DISTNAME=	smtp-vilter-1.2.4
PKGNAME=	${DISTNAME}p0
@


1.11
log
@Using SHARED_LIBS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/12/18 08:43:22 mbalmer Exp $
d6 1
@


1.10
log
@Update to smtp-vilter-1.2.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/05/26 20:45:41 mbalmer Exp $
d8 4
@


1.9
log
@Update to version 1.2.3.
@
text
@d5 1
a5 1
DISTNAME=	smtp-vilter-1.2.3
@


1.8
log
@Update to version 1.2.2.  This version adds support for timed reactions:
"react on virus add to table virus_senders for 8 hours"
@
text
@d5 1
a5 1
DISTNAME=	smtp-vilter-1.2.2
@


1.7
log
@Update to smtp-vilter 1.2.1.  This version has pf integration.
@
text
@d5 1
a5 1
DISTNAME=	smtp-vilter-1.2.1
@


1.6
log
@Add milter to WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/09/07 21:36:18 mbalmer Exp $
d5 1
a5 2
DISTNAME=	smtp-vilter-1.1.9
PKGNAME=	${DISTNAME}p1
@


1.5
log
@bump package name.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/05/26 20:45:41 mbalmer Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d21 1
a21 1
WANTLIB=		c m pthread
@


1.4
log
@Update to smtp-vilter 1.1.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/01/02 12:56:05 alek Exp $
d6 1
@


1.3
log
@Bump the package name.
@
text
@d5 1
a5 2
DISTNAME=	smtp-vilter-1.1.8
PKGNAME=	${DISTNAME}p0
@


1.2
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/11/17 11:00:01 mbalmer Exp $
d6 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d20 1
@


1.1.1.1
log
@mail/smtp-vilter, a sendmail milter for email content scanning using
different backends (clamd, spamd, savse).

ok naddy@@, alek@@
@
text
@@
