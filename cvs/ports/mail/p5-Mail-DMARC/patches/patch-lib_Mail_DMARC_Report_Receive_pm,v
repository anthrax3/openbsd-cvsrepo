head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.4
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.1.0.6
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.8
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.4
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2016.04.29.12.54.02;	author giovanni;	state Exp;
branches;
next	1.1;
commitid	ES3hz0oMgvhootiY;

1.1
date	2014.07.01.11.41.54;	author henning;	state Exp;
branches;
next	;
commitid	UYf5lYSamC2aYDzd;


desc
@@


1.2
log
@Don't look in $PWD/lib, it breaks startup if $PWD is inaccessible by the
current user.
ok sthen@@
@
text
@$OpenBSD: patch-lib_Mail_DMARC_Report_Receive_pm,v 1.1 2014/07/01 11:41:54 henning Exp $
--- lib/Mail/DMARC/Report/Receive.pm.orig	Wed Sep  9 01:20:48 2015
+++ lib/Mail/DMARC/Report/Receive.pm	Tue Apr 26 11:30:36 2016
@@@@ -234,7 +234,7 @@@@ sub handle_body {
 
     print "handling decompressed body\n" if $self->{verbose};
 
-    my $dom = XML::LibXML->load_xml( string => $body );
+    my $dom = XML::LibXML->new->parse_string($body);
     $self->do_node_report_metadata( $dom->findnodes("/feedback/report_metadata") );
     $self->do_node_policy_published( $dom->findnodes("/feedback/policy_published") );
 
@


1.1
log
@make this actually work with a recent XML::LibXML
@
text
@d1 4
a4 4
$OpenBSD$
--- lib/Mail/DMARC/Report/Receive.pm.orig	Mon Jun 30 12:51:53 2014
+++ lib/Mail/DMARC/Report/Receive.pm	Mon Jun 30 12:52:26 2014
@@@@ -229,7 +229,7 @@@@ sub handle_body {
@

