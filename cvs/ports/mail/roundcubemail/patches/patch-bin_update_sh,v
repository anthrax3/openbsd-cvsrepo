head	1.5;
access;
symbols
	OPENBSD_6_2:1.5.0.2
	OPENBSD_6_2_BASE:1.5
	OPENBSD_6_1:1.4.0.4
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.2
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2017.06.30.13.26.22;	author sthen;	state Exp;
branches;
next	1.4;
commitid	OgGJXXY73RPR28I3;

1.4
date	2016.05.22.19.22.22;	author sthen;	state Exp;
branches;
next	1.3;
commitid	9qUzIM5oSiao3vDY;

1.3
date	2015.06.08.09.14.32;	author sthen;	state Exp;
branches;
next	1.2;
commitid	Rp9RieRi9LrJXkDg;

1.2
date	2015.02.10.11.05.33;	author sthen;	state Exp;
branches
	1.2.2.1;
next	1.1;
commitid	ZpbICa8t4ikTo46h;

1.1
date	2014.04.20.19.59.54;	author sthen;	state Exp;
branches;
next	;

1.2.2.1
date	2015.06.08.09.16.11;	author sthen;	state Exp;
branches;
next	;
commitid	IB5Xm3rr9eLO0uGY;


desc
@@


1.5
log
@update to roundcubemail-1.3.0, ok landry@@
@
text
@$OpenBSD: patch-bin_update_sh,v 1.4 2016/05/22 19:22:22 sthen Exp $
Index: bin/update.sh
--- bin/update.sh.orig
+++ bin/update.sh
@@@@ -254,7 +254,7 @@@@ if ($RCI->configured) {
       echo "\n    }\n\n";
     }
 
-    echo "NOTE: Update dependencies by running `php composer.phar update --no-dev`\n";
+    echo "NOTE: Update dependencies by running `${MODPHP_BIN} composer.phar update --no-dev`\n";
   }
 
   // index contacts for fulltext searching
@


1.4
log
@update to roundcube 1.2.0, including PHP7 compatibility, PGP encryption
(either server-side or client-side using the Mailvelope browser plugin),
and various other improvements and bug fixes.
@
text
@d1 5
a5 4
$OpenBSD: patch-bin_update_sh,v 1.3 2015/06/08 09:14:32 sthen Exp $
--- bin/update.sh.orig	Sun May 22 12:06:45 2016
+++ bin/update.sh	Sun May 22 14:22:49 2016
@@@@ -250,7 +250,7 @@@@ if ($RCI->configured) {
@


1.3
log
@update to roundcubemail-1.1.2 including a fix for an XSS and a potential
arbitrary file read.

http://trac.roundcube.net/query?group=status&component=Security&milestone=1.1.2
@
text
@d1 4
a4 13
$OpenBSD: patch-bin_update_sh,v 1.2 2015/02/10 11:05:33 sthen Exp $
--- bin/update.sh.orig	Fri Jun  5 13:47:17 2015
+++ bin/update.sh	Mon Jun  8 10:03:29 2015
@@@@ -156,7 +156,7 @@@@ if ($RCI->configured) {
   // check database schema
   if ($RCI->config['db_dsnw']) {
     echo "Executing database schema update.\n";
-    system("php " . INSTALL_PATH . "bin/updatedb.sh --package=roundcube --version=" . $opts['version']
+    system("${MODPHP_BIN} " . INSTALL_PATH . "bin/updatedb.sh --package=roundcube --version=" . $opts['version']
       . " --dir=" . INSTALL_PATH . "SQL", $res);
 
     $success = !$res;
@@@@ -240,12 +240,12 @@@@ if ($RCI->configured) {
a12 6
   if ($opts['version'] && version_compare(version_parse($opts['version']), '0.6.0', '<')) {
-    system("php " . INSTALL_PATH . 'bin/indexcontacts.sh');
+    system("${MODPHP_BIN} " . INSTALL_PATH . 'bin/indexcontacts.sh');
   }
 
   if ($success) {
@


1.2
log
@update to roundcube 1.1.0, allows searches across multiple folders, better
support for screen readers and more.

Note: IE7/8 no longer supported by default but can be added with the
"legacy_browser" plugin.

There is new experimental anti-CSRF code (per-session tokens in URLs making
it harder for an attacker to generate a valid URL), this is not enabled by
default (requires rewrite support from the web server), for more info see
http://trac.roundcube.net/wiki/Howto_Config/Secure_URLs
@
text
@d1 3
a3 3
$OpenBSD: patch-bin_update_sh,v 1.1 2014/04/20 19:59:54 sthen Exp $
--- bin/update.sh.orig	Sun Feb  8 13:48:55 2015
+++ bin/update.sh	Tue Feb 10 10:37:13 2015
d13 1
a13 1
@@@@ -234,12 +234,12 @@@@ if ($RCI->configured) {
@


1.2.2.1
log
@update to roundcubemail-1.1.2 including a fix for an XSS and a potential
arbitrary file read.

http://trac.roundcube.net/query?group=status&component=Security&milestone=1.1.2
@
text
@d1 3
a3 3
$OpenBSD: patch-bin_update_sh,v 1.3 2015/06/08 09:14:32 sthen Exp $
--- bin/update.sh.orig	Fri Jun  5 13:47:17 2015
+++ bin/update.sh	Mon Jun  8 10:03:29 2015
d13 1
a13 1
@@@@ -240,12 +240,12 @@@@ if ($RCI->configured) {
@


1.1
log
@update to roundcube 1.0

WARNING! config files have been rearranged, if upgrading an existing
system you will need to migrate your settings from old config files
(db.inc.php and main.inc.php) to the new file (config.inc.php).
@
text
@d1 4
a4 4
$OpenBSD$
--- bin/update.sh.orig	Sun Apr 20 20:28:44 2014
+++ bin/update.sh	Sun Apr 20 20:29:34 2014
@@@@ -157,7 +157,7 @@@@ if ($RCI->configured) {
d10 1
a10 1
       . " --dir=" . INSTALL_PATH . DIRECTORY_SEPARATOR . "SQL", $res);
d13 15
@

