head	1.5;
access;
symbols
	OPENBSD_2_8:1.3.0.4
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.2.0.6
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.4
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2;
locks; strict;
comment	@# @;


1.5
date	2001.02.19.15.00.53;	author danh;	state dead;
branches;
next	1.4;

1.4
date	2000.12.25.06.52.22;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2000.03.27.20.16.39;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	98.06.30.05.54.55;	author form;	state Exp;
branches;
next	1.1;

1.1
date	98.04.28.17.23.11;	author marc;	state Exp;
branches;
next	;


desc
@@


1.5
log
@- bump NEED_VERSION.
- update IPv6 patch from Kame (20010128).
- add no_ipv6 flavor so there is an option to run without inetd.
@
text
@--- cucipop.8.orig	Mon May 11 12:35:19 1998
+++ cucipop.8	Mon Dec 25 01:41:59 2000
@@@@ -48,12 +48,12 @@@@
 .SH NAME
 cucipop \- Cubic Circle POP3 daemon
 .SH SYNOPSIS
-.B /usr/sbin/cucipop
+.B !!PREFIX!!/libexec/cucipop
 .RB [ \-qaYdPUSDAT ]
 .RB [ "\-E \fIage\fP" ]
 .RB [ "\-p \fIport\fP" ]
 .br
-.B /usr/sbin/cucipop
+.B !!PREFIX!!/libexec/cucipop
 .B \-v
 .ad
 .SH DESCRIPTION
@@@@ -132,12 +132,12 @@@@
 .IR port .
 .SH EXAMPLES
 Typically
-.I pop-3
+.I pop3
 service is defined in
 .BR services (5)
 as follows:
 .Sx 1
-pop-3           110/tcp
+pop3           110/tcp
 .Ex
 In order to start cucipop from within
 .BR inetd (8),
@@@@ -145,20 +145,20 @@@@
 .BR inetd.conf (5)
 would be suitable:
 .Sx 1
-pop-3   stream  tcp     nowait  root    /usr/sbin/cucipop cucipop -Y
+pop3   stream  tcp     nowait  root    !!PREFIX!!/libexec/cucipop cucipop -Y
 .Ex
 If your site gets many hits from popclients, it would be preferable
 to start cucipop standalone as in:
 .Sx 1
-/usr/sbin/cucipop -Y
+!!PREFIX!!/libexec/cucipop -Y
 .Ex
 Your typical BOFH setting would be:
 .Sx 1
-/usr/sbin/cucipop -YaSE 6w
+!!PREFIX!!/libexec/cucipop -YaSE 6w
 .Ex
 .SH FILES
 .TP 2.3i
-.B /etc/passwd
+.B /etc/master.passwd
 the default authentication
 .TP
 .B /etc/mail/vpop.db
@@@@ -166,25 +166,25 @@@@
 .BR makevpopdb (8)
 man page on how this file is created
 .TP
-.B /var/lib/cucipop/state.db
+.B /var/cucipop/state.db
 AI state information and bulletin history
 .TP
-.B "/var/lib/cucipop/bulletins/\fInn\fP"
+.B "/var/cucipop/bulletins/\fInn\fP"
 .B 00
 through
 .B 63
 optional bulletin files in regular mailbox format
 .TP
-.B /var/spool/mail/$LOGNAME
+.B /var/mail/$LOGNAME
 system mailbox
 .TP
-.B /var/spool/mail/virtual.dom.ain/$LOGNAME
+.B /var/mail/virtual.dom.ain/$LOGNAME
 virtual host system mailbox
 .TP
-.B /var/spool/mail/$LOGNAME.lock
+.B /var/mail/$LOGNAME.lock
 lockfile for the system mailbox
 .TP
-.B /var/spool/mail/virtual.dom.ain/$LOGNAME.lock
+.B /var/mail/virtual.dom.ain/$LOGNAME.lock
 lockfile for the virtual host system mailbox
 .TP
 .B _????`hostname`
@


1.4
log
@ensure that paths in the manpages are not hardcoded to /usr/local
@
text
@@


1.3
log
@unified diffs
@
text
@d2 1
a2 1
+++ cucipop.8	Mon Mar 27 15:12:54 2000
d8 1
a8 1
+.B /usr/local/libexec/cucipop
d14 1
a14 1
+.B /usr/local/libexec/cucipop
d38 1
a38 1
+pop3   stream  tcp     nowait  root    /usr/local/libexec/cucipop cucipop -Y
d44 1
a44 1
+/usr/local/libexec/cucipop -Y
d49 1
a49 1
+/usr/local/libexec/cucipop -YaSE 6w
@


1.2
log
@update to 1.31
@
text
@d1 89
a89 152
*** cucipop.8.orig	Mon May 11 23:35:19 1998
--- cucipop.8	Tue Jun 30 12:42:36 1998
***************
*** 48,59 ****
  .SH NAME
  cucipop \- Cubic Circle POP3 daemon
  .SH SYNOPSIS
! .B /usr/sbin/cucipop
  .RB [ \-qaYdPUSDAT ]
  .RB [ "\-E \fIage\fP" ]
  .RB [ "\-p \fIport\fP" ]
  .br
! .B /usr/sbin/cucipop
  .B \-v
  .ad
  .SH DESCRIPTION
--- 48,59 ----
  .SH NAME
  cucipop \- Cubic Circle POP3 daemon
  .SH SYNOPSIS
! .B /usr/local/libexec/cucipop
  .RB [ \-qaYdPUSDAT ]
  .RB [ "\-E \fIage\fP" ]
  .RB [ "\-p \fIport\fP" ]
  .br
! .B /usr/local/libexec/cucipop
  .B \-v
  .ad
  .SH DESCRIPTION
***************
*** 132,143 ****
  .IR port .
  .SH EXAMPLES
  Typically
! .I pop-3
  service is defined in
  .BR services (5)
  as follows:
  .Sx 1
! pop-3           110/tcp
  .Ex
  In order to start cucipop from within
  .BR inetd (8),
--- 132,143 ----
  .IR port .
  .SH EXAMPLES
  Typically
! .I pop3
  service is defined in
  .BR services (5)
  as follows:
  .Sx 1
! pop3           110/tcp
  .Ex
  In order to start cucipop from within
  .BR inetd (8),
***************
*** 145,164 ****
  .BR inetd.conf (5)
  would be suitable:
  .Sx 1
! pop-3   stream  tcp     nowait  root    /usr/sbin/cucipop cucipop -Y
  .Ex
  If your site gets many hits from popclients, it would be preferable
  to start cucipop standalone as in:
  .Sx 1
! /usr/sbin/cucipop -Y
  .Ex
  Your typical BOFH setting would be:
  .Sx 1
! /usr/sbin/cucipop -YaSE 6w
  .Ex
  .SH FILES
  .TP 2.3i
! .B /etc/passwd
  the default authentication
  .TP
  .B /etc/mail/vpop.db
--- 145,164 ----
  .BR inetd.conf (5)
  would be suitable:
  .Sx 1
! pop3   stream  tcp     nowait  root    /usr/local/libexec/cucipop cucipop -Y
  .Ex
  If your site gets many hits from popclients, it would be preferable
  to start cucipop standalone as in:
  .Sx 1
! /usr/local/libexec/cucipop -Y
  .Ex
  Your typical BOFH setting would be:
  .Sx 1
! /usr/local/libexec/cucipop -YaSE 6w
  .Ex
  .SH FILES
  .TP 2.3i
! .B /etc/master.passwd
  the default authentication
  .TP
  .B /etc/mail/vpop.db
***************
*** 166,190 ****
  .BR makevpopdb (8)
  man page on how this file is created
  .TP
! .B /var/lib/cucipop/state.db
  AI state information and bulletin history
  .TP
! .B "/var/lib/cucipop/bulletins/\fInn\fP"
  .B 00
  through
  .B 63
  optional bulletin files in regular mailbox format
  .TP
! .B /var/spool/mail/$LOGNAME
  system mailbox
  .TP
! .B /var/spool/mail/virtual.dom.ain/$LOGNAME
  virtual host system mailbox
  .TP
! .B /var/spool/mail/$LOGNAME.lock
  lockfile for the system mailbox
  .TP
! .B /var/spool/mail/virtual.dom.ain/$LOGNAME.lock
  lockfile for the virtual host system mailbox
  .TP
  .B _????`hostname`
--- 166,190 ----
  .BR makevpopdb (8)
  man page on how this file is created
  .TP
! .B /var/cucipop/state.db
  AI state information and bulletin history
  .TP
! .B "/var/cucipop/bulletins/\fInn\fP"
  .B 00
  through
  .B 63
  optional bulletin files in regular mailbox format
  .TP
! .B /var/mail/$LOGNAME
  system mailbox
  .TP
! .B /var/mail/virtual.dom.ain/$LOGNAME
  virtual host system mailbox
  .TP
! .B /var/mail/$LOGNAME.lock
  lockfile for the system mailbox
  .TP
! .B /var/mail/virtual.dom.ain/$LOGNAME.lock
  lockfile for the virtual host system mailbox
  .TP
  .B _????`hostname`
@


1.1
log
@use proper locking and spool directory.
patch from Oleg Safiullin <form@@vs.itam.nsc.ru>
@
text
@d1 2
a2 2
*** config.h.orig	Fri Aug  1 08:13:05 1997
--- config.h	Tue Apr 28 15:11:11 1998
d4 26
a29 20
*** 1,9 ****
  /*$Id: config.h,v 1.9 1997/08/01 01:13:05 srb Exp $*/
  
! #define USEdot_lock	/**/
  /*#define USEfcntl_lock /**/	    /* to test which combinations make sense */
  /*#define USElockf	/**/	      /* run the lockingtest program part of */
! /*#define USEflock	/**/		/* the procmail installation process */
  
  /*#define SHADOW_PASSWD /**/		  /* shadow password library support */
  
--- 1,9 ----
  /*$Id: config.h,v 1.9 1997/08/01 01:13:05 srb Exp $*/
  
! /*#define USEdot_lock	/**/
  /*#define USEfcntl_lock /**/	    /* to test which combinations make sense */
  /*#define USElockf	/**/	      /* run the lockingtest program part of */
! #define USEflock	/**/		/* the procmail installation process */
  
  /*#define SHADOW_PASSWD /**/		  /* shadow password library support */
  
d31 26
a56 16
*** 12,18 ****
  #define APOP		/**/
  #define TOP		/**/
  
! /*#define LAST_HACK	/**/		   /* uncomment to enable dummy LAST */
  							 /* violates RFC1939 */
  
  /* to change the MAILSPOOLDIR, edit authenticate.c */
--- 12,18 ----
  #define APOP		/**/
  #define TOP		/**/
  
! #define LAST_HACK	/**/		   /* uncomment to enable dummy LAST */
  							 /* violates RFC1939 */
  
  /* to change the MAILSPOOLDIR, edit authenticate.c */
d58 95
a152 16
*** 62,68 ****
  \n\t-T\tdisable optional TOP command\
  \n\t-p port\tspecify port other than %d\n"
  
! /*#define LOG_FAILED_PASSWORD			     /* log failed passwords */
  
  #define COPYBUF		32768			/* when doing in-situ copies */
  #define GROWSTEP	16
--- 62,68 ----
  \n\t-T\tdisable optional TOP command\
  \n\t-p port\tspecify port other than %d\n"
  
! #define LOG_FAILED_PASSWORD			     /* log failed passwords */
  
  #define COPYBUF		32768			/* when doing in-situ copies */
  #define GROWSTEP	16
@

