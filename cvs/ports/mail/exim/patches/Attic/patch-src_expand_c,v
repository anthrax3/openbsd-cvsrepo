head	1.4;
access;
symbols
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2015.01.13.18.00.23;	author sthen;	state dead;
branches;
next	1.3;
commitid	RazbufODbXfaTsK9;

1.3
date	2014.07.23.10.36.24;	author sthen;	state Exp;
branches;
next	1.2;
commitid	Xi6hnk3lk4nZFsFJ;

1.2
date	2014.05.28.14.23.27;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2013.10.22.08.46.10;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to exim 4.85
@
text
@$OpenBSD: patch-src_expand_c,v 1.3 2014/07/23 10:36:24 sthen Exp $
--- src/expand.c.orig	Mon Jul 21 15:28:07 2014
+++ src/expand.c	Tue Jul 22 21:03:13 2014
@@@@ -912,8 +912,7 @@@@ vaguely_random_number(int max)
 
 #ifdef HAVE_ARC4RANDOM
       /* cryptographically strong randomness, common on *BSD platforms, not
-      so much elsewhere.  Alas. */
-      arc4random_stir();
+      so much elsewhere.  Alas.  Self-initializing, no need to seed. */
 #elif defined(HAVE_SRANDOM) || defined(HAVE_SRANDOMDEV)
 #ifdef HAVE_SRANDOMDEV
       /* uses random(4) for seeding */
@


1.3
log
@update to Exim 4.83, fixes CVE-2014-2972 - more information at
https://lists.exim.org/lurker/message/20140722.152452.d6c019e8.en.html

ok naddy@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_expand_c,v 1.2 2014/05/28 14:23:27 sthen Exp $
@


1.2
log
@update to exim 4.82.1
@
text
@d1 4
a4 4
$OpenBSD: patch-src_expand_c,v 1.1 2013/10/22 08:46:10 sthen Exp $
--- src/expand.c.orig	Mon May 26 20:14:16 2014
+++ src/expand.c	Wed May 28 14:54:48 2014
@@@@ -884,8 +884,7 @@@@ vaguely_random_number(int max)
@


1.1
log
@don't use arc4random_stir to seed
@
text
@d1 4
a4 4
$OpenBSD$
--- src/expand.c.orig	Tue Oct 22 02:27:08 2013
+++ src/expand.c	Tue Oct 22 02:27:51 2013
@@@@ -822,8 +822,7 @@@@ vaguely_random_number(int max)
@

