head	1.22;
access;
symbols
	OPENBSD_6_2:1.22.0.12
	OPENBSD_6_2_BASE:1.22
	OPENBSD_6_1:1.22.0.10
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.22.0.8
	OPENBSD_6_0_BASE:1.22
	OPENBSD_5_9:1.22.0.4
	OPENBSD_5_9_BASE:1.22
	OPENBSD_5_8:1.22.0.6
	OPENBSD_5_8_BASE:1.22
	OPENBSD_5_7:1.22.0.2
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.21.0.2
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.20.0.4
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.20.0.2
	OPENBSD_5_4_BASE:1.20
	OPENBSD_5_3:1.18.0.10
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.8
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.6
	OPENBSD_5_0:1.18.0.4
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.18.0.2
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.16.0.12
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.16.0.10
	OPENBSD_4_7_BASE:1.16
	OPENBSD_4_6:1.16.0.8
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.16.0.6
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.16.0.4
	OPENBSD_4_4_BASE:1.16
	OPENBSD_4_3:1.16.0.2
	OPENBSD_4_3_BASE:1.16
	OPENBSD_4_2:1.15.0.6
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.15.0.4
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.15.0.2
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.13.0.4
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.2
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.12.0.2
	OPENBSD_3_7_BASE:1.12
	OPENBSD_3_6:1.11.0.4
	OPENBSD_3_6_BASE:1.11
	OPENBSD_3_5:1.11.0.2
	OPENBSD_3_5_BASE:1.11
	OPENBSD_3_4:1.9.0.2
	OPENBSD_3_4_BASE:1.9
	OPENBSD_3_3:1.8.0.2
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.5.0.2
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.1.1.1.0.2
	OPENBSD_3_0_BASE:1.1.1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	lebel_2001-Jul-04:1.1.1.1
	lebel:1.1.1;
locks; strict;
comment	@# @;


1.22
date	2015.02.17.22.39.31;	author naddy;	state Exp;
branches;
next	1.21;
commitid	eP3oQGdff027Tvak;

1.21
date	2014.04.20.10.00.21;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2013.05.06.11.57.09;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2013.03.11.11.23.51;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.11.19.07.23.07;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.10.18.19.59.16;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2007.09.16.00.17.05;	author merdely;	state Exp;
branches;
next	1.15;

1.15
date	2006.05.31.01.41.55;	author sturm;	state Exp;
branches;
next	1.14;

1.14
date	2006.03.04.15.10.31;	author sturm;	state Exp;
branches;
next	1.13;

1.13
date	2005.08.27.15.57.31;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2005.01.02.12.56.05;	author alek;	state Exp;
branches
	1.12.2.1;
next	1.11;

1.11
date	2003.11.23.18.52.39;	author sturm;	state Exp;
branches
	1.11.4.1;
next	1.10;

1.10
date	2003.09.29.20.17.49;	author sturm;	state Exp;
branches;
next	1.9;

1.9
date	2003.06.22.10.05.29;	author sturm;	state Exp;
branches;
next	1.8;

1.8
date	2002.12.25.16.48.12;	author sturm;	state Exp;
branches;
next	1.7;

1.7
date	2002.11.22.16.43.45;	author sturm;	state Exp;
branches;
next	1.6;

1.6
date	2002.10.30.15.07.54;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2002.09.14.15.21.14;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2002.05.02.19.02.10;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2002.03.21.21.09.17;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.10.31.20.09.19;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2001.07.04.15.22.33;	author lebel;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.07.04.15.22.33;	author lebel;	state Exp;
branches;
next	;

1.11.4.1
date	2005.09.04.20.23.01;	author sturm;	state Exp;
branches;
next	;

1.12.2.1
date	2005.09.04.20.28.27;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.22
log
@properly escape Perl-compatible regex for roff and drop USE_GROFF
@
text
@# $OpenBSD: Makefile,v 1.21 2014/04/20 10:00:21 jasper Exp $

COMMENT=	client for anonymous remailing

DISTNAME=	mixmaster-2.9.1
REVISION=	2
CATEGORIES=	mail security

# custom
PERMIT_PACKAGE_CDROM=	only with patch notice
PERMIT_PACKAGE_FTP=	only with patch notice
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		c crypto curses z

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=mixmaster/}
MASTER_SITES0=	http://distfiles.nl/
DISTFILES=	${DISTNAME}${EXTRACT_SUFX} \
		mixmaster-update.pl.gz:0 allpingers.txt.gz:0

HOMEPAGE=	http://mixmaster.sourceforge.net/

WRKSRC=		${WRKDIST}/Src
CFLAGS+=	-DGLOBALMIXCONF="\"${SYSCONFDIR}/mixmaster/client.cfg\"" \
		-DHOMEMIXDIR="\".Mix\""

NO_TEST=	Yes

MIXMASTER_FILES=${WRKDIST}/conf/* ${WRKDIST}/README \
	${WRKDIR}/mixmaster-update.pl ${WRKDIR}/allpingers.txt

post-patch:
	@@cp ${FILESDIR}/Makefile ${WRKSRC}

pre-install:
	@@perl -pi -e "s,/etc,${SYSCONFDIR},g" ${WRKDIR}/mixmaster-update.pl

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/mix ${PREFIX}/bin/mixmaster
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/mixmaster
	${INSTALL_DATA} ${MIXMASTER_FILES} ${PREFIX}/share/examples/mixmaster
	${INSTALL_DATA} ${WRKDIST}/mix.1 ${PREFIX}/man/man1/mixmaster.1

.include <bsd.port.mk>
@


1.21
log
@use ${FILESDIR} instead of hardcoding 'files/'
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/05/06 11:57:09 jasper Exp $
d6 1
a6 1
REVISION =	1
a25 1
USE_GROFF =	Yes
@


1.20
log
@provide a mirror for the extra distfiles
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/03/11 11:23:51 espie Exp $
d33 1
a33 1
	@@cp files/Makefile ${WRKSRC}
@


1.19
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/11/19 07:23:07 espie Exp $
d16 1
a16 1
MASTER_SITES0=	${MASTER_SITES_BACKUP}
@


1.18
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/10/18 19:59:16 espie Exp $
a11 1
PERMIT_DISTFILES_CDROM=	Yes
d27 1
a27 1
NO_REGRESS=	Yes
@


1.17
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/09/16 00:17:05 merdely Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.16
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/05/31 01:41:55 sturm Exp $
d27 1
@


1.15
log
@remove ftp.erisiandiscord.de from MASTER_SITES, it is dead
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/03/04 15:10:31 sturm Exp $
d3 1
a3 1
COMMENT=	"client for anonymous remailing"
d10 2
a11 2
PERMIT_PACKAGE_CDROM=	"only with patch notice"
PERMIT_PACKAGE_FTP=	"only with patch notice"
@


1.14
log
@give up MAINTAINER, I don't use these anymore
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2005/08/27 15:57:31 naddy Exp $
d17 1
a17 1
MASTER_SITES0=	ftp://ftp.erisiandiscord.de/pub/misc/
@


1.13
log
@SECURITY:
CAN-2005-2491, http://securitytracker.com/id?1014744
A remote or local user may be able to supply a specially crafted
regular expression to trigger a heap integer overflow in PCRE.

ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/01/02 12:56:05 alek Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
a7 2

MAINTAINER=	Nikolay Sturm <sturm@@openbsd.org>
@


1.12
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/11/23 18:52:39 sturm Exp $
d5 2
a6 2
VERSION=	2.9.1
DISTNAME=	mixmaster-${VERSION}
@


1.12.2.1
log
@SECURITY:
CAN-2005-2491, http://securitytracker.com/id?1014744
A remote or local user may be able to supply a specially crafted
regular expression to trigger a heap integer overflow in PCRE.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/01/02 12:56:05 alek Exp $
a6 1
PKGNAME=	${DISTNAME}p0
@


1.11
log
@bugfix update to mixmaster 2.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/09/29 20:17:49 sturm Exp $
d16 1
@


1.11.4.1
log
@MFC:
SECURITY:
CAN-2005-2491, http://securitytracker.com/id?1014744
A remote or local user may be able to supply a specially crafted
regular expression to trigger a heap integer overflow in PCRE

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/11/23 18:52:39 sturm Exp $
a6 1
PKGNAME=	${DISTNAME}p0
@


1.10
log
@major cleanup, inspired by Peter Palfrader
- no more sgid _mixmaster
- no more global pool
- every user has his own pool/config in ~/.Mix, with
SYSCONFDIR/mixmaster/client.cfg providing a default configuration
- add sample script to fetch remailer keys/statistics
from Peter Palfrader <peter at palfrader dot org>
- remove WWW while here
- fix a bounds warning
- bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2003/06/22 10:05:29 sturm Exp $
d5 1
a5 1
VERSION=	2.9.0
a6 1
PKGNAME=	${DISTNAME}p1
d11 1
@


1.9
log
@new user/group naming schema

bumped PKGNAME except for xcept
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/12/25 16:48:12 sturm Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d18 3
d25 2
d30 2
a31 3
MAKE_ENV=	SYSCONFDIR="${SYSCONFDIR}/mixmaster"

MIXMASTER_FILES=	${WRKDIST}/conf/* ${WRKDIST}/README
d36 3
d40 1
a40 1
	${INSTALL_PROGRAM} ${WRKSRC}/mix ${PREFIX}/sbin/mixmaster
@


1.8
log
@update to 2.9.0

minor bugfixes

naddy@@ OK
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/11/22 16:43:45 sturm Exp $
d7 1
@


1.7
log
@set MAINTAINER to sturm@@openbsd.org

naddy@@ OK
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/10/30 15:07:54 naddy Exp $
d5 1
a5 1
VERSION=	2.9b40
@


1.6
log
@Update to 2.9b40: mainly minor bugfixes.
From: Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/09/14 15:21:14 naddy Exp $
d9 1
a9 1
MAINTAINER=	Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>
@


1.5
log
@Update to 2.9b37.
From: Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/05/02 19:02:10 naddy Exp $
d5 1
a5 1
VERSION=	2.9b37
d26 1
a26 4
.for i in mix.cfg mix.cfg.ex pubring.* *.alw *.blk *.hlp *.in *.list *.txt
MIXMASTER_FILES+=	${WRKDIST}/conf/$i
.endfor
MIXMASTER_FILES+=	${WRKDIST}/README
@


1.4
log
@update maintainer address
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/03/21 21:09:17 espie Exp $
d5 2
a6 3
VERSION=	2.0.4b45
DISTNAME=	mix${VERSION:S/.//g}
PKGNAME=	mixmaster-${VERSION}
a7 1
NEED_VERSION=	1.515
d11 2
a12 3
# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
d16 1
a16 3
MASTER_SITES=	ftp://ftp.shinn.net/pub/remailer/mixmaster/v2.0/ \
		ftp://ftp.zedz.net/pub/crypto/remailer/mixmaster/ \
		http://tesla.desy.de/~nsturm/distfiles/
d18 1
a18 2
# this is a general mixmaster website, mixmaster itself is unmaintained
HOMEPAGE=	http://mixmaster.shinn.net
d20 1
a20 4
SYSCONFDIR=	/etc/mixmaster

WRKDIST=${WRKDIR}/Mix-${VERSION:S/.//g}
WRKSRC=${WRKDIST}/Src
d24 1
a24 1
MAKE_ENV=	SYSCONFDIR="${SYSCONFDIR}"
d26 4
a29 6
MIXMASTER_FILES=${WRKDIST}/type2.list ${WRKDIST}/mixmaster.conf.in \
		${WRKDIST}/destination.block ${WRKDIST}/mix.help.in \
		${WRKDIST}/pubring.mix ${WRKDIST}/source.block \
		${WRKDIST}/mix.list ${WRKDIST}/urls ${WRKDIST}/headers.del \
		${WRKDIST}/getlist ${WRKDIST}/keyinfo.txt.in \
		${WRKDIST}/mixmaster.conf ${WRKDIST}/mix.help
d32 1
a32 1
	@@perl -i -p -e "s#MIXDEST#${SYSCONFDIR}#" ${WRKDIST}/getlist
d34 2
a35 2
post-install:
	@@strip ${PREFIX}/sbin/mixmaster
d38 1
a38 1
	${INSTALL_DATA} ${WRKDIST}/mixmaster.1 ${PREFIX}/man/man1
@


1.3
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/10/31 20:09:19 wilfried Exp $
d11 1
a11 1
MAINTAINER=	Nikolay Sturm <nikolay.sturm@@desy.de>
@


1.2
log
@NO_REGRESS, from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/07/04 15:22:33 lebel Exp $
d9 1
a9 1
NEED_VERSION=	1.405
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d30 2
@


1.1.1.1
log
@initial import of mixmaster-2.0.4b45:
--
This software comes in a client only configuration! If you want
to setup a mixmaster server, read through the example files,
man page and keep in mind, that the server stores all it's files
in $MIXPATH (/etc/mixmaster by default).

The purpose of anonymous remailers (hereafter simply remailers) is
to provide protection against traffic analysis. Traffic analysis
is the study of who you are communicating with, when, and how often.
This reveals more than you might expect about your activities. It
will indicate who your friends and colleagues are (and they can be
told apart by looking at the times you contact them). What your
interests are, from which catalog companies you contact, and which
ftp and WWW sites you visit. Traffic analysis can even reveal
business secrets, e.g. your frequent contact with a rival could
give hints of an impending merger.

Remailers protect your e-mail from traffic analysis. The original
remailers did this by removing all headers, except the subject line,
from any message you sent to them and then forwarding them a
destination of your choice. The recipient of such a message would
not know who had sent it.

The addition of encryption to this scheme gave significant protection
from attackers who simply look a the primary improvement with the
type 2 remailer Mixmaster.

WWW: http://mixmaster.shinn.net

Submitted by Nikolay Sturm <nikolay.sturm@@desy.de>

@
text
@@
