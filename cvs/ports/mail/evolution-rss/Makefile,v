head	1.64;
access;
symbols
	OPENBSD_6_1:1.64.0.2
	OPENBSD_6_1_BASE:1.64
	OPENBSD_6_0:1.58.0.2
	OPENBSD_6_0_BASE:1.58
	OPENBSD_5_9:1.54.0.2
	OPENBSD_5_9_BASE:1.54
	OPENBSD_5_8:1.53.0.4
	OPENBSD_5_8_BASE:1.53
	OPENBSD_5_7:1.48.0.2
	OPENBSD_5_7_BASE:1.48
	OPENBSD_5_6:1.45.0.2
	OPENBSD_5_6_BASE:1.45
	OPENBSD_5_5:1.38.0.2
	OPENBSD_5_5_BASE:1.38
	OPENBSD_5_4:1.31.0.2
	OPENBSD_5_4_BASE:1.31
	OPENBSD_5_3:1.23.0.2
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.18.0.2
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.2
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	ajacoutot:1.1.1.1
	ajacoutot_20110714:1.1.1;
locks; strict;
comment	@# @;


1.64
date	2017.03.29.13.27.12;	author ajacoutot;	state Exp;
branches;
next	1.63;
commitid	fUFr8G3En9VWAQry;

1.63
date	2017.03.08.11.12.22;	author espie;	state Exp;
branches;
next	1.62;
commitid	oDxHMuucDranKTlc;

1.62
date	2017.02.22.13.59.27;	author ajacoutot;	state Exp;
branches;
next	1.61;
commitid	kmZV7HJ2xHp9uoSN;

1.61
date	2017.02.18.17.33.51;	author ajacoutot;	state Exp;
branches;
next	1.60;
commitid	kjw4RQ4AAUYktD89;

1.60
date	2017.02.18.17.32.37;	author ajacoutot;	state Exp;
branches;
next	1.59;
commitid	bw6Y0vDo3oixdVWL;

1.59
date	2016.10.31.12.34.30;	author ajacoutot;	state Exp;
branches;
next	1.58;
commitid	Oim47EmaZJp8Ob8Y;

1.58
date	2016.07.10.12.16.17;	author ajacoutot;	state Exp;
branches;
next	1.57;
commitid	Aacrg7cTBfxN968T;

1.57
date	2016.07.10.12.03.49;	author sthen;	state Exp;
branches;
next	1.56;
commitid	NPICRGKMMdSBDhpk;

1.56
date	2016.07.09.09.09.09;	author sthen;	state Exp;
branches;
next	1.55;
commitid	6UTy3AiMgjyDIiRL;

1.55
date	2016.03.18.23.12.18;	author naddy;	state Exp;
branches;
next	1.54;
commitid	KZAl4KEiw6a3Jixw;

1.54
date	2015.12.14.14.10.25;	author ajacoutot;	state Exp;
branches;
next	1.53;
commitid	xphk6YuDYT1eOCKa;

1.53
date	2015.05.15.16.55.37;	author ajacoutot;	state Exp;
branches;
next	1.52;
commitid	LU2TD5UdpN1XYDgO;

1.52
date	2015.04.15.09.40.52;	author ajacoutot;	state Exp;
branches;
next	1.51;
commitid	dfR1rb9OtImYnGFF;

1.51
date	2015.04.13.07.56.57;	author ajacoutot;	state Exp;
branches;
next	1.50;
commitid	oFB3jBtc457CplTP;

1.50
date	2015.04.04.09.21.02;	author ajacoutot;	state Exp;
branches;
next	1.49;
commitid	kS3kwKZogsvzYmEY;

1.49
date	2015.04.03.17.14.52;	author ajacoutot;	state Exp;
branches;
next	1.48;
commitid	OvdVsgSG1P3QxU2h;

1.48
date	2015.01.22.17.27.20;	author ajacoutot;	state Exp;
branches;
next	1.47;
commitid	q7MupZ9NvSxyVMsy;

1.47
date	2014.10.25.14.04.30;	author ajacoutot;	state Exp;
branches;
next	1.46;
commitid	tLDVzbWImuJ4KXc8;

1.46
date	2014.10.13.09.41.22;	author ajacoutot;	state Exp;
branches;
next	1.45;
commitid	LQDSpejZU4o0XGPY;

1.45
date	2014.04.21.14.52.08;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2014.04.03.12.37.41;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2014.04.02.09.36.11;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2014.04.01.18.38.53;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2014.03.28.06.56.25;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2014.03.27.14.20.58;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2014.03.27.14.13.31;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2013.12.15.08.42.41;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2013.10.26.08.02.57;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2013.10.06.09.08.51;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2013.10.01.09.07.15;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2013.09.27.09.47.12;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2013.09.27.07.30.26;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2013.09.24.18.53.28;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2013.06.20.06.54.36;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2013.06.17.19.28.36;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2013.05.31.15.34.51;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2013.04.16.07.34.14;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2013.04.15.17.23.33;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2013.04.13.12.36.26;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2013.04.13.09.14.06;	author landry;	state Exp;
branches;
next	1.24;

1.24
date	2013.03.11.11.23.50;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2013.02.01.16.09.37;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2012.10.28.11.25.03;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2012.10.16.11.56.11;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2012.10.03.15.57.18;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2012.09.28.14.46.11;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.07.05.06.10.57;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2012.03.29.07.00.26;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2012.01.23.07.56.15;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2012.01.07.10.30.26;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2012.01.02.14.49.45;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2011.11.22.15.31.48;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2011.10.31.08.56.39;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2011.10.29.08.12.32;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2011.10.07.08.22.04;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.28.09.51.36;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.09.26.10.05.40;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2011.09.25.08.38.27;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2011.09.22.10.55.13;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.09.22.10.33.00;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.09.19.07.39.05;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.09.16.10.31.21;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2011.09.12.07.26.19;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2011.07.14.05.33.45;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.07.14.05.33.45;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.64
log
@Sync WANTLIB after recent www/webkitgtk4 update.
@
text
@# $OpenBSD: Makefile,v 1.63 2017/03/08 11:12:22 espie Exp $

COMMENT=		RSS reader plugin for evolution

GNOME_PROJECT=		evolution-rss
GNOME_VERSION=		0.3.95
REVISION=		9

CATEGORIES=		mail

HOMEPAGE=		http://gnome.eu.org/evo/index.php/Evolution_RSS_Reader_Plugin

MAINTAINER=		Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
			Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += EGL GL ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm archive
WANTLIB += atk-1.0 atk-bridge-2.0 atspi bz2 c cairo cairo-gobject
WANTLIB += camel-1.2 canberra canberra-gtk3 crypto cryptui db
WANTLIB += dbus-1 dbus-glib-1 drm ebackend-1.2 ebook-1.2 ebook-contacts-1.2
WANTLIB += ecal-1.2 edata-book-1.2 edataserver-1.2 edataserverui-1.2
WANTLIB += enchant epoxy estdc++ expat ffi fontconfig freetype
WANTLIB += gailutil-3 gbm gck-1 gcr-base-3 gcr-ui-3 gcrypt gdk-3
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glapi glib-2.0 gmodule-2.0 gnome-autoar-0
WANTLIB += gnome-autoar-gtk-0 gnome-desktop-3 gobject-2.0 gpg-error
WANTLIB += graphite2 gstapp-1.0 gstaudio-1.0 gstbase-1.0 gstfft-1.0
WANTLIB += gstpbutils-1.0 gstreamer-1.0 gsttag-1.0 gstvideo-1.0
WANTLIB += gthread-2.0 gtk-3 gtkhtml-4.0 gtkhtml-editor-4.0 gtkspell3-3
WANTLIB += harfbuzz harfbuzz-icu hyphen ical icalss icalvcal iconv
WANTLIB += icudata icui18n icuuc intl javascriptcoregtk-4.0 jpeg
WANTLIB += json-glib-1.0 ltdl lz4 lzma m notify nspr4 nss3 nssutil3
WANTLIB += ogg orc-0.4 p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += secret-1 smime3 softokn3 soup-2.4 soup-gnome-2.4 sqlite3
WANTLIB += ssl3 stdc++ vorbis vorbisfile webkit2gtk-4.0 webp xcb
WANTLIB += xcb-dri2 xcb-glx xcb-render xcb-shm xcb-xfixes xml2
WANTLIB += xslt z
WANTLIB += lib/evolution/eabutil
WANTLIB += lib/evolution/econtacteditor
WANTLIB += lib/evolution/econtactlisteditor
WANTLIB += lib/evolution/email-engine
WANTLIB += lib/evolution/essmime
WANTLIB += lib/evolution/evolution-mail-composer
WANTLIB += lib/evolution/evolution-mail-formatter
WANTLIB += lib/evolution/evolution-mail
WANTLIB += lib/evolution/evolution-shell
WANTLIB += lib/evolution/evolution-smime
WANTLIB += lib/evolution/evolution-util
WANTLIB += lib/evolution/gnomecanvas

MASTER_SITES=		http://gnome.eu.org/

MODULES=		devel/dconf \
			x11/gnome

LIB_DEPENDS=		mail/evolution \
			www/gtkhtml4

MODGNOME_TOOLS=		desktop-file-utils

AUTOCONF_VERSION=	2.69

CONFIGURE_STYLE=	autoconf
CONFIGURE_ENV = ac_cv_path_GPP="${CXX}"

post-install:
	rm ${PREFIX}/lib/evolution/{plugins,modules}/*.{a,la}

.include <bsd.port.mk>
@


1.63
log
@unhardcode the g++ name, builds fine.
the author of the change doesn't quite remember what went wrong, seems
it was libtool being fussy or something.
From Lucian Langa:
> I'm not 100% I remember this entirely, but I think g++ was required
> only for some  building script (libtool perhaps? I do not remember),
> but not for the code itself. At certain part there were some c++
> parts but not entirely sure they are in current code base. Evolution
> code base went through major changes quite a few times since 2007
> so obviously this code changed in the meanwhile too.

we'll see how it fares with clang later.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2017/02/22 13:59:27 ajacoutot Exp $
d7 1
a7 1
REVISION=		8
d27 8
a34 9
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glapi glib-2.0 gmodule-2.0 gmp
WANTLIB += gnome-autoar-0 gnome-autoar-gtk-0 gnome-desktop-3 gnutls
WANTLIB += gobject-2.0 gpg-error graphite2 gstapp-1.0 gstaudio-1.0
WANTLIB += gstbase-1.0 gstfft-1.0 gstpbutils-1.0 gstreamer-1.0
WANTLIB += gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 gtkhtml-4.0
WANTLIB += gtkhtml-editor-4.0 gtkspell3-3 harfbuzz harfbuzz-icu
WANTLIB += hogweed hyphen ical icalss icalvcal iconv icudata icui18n
WANTLIB += icuuc idn2 intl javascriptcoregtk-4.0 jpeg json-glib-1.0
WANTLIB += ltdl lz4 lzma lzo2 m nettle notify nspr4 nss3 nssutil3
d38 3
a40 3
WANTLIB += ssl3 stdc++ tasn1 vorbis vorbisfile webkit2gtk-4.0
WANTLIB += webp xcb xcb-dri2 xcb-glx xcb-render xcb-shm xcb-xfixes
WANTLIB += xml2 xslt z unistring
@


1.62
log
@Sync WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2017/02/18 17:33:51 ajacoutot Exp $
d68 1
@


1.61
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2017/02/18 17:32:37 ajacoutot Exp $
d7 1
a7 1
REVISION=		7
d41 1
a41 1
WANTLIB += xml2 xslt z
@


1.60
log
@idn -> idn2 after gnutls WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2016/10/31 12:34:30 ajacoutot Exp $
d7 1
a7 1
REVISION=		6
@


1.59
log
@Adapt to changes in evolution 3.21.90 (upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2016/07/10 12:16:17 ajacoutot Exp $
d34 1
a34 1
WANTLIB += icuuc idn intl javascriptcoregtk-4.0 jpeg json-glib-1.0
@


1.58
log
@I had the same diff as sthen@@ but with the devel/gettext MODULE removal.
So do tat now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2016/07/10 12:03:49 sthen Exp $
d7 1
a7 1
REVISION=		5
d20 9
a28 8
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm atk-1.0
WANTLIB += atk-bridge-2.0 atspi c cairo cairo-gobject camel-1.2
WANTLIB += canberra canberra-gtk3 cryptui db dbus-1 dbus-glib-1
WANTLIB += drm ebackend-1.2 ebook-1.2 ebook-contacts-1.2 ecal-1.2
WANTLIB += edata-book-1.2 edataserver-1.2 edataserverui-1.2 enchant
WANTLIB += epoxy expat ffi fontconfig freetype gailutil-3 gbm
WANTLIB += gck-1 gcr-base-3 gcr-ui-3 gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glapi glib-2.0 gmodule-2.0 gnome-desktop-3
d33 9
a41 8
WANTLIB += ical icalss icalvcal iconv icudata icui18n icuuc intl
WANTLIB += javascriptcoregtk-3.0 jpeg json-glib-1.0 ltdl lzma
WANTLIB += m nspr4 nss3 nssutil3 ogg orc-0.4 p11-kit pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4
WANTLIB += png pthread pthread-stubs secret-1 smime3 softokn3
WANTLIB += soup-2.4 soup-gnome-2.4 sqlite3 ssl3 stdc++ vorbis
WANTLIB += vorbisfile webkitgtk-3.0 webp xcb xcb-dri2 xcb-glx
WANTLIB += xcb-render xcb-shape xcb-shm xcb-xfixes xml2 xslt z
d65 3
a67 2
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--with-primary-render=webkit
@


1.57
log
@fix wantlib, spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2016/07/09 09:09:09 sthen Exp $
d7 1
a7 1
REVISION=		4
d19 9
a27 8
WANTLIB += EGL GL ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xt atk-1.0 atk-bridge-2.0
WANTLIB += atspi c cairo cairo-gobject camel-1.2 canberra canberra-gtk3
WANTLIB += cryptui db dbus-1 dbus-glib-1 ebackend-1.2 ebook-1.2
WANTLIB += ebook-contacts-1.2 ecal-1.2 edata-book-1.2 edataserver-1.2
WANTLIB += edataserverui-1.2 enchant epoxy expat ffi fontconfig
WANTLIB += freetype gailutil-3 gbm gck-1 gcr-base-3 gcr-ui-3 gcrypt
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3
d32 8
a39 8
WANTLIB += ical icalss icalvcal icudata icui18n icuuc javascriptcoregtk-3.0
WANTLIB += jpeg ltdl lzma m nspr4 nss3 nssutil3 ogg orc-0.4 p11-kit
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += plc4 plds4 png pthread pthread-stubs secret-1 smime3
WANTLIB += softokn3 soup-2.4 soup-gnome-2.4 sqlite3 ssl3 stdc++
WANTLIB += vorbis vorbisfile webkitgtk-3.0 webp xcb xcb-render
WANTLIB += X11-xcb Xxf86vm drm glapi xcb-dri2 xcb-glx xcb-shape
WANTLIB += xcb-xfixes xcb-shm xml2 xslt z json-glib-1.0
d55 1
a55 2
MODULES=		devel/gettext \
			devel/dconf \
@


1.56
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2016/03/18 23:12:18 naddy Exp $
d38 1
a38 1
WANTLIB += xcb-xfixes xcb-shm xml2 xslt z json-glib
@


1.55
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2015/12/14 14:10:25 ajacoutot Exp $
d7 1
a7 1
REVISION=		3
d38 1
a38 1
WANTLIB += xcb-xfixes xcb-shm xml2 xslt z
@


1.54
log
@Regen WANTLIB.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.53 2015/05/15 16:55:37 ajacoutot Exp $

SHARED_ONLY=		Yes
@


1.53
log
@Add a proper LIB_DEPENDS on mail/evolution now that it comes with versioned
solibs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2015/04/15 09:40:52 ajacoutot Exp $
d9 1
a9 1
REVISION=		2
d39 2
a40 1
WANTLIB += xcb-shm xml2 xslt z
@


1.52
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2015/04/13 07:56:57 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d40 12
d59 2
a60 7
LIB_DEPENDS=		www/gtkhtml4 \
			www/webkit,gtk3

# XXX should be a LIB_DEPENDS+WANTLIB but check-lib-depends(1) does not
# work with unversioned solibs (LOCALBASE/lib/evolution/*.so).
BUILD_DEPENDS +=	mail/evolution
RUN_DEPENDS +=		mail/evolution
@


1.51
log
@Fix a comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2015/04/04 09:21:02 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
@


1.50
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2015/04/03 17:14:52 ajacoutot Exp $
d51 1
a51 1
# work with unversioned solibs (LOCALBASE/lib/evolution/*/*.so).
@


1.49
log
@Update to evolution-rss-0.3.95.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2015/01/22 17:27:20 ajacoutot Exp $
d9 1
@


1.48
log
@Add lots of upstream patches to fix runtime with newer evolution.
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.47 2014/10/25 14:04:30 ajacoutot Exp $

EVO_VERSION=		3.12
SUBST_VARS +=		EVO_VERSION
d8 1
a8 31
GNOME_VERSION=		0.3.94
REVISION=		8

MASTER_SITES0=		https://git.gnome.org/browse/evolution-rss/patch/?id=
PATCH_DIST_STRIP=	-p1
PATCHFILES=\
	87ae939abd5ef896130bab49d84660309a1826d1:0 \
	a9805199c18b1a8b6b2c48d83b3c78be21b2ab91:0 \
	2e00c47b1491d547914d31b0fc7bec1f170c814c:0 \
	55f2fc268fd4d0ee286bf8340e81c2dd265abd5b:0 \
	6a1bc452b329acfe75b487b214f664848282fe25:0 \
	7600f67649f3f25cc4bae9e132517c9ab63b54b5:0 \
	25fd335f1b5e6d7b6a25e229a840621bf13a1b76:0 \
	b420d3f5b4e9b9b7c288d403290de6bfb9016f0e:0 \
	1266f24b8adb3d33a6364a13da6787ea2237f7e2:0 \
	b420d3f5b4e9b9b7c288d403290de6bfb9016f0e:0 \
	5735a2bf5d74090ca938f6c4fc906b939593804d:0 \
	e95c5042bc8bbf693f88b4da073c81f98fa514dd:0 \
	5677d5f22a4def98175b694de44de9f3010eb163:0 \
	659a3c02d75ee739c36e253582bc497bfa92e692:0 \
	b8c208e82119fec4ff6665593d8f9c01484ad2b9:0 \
	20a93c3d83f6643dc04fc6b39912240511ffdb34:0 \
	a4a3cca441e0dceef4121eb03c91952eccf3cb01:0 \
	e6d784c303fe7cd299e0477141492c4250e3a595:0 \
	1b9c13840f56a94f1b4cca1c5f3a6efbd0170f73:0 \
	ad4df8e92462fafe0d16832b88221c4b3fd765bc:0 \
	c280715f008b1137f3a94c8268b58d5a26af50f1:0 \
	2a8fe9bff05738d21d501ab965c8f6617dae8a21:0 \
	87701535a28eb99363e69eb433d434bd9a2c9ebc:0 \
	87dbe35cba52e9e72d1b29056b59125543a04f43:0 \
	b2253df5a6d12f528d8d2cc03b38c90ba786e65a:0
d23 16
a38 15
WANTLIB += db dbus-1 ebackend-1.2 ebook-1.2 ebook-contacts-1.2
WANTLIB += ecal-1.2 edata-book-1.2 edataserver-1.2 enchant expat
WANTLIB += ffi fontconfig freetype gailutil-3 gbm gck-1 gcr-base-3
WANTLIB += gcr-ui-3 gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnome-desktop-3 gobject-2.0 gpg-error graphite2
WANTLIB += gstapp-1.0 gstaudio-1.0 gstbase-1.0 gstfft-1.0 gstpbutils-1.0
WANTLIB += gstreamer-1.0 gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3
WANTLIB += gtkhtml-4.0 gtkhtml-editor-4.0 gtkspell3-3 harfbuzz
WANTLIB += harfbuzz-icu ical icalss icalvcal icudata icui18n icuuc
WANTLIB += javascriptcoregtk-3.0 jpeg ltdl lzma m nspr4 nss3 nssutil3
WANTLIB += ogg orc-0.4 p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += secret-1 smime3 softokn3 soup-2.4 soup-gnome-2.4 sqlite3
WANTLIB += ssl3 stdc++ vorbis vorbisfile webkitgtk-3.0 webp xcb
WANTLIB += xcb-render xcb-shm xml2 xslt z
d40 1
a40 2
#MASTER_SITES=		http://gnome.eu.org/
MASTER_SITES=		http://pkgs.fedoraproject.org/repo/pkgs/evolution-rss/evolution-rss-${GNOME_VERSION}${EXTRACT_SUFX}/77f38f8c98f64f181f74443f331c7336/
d46 2
a47 1
LIB_DEPENDS=		www/webkit,gtk3
d57 1
a57 14

AUTOCONF_VERSION=	2.69
AUTOMAKE_VERSION=	1.15
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/gconf2 \
			devel/libtool \
			x11/gnome/common

pre-configure:
	cd ${WRKSRC} && AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		${CONFIGURE_ENV} NOCONFIGURE=1 \
		./autogen.sh ${CONFIGURE_ARGS}
d60 1
a60 1
	rm ${PREFIX}/lib/evolution/${EVO_VERSION}/{plugins,modules}/*.{a,la}
@


1.47
log
@Regen WANTLIB to unbreak after recent webkit update. There are more ports
following but they need a bit more work.

breakage reported by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2014/10/13 09:41:22 ajacoutot Exp $
d12 1
a12 1
REVISION=		7
d14 1
a14 1
MASTER_SITES0=		https://distfiles.bsdfrog.org/evolution-rss/
d17 25
a41 8
	87ae939abd5ef896130bab49d84660309a1826d1.patch:0 \
	a9805199c18b1a8b6b2c48d83b3c78be21b2ab91.patch:0 \
	2e00c47b1491d547914d31b0fc7bec1f170c814c.patch:0 \
	55f2fc268fd4d0ee286bf8340e81c2dd265abd5b.patch:0 \
	6a1bc452b329acfe75b487b214f664848282fe25.patch:0 \
	7600f67649f3f25cc4bae9e132517c9ab63b54b5.patch:0 \
	25fd335f1b5e6d7b6a25e229a840621bf13a1b76.patch:0 \
	b420d3f5b4e9b9b7c288d403290de6bfb9016f0e.patch:0
d55 7
a61 7
WANTLIB += atspi c cairo cairo-gobject camel-1.2 db dbus-1
WANTLIB += ebackend-1.2 ebook-1.2 ebook-contacts-1.2 ecal-1.2
WANTLIB += edata-book-1.2 edataserver-1.2 enchant expat ffi fontconfig
WANTLIB += freetype gailutil-3 gbm gck-1 gcr-base-3 gcr-ui-3 gcrypt
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-desktop-3 gobject-2.0 gpg-error graphite2 gstapp-1.0
WANTLIB += gstaudio-1.0 gstbase-1.0 gstfft-1.0 gstpbutils-1.0
d65 6
a70 6
WANTLIB += javascriptcoregtk-3.0 jpeg m nspr4 nss3 nssutil3 orc-0.4
WANTLIB += p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 plc4 plds4 png pthread pthread-stubs secret-1
WANTLIB += smime3 softokn3 soup-2.4 soup-gnome-2.4 sqlite3 ssl3
WANTLIB += stdc++ webkitgtk-3.0 webp xcb xcb-render xcb-shm xml2
WANTLIB += xslt z
d86 3
a88 1
MODGNOME_TOOLS +=	desktop-file-utils
d91 12
a102 1
CONFIGURE_STYLE=	autoconf
@


1.46
log
@Regen WANTLIB; libgcr-3 is not used anymore and will go shortly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2014/04/21 14:52:08 ajacoutot Exp $
d12 1
a12 1
REVISION=		6
d38 1
a38 1
WANTLIB += atspi c cairo cairo-gobject camel-1.2 db dbus-1 dbus-glib-1
d42 1
a42 1
WANTLIB += gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0 glib-2.0 gmodule-2.0
@


1.45
log
@Sync wantlib for kerberos removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2014/04/03 12:37:41 jasper Exp $
d12 1
a12 1
REVISION=		5
d41 2
a42 2
WANTLIB += freetype gailutil-3 gck-1 gcr-3 gcr-base-3 gcrypt gdk-3
WANTLIB += gdk_pixbuf-2.0 geoclue gio-2.0 glib-2.0 gmodule-2.0
@


1.44
log
@drop extra = from MODGNOME_TOOLS

no package change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2014/04/02 09:36:11 jasper Exp $
d12 1
a12 1
REVISION=		4
d37 17
a53 17
WANTLIB += Xi Xinerama Xrandr Xrender Xt asn1 atk-1.0 atk-bridge-2.0
WANTLIB += atspi c cairo cairo-gobject camel-1.2 com_err crypto
WANTLIB += db dbus-1 dbus-glib-1 ebackend-1.2 ebook-1.2 ebook-contacts-1.2
WANTLIB += ecal-1.2 edata-book-1.2 edataserver-1.2 enchant expat
WANTLIB += ffi fontconfig freetype gailutil-3 gck-1 gcr-3 gcr-base-3
WANTLIB += gcrypt gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnome-desktop-3 gobject-2.0 gpg-error graphite2
WANTLIB += gssapi gstapp-1.0 gstaudio-1.0 gstbase-1.0 gstfft-1.0
WANTLIB += gstpbutils-1.0 gstreamer-1.0 gsttag-1.0 gstvideo-1.0
WANTLIB += gthread-2.0 gtk-3 gtkhtml-4.0 gtkhtml-editor-4.0 gtkspell3-3
WANTLIB += harfbuzz harfbuzz-icu heimbase ical icalss icalvcal
WANTLIB += icudata icui18n icuuc javascriptcoregtk-3.0 jpeg krb5
WANTLIB += m nspr4 nss3 nssutil3 orc-0.4 p11-kit pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += roken secret-1 smime3 softokn3 soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 ssl3 stdc++ webkitgtk-3.0 webp wind xcb xcb-render
WANTLIB += xcb-shm xml2 xslt z
@


1.43
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2014/04/01 18:38:53 jasper Exp $
d69 1
a69 1
MODGNOME_TOOLS += = desktop-file-utils
@


1.42
log
@switch over port to MODGNOME_TOOLS that didnt have it yet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2014/03/28 06:56:25 ajacoutot Exp $
d69 1
a69 1
MODGNOME_TOOLS =	desktop-file-utils
@


1.41
log
@Unbreak with new evolution and evolution-data-server.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2014/03/27 14:20:58 ajacoutot Exp $
d69 1
a69 1
MODGNOME_DESKTOP_FILE=	Yes
@


1.40
log
@Bump EVO_VERSION and mark BROKEN for now; will be dealt with after GNOME
3.12 is fully in.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.39 2014/03/27 14:13:31 ajacoutot Exp $

BROKEN=			XXX temporary
d12 13
a24 1
REVISION=		3
d41 1
a41 1
WANTLIB += ffi fontconfig freetype gailutil-3 gck-1 gcr-base-3
d46 4
a49 4
WANTLIB += gthread-2.0 gtk-3 gtkhtml-4.0 gtkhtml-editor-4.0 harfbuzz
WANTLIB += harfbuzz-icu heimbase ical icalss icalvcal icudata
WANTLIB += icui18n icuuc javascriptcoregtk-3.0 jpeg krb5 m nspr4
WANTLIB += nss3 nssutil3 orc-0.4 p11-kit pango-1.0 pangocairo-1.0
d53 1
a53 1
WANTLIB += xcb-shm xkbfile xml2 xslt z
d56 1
a56 1
MASTER_SITES=		https://distfiles.bsdfrog.org/
d71 2
a72 3
CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.39
log
@Bump after evolution subpackages merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/12/15 08:42:41 ajacoutot Exp $
d3 3
a5 1
EVO_VERSION=		3.10
@


1.38
log
@Adapt to Camel changes (upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/10/26 08:02:57 ajacoutot Exp $
d12 1
a12 1
REVISION=		2
d54 2
a55 2
BUILD_DEPENDS +=	mail/evolution,-main
RUN_DEPENDS +=		mail/evolution,-main
@


1.37
log
@Fix dependencies and bump after the recent libsoup -gnome => -main merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/10/06 09:08:51 ajacoutot Exp $
d12 1
a12 1
REVISION=		1
d37 2
a38 2
WANTLIB += nss3 nssutil3 p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png pthread pthread-stubs
d41 1
a41 1
WANTLIB += xcb-shm xkbfile xml2 xslt z orc-0.4
@


1.36
log
@Regen WANTLIB after orc got put back into gstreamer1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/10/01 09:07:15 ajacoutot Exp $
d12 1
a12 1
REVISION=		0
d50 1
a50 2
LIB_DEPENDS=		devel/libsoup,-gnome \
			www/webkit,gtk3
@


1.35
log
@distfiles.bsdfrog.org: http -> https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/09/27 09:47:12 ajacoutot Exp $
d12 1
d41 1
a41 1
WANTLIB += xcb-shm xkbfile xml2 xslt z
@


1.34
log
@Update to evolution-rss-0.3.94.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/09/27 07:30:26 ajacoutot Exp $
d43 1
a43 1
MASTER_SITES=		http://distfiles.bsdfrog.org/
@


1.33
log
@Remove SUBST_VARS when not needed.
Move the dependant ports versions at the top.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/09/24 18:53:28 ajacoutot Exp $
d3 1
a3 1
EVO_VERSION=		3.8
d11 1
a11 2
GNOME_VERSION=		0.3.93
REVISION=		4
d23 1
a23 1
WANTLIB += GL ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes
d34 7
a40 8
WANTLIB += ical icalss icalvcal icui18n javascriptcoregtk-3.0
WANTLIB += jpeg krb5 m nspr4 nss3 nssutil3 p11-kit pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4
WANTLIB += png pthread pthread-stubs secret-1 smime3 softokn3
WANTLIB += soup-2.4 soup-gnome-2.4 sqlite3 ssl3 stdc++ webkitgtk-3.0
WANTLIB += webp xcb xcb-render xcb-shm xkbfile xml2 xslt z
WANTLIB += harfbuzz-icu heimbase icudata icuuc
WANTLIB += roken wind
d42 2
a43 1
MASTER_SITES=		http://gnome.eu.org/
@


1.32
log
@Fix WANTLIB after recent gstreamer1 update.
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.31 2013/06/20 06:54:36 ajacoutot Exp $
a14 3

EVO_VERSION=		3.8
SUBST_VARS=		EVO_VERSION
@


1.31
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/06/17 19:28:36 ajacoutot Exp $
d9 1
a9 1
REVISION=		3
d36 1
a36 1
WANTLIB += jpeg krb5 m nspr4 nss3 nssutil3 orc-0.4 p11-kit pango-1.0
@


1.30
log
@Some trivial WANTLIB and tweaks to unbreak after the Heimdal update.
Stop hardcoding the Kerberos libs and use krb5-config(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/05/31 15:34:51 ajacoutot Exp $
d9 1
a9 1
REVISION=		2
d41 1
a41 1
WANTLIB += harfbuzz-icu heimbase heimntlm hx509 icudata icuuc
@


1.29
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/04/16 07:34:14 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d41 2
@


1.28
log
@Do not require EShellSettings (upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/04/15 17:23:33 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d35 1
a35 1
WANTLIB += ical icalss icalvcal icudata icui18n icule icuuc javascriptcoregtk-3.0
@


1.27
log
@Remove useless CONFIGURE_ARGS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/04/13 12:36:26 ajacoutot Exp $
d9 1
@


1.26
log
@Update to evolution-rss-0.3.93.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/04/13 09:14:06 landry Exp $
a59 2
CONFIGURE_ARGS=		--disable-gecko \
			--with-primary-render=webkit
@


1.25
log
@Tweak WANTLIB after webkit update (mostly s/gst*-0.10/gst*-1.0/ + removing
gstinterfaces-0.10) and bump some REVISIONs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/03/11 11:23:50 espie Exp $
d8 1
a8 2
GNOME_VERSION=		0.3.92
REVISION=		4
d12 1
a12 1
EVO_VERSION=		3.6
d23 17
a39 18
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt asn1
WANTLIB += atk-1.0 c cairo cairo-gobject camel-1.2 com_err crypto
WANTLIB += db dbus-1 dbus-glib-1 ebackend-1.2 ebook-1.2 ecal-1.2
WANTLIB += edataserver-1.2 edataserverui-3.0 enchant expat ffi
WANTLIB += fontconfig freetype gailutil-3 gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += geoclue gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3
WANTLIB += gnome-keyring gobject-2.0 gpg-error gssapi gstapp-1.0
WANTLIB += gstaudio-1.0 gstbase-1.0 gstfft-1.0
WANTLIB += gstpbutils-1.0 gstreamer-1.0 gstvideo-1.0 gthread-2.0
WANTLIB += gtk-3 gtkhtml-4.0 gtkhtml-editor-4.0 ical icalss icalvcal
WANTLIB += icudata icui18n icuuc javascriptcoregtk-3.0 jpeg krb5
WANTLIB += m nspr4 nss3 nssutil3 orc-0.4 pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += smime3 softokn3 soup-2.4 soup-gnome-2.4 sqlite3 ssl3
WANTLIB += stdc++ webkitgtk-3.0 xcb xcb-render xcb-shm xml2 xslt
WANTLIB += atk-bridge-2.0 atspi gck-1 gcr-base-3 harfbuzz icule
WANTLIB += p11-kit xkbfile z
d55 1
a55 1
MODGNOME_DESKTOP_FILE=		Yes
@


1.24
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/02/01 16:09:37 ajacoutot Exp $
d9 1
a9 1
REVISION=		3
d31 3
a33 3
WANTLIB += gnome-keyring gobject-2.0 gpg-error gssapi gstapp-0.10
WANTLIB += gstaudio-0.10 gstbase-0.10 gstfft-0.10 gstinterfaces-0.10
WANTLIB += gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10 gthread-2.0
@


1.23
log
@Avoid crash in editing feeds in list (from upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/10/28 11:25:03 ajacoutot Exp $
a22 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.22
log
@Adapt after recent evolution change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/10/16 11:56:11 ajacoutot Exp $
d9 1
a9 1
REVISION=		2
d28 1
a28 1
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm asn1
d30 1
a30 1
WANTLIB += db dbus-1 dbus-glib-1 drm ebackend-1.2 ebook-1.2 ecal-1.2
@


1.21
log
@Fix dependencies after e-d-s moved back to using libgnome-keyring.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/10/03 15:57:18 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
a44 11
WANTLIB += lib/evolution/${EVO_VERSION}/email-engine
WANTLIB += lib/evolution/${EVO_VERSION}/email-utils
WANTLIB += lib/evolution/${EVO_VERSION}/emiscwidgets
WANTLIB += lib/evolution/${EVO_VERSION}/eshell
WANTLIB += lib/evolution/${EVO_VERSION}/etable
WANTLIB += lib/evolution/${EVO_VERSION}/etext
WANTLIB += lib/evolution/${EVO_VERSION}/eutil
WANTLIB += lib/evolution/${EVO_VERSION}/evolution-a11y
WANTLIB += lib/evolution/${EVO_VERSION}/filter
WANTLIB += lib/evolution/${EVO_VERSION}/gnomecanvas
WANTLIB += lib/evolution/${EVO_VERSION}/menus
a52 1
			mail/evolution,-main>=3.6.0 \
d54 5
@


1.20
log
@Fix depends after e-d-s move to libsecret.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/09/28 14:46:11 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d44 1
a44 1
WANTLIB += p11-kit xkbfile z secret-1
@


1.19
log
@Update to evolution-rss-0.3.92.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/07/05 06:10:57 ajacoutot Exp $
d9 1
d44 1
a44 1
WANTLIB += p11-kit xkbfile z
@


1.18
log
@Enable webkit support and make it the primary renderer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/03/29 07:00:26 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		0.3.91
REVISION=		0
d12 1
a12 1
EVO_VERSION=		3.4
d42 2
a43 1
WANTLIB += z
d56 1
a56 3
# tarball from Fedora evolution-rss-0.3.91-1.fc18.src.rpm
MASTER_SITES=		http://distfiles.bsdfrog.org/
#MASTER_SITES=		http://gnome.eu.org/
d59 2
a60 2
			x11/gnome \
			devel/gconf2
d63 1
a63 1
			mail/evolution,-main>=3.4.0 \
a66 1
MODGCONF2_SCHEMAS_DIR=	evolution-rss
d73 3
@


1.17
log
@Update to evolution-rss-0.3.91.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/01/23 07:56:15 ajacoutot Exp $
d9 1
d28 1
a28 1
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm asn1
d33 8
a40 5
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3 gnome-keyring
WANTLIB += gobject-2.0 gpg-error gssapi gthread-2.0 gtk-3 gtkhtml-4.0
WANTLIB += gtkhtml-editor-4.0 ical icalss icalvcal krb5 m nspr4
WANTLIB += nss3 nssutil3 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png pthread pthread-stubs
d42 2
a43 1
WANTLIB += stdc++ xcb xcb-render xcb-shm xml2 z
d65 2
a66 1
			mail/evolution,-main>=3.4.0
d75 1
a75 2
			--disable-webkit \
			--with-primary-render=gtkhtml
@


1.16
log
@Bump to 0.3.90.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/01/07 10:30:26 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.3.90
d12 1
a12 1
EVO_VERSION=		3.2
d28 9
a36 9
WANTLIB += atk-1.0 c cairo cairo-gobject camel-1.2 camel-provider-1.2
WANTLIB += com_err crypto db dbus-1 dbus-glib-1 drm ebackend-1.2
WANTLIB += ebook-1.2 ecal-1.2 edataserver-1.2 edataserverui-3.0
WANTLIB += enchant expat ffi fontconfig freetype gailutil-3 gcrypt
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3
WANTLIB += gnome-keyring gobject-2.0 gpg-error gssapi gthread-2.0
WANTLIB += gtk-3 gtkhtml-4.0 gtkhtml-editor-4.0 ical icalss icalvcal
WANTLIB += krb5 m nspr4 nss3 nssutil3 pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 plc4 plds4 png pthread pthread-stubs
d39 2
d51 3
a53 1
MASTER_SITES=		http://gnome.eu.org/
d60 1
a60 1
			mail/evolution,-main>=3.2.1
a70 26

### XXX remove this chunk when updating to a 'real' release ############
MASTER_SITES=		http://distfiles.bsdfrog.org/

BUILD_DEPENDS +=	x11/gnome/common \
			devel/autoconf/${AUTOCONF_VERSION} \
			devel/automake/${AUTOMAKE_VERSION} \
			devel/libtool

AUTOCONF_VERSION=	2.65
AUTOMAKE_VERSION=	1.11
CONFIGURE_STYLE=	# empty

do-configure:
	perl -pi -e 's,sed -i -e,perl -pi -e,g' ${WRKSRC}/src/Makefile.am
	echo "\nAC_PROG_LIBTOOL" >> ${WRKSRC}/configure.ac
	@@cd ${WRKSRC} && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		${CONFIGURE_ENV} \
		./autogen.sh ${CONFIGURE_ARGS} --disable-maintainer-mode \
			--disable-silent-rules --enable-shared
### end XXX ############################################################

#pre-configure:
#	perl -pi -e 's,sed -i -e,perl -pi -e,g' ${WRKSRC}/src/Makefile.in
@


1.15
log
@Unbreak by using automake 1.11, spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/01/02 14:49:45 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.2.90.20120102
@


1.14
log
@Update to a new snapshot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/11/22 15:31:48 jasper Exp $
d77 1
a77 1
AUTOMAKE_VERSION=	1.9
@


1.13
log
@- this doesn't need USE_LIBTOOL=gnu, just the AC_PROG_LIBTOOL macros.
- bump evolution dependency version while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/10/31 08:56:39 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		0.2.90.20111007
REVISION=		2
d26 4
a29 3
WANTLIB += GL X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender asn1 atk-1.0 c cairo cairo-gobject
WANTLIB += camel-1.2 camel-provider-1.2 com_err crypto dbus-1
d35 5
a39 4
WANTLIB += krb5 m nspr4 nss3 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += smime3 soup-2.4 soup-gnome-2.4 sqlite3 ssl3 stdc++
WANTLIB += xcb xcb-render xcb-shm xml2 z dbus-glib-1 softokn3
d41 2
d44 4
a49 1
EXTRACT_SUFX=		.tar.gz
a92 9

# XXX the desktop file is there for "News" category integration by other
# applications -- unfortunately, setting NoDisplay= or ShowOnlyIn= will
# make applications ignore it, but we don't want evolution-import-rss to
# appear in the menu since it takes an argument which we have no way to
# give -- so add NoDisplay anyway.
post-install:
	echo 'NoDisplay=true' >> \
		${PREFIX}/share/applications/evolution-rss.desktop
@


1.12
log
@Pass proper CONFIGURE_ENV and fix WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/10/29 08:12:32 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d50 1
a50 1
			mail/evolution,-main>=3.0.2
d67 2
a68 1
			devel/automake/${AUTOMAKE_VERSION}
a69 1
USE_LIBTOOL=		gnu
@


1.11
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/10/07 08:22:04 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d35 1
a35 1
WANTLIB += krb5 kvm m nspr4 nss3 pango-1.0 pangocairo-1.0 pangoft2-1.0
d56 2
d80 1
a80 1
		CONFIGURE_ENV=${CONFIGURE_ENV} \
@


1.10
log
@Update to a newer git snapshot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/28 09:51:36 jasper Exp $
d9 1
d27 1
a27 1
WANTLIB += GL ORBit-2 X11 Xcomposite Xcursor Xdamage Xext Xfixes
@


1.9
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/09/26 10:05:40 ajacoutot Exp $
d8 1
a8 4
GNOME_VERSION=		0.2.90-20110621
PKGNAME=		evolution-rss-${GNOME_VERSION:S/-/./}

REVISION=		7
d37 1
a37 1
WANTLIB += xcb xcb-render xcb-shm xml2 z
a60 1
WRKDIST=		${WRKDIR}/evolution-rss-0.2.90
d82 2
a83 2
pre-configure:
	perl -pi -e 's,sed -i -e,perl -pi -e,g' ${WRKSRC}/src/Makefile.in
@


1.8
log
@Regen WANTLIB to unbreak.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/09/25 08:38:27 ajacoutot Exp $
a60 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.7
log
@Regen WANTLIB after evolution-data-server lost its dependency on
libunique3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/09/22 10:55:13 jasper Exp $
d11 1
a11 1
REVISION=		6
d29 12
a40 13
WANTLIB += GL ORBit-2 X11 X11-xcb Xcomposite Xcursor Xdamage Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender asn1 atk-1.0 c cairo
WANTLIB += cairo-gobject camel-1.2 camel-provider-1.2 com_err
WANTLIB += crypto dbus-1 ebook-1.2 ecal-1.2 edataserver-1.2 edataserverui-3.0
WANTLIB += enchant execinfo expat ffi fontconfig freetype gailutil-3
WANTLIB += gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-desktop-3 gnome-keyring gobject-2.0 gpg-error
WANTLIB += gssapi gthread-2.0 gtk-3 gtkhtml-4.0 gtkhtml-editor-4.0
WANTLIB += ical icalss icalvcal krb5 kvm m nspr4 nss3 pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4
WANTLIB += png pthread pthread-stubs smime3 soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 ssl3 startup-notification-1 stdc++ xcb xcb-aux
WANTLIB += xcb-render xcb-shm xml2 z
@


1.6
log
@properly fix with gtk3 and latest evolution
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/09/22 10:33:00 jasper Exp $
d11 1
a11 1
REVISION=		5
d29 13
a41 13
WANTLIB += GL ORBit-2 X11 X11-xcb Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm
WANTLIB += asn1 atk-1.0 c cairo cairo-gobject camel-1.2 camel-provider-1.2
WANTLIB += com_err crypto dbus-1 dbus-glib-1 drm ebook-1.2 edataserver-1.2
WANTLIB += edataserverui-3.0 enchant execinfo expat fontconfig
WANTLIB += freetype gailutil-3 gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-desktop-3 gnome-keyring
WANTLIB += gobject-2.0 gpg-error gssapi gthread-2.0 gtk-3 gtkhtml-4.0
WANTLIB += gtkhtml-editor-4.0 krb5 m nspr4 nss3 pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += smime3 soup-2.4 soup-gnome-2.4 sqlite3 ssl3 startup-notification-1
WANTLIB += stdc++ unique-3.0 xcb xcb-aux xcb-render xcb-shm xml2
WANTLIB += z
d59 1
a59 2
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--disable-gecko \
d86 1
a86 1
			--disable-silent-rules
@


1.5
log
@start making this a bit happier with gtk3, still needs others fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/09/19 07:39:05 ajacoutot Exp $
d11 1
a11 1
REVISION=		4
@


1.4
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/09/16 10:31:21 espie Exp $
d11 1
a11 1
REVISION=		3
d15 1
a15 1
EVO_VERSION=		3.0
@


1.3
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/09/12 07:26:19 ajacoutot Exp $
d55 1
a55 1
DESKTOP_FILES=		Yes
@


1.2
log
@Start the GNOME3 merge armageddon... breakage expected.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/07/25 10:26:38 ajacoutot Exp $
d11 1
a11 1
REVISION=		2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/05/01 18:42:51 ajacoutot Exp $
d5 1
a5 1
COMMENT=		RSS-reader plugin for GNOME
d8 2
a9 1
GNOME_VERSION=		0.2.90.20110422
d11 1
a11 1
REVISION=		1
d15 1
a15 1
EVO_VERSION=		2.32
d29 1
a29 1
WANTLIB += GL ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage
d31 12
a42 12
WANTLIB += asn1 atk-1.0 c cairo camel-1.2 camel-provider-1.2 com_err
WANTLIB += crypto dbus-1 dbus-glib-1 drm ebook-1.2 edataserver-1.2
WANTLIB += edataserverui-1.2 enchant execinfo expat fontconfig
WANTLIB += freetype gailutil gcrypt gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-2 gnome-keyring
WANTLIB += gobject-2.0 gpg-error gssapi gthread-2.0 gtk-x11-2.0
WANTLIB += gtkhtml-3.14 gtkhtml-editor-3.14 krb5 m nspr4 nss3
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += plc4 plds4 png pthread pthread-stubs smime3 soup-2.4
WANTLIB += soup-gnome-2.4 sqlite3 ssl3 startup-notification-1
WANTLIB += stdc++ unique-1.0 xcb xcb-atom xcb-aux xcb-event xcb-render
WANTLIB += xcb-shm xml2 z lib/evolution/${EVO_VERSION}/eshell
d53 1
a53 1
			mail/evolution
d55 1
a55 1
MODGCONF2_LIBDEP=	Yes
d58 2
a59 5
AUTOCONF_VERSION=	2.65
AUTOMAKE_VERSION=	1.9

CONFIGURE_STYLE=	autoconf automake
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
d66 1
a66 2
# XXX remove this chunk when updating to a 'real' release
# (current tarball created from git)
d68 2
d71 3
a73 2
			${MODGNU_AUTOMAKE_DEPENDS} \
			${MODGNU_AUTOCONF_DEPENDS}
d75 2
d78 1
d86 3
a88 2
		./autogen.sh ${CONFIGURE_ARGS} --disable-maintainer-mode
# end XXX
d92 9
@


1.1.1.1
log
@Re-import evolution-plugin-rss as evolution-rss as it should always has
been. This will prevent some confusion and ease the future gnome3 merge.

discussed with and ok jasper@@
@
text
@@
