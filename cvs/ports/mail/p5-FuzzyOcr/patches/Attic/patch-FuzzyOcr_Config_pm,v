head	1.2;
access;
symbols
	OPENBSD_4_7:1.1.1.1.0.10
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.8
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.6
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.4
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.2
	OPENBSD_4_3_BASE:1.1.1.1
	merdely_20071004:1.1.1.1
	merdely:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2010.07.21.05.53.07;	author merdely;	state dead;
branches;
next	1.1;

1.1
date	2007.10.04.19.53.49;	author merdely;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.10.04.19.53.49;	author merdely;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to 3.6.0.  Works with clamav in tree.
Thanks for testing from Johan Huldtgren.
@
text
@$OpenBSD: patch-FuzzyOcr_Config_pm,v 1.1 2007/10/04 19:53:49 merdely Exp $
--- FuzzyOcr/Config.pm.orig	Tue Oct  2 14:16:29 2007
+++ FuzzyOcr/Config.pm	Tue Oct  2 14:17:24 2007
@@@@ -51,8 +51,10 @@@@ our @@EXPORT_OK = qw/
     read_words 
     /;
 
-use constant HAS_DBI => eval { require DBI; };
-use constant HAS_DBD_MYSQL => eval { require DBD::mysql; };
+eval { require DBI; };
+my $HAS_DBI = ($@@) ? undef : 1;
+eval { require DBD::mysql; };
+my $HAS_DBD_MYSQL = ($@@) ? undef : 1;
 use constant HAS_MLDBM => eval { require MLDBM; require MLDBM::Sync;};
 use constant HAS_DB_FILE => eval { require DB_File; };
 use constant HAS_STORABLE => eval { require Storable; };
@@@@ -179,7 +181,7 @@@@ sub get_db_ref {
 }
 
 sub get_mysql_ddb {
-    return undef unless (HAS_DBI and HAS_DBD_MYSQL);
+    return undef unless ($HAS_DBI and $HAS_DBD_MYSQL);
 
     my $conf = get_config();
     my %dopts = ( AutoCommit => 1 );
@@@@ -685,11 +687,11 @@@@ sub finish_parsing_end {
     }
 
     if ($conf->{focr_enable_image_hashing} == 3) {
-        unless (HAS_DBI and HAS_DBD_MYSQL) {
+        unless ($HAS_DBI and $HAS_DBD_MYSQL) {
             $conf->{focr_enable_image_hashing} = 0;
             errorlog("Disable Image Hashing");
-            errorlog("Missing DBI") unless HAS_DBI;
-            errorlog("Missing DBD::mysql") unless HAS_DBD_MYSQL;
+            errorlog("Missing DBI") unless $HAS_DBI;
+            errorlog("Missing DBD::mysql") unless $HAS_DBD_MYSQL;
         }
 
         # Warn if MLDBM databases are present, but can't be imported
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@FuzzyOcr is a plugin for SpamAssassin which is aimed at unsolicited bulk
mail (also known as "Spam") containing images as the main content
carrier. Using different methods, it analyzes the content and properties
of images to distinguish between normal mails (Ham) and spam mails. The
methods mainly are:

* Optical Character Recognition using different engines and settings
* Fuzzy word matching algorithm applied to OCR results
* Image hashing system to learn unique properties of known spam images
* Dimension, size and integrity checking of images
* Content-Type verification for the containing email

Help from William Yodlowsky <bsd () openbsd.rutgers.edu>
Help and ok steven@@, simon@@
@
text
@@
