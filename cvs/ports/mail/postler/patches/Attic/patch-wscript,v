head	1.3;
access;
symbols
	OPENBSD_5_2:1.2.0.4
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	landry_20110322:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2012.09.01.18.20.08;	author landry;	state dead;
branches;
next	1.2;

1.2
date	2011.09.12.18.23.26;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.22.08.25.18;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.03.22.08.25.18;	author landry;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Bye bye postler. You're not building anymore with vala 0.17.x, your
development ceased a while ago, and your main developer works on
mail/geary now.
@
text
@$OpenBSD: patch-wscript,v 1.2 2011/09/12 18:23:26 jasper Exp $
--- wscript.orig	Mon Sep 12 19:49:58 2011
+++ wscript	Mon Sep 12 19:51:06 2011
@@@@ -186,13 +186,13 @@@@ def configure (conf):
         '{ char* a;\nvasprintf(&a, "%s", ""); return 0; }', \
         define_name='HAVE_VASPRINTF', msg='Checking for function vasprintf', \
         mandatory=True)
-    check_function ('socket', 'sys/socket.h')
-    if conf.env['DEST_OS'] == 'freebsd':
+    check_function ('socket', ['sys/types.h', 'sys/socket.h'])
+    if conf.env['DEST_OS'] == 'openbsd':
         check_function ('inet_ntoa', 'arpa/inet.h')
         check_function ('dlopen', 'dlfcn.h')
         conf.check(function_name='db_create', header_name='db.h',
-                   includes=['/usr/local/include/db42'],
-                   libpath=['/usr/local/lib/db42'], lib='db', mandatory=False)
+                   includes=['${LOCALBASE}/include/db4'],
+                   libpath=['${LOCALBASE}/lib/db4'], lib='db', mandatory=False)
     else:
         check_function ('inet_ntoa', 'arpa/inet.h', 'nsl')
         check_function ('dlopen', 'dlfcn.h', 'dl')
@@@@ -202,7 +202,7 @@@@ def configure (conf):
         sys.exit (1)
     check_pkg ('openssl')
     check_function ('CRYPTO_lock', 'openssl/crypto.h', 'crypto')
-    check_function ('SSL_connect', 'openssl/ssl.h', 'ssl', 'HAVE_LIBSSL')
+    check_function ('SSL_connect', 'openssl/ssl.h', ['ssl', 'crypto'], 'HAVE_LIBSSL')
     conf.find_program ('msmtp', mandatory=True)
     if not conf.find_program ('dexter'):
         Utils.pprint ('YELLOW', 'Dexter is not installed. It is recommended ' \
@


1.2
log
@
- update to a recent git version that supports new vala

ok aja@@
landry@@ would agree
@
text
@d1 1
a1 1
$OpenBSD: patch-wscript,v 1.1.1.1 2011/03/22 08:25:18 landry Exp $
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- wscript.orig	Mon Mar 21 02:06:07 2011
+++ wscript	Mon Mar 21 11:23:15 2011
@@@@ -135,20 +135,20 @@@@ def configure (conf):
d16 1
a16 1
-                   libpath=['/usr/local/lib/db42'], lib='db', mandatory=True)
d18 1
a18 1
+                   libpath=['${LOCALBASE}/lib/db4'], lib='db', mandatory=True)
d22 2
a23 1
         check_function ('db_create', 'db.h', 'db')
@


1.1.1.1
log
@Import postler 0.1.1:

Postler is a lean mail interface. Messages are read from Maildir folders, HTML
is rendered, composed and spell-checked with WebKitGTK+. The application
consists of independent modules, the reader, viewer and the composer. Each
module runs separately. No network access occurs from within the user interface
by default, offline access is integral. Contact completion and address book
integration are provided by Dexter.

ok ajacoutot@@ jasper@@
@
text
@@
