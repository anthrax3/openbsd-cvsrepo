head	1.6;
access;
symbols
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.8
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.4
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.6
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.8
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.6
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.1.1.0.2
	OPENBSD_4_8_BASE:1.1.1.1
	landry_20100327:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2016.11.04.10.22.26;	author landry;	state Exp;
branches;
next	1.5;
commitid	xKzl7P3OEqvoF6rp;

1.5
date	2015.01.28.21.21.13;	author landry;	state Exp;
branches;
next	1.4;
commitid	zd3Ry91r7GxMHtma;

1.4
date	2013.08.10.10.11.40;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2011.08.16.10.06.58;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2010.12.30.17.51.25;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2010.03.27.11.47.13;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.03.27.11.47.13;	author landry;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to sympa 6.2.16 and drop MAINTAINERship.

- remove apache1 sample config, and provide an nginx vhost in README
- cleanup/remove most patches

Refer to https://www.sympa.org/faq/upgrade-to-v6.2 and
http://www.sympa.org/manual/upgrading for how to upgrade.
@
text
@$OpenBSD: patch-configure,v 1.5 2015/01/28 21:21:13 landry Exp $
--- configure.orig	Fri Jun 17 16:54:15 2016
+++ configure	Thu Nov  3 10:44:59 2016
@@@@ -2795,8 +2795,8 @@@@ if test "$fhs" = "yes"; then
     expldir=$localstatedir/lib/sympa/list_data
     staticdir=$localstatedir/lib/sympa/static_content
     spooldir=$localstatedir/spool/sympa
-    arcdir=$localstatedir/lib/sympa/arc
-    bouncedir=$localstatedir/lib/sympa/bounce
+    arcdir=$localstatedir/sympa/arc
+    bouncedir=$localstatedir/sympa/bounce
     confdir=$sysconfdir/sympa
 else
     # redefine default values for some standard variables,
@


1.5
log
@Security update to sympa 6.1.24.

See http://www.sympa.org/distribution/latest-stable/NEWS for a list of
changes and
https://www.sympa.org/security_advisories#security_breaches_in_newsletter_posting
for the security details.
Seems to run fine in basic testing against the sqlite backend.
@
text
@d1 14
a14 41
$OpenBSD: patch-configure,v 1.4 2013/08/10 10:11:40 landry Exp $
--- configure.orig	Tue Jan 13 17:04:31 2015
+++ configure	Wed Jan 28 21:13:48 2015
@@@@ -2731,19 +2731,19 @@@@ else
 
     # define custom variables
     initdir=/etc/rc.d/init.d
-    piddir=$prefix
-    lockdir=$localstatedir/lock/subsys
+    piddir=$localstatedir/run/sympa
+    lockdir=$localstatedir/spool/lock
     modulesdir=$prefix/bin
     scriptdir=$prefix/bin
     defaultdir=$prefix/default
-    mailtemplatedir=$defaultdir/mail_tt2
-    webtemplatedir=$defaultdir/web_tt2
+    mailtemplatedir=$prefix/share/sympa/mail_tt2
+    webtemplatedir=$prefix/share/sympa/web_tt2
     execcgidir=$prefix/bin
-    expldir=$prefix/list_data
-    spooldir=$prefix/spool
-    staticdir=$prefix/static_content
-    arcdir=$prefix/arc
-    bouncedir=$prefix/bounce
+    spooldir=$localstatedir/spool/sympa
+    expldir=$localstatedir/sympa/list_data
+    staticdir=/var/www/sympa
+    arcdir=$localstatedir/sympa/archives
+    bouncedir=$localstatedir/sympa/bounces
     confdir=/etc
 fi
 
@@@@ -4831,7 +4831,7 @@@@ done
 done
 IFS=$as_save_IFS
 
-  test -z "$ac_cv_path_POSTMAP" && ac_cv_path_POSTMAP="/usr/sbin/postmap"
+  test -z "$ac_cv_path_POSTMAP" && ac_cv_path_POSTMAP="${LOCALBASE}/sbin/postmap"
   ;;
 esac
 fi
@


1.4
log
@Bugfix update to sympa 6.1.17, lightly tested locally.

See http://www.sympa.org/distribution/latest-stable/NEWS for the list of
changes.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.3 2011/08/16 10:06:58 landry Exp $
--- configure.orig	Tue Feb  5 15:57:30 2013
+++ configure	Tue Aug  6 22:54:50 2013
@@@@ -2726,19 +2726,19 @@@@ else
d33 8
a40 6
@@@@ -4514,7 +4514,7 @@@@ $as_echo "$as_me: error: invalid value $POSTMAP for po
 $as_echo "$POSTMAP" >&6; }
 else
     # default value
-    POSTMAP=/usr/sbin/postmap
+    POSTMAP=${LOCALBASE}/sbin/postmap
a41 2
 
 
@


1.3
log
@Update to sympa 6.1.6.
see http://www.sympa.org/distribution/latest-stable/NEWS for a list of
the fixes.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.2 2010/12/30 17:51:25 landry Exp $
--- configure.orig	Wed Jul 20 18:37:47 2011
+++ configure	Sun Aug  7 11:37:43 2011
@@@@ -2724,19 +2724,19 @@@@ else
d33 1
a33 1
@@@@ -4504,7 +4504,7 @@@@ $as_echo "$as_me: error: invalid value $POSTMAP for po
@


1.2
log
@Update to Sympa 6.1.3.
- switch config dir to /var/sympa/etc as sympa daemon/fcgi might want to
  write templates there
- switch to use spawn-fcgi, this way sympa web admin works fine in
  chrooted httpd
- provide a httpd.conf fragment to ease sympa integration
- switch to rc scripts (with help from aja@@)
- improve README

With help and feedback from J.G Pailloncy, ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.1.1.1 2010/03/27 11:47:13 landry Exp $
--- configure.orig	Mon Nov 15 11:22:18 2010
+++ configure	Thu Dec 30 18:42:48 2010
@@@@ -2732,19 +2732,19 @@@@ else
d33 1
a33 1
@@@@ -4512,7 +4512,7 @@@@ $as_echo "$as_me: error: invalid value $POSTMAP for po
@


1.1
log
@Initial revision
@
text
@d1 39
a39 4
$OpenBSD$
--- configure.orig	Thu Oct  1 00:59:41 2009
+++ configure	Fri Nov 13 16:52:15 2009
@@@@ -2091,20 +2091,20 @@@@ fi
a40 27
 # custom variables
 initdir=/etc/rc.d/init.d
-piddir=$prefix
 localstatedir=/var
-lockdir=$localstatedir/lock/subsys
+piddir=$localstatedir/run/sympa
+lockdir=$localstatedir/spool/lock
 modulesdir=$prefix/bin
 scriptdir=$prefix/bin
 defaultdir=$prefix/default
-mailtemplatedir=$defaultdir/mail_tt2
-webtemplatedir=$defaultdir/web_tt2
+mailtemplatedir=$prefix/share/sympa/mail_tt2
+webtemplatedir=$prefix/share/sympa/web_tt2
 execcgidir=$prefix/bin
-expldir=$prefix/list_data
-spooldir=$prefix/spool
-staticdir=$prefix/static_content
-arcdir=$prefix/arc
-bouncedir=$prefix/bounce
+spooldir=$localstatedir/spool/sympa
+expldir=$localstatedir/sympa/list_data
+staticdir=$localstatedir/sympa/static
+arcdir=$localstatedir/sympa/archives
+bouncedir=$localstatedir/sympa/bounces
 confdir=/etc
 localedir=$prefix/locale
@


1.1.1.1
log
@Import sympa 6.0.1:
SYMPA is an electronic mailing list manager. It is used to automate list
management functions such as subscription, moderation and management of
archives. SYMPA also manages sending of messages to the lists, and makes
it possible to reduce the load on the system. It also provides a web
management interface, and an archive browser.

With feedback from sthen@@ and ajacoutot@@, ok ajacoutot@@
@
text
@@
