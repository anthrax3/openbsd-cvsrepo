head	1.5;
access;
symbols
	OPENBSD_6_0:1.5.0.8
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.4
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.6
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.2.0.12
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.10
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.1.1.0.2
	OPENBSD_4_8_BASE:1.1.1.1
	landry_20100327:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2015.01.28.21.21.13;	author landry;	state Exp;
branches;
next	1.4;
commitid	zd3Ry91r7GxMHtma;

1.4
date	2014.08.27.06.58.00;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	LV57HYD4QXzcqbWn;

1.3
date	2013.08.10.10.11.41;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2010.12.30.17.51.25;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2010.03.27.11.47.13;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.03.27.11.47.13;	author landry;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Security update to sympa 6.1.24.

See http://www.sympa.org/distribution/latest-stable/NEWS for a list of
changes and
https://www.sympa.org/security_advisories#security_breaches_in_newsletter_posting
for the security details.
Seems to run fine in basic testing against the sqlite backend.
@
text
@$OpenBSD: patch-src_lib_confdef_pm,v 1.4 2014/08/27 06:58:00 ajacoutot Exp $
--- src/lib/confdef.pm.orig	Wed Sep 24 16:46:45 2014
+++ src/lib/confdef.pm	Wed Jan 28 21:22:19 2015
@@@@ -384,7 +384,7 @@@@ our @@params = (
     },
     {
         'name'    => 'etc',
-        'default' => Sympa::Constants::SYSCONFDIR,
+        'default' => "${SYMPA_HOME}/".Sympa::Constants::SYSCONFDIR,
         'query'   => 'Directory for configuration files; it also contains scenari/ and templates/ directories',
         'file'    => 'sympa.conf',
     },
@@@@ -1203,7 +1203,7 @@@@ our @@params = (
 
     {
         'name'   => 'openssl',
-        'sample' => '/usr/bin/ssl',
+        'sample' => '/usr/bin/openssl',
         'query'  => 'Path to OpenSSL',
         'file'   => 'sympa.conf',
         'edit'   => '1',
@@@@ -1481,7 +1481,7 @@@@ our @@params = (
     },
     {
         'name'    => 'mhonarc',
-        'default' => '/usr/bin/mhonarc',
+        'default' => '${LOCALBASE}/bin/mhonarc',
         'query'   => 'Path to MHonArc mail2html plugin',
         'file'    => 'wwsympa.conf',
         'edit'    => '1',
@


1.4
log
@Cope with openssl(1) move from /usr/sbin to /usr/bin

ok landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-src_lib_confdef_pm,v 1.3 2013/08/10 10:11:41 landry Exp $
--- src/lib/confdef.pm.orig	Fri Jul 27 10:29:52 2012
+++ src/lib/confdef.pm	Tue Aug  6 22:55:20 2013
@@@@ -47,7 +47,7 @@@@ our @@params = (
d7 5
a11 5
         name    => 'etc',
-        default => Sympa::Constants::SYSCONFDIR,
+        default => "${SYMPA_HOME}/".Sympa::Constants::SYSCONFDIR,
         query   => 'Directory for configuration files ; it also contains scenari/ and templates/ directories',
         file    => 'sympa.conf',
d13 10
a22 1
@@@@ -657,7 +657,7 @@@@ our @@params = (
d25 6
a30 15
         name    => 'mhonarc',
-        default => '/usr/bin/mhonarc',
+        default => '${LOCALBASE}/bin/mhonarc',
         query   => 'Path to MhOnarc mail2html pluggin',
         file    => 'wwsympa.conf',
         edit    => '1',
@@@@ -722,7 +722,7 @@@@ our @@params = (
     { 'title' => 'S/MIME pluggin' },
     {
         name   => 'openssl',
-        sample => '/usr/bin/ssl',
+        sample => '/usr/bin/openssl',
         query  => 'Path to OpenSSL',
         file   => 'sympa.conf',
         edit   => '1',
@


1.3
log
@Bugfix update to sympa 6.1.17, lightly tested locally.

See http://www.sympa.org/distribution/latest-stable/NEWS for the list of
changes.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_lib_confdef_pm,v 1.2 2010/12/30 17:51:25 landry Exp $
d27 1
a27 1
+        sample => '/usr/sbin/openssl',
@


1.2
log
@Update to Sympa 6.1.3.
- switch config dir to /var/sympa/etc as sympa daemon/fcgi might want to
  write templates there
- switch to use spawn-fcgi, this way sympa web admin works fine in
  chrooted httpd
- provide a httpd.conf fragment to ease sympa integration
- switch to rc scripts (with help from aja@@)
- improve README

With help and feedback from J.G Pailloncy, ok ajacoutot@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_lib_confdef_pm,v 1.1.1.1 2010/03/27 11:47:13 landry Exp $
--- src/lib/confdef.pm.orig	Mon Nov 15 09:32:17 2010
+++ src/lib/confdef.pm	Mon Dec 20 16:55:44 2010
d13 1
a13 1
@@@@ -639,7 +639,7 @@@@ our @@params = (
d22 1
a22 1
@@@@ -704,7 +704,7 @@@@ our @@params = (
@


1.1
log
@Initial revision
@
text
@d1 4
a4 5
$OpenBSD$
--- src/lib/confdef.pm.orig	Mon Sep 14 17:36:47 2009
+++ src/lib/confdef.pm	Sat Nov 14 18:27:15 2009
@@@@ -402,11 +402,6 @@@@ our @@params = (
         optional => '1',
d7 7
a13 9
-        name    => 'cookie_cas_expire',
-        default => '6',
-	file   => 'wwsympa.conf',
-    },
-    {
         name   => 'legacy_character_support_feature',
         default => 'off',
         query  => 'If set to "on", enables support of legacy characters',
@@@@ -625,7 +620,7 @@@@ our @@params = (
d22 1
a22 1
@@@@ -634,7 +629,7 @@@@ our @@params = (
@


1.1.1.1
log
@Import sympa 6.0.1:
SYMPA is an electronic mailing list manager. It is used to automate list
management functions such as subscription, moderation and management of
archives. SYMPA also manages sending of messages to the lists, and makes
it possible to reduce the load on the system. It also provides a web
management interface, and an archive browser.

With feedback from sthen@@ and ajacoutot@@, ok ajacoutot@@
@
text
@@
