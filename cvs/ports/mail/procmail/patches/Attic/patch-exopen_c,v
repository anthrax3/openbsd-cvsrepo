head	1.2;
access;
symbols
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1;
locks; strict;
comment	@# @;


1.2
date	2002.01.04.00.54.36;	author brad;	state dead;
branches;
next	1.1;

1.1
date	2001.07.26.21.37.31;	author rohee;	state Exp;
branches;
next	;


desc
@@


1.2
log
@upgrade to procmail 3.22
@
text
@$OpenBSD: patch-exopen_c,v 1.1 2001/07/26 21:37:31 rohee Exp $

In case of maildir format delivery, actually deliver in the right directory.

--- src/exopen.c.orig	Thu Jul 26 23:28:10 2001
+++ src/exopen.c	Thu Jul 26 23:28:59 2001
@@@@ -47,7 +47,7 @@@@ in:	if(flags&doMAILDIR)
 	   ultstr(0,(long)thepid,dot+1);
 	   *(dot=strchr(p,'\0'))='_';
 	   *(++dot+1)='.';
-	   strlcat(dot+2,hostname(),end-dot);
+	   strlcpy(dot+2,hostname(),end-dot-2);
 	 }
 	else
 	 { p=ultoan((long)t,dot+1);
@


1.1
log
@Add a patch for correct maildir delivery from krw@@ and an lmtp flavor
from jakob@@.
@
text
@d1 1
a1 1
$OpenBSD$
@

