head	1.4;
access;
symbols
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1;
locks; strict;
comment	@# @;


1.4
date	2002.05.01.22.20.48;	author fgsch;	state dead;
branches;
next	1.3;

1.3
date	2001.11.27.15.29.28;	author brad;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2001.10.26.03.52.49;	author fgsch;	state dead;
branches;
next	1.1;

1.1
date	2001.07.09.00.19.47;	author fgsch;	state Exp;
branches;
next	;

1.3.2.1
date	2002.09.30.19.53.38;	author brad;	state dead;
branches;
next	;


desc
@@


1.4
log
@argh, this should have gone as well.
@
text
@$OpenBSD: patch-configure_in,v 1.3 2001/11/27 15:29:28 brad Exp $
--- configure.in.orig	Tue Nov 27 10:20:15 2001
+++ configure.in	Tue Nov 27 10:21:16 2001
@@@@ -402,7 +402,7 @@@@ then
   AC_DEFINE(HEIMDAL)
   AC_DEFINE(KERBEROS_V5)
   CEFLAGS="$CEFLAGS -I/usr/include/kerberosV"
-  LIBS="$LIBS -lasn1 -lkrb5 -lcom_err"
+  LIBS="$LIBS -lkrb5 -lasn1 -lcom_err -lkafs"
 else
   if test "$with_kerberos5" != "yes" 
   then
@


1.3
log
@add a missing library so fetchmail links on ELF-based archs when using Kerberos.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.3.2.1
log
@upgrade to fetchmail 6.1.0
- fixes a few buffer overflows and a broken boundary check
which could potentially lead to a remote vulnerability.

http://marc.theaimsgroup.com/?l=bugtraq&m=103340148625187&w=2
--
Ok'd by: fgsch@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.3 2001/11/27 15:29:28 brad Exp $
@


1.2
log
@o Upgrade to fetchmail 5.9.4.
o Remove kerberos4/5 from flavors list and use them by default.
  Suggested by Jakob Schlyter <jakob@@crt.se>.
o Update diffs.
@
text
@d1 10
a10 16
$OpenBSD: patch-configure_in,v 1.1 2001/07/09 00:19:47 fgsch Exp $
--- configure.in.orig	Wed Jun 20 11:04:14 2001
+++ configure.in	Sun Jul  8 19:42:15 2001
@@@@ -393,6 +393,15 @@@@ directory],
 [
 if test "$with_kerberos5" != "no"
 then
+# Check for a OpenBSD special case
+if test "$with_kerberos5" = "yes" && ( test `uname` = "OpenBSD" )
+then
+  AC_CHECKING([kerberosV for OpenBSD])
+  AC_DEFINE(HEIMDAL)
+  AC_DEFINE(KERBEROS_V5)
+  CEFLAGS="$CEFLAGS -I/usr/include/kerberosV"
+  LIBS="$LIBS -lasn1 -lkrb5 -lcom_err"
+else
a12 9
       LDEFLAGS="$LDEFLAGS -L${with_kerberos5}/lib"
@@@@ -449,6 +458,7 @@@@ then
   if test -z "$with_kerberos5" ; then
      AC_ERROR([Kerberos 5 libraries not found])
   fi
+fi
 fi
 ]) dnl --with-kerberos5=DIR
 
@


1.1
log
@- Update to fetchmail 5.8.11.
- Move old kerberosIV flavor to kerberos4.
- Add kerberosV support via kerberos5 flavor.

KerberosV support is not really tested. I'm not sure if that diff is
100% correct, so I'm gonna hold a bit to submit it. Please test.
@
text
@d1 1
a1 1
$OpenBSD$
@

