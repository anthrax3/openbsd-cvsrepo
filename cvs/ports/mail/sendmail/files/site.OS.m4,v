head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.2
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.2.0.8
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	jca_2014-09-16:1.1.1.1
	jca:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2017.01.30.15.42.04;	author bluhm;	state Exp;
branches;
next	1.2;
commitid	OeeesZXX2tew2UHB;

1.2
date	2014.09.16.19.54.29;	author jca;	state Exp;
branches;
next	1.1;
commitid	Kfksmf2J03JIyxiZ;

1.1
date	2014.09.16.17.09.31;	author jca;	state Exp;
branches
	1.1.1.1;
next	;
commitid	JCxOQVLz9VWogVVd;

1.1.1.1
date	2014.09.16.17.09.31;	author jca;	state Exp;
branches;
next	;
commitid	JCxOQVLz9VWogVVd;


desc
@@


1.3
log
@Enable ECC support and more granular control of TLS options.
From Kyle Amon; OK ajacoutot@@; discussed with jca@@, Claus Assmann
@
text
@# $OpenBSD: site.OS.m4,v 1.2 2014/09/16 19:54:29 jca Exp $
# OpenBSD Sendmail port configuration, generated from __file__
dnl
dnl Target directories
dnl ==================
define(`confHFDIR',		`${TRUEPREFIX}/share/examples/sendmail')dnl
define(`confINCLUDEDIR',	`${TRUEPREFIX}/include')dnl
define(`confLIBDIR',		`${TRUEPREFIX}/lib')dnl
define(`confUBINDIR',		`${TRUEPREFIX}/bin')dnl
define(`confSBINDIR',		`${TRUEPREFIX}/sbin')dnl
define(`confEBINDIR',		`${TRUEPREFIX}/libexec')dnl
define(`confMBINDIR',		`${TRUEPREFIX}/libexec/sendmail/')dnl
dnl Overriden in PLIST
define(`confMSPQOWN',		`root')
define(`confGBINGRP',		`wheel')
dnl Manpages handling
dnl =================
define(`confMANROOT',		`${TRUEPREFIX}/man/man')dnl
define(`confMANROOTMAN',	`${TRUEPREFIX}/man/man')dnl
dnl define(`confNO_MAN_BUILD',	`Yes')dnl
define(`confINSTALL_RAWMAN',	'Yes')dnl
define(`confDONT_INSTALL_CATMAN', 'Yes')dnl
dnl FIXME
define(`confNO_STATISTICS_INSTALL')dnl
dnl Features we want
dnl ================
APPENDDEF(`confENVDEF', `-DNEEDSGETIPNODE')dnl
APPENDDEF(`confENVDEF', `-DNETINET6')dnl
APPENDDEF(`confENVDEF', `-DSM_CONF_SHM')dnl
APPENDDEF(`confMAPDEF', `-DSOCKETMAP')dnl
APPENDDEF(`conf_libmilter_ENVDEF', `-DMILTER')
APPENDDEF(`conf_sendmail_ENVDEF', `-DMILTER')
dnl (START)TLS
APPENDDEF(`confENVDEF', `-DSTARTTLS')dnl
APPENDDEF(`confENVDEF', `-D_FFR_TLS_EC')dnl
APPENDDEF(`confENVDEF', `-D_FFR_TLS_SE_OPTS')dnl
APPENDDEF(`confLIBS', `-lssl -lcrypto')dnl
dnl Flavors
dnl =======
ifelse(`${WANT_LOCALBASE}', `Yes',dnl
	`APPENDDEF(`confINCDIRS', `-I${LOCALBASE}/include')dnl
	 APPENDDEF(`confLIBDIRS', `-L${LOCALBASE}/lib')')dnl
dnl
ifelse(`${WANT_LDAP}', `Yes',dnl
	`APPENDDEF(`confMAPDEF', `-DLDAPMAP')dnl
	 APPENDDEF(`confLIBS', `-lldap')')dnl
dnl
ifelse(`${WANT_SMTP_AUTH}', `Yes',dnl
	`APPENDDEF(`conf_sendmail_ENVDEF', `-DSASL')dnl
	 APPENDDEF(`conf_sendmail_LIBS', `-lsasl2')dnl
	 APPENDDEF(`confINCDIRS', `-I${LOCALBASE}/include/sasl')')dnl
dnl Misc
dnl ====
dnl we do have poll(2), so use it
APPENDDEF(`conf_libmilter_ENVDEF', `-DSM_CONF_POLL')dnl
@


1.2
log
@Build a shared version of libmilter.
.m4 bits obtained from FreeBSD/Absolight/Sendmail then uglily hacked.
major bump for safety.
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: site.OS.m4,v 1.1.1.1 2014/09/16 17:09:31 jca Exp $
d35 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d31 2
@


1.1.1.1
log
@Import sendmail-8.14.9
Thanks to matthieu@@ for the work done in base, input from at least zhuk@@
and sthen@@, ok ajacoutot@@
@
text
@@
