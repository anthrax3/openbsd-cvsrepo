head	1.3;
access;
symbols
	OPENBSD_3_4:1.2.0.12
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.10
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.8
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.6
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.4
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2003.11.06.02.07.07;	author jolan;	state dead;
branches;
next	1.2;

1.2
date	2001.03.25.12.40.58;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.02.15.18.51.31;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to 0.4.17.
@
text
@$OpenBSD: patch-wmbiff_Makefile,v 1.2 2001/03/25 12:40:58 naddy Exp $
--- wmbiff/Makefile.orig	Tue Mar 13 08:08:09 2001
+++ wmbiff/Makefile	Sun Mar 25 14:30:44 2001
@@@@ -1,11 +1,8 @@@@
 WMBIFF_VERSION="0.2p"
-prefix=
-BIN=/usr/local/bin
-MAN=/usr/local/man
-CONF=/etc
-LIBDIR = -L/usr/X11R6/lib
+LIBDIR = -L$(X11BASE)/lib
+INCLUDEDIR= -I$(X11BASE)/include
 LIBS   = -lXpm -lXext -lX11
-CFLAGS = -O2 -Wall -DWMBIFF_VERSION='$(WMBIFF_VERSION)'
+CFLAGS+= -DWMBIFF_VERSION='$(WMBIFF_VERSION)'
 #CFLAGS = -g -Wall -pedantic -DWMBIFF_VERSION='$(WMBIFF_VERSION)'
 OBJS =	wmbiff.o socket.o \
 	Pop3Client.o Imap4Client.o LicqClient.o mboxClient.o \
@@@@ -14,10 +11,8 @@@@ OBJS =	wmbiff.o socket.o \
 	../wmgeneral/misc.o \
 	../wmgeneral/list.o
 
-INSTALL = /usr/bin/install -p
-
 .c.o:
-	gcc  $(CFLAGS) -c -Wall $< -o $*.o
+	$(CC) $(CFLAGS) -c $< $(INCLUDEDIR) -o $@@
 
 all: wmbiff-master.xpm wmbiff
 
@@@@ -25,7 +20,7 @@@@ wmbiff-master.xpm:
 	ln -s wmbiff-master-led.xpm wmbiff-master.xpm
 
 wmbiff:	$(OBJS)
-	gcc $(CFLAGS) -o wmbiff -lX11 -lnsl $^ $(LIBDIR) $(LIBS)
+	$(CC) $(CFLAGS) -o wmbiff -lX11 $(OBJS) $(LIBDIR) $(LIBS)
 
 clean: indent
 	for i in $(OBJS) ; do \
@@@@ -34,9 +29,12 @@@@ clean: indent
 	rm -f wmbiff *~ tags core
 
 install: wmbiff
-	$(INSTALL) -m 755 wmbiff $(prefix)$(BIN)
-	$(INSTALL) -m 755 wmbiff.1 $(prefix)$(MAN)/man1/
-	$(INSTALL) -m 755 wmbiffrc.5 $(prefix)$(MAN)/man5
+	${BSD_INSTALL_PROGRAM} wmbiff ${PREFIX}/bin/wmbiff
+	${BSD_INSTALL_DATA_DIR} ${PREFIX}/share/examples/wmbiff
+	${BSD_INSTALL_MAN} wmbiff.1 ${PREFIX}/man/man1/wmbiff.1
+	${BSD_INSTALL_MAN} wmbiffrc.5 ${PREFIX}/man/man5/wmbiffrc.5
+	${BSD_INSTALL_DATA} sample.wmbiffrc \
+		${PREFIX}/share/examples/wmbiff/dot.wmbiffrc
 #	strip $(prefix)$(BIN)/wmbiff
 #	chmod 755 $(prefix)$(BIN)/wmbiff
 
@


1.2
log
@- Pull in COMMENT
Submitted by MAINTAINER:
- Update to 0.2p (follows new development branch, adds man pages).
- Update DESCR.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Various fixes.  Contributions from Vladimir Popov <pva48@@mail.ru> and
Cameron Lerch <opcode@@skylab.saturn5.yi.org>.
@
text
@d2 4
a5 3
--- wmbiff/Makefile.orig	Fri Nov 26 13:19:05 1999
+++ wmbiff/Makefile	Sat Jan 27 02:01:15 2001
@@@@ -1,9 +1,6 @@@@
d7 2
a8 1
-BIN=/usr/X11R6/bin
d11 2
a12 1
+LIBDIR = -L${X11BASE}/lib
d14 6
a19 4
-CFLAGS = -O2 -Wall
+CFLAGS += -I${X11BASE}/include
 OBJS =	wmbiff.o Pop3Client.o \
 	../wmgeneral/wmgeneral.o \
d21 1
a21 1
@@@@ -11,10 +8,10 @@@@ OBJS =	wmbiff.o Pop3Client.o \
d23 10
d34 8
a41 3
 .c.o:
-	cc -I/usr/X11R6/share/include $(CFLAGS) -c -Wall $< -o $*.o
+	cc $(CFLAGS) -c $< -o $*.o
d43 4
a46 12
 wmbiff: $(OBJS)
-	cc $(CFLAGS) -o wmbiff $^ $(LIBDIR) $(LIBS)
+	cc $(CFLAGS) -o wmbiff $(OBJS) $(LIBDIR) $(LIBS)
 	strip wmbiff
 
 all:: wmbiff
@@@@ -26,5 +23,7 @@@@ clean::
 	rm -f wmbiff *~ tags
 
 install:: wmbiff
-	cp -f wmbiff $(prefix)$(BIN)/
-	chmod 755 $(prefix)$(BIN)/wmbiff
d49 2
d53 3
@

