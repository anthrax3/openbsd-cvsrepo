head	1.5;
access;
symbols
	OPENBSD_4_2:1.4.0.14
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.12
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.10
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.8
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.6
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.4
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.2
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_4:1.2.0.12
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.10
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.8
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.6
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.4
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2;
locks; strict;
comment	@# @;


1.5
date	2007.10.25.21.10.22;	author landry;	state dead;
branches;
next	1.4;

1.4
date	2004.05.08.06.52.46;	author sturm;	state Exp;
branches;
next	1.3;

1.3
date	2003.11.06.02.07.07;	author jolan;	state dead;
branches;
next	1.2;

1.2
date	2001.03.25.12.40.59;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.02.15.18.51.31;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to wmbiff-0.4.27.
- remove no longer needed patches.
- remove MAINTAINER upon his request.
with tweaks and ok from ajacoutot@@
@
text
@$OpenBSD: patch-wmbiff_wmbiff_c,v 1.4 2004/05/08 06:52:46 sturm Exp $
--- wmbiff/wmbiff.c.orig	2004-04-25 11:17:22.000000000 +0200
+++ wmbiff/wmbiff.c	2004-04-25 11:16:54.000000000 +0200
@@@@ -445,7 +445,7 @@@@ static void init_biff(char *config_file)
 			" Message: %s\n"
 			" libgcrypt version: %s\n"
 			" recovering: will fail later if using CRAM-MD5 or APOP authentication.\n",
-			zok, gcry_strerror(gcry_errno()), gcry_check_version(NULL));
+			zok, gcry_strerror(zok), gcry_check_version(NULL));
 	};
 #endif
 
@


1.4
log
@damn cvs
@
text
@d1 1
a1 1
$OpenBSD$
@


1.3
log
@Update to 0.4.17.
@
text
@d1 12
a12 12
$OpenBSD: patch-wmbiff_wmbiff_c,v 1.2 2001/03/25 12:40:59 naddy Exp $
--- wmbiff/wmbiff.c.orig	Mon Mar 12 23:08:09 2001
+++ wmbiff/wmbiff.c	Mon Mar 19 23:59:18 2001
@@@@ -88,7 +88,7 @@@@ void init_biff(int argc, char **argv)
 	if ((m = getenv("MAIL")) != NULL) {
 		strcpy(mbox[0].path, m);
 	} else if ((m = getenv("USER")) != NULL) {
-		strcpy(mbox[0].path, "/var/spool/mail/");
+		strcpy(mbox[0].path, "/var/mail/");
 		strcat(mbox[0].path, m);
 	}
 	mbox[0].notify[0] = 0;
@


1.2
log
@- Pull in COMMENT
Submitted by MAINTAINER:
- Update to 0.2p (follows new development branch, adds man pages).
- Update DESCR.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Various fixes.  Contributions from Vladimir Popov <pva48@@mail.ru> and
Cameron Lerch <opcode@@skylab.saturn5.yi.org>.
@
text
@d2 11
a12 24
--- wmbiff/wmbiff.c.orig	Fri Nov 26 13:03:15 1999
+++ wmbiff/wmbiff.c	Tue Jan 30 21:43:13 2001
@@@@ -113,7 +113,7 @@@@ void init_biff(int argc, char **argv)
     strcpy(mbox[0].path, m);
   }
   else if( (m=getenv("USER")) != NULL ) {
-    strcpy(mbox[0].path, "/var/spool/mail/");
+    strcpy(mbox[0].path, "/var/mail/");
     strcat(mbox[0].path, m);
   }
   mbox[0].notify[0]=0;
@@@@ -150,9 +150,9 @@@@ void init_biff(int argc, char **argv)
   /* Make labels looks correctly */
   for(i=0; i<5; i++) {
     if(mbox[i].label[0] != 0) {
-      for(j=0; j<5; j++)
-	if(mbox[i].label[j] == 0)
-	  mbox[i].label[j] = ' ';
+      j = strlen(mbox[i].label);
+      if (j < 5)
+        memset(mbox[i].label + j, ' ', 5 - j);
       mbox[i].label[5]=':';
       mbox[i].label[6]=0;
     }
@

