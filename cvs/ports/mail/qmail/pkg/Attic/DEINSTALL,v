head	1.3;
access;
symbols
	OPENBSD_2_9:1.2.0.6
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.4
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.2
	OPENBSD_2_7_BASE:1.2
	kevlo_2000-Jan-28:1.1.1.1
	kevlo:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2001.08.14.20.20.57;	author camield;	state dead;
branches;
next	1.2;

1.2
date	2000.02.23.10.26.14;	author camield;	state Exp;
branches;
next	1.1;

1.1
date	2000.01.28.12.43.40;	author kevlo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.01.28.12.43.40;	author kevlo;	state Exp;
branches;
next	;


desc
@@


1.3
log
@license does not permit modification, to allow for proper
integration in OpenBSD
@
text
@#!/bin/sh
# $OpenBSD: DEINSTALL,v 1.2 2000/02/23 10:26:14 camield Exp $

PATH=/bin:/usr/bin:/sbin:/usr/sbin
QMAILDIR=${PKG_PREFIX:-/var/qmail}

do_accts()
{
	echo
	echo "- remove qmail users"
	echo "rmuser alias"
	echo "rmuser qmaild"
	echo "rmuser qmaill"
	echo "rmuser qmailp"
	echo "rmuser qmailq"
	echo "rmuser qmailr"
	echo "rmuser qmails"
}

do_groups()
{	
	echo
	echo "- remove qmail groups"
	echo "rmgroup qmail"
	echo "rmgroup nofiles"
}

do_qmaildir()
{
	echo
	echo "- remove remaining qmail files"
	echo "rm -rf $QMAILDIR"
}

do_misc()
{	
	echo
	echo "- check that qmail daemons are no longer started"
	echo "  (/etc/rc.local, /etc/inetd.conf, /etc/mailer.conf)"

}

if [ $# -ne 2 ]; then
    echo "usage: $0 distname { DEINSTALL }" >&2
    exit 1
fi

case $2 in
    DEINSTALL)
	echo "----------------"
	echo "To completely remove qmail do the following as root:"
	echo "----------------"
	do_accts
	do_groups
	do_qmaildir
	do_misc
	;;
    *)
	echo "Usage: `basename $0` distname DEINSTALL" >&2
	exit 1
	;;
esac

exit 0
@


1.2
log
@- mkdir, cp -> INSTALL_* macros
- clean-up pkg/INSTALL (qmail now builds as non-root, if qmail accounts exist)
  The mysql and postfix ports could also use the create_user and/or
  create_group shell functions, as they do a bit more error-checking.
- add obsd tags to INSTALL/DEINSTALL
- fix mastersite
- explicit warning that qmail does not automagically work after install
@
text
@d2 1
a2 1
# $OpenBSD$
@


1.1
log
@Initial revision
@
text
@d2 1
a2 2
#
#
@


1.1.1.1
log
@qmail is a secure, reliable, efficient, simple message transfer agent.
It is meant as a replacement for the entire sendmail-binmail system on
typical Internet-connected UNIX hosts.

Submitted by:	Camiel Dobbelaar <cd@@sentia.nl>
@
text
@@
