head	1.35;
access;
symbols
	OPENBSD_6_2:1.35.0.2
	OPENBSD_6_2_BASE:1.35
	OPENBSD_6_1:1.34.0.4
	OPENBSD_6_1_BASE:1.34
	OPENBSD_6_0:1.34.0.2
	OPENBSD_6_0_BASE:1.34
	OPENBSD_5_9:1.32.0.2
	OPENBSD_5_9_BASE:1.32
	OPENBSD_5_8:1.30.0.4
	OPENBSD_5_8_BASE:1.30
	OPENBSD_5_7:1.29.0.2
	OPENBSD_5_7_BASE:1.29
	OPENBSD_5_6:1.28.0.2
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.27.0.4
	OPENBSD_5_5_BASE:1.27
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.26.0.10
	OPENBSD_5_3_BASE:1.26
	OPENBSD_5_2:1.26.0.8
	OPENBSD_5_2_BASE:1.26
	OPENBSD_5_1_BASE:1.26
	OPENBSD_5_1:1.26.0.6
	OPENBSD_5_0:1.26.0.4
	OPENBSD_5_0_BASE:1.26
	OPENBSD_4_9:1.26.0.2
	OPENBSD_4_9_BASE:1.26
	OPENBSD_4_8:1.23.0.8
	OPENBSD_4_8_BASE:1.23
	OPENBSD_4_7:1.23.0.6
	OPENBSD_4_7_BASE:1.23
	OPENBSD_4_6:1.23.0.4
	OPENBSD_4_6_BASE:1.23
	OPENBSD_4_5:1.23.0.2
	OPENBSD_4_5_BASE:1.23
	OPENBSD_4_4:1.21.0.2
	OPENBSD_4_4_BASE:1.21
	OPENBSD_4_3:1.19.0.2
	OPENBSD_4_3_BASE:1.19
	OPENBSD_4_2:1.17.0.2
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.16.0.4
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.16.0.2
	OPENBSD_4_0_BASE:1.16
	OPENBSD_3_9:1.15.0.4
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.15.0.2
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.14.0.4
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.14.0.2
	OPENBSD_3_6_BASE:1.14
	OPENBSD_3_5:1.12.0.2
	OPENBSD_3_5_BASE:1.12
	OPENBSD_3_4:1.10.0.2
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.9.0.2
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.7.0.2
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	lebel_2001-Dec-27:1.1.1.1
	lebel:1.1.1;
locks; strict;
comment	@# @;


1.35
date	2017.09.23.10.53.07;	author sthen;	state Exp;
branches;
next	1.34;
commitid	32c5zMwxVlB3oIck;

1.34
date	2016.04.17.18.55.49;	author afresh1;	state Exp;
branches;
next	1.33;
commitid	avI0RKwCL1DrWAiZ;

1.33
date	2016.03.20.16.36.34;	author naddy;	state Exp;
branches;
next	1.32;
commitid	QNVHEfO6FpaH0tra;

1.32
date	2016.02.05.14.59.27;	author sthen;	state Exp;
branches;
next	1.31;
commitid	F3jAaCOtuuMnJ2Kj;

1.31
date	2015.10.29.18.25.31;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	rGJEna4pjYRz5tyg;

1.30
date	2015.07.16.23.57.25;	author ajacoutot;	state Exp;
branches;
next	1.29;
commitid	tdKVYJOlplb8bzTQ;

1.29
date	2015.01.22.20.26.43;	author naddy;	state Exp;
branches;
next	1.28;
commitid	z5rpjRfvUoyAfWNP;

1.28
date	2014.06.14.10.34.45;	author sthen;	state Exp;
branches;
next	1.27;
commitid	HiKZ10xJk2o55vyF;

1.27
date	2013.03.11.11.23.53;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.11.19.07.23.09;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2010.10.18.19.59.20;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2010.09.24.15.32.33;	author sthen;	state Exp;
branches;
next	1.23;

1.23
date	2008.11.11.23.06.34;	author merdely;	state Exp;
branches;
next	1.22;

1.22
date	2008.10.02.20.32.19;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2008.04.04.14.43.12;	author merdely;	state Exp;
branches;
next	1.20;

1.20
date	2008.03.17.15.19.29;	author merdely;	state Exp;
branches;
next	1.19;

1.19
date	2008.01.04.17.48.36;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2007.09.16.00.17.06;	author merdely;	state Exp;
branches;
next	1.17;

1.17
date	2007.07.04.19.18.46;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2006.08.03.15.18.40;	author steven;	state Exp;
branches;
next	1.15;

1.15
date	2005.07.06.23.18.11;	author jolan;	state Exp;
branches;
next	1.14;

1.14
date	2004.06.26.07.35.07;	author xsa;	state Exp;
branches;
next	1.13;

1.13
date	2004.04.24.08.10.22;	author peter;	state Exp;
branches;
next	1.12;

1.12
date	2004.01.17.15.58.08;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2003.11.18.20.57.49;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	2003.05.24.21.57.32;	author marcm;	state Exp;
branches;
next	1.9;

1.9
date	2002.12.01.19.14.21;	author marcm;	state Exp;
branches
	1.9.2.1;
next	1.8;

1.8
date	2002.10.30.04.38.12;	author pvalchev;	state Exp;
branches;
next	1.7;

1.7
date	2002.09.30.03.10.46;	author marcm;	state Exp;
branches;
next	1.6;

1.6
date	2002.09.20.02.18.15;	author marcm;	state Exp;
branches;
next	1.5;

1.5
date	2002.09.19.06.42.00;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2002.06.03.13.14.57;	author lebel;	state Exp;
branches;
next	1.3;

1.3
date	2002.05.13.23.31.25;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.01.01.19.57.45;	author lebel;	state Exp;
branches;
next	1.1;

1.1
date	2001.12.27.21.54.19;	author lebel;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.12.27.21.54.19;	author lebel;	state Exp;
branches;
next	;

1.9.2.1
date	2003.06.01.04.07.43;	author marcm;	state Exp;
branches;
next	;


desc
@@


1.35
log
@WANTLIB+=c for more perl XS things
@
text
@# $OpenBSD: Makefile,v 1.34 2016/04/17 18:55:49 afresh1 Exp $

COMMENT=		agent for Razor spam filtering networks

DISTNAME=		razor-agents-2.85
REVISION=		6
CATEGORIES=		mail
HOMEPAGE=		http://razor.sourceforge.net/

# Artistic License
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c perl

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=razor/}
EXTRACT_SUFX=		.tar.bz2

RUN_DEPENDS=		security/p5-Digest-SHA1>=1.0 \
			net/p5-Net-DNS>=0.23 \
			www/p5-URI>=1.19
BUILD_DEPENDS=		${RUN_DEPENDS}

CONFIGURE_STYLE= 	perl

.include <bsd.port.mk>
@


1.34
log
@Allow razor-agents to build with perl 5.22

Submitted upstream https://github.com/toddr/Razor2-Client-Agent/pull/1

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2016/03/20 16:36:34 naddy Exp $
d6 1
a6 1
REVISION=		5
d13 1
a13 1
WANTLIB=		perl
@


1.33
log
@remove SHARED_ONLY from non-CPAN Perl ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2016/02/05 14:59:27 sthen Exp $
d6 1
a6 1
REVISION=		4
@


1.32
log
@Remove "use lib qw(lib)" which is useless and breaks startup if the cwd
is inaccessible. Specifically: fixes amavisd-new startup if razor-agents
is installed (rc.d cd's to the *startup* user's home, i.e. /root, but
this is normally unreadable for the unprivileged user). Remove a useless
FAKE_FLAGS while there.  ok ajacoutot@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.31 2015/10/29 18:25:31 ajacoutot Exp $

SHARED_ONLY=		Yes
d12 2
@


1.31
log
@Remove merdely@@ from MAINTAINER; email bounces.
(skipping freerdp because I am working on an updated for it)

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/07/16 23:57:25 ajacoutot Exp $
d8 1
a8 1
REVISION=		3
a21 2

FAKE_FLAGS=		PERL5LIB=${WRKINST}/${PREFIX}/${P5ARCH}
@


1.30
log
@Remove the perl bullshit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/01/22 20:26:43 naddy Exp $
d8 1
a8 1
REVISION=		2
a10 1
MAINTAINER=		Michael Erdely <merdely@@openbsd.org>
@


1.29
log
@Drop USE_GROFF: trivial page footer and acceptable formatting differences
only.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/06/14 10:34:45 sthen Exp $
d8 1
a8 1
REVISION=		1
@


1.28
log
@@@comment zero-byte perl .bs files in all packages which don't have p5-* PKGNAMEs
and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/03/11 11:23:53 espie Exp $
a26 1
USE_GROFF =		Yes
@


1.27
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/11/19 07:23:09 espie Exp $
d8 1
a8 1
REVISION=		0
@


1.26
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/10/18 19:59:20 espie Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.25
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/09/24 15:32:33 sthen Exp $
d22 3
a24 3
RUN_DEPENDS=		:p5-Digest-SHA1->=1.0:security/p5-Digest-SHA1 \
			:p5-Net-DNS->=0.23:net/p5-Net-DNS \
			:p5-URI->=1.19:www/p5-URI
d30 1
a30 1
USE_GROFF =	Yes
@


1.24
log
@bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/11/11 23:06:34 merdely Exp $
d30 1
@


1.23
log
@Update to 2.85

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/10/02 20:32:19 sthen Exp $
d8 1
@


1.22
log
@bump packages with Perl .so modules; the old ones don't work
with new perl and the package signature doesn't change, so we
have to do this ourselves to make pkg_add updates work.

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/04/04 14:43:12 merdely Exp $
d7 1
a7 2
DISTNAME=		razor-agents-2.84
PKGNAME=		${DISTNAME}p1
@


1.21
log
@Take MAINTAINER-ship

"free ok for you" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/03/17 15:19:29 merdely Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p0
@


1.20
log
@Update to 2.84.

From Giovanni
ok landry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/01/04 17:48:36 espie Exp $
d8 1
d11 1
@


1.19
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/09/16 00:17:06 merdely Exp $
d7 1
a7 1
DISTNAME=		razor-agents-2.82
@


1.18
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/07/04 19:18:46 jasper Exp $
d25 1
a25 1
FAKE_FLAGS=		${DESTDIRNAME}=${WRKINST} PERL5LIB=${WRKINST}/${PREFIX}/${P5ARCH}
@


1.17
log
@-NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
+SHARED_ONLY=	Yes

ok ajacoutot@@, simon@@, mbalmer@@ (for the postgresql bits)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/08/03 15:18:40 steven Exp $
d5 1
a5 1
COMMENT=		"agent for Razor spam filtering networks"
@


1.16
log
@update to razor-agents 2.82

from Allan Lyons <allan at rahab.wycliffe.ca>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2005/07/06 23:18:11 jolan Exp $
d3 1
a3 1
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
@


1.15
log
@remove peter galbavy as maintainer per his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/06/26 07:35:07 xsa Exp $
d7 1
a7 1
DISTNAME=		razor-agents-2.40
d18 1
a27 7

post-install:
	@@ln -s razor-client ${PREFIX}/bin/razor-check
	@@ln -s razor-client ${PREFIX}/bin/razor-report
	@@ln -s razor-client ${PREFIX}/bin/razor-revoke
	@@ln -s razor-client ${PREFIX}/bin/razor-admin
	${INSTALL_MAN} ${WRKSRC}/blib/man5/*.5 ${PREFIX}/man/man5
@


1.14
log
@
set BUILD_DEPENDS= ${RUN_DEPENDS} not the opposite .. for obvious
reasons... okay pvalchev@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/04/24 08:10:22 peter Exp $
a9 2

MAINTAINER=     Peter Galbavy <peter.galbavy@@knowtion.net>
@


1.13
log
@Update to 2.40 and take maintainership. ok pvalchev@@

This version includes taint check support that makes this
play nicely with SpamAssassin - at last.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/01/17 15:58:08 naddy Exp $
d21 1
a21 1
BUILD_DEPENDS=		:p5-Digest-SHA1->=1.0:security/p5-Digest-SHA1 \
d24 1
a24 1
RUN_DEPENDS=		${BUILD_DEPENDS}
@


1.12
log
@Don't attempt to build perl ports that load dynamic modules
on architectures that support static linking only.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/11/18 20:57:49 millert Exp $
d7 1
a7 1
DISTNAME=		razor-agents-2.36
d11 2
d21 1
a21 2
BUILD_DEPENDS=		:p5-Digest-Nilsimsa->=0.06:security/p5-Digest-Nilsimsa \
			:p5-Digest-SHA1->=1.0:security/p5-Digest-SHA1 \
@


1.11
log
@Update to razor-agents-2.36 which works for perl > 5.8.0; OK sturm@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.10 2003/05/24 21:57:32 marcm Exp $
@


1.10
log
@Update to 2.34.  This fixes several perl issues and seems to not have the
segfault that 2.20 had :).

Also removes me from MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/12/01 19:14:21 marcm Exp $
d5 1
a5 1
DISTNAME=		razor-agents-2.34
d18 1
d23 1
a23 1
FAKE_FLAGS=		PERL5LIB=${WRKINST}/${PREFIX}/${P5ARCH}
@


1.9
log
@Fix Perl 5.8.0 fallout.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/10/30 04:38:12 pvalchev Exp $
d5 1
a5 1
DISTNAME=		razor-agents-2.14
a8 2
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>

d21 2
@


1.9.2.1
log
@MFC: Fixes several perl issues and logging issues that created problems
on -stable.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/12/01 19:14:21 marcm Exp $
d5 1
a5 1
DISTNAME=		razor-agents-2.34
d9 2
a22 2

FAKE_FLAGS=		PERL5LIB=${WRKINST}/${PREFIX}/${P5ARCH}
@


1.8
log
@Remove p5-Test-Simple and p5-Time-HiRes depends; now in stock perl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/09/30 03:10:46 marcm Exp $
d31 1
@


1.7
log
@Fix a name change that I overlooked on one of the commands.

Noticed by todd@@

ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/09/20 02:18:15 marcm Exp $
a20 2
			:p5-Test-Simple->=0.44:devel/p5-Test-Simple \
			:p5-Time-HiRes->=1.20:devel/p5-Time-HiRes \
@


1.6
log
@Update to 2.14.  Substantial changes documented at:
http://razor.sourceforge.net/docs/whatsnew.html

ok lebel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/06/03 13:14:57 lebel Exp $
a29 1
	@@ln -s razor-client ${PREFIX}/bin/razor-register
d32 1
@


1.5
log
@Update my email address and kill off NEED_VERSION on my remaining ports.

ok pvalchev@@
@
text
@d5 1
a5 2
VERSION=		1.20
DISTNAME=		razor-agents-${VERSION}
d11 1
d19 3
a21 3
# Uh, the razor SDK uses Mail-Tools 1.40... but it's not in the
# ports tree (yet)
BUILD_DEPENDS=		:p5-Net-DNS->=0.12:net/p5-Net-DNS \
d23 1
a23 2
			:p5-Digest-SHA1->=2.00:security/p5-Digest-SHA1 \
			:p5-Mail-Tools->=1.15:mail/p5-Mail-Tools
d27 6
@


1.4
log
@update mail/razor-agents to 1.20
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/05/13 23:31:25 espie Exp $
a7 1
NEED_VERSION=   	1.531
d10 1
a10 1
MAINTAINER=		Marc Matteo <marcm@@lectroid.net>
@


1.3
log
@More MASTER_SITES_SUBDIR out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/01/01 19:57:45 lebel Exp $
d5 1
a5 1
VERSION=		1.19
d8 1
a8 1
NEED_VERSION=   	1.503
@


1.2
log
@depends on security/p5-Digest-SHA1 instead of security/p5-Digest-MD5;
from maintainer, Marc Matteo <marcm@@lectroid.net>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/12/27 21:54:19 lebel Exp $
d18 1
a18 2
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=	razor
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
a8 1
NEED_VERSION=   	1.475
d25 1
a25 1
			:p5-Digest-MD5->=2.00:security/p5-Digest-MD5 \
@


1.1.1.1
log
@Vipul's Razor is a distributed, collaborative, spam detection and
filtering network. Razor establishes a distributed and constantly
updating catalogue of spam in propagation. This catalogue is used by
clients to filter out known spam. On receiving a spam, a Razor Reporting
Agent (run by an end-user or a troll box) calculates and submits a
20-character unique identification of the spam (a SHA Digest) to its
closest Razor Catalogue Server. The Catalogue Server echos this
signature to other trusted servers after storing it in its database.
Prior to manual processing or transport-level reception, Razor Filtering
Agents (end-users and MTAs) check their incoming mail against a
Catalogue Server and filter out or deny transport in case of a signature
match. Catalogued spam, once identified and reported by a Reporting
Agent, can be blocked out by the rest of the Filtering Agents on the
network.

WWW: http://razor.sourceforge.net/

Submitted by Marc Matteo <marcm@@lectroid.net>

@
text
@@
