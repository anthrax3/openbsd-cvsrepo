head	1.5;
access;
symbols
	OPENBSD_5_5:1.4.0.6
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.4
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2014.07.24.18.24.03;	author landry;	state dead;
branches;
next	1.4;
commitid	SSkn6cHOPriUcXVg;

1.4
date	2012.09.01.14.22.45;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2012.04.30.15.32.06;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2011.12.08.02.25.59;	author nigel;	state Exp;
branches;
next	1.1;

1.1
date	2011.07.24.07.10.12;	author landry;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to thunderbird 31.0/lightning 3.3.

- See https://www.mozilla.org/en-US/thunderbird/31.0/releasenotes/
- Fixes MFSA 2014-56->66 (except 60)
- Move i386 to build with gcc to be in sync with other mozillas
- Remove patch-mozilla_content_media_gstreamer_GStreamerLoader_cpp,
  merged (#927898)
- Remove patch-mozilla_ipc_chromium_src_base_debug_util_posix_cc,
  merged(#927810)
- Remove patch-mozilla_ipc_chromium_src_base_dir_reader_bsd_h, merged
  (#909005)
- Remove patch-mozilla_js_src_ctypes_libffi_configure and
  patch-mozilla_js_src_ctypes_libffi_src_x86_freebsd_S, merged (#928381)
- Add patch-mozilla_media_libvpx_Makefile_in for libvpx hack on
  amd64/clang (#982693)
- Add patch-mozilla_gfx_skia_moz_build &
  patch-mozilla_gfx_skia_trunk_src_opts_SkBitmapProcState_opts_SSSE3_cpp
to fix build on i386 (#1028827)

Tested at least with 28.0b1, 30.0b1, 31.0b1 and 31.0b2 during this cycle..
and even starts on sparc64!

ok sthen@@ jasper@@ naddy@@
@
text
@$OpenBSD: patch-mozilla_js_src_ctypes_libffi_configure,v 1.4 2012/09/01 14:22:45 landry Exp $
--- mozilla/js/src/ctypes/libffi/configure.orig	Sat Aug 25 02:31:11 2012
+++ mozilla/js/src/ctypes/libffi/configure	Sat Sep  1 02:02:55 2012
@@@@ -11213,7 +11213,7 @@@@ case "$host" in
 	TARGET=FRV; TARGETDIR=frv
 	;;
 
-  hppa*-*-linux* | parisc*-*-linux*)
+  hppa*-*-linux* | hppa*-*-openbsd* | parisc*-*-linux*)
 	TARGET=PA_LINUX; TARGETDIR=pa
 	;;
   hppa*64-*-hpux*)
@@@@ -11256,7 +11256,7 @@@@ case "$host" in
   mips-sgi-irix5.* | mips-sgi-irix6.*)
 	TARGET=MIPS; TARGETDIR=mips
 	;;
-  mips*-*linux*)
+  mips*-*-linux* | mips*-*-openbsd* )
 	# Support 128-bit long double for NewABI.
 	HAVE_LONG_DOUBLE='defined(__mips64)'
 	TARGET=MIPS; TARGETDIR=mips
@


1.4
log
@Update to thunderbird 15.0/lightning 1.7b1/enigmail 1.4.4.

- see http://www.mozilla.org/en-US/thunderbird/15.0/releasenotes/
- garbage collect nsSound.cpp, the original one uses libcanberra
properly and thus sndio.
- remove patch from #750620, merged upstream (mfbt/double-conversion)
- remove patches from #691898, merged upstream (yarr jit ppc)
- remove useless crashreporter patch, we don't have breakpad
- garbage collect sunbird.desktop since it's unlikely sunbird will ever
build from tb again..
@
text
@d1 1
a1 1
$OpenBSD: patch-mozilla_js_src_ctypes_libffi_configure,v 1.3 2012/04/30 15:32:06 landry Exp $
@


1.3
log
@Update to thunderbird 12.0.1/Lightning 1.4b1/enigmail 1.5pre

See http://www.mozilla.org/en-US/thunderbird/12.0/releasenotes/

Same comments as for firefox 12, only to mention that .0.1 is a bugfix
release to fix POP issues introduced in 12.0. Tested by nigel@@ (thanks!)
@
text
@d1 3
a3 3
$OpenBSD: patch-mozilla_js_src_ctypes_libffi_configure,v 1.2 2011/12/08 02:25:59 nigel Exp $
--- mozilla/js/src/ctypes/libffi/configure.orig	Sat Apr 21 00:40:07 2012
+++ mozilla/js/src/ctypes/libffi/configure	Wed Apr 25 17:50:16 2012
d17 1
a17 1
-  mips*-*-linux*)
@


1.2
log
@Update thunderbird v7.0.1 to v8.0, enigmail v1.3.4, lightning
@
text
@d1 4
a4 4
$OpenBSD: patch-mozilla_js_src_ctypes_libffi_configure,v 1.1 2011/07/24 07:10:12 landry Exp $
--- mozilla/js/src/ctypes/libffi/configure.orig	Sat Nov  5 09:20:38 2011
+++ mozilla/js/src/ctypes/libffi/configure	Tue Nov  8 15:21:46 2011
@@@@ -11212,7 +11212,7 @@@@ case "$host" in
d13 1
a13 1
@@@@ -11255,7 +11255,7 @@@@ case "$host" in
d18 1
a18 1
+  mips*-*-linux* | mips*-*-openbsd*)
@


1.1
log
@Update to thunderbird 5.0, based on Gecko 5. See for details :
http://www.mozilla.org/en-US/thunderbird/5.0/releasenotes/
- sync ipc patches from firefox
- install under lib/thunderbird-5.0 instead of using the handmade
  install target
- remove a bunch of pointless patches
Been running with it since a while, tested by a few on ports@@, thanks!
@
text
@d1 3
a3 3
$OpenBSD$
--- mozilla/js/src/ctypes/libffi/configure.orig	Fri Jan 14 23:21:32 2011
+++ mozilla/js/src/ctypes/libffi/configure	Sun Feb 13 23:16:00 2011
a21 9
@@@@ -11277,7 +11277,7 @@@@ case "$host" in
   powerpc-*-aix* | rs6000-*-aix*)
 	TARGET=POWERPC_AIX; TARGETDIR=powerpc
 	;;
-  powerpc-*-freebsd*)
+  powerpc-*-freebsd* | powerpc-*-openbsd* )
 	TARGET=POWERPC_FREEBSD; TARGETDIR=powerpc
 	;;
   powerpc*-*-rtems*)
@

