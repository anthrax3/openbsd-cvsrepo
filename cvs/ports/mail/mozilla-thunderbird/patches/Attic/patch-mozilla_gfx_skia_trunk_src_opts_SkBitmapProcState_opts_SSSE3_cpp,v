head	1.3;
access;
symbols
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.1.0.4
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2016.04.27.14.18.52;	author landry;	state dead;
branches;
next	1.2;
commitid	JA1268drc58te6De;

1.2
date	2015.07.05.20.18.06;	author landry;	state Exp;
branches;
next	1.1;
commitid	kn9BcWVt83FWb3H2;

1.1
date	2014.07.24.18.24.03;	author landry;	state Exp;
branches;
next	;
commitid	SSkn6cHOPriUcXVg;


desc
@@


1.3
log
@Major update to thunderbird 45.0 / lightning 4.7.

- See https://www.mozilla.org/en-US/thunderbird/45.0/releasenotes/
- Fixes MFSA 2016-16->20, 23, 24, 27, 34->37
- Disable gstreamer support as in other geckos
- ship gdata-provider as an xpi file
- Add back patches to fix the build on i386

Been using the betas in the past 6 months without issues.
@
text
@$OpenBSD: patch-mozilla_gfx_skia_trunk_src_opts_SkBitmapProcState_opts_SSSE3_cpp,v 1.2 2015/07/05 20:18:06 landry Exp $
https://bugzilla.mozilla.org/show_bug.cgi?id=1028827
--- mozilla/gfx/skia/trunk/src/opts/SkBitmapProcState_opts_SSSE3.cpp.orig	Wed Mar 11 08:56:25 2015
+++ mozilla/gfx/skia/trunk/src/opts/SkBitmapProcState_opts_SSSE3.cpp	Thu Mar 19 21:22:21 2015
@@@@ -13,7 +13,7 @@@@
  * SSSE3 functions and enable the caller to determine SSSE3 support.  However for
  * compilers that do not support SSSE3 we provide a stub implementation.
  */
-#if SK_CPU_SSE_LEVEL >= SK_CPU_SSE_LEVEL_SSSE3
+#if !defined(SK_BUILD_FOR_ANDROID_FRAMEWORK) || SK_CPU_SSE_LEVEL >= SK_CPU_SSE_LEVEL_SSSE3
 
 #include <tmmintrin.h>  // SSSE3
 
@


1.2
log
@Major update to thunderbird 38.0.1/lightning 4.0.

- See https://www.mozilla.org/en-US/thunderbird/38.0.1/releasenotes/
- Fixes MFSA 2015-59,63,66,67,70,71
- We keep lightning optional by moving it out of the distributions/ dir,
  this way we ensure updates are done from the port (no xpi are provided
upstream for openbsd anyway, so updates wouldnt work)
- Switch i386 to build with clang
- Remove libvpx hack & patches
- Remove useless patches

Been using the betas since a while without major issue, this will ensure
it gets proper testing/dogfooding - since my call for testing on ports@@
lead to .. not much feedback. Note that the first bugfix 38.1.0 release
is already around the corner.
@
text
@d1 1
a1 1
$OpenBSD: patch-mozilla_gfx_skia_trunk_src_opts_SkBitmapProcState_opts_SSSE3_cpp,v 1.1 2014/07/24 18:24:03 landry Exp $
@


1.1
log
@Update to thunderbird 31.0/lightning 3.3.

- See https://www.mozilla.org/en-US/thunderbird/31.0/releasenotes/
- Fixes MFSA 2014-56->66 (except 60)
- Move i386 to build with gcc to be in sync with other mozillas
- Remove patch-mozilla_content_media_gstreamer_GStreamerLoader_cpp,
  merged (#927898)
- Remove patch-mozilla_ipc_chromium_src_base_debug_util_posix_cc,
  merged(#927810)
- Remove patch-mozilla_ipc_chromium_src_base_dir_reader_bsd_h, merged
  (#909005)
- Remove patch-mozilla_js_src_ctypes_libffi_configure and
  patch-mozilla_js_src_ctypes_libffi_src_x86_freebsd_S, merged (#928381)
- Add patch-mozilla_media_libvpx_Makefile_in for libvpx hack on
  amd64/clang (#982693)
- Add patch-mozilla_gfx_skia_moz_build &
  patch-mozilla_gfx_skia_trunk_src_opts_SkBitmapProcState_opts_SSSE3_cpp
to fix build on i386 (#1028827)

Tested at least with 28.0b1, 30.0b1, 31.0b1 and 31.0b2 during this cycle..
and even starts on sparc64!

ok sthen@@ jasper@@ naddy@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 5
a7 5
--- mozilla/gfx/skia/trunk/src/opts/SkBitmapProcState_opts_SSSE3.cpp.orig	Fri Jul 18 02:05:21 2014
+++ mozilla/gfx/skia/trunk/src/opts/SkBitmapProcState_opts_SSSE3.cpp	Thu Jul 24 20:20:59 2014
@@@@ -14,7 +14,7 @@@@
  * if the device does not support SSSE3 then the compiler will not supply the required
  * -mssse3 option needed to build this file, so instead we provide a stub implementation.
d9 2
a10 2
-#if !defined(SK_BUILD_FOR_ANDROID_FRAMEWORK) || SK_CPU_SSE_LEVEL >= SK_CPU_SSE_LEVEL_SSSE3
+#if SK_CPU_SSE_LEVEL >= SK_CPU_SSE_LEVEL_SSSE3
@

