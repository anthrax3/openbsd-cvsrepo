head	1.5;
access;
symbols
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.0.4
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2011.12.08.02.25.59;	author nigel;	state dead;
branches;
next	1.4;

1.4
date	2011.10.03.21.07.05;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2011.08.23.20.19.33;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2011.07.24.07.10.12;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2010.07.27.17.01.16;	author landry;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update thunderbird v7.0.1 to v8.0, enigmail v1.3.4, lightning
@
text
@$OpenBSD: patch-mozilla_content_events_src_nsContentEventHandler_cpp,v 1.4 2011/10/03 21:07:05 landry Exp $
--- mozilla/content/events/src/nsContentEventHandler.cpp.orig	Wed Aug 31 23:36:15 2011
+++ mozilla/content/events/src/nsContentEventHandler.cpp	Thu Sep  1 10:23:16 2011
@@@@ -1096,7 +1096,8 @@@@ nsContentEventHandler::OnSelectionEvent(nsSelectionEve
   selPrivate->EndBatchChanges();
   NS_ENSURE_SUCCESS(rv, rv);
 
-  nsCOMPtr<nsISelection2>(do_QueryInterface(mSelection))->ScrollIntoView(
+  nsCOMPtr<nsISelection2> sel2 = do_QueryInterface(mSelection);
+  sel2->ScrollIntoView(
       nsISelectionController::SELECTION_FOCUS_REGION, PR_FALSE, -1, -1);
   aEvent->mSucceeded = PR_TRUE;
   return NS_OK;
@


1.4
log
@Update to thunderbird 7.0.1/lightning 1.0beta6.
@
text
@d1 1
a1 1
$OpenBSD: patch-mozilla_content_events_src_nsContentEventHandler_cpp,v 1.3 2011/08/23 20:19:33 landry Exp $
@


1.3
log
@Update to thunderbird 6.0/lightning 1.0b5/enigmail 1.3.
See https://www.mozilla.org/en-US/thunderbird/6.0/releasenotes/
- remove patches merged upstream
- Add a missing patch from firefox for plugin path
- Add a hack to fix ui hangs with enigmail, better solution worked on in
  #681026
testing, feedback & enigmail update from nigel@@, thanks!
@
text
@d1 4
a4 4
$OpenBSD: patch-mozilla_content_events_src_nsContentEventHandler_cpp,v 1.2 2011/07/24 07:10:12 landry Exp $
--- mozilla/content/events/src/nsContentEventHandler.cpp.orig	Fri Jul 15 07:51:19 2011
+++ mozilla/content/events/src/nsContentEventHandler.cpp	Sun Jul 31 22:20:15 2011
@@@@ -1028,7 +1028,8 @@@@ nsContentEventHandler::OnSelectionEvent(nsSelectionEve
@


1.2
log
@Update to thunderbird 5.0, based on Gecko 5. See for details :
http://www.mozilla.org/en-US/thunderbird/5.0/releasenotes/
- sync ipc patches from firefox
- install under lib/thunderbird-5.0 instead of using the handmade
  install target
- remove a bunch of pointless patches
Been running with it since a while, tested by a few on ports@@, thanks!
@
text
@d1 4
a4 4
$OpenBSD: patch-mozilla_content_events_src_nsContentEventHandler_cpp,v 1.1 2010/07/27 17:01:16 landry Exp $
--- mozilla/content/events/src/nsContentEventHandler.cpp.orig	Mon Mar 14 14:57:11 2011
+++ mozilla/content/events/src/nsContentEventHandler.cpp	Mon Mar 14 22:10:04 2011
@@@@ -1029,7 +1029,8 @@@@ nsContentEventHandler::OnSelectionEvent(nsSelectionEve
@


1.1
log
@Update to thunderbird 3.1.1, tested by a few people on ports@@ (and myself...)
Merge patches for 1.9.2 mozilla branch from firefox 3.6.x port.
While here, build lightning as a subpackage using --enable-calendar.
Add @@pkgpath/@@conflict markers for seamless upgrades.
@
text
@d1 4
a4 4
$OpenBSD$
--- mozilla/content/events/src/nsContentEventHandler.cpp.orig	Wed Jul  7 09:03:49 2010
+++ mozilla/content/events/src/nsContentEventHandler.cpp	Wed Jul  7 09:04:13 2010
@@@@ -928,7 +928,8 @@@@ nsContentEventHandler::OnSelectionEvent(nsSelectionEve
d8 2
a9 2
-  nsCOMPtr<nsISelection2>(do_QueryInterface(sel))->ScrollIntoView(
+  nsCOMPtr<nsISelection2> sel2 = do_QueryInterface(sel);
@

