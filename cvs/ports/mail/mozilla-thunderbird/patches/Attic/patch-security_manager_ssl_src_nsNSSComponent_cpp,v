head	1.4;
access;
symbols
	OPENBSD_4_7:1.3.0.4
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.2.0.4
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.1.0.4
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.2
	OPENBSD_4_2_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2010.04.03.09.26.46;	author landry;	state dead;
branches;
next	1.3;

1.3
date	2009.06.23.17.05.00;	author martynas;	state Exp;
branches;
next	1.2;

1.2
date	2008.07.24.10.10.34;	author martynas;	state Exp;
branches;
next	1.1;

1.1
date	2007.04.30.22.40.31;	author martynas;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Major update to mozilla-thunderbird 3.0.4. See for details:
http://www.mozillamessaging.com/en-US/thunderbird/3.0.4/releasenotes/
Backing up your profile before upgrading is recommended..
Update largely based on www/firefox35 port, tested on
i386/amd64/sparc64/powerpc by myself and alpha by naddy@@.

ok naddy@@
@
text
@$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.3 2009/06/23 17:05:00 martynas Exp $
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Tue Apr  7 22:14:51 2009
+++ security/manager/ssl/src/nsNSSComponent.cpp	Tue Jun 23 15:12:49 2009
@@@@ -756,11 +756,10 @@@@ nsNSSComponent::InstallLoadableRoots()
       return;
 
     const char *possible_ckbi_locations[] = {
+      0, // This special value means: 
+         //   search for ckbi in the the system NSS_LIBDIR
       NS_GRE_DIR,
-      NS_XPCOM_CURRENT_PROCESS_DIR,
-      0 // This special value means: 
-        //   search for ckbi in the directories on the shared
-        //   library/DLL search path
+      NS_XPCOM_CURRENT_PROCESS_DIR
     };
 
     for (size_t il = 0; il < sizeof(possible_ckbi_locations)/sizeof(const char*); ++il) {
@@@@ -769,7 +768,7 @@@@ nsNSSComponent::InstallLoadableRoots()
 
       if (!possible_ckbi_locations[il])
       {
-        fullModuleName = PR_GetLibraryName(nsnull, "nssckbi");
+        fullModuleName = PR_GetLibraryName(NSS_LIBDIR, "nssckbi");
       }
       else
       {
@


1.3
log
@http://www.mozilla.org/security/known-vulnerabilities/thunderbird20.html#thunderbird2.0.0.22
@
text
@d1 1
a1 1
$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.2 2008/07/24 10:10:34 martynas Exp $
@


1.2
log
@security update to mozilla-thunderbird-2.0.0.16.  MFSA 2008-34;
MFSA 2008-33; MFSA 2008-31; MFSA 2008-29; MFSA 2008-26; MFSA 2008-25;
MFSA 2008-24; MFSA 2008-21.
see http://www.mozilla.org/security/known-vulnerabilities/thunderbird20.html#thunderbird2.0.0.16
"just be bold and commit it" naddy@@
@
text
@d1 4
a4 4
$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.1 2007/04/30 22:40:31 martynas Exp $
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Tue Jul  1 01:54:11 2008
+++ security/manager/ssl/src/nsNSSComponent.cpp	Wed Jul 23 17:54:17 2008
@@@@ -702,11 +702,10 @@@@ nsNSSComponent::InstallLoadableRoots()
d19 1
a19 1
@@@@ -715,7 +714,7 @@@@ nsNSSComponent::InstallLoadableRoots()
@


1.1
log
@major update to mozilla-thunderbird-2.0.0.0. also:
- use official branding;
- external nss;
- don't force optimizations;
- make it work with misc/mozilla-dicts;
tested by many, including ajacoutot@@, ian@@, matthieu@@, Mike Erdely, Niko
Itajarvi, Simon Kuhnle
input/ok kurt@@, wilfried@@
@
text
@d1 4
a4 4
$OpenBSD$
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Mon May 15 21:24:30 2006
+++ security/manager/ssl/src/nsNSSComponent.cpp	Wed Jan 10 18:13:16 2007
@@@@ -699,11 +699,10 @@@@ nsNSSComponent::InstallLoadableRoots()
d19 1
a19 1
@@@@ -712,7 +711,7 @@@@ nsNSSComponent::InstallLoadableRoots()
@

