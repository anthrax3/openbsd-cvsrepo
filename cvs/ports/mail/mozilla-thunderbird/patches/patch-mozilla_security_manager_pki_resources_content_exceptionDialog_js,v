head	1.6;
access;
symbols
	OPENBSD_6_1:1.6.0.8
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.6.0.6
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.6
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.4
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.2
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.4.0.4
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.2.0.6
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.4
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.0.4
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2015.07.05.20.18.06;	author landry;	state Exp;
branches;
next	1.5;
commitid	kn9BcWVt83FWb3H2;

1.5
date	2013.09.19.13.37.52;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2012.11.24.10.32.42;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2012.09.01.14.22.45;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2011.07.24.07.10.12;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2010.04.03.09.26.46;	author landry;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Major update to thunderbird 38.0.1/lightning 4.0.

- See https://www.mozilla.org/en-US/thunderbird/38.0.1/releasenotes/
- Fixes MFSA 2015-59,63,66,67,70,71
- We keep lightning optional by moving it out of the distributions/ dir,
  this way we ensure updates are done from the port (no xpi are provided
upstream for openbsd anyway, so updates wouldnt work)
- Switch i386 to build with clang
- Remove libvpx hack & patches
- Remove useless patches

Been using the betas since a while without major issue, this will ensure
it gets proper testing/dogfooding - since my call for testing on ports@@
lead to .. not much feedback. Note that the first bugfix 38.1.0 release
is already around the corner.
@
text
@$OpenBSD: patch-mozilla_security_manager_pki_resources_content_exceptionDialog_js,v 1.5 2013/09/19 13:37:52 landry Exp $
--- mozilla/security/manager/pki/resources/content/exceptionDialog.js.orig	Wed Mar 11 08:56:41 2015
+++ mozilla/security/manager/pki/resources/content/exceptionDialog.js	Thu Mar 19 21:22:24 2015
@@@@ -234,6 +234,7 @@@@ function updateCertStatus() {
 
       // In these cases, we do want to enable the "Add Exception" button
       gDialog.getButton("extra1").disabled = false;
+      gDialog.getButton("extra1").focus();
 
       // If the Private Browsing service is available and the mode is active,
       // don't store permanent exceptions, since they would persist after
@


1.5
log
@Update to thunderbird 24.0/lightning 2.6b3/enigmail 1.5.2.

- see https://www.mozilla.org/en-US/thunderbird/24.0/releasenotes/
- remove BROKEN-sparc64, it even works \o/
- switch to build with clang on i386/amd64 and gcc4.6 on ppc/sparc64/alpha
- dont link with systemwide jpeg anymore, needs libjpeg-turbo
- remove patch-gfx_thebes_gfxPlatform_cpp, was merged upstream in
  #722975 (and we dont build with system cairo anyway now)
- remove useless patch-parser_html_Makefile_in, maybe it made sense in
  the gcc 3 / ffx 3.6 days but those are over...
- remove patch-ldap_sdks_c-sdk_configure_in, merged in #720373
- remove patch-mozilla_ipc_chromium_src_base_atomicops_h, not needed anymore
- add patch-mozilla_ipc_chromium_src_base_dir_reader_bsd_h, should be
  needed now as on ffx/sm.
- remove libsydney audio patches \o/ - now uses cubeb with native sndio backend.
- shuffle enigmail patches for 1.5.2 as was done in seamonkey
- remove patch-mozilla_toolkit_system_gnome_nsGIOService_cpp (#805202)
- remove patch-mozilla_toolkit_xre_nsXREDirProvider_cpp and
patch-mozilla_xpcom_io_nsAppFileLocationProvider_cpp, merged upstream  (#803955)
@
text
@d1 4
a4 4
$OpenBSD: patch-mozilla_security_manager_pki_resources_content_exceptionDialog_js,v 1.4 2012/11/24 10:32:42 landry Exp $
--- mozilla/security/manager/pki/resources/content/exceptionDialog.js.orig	Wed May 22 19:39:00 2013
+++ mozilla/security/manager/pki/resources/content/exceptionDialog.js	Thu Jun 27 08:38:03 2013
@@@@ -263,6 +263,7 @@@@ function updateCertStatus() {
@


1.4
log
@Update to thunderbird 17.0/enigmail 1.4.6/lightning 1.9b1.

- see http://www.mozilla.org/en-US/thunderbird/17.0/releasenotes/ for details
- tidy up WANTLIB/CONFIGURE_ARGS
- enable the gio/libnotify interaction. If libnotify is found at
  runtime, a popup will show incoming messages notification.
- install an icon in pixmaps/ for the desktop file, like in ffx
- remove patch-mozilla_browser_app_profile_firefox_js, this is spar^Wthunderbird!
- for the other patches removed/added, same comments as for ffx apply
@
text
@d1 4
a4 4
$OpenBSD: patch-mozilla_security_manager_pki_resources_content_exceptionDialog_js,v 1.3 2012/09/01 14:22:45 landry Exp $
--- mozilla/security/manager/pki/resources/content/exceptionDialog.js.orig	Thu Oct 11 01:37:23 2012
+++ mozilla/security/manager/pki/resources/content/exceptionDialog.js	Sat Oct 20 10:56:54 2012
@@@@ -260,6 +260,7 @@@@ function updateCertStatus() {
@


1.3
log
@Update to thunderbird 15.0/lightning 1.7b1/enigmail 1.4.4.

- see http://www.mozilla.org/en-US/thunderbird/15.0/releasenotes/
- garbage collect nsSound.cpp, the original one uses libcanberra
properly and thus sndio.
- remove patch from #750620, merged upstream (mfbt/double-conversion)
- remove patches from #691898, merged upstream (yarr jit ppc)
- remove useless crashreporter patch, we don't have breakpad
- garbage collect sunbird.desktop since it's unlikely sunbird will ever
build from tb again..
@
text
@d1 5
a5 5
$OpenBSD: patch-mozilla_security_manager_pki_resources_content_exceptionDialog_js,v 1.2 2011/07/24 07:10:12 landry Exp $
--- mozilla/security/manager/pki/resources/content/exceptionDialog.js.orig	Sat Aug 25 02:31:28 2012
+++ mozilla/security/manager/pki/resources/content/exceptionDialog.js	Sat Sep  1 01:59:40 2012
@@@@ -249,6 +249,7 @@@@ function updateCertStatus() {
       
@


1.2
log
@Update to thunderbird 5.0, based on Gecko 5. See for details :
http://www.mozilla.org/en-US/thunderbird/5.0/releasenotes/
- sync ipc patches from firefox
- install under lib/thunderbird-5.0 instead of using the handmade
  install target
- remove a bunch of pointless patches
Been running with it since a while, tested by a few on ports@@, thanks!
@
text
@d1 4
a4 4
$OpenBSD: patch-mozilla_security_manager_pki_resources_content_exceptionDialog_js,v 1.1 2010/04/03 09:26:46 landry Exp $
--- mozilla/security/manager/pki/resources/content/exceptionDialog.js.orig	Fri Jan 14 23:21:51 2011
+++ mozilla/security/manager/pki/resources/content/exceptionDialog.js	Sun Feb 13 23:01:39 2011
@@@@ -283,6 +283,7 @@@@ function updateCertStatus() {
@


1.1
log
@Major update to mozilla-thunderbird 3.0.4. See for details:
http://www.mozillamessaging.com/en-US/thunderbird/3.0.4/releasenotes/
Backing up your profile before upgrading is recommended..
Update largely based on www/firefox35 port, tested on
i386/amd64/sparc64/powerpc by myself and alpha by naddy@@.

ok naddy@@
@
text
@d1 4
a4 4
$OpenBSD$
--- mozilla/security/manager/pki/resources/content/exceptionDialog.js.orig	Sat Dec  5 02:56:23 2009
+++ mozilla/security/manager/pki/resources/content/exceptionDialog.js	Sat Jan 16 16:28:36 2010
@@@@ -287,6 +287,7 @@@@ function updateCertStatus() {
@

