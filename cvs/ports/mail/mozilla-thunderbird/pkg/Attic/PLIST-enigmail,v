head	1.10;
access;
symbols
	OPENBSD_5_5:1.9.0.2
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.7.0.4
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.2
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.4
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.10
date	2014.03.24.21.23.28;	author landry;	state dead;
branches;
next	1.9;

1.9
date	2013.11.04.21.21.51;	author landry;	state Exp;
branches;
next	1.8;

1.8
date	2013.09.19.13.37.54;	author landry;	state Exp;
branches;
next	1.7;

1.7
date	2013.01.11.23.06.36;	author landry;	state Exp;
branches;
next	1.6;

1.6
date	2012.11.24.10.32.42;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2012.09.01.14.22.45;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2012.06.11.15.33.26;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2012.04.30.15.32.06;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2012.03.16.21.35.25;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2011.07.28.20.30.30;	author landry;	state Exp;
branches;
next	;


desc
@@


1.10
log
@Update to thunderbird 24.4.0.

- See http://www.mozilla.org/en-US/thunderbird/24.4.0/releasenotes/
- Fixes MFSA-2014-15->17,26->32
- Remove enigmail subpackage, build goo & patches, will be
  superseded by mail/enigmail,-main
- add an all-openbsd.js file to customize default preferences and
  install it in defaults/pref/. Use it to set
extensions.autoDisableScopes to 3, so that extensions installed in
${LOCALBASE}/lib/mozilla/extensions/${APPID} are enabled by default.
- remove patch-mailnews_base_search_src_nsMsgSearchTerm_cpp, merged in
  #885538
@
text
@@@comment $OpenBSD: PLIST-enigmail,v 1.9 2013/11/04 21:21:51 landry Exp $
@@conflict enigmail-<=1.2
@@pkgpath mail/enigmail/thunderbird
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/chrome/
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/chrome.manifest
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/chrome/enigmail.jar
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/enigMsgCompFields.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/enigmail.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/enigmail.xpt
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/enigprefs-service.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/mimeDecrypt.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/mimeEncrypt.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/defaults/
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/defaults/preferences/
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/defaults/preferences/enigmail.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/install.rdf
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/commonFuncs.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/enigmailCommon.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/keyManagement.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/mimeVerify.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/pipeConsole.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/subprocess.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/subprocess_worker_unix.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/subprocess_worker_win.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD_${XPCOM_ABI}-gcc3/
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD_${XPCOM_ABI}-gcc3/lib/
@@lib lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD_${XPCOM_ABI}-gcc3/lib/libsubprocess-${XPCOM_ABI}-gcc3.so.${LIBsubprocess-${XPCOM_ABI}-gcc3_VERSION}
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/wrappers/
lib/${MOZILLA_PROJECT}-${MOZILLA_VER}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/wrappers/gpg-agent-wrapper.sh
@


1.9
log
@:%s/_VERSION/_VER/ in PLISTs for consistency.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-enigmail,v 1.8 2013/09/19 13:37:54 landry Exp $
@


1.8
log
@Update to thunderbird 24.0/lightning 2.6b3/enigmail 1.5.2.

- see https://www.mozilla.org/en-US/thunderbird/24.0/releasenotes/
- remove BROKEN-sparc64, it even works \o/
- switch to build with clang on i386/amd64 and gcc4.6 on ppc/sparc64/alpha
- dont link with systemwide jpeg anymore, needs libjpeg-turbo
- remove patch-gfx_thebes_gfxPlatform_cpp, was merged upstream in
  #722975 (and we dont build with system cairo anyway now)
- remove useless patch-parser_html_Makefile_in, maybe it made sense in
  the gcc 3 / ffx 3.6 days but those are over...
- remove patch-ldap_sdks_c-sdk_configure_in, merged in #720373
- remove patch-mozilla_ipc_chromium_src_base_atomicops_h, not needed anymore
- add patch-mozilla_ipc_chromium_src_base_dir_reader_bsd_h, should be
  needed now as on ffx/sm.
- remove libsydney audio patches \o/ - now uses cubeb with native sndio backend.
- shuffle enigmail patches for 1.5.2 as was done in seamonkey
- remove patch-mozilla_toolkit_system_gnome_nsGIOService_cpp (#805202)
- remove patch-mozilla_toolkit_xre_nsXREDirProvider_cpp and
patch-mozilla_xpcom_io_nsAppFileLocationProvider_cpp, merged upstream  (#803955)
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-enigmail,v 1.7 2013/01/11 23:06:36 landry Exp $
d4 30
a33 30
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/chrome/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/chrome.manifest
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/chrome/enigmail.jar
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/enigMsgCompFields.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/enigmail.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/enigmail.xpt
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/enigprefs-service.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/mimeDecrypt.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/mimeEncrypt.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/defaults/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/defaults/preferences/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/defaults/preferences/enigmail.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/install.rdf
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/commonFuncs.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/enigmailCommon.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/keyManagement.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/mimeVerify.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/pipeConsole.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/subprocess.jsm
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/subprocess_worker_unix.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/subprocess_worker_win.js
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD_${XPCOM_ABI}-gcc3/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD_${XPCOM_ABI}-gcc3/lib/
@@lib lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD_${XPCOM_ABI}-gcc3/lib/libsubprocess-${XPCOM_ABI}-gcc3.so.${LIBsubprocess-${XPCOM_ABI}-gcc3_VERSION}
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/wrappers/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/wrappers/gpg-agent-wrapper.sh
@


1.7
log
@Update to thunderbird 17.0.2/enigmail 1.5.0.

Next major release will be tb 24, in synch with fx 24 - we track the
stable/bugfix releases (which are not ESR. Not sure this is very
clear..) Users interested in testing the beta releases (tracking fx
betas) can grab them from my git tree.

- Fixes MFSA 2013-01 -> 20
- remove enigmail genxpi patch, and to a SUBST_VARS dance with an
  XPCOM_ABI variable for the consistent naming of the new internal
libsuprocess ipc lib.
- add an enigmail patch to link with -shared, and remove a -Woption not
  recognized by our gcc.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-enigmail,v 1.6 2012/11/24 10:32:42 landry Exp $
a11 1
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/enigmime.xpt
a15 2
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/defaults/pref/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/defaults/pref/enigmail.js
a29 2
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD_${XPCOM_ABI}-gcc3/components/
@@lib lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD_${XPCOM_ABI}-gcc3/components/libenigmime-${XPCOM_ABI}-gcc3.so.${LIBenigmime-${XPCOM_ABI}-gcc3_VERSION}
d32 2
@


1.6
log
@Update to thunderbird 17.0/enigmail 1.4.6/lightning 1.9b1.

- see http://www.mozilla.org/en-US/thunderbird/17.0/releasenotes/ for details
- tidy up WANTLIB/CONFIGURE_ARGS
- enable the gio/libnotify interaction. If libnotify is found at
  runtime, a popup will show incoming messages notification.
- install an icon in pixmaps/ for the desktop file, like in ffx
- remove patch-mozilla_browser_app_profile_firefox_js, this is spar^Wthunderbird!
- for the other patches removed/added, same comments as for ffx apply
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-enigmail,v 1.5 2012/09/01 14:22:45 landry Exp $
a13 1
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/components/ipc.xpt
a27 1
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/pipeTransport.jsm
d32 5
a36 4
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD/components/
@@lib lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD/components/libenigmime.so.${LIBenigmime_VERSION}
@@lib lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/platform/OpenBSD/components/libipc.so.${LIBipc_VERSION}
@


1.5
log
@Update to thunderbird 15.0/lightning 1.7b1/enigmail 1.4.4.

- see http://www.mozilla.org/en-US/thunderbird/15.0/releasenotes/
- garbage collect nsSound.cpp, the original one uses libcanberra
properly and thus sndio.
- remove patch from #750620, merged upstream (mfbt/double-conversion)
- remove patches from #691898, merged upstream (yarr jit ppc)
- remove useless crashreporter patch, we don't have breakpad
- garbage collect sunbird.desktop since it's unlikely sunbird will ever
build from tb again..
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-enigmail,v 1.4 2012/06/11 15:33:26 landry Exp $
d15 2
d27 1
a27 1
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/modules/mimeDecrypt.jsm
@


1.4
log
@Update to thunderbird 13.0.

See https://www.mozilla.org/en-US/thunderbird/13.0/releasenotes/ for details
- update enigmail to 1.4.2, lightning to 1.5b1
- adapt Makefile to cope with SEPARATE_BUILD
- add a rpath hack in config/rules.mk, temporary workaround for #668869
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-enigmail,v 1.3 2012/04/30 15:32:06 landry Exp $
d25 1
@


1.3
log
@Update to thunderbird 12.0.1/Lightning 1.4b1/enigmail 1.5pre

See http://www.mozilla.org/en-US/thunderbird/12.0/releasenotes/

Same comments as for firefox 12, only to mention that .0.1 is a bugfix
release to fix POP issues introduced in 12.0. Tested by nigel@@ (thanks!)
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-enigmail,v 1.2 2012/03/16 21:35:25 landry Exp $
d26 1
@


1.2
log
@Update to thunderbird 11.0. (and enigmail 1.4/lightning 1.3b1)
- Fixes MFSA 2012-12->19
- see http://www.mozilla.org/en-US/thunderbird/11.0/releasenotes/ (but
  there's much more!)
- complete patchset for #691898, still fixes build on ppc (and hopefully
commited in firefox 14...)
- add patchset from #706955, workarounds #669050 (xpcshell hangs during
make install and chokes on CSPUtils.csm, threads related..)
- remove obsolete/commited patches
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-enigmail,v 1.1 2011/07/28 20:30:30 landry Exp $
d24 2
a33 3
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/wrappers/
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/wrappers/gpg-agent-wrapper.sh
lib/${MOZILLA_PROJECT}-${MOZILLA_VERSION}/extensions/{847b3a00-7ab1-11d4-8f02-006008948af5}/wrappers/gpg-wrapper.sh
@


1.1
log
@Merge enigmail/thunderbird port into thunderbird port so that enigmail
is built during thunderbird build, and packaged as a subpackage of
thunderbird, instead of building thunderbird twice...
add @@conflict/@@pkgpath markers to allow seamless updates from previous
enigmail packages.
Tested by nigel@@, ok naddy@@.
@
text
@d1 1
a1 1
@@comment $OpenBSD$
d25 2
@

