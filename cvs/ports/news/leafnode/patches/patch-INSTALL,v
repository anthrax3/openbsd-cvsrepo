head	1.13;
access;
symbols
	OPENBSD_6_2:1.13.0.14
	OPENBSD_6_2_BASE:1.13
	OPENBSD_6_1:1.13.0.12
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.13.0.10
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.13.0.6
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.8
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.13.0.4
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.13.0.2
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.12.0.22
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.20
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.12.0.18
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.12.0.16
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.14
	OPENBSD_5_0:1.12.0.12
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.12.0.10
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.12.0.8
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.6
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.12.0.4
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.12.0.2
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.11.0.12
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.11.0.10
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.11.0.8
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.11.0.6
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.4
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.11.0.2
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.10.0.2
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.8.0.4
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.8.0.2
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.6.0.2
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.2.0.2
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.1.0.6
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.4
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1
	OPENBSD_2_9:1.1.0.2
	OPENBSD_2_9_BASE:1.1;
locks; strict;
comment	@# @;


1.13
date	2014.03.25.12.23.36;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.02.12.13.33.07;	author giovanni;	state Exp;
branches;
next	1.11;

1.11
date	2005.11.24.20.06.32;	author sturm;	state Exp;
branches;
next	1.10;

1.10
date	2005.06.09.16.52.05;	author robert;	state Exp;
branches;
next	1.9;

1.9
date	2005.03.22.21.43.12;	author sturm;	state Exp;
branches;
next	1.8;

1.8
date	2004.06.14.05.06.20;	author sturm;	state Exp;
branches
	1.8.2.1
	1.8.4.1;
next	1.7;

1.7
date	2004.05.07.20.46.59;	author sturm;	state Exp;
branches;
next	1.6;

1.6
date	2003.11.08.21.55.50;	author sturm;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2003.06.23.19.11.10;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2003.05.21.06.51.43;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.01.21.16.58.11;	author marcm;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2002.09.24.00.24.19;	author marcm;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2001.02.24.18.04.55;	author fgsch;	state Exp;
branches
	1.1.6.1;
next	;

1.1.6.1
date	2003.01.28.19.11.52;	author marcm;	state Exp;
branches;
next	;

1.2.2.1
date	2003.01.22.07.02.47;	author marcm;	state Exp;
branches;
next	;

1.3.2.1
date	2003.06.01.04.05.06;	author marcm;	state Exp;
branches;
next	;

1.6.2.1
date	2005.05.06.14.46.44;	author robert;	state Exp;
branches;
next	;

1.8.2.1
date	2005.05.06.14.46.04;	author robert;	state Exp;
branches;
next	1.8.2.2;

1.8.2.2
date	2005.06.12.07.49.25;	author robert;	state Exp;
branches;
next	;

1.8.4.1
date	2005.06.12.07.49.55;	author robert;	state Exp;
branches;
next	;


desc
@@


1.13
log
@tcp wrappers are gone.
@
text
@$OpenBSD: patch-INSTALL,v 1.12 2009/02/12 13:33:07 giovanni Exp $
--- INSTALL.orig	Tue Apr 14 14:49:24 2009
+++ INSTALL	Tue Mar 25 13:21:54 2014
@@@@ -70,14 +70,14 @@@@ as sudo.
     the lock file (defaults to leaf.node/lock.file below the spooldir).
 
  ## Since 1.9.52, you can also configure the user and group account that
- ## leafnode switches to when started as "news", by means of the --with-user
+ ## leafnode switches to when started as "_news", by means of the --with-user
  ## and --with-group options. DO MAKE SURE that the --with-user is a member of
  ## the group you give to the --with-group option (on most systems, the "id" or
  ## "groups" command with a user account name should tell you what groups the
  ## user is in.)
 
     NOTE: DO MAKE SURE that the lock file is in a directory that is writable by
-    the user "news". Leafnode will have dropped root privileges when it tries
+    the user "_news". Leafnode will have dropped root privileges when it tries
     to obtain the lock file, and it needs write access. The new default (as of
     1.9.37) should be fine in most cases.
 
@@@@ -100,11 +100,11 @@@@ as sudo.
 
 3a. (as root) Create a "news" group if you don't have one.
 
-3b. (as root) Create a "news" user if you don't have one. Its primary group
+3b. (as root) Create a "_news" user if you don't have one. Its primary group
     should be "news", with no supplemental groups.
 
 3c. (as root) Create an alias in your mail system to forward mail addressed to
-    "news" to the real user who looks after leafnode.
+    "_news" to the real user who looks after leafnode.
 
     If you run qmail: get and install the fastforward package.
     It is available from qmail distribution sites.
@@@@ -112,7 +112,7 @@@@ as sudo.
     Common choices are Postfix, Exim and Courier.
 
     Find your aliases file (/etc/aliases or /etc/mail/aliases), add a line
-    "news: joe" (assuming joe looks after your leafnode) and then type
+    "_news: joe" (assuming joe looks after your leafnode) and then type
 
 	newaliases.
 
@@@@ -165,17 +165,17 @@@@ as sudo.
     different postings clash and other troubles. See one of the README-FQDN*
     files for details.
 
-8.  (as news) Set up a cron job to run texpire every night or at least every
+8.  (as _news) Set up a cron job to run texpire every night or at least every
     week.  Here is my crontab line, which runs nightly:
 
     0 4 * * * /usr/local/sbin/texpire
 
-    On some systems, you may need to allow the user "news" to install/edit
+    On some systems, you may need to allow the user "_news" to install/edit
     crontabs, some of these use the file /etc/cron.allow to store this
     information. Check the information for your cron system, man cron or man
     crontab should provide you with details.
 
-    I did "su news -c 'crontab -e'" as root to edit the crontab file, and added
+    I did "su _news -c 'crontab -e'" as root to edit the crontab file, and added
     this line.  Substituting "1" for the third "*", thus:
 
     0 4 * * 1 /usr/local/sbin/texpire
@@@@ -184,9 +184,9 @@@@ as sudo.
     details.
 
 9.  Make sure fetchnews is run at the appropriate time.  If you have a
-    full-time link, run it from cron (as "news" again), if not, run it when
+    full-time link, run it from cron (as "_news" again), if not, run it when
     your connection to the net is established.  If it is run as root, it will
-    change its user ID to "news" automatically. If you use PPP, you can
+    change its user ID to "_news" automatically. If you use PPP, you can
     probably run fetchnews from /etc/ppp/ip-up.local or /etc/ppp/ip-up.
 
 10. (as root) Edit /etc/hosts.deny to add a line:
@@@@ -221,31 +221,21 @@@@ as sudo.
        configuration file for inetd is usually /etc/inetd.conf or
        /etc/inet/inetd.conf.
 
-    b) Then, xinetd has joined in and is now the default on Red Hat and
-       SUSE Linux, it is described in section 11b.
-
-    c) Another possibility is to use Dan J. Bernstein's daemontools and
+    b) Another possibility is to use Dan J. Bernstein's daemontools and
        ucspi-tcp packages, but like all DJB-ware, their installation is easy,
        but different from that of most other packages. The installation is
-       described in section 11c (automatic) and 11d (manual).
+       described in section 11b (automatic) and 11c (manual).
 
-11a.ONLY WHEN USING INETD (Beware, many systems ship xinetd nowadays, see
-    section 11b below instead.)
+11a.ONLY WHEN USING INETD
 
     (as root) Edit /etc/inetd.conf so that $(BINDIR)/leafnode is executed for
     incoming NNTP connections.  Here is my inetd.conf line (insert it at the
     leftmost column, without leading spaces!):
 
-    nntp stream tcp nowait news /usr/sbin/tcpd /usr/local/sbin/leafnode
+    nntp stream tcp nowait _news /usr/local/sbin/leafnode leafnode
 
-    This starts leafnode for all connections on the nntp port, subject to
-    /etc/hosts.allow and /etc/hosts.deny screening.  If you don't have
-    /usr/sbin/tcpd, fetch the tcp_wrappers package and install it.
-
-    Using leafnode without tcpd is not supported and opens your computer to
-    abuse (even happens on modem lines that are only connected during the
-    fetch!)
-
+    This starts leafnode for all connections on the nntp port.
+    
     After these changes, force inetd to read the changed configuration file by
     sending it the HANGUP signal. To achieve this, issue the following command
     (as root):
@@@@ -254,51 +244,8 @@@@ as sudo.
 
     Proceed to step #12.
 
-11b.ONLY WHEN USING XINETD
-    (as root)
+11b. (as root) AUTOMATIC INSTALLATION WITH DAEMONTOOLS AND UCSPI-TCP
 
-    xinetd versions before 2.3.10 are not supported. It may or may not work for
-    you with older versions.
-
-    More documentation is available in the xinetd and xinetd.conf manual pages.
-    Try man xinetd.
-
-     a. check if your /etc/xinetd.conf has a "includedir /etc/xinetd.d" line.
-	If it has, store the configuration snippet below as
-	/etc/xinetd.d/leafnode. If your xinetd.conf does NOT have that
-	includedir line, append the configuration snippet to your
-	/etc/xinetd.conf.
-
-     b. After you have figured which of the two files to edit (or create), add
-	this to the xinetd configuration file:
-
-	service nntp
-	{
-	    flags           = NAMEINARGS NOLIBWRAP
-	    socket_type     = stream
-	    protocol        = tcp
-	    wait            = no
-	    user            = news
-	    server          = /usr/sbin/tcpd
-	    server_args     = /usr/local/sbin/leafnode
-	    instances       = 7
-	    per_source      = 3
-	}
-
-    This allows at most 7 leafnode connections. At most 3 connections are
-    allowed from the same client host at the same time. Adjust these figures if
-    necessary.
-
-    Send xinetd a USR2 or HUP signal (check the documentation which one you
-    need, it depends on the xinetd version) to make it re-read its
-    configuration.  Figure its PID with ps ax | egrep '[x]inetd' on Linux or
-    *BSD or ps -ef | egrep '[x]inetd' on SysV machines (Solaris), then do:
-    kill -s USR2 12345, replacing 12345 with the PID you just found out.
-
-    Proceed to step #12.
-
-11c. (as root) AUTOMATIC INSTALLATION WITH DAEMONTOOLS AND UCSPI-TCP
-
     Scope: this installation will configure to run tcpserver for leafnode, with
     native ("tcprules") access control that (by default) allows connections
     from 127.0.0.1 and listens on that address.
@@@@ -320,7 +267,7 @@@@ as sudo.
     c. Configuration hints that relate to this setup (listening IP,
        access control, maximum number of clients) are in README-daemontools.
 
-11d. (as root) MANUAL INSTALLATION WITH DAEMONTOOLS AND UCSPI-TCP
+11c. (as root) MANUAL INSTALLATION WITH DAEMONTOOLS AND UCSPI-TCP
     a. Before you can proceed, you need to install Dan J. Bernstein's
        daemontools and ucspi-tcp, available from
        http://cr.yp.to/daemontools.html and http://cr.yp.to/ucspi-tcp.html --
@@@@ -349,7 +296,7 @@@@ as sudo.
        #! /bin/sh
        exec 2>&1
        exec /usr/local/bin/tcpserver -c10 -l0 -H -v 127.0.0.1 119 \
-       /usr/local/bin/setuidgid news /usr/local/bin/argv0 /usr/sbin/tcpd \
+       /usr/local/bin/setuidgid _news /usr/local/bin/argv0 /usr/libexec/tcpd \
        /usr/local/sbin/leafnode
 
        You may need to adjust the paths if your software is in a non-standard
@@@@ -365,7 +312,7 @@@@ as sudo.
        exec 2>&1
        exec /usr/local/bin/tcpserver -c10 -l0 -H -v -x nntp.cdb \
        127.0.0.1 119 \
-       /usr/local/bin/setuidgid news /usr/local/sbin/leafnode
+       /usr/local/bin/setuidgid _news /usr/local/sbin/leafnode
 
        As above, adjust the paths and the IP.
 
@@@@ -400,7 +347,7 @@@@ as sudo.
     svscan should notice the new leafnode service within 5 seconds and
     start it.
 
-12. (as root or news) Run fetchnews.  The first run will take some time since
+12. (as root or _news) Run fetchnews.  The first run will take some time since
     fetchnews reads a list of all newsgroups from your upstream server.  With
     an 28.8 modem, it can take as long as 60 minutes (depending on how many
     newsgroups your provider offers). To see fetchnews working, run it with
@@@@ -427,7 +374,7 @@@@ as sudo.
     After this, you should have empty files in
     /var/spool/news/interesting.groups/ for every group you want to read.
 
-14. (as root or news) Run fetchnews again. This run should pick up all the
+14. (as root or _news) Run fetchnews again. This run should pick up all the
     groups you want to read.
 
 15. Note: for access from remote sites, outside of your LAN, additional
@


1.12
log
@
Update to 1.11.6
Tweaks and ok by jasper@@
@
text
@d1 3
a3 3
$OpenBSD: patch-INSTALL,v 1.11 2005/11/24 20:06:32 sturm Exp $
--- INSTALL.orig	Sun Feb 25 12:28:08 2007
+++ INSTALL	Sun Feb  8 10:28:54 2009
d77 19
a95 1
@@@@ -236,12 +236,11 @@@@ as sudo.
d100 1
a100 1
+    nntp stream tcp nowait _news /usr/libexec/tcpd /usr/local/sbin/leafnode
d102 1
a102 1
     This starts leafnode for all connections on the nntp port, subject to
d106 5
a110 1
+    /etc/hosts.allow and /etc/hosts.deny screening.
d112 32
a143 7
     Using leafnode without tcpd is not supported and opens your computer to
     abuse (even happens on modem lines that are only connected during the
     fetch!)
@@@@ -278,8 +277,8 @@@@ as sudo.
 	    socket_type     = stream
 	    protocol        = tcp
 	    wait            = no
d146 32
a177 6
+	    user            = _news
+	    server          = /usr/libexec/tcpd
 	    server_args     = /usr/local/sbin/leafnode
 	    instances       = 7
 	    per_source      = 3
@@@@ -349,7 +348,7 @@@@ as sudo.
d186 1
a186 1
@@@@ -365,7 +364,7 @@@@ as sudo.
d195 1
a195 1
@@@@ -400,7 +399,7 @@@@ as sudo.
d204 1
a204 1
@@@@ -427,7 +426,7 @@@@ as sudo.
@


1.11
log
@update to leafnode 1.11.4

from maintainer rohee@@
@
text
@d1 12
a12 4
$OpenBSD: patch-INSTALL,v 1.10 2005/06/09 16:52:05 robert Exp $
--- INSTALL.orig	Tue Jun  7 16:13:18 2005
+++ INSTALL	Thu Nov 24 20:59:28 2005
@@@@ -77,7 +77,7 @@@@ as sudo.
d21 1
a21 1
@@@@ -98,16 +98,16 @@@@ as sudo.
d23 1
a23 1
     All tests must pass, otherwise, ask on the leafnode mailing list for help.
d25 3
a27 2
-3a. (as root) Create a "news" user if you don't have one.
+3a. (as root) Create a "_news" user if you don't have one.
d29 1
a29 1
 3b. (as root) Create an alias in your mail system to forward mail addressed to
d35 2
d44 1
a44 1
@@@@ -160,12 +160,12 @@@@ as sudo.
d54 9
a62 3
-    I did "crontab -u news -e" as root to edit the crontab file, and added this
+    I did "crontab -u _news -e" as root to edit the crontab file, and added this
     line.  Substituting "1" for the third "*", thus:
d65 1
a65 1
@@@@ -174,9 +174,9 @@@@ as sudo.
d77 1
a77 1
@@@@ -225,12 +225,11 @@@@ as sudo.
d82 1
a82 1
+    nntp stream tcp nowait _news /usr/sbin/tcpd /usr/local/sbin/leafnode
d93 1
a93 1
@@@@ -267,7 +266,7 @@@@ as sudo.
d98 1
d100 1
a100 1
 	    server          = /usr/sbin/tcpd
d103 2
a104 1
@@@@ -333,7 +332,7 @@@@ as sudo.
d109 1
a109 1
+       /usr/local/bin/setuidgid _news /usr/local/bin/argv0 /usr/sbin/tcpd \
d113 1
a113 1
@@@@ -349,7 +348,7 @@@@ as sudo.
d122 1
a122 1
@@@@ -384,7 +383,7 @@@@ as sudo.
d131 1
a131 1
@@@@ -411,7 +410,7 @@@@ as sudo.
@


1.10
log
@SECURITY: update to 1.11.3
fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/3f283964-d905-11d9-b5e0-00065bd5b0b6.html

ok rohee@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
+++ INSTALL	Thu Jun  9 18:33:51 2005
@@@@ -77,7 +77,7 @@@@
d13 1
a13 1
@@@@ -98,16 +98,16 @@@@
d33 1
a33 1
@@@@ -160,12 +160,12 @@@@
d48 1
a48 1
@@@@ -174,9 +174,9 @@@@
d60 1
a60 1
@@@@ -225,12 +225,11 @@@@
d76 1
a76 1
@@@@ -267,7 +266,7 @@@@
d85 1
a85 1
@@@@ -333,7 +332,7 @@@@
d94 1
a94 1
@@@@ -349,7 +348,7 @@@@
d103 1
a103 1
@@@@ -384,7 +383,7 @@@@
d112 1
a112 1
@@@@ -411,7 +410,7 @@@@
@


1.9
log
@update to leafnode 1.11.0, which brings support for ipv6 in fetchnews

from maintainer rohee@@
@
text
@d1 4
a4 5
$OpenBSD: patch-INSTALL,v 1.8 2004/06/14 05:06:20 sturm Exp $

--- INSTALL.orig	Mon Feb 28 02:59:55 2005
+++ INSTALL	Tue Mar 22 22:22:40 2005
@@@@ -74,7 +74,7 @@@@ as sudo.
d13 1
a13 1
@@@@ -95,16 +95,16 @@@@ as sudo.
d24 2
a25 2
     If you run qmail: get and install the fastforward package. It is available
     from qmail distribution sites.
d33 7
a39 7
@@@@ -156,12 +156,12 @@@@ as sudo.
     discarded at the upstream server, posts being discarded when Message-IDs of
     different postings clash and other troubles.
 
-8.  (as news) Set up a cron job to run texpire every night or maybe every week.
+8.  (as _news) Set up a cron job to run texpire every night or maybe every week.
     Here is my crontab line, which runs nightly:
d48 1
a48 1
@@@@ -170,9 +170,9 @@@@ as sudo.
d60 1
a60 1
@@@@ -220,11 +220,10 @@@@ as sudo.
d65 1
a65 1
+    nntp stream tcp nowait _news /usr/libexec/tcpd /usr/local/sbin/leafnode
d70 1
d72 1
a72 1
 
d75 2
a76 1
@@@@ -262,7 +261,7 @@@@ as sudo.
d85 1
a85 1
@@@@ -328,7 +327,7 @@@@ as sudo.
d94 1
a94 1
@@@@ -344,7 +343,7 @@@@ as sudo.
d103 1
a103 1
@@@@ -379,7 +378,7 @@@@ as sudo.
d112 1
a112 1
@@@@ -406,7 +405,7 @@@@ as sudo.
@


1.8
log
@update to leafnode 1.10.0

from maintainer rohee@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 3
a5 3
--- INSTALL.orig	2004-06-02 12:07:40.000000000 +0200
+++ INSTALL	2004-06-13 18:40:54.000000000 +0200
@@@@ -80,7 +80,7 @@@@ as sudo.
d14 1
a14 1
@@@@ -101,16 +101,16 @@@@ as sudo.
d34 1
a34 1
@@@@ -162,12 +162,12 @@@@ as sudo.
d49 1
a49 1
@@@@ -176,9 +176,9 @@@@ as sudo.
d61 1
a61 1
@@@@ -226,11 +226,10 @@@@ as sudo.
d75 1
a75 1
@@@@ -268,7 +267,7 @@@@ as sudo.
d84 1
a84 1
@@@@ -334,7 +333,7 @@@@ as sudo.
d93 1
a93 1
@@@@ -350,7 +349,7 @@@@ as sudo.
d102 1
a102 1
@@@@ -385,7 +384,7 @@@@ as sudo.
d111 1
a111 1
@@@@ -412,7 +411,7 @@@@ as sudo.
@


1.8.4.1
log
@SECURITY: update to 1.11.3
fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/3f283964-d905-11d9-b5e0-00065bd5b0b6.html

ok brad@@
@
text
@d2 4
a5 3
--- INSTALL.orig	Tue Jun  7 16:13:18 2005
+++ INSTALL	Thu Jun  9 18:33:51 2005
@@@@ -77,7 +77,7 @@@@
d14 1
a14 1
@@@@ -98,16 +98,16 @@@@
d25 2
a26 2
     If you run qmail: get and install the fastforward package.
     It is available from qmail distribution sites.
d34 7
a40 7
@@@@ -160,12 +160,12 @@@@
     different postings clash and other troubles. See one of the README-FQDN*
     files for details.
 
-8.  (as news) Set up a cron job to run texpire every night or at least every
+8.  (as _news) Set up a cron job to run texpire every night or at least every
     week.  Here is my crontab line, which runs nightly:
d49 1
a49 1
@@@@ -174,9 +174,9 @@@@
d61 1
a61 1
@@@@ -225,12 +225,11 @@@@
d66 1
a66 1
+    nntp stream tcp nowait _news /usr/sbin/tcpd /usr/local/sbin/leafnode
a70 1
-
d72 1
a72 1
+    
d75 1
a75 2
     fetch!)
@@@@ -267,7 +266,7 @@@@
d84 1
a84 1
@@@@ -333,7 +332,7 @@@@
d93 1
a93 1
@@@@ -349,7 +348,7 @@@@
d102 1
a102 1
@@@@ -384,7 +383,7 @@@@
d111 1
a111 1
@@@@ -411,7 +410,7 @@@@
@


1.8.2.1
log
@SECURITY:
update to 1.11.2; fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/92248e4e-bd88-11d9-985a-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
$OpenBSD: patch-INSTALL,v 1.8 2004/06/14 05:06:20 sturm Exp $
d3 3
a5 3
--- INSTALL.orig	Mon Feb 28 02:59:55 2005
+++ INSTALL	Thu May  5 22:11:47 2005
@@@@ -74,7 +74,7 @@@@ as sudo.
d14 1
a14 1
@@@@ -95,16 +95,16 @@@@ as sudo.
d34 1
a34 1
@@@@ -156,12 +156,12 @@@@ as sudo.
d49 1
a49 1
@@@@ -170,9 +170,9 @@@@ as sudo.
d61 1
a61 1
@@@@ -220,11 +220,10 @@@@ as sudo.
d75 1
a75 1
@@@@ -262,7 +261,7 @@@@ as sudo.
d84 1
a84 1
@@@@ -328,7 +327,7 @@@@ as sudo.
d93 1
a93 1
@@@@ -344,7 +343,7 @@@@ as sudo.
d102 1
a102 1
@@@@ -379,7 +378,7 @@@@ as sudo.
d111 1
a111 1
@@@@ -406,7 +405,7 @@@@ as sudo.
@


1.8.2.2
log
@SECURITY: update to 1.11.3
fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/3f283964-d905-11d9-b5e0-00065bd5b0b6.html

ok brad@@
@
text
@d1 5
a5 4
$OpenBSD$
--- INSTALL.orig	Tue Jun  7 16:13:18 2005
+++ INSTALL	Thu Jun  9 18:33:51 2005
@@@@ -77,7 +77,7 @@@@
d14 1
a14 1
@@@@ -98,16 +98,16 @@@@
d25 2
a26 2
     If you run qmail: get and install the fastforward package.
     It is available from qmail distribution sites.
d34 7
a40 7
@@@@ -160,12 +160,12 @@@@
     different postings clash and other troubles. See one of the README-FQDN*
     files for details.
 
-8.  (as news) Set up a cron job to run texpire every night or at least every
+8.  (as _news) Set up a cron job to run texpire every night or at least every
     week.  Here is my crontab line, which runs nightly:
d49 1
a49 1
@@@@ -174,9 +174,9 @@@@
d61 1
a61 1
@@@@ -225,12 +225,11 @@@@
d66 1
a66 1
+    nntp stream tcp nowait _news /usr/sbin/tcpd /usr/local/sbin/leafnode
a70 1
-
d72 1
a72 1
+    
d75 1
a75 2
     fetch!)
@@@@ -267,7 +266,7 @@@@
d84 1
a84 1
@@@@ -333,7 +332,7 @@@@
d93 1
a93 1
@@@@ -349,7 +348,7 @@@@
d102 1
a102 1
@@@@ -384,7 +383,7 @@@@
d111 1
a111 1
@@@@ -411,7 +410,7 @@@@
@


1.7
log
@update to leafnode 1.9.53

from rohee@@
@
text
@d1 5
a5 3
--- INSTALL.orig	2004-03-25 11:25:08.000000000 +0100
+++ INSTALL	2004-04-20 07:43:23.000000000 +0200
@@@@ -37,7 +37,7 @@@@
d14 1
a14 1
@@@@ -58,16 +58,16 @@@@
d34 1
a34 1
@@@@ -119,12 +119,12 @@@@
d49 1
a49 1
@@@@ -133,9 +133,9 @@@@
d61 1
a61 1
@@@@ -183,11 +183,10 @@@@
d75 1
a75 1
@@@@ -225,7 +224,7 @@@@
d84 1
a84 1
@@@@ -291,7 +290,7 @@@@
d93 1
a93 1
@@@@ -307,7 +306,7 @@@@
d102 1
a102 1
@@@@ -342,7 +341,7 @@@@
d111 1
a111 1
@@@@ -369,7 +368,7 @@@@
@


1.6
log
@update to leafnode 1.9.46

from rohee@@
@
text
@d1 4
a4 4
--- INSTALL.orig	Tue Oct  7 12:48:18 2003
+++ INSTALL	Thu Oct 30 21:13:11 2003
@@@@ -26,7 +26,7 @@@@
     the lock file (defaults to leaf.node/lock.file below the spooldir).
d12 1
a12 1
@@@@ -47,16 +47,16 @@@@
d32 1
a32 1
@@@@ -108,12 +108,12 @@@@
d47 1
a47 1
@@@@ -122,9 +122,9 @@@@
d59 1
a59 1
@@@@ -172,11 +172,10 @@@@
d73 1
a73 1
@@@@ -214,7 +213,7 @@@@
d82 1
a82 1
@@@@ -280,7 +279,7 @@@@
d91 1
a91 1
@@@@ -296,7 +295,7 @@@@
d100 1
a100 1
@@@@ -331,7 +330,7 @@@@
d109 1
a109 1
@@@@ -358,7 +357,7 @@@@
@


1.6.2.1
log
@SECURITY:
update to 1.11.2; fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/92248e4e-bd88-11d9-985a-00065bd5b0b6.html

ok brad@@
@
text
@d1 4
a4 6
$OpenBSD$

--- INSTALL.orig	Mon Feb 28 02:59:55 2005
+++ INSTALL	Thu May  5 22:11:47 2005
@@@@ -74,7 +74,7 @@@@ as sudo.
  ## user is in.)
d12 1
a12 1
@@@@ -95,16 +95,16 @@@@ as sudo.
d32 1
a32 1
@@@@ -156,12 +156,12 @@@@ as sudo.
d47 1
a47 1
@@@@ -170,9 +170,9 @@@@ as sudo.
d59 1
a59 1
@@@@ -220,11 +220,10 @@@@ as sudo.
d73 1
a73 1
@@@@ -262,7 +261,7 @@@@ as sudo.
d82 1
a82 1
@@@@ -328,7 +327,7 @@@@ as sudo.
d91 1
a91 1
@@@@ -344,7 +343,7 @@@@ as sudo.
d100 1
a100 1
@@@@ -379,7 +378,7 @@@@ as sudo.
d109 1
a109 1
@@@@ -406,7 +405,7 @@@@ as sudo.
@


1.5
log
@new user naming schema

bump PKGNAME where necessary

rohee@@ ok leafnode
"you don't have to wait for oks" pval@@
@
text
@d1 2
a2 3
$OpenBSD: patch-INSTALL,v 1.4 2003/05/21 06:51:43 marcm Exp $
--- INSTALL.orig	Thu Mar 13 13:31:10 2003
+++ INSTALL	Sat Jun 21 21:18:40 2003
d75 1
a75 1
             protocol        = tcp
d79 1
a79 1
             server          = /usr/sbin/tcpd
d81 1
a81 1
             instances       = 7
d109 1
a109 1
@@@@ -348,7 +347,7 @@@@
@


1.4
log
@Update to 1.9.40.

Among other things this fixes the annoying "cannot parse
server reply" error messages that come spewing forth on server replies that
should otherwise be parsed just fine.

ok rohee@@
@
text
@d1 59
a59 3
$OpenBSD: patch-INSTALL,v 1.3 2003/01/21 16:58:11 marcm Exp $
--- INSTALL.orig	Thu Mar 13 04:31:32 2003
+++ INSTALL	Fri May 16 09:45:41 2003
d65 1
a65 1
+    nntp stream tcp nowait news /usr/libexec/tcpd /usr/local/sbin/leafnode
d74 45
@


1.3
log
@Update to 1.9.32.  In addition to the general updates this fixes
Bugtraq #6490, a DoS vulnerability.

Also thanks to margarita@@ for the SYSCONFDIR cluestick :)

ok brad@@
@
text
@d1 3
a3 3
$OpenBSD: patch-INSTALL,v 1.2 2002/09/24 00:24:19 marcm Exp $
--- INSTALL.orig	Tue Nov 26 04:06:05 2002
+++ INSTALL	Sun Dec 22 22:43:22 2002
d5 2
a6 2
     for incoming NNTP connections.  Here is my inetd.conf line (insert
     it at the leftmost column, without leading spaces!):
d16 2
a17 2
     Using leafnode without tcpd is not supported and opens your computer
     to abuse (even happens on modem lines that are only connected during
@


1.3.2.1
log
@MFC: Fix an issue where leafnode would error with "cannot parse
server reply" on server replies that should have otherwise been parsed
just fine.

ok rohee@@ brad@@
@
text
@d1 3
a3 3
$OpenBSD: patch-INSTALL,v 1.3 2003/01/21 16:58:11 marcm Exp $
--- INSTALL.orig	Thu Mar 13 04:31:32 2003
+++ INSTALL	Fri May 16 09:19:35 2003
d5 2
a6 2
     incoming NNTP connections.  Here is my inetd.conf line (insert it at the
     leftmost column, without leading spaces!):
d16 2
a17 2
     Using leafnode without tcpd is not supported and opens your computer to
     abuse (even happens on modem lines that are only connected during the
@


1.2
log
@Update to 1.9.26.  This fixes numerous bugs (security and otherwise)
since version 1.9.19 as mentioned by the developer on ports@@.

Also brought the port itself up to date and added myself as maintainer.

ok pvalchev@@ naddy@@
@
text
@d1 4
a4 4
$OpenBSD$
--- INSTALL.orig	Sun Sep 22 00:41:37 2002
+++ INSTALL	Sun Sep 22 00:43:30 2002
@@@@ -160,11 +160,10 @@@@
@


1.2.2.1
log
@SECURITY fix:
Update to 1.9.32 to fix Bugtraq #6490, a DoS vulnerability.

ok brad@@
@
text
@d1 4
a4 4
$OpenBSD: patch-INSTALL,v 1.2 2002/09/24 00:24:19 marcm Exp $
--- INSTALL.orig	Tue Nov 26 04:06:05 2002
+++ INSTALL	Sun Dec 22 22:43:22 2002
@@@@ -172,11 +172,10 @@@@
@


1.1
log
@Update to rel. 1.9.18; regen patches.
Thanks to Shell Hung <i@@shellhung.org> for the info.
@
text
@d1 6
a6 6
$OpenBSD: update-patches,v 1.3 2000/06/09 17:08:37 espie Exp $
--- INSTALL.orig	Mon Jan  8 04:37:44 2001
+++ INSTALL	Sat Feb 24 14:50:13 2001
@@@@ -64,11 +64,11 @@@@
 9. Edit /etc/inetd.conf so that $(BINDIR)/leafnode is executed for incoming
    NNTP connections.  Here is my inetd.conf line:
d8 2
a9 2
-nntp    stream  tcp     nowait  news    /usr/sbin/tcpd /usr/local/sbin/leafnode
+nntp    stream  tcp     nowait  news    /usr/libexec/tcpd /usr/local/sbin/leafnode
d11 4
a14 7
    This starts leafnode for all connections on the nntp port, subject to
-   /etc/hosts/allow and /etc/hosts.deny screening.  If you don't have
-   /usr/sbin/tcpd you might use this line instead:
+   /etc/hosts/allow and /etc/hosts.deny screening.  If you don't want to use
+   /usr/libexec/tcpd you might use this line instead:
 
 nntp    stream  tcp     nowait  news    /usr/local/sbin/leafnode
d16 2
@


1.1.6.1
log
@SECURITY fix:
Update to 1.9.32 to fix Bugtraq #6490, a DoS vulnerability.

ok brad@@
@
text
@d1 6
a6 6
$OpenBSD: patch-INSTALL,v 1.3 2003/01/21 16:58:11 marcm Exp $
--- INSTALL.orig	Tue Nov 26 04:06:05 2002
+++ INSTALL	Sun Dec 22 22:43:22 2002
@@@@ -172,11 +172,10 @@@@
     for incoming NNTP connections.  Here is my inetd.conf line (insert
     it at the leftmost column, without leading spaces!):
d8 2
a9 2
-    nntp stream tcp nowait news /usr/sbin/tcpd /usr/local/sbin/leafnode
+    nntp stream tcp nowait news /usr/libexec/tcpd /usr/local/sbin/leafnode
d11 7
a17 4
     This starts leafnode for all connections on the nntp port, subject to
-    /etc/hosts.allow and /etc/hosts.deny screening.  If you don't have
-    /usr/sbin/tcpd, fetch the tcp_wrappers package and install it.
+    /etc/hosts.allow and /etc/hosts.deny screening.
a18 2
     Using leafnode without tcpd is not supported and opens your computer
     to abuse (even happens on modem lines that are only connected during
@


