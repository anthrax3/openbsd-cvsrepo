head	1.4;
access;
symbols
	OPENBSD_2_7:1.3.0.8
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.3.0.6
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.4
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3;
locks; strict;
comment	@# @;


1.4
date	2000.07.02.11.05.48;	author fgsch;	state dead;
branches;
next	1.3;

1.3
date	98.09.08.05.43.36;	author marc;	state Exp;
branches
	1.3.8.1;
next	1.2;

1.2
date	98.08.16.23.36.11;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.04.28.02.27.16;	author angelos;	state Exp;
branches;
next	;

1.3.8.1
date	2000.09.15.05.11.51;	author marc;	state dead;
branches;
next	;


desc
@@


1.4
log
@Update to release 1.4.3. Use CONFIGURE_STYLE and FLAVORS. Fake as well.
bump NEED_VERSION. Still a few things to do, tho.
@
text
@--- src/open.c.orig	Fri Aug 14 11:34:01 1998
+++ src/open.c	Mon Sep  7 21:55:05 1998
@@@@ -630,11 +630,12 @@@@
 	char tempfile[PATH_LEN];
 	int count = 0;
 	struct stat sb;
+	int fdfd;
 
 	sprintf (tempfile, "%stin_nntpXXXXXX", TMPDIR);
-	mktemp (tempfile);
+	fdfd = mkstemp (tempfile);
 
-	if ((fp = fopen (tempfile, "w")) == (FILE *) 0) {
+	if ((fp = fdopen (fdfd, "w")) == (FILE *) 0) {
 		perror_message (txt_article_cannot_open, tempfile);
 		return ((FILE *) 0);
 	}
@


1.3
log
@update to  1.4.980818
@
text
@@


1.3.8.1
log
@bring news as of cut-over date into 2.7 branch
@
text
@@


1.2
log
@update to 1.4.980730
@
text
@d1 3
a3 3
--- src/open.c.~1~	Mon Jul 27 12:05:01 1998
+++ src/open.c	Sat Aug 15 17:25:05 1998
@@@@ -629,11 +629,12 @@@@
@


1.1
log
@mktemp->mkstemp
@
text
@d1 17
a17 34
*** src/open.c.orig	Mon Apr 27 22:20:08 1998
--- src/open.c	Mon Apr 27 22:21:29 1998
***************
*** 1115,1128 ****
  	char line[HEADER_LEN];
  	FILE *fp;
  	struct stat sb;
  #ifdef SHOW_PROGRESS
  	int count = 0;
  #endif
  
  	sprintf (fnam, "%stin_nntpXXXXXX", TMPDIR);
! 	mktemp (fnam);
  
! 	if ((fp = fopen (fnam, "w")) == (FILE *) 0) {
  		perror_message (txt_stuff_nntp_cannot_open, fnam);
  		return ((FILE *) 0);
  	}
--- 1115,1129 ----
  	char line[HEADER_LEN];
  	FILE *fp;
  	struct stat sb;
+ 	int fdfd;
  #ifdef SHOW_PROGRESS
  	int count = 0;
  #endif
  
  	sprintf (fnam, "%stin_nntpXXXXXX", TMPDIR);
! 	fdfd = mkstemp (fnam);
  
! 	if ((fp = fdopen (fdfd, "w")) == (FILE *) 0) {
  		perror_message (txt_stuff_nntp_cannot_open, fnam);
  		return ((FILE *) 0);
  	}
@

