head	1.56;
access;
symbols
	OPENBSD_6_0:1.54.0.6
	OPENBSD_6_0_BASE:1.54
	OPENBSD_5_9:1.54.0.2
	OPENBSD_5_9_BASE:1.54
	OPENBSD_5_8:1.54.0.4
	OPENBSD_5_8_BASE:1.54
	OPENBSD_5_7:1.52.0.6
	OPENBSD_5_7_BASE:1.52
	OPENBSD_5_6:1.52.0.4
	OPENBSD_5_6_BASE:1.52
	OPENBSD_5_5:1.52.0.2
	OPENBSD_5_5_BASE:1.52
	OPENBSD_5_4:1.50.0.2
	OPENBSD_5_4_BASE:1.50
	OPENBSD_5_3:1.49.0.2
	OPENBSD_5_3_BASE:1.49
	OPENBSD_5_2:1.48.0.8
	OPENBSD_5_2_BASE:1.48
	OPENBSD_5_1_BASE:1.48
	OPENBSD_5_1:1.48.0.6
	OPENBSD_5_0:1.48.0.4
	OPENBSD_5_0_BASE:1.48
	OPENBSD_4_9:1.48.0.2
	OPENBSD_4_9_BASE:1.48
	OPENBSD_4_8:1.46.0.2
	OPENBSD_4_8_BASE:1.46
	OPENBSD_4_7:1.45.0.2
	OPENBSD_4_7_BASE:1.45
	OPENBSD_4_6:1.43.0.8
	OPENBSD_4_6_BASE:1.43
	OPENBSD_4_5:1.43.0.6
	OPENBSD_4_5_BASE:1.43
	OPENBSD_4_4:1.43.0.4
	OPENBSD_4_4_BASE:1.43
	OPENBSD_4_3:1.43.0.2
	OPENBSD_4_3_BASE:1.43
	OPENBSD_4_2:1.42.0.2
	OPENBSD_4_2_BASE:1.42
	OPENBSD_4_1:1.41.0.8
	OPENBSD_4_1_BASE:1.41
	OPENBSD_4_0:1.41.0.6
	OPENBSD_4_0_BASE:1.41
	OPENBSD_3_9:1.41.0.4
	OPENBSD_3_9_BASE:1.41
	OPENBSD_3_8:1.41.0.2
	OPENBSD_3_8_BASE:1.41
	OPENBSD_3_7:1.39.0.2
	OPENBSD_3_7_BASE:1.39
	OPENBSD_3_6:1.35.0.2
	OPENBSD_3_6_BASE:1.35
	OPENBSD_3_5:1.34.0.2
	OPENBSD_3_5_BASE:1.34
	OPENBSD_3_4:1.32.0.4
	OPENBSD_3_4_BASE:1.32
	OPENBSD_3_3:1.32.0.2
	OPENBSD_3_3_BASE:1.32
	OPENBSD_3_2:1.31.0.2
	OPENBSD_3_2_BASE:1.31
	OPENBSD_3_1:1.29.0.2
	OPENBSD_3_1_BASE:1.29
	OPENBSD_3_0:1.27.0.2
	OPENBSD_3_0_BASE:1.27
	OPENBSD_2_9_TRACKING_SWITCH:1.24
	OPENBSD_2_9:1.19.0.2
	OPENBSD_2_9_BASE:1.19
	OPENBSD_2_8:1.16.0.2
	OPENBSD_2_8_BASE:1.16
	OPENBSD_2_7:1.14.0.2
	OPENBSD_2_7_BASE:1.14
	OPENBSD_2_6:1.4.0.2
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.1.1.1.0.4
	OPENBSD_2_4_BASE:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	slrn0_9_4_2:1.1.1.1
	slrn:1.1.1;
locks; strict;
comment	@# @;


1.56
date	2016.11.26.15.21.45;	author naddy;	state Exp;
branches;
next	1.55;
commitid	hXP4g6Uo8bJvSiYb;

1.55
date	2016.09.08.10.14.35;	author jasper;	state Exp;
branches;
next	1.54;
commitid	dpXNwi14wZp9mcU7;

1.54
date	2015.05.20.20.38.46;	author sthen;	state Exp;
branches;
next	1.53;
commitid	KLe1NBhukDsQKzJW;

1.53
date	2015.03.16.17.10.05;	author sthen;	state Exp;
branches;
next	1.52;
commitid	hvzYpLauHjW7h6Vp;

1.52
date	2014.01.01.20.46.28;	author naddy;	state Exp;
branches;
next	1.51;

1.51
date	2013.08.07.15.22.27;	author bcallah;	state Exp;
branches;
next	1.50;

1.50
date	2013.03.11.11.35.59;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2012.10.18.21.23.51;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2010.11.20.09.48.38;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2010.10.18.21.25.08;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2010.07.24.17.43.17;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2009.11.18.10.59.53;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2009.10.13.21.49.02;	author sthen;	state Exp;
branches;
next	1.43;

1.43
date	2007.09.15.21.41.50;	author merdely;	state Exp;
branches;
next	1.42;

1.42
date	2007.05.25.00.50.50;	author aanriot;	state Exp;
branches;
next	1.41;

1.41
date	2005.04.19.12.53.21;	author alek;	state Exp;
branches;
next	1.40;

1.40
date	2005.04.19.09.41.42;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2005.02.05.08.02.55;	author sturm;	state Exp;
branches;
next	1.38;

1.38
date	2004.12.02.19.19.59;	author alek;	state Exp;
branches;
next	1.37;

1.37
date	2004.09.15.00.40.23;	author pvalchev;	state Exp;
branches;
next	1.36;

1.36
date	2004.09.15.00.06.59;	author pvalchev;	state Exp;
branches;
next	1.35;

1.35
date	2004.08.03.19.15.05;	author naddy;	state Exp;
branches;
next	1.34;

1.34
date	2004.03.05.16.44.20;	author lebel;	state Exp;
branches;
next	1.33;

1.33
date	2004.01.22.19.28.43;	author lebel;	state Exp;
branches;
next	1.32;

1.32
date	2002.12.29.20.31.39;	author fgsch;	state Exp;
branches;
next	1.31;

1.31
date	2002.05.13.13.28.07;	author lebel;	state Exp;
branches;
next	1.30;

1.30
date	2002.04.18.18.01.34;	author lebel;	state Exp;
branches;
next	1.29;

1.29
date	2002.01.09.22.45.38;	author lebel;	state Exp;
branches;
next	1.28;

1.28
date	2001.10.24.14.54.13;	author lebel;	state Exp;
branches;
next	1.27;

1.27
date	2001.09.24.18.02.31;	author lebel;	state Exp;
branches;
next	1.26;

1.26
date	2001.08.30.13.56.47;	author lebel;	state Exp;
branches;
next	1.25;

1.25
date	2001.08.23.21.04.14;	author lebel;	state Exp;
branches;
next	1.24;

1.24
date	2001.07.22.00.20.06;	author lebel;	state Exp;
branches;
next	1.23;

1.23
date	2001.07.22.00.18.14;	author lebel;	state Exp;
branches;
next	1.22;

1.22
date	2001.06.09.17.20.17;	author lebel;	state Exp;
branches;
next	1.21;

1.21
date	2001.06.09.17.18.00;	author lebel;	state Exp;
branches;
next	1.20;

1.20
date	2001.06.09.17.17.03;	author lebel;	state Exp;
branches;
next	1.19;

1.19
date	2001.04.10.14.59.15;	author lebel;	state Exp;
branches;
next	1.18;

1.18
date	2001.04.10.14.01.20;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2001.01.01.18.45.56;	author jakob;	state Exp;
branches;
next	1.16;

1.16
date	2000.10.22.14.03.38;	author espie;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2000.08.05.00.17.20;	author fgsch;	state Exp;
branches;
next	1.14;

1.14
date	2000.04.05.01.18.42;	author espie;	state Exp;
branches
	1.14.2.1;
next	1.13;

1.13
date	2000.03.24.23.28.29;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.03.22.00.59.23;	author turan;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.05.18.30.40;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.02.16.10.52.12;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2000.02.15.05.05.03;	author turan;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.12.08.02.29;	author turan;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.12.00.40.43;	author turan;	state Exp;
branches;
next	1.6;

1.6
date	99.11.12.07.06.03;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	99.11.03.01.20.47;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	99.06.23.05.24.10;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	99.04.06.19.48.02;	author rohee;	state Exp;
branches;
next	1.2;

1.2
date	98.11.20.05.17.27;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	97.12.20.02.46.05;	author joey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.20.02.46.05;	author joey;	state Exp;
branches;
next	;

1.14.2.1
date	2000.09.15.05.11.48;	author marc;	state Exp;
branches;
next	;

1.16.2.1
date	2001.04.10.17.44.48;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.56
log
@don't clobber BUILD_DEPENDS
@
text
@# $OpenBSD: Makefile,v 1.55 2016/09/08 10:14:35 jasper Exp $

COMMENT=		SLang-based newsreader

DISTNAME=		slrn-1.0.2
REVISION=		1
CATEGORIES=		news

HOMEPAGE=		http://slrn.sourceforge.net/

MAINTAINER=		Stuart Henderson <sthen@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c crypto iconv intl m ssl slang

MASTER_SITES=		http://jedsoft.org/releases/slrn/ \
			http://jedsoft.org/releases/slrn/old/

MAKE_ARGS+=		LDFLAGS="${LDFLAGS}"

NO_TEST=		Yes
BUILD_DEPENDS=		devel/gettext-tools
LIB_DEPENDS=		devel/gettext \
			devel/libslang

CONFIGURE_STYLE=	gnu
BUILD_DEPENDS+=		${MODGNU_AUTOCONF_DEPENDS}
AUTOCONF_VERSION=	2.69
AUTOCONF_DIR=		${WRKSRC}/autoconf
CONFIGURE_ARGS+=	--disable-inews \
			--with-libiconv-prefix=${LOCALBASE} \
			--with-ssl \
			--with-slrnpull \
			--enable-spool
LDFLAGS=		-L${LOCALBASE}/lib -lm
CONFIGURE_ENV=		LDFLAGS="${LDFLAGS}" CPPFLAGS="-I${LOCALBASE}/include"
CONFIGURE_ARGS+=	--with-slang=${LOCALBASE}

MODGNU_CONFIG_GUESS_DIRS=${WRKSRC}/autoconf

# replace bundled m4 files with the newer (working ;) ones from gettext
post-patch:
.for i in gettext lib-ld lib-prefix nls progtest iconv lib-link po
	cp ${LOCALBASE}/share/aclocal/$i.m4 ${WRKSRC}/autoconf/include/
.endfor
	cd ${WRKSRC}/autoconf && \
	    AUTOCONF_VERSION=${AUTOCONF_VERSION} autoconf && \
	    mv configure ..

.include <bsd.port.mk>
@


1.55
log
@drop gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2015/05/20 20:38:46 sthen Exp $
d29 1
a29 1
BUILD_DEPENDS=		${MODGNU_AUTOCONF_DEPENDS}
@


1.54
log
@update HOMEPAGE, from Simon Nicolussi
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2015/03/16 17:10:05 sthen Exp $
d6 1
a6 1
REVISION=		0
d16 1
a16 1
WANTLIB=		c crypto m ssl termcap slang
d24 3
a26 2
LIB_DEPENDS=		devel/libslang
MODULES=		devel/gettext
@


1.53
log
@update to slrn-1.0.2, and take maintainer as suggested by bcallah@@
replace bundled m4 files (which aren't working properly) with those from gettext
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2014/01/01 20:46:28 naddy Exp $
d6 1
d9 1
a9 1
HOMEPAGE=		http://www.slrn.org/
@


1.52
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/08/07 15:22:27 bcallah Exp $
d5 1
a5 1
DISTNAME=		slrn-1.0.1
a7 1
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=slrn/}
d10 1
a10 1
MAINTAINER=		Brian Callahan <bcallah@@openbsd.org>
d17 3
d27 8
a34 1
CONFIGURE_ARGS+=	--disable-inews --with-ssl --with-slrnpull --enable-spool
d36 2
a37 3
CONFIGURE_ENV=		LDFLAGS="${LDFLAGS}"
CONFIGURE_ARGS+=	--with-slang=${LOCALBASE} \
			--with-libiconv=${LOCALBASE}
d40 9
@


1.51
log
@Update slrn to 1.0.1 and take MAINTAINER.
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/03/11 11:35:59 espie Exp $
a19 1
USE_GROFF=		Yes
@


1.50
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/10/18 21:23:51 espie Exp $
d5 1
a5 4
# p1 is part of upstream version XXX
DISTNAME=		slrn-0.9.9p1
PKGNAME=		${DISTNAME:S/p/pl/}
REVISION=		0
d11 2
d20 1
a20 1
USE_GROFF =		Yes
@


1.49
log
@zap spaces at end of variables (posix make compliance minor issue)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/11/20 09:48:38 espie Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d22 1
a22 1
NO_REGRESS=		Yes
@


1.48
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/10/18 21:25:08 espie Exp $
d5 2
a6 1
DISTNAME=		slrn-0.9.9p1 # p1 is part of upstream version XXX
@


1.47
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/07/24 17:43:17 ajacoutot Exp $
d23 1
a23 1
USE_GROFF =	Yes
d25 1
a25 1
LIB_DEPENDS=		::devel/libslang
@


1.46
log
@Move to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/11/18 10:59:53 sthen Exp $
d23 1
@


1.45
log
@fix path to sendmail, tidy the Makefile, bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/10/13 21:49:02 sthen Exp $
d6 2
a7 1
PKGNAME=		${DISTNAME:S/p/pl/}p0
d19 1
a19 1
WANTLIB=		c crypto m ssl termcap 
d24 1
a24 1
LIB_DEPENDS=		slang.>=15::devel/libslang
@


1.44
log
@update to 0.9.9p1 for new slang.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2007/09/15 21:41:50 merdely Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME:S/p/pl/}
d12 1
a12 1
# GPL
d20 1
a20 9
#FAKE=			lib
##PFILES=			lastchar fetch
##MASTER_SITES0=  	http://slrn.sourceforge.net/patches/
##.for i in ${PFILES}
##PATCHFILES+=    	slrn-${VERSION}-$i.diff:0
##.endfor
##PATCH_DIST_STRIP=-p1
MAKE_ARGS+=		SLRN_SENDMAIL_COMMAND="/usr/sbin/sendmail -oi -t -oem -odb" \
			LDFLAGS="${LDFLAGS}"
a29 1
#CPPFLAGS="-I ${LOCALBASE}/include"
@


1.43
log
@Remove surrounding quotes in COMMENT/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2007/05/25 00:50:50 aanriot Exp $
d5 2
a6 3
VERSION=		0.9.8.1
DISTNAME=		slrn-${VERSION}
PKGNAME=		${DISTNAME}p2
d17 1
d20 9
a28 7
FAKE=			lib
PFILES=			lastchar fetch
MASTER_SITES0=  	http://slrn.sourceforge.net/patches/
.for i in ${PFILES}
PATCHFILES+=    	slrn-${VERSION}-$i.diff:0
.endfor
PATCH_DIST_STRIP=-p1
d31 1
a31 1
LIB_DEPENDS=		slang.::devel/libslang
d36 5
a40 4
CONFIGURE_ARGS+=	--with-slang-library=${DEPBASE}/lib \
			--with-slang-includes=${DEPBASE}/include \
			--with-libiconv-prefix=${DEPBASE} \
			--with-libintl-prefix=${DEPBASE}
@


1.42
log
@- use make instead of gmake ;
- regen PLIST ;

ok ajacoutot@@ steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2005/04/19 12:53:21 alek Exp $
d3 1
a3 1
COMMENT=		"SLang-based newsreader"
@


1.41
log
@- Fix libintl/iconv linking
- Don't use bundled libintl headers
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2005/04/19 09:41:42 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
a28 1
USE_GMAKE=		Yes
@


1.40
log
@FAKE=lib for libslang. Okay, so we no longer need to install libslang
at all while building.

Add a missing MODULE on gettext in slrn, someone else will fix the
configure test presumably...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2005/02/05 08:02:55 sturm Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.39
log
@update to slrn 0.9.8.1, new feature: slrnpull

from Jon Trembley <jon at brain-box.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2004/12/02 19:19:59 alek Exp $
d7 1
d20 1
d31 1
d35 5
@


1.38
log
@Add WANTLIB markers

looks good espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2004/09/15 00:40:23 pvalchev Exp $
d5 1
a5 1
VERSION=		0.9.8.0
a6 1
PKGNAME=		${DISTNAME}p0
d19 1
a19 1
PFILES=			ranges post mime ranges2
d31 1
a31 1
CONFIGURE_ARGS+=	--disable-inews --with-ssl
@


1.37
log
@add license markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2004/09/15 00:06:59 pvalchev Exp $
d18 1
@


1.36
log
@remove David Lebel from maintainer position per his request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2004/08/03 19:15:05 naddy Exp $
d13 1
@


1.35
log
@fix up MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2004/03/05 16:44:20 lebel Exp $
a11 2

MAINTAINER=		David Lebel <lebel@@openbsd.org>
@


1.34
log
@add new ranges2 patch, increment package revision, pvalchev@@ sorta oked :)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/01/22 19:28:43 lebel Exp $
d33 1
@


1.33
log
@update news/slrn to 0.9.8.0; thanks to Francois Briere for the heads up
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2002/12/29 20:31:39 fgsch Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
d20 1
a20 1
PFILES=			ranges post mime
@


1.32
log
@zap NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2002/05/13 13:28:07 lebel Exp $
d5 1
a5 1
VERSION=		0.9.7.4
d20 1
a20 1
PFILES=			strcasecmp link_subjects po mem_leak popup_win
@


1.31
log
@MASTER_SITE_SUBDIR -> ${SITE:=subdir/}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2002/04/18 18:01:34 lebel Exp $
a8 1
NEED_VERSION=		1.528
@


1.30
log
@update news/slrn to 0.9.7.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2002/01/09 22:45:38 lebel Exp $
d9 1
a9 1
NEED_VERSION=		1.474
d11 1
a11 2
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=	slrn
@


1.29
log
@update news/slrn to 0.9.7.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/10/24 14:54:13 lebel Exp $
d5 1
a5 1
VERSION=		0.9.7.3
d22 1
a22 1
PFILES=			mimeenc ssl menu
@


1.28
log
@NO_REGRESS=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/09/24 18:02:31 lebel Exp $
d5 1
a5 1
VERSION=		0.9.7.2
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
d22 1
a22 2
PFILES=			readactive forceauth authneeded newsurl browser \
	  		setflags decode
@


1.27
log
@added new official patches to the build process:

http://slrn.sourceforge.net/patches/slrn-0.9.7.2-browser.diff
http://slrn.sourceforge.net/patches/slrn-0.9.7.2-decode.diff
http://slrn.sourceforge.net/patches/slrn-0.9.7.2-setflags.diff

See http://slrn.sourceforge.net/patches/ for more info.

bump package revision to 0.9.7.2p2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/08/30 13:56:47 lebel Exp $
d9 1
a9 1
NEED_VERSION=		1.440
d30 1
@


1.26
log
@bump package revision version since we added four new official patches
to slrn version 0.9.7.2:
--
Bug fixes:

* slrn enters all groups when read_active is on
Fixed 2001-08-27

When read_active is on, slrn still enters all groups to find the
number of unread articles, which slows down startup considerably.

* force_authentication is ignored when re-connecting
Fixed 2001-08-27

When re-connecting, slrn only sends authentication data if the server
requests it, even if force_authentication is set.

* Request for authentication is not always recognized
Fixed 2001-08-30

In some rare cases, slrn does not notice that it needs to send
authentication data, although the server requests it. This can even
damage your newsrc file.

* Parse "news:" URLs enclosed in angle brackets correctly
Fixed 2001-08-30

When a "news:" URL is enclosed in angle brackets, slrn regards the
closing bracket as a part of it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/08/23 21:04:14 lebel Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d22 2
a23 1
PFILES=			readactive forceauth authneeded newsurl
@


1.25
log
@update news/slrn to 0.9.7.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/07/22 00:20:06 lebel Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
d22 6
a27 9
# patches are distributed apart from the main distribution.  We
# are leaving the code there until new patches surfaces on the main
# website.
#PFILES=			
#MASTER_SITES0=  	http://slrn.sourceforge.net/patches/
#.for i in ${PFILES}
#PATCHFILES+=    	slrn-${VERSION}-$i.diff:0
#.endfor
#PATCH_DIST_STRIP=-p1
@


1.24
log
@oops, PKGNAME should get p1, not DISTNAME. Sloppy lebel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/07/22 00:18:14 lebel Exp $
d5 1
a5 1
VERSION=		0.9.7.1
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d9 1
a9 1
NEED_VERSION=		1.364
d22 9
a30 6
PFILES=			xhdr_spool readcount include decode readfail makefile 
MASTER_SITES0=  	http://slrn.sourceforge.net/patches/
.for i in ${PFILES}
PATCHFILES+=    	slrn-${VERSION}-$i.diff:0
.endfor
PATCH_DIST_STRIP=-p1
d32 1
@


1.23
log
@build slrn 0.9.7.1 with all the newest official patches.

This include:
- slrn-0.9.7.1-xhdr_spool.diff
- slrn-0.9.7.1-readcount.diff
- slrn-0.9.7.1-include.diff
- slrn-0.9.7.1-decode.diff
- slrn-0.9.7.1-readfail.diff
- slrn-0.9.7.1-makefile.diff

thus, bump the package distname to slrn-0.9.7.1p1.  However, this is not
related to the development version named "slrn-0.9.7.1pl1".

See http://slrn.sourceforge.net/patches/index.html for more info.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/06/09 17:20:17 lebel Exp $
d6 2
a7 1
DISTNAME=		slrn-${VERSION}p1
@


1.22
log
@remove obselete do-install: target
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/06/09 17:18:00 lebel Exp $
d5 2
a6 1
DISTNAME=		slrn-0.9.7.1
d20 7
@


1.21
log
@remove commented post-install: target
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/06/09 17:17:03 lebel Exp $
a23 3

do-install:
	@@cd ${WRKBUILD}/src && make ${FAKE_FLAGS} install
@


1.20
log
@update news/slrn to 0.9.7.1:
- add SSL support (--with-ssl)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/04/10 14:59:15 lebel Exp $
a26 4

#post-install:
#	@@mv -f ${PREFIX}/doc/slrn ${PREFIX}/share/doc/slrn
#	@@rmdir ${PREFIX}/doc
@


1.19
log
@update Makefile (integrate COMMENT), change the MASTER_SITES,
takeover MAINTAINERSHIP, clean the patches, update the DESCR and finally,
upgrade to 0.9.7.0a.  espie@@ OK.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/04/10 14:01:20 espie Exp $
d5 1
a5 1
DISTNAME=		slrn-0.9.7.0a
d23 1
d28 3
a30 3
post-install:
	@@mv -f ${PREFIX}/doc/slrn ${PREFIX}/share/doc/slrn
	@@rmdir ${PREFIX}/doc
@


1.18
log
@Chris is doing other things, and doesn't currently have time to maintain
ports -> revert these to default MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/01/01 18:45:56 jakob Exp $
d3 1
a3 5
DISTNAME=	slrn-0.9.6.3
CATEGORIES=	news
NEED_VERSION=	1.310
MASTER_SITES=	ftp://space.mit.edu/pub/davis/slrn/ \
		ftp://ftp.uni-stuttgart.de/pub/unix/misc/slang/slrn/
d5 9
a13 1
HOMEPAGE=	http://www.slrn.org/
d20 1
a20 1
LIB_DEPENDS=	slang.::devel/libslang
@


1.17
log
@update to v0.9.6.3
add HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/10/22 14:03:38 espie Exp $
a7 2

MAINTAINER=	Christopher Turan <turan@@openbsd.org>
@


1.16
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/08/05 00:17:20 fgsch Exp $
d3 1
a3 1
DISTNAME=	slrn-0.9.6.2
d10 2
@


1.16.2.1
log
@MFC:
Update to 0.9.7.0a, maintained by David Level <lebel@@openbsd.org>.
SECURITY: Fixes buffer overflow.
@
text
@d1 1
a1 1
# $OpenBSD$
d3 5
a7 3
DISTNAME=		slrn-0.9.7.0a
CATEGORIES=		news
NEED_VERSION=		1.340
d9 1
a9 5
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=	slrn
HOMEPAGE=		http://www.slrn.org/

MAINTAINER=		David Lebel <lebel@@openbsd.org>
d16 1
a16 1
LIB_DEPENDS=		slang.::devel/libslang
@


1.15
log
@use CONFIGURE_STYLE, remove FAKE=yes and rearrange a bit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/04/05 01:18:42 espie Exp $
d9 1
a9 1
MAINTAINER=	turan@@openbsd.org
@


1.14
log
@Fake. fix bogus libslang dependency.
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.13 2000/03/24 23:28:29 espie Exp $
# Original from: Ejovi Nuwere <ejovi@@ejovi.net>
d5 3
a7 1
NEED_VERSION=	1.230
a10 1
LICENSE_TYPE=		GPL
a14 4
FAKE=			Yes

MASTER_SITES=	ftp://space.mit.edu/pub/davis/slrn/ \
		ftp://ftp.uni-stuttgart.de/pub/unix/misc/slang/slrn/
d18 1
a18 1
GNU_CONFIGURE=	Yes
@


1.14.2.1
log
@bring news as of cut-over date into 2.7 branch
@
text
@d1 2
a2 1
# $OpenBSD: Makefile,v 1.15 2000/08/05 00:17:20 fgsch Exp $
d6 1
a6 3
NEED_VERSION=	1.310
MASTER_SITES=	ftp://space.mit.edu/pub/davis/slrn/ \
		ftp://ftp.uni-stuttgart.de/pub/unix/misc/slang/slrn/
d10 1
d15 4
d22 1
a22 1
CONFIGURE_STYLE=	gnu
@


1.13
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/03/22 00:59:23 turan Exp $
d6 1
a6 1
NEED_VERSION=	 1.230
d15 1
d20 1
a20 1
LIB_DEPENDS=	${PREFIX}/lib/libslang.a::devel/libslang
d23 3
@


1.12
log
@slang is a lib depend, not build depend.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/03/05 18:30:40 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.223
d19 1
a19 1
LIB_DEPENDS=	${PREFIX}/lib/libslang.a:devel/libslang
@


1.11
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/02/16 10:52:12 espie Exp $
d19 1
a19 1
BUILD_DEPENDS=	${PREFIX}/lib/libslang.a:devel/libslang
@


1.10
log
@All the Makefiles cvs missed first time around...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/02/15 05:05:03 turan Exp $
d6 1
d11 4
a14 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d19 1
a19 1
BUILD_DEPENDS=	${PREFIX}/lib/libslang.a:${PORTSDIR}/devel/libslang
d21 1
a21 1
GNU_CONFIGURE=	yes
@


1.9
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/12 08:02:29 turan Exp $
d23 1
a23 1
	@@${MV} -f ${PREFIX}/doc/slrn ${PREFIX}/share/doc/slrn
@


1.8
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/12 00:40:43 turan Exp $
d10 4
a13 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.7
log
@upgrade to slrn 0.9.6.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/11/12 07:06:03 turan Exp $
d8 6
@


1.6
log
@older version no longer availble.  mark unbroken and update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/11/03 01:20:47 turan Exp $
d4 1
a4 1
DISTNAME=	slrn-0.9.5.7
@


1.5
log
@cnews, broken.  does not install cleanly.  major fixes required.
slrn, broken.  sources moved.  maint is ports@@, I'm taking maint for
this port and will fix it later.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/06/23 05:24:10 marc Exp $
d4 1
a4 3
BROKEN=		sources moved

DISTNAME=	slrn-0.9.5.6
@


1.4
log
@update to 0.9.5.6, uses latest libslang
remove out-of-date master site
update the packing list now that the install step is not overridden
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/04/06 19:48:02 rohee Exp $
d4 2
d9 1
a9 1
MAINTAINER=	ports@@OpenBSD.ORG
@


1.3
log
@joey@@OpenBSD.ORG -> ports@@OpenBSD.ORG, as requested by the author
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1998/11/20 05:17:27 marc Exp $
d4 1
a4 2
DISTNAME=	slrn0.9.5.4
PKGNAME=	slrn-0.9.5.4
a5 3
MASTER_SITES=	ftp://space.mit.edu/pub/davis/slrn/ \
		ftp://ftp.uni-stuttgart.de/pub/unix/misc/slang/ \
		ftp://ftp.prz.tu-berlin.de/pub/unix/news/reader/slrn/
d9 4
a12 1
LIB_DEPENDS=	slang.1.22:${PORTSDIR}/devel/libslang
a13 1
WRKSRC=		${WRKDIR}/slrn
a14 1
MAN1=		slrn.1
d16 3
a18 5
do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/src/objs/slrn ${PREFIX}/bin
	@@${MKDIR} ${PREFIX}/share/examples/slrn
	${INSTALL_DATA} ${WRKSRC}/doc/slrn.rc ${PREFIX}/share/examples/slrn
	${INSTALL_MAN} ${WRKSRC}/doc/slrn.1 ${PREFIX}/man/man1
@


1.2
log
@update to 0.9.5.4; Peter Reich <peter@@alles.prima.de>
@
text
@d1 2
a2 2
# $OpenBSD: Makefile,v 1.1.1.1 1997/12/20 02:46:05 joey Exp $
#
d11 1
a11 1
MAINTAINER=	joey@@OpenBSD.ORG
@


1.1
log
@Initial revision
@
text
@d1 1
a1 6
# OpenBSD makefile for:   slrn
# Version required:    0.9.4.2
# Date created:        19 Dec 1997
# Whom:                joey
# 
# $OpenBSD$
d4 2
a5 2
DISTNAME=	slrn0.9.4.3
PKGNAME=	slrn-0.9.4.3
d13 1
a13 1
LIB_DEPENDS=	slang\\.0\\.99[0-9][0-9]:${PORTSDIR}/devel/libslang
@


1.1.1.1
log
@
@
text
@@
