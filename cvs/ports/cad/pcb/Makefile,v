head	1.34;
access;
symbols
	OPENBSD_6_1:1.33.0.8
	OPENBSD_6_1_BASE:1.33
	OPENBSD_6_0:1.33.0.6
	OPENBSD_6_0_BASE:1.33
	OPENBSD_5_9:1.33.0.2
	OPENBSD_5_9_BASE:1.33
	OPENBSD_5_8:1.33.0.4
	OPENBSD_5_8_BASE:1.33
	OPENBSD_5_7:1.30.0.4
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.30.0.2
	OPENBSD_5_6_BASE:1.30
	OPENBSD_5_5:1.29.0.4
	OPENBSD_5_5_BASE:1.29
	OPENBSD_5_4:1.29.0.2
	OPENBSD_5_4_BASE:1.29
	OPENBSD_5_3:1.26.0.2
	OPENBSD_5_3_BASE:1.26
	OPENBSD_5_2:1.25.0.2
	OPENBSD_5_2_BASE:1.25
	OPENBSD_5_1_BASE:1.24
	OPENBSD_5_1:1.24.0.2
	OPENBSD_5_0:1.20.0.4
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.20.0.2
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.10.0.4
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.2
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.8.0.2
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.6.0.4
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.2
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	steven-20070105:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.34
date	2017.05.15.19.56.02;	author rsadowski;	state Exp;
branches;
next	1.33;
commitid	9o62ZeM7dBsDrb2c;

1.33
date	2015.05.18.11.29.37;	author jasper;	state Exp;
branches;
next	1.32;
commitid	g3eYBWefuCrWTDW1;

1.32
date	2015.04.04.09.21.00;	author ajacoutot;	state Exp;
branches;
next	1.31;
commitid	kS3kwKZogsvzYmEY;

1.31
date	2015.03.27.08.11.25;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	mHt3hIg3nxq5XDcy;

1.30
date	2014.03.17.23.21.26;	author sthen;	state Exp;
branches;
next	1.29;

1.29
date	2013.07.01.10.39.17;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2013.04.02.17.26.34;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.10.23.04.45;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2012.09.21.13.21.44;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2012.06.15.08.32.14;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2011.12.03.19.26.37;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2011.11.17.12.41.08;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2011.11.01.19.00.25;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2011.09.16.08.48.02;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.24.22.41.22;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2010.11.15.13.08.38;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.11.15.00.22.49;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.10.24.21.04.39;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2010.10.18.16.57.47;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.10.11.08.11.40;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.07.20.40.40;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2010.09.13.07.10.24;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2010.09.09.07.54.12;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2010.09.09.07.51.22;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2009.10.10.23.06.55;	author steven;	state Exp;
branches;
next	1.9;

1.9
date	2009.08.10.06.30.30;	author kili;	state Exp;
branches;
next	1.8;

1.8
date	2009.03.11.10.51.03;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2009.03.06.22.20.49;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2008.05.30.14.08.40;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2007.11.13.12.55.46;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.16.12.54.38;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.15.21.36.57;	author simon;	state Exp;
branches;
next	1.2;

1.2
date	2007.04.13.14.29.38;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.05.16.52.21;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.05.16.52.21;	author steven;	state Exp;
branches;
next	;


desc
@@


1.34
log
@Bump REVISION and adjust WANTLIB after gd update

ok sthen@@, "looks okay" @@landry
@
text
@# $OpenBSD: Makefile,v 1.33 2015/05/18 11:29:37 jasper Exp $

COMMENT=	printed circuit board layout tool
DISTNAME=	pcb-20110918
CATEGORIES=	cad
REVISION=	7

HOMEPAGE=	http://pcb.gpleda.org/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += GL GLU ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xmu Xrandr Xrender Xt atk-1.0 c cairo dbus-1
WANTLIB += fontconfig freetype gd gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gdkglext-x11-1.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gtk-x11-2.0 gtkglext-x11-1.0 jpeg m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pangox-1.0 png pthread tiff webp z

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=pcb/}

RUN_DEPENDS=	devel/m4 \
		devel/desktop-file-utils \
		graphics/ImageMagick \
		misc/shared-mime-info \
		x11/gtk+3,-guic \
		${MODTK_RUN_DEPENDS}

BUILD_DEPENDS=	${MODTK_BUILD_DEPENDS} \
		devel/m4 \
		graphics/ImageMagick \
		shells/bash

LIB_DEPENDS=	graphics/gd \
		x11/dbus \
		x11/gtkglext

MODULES=	devel/gettext \
		textproc/intltool \
		x11/tk

USE_GMAKE=	Yes
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--disable-doc \
		--with-gui=gtk \
		--disable-update-desktop-database \
		--disable-update-mime-database
CONFIGURE_ENV+= CPPFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include" \
		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib"

pre-configure:
	${SUBST_CMD} ${WRKSRC}/doc/pcb.1 \
		${WRKSRC}/icon-theme-installer

post-install:
	${INSTALL_MAN} ${WRKSRC}/doc/pcb.1 ${PREFIX}/man/man1
	${INSTALL_DATA} ${WRKSRC}/doc/pcb.info* ${PREFIX}/info
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/pcb
	${INSTALL_DATA} ${WRKSRC}/doc/pcb.html ${PREFIX}/share/doc/pcb
	${INSTALL_DATA} ${WRKSRC}/doc/*.png ${PREFIX}/share/doc/pcb
	${INSTALL_DATA} ${WRKSRC}/doc/refcard.pdf ${PREFIX}/share/doc/pcb

.include <bsd.port.mk>
@


1.33
log
@remove another bunch of @@rm -f, some of which were hiding the arguments no
longer existed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/04/04 09:21:00 ajacoutot Exp $
d6 1
a6 1
REVISION=	6
d18 1
a18 1
WANTLIB += pangoft2-1.0 pangox-1.0 png pthread tiff vpx z
@


1.32
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/03/27 08:11:25 ajacoutot Exp $
a55 1
	rm -rf ${PREFIX}/share/${DISTNAME}
@


1.31
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2014/03/17 23:21:26 sthen Exp $
d6 1
a6 1
REVISION=	5
@


1.30
log
@sync follow graphics/gd update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/07/01 10:39:17 sthen Exp $
d6 1
a6 1
REVISION=	4
d26 1
a26 1
		x11/gtk+2,-guic \
@


1.29
log
@Remove Andreas Bihlmaier as maintainer per his request on ports@@.
Drop USE_GROFF from perl ports while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/04/02 17:26:34 ajacoutot Exp $
d6 1
a6 1
REVISION=	3
d15 1
a15 1
WANTLIB += expat fontconfig freetype gd gdk-x11-2.0 gdk_pixbuf-2.0
d17 2
a18 3
WANTLIB += gthread-2.0 gtk-x11-2.0 gtkglext-x11-1.0 jpeg m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pangox-1.0 pixman-1 png
WANTLIB += pthread pthread-stubs xcb xcb-render xcb-shm z
@


1.28
log
@Sanitier depepdencies, these do not need to build depends on gtk+2,-guic.
RUN_DEPENDS = BUILD_DEPENDS is a known bad construct, but
BUILD_DEPENDS = RUN_DEPENDS is *not* that good either...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/03/10 23:04:45 espie Exp $
d6 1
a6 1
REVISION=	2
a9 2
MAINTAINER=	Andreas Bihlmaier <andreas.bihlmaier@@gmx.de>

a43 1
USE_GROFF =	Yes
@


1.27
log
@PERMIT/ REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/09/21 13:21:44 ajacoutot Exp $
d31 4
a34 1
BUILD_DEPENDS=	${RUN_DEPENDS} \
d36 1
@


1.26
log
@Fix after pangox removal from devel/pango.
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/06/15 08:32:14 ajacoutot Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.25
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/12/03 19:26:37 ajacoutot Exp $
d6 1
a6 1
REVISION=	1
@


1.24
log
@Add dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/11/17 12:41:08 jasper Exp $
d6 1
a6 1
REVISION=	0
@


1.23
log
@- update to 20110918

ok Andreas Bihlmaier (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/11/01 19:00:25 jasper Exp $
d6 1
d32 1
@


1.22
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/09/16 08:48:02 espie Exp $
d4 1
a4 2
DISTNAME=	pcb-20100929
REVISION=	3
d17 6
a22 5
WANTLIB += GL X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 c cairo dbus-1 expat fontconfig
WANTLIB += freetype gd gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0 jpeg
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 png
d36 1
a36 1
		x11/gtk+2
d49 2
@


1.21
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/24 22:41:22 jasper Exp $
d5 1
a5 1
REVISION=	2
d18 6
a23 6
WANTLIB += X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 c cairo expat fontconfig
WANTLIB += freetype gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1
WANTLIB += png pthread-stubs xcb z gd>=20 gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gtk-x11-2.0 gthread-2.0 pthread xcb-render xcb-render-util
d35 1
@


1.20
log
@- fix PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/11/15 13:08:38 espie Exp $
d5 1
a5 1
REVISION=	1
@


1.19
log
@missed libspecs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/11/15 00:22:49 espie Exp $
d5 1
a5 1
REVISION=	0
a47 1

@


1.18
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/10/24 21:04:39 ajacoutot Exp $
d22 1
a22 1
WANTLIB += png pthread-stubs xcb z gd.>=20 gdk-x11-2.0 gdk_pixbuf-2.0
@


1.17
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/10/18 16:57:47 espie Exp $
d27 4
a30 4
RUN_DEPENDS=	::devel/m4 \
		::devel/desktop-file-utils \
		::graphics/ImageMagick \
		::misc/shared-mime-info \
d33 3
a35 3
		::shells/bash
LIB_DEPENDS=	::graphics/gd \
		::x11/gtk+2
@


1.16
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/10/11 08:11:40 jasper Exp $
a41 1
USE_X11=	Yes
@


1.15
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/10/07 20:40:40 jasper Exp $
d43 1
@


1.14
log
@- update pcb to 20100929

maintainer timed-out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/09/13 07:10:24 jasper Exp $
d5 1
d20 1
a20 1
WANTLIB += freetype gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0
@


1.13
log
@- actually fix this patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/09/09 07:54:12 jasper Exp $
d4 1
a4 2
DISTNAME=	pcb-20091103
REVISION=	0
@


1.12
log
@- missing goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/09/09 07:51:22 jasper Exp $
d32 2
a33 1
BUILD_DEPENDS=	${RUN_DEPENDS}
d51 2
a52 1
	${SUBST_CMD} ${WRKSRC}/doc/pcb.1
@


1.11
log
@- update pcb to 20091103

ok andreas bihlmaier (MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/10/10 23:06:55 steven Exp $
d5 1
@


1.10
log
@switch to tcl/tk 8.5 (the main program is not using it)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/08/10 06:30:30 kili Exp $
d4 1
a4 2
DISTNAME=	pcb-20070912
PKGNAME=	${DISTNAME}p5
d7 1
a7 1
HOMEPAGE=	http://pcb.sourceforge.net/
d21 2
a22 1
WANTLIB += png pthread-stubs xcb z
d27 3
d32 2
a33 2
LIB_DEPENDS=	gd.>=20::graphics/gd \
		gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2
d35 3
a37 1
MODULES=	devel/gettext x11/tk
d39 1
d42 5
a46 1
CONFIGURE_ARGS=	--disable-doc --with-gui=gtk
d49 1
a49 2
	@@perl -pi -e 's,!!DOCDIR!!,${PREFIX}/share/doc/pcb,' \
		${WRKSRC}/doc/pcb.1
@


1.9
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/03/11 10:51:03 espie Exp $
d5 1
a5 1
PKGNAME=	${DISTNAME}p4
d27 1
a27 1
		:tk->=8.4,<8.5:x11/tk/8.4
d32 1
a32 1
MODULES=	devel/gettext
@


1.8
log
@fix tk deps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/03/06 22:20:49 jasper Exp $
d5 1
a5 1
PKGNAME=	${DISTNAME}p3
d22 1
a22 1
WANTLIB += png z
@


1.7
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/05/30 14:08:40 ajacoutot Exp $
d5 1
a5 1
PKGNAME=	${DISTNAME}p2
d27 1
a27 1
		:tk-8.4.*:x11/tk/8.4
@


1.6
log
@- WANTLIB += pixman-1
- set GPL version while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/11/13 12:55:46 steven Exp $
d5 1
a5 1
PKGNAME=	${DISTNAME}p1
d18 5
a22 4
WANTLIB=	X11 Xcursor Xext Xfixes Xi Xinerama Xrandr Xau Xdmcp Xrender \
		Xcomposite Xdamage c m z expat fontconfig freetype jpeg png \
		cairo glitz atk-1.0 glib-2.0 gmodule-2.0 gobject-2.0 \
		pango-1.0 pangoft2-1.0 pangocairo-1.0 pixman-1
@


1.5
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/09/16 12:54:38 steven Exp $
d5 1
a5 1
PKGNAME=	${DISTNAME}p0
d12 1
a12 1
# GPL
d21 1
a21 1
		pango-1.0 pangoft2-1.0 pangocairo-1.0
@


1.4
log
@update to pcb-20070912

ok maintainer Andreas Bihlmaier
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/09/15 21:36:57 simon Exp $
d5 1
d19 1
a19 1
		c m z expat fontconfig freetype jpeg png \
@


1.3
log
@remove surrounding quotes from COMMENT/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/04/13 14:29:38 sturm Exp $
d4 1
a4 2
DISTNAME=	pcb-20060822
PKGNAME=	${DISTNAME}p0
d17 2
a18 1
WANTLIB=	X11 Xau Xdmcp Xrender c m z expat fontconfig freetype jpeg png \
@


1.2
log
@WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/01/05 16:52:21 steven Exp $
d3 1
a3 1
COMMENT=	"printed circuit board layout tool"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
d18 1
a18 1
WANTLIB=	X11 Xext Xrender c m z fontconfig freetype jpeg png \
@


1.1.1.1
log
@import pcb-20060822

PCB is an interactive printed circuit board editor. PCB includes a rats
nest feature, design rule checking, and can provide industry standard
RS-274-X (Gerber), NC drill, and centroid data (X-Y data) output for use
in the board fabrication and assembly process. PCB offers high end
features such as an autorouter and trace optimizer which can tremendously
reduce layout time.

based on a submission from andreas.bihlmaier at gmx.de
@
text
@@
