head	1.35;
access;
symbols
	OPENBSD_5_4:1.33.0.2
	OPENBSD_5_4_BASE:1.33
	OPENBSD_5_3:1.32.0.6
	OPENBSD_5_3_BASE:1.32
	OPENBSD_5_2:1.32.0.4
	OPENBSD_5_2_BASE:1.32
	OPENBSD_5_1_BASE:1.32
	OPENBSD_5_1:1.32.0.2
	OPENBSD_5_0:1.30.0.2
	OPENBSD_5_0_BASE:1.30
	OPENBSD_4_9:1.28.0.2
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.24.0.4
	OPENBSD_4_8_BASE:1.24
	OPENBSD_4_7:1.24.0.2
	OPENBSD_4_7_BASE:1.24
	OPENBSD_4_6:1.23.0.8
	OPENBSD_4_6_BASE:1.23
	OPENBSD_4_5:1.23.0.6
	OPENBSD_4_5_BASE:1.23
	OPENBSD_4_4:1.23.0.4
	OPENBSD_4_4_BASE:1.23
	OPENBSD_4_3:1.23.0.2
	OPENBSD_4_3_BASE:1.23
	OPENBSD_4_2:1.21.0.12
	OPENBSD_4_2_BASE:1.21
	OPENBSD_4_1:1.21.0.10
	OPENBSD_4_1_BASE:1.21
	OPENBSD_4_0:1.21.0.8
	OPENBSD_4_0_BASE:1.21
	OPENBSD_3_9:1.21.0.6
	OPENBSD_3_9_BASE:1.21
	OPENBSD_3_8:1.21.0.4
	OPENBSD_3_8_BASE:1.21
	OPENBSD_3_7:1.21.0.2
	OPENBSD_3_7_BASE:1.21
	OPENBSD_3_6:1.20.0.6
	OPENBSD_3_6_BASE:1.20
	OPENBSD_3_5:1.20.0.4
	OPENBSD_3_5_BASE:1.20
	OPENBSD_3_4:1.20.0.2
	OPENBSD_3_4_BASE:1.20
	OPENBSD_3_3:1.18.0.2
	OPENBSD_3_3_BASE:1.18
	OPENBSD_3_2:1.17.0.2
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.16.0.2
	OPENBSD_3_1_BASE:1.16
	OPENBSD_3_0:1.14.0.2
	OPENBSD_3_0_BASE:1.14
	OPENBSD_2_9_TRACKING_SWITCH:1.14
	OPENBSD_2_9:1.12.0.2
	OPENBSD_2_9_BASE:1.12
	OPENBSD_2_8:1.9.0.2
	OPENBSD_2_8_BASE:1.9
	OPENBSD_2_7:1.8.0.2
	OPENBSD_2_7_BASE:1.8
	OPENBSD_2_6:1.3.0.4
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2
	marc_1998-jun-03:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.35
date	2013.12.10.21.57.12;	author naddy;	state dead;
branches;
next	1.34;

1.34
date	2013.12.02.15.29.29;	author naddy;	state Exp;
branches;
next	1.33;

1.33
date	2013.03.10.23.04.45;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2011.11.13.12.50.39;	author naddy;	state Exp;
branches;
next	1.31;

1.31
date	2011.11.01.19.00.25;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2011.07.04.04.24.01;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2011.06.21.20.21.21;	author naddy;	state Exp;
branches;
next	1.28;

1.28
date	2010.11.15.00.22.49;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2010.10.24.21.04.39;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2010.10.23.18.35.23;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2010.10.18.16.57.47;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2009.08.10.06.30.30;	author kili;	state Exp;
branches;
next	1.23;

1.23
date	2007.11.06.22.01.26;	author rui;	state Exp;
branches;
next	1.22;

1.22
date	2007.09.15.21.36.57;	author simon;	state Exp;
branches;
next	1.21;

1.21
date	2004.11.21.21.41.23;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2003.07.14.16.13.43;	author jason;	state Exp;
branches;
next	1.19;

1.19
date	2003.06.19.20.17.25;	author pvalchev;	state Exp;
branches;
next	1.18;

1.18
date	2002.10.24.23.05.53;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2002.07.17.22.40.00;	author lebel;	state Exp;
branches;
next	1.16;

1.16
date	2002.03.21.20.35.43;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2001.10.28.13.05.45;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2001.08.02.23.54.56;	author pvalchev;	state Exp;
branches;
next	1.13;

1.13
date	2001.08.02.22.53.18;	author pvalchev;	state Exp;
branches;
next	1.12;

1.12
date	2001.04.08.23.32.44;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2001.02.27.23.03.41;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2001.02.26.11.52.17;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2000.10.22.15.41.34;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.04.08.22.37.42;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.24.22.11.36;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.12.18.02.32;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.01.10.08.06;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.10.23.14.29;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	99.04.01.02.57.54;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	98.10.07.05.03.28;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.06.03.23.02.24;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.06.03.23.02.24;	author marc;	state Exp;
branches;
next	;


desc
@@


1.35
log
@Remove cad/spice.  Incredibly old codebase that hasn't been maintained
for 20 years.  For a suitable replacement, see cad/ngspice.  ok bentley@@
@
text
@# $OpenBSD: Makefile,v 1.34 2013/12/02 15:29:29 naddy Exp $

COMMENT=	Simulation Program for Integrated Circuit Electronics

V=			3f5
DISTNAME=		spice${V}
PKGNAME=		spice-${V}
REVISION=		7
CATEGORIES=     	cad

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		X11 Xaw Xext Xmu Xt c m termlib

MASTER_SITES=		http://embedded.eecs.berkeley.edu/pubs/downloads/spice/
HOMEPAGE=		http://bwrc.eecs.berkeley.edu/Classes/IcBook/SPICE/

MAKE_ENV=		MAKE_PROGRAM='${MAKE_PROGRAM}' CC="${CC}"

USE_GROFF=		Yes
NO_TEST=		Yes

do-configure:
	@@cp ${FILESDIR}/Makefile ${WRKSRC}
	@@cp ${FILESDIR}/OpenBSD ${WRKSRC}/conf

.include <bsd.port.mk>
@


1.34
log
@Replace the one use of ftime() on BSD with gettimeofday().
Also remove the useless inclusion of <sgtty.h>
ok jca@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/03/10 23:04:45 espie Exp $
@


1.33
log
@PERMIT/ REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/11/13 12:50:39 naddy Exp $
d8 1
a8 1
REVISION=		6
@


1.32
log
@even code from 1993 doesn't need union wait
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/11/01 19:00:25 jasper Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d22 1
a22 1
NO_REGRESS=		Yes
@


1.31
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/07/04 04:24:01 naddy Exp $
d8 1
a8 1
REVISION=		5
@


1.30
log
@let USE_GROFF deal with the source pages rather than installing the
miserable-looking included cat pages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/06/21 20:21:21 naddy Exp $
d8 1
a8 1
REVISION=		4
d17 1
a17 1
WANTLIB=		X11 Xaw Xext Xmu Xt c m pthread-stubs termlib xcb
@


1.29
log
@remove USE_GROFF from ports that already ship a preformatted page
in their source
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/11/15 00:22:49 espie Exp $
d8 1
a8 1
REVISION=		3
d24 1
@


1.28
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/10/24 21:04:39 ajacoutot Exp $
a21 1
USE_GROFF =		Yes
@


1.27
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/10/23 18:35:23 sthen Exp $
d22 1
a22 1
USE_GROFF =	Yes
@


1.26
log
@revision/new lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/10/18 16:57:47 espie Exp $
a21 1
USE_X11=		Yes
@


1.25
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/08/10 06:30:30 kili Exp $
d7 2
a8 1
PKGNAME=		spice-${V}p3
d16 1
@


1.24
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/11/06 22:01:26 rui Exp $
d21 1
@


1.23
log
@- update spice to version 3f5 de facto (instead of 3f4 + patches), from pedro@@

"go for it" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/09/15 21:36:57 simon Exp $
d7 1
a7 1
PKGNAME=		spice-${V}p2
d15 1
a15 1
WANTLIB=		X11 Xaw Xext Xmu Xt c m termlib
@


1.22
log
@remove surrounding quotes from COMMENT/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/11/21 21:41:23 espie Exp $
d5 3
a7 2
DISTNAME=		sp3f4.kit
PKGNAME=		spice-3f5p1
d10 2
a11 1
PERMIT_PACKAGE_CDROM=	no fee
d13 1
a13 1
PERMIT_DISTFILES_CDROM=	no fee
d17 2
a18 2
MASTER_SITES=		ftp://ic.eecs.berkeley.edu/pub/Spice3/
DISTFILES=		sp3f4.kit.tar.gz sp3f4.patch.tar.gz
a20 1
WRKDIST=		${WRKDIR}
a23 18

# Apply the patches that make this 3f5
#
pre-patch:
	@@${ECHO_MSG} "===>  Applying distribution patches";
.if defined(PATCH_DEBUG)
	@@cd ${WRKDIR}/3f4patches; \
	  ${PATCH} -d ${WRKSRC}/src/lib/fte -E -p1 < grid.patch; \
	  ${PATCH} -d ${WRKSRC}/src/lib/fte -E -p1 < newcoms.patch; \
	  ${PATCH} -d ${WRKSRC}/src/lib/sparse -E -p1 < spsmp.patch
	@@find ${WRKSRC}/ -name \*.orig -exec rm -f {} \;
.else
	@@cd ${WRKDIR}/3f4patches; \
	  ${PATCH} -d ${WRKSRC}/src/lib/fte -N -s -E -p1 < grid.patch; \
	  ${PATCH} -d ${WRKSRC}/src/lib/fte -N -s -E -p1 < newcoms.patch; \
	  ${PATCH} -d ${WRKSRC}/src/lib/sparse -N -s -E -p1 < spsmp.patch
	@@find ${WRKSRC}/ -name \*.orig -exec rm -f {} \;
.endif
@


1.21
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/07/14 16:13:43 jason Exp $
d3 1
a3 1
COMMENT=	"Simulation Program for Integrated Circuit Electronics"
d9 1
a9 1
PERMIT_PACKAGE_CDROM=	"no fee"
d11 1
a11 1
PERMIT_DISTFILES_CDROM=	"no fee"
@


1.20
log
@the .Z files are gone from berkeley, but the .gz's remain.  Use those.
ok pval
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/06/19 20:17:25 pvalchev Exp $
d13 1
@


1.19
log
@point this to the correct location to find its data files on runtime
bump PKGNAME
issue pointed out by jason@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/10/24 23:05:53 naddy Exp $
d15 1
a15 1
DISTFILES=		sp3f4.kit.tar.Z sp3f4.patch.tar.Z
@


1.18
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/07/17 22:40:00 lebel Exp $
d6 1
a6 1
PKGNAME=		spice-3f5
@


1.17
log
@respect ${CC} and nuke PATH= from the util/build script
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/03/21 20:35:43 espie Exp $
a7 1
NEED_VERSION=		1.515
d17 1
a17 1
USE_X11=		yes
d20 2
@


1.16
log
@bump NEED_VERSION for distinfo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/10/28 13:05:45 espie Exp $
d20 1
a20 1
MAKE_ENV=		MAKE_PROGRAM='${MAKE_PROGRAM}'
@


1.15
log
@Zap default MAINTAINER from Makefile.
Especially now that the default line is more verbose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/08/02 23:54:56 pvalchev Exp $
d8 1
a8 1
NEED_VERSION=		1.363
@


1.14
log
@Rename patches to make update-patches useful, delete the .orig files after
applying the distribution internal patches not to confuse update-patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/08/02 22:53:18 pvalchev Exp $
a8 2

MAINTAINER=		ports@@openbsd.org
@


1.13
log
@o Use MAKE_PROGRAM and X11BASE, do not hardcode their values
o Do not pass MAKE_FLAGS for things already taken care of by bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/04/08 23:32:44 naddy Exp $
d33 1
d39 1
@


1.12
log
@pull in COMMENT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/02/27 23:03:41 naddy Exp $
d22 1
a22 1
MAKE_FLAGS=		CC='${CC}'
@


1.11
log
@respect CC as well
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.10 2001/02/26 11:52:17 naddy Exp $
d8 1
a8 1
NEED_VERSION=		1.191
@


1.10
log
@- respect CFLAGS
- move configure fragment into Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/10/22 15:41:34 espie Exp $
d20 1
@


1.9
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/04/08 22:37:42 espie Exp $
d26 1
a26 1
	@@(cd ${WRKDIR}/3f4patches; \
d29 1
a29 1
	  ${PATCH} -d ${WRKSRC}/src/lib/sparse -E -p1 < spsmp.patch)
d31 1
a31 1
	@@(cd ${WRKDIR}/3f4patches; \
d34 1
a34 1
	  ${PATCH} -d ${WRKSRC}/src/lib/sparse -N -s -E -p1 < spsmp.patch)
d36 4
@


1.8
log
@Spice, Fake, happy.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/03/24 22:11:36 espie Exp $
a19 1
FAKE=			Yes
@


1.7
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/03/12 18:02:32 turan Exp $
d20 1
@


1.6
log
@license.  no fee.  restrict cdrom.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/03/01 10:08:06 turan Exp $
d6 1
a16 1
NEED_VERSION=		1.191
@


1.5
log
@change maintainer to ports@@openbsd.org as requested
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/10 23:14:29 espie Exp $
d8 5
@


1.4
log
@Kill NO_WRKSUBDIR.
Clean up a few deprecated variables on the fly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/04/01 02:57:54 brad Exp $
d7 1
a7 1
MAINTAINER=		marc@@openbsd.org
@


1.3
log
@remove unnecessary comments and fix email address's
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1998/10/07 05:03:28 marc Exp $
d11 1
d14 1
a14 1
NO_WRKSUBDIR=		yes
@


1.2
log
@update makefile
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.1.1.1 1998/06/03 23:02:24 marc Exp $
#
@


1.1
log
@Initial revision
@
text
@d1 1
a1 6
# OpenBSD makefile for:	spice
# Version required:	3f5
# Date created:		1998-Jun-03
# Whom:			marc@@OpenBSD.ORG
#
# $OpenBSD:$
a3 2
# What port/package will be created
#
a7 2
# where to send bitches about this port
#
a9 2
# where the source files and patches can be fetched
#
a12 6
# How to extract the sources
#
EXTRACT_SUFX=		.tar.Z

# build/configuration variables
#
a13 3

# Things that we don't want to do for this port/package
#
@


1.1.1.1
log
@cad tree with spice port
@
text
@@
