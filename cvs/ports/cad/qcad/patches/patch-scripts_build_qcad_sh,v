head	1.1;
access;
symbols
	OPENBSD_6_1:1.1.0.42
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.40
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.36
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.38
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.34
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.32
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.30
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.28
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.26
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.24
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.22
	OPENBSD_5_0:1.1.0.20
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.18
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.16
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.14
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.12
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.10
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.8
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.6
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.4
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.2
	OPENBSD_4_1_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2007.01.09.16.30.38;	author steven;	state Exp;
branches;
next	;


desc
@@


1.1
log
@update to qcad 2.0.5.0

problem on amd64 fixed by Martynas Venckus, thanks

also tested by ckuethe, ajacoutot, Antti Harri, and Andreas Bihlmaier
@
text
@$OpenBSD$
--- scripts/build_qcad.sh.orig	Tue Nov 22 12:27:33 2005
+++ scripts/build_qcad.sh	Sat Jan  6 22:13:03 2007
@@@@ -41,6 +41,11 @@@@ then
     export MAKE=gmake
     echo "Platform is FreeBSD"
     platform=freebsd
+elif [ `uname` == "OpenBSD" ]
+then
+    export MAKE=${MAKE}
+    echo "Platform is OpenBSD"
+    platform=openbsd
 else
     export MAKE=make
     echo "Platform is Linux"
@@@@ -53,7 +58,7 @@@@ fi
 if [ -z $QTDIR ]
 then
     echo "QTDIR not set. Aborting.."
-    exit
+    exit 1;
 fi
 
 modules="qcadlib qcadcmd qcadactions qcadguiqt"
@@@@ -164,7 +169,7 @@@@ cd ..
 if [ ! -f fparser/lib/libfparser.a ]
 then
     echo "Building libfparser.a failed"
-    exit;
+    exit 1;
 fi
 
 echo "-------- Building dxflib --------"
@@@@ -179,7 +184,7 @@@@ cd ..
 if [ ! -f dxflib/lib/libdxf.a ]
 then
     echo "Building libdxf.a failed"
-    exit;
+    exit 1;
 fi
 
 
@@@@ -221,7 +226,7 @@@@ do
         if [ ! -f $p/lib/*.a ]
         then
             echo "Building $p failed"
-            exit;
+            exit 1;
         fi
     fi
 done
@@@@ -249,6 +254,7 @@@@ then
     echo "-------- Building Translations --------"
     cd scripts
     sh ./release_translations.sh
+    cd ..
 fi
 
 if [ "x$platform" == "xosx" ]
@@@@ -256,13 +262,13 @@@@ then
     if [ ! -d qcad/$target.app ]
     then
         echo "Building qcad binary failed"
-        exit;
+        exit 1;
     fi
 else
     if [ ! -f qcad/$target ]
     then
         echo "Building qcad binary failed"
-        exit;
+        exit 1;
     fi
 fi
 
@
