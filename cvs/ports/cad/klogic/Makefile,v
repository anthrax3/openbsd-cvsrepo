head	1.35;
access;
symbols
	OPENBSD_6_1:1.35.0.4
	OPENBSD_6_1_BASE:1.35
	OPENBSD_6_0:1.35.0.2
	OPENBSD_6_0_BASE:1.35
	OPENBSD_5_9:1.34.0.2
	OPENBSD_5_9_BASE:1.34
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.30.0.6
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.30.0.4
	OPENBSD_5_6_BASE:1.30
	OPENBSD_5_5:1.30.0.2
	OPENBSD_5_5_BASE:1.30
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.24.0.2
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.23.0.4
	OPENBSD_5_2_BASE:1.23
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.2
	OPENBSD_5_0:1.21.0.4
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.21.0.2
	OPENBSD_4_9_BASE:1.21
	OPENBSD_4_8:1.17.0.4
	OPENBSD_4_8_BASE:1.17
	OPENBSD_4_7:1.17.0.2
	OPENBSD_4_7_BASE:1.17
	OPENBSD_4_6:1.15.0.4
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.2
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.14.0.4
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.14.0.2
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.11.0.2
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.10.0.2
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.8.0.2
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.7.0.4
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	espie:1.1.1.1
	klogic:1.1.1;
locks; strict;
comment	@# @;


1.35
date	2016.03.19.22.48.27;	author naddy;	state Exp;
branches;
next	1.34;
commitid	SIHnGQ3XIdGCb86J;

1.34
date	2015.11.24.09.11.03;	author jasper;	state Exp;
branches;
next	1.33;
commitid	x9aAifyKiYiivEom;

1.33
date	2015.09.12.14.15.32;	author ajacoutot;	state Exp;
branches;
next	1.32;
commitid	JQABuKOhSyuXchE5;

1.32
date	2015.08.17.20.34.20;	author sthen;	state Exp;
branches;
next	1.31;
commitid	60BvOqUl7gD2yB7y;

1.31
date	2015.05.05.17.00.16;	author sthen;	state Exp;
branches;
next	1.30;
commitid	ukCYGVBlglFzny8e;

1.30
date	2013.10.22.11.34.13;	author zhuk;	state Exp;
branches;
next	1.29;

1.29
date	2013.10.05.07.34.30;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2013.08.20.07.22.33;	author zhuk;	state Exp;
branches;
next	1.27;

1.27
date	2013.06.24.15.53.38;	author zhuk;	state Exp;
branches;
next	1.26;

1.26
date	2013.03.21.08.45.13;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.10.23.04.45;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2013.01.23.21.16.30;	author zhuk;	state Exp;
branches;
next	1.23;

1.23
date	2011.11.01.19.00.25;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2011.09.16.08.48.02;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.15.00.22.49;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.10.24.21.04.39;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.23.18.35.23;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2010.09.12.16.49.09;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2009.09.10.22.17.52;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2009.08.10.06.30.30;	author kili;	state Exp;
branches;
next	1.15;

1.15
date	2008.10.28.12.13.41;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2007.11.13.12.55.46;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2007.09.15.21.36.57;	author simon;	state Exp;
branches;
next	1.12;

1.12
date	2007.04.13.14.29.38;	author sturm;	state Exp;
branches;
next	1.11;

1.11
date	2006.09.18.11.40.07;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2006.08.01.12.13.29;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2006.06.12.14.32.48;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2006.01.22.17.02.50;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2004.11.21.21.41.23;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2004.08.10.08.12.09;	author xsa;	state Exp;
branches;
next	1.5;

1.5
date	2004.05.15.14.32.26;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2004.04.15.05.59.22;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2003.12.30.19.59.16;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.20.13.42.45;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2003.02.08.12.48.23;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.02.08.12.48.23;	author espie;	state Exp;
branches;
next	;


desc
@@


1.35
log
@drop SHARED_ONLY from KDE3 ports
@
text
@# $OpenBSD: Makefile,v 1.34 2015/11/24 09:11:03 jasper Exp $

COMMENT= 	logic circuit simulator for KDE

DISTNAME=	klogic-1.6
REVISION=	12
CATEGORIES=	cad education x11 x11/kde

MASTER_SITES=	https://distfiles.nl/

# GPL
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ${KDE}/DCOP ${KDE}/kdecore ${KDE}/kdefx ${KDE}/kdesu
WANTLIB += ${KDE}/kdeui ${KDE}/kio ${KDE}/kwalletclient
WANTLIB += GL ICE SM X11 Xcursor Xdamage Xext Xfixes Xft Xi Xinerama Xmu
WANTLIB += Xrandr Xrender Xt Xxf86vm art_lgpl_2 c drm expat fontconfig
WANTLIB += freetype idn jpeg lcms m mng png pthread stdc++ util xcb
WANTLIB += xcb-glx z X11-xcb Xau Xdmcp fam glapi pthread-stubs xcb-dri2

LIB_DEPENDS=	x11/kde/libs3

MODULES=	x11/kde devel/gettext
MODKDE_VERSION=	3.1
MODKDE_FIXUP_DATADIR=	Yes

PORTHOME=	${WRKDIR}

MAKE_ENV=	KDEDIR="${LOCALBASE}"
MAKE_FLAGS=	${MODKDE_MAKE_FLAGS}

USE_GMAKE=	Yes
CONFIGURE_STYLE= autoconf
MODGNU_CONFIG_GUESS_DIRS= ${MODKDE_CONFIG_GUESS_DIRS}
CONFIGURE_ARGS=	${MODKDE_CONFIGURE_ARGS}
CONFIGURE_ENV=	${MODKDE_CONFIGURE_ENV}
AUTOCONF_VERSION=	2.57

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/pixmaps
	mv ${PREFIX}/share/icons/klogic/*.xpm ${PREFIX}/share/pixmaps/
	rmdir ${PREFIX}/share/icons/klogic
	rmdir ${PREFIX}/share/icons

.include <bsd.port.mk>
@


1.34
log
@switch distfiles.nl to SSL, setup with security/letsencrypt/client
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/09/12 14:15:32 ajacoutot Exp $
a2 1
SHARED_ONLY=	Yes
@


1.33
log
@CONFIGURE_STYLE=autoconf implies "gnu".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/08/17 20:34:20 sthen Exp $
d10 1
a10 1
MASTER_SITES=	http://distfiles.nl/
@


1.32
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/05/05 17:00:16 sthen Exp $
d34 1
a34 1
CONFIGURE_STYLE= gnu autoconf
@


1.31
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/10/22 11:34:13 zhuk Exp $
d7 1
a7 1
REVISION=	11
d20 1
a20 1
WANTLIB += xcb-glx z
@


1.30
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/10/05 07:34:30 espie Exp $
d7 1
a7 1
REVISION=	10
a14 4
WANTLIB += GL ICE SM X11 Xcursor Xdamage Xext Xfixes Xft
WANTLIB += Xi Xinerama Xmu Xrandr Xrender Xt Xxf86vm art_lgpl_2
WANTLIB += c drm expat fontconfig freetype idn jpeg
WANTLIB += lcms m mng png pthread stdc++ util xcb z
d17 4
@


1.29
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/08/20 07:22:33 zhuk Exp $
d7 1
a7 1
REVISION=	9
d26 1
@


1.28
log
@Put icons in appropriate places instead of ${PREFIX}/share/icons/${appname}.
Found with portcheck.

okay ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/06/24 15:53:38 zhuk Exp $
d7 1
a7 1
REVISION=	8
@


1.27
log
@Massive cleanup for KDE3. Main point is in changing WANTLIB from "foo" to
"lib/kde3/foo" where appropirate, but also many missing desktop goo items
added, some PFRAG.shared removed and so on.

input and okay landry@@ and ajacoutot@@, also okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/21 08:45:13 ajacoutot Exp $
d7 1
a7 1
REVISION=	7
d38 6
@


1.26
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/10 23:04:45 espie Exp $
d7 1
a7 1
REVISION=	6
d15 1
a15 1
WANTLIB += DCOP GL ICE SM X11 Xcursor Xdamage Xext Xfixes Xft
d17 4
a20 3
WANTLIB += c drm expat fontconfig freetype idn jpeg kdecore kdefx
WANTLIB += kdesu kdeui kio kwalletclient lcms m mng png pthread
WANTLIB += stdc++ util xcb z
@


1.25
log
@PERMIT/ REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/01/23 21:16:30 zhuk Exp $
a31 1
USE_LIBTOOL=	Yes
@


1.24
log
@Move KDE 3 headers from ${PREFIX}/include to ${PREFIX}/include/kde.
This just unbreaks build of the port, no need to bump REVISION.

Tested in a bulk, input and okay by landry@@
Reviewed by ajacoutot@@ too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/11/01 19:00:25 jasper Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.23
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/09/16 08:48:02 espie Exp $
d27 1
d36 1
a36 1
CONFIGURE_STYLE= gnu
d40 1
@


1.22
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/11/15 00:22:49 espie Exp $
d7 1
a7 1
REVISION=	5
d18 5
a22 4
WANTLIB += art_lgpl_2 jpeg kwalletclient ICE SM X11 Xext
WANTLIB += Xrender c m png pthread stdc++ util z idn
WANTLIB += Xau Xdmcp fam rpcsvc pthread-stubs xcb
WANTLIB += kdecore DCOP kdefx kdesu kdeui kio
@


1.21
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/10/24 21:04:39 ajacoutot Exp $
d7 1
a7 1
REVISION=	4
@


1.20
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/23 18:35:23 sthen Exp $
d23 1
a23 1
LIB_DEPENDS=	::x11/kde/libs3
@


1.19
log
@revision/new lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/09/12 16:49:09 jasper Exp $
a31 1
USE_X11=	Yes
@


1.18
log
@- move distfiles/ to a proper mirroring location.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/09/10 22:17:52 jasper Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
d18 4
a21 3
WANTLIB=	art_lgpl_2 jpeg kwalletclient ICE SM X11 Xext \
		Xrender c m png pthread stdc++ util z idn \
		Xau Xdmcp fam rpcsvc pthread-stubs xcb
d23 1
a23 1
LIB_DEPENDS=	kdecore.>=4,DCOP,kdefx,kdesu,kdeui,kio::x11/kde/libs3
@


1.17
log
@- move distfiles to another site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/08/10 06:30:30 kili Exp $
d10 1
a10 1
MASTER_SITES=	http://www.phil.uu.nl/~lievisse/distfiles/
@


1.16
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/10/28 12:13:41 jasper Exp $
d10 1
a10 1
MASTER_SITES=	http://humppa.nl/distfiles/
@


1.15
log
@- homepage is no more and thus master sites too, add a working master site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/11/13 12:55:46 steven Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
d20 1
a20 1
		Xau Xdmcp fam rpcsvc
@


1.14
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/09/15 21:36:57 simon Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
a8 1
MASTER_SITES=	${HOMEPAGE}Version/
d10 1
a10 1
HOMEPAGE=	http://www.a-rostin.de/klogic/
@


1.13
log
@remove surrounding quotes from COMMENT/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/04/13 14:29:38 sturm Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d18 4
a21 3
WANTLIB=		art_lgpl_2 jpeg kwalletclient ICE SM X11 Xext \
			Xrender c m png pthread stdc++ util z iconv idn \
			Xau Xdmcp
d25 1
a25 1
MODULES=	x11/kde
@


1.12
log
@WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/09/18 11:40:07 espie Exp $
d4 1
a4 1
COMMENT= 	"logic circuit simulator for KDE"
@


1.11
log
@remove `empty' version spec (.0.0) which is no longer needed to desambiguate
library names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/08/01 12:13:29 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d19 2
a20 1
			Xrender c m png pthread stdc++ util z iconv idn
@


1.10
log
@new-style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/06/12 14:32:48 espie Exp $
d18 1
a18 1
WANTLIB=		art_lgpl_2.0.0 jpeg kwalletclient ICE SM X11 Xext \
@


1.9
log
@more libidn wantlib updates.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.8 2006/01/22 17:02:50 espie Exp $

NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
d3 1
d21 1
a21 1
LIB_DEPENDS=	kdecore.4,DCOP,kdefx,kdesu,kdeui,kio::x11/kde/libs3
@


1.8
log
@USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/11/21 21:41:23 espie Exp $
d8 1
d20 1
a20 1
			Xrender c m png pthread stdc++ util z
@


1.7
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/08/10 08:12:09 xsa Exp $
d32 1
@


1.6
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/05/15 14:32:26 brad Exp $
d18 2
@


1.5
log
@Change kde -> KDE in COMMENT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/04/15 05:59:22 brad Exp $
d21 1
a21 1
MODULES=	kde
@


1.4
log
@- don't try to build on archs without shared libs
- style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/12/30 19:59:16 espie Exp $
d5 1
a5 1
COMMENT= 	"logic circuit simulator for kde"
@


1.3
log
@Update to 1.6. Builds with gcc3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/06/20 13:42:45 espie Exp $
d3 7
a9 3
COMMENT= 		"logic circuit simulator for kde"
CATEGORIES=		cad education x11 x11/kde
DISTNAME=		klogic-1.6
a12 2
MASTER_SITES=${HOMEPAGE}Version/

d14 4
a17 4
PERMIT_DISTFILES_CDROM?=	Yes
PERMIT_DISTFILES_FTP?=		Yes
PERMIT_PACKAGE_CDROM?=		Yes
PERMIT_PACKAGE_FTP?=		Yes
d19 1
a20 2
AUTOCONF_VERSION=2.57
MODKDE_VERSION= 3.1
d23 1
a23 1
LIB_DEPENDS= kdecore.4,DCOP,kdefx,kdesu,kdeui,kio::x11/kde/libs3
d25 2
a26 9
MODGNU_CONFIG_GUESS_DIRS=	${MODKDE_CONFIG_GUESS_DIRS}
CONFIGURE_STYLE?=	autoconf
USE_GMAKE=		Yes
CONFIGURE_ARGS+=	${MODKDE_CONFIGURE_ARGS}
PORTHOME?=${WRKDIR}

CONFIGURE_ENV=		${MODKDE_CONFIGURE_ENV}
MAKE_ENV+=		${MODKDE_CONFIGURE_ENV}
MAKE_FLAGS+=		${MODKDE_MAKE_FLAGS}
d28 6
a33 1
CFLAGS+=-fno-stack-protector
@


1.2
log
@Update to 1.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/02/08 12:48:23 espie Exp $
d5 1
a5 1
DISTNAME=		klogic-1.5
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/02/02 13:25:09 espie Exp $
d5 1
a5 1
DISTNAME=		klogic-1.404
d9 1
a9 1
MASTER_SITES=${HOMEPAGE}
d18 1
a25 1
AUTOCONF_NEW=		Yes
@


1.1.1.1
log
@reimport klogic, see x11/kde/klogic for previous history
@
text
@@
