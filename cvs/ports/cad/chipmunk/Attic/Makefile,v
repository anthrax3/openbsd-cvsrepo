head	1.19;
access;
symbols
	OPENBSD_5_5:1.18.0.2
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.15.0.4
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.2
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.2
	OPENBSD_5_0:1.12.0.4
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.10.0.4
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.2
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.9.0.8
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.9.0.6
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.4
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.7.0.12
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.10
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.8
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.6
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.7.0.4
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.5.0.4
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_5_BASE:1.5
	pvalchev_20031023:1.1.1.1
	pvalchev:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2014.03.21.20.01.42;	author naddy;	state dead;
branches;
next	1.18;

1.18
date	2013.12.05.12.19.00;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2013.04.03.15.35.54;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.10.23.04.44;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2012.05.17.10.36.34;	author landry;	state Exp;
branches;
next	1.14;

1.14
date	2012.03.18.18.05.03;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2011.11.01.19.00.25;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2010.10.24.21.04.39;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.23.18.35.23;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2009.08.10.06.30.30;	author kili;	state Exp;
branches;
next	1.9;

1.9
date	2008.01.04.17.48.33;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2007.09.15.21.36.57;	author simon;	state Exp;
branches;
next	1.7;

1.7
date	2004.12.30.00.17.52;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2004.11.21.21.41.23;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2004.02.23.00.33.34;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2004.02.21.00.14.56;	author pvalchev;	state Exp;
branches;
next	1.3;

1.3
date	2003.12.03.01.53.35;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2003.11.21.14.50.41;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2003.10.25.18.33.27;	author pvalchev;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.10.25.18.33.27;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.19
log
@remove chipmunk: ancient cruft ported to Unix some 25 years ago and
on life support for a long time; ok sthen@@
@
text
@# $OpenBSD: Makefile,v 1.18 2013/12/05 12:19:00 naddy Exp $

COMMENT=	electronic CAD system
BROKEN-sparc64 =	Assembler messages: Error: Illegal operands

PKGNAME=	chipmunk-1.57
REVISION=	5
DISTNAME=	psys-1.57
DISTFILES=	psys-1.57.tar.gz webdoc1.46.tar.gz log-5.61.tar.gz \
		view-1.13.tar.gz until-1.13.tar.gz wol-1.13.tar.gz \
		wolcomp-1.13.tar.gz
CATEGORIES=	cad

HOMEPAGE=	http://www.cs.berkeley.edu/~lazzaro/chipmunk/

MAINTAINER=	Peter Valchev <pvalchev@@openbsd.org>

# GPL
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	X11 c m

#MASTER_SITES=	http://www.cs.berkeley.edu/~lazzaro/chipmunk/pickup/sources/
MASTER_SITES=	http://www.sightly.net/distfiles/
DIST_SUBDIR=	chipmunk

WRKDIST=	${WRKDIR}
ALL_TARGET=	makeonly
LDIR=		${LOCALBASE}/share/chipmunk/
MAKE_FLAGS=	CHIPMUNKCC="${CC} ${CFLAGS}" XINCLUDEDIR="${X11BASE}/include" \
	    	CHIPMUNKFLAGS="-DBSD -Dfreebsd -Dlinux -DF_OK=0" \
		LIBX11="-L${X11BASE}/lib -lX11" \
		CHIPLIB="${LDIR}" \
		LOGLIBDIR="${LDIR}" \
		LIBDIR="${LDIR}" \
		WOLLIBDIR="${LDIR}" \
		UNTILPSMAP="${LDIR}/pensps.map"
		
NO_TEST=	Yes

post-extract:
	@@cp ${FILESDIR}/Makefile ${WRKDIR}

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/chipmunk
	${INSTALL_DATA} ${WRKSRC}/psys/src/texstuff.ps ${PREFIX}/share/doc/chipmunk/
	${INSTALL_DATA} ${WRKSRC}/psys/src/untilstuff.ps ${PREFIX}/share/doc/chipmunk/
	${INSTALL_PROGRAM} ${WRKSRC}/log/src/log ${PREFIX}/bin/diglog
	${INSTALL_PROGRAM} ${WRKSRC}/log/src/log ${PREFIX}/bin/analog
	${INSTALL_PROGRAM} ${WRKSRC}/log/src/loged ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKSRC}/log/src/fixfet7 ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKSRC}/wol/wol ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKSRC}/until/V1.2/until ${PREFIX}/bin
	${INSTALL_DATA} ${WRKSRC}/until/V1.2/pensps.map ${PREFIX}/share/doc/chipmunk/
	${INSTALL_DATA} ${WRKSRC}/until/V1.2/system.untilrc ${PREFIX}/share/doc/chipmunk/
	${INSTALL_DATA} ${WRKSRC}/until/V1.2/until.pro ${PREFIX}/share/doc/chipmunk/
	${INSTALL_DATA} ${WRKSRC}/until/V1.2/until.ps ${PREFIX}/share/doc/chipmunk/
	${INSTALL_DATA} ${WRKSRC}/view/view ${PREFIX}/bin/cview
	${INSTALL_DATA_DIR} ${PREFIX}/share/chipmunk
	${INSTALL_DATA} ${WRKSRC}/log/lib/*.* ${PREFIX}/share/chipmunk
	${INSTALL_DATA} ${WRKSRC}/view/lib/* ${PREFIX}/share/chipmunk

.include <bsd.port.mk>
@


1.18
log
@L_cuserid -> LOGIN_NAME_MAX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/04/03 15:35:54 naddy Exp $
@


1.17
log
@casting a pointer type does not magically change the size of the
referenced variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/10 23:04:44 espie Exp $
d7 1
a7 1
REVISION=	4
@


1.16
log
@PERMIT/ REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/05/17 10:36:34 landry Exp $
d7 1
a7 1
REVISION=	3
d21 1
a21 1
WANTLIB=		X11 c m
@


1.15
log
@mark as BROKEN-sparc64 since it never built there
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/03/18 18:05:03 naddy Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d39 1
a39 1
NO_REGRESS=	Yes
@


1.14
log
@getline -> get_line
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/11/01 19:00:25 jasper Exp $
d4 1
@


1.13
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/10/24 21:04:39 ajacoutot Exp $
d6 1
a6 1
REVISION=	2
@


1.12
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/23 18:35:23 sthen Exp $
d6 1
a6 1
REVISION=	1
d23 1
a23 1
WANTLIB=		X11 c m pthread-stubs xcb
@


1.11
log
@revision/new lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/08/10 06:30:30 kili Exp $
a40 1
USE_X11=	Yes
@


1.10
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/01/04 17:48:33 espie Exp $
d5 2
a6 1
PKGNAME=	chipmunk-1.57p1
d22 1
@


1.9
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/09/15 21:36:57 simon Exp $
d5 1
a5 1
PKGNAME=	chipmunk-1.57p0
d21 1
a21 1
WANTLIB=		X11 c m
@


1.8
log
@remove surrounding quotes from COMMENT/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/12/30 00:17:52 espie Exp $
a38 2
FAKE_FLAGS=	${MAKE_FLAGS}

@


1.7
log
@conflict
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/11/21 21:41:23 espie Exp $
d3 1
a3 1
COMMENT=	"electronic CAD system"
@


1.6
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/02/23 00:33:34 naddy Exp $
d5 1
a5 1
PKGNAME=	chipmunk-1.57
@


1.5
log
@drop workarounds for gcc2.95/sparc64 bugs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/02/21 00:14:56 pvalchev Exp $
d21 1
@


1.4
log
@- fix homepages; from mjc@@bitz.ca
- add license markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/12/03 01:53:35 pvalchev Exp $
a24 4

.if ${MACHINE_ARCH} == "sparc64"
PATCH_LIST=	patch-* gcc-*
.endif
@


1.3
log
@i am hosting the distfiles on my machine for now, because of
- morons who do not know what version numbers are and try to change the past
- lack of a real distfiles mirror
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/11/21 14:50:41 sturm Exp $
d12 1
a12 1
HOMEPAGE=	http://www.pcmp.caltech.edu/chipmunk/
@


1.2
log
@build a file with -O0 on sparc64 (this only fixes the build, the program
itself is probably broken, as there are *lots* of 64bit issues)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/10/25 18:33:27 pvalchev Exp $
d22 2
a23 1
MASTER_SITES=	http://www.cs.berkeley.edu/~lazzaro/chipmunk/pickup/sources/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d24 4
@


1.1.1.1
log
@Import of chipmunk-1.57

Tools for schematic capture, netlist creation, and analog and digital
simulation (log), IC mask layout, extraction, and DRC (wol), simple
chip compilation (wolcomp), MOSIS fabrication request generation
(mosis), netlist comparison (netcmp), data plotting (view) and
postscript graphics editing (until). These tools were used exclusively
for the design and test of all the integrated circuits described in
Carver Mead's book "Analog VLSI and Neural Systems".  Until was used
as the primary tool for figure creation for the book.  The directory
also contains an example of an analog VLSI chip that was designed and
fabricated with these tools, and an example of an Actel
field-programmable gate array design that was simulated and converted
to Actel format with these tools (example).

These tools were originally written for HP 200 Series ("Chipmunk")
computers, and were later ported to Unix and the X Window System.
@
text
@@
