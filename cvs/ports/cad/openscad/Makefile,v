head	1.17;
access;
symbols
	OPENBSD_6_1:1.15.0.2
	OPENBSD_6_1_BASE:1.15
	OPENBSD_6_0:1.14.0.2
	OPENBSD_6_0_BASE:1.14
	OPENBSD_5_9:1.11.0.2
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.7.0.10
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.6
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.4
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.3.0.6
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	matthew_2011-Apr-29:1.1.1.1
	matthew:1.1.1;
locks; strict;
comment	@# @;


1.17
date	2017.07.16.19.18.49;	author espie;	state Exp;
branches;
next	1.16;
commitid	tt0GhWK5c4uf9ILG;

1.16
date	2017.04.10.11.45.24;	author sthen;	state Exp;
branches;
next	1.15;
commitid	XDh1zlSBq0boKsHk;

1.15
date	2017.01.23.13.50.10;	author zhuk;	state Exp;
branches;
next	1.14;
commitid	dm2PLXln2OTrAXyx;

1.14
date	2016.03.26.20.37.35;	author zhuk;	state Exp;
branches;
next	1.13;
commitid	OEdThNVtQpfieDxV;

1.13
date	2016.03.07.12.24.17;	author zhuk;	state Exp;
branches;
next	1.12;
commitid	sKX1Wx2ZinWRtK6C;

1.12
date	2016.03.06.19.22.04;	author landry;	state Exp;
branches;
next	1.11;
commitid	F5sFHwsZSQqfXtzv;

1.11
date	2015.12.07.07.52.32;	author jasper;	state Exp;
branches;
next	1.10;
commitid	K8iDDurcgoEh2RKQ;

1.10
date	2015.12.06.12.54.34;	author jasper;	state Exp;
branches;
next	1.9;
commitid	4KxDQHIny1imS11O;

1.9
date	2015.11.19.20.17.15;	author sthen;	state Exp;
branches;
next	1.8;
commitid	IKqYejklJIUnnmFU;

1.8
date	2015.08.24.23.31.04;	author bentley;	state Exp;
branches;
next	1.7;
commitid	WkZ97x0T2ljdIjWS;

1.7
date	2014.01.09.00.37.45;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2013.11.25.14.16.22;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2013.03.10.23.04.45;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.08.01.36.59;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2011.09.16.08.48.02;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2011.08.16.18.09.09;	author matthew;	state Exp;
branches;
next	1.1;

1.1
date	2011.04.29.18.55.37;	author matthew;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.04.29.18.55.37;	author matthew;	state Exp;
branches;
next	;


desc
@@


1.17
log
@use COMPILER_LIBCXX where applicable
@
text
@# $OpenBSD: Makefile,v 1.16 2017/04/10 11:45:24 sthen Exp $

COMMENT =		the programmer's solid 3D CAD modeller#'
BROKEN-sparc64=	SIGILL on src/cgalutils.cc with CGAL-4.6.3

V =			2015.03-2
DISTNAME =		openscad-${V:S/-/./}
REVISION =		0

CATEGORIES =		cad

HOMEPAGE =		http://www.openscad.org/

# GPLv2+ with CGAL exception
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += CGAL GL GLEW GLU ICE SM X11 Xext Xi Xinerama Xrender
WANTLIB += boost_filesystem-mt boost_program_options-mt boost_regex-mt
WANTLIB += boost_system-mt boost_thread-mt c fontconfig freetype
WANTLIB += glib-2.0 gmp harfbuzz m mpfr opencsg pthread qscintilla2
WANTLIB += ${COMPILER_LIBCXX} z lib/qt4/QtGui lib/qt4/QtOpenGL

MASTER_SITES =		http://files.openscad.org/
DISTFILES =		openscad-${V}.src.tar.gz

MODULES =		devel/gettext \
			devel/qmake \
			x11/qt4
BUILD_DEPENDS =		devel/bison \
			math/eigen3
LIB_DEPENDS =		devel/boost \
			devel/gmp \
			devel/harfbuzz \
			devel/mpfr \
			editors/qscintilla \
			graphics/glew \
			graphics/opencsg \
			math/cgal

RUN_DEPENDS =		devel/desktop-file-utils \
			fonts/liberation-fonts

# virtual memory exhausted: Cannot allocate memory
.if ${MACHINE_ARCH:Malpha}
COPTS +=		-O1
CXXOPTS +=		-O1
.endif

MODQMAKE_ARGS =		VERSION=${V}
SEPARATE_BUILD =	No

NO_TEST =		Yes

WRKDIST =		${WRKDIR}/openscad-$V

pre-configure:
	ln -sf ${LOCALBASE}/bin/bison ${WRKDIR}/bin/yacc

.include <bsd.port.mk>
@


1.16
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2017/01/23 13:50:10 zhuk Exp $
d21 1
a21 1
WANTLIB += ${LIBCXX} z lib/qt4/QtGui lib/qt4/QtOpenGL
@


1.15
log
@Try to build with -O1 instead of -O2 on alpha. This may help,
or may not - can't check due to lack of hardware.

Initiated by alpha bulk build report from phessler@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2016/03/26 20:37:35 zhuk Exp $
d21 1
a21 1
WANTLIB += stdc++ z lib/qt4/QtGui lib/qt4/QtOpenGL
@


1.14
log
@Zap more lines from qmake-based ports by moving them from
the "MODULES=x11/qtX + CONFIGURE_STYLE=qmake" logic to
the "MODULES=devel/qmake x11/qtX" logic.

Discussed with espie@@ a few weeks ago.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2016/03/07 12:24:17 zhuk Exp $
d8 1
d42 6
@


1.13
log
@Convert to MODQMAKE, -3 Makefile lines.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2016/03/06 19:22:04 landry Exp $
d26 1
a41 1
CONFIGURE_STYLE =	qmake
@


1.12
log
@BROKEN-sparc64= SIGILL on src/cgalutils.cc with CGAL-4.6.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2015/12/07 07:52:32 jasper Exp $
d41 3
a43 2
QMAKE_FLAGS =		VERSION=${V}
MAKE_ENV =		INSTALL_ROOT=${DESTDIR}
a50 4

do-configure:
	cd ${WRKSRC} && \
	    ${SETENV} ${QMAKE_ENV} qmake4 ${QMAKE_FLAGS} openscad.pro
@


1.11
log
@- update to openscad-2015.03-2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2015/12/06 12:54:34 jasper Exp $
d4 1
@


1.10
log
@unconfuse emacs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2015/11/19 20:17:15 sthen Exp $
d5 2
a6 2
V =			2013.06
DISTNAME =		openscad-${V}
d15 5
a19 5
WANTLIB += c m pthread stdc++
WANTLIB += CGAL GL GLEW GLU ICE lib/qt4/QtGui lib/qt4/QtOpenGL
WANTLIB += SM X11 Xext Xi Xinerama Xrender boost_filesystem-mt
WANTLIB += boost_program_options-mt boost_regex-mt boost_system-mt
WANTLIB += boost_thread-mt fontconfig freetype gmp mpfr opencsg
d24 2
a25 1
MODULES =		x11/qt4
d27 1
a27 1
			math/eigen2
d30 1
d32 1
d37 2
a38 1
RUN_DEPENDS =		devel/desktop-file-utils
a39 1
QMAKE_ENV =		EIGEN2DIR=${LOCALBASE}/include/eigen2
d42 4
@


1.9
log
@remove build dep on ports flex
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/08/24 23:31:04 bentley Exp $
d3 1
a3 1
COMMENT =		the programmer's solid 3D CAD modeller
@


1.8
log
@Update master_sites after migration from Google Code.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2014/01/09 00:37:45 sthen Exp $
a25 1
			devel/flex \
a40 1
	ln -sf ${LOCALBASE}/bin/gflex ${WRKDIR}/bin/flex
@


1.7
log
@update to OpenSCAD 2013.06, mostly from Fred Crowson, plus regen PLIST
as there are new files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/11/25 14:16:22 sthen Exp $
d21 1
a21 1
MASTER_SITES =		https://openscad.googlecode.com/files/
@


1.6
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/03/10 23:04:45 espie Exp $
d5 1
a5 1
V =			2013.01
@


1.5
log
@PERMIT/ REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/03/08 01:36:59 brad Exp $
a8 2

VMEM_WARNING =		Yes
@


1.4
log
@Update to openscad 2013.01. Tied to the Boost update.

From Amit Kulkarni.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/09/16 08:48:02 espie Exp $
a15 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.3
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/08/16 18:09:09 matthew Exp $
d5 1
a5 1
V =			2011.06
a6 1
REVISION =		0
d20 5
a24 3
WANTLIB =		CGAL GL GLEW GLU boost_program_options-mt \
			boost_thread-mt c gmp lib/qt4/QtGui lib/qt4/QtOpenGL m \
			mpfr opencsg pthread stdc++
d26 1
a26 1
MASTER_SITES =		https://github.com/downloads/openscad/openscad/
d39 2
@


1.2
log
@update to 2011.06; ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/04/29 18:55:37 matthew Exp $
d7 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
V =			2011.04
a28 1
			devel/cmake \
d37 3
a39 2
			
CONFIGURE_ENV =		EIGEN2DIR=${LOCALBASE}/include/eigen2
a42 1
	${SUBST_CMD} ${WRKSRC}/openscad.pro
d47 2
a48 1
	cd ${WRKSRC} && ${SETENV} ${CONFIGURE_ENV} qmake4 openscad.pro
@


1.1.1.1
log
@Add cad/openscad.

ok landry@@

OpenSCAD is a software for creating 3D CAD objects.

Unlike most free software for creating 3D models, it does not focus on
the artistic aspects of 3D modelling but instead on the CAD aspects.
Thus it is more suitable for creating 3D models of machine parts but
perhaps not when creating computer-animated movies.

OpenSCAD is not an interactive modeller. Instead it is something like
a 3D-compiler that reads in a script file that describes the object
and renders the 3D model from this script file. This gives designers
full control over the modelling process and enables them to easily
change any step in the modelling process or make designes that are
defined by configurable parameters.

@
text
@@
