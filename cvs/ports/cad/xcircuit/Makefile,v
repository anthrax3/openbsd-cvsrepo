head	1.30;
access;
symbols
	OPENBSD_6_0:1.30.0.2
	OPENBSD_6_0_BASE:1.30
	OPENBSD_5_9:1.28.0.4
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.28.0.6
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.28.0.2
	OPENBSD_5_7_BASE:1.28
	OPENBSD_5_6:1.27.0.4
	OPENBSD_5_6_BASE:1.27
	OPENBSD_5_5:1.27.0.2
	OPENBSD_5_5_BASE:1.27
	OPENBSD_5_4:1.24.0.2
	OPENBSD_5_4_BASE:1.24
	OPENBSD_5_3:1.22.0.2
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.20.0.2
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.2
	OPENBSD_5_0:1.17.0.4
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.17.0.2
	OPENBSD_4_9_BASE:1.17
	OPENBSD_4_8:1.12.0.4
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.9.0.2
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.8.0.2
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.5.0.6
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.4
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.2
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.3.0.2
	OPENBSD_3_9_BASE:1.3
	sturm_20060129:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.30
date	2016.03.18.23.12.15;	author naddy;	state Exp;
branches;
next	1.29;
commitid	KZAl4KEiw6a3Jixw;

1.29
date	2016.03.11.20.28.22;	author naddy;	state Exp;
branches;
next	1.28;
commitid	UYLP8TE6V7RS2GhJ;

1.28
date	2014.09.01.21.55.25;	author stu;	state Exp;
branches;
next	1.27;
commitid	Be1iXzMR2gScgyxF;

1.27
date	2014.02.08.07.41.40;	author stu;	state Exp;
branches;
next	1.26;

1.26
date	2013.12.29.08.08.53;	author stu;	state Exp;
branches;
next	1.25;

1.25
date	2013.10.01.12.28.03;	author stu;	state Exp;
branches;
next	1.24;

1.24
date	2013.05.26.17.44.30;	author stu;	state Exp;
branches;
next	1.23;

1.23
date	2013.03.10.23.04.45;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2013.02.07.22.49.22;	author stu;	state Exp;
branches;
next	1.21;

1.21
date	2012.08.10.08.58.33;	author stu;	state Exp;
branches;
next	1.20;

1.20
date	2012.05.18.16.40.43;	author gonzalo;	state Exp;
branches;
next	1.19;

1.19
date	2011.10.31.17.07.19;	author stu;	state Exp;
branches;
next	1.18;

1.18
date	2011.10.30.05.12.15;	author stu;	state Exp;
branches;
next	1.17;

1.17
date	2010.11.15.00.22.49;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.11.06.22.06.57;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.10.26.15.02.55;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.24.21.04.39;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.18.16.57.47;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2009.10.10.22.41.40;	author steven;	state Exp;
branches;
next	1.11;

1.11
date	2009.08.10.06.30.30;	author kili;	state Exp;
branches;
next	1.10;

1.10
date	2009.03.11.10.53.55;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2008.12.03.23.44.44;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2008.06.14.16.40.39;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2007.11.19.17.18.41;	author okan;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.15.21.36.57;	author simon;	state Exp;
branches;
next	1.5;

1.5
date	2006.06.14.18.37.10;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2006.03.24.17.30.34;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2006.02.17.22.08.52;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2006.02.11.16.37.02;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2006.01.29.09.44.23;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.01.29.09.44.23;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.30
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@# $OpenBSD: Makefile,v 1.29 2016/03/11 20:28:22 naddy Exp $

COMMENT =	circuit drawing and schematic capture

BASEVER =	3.7
DISTNAME =	xcircuit-${BASEVER}.57
CATEGORIES =	cad
HOMEPAGE =	http://opencircuitdesign.com/xcircuit/
MAINTAINER =	Stuart Cassoff <stwo@@users.sourceforge.net>

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =	c m z ICE Xt X11 SM Xpm ${MODTK_WANTLIB}

MASTER_SITES =	${HOMEPAGE:=archive/}
EXTRACT_SUFX =	.tgz

MODULES =	x11/tk
LIB_DEPENDS =	${MODTK_LIB_DEPENDS}

USE_GMAKE =	Yes

CONFIGURE_STYLE =	autoconf no-autoheader
AUTOCONF_VERSION =	2.68
CONFIGURE_ARGS +=	--with-tcl=${MODTCL_LIBDIR} \
			--with-tk=${MODTK_LIBDIR}

NO_TEST =	Yes

SUBST_VARS =	BASEVER

post-install:
	@@cd ${WRKSRC} && ${MAKE} install-man
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/xcircuit
	${INSTALL_DATA} ${WRKSRC}/README* ${PREFIX}/share/doc/xcircuit
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/xcircuit
	${INSTALL_DATA} ${WRKSRC}/examples/*.* \
		${PREFIX}/share/examples/xcircuit
	${INSTALL_DATA} ${WRKSRC}/examples/.xcircuitrc \
		${PREFIX}/share/examples/xcircuit/dot.xcircuitrc

.include <bsd.port.mk>
@


1.29
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.28 2014/09/01 21:55:25 stu Exp $

SHARED_ONLY =	Yes
@


1.28
log
@Update to 3.7.57.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/02/08 07:41:40 stu Exp $
d28 1
a28 2
CONFIGURE_ARGS +=	${CONFIGURE_SHARED} \
			--with-tcl=${MODTCL_LIBDIR} \
@


1.27
log
@Fix bad bound.
Thanks to naddy@@ for the heads-up.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/12/29 08:08:53 stu Exp $
d8 1
a8 2
DISTNAME =	xcircuit-${BASEVER}.55
REVISION =	0
@


1.26
log
@Update to 3.7.55.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/10/01 12:28:03 stu Exp $
d9 1
@


1.25
log
@Update to 3.7.52.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/05/26 17:44:30 stu Exp $
d8 1
a8 1
DISTNAME =	xcircuit-${BASEVER}.52
@


1.24
log
@Update to xcircuit-3.7.49.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/10 23:04:45 espie Exp $
d8 1
a8 1
DISTNAME =	xcircuit-${BASEVER}.49
@


1.23
log
@PERMIT/ REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/02/07 22:49:22 stu Exp $
d8 1
a8 1
DISTNAME =	xcircuit-${BASEVER}.48
@


1.22
log
@Update to xcircuit-3.7.48.
Thanks to Gonzalo L. R. for the patch.

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/08/10 08:58:33 stu Exp $
a14 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d32 1
a32 1
NO_REGRESS =	Yes
@


1.21
log
@Update to 3.7.40.

Ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/05/18 16:40:43 gonzalo Exp $
d8 1
a8 1
DISTNAME =	xcircuit-${BASEVER}.40
d30 1
a30 1
AUTOCONF_VERSION =	2.59
@


1.20
log
@Minor update of version, from 3.7.26 -> 3.7.39.

While here, GROFF is not needed. Tested on i386.

OK stu@@ (maintainer), aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/10/31 17:07:19 stu Exp $
d8 1
a8 1
DISTNAME =	xcircuit-${BASEVER}.39
@


1.19
log
@Makefile tidying, become MAINTAINER,
license clarification, REVISION bump.

Ok sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/10/30 05:12:15 stu Exp $
d8 1
a8 2
DISTNAME =	xcircuit-${BASEVER}.26
REVISION =	0
a27 1
USE_GROFF =	Yes
@


1.18
log
@Update to 3.7 and unbreak.

ok jasper@@, sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/11/15 00:22:49 espie Exp $
d3 1
a3 1
SHARED_ONLY=		Yes
d5 1
a5 1
COMMENT=		circuit drawing and schematic capture
d7 6
a12 3
BASEVER=		3.7
DISTNAME=		xcircuit-${BASEVER}.26
CATEGORIES=		cad
d14 5
a18 1
HOMEPAGE=		http://opencircuitdesign.com/xcircuit/
d20 1
a20 5
# GPL 
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d22 2
a23 1
WANTLIB=		c m z ICE Xt X11 SM Xpm
d25 2
a26 2
MASTER_SITES=		${HOMEPAGE}archive/
EXTRACT_SUFX=		.tgz
d28 6
a33 3
CONFIGURE_STYLE=	autoconf no-autoheader
AUTOCONF_VERSION=	2.59
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
d37 1
a37 8
MODULES=		x11/tk
LIB_DEPENDS+=		${MODTK_LIB_DEPENDS}
WANTLIB+=		${MODTK_WANTLIB}

USE_GMAKE=		Yes
USE_GROFF =		Yes

NO_REGRESS=		Yes
d39 1
a39 1
SUBST_VARS=		BASEVER
@


1.17
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/11/06 22:06:57 espie Exp $
d7 2
a8 2
BASEVER=		3.6
DISTNAME=		xcircuit-${BASEVER}.167
@


1.16
log
@tk/tcl wantlib conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/10/26 15:02:55 steven Exp $
d35 1
a35 1
USE_GROFF =	Yes
@


1.15
log
@update to 3.6.167
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/10/10 22:41:40 steven Exp $
d32 1
@


1.14
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/18 16:57:47 espie Exp $
d7 2
a8 2
BASEVER=		3.4
DISTNAME=		xcircuit-${BASEVER}.30
@


1.13
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/10/10 22:41:40 steven Exp $
a32 1
USE_X11=		Yes
@


1.12
log
@update to 3.4.30 and switch it to tcl/tk 8.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/08/10 06:30:30 kili Exp $
d35 1
@


1.11
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/03/11 10:53:55 espie Exp $
d8 1
a8 2
DISTNAME=		xcircuit-${BASEVER}.27
PKGNAME=		${DISTNAME}p3
d19 1
a19 1
WANTLIB=		c m z ICE Xt X11 SM Xpm pthread-stubs tcl84 xcb
d27 2
a28 2
			--with-tcl=${LOCALBASE}/lib/tcl8.4 \
			--with-tk=${LOCALBASE}/lib/tk8.4
d30 2
a31 1
LIB_DEPENDS+=		tk84:tk->=8.4,<8.5:x11/tk/8.4
@


1.10
log
@fix tk dep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/12/03 23:44:44 sthen Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p2
d20 1
a20 1
WANTLIB=		c m z ICE Xt X11 SM Xpm tcl84
@


1.9
log
@Zvezdan Petkovic drops maintainership of these ports, req on ports@@.
(packages bumped)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/06/14 16:40:39 sthen Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p1
d31 1
a31 1
LIB_DEPENDS+=		tk84:tk-8.4.*:x11/tk/8.4
@


1.8
log
@Fix LIB_DEPENDS and bump: change tk84:tk->=8.4:x11/tk/8.4
to tk84:tk-8.4.*:x11/tk/8.4 to avoid a failure when Tk 8.5 is
installed (tk-8.5 satisfies tk->=8.4 but has no libtk84).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/11/19 17:18:41 okan Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p0
a12 2

MAINTAINER=		Zvezdan Petkovic <zpetkovic@@acm.org>
@


1.7
log
@maintenance update from pedro@@ via ports@@

"just do it" steven@@, ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/09/15 21:36:57 simon Exp $
d9 1
d33 1
a33 1
LIB_DEPENDS+=		tk84:tk->=8.4:x11/tk/8.4
@


1.6
log
@remove surrounding quotes from COMMENT/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/06/14 18:37:10 steven Exp $
d8 1
a8 1
DISTNAME=		xcircuit-${BASEVER}.26
@


1.5
log
@update to 3.4.26

from maintainer Zvezdan Petkovic
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/03/24 17:30:34 steven Exp $
d5 1
a5 1
COMMENT=		"circuit drawing and schematic capture"
@


1.4
log
@update to xcircuit 3.4.21
remove patches as they were taken up by the author

joint work with and ok maintainer Zvezdan Petkovic
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/02/17 22:08:52 steven Exp $
d8 1
a8 1
DISTNAME=		xcircuit-${BASEVER}.21
@


1.3
log
@build objects with -fPIC and use -shared for building shared library.
fixes build on amd64 and prevents dumping core on startup on sparc64.
bump PKGNAME.

much help and ok naddy@@, no objection sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/02/11 16:37:02 sturm Exp $
d8 1
a8 2
DISTNAME=		xcircuit-${BASEVER}.11
PKGNAME=		${DISTNAME}p1
d42 1
a42 1
	@@cd ${WRKSRC}; ${MAKE} install-man
d46 4
a49 2
	${INSTALL_DATA} ${WRKSRC}/examples/* ${PREFIX}/share/examples/xcircuit
	${INSTALL_DATA} ${WRKSRC}/examples/.xcircuitrc ${PREFIX}/share/examples/xcircuit/dot.xcircuitrc
@


1.2
log
@minor code change without distfile name bump, stupid people
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/01/29 09:44:23 sturm Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d9 1
@


1.1.1.1
log
@Initial import of xcircuit 3.4.11

XCircuit is a program for drawing publishable-quality electrical circuit
schematic diagrams and related figures, and produce circuit netlists
through schematic capture.  XCircuit regards circuits as inherently
hierarchical, and writes both hierarchical PostScript output and
hierarchical SPICE netlists.  Circuit components are saved in and
retrieved from libraries which are fully editable.

from Zvezdan Petkovic <zpetkovic at acm.org>
@
text
@@
