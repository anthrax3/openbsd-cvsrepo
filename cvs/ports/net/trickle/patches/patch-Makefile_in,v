head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.8
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.4
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.6
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2015.01.22.00.02.41;	author jca;	state Exp;
branches;
next	;
commitid	0GaLVXKHsuD4UqUT;


desc
@@


1.1
log
@Unbreak trickle, and update it to version 1.07.

Previously broken because of undefined symbol '__guard_local'.
While here:
- set SHARED_ONLY, trickle depends on a DSO and LD_PRELOAD
- drop useless MESSAGE

ok landry@@ sthen@@
@
text
@$OpenBSD$

undefined symbol '__guard_local'

--- Makefile.in.orig	Sat Jan  8 21:20:08 2005
+++ Makefile.in	Wed Jan 21 20:01:48 2015
@@@@ -618,7 +618,7 @@@@ mostlyclean distclean maintainer-clean
 trickle-overload.so: $(TRICKLEOVERLOADFILES)
 	$(LIBTOOL) --mode=link $(CC) $(CFLAGS) -o libtmp$@@.la                \
 		-rpath $(libdir)/trickle $(TRICKLEOVERLOADFILES) $(LIBS)     \
-		$(LDFLAGS) -module -avoid-version -nostdlib @@LIBDL@@
+		$(LDFLAGS) -module -avoid-version @@LIBDL@@
 	@@rm -f libtmp$@@.la tmp$@@.so* $@@
 	@@cp .libs/libtmp$@@.so $@@
 	@@rm -f .libs/libtmp$@@.*
@
