head	1.1;
access;
symbols
	OPENBSD_6_1:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2017.10.04.20.55.43;	author jca;	state dead;
branches
	1.1.2.1;
next	;
commitid	XRXcuz9Es3qwvN7x;

1.1.2.1
date	2017.10.04.20.55.43;	author jca;	state Exp;
branches;
next	;
commitid	XRXcuz9Es3qwvN7x;


desc
@@


1.1
log
@file patch-src_openvpn_error_c was initially added on branch OPENBSD_6_1.
@
text
@@


1.1.2.1
log
@Correctly print time_t
@
text
@a0 18
$OpenBSD$

Correctly print time_t.

Index: src/openvpn/error.c
--- src/openvpn/error.c.orig
+++ src/openvpn/error.c
@@@@ -342,8 +342,8 @@@@ x_msg_va(const unsigned int flags, const char *format,
                 struct timeval tv;
                 gettimeofday(&tv, NULL);
 
-                fprintf(fp, "%lu.%06lu %x %s%s%s%s",
-                        tv.tv_sec,
+                fprintf(fp, "%lld.%06lu %x %s%s%s%s",
+                        (long long)tv.tv_sec,
                         (unsigned long)tv.tv_usec,
                         flags,
                         prefix,
@

