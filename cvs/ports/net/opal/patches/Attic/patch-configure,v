head	1.10;
access;
symbols
	OPENBSD_5_5:1.9.0.2
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.8.0.2
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.4.0.4
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.2
	OPENBSD_5_0:1.3.0.6
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.4
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3;
locks; strict;
comment	@# @;


1.10
date	2014.04.22.10.01.01;	author ajacoutot;	state dead;
branches;
next	1.9;

1.9
date	2013.11.02.11.13.19;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2013.03.12.05.19.57;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2013.03.02.14.05.59;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2012.11.27.08.13.15;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.08.25.13.17.54;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2011.10.26.16.59.34;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2010.05.31.06.31.39;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.03.27.14.41.15;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.03.23.21.13.37;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.10
log
@Remove opal. Nothing uses it anymore and it never played well with rthreads.
@
text
@$OpenBSD: patch-configure,v 1.9 2013/11/02 11:13:19 ajacoutot Exp $
--- configure.orig	Tue Feb 19 21:18:59 2013
+++ configure	Mon Mar 11 19:55:11 2013
@@@@ -4601,7 +4601,7 @@@@ fi
 
 WFLAGS=
 if test "x$ac_cv_c_compiler_gnu" = xyes; then
-  WFLAGS="-Wall -Wextra -Wstrict-aliasing -Wfloat-equal -Wno-comment -Wno-unused -Winit-self -Wno-missing-field-initializers"
+  WFLAGS="-Wall -Wextra -Wfloat-equal -Wno-comment -Wno-unused -Winit-self -Wno-missing-field-initializers"
 fi
 
 CFLAGS="$CFLAGS $WFLAGS"
@@@@ -5662,7 +5662,7 @@@@ case "$OSTYPE" in
 
 
 
-          LDSOOPTS="-shared -Wl,-soname,\$(LIB_FILENAME_SHARED_PAT)"
+          LDSOOPTS="-shared -fPIC"
 
           HAVE_RANLIB=yes
         ;;
@


1.9
log
@-Wextra is supported by both our gcc.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.8 2013/03/12 05:19:57 brad Exp $
@


1.8
log
@Correct shared lib creation for OpenBSD.


ok ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.7 2013/03/02 14:05:59 ajacoutot Exp $
d9 1
a9 1
+  WFLAGS="-Wall -Wfloat-equal -Wno-comment -Wno-unused -Winit-self -Wno-missing-field-initializers"
@


1.7
log
@Update to opal-3.10.10.
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.6 2012/11/27 08:13:15 ajacoutot Exp $
--- configure.orig	Wed Feb 20 03:18:59 2013
+++ configure	Sun Feb 24 09:19:31 2013
d18 1
a18 1
+          LDSOOPTS="-shared -fPIC -Wl,-soname,\$(LIB_FILENAME_SHARED_PAT)"
@


1.6
log
@Update to opal-3.10.9.
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.5 2012/08/25 13:17:54 ajacoutot Exp $
--- configure.orig	Mon Nov 26 11:49:22 2012
+++ configure	Tue Nov 27 08:24:19 2012
d13 1
a13 1
@@@@ -5663,7 +5663,7 @@@@ case "$OSTYPE" in
@


1.5
log
@Update to opal-3.10.7.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.4 2011/10/26 16:59:34 ajacoutot Exp $
--- configure.orig	Thu Aug 23 04:19:21 2012
+++ configure	Fri Aug 24 08:24:54 2012
@@@@ -4619,7 +4619,7 @@@@ fi
d8 6
a13 6
-  WFLAGS="-Wall -Wextra -Wstrict-aliasing -Wfloat-equal -Wno-comment -Wno-unused"
+  WFLAGS="-Wall -Wfloat-equal -Wno-comment -Wno-unused"
   if test ${GXX_MAJOR} -ge 4 ; then
     WFLAGS="$WFLAGS -Winit-self -Wno-missing-field-initializers"
   fi
@@@@ -5676,7 +5676,7 @@@@ case "$OSTYPE" in
@


1.4
log
@Major update to opal-3.10.3.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.3 2010/05/31 06:31:39 ajacoutot Exp $
--- configure.orig	Fri Oct 14 09:00:11 2011
+++ configure	Tue Oct 25 12:26:05 2011
@@@@ -4620,7 +4620,7 @@@@ fi
d13 1
a13 1
@@@@ -5680,7 +5680,7 @@@@ STDCCFLAGS="$STDCCFLAGS -D__MACOSX__"
@


1.3
log
@Update to opal-3.6.8.
@
text
@d1 5
a5 4
$OpenBSD: patch-configure,v 1.2 2010/03/27 14:41:15 ajacoutot Exp $
--- configure.orig	Thu May 27 08:53:06 2010
+++ configure	Mon May 31 07:28:46 2010
@@@@ -4471,7 +4471,7 @@@@ fi
d8 6
a13 7
   if test ${GXX_MAJOR} -lt 4 ; then
-    WFLAGS="-Wall -Wextra -Wstrict-aliasing=2 -Wfloat-equal -Wno-comment -Wno-unused"
+    WFLAGS="-Wall -Wfloat-equal -Wno-comment -Wno-unused"
   else
     WFLAGS="-Wall -Wextra -Winit-self -Wstrict-aliasing=2 -Wfloat-equal -Wno-comment -Wno-missing-field-initializers -Wno-unused"
 
@@@@ -5106,7 +5106,7 @@@@ STDCCFLAGS="$STDCCFLAGS -D__MACOSX__"
a21 11
@@@@ -5216,6 +5216,10 @@@@ fi
                solaris*)
                  opal_release_flags="-O3 -DSOLARIS"
                  opal_debug_flags="-g -D_DEBUG -DSOLARIS"
+               ;;
+               openbsd*)
+                 opal_release_flags=""
+                 opal_debug_flags="-g3 -ggdb -O0 -D_DEBUG"
                ;;
                *)
                  opal_release_flags="-Os"
@


1.2
log
@Fix compilation under amd64.
spotted by viq at viq dot ath dot cx
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.1 2010/03/23 21:13:37 ajacoutot Exp $
--- configure.orig	Tue Sep 22 02:58:43 2009
+++ configure	Sat Mar 27 15:14:27 2010
@@@@ -4336,7 +4336,7 @@@@ fi
d13 1
a13 1
@@@@ -4971,7 +4971,7 @@@@ STDCCFLAGS="$STDCCFLAGS -D__MACOSX__"
d22 1
a22 1
@@@@ -5081,6 +5081,10 @@@@ fi
@


1.1
log
@Major update to opal-3.6.6.
@
text
@d1 3
a3 3
$OpenBSD$
--- configure.orig	Sun Jul  5 08:13:12 2009
+++ configure	Tue Jul  7 09:52:53 2009
d13 9
@

