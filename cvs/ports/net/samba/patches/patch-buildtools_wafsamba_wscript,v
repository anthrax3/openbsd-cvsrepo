head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.4
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2016.04.22.11.48.36;	author jca;	state Exp;
branches;
next	1.1;
commitid	i7xEeasW0hmVMIQY;

1.1
date	2015.08.25.11.04.39;	author jca;	state Exp;
branches;
next	;
commitid	jWHBCzKs5xKamlhw;


desc
@@


1.2
log
@Update to samba-4.4.2

Tests by Vijay Sankar and Ian, ok Ian

This release contains the security fixes introduced by 4.4.2, plus the
new features and improvements from 4.4.0:

  https://www.samba.org/samba/history/samba-4.4.0.html
@
text
@$OpenBSD: patch-buildtools_wafsamba_wscript,v 1.1 2015/08/25 11:04:39 jca Exp $
Add a hack to force addition of -I/usr/include before any other include path discovered.
--- buildtools/wafsamba/wscript.orig	Wed Apr 13 17:18:35 2016
+++ buildtools/wafsamba/wscript	Wed Apr 13 17:18:35 2016
@@@@ -82,6 +82,11 @@@@ def set_options(opt):
                    help=("Disable use of gettext"),
                    action="store_true", dest='disable_gettext', default=False)
 
+    opt.add_option('--with-dummy',
+                   help='dummy option to inject /usr/include',
+                   action='store', dest='libc_location', default='/usr',
+                   match = ['Checking for header sys/types.h'])
+
     gr = opt.option_group('developer options')
 
     gr.add_option('-C',
@


1.1
log
@Move samba4 to samba, and tweak the ports tree to use it.

ok ajacoutot@@

Upcoming commits will add additional tweaks.

Many thanks to Vadim Zhukov (who did most of the work), Ian McWilliam
(co-maintainer), Stuart Henderson who provided lots of support and
feedback, Antoine Jacoutot who patiently dealt with my broken diffs,
and more generally all the people involved.  Most of the recent work was
done during p2k15 and c2k15.
@
text
@d1 1
a1 1
$OpenBSD: patch-buildtools_wafsamba_wscript,v 1.1.1.1 2014/05/04 16:08:29 zhuk Exp $
d3 3
a5 3
--- buildtools/wafsamba/wscript.orig	Thu May  1 16:31:00 2014
+++ buildtools/wafsamba/wscript	Thu May  1 16:31:00 2014
@@@@ -85,6 +85,11 @@@@ def set_options(opt):
@

