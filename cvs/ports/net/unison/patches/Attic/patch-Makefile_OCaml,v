head	1.2;
access;
symbols
	OPENBSD_3_7:1.1.1.1.0.10
	OPENBSD_3_7_BASE:1.1.1.1
	OPENBSD_3_6:1.1.1.1.0.8
	OPENBSD_3_6_BASE:1.1.1.1
	OPENBSD_3_5:1.1.1.1.0.6
	OPENBSD_3_5_BASE:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.4
	OPENBSD_3_4_BASE:1.1.1.1
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	sturm_2002-Dec_22:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2005.05.22.17.46.18;	author sturm;	state dead;
branches;
next	1.1;

1.1
date	2002.12.22.09.47.24;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.12.22.09.47.24;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@fix conflict and remove unnecessary files, now the port is split
@
text
@$OpenBSD: patch-Makefile_OCaml,v 1.1 2002/12/22 09:47:24 sturm Exp $
# Authors assumed here that any non-Solaris Unix system must be Linux.
# This corrects the thing but requires changing linux to Linux elsewhere.
# Also, an assumption about bash changed to ksh for OpenBSD.
--- Makefile.OCaml.orig	Thu Apr 11 01:13:23 2002
+++ Makefile.OCaml	Wed Dec 18 18:37:35 2002
@@@@ -42,7 +42,7 @@@@ else
 ifeq ($(shell hostname),saul.cis.upenn.edu)
   OSARCH=solaris
 else
-  OSARCH=linux
+  OSARCH=$(shell uname -s)
 endif
   ETAGS=etags
 endif
@@@@ -157,9 +157,12 @@@@ endif
 ifeq ($(OSARCH), win32gnuc)
   GUILIBDIR=$(OCAMLLIBDIR)/lablgtk/cclibs
 endif
-ifeq ($(OSARCH), linux)
+ifeq ($(OSARCH), Linux)
   X11LIBDIR=/usr/X11R6/lib
 endif
+ifeq ($(OSARCH), OpenBSD)
+  X11LIBDIR=${X11BASE}/lib
+endif
 
 # Developer-only directories
 ifeq ($(shell hostname), saul.cis.upenn.edu)
@@@@ -243,7 +246,10 @@@@ ifeq ($(STATIC), true)
     # libcurses is not in a standard place in older Solaris releases.
     STATICLIBS+=-cclib -R/usr/xpg4/lib
   endif
-  ifeq ($(OSARCH), linux)
+  ifeq ($(OSARCH), Linux)
+    STATICLIBS+=-cclib -static
+  endif
+  ifeq ($(OSARCH), OpenBSD)
     STATICLIBS+=-cclib -static
   endif
   CLIBS=$(STATICLIBS)
@@@@ -254,9 +260,14 @@@@ endif
 
 # Include an automatically generated list of dependencies
 include .depend
-
-ifeq ($(shell echo type -t ocamldot | bash), file)
-  OCAMLDOT=true
+ifeq ($(OSARCH), OpenBSD)
+  ifeq ($(shell echo type ocamldot | ksh), file)
+    OCAMLDOT=true
+  endif
+else
+  ifeq ($(shell echo type -t ocamldot | bash), file)
+    OCAMLDOT=true
+  endif
 endif
 
 # Rebuild dependencies (must be invoked manually)
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@import of unison 2.9.1
submitter Zvezdan Petkovic

Unison is a file-synchronization tool for Unix and Windows.  It allows
two replicas of a collection of files and directories to be stored on
different hosts (or different disks on the same host), modified
separately, and then brought up to date by propagating the changes in
each replica to the other.

naddy@@ OK
@
text
@@
