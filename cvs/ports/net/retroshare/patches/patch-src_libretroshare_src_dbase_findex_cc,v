head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2017.05.18.14.47.27;	author espie;	state Exp;
branches;
next	;
commitid	GewsiC6WXafqN6WD;


desc
@@


1.1
log
@classical fixes for C++, clang happy
@
text
@$OpenBSD$
tr1 / non-tr1 dance

Index: src/libretroshare/src/dbase/findex.cc
--- src/libretroshare/src/dbase/findex.cc.orig
+++ src/libretroshare/src/dbase/findex.cc
@@@@ -31,7 +31,13 @@@@
 #include <stdlib.h>
 #include <algorithm>
 #include <iostream>
+#ifndef __clang__
 #include <tr1/unordered_set>
+using std::tr1::unordered_set;
+#else
+#include <unordered_set>
+using std::unordered_set;
+#endif
 #include <iomanip>
 #include <fstream>
 #include <sys/stat.h>
@@@@ -52,7 +58,7 @@@@ static const char FILE_CACHE_SEPARATOR_CHAR = '|' ;
  ****/
 
 static RsMutex FIndexPtrMtx("FIndexPtrMtx") ;
-std::tr1::unordered_set<void*> FileIndex::_pointers ;
+unordered_set<void*> FileIndex::_pointers ;
 
 void FileIndex::registerEntry(void*p)
 {
@
