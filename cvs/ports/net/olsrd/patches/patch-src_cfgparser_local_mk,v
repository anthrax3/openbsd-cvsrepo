head	1.1;
access;
symbols
	OPENBSD_6_1:1.1.0.28
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.26
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.22
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.24
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.20
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.18
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.16
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.14
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.12
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.10
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.8
	OPENBSD_5_0:1.1.0.6
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.4
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2010.07.06.07.41.46;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.1
log
@- fix build on 64-bit arch following last update
- tighten RUN_DEPENDS for -plugins
- remove some patches and most of the custom do-install in favour
of passing variables to make and using upstream's build infrastructure.
- tidy Makefile

ok sebastia@@, maintainer timeout
@
text
@$OpenBSD$
--- src/cfgparser/local.mk.orig	Wed Mar 31 18:03:53 2010
+++ src/cfgparser/local.mk	Tue Jun 29 15:25:30 2010
@@@@ -73,5 +73,7 @@@@ $(C)oparse.c: $(C)oparse.y $(C)olsrd_conf.h $(C)Makefi
 
 $(C)oparse.o: CFLAGS := $(filter-out -Wunreachable-code,$(CFLAGS))
 
+$(C)cfgfile_gen.o: CFLAGS += -fPIC
+
 # and a few files to be cleaned
 TMPFILES += $(foreach pat,oscan.c oparse.c oparse.h,$(C)$(pat) $(C)$(pat)-tmp)
@
