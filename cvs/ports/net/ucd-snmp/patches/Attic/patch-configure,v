head	1.6;
access;
symbols
	OPENBSD_3_6:1.5.0.6
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.5.0.4
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.4.0.4
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.4.0.2
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.3.0.4
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3;
locks; strict;
comment	@# @;


1.6
date	2004.10.13.02.05.45;	author danh;	state dead;
branches;
next	1.5;

1.5
date	2003.04.22.15.11.05;	author danh;	state Exp;
branches;
next	1.4;

1.4
date	2002.06.16.20.02.19;	author pvalchev;	state Exp;
branches;
next	1.3;

1.3
date	2001.10.11.19.16.19;	author danh;	state Exp;
branches;
next	1.2;

1.2
date	2000.08.05.09.39.21;	author danh;	state dead;
branches;
next	1.1;

1.1
date	2000.06.29.21.20.05;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.6
log
@this has been replaced by net-snmp
@
text
@--- configure.orig	Fri Oct 11 08:10:26 2002
+++ configure	Tue Apr 22 10:28:42 2003
@@@@ -4696,7 +4696,10 @@@@ openbsd*)
   version_type=sunos
   need_lib_prefix=no
   need_version=no
+  sys_lib_search_path_spec="/usr/lib"
+  sys_lib_dlsearch_path_spec="/usr/lib /usr/local/lib"
   if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
+    deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB shared object'
     case "$host_os" in
     openbsd2.[89] | openbsd2.[89].*)
       shlibpath_overrides_runpath=no
@@@@ -6674,27 +6677,6 @@@@ fi
 echo "$ac_t""$EXTRACPPFLAGS" 1>&6
 
 
-if test "x$prefix" = "xNONE"; then
-  prefix=/usr/local
-fi
-
-fch=`echo $prefix | sed 's/\(.\).*/\1/'`
-if test $fch != "/" ; then
-   prefix=`pwd`/$prefix
-   echo "adjusting prefix to $prefix"
-fi
-
-if test "x$exec_prefix" = "xNONE"; then
-  exec_prefix=$prefix
-fi
-
-fch=`echo $exec_prefix | sed 's/\(.\).*/\1/'`
-if test $fch != "/" ; then
-   exec_prefix=`pwd`/$exec_prefix
-   echo "adjusting exec_prefix to $exec_prefix"
-fi
-
-
 SNMPLIBPATH=""
 tmpset="$libdir/snmp"
 while test "x$tmpset" != "x$SNMPLIBPATH"; do
@@@@ -7601,6 +7583,7 @@@@ echo "configure:7601: checking for TCP w
 	cat > conftest.$ac_ext <<EOF
 #line 7603 "configure"
 #include "confdefs.h"
+#include <sys/types.h>
 #include <tcpd.h>
 		     int allow_severity = 0;
 		     int deny_severity  = 0;
@@@@ -7723,6 +7706,7 @@@@ echo "configure:7723: checking for TCP w
 	    cat > conftest.$ac_ext <<EOF
 #line 7725 "configure"
 #include "confdefs.h"
+#include <sys/types.h>
 #include <tcpd.h>
 		         int allow_severity = 0;
 	                 int deny_severity  = 0;
@@@@ -8576,7 +8560,7 @@@@ if eval "test \"`echo '$''{'ac_cv_lib_$a
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   ac_save_LIBS="$LIBS"
-LIBS="-lcrypto  $LIBS"
+LIBS="-lcrypto -ldes $LIBS"
 cat > conftest.$ac_ext <<EOF
 #line 8582 "configure"
 #include "confdefs.h"
@@@@ -8610,7 +8594,7 @@@@ if eval "test \"`echo '$ac_cv_lib_'$ac_l
 #define $ac_tr_lib 1
 EOF
 
-  LIBS="-lcrypto $LIBS"
+  LIBS="-lcrypto -ldes $LIBS"
 
 else
   echo "$ac_t""no" 1>&6
@@@@ -16631,6 +16615,7 @@@@ s%@@AUTOCONF@@%$AUTOCONF%g
 s%@@AUTOHEADER@@%$AUTOHEADER%g
 s%@@UNAMEPROG@@%$UNAMEPROG%g
 s%@@VERSION@@%$VERSION%g
+s%@@VERSION_INFO@@%$VERSION_INFO%g
 s%@@target@@%$target%g
 s%@@target_alias@@%$target_alias%g
 s%@@target_cpu@@%$target_cpu%g
@


1.5
log
@update to ucd-snmp 4.2.6

from Sergio Jimenez Romero <tripledes@@eslack.org>
@
text
@@


1.4
log
@pull <des.h> and use our own libdes
@
text
@d1 3
a3 77
$OpenBSD: patch-configure,v 1.3 2001/10/11 19:16:19 danh Exp $
--- configure.orig	Thu Nov 29 15:21:53 2001
+++ configure	Sun Jun 16 13:54:56 2002
@@@@ -2114,6 +2114,16 @@@@ newos6*)
   lt_cv_file_magic_test_file=/usr/lib/libnls.so
   ;;
 
+openbsd*)
+  lt_cv_file_magic_cmd=/usr/bin/file
+  lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
+  if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB shared object'
+  else
+    lt_cv_deplibs_check_method='file_magic OpenBSD.* shared library'
+  fi
+  ;;
+
 osf3* | osf4* | osf5*)
   # this will be overridden with pass_all, but let us keep it just in case
   lt_cv_deplibs_check_method='file_magic COFF format alpha shared library'
@@@@ -3118,7 +3128,14 @@@@ old_postuninstall_cmds=
 
 if test -n "$RANLIB"; then
   old_archive_cmds="$old_archive_cmds~\$RANLIB \$oldlib"
-  old_postinstall_cmds="\$RANLIB \$oldlib~$old_postinstall_cmds"
+  case "$host_os" in
+  openbsd*)
+    old_postinstall_cmds="\$RANLIB -t \$oldlib~$old_postinstall_cmds"
+  ;;
+  *)
+    old_postinstall_cmds="\$RANLIB \$oldlib~$old_postinstall_cmds"
+  ;;
+  esac
 fi
 
 # Allow CC to be a program name with arguments.
@@@@ -3641,7 +3658,9 @@@@ cygwin* | mingw* | pw32* )
     with_gnu_ld=no
   fi
   ;;
-
+openbsd*)
+  with_gnu_ld=no
+  ;;
 esac
 
 ld_shlibs=yes
@@@@ -4045,10 +4064,24 @@@@ else
     ;;
 
   openbsd*)
-    archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'
-    hardcode_libdir_flag_spec='-R$libdir'
     hardcode_direct=yes
     hardcode_shlibpath_var=no
+    if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
+      archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
+      hardcode_libdir_flag_spec='${wl}-R$libdir'
+      export_dynamic_flag_spec='${wl}-E'
+    else
+      case "$host_os" in
+      openbsd[01].* | openbsd2.[0-7] | openbsd2.[0-7].*)
+       archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+       hardcode_libdir_flag_spec='-R$libdir'
+       ;;
+      *)
+       archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
+       hardcode_libdir_flag_spec='${wl}-R$libdir'
+       ;;
+      esac
+    fi
     ;;
 
   os2*)
@@@@ -4537,9 +4570,22 @@@@ newsos6)
 
 openbsd*)
d5 2
a6 5
-  if test "$with_gnu_ld" = yes; then
-    need_lib_prefix=no
-    need_version=no
+  need_lib_prefix=no
+  need_version=no
d9 1
a9 1
+  if test "`echo __ELF__ | $CC -E - | grep __ELF__`" = "" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
d11 4
a14 14
+    case "$host_os" in
+    openbsd2.[89] | openbsd2.[89].*)
+      shlibpath_overrides_runpath=no
+    ;;
+    *)
+      shlibpath_overrides_runpath=yes
+    ;;
+    esac
+  else
+    shlibpath_overrides_runpath=yes
   fi
   library_names_spec='${libname}${release}.so$versuffix ${libname}.so$versuffix'
   finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
@@@@ -6425,27 +6471,6 @@@@ fi
d42 1
a42 1
@@@@ -7345,6 +7370,7 @@@@ echo "configure:7345: checking for TCP w
d44 1
a44 1
 #line 7347 "configure"
d48 3
a50 3
   int allow_severity = 0;
   int deny_severity  = 0;
@@@@ -7469,6 +7495,7 @@@@ echo "configure:7469: checking for TCP w
d52 1
a52 1
 #line 7471 "configure"
d56 3
a58 3
   int allow_severity = 0;
   int deny_severity  = 0;
@@@@ -8185,7 +8212,7 @@@@ if eval "test \"`echo '$''{'ac_cv_lib_$a
d65 1
a65 1
 #line 8191 "configure"
d67 1
a67 1
@@@@ -8219,7 +8246,7 @@@@ if eval "test \"`echo '$ac_cv_lib_'$ac_l
d76 1
a76 1
@@@@ -15237,6 +15264,7 @@@@ s%@@AUTOCONF@@%$AUTOCONF%g
@


1.3
log
@upgrade to ucd-snmp 4.2.2
@
text
@d1 3
a3 3
$OpenBSD$
--- configure.orig	Mon Oct  8 14:33:57 2001
+++ configure	Thu Oct 11 13:33:42 2001
d129 1
a129 1
@@@@ -7344,6 +7369,7 @@@@ echo "configure:7344: checking for TCP w
d131 1
a131 1
 #line 7346 "configure"
d137 1
a137 1
@@@@ -7468,6 +7494,7 @@@@ echo "configure:7468: checking for TCP w
d139 1
a139 1
 #line 7470 "configure"
d145 19
a163 1
@@@@ -15153,6 +15180,7 @@@@ s%@@AUTOCONF@@%$AUTOCONF%g
@


1.2
log
@fixed configure.in which was broken on sparc; now requires autoconf
@
text
@d1 33
a33 5
$OpenBSD: patch-configure,v 1.1 2000/06/29 21:20:05 jakob Exp $
--- configure.orig	Fri May  5 18:50:13 2000
+++ configure	Mon Jun 26 20:57:26 2000
@@@@ -1978,21 +1978,21 @@@@ if test "x$prefix" = "xNONE"; then
   prefix=/usr/local
d36 74
a109 1
-fch=`echo $prefix | cut -b1`
d114 6
a119 11
+# fch=`echo $prefix | cut -b1`
+# if test $fch != "/" ; then
+#    prefix=`pwd`/$prefix
+#    echo "adjusting prefix to $prefix"
+# fi
 
 if test "x$exec_prefix" = "xNONE"; then
   exec_prefix=$prefix
 fi
 
-fch=`echo $exec_prefix | cut -b1`
d124 2
a125 7
+#fch=`echo $exec_prefix | cut -b1`
+#if test $fch != "/" ; then
+#   exec_prefix=`pwd`/$exec_prefix
+#   echo "adjusting exec_prefix to $exec_prefix"
+#fi
 
 
d127 26
@


1.1
log
@cleanup
rename patches to new naming scheme
(from maintainer; Dan Harnett <danh@@nfol.com>)
@
text
@d1 1
a1 1
$OpenBSD: update-patches,v 1.3 2000/06/09 17:08:37 espie Exp $
@

