head	1.2;
access;
symbols
	ajacoutot_20121016:1.1.1.1 ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2012.11.27.06.37.31;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2012.10.16.09.41.44;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.10.16.09.41.44;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to ocsync-0.60.2.
@
text
@$OpenBSD: patch-src_csync_propagate_c,v 1.1 2012/10/16 09:41:44 ajacoutot Exp $
--- src/csync_propagate.c.orig	Fri Oct  5 13:54:22 2012
+++ src/csync_propagate.c	Tue Oct 16 11:36:51 2012
@@@@ -156,7 +156,7 @@@@ static int _csync_push_file(CSYNC *ctx, csync_file_sta
   ctx->replica = srep;
   flags = O_RDONLY|O_NOFOLLOW;
   /* O_NOATIME can only be set by the owner of the file or the superuser */
-#ifndef __APPLE__
+#if !defined (__APPLE__) && !defined (__OpenBSD__)
   if (st->uid == ctx->pwd.uid || ctx->pwd.euid == 0) {
     flags |= O_NOATIME;
   }
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-src_csync_propagate_c,v 1.1.1.1 2012/06/18 08:51:46 ajacoutot Exp $
@


1.1.1.1
log
@Re-import from net/csync and update to 0.6.0.
ocsync is the ownCloud version of csync.

Note that no @@pkgpath nor quirks will be added because the "official"
csync client may appear in-tree.

ok jasper@@
@
text
@@
