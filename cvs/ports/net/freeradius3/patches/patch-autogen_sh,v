head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.6
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.4
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2016.07.05.12.04.41;	author sthen;	state Exp;
branches;
next	1.1;
commitid	8nUUBxYLL1y4VQT3;

1.1
date	2016.06.27.20.35.31;	author sthen;	state Exp;
branches;
next	;
commitid	cghGjBemClhHZNp9;


desc
@@


1.2
log
@Replace unnecessary freeradius build dep on autoconf-archive with changes to
autoconf/autoheader m4 include path instead (the m4 files were there, just not
being picked up). While there, update to a newer 3.0.x snapshot to fix a crash
when using raddebug with a condition matching on regexp.
@
text
@$OpenBSD: patch-autogen_sh,v 1.1 2016/06/27 20:35:31 sthen Exp $
--- autogen.sh.orig	Mon Jun 27 10:31:45 2016
+++ autogen.sh	Tue Jul  5 12:53:54 2016
@@@@ -16,6 +16,6 @@@@ mysubdirs=`echo $mysubdirs`
 for F in $mysubdirs
 do
 	echo "Configuring in $F..."
-	(cd $F && grep "^AC_CONFIG_HEADER" configure.ac > /dev/null || exit 0; autoheader -I$parentdir)
-	(cd $F && autoconf -I$parentdir)
+	(cd $F && grep "^AC_CONFIG_HEADER" configure.ac > /dev/null || exit 0; autoheader -Im4 -I$parentdir -I$parentdir/m4)
+	(cd $F && autoconf -Im4 -I$parentdir -I$parentdir/m4)
 done
@


1.1
log
@switch to a 3.0.x snapshot of freeradius, it's fairly low risk and fixes
a few problems with 3.0.11 that are worth getting in before 6.0.
@
text
@d1 3
a3 3
$OpenBSD$
--- autogen.sh.orig	Mon Jun 27 10:29:45 2016
+++ autogen.sh	Mon Jun 27 13:40:34 2016
d10 2
a11 2
+	(cd $F && grep "^AC_CONFIG_HEADER" configure.ac > /dev/null || exit 0; autoheader -I$parentdir -I$parentdir/m4)
+	(cd $F && autoconf -I$parentdir -I$parentdir/m4)
@

