head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.8
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.20
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.18
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.16
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.14
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.12
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.10
	OPENBSD_5_0:1.1.0.8
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.6
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.4
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2014.11.08.20.08.20;	author kirby;	state Exp;
branches;
next	1.1;
commitid	8IngpABs0Y3LGxHH;

1.1
date	2010.02.25.17.07.17;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@fix pf_changes plugin autoconfigure
patch from Dimitri Sokolyuk, thanks!
@
text
@#!/bin/sh
#
# $OpenBSD: pf_changes,v 1.1 2010/02/25 17:07:17 sthen Exp $
#
# Script to monitor OpenBSD pf statistics
#
# (c) 2010 Michael Knudsen <mk@@openbsd.org>
#
# Parameters:
#
# 	config   (required)
# 	autoconf (optional - used by munin-config)
# 	suggest  (optional - used by munin-config)
#

if [ "$1" = "autoconf" ]; then
	if [ "$(uname -s)" = "OpenBSD" ]; then
		echo yes
		exit 0
	else
		echo no
		exit 1
	fi
fi

if [ "$1" = "suggest" ]; then
	exit 0
fi

if [ "$1" = "config" ]; then

	echo 'graph_title pf state table changes'
	echo 'graph_args --base 1000'
	echo 'graph_category pf'
	echo 'graph_vlabel State table changes'
	echo 'ins.label Insertions' 
	echo 'ins.info State table entry insertions'
	echo 'ins.type DERIVE'
	echo 'ins.min 0'
	echo 'rem.label Removals'
	echo 'rem.info State table entry removals'
	echo 'rem.type DERIVE'
	echo 'ins.min 0'
	exit 0
fi

pfctl -si | awk '
$1 == "inserts" { print "ins.value " $2; }
$1 == "removals" { print "rem.value " $2; }
';
@


1.1
log
@- update/add OpenBSD-specific plugins (interrupt and pf monitoring), from mk@@

- redo MESSAGE-main, making it a little more obvious how to get started,
following discussions with stephan@@ and jasper@@

ok jasper@@
(reminder, ports is not fully open, do not commit without specific permission)
@
text
@d3 1
a3 1
# $OpenBSD$
d44 1
@

