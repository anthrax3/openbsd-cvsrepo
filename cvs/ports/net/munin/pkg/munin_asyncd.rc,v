head	1.4;
access;
symbols
	OPENBSD_6_1:1.2.0.8
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.6
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.1.0.4
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@ * @;


1.4
date	2017.05.27.19.57.06;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	H08QxD8pqoInz6Rz;

1.3
date	2017.05.27.13.53.07;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	SDpZdO8hfYIlMQ9j;

1.2
date	2015.07.15.19.40.58;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	nBBrLa8BoUweUEfw;

1.1
date	2014.05.30.10.28.17;	author kirby;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Bring rc_bg back.
@
text
@#!/bin/sh
#
# $OpenBSD: munin_asyncd.rc,v 1.3 2017/05/27 13:53:07 ajacoutot Exp $

daemon="${TRUEPREFIX}/libexec/munin/munin-asyncd --fork"
daemon_user="_munin"

. /etc/rc.d/rc.subr

pexp="perl: munin-asyncd .*"
rc_bg=YES

rc_cmd $1
@


1.3
log
@Cope with recent rc.subr(8) change (removal of rc_bg etc.)
@
text
@d3 1
a3 1
# $OpenBSD: munin_asyncd.rc,v 1.2 2015/07/15 19:40:58 ajacoutot Exp $
d11 1
@


1.2
log
@Fix pexp.
@
text
@d3 1
a3 1
# $OpenBSD: munin_asyncd.rc,v 1.1 2014/05/30 10:28:17 kirby Exp $
a10 1
rc_bg=YES
@


1.1
log
@ - bugfix update to munin-2.0.21
 - move async and asyncd to -main package
 - add asyncd rc script
 - move @@sample /var/db/munin/ to PLIST-main (requested by sthen@@)

with input from ajacoutot@@
OK sthen@@
@
text
@d3 1
a3 1
# $OpenBSD: munin_node.rc,v 1.6 2013/01/08 11:14:02 kirby Exp $
d10 1
a10 2
pexp="perl: munin-asyncd"

@

