head	1.2;
access;
symbols
	OPENBSD_4_1:1.1.0.2
	OPENBSD_4_1_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2007.04.09.20.50.58;	author kili;	state dead;
branches;
next	1.1;

1.1
date	2006.11.01.21.13.19;	author kili;	state Exp;
branches;
next	;


desc
@@


1.2
log
@
Update to 2007-01-R1b. Tested by many.

ok, robert@@
@
text
@$OpenBSD: patch-frontend_cc,v 1.1 2006/11/01 21:13:19 kili Exp $

# From upstream SVN.

--- frontend.cc.orig	Wed Jun 29 20:04:43 2005
+++ frontend.cc	Fri Oct 20 15:38:06 2006
@@@@ -722,9 +722,8 @@@@ void Frontend::ReadGroupMap(FILE *in_fil
     snprintf(format, 64, "%%6[^:]: %%%d[^ ] %%1024[^\n]\n", MAC_STR_LEN);
 
     while (!feof(in_file)) {
-        fgets(dline, 8192, in_file);
-
-        if (feof(in_file)) break;
+        if (fgets(dline, 8192, in_file) == NULL ||
+	    feof(in_file)) break;
 
         // Fetch the line and continue if we're invalid...
         if (sscanf(dline, format, type, parm1, parm2) < 3)
@


1.1
log
@
Update to 2006-04-R1, with some patches from the upstream kismet SVN.

While here, update my mail address and comment most of
the patch files.

Some WANTLIB spanking and ok, sturm@@
@
text
@d1 1
a1 1
$OpenBSD$
@

