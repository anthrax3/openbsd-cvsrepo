head	1.104;
access;
symbols
	OPENBSD_6_1:1.100.0.2
	OPENBSD_6_1_BASE:1.100
	OPENBSD_6_0:1.90.0.2
	OPENBSD_6_0_BASE:1.90
	OPENBSD_5_9:1.88.0.2
	OPENBSD_5_9_BASE:1.88
	OPENBSD_5_8:1.86.0.4
	OPENBSD_5_8_BASE:1.86
	OPENBSD_5_7:1.75.0.2
	OPENBSD_5_7_BASE:1.75
	OPENBSD_5_6:1.71.0.2
	OPENBSD_5_6_BASE:1.71
	OPENBSD_5_5:1.68.0.2
	OPENBSD_5_5_BASE:1.68
	OPENBSD_5_4:1.63.0.2
	OPENBSD_5_4_BASE:1.63
	OPENBSD_5_3:1.61.0.2
	OPENBSD_5_3_BASE:1.61
	OPENBSD_5_2:1.58.0.2
	OPENBSD_5_2_BASE:1.58
	OPENBSD_5_1_BASE:1.55
	OPENBSD_5_1:1.55.0.2
	OPENBSD_5_0:1.51.0.2
	OPENBSD_5_0_BASE:1.51
	OPENBSD_4_9:1.49.0.2
	OPENBSD_4_9_BASE:1.49
	OPENBSD_4_8:1.45.0.2
	OPENBSD_4_8_BASE:1.45
	OPENBSD_4_7:1.43.0.2
	OPENBSD_4_7_BASE:1.43
	OPENBSD_4_6:1.39.0.2
	OPENBSD_4_6_BASE:1.39
	OPENBSD_4_5:1.38.0.2
	OPENBSD_4_5_BASE:1.38
	OPENBSD_4_4:1.34.0.4
	OPENBSD_4_4_BASE:1.34
	OPENBSD_4_3:1.34.0.2
	OPENBSD_4_3_BASE:1.34
	OPENBSD_4_2:1.30.0.2
	OPENBSD_4_2_BASE:1.30
	OPENBSD_4_1:1.26.0.2
	OPENBSD_4_1_BASE:1.26
	OPENBSD_4_0:1.21.0.2
	OPENBSD_4_0_BASE:1.21
	OPENBSD_3_9:1.18.0.2
	OPENBSD_3_9_BASE:1.18
	OPENBSD_3_8:1.15.0.2
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.6.0.2
	OPENBSD_3_7_BASE:1.6
	tor:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.104
date	2017.07.01.19.11.57;	author pascal;	state Exp;
branches;
next	1.103;
commitid	U88vQUKEO9oBUMK2;

1.103
date	2017.06.10.18.02.23;	author pascal;	state Exp;
branches;
next	1.102;
commitid	LA0ZVSpRuiGeWZ0p;

1.102
date	2017.05.17.11.20.33;	author pascal;	state Exp;
branches;
next	1.101;
commitid	HQjSbLDBJrr9wCrm;

1.101
date	2017.04.27.19.55.56;	author pascal;	state Exp;
branches;
next	1.100;
commitid	9vVsLZ7FLedWBz5q;

1.100
date	2017.03.02.21.50.43;	author pascal;	state Exp;
branches
	1.100.2.1;
next	1.99;
commitid	W25pBNOV7vOf6hgP;

1.99
date	2017.01.29.16.07.52;	author jsing;	state Exp;
branches;
next	1.98;
commitid	JyXFmIBZWev5iJ1o;

1.98
date	2017.01.25.12.16.44;	author pascal;	state Exp;
branches;
next	1.97;
commitid	HaGOl3GUgvcp7nwW;

1.97
date	2016.12.20.22.06.05;	author pascal;	state Exp;
branches;
next	1.96;
commitid	8lb1fvyH03rbSo9t;

1.96
date	2016.12.09.12.59.38;	author pascal;	state Exp;
branches;
next	1.95;
commitid	EkGhrh3eKIthR1It;

1.95
date	2016.12.02.21.58.24;	author pascal;	state Exp;
branches;
next	1.94;
commitid	8yyyJUhLVVL46rWz;

1.94
date	2016.10.18.16.59.02;	author pascal;	state Exp;
branches;
next	1.93;
commitid	IH0wt9o4BZjQWpGN;

1.93
date	2016.09.24.21.23.21;	author pascal;	state Exp;
branches;
next	1.92;
commitid	PHw8y3BLCh7OuGd4;

1.92
date	2016.08.24.21.35.03;	author pascal;	state Exp;
branches;
next	1.91;
commitid	pJoWtVOws2L5slji;

1.91
date	2016.08.03.15.40.31;	author pascal;	state Exp;
branches;
next	1.90;
commitid	67gHXrafoEPu9WG1;

1.90
date	2016.05.18.10.14.07;	author pascal;	state Exp;
branches
	1.90.2.1;
next	1.89;
commitid	y8yBPLPMhULszjhi;

1.89
date	2016.05.07.12.40.58;	author pascal;	state Exp;
branches;
next	1.88;
commitid	Fec0PsLcTwj1Q99H;

1.88
date	2015.12.10.23.35.11;	author pascal;	state Exp;
branches;
next	1.87;
commitid	4dYpHDZmPimZa3Cb;

1.87
date	2015.11.25.21.04.07;	author pascal;	state Exp;
branches;
next	1.86;
commitid	s4WM9WmwAJhQkvfp;

1.86
date	2015.07.20.19.55.58;	author ajacoutot;	state Exp;
branches;
next	1.85;
commitid	tWQ6flU2RD1e4cje;

1.85
date	2015.07.15.13.54.55;	author ajacoutot;	state Exp;
branches;
next	1.84;
commitid	5zU8eNi4mCtWRbs2;

1.84
date	2015.07.14.12.05.44;	author pascal;	state Exp;
branches;
next	1.83;
commitid	whFbdpKC5kg9nFw1;

1.83
date	2015.06.25.10.27.05;	author pascal;	state Exp;
branches;
next	1.82;
commitid	UhXpjqpq6FiNUYnn;

1.82
date	2015.06.11.20.23.16;	author pascal;	state Exp;
branches;
next	1.81;
commitid	2JyigkAEjLCIKDQ1;

1.81
date	2015.06.09.14.46.39;	author pascal;	state Exp;
branches;
next	1.80;
commitid	kNwfaxfOcrz22haf;

1.80
date	2015.04.07.09.33.05;	author pascal;	state Exp;
branches;
next	1.79;
commitid	ZGTQRXXsAQfrYCZO;

1.79
date	2015.04.03.15.26.10;	author pascal;	state Exp;
branches;
next	1.78;
commitid	Z9nwb47LKqoFNemE;

1.78
date	2015.03.26.21.32.30;	author pascal;	state Exp;
branches;
next	1.77;
commitid	XdVEZShxmsd03Pp4;

1.77
date	2015.03.23.16.21.10;	author pascal;	state Exp;
branches;
next	1.76;
commitid	TVbo1sFHk00DL4d9;

1.76
date	2015.03.19.23.05.34;	author pascal;	state Exp;
branches;
next	1.75;
commitid	9N8XNqjv2VA07fph;

1.75
date	2014.10.24.20.14.48;	author pascal;	state Exp;
branches
	1.75.2.1;
next	1.74;
commitid	H8Pv7dNL7DUwDRzV;

1.74
date	2014.10.05.19.29.20;	author pascal;	state Exp;
branches;
next	1.73;
commitid	eQXMplYzjuLuI2it;

1.73
date	2014.09.27.17.16.00;	author pascal;	state Exp;
branches;
next	1.72;
commitid	LuUpvJ96dPOPyE2d;

1.72
date	2014.08.10.16.51.53;	author pascal;	state Exp;
branches;
next	1.71;
commitid	HBc9kfAgVOTtufHS;

1.71
date	2014.07.12.13.57.23;	author pascal;	state Exp;
branches
	1.71.2.1;
next	1.70;
commitid	Q0iQPiSHXc9MEVxH;

1.70
date	2014.05.18.15.33.16;	author pascal;	state Exp;
branches;
next	1.69;

1.69
date	2014.03.09.19.46.32;	author pascal;	state Exp;
branches;
next	1.68;

1.68
date	2013.12.24.09.51.15;	author pascal;	state Exp;
branches
	1.68.2.1;
next	1.67;

1.67
date	2013.12.19.17.43.33;	author juanfra;	state Exp;
branches;
next	1.66;

1.66
date	2013.11.19.20.36.27;	author pascal;	state Exp;
branches;
next	1.65;

1.65
date	2013.09.12.21.17.59;	author pascal;	state Exp;
branches;
next	1.64;

1.64
date	2013.09.11.15.57.36;	author pascal;	state Exp;
branches;
next	1.63;

1.63
date	2013.06.15.15.43.22;	author pascal;	state Exp;
branches
	1.63.2.1;
next	1.62;

1.62
date	2013.03.11.11.35.57;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2012.11.22.18.37.32;	author pascal;	state Exp;
branches;
next	1.60;

1.60
date	2012.09.12.21.09.28;	author pascal;	state Exp;
branches;
next	1.59;

1.59
date	2012.08.13.16.39.35;	author pascal;	state Exp;
branches;
next	1.58;

1.58
date	2012.06.13.11.27.16;	author pascal;	state Exp;
branches
	1.58.2.1;
next	1.57;

1.57
date	2012.05.26.11.08.44;	author pascal;	state Exp;
branches;
next	1.56;

1.56
date	2012.04.28.10.52.08;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2011.12.16.20.08.50;	author sthen;	state Exp;
branches
	1.55.2.1;
next	1.54;

1.54
date	2011.10.28.18.13.22;	author jcs;	state Exp;
branches;
next	1.53;

1.53
date	2011.09.17.10.39.26;	author sthen;	state Exp;
branches;
next	1.52;

1.52
date	2011.09.07.07.55.41;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2011.03.26.10.01.08;	author sthen;	state Exp;
branches
	1.51.2.1;
next	1.50;

1.50
date	2011.03.11.06.49.55;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2011.01.18.19.59.17;	author jasper;	state Exp;
branches;
next	1.48;

1.48
date	2010.12.26.11.50.59;	author benoit;	state Exp;
branches;
next	1.47;

1.47
date	2010.12.11.11.05.05;	author benoit;	state Exp;
branches;
next	1.46;

1.46
date	2010.10.18.18.36.59;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2010.06.20.07.57.07;	author benoit;	state Exp;
branches
	1.45.2.1;
next	1.44;

1.44
date	2010.03.25.05.35.35;	author benoit;	state Exp;
branches;
next	1.43;

1.43
date	2010.01.23.21.00.09;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2010.01.04.08.07.57;	author benoit;	state Exp;
branches;
next	1.41;

1.41
date	2009.11.14.10.09.05;	author benoit;	state Exp;
branches;
next	1.40;

1.40
date	2009.08.10.21.14.41;	author benoit;	state Exp;
branches;
next	1.39;

1.39
date	2009.06.30.12.36.44;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2009.02.10.23.10.13;	author rui;	state Exp;
branches;
next	1.37;

1.37
date	2009.01.24.14.53.57;	author rui;	state Exp;
branches;
next	1.36;

1.36
date	2008.12.16.21.04.06;	author rui;	state Exp;
branches;
next	1.35;

1.35
date	2008.09.19.21.50.59;	author rui;	state Exp;
branches;
next	1.34;

1.34
date	2008.01.19.16.03.21;	author rui;	state Exp;
branches;
next	1.33;

1.33
date	2008.01.04.17.48.37;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2007.11.04.08.39.20;	author rui;	state Exp;
branches;
next	1.31;

1.31
date	2007.09.03.22.10.49;	author rui;	state Exp;
branches;
next	1.30;

1.30
date	2007.08.07.23.41.22;	author rui;	state Exp;
branches;
next	1.29;

1.29
date	2007.07.23.16.34.22;	author rui;	state Exp;
branches;
next	1.28;

1.28
date	2007.05.26.17.09.05;	author rui;	state Exp;
branches;
next	1.27;

1.27
date	2007.05.02.18.20.44;	author rui;	state Exp;
branches;
next	1.26;

1.26
date	2006.12.17.21.56.50;	author jcs;	state Exp;
branches
	1.26.2.1;
next	1.25;

1.25
date	2006.11.07.11.51.46;	author sturm;	state Exp;
branches;
next	1.24;

1.24
date	2006.10.06.18.14.20;	author pvalchev;	state Exp;
branches;
next	1.23;

1.23
date	2006.09.24.20.34.06;	author jcs;	state Exp;
branches;
next	1.22;

1.22
date	2006.09.20.22.06.36;	author ray;	state Exp;
branches;
next	1.21;

1.21
date	2006.07.17.19.23.03;	author jcs;	state Exp;
branches
	1.21.2.1;
next	1.20;

1.20
date	2006.06.10.08.33.36;	author steven;	state Exp;
branches;
next	1.19;

1.19
date	2006.04.03.06.51.47;	author steven;	state Exp;
branches;
next	1.18;

1.18
date	2006.01.18.22.17.22;	author sturm;	state Exp;
branches
	1.18.2.1;
next	1.17;

1.17
date	2005.11.16.23.23.34;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2005.09.30.09.18.10;	author alek;	state Exp;
branches;
next	1.15;

1.15
date	2005.08.31.19.55.37;	author sturm;	state Exp;
branches
	1.15.2.1;
next	1.14;

1.14
date	2005.08.09.12.40.01;	author robert;	state Exp;
branches;
next	1.13;

1.13
date	2005.08.06.11.59.15;	author alek;	state Exp;
branches;
next	1.12;

1.12
date	2005.07.21.03.26.53;	author alek;	state Exp;
branches;
next	1.11;

1.11
date	2005.07.02.16.20.23;	author alek;	state Exp;
branches;
next	1.10;

1.10
date	2005.06.21.22.54.28;	author robert;	state Exp;
branches;
next	1.9;

1.9
date	2005.05.03.09.23.42;	author alek;	state Exp;
branches;
next	1.8;

1.8
date	2005.04.12.18.54.22;	author alek;	state Exp;
branches;
next	1.7;

1.7
date	2005.04.05.08.30.06;	author alek;	state Exp;
branches;
next	1.6;

1.6
date	2005.03.08.16.09.42;	author naddy;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2005.01.30.20.20.18;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2005.01.03.22.03.00;	author sturm;	state Exp;
branches;
next	1.3;

1.3
date	2004.12.16.00.31.26;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2004.10.31.18.45.50;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2004.09.26.10.06.29;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.09.26.10.06.29;	author espie;	state Exp;
branches;
next	;

1.6.2.1
date	2005.06.23.09.23.28;	author robert;	state Exp;
branches;
next	1.6.2.2;

1.6.2.2
date	2005.08.08.16.57.47;	author robert;	state Exp;
branches;
next	1.6.2.3;

1.6.2.3
date	2005.08.09.15.04.23;	author robert;	state Exp;
branches;
next	1.6.2.4;

1.6.2.4
date	2005.08.31.19.51.42;	author sturm;	state Exp;
branches;
next	;

1.15.2.1
date	2006.06.11.08.23.24;	author sturm;	state Exp;
branches;
next	;

1.18.2.1
date	2006.06.11.08.23.55;	author sturm;	state Exp;
branches;
next	;

1.21.2.1
date	2007.08.15.08.02.56;	author sturm;	state Exp;
branches;
next	;

1.26.2.1
date	2007.08.08.16.16.19;	author ajacoutot;	state Exp;
branches;
next	;

1.45.2.1
date	2010.12.28.10.06.11;	author jasper;	state Exp;
branches;
next	1.45.2.2;

1.45.2.2
date	2011.01.18.19.59.46;	author jasper;	state Exp;
branches;
next	;

1.51.2.1
date	2011.10.29.16.26.48;	author jasper;	state Exp;
branches;
next	1.51.2.2;

1.51.2.2
date	2011.12.16.20.13.43;	author pascal;	state Exp;
branches;
next	;

1.55.2.1
date	2012.05.26.11.10.27;	author pascal;	state Exp;
branches;
next	1.55.2.2;

1.55.2.2
date	2012.06.13.11.28.24;	author pascal;	state Exp;
branches;
next	;

1.58.2.1
date	2012.08.21.17.56.09;	author pascal;	state Exp;
branches;
next	1.58.2.2;

1.58.2.2
date	2012.09.12.21.30.10;	author sthen;	state Exp;
branches;
next	;

1.63.2.1
date	2013.12.27.19.43.30;	author jasper;	state Exp;
branches;
next	;

1.68.2.1
date	2014.05.19.08.03.10;	author pascal;	state Exp;
branches;
next	1.68.2.2;

1.68.2.2
date	2014.09.11.09.06.11;	author jasper;	state Exp;
branches;
next	;
commitid	QC3dIEwoTGhmHjo4;

1.71.2.1
date	2014.09.11.09.14.45;	author jasper;	state Exp;
branches;
next	1.71.2.2;
commitid	czNbgWmX1WcXApp7;

1.71.2.2
date	2015.03.25.11.47.07;	author jasper;	state Exp;
branches;
next	1.71.2.3;
commitid	VmwZdtsk8oOPnE57;

1.71.2.3
date	2015.04.09.16.18.06;	author jasper;	state Exp;
branches;
next	;
commitid	qdboiLxidDHBGMTl;

1.75.2.1
date	2015.03.25.11.48.06;	author jasper;	state Exp;
branches;
next	1.75.2.2;
commitid	vtUyYsWCH1tt4yOY;

1.75.2.2
date	2015.04.09.16.18.39;	author jasper;	state Exp;
branches;
next	;
commitid	nlZipyQHmblgTU7w;

1.90.2.1
date	2016.10.20.20.23.49;	author pascal;	state Exp;
branches;
next	;
commitid	BQczNUiZnB4cJvX6;

1.100.2.1
date	2017.06.11.18.23.57;	author pascal;	state Exp;
branches;
next	;
commitid	djvBLraAuJ50YArL;


desc
@@


1.104
log
@SECURITY update to 0.3.0.9.  Fixes CVE-2017-0377.
@
text
@# $OpenBSD: Makefile,v 1.103 2017/06/10 18:02:23 pascal Exp $

COMMENT=	anonymity service using onion routing

DISTNAME=	tor-0.3.0.9
CATEGORIES=	net
HOMEPAGE=	https://www.torproject.org/

MAINTAINER=	Pascal Stumpf <pascal@@stumpf.co>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c crypto event_core event_extra m pthread ssl z

MASTER_SITES=	https://www.torproject.org/dist/

CONFIGURE_STYLE=gnu
# PIE is already taken care of on a per-arch basis, and we have stack protection
# anyway on FRAME_GROWS_DOWN archs.
CONFIGURE_ARGS=	--with-ssl-dir=/usr \
		--with-libevent-dir="${LOCALBASE}" \
		--disable-gcc-hardening
CONFIGURE_ENV+=ac_cv_member_struct_ssl_method_st_get_cipher_by_char=no

LIB_DEPENDS=	devel/libevent2

DB_DIR=		/var/tor
SUBST_VARS+=	DB_DIR

FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples

.include <bsd.port.mk>
@


1.103
log
@SECURITY update to tor 0.3.0.8.  Fixes CVE-2017-0375 and CVE-2017-0376.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2017/05/17 11:20:33 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.3.0.8
@


1.102
log
@Update to tor 0.3.0.7.  SECURITY fix for TROVE-2017-002 (relays only).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2017/04/27 19:55:56 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.3.0.7
@


1.101
log
@Update to 0.3.0.6.  For a detailed list of changes, see:
https://blog.torproject.org/blog/tor-0306-released-new-series-stable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2017/03/02 21:50:43 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.3.0.6
@


1.100
log
@Update to tor 0.2.9.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2017/01/29 16:07:52 jsing Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.9.10
@


1.100.2.1
log
@SECURITY update to tor 0.2.9.11; fixes CVE-2017-0375 and CVE-2017-0376.

ok danj@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2017/03/02 21:50:43 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.9.11
@


1.99
log
@Disable tests that attempt to construct their own SSL data structures. This
requires all structs to be fully visible and completely understood by the
application, which is no longer the case with LibreSSL.

ok naddy@@ pascal@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2017/01/25 12:16:44 pascal Exp $
d5 1
a5 2
DISTNAME=	tor-0.2.9.9
REVISION=	0
@


1.98
log
@Update to tor 0.2.9.9.  Fixes a denial of service (TROVE-2017-001).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2016/12/20 22:06:05 pascal Exp $
d6 1
@


1.97
log
@Update to tor 0.2.9.8.  Also fixes CVE-2016-1254.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2016/12/09 12:59:38 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.9.8
@


1.96
log
@Update to tor 0.2.8.11; just compilation fixes that do not concern us.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2016/12/02 21:58:24 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.8.11
@


1.95
log
@Update to tor 0.2.8.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2016/10/18 16:59:02 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.8.10
@


1.94
log
@SECURITY update to 0.2.8.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2016/09/24 21:23:21 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.8.9
@


1.93
log
@Update to tor 0.2.8.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2016/08/24 21:35:03 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.8.8
@


1.92
log
@Update to tor 0.2.8.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2016/08/03 15:40:31 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.8.7
@


1.91
log
@Update to 0.2.8.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2016/05/18 10:14:07 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.8.6
@


1.90
log
@Adjust commented-out HiddenServiceDir directives in sample torrc.

from Michael McConville
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2016/05/07 12:40:58 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.7.6
a7 1
REVISION=	1
d18 1
a18 2
CONFIGURE_STYLE=autoconf
AUTOCONF_VERSION = 2.69
@


1.90.2.1
log
@SECURITY fix for CVE-2016-8860.

ok danj@@ robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2016/05/18 10:14:07 pascal Exp $
d8 1
a8 1
REVISION=	2
@


1.89
log
@Update my mail address.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2015/12/10 23:35:11 pascal Exp $
d8 1
a8 1
REVISION=	0
@


1.88
log
@Bugfix update to 0.2.7.6, from Vigdis.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2015/11/25 21:04:07 pascal Exp $
d8 1
d10 1
a10 1
MAINTAINER=	Pascal Stumpf <Pascal.Stumpf@@cubes.de>
@


1.87
log
@Update to tor 0.2.7.5.  Switch to libevent2 by default, as recommended by
upstream.

Based on diffs from Daniel Jakots.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2015/07/20 19:55:58 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.7.5
@


1.86
log
@Tweak pkill invocation.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2015/07/15 13:54:55 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.6.10
a7 1
REVISION=	1
d14 1
a14 1
WANTLIB += c crypto event m pthread ssl z
d18 1
a18 1
CONFIGURE_STYLE=gnu
d23 1
d26 2
@


1.85
log
@No need to override the default pexp after recent rc.subr(8) change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2015/07/14 12:05:44 pascal Exp $
d8 1
a8 1
REVISION=	0
@


1.84
log
@Bugfix update to tor 0.2.6.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2015/06/25 10:27:05 pascal Exp $
d8 1
@


1.83
log
@In some situations, it is desirable to start multiple tor instances on the
same machine.  While this is of course done outside the rc.subr(8) framework,
the package's rc.d(8) script should not interfere with these instances.

Require exact pexp matches in order to achieve this.  Patch by "nusenu",
developer of ansible-relayor, tested by me in various situations.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2015/06/11 20:23:16 pascal Exp $
d5 1
a5 2
DISTNAME=	tor-0.2.6.9
REVISION=	0
@


1.82
log
@update to tor 0.2.6.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2015/06/09 14:46:39 pascal Exp $
d6 1
@


1.81
log
@Update to tor 0.2.6.8, reminded by David Hill.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2015/04/07 09:33:05 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.6.8
@


1.80
log
@SECURITY update to tor 0.2.6.7, fixes CVE-2015-2928 and CVE-2015-2929.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2015/04/03 15:26:10 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.6.7
@


1.79
log
@Use SIGINT instead of SIGTERM to terminate the tor process in rc_stop().

For clients, this means no change.

For relays, this instructs tor to do a clean shutdown, leaving 30s for other
peers to find another route.  Increase daemon_timeout to one minute to give
tor a bit more time on slow machines (like my BBB).

Hint from Michael McConvill, "go ahead" ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2015/03/26 21:32:30 pascal Exp $
d5 1
a5 2
DISTNAME=	tor-0.2.6.6
REVISION=	0
@


1.78
log
@Update to next major release 0.2.6.6.

Changes in version 0.2.6.6 - 2015-03-24
  Tor 0.2.6.6 is the first stable release in the 0.2.6 series.

  It adds numerous safety, security, correctness, and performance
  improvements. Client programs can be configured to use more kinds of
  sockets, AutomapHosts works better, the multithreading backend is
  improved, cell transmission is refactored, test coverage is much
  higher, more denial-of-service attacks are handled, guard selection is
  improved to handle long-term guards better, pluggable transports
  should work a bit better, and some annoying hidden service performance
  bugs should be addressed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2015/03/23 16:21:10 pascal Exp $
d6 1
@


1.77
log
@Fix crash on startup on sparc64, patch from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2015/03/19 23:05:34 pascal Exp $
d5 1
a5 2
DISTNAME=	tor-0.2.5.11
REVISION=	0
@


1.76
log
@update to tor 0.2.5.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2014/10/24 20:14:48 pascal Exp $
d6 1
@


1.75
log
@Update to tor 0.2.5.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2014/10/05 19:29:20 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.5.10
@


1.75.2.1
log
@- update to tor-0.2.5.11 which contains several bugfixes from the 0.2.6 branch,
including a couple of medium-level security fixes for relays and exit nodes.
It also updates the list of directory authorities.

ok pascal@@ (MAINTAINER) who had the same diff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2014/10/24 20:14:48 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.5.11
@


1.75.2.2
log
@update to tor-0.2.5.12
https://blog.torproject.org/blog/tor-02512-and-0267-are-released

ok pascal@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75.2.1 2015/03/25 11:48:06 jasper Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.5.12
@


1.74
log
@Fix relay functionality after get_cipher_by_char removal.  Patch by jsing@@,
tested by myself and "babut".

ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2014/09/27 17:16:00 pascal Exp $
d5 1
a5 2
DISTNAME=	tor-0.2.4.24
REVISION=	0
d24 1
@


1.73
log
@Bugfix update to 0.2.4.24.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2014/08/10 16:51:53 pascal Exp $
d6 1
d20 1
@


1.72
log
@Update to tor 0.2.4.23; mitigates the attack described at
https://blog.torproject.org/blog/tor-weekly-news-%E2%80%94-august-6th-2014
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2014/07/12 13:57:23 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.4.23
@


1.71
log
@Check for OPENSSL_NO_COMP before turning off compression.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2014/05/18 15:33:16 pascal Exp $
d5 1
a5 2
DISTNAME=	tor-0.2.4.22
REVISION=	0
@


1.71.2.1
log
@Update to tor 0.2.4.23; mitigates the attack described at
https://blog.torproject.org/blog/tor-weekly-news-%E2%80%94-august-6th-2014
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2014/07/12 13:57:23 pascal Exp $
d5 2
a6 1
DISTNAME=	tor-0.2.4.23
@


1.71.2.2
log
@- update to tor-0.2.4.26, which includes an updated list of directory
authorities. It also backports a couple of stability and security bugfixes
from 0.2.5 and beyond.

ok pascal@@ (MAINTAINER) who had the same diff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71.2.1 2014/09/11 09:14:45 jasper Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.4.26
@


1.71.2.3
log
@- update to tor-0.2.4.27
https://blog.torproject.org/blog/tor-02512-and-0267-are-released

ok pascal@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71.2.2 2015/03/25 11:47:07 jasper Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.4.27
@


1.70
log
@Update to tor 0.2.4.22.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2014/03/09 19:46:32 pascal Exp $
d6 1
@


1.69
log
@Update to 0.2.4.21.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/12/24 09:51:15 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.4.21
@


1.68
log
@SECURITY update to 0.2.4.20.  From the ChangeLog:

  Tor 0.2.4.20 fixes potentially poor random number generation for users
  who 1) use OpenSSL 1.0.0 or later, 2) set "HardwareAccel 1" in their
  torrc file, 3) have "Sandy Bridge" or "Ivy Bridge" Intel processors,
  and 4) have no state file in their DataDirectory (as would happen on
  first start). Users who generated relay or hidden service identity
  keys in such a situation should discard them and generate new ones.

(no CVE assigned yet)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/12/19 17:43:33 juanfra Exp $
d5 1
a5 2
DISTNAME=	tor-0.2.4.20
PKGNAME=	${DISTNAME:S/-rc/rc/}
@


1.68.2.1
log
@MFC update to tor 0.2.4.22.  Most notably, this blocks authority signing keys
that may have been compromised by Heartbleed.

ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/12/24 09:51:15 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.4.22
@


1.68.2.2
log
@Update to tor 0.2.4.23; mitigates the attack described at
https://blog.torproject.org/blog/tor-weekly-news-%E2%80%94-august-6th-2014
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68.2.1 2014/05/19 08:03:10 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.4.23
@


1.67
log
@Update to tor 0.2.4.19. OK pascal@@ sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/11/19 20:36:27 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.4.19
@


1.66
log
@Update to 0.2.4.18rc, ok dcoppa@@ benoit@@ jca@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/09/12 21:17:59 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.4.18-rc
@


1.65
log
@Fix PKGNAME; -rc was interpreted as FLAVOR extension.

noticed by naddy@@ and nigel@@, ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2013/09/11 15:57:36 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.4.17-rc
@


1.64
log
@Update to tor-0.2.4.17-rc.  Adds support for crypto stronger than 1024RSA/DH
as well as mitigation against the recent "botnet" problems.  If you are
running a relay, you should most definitely upgrade.

Full Changelog:

https://gitweb.torproject.org/tor.git/blob/tor-0.2.4.17-rc:/ChangeLog

tested by gonzalo@@ bcallah@@, ok bcallah@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/06/15 15:43:22 pascal Exp $
d6 1
@


1.63
log
@Fix a crash encountered by jcs@@; patch from upstream.

See https://gitweb.torproject.org/tor.git/commit/77a193533966c5c2f81e6a85b3c2a7446076508f

ok jcs@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/03/11 11:35:57 espie Exp $
d5 1
a5 2
DISTNAME=	tor-0.2.3.25
REVISION=	0
d7 1
a7 1
HOMEPAGE=	http://www.torproject.org/
d16 1
a16 1
MASTER_SITES=	${HOMEPAGE}dist/
@


1.63.2.1
log
@update to tor 0.2.4.20

Tor 0.2.4.20 fixes potentially poor random number generation for users
  who 1) use OpenSSL 1.0.0 or later, 2) set "HardwareAccel 1" in their
  torrc file, 3) have "Sandy Bridge" or "Ivy Bridge" Intel processors,
  and 4) have no state file in their DataDirectory (as would happen on
  first start). Users who generated relay or hidden service identity
  keys in such a situation should discard them and generate new ones.

ok pascal@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/06/15 15:43:22 pascal Exp $
d5 2
a6 1
DISTNAME=	tor-0.2.4.20
@


1.62
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2012/11/22 18:37:32 pascal Exp $
d6 1
@


1.61
log
@Update to new major release, Tor 0.2.3.25.

Tor 0.2.3.25, the first stable release in the 0.2.3 branch, features
significantly reduced directory overhead (via microdescriptors),
enormous crypto performance improvements for fast relays on new
enough hardware, a new v3 TLS handshake protocol that can better
resist fingerprinting, support for protocol obfuscation plugins (aka
pluggable transports), better scalability for hidden services, IPv6
support for bridges, performance improvements like allowing clients
to skip the first round-trip on the circuit ("optimistic data") and
refilling token buckets more often, a new "stream isolation" design
to isolate different applications on different circuits, and many
stability, security, and privacy fixes.

Also kill unneeded pthread patch.

Tested by dhill & dcoppa@@.

ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/09/12 21:09:28 pascal Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.60
log
@Update to tor 0.2.2.39, reminded by sthen@@

Changes in version 0.2.2.39 - 2012-09-11
  Tor 0.2.2.39 fixes two more opportunities for remotely triggerable
  assertions.

  o Security fixes:
    - Fix an assertion failure in tor_timegm() that could be triggered
      by a badly formatted directory object. Bug found by fuzzing with
      Radamsa. Fixes bug 6811; bugfix on 0.2.0.20-rc.
    - Do not crash when comparing an address with port value 0 to an
      address policy. This bug could have been used to cause a remote
      assertion failure by or against directory authorities, or to
      allow some applications to crash clients. Fixes bug 6690; bugfix
      on 0.2.1.10-alpha.

No CVEs for these vulnerabilities yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2012/08/13 16:39:35 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.39
d22 4
a25 1
CONFIGURE_ARGS=	--with-ssl-dir=/usr
@


1.59
log
@SECURITY update to tor 0.2.2.38.  From the ChangeLog:

Changes in version 0.2.2.38 - 2012-08-12
  Tor 0.2.2.38 fixes a rare race condition that can crash exit relays;
  fixes a remotely triggerable crash bug; and fixes a timing attack that
  could in theory leak path information.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2012/06/13 11:27:16 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.38
@


1.58
log
@Security update tor tor 0.2.2.37, fixing a potential DoS.

Full release notes:
https://gitweb.torproject.org/tor.git/blob/release-0.2.2:/ReleaseNotes

ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2012/05/26 11:08:44 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.37
@


1.58.2.1
log
@MFC:
SECURITY update to tor 0.2.2.38.  From the ChangeLog:

Changes in version 0.2.2.38 - 2012-08-12
Tor 0.2.2.38 fixes a rare race condition that can crash exit relays;
fixes a remotely triggerable crash bug; and fixes a timing attack that
could in theory leak path information.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2012/06/13 11:27:16 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.38
@


1.58.2.2
log
@MFC - SECURITY update to tor 0.2.2.38.

  Tor 0.2.2.38 fixes a rare race condition that can crash exit relays;
  fixes a remotely triggerable crash bug; and fixes a timing attack that
  could in theory leak path information.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/09/12 21:09:28 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.39
@


1.57
log
@Update to tor 0.2.2.36, including SECURITY fixes and various other bugfixes.

- Never use a bridge or a controller-supplied node as an exit, even
  if its exit policy allows it.
- Only build circuits if we have a sufficient threshold of the total
  descriptors that are marked in the consensus with the "Exit"
  flag.
- Provide controllers with a safer way to implement the cookie
  authentication mechanism. With the old method, if another locally
  running program could convince a controller that it was the Tor
  process, then that program could trick the contoller into telling
  it the contents of an arbitrary 32-byte file. The new "SAFECOOKIE"
  authentication method uses a challenge-response approach to prevent
  this attack.

We are not affected by the openssl vulnerability.

Full release notes:
https://gitweb.torproject.org/tor.git/blob/release-0.2.2:/ReleaseNotes

ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/04/28 10:52:08 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.36
@


1.56
log
@--localstatedir=/var is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/12/16 20:08:50 sthen Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.35
@


1.55
log
@SECURITY update to tor 0.2.2.35

  "Tor 0.2.2.35 fixes a critical heap-overflow security issue in Tor's
  buffers code. Absolutely everybody should upgrade."

More info https://gitweb.torproject.org/tor.git/blob/release-0.2.2:/ReleaseNotes
OK pascal@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/10/28 18:13:22 jcs Exp $
d22 1
a22 1
CONFIGURE_ARGS=	--with-ssl-dir=/usr --localstatedir=/var
@


1.55.2.1
log
@MFC:

Update to tor 0.2.2.36, including SECURITY fixes and various other bugfixes.

- Never use a bridge or a controller-supplied node as an exit, even
  if its exit policy allows it.
- Only build circuits if we have a sufficient threshold of the total
  descriptors that are marked in the consensus with the "Exit"
  flag.
- Provide controllers with a safer way to implement the cookie
  authentication mechanism. With the old method, if another locally
  running program could convince a controller that it was the Tor
  process, then that program could trick the contoller into telling
  it the contents of an arbitrary 32-byte file. The new "SAFECOOKIE"
  authentication method uses a challenge-response approach to prevent
  this attack.

We are not affected by the openssl vulnerability.

Full release notes:
https://gitweb.torproject.org/tor.git/blob/release-0.2.2:/ReleaseNotes

ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/12/16 20:08:50 sthen Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.36
@


1.55.2.2
log
@MFC:
Security update tor tor 0.2.2.37, fixing a potential DoS.

Full release notes:
https://gitweb.torproject.org/tor.git/blob/release-0.2.2:/ReleaseNotes

ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55.2.1 2012/05/26 11:10:27 pascal Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.37
@


1.54
log
@security update to 0.2.2.34; from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/09/17 10:39:26 sthen Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.34
d16 2
a17 1
WANTLIB=		c crypto event m pthread ssl z
@


1.53
log
@update to tor 0.2.2.33 from maintainer Pascal Stumpf
- fixes several bugs, and includes a slight tweak to Tor's TLS handshake that
  makes relays and bridges that run this new version reachable from Iran again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/09/07 07:55:41 jasper Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.33
@


1.52
log
@- update to 0.2.2.32

from new maintainer pascal stumpf (rui@@ timed-out too many times)
additional testing from roberth

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/03/26 10:01:08 sthen Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.32
d21 1
a21 1
CONFIGURE_ARGS=	--with-ssl-dir=/usr
d24 1
a24 1
SUBST_VARS=	DB_DIR
@


1.51
log
@bump for pfioc_natlook changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/03/11 06:49:55 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	tor-0.2.1.30
REVISION=	0
d9 1
a9 1
MAINTAINER=	Rui Reis <rui@@openbsd.org>
d16 1
a16 1
WANTLIB=		c crypto event pthread ssl z
@


1.51.2.1
log
@sync with 0.2.2.34 from -current, which has some important fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/10/28 18:13:22 jcs Exp $
d5 2
a6 1
DISTNAME=	tor-0.2.2.34
d10 1
a10 1
MAINTAINER=	Pascal Stumpf <Pascal.Stumpf@@cubes.de>
d17 1
a17 1
WANTLIB=		c crypto event m pthread ssl z
d22 1
a22 1
CONFIGURE_ARGS=	--with-ssl-dir=/usr --localstatedir=/var
d25 1
a25 1
SUBST_VARS+=	DB_DIR
@


1.51.2.2
log
@MFC SECURITY update to tor 0.2.2.35, fixing a heap overflow.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51.2.1 2011/10/29 16:26:48 jasper Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.2.35
d16 1
a16 2

WANTLIB += c crypto event m pthread ssl z
@


1.50
log
@Bugfix update to tor-0.2.1.30.
* amongst other things, add a tweak to Tor's TLS handshake that makes
relays and bridges that run this new version reachable from Iran.

Add an rc script.

from Pascal Stumpf.
MAINTAINER timeout.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/01/18 19:59:17 jasper Exp $
d6 1
@


1.49
log
@SECURITY update of tor 0.2.1.29
Fixes a heap overflow vulnerability.
More information: http://archives.seul.org/or/announce/Jan-2011/msg00000.html

from robert AT @@openbsd.pap.st
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/12/26 11:50:59 benoit Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.1.29
a24 1
USE_GROFF =	Yes
@


1.48
log
@- update tor to 0.2.1.28
- maintainer timeout

SECURITY update of tor to 0.2.1.28 : CVE-2010-1676
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/12/11 11:05:05 benoit Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.1.28
@


1.47
log
@- update tor to 0.2.1.27
- maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/10/18 18:36:59 espie Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.1.27
@


1.46
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/06/20 07:57:07 benoit Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.1.26
@


1.45
log
@- update tor to 0.2.1.26

ok rui@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/03/25 05:35:35 benoit Exp $
d25 1
@


1.45.2.1
log
@SECURITY update of tor to 0.2.1.28 : CVE-2010-1676
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/06/20 07:57:07 benoit Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.1.28
@


1.45.2.2
log
@SECURITY update of tor 0.2.1.29
Fixes a heap overflow vulnerability.
More information: http://archives.seul.org/or/announce/Jan-2011/msg00000.html

from robert AT @@openbsd.pap.st
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45.2.1 2010/12/28 10:06:11 jasper Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.1.29
@


1.44
log
@- update tor to 0.2.1.25
- update patches

ok rui@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/01/23 21:00:09 sthen Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.1.25
@


1.43
log
@Update tor to 0.2.1.22; from robert at openbsd dot pap dot st, thanks!

"Some of their directories were compromised and they changed keys:
http://archives.seul.org/or/talk/Jan-2010/msg00161.html"

ok ajacoutot@@ jasper@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/01/04 08:07:57 benoit Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.1.22
@


1.42
log
@- update tor to 0.2.1.21

ok rui@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/11/14 10:09:05 benoit Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.1.21
@


1.41
log
@- update tor to 0.2.1.20
- add patches using the new SSL/TLS renegotiation.

ok rui@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2009/08/10 21:14:41 benoit Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.1.20
@


1.40
log
@- update tor to 0.2.1.19
- update patch

ok rui@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/06/30 12:36:44 jasper Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.1.19
@


1.39
log
@SECURITY UPDATE of tor to 0.2.0.35
for the full announcement, see: http://archives.seul.org/or/announce/Jun-2009/msg00000.html

ok rui@@ (MAINTAINER), naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/02/10 23:10:13 rui Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.0.35
@


1.38
log
@Security: update tor to 0.2.0.34 which fixes Multiple Vulnerabilities.
Reference: http://secunia.com/advisories/33880/

ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/01/24 14:53:57 rui Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.0.34
@


1.37
log
@Security: update tor to 0.2.0.33 which fixes an important security-related bug.
Reference: http://secunia.com/Advisories/33635

I got almost the same diff from merdely@@ and robert at openbsd dot pap dot st

ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/12/16 21:04:06 rui Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.0.33
@


1.36
log
@SECURITY: update tor to 0.2.0.32 which fixes a major security problem
Reference: http://secunia.com/advisories/33025/

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2008/09/19 21:50:59 rui Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.0.32
@


1.35
log
@- update tor to 0.2.0.31.
- addresses two potential anonymity issues.
- starts to fix a bug where in rare cases traffic from one Tor stream gets mixed into another stream.
- fixes a variety of smaller issues.

ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2008/01/19 16:03:21 rui Exp $
d5 1
a5 1
DISTNAME=	tor-0.2.0.31
@


1.34
log
@- maintenance update to 0.1.2.19.
- update my email address while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2008/01/04 17:48:37 espie Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.2.19
d7 1
a7 1
HOMEPAGE=	http://tor.eff.org/
d16 1
a16 1
WANTLIB=		c crypto event ssl z
a18 2

AUTOCONF_VERSION=2.59
@


1.33
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/11/04 08:39:20 rui Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.2.18
d9 1
a9 1
MAINTAINER=	Rui Reis <rui@@rui.cx>
@


1.32
log
@update tor to 0.1.2.18. Changelog:
http://archives.seul.org/or/announce/Oct-2007/msg00000.html

ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2007/09/03 22:10:49 rui Exp $
d28 1
a28 1
FAKE_FLAGS=	DESTDIR=${WRKINST} sysconfdir=${PREFIX}/share/examples
@


1.31
log
@update tor to 0.1.2.17, lots of bugfixes. Check the Changelog for more information.

ok jcs@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2007/08/07 23:41:22 rui Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.2.17
@


1.30
log
@SECURITY: update tor to 0.1.2.16 and fix a Security Bypass.

ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/07/23 16:34:22 rui Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.2.16
@


1.29
log
@update tor to 0.1.2.15

- fixes several crash bugs
- fixes some anonymity-related problems
- fixes compilation on BSD
- fixes a variety of other bugs

ok jcs@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/05/26 17:09:05 rui Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.2.15
@


1.28
log
@update tor to 0.1.2.14

ok jcs@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/05/02 18:20:44 rui Exp $
d3 1
a3 1
COMMENT=	"anonymity service using onion routing"
d5 1
a5 1
DISTNAME=	tor-0.1.2.14
@


1.27
log
@update to tor 0.1.2.13, regen patches while here
ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2006/12/17 21:56:50 jcs Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.2.13
@


1.26
log
@update to tor-0.1.1.26; from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/11/07 11:51:46 sturm Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.1.26
@


1.26.2.1
log
@MFC (original commit rui@@):
- security update to version 0.1.2.16

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2006/12/17 21:56:50 jcs Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.2.16
@


1.25
log
@update to tor 0.1.1.25

from rui reis
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2006/10/06 18:14:20 pvalchev Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.1.25
@


1.24
log
@tor-0.1.1.24; from maintainer Rui Reis
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2006/09/24 20:34:06 jcs Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.1.24
@


1.23
log
@update to tor-0.1.1.23, from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2006/09/20 22:06:36 ray Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.1.23
@


1.22
log
@Create data directory for tor.  Also daemonize and log to syslog by
default.

OK maintainer Rui Reis <rui at rui dot cx>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/07/17 19:23:03 jcs Exp $
d5 1
a5 2
DISTNAME=	tor-0.1.1.22
PKGNAME=	${DISTNAME}p0
@


1.21
log
@update to tor-0.1.1.22, from maintainer

make default config drop privs to _tor user and group
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/06/10 08:33:36 steven Exp $
d6 1
d25 3
@


1.21.2.1
log
@MFC (original commit rui@@):
- security update to version 0.1.2.16
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/07/17 19:23:03 jcs Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.2.16
a23 3

DB_DIR=		/var/tor
SUBST_VARS=	DB_DIR
@


1.20
log
@SECURITY update to tor 0.1.1.20

fixes CVE-2006-0414

for details, see http://secunia.com/advisories/18576/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/04/03 06:51:47 steven Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.1.20
@


1.19
log
@update to tor 0.1.0.17

from new maintainer Rui Reis (rui at rui dot cx)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/01/18 22:17:22 sturm Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.0.17
@


1.18
log
@bugfix update to tor-0.1.0.16

from maintainer Jon Trembley <jon at brain-box.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2005/11/16 23:23:34 naddy Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.0.16
d9 1
a9 1
MAINTAINER=	Jon Trembley <jon@@brain-box.net>
@


1.18.2.1
log
@MFC:
SECURITY update to tor 0.1.1.20

fixes CVE-2006-0414

for details, see http://secunia.com/advisories/18576/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/01/18 22:17:22 sturm Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.1.20
@


1.17
log
@now that we have a dynamic libevent, it needs to go into WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2005/09/30 09:18:10 alek Exp $
d5 1
a5 2
DISTNAME=	tor-0.1.0.15
PKGNAME=	${DISTNAME}p0
@


1.16
log
@Update to 0.1.0.15

From Jon Trembley <jon@@brain-box.net> (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2005/08/31 19:55:37 sturm Exp $
d6 1
d17 1
a17 1
WANTLIB=		c crypto ssl z
@


1.15
log
@bump PKGNAME so that 3.7 won't have higher PKGNAMEs than 3.8

suggested by espie@@, ok pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2005/08/09 12:40:01 robert Exp $
d5 1
a5 2
DISTNAME=	tor-0.1.0.14
PKGNAME=	${DISTNAME}p0
@


1.15.2.1
log
@MFC:
SECURITY update to tor 0.1.1.20

fixes CVE-2006-0414

for details, see http://secunia.com/advisories/18576/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2005/08/31 19:55:37 sturm Exp $
d5 2
a6 1
DISTNAME=	tor-0.1.1.20
@


1.14
log
@SECURITY: update tor-0.1.0.14
http://www.vuxml.org/openbsd/e5d8e2be-0825-11da-a6c1-00065bd5b0b6.html

this one actually fixes the previous security vulnerability.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2005/08/06 11:59:15 alek Exp $
d6 1
@


1.13
log
@SECURITY update to 0.1.0.13
 - http://archives.seul.org/or/announce/Aug-2005/msg00000.html

From Jon Trembley <jon@@brain-box.net> (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/07/21 03:26:53 alek Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.0.13
@


1.12
log
@Update to 0.1.0.12

From Jon Trembley <jon@@brain-box.net> (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/07/02 16:20:23 alek Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.0.12
@


1.11
log
@Update to 0.1.0.11 (bugfix release)

From Jon Trembley <jon@@brain-box.net> (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/06/21 22:54:28 robert Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.0.11
d16 1
a16 1
WANTLIB=		c crypto pthread ssl z
@


1.10
log
@SECURITY: update to 0.1.0.10
http://www.vuxml.org/openbsd/10085106-e2a5-11d9-824c-00065bd5b0b6.html

fix the MASTER_SITE and the HOMEPAGE and add pthread to WANTLIB
from MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/05/03 09:23:42 alek Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.0.10
@


1.9
log
@Update to 0.0.9.9

From Jon Trembley <jon@@brain-box.net> (new MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/04/12 18:54:22 alek Exp $
d5 1
a5 1
DISTNAME=	tor-0.0.9.9
d7 1
a7 1
HOMEPAGE=	http://www.freehaven.net/tor/
d16 1
a16 1
WANTLIB=		c crypto ssl z
d18 1
a18 1
MASTER_SITES=	http://www.freehaven.net/tor/dist/
@


1.8
log
@Update to 0.0.9.8

From Jon Trembley <jon@@brain-box.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/04/05 08:30:06 alek Exp $
d5 1
a5 1
DISTNAME=	tor-0.0.9.8
d9 2
d20 1
a20 1
AUTOCONF_VERSION= 2.59
d23 1
a23 1
CONFIGURE_ARGS+=--with-ssl-dir=/usr
d25 1
a25 1
FAKE_FLAGS=DESTDIR=${WRKINST} sysconfdir=${PREFIX}/share/examples
@


1.7
log
@Update to 0.0.9.7:
- http://archives.seul.org/or/announce/Apr-2005/msg00000.html
- http://archives.seul.org/or/announce/Mar-2005/msg00000.html

From Jon Trembley <jon@@brain-box.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/03/08 16:09:42 naddy Exp $
d5 1
a5 1
DISTNAME=	tor-0.0.9.7
@


1.6
log
@maintenance update to 0.0.9.5; prodding from Christian David
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/01/30 20:20:18 naddy Exp $
d5 1
a5 1
DISTNAME=	tor-0.0.9.5
@


1.6.2.1
log
@SECURITY: update to 0.1.0.10
http://www.vuxml.org/openbsd/10085106-e2a5-11d9-824c-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/03/08 16:09:42 naddy Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.0.10
d14 1
a14 1
WANTLIB=		c crypto pthread ssl z
@


1.6.2.2
log
@SECURITY update to 0.1.0.13
http://www.vuxml.org/openbsd/e5d8e2be-0825-11da-a6c1-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6.2.1 2005/06/23 09:23:28 robert Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.0.13
@


1.6.2.3
log
@SECURITY: update tor-0.1.0.14
http://www.vuxml.org/openbsd/e5d8e2be-0825-11da-a6c1-00065bd5b0b6.html
this one actually fixes the previous security vulnerability.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6.2.2 2005/08/08 16:57:47 robert Exp $
d5 1
a5 1
DISTNAME=	tor-0.1.0.14
@


1.6.2.4
log
@updated packages for these ports where not build in a sane environment
bump PKGNAME for fixed packages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6.2.3 2005/08/09 15:04:23 robert Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.5
log
@update to 0.0.9.3; based on submission from Jon Trembley <jon@@brain-box.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/01/03 22:03:00 sturm Exp $
d3 1
a3 1
COMMENT=	"Anonymity service using onion routing"
d5 1
a5 1
DISTNAME=	tor-0.0.9.3
@


1.4
log
@update to tor 0.0.9.1

mostly from Jon Trembley <jon at brain-box.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/12/16 00:31:26 alek Exp $
d5 1
a5 1
DISTNAME=	tor-0.0.9.1
d14 1
a14 1
WANTLIB=		c crypto ssl 
@


1.3
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/10/31 18:45:50 sturm Exp $
d5 1
a5 1
DISTNAME=	tor-0.0.8.1
d20 3
a22 1
CONFIGURE_STYLE= gnu
@


1.2
log
@update to tor 0.0.8.1

from Jon Trembley <jon at brain-box.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/09/26 10:06:29 espie Exp $
d14 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	tor-0.0.8
@


1.1.1.1
log
@tor is an anonymity router.
contributed by Angelos D. Keromytis.
@
text
@@
