head	1.31;
access;
symbols
	OPENBSD_6_1:1.30.0.4
	OPENBSD_6_1_BASE:1.30
	OPENBSD_6_0:1.30.0.2
	OPENBSD_6_0_BASE:1.30
	OPENBSD_5_9:1.28.0.2
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.24.0.4
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.22.0.4
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.22.0.2
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.19.0.4
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.19.0.2
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.16.0.2
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.15.0.2
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.2
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.5.0.2
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	brad_20090502:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.31
date	2017.04.23.13.29.13;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	xEo4SqgaWkfJ40f5;

1.30
date	2016.03.18.23.12.19;	author naddy;	state Exp;
branches;
next	1.29;
commitid	KZAl4KEiw6a3Jixw;

1.29
date	2016.03.07.07.10.00;	author ajacoutot;	state Exp;
branches;
next	1.28;
commitid	6rfAQSlTiQQgaYVo;

1.28
date	2015.11.29.08.10.47;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	NlyiO0wWc4dVefoZ;

1.27
date	2015.09.03.15.48.59;	author sthen;	state Exp;
branches;
next	1.26;
commitid	M0DsHxjcFd3c0zDF;

1.26
date	2015.08.31.17.39.46;	author jca;	state Exp;
branches;
next	1.25;
commitid	E3WnqscICSvNikRV;

1.25
date	2015.08.13.07.33.06;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	kDftm9mUMK8iA3KA;

1.24
date	2015.05.28.18.17.45;	author kili;	state Exp;
branches;
next	1.23;
commitid	HqHaksCfhS5HEpSo;

1.23
date	2015.05.15.06.47.27;	author ajacoutot;	state Exp;
branches;
next	1.22;
commitid	O9TgkVlsPVZAMWxR;

1.22
date	2014.07.12.14.42.37;	author pascal;	state Exp;
branches;
next	1.21;
commitid	RrbXa9WBSDZxfd2v;

1.21
date	2014.06.19.23.02.55;	author brad;	state Exp;
branches;
next	1.20;
commitid	AD9wAO06teFUpSJv;

1.20
date	2014.04.30.14.12.19;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2013.07.17.07.19.38;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2013.04.01.14.30.32;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.11.11.35.58;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2012.11.17.00.16.54;	author brad;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2012.04.28.09.33.58;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2012.03.29.13.38.49;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2012.03.24.21.42.58;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2011.11.06.20.27.14;	author kili;	state Exp;
branches;
next	1.11;

1.11
date	2011.05.01.11.28.10;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2011.01.15.10.56.51;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.22.11.16.33;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.19.22.31.39;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2010.10.18.18.37.00;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2010.09.02.08.53.20;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2010.07.08.15.14.10;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2009.12.30.09.46.42;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2009.09.29.21.40.59;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.06.19.23.19.44;	author sthen;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2009.05.05.23.28.50;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.05.05.23.28.50;	author sthen;	state Exp;
branches;
next	;

1.2.2.1
date	2010.04.08.03.16.48;	author william;	state Exp;
branches;
next	;

1.16.2.1
date	2013.07.17.07.19.50;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.31
log
@Update to znc-1.6.5.

from Brad (maintainer)
@
text
@# $OpenBSD: Makefile,v 1.30 2016/03/18 23:12:19 naddy Exp $

COMMENT=	advanced IRC bouncer

DISTNAME=	znc-1.6.5
CATEGORIES=	net
MASTER_SITES=	${HOMEPAGE}releases/

HOMEPAGE=	http://znc.in/

MAINTAINER=	Brad Smith <brad@@comstyle.com>

# Apache 2.0
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	c crypto m pthread ssl z

MODULES=	gcc4

MODGCC4_ARCHS=	*
MODGCC4_LANGS=	c++

MAKE_FLAGS=	VERBOSE=1

SEPARATE_BUILD=	Yes
USE_GMAKE=	Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--disable-charset \
		--disable-optimization
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		ac_cv_path_GNUMAKE=gmake

NO_TEST=	Yes

.include <bsd.port.mk>
@


1.30
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/03/07 07:10:00 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	znc-1.6.3
@


1.29
log
@Update to znc-1.6.3.

from Brad (maintainer)
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.28 2015/11/29 08:10:47 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.28
log
@Update to znc-1.6.2.

from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/09/03 15:48:59 sthen Exp $
d7 1
a7 1
DISTNAME=	znc-1.6.2
@


1.27
log
@patch net/znc to build when OPENSSL_NO_SSL3 is used. ok brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/08/31 17:39:46 jca Exp $
d7 1
a7 2
DISTNAME=	znc-1.6.1
REVISION=	0
@


1.26
log
@Mark znc as BROKEN (SSLv3 removal).  Someone (tm) will have to fix it.

ok sthen@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.25 2015/08/13 07:33:06 ajacoutot Exp $

BROKEN=		src/Csocket.cpp:1590:43: error: 'SSLv3_server_method' was not declared in this scope
d8 1
@


1.25
log
@Update to znc-1.6.1.

from brad (maintainer)
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.24 2015/05/28 18:17:45 kili Exp $
@


1.24
log
@Some more bumps for gcc-4.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/05/15 06:47:27 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	znc-1.6.0
REVISION=	0
@


1.23
log
@Update to znc-1.6.0.

from brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/07/12 14:42:37 pascal Exp $
d8 1
@


1.22
log
@Fix after COMP removal.

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/06/19 23:02:55 brad Exp $
d7 1
a7 2
DISTNAME=	znc-1.4
REVISION=	0
d18 6
a23 2
MODULES=	converters/libiconv
WANTLIB=	c crypto m pthread ssl stdc++ z
d30 2
a31 1
CONFIGURE_ARGS= --disable-optimization
@


1.21
log
@Update to znc 1.4.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/04/30 14:12:19 naddy Exp $
d8 1
@


1.20
log
@drop workarounds for missing AI_ADDRCONFIG
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/07/17 07:19:38 jasper Exp $
d7 1
a7 2
DISTNAME=	znc-1.0
REVISION=	2
d15 1
a15 1
# GPLv2
d18 2
a19 1
WANTLIB=	c crypto m ssl stdc++
d27 3
@


1.19
log
@Security fix for CVE-2013-2130,
ZNC Multiple NULL Pointer Dereference Vulnerabilities

ok brad@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/04/01 14:30:32 brad Exp $
d8 1
a8 1
REVISION=	1
d25 1
a25 2
CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.68
@


1.18
log
@Enable the threaded DNS support for znc now that our getaddrinfo()
is thread-safe. Remove an incredibly stupid autoconf test which
assumes that the lack of the getaddrinfo() flag AI_ADDRCONFIG means
getaddrinfo() is not thread-safe. Although that was the case in the
past and properly resulted in the threaded DNS support not being
utilized on OpenBSD/NetBSD it is no longer true.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/11 11:35:58 espie Exp $
d8 1
a8 1
REVISION=	0
@


1.17
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/11/17 00:16:54 brad Exp $
d8 1
d25 2
a26 1
CONFIGURE_STYLE= gnu
@


1.16
log
@Update to znc 1.0.

ok jcs@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/04/28 09:33:58 sthen Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d27 1
a27 1
NO_REGRESS=	Yes
@


1.16.2.1
log
@Security fix for CVE-2013-2130,
ZNC Multiple NULL Pointer Dereference Vulnerabilities

ok brad@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/11/17 00:16:54 brad Exp $
a7 1
REVISION=	0
@


1.15
log
@update ZNC to 0.206, from Brad
mostly minor fixes etc., http://wiki.znc.in/ChangeLog/0.206
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/03/29 13:38:49 sthen Exp $
d7 1
a7 1
DISTNAME=	znc-0.206
d21 1
a21 3
WANTLIB=	c cares crypto m ssl stdc++

LIB_DEPENDS=	net/libcares
a28 1
CONFIGURE_ENV=	ac_cv_path_GNUMAKE=gmake
@


1.14
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/03/24 21:42:58 sthen Exp $
d7 1
a7 1
DISTNAME=	znc-0.204
@


1.13
log
@update to znc 0.204; fixes CVE-2012-0033 (crash in bouncedcc module when
DCC RESUME is received) and a few other issues. From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/11/06 20:27:14 kili Exp $
d27 1
a27 1
SEPARATE_BUILD=	concurrent
@


1.12
log
@Update to znc-0.202.

From Brad (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/05/01 11:28:10 sthen Exp $
d7 1
a7 1
DISTNAME=	znc-0.202
@


1.11
log
@update to 0.098, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/01/15 10:56:51 jasper Exp $
d7 1
a7 1
DISTNAME=	znc-0.098
d20 1
d25 1
a25 1
MAKE_FLAGS+=	VERBOSE=1
d30 2
a31 1
CONFIGURE_ARGS+= --disable-optimization
a33 3

post-install:
	@@chown -R ${SHAREOWN}:${SHAREGRP} ${PREFIX}/share/znc
@


1.10
log
@- remove USE_GROFF=Yes, manpages checked by brad.

from brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/22 11:16:33 sthen Exp $
d7 1
a7 1
DISTNAME=	znc-0.096
d9 1
a9 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=znc/}
@


1.9
log
@Update znc to 0.096, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/19 22:31:39 espie Exp $
a27 1
USE_GROFF =	Yes
@


1.8
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/10/18 18:37:00 espie Exp $
d7 1
a7 1
DISTNAME=	znc-0.094
d20 1
a20 1
WANTLIB=	c cares crypto m perl ssl stdc++ util
@


1.7
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/09/02 08:53:20 sthen Exp $
d22 1
a22 1
LIB_DEPENDS=	::net/libcares
@


1.6
log
@update to 0.094, from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/07/08 15:14:10 sthen Exp $
d28 1
@


1.5
log
@SECURITY update to 0.092 from Brad
CVE-2010-2488 NULL pointer deref with traffic stats
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/12/30 09:46:42 jasper Exp $
d7 1
a7 1
DISTNAME=	znc-0.092
d20 1
a20 1
WANTLIB=	c crypto m perl ssl stdc++ util
d22 3
a24 1
LIB_DEPENDS=	cares::net/libcares
a27 1
NO_REGRESS=	Yes
d30 2
@


1.4
log
@- update znc to 0.078

from brad smith (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/09/29 21:40:59 sthen Exp $
d7 1
a7 1
DISTNAME=	znc-0.078
@


1.3
log
@- SECURITY (CVE-2009-2658) and bugfix update to 0.076, from Brad.
- set NO_REGRESS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/06/19 23:19:44 sthen Exp $
d7 1
a7 1
DISTNAME=	znc-0.076
@


1.2
log
@Update to 0.070; mainly bugfixes. From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/05/05 23:28:50 sthen Exp $
d7 1
a7 1
DISTNAME=	znc-0.070
d22 2
d26 1
@


1.2.2.1
log
@SECURITY FIX

Resolves CVE-2009-2658

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/06/19 23:19:44 sthen Exp $
a7 1
PKGNAME=	${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
DISTNAME=	znc-0.068
@


1.1.1.1
log
@import znc, from Brad.

ZNC is an advanced IRC bouncer with features that include support for
multiple users, playback buffers, DCC bouncing, SASL authentication and
SSL encryption. It can be extended with dynamically loaded modules
written in C++ or Perl.
@
text
@@
