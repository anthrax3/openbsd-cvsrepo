head	1.5;
access;
symbols
	OPENBSD_6_1:1.5.0.34
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.5.0.32
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.28
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.30
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.26
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.24
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.22
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.20
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.18
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.16
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.14
	OPENBSD_5_0:1.5.0.12
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.10
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.8
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.6
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.4
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.4.0.6
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.4
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.2
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2;
locks; strict;
comment	@# @;


1.5
date	2008.08.20.20.13.36;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2007.06.06.23.29.55;	author rui;	state Exp;
branches;
next	1.3;

1.3
date	2007.01.08.19.18.05;	author sturm;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2006.03.31.16.10.23;	author sturm;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2006.03.24.20.12.28;	author sturm;	state Exp;
branches;
next	;

1.2.2.1
date	2007.06.17.08.53.03;	author sturm;	state Exp;
branches;
next	;

1.3.2.1
date	2007.06.17.08.44.46;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.5
log
@update to maradns 1.3.07.09

based on a diff by Vlad Glagolev
@
text
@$OpenBSD: patch-configure,v 1.4 2007/06/06 23:29:55 rui Exp $
--- configure.orig	Mon Aug 18 17:49:49 2008
+++ configure	Mon Aug 18 17:54:04 2008
@@@@ -82,6 +82,9 @@@@ elif echo $UNAME | grep -i openbsd > /dev/null ; then
 	echo It looks like you are using OpenBSD\; this should compile 
 	echo fine by typing in \'make\'.
 	EXITCODE=0
+elif echo $UNAME | grep -i openbsd > /dev/null ; then
+	cat $BUILDDIR/Makefile.freebsd >> Makefile
+	EXITCODE=0
 elif echo $UNAME | grep -i mingw32 > /dev/null ; then
 	cat $BUILDDIR/Makefile.mingw32 >> Makefile
 	echo It looks like you are using MinGW32 \; this is only a partial
@@@@ -164,6 +167,10 @@@@ if [ -z "$AUTHONLY" ] ; then
 	# FreeBSD uses -pthread instead of -lpthread to compile a
 	# Pthread program
 	if echo $UNAME | grep -i freebsd > /dev/null ; then
+		cat server/Makefile.recursive | \
+			sed 's/lpthread/pthread/' > server/Makefile
+	fi
+	if echo $UNAME | grep -i openbsd > /dev/null ; then
 		cat server/Makefile.recursive | \
 			sed 's/lpthread/pthread/' > server/Makefile
 	fi
@


1.4
log
@update maradns to 1.2.12.06. This version addresses Multiple Remote Denial of Service Vulnerabilities which affects version 1.2.12.04.

Reference:
http://secunia.com/advisories/25406/

ok sturm@@
@
text
@d1 3
a3 3
$OpenBSD$
--- configure.orig	Tue May 16 00:28:36 2006
+++ configure	Wed Jun  6 11:37:20 2007
d14 11
@


1.3
log
@update to maradns 1.2.12.04
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.2 2006/03/31 16:10:23 sturm Exp $
--- configure.orig	Tue May 16 01:28:36 2006
+++ configure	Sun Jan  7 12:43:54 2007
@@@@ -82,6 +82,9 @@@@ elif echo $UNAME | grep -i openbsd > /de
@


1.3.2.1
log
@MFC:
update maradns to 1.2.12.06. This version addresses Multiple Remote Denial of
Service Vulnerabilities which affects version 1.2.12.04.

Reference:
http://secunia.com/advisories/25406/
-----
MFC:
roll in a distribution patch which fixes:

CVE-2007-3116 Memory leak allows remote attackers to cause a denial of service
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3116
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.4 2007/06/06 23:29:55 rui Exp $
d3 1
a3 1
+++ configure	Sun Jun 17 10:41:34 2007
@


1.2
log
@update to maradns 1.2.07.1
@
text
@d1 6
a6 6
$OpenBSD$
--- configure.orig	Fri Mar 24 20:55:47 2006
+++ configure	Fri Mar 24 20:57:15 2006
@@@@ -77,6 +77,18 @@@@ elif echo $UNAME | grep -i freebsd > /de
 	echo	/usr/ports/dns/maradns
 	echo
a9 9
+	echo It looks like you are using OpenBSD\; this should compile
+	echo fine by typing in \'make\'.  There is an official port here:
+	echo
+	echo	http://www.openbsd.org/cgi-bin/cvsweb/ports/net/maradns/
+	echo
+	echo Which may be on your system here:
+	echo
+	echo	/usr/ports/net/maradns
+	echo
@


1.2.2.1
log
@MFC:
update maradns to 1.2.12.06. This version addresses Multiple Remote Denial of
Service Vulnerabilities which affects version 1.2.12.04.

Reference:
http://secunia.com/advisories/25406/
-------
MFC:
roll in a distribution patch which fixes:

CVE-2007-3116 Memory leak allows remote attackers to cause a denial of service
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-3116
@
text
@d1 6
a6 6
$OpenBSD: patch-configure,v 1.4 2007/06/06 23:29:55 rui Exp $
--- configure.orig	Tue May 16 01:28:36 2006
+++ configure	Sun Jun 17 10:50:50 2007
@@@@ -82,6 +82,9 @@@@ elif echo $UNAME | grep -i openbsd > /de
 	echo It looks like you are using OpenBSD\; this should compile 
 	echo fine by typing in \'make\'.
d10 9
@


1.1
log
@there's no point in devel/stable split anymore
@
text
@d1 22
a22 14
$OpenBSD: patch-configure,v 1.2 2005/07/22 17:40:28 sturm Exp $
--- configure.orig	Wed Nov 13 18:14:04 2002
+++ configure	Wed Nov 13 18:17:30 2002
@@@@ -66,8 +66,8 @@@@ elif echo $UNAME | grep -i freebsd > /de
 	echo	http://www.freebsd.org/cgi/query-pr.cgi?pr=28389
 elif echo $UNAME | grep -i openbsd > /dev/null ; then
 	cat $BUILDDIR/Makefile.linux >> Makefile
-	echo It looks like you are using OpenBSD\; please read FAQ
-	echo before trying to compile MaraDNS
+	echo It looks like you are using OpenBSD\; proceeding the
+	echo compile of MaraDNS.
 elif echo $UNAME | grep -i cygwin > /dev/null ; then
 	cat $BUILDDIR/Makefile.noflock >> Makefile
 	echo It looks like you are using Cygwin\; this should compile file
@

