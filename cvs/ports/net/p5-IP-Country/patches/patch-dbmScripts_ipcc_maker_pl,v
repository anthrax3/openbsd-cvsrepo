head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.09.07.16.52.55;	author giovanni;	state Exp;
branches;
next	;
commitid	lkD1TjhYmPfkvHuY;


desc
@@


1.1
log
@Update country database, upstream provides a database from 2013
add an additional target to recreate the database
take maintainership
ok and hints sthen@@
@
text
@$OpenBSD$

Index: dbmScripts/ipcc_maker.pl
--- dbmScripts/ipcc_maker.pl.orig
+++ dbmScripts/ipcc_maker.pl
@@@@ -31,7 +31,7 @@@@ close REG || warn("can't close $reg_file, but continui
 
 
 print "Saving ultralite IP registry to disk\n";
-my $ip = new IO::File "> ../lib/IP/Country/Fast/ip.gif";
+my $ip = new IO::File "> ${WRKDIR}/data/ip.gif";
 if (defined $ip) {
     binmode $ip;
     print $ip pack("N",time()); # returned by $obj->db_time()
@@@@ -44,7 +44,7 @@@@ if (defined $ip) {
 
 print "Saving ultralite country database to disk\n";
 
-open (CC, "> ../lib/IP/Country/Fast/cc.gif")
+open (CC, "> ${WRKDIR}/data/cc.gif")
     or die ("couldn't create country database: $!");
 binmode CC;
 foreach my $country (sort $tree->get_countries()){
@
