head	1.6;
access;
symbols
	OPENBSD_6_1:1.6.0.8
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.6.0.6
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.32
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.30
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.28
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.26
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.24
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.22
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.20
	OPENBSD_5_0:1.5.0.18
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.16
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.14
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.12
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.10
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.8
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.6
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.4
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.3.0.8
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.6
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.4
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.2
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.2.0.6
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.4
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.1.1.1.0.2
	OPENBSD_3_4_BASE:1.1.1.1
	jolan_2003-jun-27:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2015.05.20.11.29.58;	author jca;	state Exp;
branches;
next	1.5;
commitid	yYOhYOvkhcblZDjh;

1.5
date	2007.07.25.22.27.01;	author rui;	state Exp;
branches;
next	1.4;

1.4
date	2007.04.03.15.19.52;	author aanriot;	state Exp;
branches;
next	1.3;

1.3
date	2005.07.23.14.24.52;	author aanriot;	state Exp;
branches;
next	1.2;

1.2
date	2003.12.05.22.05.34;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2003.06.27.19.43.36;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.06.27.19.43.36;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Stop using libtool -nostdlib, fixes build with binutils-2.17 on amd64.
@
text
@$OpenBSD: patch-Makefile_in,v 1.5 2007/07/25 22:27:01 rui Exp $
--- Makefile.in.orig	Mon May 28 08:15:43 2007
+++ Makefile.in	Wed May 20 13:24:31 2015
@@@@ -182,7 +182,7 @@@@ AUTOMAKE = @@AUTOMAKE@@
 AWK = @@AWK@@
 CC = @@CC@@
 CCDEPMODE = @@CCDEPMODE@@
-CFLAGS = -O2 -Wall -g \
+CFLAGS += \
 	-DPATH_HONEYDINCLUDE="\"$(honeydincludedir)\"" \
 	-DPATH_HONEYDDATA="\"$(honeyddatadir)\"" \
 	-DPATH_HONEYDLIB="\"$(honeydlibdir)\"" \
@@@@ -387,7 +387,7 @@@@ honeydstats_LDADD = @@LIBOBJS@@ @@DNETLIB@@ @@EVENTLIB@@ @@ZL
 honeydstats_CPPFLAGS = -I$(top_srcdir)/@@DNETCOMPAT@@ -I$(top_srcdir)/compat \
 	@@EVENTINC@@ @@DNETINC@@ @@ZINC@@
 
-honeydstats_CFLAGS = -O0 -Wall
+honeydstats_CFLAGS =
 
 #
 # Honeyd stats sniffer
@@@@ -408,7 +408,7 @@@@ hsniff_CFLAGS = -O2 -Wall -DPATH_HONEYDDATA="\"$(honey
 honeydctl_SOURCES = honeydctl.c
 honeydctl_LDADD = @@LIBOBJS@@ @@EDITLIB@@ @@LIBCURSES@@
 honeydctl_CPPFLAGS = @@EDITINC@@
-honeydctl_CFLAGS = -O2 -Wall
+honeydctl_CFLAGS =
 INCLUDES = -I$(top_srcdir)/@@DNETCOMPAT@@ -I$(top_srcdir)/compat \
 	@@PYTHONINC@@ @@EVENTINC@@ @@PCAPINC@@ @@DNETINC@@ @@ZINC@@
 
@@@@ -423,7 +423,7 @@@@ smtp_LDADD = @@LIBOBJS@@ @@EVENTLIB@@ @@DNETLIB@@ @@PCAPLIB@@ 
 smtp_CPPFLAGS = -I$(top_srcdir)/@@DNETCOMPAT@@ -I$(top_srcdir)/compat \
 	@@EVENTINC@@ @@DNETINC@@ @@PCREINC@@
 
-smtp_CFLAGS = -O2 -Wall
+smtp_CFLAGS =
 proxy_SOURCES = subsystems/proxy.c subsystems/proxy.h subsystems/proxy_main.c \
 	subsystems/proxy_messages.h subsystems/smtp.c subsystems/smtp.h \
 	subsystems/smtp_messages.h atomicio.c \
@@@@ -433,7 +433,7 @@@@ proxy_LDADD = @@LIBOBJS@@ @@EVENTLIB@@ @@DNETLIB@@ @@PCAPLIB@@
 proxy_CPPFLAGS = -I$(top_srcdir)/@@DNETCOMPAT@@ -I$(top_srcdir)/compat \
 	@@EVENTINC@@ @@DNETINC@@ @@PCREINC@@
 
-proxy_CFLAGS = -O2 -Wall
+proxy_CFLAGS =
 
 ########################################################################
 ########################################################################
@@@@ -1411,7 +1411,7 @@@@ uninstall-man: uninstall-man1 uninstall-man8
 libhoneyd.so: $(LIBHONEYDFILES)
 	$(LIBTOOL) --mode=link $(CC) $(CFLAGS) -o libtmp$@@.la \
 		-rpath $(libdir)/honeyd $(LIBHONEYDFILES) $(LIBS) $(LDFLAGS) \
-		-module -avoid-version -nostdlib @@LIBDL@@
+		-module -avoid-version @@LIBDL@@
 	rm -f libtmp$@@.la tmp$@@.so* $@@
 	cp .libs/libtmp$@@.so $@@ || cp .libs/libtmp$@@ $@@
 	rm -f .libs/libtmp$@@.*
@


1.5
log
@update honeyd to 1.5c

- fix run under macppc

help and ok aanriot@@
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.in.orig	Mon May 28 07:15:43 2007
+++ Makefile.in	Wed Jul 18 11:55:08 2007
d49 9
@


1.4
log
@update to 1.5b .

from Rui Reis with a few changes;
help and ok sturm@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.3 2005/07/23 14:24:52 aanriot Exp $
--- Makefile.in.orig	Sat Aug 19 09:15:55 2006
+++ Makefile.in	Mon Apr  2 11:31:04 2007
@@@@ -162,7 +162,7 @@@@ AUTOMAKE = @@AUTOMAKE@@
d13 1
a13 1
@@@@ -358,7 +358,7 @@@@ honeydstats_LDADD = @@LIBOBJS@@ @@DNETLIB@@ @@EVENTLIB@@ @@ZL
d15 1
a15 1
 	@@EVENTINC@@ @@DNETINC@@ @@ZINC@@ @@DNSRESINC@@
d21 2
a22 2
 # Honeyd control application
@@@@ -366,7 +366,7 @@@@ honeydstats_CFLAGS = -O0 -Wall
d31 1
a31 1
@@@@ -381,7 +381,7 @@@@ smtp_LDADD = @@LIBOBJS@@ @@EVENTLIB@@ @@DNETLIB@@ @@PCAPLIB@@ 
d33 1
a33 1
 	@@EVENTINC@@ @@DNETINC@@ @@DNSRESINC@@ @@PCREINC@@
d40 1
a40 1
@@@@ -391,7 +391,7 @@@@ proxy_LDADD = @@LIBOBJS@@ @@EVENTLIB@@ @@DNETLIB@@ @@PCAPLIB@@
d42 1
a42 1
 	@@EVENTINC@@ @@DNETINC@@ @@DNSRESINC@@ @@PCREINC@@
@


1.3
log
@update to 1.0.

help, many tests and ok sturm@@
@
text
@d1 15
a15 22
$OpenBSD$
--- Makefile.in.orig	Fri Dec 31 20:13:47 2004
+++ Makefile.in	Tue Jul  5 18:10:57 2005
@@@@ -152,7 +152,7 @@@@ honeydctl_LDADD = @@LIBOBJS@@ @@EDITLIB@@ @@L
 honeydctl_INCLUDES = @@EDITINC@@
 honeydctl_CFLAGS = -O2 -Wall
 
-CFLAGS = -O2 -Wall -g 	-DPATH_HONEYDINCLUDE="\"$(honeydincludedir)\"" 	-DPATH_HONEYDDATA="\"$(honeyddatadir)\"" 	-DPATH_HONEYDLIB="\"$(honeydlibdir)\"" 	-DHONEYD_PLUGINS_DECLARE="$(honeydpluginsdeclare)" 	-DHONEYD_PLUGINS="$(honeydplugins)" 	-DPATH_RRDTOOL="\"$(PATH_RRDTOOL)\""
+CFLAGS += -Wall 	-DPATH_HONEYDINCLUDE="\"$(honeydincludedir)\"" 	-DPATH_HONEYDDATA="\"$(honeyddatadir)\"" 	-DPATH_HONEYDLIB="\"$(honeydlibdir)\"" 	-DHONEYD_PLUGINS_DECLARE="$(honeydpluginsdeclare)" 	-DHONEYD_PLUGINS="$(honeydplugins)" 	-DPATH_RRDTOOL="\"$(PATH_RRDTOOL)\""
 
 
 INCLUDES = -I$(top_srcdir)/@@DNETCOMPAT@@ -I$(top_srcdir)/compat 	@@PYTHONINC@@ @@EVENTINC@@ @@PCAPINC@@ @@DNETINC@@ @@ZINC@@
@@@@ -664,9 +664,9 @@@@ libhoneyd.so: $(LIBHONEYDFILES)
 
 install-data-local:
 	(cd $(top_srcdir) && tar -cf - $(top_srcdir)/webserver) | \
-	(cd $(honeyddatadir) && tar -xf -)
-	find $(honeyddatadir)/webserver -type f | xargs chmod a+r
-	find $(honeyddatadir)/webserver -type d | xargs chmod a+xr
+	(cd $(DESTDIR)/$(honeyddatadir) && tar -xf -)
+	find $(DESTDIR)/$(honeyddatadir)/webserver -type f | xargs chmod a+r
+	find $(DESTDIR)/$(honeyddatadir)/webserver -type d | xargs chmod a+xr
d17 32
a48 2
 dist-hook:
 	./distribute.py $(distdir)/
@


1.2
log
@update to honeyd 0.7a

based on a patch from Craig Barraclough <craigba at creative dot com dot au>
@
text
@d1 6
a6 6
$OpenBSD: patch-Makefile_in,v 1.1.1.1 2003/06/27 19:43:36 jolan Exp $
--- Makefile.in.orig	2003-11-27 04:47:00.000000000 +0100
+++ Makefile.in	2003-12-05 22:28:34.000000000 +0100
@@@@ -136,7 +136,7 @@@@ honeyd_LDADD = @@LIBOBJS@@ @@PYTHONLIB@@ @@EV
 # Allow plugins to use honeyd's functions:
 honeyd_LDFLAGS = -export-dynamic 
d8 2
a9 2
-CFLAGS = -O2 -Wall -g 	-DPATH_HONEYDINCLUDE="\"$(honeydincludedir)\"" 	-DPATH_HONEYDDATA="\"$(honeyddatadir)\"" 	-DPATH_HONEYDLIB="\"$(honeydlibdir)\"" 	-DHONEYD_PLUGINS_DECLARE="$(honeydpluginsdeclare)" 	-DHONEYD_PLUGINS="$(honeydplugins)"
+CFLAGS += -Wall 	-DPATH_HONEYDINCLUDE="\"$(honeydincludedir)\"" 	-DPATH_HONEYDDATA="\"$(honeyddatadir)\"" 	-DPATH_HONEYDLIB="\"$(honeydlibdir)\"" 	-DHONEYD_PLUGINS_DECLARE="$(honeydpluginsdeclare)" 	-DHONEYD_PLUGINS="$(honeydplugins)"
d12 14
a25 1
 INCLUDES = -I$(top_srcdir)/@@DNETCOMPAT@@ -I$(top_srcdir)/compat 	@@PYTHONINC@@ @@EVENTINC@@ @@PCAPINC@@ @@DNETINC@@
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.in.orig	Mon Jun 23 19:24:35 2003
+++ Makefile.in	Tue Jun 24 04:58:58 2003
@@@@ -135,7 +135,7 @@@@ honeyd_LDADD = @@LIBOBJS@@ @@EVENTLIB@@ @@PCA
d12 1
a12 1
 INCLUDES = -I$(top_srcdir)/@@DNETCOMPAT@@ -I$(top_srcdir)/compat 	@@EVENTINC@@ @@PCAPINC@@ @@DNETINC@@
@


1.1.1.1
log
@import of honeyd-0.6:

Honeyd is a small daemon that creates virtual hosts on a network.  The
hosts can be configured to run arbitrary services, and their personality
can be adapted so that they appear to be running certain operating
systems.  Honeyd enables a single host to claim multiple addresses on a
LAN for network simulation.

"looks ok" sturm@@
@
text
@@
