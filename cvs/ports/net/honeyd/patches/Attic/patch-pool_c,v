head	1.3;
access;
symbols
	OPENBSD_4_1:1.1.0.8
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.6
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.4
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.2
	OPENBSD_3_8_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2007.07.25.22.27.01;	author rui;	state dead;
branches;
next	1.2;

1.2
date	2007.04.03.15.19.52;	author aanriot;	state Exp;
branches;
next	1.1;

1.1
date	2005.07.23.14.24.52;	author aanriot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update honeyd to 1.5c

- fix run under macppc

help and ok aanriot@@
@
text
@$OpenBSD: patch-pool_c,v 1.2 2007/04/03 15:19:52 aanriot Exp $
--- pool.c.orig	Sat Aug 19 09:10:40 2006
+++ pool.c	Mon Apr  2 00:12:08 2007
@@@@ -92,7 +92,7 @@@@ pool_alloc_size(struct pool *pool, size_t size)
 			/* We want to use the last one as return */
 			if (i < max - 1) {
 				SLIST_INSERT_HEAD(&pool->entries, entry, next);
-				p += sizeof(struct pool_entry) + size;
+				p += ALIGN(sizeof(struct pool_entry) + size);
 			}
 		}
 	}
@


1.2
log
@update to 1.5b .

from Rui Reis with a few changes;
help and ok sturm@@
@
text
@d1 1
a1 1
$OpenBSD: patch-pool_c,v 1.1 2005/07/23 14:24:52 aanriot Exp $
@


1.1
log
@update to 1.0.

help, many tests and ok sturm@@
@
text
@d1 4
a4 4
$OpenBSD$
--- pool.c.orig	Fri Jul 22 22:36:38 2005
+++ pool.c	Fri Jul 22 22:37:17 2005
@@@@ -92,7 +92,7 @@@@ pool_alloc_size(struct pool *pool, size_
@

