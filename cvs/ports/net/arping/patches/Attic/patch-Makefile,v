head	1.9;
access;
symbols
	OPENBSD_4_7:1.8.0.4
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.2
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.5.0.16
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.14
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.12
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.5.0.10
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.8
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.6
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.5.0.4
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.5.0.2
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.3.0.6
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.4
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.2.0.6
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.1.0.4
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1
	OPENBSD_2_9:1.1.0.2
	OPENBSD_2_9_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2010.07.25.13.57.36;	author benoit;	state dead;
branches;
next	1.8;

1.8
date	2009.06.03.19.13.23;	author benoit;	state Exp;
branches;
next	1.7;

1.7
date	2009.03.28.18.18.51;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2009.03.23.19.28.52;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2005.05.23.23.58.03;	author mjc;	state Exp;
branches;
next	1.4;

1.4
date	2004.10.28.04.47.36;	author jcs;	state Exp;
branches;
next	1.3;

1.3
date	2003.05.04.17.53.36;	author jcs;	state Exp;
branches;
next	1.2;

1.2
date	2002.02.10.02.10.20;	author jcs;	state Exp;
branches;
next	1.1;

1.1
date	2001.03.16.01.36.50;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.9
log
@- update arping to 2.09
- regen PLIST
- remove patch
@
text
@$OpenBSD: patch-Makefile,v 1.8 2009/06/03 19:13:23 benoit Exp $
--- Makefile.orig	Mon Aug 11 08:33:31 2008
+++ Makefile	Wed Jun  3 08:52:32 2009
@@@@ -20,9 +20,9 @@@@ SOLARIS=0
 FREEBSD=0
 MACOSX=0
 
-CC=gcc
+#CC=gcc
 # explicit pcap include dir is for redhat which is fux0red
-CFLAGS=-g -I/usr/local/include -L/usr/local/lib -DFINDIF=$(FINDIF) -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD) -DMACOSX=$(MACOSX) -I/usr/include/pcap -L/opt/csw/lib -R/opt/csw/lib
+CFLAGS=-g -I${LOCALBASE}/include -L${LOCALBASE}/lib -DFINDIF=$(FINDIF) -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD) -DMACOSX=$(MACOSX) -I/usr/include/pcap
 
 CFLAGS2=-g -I/usr/local/include -I/usr/local/include/libnet-1.1 -I/usr/include/pcap -I/usr/local/include/libnet11
 LDFLAGS2=-g -L/usr/local/lib -L/usr/local/lib/libnet-1.1 -L/opt/csw/lib -L/usr/local/lib/libnet11
@@@@ -87,20 +87,22 @@@@ solaris:
 	$(MAKE) USE_NETIF=0 SOLARIS=1 arping1-make
 
 install:
-	install -c arping /usr/local/bin/arping
-	install arping.8 /usr/local/man/man8/arping.8
+	${BSD_INSTALL_PROGRAM} -c arping ${PREFIX}/bin/arping
+	${BSD_INSTALL_MAN} arping.8 ${PREFIX}/man/man8/arping.8
+	${BSD_INSTALL_DATA_DIR} ${PREFIX}/share/doc/arping
+	${BSD_INSTALL_DATA} README ${PREFIX}/share/doc/arping/README
 
 arping.o: arping.c
-	$(CC) -Wall $(CFLAGS) -c `libnet-config --defines` `libnet-config --cflags` arping.c
+	$(CC) -Wall `libnet-config-1.0 --defines` `libnet-config-1.0 --cflags` $(CFLAGS) -c arping.c
 
 O_arping=arping.o
 arping1-make: $(O_arping)
-	$(CC) $(CFLAGS) -g -o arping $(O_arping) `libnet-config --libs` -lpcap
+	$(CC) -g -o arping $(O_arping) `libnet-config-1.0 --libs` -lpcap
 
 SYS=$(shell uname -s)
-ifeq ($(SYS),SunOS)
-EXTRA_LIBS=-lsocket -lnsl
-endif
+#ifeq ($(SYS),SunOS)
+#EXTRA_LIBS=-lsocket -lnsl
+#endif
 
 O_arping2=arping-2/arping.c
 arping2: arping-2/arping
@


1.8
log
@- update arping to 2.08
- change maintainer
- update MASTER_SITES
- regen patch & PLIST

ok jcs@@, ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.7
log
@fix build if both libnet 1.0 and 1.1 are installed
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.6 2009/03/23 19:28:52 naddy Exp $
--- Makefile.orig	Fri Sep 24 11:43:37 2004
+++ Makefile	Mon Mar 23 12:15:03 2009
@@@@ -19,9 +19,9 @@@@ SOLARIS=0
d11 2
a12 2
-CFLAGS=-g -I/usr/local/include -L/usr/local/lib -DFINDIF=$(FINDIF) -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD) -DMACOSX=$(MACOSX) -I/usr/include/pcap
+CFLAGS=-I${LOCALBASE}/include -L${LOCALBASE}/lib -DFINDIF=$(FINDIF) -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD) -DMACOSX=$(MACOSX) -I/usr/include/pcap
d14 3
a16 3
 all: message arping2
 
@@@@ -83,20 +83,22 @@@@ solaris:
@


1.6
log
@fix library ordering for static linking; ok jcs@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.5 2005/05/23 23:58:03 mjc Exp $
d34 1
a34 1
+	$(CC) $(CFLAGS) -g -o arping $(O_arping) `libnet-config-1.0 --libs` -lpcap
@


1.5
log
@fixes to find libnet in its new home
ok pvalchev@@ msf@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.4 2004/10/28 04:47:36 jcs Exp $
--- Makefile.orig	Fri Sep 24 10:43:37 2004
+++ Makefile	Sun May 22 14:11:27 2005
d34 1
a34 1
+	$(CC) `libnet-config-1.0 --libs` $(CFLAGS) -g -o arping $(O_arping) -lpcap
@


1.4
log
@arping-2.04
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.orig	Sun Aug 29 13:47:37 2004
+++ Makefile	Wed Oct 27 23:46:10 2004
@@@@ -19,9 +19,9 @@@@
d16 1
a16 1
@@@@ -83,8 +83,10 @@@@
d28 7
a34 3
 	$(CC) -Wall $(CFLAGS) -c `libnet-config --defines` `libnet-config --cflags` arping.c
@@@@ -94,9 +96,9 @@@@
 	$(CC) $(CFLAGS) -g -o arping $(O_arping) `libnet-config --libs` -lpcap
@


1.3
log
@arping-1.07 from jim geovedi
@
text
@d2 4
a5 3
--- Makefile.orig	Sun Nov  3 13:57:57 2002
+++ Makefile	Sun May  4 12:28:51 2003
@@@@ -9,7 +9,7 @@@@
d8 2
d11 2
a12 2
-CFLAGS=-g -I/usr/local/include -L/usr/local/lib -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD) -DMACOSX=$(MACOSX) -I/usr/include/pcap
+CFLAGS=-I${LOCALBASE}/include -L${LOCALBASE}/lib -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD) -DMACOSX=$(MACOSX)
d14 4
a17 4
 usage:
 	@@echo
@@@@ -53,17 +53,19 @@@@
 	make USE_NETIF=0 SOLARIS=1 all
a26 2
 all: $(TARGETS)
 
d28 11
a38 7
-	gcc -Wall $(CFLAGS) -c `libnet-config --defines` `libnet-config --cflags` arping.c
+	${CC} $(CFLAGS) -c `libnet-config --defines` `libnet-config --cflags` arping.c
 
 O_arping=arping.o
 arping: $(O_arping)
-	gcc $(CFLAGS) -g -o $@@ $(O_arping) `libnet-config --libs` -lpcap
+	${CC} $(CFLAGS) -o $@@ $(O_arping) `libnet-config --libs` -lpcap
@


1.2
log
@Update to arping-1.03
@
text
@d2 2
a3 2
--- Makefile.orig	Sat Feb  9 19:58:57 2002
+++ Makefile	Sat Feb  9 20:01:23 2002
d13 1
a13 1
@@@@ -39,17 +39,17 @@@@
d19 1
a19 1
+	${BSD_INSTALL_PROGRAM} -c arping ${PREFIX}/sbin/arping
d21 2
d35 2
a36 2
 clean:
 	rm -f *.o $(TARGETS)
@


1.1
log
@Update to 0.96, from maintainer Joshua Stein <jcs@@rt.fm>:
- miscellaneous changes
- now includes manpage
Additionally (ok maintainer):
- respect CC/CFLAGS/LOCALBASE
- move arping to sbin
@
text
@d2 4
a5 4
--- Makefile.orig	Thu Mar 15 17:34:57 2001
+++ Makefile	Fri Mar 16 01:00:31 2001
@@@@ -8,7 +8,7 @@@@ SOLARIS=0
 FREEBSD=0
d8 2
a9 2
-CFLAGS=-g -I/usr/local/include -L/usr/local/lib -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD) -I/usr/include/pcap
+CFLAGS+= -I$(LOCALBASE)/include -L$(LOCALBASE)/lib -DUSE_NETIF=$(USE_NETIF) -DOPENBSD=$(OPENBSD) -DLINUX=$(LINUX) -DSOLARIS=$(SOLARIS) -DFREEBSD=$(FREEBSD)
d13 1
a13 1
@@@@ -35,17 +35,17 @@@@ solaris:
d19 2
a20 2
+	$(BSD_INSTALL_PROGRAM) arping $(PREFIX)/sbin/arping
+	$(BSD_INSTALL_MAN) arping.8 $(PREFIX)/man/man8/arping.8
d26 1
a26 1
+	$(CC) $(CFLAGS) -c `libnet-config --defines` `libnet-config --cflags` arping.c
d31 1
a31 1
+	$(CC) $(CFLAGS) -o $@@ $(O_arping) `libnet-config --libs` -lpcap
@

