head	1.4;
access;
symbols
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.2.0.8
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.6
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.4
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.1.1.1.0.8
	OPENBSD_3_2_BASE:1.1.1.1
	OPENBSD_3_1:1.1.1.1.0.6
	OPENBSD_3_1_BASE:1.1.1.1
	OPENBSD_3_0:1.1.1.1.0.4
	OPENBSD_3_0_BASE:1.1.1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	OPENBSD_2_9:1.1.1.1.0.2
	OPENBSD_2_9_BASE:1.1.1.1
	jakob_2001-04-16:1.1.1.1
	jakob:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2005.05.08.21.16.15;	author jakob;	state dead;
branches;
next	1.3;

1.3
date	2004.10.16.10.42.31;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2002.10.04.19.20.24;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.04.16.21.33.10;	author jakob;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.04.16.21.33.10;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to version 2.0.2; thanks to Alexandre Anriot
@
text
@$OpenBSD: patch-cfg_configure,v 1.3 2004/10/16 10:42:31 sturm Exp $
--- cfg/configure.orig	Mon Mar 31 22:25:20 2003
+++ cfg/configure	Sat Oct 16 09:27:27 2004
@@@@ -1687,7 +1687,7 @@@@ ac_link='$CC -o conftest$ac_exeext $CFLA
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 if test "$ac_cv_c_compiler_gnu" = yes ; then
-  CFLAGS="$OLD_CFLAGS -Wall -O2"
+  CFLAGS="$OLD_CFLAGS "
 else
   if test `uname -s` = "HP-UX"; then
     CFLAGS="$OLD_CFLAGS -Ae +O2"
@@@@ -1999,7 +1999,7 @@@@ ac_link='$CC -o conftest$ac_exeext $CFLA
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 if test "$ac_cv_c_compiler_gnu" = yes ; then
-  CXXFLAGS="$OLD_CXXFLAGS -Wall -O2"
+  CXXFLAGS="$OLD_CXXFLAGS "
 else
   if test `uname -s` = "HP-UX"; then
     CXXFLAGS="$OLD_CXXFLAGS -Ae +O2"
@@@@ -2400,6 +2400,7 @@@@ else
 fi
 rm -f conftest.err conftest.$ac_ext
 fi
+ac_cv_header_pthread_h=no
 echo "$as_me:2403: result: $ac_cv_header_pthread_h" >&5
 echo "${ECHO_T}$ac_cv_header_pthread_h" >&6
 if test $ac_cv_header_pthread_h = yes; then
@


1.3
log
@update to iperf 1.7.0 in order to support IPv6

inspired by a diff from Romain GAILLEGUE <buchu at biscotte.net>
ok jakob@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@* Respect CC/CFLAGS/CXX/CXXFLAGS.
* C++ fix for gcc3; from Craig Rodrigues <rodrigc@@attbi.com> via FreeBSD.

ok jakob@@
@
text
@d2 4
a5 3
--- cfg/configure.orig	Mon Feb 12 17:40:04 2001
+++ cfg/configure	Wed Oct  2 00:42:49 2002
@@@@ -584,6 +584,7 @@@@ fi
d7 1
a7 11
 OLD_CFLAGS="$CFLAGS"
 
+ac_cv_prog_CC=${CC-cc}
 if test -n "$ac_cv_prog_CC"; then
   echo "Using cached C compiler $ac_cv_prog_CC"
   echo "To change compilers, use \"make distclean\" then rerun configure"
@@@@ -831,23 +832,12 @@@@ fi
 
 
 
-if test "$ac_cv_prog_gcc" = yes ; then
d9 6
a14 20
-else  
-  if test `uname -s` = "HP-UX"; then
-    CFLAGS="$OLD_CFLAGS -Ae +O2"
-  elif test `uname -s` = "SunOS"; then
-    CFLAGS="$OLD_CFLAGS -xO2"
-  else
-    CFLAGS="$OLD_CFLAGS -O2"
-  fi
-fi
-
 
 
 
 OLD_CXXFLAGS="$CXXFLAGS"
 
+ac_cv_prog_CXX=${CXX-c++}
 if test -n "$ac_cv_prog_CXX"; then
   echo "Using cached C++ compiler $ac_cv_prog_CXX"
   echo "To change compilers, use \"make distclean\" then rerun configure"
@@@@ -1016,18 +1006,6 @@@@ fi
d16 1
a16 3
 
 
-if test "$ac_cv_prog_gcc" = yes ; then
d18 12
a29 29
-else  
-  if test `uname -s` = "HP-UX"; then
-    CXXFLAGS="$OLD_CXXFLAGS -Ae +O2"
-  elif test `uname -s` = "SunOS"; then
-    CXXFLAGS="$OLD_CXXFLAGS -xO2"
-  else
-    CXXFLAGS="$OLD_CXXFLAGS -O2"
-  fi
-fi
-
 
 # Extract the first word of "ranlib", so it can be a program name with args.
 set dummy ranlib; ac_word=$2
@@@@ -1065,14 +1043,7 @@@@ fi
 echo
 
 
-if test -z "$ac_cv_use_pthread"; then
-  ac_cv_use_pthread="yes"
-fi
-echo "Make iperf multi-threaded (using pthreads)? [$ac_cv_use_pthread] "
-read tmp
-if test -n "$tmp"; then  
-  ac_cv_use_pthread="$tmp"
-fi
+ac_cv_use_pthread="no"
 
 
 if test "$ac_cv_use_pthread" = yes ; then
@


1.1
log
@Initial revision
@
text
@d1 4
a4 5
$OpenBSD: update-patches,v 1.4 2001/03/31 22:54:41 espie Exp $

--- cfg/configure.orig	Fri Feb 18 21:45:03 2000
+++ cfg/configure	Mon Apr 16 23:22:01 2001
@@@@ -581,6 +581,7 @@@@ fi
d8 1
a8 1
+ac_cv_prog_CC=gcc
d12 18
a29 1
@@@@ -793,6 +794,7 @@@@ fi
d33 1
a33 1
+ac_cv_prog_CXX=g++
d37 20
a56 1
@@@@ -998,14 +1000,7 @@@@ fi
@


1.1.1.1
log
@Iperf is a tool for measuring maximum TCP and UDP bandwidth,
reminiscent of ttcp and nettest. It has been written to overcome the
shortcomings of those aging tools.
@
text
@@
