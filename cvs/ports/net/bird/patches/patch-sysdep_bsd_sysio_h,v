head	1.1;
access;
symbols
	OPENBSD_6_1:1.1.0.2
	OPENBSD_6_1_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.03.02.23.02.18;	author sthen;	state Exp;
branches;
next	;
commitid	oUXkwFvU7vHCqg4O;


desc
@@


1.1
log
@Add WIP patch to adapt BIRD's freebsd pfkey interface code (for setting tcpmd5 SAs)
to openbsd. Doesn't handle SPIs correctly (ends up setting them all to 0x00001000
as is done on freebsd) so currently disabled though it does actually mostly work
despite this.
@
text
@$OpenBSD$
--- sysdep/bsd/sysio.h.orig	Wed Feb 22 12:11:27 2017
+++ sysdep/bsd/sysio.h	Wed Feb 22 12:11:28 2017
@@@@ -198,7 +198,7 @@@@ sk_prepare_ip_header(sock *s, void *hdr, int dlen)
 #define TCP_SIG_SPI 0x1000
 #endif
 
-#if defined(__FreeBSD__)
+#if defined(__FreeBSD__) /* || defined(__OpenBSD__) */
 #define USE_MD5SIG_SETKEY
 #include "lib/setkey.h"
 #endif
@
