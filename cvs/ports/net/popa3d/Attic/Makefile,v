head	1.20;
access;
symbols
	OPENBSD_3_0:1.19.0.2
	OPENBSD_3_0_BASE:1.19
	OPENBSD_2_9_TRACKING_SWITCH:1.18
	OPENBSD_2_9:1.16.0.4
	OPENBSD_2_9_BASE:1.16
	OPENBSD_2_8:1.16.0.2
	OPENBSD_2_8_BASE:1.16
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.2.0.2
	OPENBSD_2_6_BASE:1.2
	brad_1999-09-10:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.20
date	2002.04.06.03.42.38;	author brad;	state dead;
branches;
next	1.19;

1.19
date	2001.08.18.20.57.43;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2001.08.11.20.22.30;	author pvalchev;	state Exp;
branches;
next	1.17;

1.17
date	2001.05.06.05.00.22;	author lebel;	state Exp;
branches;
next	1.16;

1.16
date	2000.09.25.07.40.14;	author camield;	state Exp;
branches;
next	1.15;

1.15
date	2000.09.15.14.42.38;	author camield;	state Exp;
branches;
next	1.14;

1.14
date	2000.08.16.07.27.12;	author camield;	state Exp;
branches;
next	1.13;

1.13
date	2000.08.04.09.51.00;	author camield;	state Exp;
branches;
next	1.12;

1.12
date	2000.06.16.23.06.09;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.06.14.07.30.45;	author camield;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.24.22.11.53;	author espie;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2000.03.07.10.07.27;	author camield;	state Exp;
branches;
next	1.8;

1.8
date	2000.03.07.09.57.25;	author camield;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.15.05.05.02;	author turan;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.12.08.02.29;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.12.00.44.00;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.09.08.37.32;	author camield;	state Exp;
branches;
next	1.3;

1.3
date	2000.02.03.18.45.38;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.09.12.15.04.40;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.09.10.22.07.34;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.09.10.22.07.34;	author brad;	state Exp;
branches;
next	;

1.10.2.1
date	2000.09.15.05.10.04;	author marc;	state Exp;
branches;
next	;


desc
@@


1.20
log
@popa3d has been included in-tree since 3.0.
@
text
@# $OpenBSD: Makefile,v 1.19 2001/08/18 20:57:43 brad Exp $

COMES_WITH=	3.0

COMMENT=	"security first POP3 daemon"

DISTNAME=	popa3d-0.4
HOMEPAGE=	http://www.openwall.com/popa3d
CATEGORIES=	net mail
MAINTAINER=	Camiel Dobbelaar <cd@@sentia.nl>
NEED_VERSION=	1.402

MASTER_SITES=   http://www.openwall.com/popa3d/ \
                ftp://ftp.openwall.com/popa3d/ \
		ftp://ftp.false.com/security/popa3d/ \
                ftp://ftp.dataforce.net/pub/solar/
MASTER_SITES0= 	http://www.monkey.org/~dugsong/

PATCHFILES=		popa3d-0.4-gnu-md5-alignment.diff.gz
PATCH_DIST_STRIP=       -p1

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MAKE_FLAGS=	CC=${CC} LD=${CC} CFLAGS="-c ${CFLAGS}"

FLAVORS=	apop
FLAVOR?=

.if ${FLAVOR:L:Mapop}
PATCHFILES+=     	popa3d-0.4-apop.patch-1:0
.else
# the original Makefile does not have an 'all' target
ALL_TARGET=popa3d
.endif

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/popa3d ${PREFIX}/libexec
.if ${FLAVOR:L:Mapop}
	${INSTALL_PROGRAM} ${WRKSRC}/popauth ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/popauth.8 ${PREFIX}/man/man8
.endif

.include <bsd.port.mk>
@


1.19
log
@mark with COMES_WITH
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/08/11 20:22:30 pvalchev Exp $
@


1.18
log
@NO_CONFIGURE is obsolete and not needed, remove it
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.17 2001/05/06 05:00:22 lebel Exp $
@


1.17
log
@net: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/09/25 07:40:14 camield Exp $
a24 1
NO_CONFIGURE=	Yes
@


1.16
log
@add real name to MAINTAINER, plus a few nits
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.15 2000/09/15 14:42:38 camield Exp $
d9 1
@


1.15
log
@- remove FAKE=yes
- add HOMEPAGE to Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/08/16 07:27:12 camield Exp $
d6 1
a6 1
MAINTAINER=	cd@@sentia.nl
@


1.14
log
@- patch on GNU md5 routines to make popa3d work on Sparc
(bra@@fsn.hu through solar@@false.com)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/08/04 09:51:00 camield Exp $
d4 1
a5 1
NEED_VERSION=	1.218
d7 1
a20 2

FAKE=	Yes
@


1.13
log
@Add APOP patch from Dug Song as a flavor, requested by Attila Nagy <bra@@fsn.hu>

Note that the apop flavor does APOP authentication _only_,
complain to Dug Song if that bothers you. :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/03/24 22:11:53 espie Exp $
d11 4
d30 1
a30 3
MASTER_SITES0=  	http://www.monkey.org/~dugsong/
PATCHFILES=     	popa3d-0.4-apop.patch-1:0
PATCH_DIST_STRIP=       -p1
@


1.12
log
@Remove NO_CONFIGURE/NO_PATCH/NO_EXTRACT/NO_MTREE

Kill corresponding FAKE=Yes and switch to CONFIGURE_STYLE while I'm at it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/06/14 07:30:45 camield Exp $
a3 1
HOMEPAGE=	http://www.openwall.com/popa3d/
d5 1
a5 1
NEED_VERSION=	1.294
d7 1
a7 2

MASTER_SITES=   ${HOMEPAGE} \
d17 3
a19 1
ALL_TARGET=	popa3d
d22 12
d36 4
@


1.11
log
@- add HOMEPAGE
- remove FAKE
- add tag to PLIST
- use PREFIX and HOMEPAGE in MESSAGE
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/03/24 22:11:53 espie Exp $
a18 1
NO_CONFIGURE=	Yes
@


1.10
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/03/07 10:07:27 camield Exp $
d4 1
d6 1
a6 1
NEED_VERSION=	1.218
d8 2
a9 1
MASTER_SITES=   http://www.openwall.com/popa3d/ \
a13 1

a17 2

FAKE=	Yes
@


1.10.2.1
log
@bring net as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/08/04 09:51:00 camield Exp $
d12 1
d21 1
a23 12
FLAVORS=	apop
FLAVOR?=

.if ${FLAVOR:L:Mapop}
MASTER_SITES0=  	http://www.monkey.org/~dugsong/
PATCHFILES=     	popa3d-0.4-apop.patch-1:0
PATCH_DIST_STRIP=       -p1
.else
# the original Makefile does not have an 'all' target
ALL_TARGET=popa3d
.endif

a25 4
.if ${FLAVOR:L:Mapop}
	${INSTALL_PROGRAM} ${WRKSRC}/popauth ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/popauth.8 ${PREFIX}/man/man8
.endif
@


1.9
log
@No need for DESTDIR in do-install target, using fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/03/07 09:57:25 camield Exp $
d5 1
a11 1
NEED_VERSION=	1.218
@


1.8
log
@- Fake
- {yes|YES} -> Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/15 05:05:02 turan Exp $
d25 1
a25 1
	${INSTALL_PROGRAM} ${WRKSRC}/popa3d ${DESTDIR}${PREFIX}/libexec
@


1.7
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/02/12 08:02:29 turan Exp $
d5 1
a9 1
NEED_VERSION=	1.195
d11 6
a16 1
MAINTAINER=	cd@@sentia.nl
d18 1
a18 5
LICENSE_TYPE=		GPL
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d20 1
a20 1
NO_CONFIGURE=	yes
d25 1
a25 1
	${INSTALL_PROGRAM} ${WRKSRC}/popa3d ${PREFIX}/libexec
@


1.6
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/02/12 00:44:00 espie Exp $
d14 4
a17 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.5
log
@Change MAKE_FLAGS to remove the -f.

Actually reading the Makefiles proved that about one third of them was
confused about this already...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/09 08:37:32 camield Exp $
d12 6
@


1.4
log
@- add MASTER_SITE
- incorporate feedback from author in SECURITY
- move post-install message from INSTALL to MESSAGE
- Makefile-patch -> MAKE_FLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/02/03 18:45:38 brad Exp $
d9 1
@


1.3
log
@upgrade to popa3d 0.4; From: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/09/12 15:04:40 brad Exp $
d6 2
a7 1
                ftp://ftp.openwall.com/popa3d \
d14 1
a17 3

post-install:
	@@PKG_PREFIX="${PREFIX}" sh ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL
@


1.2
log
@add net category to CATEGORIES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/09/10 22:07:34 brad Exp $
d3 1
a3 1
DISTNAME=	popa3d-0.3
d5 3
a7 2
MASTER_SITES=	ftp://ftp.dataforce.net/pub/solar/ \
		ftp://ftp.dqc.org/archive/
d9 1
a9 1
MAINTAINER=	dobbe@@xs4all.nl
d18 1
a18 1
	@@${SH} ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 1
CATEGORIES=	mail
@


1.1.1.1
log
@add popa3d;
popa3d is a POP3 daemon by Solar Designer.

In order, its design goals are:
1. Security (to the extent that is possible with POP3 at all, of course).
2. Reliability (again, as limited by the mailbox format and the protocol).
3. RFC compliance (slightly relaxed to work with real-world POP3 clients).
4. Performance (limited by the more important goals above)
@
text
@@
