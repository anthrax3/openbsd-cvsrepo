head	1.2;
access;
symbols
	sthen_20121304:1.1.1.1 sthen:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2012.04.22.20.50.12;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2012.04.13.14.14.21;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.04.13.14.14.21;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to sslh 1.11; from Bj√∂rn Ketelaars

note, if you set sslh_flags in rc.conf.local you'll need to add --user=_sslh
@
text
@--- sslh-fork.c.orig	Sat Nov 26 22:16:43 2011
+++ sslh-fork.c	Fri Mar 23 19:53:57 2012
@@@@ -138,6 +138,7 @@@@
     int in_socket, i, res;
     struct sigaction action;
 
+    listener_pid_number = num_addr_listen;
     listener_pid = malloc(listener_pid_number * sizeof(listener_pid[0]));
 
     /* Start one process for each listening address */
@@@@ -170,11 +171,9 @@@@
     res = sigaction(SIGTERM, &action, NULL);
     CHECK_RES_DIE(res, "sigaction");
 
-    listener_pid_number = num_addr_listen;
     wait(NULL);
 }
 
 /* The actual main is in common.c: it's the same for both version of
  * the server
  */
-
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@import ports/net/sslh: from Bjorn Ketelaars, merging in a previous port
from fgsch. ok okan@@

sslh accepts HTTPS, SSH, OpenVPN, tinc and XMPP connections on the
same port. This makes it possible to connect to any of these servers
on port 443 (e.g. from inside a corporate firewall, which almost
never block port 443) while still serving HTTPS on that port.
@
text
@@
