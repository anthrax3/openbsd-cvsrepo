head	1.73;
access;
symbols
	OPENBSD_6_0:1.71.0.4
	OPENBSD_6_0_BASE:1.71
	OPENBSD_5_9:1.71.0.2
	OPENBSD_5_9_BASE:1.71
	OPENBSD_5_8:1.69.0.6
	OPENBSD_5_8_BASE:1.69
	OPENBSD_5_7:1.69.0.2
	OPENBSD_5_7_BASE:1.69
	OPENBSD_5_6:1.68.0.4
	OPENBSD_5_6_BASE:1.68
	OPENBSD_5_5:1.68.0.2
	OPENBSD_5_5_BASE:1.68
	OPENBSD_5_4:1.65.0.2
	OPENBSD_5_4_BASE:1.65
	OPENBSD_5_3:1.62.0.2
	OPENBSD_5_3_BASE:1.62
	OPENBSD_5_2:1.60.0.2
	OPENBSD_5_2_BASE:1.60
	OPENBSD_5_1_BASE:1.59
	OPENBSD_5_1:1.59.0.2
	OPENBSD_5_0:1.56.0.2
	OPENBSD_5_0_BASE:1.56
	OPENBSD_4_9:1.52.0.2
	OPENBSD_4_9_BASE:1.52
	OPENBSD_4_8:1.49.0.2
	OPENBSD_4_8_BASE:1.49
	OPENBSD_4_7:1.46.0.2
	OPENBSD_4_7_BASE:1.46
	OPENBSD_4_6:1.41.0.2
	OPENBSD_4_6_BASE:1.41
	OPENBSD_4_5:1.39.0.2
	OPENBSD_4_5_BASE:1.39
	OPENBSD_4_4:1.38.0.4
	OPENBSD_4_4_BASE:1.38
	OPENBSD_4_3:1.38.0.2
	OPENBSD_4_3_BASE:1.38
	OPENBSD_4_2:1.37.0.6
	OPENBSD_4_2_BASE:1.37
	OPENBSD_4_1:1.37.0.4
	OPENBSD_4_1_BASE:1.37
	OPENBSD_4_0:1.37.0.2
	OPENBSD_4_0_BASE:1.37
	OPENBSD_3_9:1.35.0.6
	OPENBSD_3_9_BASE:1.35
	OPENBSD_3_8:1.35.0.4
	OPENBSD_3_8_BASE:1.35
	OPENBSD_3_7:1.35.0.2
	OPENBSD_3_7_BASE:1.35
	OPENBSD_3_6:1.33.0.2
	OPENBSD_3_6_BASE:1.33
	OPENBSD_3_5:1.31.0.2
	OPENBSD_3_5_BASE:1.31
	OPENBSD_3_4:1.23.0.2
	OPENBSD_3_4_BASE:1.23
	OPENBSD_3_3:1.20.0.2
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.16.0.2
	OPENBSD_3_2_BASE:1.16
	OPENBSD_3_1:1.12.0.2
	OPENBSD_3_1_BASE:1.12
	brad_2001-12-14:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.73
date	2016.10.26.07.43.02;	author ajacoutot;	state Exp;
branches;
next	1.72;
commitid	92xka1VuIerZSd2S;

1.72
date	2016.09.13.16.12.14;	author naddy;	state Exp;
branches;
next	1.71;
commitid	LsYahYRn03mp1yEc;

1.71
date	2015.10.14.10.01.55;	author sthen;	state Exp;
branches;
next	1.70;
commitid	yAWs6xQUKKNMrFKk;

1.70
date	2015.08.21.22.51.10;	author sthen;	state Exp;
branches;
next	1.69;
commitid	Ahig7CHjExrDzTdF;

1.69
date	2014.09.13.18.09.21;	author brad;	state Exp;
branches;
next	1.68;
commitid	PpbRjVZdAmlrmi8q;

1.68
date	2013.10.25.23.45.55;	author sthen;	state Exp;
branches;
next	1.67;

1.67
date	2013.10.22.19.53.35;	author jca;	state Exp;
branches;
next	1.66;

1.66
date	2013.08.15.09.47.28;	author sthen;	state Exp;
branches;
next	1.65;

1.65
date	2013.06.12.20.36.34;	author brad;	state Exp;
branches;
next	1.64;

1.64
date	2013.05.25.00.33.10;	author brad;	state Exp;
branches;
next	1.63;

1.63
date	2013.03.11.11.35.55;	author espie;	state Exp;
branches;
next	1.62;

1.62
date	2013.02.09.14.49.52;	author sthen;	state Exp;
branches;
next	1.61;

1.61
date	2012.10.30.14.18.25;	author giovanni;	state Exp;
branches;
next	1.60;

1.60
date	2012.03.29.13.38.49;	author sthen;	state Exp;
branches;
next	1.59;

1.59
date	2011.12.08.08.03.43;	author sthen;	state Exp;
branches;
next	1.58;

1.58
date	2011.11.01.16.40.41;	author sthen;	state Exp;
branches;
next	1.57;

1.57
date	2011.09.16.11.13.39;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2011.05.02.03.03.46;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2011.04.25.09.26.47;	author sthen;	state Exp;
branches;
next	1.54;

1.54
date	2011.03.07.23.27.24;	author sthen;	state Exp;
branches;
next	1.53;

1.53
date	2011.03.02.23.56.31;	author sthen;	state Exp;
branches;
next	1.52;

1.52
date	2010.11.19.22.31.37;	author espie;	state Exp;
branches
	1.52.2.1;
next	1.51;

1.51
date	2010.11.11.16.27.55;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2010.10.18.18.36.57;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2010.07.12.22.07.41;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2010.04.15.14.58.24;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2010.03.27.08.14.36;	author chl;	state Exp;
branches;
next	1.46;

1.46
date	2009.12.05.18.33.26;	author chl;	state Exp;
branches;
next	1.45;

1.45
date	2009.11.20.00.57.23;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2009.11.15.17.47.36;	author sthen;	state Exp;
branches;
next	1.43;

1.43
date	2009.10.27.23.45.28;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2009.10.27.23.26.37;	author sthen;	state Exp;
branches;
next	1.41;

1.41
date	2009.05.03.11.06.31;	author chl;	state Exp;
branches
	1.41.2.1;
next	1.40;

1.40
date	2009.03.16.13.21.22;	author sthen;	state Exp;
branches;
next	1.39;

1.39
date	2009.01.15.10.04.23;	author sthen;	state Exp;
branches;
next	1.38;

1.38
date	2007.09.01.20.11.21;	author kili;	state Exp;
branches;
next	1.37;

1.37
date	2006.08.03.23.15.58;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2006.03.04.04.30.11;	author brad;	state Exp;
branches;
next	1.35;

1.35
date	2004.12.16.00.31.24;	author alek;	state Exp;
branches;
next	1.34;

1.34
date	2004.09.15.19.22.40;	author brad;	state Exp;
branches;
next	1.33;

1.33
date	2004.06.21.22.06.02;	author brad;	state Exp;
branches;
next	1.32;

1.32
date	2004.06.20.21.41.25;	author brad;	state Exp;
branches;
next	1.31;

1.31
date	2004.03.08.03.57.16;	author brad;	state Exp;
branches
	1.31.2.1;
next	1.30;

1.30
date	2004.03.02.22.19.00;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2004.03.01.11.26.53;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	2004.03.01.00.36.27;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	2004.01.02.04.56.24;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2003.11.26.19.25.56;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	2003.11.05.00.13.17;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2003.10.25.22.50.24;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2003.08.12.23.18.35;	author brad;	state Exp;
branches
	1.23.2.1;
next	1.22;

1.22
date	2003.06.18.10.33.46;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2003.05.23.22.30.58;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2003.01.31.01.59.42;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2003.01.30.19.56.58;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2002.11.25.14.22.14;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2002.11.23.21.02.14;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2002.08.26.14.39.29;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2002.08.25.22.57.56;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2002.06.09.17.36.46;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2002.05.15.17.42.25;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2002.03.29.03.30.00;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2002.03.23.08.51.15;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2002.03.11.18.00.30;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2002.03.07.19.32.13;	author lebel;	state Exp;
branches;
next	1.8;

1.8
date	2002.02.22.03.14.33;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2002.01.27.05.58.36;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2002.01.10.20.56.15;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2001.12.28.05.03.27;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2001.12.27.20.13.45;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2001.12.17.20.33.34;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2001.12.17.15.56.28;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2001.12.14.16.31.32;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.12.14.16.31.32;	author brad;	state Exp;
branches;
next	;

1.23.2.1
date	2004.06.21.22.14.10;	author brad;	state Exp;
branches;
next	;

1.31.2.1
date	2004.06.21.22.21.51;	author brad;	state Exp;
branches;
next	;

1.41.2.1
date	2010.01.20.01.53.23;	author william;	state Exp;
branches;
next	;

1.52.2.1
date	2011.03.11.09.41.12;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.73
log
@Update to pure-ftpd-1.0.43.

from Brad (maintainer)
@
text
@# $OpenBSD: Makefile,v 1.72 2016/09/13 16:12:14 naddy Exp $

COMMENT=	small, easy to set up, fast and very secure FTP server

DISTNAME=	pure-ftpd-1.0.43
CATEGORIES=	net
MASTER_SITES=	http://download.pureftpd.org/pub/pure-ftpd/releases/ \
		ftp://ftp.pureftpd.org/pub/pure-ftpd/releases/ \
		ftp://ftp4.fr.pureftpd.org/pub/pure-ftpd/releases/ \
		ftp://ftp.dk.pureftpd.org/mirrors/pure-ftpd/releases/ \
		ftp://ftp.nl.pureftpd.org/pub/pure-ftpd/releases/ \
		${MASTER_SITE_SOURCEFORGE:=pureftpd/}

HOMEPAGE=	http://www.pureftpd.org/

MAINTAINER=	Brad Smith <brad@@comstyle.com>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	c crypto iconv sodium ssl

LIB_DEPENDS=	converters/libiconv \
		security/libsodium

SEPARATE_BUILD=	Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --disable-pie \
		 --with-everything \
		 --with-paranoidmsg \
		 --with-rfc2640 \
		 --with-tls

FLAVORS=	ldap mysql postgresql virtual_chroot
FLAVOR?=

.if ${FLAVOR:Mldap}
LIB_DEPENDS+= 	openldap-client->=2,<3:databases/openldap
WANTLIB +=	ldap>=2 lber
CONFIGURE_ARGS+= --with-ldap="${LOCALBASE}"
DOCS+=	README.LDAP pureftpd.schema
CONF_FILE+= pureftpd-ldap.conf
.endif

.if ${FLAVOR:Mmysql}
LIB_DEPENDS+=	databases/mariadb
WANTLIB +=	lib/mysql/mysqlclient m z pthread
CONFIGURE_ARGS+= --with-mysql="${LOCALBASE}"
DOCS+=	README.MySQL
CONF_FILE+= pureftpd-mysql.conf
.endif

.if ${FLAVOR:Mpostgresql}
LIB_DEPENDS+=	databases/postgresql
WANTLIB +=	pq>=2 m z
CONFIGURE_ARGS+= --with-pgsql="${LOCALBASE}"
DOCS+=	README.PGSQL
CONF_FILE+= pureftpd-pgsql.conf
.endif

.if ${FLAVOR:Mvirtual_chroot}
CONFIGURE_ARGS+= --with-virtualchroot
.endif

DOCS+=	README README.Configuration-File README.Contrib README.TLS \
	README.Virtual-Users README.Authentication-Modules pure-ftpd.png

CONTRIB= xml_python_processors.txt pure-vpopauth.pl

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/pure-ftpd
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/pure-ftpd
	${INSTALL_PROGRAM} ${WRKBUILD}/configuration-file/pure-config.pl \
		${PREFIX}/sbin
	${INSTALL_DATA} ${WRKBUILD}/configuration-file/pure-ftpd.conf \
		${PREFIX}/share/examples/pure-ftpd/pure-ftpd.conf.sample
	cd ${WRKSRC}; ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/pure-ftpd
.if defined(CONF_FILE) && !empty(CONF_FILE)
	cd ${WRKSRC}; ${INSTALL_DATA} ${CONF_FILE} \
		${PREFIX}/share/examples/pure-ftpd
.endif
	cd ${WRKSRC}/contrib; ${INSTALL_DATA} ${CONTRIB} \
		${PREFIX}/share/examples/pure-ftpd

.include <bsd.port.mk>
@


1.72
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2015/10/14 10:01:55 sthen Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.42
@


1.71
log
@update to pure-ftpd 1.0.42, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2015/08/21 22:51:10 sthen Exp $
d21 1
a21 1
WANTLIB=	c crypto sodium ssl
d23 2
a24 1
LIB_DEPENDS=	security/libsodium
a32 2

MODULES=	converters/libiconv
@


1.70
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2014/09/13 18:09:21 brad Exp $
d5 1
a5 2
DISTNAME=	pure-ftpd-1.0.36
REVISION=	6
d21 3
a23 1
WANTLIB=		c crypto ssl
d26 3
a28 3
CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.68
CONFIGURE_ARGS+= --with-everything \
@


1.69
log
@Switch from using MySQL to using MariaDB attempt #2. MariaDB is a drop-in replacement.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/10/25 23:45:55 sthen Exp $
d6 1
a6 1
REVISION=	5
d47 1
a47 1
WANTLIB +=	lib/mysql/mysqlclient m z
@


1.68
log
@switch to upstream's patch for arc4random changes; ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/10/22 19:53:35 jca Exp $
d6 1
a6 1
REVISION=	4
d46 2
a47 2
LIB_DEPENDS+=	databases/mysql
WANTLIB +=	lib/mysql/mysqlclient>=10
a50 1
WANTLIB+=	m z
d55 1
a55 1
WANTLIB +=	pq>=2
a58 1
WANTLIB+=	m z
@


1.67
log
@Fixup after arc4random_addrandom/arc4random_stir removal.
(__OpenBSD__ #ifdef'ed code).  ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/08/15 09:47:28 sthen Exp $
d6 1
a6 1
REVISION=	3
d21 1
@


1.66
log
@don't force PIE; fixes arm (and it's enabled by default on arches where
it works). ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/06/12 20:36:34 brad Exp $
d6 1
a6 1
REVISION=	2
@


1.65
log
@Revert back to using MySQL 5.1 for the time being. MariaDB 5.5 introduces
a new libmysqlclient non-blocking API which utilizes co-routines. The X86
specific GCC ASM co-routine support hid the fact that there was an issue.
The only fallback code so far is POSIX user contexts which OpenBSD does not
support.

Input from and Ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2013/05/25 00:33:10 brad Exp $
d6 1
a6 1
REVISION=	1
d24 2
a25 1
CONFIGURE_STYLE= gnu
@


1.64
log
@Switch from using MySQL to using MariaDB. MariaDB is a drop-in replacement.


ok sthen aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/03/11 11:35:55 espie Exp $
d6 1
a6 1
REVISION=	0
d44 1
a44 1
LIB_DEPENDS+=	databases/mariadb
@


1.63
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/02/09 14:49:52 sthen Exp $
d6 1
d44 1
a44 1
LIB_DEPENDS+=	databases/mysql
@


1.62
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2012/10/30 14:18:25 giovanni Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.61
log
@
Update to 1.0.36 and fix dead master sites.
hints and ok sthen@@, ok brad@@ (Maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/03/29 13:38:49 sthen Exp $
d37 1
a37 1
.if ${FLAVOR:L:Mldap}
d45 1
a45 1
.if ${FLAVOR:L:Mmysql}
d54 1
a54 1
.if ${FLAVOR:L:Mpostgresql}
d63 1
a63 1
.if ${FLAVOR:L:Mvirtual_chroot}
@


1.60
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/12/08 08:03:43 sthen Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.35
a8 2
		ftp://ftp2.fr.pureftpd.org/pub/mirrors/ftp.fr.pureftpd.org/pub/pure-ftpd/releases/ \
		ftp://ftp3.fr.pureftpd.org/pub/pure-ftpd/releases/ \
a10 1
		ftp://ftp.es.pureftpd.org/mirror/pure-ftpd/releases/ \
a11 1
		ftp://ftp.fr.pureftpd.org/pub/pure-ftpd/releases/ \
@


1.59
log
@update to pure-ftpd 1.0.35, OK Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/11/01 16:40:41 sthen Exp $
d29 1
a29 1
SEPARATE_BUILD=	concurrent
@


1.58
log
@update to pure-ftpd 1.0.34, ok Brad (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2011/09/16 11:13:39 espie Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.34
@


1.57
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/05/02 03:03:46 sthen Exp $
d5 1
a5 2
DISTNAME=	pure-ftpd-1.0.32
REVISION=		0
@


1.56
log
@SECURITY update (CVE-2011-0418), glob memory exhaustion with braces.
ok Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/04/25 09:26:47 sthen Exp $
d6 1
@


1.55
log
@- update to 1.0.31
- add an rc script
ok Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/03/07 23:27:24 sthen Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.31
@


1.54
log
@Fix a STARTTLS bug, same problem as CVE-2011-0411. For more
information see http://seclists.org/bugtraq/2011/Mar/79

ok Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/03/02 23:56:31 sthen Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.30
d7 2
a8 1
MASTER_SITES=	ftp://ftp.pureftpd.org/pub/pure-ftpd/releases/ \
@


1.53
log
@groff not needed; from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/11/19 22:31:37 espie Exp $
d5 1
a5 2
DISTNAME=	pure-ftpd-1.0.29
REVISION=	0
@


1.52
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/11/11 16:27:55 espie Exp $
a36 1
USE_GROFF =	Yes
@


1.52.2.1
log
@Fix a STARTTLS bug, same problem as CVE-2011-0411. For more
information see http://seclists.org/bugtraq/2011/Mar/79
ok Brad.

distfile re-rolled (spotted by landry@@) - typo in NEWS fixed.
doesn't affect pkg -> no bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/03/07 23:27:24 sthen Exp $
d5 2
a6 1
DISTNAME=	pure-ftpd-1.0.30
d37 1
@


1.51
log
@new WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/10/18 18:36:57 espie Exp $
d43 2
a44 2
LIB_DEPENDS+= 	:openldap-client->=2,<3:databases/openldap
WANTLIB +=	ldap.>=2 lber
d51 2
a52 2
LIB_DEPENDS+=	::databases/mysql
WANTLIB +=	lib/mysql/mysqlclient.>=10
d60 2
a61 2
LIB_DEPENDS+=	::databases/postgresql
WANTLIB +=	pq.>=2
@


1.50
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/07/12 22:07:41 sthen Exp $
d43 2
a44 1
LIB_DEPENDS+= ldap.>=2,lber:openldap-client->=2,<3:databases/openldap
d51 2
a52 1
LIB_DEPENDS+= lib/mysql/mysqlclient.>=10::databases/mysql
d60 2
a61 1
LIB_DEPENDS+= pq.>=2::databases/postgresql
@


1.49
log
@use REVISION, checked with before/after make show=PKGNAMES (plus some
extra-careful checking where there are complicated PSEUDO_FLAVORS).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/04/15 14:58:24 ajacoutot Exp $
d37 1
@


1.48
log
@Stupid poor blank lines, stupid poor blank lines...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/03/27 08:14:36 chl Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.47
log
@Update to 1.0.29

ok Brad (maintainer) and author (Frank Denis <j pureftpd org>)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/12/05 18:33:26 chl Exp $
d6 1
@


1.46
log
@Update to 1.0.27

ok Brad (maintainer), sthen@@ and author (Frank Denis <j pureftpd org>)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/11/20 00:57:23 sthen Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.27
@


1.45
log
@fix v6, from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/11/15 17:47:36 sthen Exp $
d5 1
a5 2
DISTNAME=	pure-ftpd-1.0.26
PKGNAME=	${DISTNAME}p0
@


1.44
log
@Update to 1.0.26, ok Brad (maintainer). Similar diff from chl@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/10/27 23:45:28 sthen Exp $
d6 1
@


1.43
log
@uid 642; 641 was taken by ziproxy.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2009/10/27 23:26:37 sthen Exp $
d5 1
a5 2
DISTNAME=	pure-ftpd-1.0.24
PKGNAME=	${DISTNAME}p0
@


1.42
log
@Update to 1.0.24, from Frank Denis. ok Brad (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/05/03 11:06:31 chl Exp $
d6 1
@


1.41
log
@update pure-ftpd to 1.0.22

tested and ok sthen@@

with help and comments from Frank Denis <j pureftpd org> and Brad

ok Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2009/03/16 13:21:22 sthen Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.22
d9 2
a10 1
		ftp://ftp3.fr.pureftpd.org/pure-ftpd/releases/ \
d12 1
a12 1
		ftp://ftp.es.pureftpd.org/mirror/pureftpd/latest/releases/ \
a14 1
		ftp://ftp.cn.pureftpd.org/pub/pureftpd/pure-ftpd/releases/ \
d37 1
a37 1
FLAVORS=	ldap mysql postgresql no_banner virtual_chroot
a60 4
.endif

.if ${FLAVOR:L:Mno_banner}
CONFIGURE_ARGS+= --without-banner
@


1.41.2.1
log
@Fix FTPStatus as per ports@@

patch from Frank Denis, thanks

ok jasper@@, Brad, and Frank Denis
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/05/03 11:06:31 chl Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.40
log
@fix pkgspec
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/01/15 10:04:23 sthen Exp $
d5 1
a5 2
DISTNAME=	pure-ftpd-1.0.21
PKGNAME=	${DISTNAME}p2
d32 1
a32 1
		 --with-privsep \
d34 2
@


1.39
log
@- fix ldap schema; from Toni Mueller, via Brad (maintainer), confirmed
with and committed upstream.

- regen PLIST while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2007/09/01 20:11:21 kili Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d40 1
a40 1
LIB_DEPENDS+= ldap.>=2,lber:openldap-client-2.*:databases/openldap
@


1.38
log
@
Change Brads email address for now, so people can reach him instead of
getting bounces or 550s. Bump pkgnames. While here, remove quotes from
comments.

prompted by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2006/08/03 23:15:58 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.37
log
@new style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2006/03/04 04:30:11 brad Exp $
d3 1
a3 1
COMMENT=	"small, easy to set up, fast and very secure FTP server"
d6 1
d20 1
a20 1
MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.36
log
@upgrade to pure-ftpd 1.0.21
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2004/12/16 00:31:24 alek Exp $
d39 1
a39 1
LIB_DEPENDS+= ldap.2,lber:openldap-client-2.*:databases/openldap
d46 1
a46 1
LIB_DEPENDS+= lib/mysql/mysqlclient.10::databases/mysql
d54 1
a54 1
LIB_DEPENDS+= pq.2::databases/postgresql
@


1.35
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2004/09/15 19:22:40 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.20
d33 1
a33 2
		 --with-tls \
		 --with-largefile
@


1.34
log
@upgrade to pure-ftpd 1.0.20

add a patch to fix an ifdef check, WITH_THROTTLING -> THROTTLING,
fixes upload throttling. From: MERIGHI Marcus <McMer at Tor dot AT>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/06/21 22:06:02 brad Exp $
d26 1
d51 1
d59 1
@


1.33
log
@don't need to set PKGNAME anymore
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/06/20 21:41:25 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.19
@


1.32
log
@upgrade to pure-ftpd 1.0.19

fixes a potential DoS when maximum connections is reached
--
From: Frank Denis <j at pureftpd dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2004/03/08 03:57:16 brad Exp $
a5 1
PKGNAME=	${DISTNAME}
@


1.31
log
@Oneliner to add use of msync().

"On OpenBSD, data read from a mmap()ed file through read() is not in sync
unless msync() is explicitely called.

In pure-ftpd it breaks the -y option that restricts the number of sessions
an account can open. This oneliner seems to fix it."

ok pvalchev@@
--
From: Frank Denis <j at pureftpd dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2004/03/02 22:19:00 brad Exp $
d5 2
a6 2
DISTNAME=	pure-ftpd-1.0.18
PKGNAME=	${DISTNAME}p1
@


1.31.2.1
log
@MFC:
upgrade to pure-ftpd 1.0.19

fixes a potential DoS when maximum connections is reached
--
From: Frank Denis <j at pureftpd dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/06/21 22:06:02 brad Exp $
d5 2
a6 1
DISTNAME=	pure-ftpd-1.0.19
@


1.30
log
@upgrade to pure-ftpd 1.0.18... again.

Previous release had a bug with closefrom() usage.

Now listens on both a v4 & v6 socket by default
when in standalone mode so it's no longer necessary
to run two daemons.
--
From: Frank Denis <j at pureftpd dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2004/03/01 11:26:53 brad Exp $
d6 1
@


1.29
log
@revert back to the previous version for the time being. previous
version was removed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2004/03/01 00:36:27 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.17a
@


1.28
log
@upgrade to pure-ftpd 1.0.18

Now listens on both a v4 & v6 socket by default
when in standalone mode so it's no longer necessary
to run two daemons.
--
From: Frank Denis <j at pureftpd dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/01/02 04:56:24 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.18
@


1.27
log
@better LIB_DEPENDS entries for MySQL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2003/11/26 19:25:56 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.17a
@


1.26
log
@upgrade to pure-ftpd 1.0.17a
--
From: Frank Denis <j at pureftpd dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2003/11/05 00:13:17 brad Exp $
d46 1
a46 1
LIB_DEPENDS+= lib/mysql/mysqlclient.10:mysql-client-3.23.*:databases/mysql
@


1.25
log
@upgrade to pure-ftpd 1.0.16c
--
From: Frank Denis <j at pureftpd dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2003/10/25 22:50:24 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.16c
@


1.24
log
@upgrade to pure-ftpd 1.0.16b
--
From: Frank Denis <j at pureftpd dot org>
With a fix from me for the header check for sys/mount.h, we need to include
sys/param.h first.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/08/12 23:18:35 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.16b
d28 1
a28 2
CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.57
@


1.23
log
@upgrade to pure-ftpd 1.0.16a

this version introduces support for SSL/TLS.
--
From: Frank Denis <j at pureftpd dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/06/18 10:33:46 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.16a
d28 2
a29 1
CONFIGURE_STYLE= gnu
d33 2
a34 1
		 --with-tls 
@


1.23.2.1
log
@MFC:
upgrade to pure-ftpd 1.0.19

fixes a potential DoS when maximum connections is reached
--
From: Frank Denis <j at pureftpd dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/06/21 22:06:02 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.19
d32 1
a32 2
		 --with-tls \
		 --with-largefile
d45 1
a45 1
LIB_DEPENDS+= lib/mysql/mysqlclient.10::databases/mysql
@


1.22
log
@upgrade to pure-ftpd 1.0.15

license has switched from GPL to BSD.
--
From: Frank Denis <j@@pureftpd.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/05/23 22:30:58 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.15
d31 2
a32 1
		 --with-privsep
d66 1
a66 1
DOCS+=	README README.Configuration-File README.Contrib \
@


1.21
log
@add a virtual_chroot FLAVOR.
--
From: Okan Demirmen <okan at demirmen dot com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/01/31 01:59:42 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.14
d21 1
a21 1
# GPL
@


1.20
log
@license
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/01/30 19:56:58 brad Exp $
d33 1
a33 1
FLAVORS=	ldap mysql postgresql no_banner
d59 4
@


1.19
log
@upgrade to pure-ftpd 1.0.14

this version introduces support for privilege separation.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/11/25 14:22:14 brad Exp $
d21 1
@


1.18
log
@upgrade to pure-ftpd 1.0.13a
--
From: Frank Denis <j@@pureftpd.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/11/23 21:02:14 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.13a
d29 2
a30 1
		 --with-paranoidmsg
@


1.17
log
@upgrade to pure-ftpd 1.0.13
--
From: Frank Denis <j@@pureftpd.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/08/26 14:39:29 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.13
@


1.16
log
@remove whitespace
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/08/25 22:57:56 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.12
d12 1
d62 1
a62 1
CONTRIB= xml_python_processors.txt sfv-crc-check.pl
@


1.15
log
@update list of distsites.
--
From: Frank Denis <j@@pureftpd.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/06/09 17:36:46 brad Exp $
d10 1
a10 1
		ftp://ftp.dk.pureftpd.org/mirrors/pure-ftpd/releases/ \        
@


1.14
log
@upgrade to pure-ftpd 1.0.12
--
From: Frank Denis <j@@pureftpd.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/05/15 17:42:25 espie Exp $
a6 1
NEED_VERSION=	1.500
d8 3
a10 1
		ftp://ftp.dk.pureftpd.org/mirrors/pure-ftpd/releases/ \
d13 1
a13 2
		ftp://ftp.za.pureftpd.org/pub/pure-ftpd/releases/ \
		http://ftp.cn.pureftpd.org/pure-ftpd/releases/ \
@


1.13
log
@say goodbye to MASTER_SITE_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/03/29 03:30:00 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.11
a23 5

# XXX workaround sparc64 gcc optimization bug
.if ${MACHINE_ARCH:Msparc64}
PATCH_LIST=	gcc-* patch-*
.endif
@


1.12
log
@upgrade to pure-ftpd 1.0.11
- fixes an issue with Pure-FTPd and -current that was visable on sparc
where PAGE_SIZE is a non-constant.
--
Thank you very much to Frank Denis <j@@pureftpd.org> for making a timely
release of Pure-FTPd so we could include this with our next release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/03/23 08:51:15 brad Exp $
d14 1
a14 2
		${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR= pureftpd
@


1.11
log
@mark BROKEN on sparc until the next release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/03/11 18:00:30 brad Exp $
d5 1
a5 5
.if ${MACHINE_ARCH} == "sparc"
BROKEN=		"Broken on sparc"
.endif

DISTNAME=	pure-ftpd-1.0.10
d9 2
d12 2
d65 1
a65 1
	README.Virtual-Users README.Authentication-Modules poweredby.jpg
@


1.10
log
@upgrade to pure-ftpd 1.0.10
--
From: Frank Denis <j@@pureftpd.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/03/07 19:32:13 lebel Exp $
d4 4
@


1.9
log
@XXX workaround a gcc optimization bug on sparc64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/02/22 03:14:33 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.9
d13 1
a13 1
HOMEPAGE=	http://pureftpd.sourceforge.net/
a50 1
CFLAGS+= -I/usr/local/include/postgresql
@


1.8
log
@upgrade to pure-ftpd 1.0.9
--
From: Frank Denis <j@@pureftpd.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/01/27 05:58:36 brad Exp $
d21 5
@


1.7
log
@upgrade to pure-ftpd 1.0.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/01/10 20:56:15 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.8
d8 3
a10 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
d33 1
a33 1
DOCS+=	README.LDAP
d46 1
@


1.6
log
@fix post-install target, WRKSRC -> WRKBUILD.
--
Problem pointed out by: naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/12/28 05:03:27 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.7
d54 1
a54 1
	README.Virtual-Users poweredby.jpg
d56 1
a56 1
CONTRIB= xml_python_processors.txt
@


1.5
log
@concurrent separate builds work
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/12/27 20:13:45 brad Exp $
d61 1
a61 1
	${INSTALL_PROGRAM} ${WRKSRC}/configuration-file/pure-config.pl \
d63 1
a63 1
	${INSTALL_DATA} ${WRKSRC}/configuration-file/pure-ftpd.conf \
@


1.4
log
@upgrade to pure-ftpd 1.0.7
--
Adds FLAVORs for LDAP, MySQL and PostgreSQL. Tested by the author of Pure-FTPd.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/12/17 20:33:34 brad Exp $
d20 1
@


1.3
log
@add a no_banner FLAVOR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/12/17 15:56:28 brad Exp $
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.5
d22 1
a22 3
		 --with-paranoidmsg \
		 --without-ldap \
		 --without-mysql
d24 1
a24 1
FLAVORS=	no_banner
d27 21
d52 1
a52 1
DOCS=	README README.Configuration-File README.Contrib \
d65 4
@


1.2
log
@upgrade to pure-ftpd 1.0.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/12/14 16:31:32 brad Exp $
d25 7
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	pure-ftpd-1.0.4
d7 1
@


1.1.1.1
log
@add pure-ftpd port
--
Pure-FTPd is a fast, production-quality, standard-conformant FTP server,
based upon Troll-FTPd.

Unlike other popular FTP servers, it's designed to be secure in default
configuration, has no known buffer overflow, it is really trivial to set
up and it is especially designed for modern kernels.

Features include chroot()ed home directories, virtual domains, built-in
'ls', anti-warez system, bounded ports for passive downloads, FXP
protocol, bandwidth throttling, ratios, LDAP, customizable SQL, fortune
files, Apache-like log files, fast standalone mode, text / HTML / XML
real-time status report, virtual users, virtual quotas and more.
@
text
@@
