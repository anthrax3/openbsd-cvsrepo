head	1.60;
access;
symbols
	OPENBSD_6_2:1.60.0.4
	OPENBSD_6_2_BASE:1.60
	OPENBSD_6_1:1.60.0.2
	OPENBSD_6_1_BASE:1.60
	OPENBSD_6_0:1.57.0.4
	OPENBSD_6_0_BASE:1.57
	OPENBSD_5_9:1.57.0.2
	OPENBSD_5_9_BASE:1.57
	OPENBSD_5_8:1.56.0.4
	OPENBSD_5_8_BASE:1.56
	OPENBSD_5_7:1.54.0.2
	OPENBSD_5_7_BASE:1.54
	OPENBSD_5_6:1.53.0.2
	OPENBSD_5_6_BASE:1.53
	OPENBSD_5_5:1.52.0.4
	OPENBSD_5_5_BASE:1.52
	OPENBSD_5_4:1.52.0.2
	OPENBSD_5_4_BASE:1.52
	OPENBSD_5_3:1.50.0.2
	OPENBSD_5_3_BASE:1.50
	OPENBSD_5_2:1.49.0.2
	OPENBSD_5_2_BASE:1.49
	OPENBSD_5_1_BASE:1.47
	OPENBSD_5_1:1.47.0.2
	OPENBSD_5_0:1.46.0.2
	OPENBSD_5_0_BASE:1.46
	OPENBSD_4_9:1.44.0.2
	OPENBSD_4_9_BASE:1.44
	OPENBSD_4_8:1.37.0.8
	OPENBSD_4_8_BASE:1.37
	OPENBSD_4_7:1.37.0.6
	OPENBSD_4_7_BASE:1.37
	OPENBSD_4_6:1.37.0.4
	OPENBSD_4_6_BASE:1.37
	OPENBSD_4_5:1.37.0.2
	OPENBSD_4_5_BASE:1.37
	OPENBSD_4_4:1.36.0.4
	OPENBSD_4_4_BASE:1.36
	OPENBSD_4_3:1.36.0.2
	OPENBSD_4_3_BASE:1.36
	OPENBSD_4_2:1.35.0.2
	OPENBSD_4_2_BASE:1.35
	OPENBSD_4_1:1.33.0.4
	OPENBSD_4_1_BASE:1.33
	OPENBSD_4_0:1.33.0.2
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.32.0.2
	OPENBSD_3_9_BASE:1.32
	OPENBSD_3_8:1.30.0.2
	OPENBSD_3_8_BASE:1.30
	OPENBSD_3_7:1.27.0.2
	OPENBSD_3_7_BASE:1.27
	OPENBSD_3_6:1.24.0.2
	OPENBSD_3_6_BASE:1.24
	OPENBSD_3_5:1.23.0.2
	OPENBSD_3_5_BASE:1.23
	OPENBSD_3_4:1.22.0.4
	OPENBSD_3_4_BASE:1.22
	OPENBSD_3_3:1.22.0.2
	OPENBSD_3_3_BASE:1.22
	OPENBSD_3_2:1.20.0.2
	OPENBSD_3_2_BASE:1.20
	OPENBSD_3_1:1.18.0.2
	OPENBSD_3_1_BASE:1.18
	OPENBSD_3_0:1.14.0.2
	OPENBSD_3_0_BASE:1.14
	OPENBSD_2_9_TRACKING_SWITCH:1.12
	OPENBSD_2_9:1.11.0.2
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_8:1.8.0.2
	OPENBSD_2_8_BASE:1.8
	fgsch_2000-08-28:1.1.1.1
	fgsch:1.1.1;
locks; strict;
comment	@# @;


1.60
date	2017.03.17.07.15.01;	author ajacoutot;	state Exp;
branches;
next	1.59;
commitid	6J98V0hDnVHawvDu;

1.59
date	2017.02.07.01.39.59;	author gonzalo;	state Exp;
branches;
next	1.58;
commitid	nDshwFTZB5SMc0SM;

1.58
date	2016.11.04.11.35.19;	author sthen;	state Exp;
branches;
next	1.57;
commitid	Gg5LRcnQlqj5M3F7;

1.57
date	2016.01.17.17.29.10;	author sthen;	state Exp;
branches;
next	1.56;
commitid	bS2FIbTCCkF3XjOq;

1.56
date	2015.04.15.13.07.09;	author jasper;	state Exp;
branches;
next	1.55;
commitid	fcJeZ5OVcCDSiefE;

1.55
date	2015.04.14.06.48.02;	author jasper;	state Exp;
branches;
next	1.54;
commitid	UDEBJWq2o8NkuywT;

1.54
date	2015.01.19.09.14.31;	author dcoppa;	state Exp;
branches
	1.54.2.1;
next	1.53;
commitid	cZ4Axwmpwxw8FgmR;

1.53
date	2014.05.28.13.37.25;	author gonzalo;	state Exp;
branches
	1.53.2.1;
next	1.52;

1.52
date	2013.03.21.08.46.34;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2013.03.11.11.35.47;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2012.09.01.17.35.54;	author gonzalo;	state Exp;
branches;
next	1.49;

1.49
date	2012.04.28.10.52.08;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2012.03.29.13.38.48;	author sthen;	state Exp;
branches;
next	1.47;

1.47
date	2011.09.16.11.13.38;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2011.07.08.02.14.58;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2011.06.02.13.41.39;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2011.01.16.19.53.17;	author naddy;	state Exp;
branches;
next	1.43;

1.43
date	2010.12.27.14.50.22;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2010.12.24.10.40.05;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2010.11.19.22.31.33;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2010.11.11.11.15.26;	author edd;	state Exp;
branches;
next	1.39;

1.39
date	2010.11.11.10.38.46;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2010.11.11.10.32.54;	author edd;	state Exp;
branches;
next	1.37;

1.37
date	2008.11.18.21.22.02;	author pea;	state Exp;
branches;
next	1.36;

1.36
date	2007.11.17.20.39.02;	author steven;	state Exp;
branches;
next	1.35;

1.35
date	2007.07.21.08.08.51;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2007.05.15.15.09.12;	author naddy;	state Exp;
branches;
next	1.33;

1.33
date	2006.08.03.23.15.57;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2006.02.05.15.53.14;	author alek;	state Exp;
branches;
next	1.31;

1.31
date	2005.10.21.15.59.54;	author naddy;	state Exp;
branches;
next	1.30;

1.30
date	2005.08.23.21.26.26;	author pvalchev;	state Exp;
branches;
next	1.29;

1.29
date	2005.04.16.21.24.15;	author sturm;	state Exp;
branches;
next	1.28;

1.28
date	2005.04.16.15.37.31;	author sturm;	state Exp;
branches;
next	1.27;

1.27
date	2004.12.31.13.09.10;	author sturm;	state Exp;
branches
	1.27.2.1;
next	1.26;

1.26
date	2004.12.16.00.31.22;	author alek;	state Exp;
branches;
next	1.25;

1.25
date	2004.10.16.15.26.39;	author robert;	state Exp;
branches;
next	1.24;

1.24
date	2004.05.13.10.48.36;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2004.02.02.19.32.36;	author fgsch;	state Exp;
branches
	1.23.2.1;
next	1.22;

1.22
date	2002.11.24.10.04.59;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2002.10.05.21.11.09;	author fgsch;	state Exp;
branches;
next	1.20;

1.20
date	2002.04.19.23.10.14;	author fgsch;	state Exp;
branches;
next	1.19;

1.19
date	2002.04.15.11.31.21;	author fgsch;	state Exp;
branches;
next	1.18;

1.18
date	2002.04.03.14.22.02;	author fgsch;	state Exp;
branches
	1.18.2.1;
next	1.17;

1.17
date	2002.03.08.16.41.54;	author fgsch;	state Exp;
branches;
next	1.16;

1.16
date	2002.03.08.16.02.14;	author fgsch;	state Exp;
branches;
next	1.15;

1.15
date	2002.03.03.01.37.38;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2001.08.30.02.10.40;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2001.08.30.01.43.35;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2001.08.12.18.10.26;	author fgsch;	state Exp;
branches;
next	1.11;

1.11
date	2001.04.14.02.50.52;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2001.03.19.20.49.52;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	2001.03.06.06.52.40;	author fgsch;	state Exp;
branches;
next	1.8;

1.8
date	2000.10.16.13.30.33;	author fgsch;	state Exp;
branches
	1.8.2.1;
next	1.7;

1.7
date	2000.09.16.08.16.43;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2000.09.06.05.48.49;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2000.08.29.04.57.47;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2000.08.29.04.28.55;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2000.08.29.04.27.50;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2000.08.29.03.40.35;	author fgsch;	state Exp;
branches;
next	1.1;

1.1
date	2000.08.28.16.14.20;	author fgsch;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.08.28.16.14.20;	author fgsch;	state Exp;
branches;
next	;

1.8.2.1
date	2001.03.22.15.24.30;	author naddy;	state Exp;
branches;
next	;

1.18.2.1
date	2002.06.01.00.29.15;	author naddy;	state Exp;
branches;
next	;

1.23.2.1
date	2004.05.14.22.53.10;	author brad;	state Exp;
branches;
next	1.23.2.2;

1.23.2.2
date	2004.10.19.18.27.47;	author robert;	state Exp;
branches;
next	;

1.27.2.1
date	2005.10.27.20.06.09;	author sturm;	state Exp;
branches;
next	;

1.53.2.1
date	2015.04.14.06.49.35;	author jasper;	state Exp;
branches;
next	;
commitid	WeHErLxNn5YAbKLC;

1.54.2.1
date	2015.04.14.06.48.48;	author jasper;	state Exp;
branches;
next	;
commitid	0vyitZmKanNRmvJb;


desc
@@


1.60
log
@Drop MAINTAINER per his request.
@
text
@# $OpenBSD: Makefile,v 1.59 2017/02/07 01:39:59 gonzalo Exp $

COMMENT=	server for streaming various media formats
CATEGORIES=	net audio

DISTNAME=	icecast-2.4.3
REVISION=	0

HOMEPAGE=	http://www.icecast.org/

# GPL
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	http://downloads.xiph.org/releases/icecast/

WANTLIB +=	c curl>=2 crypto lzma m ogg pthread speex>=3
WANTLIB +=	ssl theora>=1 vorbis>=3 xml2 xslt>=3 z nghttp2

MODULES=	devel/gettext

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --with-theora=${LOCALBASE}
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

LIB_DEPENDS =	archivers/xz \
		audio/libvorbis \
		audio/speex \
		multimedia/libtheora \
		net/curl \
		textproc/libxslt

SEPARATE_BUILD=	Yes

.include <bsd.port.mk>
@


1.59
log
@Update for IceCast to 2.4.3:

http://www.icecast.org/news/icecast-release-2_4_3/

Maintener timeout.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2016/11/04 11:35:19 sthen Exp $
d6 2
a7 1
MAINTAINER=	Eric Lalonde <eric.c.lalonde@@gmail.com>
a8 1
DISTNAME=	icecast-2.4.3
@


1.58
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2016/01/17 17:29:10 sthen Exp $
d8 1
a8 2
DISTNAME=	icecast-2.4.2
REVISION=	2
@


1.57
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2015/04/15 13:07:09 jasper Exp $
d9 1
a9 1
REVISION=	1
d17 1
a17 1
WANTLIB +=	c curl>=2 crypto idn lzma m ogg pthread speex>=3
@


1.56
log
@- expand the chroot instructions to include mime.types to prevent a warning at startup
- use rcctl to enable the service

ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2015/04/14 06:48:02 jasper Exp $
d9 1
a9 1
REVISION=	0
d18 1
a18 1
WANTLIB +=	ssl theora>=1 vorbis>=3 xml2 xslt>=3 z
@


1.55
log
@Security update to icecast-2.4.2
* http://lists.xiph.org/pipermail/icecast-dev/2015-April/002460.html

ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2015/01/19 09:14:31 dcoppa Exp $
d9 1
@


1.54
log
@
Update to icecast-2.4.1

From (new) maintainer Eric Lalonde, tweaked by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/05/28 13:37:25 gonzalo Exp $
d8 1
a8 1
DISTNAME=	icecast-2.4.1
@


1.54.2.1
log
@Security update to icecast-2.4.2
* http://lists.xiph.org/pipermail/icecast-dev/2015-April/002460.html

ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2015/01/19 09:14:31 dcoppa Exp $
d8 1
a8 1
DISTNAME=	icecast-2.4.2
@


1.53
log
@Update for Icecast to 2.4.0:

http://svn.xiph.org/icecast/tags/icecast-2.4.0/ChangeLog

Help from sthen@@ with my bad english.

OK abieber@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/03/21 08:46:34 ajacoutot Exp $
d4 1
d6 1
a6 2
DISTNAME=	icecast-2.4.0
CATEGORIES=	net audio
d8 1
d14 1
a14 2
WANTLIB +=	c curl>=2 crypto idn m ogg pthread speex>=3 ssl theora>=1
WANTLIB +=	vorbis>=3 xml2 xslt>=3 z
d16 2
a17 1
MASTER_SITES=	http://downloads.xiph.org/releases/icecast/
d26 1
a26 2
LIB_DEPENDS =	net/curl \
		textproc/libxslt \
d29 3
a31 1
		multimedia/libtheora
@


1.53.2.1
log
@Apply security fix for CVE-2015-3026
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/05/28 13:37:25 gonzalo Exp $
a5 1
REVISION=	0
@


1.52
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/03/11 11:35:47 espie Exp $
d5 1
a5 1
DISTNAME=	icecast-2.3.3
@


1.51
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/09/01 17:35:54 gonzalo Exp $
a24 1
USE_LIBTOOL=	Yes
@


1.50
log
@Update for Icecast to 2.3.3:

* Improved HTTPS cipher handling and added support for chained certificates.
* Allow the source password to be undefined. There was a corner case,
  where a default password would have taken effect. It would require the
  admin to remove the 'source-password' from the icecast config to take
  effect. Default configs ship with the password set, so this
  vulnerability doesn't trigger there.
* Prevent error log injection of control characters by substituting
  non-alphanumeric characters with a '.' (CVE-2011-4612). Injection
  attempts can be identified via access.log, as that stores URL encoded
  requests. Investigation if further logging code needs to have
  sanitized output is ongoing.

Tested on amd64.

Reads fine aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/04/28 10:52:08 ajacoutot Exp $
a11 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.49
log
@--localstatedir=/var is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/03/29 13:38:48 sthen Exp $
d5 1
a5 2
DISTNAME=	icecast-2.3.2
REVISION=	8
@


1.48
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/09/16 11:13:38 espie Exp $
d25 1
a25 1
CONFIGURE_ARGS+= --localstatedir=/var --with-theora=${LOCALBASE}
@


1.47
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/07/08 02:14:58 ajacoutot Exp $
d36 1
a36 1
SEPARATE_BUILD=	simple
@


1.46
log
@rc_scripts -> pkg_scripts
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/06/02 13:41:39 ajacoutot Exp $
d6 1
a6 1
REVISION=	7
@


1.45
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/01/16 19:53:17 naddy Exp $
d6 1
a6 1
REVISION=	6
@


1.44
log
@drop maintainership; on behalf of mgrimm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/12/27 14:50:22 ajacoutot Exp $
d6 1
a6 1
REVISION=	5
@


1.43
log
@Simplify after recent rc.subr change.
The framework is now stable and we will start documenting it (at last).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/12/24 10:40:05 ajacoutot Exp $
d6 1
a6 1
REVISION =	4
a9 2

MAINTAINER=	Moritz Grimm <mdgrimm@@gmx.net>
@


1.42
log
@Cope with recent rc.subr changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/11/19 22:31:33 espie Exp $
d6 1
a6 1
REVISION =	3
@


1.41
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/11/11 11:15:26 edd Exp $
d6 1
a6 1
REVISION =	2
@


1.40
log
@remove reference to README in MESSAGE as requested by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/11/11 10:38:46 ajacoutot Exp $
d19 2
a20 2
WANTLIB +=	c curl.>=2 crypto idn m ogg pthread speex.>=3 ssl theora.>=1
WANTLIB +=	vorbis.>=3 xml2 xslt.>=3 z
d32 5
a36 5
LIB_DEPENDS =	::net/curl \
		::textproc/libxslt \
		::audio/libvorbis \
		::audio/speex \
		::multimedia/libtheora
@


1.39
log
@We do not hardcode /usr/local.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/11/11 10:32:54 edd Exp $
d6 1
a6 1
REVISION =	1
@


1.38
log
@clean up icecast port a little: new LIB_DEPENDS, new README style, add rc
script, make the MESSAGE more obvious, spell check README.

MAINTAINER is happy with this and OK from sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2008/11/18 21:22:02 pea Exp $
d6 1
a6 1
REVISION =	0
@


1.37
log
@Update to 2.3.2 and add the following modifications:

+ add user _icecast (home directory in /var/icecast)
+ enable chroot by default
+ populate chroot with all the necessary files

ok okan@@ sthen@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2007/11/17 20:39:02 steven Exp $
d6 1
d18 3
a20 1
WANTLIB=		c crypto idn m ogg pthread ssl xml2 z
d32 5
a36 5
LIB_DEPENDS=	curl.>=2::net/curl \
		xslt.>=3::textproc/libxslt \
		vorbis.>=3::audio/libvorbis \
		speex.>=3::audio/speex \
		theora.>=1::multimedia/libtheora
a38 5

post-install:
	${SUBST_CMD} -c ${FILESDIR}/README.OpenBSD ${WRKBUILD}/README.OpenBSD
	${INSTALL_DATA} ${WRKBUILD}/README.OpenBSD \
		${PREFIX}/share/doc/icecast/README.OpenBSD
@


1.36
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2007/07/21 08:08:51 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	icecast-2.3.1
PKGNAME=	${DISTNAME}p2
a36 4
post-build:
	@@sed -e 's,##PREFIX##,${TRUEPREFIX},g' < ${FILESDIR}/README.OpenBSD > \
		${WRKBUILD}/README.OpenBSD

d38 1
@


1.35
log
@- update MAINTAINER's email address as per his request
- remove quotes around COMMENT while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2007/05/15 15:09:12 naddy Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d18 1
a18 1
WANTLIB=		c crypto iconv idn m ogg pthread ssl xml2 z
d21 2
@


1.34
log
@chase wantlib changes after curl update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2006/08/03 23:15:57 espie Exp $
d3 1
a3 1
COMMENT=	"server for streaming various media formats"
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d11 1
a11 1
MAINTAINER=	Moritz Grimm <gtgbr@@gmx.net>
@


1.33
log
@new style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2006/02/05 15:53:14 alek Exp $
d6 1
d18 1
a18 1
WANTLIB=		c crypto iconv m ogg pthread ssl xml2 z
@


1.32
log
@- Update to 2.3.1
- Reformat DESCR
- Remove snprintf patches

From Moritz Grimm <gtgbr@@gmx.net> (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2005/10/21 15:59:54 naddy Exp $
d27 5
a31 5
LIB_DEPENDS=	curl.2::net/curl \
		xslt.3::textproc/libxslt \
		vorbis.3::audio/libvorbis \
		speex.3::audio/speex \
		theora.1::multimedia/libtheora
@


1.31
log
@Update to 2.3.0 from maintainer Moritz Grimm.

New features:
  * Support Ogg Speex, Ogg FLAC, Ogg Midi
  * Intro file support
  * On-demand relays
  * Improved mount-level settings
  * URL listener authenticator
  * Authentication for on-demand files
  * Updated admin/web interface
  * Various reliability bug fixes

Port changes:
  * Ogg Theora streaming is now enabled
  * Revamped README.OpenBSD file, tightened DESCR
  * <fileserve> directive not disabled any longer in icecast.xml.dist
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2005/08/23 21:26:26 pvalchev Exp $
d3 1
a3 1
COMMENT=	"server for streaming Ogg Vorbis and MP3"
d5 1
a5 1
DISTNAME=	icecast-2.3.0
@


1.30
log
@another busted snprintf; maintainer Moritz Grimm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/04/16 21:24:15 sturm Exp $
d5 1
a5 2
DISTNAME=	icecast-2.2.0
PKGNAME=	${DISTNAME}p2
d19 1
a19 1
MASTER_SITES=	http://downloads.us.xiph.org/releases/icecast/
d22 1
a22 1
CONFIGURE_ARGS+= --localstatedir=/var --without-theora
d26 1
d29 3
a31 1
		vorbis.3::audio/libvorbis
@


1.29
log
@more cleanup from maintainer Moritz Grimm <gtgbr at gmx.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/04/16 15:37:31 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.28
log
@convert simple sprintf() to snprintf()

from maintainer Moritz Grimm <gtgbr at gmx.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/12/31 13:09:10 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.27
log
@update to icecast 2.2.0

from Moritz Grimm <mlist at scapa.dnsalias.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/12/16 00:31:22 alek Exp $
d6 1
@


1.27.2.1
log
@bump PKGNAMEs for new packages after libcurl update

discussed with pval
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/12/31 13:09:10 sturm Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.26
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/10/16 15:26:39 robert Exp $
d5 1
a5 1
DISTNAME=	icecast-2.0.2
d19 1
a19 1
MASTER_SITES=	http://svn.xiph.org/releases/icecast/
d22 1
a22 1
CONFIGURE_ARGS+= --localstatedir=/var
d27 2
a28 2
		xslt.1::textproc/libxslt \
		vorbis.2,vorbisenc.2::audio/libvorbis
@


1.25
log
@SECURITY:
upgrade to 2.0.2;
It is possible to execute remote code simply using HTTP request plus
31 headers followed by a shellcode that will be executed directly.

ok maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/05/13 10:48:36 naddy Exp $
d17 1
@


1.24
log
@SECURITY: update to 2.0.1
This patch release fixes a overflow buffer which can cause server crashes
under certain circumstances.

ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2004/02/02 19:32:36 fgsch Exp $
d5 1
a5 1
DISTNAME=	icecast-2.0.1
d18 1
a18 1
MASTER_SITES=	http://icecast.org/files/
@


1.23
log
@update to icecast 2.0 now that is considered stable.
done by and new maintainer Moritz Grimm <gtgbr at gmx dot net>.
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	icecast-2.0.0
@


1.23.2.1
log
@SECURITY: update to 2.0.1
This patch release fixes a overflow buffer which can cause server crashes
under certain circumstances.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2004/02/02 19:32:36 fgsch Exp $
d5 1
a5 1
DISTNAME=	icecast-2.0.1
@


1.23.2.2
log
@SECURITY:
upgrade to 2.0.2;
It is possible to execute remote code simply using HTTP request plus
31 headers followed by a shellcode that will be executed directly.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23.2.1 2004/05/14 22:53:10 brad Exp $
d5 1
a5 1
DISTNAME=	icecast-2.0.2
d18 1
a18 1
MASTER_SITES=	http://svn.xiph.org/releases/icecast/
@


1.22
log
@- make the icecast port respect SYSCONFDIR.
- remove ONLY_FOR_ARCHS.
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.21 2002/10/05 21:11:09 fgsch Exp $
# Uses pthreads
d3 1
a3 1
COMMENT=	"Internet based broadcasting system"
d5 1
a5 1
DISTNAME=	icecast-1.3.12
a6 1
MASTER_SITES=	http://www.icecast.org/releases/
d10 1
a10 1
MAINTAINER=	Federico Schwindt <fgsch@@openbsd.org>
d12 1
d18 2
d21 13
a33 3
CONFIGURE_ARGS=	--with-crypt --with-libwrap

DOCS=	AUTHORS BUGS CHANGES COPYING FAQ README
d36 2
a37 1
	cd ${WRKSRC}; ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/icecast
@


1.21
log
@byebye NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2002/04/19 23:10:14 fgsch Exp $
a5 4
# archs that have pthreads library in
# good enough shape to run this app.
ONLY_FOR_ARCHS=	i386 sparc

a18 1
SYSCONFDIR=	/etc/icecast
@


1.20
log
@bump version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/04/15 11:31:21 fgsch Exp $
a11 1
NEED_VERSION=	1.524
@


1.19
log
@security update: icecast 1.3.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/04/03 14:22:02 fgsch Exp $
d12 1
a12 1
NEED_VERSION=	1.500
@


1.18
log
@security problem, mark it a broken; reported by jsyn@@, espie@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/03/08 16:41:54 fgsch Exp $
a3 2
BROKEN=		"security problem"

d10 1
a10 1
DISTNAME=	icecast-1.3.11
@


1.18.2.1
log
@MFC:
security update to 1.3.12
@
text
@d1 1
a1 1
# $OpenBSD$
d4 2
d12 1
a12 1
DISTNAME=	icecast-1.3.12
d14 1
a14 1
NEED_VERSION=	1.522
@


1.17
log
@reenable crypt support and point to encrypt(1) to produce the crypted
passwords.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/03/08 16:02:14 fgsch Exp $
d3 2
@


1.16
log
@revert CONFIGURE_STYLE to gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/03/03 01:37:38 brad Exp $
d26 1
a26 4
CONFIGURE_ARGS= --with-libwrap

# disabled for now
# --with-crypt
@


1.15
log
@- enable on sparc, lightly tested
- fix CATEGORIES, this doesn't belong in www
- disable crypt support until the utility needed for making the passwds is
included
- rename checksums file
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/08/30 02:10:40 brad Exp $
d25 1
a25 1
CONFIGURE_STYLE= autoconf
@


1.14
log
@add a comment to doucment a few ports which use pthreads
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/08/30 01:43:35 brad Exp $
d8 1
a8 1
ONLY_FOR_ARCHS=	i386
d11 2
a12 2
CATEGORIES=	net audio www
NEED_VERSION=	1.435
d25 5
a29 2
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--with-crypt --with-libwrap
@


1.13
log
@mark these ports with ONLY_FOR_ARCHS= i386 for now since that is the only
arch known to be able to run these apps.
@
text
@d1 2
a2 1
# $OpenBSD: Makefile,v 1.12 2001/08/12 18:10:26 fgsch Exp $
@


1.12
log
@Icecast 1.3.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/04/14 02:50:52 brad Exp $
d3 1
a3 3
.if ${MACHINE_ARCH} == "sparc" || ${MACHINE_ARCH} == "powerpc"
BROKEN=		"pthreads are currently not working on the ${MACHINE_ARCH} architecture"
.endif
d5 3
a7 1
COMMENT=	"Internet based broadcasting system"
d11 1
a11 1
NEED_VERSION=	1.434
@


1.11
log
@- mark BROKEN on powerpc for the same reason sparc is.
- integrate COMMENT
- bump NEED_VERSION
--
Ok'd by: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/03/19 20:49:52 fgsch Exp $
d9 1
a9 1
DISTNAME=	icecast-1.3.10
d11 1
a11 1
NEED_VERSION=	1.384
@


1.10
log
@Security updatei: upd. to 1.3.10; fixes several problems reported
to bugtraq recently plus some other issues.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/03/06 06:52:40 fgsch Exp $
d3 2
a4 2
.if ${MACHINE_ARCH} == "sparc"
BROKEN=		"pthreads are currently not working on the SPARC architecture"
d7 2
d11 1
a11 1
NEED_VERSION=	1.358
@


1.9
log
@Remove icepass; use encrypt(1) instead.
Regen patches and bump version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/10/16 13:30:33 fgsch Exp $
d7 1
a7 1
DISTNAME=	icecast-1.3.7
@


1.8
log
@add real names to MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/09/16 08:16:43 brad Exp $
d9 1
a9 1
NEED_VERSION=	1.324
a25 3

post-patch:
	@@cp ${FILESDIR}/icepass.c ${WRKSRC}/src
@


1.8.2.1
log
@MFC:
Security update to 1.3.10; fixes several problems reported
to BugTraq recently, plus some other issues.
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
DISTNAME=	icecast-1.3.10
d9 1
a9 1
NEED_VERSION=	1.340
d26 3
@


1.7
log
@ONLY_FOR_ARCH -> BROKEN on SPARC
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/09/06 05:48:49 brad Exp $
d14 1
a14 1
MAINTAINER=	fgsch@@openbsd.org
@


1.6
log
@remove SYSCONFDIR from SUBST_VARS and SUBST_VARS too if no other variables
are listed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/08/29 04:57:47 brad Exp $
d3 3
a5 1
ONLY_FOR_ARCH=	i386
@


1.5
log
@use libwrap
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/08/29 04:28:55 brad Exp $
d3 1
a3 1
#ONLY_FOR_ARCH=	i386
d7 1
a7 1
NEED_VERSION=	1.320
a19 2
SUBST_VARS=	SYSCONFDIR

@


1.4
log
@correct order of CATEGORIES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/08/29 04:27:50 brad Exp $
d3 1
a3 1
ONLY_FOR_ARCH=	i386
d23 1
a23 1
CONFIGURE_ARGS=	--with-crypt
d31 1
a31 1
	cd ${WRKSRC}; $(INSTALL_DATA) $(DOCS) ${PREFIX}/share/doc/icecast
@


1.3
log
@- substiture SYSCONFDIR into DEINSTALL/INSTALL
- using FAKE means you don't have to remove files/dirs durring install
that you do not want in the package, just don't include them in the PLIST
- unconditionally show DEINSTALL message, just because SYSCONFDIR has been
removed doesn't mean that LOG_DIR has too
- ${FOO} -> $FOO and add $SAMPLE_CONFIG_DIR to INSTALL script
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/08/29 03:40:35 fgsch Exp $
d6 1
a6 1
CATEGORIES=	audio net www
@


1.2
log
@Add missing program to generate encrypted passwords using blowfish
with 8 rounds by default.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/08/28 16:14:20 fgsch Exp $
d7 1
a7 1
NEED_VERSION=	1.310
a8 1
MAINTAINER=	fgsch@@openbsd.org
d10 1
a10 1
ONLY_FOR_ARCH=	i386
d12 1
a12 1
HOMEPAGE=	http://www.icecast.org/
d19 3
d23 1
a23 1
CONFIGURE_ARGS+= --with-crypt
d25 1
a25 1
DOCFILES=	AUTHORS BUGS CHANGES COPYING FAQ README
d31 1
a31 4
	@@rm -f ${PREFIX}/share/icecast/templates/manual.html
	@@rmdir ${PREFIX}/share/icecast/static
	cd ${WRKSRC} && $(INSTALL_DATA) $(DOCFILES) \
	    ${PREFIX}/share/doc/icecast
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d22 3
@


1.1.1.1
log
@Internet based broadcasting system.
@
text
@@
