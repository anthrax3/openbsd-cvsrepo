head	1.3;
access;
symbols
	OPENBSD_6_0:1.2.0.4
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.1.0.10
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.6
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2016.08.20.19.05.25;	author jca;	state Exp;
branches;
next	1.2;
commitid	6gJMMj8Ur8HUK8r4;

1.2
date	2015.09.11.11.47.41;	author jca;	state Exp;
branches;
next	1.1;
commitid	3z4v5SeBm5BQC54X;

1.1
date	2013.10.09.07.33.41;	author jca;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to mosh-1.2.6

Amend HOMEPAGE while here.
@
text
@$OpenBSD: patch-src_crypto_ocb_cc,v 1.2 2015/09/11 11:47:41 jca Exp $
Use generic code on ARM instead of asm because of some unsupported
instructions.
Introduced by https://github.com/keithw/mosh/issues/86
--- src/crypto/ocb.cc.orig	Wed May 25 06:13:12 2016
+++ src/crypto/ocb.cc	Mon Jun  6 18:20:54 2016
@@@@ -320,7 +320,7 @@@@
         return swap_if_le(rval);
 	}
 
-	#if __GNUC__ && !__clang__ && __arm__
+	#if 0
 	static inline block double_block(block b) {
 		__asm__ ("adds %1,%1,%1\n\t"
 				 "adcs %H1,%H1,%H1\n\t"
@


1.2
log
@Update to mosh-1.2.5

Remove patches committed upstream, and add a note about a regression
regarding JuiceSSH and mosh-1.2.5 (from sthen@@).  A similar update diff
was proposed by "Fred" (openbsd at crowsons dot com).
@
text
@d1 1
a1 1
$OpenBSD: patch-src_crypto_ocb_cc,v 1.1 2013/10/09 07:33:41 jca Exp $
d5 3
a7 3
--- src/crypto/ocb.cc.orig	Sat Jun 27 00:28:46 2015
+++ src/crypto/ocb.cc	Mon Jun 29 23:20:32 2015
@@@@ -298,7 +298,7 @@@@
@


1.1
log
@On ARM, use generic C code (as on !amd64) instead of inline asm which
fails to build.  While here, enable tests.  No bump since no change on
other archs.  Reported by Juan Francisco Cantero Hurtado, thanks!
ok dcoppa@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 2
a6 2
--- src/crypto/ocb.cc.orig	Tue Oct  8 11:57:42 2013
+++ src/crypto/ocb.cc	Tue Oct  8 11:58:01 2013
d11 1
a11 1
-	#if __GNUC__ && __arm__
@

