head	1.2;
access;
symbols
	OPENBSD_3_3:1.1.0.2
	OPENBSD_3_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2003.03.28.21.34.40;	author david;	state dead;
branches;
next	1.1;

1.1
date	2003.01.22.07.30.26;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update micq to 0.4.10.2 (bug fix and translation update release)
my snprintf and spelling patches were integrated
ok pvalchev@@
@
text
@$OpenBSD: patch-src_cmd_user_c,v 1.1 2003/01/22 07:30:26 pvalchev Exp $
--- src/cmd_user.c.orig	Tue Jan  7 09:30:33 2003
+++ src/cmd_user.c	Tue Jan 21 19:25:16 2003
@@@@ -2959,7 +2959,7 @@@@ static JUMP_F(CmdUserURL)
         msg = "";
 
     IMCliMsg (conn, cont, ExtraSet (NULL, EXTRA_MESSAGE, MSG_URL,
-              s_sprintf ("%s%c%s", url, ConvSep (), msg)));
+              s_sprintf ("%s%c%s", msg, ConvSep (), url)));
 
     free (url);
     return 0;
@@@@ -3833,12 +3833,12 @@@@ static int CmdUserProcessAlias (const ch
             ptr = strstr (exp, "%s");
             *ptr = '\0';
             
-            sprintf (cmdline, "%s%s%s", exp, argsd, ptr + 2);
+            snprintf (cmdline, sizeof(cmdline), "%s%s%s", exp, argsd, ptr + 2);
 
             free (exp);
         }
         else
-            sprintf (cmdline, "%s %s", alias->expansion, argsd);
+            snprintf (cmdline, sizeof(cmdline), "%s %s", alias->expansion, argsd);
 
         recurs_level++;
         CmdUserProcess (cmdline, idle_val, idle_flag);
@


1.1
log
@use snprintf; from maintainer David Krause
@
text
@d1 1
a1 1
$OpenBSD$
@

