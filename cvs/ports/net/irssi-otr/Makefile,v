head	1.7;
access;
symbols
	OPENBSD_6_0:1.7.0.2
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.4.0.6
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	sthen_20140521:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2016.03.18.21.38.25;	author naddy;	state Exp;
branches;
next	1.6;
commitid	BVkebQSTXSZokeRG;

1.6
date	2016.03.13.14.41.30;	author sthen;	state Exp;
branches;
next	1.5;
commitid	54H68wxI38KspMgz;

1.5
date	2015.12.29.22.45.48;	author sthen;	state Exp;
branches;
next	1.4;
commitid	2pDgDJzHLTdQm3Qv;

1.4
date	2015.01.12.00.13.53;	author jca;	state Exp;
branches;
next	1.3;
commitid	golCmmFVLvMgUS7h;

1.3
date	2014.07.10.11.06.37;	author rpe;	state Exp;
branches;
next	1.2;
commitid	UVCzewnjNLIrNVIt;

1.2
date	2014.05.21.15.48.13;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2014.05.21.15.40.54;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2014.05.21.15.40.54;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.7
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@# $OpenBSD: Makefile,v 1.6 2016/03/13 14:41:30 sthen Exp $

COMMENT =	OTR (off the record) encryption support for irssi

V =		1.0.1
REVISION =	1
DISTNAME =	irssi-otr-$V

CATEGORIES =	net security

HOMEPAGE =	https://github.com/cryptodotis/irssi-otr

MAINTAINER =	Florian Stinglmayr <florian@@n0la.org>

# GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c gcrypt gpg-error otr pthread

MASTER_SITES =	https://www.otr.im/dist/irssi-otr/
EXTRACT_SUFX = 	.tar.bz2

MODULES =	devel/gettext

BUILD_DEPENDS =	net/irssi>=0.8.15p5 \
		devel/libtool \
		${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}

LIB_DEPENDS =	security/libgcrypt \
		security/libotr>=4.0.0
RUN_DEPENDS =	net/irssi

CONFIGURE_STYLE =	gnu
AUTOCONF_VERSION =	2.69
AUTOMAKE_VERSION =	1.9
NO_TEST =		Yes

MAKE_FLAGS =		IRSSI_DIST="$(LOCALBASE)/include/irssi"

# libtool.m4 required for build, but also loading the module into irssi
# fails with /usr/bin/libtool as of 20140521
USE_LIBTOOL =		gnu

LIBTOOL_FLAGS +=	--tag=disable-static
CONFIGURE_ARGS +=	--with-libotr-inc-prefix=${LOCALBASE}/include

post-patch:
	cd ${WRKSRC} && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		autoreconf -i

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/irssi/
	${INSTALL_DATA} ${WRKSRC}/README.md \
	    ${PREFIX}/share/doc/irssi/otr-plugin.txt

.include <bsd.port.mk>
@


1.6
log
@cope with irssi 0.8.18, from maintainer Florian Stinglmayr
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.5 2015/12/29 22:45:48 sthen Exp $

SHARED_ONLY =	Yes
@


1.5
log
@bump irssi plugins for the update; future irssi updates should no longer
need explicit bumps due to the new PKGSPEC
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/01/12 00:13:53 jca Exp $
d8 1
a8 1
REVISION =	0
@


1.4
log
@Maintainer update to irssi-otr-1.0.1

Fix for an assertion when using otr and xmpp.
From Florian Stinglmayr.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2014/07/10 11:06:37 rpe Exp $
d8 1
@


1.3
log
@Move ports that used filename{url}sufx to fetch DISTFILES from
Github to GH_ACCOUNT, GH_PROJECT, GH_TAGNAME, GH_COMMIT.

OK sthen@@ jasper@@ aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/05/21 15:48:13 sthen Exp $
d7 2
a8 7
V =		1.0.0
GH_ACCOUNT =	cryptodotis
GH_PROJECT =	irssi-otr
GH_TAGNAME =	v$V
GH_COMMIT =	d7a88b6697951727a2fa34b7d3d3543b0e5a2ecc
REVISION =	0
DISTNAME =	${GH_PROJECT}-$V
d20 3
@


1.2
log
@Install upstream README in the irssi doc dir (as otr-plugin.txt) and
tweak pkg-readme to direct people at it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2014/05/21 15:40:54 sthen Exp $
d7 5
a11 1
GH_VER =	1.0.0
d13 1
a13 1
DISTNAME =	irssi-otr-${GH_VER}
a26 3

MASTER_SITES =	${HOMEPAGE}/archive/
DISTFILES =	${DISTNAME}{v${GH_VER}}${EXTRACT_SUFX}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.68 2013/10/02 07:34:45 ajacoutot Exp $
d8 1
d55 5
@


1.1.1.1
log
@import ports/net/irssi-otr, tweaked from a submission by Florian Stinglmayr
using a README from another submission by Vladimir Seleznev. ok landry@@


IRSSI support for Off-The-Record (http://www.cypherpunks.ca/otr/)
messaging, allowing you to have private conversations over instant
messaging by providing:

Encryption
 * No one else can read your instant messages.

Authentication
 * You are assured the correspondent is who you think it is.

Deniability
 * The messages you send do not have digital signatures that are
   checkable by a third party. Anyone can forge messages after a
   conversation to make them look like they came from you. However,
   during a conversation, your correspondent is assured the messages
   he sees are authentic and unmodified.

Perfect forward secrecy
 * If you lose control of your private keys, no previous conversation is
   compromised.
@
text
@@
