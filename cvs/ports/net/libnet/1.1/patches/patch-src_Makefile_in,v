head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.36
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.4.0.34
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.32
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.28
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.30
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.26
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.24
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.22
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.20
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.18
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.16
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.14
	OPENBSD_5_0:1.4.0.12
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.10
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.8
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.6
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.4
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.2
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.3.0.12
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.10
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.8
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.6
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.4
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.2
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2008.11.08.22.09.40;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2005.12.31.14.03.28;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2005.05.24.06.54.20;	author mjc;	state Exp;
branches;
next	1.1;

1.1
date	2005.05.23.23.50.40;	author msf;	state Exp;
branches;
next	;


desc
@@


1.4
log
@regenerate patches in order that the next commit is more
readable; no package change.
@
text
@$OpenBSD: patch-src_Makefile_in,v 1.3 2005/12/31 14:03:28 steven Exp $
--- src/Makefile.in.orig	Thu Mar 11 18:50:20 2004
+++ src/Makefile.in	Sat Nov  8 22:07:59 2008
@@@@ -43,10 +43,10 @@@@ datadir = @@datadir@@
 sysconfdir = @@sysconfdir@@
 sharedstatedir = @@sharedstatedir@@
 localstatedir = @@localstatedir@@
-libdir = @@libdir@@
+libdir = @@libdir@@/libnet-1.1
 infodir = @@infodir@@
 mandir = @@mandir@@
-includedir = @@includedir@@
+includedir = @@includedir@@/libnet-1.1
 oldincludedir = /usr/include
 pkgdatadir = $(datadir)/@@PACKAGE@@
 pkglibdir = $(libdir)/@@PACKAGE@@
@@@@ -109,8 +109,10 @@@@ AUTOMAKE_OPTIONS = foreign no-dependencies
 
 DISTCLEANFILES = *~
 
-lib_LIBRARIES = libnet.a
+SHLIB= libnet.so.$(LIBnet_VERSION)
 
+lib_LIBRARIES = libnet.a $(SHLIB)
+
 libnet_a_SOURCES = libnet_asn1.c \
 			libnet_build_802.1q.c \
 			libnet_build_802.1x.c \
@@@@ -203,6 +205,8 @@@@ am_libnet_a_OBJECTS = libnet_asn1.$(OBJEXT) \
 	libnet_raw.$(OBJEXT) libnet_resolve.$(OBJEXT) \
 	libnet_version.$(OBJEXT) libnet_write.$(OBJEXT)
 libnet_a_OBJECTS = $(am_libnet_a_OBJECTS)
+SHOBJECTS=	$(am_libnet_a_OBJECTS:S/.o/.so/) $(libnet_a_LIBADD:S/.o/.so/)
+PICFLAG= -fPIC
 
 DEFS = @@DEFS@@
 DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir)/include
@@@@ -226,7 +230,7 @@@@ SOURCES = $(libnet_a_SOURCES) $(EXTRA_libnet_a_SOURCES
 all: all-am
 
 .SUFFIXES:
-.SUFFIXES: .c .o .obj
+.SUFFIXES: .c .o .so .obj
 $(srcdir)/Makefile.in: @@MAINTAINER_MODE_TRUE@@ Makefile.am $(top_srcdir)/Makefile.am.common $(top_srcdir)/configure.in $(ACLOCAL_M4)
 	cd $(top_srcdir) && \
 	  $(AUTOMAKE) --foreign  src/Makefile
@@@@ -249,8 +253,6 @@@@ install-libLIBRARIES: $(lib_LIBRARIES)
 	@@list='$(lib_LIBRARIES)'; for p in $$list; do \
 	  if test -f $$p; then \
 	    p="`echo $$p | sed -e 's|^.*/||'`"; \
-	    echo " $(RANLIB) $(DESTDIR)$(libdir)/$$p"; \
-	    $(RANLIB) $(DESTDIR)$(libdir)/$$p; \
 	  else :; fi; \
 	done
 
@@@@ -269,6 +271,10 @@@@ libnet.a: $(libnet_a_OBJECTS) $(libnet_a_DEPENDENCIES)
 	$(libnet_a_AR) libnet.a $(libnet_a_OBJECTS) $(libnet_a_LIBADD)
 	$(RANLIB) libnet.a
 
+$(SHLIB): $(SHOBJECTS) $(libnet_a_DEPENDENCIES) 
+	-rm -f $(SHLIB)
+	$(CC) -shared $(PICFLAG) -o $(SHLIB) $(SHOBJECTS)
+
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT) core *.core
 
@@@@ -277,6 +283,9 @@@@ distclean-compile:
 
 .c.o:
 	$(COMPILE) -c `test -f '$<' || echo '$(srcdir)/'`$<
+
+.c.so:
+	$(COMPILE) $(PICFLAG) -DPIC -c `test -f '$<' || echo '$(srcdir)/'`$< -o $@@
 
 .c.obj:
 	$(COMPILE) -c `cygpath -w $<`
@


1.3
log
@SHARED_LIBS
@
text
@d1 3
a3 3
$OpenBSD: patch-src_Makefile_in,v 1.2 2005/05/24 06:54:20 mjc Exp $
--- src/Makefile.in.orig	Thu Mar 11 10:50:20 2004
+++ src/Makefile.in	Mon May 23 23:36:28 2005
d17 1
a17 1
@@@@ -109,8 +109,10 @@@@ AUTOMAKE_OPTIONS = foreign no-dependenci
d29 1
a29 1
@@@@ -203,6 +205,8 @@@@ am_libnet_a_OBJECTS = libnet_asn1.$(OBJE
d38 1
a38 1
@@@@ -226,7 +230,7 @@@@ SOURCES = $(libnet_a_SOURCES) $(EXTRA_li
d56 1
a56 1
@@@@ -269,6 +271,10 @@@@ libnet.a: $(libnet_a_OBJECTS) $(libnet_a
@


1.2
log
@add missing objects to shared library
fixup paths and such specified by libnet-config-1.1
ok msf@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_Makefile_in,v 1.1 2005/05/23 23:50:40 msf Exp $
d22 1
a22 1
+SHLIB= libnet.so.$(SHLIB_VERSION)
@


1.1
log
@- split libnet port into two versions
- worked on by myself, pvalchev and mjc

"put it in" pvalchev@@
@
text
@d1 3
a3 3
$OpenBSD$
--- src/Makefile.in.orig	Thu Mar 11 11:50:20 2004
+++ src/Makefile.in	Sat Oct 23 13:21:53 2004
d33 1
a33 1
+SHOBJECTS=	$(am_libnet_a_OBJECTS:S/.o/.so/)
@

