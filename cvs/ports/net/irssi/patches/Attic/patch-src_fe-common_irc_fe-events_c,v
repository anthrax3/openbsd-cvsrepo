head	1.3;
access;
symbols
	OPENBSD_4_5:1.1.0.4
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2009.09.11.09.52.57;	author jolan;	state dead;
branches;
next	1.2;

1.2
date	2009.09.10.21.31.42;	author martynas;	state Exp;
branches;
next	1.1;

1.1
date	2009.06.22.00.22.57;	author sthen;	state Exp;
branches
	1.1.4.1;
next	;

1.1.4.1
date	2009.08.19.02.51.18;	author william;	state Exp;
branches;
next	;


desc
@@


1.3
log
@rm 0 byte patch
@
text
@@


1.2
log
@update to irssi-0.8.14;  api compatible with 0.8.13 - doesn't affect
plugins.  from Simon Kuhnle.  maintainer timeout
ok sthen@@
@
text
@@


1.1
log
@Patch CVE-2009-1959, out of bounds access in irc event_wallops().
Could at least be a crash, but may be SECURITY. From upstream repo;
ok martynas@@
@
text
@a0 15
$OpenBSD$

from SVN r5068; fix out of bounds access in event_wallops().

--- src/fe-common/irc/fe-events.c.orig	Sun Jun 21 23:32:51 2009
+++ src/fe-common/irc/fe-events.c	Sun Jun 21 23:33:22 2009
@@@@ -298,7 +298,7 @@@@ static void event_wallops(IRC_SERVER_REC *server, cons
 
 		tmp = g_strdup(data+8);
 		len = strlen(tmp);
-		if (tmp[len-1] == 1) tmp[len-1] = '\0';
+		if (len >= 1 && tmp[len-1] == 1) tmp[len-1] = '\0';
 		printformat(server, NULL, MSGLEVEL_WALLOPS, IRCTXT_ACTION_WALLOPS, nick, tmp);
 		g_free(tmp);
 	}
@


1.1.4.1
log
@SECURITY FIX

MFC two patchfiles from -current that apply against this previous
release:

revision 1.41
fix /uptime; it assumed that time_t is long.
from Jona Joachim via viq (maintainer).

revision 1.40
Patch CVE-2009-1959, out of bounds access in irc event_wallops().
Could at least be a crash, but may be SECURITY. From upstream repo;

ok robert@@
@
text
@a2 1
Fix CVE-2009-1959:
d5 3
a7 3
--- src/fe-common/irc/fe-events.c.orig	Sat Oct  6 05:38:19 2007
+++ src/fe-common/irc/fe-events.c	Tue Jul 14 10:38:20 2009
@@@@ -278,7 +278,7 @@@@ static void event_wallops(IRC_SERVER_REC *server, cons
@

