head	1.5;
access;
symbols
	OPENBSD_5_5:1.4.0.10
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.8
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.6
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.4
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.2
	OPENBSD_3_5:1.2.0.4
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_4:1.1.0.2
	OPENBSD_3_4_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2014.06.02.16.50.42;	author sthen;	state dead;
branches;
next	1.4;
commitid	xrHPdyoqipq1W2DI;

1.4
date	2011.11.16.10.16.57;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2004.05.23.22.38.39;	author jolan;	state dead;
branches;
next	1.2;

1.2
date	2003.12.14.03.25.19;	author margarida;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2003.06.04.16.00.55;	author jolan;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2003.12.14.04.14.31;	author margarida;	state Exp;
branches;
next	;

1.2.2.1
date	2003.12.14.05.54.32;	author margarida;	state Exp;
branches;
next	;


desc
@@


1.5
log
@update to irssi 0.8.16, from viq (maintainer), and remove no-longer-used
function pointed out by viq but not in his original diff
@
text
@$OpenBSD: patch-src_core_servers_c,v 1.4 2011/11/16 10:16:57 sthen Exp $
--- src/core/servers.c.orig	Sun Nov  6 04:54:16 2011
+++ src/core/servers.c	Sun Nov  6 04:54:22 2011
@@@@ -419,8 +419,8 @@@@ int server_start_connect(SERVER_REC *server)
 			return FALSE;
 		}
 
-		server->connect_pipe[0] = g_io_channel_unix_new(fd[0]);
-		server->connect_pipe[1] = g_io_channel_unix_new(fd[1]);
+		server->connect_pipe[0] = g_io_channel_new(fd[0]);
+		server->connect_pipe[1] = g_io_channel_new(fd[1]);
 
 		connect_address = server->connrec->proxy != NULL ?
 			server->connrec->proxy : server->connrec->address;
@


1.4
log
@Various tweaks to the irssi port, from Brad. Tested by a few people,
viq (maintainer) doesn't have time to look at it properly but is
generally ok with this.

- Remove USE_GROFF
- Remove --enable-ipv6 from CONFIGURE_ARGS since its enabled by default
- Backport fixes from SVN repo..
  - Replace deprecated glib functions
  - Do not go beyond the end of the string when processing an octal escape
  - glib iochannel fixes
  - Fix segfault generated by SSL disconnections
  - Do not use SSLv2 protocol
  - When sending a signal to an /exec'd command, send it to the process
    group id instead of the process id.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.3
log
@dont make resolve_prefer_ipv6 the default, it doesnt do the right thing
@
text
@d1 6
a6 4
$OpenBSD: patch-src_core_servers_c,v 1.2 2003/12/14 03:25:19 margarida Exp $
--- src/core/servers.c.orig	Wed Dec 10 10:07:18 2003
+++ src/core/servers.c	Wed Dec 10 10:05:43 2003
@@@@ -690,7 +690,7 @@@@
d8 4
a11 6
 void servers_init(void)
 {
-	settings_add_bool("server", "resolve_prefer_ipv6", FALSE);
+	settings_add_bool("server", "resolve_prefer_ipv6", TRUE);
 	settings_add_bool("server", "resolve_reverse_lookup", FALSE);
 	lookup_servers = servers = NULL;
d13 2
@


1.2
log
@Update irssi to version 0.8.9
--
This release fixes a bug that could lead to a remote crash.
Users using irssi on non x86 arches are urged to upgrade.
Also fixes a bug in window layout restoring queries that could
also cause a crash in all arches.

Based on submission from Robert Nagy <thuglife@@bsd.hu> with mods
from me.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2.2.1
log
@MFC:
Update irssi to version 0.8.9
--
This release fixes a bug that could lead to a remote crash.
Users using irssi on non x86 arches are urged to upgrade.
Also fixes a bug in window layout restoring queries that could
also cause a crash in all arches.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_core_servers_c,v 1.1.2.1 2003/12/14 04:14:31 margarida Exp $
@


1.1
log
@sync ipv6 behavior w/silc-client.  no response from maintainer
@
text
@d2 3
a4 3
--- src/core/servers.c.orig	Sat Sep 14 18:00:06 2002
+++ src/core/servers.c	Sun Jun  1 11:59:59 2003
@@@@ -665,7 +665,7 @@@@ static void sig_chat_protocol_deinit(CHA
d10 1
a12 1
 	signal_add("chat protocol deinit", (SIGNAL_FUNC) sig_chat_protocol_deinit);
@


1.1.2.1
log
@MFC:
Update irssi to version 0.8.9
--
This release fixes a bug that could lead to a remote crash.
Users using irssi on non x86 arches are urged to upgrade.
Also fixes a bug in window layout restoring queries that could
also cause a crash in all arches.
@
text
@d2 3
a4 3
--- src/core/servers.c.orig	Wed Dec 10 10:07:18 2003
+++ src/core/servers.c	Wed Dec 10 10:05:43 2003
@@@@ -690,7 +690,7 @@@@
a9 1
 	settings_add_bool("server", "resolve_reverse_lookup", FALSE);
d12 1
@


