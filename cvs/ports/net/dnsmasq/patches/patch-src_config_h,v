head	1.19;
access;
symbols
	OPENBSD_6_1:1.18.0.4
	OPENBSD_6_1_BASE:1.18
	OPENBSD_6_0:1.18.0.2
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.17.0.2
	OPENBSD_5_9_BASE:1.17
	OPENBSD_5_8:1.17.0.4
	OPENBSD_5_8_BASE:1.17
	OPENBSD_5_7:1.16.0.2
	OPENBSD_5_7_BASE:1.16
	OPENBSD_5_6:1.15.0.2
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.13.0.2
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.11.0.2
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.9.0.2
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.4
	OPENBSD_5_0:1.8.0.2
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.7.0.6
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.4
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.2
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.6.0.2
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.5.0.4
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.1.1.0.8
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.6
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.4
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.2
	OPENBSD_3_8_BASE:1.1.1.1
	alek_20050523:1.1.1.1
	alek:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2017.06.12.07.37.37;	author ajacoutot;	state Exp;
branches;
next	1.18;
commitid	trEPP8tN7XJq4Bn7;

1.18
date	2016.05.22.08.05.29;	author ajacoutot;	state Exp;
branches;
next	1.17;
commitid	rUB14wLKKB43AP8i;

1.17
date	2015.06.15.06.17.59;	author ajacoutot;	state Exp;
branches;
next	1.16;
commitid	zXuQBYqPBWF0RZbJ;

1.16
date	2014.09.28.17.34.01;	author brad;	state Exp;
branches
	1.16.2.1;
next	1.15;
commitid	E87uIuP4haNsQJZY;

1.15
date	2014.05.01.13.07.17;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2014.05.01.09.20.52;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2013.11.03.00.48.45;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2013.04.20.02.38.33;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2012.12.19.19.56.03;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2012.08.18.21.34.33;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2012.04.30.06.02.51;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2011.03.06.11.19.53;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2009.12.27.19.34.33;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2009.06.14.17.07.25;	author kili;	state Exp;
branches;
next	1.5;

1.5
date	2008.08.06.03.11.38;	author pvalchev;	state Exp;
branches;
next	1.4;

1.4
date	2008.06.05.19.38.39;	author rui;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.26.19.51.33;	author rui;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.31.04.28.33;	author rui;	state Exp;
branches;
next	1.1;

1.1
date	2005.05.23.18.46.58;	author alek;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.05.23.18.46.58;	author alek;	state Exp;
branches;
next	;

1.16.2.1
date	2015.08.03.07.38.23;	author ajacoutot;	state Exp;
branches;
next	;
commitid	70AlFjW9SaMBAtD9;


desc
@@


1.19
log
@Update to dnsmasq-2.77.

from Brad (maintainer)
@
text
@$OpenBSD: patch-src_config_h,v 1.18 2016/05/22 08:05:29 ajacoutot Exp $
Index: src/config.h
--- src/config.h.orig
+++ src/config.h
@@@@ -42,8 +42,8 @@@@
 #define HOSTSFILE "/etc/hosts"
 #define ETHERSFILE "/etc/ethers"
 #define DEFLEASE 3600 /* default lease time, 1 hour */
-#define CHUSER "nobody"
-#define CHGRP "dip"
+#define CHUSER "_dnsmasq"
+#define CHGRP "_dnsmasq"
 #define TFTP_MAX_CONNECTIONS 50 /* max simultaneous connections */
 #define LOG_MAX 5 /* log-queue length */
 #define RANDFILE "/dev/urandom"
@@@@ -200,7 +200,7 @@@@ RESOLVFILE
 #   if defined(__FreeBSD__)
 #      define CONFFILE "/usr/local/etc/dnsmasq.conf"
 #   else
-#      define CONFFILE "/etc/dnsmasq.conf"
+#      define CONFFILE "${SYSCONFDIR}/dnsmasq.conf"
 #   endif
 #endif
 
@


1.18
log
@Update to dnsmasq-2.76.

from Brad (maintainer)
@
text
@d1 5
a5 4
$OpenBSD: patch-src_config_h,v 1.17 2015/06/15 06:17:59 ajacoutot Exp $
--- src/config.h.orig	Sat May 14 16:36:15 2016
+++ src/config.h	Tue May 17 01:54:13 2016
@@@@ -40,8 +40,8 @@@@
d16 1
a16 1
@@@@ -195,7 +195,7 @@@@ RESOLVFILE
@


1.17
log
@Update to dnsmasq-2.73.

from brad (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-src_config_h,v 1.16 2014/09/28 17:34:01 brad Exp $
--- src/config.h.orig	Fri Jun 12 16:39:11 2015
+++ src/config.h	Sun Jun 14 20:48:50 2015
@@@@ -39,8 +39,8 @@@@
d15 1
a15 1
@@@@ -194,7 +194,7 @@@@ RESOLVFILE
@


1.16
log
@Update to dnsmasq 2.72.

ok sthen@@
@
text
@d1 4
a4 4
$OpenBSD: patch-src_config_h,v 1.15 2014/05/01 13:07:17 sthen Exp $
--- src/config.h.orig	Tue Sep  9 16:46:07 2014
+++ src/config.h	Tue Sep  9 18:49:26 2014
@@@@ -36,8 +36,8 @@@@
d15 1
a15 1
@@@@ -188,7 +188,7 @@@@ RESOLVFILE
@


1.16.2.1
log
@SECURITY update to dnsmasq-2.75.
- fix for CVE-2015-3294

from Brad (maintainer)
ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-src_config_h,v 1.16 2014/09/28 17:34:01 brad Exp $
--- src/config.h.orig	Fri Jun 12 16:39:11 2015
+++ src/config.h	Sun Jun 14 20:48:50 2015
@@@@ -39,8 +39,8 @@@@
d15 1
a15 1
@@@@ -194,7 +194,7 @@@@ RESOLVFILE
@


1.15
log
@looks like the last dnsmasq commit was from an out-of-date tree (as noted
by Markus Lude); switch it to the version which I OK'd.
@
text
@d1 3
a3 3
$OpenBSD: patch-src_config_h,v 1.13 2013/11/03 00:48:45 brad Exp $
--- src/config.h.orig	Sat Mar 29 05:20:07 2014
+++ src/config.h	Mon Mar 31 15:36:06 2014
d15 1
a15 1
@@@@ -174,7 +174,7 @@@@ RESOLVFILE
@


1.14
log
@Update to dnsmasq 2.70.

ok sthen@@
@
text
@d2 2
a3 2
--- src/config.h.orig	Sat Mar 22 15:33:43 2014
+++ src/config.h	Sun Mar 23 09:36:02 2014
@


1.13
log
@Update to dnsmasq 2.67 and take MAINTAINER.

ok sthen@@
@
text
@d1 4
a4 4
$OpenBSD: patch-src_config_h,v 1.12 2013/04/20 02:38:33 brad Exp $
--- src/config.h.orig	Wed Oct 16 09:33:23 2013
+++ src/config.h	Wed Oct 16 23:42:24 2013
@@@@ -34,8 +34,8 @@@@
d15 1
a15 1
@@@@ -159,7 +159,7 @@@@ RESOLVFILE
@


1.12
log
@Update to dnsmasq 2.66.

ok sthen@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_config_h,v 1.11 2012/12/19 19:56:03 brad Exp $
--- src/config.h.orig	Thu Mar  7 15:59:28 2013
+++ src/config.h	Fri Mar  8 20:42:51 2013
d15 1
a15 1
@@@@ -161,7 +161,7 @@@@ RESOLVFILE
@


1.11
log
@Update to dnsmasq 2.65.

ok sthen@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_config_h,v 1.10 2012/08/18 21:34:33 sthen Exp $
--- src/config.h.orig	Fri Dec 14 06:48:26 2012
+++ src/config.h	Tue Dec 18 17:55:10 2012
d15 1
a15 1
@@@@ -145,7 +145,7 @@@@ RESOLVFILE
@


1.10
log
@update to dnsmasq 2.63, from Brad.
@
text
@d1 3
a3 3
$OpenBSD: patch-src_config_h,v 1.9 2012/04/30 06:02:51 ajacoutot Exp $
--- src/config.h.orig	Mon Aug  6 15:12:04 2012
+++ src/config.h	Tue Aug  7 13:53:00 2012
@


1.9
log
@Update to dnsmasq 2.61.
Add rc.d(8) script.

from Brad
@
text
@d1 5
a5 4
$OpenBSD: patch-src_config_h,v 1.8 2011/03/06 11:19:53 sthen Exp $
--- src/config.h.orig	Sun Apr 29 11:01:28 2012
+++ src/config.h	Sun Apr 29 14:09:15 2012
@@@@ -35,8 +35,8 @@@@
a6 1
 #define RUNFILE "/var/run/dnsmasq.pid"
d15 1
a15 1
@@@@ -146,7 +146,7 @@@@ RESOLVFILE
@


1.8
log
@update dnsmasq to 2.57; from Brad, maintainer timeout
@
text
@d1 15
a15 4
$OpenBSD: patch-src_config_h,v 1.7 2009/12/27 19:34:33 sthen Exp $
--- src/config.h.orig	Fri Feb 18 05:18:39 2011
+++ src/config.h	Fri Feb 18 15:00:08 2011
@@@@ -57,13 +57,13 @@@@
a23 8
 #define DEFLEASE 3600 /* default lease time, 1 hour */
-#define CHUSER "nobody"
-#define CHGRP "dip"
+#define CHUSER "_dnsmasq"
+#define CHGRP "_dnsmasq"
 #define NAMESERVER_PORT 53
 #define DHCP_SERVER_PORT 67
 #define DHCP_CLIENT_PORT 68
@


1.7
log
@Update to 2.51, various updates and rolls in the security fixes for
CVE-2009-2957 and CVE-2009-2958 relating to tftp (these were fixed in
2.50; we had them as patches in -current before).

ok rui@@
@
text
@d1 4
a4 4
$OpenBSD: patch-src_config_h,v 1.6 2009/06/14 17:07:25 kili Exp $
--- src/config.h.orig	Fri Oct  9 14:13:11 2009
+++ src/config.h	Thu Dec 24 14:21:01 2009
@@@@ -55,13 +55,13 @@@@
d18 1
a20 1
 #define DHCP_SERVER_ALTPORT 1067
@


1.6
log
@
Update to version 2.49.

Unbreak tftp, since converting the struct members from arrays to
pointers badly broke the code,

ok rui@@ (maintainer).
@
text
@d1 4
a4 4
$OpenBSD: patch-src_config_h,v 1.5 2008/08/06 03:11:38 pvalchev Exp $
--- src/config.h.orig	Wed Jun 10 15:03:45 2009
+++ src/config.h	Sun Jun 14 17:03:14 2009
@@@@ -53,13 +53,13 @@@@
@


1.5
log
@update to 2.45 w/ fix for dns issue:
http://www.frsirt.com/english/advisories/2008/2166/solution
from maintainer Rui Reis; ok naddy@@
@
text
@d1 10
a10 9
$OpenBSD: patch-src_config_h,v 1.4 2008/06/05 19:38:39 rui Exp $
--- src/config.h.orig	Sun Jul 20 19:26:32 2008
+++ src/config.h	Tue Aug  5 11:00:00 2008
@@@@ -48,7 +48,7 @@@@
 #if defined(__FreeBSD__)
 #   define CONFFILE "/usr/local/etc/dnsmasq.conf"
 #else
-#   define CONFFILE "/etc/dnsmasq.conf"
+#   define CONFFILE "${SYSCONFDIR}/dnsmasq.conf"
d12 1
d14 7
a20 1
 #define CHUSER "nobody"
@


1.4
log
@- maintenance update to dnsmasq 2.42

feedback and ok okan@@
@
text
@d1 4
a4 4
$OpenBSD$
--- src/config.h.orig	Thu May 29 20:44:42 2008
+++ src/config.h	Wed Jun  4 21:42:55 2008
@@@@ -47,7 +47,7 @@@@
@


1.3
log
@update dnsmasq to 2.40 and take over maintainership.

ok merdely@@
@
text
@d2 3
a4 3
--- src/config.h.orig	Tue Aug 28 15:01:17 2007
+++ src/config.h	Tue Sep 25 09:28:25 2007
@@@@ -41,7 +41,7 @@@@
d9 1
a9 1
+#   define CONFFILE "!!SYSCONFDIR!!/dnsmasq.conf"
@


1.2
log
@update dnsmasq to 2.39

ok maintainer, "looks good" aanriot@@
@
text
@d2 2
a3 2
--- src/config.h.orig	Sat Apr 28 15:14:44 2007
+++ src/config.h	Sat May 26 18:26:21 2007
@


1.1
log
@Initial revision
@
text
@d2 3
a4 3
--- src/config.h.orig	Thu Mar 31 17:08:43 2005
+++ src/config.h	Sun May 22 11:05:28 2005
@@@@ -40,7 +40,7 @@@@
@


1.1.1.1
log
@Import dnsmasq 2.22

Dnsmasq is lightweight, easy to configure DNS forwarder and
DHCP server. It is designed to provide DNS and, optionally,
DHCP, to a small network. It can serve the names of local
machines which are not in the global DNS. The DHCP server
integrates with the DNS server and allows machines with
DHCP-allocated addresses to appear in the DNS with names
configured either in each host or in a central configuration
file. Dnsmasq supports static and dynamic DHCP leases and BOOTP
for network booting of diskless machines. 

From Jonathan Weiss <jw@@innerewut.de>
@
text
@@
