head	1.2;
access;
symbols
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2012.08.18.21.34.33;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2012.06.14.13.39.44;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to dnsmasq 2.63, from Brad.
@
text
@$OpenBSD: patch-src_network_c,v 1.1 2012/06/14 13:39:44 ajacoutot Exp $

Correct listener logic when no TFTP and no-interface listen address.

--- src/network.c.orig	Thu Jun 14 01:03:06 2012
+++ src/network.c	Thu Jun 14 01:03:29 2012
@@@@ -546,7 +546,7 @@@@ void create_bound_listeners(int dienow)
 
   for (if_tmp = daemon->if_addrs; if_tmp; if_tmp = if_tmp->next)
     if (!if_tmp->used && 
-	(new = create_listeners(&if_tmp->addr, 1, dienow)))
+	(new = create_listeners(&if_tmp->addr, daemon->tftp_unlimited, dienow)))
       {
 	new->iface = NULL;
 	new->next = daemon->listeners;
@


1.1
log
@Several fixes from upstream:
- Correct listener logic when no TFTP and no-interface listen address.
- Do duplicate dhcp-host address check in --test mode.

from Brad
@
text
@d1 1
a1 1
$OpenBSD$
@

