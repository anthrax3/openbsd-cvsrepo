head	1.8;
access;
symbols
	OPENBSD_4_7:1.7.0.6
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.4
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.2
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.1.1.0.4
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.2
	OPENBSD_4_0_BASE:1.1.1.1
	sturm_20060416:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2010.05.17.16.39.25;	author sthen;	state dead;
branches;
next	1.7;

1.7
date	2008.12.29.19.17.36;	author rui;	state Exp;
branches;
next	1.6;

1.6
date	2008.09.21.15.39.14;	author rui;	state Exp;
branches;
next	1.5;

1.5
date	2008.05.05.19.32.02;	author rui;	state Exp;
branches;
next	1.4;

1.4
date	2008.01.21.22.21.24;	author rui;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.16.22.11.31;	author rui;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.29.20.21.26;	author rui;	state Exp;
branches;
next	1.1;

1.1
date	2006.04.16.14.37.08;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.04.16.14.37.08;	author sturm;	state Exp;
branches
	1.1.1.1.2.1
	1.1.1.1.4.1;
next	;

1.1.1.1.2.1
date	2007.05.31.13.07.04;	author sturm;	state Exp;
branches;
next	;

1.1.1.1.4.1
date	2007.05.31.13.04.30;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Update freeradius-server to 2.1.8; fixes licensing (was GPL linked
with OpenSSL; this version adds an exemption clause). Much cleanup of
the port, particularly giving a simpler installation for new users.

Thanks pea@@ for testing. Maintainer timeout.
@
text
@$OpenBSD: patch-configure,v 1.7 2008/12/29 19:17:36 rui Exp $
--- configure.orig	Sun Dec 28 00:27:47 2008
+++ configure	Sun Dec 28 00:36:56 2008
@@@@ -4862,7 +4862,7 @@@@ fi
     LTDLINCL='-I${top_srcdir}/''libltdl'
   else
     ac_configure_args="$ac_configure_args --enable-ltdl-install=no"
-    LIBLTDL="-lltdl"
+    LIBLTDL="-L$with_ltdl_lib -lltdl"
     LTDLINCL=
   fi
   # For backwards non-gettext consistent compatibility...
@@@@ -8874,7 +8874,6 @@@@ bsdi[45]*)
   need_version=no
   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
   soname_spec='${libname}${release}${shared_ext}$major'
-  finish_cmds='PATH="\$PATH:/sbin" ldconfig $libdir'
   shlibpath_var=LD_LIBRARY_PATH
   sys_lib_search_path_spec="/shlib /usr/lib /usr/X11/lib /usr/contrib/lib /lib /usr/local/lib"
   sys_lib_dlsearch_path_spec="/shlib /usr/lib /usr/local/lib"
@@@@ -20336,13 +20335,13 @@@@ fi
 done
 
 
-  { echo "$as_me:$LINENO: checking for pthread_create in -lpthread" >&5
-echo $ECHO_N "checking for pthread_create in -lpthread... $ECHO_C" >&6; }
+  { echo "$as_me:$LINENO: checking for pthread_create in -pthread" >&5
+echo $ECHO_N "checking for pthread_create in -pthread... $ECHO_C" >&6; }
 if test "${ac_cv_lib_pthread_pthread_create+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lpthread  $LIBS"
+LIBS="-pthread  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -20399,7 +20398,7 @@@@ fi
 echo "${ECHO_T}$ac_cv_lib_pthread_pthread_create" >&6; }
 if test $ac_cv_lib_pthread_pthread_create = yes; then
    CFLAGS="$CFLAGS -D_REENTRANT -D_POSIX_PTHREAD_SEMANTICS"
-                  LIBS="$LIBS -lpthread"
+                  LIBS="$LIBS -pthread"
 else
   { echo "$as_me:$LINENO: checking for pthread_create in -lc_r" >&5
 echo $ECHO_N "checking for pthread_create in -lc_r... $ECHO_C" >&6; }
@@@@ -20649,7 +20648,6 @@@@ if test "${ac_cv_lib_resolv_inet_aton+set}" = set; the
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lresolv  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -20709,8 +20707,6 @@@@ if test $ac_cv_lib_resolv_inet_aton = yes; then
 #define HAVE_LIBRESOLV 1
 _ACEOF
 
-  LIBS="-lresolv $LIBS"
-
 fi
 
 
@@@@ -20867,7 +20863,7 @@@@ if test "${ac_cv_lib_ssl_SSL_new+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lssl  $LIBS"
+LIBS="-lcrypto -lssl  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -23411,7 +23407,7 @@@@ _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
+#include <unistd.h>
 #ifdef HAVE_NETINET_IN_H
 #include <netinet/in.h>
 #endif
@@@@ -23478,7 +23474,7 @@@@ _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
-
+#include <unistd.h>
 #ifdef HAVE_NETINET_IN_H
 #include <netinet/in.h>
 #endif
@


1.7
log
@- maintenance update to freeradius 2.1.3. Check the Changelog for more information.

ok ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.6
log
@- maintenance update to freeradius 2.1.0.
- SNMP support is now available through an experimental Perl script.
- If snmp.conf is being used in your radiusd.conf you should delete or comment that entry.
- Check the Changelog for more information.

input and ok ajacoutot@@
@
text
@d2 2
a3 2
--- configure.orig	Fri Sep  5 14:27:57 2008
+++ configure	Fri Sep 19 17:29:38 2008
d73 1
a73 19
@@@@ -21096,7 +21092,7 @@@@ if test "${ac_cv_lib_readline_readline+set}" = set; th
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lreadline  $LIBS"
+LIBS="-lreadline -lncurses $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -21152,7 +21148,7 @@@@ fi
 { echo "$as_me:$LINENO: result: $ac_cv_lib_readline_readline" >&5
 echo "${ECHO_T}$ac_cv_lib_readline_readline" >&6; }
 if test $ac_cv_lib_readline_readline = yes; then
-   LIBREADLINE="-lreadline"
+   LIBREADLINE="-lreadline -lncurses"
 fi
 
 
@@@@ -23035,7 +23031,7 @@@@ _ACEOF
d82 1
a82 1
@@@@ -23102,7 +23098,7 @@@@ _ACEOF
@


1.5
log
@- maintenance update to freeradius 2.04. Check the Changelog for more information.

ok mbalmer@@, jolan@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.4 2008/01/21 22:21:24 rui Exp $
--- configure.orig	Sat Apr 26 16:10:09 2008
+++ configure	Sat May  3 15:08:10 2008
@@@@ -4865,7 +4865,7 @@@@ fi
d13 1
a13 1
@@@@ -8877,7 +8877,6 @@@@ bsdi[45]*)
d21 1
a21 1
@@@@ -20360,13 +20359,13 @@@@ fi
d38 1
a38 1
@@@@ -20423,7 +20422,7 @@@@ fi
d47 1
a47 1
@@@@ -20673,7 +20672,6 @@@@ if test "${ac_cv_lib_resolv_inet_aton+set}" = set; the
d55 1
a55 1
@@@@ -20733,8 +20731,6 @@@@ if test $ac_cv_lib_resolv_inet_aton = yes; then
d64 1
a64 1
@@@@ -20891,7 +20887,7 @@@@ if test "${ac_cv_lib_ssl_SSL_new+set}" = set; then
d73 19
a91 1
@@@@ -22989,7 +22985,7 @@@@ _ACEOF
d100 1
a100 1
@@@@ -23056,7 +23052,7 @@@@ _ACEOF
@


1.4
log
@- update freeradius to 2.0.0. Check the Changelog for more information.

input and ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.orig	Thu Jan 10 10:38:42 2008
+++ configure	Mon Jan 21 16:21:31 2008
@@@@ -4864,7 +4864,7 @@@@ fi
d13 1
a13 1
@@@@ -8876,7 +8876,6 @@@@ bsdi[45]*)
d21 1
a21 1
@@@@ -20341,13 +20340,13 @@@@ fi
d38 1
a38 1
@@@@ -20404,7 +20403,7 @@@@ fi
d47 1
a47 1
@@@@ -20654,7 +20653,6 @@@@ if test "${ac_cv_lib_resolv_inet_aton+set}" = set; the
d55 1
a55 1
@@@@ -20714,8 +20712,6 @@@@ if test $ac_cv_lib_resolv_inet_aton = yes; then
d64 1
a64 1
@@@@ -20872,7 +20868,7 @@@@ if test "${ac_cv_lib_ssl_SSL_new+set}" = set; then
d73 1
a73 1
@@@@ -22968,7 +22964,7 @@@@ _ACEOF
d82 1
a82 1
@@@@ -23035,7 +23031,7 @@@@ _ACEOF
@


1.3
log
@update freeradius to 1.1.7, the focus of this release is stability.
A number of bugs that found in 1.1.6 have been fixed.

ok Tim Kornau (maintainer), sthen@@
@
text
@d2 3
a4 3
--- configure.orig	Sat Jul 21 15:01:34 2007
+++ configure	Sat Sep 15 09:46:18 2007
@@@@ -4159,7 +4159,7 @@@@ fi
d13 1
a13 1
@@@@ -8535,7 +8535,6 @@@@ bsdi[45]*)
d21 27
a47 1
@@@@ -20335,7 +20334,6 @@@@ if test "${ac_cv_lib_resolv_inet_aton+set}" = set; the
d55 1
a55 1
@@@@ -20395,8 +20393,6 @@@@ if test $ac_cv_lib_resolv_inet_aton = yes; then
d64 1
a64 1
@@@@ -20552,7 +20548,7 @@@@ if test "${ac_cv_lib_ssl_SSL_new+set}" = set; then
d73 18
@


1.2
log
@update freeradius to 1.1.6

fix lots of bugs and security problems
references:
- http://www.freeradius.org/security.html
- http://www.freeradius.org/press/index.html#1.1.6
- CVE-2007-2028

also quickly tested by maja@@, thanks!

ok Tim Kornau (maintainer)
@
text
@d2 3
a4 3
--- configure.orig	Wed May  2 21:50:56 2007
+++ configure	Wed May  2 21:54:36 2007
@@@@ -4354,7 +4354,7 @@@@ fi
d13 1
a13 1
@@@@ -8932,7 +8932,6 @@@@ bsdi[45]*)
d21 1
a21 1
@@@@ -21001,7 +21000,6 @@@@ if test "${ac_cv_lib_resolv_inet_aton+set}" = set; the
d29 1
a29 1
@@@@ -21077,8 +21075,6 @@@@ if test $ac_cv_lib_resolv_inet_aton = yes; then
d38 1
a38 1
@@@@ -21265,7 +21261,7 @@@@ if test "${ac_cv_lib_ssl_SSL_new+set}" = set; then
@


1.1
log
@Initial revision
@
text
@d2 9
a10 13
--- configure.orig	Mon Feb  6 13:55:53 2006
+++ configure	Mon Mar 27 22:53:33 2006
@@@@ -1452,7 +1452,7 @@@@ if eval "test \"`echo '$ac_cv_lib_'$ac_l
   echo "$ac_t""yes" 1>&6
    
        ltdl_found="yes"
-       LIBLTDL="-lltdl"
+       LIBLTDL="-L$with_ltdl_lib -lltdl"
        # Check whether --with-ltdl-include or --without-ltdl-include was given.
 if test "${with_ltdl_include+set}" = set; then
   withval="$with_ltdl_include"
@@@@ -4302,7 +4302,6 @@@@ openbsd*)
     shlibpath_overrides_runpath=yes
d12 6
a17 2
   library_names_spec='${libname}${release}.so$versuffix ${libname}.so$versuffix'
-  finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
d19 4
a22 4
   ;;
 
@@@@ -6464,7 +6463,6 @@@@ if eval "test \"`echo '$''{'ac_cv_lib_$a
   echo $ac_n "(cached) $ac_c" 1>&6
d24 1
a24 1
   ac_save_LIBS="$LIBS"
d26 6
a31 6
 cat > conftest.$ac_ext <<EOF
 #line 6470 "configure"
 #include "confdefs.h"
@@@@ -6498,8 +6496,6 @@@@ if eval "test \"`echo '$ac_cv_lib_'$ac_l
 #define $ac_tr_lib 1
 EOF
a34 2
 else
   echo "$ac_t""no" 1>&6
d36 4
a39 2
@@@@ -6605,7 +6601,7 @@@@ if eval "test \"`echo '$''{'ac_cv_lib_$a
   echo $ac_n "(cached) $ac_c" 1>&6
d41 1
a41 1
   ac_save_LIBS="$LIBS"
d44 3
a46 12
 cat > conftest.$ac_ext <<EOF
 #line 6611 "configure"
 #include "confdefs.h"
@@@@ -8761,7 +8757,7 @@@@ echo "$ac_t""top_builddir=$top_builddir"
 
 
 
-if test "x$INCLTDL" != "x";then
+if test "x$INCLTDL" = "x";then
   INCLTDL='-I${top_builddir}/''libltdl'
 fi
 
@


1.1.1.1
log
@Initial import of freeradius 1.1.1

FreeRADIUS is an Internet authentication daemon, which implements
the RADIUS protocol, as defined in RFC 2865 (and others).

based on a port from maintainer Tim Kornau <opti@@openbsd.de>
@
text
@@


1.1.1.1.2.1
log
@MFC:
update freeradius to 1.1.6

fix lots of bugs and security problems
references:
- http://www.freeradius.org/security.html
- http://www.freeradius.org/press/index.html#1.1.6
- CVE-2007-2028
@
text
@d1 14
a14 10
$OpenBSD: patch-configure,v 1.2 2007/05/29 20:21:26 rui Exp $
--- configure.orig	Thu Apr  5 12:16:30 2007
+++ configure	Thu May 31 14:46:05 2007
@@@@ -4354,7 +4354,7 @@@@ fi
     LTDLINCL='-I${top_srcdir}/''libltdl'
   else
     ac_configure_args="$ac_configure_args --enable-ltdl-install=no"
-    LIBLTDL="-lltdl"
+    LIBLTDL="-L$with_ltdl_lib -lltdl"
     LTDLINCL=
d16 2
a17 6
   # For backwards non-gettext consistent compatibility...
@@@@ -8932,7 +8932,6 @@@@ bsdi[45]*)
   need_version=no
   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
   soname_spec='${libname}${release}${shared_ext}$major'
-  finish_cmds='PATH="\$PATH:/sbin" ldconfig $libdir'
d19 4
a22 4
   sys_lib_search_path_spec="/shlib /usr/lib /usr/X11/lib /usr/contrib/lib /lib /usr/local/lib"
   sys_lib_dlsearch_path_spec="/shlib /usr/lib /usr/local/lib"
@@@@ -21001,7 +21000,6 @@@@ if test "${ac_cv_lib_resolv_inet_aton+se
   echo $ECHO_N "(cached) $ECHO_C" >&6
d24 1
a24 1
   ac_check_lib_save_LIBS=$LIBS
d26 6
a31 6
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -21077,8 +21075,6 @@@@ if test $ac_cv_lib_resolv_inet_aton = ye
 #define HAVE_LIBRESOLV 1
 _ACEOF
d35 2
d38 2
a39 4
 
 
@@@@ -21265,7 +21261,7 @@@@ if test "${ac_cv_lib_ssl_SSL_new+set}" =
   echo $ECHO_N "(cached) $ECHO_C" >&6
d41 1
a41 1
   ac_check_lib_save_LIBS=$LIBS
d44 12
a55 3
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@


1.1.1.1.4.1
log
@MFC:
update freeradius to 1.1.6

fix lots of bugs and security problems
references:
- http://www.freeradius.org/security.html
- http://www.freeradius.org/press/index.html#1.1.6
- CVE-2007-2028
@
text
@d1 14
a14 10
$OpenBSD: patch-configure,v 1.2 2007/05/29 20:21:26 rui Exp $
--- configure.orig	Thu Apr  5 12:16:30 2007
+++ configure	Thu May 31 14:47:17 2007
@@@@ -4354,7 +4354,7 @@@@ fi
     LTDLINCL='-I${top_srcdir}/''libltdl'
   else
     ac_configure_args="$ac_configure_args --enable-ltdl-install=no"
-    LIBLTDL="-lltdl"
+    LIBLTDL="-L$with_ltdl_lib -lltdl"
     LTDLINCL=
d16 2
a17 6
   # For backwards non-gettext consistent compatibility...
@@@@ -8932,7 +8932,6 @@@@ bsdi[45]*)
   need_version=no
   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'
   soname_spec='${libname}${release}${shared_ext}$major'
-  finish_cmds='PATH="\$PATH:/sbin" ldconfig $libdir'
d19 4
a22 4
   sys_lib_search_path_spec="/shlib /usr/lib /usr/X11/lib /usr/contrib/lib /lib /usr/local/lib"
   sys_lib_dlsearch_path_spec="/shlib /usr/lib /usr/local/lib"
@@@@ -21001,7 +21000,6 @@@@ if test "${ac_cv_lib_resolv_inet_aton+se
   echo $ECHO_N "(cached) $ECHO_C" >&6
d24 1
a24 1
   ac_check_lib_save_LIBS=$LIBS
d26 6
a31 6
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -21077,8 +21075,6 @@@@ if test $ac_cv_lib_resolv_inet_aton = ye
 #define HAVE_LIBRESOLV 1
 _ACEOF
d35 2
d38 2
a39 4
 
 
@@@@ -21265,7 +21261,7 @@@@ if test "${ac_cv_lib_ssl_SSL_new+set}" =
   echo $ECHO_N "(cached) $ECHO_C" >&6
d41 1
a41 1
   ac_check_lib_save_LIBS=$LIBS
d44 12
a55 3
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@

