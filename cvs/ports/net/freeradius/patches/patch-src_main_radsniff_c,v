head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.10
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.6
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.8
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.4
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.2.0.14
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.12
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.10
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2014.04.13.20.16.03;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.10.25.13.22.20;	author pea;	state Exp;
branches;
next	1.1;

1.1
date	2010.05.17.16.39.25;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Spring cleaning:
- not need for gtar
- reduce some chunks in patches and use post-install to rm what we don't want
- drop uneeded patches/chunks

ok pea@@ (maintainer)
@
text
@$OpenBSD: patch-src_main_radsniff_c,v 1.2 2010/10/25 13:22:20 pea Exp $
--- src/main/radsniff.c.orig	Mon Sep 10 13:51:34 2012
+++ src/main/radsniff.c	Sun Apr 13 17:43:53 2014
@@@@ -40,7 +40,7 @@@@ static VALUE_PAIR *filter_vps = NULL;
 
 static int minimal = 0;
 static int do_sort = 0;
-struct timeval start_pcap = {0, 0};
+struct bpf_timeval start_pcap = {0, 0};
 static rbtree_t *filter_tree = NULL;
 static rbtree_t *request_tree = NULL;
 static pcap_dumper_t *pcap_dumper = NULL;
@@@@ -165,8 +165,8 @@@@ static void sort(RADIUS_PACKET *packet)
 }
 
 #define USEC 1000000
-static void tv_sub(const struct timeval *end, const struct timeval *start,
-		   struct timeval *elapsed)
+static void tv_sub(const struct bpf_timeval *end, const struct bpf_timeval *start,
+		   struct bpf_timeval *elapsed)
 {
 	elapsed->tv_sec = end->tv_sec - start->tv_sec;
 	if (elapsed->tv_sec > 0) {
@


1.2
log
@Update to 2.1.10.

ok aja@@, maintainer timed out
@
text
@d1 3
a3 3
$OpenBSD: patch-src_main_radsniff_c,v 1.1 2010/05/17 16:39:25 sthen Exp $
--- src/main/radsniff.c.orig	Tue Sep 28 13:03:56 2010
+++ src/main/radsniff.c	Mon Oct 11 11:22:27 2010
d11 1
d13 1
a13 2
 
@@@@ -163,8 +163,8 @@@@ static void sort(RADIUS_PACKET *packet)
@


1.1
log
@Update freeradius-server to 2.1.8; fixes licensing (was GPL linked
with OpenSSL; this version adds an exemption clause). Much cleanup of
the port, particularly giving a simpler installation for new users.

Thanks pea@@ for testing. Maintainer timeout.
@
text
@d1 3
a3 3
$OpenBSD$
--- src/main/radsniff.c.orig	Mon May 10 17:27:54 2010
+++ src/main/radsniff.c	Mon May 10 17:27:55 2010
d11 1
a11 1
 typedef int (*rbcmp)(const void *, const void *);
d13 1
a13 1
@@@@ -161,8 +161,8 @@@@ static void sort(RADIUS_PACKET *packet)
d17 1
a17 1
-static void tv_sub(struct timeval *end, struct timeval *start,
d19 1
a19 1
+static void tv_sub(struct bpf_timeval *end, struct bpf_timeval *start,
@

