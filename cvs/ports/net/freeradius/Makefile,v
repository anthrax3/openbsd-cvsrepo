head	1.72;
access;
symbols
	OPENBSD_6_2:1.72.0.4
	OPENBSD_6_2_BASE:1.72
	OPENBSD_6_1:1.72.0.2
	OPENBSD_6_1_BASE:1.72
	OPENBSD_6_0:1.71.0.2
	OPENBSD_6_0_BASE:1.71
	OPENBSD_5_9:1.68.0.2
	OPENBSD_5_9_BASE:1.68
	OPENBSD_5_8:1.61.0.4
	OPENBSD_5_8_BASE:1.61
	OPENBSD_5_7:1.59.0.2
	OPENBSD_5_7_BASE:1.59
	OPENBSD_5_6:1.56.0.2
	OPENBSD_5_6_BASE:1.56
	OPENBSD_5_5:1.52.0.2
	OPENBSD_5_5_BASE:1.52
	OPENBSD_5_4:1.50.0.2
	OPENBSD_5_4_BASE:1.50
	OPENBSD_5_3:1.44.0.2
	OPENBSD_5_3_BASE:1.44
	OPENBSD_5_2:1.42.0.2
	OPENBSD_5_2_BASE:1.42
	OPENBSD_5_1_BASE:1.41
	OPENBSD_5_1:1.41.0.2
	OPENBSD_5_0:1.35.0.2
	OPENBSD_5_0_BASE:1.35
	OPENBSD_4_9:1.30.0.2
	OPENBSD_4_9_BASE:1.30
	OPENBSD_4_8:1.23.0.2
	OPENBSD_4_8_BASE:1.23
	OPENBSD_4_7:1.20.0.6
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.20.0.4
	OPENBSD_4_6_BASE:1.20
	OPENBSD_4_5:1.20.0.2
	OPENBSD_4_5_BASE:1.20
	OPENBSD_4_4:1.18.0.2
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.13.0.2
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.7.0.2
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.5.0.2
	OPENBSD_4_0_BASE:1.5
	sturm_20060416:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.72
date	2016.08.17.20.58.19;	author sthen;	state Exp;
branches;
next	1.71;
commitid	3YTVpXXidJQjfavt;

1.71
date	2016.06.29.16.14.43;	author espie;	state Exp;
branches;
next	1.70;
commitid	c1yQMbJbfo0CFBcL;

1.70
date	2016.03.18.21.38.25;	author naddy;	state Exp;
branches;
next	1.69;
commitid	BVkebQSTXSZokeRG;

1.69
date	2016.03.11.20.28.28;	author naddy;	state Exp;
branches;
next	1.68;
commitid	UYLP8TE6V7RS2GhJ;

1.68
date	2015.11.19.14.19.05;	author sthen;	state Exp;
branches;
next	1.67;
commitid	Jny82NhC47Gemgwm;

1.67
date	2015.11.18.13.48.59;	author sthen;	state Exp;
branches;
next	1.66;
commitid	4itiaZNr4nkvtjsH;

1.66
date	2015.11.12.13.00.27;	author sthen;	state Exp;
branches;
next	1.65;
commitid	q9ulKzqkHunnd1sk;

1.65
date	2015.11.07.14.51.08;	author sthen;	state Exp;
branches;
next	1.64;
commitid	29O4JOsWmsAfsgPR;

1.64
date	2015.11.03.22.54.23;	author sthen;	state Exp;
branches;
next	1.63;
commitid	KK7pLABciG2MfNTz;

1.63
date	2015.10.14.11.19.56;	author sthen;	state Exp;
branches;
next	1.62;
commitid	TdzAxifpSzbl1bm7;

1.62
date	2015.08.25.07.30.29;	author ajacoutot;	state Exp;
branches;
next	1.61;
commitid	x3rR2VHR7RvISfgT;

1.61
date	2015.07.21.02.25.06;	author sthen;	state Exp;
branches
	1.61.4.1;
next	1.60;
commitid	gfwZRqV8pkHYLOJ8;

1.60
date	2015.06.23.21.38.06;	author sthen;	state Exp;
branches;
next	1.59;
commitid	aHZZNX1Gfi6tXBO6;

1.59
date	2015.01.03.13.20.25;	author sthen;	state Exp;
branches;
next	1.58;
commitid	p7tGnAW7aS5mVqVM;

1.58
date	2014.10.31.13.26.38;	author ajacoutot;	state Exp;
branches;
next	1.57;
commitid	qhrNXYsuR2HoAm3T;

1.57
date	2014.09.13.18.09.21;	author brad;	state Exp;
branches;
next	1.56;
commitid	PpbRjVZdAmlrmi8q;

1.56
date	2014.07.17.00.20.51;	author sthen;	state Exp;
branches;
next	1.55;
commitid	xg7BQByGOnABEOGT;

1.55
date	2014.04.21.13.09.47;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2014.04.21.13.07.08;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2014.04.13.20.16.03;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2014.01.24.21.30.36;	author landry;	state Exp;
branches;
next	1.51;

1.51
date	2013.11.10.12.20.29;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2013.06.20.06.54.37;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2013.06.17.19.30.53;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2013.06.12.20.36.34;	author brad;	state Exp;
branches;
next	1.47;

1.47
date	2013.05.25.00.33.10;	author brad;	state Exp;
branches;
next	1.46;

1.46
date	2013.03.21.08.41.16;	author brad;	state Exp;
branches;
next	1.45;

1.45
date	2013.03.11.11.35.46;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.43;

1.43
date	2012.09.16.12.44.02;	author pea;	state Exp;
branches;
next	1.42;

1.42
date	2012.04.28.10.52.08;	author ajacoutot;	state Exp;
branches
	1.42.2.1;
next	1.41;

1.41
date	2011.12.28.10.44.43;	author pea;	state Exp;
branches;
next	1.40;

1.40
date	2011.11.22.19.14.20;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2011.09.22.13.57.29;	author pea;	state Exp;
branches;
next	1.38;

1.38
date	2011.09.20.15.57.23;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2011.09.16.11.13.38;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2011.09.07.10.29.35;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2011.06.03.21.38.44;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2011.05.11.12.03.19;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2011.04.20.15.05.24;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2011.04.17.17.56.02;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2011.04.15.09.44.06;	author pea;	state Exp;
branches;
next	1.30;

1.30
date	2010.11.22.09.53.43;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2010.11.22.09.30.38;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2010.11.19.22.31.33;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2010.11.11.11.54.09;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.10.25.13.22.20;	author pea;	state Exp;
branches;
next	1.25;

1.25
date	2010.10.18.18.36.47;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2010.09.26.08.33.12;	author steven;	state Exp;
branches;
next	1.23;

1.23
date	2010.06.23.16.27.57;	author steven;	state Exp;
branches
	1.23.2.1;
next	1.22;

1.22
date	2010.06.17.13.40.08;	author pea;	state Exp;
branches;
next	1.21;

1.21
date	2010.05.17.16.39.25;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2008.12.29.19.17.36;	author rui;	state Exp;
branches;
next	1.19;

1.19
date	2008.09.21.15.39.14;	author rui;	state Exp;
branches;
next	1.18;

1.18
date	2008.07.28.21.51.10;	author rui;	state Exp;
branches;
next	1.17;

1.17
date	2008.06.05.19.49.17;	author rui;	state Exp;
branches;
next	1.16;

1.16
date	2008.05.05.19.32.02;	author rui;	state Exp;
branches;
next	1.15;

1.15
date	2008.03.21.19.25.33;	author rui;	state Exp;
branches;
next	1.14;

1.14
date	2008.03.15.10.14.44;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2008.02.18.15.46.43;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2008.01.25.18.59.19;	author rui;	state Exp;
branches;
next	1.11;

1.11
date	2008.01.21.22.21.24;	author rui;	state Exp;
branches;
next	1.10;

1.10
date	2007.09.16.22.11.31;	author rui;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.15.22.36.53;	author merdely;	state Exp;
branches;
next	1.8;

1.8
date	2007.05.29.20.21.26;	author rui;	state Exp;
branches;
next	1.7;

1.7
date	2006.11.25.19.34.54;	author steven;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2006.11.11.13.16.58;	author mbalmer;	state Exp;
branches;
next	1.5;

1.5
date	2006.08.03.23.15.57;	author espie;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2006.07.11.11.30.06;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2006.06.01.14.25.06;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2006.05.27.07.24.39;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2006.04.16.14.37.08;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.04.16.14.37.08;	author sturm;	state Exp;
branches;
next	;

1.5.2.1
date	2007.05.31.13.07.04;	author sturm;	state Exp;
branches;
next	;

1.7.2.1
date	2007.05.31.13.04.30;	author sturm;	state Exp;
branches;
next	;

1.23.2.1
date	2010.10.26.03.36.42;	author william;	state Exp;
branches;
next	;

1.42.2.1
date	2012.09.16.13.47.33;	author sthen;	state Exp;
branches;
next	;

1.61.4.1
date	2015.10.14.11.54.00;	author sthen;	state Exp;
branches;
next	;
commitid	KAET6jmtuQX7a5pb;


desc
@@


1.72
log
@bump ports that might pick up IP_SENDSRCADDR
@
text
@# $OpenBSD: Makefile,v 1.71 2016/06/29 16:14:43 espie Exp $

PORTROACH=	limit:^2\.

SHARED_LIBS +=  freeradius-radius    4.2      # .0.0
SHARED_LIBS +=  freeradius-eap       4.1      # .0.0

COMMENT-main=	RADIUS server implementation
COMMENT-iodbc=	freeradius iodbc rlm addon
COMMENT-mysql=	freeradius mysql rlm addon
COMMENT-pgsql=	freeradius pgsql rlm addon
COMMENT-ldap=	freeradius ldap rlm addon

V=		2.2.9
REVISION=	3
REVISION-main=	5
DISTNAME=	freeradius-server-$V
EXTRACT_SUFX=	.tar.bz2

PKGNAME-main=	freeradius-$V
PKGNAME-iodbc=	freeradius-iodbc-$V
PKGNAME-mysql=	freeradius-mysql-$V
PKGNAME-pgsql=	freeradius-pgsql-$V
PKGNAME-ldap=	freeradius-ldap-$V

CATEGORIES=	net security

MASTER_SITES=	ftp://ftp.freeradius.org/pub/radius/ \
		ftp://ftp.freeradius.org/pub/radius/old/

HOMEPAGE=	http://www.freeradius.org/

MAINTAINER=	Pierre-Emmanuel Andre <pea@@openbsd.org>

# GPLv2 - LGPLv2 - OpenSSL exemption
PERMIT_PACKAGE_CDROM=	Yes

MODULES=	devel/gettext

CONFIGURE_STYLE=autoconf dest
AUTOCONF_VERSION=2.69
CONFIGURE_ENV=	LDFLAGS="-L${LOCALBASE}/lib -lexecinfo"

CONFIGURE_ARGS=	--with-large-files \
		--with-snmp \
		--with-pic \
		--without-rlm-perl \
		--without-rlm-python \
		--without-rlm_eap_ikev2 \
		--without-rlm_pam \
		--without-rlm_sql_oracle \
		--without-rlm_sql_db2 \
		--without-rlm_sql_unixodbc \
		--disable-ltdl-install \
		--with-system-libltdl

TEST_TARGET=	test
TEST_DEPENDS=	freeradius-$V:net/freeradius
TEST_IS_INTERACTIVE=Yes # doesn't exit properly

MULTI_PACKAGES=	-main -ldap -mysql -pgsql -iodbc
SUBST_VARS+=	V

CFLAGS=		-I${LOCALBASE}/include

USE_GMAKE=	Yes
# undefined reference to `lt__PROGRAM__LTX_preloaded_symbols'
USE_LIBTOOL=	gnu

BUILD_DEPENDS=		net/net-snmp

LIB_DEPENDS-main=	databases/gdbm \
			devel/libexecinfo \
			devel/libtool,-ltdl
WANTLIB-main=		${WANTLIB} c execinfo pcap pthread readline \
			termcap gdbm>=3 ltdl>=4 crypto ssl

PSEUDO_FLAVORS=	no_ldap no_mysql no_pgsql no_iodbc
FLAVOR?=

.include <bsd.port.arch.mk>

.if ${BUILD_PACKAGES:M-iodbc}
CONFIGURE_ARGS+=	--with-rlm_sql_iodbc
.else
CONFIGURE_ARGS+=	--without-rlm_sql_iodbc
.endif

LIB_DEPENDS-iodbc=	databases/iodbc
WANTLIB-iodbc=		execinfo iodbc>=2 pthread
RUN_DEPENDS-iodbc=	#empty

.if !${BUILD_PACKAGES:M-ldap}
CONFIGURE_ARGS+=	--without-rlm_ldap
.endif

LIB_DEPENDS-ldap=	databases/openldap \
			${BASE_PKGPATH}
WANTLIB-ldap=		crypto execinfo ssl sasl2 \
			lber>=8 ldap_r>=8 freeradius-radius>=1 pthread
RUN_DEPENDS-ldap=	#empty

.if !${BUILD_PACKAGES:M-mysql}
CONFIGURE_ARGS+=	--without-rlm_sql_mysql
.endif

LIB_DEPENDS-mysql=	databases/mariadb
WANTLIB-mysql=		crypto execinfo ssl m pthread z mysqlclient_r
RUN_DEPENDS-mysql=	#empty

.if ${BUILD_PACKAGES:M-pgsql}
CONFIGURE_ARGS+=	--with-rlm-sql-postgresql-include-dir=${LOCALBASE}/include/postgresql
.else
CONFIGURE_ARGS+=	--without-rlm_sql_postgresql
.endif

LIB_DEPENDS-pgsql=	databases/postgresql
WANTLIB-pgsql=		execinfo pq>=2
RUN_DEPENDS-pgsql=	#empty

.for i in ${MULTI_PACKAGES:N-main}
RUN_DEPENDS$i +=	freeradius-$V:net/freeradius
.endfor

FAKE_FLAGS=		raddbdir=${WRKINST}${PREFIX}/share/examples/freeradius

post-configure:
	perl -pi -e 's,/etc/raddb,${SYSCONFDIR}/raddb,g' ${WRKSRC}/man/*/*
	${SUBST_CMD} ${WRKSRC}/src/modules/rlm_sql/drivers/rlm_sql_iodbc/configure

post-install:
.for f in bin/radlast bin/radtest sbin/checkrad sbin/radwatch \
    share/examples/freeradius/dictionary share/examples/freeradius/radiusd.conf
	perl -pi -e 's,\$${DESTDIR},,g' ${PREFIX}/$f
.endfor
	rm ${PREFIX}/lib/freeradius/*.la ${PREFIX}/lib/freeradius/*.a \
		${PREFIX}/lib/libfreeradius-eap-*.la

pre-test:
	perl -pi -e 's,\$${DESTDIR},${DESTDIR},g' ${WRKSRC}/raddb/radiusd.conf

.include <bsd.port.mk>
@


1.71
log
@add is-branch to all trivial ports that exist as multiple branches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2016/03/18 21:38:25 naddy Exp $
d16 1
a16 1
REVISION-main=	4
@


1.70
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2016/03/11 20:28:28 naddy Exp $
d15 2
a16 2
REVISION=	2
REVISION-main=	3
@


1.69
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2015/11/19 14:19:05 sthen Exp $
a4 1
SHARED_ONLY=	Yes
@


1.68
log
@getpwnam -> getpwnam_shadow
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2015/11/18 13:48:59 sthen Exp $
d45 1
a45 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-large-files \
@


1.67
log
@set PORTROACH so that any updates to the freeradius 2.x branch aren't hidden
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2015/11/12 13:00:27 sthen Exp $
d17 1
@


1.66
log
@+net/freeradius3 and register conflict with net/freeradius, ok jca@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.65 2015/11/07 14:51:08 sthen Exp $
@


1.65
log
@Move the modules/dhcp_sqlippool file to PLIST-mysql; it depends on a file
that is already included in the mysql subpackage (and actually, dhcp_sqlippool
only works with mysql at the moment). Avoids the need to either install
freeradius-mysql or mess with files in the modules directory to start up.
ok pea@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2015/11/03 22:54:23 sthen Exp $
d14 1
a14 2
REVISION-main=	1
REVISION-mysql=	0
@


1.64
log
@don't require gmake for /etc/raddb/certs/Makefile (admin-facing makefile)
ok pea@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2015/10/14 11:19:56 sthen Exp $
d14 2
a15 1
REVISION-main=	0
@


1.63
log
@update to freeradius-2.2.9, include a crash fix, missing CRL checking
(CVE-2015-4680) and a fix for EAP-TTLS with TLSv1.2 (notably affecting
Android 6.x wifi clients in TTLS configurations). OK pea@@

Note: not updating to 3.x at present as the build system first requires
significant untangling for use with ports (I've spent days on it already
and still not there).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2015/08/25 07:30:29 ajacoutot Exp $
d14 1
@


1.62
log
@/var/run content is already removed by /etc/rc, so no need to handle that in
the package. If a /var/run/foo directory must exist for proper start of a
software, then the rc.d script should take care of it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2015/07/21 02:25:06 sthen Exp $
d13 1
a13 2
V=		2.2.7
REVISION-main=	1
@


1.61
log
@rename freeradius' rc script, to avoid a future conflict. ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2015/06/23 21:38:06 sthen Exp $
d14 1
a14 1
REVISION-main=	0
@


1.61.4.1
log
@MFC: update to freeradius-2.2.9, include a crash fix, missing CRL checking
(CVE-2015-4680) and a fix for EAP-TTLS with TLSv1.2 (notably affecting
Android 6.x wifi clients in TTLS configurations).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2015/10/14 11:19:56 sthen Exp $
d13 2
a14 1
V=		2.2.9
@


1.60
log
@update to freeradius-2.2.7, rolling in some patches committed upstream and
removing some which are no longer needed. ok pea@@ (maintainer).

add a patch from upstream git (noticed after ok) fixing one of the default
config files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2015/01/03 13:20:25 sthen Exp $
d14 1
@


1.59
log
@update to freeradius 2.2.6, plus a few patches from upstream, notably
one fixing use with libressl (simplified by upstream from a diff written by
Kapetanakis Giannis). ok aja@@ pea@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/10/31 13:26:38 ajacoutot Exp $
d13 1
a13 1
V=		2.2.6
@


1.58
log
@Missing shebang.

from Kapetanakis Giannis
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2014/09/13 18:09:21 brad Exp $
d13 1
a13 1
V=		2.2.5
a21 2
REVISION-main=	0
REVISION-mysql=	0
@


1.57
log
@Switch from using MySQL to using MariaDB attempt #2. MariaDB is a drop-in replacement.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2014/07/17 00:20:51 sthen Exp $
d22 1
@


1.56
log
@update to freeradius 2.2.5, no reply from maintainer, looks sane to jca
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/04/21 13:09:47 ajacoutot Exp $
d22 1
d106 2
a107 2
LIB_DEPENDS-mysql=	databases/mysql
WANTLIB-mysql=		crypto execinfo ssl m pthread z mysqlclient_r>=16
@


1.55
log
@Drop modules/krb5; forgot in previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/04/21 13:07:08 ajacoutot Exp $
d4 2
a5 2
SHARED_LIBS +=  freeradius-radius    4.1      # .0.0
SHARED_LIBS +=  freeradius-eap       4.0      # .0.0
d13 1
a13 1
V=		2.2.0
a17 1
REVISION-main=	5
a18 1
REVISION-iodbc=	4
a19 1
REVISION-mysql=	4
a20 1
REVISION-pgsql=	2
a21 1
REVISION-ldap=	3
d38 2
a39 2
AUTOCONF_VERSION=2.61
CONFIGURE_ENV=	LDFLAGS="-L${LOCALBASE}/lib"
d55 2
a56 2
TEST_TARGET=	tests
TEST_DEPENDS=freeradius-$V:net/freeradius
d70 2
a71 1
LIB_DEPENDS-main =	databases/gdbm \
d73 1
a73 1
WANTLIB-main=		${WANTLIB} c pcap pthread readline \
d77 1
a77 1
FLAVOR?=		
d88 1
a88 1
WANTLIB-iodbc=		iodbc>=2 pthread
a90 1

d97 1
a97 1
WANTLIB-ldap=		crypto ssl sasl2 \
d106 1
a106 1
WANTLIB-mysql=		crypto ssl m pthread z mysqlclient_r>=16
d116 1
a116 1
WANTLIB-pgsql=		pq>=2
d123 2
a129 2
	mv ${WRKINST}/etc/raddb ${PREFIX}/share/examples/freeradius

d131 1
a131 1
    share/examples/freeradius/dictionary share/examples/freeradius/radiusd.conf 
a133 1

@


1.54
log
@Drop kerberos support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/04/13 20:16:03 ajacoutot Exp $
d18 1
a18 1
REVISION-main=	4
@


1.53
log
@Spring cleaning:
- not need for gtar
- reduce some chunks in patches and use post-install to rm what we don't want
- drop uneeded patches/chunks

ok pea@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2014/01/24 21:30:36 landry Exp $
d18 1
a18 1
REVISION-main=	3
d26 1
a26 1
REVISION-ldap=	2
a56 1
		--enable-heimdal-krb5 \
d67 1
a67 1
CFLAGS=		-I${LOCALBASE}/include $$(krb5-config --cflags)
d77 1
a77 1
WANTLIB-main=		${WANTLIB} c com_err krb5 pcap pthread readline \
d102 2
a103 3
WANTLIB-ldap=		crypto ssl sasl2 asn1 com_err gssapi krb5 \
			lber>=8 ldap_r>=8 freeradius-radius>=1 pthread \
			heimbase roken wind
@


1.52
log
@Sprinkle some explicit @@mode 640 on files which already have this mode.
Should appease pkg_create's future wrath.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/11/10 12:20:29 espie Exp $
d18 1
a18 1
REVISION-main=	2
d44 1
a44 5
# we only patch {WRKSRC}/configure.in so there's no need
# to set AUTOCONF_DIR for the modules
CFLAGS+=	-I${LOCALBASE}/include $$(krb5-config --cflags)
LDFLAGS+=	-L${LOCALBASE}/lib
CONFIGURE_ENV=	LDFLAGS="${LDFLAGS}"
d68 2
a72 1
USE_GROFF =	Yes
d74 1
a74 1
TAR=			${LOCALBASE}/bin/gtar
a75 2
BUILD_DEPENDS=		archivers/gtar \
			net/net-snmp
d131 2
a132 1
	@@perl -pi -e 's,/etc/raddb,${SYSCONFDIR}/raddb,g' ${WRKSRC}/man/*/*
d135 2
d139 1
a139 1
	@@perl -pi -e 's,\$${DESTDIR},,g' ${PREFIX}/$f
d141 3
a143 1
	rm ${PREFIX}/lib/freeradius/*.la ${PREFIX}/lib/freeradius/*.a
@


1.51
log
@use bsd.port.arch.mk for proper multi-packages
move as much as possible outside the conditionals
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/06/20 06:54:37 ajacoutot Exp $
d20 1
a20 1
REVISION-iodbc=	3
d22 1
a22 1
REVISION-mysql=	3
d24 1
a24 1
REVISION-pgsql=	1
d26 1
a26 1
REVISION-ldap=	1
@


1.50
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/06/17 19:30:53 ajacoutot Exp $
d69 1
a69 1
MULTI_PACKAGES=	-main
d89 5
a93 1
.if ${FLAVOR:Mno_iodbc}
d95 2
a96 3
.else
MULTI_PACKAGES+=	-iodbc
CONFIGURE_ARGS+=	--with-rlm_sql_iodbc
d100 4
a105 4
.if ${FLAVOR:Mno_ldap}
CONFIGURE_ARGS+=	--without-rlm_ldap
.else
MULTI_PACKAGES+=	-ldap
d112 3
a116 4
.if ${FLAVOR:Mno_mysql}
CONFIGURE_ARGS+=	--without-rlm_sql_mysql
.else
MULTI_PACKAGES+=	-mysql
d120 5
a126 5
.if ${FLAVOR:Mno_pgsql}
CONFIGURE_ARGS+=	--without-rlm_sql_postgresql
.else
MULTI_PACKAGES+=	-pgsql
CONFIGURE_ARGS+=	--with-rlm-sql-postgresql-include-dir=${LOCALBASE}/include/postgresql
a129 1
.endif
@


1.49
log
@Unbreak with new Heimdal; get rid of self-cooked krb5-config since we
have it in base now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/06/12 20:36:34 brad Exp $
d18 1
a18 1
REVISION-main=	1
d20 1
a20 1
REVISION-iodbc=	2
d22 1
a22 1
REVISION-mysql=	2
d24 1
a24 1
REVISION-pgsql=	0
d26 1
a26 1
REVISION-ldap=	0
d107 1
a107 1
			heimbase heimntlm hx509 roken wind
@


1.48
log
@Revert back to using MySQL 5.1 for the time being. MariaDB 5.5 introduces
a new libmysqlclient non-blocking API which utilizes co-routines. The X86
specific GCC ASM co-routine support hid the fact that there was an issue.
The only fallback code so far is POSIX user contexts which OpenBSD does not
support.

Input from and Ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/05/25 00:33:10 brad Exp $
d18 1
d20 1
d22 1
a22 1
REVISION-mysql=	1
d24 1
d26 1
d40 1
a40 1
WANTLIB=	crypto ssl
d46 1
a46 1
CFLAGS+=	-I${LOCALBASE}/include
d61 1
a62 1
		--with-rlm-krb5-include-dir=/usr/include/kerberosV \
d84 1
a84 1
			termcap gdbm>=3 ltdl>=4
d96 1
d105 4
a108 2
WANTLIB-ldap=		${WANTLIB} sasl2 asn1 com_err gssapi krb5 \
			lber>=8 ldap_r>=8 freeradius-radius>=1 pthread
d116 2
a117 1
WANTLIB-mysql=		${WANTLIB} m pthread z mysqlclient_r>=16
d127 1
@


1.47
log
@Switch from using MySQL to using MariaDB. MariaDB is a drop-in replacement.


ok sthen aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/03/21 08:41:16 brad Exp $
d20 1
a20 1
REVISION-mysql=	0
d108 1
a108 1
LIB_DEPENDS-mysql=	databases/mariadb
@


1.46
log
@Remove redundant BUILD_DEPENDS. LIB_DEPENDS are BUILD_DEPENDS.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/03/11 11:35:46 espie Exp $
d20 1
d108 1
a108 1
LIB_DEPENDS-mysql=	databases/mysql
@


1.45
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/02/09 14:49:51 sthen Exp $
a87 1
BUILD_DEPENDS+=		databases/iodbc
a96 1
BUILD_DEPENDS+=		databases/openldap
a106 1
BUILD_DEPENDS+=		databases/mysql
a114 1
BUILD_DEPENDS+=		databases/postgresql
@


1.44
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/09/16 12:44:02 pea Exp $
a33 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d60 3
a62 3
REGRESS_TARGET=	tests
REGRESS_DEPENDS=freeradius-$V:net/freeradius
REGRESS_IS_INTERACTIVE=Yes # doesn't exit properly
d138 1
a138 1
pre-regress:
@


1.43
log
@Update to 2.2.0
Fix for CVE-2012-3547.
Lots of bugfixes and improvements.

With help/tweaks from sthen@@

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2012/04/28 10:52:08 ajacoutot Exp $
d87 1
a87 1
.if ${FLAVOR:L:Mno_iodbc}
d97 1
a97 1
.if ${FLAVOR:L:Mno_ldap}
d108 1
a108 1
.if ${FLAVOR:L:Mno_mysql}
d117 1
a117 1
.if ${FLAVOR:L:Mno_pgsql}
@


1.42
log
@--localstatedir=/var is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/12/28 10:44:43 pea Exp $
d4 1
a4 1
SHARED_LIBS +=  freeradius-radius    4.0      # .0.0
d13 1
a13 1
V=		2.1.12
d60 2
a61 1
		--with-rlm-krb5-include-dir=/usr/include/kerberosV 
d94 1
a94 1
WANTLIB-iodbc=		iodbc>=2
d105 1
a105 1
			lber>=8 ldap_r>=8 freeradius-radius>=1
@


1.42.2.1
log
@backport fix for CVE-2012-3547 in freeradius.  ok pea@@

From http://freeradius.org/security.html, "All sites using TLS-based
EAP methods and the above versions are vulnerable. The only configuration
change which can avoid the issue is to disable EAP-TLS, EAP-TTLS, and PEAP.

An external attacker can use this vulnerability to over-write the
stack frame of the RADIUS server, and cause it to crash. In addition,
more sophisticated attacks may gain additional privileges on the
system running the RADIUS server.

This attack does not require local network access to the RADIUS
server. It can be done by an attacker through a WiFi Access Point,
so long as the Access Point is configured to use 802.1X authentication
with the RADIUS server."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2012/04/28 10:52:08 ajacoutot Exp $
a13 1
REVISION-main=	0
@


1.41
log
@Update to 2.1.12
Rollback patch-src_modules_rules_mak that broke libtool
in a subtle way (lots of lazy binding).

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/11/22 19:14:20 jasper Exp $
a48 1
		--localstatedir='$${DESTDIR}/var' \
@


1.40
log
@- mention why this needs gnu libtool
- fix libtool invocation while here to something that is correct (and wouldn't
choke our libtool if we were to use it).

no binary change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/09/22 13:57:29 pea Exp $
d13 1
a13 1
V=		2.1.11
@


1.39
log
@Update to 2.1.11

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/09/20 15:57:23 jasper Exp $
d71 1
a71 1
# depends on libltdl
@


1.38
log
@use gtar to extract the distfile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/09/16 11:13:38 espie Exp $
d13 1
a13 1
V=		2.1.10
a21 6

REVISION-main=	4
REVISION-iodbc= 2
REVISION-mysql= 2
REVISION-pgsql= 2
REVISION-ldap=	2
@


1.37
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/09/07 10:29:35 jasper Exp $
d81 4
a84 1
BUILD_DEPENDS=	net/net-snmp
@


1.36
log
@pea@@ takes over maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/06/03 21:38:44 ajacoutot Exp $
d24 4
a27 4
REVISION-iodbc= 1
REVISION-mysql= 1
REVISION-pgsql= 1
REVISION-ldap=	1
@


1.35
log
@Fix rc.d script ownerships.

from Bjorn Ketelaars
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/05/11 12:03:19 jasper Exp $
d23 5
a27 5
REVISION-main=	3
REVISION-iodbc= 0
REVISION-mysql= 0
REVISION-pgsql= 0
REVISION-ldap=	0
d36 1
a36 1
MAINTAINER=	Rui Reis <rui@@openbsd.org>
@


1.34
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/04/20 15:05:24 jasper Exp $
d23 1
a23 1
REVISION-main=	2
@


1.33
log
@bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/04/17 17:56:02 jasper Exp $
d23 1
a23 1
REVISION-main=	1
@


1.32
log
@- remove unnecessary NULL casts
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/04/15 09:44:06 pea Exp $
d24 4
@


1.31
log
@+ Remove MESSAGE
+ Fix directories permissions
+ Add a rc script

maintainer timed out
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/11/22 09:53:43 espie Exp $
d23 1
a23 1
REVISION=	0
@


1.30
log
@missed depend
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/11/22 09:30:38 espie Exp $
d22 2
@


1.29
log
@missed a few depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/11/19 22:31:33 espie Exp $
d64 1
a64 1
REGRESS_DEPENDS=:freeradius-$V:net/freeradius
@


1.28
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/11/11 11:54:09 espie Exp $
d75 1
a75 1
BUILD_DEPENDS=	::net/net-snmp
@


1.27
log
@WANTLIB conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/10/25 13:22:20 pea Exp $
d76 2
a77 2
LIB_DEPENDS-main =	::databases/gdbm \
			::devel/libtool,-ltdl
d79 1
a79 1
			termcap gdbm.>=3 ltdl.>=4
d88 1
a88 1
BUILD_DEPENDS+=		::databases/iodbc
d90 2
a91 2
LIB_DEPENDS-iodbc=	::databases/iodbc
WANTLIB-iodbc=		iodbc.>=2
d98 3
a100 3
BUILD_DEPENDS+=		:openldap-client-*:databases/openldap
LIB_DEPENDS-ldap=	:openldap-client-*:databases/openldap \
			::${BASE_PKGPATH}
d102 1
a102 1
			lber.>=8 ldap_r.>=8 freeradius-radius.>=1
d109 3
a111 3
BUILD_DEPENDS+=		:mysql-client-*:databases/mysql
LIB_DEPENDS-mysql=	:mysql-client-*:databases/mysql
WANTLIB-mysql=		${WANTLIB} m pthread z mysqlclient_r.>=16
d118 1
a118 1
BUILD_DEPENDS+=		:postgresql-client-*:databases/postgresql
d120 2
a121 2
LIB_DEPENDS-pgsql=	:postgresql-client-*:databases/postgresql
WANTLIB-pgsql=		pq.>=2
d125 1
a125 1
RUN_DEPENDS$i +=	:freeradius-$V:net/freeradius
@


1.26
log
@Update to 2.1.10.

ok aja@@, maintainer timed out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/10/18 18:36:47 espie Exp $
a38 1
WANTLIB-main=	${WANTLIB} c com_err krb5 pcap pthread readline termcap
d76 4
a79 2
LIB_DEPENDS=	gdbm.>=3::databases/gdbm \
		ltdl.>=4::devel/libtool,-ltdl
d90 2
a91 2
LIB_DEPENDS-iodbc=	iodbc.>=2::databases/iodbc
WANTLIB-iodbc=
d99 4
a102 3
LIB_DEPENDS-ldap=	lber.>=8,ldap_r.>=8:openldap-client-*:databases/openldap \
			freeradius-radius.>=1::net/freeradius
WANTLIB-ldap=		${WANTLIB} sasl2 asn1 com_err gssapi krb5
d110 2
a111 2
LIB_DEPENDS-mysql=	mysqlclient_r.>=16:mysql-client-*:databases/mysql
WANTLIB-mysql=		${WANTLIB} m pthread z
d120 2
a121 2
LIB_DEPENDS-pgsql=	pq.>=2:postgresql-client-*:databases/postgresql
WANTLIB-pgsql=
@


1.25
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/09/26 08:33:12 steven Exp $
d13 1
a13 1
V=		2.1.9
@


1.24
log
@indicate reason for gnu libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/06/23 16:27:57 steven Exp $
d74 1
@


1.23
log
@use gnu libtool (needs ltdl)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/05/17 16:39:25 sthen Exp $
d72 1
@


1.23.2.1
log
@SECURITY FIX

CVE-2010-3696
http://github.com/alandekok/freeradius-server/commit/4dc7800b866f889a1247685bbaa6dd4238a56279

CVE-2010-3697
http://github.com/alandekok/freeradius-server/commit/ff94dd35673bba1476594299d31ce8293b8bd223

from pea@@, thanks!

ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/06/23 16:27:57 steven Exp $
a21 2

REVISION=	0
@


1.22
log
@Update to 2.1.9

"looks good" sthen@@
Tested by ajacoutot@@ (Thanks !)
ok rui@@ (maintainer)
@
text
@d72 1
a72 1
USE_LIBTOOL=	Yes
@


1.21
log
@Update freeradius-server to 2.1.8; fixes licensing (was GPL linked
with OpenSSL; this version adds an exemption clause). Much cleanup of
the port, particularly giving a simpler installation for new users.

Thanks pea@@ for testing. Maintainer timeout.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/12/29 19:17:36 rui Exp $
d13 1
a13 1
V=		2.1.8
@


1.20
log
@- maintenance update to freeradius 2.1.3. Check the Changelog for more information.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/09/21 15:39:14 rui Exp $
d3 9
a11 1
SHARED_ONLY=		Yes
d13 11
a23 15
COMMENT-main=		RADIUS server implementation
COMMENT-iodbc=		freeradius iodbc rlm addon
COMMENT-mysql=		freeradius mysql rlm addon
COMMENT-pgsql=		freeradius pgsql rlm addon
COMMENT-ldap=		freeradius ldap rlm addon

V=			2.1.3
DISTNAME=		freeradius-server-$V
PKGNAME-main=		freeradius-$V
PKGNAME-iodbc=		freeradius-iodbc-$V
PKGNAME-mysql=		freeradius-mysql-$V
PKGNAME-pgsql=		freeradius-pgsql-$V
PKGNAME-ldap=		freeradius-ldap-$V
SHARED_LIBS=		freeradius-eap	3.0 \
			freeradius-radius 3.0
a24 1
CATEGORIES=	net
a26 1
EXTRACT_SUFX=	.tar.bz2
d32 1
a32 1
# GPLv2 - LGPLv2
d38 11
a48 1
CONFIGURE_STYLE=gnu dest
a61 2
		--with-ltdl-lib=${LOCALBASE}/lib \
		--with-ltdl-include=${LOCALBASE}/include \
d63 4
a66 2
	
NO_REGRESS=	Yes
d69 1
a69 3

PSEUDO_FLAVORS=	no_ldap no_mysql no_pgsql no_iodbc
FLAVOR?=		
d78 2
a79 1
CFLAGS+=       -I${LOCALBASE}/include
d82 1
a82 1
CONFIGURE_ARGS+=--without-rlm_sql_iodbc
d84 5
a88 5
MULTI_PACKAGES+=-iodbc
BUILD_DEPENDS+=	::databases/iodbc
CONFIGURE_ARGS+=--with-rlm_sql_iodbc \
		--with-iodbc-include-dir='${LOCALBASE}/include' \
		--with-iodbc-lib-dir='${LOCALBASE}/lib'
d92 1
a92 1
CONFIGURE_ARGS+=--without-rlm_ldap
d94 5
a98 3
MULTI_PACKAGES+=-ldap
BUILD_DEPENDS+=	:openldap-client-*:databases/openldap
CONFIGURE_ARGS+=--with-rlm_ldap
d102 1
a102 1
CONFIGURE_ARGS+=--without-rlm_sql_mysql
d104 4
a107 3
MULTI_PACKAGES+=-mysql
BUILD_DEPENDS+=	:mysql-client-*:databases/mysql
CONFIGURE_ARGS+=--with-rlm_sql_mysql
d111 1
a111 1
CONFIGURE_ARGS+=--without-rlm_sql_postgresql
d113 5
a117 5
MULTI_PACKAGES+=-pgsql
BUILD_DEPENDS+=	:postgresql-client-*:databases/postgresql
CONFIGURE_ARGS+=--with-rlm_sql_postgresql \
		--with-rlm-sql-postgresql-lib-dir=${LOCALBASE}/lib/ \
		--with-rlm-sql-postgresql-include-dir=${LOCALBASE}/include/postgresql
d120 3
a122 11
LIB_DEPENDS-iodbc=	iodbc.>=2::databases/iodbc
RUN_DEPENDS-iodbc=	::net/freeradius
LIB_DEPENDS-ldap=	lber.>=8,ldap_r.>=8:openldap-client-*:databases/openldap \
			freeradius-radius.>=1::net/freeradius
WANTLIB-ldap=		crypto sasl2 ssl asn1 com_err gssapi krb5
LIB_DEPENDS-mysql=	mysqlclient_r.>=16:mysql-client-*:databases/mysql
RUN_DEPENDS-mysql=	::net/freeradius
WANTLIB-mysql=		crypto m pthread ssl z
LIB_DEPENDS-pgsql=	pq.>=2:postgresql-client-*:databases/postgresql
RUN_DEPENDS-pgsql=	::net/freeradius
WANTLIB-main=		c com_err crypto krb5 pcap pthread readline ssl termcap
d132 4
@


1.19
log
@- maintenance update to freeradius 2.1.0.
- SNMP support is now available through an experimental Perl script.
- If snmp.conf is being used in your radiusd.conf you should delete or comment that entry.
- Check the Changelog for more information.

input and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/07/28 21:51:10 rui Exp $
d11 1
a11 1
V=			2.1.0
d18 2
a19 2
SHARED_LIBS=		freeradius-eap	2.0 \
			freeradius-radius 2.0
d116 1
a116 1
WANTLIB-main=		c com_err crypto krb5 pcap pthread ssl
@


1.18
log
@- maintenance update to freeradius 2.0.5. Check the Changelog for more information.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/06/05 19:49:17 rui Exp $
d11 1
a11 1
V=			2.0.5
d18 2
a19 2
SHARED_LIBS=		freeradius-eap	1.0 \
			freeradius-radius 1.0
@


1.17
log
@- fix MESSAGE examples path. Pointed by Jonathan Armani.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/05/05 19:32:02 rui Exp $
d11 1
a11 1
V=			2.0.4
d13 1
a13 1
PKGNAME-main=		freeradius-$Vp0
d18 2
a19 2
SHARED_LIBS=		freeradius-eap	0.0 \
			freeradius-radius 0.0
d109 1
a109 1
			freeradius-radius.>=0::net/freeradius
@


1.16
log
@- maintenance update to freeradius 2.04. Check the Changelog for more information.

ok mbalmer@@, jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/03/21 19:25:33 rui Exp $
d13 1
a13 1
PKGNAME-main=		freeradius-$V
@


1.15
log
@- update freeradius to 2.0.3. Check the Changelog for more information.

"if it works for you, I'd say commit it" ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/03/15 10:14:44 ajacoutot Exp $
d11 1
a11 1
V=			2.0.3
d123 1
a123 2
    sbin/check-radiusd-config share/examples/freeradius/dictionary \
    share/examples/freeradius/radiusd.conf
@


1.14
log
@- add one more @@sample dir+file

ok rui@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/02/18 15:46:43 ajacoutot Exp $
d11 1
a11 1
V=			2.0.1
d13 1
a13 1
PKGNAME-main=		freeradius-$Vp1
@


1.13
log
@- add more @@sample files (make it easier for new configurations)
- tweak license marker
- regen patches while here

ok rui@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/01/25 18:59:19 rui Exp $
d13 1
a13 1
PKGNAME-main=		freeradius-$Vp0
@


1.12
log
@- update freeradius to 2.0.1. "The focus of this release is stability."

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/01/21 22:21:24 rui Exp $
d13 1
a13 1
PKGNAME-main=		freeradius-$V
d30 1
a30 1
# GPL
@


1.11
log
@- update freeradius to 2.0.0. Check the Changelog for more information.

input and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/09/16 22:11:31 rui Exp $
d11 1
a11 1
V=			2.0.0
d110 1
a110 1
WANTLIB-ldap=		crypto pthread sasl2 ssl asn1 com_err gssapi krb5
@


1.10
log
@update freeradius to 1.1.7, the focus of this release is stability.
A number of bugs that found in 1.1.6 have been fixed.

ok Tim Kornau (maintainer), sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/09/15 22:36:53 merdely Exp $
d11 3
a13 3
V=			1.1.7
DISTNAME=		freeradius-$V
PKGNAME-main=		${DISTNAME}
d18 2
a19 2
SHARED_LIBS=		eap	3.0 \
			radius	3.0
d24 1
d28 1
a28 1
MAINTAINER=	Tim Kornau <opti@@openbsd.de>
d43 2
a107 1
WANTLIB-iodbc=		pthread
d109 1
a109 1
			radius.>=1::net/freeradius
d116 1
a116 1
WANTLIB-main=		c com_err crypto krb5 pthread ssl
@


1.9
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/05/29 20:21:26 rui Exp $
d11 1
a11 1
V=			1.1.6
d17 3
a19 3
PKGNAME-ldap=		freeradius-ldap-${V}
SHARED_LIBS=		eap	2.0 \
			radius	2.0
@


1.8
log
@update freeradius to 1.1.6

fix lots of bugs and security problems
references:
- http://www.freeradius.org/security.html
- http://www.freeradius.org/press/index.html#1.1.6
- CVE-2007-2028

also quickly tested by maja@@, thanks!

ok Tim Kornau (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/11/25 19:34:54 steven Exp $
d5 5
a9 5
COMMENT-main=		"RADIUS server implementation"
COMMENT-iodbc=		"freeradius iodbc rlm addon"
COMMENT-mysql=		"freeradius mysql rlm addon"
COMMENT-pgsql=		"freeradius pgsql rlm addon"
COMMENT-ldap=		"freeradius ldap rlm addon"
@


1.7
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/11/11 13:16:58 mbalmer Exp $
d11 1
a11 1
V=			1.1.1
d13 1
a13 1
PKGNAME-main=		${DISTNAME}p2
d17 3
a19 3
PKGNAME-ldap=		freeradius-ldap-${V}p0
SHARED_LIBS=		eap	1.0 \
			radius	1.0
d65 1
@


1.7.2.1
log
@MFC:
update freeradius to 1.1.6

fix lots of bugs and security problems
references:
- http://www.freeradius.org/security.html
- http://www.freeradius.org/press/index.html#1.1.6
- CVE-2007-2028
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/11/25 19:34:54 steven Exp $
d11 1
a11 1
V=			1.1.6
d13 1
a13 1
PKGNAME-main=		${DISTNAME}
d17 3
a19 3
PKGNAME-ldap=		freeradius-ldap-${V}
SHARED_LIBS=		eap	2.0 \
			radius	2.0
a64 1
CFLAGS+=	-I${LOCALBASE}/include
@


1.6
log
@Fix WANTLIB for the -ldap subpackage after changes in databases/openldap.
Problem found by steven@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/08/03 23:15:57 espie Exp $
d5 1
a5 1
COMMENT=		"RADIUS server implementation"
d13 1
a13 1
PKGNAME=		${DISTNAME}p1
d53 1
a53 2
MULTI_PACKAGES=
SUBPACKAGE?=
d102 12
a113 20
.if defined(PACKAGING)
.  if ${SUBPACKAGE} == "-iodbc"
LIB_DEPENDS=	iodbc.>=2::databases/iodbc
RUN_DEPENDS=	::net/freeradius
WANTLIB=	pthread
.  elif ${SUBPACKAGE} == "-ldap"
LIB_DEPENDS=	lber.>=8,ldap_r.>=8:openldap-client-*:databases/openldap \
		radius.>=1::net/freeradius
WANTLIB=	crypto pthread sasl2 ssl asn1 com_err gssapi krb5
.  elif ${SUBPACKAGE} == "-mysql"
LIB_DEPENDS=	mysqlclient_r.>=16:mysql-client-*:databases/mysql
RUN_DEPENDS=	::net/freeradius
WANTLIB=	crypto m pthread ssl z
.  elif ${SUBPACKAGE} == "-pgsql"
LIB_DEPENDS=	pq.>=2:postgresql-client-*:databases/postgresql
RUN_DEPENDS=	::net/freeradius
.  else
WANTLIB=	c com_err crypto krb5 pthread ssl
.  endif
.endif
@


1.5
log
@new style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/07/11 11:30:06 steven Exp $
d17 1
a17 1
PKGNAME-ldap=		freeradius-ldap-$V
d111 1
a111 1
WANTLIB=	crypto pthread sasl2 ssl
@


1.5.2.1
log
@MFC:
update freeradius to 1.1.6

fix lots of bugs and security problems
references:
- http://www.freeradius.org/security.html
- http://www.freeradius.org/press/index.html#1.1.6
- CVE-2007-2028
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/08/03 23:15:57 espie Exp $
d11 1
a11 1
V=			1.1.6
d13 1
a13 1
PKGNAME=		${DISTNAME}
d18 2
a19 2
SHARED_LIBS=		eap	2.0 \
			radius	2.0
a65 1
CFLAGS+=	-I${LOCALBASE}/include
@


1.4
log
@better master sites
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/06/01 14:25:06 steven Exp $
d63 2
a64 2
LIB_DEPENDS=	gdbm.3::databases/gdbm \
		ltdl.4::devel/libtool,-ltdl
d105 1
a105 1
LIB_DEPENDS=	iodbc.2::databases/iodbc
d109 2
a110 2
LIB_DEPENDS=	lber.8,ldap_r.8:openldap-client-*:databases/openldap \
		radius.1::net/freeradius
d113 1
a113 1
LIB_DEPENDS=	mysqlclient_r.16:mysql-client-*:databases/mysql
d117 1
a117 1
LIB_DEPENDS=	pq.2:postgresql-client-*:databases/postgresql
@


1.3
log
@fix ownership of radius log directory.

from Antoine Jacoutot, ok maintainer Tim Kornau
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/05/27 07:24:39 alek Exp $
d22 2
a23 1
MASTER_SITES=	ftp://ftp.freeradius.org/pub/radius/
@


1.2
log
@New ownership and file modes for configuration files to protect them as
there are plain text passwords in those files.

From Antoine Jacoutot <ajacoutot@@lphp.org>

ok Tim Kornau <opti@@openbsd.de> (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/04/16 14:37:08 sturm Exp $
d13 1
a13 1
PKGNAME=		${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d13 1
@


1.1.1.1
log
@Initial import of freeradius 1.1.1

FreeRADIUS is an Internet authentication daemon, which implements
the RADIUS protocol, as defined in RFC 2865 (and others).

based on a port from maintainer Tim Kornau <opti@@openbsd.de>
@
text
@@
