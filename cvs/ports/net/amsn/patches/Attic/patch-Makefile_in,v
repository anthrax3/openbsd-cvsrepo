head	1.9;
access;
symbols
	OPENBSD_5_9:1.8.0.2
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.4
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.7.0.10
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.8
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.6
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.4
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.2
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.6.0.2
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.4
	OPENBSD_5_0:1.5.0.2
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.3.0.8
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.6
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.4
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.2
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	steven-20071022:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2016.04.21.20.28.26;	author naddy;	state dead;
branches;
next	1.8;
commitid	iy5UPuNw6GqcOIVp;

1.8
date	2015.07.17.21.48.40;	author jasper;	state Exp;
branches;
next	1.7;
commitid	f6TawgXBWbIMp3Op;

1.7
date	2012.08.12.17.33.04;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2012.04.05.16.08.55;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.07.07.13.14.29;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2010.09.14.12.34.42;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2008.08.31.17.16.22;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2008.02.02.21.17.50;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2007.10.22.19.32.24;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.10.22.19.32.24;	author steven;	state Exp;
branches;
next	;


desc
@@


1.9
log
@remove clients for discontinued Microsoft Messenger service
noticed by Frederic Cambus
@
text
@$OpenBSD: patch-Makefile_in,v 1.8 2015/07/17 21:48:40 jasper Exp $
--- Makefile.in.orig	Fri May 18 13:28:05 2012
+++ Makefile.in	Fri Jul 17 15:44:26 2015
@@@@ -16,10 +16,10 @@@@ STATIC		:= @@STATIC@@
 doc_files	:= docs INSTALL CREDITS FAQ GNUGPL HELP README TODO AGREEMENT remote.help
 
 FILES_TO_INSTALL := *.tcl hotmlog.htm amsn amsn-remote amsn-remote-CLI amsn.desktop langlist
-FILES_TO_INSTALL += $(doc_files)
+FILES_TO_INSTALL += remote.help
 FILES_TO_INSTALL += desktop-icons lang skins utils/des utils/base64 utils/drawboard utils/framec utils/http
 FILES_TO_INSTALL += utils/pixmapscroll utils/pixmapmenu utils/contentmanager
-FILES_TO_INSTALL += utils/scalable-bg utils/sha1 utils/snit utils/BWidget-1.9.0 utils/dpbrowser
+FILES_TO_INSTALL += utils/scalable-bg utils/sha1 utils/snit utils/dpbrowser
 FILES_TO_INSTALL += plugins utils/sexytile
 FILES_TO_INSTALL += utils/log utils/uri utils/combobox utils/voipcontrols
 FILES_TO_INSTALL += utils/md4 utils/sasl ca-certs
@@@@ -88,9 +88,7 @@@@ HAVE_FARSTREAM  := @@HAVE_FARSTREAM@@
 HAVE_FARSIGHT   := @@HAVE_FARSIGHT@@
 
 ADDITIONAL_FLAGS = $(WARN_FLAGS) $(LFS_FLAGS) ${TCL_INC_SPEC} ${TK_INC_SPEC}
-ifeq (@@DEBUG@@,no)
-ADDITIONAL_FLAGS   += -O2
-else
+ifeq (@@DEBUG@@,yes)
 ADDITIONAL_FLAGS   += -g3 -DDEBUG
 endif
 ADDITIONAL_FLAGS   += -DPACKAGE='"$(PACKAGE)"'
@@@@ -108,7 +106,7 @@@@ endif
 # build final cflags
 CFLAGS   := @@CFLAGS@@ $(ADDITIONAL_FLAGS)
 
-CXXFLAGS := @@CXXFLAGS@@ $(ADDITIONAL_FLAGS)
+CXXFLAGS := @@CFLAGS@@ @@CXXFLAGS@@ $(ADDITIONAL_FLAGS)
 
 ifeq ($(STATIC),yes)
 CXXFLAGS += -static-libgcc -L.
@@@@ -251,9 +249,9 @@@@ install:: $(FILES_TO_INSTALL) | install_libs
 	# This doesn't work if the libdir has quotes in it
 	sed -i -e 's#^set lib_path ""$$#set lib_path "$(libdir)/$(PACKAGE)"#' $(DESTDIR)$(dstdir)/$(PACKAGE)/amsn
 
-	ln -sf $(dstdir)/$(PACKAGE)/amsn $(DESTDIR)$(slnkdir)/amsn
-	ln -sf $(dstdir)/$(PACKAGE)/amsn-remote $(DESTDIR)$(slnkdir)/amsn-remote
-	ln -sf $(dstdir)/$(PACKAGE)/amsn-remote-CLI $(DESTDIR)$(slnkdir)/amsn-remote-CLI
+#	ln -sf $(dstdir)/$(PACKAGE)/amsn $(DESTDIR)$(slnkdir)/amsn
+#	ln -sf $(dstdir)/$(PACKAGE)/amsn-remote $(DESTDIR)$(slnkdir)/amsn-remote
+#	ln -sf $(dstdir)/$(PACKAGE)/amsn-remote-CLI $(DESTDIR)$(slnkdir)/amsn-remote-CLI
 
 	cp $(srcdir)/amsn.desktop $(DESTDIR)$(dstdir)/applications/
 
@


1.8
log
@remove dance avoiding sed -i usage
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.7 2012/08/12 17:33:04 jasper Exp $
@


1.7
log
@- update to 0.98.9

from Azwaw OUSADOU (MAINTAINER)
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.in.orig	Fri May 18 21:28:05 2012
+++ Makefile.in	Sat Jul 14 19:55:28 2012
d37 1
a37 3
@@@@ -249,11 +247,13 @@@@ install:: $(FILES_TO_INSTALL) | install_libs
 	done
 
d39 1
a39 4
-	sed -i -e 's#^set lib_path ""$$#set lib_path "$(libdir)/$(PACKAGE)"#' $(DESTDIR)$(dstdir)/$(PACKAGE)/amsn
+	sed 's#^set lib_path ""$$#set lib_path "$(libdir)/$(PACKAGE)"#' $(DESTDIR)$(dstdir)/$(PACKAGE)/amsn > $(DESTDIR)$(dstdir)/$(PACKAGE)/amsn.patched
+	mv $(DESTDIR)$(dstdir)/$(PACKAGE)/amsn.patched \
+	$(DESTDIR)$(dstdir)/$(PACKAGE)/amsn && chmod +x $(DESTDIR)$(dstdir)/$(PACKAGE)/amsn
@


1.6
log
@- switch for farsight2 to farstream. all patches taken from upstream repositories.

ok aja@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.5 2011/07/07 13:14:29 jasper Exp $
--- Makefile.in.orig	Thu Mar 18 20:58:48 2010
+++ Makefile.in	Thu Apr  5 14:03:25 2012
@@@@ -11,10 +11,10 @@@@ STATIC		:= @@STATIC@@
d17 2
a18 30
@@@@ -82,7 +82,7 @@@@ USE_MMX		:= @@USE_MMX@@
 # build final cflags
 CFLAGS   := @@CFLAGS@@
 ifeq (@@DEBUG@@,no)
-CFLAGS   += -O2
+#CFLAGS   += -O2
 else
 CFLAGS   += -g3 -DDEBUG
 endif
@@@@ -104,9 +104,9 @@@@ CFLAGS   += -DPACKAGE='"$(PACKAGE)"'
 CFLAGS   += -DVERSION='"$(VERSION)"'
 CFLAGS   += -DLIBDIR='"$(LIBDIR)"'
 
-CXXFLAGS := @@CXXFLAGS@@
+CXXFLAGS := $(CFLAGS) @@CXXFLAGS@@
 ifeq (@@DEBUG@@,no)
-CXXFLAGS   += -O2
+#CXXFLAGS   += -O2
 else
 CXXFLAGS   += -g3 -DDEBUG
 endif
@@@@ -127,8 +127,8 @@@@ endif
 
 GST_LIBS        := @@GST_LIBS@@ @@GST_INTERFACES_LIBS@@
 GST_CFLAGS      := @@GST_CFLAGS@@ @@GST_INTERFACES_CFLAGS@@
-FARSIGHT2_LIBS  := @@FARSIGHT2_LIBS@@
-FARSIGHT2_CFLAGS := @@FARSIGHT2_CFLAGS@@
+FARSTREAM_LIBS  := @@FARSTREAM_LIBS@@
+FARSTREAM_CFLAGS := @@FARSTREAM_CFLAGS@@
 
d20 6
a25 3
 # for gcc3
@@@@ -169,7 +169,7 @@@@ ifeq (@@HAVE_GUPNP@@,yes)
   FILES_TO_INSTALL += utils/gupnp/gupnp.$(SHLIB_EXTENSION) utils/gupnp/pkgIndex.tcl
d27 4
d32 2
a33 4
-ifeq (@@HAVE_FARSIGHT@@,yes)
+ifeq (@@HAVE_FARSTREAM@@,yes)
   FILES_TO_INSTALL += utils/farsight/tcl_farsight.$(SHLIB_EXTENSION) utils/farsight/pkgIndex.tcl
 endif
d35 3
a37 2
@@@@ -234,9 +234,9 @@@@ install:: $(FILES_TO_INSTALL)
 		rm -Rf $(DESTDIR)$(dstdir)/$(PACKAGE)/$$p; \
d40 6
a54 9
@@@@ -319,7 +319,7 @@@@ include $(tclISF_dir)/src/Rules.mk
 include $(async_dir)/Rules.mk
 include $(async_dir)/src/Rules.mk
 
-ifeq (@@HAVE_FARSIGHT@@,yes)
+ifeq (@@HAVE_FARSTREAM@@,yes)
   include $(tcl_farsight_dir)/Rules.mk
   include $(tcl_farsight_dir)/src/Rules.mk
 endif
@


1.5
log
@- update to 0.98.4

from Azwaw OUSADOU (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.4 2010/09/14 12:34:42 jasper Exp $
d3 1
a3 1
+++ Makefile.in	Tue Jun 21 11:02:26 2011
d38 20
d71 9
@


1.4
log
@- update amsn to 0.98.3

from Azwaw OUSADOU, with some tweaks by me
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.in.orig	Mon Oct 19 20:52:33 2009
+++ Makefile.in	Sun Dec 27 22:50:18 2009
d16 2
a17 2
 
@@@@ -81,7 +81,7 @@@@ USE_MMX		:= @@USE_MMX@@
d26 1
a26 1
@@@@ -103,9 +103,9 @@@@ CFLAGS   += -DPACKAGE='"$(PACKAGE)"'
d38 1
a38 1
@@@@ -233,9 +233,9 @@@@ install:: $(FILES_TO_INSTALL)
@


1.3
log
@update to 0.97.2

similar diff from bsdmaniak at gmail
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.2 2008/02/02 21:17:50 steven Exp $
--- Makefile.in.orig	Thu May 29 00:46:00 2008
+++ Makefile.in	Sun Aug 31 11:41:07 2008
d10 1
a10 1
 FILES_TO_INSTALL += desktop-icons lang skins utils/base64 utils/drawboard utils/framec utils/http2.4
d12 1
a12 1
-FILES_TO_INSTALL += utils/scalable-bg utils/sha1 utils/snit utils/bwidget1.8.0 utils/dpbrowser
d15 1
a15 1
 FILES_TO_INSTALL += utils/log utils/uri utils/combobox
d17 1
a17 1
@@@@ -80,7 +80,7 @@@@ USE_MMX		:= @@USE_MMX@@
d26 3
a28 2
@@@@ -133,18 +133,18 @@@@ ifeq ($(FOUND_OS),linux)
 FILES_TO_INSTALL += utils/webcamsn/webcamsn.so utils/webcamsn/pkgIndex.tcl utils/TkCximage/TkCximage.so utils/TkCximage/pkgIndex.tcl utils/linux/capture/capture.so utils/linux/capture/pkgIndex.tcl utils/linux/linflash/flash.so utils/linux/linflash/pkgIndex.tcl utils/linux/traydock/libtray.so  utils/linux/traydock/pkgIndex.tcl utils/linux/capture/libng/plugins/drv0-v4l2.so utils/linux/capture/libng/plugins/drv1-v4l.so utils/linux/capture/libng/plugins/conv-mjpeg.so utils/linux/capture/libng/plugins/sn9c10x.so utils/tcl_siren/tcl_siren.so utils/tcl_siren/pkgIndex.tcl
d30 7
a36 19
 FILES_TO_EXCLUDE += AppMain.tcl
-else 
-	ifeq ($(FOUND_OS),bsd)
+endif
+
+ifeq ($(FOUND_OS),bsd)
 FILES_TO_INSTALL += utils/webcamsn/webcamsn.so utils/webcamsn/pkgIndex.tcl utils/TkCximage/TkCximage.so utils/TkCximage/pkgIndex.tcl utils/linux/linflash/flash.so utils/linux/linflash/pkgIndex.tcl utils/linux/traydock/libtray.so  utils/linux/traydock/pkgIndex.tcl utils/tcl_siren/tcl_siren.so utils/tcl_siren/pkgIndex.tcl
 
 FILES_TO_EXCLUDE += AppMain.tcl
-	else 
-		ifeq ($(FOUND_OS),solaris)
+endif
+
+ifeq ($(FOUND_OS),solaris)
 FILES_TO_INSTALL += utils/webcamsn/webcamsn.so utils/webcamsn/pkgIndex.tcl utils/TkCximage/TkCximage.so utils/TkCximage/pkgIndex.tcl utils/linux/capture/capture.so utils/linux/capture/pkgIndex.tcl utils/linux/linflash/flash.so utils/linux/linflash/pkgIndex.tcl utils/linux/traydock/libtray.so  utils/linux/traydock/pkgIndex.tcl utils/linux/capture/libng/plugins/drv0-v4l2.so utils/linux/capture/libng/plugins/conv-mjpeg.so utils/tcl_siren/tcl_siren.so utils/tcl_siren/pkgIndex.tcl
 
 FILES_TO_EXCLUDE += AppMain.tcl
-		endif
-	endif
d38 1
a38 3
 
 CONFIGURE_ARGS := @@CONFIGURE_ARGS@@
@@@@ -189,9 +189,9 @@@@ install:: $(FILES_TO_INSTALL)
d45 3
a47 3
+	#ln -sf $(dstdir)/$(PACKAGE)/amsn $(DESTDIR)$(slnkdir)/amsn
+	#ln -sf $(dstdir)/$(PACKAGE)/amsn-remote $(DESTDIR)$(slnkdir)/amsn-remote
+	#ln -sf $(dstdir)/$(PACKAGE)/amsn-remote-CLI $(DESTDIR)$(slnkdir)/amsn-remote-CLI
a50 45
@@@@ -271,22 +271,29 @@@@ ifeq ($(FOUND_OS),linux)
       include $(tray_dir)/Rules.mk
       include $(linflash_dir)/Rules.mk
   endif
-else
-  ifeq ($(FOUND_OS),mac)
+endif
+
+ifeq ($(FOUND_OS),bsd)
+   ifeq ($(FOUND_X11),yes)
+      ADDLIBS    += ${X_LIBS}
+      include $(tray_dir)/Rules.mk
+  endif
+endif
+ifeq ($(FOUND_OS),mac)
 	include $(macosx_dir)/sndplay-src/Rules.mk
 	include $(macosx_dir)/growl1.0/Rules.mk
 	include $(macosx_dir)/growl1.0/src/Rules.mk
 	include $(macosx_dir)/tclCarbon/Rules.mk
 	include $(macosx_dir)/tclCarbon/src/Rules.mk
-  endif
-  ifeq ($(FOUND_OS),bsd)
+endif
+ifeq ($(FOUND_OS),bsd)
     ifeq ($(FOUND_X11),yes)
        ADDLIBS    += ${X_LIBS} 
       include $(tray_dir)/Rules.mk
       include $(linflash_dir)/Rules.mk
     endif
-  else
-    ifeq ($(FOUND_OS),solaris)
+endif
+ifeq ($(FOUND_OS),solaris)
       include $(capture_dir)/Rules.mk
       include $(capture_dir)/libng/Rules.mk
       include $(capture_dir)/libng/plugins/Rules.mk
@@@@ -296,8 +303,6 @@@@ else
         include $(tray_dir)/Rules.mk
         include $(linflash_dir)/Rules.mk
       endif
-    endif
-  endif
 endif
 
 #########################################################
@


1.2
log
@update to 0.97

based on a diff by Azwaw Ousadou (bsdmaniak at gmail)
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.1.1.1 2007/10/22 19:32:24 steven Exp $
--- Makefile.in.orig	Mon Dec 24 22:25:59 2007
+++ Makefile.in	Sat Feb  2 19:37:03 2008
d17 1
a17 1
@@@@ -77,7 +77,7 @@@@ USE_MMX		:= @@USE_MMX@@
d26 1
a26 1
@@@@ -124,16 +124,24 @@@@ ifeq ($(FOUND_OS),linux)
d30 2
a31 1
-else ifeq ($(FOUND_OS),bsd)
d33 1
d38 2
a39 1
-else ifeq ($(FOUND_OS),solaris)
d41 1
d46 2
a48 4
+ifeq ($(FOUND_OS),bsd)
+FILES_TO_INSTALL += utils/TkCximage/TkCximage.so utils/TkCximage/pkgIndex.tcl utils/linux/traydock/libtray.so utils/linux/traydock/pkgIndex.tcl utils/webcamsn/pkgIndex.tcl utils/webcamsn/webcamsn.so
+FILES_TO_EXCLUDE += AppMain.tcl utils/linux/capture/test.tcl
+endif
a49 2
+
+
d51 1
a51 3
 
 #########################################################
@@@@ -176,9 +184,9 @@@@ install:: $(FILES_TO_INSTALL)
d64 1
a64 1
@@@@ -254,13 +262,15 @@@@ ifeq ($(FOUND_OS),linux)
d68 18
a85 1
-else ifeq ($(FOUND_OS),bsd)
d88 1
a88 1
    ifeq ($(FOUND_X11),yes)
d92 3
a94 2
   endif
-else ifeq ($(FOUND_OS),solaris)
d97 9
a105 15
   include $(capture_dir)/Rules.mk
   include $(capture_dir)/libng/Rules.mk
   include $(capture_dir)/libng/plugins/Rules.mk
@@@@ -269,6 +279,13 @@@@ else ifeq ($(FOUND_OS),solaris)
       ADDLIBS	 += ${X_LIBS}
       include $(tray_dir)/Rules.mk
       include $(linflash_dir)/Rules.mk
+  endif
+endif
+
+ifeq ($(FOUND_OS),bsd)
+   ifeq ($(FOUND_X11),yes)
+      ADDLIBS    += ${X_LIBS}
+      include $(tray_dir)/Rules.mk
   endif
d108 1
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.in.orig	Wed Nov  1 18:05:49 2006
+++ Makefile.in	Mon Oct 22 20:47:10 2007
@@@@ -10,10 +10,10 @@@@ STATIC		:= @@STATIC@@
d10 1
a10 1
 FILES_TO_INSTALL += icons lang skins utils/base64 utils/drawboard utils/framec utils/http2.4
d12 1
a12 1
-FILES_TO_INSTALL += utils/scalable-bg utils/sha1 utils/snit utils/BWidget-1.7.0 utils/dpbrowser
d14 2
a15 2
 FILES_TO_INSTALL += plugins
 FILES_TO_INSTALL += utils/tclsoap1.6.7 utils/log utils/uri utils/tcldom utils/Tclxml utils/combobox
d17 1
a17 1
@@@@ -75,7 +75,7 @@@@ USE_MMX		:= @@USE_MMX@@
d26 16
a41 2
@@@@ -116,6 +116,13 @@@@ FILES_TO_INSTALL += utils/webcamsn/webcamsn.so utils/w
 FILES_TO_EXCLUDE += AppMain.tcl utils/linux/capture/test.tcl
a42 1
 
d47 1
a47 1
+
d53 32
a84 27
@@@@ -143,19 +150,20 @@@@ distclean:: clean
 
 install:: $(FILES_TO_INSTALL)
 	rm -Rf $(dstdir)/$(PACKAGE)
-	mkdir --parents $(dstdir)/$(PACKAGE)
+	mkdir -p  $(dstdir)/$(PACKAGE)
 	mkdir -p $(slnkdir)
 	@@for p in $?; do \
-			cp -Rf --parents $(srcdir)/$$p $(dstdir)/$(PACKAGE); \
+			mkdir -p $(dstdir)/$(PACKAGE)/`dirname $$p`; \
+			cp -Rf $(srcdir)/$$p $(dstdir)/$(PACKAGE)/`dirname $$p`; \
 		done
 	find $(dstdir)/$(PACKAGE) -name CVS -print | xargs rm -Rf
 	@@for p in $(FILES_TO_EXCLUDE); do \
 			rm -Rf $(dstdir)/$(PACKAGE)/$$p; \
 		done
 
-	ln -sf $(dstdir)/$(PACKAGE)/amsn $(slnkdir)/amsn
-	ln -sf $(dstdir)/$(PACKAGE)/amsn-remote $(slnkdir)/amsn-remote
-	ln -sf $(dstdir)/$(PACKAGE)/amsn-remote-CLI $(slnkdir)/amsn-remote-CLI
+	#ln -sf $(dstdir)/$(PACKAGE)/amsn $(slnkdir)/amsn
+	#ln -sf $(dstdir)/$(PACKAGE)/amsn-remote $(slnkdir)/amsn-remote
+	#ln -sf $(dstdir)/$(PACKAGE)/amsn-remote-CLI $(slnkdir)/amsn-remote-CLI
 
 	chmod -R +rx $(dstdir)/$(PACKAGE)
 	mkdir -p $(dstdir)/icons/hicolor
@@@@ -238,6 +246,13 @@@@ ifeq ($(FOUND_OS),linux)
@


1.1.1.1
log
@MSN messenger clone
@
text
@@
