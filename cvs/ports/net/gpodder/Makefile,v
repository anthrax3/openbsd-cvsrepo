head	1.12;
access;
symbols
	OPENBSD_6_2:1.12.0.2
	OPENBSD_6_2_BASE:1.12
	OPENBSD_6_1:1.10.0.2
	OPENBSD_6_1_BASE:1.10
	OPENBSD_6_0:1.9.0.4
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.8.0.4
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.6.0.6
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.4
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.2
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	jasper_20122004:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2017.06.13.07.43.56;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	WJTVcQDK1ECJgpKg;

1.11
date	2017.04.18.09.09.25;	author sthen;	state Exp;
branches;
next	1.10;
commitid	ScNk7aE1y6Gz3foo;

1.10
date	2016.10.23.01.59.16;	author czarkoff;	state Exp;
branches;
next	1.9;
commitid	srf3J2UvEZQrcKHA;

1.9
date	2015.11.24.09.11.05;	author jasper;	state Exp;
branches;
next	1.8;
commitid	x9aAifyKiYiivEom;

1.8
date	2015.04.04.09.21.02;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	kS3kwKZogsvzYmEY;

1.7
date	2015.03.27.08.13.03;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	qkrQPO6KjSKIuf3s;

1.6
date	2013.09.10.13.26.48;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2013.08.20.22.05.57;	author zhuk;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.11.11.35.47;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2012.06.15.08.32.17;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.04.22.18.43.12;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.04.20.10.51.22;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.04.20.10.51.22;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.12
log
@use the textproc/intltool MODULE.
@
text
@# $OpenBSD: Makefile,v 1.11 2017/04/18 09:09:25 sthen Exp $

COMMENT=		media aggregator and podcast client

MODPY_EGG_VERSION=	3.9.3
DISTNAME=		gpodder-${MODPY_EGG_VERSION}
CATEGORIES=		net www

HOMEPAGE=		http://gpodder.org/

MAINTAINER=		Tim Meunier <trondd@@kagu-tsuchi.com>

# GPLv3+
PERMIT_PACKAGE_CDROM=	Yes

GH_ACCOUNT=		gpodder
GH_PROJECT=		gpodder
GH_TAGNAME=		${DISTNAME}

MODULES=		lang/python \
			textproc/intltool

RUN_DEPENDS=		devel/desktop-file-utils \
			devel/gettext \
			net/mygpoclient \
			textproc/py-podcastparser \
			x11/dbus-python \
			x11/gtk+3,-guic \
			x11/py-gtk2
TEST_DEPENDS=		devel/py-minimock \
			devel/py-coverage \
			net/mygpoclient \
			textproc/py-feedparser

USE_GMAKE=		Yes
MAKE_FILE=		makefile
MAKE_ENV=		PYTHON=${MODPY_BIN} \
			GPODDER_MANPATH_NO_SHARE="yes"
ALL_TARGET=		messages

TEST_TARGET=		unittest

do-install:
	cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} \
		-f ${MAKE_FILE} install

post-install:
	${MODPY_BIN} ${MODPY_LIBDIR}/compileall.py ${PREFIX}/share/gpodder/extensions/

.include <bsd.port.mk>
@


1.11
log
@update to gpodder-3.9.3, from maintainer trondd at kagu-tsuchi/com
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2016/10/23 01:59:16 czarkoff Exp $
d20 2
a21 1
MODULES=		lang/python
a22 1
BUILD_DEPENDS=		textproc/intltool
@


1.10
log
@Update to gpodder 3.9.1

From Tim Meunier (new MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2015/11/24 09:11:05 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	3.9.1
d26 1
a26 1
			textproc/py-feedparser \
@


1.9
log
@switch distfiles.nl to SSL, setup with security/letsencrypt/client
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/04/04 09:21:02 ajacoutot Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	3.1.0
a6 1
REVISION=		4
d11 2
d16 5
a20 7
# upstream's master site doesn't play nice with ftp/DISTNAME, so just
# mirror the distfile instead.
MASTER_SITES=		https://distfiles.nl/

MODULES=		devel/gettext \
			lang/python \
			textproc/intltool
d22 1
d24 1
a24 1
			devel/py-minimock \
d30 2
a31 1
TEST_DEPENDS=	devel/py-minimock \
d37 3
a39 1
MAKE_ENV=		PYTHON=${MODPY_BIN}
a42 5
# Additional targets
post-build:
	cd ${WRKSRC} && ${SETENV} -i ${MAKE_ENV} ${MAKE_PROGRAM} \
		-f ${MAKE_FILE} messages

d44 1
a44 1
	cd ${WRKSRC} && ${SETENV} -i ${MAKE_ENV} ${MAKE_PROGRAM} \
d46 3
a48 3
	# Move manpages to the right place..darn you setup.py
	mv ${PREFIX}/share/man/man1/*.1 ${PREFIX}/man/man1/ && \
		rm -fr ${PREFIX}/share/man
@


1.8
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/03/27 08:13:03 ajacoutot Exp $
d17 1
a17 1
MASTER_SITES=		http://distfiles.nl/
@


1.7
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/09/10 13:26:48 ajacoutot Exp $
d7 1
a7 1
REVISION=		3
@


1.6
log
@Bump after dbus-python got renamed to py-dbus.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/08/20 22:05:57 zhuk Exp $
d7 1
a7 1
REVISION=		2
d28 1
a28 1
			x11/gtk+2,-guic \
@


1.5
log
@Fixup handling of FreeDesktop goo: desktop-file-utils, gtk-update-icon-cache
and shared-mime-info. Found by portcheck.

A lot of input from and okay ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/03/11 11:35:47 espie Exp $
d7 1
a7 1
REVISION=		1
@


1.4
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/06/15 08:32:17 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
d28 1
@


1.3
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/04/22 18:43:12 ajacoutot Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d29 1
a29 1
REGRESS_DEPENDS=	devel/py-minimock \
d37 1
a37 1
REGRESS_TARGET=		unittest
@


1.2
log
@Missing intltool.

spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/04/20 10:51:22 jasper Exp $
d7 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d22 2
a23 1
			lang/python
d53 1
a53 1
.include <bsd.port.mk>@


1.1.1.1
log
@import gpodder 3.1.0

gPodder downloads and manages free audio and video content ("podcasts")
for you. Listen directly on your computer or on your mobile devices.

  * Supports RSS, Atom, YouTube, Soundcloud, Vimeo and XSPF feeds
  * Discover new content at our Podcast directory
  * Synchronize between devices with full gpodder.net integration
  * Easily customizable - support for user-defined hooks and plugins

feedback/ok sthen@@
@
text
@@
