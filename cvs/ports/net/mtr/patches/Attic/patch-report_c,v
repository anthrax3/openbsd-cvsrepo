head	1.2;
access;
symbols
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.01.10.20.08.58;	author sthen;	state dead;
branches;
next	1.1;
commitid	oHtY2i9ByrpGL5F7;

1.1
date	2013.11.19.16.39.26;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to mtr 0.86
@
text
@$OpenBSD: patch-report_c,v 1.1 2013/11/19 16:39:26 sthen Exp $

From 57f2d65e8fd5b00ae80cf74ed60eb5a8647c4658 Mon Sep 17 00:00:00 2001
From: Roger Wolff <R.E.Wolff@@BitWizard.nl>
Date: Thu, 4 Jul 2013 12:37:39 +0200
Subject: [PATCH] fix for NetBSD: 64bit time_t -- Thomas Klausner

--- report.c.orig	Mon May 13 11:22:54 2013
+++ report.c	Sun Nov 17 16:45:59 2013
@@@@ -343,10 +343,10 @@@@ void csv_close(time_t now)
     if(!ipinfo_no) {
       char* fmtinfo = fmt_ipinfo(addr);
       if (fmtinfo != NULL) fmtinfo = trim(fmtinfo);
-      printf("MTR.%s;%lu;%s;%s;%d;%s;%s;%d", MTR_VERSION, now, "OK", Hostname,
+      printf("MTR.%s;%lld;%s;%s;%d;%s;%s;%d", MTR_VERSION, (long long)now, "OK", Hostname,
              at+1, name, fmtinfo, last);
     } else {
-      printf("MTR.%s;%lu;%s;%s;%d;%s;%d", MTR_VERSION, now, "OK", Hostname,
+      printf("MTR.%s;%lld;%s;%s;%d;%s;%d", MTR_VERSION, (long long)now, "OK", Hostname,
              at+1, name, last);
     }
 
@


1.1
log
@update to mtr 0.85 and add a patch from upstream for long long time_t,
from dhill. drop jakob@@ as maintainer and take it myself.
@
text
@d1 1
a1 1
$OpenBSD$
@

