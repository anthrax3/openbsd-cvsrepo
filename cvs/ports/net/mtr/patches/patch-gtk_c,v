head	1.5;
access;
symbols
	OPENBSD_6_0:1.4.0.12
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.8
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.10
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.6
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.10
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.0.6
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.4
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2016.10.12.11.39.27;	author sthen;	state Exp;
branches;
next	1.4;
commitid	FzayRyKftP1vzmkC;

1.4
date	2013.11.19.16.39.26;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2013.04.01.14.08.26;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2010.08.19.16.56.45;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.08.18.15.45;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.5
log
@update to mtr-0.87
@
text
@$OpenBSD: patch-gtk_c,v 1.4 2013/11/19 16:39:26 sthen Exp $

Fix 64-bit issue.
Fix with newer glib.

--- gtk.c.orig	Mon Aug  1 14:07:58 2016
+++ gtk.c	Wed Aug  3 14:20:06 2016
@@@@ -21,6 +21,7 @@@@
 
 #include <stdio.h>
 #include <stdlib.h>
+#include <string.h>
 #include <unistd.h>
 #include <sys/time.h>
 #include <sys/types.h>
@@@@ -72,6 +73,7 @@@@ void gtk_do_init(int *argc, char ***argv) 
   static int done = 0;
 
   if(!done) {
+    g_type_init();
     gtk_init(argc, argv);
 
     done = 1;
@


1.4
log
@update to mtr 0.85 and add a patch from upstream for long long time_t,
from dhill. drop jakob@@ as maintainer and take it myself.
@
text
@d1 1
a1 1
$OpenBSD: patch-gtk_c,v 1.3 2013/04/01 14:08:26 sthen Exp $
d6 2
a7 2
--- gtk.c.orig	Mon Apr 29 14:22:05 2013
+++ gtk.c	Sun Nov 17 16:44:55 2013
d16 1
a16 1
@@@@ -69,6 +70,7 @@@@ void gtk_do_init(int *argc, char ***argv) 
@


1.3
log
@Switch mtr to using the resolver from libbind, as it wants to poke at
internals not available with asr. This also unbreaks some use with the gtk
version (there are still problems but "mtr somehost" from the command line
now works with gtk).  ok brad@@ naddy@@
@
text
@d1 1
a1 1
$OpenBSD: patch-gtk_c,v 1.2 2010/08/19 16:56:45 jasper Exp $
d6 2
a7 2
--- gtk.c.orig	Mon Feb 14 08:50:59 2011
+++ gtk.c	Mon Apr  1 14:50:24 2013
d16 1
a16 1
@@@@ -70,6 +71,7 @@@@ void gtk_do_init(int *argc, char ***argv) 
@


1.2
log
@- update mtr to 0.80

"go ahead" jakob@@ (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD: patch-gtk_c,v 1.1 2009/03/08 18:15:45 jasper Exp $
d4 1
d6 2
a7 2
--- gtk.c.orig	Tue Jul 13 08:25:58 2010
+++ gtk.c	Thu Aug 19 16:19:10 2010
d16 8
@


1.1
log
@- fix 64-bit issue
- add license marker
- regen WANTLIB and patch-configure while here
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- gtk.c.orig	Sun Mar  8 19:13:24 2009
+++ gtk.c	Sun Mar  8 19:13:44 2009
@@@@ -22,6 +22,7 @@@@
@

