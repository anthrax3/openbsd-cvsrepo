head	1.77;
access;
symbols
	OPENBSD_6_2:1.77.0.6
	OPENBSD_6_2_BASE:1.77
	OPENBSD_6_1:1.77.0.4
	OPENBSD_6_1_BASE:1.77
	OPENBSD_6_0:1.77.0.2
	OPENBSD_6_0_BASE:1.77
	OPENBSD_5_9:1.75.0.2
	OPENBSD_5_9_BASE:1.75
	OPENBSD_5_8:1.74.0.8
	OPENBSD_5_8_BASE:1.74
	OPENBSD_5_7:1.74.0.4
	OPENBSD_5_7_BASE:1.74
	OPENBSD_5_6:1.74.0.2
	OPENBSD_5_6_BASE:1.74
	OPENBSD_5_5:1.72.0.2
	OPENBSD_5_5_BASE:1.72
	OPENBSD_5_4:1.71.0.2
	OPENBSD_5_4_BASE:1.71
	OPENBSD_5_3:1.69.0.2
	OPENBSD_5_3_BASE:1.69
	OPENBSD_5_2:1.65.0.2
	OPENBSD_5_2_BASE:1.65
	OPENBSD_5_1_BASE:1.64
	OPENBSD_5_1:1.64.0.2
	OPENBSD_5_0:1.62.0.2
	OPENBSD_5_0_BASE:1.62
	OPENBSD_4_9:1.59.0.2
	OPENBSD_4_9_BASE:1.59
	OPENBSD_4_8:1.58.0.4
	OPENBSD_4_8_BASE:1.58
	OPENBSD_4_7:1.58.0.2
	OPENBSD_4_7_BASE:1.58
	OPENBSD_4_6:1.57.0.2
	OPENBSD_4_6_BASE:1.57
	OPENBSD_4_5:1.56.0.2
	OPENBSD_4_5_BASE:1.56
	OPENBSD_4_4:1.54.0.2
	OPENBSD_4_4_BASE:1.54
	OPENBSD_4_3:1.52.0.2
	OPENBSD_4_3_BASE:1.52
	OPENBSD_4_2:1.51.0.4
	OPENBSD_4_2_BASE:1.51
	OPENBSD_4_1:1.51.0.2
	OPENBSD_4_1_BASE:1.51
	OPENBSD_4_0:1.49.0.2
	OPENBSD_4_0_BASE:1.49
	OPENBSD_3_9:1.47.0.2
	OPENBSD_3_9_BASE:1.47
	OPENBSD_3_8:1.46.0.2
	OPENBSD_3_8_BASE:1.46
	OPENBSD_3_7:1.43.0.2
	OPENBSD_3_7_BASE:1.43
	OPENBSD_3_6:1.41.0.2
	OPENBSD_3_6_BASE:1.41
	OPENBSD_3_5:1.40.0.2
	OPENBSD_3_5_BASE:1.40
	OPENBSD_3_4:1.39.0.2
	OPENBSD_3_4_BASE:1.39
	OPENBSD_3_3:1.37.0.2
	OPENBSD_3_3_BASE:1.37
	OPENBSD_3_2:1.34.0.2
	OPENBSD_3_2_BASE:1.34
	OPENBSD_3_1:1.32.0.2
	OPENBSD_3_1_BASE:1.32
	OPENBSD_3_0:1.27.0.2
	OPENBSD_3_0_BASE:1.27
	OPENBSD_2_9_TRACKING_SWITCH:1.27
	OPENBSD_2_9:1.26.0.2
	OPENBSD_2_9_BASE:1.26
	OPENBSD_2_8:1.24.0.2
	OPENBSD_2_8_BASE:1.24
	OPENBSD_2_7:1.19.0.2
	OPENBSD_2_7_BASE:1.19
	OPENBSD_2_6:1.11.0.2
	OPENBSD_2_6_BASE:1.11
	OPENBSD_2_5:1.8.0.2
	OPENBSD_2_5_BASE:1.8
	cool:1.1.1.1
	rsync-2_2_1:1.1.1;
locks; strict;
comment	@# @;


1.77
date	2016.04.06.21.17.29;	author sthen;	state Exp;
branches;
next	1.76;
commitid	ZQrId3q4YzIQ3dqK;

1.76
date	2016.04.05.19.05.37;	author naddy;	state Exp;
branches;
next	1.75;
commitid	kWj6iDHVlSjDO4Te;

1.75
date	2016.01.10.21.36.22;	author naddy;	state Exp;
branches;
next	1.74;
commitid	Et6OMr902Is092WG;

1.74
date	2014.06.30.19.34.36;	author naddy;	state Exp;
branches
	1.74.8.1;
next	1.73;
commitid	M6fFKzjQEx6K3N6R;

1.73
date	2014.04.14.13.34.19;	author sthen;	state Exp;
branches;
next	1.72;

1.72
date	2013.10.10.12.01.30;	author naddy;	state Exp;
branches
	1.72.2.1;
next	1.71;

1.71
date	2013.04.22.16.00.11;	author krw;	state Exp;
branches;
next	1.70;

1.70
date	2013.03.11.11.35.56;	author espie;	state Exp;
branches;
next	1.69;

1.69
date	2013.02.09.14.49.52;	author sthen;	state Exp;
branches;
next	1.68;

1.68
date	2012.09.18.11.28.23;	author jasper;	state Exp;
branches;
next	1.67;

1.67
date	2012.09.18.11.00.55;	author henning;	state Exp;
branches;
next	1.66;

1.66
date	2012.08.23.13.27.51;	author espie;	state Exp;
branches;
next	1.65;

1.65
date	2012.03.29.13.38.49;	author sthen;	state Exp;
branches;
next	1.64;

1.64
date	2011.10.18.20.24.24;	author naddy;	state Exp;
branches;
next	1.63;

1.63
date	2011.09.03.13.06.01;	author espie;	state Exp;
branches;
next	1.62;

1.62
date	2011.04.02.15.13.25;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2011.03.27.17.16.47;	author naddy;	state Exp;
branches;
next	1.60;

1.60
date	2011.03.07.19.48.20;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2010.10.18.18.36.57;	author espie;	state Exp;
branches
	1.59.2.1;
next	1.58;

1.58
date	2010.01.02.17.51.52;	author naddy;	state Exp;
branches
	1.58.4.1;
next	1.57;

1.57
date	2009.05.13.15.08.23;	author naddy;	state Exp;
branches;
next	1.56;

1.56
date	2009.01.06.16.34.34;	author naddy;	state Exp;
branches;
next	1.55;

1.55
date	2008.09.26.17.04.15;	author naddy;	state Exp;
branches;
next	1.54;

1.54
date	2008.07.12.15.03.29;	author naddy;	state Exp;
branches;
next	1.53;

1.53
date	2008.04.10.15.06.45;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2007.09.15.22.36.59;	author merdely;	state Exp;
branches;
next	1.51;

1.51
date	2006.12.30.19.43.02;	author matthieu;	state Exp;
branches;
next	1.50;

1.50
date	2006.11.23.18.06.34;	author bernd;	state Exp;
branches;
next	1.49;

1.49
date	2006.04.29.15.39.14;	author naddy;	state Exp;
branches;
next	1.48;

1.48
date	2006.03.13.17.59.56;	author steven;	state Exp;
branches;
next	1.47;

1.47
date	2005.10.14.19.31.39;	author naddy;	state Exp;
branches;
next	1.46;

1.46
date	2005.08.09.18.40.56;	author naddy;	state Exp;
branches;
next	1.45;

1.45
date	2005.06.12.20.35.51;	author naddy;	state Exp;
branches;
next	1.44;

1.44
date	2005.05.20.21.49.59;	author naddy;	state Exp;
branches;
next	1.43;

1.43
date	2004.12.16.00.31.25;	author alek;	state Exp;
branches
	1.43.2.1;
next	1.42;

1.42
date	2004.10.15.18.43.26;	author naddy;	state Exp;
branches;
next	1.41;

1.41
date	2004.05.11.13.39.17;	author naddy;	state Exp;
branches
	1.41.2.1;
next	1.40;

1.40
date	2003.12.04.17.54.17;	author espie;	state Exp;
branches
	1.40.2.1;
next	1.39;

1.39
date	2003.06.04.12.21.49;	author jolan;	state Exp;
branches
	1.39.2.1;
next	1.38;

1.38
date	2003.05.11.22.20.55;	author naddy;	state Exp;
branches;
next	1.37;

1.37
date	2003.02.20.10.52.45;	author espie;	state Exp;
branches
	1.37.2.1;
next	1.36;

1.36
date	2002.12.22.14.56.28;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2002.10.25.15.49.54;	author naddy;	state Exp;
branches;
next	1.34;

1.34
date	2002.06.08.15.45.28;	author todd;	state Exp;
branches
	1.34.2.1;
next	1.33;

1.33
date	2002.04.19.11.58.09;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2002.03.24.02.35.26;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2002.03.15.23.54.53;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2002.01.29.21.02.17;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2002.01.24.23.25.32;	author naddy;	state Exp;
branches;
next	1.28;

1.28
date	2002.01.14.23.07.49;	author naddy;	state Exp;
branches;
next	1.27;

1.27
date	2001.07.13.11.24.31;	author naddy;	state Exp;
branches
	1.27.2.1;
next	1.26;

1.26
date	2001.04.08.17.06.06;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2001.01.31.13.34.33;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2000.10.10.00.40.54;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2000.09.08.07.16.24;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2000.09.02.13.36.40;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2000.08.29.22.01.13;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2000.06.15.00.27.56;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2000.03.24.22.11.53;	author espie;	state Exp;
branches
	1.19.2.1;
next	1.18;

1.18
date	2000.03.04.08.17.37;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2000.03.04.01.59.27;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2000.02.15.05.04.59;	author turan;	state Exp;
branches;
next	1.15;

1.15
date	2000.02.12.22.07.54;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2000.02.12.08.02.27;	author turan;	state Exp;
branches;
next	1.13;

1.13
date	2000.02.10.09.13.53;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	99.11.21.23.42.52;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	99.08.20.12.44.01;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	99.06.24.18.36.23;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	99.04.18.20.59.00;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	99.04.09.02.20.14;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	99.03.23.17.49.20;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	99.03.02.16.59.47;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	99.02.23.10.42.08;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	99.02.21.04.26.15;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	99.02.18.02.37.36;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.11.26.19.41.21;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	98.11.26.18.22.06;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.11.26.18.22.06;	author espie;	state Exp;
branches;
next	;

1.19.2.1
date	2000.09.15.05.10.12;	author marc;	state Exp;
branches;
next	;

1.27.2.1
date	2002.01.24.23.31.37;	author naddy;	state Exp;
branches;
next	1.27.2.2;

1.27.2.2
date	2002.03.17.18.20.59;	author naddy;	state Exp;
branches;
next	;

1.34.2.1
date	2003.02.23.18.33.14;	author brad;	state Exp;
branches;
next	;

1.37.2.1
date	2003.12.04.22.08.54;	author margarida;	state Exp;
branches;
next	;

1.39.2.1
date	2003.12.04.22.04.03;	author margarida;	state Exp;
branches;
next	1.39.2.2;

1.39.2.2
date	2004.05.26.09.50.40;	author robert;	state Exp;
branches;
next	1.39.2.3;

1.39.2.3
date	2004.08.14.20.57.38;	author robert;	state Exp;
branches;
next	;

1.40.2.1
date	2004.05.26.09.47.22;	author robert;	state Exp;
branches;
next	1.40.2.2;

1.40.2.2
date	2004.08.14.20.56.48;	author robert;	state Exp;
branches;
next	;

1.41.2.1
date	2005.09.01.18.45.39;	author sturm;	state Exp;
branches;
next	;

1.43.2.1
date	2005.09.01.18.47.02;	author sturm;	state Exp;
branches;
next	;

1.58.4.1
date	2011.04.11.09.16.52;	author sthen;	state Exp;
branches;
next	;

1.59.2.1
date	2011.04.10.17.17.54;	author jasper;	state Exp;
branches;
next	;

1.72.2.1
date	2014.05.22.08.05.27;	author jasper;	state Exp;
branches;
next	;

1.74.8.1
date	2016.01.29.21.44.37;	author naddy;	state Exp;
branches;
next	;
commitid	uxwOz74sHs2zimwF;


desc
@@


1.77
log
@fix RCS ID in rcscript
@
text
@# $OpenBSD: Makefile,v 1.76 2016/04/05 19:05:37 naddy Exp $

COMMENT =	mirroring/synchronization over low bandwidth links

DISTNAME =	rsync-3.1.2
REVISION =	0
CATEGORIES =	net
HOMEPAGE =	https://rsync.samba.org/

MAINTAINER =	Marc Espie <espie@@openbsd.org>

FLAVORS =	iconv
FLAVOR ?=

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =	c

MASTER_SITES =	https://rsync.samba.org/ftp/rsync/src/ \
		http://ftp.funet.fi/pub/mirrors/samba.org/pub/rsync/src/

CONFIGURE_STYLE =gnu
CONFIGURE_ARGS =--with-included-popt \
		--with-included-zlib \
		--with-rsyncd-conf="${SYSCONFDIR}/rsyncd.conf" \
		--with-rsh=/usr/bin/ssh \
		--with-nobody-group=_rsync

.if ${FLAVOR:Miconv}
CONFIGURE_ENV += CPPFLAGS='-I${LOCALBASE}/include' \
		LDFLAGS='-L${LOCALBASE}/lib'
LIB_DEPENDS +=	converters/libiconv
WANTLIB +=	iconv
.endif

DOCDIR =	${PREFIX}/share/doc/rsync

pre-configure:
	${SUBST_CMD} ${WRKSRC}/rsyncd.conf.5 \
		${WRKSRC}/support/rrsync

post-install:
	${INSTALL_DATA_DIR} ${DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/tech_report.tex ${DOCDIR}
	${INSTALL_SCRIPT} ${WRKSRC}/support/rrsync ${PREFIX}/bin

.include <bsd.port.mk>
@


1.76
log
@replace libiconv module with normal library dependency; no bump needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2016/01/10 21:36:22 naddy Exp $
d6 1
@


1.75
log
@Update to 3.1.2: This is a bug-fix release. It includes a security
fix for a transfer from a sender that you don't fully trust.

Originally gonzalo@@ submitted a broken update to espie@@ who passed
it around and then everybody forgot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2014/06/30 19:34:36 naddy Exp $
d32 2
a33 1
MODULES += converters/libiconv
@


1.74
log
@Update to rsync 3.1.1.  Notable enhancement:
Add support for a new-compression idiom that does not compress all the
matching data in a transfer.  This can help rsync to use less cpu when a
transfer has a lot of matching data,

Switch to bundled zlib in order to support both old and new compression.
ok sthen@@, espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2014/04/14 13:34:19 sthen Exp $
d5 1
a5 1
DISTNAME =	rsync-3.1.1
@


1.74.8.1
log
@Update to 3.1.2: This is a bug-fix release. It includes a security
fix for a transfer from a sender that you don't fully trust.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2014/06/30 19:34:36 naddy Exp $
d5 1
a5 1
DISTNAME =	rsync-3.1.2
@


1.73
log
@Avoid infinite loop if "secrets file" is used in rsyncd server configuration
and a user attempts login with an invalid username. Bug was introduced in
rsync 3.0.5.  OK espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2013/10/10 12:01:30 naddy Exp $
d5 1
a5 2
DISTNAME =	rsync-3.1.0
REVISION =	0
d17 1
a17 1
WANTLIB =	c z
d24 1
a24 1
		--without-included-zlib \
@


1.72
log
@Update to 3.1.0. This has various minor improvements, internal
changes, and now uses the system zlib.
https://rsync.samba.org/ftp/rsync/src/rsync-3.1.0-NEWS

Clean up some cruft:
* Dropped the -T from --with-rsh.  No tty allocation is the default
for ssh, and if somebody sets RequestTTY in .ssh/config, they should
get what they want.
* Removed pointless SECURITY file.
* Replaced the outdated DESCR text with the description from the man page.

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2013/04/22 16:00:11 krw Exp $
d6 1
@


1.72.2.1
log
@Security fix for CVE-2014-2855
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2013/10/10 12:01:30 naddy Exp $
a5 1
REVISION =	0
@


1.71
log
@Add rsyncd script for /etc/rc.d, now that inetd is no longer on by
default.

Tweaks and feedback from ian@@ sthen@@ ajacoutot@@. ok sthen@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2013/03/11 11:35:56 espie Exp $
d5 1
a5 1
DISTNAME =	rsync-3.0.9
d7 1
a7 2
HOMEPAGE =	http://rsync.samba.org/
REVISION =	3
d17 1
a17 1
WANTLIB =		c
d19 2
a20 4
MASTER_SITES =	ftp://ftp.samba.org/pub/rsync/ \
		ftp://ftp.samba.org/pub/rsync/old-versions/ \
		http://ftp.samba.org/ftp/rsync/ \
		ftp://ftp.funet.fi/pub/mirrors/samba.org/pub/rsync/
a21 1
#SEPARATE_BUILD =	Yes
d24 1
d26 1
a26 1
		--with-rsh="ssh -T" \
d41 1
a41 1
do-install:
a42 3
	${INSTALL_PROGRAM} ${WRKBUILD}/rsync ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/rsync.1 ${PREFIX}/man/man1
	${INSTALL_MAN} ${WRKSRC}/rsyncd.conf.5 ${PREFIX}/man/man5
d44 1
a44 1
	${INSTALL_PROGRAM} ${WRKSRC}/support/rrsync ${PREFIX}/bin
@


1.70
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/02/09 14:49:52 sthen Exp $
d8 1
a8 1
REVISION =	2
@


1.69
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2012/09/18 11:28:23 jasper Exp $
a16 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.68
log
@- dont hardcode /usr/local
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2012/09/18 11:00:55 henning Exp $
d35 1
a35 1
.if ${FLAVOR:L:Miconv}
@


1.67
log
@fix rsync path (/usr/bin/ vs /usr/local/bin). I had forgotten I had changed
this early on, long beforewhen asking espie to include rrsync, sorry.
ok & "bump revision" espie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2012/08/23 13:27:51 espie Exp $
d8 1
a8 1
REVISION =	1
d44 2
a45 1
	${SUBST_CMD} ${WRKSRC}/rsyncd.conf.5
@


1.66
log
@install rrsync support script, as requested by henning@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2012/03/29 13:38:49 sthen Exp $
d8 1
a8 1
REVISION =	0
@


1.65
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/10/18 20:24:24 naddy Exp $
d8 1
d52 1
@


1.64
log
@Update to 3.0.9.
Drop USE_GROFF, the only formatting difference is some extra whitespace.

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/09/03 13:06:01 espie Exp $
d27 1
a27 1
#SEPARATE_BUILD =	simple
@


1.63
log
@iconv flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/04/02 15:13:25 ajacoutot Exp $
d5 1
a5 1
DISTNAME =	rsync-3.0.8
a8 2
REVISION =	1

a40 1
USE_GROFF =	Yes
@


1.62
log
@Use the "_rsync" user and group by default, instead of nobody.
Tweak man pages accordingly.
While here:
simplify @@extra marker in PLIST
set GPL version

"looks good" to naddy@@
with inputs from and ok schwarze@@, ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2011/03/27 17:16:47 naddy Exp $
d9 1
a9 1
REVISION =	0
d13 3
d35 6
@


1.61
log
@update to 3.0.8: bug fixes, -C now also ignores .hg/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2011/03/07 19:48:20 ajacoutot Exp $
d9 2
d13 1
a13 1
# GPL
d18 1
d30 2
a31 1
		--with-rsh="ssh -T"
@


1.60
log
@Fix some hardcoded patchs in doc.

ok espie@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/10/18 18:36:57 espie Exp $
d5 1
a5 1
DISTNAME =	rsync-3.0.7
a7 1
REVISION =	0
@


1.59
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/01/02 17:51:52 naddy Exp $
d8 1
d32 3
@


1.59.2.1
log
@Security fix for CVE-2011-1097:
rsync Incremental Recursion Memory Corruption Vulnerability

(already fixed in current's 3.0.8)

ok espie@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/10/18 18:36:57 espie Exp $
a5 1
REVISION =	0
@


1.58
log
@update to bugfix release 3.0.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2009/05/13 15:08:23 naddy Exp $
d30 1
@


1.58.4.1
log
@Security fix for CVE-2011-1097:
rsync Incremental Recursion Memory Corruption Vulnerability

(already fixed in current's 3.0.8, this is the same diff applied to OPENBSD_4_9)
tested by Simon Kuhnle, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/01/02 17:51:52 naddy Exp $
a5 1
REVISION =	0
@


1.57
log
@update to 3.0.6, which fixes a number of bugs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/01/06 16:34:34 naddy Exp $
d5 1
a5 1
DISTNAME =	rsync-3.0.6
@


1.56
log
@maintenance update to 3.0.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2008/09/26 17:04:15 naddy Exp $
d5 1
a5 1
DISTNAME =	rsync-3.0.5
@


1.55
log
@maintenance update to 3.0.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2008/07/12 15:03:29 naddy Exp $
d5 1
a5 1
DISTNAME =	rsync-3.0.4
@


1.54
log
@update to bug-fix release 3.0.3; ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2008/04/10 15:06:45 espie Exp $
d5 1
a5 1
DISTNAME =	rsync-3.0.3
@


1.53
log
@update to 3.0.2, with a few new useful functionalities.
to be fully functional, you need rsync >= 3.0.2 on both sides,
otherwise, rsync will degrade to pre-3.0 mode.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2007/09/15 22:36:59 merdely Exp $
d5 1
a5 1
DISTNAME =	rsync-3.0.2
@


1.52
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2006/12/30 19:43:02 matthieu Exp $
d3 1
a3 1
COMMENT=	mirroring/synchronization over low bandwidth links
d5 3
a7 3
DISTNAME=	rsync-2.6.9
CATEGORIES=	net
HOMEPAGE=	http://rsync.samba.org/
d9 1
a9 1
MAINTAINER=	Marc Espie <espie@@openbsd.org>
d12 5
a16 5
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		c
d18 1
a18 1
MASTER_SITES=	ftp://ftp.samba.org/pub/rsync/ \
d23 3
a25 3
SEPARATE_BUILD=	simple
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--with-included-popt \
d29 1
a29 1
DOCDIR=	${PREFIX}/share/doc/rsync
@


1.51
log
@funet.fi samba mirror moved. ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2006/11/23 18:06:34 bernd Exp $
d3 1
a3 1
COMMENT=	"mirroring/synchronization over low bandwidth links"
@


1.50
log
@Update to rsync-2.6.9.

ok espie@@, naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2006/04/29 15:39:14 naddy Exp $
d21 1
a21 1
		ftp://ftp.funet.fi/pub/mirrors/rsync.samba.org/pub/rsync/
@


1.49
log
@update to 2.6.8: minor bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2006/03/13 17:59:56 steven Exp $
d5 1
a5 1
DISTNAME=	rsync-2.6.8
@


1.48
log
@update to 2.6.7;  miscellaneous bugfixes and improvements.

ok naddy@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2005/10/14 19:31:39 naddy Exp $
d5 1
a5 1
DISTNAME=	rsync-2.6.7
@


1.47
log
@Tell ssh to disable tty allocation in order to mark the ssh stream
as non-interactive.  Suggested by espie@@ a while ago.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2005/08/09 18:40:56 naddy Exp $
d5 1
a5 2
DISTNAME=	rsync-2.6.6
PKGNAME=	${DISTNAME}p0
@


1.46
log
@SECURITY:
Update to 2.6.6: handle a null-pointer bug that turned up in rsync's
version of zlib 1.1.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2005/06/12 20:35:51 naddy Exp $
d6 1
d27 2
a28 1
		--with-rsyncd-conf="${SYSCONFDIR}/rsyncd.conf"
@


1.45
log
@maintenance update to 2.6.5: miscellaneous bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2005/05/20 21:49:59 naddy Exp $
d5 1
a5 1
DISTNAME=	rsync-2.6.5
@


1.44
log
@update to 2.6.4; various small fixes and improvements
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2004/12/16 00:31:25 alek Exp $
d5 1
a5 1
DISTNAME=	rsync-2.6.4
@


1.43
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2004/10/15 18:43:26 naddy Exp $
d5 1
a5 1
DISTNAME=	rsync-2.6.3
a35 1
	${INSTALL_DATA} ${WRKSRC}/rsyncstats ${DOCDIR}
@


1.43.2.1
log
@MFC:
SECURITY:
Update to 2.6.6: handle a null-pointer bug that turned up in rsync's
version of zlib 1.1.4

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2004/12/16 00:31:25 alek Exp $
d5 1
a5 1
DISTNAME=	rsync-2.6.6
d36 1
@


1.42
log
@update to 2.6.3; ok jcs@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2004/05/11 13:39:17 naddy Exp $
d16 1
@


1.41
log
@Update to 2.6.2: various bug fixes and minor enhancements.

SECURITY:
Paths sent to an rsync daemon are more thoroughly sanitized when
chroot is not used.  If you're running a non-read-only rsync daemon
with chroot disabled, *please upgrade*, especially if the user privs
you run rsync under is anything above "nobody".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2003/12/04 17:54:17 espie Exp $
d5 1
a5 1
DISTNAME=	rsync-2.6.2
a34 1
	${INSTALL_DATA} ${WRKSRC}/test.sh ${DOCDIR}
@


1.41.2.1
log
@update to rsync 2.6.6 fixing an old path-sanitizing bug in 2.6.2 and
handle a null-pointer bug that turned up in rsync's version of zlib 1.1.4

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2004/05/11 13:39:17 naddy Exp $
d5 1
a5 1
DISTNAME=	rsync-2.6.6
d35 2
@


1.40
log
@Plug security hole (int overflow in rsync server).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2003/06/04 12:21:49 jolan Exp $
d5 1
a5 1
DISTNAME=	rsync-2.5.7
d22 4
a25 4
SEPARATE_BUILD=		concurrent
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--with-included-popt \
			--with-rsh=ssh
a27 3

post-patch:
	@@perl -pi -e 's,/etc,${SYSCONFDIR},g' ${WRKSRC}/rsync.h
@


1.40.2.1
log
@update to 2.6.2;

SECURITY:
Paths sent to an rsync daemon are more thoroughly sanitized when
chroot is not used.  If you're running a non-read-only rsync daemon
with chroot disabled, *please upgrade*, especially if the user privs
you run rsync under is anything above "nobody".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2003/12/04 17:54:17 espie Exp $
d5 1
a5 1
DISTNAME=	rsync-2.6.2
d22 1
a22 1
SEPARATE_BUILD=		simple
d25 1
a25 1
			--with-rsyncd-conf="${SYSCONFDIR}/rsyncd.conf"
d28 3
@


1.40.2.2
log
@SECURITY:
There is a path-sanitizing bug that affects daemon mode in all
recent rsync versions (including 2.6.2) but only if chroot is
disabled.  It does NOT affect the normal send/receive filenames
that specify what files should be transferred.  It does affect
certain option paths that cause auxiliary files to be read or
written.
http://rsync.samba.org/#security_aug04

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40.2.1 2004/05/26 09:47:22 robert Exp $
a5 1
PKGNAME=	${DISTNAME}p1
@


1.39
log
@respect SYSCONFDIR, ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2003/05/11 22:20:55 naddy Exp $
d5 1
a5 1
DISTNAME=	rsync-2.5.6
d19 1
@


1.39.2.1
log
@Security fix MFC:
Fixed by espie@@

Plug security hole (int overflow in rsync server).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2003/06/04 12:21:49 jolan Exp $
d5 1
a5 1
DISTNAME=	rsync-2.5.7
a18 1
		http://ftp.samba.org/ftp/rsync/ \
@


1.39.2.2
log
@update to 2.6.2;

SECURITY:
Paths sent to an rsync daemon are more thoroughly sanitized when
chroot is not used.  If you're running a non-read-only rsync daemon
with chroot disabled, *please upgrade*, especially if the user privs
you run rsync under is anything above "nobody".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40.2.1 2004/05/26 09:47:22 robert Exp $
d5 1
a5 1
DISTNAME=	rsync-2.6.2
d22 1
a22 1
SEPARATE_BUILD=		simple
d25 1
a25 1
			--with-rsyncd-conf="${SYSCONFDIR}/rsyncd.conf"
d28 3
@


1.39.2.3
log
@SECURITY:
There is a path-sanitizing bug that affects daemon mode in all
recent rsync versions (including 2.6.2) but only if chroot is
disabled.  It does NOT affect the normal send/receive filenames
that specify what files should be transferred.  It does affect
certain option paths that cause auxiliary files to be read or
written.
http://rsync.samba.org/#security_aug04

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39.2.2 2004/05/26 09:50:40 robert Exp $
a5 1
PKGNAME=	${DISTNAME}p1
@


1.38
log
@enable IPv6 support; from Hajimu UMEMOTO <ume@@FreeBSD.org>; ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2003/02/20 10:52:45 espie Exp $
d27 3
@


1.37
log
@2.5.6, since no-one reported problems.
New: can use ssh transport in server mode !
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2002/12/22 14:56:28 espie Exp $
d23 1
a23 2
CONFIGURE_ARGS=		--disable-ipv6 \
			--with-included-popt \
@


1.37.2.1
log
@Security fix MFC:
Fixed by espie@@

Plug security hole (int overflow in rsync server).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2003/02/20 10:52:45 espie Exp $
d5 1
a5 1
DISTNAME=	rsync-2.5.7
a18 1
		http://ftp.samba.org/ftp/rsync/ \
@


1.36
log
@my bad... bump pkgname, corresponding to important core-dump fix.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/10/25 15:49:54 naddy Exp $
d5 1
a5 1
DISTNAME=	rsync-2.5.5
a7 1
PKGNAME=	${DISTNAME}p0
@


1.35
log
@enable the included regression tests; ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2002/06/08 15:45:28 todd Exp $
d8 1
@


1.34
log
@enable rsh=ssh by default; ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2002/04/19 11:58:09 espie Exp $
a6 1
NEED_VERSION=	1.504
a36 2

NO_REGRESS=	Yes
@


1.34.2.1
log
@MFC:
disallow infinite call chains of exit_cleanup
(this happened when the pipe to rsync got broken, because rsync would
then try to write to stderr, find out it didn't work, and call exit_cleanup,
which would then try it all over again... oops.
--
From: David Krause <openbsd@@davidkrause.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2002/06/08 15:45:28 todd Exp $
a5 1
PKGNAME=	${DISTNAME}p1
d7 1
@


1.33
log
@rsync 2.5.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2002/03/24 02:35:26 espie Exp $
d25 2
a26 1
			--with-included-popt
@


1.32
log
@Make certain we don't pick an installed libpopt.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2002/03/15 23:54:53 espie Exp $
d5 1
a5 1
DISTNAME=	rsync-2.5.4
@


1.31
log
@Update to 2.5.4, fix zlib issues.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2002/01/29 21:02:17 naddy Exp $
d24 2
a25 1
CONFIGURE_ARGS=		--disable-ipv6
@


1.30
log
@Update to 2.5.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2002/01/24 23:25:32 naddy Exp $
d5 1
a5 1
DISTNAME=	rsync-2.5.2
@


1.29
log
@security fix from Sebastian Krahmer <krahmer@@suse.de>, taken from rsync CVS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2002/01/14 23:07:49 naddy Exp $
d5 1
a5 2
PKGNAME=	${DISTNAME}p1
DISTNAME=	rsync-2.5.1
d12 1
@


1.28
log
@update to 2.5.1; partly from and ok espie@@
IPv6 support remains disabled for now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/07/13 11:24:31 naddy Exp $
d5 1
@


1.27
log
@MASTER_SITES fix by Heikki Korpela <heko@@saitti.net>:
- Add ftp.funet.fi and ftp.sunet.se mirrors where available.
- Remove broken ftp.funet.fi references.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/04/08 17:06:06 espie Exp $
d4 2
a5 1
DISTNAME=	rsync-2.4.6
d7 1
a7 4
NEED_VERSION=	1.387
MASTER_SITES=	ftp://ftp.samba.org/pub/rsync/
MASTER_SITES+=	ftp://ftp.samba.org/pub/rsync/old-versions/
MASTER_SITES+=	ftp://ftp.funet.fi/pub/mirrors/rsync.samba.org/pub/rsync/
a9 1

d17 4
d23 1
a26 4
# not MESSAGE, explains the build warning
post-build:
	@@echo "(this use of mktemp is actually correct)"

d35 2
@


1.27.2.1
log
@MFC:
update to 2.5.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2002/01/24 23:25:32 naddy Exp $
d4 1
a4 3

PKGNAME=	${DISTNAME}p1
DISTNAME=	rsync-2.5.1
d6 4
a9 1
NEED_VERSION=	1.475
d12 1
a19 4
MASTER_SITES=	ftp://ftp.samba.org/pub/rsync/ \
		ftp://ftp.samba.org/pub/rsync/old-versions/ \
		ftp://ftp.funet.fi/pub/mirrors/rsync.samba.org/pub/rsync/

a21 1
CONFIGURE_ARGS=		--disable-ipv6
d25 4
a36 2

NO_REGRESS=	Yes
@


1.27.2.2
log
@MFC:
Update to 2.5.4: fixes zlib and supplementary groups security issues.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27.2.1 2002/01/24 23:31:37 naddy Exp $
d5 2
a6 1
DISTNAME=	rsync-2.5.4
a12 1
# GPL
@


1.26
log
@Modernize
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/01/31 13:34:33 espie Exp $
d9 1
@


1.25
log
@Fuck cvs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/10/10 00:40:54 espie Exp $
d3 1
d6 1
a6 1
NEED_VERSION=	1.317
@


1.24
log
@Fix my address. Dust off details.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/09/08 07:16:24 espie Exp $
d8 1
@


1.23
log
@Bump to release 2.4.6.
- change ftp site to a non-australian site.
- add `recovery site' for old versions.

rsync 2.4.6 fixes a long-standing half-bug, where the writer would sit
in a tight loop if the outgoing connection was slow, chewing all cpu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/09/02 13:36:40 espie Exp $
d10 1
a10 1
MAINTAINER=	espie@@openbsd.org
@


1.22
log
@rsync 2.4.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/08/29 22:01:13 espie Exp $
d3 1
a3 1
DISTNAME=	rsync-2.4.5
d6 2
a7 1
MASTER_SITES=	ftp://rsync.samba.org/pub/rsync/
@


1.21
log
@Not much feedback on rsync 2.4.4. I guess the only way to get any
is to commit this...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/06/15 00:27:56 espie Exp $
d3 1
a3 1
DISTNAME=	rsync-2.4.4
@


1.20
log
@FAKE, CONFIGURE_STYLE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/03/24 22:11:53 espie Exp $
d3 1
a3 1
DISTNAME=	rsync-2.4.1
d5 1
a5 1
NEED_VERSION=	1.301
@


1.19
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/03/04 08:17:37 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.216
a10 1
FAKE=	Yes
d16 2
a17 2
SEPARATE_BUILD=	concurrent
GNU_CONFIGURE=	Yes
@


1.19.2.1
log
@bring net as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/06/15 00:27:56 espie Exp $
d5 1
a5 1
NEED_VERSION=	1.301
d11 1
d17 2
a18 2
SEPARATE_BUILD=		concurrent
CONFIGURE_STYLE=	gnu
@


1.18
log
@- bump NEED_VERSION
- remove LICENSE_TYPE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/03/04 01:59:27 espie Exp $
d5 1
a7 1
NEED_VERSION=	1.216
@


1.17
log
@Ports that override do-install are usually trivial to install fake.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/02/15 05:04:59 turan Exp $
d7 1
a7 1
NEED_VERSION=	1.60
d11 1
a11 2
FAKE=Yes
LICENSE_TYPE=		GPL
d27 1
a30 1
	${INSTALL_DATA_DIR} ${DOCDIR}
@


1.16
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/02/12 22:07:54 espie Exp $
d11 1
@


1.15
log
@Remove all-caps.

This is gross, just gross, just plain gross.
LICENSE_TYPE=GPL is vastly enough.

DISTF makes no sense as an abreviation.
Besides, it's tasteless.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/02/12 08:02:27 turan Exp $
d12 4
a15 4
PERMIT_PKG_CDROM=	Yes
PERMIT_PKG_FTP=		Yes
PERMIT_DISTF_CDROM=	Yes
PERMIT_DISTF_FTP=	Yes
@


1.14
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/02/10 09:13:53 espie Exp $
d12 4
a15 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
d18 1
a18 1
GNU_CONFIGURE=	yes
@


1.13
log
@Update to 2.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/11/21 23:42:52 espie Exp $
d10 6
@


1.12
log
@Update to 2.3.2.

See package cvs.log for details.
This includes fixing an obscure security hole.

Patch to avoid spinning in select on non-blocking descriptors (will
probably be fixed in rsync 2.3.3)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/08/20 12:44:01 brad Exp $
d3 1
a3 1
DISTNAME=	rsync-2.3.2
@


1.11
log
@style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/06/24 18:36:23 espie Exp $
d3 1
a3 1
DISTNAME=	rsync-2.3.1
@


1.10
log
@don't install dirs that are mentionned in the mtree file.
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.9 1999/04/18 20:59:00 espie Exp $
#
d3 3
a5 2
DISTNAME= rsync-2.3.1
CATEGORIES=net
d7 1
a7 1
NEED_VERSION=1.60
d9 1
d11 2
a12 1
MAINTAINER=		espie@@openbsd.org
d14 1
a14 5
MASTER_SITES=		ftp://rsync.samba.org/pub/rsync/

SEPARATE_BUILD=concurrent

GNU_CONFIGURE=		yes
a18 2

DOCDIR=${PREFIX}/share/doc/rsync
@


1.9
log
@Upgrade to 2.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/04/09 02:20:14 espie Exp $
a25 2
	${INSTALL_MAN_DIR} ${PREFIX}/man/man1
	${INSTALL_MAN_DIR} ${PREFIX}/man/man5
@


1.8
log
@Patch ups rsync to the same functionality as 2.3.1.
Specifically, it fixes the security hole that is described in
pkg/SECURITY...

Wedged in as security fixes are important, especially when they're small.
Real 2.3.1 will wait after tree thaws.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/03/23 17:49:20 espie Exp $
d4 1
a4 1
DISTNAME= rsync-2.3.0
a7 2

PATCH_STRIP=-p1
@


1.7
log
@Second time Makefile stays uncommitted ??? what's the problem there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/03/02 16:59:47 espie Exp $
d9 1
@


1.6
log
@Differentiate WRKSRC/WRKBUILD,
add SEPARATE_BUILD (concurrent means `full')
add SHA1/RMD160 checksums.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/02/23 10:42:08 espie Exp $
d4 1
a4 1
DISTNAME= rsync-2.2.1
d21 1
a21 1
	@@echo "this use of mktemp is actually correct"
@


1.5
log
@Kill --enable-shared.
To make a long story short, it was just your standard port cut&paste
(it isn't needed, but it can't hurt you, and may even help updating the
port).

Since it does seem to trip Marco, and may be scanned for by people with
shared library problems, it's probably better to kill it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/02/21 04:26:15 marc Exp $
d7 2
a12 1
# to set
d15 2
d26 1
a26 1
	${INSTALL_PROGRAM} ${WRKSRC}/rsync ${PREFIX}/bin
@


1.4
log
@needs version 1.64 (or later) of bsd.port.mk
to build/install correctly; PLIST.noshared
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
NEED_VERSION=		1.64
a14 4

.if !defined(NO_SHARED_LIBS)
CONFIGURE_ARGS+=	--enable-shared
.endif
@


1.3
log
@use NO_SHARED_LIBS instead of test for alpha;
use PLIST.noshared instead of PLIST.alpha
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.2 1998/11/26 19:41:21 espie Exp $
# Version required: 2.2.0
# Date created: 3 nov 98
# Whom: Marc Espie (espie@@openbsd.org)
a3 1

d6 2
@


1.2
log
@Update URL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/11/26 18:22:06 espie Exp $
d18 1
a18 1
.if (${MACHINE_ARCH} != "alpha")
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d14 1
a14 1
MASTER_SITES=		ftp://samba.anu.edu.au/pub/rsync/
@


1.1.1.1
log
@All fixes actually entered into the main source.
Clean port, no patches.
Similar to rdist, but leaner, and works over ssh.
@
text
@@
