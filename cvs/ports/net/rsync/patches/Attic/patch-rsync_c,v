head	1.1;
access;
symbols
	OPENBSD_4_8:1.1.0.4
	OPENBSD_4_9:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2011.04.10.17.17.54;	author jasper;	state dead;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2011.04.10.17.17.54;	author jasper;	state Exp;
branches;
next	;

1.1.4.1
date	2011.04.11.09.16.52;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file patch-rsync_c was initially added on branch OPENBSD_4_9.
@
text
@@


1.1.4.1
log
@Security fix for CVE-2011-1097:
rsync Incremental Recursion Memory Corruption Vulnerability

(already fixed in current's 3.0.8, this is the same diff applied to OPENBSD_4_9)
tested by Simon Kuhnle, ok jasper@@
@
text
@a0 19
$OpenBSD: patch-rsync_c,v 1.1.2.1 2011/04/10 17:17:54 jasper Exp $

Security fix for CVE-2011-1097:
rsync Incremental Recursion Memory Corruption Vulnerability

Patch from upstream git:
http://gitweb.samba.org/?p=rsync.git;a=patch;h=83b94efa6b60a3ff5eee4c5f7812c617a90a03f6;hp=c8255147b06b74dad940d32f9cef5fbe17595239

--- rsync.c.orig	Sat Dec 19 22:39:49 2009
+++ rsync.c	Sat Apr  9 10:45:56 2011
@@@@ -42,8 +42,6 @@@@ extern int am_generator;
 extern int am_starting_up;
 extern int allow_8bit_chars;
 extern int protocol_version;
-extern int uid_ndx;
-extern int gid_ndx;
 extern int inc_recurse;
 extern int inplace;
 extern int flist_eof;
@


1.1.2.1
log
@Security fix for CVE-2011-1097:
rsync Incremental Recursion Memory Corruption Vulnerability

(already fixed in current's 3.0.8)

ok espie@@ (MAINTAINER)
@
text
@a0 19
$OpenBSD$

Security fix for CVE-2011-1097:
rsync Incremental Recursion Memory Corruption Vulnerability

Patch from upstream git:
http://gitweb.samba.org/?p=rsync.git;a=patch;h=83b94efa6b60a3ff5eee4c5f7812c617a90a03f6;hp=c8255147b06b74dad940d32f9cef5fbe17595239

--- rsync.c.orig	Sat Dec 19 22:39:49 2009
+++ rsync.c	Sat Apr  9 10:45:56 2011
@@@@ -42,8 +42,6 @@@@ extern int am_generator;
 extern int am_starting_up;
 extern int allow_8bit_chars;
 extern int protocol_version;
-extern int uid_ndx;
-extern int gid_ndx;
 extern int inc_recurse;
 extern int inplace;
 extern int flist_eof;
@

