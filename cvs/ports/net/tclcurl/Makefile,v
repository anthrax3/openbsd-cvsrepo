head	1.28;
access;
symbols
	OPENBSD_6_1:1.28.0.2
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.27.0.2
	OPENBSD_6_0_BASE:1.27
	OPENBSD_5_9:1.26.0.2
	OPENBSD_5_9_BASE:1.26
	OPENBSD_5_8:1.24.0.6
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.24.0.2
	OPENBSD_5_7_BASE:1.24
	OPENBSD_5_6:1.23.0.6
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.23.0.4
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.22.0.2
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.21.0.2
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.4
	OPENBSD_5_0:1.20.0.2
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.19.0.2
	OPENBSD_4_9_BASE:1.19
	OPENBSD_4_8:1.15.0.2
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.13.0.4
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.13.0.2
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.12.0.6
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.12.0.4
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.12.0.2
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.11.0.2
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.9.0.4
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.2
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.8.0.2
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.6.0.4
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.2
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.4.0.2
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.1.0.2
	OPENBSD_3_4_BASE:1.1;
locks; strict;
comment	@# @;


1.28
date	2016.11.04.11.35.20;	author sthen;	state Exp;
branches;
next	1.27;
commitid	Gg5LRcnQlqj5M3F7;

1.27
date	2016.03.18.23.12.19;	author naddy;	state Exp;
branches;
next	1.26;
commitid	KZAl4KEiw6a3Jixw;

1.26
date	2016.01.17.17.29.10;	author sthen;	state Exp;
branches;
next	1.25;
commitid	bS2FIbTCCkF3XjOq;

1.25
date	2015.11.24.09.11.05;	author jasper;	state Exp;
branches;
next	1.24;
commitid	x9aAifyKiYiivEom;

1.24
date	2015.02.17.19.47.01;	author naddy;	state Exp;
branches;
next	1.23;
commitid	1e7MVwuDcNeoz0v9;

1.23
date	2013.03.11.11.35.57;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2012.12.21.12.13.35;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2012.03.29.13.38.49;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2011.06.30.07.23.29;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2011.01.05.19.30.26;	author stu;	state Exp;
branches;
next	1.18;

1.18
date	2010.11.19.22.31.38;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.11.11.17.20.28;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.10.18.18.36.58;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.07.12.22.07.42;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2010.07.06.15.20.36;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2009.03.16.10.38.09;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2007.09.15.22.36.59;	author merdely;	state Exp;
branches;
next	1.11;

1.11
date	2007.07.04.19.18.46;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2007.05.15.15.09.12;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2006.08.03.23.15.58;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2005.11.19.01.57.25;	author alek;	state Exp;
branches;
next	1.7;

1.7
date	2005.10.27.20.03.25;	author sturm;	state Exp;
branches;
next	1.6;

1.6
date	2004.12.21.11.40.40;	author espie;	state Exp;
branches
	1.6.2.1
	1.6.4.1;
next	1.5;

1.5
date	2004.12.16.00.31.26;	author alek;	state Exp;
branches;
next	1.4;

1.4
date	2004.05.07.15.28.31;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2004.02.21.00.59.29;	author jose;	state Exp;
branches;
next	1.2;

1.2
date	2003.12.27.23.32.42;	author jose;	state Exp;
branches;
next	1.1;

1.1
date	2003.08.12.02.20.31;	author jose;	state Exp;
branches;
next	;

1.6.2.1
date	2005.10.27.20.06.08;	author sturm;	state Exp;
branches;
next	;

1.6.4.1
date	2005.11.01.11.50.23;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.28
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@# $OpenBSD: Makefile,v 1.27 2016/03/18 23:12:19 naddy Exp $

COMMENT =	Tcl bindings for Curl

DISTNAME =	TclCurl-7.19.6
SHARED_LIBS =	TclCurl7196 0.0
CATEGORIES =	net
REVISION =	4
MAINTAINER =	Stuart Cassoff <stwo@@users.sourceforge.net>

# BSD
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += crypto curl nghttp2 ssl z

MASTER_SITES =	https://distfiles.nl/
MODULES =	lang/tcl devel/gettext
LIB_DEPENDS =	net/curl
BUILD_DEPENDS =	${MODTCL_BUILD_DEPENDS}
RUN_DEPENDS =	${MODTCL_RUN_DEPENDS}

FAKE_FLAGS =	PKG_DIR=tclcurl \
		INSTALL_LIBRARY='${INSTALL_DATA}'

SEPARATE_BUILD =Yes
CONFIGURE_STYLE=gnu

CONFIGURE_ARGS+=--with-tcl=${MODTCL_LIBDIR} \
		--libdir=${MODTCL_TCLDIR} \
		SHLIB_VERSION=${LIBTclCurl7196_VERSION} \
		CFLAGS="${CFLAGS} -pthread"

NO_TEST =	Yes

.include <bsd.port.mk>
@


1.27
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2016/01/17 17:29:10 sthen Exp $
d8 1
a8 1
REVISION =	3
d14 1
a14 1
WANTLIB =	crypto idn ssl z curl nghttp2
@


1.26
log
@sync WANTLIB
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.25 2015/11/24 09:11:05 jasper Exp $

SHARED_ONLY =	Yes
@


1.25
log
@switch distfiles.nl to SSL, setup with security/letsencrypt/client
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/02/17 19:47:01 naddy Exp $
d10 1
a10 1
REVISION =	2
d16 1
a16 1
WANTLIB =	crypto idn ssl z curl>=2.2
@


1.24
log
@A dot or a single quote introduces a roff(7) macro; fix text lines
beginning with such a character.  Drop USE_GROFF.
ok and delousing schwarze@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/11 11:35:57 espie Exp $
d18 1
a18 1
MASTER_SITES =	http://distfiles.nl/
@


1.23
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/12/21 12:13:35 sthen Exp $
d10 1
a10 1
REVISION =	1
a27 1
USE_GROFF =	Yes
@


1.22
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/03/29 13:38:49 sthen Exp $
a14 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d36 1
a36 1
NO_REGRESS =	Yes
@


1.21
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/06/30 07:23:29 jasper Exp $
d10 1
a10 1
REVISION =	0
d22 1
a22 1
MODULES =	lang/tcl
@


1.20
log
@- zap dead homepage
- add distfile mirror
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/01/05 19:30:26 stu Exp $
d30 1
a30 1
SEPARATE_BUILD =concurrent
@


1.19
log
@Upgrade to 7.19.6. Port Makefile cleanup.
Become maintainer, use Tcl/Tk 8.5.

ok landry@@, sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/11/19 22:31:38 espie Exp $
d10 1
a10 1
HOMEPAGE =	http://personal.iddeo.es/andresgarci/tclcurl/english/
d21 1
a21 1
MASTER_SITES =	${HOMEPAGE:H:H:=/download/tarball/}
@


1.18
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/11/11 17:20:28 espie Exp $
d3 1
a3 2
COMMENT=		Tcl bindings for Curl
SHARED_ONLY=		Yes
d5 1
a5 3
DISTNAME=		TclCurl-0.10.5
REVISION=		4
CATEGORIES=		net
d7 5
a11 1
HOMEPAGE=		http://personal.iddeo.es/andresgarci/tclcurl/english/
d14 27
a40 40
PERMIT_PACKAGE_CDROM=	Yes 
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		crypto idn ssl z curl>=2.2

MASTER_SITES=		${HOMEPAGE}download/tarball/

MODULES=		lang/tcl
MODTCL_VERSION=		8.4
LIB_DEPENDS=    	net/curl

BUILD_DEPENDS+=		${MODTCL_BUILD_DEPENDS}
RUN_DEPENDS+= 		${MODTCL_RUN_DEPENDS}

CONFIGURE_STYLE=	gnu dest
CONFIGURE_ARGS+=	--with-tcl=${MODTCL_LIBDIR} \
			--with-tclinclude=${MODTCL_INCDIR}
CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include"
USE_GROFF =		Yes

# broken in this version
REGRESS_TARGET= 	test
NO_REGRESS=		Yes

MAN_FILES=		tclcurl.n tclcurl_multi.n

do-install:
	${INSTALL_DATA_DIR} ${WRKINST}/${MODTCL_LIBDIR}/tclcurl0.105
	${INSTALL_DATA} ${WRKDIST}/libtclcurl0105.so \
		${WRKINST}/${MODTCL_LIBDIR}/tclcurl0.105
	${INSTALL_DATA} ${WRKDIST}/generic/tclcurl.tcl \
		${WRKINST}/${MODTCL_LIBDIR}/tclcurl0.105
	${INSTALL_MAN_DIR} ${PREFIX}/man/mann
	${INSTALL_DATA} ${WRKDIST}/pkgIndex.tcl \
		${WRKINST}/${MODTCL_LIBDIR}/tclcurl0.105
.for file in ${MAN_FILES}
	${INSTALL_DATA} ${WRKDIST}/doc/${file} ${PREFIX}/man/mann
.endfor
	
@


1.17
log
@finish net WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/10/18 18:36:58 espie Exp $
d17 1
a17 1
WANTLIB=		crypto idn ssl z curl.>=2.2
d23 1
a23 1
LIB_DEPENDS=    	::net/curl
@


1.16
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/07/12 22:07:42 sthen Exp $
d17 1
a17 1
WANTLIB=		crypto idn ssl z 
d23 1
a23 1
LIB_DEPENDS=    	curl.>=2.2::net/curl
d32 1
a32 1
USE_GROFF =	Yes
@


1.15
log
@use REVISION, checked with before/after make show=PKGNAMES (plus some
extra-careful checking where there are complicated PSEUDO_FLAVORS).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/07/06 15:20:36 espie Exp $
d32 1
@


1.14
log
@semantic change of LIB_DEPENDS (or abuse ?) avoid package change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/03/16 10:38:09 sthen Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p4
@


1.13
log
@convert to tcl.port.mk, fixing pkgspec
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/09/15 22:36:59 merdely Exp $
d23 4
a26 2
LIB_DEPENDS=    	curl.>=2.2::net/curl \
			${MODTCL_LIB_DEPENDS:S/tcl/tclstub/}
@


1.12
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/07/04 19:18:46 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
d21 2
d24 1
a24 1
			tclstub84:tcl-8.4.*:lang/tcl/8.4
d27 2
a28 2
CONFIGURE_ARGS+=	--with-tcl=${LOCALBASE}/lib/tcl8.4 \
			--with-tclinclude=${LOCALBASE}/include/tcl8.4/ 
d38 1
a38 1
	${INSTALL_DATA_DIR} ${PREFIX}/lib/tcl8.4/tclcurl0.105
d40 1
a40 1
		${PREFIX}/lib/tcl8.4/tclcurl0.105
d42 1
a42 1
		${PREFIX}/lib/tcl8.4/tclcurl0.105
d45 1
a45 1
		${PREFIX}/lib/tcl8.4/tclcurl0.105
@


1.11
log
@-NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
+SHARED_ONLY=	Yes

ok ajacoutot@@, simon@@, mbalmer@@ (for the postgresql bits)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/05/15 15:09:12 naddy Exp $
d3 1
a3 1
COMMENT=		"Tcl bindings for Curl"
@


1.10
log
@chase wantlib changes after curl update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/08/03 23:15:58 espie Exp $
d4 1
a4 1
NOT_FOR_ARCHS= 		${NO_SHARED_ARCHS}
@


1.9
log
@new style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/11/19 01:57:25 alek Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
d17 1
a17 1
WANTLIB=		crypto ssl z 
@


1.8
log
@- Fix LIB_DEPENDS
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/10/27 20:03:25 sturm Exp $
d21 1
a21 1
LIB_DEPENDS=    	curl.2.2::net/curl \
@


1.7
log
@bump PKGNAMEs to permit the same in -stable, needed for new packages
after recent libcurl update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/12/21 11:40:40 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d22 1
a22 1
			tcl84:tcl-8.4.*:lang/tcl/8.4
@


1.6
log
@fix pkgspec
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/12/16 00:31:26 alek Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.6.4.1
log
@bump PKGNAMEs to not fall behind 3.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/12/21 11:40:40 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.6.2.1
log
@bump PKGNAMEs for new packages after libcurl update

discussed with pval
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/12/21 11:40:40 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.5
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/05/07 15:28:31 naddy Exp $
d7 1
d22 1
a22 1
			tcl84::lang/tcl/8.4
@


1.4
log
@Remove maintainer by his request.  Thanks, Jose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/02/21 00:59:29 jose Exp $
d16 1
@


1.3
log
@
homepage moved, from  Michael Coulter
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/12/27 23:32:42 jose Exp $
a9 2

MAINTAINER=		Jose Nazario <jose@@crimelabs.net>
@


1.2
log
@
update to tcl/tk 8.4
ok brad@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2003/08/12 02:20:31 jose Exp $
d9 1
a9 1
HOMEPAGE=		http://personal1.iddeo.es/andresgarci/tclcurl/
@


1.1
log
@
add TclCurl:

TclCurl gives the Tcl programmer a binding to libcurl, allowing you to
get a URL with FTP, TELNET, LDAP, GOPHER, DICT, FILE, HTTP or HTTPS
syntax.

maintainer: Jose Nazario <jose@@crimelabs.net>

ok brad@@, jolan@@
@
text
@d1 1
a1 1
# $OpenBSD$
d22 1
a22 1
			tcl83.1.3::lang/tcl/8.3
d25 2
a26 2
CONFIGURE_ARGS+=	--with-tcl=${LOCALBASE}/lib/tcl8.3 \
			--with-tclinclude=${LOCALBASE}/include/tcl8.3/ 
d36 1
a36 1
	${INSTALL_DATA_DIR} ${PREFIX}/lib/tcl8.3/tclcurl0.105
d38 1
a38 1
		${PREFIX}/lib/tcl8.3/tclcurl0.105
d40 1
a40 1
		${PREFIX}/lib/tcl8.3/tclcurl0.105
d43 1
a43 1
		${PREFIX}/lib/tcl8.3/tclcurl0.105
@

