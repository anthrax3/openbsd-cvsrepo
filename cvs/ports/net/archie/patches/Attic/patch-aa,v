head	1.3;
access;
symbols
	OPENBSD_4_2:1.2.0.28
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.26
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.24
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.22
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.20
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.18
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.16
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.14
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.12
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.10
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.8
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.6
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.4
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.1.1.1.0.12
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.10
	OPENBSD_2_7_BASE:1.1.1.1
	OPENBSD_2_6:1.1.1.1.0.8
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.6
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.4
	OPENBSD_2_4_BASE:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	joey_1_1:1.1.1.1
	joey_1:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2007.10.26.22.10.06;	author ajacoutot;	state dead;
branches;
next	1.2;

1.2
date	2001.03.12.16.10.52;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	97.11.15.00.04.40;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.11.15.00.04.40;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- use our naming scheme for patches
@
text
@$OpenBSD: patch-aa,v 1.2 2001/03/12 16:10:52 wilfried Exp $
*** Makefile.orig	Tue Oct 27 00:11:04 1992
--- Makefile	Mon Mar 12 17:10:17 2001
***************
*** 2,15 ****
  # Makefile for the minimal build for an archie Prospero client.
  #
  # Your C compiler:
! #CC=cc
  
  # For most systems, these OPTIONS will suffice.  Exceptions:
  #
  #	* If you're on a Stardent, add  -43
  #	* If you're running EP/IX, you may need to add  -systype bsd43
  #	  but try it without it first.
! OPTIONS= -O -I. -I/usr/netinclude -I/usr/ucbinclude
  
  # For this, DEFINES is usually ok as-is.  Try it without any of these
  # first; if some stuff fails or shows up undefined, then come back and
--- 2,15 ----
  # Makefile for the minimal build for an archie Prospero client.
  #
  # Your C compiler:
! CC=cc
  
  # For most systems, these OPTIONS will suffice.  Exceptions:
  #
  #	* If you're on a Stardent, add  -43
  #	* If you're running EP/IX, you may need to add  -systype bsd43
  #	  but try it without it first.
! OPTIONS= -I.
  
  # For this, DEFINES is usually ok as-is.  Try it without any of these
  # first; if some stuff fails or shows up undefined, then come back and
***************
*** 30,36 ****
  #     * if your system is lacking strspn(), add               -DSTRSPN
  #     * if you're using the unbundled SparcCompiler on a
  #	Solaris 2 system, add				      -DSOLARIS2
! DEFINES= -DDEBUG
  
  # The default Archie server; choose one of:
  #    archie.ans.net		(USA [NY])
--- 30,36 ----
  #     * if your system is lacking strspn(), add               -DSTRSPN
  #     * if you're using the unbundled SparcCompiler on a
  #	Solaris 2 system, add				      -DSOLARIS2
! DEFINES= -DNOREGEX
  
  # The default Archie server; choose one of:
  #    archie.ans.net		(USA [NY])
***************
*** 53,59 ****
  #	 you defined ARCHIE_HOST as), you need to add `-lresolv'.
  #
  #	* If you need the PW library (e.g. A/UX), add -lPW
! LDFLAGS=
  # If you're using ISC, use:
  #LDFLAGS= -linet
  # If you're using Wallongong TCP/IP on an AT&T box, use:
--- 53,59 ----
  #	 you defined ARCHIE_HOST as), you need to add `-lresolv'.
  #
  #	* If you need the PW library (e.g. A/UX), add -lPW
! #LDFLAGS=
  # If you're using ISC, use:
  #LDFLAGS= -linet
  # If you're using Wallongong TCP/IP on an AT&T box, use:
***************
*** 73,79 ****
  # Yer' done....make archie.
  # =========================
  #
! CFLAGS=$(OPTIONS) $(DEFINES) -DARCHIE_HOST=\"$(ARCHIE)\"
  
  VERSION=1.4.1
  VMS_VERSION=`echo $(VERSION) | sed -e 's,\\.,_,g'`
--- 73,79 ----
  # Yer' done....make archie.
  # =========================
  #
! CFLAGS+=$(OPTIONS) $(DEFINES) -DARCHIE_HOST=\"$(ARCHIE)\"
  
  VERSION=1.4.1
  VMS_VERSION=`echo $(VERSION) | sed -e 's,\\.,_,g'`
***************
*** 84,89 ****
--- 84,93 ----
  	vlalloc.o vl_comp.o
  
  all: archie
+ 
+ install:
+ 	${BSD_INSTALL_PROGRAM} archie  ${PREFIX}/bin/
+ 	${BSD_INSTALL_MAN} archie.man ${PREFIX}/man/man1/archie.1
  
  archie: $(OBJS)
  	$(CC) $(CFLAGS) -o $@@ $(OBJS) $(LDFLAGS)
@


1.2
log
@respect CFLAGS
add cvs tag
@
text
@d1 1
a1 1
$OpenBSD: $
@


1.1
log
@Initial revision
@
text
@d1 3
a3 2
*** Makefile.orig	Fri Oct 21 00:25:31 1994
--- Makefile	Fri Oct 21 00:26:55 1994
d31 1
a31 1
! OPTIONS= -O -I.
d48 1
a48 1
! DEFINES= -DDEBUG -DNOREGEX
d53 34
d94 2
a95 2
+ 	install -c -s archie  ${PREFIX}/bin/archie
+ 	install -c archie.man ${PREFIX}/man/man1/archie.1
@


1.1.1.1
log
@initial ports subsystem from joey
@
text
@@
