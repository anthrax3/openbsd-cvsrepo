head	1.27;
access;
symbols
	OPENBSD_6_1:1.26.0.14
	OPENBSD_6_1_BASE:1.26
	OPENBSD_6_0:1.26.0.12
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.26.0.8
	OPENBSD_5_9_BASE:1.26
	OPENBSD_5_8:1.26.0.10
	OPENBSD_5_8_BASE:1.26
	OPENBSD_5_7:1.26.0.6
	OPENBSD_5_7_BASE:1.26
	OPENBSD_5_6:1.26.0.4
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.26.0.2
	OPENBSD_5_5_BASE:1.26
	OPENBSD_5_4:1.25.0.2
	OPENBSD_5_4_BASE:1.25
	OPENBSD_5_3:1.24.0.2
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.23.0.8
	OPENBSD_5_2_BASE:1.23
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.6
	OPENBSD_5_0:1.23.0.4
	OPENBSD_5_0_BASE:1.23
	OPENBSD_4_9:1.23.0.2
	OPENBSD_4_9_BASE:1.23
	OPENBSD_4_8:1.22.0.2
	OPENBSD_4_8_BASE:1.22
	OPENBSD_4_7:1.21.0.4
	OPENBSD_4_7_BASE:1.21
	OPENBSD_4_6:1.21.0.2
	OPENBSD_4_6_BASE:1.21
	OPENBSD_4_5:1.20.0.6
	OPENBSD_4_5_BASE:1.20
	OPENBSD_4_4:1.20.0.4
	OPENBSD_4_4_BASE:1.20
	OPENBSD_4_3:1.20.0.2
	OPENBSD_4_3_BASE:1.20
	OPENBSD_4_2:1.18.0.8
	OPENBSD_4_2_BASE:1.18
	OPENBSD_4_1:1.18.0.6
	OPENBSD_4_1_BASE:1.18
	OPENBSD_4_0:1.18.0.4
	OPENBSD_4_0_BASE:1.18
	OPENBSD_3_9:1.18.0.2
	OPENBSD_3_9_BASE:1.18
	OPENBSD_3_8:1.17.0.4
	OPENBSD_3_8_BASE:1.17
	OPENBSD_3_7:1.17.0.2
	OPENBSD_3_7_BASE:1.17
	OPENBSD_3_6:1.16.0.8
	OPENBSD_3_6_BASE:1.16
	OPENBSD_3_5:1.16.0.6
	OPENBSD_3_5_BASE:1.16
	OPENBSD_3_4:1.16.0.4
	OPENBSD_3_4_BASE:1.16
	OPENBSD_3_3:1.16.0.2
	OPENBSD_3_3_BASE:1.16
	OPENBSD_3_2:1.15.0.4
	OPENBSD_3_2_BASE:1.15
	OPENBSD_3_1:1.15.0.2
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.14.0.2
	OPENBSD_3_0_BASE:1.14
	OPENBSD_2_9_TRACKING_SWITCH:1.13
	OPENBSD_2_9:1.11.0.4
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_8:1.11.0.2
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.1.1.1.0.4
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.2
	OPENBSD_2_5_BASE:1.1.1.1
	marc_1999-Feb-18:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2017.05.15.14.18.42;	author sthen;	state dead;
branches;
next	1.26;
commitid	cGr6jGBIcv5kru7l;

1.26
date	2014.01.01.20.46.28;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.11.11.35.56;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2012.08.18.12.41.38;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2010.10.18.18.36.57;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.07.12.22.07.41;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2009.04.01.16.24.05;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2008.02.13.23.01.23;	author merdely;	state Exp;
branches;
next	1.19;

1.19
date	2007.09.15.22.36.59;	author merdely;	state Exp;
branches;
next	1.18;

1.18
date	2006.02.05.00.23.13;	author steven;	state Exp;
branches;
next	1.17;

1.17
date	2004.12.16.00.31.25;	author alek;	state Exp;
branches;
next	1.16;

1.16
date	2002.10.28.01.38.46;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2002.03.21.21.09.20;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2001.09.12.13.30.43;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2001.06.20.01.43.30;	author pvalchev;	state Exp;
branches;
next	1.12;

1.12
date	2001.05.06.05.00.27;	author lebel;	state Exp;
branches;
next	1.11;

1.11
date	2000.06.20.15.51.20;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.04.09.17.37.32;	author espie;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2000.03.24.22.11.53;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.15.05.04.59;	author turan;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.12.08.02.27;	author turan;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.12.00.44.00;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.09.18.07.15;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2000.01.03.17.57.32;	author angelos;	state Exp;
branches;
next	1.3;

1.3
date	99.11.03.01.19.24;	author turan;	state Exp;
branches;
next	1.2;

1.2
date	99.10.30.13.00.50;	author turan;	state Exp;
branches;
next	1.1;

1.1
date	99.02.18.21.26.04;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.02.18.21.26.04;	author marc;	state Exp;
branches;
next	;

1.10.2.1
date	2000.09.15.05.10.15;	author marc;	state Exp;
branches;
next	;


desc
@@


1.27
log
@Remove the old SMB1->NFS translator sharity-light. No support for encrypted
passwords (required by default since NT4 SP3 and dangerous to disable) so
very limited server support. SMB1 needs to die anyway. And even when it
worked, it never really worked particularly well.  ok ajacoutot@@ jca@@
@
text
@# $OpenBSD: Makefile,v 1.26 2014/01/01 20:46:28 naddy Exp $

COMMENT=	userland smbfs --- SMB to NFS protocols converter

VERSION=	1.3
DISTNAME=	Sharity-Light.${VERSION}
PKGNAME=	sharity-light-${VERSION}
REVISION=	0
CATEGORIES=	net

MASTER_SITES=	http://www.obdev.at/ftp/pub/Products/Sharity-Light/

HOMEPAGE=	http://www.obdev.at/products/sharity-light/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c

NO_TEST=	Yes

MAKE_FLAGS=	ARCH="" THE_CC="${CC}" CFLAGS="${CFLAGS} -Wall"

post-extract:
	@@mkdir -p ${WRKSRC}/unshlight
	@@cp -f ${FILESDIR}/unshlight.c ${WRKSRC}/unshlight
	@@cp -f ${FILESDIR}/Makefile.unshlight ${WRKSRC}/unshlight/Makefile

post-build:
	@@cd ${WRKSRC}/unshlight && \
		${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} ${MAKE_FLAGS}

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/Sharity-Light
	${INSTALL_PROGRAM} ${WRKSRC}/shlight ${PREFIX}/sbin
	${INSTALL_PROGRAM} ${WRKSRC}/unshlight/unshlight ${PREFIX}/sbin
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/Sharity-Light
	${INSTALL_DATA} ${WRKSRC}/FAQ.txt ${PREFIX}/share/doc/Sharity-Light/FAQ
	${INSTALL_MAN} ${WRKSRC}/smbmount.8 ${PREFIX}/man/man8/sh-smbmount.8

.include <bsd.port.mk>
@


1.26
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/11 11:35:56 espie Exp $
@


1.25
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/08/18 12:41:38 ajacoutot Exp $
a19 1
USE_GROFF =	Yes
@


1.24
log
@Remove irrelevant $FreeBSD RCS ids.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/10/18 18:36:57 espie Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d21 1
a21 1
NO_REGRESS=	Yes
@


1.23
log
@USE_GROFF=Yes
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.22 2010/07/12 22:07:41 sthen Exp $
# $FreeBSD: Makefile,v 1.10 1999/01/06 17:11:23 dt Exp $
@


1.22
log
@use REVISION, checked with before/after make show=PKGNAMES (plus some
extra-careful checking where there are complicated PSEUDO_FLAVORS).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/04/01 16:24:05 jasper Exp $
d24 1
@


1.21
log
@- fix 64-bit issue due to a missing header
- specify license version
- regen PLIST
- add missing rcs id's
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/02/13 23:01:23 merdely Exp $
d8 2
a9 1
PKGNAME=	sharity-light-${VERSION}p0
@


1.20
log
@Update to sharity-light 1.3.
Mostly from Pea < pea - raveland + org >
Added patch to show the right version.

ok okan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/09/15 22:36:59 merdely Exp $
d8 1
a8 1
PKGNAME=	sharity-light-${VERSION}
d15 1
a15 1
# GPL
d20 1
d23 2
a34 2

NO_REGRESS=	Yes
@


1.19
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/02/05 00:23:13 steven Exp $
d6 1
a6 1
VERSION=	1.2
@


1.18
log
@fix MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2004/12/16 00:31:25 alek Exp $
d4 1
a4 1
COMMENT=	"userland smbfs --- SMB to NFS protocols converter"
@


1.17
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/10/28 01:38:46 naddy Exp $
d11 1
a11 2
MASTER_SITES=	ftp://ftp.obdev.at/pub/Products/Sharity-Light/	\
		ftp://ftp.warpnet.ro/mirrors/ftp.obdev.at/pub/Products/Sharity-Light/
@


1.16
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/03/21 21:09:20 espie Exp $
d21 1
@


1.15
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/09/12 13:30:43 brad Exp $
d10 1
a10 1
NEED_VERSION=	1.515
d32 2
@


1.14
log
@- add HOMEPAGE
- make -> ${MAKE_PROGRAM}
- cleanup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/06/20 01:43:30 pvalchev Exp $
d10 1
a10 1
NEED_VERSION=	1.435
@


1.13
log
@Remove deprecated LICENSE_TYPE and set appropriate # comments
with its contents.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/05/06 05:00:27 lebel Exp $
d6 3
a8 2
DISTNAME=	Sharity-Light.1.2
PKGNAME=	sharity-light-1.2
d10 1
a10 1
NEED_VERSION=	1.402
d14 1
a14 1
MAINTAINER=	ports@@openbsd.org
d16 1
a16 1
# License: GPL
d30 2
a31 1
	@@cd ${WRKSRC}/unshlight && ${SETENV} ${MAKE_ENV} make ${MAKE_FLAGS}
@


1.12
log
@net: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/06/20 15:51:20 espie Exp $
d15 1
a15 1
LICENSE_TYPE=		GPL
@


1.11
log
@Remove gratuitous conflict with samba, by installing smbmount.8 under
a different name.

Check that fake works, it's a trivial fake.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/04/09 17:37:32 espie Exp $
d4 2
d9 1
a9 1
NEED_VERSION=	1.195
@


1.10
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/03/24 22:11:53 espie Exp $
a7 1
FAKE=No
d14 4
a17 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d27 1
a27 1
	@@cd ${WRKSRC}/unshlight && env ${MAKE_ENV} make ${MAKE_FLAGS}
d35 1
a35 1
	${INSTALL_MAN} ${WRKSRC}/smbmount.8 ${PREFIX}/man/man8
@


1.10.2.1
log
@bring net as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/06/20 15:51:20 espie Exp $
d8 1
d15 4
a18 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d28 1
a28 1
	@@cd ${WRKSRC}/unshlight && ${SETENV} ${MAKE_ENV} make ${MAKE_FLAGS}
d36 1
a36 1
	${INSTALL_MAN} ${WRKSRC}/smbmount.8 ${PREFIX}/man/man8/sh-smbmount.8
@


1.9
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/15 05:04:59 turan Exp $
d8 1
@


1.8
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/12 08:02:27 turan Exp $
d7 1
a9 1
NEED_VERSION=	1.195
@


1.7
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/02/12 00:44:00 espie Exp $
d14 4
a17 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.6
log
@Change MAKE_FLAGS to remove the -f.

Actually reading the Makefiles proved that about one third of them was
confused about this already...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/02/09 18:07:15 brad Exp $
d12 6
@


1.5
log
@- remove a dist site
- change maintainer, no good having a FreeBSD ports maintainer listed
- use MAKE_FLAGS over patching the Makefile
- remove deprecated variables
- ${WRKDIR} -> ${WRKSRC}
- ${MKDIR} -> ${INSTALL_DATA_DIR}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/01/03 17:57:32 angelos Exp $
d9 1
@


1.4
log
@Fix, mark unbroken.
@
text
@d1 1
a1 6
# New ports collection makefile for:	sharity-light
# Version required:	1.0
# Date created:		14 June 1997
# Whom:			Dmitrij Tejblum <dima@@tejblum.dnttm.rssi.ru>
#
# $OpenBSD: Makefile,v 1.3 1999/11/03 01:19:24 turan Exp $
a2 1
#
d8 1
a8 2
		ftp://ftp.warpnet.ro/mirrors/ftp.obdev.at/pub/Products/Sharity-Light/ \
		http://www.freebsd.org/~dt/distfiles/
d10 1
a10 1
MAINTAINER=	dt@@FreeBSD.ORG
d12 1
a12 1
MAN8=		smbmount.8
d15 3
a17 3
	@@${MKDIR} ${WRKDIR}/unshlight
	@@${CP} ${FILESDIR}/unshlight.c ${WRKDIR}/unshlight
	@@${CP} ${FILESDIR}/Makefile.unshlight ${WRKDIR}/unshlight/Makefile
d20 1
a20 1
	cd ${WRKDIR}/unshlight && make
d23 1
d25 2
a26 4
	${INSTALL_PROGRAM} ${WRKDIR}/unshlight/unshlight ${PREFIX}/sbin
.if !defined(NOPORTDOCS)
	${MKDIR} ${PREFIX}/share/doc/Sharity-Light
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/Sharity-Light/README
a27 1
.endif
@


1.3
log
@balance quotes in broken tag
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1999/10/30 13:00:50 turan Exp $
a8 2

BROKEN=		unshlight.c:56: structure has no member named f_type
@


1.2
log
@broken, compilation errors.
unshlight.c:56: structure has no member named `f_type'

I also saw
proc.c:1216: warning: large integer implicitly truncated to unsigned type
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/02/18 21:26:04 marc Exp $
d10 1
a10 1
BROKEN=		unshlight.c:56: structure has no member named `f_type'
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.10 1999/01/06 17:11:23 dt Exp $
d9 2
@


1.1.1.1
log
@port added; Joe <rys@@tir.com> (plus some cleanup)
@
text
@@
