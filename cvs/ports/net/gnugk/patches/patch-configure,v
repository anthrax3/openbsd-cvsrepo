head	1.21;
access;
symbols
	OPENBSD_6_0:1.21.0.2
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.19.0.4
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.18.0.4
	OPENBSD_5_7_BASE:1.18
	OPENBSD_5_6:1.18.0.2
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.14.0.2
	OPENBSD_5_5_BASE:1.14
	OPENBSD_5_4:1.13.0.2
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.12.0.2
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.10.0.2
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.2
	OPENBSD_5_0:1.7.0.6
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.4
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.5.0.6
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.4
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.2.0.4
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	ajacoutot_20070427:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.21
date	2016.02.27.12.02.04;	author ajacoutot;	state Exp;
branches;
next	1.20;
commitid	XlO58fFzhgPzxUwd;

1.20
date	2015.12.03.07.59.13;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	qycv4i4ZXQy8ccqi;

1.19
date	2015.07.11.08.00.39;	author ajacoutot;	state Exp;
branches;
next	1.18;
commitid	72zSPze54JjoCXq5;

1.18
date	2014.05.08.04.15.21;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2014.04.25.11.18.46;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2014.03.23.18.17.35;	author kili;	state Exp;
branches;
next	1.15;

1.15
date	2014.03.18.09.01.07;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2014.01.03.06.21.04;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2013.05.14.15.01.57;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2013.01.16.14.18.53;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2012.08.25.13.19.37;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2012.05.05.06.12.13;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2012.01.05.08.44.35;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2011.10.26.17.00.06;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.05.03.19.32.14;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2010.03.23.21.14.45;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2009.01.17.11.42.03;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.04.03.07.18.08;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.03.15.17.40.06;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.22.11.16.12;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2007.04.27.21.10.42;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.04.27.21.10.42;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.21
log
@Update to gnugk-4.1.
@
text
@$OpenBSD: patch-configure,v 1.20 2015/12/03 07:59:13 ajacoutot Exp $
--- configure.orig	Mon Feb  1 12:59:04 2016
+++ configure	Sat Feb 27 12:17:18 2016
@@@@ -5070,7 +5070,7 @@@@ else
 fi
 
 
-PTLIBSNMPSUPPORT=`cat ${PTLIBDIR}/include/ptbuildopts.h | grep 'define P_SNMP'`
+PTLIBSNMPSUPPORT=`cat ${PTLIBDIR}/make/ptbuildopts.mak | grep 'define P_SNMP'`
 if test "${PTLIBSNMPSUPPORT:-unset}" = "unset" ; then
 	if test "x${ptlibsnmp}" != "xno" ; then
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: result: No PTLib SNMP support available" >&5
@


1.20
log
@Update to gnugk-4.0.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.19 2015/07/11 08:00:39 ajacoutot Exp $
--- configure.orig	Tue Sep 15 15:55:40 2015
+++ configure	Thu Dec  3 08:52:16 2015
@@@@ -5066,7 +5066,7 @@@@ else
@


1.19
log
@Update to gnugk-3.9.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.18 2014/05/08 04:15:21 ajacoutot Exp $
--- configure.orig	Fri Jul 10 12:13:36 2015
+++ configure	Sat Jul 11 09:07:49 2015
@@@@ -5069,7 +5069,7 @@@@ else
@


1.18
log
@Update to gnugk-3.6.
@
text
@d1 4
a4 40
$OpenBSD: patch-configure,v 1.17 2014/04/25 11:18:46 ajacoutot Exp $
--- configure.orig	Thu Feb 20 00:32:50 2014
+++ configure	Thu May  8 05:58:42 2014
@@@@ -3733,7 +3733,7 @@@@ else
 fi
 
 
-H460SUPPORT=`cat ${OPENH323DIR}/include/openh323buildopts.h | grep 'define H323_H460'`
+H460SUPPORT=`cat ${LOCALBASE}/include/openh323/openh323buildopts.h | grep 'define H323_H460'`
 if test "${H460SUPPORT:-unset}" = "unset" ; then
 	if test "x${h46017}" != "xno" ; then
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: result: No H.460 support available" >&5
@@@@ -3765,7 +3765,7 @@@@ else
 fi
 
 
-H460SUPPORT=`cat ${OPENH323DIR}/include/openh323buildopts.h | grep 'define H323_H460'`
+H460SUPPORT=`cat ${LOCALBASE}/include/openh323/openh323buildopts.h | grep 'define H323_H460'`
 if test "${H460SUPPORT:-unset}" = "unset" ; then
 	if test "x${h46018}" != "xno" ; then
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: result: No H.460 support available" >&5
@@@@ -3797,7 +3797,7 @@@@ else
 fi
 
 
-H460SUPPORT=`cat ${OPENH323DIR}/include/openh323buildopts.h | grep 'define H323_H460'`
+H460SUPPORT=`cat ${LOCALBASE}/include/openh323/openh323buildopts.h | grep 'define H323_H460'`
 if test "${H460SUPPORT:-unset}" = "unset" ; then
 	if test "x${h46023}" != "xno" ; then
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: result: No H.460 support available" >&5
@@@@ -4591,7 +4591,7 @@@@ $as_echo_n "checking for ssh_handle_key_exchange()/ssh
 
 		for try in /usr/lib /usr/local/lib $libssh_lib_dir; do
 			if test -d $try; then
-				LIBS="$old_LIBS -L$try -lssh -lcrypto -lz $GSSAPI_LIBS -lrt"
+				LIBS="$old_LIBS -L$try -lssh -lcrypto -lz $GSSAPI_LIBS"
 				cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 extern ssh_handle_key_exchange(); extern ssh_blocking_flush();
@@@@ -4823,7 +4823,7 @@@@ else
@


1.17
log
@Update to a snapshot of branch v3_5_STABLE to cope with recent ptlib and
h323plus updates.
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.16 2014/03/23 18:17:35 kili Exp $
--- configure.orig	Thu Jan  2 13:27:20 2014
+++ configure	Wed Apr 23 15:30:54 2014
d31 1
a31 1
@@@@ -4590,7 +4590,7 @@@@ $as_echo_n "checking for ssh_handle_key_exchange()/ssh
d35 2
a36 2
-				LIBS="$old_LIBS -L$try -lssh -lcrypto -lz -lrt"
+				LIBS="$old_LIBS -L$try -lssh -lcrypto -lz"
d40 1
a40 1
@@@@ -4822,7 +4822,7 @@@@ else
@


1.16
log
@Revert librt changes.

Prodded by espie@@.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.15 2014/03/18 09:01:07 ajacoutot Exp $
d3 1
a3 1
+++ configure	Fri Jan  3 07:02:38 2014
d40 9
@


1.15
log
@Remove the librt chunk, it's not needed anymore.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.14 2014/01/03 06:21:04 ajacoutot Exp $
d31 9
@


1.14
log
@Update to gnugk-3.5.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.13 2013/05/14 15:01:57 ajacoutot Exp $
a30 9
@@@@ -4590,7 +4590,7 @@@@ $as_echo_n "checking for ssh_handle_key_exchange()/ssh
 
 		for try in /usr/lib /usr/local/lib $libssh_lib_dir; do
 			if test -d $try; then
-				LIBS="$old_LIBS -L$try -lssh -lcrypto -lz -lrt"
+				LIBS="$old_LIBS -L$try -lssh -lcrypto -lz"
 				cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 extern ssh_handle_key_exchange(); extern ssh_blocking_flush();
@


1.13
log
@Update to gnugk-3.3.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.12 2013/01/16 14:18:53 ajacoutot Exp $
--- configure.orig	Sun Feb 24 17:35:19 2013
+++ configure	Tue May 14 16:50:04 2013
@@@@ -3730,7 +3730,7 @@@@ else
d13 1
a13 1
@@@@ -3762,7 +3762,7 @@@@ else
d22 1
a22 1
@@@@ -3794,7 +3794,7 @@@@ else
d31 1
a31 1
@@@@ -4587,7 +4587,7 @@@@ $as_echo_n "checking for ssh_handle_key_exchange()/ssh
d35 2
a36 2
-				LIBS="$old_LIBS -lssh -lcrypto -lz -lrt"
+				LIBS="$old_LIBS -lssh -lcrypto -lz"
@


1.12
log
@Update to gnugk-3.2.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.11 2012/08/25 13:19:37 ajacoutot Exp $
--- configure.orig	Fri Dec 28 21:35:42 2012
+++ configure	Wed Jan 16 08:12:25 2013
@@@@ -3727,7 +3727,7 @@@@ else
d13 1
a13 1
@@@@ -3759,7 +3759,7 @@@@ else
d22 1
a22 1
@@@@ -3791,7 +3791,7 @@@@ else
d31 1
a31 1
@@@@ -4584,7 +4584,7 @@@@ $as_echo_n "checking for ssh_handle_key_exchange()/ssh
@


1.11
log
@Update to gnugk-3.1.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.10 2012/05/05 06:12:13 ajacoutot Exp $
--- configure.orig	Tue May  8 21:11:51 2012
+++ configure	Sat Aug 25 10:16:19 2012
@@@@ -3701,7 +3701,7 @@@@ else
d13 1
a13 1
@@@@ -3733,7 +3733,7 @@@@ else
d22 1
a22 1
@@@@ -3765,7 +3765,7 @@@@ else
d31 1
a31 1
@@@@ -4558,7 +4558,7 @@@@ $as_echo_n "checking for ssh_handle_key_exchange()/ssh
@


1.10
log
@Bugfix update to gnugk-3.0.2.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.9 2012/01/05 08:44:35 ajacoutot Exp $
--- configure.orig	Mon Nov 28 13:46:08 2011
+++ configure	Thu Jan  5 09:33:19 2012
@@@@ -3689,7 +3689,7 @@@@ else
d9 10
a18 1
+H460SUPPORT=`cat !!LOCALBASE!!/include/openh323/openh323buildopts.h | grep 'define H323_H460'`
d22 1
a22 1
@@@@ -3721,7 +3721,7 @@@@ else
d27 1
a27 1
+H460SUPPORT=`cat !!LOCALBASE!!/include/openh323/openh323buildopts.h | grep 'define H323_H460'`
d31 1
a31 1
@@@@ -4514,7 +4514,7 @@@@ $as_echo_n "checking for ssh_handle_key_exchange()/ssh
@


1.9
log
@Major update to gnugk-3.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.8 2011/10/26 17:00:06 ajacoutot Exp $
a3 13
@@@@ -3633,9 +3633,9 @@@@ fi
 
       if test "${HAS_OPENH323_VERSIONFILE:-unset}" != "unset"; then
         OPENH323_VERSION_FILE=${OPENH323MAKEDIR}/../../include/openh323/openh323buildopts.h
-        OPENH323_MAJOR_VERSION=`cat ${OPENH323_VERSION_FILE} | grep OPENH323_MAJOR | cut -f2 -d' '`
-        OPENH323_MINOR_VERSION=`cat ${OPENH323_VERSION_FILE} | grep OPENH323_MINOR | cut -f2 -d' '`
-        OPENH323_BUILD_NUMBER=`cat ${OPENH323_VERSION_FILE} | grep "OPENH323_BUILD " | cut -f2 -d' '`
+        OPENH323_MAJOR_VERSION=`cat ${OPENH323_VERSION_FILE} | grep OPENH323_MAJOR | cut -f3 -d' '`
+        OPENH323_MINOR_VERSION=`cat ${OPENH323_VERSION_FILE} | grep OPENH323_MINOR | cut -f3 -d' '`
+        OPENH323_BUILD_NUMBER=`cat ${OPENH323_VERSION_FILE} | grep "OPENH323_BUILD " | cut -f3 -d' '`
       fi
     fi
   fi
@


1.8
log
@Major update to gnugk-2.3.5.
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.7 2010/05/03 19:32:14 ajacoutot Exp $
--- configure.orig	Wed Jul 20 13:21:19 2011
+++ configure	Tue Oct 25 19:16:17 2011
d35 9
@


1.7
log
@Fix postresql support.

breakage spotted by Andrew Grillet, thanks.
@
text
@d1 15
a15 6
$OpenBSD: patch-configure,v 1.6 2010/03/23 21:14:45 ajacoutot Exp $
--- configure.orig	Sun Nov  8 22:43:34 2009
+++ configure	Mon May  3 21:19:10 2010
@@@@ -3541,7 +3541,7 @@@@ if test "${PWLIBDIR:-unset}" = "unset" ; then
     echo "Cannot find ptlib-config - please install and try again"
     exit
d17 1
a17 6
-  PWLIBDIR=`$PTLIB_CONFIG --pwlibdir`
+  PWLIBDIR=`$PTLIB_CONFIG --ptlibdir`
 fi
 
 echo "PWLib prefix set to $PWLIBDIR"
@@@@ -3969,7 +3969,7 @@@@ else
d25 2
a26 2
 		{ $as_echo "$as_me:$LINENO: result: No H.460 support available" >&5
@@@@ -4003,7 +4003,7 @@@@ else
d34 1
a34 19
 		{ $as_echo "$as_me:$LINENO: result: No H.460 support available" >&5
@@@@ -4568,7 +4568,7 @@@@ $as_echo_n "checking for PQconnectdb in -lpq... " >&6;
 
 		for try in /usr/lib /usr/local/lib /usr/local/pgsql/lib $pgsql_lib_dir; do
 			if test -d $try; then
-				LIBS="$old_LIBS -L$try -lpq -lcrypt ${PGSQL_LIBS}"
+				LIBS="$old_LIBS -L$try -lpq ${PGSQL_LIBS}"
 				cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -4605,7 +4605,7 @@@@ $as_echo "$ac_try_echo") >&5
 	 test "$cross_compiling" = yes ||
 	 $as_test_x conftest$ac_exeext
        }; then
-   PGSQL_LIBS="-lpq -lcrypt ${PGSQL_LIBS}"
+   PGSQL_LIBS="-lpq ${PGSQL_LIBS}"
 					  PGSQL_LDFLAGS="-L$try"
 
 
@


1.6
log
@Major update to gnugk-2.3.1.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.5 2009/01/17 11:42:03 ajacoutot Exp $
d3 1
a3 1
+++ configure	Sat Jan 30 14:23:41 2010
d31 18
@


1.5
log
@- update to gnugk-2.2.8
Some of the changes:
* auto-reconnect feature for all database drivers
* support for using stored procedures when using MySQL
* the extended 'sql' routing policy now supports setting multiple
failover routes
- use SUBST_CMD
- remove GNUGK_ID variable... not useful
@
text
@d1 10
a10 4
$OpenBSD: patch-configure,v 1.4 2008/04/03 07:18:08 ajacoutot Exp $
--- configure.orig	Sat Jan 17 11:34:07 2009
+++ configure	Sat Jan 17 11:35:26 2009
@@@@ -4300,9 +4300,15 @@@@ echo $ECHO_N "checking for PQconnectdb in -lpq... $ECH
d12 3
a14 1
 		old_LIBS="$LIBS"
a15 20
+		if test `uname -s` = OpenBSD ; then
+			CRYPTO_LIBS="-lcrypto"
+		else
+			CRYPTO_LIBS="-lcrypt"
+		fi
+
 		for try in /usr/lib /usr/local/lib /usr/local/pgsql/lib $pgsql_lib_dir; do
 			if test -d $try; then
-				LIBS="$old_LIBS -L$try -lpq -lcrypt ${PGSQL_LIBS}"
+				LIBS="$old_LIBS -L$try -lpq ${CRYPTO_LIBS} ${PGSQL_LIBS}"
 				cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -4336,7 +4342,7 @@@@ eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
 	 test ! -s conftest.err
        } && test -s conftest$ac_exeext &&
        $as_test_x conftest$ac_exeext; then
-   PGSQL_LIBS="-lpq -lcrypt ${PGSQL_LIBS}"
+   PGSQL_LIBS="-lpq ${CRYPTO_LIBS} ${PGSQL_LIBS}"
 					  PGSQL_LDFLAGS="-L$try"
d17 7
d25 6
@


1.4
log
@- update to gnugk-2.2.7

* extends virtual queues to work on unregistered calls,
* adds per prefix capacity limits and Q.931 cause code translation per
gateway
* adds H.460.9 realtime, QoS monitoring, H.460.interop support and H.350
authentication
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.3 2008/03/15 17:40:06 ajacoutot Exp $
--- configure.orig	Fri Jun  2 11:21:34 2006
+++ configure	Wed Apr  2 17:42:44 2008
@@@@ -3884,9 +3884,15 @@@@ echo $ECHO_N "checking for PQconnectdb in -lpq... $ECH
d9 1
a9 1
+		  CRYPTO_LIBS="-lcrypto"
d11 1
a11 1
+		  CRYPTO_LIBS="-lcrypt"
d21 4
a24 4
@@@@ -3924,7 +3930,7 @@@@ if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
@


1.3
log
@- make it compile with new pwlib
- merge a patch from upstream SVN so that the _gnugk user does not need
read access to current directory when starting gnugk
- remove useless parts from patches now that pwlib and openh323 version
got sanitised
- rename default configuration file from gnugk.ini to getekeeper.ini
(as per documentation suggests it)
- replace etc with ${SYSCONFDIR} in MESSAGE and remove fixed warning
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.2 2007/05/22 11:16:12 ajacoutot Exp $
d3 19
a21 2
+++ configure	Thu Mar  6 10:55:13 2008
@@@@ -3924,7 +3924,11 @@@@ if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
d26 1
a26 5
+   if test `uname -s` = OpenBSD ; then
+     PGSQL_LIBS="-lpq -lcrypto ${PGSQL_LIBS}"
+   else
+     PGSQL_LIBS="-lpq -lcrypt ${PGSQL_LIBS}"
+   fi
@


1.2
log
@- better configure checks
no binary change
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.1.1.1 2007/04/27 21:10:42 ajacoutot Exp $
d3 2
a4 46
+++ configure	Mon Apr 30 12:13:53 2007
@@@@ -3032,9 +3032,14 @@@@ fi
   fi
 else
   PWLIB_VERSION=`${PTLIB_CONFIG} --version`
-  PWLIB_MAJOR_VERSION=`echo "${PWLIB_VERSION}" | sed -e "s/\([0-9]*\)\.[0-9]*\.[0-9]*.*/\1/"`
-  PWLIB_MINOR_VERSION=`echo "${PWLIB_VERSION}" | sed -e 's/[0-9]*\.\([0-9]*\)\.[0-9]*.*/\1/'`
-  PWLIB_BUILD_NUMBER=`echo "${PWLIB_VERSION}" | sed -e 's/[0-9]*\.[0-9]*\.\([0-9]*\).*/\1/'`
+    if test `uname -s` = OpenBSD ; then
+      PWLIB_MAJOR_VERSION=`echo "${PWLIB_VERSION}" | sed -e "s/\([0-9]*\)\.[0-9]*\.*/\1/"`
+      PWLIB_MINOR_VERSION=`echo "${PWLIB_VERSION}" | sed -e 's/[0-9]*\.\([0-9]*\)\.*/\1/'`
+    else
+      PWLIB_MAJOR_VERSION=`echo "${PWLIB_VERSION}" | sed -e "s/\([0-9]*\)\.[0-9]*\.[0-9]*.*/\1/"`
+      PWLIB_MINOR_VERSION=`echo "${PWLIB_VERSION}" | sed -e 's/[0-9]*\.\([0-9]*\)\.[0-9]*.*/\1/'`
+  fi
+    PWLIB_BUILD_NUMBER=`echo "${PWLIB_VERSION}" | sed -e 's/[0-9]*\.[0-9]*\.\([0-9]*\).*/\1/'`
 fi
 if test "${PWLIB_VERSION:-unset}" = "unset" -o "${PWLIB_VERSION}" = ".."; then
   echo "Error: could not determine PWLib version"
@@@@ -3317,7 +3322,11 @@@@ if test "${HAS_OPENH323_VERSIONFILE:-unset}" != "unset
     echo "Error: Could not determine OpenH323 version"
     exit
   fi
-  OPENH323_VERSION="${OPENH323_MAJOR_VERSION}.${OPENH323_MINOR_VERSION}.${OPENH323_BUILD_NUMBER}"
+  if test `uname -s` = OpenBSD ; then
+    OPENH323_VERSION="${OPENH323_MAJOR_VERSION}.${OPENH323_MINOR_VERSION}"
+  else
+    OPENH323_VERSION="${OPENH323_MAJOR_VERSION}.${OPENH323_MINOR_VERSION}.${OPENH323_BUILD_NUMBER}"
+  fi
   echo "OpenH323 version is ${OPENH323_VERSION}"
 else
   echo "Error: Could not determine OpenH323 version"
@@@@ -3886,7 +3895,11 @@@@ echo $ECHO_N "checking for PQconnectdb in -lpq... $ECH
 
 		for try in /usr/lib /usr/local/lib /usr/local/pgsql/lib $pgsql_lib_dir; do
 			if test -d $try; then
-				LIBS="$old_LIBS -L$try -lpq -lcrypt ${PGSQL_LIBS}"
+				if test `uname -s` = OpenBSD ; then
+				  LIBS="$old_LIBS -L$try -lpq -lcrypto ${PGSQL_LIBS}"
+				else 
+				  LIBS="$old_LIBS -L$try -lpq -lcrypt ${PGSQL_LIBS}"
+				fi 
 				cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -3924,7 +3937,11 @@@@ if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 33
a35 28
+++ configure	Sun Apr 15 15:09:15 2007
@@@@ -3043,25 +3043,9 @@@@ fi
 
 echo "PTLib version is ${PWLIB_VERSION}"
 
-if test ${PWLIB_MAJOR_VERSION} -lt 1; then
-  echo "Error: at leat PWLib version 1.7.5.2 (Pandora) required"
-  exit
-fi
-if test ${PWLIB_MAJOR_VERSION} -eq 1; then
-  if test ${PWLIB_MINOR_VERSION} -lt 7; then
-    echo "Error: at leat PWLib version 1.7.5.2 (Pandora) required"
-    exit
-  elif test ${PWLIB_MINOR_VERSION} -eq 7; then
-    if test ${PWLIB_BUILD_NUMBER} -lt 5; then
-      echo "Error: at leat PWLib version 1.7.5.2 (Pandora) required"
-      exit
-    fi
-  fi
-fi
 
 
 
-
 NEEDOPENH323PREFIX=0
 
 if test "${OPENH323DIR:-unset}" != "unset" ; then
@@@@ -3886,7 +3870,7 @@@@ echo $ECHO_N "checking for PQconnectdb in -lpq... $ECH
d40 5
a44 1
+				LIBS="$old_LIBS -L$try -lpq -lcrypto ${PGSQL_LIBS}"
d48 1
a48 1
@@@@ -3924,7 +3908,7 @@@@ if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
d53 5
a57 1
+   PGSQL_LIBS="-lpq -lcrypto ${PGSQL_LIBS}"
@


1.1.1.1
log
@Import gnugk-2.2.6

The GNU Gatekeeper is an open-source project that implements an H.323
gatekeeper. A gatekeeper provides call control services to the H.323
endpoints. It is an integral part of most useful internet telephony
installations that are based on the H.323 standard.
According to the recommendations from H.323, GnuGK provides most of the
following functions based on the OpenH323 protocol stack:
 * Address Translation
 * Admissions Control
 * Bandwidth Control
 * Zone Management
 * Call Control Signaling
 * Call Authorization
 * Bandwidth Management
 * Call Management

ok kili@@
@
text
@@
