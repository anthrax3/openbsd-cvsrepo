head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2004.10.26.18.47.59;	author sturm;	state dead;
branches;
next	1.1;

1.1
date	2004.09.30.05.35.06;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@move this to a regular patch, prodded by pval@@
@
text
@$OpenBSD: gcc-src_nodes_c,v 1.1 2004/09/30 05:35:06 sturm Exp $
--- src/nodes.c.orig	Sat Sep 25 18:55:40 2004
+++ src/nodes.c	Sat Sep 25 19:18:23 2004
@@@@ -2153,7 +2153,7 @@@@ void send_node_error(
 {
 	gchar gnet_response[2048];
 	gchar msg_tmp[256];
-	size_t rw;
+	gint rw;
 	ssize_t sent;
 	va_list args;
 
@@@@ -3426,7 +3426,7 @@@@ static void node_process_handshake_heade
 	struct gnutella_node *n, header_t *head)
 {
 	gchar gnet_response[10240];		/* Large in case Crawler info sent back */
-	size_t rw;
+	gint rw;
 	gint sent;
 	const gchar *field;
 	gboolean incoming = (n->flags & NODE_F_INCOMING);
@@@@ -4620,7 +4620,7 @@@@ void node_init_outgoing(struct gnutella_
 {
 	struct gnutella_socket *s = n->socket;
 	gchar buf[MAX_LINE_SIZE];
-	size_t len;
+	gint len;
 	ssize_t sent;
 
 	g_assert(s->gdk_tag == 0);
@


1.1
log
@work around a variable size mismatch on 64 bit archs, crashing gtk-gnutella
@
text
@d1 1
a1 1
$OpenBSD$
@

