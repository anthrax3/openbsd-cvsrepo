head	1.38;
access;
symbols
	OPENBSD_6_0:1.34.0.2
	OPENBSD_6_0_BASE:1.34
	OPENBSD_5_9:1.31.0.2
	OPENBSD_5_9_BASE:1.31
	OPENBSD_5_8:1.22.0.4
	OPENBSD_5_8_BASE:1.22
	OPENBSD_5_7:1.21.0.2
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.20.0.2
	OPENBSD_5_6_BASE:1.20
	OPENBSD_5_5:1.18.0.2
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.15.0.2
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.12.0.2
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.2
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.5.0.2
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.2.0.4
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	sthen_20081007:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.38
date	2017.03.15.09.43.08;	author sthen;	state Exp;
branches;
next	1.37;
commitid	Rl8AbpykPKhlUrl8;

1.37
date	2017.02.08.10.53.48;	author sthen;	state Exp;
branches;
next	1.36;
commitid	XpdzOlK9CyApF6Nr;

1.36
date	2016.11.15.14.01.05;	author sthen;	state Exp;
branches;
next	1.35;
commitid	4iV8g1od5fxtbA7P;

1.35
date	2016.10.07.10.20.31;	author sthen;	state Exp;
branches;
next	1.34;
commitid	qus6lUjzekwhIKbk;

1.34
date	2016.07.09.12.05.40;	author sthen;	state Exp;
branches;
next	1.33;
commitid	J7w4s2mqToIBK8Bc;

1.33
date	2016.04.29.14.21.52;	author sthen;	state Exp;
branches;
next	1.32;
commitid	c4oQHfj2hCdKfES1;

1.32
date	2016.03.11.11.28.26;	author sthen;	state Exp;
branches;
next	1.31;
commitid	y434449HcCa5omEP;

1.31
date	2016.01.21.18.08.06;	author jasper;	state Exp;
branches;
next	1.30;
commitid	BYF2s0KldDIUcx98;

1.30
date	2016.01.20.15.29.30;	author sthen;	state Exp;
branches;
next	1.29;
commitid	GPbH5uekFTbAFflG;

1.29
date	2016.01.02.22.42.23;	author sthen;	state Exp;
branches;
next	1.28;
commitid	DWVoOMHInaOcMDzv;

1.28
date	2015.12.03.21.24.31;	author sthen;	state Exp;
branches;
next	1.27;
commitid	qh8BBe4z9PLvLPKf;

1.27
date	2015.11.03.16.18.33;	author sthen;	state Exp;
branches;
next	1.26;
commitid	AfhXC0foLd7219Oq;

1.26
date	2015.11.03.15.52.18;	author sthen;	state Exp;
branches;
next	1.25;
commitid	PHyBhaZR2Cj9ZnFm;

1.25
date	2015.11.03.15.51.24;	author sthen;	state Exp;
branches;
next	1.24;
commitid	n5oqfVKvm8waXbDC;

1.24
date	2015.10.08.22.41.38;	author sthen;	state Exp;
branches;
next	1.23;
commitid	kA6yIOL9CEv2p2i1;

1.23
date	2015.10.08.21.19.22;	author sthen;	state Exp;
branches;
next	1.22;
commitid	pVDZUjJm7yyuQSI1;

1.22
date	2015.04.14.14.17.20;	author sthen;	state Exp;
branches;
next	1.21;
commitid	2FMOoAsiGWcekdhK;

1.21
date	2014.10.13.15.19.49;	author sthen;	state Exp;
branches;
next	1.20;
commitid	2HLst269pO6fKrWV;

1.20
date	2014.07.09.22.54.19;	author sthen;	state Exp;
branches;
next	1.19;
commitid	IHSCCxxW26YT4Sfy;

1.19
date	2014.05.15.14.25.45;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2014.02.04.12.54.44;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2013.12.10.15.31.28;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2013.08.15.20.28.55;	author gsoares;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.11.11.35.45;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2013.03.03.21.28.15;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2012.09.11.14.54.05;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2012.06.04.11.01.48;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2012.05.26.22.47.03;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2012.05.16.13.22.17;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2012.05.14.14.59.58;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2012.05.08.11.04.27;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2011.11.15.23.02.23;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2011.03.03.09.47.50;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.19.22.31.32;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.18.18.36.45;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2010.07.12.22.07.37;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.06.26.09.20.41;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2008.10.07.10.01.41;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.10.07.10.01.41;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.38
log
@update mac address db
@
text
@# $OpenBSD: Makefile,v 1.37 2017/02/08 10:53:48 sthen Exp $

COMMENT-main =	ARP scanning and fingerprinting tool
COMMENT-mac =	MAC address vendor list

V =		1.9
DISTNAME =	arp-scan-$V
PKGNAME-main =	${DISTNAME}
REVISION-main =	12

M =		20170315
PKGNAME-mac =	mac-vendor-$M

CATEGORIES =	net

HOMEPAGE =	https://github.com/royhills/arp-scan

MAINTAINER =	Stuart Henderson <sthen@@openbsd.org>

MASTER_SITES =	https://github.com/royhills/arp-scan/releases/download/$V/
MASTER_SITES0 =	https://spacehopper.org/mirrors/

DISTFILES =	${DISTNAME}${EXTRACT_SUFX} \
		oui-iab-$M.tar.bz2:0

# GPLv3+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB-main =		c pcap
RUN_DEPENDS-main =	${BASE_PKGPATH},-mac

MULTI_PACKAGES =	-main -mac

CONFIGURE_STYLE =	gnu

# for local format-ma script
BUILD_DEPENDS =		textproc/p5-Text-CSV

pre-configure:
	cd ${WRKSRC}; cat ${WRKDIR}/oui-iab/ma-{s,m,l}.csv \
	    ${FILESDIR}/unofficial.csv ${WRKDIR}/oui-iab/iab.csv | \
	    perl ${FILESDIR}/format-ma

post-install:
	cd ${PREFIX}/share/arp-scan; \
	    mv mac-vendor.txt mac-vendor.txt.dist
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/arpwatch/
	${INSTALL_DATA} ${WRKSRC}/ethercodes.dat \
	    ${PREFIX}/share/examples/arpwatch/ethercodes.dat
	${INSTALL_DATA_DIR} ${PREFIX}/share/mac-vendor/
	${INSTALL_DATA} ${WRKDIR}/oui-iab/*csv ${FILESDIR}/unofficial.csv \
	    ${PREFIX}/share/mac-vendor/

# maintainer convenience target to update mac-vendor file from the databases
# http://standards.ieee.org/develop/regauth/oui/
# https://regauth.standards.ieee.org/standards-ra-web/pub/view.html#registries
listing:
	base='http://standards-oui.ieee.org'; \
	f=oui-iab-`date +%Y%m%d`; \
	t=`mktemp -d /tmp/oui-iab.XXXXXXXXXX`; \
	cd $$t; \
	mkdir oui-iab; \
	cd oui-iab; \
	[ -r iab.csv ] || ftp -o iab.csv $$base/iab/iab.csv; \
	[ -r ma-l.csv ] || ftp -o ma-l.csv $$base/oui/oui.csv; \
	[ -r ma-m.csv ] || ftp -o ma-m.csv $$base/oui28/mam.csv; \
	[ -r ma-s.csv ] || ftp -o ma-s.csv $$base/oui36/oui36.csv; \
	cd ..; tar cjf $$f.tar.bz2 oui-iab; scp $$f.tar.bz2 naiad:mirrors/; \
	rm -r $$t

.include <bsd.port.mk>
@


1.37
log
@update mac-vendor listing
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2016/11/15 14:01:05 sthen Exp $
d11 1
a11 1
M =		20170208
@


1.36
log
@update mac vendors
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2016/10/07 10:20:31 sthen Exp $
d11 1
a11 1
M =		20161115
@


1.35
log
@update MAC vendor database
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2016/07/09 12:05:40 sthen Exp $
d11 1
a11 1
M =		20161007
d59 1
@


1.34
log
@update MAC address vendor listings
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2016/04/29 14:21:52 sthen Exp $
d11 1
a11 1
M =		20160709
a56 2
#
# XXX should use mktemp, but the fetches are too flaky at the moment
d59 4
a62 2
	f=oui-iab-`date +%Y%m%d`; t=/tmp/$$f/oui-iab; \
	mkdir -p $$t; cd $$t; \
d67 2
a68 1
	cd ..; tar cjf $$f.tar.bz2 oui-iab; scp $$f.tar.bz2 naiad:mirrors/
@


1.33
log
@update mac address db
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2016/03/11 11:28:26 sthen Exp $
d11 1
a11 1
M =		20160429
@


1.32
log
@update mac-vendor file
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2016/01/21 18:08:06 jasper Exp $
d11 1
a11 1
M =		20160311
@


1.31
log
@missing bump after HOMEPAGE change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/01/20 15:29:30 sthen Exp $
d8 1
a9 3
REVISION-mac =	0
PKGNAME-main =	${DISTNAME}
CATEGORIES =	net
d11 1
a11 1
M =		20160102
d13 2
@


1.30
log
@new HOMEPAGE/MASTER_SITES for arp-scan
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/01/02 22:42:23 sthen Exp $
d9 1
@


1.29
log
@update to new mac address databases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/12/03 21:24:31 sthen Exp $
d5 4
a8 2
DISTNAME =	arp-scan-1.9
REVISION-main =	11
d15 1
a15 1
HOMEPAGE =	http://www.nta-monitor.com/tools-resources/security-tools/arp-scan
d19 1
a19 1
MASTER_SITES =	http://www.nta-monitor.com/files/arp-scan/
@


1.28
log
@switch my distfiles mirror to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/11/03 16:18:33 sthen Exp $
d10 1
a10 1
M =		20151103
a11 1
REVISION-mac =	0
d57 1
a57 1
	base='https://services13.ieee.org/RST/standards-ra-web/rest/assignments/download/'; \
d60 4
a63 4
	[ -r iab.csv ] || ftp -o iab.csv $$base?registry=IAB; \
	[ -r ma-l.csv ] || ftp -o ma-l.csv $$base?registry=MA-L; \
	[ -r ma-m.csv ] || ftp -o ma-m.csv $$base?registry=MA-M; \
	[ -r ma-s.csv ] || ftp -o ma-s.csv $$base?registry=MA-S; \
@


1.27
log
@install unofficial.csv file with a few known non-official MAC address prefixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/11/03 15:52:18 sthen Exp $
d19 1
a19 1
MASTER_SITES0 =	http://spacehopper.org/mirrors/
@


1.26
log
@bdep on p5-Text-CSV
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/11/03 15:51:24 sthen Exp $
d12 1
d49 2
a50 1
	${INSTALL_DATA} ${WRKDIR}/oui-iab/*csv ${PREFIX}/share/mac-vendor/
@


1.25
log
@move mac address databases to a subpackage, and generate it based on the newer
CSVs which include MA-S (32-bit vendor), MA-M (28-bit vendor) as well as the
old standard 24-bit vendors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/10/08 22:41:38 sthen Exp $
d32 3
@


1.24
log
@update ethernet vendor list
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/10/08 21:19:22 sthen Exp $
d3 2
a4 1
COMMENT =	ARP scanning and fingerprinting tool
d6 2
a7 1
REVISION =	10
d10 3
d14 1
d19 1
d21 1
a21 1
		oui-iab-20151008.tar.bz2:0
d26 4
a29 1
WANTLIB =		c pcap
a31 1
BUILD_DEPENDS +=	www/p5-libwww
d34 3
a36 3
	cd ${WRKSRC} && \
	    ./get-iab -f ieee-iab.txt -u file://${WRKDIR}/oui-iab/iab.txt && \
	    ./get-oui -f ieee-oui.txt -u file://${WRKDIR}/oui-iab/oui.txt
d39 13
a51 4
	cd ${PREFIX}/share/arp-scan; mv mac-vendor.txt mac-vendor.txt.dist

# maintainer convenience target
# update both arp-scan and arpwatch if regen'ing
d53 8
a60 12
	t=`mktemp -d /tmp/oui-iab.XXXXXXXXXX`; \
	    f=oui-iab-`date +%Y%m%d`.tar.bz2; \
	    cd $$t; \
	    mkdir oui-iab; \
	    cd oui-iab; \
	    ftp http://standards.ieee.org/develop/regauth/iab/iab.txt; \
	    ftp http://standards.ieee.org/develop/regauth/oui/oui.txt; \
	    perl -pi -e 's/Oracle Corporation/Sun Microsystems, Inc./' \
		{iab,oui}.txt; \
	    cd ..; \
	    tar cjf $$f oui-iab; \
	    scp $$f naiad:mirrors/
@


1.23
log
@Bump some ports which reference if_msghdr in their source, so that package
updates are triggered. This is following the struct if_data ABI change a few
days ago; if_msghdr has an embedded if_data.  Some may be unnecessary, but
some are definitely needed and bumps are cheaper than debugging.
Problem reported with wpa_supplicant by Mikolaj Kucharski.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/04/14 14:17:20 sthen Exp $
d5 1
a5 1
REVISION =	9
d14 1
a14 1
		oui-iab-20150805.tar.bz2:0
@


1.22
log
@update arp-scan's OUI list
patch to return a nicer error message for !root
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/10/13 15:19:49 sthen Exp $
d5 1
a5 1
REVISION =	5
d14 1
a14 1
		oui-iab-20150414.tar.bz2:0
@


1.21
log
@update oui-iab listing
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/07/09 22:54:19 sthen Exp $
d5 1
a5 1
REVISION =	4
d14 1
a14 1
		oui-iab-20141013.tar.bz2:0
@


1.20
log
@update mac vendor listings
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/05/15 14:25:45 sthen Exp $
d5 1
a5 1
REVISION =	3
d14 1
a14 1
		oui-iab-20140709.tar.bz2:0
@


1.19
log
@update mac vendor list
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/02/04 12:54:44 sthen Exp $
d5 1
a5 1
REVISION =	2
d14 1
a14 1
		oui-iab-20140515.tar.bz2:0
@


1.18
log
@update MAC address vendor list
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/12/10 15:31:28 sthen Exp $
d5 1
a5 1
REVISION =	1
d14 1
a14 1
		oui-iab-20140204.tar.bz2:0
@


1.17
log
@update iab/oui files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/08/15 20:28:55 gsoares Exp $
d5 1
a5 1
REVISION =	0
d14 1
a14 1
		oui-iab-20131210.tar.bz2:0
@


1.16
log
@update to 1.9; OK sthen@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/11 11:35:45 espie Exp $
d5 1
d14 1
a14 1
		oui-iab-20130814.tar.bz2:0
@


1.15
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/03/03 21:28:15 sthen Exp $
d4 1
a4 2
DISTNAME =	arp-scan-1.8
REVISION =	6
d7 1
a7 1
HOMEPAGE =	http://www.nta-monitor.com/tools/arp-scan/
d10 1
a10 1
MASTER_SITES =	${HOMEPAGE}download/
d13 1
a13 1
		oui-iab-20130303.tar.bz2:0
@


1.14
log
@update to a more recent OUI list
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/09/11 14:54:05 sthen Exp $
a16 2
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
a17 1
PERMIT_PACKAGE_FTP =	Yes
@


1.13
log
@sync OUI database
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/06/04 11:01:48 sthen Exp $
d5 1
a5 1
REVISION =	5
d14 1
a14 1
		oui-iab-20120911.tar.bz2:0
@


1.12
log
@update vendor lists
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/05/26 22:47:03 sthen Exp $
d5 1
a5 1
REVISION =	4
d14 1
a14 1
		oui-iab-20120604.tar.bz2:0
@


1.11
log
@arp-scan no longer needs groff, as mandoc can now handle the alignment
of the table headings (thanks to schwarze@@).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2012/05/16 13:22:17 sthen Exp $
d5 1
a5 1
REVISION =	3
d14 1
a14 1
		oui-iab-20120516.tar.bz2:0
d36 1
@


1.10
log
@tweak maintainer target to patch the OUI/name db to fix the ridiculous
"Oracle Corporation" entries and update the package using a regenerated
list.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/05/14 14:59:58 espie Exp $
d5 1
a5 1
REVISION =	2
a24 1
USE_GROFF =		Yes
@


1.9
log
@missing BUILD_DEPENDENCY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/05/08 11:04:27 sthen Exp $
d5 1
a5 1
REVISION =	1
d14 1
a14 1
		oui-iab-20120508.tar.bz2:0
d45 2
@


1.8
log
@fix -u in arp-scan's update scripts, fix URLs, use newer iab/oui databases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/11/15 23:02:23 sthen Exp $
d26 1
@


1.7
log
@bump; if.h changed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/03/03 09:47:50 sthen Exp $
d5 1
a5 1
REVISION =	0
d12 3
d27 5
d34 13
@


1.6
log
@- update arp-scan to 1.8, from Gleydson Soares
(license has changed to GPLv3-or-higher)

- use "@@comment no checksum" for vendor lists which the
supplied tools can update

- use @@sample for mac-vendor.txt, it's user-editable

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/19 22:31:32 espie Exp $
d5 1
@


1.5
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/10/18 18:36:45 espie Exp $
d4 1
a4 2
DISTNAME =	arp-scan-1.7
REVISION =	0
d12 1
a12 1
# GPLv2+
d22 3
@


1.4
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/07/12 22:07:37 sthen Exp $
d22 1
a22 1
USE_GROFF =	Yes
@


1.3
log
@use REVISION, checked with before/after make show=PKGNAMES (plus some
extra-careful checking where there are complicated PSEUDO_FLAVORS).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/06/26 09:20:41 sthen Exp $
d22 1
@


1.2
log
@check routing socket messages for RTM_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/10/07 10:01:41 sthen Exp $
d5 1
a5 1
PKGNAME =	${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
@


1.1.1.1
log
@import arp-scan:

arp-scan is a command-line tool for system discovery and fingerprinting.
It constructs and sends ARP requests to the specified IP addresses,
and displays any responses that are received.

arp-scan allows you to:

    * Send ARP packets to any number of destination hosts, using a
    configurable output bandwidth or packet rate.

          This is useful for system discovery, where you may need
          to scan large address spaces.

    * Construct the outgoing ARP packet in a flexible way.

          arp-scan gives control of all of the fields in the ARP
          packet and the fields in the Ethernet frame header.

    * Decode and display any returned packets.

          arp-scan will decode and display any received ARP packets
          and lookup the vendor using the MAC address.

    * Fingerprint IP hosts using the arp-fingerprint tool. 

ok phessler@@
@
text
@@
