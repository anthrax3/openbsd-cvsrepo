head	1.2;
access;
symbols
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2014.06.01.11.37.06;	author naddy;	state dead;
branches;
next	1.1;
commitid	N8GlxLfNxfpe39qg;

1.1
date	2014.02.03.13.30.52;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to 2.83; testing by Josh Grosse
@
text
@$OpenBSD: patch-libtransmission_upnp_c,v 1.1 2014/02/03 13:30:52 dcoppa Exp $

Unbreak with miniupnpc>=1.9

--- libtransmission/upnp.c.orig	Mon Feb  3 13:06:25 2014
+++ libtransmission/upnp.c	Mon Feb  3 13:08:40 2014
@@@@ -120,7 +120,7 @@@@ tr_upnpGetSpecificPortMappingEntry (tr_upnp * handle, 
     tr_snprintf (portStr, sizeof (portStr), "%d", (int)handle->port);
 
 #if defined (HAVE_MINIUPNP_16)
-    err = UPNP_GetSpecificPortMappingEntry (handle->urls.controlURL, handle->data.first.servicetype, portStr, proto, intClient, intPort, NULL, NULL, NULL);
+    err = UPNP_GetSpecificPortMappingEntry (handle->urls.controlURL, handle->data.first.servicetype, portStr, proto, NULL, intClient, intPort, NULL, NULL, NULL);
 #elif defined (HAVE_MINIUPNP_15)
     err = UPNP_GetSpecificPortMappingEntry (handle->urls.controlURL, handle->data.first.servicetype, portStr, proto, intClient, intPort);
 #else
@


1.1
log
@
Update to miniupnpc-1.9 and fix dependant ports (games/megaglest
not affected)
@
text
@d1 1
a1 1
$OpenBSD$
@

