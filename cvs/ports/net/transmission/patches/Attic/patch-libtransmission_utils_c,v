head	1.9;
access;
symbols
	OPENBSD_4_6:1.5.0.2
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_0:1.1.0.2
	OPENBSD_4_0_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2009.10.30.18.08.47;	author naddy;	state dead;
branches;
next	1.8;

1.8
date	2009.10.28.19.38.11;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2009.09.06.15.03.18;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2009.07.22.15.52.07;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2009.06.20.13.07.22;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2009.05.13.15.10.42;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2009.05.10.19.31.44;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2006.12.23.17.04.16;	author naddy;	state dead;
branches;
next	1.1;

1.1
date	2006.04.29.15.37.45;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.9
log
@drop workarounds for \' printf modifier
@
text
@$OpenBSD: patch-libtransmission_utils_c,v 1.8 2009/10/28 19:38:11 naddy Exp $
--- libtransmission/utils.c.orig	Sun Oct 25 02:47:21 2009
+++ libtransmission/utils.c	Tue Oct 27 23:32:44 2009
@@@@ -1346,7 +1346,7 @@@@ tr_strratio( char * buf, size_t buflen, double ratio, 
     else if( ratio < 100.0 )
         tr_snprintf( buf, buflen, "%.1f", tr_truncd( ratio, 1 ) );
     else
-        tr_snprintf( buf, buflen, "%'.0f", ratio );
+        tr_snprintf( buf, buflen, "%.0f", ratio );
     return buf;
 }
 
@


1.8
log
@update to 1.76 for miscellaneous bug fixes
@
text
@d1 1
a1 1
$OpenBSD: patch-libtransmission_utils_c,v 1.7 2009/09/06 15:03:18 naddy Exp $
@


1.7
log
@update to 1.74: miscellaneous bug fixes
@
text
@d1 4
a4 4
$OpenBSD: patch-libtransmission_utils_c,v 1.6 2009/07/22 15:52:07 naddy Exp $
--- libtransmission/utils.c.orig	Wed Aug 19 03:02:44 2009
+++ libtransmission/utils.c	Thu Aug 20 19:50:22 2009
@@@@ -1345,7 +1345,7 @@@@ tr_strratio( char * buf, size_t buflen, double ratio, 
@


1.6
log
@maintenance update to 1.73
@
text
@d1 4
a4 4
$OpenBSD: patch-libtransmission_utils_c,v 1.5 2009/06/20 13:07:22 naddy Exp $
--- libtransmission/utils.c.orig	Sat Jul 18 03:20:54 2009
+++ libtransmission/utils.c	Sun Jul 19 14:01:43 2009
@@@@ -1346,7 +1346,7 @@@@ tr_strratio( char * buf, size_t buflen, double ratio, 
@


1.5
log
@Update to 1.72.
The major new addition in the 1.7x series is support for DHT.
@
text
@d1 4
a4 13
$OpenBSD: patch-libtransmission_utils_c,v 1.4 2009/05/13 15:10:42 naddy Exp $
--- libtransmission/utils.c.orig	Wed Jun 17 02:01:44 2009
+++ libtransmission/utils.c	Wed Jun 17 13:35:20 2009
@@@@ -1330,7 +1330,7 @@@@ printf_double_without_rounding( char * buf, int buflen
     char * pch;
     char tmp[128];
     int len;
-    tr_snprintf( tmp, sizeof( tmp ), "%'.64f", d );
+    tr_snprintf( tmp, sizeof( tmp ), "%.64f", d );
     pch = tmp;
     while( isdigit( *pch ) ) ++pch; /* walk to the decimal point */
     ++pch; /* walk over the decimal point */
@@@@ -1352,7 +1352,7 @@@@ tr_strratio( char * buf, size_t buflen, double ratio, 
d6 1
a6 1
         printf_double_without_rounding( buf, buflen, ratio, 1 );
@


1.4
log
@update to 1.61: close potential CSRF security hole for web client users
@
text
@d1 4
a4 4
$OpenBSD: patch-libtransmission_utils_c,v 1.3 2009/05/10 19:31:44 naddy Exp $
--- libtransmission/utils.c.orig	Tue May 12 02:32:26 2009
+++ libtransmission/utils.c	Wed May 13 13:30:32 2009
@@@@ -1541,7 +1541,7 @@@@ printf_double_without_rounding( char * buf, int buflen
d13 1
a13 1
@@@@ -1563,6 +1563,6 @@@@ tr_strratio( char * buf, size_t buflen, double ratio, 
d21 1
@


1.3
log
@update to 1.60; prodded by Brad
@
text
@d1 4
a4 4
$OpenBSD$
--- libtransmission/utils.c.orig	Tue May  5 02:40:08 2009
+++ libtransmission/utils.c	Thu May  7 19:40:40 2009
@@@@ -1540,7 +1540,7 @@@@ printf_double_without_rounding( char * buf, int buflen
d13 1
a13 1
@@@@ -1562,6 +1562,6 @@@@ tr_strratio( char * buf, size_t buflen, double ratio, 
@


1.2
log
@update to 0.6.1 (+ changeset 1190 for -gtk fixes)
@
text
@d1 19
a19 6
$OpenBSD: patch-libtransmission_utils_c,v 1.1 2006/04/29 15:37:45 naddy Exp $
--- libtransmission/utils.c.orig	Sat Feb 11 17:37:11 2006
+++ libtransmission/utils.c	Wed Apr 26 23:18:43 2006
@@@@ -61,3 +61,33 @@@@ int tr_rand( int sup )
     }
     return rand() % sup;
a20 30
+
+void * tr_memmem( const void *vbig, size_t big_len,
+                  const void *vlittle, size_t little_len )
+{
+    const char *big = vbig;
+    const char *little = vlittle;
+    size_t ii, jj;
+
+    if( 0 == big_len || 0 == little_len )
+    {
+        return NULL;
+    }
+
+    for( ii = 0; ii + little_len <= big_len; ii++ )
+    {
+        for( jj = 0; jj < little_len; jj++ )
+        {
+            if( big[ii + jj] != little[jj] )
+            {
+                break;
+            }
+        }
+        if( jj == little_len )
+        {
+            return (char*)big + ii;
+        }
+    }
+
+    return NULL;
+}
@


1.1
log
@changeset 230 from the upstream SVN: improve tracker response parsing
@
text
@d1 1
a1 1
$OpenBSD$
@

