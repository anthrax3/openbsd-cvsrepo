head	1.14;
access;
symbols
	OPENBSD_4_6:1.9.0.2
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2;
locks; strict;
comment	@# @;


1.14
date	2009.10.30.18.08.47;	author naddy;	state dead;
branches;
next	1.13;

1.13
date	2009.10.28.19.38.11;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2009.09.16.19.36.33;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2009.09.06.15.03.18;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2009.07.22.15.52.07;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2009.06.20.13.07.22;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2009.05.10.19.31.44;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2009.04.14.14.06.26;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2009.03.04.20.59.52;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2009.02.15.18.09.29;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2008.12.27.15.54.43;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2008.12.02.15.29.07;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2008.07.09.19.43.42;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2008.04.22.16.50.43;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.14
log
@drop workarounds for \' printf modifier
@
text
@$OpenBSD: patch-gtk_details_c,v 1.13 2009/10/28 19:38:11 naddy Exp $
--- gtk/details.c.orig	Sun Oct 25 02:47:33 2009
+++ gtk/details.c	Tue Oct 27 23:32:44 2009
@@@@ -758,14 +758,14 @@@@ refreshInfo( struct DetailsImpl * di, tr_torrent ** to
             char piecebuf[128];
             tr_strlsize( piecebuf, (uint64_t)pieceSize, sizeof( piecebuf ) );
             g_snprintf( buf, sizeof( buf ),
-                        ngettext( "%1$s (%2$'d piece @@ %3$s)",
-                                  "%1$s (%2$'d pieces @@ %3$s)", pieces ),
+                        ngettext( "%1$s (%2$d piece @@ %3$s)",
+                                  "%1$s (%2$d pieces @@ %3$s)", pieces ),
                         sizebuf, pieces, piecebuf );
             str = buf;
         } else {
             g_snprintf( buf, sizeof( buf ),
-                        ngettext( "%1$s (%2$'d piece)",
-                                  "%1$s (%2$'d pieces)", pieces ),
+                        ngettext( "%1$s (%2$d piece)",
+                                  "%1$s (%2$d pieces)", pieces ),
                         sizebuf, pieces );
             str = buf;
         }
@@@@ -1365,11 +1365,11 @@@@ refreshPeers( struct DetailsImpl * di, tr_torrent ** t
             leechers = s->leechers;
             completed += s->timesCompleted;
         }
-        g_snprintf( buf, sizeof( buf ), "%'d", seeders );
+        g_snprintf( buf, sizeof( buf ), "%d", seeders );
         gtk_label_set_text( GTK_LABEL( di->seeders_lb ), buf );
-        g_snprintf( buf, sizeof( buf ), "%'d", leechers );
+        g_snprintf( buf, sizeof( buf ), "%d", leechers );
         gtk_label_set_text( GTK_LABEL( di->leechers_lb ), buf );
-        g_snprintf( buf, sizeof( buf ), "%'d", completed );
+        g_snprintf( buf, sizeof( buf ), "%d", completed );
         gtk_label_set_text( GTK_LABEL( di->completed_lb ), buf );
     }
 
@@@@ -1989,7 +1989,7 @@@@ torrent_inspector_set_torrents( GtkWidget * w, GSList 
    {
         file_list_clear( di->file_list );
         tracker_list_clear( di->tracker_list );
-        g_snprintf( title, sizeof( title ), _( "%'d Torrent Properties" ), len );
+        g_snprintf( title, sizeof( title ), _( "%d Torrent Properties" ), len );
     }
 
     gtk_window_set_title( GTK_WINDOW( w ), title );
@


1.13
log
@update to 1.76 for miscellaneous bug fixes
@
text
@d1 1
a1 1
$OpenBSD: patch-gtk_details_c,v 1.12 2009/09/16 19:36:33 naddy Exp $
@


1.12
log
@update to 1.75: minor bug fixes
@
text
@d1 4
a4 4
$OpenBSD: patch-gtk_details_c,v 1.11 2009/09/06 15:03:18 naddy Exp $
--- gtk/details.c.orig	Mon Sep 14 05:51:05 2009
+++ gtk/details.c	Mon Sep 14 20:29:13 2009
@@@@ -757,14 +757,14 @@@@ refreshInfo( struct DetailsImpl * di, tr_torrent ** to
d23 1
a23 1
@@@@ -1364,11 +1364,11 @@@@ refreshPeers( struct DetailsImpl * di, tr_torrent ** t
d38 1
a38 1
@@@@ -1973,7 +1973,7 @@@@ torrent_inspector_set_torrents( GtkWidget * w, GSList 
@


1.11
log
@update to 1.74: miscellaneous bug fixes
@
text
@d1 3
a3 3
$OpenBSD: patch-gtk_details_c,v 1.10 2009/07/22 15:52:07 naddy Exp $
--- gtk/details.c.orig	Wed Aug 19 03:02:44 2009
+++ gtk/details.c	Thu Aug 20 19:50:21 2009
d38 1
a38 1
@@@@ -1968,7 +1968,7 @@@@ torrent_inspector_set_torrents( GtkWidget * w, GSList 
@


1.10
log
@maintenance update to 1.73
@
text
@d1 4
a4 4
$OpenBSD: patch-gtk_details_c,v 1.9 2009/06/20 13:07:22 naddy Exp $
--- gtk/details.c.orig	Sat Jul 18 03:20:55 2009
+++ gtk/details.c	Sun Jul 19 13:59:33 2009
@@@@ -755,14 +755,14 @@@@ refreshInfo( struct DetailsImpl * di, tr_torrent ** to
d23 1
a23 1
@@@@ -1362,11 +1362,11 @@@@ refreshPeers( struct DetailsImpl * di, tr_torrent ** t
d38 1
a38 1
@@@@ -1967,7 +1967,7 @@@@ torrent_inspector_set_torrents( GtkWidget * w, GSList 
@


1.9
log
@Update to 1.72.
The major new addition in the 1.7x series is support for DHT.
@
text
@d1 23
a23 13
$OpenBSD: patch-gtk_details_c,v 1.8 2009/05/10 19:31:44 naddy Exp $
--- gtk/details.c.orig	Wed Jun 17 02:01:45 2009
+++ gtk/details.c	Wed Jun 17 13:35:20 2009
@@@@ -910,7 +910,7 @@@@ refreshInfo( struct DetailsImpl * di, tr_torrent ** to
         for( i=0; i<n; ++i )
             sum += infos[i]->pieceCount;
         g_snprintf( buf, sizeof( buf ),
-                    ngettext( "%'d Piece", "%'d Pieces", sum ), sum );
+                    ngettext( "%d Piece", "%d Pieces", sum ), sum );
         for( i=1; i<n; ++i )
             if( baseline != (int)infos[i]->pieceSize )
                 break;
@@@@ -1462,11 +1462,11 @@@@ refreshPeers( struct DetailsImpl * di, tr_torrent ** t
d38 1
a38 1
@@@@ -2073,7 +2073,7 @@@@ torrent_inspector_set_torrents( GtkWidget * w, GSList 
@


1.8
log
@update to 1.60; prodded by Brad
@
text
@d1 4
a4 4
$OpenBSD: patch-gtk_details_c,v 1.7 2009/04/14 14:06:26 naddy Exp $
--- gtk/details.c.orig	Tue May  5 02:40:11 2009
+++ gtk/details.c	Thu May  7 19:40:40 2009
@@@@ -906,7 +906,7 @@@@ refreshInfo( struct DetailsImpl * di, tr_torrent ** to
d13 1
a13 1
@@@@ -1453,11 +1453,11 @@@@ refreshPeers( struct DetailsImpl * di, tr_torrent ** t
d28 1
a28 1
@@@@ -2058,7 +2058,7 @@@@ torrent_inspector_set_torrents( GtkWidget * w, GSList 
@


1.7
log
@update to 1.52; from Brad
@
text
@d1 25
a25 10
$OpenBSD: patch-gtk_details_c,v 1.6 2009/03/04 20:59:52 naddy Exp $
--- gtk/details.c.orig	Sun Apr 12 21:55:50 2009
+++ gtk/details.c	Tue Apr 14 00:11:22 2009
@@@@ -264,7 +264,7 @@@@ fmtpeercount( GtkWidget * l,
     else
     {
         char str[16];
-        g_snprintf( str, sizeof str, "%'d", count );
+        g_snprintf( str, sizeof str, "%d", count );
         gtk_label_set_text( GTK_LABEL( l ), str );
a26 3
 }
@@@@ -630,7 +630,7 @@@@ info_page_new( tr_torrent * tor )
     hig_workarea_add_section_title( t, &row, _( "Details" ) );
d28 9
a36 6
     g_snprintf( countStr, sizeof( countStr ),
-                ngettext( "%'d Piece", "%'d Pieces", info->pieceCount ),
+                ngettext( "%d Piece", "%d Pieces", info->pieceCount ),
                 info->pieceCount );
     tr_strlsize( sizeStr, info->pieceSize, sizeof( sizeStr ) );
     g_snprintf( buf, sizeof( buf ),
@


1.6
log
@maintenance update to 1.51
@
text
@d1 4
a4 4
$OpenBSD: patch-gtk_details_c,v 1.5 2009/02/15 18:09:29 naddy Exp $
--- gtk/details.c.orig	Fri Feb 27 17:46:14 2009
+++ gtk/details.c	Sun Mar  1 17:10:43 2009
@@@@ -499,7 +499,7 @@@@ fmtpeercount( GtkWidget * l,
d13 2
a14 2
@@@@ -911,7 +911,7 @@@@ info_page_new( tr_torrent * tor )
     hig_workarea_add_section_title ( t, &row, _( "Details" ) );
@


1.5
log
@Update to 1.50: A bunch of bug fixes and various small improvements as well
as initial IPv6 support.
Also submitted in near-identical form by Brad.
@
text
@d1 4
a4 4
$OpenBSD: patch-gtk_details_c,v 1.4 2008/12/27 15:54:43 naddy Exp $
--- gtk/details.c.orig	Sat Jan 17 16:25:47 2009
+++ gtk/details.c	Tue Jan 20 20:59:56 2009
@@@@ -498,7 +498,7 @@@@ fmtpeercount( GtkWidget * l,
d13 1
a13 1
@@@@ -909,7 +909,7 @@@@ info_page_new( tr_torrent * tor )
@


1.4
log
@Update to 1.42: improvements in peer management and bandwidth
measurement and allocation.
@
text
@d1 4
a4 4
$OpenBSD: patch-gtk_details_c,v 1.3 2008/12/02 15:29:07 naddy Exp $
--- gtk/details.c.orig	Wed Dec  3 00:43:55 2008
+++ gtk/details.c	Thu Dec  4 18:09:25 2008
@@@@ -497,7 +497,7 @@@@ fmtpeercount( GtkWidget * l,
d13 1
a13 1
@@@@ -908,7 +908,7 @@@@ info_page_new( tr_torrent * tor )
@


1.3
log
@Update to 1.40.  The biggest changes:
* new web interface for the GTK and daemon clients
* transmission-daemon and -remote have been completely rewritten
@
text
@d1 4
a4 4
$OpenBSD$
--- gtk/details.c.orig	Mon Nov 10 16:52:26 2008
+++ gtk/details.c	Thu Nov 27 22:33:20 2008
@@@@ -500,7 +500,7 @@@@ fmtpeercount( GtkWidget * l,
d13 1
a13 1
@@@@ -907,7 +907,7 @@@@ info_page_new( tr_torrent * tor )
@


1.2
log
@Overdue update to 1.22.
@
text
@d2 10
a11 10
--- gtk/details.c.orig	Fri May  9 21:00:55 2008
+++ gtk/details.c	Wed May 14 17:50:12 2008
@@@@ -407,7 +407,7 @@@@ fmtpeercount (GtkWidget * l, int count)
     gtk_label_set_text( GTK_LABEL(l), "?" );
   } else {
     char str[16];
-    g_snprintf( str, sizeof str, "%'d", count );
+    g_snprintf( str, sizeof str, "%d", count );
     gtk_label_set_text( GTK_LABEL(l), str );
   }
d13 2
a14 1
@@@@ -733,10 +733,10 @@@@ info_page_new (tr_torrent * tor)
d16 5
a20 1
     tr_strlsize( sizeStr, info->pieceSize, sizeof(sizeStr) );
a21 10
-                /* %1$'d is number of pieces
+                /* %1$d is number of pieces
                    %2$s is how big each piece is */
-                ngettext( "%1$'d Piece @@ %2$s",
-                          "%1$'d Pieces @@ %2$s",
+                ngettext( "%1$d Piece @@ %2$s",
+                          "%1$d Pieces @@ %2$s",
                           info->pieceCount ),
                 info->pieceCount, sizeStr );
     l = gtk_label_new (buf);
@


1.1
log
@Update to 1.11.
@
text
@d2 12
a13 3
--- gtk/details.c.orig	Sat Mar 29 01:02:21 2008
+++ gtk/details.c	Wed Apr  2 02:24:36 2008
@@@@ -672,10 +672,10 @@@@ info_page_new (tr_torrent * tor)
@

