head	1.8;
access;
symbols
	OPENBSD_6_2:1.8.0.8
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.8.0.6
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.4
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.2
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.7.0.8
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.4
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.2
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.6.0.2
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.5.0.4
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.2
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.12
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.10
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	bernd_2009-01-29:1.1.1.1
	bernd:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2015.12.17.10.30.00;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	ZlF20E0qdzVeKstt;

1.7
date	2014.05.08.14.36.49;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2013.08.07.23.41.08;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2013.01.29.23.50.04;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2012.11.05.23.45.30;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2011.10.19.13.46.17;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2009.02.09.15.14.22;	author form;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.28.23.35.07;	author bernd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.01.28.23.35.07;	author bernd;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Update to ircd-hybrid-8.2.11.

from Brad
@
text
@$OpenBSD: patch-include_defaults_h,v 1.7 2014/05/08 14:36:49 brad Exp $
--- include/defaults.h.orig	Thu Nov 19 14:34:34 2015
+++ include/defaults.h	Wed Dec 16 20:05:14 2015
@@@@ -48,16 +48,21 @@@@
  * AUTOMODPATH = directory for autoloaded modules
  */
 
+/* users */
+#ifndef IRCD_USER
+#define IRCD_USER   "_ircd-hybrid"
+#endif
+
 /* dirs */
 #define DPATH        PREFIX
 #define BINPATH      PREFIX "/bin/"
 #define MODPATH      LIBDIR "/" PACKAGE "/modules/"
 #define HPATH        DATADIR "/" PACKAGE "/help"
 #define AUTOMODPATH  MODPATH "/autoload/"
-#define ETCPATH      SYSCONFDIR
-#define LIBPATH      LOCALSTATEDIR "/lib"
-#define LOGPATH      LOCALSTATEDIR "/log"
-#define RUNPATH      LOCALSTATEDIR "/run"
+#define ETCPATH      SYSCONFDIR "/ircd-hybrid"
+#define LIBPATH      LOCALSTATEDIR "/db/ircd-hybrid"
+#define LOGPATH      LOCALSTATEDIR "/log/ircd-hybrid"
+#define RUNPATH      LOCALSTATEDIR "/run/ircd-hybrid"
 
 /* files */
 #define SPATH     BINPATH "/ircd"  /* ircd executable */
@


1.7
log
@Upgrade to ircd-hybrid 8.1.17.

ok sthen@@
@
text
@d1 4
a4 4
$OpenBSD: patch-include_defaults_h,v 1.6 2013/08/07 23:41:08 brad Exp $
--- include/defaults.h.orig	Sun Apr 20 11:06:23 2014
+++ include/defaults.h	Tue Apr 22 22:15:23 2014
@@@@ -48,15 +48,20 @@@@
d20 1
d23 2
a24 1
+#define ETCPATH      SYSCONFDIR "/ircd-hybrid/"
@


1.6
log
@Update to ircd-hybrid 8.1.6.

ok sthen@@
@
text
@d1 4
a4 4
$OpenBSD: patch-include_defaults_h,v 1.5 2013/01/29 23:50:04 brad Exp $
--- include/defaults.h.orig	Thu May 23 16:00:07 2013
+++ include/defaults.h	Thu May 30 18:58:14 2013
@@@@ -47,6 +47,11 @@@@
d14 11
a24 12
 #define DPATH       PREFIX                                                     
 #define SBINPATH    PREFIX "/sbin/"
@@@@ -55,9 +60,9 @@@@
 #define MODPATH		  LIBDIR "/" PACKAGE "/modules/"
 #define HPATH		    DATADIR "/" PACKAGE "/help"
 #define AUTOMODPATH	MODPATH "/autoload/"
-#define ETCPATH     SYSCONFDIR
-#define	LOGPATH		  LOCALSTATEDIR "/log"
-#define RUNPATH           LOCALSTATEDIR "/run"
+#define ETCPATH     SYSCONFDIR "/ircd-hybrid/"
+#define	LOGPATH		  LOCALSTATEDIR "/log/ircd-hybrid"
+#define RUNPATH           LOCALSTATEDIR "/run/ircd-hybrid"
d27 1
a27 1
 #define SPATH   SBINPATH "/ircd"                /* ircd executable */
@


1.5
log
@Update to ircd-hybrid 8.0.6. Fixes a DoS issue. CVE-2013-0238

ok sthen@@
@
text
@d1 3
a3 3
$OpenBSD: patch-include_defaults_h,v 1.4 2012/11/05 23:45:30 brad Exp $
--- include/defaults.h.orig	Mon Jan 28 14:39:30 2013
+++ include/defaults.h	Tue Jan 29 18:30:03 2013
d16 3
a18 3
@@@@ -56,9 +61,9 @@@@
 #define HPATH		    DATADIR "/" PACKAGE "/help/opers"
 #define UHPATH		  DATADIR "/" PACKAGE "/help/users"
@


1.4
log
@Update to ircd-hybrid 8.0.1.

ok sthen@@
@
text
@d1 3
a3 3
$OpenBSD: patch-include_defaults_h,v 1.3 2011/10/19 13:46:17 jasper Exp $
--- include/defaults.h.orig	Fri Sep 28 20:36:05 2012
+++ include/defaults.h	Mon Oct  1 04:49:14 2012
d16 1
a16 1
@@@@ -56,8 +61,8 @@@@
d22 1
d25 1
a28 9
@@@@ -69,7 +74,7 @@@@
 #define XPATH   ETCPATH "/xline.conf"           /* xline file */
 #define MPATH   ETCPATH "/ircd.motd"            /* MOTD file */
 #define LPATH   LOGPATH "/ircd.log"             /* ircd logfile */
-#define PPATH   LOCALSTATEDIR "/ircd.pid"             /* pid file */
+#define PPATH   LOCALSTATEDIR "/run/ircd-hybrid/ircd.pid" /* pid file */
 #define LIPATH  ETCPATH "/links.txt"            /* cached links file */
 
 /*
@


1.3
log
@- update to 7.3.1
- cleanup port

from brad
tested by aja@@ edd@@
@
text
@d1 3
a3 3
$OpenBSD: patch-include_defaults_h,v 1.2 2009/02/09 15:14:22 form Exp $
--- include/defaults.h.orig	Thu Aug 18 12:21:47 2011
+++ include/defaults.h	Fri Oct 14 15:08:11 2011
d27 2
a28 2
@@@@ -73,7 +78,7 @@@@
 #define RKPATH  ETCPATH "/rkline.conf"
a32 1
 #define OPATH   ETCPATH "/opers.motd"           /* oper MOTD file */
d35 1
@


1.2
log
@Allow starting by root (set user context to _ircd-hybrid in that case).

reviewed by simon@@ and ajacoutot@@
ok bernd@@
@
text
@d1 4
a4 4
$OpenBSD: patch-include_defaults_h,v 1.1.1.1 2009/01/28 23:35:07 bernd Exp $
--- include/defaults.h.orig	Wed Feb 28 10:17:43 2007
+++ include/defaults.h	Sun Feb  8 14:28:26 2009
@@@@ -47,14 +47,19 @@@@
d14 10
a23 12
 #define DPATH       IRCD_PREFIX                                                     
 #define BINPATH     IRCD_PREFIX "/bin/"
-#define MSGPATH     IRCD_PREFIX "/messages/"
-#define ETCPATH     IRCD_PREFIX "/etc"
-#define LOGPATH     IRCD_PREFIX "/logs"
-#define MODPATH     IRCD_PREFIX "/modules/"
-#define AUTOMODPATH IRCD_PREFIX "/modules/autoload/"
+#define MSGPATH     IRCD_PREFIX "/share/ircd-hybrid/messages/"
+#define ETCPATH     "${SYSCONFDIR}/ircd-hybrid"
+#define LOGPATH     "/var/log/ircd-hybrid"
+#define MODPATH     IRCD_PREFIX "/lib/ircd-hybrid/modules/"
+#define AUTOMODPATH IRCD_PREFIX "/lib/ircd-hybrid/modules/autoload/"
d26 2
a27 2
 #define SPATH   BINPATH "/ircd"                 /* ircd executable */
@@@@ -70,7 +75,7 @@@@
d31 2
a32 2
-#define PPATH   ETCPATH "/ircd.pid"             /* pid file */
+#define PPATH   "/var/run/ircd/ircd.pid"        /* pid file */
@


1.1
log
@Initial revision
@
text
@d1 12
a12 4
$OpenBSD$
--- include/defaults.h.orig	Wed Feb 28 05:17:43 2007
+++ include/defaults.h	Tue Jan 27 21:23:01 2009
@@@@ -50,11 +50,11 @@@@
d29 1
a29 1
@@@@ -70,7 +70,7 @@@@
@


1.1.1.1
log
@Initial import of ircd-hybrid-7.2.3.

This is ircd-hybrid, the highly modified (and hopefully improved)
variant of the original ircd program by Jarkko Oikarinen.

Tested by Alex Popov, Sebastian Trahm, okan@@ and sthen@@. Thanks!
Hints and help from fgsch@@ and sthen@@.

ok sthen@@
@
text
@@
