head	1.4;
access;
symbols
	OPENBSD_5_6:1.3.0.10
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.8
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.6
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.6
	OPENBSD_5_0:1.1.0.4
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2014.09.08.07.01.58;	author ajacoutot;	state dead;
branches;
next	1.3;
commitid	XcFW0g8DUFxHZV0B;

1.3
date	2012.06.16.09.01.30;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.05.14.06.26.19;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2010.10.03.13.02.19;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to neon-0.30.0.
@
text
@$OpenBSD: patch-src_ne_socket_c,v 1.3 2012/06/16 09:01:30 ajacoutot Exp $
--- src/ne_socket.c.orig	Sat Jun 16 10:56:36 2012
+++ src/ne_socket.c	Sat Jun 16 10:57:08 2012
@@@@ -27,6 +27,7 @@@@
 #include "config.h"
 
 #include <sys/types.h>
+#include <sys/uio.h> /* writev(2) */
 #ifdef HAVE_SYS_TIME_H
 #include <sys/time.h>
 #endif
@


1.3
log
@Fix an implicit declaration of writev(2).
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@Update to neon-0.29.6; needed by a WIP csync port.

tested in a bulk by jasper@@, thanks!
from Markus Schatzl with several tweaks from me
ok jasper@@
@
text
@d1 11
a11 14
$OpenBSD: patch-src_ne_socket_c,v 1.1 2010/10/03 13:02:19 dcoppa Exp $
--- src/ne_socket.c.orig	Tue Aug 18 15:16:07 2009
+++ src/ne_socket.c	Fri Oct  1 12:32:40 2010
@@@@ -1524,6 +1524,10 @@@@ int ne_sock_accept_ssl(ne_socket *sock, ne_ssl_context
     if (ret != 1) {
         return error_ossl(sock, ret);
     }
+
+    if (SSL_session_reused(ssl)) {
+        NE_DEBUG(NE_DBG_SSL, "ssl: Server reused session.\n");
+    }
 #elif defined(HAVE_GNUTLS)
     gnutls_init(&ssl, GNUTLS_SERVER);
     gnutls_credentials_set(ssl, GNUTLS_CRD_CERTIFICATE, ctx->cred);
@


1.1
log
@Unbreak after openssl update (OpenSSL 1.0.0a).
From upstream.

OK sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
@

