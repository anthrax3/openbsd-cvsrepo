head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.10
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.8
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.4
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.6
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.2.0.12
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.10
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	sebastia_20100913:1.1.1.1
	sebastia:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2014.10.20.09.22.49;	author sebastia;	state Exp;
branches;
next	1.3;
commitid	HwtPIrFs0oUUsnz8;

1.3
date	2013.08.16.10.06.14;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2011.01.10.18.34.31;	author sebastia;	state Exp;
branches;
next	1.1;

1.1
date	2010.09.13.16.41.16;	author sebastia;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.09.13.16.41.16;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Fix the check command to the rcscript.
While there, disable the transport in the example configuration file.

Lots of feedback and OK ajacoutot@@, jasper@@ on earlier version.
@
text
@$OpenBSD: patch-spectrum_cfg,v 1.3 2013/08/16 10:06:14 sthen Exp $

Fix paths in var for OpenBSD usage
Example service disabled by default

--- spectrum.cfg.orig	Sat Jun 11 15:17:44 2011
+++ spectrum.cfg	Sun Oct 19 12:03:43 2014
@@@@ -8,8 +8,8 @@@@
 ################################################################################
 
 [service]
-# enable this spectrum instance
-enable=1
+# set to 1 to enable this spectrum instance
+enable=0
 
 # one of: aim, facebook, gg, icq, irc, msn, myspace, qq, simple, xmpp, yahoo
 protocol=icq
@@@@ -30,7 +30,7 @@@@ password=secret
 # component port
 port=5347
 
-config_interface = /var/run/spectrum/$jid.sock
+config_interface = ${SPVARDIR}/$jid.sock
 
 # IP:port where filetransfer proxy binds to. This has to be public IP.
 #filetransfer_bind_address=192.0.2.1:12345
@@@@ -43,7 +43,7 @@@@ config_interface = /var/run/spectrum/$jid.sock
 #admins=admin@@example.com;foo@@bar.cz
 
 # directory where downloaded files will be saved
-filetransfer_cache=/var/lib/spectrum/filetransfer_cache
+filetransfer_cache=${SPVARDIR}/filetransfer_cache
 
 # URL used to acces filestransfer_cache directory from the web.
 filetransfer_web=http://example.com/files/
@@@@ -83,7 +83,7 @@@@ only_for_vip=0
 #vip_features = avatars;chatstate;filetransfer
 
 # pid file
-pid_file=/var/run/spectrum/$jid.pid
+pid_file=${SPVARDIR}/$jid.pid
 
 # require_tls to connect legacy network
 #require_tls=false
@@@@ -160,11 +160,11 @@@@ type=sqlite
 #password=password
 # sqlite: set path to database file here
 # mysql: set to name of database
-database=/var/lib/spectrum/$jid/database.sqlite
+database=${SPVARDIR}/$jid/database.sqlite
 # table prefix for multiple transport instances sharing the same database
 #prefix=icq_
 
 [purple]
 # avatar, vcard, roster storage
 # needs to be unique for each spectrum instance
-userdir=/var/lib/spectrum/$jid/userdir
+userdir=${SPVARDIR}/$jid/userdir
@


1.3
log
@update to spectrum 1.4.8, needed to go with newer poco, tested by sebastia@@
@
text
@d1 1
a1 1
$OpenBSD: patch-spectrum_cfg,v 1.2 2011/01/10 18:34:31 sebastia Exp $
d4 1
d6 13
a18 2
--- spectrum.cfg.orig	Sat Jun 11 14:17:44 2011
+++ spectrum.cfg	Thu Aug 15 15:16:05 2013
@


1.2
log
@Update to latest stable release.
While there, add a rcscript, and fix cpu hogging in case the password for the transport is wrong.

OK jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-spectrum_cfg,v 1.1.1.1 2010/09/13 16:41:16 sebastia Exp $
d5 2
a6 2
--- spectrum.cfg.orig	Tue Dec 28 17:58:40 2010
+++ spectrum.cfg	Thu Jan  6 17:12:20 2011
d34 1
a34 1
@@@@ -154,11 +154,11 @@@@ type=sqlite
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d5 2
a6 2
--- spectrum.cfg.orig	Sat Jul 31 13:41:41 2010
+++ spectrum.cfg	Sat Jul 31 13:44:25 2010
d25 1
a25 1
@@@@ -79,7 +79,7 @@@@ only_for_vip=0
d34 1
a34 1
@@@@ -136,11 +136,11 @@@@ type=sqlite
@


1.1.1.1
log
@Import net/spectrum: XMPP transport/gateway

Spectrum is an XMPP transport/gateway. It allows XMPP users to communicate
with their friends who are using one of the supported networks. It supports
a wide range of different networks such as ICQ, XMPP (Jabber, GTalk), AIM,
MSN, Facebook, Twitter, Gadu-Gadu, IRC and SIMPLE.

Feedback and OK from jasper@@


@
text
@@
