head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.26
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.24
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.22
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.18
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.20
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.16
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.14
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.12
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.10
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.8
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.6
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.4
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	sebastia_20100913:1.1.1.1
	sebastia:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2011.03.07.10.14.01;	author sebastia;	state Exp;
branches;
next	1.2;

1.2
date	2011.01.10.18.34.31;	author sebastia;	state Exp;
branches;
next	1.1;

1.1
date	2010.09.13.16.41.16;	author sebastia;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.09.13.16.41.16;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.3
log
@fix spectrum rc script, and remove the SPECTRUM_PATH variable there.
tell spectrumctl where spectrum gets installed, so that there is no need to
rely on SPECTRUM_PATH.
Updated rc script was done by ajacoutot@@

OK ajacoutot@@
@
text
@$OpenBSD: patch-spectrumctl_spectrum_spectrum_py,v 1.2 2011/01/10 18:34:31 sebastia Exp $

Import errno, to prevent error

--- spectrumctl/spectrum/spectrum.py.orig	Tue Dec 28 17:58:40 2010
+++ spectrumctl/spectrum/spectrum.py	Mon Mar  7 09:24:57 2011
@@@@ -19,7 +19,7 @@@@
 Represents a single spectrum instance, see L{spectrum.spectrum}.
 """
 
-import os, sys, pwd, stat, time, signal, resource
+import os, sys, pwd, stat, time, signal, resource, errno
 from subprocess import call, Popen, PIPE, STDOUT
 import spectrumconfigparser, config_interface, env
 from ExistsError import ExistsError
@@@@ -56,7 +56,7 @@@@ class spectrum:
 		try:
 			return os.environ['SPECTRUM_PATH']
 		except KeyError:
-			return 'spectrum'
+			return '${TRUEPREFIX}/sbin/spectrum'
 
 	def get_jid( self ):
 		"""
@


1.2
log
@Update to latest stable release.
While there, add a rcscript, and fix cpu hogging in case the password for the transport is wrong.

OK jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-spectrumctl_spectrum_spectrum_py,v 1.1.1.1 2010/09/13 16:41:16 sebastia Exp $
d6 1
a6 1
+++ spectrumctl/spectrum/spectrum.py	Thu Jan  6 17:13:52 2011
d16 9
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d5 2
a6 2
--- spectrumctl/spectrum/spectrum.py.orig	Mon Jul 26 15:15:45 2010
+++ spectrumctl/spectrum/spectrum.py	Mon Jul 26 15:15:54 2010
d11 3
a13 2
-import os, sys, pwd, stat, time, signal, subprocess, resource
+import os, sys, pwd, stat, time, signal, subprocess, resource, errno
a15 1
 
@


1.1.1.1
log
@Import net/spectrum: XMPP transport/gateway

Spectrum is an XMPP transport/gateway. It allows XMPP users to communicate
with their friends who are using one of the supported networks. It supports
a wide range of different networks such as ICQ, XMPP (Jabber, GTalk), AIM,
MSN, Facebook, Twitter, Gadu-Gadu, IRC and SIMPLE.

Feedback and OK from jasper@@


@
text
@@
