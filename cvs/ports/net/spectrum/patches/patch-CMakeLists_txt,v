head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.12
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.8
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.10
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.6
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.2.0.12
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.10
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	sebastia_20100913:1.1.1.1
	sebastia:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2013.08.16.10.06.14;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2011.01.10.18.34.31;	author sebastia;	state Exp;
branches;
next	1.1;

1.1
date	2010.09.13.16.41.16;	author sebastia;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.09.13.16.41.16;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to spectrum 1.4.8, needed to go with newer poco, tested by sebastia@@
@
text
@$OpenBSD: patch-CMakeLists_txt,v 1.2 2011/01/10 18:34:31 sebastia Exp $

* do not install the man below share
* do not install configuration file in /etc directly
* install binaries to sbin

--- CMakeLists.txt.orig	Sat Jun 11 14:17:44 2011
+++ CMakeLists.txt	Thu Aug 15 15:16:05 2013
@@@@ -9,8 +9,7 @@@@ file(WRITE src/transport_config.h "\n")
  
 set(CMAKE_MODULE_PATH "cmake_modules")
 include_directories(src)
- 
- 
+
 set(gloox_DIR "${CMAKE_SOURCE_DIR}/cmake_modules")
 find_package(gloox REQUIRED)
 set(purple_DIR "${CMAKE_SOURCE_DIR}/cmake_modules")
@@@@ -147,7 +146,7 @@@@ ADD_CUSTOM_TARGET (man ALL ${PYTHON_EXECUTABLE} ${CMAK
 
 
 INSTALL(TARGETS spectrum
-    RUNTIME DESTINATION bin
+    RUNTIME DESTINATION sbin
     )
 
 
@@@@ -155,7 +154,8 @@@@ INSTALL(TARGETS spectrum
 INSTALL(FILES
 	${CMAKE_CURRENT_SOURCE_DIR}/spectrum.cfg
 	RENAME spectrum.cfg.example
-	DESTINATION /etc/spectrum
+	DESTINATION share/examples/spectrum
+	PERMISSIONS OWNER_WRITE OWNER_READ GROUP_READ
 	)
 
 if (NOT WITHOUT_SPECTRUMCTL)
@@@@ -167,7 +167,7 @@@@ INSTALL(DIRECTORY
 
 INSTALL(FILES
 	${CMAKE_CURRENT_SOURCE_DIR}/spectrumctl/spectrumctl.py
-    DESTINATION bin
+    DESTINATION sbin
     PERMISSIONS OWNER_EXECUTE GROUP_EXECUTE WORLD_EXECUTE
     RENAME spectrumctl
     PERMISSIONS OWNER_EXECUTE OWNER_READ GROUP_EXECUTE GROUP_READ
@@@@ -176,11 +176,11 @@@@ INSTALL(FILES
 
 INSTALL(FILES
     ${CMAKE_CURRENT_SOURCE_DIR}/man/spectrumctl.8
-	DESTINATION share/man/man8
+	DESTINATION man/man8
     )
 INSTALL(FILES
     ${CMAKE_CURRENT_SOURCE_DIR}/man/spectrum.cfg.5
-	DESTINATION share/man/man5
+	DESTINATION man/man5
     )
 
 endif (NOT WITHOUT_SPECTRUMCTL)
@


1.2
log
@Update to latest stable release.
While there, add a rcscript, and fix cpu hogging in case the password for the transport is wrong.

OK jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-CMakeLists_txt,v 1.1.1.1 2010/09/13 16:41:16 sebastia Exp $
d7 2
a8 2
--- CMakeLists.txt.orig	Thu Dec 30 15:13:04 2010
+++ CMakeLists.txt	Thu Jan  6 17:12:20 2011
d19 1
a19 1
@@@@ -382,7 +381,7 @@@@ ADD_CUSTOM_TARGET (man ALL ${PYTHON_EXECUTABLE} ${CMAK
d28 1
a28 1
@@@@ -390,7 +389,8 @@@@ INSTALL(TARGETS spectrum
d38 1
a38 1
@@@@ -402,7 +402,7 @@@@ INSTALL(DIRECTORY
d47 1
a47 1
@@@@ -411,11 +411,11 @@@@ INSTALL(FILES
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d7 2
a8 2
--- CMakeLists.txt.orig	Wed Jul 21 16:49:17 2010
+++ CMakeLists.txt	Sat Jul 31 13:23:43 2010
d19 1
a19 1
@@@@ -371,7 +370,7 @@@@ ADD_CUSTOM_TARGET (man ALL ${PYTHON_EXECUTABLE} ${CMAK
d28 1
a28 1
@@@@ -379,7 +378,8 @@@@ INSTALL(TARGETS spectrum
d38 1
a38 1
@@@@ -391,7 +391,7 @@@@ INSTALL(DIRECTORY
d47 1
a47 1
@@@@ -400,11 +400,11 @@@@ INSTALL(FILES
@


1.1.1.1
log
@Import net/spectrum: XMPP transport/gateway

Spectrum is an XMPP transport/gateway. It allows XMPP users to communicate
with their friends who are using one of the supported networks. It supports
a wide range of different networks such as ICQ, XMPP (Jabber, GTalk), AIM,
MSN, Facebook, Twitter, Gadu-Gadu, IRC and SIMPLE.

Feedback and OK from jasper@@


@
text
@@
