head	1.4;
access;
symbols
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.1.0.6
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2;
locks; strict;
comment	@# @;


1.4
date	2016.04.29.11.01.02;	author sthen;	state dead;
branches;
next	1.3;
commitid	CaWc4RaXgTEhrNgh;

1.3
date	2015.12.15.22.43.37;	author sthen;	state Exp;
branches
	1.3.2.1;
next	1.2;
commitid	0MUDu7nn4qyXA1xU;

1.2
date	2015.09.16.15.28.16;	author sthen;	state Exp;
branches;
next	1.1;
commitid	18fPTm0hn2Ige1VR;

1.1
date	2015.05.16.10.15.53;	author kettenis;	state Exp;
branches
	1.1.2.1
	1.1.6.1;
next	;
commitid	aHNWFchyU3Xyek3q;

1.1.2.1
date	2015.06.10.22.47.24;	author sthen;	state Exp;
branches;
next	1.1.2.2;
commitid	mM8rqZxS2P7ASQW6;

1.1.2.2
date	2015.07.28.20.04.17;	author sthen;	state Exp;
branches;
next	;
commitid	ucxq0GqwrADHxYW9;

1.1.6.1
date	2015.12.17.17.06.39;	author sthen;	state Exp;
branches;
next	;
commitid	4Dy38fwPfoAutUmr;

1.3.2.1
date	2016.07.20.11.46.55;	author jasper;	state dead;
branches;
next	;
commitid	tPQ0vO0XzybePq1e;


desc
@@


1.4
log
@update to bind-9.10.4
@
text
@$OpenBSD: patch-configure_in,v 1.3 2015/12/15 22:43:37 sthen Exp $
--- configure.in.orig	Sun Dec  6 12:37:44 2015
+++ configure.in	Tue Dec 15 22:18:13 2015
@@@@ -4438,10 +4438,15 @@@@ if test "$dlopen" = "yes"; then
 				SO_LD="ld"
 			fi
 			;;
-		*-freebsd*|*-openbsd*|*-netbsd*)
+		*-freebsd*|*-netbsd*)
 			SO_CFLAGS="-fpic"
 			SO_LDFLAGS="-Bshareable -x"
 			SO_LD="ld"
+			;;
+		*-openbsd*)
+			SO_CFLAGS="-fpic"
+			SO_LDFLAGS="-shared"
+			SO_LD="${CC}"
 			;;
 		*-solaris*)
 			SO_CFLAGS="-KPIC"
@


1.3
log
@update to bind-9.10.3-P2

4260.   [security]      Insufficient testing when parsing a message allowed
                        records with an incorrect class to be be accepted,
                        triggering a REQUIRE failure when those records
                        were subsequently cached. (CVE-2015-8000) [RT #40987]

4253.   [security]      Address fetch context reference count handling error
                        on socket error. (CVE-2015-8461) [RT#40945]
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.2 2015/09/16 15:28:16 sthen Exp $
@


1.3.2.1
log
@Update to BIND 9.10.4-P2, fixes CVE-2016-2775 ("getrrsetbyname with a non
absolute name could trigger an infinite recursion bug in lwres[..]"; affects
users of lwresd and users with "lwres" enabled in their configuration).

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.3 2015/12/15 22:43:37 sthen Exp $
@


1.2
log
@update to BIND 9.10.3. add a bunch of patches because they now support
OpenSSL 1.1 api (OPENSSL_VERSION_NUMBER < / >= 0x10100000L checks).
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.1 2015/05/16 10:15:53 kettenis Exp $
--- configure.in.orig	Wed Sep  9 03:23:40 2015
+++ configure.in	Wed Sep 16 13:50:21 2015
@@@@ -4433,10 +4433,15 @@@@ if test "$dlopen" = "yes"; then
@


1.1
log
@Use $CC to link shared library to make sure crtbeginS.o gets linked in.
Switches CONFIGURE_STYLE to autoconf to make sure configure gets regenerated.

ok (and help from) sthen@@
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.in.orig	Wed Feb 18 02:55:55 2015
+++ configure.in	Fri May 15 23:11:43 2015
@@@@ -4302,10 +4302,15 @@@@ if test "$dlopen" = "yes"; then
@


1.1.6.1
log
@MFC update to bind-9.10.3-P2

4260.   [security]      Insufficient testing when parsing a message allowed
                        records with an incorrect class to be be accepted,
                        triggering a REQUIRE failure when those records
                        were subsequently cached. (CVE-2015-8000) [RT #40987]

4253.   [security]      Address fetch context reference count handling error
                        on socket error. (CVE-2015-8461) [RT#40945]
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.2 2015/09/16 15:28:16 sthen Exp $
--- configure.in.orig	Sun Dec  6 12:37:44 2015
+++ configure.in	Thu Dec 17 17:00:22 2015
@@@@ -4438,10 +4438,15 @@@@ if test "$dlopen" = "yes"; then
@


1.1.2.1
log
@MFC: SECURITY update to BIND 9.10.2-P1, various problems with RPZ (policy zones),
and a possible crash with async zone loads. https://kb.isc.org/article/AA-01266

"If you are using RPZ in BIND 9.10 in a production environment, and
particularly if you have multiple policy zones, you should upgrade to
BIND 9.10.2-P1. Otherwise, this upgrade is not urgent."
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.1 2015/05/16 10:15:53 kettenis Exp $
@


1.1.2.2
log
@Security update to BIND 9.10.2p3 - a failure to reset a value to NULL in tkey.c
could result in an assertion failure. (CVE-2015-5477)
@
text
@@


