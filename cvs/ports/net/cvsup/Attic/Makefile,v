head	1.27;
access;
symbols
	OPENBSD_5_3:1.25.0.2
	OPENBSD_5_3_BASE:1.25
	OPENBSD_5_2:1.24.0.8
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.24
	OPENBSD_5_1:1.24.0.6
	OPENBSD_5_0:1.24.0.4
	OPENBSD_5_0_BASE:1.24
	OPENBSD_4_9:1.24.0.2
	OPENBSD_4_9_BASE:1.24
	OPENBSD_4_8:1.21.0.2
	OPENBSD_4_8_BASE:1.21
	OPENBSD_4_7:1.20.0.2
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.19.0.4
	OPENBSD_4_6_BASE:1.19
	OPENBSD_4_5:1.19.0.2
	OPENBSD_4_5_BASE:1.19
	OPENBSD_4_4:1.18.0.4
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.17.0.2
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.16.0.2
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.15.0.6
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.15.0.4
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.15.0.2
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.14.0.2
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.12.0.6
	OPENBSD_3_6_BASE:1.12
	OPENBSD_3_5:1.12.0.4
	OPENBSD_3_5_BASE:1.12
	OPENBSD_3_4:1.12.0.2
	OPENBSD_3_4_BASE:1.12
	OPENBSD_3_3:1.11.0.2
	OPENBSD_3_3_BASE:1.11
	OPENBSD_3_2:1.10.0.2
	OPENBSD_3_2_BASE:1.10
	OPENBSD_3_1:1.9.0.2
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.6.0.4
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9:1.6.0.2
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	espie:1.1.1.1
	cvsup:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2013.03.18.19.59.07;	author naddy;	state dead;
branches;
next	1.26;

1.26
date	2013.03.11.11.35.46;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2010.11.19.22.31.32;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2010.10.24.21.30.01;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.10.18.18.36.46;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.07.12.22.07.38;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2009.08.10.06.33.43;	author kili;	state Exp;
branches;
next	1.19;

1.19
date	2008.09.28.13.55.17;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2007.09.15.22.36.52;	author merdely;	state Exp;
branches;
next	1.17;

1.17
date	2007.05.27.09.13.56;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2006.11.22.18.20.40;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2005.03.28.19.06.25;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2005.02.11.12.43.46;	author alek;	state Exp;
branches;
next	1.13;

1.13
date	2004.12.16.00.31.21;	author alek;	state Exp;
branches;
next	1.12;

1.12
date	2003.03.29.00.33.47;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2002.12.29.21.14.10;	author fgsch;	state Exp;
branches;
next	1.10;

1.10
date	2002.05.13.12.23.49;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2002.02.23.12.35.22;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2001.11.10.15.00.49;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2001.10.25.16.14.51;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2001.09.18.21.26.10;	author naddy;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2001.09.10.11.16.55;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.09.22.45.35;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2001.05.27.20.39.08;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.05.06.19.39.44;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.05.05.22.15.17;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.05.05.22.15.17;	author espie;	state Exp;
branches;
next	;

1.6.2.1
date	2001.09.27.20.26.52;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.27
log
@Remove cvsup.
CVSup was a great piece of technology, but everybody including its author
and its single largest user community (FreeBSD) has moved on.
ok sthen@@
@
text
@# $OpenBSD: Makefile,v 1.26 2013/03/11 11:35:46 espie Exp $

ONLY_FOR_ARCHS=	i386
COMMENT-main=	network file distribution system
COMMENT-server=	network file distribution server

VERSION=	16.1h
DISTNAME=	cvsup-snap-${VERSION}
PKGNAME-main=	cvsup-${VERSION}
PKGNAME-server=	cvsupd-${VERSION}
REVISION-main=	2
REVISION-server=0
CATEGORIES=	net devel
HOMEPAGE=	http://www.cvsup.org/

# BSD
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES= 	ftp://ftp.FreeBSD.org/pub/FreeBSD/ \
		ftp://ftp.se.FreeBSD.org/pub/FreeBSD/ \
		ftp://ftp.jp.FreeBSD.org/pub/FreeBSD/ \
		ftp://ftp.uk.FreeBSD.org/pub/FreeBSD/ \
		ftp://ftp.ru.FreeBSD.org/pub/FreeBSD/
MASTER_SITES:=	${MASTER_SITES:=development/CVSup/snapshots/}

MULTI_PACKAGES=	-main -server

WANTLIB=	c m util z

BUILD_DEPENDS=	lang/ezm3

FLAVORS=	no_x11
FLAVOR?=

M3FLAGS=	 -DPREFIX=${PREFIX} -DX11BASE=${X11BASE}

.if ${FLAVOR:Mno_x11}
M3FLAGS+=	-DNOGUI
.else
WANTLIB-main=	${WANTLIB} ICE SM X11 Xaw Xext Xmu Xt pthread-stubs xcb
.endif

MAKE_FLAGS=	M3FLAGS="${M3FLAGS}"
FAKE_FLAGS=	PREFIX=${WRKINST}${TRUEPREFIX}

USE_GROFF =	Yes
NO_TEST=	Yes

.include <bsd.port.mk>
@


1.26
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/02/09 14:49:51 sthen Exp $
@


1.25
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/11/19 22:31:32 espie Exp $
a16 2
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_FTP=	Yes
a17 1
PERMIT_DISTFILES_CDROM=	Yes
d47 1
a47 1
NO_REGRESS=	Yes
@


1.24
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/10/24 21:30:01 ajacoutot Exp $
d40 1
a40 1
.if ${FLAVOR:L:Mno_x11}
@


1.23
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/10/18 18:36:46 espie Exp $
d33 1
a33 1
BUILD_DEPENDS=	::lang/ezm3
@


1.22
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/07/12 22:07:38 sthen Exp $
a42 1
USE_X11=	Yes
@


1.21
log
@use REVISION, checked with before/after make show=PKGNAMES (plus some
extra-careful checking where there are complicated PSEUDO_FLAVORS).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/08/10 06:33:43 kili Exp $
d50 1
@


1.20
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/09/28 13:55:17 naddy Exp $
d9 4
a12 2
PKGNAME-main=	cvsup-${VERSION}p2
PKGNAME-server=	cvsupd-${VERSION}p0
@


1.19
log
@* new homepage; from robert@@openbsd.pap.st
* remove a dead master site
* drop maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/09/15 22:36:52 merdely Exp $
d9 1
a9 1
PKGNAME-main=	cvsup-${VERSION}p1
d42 1
a42 1
WANTLIB-main=	${WANTLIB} ICE SM X11 Xaw Xext Xmu Xt 
@


1.18
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/05/27 09:13:56 jasper Exp $
d9 2
a10 2
PKGNAME-main=	cvsup-${VERSION}p0
PKGNAME-server=	cvsupd-${VERSION}
d12 1
a12 3
HOMEPAGE=	http://www.polstra.com/projects/freeware/CVSup/

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>
d24 1
a24 2
		ftp://ftp.ru.FreeBSD.org/pub/FreeBSD/ \
		ftp://ftp.dnsbalance.ring.gr.jp/pub/FreeBSD/
@


1.17
log
@remove useless master site

from Jim Razmus <jim at bonetruck.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/11/22 18:20:40 naddy Exp $
d4 2
a5 2
COMMENT-main=	"network file distribution system"
COMMENT-server=	"network file distribution server"
@


1.16
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2005/03/28 19:06:25 naddy Exp $
a26 1
		ftp://ftp.nectec.or.th/pub/FreeBSD/ \
@


1.15
log
@- Maintenance update to 16.1h.
- Add a patch for cvsupd to make it honor the "refuse" file for files
that are in the Attic (from jdp).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2005/02/11 12:43:46 alek Exp $
d4 1
a4 1
COMMENT=	"network file distribution system"
d9 1
a9 1
PKGNAME=	cvsup-${VERSION}
a20 1
WANTLIB=		c m util z
d31 3
a33 2
MULTI_PACKAGES=	-server
SUBPACKAGE?=
d46 1
a46 3
.  if empty(SUBPACKAGE)
WANTLIB+=	ICE SM X11 Xaw Xext Xmu Xt 
.  endif
@


1.14
log
@Fix WANTLIB marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/12/16 00:31:21 alek Exp $
d7 1
a7 1
VERSION=	16.1g
@


1.13
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2003/03/29 00:33:47 naddy Exp $
d33 1
d46 1
d48 1
@


1.12
log
@Update to snap-16.1g.  This fixes occasional core dumps with large
"refuse" files, among other things.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/12/29 21:14:10 fgsch Exp $
d21 1
d45 1
@


1.11
log
@finally, no more NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/05/13 12:23:49 naddy Exp $
d7 1
a7 1
VERSION=	16.1f
@


1.10
log
@replace %SUBDIR% usage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/02/23 12:35:22 naddy Exp $
a11 1
NEED_VERSION=	1.504
@


1.9
log
@* update to 16.1f (no functional changes)
* build with ezm3 instead of pm3
* remove static flavor since M3 libs are now always linked statically
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/11/10 15:00:49 espie Exp $
d23 8
a30 8
MASTER_SITES= 	ftp://ftp.FreeBSD.org/pub/FreeBSD/%SUBDIR%/ \
		ftp://ftp.se.FreeBSD.org/pub/FreeBSD/%SUBDIR%/ \
		ftp://ftp.jp.FreeBSD.org/pub/FreeBSD/%SUBDIR%/ \
		ftp://ftp.uk.FreeBSD.org/pub/FreeBSD/%SUBDIR%/ \
		ftp://ftp.ru.FreeBSD.org/pub/FreeBSD/%SUBDIR%/ \
		ftp://ftp.nectec.or.th/pub/FreeBSD/%SUBDIR%/ \
		ftp://ftp.dnsbalance.ring.gr.jp/pub/FreeBSD/%SUBDIR%/
MASTER_SITE_SUBDIR=	development/CVSup/snapshots
@


1.8
log
@Kill first component of BUILD_DEPENDS.

Fix sawfish comment while I'm at it.
`window manager for the X windows system'.
Like DUH ! It's going to be a window manager for my microwave oven ?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/10/25 16:14:51 naddy Exp $
d7 1
a7 1
VERSION=	16.1e
d12 1
a12 1
NEED_VERSION=	1.489
d23 8
a30 4
MASTER_SITES= \
	ftp://ftp3.freebsd.org/pub/FreeBSD/development/CVSup/snapshots/ \
	ftp://ftp.freebsd.org/pub/FreeBSD/development/CVSup/snapshots/ \
	ftp://ftp.cs.tu-berlin.de/pub/FreeBSD/development/CVSup/snapshots/
d34 3
a36 1
FLAVORS=	no_x11 static
d39 2
a42 3
.endif
.if ${FLAVOR:L:Mstatic}
M3FLAGS+=	-DSTATIC
d44 1
a44 2
# XXX this is a false depend, but we can't depend on lib in a weird path now
RUN_DEPENDS=	::lang/pm3
a46 2
BUILD_DEPENDS=	::lang/pm3

a52 2

PORTPATH:=	${LOCALBASE}/pm3/bin:${PORTPATH}
@


1.7
log
@no regression test framework
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/09/18 21:26:10 naddy Exp $
d12 1
a12 1
NEED_VERSION=	1.405
d40 1
a40 1
RUN_DEPENDS=	m3build::lang/pm3
d43 1
a43 1
BUILD_DEPENDS=	m3build::lang/pm3
@


1.6
log
@Update to 16.1e:
Added code in both the client and the server to detect whether the
peer is an old version with the S1G bug.  The server will refuse
to serve such clients, and the client will refuse updates from
such a server.  In each case, an error message is printed with a
URL that describes the bug and the upgrade procedure.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/09/10 11:16:55 naddy Exp $
d47 2
@


1.6.2.1
log
@MFC:
Add native CVSup 16.1e network file distribution system.
Remove old versions made useless by S1G bug.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/09/18 21:26:10 naddy Exp $
@


1.5
log
@restore master sites
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/09/09 22:45:35 naddy Exp $
d7 1
a7 1
VERSION=	16.1d
@


1.4
log
@update to 16.1d: fix S1G problem
temporary master site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/05/27 20:39:08 naddy Exp $
d23 4
a26 5
#MASTER_SITES= \
#	ftp://ftp3.freebsd.org/pub/FreeBSD/development/CVSup/snapshots/ \
#	ftp://ftp.freebsd.org/pub/FreeBSD/development/CVSup/snapshots/ \
#	ftp://ftp.cs.tu-berlin.de/pub/FreeBSD/development/CVSup/snapshots/
MASTER_SITES=	http://people.freebsd.org/~jdp/s1g/
@


1.3
log
@Fix for the "jakarta-tomcat" problem, FreeBSD PR #27495.
From John Polstra <jdp@@polstra.com>, via FreeBSD.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/05/06 19:39:44 naddy Exp $
d7 1
a7 1
VERSION=	16.1a
d9 2
a10 2
PKGNAME=	cvsup-${VERSION}p1
PKGNAME-server=	cvsupd-${VERSION}p1
d23 5
a27 4
MASTER_SITES= \
	ftp://ftp3.freebsd.org/pub/FreeBSD/development/CVSup/snapshots/ \
	ftp://ftp.freebsd.org/pub/FreeBSD/development/CVSup/snapshots/ \
	ftp://ftp.cs.tu-berlin.de/pub/FreeBSD/development/CVSup/snapshots/
@


1.2
log
@- take MAINTAINER; ok espie@@
- prettify
- quote M3FLAGS
- update to snapshot version 16.1a, which fixes a number of well-known bugs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/05/05 22:15:17 espie Exp $
d9 2
a10 2
PKGNAME=	cvsup-${VERSION}
PKGNAME-server=	cvsupd-${VERSION}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 5
a10 2
V=16.1
DISTNAME=	cvsup-$V
d13 1
a13 2
MASTER_SITES=	ftp://ftp.freebsd.org/pub/FreeBSD/development/CVSup/sources/ \
		ftp://ftp.cs.tu-berlin.de/pub/FreeBSD/development/CVSup/sources/
d15 1
a15 1
PKGNAME-server=cvsupd-$V
d17 10
a26 4
PERMIT_PACKAGE_FTP=Yes
PERMIT_DISTFILES_FTP=Yes
PERMIT_PACKAGE_CDROM=Yes
PERMIT_DISTFILES_CDROM=Yes
d28 1
a28 1
MULTI_PACKAGES=-server
d30 1
a30 1
FLAVORS=no_x11 static
d40 1
a40 1
RUN_DEPENDS=m3build::lang/pm3
d43 1
a43 1
BUILD_DEPENDS=m3build::lang/pm3
d45 2
a46 4
MAKE_FLAGS=M3FLAGS=${M3FLAGS}
FAKE_FLAGS=PREFIX=${WRKINST}${TRUEPREFIX}

HOMEPAGE=	http://www.polstra.com/projects/freeware/CVSup/
d50 1
a50 1
PORTPATH:=${LOCALBASE}/pm3/bin:${PORTPATH}
@


1.1.1.1
log
@Native cvsup
@
text
@@
