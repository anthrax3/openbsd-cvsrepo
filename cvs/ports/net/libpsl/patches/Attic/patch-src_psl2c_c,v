head	1.5;
access;
symbols
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	jca_20150409:1.1.1.1
	jca:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2017.02.27.23.32.15;	author jca;	state dead;
branches;
next	1.4;
commitid	wkCOKYkU88e5lNVg;

1.4
date	2016.12.01.09.24.23;	author jca;	state Exp;
branches;
next	1.3;
commitid	Owscasc3SZPQak6Z;

1.3
date	2016.05.10.11.34.54;	author jca;	state Exp;
branches;
next	1.2;
commitid	RTRUcDMqmMedJUQA;

1.2
date	2015.04.09.20.04.23;	author jca;	state Exp;
branches;
next	1.1;
commitid	brzJtGJrglk81Ll2;

1.1
date	2015.04.09.11.28.24;	author jca;	state Exp;
branches
	1.1.1.1;
next	;
commitid	1gEI5UAHk7vPjBpM;

1.1.1.1
date	2015.04.09.11.28.24;	author jca;	state Exp;
branches;
next	;
commitid	1gEI5UAHk7vPjBpM;


desc
@@


1.5
log
@Update to libpsl-0.17.0.

- minor bump for psl_dist_filename and psl_latest
- no more patches needed.
@
text
@$OpenBSD: patch-src_psl2c_c,v 1.4 2016/12/01 09:24:23 jca Exp $

Correct the name of the sha1sum command.

--- src/psl2c.c.orig	Mon Nov  7 11:02:15 2016
+++ src/psl2c.c	Thu Dec  1 09:39:50 2016
@@@@ -266,7 +266,7 @@@@ int main(int argc, const char **argv)
 
 		_print_psl_entries_dafsa(fpout, psl->suffixes);
 
-		snprintf(cmd, cmdsize, "sha1sum %s", argv[argpos]);
+		snprintf(cmd, cmdsize, "gsha1sum %s", argv[argpos]);
 		if ((pp = popen(cmd, "r"))) {
 			if (fscanf(pp, "%63[0-9a-zA-Z]", checksum) < 1)
 				*checksum = 0;
@


1.4
log
@Update to libpsl-0.15.0 and take maintainership.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_psl2c_c,v 1.3 2016/05/10 11:34:54 jca Exp $
@


1.3
log
@Update to libpsl-0.13.0

From Frederic Cambus.
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- src/psl2c.c.orig	Mon May  9 17:26:56 2016
+++ src/psl2c.c	Mon May  9 17:27:08 2016
@@@@ -276,7 +276,7 @@@@ int main(int argc, const char **argv)
@


1.2
log
@Unbreak: add missing libtool bdep, and correct erroneous patch.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_psl2c_c,v 1.1.1.1 2015/04/09 11:28:24 jca Exp $
d5 3
a7 5
--- src/psl2c.c.orig	Sat Feb 21 19:30:52 2015
+++ src/psl2c.c	Thu Apr  9 21:59:06 2015
@@@@ -167,7 +167,7 @@@@ int main(int argc, const char **argv)
 		_print_psl_entries(fpout, psl->suffixes, "suffixes");
 		_print_psl_entries(fpout, psl->suffix_exceptions, "suffix_exceptions");
d9 4
a12 2
-		snprintf(cmd, cmdsize, "sha1sum %s", argv[1]);
+		snprintf(cmd, cmdsize, "gsha1sum %s", argv[1]);
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
Use sha1(1) from base.
d5 2
a6 2
--- src/psl2c.c.orig	Sat Feb 21 18:30:52 2015
+++ src/psl2c.c	Mon Apr  6 10:36:35 2015
d12 1
a12 1
+		snprintf(cmd, cmdsize, "sha1 -q %s; echo -n \"  %s\"", argv[1]);
@


1.1.1.1
log
@Import libpsl-0.7.1

libpsl allows web applications to detect super-cookies and to hilight
the domain part of a hostname.

ok landry@@, input from sthen@@
@
text
@@
