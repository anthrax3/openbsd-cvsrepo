head	1.133;
access;
symbols
	OPENBSD_6_1:1.132.0.2
	OPENBSD_6_1_BASE:1.132
	OPENBSD_6_0:1.131.0.2
	OPENBSD_6_0_BASE:1.131
	OPENBSD_5_9:1.129.0.2
	OPENBSD_5_9_BASE:1.129
	OPENBSD_5_8:1.127.0.4
	OPENBSD_5_8_BASE:1.127
	OPENBSD_5_7:1.125.0.2
	OPENBSD_5_7_BASE:1.125
	OPENBSD_5_6:1.121.0.4
	OPENBSD_5_6_BASE:1.121
	OPENBSD_5_5:1.121.0.2
	OPENBSD_5_5_BASE:1.121
	OPENBSD_5_4:1.117.0.2
	OPENBSD_5_4_BASE:1.117
	OPENBSD_5_3:1.114.0.2
	OPENBSD_5_3_BASE:1.114
	OPENBSD_5_2:1.109.0.2
	OPENBSD_5_2_BASE:1.109
	OPENBSD_5_1_BASE:1.102
	OPENBSD_5_1:1.102.0.2
	OPENBSD_5_0:1.97.0.2
	OPENBSD_5_0_BASE:1.97
	OPENBSD_4_9:1.87.0.2
	OPENBSD_4_9_BASE:1.87
	OPENBSD_4_8:1.67.0.2
	OPENBSD_4_8_BASE:1.67
	OPENBSD_4_7:1.61.0.2
	OPENBSD_4_7_BASE:1.61
	OPENBSD_4_6:1.46.0.2
	OPENBSD_4_6_BASE:1.46
	OPENBSD_4_5:1.35.0.2
	OPENBSD_4_5_BASE:1.35
	OPENBSD_4_4:1.25.0.2
	OPENBSD_4_4_BASE:1.25
	OPENBSD_4_3:1.16.0.2
	OPENBSD_4_3_BASE:1.16
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	alek_20070512:1.1.1.1
	alek:1.1.1;
locks; strict;
comment	@# @;


1.133
date	2017.04.10.11.46.32;	author sthen;	state Exp;
branches;
next	1.132;
commitid	HY6VNZxjJWzKQFDV;

1.132
date	2017.03.06.23.42.54;	author naddy;	state Exp;
branches;
next	1.131;
commitid	T6oQPUeIJ1qyER3X;

1.131
date	2016.07.05.07.13.59;	author ajacoutot;	state Exp;
branches;
next	1.130;
commitid	1uKPJQgOZNqONm2g;

1.130
date	2016.03.20.16.12.25;	author naddy;	state Exp;
branches;
next	1.129;
commitid	guiZq8cnNbVyyHzx;

1.129
date	2016.01.22.19.04.39;	author ajacoutot;	state Exp;
branches
	1.129.2.1;
next	1.128;
commitid	uW3nZ6S4mJhacU2R;

1.128
date	2016.01.03.09.06.49;	author ajacoutot;	state Exp;
branches;
next	1.127;
commitid	PwZkJShegVrMMCse;

1.127
date	2015.04.04.09.21.03;	author ajacoutot;	state Exp;
branches;
next	1.126;
commitid	kS3kwKZogsvzYmEY;

1.126
date	2015.03.27.08.13.03;	author ajacoutot;	state Exp;
branches;
next	1.125;
commitid	qkrQPO6KjSKIuf3s;

1.125
date	2015.02.11.08.11.45;	author brad;	state Exp;
branches;
next	1.124;
commitid	JFk8MCWNQkhavPyT;

1.124
date	2015.01.09.01.34.44;	author brad;	state Exp;
branches;
next	1.123;
commitid	RtDnDinwkXsESWHi;

1.123
date	2015.01.05.08.29.37;	author brad;	state Exp;
branches;
next	1.122;
commitid	5Ks2BwGbbVx0Ldmi;

1.122
date	2014.10.28.01.14.23;	author brad;	state Exp;
branches;
next	1.121;
commitid	lQDgRLtG6cDsRXTv;

1.121
date	2014.02.06.07.44.15;	author brad;	state Exp;
branches
	1.121.2.1
	1.121.4.1;
next	1.120;

1.120
date	2013.10.31.21.12.13;	author sthen;	state Exp;
branches;
next	1.119;

1.119
date	2013.09.27.17.49.08;	author ajacoutot;	state Exp;
branches;
next	1.118;

1.118
date	2013.09.10.13.26.49;	author ajacoutot;	state Exp;
branches;
next	1.117;

1.117
date	2013.03.21.08.46.35;	author ajacoutot;	state Exp;
branches
	1.117.2.1;
next	1.116;

1.116
date	2013.03.11.11.35.55;	author espie;	state Exp;
branches;
next	1.115;

1.115
date	2013.03.08.01.03.09;	author brad;	state Exp;
branches;
next	1.114;

1.114
date	2013.02.09.14.49.52;	author sthen;	state Exp;
branches
	1.114.2.1;
next	1.113;

1.113
date	2013.02.06.14.23.06;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2012.09.06.12.38.35;	author ajacoutot;	state Exp;
branches;
next	1.111;

1.111
date	2012.09.01.14.36.58;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2012.08.26.07.16.54;	author ajacoutot;	state Exp;
branches;
next	1.109;

1.109
date	2012.07.18.13.31.49;	author jasper;	state Exp;
branches;
next	1.108;

1.108
date	2012.06.15.08.32.17;	author ajacoutot;	state Exp;
branches;
next	1.107;

1.107
date	2012.05.25.08.59.04;	author sthen;	state Exp;
branches;
next	1.106;

1.106
date	2012.05.08.06.49.41;	author jasper;	state Exp;
branches;
next	1.105;

1.105
date	2012.04.04.11.09.12;	author sthen;	state Exp;
branches;
next	1.104;

1.104
date	2012.03.29.13.38.48;	author sthen;	state Exp;
branches;
next	1.103;

1.103
date	2012.03.15.21.45.06;	author sthen;	state Exp;
branches;
next	1.102;

1.102
date	2011.12.13.14.42.55;	author jasper;	state Exp;
branches;
next	1.101;

1.101
date	2011.12.03.23.04.37;	author ajacoutot;	state Exp;
branches;
next	1.100;

1.100
date	2011.10.10.17.17.08;	author jasper;	state Exp;
branches;
next	1.99;

1.99
date	2011.09.16.11.13.39;	author espie;	state Exp;
branches;
next	1.98;

1.98
date	2011.08.22.07.35.34;	author jasper;	state Exp;
branches;
next	1.97;

1.97
date	2011.07.22.06.44.45;	author jasper;	state Exp;
branches
	1.97.2.1;
next	1.96;

1.96
date	2011.07.09.12.46.31;	author dcoppa;	state Exp;
branches;
next	1.95;

1.95
date	2011.07.07.08.28.04;	author dcoppa;	state Exp;
branches;
next	1.94;

1.94
date	2011.06.08.18.00.49;	author jasper;	state Exp;
branches;
next	1.93;

1.93
date	2011.06.02.17.09.32;	author kili;	state Exp;
branches;
next	1.92;

1.92
date	2011.04.15.21.43.13;	author sthen;	state Exp;
branches;
next	1.91;

1.91
date	2011.03.26.10.05.24;	author sthen;	state Exp;
branches;
next	1.90;

1.90
date	2011.03.13.17.27.10;	author jasper;	state Exp;
branches;
next	1.89;

1.89
date	2011.03.11.00.13.04;	author sthen;	state Exp;
branches;
next	1.88;

1.88
date	2011.03.06.14.13.20;	author steven;	state Exp;
branches;
next	1.87;

1.87
date	2011.02.12.10.59.59;	author jasper;	state Exp;
branches
	1.87.2.1;
next	1.86;

1.86
date	2011.01.15.10.56.51;	author jasper;	state Exp;
branches;
next	1.85;

1.85
date	2011.01.13.10.29.27;	author jasper;	state Exp;
branches;
next	1.84;

1.84
date	2010.12.28.18.18.02;	author jasper;	state Exp;
branches;
next	1.83;

1.83
date	2010.12.23.23.25.25;	author steven;	state Exp;
branches;
next	1.82;

1.82
date	2010.11.29.23.18.30;	author steven;	state Exp;
branches;
next	1.81;

1.81
date	2010.11.19.22.31.37;	author espie;	state Exp;
branches;
next	1.80;

1.80
date	2010.11.11.16.27.55;	author espie;	state Exp;
branches;
next	1.79;

1.79
date	2010.11.07.12.32.07;	author steven;	state Exp;
branches;
next	1.78;

1.78
date	2010.11.04.07.18.54;	author steven;	state Exp;
branches;
next	1.77;

1.77
date	2010.10.28.10.10.24;	author steven;	state Exp;
branches;
next	1.76;

1.76
date	2010.10.24.21.30.01;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2010.10.24.19.17.31;	author steven;	state Exp;
branches;
next	1.74;

1.74
date	2010.10.24.15.53.55;	author sthen;	state Exp;
branches;
next	1.73;

1.73
date	2010.10.18.18.36.56;	author espie;	state Exp;
branches;
next	1.72;

1.72
date	2010.10.11.08.16.52;	author jasper;	state Exp;
branches;
next	1.71;

1.71
date	2010.09.06.18.29.22;	author nicm;	state Exp;
branches;
next	1.70;

1.70
date	2010.09.02.09.09.24;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2010.08.30.21.31.33;	author sthen;	state Exp;
branches;
next	1.68;

1.68
date	2010.08.18.21.35.59;	author steven;	state Exp;
branches;
next	1.67;

1.67
date	2010.08.01.20.11.48;	author steven;	state Exp;
branches;
next	1.66;

1.66
date	2010.07.12.22.07.40;	author sthen;	state Exp;
branches;
next	1.65;

1.65
date	2010.07.09.06.10.16;	author landry;	state Exp;
branches;
next	1.64;

1.64
date	2010.07.07.15.57.48;	author sthen;	state Exp;
branches;
next	1.63;

1.63
date	2010.06.10.20.13.33;	author steven;	state Exp;
branches;
next	1.62;

1.62
date	2010.04.03.00.21.14;	author sthen;	state Exp;
branches;
next	1.61;

1.61
date	2010.02.28.22.51.56;	author sthen;	state Exp;
branches;
next	1.60;

1.60
date	2010.02.14.20.01.00;	author naddy;	state Exp;
branches;
next	1.59;

1.59
date	2010.01.10.17.53.23;	author jasper;	state Exp;
branches;
next	1.58;

1.58
date	2010.01.05.07.19.49;	author jasper;	state Exp;
branches;
next	1.57;

1.57
date	2009.12.22.00.31.23;	author sthen;	state Exp;
branches;
next	1.56;

1.56
date	2009.12.07.06.27.59;	author steven;	state Exp;
branches;
next	1.55;

1.55
date	2009.11.23.05.44.07;	author steven;	state Exp;
branches;
next	1.54;

1.54
date	2009.10.17.19.34.34;	author steven;	state Exp;
branches;
next	1.53;

1.53
date	2009.09.10.17.49.21;	author sthen;	state Exp;
branches;
next	1.52;

1.52
date	2009.09.08.06.35.24;	author steven;	state Exp;
branches;
next	1.51;

1.51
date	2009.08.20.10.43.13;	author sthen;	state Exp;
branches;
next	1.50;

1.50
date	2009.08.20.10.41.33;	author sthen;	state Exp;
branches;
next	1.49;

1.49
date	2009.08.10.06.33.43;	author kili;	state Exp;
branches;
next	1.48;

1.48
date	2009.07.20.14.27.05;	author naddy;	state Exp;
branches;
next	1.47;

1.47
date	2009.07.12.20.01.32;	author sthen;	state Exp;
branches;
next	1.46;

1.46
date	2009.06.23.22.47.23;	author sthen;	state Exp;
branches
	1.46.2.1;
next	1.45;

1.45
date	2009.06.17.02.08.35;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2009.06.16.19.31.29;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2009.06.16.17.19.41;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2009.06.15.21.41.27;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2009.06.11.18.27.02;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2009.06.08.16.58.15;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2009.06.07.06.03.43;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2009.05.21.15.07.37;	author steven;	state Exp;
branches;
next	1.37;

1.37
date	2009.05.14.06.51.07;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2009.03.05.06.23.04;	author steven;	state Exp;
branches;
next	1.35;

1.35
date	2009.02.12.03.07.59;	author sthen;	state Exp;
branches
	1.35.2.1;
next	1.34;

1.34
date	2009.01.14.10.34.21;	author sthen;	state Exp;
branches;
next	1.33;

1.33
date	2008.12.27.20.48.00;	author steven;	state Exp;
branches;
next	1.32;

1.32
date	2008.10.23.02.55.43;	author brad;	state Exp;
branches;
next	1.31;

1.31
date	2008.10.21.21.40.39;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2008.10.18.00.38.54;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2008.09.24.07.13.43;	author sturm;	state Exp;
branches;
next	1.28;

1.28
date	2008.09.17.13.54.54;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2008.09.13.22.04.40;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2008.08.21.05.59.01;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	2008.07.11.14.20.55;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2008.07.04.07.35.40;	author bernd;	state Exp;
branches;
next	1.23;

1.23
date	2008.06.08.14.08.36;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2008.06.05.10.24.14;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2008.04.25.04.15.33;	author ckuethe;	state Exp;
branches;
next	1.20;

1.20
date	2008.04.17.08.10.10;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2008.04.12.08.19.28;	author steven;	state Exp;
branches;
next	1.18;

1.18
date	2008.04.04.22.39.09;	author steven;	state Exp;
branches;
next	1.17;

1.17
date	2008.03.24.08.23.22;	author steven;	state Exp;
branches;
next	1.16;

1.16
date	2007.12.15.21.13.00;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2007.12.09.10.56.31;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2007.11.29.13.58.53;	author okan;	state Exp;
branches;
next	1.13;

1.13
date	2007.11.28.08.48.32;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2007.10.27.16.57.20;	author steven;	state Exp;
branches;
next	1.11;

1.11
date	2007.10.08.08.22.42;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2007.10.01.22.03.29;	author merdely;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.01.20.11.21;	author kili;	state Exp;
branches;
next	1.8;

1.8
date	2007.08.11.22.15.46;	author ckuethe;	state Exp;
branches;
next	1.7;

1.7
date	2007.08.02.08.31.34;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2007.08.02.06.06.13;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2007.05.28.12.43.34;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2007.05.26.19.56.10;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2007.05.16.13.08.15;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.15.10.07.26;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.12.15.19.35;	author alek;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.05.12.15.19.35;	author alek;	state Exp;
branches;
next	;

1.35.2.1
date	2009.08.15.03.24.24;	author william;	state Exp;
branches;
next	;

1.46.2.1
date	2009.11.06.01.46.18;	author william;	state Exp;
branches;
next	;

1.87.2.1
date	2011.03.13.17.37.46;	author jasper;	state Exp;
branches;
next	;

1.97.2.1
date	2011.08.30.07.15.24;	author jasper;	state Exp;
branches;
next	;

1.114.2.1
date	2013.05.01.09.55.20;	author jasper;	state Exp;
branches;
next	;

1.117.2.1
date	2014.02.06.10.09.00;	author brad;	state Exp;
branches;
next	1.117.2.2;

1.117.2.2
date	2014.10.30.07.37.30;	author brad;	state Exp;
branches;
next	;
commitid	m6VWQUdGf2sBMx2J;

1.121.2.1
date	2014.10.30.07.39.10;	author brad;	state Exp;
branches;
next	1.121.2.2;
commitid	WQNd7LozvjAC4lPY;

1.121.2.2
date	2015.01.09.04.44.10;	author brad;	state Exp;
branches;
next	;
commitid	oLChh3LirC6A3wPd;

1.121.4.1
date	2014.10.30.07.40.49;	author brad;	state Exp;
branches;
next	1.121.4.2;
commitid	zm0kqMBvEx3BHQZ2;

1.121.4.2
date	2015.01.09.04.43.44;	author brad;	state Exp;
branches;
next	;
commitid	HsMnnSqbG9RoLbYk;

1.129.2.1
date	2016.07.05.07.16.52;	author jasper;	state Exp;
branches;
next	;
commitid	ATFCg0d2YCHGzcS2;


desc
@@


1.133
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.132 2017/03/06 23:42:54 naddy Exp $

COMMENT-main=	multi-protocol instant messaging client
COMMENT-finch=	multi-protocol instant messaging client, console client
COMMENT-libpurple= multi-protocol instant messaging library

VERSION=	2.11.0
DISTNAME=	pidgin-${VERSION}
PKGNAME-main=	pidgin-${VERSION}
PKGNAME-finch=	finch-${VERSION}
PKGNAME-libpurple= libpurple-${VERSION}
.for i in -finch -libpurple
FULLPKGNAME$i= ${PKGNAME$i}${FLAVOR_EXT:S/-gtkspell//}
FULLPKGPATH$i= ${PKGPATH},$i${FLAVOR_EXT:S/-gtkspell//:S/-/,/g}
.endfor
CATEGORIES=	net
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=pidgin/}
EXTRACT_SUFX=	.tar.bz2

SHARED_LIBS=	jabber		0.0 \
		oscar		0.0 \
		purple		6.3 \
		purple-client	6.3 \
		gnt		6.2 \
		ymsg		0.0

HOMEPAGE=	http://pidgin.im/

MAINTAINER=	Brad Smith <brad@@comstyle.com>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	c dbus-1 dbus-glib-1 ffi gadu gio-2.0 glib-2.0 gmodule-2.0 \
		gobject-2.0 gthread-2.0 idn lzma m pcre pthread xml2 z
WANTLIB-main=	X11 ICE SM Xcomposite Xcursor Xdamage Xext Xfixes Xi \
		Xinerama Xrandr Xrender Xss atk-1.0 cairo expat fontconfig \
		freetype gdk-x11-2.0 gdk_pixbuf-2.0 graphite2 gtk-x11-2.0 \
		harfbuzz pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 \
		png pthread-stubs purple ${LIBCXX} xcb-render xcb-shm xcb \
		${WANTLIB}
WANTLIB-libpurple= crypto meanwhile ssl silc silcclient ${WANTLIB}
WANTLIB-finch=	X11 ncursesw panelw purple util xcb ${WANTLIB} \
		${MODPY_WANTLIB}

MODULES=	devel/gettext \
		textproc/intltool \
		lang/python \
		devel/gconf2

BUILD_DEPENDS=		x11/dbus-python
LIB_DEPENDS=		devel/glib2
RUN_DEPENDS-main=	x11/dbus-python \
			x11/py-gtk2 \
			devel/desktop-file-utils \
			x11/gtk+3,-guic
LIB_DEPENDS-main=	${LIB_DEPENDS} \
			x11/gtk+2
RUN_DEPENDS-finch=	# empty
LIB_DEPENDS-finch=	${LIB_DEPENDS} \
			${MODPY_LIB_DEPENDS}
RUN_DEPENDS-libpurple=	${MODGCONF2_RUN_DEPENDS}
LIB_DEPENDS-libpurple=	${LIB_DEPENDS} \
			devel/libidn \
			devel/silc-toolkit \
			net/meanwhile \
			net/libgadu>=1.12.1

MODGCONF2_SCHEMAS_DIR=	pidgin
MODGCONF2_LIBDEP=	No

SEPARATE_BUILD=	Yes
USE_GMAKE=	Yes
CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.69
CONFIGURE_ARGS+= --disable-avahi \
		 --disable-cap \
		 --disable-doxygen \
		 --disable-farstream \
		 --disable-gevolution \
		 --disable-gnutls \
		 --disable-nm \
		 --disable-nss \
		 --disable-perl \
		 --disable-tcl \
		 --disable-tk \
		 --disable-vv \
		 --with-python=${MODPY_BIN}
# XXX prevent a fatal error at install phase
CONFIGURE_ARGS+= --disable-schemas-install
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		ac_cv_lib_db_dbopen=no
# see patch-pidgin_Makefile_in, no AC_PROG_CXX
MAKE_ENV=	CXX="${CXX}"

FLAVORS=	audio debug gtkspell
FLAVOR?=

MULTI_PACKAGES= -main -finch -libpurple

.if ${FLAVOR:Maudio}
LIB_DEPENDS+=		multimedia/gstreamer1/plugins-base
WANTLIB+=		gstbase-1.0 gstreamer-1.0 gstvideo-1.0 orc-0.4
LIB_DEPENDS-main+=	libpurple-${VERSION}-audio:${BUILD_PKGPATH},-libpurple
LIB_DEPENDS-finch+=	libpurple-${VERSION}-audio:${BUILD_PKGPATH},-libpurple
.else
CONFIGURE_ARGS+=	--disable-gstreamer
LIB_DEPENDS-main+=	libpurple-${VERSION}:${BUILD_PKGPATH},-libpurple
LIB_DEPENDS-finch+=	libpurple-${VERSION}:${BUILD_PKGPATH},-libpurple
.endif

.if ${FLAVOR:Mdebug}
CONFIGURE_ARGS+=	--enable-debug
DEBUG=			-O0 -g
.endif

.if ${FLAVOR:Mgtkspell}
LIB_DEPENDS-main+=	textproc/gtkspell
WANTLIB-main+=		enchant gtkspell
.else
CONFIGURE_ARGS+=	--disable-gtkspell
.endif

ARCHIVE_DIR_LIST=	finch gnt pidgin purple-2

post-extract:
	@@cp ${FILESDIR}/ssl-openssl.c ${WRKSRC}/libpurple/plugins/ssl

post-build:
	cp ${FILESDIR}/purple.service ${WRKSRC}
	@@${SUBST_CMD} ${WRKSRC}/libpurple/purple-remote \
		     ${WRKSRC}/libpurple/purple-url-handler \
		     ${WRKSRC}/purple.service

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/dbus-1/services
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/pidgin
	${INSTALL_DATA} ${WRKSRC}/purple.service \
	    ${PREFIX}/share/dbus-1/services
.for dir in ${ARCHIVE_DIR_LIST}
	@@find ${PREFIX}/lib/${dir} -name '*.a' -print | xargs rm
	@@find ${PREFIX}/lib/${dir} -name '*.la' -print | xargs rm
.endfor

.include <bsd.port.mk>
@


1.132
log
@honor CXX for linking, too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2016/07/05 07:13:59 ajacoutot Exp $
d40 1
a40 1
		png pthread-stubs purple stdc++ xcb-render xcb-shm xcb \
@


1.131
log
@Update to pidgin-2.11.0.

from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2016/03/20 16:12:25 naddy Exp $
d94 2
@


1.130
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2016/01/22 19:04:39 ajacoutot Exp $
d7 1
a7 1
VERSION=	2.10.12
a18 3
REVISION-finch=	0
REVISION-libpurple=0
REVISION-main=	0
d22 2
a23 2
		purple		6.2 \
		purple-client	6.2 \
@


1.129
log
@gstreamer-0.10 -> gstreamer1
reported by nigel@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.128 2016/01/03 09:06:49 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.129.2.1
log
@Security fixes for: CVE-2016-2376 - CVE 2016-2380, CVE-2016-4323,
CVE-2016-2365 - CVE-2016-2375 (only affecting the mxit protocol)

originally pointed out by Jeremy Thorn
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2016/01/22 19:04:39 ajacoutot Exp $
d22 1
a22 1
REVISION-libpurple=1
@


1.128
log
@Update to pidgin-2.10.12.

from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2015/04/04 09:21:03 ajacoutot Exp $
d21 3
d106 2
a107 3
LIB_DEPENDS+=		multimedia/gstreamer-0.10/core>=0.10,<=0.11 \
			multimedia/gstreamer-0.10/plugins-base
WANTLIB+=		gstreamer-0.10 gstinterfaces-0.10
@


1.127
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2015/03/27 08:13:03 ajacoutot Exp $
d9 1
a9 1
VERSION=	2.10.11
a21 4
REVISION-main=		2
REVISION-libpurple=	2
REVISION-finch=	1

d69 1
a69 1
			net/libgadu>=1.12.0
@


1.126
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2015/02/11 08:11:45 brad Exp $
d22 3
a24 3
REVISION-main=		1
REVISION-libpurple=	1
REVISION-finch=	0
@


1.125
log
@Use srand_deterministic() as Pidgin expects deterministic results
which fixes the nick colours in multiuser chat rooms changing between
restarts of Pidgin.

From Steven McDonald <steven at steven-mcdonald dot id dot au>

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2015/01/09 01:34:44 brad Exp $
d22 3
a24 2
REVISION-main=		0
REVISION-libpurple=	0
d62 1
a62 1
			x11/gtk+2,-guic
@


1.124
log
@Fix a crash with the ssl_openssl_write() function. It turns out that
openssl_data can be NULL. The current code does not handle this correctly
which results in dereferencing a NULL pointer via openssl_data->ssl.

Also some format string fixes.

Issue found and fixed by jsing@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2015/01/05 08:29:37 brad Exp $
d22 1
@


1.123
log
@Update to Pidgin 2.10.11.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2014/10/28 01:14:23 brad Exp $
d21 2
@


1.122
log
@Update to Pidgin 2.10.10. Fixes 4 issues with CVE assigned.. CVE-2014-3695,
CVE-2014-3696, CVE-2014-3697, CVE-2014-3698.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2014/02/06 07:44:15 brad Exp $
d9 1
a9 1
VERSION=	2.10.10
d37 1
a37 1
		gobject-2.0 gthread-2.0 idn m pcre pthread xml2 z
@


1.121
log
@Update to Pidgin 2.10.8. Fixes 16 issues with CVE assigned.. CVE-2012-6152,
CVE-2013-6477, CVE-2013-6478, CVE-2013-6479, CVE-2013-6481, CVE-2013-6482,
CVE-2013-6483, CVE-2013-6484, CVE-2013-6485, CVE-2013-6486, CVE-2013-6487,
CVE-2013-6489, CVE-2013-6490, CVE-2014-0020.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2013/10/31 21:12:13 sthen Exp $
d9 1
a9 1
VERSION=	2.10.9
d36 2
a37 2
WANTLIB=	c dbus-1 dbus-glib-1 ffi gio-2.0 glib-2.0 gmodule-2.0 \
		gobject-2.0 gthread-2.0 idn m pcre pthread util xml2 z
d44 3
a46 3
WANTLIB-libpurple= crypto gadu>=5 meanwhile ssl silc>=7 silcclient>=5 \
		${WANTLIB}
WANTLIB-finch=	X11 ncursesw panelw purple xcb ${WANTLIB} ${MODPY_WANTLIB}
d69 1
a69 1
			net/libgadu>=1.11.0
@


1.121.4.1
log
@Security fixes from 2.10.10... CVE-2014-3695, CVE-2014-3696, CVE-2014-3698.

The commit for 2.10.10 mentioned CVE-2014-3697 but after looking at it
again I noticed it is a Windows specific issue.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2014/02/06 07:44:15 brad Exp $
a20 2

REVISION-libpurple=	0
@


1.121.4.2
log
@Fix a crash with the ssl_openssl_write() function. It turns out that
openssl_data can be NULL. The current code does not handle this correctly
which results in dereferencing a NULL pointer via openssl_data->ssl.

Some fixes from 2.10.10 and 2.10.11..

3edc70bf4e09
Emit sending/sent signals when doing /me irc command. Fixes #15750
ee51d84aacbf
msn: Hard fail if buddy list is unavailable.
f6a91e6c77a4
msn: Update Application ID to re-enable buddy list.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121.4.1 2014/10/30 07:40:49 brad Exp $
d22 1
a22 1
REVISION-libpurple=	1
@


1.121.2.1
log
@Security fixes from 2.10.10... CVE-2014-3695, CVE-2014-3696, CVE-2014-3698.

The commit for 2.10.10 mentioned CVE-2014-3697 but after looking at it
again I noticed it is a Windows specific isue.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2014/02/06 07:44:15 brad Exp $
a20 2

REVISION-libpurple=	0
@


1.121.2.2
log
@Fix a crash with the ssl_openssl_write() function. It turns out that
openssl_data can be NULL. The current code does not handle this correctly
which results in dereferencing a NULL pointer via openssl_data->ssl.

Some fixes from 2.10.10 and 2.10.11..

3edc70bf4e09
Emit sending/sent signals when doing /me irc command. Fixes #15750
ee51d84aacbf
msn: Hard fail if buddy list is unavailable.
f6a91e6c77a4
msn: Update Application ID to re-enable buddy list.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121.2.1 2014/10/30 07:39:10 brad Exp $
d22 1
a22 1
REVISION-libpurple=	1
@


1.120
log
@bump REVISION for any ports using route messages. regen some distinfos and
remove unnecessary USE_GROFFs while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2013/09/27 17:49:08 ajacoutot Exp $
d9 1
a9 1
VERSION=	2.10.7
a21 3
REVISION-main=		1
REVISION-libpurple=	1

d24 3
a26 3
		purple		6.1 \
		purple-client	6.1 \
		gnt		6.1 \
d38 4
a41 4
WANTLIB-main=	GL X11 Xau Xdmcp ICE SM Xcomposite Xcursor Xdamage Xext \
		Xfixes Xi Xinerama Xrandr Xrender Xss Xxf86vm atk-1.0 cairo \
		drm expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
		gtk-x11-2.0 pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 \
d77 1
a77 1
AUTOCONF_VERSION= 2.68
@


1.119
log
@Bump after devel/gconf2,-main is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2013/09/10 13:26:49 ajacoutot Exp $
d22 2
a23 2
REVISION-main=		0
REVISION-libpurple=	0
@


1.118
log
@Bump after dbus-python got renamed to py-dbus.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2013/03/21 08:46:35 ajacoutot Exp $
d22 2
a23 1
REVISION-main=	0
@


1.117
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2013/03/11 11:35:55 espie Exp $
d21 2
@


1.117.2.1
log
@Update to Pidgin 2.10.9. Fixes 16 issues with CVE assigned.. CVE-2012-6152,
CVE-2013-6477, CVE-2013-6478, CVE-2013-6479, CVE-2013-6481, CVE-2013-6482,
CVE-2013-6483, CVE-2013-6484, CVE-2013-6485, CVE-2013-6486, CVE-2013-6487,
CVE-2013-6489, CVE-2013-6490, CVE-2014-0020.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2014/02/06 07:44:15 brad Exp $
d9 1
a9 1
VERSION=	2.10.9
d24 3
a26 3
		purple		6.2 \
		purple-client	6.2 \
		gnt		6.2 \
d38 4
a41 4
WANTLIB-main=	X11 ICE SM Xcomposite Xcursor Xdamage Xext Xfixes Xi \
		Xinerama Xrandr Xrender Xss atk-1.0 cairo expat fontconfig \
		freetype gdk-x11-2.0 gdk_pixbuf-2.0 graphite2 gtk-x11-2.0 \
		harfbuzz pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 \
d77 1
a77 1
AUTOCONF_VERSION= 2.69
@


1.117.2.2
log
@Security fixes from 2.10.10... CVE-2014-3695, CVE-2014-3696, CVE-2014-3698.

The commit for 2.10.10 mentioned CVE-2014-3697 but after looking at it
again I noticed it is a Windows specific isue.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117.2.1 2014/02/06 10:09:00 brad Exp $
a20 2

REVISION-libpurple=	0
@


1.116
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2013/03/08 01:03:09 brad Exp $
a74 1
USE_LIBTOOL=	Yes
@


1.115
log
@Update to Pidgin 2.10.7. Fixes 3 security issues and some crashing bugs,
as well as other bug fixes. CVE-2013-0271, CVE-2013-0272, CVE-2013-0273,
CVE-2013-0274

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2013/02/09 14:49:52 sthen Exp $
a34 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.114
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2013/02/06 14:23:06 ajacoutot Exp $
d9 1
a9 1
VERSION=	2.10.6
a11 1
REVISION-main=	2
a12 1
REVISION-finch=	2
a13 1
REVISION-libpurple= 3
@


1.114.2.1
log
@Update to Pidgin 2.10.7. Fixes 3 security issues and some crashing bugs,
as well as other bug fixes. CVE-2013-0271, CVE-2013-0272, CVE-2013-0273,
CVE-2013-0274
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2013/02/09 14:49:52 sthen Exp $
d9 1
a9 1
VERSION=	2.10.7
d12 1
d14 1
d16 1
@


1.113
log
@Quiet gconftool-2:
gconf_ping() will try to shutdown gconfd, but since installing pkg is
done as root, there is not gconfd nor dbus that can be started when
DISPLAY isn't set and an annoying warning is issued.

discussed with espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2012/09/06 12:38:35 ajacoutot Exp $
d109 1
a109 1
.if ${FLAVOR:L:Maudio}
d121 1
a121 1
.if ${FLAVOR:L:Mdebug}
d126 1
a126 1
.if ${FLAVOR:L:Mgtkspell}
@


1.112
log
@Bump after gstreamer-plugins-base subpackaging change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2012/09/01 14:36:58 ajacoutot Exp $
d16 1
a16 1
REVISION-libpurple= 2
@


1.111
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2012/08/26 07:16:54 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	1
d14 1
a14 1
REVISION-finch=	1
d16 1
a16 1
REVISION-libpurple= 1
@


1.110
log
@Remove -pthread patching.

from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2012/07/18 13:31:49 jasper Exp $
d12 1
a12 1
REVISION-main=	0
d14 1
a14 1
REVISION-finch=	0
d16 1
a16 1
REVISION-libpurple= 0
@


1.109
log
@Update to 2.10.6, includes a security fix for:
CVE-2012-3374 Fix a buffer overflow vulnerability when parsing incoming messagescontaining inline images.

from brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2012/06/15 08:32:17 ajacoutot Exp $
d12 1
d14 1
d16 1
@


1.108
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2012/05/25 08:59:04 sthen Exp $
d9 1
a9 2
VERSION=	2.10.4
REVISION-main=	1
a84 1
		 --disable-farsight \
@


1.107
log
@Add --disable-farstream to avoid hidden dep, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2012/05/08 06:49:41 jasper Exp $
d10 1
a10 1
REVISION-main=	0
@


1.106
log
@Security update to 2.10.4, fixes CVE-2012-2214, Pidgin Two Denial of Service Weaknesses

ok brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2012/04/04 11:09:12 sthen Exp $
d10 1
d87 1
@


1.105
log
@Update to pidgin 2.10.3, fixes a problem with MSN buddies appearing
online when they shouldn't. From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2012/03/29 13:38:48 sthen Exp $
d9 1
a9 1
VERSION=	2.10.3
@


1.104
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2012/03/15 21:45:06 sthen Exp $
d9 1
a9 1
VERSION=	2.10.2
@


1.103
log
@update to Pidgin 2.10.2, from Brad, also tested by rfreeman@@

CVE-2011-4939 null pointer deref with certain types of nickname changes in XMPP
CVE-2012-1178 MSN crash due to not verifying UTF8 encoding
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2011/12/13 14:42:55 jasper Exp $
d77 1
a77 1
SEPARATE_BUILD=	simple
@


1.102
log
@- update to 2.10.1

from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2011/12/03 23:04:37 ajacoutot Exp $
d9 1
a9 1
VERSION=	2.10.1
@


1.101
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2011/10/10 17:17:08 jasper Exp $
d9 1
a9 1
VERSION=	2.10.0
a13 2
REVISION-main=	1
REVISION-libpurple= 0
d20 1
d39 2
a40 3
WANTLIB=	c dbus-1 dbus-glib-1 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 \
		gthread-2.0 m pcre pthread util xml2 z

a46 1

a48 1

d69 1
d81 1
a81 1
AUTOCONF_VERSION= 2.67
a87 1
		 --disable-idn \
d148 1
a149 1
	@@find ${PREFIX}/lib -name '*.la' -print | xargs rm
@


1.100
log
@- Fix invalid UTF-8 string handling with SILC messages. CVE-2001-3594
- Make sure OpenSSL never tries to use SSLv2.

from brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2011/09/16 11:13:39 espie Exp $
d14 1
a14 1
REVISION-main=	0
d64 2
a65 1
			devel/desktop-file-utils
@


1.99
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2011/08/22 07:35:34 jasper Exp $
d14 2
a15 1
REVISION =	0
@


1.98
log
@- update pidgin to 2.10.0

from brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2011/07/22 06:44:45 jasper Exp $
d14 1
@


1.97
log
@- update pidgin to 2.9.0
* includes a security fix for SA45037 Pidgin "gdk_pixbuf__gif_image_load()" Denial of Service Weakness

from brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2011/07/09 12:46:31 dcoppa Exp $
d9 1
a9 1
VERSION=	2.9.0
d23 2
a24 2
		purple		6.0 \
		purple-client	6.0 \
d38 1
a38 1
WANTLIB=	c dbus-1 dbus-glib-1 glib-2.0 gmodule-2.0 gobject-2.0 \
d44 3
a46 3
		gio-2.0 gtk-x11-2.0 pango-1.0 pangocairo-1.0 pangoft2-1.0 \
		pixman-1 png pthread-stubs purple stdc++ xcb-render xcb-shm \
		xcb ${WANTLIB}
@


1.97.2.1
log
@Security fixes for CVE-2011-2943 CVE-2011-3184, remove crashes in IRC and MSN
plugins.

ok brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2011/07/22 06:44:45 jasper Exp $
a17 3

REVISION-libpurple=0

@


1.96
log
@Fix libpthread linkage.

OK ajacoutot@@, Brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2011/07/07 08:28:04 dcoppa Exp $
d9 1
a9 1
VERSION=	2.7.11
a13 3
REVISION-main=	1
REVISION-finch=	2
REVISION-libpurple= 1
d23 3
a25 3
		purple		5.2 \
		purple-client	5.2 \
		gnt		6.0 \
d38 2
a39 2
WANTLIB=	c dbus-1 dbus-glib-1 gio-2.0 glib-2.0 gmodule-2.0 \
		gobject-2.0 gthread-2.0 m pcre pthread util xml2 z
d45 2
a46 2
		pixman-1 png pthread-stubs purple stdc++ xcb-atom xcb-aux \
		xcb-event xcb-render xcb-shm xcb ${WANTLIB}
d48 1
a48 1
WANTLIB-libpurple= crypto ssl silc>=7 silcclient>=5 meanwhile gadu>=4 \
d51 1
a51 2
WANTLIB-finch=	X11 Xau Xdmcp ncursesw panelw pthread-stubs xcb purple \
		${WANTLIB} ${MODPY_WANTLIB}
d72 1
a72 1
			net/libgadu
@


1.95
log
@- Delete the .la files.
- Get rid of using libtool's --tag=disable-static option.
- Stop moving the libjabber / liboscar libraries and properly set
  the rpath for the XMPP / AIM / ICQ protocol plugins.

From Brad (MAINTAINER)

ac_cv_openssl_libs "fix" and WANTLIB fix by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2011/06/08 18:00:49 jasper Exp $
d15 1
a15 1
REVISION-finch=	1
@


1.94
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2011/06/02 17:09:32 kili Exp $
d14 3
a16 3
REVISION-main=		0
REVISION-finch= 	0
REVISION-libpurple=	0
d41 2
a42 2
WANTLIB=	c dbus-1 dbus-glib-1 glib-2.0 gmodule-2.0 gobject-2.0 \
		gthread-2.0 m pcre pthread util xml2 z
a82 1
LIBTOOL_FLAGS+=	--tag=disable-static
d135 2
d151 4
a154 2
	mv ${PREFIX}/lib/purple-2/libjabber.* ${PREFIX}/lib
	mv ${PREFIX}/lib/purple-2/liboscar.* ${PREFIX}/lib
@


1.93
log
@--disable-silent-rules is now added to CONFIGURE_ARGS per default,
if CONFIGURE_STYLE = gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2011/04/15 21:43:13 sthen Exp $
d14 3
@


1.92
log
@switch to autoconf 2.67, from Brad. config.h's checked.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2011/03/26 10:05:24 sthen Exp $
a93 1
		 --disable-silent-rules \
@


1.91
log
@Bump ports which should be using newer autoconf to 2.65;
config.h files checked.  From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2011/03/13 17:27:10 jasper Exp $
d83 1
a83 2
# Should be 2.67
AUTOCONF_VERSION= 2.65
@


1.90
log
@- update pidgin to 2.7.11
* various fixes and a fix for CVE-2011-1091

from brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2011/03/11 00:13:04 sthen Exp $
d84 1
a84 1
AUTOCONF_VERSION= 2.64
@


1.89
log
@- switch to more compact LIB_DEPENDS style for the audio flavour
- fix CFLAGS issue within autoconf script, remove CFLAGS from MAKE_FLAGS
from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2011/03/06 14:13:20 steven Exp $
d9 1
a9 1
VERSION=	2.7.10
a17 3
REVISION-main=	0
REVISION-finch=	0
REVISION-libpurple= 0
d23 2
a24 2
		purple		5.1 \
		purple-client	5.1 \
d43 4
a46 5
		drm execinfo expat fontconfig freetype gdk-x11-2.0 \
		gdk_pixbuf-2.0 gio-2.0 gtk-x11-2.0 pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pixman-1 png pthread-stubs stdc++ xcb-atom \
		startup-notification-1 purple xcb-aux xcb-event xcb-render \
		xcb-shm xcb ${WANTLIB}
d60 1
d65 1
a65 1
			devel/startup-notification>=0.10
@


1.88
log
@update to 2.7.10

from brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2011/01/15 10:56:51 jasper Exp $
d18 3
a108 2
MAKE_FLAGS+=	CFLAGS="${CFLAGS}"

d115 3
a117 3
LIB_DEPENDS+=	gstreamer->=0.10,<=0.11:multimedia/gstreamer-0.10/core \
		multimedia/gstreamer-0.10/plugins-base
WANTLIB +=	gstreamer-0.10 gstinterfaces-0.10
@


1.87
log
@- Security fix for SA43271, Pidgin Cipher API Information Disclosure Security Issue
from upstream git commit 16f4c309528b82961b169edb8b74b9061db6c471

from brad (MAINTAINER), ok aja@@
@
text
@d9 1
a9 1
VERSION=	2.7.9
a17 2
REVISION-main=	0
REVISION-libpurple= 0
d142 1
a142 1
	${SUBST_CMD} ${WRKSRC}/libpurple/purple-remote \
@


1.87.2.1
log
@- Security fix for CVE-2011-1091, improper handling of malformed YMSG packets cause NULL
pointer dereferences, leading to denial of service.

ok brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2011/02/12 10:59:59 jasper Exp $
d19 1
a19 1
REVISION-libpurple= 1
@


1.86
log
@- remove USE_GROFF=Yes, manpages checked by brad.

from brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2011/01/13 10:29:27 jasper Exp $
d19 1
@


1.85
log
@- the facebook icons get installed by pidgin now, so add a conflict marker
in pidgin, and prevent pidgin-facebookchat from installing them

from mikolaj kucharski
ok sthen@@ brad@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2010/12/28 18:18:02 jasper Exp $
a82 1
USE_GROFF=	Yes
@


1.84
log
@  - SECURITY update of pidgin to 2.7.9, which fixes a NULL pointer dereference
    which could lead to a remotely-triggered DoS in MSN.

 ok brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2010/12/23 23:25:25 steven Exp $
d18 1
@


1.83
log
@update to 2.7.8

from brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2010/11/29 23:18:30 steven Exp $
d9 1
a9 1
VERSION=	2.7.8
@


1.82
log
@update to 2.7.7

from brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2010/11/11 16:27:55 espie Exp $
d9 1
a9 1
VERSION=	2.7.7
@


1.81
log
@new depends
@
text
@d9 1
a9 1
VERSION=	2.7.5
a13 1
REVISION-libpurple= 0
d41 4
a44 4
WANTLIB-main=	X11 Xau Xdmcp ICE SM Xcomposite Xcursor Xdamage Xext \
		Xfixes Xi Xinerama Xrandr Xrender Xss atk-1.0 cairo \
		execinfo expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
		gio-2.0 gtk-x11-2.0 pango-1.0 pangocairo-1.0 \
d46 2
a47 2
		startup-notification-1 purple \
		xcb-aux xcb-event xcb-render xcb-render-util xcb ${WANTLIB}
d52 2
a53 2
WANTLIB-finch=	X11 Xau Xdmcp ncurses panel pthread-stubs xcb purple ${WANTLIB}
WANTLIB-finch += ${MODPY_WANTLIB}
@


1.80
log
@new WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2010/11/07 12:32:07 steven Exp $
d50 1
a50 1
WANTLIB-libpurple= crypto ssl silc.>=7 silcclient.>=5 meanwhile gadu.>=4 \
d61 4
a64 4
BUILD_DEPENDS=		::x11/dbus-python
RUN_DEPENDS-main=	::x11/dbus-python \
			::x11/py-gtk2 \
			::devel/desktop-file-utils
d66 1
a66 1
			:startup-notification->=0.10:devel/startup-notification
d72 3
a74 3
			::devel/silc-toolkit \
			::net/meanwhile \
			::net/libgadu
d116 2
a117 2
LIB_DEPENDS+=	:gstreamer->=0.10,<=0.11:multimedia/gstreamer-0.10/core \
		::multimedia/gstreamer-0.10/plugins-base
d119 2
a120 2
LIB_DEPENDS-main+=	:libpurple-${VERSION}-audio:${BUILD_PKGPATH},-libpurple
LIB_DEPENDS-finch+=	:libpurple-${VERSION}-audio:${BUILD_PKGPATH},-libpurple
d123 2
a124 2
LIB_DEPENDS-main+=	:libpurple-${VERSION}:${BUILD_PKGPATH},-libpurple
LIB_DEPENDS-finch+=	:libpurple-${VERSION}:${BUILD_PKGPATH},-libpurple
d133 1
a133 1
LIB_DEPENDS-main+=	::textproc/gtkspell
@


1.79
log
@have the OpenSSL module call OpenSSL_add_all_algorithms() upon initialization

from brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2010/11/04 07:18:54 steven Exp $
d47 1
d50 2
a51 1
WANTLIB-libpurple= crypto ssl ${WANTLIB}
d53 1
a53 1
WANTLIB-finch=	X11 Xau Xdmcp ncurses panel pthread-stubs xcb ${WANTLIB}
d66 1
a66 1
			startup-notification-1:startup-notification->=0.10:devel/startup-notification
d72 3
a74 3
			silc.>=7,silcclient.>=5::devel/silc-toolkit \
			meanwhile::net/meanwhile \
			gadu.>=4::net/libgadu
d116 5
a120 4
LIB_DEPENDS+=		gstreamer-0.10:gstreamer->=0.10,<=0.11:multimedia/gstreamer-0.10/core \
			gstinterfaces-0.10::multimedia/gstreamer-0.10/plugins-base
LIB_DEPENDS-main+=	purple:libpurple-${VERSION}-audio:${BUILD_PKGPATH},-libpurple
LIB_DEPENDS-finch+=	purple:libpurple-${VERSION}-audio:${BUILD_PKGPATH},-libpurple
d123 2
a124 2
LIB_DEPENDS-main+=	purple:libpurple-${VERSION}:${BUILD_PKGPATH},-libpurple
LIB_DEPENDS-finch+=	purple:libpurple-${VERSION}:${BUILD_PKGPATH},-libpurple
d133 2
a134 2
LIB_DEPENDS-main+=	gtkspell::textproc/gtkspell
WANTLIB-main+=		enchant
@


1.78
log
@update to 2.7.5

from brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2010/10/24 21:30:01 ajacoutot Exp $
d14 1
@


1.77
log
@add a debug flavor

from brad
@
text
@d9 1
a9 1
VERSION=	2.7.4
d108 1
a108 1
FLAVOR?=	
@


1.76
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2010/10/24 19:17:31 steven Exp $
d107 1
a107 1
FLAVORS=	audio gtkspell
d123 5
a132 5
.endif

.if defined(DEBUG)
CONFIGURE_ARGS+=	--enable-debug
INSTALL_STRIP=
@


1.75
log
@update to 2.7.4

from brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2010/10/11 08:16:52 jasper Exp $
a76 1
USE_X11=	Yes
@


1.74
log
@Add MODPY_WANTLIB, adjust MODPY_LIB_DEPENDS to new-style LIB_DEPENDS,
update all ports to match. Plists don't change -> no bump.
Looks ok to jasper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2010/10/18 18:36:56 espie Exp $
d9 1
a9 1
VERSION=	2.7.3
a13 1

a17 5

REVISION-main=	2
REVISION-finch=	2
REVISION-libpurple= 1

d81 1
a81 1
USE_GROFF =	Yes
d83 1
a83 1
# Should be 2.65
@


1.73
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2010/10/11 08:16:52 jasper Exp $
d57 1
@


1.72
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2010/09/06 18:29:22 nicm Exp $
d86 1
@


1.71
log
@Python.h doesn't necessarily set _XOPEN_SOURCE_EXTENDED so set it
explicitly. Fixes build with ncursesw.

ok brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2010/09/02 09:09:24 ajacoutot Exp $
d20 1
a20 1
REVISION-main=	1
d50 1
a50 1
		gio-2.0 glitz gtk-x11-2.0 pango-1.0 pangocairo-1.0 \
@


1.70
log
@Fix FULLPKGNAME and FULLPKGPATH so that updates work without ambiguity.
from sthen@@, tested by myself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2010/08/30 21:31:33 sthen Exp $
d21 1
a21 1
REVISION-finch=	1
@


1.69
log
@bump for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2010/08/18 21:35:59 steven Exp $
d14 10
a23 3
REVISION-main=	0
REVISION-finch=	0
REVISION-libpurple= 0
@


1.68
log
@update to 2.7.3

from brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2010/08/01 20:11:48 steven Exp $
d14 3
@


1.67
log
@update to 2.7.2

security fix for CVE-2010-2528, plus a few other bug fixes

from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2010/07/09 06:10:16 landry Exp $
d9 1
a9 1
VERSION=	2.7.2
d21 1
a21 1
		gnt		5.1 \
d89 1
@


1.66
log
@use REVISION, checked with before/after make show=PKGNAMES (plus some
extra-careful checking where there are complicated PSEUDO_FLAVORS).
@
text
@d9 1
a9 1
VERSION=	2.7.1
a10 1
REVISION=	0
d107 2
a108 2
LIB_DEPENDS+=	gstreamer-0.10:gstreamer->=0.10,<=0.11:multimedia/gstreamer-0.10/core \
		gstinterfaces-0.10::multimedia/gstreamer-0.10/plugins-base
@


1.65
log
@Fix libpurple,-audio flavor PKGNAME - it's different from libpurple
unflavored package, so forcing FULLPKGNAME/FULLPKGPATH was fucking it.
While here, fix dependencies on gstreamer with audio FLAVOR, and
correctly depend on the -audio flavoured libpurple for -finch,audio and
-main,audio.
Looks fine to brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2010/07/07 15:57:48 sthen Exp $
d11 4
a14 3
PKGNAME-main=	pidgin-${VERSION}p0
PKGNAME-finch=	finch-${VERSION}p0
PKGNAME-libpurple= libpurple-${VERSION}p0
@


1.64
log
@--disable-mcheck is no longer a valid configure argument; remove it,
fixing DEBUG build. Spotted by dhill@@, fix from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/06/10 20:13:33 steven Exp $
d11 3
a13 4
PKGNAME-main=	pidgin-${VERSION}
PKGNAME-finch=	finch-${VERSION}
FULLPKGNAME-libpurple= libpurple-${VERSION}
FULLPKGPATH-libpurple= ${PKGPATH},-libpurple
d58 1
a58 2
			startup-notification-1:startup-notification->=0.10:devel/startup-notification \
			purple:libpurple-${VERSION}:${BUILD_PKGPATH},-libpurple
d61 1
a61 2
			${MODPY_LIB_DEPENDS} \
			purple:libpurple-${VERSION}:${BUILD_PKGPATH},-libpurple
d107 4
a110 2
LIB_DEPENDS-main+=	gstreamer-0.10:gstreamer->=0.10,<=0.11:multimedia/gstreamer-0.10/core
LIB_DEPENDS-finch+=	gstreamer-0.10:gstreamer->=0.10,<=0.11:multimedia/gstreamer-0.10/core
d113 2
@


1.63
log
@update to 2.7.1

from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/02/28 22:51:56 sthen Exp $
d80 1
d124 1
a124 2
CONFIGURE_ARGS+=	--enable-debug \
			--disable-mcheck
@


1.62
log
@use newer autoconf, from Brad
@
text
@d9 1
a9 1
VERSION=	2.6.6
d11 3
a13 3
PKGNAME-main=	pidgin-${VERSION}p0
PKGNAME-finch=	finch-${VERSION}p0
FULLPKGNAME-libpurple= libpurple-${VERSION}p0
d20 3
a22 3
		purple		5.0 \
		purple-client	5.0 \
		gnt		5.0 \
d43 1
a43 1
		xcb-aux xcb-event xcb ${WANTLIB}
@


1.61
log
@SECURITY update to 2.66, fixing CVE-2010-0277, CVE-2010-0423, CVE-2010-0420
From Brad (maintainer), ok jasper@@ (ports is still not fully open)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/02/14 20:01:00 naddy Exp $
d11 3
a13 3
PKGNAME-main=	pidgin-${VERSION}
PKGNAME-finch=	finch-${VERSION}
FULLPKGNAME-libpurple= libpurple-${VERSION}
d80 1
a80 1
AUTOCONF_VERSION= 2.61
@


1.60
log
@make sure flavor-invariant packages really don't pick up any flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/01/10 17:53:23 jasper Exp $
d9 1
a9 1
VERSION=	2.6.5
d13 1
a13 1
FULLPKGNAME-libpurple= libpurple-${VERSION}p1
d36 1
a36 1
		gthread-2.0 m pcre pthread xml2 z
d63 1
@


1.59
log
@- update pidgin to 2.6.5, the biggest change was the security fix for msn,
which we already had.

from brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/01/05 07:19:49 jasper Exp $
d13 2
a14 1
FULLPKGNAME-libpurple= libpurple-${VERSION}p0
@


1.58
log
@SECURITY FIX for SA37953:
Pidgin MSN Custom Smileys File Disclosure Vulnerability

ok brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2009/12/22 00:31:23 sthen Exp $
d9 1
a9 1
VERSION=	2.6.4
d11 1
a11 1
PKGNAME-main=	pidgin-${VERSION}p0
d78 1
a78 2
# Should be 2.64
AUTOCONF_VERSION= 2.62
@


1.57
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.
prodded by espie@@
discussed with espie@@ ajacoutot@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/12/07 06:27:59 steven Exp $
d13 1
a13 1
FULLPKGNAME-libpurple= libpurple-${VERSION}
@


1.56
log
@update to 2.6.4

from brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2009/11/23 05:44:07 steven Exp $
d11 1
a11 1
PKGNAME-main=	pidgin-${VERSION}
@


1.55
log
@pass -rpath option to ld when linking libyahoo.so, so the libymsg shared
library is found at runtime

ok sthen, brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/09/08 06:35:24 steven Exp $
d9 1
a9 1
VERSION=	2.6.3
d13 1
a13 1
FULLPKGNAME-libpurple= libpurple-${VERSION}p0
d78 2
a79 1
AUTOCONF_VERSION= 2.61
@


1.54
log
@update to 2.6.3

from Brad (maintainer)
@
text
@d13 1
a13 1
FULLPKGNAME-libpurple= libpurple-${VERSION}
@


1.53
log
@tighten LIB_DEPENDS pkgspec for startup-notification (execinfo,
a WANTLIB for pidgin, was only pulled in with the last update).
Brad (maintainer) "ok I guess".
@
text
@d9 1
a9 1
VERSION=	2.6.2
d11 1
a11 2
PKGNAME=	pidgin-${VERSION}
PKGNAME-main=	pidgin-${VERSION}p0
@


1.52
log
@update to pidgin 2.6.2

from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/08/20 10:43:13 sthen Exp $
d12 1
a12 1
PKGNAME-main=	pidgin-${VERSION}
d59 1
a59 1
			startup-notification-1::devel/startup-notification \
@


1.51
log
@SECURITY/crash fix update to 2.5.9, from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/08/20 10:41:33 sthen Exp $
d9 1
a9 1
VERSION=	2.5.9
d20 4
a23 3
		purple		4.7 \
		purple-client	4.7 \
		gnt		4.7
d36 1
a36 1
		gthread-2.0 iconv intl m ncurses pcre pthread xml2 z
d38 1
a38 1
WANTLIB-main=	ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext \
d40 4
a43 4
		execinfo expat fontconfig freetype gdk-x11-2.0 \
		gdk_pixbuf-2.0 gio-2.0 glitz gtk-x11-2.0 pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pixman-1 png pthread-stubs \
		stdc++ xcb xcb-atom xcb-aux xcb-event ${WANTLIB}
d47 1
a47 1
WANTLIB-finch=	X11 Xau Xdmcp panel pthread-stubs xcb ${WANTLIB}
d58 2
a59 1
LIB_DEPENDS-main=	startup-notification-1::devel/startup-notification \
a60 1
LIB_DEPENDS-finch=	purple:libpurple-${VERSION}:${BUILD_PKGPATH},-libpurple
d62 5
a66 1
LIB_DEPENDS-libpurple=	silc.>=7,silcclient.>=5::devel/silc-toolkit \
a68 1
RUN_DEPENDS-libpurple=	${MODGCONF2_RUN_DEPENDS}
d81 1
d83 1
d86 1
d92 1
a92 1
		 --disable-cap \
a111 2
# --disable-gstreamer is not sufficient
MAKE_FLAGS+=    GSTREAMER_CFLAGS= GSTREAMER_LIBS=
@


1.50
log
@sync WANTLIB following startup-notification change and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/08/10 06:33:43 kili Exp $
d9 1
a9 1
VERSION=	2.5.8
d11 3
a13 3
PKGNAME=	pidgin-${VERSION}p0
PKGNAME-main=	pidgin-${VERSION}p2
PKGNAME-finch=	finch-${VERSION}p2
@


1.49
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/07/20 14:27:05 naddy Exp $
d11 3
a13 3
PKGNAME=	pidgin-${VERSION}
PKGNAME-main=	pidgin-${VERSION}p1
PKGNAME-finch=	finch-${VERSION}p1
d37 1
a37 1
WANTLIB-main=	X11 Xau Xdmcp ICE SM Xcomposite Xcursor Xdamage Xext \
d39 4
a42 3
		expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
		gio-2.0 glitz gtk-x11-2.0 pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pixman-1 png pthread-stubs stdc++ xcb ${WANTLIB}
@


1.48
log
@* fix package specs in depends
* the audio flavor adds a library dependency to finch, so the finch
package can't be unflavored

ok Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2009/07/12 20:01:32 sthen Exp $
d12 2
a13 2
PKGNAME-main=	pidgin-${VERSION}p0
PKGNAME-finch=	finch-${VERSION}p0
d41 1
a41 1
		pangoft2-1.0 pixman-1 png stdc++ ${WANTLIB}
d45 1
a45 1
WANTLIB-finch=	X11 Xau Xdmcp panel ${WANTLIB}
@


1.47
log
@bugfix update to 2.5.8, mostly to fix problems introduced with the rushed
2.5.7 release forced out due to changes needed to keep connecting to Yahoo.
From Brad (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/06/23 22:47:23 sthen Exp $
d12 2
a13 2
PKGNAME-main=	pidgin-${VERSION}
FULLPKGNAME-finch=	finch-${VERSION}
d52 4
a55 4
BUILD_DEPENDS=		:dbus-python-*:x11/dbus-python
RUN_DEPENDS-main=	:dbus-python-*:x11/dbus-python \
			:py-gtk2-*:x11/py-gtk2 \
			:desktop-file-utils-*:devel/desktop-file-utils
d100 2
a101 2
LIB_DEPENDS-main+=	gstreamer-0.10:gstreamer-0.10.*:multimedia/gstreamer-0.10/core
LIB_DEPENDS-finch+=	gstreamer-0.10:gstreamer-0.10.*:multimedia/gstreamer-0.10/core
@


1.46
log
@update to 2.5.7; fixes yahoo. From Brad with a change to libpurple
LIB_DEPENDS from me to help pkg_add updates.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/06/17 02:08:35 sthen Exp $
d9 1
a9 1
VERSION=	2.5.7
@


1.46.2.1
log
@SECURITY/crash/bugfix update to 2.5.9

ok Brad jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/08/20 10:43:13 sthen Exp $
d9 1
a9 1
VERSION=	2.5.9
d13 1
a13 1
PKGNAME-finch=	finch-${VERSION}
@


1.45
log
@tidy the Makefile and add appropriate @@conflict markers so upgrades work.
from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/06/16 19:31:29 ajacoutot Exp $
d9 1
a9 2
DISTNAME=	pidgin-2.5.6
VERSION=	2.5.6
a10 1

d12 3
a14 3
PKGNAME-main=	pidgin-${VERSION}p5
FULLPKGNAME-finch=	finch-${VERSION}p1
FULLPKGNAME-libpurple= libpurple-${VERSION}p1
a15 1

d20 3
a22 3
		purple		4.6 \
		purple-client	4.6 \
		gnt		4.6
d57 2
a58 2
			purple::${BUILD_PKGPATH},-libpurple
LIB_DEPENDS-finch=	purple::${BUILD_PKGPATH},-libpurple
@


1.44
log
@Fix plists, run dependencies and libspec.
bad jasper!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/06/16 17:19:41 jasper Exp $
d14 3
a16 3
PKGNAME-main=	pidgin-${VERSION}p4
FULLPKGNAME-finch=	finch-${VERSION}p0
FULLPKGNAME-libpurple= libpurple-${VERSION}p0
d37 2
a38 2
WANTLIB+=      c dbus-1 dbus-glib-1 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB+=      gthread-2.0 iconv intl m ncurses pcre pthread xml2 z
d40 5
a44 6
WANTLIB-main+= ${WANTLIB}
WANTLIB-main+= X11 Xau Xdmcp ICE SM Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB-main+= Xi Xinerama Xrandr Xrender Xss atk-1.0 cairo expat
WANTLIB-main+= fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glitz
WANTLIB-main+= gtk-x11-2.0 pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1
WANTLIB-main+= png stdc++
d46 1
a46 1
WANTLIB-libpurple=${WANTLIB} crypto ssl
d48 1
a48 1
WANTLIB-finch= ${WANTLIB} X11 Xau Xdmcp panel
d71 1
a75 2

SEPARATE_BUILD= simple
@


1.43
log
@- split pidgin into -main, -finch and -libpurple.
- add a patch that fixing linking with libpurple

this allows the use of libpurple by other IM clients, without the need of having pidgin installed.

some initial input from brad (MAINTAINER), timed out generously on the diff
feedback from ajacoutot@@ and sthen@@ , thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2009/06/15 21:41:27 ajacoutot Exp $
d14 3
a16 3
PKGNAME-main=	pidgin-${VERSION}p3
FULLPKGNAME-finch=	finch-${VERSION}
FULLPKGNAME-libpurple= libpurple-${VERSION}
d57 1
a57 1
RUN_DEPENDS-main+=	:dbus-python-*:x11/dbus-python \
d62 2
a63 1
LIB_DEPENDS-finch=	purple::${BUILD_PKGPATH}
d67 1
@


1.42
log
@Unbreak packaging (the way they install schemas files is weird).
Noticed by kurt@@

"please go and commit the fix" kili@@ in a hurry to test upgrade paths ;)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/06/11 18:27:02 ajacoutot Exp $
d5 3
a7 1
COMMENT=	multi-protocol instant messaging client
d10 7
a16 1
PKGNAME=	${DISTNAME}p2
d18 1
d36 14
a49 6
WANTLIB=	ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
		Xext Xfixes Xi Xinerama Xrandr Xrender Xss atk-1.0 \
		c cairo crypto dbus-1 expat fontconfig freetype \
		gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 \
		gthread-2.0 m ncurses panel pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre pixman-1 png pthread ssl stdc++ z
d56 10
a65 11
BUILD_DEPENDS=	:dbus-python-*:x11/dbus-python
RUN_DEPENDS+=	:dbus-python-*:x11/dbus-python \
		:py-gtk2-*:x11/py-gtk2 \
		:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS+=	gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2 \
		startup-notification-1::devel/startup-notification \
		silc.>=7,silcclient.>=5::devel/silc-toolkit \
		meanwhile::net/meanwhile \
		gadu.>=4::net/libgadu \
		xml2::textproc/libxml \
		dbus-glib-1::x11/dbus-glib
d67 2
a68 2
MODGCONF2_SCHEMAS_DIR= pidgin
MODGCONF2_LIBDEP= No
d74 2
a75 1
SEPARATE_BUILD=	simple
d89 2
d97 2
a98 2
# XXX prevent a fatal error at install phase
CONFIGURE_ARGS+= --disable-schemas-install
d100 1
a100 2
FLAVORS=	audio debug gtkspell
FLAVOR?=	
d103 2
a104 1
LIB_DEPENDS+=		gstreamer-0.10:gstreamer-0.10.*:multimedia/gstreamer-0.10/core
d111 5
a115 4
.if ${FLAVOR:L:Mdebug}
CFLAGS+=	-O0
CONFIGURE_ARGS+=--enable-debug --disable-mcheck
INSTALL_STRIP=
d118 4
a121 5
.if ${FLAVOR:L:Mgtkspell}
LIB_DEPENDS+=	gtkspell::textproc/gtkspell
WANTLIB+=	enchant
.else
CONFIGURE_ARGS+=--disable-gtkspell
@


1.41
log
@Bump after recent gconf2 MODULE change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2009/06/08 16:58:15 ajacoutot Exp $
d77 3
@


1.40
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/06/07 06:03:43 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
@


1.39
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/05/21 15:07:37 steven Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
@


1.38
log
@update to 2.5.6.  includes some security related fixes.

from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2009/03/05 06:23:04 steven Exp $
d8 1
d36 2
a37 1
		lang/python
d39 2
a40 4
BUILD_DEPENDS=	:gconf2-*:devel/gconf2 \
		:dbus-python-*:x11/dbus-python
RUN_DEPENDS+=	:gconf2-*:devel/gconf2 \
		:dbus-python-*:x11/dbus-python \
d51 3
d61 1
a61 2
CONFIGURE_ARGS+= --with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/pidgin \
		 --disable-avahi \
a70 1
		 --disable-schemas-install \
@


1.37
log
@- use python MODULE instead of hardcoding python path

ok sthen@@ steven@@ Brad (maintainer)
@
text
@d7 1
a7 2
DISTNAME=	pidgin-2.5.5
PKGNAME=	${DISTNAME}p0
d11 5
a15 5
SHARED_LIBS+=	jabber		0.0
SHARED_LIBS+=	oscar		0.0
SHARED_LIBS+=	purple		4.5
SHARED_LIBS+=	purple-client	4.5
SHARED_LIBS+=	gnt		4.5
d26 6
a31 6
WANTLIB=		ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
			Xext Xfixes Xi Xinerama Xrandr Xrender Xss atk-1.0 \
			c cairo crypto dbus-1 expat fontconfig freetype \
			gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 \
			gthread-2.0 m ncurses panel pango-1.0 pangocairo-1.0 \
			pangoft2-1.0 pcre pixman-1 png pthread ssl stdc++ z
d72 2
a73 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.36
log
@update to 2.5.5

from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/01/14 10:34:21 sthen Exp $
d8 1
d34 3
a36 1
MODULES=	devel/gettext textproc/intltool
a51 4
PYTHON=		${LOCALBASE}/bin/python2.5

SUBST_VARS=	PYTHON

d71 1
a71 1
		 --with-python=${PYTHON}
@


1.35
log
@fix a memory leak in the SILC protocol, from upstream repository
via Brad (maintainer).
@
text
@d7 1
a7 2
DISTNAME=	pidgin-2.5.4
PKGNAME=	${DISTNAME}p0
d13 3
a15 3
SHARED_LIBS+=	purple		4.4
SHARED_LIBS+=	purple-client	4.4
SHARED_LIBS+=	gnt		4.4
@


1.35.2.1
log
@SECURITY FIX

Resolves security issues and fixes yahoo

ok brad robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/02/12 03:07:59 sthen Exp $
d7 2
a8 1
DISTNAME=	pidgin-2.5.8
d14 3
a16 3
SHARED_LIBS+=	purple		4.5
SHARED_LIBS+=	purple-client	4.5
SHARED_LIBS+=	gnt		4.5
d75 1
a75 2
		LDFLAGS="-L${LOCALBASE}/lib" \
		ac_cv_lib_db_dbopen=no
@


1.34
log
@maintenance update to 2.5.4 from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2008/12/27 20:48:00 steven Exp $
d8 1
@


1.33
log
@update to 2.5.3

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2008/10/21 21:40:39 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	pidgin-2.5.3
d9 1
d13 3
a15 3
SHARED_LIBS+=	purple		4.3
SHARED_LIBS+=	purple-client	4.3
SHARED_LIBS+=	gnt		4.3
a32 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=pidgin/}

d62 1
@


1.32
log
@Update to Pidgin 2.5.2.

Tested by a number of users.
@
text
@d7 1
a7 1
DISTNAME=	pidgin-2.5.2
d12 3
a14 3
SHARED_LIBS+=	purple		4.2
SHARED_LIBS+=	purple-client	4.2
SHARED_LIBS+=	gnt		4.2
d28 2
a29 2
			glib-2.0 glitz gmodule-2.0 gobject-2.0 gthread-2.0 \
			m ncurses panel pango-1.0 pangocairo-1.0 \
d46 1
a46 1
		gadu::net/libgadu \
d97 1
a97 1
WANTLIB+=	aspell
@


1.31
log
@- revert previous: p5-XML-Parser buid_depends is already provided by the
intltool MODULE

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/10/18 00:38:54 brad Exp $
d7 1
a7 2
DISTNAME=	pidgin-2.5.1
PKGNAME=	${DISTNAME}p0
d12 3
a14 3
SHARED_LIBS+=	purple		4.1
SHARED_LIBS+=	purple-client	4.1
SHARED_LIBS+=	gnt		4.1
@


1.30
log
@Add missing build dependency for p5-XML-Parser.

Issue reported by pedro@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2008/09/24 07:13:43 sturm Exp $
d38 1
a38 2
		:dbus-python-*:x11/dbus-python \
		:p5-XML-Parser-*:textproc/p5-XML-Parser
@


1.29
log
@no python, no build
no PKGNAME bump needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2008/09/17 13:54:54 ajacoutot Exp $
d8 1
d38 4
a41 2
		:dbus-python-*:x11/dbus-python
RUN_DEPENDS+=	:dbus-python-*:x11/dbus-python \
d43 1
a43 2
		:desktop-file-utils-*:devel/desktop-file-utils \
		:gconf2-*:devel/gconf2
@


1.28
log
@- TRUEPREFIX and LOCALBASE are already part of the default SUBST_VARS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2008/09/13 22:04:40 brad Exp $
d36 2
a37 1
BUILD_DEPENDS=	:gconf2-*:devel/gconf2
@


1.27
log
@Update to Pidgin 2.5.1.

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2008/08/21 05:59:01 brad Exp $
d51 1
a51 1
SUBST_VARS=	PYTHON TRUEPREFIX
@


1.26
log
@Update to Pidgin 2.5.0.

"no worse than before" ckuethe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/07/11 14:20:55 brad Exp $
d7 1
a7 6
DISTNAME=	pidgin-2.5.0
SHARED_LIBS +=	jabber		0.0
SHARED_LIBS +=	oscar		0.0
SHARED_LIBS +=	purple		4.0
SHARED_LIBS +=	purple-client	4.0
SHARED_LIBS +=	gnt		4.0
d10 6
d34 1
a34 1
MODULES=	devel/gettext lang/python textproc/intltool
d49 3
a51 1
SUBST_VARS=	MODPY_BIN TRUEPREFIX
d71 1
a71 1
		 --with-python=${MODPY_BIN}
@


1.25
log
@- Sync PLIST.
- Add a msnp14 FLAVOR to enable the experimental MSNP14 support.

ok sthen@@ bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/07/04 07:35:40 bernd Exp $
d7 6
a12 7
DISTNAME=	pidgin-2.4.3
PKGNAME=	${DISTNAME}p0
SHARED_LIBS += jabber               0.0      # .0.0
SHARED_LIBS += oscar                0.0      # .0.0
SHARED_LIBS += purple               3.2      # .4.2
SHARED_LIBS += purple-client        3.2      # .4.2
SHARED_LIBS += gnt                  3.1      # .0.0
d48 2
a68 1

d74 1
a74 1
FLAVORS=	audio debug gtkspell msnp14
d98 2
a99 5
.if ${FLAVOR:L:Mmsnp14}
CONFIGURE_ARGS+=--enable-msnp14
.endif

PYTHON_SCRIPTS=	purple-remote purple-url-handler
d101 5
a105 2
post-extract:
	cp -f ${FILESDIR}/ssl-openssl.c ${WRKSRC}/libpurple/plugins/ssl
d108 4
a111 8
	perl -pi -e 's,/bin/bash,/bin/sh,g' ${PREFIX}/bin/purple-send*
.for f in ${PYTHON_SCRIPTS}
	perl -pi -e 's#%python%#${MODPY_BIN}#g' ${PREFIX}/bin/${f}
.endfor
	${INSTALL_DATA_DIR} ${PREFIX}/share/dbus-1/services/
	sed -e "s,!!PREFIX!!,${TRUEPREFIX}," \
		< ${FILESDIR}/purple.service \
		> ${PREFIX}/share/dbus-1/services/purple.service
a113 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/pidgin/
@


1.24
log
@Update to pidgin-2.4.3. (ICQ works again)

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/06/08 14:08:36 ajacoutot Exp $
d8 1
d74 1
a74 1
FLAVORS=	audio debug gtkspell
d96 4
@


1.23
log
@- fix packaging by adding gconf2 to build+run_depends

noticed by Andreas Kahari and Alexander Pavlyutin on ports@@, thanks!
ok brad@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/06/05 10:24:14 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	pidgin-2.4.2
PKGNAME=	${DISTNAME}p0
@


1.22
log
@- update to pidgin-2.4.2; from brad@@ (MAINTAINER)
- install schemas files in the right place and add gconftool-2 goo
- use textproc/intltool MODULE
- purple.service: s/LOCALBASE/PREFIX/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/04/25 04:15:33 ckuethe Exp $
d8 1
d36 1
d39 2
a40 1
		:desktop-file-utils-*:devel/desktop-file-utils
@


1.21
log
@quit spamming channels with "Download Pidgin!" when silc exits.
ok brad@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/04/17 08:10:10 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	pidgin-2.4.1
PKGNAME=	${DISTNAME}p2
d10 3
a12 3
SHARED_LIBS += purple               3.1      # .4.1
SHARED_LIBS += purple-client        3.1      # .4.1
SHARED_LIBS += gnt                  3.0      # .0.0
d19 1
a19 1
# GPL
d29 1
a29 1
			pangoft2-1.0 pcre png pthread ssl stdc++ z
d33 1
a33 1
MODULES=	devel/gettext lang/python
a34 1
BUILD_DEPENDS+=	:p5-XML-Parser-*:textproc/p5-XML-Parser
d53 3
a55 1
CONFIGURE_ARGS+= --disable-gevolution \
d57 1
a63 2
		 --enable-openssl \
		 --enable-consoleui \
d106 1
a106 1
	sed -e "s,!!LOCALBASE!!,${LOCALBASE}," \
@


1.20
log
@- tweak the way the gtk-update-icon-cache goo is run

gtk-update-icon-cache is part of gtk+2: adding gtk+2 to run_depends just
to update the icon cache (which only gtk apps can use) is overkill to
say the least!
As from now, each time icons are installed under %D/share/icons, we try
to execute gtk-update-icon-cache and if it is not there, we just ignore
the error.
What it means is that if you have gtk+2 installed, then it'll run fine
and your apps will be able to use the cache. Otherwise, it will silently
fails which is fine since it means none of your apps would have been
able to take advantage of the cache anyway.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/04/12 08:19:28 steven Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
@


1.19
log
@tweak debug messages from openssl support

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/04/04 22:39:09 steven Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
@


1.18
log
@update to pidgin 2.4.1

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/03/24 08:23:22 steven Exp $
d8 1
@


1.17
log
@update to 2.4.0.

feedback/ok brad@@ (maintainer), tested/ok merdely@@ on similar diff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/12/15 21:13:00 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	pidgin-2.4.0
d10 2
a11 2
SHARED_LIBS += purple               3.0      # .4.0
SHARED_LIBS += purple-client        3.0      # .4.0
@


1.16
log
@- add update-desktop-database and gtk-update-icon-cache goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/12/09 10:56:31 steven Exp $
d7 1
a7 2
DISTNAME=	pidgin-2.3.1
PKGNAME=	${DISTNAME}p0
d10 3
a12 3
SHARED_LIBS += purple               2.1      # .3.1
SHARED_LIBS += purple-client        2.1      # .3.1
SHARED_LIBS += gnt                  2.0      # .0.0
@


1.15
log
@update to 2.3.1

with wantlib reordering by brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/11/29 13:58:53 okan Exp $
d8 1
d38 2
a39 1
		:py-gtk2-*:x11/py-gtk2
@


1.14
log
@create a place for plugin docs

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/11/28 08:48:32 steven Exp $
d7 1
a7 2
DISTNAME=	pidgin-2.3.0
PKGNAME=	${DISTNAME}p0
d10 2
a11 2
SHARED_LIBS += purple               2.0      # .3.0
SHARED_LIBS += purple-client        2.0      # .3.0
d24 6
a29 7
WANTLIB=		glib-2.0 ICE SM X11 Xcomposite Xext Xrender Xss \
			Xdamage pcre \
			atk-1.0 c crypto dbus-1 expat fontconfig freetype \
			gmodule-2.0 gobject-2.0 gthread-2.0 pango-1.0 \
			ssl pangocairo-1.0 cairo glitz png \
			pangoft2-1.0 z pthread m ncurses panel stdc++
WANTLIB += Xau Xcursor Xdmcp Xfixes Xi Xinerama Xrandr
@


1.13
log
@update to 2.3.0

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/10/27 16:57:20 steven Exp $
d8 1
d112 1
@


1.12
log
@security update to pidgin 2.2.2

fixes a NULL pointer dereference in parsing invalid HTML (CVE-2007-4999)

from brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/10/08 08:22:42 steven Exp $
d7 1
a7 1
DISTNAME=	pidgin-2.2.2
d10 3
a12 3
SHARED_LIBS += purple               1.0      # .1.0
SHARED_LIBS += purple-client        1.0      # .1.0
SHARED_LIBS += gnt                  1.0      # .0.0
@


1.11
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/10/01 22:03:29 merdely Exp $
d7 1
a7 2
DISTNAME=	pidgin-2.2.1
PKGNAME=	${DISTNAME}p0
d24 2
a25 1
WANTLIB=		glib-2.0 ICE SM X11 Xext Xrender Xss \
@


1.10
log
@Update to pidgin-2.2.1

From brad@@
"just commit it" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/09/01 20:11:21 kili Exp $
d8 1
@


1.9
log
@
Change Brads email address for now, so people can reach him instead of
getting bounces or 550s. Bump pkgnames. While here, remove quotes from
comments.

prompted by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/08/11 22:15:46 ckuethe Exp $
d7 6
a12 7
DISTNAME=	pidgin-2.0.1
PKGNAME=	${DISTNAME}p1
SHARED_LIBS +=	jabber               0.0      # .0.0
SHARED_LIBS +=	oscar                0.0      # .0.0
SHARED_LIBS +=	purple               0.0      # .0.0
SHARED_LIBS +=	purple-client        0.0      # .0.0
SHARED_LIBS +=	gnt                  0.0      # .0.0
d40 1
a40 1
		silc,silcclient::devel/silc-toolkit \
d52 1
a52 1
AUTOCONF_VERSION= 2.59
@


1.8
log
@Revert crash-prone update to pidgin 2.1.0 and silc-toolkit 1.1.2.
Discussed with brad, martynas and steven, ok pval
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/05/28 12:43:34 steven Exp $
d5 1
a5 1
COMMENT=	"multi-protocol instant messaging client"
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d18 1
a18 1
MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.7
log
@forgot to bump a few shared library versions.

"go ahead" brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/08/02 06:06:13 steven Exp $
d7 1
a7 1
DISTNAME=	pidgin-2.1.0
d9 5
a13 5
SHARED_LIBS += jabber               0.0      # .0.0
SHARED_LIBS += oscar                0.0      # .0.0
SHARED_LIBS += purple               1.0      # .1.0
SHARED_LIBS += purple-client        1.0      # .1.0
SHARED_LIBS += gnt                  1.0      # .0.0
d41 1
a41 1
		silc.>=7,silcclient.>=5::devel/silc-toolkit \
d53 1
a53 1
AUTOCONF_VERSION= 2.61
@


1.6
log
@update to pidgin 2.1.0

"looks good" brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/05/28 12:43:34 steven Exp $
d8 6
a13 5
SHARED_LIBS +=	jabber               0.0      # .0.0
SHARED_LIBS +=	oscar                0.0      # .0.0
SHARED_LIBS +=	purple               0.0      # .0.0
SHARED_LIBS +=	purple-client        0.0      # .0.0
SHARED_LIBS +=	gnt                  0.0      # .0.0
@


1.5
log
@maintenance update to pidgin 2.0.1

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/05/26 19:56:10 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	pidgin-2.0.1
d40 1
a40 1
		silc,silcclient::devel/silc-toolkit \
d52 1
a52 1
AUTOCONF_VERSION= 2.59
@


1.4
log
@- respect CFLAGS

"sounds ok" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/05/16 13:08:15 steven Exp $
d7 1
a7 2
DISTNAME=	pidgin-2.0.0
PKGNAME=	${DISTNAME}p2
d52 1
a52 1
AUTOCONF_VERSION= 2.61
@


1.3
log
@fix a crash in the purple_status_get_type function, seen in various
circumstances.

patches taken from pidgin mtn

no objections from alek and brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/05/15 10:07:26 steven Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
d68 2
@


1.2
log
@shorten COMMENT
DESCR: s/gaim/pidgin/, describe all flavors
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/05/12 15:19:35 alek Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d81 2
a82 3
CFLAGS=		-O0
CONFIGURE_ARGS+=--enable-debug

@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2007/03/25 10:04:17 alek Exp $
d5 1
a5 1
COMMENT=	"Gtk AIM, ICQ, IRC, Jabber, MSN, Yahoo, SILC and Zephyr client"
d8 1
@


1.1.1.1
log
@Import pidgin-2.0.0

This is a new major release of GAIM with a new name to make AOL happy.

ok brad
@
text
@@
