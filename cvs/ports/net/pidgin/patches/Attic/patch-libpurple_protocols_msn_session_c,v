head	1.1;
access;
symbols
	OPENBSD_5_5:1.1.0.4
	OPENBSD_5_6:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2015.01.09.04.43.44;	author brad;	state dead;
branches
	1.1.2.1
	1.1.4.1;
next	;
commitid	HsMnnSqbG9RoLbYk;

1.1.2.1
date	2015.01.09.04.43.44;	author brad;	state Exp;
branches;
next	;
commitid	HsMnnSqbG9RoLbYk;

1.1.4.1
date	2015.01.09.04.44.11;	author brad;	state Exp;
branches;
next	;
commitid	oLChh3LirC6A3wPd;


desc
@@


1.1
log
@file patch-libpurple_protocols_msn_session_c was initially added on branch OPENBSD_5_6.
@
text
@@


1.1.4.1
log
@Fix a crash with the ssl_openssl_write() function. It turns out that
openssl_data can be NULL. The current code does not handle this correctly
which results in dereferencing a NULL pointer via openssl_data->ssl.

Some fixes from 2.10.10 and 2.10.11..

3edc70bf4e09
Emit sending/sent signals when doing /me irc command. Fixes #15750
ee51d84aacbf
msn: Hard fail if buddy list is unavailable.
f6a91e6c77a4
msn: Update Application ID to re-enable buddy list.
@
text
@a0 20
$OpenBSD$

ee51d84aacbf
msn: Hard fail if buddy list is unavailable.

--- libpurple/protocols/msn/session.c.orig	Thu Jan  8 20:48:48 2015
+++ libpurple/protocols/msn/session.c	Thu Jan  8 20:49:38 2015
@@@@ -408,9 +408,9 @@@@ msn_session_set_error(MsnSession *session, MsnErrorTyp
 			break;
 		case MSN_ERROR_BAD_BLIST:
 			reason = PURPLE_CONNECTION_ERROR_NETWORK_ERROR;
-			msg = g_strdup(_("Your MSN buddy list is temporarily "
-							 "unavailable. Please wait and try "
-							 "again."));
+			msg = g_strdup_printf(_("Your MSN buddy list is temporarily "
+			                        "unavailable: %s"),
+			                      (info == NULL) ? _("Unknorn error") : info);
 			break;
 		default:
 			reason = PURPLE_CONNECTION_ERROR_NETWORK_ERROR;
@


1.1.2.1
log
@Fix a crash with the ssl_openssl_write() function. It turns out that
openssl_data can be NULL. The current code does not handle this correctly
which results in dereferencing a NULL pointer via openssl_data->ssl.

Some fixes from 2.10.10 and 2.10.11..

3edc70bf4e09
Emit sending/sent signals when doing /me irc command. Fixes #15750
ee51d84aacbf
msn: Hard fail if buddy list is unavailable.
f6a91e6c77a4
msn: Update Application ID to re-enable buddy list.
@
text
@a0 20
$OpenBSD$

ee51d84aacbf
msn: Hard fail if buddy list is unavailable.

--- libpurple/protocols/msn/session.c.orig	Thu Jan  8 20:48:48 2015
+++ libpurple/protocols/msn/session.c	Thu Jan  8 20:49:38 2015
@@@@ -408,9 +408,9 @@@@ msn_session_set_error(MsnSession *session, MsnErrorTyp
 			break;
 		case MSN_ERROR_BAD_BLIST:
 			reason = PURPLE_CONNECTION_ERROR_NETWORK_ERROR;
-			msg = g_strdup(_("Your MSN buddy list is temporarily "
-							 "unavailable. Please wait and try "
-							 "again."));
+			msg = g_strdup_printf(_("Your MSN buddy list is temporarily "
+			                        "unavailable: %s"),
+			                      (info == NULL) ? _("Unknorn error") : info);
 			break;
 		default:
 			reason = PURPLE_CONNECTION_ERROR_NETWORK_ERROR;
@

