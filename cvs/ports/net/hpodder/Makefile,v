head	1.37;
access;
symbols
	OPENBSD_6_0:1.35.0.4
	OPENBSD_6_0_BASE:1.35
	OPENBSD_5_9:1.35.0.2
	OPENBSD_5_9_BASE:1.35
	OPENBSD_5_8:1.34.0.6
	OPENBSD_5_8_BASE:1.34
	OPENBSD_5_7:1.34.0.2
	OPENBSD_5_7_BASE:1.34
	OPENBSD_5_6:1.28.0.4
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.28.0.2
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.24.0.2
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.21.0.2
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.2
	OPENBSD_5_0:1.15.0.2
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	dcoppa_20100428:1.1.1.1
	dcoppa:1.1.1;
locks; strict;
comment	@# @;


1.37
date	2016.09.23.09.16.56;	author sthen;	state Exp;
branches;
next	1.36;
commitid	XLnI6AbHAmyVU5mO;

1.36
date	2016.09.13.16.12.14;	author naddy;	state Exp;
branches;
next	1.35;
commitid	LsYahYRn03mp1yEc;

1.35
date	2015.09.25.20.04.03;	author kili;	state Exp;
branches;
next	1.34;
commitid	9BI8QcpMlkt7CiMt;

1.34
date	2015.02.18.11.08.35;	author dcoppa;	state Exp;
branches;
next	1.33;
commitid	5xCcVr0o6rzCEvtG;

1.33
date	2015.02.04.15.41.14;	author dcoppa;	state Exp;
branches;
next	1.32;
commitid	b0PzzKur3hpMyU6a;

1.32
date	2015.02.04.13.39.51;	author dcoppa;	state Exp;
branches;
next	1.31;
commitid	6Ge9rjrfhlRkOQ3R;

1.31
date	2014.10.30.15.08.22;	author dcoppa;	state Exp;
branches;
next	1.30;
commitid	7OWcfg0yXavqPpMa;

1.30
date	2014.10.30.09.40.39;	author dcoppa;	state Exp;
branches;
next	1.29;
commitid	dRsu8d5IG4sTdkOF;

1.29
date	2014.09.08.11.24.42;	author dcoppa;	state Exp;
branches;
next	1.28;
commitid	voSiA588nk3BItMJ;

1.28
date	2013.08.12.08.03.18;	author dcoppa;	state Exp;
branches;
next	1.27;

1.27
date	2013.07.19.07.03.42;	author kili;	state Exp;
branches;
next	1.26;

1.26
date	2013.06.25.07.28.54;	author dcoppa;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.11.11.35.47;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2012.10.11.14.06.34;	author dcoppa;	state Exp;
branches;
next	1.23;

1.23
date	2012.09.18.17.12.56;	author dcoppa;	state Exp;
branches;
next	1.22;

1.22
date	2012.09.02.18.12.56;	author kili;	state Exp;
branches;
next	1.21;

1.21
date	2012.04.23.17.15.18;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2012.03.20.13.33.54;	author dcoppa;	state Exp;
branches;
next	1.19;

1.19
date	2011.12.27.21.24.23;	author kili;	state Exp;
branches;
next	1.18;

1.18
date	2011.12.05.14.58.59;	author dcoppa;	state Exp;
branches;
next	1.17;

1.17
date	2011.09.23.12.11.01;	author dcoppa;	state Exp;
branches;
next	1.16;

1.16
date	2011.09.16.11.13.38;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2011.06.30.21.36.37;	author kili;	state Exp;
branches;
next	1.14;

1.14
date	2011.05.26.08.24.59;	author dcoppa;	state Exp;
branches;
next	1.13;

1.13
date	2011.04.23.14.32.51;	author kili;	state Exp;
branches;
next	1.12;

1.12
date	2011.04.11.14.51.40;	author kili;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.24.09.05.54;	author dcoppa;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.19.22.31.33;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.10.18.18.36.48;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.09.24.10.09.42;	author dcoppa;	state Exp;
branches;
next	1.7;

1.7
date	2010.07.17.13.59.44;	author kili;	state Exp;
branches;
next	1.6;

1.6
date	2010.07.12.22.07.38;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2010.06.30.15.41.02;	author kili;	state Exp;
branches;
next	1.4;

1.4
date	2010.06.15.17.59.24;	author kili;	state Exp;
branches;
next	1.3;

1.3
date	2010.05.07.11.00.34;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2010.05.06.20.05.24;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2010.04.28.16.21.40;	author dcoppa;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.04.28.16.21.40;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.37
log
@Cope with moving sqlite3 back to ports.
@
text
@# $OpenBSD: Makefile,v 1.36 2016/09/13 16:12:14 naddy Exp $

COMMENT =		command line podcast aggregator

DISTNAME =		hpodder-1.1.6
REVISION =		14
CATEGORIES =		net
HOMEPAGE =		https://github.com/jgoerzen/hpodder/wiki

MAINTAINER =		David Coppa <dcoppa@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =		c iconv m pthread sqlite3 util

MODULES =		lang/ghc

MODGHC_BUILD =		cabal hackage nort

LIB_DEPENDS =		converters/libiconv \
			databases/sqlite3

BUILD_DEPENDS =		devel/hs-ConfigFile \
			devel/hs-mtl \
			devel/hs-network-uri \
			textproc/hs-HaXml>=1.22 \
			databases/hs-HDBC-sqlite3>=1.1.0
RUN_DEPENDS =		net/curl>=7.15.5 \
			audio/py-mutagen>=1.9

post-install:
	${INSTALL_MAN} ${FILESDIR}/hpodder.1 ${PREFIX}/man/man1

.include <bsd.port.mk>
@


1.36
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2015/09/25 20:04:03 kili Exp $
d6 1
a6 1
REVISION =		13
d21 2
a22 1
LIB_DEPENDS =		converters/libiconv
@


1.35
log
@Enable UnconceivableExtensions^WFlexibleContexts to let it build with ghc-7.10.

Tested (thanks!) and ok, dcoppa@@ (maintainer).

This also needs a fix of devel/hs-ConfigFile which David is going to commit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2015/02/18 11:08:35 dcoppa Exp $
d15 1
a15 1
WANTLIB =		c m pthread sqlite3 util
d17 1
a17 1
MODULES =		lang/ghc converters/libiconv
d20 2
@


1.34
log
@
zap useless lines
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/02/04 15:41:14 dcoppa Exp $
d6 1
a6 1
REVISION =		12
d23 1
@


1.33
log
@
Fix typos in the manual page
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/02/04 13:39:51 dcoppa Exp $
d6 1
a6 1
REVISION =		11
@


1.32
log
@
- Fix HOMEPAGE

- Do not subscribe to sample podcasts by default

- Use full command line switches for curl, for clarity purposes
  (stolen from https://github.com/ypid/hpodder/)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2014/10/30 15:08:22 dcoppa Exp $
d6 1
a6 1
REVISION =		10
@


1.31
log
@
Fix version number in the User-Agent string
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2014/10/30 09:40:39 dcoppa Exp $
d6 1
a6 1
REVISION =		9
d8 1
a8 1
HOMEPAGE =		http://wiki.github.com/jgoerzen/hpodder/
@


1.30
log
@
Some hs updates:

hs-ConfigFile:	1.1.2 -> 1.1.4
hs-HaXml:	1.24.1 -> 1.25
hs-MissingH:	1.2.1.0 -> 1.3.0.1
hs-polyparse:	1.9 -> 1.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/09/08 11:24:42 dcoppa Exp $
d6 1
a6 1
REVISION =		8
@


1.29
log
@
Bump following hs-HDBC's update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/08/12 08:03:18 dcoppa Exp $
d6 1
a6 1
REVISION =		7
@


1.28
log
@Unbreak build with ghc-7.6.

Patch stolen from the gentoo-haskell repository @@ github.

OK kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/07/19 07:03:42 kili Exp $
d6 1
a6 1
REVISION =		6
@


1.27
log
@Broken with ghc-7.6.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.26 2013/06/25 07:28:54 dcoppa Exp $

BROKEN =		fails to build with ghc-7.6
d6 1
a6 1
REVISION =		5
@


1.26
log
@Bunch of haskell updates:

MissingH-1.1.1.0 -> MissingH-1.2.0.0
hslogger-1.1.5 -> hslogger-1.2.1
HaXml-1.23.3 -> HaXml-1.24
libxml-sax-0.7.3 -> libxml-sax-0.7.4
polyparse-1.7 -> polyparse-1.9

OK kili@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.25 2013/03/11 11:35:47 espie Exp $
@


1.25
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/10/11 14:06:34 dcoppa Exp $
d6 1
a6 1
REVISION =		4
d23 1
a23 1
			textproc/hs-HaXml>=1.22,<1.24 \
@


1.24
log
@Fix fallout of haskell ports, now that devel/gmp is no more a
dependency for ghc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/09/18 17:12:56 dcoppa Exp $
a13 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.23
log
@Unbreak build with HaXml>=1.22
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/09/02 18:12:56 kili Exp $
d6 1
a6 1
REVISION =		3
d18 1
a18 1
WANTLIB =		c gmp m pthread sqlite3 util
a27 1
LIB_DEPENDS =		devel/gmp
@


1.22
log
@Mark as broken for now. It doesn't build with ghc-7.4.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.21 2012/04/23 17:15:18 espie Exp $

BROKEN =		Does not build with new ghc and HaXml
d6 1
a6 1
REVISION =		2
d26 1
a26 1
			textproc/hs-HaXml>=1.20,<1.21 \
@


1.21
log
@first pass at handling sqlite3 move
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.20 2012/03/20 13:33:54 dcoppa Exp $
@


1.20
log
@Fix the "Invalid or incomplete multibyte or wide character" error
caused by some feeds: set binary mode on the handle before hGetContents
(upstream git commit bd08d07cc29893177efe8ef0e8be368657d56bbf)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/12/27 21:24:23 kili Exp $
d6 1
a6 1
REVISION =		1
d28 1
a28 2
LIB_DEPENDS =		databases/sqlite3 \
			devel/gmp
@


1.19
log
@Bump to enforce updates.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/12/05 14:58:59 dcoppa Exp $
d6 1
a6 1
REVISION =		0
@


1.18
log
@Bugfixing update to hpodder-1.1.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/09/23 12:11:01 dcoppa Exp $
d6 1
@


1.17
log
@Fix stripping of unicode byte order mark (maybe something has changed
in GHC 7). Upstream git commit c1afaea3af917f857ee5ff5cbc0c963f96acc98f
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/09/16 11:13:38 espie Exp $
d5 1
a5 2
DISTNAME =		hpodder-1.1.5
REVISION =		10
d25 2
a26 2
			textproc/hs-HaXml>=1.20 \
			databases/hs-HDBC-sqlite3
@


1.16
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/06/30 21:36:37 kili Exp $
d6 1
a6 1
REVISION =		9
d8 1
a8 1
HOMEPAGE =		https://github.com/jgoerzen/hpodder/wiki
@


1.15
log
@Bump after ghc update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/05/26 08:24:59 dcoppa Exp $
d6 1
a6 1
REVISION =		8
@


1.14
log
@Make code compatible with HaXml 1.20.*

Various fixes.

Zap USE_GROFF.

Ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/04/23 14:32:51 kili Exp $
d6 1
a6 1
REVISION =		7
@


1.13
log
@Depend on and use mtl-2 from devel/hs-mtl.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/04/11 14:51:40 kili Exp $
d6 1
a6 1
REVISION =		6
d8 1
a8 1
HOMEPAGE =		http://software.complete.org/hpodder
d21 1
a21 1
USE_GROFF =		Yes
d26 1
a26 1
			hs-HaXml->=1.13.2<1.19:textproc/hs-HaXml \
@


1.12
log
@Bump after ghc update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/11/24 09:05:54 dcoppa Exp $
d6 1
a6 1
REVISION =		5
d25 1
@


1.11
log
@rss feed fix from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/19 22:31:33 espie Exp $
d6 1
a6 1
REVISION =		4
@


1.10
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/10/18 18:36:48 espie Exp $
d6 1
a6 1
REVISION =		3
@


1.9
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/09/24 10:09:42 dcoppa Exp $
d21 1
a21 1
USE_GROFF =	Yes
d24 7
a30 7
BUILD_DEPENDS =		::devel/hs-ConfigFile \
			:hs-HaXml->=1.13.2<1.19:textproc/hs-HaXml \
			::databases/hs-HDBC-sqlite3
LIB_DEPENDS =		::databases/sqlite3 \
			::devel/gmp
RUN_DEPENDS =		:curl->=7.15.5:net/curl \
			:py-mutagen->=1.9:audio/py-mutagen
@


1.8
log
@Cleanups for haskell ports.

"Looks fine" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/07/17 13:59:44 kili Exp $
d21 1
@


1.7
log
@New WANTLIB/LIB_DEPENDS style.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/07/12 22:07:38 sthen Exp $
d3 1
a3 1
COMMENT =		podcast aggregator written in Haskell
d6 1
a6 1
REVISION =		2
@


1.6
log
@use REVISION, checked with before/after make show=PKGNAMES (plus some
extra-careful checking where there are complicated PSEUDO_FLAVORS).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/06/30 15:41:02 kili Exp $
d18 1
a18 1
WANTLIB =		c m pthread util
d26 2
a27 2
LIB_DEPENDS =		sqlite3::databases/sqlite3 \
			gmp::devel/gmp
@


1.5
log
@WANTLIB += pthread and bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/06/15 17:59:24 kili Exp $
d6 1
a6 1
PKGNAME =		${DISTNAME}p2
@


1.4
log
@Add gmp and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/05/07 11:00:34 dcoppa Exp $
d6 1
a6 1
PKGNAME =		${DISTNAME}p1
d18 1
a18 1
WANTLIB =		c m util
@


1.3
log
@s/files/\${FILESDIR}/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/05/06 20:05:24 kili Exp $
d6 1
a6 1
PKGNAME =		${DISTNAME}p0
d26 2
a27 1
LIB_DEPENDS =		sqlite3::databases/sqlite3
@


1.2
log
@Adjust WANTLIB and bump PKGNAME after the ghc change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/04/28 16:21:40 dcoppa Exp $
d31 1
a31 1
	${INSTALL_MAN} files/hpodder.1 ${PREFIX}/man/man1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d18 1
a18 1
WANTLIB =		c m pthread util
@


1.1.1.1
log
@Import hpodder, a podcast aggregator written in Haskell.

OK kili@@
@
text
@@
