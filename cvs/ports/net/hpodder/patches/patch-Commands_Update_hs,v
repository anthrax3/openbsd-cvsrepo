head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.10
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.8
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2014.12.19.09.27.46;	author dcoppa;	state Exp;
branches;
next	1.1;
commitid	A92TrQvQTokmjO7p;

1.1
date	2014.12.18.20.16.59;	author kili;	state Exp;
branches;
next	;
commitid	Emf6OTiCc0C29my2;


desc
@@


1.2
log
@
Fix comments
@
text
@$OpenBSD: patch-Commands_Update_hs,v 1.1 2014/12/18 20:16:59 kili Exp $

port to ghc-7.8

--- Commands/Update.hs.orig	Tue Nov  8 16:49:38 2011
+++ Commands/Update.hs	Thu Dec 18 20:58:44 2014
@@@@ -89,7 +89,7 @@@@ updateThePodcast gi pt meter dlentry dltok status resu
        case feed of
          Nothing ->                         -- some problem with the feed
            case status of 
-             Terminated sigINT -> return () -- Ctrl-C is not a tackable error
+             Terminated sigINT _ -> return () -- Ctrl-C is not a tackable error
              _ -> do curtime <- now
                      let newpc = considerDisable gi
                            (pc {lastattempt = Just curtime,
@@@@ -157,8 +157,8 @@@@ getFeed meter pc (result, status) dltok =
                                  " *** " ++ (show . castid $ pc) ++ 
                                  ": Failure parsing feed: " ++ x ++ "\n"
                                return Nothing
-         (Failure, Terminated sigINT) -> do w "\n   Ctrl-C hit; aborting!"
-                                            exitFailure
+         (Failure, Terminated sigINT _) -> do w "\n   Ctrl-C hit; aborting!"
+                                              exitFailure
          _ -> do writeMeterString stderr meter $
                   " *** " ++ (show . castid $ pc) ++ ": Failure downloading feed\n"
                  return Nothing
@


1.1
log
@Unbreak with ghc-7.8 / unix-2.7.0.0.
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
patch for ghc-6.8
@

