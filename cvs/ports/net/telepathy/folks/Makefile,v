head	1.92;
access;
symbols
	OPENBSD_6_1:1.85.0.2
	OPENBSD_6_1_BASE:1.85
	OPENBSD_6_0:1.82.0.2
	OPENBSD_6_0_BASE:1.82
	OPENBSD_5_9:1.80.0.2
	OPENBSD_5_9_BASE:1.80
	OPENBSD_5_8:1.79.0.4
	OPENBSD_5_8_BASE:1.79
	OPENBSD_5_7:1.76.0.2
	OPENBSD_5_7_BASE:1.76
	OPENBSD_5_6:1.72.0.2
	OPENBSD_5_6_BASE:1.72
	OPENBSD_5_5:1.63.0.2
	OPENBSD_5_5_BASE:1.63
	OPENBSD_5_4:1.58.0.2
	OPENBSD_5_4_BASE:1.58
	OPENBSD_5_3:1.48.0.2
	OPENBSD_5_3_BASE:1.48
	OPENBSD_5_2:1.37.0.2
	OPENBSD_5_2_BASE:1.37
	OPENBSD_5_1_BASE:1.27
	OPENBSD_5_1:1.27.0.2
	OPENBSD_5_0:1.9.0.2
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	jasper_20101025:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.92
date	2017.04.26.13.13.47;	author ajacoutot;	state Exp;
branches;
next	1.91;
commitid	spU9t66ZyKKRydEf;

1.91
date	2017.04.26.09.28.33;	author ajacoutot;	state Exp;
branches;
next	1.90;
commitid	lT52Zmx2N0VGZJbc;

1.90
date	2017.04.20.19.01.58;	author jasper;	state Exp;
branches;
next	1.89;
commitid	osQ7QtsYq78I1qXq;

1.89
date	2017.04.19.07.29.55;	author jasper;	state Exp;
branches;
next	1.88;
commitid	3EsksQbaIr8EToII;

1.88
date	2017.04.17.17.28.13;	author jasper;	state Exp;
branches;
next	1.87;
commitid	LPmyMJrmKgww9k6f;

1.87
date	2017.04.17.14.58.20;	author ajacoutot;	state Exp;
branches;
next	1.86;
commitid	w0zhsqWSKJ5Gnvgj;

1.86
date	2017.04.10.11.46.32;	author sthen;	state Exp;
branches;
next	1.85;
commitid	HY6VNZxjJWzKQFDV;

1.85
date	2017.02.19.14.43.49;	author ajacoutot;	state Exp;
branches;
next	1.84;
commitid	jyPxpI44E8W5VufM;

1.84
date	2016.10.31.11.48.38;	author ajacoutot;	state Exp;
branches;
next	1.83;
commitid	rf95aXKD3rrZZpCa;

1.83
date	2016.09.24.11.03.31;	author jasper;	state Exp;
branches;
next	1.82;
commitid	tHqd1nezg4iabebu;

1.82
date	2016.04.28.11.13.15;	author ajacoutot;	state Exp;
branches;
next	1.81;
commitid	MXI1DpaFM03YoPJr;

1.81
date	2016.04.25.18.41.42;	author ajacoutot;	state Exp;
branches;
next	1.80;
commitid	ukKSET0y112baBLT;

1.80
date	2015.11.28.12.48.27;	author jasper;	state Exp;
branches;
next	1.79;
commitid	uRysmqq8IHMSsvfC;

1.79
date	2015.05.29.09.26.12;	author jasper;	state Exp;
branches;
next	1.78;
commitid	BRl1yzt2uznGBgs4;

1.78
date	2015.04.04.13.03.30;	author jasper;	state Exp;
branches;
next	1.77;
commitid	CFT18taDruEBGCtQ;

1.77
date	2015.04.04.09.21.03;	author ajacoutot;	state Exp;
branches;
next	1.76;
commitid	kS3kwKZogsvzYmEY;

1.76
date	2015.01.22.16.03.57;	author jasper;	state Exp;
branches;
next	1.75;
commitid	FhjcO1IG0V3ssoem;

1.75
date	2014.09.15.08.21.51;	author jasper;	state Exp;
branches;
next	1.74;
commitid	ksioqmWCNzN55gMm;

1.74
date	2014.09.07.18.25.01;	author jasper;	state Exp;
branches;
next	1.73;
commitid	rhTHX48plpzDxEUA;

1.73
date	2014.08.14.07.15.52;	author jasper;	state Exp;
branches;
next	1.72;
commitid	VwFl0urfwgbY70bR;

1.72
date	2014.07.09.18.27.57;	author jasper;	state Exp;
branches;
next	1.71;
commitid	TCsIbRZMZ8XOHdcD;

1.71
date	2014.06.24.11.45.48;	author jasper;	state Exp;
branches;
next	1.70;
commitid	O31GULLcSsCeBArF;

1.70
date	2014.06.23.09.56.21;	author jasper;	state Exp;
branches;
next	1.69;
commitid	vhVi9PV6y4F3h0h4;

1.69
date	2014.04.21.13.41.33;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2014.04.02.09.36.12;	author jasper;	state Exp;
branches;
next	1.67;

1.67
date	2014.04.01.18.06.30;	author jasper;	state Exp;
branches;
next	1.66;

1.66
date	2014.04.01.15.31.46;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2014.03.28.07.06.33;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2014.03.09.21.52.16;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2013.12.08.10.43.21;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2013.11.15.08.26.59;	author jasper;	state Exp;
branches;
next	1.61;

1.61
date	2013.10.26.10.45.05;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2013.09.27.12.27.55;	author jasper;	state Exp;
branches;
next	1.59;

1.59
date	2013.09.12.06.52.23;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2013.06.20.06.54.37;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2013.06.17.19.28.36;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2013.06.10.09.37.27;	author jasper;	state Exp;
branches;
next	1.55;

1.55
date	2013.04.16.13.17.01;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2013.03.30.09.25.32;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2013.03.29.16.53.22;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2013.03.29.16.48.27;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2013.03.28.21.32.03;	author jasper;	state Exp;
branches;
next	1.50;

1.50
date	2013.03.28.19.57.46;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2013.03.11.11.35.57;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2012.11.09.16.15.15;	author sthen;	state Exp;
branches;
next	1.47;

1.47
date	2012.10.25.14.22.03;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2012.10.16.11.56.11;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2012.10.15.13.26.25;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2012.10.04.09.14.24;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2012.10.03.15.57.18;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2012.10.03.07.02.18;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2012.10.01.15.01.14;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2012.09.29.10.38.11;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2012.08.29.17.50.55;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2012.08.29.14.11.55;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2012.04.18.17.22.40;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2012.04.17.08.03.31;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2012.04.03.09.37.37;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2012.03.29.07.12.00;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2012.03.08.14.18.27;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2012.03.05.12.12.49;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2012.02.26.15.08.07;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2012.02.23.08.10.01;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2012.02.23.07.33.08;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2012.02.18.23.05.40;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2011.12.14.08.25.22;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2011.11.11.17.07.46;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2011.11.11.16.56.14;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2011.10.29.08.12.32;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2011.10.18.18.05.46;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2011.10.18.08.56.57;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2011.10.13.16.39.03;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2011.09.28.15.23.22;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2011.09.28.09.51.36;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2011.09.27.06.28.37;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2011.09.25.17.55.16;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2011.09.21.13.32.40;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2011.09.20.21.04.25;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2011.09.20.20.51.52;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2011.09.16.20.00.46;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.16.11.13.40;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2011.09.14.12.22.58;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.12.12.07.26;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.04.26.19.04.26;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.04.26.13.09.07;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2011.04.05.19.46.27;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2011.04.05.18.54.06;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.03.09.06.23.35;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2011.01.17.16.13.02;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2010.11.19.22.31.38;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2010.10.26.08.42.35;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.25.12.40.34;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.10.25.12.40.34;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.92
log
@Update to a newer git snapshot which includes the patch.
@
text
@# $OpenBSD: Makefile,v 1.91 2017/04/26 09:28:33 ajacoutot Exp $

# XXX: PORTROACH set below to override the value from gnome.port.mk

COMMENT=		people aggregation library

GNOME_PROJECT=		folks
GNOME_VERSION=		0.11.3

# MODULE_VERSION in config.h
API_V=			43
REVISION=		4

SHARED_LIBS +=  folks                5.5      # 43.3
SHARED_LIBS +=  folks-dummy          0.0      # 43.3
SHARED_LIBS +=  folks-telepathy      5.2      # 43.3
SHARED_LIBS +=  folks-eds            1.2      # 43.3

SUBST_VARS=		API_V

HOMEPAGE=		https://wiki.gnome.org/Projects/Folks

WANTLIB += EGL GL ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm atk-1.0
WANTLIB += atk-bridge-2.0 atspi c cairo cairo-gobject camel-1.2
WANTLIB += db dbus-1 dbus-glib-1 drm ebackend-1.2 ebook-1.2 ebook-contacts-1.2
WANTLIB += edata-book-1.2 edataserver-1.2 enchant epoxy estdc++
WANTLIB += expat ffi fontconfig freetype gbm gck-1 gcr-base-3
WANTLIB += gcrypt gdk-3 gdk_pixbuf-2.0 gee-0.8 gio-2.0 glapi glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gpg-error graphite2 gstapp-1.0
WANTLIB += gstaudio-1.0 gstbase-1.0 gstfft-1.0 gstpbutils-1.0
WANTLIB += gstreamer-1.0 gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3
WANTLIB += harfbuzz harfbuzz-icu hyphen iconv icudata icui18n
WANTLIB += icuuc intl javascriptcoregtk-4.0 jpeg json-glib-1.0
WANTLIB += lzma m ncurses notify nspr4 nss3 nssutil3 orc-0.4 p11-kit
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += plc4 plds4 png pthread pthread-stubs readline secret-1
WANTLIB += smime3 softokn3 soup-2.4 sqlite3 ssl3 telepathy-glib
WANTLIB += webkit2gtk-4.0 webp xcb xcb-dri2 xcb-glx xcb-render
WANTLIB += xcb-shm xcb-xfixes xml2 xslt z

MODULES=		devel/dconf \
			x11/gnome

LIB_DEPENDS=		databases/evolution-data-server \
			devel/libgee \
			net/telepathy/telepathy-glib

# needed at runtime by the telepathy backend (AccountManager)
RUN_DEPENDS=		net/telepathy/telepathy-mission-control

TEST_DEPENDS=		${FULLPKGNAME}:${BASE_PKGPATH}

MODGNOME_TOOLS +=	gobject-introspection vala
MODGNOME_CPPFLAGS +=	-L${X11BASE}/lib

# requires libofono (not ported)
CONFIGURE_ARGS += 	--disable-ofono-backend

# no Bluez stack on OpenBSD
CONFIGURE_ARGS +=	--disable-bluez-backend

# https://git.gnome.org/browse/folks/commit/Makefile.am?id=8ebe13c457660de380521874a006425083151741
CONFIGURE_ARGS += 	--disable-fatal-warnings

########################################
# XXX: Remove when updating
GH_PROJECT=		folks
GH_ACCOUNT=		gnome
GH_COMMIT=		2f8018ff090820f3eb56357dc5490e4c8fea86bb
EXTRACT_SUFX=		.tar.gz
MASTER_SITES=		https://github.com/${GH_ACCOUNT}/${GH_PROJECT}/archive/
AUTOCONF_VERSION=	2.69
AUTOMAKE_VERSION=	1.15
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/libtool

pre-configure:
	cd ${WRKSRC} && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		NOCONFIGURE=1 ./autogen.sh
########################################

post-install:
	rm ${PREFIX}/lib/folks/${API_V}/backends/*/*.{a,la}

.include <bsd.port.mk>

PORTROACH=	# empty
@


1.91
log
@Re-enable the modular tests. They can be build now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2017/04/20 19:01:58 jasper Exp $
d7 2
a8 7
# XXX: Remove when updating
GH_PROJECT=		folks
GH_ACCOUNT=		gnome
GH_COMMIT=		780d64a984fb014e0ee7b633a24a9c4fda1df21e
DISTNAME=		folks-0.11.3
#GNOME_PROJECT=		folks
#GNOME_VERSION=		0.11.3
d12 1
a12 1
REVISION=		3
d14 4
a17 4
SHARED_LIBS +=  folks-telepathy           5.2 # 43.0
SHARED_LIBS +=  folks                     5.5 # 43.0
SHARED_LIBS +=  folks-eds                 1.2 # 43.0
SHARED_LIBS +=  folks-dummy               0.0 # 43.0
d68 5
a72 2
MODULES +=		textproc/intltool
BUILD_DEPENDS +=	devel/gettext-tools
@


1.90
log
@add missing dep on intltool; spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2017/04/19 07:29:55 jasper Exp $
a69 4

# XXX undefined references to a few evolution-data-server symbols (private libs)
# https://bugzilla.gnome.org/show_bug.cgi?id=781485
CONFIGURE_ARGS +=	--disable-modular-tests
@


1.89
log
@add link to upstream bz
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2017/04/17 17:28:13 jasper Exp $
d77 1
@


1.88
log
@use git master for this port as there's been lots of fixes upstream, but no release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2017/04/17 14:58:20 ajacoutot Exp $
d72 1
@


1.87
log
@Temporarily --disable-modular-tests until we figure out all the undef refs
to e-d-s private symbols.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2017/04/10 11:46:32 sthen Exp $
d7 8
a14 2
GNOME_PROJECT=		folks
GNOME_VERSION=		0.11.3
d17 1
a17 1
REVISION=		2
d73 16
@


1.86
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2017/02/19 14:43:49 ajacoutot Exp $
d11 1
a11 1
REVISION=		1
d22 18
a39 16
WANTLIB += ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 atk-bridge-2.0
WANTLIB += atspi c cairo cairo-gobject camel-1.2 db dbus-1 dbus-glib-1
WANTLIB += drm ebackend-1.2 ebook-1.2 ebook-contacts-1.2 edata-book-1.2
WANTLIB += edataserver-1.2 epoxy expat ffi fontconfig freetype
WANTLIB += gbm gck-1 gcr-base-3 gcrypt gdk-3 gdk_pixbuf-2.0 gee-0.8
WANTLIB += gio-2.0 glapi glib-2.0 gmodule-2.0 gmp gobject-2.0
WANTLIB += gpg-error graphite2 gstaudio-1.0 gstbase-1.0 gstreamer-1.0
WANTLIB += gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 harfbuzz
WANTLIB += hogweed iconv icudata icui18n icuuc idn2 intl javascriptcoregtk-4.0
WANTLIB += json-glib-1.0 lzma m ncurses nettle nspr4 nss3 orc-0.4
WANTLIB += p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 plc4 plds4 png pthread pthread-stubs readline
WANTLIB += secret-1 smime3 softokn3 soup-2.4 sqlite3 ssl3 ${LIBCXX}
WANTLIB += tasn1 telepathy-glib webkit2gtk-4.0 xcb xcb-dri2 xcb-glx
WANTLIB += xcb-render xcb-shm xcb-xfixes xml2 z
d64 3
@


1.85
log
@First shot at fixing the idn -> idn2 failure after gnutls dependency change.
List provided by naddy@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2016/10/31 11:48:38 ajacoutot Exp $
d35 1
a35 1
WANTLIB += secret-1 smime3 softokn3 soup-2.4 sqlite3 ssl3 stdc++
@


1.84
log
@Regen WANTLIB to unbreak.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2016/09/24 11:03:31 jasper Exp $
d11 1
a11 1
REVISION=		0
d31 1
a31 1
WANTLIB += hogweed iconv icudata icui18n icuuc idn intl javascriptcoregtk-4.0
@


1.83
log
@update to folks-0.11.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2016/04/28 11:13:15 ajacoutot Exp $
d11 1
d22 16
a37 18
WANTLIB += EGL GL ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm atk-1.0
WANTLIB += atk-bridge-2.0 atspi c cairo cairo-gobject camel-1.2
WANTLIB += db dbus-1 dbus-glib-1 drm ebackend-1.2 ebook-1.2 ebook-contacts-1.2
WANTLIB += edata-book-1.2 edataserver-1.2 enchant epoxy expat
WANTLIB += ffi fontconfig freetype gbm gck-1 gcr-base-3 gcrypt
WANTLIB += gdk-3 gdk_pixbuf-2.0 gee-0.8 gio-2.0 glapi glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gpg-error graphite2 gstapp-1.0
WANTLIB += gstaudio-1.0 gstbase-1.0 gstfft-1.0 gstpbutils-1.0
WANTLIB += gstreamer-1.0 gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3
WANTLIB += harfbuzz harfbuzz-icu iconv icudata icui18n icuuc intl
WANTLIB += javascriptcoregtk-3.0 jpeg json-glib-1.0 lzma m ncurses
WANTLIB += nspr4 nss3 nssutil3 orc-0.4 p11-kit pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += readline secret-1 smime3 softokn3 soup-2.4 sqlite3
WANTLIB += ssl3 stdc++ telepathy-glib webkitgtk-3.0 webp xcb xcb-dri2
WANTLIB += xcb-glx xcb-render xcb-shape xcb-shm xcb-xfixes xml2
WANTLIB += xslt z
@


1.82
log
@zeitgeist is going away, so drop support for it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2016/04/25 18:41:42 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.11.2
a10 1
REVISION=		1
@


1.81
log
@Needs -L${X11BASE}/lib with the new e-d-s.
Regen WANTLIB while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2015/11/28 12:48:27 jasper Exp $
d11 1
a11 1
REVISION=		0
d39 1
a39 1
WANTLIB += xslt z zeitgeist-2.0
d46 1
a46 2
			net/telepathy/telepathy-glib \
			productivity/zeitgeist
@


1.80
log
@update to folks-0.11.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2015/05/29 09:26:12 jasper Exp $
d11 1
d22 18
a39 7
WANTLIB += c camel-1.2 db dbus-1 dbus-glib-1 ebackend-1.2 ebook-1.2
WANTLIB += ebook-contacts-1.2 edata-book-1.2 edataserver-1.2 ffi
WANTLIB += gck-1 gcr-base-3 gcrypt gee-0.8 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gpg-error gthread-2.0 icudata icui18n icuuc
WANTLIB += m ncurses nspr4 nss3 nssutil3 p11-kit pcre plc4 plds4
WANTLIB += pthread readline secret-1 smime3 softokn3 soup-2.4
WANTLIB += sqlite3 ssl3 telepathy-glib xml2 z zeitgeist-2.0 lzma
a41 1
			devel/gettext \
d55 1
@


1.79
log
@update to folks-0.11.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2015/04/04 13:03:30 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.11.1
@


1.78
log
@update to folks-0.11.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2015/04/04 09:21:03 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.11.0
@


1.77
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2015/01/22 16:03:57 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.10.1
d10 1
a10 2
API_V=			42
REVISION=		0
d12 4
a15 4
SHARED_LIBS +=  folks-telepathy           5.1 # 42.2
SHARED_LIBS +=  folks                     5.4 # 42.2
SHARED_LIBS +=  folks-eds                 1.1 # 42.2
SHARED_LIBS +=  folks-dummy               0.0 # 42.2
d27 1
a27 1
WANTLIB += sqlite3 ssl3 telepathy-glib xml2 z zeitgeist-2.0
d33 4
a36 4
LIB_DEPENDS=	databases/evolution-data-server \
		devel/libgee \
		net/telepathy/telepathy-glib \
		productivity/zeitgeist
d39 1
a39 1
RUN_DEPENDS=	net/telepathy/telepathy-mission-control
d41 1
a41 1
TEST_DEPENDS=	${FULLPKGNAME}:${BASE_PKGPATH}
d43 1
a43 1
MODGNOME_TOOLS += gobject-introspection vala
@


1.76
log
@update to folks-0.10.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2014/09/15 08:21:51 jasper Exp $
d11 1
@


1.75
log
@update to folks-0.10.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2014/09/07 18:25:01 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.10.0
@


1.74
log
@set PORTROACH
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2014/08/14 07:15:52 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.9.8
d12 4
a15 4
SHARED_LIBS +=  folks-telepathy           5.1 # 42.0
SHARED_LIBS +=  folks                     5.4 # 42.0
SHARED_LIBS +=  folks-eds                 1.1 # 42.0
SHARED_LIBS +=  folks-dummy               0.0 # 42.0
@


1.73
log
@update to folks-0.9.8
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.72 2014/07/09 18:27:57 jasper Exp $
d58 2
@


1.72
log
@remove now unneeded MAKE_ENV workaround for pkg-config; it has autofixed itself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2014/06/24 11:45:48 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		0.9.7.1
@


1.71
log
@update to folks-0.9.7.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2014/06/23 09:56:21 jasper Exp $
d50 1
a50 6
CONFIGURE_ARGS += --disable-fatal-warnings

# XXX our pkg-config(1) does not behave properly
# g-ir-scanner <...> --include=Folks-0.6
# Package folks was not found in the pkg-config search path
MAKE_ENV=	PKG_CONFIG_PATH=${WRKBUILD}/folks
@


1.70
log
@update to folks 0.9.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2014/04/21 13:41:33 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		0.9.7
@


1.69
log
@Sync wantlib for kerberos removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2014/04/02 09:36:12 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		0.9.6
d8 1
a8 2
API_V=			41
REVISION=		2
d10 4
a13 3
SHARED_LIBS +=  folks-telepathy           5.1 # 41.1
SHARED_LIBS +=  folks                     5.4 # 41.1
SHARED_LIBS +=  folks-eds                 1.1 # 41.1
d17 1
a17 1
HOMEPAGE=		${HOMEPAGE_TP:=Folks}
@


1.68
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2014/04/01 18:06:30 jasper Exp $
d9 1
a9 1
REVISION=		1
d19 7
a25 8
WANTLIB += asn1 c camel-1.2 com_err crypto db dbus-1 dbus-glib-1
WANTLIB += ebackend-1.2 ebook-1.2 ebook-contacts-1.2 edata-book-1.2
WANTLIB += edataserver-1.2 ffi gck-1 gcr-base-3 gcrypt gee-0.8
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gpg-error
WANTLIB += gssapi gthread-2.0 heimbase krb5 m ncurses nspr4 nss3
WANTLIB += nssutil3 p11-kit pcre plc4 plds4 pthread readline roken
WANTLIB += secret-1 smime3 softokn3 soup-2.4 sqlite3 ssl3 telepathy-glib
WANTLIB += wind xml2 z zeitgeist-2.0 icudata icui18n icuuc
@


1.67
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2014/04/01 15:31:46 jasper Exp $
d42 1
a42 1
MODGNOME_TOOLS += 	gobject-introspection vala
@


1.66
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2014/03/28 07:06:33 ajacoutot Exp $
d42 1
a42 1
MODGNOME_TOOLS= 	gobject-introspection vala
@


1.65
log
@WANTLIB sync after e-d-s update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2014/03/09 21:52:16 ajacoutot Exp $
d42 1
a42 1
MODGNOME_TOOLS= 	gi vala
@


1.64
log
@Fix bogus CONFIGURE_ARGS (no pkg change).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/12/08 10:43:21 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d26 1
a26 1
WANTLIB += wind xml2 z zeitgeist-2.0
d35 1
a35 1
		productivity/zeitgeist>=0.9.14v0
@


1.63
log
@Fix a crash; from upstream.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/11/15 08:26:59 jasper Exp $
d44 1
a44 1
# libofono isn't ported yet
d48 1
a48 1
CONFIGURE_ARGS +=	--disable-bluez
@


1.62
log
@update to folks-0.9.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/10/26 10:45:05 ajacoutot Exp $
d9 1
@


1.61
log
@Drop libsocialweb support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/09/27 12:27:55 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		0.9.5
d10 3
a12 5
REVISION=		0

SHARED_LIBS +=  folks-telepathy           5.0 # 39.0
SHARED_LIBS +=  folks                     5.2 # 39.0
SHARED_LIBS +=  folks-eds                 1.1 # 39.0
d45 3
@


1.60
log
@update to folks-0.9.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/09/12 06:52:23 ajacoutot Exp $
d10 2
a14 1
SHARED_LIBS +=  folks-libsocialweb        0.0 # 39.0
a19 4
MODULES=		devel/dconf \
			devel/gettext \
			x11/gnome

d26 6
a31 2
WANTLIB += secret-1 smime3 socialweb-client softokn3 soup-2.4
WANTLIB += sqlite3 ssl3 telepathy-glib wind xml2 z zeitgeist-2.0
a35 1
		net/libsocialweb \
@


1.59
log
@Update to folks-0.9.3 for zeitgeist-2.0 support.
This port actually uncoverred a bug in our pkg-config(1) which jasper@@ will
look into.

ok jasper@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/06/20 06:54:37 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		0.9.3
d8 1
a8 1
API_V=			39
@


1.58
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/06/17 19:28:36 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		0.9.2
a9 2
REVISION=		1

d25 6
a30 6
WANTLIB += edataserver-1.2 ffi gck-1 gcr-base-3 gcrypt gee-0.8 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gpg-error gssapi gthread-2.0
WANTLIB += krb5 m ncurses nspr4 nss3 nssutil3 p11-kit pcre plc4
WANTLIB += plds4 pthread readline secret-1 smime3 socialweb-client
WANTLIB += softokn3 soup-2.4 sqlite3 ssl3 telepathy-glib xml2
WANTLIB += heimbase roken wind z zeitgeist-1.0
d32 1
a32 1
LIB_DEPENDS=	databases/evolution-data-server>=3.8.1 \
d34 1
a34 1
		net/telepathy/telepathy-glib>=0.20.1 \
d36 3
a38 1
		productivity/libzeitgeist
a44 2
CONFIGURE_ARGS+=	--enable-import-tool \
			--enable-inspect-tool
d46 9
a54 1
CONFIGURE_ARGS= 	--disable-ofono-backend
@


1.57
log
@Some trivial WANTLIB and tweaks to unbreak after the Heimdal update.
Stop hardcoding the Kerberos libs and use krb5-config(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/06/10 09:37:27 jasper Exp $
d10 1
a10 1
REVISION=		0
d32 1
a32 1
WANTLIB += heimbase heimntlm hx509 roken wind z zeitgeist-1.0
@


1.56
log
@update to folks-0.9.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/04/16 13:17:01 ajacoutot Exp $
d10 2
d32 1
a32 1
WANTLIB += z zeitgeist-1.0
@


1.55
log
@goi -> gi (gnome MODULE change).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/03/30 09:25:32 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		0.9.1
d8 1
a8 1
API_V=			38
d10 4
a13 4
SHARED_LIBS +=  folks-telepathy           5.0 # 38.1
SHARED_LIBS +=  folks                     5.2 # 38.1
SHARED_LIBS +=  folks-eds                 1.0 # 38.1
SHARED_LIBS +=  folks-libsocialweb        0.0 # 38.1
d32 1
a32 1
LIB_DEPENDS=	databases/evolution-data-server>=3.8.0 \
@


1.54
log
@- update to folks-0.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/03/29 16:53:22 ajacoutot Exp $
d41 1
a41 1
MODGNOME_TOOLS= 	goi vala
@


1.53
log
@Fix @@conflict marker.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/03/29 16:48:27 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		0.8.0
d8 1
a8 1
API_V=			37
d10 4
a13 6
REVISION=		5

SHARED_LIBS +=  folks-telepathy           5.0 # 37.0
SHARED_LIBS +=  folks                     5.1 # 37.0
SHARED_LIBS +=  folks-eds                 0.1 # 37.0
SHARED_LIBS +=  folks-libsocialweb        0.0 # 37.0
d25 1
a25 1
WANTLIB += edataserver-1.2 ffi gck-1 gcr-base-3 gcrypt gee gio-2.0
d32 3
a34 3
LIB_DEPENDS=	databases/evolution-data-server>=3.6.0p3 \
		devel/libgee06 \
		net/telepathy/telepathy-glib>=0.15.5 \
d44 4
a47 3
			--enable-inspect-tool \
			--enable-libsocialweb-backend \
			--enable-eds-backend
@


1.52
log
@drop tracker subpackage.

as suggested by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/03/28 21:32:03 jasper Exp $
d10 1
a10 1
REVISION=		4
@


1.51
log
@re-instate previous WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/03/28 19:57:46 jasper Exp $
d3 1
a3 2
COMMENT-main=		people aggregation library
COMMENT-tracker=	(meta-)tracker backend for folks
d10 1
a10 5
PKGNAME-main=		${DISTNAME}
PKGNAME-tracker=	${GNOME_PROJECT}-meta-tracker-${GNOME_VERSION}

REVISION-main=		3
REVISION-tracker=	1
a15 1
SHARED_LIBS +=  folks-tracker             0.0 # 37.0
d17 1
a17 2
TRACKER_VERSION=	0.14
SUBST_VARS=		API_V TRACKER_VERSION
d25 15
a39 31
WANTLIB += ffi gee gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += m pcre sqlite3

MULTI_PACKAGES=		-main -tracker

WANTLIB-main += ${WANTLIB}
WANTLIB-main += asn1 c camel-1.2 com_err crypto ebook-1.2 edataserver-1.2
WANTLIB-main += gssapi krb5 ncurses nspr4 nss3 socialweb-client plc4 plds4
WANTLIB-main += pthread readline smime3 softokn3 soup-2.4 ssl3 telepathy-glib
WANTLIB-main += xml2 z gck-1 gcr-base-3 gcrypt gpg-error gnome-keyring
WANTLIB-main += nssutil3 p11-kit zeitgeist-1.0 dbus-1 dbus-glib-1

LIB_DEPENDS-main=	${MODGETTEXT_LIB_DEPENDS} \
			databases/evolution-data-server>=3.6.0p3 \
			devel/libgee06 \
			net/telepathy/telepathy-glib>=0.15.5 \
			net/libsocialweb \
			productivity/libzeitgeist
RUN_DEPENDS-main=	${MODGETTEXT_RUN_DEPENDS} \
			net/telepathy/telepathy-mission-control

WANTLIB-tracker += ${WANTLIB}
WANTLIB-tracker += lib/tracker-${TRACKER_VERSION}/tracker-common
WANTLIB-tracker += lib/tracker-${TRACKER_VERSION}/tracker-data
WANTLIB-tracker += e2fs-uuid folks kvm tracker-sparql-${TRACKER_VERSION}
WANTLIB-tracker += z pthread icui18n icuuc

RUN_DEPENDS-tracker=	${MODGETTEXT_RUN_DEPENDS}
LIB_DEPENDS-tracker=	${MODGETTEXT_LIB_DEPENDS} \
			${BASE_PKGPATH},-main \
			x11/gnome/tracker>=0.14.0
a46 1
			--enable-tracker-backend \
@


1.50
log
@adjust after libzeitgeist was merged into zeitgeist
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/03/11 11:35:57 espie Exp $
d14 1
a14 1
REVISION-main=		2
d42 1
a42 1
WANTLIB-main += nssutil3 p11-kit zeitgeist-2.0 dbus-1 dbus-glib-1
d49 1
a49 1
			productivity/zeitgeist
@


1.49
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/11/09 16:15:15 sthen Exp $
d14 1
a14 1
REVISION-main=		1
d42 1
a42 1
WANTLIB-main += nssutil3 p11-kit zeitgeist-1.0 dbus-1 dbus-glib-1
d49 1
a49 1
			productivity/libzeitgeist
@


1.48
log
@zap trailing space in API_V variable; build breakage reported by naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2012/10/25 14:22:03 ajacoutot Exp $
d64 1
a64 1
REGRESS_DEPENDS=	${FULLPKGNAME}:${BASE_PKGPATH}
@


1.47
log
@Unbreak: sync WANTLIB after meta-tracker lost its dependency on libunistring.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/10/16 11:56:11 ajacoutot Exp $
d8 2
a9 1
API_V=			37 # MODULE_VERSION in config.h
@


1.46
log
@Fix dependencies after e-d-s moved back to using libgnome-keyring.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/10/15 13:26:25 ajacoutot Exp $
d14 1
a14 1
REVISION-tracker=	0
d56 1
a56 1
WANTLIB-tracker += z pthread unistring
@


1.45
log
@Remove tracker hack.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/10/04 09:14:24 jasper Exp $
d13 1
a13 1
REVISION-main=		0
d40 2
a41 2
WANTLIB-main += xml2 z gck-1 gcr-base-3 gcrypt gpg-error
WANTLIB-main += nssutil3 p11-kit zeitgeist-1.0 dbus-1 dbus-glib-1 secret-1
@


1.44
log
@- update to folks-0.8.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/10/03 15:57:18 ajacoutot Exp $
d13 3
a65 1
MODGNOME_LDFLAGS=	-Wl,-rpath,${LOCALBASE}/lib/tracker-${TRACKER_VERSION}
@


1.43
log
@Fix depends after e-d-s move to libsecret.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2012/10/03 07:02:18 ajacoutot Exp $
d7 2
a8 2
GNOME_VERSION=		0.7.4.1
API_V=			37
a11 2

REVISION-main=		1
@


1.42
log
@Use ${TRACKER_VERSION} in WANTLIB; no pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2012/10/01 15:01:14 ajacoutot Exp $
d13 1
a13 1
REVISION-main=		0
d39 1
a39 1
WANTLIB-main += xml2 z gck-1 gcr-base-3 gcrypt gnome-keyring gpg-error
d43 1
a43 1
			databases/evolution-data-server \
@


1.41
log
@Sync wantlib afer e-d-s migration to libsecret.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2012/09/29 10:38:11 jasper Exp $
d54 1
a54 1
WANTLIB-tracker += e2fs-uuid folks kvm tracker-sparql-0.14
@


1.40
log
@- update to folks-0.7.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2012/08/29 17:50:55 jasper Exp $
d13 2
d40 1
a40 1
WANTLIB-main += nssutil3 p11-kit zeitgeist-1.0 dbus-1 dbus-glib-1
@


1.39
log
@move CONFIGURE_STYLE to Makefile.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2012/08/29 14:11:55 jasper Exp $
d7 2
a8 3
GNOME_VERSION=		0.7.0
REVISION=		0
API_V=			33
d13 5
a17 5
SHARED_LIBS +=  folks-telepathy           5.0 # 33.0
SHARED_LIBS +=  folks                     5.1 # 33.0
SHARED_LIBS +=  folks-eds                 0.1 # 33.0
SHARED_LIBS +=  folks-libsocialweb        0.0 # 33.0
SHARED_LIBS +=  folks-tracker             0.0 # 33.0
d24 2
a25 1
MODULES=		devel/gettext \
d28 2
a29 2
WANTLIB += dbus-1 dbus-glib-1 ffi gconf-2 gee gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 m pcre sqlite3
d37 2
a38 1
WANTLIB-main += xml2 z
d44 2
a45 1
			net/libsocialweb
d52 2
a53 2
WANTLIB-tracker += e2fs-uuid folks icui18n icuuc kvm tracker-sparql-0.14
WANTLIB-tracker += z
d70 2
@


1.38
log
@add patches from upstream to unbreak with new vala.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2012/04/18 17:22:40 jasper Exp $
a62 1
CONFIGURE_STYLE=	gnu
@


1.37
log
@- update to 0.7.0
* various bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2012/04/17 08:03:31 jasper Exp $
d8 1
@


1.36
log
@- update to 0.6.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2012/04/03 09:37:37 ajacoutot Exp $
d7 2
a8 2
GNOME_VERSION=		0.6.9
API_V=			32
d13 5
a17 5
SHARED_LIBS +=  folks-telepathy           5.0 # 32.1
SHARED_LIBS +=  folks                     5.0 # 32.1
SHARED_LIBS +=  folks-eds                 0.1 # 32.1
SHARED_LIBS +=  folks-libsocialweb        0.0 # 32.1
SHARED_LIBS +=  folks-tracker             0.0 # 32.1
@


1.35
log
@SHARED_ONLY is already set.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2012/03/29 07:12:00 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		0.6.8
d13 5
a17 5
SHARED_LIBS +=  folks-telepathy           5.0 # 29.0
SHARED_LIBS +=  folks                     5.0 # 29.0
SHARED_LIBS +=  folks-eds                 0.1 # 29.0
SHARED_LIBS +=  folks-libsocialweb        0.0 # 32.0
SHARED_LIBS +=  folks-tracker             0.0 # 30.0
d41 1
a41 1
			net/telepathy/telepathy-glib>=0.14.3 \
@


1.34
log
@Update to folks-0.6.8.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.33 2012/03/08 14:18:27 ajacoutot Exp $

SHARED_ONLY=		Yes
@


1.33
log
@Bring patches from upstream to build with recent tracker.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2012/03/05 12:12:49 ajacoutot Exp $
d9 2
a10 2
GNOME_VERSION=		0.6.7
API_V=			31
a14 3
REVISION-main=		1
REVISION-tracker=	1

d18 1
d36 1
a36 1
WANTLIB-main += gssapi krb5 ncurses nspr4 nss3 nssutil3 plc4 plds4
d41 4
a44 3
			databases/evolution-data-server>=3.2.0p2 \
			devel/libgee \
			net/telepathy/telepathy-glib>=0.14.3
d67 3
a69 21
			--enable-tracker-backend
# Don't enable this yet untill it's stable enough.
CONFIGURE_ARGS+=	--enable-libsocialweb-backend=no
# Experimental bindings, but hey, without testing they'll never mature.
CONFIGURE_ARGS+=	--enable-eds-backend

# libtoolize
AUTOCONF_VERSION=	2.68
AUTOMAKE_VERSION=	1.11
BUILD_ENV=		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
			AUTOCONF_VERSION=${AUTOCONF_VERSION}
MAKE_ENV +=		${BUILD_ENV}
BUILD_DEPENDS +=	devel/libtool \
			${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS}

pre-configure:
	cd ${WRKSRC} && \
		env ${CONFIGURE_ENV} \
		${BUILD_ENV} \
		./autogen.sh --no-configure
@


1.32
log
@Drop the PSEUDO_FLAVOR, some rpath magic is needed for the tracker plugin
which changes the resulting -main package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2012/02/26 15:08:07 ajacoutot Exp $
d15 2
a16 2
REVISION-main=		0
REVISION-tracker=	0
d23 1
a23 1
TRACKER_VERSION=	0.12
d52 1
a52 1
WANTLIB-tracker += e2fs-uuid folks icui18n icuuc kvm tracker-sparql-0.12
d58 1
a58 1
			x11/gnome/tracker
d73 16
@


1.31
log
@Update to folks-0.6.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2012/02/23 08:10:01 ajacoutot Exp $
d15 3
d21 1
d34 1
a34 4
MULTI_PACKAGES=		-main

PSEUDO_FLAVORS=		no_tracker
FLAVOR ?=
d49 11
d63 1
d67 2
a68 1
			--enable-inspect-tool
a72 17

.if ${FLAVOR:Mno_tracker}
CONFIGURE_ARGS +=	--disable-tracker-backend
.else
MULTI_PACKAGES +=	-tracker
SHARED_LIBS +=  folks-tracker        0.0     # 30.0
CONFIGURE_ARGS +=	--enable-tracker-backend
RUN_DEPENDS-tracker=	${MODGETTEXT_RUN_DEPENDS}
LIB_DEPENDS-tracker=	${MODGETTEXT_LIB_DEPENDS} \
			${BASE_PKGPATH},-main \
			x11/gnome/tracker
WANTLIB-tracker += ${WANTLIB}
WANTLIB-tracker += lib/tracker-${TRACKER_VERSION}/tracker-common
WANTLIB-tracker += lib/tracker-${TRACKER_VERSION}/tracker-data
WANTLIB-tracker += e2fs-uuid folks icui18n icuuc kvm tracker-sparql-0.12
WANTLIB-tracker += z
.endif
@


1.30
log
@Add missing ${MODGETTEXT_LIB_DEPENDS}.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2012/02/23 07:33:08 ajacoutot Exp $
d9 2
a10 2
GNOME_VERSION=		0.6.6
API_V=			30
a13 3

REVISION-main=		2
REVISION-tracker=	1
@


1.29
log
@Fix RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/02/18 23:05:40 ajacoutot Exp $
d15 2
a16 2
REVISION-main=		1
REVISION-tracker=	0
d44 2
a45 1
LIB_DEPENDS-main=	databases/evolution-data-server>=3.2.0p2 \
d70 2
a71 1
LIB_DEPENDS-tracker=	${BASE_PKGPATH},-main \
@


1.28
log
@Add a -tracker subpackage for the tracker backend.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/12/14 08:25:22 jasper Exp $
d15 2
a16 1
REVISION-main=		0
d47 2
a48 1
#RUN_DEPENDS-main=	net/telepathy/telepathy-mission-control
d68 1
@


1.27
log
@- update to 0.6.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/11/11 17:07:46 jasper Exp $
d5 2
a6 1
COMMENT=		people aggregation library
d12 5
d21 3
d29 4
a32 6
WANTLIB += asn1 c camel-1.2 com_err crypto dbus-1 dbus-glib-1
WANTLIB += ebook-1.2 edataserver-1.2 ffi gconf-2 gee gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gssapi gthread-2.0 krb5 m ncurses
WANTLIB += nspr4 nss3 nssutil3 pcre plc4 plds4 pthread readline
WANTLIB += smime3 softokn3 soup-2.4 sqlite3 ssl3 telepathy-glib
WANTLIB += xml2 z
d34 10
a43 1
LIB_DEPENDS=		databases/evolution-data-server>=3.2.0p2 \
d46 2
a47 1
RUN_DEPENDS=		net/telepathy/telepathy-mission-control
d54 1
a54 2
			--enable-inspect-tool \
			--disable-tracker-backend
d60 14
a73 1
SUBST_VARS+=		API_V
@


1.26
log
@- subst the API_V in the PLIST so it won't get changed every update
- zap a few @@comment'ed files which were leftovers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/11/11 16:56:14 jasper Exp $
d8 2
a9 2
GNOME_VERSION=		0.6.5
API_V=			29
@


1.25
log
@- update to 0.6.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/10/29 08:12:32 ajacoutot Exp $
d9 1
d43 2
@


1.24
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/10/18 18:05:46 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		0.6.4.1
REVISION=		0
d10 3
a12 3
SHARED_LIBS +=  folks-telepathy           4.0 # 28.0
SHARED_LIBS +=  folks                     4.0 # 28.0
SHARED_LIBS +=  folks-eds                 0.0 # 28.0
@


1.23
log
@- update to 0.6.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/10/18 08:56:57 jasper Exp $
d9 1
d20 1
a20 1
WANTLIB += ORBit-2 asn1 c camel-1.2 com_err crypto dbus-1 dbus-glib-1
@


1.22
log
@- update to 0.6.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/10/13 16:39:03 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.6.4
d10 3
a12 3
SHARED_LIBS +=  folks-telepathy           4.0 # 27.2
SHARED_LIBS +=  folks                     4.0 # 27.2
SHARED_LIBS +=  folks-eds                 0.0 # 27.2
@


1.21
log
@Explicitely disable the Tracker backend.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/09/28 15:23:22 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		0.6.3.2
REVISION=		0
@


1.20
log
@- enable evolution-data-server backend (needed for upcoming gnome-contacts port)
- add missing dependency on telepathy-mission-control
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/09/28 09:51:36 jasper Exp $
d37 2
a38 1
			--enable-inspect-tool
@


1.19
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/09/27 06:28:37 jasper Exp $
d9 1
d11 3
a13 2
SHARED_LIBS +=  folks-telepathy           4.0 # 27.1
SHARED_LIBS +=  folks                     4.0 # 27.1
d20 6
a25 3
WANTLIB += ORBit-2 c dbus-1 dbus-glib-1 ffi gconf-2 gee gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 m ncurses pcre
WANTLIB += pthread readline telepathy-glib xml2 z
d27 1
a27 1
LIB_DEPENDS=		devel/gconf2 \
d29 2
a30 2
			net/telepathy/telepathy-glib>=0.14.3 \
			textproc/libxml
d37 2
a38 2
			--enable-inspect-tool \
# Not yet until libsocialweb is stable
d40 2
a41 2
# Not yet until e-d-s' vala bindings are stable
CONFIGURE_ARGS+=	--disable-eds-backend
@


1.18
log
@- updatet to 0.6.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/09/25 17:55:16 jasper Exp $
a36 3

CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.17
log
@- update to 0.6.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/09/21 13:32:40 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.6.3.1
@


1.16
log
@- update to 0.6.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/09/20 21:04:25 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.6.3
d10 2
a11 2
SHARED_LIBS +=  folks-telepathy           3.0 # 27.0
SHARED_LIBS +=  folks                     3.0 # 27.0
d18 1
a18 1
WANTLIB += ORBit-2 c dbus-1 dbus-glib-1 gconf-2 gee gio-2.0 glib-2.0
@


1.15
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/09/20 20:51:52 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		0.6.2.1
REVISION=		1
d10 2
a11 2
SHARED_LIBS +=  folks-telepathy           2.0 # 25.0
SHARED_LIBS +=  folks                     2.0 # 25.0
@


1.14
log
@switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/09/16 20:00:46 jasper Exp $
d32 1
a32 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--enable-import-tool \
@


1.13
log
@- prettify a few specs
- tweak WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/16 11:13:40 espie Exp $
a22 2
BUILD_DEPENDS=		devel/gobject-introspection>=0.9.12p0 \
			lang/vala>=0.13.4
d29 2
a34 1
			--enable-vala
@


1.12
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/09/14 12:22:58 jasper Exp $
d9 1
a9 1
REVISION=		0
d27 1
a27 1
			STEM->=0.14.3:net/telepathy/telepathy-glib \
@


1.11
log
@- update folks to 0.6.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/12 12:07:26 jasper Exp $
d9 1
@


1.10
log
@switch the rest of the ports using gnome.port.mk over to .tar.xz where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/04/26 19:04:26 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.4.3
d10 2
a11 2
SHARED_LIBS +=  folks-telepathy           1.0 # 22.1
SHARED_LIBS +=  folks                     1.0 # 22.1
d18 3
a20 5
EXTRACT_SUFX=		.tar.bz2

WANTLIB += c dbus-1 dbus-glib-1 gee gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gthread-2.0 m ncurses pcre pthread readline
WANTLIB += telepathy-glib xml2 z
d23 3
a25 2
			lang/vala>=0.12.0
LIB_DEPENDS=		devel/libgee \
d35 5
@


1.9
log
@- update folks to 0.4.3
* various bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/04/26 13:09:07 ajacoutot Exp $
d17 2
@


1.8
log
@No need for the itlocaledir tweak anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/04/05 19:46:27 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.4.2
d10 2
a11 2
SHARED_LIBS +=  folks-telepathy           1.0 # 22.0
SHARED_LIBS +=  folks                     1.0 # 22.0
@


1.7
log
@- use a real homepage if there is any
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/04/05 18:54:06 jasper Exp $
a27 2

FAKE_FLAGS+=		itlocaledir=${PREFIX}/share/locale/
@


1.6
log
@- update folks to 0.4.2
* unbreaks after the recent vala update
* needed for upcoming empathy update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/03/09 06:23:35 ajacoutot Exp $
d13 1
a13 1
HOMEPAGE=	http://telepathy.freedesktop.org/wiki/Folks
d15 2
a16 2
MODULES=	devel/gettext \
		x11/gnome
@


1.5
log
@Use FULLPKGNAME in REGRESS_DEPENDS, much less error-prone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/01/17 16:13:02 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.2.1
d10 2
a11 4
REVISION=		0

SHARED_LIBS +=  folks-telepathy           0.0 # 15.0
SHARED_LIBS +=  folks                     0.0 # 15.0
d18 3
a20 3
WANTLIB += c m pthread dbus-1 dbus-glib-1 gee gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gthread-2.0 gobject-2.0 pcre telepathy-glib
WANTLIB += xml2 z
d23 1
a23 1
			lang/vala
d25 1
a25 1
			STEM->=0.12.0p0:net/telepathy/telepathy-glib \
d29 2
d32 6
a37 1
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
@


1.4
log
@- fix LIB_DEPENDS to allow for the updated telepathy-glib.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/11/19 22:31:38 espie Exp $
d29 1
a29 1
REGRESS_DEPENDS=	${PKGNAME}:${BASE_PKGPATH}
@


1.3
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/10/26 08:42:35 jasper Exp $
d10 2
d27 1
a27 1
			telepathy-glib-0.12.0p0:net/telepathy/telepathy-glib \
@


1.2
log
@- update folks to 0.2.1
- tighten regress depends
@
text
@d1 1
a1 1
# $OpenBSD$
d22 6
a27 6
BUILD_DEPENDS=		:gobject-introspection->=0.9.12p0:devel/gobject-introspection \
			::lang/vala
LIB_DEPENDS=		::devel/libgee \
			:telepathy-glib-0.12.0p0:net/telepathy/telepathy-glib\
			::textproc/libxml
REGRESS_DEPENDS=	:${PKGNAME}:${BASE_PKGPATH}
@


1.1
log
@Initial revision
@
text
@d8 1
a8 1
GNOME_VERSION=		0.2.0
d27 1
@


1.1.1.1
log
@import folks 0.2.0

libfolks is a library that aggregates people from multiple sources (eg,
Telepathy connection managers and eventually evolution data server,
Facebook, etc.) to create metacontacts. It's written in Vala (in part to
evaluate Vala). The initial goal is for GObject/C support, though the
Vala bindings should basically automatic.

feedback/ok aja@@
@
text
@@
