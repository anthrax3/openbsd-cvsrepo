head	1.77;
access;
symbols
	OPENBSD_6_2:1.77.0.2
	OPENBSD_6_2_BASE:1.77
	OPENBSD_6_1:1.75.0.2
	OPENBSD_6_1_BASE:1.75
	OPENBSD_6_0:1.72.0.2
	OPENBSD_6_0_BASE:1.72
	OPENBSD_5_9:1.71.0.2
	OPENBSD_5_9_BASE:1.71
	OPENBSD_5_8:1.71.0.4
	OPENBSD_5_8_BASE:1.71
	OPENBSD_5_7:1.68.0.2
	OPENBSD_5_7_BASE:1.68
	OPENBSD_5_6:1.67.0.2
	OPENBSD_5_6_BASE:1.67
	OPENBSD_5_5:1.63.0.2
	OPENBSD_5_5_BASE:1.63
	OPENBSD_5_4:1.60.0.2
	OPENBSD_5_4_BASE:1.60
	OPENBSD_5_3:1.56.0.2
	OPENBSD_5_3_BASE:1.56
	OPENBSD_5_2:1.51.0.2
	OPENBSD_5_2_BASE:1.51
	OPENBSD_5_1_BASE:1.43
	OPENBSD_5_1:1.43.0.2
	OPENBSD_5_0:1.36.0.2
	OPENBSD_5_0_BASE:1.36
	OPENBSD_4_9:1.31.0.2
	OPENBSD_4_9_BASE:1.31
	OPENBSD_4_8:1.18.0.2
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.15.0.4
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.15.0.2
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.12.0.2
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.3.0.4
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	jasper_20071027:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.77
date	2017.09.22.20.52.58;	author sthen;	state Exp;
branches;
next	1.76;
commitid	7epIsl7VtCEK5i6t;

1.76
date	2017.05.16.19.31.34;	author landry;	state Exp;
branches;
next	1.75;
commitid	5FFio2V8SKoecSnW;

1.75
date	2017.02.18.17.33.51;	author ajacoutot;	state Exp;
branches;
next	1.74;
commitid	kjw4RQ4AAUYktD89;

1.74
date	2017.02.18.17.32.37;	author ajacoutot;	state Exp;
branches;
next	1.73;
commitid	bw6Y0vDo3oixdVWL;

1.73
date	2016.11.21.18.47.17;	author jasper;	state Exp;
branches;
next	1.72;
commitid	nqD3HJkPDayWHNPs;

1.72
date	2016.07.08.16.48.21;	author sthen;	state Exp;
branches;
next	1.71;
commitid	nub6DuMueL8Y4KAR;

1.71
date	2015.05.11.20.13.24;	author jasper;	state Exp;
branches;
next	1.70;
commitid	LtKlPqJuDVlVkNpI;

1.70
date	2015.04.21.18.51.26;	author sthen;	state Exp;
branches;
next	1.69;
commitid	ptMCPiyuhL0JiHRZ;

1.69
date	2015.04.04.09.21.03;	author ajacoutot;	state Exp;
branches;
next	1.68;
commitid	kS3kwKZogsvzYmEY;

1.68
date	2014.09.07.18.24.56;	author jasper;	state Exp;
branches;
next	1.67;
commitid	qlwG9rYtd0r9Dunz;

1.67
date	2014.05.08.13.41.18;	author jasper;	state Exp;
branches;
next	1.66;

1.66
date	2014.03.20.20.48.21;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2014.03.20.20.31.39;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2014.03.14.17.26.18;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2013.10.26.08.02.57;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2013.09.27.17.34.42;	author jasper;	state Exp;
branches;
next	1.61;

1.61
date	2013.09.27.14.03.31;	author jasper;	state Exp;
branches;
next	1.60;

1.60
date	2013.06.21.22.38.12;	author sthen;	state Exp;
branches;
next	1.59;

1.59
date	2013.06.20.18.03.02;	author jasper;	state Exp;
branches;
next	1.58;

1.58
date	2013.04.16.10.21.58;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2013.03.04.18.49.29;	author jasper;	state Exp;
branches;
next	1.56;

1.56
date	2012.11.13.10.54.02;	author jasper;	state Exp;
branches;
next	1.55;

1.55
date	2012.09.28.06.44.18;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2012.09.25.13.24.09;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2012.09.21.14.48.06;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2012.08.29.17.50.55;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2012.04.30.09.39.26;	author ajacoutot;	state Exp;
branches
	1.51.2.1;
next	1.50;

1.50
date	2012.04.03.09.37.07;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2012.04.03.09.26.37;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2012.04.03.08.03.18;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2012.04.03.07.29.09;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2012.04.03.07.13.00;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2012.03.23.13.28.25;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2012.02.26.12.53.09;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2011.11.17.14.38.07;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2011.10.31.10.25.04;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2011.10.27.16.22.45;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2011.09.16.20.00.46;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2011.09.16.19.53.24;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2011.09.16.11.13.40;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2011.09.14.13.35.24;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2011.06.08.18.03.52;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2011.04.26.06.59.11;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2011.04.05.19.53.03;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2011.04.05.18.55.42;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2011.03.02.14.41.18;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2011.01.17.17.58.30;	author jasper;	state Exp;
branches
	1.31.2.1;
next	1.30;

1.30
date	2011.01.17.00.15.56;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2010.12.21.11.12.00;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2010.11.22.10.16.08;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2010.11.19.22.31.38;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.10.18.21.50.39;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2010.10.18.18.36.58;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2010.09.24.13.28.20;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2010.09.24.10.06.19;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.09.23.14.24.22;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2010.09.23.14.19.10;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2010.09.23.13.37.12;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2010.08.30.21.26.30;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2010.07.13.21.08.01;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2010.04.23.17.59.12;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2010.04.23.12.41.16;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2009.06.02.17.10.42;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2009.06.02.04.43.33;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2009.03.24.20.07.05;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2009.01.20.10.43.53;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2009.01.20.10.28.28;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2009.01.19.10.57.32;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2009.01.19.08.57.37;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2009.01.03.21.27.25;	author kili;	state Exp;
branches;
next	1.7;

1.7
date	2008.12.22.23.58.58;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2008.11.14.17.29.24;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2008.11.05.10.14.43;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2008.10.27.00.05.59;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2007.12.30.22.49.28;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2007.10.30.13.07.03;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2007.10.27.16.18.53;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.10.27.16.18.53;	author jasper;	state Exp;
branches;
next	;

1.31.2.1
date	2011.03.09.09.17.12;	author jasper;	state Exp;
branches;
next	;

1.51.2.1
date	2013.03.04.18.54.56;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.77
log
@add a bunch of missing unistring deps
@
text
@# $OpenBSD: Makefile,v 1.76 2017/05/16 19:31:34 landry Exp $

COMMENT=		flexible communications framework, xmpp component

DISTNAME=		telepathy-gabble-0.18.4
REVISION=		2

MASTER_SITES=		${MASTER_SITES_TP:=telepathy-gabble/}

WANTLIB += c dbus-1 dbus-glib-1 ffi gio-2.0 glib-2.0 gmodule-2.0 gmp
WANTLIB += gnutls gobject-2.0 gssdp-1.0 gthread-2.0 gupnp-1.0
WANTLIB += gupnp-igd-1.0 hogweed lzma m nettle nice p11-kit pcre pthread
WANTLIB += soup-2.4 sqlite3 tasn1 telepathy-glib unistring xml2 z idn2

MODULES=		devel/gettext \
			lang/python

BUILD_DEPENDS=		textproc/libxslt
# needed for the tests
BUILD_DEPENDS +=	devel/py-twisted \
			x11/dbus-python
LIB_DEPENDS=		devel/libsoup \
			net/libnice>=0.1.2 \
			net/telepathy/telepathy-glib>=0.18.0

# bin/telepathy-gabble-xmpp-console
RUN_DEPENDS +=		devel/py-gobject3

# pygobject GTK3 introspection (not provided by indirect dependencies)
RUN_DEPENDS +=		x11/gtk+3

MODPY_ADJ_FILES=	plugins/telepathy-gabble-xmpp-console

CONFIGURE_ARGS=		--with-ca-certificates=/etc/ssl/cert.pem \
			--disable-Werror \
			--enable-plugins

MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC} ${WRKSRC}/lib/ext/wocky

post-install:
	rm ${PREFIX}/lib/telepathy/gabble-0/*/*.{a,la}

.include <bsd.port.mk>
@


1.76
log
@Fix pkgpaths pointing to devel/py-twisted, and bump REVISIONs.
From Pavel Korovin.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2017/02/18 17:33:51 ajacoutot Exp $
d6 1
a6 1
REVISION=		1
d13 1
a13 1
WANTLIB += soup-2.4 sqlite3 tasn1 telepathy-glib xml2 z idn2
@


1.75
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2017/02/18 17:32:37 ajacoutot Exp $
d6 1
a6 1
REVISION=		0
d20 1
a20 1
BUILD_DEPENDS +=	devel/py-twisted/words \
@


1.74
log
@idn -> idn2 after gnutls WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2016/11/21 18:47:17 jasper Exp $
d6 1
@


1.73
log
@update to telepathy-gabble-0.18.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2016/07/08 16:48:21 sthen Exp $
d12 1
a12 1
WANTLIB += soup-2.4 sqlite3 tasn1 telepathy-glib xml2 z idn
@


1.72
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2015/05/11 20:13:24 jasper Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.18.3
REVISION=		3
@


1.71
log
@forgot to commit this part of the uuid WANTLIB sync
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2015/04/21 18:51:26 sthen Exp $
d6 1
a6 1
REVISION=		2
d13 1
a13 1
WANTLIB += soup-2.4 sqlite3 tasn1 telepathy-glib xml2 z
@


1.70
log
@add some simple missing lzma WANTLIBs (crept in via libxml)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2015/04/04 09:21:03 ajacoutot Exp $
d6 1
a6 1
REVISION=		1
d13 1
a13 1
WANTLIB += soup-2.4 sqlite3 tasn1 telepathy-glib uuid xml2 z
@


1.69
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2014/09/07 18:24:56 jasper Exp $
d6 1
a6 1
REVISION=		0
d10 4
a13 5
WANTLIB += c dbus-1 dbus-glib-1 uuid ffi gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gmp gnutls gobject-2.0 gssdp-1.0 gthread-2.0
WANTLIB += gupnp-1.0 gupnp-igd-1.0 hogweed m nettle nice p11-kit
WANTLIB += pcre pthread soup-2.4 sqlite3 tasn1 telepathy-glib
WANTLIB += xml2 z
@


1.68
log
@sort
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2014/05/08 13:41:18 jasper Exp $
d6 1
@


1.67
log
@update to telepathy-gabble-0.18.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2014/03/20 20:48:21 jasper Exp $
d19 3
a21 1

a24 4

# needed for the tests
BUILD_DEPENDS +=	devel/py-twisted/words \
			x11/dbus-python
@


1.66
log
@better way to clean the plist instead of @@comment'ing .a/.la files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2014/03/20 20:31:39 jasper Exp $
d5 1
a5 1
DISTNAME=		telepathy-gabble-0.18.2
@


1.65
log
@update to telepathy-gabble-0.18.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2014/03/14 17:26:18 ajacoutot Exp $
d41 3
@


1.64
log
@Sync comment about the need to RUN_DEPENDS on gtk+3 when the
corresponding introspection is used; add missing dependency where
needed (i.e. when not provided by indirect dependencies).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/10/26 08:02:57 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.18.1
REVISION=		1
@


1.63
log
@Fix dependencies and bump after the recent libsoup -gnome => -main merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/09/27 17:34:42 jasper Exp $
d6 1
a6 1
REVISION=		0
d31 3
@


1.62
log
@move gtkdoc related bits into Makefile.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/09/27 14:03:31 jasper Exp $
d6 1
@


1.61
log
@update to telepathy-gabble-0.18.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/06/21 22:38:12 sthen Exp $
a33 1
			--disable-gtk-doc \
a37 6

# If one of these tools is found at configure stage, it might be used,
# no matter whether we use --disable-gtk-doc or not.
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@


1.60
log
@sync WANTLIB and remove patches to handle e2fsprogs/libuuid changes. ok aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/06/20 18:03:02 jasper Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.16.5
REVISION=		2
@


1.59
log
@remove patches that are not needed anymore; probably due to header cleanups in base.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/04/16 10:21:58 ajacoutot Exp $
d6 1
a6 1
REVISION=		1
d10 1
a10 1
WANTLIB += c dbus-1 dbus-glib-1 e2fs-uuid ffi gio-2.0 glib-2.0
@


1.58
log
@Bump after py-gobject3 change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/03/04 18:49:29 jasper Exp $
d6 1
a6 1
REVISION=		0
@


1.57
log
@SECURITY UPDATE to telepathy-gabble 0.16.5, addresses
CVE-2013-1769: remotely-triggered NULL pointer dereference in telepathy-gabble
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/11/13 10:54:02 jasper Exp $
d6 1
@


1.56
log
@- update to telepathy-gabbler-0.16.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/09/28 06:44:18 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		telepathy-gabble-0.16.4
@


1.55
log
@Fix telepathy-gabble-xmpp-console.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/09/25 13:24:09 jasper Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.16.3
REVISION=		0
@


1.54
log
@- bugfix update to telepathy-gabble-0.16.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/09/21 14:48:06 ajacoutot Exp $
d6 1
d31 2
@


1.53
log
@Stupid autohell is stupid...
The situation is this: even when we --disable-gtk-doc, if gtk-doc is
actually installed at configure stage, tools like gtkdoc-rebase will be
picked up and run during the install target. That is bad because the
gtk-doc package may have been removed by then, especially during dpb(1)
bulks (we explicitely disable support for it so why should it stay...).

So for now, let's add the following env to configure whenever we use
--disable-gtk-doc, until a bettersolution is found...
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/08/29 17:50:55 jasper Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.16.0
REVISION=		2
@


1.52
log
@move CONFIGURE_STYLE to Makefile.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/04/30 09:39:26 ajacoutot Exp $
d38 6
@


1.51
log
@Sync dependencies after libnice update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/04/03 09:37:07 ajacoutot Exp $
a31 1
CONFIGURE_STYLE=	gnu
@


1.51.2.1
log
@SECURITY FIX for CVE-2013-1769: remotely-triggered NULL pointer dereference in telepathy-gabble
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/04/30 09:39:26 ajacoutot Exp $
d6 1
a6 1
REVISION=		3
@


1.50
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/04/03 09:26:37 ajacoutot Exp $
d6 1
a6 1
REVISION=		1
d10 4
a13 3
WANTLIB += c dbus-1 dbus-glib-1 ffi gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gmp gnutls gobject-2.0 gthread-2.0 hogweed m nettle
WANTLIB += nice p11-kit pcre pthread soup-2.4 sqlite3 tasn1 telepathy-glib
d22 1
a22 1
			net/libnice>=0.0.13 \
@


1.49
log
@OpenSSL support is broken an non maintained, so use the default which is
GNUTls; it's already in the dep chain because of libsoup anyway.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/04/03 08:03:18 ajacoutot Exp $
d6 1
a6 1
REVISION=		0
@


1.48
log
@py-gobject3 is needed a RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2012/04/03 07:29:09 ajacoutot Exp $
d10 4
a13 9
SHARED_LIBS +=  wocky                0.0      # unknown
SHARED_LIBS +=  gabble-plugins       0.0      # unknown
SHARED_LIBS +=  test                 0.0      # unknown
SHARED_LIBS +=  console              0.0      # unknown
SHARED_LIBS +=  gateways             0.0      # unknown

WANTLIB += c crypto dbus-1 dbus-glib-1 ffi gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gthread-2.0 m nice pcre pthread soup-2.4
WANTLIB += sqlite3 ssl telepathy-glib xml2 z
d35 1
a35 2
			--enable-plugins \
			--with-tls=openssl
@


1.47
log
@Tweak BUILD_DEPENDS for tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/04/03 07:13:00 ajacoutot Exp $
d6 1
d32 3
@


1.46
log
@Update to telepathy-gabble-0.16.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/03/23 13:28:25 ajacoutot Exp $
d22 2
a23 3
BUILD_DEPENDS=		textproc/libxslt \
			devel/py-twisted/words \
			net/py-xmpp
d27 4
@


1.45
log
@Fix build with glib >= 2.31.20.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/02/26 12:53:09 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		telepathy-gabble-0.14.1
d9 6
d27 1
a27 1
			net/telepathy/telepathy-glib>=0.14.5
a34 1
CONFIGURE_ENV+=		ac_cv_prog_PYTHON="${MODPY_BIN}"
@


1.44
log
@Update to telepathy-gabble-0.14.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/11/17 14:38:07 jasper Exp $
d26 1
@


1.43
log
@- update telepathy-gabble to 0.12.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/10/31 10:25:04 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		telepathy-gabble-0.12.7
@


1.42
log
@Add WRKSRC to MODGNU_CONFIG_GUESS_DIRS.

ok jasper (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/10/27 16:22:45 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.12.6
REVISION=		1
@


1.41
log
@Use openssl instead of gnutls.

ok jasper@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/09/16 20:00:46 jasper Exp $
d31 1
a31 1
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC}/lib/ext/wocky
@


1.40
log
@- prettify a few specs
- tweak WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/09/16 19:53:24 jasper Exp $
d6 1
a6 1
REVISION=		0
d10 3
a12 4
WANTLIB += c dbus-1 dbus-glib-1 gio-2.0 glib-2.0 gmodule-2.0 gmp
WANTLIB += gnutls gobject-2.0 gthread-2.0 hogweed m nettle nice
WANTLIB += pcre p11-kit pthread soup-2.4 sqlite3 tasn1 telepathy-glib
WANTLIB += xml2 z
d27 2
a28 1
			--enable-plugins
@


1.39
log
@- update to 0.12.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/09/16 11:13:40 espie Exp $
d6 1
d12 1
a12 1
WANTLIB += pcre pthread soup-2.4 sqlite3 tasn1 telepathy-glib
@


1.38
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/09/14 13:35:24 jasper Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.12.0
REVISION=		1
@


1.37
log
@- zap USE_GROFF where not needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/06/08 18:03:52 jasper Exp $
d6 1
a6 1
REVISION=		0
@


1.36
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/04/26 06:59:11 jasper Exp $
a29 1
USE_GROFF=		Yes
@


1.35
log
@- update to 0.12.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/04/05 19:53:03 jasper Exp $
d6 1
@


1.34
log
@- slightly improve readability of Makefiles by using a shorthand for TELEPATHY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/04/05 18:55:42 jasper Exp $
d5 1
a5 1
DISTNAME=		telepathy-gabble-0.10.5
d9 4
a12 4
WANTLIB += c dbus-1 dbus-glib-1 gcrypt gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnutls gobject-2.0 gthread-2.0 m pcre pthread tasn1
WANTLIB += xml2 z sqlite3 gpg-error telepathy-glib
WANTLIB += nice>=1 soup-2.4
d22 1
a22 1
			net/telepathy/telepathy-glib
@


1.33
log
@- update telepathy-gabble to 0.10.5

(this must've been the first telepathy update in years that didn't
require the latest linux kernel apis...what a breeze!)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/03/02 14:41:18 jasper Exp $
d7 1
a7 1
MASTER_SITES=		${MASTER_SITES_TELEPATHY:=telepathy-gabble/}
@


1.32
log
@Security fix for CVE-2011-1000
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/01/17 17:58:30 jasper Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.10.4
REVISION=		0
d26 2
a27 1
			--disable-gtk-doc
@


1.31
log
@- use ac_cv_prog_PYTHON and remove patch

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/01/17 00:15:56 jasper Exp $
d6 1
@


1.31.2.1
log
@Security fix for CVE-2011-1000
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/03/02 14:41:18 jasper Exp $
a5 1
REVISION=		0
@


1.30
log
@- update telepathy-gabble to 0.10.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/12/21 11:12:00 ajacoutot Exp $
d27 1
a30 3

pre-configure:
	${SUBST_CMD} ${WRKSRC}/configure
@


1.29
log
@Prefer GnuTLS over openssl. This is the recommended way and it actually
fixes several issues connecting to jabber servers over tls connection.
While here, add missing MODGNU_CONFIG_GUESS_DIRS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/11/22 10:16:08 espie Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.10.0
REVISION=		2
d11 1
a11 1
WANTLIB += xml2 z sqlite3 e2fs-uuid gpg-error telepathy-glib
d22 1
a22 2
			net/telepathy/telepathy-glib \
			sysutils/e2fsprogs
a26 2
CONFIGURE_ENV=		UUID_LIBS="`pkg-config --libs e2fs-uuid`" \
			UUID_CFLAGS="`pkg-config --cflags e2fs-uuid`"
@


1.28
log
@remaining WANTLIB go .>=   to >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/11/19 22:31:38 espie Exp $
d6 1
a6 1
REVISION=		1
d13 1
a13 1
WANTLIB += nice>=1 soup-2.4 crypto ssl
a27 1
			--with-tls=openssl \
d30 4
a33 4
			UUID_CFLAGS="`pkg-config --cflags e2fs-uuid`" \
			TLS_CFLAGS="-I/usr/include" \
			TLS_LIBS="-L/usr/lib -lssl -lcrypto"
USE_GROFF =		Yes
@


1.27
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/10/18 21:50:39 sthen Exp $
d13 1
a13 1
WANTLIB += nice.>=1 soup-2.4 crypto ssl
@


1.26
log
@fix tabs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/10/18 18:36:58 espie Exp $
d18 7
a24 7
BUILD_DEPENDS=		::textproc/libxslt \
			::devel/py-twisted/words \
			::net/py-xmpp
LIB_DEPENDS=		::devel/libsoup \
			:libnice->=0.0.13:net/libnice \
			::net/telepathy/telepathy-glib \
			::sysutils/e2fsprogs
d34 1
a34 1
USE_GROFF =	Yes
@


1.25
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/09/24 13:28:20 ajacoutot Exp $
d34 1
a34 1
			USE_GROFF =	Yes
@


1.24
log
@Remove unused patch, code path is ifdef __linux
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/09/24 10:06:19 ajacoutot Exp $
d34 1
@


1.23
log
@Fix connection to jabber by using openssl instead of gnutls.
Tighten dependencies, set a proper CA certificate file path and don't
pass socket options we don't support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/09/23 14:24:22 jasper Exp $
d6 1
a6 1
REVISION=		0
@


1.22
log
@- move USE_LIBTOOL to Makefile.inc too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/09/23 14:19:10 jasper Exp $
d6 1
d13 1
a13 1
WANTLIB += nice.>=1 soup-2.4
d18 1
a18 1
BUILD_DEPENDS=		${RUN_DEPENDS} \
a20 1
RUN_DEPENDS=		::textproc/libxslt
d22 1
a22 1
			::net/libnice \
a23 1
			::security/libgpg-error \
d27 3
d31 3
a33 1
			UUID_CFLAGS="`pkg-config --cflags e2fs-uuid`"
@


1.21
log
@- move USE_GMAKE to Makefile.inc and set it to No for pinnochio
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/09/23 13:37:12 jasper Exp $
a26 1
USE_LIBTOOL=		Yes
@


1.20
log
@- update telepathy-gabble to 0.10.0
- enable uuid
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/08/30 21:26:30 sthen Exp $
a26 1
USE_GMAKE=		Yes
@


1.19
log
@And now for something completely different. More python bumps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/07/13 21:08:01 sthen Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.9.10
REVISION=		1
d11 2
a12 1
WANTLIB += xml2 z
d21 5
a25 3
LIB_DEPENDS=		soup-2.4::devel/libsoup \
			telepathy-glib.>=5::net/telepathy/telepathy-glib \
			gpg-error::security/libgpg-error
d30 2
@


1.18
log
@use REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/04/23 17:59:12 jasper Exp $
d6 1
a6 1
REVISION=		0
@


1.17
log
@- add myself as maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/04/23 12:41:16 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.16
log
@- update telepathy-gabble to 0.9.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/06/02 17:10:42 jasper Exp $
d6 1
@


1.15
log
@- tidy after defining EAI_OVERFLOW
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/06/02 04:43:33 jasper Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.7.27
PKGNAME=		${DISTNAME}p0
d9 3
a11 3
WANTLIB += c crypto dbus-1 dbus-glib-1 gcrypt gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnutls gobject-2.0 gpg-error gthread-2.0
WANTLIB += idn m pcre pthread ssl tasn1 xml2 z
d20 3
a22 3
LIB_DEPENDS=		loudmouth-1.>=3::net/loudmouth \
			telepathy-glib.>=4::net/telepathy/telepathy-glib \
			soup-2.4::devel/libsoup
@


1.14
log
@- update telepathy-gabble to 0.7.27
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/03/24 20:07:05 jasper Exp $
d6 1
d10 3
a12 2
WANTLIB=		c crypto dbus-1 dbus-glib-1 glib-2.0 gobject-2.0 \
			idn pcre pthread ssl
d22 2
a23 1
			telepathy-glib.>=4::net/telepathy/telepathy-glib
@


1.13
log
@- bumps in telepathy where needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/01/20 10:43:53 jasper Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.7.18
PKGNAME=		${DISTNAME}p1
d20 1
a20 1
			telepathy-glib.>=3::net/telepathy/telepathy-glib
@


1.12
log
@- set SHARED_ONLY=Yes (and =No in telepathy-spec)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/01/20 10:28:28 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.11
log
@- update telepathy-gabble to 0.7.18
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/01/19 10:57:32 jasper Exp $
d6 1
@


1.10
log
@...and do the loudmouth dance here too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/01/03 21:27:25 kili Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.7.17
PKGNAME=		${DISTNAME}p2
@


1.9
log
@- sync wantlib after loudmouth's switch to gnutls
@
text
@d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d10 2
a11 2
WANTLIB=	c dbus-1 dbus-glib-1 gcrypt glib-2.0 gobject-2.0 gnutls \
		gpg-error idn pcre pthread z
d20 1
a20 1
LIB_DEPENDS=		loudmouth-1.>=2::net/loudmouth \
@


1.8
log
@
MODPY_EXPAT_DEPENDS doesn't exist any longer.

While here, update PLISTs, some WANTLIBs, some license
markers and use MODPY_EGG_VERSION where it may help to
keep future PLIST diffs smaller.

help, nitpicking and ok jasper@@, ok wcmaier@@

note that print/py-reportlab/reportlab needs some more
love.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/12/22 23:58:58 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d10 2
a11 2
WANTLIB=		c crypto dbus-1 dbus-glib-1 glib-2.0 gobject-2.0 \
			idn pcre pthread ssl
d20 1
a20 1
LIB_DEPENDS=		loudmouth-1::net/loudmouth \
@


1.7
log
@- update telepathy-gabble to 0.7.17
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/11/14 17:29:24 jasper Exp $
d6 1
d19 1
a19 2
RUN_DEPENDS=		${MODPY_EXPAT_DEPENDS} \
			::textproc/libxslt
@


1.6
log
@- update telepathy-gabble to 0.7.15
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/11/05 10:14:43 jasper Exp $
d5 1
a5 1
DISTNAME=		telepathy-gabble-0.7.15
@


1.5
log
@- update telepathy-gabble to 0.7.14 (to chase the spec update)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/10/27 00:05:59 jasper Exp $
d5 1
a5 1
DISTNAME=		telepathy-gabble-0.7.14
@


1.4
log
@- update telepathy-gabble to 0.7.12

feedback and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/12/30 22:49:28 jasper Exp $
d5 1
a5 1
DISTNAME=		telepathy-gabble-0.7.12
d21 1
a21 1
			telepathy-glib::net/telepathy/telepathy-glib
a25 2

SUBST_VARS=		MODPY_VERSION
@


1.3
log
@- update telepathy-gabble to 0.7.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/10/30 13:07:03 jasper Exp $
d5 1
a5 1
DISTNAME=		telepathy-gabble-0.7.1
d15 3
a17 1
BUILD_DEPENDS=		${RUN_DEPENDS}
d27 4
a30 2
# needs a running instance of dbus-daemon
REGRESS_IS_INTERACTIVE= Yes
@


1.2
log
@explicitly depend on python-expat, instead of just python

spotted by sturm@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/10/27 16:18:53 jasper Exp $
d5 1
a5 2
DISTNAME=		telepathy-gabble-0.6.0
PKGNAME=		${DISTNAME}p0
d7 1
a7 1
MASTER_SITES=		http://telepathy.freedesktop.org/releases/telepathy-gabble/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d17 2
a18 1
RUN_DEPENDS=		::textproc/libxslt
@


1.1.1.1
log
@import basic components of the telepathy framework.

The Telepathy project aims to provide a unified framework for all forms
of real time conversations, including instant messaging, IRC, voice
calls and video calls. It uses the D-Bus messaging system to provide a
simple interface for client applications, allowing them to quickly
benefit from Telepathy's functionality.

feedback from steven@@ and simon@@

@
text
@@
