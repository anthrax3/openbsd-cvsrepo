head	1.4;
access;
symbols
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.1.0.6
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.4
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2011.01.17.17.58.30;	author jasper;	state dead;
branches;
next	1.3;

1.3
date	2010.09.23.13.44.17;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2010.04.23.12.42.54;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2008.11.04.22.48.17;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- use ac_cv_prog_PYTHON and remove patch

ok aja@@
@
text
@$OpenBSD: patch-configure,v 1.3 2010/09/23 13:44:17 jasper Exp $
--- configure.orig	Tue Sep 21 22:59:38 2010
+++ configure	Tue Sep 21 23:01:39 2010
@@@@ -2726,14 +2726,6 @@@@ echo timestamp > conftest.file
 # name.  Accept space and tab only in the latter.
 am_lf='
 '
-case `pwd` in
-  *[\\\"\#\$\&\'\`$am_lf]*)
-    as_fn_error $? "unsafe absolute working directory name" "$LINENO" 5 ;;
-esac
-case $srcdir in
-  *[\\\"\#\$\&\'\`$am_lf\ \	]*)
-    as_fn_error $? "unsafe srcdir value: \`$srcdir'" "$LINENO" 5 ;;
-esac
 
 # Do `set' in a subshell so we don't clobber the current shell's
 # arguments.  Must try -L first in case configure is actually a
@@@@ -15038,7 +15030,7 @@@@ $as_echo_n "checking whether $PYTHON version >= 2.5...
 # split strings by '.' and convert to numeric.  Append some zeros
 # because we need at least 4 digits for the hex conversion.
 # map returns an iterator in Python 3.0 and a list in 2.x
-minver = list(map(int, '2.5'.split('.'))) + [0, 0, 0]
+minver = list(map(int, '${MODPY_VERSION}'.split('.'))) + [0, 0, 0]
 minverhex = 0
 # xrange is not present in Python 3.0 and range returns an iterator
 for i in list(range(0, 4)): minverhex = (minverhex << 8) + minver[i]
@@@@ -15063,7 +15055,7 @@@@ if test "${am_cv_pathless_PYTHON+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
-	for am_cv_pathless_PYTHON in python python2 python3 python3.0 python2.5 python2.4 python2.3 python2.2 python2.1 python2.0 none; do
+	for am_cv_pathless_PYTHON in python${MODPY_VERSION}; do
 	  test "$am_cv_pathless_PYTHON" = none && break
 	  prog="import sys
 # split strings by '.' and convert to numeric.  Append some zeros
@


1.3
log
@- update telepathy-m-c to 5.6.0
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.2 2010/04/23 12:42:54 jasper Exp $
@


1.2
log
@- update telepathy-mission-control to 5.4.0
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.1 2008/11/04 22:48:17 jasper Exp $
--- configure.orig	Thu Apr 15 21:29:32 2010
+++ configure	Fri Apr 23 00:49:35 2010
@@@@ -2708,14 +2708,6 @@@@ echo timestamp > conftest.file
d10 1
a10 1
-    as_fn_error "unsafe absolute working directory name" "$LINENO" 5;;
d14 1
a14 1
-    as_fn_error "unsafe srcdir value: \`$srcdir'" "$LINENO" 5;;
d19 10
a28 1
@@@@ -15024,13 +15016,13 @@@@ if test "${am_cv_pathless_PYTHON+set}" = set; then :
a36 7
 # because we need at least 4 digits for the hex conversion.
 # map returns an iterator in Python 3.0 and a list in 2.x
-minver = list(map(int, '2.5'.split('.'))) + [0, 0, 0]
+minver = list(map(int, '${MODPY_VERSION}'.split('.'))) + [0, 0, 0]
 minverhex = 0
 # xrange is not present in Python 3.0 and range returns an iterator
 for i in list(range(0, 4)): minverhex = (minverhex << 8) + minver[i]
@


1.1
log
@- fix build with python 2.4 is also installed

no bump required as nothing changes for system that only have 2.5,
and if python 2.4 was present, it didn't build anyway.

spotted by naddy@@, thanks!
@
text
@d1 15
a15 5
$OpenBSD$
--- configure.orig	Wed Jul 16 08:36:39 2008
+++ configure	Tue Nov  4 23:45:02 2008
@@@@ -20238,7 +20238,7 @@@@ echo "$as_me: error: xsltproc (from the libxslt source
 fi
d17 18
a34 6
 PYTHON=
-for ac_prog in python2.3 python2.4 python2.5 python
+for ac_prog in python${MODPY_VERSION}
 do
   # Extract the first word of "$ac_prog", so it can be a program name with args.
 set dummy $ac_prog; ac_word=$2
@

