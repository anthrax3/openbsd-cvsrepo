head	1.3;
access;
symbols
	OPENBSD_4_1:1.2.0.4
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.2
	OPENBSD_3_9:1.1.0.2;
locks; strict;
comment	@# @;


1.3
date	2007.04.19.23.04.53;	author espie;	state dead;
branches;
next	1.2;

1.2
date	2007.02.02.19.28.52;	author espie;	state Exp;
branches
	1.2.2.1
	1.2.4.1;
next	1.1;

1.1
date	2007.01.24.01.32.51;	author espie;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2007.01.31.14.27.28;	author sturm;	state Exp;
branches;
next	;

1.2.2.1
date	2007.02.03.16.25.14;	author sturm;	state Exp;
branches;
next	1.2.2.2;

1.2.2.2
date	2007.08.01.06.12.53;	author ajacoutot;	state dead;
branches;
next	;

1.2.4.1
date	2007.08.01.06.13.22;	author ajacoutot;	state dead;
branches;
next	;


desc
@@


1.3
log
@update to newer version, after checking it works fine.
@
text
@$OpenBSD: patch-src_networks_donkey_donkeyTypes_ml,v 1.2 2007/02/02 19:28:52 espie Exp $
--- src/networks/donkey/donkeyTypes.ml.orig	Sun Nov 26 17:36:29 2006
+++ src/networks/donkey/donkeyTypes.ml	Fri Feb  2 13:51:16 2007
@@@@ -602,6 +602,8 @@@@ and upload_info = {
     mutable up_pos : int64;
     mutable up_end_chunk : int64;
     mutable up_chunks : (int64 * int64) list;
+    (* zones sent but not yet received by other peer, oldest first *)
+    mutable up_flying_chunks : (int64 * int64) list; 
     mutable up_waiting : bool;
   }
 
@


1.2
log
@update to 2.8.2, appears to work fine on both i386 and sparc64.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2.4.1
log
@MFC (origal commit rui@@):
- update mldonkey to 2.9.0 (fix MLDonkey Network Modules IP Blocking Weakness)
Reference: http://secunia.com/advisories/26230/

ok sturm@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_networks_donkey_donkeyTypes_ml,v 1.2 2007/02/02 19:28:52 espie Exp $
@


1.2.2.1
log
@MFC:
fix a nasty bug, where emule clients receive twice (!) the data they want.
@
text
@d2 3
a4 3
--- src/networks/donkey/donkeyTypes.ml.orig	Sat May 20 01:43:54 2006
+++ src/networks/donkey/donkeyTypes.ml	Sat Feb  3 17:00:05 2007
@@@@ -728,6 +728,8 @@@@ and upload_info = {
@


1.2.2.2
log
@MFC (origal commit rui@@):
- update mldonkey to 2.9.0 (fix MLDonkey Network Modules IP Blocking Weakness)
Reference: http://secunia.com/advisories/26230/

ok sturm@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_networks_donkey_donkeyTypes_ml,v 1.2.2.1 2007/02/03 16:25:14 sturm Exp $
@


1.1
log
@fix a nasty bug, where emule clients receive twice (!) the data they want.
from spiralvoice, thx !
@
text
@d2 3
a4 3
--- src/networks/donkey/donkeyTypes.ml.orig	Tue Sep  5 16:18:24 2006
+++ src/networks/donkey/donkeyTypes.ml	Wed Jan 24 02:25:44 2007
@@@@ -569,6 +569,8 @@@@ and upload_info = {
@


1.1.2.1
log
@MFC:
fix a nasty bug, where emule clients receive twice (!) the data they want.
@
text
@d2 3
a4 3
--- src/networks/donkey/donkeyTypes.ml.orig	Mon Aug  8 18:47:31 2005
+++ src/networks/donkey/donkeyTypes.ml	Wed Jan 31 15:18:34 2007
@@@@ -556,6 +556,8 @@@@ and upload_info = {
@

