head	1.4;
access;
symbols
	OPENBSD_3_8:1.3.0.2
	OPENBSD_3_8_BASE:1.3;
locks; strict;
comment	@# @;


1.4
date	2005.10.18.14.12.35;	author naddy;	state dead;
branches;
next	1.3;

1.3
date	2005.08.02.14.00.31;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2005.06.01.16.02.31;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2005.05.15.14.58.09;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to 4.1.6.
Attention, all executable names have changed.
@
text
@$OpenBSD: patch-BitTorrent___init___py,v 1.3 2005/08/02 14:00:31 naddy Exp $
--- BitTorrent/__init__.py.orig	Sat Jul  9 01:22:38 2005
+++ BitTorrent/__init__.py	Tue Jul 19 20:58:37 2005
@@@@ -29,7 +29,7 @@@@ if os.name == 'posix':
         gettext.install('bittorrent', 'locale')
     
 def calc_unix_dirs():
-    appdir = '%s-%s'%(app_name, version)
+    appdir = app_name
     ip = os.path.join('share', 'pixmaps', appdir)
     dp = os.path.join('share', 'doc'    , appdir)
     lp = os.path.join('share', 'locale')
@@@@ -145,10 +145,13 @@@@ if is_frozen_exe:
 del sys
 
 def spawn(torrentqueue, cmd, *args):
-    ext = 'py'
+    ext = ''
     if is_frozen_exe:
         ext = 'exe'
-    path = os.path.join(app_root,cmd+'.'+ext)
+    if ext == '':
+        path = os.path.join(app_root,cmd)
+    else:
+        path = os.path.join(app_root,cmd+'.'+ext)
     args = [path] + list(args) # $0
     if os.name == 'nt':
         # do proper argument quoting since exec/spawn on Windows doesn't
@


1.3
log
@Update to 4.1.3.  Bug fixes and much improved reliability.
@
text
@d1 1
a1 1
$OpenBSD: patch-BitTorrent___init___py,v 1.2 2005/06/01 16:02:31 naddy Exp $
@


1.2
log
@Update to 4.1.1.  This release adds "trackerless" operation.  (untested)
Take maintainer.
@
text
@d1 6
a6 6
$OpenBSD: patch-BitTorrent___init___py,v 1.1 2005/05/15 14:58:09 naddy Exp $
--- BitTorrent/__init__.py.orig	Tue May 24 00:01:28 2005
+++ BitTorrent/__init__.py	Sat May 28 12:46:46 2005
@@@@ -22,7 +22,7 @@@@ import os
 import re
 
d12 2
a13 2
     return ip, dp
@@@@ -133,10 +133,13 @@@@ if is_frozen_exe:
@


1.1
log
@Enable GUI components, but put them in -gui subpackage.
@
text
@d1 3
a3 3
$OpenBSD$
--- BitTorrent/__init__.py.orig	Fri May 13 14:56:32 2005
+++ BitTorrent/__init__.py	Fri May 13 14:57:14 2005
d13 16
@

