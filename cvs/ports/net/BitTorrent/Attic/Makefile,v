head	1.38;
access;
symbols
	OPENBSD_5_4:1.37.0.2
	OPENBSD_5_4_BASE:1.37
	OPENBSD_5_3:1.36.0.6
	OPENBSD_5_3_BASE:1.36
	OPENBSD_5_2:1.36.0.4
	OPENBSD_5_2_BASE:1.36
	OPENBSD_5_1_BASE:1.36
	OPENBSD_5_1:1.36.0.2
	OPENBSD_5_0:1.35.0.2
	OPENBSD_5_0_BASE:1.35
	OPENBSD_4_9:1.33.0.2
	OPENBSD_4_9_BASE:1.33
	OPENBSD_4_8:1.30.0.2
	OPENBSD_4_8_BASE:1.30
	OPENBSD_4_7:1.29.0.2
	OPENBSD_4_7_BASE:1.29
	OPENBSD_4_6:1.28.0.2
	OPENBSD_4_6_BASE:1.28
	OPENBSD_4_5:1.27.0.6
	OPENBSD_4_5_BASE:1.27
	OPENBSD_4_4:1.27.0.4
	OPENBSD_4_4_BASE:1.27
	OPENBSD_4_3:1.27.0.2
	OPENBSD_4_3_BASE:1.27
	OPENBSD_4_2:1.25.0.4
	OPENBSD_4_2_BASE:1.25
	OPENBSD_4_1:1.25.0.2
	OPENBSD_4_1_BASE:1.25
	OPENBSD_4_0:1.20.0.2
	OPENBSD_4_0_BASE:1.20
	OPENBSD_3_9:1.18.0.2
	OPENBSD_3_9_BASE:1.18
	OPENBSD_3_8:1.12.0.2
	OPENBSD_3_8_BASE:1.12
	OPENBSD_3_7:1.5.0.4
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.5.0.2
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.1.1.1.0.2
	OPENBSD_3_4_BASE:1.1.1.1
	jolan_2003-aug-20:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.38
date	2013.11.24.18.28.37;	author naddy;	state dead;
branches;
next	1.37;

1.37
date	2013.03.11.11.35.45;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2011.09.16.11.13.37;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2011.06.08.18.00.49;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2011.06.02.13.41.39;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2010.11.19.22.31.32;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2010.11.09.19.46.52;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2010.08.30.21.14.34;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2010.07.12.22.07.37;	author sthen;	state Exp;
branches;
next	1.29;

1.29
date	2009.08.11.23.47.14;	author martynas;	state Exp;
branches;
next	1.28;

1.28
date	2009.03.16.22.20.02;	author kili;	state Exp;
branches;
next	1.27;

1.27
date	2007.10.08.08.22.41;	author steven;	state Exp;
branches;
next	1.26;

1.26
date	2007.09.15.22.36.51;	author merdely;	state Exp;
branches;
next	1.25;

1.25
date	2006.11.28.19.13.57;	author naddy;	state Exp;
branches;
next	1.24;

1.24
date	2006.11.22.21.58.24;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2006.11.13.17.12.12;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2006.11.07.14.09.56;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2006.09.20.16.02.03;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2006.06.03.09.43.03;	author alek;	state Exp;
branches;
next	1.19;

1.19
date	2006.05.08.13.46.48;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2005.12.19.03.50.17;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2005.12.04.12.38.15;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2005.11.23.20.38.26;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2005.11.20.17.46.53;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2005.11.06.01.06.07;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2005.10.18.14.12.35;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2005.08.02.14.00.31;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2005.06.20.21.19.18;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2005.06.01.16.02.31;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2005.05.15.14.58.08;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2005.05.03.09.47.59;	author alek;	state Exp;
branches;
next	1.7;

1.7
date	2005.04.21.22.17.02;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2005.04.16.21.13.02;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2004.08.04.19.14.30;	author xsa;	state Exp;
branches;
next	1.4;

1.4
date	2004.04.15.03.41.14;	author jolan;	state Exp;
branches;
next	1.3;

1.3
date	2004.04.06.04.42.20;	author jolan;	state Exp;
branches;
next	1.2;

1.2
date	2003.09.27.14.40.32;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2003.08.21.03.39.57;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.08.21.03.39.57;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.38
log
@Remove BitTorrent Mainline client.  Reported broken, long dead upstream.
Suggested by Amit Kulkarni; ok zhuk@@ brad@@ espie@@
@
text
@# $OpenBSD: Makefile,v 1.37 2013/03/11 11:35:45 espie Exp $

COMMENT-main=	cooperative file distribution system implemented in Python
COMMENT-gui=	graphical interface components for BitTorrent

VERSION=	4.4.0
DISTNAME=	BitTorrent-${VERSION}
PKGNAME-main=	${DISTNAME}
PKGNAME-gui=	BitTorrent-gui-${VERSION}
CATEGORIES=	net

REVISION-main=	11
REVISION-gui=	10

HOMEPAGE=	http://www.bittorrent.com/

# Custom
PERMIT_PACKAGE_CDROM=	may not sell without modification
PERMIT_PACKAGE_FTP=	Yes

MASTER_SITES=	http://download.bittorrent.com/dl/

MULTI_PACKAGES= -main -gui

MODULES=	lang/python
BUILD_DEPENDS=	devel/gettext

RUN_DEPENDS-gui=${PKGNAME-main}:net/BitTorrent \
		x11/py-gtk2>=2.6

NO_TEST=	Yes

post-configure:
	@@perl -pi -e 's,/usr/bin/env python,${MODPY_BIN},g' ${WRKBUILD}/*.py
	@@perl -pi -e 's,python,${MODPY_BIN},' ${WRKSRC}/makei18n.sh

.include <bsd.port.mk>
@


1.37
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/09/16 11:13:37 espie Exp $
@


1.36
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/06/08 18:00:49 jasper Exp $
a17 2
PERMIT_DISTFILES_CDROM=	may not sell without modification
PERMIT_DISTFILES_FTP=	Yes
d31 1
a31 1
NO_REGRESS=	Yes
@


1.35
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/06/02 13:41:39 ajacoutot Exp $
d12 2
a13 2
REVISION-main=	10
REVISION-gui=	9
@


1.34
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/11/19 22:31:32 espie Exp $
d12 2
a13 2
REVISION-main=	9
REVISION-gui=	8
@


1.33
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/11/09 19:46:52 jasper Exp $
a7 1
REVISION=	8
d11 3
@


1.32
log
@- switch to pkg-readmes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/08/30 21:14:34 sthen Exp $
d26 1
a26 1
BUILD_DEPENDS=	::devel/gettext
d28 2
a29 2
RUN_DEPENDS-gui=:${PKGNAME-main}:net/BitTorrent \
		:py-gtk2->=2.6:x11/py-gtk2
@


1.31
log
@bumps for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/07/12 22:07:37 sthen Exp $
d8 1
a8 1
REVISION=	7
a35 4

post-install:
	${INSTALL_DATA} ${FILESDIR}/README.OpenBSD \
		${PREFIX}/share/doc/BitTorrent
@


1.30
log
@use REVISION, checked with before/after make show=PKGNAMES (plus some
extra-careful checking where there are complicated PSEUDO_FLAVORS).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/08/11 23:47:14 martynas Exp $
d8 1
a8 1
REVISION=	6
@


1.29
log
@unlink test_krpc from regress suite.  it breaks the build with
MODPY_VERSION=2.6;  and we have these tests disabled anyway
with/ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/03/16 22:20:02 kili Exp $
d8 3
a10 2
PKGNAME-main=	${DISTNAME}p6
PKGNAME-gui=	BitTorrent-gui-${VERSION}p6
@


1.28
log
@
Bump for python deps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/10/08 08:22:41 steven Exp $
d8 2
a9 2
PKGNAME-main=	${DISTNAME}p5
PKGNAME-gui=	BitTorrent-gui-${VERSION}p5
@


1.27
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/09/15 22:36:51 merdely Exp $
d8 2
a9 2
PKGNAME-main=	${DISTNAME}p4
PKGNAME-gui=	BitTorrent-gui-${VERSION}p4
@


1.26
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/11/28 19:13:57 naddy Exp $
d8 2
a9 2
PKGNAME-main=	${DISTNAME}p3
PKGNAME-gui=	BitTorrent-gui-${VERSION}p3
@


1.25
log
@fix GUI subpackage, pointed out by sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2006/11/22 21:58:24 naddy Exp $
d3 2
a4 2
COMMENT-main=	"cooperative file distribution system implemented in Python"
COMMENT-gui=	"graphical interface components for BitTorrent"
d15 1
a15 1
PERMIT_DISTFILES_CDROM=	"may not sell without modification"
d17 1
a17 1
PERMIT_PACKAGE_CDROM=	"may not sell without modification"
@


1.24
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2006/11/13 17:12:12 naddy Exp $
d9 1
a9 1
PKGNAME-gui=	BitTorrent-gui-${VERSION}p2
d27 1
a27 1
RUN_DEPENDS-gui=:${PKGNAME}:net/BitTorrent \
@


1.23
log
@drop maintainership, I don't use this any longer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2006/11/07 14:09:56 naddy Exp $
d3 1
a3 1
COMMENT=	"cooperative file distribution system implemented in Python"
d8 1
a8 1
PKGNAME=	${DISTNAME}p2
d22 2
d27 1
a27 5
MULTI_PACKAGES=	-gui
SUBPACKAGE?=

.if !empty(SUBPACKAGE)
RUN_DEPENDS=	:${PKGNAME}:net/BitTorrent \
a28 1
.endif
@


1.22
log
@master site changed; from Bruno Bigras <blood@@burnbox.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/09/20 16:02:03 naddy Exp $
d8 2
a9 2
PKGNAME=	${DISTNAME}p1
PKGNAME-gui=	BitTorrent-gui-${VERSION}p1
a12 2

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>
@


1.21
log
@fix resume so it won't always recheck the hash; pointed to by ckuethe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/06/03 09:43:03 alek Exp $
d22 1
a22 2
MASTER_SITES=	http://www.bittorrent.com/dl/ \
		${MASTER_SITE_SOURCEFORGE:=bittorrent/}
@


1.20
log
@Bump PKGNAMEs after recent python switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/05/08 13:46:48 naddy Exp $
d8 2
a9 2
PKGNAME=	${DISTNAME}p0
PKGNAME-gui=	BitTorrent-gui-${VERSION}p0
@


1.19
log
@update to 4.4.0:
- new icons
- a single torrent can now use the complete upload bandwidth
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2005/12/19 03:50:17 naddy Exp $
d8 2
a9 1
PKGNAME-gui=	BitTorrent-gui-${VERSION}
@


1.18
log
@maintenance update to 4.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2005/12/04 12:38:15 naddy Exp $
d6 1
a6 1
VERSION=	4.2.2
d32 1
a32 1
		::x11/py-gtk2 ::x11/hicolor-icon-theme
@


1.17
log
@maintenance update to 4.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2005/11/23 20:38:26 naddy Exp $
d6 1
a6 1
VERSION=	4.2.1
@


1.16
log
@Update to new stable release 4.2.0.

The only notable change is a license revision.  Be conservative and
forbid CDROM distribution; neither jolan@@ nor I quite understand the
relevant section in the "plain English" synopsis, much less the
actual legalese.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2005/11/20 17:46:53 naddy Exp $
d6 1
a6 1
VERSION=	4.2.0
d21 2
a22 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=bittorrent/}
@


1.15
log
@update to 4.1.8 (numerous bug fixes)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2005/11/06 01:06:07 naddy Exp $
d6 1
a6 1
VERSION=	4.1.8
d16 1
a16 1
PERMIT_DISTFILES_CDROM=	Yes
d18 1
a18 1
PERMIT_PACKAGE_CDROM=	Yes
@


1.14
log
@remove workarounds, now that we have modern gettext tools
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2005/10/18 14:12:35 naddy Exp $
d6 1
a6 1
VERSION=	4.1.6
d38 1
@


1.13
log
@Update to 4.1.6.
Attention, all executable names have changed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/08/02 14:00:31 naddy Exp $
a21 4
MASTER_SITES0=	http://grappa.unix-ag.uni-kl.de/~naddy/
DISTFILES=	${DISTNAME}.tar.gz
# pre-built file because our gettext tools are too old
DISTFILES+=	bt416-messages.pot:0
d24 1
a34 2

EXTRACT_CASES=	*.pot) cp ${FULLDISTDIR}/$$archive ${WRKDIST}/messages.pot ;;
@


1.12
log
@Update to 4.1.3.  Bug fixes and much improved reliability.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/06/20 21:19:18 naddy Exp $
d6 1
a6 1
VERSION=	4.1.3
d25 1
a25 1
DISTFILES+=	bt413-messages.pot:0
d42 1
a42 2
	@@perl -pi -e 's,/usr/bin/env python,${MODPY_BIN},g' ${WRKBUILD}/bt*.py
	@@for file in ${WRKBUILD}/bt*.py; do mv $$file $${file%.py}; done
@


1.11
log
@fix subpackage dependencies at build time; suggested by mjc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/06/01 16:02:31 naddy Exp $
d6 1
a6 1
VERSION=	4.1.1
d21 5
a25 1
MASTER_SITES=	${HOMEPAGE}dl/
d38 2
@


1.10
log
@Update to 4.1.1.  This release adds "trackerless" operation.  (untested)
Take maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/05/15 14:58:08 naddy Exp $
d28 1
a28 1
.if defined(PACKAGING) && !empty(SUBPACKAGE)
@


1.9
log
@Enable GUI components, but put them in -gui subpackage.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/05/03 09:47:59 alek Exp $
d6 1
a6 1
VERSION=	4.0.1
d8 1
a8 2
PKGNAME=	BitTorrent-${VERSION}p3
PKGNAME-gui=	BitTorrent-gui-${VERSION}p3
d13 2
d30 1
a30 1
		::x11/py-gtk2
@


1.8
log
@- Remove .py suffix from bt* scripts
- Regen PLIST
- Bump PKGNAME

requested and ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/04/21 22:17:02 naddy Exp $
d4 6
a9 2
DISTNAME=	BitTorrent-4.0.1
PKGNAME=	${DISTNAME}p2
a10 1
MASTER_SITES=	${HOMEPAGE}dl/
d20 2
d24 8
a33 4
SCRIPTS=	btdownloadcurses btdownloadheadless btlaunchmany \
		btlaunchmanycurses btmaketorrent btreannounce \
		btrename btshowmetainfo bttrack

d35 2
a36 6
	@@perl -pi -e \
		's,/usr/bin/env python,/usr/bin/env python${MODPY_VERSION},g' \
	${WRKBUILD}/bt*.py	
.for file in ${SCRIPTS}
	@@mv ${WRKBUILD}/${file}.py ${WRKBUILD}/${file}
.endfor
d39 1
a39 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/BitTorrent
	${INSTALL_DATA} ${WRKSRC}/README.txt ${FILESDIR}/README.OpenBSD \
@


1.7
log
@Enable "bad libc workaround", otherwise I/O would be done one byte at a time.
From: Victor Sahlstedt <salan@@legonet.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/04/16 21:13:02 sturm Exp $
d5 1
a5 1
PKGNAME=	BitTorrent-4.0.1p1
d21 4
d29 3
@


1.6
log
@update to BitTorrent 4.0.1

from Victor Sahlstedt <cvss at home.se>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/08/04 19:14:30 xsa Exp $
d5 1
@


1.5
log
@
MODULES= lang/python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/04/15 03:41:14 jolan Exp $
d4 1
a4 1
DISTNAME=	BitTorrent-3.4.2
d6 1
a6 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=bittorrent/}
d8 1
a8 1
HOMEPAGE=	http://bitconjurer.org/BitTorrent/
d10 1
a10 1
# MIT
d18 2
a28 3

do-regress:
	cd ${WRKBUILD} && ${MODPY_BIN} ./bttest.py
@


1.4
log
@drop maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/04/06 04:42:20 jolan Exp $
d16 1
a16 1
MODULES=	python
@


1.3
log
@update to 3.4.2, prodding by naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/09/27 14:40:32 jolan Exp $
a8 2

MAINTAINER=	Jolan Luff <jolan@@openbsd.org>
@


1.2
log
@Update to 3.3:

- Files now only get allocated as they're downloaded
- Large torrents no longer hose the CPU
- Better network utilization and more consistent download rates
- Poorly seeded torrents get out faster
- Several important bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/08/21 03:39:57 jolan Exp $
d4 1
a4 1
DISTNAME=	BitTorrent-3.3
d6 1
a6 1
MASTER_SITES=	${HOMEPAGE}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 1
DISTNAME=	BitTorrent-3.2.1b
d27 1
a27 1
	${INSTALL_DATA} ${WRKSRC}/{FAQ,README}.txt ${FILESDIR}/README.OpenBSD \
@


1.1.1.1
log
@import of BitTorrent-3.2.1b:

BitTorrent is a tool for distributing files.  Whenever more than one
person is downloading at once they send pieces of the file(s) to each
other, thus relieving the central server's bandwidth burden.  Even with
many simultaneous downloads, the upload burden on the central server
remains quite small, since each new downloader introduces new upload
capacity.

thanks to jose@@ for review/suggestions
@
text
@@
