head	1.4;
access;
symbols
	OPENBSD_2_8:1.2.0.10
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.8
	OPENBSD_2_7_BASE:1.2
	OPENBSD_2_6:1.2.0.6
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.4
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	netpipe3_2:1.1.1.1
	netpipe:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2001.03.21.22.57.24;	author avsm;	state dead;
branches;
next	1.3;

1.3
date	2001.03.12.15.50.29;	author wilfried;	state Exp;
branches;
next	1.2;

1.2
date	98.07.25.23.18.41;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	97.11.18.03.28.20;	author joey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.11.18.03.28.20;	author joey;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- updated to netpipes-4.2-export (seen by Bitt Faulk, wfaulk@@beaglebros.com)
- bump NEED_VERSION
- take MAINTAINER from ports@@
- remove LICENSE_TYPE
- add HOMEPAGE
- improve DESCR
- sort PLIST
- regenerate patch
@
text
@$OpenBSD: patch-aa,v 1.3 2001/03/12 15:50:29 wilfried Exp $
--- Makefile.orig	Tue Jul  7 19:13:07 1998
+++ Makefile	Mon Mar 12 16:50:14 2001
@@@@ -17,7 +17,7 @@@@
 
 # You probably want to change this:
 #INSTROOT = ${HOME}
-INSTROOT = /depot/collections0/netpipes4.1
+INSTROOT = ${PREFIX}
 #INSTROOT = /usr/local
 INSTBIN = ${INSTROOT}/bin
 INSTMAN = ${INSTROOT}/man
@@@@ -59,7 +59,7 @@@@ INSTMAN = ${INSTROOT}/man
 #CFLAGS = -DPOSIX_SIG -DHAVE_INET_ATON $(CDEBUGFLAGS)
 
 # Regular Linux
-CFLAGS = -DUSE_IOCTL -DPOSIX_SIG -DHAVE_INET_ATON $(CDEBUGFLAGS)
+CFLAGS += -DUSE_IOCTL -DPOSIX_SIG -DHAVE_INET_ATON
 
 # SGI
 #CFLAGS = -DSYSV $(CDEBUGFLAGS)
@@@@ -133,13 +133,13 @@@@ ssl-criteria.o: ssl-criteria.c
 install : all
 	test -d ${INSTROOT}  || mkdir ${INSTROOT}
 	test -d ${INSTBIN}  || mkdir ${INSTBIN}
-	cp ${PROGRAMS} ${INSTBIN}/
+	${BSD_INSTALL_PROGRAM} ${PROGRAMS} ${INSTBIN}/
 	- rm -f ${INSTBIN}/getsockname
 	ln -s getpeername ${INSTBIN}/getsockname
-	- [ -x ssl-auth ] && cp ssl-auth ${INSTBIN}/
+	- [ -x ssl-auth ] && ${BSD_INSTALL_PROGRAM} ssl-auth ${INSTBIN}/
 	test -d ${INSTMAN}  || mkdir ${INSTMAN}
 	test -d ${INSTMAN}/man1  || mkdir ${INSTMAN}/man1
-	cp ${MANPAGES} ${INSTMAN}/man1/
+	${BSD_INSTALL_MAN} ${MANPAGES} ${INSTMAN}/man1/
 
 #
 
@


1.3
log
@respect CFLAGS
add cvs tag
@
text
@d1 1
a1 1
$OpenBSD: $
@


1.2
log
@update to version 4.1.1 (export)
@
text
@d1 3
a3 2
--- Makefile.~1~	Tue Jul  7 10:13:07 1998
+++ Makefile	Sat Jul 25 16:02:01 1998
d13 10
a22 1
@@@@ -133,13 +133,13 @@@@
@


1.1
log
@Initial revision
@
text
@d1 2
a2 2
--- Makefile.orig	Fri Jun 28 00:03:45 1996
+++ Makefile	Tue Jul  8 15:15:40 1997
d7 1
a7 1
-INSTROOT = /depot/collections0/netpipes3.2
d9 1
d12 1
a12 18
 
@@@@ -46,8 +46,12 @@@@
 # (that system call is used by the -daemon argument to detach faucet from
 # the controlling terminal)
 
+# FreeBSD 2.1.0
+CFLAGS += -DUSE_IOCTL $(CDEBUGFLAGS)
+CC = gcc
+
 # SunOS 4.1.4
-CFLAGS = -DUSE_IOCTL -DNO_MEMMOVE $(CDEBUGFLAGS)
+#CFLAGS = -DUSE_IOCTL -DNO_MEMMOVE $(CDEBUGFLAGS)
 
 # Linux
 #CFLAGS = -DUSE_IOCTL -DSYSV $(CDEBUGFLAGS)
@@@@ -83,14 +87,9 @@@@
 	${CC} ${CFLAGS} -o $@@ ${GOBJS} ${LDLIBS}
 
d14 2
a15 2
-	[ -d ${INSTROOT} ] || mkdir ${INSTROOT}
-	[ -d ${INSTBIN} ] || mkdir ${INSTBIN}
d17 7
a23 4
-	- rm -f ${INSTBIN}/getsockname
-	ln -s getpeername ${INSTBIN}/getsockname
-	[ -d ${INSTMAN} ] || mkdir ${INSTMAN}
-	[ -d ${INSTMAN}/man1 ] || mkdir ${INSTMAN}/man1
a25 2
+	${BSD_INSTALL_PROGRAM} ${PROGRAMS} ${INSTBIN}/
+	ln -f -s ${INSTBIN}/getpeername ${INSTBIN}/getsockname
d27 2
a28 2
 clean	:
 	rm -f ${FOBJS} ${HOBJS} ${SOBJS} ${GOBJS}
@


1.1.1.1
log
@
@
text
@@
