head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.10
	OPENBSD_6_2_BASE:1.1
	OPENBSD_6_1:1.1.0.8
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.6
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2015.03.17.15.16.26;	author dcoppa;	state Exp;
branches;
next	;
commitid	gU5VbHvDSmHHn0ab;


desc
@@


1.1
log
@
Unbreak slurm.

cluestick for the right fix sthen@@
@
text
@$OpenBSD$
--- src/openbsd.c.orig	Sun Feb 23 11:26:02 2003
+++ src/openbsd.c	Mon Feb 23 05:19:51 2015
@@@@ -128,7 +128,7 @@@@ int get_stat(void)
             /* search for the right network interface */
             if (sdl->sdl_family != AF_LINK)
                 continue;
-            if (strcmp(sdl->sdl_data, ifdata.if_name) != 0)
+            if (strncmp(sdl->sdl_data, ifdata.if_name, sdl->sdl_nlen) != 0)
                 continue;
             strncpy(s, sdl->sdl_data, sdl->sdl_nlen);
             s[sdl->sdl_nlen] = '\0';
@
