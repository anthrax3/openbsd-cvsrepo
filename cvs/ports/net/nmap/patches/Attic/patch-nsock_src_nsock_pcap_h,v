head	1.6;
access;
symbols
	OPENBSD_5_4:1.5.0.6
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.4
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.2
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.4
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.3.0.6
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.4
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.0.4
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2014.02.10.17.43.15;	author sthen;	state dead;
branches;
next	1.5;

1.5
date	2012.07.16.07.39.31;	author giovanni;	state Exp;
branches;
next	1.4;

1.4
date	2011.03.28.09.01.24;	author giovanni;	state Exp;
branches;
next	1.3;

1.3
date	2009.10.22.10.00.57;	author giovanni;	state Exp;
branches;
next	1.2;

1.2
date	2008.09.17.18.09.54;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2008.01.25.01.21.17;	author okan;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update nmap to 6.40, and build with their bundled libpcap for now, bpf_timeval
patches are questionable and there's a timing-related problem to track down.
From giovanni@@ (maintainer) a while ago. Add a fix from jca@@ to fix a floating-
point related assertion failure seen on i386, reminded by zhuk@@. Committing the
update rather than the minimal assertion-fix diff as it has been more
extensively tested in the past (then slipped through the cracks), jasper@@
agrees. OK jasper@@ giovanni@@
@
text
@$OpenBSD: patch-nsock_src_nsock_pcap_h,v 1.5 2012/07/16 07:39:31 giovanni Exp $
--- nsock/src/nsock_pcap.h.orig	Sat Apr  7 10:16:08 2012
+++ nsock/src/nsock_pcap.h	Fri May 25 09:38:57 2012
@@@@ -137,7 +137,7 @@@@ typedef struct{
 } mspcap;
 
 typedef struct{
-  struct timeval ts;
+  struct bpf_timeval ts;
   int caplen;
   int len;
   const unsigned char *packet;  /* caplen bytes */
@


1.5
log
@
Major update to 6.01
tests & ok benoit@@, thanks
@
text
@d1 1
a1 1
$OpenBSD: patch-nsock_src_nsock_pcap_h,v 1.4 2011/03/28 09:01:24 giovanni Exp $
@


1.4
log
@
Update to version 5.51, lot of improvements since latest version,
full changelog available at http://nmap.org/changelog.html
Nping needs a very current libpcap to work as root
@
text
@d1 5
a5 5
$OpenBSD: patch-nsock_src_nsock_pcap_h,v 1.3 2009/10/22 10:00:57 giovanni Exp $
--- nsock/src/nsock_pcap.h.orig	Sat Oct  2 19:26:38 2010
+++ nsock/src/nsock_pcap.h	Wed Feb  2 13:12:14 2011
@@@@ -81,7 +81,7 @@@@ typedef struct{
 
d8 5
a12 5
-	struct timeval ts;
+	struct bpf_timeval ts;
 	int caplen;
 	int len;
 	const unsigned char *packet;	// caplen bytes
@


1.3
log
@
Update to nmap-5.00
diff made by Pawlowski Marcin Piotr with tweaks by me and others
"you have my okay" landry@@ on a similar diff
full changelog available at http://nmap.org/changelog.html
@
text
@d1 4
a4 4
$OpenBSD: patch-nsock_src_nsock_pcap_h,v 1.2 2008/09/17 18:09:54 kili Exp $
--- nsock/src/nsock_pcap.h.orig	Wed Mar  4 04:08:33 2009
+++ nsock/src/nsock_pcap.h	Tue Jul 21 19:57:38 2009
@@@@ -75,7 +75,7 @@@@ typedef struct{
@


1.2
log
@
Update to 4.76. From maintainer Giovanni Bechis <g.bechis@@snb.it>.

ok landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-nsock_src_nsock_pcap_h,v 1.1 2008/01/25 01:21:17 okan Exp $
--- nsock/src/nsock_pcap.h.orig	Wed Aug 13 09:02:22 2008
+++ nsock/src/nsock_pcap.h	Thu Sep 11 15:32:17 2008
@@@@ -72,7 +72,7 @@@@ typedef struct{
@


1.1
log
@- update to 4.53 from Giovanni Bechis (MAINTAINER)
- re-work port from FLAVORS to MULTI_PACKAGES (-main, -zenmap)

lots of feedback and help from kili@@, merdely@@ and Giovanni

ok merdely@@ kili@@
@
text
@d1 4
a4 4
$OpenBSD$
--- nsock/src/nsock_pcap.h.orig	Mon Jan 14 17:07:38 2008
+++ nsock/src/nsock_pcap.h	Mon Jan 14 17:07:55 2008
@@@@ -73,7 +73,7 @@@@ typedef struct{
@

