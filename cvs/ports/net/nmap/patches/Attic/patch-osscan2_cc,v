head	1.4;
access;
symbols
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2016.03.18.21.13.38;	author giovanni;	state dead;
branches;
next	1.3;
commitid	zlRR6IJpSjr8N5kZ;

1.3
date	2016.01.07.13.23.47;	author giovanni;	state Exp;
branches;
next	1.2;
commitid	MbHWCjE1Ed0RmzSe;

1.2
date	2014.05.16.15.08.54;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2014.02.10.17.43.15;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to 7.10 from maintainer David Carlier with tweaks by me
@
text
@$OpenBSD: patch-osscan2_cc,v 1.3 2016/01/07 13:23:47 giovanni Exp $

Format changes for 64-bit time_t, should go upstream

--- osscan2.cc.orig	Tue Nov 10 05:26:26 2015
+++ osscan2.cc	Tue Dec 29 10:47:48 2015
@@@@ -2582,8 +2582,8 @@@@ void HostOsScan::makeTSeqFP(HostOsScanStats *hss) {
     if (lastboot != 0.0 && (hss->seq_send_times[0].tv_sec - lastboot > 63072000)) {
       /* Up 2 years?  Perhaps, but they're probably lying. */
       if (o.debugging) {
-        log_write(LOG_STDOUT, "Ignoring claimed %s uptime of %lu days\n",
-        hss->target->targetipstr(), (hss->seq_send_times[0].tv_sec - hss->si.lastboot) / 86400);
+        log_write(LOG_STDOUT, "Ignoring claimed %s uptime of %lld days\n",
+        hss->target->targetipstr(), (long long) ((hss->seq_send_times[0].tv_sec - hss->si.lastboot) / 86400));
       }
       lastboot = 0;
     }
@


1.3
log
@Update to 7.01 and drop maintainership
new maintainer is David Carlier
ok jca@@
@
text
@d1 1
a1 1
$OpenBSD: patch-osscan2_cc,v 1.2 2014/05/16 15:08:54 sthen Exp $
@


1.2
log
@update to nmap 6.46, tweak from / ok giovanni@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-osscan2_cc,v 1.1 2014/02/10 17:43:15 sthen Exp $
d5 3
a7 3
--- osscan2.cc.orig	Sat Mar 15 12:37:54 2014
+++ osscan2.cc	Thu May 15 20:12:32 2014
@@@@ -2507,8 +2507,8 @@@@ void HostOsScan::makeTSeqFP(HostOsScanStats *hss) {
@


1.1
log
@Update nmap to 6.40, and build with their bundled libpcap for now, bpf_timeval
patches are questionable and there's a timing-related problem to track down.
From giovanni@@ (maintainer) a while ago. Add a fix from jca@@ to fix a floating-
point related assertion failure seen on i386, reminded by zhuk@@. Committing the
update rather than the minimal assertion-fix diff as it has been more
extensively tested in the past (then slipped through the cracks), jasper@@
agrees. OK jasper@@ giovanni@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- osscan2.cc.orig	Mon Jul 29 00:08:48 2013
+++ osscan2.cc	Thu Jan  9 11:58:50 2014
@@@@ -2460,8 +2460,8 @@@@ void HostOsScan::makeTSeqFP(HostOsScanStats *hss) {
@

