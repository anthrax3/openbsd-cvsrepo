head	1.5;
access;
symbols
	OPENBSD_6_2:1.5.0.4
	OPENBSD_6_2_BASE:1.5
	OPENBSD_6_1:1.5.0.2
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3
	tb_2016-Apr-25:1.1.1.1
	tb:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2017.02.06.21.57.55;	author tb;	state Exp;
branches;
next	1.4;
commitid	742rRBkRzfaDEjBz;

1.4
date	2016.11.29.22.26.57;	author tb;	state Exp;
branches;
next	1.3;
commitid	pp263dTJHJHbvCse;

1.3
date	2016.04.26.09.35.38;	author sthen;	state Exp;
branches;
next	1.2;
commitid	lQoUf6cE5itVRYes;

1.2
date	2016.04.25.21.01.45;	author tb;	state Exp;
branches;
next	1.1;
commitid	V5YqE7E3hr9taXTY;

1.1
date	2016.04.25.17.46.38;	author tb;	state Exp;
branches
	1.1.1.1;
next	;
commitid	U3YdPu8HUhVl8XfH;

1.1.1.1
date	2016.04.25.17.46.38;	author tb;	state Exp;
branches;
next	;
commitid	U3YdPu8HUhVl8XfH;


desc
@@


1.5
log
@minor update to 0.5.1, from MAINTAINER rsadowski

tested by feinerer and myself
ok feinerer (who also spotted and fixed a missing python dependency)
@
text
@# $OpenBSD: Makefile,v 1.4 2016/11/29 22:26:57 tb Exp $

COMMENT =	console based XMPP client
DISTNAME =	profanity-0.5.1
CATEGORIES =	net

HOMEPAGE =	http://www.profanity.im/
MAINTAINER =	Rafael Sadowski <rafael@@sizeofvoid.org>

# GPLv3+
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =	http://www.profanity.im/

WANTLIB += assuan c crypto curl ereadline expat ffi gcrypt gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gpg-error
WANTLIB += gpgme iconv intl m ncursesw nghttp2 notify otr
WANTLIB += pcre png pthread ssl strophe util z ${MODPY_WANTLIB}
MODULES =	lang/python

BUILD_DEPENDS +=${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}

LIB_DEPENDS +=	devel/glib2 \
		devel/libnotify \
		devel/readline>=6.1p2 \
		graphics/gdk-pixbuf2 \
		net/curl \
		net/libstrophe>=0.9.1 \
		security/gpgme \
		security/libotr

TEST_DEPENDS =	devel/cmocka

CONFIGURE_STYLE = autoconf
CONFIGURE_ENV =	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"

CONFIGURE_ARGS =	--with-xscreensaver=no \
			--enable-icons=no \
			--enable-notifications=yes \
			--enable-otr=yes

MAKE_FLAGS =	CC="${CC}" CFLAGS="${CFLAGS}"

AUTOCONF_VERSION =	2.69
AUTOMAKE_VERSION =	1.11

# there is no stub_ui.h and is not needed
post-patch:
	find ${WRKSRC} -type f -name "*.c" \
		-exec sed -i '/stub\_ui.h/d' "{}" \;
	sed -i s,${TRUEPREFIX},${LOCALBASE}, ${WRKSRC}/configure.ac

.include <bsd.port.mk>
@


1.4
log
@update profanity to 0.5.0.  From Rafael Sadowski

ok feinerer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/04/26 09:35:38 sthen Exp $
d4 1
a4 1
DISTNAME =	profanity-0.5.0
d18 2
a19 1
WANTLIB += pcre png pthread ssl strophe z
@


1.3
log
@fix BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2016/04/25 21:01:45 tb Exp $
d4 1
a4 1
DISTNAME =	profanity-0.4.7
d15 4
a18 2
WANTLIB += assuan c curl ereadline glib-2.0 gpg-error gpgme intl ncursesw
WANTLIB += otr strophe uuid
d23 2
a24 1
LIB_DEPENDS +=	net/curl \
d26 3
a28 2
		devel/glib2 \
		net/libstrophe \
d30 1
a30 2
		security/libotr \
		sysutils/e2fsprogs
d39 3
a41 2
			--enable-notifications \
			--enable-otr
d52 1
a52 1
	sed -i s,/usr/local,${LOCALBASE}, ${WRKSRC}/configure.ac
@


1.2
log
@add devel/cmocka as TEST_DEPENDS. Pointed out by Rafael Sadowski
with help from jca@@
@
text
@d1 1
a1 1
# $OpenBSD$
d19 1
a19 1
		${MODGNU_AUTOMAKE)DEPENDS} \
@


1.1
log
@Initial revision
@
text
@d29 2
d48 1
a48 1
	sed -i s,/usr/local,${LOCALBASE}, ${WRKSRC}/configure.ac 
@


1.1.1.1
log
@Import the profanity console client. From Rafael Sadowski with tweaks
from me and sthen.

ok sthen@@

Profanity is a console based XMPP client written in C using ncurses and
libstrophe, inspired by irssi.

Features:

* Supports XMPP chat services, including Google Talk and Facebook.
* Command driven user interface.
* Customizable functionality and user interface.
* OTR (Off The Record) message encryption.
* Chat room support.
* Roster management.
* Flexible resource and priority settings.
* Desktop notifications.
* Unicode support.
* Integrated DuckDuckGo searching.
* Send tiny URLs.
@
text
@@
