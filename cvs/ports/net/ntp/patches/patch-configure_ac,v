head	1.4;
access;
symbols
	OPENBSD_4_7:1.2.0.4
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2017.09.25.12.41.07;	author sthen;	state Exp;
branches;
next	1.3;
commitid	tpcYLK3Er40q4xwd;

1.3
date	2010.07.03.02.49.43;	author naddy;	state dead;
branches;
next	1.2;

1.2
date	2009.05.23.16.32.29;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.26.23.26.02;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.4
log
@use AC_LANG_SOURCE instead of AC_LANG_PROGRAM to avoid a nested function
definition
@
text
@$OpenBSD$

Index: configure.ac
--- configure.ac.orig
+++ configure.ac
@@@@ -962,7 +962,7 @@@@ case "$ac_cv_func_recvmsg" in
 	    compiled=no
 	    for ntp_cv_struct_iovec_help in '0' '1'; do
 		AC_COMPILE_IFELSE(
-		    [AC_LANG_PROGRAM(
+		    [AC_LANG_SOURCE(
 			[[
 			    #ifdef HAVE_SYS_TYPES_H
 			    # include <sys/types.h>
@@@@ -973,8 +973,7 @@@@ case "$ac_cv_func_recvmsg" in
 			    #if $ntp_cv_struct_iovec_help
 			    # include <sys/uio.h>
 			    #endif
-			]],
-			[[
+
 			    void foo(void) {
 				ssize_t x;
 				int s = 0;
@


1.3
log
@update to 4.2.6p1 and remove a lot of cruft
@
text
@d1 24
a24 12
$OpenBSD: patch-configure_ac,v 1.2 2009/05/23 16:32:29 naddy Exp $
--- configure.ac.orig	Tue May 12 07:58:54 2009
+++ configure.ac	Sat May 23 17:03:43 2009
@@@@ -1183,7 +1183,7 @@@@ esac])
 case "$host" in
  *-pc-cygwin*)
     ;;
- *) AC_CHECK_FUNCS(getuid)
+ *) AC_CHECK_FUNCS(getuid geteuid)
     ;;
 esac
 AC_CHECK_FUNCS(hstrerror)
@


1.2
log
@SECURITY update to 4.2.4p7:
Fix remote exploit if autokey is enabled (CVE-2009-1252).
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_ac,v 1.1 2009/01/26 23:26:02 naddy Exp $
@


1.1
log
@update to 4.2.4p5; based on a submission by Wim Lewis <wiml@@hhhh.org>
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.ac.orig	Wed Jan  7 23:45:12 2009
+++ configure.ac	Wed Jan  7 23:55:55 2009
@@@@ -1104,7 +1104,7 @@@@ esac])
@

