head	1.5;
access;
symbols
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.1.1.1.0.2
	OPENBSD_3_2_BASE:1.1.1.1
	naddy_20020723:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2003.08.11.00.14.43;	author naddy;	state dead;
branches;
next	1.4;

1.4
date	2003.05.12.18.02.44;	author sturm;	state Exp;
branches;
next	1.3;

1.3
date	2002.12.14.14.32.37;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2002.10.28.01.38.45;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2002.07.23.11.47.35;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.07.23.11.47.35;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Remove old netatalk reference port.  Obsolete, broken, no longer useful.
Suggested by Ian McWilliam <ianm@@cit.uws.edu.au>, who was the last person
interested in this.
@
text
@# $OpenBSD: Makefile,v 1.4 2003/05/12 18:02:44 sturm Exp $

NOT_FOR_ARCHS=	powerpc		# char is unsigned

COMMENT=	"file and print services for AppleTalk networks"

DISTNAME=       netatalk-990130
CATEGORIES=	net
MASTER_SITES=	ftp://terminator.rs.itd.umich.edu/unix/netatalk/ \
		ftp://ftp.hanse.de/sites/transit/mirror/terminator.rs.itd.umich.edu/unix/netatalk/

HOMEPAGE=	http://www.umich.edu/~rsug/netatalk/

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

CONFDIR=	${SYSCONFDIR}/netatalk

MAKE_FLAGS=	CC="${CC}" OPTOPTS="${CFLAGS} -Wall" \
		PREFIX="${PREFIX}" SYSCONFDIR="${CONFDIR}"
FAKE_FLAGS=	${MAKE_FLAGS} DESTDIR="${WRKINST}"

NO_REGRESS=	Yes

SUBST_VARS=	CONFDIR

# NOTES:
# Will compile with kerberos support in apfd and papd.
# Haven't tested kerberos support as there is no MacOS
# support for kerberos outside the US, so your on your
# own. Still need to add support for AFS. Will update
# the Port shortly.

post-extract:
	@@cp -f ${FILESDIR}/cvolume_iconres.h ${WRKSRC}/etc/afpd

post-patch:
	@@rm -rf ${WRKSRC}/include/netatalk
	@@ln -sf /usr/include/netatalk ${WRKSRC}/include/netatalk
	@@rm -f ${WRKSRC}/sys/netatalk/*.h

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/netatalk
	${INSTALL_DATA} ${WRKSRC}/config/AppleVolumes.system \
		${PREFIX}/share/examples/netatalk
	${INSTALL_DATA} ${WRKSRC}/config/AppleVolumes.default \
		${PREFIX}/share/examples/netatalk
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/netatalk
	${INSTALL_DATA} ${WRKSRC}/INSTALL/README.OPENBSD \
		${PREFIX}/share/doc/netatalk

.include <bsd.port.mk>
@


1.4
log
@- don't hardcode /etc, use SYSCONFDIR instead
- don't change SYSCONFDIR, use CONFDIR/SUBST_VARS instead and if neccessary
  use "CONFIGURE_STYLE=gnu old" and explicitly set --sysconfdir=${CONFDIR}
a few more to come...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/12/14 14:32:37 naddy Exp $
@


1.3
log
@Maintainer asked to be removed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/10/28 01:38:45 naddy Exp $
d19 2
d22 1
a22 1
		PREFIX="${PREFIX}" SYSCONFDIR="${SYSCONFDIR}"
d25 1
a25 1
SYSCONFDIR=	/etc/netatalk
d27 1
a27 1
NO_REGRESS=	Yes
@


1.2
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/07/23 11:47:35 naddy Exp $
a12 2

MAINTAINER=	Ian McWilliam <i.mcwilliam@@uws.edu.au>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/02/21 12:34:57 naddy Exp $
d26 2
@


1.1.1.1
log
@Re-import netatalk-990130 into subdirectory.
Submitted by maintainer Ian McWilliam <i.mcwilliam@@uws.edu.au>.
@
text
@@
