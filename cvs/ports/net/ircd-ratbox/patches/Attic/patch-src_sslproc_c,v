head	1.4;
access;
symbols
	OPENBSD_5_8:1.3.0.8
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.4
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	simon_20090209:1.1.1.1
	simon:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2015.12.16.06.42.57;	author ajacoutot;	state dead;
branches;
next	1.3;
commitid	aR0NHkaY2pRGj9Ld;

1.3
date	2014.04.19.18.31.45;	author sthen;	state Exp;
branches
	1.3.8.1;
next	1.2;

1.2
date	2009.06.23.14.02.03;	author simon;	state dead;
branches;
next	1.1;

1.1
date	2009.02.09.09.41.54;	author simon;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.02.09.09.41.54;	author simon;	state Exp;
branches;
next	;

1.3.8.1
date	2015.12.17.09.56.35;	author jasper;	state dead;
branches;
next	;
commitid	fmdxIn4MPxp0swh1;


desc
@@


1.4
log
@Udate to ircd-ratbox 3.0.9.
- Fixes a remote DoS issue, CVE 2015-5290.

from Brad
@
text
@$OpenBSD: patch-src_sslproc_c,v 1.3 2014/04/19 18:31:45 sthen Exp $
--- src/sslproc.c.orig	Sat Apr 19 19:26:02 2014
+++ src/sslproc.c	Sat Apr 19 19:26:36 2014
@@@@ -327,10 +327,7 @@@@ start_ssldaemon(int count, const char *ssl_cert, const
 		ctl = allocate_ssl_daemon(F1, P2, pid);
 		if(ircd_ssl_ok)
 		{
-			if(ConfigFileEntry.use_egd && (ConfigFileEntry.egdpool_path != NULL))
-				send_init_prng(ctl, RB_PRNG_EGD, ConfigFileEntry.egdpool_path);
-			else
-				send_init_prng(ctl, RB_PRNG_DEFAULT, NULL);
+			send_init_prng(ctl, RB_PRNG_DEFAULT, NULL);
 		}
 		if(ircd_ssl_ok && ssl_cert != NULL && ssl_private_key != NULL)
 			send_new_ssl_certs_one(ctl, ssl_cert, ssl_private_key,
@


1.3
log
@don't use RAND_egd
@
text
@d1 1
a1 1
$OpenBSD$
@


1.3.8.1
log
@- update to ircd-ratbox 3.0.9
* various bugfixes including CVE-2015-5290
@
text
@d1 1
a1 1
$OpenBSD: patch-src_sslproc_c,v 1.3 2014/04/19 18:31:45 sthen Exp $
@


1.2
log
@update to version 3.0.4 and set NO_REGRESS

prodded by same diff from Michiel van Baak, thanks!
@
text
@d1 15
a15 12
$OpenBSD: patch-src_sslproc_c,v 1.1 2009/02/09 09:41:54 simon Exp $
--- src/sslproc.c.orig	Tue Dec 16 18:32:08 2008
+++ src/sslproc.c	Sat Feb  7 20:00:28 2009
@@@@ -339,7 +339,7 @@@@ ssl_process_zipstats(ssl_ctl_t * ctl, ssl_ctl_buf_t * 
 	struct Client *server;
 	struct ZipStats *zips;
 	int parc;
-	char *parv[6];
+	char *parv[7];
 	parc = rb_string_to_array(ctl_buf->buf, parv, 6);
 	server = find_server(NULL, parv[1]);
 	if(server == NULL || server->localClient == NULL || !IsCapable(server, CAP_ZIP))
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@import ircd-ratbox

ircd-ratbox is an advanced, stable and fast ircd.
It is the primary ircd used on EFNet, combining the stability of an ircd
required for a large production network together with a rich set of
features, making it also suitable for use on smaller networks. 

Features include:
 * optional SSL support to enable encrypted connections between clients
   and servers, as well as server to server links
 * support for SSL only channels (channel mode +S)
 * uses sqlite3 for handling and storing k/x/d lines
 * support for global CIDR limits
 * provides adminwall command allowing admins to broadcast messages to
   each other
 * support to force nick changes

request, testing and feedback by Michiel van Baak
setusercontext() idea from form@@ via bernd@@
tested on armish and ok by sthen@@
@
text
@@
