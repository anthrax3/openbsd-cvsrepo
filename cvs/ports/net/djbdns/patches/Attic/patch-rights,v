head	1.4;
access;
symbols
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.1.1.1.0.4
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.2
	camield_2000-Jul-13:1.1.1.1
	camield:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2001.08.14.21.18.40;	author camield;	state dead;
branches;
next	1.3;

1.3
date	2001.01.09.15.25.26;	author camield;	state Exp;
branches;
next	1.2;

1.2
date	2000.11.20.10.02.03;	author camield;	state Exp;
branches;
next	1.1;

1.1
date	2000.07.13.08.56.20;	author camield;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.07.13.08.56.20;	author camield;	state Exp;
branches;
next	;


desc
@@


1.4
log
@license does not permit modification, to allow for proper
integration in OpenBSD
@
text
@$OpenBSD: patch-rights,v 1.3 2001/01/09 15:25:26 camield Exp $

This port wants to change the rights on PREFIX/ and PREFIX/bin to 02755.
Usually PREFIX is /usr/local. The rights on /usr/local and /usr/local/bin
should be 0755 according to /etc/mtree/4.4BSD.dist.

Also, use PREFIX/share/djbdns instead of /etc for dnsroots.global.

--- hier.c.orig	Sun Jan  7 06:08:55 2001
+++ hier.c	Mon Jan  8 10:46:46 2001
@@@@ -2,10 +2,12 @@@@
 
 void hier()
 {
-  c("/","etc","dnsroots.global",-1,-1,0644);
+  h(auto_home,-1,-1,0755);
+  d(auto_home,"bin",-1,-1,0755);
 
-  h(auto_home,-1,-1,02755);
-  d(auto_home,"bin",-1,-1,02755);
+  d(auto_home,"share",-1,-1,0755);
+  d(auto_home,"share/djbdns",-1,-1,0755);
+  c(auto_home,"share/djbdns","dnsroots.global",-1,-1,0644);
 
   c(auto_home,"bin","dnscache-conf",-1,-1,0755);
   c(auto_home,"bin","tinydns-conf",-1,-1,0755);
@


1.3
log
@- spin manpages off into a flavor
- update to 1.03

Major changes:

* dnscache drops old UDP queries in favor of new ones, and drops old
  TCP connections in favor of new ones.

* dnscache supports $FORWARDONLY to forward queries to another cache.
  The other cache is listed in root/servers/@@.

* dnscache returns TTLs by default, so it can be used as the target
  of forwarding.

* dnstrace | dnstracesort produces output that's very easy to scan.
  Try dnstrace a www.netscape.com 198.41.0.4 | dnstracesort | less.
@
text
@d1 1
a1 1
$OpenBSD: patch-rights,v 1.2 2000/11/20 10:02:03 camield Exp $
@


1.2
log
@update to v1.02
- works around Bash bug
- dnscache-conf now wants dnsroots from /etc, instead of /usr/local/etc.
  sigh.
  Work around this by instructing user to copy dnsroots.global from
  PREFIX/share/dnscache to /etc in pkg/MESSAGE.
@
text
@d1 1
a1 1
$OpenBSD: patch-rights,v 1.1.1.1 2000/07/13 08:56:20 camield Exp $
d7 1
a7 1
Also, use PREFIX/share/dnscache instead of /etc for dnsroots.global.
d9 2
a10 2
--- hier.c.orig	Mon Nov 20 10:37:25 2000
+++ hier.c	Mon Nov 20 10:40:02 2000
d22 2
a23 2
+  d(auto_home,"share/dnscache",-1,-1,0755);
+  c(auto_home,"share/dnscache","dnsroots.global",-1,-1,0644);
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d7 1
a7 1
Also, use /usr/local/share instead of /usr/local/etc.
d9 3
a11 3
--- hier.c.orig	Sat Feb 26 03:03:17 2000
+++ hier.c	Tue Feb 29 08:22:33 2000
@@@@ -2,13 +2,13 @@@@
d15 4
a19 2
-  d(auto_home,"etc",-1,-1,02755);
-  d(auto_home,"etc/dnscache",-1,-1,02755);
a20 1
+  h(auto_home,-1,-1,0755);
d23 1
a23 6
+  d(auto_home,"bin",-1,-1,0755);
 
-  c(auto_home,"etc/dnscache","VERSION",-1,-1,0644);
-  c(auto_home,"etc/dnscache","@@",-1,-1,0644);
+  c(auto_home,"share/dnscache","VERSION",-1,-1,0644);
+  c(auto_home,"share/dnscache","@@",-1,-1,0644);
@


1.1.1.1
log
@- the name 'dnscache' has been changed to 'djbdns' 
- permit_* = Yes, package reasonably conforms to http://cr.yp.to/djbdns/dist.html
- add RCS id to PLIST
- add ${HOMEPAGE} to MESSAGE
- add note to SECURITY: There is a $500 reward for the first person
  to publish a security hole in djbdns.
@
text
@@
