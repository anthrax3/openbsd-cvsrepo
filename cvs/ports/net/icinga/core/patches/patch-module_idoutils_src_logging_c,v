head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.12
	OPENBSD_6_2_BASE:1.1
	OPENBSD_6_1:1.1.0.10
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.8
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.4
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.6
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2015.01.19.16.59.42;	author sthen;	state Exp;
branches;
next	;
commitid	hnaw0R5DdhiE0qFb;


desc
@@


1.1
log
@more printf format string fixes for icinga (time_t issues on 32-bit arches)
the remaining 61 are all in idomod.c

presumably most/all of these also apply to nagios
@
text
@$OpenBSD$
--- module/idoutils/src/logging.c.orig	Mon Jan 19 16:14:24 2015
+++ module/idoutils/src/logging.c	Mon Jan 19 16:15:35 2015
@@@@ -138,7 +138,7 @@@@ int ido2db_log_debug_info(int level, int verbosity, co
 	if (ido2db_debug_readable_timestamp)
 	        fprintf(ido2db_debug_file_fp, "%s .%06lu [%03d.%d] [pid=%lu] [tid=%lu] ", temp_time, current_time.tv_usec, level, verbosity, pid, tid);
 	else
-        	fprintf(ido2db_debug_file_fp, "[%lu.%06lu] [%03d.%d] [pid=%lu] [tid=%lu] ", current_time.tv_sec, current_time.tv_usec, level, verbosity, pid, tid);
+        	fprintf(ido2db_debug_file_fp, "[%llu.%06lu] [%03d.%d] [pid=%lu] [tid=%lu] ", (long long)current_time.tv_sec, current_time.tv_usec, level, verbosity, pid, tid);
 
         /* write the data */
         va_start(ap, fmt);
@
