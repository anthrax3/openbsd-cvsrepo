head	1.7;
access;
symbols
	OPENBSD_6_0:1.7.0.12
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.8
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.10
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.6
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.4
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.5.0.2
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	sthen20110328:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2013.10.25.16.16.23;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2013.03.02.12.42.33;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2012.11.29.22.34.16;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2012.10.18.20.04.58;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2012.05.17.11.05.40;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2011.09.22.15.25.28;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.28.14.06.08;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.03.28.14.06.08;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.7
log
@update to icinga 1.10, for more information see
https://www.icinga.org/2013/10/24/icinga-1-10-released/

as mentioned in a new addition to the readme, icinga-web users may need to
clear their cache with /var/www/icinga-web/bin/clearcache.sh
@
text
@$OpenBSD: patch-cgi_Makefile_in,v 1.6 2013/03/02 12:42:33 sthen Exp $

Allows for simpler use in a chroot jail

--- cgi/Makefile.in.orig	Tue Oct 22 10:40:32 2013
+++ cgi/Makefile.in	Fri Oct 25 00:29:23 2013
@@@@ -51,7 +51,7 @@@@ endif
 #CFLAGS_DEBUG=-ggdb3 -g3
 #CFLAGS+=$(CFLAGS_WARN) $(CFLAGS_DEBUG)
 
-LDFLAGS=@@LDFLAGS@@
+LDFLAGS=-static @@LDFLAGS@@
 LIBS=@@LIBS@@
 
 CGIS=avail.cgi cmd.cgi config.cgi extinfo.cgi history.cgi notifications.cgi outages.cgi showlog.cgi status.cgi summary.cgi tac.cgi $(CGIEXTRAS)
@


1.6
log
@zap -no-pie stuff no longer needed for static bins.
@
text
@d1 1
a1 1
$OpenBSD: patch-cgi_Makefile_in,v 1.5 2012/11/29 22:34:16 sthen Exp $
d5 3
a7 3
--- cgi/Makefile.in.orig	Sun Jan 13 22:18:37 2013
+++ cgi/Makefile.in	Tue Feb  5 14:45:48 2013
@@@@ -40,7 +40,7 @@@@ CFLAGS=@@CFLAGS@@ @@DEFS@@ -DNSCGI
@


1.5
log
@Bugfix update to Icinga 1.8.2, including
- fix bug in classic UI for ack's and notifications
- fix performance problem and some memory leaks with IDOUtils

https://wiki.icinga.org/display/Dev/Icinga+Core+Changelog#IcingaCoreChangelog-182-28112012

Also fix static cgi binaries on PIE architectures.
@
text
@d1 1
a1 1
$OpenBSD: patch-cgi_Makefile_in,v 1.4 2012/10/18 20:04:58 sthen Exp $
d5 3
a7 4
--- cgi/Makefile.in.orig	Wed Nov 28 15:14:51 2012
+++ cgi/Makefile.in	Thu Nov 29 22:24:42 2012
@@@@ -39,8 +39,9 @@@@ CFLAGS=@@CFLAGS@@ @@DEFS@@ -DNSCGI
 #CFLAGS_WARN=-Wall -Wshadow -Wpointer-arith -Wcast-qual -Wcast-align -Wstrict-prototypes -Wmissing-prototypes -Wnested-externs
a9 1
+CFLAGS+=-fno-pie
d12 1
a12 1
+LDFLAGS=-static -nopie @@LDFLAGS@@
@


1.4
log
@update Icinga to 1.8.0, testing (including icinga-web) and ok rpe@@

- slight tweaks to upgrade documentation while there; you should still
check the proper upgrade notes from upstream, but the README now points
idodb users at the actual location of the schema update files to save
a bit of hunting.
@
text
@d1 1
a1 1
$OpenBSD: patch-cgi_Makefile_in,v 1.3 2012/05/17 11:05:40 sthen Exp $
d5 4
a8 3
--- cgi/Makefile.in.orig	Wed Oct 17 11:38:03 2012
+++ cgi/Makefile.in	Thu Oct 18 13:36:58 2012
@@@@ -40,7 +40,7 @@@@ CFLAGS=@@CFLAGS@@ @@DEFS@@ -DNSCGI
d11 1
d14 1
a14 1
+LDFLAGS=-static @@LDFLAGS@@
@


1.3
log
@update to icinga 1.7.0 - IDO users note, as well as the usual DB upgrade
steps, edit icinga.cfg and change broker_module=/usr/local/bin/idomod.o
to broker_module=/usr/local/lib/idomod.so, this is also mentioned in the
README.

Notable fixes:
- flexible downtimes now last the duration specified once triggered
- avoid insane looping through event list when rescheduling checks
@
text
@d1 1
a1 1
$OpenBSD: patch-cgi_Makefile_in,v 1.2 2011/09/22 15:25:28 sthen Exp $
d5 3
a7 3
--- cgi/Makefile.in.orig	Tue May 15 14:00:56 2012
+++ cgi/Makefile.in	Thu May 17 10:19:15 2012
@@@@ -37,7 +37,7 @@@@ CFLAGS=@@CFLAGS@@ @@DEFS@@ -DNSCGI
d15 1
a15 1
 CGIS=avail.cgi cmd.cgi config.cgi extinfo.cgi history.cgi notifications.cgi outages.cgi showlog.cgi status.cgi statuswml.cgi summary.cgi tac.cgi $(CGIEXTRAS)
@


1.2
log
@update to icinga 1.5.1
@
text
@d1 1
a1 1
$OpenBSD: patch-cgi_Makefile_in,v 1.1.1.1 2011/03/28 14:06:08 sthen Exp $
d5 3
a7 3
--- cgi/Makefile.in.orig	Wed Aug 24 14:57:57 2011
+++ cgi/Makefile.in	Wed Aug 24 22:23:40 2011
@@@@ -36,7 +36,7 @@@@ CFLAGS=@@CFLAGS@@ @@DEFS@@ -DNSCGI
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- cgi/Makefile.in.orig	Sat Mar 19 11:50:20 2011
+++ cgi/Makefile.in	Sat Mar 19 11:50:29 2011
@@@@ -34,7 +34,7 @@@@ CFLAGS=@@CFLAGS@@ @@DEFS@@ -DNSCGI
@


1.1.1.1
log
@Import ports/net/icinga (with -I !, so the 'core' directory doesn't
become cvs-food). See the README file for information about migrating
from Nagios with minimal config changes.

The icinga-web API-backed user interface is a work in progress
and not yet linked to the build; the core program and classic web
interface are perfectly usable.

Comments/ok from pea@@, thanks for testing!

-- -- --
Icinga monitors network resources such as servers, routers, switches,
applications and services and notifies administrators or responsible
persons. It's a fork of Nagios and supports its extensive pool of
monitoring plug-ins. Current status information, historical logs
and reports can all be accessed via a web browser.
-- -- --
@
text
@@
