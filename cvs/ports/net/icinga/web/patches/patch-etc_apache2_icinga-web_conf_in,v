head	1.7;
access;
symbols
	OPENBSD_6_0:1.6.0.8
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.4
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.6
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.2
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.4.0.6
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.4
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	sthen20110328:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2017.02.07.21.34.43;	author sthen;	state Exp;
branches;
next	1.6;
commitid	14ywkTctmjWR3HuV;

1.6
date	2014.10.02.21.05.02;	author sthen;	state Exp;
branches;
next	1.5;
commitid	AIp9ewSobQSliEv4;

1.5
date	2014.08.10.11.12.26;	author jasper;	state Exp;
branches;
next	1.4;
commitid	UfW9u7o8QL6HX3fr;

1.4
date	2013.05.07.15.34.47;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2012.05.17.11.06.33;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2011.12.03.15.01.38;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.28.14.06.06;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.03.28.14.06.06;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.7
log
@update to icinga-web 1.14.0
@
text
@$OpenBSD: patch-etc_apache2_icinga-web_conf_in,v 1.6 2014/10/02 21:05:02 sthen Exp $
--- etc/apache2/icinga-web.conf.in.orig	Thu Dec 22 22:25:51 2016
+++ etc/apache2/icinga-web.conf.in	Tue Feb  7 21:26:20 2017
@@@@ -5,9 +5,13 @@@@
 # Copyright (C) 2009-2015 Icinga Development Team (http://www.icinga.org)
 ###
 
+<IfModule !mod_rewrite.c>
+LoadModule rewrite_module      ${LOCALBASE}/lib/apache/modules/mod_rewrite.so
+</IfModule>
+
 # Matching for module stylesheet and images
 AliasMatch "^@@web_path@@/modules/([A-Za-z0-9]+)/resources/styles/([A-Za-z0-9]+\.css)$" "@@prefix@@/app/modules/$1/pub/styles/$2"
-AliasMatch "^@@web_path@@/modules/([A-Za-z0-9]+)/resources/images/([A-Za-z_\-0-9]+\.(?:png|gif|jpg))$" "@@prefix@@/app/modules/$1/pub/images/$2"
+AliasMatch "^@@web_path@@/modules/([A-Za-z0-9]+)/resources/images/([-_A-Za-z0-9]+\.(png|gif|jpg))$" "@@prefix@@/app/modules/$1/pub/images/$2"
 
 # Matching for Icinga Web and the ext3 framework
 Alias @@web_path@@/js/ext3/ @@prefix@@/lib/ext3/
@


1.6
log
@update to icinga-web 1.11.2
@
text
@d1 3
a3 3
$OpenBSD: patch-etc_apache2_icinga-web_conf_in,v 1.5 2014/08/10 11:12:26 jasper Exp $
--- etc/apache2/icinga-web.conf.in.orig	Wed Aug 13 11:06:35 2014
+++ etc/apache2/icinga-web.conf.in	Wed Aug 13 13:04:09 2014
d5 1
a5 1
 # Copyright (C) 2009-2014 Icinga Development Team (http://www.icinga.org)
@


1.5
log
@don't hardcode path to mod_rewrite.so so that the default config
works with openbsd-httd-openbsd again.

ok sthen@@ rpe@@
@
text
@d1 5
a5 5
$OpenBSD: patch-etc_apache2_icinga-web_conf_in,v 1.4 2013/05/07 15:34:47 sthen Exp $
--- etc/apache2/icinga-web.conf.in.orig	Thu Mar 13 12:24:09 2014
+++ etc/apache2/icinga-web.conf.in	Thu Aug  7 20:25:17 2014
@@@@ -10,9 +10,13 @@@@
 # Markus Frosch <markus@@lazyfrosch.de>
@


1.4
log
@Update to Icinga 1.9, thanks to rpe@@ for feedback and testing the beta.
Also thanks to Michael Friedrich (upstream) for sending out helpful notes
to package maintainers about changes in the release which may affect them,
we like projects who do that :)
@
text
@d1 3
a3 3
$OpenBSD: patch-etc_apache2_icinga-web_conf_in,v 1.3 2012/05/17 11:06:33 sthen Exp $
--- etc/apache2/icinga-web.conf.in.orig	Mon Apr 29 18:54:16 2013
+++ etc/apache2/icinga-web.conf.in	Fri May  3 13:38:52 2013
d9 1
a9 1
+LoadModule rewrite_module      /usr/lib/apache/modules/mod_rewrite.so
@


1.3
log
@sync, still not enabled by default though
@
text
@d1 7
a7 4
$OpenBSD: patch-etc_apache2_icinga-web_conf_in,v 1.2 2011/12/03 15:01:38 sthen Exp $
--- etc/apache2/icinga-web.conf.in.orig	Tue Dec 20 07:22:32 2011
+++ etc/apache2/icinga-web.conf.in	Wed Feb  8 16:17:25 2012
@@@@ -1,10 +1,13 @@@@
d9 1
a9 1
+LoadModule rewrite_module	/usr/lib/apache/modules/mod_rewrite.so
d11 5
a15 9
 #
 # icinga-web apache configuration
 # - Enable all options .htaccess
 # - Add extjs library to alias
 #
 AliasMatch @@web_path@@/modules/([A-Za-z0-9]*)/resources/styles/([A-Za-z0-9]*\.css)$ @@prefix@@/app/modules/$1/pub/styles/$2
-AliasMatch @@web_path@@/modules/([A-Za-z0-9]*)/resources/images/([A-Za-z_\-0-9]*\.(png|gif|jpg))$ @@prefix@@/app/modules/$1/pub/images/$2
+AliasMatch @@web_path@@/modules/([A-Za-z0-9]*)/resources/images/([-_A-Za-z0-9]*\.(png|gif|jpg))$ @@prefix@@/app/modules/$1/pub/images/$2
 
d17 2
a18 1
 Alias @@web_path@@/js/ext3 @@prefix@@/lib/ext3
@


1.2
log
@update to Icinga 1.6.1
@
text
@d1 4
a4 4
$OpenBSD: patch-etc_apache2_icinga-web_conf_in,v 1.1.1.1 2011/03/28 14:06:06 sthen Exp $
--- etc/apache2/icinga-web.conf.in.orig	Fri Sep 16 09:03:31 2011
+++ etc/apache2/icinga-web.conf.in	Fri Sep 16 11:59:55 2011
@@@@ -1,3 +1,6 @@@@
d11 8
@


1.1
log
@Initial revision
@
text
@d1 4
a4 9
$OpenBSD$
--- etc/apache2/icinga-web.conf.in.orig	Mon Mar 21 00:22:52 2011
+++ etc/apache2/icinga-web.conf.in	Mon Mar 21 00:23:22 2011
@@@@ -4,15 +4,18 @@@@
 # - Add extjs library to alias
 #
 
-Alias @@web_path@@/js/ext3 @@prefix@@/lib/ext3
-Alias @@web_path@@ @@prefix@@/pub
d6 1
a6 1
+LoadModule rewrite_module       /usr/lib/apache/modules/mod_rewrite.so
d8 3
a10 14
+Alias @@web_path@@/js/ext3 @@prefix@@/icinga-web/lib/ext3
+Alias @@web_path@@ @@prefix@@/icinga-web/pub
 
-<Directory @@prefix@@/lib/ext3>
+<Directory @@prefix@@/icinga-web/lib/ext3>
 	Order allow,deny
 	Allow from all
 </Directory>
 
-<Directory @@prefix@@/pub>
+<Directory @@prefix@@/icinga-web/pub>
 	DirectoryIndex index.php
 	Options FollowSymLinks
 	AllowOverride all
@


1.1.1.1
log
@Import ports/net/icinga (with -I !, so the 'core' directory doesn't
become cvs-food). See the README file for information about migrating
from Nagios with minimal config changes.

The icinga-web API-backed user interface is a work in progress
and not yet linked to the build; the core program and classic web
interface are perfectly usable.

Comments/ok from pea@@, thanks for testing!

-- -- --
Icinga monitors network resources such as servers, routers, switches,
applications and services and notifies administrators or responsible
persons. It's a fork of Nagios and supports its extensive pool of
monitoring plug-ins. Current status information, historical logs
and reports can all be accessed via a web browser.
-- -- --
@
text
@@
