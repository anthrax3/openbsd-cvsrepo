head	1.6;
access;
symbols
	OPENBSD_3_1:1.5.0.4
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9_TRACKING_SWITCH:1.5
	OPENBSD_2_9:1.4.0.2
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.2.0.2
	OPENBSD_2_8_BASE:1.2;
locks; strict;
comment	@# @;


1.6
date	2002.07.10.20.14.46;	author mickey;	state dead;
branches;
next	1.5;

1.5
date	2001.08.16.07.30.39;	author peter;	state Exp;
branches;
next	1.4;

1.4
date	2001.04.02.15.38.53;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2001.01.11.05.46.50;	author itojun;	state Exp;
branches;
next	1.2;

1.2
date	2000.10.03.06.27.07;	author itojun;	state Exp;
branches;
next	1.1;

1.1
date	2000.08.24.21.49.44;	author brad;	state Exp;
branches;
next	;


desc
@@


1.6
log
@update to .93a, lots of new stuff; danh@@ and itojun@@ ok
@
text
@--- doc/Makefile.in.orig	Tue Aug  7 16:06:13 2001
+++ doc/Makefile.in	Wed Aug 15 10:22:25 2001
@@@@ -72,7 +72,7 @@@@ KERNEL_METHOD = @@KERNEL_METHOD@@
 LIBPAM = @@LIBPAM@@
 LIB_IPV6 = @@LIB_IPV6@@
 LIB_REGEX = @@LIB_REGEX@@
-MAKEINFO = @@MAKEINFO@@
+MAKEINFO = @@MAKEINFO@@ --no-split
 MULTIPATH_NUM = @@MULTIPATH_NUM@@
 OSPF6D = @@OSPF6D@@
 OSPFD = @@OSPFD@@
@@@@ -133,46 +133,41 @@@@ zebra.dvi: zebra.texi $(zebra_TEXINFOS)
 DVIPS = dvips
 
 .texi.info:
-	@@cd $(srcdir) && rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
-	cd $(srcdir) \
-	  && $(MAKEINFO) `echo $< | sed 's,.*/,,'`
+	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
+	$(MAKEINFO) -I $(srcdir) `echo $< | sed 's,.*/,,'`
 
 .texi.dvi:
 	TEXINPUTS=.:$$TEXINPUTS \
 	  MAKEINFO='$(MAKEINFO) -I $(srcdir)' $(TEXI2DVI) $<
 
 .texi:
-	@@cd $(srcdir) && rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
-	cd $(srcdir) \
-	  && $(MAKEINFO) `echo $< | sed 's,.*/,,'`
+	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
+	$(MAKEINFO) -I $(srcdir) `echo $< | sed 's,.*/,,'`
 
 .texinfo.info:
-	@@cd $(srcdir) && rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
-	cd $(srcdir) \
-	  && $(MAKEINFO) `echo $< | sed 's,.*/,,'`
+	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
+	$(MAKEINFO) -I $(srcdir) `echo $< | sed 's,.*/,,'`
 
 .texinfo:
-	@@cd $(srcdir) && rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
-	cd $(srcdir) \
-	  && $(MAKEINFO) `echo $< | sed 's,.*/,,'`
+	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
+	$(MAKEINFO) -I $(srcdir) `echo $< | sed 's,.*/,,'`
 
 .texinfo.dvi:
 	TEXINPUTS=.:$$TEXINPUTS \
 	  MAKEINFO='$(MAKEINFO) -I $(srcdir)' $(TEXI2DVI) $<
 
 .txi.info:
-	@@cd $(srcdir) && rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
-	cd $(srcdir) \
-	  && $(MAKEINFO) `echo $< | sed 's,.*/,,'`
+	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
+	$(MAKEINFO) -I $(srcdir) `echo $< | sed 's,.*/,,'`
 
 .txi.dvi:
 	TEXINPUTS=.:$$TEXINPUTS \
 	  MAKEINFO='$(MAKEINFO) -I $(srcdir)' $(TEXI2DVI) $<
 
 .txi:
-	@@cd $(srcdir) && rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
-	cd $(srcdir) \
-	  && $(MAKEINFO) `echo $< | sed 's,.*/,,'`
+	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
+	$(MAKEINFO) -I $(srcdir) `echo $< | sed 's,.*/,,'`
+
 .dvi.ps:
 	$(DVIPS) $< -o $@@
 
@


1.5
log
@Update to zebra-0.92; itojun (via Jakob in Helsinki) OK

OpenBSD port changes:
  FLAVOR=snmp now works
  vtysh now works

Also, OpenBD specific fixes not listed below include a patch to correctly
get all interfaces from the kernel.

Changelog from e-mail:

* Changes in zebra-0.92

** Overall security is improved.  Default umask is 0077.

* Changes in ripd

** If output interface is in simple password authentication mode,
substruct one from rtemax.

* Changes in bgpd

** IPv4 multicast and IPv6 unicast configuration is changed to so
called new config.  All of AFI and SAFI specific configuration is
moved to "address-family" node.  When you have many IPv6 only
configuration, you will see many "no neighbor X:X::X:X activate" line
in your configuration to disable IPv4 unicast NLRI exchange.  In that
case please use "no bgp default ipv4-unicast" command to suppress the
output.  Until zebra-0.93, old config is still left for compatibility.

Old config
==========
router bgp 7675
 bgp router-id 10.0.0.1
 redistribute connected
 network 192.168.0.0/24
 neighbor 10.0.0.2 remote-as 7675
 ipv6 bgp network 3ffe:506::/33
 ipv6 bgp network 3ffe:1800:e800::/40
 ipv6 bgp aggregate-address 3ffe:506::/32
 ipv6 bgp redistribute connected
 ipv6 bgp neighbor 3ffe:506:1000::2 remote-as 1

New config
==========
router bgp 7675
 bgp router-id 10.0.0.1
 network 192.168.0.0/24
 redistribute connected
 neighbor 10.0.0.2 remote-as 7675
 neighbor 3ffe:506:1000::2 remote-as 1
 no neighbor 3ffe:506:1000::2 activate
!
 address-family ipv6
  network 3ffe:506::/33
  network 3ffe:1800:e800::/40
  aggregate-address 3ffe:506::/32
  redistribute connected
  neighbor 3ffe:506:1000::2 activate
 exit-address-family

* Changes in ospfd

** Internal interface treatment is changed.  Now ospfd can handle
multiple IP address for an interface.

** Redistribution of loopback interface's address works fine.
@
text
@@


1.4
log
@- ensure man pages have correct paths in them.
- enable SEPARATE_BUILD
@
text
@d1 3
a3 3
--- doc/Makefile.in.orig	Sat Jan 27 20:55:00 2001
+++ doc/Makefile.in	Mon Apr  2 10:56:59 2001
@@@@ -72,7 +72,7 @@@@
d12 1
a12 1
@@@@ -133,46 +133,41 @@@@
@


1.3
log
@upgrade to 0.90.
@
text
@d1 3
a3 3
--- doc/Makefile.in.orig	Wed Jan 10 20:02:55 2001
+++ doc/Makefile.in	Thu Jan 11 15:01:28 2001
@@@@ -75,7 +75,7 @@@@
d12 60
@


1.2
log
@upgrade to 0.89.
From: Brad <brad@@comstyle.com>
@
text
@d1 2
a2 2
--- doc/Makefile.in.orig	Mon Oct  2 20:19:08 2000
+++ doc/Makefile.in	Mon Oct  2 23:11:34 2000
d9 1
a11 1
 OTHER_METHOD = @@OTHER_METHOD@@
@


1.1
log
@don't split the zebra info page
@
text
@d1 4
a4 4
--- doc/Makefile.in.orig	Thu Aug 24 17:37:42 2000
+++ doc/Makefile.in	Thu Aug 24 17:37:49 2000
@@@@ -74,7 +74,7 @@@@
 KERNEL_METHOD = @@KERNEL_METHOD@@
@

