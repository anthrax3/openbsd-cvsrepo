head	1.18;
access;
symbols
	OPENBSD_6_1:1.16.0.2
	OPENBSD_6_1_BASE:1.16
	OPENBSD_6_0:1.15.0.8
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.15.0.4
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.15.0.6
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.15.0.2
	OPENBSD_5_7_BASE:1.15
	OPENBSD_5_6:1.14.0.4
	OPENBSD_5_6_BASE:1.14
	OPENBSD_5_5:1.14.0.2
	OPENBSD_5_5_BASE:1.14
	OPENBSD_5_4:1.13.0.2
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.8.0.4
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.8.0.2
	OPENBSD_5_2_BASE:1.8
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.2
	OPENBSD_5_0:1.5.0.4
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.2
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.1.1.1.0.2
	OPENBSD_4_8_BASE:1.1.1.1
	sebastia_20100728:1.1.1.1
	sebastia:1.1.1;
locks; strict;
comment	@# @;


1.18
date	2017.07.16.19.18.58;	author espie;	state Exp;
branches;
next	1.17;
commitid	tt0GhWK5c4uf9ILG;

1.17
date	2017.04.10.11.46.32;	author sthen;	state Exp;
branches;
next	1.16;
commitid	HY6VNZxjJWzKQFDV;

1.16
date	2016.09.23.09.16.57;	author sthen;	state Exp;
branches;
next	1.15;
commitid	XLnI6AbHAmyVU5mO;

1.15
date	2014.09.13.18.09.21;	author brad;	state Exp;
branches;
next	1.14;
commitid	PpbRjVZdAmlrmi8q;

1.14
date	2013.08.16.10.05.55;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2013.06.12.20.36.34;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2013.05.27.13.25.25;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2013.05.25.00.33.10;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2013.03.19.23.13.50;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2013.03.11.11.35.55;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2012.04.23.17.15.18;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2012.03.29.13.38.49;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2011.09.16.11.13.39;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2011.01.10.18.32.14;	author sebastia;	state Exp;
branches;
next	1.4;

1.4
date	2010.11.19.22.31.37;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2010.11.09.16.59.31;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2010.09.26.15.10.53;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.07.28.18.13.00;	author sebastia;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.07.28.18.13.00;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.18
log
@use COMPILER_LIBCXX where applicable
@
text
@# $OpenBSD: Makefile,v 1.17 2017/04/10 11:46:32 sthen Exp $

COMMENT =	POCO C++ libraries for network based applications

VERSION =	1.4.6p1
DISTNAME =	poco-${VERSION}-all
PKGNAME =	poco-${VERSION:S/p/pl/}
REVISION =	1
CATEGORIES =	net devel
SHLIB_VERSION =	1.0

.for _lib in PocoDataMySQL PocoNetSSL PocoDataODBC PocoDataSQLite PocoZip \
	PocoCrypto PocoData PocoFoundation PocoNet PocoUtil PocoXML
SHARED_LIBS +=	${_lib} ${SHLIB_VERSION}
.endfor

HOMEPAGE =	http://pocoproject.org/
MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=poco/}
MAINTAINER =	Sebastian Reitenbach <sebastia@@openbsd.org>

# Boost software license
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c crypto m pthread ssl ${COMPILER_LIBCXX} iodbc iodbcinst mysqlclient
WANTLIB += expat pcre sqlite3 z

LIB_DEPENDS =	databases/iodbc \
		databases/mariadb \
		databases/sqlite3 \
		devel/pcre

USE_GMAKE =		Yes
SEPARATE_BUILD =	Yes
CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS =	--config=OpenBSD --no-tests --no-samples \
			--unbundled --include-path=${LOCALBASE}/include \
			--library-path=${LOCALBASE}/lib
MAKE_FLAGS =		ODBCLIBDIR=${LOCALBASE}/lib
MAKE_ENV +=		CC="${CC}" CXX="${CXX}" CFLAGS="${CFLAGS}" CXXFLAGS="${CXXFLAGS}"
TEST_TARGET =		tests

pre-configure:
	cp ${FILESDIR}/OpenBSD ${WRKSRC}/build/config/
	echo ${SHLIB_VERSION} > ${WRKSRC}/libversion

.include <bsd.port.mk>
@


1.17
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2016/09/23 09:16:57 sthen Exp $
d24 1
a24 1
WANTLIB += c crypto m pthread ssl ${LIBCXX} iodbc iodbcinst mysqlclient
@


1.16
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2014/09/13 18:09:21 brad Exp $
d24 1
a24 1
WANTLIB += c crypto m pthread ssl stdc++ iodbc iodbcinst mysqlclient
@


1.15
log
@Switch from using MySQL to using MariaDB attempt #2. MariaDB is a drop-in replacement.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/08/16 10:05:55 sthen Exp $
d8 1
a8 1
REVISION =	0
d29 1
@


1.14
log
@update to poco 1.4.6p1, tested by sebastia@@ on pre-64bit-time_t, probably
fixes this with 64bit time_t (though further testing needed)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/06/12 20:36:34 brad Exp $
d8 1
d28 1
a28 1
		databases/mysql \
@


1.13
log
@Revert back to using MySQL 5.1 for the time being. MariaDB 5.5 introduces
a new libmysqlclient non-blocking API which utilizes co-routines. The X86
specific GCC ASM co-routine support hid the fact that there was an issue.
The only fallback code so far is POSIX user contexts which OpenBSD does not
support.

Input from and Ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/05/27 13:25:25 naddy Exp $
d5 1
a5 1
VERSION =	1.4.0
d7 1
a7 2
PKGNAME =	poco-${VERSION}
REVISION =	4
d9 3
a11 2
SHLIB_VERSION =	0.1
.for _lib in PocoMySQL PocoNetSSL PocoODBC PocoSQLite PocoZip \
@


1.12
log
@missing bump after MySQL->MariaDB switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/05/25 00:33:10 brad Exp $
d8 1
a8 1
REVISION =	3
d27 1
a27 1
		databases/mariadb \
@


1.11
log
@Switch from using MySQL to using MariaDB. MariaDB is a drop-in replacement.


ok sthen aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/03/19 23:13:50 sthen Exp $
d8 1
a8 1
REVISION =	2
@


1.10
log
@Fix net/poco following the pcre update (broken for 2 weeks) by using
a patch from Gentoo.

While there clean up Makefile a bit (mixed whitespace format ugliness) and
simplify a patch (just use upstream's existing sysconf code, rather than
workaround the unportable use of sysctlbyname).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/03/11 11:35:55 espie Exp $
d27 1
a27 1
		databases/mysql \
@


1.9
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/04/23 17:15:18 espie Exp $
d8 1
a8 1
REVISION=		1
d21 1
a21 1
PERMIT_PACKAGE_CDROM =  	Yes
d25 1
d37 2
a38 2
MAKE_ENV += 		CC="${CC}" CXX="${CXX}" CFLAGS="${CFLAGS}" CXXFLAGS="${CXXFLAGS}"
TEST_TARGET =	tests
@


1.8
log
@first pass at handling sqlite3 move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/03/29 13:38:49 sthen Exp $
a21 3
PERMIT_PACKAGE_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
d37 1
a37 1
REGRESS_TARGET =	tests
@


1.7
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/09/16 11:13:39 espie Exp $
d8 1
a8 1
REVISION=		0
a29 1
		databases/sqlite3 \
@


1.6
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/01/10 18:32:14 sebastia Exp $
d34 1
a34 1
SEPARATE_BUILD =	simple
@


1.5
log
@Update to latest available relese.

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/11/19 22:31:37 espie Exp $
d8 1
@


1.4
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/11/09 16:59:31 jasper Exp $
d5 1
a5 1
VERSION =	1.3.6p2
d7 1
a7 2
PKGNAME =	poco-${VERSION:S/p/./g}
REVISION =	1
d9 1
a9 1
SHLIB_VERSION =	0.0
@


1.3
log
@- we have sched_get_priority_{min|max} now.

from brad, ok sebastia@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/09/26 15:10:53 ajacoutot Exp $
d28 4
a31 4
LIB_DEPENDS =	::databases/iodbc \
		::databases/mysql \
		::databases/sqlite3 \
		::devel/pcre
@


1.2
log
@Set proper thread priorities.

ok sebastia@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/07/28 18:13:00 sebastia Exp $
d8 1
a8 1
REVISION =	0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
@


1.1.1.1
log
@Import poco
POCO C++ libraries for network based applications

C++ class libraries for network-centric, portable applications, 
integrated perfectly with the C++ Standard Library. Includes 
network protocols (Sockets, HTTP, FTP, SMTP, POP3, etc.) and an 
XML parser.

With a lot of feedback from landry@@ 
Finally OK from dcoppa@@

@
text
@@
