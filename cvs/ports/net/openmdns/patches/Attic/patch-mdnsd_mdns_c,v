head	1.2;
access;
symbols
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2014.09.17.15.43.59;	author gonzalo;	state dead;
branches;
next	1.1;
commitid	mJ6aCjgnWtPu3mkj;

1.1
date	2013.11.26.08.53.24;	author jca;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update for OpenMDNS to 0.6

* All patches are now in.
* Support for multiple iface

OK jca@@
@
text
@$OpenBSD: patch-mdnsd_mdns_c,v 1.1 2013/11/26 08:53:24 jca Exp $
--- mdnsd/mdns.c.orig	Mon Nov 25 23:32:38 2013
+++ mdnsd/mdns.c	Mon Nov 25 23:32:20 2013
@@@@ -1091,7 +1091,7 @@@@ pge_new_workstation(struct iface *iface)
 	bzero(&ms, sizeof(ms));
 	ms.port = 9;	/* workstation stuff */
 	(void)strlcpy(ms.app, "workstation", sizeof(ms.app));
-	(void)strlcpy(ms.proto, "tcp", sizeof(ms.app));
+	(void)strlcpy(ms.proto, "tcp", sizeof(ms.proto));
 	(void)strlcpy(myname, conf->myname, sizeof(myname));
 	/* Chomp .local suffix */
 	if ((cp = strchr(myname, '.')) != NULL)
@


1.1
log
@Unbreak after <net/if.h> change: we need to include <sys/tree.h>
explicitely.  ok mpi@@

While here, fix a minor typo.
@
text
@d1 1
a1 1
$OpenBSD$
@

