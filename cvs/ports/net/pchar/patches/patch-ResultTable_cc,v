head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2017.05.08.21.40.10;	author naddy;	state Exp;
branches;
next	;
commitid	KLL1tExi9XTTzybk;


desc
@@


1.1
log
@fix a number of warnings and errors for clang
@
text
@$OpenBSD$

Index: ResultTable.cc
--- ResultTable.cc.orig
+++ ResultTable.cc
@@@@ -44,7 +44,7 @@@@ ResultTable::ResultTable(unsigned int inc, unsigned in
     // can't handle "new (footype *)[bar]".  We're trying to do:
     // data = new (double *) [columns];
     typedef double *DoublePtr;
-    data = new (double *[columns]);
+    data = new DoublePtr[columns];
     if (data == NULL) {
 	fprintf(stderr, "Couldn't allocate data array for a ResultTable\n");
 	exit(1);
@@@@ -909,7 +909,7 @@@@ void ResultTable::lmsint(double &a, double &b, double 
 	l = 0;
 	for (i = 0; i < columns; i++) {
 	    if (partialmins[i] != timeoutresult) {
-		residuals[l] = abs(partialmins[i] - 
+		residuals[l] = abs((long)partialmins[i] - 
 				   ((currentslope * 
 				     column2size(i) /
 				     slopescale) +
@@@@ -930,7 +930,7 @@@@ void ResultTable::lmsint(double &a, double &b, double 
 	l = 0;
 	for (i = 0; i < columns; i++) {
 	    if (partialmins[i] != timeoutresult) {
-		ys[l] = abs(partialmins[i] - mediany);
+		ys[l] = abs((long)partialmins[i] - mediany);
 		l++;
 	    }
 	}
@
