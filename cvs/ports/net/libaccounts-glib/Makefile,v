head	1.12;
access;
symbols
	OPENBSD_6_1:1.12.0.2
	OPENBSD_6_1_BASE:1.12
	OPENBSD_6_0:1.11.0.2
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.10.0.2
	OPENBSD_5_9_BASE:1.10
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.4.0.6
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.4
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	jasper_20132903:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2016.09.23.09.16.56;	author sthen;	state Exp;
branches;
next	1.11;
commitid	XLnI6AbHAmyVU5mO;

1.11
date	2016.03.22.13.00.04;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	efDRtkg2YcRdEQ3v;

1.10
date	2016.01.01.12.00.15;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	JU9WxAMD4n6Z6cRu;

1.9
date	2015.09.24.16.19.09;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	0YF4qRzvoHLyvZpu;

1.8
date	2015.09.24.12.32.52;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	Y2ScCljY4BMleIWn;

1.7
date	2015.09.24.04.36.41;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	CuXag26vcLEUcXYW;

1.6
date	2015.04.21.18.51.25;	author sthen;	state Exp;
branches;
next	1.5;
commitid	ptMCPiyuhL0JiHRZ;

1.5
date	2014.08.30.07.22.56;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	K9JQ02Sw8RmGnHOK;

1.4
date	2013.04.16.10.21.58;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.29.13.59.41;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2013.03.29.13.42.59;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2013.03.29.13.16.17;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.03.29.13.16.17;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Cope with moving sqlite3 back to ports.
@
text
@# $OpenBSD: Makefile,v 1.11 2016/03/22 13:00:04 ajacoutot Exp $

COMMENT=		accounts management library for GLib applications

DISTNAME=		libaccounts-glib-1.18
REVISION=		1

SHARED_LIBS +=  accounts-glib        1.0      # 1.3

CATEGORIES=		net

MAINTAINER=		Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
			Antoine Jacoutot <ajacoutot@@openbsd.org>

HOMEPAGE=		https://gitlab.com/groups/accounts-sso

# LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 lzma m pcre
WANTLIB += pthread sqlite3 xml2 z

# from https://gitlab.com/accounts-sso/libaccounts-glib/tags
MASTER_SITES=		https://distfiles.bsdfrog.org/
WRKDIST=		${WRKDIR}/${DISTNAME}-17201ad512e86d248ac158046ac322e7164adc87

MODULES=		devel/gettext \
			lang/python \
			x11/gnome

BUILD_DEPENDS=		devel/py-gobject3
# MODPY_LIBDIR/gi/overrides/
RUN_DEPENDS=		devel/py-gobject3
LIB_DEPENDS=		databases/sqlite3 \
			textproc/libxml

MODGNOME_TOOLS=		docbook gobject-introspection

USE_GMAKE=		Yes

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--disable-gcov \
			--disable-tests

# XXX check if still needed at next update
CONFIGURE_ENV +=	HAVE_GCOV_FALSE='\#'

AUTOCONF_VERSION=		2.69
AUTOMAKE_VERSION=		1.15
CONFIGURE_ARGS +=		--enable-gtk-doc
BUILD_DEPENDS +=		${MODGNU_AUTOCONF_DEPENDS} \
				${MODGNU_AUTOMAKE_DEPENDS} \
				devel/libtool \
				textproc/gtk-doc

pre-configure:
# XXX check if still needed at next update
	sed -i "s,-Werror,," ${WRKSRC}/libaccounts-glib/Makefile.am
	cd ${WRKSRC} && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		NOCONFIGURE=1 \
		./autogen.sh

.include <bsd.port.mk>
@


1.11
log
@Regen PLIST after gtk-doc update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2016/01/01 12:00:15 ajacoutot Exp $
d6 1
a6 1
REVISION=		0
d34 2
a35 1
LIB_DEPENDS=		textproc/libxml
@


1.10
log
@Document the fact that the RUN_DEPENDS on pygobject3 is needed because of
the MODPY_LIBDIR/gi/overrides/ directory.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2015/09/24 16:19:09 ajacoutot Exp $
d6 1
@


1.9
log
@Cert renewed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/09/24 12:32:52 ajacoutot Exp $
d31 1
@


1.8
log
@Temporary MASTER_SITES until I can renew my cert.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/09/24 04:36:41 ajacoutot Exp $
d23 1
a23 2
#MASTER_SITES=		https://distfiles.bsdfrog.org/
MASTER_SITES=		http://ftp.fr.openbsd.org/pub/
@


1.7
log
@Update to libaccounts-glib-1.18.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/04/21 18:51:25 sthen Exp $
d23 2
a24 1
MASTER_SITES=		https://distfiles.bsdfrog.org/
@


1.6
log
@add some simple missing lzma WANTLIBs (crept in via libxml)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/08/30 07:22:56 ajacoutot Exp $
d3 1
a3 1
COMMENT=	accounts management library for GLib applications
d5 1
a5 2
DISTNAME=	libaccounts-glib-1.16
REVISION=	0
d7 1
a7 1
SHARED_LIBS +=	accounts-glib        1.0      # 1.3
d9 1
a9 1
CATEGORIES=	net
d11 2
a12 2
MAINTAINER=	Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
		Antoine Jacoutot <ajacoutot@@openbsd.org>
d14 1
a14 1
HOMEPAGE=	https://accounts-sso.googlecode.com/
d17 1
a17 1
PERMIT_PACKAGE_CDROM=Yes
d22 3
a24 1
MASTER_SITES=	${HOMEPAGE}/files/
d26 3
a28 3
MODULES=	devel/gettext \
		lang/python \
		x11/gnome
d30 3
a32 3
BUILD_DEPENDS=	devel/py-gobject3
RUN_DEPENDS=	devel/py-gobject3
LIB_DEPENDS=	textproc/libxml
d34 1
a34 1
MODGNOME_TOOLS=	docbook gobject-introspection
d36 1
a36 1
USE_GMAKE=Yes
d38 3
a40 3
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--disable-gcov \
		--disable-tests
d43 18
a60 1
CONFIGURE_ENV+=	HAVE_GCOV_FALSE='\#'
@


1.5
log
@Update to libaccounts-glib-1.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/04/16 10:21:58 ajacoutot Exp $
d6 1
d20 1
a20 1
WANTLIB += c ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 m pcre
@


1.4
log
@Bump after py-gobject3 change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/29 13:59:41 jasper Exp $
d5 1
a5 2
DISTNAME=	libaccounts-glib-1.8
REVISION=	1
d7 1
a7 1
SHARED_LIBS +=	accounts-glib        0.0      # 1.3
d19 3
d25 2
a26 4
		lang/python

WANTLIB += c gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 m pcre pthread
WANTLIB += sqlite3 xml2 z ffi
d28 1
a28 4
BUILD_DEPENDS=	devel/gobject-introspection \
		devel/py-gobject3 \
		lang/vala \
		textproc/docbook-xsl
d31 2
a32 1
TEST_DEPENDS=	devel/check
d37 2
a38 2
CONFIGURE_ARGS+=${CONFIGURE_SHARED} \
		--enable-introspection
d40 2
a41 1
TEST_IS_INTERACTIVE=x11
@


1.3
log
@tweak DESCR/COMMENT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/03/29 13:42:59 jasper Exp $
d6 1
a6 1
REVISION=	0
@


1.2
log
@ugh, turns out i was looking at the wrong master_sites. update to 1.8
and clean things up a bit.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/03/29 13:16:17 jasper Exp $
d3 1
a3 1
COMMENT=	client library for the Accounts & SSO accounts database
d6 1
d17 1
a17 1
# GPLv3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 4
V=		1.1
BZR=		bzr153
DISTNAME=	libaccounts-glib-${V}+${BZR}
PKGNAME=	libaccounts-glib-$V
d14 1
a14 1
HOMEPAGE=	http://code.google.com/p/accounts-sso/
d19 1
a19 1
MASTER_SITES=	https://launchpad.net/libaccounts-glib/trunk/${V}+${BZR}/+download/
d24 2
a25 2
WANTLIB += c check dbus-1 dbus-glib-1 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 m pcre pthread sqlite3 xml2 z ffi
d28 3
a30 1
		devel/py-gobject3
d32 2
a33 3
LIB_DEPENDS=	devel/check \
		textproc/libxml \
		x11/dbus-glib
a40 3
FAKE_FLAGS=	libaccountsdocdir="${PREFIX}" \
		libaccountsdoc_DATA=

a41 2

WRKDIST=	${WRKDIR}/libaccounts-glib-$V
@


1.1.1.1
log
@import libaccounts-glib 1.1

Accounts & SSO is a framework consists of a set of components and
libraries which implement an account manager for a user's online
accounts and a single-sign-on daemon which handles the authentication to
the remote services on behalf of the client applications.

ok aja@@
@
text
@@
