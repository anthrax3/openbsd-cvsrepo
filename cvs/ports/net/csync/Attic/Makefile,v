head	1.8;
access;
symbols
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	ajacoutot_20120618:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2012.10.16.09.41.04;	author ajacoutot;	state dead;
branches;
next	1.7;

1.7
date	2012.08.21.15.28.18;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2012.08.16.08.52.55;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.08.04.15.13.26;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2012.06.24.08.01.29;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.06.18.14.07.28;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.06.18.14.01.45;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.06.18.08.51.46;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.06.18.08.51.46;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Remove csync which will be replaced by ocsync.

ok jasper@@
@
text
@# $OpenBSD: Makefile,v 1.7 2012/08/21 15:28:18 ajacoutot Exp $

SHARED_ONLY=	Yes

COMMENT=	bidirectional directories synchronizer

DISTNAME=	csync-0.50.8
REVISION=	0

EXTRACT_SUFX=	.tar.bz2

CATEGORIES=	net

SHARED_LIBS +=  csync                     0.0 # 0.1

HOMEPAGE=	http://www.csync.org/

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

WANTLIB += c crypto iniparser log4c neon pthread smbclient sqlite3
WANTLIB += ssh ssl

MASTER_SITES=	http://download.owncloud.com/download/

MODULES=	devel/cmake

BUILD_DEPENDS=	devel/argp-standalone \
		devel/check \
		devel/doxygen

LIB_DEPENDS=	devel/iniparser \
		devel/log4c \
		net/neon \
		net/samba \
		security/libssh

# csync_owncloud requires -pthread:
#     dlopen: failed to open libpthread.so.XX.X
CONFIGURE_ARGS=	-DCMAKE_C_FLAGS="${CFLAGS} -pthread" \
		-DCMAKE_SKIP_RPATH=ON \
		-DMAN_INSTALL_DIR=${PREFIX}/man \
		-DSYSCONFDIR=${SYSCONFDIR} \
		-DSYSCONF_INSTALL_DIR=${PREFIX}/share/examples \
		-DCMAKE_BUILD_TYPE=Release

NO_REGRESS=	Yes
USE_GROFF=	Yes

.include <bsd.port.mk>
@


1.7
log
@The owncloud module is linked with libpthread, so we need to compile
csync with -pthread to prevent:
    dlopen: failed to open libpthread.so.XX.X
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/08/16 08:52:55 ajacoutot Exp $
@


1.6
log
@Update to csync-0.50.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/08/04 15:13:26 ajacoutot Exp $
d8 1
d26 2
a27 2
WANTLIB += c crypto iniparser log4c neon smbclient sqlite3 ssh
WANTLIB += ssl
d43 3
a45 1
CONFIGURE_ARGS=	-DCMAKE_C_FLAGS="${CFLAGS}" \
@


1.5
log
@Fix WANTLIB/LIB_DEPENDS now that iniparser has been fixed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/06/24 08:01:29 ajacoutot Exp $
a5 1
REVISION=	0
d7 1
a7 1
DISTNAME=	csync-0.50.7
d25 2
a26 1
WANTLIB += c iniparser log4c neon smbclient sqlite3 ssh
@


1.4
log
@Update to csync-0.50.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/06/18 14:01:45 ajacoutot Exp $
d6 1
d26 1
a26 1
WANTLIB += c log4c neon smbclient sqlite3 ssh
d34 1
a34 2
		devel/doxygen \
		devel/iniparser
d36 2
a37 1
LIB_DEPENDS=	devel/log4c \
d43 1
d46 2
a47 1
		-DSYSCONF_INSTALL_DIR=${PREFIX}/share/examples
@


1.3
log
@Take MAINTAINER.
@
text
@d7 2
a8 1
DISTNAME=	csync-0.50.6
a9 2

REVISION=	1
@


1.2
log
@Enable csync_owncloud; it works.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/06/18 08:51:46 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
d10 1
a10 1
EXTRACT_SUFX=	.tar.bz2
d17 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 2
@


1.1.1.1
log
@Import csync-0.50.6.

csync is a lightweight utility to synchronize files between two
directories on a system or between multiple systems.
<...>

inputs/ok jasper@@

NOTE that currently the owncloud module is commented in the PLIST
because there is something wrong with our neon library for webdav which
segfaults. I am working on this -- for now at least local and sftp sync
work fine.
@
text
@@
