head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2017.05.19.23.14.09;	author espie;	state Exp;
branches;
next	;
commitid	23QsW2cahF8cXXuf;


desc
@@


1.1
log
@fix compilation with clang. warns a lot about stuff that shouldn't be though
@
text
@$OpenBSD$

Index: libjabber/jconn.c
--- libjabber/jconn.c.orig
+++ libjabber/jconn.c
@@@@ -824,7 +824,7 @@@@ void *jabber_recieve_file_fd(void *arg)
 		free(hash);
 		close(sock);
 		close(fd_file);
-		return;
+		return NULL;
 	}
 	 
 	recv( sock, buff, SEND_BUF, 0 );
@@@@ -833,9 +833,9 @@@@ void *jabber_recieve_file_fd(void *arg)
 		free(hash);
 		close(sock);
 		close(fd_file);
-		return;
+		return NULL;
 	}
-	 
+     
 //socks5 bytestream packet	 
 	buff[0] = 0x05;
 	buff[1] = 0x01;
@@@@ -851,7 +851,7 @@@@ void *jabber_recieve_file_fd(void *arg)
 		free(hash);
 		close(sock);
 		close(fd_file);
-		return;
+		return NULL;
 	}
 	recv( sock, buff, 47, 0 );
 	if( buff[0] != 0x05 || buff[3] != 0x03 )
@@@@ -859,7 +859,7 @@@@ void *jabber_recieve_file_fd(void *arg)
 		free(hash);
 		close(sock);
 		close(fd_file);
-		return;
+		return NULL;
 	}
 
 
@
