head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2014.07.12.16.13.24;	author giovanni;	state dead;
branches;
next	1.1;
commitid	KOZZPMJZYOJVQITS;

1.1
date	2014.05.30.13.11.34;	author giovanni;	state Exp;
branches;
next	;


desc
@@


1.2
log
@
update to 2.76, adds lot of tlds
take maintainership
@
text
@$OpenBSD: patch-pwhois,v 1.1 2014/05/30 13:11:34 giovanni Exp $
--- pwhois.orig	Fri Jan 24 08:57:19 2014
+++ pwhois	Thu May 29 13:03:50 2014
@@@@ -158,8 +158,12 @@@@ sub detect_encodings {
         $output_cp = 'cp'.$data;
     } else {
         # Read encoding from environment
-        (my $cp = $ENV{LANG}) =~ s/^[a-z]{2}_[A-Z]{2}\.//;
-        $input_cp = $output_cp = lc $cp;
+	if (defined $ENV{LANG}) {
+            (my $cp = $ENV{LANG}) =~ s/^[a-z]{2}_[A-Z]{2}\.//;
+            $input_cp = $output_cp = lc $cp;
+	} else {
+            $input_cp = $output_cp = 'C';
+	}
     }
 
     return ($input_cp, $output_cp);
@


1.1
log
@
Update to 2.63 and fix pwhois
@
text
@d1 1
a1 1
$OpenBSD$
@

