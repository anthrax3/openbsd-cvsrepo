head	1.20;
access;
symbols
	OPENBSD_6_1:1.20.0.4
	OPENBSD_6_1_BASE:1.20
	OPENBSD_6_0:1.20.0.2
	OPENBSD_6_0_BASE:1.20
	OPENBSD_5_9:1.19.0.4
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.19.0.6
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.19.0.2
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.18.0.2
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.17.0.4
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.15.0.2
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.14.0.2
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.2
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.9.0.10
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.9.0.8
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.6
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.9.0.4
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.9.0.2
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.8.0.4
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.2
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.7.0.2
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.6.0.8
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.6.0.6
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.6.0.4
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.2
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.5.0.2
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.2.0.4
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	david_2003-Dec-11:1.1.1.1
	david:1.1.1;
locks; strict;
comment	@# @;


1.20
date	2016.03.22.12.57.54;	author jca;	state Exp;
branches;
next	1.19;
commitid	UMHjWDfFsEz4krLO;

1.19
date	2015.01.19.15.44.12;	author sthen;	state Exp;
branches;
next	1.18;
commitid	D8SUl7uPa22cOBAb;

1.18
date	2014.06.27.00.06.42;	author sthen;	state Exp;
branches;
next	1.17;
commitid	Yo91whXNIY7rSjZW;

1.17
date	2013.05.14.18.41.14;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2013.04.18.20.29.08;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2012.09.19.16.35.06;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2012.04.28.11.06.12;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2012.01.17.17.22.56;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.27.09.45.53;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2011.05.11.12.03.19;	author jasper;	state Exp;
branches
	1.11.2.1;
next	1.10;

1.10
date	2011.03.26.12.00.53;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2009.02.18.00.37.53;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2007.09.12.20.31.18;	author rui;	state Exp;
branches;
next	1.7;

1.7
date	2007.06.20.18.05.36;	author rui;	state Exp;
branches;
next	1.6;

1.6
date	2005.08.09.22.55.34;	author aanriot;	state Exp;
branches;
next	1.5;

1.5
date	2004.11.30.23.12.54;	author alek;	state Exp;
branches;
next	1.4;

1.4
date	2004.09.18.13.01.48;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2004.09.15.18.17.45;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.02.06.50.55;	author david;	state Exp;
branches;
next	1.1;

1.1
date	2003.12.11.19.00.59;	author david;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.12.11.19.00.59;	author david;	state Exp;
branches;
next	;

1.11.2.1
date	2011.09.27.09.47.24;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.20
log
@Update to 1.0.20160315, ok sthen@@ (maintainer)

Announce:

  https://lists.quagga.net/pipermail/quagga-users/2016-March/014293.html

ChangeLog:

  http://savannah.spinellicreations.com/quagga/quagga-1.0.20160315.changelog.txt
  http://savannah.spinellicreations.com/quagga/quagga-1.0.20160309.changelog.txt

Note that this update brings a fix for CVE-2016-2342.  This vulnerability
affects quagga MPLS VPN setups which probably aren't possible on OpenBSD.
@
text
@@@comment $OpenBSD: PLIST,v 1.19 2015/01/19 15:44:12 sthen Exp $
@@conflict zebra-*
@@newgroup _quagga:525
@@newuser _quagga:525:_quagga:daemon:Quagga Account:/nonexistent:/sbin/nologin
@@extraunexec rm -rf ${LOCALSTATEDIR}/*
@@extraunexec rm -rf /var/log/quagga/*
@@comment @@bin bin/bgp_btoa
@@bin bin/test_igmpv3_join
@@bin bin/vtysh
include/quagga/
include/quagga/quagga/
include/quagga/quagga/buffer.h
include/quagga/quagga/checksum.h
include/quagga/quagga/command.h
include/quagga/quagga/distribute.h
include/quagga/quagga/fifo.h
include/quagga/quagga/filter.h
include/quagga/quagga/getopt.h
include/quagga/quagga/hash.h
include/quagga/quagga/if.h
include/quagga/quagga/if_rmap.h
include/quagga/quagga/jhash.h
include/quagga/quagga/keychain.h
include/quagga/quagga/libospf.h
include/quagga/quagga/linklist.h
include/quagga/quagga/log.h
include/quagga/quagga/md5.h
include/quagga/quagga/memory.h
include/quagga/quagga/memtypes.h
include/quagga/quagga/network.h
include/quagga/quagga/ospfapi/
include/quagga/quagga/ospfapi/ospf_apiclient.h
include/quagga/quagga/ospfd/
include/quagga/quagga/ospfd/ospf_api.h
include/quagga/quagga/ospfd/ospf_asbr.h
include/quagga/quagga/ospfd/ospf_dump.h
include/quagga/quagga/ospfd/ospf_ism.h
include/quagga/quagga/ospfd/ospf_lsa.h
include/quagga/quagga/ospfd/ospf_lsdb.h
include/quagga/quagga/ospfd/ospf_nsm.h
include/quagga/quagga/ospfd/ospf_opaque.h
include/quagga/quagga/ospfd/ospfd.h
include/quagga/quagga/plist.h
include/quagga/quagga/pqueue.h
include/quagga/quagga/prefix.h
include/quagga/quagga/privs.h
include/quagga/quagga/route_types.h
include/quagga/quagga/routemap.h
include/quagga/quagga/sigevent.h
include/quagga/quagga/smux.h
include/quagga/quagga/sockopt.h
include/quagga/quagga/sockunion.h
include/quagga/quagga/str.h
include/quagga/quagga/stream.h
include/quagga/quagga/table.h
include/quagga/quagga/thread.h
include/quagga/quagga/vector.h
include/quagga/quagga/version.h
include/quagga/quagga/vrf.h
include/quagga/quagga/vty.h
include/quagga/quagga/workqueue.h
include/quagga/quagga/zassert.h
include/quagga/quagga/zclient.h
include/quagga/quagga/zebra.h
@@info info/quagga.info
lib/libospf.a
lib/libospf.la
@@lib lib/libospf.so.${LIBospf_VERSION}
lib/libospfapiclient.a
lib/libospfapiclient.la
@@lib lib/libospfapiclient.so.${LIBospfapiclient_VERSION}
lib/libzebra.a
lib/libzebra.la
@@lib lib/libzebra.so.${LIBzebra_VERSION}
@@man man/man1/vtysh.1
@@man man/man8/bgpd.8
@@man man/man8/isisd.8
@@man man/man8/ospf6d.8
@@man man/man8/ospfclient.8
@@man man/man8/ospfd.8
@@man man/man8/pimd.8
@@man man/man8/ripd.8
@@man man/man8/ripngd.8
@@man man/man8/watchquagga.8
@@man man/man8/zebra.8
@@bin sbin/bgpd
@@bin sbin/isisd
@@bin sbin/ospf6d
@@bin sbin/ospfclient
@@bin sbin/ospfd
@@bin sbin/pimd
@@bin sbin/ripd
@@bin sbin/ripngd
@@bin sbin/watchquagga
@@bin sbin/zebra
share/doc/quagga/
share/doc/quagga/README
share/doc/quagga/SERVICES
share/examples/quagga/
@@mode 750
@@owner _quagga
@@group _quagga
@@sample ${SYSCONFDIR}/
@@mode
@@owner
@@group
share/examples/quagga/bgpd.conf.sample
@@owner _quagga
@@group _quagga
@@sample ${SYSCONFDIR}/bgpd.conf
@@owner
@@group
share/examples/quagga/bgpd.conf.sample2
share/examples/quagga/isisd.conf.sample
@@owner _quagga
@@group _quagga
@@sample ${SYSCONFDIR}/isisd.conf
@@owner
@@group
share/examples/quagga/ospf6d.conf.sample
@@owner _quagga
@@group _quagga
@@sample ${SYSCONFDIR}/ospf6d.conf
@@owner
@@group
share/examples/quagga/ospfd.conf.sample
@@owner _quagga
@@group _quagga
@@sample ${SYSCONFDIR}/ospfd.conf
@@owner
@@group
share/examples/quagga/pimd.conf.sample
@@owner _quagga
@@group _quagga
@@sample ${SYSCONFDIR}/pimd.conf
@@owner
@@group
share/examples/quagga/ripd.conf.sample
@@owner _quagga
@@group _quagga
@@sample ${SYSCONFDIR}/ripd.conf
@@owner
@@group
share/examples/quagga/ripngd.conf.sample
@@owner _quagga
@@group _quagga
@@sample ${SYSCONFDIR}/ripngd.conf
@@owner
@@group
share/examples/quagga/vtysh.conf.sample
@@owner _quagga
@@group _quagga
@@sample ${SYSCONFDIR}/vtysh.conf
@@owner
@@group
share/examples/quagga/zebra.conf.sample
@@owner _quagga
@@group _quagga
@@sample ${SYSCONFDIR}/zebra.conf
@@sample ${LOCALSTATEDIR}/
@@sample /var/log/quagga/
@@owner
@@group
@@rcscript ${RCDIR}/quagga_bgpd
@@rcscript ${RCDIR}/quagga_isisd
@@rcscript ${RCDIR}/quagga_ospf6d
@@rcscript ${RCDIR}/quagga_ospfd
@@rcscript ${RCDIR}/quagga_pimd
@@rcscript ${RCDIR}/quagga_ripd
@@rcscript ${RCDIR}/quagga_ripngd
@@rcscript ${RCDIR}/quagga_zebra
@


1.19
log
@build isisd in quagga, not tested but no reason not to build
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.18 2014/06/27 00:06:42 sthen Exp $
d7 2
d16 1
d59 1
d81 1
a85 1
@@bin sbin/babeld
d91 1
a99 1
share/examples/quagga/babeld.conf.sample
a104 1
@@sample ${SYSCONFDIR}/babeld.conf
d132 6
a163 1
@@rcscript ${RCDIR}/quagga_babeld
d168 1
@


1.18
log
@update to quagga-0.99.23
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.17 2013/05/14 18:41:14 brad Exp $
d73 1
d83 1
d111 6
d157 1
@


1.17
log
@Update to Quagga 0.99.22.1.

ok sthen@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.16 2013/04/18 20:29:08 sthen Exp $
d21 1
@


1.16
log
@Update to quagga 0.99.22, merged from diffs from myself and Brad. Also:
- replace MESSAGE with some @@sample'd config files
- install rc.d scripts
- multicast code still ported from older version (new one needs RFC3678)
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.15 2012/09/19 16:35:06 sthen Exp $
d93 1
a95 1
@@mode 750
d99 1
a100 1
@@owner
d105 1
a106 1
@@owner
d112 1
a113 1
@@owner
d118 1
a119 1
@@owner
d124 1
a125 1
@@owner
d130 1
a131 1
@@owner
d136 1
a137 1
@@owner
d144 1
a145 1
@@owner
@


1.15
log
@update to Quagga 0.99.21
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.14 2012/04/28 11:06:12 ajacoutot Exp $
d6 1
a6 1
%%SHARED%%
d63 1
d66 1
d69 1
d93 8
d102 5
d109 5
d115 5
d121 5
d127 5
d133 5
d141 1
a141 1
@@sample ${SYSCONFDIR}/
d143 10
@


1.14
log
@Use LOCALSTATEDIR instead of local variables.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.13 2012/01/17 17:22:56 sthen Exp $
a68 1
@@man man/man8/isisd.8
d70 1
d74 1
d76 1
d89 1
@


1.13
log
@use SYSCONFDIR/BASESYSCONFDIR to avoid "CONFIGURE_STYLE=gnu old" hack
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.12 2011/09/27 09:45:53 sthen Exp $
d5 1
a5 1
@@extraunexec rm -rf ${STATEDIR}/*
d98 1
a98 1
@@sample ${STATEDIR}/
@


1.12
log
@SECURITY update to quagga 0.99.19

CVE-2011-3323: ospf6d *stack-based buffer overflow*, inter-area-prefix LSAs
CVE-2011-3324: ospf6d assertion failure; DD LSAs with over-length header
CVE-2011-3325: ospf crash(?) if a hello has a truncated header or invalid type
CVE-2011-3326: ospf null deref if a link state update LSA has an unknown type
CVE-2011-3327: bgp buffer overflow with malformed UPDATE (extended communities)
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.11 2011/05/11 12:03:19 jasper Exp $
d97 1
a97 1
@@sample ${SYSCONFDIR}/quagga/
@


1.11
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.

ok aja@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.10 2011/03/26 12:00:53 sthen Exp $
d27 2
d63 2
d77 1
@


1.11.2.1
log
@MFC: SECURITY update to quagga 0.99.19

CVE-2011-3323: ospf6d *stack-based buffer overflow*, inter-area-prefix LSAs
CVE-2011-3324: ospf6d assertion failure; DD LSAs with over-length header
CVE-2011-3325: ospf crash(?) if a hello has a truncated header or invalid type
CVE-2011-3326: ospf null deref if a link state update LSA has an unknown type
CVE-2011-3327: bgp buffer overflow with malformed UPDATE (extended communities)
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.12 2011/09/27 09:45:53 sthen Exp $
a26 2
include/quagga/quagga/ospfapi/
include/quagga/quagga/ospfapi/ospf_apiclient.h
a60 2
lib/libospfapiclient.a
lib/libospfapiclient.la
a72 1
@@bin sbin/ospfclient
@


1.10
log
@- SECURITY update to 0.99.18 (pointed out by Brad)
CVE-2010-1674 null pointer deref with malformed BGP Extended Communities
CVE-2010-1675 BGP session reset with malformed AS-path

- install info documentation

- patches added: build fixes from upstream
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.9 2009/02/18 00:37:53 sthen Exp $
d5 1
a93 1
@@extraunexec rm -rf ${STATEDIR}
@


1.9
log
@update quagga to 0.99.11. the SNMP flavour was already broken,
disable it for now.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.8 2007/09/12 20:31:18 rui Exp $
d57 1
@


1.8
log
@SECURITY: update quagga to 0.99.9 which fixes some DoS vulnerabilities.
Reference: http://secunia.com/advisories/26744/

ok pyr@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.7 2007/06/20 18:05:36 rui Exp $
d6 1
a6 1
bin/vtysh
d69 7
a75 7
sbin/bgpd
sbin/ospf6d
sbin/ospfd
sbin/ripd
sbin/ripngd
sbin/watchquagga
sbin/zebra
@


1.7
log
@update quagga to 0.99.7

help and ok pyr@@
@
text
@d1 1
a1 1
@@comment $OpenBSD$
a56 1
info/quagga.info
@


1.6
log
@add sample config file.

ok david@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.5 2004/11/30 23:12:54 alek Exp $
d5 53
a57 43
include/zebra/
include/zebra/buffer.h
include/zebra/command.h
include/zebra/debug.h
include/zebra/distribute.h
include/zebra/filter.h
include/zebra/getopt.h
include/zebra/hash.h
include/zebra/if.h
include/zebra/if_rmap.h
include/zebra/keychain.h
include/zebra/linklist.h
include/zebra/log.h
include/zebra/md5-gnu.h
include/zebra/memory.h
include/zebra/network.h
include/zebra/ospfd/
include/zebra/ospfd/ospf_api.h
include/zebra/ospfd/ospf_asbr.h
include/zebra/ospfd/ospf_dump.h
include/zebra/ospfd/ospf_ism.h
include/zebra/ospfd/ospf_lsa.h
include/zebra/ospfd/ospf_lsdb.h
include/zebra/ospfd/ospf_nsm.h
include/zebra/ospfd/ospf_opaque.h
include/zebra/ospfd/ospfd.h
include/zebra/plist.h
include/zebra/prefix.h
include/zebra/privs.h
include/zebra/routemap.h
include/zebra/smux.h
include/zebra/sockopt.h
include/zebra/sockunion.h
include/zebra/str.h
include/zebra/stream.h
include/zebra/table.h
include/zebra/thread.h
include/zebra/vector.h
include/zebra/version.h
include/zebra/vty.h
include/zebra/zclient.h
include/zebra/zebra.h
@@info info/quagga.info
d59 1
d61 1
d64 1
d75 1
d77 12
a88 10
share/doc/zebra/
share/doc/zebra/README
share/doc/zebra/SERVICES
share/examples/zebra/
share/examples/zebra/bgpd.conf.sample
share/examples/zebra/bgpd.conf.sample2
share/examples/zebra/ospf6d.conf.sample
share/examples/zebra/ospfd.conf.sample
share/examples/zebra/ripd.conf.sample
share/examples/zebra/ripngd.conf.sample
d91 1
a91 1
@@sample ${SYSCONFDIR}/zebra/
a92 6
@@owner
@@group
share/examples/zebra/zebra.conf.sample
@@owner _quagga
@@group _quagga
@@sample ${SYSCONFDIR}/zebra/zebra.conf
@


1.5
log
@- Replace INSTALL with @@new(user|group), MESSAGE and @@sample
- Kill DEINSTALL
- Add WANTLIB marker
- Bump PKGNAME

ok david@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.4 2004/09/18 13:01:48 espie Exp $
a72 1
share/examples/zebra/zebra.conf.sample
d77 6
@


1.4
log
@new style conflicts.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.3 2004/09/15 18:17:45 espie Exp $
d3 2
d74 4
a77 1
@@extraunexec rm -rf ${CONFDIR}
@


1.3
log
@new plists, kill a few INSTALL scripts.
@
text
@d1 2
a2 2
@@comment $OpenBSD: PLIST,v 1.2 2004/01/02 06:50:55 david Exp $
@@pkgcfl zebra-*
@


1.2
log
@install SERVICES doc file
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.1.1.1 2003/12/11 19:00:59 david Exp $
d3 1
a3 1
@@unexec install-info --delete --info-dir=%D/info %D/info/quagga.info
d19 1
d45 1
a45 1
info/quagga.info
d48 7
a54 7
man/man1/vtysh.1
man/man8/bgpd.8
man/man8/ospf6d.8
man/man8/ospfd.8
man/man8/ripd.8
man/man8/ripngd.8
man/man8/zebra.8
d61 1
d64 1
a71 5
@@dirrm share/examples/zebra
@@dirrm share/doc/zebra
@@dirrm include/zebra/ospfd
@@dirrm include/zebra
@@exec install-info --info-dir=%D/info %D/info/quagga.info
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.11 2002/07/10 20:14:46 mickey Exp $
d61 1
@


1.1.1.1
log
@Initial import of quagga-0.96.4

Quagga is a routing software suite, providing implementations of OSPFv2,
OSPFv3, RIP v1 and v2, RIPv3 and BGPv4 for Unix platforms, particularly
FreeBSD and Linux and also NetBSD, to mention a few. Quagga is a fork of
GNU Zebra which was developed by Kunihiro Ishiguro. The Quagga tree aims
to build a more involved community around Quagga than the current
centralized model of GNU Zebra.

WWW: http://www.quagga.net/
@
text
@@
