head	1.6;
access;
symbols
	OPENBSD_6_0:1.6.0.2
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.1.1.1.0.4
	OPENBSD_5_8_BASE:1.1.1.1
	sthen_20150423:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2016.06.20.15.12.42;	author sthen;	state Exp;
branches;
next	1.5;
commitid	dGEgzdMU83elTTEV;

1.5
date	2016.05.06.19.31.08;	author sthen;	state Exp;
branches;
next	1.4;
commitid	6W7Ad1YO4vJbqdrN;

1.4
date	2015.12.07.23.42.03;	author sthen;	state Exp;
branches;
next	1.3;
commitid	OsKCqTLKkFfgPQ0U;

1.3
date	2015.11.10.15.51.35;	author sthen;	state Exp;
branches;
next	1.2;
commitid	0DeDpTTq4GsbjyxX;

1.2
date	2015.10.12.11.30.32;	author sthen;	state Exp;
branches;
next	1.1;
commitid	qHmiOahFpxhYYzp1;

1.1
date	2015.04.23.16.44.34;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;
commitid	scv4HIxLiyoXiheP;

1.1.1.1
date	2015.04.23.16.44.34;	author sthen;	state Exp;
branches;
next	;
commitid	scv4HIxLiyoXiheP;


desc
@@


1.6
log
@update to LibreNMS 201606
@
text
@$OpenBSD$
--- scripts/distro.orig	Mon Jun 20 14:49:40 2016
+++ scripts/distro	Mon Jun 20 14:50:03 2016
@@@@ -1,96 +1,2 @@@@
-#!/usr/bin/env bash
-# Detects which OS and if it is Linux then it will detect which Linux Distribution.
-
-OS=`uname -s`
-REV=`uname -r`
-MACH=`uname -m`
-
-if [ "${OS}" = "SunOS" ] ; then
-  OS=Solaris
-  ARCH=`uname -p`
-  OSSTR="${OS} ${REV}(${ARCH} `uname -v`)"
-
-elif [ "${OS}" = "AIX" ] ; then
-  OSSTR="${OS} `oslevel` (`oslevel -r`)"
-
-elif [ "${OS}" = "Linux" ] ; then
-  KERNEL=`uname -r`
-
-  if [ -f /etc/redhat-release ] ; then
-    DIST=$(cat /etc/redhat-release | awk '{print $1}')
-    if [ "${DIST}" = "CentOS" ]; then
-      DIST="CentOS"
-    elif [ "${DIST}" = "Mandriva" ]; then
-      DIST="Mandriva"
-      PSEUDONAME=`cat /etc/mandriva-release | sed s/.*\(// | sed s/\)//`
-      REV=`cat /etc/mandriva-release | sed s/.*release\ // | sed s/\ .*//`
-    else
-      DIST="RedHat"
-    fi
-
-    PSEUDONAME=`cat /etc/redhat-release | sed s/.*\(// | sed s/\)//`
-    REV=`cat /etc/redhat-release | sed s/.*release\ // | sed s/\ .*//`
-
-  elif [ -f /etc/mandrake-release ] ; then
-    DIST='Mandrake'
-    PSEUDONAME=`cat /etc/mandrake-release | sed s/.*\(// | sed s/\)//`
-    REV=`cat /etc/mandrake-release | sed s/.*release\ // | sed s/\ .*//`
-
-  elif [ -f /etc/debian_version ] ; then
-    DIST="Debian `cat /etc/debian_version`"
-    REV=""
-
-  elif [ -f /etc/gentoo-release ] ; then
-    DIST="Gentoo"
-    REV=$(tr -d '[[:alpha:]]' </etc/gentoo-release | tr -d " ")
-
-  elif [ -f /etc/arch-release ] ; then
-    DIST="Arch Linux"
-    REV="" # Omit version since Arch Linux uses rolling releases
-    IGNORE_LSB=1 # /etc/lsb-release would overwrite $REV with "rolling"
-
-  elif [ -f /etc/os-release ] ; then
-    DIST=$(grep '^NAME=' /etc/os-release | cut -d= -f2- | tr -d '"')
-    REV=$(grep '^VERSION_ID=' /etc/os-release | cut -d= -f2- | tr -d '"')
-
-  elif [ -f /etc/openwrt_version ] ; then
-    DIST="OpenWrt"
-    REV=$(cat /etc/openwrt_version)
-
-  elif [ -f /etc/pld-release ] ; then
-    DIST=$(cat /etc/pld-release)
-    REV=""
-
-  elif [ -f /etc/SuSE-release ] ; then
-    DIST=$(echo SLES $(grep VERSION /etc/SuSE-release | cut -d = -f 2 | tr -d " "))
-    REV=$(echo SP$(grep PATCHLEVEL /etc/SuSE-release | cut -d = -f 2 | tr -d " "))
-  fi
-
-  if [ -f /etc/lsb-release -a "${IGNORE_LSB}" != 1 ] ; then
-    LSB_DIST=$(lsb_release -si)
-    LSB_REV=$(lsb_release -sr)
-    if [ "$LSB_DIST" != "" ] ; then
-      DIST=$LSB_DIST
-    fi
-    if [ "$LSB_REV" != "" ] ; then
-      REV=$LSB_REV
-    fi
-  fi
-
-  if [ -n "${REV}" ]
-  then
-    OSSTR="${DIST} ${REV}"
-  else
-    OSSTR="${DIST}"
-  fi
-
-elif [ "${OS}" = "Darwin" ] ; then
-  if [ -f /usr/bin/sw_vers ] ; then
-    OSSTR=`/usr/bin/sw_vers|grep -v Build|sed 's/^.*:.//'| tr "\n" ' '`
-  fi
-
-elif [ "${OS}" = "FreeBSD" ] ; then
-  OSSTR=`/usr/bin/uname -mior`
-fi
-
-echo ${OSSTR}
+#!/bin/sh
+echo OpenBSD `uname -r`
@


1.5
log
@update to librenms-201605
@
text
@d2 3
a4 3
--- scripts/distro.orig	Tue May  3 12:24:48 2016
+++ scripts/distro	Tue May  3 12:25:20 2016
@@@@ -1,94 +1,2 @@@@
d74 2
a75 2
-    LSB_DIST="`cat /etc/lsb-release | grep DISTRIB_ID | cut -d "=" -f2`"
-    LSB_REV="`cat /etc/lsb-release | grep DISTRIB_RELEASE | cut -d "=" -f2`"
d78 2
@


1.4
log
@update to LibreNMS-201512
@
text
@d1 4
a4 4
$OpenBSD: patch-scripts_distro,v 1.3 2015/11/10 15:51:35 sthen Exp $
--- scripts/distro.orig	Mon Dec  7 14:22:34 2015
+++ scripts/distro	Mon Dec  7 14:26:21 2015
@@@@ -1,91 +1,2 @@@@
d93 3
@


1.3
log
@update to LibreNMS 201511
@
text
@d1 5
a5 5
$OpenBSD: patch-scripts_distro,v 1.2 2015/10/12 11:30:32 sthen Exp $
--- scripts/distro.orig	Wed Nov  4 14:18:30 2015
+++ scripts/distro	Wed Nov  4 14:18:38 2015
@@@@ -1,87 +1,2 @@@@
 #!/usr/bin/env bash
d67 4
d96 1
@


1.2
log
@update to librenms-201510
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_distro,v 1.1.1.1 2015/04/23 16:44:34 sthen Exp $
--- scripts/distro.orig	Mon Oct 12 12:10:55 2015
+++ scripts/distro	Mon Oct 12 12:11:41 2015
d5 1
a5 1
 #!/bin/sh
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- scripts/distro.orig	Fri Mar 20 15:01:46 2015
+++ scripts/distro	Fri Mar 20 15:05:41 2015
@@@@ -1,66 +1,2 @@@@
d16 1
d19 1
d22 1
d37 1
a37 3
-  elif [ -f /etc/SuSE-release ] ; then
-    DIST=`cat /etc/SuSE-release | tr "\n" ' '| sed s/VERSION.*//`
-    REV=`cat /etc/SuSE-release | tr "\n" ' ' | sed s/.*=\ //`
d42 1
d46 1
a49 1
-  fi
d51 16
a66 2
-  if [ -f /etc/UnitedLinux-release ] ; then
-    DIST="${DIST}[`cat /etc/UnitedLinux-release | tr "\n" ' ' | sed s/VERSION.*//`]"
d69 1
a69 1
-  if [ -f /etc/lsb-release ] ; then
d78 7
a84 2
-#  OSSTR="${OS} ${DIST} ${REV}(${PSEUDONAME} ${KERNEL} ${MACH})"
-  OSSTR="${DIST} ${REV}"
@


1.1.1.1
log
@import ports/net/librenms, ok benoit@@ -- still a bit of a WIP, but usable enough.

LibreNMS is an autodiscovering PHP/MySQL/SNMP based network monitoring
which includes support for a wide range of network hardware and
operating systems including Cisco, Linux, FreeBSD, Juniper, Brocade,
Foundry, HP and many more. LibreNMS is a community-based fork of
Observium.

LibreNMS is not intended to replace a Nagios-type up/down monitoring
system, but rather to complement it with an easy to manage, intuitive
representation of historical and current performance statistics,
configuration visualisation and syslog capture.
@
text
@@
