head	1.5;
access;
symbols
	OPENBSD_6_1:1.5.0.2
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.4.0.12
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.8
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.10
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.6
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.6
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2016.09.19.14.06.53;	author dcoppa;	state Exp;
branches;
next	1.4;
commitid	5r1M93ZXX9IopG1W;

1.4
date	2014.01.13.15.01.22;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2012.02.22.07.54.26;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2011.11.28.15.28.49;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2011.06.24.08.42.31;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.5
log
@
Finally a new release!
Update to amule-2.3.2
@
text
@$OpenBSD: patch-src_Preferences_cpp,v 1.4 2014/01/13 15:01:22 dcoppa Exp $

Disable checking for new versions at startup.

--- src/Preferences.cpp.orig	Fri Sep 16 09:55:06 2016
+++ src/Preferences.cpp	Sun Sep 18 15:31:21 2016
@@@@ -1211,7 +1211,7 @@@@ void CPreferences::BuildItemList( const wxString& appd
 	/**
 	 * Version check
 	 **/
-	 NewCfgItem(IDC_NEWVERSION,	(new Cfg_Bool( wxT("/eMule/NewVersionCheck"), s_NewVersionCheck, true )));
+	 NewCfgItem(IDC_NEWVERSION,	(new Cfg_Bool( wxT("/eMule/NewVersionCheck"), s_NewVersionCheck, false )));
 
 	 /**
 	  * Obfuscation
@


1.4
log
@New round of fixes from upstream:

New download link for server list
(upstream git commit 458e2c2f0d245eca88e9fea48e66bd40036162f4)

If successfully downloaded a server list, and are not connected at
the moment, try to connect.
This happens when no server met is available on startup.
(upstream git commit 41e0edaed86c9be58ae372e419e2cc02cebfa243)

Fix the blasted DoNetworkRearrange()
upstream git commits:
 http://repo.or.cz/w/amule.git/commit/f2307fa12fb18688131962d11623ec776697b15f
 http://repo.or.cz/w/amule.git/commit/af9cec62ba0bf02e31ae316749234cbd31792db7
 http://repo.or.cz/w/amule.git/commit/85ea02a3abc784f415adadfb384c654057e13c01
 http://repo.or.cz/w/amule.git/commit/d41b28c86b2f07439928720971896dde1ae89bb1

mldonkey_importer.pl can import an unlimited number of files
(upstream git commit c7667a3e341c2499b0c9a7299f5b05096247556d)
@
text
@d1 1
a1 1
$OpenBSD: patch-src_Preferences_cpp,v 1.3 2012/02/22 07:54:26 dcoppa Exp $
d5 3
a7 9
Change nodes.dat default download URL to something actually working
(upstream git commit 8dbe597539bcac7272ccf4d46790fde814aeded1)

New download link for server list
(upstream git commit 458e2c2f0d245eca88e9fea48e66bd40036162f4)

--- src/Preferences.cpp.orig	Sun Oct  9 02:19:08 2011
+++ src/Preferences.cpp	Mon Jan 13 13:30:09 2014
@@@@ -1210,7 +1210,7 @@@@ void CPreferences::BuildItemList( const wxString& appd
a15 11
@@@@ -1244,8 +1244,8 @@@@ void CPreferences::BuildItemList( const wxString& appd
 
 	s_MiscList.push_back( new Cfg_Bool( wxT("/eMule/DropSlowSources"), 		s_DropSlowSources, false ) );
 
-	s_MiscList.push_back( new Cfg_Str(  wxT("/eMule/KadNodesUrl"),			s_KadURL, wxT("http://download.tuxfamily.org/technosalad/utils/nodes.dat") ) );
-	s_MiscList.push_back( new Cfg_Str(  wxT("/eMule/Ed2kServersUrl"),		s_Ed2kURL, wxT("http://gruk.org/server.met.gz") ) );
+	s_MiscList.push_back( new Cfg_Str(  wxT("/eMule/KadNodesUrl"),			s_KadURL, wxT("http://upd.emule-security.org/nodes.dat") ) );
+	s_MiscList.push_back( new Cfg_Str(	wxT("/eMule/Ed2kServersUrl"),		s_Ed2kURL, wxT("http://upd.emule-security.org/server.met") ) );
 	s_MiscList.push_back( MkCfg_Int( wxT("/eMule/ShowRatesOnTitle"),		s_showRatesOnTitle, 0 ));
 
 	s_MiscList.push_back( new Cfg_Str(  wxT("/eMule/GeoLiteCountryUpdateUrl"),		s_GeoIPUpdateUrl, wxT("http://geolite.maxmind.com/download/geoip/database/GeoLiteCountry/GeoIP.dat.gz") ) );
@


1.3
log
@Fix a couple of crashers:

fix crash on truncated statistics.dat
(upstream git commit 5e3682f7efed13eb52e4358a2d91b0e381334120)

fix amuleweb crash on CProgressImage::CreateSpan
(upstream git commit 846dcf92ce64fd42caf8a86d644fe3a3f4683d09)

And:

fix showing of shared files to other clients
(upstream git commit 4e40aecb160baac72aa28a8a4c7aaf19261e051f)

change nodes.dat default download URL to something actually working
(upstream git commit 8dbe597539bcac7272ccf4d46790fde814aeded1)
@
text
@d1 1
a1 1
$OpenBSD: patch-src_Preferences_cpp,v 1.2 2011/11/28 15:28:49 dcoppa Exp $
d8 3
d12 1
a12 1
+++ src/Preferences.cpp	Tue Feb 21 15:58:53 2012
d22 1
a22 1
@@@@ -1244,7 +1244,7 @@@@ void CPreferences::BuildItemList( const wxString& appd
d27 1
d29 1
a29 1
 	s_MiscList.push_back( new Cfg_Str(  wxT("/eMule/Ed2kServersUrl"),		s_Ed2kURL, wxT("http://gruk.org/server.met.gz") ) );
d32 1
@


1.2
log
@Update to aMule version 2.3.1 - The "unobvious evil date" version.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_Preferences_cpp,v 1.1 2011/06/24 08:42:31 dcoppa Exp $
d5 5
a9 2
--- src/Preferences.cpp.orig	Mon Nov 28 09:34:26 2011
+++ src/Preferences.cpp	Mon Nov 28 09:36:11 2011
d19 9
@


1.1
log
@Update to amule-2.2.6

'go for it' espie@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- src/Preferences.cpp.orig	Fri Jun 24 10:18:35 2011
+++ src/Preferences.cpp	Fri Jun 24 10:19:23 2011
@@@@ -1152,7 +1152,7 @@@@ void CPreferences::BuildItemList( const wxString& appd
d13 1
a13 1
 	 
@

