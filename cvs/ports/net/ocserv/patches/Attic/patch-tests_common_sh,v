head	1.4;
access;
symbols
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.1.1.1.0.2
	OPENBSD_5_9_BASE:1.1.1.1
	OPENBSD_5_8:1.1.1.1.0.4
	OPENBSD_5_8_BASE:1.1.1.1
	sthen_20150326:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2016.08.13.21.08.07;	author sthen;	state dead;
branches;
next	1.3;
commitid	p2733NDSzA6e4MFG;

1.3
date	2016.03.19.20.24.32;	author sthen;	state Exp;
branches;
next	1.2;
commitid	sxvyaSAQ1dErooSK;

1.2
date	2016.02.25.10.22.01;	author sthen;	state Exp;
branches;
next	1.1;
commitid	Pzcmcus5Kw97rYNw;

1.1
date	2015.03.26.02.07.59;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;
commitid	0Ou9W6hND0FZCvke;

1.1.1.1
date	2015.03.26.02.07.59;	author sthen;	state Exp;
branches;
next	;
commitid	0Ou9W6hND0FZCvke;


desc
@@


1.4
log
@fix patch breakage, spotted by naddy (forgotten rm/add).
@
text
@$OpenBSD: patch-tests_common_sh,v 1.3 2016/03/19 20:24:32 sthen Exp $
--- tests/common.sh.orig	Sat Mar 19 20:11:15 2016
+++ tests/common.sh	Sat Mar 19 20:11:43 2016
@@@@ -30,13 +30,6 @@@@ if test -z "$NO_NEED_ROOT";then
 	if [ $? != 0 ];then
 		exit 77
 	fi
-else
-	SOCKDIR=${srcdir}/sockwrap.$$.tmp
-	mkdir -p $SOCKDIR
-	export SOCKET_WRAPPER_DIR=$SOCKDIR
-	export SOCKET_WRAPPER_DEFAULT_IFACE=2
-	ADDRESS=127.0.0.$SOCKET_WRAPPER_DEFAULT_IFACE
-	OPENCONNECT="eval LD_PRELOAD=libsocket_wrapper.so /usr/local/sbin/openconnect"
 fi
 
 if ! test -x /usr/local/sbin/openconnect;then
@


1.3
log
@merge in a simplified version of Bjorn Ketelaars tests diffs
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_common_sh,v 1.2 2016/02/25 10:22:01 sthen Exp $
@


1.2
log
@update to ocserv-0.10.12
@
text
@d1 14
a14 5
$OpenBSD: patch-tests_common_sh,v 1.1.1.1 2015/03/26 02:07:59 sthen Exp $
--- tests/common.sh.orig	Thu Feb 25 10:17:04 2016
+++ tests/common.sh	Thu Feb 25 10:17:04 2016
@@@@ -39,7 +39,7 @@@@ else
 	OPENCONNECT="eval LD_PRELOAD=libsocket_wrapper.so /usr/sbin/openconnect"
d17 1
a17 5
-if ! test -x /usr/sbin/openconnect;then
+if ! test -x /usr/local/sbin/openconnect;then
 	echo "You need openconnect to run this test"
 	exit 77
 fi
@


1.1
log
@Initial revision
@
text
@d1 5
a5 5
$OpenBSD$
--- tests/common.sh.orig	Thu Mar 26 01:58:49 2015
+++ tests/common.sh	Thu Mar 26 01:58:52 2015
@@@@ -27,7 +27,7 @@@@ if [ $? != 0 ];then
 	exit 77
@


1.1.1.1
log
@import ports/net/ocserv, ok/feedback jasper@@

OpenConnect VPN server (or ocserv) implements the AnyConnect SSL VPN
protocol and is compatible with the OpenConnect VPN client. Its purpose
is to be a small, secure and configurable VPN server that depends on
standard protocols like TLS 1.2, and Datagram TLS. The AnyConnect
SSL VPN protocol was the closest protocol to match this requirement.

The VPN users can be authenticated using password, certificate
authentication or both methods. Authenticated users are assigned their
own unprivileged worker process and obtain a networking (tun) device
and IP from a configurable pool of addresses.
@
text
@@
