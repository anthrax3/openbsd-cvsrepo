head	1.4;
access;
symbols
	OPENBSD_2_9:1.3.0.6
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.3.0.4
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.1.1.1.0.6
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.4
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	form_980506:1.1.1.1
	form:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2001.05.14.16.42.51;	author millert;	state dead;
branches;
next	1.3;

1.3
date	2000.01.16.11.10.50;	author brad;	state Exp;
branches
	1.3.6.1;
next	1.2;

1.2
date	2000.01.16.09.26.46;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	98.05.06.12.09.24;	author form;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.05.06.12.09.24;	author form;	state Exp;
branches;
next	;

1.3.6.1
date	2001.05.15.16.25.04;	author naddy;	state dead;
branches;
next	;


desc
@@


1.4
log
@Make paging *not* be the default.  Also regenerate patches with new naming
scheme while I'm at it.
@
text
@--- icb/c_shell.c.orig	Fri Feb 24 16:20:19 1995
+++ icb/c_shell.c	Sun Jan 16 05:08:31 2000
@@@@ -14,7 +14,7 @@@@
 	static char *usage = "usage: c_shell [command]";
 	int w, pid;
 	int shellout = 0;
-	union wait status;
+	int status;
 	char *shell, *getenv();
 	
 	/* disallow use if restricted mode set */
@@@@ -66,7 +66,7 @@@@
 	icbterm();
 
 	/* restore signal processing */
-	signal(SIGINT, askquit);
+	signal(SIGINT, (void *)askquit);
 	signal(SIGQUIT, SIG_DFL);
 
 	/* clean up a little */
@


1.3
log
@better patches
@
text
@@


1.3.6.1
log
@MFC:
Make paging *not* be the default.  Regen patches.
Requested by espie@@
@
text
@@


1.2
log
@- convert patches to unified diffs
- merge contents of patch-ad and patch-an into patch-ad
@
text
@d2 11
a12 9
+++ icb/c_shell.c	Sun Jan 16 01:48:38 2000
@@@@ -60,13 +60,13 @@@@
 	signal(SIGQUIT, SIG_IGN);
 
 	/* wait for the child(ren) to die */
-	while ((w = wait(&status)) != pid && w != -1);
+	while ((w = wait((int *)&status)) != pid && w != -1);
 
 	/* restore the terminal */
@


1.1
log
@Initial revision
@
text
@d1 18
a18 31
*** icb/c_shell.c.orig	Wed May  6 18:54:38 1998
--- icb/c_shell.c	Wed May  6 18:55:02 1998
***************
*** 60,72 ****
  	signal(SIGQUIT, SIG_IGN);
  
  	/* wait for the child(ren) to die */
! 	while ((w = wait(&status)) != pid && w != -1);
  
  	/* restore the terminal */
  	icbterm();
  
  	/* restore signal processing */
! 	signal(SIGINT, askquit);
  	signal(SIGQUIT, SIG_DFL);
  
  	/* clean up a little */
--- 60,72 ----
  	signal(SIGQUIT, SIG_IGN);
  
  	/* wait for the child(ren) to die */
! 	while ((w = wait((int *)&status)) != pid && w != -1);
  
  	/* restore the terminal */
  	icbterm();
  
  	/* restore signal processing */
! 	signal(SIGINT, (void *)askquit);
  	signal(SIGQUIT, SIG_DFL);
  
  	/* clean up a little */
@


1.1.1.1
log
@icb 5.0.9, icb chat client
@
text
@@
