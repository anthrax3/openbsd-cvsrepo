head	1.7;
access;
symbols
	OPENBSD_5_2:1.6.0.6
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.4
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.5.0.2
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.4.0.12
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.10
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.8
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.2.0.6
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2;
locks; strict;
comment	@# @;


1.7
date	2012.10.18.14.01.45;	author sthen;	state dead;
branches;
next	1.6;

1.6
date	2011.07.07.20.02.02;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2010.10.25.22.59.12;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.26.20.03.42;	author rui;	state Exp;
branches;
next	1.3;

1.3
date	2007.05.19.10.52.06;	author rui;	state Exp;
branches;
next	1.2;

1.2
date	2006.01.08.11.36.04;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2006.01.03.17.37.18;	author steven;	state Exp;
branches;
next	;


desc
@@


1.7
log
@update to Net-SNMP 5.7.2; lots of fixes and improvements

- many of our local patches are now committed upstream
@
text
@$OpenBSD: patch-agent_Makefile_in,v 1.6 2011/07/07 20:02:02 sthen Exp $
--- agent/Makefile.in.orig	Fri Jul  1 23:35:46 2011
+++ agent/Makefile.in	Wed Jul  6 23:15:52 2011
@@@@ -20,8 +20,8 @@@@ SUBDIRS=helpers mibgroup
 FTSUBDIRS=mibgroup helpers
 
 INSTALLSBINPROGS= @@SNMPD@@
-INSTALLLIBS	= libnetsnmpagent.$(LIB_EXTENSION)$(LIB_VERSION)
-INSTALLPOSTLIBS	= libnetsnmpmibs.$(LIB_EXTENSION)$(LIB_VERSION)
+INSTALLLIBS	= libnetsnmpagent.$(LIB_EXTENSION)$(LIBnetsnmpagent_VERSION)
+INSTALLPOSTLIBS	= libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmibs_VERSION)
 
 INCLUDESUBDIR=agent
 HEADERS=\
@@@@ -110,9 +110,9 @@@@ INSTALLUCDHEADERS= \
 #
 # how to build it info
 #
-USELIBS		= ../snmplib/libnetsnmp.$(LIB_EXTENSION)$(LIB_VERSION)
-AGENTLIB	= libnetsnmpagent.$(LIB_EXTENSION)$(LIB_VERSION)
-MIBLIB		= libnetsnmpmibs.$(LIB_EXTENSION)$(LIB_VERSION)
+USELIBS		= ../snmplib/libnetsnmp.$(LIB_EXTENSION)$(LIBnetsnmp_VERSION)
+AGENTLIB	= libnetsnmpagent.$(LIB_EXTENSION)$(LIBnetsnmpagent_VERSION)
+MIBLIB		= libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmibs_VERSION)
 
 LOCAL_LIBS	= -L../snmplib/.libs -L../snmplib -L./.libs
 LAGENTLIBS	= @@LAGENTLIBS@@
@@@@ -297,11 +297,11 @@@@ snmpd$(EXEEXT):	${LAGENTOBJS} $(USELIBS) $(AGENTLIB) $
 	$(LINK) $(CFLAGS) -o $@@ ${LAGENTOBJS} $(LOCAL_LIBS) ${LDFLAGS} ${OUR_AGENT_LIBS}
 
 
-libnetsnmpagent.$(LIB_EXTENSION)$(LIB_VERSION):    ${LLIBAGENTOBJS} $(USELIBS)
+libnetsnmpagent.$(LIB_EXTENSION)$(LIBnetsnmpagent_VERSION):    ${LLIBAGENTOBJS} $(USELIBS)
 	$(LIB_LD_CMD) $(AGENTLIB) ${LLIBAGENTOBJS} $(USELIBS) ${LAGENTLIBS} @@LD_NO_UNDEFINED@@ $(LDFLAGS) $(PERLLDOPTS_FOR_LIBS) $(LIB_LD_LIBS) @@AGENTLIBS@@
 	$(RANLIB) $(AGENTLIB)
 
-libnetsnmpmibs.$(LIB_EXTENSION)$(LIB_VERSION): ${LMIBOBJS} $(AGENTLIB) $(USELIBS)
+libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmibs_VERSION): ${LMIBOBJS} $(AGENTLIB) $(USELIBS)
 	$(LIB_LD_CMD) $(MIBLIB) ${LMIBOBJS} $(AGENTLIB) $(USELIBS) @@LD_NO_UNDEFINED@@ $(LDFLAGS) ${LMIBLIBS} $(LIB_LD_LIBS) @@AGENTLIBS@@
 	$(RANLIB) $(MIBLIB)
 
@


1.6
log
@update to Net-SNMP 5.7 and clean up the patches a lot.

- rc scripts added (names suggested by Nigel Taylor, I was having
a hard time coming up with something nice that avoid a conflict with
base snmpd now the rc.d namespace is shared).
@
text
@d1 1
a1 1
$OpenBSD: patch-agent_Makefile_in,v 1.5 2010/10/25 22:59:12 sthen Exp $
@


1.5
log
@update Net-SNMP to 5.6 and switch to kvm_getproc2, thanks landry for testing
"commit it!" landry@@
@
text
@d1 5
a5 5
$OpenBSD: patch-agent_Makefile_in,v 1.4 2007/09/26 20:03:42 rui Exp $
--- agent/Makefile.in.orig	Tue Jun  8 22:05:11 2010
+++ agent/Makefile.in	Wed Oct  6 23:29:46 2010
@@@@ -18,8 +18,8 @@@@ top_builddir	= ..
 SUBDIRS=helpers mibgroup
d15 1
a15 1
@@@@ -108,9 +108,9 @@@@ INSTALLUCDHEADERS= \
d28 1
a28 1
@@@@ -248,11 +248,11 @@@@ snmpd$(EXEEXT):	${LAGENTOBJS} $(USELIBS) $(AGENTLIB) $
@


1.4
log
@update net-snmp to 5.4.1, also adds a patch from claudio@@ to allow 64bit network counters.
Changelog: http://net-snmp.sourceforge.net/about/ChangeLog.html

tested by Graeme Lee, ok mbalmer@@
@
text
@d1 3
a3 3
$OpenBSD$
--- agent/Makefile.in.orig	Thu Jul  5 00:26:56 2007
+++ agent/Makefile.in	Sat Sep 15 23:12:28 2007
d14 2
a15 2
 INCLUDESUBDIRHEADERS=agent_read_config.h \
@@@@ -74,10 +74,10 @@@@ INSTALLUCDHEADERS= \
a19 1
-HELPERLIB	= helpers/libnetsnmphelpers.$(LIB_EXTENSION)$(LIB_VERSION)
a22 1
+HELPERLIB	= helpers/libnetsnmphelpers.$(LIB_EXTENSION)$(LIBnetsnmphelpers_VERSION)
d24 1
a24 1
+MIBLIB		= libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmib_VERSION)
d26 1
a26 1
 LOCAL_LIBS	= -L../snmplib/.libs -L../snmplib -L./.libs -L./helpers/.libs -L./helpers
d28 1
a28 1
@@@@ -142,11 +142,11 @@@@ snmpd$(EXEEXT):	${LAGENTOBJS} $(USELIBS) $(AGENTLIB) $
d34 1
a34 1
 	$(LIB_LD_CMD) $(AGENTLIB) ${LLIBAGENTOBJS} $(USELIBS) ${LAGENTLIBS} $(LDFLAGS) $(PERLLDOPTS_FOR_LIBS) $(LIB_LD_LIBS)
d37 3
a39 3
-libnetsnmpmibs.$(LIB_EXTENSION)$(LIB_VERSION): ${LMIBOBJS} $(HELPERLIB) $(AGENTLIB) $(USELIBS)
+libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmibs_VERSION): ${LMIBOBJS} $(HELPERLIB) $(AGENTLIB) $(USELIBS)
 	$(LIB_LD_CMD) $(MIBLIB) ${LMIBOBJS} $(HELPERLIB) $(AGENTLIB) $(USELIBS) ${LMIBLIBS} $(LDFLAGS) $(LIB_LD_LIBS)
@


1.3
log
@update net-snmp to 5.4, maintainer timeout
- changelog: http://www.net-snmp.org/about/ChangeLog.html

ok steven@@
@
text
@d2 14
a15 3
--- agent/Makefile.in.orig	Sun May  6 20:22:22 2007
+++ agent/Makefile.in	Sun May  6 20:29:13 2007
@@@@ -74,11 +74,11 @@@@ INSTALLUCDHEADERS= \
d21 10
a30 10
+USELIBS         = ../snmplib/libnetsnmp.$(LIB_EXTENSION)$(LIBnetsnmp_VERSION)
+HELPERLIB       = helpers/libnetsnmphelpers.$(LIB_EXTENSION)$(LIBnetsnmphelpers_VERSION)
 LOCAL_LIBS	= 
 PERLLDOPTS      = @@PERLLDOPTS@@
-LIBS		= ../snmplib/libnetsnmp.$(LIB_EXTENSION)$(LIB_VERSION) @@AGENTLIBS@@ $(PERLLDOPTS)
+LIBS            = ../snmplib/libnetsnmp.$(LIB_EXTENSION)$(LIBnetsnmp_VERSION) @@AGENTLIBS@@ $(PERLLDOPTS)
 OUR_AGENT_LIBS	= $(INSTALLLIBS) $(HELPERLIB) @@WRAPLIBS@@ $(LIBS) @@DLLIBS@@
 CPPFLAGS	= $(TOP_INCLUDES) -I. $(AGENT_INCLUDES) $(MIBGROUP_INCLUDES) \
 		  $(SNMPLIB_INCLUDES) @@CPPFLAGS@@ 
@@@@ -136,13 +136,13 @@@@ snmpd$(EXEEXT):	${LAGENTOBJS} $(USELIBS) $(HELPERLIB) 
d34 4
a37 13
-libnetsnmpagent.$(LIB_EXTENSION)$(LIB_VERSION):    ${LLIBAGENTOBJS}
-	$(LIB_LD_CMD) libnetsnmpagent.$(LIB_EXTENSION)$(LIB_VERSION) ${LLIBAGENTOBJS}  $(LIB_LD_LIBS)
-	$(RANLIB) libnetsnmpagent.$(LIB_EXTENSION)$(LIB_VERSION)
+libnetsnmpagent.$(LIB_EXTENSION)$(LIBnetsnmpagent_VERSION):    ${LLIBAGENTOBJS}
+	$(LIB_LD_CMD) libnetsnmpagent.$(LIB_EXTENSION)$(LIBnetsnmpagent_VERSION) ${LLIBAGENTOBJS}  $(LIB_LD_LIBS)
+	$(RANLIB) libnetsnmpagent.$(LIB_EXTENSION)$(LIBnetsnmpagent_VERSION)
 
-libnetsnmpmibs.$(LIB_EXTENSION)$(LIB_VERSION):    ${LMIBOBJS}
-	$(LIB_LD_CMD) libnetsnmpmibs.$(LIB_EXTENSION)$(LIB_VERSION) ${LMIBOBJS}  $(LIB_LD_LIBS) @@SENSORLIBS@@
-	$(RANLIB) libnetsnmpmibs.$(LIB_EXTENSION)$(LIB_VERSION)
+libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmibs_VERSION):    ${LMIBOBJS}
+	$(LIB_LD_CMD) libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmibs_VERSION) ${LMIBOBJS}  $(LIB_LD_LIBS) @@SENSORLIBS@@
+	$(RANLIB) libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmibs_VERSION)
d39 4
a42 1
 agentlib: libnetsnmpagent.$(LIB_EXTENSION)$(LIB_VERSION)
@


1.2
log
@remove LIBname_LTVERSION variables from patches
@
text
@d1 4
a4 15
$OpenBSD: patch-agent_Makefile_in,v 1.1 2006/01/03 17:37:18 steven Exp $
--- agent/Makefile.in.orig	Tue Jan  3 16:33:23 2006
+++ agent/Makefile.in	Tue Jan  3 16:36:08 2006
@@@@ -10,8 +10,8 @@@@ top_builddir	= ..
 SUBDIRS=helpers mibgroup
 
 INSTALLSBINPROGS= snmpd$(EXEEXT)
-INSTALLLIBS	= libnetsnmpagent.$(LIB_EXTENSION)$(LIB_VERSION) \
-		libnetsnmpmibs.$(LIB_EXTENSION)$(LIB_VERSION)
+INSTALLLIBS	= libnetsnmpagent.$(LIB_EXTENSION)$(LIBnetsnmpagent_VERSION) \
+		libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmibs_VERSION)
 
 INCLUDESUBDIR=agent
 INCLUDESUBDIRHEADERS=agent_read_config.h \
@@@@ -62,10 +62,10 @@@@ INSTALLUCDHEADERS= \
d10 2
a11 2
+USELIBS		= ../snmplib/libnetsnmp.$(LIB_EXTENSION)$(LIBnetsnmp_VERSION)
+HELPERLIB	= helpers/libnetsnmphelpers.$(LIB_EXTENSION)$(LIBnetsnmphelpers_VERSION)
d13 7
a19 6
-LIBS		= ../snmplib/libnetsnmp.$(LIB_EXTENSION)$(LIB_VERSION) @@AGENTLIBS@@
+LIBS		= ../snmplib/libnetsnmp.$(LIB_EXTENSION)$(LIBnetsnmp_VERSION) @@AGENTLIBS@@
 OUR_AGENT_LIBS	= $(INSTALLLIBS) $(HELPERLIB) @@WRAPLIBS@@ $(LIBS)
 CPPFLAGS	= -I../include -I$(top_srcdir)/include \
 		  -I.. -I$(srcdir)/.. -I$(srcdir)/../snmplib \
@@@@ -119,13 +119,13 @@@@ snmpd$(EXEEXT):	${LAGENTOBJS} $(USELIBS)
d23 1
a23 1
-libnetsnmpagent.$(LIB_EXTENSION)$(LIB_VERSION):    ${LLIBAGENTOBJS} libnetsnmpmibs.$(LIB_EXTENSION)$(LIB_VERSION)
d26 1
a26 1
+libnetsnmpagent.$(LIB_EXTENSION)$(LIBnetsnmpagent_VERSION):    ${LLIBAGENTOBJS} libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmibs_VERSION)
d31 1
a31 1
-	$(LIB_LD_CMD) libnetsnmpmibs.$(LIB_EXTENSION)$(LIB_VERSION) ${LMIBOBJS}  $(LIB_LD_LIBS)
d34 1
a34 1
+	$(LIB_LD_CMD) libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmibs_VERSION) ${LMIBOBJS}  $(LIB_LD_LIBS)
d37 2
a38 2
 embedperlinstall:
 	  @@$(SHELL) $(srcdir)/../mkinstalldirs $(INSTALL_PREFIX)$(snmplibdir)
@


1.1
log
@SHARED_LIBS and USE_LIBTOOL
ok bernd@@
@
text
@d1 1
a1 1
$OpenBSD$
d37 1
a37 1
+	$(LIB_LD_CMD) libnetsnmpagent.$(LIB_EXTENSION)$(LIBnetsnmpagent_VERSION) $(LIBnetsnmpagent_LTVERSION) ${LLIBAGENTOBJS}  $(LIB_LD_LIBS)
d44 1
a44 1
+	$(LIB_LD_CMD) libnetsnmpmibs.$(LIB_EXTENSION)$(LIBnetsnmpmibs_VERSION) $(LIBnetsnmpmibs_LTVERSION) ${LMIBOBJS}  $(LIB_LD_LIBS)
@

