head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2011.01.15.09.38.31;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2010.10.25.22.59.12;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to 5.6.1
@
text
@$OpenBSD: patch-configure_d_config_os_libs,v 1.1 2010/10/25 22:59:12 sthen Exp $
--- configure.d/config_os_libs.orig	Fri Aug 13 17:04:07 2010
+++ configure.d/config_os_libs	Mon Oct 25 00:13:48 2010
@@@@ -163,17 +163,20 @@@@ NETSNMP_SEARCH_LIBS(kstat_lookup, kstat,
 if test "x$PARTIALTARGETOS" = "xlinux"; then
   NETSNMP_SEARCH_LIBS(pthread_create, pthread,,,, LMIBLIBS)
 fi
+if test "x$PARTIALTARGETOS" = "xopenbsd4"; then
+  LMIBLIBS="$LMIBLIBS -pthread"
+fi
 
 
 #   libkvm
 #
 NETSNMP_SEARCH_LIBS(kvm_read, kvm,,,, LAGENTLIBS)
 NETSNMP_SEARCH_LIBS(kvm_openfiles, kvm,,,, LAGENTLIBS)
-NETSNMP_SEARCH_LIBS(kvm_getprocs, kvm,,,, LMIBLIBS)
+NETSNMP_SEARCH_LIBS(kvm_getproc2, kvm,,,, LMIBLIBS)
 NETSNMP_SEARCH_LIBS(kvm_getswapinfo, kvm,,,, LMIBLIBS)
 netsnmp_save_LIBS="$LIBS"
 LIBS="$LAGENTLIBS $LMIBLIBS $LIBS"
-AC_CHECK_FUNCS([kvm_openfiles kvm_getprocs kvm_getswapinfo])
+AC_CHECK_FUNCS([kvm_openfiles kvm_getproc2 kvm_getswapinfo])
 LIBS="$netsnmp_save_LIBS"
 
 
@


1.1
log
@update Net-SNMP to 5.6 and switch to kvm_getproc2, thanks landry for testing
"commit it!" landry@@
@
text
@d1 1
a1 1
$OpenBSD$
@

