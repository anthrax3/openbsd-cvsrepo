head	1.2;
access;
symbols
	OPENBSD_5_2:1.1.0.6
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.4
	OPENBSD_5_0:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2012.10.18.14.01.45;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2011.11.28.22.40.25;	author sthen;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2011.11.29.08.57.07;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to Net-SNMP 5.7.2; lots of fixes and improvements

- many of our local patches are now committed upstream
@
text
@$OpenBSD: patch-include_net-snmp_library_large_fd_set_h,v 1.1 2011/11/28 22:40:25 sthen Exp $

e24c34f - Use correct select() FD mask size.

--- include/net-snmp/library/large_fd_set.h.orig	Mon Nov 28 13:52:44 2011
+++ include/net-snmp/library/large_fd_set.h	Mon Nov 28 13:53:09 2011
@@@@ -74,7 +74,7 @@@@ int    netsnmp_large_fd_is_set(SOCKET fd, netsnmp_larg
  * According to SUSv2, this array must have the name fds_bits. See also
  * <a href="http://www.opengroup.org/onlinepubs/007908775/xsh/systime.h.html">The Single UNIX Specification, Version 2, &lt;sys/time.h&gt;</a>.
  */
-#define NETSNMP_FD_MASK_SIZE sizeof(((fd_set*)0)->fds_bits)
+#define NETSNMP_FD_MASK_SIZE sizeof(((fd_set*)0)->fds_bits[0])
 
 /** Number of bits in one element of the fd_set::fds_bits array. */
 #define NETSNMP_BITS_PER_FD_MASK (8 * NETSNMP_FD_MASK_SIZE)
@


1.1
log
@various fixes to Net-SNMP, mostly from upstream repo, one chunk suggested
by Joel Knight to avoid a segfault
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@Update to net-snmp in -stable to 5.7.1 + patches from -current; the older
version was returning incorrect data for hrStorageUsed and sometimes
encountering segfaults when querying hrStorageTable. Problems reported
and fix tested by Joel Knight.
@
text
@d1 1
a1 1
$OpenBSD: patch-include_net-snmp_library_large_fd_set_h,v 1.1 2011/11/28 22:40:25 sthen Exp $
@

