head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.4
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2;
locks; strict;
comment	@ * @;


1.2
date	2016.10.07.10.05.16;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	pTe3zqP8vjMdkeqz;

1.1
date	2016.08.27.06.39.14;	author ajacoutot;	state Exp;
branches;
next	;
commitid	VgK3y5AGX55LwTNu;


desc
@@


1.2
log
@Use setrlimit() in broctl, at least 256 FDs are needed.
Fix rc_reload().
@
text
@#!/bin/sh
#
# $OpenBSD: bro.rc,v 1.1 2016/08/27 06:39:14 ajacoutot Exp $

daemon="${TRUEPREFIX}/bin/broctl"
daemon_flags="start"

. /etc/rc.d/rc.subr

rc_check() {
	${daemon} status
}

rc_reload() {
	${daemon} update
}

rc_stop() {
	${daemon} stop
}

rc_cmd $1
@


1.1
log
@Long overdue update to bro-2.4.1.
Take maintainer while here.

Only slightly tested so far; so may get a few tweaks in the next days if
needed.
@
text
@d3 1
a3 1
# $OpenBSD$
d15 1
a15 1
	${daemon} reload
@

