head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2017.05.22.16.26.49;	author espie;	state Exp;
branches;
next	;
commitid	wuRNPgAEYcxF6snN;


desc
@@


1.1
log
@let it build with clang, missing includes, and a shitload of actual bugs
because -Werror is more picky
@
text
@$OpenBSD$

Index: modules/module-peiros/TapInterface.hpp
--- modules/module-peiros/TapInterface.hpp.orig
+++ modules/module-peiros/TapInterface.hpp
@@@@ -75,10 +75,12 @@@@ class TapInterface : public POLLSocket (public)
 private:
 	TapEncapsulator * m_encapsulator;
 	int m_fd;
-	uint32_t m_netmask;
 	std::string m_devname;
+#ifdef __linux_
+	uint32_t m_netmask;
 	uint8_t m_hwaddr[6];
 	bool m_manageRoute;
+#endif
 };
 
 #endif // __INCLUDE_TapInterface_hpp
@
