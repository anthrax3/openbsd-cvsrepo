head	1.97;
access;
symbols
	OPENBSD_6_0:1.94.0.2
	OPENBSD_6_0_BASE:1.94
	OPENBSD_5_9:1.91.0.2
	OPENBSD_5_9_BASE:1.91
	OPENBSD_5_8:1.91.0.4
	OPENBSD_5_8_BASE:1.91
	OPENBSD_5_7:1.90.0.2
	OPENBSD_5_7_BASE:1.90
	OPENBSD_5_6:1.86.0.2
	OPENBSD_5_6_BASE:1.86
	OPENBSD_5_5:1.84.0.2
	OPENBSD_5_5_BASE:1.84
	OPENBSD_5_4:1.80.0.2
	OPENBSD_5_4_BASE:1.80
	OPENBSD_5_3:1.73.0.2
	OPENBSD_5_3_BASE:1.73
	OPENBSD_5_2:1.67.0.2
	OPENBSD_5_2_BASE:1.67
	OPENBSD_5_1_BASE:1.63
	OPENBSD_5_1:1.63.0.2
	OPENBSD_5_0:1.61.0.4
	OPENBSD_5_0_BASE:1.61
	OPENBSD_4_9:1.61.0.2
	OPENBSD_4_9_BASE:1.61
	OPENBSD_4_8:1.57.0.2
	OPENBSD_4_8_BASE:1.57
	OPENBSD_4_7:1.54.0.2
	OPENBSD_4_7_BASE:1.54
	OPENBSD_4_6:1.53.0.4
	OPENBSD_4_6_BASE:1.53
	OPENBSD_4_5:1.53.0.2
	OPENBSD_4_5_BASE:1.53
	OPENBSD_4_4:1.52.0.4
	OPENBSD_4_4_BASE:1.52
	OPENBSD_4_3:1.52.0.2
	OPENBSD_4_3_BASE:1.52
	OPENBSD_4_2:1.50.0.4
	OPENBSD_4_2_BASE:1.50
	OPENBSD_4_1:1.50.0.2
	OPENBSD_4_1_BASE:1.50
	OPENBSD_4_0:1.47.0.2
	OPENBSD_4_0_BASE:1.47
	OPENBSD_3_9:1.42.0.2
	OPENBSD_3_9_BASE:1.42
	OPENBSD_3_8:1.36.0.2
	OPENBSD_3_8_BASE:1.36
	OPENBSD_3_7:1.32.0.2
	OPENBSD_3_7_BASE:1.32
	OPENBSD_3_6:1.31.0.2
	OPENBSD_3_6_BASE:1.31
	OPENBSD_3_5:1.30.0.2
	OPENBSD_3_5_BASE:1.30
	OPENBSD_3_4:1.29.0.2
	OPENBSD_3_4_BASE:1.29
	OPENBSD_3_3:1.27.0.2
	OPENBSD_3_3_BASE:1.27
	OPENBSD_3_2:1.24.0.2
	OPENBSD_3_2_BASE:1.24
	OPENBSD_3_1:1.22.0.2
	OPENBSD_3_1_BASE:1.22
	OPENBSD_3_0:1.18.0.2
	OPENBSD_3_0_BASE:1.18
	OPENBSD_2_9_TRACKING_SWITCH:1.17
	OPENBSD_2_9:1.14.0.2
	OPENBSD_2_9_BASE:1.14
	OPENBSD_2_8:1.9.0.2
	OPENBSD_2_8_BASE:1.9
	OPENBSD_2_7:1.5.0.2
	OPENBSD_2_7_BASE:1.5
	kevlo_2000-FEB-03:1.1.1.1
	kevlo:1.1.1;
locks; strict;
comment	@# @;


1.97
date	2017.01.23.11.22.58;	author ajacoutot;	state Exp;
branches;
next	1.96;
commitid	4z1hYgjWQKPt6lkY;

1.96
date	2017.01.05.03.08.04;	author lteo;	state Exp;
branches;
next	1.95;
commitid	xiOI4CuxtEnDibNu;

1.95
date	2016.10.02.02.06.19;	author lteo;	state Exp;
branches;
next	1.94;
commitid	S68ztToBwcEuh8e4;

1.94
date	2016.05.02.02.29.58;	author lteo;	state Exp;
branches;
next	1.93;
commitid	wdV4pDvleLoy2p6I;

1.93
date	2016.03.16.21.19.39;	author naddy;	state Exp;
branches;
next	1.92;
commitid	eS3Ayl3CL8hkKETd;

1.92
date	2016.03.11.20.28.29;	author naddy;	state Exp;
branches;
next	1.91;
commitid	UYLP8TE6V7RS2GhJ;

1.91
date	2015.05.29.03.28.18;	author lteo;	state Exp;
branches;
next	1.90;
commitid	17oFle03VZNH8Fi9;

1.90
date	2015.02.16.22.57.11;	author naddy;	state Exp;
branches;
next	1.89;
commitid	0dx3c9ckf7dE4tx1;

1.89
date	2015.01.24.03.52.53;	author lteo;	state Exp;
branches;
next	1.88;
commitid	mdqzmhFDvmYDNKCz;

1.88
date	2014.10.05.19.23.00;	author lteo;	state Exp;
branches;
next	1.87;
commitid	k5OvyZLutKSnVhx2;

1.87
date	2014.08.19.04.22.53;	author lteo;	state Exp;
branches;
next	1.86;
commitid	tluSTdzoqQxkErzv;

1.86
date	2014.06.04.03.17.12;	author lteo;	state Exp;
branches;
next	1.85;
commitid	OOt8DbQ1UYKjAlmS;

1.85
date	2014.05.15.20.11.43;	author lteo;	state Exp;
branches;
next	1.84;

1.84
date	2014.01.30.03.23.48;	author lteo;	state Exp;
branches;
next	1.83;

1.83
date	2013.12.16.03.32.39;	author lteo;	state Exp;
branches;
next	1.82;

1.82
date	2013.09.24.02.35.23;	author lteo;	state Exp;
branches;
next	1.81;

1.81
date	2013.08.21.02.28.42;	author lteo;	state Exp;
branches;
next	1.80;

1.80
date	2013.07.10.02.10.22;	author lteo;	state Exp;
branches;
next	1.79;

1.79
date	2013.05.31.20.26.00;	author lteo;	state Exp;
branches;
next	1.78;

1.78
date	2013.04.23.02.04.13;	author lteo;	state Exp;
branches;
next	1.77;

1.77
date	2013.03.29.04.22.59;	author lteo;	state Exp;
branches;
next	1.76;

1.76
date	2013.03.21.08.46.35;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2013.03.11.11.35.56;	author espie;	state Exp;
branches;
next	1.74;

1.74
date	2013.03.04.04.23.18;	author lteo;	state Exp;
branches;
next	1.73;

1.73
date	2013.01.16.04.52.53;	author lteo;	state Exp;
branches;
next	1.72;

1.72
date	2012.10.25.19.52.16;	author naddy;	state Exp;
branches;
next	1.71;

1.71
date	2012.10.23.19.29.25;	author naddy;	state Exp;
branches;
next	1.70;

1.70
date	2012.10.11.02.40.48;	author lteo;	state Exp;
branches;
next	1.69;

1.69
date	2012.09.28.19.30.54;	author sthen;	state Exp;
branches;
next	1.68;

1.68
date	2012.09.26.02.11.05;	author lteo;	state Exp;
branches;
next	1.67;

1.67
date	2012.07.09.21.10.57;	author jasper;	state Exp;
branches;
next	1.66;

1.66
date	2012.07.09.12.58.16;	author sthen;	state Exp;
branches;
next	1.65;

1.65
date	2012.04.07.08.31.39;	author mcbride;	state Exp;
branches;
next	1.64;

1.64
date	2012.03.29.13.38.49;	author sthen;	state Exp;
branches;
next	1.63;

1.63
date	2011.11.16.00.20.09;	author sthen;	state Exp;
branches;
next	1.62;

1.62
date	2011.09.16.11.13.40;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2010.11.19.22.31.38;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2010.11.11.17.20.28;	author espie;	state Exp;
branches;
next	1.59;

1.59
date	2010.10.28.20.49.01;	author jasper;	state Exp;
branches;
next	1.58;

1.58
date	2010.10.18.18.36.58;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2010.07.12.19.38.40;	author sthen;	state Exp;
branches;
next	1.56;

1.56
date	2010.06.11.21.10.28;	author landry;	state Exp;
branches;
next	1.55;

1.55
date	2010.04.15.14.58.24;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2009.08.16.13.31.27;	author rui;	state Exp;
branches;
next	1.53;

1.53
date	2009.02.12.22.12.08;	author rui;	state Exp;
branches;
next	1.52;

1.52
date	2008.02.12.14.13.32;	author rui;	state Exp;
branches;
next	1.51;

1.51
date	2007.09.15.22.36.59;	author merdely;	state Exp;
branches;
next	1.50;

1.50
date	2006.11.25.05.33.28;	author pvalchev;	state Exp;
branches;
next	1.49;

1.49
date	2006.10.14.09.54.04;	author aanriot;	state Exp;
branches;
next	1.48;

1.48
date	2006.10.10.13.33.17;	author aanriot;	state Exp;
branches;
next	1.47;

1.47
date	2006.08.03.23.15.58;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2006.06.28.19.27.42;	author aanriot;	state Exp;
branches;
next	1.45;

1.45
date	2006.06.08.20.25.53;	author david;	state Exp;
branches;
next	1.44;

1.44
date	2006.05.30.18.45.18;	author aanriot;	state Exp;
branches;
next	1.43;

1.43
date	2006.04.12.22.03.47;	author david;	state Exp;
branches;
next	1.42;

1.42
date	2006.02.04.13.15.42;	author david;	state Exp;
branches;
next	1.41;

1.41
date	2006.01.25.04.14.39;	author david;	state Exp;
branches;
next	1.40;

1.40
date	2006.01.06.04.22.06;	author brad;	state Exp;
branches;
next	1.39;

1.39
date	2006.01.06.04.20.32;	author brad;	state Exp;
branches;
next	1.38;

1.38
date	2006.01.04.04.15.18;	author david;	state Exp;
branches;
next	1.37;

1.37
date	2005.11.04.16.20.42;	author msf;	state Exp;
branches;
next	1.36;

1.36
date	2005.07.04.22.18.51;	author mjc;	state Exp;
branches;
next	1.35;

1.35
date	2005.06.29.06.01.38;	author sturm;	state Exp;
branches;
next	1.34;

1.34
date	2005.05.24.04.47.30;	author mjc;	state Exp;
branches;
next	1.33;

1.33
date	2005.05.24.04.39.05;	author mjc;	state Exp;
branches;
next	1.32;

1.32
date	2004.12.16.00.31.25;	author alek;	state Exp;
branches;
next	1.31;

1.31
date	2004.04.12.14.56.31;	author sturm;	state Exp;
branches;
next	1.30;

1.30
date	2004.01.02.04.56.24;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2003.06.24.17.02.38;	author pvalchev;	state Exp;
branches;
next	1.28;

1.28
date	2003.04.16.13.01.42;	author avsm;	state Exp;
branches;
next	1.27;

1.27
date	2003.03.03.22.00.20;	author pvalchev;	state Exp;
branches
	1.27.2.1;
next	1.26;

1.26
date	2003.02.03.21.21.00;	author lebel;	state Exp;
branches;
next	1.25;

1.25
date	2002.12.29.21.14.12;	author fgsch;	state Exp;
branches;
next	1.24;

1.24
date	2002.06.09.05.37.04;	author wilfried;	state Exp;
branches
	1.24.2.1;
next	1.23;

1.23
date	2002.04.26.12.51.39;	author bmc;	state Exp;
branches;
next	1.22;

1.22
date	2001.12.13.16.25.05;	author brad;	state Exp;
branches
	1.22.2.1;
next	1.21;

1.21
date	2001.12.06.18.31.39;	author bmc;	state Exp;
branches;
next	1.20;

1.20
date	2001.11.19.14.34.33;	author bmc;	state Exp;
branches;
next	1.19;

1.19
date	2001.11.19.12.39.25;	author bmc;	state Exp;
branches;
next	1.18;

1.18
date	2001.08.16.13.56.40;	author bmc;	state Exp;
branches;
next	1.17;

1.17
date	2001.07.29.19.56.52;	author bmc;	state Exp;
branches;
next	1.16;

1.16
date	2001.06.24.15.16.15;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2001.06.03.05.28.57;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2001.04.12.15.59.18;	author bmc;	state Exp;
branches;
next	1.13;

1.13
date	2001.03.12.21.46.20;	author jakob;	state Exp;
branches;
next	1.12;

1.12
date	2001.03.07.19.05.34;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2001.02.28.14.32.08;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2001.02.11.23.51.12;	author jeremy;	state Exp;
branches;
next	1.9;

1.9
date	2000.10.23.16.08.12;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.07.24.07.57.51;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2000.06.16.23.06.10;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2000.05.29.07.31.38;	author kevlo;	state Exp;
branches;
next	1.5;

1.5
date	2000.04.23.03.35.01;	author kevlo;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2000.03.13.03.21.05;	author kevlo;	state Exp;
branches;
next	1.3;

1.3
date	2000.02.24.03.43.21;	author kevlo;	state Exp;
branches;
next	1.2;

1.2
date	2000.02.11.01.10.10;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2000.02.03.03.58.54;	author kevlo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.02.03.03.58.54;	author kevlo;	state Exp;
branches;
next	;

1.5.2.1
date	2000.09.15.05.10.17;	author marc;	state Exp;
branches;
next	;

1.22.2.1
date	2003.03.05.01.30.02;	author margarida;	state Exp;
branches;
next	;

1.24.2.1
date	2003.03.05.00.07.40;	author margarida;	state Exp;
branches;
next	1.24.2.2;

1.24.2.2
date	2003.04.22.02.54.42;	author margarida;	state Exp;
branches;
next	;

1.27.2.1
date	2003.05.03.03.48.40;	author brad;	state Exp;
branches;
next	;


desc
@@


1.97
log
@nghttp2 gets picked-up (so build fails in bulks because since it's not a
registered dependency, dpb(1) remove it in the middle of the build)
@
text
@# $OpenBSD: Makefile,v 1.96 2017/01/05 03:08:04 lteo Exp $

COMMENT =		highly flexible sniffer/NIDS

VERSION =		2.9.9.0
DISTNAME =		snort-${VERSION}
REVISION =		0

CATEGORIES =		net security

HOMEPAGE =		http://www.snort.org/

MAINTAINER =		Markus Lude <markus.lude@@gmx.de>

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =		c crypto daq dnet lzma m nghttp2 pcap pcre pthread z

MASTER_SITES =		https://www.snort.org/downloads/snort/

SEPARATE_BUILD =	Yes
CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS +=	--disable-static-daq \
			--enable-non-ether-decoders

LIB_DEPENDS =		archivers/xz \
			devel/pcre \
			net/daq \
			net/libdnet \
			www/nghttp2

CONFIGS	=		classification.config gen-msg.map reference.config \
			snort.conf threshold.conf unicode.map

PREPROC =		decoder.rules preprocessor.rules

DOCS =			AUTHORS CREDITS README README.* *.pdf TODO USAGE \
			WISHLIST

V =			${VERSION:S/.//g}
SUBST_VARS +=		V

pre-configure:
	@@${SUBST_CMD} ${WRKSRC}/etc/snort.conf

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/snort
.for i in ${CONFIGS}
	${INSTALL_DATA} ${WRKSRC}/etc/${i} ${PREFIX}/share/examples/snort
.endfor
	${INSTALL_DATA} ${WRKSRC}/doc/generators ${PREFIX}/share/examples/snort

.for i in ${PREPROC}
	${INSTALL_DATA} ${WRKSRC}/preproc_rules/${i} ${PREFIX}/share/examples/snort
.endfor

	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/snort
.for i in ${DOCS}
	${INSTALL_DATA} ${WRKSRC}/doc/${i} ${PREFIX}/share/doc/snort
.endfor

NO_TEST =		Yes

.include <bsd.port.mk>
@


1.96
log
@Update to Snort 2.9.9.0.

Maintainer timeout.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2016/10/02 02:06:19 lteo Exp $
d7 1
d18 1
a18 1
WANTLIB =		c crypto daq dnet lzma m pcap pcre pthread z
d29 1
d31 1
a31 1
			net/daq
@


1.95
log
@Update to Snort 2.9.8.3.  Also remove README.session from PLIST since it no
longer exists.

Tested on amd64 by myself and on i386 by maintainer.

ok Markus Lude (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2016/05/02 02:29:58 lteo Exp $
d5 1
a5 1
VERSION =		2.9.8.3
@


1.94
log
@Update to Snort 2.9.8.2.

Other minor changes:
- Shortened a line in pkg/README so that portcheck won't complain.
- Replaced "/var" with ${LOCALSTATEDIR} in pkg/snort.rc.
- Regenerated patches.

Tested on amd64 by myself and on i386 by Markus Lude.
Tests were done with DAQ 2.0.6.

ok Markus Lude (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2016/03/16 21:19:39 naddy Exp $
d5 1
a5 1
VERSION =		2.9.8.2
@


1.93
log
@remove SHARED_ONLY from ports that use only the gnu module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2016/03/11 20:28:29 naddy Exp $
d5 1
a5 1
VERSION =		2.9.7.3
@


1.92
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.91 2015/05/29 03:28:18 lteo Exp $

SHARED_ONLY =		Yes
@


1.91
log
@Update to Snort 2.9.7.3, from maintainer Markus Lude.

Tested on i386 and build tested on sparc64 by Markus; tested on amd64 by
myself.  Tests were done with DAQ 2.0.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2015/02/16 22:57:11 naddy Exp $
d25 1
a25 2
CONFIGURE_ARGS +=	${CONFIGURE_SHARED} \
			--disable-static-daq \
@


1.90
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2015/01/24 03:52:53 lteo Exp $
d7 1
a7 1
VERSION =		2.9.7.0
d19 1
a19 1
WANTLIB =		c crypto daq dnet m pcap pcre pthread z
d29 2
a30 1
LIB_DEPENDS =		devel/pcre \
@


1.89
log
@Update to Snort 2.9.7.0.

Tested by maintainer on i386, and by myself on amd64.

joint work with maintainer Markus Lude
nudged by sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2014/10/05 19:23:00 lteo Exp $
a21 2

USE_GROFF =		Yes
@


1.88
log
@tcpdump is in section 8 on OpenBSD, not section 1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2014/08/19 04:22:53 lteo Exp $
d7 1
a7 1
VERSION =		2.9.6.2
a8 1
REVISION =		0
@


1.87
log
@Update to Snort 2.9.6.2 (and its MASTER_SITES).

Tested by myself on amd64, i386, macppc, and sparc64; tested by
Markus Lude on sparc64.

ok Markus Lude (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2014/06/04 03:17:12 lteo Exp $
d9 1
@


1.86
log
@Due to checksum offload, Snort might see bad checksums in outbound
packets since those checksums are not calculated until after Snort sees
those packets.

This causes Snort to discard those packets instead of processing them,
which in turn prevents Snort from triggering alerts for them.

To fix this, set checksum_mode to "none" in snort.conf to disable
Snort's checksum verification feature.

Looks OK to maintainer Markus Lude.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2014/05/15 20:11:43 lteo Exp $
d7 1
a7 1
VERSION =		2.9.6.1
a8 1
REVISION =		0
d21 1
a21 1
MASTER_SITES =		http://www.snort.org/dl/snort-current/
@


1.85
log
@Update to Snort 2.9.6.1, from maintainer Markus Lude.

Tested on amd64 and i386 by myself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2014/01/30 03:23:48 lteo Exp $
d9 1
@


1.84
log
@Update to Snort 2.9.6.0, from maintainer Markus Lude.

Tested on sparc64 by Markus; tested on amd64 and macppc by myself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2013/12/16 03:32:39 lteo Exp $
d7 1
a7 1
VERSION =		2.9.6.0
@


1.83
log
@Update to Snort 2.9.5.6, from maintainer Markus Lude.

Special thanks to Bhagya Bantwal of Sourcefire for a patch to fix
crashes on sparc64 on first alert.

Tested on sparc64 by Markus; tested on amd64, i386, and macppc by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2013/09/24 02:35:23 lteo Exp $
d7 1
a7 1
VERSION =		2.9.5.6
@


1.82
log
@Update to Snort 2.9.5.5 and fix the ownership of the rc.d script, from
maintainer Markus Lude.

Tested by me on amd64, i386, and macppc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2013/08/21 02:28:42 lteo Exp $
d7 1
a7 1
VERSION =		2.9.5.5
@


1.81
log
@Update to Snort 2.9.5.3, maintainer timeout

Re-enable support for non Ethernet decoders so that Snort can listen on
our pflog(4) interface again.

Tested on amd64 and i386.  Before the 64-bit time_t change, it was also
tested on amd64 and i386 (by myself and Adam Jeanguenat) and on macppc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2013/07/10 02:10:22 lteo Exp $
d7 1
a7 1
VERSION =		2.9.5.3
@


1.80
log
@Update to Snort 2.9.5, from maintainer Markus Lude.

Tested by Markus on sparc64; tested by me on amd64, i386, and macppc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2013/05/31 20:26:00 lteo Exp $
d7 2
a8 2
VERSION =		2.9.5.0
DISTNAME =		snort-2.9.5
d28 2
a29 1
			--disable-static-daq
@


1.79
log
@Update to Snort 2.9.4.6.  Maintainer came up with the same diff.

Tested on sparc64 by maintainer, and on amd64, i386, and macppc by
myself.

OK Markus Lude (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2013/04/23 02:04:13 lteo Exp $
d7 2
a8 2
VERSION =		2.9.4.6
DISTNAME =		snort-${VERSION}
@


1.78
log
@Update to Snort 2.9.4.5, from Markus Lude (maintainer).

Tested by Markus on sparc64, and by myself on amd64 and i386.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2013/03/29 04:22:59 lteo Exp $
d7 1
a7 1
VERSION =		2.9.4.5
@


1.77
log
@Update to Snort 2.9.4.1.

Tested on amd64 and i386 by myself, and on 5.2/amd64 by Rodolfo Gouveia.

From Markus Lude (maintainer) with a tweak by me to remove PKGNAME which
is no longer needed.

"go ahead" sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2013/03/21 08:46:35 ajacoutot Exp $
d7 1
a7 1
VERSION =		2.9.4.1
@


1.76
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2013/03/11 11:35:56 espie Exp $
d7 2
a8 4
VERSION =		2.9.4.0
DISTNAME =		snort-2.9.4
PKGNAME =		snort-${VERSION}
REVISION =		0
@


1.75
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2013/03/04 04:23:18 lteo Exp $
a24 1
USE_LIBTOOL =		Yes
@


1.74
log
@Update pkg/README to change the Snort ruleset download URL from HTTP to
HTTPS to protect the oinkcode from being exposed (suggested by David
Hill).

Also add a note that registered users without a paid subscription are
only allowed to download the official Snort ruleset once every 15
minutes (suggested by Adam Jeanguenat).  This restriction is not obvious
on the snort.org site, so I think this note would be helpful to users.

OK Markus Lude (maintainer), sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2013/01/16 04:52:53 lteo Exp $
a19 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =	Yes
d67 1
a67 1
NO_REGRESS =		Yes
@


1.73
log
@Update to Snort 2.9.4.0, from Markus Lude (maintainer).

Notable changes:

* Consolidation of IPv6 -- now only a single build supports both
  IPv4 & IPv6, and removal of the IPv4 "only" code paths.
* File API and improvements to file processing for HTTP downloads
  and email attachments via SMTP, POP, and IMAP to facilitate
  broader file support
* Use of address space ID for tracking Frag & Stream connections
  when it is available with the DAQ
* Logging of packet data that triggers PPM for post-analysis via
  Snort event
* Decoding of IPv6 with PPPoE

This commit also includes a patch to snort.conf that was done by myself
with feedback from Markus.  The snort.conf patch ensures that Snort will
load the latest Snort ruleset since the rule files have been reorganized
by upstream.  It also excludes local.rules by default, since rule
managers like Oinkmaster skip that file when downloading rules.

Tested by Markus on i386 and sparc64, Rodolfo Gouveia on 5.2/amd64 with
his own snort.conf, and myself on amd64 and i386.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2012/10/25 19:52:16 naddy Exp $
d10 1
@


1.72
log
@switch configure style to gnu; ok lteo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2012/10/23 19:29:25 naddy Exp $
d7 3
a9 3
VERSION =		2.9.3.1
DISTNAME =		snort-${VERSION}
REVISION =		0
d23 1
a23 1
WANTLIB =		c daq dnet m pcap pcre pthread z
a33 1
CONFIGURE_ENV=		MKDIR_P="/bin/mkdir -p"
@


1.71
log
@don't pick up gmkdir; ok lteo@@, maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2012/10/11 02:40:48 lteo Exp $
d31 1
a31 1
CONFIGURE_STYLE =	simple
a34 2

MAKE_FLAGS =		mandir=${TRUEPREFIX}/man
@


1.70
log
@Make various improvements to the Snort port:

* Add an rc.d script.

* In snort.conf, provide the URL to the official Snort rules so that
  users know where to get them.

* In snort.conf, provide the URL to the Emerging Threats rules along
  with a commented include line to allow users to easily load the
  Emerging Threats rules if they wish.

* Revise pkg/README with details on where to obtain Snort rules, the
  differences between the official Snort rules and Emerging Threats
  rules, how to download them, and provide some guidance on setting up
  Snort.

snort.conf and README changes OK Markus Lude (maintainer), sthen@@
rc.d script OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2012/09/28 19:30:54 sthen Exp $
d34 1
@


1.69
log
@use a better MASTER_SITES, as pointed out by Adam Jeanguenat.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2012/09/26 02:11:05 lteo Exp $
d7 3
a9 1
DISTNAME =		snort-2.9.3.1
d48 3
@


1.68
log
@Update Snort to 2.9.3.1.

Thank you to all who tested: Markus Lude (sparc64), abieber@@ (macppc),
and Adam Jeanguenat (i386); I also tested on amd64 and i386.  Thank you
to Rodolfo Gouveia for help/tests on earlier versions, and brad@@ for
comments on an earlier version.

From Markus Lude (maintainer), and includes changes done based on
feedback from sthen@@ and myself.

OK abieber@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2012/07/09 21:10:57 jasper Exp $
d3 1
a3 1
SHARED_ONLY = 		Yes
d7 1
a7 6
# Original URL http://dl.snort.org/downloads/1862 redirects to a
# time-limited Amazon S3 url. This would mean a bad distfile name.
# The following hack allows it to work but XXX if updating, the
# MASTER_SITES URL will need to be adjusted, not just DISTNAME.
DISTNAME = 		snort-2.9.3.1
MASTER_SITES = 		http://www.snort.org/downloads/1862?/
d16 2
a17 2
PERMIT_PACKAGE_CDROM = 	Yes
PERMIT_PACKAGE_FTP =   	Yes
d19 2
a20 1
PERMIT_DISTFILES_FTP = 	Yes
d22 2
@


1.67
log
@missing bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2012/07/09 12:58:16 sthen Exp $
d7 1
a7 1
# Original URL http://dl.snort.org/downloads/14 redirects to a
d11 2
a12 4
DISTNAME = 		snort-2.8.6
REVISION=		3
MASTER_SITES = 		http://dl.snort.org/downloads/14?/ \
			http://distfiles.nl/
d25 1
a25 1
WANTLIB =		c m pcap
d33 1
a33 2
			--enable-dynamicplugin \
			--enable-ipv6
d37 3
a39 25
LIB_DEPENDS =		devel/pcre
WANTLIB +=		pcre

FLAVORS =		postgresql mysql flexresp
FLAVOR ?=	

.if ${FLAVOR:L:Mflexresp}
LIB_DEPENDS +=		net/libdnet
WANTLIB +=		dnet=1
CONFIGURE_ARGS +=	--enable-flexresp2
.endif

.if ${FLAVOR:L:Mpostgresql}
LIB_DEPENDS +=		databases/postgresql
WANTLIB +=		pq>=2
CONFIGURE_ARGS +=	--with-postgresql="${LOCALBASE}"
.endif

.if ${FLAVOR:L:Mmysql}
LIB_DEPENDS +=		databases/mysql
WANTLIB +=		lib/mysql/mysqlclient>=10
CONFIGURE_ARGS +=	--with-mysql-libraries="${LOCALBASE}/lib" \
			--with-mysql-includes="${LOCALBASE}/include"
WANTLIB +=		z
.endif
d42 1
a42 1
			sid-msg.map snort.conf threshold.conf unicode.map
a48 3
SCHEMAS = 		create_db2 create_mssql create_mysql \
			create_oracle.sql create_postgresql

a65 3
.endfor
.for i in ${SCHEMAS}
	${INSTALL_DATA} ${WRKSRC}/schemas/${i} ${PREFIX}/share/doc/snort
@


1.66
log
@tedu the prelude support, pointed out by naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2012/04/07 08:31:39 mcbride Exp $
d12 1
a12 1
REVISION=		2
@


1.65
log
@Support "new" pflog format (revision 1.16 of if_pflog.h, 2010/09/21)

ok sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2012/03/29 13:38:49 sthen Exp $
d43 1
a43 1
FLAVORS =		postgresql mysql flexresp prelude
a63 8
.endif

.if ${FLAVOR:L:Mprelude}
MODULES =		devel/gettext
LIB_DEPENDS +=		security/prelude/libprelude
WANTLIB +=		gcrypt gnutls gpg-error pthread tasn1 z prelude>=8
CONFIGURE_ARGS +=	--enable-prelude
MESSAGE =		${PKGDIR}/MESSAGE-prelude
@


1.64
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/11/16 00:20:09 sthen Exp $
d12 1
a12 1
REVISION=		1
@


1.63
log
@bumps; net/if.h
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/09/16 11:13:40 espie Exp $
d32 1
a32 1
SEPARATE_BUILD =	concurrent
@


1.62
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/11/19 22:31:38 espie Exp $
d12 1
a12 1
REVISION=		0
@


1.61
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/11/11 17:20:28 espie Exp $
d12 1
@


1.60
log
@finish net WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/10/28 20:49:01 jasper Exp $
d39 1
a39 1
LIB_DEPENDS =		::devel/pcre
d46 2
a47 2
LIB_DEPENDS +=		::net/libdnet
WANTLIB +=		dnet.=1
d52 2
a53 2
LIB_DEPENDS +=		::databases/postgresql
WANTLIB +=		pq.>=2
d58 2
a59 2
LIB_DEPENDS +=		::databases/mysql
WANTLIB +=		lib/mysql/mysqlclient.>=10
d67 2
a68 2
LIB_DEPENDS +=		::security/prelude/libprelude
WANTLIB +=		gcrypt gnutls gpg-error pthread tasn1 z prelude.>=8
@


1.59
log
@- add a working master site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/10/18 18:36:58 espie Exp $
d29 1
a29 1
USE_GROFF =	Yes
d39 2
a40 1
LIB_DEPENDS =		pcre::devel/pcre
d46 2
a47 1
LIB_DEPENDS +=		dnet.=1::net/libdnet
d52 2
a53 1
LIB_DEPENDS +=		pq.>=2::databases/postgresql
d58 2
a59 1
LIB_DEPENDS +=		lib/mysql/mysqlclient.>=10::databases/mysql
d67 2
a68 2
WANTLIB +=		gcrypt gnutls gpg-error pthread tasn1 z
LIB_DEPENDS +=		prelude.>=8::security/prelude/libprelude
@


1.58
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/07/12 19:38:40 sthen Exp $
d12 2
a13 1
MASTER_SITES = 		http://dl.snort.org/downloads/14?/
@


1.57
log
@update to 2.8.6, from maintainer Markus Lude
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/06/11 21:10:28 landry Exp $
d28 1
@


1.56
log
@No need to -O0 on sparc64 anymore since it switched to gcc4.
From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/04/15 14:58:24 ajacoutot Exp $
d7 7
a13 2
DISTNAME = 		snort-2.8.4.1
PKGNAME =		${DISTNAME}p1
a14 1
MASTER_SITES = 		http://dl.snort.org/snort-current/
a26 11
SHARED_LIBS = 		sf_engine 3.0 \
			sf_dce2_preproc 0.0 \
			sf_dcerpc_preproc 2.0 \
			sf_dns_preproc 3.0 \
			sf_ftptelnet_preproc 3.0 \
			sf_smtp_preproc 3.0 \
			sf_ssh_preproc 2.0 \
			sf_ssl_preproc 1.0 \
			_sfdynamic_example_rule 0.0 \
			_sfdynamic_preprocessor_example 0.0

d32 2
a33 1
			--enable-dynamicplugin
@


1.55
log
@Stupid poor blank lines, stupid poor blank lines...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2009/08/16 13:31:27 rui Exp $
d8 1
a8 1
PKGNAME =		${DISTNAME}p0
a43 5

# gcc 3.3.5, Bus errors
.if ${MACHINE_ARCH} == "sparc64"
CFLAGS +=		-O0
.endif
@


1.54
log
@update snort to 2.8.4.1. From Markus Lude (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2009/02/12 22:12:08 rui Exp $
d8 1
@


1.53
log
@update snort to 2.8.3.2, from Markus Lude.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.52 2008/02/12 14:13:32 rui Exp $
d7 1
a7 1
DISTNAME =		snort-2.8.3.2
d9 1
a9 1
MASTER_SITES =		${HOMEPAGE}dl/
d22 8
a29 7
SHARED_LIBS =		sf_engine 2.0 \
			sf_dns_preproc 2.0 \
			sf_ftptelnet_preproc 2.0 \
			sf_smtp_preproc 2.0 \
			sf_dcerpc_preproc 1.0 \
			sf_ssh_preproc 1.0 \
			sf_ssl_preproc 0.0 \
@


1.52
log
@- update to snort 2.8.0.1.

from Markus Lude with a few changes, tested by many including reyk@@, jdixon@@. Thanks.

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2007/09/15 22:36:59 merdely Exp $
d3 1
a3 1
COMMENT=	highly flexible sniffer/NIDS
d5 3
a7 3
DISTNAME=	snort-2.8.0.1
CATEGORIES=	net security
MASTER_SITES=	${HOMEPAGE}/dl/current/
d9 1
a9 1
HOMEPAGE=       http://www.snort.org/
d11 1
a11 1
MAINTAINER=	Markus Lude <markus.lude@@gmx.de>
d14 22
a35 21
PERMIT_PACKAGE_CDROM= 	Yes
PERMIT_PACKAGE_FTP=   	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP= 	Yes
WANTLIB=		c m pcap

SHARED_LIBS=	sf_engine 1.0 \
		sf_dns_preproc 1.0 \
		sf_ftptelnet_preproc 1.0 \
		sf_smtp_preproc 1.0 \
		sf_dcerpc_preproc 0.0 \
		sf_ssh_preproc 0.0 \
		_sfdynamic_example_rule 0.0 \
		_sfdynamic_preprocessor_example 0.0

USE_LIBTOOL=	Yes

SEPARATE_BUILD=	concurrent
CONFIGURE_STYLE=simple
CONFIGURE_ARGS+=${CONFIGURE_SHARED} \
		--enable-dynamicplugin
d37 3
a39 1
LIB_DEPENDS=	pcre::devel/pcre
d43 1
a43 1
CFLAGS+=	-O0
d46 2
a47 2
FLAVORS=	postgresql mysql flexresp prelude
FLAVOR?=	
d50 2
a51 5
LIB_DEPENDS+=	dnet.=1::net/libdnet
CONFIGURE_ARGS+=--enable-flexresp2

MASTER_SITES0=	http://www-fs.informatik.uni-tuebingen.de/~lude/openbsd/distfiles/
PATCHFILES=	snort-flexresp_patch.diff:0
d55 2
a56 2
LIB_DEPENDS+=	pq.>=2::databases/postgresql
CONFIGURE_ARGS+=--with-postgresql="${LOCALBASE}"
d60 4
a63 4
LIB_DEPENDS+=	lib/mysql/mysqlclient.>=10::databases/mysql
CONFIGURE_ARGS+=--with-mysql-libraries="${LOCALBASE}/lib" \
		--with-mysql-includes="${LOCALBASE}/include"
WANTLIB+=	z
d67 5
a71 5
MODULES=	devel/gettext
WANTLIB+=	gcrypt gnutls gpg-error pthread z
LIB_DEPENDS+=	prelude.>=8::security/prelude/libprelude
CONFIGURE_ARGS+=--enable-prelude
MESSAGE=	${PKGDIR}/MESSAGE-prelude
d74 2
a75 2
CONFIGS=	classification.config gen-msg.map reference.config \
		sid-msg.map snort.conf threshold.conf unicode.map
d77 1
a77 1
PREPROC=	decoder.rules preprocessor.rules
d79 2
a80 1
DOCS=		AUTHORS CREDITS README README.* *.pdf TODO USAGE WISHLIST
d82 2
a83 5
# workaround conflicts between distpatches and patches
post-patch:
.if ${FLAVOR:L:Mflexresp}
	@@perl -pi -e "s,ip_t,snort_ip," ${WRKSRC}/src/preprocessors/stream.h
.endif
d85 2
a86 5
post-build:
	@@perl -pi -e "s,%%SYSCONFDIR%%,${SYSCONFDIR}," \
		${WRKSRC}/etc/snort.conf
	@@perl -pi -e "s,/usr/local/,${LOCALBASE}/," \
		${WRKSRC}/etc/snort.conf
d100 5
a104 2
.for j in ${DOCS}
	${INSTALL_DATA} ${WRKSRC}/doc/${j} ${PREFIX}/share/doc/snort
d107 1
a107 1
NO_REGRESS=	Yes
@


1.51
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2006/11/25 05:33:28 pvalchev Exp $
d5 1
a5 2
DISTNAME=	snort-2.6.0.2
PKGNAME=	${DISTNAME}p1
d11 3
a13 1
# GPL
d18 1
a18 1
WANTLIB=		c m pcap 
d20 8
a27 4
SHARED_LIBS=	sf_engine 0.0 \
		sf_dns_preproc 0.0 \
		sf_ftptelnet_preproc 0.0 \
		sf_smtp_preproc 0.0
d32 1
a32 1
CONFIGURE_STYLE=gnu
d49 3
d61 2
a62 1
CONFIGURE_ARGS+=--with-mysql="${LOCALBASE}"
d68 1
a68 1
WANTLIB+=	gcrypt gpg-error pthread z
d74 4
a77 2
CONFIGS=	classification.config gen-msg.map generators reference.config \
		sid sid-msg.map snort.conf threshold.conf unicode.map
d79 7
a85 1
DOCS=		AUTHORS CREDITS README.* *.pdf
d98 5
d108 2
@


1.50
log
@Differentiate between struct timeval and bpf_timeval.. fixes
logging/alerting on 64-bit platforms.
From nikns@@secure.lv
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2006/10/14 09:54:04 aanriot Exp $
d3 1
a3 1
COMMENT=	"highly flexible sniffer/NIDS"
@


1.49
log
@use not hardcoded paths in the configuration file.

inputs and ok alek@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2006/10/10 13:33:17 aanriot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.48
log
@- update to 2.6.0.2 .
- enable dynamicplugin / dynamic preprocessors.
- install documentation.
- fix instructions.
- USE_LIBTOOL.

update from nikns <nikns@@secure.lv> with a few changes;
feedback and ok msf@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2006/08/03 23:15:58 espie Exp $
d6 1
d72 2
@


1.47
log
@new style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2006/06/28 19:27:42 aanriot Exp $
d5 1
a5 2
DISTNAME=	snort-2.4.5
PKGNAME=	${DISTNAME}p0
d11 1
a11 1
# License: GPL
d18 7
d26 3
a28 1
CONFIGURE_STYLE= gnu
d30 1
a30 1
LIB_DEPENDS=     pcre::devel/pcre
d41 2
a42 5
LIB_DEPENDS+=	lib/libnet-1.0/net.=0:libnet-1.0*:net/libnet/1.0
CONFIGURE_ENV+=	LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ARGS+= --enable-flexresp \
		--with-libnet-includes=${LOCALBASE}/include/libnet-1.0 \
		--with-libnet-libraries=${LOCALBASE}/lib/libnet-1.0
d47 1
a47 1
CONFIGURE_ARGS+= --with-postgresql="${LOCALBASE}"
d52 1
a52 1
CONFIGURE_ARGS+= --with-mysql="${LOCALBASE}"
d67 6
d77 5
@


1.46
log
@- add a "prelude" flavor, snort can be used as a sensor by prelude.
- bump PKGNAME .

inputs & ok alek@@, "I have no problem with this" david@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2006/06/08 20:25:53 david Exp $
d41 1
a41 1
LIB_DEPENDS+=	pq.2::databases/postgresql
d46 1
a46 1
LIB_DEPENDS+=	lib/mysql/mysqlclient.10::databases/mysql
d54 1
a54 1
LIB_DEPENDS+=	prelude.8::security/prelude/libprelude
@


1.45
log
@update to snort-2.4.5 (fixes several possible detection evasions)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2006/05/30 18:45:18 aanriot Exp $
d6 1
d29 1
a29 1
FLAVORS=	postgresql mysql flexresp
d49 8
@


1.44
log
@tarball has been rerolled without any changes.

confirmed by Steven Sturges <steve.sturges@@sourcefire.com>;
ok msf@@, no objection sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2006/04/12 22:03:47 david Exp $
d5 1
a5 2
DISTNAME=	snort-2.4.4
PKGNAME=	${DISTNAME}p0
@


1.43
log
@update to snort-2.4.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2006/02/04 13:15:42 david Exp $
d6 1
@


1.42
log
@update to snort-2.4.3; ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2006/01/25 04:14:39 david Exp $
d5 1
a5 1
DISTNAME=	snort-2.4.3
@


1.41
log
@remove dead smbalert flavor; it was removed from snort over 2 years ago
since then this flavor has been doing nothing
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/01/06 04:22:06 brad Exp $
d5 1
a5 2
DISTNAME=	snort-2.3.3
PKGNAME=	${DISTNAME}p2
d50 3
d55 3
a57 9
	${INSTALL_DATA} ${WRKSRC}/etc/snort.conf ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/etc/threshold.conf ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/etc/unicode.map ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/etc/sid-msg.map ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/etc/classification.config \
		 ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/etc/reference.config \
		 ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/rules/*.rules ${PREFIX}/share/examples/snort
@


1.40
log
@add a comment
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2006/01/06 04:20:32 brad Exp $
d29 1
a29 1
FLAVORS=	postgresql mysql smbalert flexresp
a48 6
.endif

.if ${FLAVOR:L:Msmbalert}
BUILD_DEPENDS+=	:samba-*:net/samba
RUN_DEPENDS+=	:samba-*:net/samba
CONFIGURE_ARGS+= --enable-smbalerts
@


1.39
log
@disable optimization on sparc64 as a workaround, resolves crashing issues.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2006/01/04 04:15:18 david Exp $
d24 1
@


1.38
log
@Fixed issue with MySQL 5.0 and the schema keyword; from snort CVS
bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2005/11/04 16:20:42 msf Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d23 4
@


1.37
log
@- remove inactive MAINTAINER

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2005/07/04 22:18:51 mjc Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.36
log
@missing part of LIB_DEPENDS path
spotted by viq <viq@@poczta.fm>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2005/06/29 06:01:38 sturm Exp $
a10 2

MAINTAINER=	Brian Caswell <bmc@@openbsd.org>
@


1.35
log
@update to snort 2.3.3

from Jason Crawford <jasonrcrawford at gmail.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2005/05/24 04:47:30 mjc Exp $
d6 1
d30 1
a30 1
LIB_DEPENDS+=	lib/libnet-1.0/net.=0:libnet-1.0*:net/libnet
@


1.34
log
@forgot to bump version with libnet fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2005/05/24 04:39:05 mjc Exp $
d5 1
a5 2
DISTNAME=	snort-2.1.2
PKGNAME=	${DISTNAME}p0
d7 1
a7 1
MASTER_SITES=	${HOMEPAGE}/dl/
@


1.33
log
@cope with new libnet port (flavours can run, but they can't hide)
ok pvalchev@@ msf@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/12/16 00:31:25 alek Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}
@


1.32
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2004/04/12 14:56:31 sturm Exp $
d30 1
a30 1
LIB_DEPENDS+=	net::net/libnet
d32 3
a34 1
CONFIGURE_ARGS+= --enable-flexresp
@


1.31
log
@update to snort 2.1.2

from maintainer Brian Caswell <bmc at openbsd.org>, tweaks by yours truly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2004/01/02 04:56:24 brad Exp $
d19 1
d43 1
@


1.30
log
@better LIB_DEPENDS entries for MySQL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2003/06/24 17:02:38 pvalchev Exp $
d5 2
a6 2
DISTNAME=	snort-2.0.0
PKGNAME=	${DISTNAME}p1
d10 1
a10 1
HOMEPAGE=       http://www.snort.org
d23 2
d53 2
@


1.29
log
@fix sparc/sparc64 detection; pointed out in spp_stream4 by Brandon Williams; ok bmc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2003/04/16 13:01:42 avsm Exp $
d38 1
a38 1
LIB_DEPENDS+=	lib/mysql/mysqlclient.10:mysql-client-3.23.*:databases/mysql
@


1.28
log
@update to snort-2.0.0; fixes a remote overflow - users of older versions
should upgraded

from bmc@@snort.org
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2003/03/03 22:00:20 pvalchev Exp $
d6 1
@


1.27
log
@Update to snort-1.9.1, 1.9.0 is vulnerable to a remote buffer overflow
(leading to arbitrary code execution); from maintainer Brian Caswell

See http://www.iss.net/issEn/delivery/xforce/alertdetail.jsp?oid=21951
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2003/02/03 21:21:00 lebel Exp $
d5 1
a5 1
DISTNAME=	snort-1.9.1
@


1.27.2.1
log
@MFC:
Update to snort-2.0.0, fixes a remote buffer overflow.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2003/04/16 13:01:42 avsm Exp $
d5 1
a5 1
DISTNAME=	snort-2.0.0
@


1.26
log
@update net/snort to 1.9; OKed by MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/12/29 21:14:12 fgsch Exp $
d5 1
a5 1
DISTNAME=	snort-1.9.0
@


1.25
log
@finally, no more NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/06/09 05:37:04 wilfried Exp $
d5 1
a5 1
DISTNAME=	snort-1.8.6
d49 3
a51 3
	${INSTALL_DATA} ${WRKSRC}/snort.conf ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/sid-msg.map ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/classification.config \
d53 3
a55 1
	${INSTALL_DATA} ${WRKSRC}/*.rules ${PREFIX}/share/examples/snort
@


1.24
log
@add specifier to RUN_DEPENDS and BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/04/26 12:51:39 bmc Exp $
a6 1
NEED_VERSION=	1.525
@


1.24.2.1
log
@MFC:
Update to snort-1.9.1, 1.9.0 is vulnerable to a remote buffer overflow
(leading to arbitrary code execution); from maintainer Brian Caswell.

See http://www.iss.net/issEn/delivery/xforce/alertdetail.jsp?oid=21951
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/06/09 05:37:04 wilfried Exp $
d5 1
a5 1
DISTNAME=	snort-1.9.1
d7 1
d50 3
a52 3
	${INSTALL_DATA} ${WRKSRC}/etc/snort.conf ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/etc/sid-msg.map ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/etc/classification.config \
d54 1
a54 3
	${INSTALL_DATA} ${WRKSRC}/etc/reference.config \
	 	 ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/rules/*.rules ${PREFIX}/share/examples/snort
@


1.24.2.2
log
@MFC:
Update to snort-2.0.0, fixes a remote buffer overflow.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24.2.1 2003/03/05 00:07:40 margarida Exp $
d5 1
a5 1
DISTNAME=	snort-2.0.0
@


1.23
log
@Updated to snort-1.8.6
--
This update contains a ton of fixes and features.  Included is a small bit
from the ChangeLog:
* corrected big endian rpc decoding
* stop stream4 from clobbering itself
* fixed file rotation bug in spo_unified
* massive speed patch for multiple CIDR blocks
* corrected ICMP printing
* added a ton of new signatures
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/12/13 16:25:05 brad Exp $
d43 2
a44 2
BUILD_DEPENDS+=	smbclient::net/samba
RUN_DEPENDS+=	smbclient::net/samba
@


1.22
log
@fix MySQL dependency entry.
--
Pointed out by: Saad Kadhi <bsdguy@@docisland.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/12/06 18:31:39 bmc Exp $
d3 1
a3 1
COMMENT=	"highly flexible sniffer/basic NIDS"
d5 1
a5 1
DISTNAME=	snort-1.8.3
d7 2
a8 2
NEED_VERSION=	1.500
MASTER_SITES=	${HOMEPAGE}/releases/
d14 1
a34 2
.else
CONFIGURE_ARGS+= --without-postgresql
a39 2
.else
CONFIGURE_ARGS+= --without-mysql
d51 1
@


1.22.2.1
log
@MFC:
Update to snort-1.9.1; 1.9.0 is vulnerable to a remote buffer overflow
(leading to arbitrary code execution); from maintainer Brian Caswell.

See http://www.iss.net/issEn/delivery/xforce/alertdetail.jsp?oid=21951
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/12/13 16:25:05 brad Exp $
d3 1
a3 1
COMMENT=	"highly flexible sniffer/NIDS"
d5 1
a5 1
DISTNAME=	snort-1.9.1
d7 2
a8 1
MASTER_SITES=	${HOMEPAGE}/dl/
a13 1
# License: GPL
d34 2
d41 2
d53 2
a54 3
	${INSTALL_DATA} ${WRKSRC}/etc/snort.conf ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/etc/sid-msg.map ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/etc/classification.config \
d56 1
a56 3
	${INSTALL_DATA} ${WRKSRC}/etc/reference.config \
		 ${PREFIX}/share/examples/snort
	${INSTALL_DATA} ${WRKSRC}/rules/*.rules ${PREFIX}/share/examples/snort
@


1.21
log
@* update to 1.8.3

From ChangeLog:
- Fixed crash in frag2 under Linux
- Fixed flexresp code, session sniping should work again and be
  faster to boot
- Fixed ICMP decoder and printout routines for new ICMP header
  data structs in decode.h
- Added -B command line switch to translate IP addresses in pcap
  files from one subnet to another (see the man page).
- Added spo_log_null to give users an option to deactivate logging
  output from the snort.conf file.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/11/19 14:34:33 bmc Exp $
d7 1
a7 1
NEED_VERSION=	1.499
d39 1
a39 1
LIB_DEPENDS+=	mysqlclient.10:mysql-client-3.23.*:databases/mysql
@


1.20
log
@Oops.  (Sorry Marc)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/11/19 12:39:25 bmc Exp $
d5 1
a5 1
DISTNAME=	snort-1.8.2
@


1.19
log
@* update to 1.8.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/08/16 13:56:40 bmc Exp $
d7 1
a7 1
NEED_VERSION=	1.489
@


1.18
log
@Changed HOMEPAGE to the new snort site until the domain for snort.org
is moved over.

New to 1.8.1
* SNMP Alerts
* IDMEF XML output
* Limited wildcard regex support
* New normalization mode for http_decode
* many bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/07/29 19:56:52 bmc Exp $
d5 1
a5 2
DISTNAME=	snort-1.8.1-RELEASE
PKGNAME=	snort-1.8.1
d7 1
a7 1
NEED_VERSION=	1.421
a8 1
MASTER_SITE_SUBDIR= files
d10 1
a10 1
HOMEPAGE=       http://snort.sourcefire.com
@


1.17
log
@* update to 1.8.1 BETA5

From Changelog:
    * added new IP defragmenter, spp_frag2
    * added new stateful inspection/tcp stream reassembly plugin, spp_stream4
    * Snort can now statefully detect ECN traffic (less false alarms)
    * stream4 can now keep session statistics in a "session.log" file
    * added new high-speed unified binary output system, spo_unified
    * added new data structs/management for tag code
    * added -k switch to tune checksum verification behavior
    * added -z switch to provide stateful verification of alerts
    * modified bahavior of http_decode, now only alerts once per packet
    * added unique Snort ID's to every Snort rule, plus generator, revision
      and event ID info to each alert
    * detection engine only alerts once per packet now, tcp stream code doesn't
      generate another alert packet if a previous one already alerted for that
      stream
    * fixed signal handling on svr4 systems
    * added enhanced cross reference printout to full/fast/syslog alert modes
    * added new high speed checksum verification (on x86) routines
    * added new ARP spoof detection preprocessor from Jeff
      Nathan <jeff@@wwti.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/06/24 15:16:15 brad Exp $
d5 2
a6 2
DISTNAME=	snort-1.8.1-beta5
PKGNAME=	snort-1.8.1b5
d9 1
a9 1
MASTER_SITES=	${HOMEPAGE}/files/
d12 1
a12 1
HOMEPAGE=       http://www.snort.org
@


1.16
log
@passing ${LDFLAGS} is unnecessary.
--
Ok'd by: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/06/03 05:28:57 brad Exp $
d5 2
a6 1
DISTNAME=	snort-1.7
d8 3
a10 3
NEED_VERSION=	1.413
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR= snort
d12 1
a12 1
HOMEPAGE=       http://www.snort.org/
d56 3
a58 1
	${INSTALL_DATA} ${WRKSRC}/*-lib ${PREFIX}/share/examples/snort
@


1.15
log
@- fix PostgreSQL dependency entry, pg -> pq.2
- update dependency entry for MySQL.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/04/12 15:59:18 bmc Exp $
d7 1
a7 1
NEED_VERSION=	1.402
d28 1
a28 1
CONFIGURE_ENV+=	LDFLAGS="${LDFLAGS} -L${LOCALBASE}/lib"
@


1.14
log
@

* integrated COMMENT
* bumped NEED_VERSION
* updated my address

ok obecian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/03/12 21:46:20 jakob Exp $
d7 1
a7 1
NEED_VERSION=	1.394
d33 1
a33 1
LIB_DEPENDS+=	pg::databases/postgresql
d40 1
a40 1
LIB_DEPENDS+=	mysqlclient::databases/mysql
@


1.13
log
@- fix postgres flavor issues
- PREFIX -> LOCALBASE for configurations.

from MAINTAINER
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.12 2001/03/07 19:05:34 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.348
d13 1
a13 1
MAINTAINER=	Brian Caswell <bmc@@mitre.org>
@


1.12
log
@remove major rev for mysqlclient dependency entry.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/02/28 14:32:08 brad Exp $
d31 2
a32 2
LIB_DEPENDS+=	pg.2::databases/postgresql
CONFIGURE_ARGS+= --with-postgresql="${PREFIX}/pgsql"
d39 1
a39 1
CONFIGURE_ARGS+= --with-mysql="${PREFIX}"
@


1.11
log
@- libnet creates a shared library now
- bump mysql shared library major rev #
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/02/11 23:51:12 jeremy Exp $
d31 1
a31 1
LIB_DEPENDS+=	pg::databases/postgresql
d38 1
a38 1
LIB_DEPENDS+=	mysqlclient.10::databases/mysql
@


1.10
log
@
snort 1.7
@
text
@d1 1
a1 1
# $OpenBSD$
a3 1
HOMEPAGE=       http://www.snort.org/
a5 1

d9 2
d25 2
a26 2
BUILD_DEPENDS+= ${PREFIX}/lib/libnet.a::net/libnet
CONFIGURE_ENV+= LDFLAGS="${LDFLAGS} -L${LOCALBASE}/lib"
d31 2
a32 2
LIB_DEPENDS+= pg::databases/postgresql
CONFIGURE_ARGS+= --with-postgresql=${PREFIX}/pgsql
d38 2
a39 2
LIB_DEPENDS+=mysqlclient.6::databases/mysql
CONFIGURE_ARGS+= --with-mysql=${PREFIX}
d45 2
a46 2
BUILD_DEPENDS+= smbclient::net/samba
RUN_DEPENDS+= smbclient::net/samba
@


1.9
log
@MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/07/24 07:57:51 brad Exp $
d3 2
a4 1
DISTNAME=	snort-1.6.3
d6 1
a6 4
NEED_VERSION=	1.310
MASTER_SITES=	http://www.snort.org/Files/ \
		ftp://the.wiretapped.net/pub/security/network-intrusion-detection/snort/ \
		http://snort.safenetworks.com/Files/ 
d8 2
a9 1
HOMEPAGE=       http://www.snort.org/
d11 1
a11 1
MAINTAINER=	Kyle Hargraves <halogen@@nol.net>
d21 29
d51 3
a53 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/snort
	${INSTALL_DATA} ${WRKSRC}/*-lib ${PREFIX}/share/snort
@


1.8
log
@upgrade to snort 1.6.3; from <obecian@@celerity.bartoli.org>

changes by me:
- add HOMEPAGE to DESCR
- remove license type
- add SEPARATE_BUILD option
- remove unnecessary re-installation of man page durring post-install
- move message from post-install to pkg/MESSAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/06/16 23:06:10 espie Exp $
d12 1
a12 1
MAINTAINER=	halogen@@nol.net
@


1.7
log
@Remove NO_CONFIGURE/NO_PATCH/NO_EXTRACT/NO_MTREE

Kill corresponding FAKE=Yes and switch to CONFIGURE_STYLE while I'm at it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/05/29 07:31:38 kevlo Exp $
d3 1
a3 1
DISTNAME=	snort-1.6
d5 4
a8 4
NEED_VERSION=	1.302
MASTER_SITES=	http://www.clark.net/~roesch/ \
		ftp://gd.tuwien.ac.at/infosys/security/snort/ \
		http://snort.whitehats.com/
d10 1
a10 1
HOMEPAGE=       http://www.clark.net/~roesch/security.html
a13 1
LICENSE_TYPE=         	GPL
d19 2
a20 1
CONFIGURE_STYLE=	gnu
a22 1
	${INSTALL_MAN} ${WRKSRC}/snort.8 ${PREFIX}/man/man8
a24 1
	@@echo "===>  Rule examples installed in ${PREFIX}/share/snort"
@


1.6
log
@Upgrade to version 1.6.

Submitted by the maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/04/23 03:35:01 kevlo Exp $
d5 1
d20 1
a20 3
NO_PATCH=     	Yes
GNU_CONFIGURE=	Yes
FAKE=		Yes
@


1.5
log
@fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/02/24 03:43:21 kevlo Exp $
d3 1
a3 1
DISTNAME=	snort-1.5.1
d9 2
d23 1
a23 2
do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/snort ${PREFIX}/bin
@


1.5.2.1
log
@bring net as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/07/24 07:57:51 brad Exp $
d3 1
a3 1
DISTNAME=	snort-1.6.3
d5 3
a7 6
NEED_VERSION=	1.310
MASTER_SITES=	http://www.snort.org/Files/ \
		ftp://the.wiretapped.net/pub/security/network-intrusion-detection/snort/ \
		http://snort.safenetworks.com/Files/ 

HOMEPAGE=       http://www.snort.org/
d11 1
d17 7
a23 4
SEPARATE_BUILD=	concurrent
CONFIGURE_STYLE= gnu

post-install:
d26 1
@


1.4
log
@Fake. Submitted by the maintainer <halogen@@nol.net>
@
text
@d11 8
a19 8
GNU_CONFIGURE=	Yes

NO_PATCH=      Yes

PERMIT_PACKAGE_CDROM=  Yes
PERMIT_PACKAGE_FTP=    Yes
PERMIT_DISTFILES_CDROM=        Yes
PERMIT_DISTFILES_FTP=  Yes
d21 2
a22 1
post-install:
d26 1
@


1.3
log
@Add the license info.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/02/11 01:10:10 espie Exp $
d11 2
a12 5
LICENSE_TYPE=         GPL
PERMIT_PACKAGE_CDROM= YES
PERMIT_PACKAGE_FTP=   YES
PERMIT_DISTFILES_CDROM=       YES
PERMIT_DISTFILES_FTP= YES
d14 1
a14 2
NO_PATCH=     yes
GNU_CONFIGURE=	yes
d16 6
a21 2
do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/snort ${PREFIX}/bin
a24 1
	@@echo "===>  Rule examples installed in ${PREFIX}/share/snort"
@


1.2
log
@Kill a large set of deprecated variables.
Thoroughly unsubtle, most mkdir -p should probably be INSTALL* at
*install stage, and echo/ECHO_MSG is somewhat unsorted.

It's quite possible I missed a few automated changes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/02/03 03:58:54 kevlo Exp $
d11 7
d25 1
a25 1
	@@echo "===> Rule examples installed in ${PREFIX}/share/snort"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d18 1
a18 1
	@@${ECHO} "===> Rule examples installed in ${PREFIX}/share/snort"
@


1.1.1.1
log
@Initial import of snort version 1.5.1.
The snort is the Highly flexible sniffer/basic NIDS.

Submitted by:	Kyle Hargraves <halogen@@nol.net>
@
text
@@
