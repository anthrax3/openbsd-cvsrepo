head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.06.19.21.02.11;	author sebastia;	state Exp;
branches;
next	;
commitid	l5VUOEUhqN6Wb0nk;


desc
@@


1.1
log
@Use the modern libobjc2 runtime from x11/gnustep/libbojc2, make
use of the gnustep module.

Patches for the modern runtime from Debian (pointer to it from jca@@)

Additionally, some failing tests, due to using the modern runtime, are disabled

The package is currently broken, and this is an attempt to fix it, and
give people a chance to actually test it.

proposed to go ahead by sthen@@, also OK espie@@, jca@@
@
text
@$OpenBSD$

Index: src/TRObject.m
--- src/TRObject.m.orig
+++ src/TRObject.m
@@@@ -53,6 +53,7 @@@@
  * Additionally, we implement brain-dead, non-thread-safe
  * reference counting.
  */ 
+#ifndef MODERN_RUNTIME
 @@interface Object (AppleAddedAReallyStupidGCCWarning)
 - (void) dealloc;
 @@end
@@@@ -102,4 +103,7 @@@@
 		[self dealloc];
 }
 
+#else
+@@implementation TRObject
+#endif
 @@end
@
