head	1.39;
access;
symbols
	OPENBSD_5_9:1.37.0.2
	OPENBSD_5_9_BASE:1.37
	OPENBSD_5_8:1.36.0.4
	OPENBSD_5_8_BASE:1.36
	OPENBSD_5_7:1.34.0.6
	OPENBSD_5_7_BASE:1.34
	OPENBSD_5_6:1.34.0.4
	OPENBSD_5_6_BASE:1.34
	OPENBSD_5_5:1.34.0.2
	OPENBSD_5_5_BASE:1.34
	OPENBSD_5_4:1.31.0.2
	OPENBSD_5_4_BASE:1.31
	OPENBSD_5_3:1.28.0.2
	OPENBSD_5_3_BASE:1.28
	OPENBSD_5_2:1.27.0.4
	OPENBSD_5_2_BASE:1.27
	OPENBSD_5_1_BASE:1.27
	OPENBSD_5_1:1.27.0.2
	OPENBSD_5_0:1.26.0.2
	OPENBSD_5_0_BASE:1.26
	OPENBSD_4_9:1.25.0.2
	OPENBSD_4_9_BASE:1.25
	OPENBSD_4_8:1.21.0.2
	OPENBSD_4_8_BASE:1.21
	OPENBSD_4_7:1.18.0.2
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.15.0.2
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.14.0.2
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.12.0.2
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.8.0.2
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	deanna_20060718:1.1.1.1
	deanna:1.1.1;
locks; strict;
comment	@# @;


1.39
date	2016.04.29.21.10.22;	author zhuk;	state dead;
branches;
next	1.38;
commitid	u9TvebbKy1wgQMr9;

1.38
date	2016.03.19.22.48.28;	author naddy;	state Exp;
branches;
next	1.37;
commitid	SIHnGQ3XIdGCb86J;

1.37
date	2015.08.17.20.34.20;	author sthen;	state Exp;
branches;
next	1.36;
commitid	60BvOqUl7gD2yB7y;

1.36
date	2015.04.04.09.21.03;	author ajacoutot;	state Exp;
branches;
next	1.35;
commitid	kS3kwKZogsvzYmEY;

1.35
date	2015.03.27.08.13.03;	author ajacoutot;	state Exp;
branches;
next	1.34;
commitid	qkrQPO6KjSKIuf3s;

1.34
date	2013.12.22.19.24.34;	author zhuk;	state Exp;
branches;
next	1.33;

1.33
date	2013.10.22.11.34.22;	author zhuk;	state Exp;
branches;
next	1.32;

1.32
date	2013.10.05.07.34.36;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2013.06.24.15.53.39;	author zhuk;	state Exp;
branches;
next	1.30;

1.30
date	2013.03.21.08.46.34;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2013.03.11.11.35.48;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2013.01.23.21.45.08;	author zhuk;	state Exp;
branches;
next	1.27;

1.27
date	2011.09.16.11.13.38;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2011.07.14.18.48.50;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2010.11.19.22.31.34;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2010.11.11.16.27.54;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2010.10.24.21.30.01;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.09.26.11.55.18;	author steven;	state Exp;
branches;
next	1.21;

1.21
date	2010.07.12.22.07.39;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2010.04.26.20.09.18;	author steven;	state Exp;
branches;
next	1.19;

1.19
date	2010.03.29.07.53.51;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2009.12.22.00.31.23;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2009.08.12.13.54.18;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2009.08.10.06.33.43;	author kili;	state Exp;
branches;
next	1.15;

1.15
date	2009.06.03.18.39.28;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.01.28.20.03.40;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2008.12.16.00.04.19;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2008.05.29.07.39.09;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2008.04.24.23.57.24;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2008.04.24.00.19.40;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2008.04.01.21.22.10;	author jakemsr;	state Exp;
branches;
next	1.8;

1.8
date	2008.02.05.19.17.15;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2008.01.30.12.18.59;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2007.12.27.10.24.51;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2007.12.16.00.04.27;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2007.11.17.20.39.02;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.08.21.13.10;	author todd;	state Exp;
branches;
next	1.2;

1.2
date	2007.09.15.22.36.54;	author merdely;	state Exp;
branches;
next	1.1;

1.1
date	2007.07.19.02.59.44;	author deanna;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.07.19.02.59.44;	author deanna;	state Exp;
branches;
next	;


desc
@@


1.39
log
@Remove KDE3 applications that have well-working KDE4+ counterparts.
@
text
@# $OpenBSD: Makefile,v 1.38 2016/03/19 22:48:28 naddy Exp $

COMMENT=	BitTorrent client for KDE

VERSION=	2.2.8
DISTNAME=	ktorrent-${VERSION}
REVISION=	14
CATEGORIES=	net x11 x11/kde
EXTRACT_SUFX=	.tar.bz2

MASTER_SITES=	${HOMEPAGE}downloads/${VERSION}/

HOMEPAGE=	http://ktorrent.org/

MAINTAINER=	Brad Smith <brad@@comstyle.com>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB =  GL ICE SM X11 Xau Xcursor Xdmcp Xext Xfixes Xft Xi Xinerama
WANTLIB += Xmu Xrandr Xrender Xt art_lgpl_2 avahi-client avahi-common
WANTLIB += avahi-qt3 c dbus-1 expat fam fontconfig freetype gmp>=4 idn
WANTLIB += jpeg lcms m mng pcre pcreposix png pthread pthread-stubs
WANTLIB += stdc++ util xcb z
WANTLIB += X11-xcb Xdamage Xxf86vm drm glapi xcb-dri2 xcb-glx
WANTLIB += ${KDE}/DCOP ${KDE}/kdecore>=6 ${KDE}/kdefx ${KDE}/kdeprint
WANTLIB += ${KDE}/kdesu ${KDE}/kdeui ${KDE}/khtml ${KDE}/kio
WANTLIB += ${KDE}/kjs ${KDE}/kparts ${KDE}/kutils ${KDE}/kwalletclient

RUN_DEPENDS=	devel/desktop-file-utils \
		x11/gtk+3,-guic

LIB_DEPENDS=	x11/kde/libs3 \
		devel/gmp \
		net/avahi,-qt3,no_gui,no_mono,no_qt4

SUBST_VARS+=	VERSION

MODULES=	x11/kde devel/gettext

PORTHOME=	${WRKDIR}

MAKE_ENV=	KDEDIR="${LOCALBASE}"
MAKE_FLAGS=	${MODKDE_MAKE_FLAGS}

USE_GMAKE=	Yes
CONFIGURE_STYLE= gnu
LIBTOOL_FLAGS=	--tag=disable-static
MODGNU_CONFIG_GUESS_DIRS= ${MODKDE_CONFIG_GUESS_DIRS}
CONFIGURE_ARGS=	${MODKDE_CONFIGURE_ARGS}
CONFIGURE_ARGS+= --with-extra-includes=${LOCALBASE}/include/sigc++-2.0:${LOCALBASE}/lib/sigc++-2.0/include:${LOCALBASE}/include
CONFIGURE_ENV=	${MODKDE_CONFIGURE_ENV}

.include <bsd.port.mk>
@


1.38
log
@drop SHARED_ONLY from KDE3 ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2015/08/17 20:34:20 sthen Exp $
@


1.37
log
@sync WANTLIB
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.36 2015/04/04 09:21:03 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.36
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2015/03/27 08:13:03 ajacoutot Exp $
d9 1
a9 1
REVISION=	13
d26 2
a27 1
WANTLIB += rpcsvc stdc++ util xcb z
@


1.35
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/12/22 19:24:34 zhuk Exp $
d9 1
a9 1
REVISION=	12
@


1.34
log
@Next KDE deconflicting step: rename share/config/ to share/config.kde3/ and
share/config.kcfg/ to share/config.kcfg.kde3/. Tested on i386, including
run-time tests (not for all apps, though).

After this commit, there are only two conflicting files in kdelibs 3.x and
4.x packages left - to be solved soon.

spurring from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/10/22 11:34:22 zhuk Exp $
d9 1
a9 1
REVISION=	11
d32 1
a32 1
		x11/gtk+2,-guic
@


1.33
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/10/05 07:34:36 espie Exp $
d9 1
a9 1
REVISION=	10
@


1.32
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/06/24 15:53:39 zhuk Exp $
d9 1
a9 1
REVISION=	9
@


1.31
log
@Massive cleanup for KDE3. Main point is in changing WANTLIB from "foo" to
"lib/kde3/foo" where appropirate, but also many missing desktop goo items
added, some PFRAG.shared removed and so on.

input and okay landry@@ and ajacoutot@@, also okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/03/21 08:46:34 ajacoutot Exp $
d9 1
a9 1
REVISION=	8
@


1.30
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/03/11 11:35:48 espie Exp $
d9 1
a9 1
REVISION=	7
d21 13
a33 8
WANTLIB=	art_lgpl_2 jpeg GL ICE SM X11 Xau Xcursor Xdmcp Xext \
		Xfixes Xft Xi Xinerama Xmu Xrandr Xrender Xt c dbus-1 \
		expat fontconfig freetype lcms m mng pcre pcreposix \
		png pthread pthread-stubs stdc++ util xcb z idn fam rpcsvc \
		kdecore>=6 DCOP kdefx kdeprint kdesu kparts kdeui khtml \
		kio kjs kutils kwalletclient gmp>=4 avahi-client \
		avahi-common avahi-qt3
RUN_DEPENDS=	devel/desktop-file-utils
@


1.29
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/01/23 21:45:08 zhuk Exp $
a43 1
USE_LIBTOOL=	Yes
@


1.28
log
@Move KDE 3 headers from ${PREFIX}/include to ${PREFIX}/include/kde.
This just unbreaks build of the port, no need to bump REVISION.

Tested in a bulk, input and okay by landry@@
Reviewed by ajacoutot@@ too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/09/16 11:13:38 espie Exp $
a20 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.27
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/07/14 18:48:50 ajacoutot Exp $
d51 1
a51 1
CONFIGURE_ARGS+= --with-extra-includes=${LOCALBASE}/include/sigc++-2.0:${LOCALBASE}/lib/sigc++-2.0/include
@


1.26
log
@Adapt after PSEUDO_FLAVORS change in net/avahi.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/11/19 22:31:34 espie Exp $
d9 1
a9 1
REVISION=	6
@


1.25
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/11/11 16:27:54 espie Exp $
d9 1
a9 1
REVISION=	5
d34 1
a34 2
		net/avahi \
		net/avahi,-qt3,no_gtk,no_mono,no_qt4
@


1.24
log
@new WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/10/24 21:30:01 ajacoutot Exp $
d28 2
a29 2
		kdecore.>=6 DCOP kdefx kdeprint kdesu kparts kdeui khtml \
		kio kjs kutils kwalletclient gmp.>=4 avahi-client \
d31 5
a35 5
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS=	::x11/kde/libs3 \
		::devel/gmp \
		::net/avahi \
		::net/avahi,-qt3,no_gtk,no_mono,no_qt4
@


1.23
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/09/26 11:55:18 steven Exp $
d27 4
a30 2
		png pthread pthread-stubs stdc++ util xcb z idn fam rpcsvc

d32 4
a35 4
LIB_DEPENDS=	kdecore.>=6,DCOP,kdefx,kdeprint,kdesu,kparts,kdeui,khtml,kio,kjs,kutils,kwalletclient::x11/kde/libs3 \
		gmp.>=4.::devel/gmp \
		avahi-client,avahi-common::net/avahi \
		avahi-qt3::net/avahi,-qt3,no_gtk,no_mono,no_qt4
@


1.22
log
@builds fine with openbsd libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/04/26 20:09:18 steven Exp $
a43 1
USE_X11=	Yes
@


1.21
log
@use REVISION, checked with before/after make show=PKGNAMES (plus some
extra-careful checking where there are complicated PSEUDO_FLAVORS).
@
text
@d47 1
a47 1
USE_LIBTOOL=	gnu
@


1.20
log
@use gnu libtool here for now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/12/22 00:31:23 sthen Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p5
@


1.19
log
@No need to specify the no_* FLAVOR for avahi, this is the default now.
naddy thinks there may be some gratuitous bumps but let's be safe.

reads good to sthen@@, ok jasper@@
@
text
@d47 1
a47 1
USE_LIBTOOL=	Yes
@


1.18
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.
prodded by espie@@
discussed with espie@@ ajacoutot@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/08/12 13:54:18 sthen Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p4
d33 1
a33 1
		avahi-qt3::net/avahi,-qt3
@


1.17
log
@correct the LIB_DEPENDS for avahi and bump; fixes build on a clean machine.
ok Brad (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/08/10 06:33:43 kili Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p3
@


1.16
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/06/03 18:39:28 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p2
d32 2
a33 1
		avahi-client,avahi-common,avahi-qt3::net/avahi,-qt3
@


1.15
log
@- avahi gets picked up, so add it to lib_depends
(adds zeroconf support)

wantlib tweak from and ok Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/01/28 20:03:40 naddy Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p1
d27 1
a27 1
		png pthread stdc++ util z idn fam rpcsvc
@


1.14
log
@unbreak and include stats plugin; from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/12/16 00:04:19 sthen Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
d24 4
a27 2
WANTLIB=	art_lgpl_2 jpeg ICE SM X11 Xau Xdmcp Xext Xrender c m pcre \
		pcreposix png pthread stdc++ util z idn fam rpcsvc
d31 2
a32 1
		gmp.>=4.::devel/gmp
@


1.13
log
@SECURITY update to 2.2.8, fixes "several security issues in the
webinterface plugin".

(This is the last 2.x/KDE3 version of KTorrent, further updates
are for the 3.x/KDE4 version only).

From Brad (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/05/29 07:39:09 ajacoutot Exp $
d9 1
@


1.12
log
@- update to ktorrent-2.2.7
this fixes a "rather nasty infinite loop in the queue manager"

from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/04/24 23:57:24 sthen Exp $
d7 1
a7 1
VERSION=	2.2.7
@


1.11
log
@update license marker in comment (GPL->GPLv2), req by Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/04/24 00:19:40 sthen Exp $
d7 1
a7 1
VERSION=	2.2.6
@


1.10
log
@maintenance update from Brad - most patches are now upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/04/01 21:22:10 jakemsr Exp $
d18 1
a18 1
# GPL
@


1.9
log
@
avoid overflowing a time_t when converting timeval to a timestamp in
milliseconds.

problem found and fix sent upstream by Mark Peloquin, who notified the
port maintainer.  thanks Mark!

this patch is from brad@@ (MAINTAINER) via ktorrent svn
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/02/05 19:17:15 naddy Exp $
d7 1
a7 1
VERSION=	2.2.5
a8 1
PKGNAME=	${DISTNAME}p1
@


1.8
log
@fix build if statvfs() is available; from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/01/30 12:18:59 sthen Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
@


1.7
log
@update to 2.2.5, add my patch to use statfs where statvfs isn't available
from brad, tested by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/12/27 10:24:51 sthen Exp $
d9 1
@


1.6
log
@update KTorrent from Brad
"commit it if it works for you" ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/12/16 00:04:27 ajacoutot Exp $
d7 1
a7 1
VERSION=	2.2.4
d10 1
d29 2
@


1.5
log
@- add update-desktop-database goo
(this should be the last one hopefully)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/11/17 20:39:02 steven Exp $
d7 1
a7 1
VERSION=	2.1.4
a8 1
PKGNAME=	${DISTNAME}p2
a21 1

d26 1
a26 1
LIB_DEPENDS=	kdecore.>=6,DCOP,kdefx,kdeprint,kdesu,kparts,kdeui,khtml,kio,kjs,kmdi,kutils,kwalletclient::x11/kde/libs3 \
@


1.4
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/11/08 21:13:10 todd Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p1
d27 1
@


1.3
log
@fix the display of upload/download speed, applied in upstream cvs already
from maint, tested by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/09/15 22:36:54 merdely Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
d11 1
d23 3
a25 2
WANTLIB=		art_lgpl_2 jpeg ICE SM X11 Xau Xdmcp Xext Xrender c m pcre \
			pcreposix png pthread stdc++ util z idn iconv fam rpcsvc
d30 1
a30 1
MODULES=	x11/kde
@


1.2
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/07/19 02:59:44 deanna Exp $
d9 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
COMMENT=	"BitTorrent client for KDE"
@


1.1.1.1
log
@Import ktorrent 2.1.4

KTorrent is a BitTorrent client for KDE. Its main features are: 

  o Download torrent files
  o Upload speed capping, seeing that most people can't upload infinite
    amounts of data
  o Internet searching using The Bittorrent website's search engine
  o UDP Trackers
  o Port forwarding with UPnP
  o IP blocking plugin
  o Importing of partially or fully downloaded files
  o Support for distributed hash tables
  o Protocol encryption
  o Bandwith scheduling
  o Directory scanner to automatically load torrents in certain directories
  o Trackers can be added to torrents
  o File prioritization for multi file torrents

From brad (MAINTAINER)

@
text
@@
