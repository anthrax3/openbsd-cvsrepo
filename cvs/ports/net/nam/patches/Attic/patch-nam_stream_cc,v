head	1.2;
access;
symbols
	OPENBSD_3_4:1.1.0.4
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.2
	OPENBSD_3_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2003.10.29.22.14.43;	author sturm;	state dead;
branches;
next	1.1;

1.1
date	2002.10.10.01.47.48;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to nam 1.9

from some Nico <openbsd@@softhome.net>
@
text
@$OpenBSD: patch-nam_stream_cc,v 1.1 2002/10/10 01:47:48 naddy Exp $
--- nam_stream.cc.orig	Fri Jan  7 04:27:10 2000
+++ nam_stream.cc	Thu Oct 10 03:40:43 2002
@@@@ -23,14 +23,15 @@@@
 #ifdef WIN32
 #include <limits.h>
 #else
+#ifndef __OpenBSD__
 #include <values.h>
 #endif
+#endif
 
 #include <assert.h>
 
 #ifndef WIN32
 extern "C" off_t tell();
-extern "C" double atof();
 #endif
 
 #include <tclcl.h>
@@@@ -418,6 +419,8 @@@@ NamStreamPipe::get_char()
 	insure_backing(tell() + 1);
 	return getc(back_);
 }
+
+#define MAXLONG (((off_t) 1) << ((sizeof(off_t) * 8) - 1)) - 1
 
 off_t
 NamStreamPipe::seek(off_t offset, int whence)
@


1.1
log
@C++ fixes for gcc3
@
text
@d1 1
a1 1
$OpenBSD$
@

