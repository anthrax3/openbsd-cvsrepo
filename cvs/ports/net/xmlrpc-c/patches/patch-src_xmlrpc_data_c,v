head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.36
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.34
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.30
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.32
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.28
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.26
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.24
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.22
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.20
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.18
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.16
	OPENBSD_5_0:1.2.0.14
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.12
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.10
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.8
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.6
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.4
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.1.1.1.0.6
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.4
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	fucked_up:1.1.1.1
	espie:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2008.03.15.10.35.54;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2006.12.18.14.39.56;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.12.18.14.39.56;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update to version 1.06.23

feedback and ok espie@@
@
text
@$OpenBSD: patch-src_xmlrpc_data_c,v 1.1.1.1 2006/12/18 14:39:56 espie Exp $
--- src/xmlrpc_data.c.orig	Tue Jan  3 07:48:59 2006
+++ src/xmlrpc_data.c	Wed Jan 16 14:20:18 2008
@@@@ -288,7 +288,7 @@@@ xmlrpc_read_string(xmlrpc_env *         const envP,
         if (stringValue == NULL)
             xmlrpc_env_set_fault_formatted(
                 envP, XMLRPC_INTERNAL_ERROR, "Unable to allocate space "
-                "for %u-character string", length);
+                "for %lu-character string", (unsigned long)length);
         else {
             memcpy(stringValue, contents, length);
             stringValue[length] = '\0';
@@@@ -419,8 +419,8 @@@@ xmlrpc_read_string_w(xmlrpc_env *     const envP,
         if (stringValue == NULL)
             xmlrpc_env_set_fault_formatted(
                 envP, XMLRPC_INTERNAL_ERROR, 
-                "Unable to allocate space for %u-byte string", 
-                length);
+                "Unable to allocate space for %lu-byte string", 
+                (unsigned long)length);
         else {
             memcpy(stringValue, wcontents, length * sizeof(wchar_t));
             stringValue[length] = '\0';
@@@@ -466,8 +466,8 @@@@ xmlrpc_read_string_w_lp(xmlrpc_env *     const envP,
             if (stringValue == NULL)
                 xmlrpc_env_set_fault_formatted(
                     envP, XMLRPC_INTERNAL_ERROR, 
-                    "Unable to allocate space for %u-byte string", 
-                    size);
+                    "Unable to allocate space for %lu-byte string", 
+                    (unsigned long)size);
             else {
                 memcpy(stringValue, wcontents, size * sizeof(wchar_t));
                 
@@@@ -523,8 +523,8 @@@@ xmlrpc_read_base64(xmlrpc_env *           const envP,
         byteStringValue = malloc(size);
         if (byteStringValue == NULL)
             xmlrpc_env_set_fault_formatted(
-                envP, XMLRPC_INTERNAL_ERROR, "Unable to allocate %u bytes "
-                "for byte string.", size);
+                envP, XMLRPC_INTERNAL_ERROR, "Unable to allocate %lu bytes "
+                "for byte string.", (unsigned long)size);
         else {
             memcpy(byteStringValue, contents, size);
             *byteStringValueP = (const unsigned char *)byteStringValue;
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- src/xmlrpc_data.c.orig	Mon Dec 18 13:32:57 2006
+++ src/xmlrpc_data.c	Mon Dec 18 13:34:07 2006
@@@@ -288,7 +288,7 @@@@ xmlrpc_read_string(xmlrpc_env *         
d13 1
a13 1
@@@@ -419,8 +419,8 @@@@ xmlrpc_read_string_w(xmlrpc_env *     co
d24 1
a24 1
@@@@ -466,8 +466,8 @@@@ xmlrpc_read_string_w_lp(xmlrpc_env *    
d35 1
a35 1
@@@@ -523,8 +523,8 @@@@ xmlrpc_read_base64(xmlrpc_env *         
@


1.1.1.1
log
@xmlrpc C/C++ library, prereq for newer cmake.
Also, makes sense to take this code out, as some other stuff is bound
to want this at some point.

This library is incredibly sloppy engineering. Reasonably readable
code, looks sensible, but incredible lack of testing (doesn't even pass
its own testsuite on a stable release... and does a lot of things that
can't work outside of linux... makes you wonder who is actually using
this...)

@
text
@@
