head	1.4;
access;
symbols
	OPENBSD_5_4:1.3.0.4
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3;
locks; strict;
comment	@# @;


1.4
date	2013.08.07.11.47.51;	author sthen;	state dead;
branches;
next	1.3;

1.3
date	2013.01.16.13.54.59;	author sthen;	state Exp;
branches
	1.3.4.1;
next	1.2;

1.2
date	2013.01.13.10.12.52;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2012.12.12.16.38.33;	author naddy;	state Exp;
branches;
next	;

1.3.4.1
date	2013.10.30.12.48.54;	author jasper;	state dead;
branches;
next	;


desc
@@


1.4
log
@SECURITY update to PuTTY 0.63 - ok brad@@

- Vulnerability: non-coprime values in DSA signatures can cause buffer
overflow in modular inverse
- Vulnerability: buffer underrun in modmul can corrupt the heap
- Vulnerability: negative string length in public-key signatures can
cause integer overflow and overwrite all of memory
- Private keys left in memory after being used by PuTTY tools

N.B. some of these vulnerabilities where an SSH-2 server can make PuTTY
overrun or underrun buffers can be triggered *before* host key verification
so there is a risk from a spoofed server. For more info see the 0.63
section of http://www.chiark.greenend.org.uk/~sgtatham/putty/wishlist/
@
text
@$OpenBSD: patch-unix_configure_ac,v 1.3 2013/01/16 13:54:59 sthen Exp $
--- unix/configure.ac.orig	Sat May 22 15:07:25 2010
+++ unix/configure.ac	Wed Jan 16 13:51:26 2013
@@@@ -11,7 +11,7 @@@@ AC_CONFIG_HEADERS([uxconfig.h:uxconfig.in])
 AC_PROG_INSTALL
 AC_PROG_CC
 if test "X$GCC" = Xyes; then
-    PUTTYCFLAGS="-Wall -Werror"
+    PUTTYCFLAGS="-Wall"
 else
     PUTTYCFLAGS=""
 fi
@@@@ -31,8 +31,6 @@@@ AC_CHECK_HEADERS([utmpx.h sys/select.h],,,[
 #include <sys/types.h>
 #include <utmp.h>])
 
-# Look for both GTK 1 and GTK 2.
-AM_PATH_GTK([1.2.0], [gtk=1], [gtk=none])
 AM_PATH_GTK_2_0([2.0.0], [gtk=2], [])
 if test "$gtk" = "none"; then
   all_targets="all-cli"
@@@@ -65,7 +63,7 @@@@ AS_IF([test "x$with_gssapi" != xno],
 
 AC_CHECK_LIB(X11, XOpenDisplay)
 
-AC_CHECK_FUNCS([getaddrinfo ptsname setresuid strsignal updwtmpx])
+AC_CHECK_FUNCS([getaddrinfo posix_openpt ptsname setresuid strsignal updwtmpx])
 
 AC_OUTPUT
 
@


1.3
log
@Unbreak build on a system without x11/gtk+ installed when autoconf is run;
the AM_PATH_GTK macro that was in configure.ac comes from the gtk+ package
itself.
@
text
@d1 1
a1 1
$OpenBSD: patch-unix_configure_ac,v 1.2 2013/01/13 10:12:52 brad Exp $
@


1.3.4.1
log
@Security update to putty-0.63 which fixes CVE-2013-4206, CVE-2013-4207, CVE-2013-4208
@
text
@d1 1
a1 1
$OpenBSD: patch-unix_configure_ac,v 1.3 2013/01/16 13:54:59 sthen Exp $
@


1.2
log
@Update to PuTTY 0.62.

ok djm@@
@
text
@d1 3
a3 3
$OpenBSD: patch-unix_configure_ac,v 1.1 2012/12/12 16:38:33 naddy Exp $
--- unix/configure.ac.orig	Sat May 22 10:07:25 2010
+++ unix/configure.ac	Thu Dec 27 01:53:50 2012
d13 10
a22 1
@@@@ -65,7 +65,7 @@@@ AS_IF([test "x$with_gssapi" != xno],
@


1.1
log
@We need to use posix_openpt().
Pull in aclocal because the distributed source doesn't include aclocal.m4.
ok djm@@
@
text
@d1 13
a13 4
$OpenBSD$
--- unix/configure.ac.orig	Tue Dec 11 23:47:28 2012
+++ unix/configure.ac	Tue Dec 11 23:47:48 2012
@@@@ -23,7 +23,7 @@@@ AC_SUBST([all_targets])
d15 1
a15 1
 AC_SEARCH_LIBS([socket], [xnet])
@

