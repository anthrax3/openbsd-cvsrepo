head	1.1;
access;
symbols
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2012.04.12.09.02.15;	author jasper;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2012.04.12.09.02.15;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file patch-src_notify_py was initially added on branch OPENBSD_5_1.
@
text
@@


1.1.2.1
log
@    security fix for CVE-2012-2085/CVE-2012-2086.
	ok pea@@ (MAINTAINER)
@
text
@a0 19
$OpenBSD$

execute commands without use_shell=True to prevent remote code execution,
except for commands configured in triggers plugin (configured by user itself).

From upstream changeset: bc296e96ac10
Fixes CVE-2012-2086

--- src/notify.py.orig	Tue Apr 10 10:51:06 2012
+++ src/notify.py	Tue Apr 10 10:51:20 2012
@@@@ -313,7 +313,7 @@@@ def notify(event, jid, account, parameters, advanced_n
         command = gajim.config.get_per('notifications', str(advanced_notif_num),
             'command')
         try:
-            helpers.exec_command(command)
+            helpers.exec_command(command, use_shell=True)
         except Exception:
             pass
 
@

