head	1.26;
access;
symbols
	OPENBSD_6_1:1.26.0.4
	OPENBSD_6_1_BASE:1.26
	OPENBSD_6_0:1.26.0.2
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.25.0.2
	OPENBSD_5_9_BASE:1.25
	OPENBSD_5_8:1.25.0.4
	OPENBSD_5_8_BASE:1.25
	OPENBSD_5_7:1.23.0.2
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.22.0.4
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.22.0.2
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.21.0.2
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.19.0.2
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.17.0.4
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.2
	OPENBSD_5_0:1.16.0.4
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.14.0.2
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.13.0.2
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.12.0.4
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.12.0.2
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.6.0.2
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	jasper_20070527:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.26
date	2016.03.11.20.28.29;	author naddy;	state Exp;
branches;
next	1.25;
commitid	UYLP8TE6V7RS2GhJ;

1.25
date	2015.04.21.18.24.23;	author sthen;	state Exp;
branches;
next	1.24;
commitid	aorv38MSXkwQIPuw;

1.24
date	2015.03.16.18.07.53;	author naddy;	state Exp;
branches;
next	1.23;
commitid	IJdm3Zowcdkcxp5X;

1.23
date	2014.09.13.16.36.54;	author ajacoutot;	state Exp;
branches;
next	1.22;
commitid	N2TalFGi4jKRwS2u;

1.22
date	2013.08.29.07.45.54;	author rpe;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.21.08.46.34;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.11.11.35.48;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2012.09.21.14.48.06;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.09.01.14.36.58;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.09.16.11.13.38;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.11.19.22.31.34;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.11.16.27.54;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.07.12.22.07.39;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2009.12.24.10.46.17;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2009.01.19.10.54.27;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2009.01.19.08.56.41;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2009.01.04.21.26.47;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2008.11.18.11.41.23;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2008.08.31.12.16.14;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2008.08.20.16.11.11;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2008.05.27.08.02.51;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.05.26.08.32.57;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2007.11.17.20.39.02;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.18.18.11.14;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2007.09.15.22.36.55;	author merdely;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.27.19.33.15;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.05.27.19.33.15;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.26
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.25 2015/04/21 18:24:23 sthen Exp $

COMMENT=		lightweight Jabber client library

V=			1.4.3
DISTNAME=       	loudmouth-$V
REVISION=		6
SHARED_LIBS +=	loudmouth-1          3.0      # .1.0
CATEGORIES=		net devel

HOMEPAGE=       	http://groups.google.com/group/loudmouth-dev/

# LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += crypto glib-2.0 idn>=16 pcre pthread ssl

MODULES=		devel/gettext

MASTER_SITES=   	${MASTER_SITE_GNOME:=sources/loudmouth/${V:C/^([0-9]+\.[0-9]+).*/\1/}/}
EXTRACT_SUFX=   	.tar.bz2

LIB_DEPENDS=		devel/glib2 \
			devel/libidn
BUILD_DEPENDS=		${TEST_DEPENDS}
TEST_DEPENDS=	devel/check

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--disable-mono \
			--with-check=${LOCALBASE} \
			--with-ssl=openssl

.include <bsd.port.mk>
@


1.25
log
@add some missing pthread to WANTLIB
(using modified portbump, thanks zhuk@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/03/16 18:07:53 naddy Exp $
d29 1
a29 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--disable-mono \
@


1.24
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/09/13 16:36:54 ajacoutot Exp $
d7 1
a7 1
REVISION=		5
d16 1
a16 1
WANTLIB=		crypto pcre ssl glib-2.0 idn>=16
@


1.23
log
@--disable-gtk-doc is handled by the infrastructure now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/08/29 07:45:54 rpe Exp $
d7 1
a7 1
REVISION=		4
@


1.22
log
@Reintroduce the V variable to fix download path in MASTER_SITES

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/21 08:46:34 ajacoutot Exp $
a29 1
			--disable-gtk-doc \
a32 6

# If one of these tools is found at configure stage, it might be used,
# no matter whether we use --disable-gtk-doc or not.
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@


1.21
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/11 11:35:48 espie Exp $
d5 2
a6 1
DISTNAME=       	loudmouth-1.4.3
@


1.20
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/09/21 14:48:06 ajacoutot Exp $
a26 1
USE_LIBTOOL=    	Yes
@


1.19
log
@Stupid autohell is stupid...
The situation is this: even when we --disable-gtk-doc, if gtk-doc is
actually installed at configure stage, tools like gtkdoc-rebase will be
picked up and run during the install target. That is bad because the
gtk-doc package may have been removed by then, especially during dpb(1)
bulks (we explicitely disable support for it so why should it stay...).

So for now, let's add the following env to configure whenever we use
--disable-gtk-doc, until a bettersolution is found...
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/09/01 14:36:58 ajacoutot Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d24 2
a25 2
BUILD_DEPENDS=		${REGRESS_DEPENDS}
REGRESS_DEPENDS=	devel/check
@


1.18
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/09/16 11:13:38 espie Exp $
d37 6
@


1.17
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/11/19 22:31:34 espie Exp $
d6 1
a6 1
REVISION=		3
@


1.16
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/11/11 16:27:54 espie Exp $
d6 1
a6 1
REVISION=		2
@


1.15
log
@new WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/07/12 22:07:39 sthen Exp $
d18 1
a18 1
WANTLIB=		crypto pcre ssl glib-2.0 idn.>=16
d25 2
a26 2
LIB_DEPENDS=		::devel/glib2 \
			::devel/libidn
d28 1
a28 1
REGRESS_DEPENDS=	::devel/check
@


1.14
log
@use REVISION, checked with before/after make show=PKGNAMES (plus some
extra-careful checking where there are complicated PSEUDO_FLAVORS).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/12/24 10:46:17 jasper Exp $
d18 1
a18 1
WANTLIB=		crypto pcre ssl
d25 2
a26 2
LIB_DEPENDS=		glib-2.0::devel/glib2 \
			idn.>=16::devel/libidn
@


1.13
log
@- fix master sites
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/01/19 10:54:27 jasper Exp $
d5 2
a6 3
V=			1.4.3
DISTNAME=       	loudmouth-$V
PKGNAME=		${DISTNAME}p2
@


1.12
log
@...and switch back to openssl, it was already fixed upstream
prodded by brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/01/19 08:56:41 jasper Exp $
d5 2
a6 1
DISTNAME=       	loudmouth-1.4.3
d23 1
a23 1
MASTER_SITES=   	http://ftp.imendio.com/pub/imendio/loudmouth/src/
@


1.11
log
@- use gnutls instead of openssl, as it's causing apps using ssl to freak out

prompted by kevlo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/01/04 21:26:47 jasper Exp $
d6 2
a7 2
PKGNAME=		${DISTNAME}p1
SHARED_LIBS +=	loudmouth-1          2.0      # .1.0
d18 1
a18 1
WANTLIB=		gcrypt gpg-error pcre tasn1 z
d26 1
a26 2
			idn.>=16::devel/libidn \
			gnutls::security/gnutls
d35 2
a36 5
			--with-check=${LOCALBASE}
# XXX:
# Use gnutls instead of openssl, a few ports don't seem to work
# when loudmouth uses openssl.
CONFIGURE_ARGS+=	--with-ssl=gnutls
@


1.10
log
@- homepage moved to google groups...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/11/18 11:41:23 jasper Exp $
d6 2
a7 2
PKGNAME=		${DISTNAME}p0
SHARED_LIBS +=	loudmouth-1          1.0      # .1.0
d18 1
a18 1
WANTLIB=		crypto pcre ssl
d26 2
a27 1
			idn.>=16::devel/libidn
a35 1
			--with-ssl=openssl \
d37 4
@


1.9
log
@- update loudmouth 1.4.3
a couple of bugs fixed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/08/31 12:16:14 jasper Exp $
d6 1
d10 1
a10 1
HOMEPAGE=       	http://www.loudmouth-project.org/
d18 1
a18 1
WANTLIB=		crypto ssl pcre
@


1.8
log
@- update loudmouth to 1.4.2
- regen patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/08/20 16:11:11 jasper Exp $
d5 1
a5 1
DISTNAME=       	loudmouth-1.4.2
@


1.7
log
@- update loudmouth to 1.4.1
- bump major
- fix license marker
- enable regression suite
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/05/27 08:02:51 ajacoutot Exp $
d5 1
a5 1
DISTNAME=       	loudmouth-1.4.1
@


1.6
log
@- remove dependency on devhelp for lighter non-gnome ports to avoid a
too big dependency chain

requested by steven@@
discussed with steven@@ espie@@ fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/05/26 08:32:57 ajacoutot Exp $
d5 2
a6 3
DISTNAME=       	loudmouth-1.2.3
PKGNAME=		${DISTNAME}p2
SHARED_LIBS +=	loudmouth-1          0.0      # .0.0
d11 1
a11 1
# GPL
d26 1
d34 2
a35 1
			--with-ssl=openssl
@


1.5
log
@- since devhelp files are provided, make it run_depends on devhelp so
that we can actually see them

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/11/17 20:39:02 steven Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
a26 1
RUN_DEPENDS=		:devhelp-*:x11/gnome/devhelp
@


1.4
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/09/18 18:11:14 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d27 1
@


1.3
log
@update loudmouth to 1.2.3

from simon kuhnle
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/09/15 22:36:55 merdely Exp $
d4 1
d6 1
d17 2
a18 1
WANTLIB=		crypto ssl
@


1.2
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/05/27 19:33:15 jasper Exp $
d4 1
a4 1
DISTNAME=       	loudmouth-1.2.2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
COMMENT=		"lightweight Jabber client library"
@


1.1.1.1
log
@import loudmouth 1.2.2

Loudmouth is a lightweight and easy-to-use C library for programming
with the Jabber protocol. It's designed to be easy to get started with
and yet extensible to let you do anything the Jabber protocol allows.

ok ajacoutot@@ steven@@
@
text
@@
