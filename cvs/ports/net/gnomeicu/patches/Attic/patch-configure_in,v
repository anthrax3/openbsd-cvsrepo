head	1.2;
access;
symbols
	OPENBSD_3_6:1.1.0.14
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.12
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.10
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.8
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.6
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.4
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2004.12.01.21.03.04;	author alek;	state dead;
branches;
next	1.1;

1.1
date	2001.09.20.00.38.20;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Remove gnomeicu. Marked BROKEN since 2002/07/22.

ok sturm@@
@
text
@$OpenBSD: patch-configure_in,v 1.1 2001/09/20 00:38:20 naddy Exp $
--- configure.in.orig	Tue Feb 27 05:29:30 2001
+++ configure.in	Thu Sep 20 00:36:44 2001
@@@@ -230,6 +230,18 @@@@ AC_ARG_WITH(scary-eyeballs,
 ])
 
 AC_CHECK_HEADER([iconv.h], AC_DEFINE(HAVE_ICONV))
+AC_MSG_CHECKING([for iconv_open])
+AC_TRY_LINK([#include <iconv.h>],
+  [iconv_open("", "");], [AC_MSG_RESULT(yes)], [AC_MSG_RESULT(no)
+  AC_MSG_CHECKING([for iconv_open in -liconv])
+  save_LIBS="$LIBS"
+  LIBS="$LIBS -liconv"
+  dnl cannot use AC_CHECK_LIB because GNU libiconv uses other symbol names
+  AC_TRY_LINK([#include <iconv.h>],[iconv_open("", "");],
+    [AC_MSG_RESULT(yes)], [AC_MSG_RESULT(no)
+    LIBS=$save_LIBS]
+    AC_MSG_ERROR([no iconv library found]))
+])
 
 AC_OUTPUT(
 Makefile
@


1.1
log
@- fix message catalog installation
- attempt at proper autoconf check for iconv
@
text
@d1 1
a1 1
$OpenBSD$
@

