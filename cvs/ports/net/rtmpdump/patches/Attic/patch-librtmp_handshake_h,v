head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2011.07.17.09.56.04;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2011.03.21.09.46.31;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to rtmpdump 2.4, packaged from git. From Nigel Taylor.
Supports RTMPE type 9 handshakes, used by some youtube streams (e.g. UK 4od)
@
text
@$OpenBSD: patch-librtmp_handshake_h,v 1.1 2011/03/21 09:46:31 sthen Exp $
--- librtmp/handshake.h.orig	Wed Jun 30 20:58:35 2010
+++ librtmp/handshake.h	Sun Mar 20 19:11:50 2011
@@@@ -400,8 +400,10 @@@@ HandShake(RTMP * r, int FP9HandShake)
       /* set version to at least 9.0.115.0 */
       if (encrypted)
 	{
-	  clientsig[4] = 128;
-	  clientsig[6] = 3;
+/* 	  clientsig[4] = 128;
+	  clientsig[6] = 3; */
+	  clientsig[4] = 0x7c;
+	  clientsig[6] = 0x2;
 	}
       else
         {
@


1.1
log
@- handle newer rtmp servers; from upstream SVN via Nigel Taylor
- fix the inclusion order of network headers (netinet/in.h before arpa/inet.h)
@
text
@d1 1
a1 1
$OpenBSD$
@

