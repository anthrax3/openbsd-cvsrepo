head	1.30;
access;
symbols
	OPENBSD_5_6:1.29.0.4
	OPENBSD_5_6_BASE:1.29
	OPENBSD_5_5:1.29.0.2
	OPENBSD_5_5_BASE:1.29
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.26.0.2
	OPENBSD_5_3_BASE:1.26
	OPENBSD_5_2:1.25.0.8
	OPENBSD_5_2_BASE:1.25
	OPENBSD_5_1_BASE:1.25
	OPENBSD_5_1:1.25.0.6
	OPENBSD_5_0:1.25.0.4
	OPENBSD_5_0_BASE:1.25
	OPENBSD_4_9:1.25.0.2
	OPENBSD_4_9_BASE:1.25
	OPENBSD_4_8:1.24.0.2
	OPENBSD_4_8_BASE:1.24
	OPENBSD_4_7:1.21.0.2
	OPENBSD_4_7_BASE:1.21
	OPENBSD_4_6:1.20.0.2
	OPENBSD_4_6_BASE:1.20
	OPENBSD_4_5:1.19.0.2
	OPENBSD_4_5_BASE:1.19
	OPENBSD_4_4:1.18.0.4
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.16.0.4
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.16.0.2
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.13.0.4
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.2
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.10.0.2
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.9.0.2
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.8.0.8
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.6
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.4
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.8.0.2
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.5.0.4
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.5.0.2
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.4
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_9_BASE:1.3
	reinhard_2000_Dec_21:1.1.1.1
	reinhard:1.1.1;
locks; strict;
comment	@# @;


1.30
date	2014.10.08.16.44.58;	author stsp;	state dead;
branches;
next	1.29;
commitid	7jWfdOcvyxIGBB1b;

1.29
date	2013.11.07.07.09.00;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2013.10.11.23.50.32;	author naddy;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.11.11.35.55;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2012.08.19.22.30.37;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2010.10.18.18.36.56;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2010.07.14.11.04.15;	author sthen;	state Exp;
branches;
next	1.23;

1.23
date	2010.07.12.22.07.41;	author sthen;	state Exp;
branches;
next	1.22;

1.22
date	2010.04.24.12.09.43;	author schwarze;	state Exp;
branches;
next	1.21;

1.21
date	2009.08.14.00.02.54;	author stsp;	state Exp;
branches;
next	1.20;

1.20
date	2009.03.08.21.57.24;	author stsp;	state Exp;
branches;
next	1.19;

1.19
date	2008.11.11.16.23.26;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2007.10.23.22.13.38;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2007.09.15.22.36.58;	author merdely;	state Exp;
branches;
next	1.16;

1.16
date	2006.11.12.10.10.09;	author grunk;	state Exp;
branches;
next	1.15;

1.15
date	2006.10.03.12.53.50;	author grunk;	state Exp;
branches;
next	1.14;

1.14
date	2006.09.30.20.40.10;	author grunk;	state Exp;
branches;
next	1.13;

1.13
date	2006.01.29.18.40.18;	author sturm;	state Exp;
branches;
next	1.12;

1.12
date	2006.01.22.18.40.36;	author jolan;	state Exp;
branches;
next	1.11;

1.11
date	2005.10.01.07.40.33;	author alek;	state Exp;
branches;
next	1.10;

1.10
date	2005.03.24.00.57.58;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2004.12.16.00.31.24;	author alek;	state Exp;
branches;
next	1.8;

1.8
date	2003.01.24.13.12.38;	author reinhard;	state Exp;
branches;
next	1.7;

1.7
date	2003.01.24.11.49.21;	author reinhard;	state Exp;
branches;
next	1.6;

1.6
date	2002.10.28.01.38.46;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2002.03.21.21.09.20;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2001.07.25.04.17.49;	author obecian;	state Exp;
branches;
next	1.3;

1.3
date	2001.04.12.14.27.12;	author reinhard;	state Exp;
branches;
next	1.2;

1.2
date	2001.02.04.14.57.29;	author reinhard;	state Exp;
branches;
next	1.1;

1.1
date	2000.12.21.14.02.52;	author reinhard;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.12.21.14.02.52;	author reinhard;	state Exp;
branches;
next	;


desc
@@


1.30
log
@Send net/pptp to the attic. It requires an MPPE-capable ppp client
which we don't have in base anymore. No objections from ports@@
@
text
@# $OpenBSD: Makefile,v 1.29 2013/11/07 07:09:00 ajacoutot Exp $

COMMENT=	PPTP client package for Microsoft VPN servers

DISTNAME=	pptp-1.7.2
REVISION=	4
CATEGORIES=	net
MASTER_SITES= 	${MASTER_SITE_SOURCEFORGE:=pptpclient/}

HOMEPAGE=	http://pptpclient.sf.net

MAINTAINER=	Stefan Sperling <stsp@@openbsd.org>

# GPL
PERMIT_PACKAGE_CDROM=   Yes

WANTLIB=		c util

NO_TEST=	Yes

MAKE_ENV+=	PPPD=/usr/sbin/ppp
CFLAGS+=	-DUSER_PPP

post-patch:
	@@cd ${WRKSRC}; sed -e s,PREFIX,${PREFIX}, < \
		${FILESDIR}/pptp_8 > pptp.8

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/pptp ${PREFIX}/sbin
	${INSTALL_MAN} ${WRKSRC}/pptp.8 ${PREFIX}/man/man8
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/pptp
	${INSTALL_DATA} ${WRKSRC}/PROTOCOL-SECURITY ${PREFIX}/share/doc/pptp/

.include <bsd.port.mk>
@


1.29
log
@Remove SECURITY files. They have served their purpose in the past but
have become pretty useless nowadays (and the pkg tools do not display
them anyway).
Some which contained valuable information have been turned into READMEs.

ok jasper@@ sthen@@
input/ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/10/11 23:50:32 naddy Exp $
@


1.28
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/03/11 11:35:55 espie Exp $
d6 1
a6 1
REVISION=	3
@


1.27
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/08/19 22:30:37 ajacoutot Exp $
a22 1
USE_GROFF =	Yes
@


1.26
log
@RCS id cleanup; also add OpenBSD RCS Id where missing...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/10/18 18:36:56 espie Exp $
a15 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
d19 1
a19 1
NO_REGRESS=	Yes
@


1.25
log
@USE_GROFF=Yes
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.24 2010/07/14 11:04:15 sthen Exp $
# $NetBSD: Makefile,v 1.1.1.1 2000/04/10 01:14:01 jtk Exp $
@


1.24
log
@- remove a patch to zap contents of a file which is already not being
built due to a Makefile patch. From Brad, ok stsp@@ (maintainer).

- don't use a header which is only needed because of the unused file,
from/commit req'd by stsp@@.

shouldn't affect the package, but bumped for safety.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/07/12 22:07:41 sthen Exp $
d27 1
@


1.23
log
@use REVISION, checked with before/after make show=PKGNAMES (plus some
extra-careful checking where there are complicated PSEUDO_FLAVORS).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/04/24 12:09:43 schwarze Exp $
d7 1
a7 1
REVISION=	2
@


1.22
log
@basic cleanup of pptp.8;
while here, remove the reference to pf.conf(5) nat-anchor
and use the new match...nat-to syntax in an example;
contributions and ok  stsp@@ jmc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/08/14 00:02:54 stsp Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
d20 1
@


1.21
log
@In the examples section of the pptp man page, use hostnames that
don't resolve, use private IP addresses, and force replacement
of default routes.

input and ok sobrado@@, jmc@@, naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/03/08 21:57:24 stsp Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.20
log
@Fix build with gcc-2.95 (tested on sparc, simh-vax was too slow).

Remove some useless linux-specific code which tried to modify
the routing table by running "/bin/ip". Because this code has
no error checking and failed silently, no one noticed it.
Noticed it now because it didn't compile with gcc-2.95.

Don't install useless documentation.
Install useful notes on protocol insecurity instead.

Tweak the man page a little. Dunno if anyone is still using
Bezeq ADSL modems that need the --quirks option, but move
the information here just in case.

Clean up MESSAGE; don't shout at everybody about security holes
in a particular kind of modem that's almost 10 years old.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/11/11 16:23:26 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
@


1.19
log
@update to 1.7.2; from maintainer Stefan Sperling
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/10/23 22:13:38 naddy Exp $
d7 1
d13 1
a13 1
MAINTAINER=	Stefan Sperling <stsp@@stsp.name>
a26 2
DIRS=	Documentation

a29 1
	@@perl -pi -e "s,PREFIX,${PREFIX}," ${WRKSRC}/USING
d35 1
a35 3
	${INSTALL_DATA} ${WRKSRC}/USING ${PREFIX}/share/doc/pptp/
	@@cd ${WRKSRC} && \
	    tar cf - ${DIRS} | (cd ${PREFIX}/share/doc/pptp && tar -xf -)
@


1.18
log
@* Update maintainer email address.
* Add detailed option descriptions to pptp(8) man page.
* Move OpenBSD configuration examples from text file
  ${PREFIX}/share/doc/pptp/USING into pptp(8) man page,
  and remove patch to ${WRKSRC}/USING. Extend and
  revise examples while at it.
* Add patch to ${WRKSRC}/util.c to make pptp log normal
  informational messages with level LOG_INFO instead of LOG_NOTICE.
* Update pkg/DESCR with a new description based on upstream web site.
* Fix URL to list of pptp security flaws in pkg/MESSAGE.
* [Re-]Create patches with `make update-patches'.
* Add patch to ${WRKSRC}/pptp_gre.c to automatically enable
  the net.inet.gre.allow sysctl before trying to bind
  the GRE socket.
* Remove '@@sysctl net.inet.gre.allow=1' from PLIST.

From: maintainer Stefan Sperling
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/09/15 22:36:58 merdely Exp $
d6 1
a6 2
DISTNAME=	pptp-1.7.1
PKGNAME=	${DISTNAME}p0
d26 1
a26 1
DIRS=	Documentation Reference
@


1.17
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/11/12 10:10:09 grunk Exp $
d7 1
d13 1
a13 1
MAINTAINER=	Stefan Sperling <stsp@@stsp.in-berlin.de>
@


1.16
log
@Update to version 1.7.1, from new maintainer Stefan Sperling.
He also fixed wrong facts in the port's man page, updated MESSAGE accordingly,
removed an obsolete script, and improved the example configuration.

Thanks go to former maintainer Benoit LECOCQ, for having cared about the
port the time before.

ok sturm@@ and me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/10/03 12:53:50 grunk Exp $
d4 1
a4 1
COMMENT=	'PPTP client package for Microsoft VPN servers'
@


1.15
log
@detailed explanation how to use pptp on OpenBSD, with example
another fine input from Stefan Sperling <stsp at stsp dot in-berlin dot de>

maintainer timeout, ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/09/30 20:40:10 grunk Exp $
d6 1
a6 2
DISTNAME=	pptp-1.7.0
PKGNAME=	${DISTNAME}p1
d12 1
a12 1
MAINTAINER=	Benoit LECOCQ <blq@@arcane-labs.net>
a30 2
	@@cd ${WRKSRC}; sed -e s,PREFIX,${PREFIX}, < \
		${FILESDIR}/pptp_reconnect > pptp-reconnect
a34 1
	${INSTALL_SCRIPT} ${WRKSRC}/pptp-reconnect ${PREFIX}/sbin
@


1.14
log
@correct mentioning of ppp (instead of pppd, which is wrong) in pptp(8)
man page supplied by the port itself.

ok from maintainer and sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/01/29 18:40:18 sturm Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d34 1
@


1.13
log
@update to pptp 1.7.0

from new maintainer Benoit Lecocq <blq at arcane-labs.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/01/22 18:40:36 jolan Exp $
d7 1
@


1.12
log
@pass maintainership from waldemar brodkorb to interested parties as seen
on ports@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/10/01 07:40:33 alek Exp $
d6 1
a6 2
DISTNAME=	pptp-1.6.0
PKGNAME=	${DISTNAME}p0
@


1.11
log
@- Build with USER_PPP
- Bump PKGNAME

From Okan Demirmen <okan@@demirmen.com>

ok Waldemar Brodkorb <wbx@@openbsd.de> (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/03/24 00:57:58 naddy Exp $
d13 1
a13 1
MAINTAINER=	Waldemar Brodkorb <wbx@@openbsd.de>
@


1.10
log
@update to 1.6.0; from new maintainer Waldemar Brodkorb <wbx@@openbsd.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/12/16 00:31:24 alek Exp $
d7 1
d23 3
@


1.9
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2003/01/24 13:12:38 reinhard Exp $
d6 1
a6 2
DISTNAME=	pptp-linux-1.1.0-1
PKGNAME=	pptp-1.1.0
d12 1
a12 1
MAINTAINER=	Reinhard J. Sammer <reinhard@@openbsd.org>
d21 1
a21 2
WRKSRC=		${WRKDIST}/pptp-linux-1.1.0
REGRESS_TARGET=	vector_test
d27 1
a27 1
	    ${FILESDIR}/pptp_8 > pptp.8
d29 1
a29 4
	    ${FILESDIR}/pptp_reconnect > pptp-reconnect

post-extract:
	@@cd ${WRKDIST} && tar xzf pptp-linux-1.1.0.tar.gz
@


1.8
log
@*) -NO_REGRESS
*) honour CC/CFLAGS
*) update man page
as requested by fgs@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2003/01/24 11:49:21 reinhard Exp $
d20 1
@


1.7
log
@update to pptp-1.1.0;
thx fgs@@ for testing and tweaking
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/10/28 01:38:46 naddy Exp $
a42 2

NO_REGRESS=	Yes
@


1.6
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/03/21 21:09:20 espie Exp $
a4 2
DISTNAME=	pptp-linux-1.0.2
PKGNAME=	pptp-1.0.2
d6 2
d9 1
a9 1
MASTER_SITES= 	http://cag.lcs.mit.edu/~cananian/Synaptics/release/
d11 1
a11 1
HOMEPAGE=	http://cag.lcs.mit.edu/~cananian/Projects/PPTP/
d15 4
a18 3
PERMIT_PACKAGE_CDROM=   Yes 
PERMIT_PACKAGE_FTP=     Yes 
PERMIT_DISTFILES_CDROM= Yes 
d21 4
a24 10
# bbaa: workaround for buggy Alcatel ADSL 1000 modems
FLAVORS+=	bbaa
FLAVOR?= 

.if ${FLAVOR:L:Mbbaa}
# needs a slightly modified patch; backup default patch
pre-patch:
		@@cp -p ${PATCHDIR}/patch-pptc_ctrl_c ${PATCHDIR}/patch-pptc_ctrl_c.orig
		@@cp ${FILESDIR}/patch-pptc_ctrl_c ${PATCHDIR}/patch-pptc_ctrl_c
.endif
d27 16
a42 10
		@@cd ${WRKSRC}; sed -e s,PREFIX,${PREFIX}, \
			< ${FILESDIR}/pptp_8 > pptp.8
		@@cd ${WRKSRC}; sed -e s,PREFIX,${PREFIX}, \
			< ${FILESDIR}/pptp_reconnect > pptp-reconnect

.if ${FLAVOR:L:Mbbaa}
# move default patch back
post-install:
		@@mv ${PATCHDIR}/patch-pptc_ctrl_c.orig ${PATCHDIR}/patch-pptc_ctrl_c
.endif
@


1.5
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/07/25 04:17:49 obecian Exp $
d7 1
a7 1
NEED_VERSION=	1.515
d42 2
@


1.4
log
@Fix broken HOMEPAGE link
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/04/12 14:27:12 reinhard Exp $
d7 1
a7 1
NEED_VERSION=	1.394
@


1.3
log
@*) add NOTE about Alcatel ADSL modem vulnerabilities
*) nicer reconnect script
*) bump NEED_VERSION
*) integrate COMMENT
*) various cleanups (esp. for bbaa flavor)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/02/04 14:57:29 reinhard Exp $
d11 1
a11 1
HOMEPAGE=	http://cag.pdos.lcs.mit.edu/~cananian/Projects/PPTP/
@


1.2
log
@+FLAVOR bbaa (fix for Alcatel 1000 ADSL modem);
thanks reaction@@absolute.openbsd.at for testing
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/12/21 14:02:52 reinhard Exp $
d4 1
d7 1
a7 1
NEED_VERSION=	1.340
d20 1
d25 1
d27 1
a27 1
		@@cp ${PATCHDIR}/patch-pptc_ctrl_c ${PATCHDIR}/patch-pptc_ctrl_c.orig
a31 1
		@@cp files/pptp_8 files/pptp_reconnect ${WRKSRC}
d33 1
a33 1
			< pptp_8 > pptp.8
d35 7
a41 2
			< pptp_reconnect > pptp-reconnect
		@@rm ${WRKSRC}/pptp_8 ${WRKSRC}/pptp_reconnect
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d18 9
@


1.1.1.1
log
@pptp-linux is an implementation of the PPTP protocol for Linux and
other Unix systems.

port based on NetBSD package.

thanks karma@@altern.org and Alexander.Farber@@t-online.de for testing.
@
text
@@
