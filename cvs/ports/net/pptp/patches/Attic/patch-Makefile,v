head	1.9;
access;
symbols
	OPENBSD_5_6:1.8.0.18
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.8.0.16
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.8.0.14
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.8.0.12
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.8.0.10
	OPENBSD_5_2_BASE:1.8
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.8
	OPENBSD_5_0:1.8.0.6
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.8.0.4
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.8.0.2
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.7.0.4
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.2
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.6.0.2
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.5.0.12
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.10
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.5.0.8
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.6
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.4
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.5.0.2
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.4.0.2
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_2:1.2.0.8
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.6
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.4
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	reinhard_2000_Dec_21:1.1.1.1
	reinhard:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2014.10.08.16.44.58;	author stsp;	state dead;
branches;
next	1.8;
commitid	7jWfdOcvyxIGBB1b;

1.8
date	2010.07.14.11.04.15;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2009.03.08.21.57.24;	author stsp;	state Exp;
branches;
next	1.6;

1.6
date	2008.11.11.16.23.26;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2005.10.01.07.40.33;	author alek;	state Exp;
branches;
next	1.4;

1.4
date	2005.03.24.00.57.58;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2003.01.24.11.49.21;	author reinhard;	state dead;
branches;
next	1.2;

1.2
date	2001.03.16.18.02.12;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2000.12.21.14.04.09;	author reinhard;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.12.21.14.04.09;	author reinhard;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Send net/pptp to the attic. It requires an MPPE-capable ppp client
which we don't have in base anymore. No objections from ports@@
@
text
@$OpenBSD: patch-Makefile,v 1.8 2010/07/14 11:04:15 sthen Exp $
--- Makefile.orig	Wed May 14 08:33:55 2008
+++ Makefile	Tue Jul 13 23:52:52 2010
@@@@ -4,19 +4,19 @@@@ RELEASE=
 
 #################################################################
 # CHANGE THIS LINE to point to the location of your pppd binary.
-PPPD = /usr/sbin/pppd
+PPPD?= /usr/sbin/pppd
 #################################################################
 
 BINDIR=$(DESTDIR)/usr/sbin
 MANDIR=$(DESTDIR)/usr/share/man/man8
 PPPDIR=$(DESTDIR)/etc/ppp
 
-CC	= gcc
+CC?	= gcc
 RM	= rm -f
 OPTIMIZE= -O0
 DEBUG	= -g
 INCLUDE =
-CFLAGS  = -Wall $(OPTIMIZE) $(DEBUG) $(INCLUDE)
+CFLAGS?  = -Wall $(OPTIMIZE) $(DEBUG) $(INCLUDE)
 LIBS	= -lutil
 # Solaris 10
 # LIBS	= -lnsl -lsocket -lresolv
@@@@ -29,11 +29,11 @@@@ PPTP_BIN = pptp
 PPTP_OBJS = pptp.o pptp_gre.o ppp_fcs.o \
             pptp_ctrl.o dirutil.o vector.o \
 	    inststr.o util.o version.o test.o \
-	    pptp_quirks.o orckit_quirks.o pqueue.o pptp_callmgr.o routing.o \
+	    pptp_quirks.o orckit_quirks.o pqueue.o pptp_callmgr.o \
 	    pptp_compat.o
 
 PPTP_DEPS = pptp_callmgr.h pptp_gre.h ppp_fcs.h util.h test.h \
-	    pptp_quirks.h orckit_quirks.h config.h pqueue.h routing.h
+	    pptp_quirks.h orckit_quirks.h config.h pqueue.h
 
 all: config.h $(PPTP_BIN) pptpsetup.8
 
@


1.8
log
@- remove a patch to zap contents of a file which is already not being
built due to a Makefile patch. From Brad, ok stsp@@ (maintainer).

- don't use a header which is only needed because of the unused file,
from/commit req'd by stsp@@.

shouldn't affect the package, but bumped for safety.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.7 2009/03/08 21:57:24 stsp Exp $
@


1.7
log
@Fix build with gcc-2.95 (tested on sparc, simh-vax was too slow).

Remove some useless linux-specific code which tried to modify
the routing table by running "/bin/ip". Because this code has
no error checking and failed silently, no one noticed it.
Noticed it now because it didn't compile with gcc-2.95.

Don't install useless documentation.
Install useful notes on protocol insecurity instead.

Tweak the man page a little. Dunno if anyone is still using
Bezeq ADSL modems that need the --quirks option, but move
the information here just in case.

Clean up MESSAGE; don't shout at everybody about security holes
in a particular kind of modem that's almost 10 years old.

ok naddy@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.6 2008/11/11 16:23:26 naddy Exp $
--- Makefile.orig	Wed May 14 07:33:55 2008
+++ Makefile	Fri Mar  6 15:45:41 2009
d27 1
a27 1
@@@@ -29,7 +29,7 @@@@ PPTP_BIN = pptp
d36 5
@


1.6
log
@update to 1.7.2; from maintainer Stefan Sperling
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.5 2005/10/01 07:40:33 alek Exp $
--- Makefile.orig	Wed May 14 08:33:55 2008
+++ Makefile	Sat Sep 20 17:44:51 2008
d27 9
@


1.5
log
@- Build with USER_PPP
- Bump PKGNAME

From Okan Demirmen <okan@@demirmen.com>

ok Waldemar Brodkorb <wbx@@openbsd.de> (MAINTAINER)
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.4 2005/03/24 00:57:58 naddy Exp $
--- Makefile.orig	Thu Feb 17 20:42:23 2005
+++ Makefile	Thu Sep 29 09:54:57 2005
d25 2
a26 2
 LDFLAGS	=
 
@


1.4
log
@update to 1.6.0; from new maintainer Waldemar Brodkorb <wbx@@openbsd.de>
@
text
@d1 12
a12 4
$OpenBSD$
--- Makefile.orig	Sat Mar  5 16:17:49 2005
+++ Makefile	Sat Mar  5 16:18:02 2005
@@@@ -11,12 +11,12 @@@@ BINDIR=$(DESTDIR)/usr/sbin
@


1.3
log
@update to pptp-1.1.0;
thx fgs@@ for testing and tweaking
@
text
@d1 12
a12 10
--- Makefile.orig	Wed Feb 18 23:42:14 1998
+++ Makefile	Fri Mar 16 15:57:18 2001
@@@@ -1,10 +1,9 @@@@
 VERSION = 1.0.2
-VERSION_DEFINE = '-DPPTP_LINUX_VERSION="${VERSION}"'
+VERSION_DEFINE = '-DPPTP_LINUX_VERSION="${VERSION}"' -DPROGRAM_NAME='"pptp"'
 
-CC	= gcc -Wall
-DEBUG	= -g
+RM	= rm
d14 3
a16 3
-CFLAGS  = -O9 $(VERSION_DEFINE) $(DEBUG) $(INCLUDE)
+CFLAGS +=  $(VERSION_DEFINE) $(INCLUDE)
 LIBS	=
a18 32
@@@@ -24,7 +23,21 @@@@ CALLMGR_BIN = pptp_callmgr
 CALLMGR_OBJS = pptp_callmgr.o pptp_ctrl.o dirutil.o util.o vector.o version.o
 CALLMGR_DEPS = pptp_callmgr.h pptp_ctrl.h dirutil.h pptp_msg.h vector.h
 
-all: $(PPTP_BIN) $(CALLMGR_BIN)
+MANPAGE=pptp.8
+
+all: $(PPTP_BIN) $(CALLMGR_BIN) $(MANPAGE)
+
+install:
+	$(INSTALL) -c $(PPTP_BIN) ${PREFIX}/sbin/${PPTP_BIN}
+	$(INSTALL) -c $(CALLMGR_BIN) ${PREFIX}/sbin/${CALLMGR_BIN}
+	$(INSTALL) -c -m 755 pptp-reconnect ${PREFIX}/sbin/
+	$(INSTALL) -c -m 444 $(MANPAGE) ${PREFIX}/man/man8/$(MANPAGE)
+	mkdir -p ${PREFIX}/share/doc/pptp
+	$(INSTALL) -c -m 444 USING ${PREFIX}/share/doc/pptp/USING
+	$(INSTALL) -c -m 444 README ${PREFIX}/share/doc/pptp/README
+	$(INSTALL) -c -m 444 INSTALL ${PREFIX}/share/doc/pptp/INSTALL
+	$(INSTALL) -c -m 444 NEWS ${PREFIX}/share/doc/pptp/NEWS
+	tar cf - Reference Documentation |(cd ${PREFIX}/share/doc/pptp && tar xpBf -)
 
 $(PPTP_BIN): $(PPTP_OBJS) $(PPTP_DEPS)
 	$(CC) -o $(PPTP_BIN) $(PPTP_OBJS) $(LDFLAGS) $(LIBS)
@@@@ -36,7 +49,7 @@@@ vector_test: vector_test.o vector.o
 	$(CC) -o vector_test vector_test.o vector.o
 
 clean:
-	$(RM) *.o *~
+	$(RM) -f *.o *~
 
 clobber: clean
 	$(RM) $(PPTP_BIN) $(CALLMGR_BIN) vector_test
@


1.2
log
@respect CFLAGS, ok maintainer
@
text
@@


1.1
log
@Initial revision
@
text
@d2 2
a3 2
+++ Makefile	Thu Dec 14 16:09:48 2000
@@@@ -1,10 +1,11 @@@@
a9 1
+CC	= gcc -O2 
a10 1
+DEBUG	= -g -O2 # -O9
d13 1
a13 1
+CFLAGS  =  $(VERSION_DEFINE) $(DEBUG) $(INCLUDE)
d17 1
a17 1
@@@@ -24,7 +25,21 @@@@ CALLMGR_BIN = pptp_callmgr
d40 1
a40 1
@@@@ -36,7 +51,7 @@@@ vector_test: vector_test.o vector.o
@


1.1.1.1
log
@pptp-linux is an implementation of the PPTP protocol for Linux and
other Unix systems.

port based on NetBSD package.

thanks karma@@altern.org and Alexander.Farber@@t-online.de for testing.
@
text
@@
