head	1.3;
access;
symbols
	OPENBSD_5_6:1.2.0.18
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.16
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.14
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.12
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.10
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.8
	OPENBSD_5_0:1.2.0.6
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.4
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.1.0.4
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2014.10.08.16.44.58;	author stsp;	state dead;
branches;
next	1.2;
commitid	7jWfdOcvyxIGBB1b;

1.2
date	2010.07.14.11.04.15;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.08.21.57.24;	author stsp;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Send net/pptp to the attic. It requires an MPPE-capable ppp client
which we don't have in base anymore. No objections from ports@@
@
text
@$OpenBSD: patch-pptp_callmgr_c,v 1.2 2010/07/14 11:04:15 sthen Exp $
--- pptp_callmgr.c.orig	Wed May 14 08:33:55 2008
+++ pptp_callmgr.c	Tue Jul 13 23:52:46 2010
@@@@ -25,7 +25,6 @@@@
 #include "dirutil.h"
 #include "vector.h"
 #include "util.h"
-#include "routing.h"
 
 extern struct in_addr localbind; /* from pptp.c */
 
@@@@ -120,8 +119,6 @@@@ int callmgr_main(int argc, char **argv, char **envp)
     phonenr = argc == 3 ? argv[2] : NULL;
     if (inet_aton(argv[1], &inetaddr) == 0)
         fatal("Invalid IP address: %s", argv[1]);
-    routing_init(inet_ntoa(inetaddr));
-    routing_start();
     /* Step 1: Open sockets. */
     if ((inet_sock = open_inetsock(inetaddr)) < 0)
         fatal("Could not open control connection to %s", argv[1]);
@


1.2
log
@- remove a patch to zap contents of a file which is already not being
built due to a Makefile patch. From Brad, ok stsp@@ (maintainer).

- don't use a header which is only needed because of the unused file,
from/commit req'd by stsp@@.

shouldn't affect the package, but bumped for safety.
@
text
@d1 1
a1 1
$OpenBSD: patch-pptp_callmgr_c,v 1.1 2009/03/08 21:57:24 stsp Exp $
@


1.1
log
@Fix build with gcc-2.95 (tested on sparc, simh-vax was too slow).

Remove some useless linux-specific code which tried to modify
the routing table by running "/bin/ip". Because this code has
no error checking and failed silently, no one noticed it.
Noticed it now because it didn't compile with gcc-2.95.

Don't install useless documentation.
Install useful notes on protocol insecurity instead.

Tweak the man page a little. Dunno if anyone is still using
Bezeq ADSL modems that need the --quirks option, but move
the information here just in case.

Clean up MESSAGE; don't shout at everybody about security holes
in a particular kind of modem that's almost 10 years old.

ok naddy@@
@
text
@d1 12
a12 4
$OpenBSD$
--- pptp_callmgr.c.orig	Fri Mar  6 15:44:54 2009
+++ pptp_callmgr.c	Fri Mar  6 15:45:00 2009
@@@@ -120,8 +120,6 @@@@ int callmgr_main(int argc, char **argv, char **envp)
@

