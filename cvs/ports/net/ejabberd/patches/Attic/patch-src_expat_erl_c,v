head	1.2;
access;
symbols
	OPENBSD_5_0:1.1.0.4
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2011.11.22.17.11.07;	author gsoares;	state dead;
branches;
next	1.1;

1.1
date	2011.06.03.13.45.43;	author gsoares;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2011.06.03.13.50.06;	author gsoares;	state Exp;
branches;
next	;


desc
@@


1.2
log
@SECURITY update to ejabberd-2.1.9

Fix for CVE-2011-4320
(ejabberd "<publish>" Stanza Parsing Denial of Service Vulnerability)

ok viq(maintainer) sthen@@ jasper@@
@
text
@$OpenBSD: patch-src_expat_erl_c,v 1.1 2011/06/03 13:45:43 gsoares Exp $

Fix for SA44807, ejabberd Nested XML Entities Denial of Service Vulnerability.

from upstream git:
https://git.process-one.net/ejabberd/mainline/commit/bd1df027c622e1f96f9eeaac612a6a956c1ff0b6

--- src/expat_erl.c.orig	Mon Dec 13 08:21:26 2010
+++ src/expat_erl.c	Fri Jun  3 10:39:09 2011
@@@@ -113,6 +113,8 @@@@ static ErlDrvData expat_erl_start(ErlDrvPort port, cha
       d->parser, (XML_CharacterDataHandler)erlXML_CharacterDataHandler);
 
 
+   XML_SetDefaultHandler(d->parser, NULL);
+
    return (ErlDrvData)d;
 }
 
@


1.1
log
@Security Fix for SA44807, ejabberd Nested XML Entities Denial of Service Vulnerability

OK sthen@@ viq(MAINTAINER)
"looks fine" jasper@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@Security Fix for SA44807, ejabberd Nested XML Entities Denial of Service Vulnerability

OK sthen@@ viq(MAINTAINER)
"looks fine" jasper@@
@
text
@d9 1
a9 1
+++ src/expat_erl.c	Fri Jun  3 10:08:54 2011
@

