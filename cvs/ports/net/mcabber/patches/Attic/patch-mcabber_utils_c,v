head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2017.01.11.10.37.52;	author robert;	state dead;
branches
	1.1.2.1;
next	;
commitid	vUZgbEaZ9NzMJxVq;

1.1.2.1
date	2017.01.11.10.37.52;	author robert;	state Exp;
branches;
next	;
commitid	vUZgbEaZ9NzMJxVq;


desc
@@


1.1
log
@file patch-mcabber_utils_c was initially added on branch OPENBSD_6_0.
@
text
@@


1.1.2.1
log
@apply upstream patches for mcabber to fix CVE-2015-8688
@
text
@a0 16
$OpenBSD$

CVE-2015-8688

--- mcabber/utils.c.orig	Sat Feb 27 13:41:08 2016
+++ mcabber/utils.c	Wed Jan 11 11:36:04 2017
@@@@ -98,6 +98,9 @@@@ char *get_servername(const char *username, const char 
   char *ptr;
   char *server;
 
+  if (!username) {
+    return NULL;
+  }
   if ((ptr = strchr(username, JID_DOMAIN_SEPARATOR)) != NULL) {
     server = g_strdup(ptr+1);
     return server;
@

