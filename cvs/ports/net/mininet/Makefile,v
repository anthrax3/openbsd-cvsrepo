head	1.5;
access;
symbols
	OPENBSD_6_2:1.5.0.2
	OPENBSD_6_2_BASE:1.5
	akoshibe_20170821:1.1.1.1
	akoshibe:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2017.09.16.06.03.05;	author akoshibe;	state Exp;
branches;
next	1.4;
commitid	pTnDbTCktpnVcnwN;

1.4
date	2017.09.09.21.18.30;	author akoshibe;	state Exp;
branches;
next	1.3;
commitid	IQB9ZoaJzx0dg3xn;

1.3
date	2017.09.02.23.10.52;	author akoshibe;	state Exp;
branches;
next	1.2;
commitid	IR7wwU64SYEnEiRW;

1.2
date	2017.09.01.17.08.48;	author jasper;	state Exp;
branches;
next	1.1;
commitid	81zog6y0eGKuUQsY;

1.1
date	2017.08.21.18.47.12;	author akoshibe;	state Exp;
branches
	1.1.1.1;
next	;
commitid	XUM07MlWkdhZnQC8;

1.1.1.1
date	2017.08.21.18.47.12;	author akoshibe;	state Exp;
branches;
next	;
commitid	XUM07MlWkdhZnQC8;


desc
@@


1.5
log
@Move examples to /usr/local/share/examples.
Fix for bug introduced in last revision

OK phessler@@
@
text
@# $OpenBSD: Makefile,v 1.4 2017/09/09 21:18:30 akoshibe Exp $

COMMENT =	emulator for rapid prototyping of software defined networks

DISTNAME =	mininet-0.0.20170813
REVISION =	2
GH_ACCOUNT =	mininet
GH_PROJECT =	mininet
GH_COMMIT =	87e26ef931ee6063332ceba77db472140f832d3a

CATEGORIES =	net

HOMEPAGE =	http://mininet.org

MAINTAINER =	Ayaka Koshibe <akoshibe@@gmail.com>

# Custom BSD-3 clause-like
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =		c
MODULES =		lang/python
MODPY_SETUPTOOLS =	Yes
BUILD_DEPENDS =		devel/help2man
RUN_DEPENDS =		net/socat \
			net/iperf

MAKE_ENV =	BINDIR=${PREFIX}/bin \
		MANDIR=${PREFIX}/man/man1 \
		PKGDIR=${MODPY_SITEPKG} \
		PYTHON=${MODPY_BIN}
do-build:
	$(CC) ${WRKSRC}/mnexec.c -o ${WRKBUILD}/mnexec
	help2man -N -n "create a Mininet network."  --no-discard-stderr \
		"${MODPY_BIN} -B ${WRKBUILD}/bin/mn" -o ${WRKBUILD}/mn.1
	help2man -N -n "execution utility for Mininet."  -h "-h" -v "-v" \
		--no-discard-stderr ${WRKBUILD}/mnexec -o ${WRKBUILD}/mnexec.1

pre-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/mnexec ${PREFIX}/bin
.for m in mnexec mn
	${INSTALL_MAN} ${WRKBUILD}/$m.1 ${PREFIX}/man/man1
.endfor
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/mininet
	${INSTALL_DATA} ${WRKBUILD}/README.md ${PREFIX}/share/doc/mininet

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/mininet
.for f in examples/README.md examples/*.py
	${INSTALL_DATA} ${WRKSRC}/$f ${PREFIX}/share/examples/mininet
.endfor

.include <bsd.port.mk>
@


1.4
log
@Turn PID tracking on by default, and stop using 'pkill -f' to interrupt
processes. Also remove some debug prints.

OK phessler@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2017/09/02 23:10:52 akoshibe Exp $
d6 1
a6 1
REVISION =	1
d45 6
@


1.3
log
@removes the unneeded install notes and Linux and FreeBSD
-related files. Also do a bit of Makefile cleanup.

OK sthen@@ phessler@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2017/09/01 17:08:48 jasper Exp $
d6 1
a6 1
REVISION =	0
@


1.2
log
@tidy pre-install

ok akoshibe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2017/08/21 18:47:12 akoshibe Exp $
d6 1
d23 1
a23 2
BUILD_DEPENDS =		devel/help2man \
			devel/pep8
d25 1
a25 3
			net/iperf \
			devel/py-pexpect \
			devel/pyflakes
d27 2
a28 2
MAKE_ENV =	BINDIR=${LOCALBASE}/bin \
		MANDIR=${LOCALBASE}/man/man1 \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.76 2017/02/25 16:04:20 danj Exp $
d36 1
a36 1
	"${MODPY_BIN} -B ${WRKBUILD}/bin/mn" -o ${WRKBUILD}/mn.1
d38 1
a38 1
	--no-discard-stderr ${WRKBUILD}/mnexec -o ${WRKBUILD}/mnexec.1
d42 3
a44 2
	${INSTALL_MAN} ${WRKBUILD}/mnexec.1 ${PREFIX}/man/man1
	${INSTALL_MAN} ${WRKBUILD}/mn.1 ${PREFIX}/man/man1
d47 1
@


1.1.1.1
log
@Mininet creates a realistic virtual network, running real kernel, switch
and application code, on a single machine (VM, cloud or native), in
seconds, with a single command

Because you can easily interact with your network using the Mininet CLI
(and API), customize it, share it with others, or deploy it on real
hardware, Mininet is useful for development, teaching, and research.

This port is not connected to the build yet.

OK sthen@@ jasper@@ phessler@@

@
text
@@
