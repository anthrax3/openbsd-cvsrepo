head	1.4;
access;
symbols
	OPENBSD_5_4:1.3.0.4
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.2.0.6
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.4
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.0.8
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.6
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.4
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2013.08.09.04.45.21;	author gsoares;	state dead;
branches;
next	1.3;

1.3
date	2013.01.07.14.15.16;	author bentley;	state Exp;
branches;
next	1.2;

1.2
date	2011.03.02.15.06.04;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.26.17.38.26;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.4
log
@remove gcc2 remnants
@
text
@$OpenBSD: patch-ii_c,v 1.3 2013/01/07 14:15:16 bentley Exp $
--- ii.c.orig	Sat Jan  5 06:15:13 2013
+++ ii.c	Sun Jan  6 18:07:51 2013
@@@@ -389,8 +389,9 @@@@ static int read_line(int fd, size_t res_len, char *buf
 static void handle_channels_input(Channel *c) {
 	static char buf[PIPE_BUF];
 	if(read_line(c->fd, PIPE_BUF, buf) == -1) {
+		int fd;
 		close(c->fd);
-		int fd = open_channel(c->name);
+		fd = open_channel(c->name);
 		if(fd != -1)
 			c->fd = fd;
 		else
@


1.3
log
@Update to ii-1.7.

Changes since last release (http://lists.suckless.org/dev/1301/13945.html):

1.7 (2013-01-05)
    - -k now specifies an environment variable that contains the
      server key. This behaviour has been changed in order to not
      expose the password in the process list.
    - Fix parsing of JOIN messages for certain servers.
      Thanks Ivan Kanakarakis!
    - Use , rather than _ for slash characters in channel names.
      As per RFC , is not allowed in a channel name, while _ is.
      Thanks plomplomplom and Nils Dagsson Moskopp!

ok gsoares@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-ii_c,v 1.2 2011/03/02 15:06:04 jasper Exp $
@


1.2
log
@- don't do silent builds
- regen patches while here
@
text
@d1 4
a4 4
$OpenBSD: patch-ii_c,v 1.1 2009/03/26 17:38:26 naddy Exp $
--- ii.c.orig	Mon Jan 31 21:47:08 2011
+++ ii.c	Wed Mar  2 16:04:30 2011
@@@@ -395,8 +395,9 @@@@ static int read_line(int fd, size_t res_len, char *buf
@


1.1
log
@declare variable at top of block; fixes build with gcc2
@
text
@d1 4
a4 4
$OpenBSD$
--- ii.c.orig	Thu Mar 26 11:22:40 2009
+++ ii.c	Thu Mar 26 11:23:00 2009
@@@@ -394,8 +394,9 @@@@ static int read_line(int fd, size_t res_len, char *buf
@

