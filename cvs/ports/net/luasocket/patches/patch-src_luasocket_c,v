head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.14
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.12
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.8
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.10
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.6
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.2.0.16
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.14
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.12
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.10
	OPENBSD_5_0:1.2.0.8
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.6
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.4
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.1.0.16
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.14
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.12
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.10
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.8
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.6
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.4
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2013.11.25.15.27.56;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2009.08.22.20.28.40;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2005.11.25.15.09.44;	author pedro;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to luasocket-3.0rc1 to unbreak lua52 flavor.
Reported by tedu@@
ok jasper@@
@
text
@$OpenBSD: patch-src_luasocket_c,v 1.2 2009/08/22 20:28:40 robert Exp $
--- src/luasocket.c.orig	Fri Jun 14 13:27:32 2013
+++ src/luasocket.c	Fri Nov 15 10:48:31 2013
@@@@ -46,7 +46,7 @@@@ static const luaL_Reg mod[] = {
     {"auxiliar", auxiliar_open},
     {"except", except_open},
     {"timeout", timeout_open},
-    {"buffer", buffer_open},
+    {"buffer", ls_buffer_open},
     {"inet", inet_open},
     {"tcp", tcp_open},
     {"udp", udp_open},
@


1.2
log
@luasocket defines buffer_init(); which is common enough to be defined
elsewhere and it is defined in mod_magnet, so you end up with a SIGSEGV.
So rename buffer_* funcs to ls_buffer_*.
@
text
@d1 4
a4 4
$OpenBSD: patch-src_luasocket_c,v 1.1 2005/11/25 15:09:44 pedro Exp $
--- src/luasocket.c.orig	Sat Aug 22 22:18:38 2009
+++ src/luasocket.c	Sat Aug 22 22:19:02 2009
@@@@ -51,7 +51,7 @@@@ static const luaL_reg mod[] = {
@


1.1
log
@luasocket 2.0, okay jolan@@
@
text
@d1 12
a12 12
$OpenBSD$
--- src/luasocket.c.orig	Wed Nov 23 21:41:03 2005
+++ src/luasocket.c	Wed Nov 23 21:41:40 2005
@@@@ -21,7 +21,7 @@@@
 #include "lauxlib.h"
 
 #if !defined(LUA_VERSION_NUM) || (LUA_VERSION_NUM < 501)
-#include "compat-5.1.h"
+#include <luacompat.h>
 #endif
 
 /*=========================================================================*\
@

