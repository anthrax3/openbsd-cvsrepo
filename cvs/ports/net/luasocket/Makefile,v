head	1.34;
access;
symbols
	OPENBSD_6_0:1.33.0.2
	OPENBSD_6_0_BASE:1.33
	OPENBSD_5_9:1.31.0.2
	OPENBSD_5_9_BASE:1.31
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.30.0.2
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.29.0.2
	OPENBSD_5_6_BASE:1.29
	OPENBSD_5_5:1.26.0.2
	OPENBSD_5_5_BASE:1.26
	OPENBSD_5_4:1.24.0.2
	OPENBSD_5_4_BASE:1.24
	OPENBSD_5_3:1.22.0.4
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.22.0.2
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.8
	OPENBSD_5_0:1.19.0.6
	OPENBSD_5_0_BASE:1.19
	OPENBSD_4_9:1.19.0.4
	OPENBSD_4_9_BASE:1.19
	OPENBSD_4_8:1.19.0.2
	OPENBSD_4_8_BASE:1.19
	OPENBSD_4_7:1.18.0.2
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.15.0.4
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.2
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.14.0.2
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.13.0.2
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.11.0.2
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.9.0.2
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.7.0.2
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	pedro_20041216:1.1.1.1
	pedro:1.1.1;
locks; strict;
comment	@# @;


1.34
date	2016.10.16.23.21.23;	author jca;	state Exp;
branches;
next	1.33;
commitid	sOqqEJCjNHgeOrYE;

1.33
date	2016.06.07.11.55.24;	author jca;	state Exp;
branches;
next	1.32;
commitid	NDOHlqvCCoPVu8mn;

1.32
date	2016.03.18.20.49.28;	author naddy;	state Exp;
branches;
next	1.31;
commitid	8GBp5gQa5BLeR7Ti;

1.31
date	2015.04.05.13.31.14;	author sthen;	state Exp;
branches;
next	1.30;
commitid	1hQJnDR1GYYQ0MPE;

1.30
date	2015.02.10.08.44.32;	author jasper;	state Exp;
branches;
next	1.29;
commitid	Y2tRyB0mWjSbYliT;

1.29
date	2014.07.11.08.54.57;	author sthen;	state Exp;
branches;
next	1.28;
commitid	6t19GQPvG02ZGIee;

1.28
date	2014.07.11.07.42.10;	author espie;	state Exp;
branches;
next	1.27;
commitid	3BIowreiV1RYqPAO;

1.27
date	2014.07.10.11.06.37;	author rpe;	state Exp;
branches;
next	1.26;
commitid	UVCzewnjNLIrNVIt;

1.26
date	2013.11.25.16.12.58;	author dcoppa;	state Exp;
branches;
next	1.25;

1.25
date	2013.11.25.15.27.56;	author dcoppa;	state Exp;
branches;
next	1.24;

1.24
date	2013.05.30.16.17.11;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2013.03.11.11.35.48;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2012.07.10.15.22.45;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2012.05.15.20.36.28;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2012.05.15.15.16.05;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2010.06.18.18.11.34;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2009.09.06.13.46.58;	author jolan;	state Exp;
branches;
next	1.17;

1.17
date	2009.08.22.20.28.40;	author robert;	state Exp;
branches;
next	1.16;

1.16
date	2009.08.14.20.35.32;	author jsg;	state Exp;
branches;
next	1.15;

1.15
date	2008.11.04.04.06.45;	author jsg;	state Exp;
branches;
next	1.14;

1.14
date	2008.06.11.05.04.37;	author landry;	state Exp;
branches;
next	1.13;

1.13
date	2007.09.15.22.36.55;	author merdely;	state Exp;
branches;
next	1.12;

1.12
date	2007.08.05.12.34.33;	author mbalmer;	state Exp;
branches;
next	1.11;

1.11
date	2006.12.17.20.13.33;	author kili;	state Exp;
branches;
next	1.10;

1.10
date	2006.09.23.18.05.31;	author pedro;	state Exp;
branches;
next	1.9;

1.9
date	2006.07.30.04.42.52;	author pedro;	state Exp;
branches;
next	1.8;

1.8
date	2006.04.12.18.41.36;	author pedro;	state Exp;
branches;
next	1.7;

1.7
date	2006.02.10.18.07.37;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2006.01.21.01.32.40;	author jolan;	state Exp;
branches;
next	1.5;

1.5
date	2005.11.26.13.46.56;	author pedro;	state Exp;
branches;
next	1.4;

1.4
date	2005.11.25.15.09.44;	author pedro;	state Exp;
branches;
next	1.3;

1.3
date	2005.09.10.17.32.15;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2005.04.19.15.14.38;	author pedro;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.16.13.38.12;	author pedro;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.12.16.13.38.12;	author pedro;	state Exp;
branches;
next	;


desc
@@


1.34
log
@Add explicit lua52/lua53 FLAVORS where supported.

Discussed on ports@@, sthen@@ agrees with the direction.
@
text
@# $OpenBSD: Makefile,v 1.33 2016/06/07 11:55:24 jca Exp $

COMMENT=	network support for the lua language
V=		3.0-rc1
GH_ACCOUNT=	diegonehab
GH_PROJECT=	luasocket
GH_TAGNAME=	v$V
REVISION=	1
DISTNAME=	${GH_PROJECT}-$V
PKGNAME=	${DISTNAME:S/-rc/rc/}
CATEGORIES=	net

HOMEPAGE=	http://w3.impa.br/~diego/software/luasocket/

# MIT
PERMIT_PACKAGE_CDROM=	Yes

MODULES=	lang/lua

FLAVORS=	lua52 lua53
FLAVOR?=

NO_TEST=	Yes

USE_GMAKE=	Yes

MAKE_FILE=	makefile

MAKE_FLAGS=	CC_linux=${CC} \
		LD_linux=${CC} \
		CFLAGS_linux="${CFLAGS} -I${MODLUA_INCL_DIR} -fPIC \
			      -DPIC -DUNIX_HAS_SUN_LEN \
			      -DLUA_COMPAT_APIINTCASTS" \
		LDFLAGS_linux="${LDFLAGS} -shared -fPIC -o "

do-install:
	${INSTALL_DATA_DIR} ${MODLUA_DATADIR}/socket ${MODLUA_DATADIR}/mime
	${INSTALL_DATA_DIR} ${MODLUA_LIBDIR}/socket ${MODLUA_LIBDIR}/mime
	${INSTALL_DATA_DIR} ${MODLUA_DOCDIR} ${MODLUA_EXAMPLEDIR}
	${INSTALL_DATA} ${WRKSRC}/src/socket.so ${MODLUA_LIBDIR}/socket/core.so
	${INSTALL_DATA} ${WRKSRC}/src/unix.so ${MODLUA_LIBDIR}/socket/unix.so
	${INSTALL_DATA} ${WRKSRC}/src/mime.so ${MODLUA_LIBDIR}/mime/core.so
.for l in ltn12 socket mime
	${INSTALL_DATA} ${WRKSRC}/src/$l.lua ${MODLUA_DATADIR}
.endfor
.for l in http url tp ftp headers smtp
	${INSTALL_DATA} ${WRKSRC}/src/$l.lua ${MODLUA_DATADIR}/socket
.endfor
	${INSTALL_DATA} ${WRKSRC}/doc/* ${MODLUA_DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/samples/* ${MODLUA_EXAMPLEDIR}

.include <bsd.port.mk>
@


1.33
log
@Add compat for lua53, from Florian Stinglmayr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2016/03/18 20:49:28 naddy Exp $
d19 4
@


1.32
log
@remove SHARED_ONLY from simple lua ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/04/05 13:31:14 sthen Exp $
d8 1
a8 1
REVISION=	0
d28 2
a29 1
			      -DPIC -DUNIX_HAS_SUN_LEN" \
@


1.31
log
@drop GH_COMMIT lines which are hidden behind GH_TAGNAME,
discussed with a few in the room.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.30 2015/02/10 08:44:32 jasper Exp $

SHARED_ONLY=	Yes
@


1.30
log
@install missing headers.lua as spotted by tedu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/07/11 08:54:57 sthen Exp $
a9 1
GH_COMMIT=	22cd5833fcc0e272f26004a79c8545e959ba406b
@


1.29
log
@no need to override WRKDIST, bsd.port.mk commitid igFubl5pDlghiMqJ handles this
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/07/11 07:42:10 espie Exp $
d11 1
d41 6
a46 8
	${INSTALL_DATA} ${WRKSRC}/src/socket.lua ${MODLUA_DATADIR}
	${INSTALL_DATA} ${WRKSRC}/src/ltn12.lua ${MODLUA_DATADIR}
	${INSTALL_DATA} ${WRKSRC}/src/mime.lua ${MODLUA_DATADIR}
	${INSTALL_DATA} ${WRKSRC}/src/ftp.lua ${MODLUA_DATADIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/http.lua ${MODLUA_DATADIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/smtp.lua ${MODLUA_DATADIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/tp.lua ${MODLUA_DATADIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/url.lua ${MODLUA_DATADIR}/socket
@


1.28
log
@another broken thing
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/07/10 11:06:37 rpe Exp $
a12 1
WRKDIST =	${WRKDIR}/${DISTNAME}
@


1.27
log
@Move ports that used filename{url}sufx to fetch DISTFILES from
Github to GH_ACCOUNT, GH_PROJECT, GH_TAGNAME, GH_COMMIT.

OK sthen@@ jasper@@ aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/11/25 16:12:58 dcoppa Exp $
d13 1
@


1.26
log
@De-uglify
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/11/25 15:27:56 dcoppa Exp $
d6 6
a11 2
GH_VER=		v3.0-rc1
DISTNAME=	luasocket-${GH_VER:S/v//}
a13 3

MASTER_SITES=	https://github.com/diegonehab/luasocket/archive/
DISTFILES=	${DISTNAME}${EXTRACT_SUFX}{${GH_VER}${EXTRACT_SUFX}}
@


1.25
log
@Update to luasocket-3.0rc1 to unbreak lua52 flavor.
Reported by tedu@@
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/05/30 16:17:11 jasper Exp $
d26 5
a30 2
pre-configure:
	${SUBST_CMD} ${WRKSRC}/src/makefile
@


1.24
log
@unbreak with lua 5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/11 11:35:48 espie Exp $
d6 3
a8 2
DISTNAME=	luasocket-2.0.2
REVISION=	3
d11 4
a14 2
MASTER_SITES=	http://luaforge.net/frs/download.php/2664/
HOMEPAGE=	http://www.tecgraf.puc-rio.br/~diego/professional/luasocket/
d22 2
d27 1
a27 3
	${SUBST_CMD} ${WRKSRC}/config
	# Prevent patching every single file..
	perl -pi -e 's,luaL_reg,luaL_Reg,g' ${WRKSRC}/src/*.[ch]
@


1.23
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/07/10 15:22:45 jasper Exp $
d7 1
a7 1
REVISION=	2
d23 2
@


1.22
log
@handle multiple lua versions, for now everything builds with the "old" 5.1 in the new location.
use FLAVOR=lua52 to use lua 5.2 with these ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/05/15 20:36:28 jasper Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d17 1
a17 1
NO_REGRESS=	Yes
@


1.21
log
@fold PFRAG.shared into PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/05/15 15:16:05 jasper Exp $
d7 1
a7 1
REVISION=	1
d23 3
@


1.20
log
@adjust to new lua.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/06/18 18:11:34 jasper Exp $
d7 1
a7 1
REVISION=	0
@


1.19
log
@- sync with lua.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/09/06 13:46:58 jolan Exp $
d7 1
d27 1
a27 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/luasocket
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/luasocket
d39 2
a40 2
	${INSTALL_DATA} ${WRKSRC}/doc/* ${PREFIX}/share/doc/luasocket
	${INSTALL_DATA} ${WRKSRC}/samples/* ${PREFIX}/share/examples/luasocket
@


1.18
log
@update to 2.0.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/08/22 20:28:40 robert Exp $
a21 2
SHAREDIR=	${PREFIX}/share/lua/5.1
LIBDIR=		${PREFIX}/lib/lua/5.1
d24 2
a25 2
	${INSTALL_DATA_DIR} ${SHAREDIR}/socket ${SHAREDIR}/mime
	${INSTALL_DATA_DIR} ${LIBDIR}/socket ${LIBDIR}/mime
d28 11
a38 11
	${INSTALL_DATA} ${WRKSRC}/src/socket.so ${LIBDIR}/socket/core.so
	${INSTALL_DATA} ${WRKSRC}/src/unix.so ${LIBDIR}/socket/unix.so
	${INSTALL_DATA} ${WRKSRC}/src/mime.so ${LIBDIR}/mime/core.so
	${INSTALL_DATA} ${WRKSRC}/src/socket.lua ${SHAREDIR}
	${INSTALL_DATA} ${WRKSRC}/src/ltn12.lua ${SHAREDIR}
	${INSTALL_DATA} ${WRKSRC}/src/mime.lua ${SHAREDIR}
	${INSTALL_DATA} ${WRKSRC}/src/ftp.lua ${SHAREDIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/http.lua ${SHAREDIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/smtp.lua ${SHAREDIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/tp.lua ${SHAREDIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/url.lua ${SHAREDIR}/socket
@


1.17
log
@luasocket defines buffer_init(); which is common enough to be defined
elsewhere and it is defined in mod_magnet, so you end up with a SIGSEGV.
So rename buffer_* funcs to ls_buffer_*.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/08/14 20:35:32 jsg Exp $
d6 1
a6 2
DISTNAME=	luasocket-2.0.1
PKGNAME=	${DISTNAME}p4
d9 2
a10 2
MASTER_SITES=	http://luaforge.net/frs/download.php/1589/
HOMEPAGE=	http://www.cs.princeton.edu/~diego/professional/luasocket/
@


1.16
log
@We need to define -DUNIX_HAS_SUN_LEN for AF_UNIX sockets to
get initialised correctly.

From Daniel Silverstone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/11/04 04:06:45 jsg Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
@


1.15
log
@Support additional HTTP redirections (303 and 307).
"yes please" martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/06/11 05:04:37 landry Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.14
log
@Convert existing lua-related ports to use new lang/lua MODULE, and bump
PKGNAMEs.

ok wcmaier@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/09/15 22:36:55 merdely Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.13
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/08/05 12:34:33 mbalmer Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d19 1
a20 3

RUN_DEPENDS=	:lua->=5.1:lang/lua
BUILD_DEPENDS=	${RUN_DEPENDS}
@


1.12
log
@Remove Pedro Martelleto as MAINTAINER per his own request.

ok espie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/12/17 20:13:33 kili Exp $
d5 1
a5 1
COMMENT=	"network support for the lua language"
@


1.11
log
@
Swap RUN_DEPENDS and BUILD_DEPENDS.

ok dassow@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/09/23 18:05:31 pedro Exp $
d7 1
a11 2

MAINTAINER=	Pedro Martelletto <pedro@@openbsd.org>
@


1.10
log
@Update to LuaSocket 2.0.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/07/30 04:42:52 pedro Exp $
d22 2
a23 2
BUILD_DEPENDS=	:lua->=5.1:lang/lua
RUN_DEPENDS=	${BUILD_DEPENDS}
@


1.9
log
@Switch to Lua 5.1, okay jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/04/12 18:41:36 pedro Exp $
d6 1
a6 2
DISTNAME=	luasocket-2.0
PKGNAME=	${DISTNAME}p3
d9 1
a9 1
MASTER_SITES=	http://luaforge.net/frs/download.php/1097/
a21 2
WANTLIB=	m

d35 1
@


1.8
log
@Remove integer type hacks, okay jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/02/10 18:07:37 steven Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
d25 2
a26 2
LIB_DEPENDS=	lua,lualib::lang/lua \
		luacompat::devel/luacompat
d29 2
a30 7

post-extract:
	@@sed -e "s:@@socketpath@@:${PREFIX}/lua/luasocket/?.lua:g" \
	     -e "s:@@socketcpath@@:${PREFIX}/lua/luasocket/?.so:g" \
		${FILESDIR}/init.lua > ${WRKSRC}/init.lua

LUASOCKETDIR= ${PREFIX}/lua/luasocket
d33 2
a34 3
	${INSTALL_DATA_DIR} ${LUASOCKETDIR}
	${INSTALL_DATA_DIR} ${LUASOCKETDIR}/socket
	${INSTALL_DATA_DIR} ${LUASOCKETDIR}/mime
d37 10
a46 11
	${INSTALL_DATA} ${WRKSRC}/src/socket.so ${LUASOCKETDIR}/socket/core.so
	${INSTALL_DATA} ${WRKSRC}/src/mime.so ${LUASOCKETDIR}/mime/core.so
	${INSTALL_DATA} ${WRKSRC}/init.lua ${LUASOCKETDIR}
	${INSTALL_DATA} ${WRKSRC}/src/socket.lua ${LUASOCKETDIR}
	${INSTALL_DATA} ${WRKSRC}/src/ltn12.lua ${LUASOCKETDIR}
	${INSTALL_DATA} ${WRKSRC}/src/mime.lua ${LUASOCKETDIR}
	${INSTALL_DATA} ${WRKSRC}/src/ftp.lua ${LUASOCKETDIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/http.lua ${LUASOCKETDIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/smtp.lua ${LUASOCKETDIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/tp.lua ${LUASOCKETDIR}/socket
	${INSTALL_DATA} ${WRKSRC}/src/url.lua ${LUASOCKETDIR}/socket
@


1.7
log
@add missing libraries in WANTLIB and LIB_DEPENDS which also makes build/run
depends unnecessary in this case.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/01/21 01:32:40 jolan Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.6
log
@if LUA_NUMBER is int then use msecs, otherwise default to allowing
subsecond timeouts via floating point numbers

ok pedro@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/11/26 13:46:56 pedro Exp $
d3 1
a3 1
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d23 4
a26 3
BUILD_DEPENDS=	::lang/lua ::devel/luacompat
RUN_DEPENDS=	${BUILD_DEPENDS}
LIB_DEPENDS=	luacompat::devel/luacompat
@


1.5
log
@Sigh, distfile moved and changed *after* the release announcement was
made. How nice. First spotted by sturm@@, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/11/25 15:09:44 pedro Exp $
d7 1
@


1.4
log
@luasocket 2.0, okay jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/09/10 17:32:15 espie Exp $
d9 1
a9 1
MASTER_SITES=	http://luaforge.net/frs/download.php/1095/
@


1.3
log
@Tsk, tsk. Missing LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/04/19 15:14:38 pedro Exp $
d6 1
a6 2
DISTNAME=	luasocket-2.0-beta3
PKGNAME=	${DISTNAME:S/0-b/0b/}p0
a7 1
MASTER_SITES=	${HOMEPAGE}
d9 1
d26 1
a26 1
MAKE_FILE=	makefile.Linux	# heh, yeah, linux, sure...
d30 1
a30 1
	     -e "s:@@socketcpath@@:${PREFIX}/lib/?.so:g" \
d33 2
d36 3
a38 2
	${INSTALL_DATA_DIR} ${PREFIX}/lua/luasocket
	${INSTALL_DATA_DIR} ${PREFIX}/lua/luasocket/socket
d41 13
a53 13
	${INSTALL_DATA} ${WRKSRC}/luasocket*.so.*.* ${PREFIX}/lib/luasocket.so
	${INSTALL_DATA} ${WRKSRC}/luamime*.so* ${PREFIX}/lib/luamime.so
	${INSTALL_DATA} ${WRKSRC}/init.lua ${PREFIX}/lua/luasocket
	${INSTALL_DATA} ${WRKSRC}/lua/socket.lua ${PREFIX}/lua/luasocket
	${INSTALL_DATA} ${WRKSRC}/lua/ltn12.lua ${PREFIX}/lua/luasocket
	${INSTALL_DATA} ${WRKSRC}/lua/mime.lua ${PREFIX}/lua/luasocket
	${INSTALL_DATA} ${WRKSRC}/lua/ftp.lua ${PREFIX}/lua/luasocket/socket
	${INSTALL_DATA} ${WRKSRC}/lua/http.lua ${PREFIX}/lua/luasocket/socket
	${INSTALL_DATA} ${WRKSRC}/lua/smtp.lua ${PREFIX}/lua/luasocket/socket
	${INSTALL_DATA} ${WRKSRC}/lua/tp.lua ${PREFIX}/lua/luasocket/socket
	${INSTALL_DATA} ${WRKSRC}/lua/url.lua ${PREFIX}/lua/luasocket/socket
	${INSTALL_DATA} ${WRKSRC}/manual/* ${PREFIX}/share/doc/luasocket
	${INSTALL_DATA} ${WRKSRC}/examples/* ${PREFIX}/share/examples/luasocket
@


1.2
log
@upgrade to luasocket 2.0-beta3, okay jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/12/16 13:38:12 pedro Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME:S/0-b/0b/}
d25 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
DISTNAME=	luasocket-2.0-beta2
d11 1
a11 1
HOMEPAGE=	http://www.tecgraf.puc-rio.br/~diego/luasocket/
d23 1
a23 1
BUILD_DEPENDS=	::lang/lua
d30 1
d32 1
a32 1
	
d35 1
d39 10
a48 3
	${INSTALL_DATA} ${WRKSRC}/mime*.so* ${PREFIX}/lib/mime.so
	${INSTALL_DATA} ${WRKSRC}/lua/*.lua ${PREFIX}/lua/luasocket
	${INSTALL_DATA} ${WRKSRC}/etc/*.lua ${PREFIX}/lua/luasocket
a50 1
	${INSTALL_DATA} ${WRKSRC}/init.lua ${PREFIX}/lua/luasocket
@


1.1.1.1
log
@network support for the lua language, ok jolan@@
@
text
@@
