head	1.2;
access;
symbols
	OPENBSD_3_3:1.1.0.2
	OPENBSD_3_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2003.05.23.16.30.37;	author jakob;	state dead;
branches;
next	1.1;

1.1
date	2003.01.25.14.14.37;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.2
log
@remove bind9 port. no longer maintained. also comes with 3.3.
@
text
@$OpenBSD: patch-lib_dns_rdataset_c,v 1.1 2003/01/25 14:14:37 jakob Exp $
--- lib/dns/rdataset.c.orig	Tue Jun  5 11:23:14 2001
+++ lib/dns/rdataset.c	Tue Jan 21 08:55:13 2003
@@@@ -363,7 +363,11 @@@@ towiresorted(dns_rdataset_t *rdataset, d
 			/*
 			 * "Cyclic" order.
 			 */
-			unsigned int j = (((unsigned int)rand()) >> 3) % count;
+			isc_uint32_t val;
+			unsigned int j;
+
+			isc_random_get(&val);
+			j = val % count;
 			for (i = 0; i < count; i++) {
 				sorted[j].key = 0; /* Unused */
 				sorted[j].rdata = &shuffled[i];
@


1.1
log
@split into -libs and -server packages
sync patches with OpenBSD-current
use autoconf to regenerate configure script
do not installed examples (soon part of base)
remove the bind9-{enable,disable} scripts
@
text
@d1 1
a1 1
$OpenBSD$
@

