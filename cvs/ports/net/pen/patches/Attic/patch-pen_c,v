head	1.4;
access;
symbols
	argp_20020429:1.1.1.1 pen:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2002.07.19.17.40.24;	author pvalchev;	state dead;
branches;
next	1.3;

1.3
date	2002.07.12.17.01.15;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2002.06.30.00.08.04;	author wcobb;	state Exp;
branches;
next	1.1;

1.1
date	2002.04.29.03.18.20;	author wcobb;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.04.29.03.18.20;	author wcobb;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to pen-0.9.5; from maintainer argp@@ieee.org
@
text
@$OpenBSD: patch-pen_c,v 1.3 2002/07/12 17:01:15 pvalchev Exp $
--- pen.c.orig	Wed Jul 10 19:26:49 2002
+++ pen.c	Fri Jul 12 10:59:24 2002
@@@@ -1084,7 +1084,7 @@@@ static int open_listener(char *a)
 		*p = '\0';
 		port = getport(p+1);
 		setipaddress(&serv_addr.sin_addr, b);
-		sprintf(b, inet_ntoa(serv_addr.sin_addr));
+		snprintf(b, (sizeof(b) - 1), "%s", inet_ntoa(serv_addr.sin_addr));
 	} else {
 		port = getport(a);
 		serv_addr.sin_addr.s_addr = htonl(INADDR_ANY);
@


1.3
log
@Update to pen-0.9.4; from maintainer Patroklos Argyroudis
@
text
@d1 1
a1 1
$OpenBSD: patch-pen_c,v 1.2 2002/06/30 00:08:04 wcobb Exp $
@


1.2
log
@pen 0.9.2 update.
from maintainer Patroklos Argyroudis <argp at ieee.org>; ok pvalchev@@
@
text
@d1 4
a4 4
$OpenBSD: patch-pen_c,v 1.1.1.1 2002/04/29 03:18:20 wcobb Exp $
--- pen.c.orig	Sat Jun 29 13:57:59 2002
+++ pen.c	Sat Jun 29 14:01:55 2002
@@@@ -1054,7 +1054,7 @@@@
@


1.1
log
@Initial revision
@
text
@d1 4
a4 10
$OpenBSD$
--- pen.c.orig	Thu Sep 13 12:47:33 2001
+++ pen.c	Thu Sep 13 12:55:37 2001
@@@@ -641,12 +641,12 @@@@ static int open_listener(char *a)
 	serv_addr.sin_family = AF_INET;
 	p = strchr(a, ':');
 	if (p) {
-		strcpy(b, a);
+		strlcpy(b, a, sizeof(b));
 		p = strchr(b, ':');
d9 1
a9 1
+		snprintf(b, (sizeof(b) - 1), inet_ntoa(serv_addr.sin_addr));
@


1.1.1.1
log
@pen, from Patroklos Argyroudis <argp@@bsd.gr>.
  
pen allows several servers to appear as one to the outside and
automatically detects servers that are down and distributes clients
among the available servers.
  
ok pvalchev@@.
@
text
@@
