head	1.44;
access;
symbols
	OPENBSD_6_1:1.43.0.4
	OPENBSD_6_1_BASE:1.43
	OPENBSD_6_0:1.43.0.2
	OPENBSD_6_0_BASE:1.43
	OPENBSD_5_9:1.40.0.2
	OPENBSD_5_9_BASE:1.40
	OPENBSD_5_8:1.34.0.4
	OPENBSD_5_8_BASE:1.34
	OPENBSD_5_7:1.32.0.2
	OPENBSD_5_7_BASE:1.32
	OPENBSD_5_6:1.29.0.2
	OPENBSD_5_6_BASE:1.29
	OPENBSD_5_5:1.27.0.4
	OPENBSD_5_5_BASE:1.27
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.26.0.2
	OPENBSD_5_3_BASE:1.26
	OPENBSD_5_2:1.20.0.2
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.2
	OPENBSD_5_0:1.14.0.2
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	jolan_20090906:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.44
date	2017.05.14.16.36.55;	author danj;	state Exp;
branches;
next	1.43;
commitid	flPmDzhr6w8AOahN;

1.43
date	2016.05.16.12.11.48;	author jca;	state Exp;
branches;
next	1.42;
commitid	8Pr0Y9Ak34x5dAa9;

1.42
date	2016.03.24.12.28.42;	author jca;	state Exp;
branches;
next	1.41;
commitid	DAxmjqyLrlLpJSsl;

1.41
date	2016.03.18.20.49.28;	author naddy;	state Exp;
branches;
next	1.40;
commitid	8GBp5gQa5BLeR7Ti;

1.40
date	2016.02.16.21.42.43;	author sthen;	state Exp;
branches;
next	1.39;
commitid	fXeyLXNkOWWCJ2gs;

1.39
date	2016.01.29.12.13.55;	author sthen;	state Exp;
branches;
next	1.38;
commitid	NysfWLazBekk5usd;

1.38
date	2016.01.27.21.10.19;	author sthen;	state Exp;
branches;
next	1.37;
commitid	vpbzyGJ59Gj7s3ul;

1.37
date	2016.01.27.21.06.05;	author sthen;	state Exp;
branches;
next	1.36;
commitid	yeuz3Q4pqwoUbF0Z;

1.36
date	2016.01.11.12.11.36;	author sthen;	state Exp;
branches;
next	1.35;
commitid	lqi9QVbsTGPM6q0J;

1.35
date	2015.08.23.11.01.49;	author jca;	state Exp;
branches;
next	1.34;
commitid	OMkkJ2oC6NB7sW3k;

1.34
date	2015.04.04.11.42.17;	author edd;	state Exp;
branches
	1.34.4.1;
next	1.33;
commitid	y7AvXrVFQq6d4WvE;

1.33
date	2015.04.03.15.23.57;	author edd;	state Exp;
branches;
next	1.32;
commitid	pHhVD8rq0A3w8NlB;

1.32
date	2015.01.15.11.13.21;	author edd;	state Exp;
branches
	1.32.2.1;
next	1.31;
commitid	3nclN6FbuEHW7Ydk;

1.31
date	2014.11.27.08.12.51;	author landry;	state Exp;
branches;
next	1.30;
commitid	DRBI1Z7OfGTcYt97;

1.30
date	2014.10.27.13.41.17;	author jasper;	state Exp;
branches;
next	1.29;
commitid	MjgBsLmPDGU4jN0V;

1.29
date	2014.06.17.16.08.53;	author jasper;	state Exp;
branches
	1.29.2.1;
next	1.28;
commitid	QKmk1LJfuQYc8TDp;

1.28
date	2014.04.23.17.59.01;	author jca;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.11.11.35.55;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2012.10.31.17.19.39;	author gsoares;	state Exp;
branches;
next	1.25;

1.25
date	2012.10.08.09.11.35;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2012.10.05.14.38.09;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2012.09.14.21.51.19;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2012.08.06.09.50.50;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2012.08.04.15.28.14;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2012.07.10.15.22.45;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2012.07.09.10.01.20;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2012.05.15.18.28.36;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2012.04.22.11.41.55;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2012.01.26.10.32.06;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2012.01.26.10.27.15;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2011.08.01.02.13.45;	author jolan;	state Exp;
branches;
next	1.13;

1.13
date	2011.06.02.13.41.40;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.19.22.31.37;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.11.16.27.55;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.10.23.35.41;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.10.19.25.25;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.18.18.36.56;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2010.07.26.18.11.42;	author jolan;	state Exp;
branches;
next	1.6;

1.6
date	2010.07.26.01.25.54;	author jolan;	state Exp;
branches;
next	1.5;

1.5
date	2010.07.25.23.42.25;	author jolan;	state Exp;
branches;
next	1.4;

1.4
date	2009.12.07.01.16.09;	author jolan;	state Exp;
branches;
next	1.3;

1.3
date	2009.10.02.17.36.53;	author jolan;	state Exp;
branches;
next	1.2;

1.2
date	2009.09.11.16.59.23;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2009.09.06.18.40.57;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.09.06.18.40.57;	author jolan;	state Exp;
branches;
next	;

1.29.2.1
date	2015.04.04.11.36.18;	author edd;	state Exp;
branches;
next	;
commitid	6fKVVI1JGJaM3Q4u;

1.32.2.1
date	2015.04.04.11.38.52;	author edd;	state Exp;
branches;
next	;
commitid	QP899uOjz6ktSHrx;

1.34.4.1
date	2016.01.11.12.15.57;	author jasper;	state Exp;
branches;
next	1.34.4.2;
commitid	mKceXs40bNc6xneR;

1.34.4.2
date	2016.01.29.13.36.14;	author jasper;	state Exp;
branches;
next	;
commitid	V2reS5tPkOK6HiFu;


desc
@@


1.44
log
@Update to prosody-0.9.12

From Henrik Friedrichsen (maintainer)
@
text
@# $OpenBSD: Makefile,v 1.43 2016/05/16 12:11:48 jca Exp $

COMMENT=	communications server for Jabber/XMPP written in Lua
DISTNAME=	prosody-0.9.12
CATEGORIES=	net
MASTER_SITES=	http://prosody.im/downloads/source/

HOMEPAGE=	http://prosody.im/

MAINTAINER=	Henrik Friedrichsen <henrik@@diff.cc>

# MIT
PERMIT_PACKAGE_CDROM=	Yes

USE_GMAKE=	Yes
MODULES=	lang/lua
LIB_DEPENDS=	devel/libidn
MODLUA_RUN_DEPENDS+= archivers/luazlib \
		databases/luadbi \
		devel/luafs \
		security/luasec \
		textproc/luaexpat>=1.3.0
TEST_DEPENDS =	${MODLUA_RUN_DEPENDS}
WANTLIB+=	crypto idn

SUBST_VARS+=	FLAVOR MAKE_PROGRAM

CONFIGURE_STYLE=simple
CONFIGURE_ARGS+=--prefix="${PREFIX}" \
		--sysconfdir="${SYSCONFDIR}/prosody" \
		--datadir="${VARBASE}/prosody" \
		--with-lua="${LOCALBASE}" \
		--with-lua-include="${MODLUA_INCL_DIR}" \
		--c-compiler="${CC}" \
		--linker="${CC}" \
		--ldflags="-I/usr/include -I${LOCALBASE}/include -L/usr/lib -L${LOCALBASE}/lib -shared" \
		--cflags="${CFLAGS} -I${LOCALBASE}/include -fPIC"

FAKE_FLAGS+=	CONFIG=${DESTDIR}${PREFIX}/share/examples/prosody

pre-configure:
	${SUBST_CMD} ${WRKSRC}/certs/Makefile
	cd ${WRKSRC}; sed -i -e 's,^#!/usr/bin/env lua,#!${MODLUA_BIN},' -e \
		's,^lua ,${MODLUA_BIN} ,' prosody prosodyctl tests/run_tests.sh

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/prosody
	${INSTALL_DATA} ${WRKSRC}/README \
		${PREFIX}/share/doc/prosody
	touch ${PREFIX}/share/examples/prosody/prosody.log
	rm -f ${PREFIX}/share/examples/prosody/certs/Makefile.*

do-test:
	cd ${WRKSRC}/tests && sh run_tests.sh 0

.include <bsd.port.mk>
@


1.43
log
@Drop dep on luaevent, use_libevent is broken.

Discussed with maintainer, if use_libevent is set prosody exits almost
immediately after entering the event loop.  Our luaevent port is
probably too old and needs to be fixed.  luaevent may be re-added to
rdeps when fixed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2016/03/24 12:28:42 jca Exp $
d4 1
a4 2
DISTNAME=	prosody-0.9.10
REVISION=	2
d31 1
a31 1
		--datadir="/var/prosody" \
@


1.42
log
@Workaround for prosody / luasec-0.6 incompatibility.

Before that, prosody would fail to load luasec, resulting in no TLS
support available.  Diff cooked by Henrik Friedrichsen (maintainer),
ok gsoares@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2016/03/18 20:49:28 naddy Exp $
d5 1
a5 1
REVISION=	1
a20 1
		devel/luaevent \
@


1.41
log
@remove SHARED_ONLY from simple lua ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2016/02/16 21:42:43 sthen Exp $
d5 1
a5 1
REVISION=	0
@


1.40
log
@add MySQL notes to README (it needs LD_PRELOAD libpthread).
ok Henrik Friedrichsen (maintainer), giovanni@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.39 2016/01/29 12:13:55 sthen Exp $

SHARED_ONLY=	Yes
@


1.39
log
@security update to prosody-0.9.10, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2016/01/27 21:10:19 sthen Exp $
d7 1
@


1.38
log
@repair previous; run_tests.sh was ^lua not #!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2016/01/27 21:06:05 sthen Exp $
d6 1
a6 1
DISTNAME=	prosody-0.9.9
@


1.37
log
@"patch + SUBST_CMD" -> "sed -i" for prosody's #! lines, no pkg change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2016/01/11 12:11:36 sthen Exp $
d6 1
a6 1
DISTNAME =	prosody-0.9.9
d46 2
a47 2
	cd ${WRKSRC}; sed -i 's,^#!/usr/bin/env lua,#!${MODLUA_BIN},' \
		prosody prosodyctl tests/run_tests.sh
@


1.36
log
@security update to Prosody 0.9.9, from maintainer Henrik Friedrichsen
(plus, compared to Henrik's diff, reinstate some make/MAKE_PROGRAM patches)

- mod_http_files could serve requests outside of the configured public root
- server-to-server dialback authentication (mod_dialback) weak RNG
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2015/08/23 11:01:49 jca Exp $
d45 3
a47 3
	${SUBST_CMD} ${WRKSRC}/prosody ${WRKSRC}/prosodyctl \
		${WRKSRC}/certs/Makefile \
		${WRKSRC}/tests/run_tests.sh
@


1.35
log
@Document the correct luadbi PostgreSQL package name.

From Adam Wolk, ok Henrik Friedrichsen (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2015/04/04 11:42:17 edd Exp $
d6 1
a6 2
DISTNAME =	prosody-0.9.8
REVISION =	1
@


1.34
log
@net/prosody: enable tests.

OK jasper@@, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/04/03 15:23:57 edd Exp $
d7 1
a7 1
REVISION =	0
@


1.34.4.1
log
@security update to Prosody 0.9.9, from maintainer Henrik Friedrichsen
(plus, compared to Henrik's diff, reinstate some make/MAKE_PROGRAM patches)

- mod_http_files could serve requests outside of the configured public root
- server-to-server dialback authentication (mod_dialback) weak RNG
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2016/01/11 12:11:36 sthen Exp $
d6 2
a7 1
DISTNAME =	prosody-0.9.9
@


1.34.4.2
log
@security update to prosody-0.9.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34.4.1 2016/01/11 12:15:57 jasper Exp $
d6 1
a6 1
DISTNAME =	prosody-0.9.10
@


1.33
log
@Update to prosody-0.9.8.

Security update .

From MAINTAINER, OK jca@@. Thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/01/15 11:13:21 edd Exp $
d7 1
d27 1
a31 2
NO_TEST=	Yes

d47 2
a48 1
		${WRKSRC}/certs/Makefile
d56 3
@


1.32
log
@Update to prosody-0.9.7.

MAINTAINER has tested and is happy. Input from sthen.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2014/11/27 08:12:51 landry Exp $
d6 1
a6 1
DISTNAME =	prosody-0.9.7
@


1.32.2.1
log
@net/prosody: Apply fix for CVE-2015-2059 to OPENBSD_5_7.

OK jasper@@, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/01/15 11:13:21 edd Exp $
a6 1
REVISION =	0
@


1.31
log
@Enable posix module, otherwise the default config doesn't work.
While here enable compression module since we enforce dependency on
luazlib. We dont enable libevent use by default since it seems broken
(reported as https://code.google.com/p/lxmppd/issues/detail?id=452)

ok MAINTAINER jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2014/10/27 13:41:17 jasper Exp $
d6 1
a6 1
DISTNAME=	prosody-0.9.6
a8 1
REVISION =	0
@


1.30
log
@- update to prosody-0.9.6

from Henrik Friedrichsen (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/06/17 16:08:53 jasper Exp $
d9 1
@


1.29
log
@tighten dependency on luaexpat, as recommended by upstream

ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/04/23 17:59:01 jca Exp $
d6 1
a6 2
DISTNAME=	prosody-0.9.4
REVISION=	0
@


1.29.2.1
log
@net/prosody: Apply fix for CVE-2015-2059 to OPENBSD_5_6.

OK jasper@@, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/06/17 16:08:53 jasper Exp $
d7 1
a7 1
REVISION=	1
@


1.28
log
@Update to prosody-0.9.4, from Henrik Friedrichsen <henrik@@diff.cc> (new
maintainer) and a few tweaks by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/03/11 11:35:55 espie Exp $
d7 1
d26 1
a26 1
		textproc/luaexpat
@


1.27
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/10/31 17:19:39 gsoares Exp $
d6 1
a6 1
DISTNAME=	prosody-0.8.2
a8 1
REVISION=	9
d12 1
a12 1
MAINTAINER=	Wiktor Izdebski <vicviq@@gmail.com>
d54 1
@


1.26
log
@zap SUBST_VARS=${MODLUA_BIN} since it is now taken care of lua.port.mk

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/10/08 09:11:35 jasper Exp $
a15 2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a16 1
PERMIT_PACKAGE_FTP=	Yes
d31 1
a31 1
NO_REGRESS=	Yes
@


1.25
log
@- fixup the commands in the cert/Makefile
- adjust permissions on the default certificates so that prosody can use them

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/10/05 14:38:09 jasper Exp $
a22 1
SUBST_VARS=	MODLUA_BIN
@


1.24
log
@  - Use the more common '.crt' extension for certificates and fix
      an inconsistency along the way.

      ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/09/14 21:51:19 jasper Exp $
d9 1
a9 1
REVISION=	8
d33 1
a33 1
SUBST_VARS+=	FLAVOR
d51 2
a52 1
	${SUBST_CMD} ${WRKSRC}/prosody ${WRKSRC}/prosodyctl
@


1.23
log
@- no need for groff
- use MODLUA_RUN_DEPENDS so we pull in the right lua flavors
- add dependency on luadbi
- mention luadbi in the README

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/08/06 09:50:50 sthen Exp $
d9 1
a9 1
REVISION=	7
@


1.22
log
@use MODLUA_BIN to unbreak
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/08/04 15:28:14 ajacoutot Exp $
d9 1
a9 1
REVISION=	6
a21 1
USE_GROFF =	Yes
d25 2
a26 1
RUN_DEPENDS+=	archivers/luazlib \
d32 4
@


1.21
log
@Set rc_usercheck to NO.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/07/10 15:22:45 jasper Exp $
d9 1
a9 1
REVISION=	5
d24 1
@


1.20
log
@handle multiple lua versions, for now everything builds with the "old" 5.1 in the new location.
use FLAVOR=lua52 to use lua 5.2 with these ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/05/15 18:28:36 jasper Exp $
d9 1
a9 1
REVISION=	4
@


1.19
log
@fix lua dependency
@
text
@d9 1
a9 1
REVISION=	3
d37 1
d41 1
a41 1
		--cflags="${CFLAGS} -fPIC"
@


1.18
log
@various lua tweaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/04/22 11:41:55 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
d24 1
a24 2
LIB_DEPENDS=	devel/libidn \
		${MODLUA_LIB_DEPENDS}
d30 1
a30 1
WANTLIB+=	crypto idn ${MODLUA_WANTLIB}
@


1.17
log
@Use RCDIR instead of /etc/rc.d when refering to packages rc scripts.

discussed with espie and sthen
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/01/26 10:32:06 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
d25 1
a25 1
		lang/lua
d31 1
a31 1
WANTLIB+=	crypto idn lua
@


1.16
log
@Sort, no functionnal change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/01/26 10:27:15 sthen Exp $
d9 1
a9 1
REVISION=	0
@


1.15
log
@update to prosody 0.8.2, from viq (taking MAINTAINER).
feedback from aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/08/01 02:13:45 jolan Exp $
d9 1
@


1.14
log
@remove myself as maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/06/02 13:41:40 ajacoutot Exp $
d6 1
a6 2
DISTNAME=	prosody-0.7.0
REVISION=	5
d12 2
d39 1
d43 3
@


1.13
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/19 22:31:37 espie Exp $
d7 1
a7 1
REVISION=	4
a11 2

MAINTAINER=	Jolan Luff <jolan@@openbsd.org>
@


1.12
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/11/11 16:27:55 espie Exp $
d7 1
a7 1
REVISION=	3
@


1.11
log
@new WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/10 23:35:41 ajacoutot Exp $
d24 7
a30 7
LIB_DEPENDS=	::devel/libidn \
		::lang/lua
RUN_DEPENDS+=	::archivers/luazlib \
		::devel/luaevent \
		::devel/luafs \
		::security/luasec \
		::textproc/luaexpat
@


1.10
log
@Trailing line.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/10 19:25:25 jasper Exp $
d24 2
a25 2
LIB_DEPENDS=	idn::devel/libidn \
		lua::lang/lua
d31 1
a31 1
WANTLIB+=	crypto
@


1.9
log
@- switch to pkg-readmes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/18 18:36:56 espie Exp $
d7 1
a7 1
REVISION=	2
@


1.8
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/07/26 18:11:42 jolan Exp $
d7 1
a7 1
REVISION=	1
d46 1
a46 3
	@@sed -e s#_SYSCONFDIR_#${SYSCONFDIR}#g ${FILESDIR}/README.OpenBSD > \
		${WRKBUILD}/README.OpenBSD
	${INSTALL_DATA} ${WRKBUILD}/README.OpenBSD ${WRKSRC}/README \
@


1.7
log
@- switch to using the built-in privilege dropping
- provide a better default config
- fix some bugs when using the control program
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/07/26 01:25:54 jolan Exp $
d22 1
@


1.6
log
@depend on luazlib since the optional compression module uses it
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/07/25 23:42:25 jolan Exp $
d7 1
a7 1
REVISION=	0
a27 1
		::devel/luaposix \
d49 1
@


1.5
log
@update to 0.7.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/12/07 01:16:09 jolan Exp $
d7 1
d25 2
a26 1
RUN_DEPENDS+=	::devel/luaevent \
@


1.4
log
@update to 0.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/10/02 17:36:53 jolan Exp $
d6 1
a6 1
DISTNAME=	prosody-0.6.1
d24 2
a25 1
RUN_DEPENDS+=	::devel/luafs \
@


1.3
log
@update to 0.5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/09/11 16:59:23 jolan Exp $
d6 1
a6 1
DISTNAME=	prosody-0.5.2
d24 2
a25 1
RUN_DEPENDS+=	::devel/luaposix \
@


1.2
log
@missing RUN_DEPENDS on luasec
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/09/06 18:40:57 jolan Exp $
d6 1
a6 2
DISTNAME=	prosody-0.5.1
PKGNAME=	prosody-0.5.1p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
d26 1
@


1.1.1.1
log
@prosody-0.5.1, communications server for Jabber/XMPP written in Lua
@
text
@@
