head	1.30;
access;
symbols
	OPENBSD_3_3:1.28.0.2
	OPENBSD_3_3_BASE:1.28
	OPENBSD_3_2:1.26.0.4
	OPENBSD_3_2_BASE:1.26
	OPENBSD_3_1:1.26.0.2
	OPENBSD_3_1_BASE:1.26
	OPENBSD_3_0:1.23.0.2
	OPENBSD_3_0_BASE:1.23
	OPENBSD_2_9_TRACKING_SWITCH:1.22
	OPENBSD_2_9:1.22.0.2
	OPENBSD_2_9_BASE:1.22
	OPENBSD_2_8:1.19.0.2
	OPENBSD_2_8_BASE:1.19
	OPENBSD_2_7:1.16.0.2
	OPENBSD_2_7_BASE:1.16
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5;
locks; strict;
comment	@# @;


1.30
date	2003.05.23.16.29.14;	author jakob;	state dead;
branches;
next	1.29;

1.29
date	2003.04.10.18.08.56;	author jsyn;	state Exp;
branches;
next	1.28;

1.28
date	2002.12.29.21.14.10;	author fgsch;	state Exp;
branches;
next	1.27;

1.27
date	2002.12.12.14.57.59;	author jakob;	state Exp;
branches;
next	1.26;

1.26
date	2002.03.23.20.41.51;	author lebel;	state Exp;
branches
	1.26.2.1
	1.26.4.1;
next	1.25;

1.25
date	2002.03.21.21.09.19;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2002.03.06.23.48.32;	author lebel;	state Exp;
branches;
next	1.23;

1.23
date	2001.10.06.10.35.14;	author ho;	state Exp;
branches;
next	1.22;

1.22
date	2001.03.24.19.55.43;	author jakob;	state Exp;
branches;
next	1.21;

1.21
date	2001.01.29.14.48.05;	author ho;	state Exp;
branches;
next	1.20;

1.20
date	2000.11.11.13.22.23;	author ho;	state Exp;
branches;
next	1.19;

1.19
date	2000.10.22.14.03.33;	author espie;	state Exp;
branches
	1.19.2.1;
next	1.18;

1.18
date	2000.07.17.19.21.48;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2000.06.16.23.06.09;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2000.04.23.15.40.01;	author jakob;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2000.03.25.10.29.23;	author ho;	state Exp;
branches;
next	1.14;

1.14
date	2000.03.24.22.11.50;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.03.05.23.00.31;	author jakob;	state Exp;
branches;
next	1.12;

1.12
date	2000.02.17.14.28.48;	author ho;	state Exp;
branches;
next	1.11;

1.11
date	2000.02.11.00.37.32;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	99.12.17.17.56.30;	author ho;	state Exp;
branches;
next	1.9;

1.9
date	99.12.06.15.45.01;	author ho;	state Exp;
branches;
next	1.8;

1.8
date	99.11.14.22.39.16;	author jakob;	state Exp;
branches;
next	1.7;

1.7
date	99.11.14.21.17.54;	author turan;	state Exp;
branches;
next	1.6;

1.6
date	99.10.29.12.54.22;	author ho;	state Exp;
branches;
next	1.5;

1.5
date	99.10.06.18.54.48;	author jakob;	state Exp;
branches;
next	1.4;

1.4
date	99.10.06.18.52.18;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	99.10.04.17.13.24;	author ho;	state Exp;
branches;
next	1.2;

1.2
date	99.10.04.16.31.19;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	99.09.23.11.32.45;	author ho;	state Exp;
branches;
next	;

1.16.2.1
date	2000.09.15.05.08.46;	author marc;	state Exp;
branches;
next	;

1.19.2.1
date	2000.11.20.13.48.47;	author espie;	state Exp;
branches;
next	1.19.2.2;

1.19.2.2
date	2001.03.01.12.55.31;	author naddy;	state Exp;
branches;
next	;

1.26.2.1
date	2002.12.12.14.59.12;	author jakob;	state Exp;
branches;
next	;

1.26.4.1
date	2002.12.12.14.59.29;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.30
log
@remove bind8 port, broken and no longer maintained.
@
text
@# $OpenBSD: Makefile,v 1.29 2003/04/10 18:08:56 jsyn Exp $

BROKEN=		"Insecure, use net/bind9 instead"

COMMENT=	"Berkeley Internet Name Daemon"

DISTNAME=	bind-openbsd-8.2.5-20011006
PKGNAME=	bind-8.2.5
CATEGORIES=	net

MASTER_SITES=	ftp://ftp.gsnig.org/pub/openbsd-bind/ \
		ftp://ftp.sekure.net/pub/gsnig/openbsd-bind/

MAINTAINER=	Hakan Olsson <ho@@openbsd.org>, Jakob Schlyter <jakob@@openbsd.org>

# XXX workaround gcc bugs on sparc64
.if ${MACHINE_ARCH:Msparc64}
PATCH_LIST=     gcc-* patch-*
.endif

WRKDIST=	${WRKDIR}/named
PREFIX=		/
SAMPLEDIR=	${DESTDIR}/usr/local/share/examples/bind8

RESTRICTED=		"Unclear status of crypto components."

PERMIT_PACKAGE_CDROM=   "Unclear status of crypto components."
PERMIT_PACKAGE_FTP=     "Unclear status of crypto components."
PERMIT_DISTFILES_CDROM= "Unclear status of crypto components."
PERMIT_DISTFILES_FTP=   "Unclear status of crypto components."

pre-install:
	@@${SH} ${PKGDIR}/INSTALL ${DISTNAME} PRE-INSTALL

post-install:
	mkdir -p ${SAMPLEDIR}
	cp ${WRKSRC}/etc/namedb/named.* ${SAMPLEDIR}

pre-fake:
	@@mkdir -p ${WRKINST}/usr/share/man/cat{1,5,8} ${WRKINST}/usr/share/misc 
	@@mkdir -p ${WRKINST}/usr/sbin ${WRKINST}/usr/libexec

.include <bsd.port.mk>
@


1.29
log
@quote COMMENTs; ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2002/12/29 21:14:10 fgsch Exp $
@


1.28
log
@finally, no more NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2002/12/12 14:57:59 jakob Exp $
d5 1
a5 1
COMMENT=	Berkeley Internet Name Daemon
@


1.27
log
@mark BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2002/03/23 20:41:51 lebel Exp $
a9 1
NEED_VERSION=	1.515
@


1.26
log
@only compile sha.c with -O0 on sparc64, not the whole port.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.25 2002/03/21 21:09:19 espie Exp $
@


1.26.4.1
log
@mark broken
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.26 2002/03/23 20:41:51 lebel Exp $

BROKEN=		"Insecure, use net/bind9 instead" 
@


1.26.2.1
log
@mark broken
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.26 2002/03/23 20:41:51 lebel Exp $

BROKEN=		"Insecure, use net/bind9 instead" 
@


1.25
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/03/06 23:48:32 lebel Exp $
d17 1
a17 1
CFLAGS+=        -O0
@


1.24
log
@XXX workaround a gcc optimization bug on sparc64 (for sha1.o)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/10/06 10:35:14 ho Exp $
d8 1
a8 1
NEED_VERSION=	1.363
@


1.23
log
@Go to BIND-8.2.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/10/06 10:20:19 ho Exp $
d14 5
@


1.22
log
@move COMMENT into Makefile & touch NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/01/29 14:48:05 ho Exp $
d5 2
a6 2
DISTNAME=	bind-openbsd-8.2.3-20010129
PKGNAME=	bind-8.2.3
@


1.21
log
@BIND 8.2.3
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.20 2000/11/11 13:22:23 ho Exp $
d8 2
a9 1
NEED_VERSION=	1.317
@


1.20
log
@Update to 8.2.2-P7, which fixes the recent ZXFR DoS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/10/22 14:03:33 espie Exp $
d3 2
a4 2
DISTNAME=	bind-openbsd-8.2.2-P6-19991217
PKGNAME=	bind-8.2.2-P7
@


1.19
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/07/17 19:21:48 espie Exp $
d4 1
a4 1
PKGNAME=	bind-8.2.2-P6
@


1.19.2.1
log
@Fixes DoS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/10/22 14:03:33 espie Exp $
d4 1
a4 1
PKGNAME=	bind-8.2.2-P7
@


1.19.2.2
log
@MFC: update to 8.2.3, fixes DoS; requested by ho@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/01/29 14:48:05 ho Exp $
d3 2
a4 2
DISTNAME=	bind-openbsd-8.2.3-20010129
PKGNAME=	bind-8.2.3
@


1.18
log
@Don't create dirs in the wrong place.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/06/16 23:06:09 espie Exp $
d10 1
a10 1
MAINTAINER=	ho@@openbsd.org,jakob@@openbsd.org
@


1.17
log
@Remove NO_CONFIGURE/NO_PATCH/NO_EXTRACT/NO_MTREE

Kill corresponding FAKE=Yes and switch to CONFIGURE_STYLE while I'm at it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/04/23 15:40:01 jakob Exp $
d6 1
a6 1
NEED_VERSION=	1.197
d23 1
a23 1
pre-install pre-package:
a34 1

@


1.16
log
@MASTER_SITES changed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/03/25 10:29:23 ho Exp $
a13 3
FAKE=		yes
NO_MTREE=	yes
NO_CONFIGURE=	yes
@


1.16.2.1
log
@bring net as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/07/17 19:21:48 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.317
d14 3
d26 1
a26 1
pre-install:
d38 1
@


1.15
log
@Follow the current trend and 'fake' this.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/03/24 22:11:50 espie Exp $
d7 1
a7 1
MASTER_SITES=	ftp://ftp.gsnig.net/pub/openbsd-bind/ \
@


1.14
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/03/05 23:00:31 jakob Exp $
d14 1
d32 4
a35 1
	@@${SH} ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL ${SAMPLEDIR}
@


1.13
log
@fix license info
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/02/17 14:28:48 ho Exp $
d6 1
a8 1
NEED_VERSION=	1.197
@


1.12
log
@Add licensing/packaging info.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/02/11 00:37:32 espie Exp $
a17 1
LICENSE_TYPE=		CRYPTO
d19 1
@


1.11
log
@Use WRKDIST where appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/12/17 17:56:30 ho Exp $
d8 1
a8 1
NEED_VERSION=	1.191
d12 1
a12 1
WRKDIST=		${WRKDIR}/named
d16 1
a16 2
NO_CDROM=	"CRYPTO: Unclear status of crypto components."
RESTRICTED=	"Unclear status of crypto components."
d18 6
a23 1
SAMPLEDIR=	${DESTDIR}/usr/local/share/examples/bind8
@


1.10
log
@Update to 8.2.2-P6-19991217. Marked unbroken. Add missing DESTDIRs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/12/06 15:45:01 ho Exp $
d8 1
d12 1
a12 1
WRKSRC=		${WRKDIR}/named
@


1.9
log
@Marked broken. Currently a server running a signed zone can be crashed
(DOS) by recieving a SIG record request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/11/14 22:39:16 jakob Exp $
d3 2
a4 2
DISTNAME=	bind-openbsd-8.2.2-P5
PKGNAME=	bind-8.2.2-P5
a10 2
BROKEN=		"A server running a signed zone can be DOS-ed"

d18 1
a18 1
SAMPLEDIR=	/usr/local/share/examples/bind8
@


1.8
log
@Update to BIND v8.2.2-P5. Mark unbroken.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/11/14 21:17:54 turan Exp $
d10 2
@


1.7
log
@mark broken, SEVERE SECURITY PROBLEMS.  Do not use until fixed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/10/29 12:54:22 ho Exp $
d3 2
a4 4
BROKEN=		SEVERE SECURITY PROBLEMS.  Do not use until fixed.

DISTNAME=	bind-19991020-snapshot
PKGNAME=	bind-8.2.2
@


1.6
log
@Update to 8.2.2. Minor port/pkg mods.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.5 1999/10/06 18:54:48 jakob Exp $
@


1.5
log
@typo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/10/06 18:52:18 jakob Exp $
d3 2
a4 2
DISTNAME=	bind-19991004-snapshot
PKGNAME=	bind-8.2.2-t4b
d18 2
a21 1
	@@cp ${WRKSRC}/etc/namedb/named.* /var/named/inst-sample
d24 3
a26 4
	@@${SH} ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL

post-package:
	@@rm -rf /var/named/inst-sample
@


1.4
log
@another mirror added. ok espie@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/10/04 17:13:24 ho Exp $
d7 1
a7 1
		ftp://ftp.sekure.net/pub/gsnig/ftp.gsnig.net/pub/openbsd-bind/
@


1.3
log
@Update to 8.2.2-t4b
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/10/04 16:31:19 espie Exp $
d6 2
a7 1
MASTER_SITES=	ftp://ftp.gsnig.net/pub/openbsd-bind/
@


1.2
log
@Until jakob@@ et al make up their mind.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 1999/09/23 11:32:45 ho Exp $
d3 2
a4 2
DISTNAME=	bind-19990828-snapshot
PKGNAME=	bind-8.2.2-t3b
a7 1
BROKEN="Security holes discovered. Update pending"
@


1.1
log
@bind 8.2.2 t3b
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/09/21 09:44:53 ho Exp $
d8 1
@

