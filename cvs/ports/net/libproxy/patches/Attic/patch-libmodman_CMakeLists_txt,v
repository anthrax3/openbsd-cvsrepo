head	1.3;
access;
symbols
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.4
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2012.10.12.13.01.15;	author sthen;	state dead;
branches;
next	1.2;

1.2
date	2012.03.29.14.58.24;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.24.06.50.09;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@SECURITY update to libproxy 0.4.9; CVE-2012-4504, buffer overflow in PAC
processing.

While there, remove unnecessary patches (some fixed upstream, some workarounds
for header problems which have since been cleaned up, and change the "Build the
pacrunner into libproxy" patch into -DBIPR:BOOL=OFF in CONFIGURE_ARGS instead).

ok ajacoutot@@
@
text
@$OpenBSD: patch-libmodman_CMakeLists_txt,v 1.2 2012/03/29 14:58:24 ajacoutot Exp $
--- libmodman/CMakeLists.txt.orig	Mon Jun  6 23:44:37 2011
+++ libmodman/CMakeLists.txt	Thu Mar 29 11:30:02 2012
@@@@ -12,7 +12,7 @@@@ add_library(modman STATIC
             module_manager.hpp
             module_manager.cpp)
 if(NOT WIN32)
-  target_link_libraries(modman dl)
+  target_link_libraries(modman)
 endif()
 
 ### Tests
@


1.2
log
@Update to libproxy-0.4.7.
Moves from gconf to gsettings.
Comment the mozilla FLAVOR for now as it requires a newer xulrunner.
@
text
@d1 1
a1 1
$OpenBSD: patch-libmodman_CMakeLists_txt,v 1.1 2011/03/24 06:50:09 ajacoutot Exp $
@


1.1
log
@Major update to libproxy-0.4.6.
Several patches from the FreeBSD port.

Create -mozilla and -webkit subpackages. Do NOT build -webkit by default
because of a cyclic dependency:
libproxy,-webkit -> webkit -> libsoup -> libproxy

tested in a bulk by landry@@
ok landry@@
@
text
@d1 4
a4 4
$OpenBSD$
--- libmodman/CMakeLists.txt.orig	Wed Sep  1 22:23:34 2010
+++ libmodman/CMakeLists.txt	Tue Mar 22 09:36:04 2011
@@@@ -12,9 +12,9 @@@@ add_library(modman SHARED
a10 3
-set_target_properties(modman PROPERTIES PREFIX "lib" VERSION 1.0.0 SOVERSION 1)
+set_target_properties(modman PROPERTIES PREFIX "lib" VERSION ${LIBmodman_VERSION})
 install(TARGETS modman DESTINATION ${LIB_INSTALL_DIR})
@

