head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2013.04.12.21.44.53;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2013.03.14.10.19.38;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to NSCA-ng 1.1
@
text
@$OpenBSD: patch-src_server_conf_c,v 1.1 2013/03/14 10:19:38 sthen Exp $

From 979cf50ed690221d2d4ee419cc0f4e67c34179a3 Mon Sep 17 00:00:00 2001
From: Stuart Henderson <stu@@spacehopper.org>
Date: Wed, 13 Mar 2013 12:16:40 +0100
Subject: Add a directive to chroot(2) at startup

Allow the user to specify a directory the server should chroot(2) into
on startup.

--- src/server/conf.c.orig	Wed Mar  6 09:04:14 2013
+++ src/server/conf.c	Thu Mar 14 10:18:28 2013
@@@@ -78,6 +78,7 @@@@ conf_parse(const char *path)
 	};
 	cfg_opt_t opts[] = {
 		CFG_FUNC("include", cfg_include),
+		CFG_STR("chroot", NULL, CFGF_NODEFAULT),
 		CFG_STR("command_file", DEFAULT_COMMAND_FILE, CFGF_NONE),
 		CFG_STR("listen", DEFAULT_LISTEN, CFGF_NONE),
 		CFG_INT("log_level", DEFAULT_LOG_LEVEL, CFGF_NONE),
@


1.1
log
@add chroot support; committed upstream (thanks Holger!)
@
text
@d1 1
a1 1
$OpenBSD$
@

