head	1.10;
access;
symbols
	OPENBSD_6_0:1.9.0.6
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.4
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.8.0.2
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.7.0.6
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.4
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.2
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.5.0.2
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	merdely_20120402:1.1.1.1
	merdely:1.1.1;
locks; strict;
comment	@# @;


1.10
date	2017.03.18.22.35.31;	author sthen;	state Exp;
branches;
next	1.9;
commitid	40GytoYyiF73eElp;

1.9
date	2015.07.03.20.32.31;	author sthen;	state Exp;
branches;
next	1.8;
commitid	k9XjFHoso4GtNXC3;

1.8
date	2014.09.09.21.50.48;	author sthen;	state Exp;
branches;
next	1.7;
commitid	nCMfLGgfyFi59jrp;

1.7
date	2013.04.24.13.37.22;	author merdely;	state Exp;
branches;
next	1.6;

1.6
date	2013.03.11.11.35.49;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2012.11.04.21.44.43;	author merdely;	state Exp;
branches;
next	1.4;

1.4
date	2012.07.05.14.39.10;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2012.05.01.15.32.20;	author merdely;	state Exp;
branches;
next	1.2;

1.2
date	2012.04.06.15.35.08;	author merdely;	state Exp;
branches;
next	1.1;

1.1
date	2012.04.02.16.50.47;	author merdely;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.04.02.16.50.47;	author merdely;	state Exp;
branches;
next	;


desc
@@


1.10
log
@update to check_esxi_hardware-20161013, needed with newer py-wbem
@
text
@# $OpenBSD: Makefile,v 1.9 2015/07/03 20:32:31 sthen Exp $

PKG_ARCH =		*

COMMENT =		Nagios plugin to monitor the status of ESX/i hardware

V =			20161013
DISTNAME =		check_esxi_hardware.py.$V
PKGNAME =		check_esxi_hardware-$V
CATEGORIES =		net

HOMEPAGE =		http://www.claudiokuenzler.com/nagios-plugins/check_esxi_hardware.php
MASTER_SITES =		http://www.claudiokuenzler.com/nagios-plugins/

EXTRACT_SUFX =

# GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

NO_BUILD =		Yes
NO_TEST =		Yes

RUN_DEPENDS =		devel/py-wbem>=0.8.0pre728

MODULES =		lang/python

WRKSRC =		${WRKDIR}

MODPY_ADJ_FILES=	check_esxi_hardware.py.$V

do-extract:
	@@cp ${FULLDISTDIR}/${DISTFILES} ${WRKDIR}

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/libexec/nagios
	${INSTALL_SCRIPT} ${WRKDIR}/check_esxi_hardware.py.$V \
		${PREFIX}/libexec/nagios/check_esxi_hardware

.include <bsd.port.mk>
@


1.9
log
@update to check_esxi_hardware-20150626, using changes in newer py-wbem
that are needed in some situations now that python enforces SSL validation
by default. reset bouncing maintainer email.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2014/09/09 21:50:48 sthen Exp $
d7 1
a7 1
V =			20150626
@


1.8
log
@update to check_esxi_hardware 20140319, committing on behalf of merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/04/24 13:37:22 merdely Exp $
d7 1
a7 1
V =			20140319
a11 2
MAINTAINER =		Michael Erdely <merdely@@openbsd.org>

d23 1
a23 1
RUN_DEPENDS =		devel/py-wbem
@


1.7
log
@Update check_esxi_hardware to 20130424:
It adds "System Board 1 LCD Cable Pres 0: Connected" to the list of
things that fall under:
"As long as Dell doesnt correct these CIM elements return code we have
to ignore it"

"sure" sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/03/11 11:35:49 espie Exp $
d5 1
a5 1
COMMENT =		Nagios plugin to the status of ESX/i hardware
d7 1
a7 1
V =			20130424
d19 1
a19 1
# GPL
@


1.6
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/11/04 21:44:43 merdely Exp $
d7 1
a7 1
V =			20121027
@


1.5
log
@Update to 20121027.
Adds workaround for Dell PE x620 machines:
"[T]he CIM element "System Board 1 Riser Config Err 0: Connected" returned
a code of 12, which, according to the CIM documentation, means "Not
connected". But all affected users had an actual Riser Card connected
and working. So this return code does not make sense."

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/07/05 14:39:10 sthen Exp $
a20 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d23 1
a23 1
NO_REGRESS =		Yes
@


1.4
log
@ESXi 5.0u1 responds *really* slowly to hardware status requests, this is
a vmware bug, until they get round to fixing it let's at least document which
icinga/nagios variable you need to bump as a workaround.  ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/05/01 15:32:20 merdely Exp $
d7 1
a7 2
V =			20120501
REVISION =		0
@


1.3
log
@"Bugfix in manufacturer discovery when cim entry not found or empty"

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/04/06 15:35:08 merdely Exp $
d8 1
@


1.2
log
@Update to 20120405.
#@@---------------------------------------------------
#@@ Date   : 20120405
#@@ Author : Phil Randal (phil.randal@@gmail.com)
#@@ Reason : Fix lookup of warranty info for Dell
#@@---------------------------------------------------

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/04/02 16:50:47 merdely Exp $
d7 1
a7 1
V =			20120405
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
V =			20120402
@


1.1.1.1
log
@Import check_esxi_hardware
    
This script is a Nagios plugin to monitor the hardware of ESX and ESXi
servers. It can also be used as standalone script to check the hardware -
Nagios isn't necessary to run it.
    
ok sthen@@
@
text
@@
