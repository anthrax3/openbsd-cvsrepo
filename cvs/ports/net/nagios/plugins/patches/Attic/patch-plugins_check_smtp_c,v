head	1.2;
access;
symbols
	sturm_20050725:1.1.1.1 sturm:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2005.08.07.10.47.01;	author sturm;	state dead;
branches;
next	1.1;

1.1
date	2005.07.25.16.32.07;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.07.25.16.32.07;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to nagios plugins 1.4.1
@
text
@$OpenBSD: patch-plugins_check_smtp_c,v 1.1 2005/07/25 16:32:07 sturm Exp $
--- plugins/check_smtp.c.orig	Sat Jan  1 17:15:39 2005
+++ plugins/check_smtp.c	Mon Jul 18 22:55:58 2005
@@@@ -76,7 +76,7 @@@@ int my_close(void);
 char regex_expect[MAX_INPUT_BUFFER] = "";
 regex_t preg;
 regmatch_t pmatch[10];
-char timestamp[10] = "";
+char timestamp[20] = "";
 char errbuf[MAX_INPUT_BUFFER];
 int cflags = REG_EXTENDED | REG_NOSUB | REG_NEWLINE;
 int eflags = 0;
@@@@ -667,7 +667,7 @@@@ check_certificate (X509 ** certificate)
   
   days_left = (mktime (&stamp) - time (NULL)) / 86400;
   snprintf
-    (timestamp, 16, "%02d/%02d/%04d %02d:%02d",
+    (timestamp, sizeof(timestamp), "%02d/%02d/%04d %02d:%02d",
      stamp.tm_mon + 1,
      stamp.tm_mday, stamp.tm_year + 1900, stamp.tm_hour, stamp.tm_min);
   
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-plugins_check_smtp_c,v 1.1.1.1 2005/02/14 14:00:34 sturm Exp $
@


1.1.1.1
log
@Initial import of nagios 2.0b3 and base plugins 1.4.

Nagios is a host and service monitor designed to inform you of network
problems before your clients, end-users or managers do.  The monitoring
daemon runs intermittent checks on hosts and services you specify using
external "plugins" which return status information to Nagios. When problems
are encountered, the daemon can send notifications out to administrative
contacts in a variety of different ways (email, instant message, SMS, etc.).
Current status information, historical logs, and reports can all be accessed
via a web browser.

NOTE: Nagios might not work on 64bit archs.

@
text
@@
