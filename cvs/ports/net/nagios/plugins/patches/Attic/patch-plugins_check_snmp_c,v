head	1.2;
access;
symbols
	OPENBSD_4_0:1.1.0.4
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2006.11.11.17.17.43;	author sturm;	state dead;
branches;
next	1.1;

1.1
date	2005.12.03.07.46.28;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to nagios-plugins 1.4.5
@
text
@$OpenBSD: patch-plugins_check_snmp_c,v 1.1 2005/12/03 07:46:28 pvalchev Exp $
--- plugins/check_snmp.c.orig	Fri Dec  2 23:55:17 2005
+++ plugins/check_snmp.c	Fri Dec  2 23:55:47 2005
@@@@ -206,6 +206,7 @@@@ main (int argc, char **argv)
 	strcat(perfstr, "| ");
 	while (ptr) {
 		char *foo;
+		char *str[MAX_INPUT_BUFFER];
 
 		foo = strstr (ptr, delimiter);
 		strncat(perfstr, ptr, foo-ptr);
@@@@ -338,7 +339,6 @@@@ main (int argc, char **argv)
 
 		i++;
 
-		char *str[MAX_INPUT_BUFFER];
 		asprintf(str, "=%s%s;;;; ", show, type ? type : "");
 		strcat(perfstr, *str);
 
@


1.1
log
@fix for gcc2: move var def to beginning of block
@
text
@d1 1
a1 1
$OpenBSD$
@

