head	1.9;
access;
symbols
	OPENBSD_6_1:1.9.0.4
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.9.0.2
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.8.0.2
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.7.0.4
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.5.0.4
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.2
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.1.0.2
	OPENBSD_5_4_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2016.06.26.11.44.09;	author sthen;	state Exp;
branches;
next	1.8;
commitid	iZDOrLIFEEeQZ2rd;

1.8
date	2015.10.05.12.58.44;	author kirby;	state Exp;
branches;
next	1.7;
commitid	6iQxcHu0trowKBDv;

1.7
date	2015.07.07.14.44.58;	author sthen;	state Exp;
branches;
next	1.6;
commitid	3ip2eKfpCQusYvJT;

1.6
date	2015.07.06.11.25.36;	author sthen;	state Exp;
branches;
next	1.5;
commitid	fXrDP8itzF5x6yPc;

1.5
date	2014.07.19.22.36.13;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	MSFt4PoL3vJ8bL97;

1.4
date	2014.07.12.11.25.00;	author sthen;	state Exp;
branches;
next	1.3;
commitid	76ij4rO0HAnPaXZj;

1.3
date	2014.07.10.12.58.32;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	rOPyKbvHOk8hvFGm;

1.2
date	2013.11.07.10.31.38;	author rpe;	state Exp;
branches;
next	1.1;

1.1
date	2013.05.05.22.13.48;	author rpe;	state Exp;
branches;
next	;


desc
@@


1.9
log
@fix confusing httpd references between apache httpd and httpd, from Caspar Schutijser
@
text
@$OpenBSD: README-main,v 1.8 2015/10/05 12:58:44 kirby Exp $

+-----------------------------------------------------------------------
| Running ${FULLPKGNAME} on OpenBSD
+-----------------------------------------------------------------------

Getting Started
===============

The main documentation for Nagios is provided online at
http://nagios.sourceforge.net/docs/nagioscore/4/en/.

The included sample configuration carries out some simple checks
on the local machine; these should work as-is.

You may check your configuration file format before starting Nagios:

   # su -m _nagios -c "${TRUEPREFIX}/sbin/nagios -v ${SYSCONFDIR}/nagios/nagios.cfg"

This will parse all configuration files and warn about any problems
which have been identified.

To enable automatic startup on boot for nagios, add it to the pkg_scripts
line in /etc/rc.conf.local.

To start nagios, reboot or start it manually:

   # rcctl start nagios


Web User-Interface
==================

If using Apache, you can enable nagios-web by linking the provided
httpd.conf snippet:

      # ln -s /var/www/conf/modules.sample/nagios.conf \
         /var/www/conf/modules

You may wish to modify this file.  By default it uses HTTP basic
authentication; you can create the password file as follows:

      # touch ${SYSCONFDIR}/nagios/htpasswd.users
      # htpasswd ${SYSCONFDIR}/nagios/htpasswd.users <username>

When done, restart the web server:

      # /etc/rc.d/apache2 restart

You should then be able to access the web interface at
http://localhost/nagios/
@


1.8
log
@fix rcctl syntax
ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: README-main,v 1.7 2015/07/07 14:44:58 sthen Exp $
d34 2
a35 1
To enable nagios-web, link the provided httpd.conf snippet:
d48 1
a48 1
      # /etc/rc.d/httpd restart
@


1.7
log
@use su -m instead of -s /bin/sh, suggested by millert
add some missing -c
@
text
@d1 1
a1 1
$OpenBSD: README-main,v 1.6 2015/07/06 11:25:36 sthen Exp $
d28 1
a28 1
   # rcctl nagios start
@


1.6
log
@Remove use of sudo from pkg READMEs in a few ports as packages and their
instructions are meant to work on a fresh install.

- easy cases: replace some '$ sudo somecommand' with '# somecommand'
(while there I've swapped some "${RCDIR}/foo start" with "rcctl foo start").

- replace some 'sudo -u user somecommand foo bar' with
'su -s /bin/sh user "/path/to/somecommand foo bar"' and similar.
Not pretty with the -s, but many of the uids that need to run
these commands have /sbin/nologin as their usual shell.
@
text
@d1 1
a1 1
$OpenBSD: README-main,v 1.5 2014/07/19 22:36:13 ajacoutot Exp $
d18 1
a18 1
   # su -s /bin/sh _nagios "${TRUEPREFIX}/sbin/nagios -v ${SYSCONFDIR}/nagios/nagios.cfg"
@


1.5
log
@/etc/rc.d -> ${RCDIR}
(as pedantic and useless as /usr/local vs LOCALBASE|PREFIX but well...)

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: README-main,v 1.4 2014/07/12 11:25:00 sthen Exp $
d18 1
a18 1
   $ sudo -u _nagios ${TRUEPREFIX}/sbin/nagios -v ${SYSCONFDIR}/nagios/nagios.cfg
d28 1
a28 1
   $ sudo ${RCDIR}/nagios start
d36 1
a36 1
      $ sudo ln -s /var/www/conf/modules.sample/nagios.conf \
d42 2
a43 2
      $ sudo touch ${SYSCONFDIR}/nagios/htpasswd.users
      $ sudo htpasswd ${SYSCONFDIR}/nagios/htpasswd.users <username>
d47 1
a47 1
      $ sudo /etc/rc.d/httpd restart
@


1.4
log
@don't use "echo 'pkg_scripts="${pkg_scripts} icinga' >> /etc/rc.conf.local"
examples
@
text
@d1 1
a1 1
$OpenBSD: README-main,v 1.3 2014/07/10 12:58:32 ajacoutot Exp $
d28 1
a28 1
   $ sudo /etc/rc.d/nagios start
@


1.3
log
@rc.conf.local is always under /etc.
@
text
@d1 1
a1 1
$OpenBSD: README-main,v 1.2 2013/11/07 10:31:38 rpe Exp $
d23 2
a24 4
To enable automatic startup on boot for nagios, add it to pkg_scripts
in /etc/rc.conf.local, for example:

   pkg_scripts="${pkg_scripts} nagios"
@


1.2
log
@Major update of nagios to version 4.0.1

See http://nagios.sourceforge.net/docs/nagioscore/4/en/whatsnew.html

with feedback and ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: README-main,v 1.1 2013/05/05 22:13:48 rpe Exp $
d24 1
a24 1
in ${SYSCONFDIR}/rc.conf.local, for example:
@


1.1
log
@update nagios to 3.5.0

- remove REVISION-main
- use ${PREFIX-web} instead of /var/www in CONFIGURE_ARGS
- use --with-htmurl, --with-httpd-conf, --with-log-dir to have
  (almost) identical CONFIGURE_ARGS for nagios and icinga
- make post-install block more compact
- move the apache config file snippet from nagios-main to nagios-web
- add a pkg-readme

with feedback and ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
d11 1
a11 1
http://nagios.sourceforge.net/docs/nagioscore/3/en/.
@

