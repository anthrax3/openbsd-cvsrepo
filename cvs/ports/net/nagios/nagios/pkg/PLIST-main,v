head	1.11;
access;
symbols
	OPENBSD_6_1:1.11.0.16
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.11.0.14
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.10
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.11.0.12
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.11.0.8
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.11.0.6
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.4
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.11.0.2
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.10.0.8
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.6
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.4
	OPENBSD_5_0:1.10.0.2
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.7.0.4
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.2
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.6.0.4
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.2
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.3.0.4
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2;
locks; strict;
comment	@# @;


1.11
date	2013.05.05.22.13.48;	author rpe;	state Exp;
branches;
next	1.10;

1.10
date	2011.05.11.12.03.19;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.01.20.14.04.33;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.23.13.12.57;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2009.09.12.12.35.20;	author sturm;	state Exp;
branches;
next	1.6;

1.6
date	2008.11.09.10.18.56;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2008.07.01.06.03.58;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2008.03.18.20.25.11;	author sturm;	state Exp;
branches;
next	1.3;

1.3
date	2007.06.24.08.29.35;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2007.02.13.21.59.13;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.26.01.01.32;	author espie;	state Exp;
branches;
next	;


desc
@@


1.11
log
@update nagios to 3.5.0

- remove REVISION-main
- use ${PREFIX-web} instead of /var/www in CONFIGURE_ARGS
- use --with-htmurl, --with-httpd-conf, --with-log-dir to have
  (almost) identical CONFIGURE_ARGS for nagios and icinga
- make post-install block more compact
- move the apache config file snippet from nagios-main to nagios-web
- add a pkg-readme

with feedback and ok sthen@@
@
text
@@@comment $OpenBSD: PLIST-main,v 1.10 2011/05/11 12:03:19 jasper Exp $
@@pkgpath ${BASE_PKGPATH}
@@newgroup _nagios:550
@@newuser _nagios:550:_nagios:daemon:Nagios user:/var/www/nagios:/sbin/nologin
@@extraunexec rm -rf ${CHROOT}${SYSCONFDIR}/nagios/*
@@extraunexec rm -f ${CHROOT}/var/log/nagios/archives/*
@@bin bin/nagiostats
@@bin sbin/nagios
share/doc/pkg-readmes/${FULLPKGNAME}
share/examples/nagios/
@@sample ${CHROOT}${SYSCONFDIR}/nagios/
share/examples/nagios/cgi.cfg
@@sample ${CHROOT}${SYSCONFDIR}/nagios/cgi.cfg
share/examples/nagios/mrtg.cfg
share/examples/nagios/nagios.cfg
@@sample ${CHROOT}${SYSCONFDIR}/nagios/nagios.cfg
share/examples/nagios/objects/
@@sample ${CHROOT}${SYSCONFDIR}/nagios/objects/
share/examples/nagios/objects/commands.cfg
@@sample ${CHROOT}${SYSCONFDIR}/nagios/objects/commands.cfg
share/examples/nagios/objects/contacts.cfg
@@sample ${CHROOT}${SYSCONFDIR}/nagios/objects/contacts.cfg
share/examples/nagios/objects/localhost.cfg
@@sample ${CHROOT}${SYSCONFDIR}/nagios/objects/localhost.cfg
share/examples/nagios/objects/printer.cfg
share/examples/nagios/objects/switch.cfg
share/examples/nagios/objects/templates.cfg
@@sample ${CHROOT}${SYSCONFDIR}/nagios/objects/templates.cfg
share/examples/nagios/objects/timeperiods.cfg
@@sample ${CHROOT}${SYSCONFDIR}/nagios/objects/timeperiods.cfg
share/examples/nagios/objects/windows.cfg
share/examples/nagios/resource.cfg
@@sample ${CHROOT}${SYSCONFDIR}/nagios/resource.cfg
@@mode 755
@@owner _nagios
@@group _nagios
@@sample ${CHROOT}/var/log/nagios/
@@sample ${CHROOT}/var/log/nagios/archives/
@@sample ${CHROOT}/var/nagios/
@@sample /var/spool/nagios/
@@mode 775
@@group www
@@sample ${CHROOT}/var/nagios/rw/
@@mode
@@owner
@@group
@@sample /var/www/nagios/
%%chroot%%
@@extra ${CHROOT}/var/log/nagios/nagios.log
@@extra ${CHROOT}/var/nagios/comments.dat
@@extra ${CHROOT}/var/nagios/downtime.dat
@@extra ${CHROOT}/var/nagios/objects.cache
@@extra ${CHROOT}/var/nagios/retention.dat
@@extra ${CHROOT}/var/nagios/status.dat
@@extra ${CHROOT}/var/nagios/rw/nagios.cmd
@@rcscript ${RCDIR}/nagios
@


1.10
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.

ok aja@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.9 2011/01/20 14:04:33 sthen Exp $
d9 1
a13 1
share/examples/nagios/httpd.conf
@


1.9
log
@add an rc script for nagios; ok ajacoutot@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.8 2010/10/23 13:12:57 sthen Exp $
d5 2
a48 2
@@extraunexec rm -rf ${CHROOT}${SYSCONFDIR}/nagios/*
@@extraunexec rm -f ${CHROOT}/var/log/nagios/archives/*
@


1.8
log
@use rm -rf to remove extra directories, suggested by landry
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.7 2009/09/12 12:35:20 sturm Exp $
d56 1
@


1.7
log
@update to Nagios 3.2.0
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.6 2008/11/09 10:18:56 sturm Exp $
d47 1
a47 1
@@extraunexec rm -f ${CHROOT}${SYSCONFDIR}/nagios/*
@


1.6
log
@update to nagios 3.0.5
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.5 2008/07/01 06:03:58 sturm Exp $
d12 1
@


1.5
log
@update to nagios 3.0.3
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.4 2008/03/18 20:25:11 sturm Exp $
d46 2
a54 2
@@extraunexec rm -f ${CHROOT}${SYSCONFDIR}/nagios/*
@@extraunexec rm -f ${CHROOT}/var/log/nagios/archives/*
@


1.4
log
@update to nagios 3.0
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.3 2007/06/24 08:29:35 sturm Exp $
d5 2
a6 2
bin/nagiostats
sbin/nagios
@


1.3
log
@update to nagios 2.9
mention proper startup procedure in MESSAGE-main

initial diff from brad
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.2 2007/02/13 21:59:13 sturm Exp $
d8 1
a9 1
@@sample ${CHROOT}${SYSCONFDIR}/nagios/
a10 2
share/examples/nagios/commands.cfg
@@sample ${CHROOT}${SYSCONFDIR}/nagios/commands.cfg
a11 2
share/examples/nagios/localhost.cfg
@@sample ${CHROOT}${SYSCONFDIR}/nagios/localhost.cfg
d14 15
d37 1
d46 1
a46 1
@@extra ${CHROOT}/var/log/nagios/nagios
@


1.2
log
@update to nagios 2.7
many bugfixes

ok bernd
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.1 2006/11/26 01:01:32 espie Exp $
d12 1
a25 1
@@sample /var/run/nagios/
@


1.1
log
@new MULTI_PACKAGES
@
text
@d1 2
a2 1
@@comment $OpenBSD: PLIST,v 1.3 2005/08/14 01:10:31 sturm Exp $
a4 1
@@pkgpath ${BASE_PKGPATH}
a7 1
share/examples/nagios/bigger.cfg
d11 1
a11 1
share/examples/nagios/checkcommands.cfg
d13 2
a14 3
share/examples/nagios/minimal.cfg
@@sample ${CHROOT}${SYSCONFDIR}/nagios/minimal.cfg
share/examples/nagios/misccommands.cfg
@

