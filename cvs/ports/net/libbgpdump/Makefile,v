head	1.11;
access;
symbols
	OPENBSD_6_1:1.11.0.2
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.10.0.2
	OPENBSD_6_0_BASE:1.10
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.8.0.4
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.6.0.8
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.6
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.4
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.5.0.10
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.8
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.6
	OPENBSD_5_0:1.5.0.4
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.2
	OPENBSD_4_9_BASE:1.5
	sthen_20100817:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2016.10.25.17.10.46;	author sthen;	state Exp;
branches;
next	1.10;
commitid	l0YR1NUKOfOpqR9F;

1.10
date	2016.03.10.21.58.51;	author naddy;	state Exp;
branches;
next	1.9;
commitid	g78OHI8ulpVtt3HS;

1.9
date	2016.01.07.23.09.19;	author sthen;	state Exp;
branches;
next	1.8;
commitid	Aq6UGesyvcTs1MHf;

1.8
date	2015.07.19.01.46.18;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	wXIIjLiy1hAfoSMc;

1.7
date	2015.03.16.18.07.52;	author naddy;	state Exp;
branches;
next	1.6;
commitid	IJdm3Zowcdkcxp5X;

1.6
date	2013.03.11.11.35.48;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.19.22.31.34;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.29.13.53.35;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2010.09.08.14.08.10;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2010.08.22.11.49.55;	author phessler;	state Exp;
branches;
next	1.1;

1.1
date	2010.08.17.19.48.36;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.08.17.19.48.36;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.11
log
@update to libbgpdump-1.5.0
@
text
@# $OpenBSD: Makefile,v 1.10 2016/03/10 21:58:51 naddy Exp $

COMMENT=	library to analyze MRT-format BGP dump files

DISTNAME=	libbgpdump-1.5.0
EXTRACT_SUFX=	.tgz

SHARED_LIBS=	bgpdump 1.0

CATEGORIES=	net

# License_NCC: "for any purpose and without fee".
PERMIT_PACKAGE_CDROM=	without fee
PERMIT_PACKAGE_FTP=	Yes

MASTER_SITES=	http://www.ris.ripe.net/source/bgpdump/

WANTLIB=	bz2 c z
LIB_DEPENDS=	archivers/bzip2

CONFIGURE_STYLE= gnu
CONFIGURE_ENV=	CFLAGS="${CFLAGS}"
CFLAGS+=	-I${LOCALBASE}/include -L${LOCALBASE}/lib
MAKE_FLAGS+=	LIBbgpdump_VERSION=${LIBbgpdump_VERSION}

NO_TEST=	Yes # some Makefile scaffolding but tests not actually included

pre-configure:
	sed -i -e s,libbgpdump\.so,libbgpdump.so.${LIBbgpdump_VERSION},g \
	    ${WRKSRC}/Makefile.in

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/bgpdump ${PREFIX}/bin
	${INSTALL_DATA} ${WRKBUILD}/libbgpdump.* ${PREFIX}/lib
	${INSTALL_DATA} ${WRKSRC}/bgpdump*.h ${PREFIX}/include

.include <bsd.port.mk>
@


1.10
log
@remove various instances of NO_SHARED_LIBS and PROPERTIES:Mno_shared,
fold PFRAG.shared into PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2016/01/07 23:09:19 sthen Exp $
d5 1
a5 1
DISTNAME=	libbgpdump-1.4.99.15
d8 1
a8 1
SHARED_LIBS=	bgpdump 0.0
d25 2
@


1.9
log
@update to libbgpdump-1.4.99.15
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/07/19 01:46:18 ajacoutot Exp $
a35 4

.if ${NO_SHARED_LIBS:MYes}
ALL_TARGET=libbgpdump.a bgpdump
.endif
@


1.8
log
@Update to libbgpdump-1.4.99.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/03/16 18:07:52 naddy Exp $
d5 1
a5 1
DISTNAME=	libbgpdump-1.4.99.14
d27 1
a27 1
	perl -pi -e s,libbgpdump\.so,libbgpdump.so.${LIBbgpdump_VERSION},g \
@


1.7
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/03/11 11:35:48 espie Exp $
d5 1
a5 1
DISTNAME=	libbgpdump-1.4.99.13
a6 1
REVISION=	0
a24 2

NO_TEST=	Yes
@


1.6
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/19 22:31:34 espie Exp $
d7 1
@


1.5
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/10/29 13:53:35 sthen Exp $
a14 2
PERMIT_DISTFILES_CDROM=	without fee
PERMIT_DISTFILES_FTP=	Yes
d26 1
a26 1
NO_REGRESS=	Yes
@


1.4
log
@update to 1.4.99.13, looks okay to phessler@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/08/22 11:49:55 phessler Exp $
d21 1
a21 1
LIB_DEPENDS=	::archivers/bzip2
@


1.3
log
@- fix another ridiculous use-(one-line)-after-free

- install testbgpdump as well as bgpdump, the different output format
is a little easier on my eyes
@
text
@d5 2
a6 2
DISTNAME=	libbgpdump-1.4.99.11
REVISION=	1
d18 1
a18 2
MASTER_SITES=	http://www.ris.ripe.net/source/ \
		http://www.ris.ripe.net/source/OLD/
d30 4
a35 1
	${INSTALL_PROGRAM} ${WRKBUILD}/testbgpdump ${PREFIX}/bin
d37 1
a37 1
	${INSTALL_DATA} ${WRKSRC}/*.h ${PREFIX}/include
d42 1
a42 1
ALL_TARGET=libbgpdump.a testbgpdump bgpdump
@


1.2
log
@fix some use-after-free's, and don't hardcode -O3

ok sthen@@, reminded by claudio@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/08/17 19:48:36 sthen Exp $
d6 1
a6 1
REVISION=	0
d33 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.54 2008/01/13 16:43:57 espie Exp $
d6 1
@


1.1.1.1
log
@import ports/net/libbgpdump, a library and simple program to dump
MRT-format BGP dump/trace files.
@
text
@@
