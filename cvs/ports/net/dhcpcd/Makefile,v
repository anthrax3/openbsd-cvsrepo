head	1.23;
access;
symbols
	OPENBSD_6_1:1.21.0.2
	OPENBSD_6_1_BASE:1.21
	OPENBSD_6_0:1.17.0.2
	OPENBSD_6_0_BASE:1.17
	OPENBSD_5_9:1.11.0.2
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.1.1.1.0.4
	OPENBSD_5_7_BASE:1.1.1.1
	OPENBSD_5_6:1.1.1.1.0.2
	OPENBSD_5_6_BASE:1.1.1.1
	sthen_20140714:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2017.07.14.09.43.37;	author sthen;	state Exp;
branches;
next	1.22;
commitid	mtu0GYPVU1hHFrjm;

1.22
date	2017.04.21.16.41.20;	author sthen;	state Exp;
branches;
next	1.21;
commitid	1sTJ8rj9T21mMi7U;

1.21
date	2016.10.11.13.56.02;	author sthen;	state Exp;
branches;
next	1.20;
commitid	vGmAq2Tmxemwg5dE;

1.20
date	2016.10.07.08.43.17;	author sthen;	state Exp;
branches;
next	1.19;
commitid	z2Qq0Kx7k4uD1Yyz;

1.19
date	2016.08.15.19.32.11;	author sthen;	state Exp;
branches;
next	1.18;
commitid	6F3v1f3r1rXQsb7q;

1.18
date	2016.07.30.21.06.31;	author sthen;	state Exp;
branches;
next	1.17;
commitid	NIlCUZHXX1T2FTw5;

1.17
date	2016.06.28.20.09.28;	author sthen;	state Exp;
branches;
next	1.16;
commitid	aJ5SePF0OfTJiBf0;

1.16
date	2016.06.18.13.48.55;	author sthen;	state Exp;
branches;
next	1.15;
commitid	562kUJfqRd1tEhds;

1.15
date	2016.05.09.12.21.43;	author sthen;	state Exp;
branches;
next	1.14;
commitid	uI6OyOAbPOzFmnwe;

1.14
date	2016.04.21.22.09.53;	author sthen;	state Exp;
branches;
next	1.13;
commitid	SbzAohRejR2wIAJC;

1.13
date	2016.04.18.09.10.23;	author sthen;	state Exp;
branches;
next	1.12;
commitid	FOAwDLqhJ2nGqi7n;

1.12
date	2016.04.09.12.55.35;	author sthen;	state Exp;
branches;
next	1.11;
commitid	gE5iJxxYZbLPtYYd;

1.11
date	2016.01.21.15.08.46;	author sthen;	state Exp;
branches;
next	1.10;
commitid	5unt92lqRDVwguSJ;

1.10
date	2016.01.07.21.19.53;	author sthen;	state Exp;
branches;
next	1.9;
commitid	1YQGzK4BX2lMJl4f;

1.9
date	2015.12.04.14.23.19;	author sthen;	state Exp;
branches;
next	1.8;
commitid	smj5ElATZbzujRFo;

1.8
date	2015.10.05.16.29.02;	author sthen;	state Exp;
branches;
next	1.7;
commitid	AqjFzXOPaoxpieFE;

1.7
date	2015.09.28.11.47.58;	author sthen;	state Exp;
branches;
next	1.6;
commitid	Hiu6vOyoa2Pqg09E;

1.6
date	2015.09.24.15.14.11;	author sthen;	state Exp;
branches;
next	1.5;
commitid	kjHgGFNPysEqXuT2;

1.5
date	2015.09.11.15.05.46;	author sthen;	state Exp;
branches;
next	1.4;
commitid	qE7YdSDMVH9MFHYg;

1.4
date	2015.09.08.19.10.19;	author sthen;	state Exp;
branches;
next	1.3;
commitid	j4U5HYlBZdxRmbfS;

1.3
date	2015.07.25.14.51.28;	author sthen;	state Exp;
branches
	1.3.4.1;
next	1.2;
commitid	4Lrq98mMgpCoSZym;

1.2
date	2015.06.23.07.44.31;	author bentley;	state Exp;
branches;
next	1.1;
commitid	lqQYqI9746KGQq38;

1.1
date	2014.07.14.15.50.55;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;
commitid	upErJyA8otWRyWhx;

1.1.1.1
date	2014.07.14.15.50.55;	author sthen;	state Exp;
branches;
next	;
commitid	upErJyA8otWRyWhx;

1.3.4.1
date	2016.01.08.12.59.38;	author jasper;	state Exp;
branches;
next	;
commitid	oPqvBU0fiXshZZm3;


desc
@@


1.23
log
@Adjust the sample DHCPv6-PD configuration in dhcpcd's pkg-readme following
earlier feedback from naddy, and a reminder about rtsol from Ross L Richardson.

- convert some description into comments in the sample config

- disable all hooks in DHCPv6-PD sample by overriding "script", they're
often not needed in this situation (and disabling hooks individually with
nohook leaves you open to the potential for new ones being added later)

- rtsol -> "inet6 autoconf"
@
text
@# $OpenBSD: Makefile,v 1.22 2017/04/21 16:41:20 sthen Exp $

COMMENT=		DHCPv4/IPv4LL/IPv6RS/DHCPv6 quad stack client

DISTNAME=		dhcpcd-6.11.5
REVISION=		1

CATEGORIES=		net
EXTRACT_SUFX=		.tar.xz

HOMEPAGE=		http://roy.marples.name/projects/dhcpcd/

# BSD-2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c

MAINTAINER =		Stuart Henderson <sthen@@openbsd.org>

MASTER_SITES=		http://roy.marples.name/downloads/dhcpcd/ \
			ftp://roy.marples.name/pub/dhcpcd/

CONFIGURE_STYLE=	simple
CONFIGURE_ARGS=		--prefix='${PREFIX}' \
			--sysconfdir='${SYSCONFDIR}' \
			--mandir='${PREFIX}/man' \
			--localstatedir='${LOCALSTATEDIR}'
FAKE_FLAGS=		SYSCONFDIR=${PREFIX}/share/examples/dhcpcd

.include <bsd.port.mk>
@


1.22
log
@Remove dhcpcd's workaround for exported vltime/pltime being incorrect
which was fixed in netinet6/in6.c.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/10/11 13:56:02 sthen Exp $
d6 1
a6 1
REVISION=		0
@


1.21
log
@update to dhcpcd-6.11.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/10/07 08:43:17 sthen Exp $
d6 1
@


1.20
log
@update to dhcpcd-6.11.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2016/08/15 19:32:11 sthen Exp $
d4 3
a6 1
DISTNAME=		dhcpcd-6.11.4
@


1.19
log
@update to dhcpcd-6.11.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2016/07/30 21:06:31 sthen Exp $
d4 1
a4 1
DISTNAME=		dhcpcd-6.11.3
@


1.18
log
@update to dhcpcd-6.11.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2016/06/28 20:09:28 sthen Exp $
d4 1
a4 1
DISTNAME=		dhcpcd-6.11.2
@


1.17
log
@add dhcpcd patch from upstream: Check we have an assigned address
when an ARP conflict occurs to avoid a NULL pointer deference.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2016/06/18 13:48:55 sthen Exp $
d4 1
a4 2
DISTNAME=		dhcpcd-6.11.1
REVISION=		0
@


1.16
log
@update to dhcpcd-6.11.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2016/05/09 12:21:43 sthen Exp $
d5 1
@


1.15
log
@update to dhcpcd-6.11.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2016/04/21 22:09:53 sthen Exp $
d4 1
a4 1
DISTNAME=		dhcpcd-6.11.0
@


1.14
log
@update to dhcpcd-6.10.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2016/04/18 09:10:23 sthen Exp $
d4 1
a4 1
DISTNAME=		dhcpcd-6.10.3
@


1.13
log
@Fix dhcpcd regression in 6.10.2: "If sla is 0, just copy the prefix and don't
set a blackhole route if end prefix is the same as the delegated prefix."
Fix from upstream, diff from LÉVAI Dániel.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2016/04/09 12:55:35 sthen Exp $
d4 1
a4 2
DISTNAME=		dhcpcd-6.10.2
REVISION=		0
@


1.12
log
@update to dhcpcd-6.10.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2016/01/21 15:08:46 sthen Exp $
d5 1
@


1.11
log
@update to dhcpcd-6.10.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2016/01/07 21:19:53 sthen Exp $
d4 1
a4 1
DISTNAME=		dhcpcd-6.10.1
@


1.10
log
@update to dhcpcd-6.10.0

http://roy.marples.name/projects/dhcpcd/info/595883e2a431f65d
- Ensure that option length fits inside data length less option size.
(can lead to an invalid read/crash via malformed dhcp responses)

http://roy.marples.name/projects/dhcpcd/info/76a1609352263bd9
- dhcp_optlen now returns the length of the data we can sanely work
on given the option definition and data length. Call dhcp_optlen in
dhcp_envoption1 to take into ensure these bounds are not overstepped.
Fixes an issue reported by Nico Golde where extra undersized data was
present in the option. An example of this would be an array of uint16's
with a trailing byte.
(reporter says "exploitation is non-trivial, but i'd love to be
proven wrong.")
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2015/12/04 14:23:19 sthen Exp $
d4 1
a4 1
DISTNAME=		dhcpcd-6.10.0
@


1.9
log
@update to dhcpcd-6.9.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/10/05 16:29:02 sthen Exp $
d4 1
a4 1
DISTNAME=		dhcpcd-6.9.4
@


1.8
log
@REVISION bumps following the additional member in struct if_data,
to make sure packages get updated
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/09/28 11:47:58 sthen Exp $
d4 1
a4 2
DISTNAME=		dhcpcd-6.9.3
REVISION=		3
@


1.7
log
@take MAINTAINER, since I'm using this now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/09/24 15:14:11 sthen Exp $
d5 1
a5 1
REVISION=		2
@


1.6
log
@Add a README with simple example config for dhcpcd showing DHCPv6-PD use
over pppoe, fetching prefixes from upstream and assigning them to a couple
of local interfaces.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/09/11 15:05:46 sthen Exp $
d5 1
a5 1
REVISION=		1
d15 2
@


1.5
log
@bump; ifmedia64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/09/08 19:10:19 sthen Exp $
d5 1
a5 1
REVISION=		0
d14 1
a14 1
WANTLIB=		c
@


1.4
log
@update to dhcpcd-6.9.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/07/25 14:51:28 sthen Exp $
d5 1
@


1.3
log
@update to dhcpcd-6.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2015/06/23 07:44:31 bentley Exp $
d4 1
a4 1
DISTNAME=		dhcpcd-6.9.1
@


1.3.4.1
log
@Security fixes for CVE-2016-1503 CVE-2016-1504
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/07/25 14:51:28 sthen Exp $
a4 1
REVISION=		0
@


1.2
log
@Fix incorrect/outdated mirror path.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2014/07/14 15:50:55 sthen Exp $
d4 1
a4 1
DISTNAME=		dhcpcd-6.4.2
d6 1
a6 1
EXTRACT_SUFX=		.tar.bz2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: $
d16 1
a16 1
			ftp://roy.marples.name/pub/sdhcpcd/
@


1.1.1.1
log
@import dhcpcd, from upstream author Roy Marples, ok (and tweak by) jturner@@

dhcpcd is a DHCPv4/IPv4LL/IPv6RS/DHCPv6 quad stack client.
It will listen for new interfaces and carrier signals from the kernel
so it can quickly configure each interface as it appears.

dhcpcd has a powerful DHCP expression engine which makes it easy
to decode future RFC DHCP options, or handroll your own.
@
text
@@
