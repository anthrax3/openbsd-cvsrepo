head	1.1;
access;
symbols
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_5:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2015.01.11.22.53.15;	author naddy;	state dead;
branches
	1.1.2.1
	1.1.4.1;
next	;
commitid	HTkqIXpPaz4yHqG6;

1.1.2.1
date	2015.01.11.22.53.15;	author naddy;	state Exp;
branches;
next	;
commitid	HTkqIXpPaz4yHqG6;

1.1.4.1
date	2015.01.12.02.17.10;	author naddy;	state Exp;
branches;
next	;
commitid	tJBKky4C4oSbqx2b;


desc
@@


1.1
log
@file patch-src_Makefile_inc was initially added on branch OPENBSD_5_5.
@
text
@@


1.1.4.1
log
@Security fixes for
CVE-2014-3707: libcurl duphandle read out of bounds
CVE-2014-8150: URL request injection
@
text
@a0 31
$OpenBSD$

CVE-2014-3707: libcurl duphandle read out of bounds
http://curl.haxx.se/docs/adv_20141105.html

--- src/Makefile.inc.orig	Sun May 18 12:50:56 2014
+++ src/Makefile.inc	Mon Jan 12 02:08:33 2015
@@@@ -11,7 +11,6 @@@@
 # the official API, but we re-use the code here to avoid duplication.
 CURLX_ONES = \
 	../lib/strtoofft.c \
-	../lib/strdup.c \
 	../lib/rawstr.c \
 	../lib/nonblock.c \
 	../lib/warnless.c
@@@@ -47,6 +46,7 @@@@ CURL_CFILES = \
 	tool_panykey.c \
 	tool_paramhlp.c \
 	tool_parsecfg.c \
+	tool_strdup.c \
 	tool_setopt.c \
 	tool_sleep.c \
 	tool_urlglob.c \
@@@@ -91,6 +91,7 @@@@ CURL_HFILES = \
 	tool_setopt.h \
 	tool_setup.h \
 	tool_sleep.h \
+	tool_strdup.h \
 	tool_urlglob.h \
 	tool_util.h \
 	tool_version.h \
@


1.1.2.1
log
@Security fixes for
CVE-2014-3707: libcurl duphandle read out of bounds
CVE-2014-8150: URL request injection
@
text
@a0 31
$OpenBSD$

CVE-2014-3707: libcurl duphandle read out of bounds 
http://curl.haxx.se/docs/adv_20141105.html

--- src/Makefile.inc.orig	Mon Sep  9 00:11:15 2013
+++ src/Makefile.inc	Sun Jan 11 22:08:47 2015
@@@@ -11,7 +11,6 @@@@
 # the official API, but we re-use the code here to avoid duplication.
 CURLX_ONES = \
 	../lib/strtoofft.c \
-	../lib/strdup.c \
 	../lib/rawstr.c \
 	../lib/nonblock.c
 
@@@@ -46,6 +45,7 @@@@ CURL_CFILES = \
 	tool_panykey.c \
 	tool_paramhlp.c \
 	tool_parsecfg.c \
+	tool_strdup.c \
 	tool_setopt.c \
 	tool_sleep.c \
 	tool_urlglob.c \
@@@@ -90,6 +90,7 @@@@ CURL_HFILES = \
 	tool_setopt.h \
 	tool_setup.h \
 	tool_sleep.h \
+	tool_strdup.h \
 	tool_urlglob.h \
 	tool_util.h \
 	tool_version.h \
@

