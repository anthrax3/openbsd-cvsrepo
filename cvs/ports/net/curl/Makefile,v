head	1.125;
access;
symbols
	OPENBSD_6_1:1.124.0.2
	OPENBSD_6_1_BASE:1.124
	OPENBSD_6_0:1.118.0.2
	OPENBSD_6_0_BASE:1.118
	OPENBSD_5_9:1.114.0.2
	OPENBSD_5_9_BASE:1.114
	OPENBSD_5_8:1.109.0.4
	OPENBSD_5_8_BASE:1.109
	OPENBSD_5_7:1.105.0.2
	OPENBSD_5_7_BASE:1.105
	OPENBSD_5_6:1.99.0.2
	OPENBSD_5_6_BASE:1.99
	OPENBSD_5_5:1.96.0.2
	OPENBSD_5_5_BASE:1.96
	OPENBSD_5_4:1.91.0.2
	OPENBSD_5_4_BASE:1.91
	OPENBSD_5_3:1.86.0.2
	OPENBSD_5_3_BASE:1.86
	OPENBSD_5_2:1.84.0.2
	OPENBSD_5_2_BASE:1.84
	OPENBSD_5_1_BASE:1.81
	OPENBSD_5_1:1.81.0.2
	OPENBSD_5_0:1.77.0.2
	OPENBSD_5_0_BASE:1.77
	OPENBSD_4_9:1.75.0.2
	OPENBSD_4_9_BASE:1.75
	OPENBSD_4_8:1.71.0.2
	OPENBSD_4_8_BASE:1.71
	OPENBSD_4_7:1.70.0.2
	OPENBSD_4_7_BASE:1.70
	OPENBSD_4_6:1.67.0.2
	OPENBSD_4_6_BASE:1.67
	OPENBSD_4_5:1.65.0.2
	OPENBSD_4_5_BASE:1.65
	OPENBSD_4_4:1.62.0.2
	OPENBSD_4_4_BASE:1.62
	OPENBSD_4_3:1.59.0.2
	OPENBSD_4_3_BASE:1.59
	OPENBSD_4_2:1.56.0.2
	OPENBSD_4_2_BASE:1.56
	OPENBSD_4_1:1.55.0.2
	OPENBSD_4_1_BASE:1.55
	OPENBSD_4_0:1.53.0.2
	OPENBSD_4_0_BASE:1.53
	OPENBSD_3_9:1.51.0.2
	OPENBSD_3_9_BASE:1.51
	OPENBSD_3_8:1.47.0.2
	OPENBSD_3_8_BASE:1.47
	OPENBSD_3_7:1.46.0.2
	OPENBSD_3_7_BASE:1.46
	OPENBSD_3_6:1.44.0.2
	OPENBSD_3_6_BASE:1.44
	OPENBSD_3_5:1.42.0.2
	OPENBSD_3_5_BASE:1.42
	OPENBSD_3_4:1.41.0.2
	OPENBSD_3_4_BASE:1.41
	OPENBSD_3_3:1.39.0.2
	OPENBSD_3_3_BASE:1.39
	OPENBSD_3_2:1.36.0.2
	OPENBSD_3_2_BASE:1.36
	OPENBSD_3_1:1.33.0.2
	OPENBSD_3_1_BASE:1.33
	OPENBSD_3_0:1.28.0.2
	OPENBSD_3_0_BASE:1.28
	OPENBSD_2_9_TRACKING_SWITCH:1.27
	OPENBSD_2_9:1.25.0.2
	OPENBSD_2_9_BASE:1.25
	OPENBSD_2_8:1.17.0.2
	OPENBSD_2_8_BASE:1.17
	OPENBSD_2_7:1.13.0.2
	OPENBSD_2_7_BASE:1.13
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.1.1.1.0.2
	OPENBSD_2_5_BASE:1.1.1.1
	brad_1999-03-27:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.125
date	2017.04.24.20.33.58;	author naddy;	state Exp;
branches;
next	1.124;
commitid	Yrnfgh8WNFve2Pcy;

1.124
date	2017.02.24.21.08.28;	author naddy;	state Exp;
branches;
next	1.123;
commitid	7eCl78lmYodvXtPN;

1.123
date	2017.01.05.20.46.00;	author naddy;	state Exp;
branches;
next	1.122;
commitid	AMxkXkNm6pXF63uE;

1.122
date	2017.01.04.20.28.56;	author naddy;	state Exp;
branches;
next	1.121;
commitid	b1YUOyFTkNOWUqM8;

1.121
date	2016.11.04.11.33.33;	author naddy;	state Exp;
branches;
next	1.120;
commitid	Zc9Q5UwwbwoLatIz;

1.120
date	2016.09.17.19.34.35;	author naddy;	state Exp;
branches;
next	1.119;
commitid	1sApbtvpV3ODFc3a;

1.119
date	2016.08.03.20.44.08;	author naddy;	state Exp;
branches;
next	1.118;
commitid	pcKMgUBZQFdT4j0i;

1.118
date	2016.05.28.20.05.21;	author naddy;	state Exp;
branches
	1.118.2.1;
next	1.117;
commitid	cLHQCfHmzzr9VRKn;

1.117
date	2016.04.05.19.33.21;	author naddy;	state Exp;
branches;
next	1.116;
commitid	ATdRJdjRRZApEEyI;

1.116
date	2016.03.11.20.28.28;	author naddy;	state Exp;
branches;
next	1.115;
commitid	UYLP8TE6V7RS2GhJ;

1.115
date	2016.02.27.21.55.51;	author naddy;	state Exp;
branches;
next	1.114;
commitid	AP0L683bEuqVO48R;

1.114
date	2016.01.29.23.52.24;	author naddy;	state Exp;
branches
	1.114.2.1;
next	1.113;
commitid	ULIOv6aYVecV95d9;

1.113
date	2016.01.01.22.17.05;	author naddy;	state Exp;
branches;
next	1.112;
commitid	oyxRfMgCys7pRtHA;

1.112
date	2015.10.30.00.26.46;	author sthen;	state Exp;
branches;
next	1.111;
commitid	ZHzFH9t5JciA18sF;

1.111
date	2015.10.18.19.16.30;	author naddy;	state Exp;
branches;
next	1.110;
commitid	9dSavfrYlRhIxyPS;

1.110
date	2015.08.19.17.08.48;	author naddy;	state Exp;
branches;
next	1.109;
commitid	cexLaQ6Bv1uHl8dc;

1.109
date	2015.06.20.19.50.55;	author naddy;	state Exp;
branches
	1.109.4.1;
next	1.108;
commitid	ZTE9UCyyre7VZBOv;

1.108
date	2015.04.30.22.32.24;	author naddy;	state Exp;
branches;
next	1.107;
commitid	a2g3koKB6KQZojVe;

1.107
date	2015.04.28.19.26.36;	author naddy;	state Exp;
branches;
next	1.106;
commitid	RWI9oxnssTiLo58c;

1.106
date	2015.03.17.22.47.02;	author naddy;	state Exp;
branches;
next	1.105;
commitid	wm8zc6hQvIrqVp8J;

1.105
date	2015.01.11.12.58.41;	author naddy;	state Exp;
branches
	1.105.2.1;
next	1.104;
commitid	gUAtbYsRuWBGaweW;

1.104
date	2014.11.30.16.44.04;	author schwarze;	state Exp;
branches;
next	1.103;
commitid	wSmGdqWB855GKq0p;

1.103
date	2014.11.15.21.36.18;	author naddy;	state Exp;
branches;
next	1.102;
commitid	r14nYSG189chl8kE;

1.102
date	2014.09.13.15.09.24;	author naddy;	state Exp;
branches;
next	1.101;
commitid	FxcWXlITiovQCNP3;

1.101
date	2014.09.11.18.00.45;	author naddy;	state Exp;
branches;
next	1.100;
commitid	oPDcWkQSb6zU0myD;

1.100
date	2014.09.02.19.54.24;	author naddy;	state Exp;
branches;
next	1.99;
commitid	gNWfu17AGFfmDgFG;

1.99
date	2014.06.13.20.32.33;	author naddy;	state Exp;
branches
	1.99.2.1;
next	1.98;
commitid	CdNAoOLeRZoapERm;

1.98
date	2014.03.19.13.40.59;	author jasper;	state Exp;
branches;
next	1.97;

1.97
date	2014.03.10.22.43.38;	author naddy;	state Exp;
branches;
next	1.96;

1.96
date	2014.02.03.21.52.14;	author naddy;	state Exp;
branches
	1.96.2.1;
next	1.95;

1.95
date	2014.01.02.22.01.24;	author naddy;	state Exp;
branches;
next	1.94;

1.94
date	2013.12.04.15.23.55;	author naddy;	state Exp;
branches;
next	1.93;

1.93
date	2013.10.25.22.21.27;	author naddy;	state Exp;
branches;
next	1.92;

1.92
date	2013.10.09.17.25.39;	author naddy;	state Exp;
branches;
next	1.91;

1.91
date	2013.07.16.19.25.38;	author jasper;	state Exp;
branches
	1.91.2.1;
next	1.90;

1.90
date	2013.07.14.20.20.25;	author miod;	state Exp;
branches;
next	1.89;

1.89
date	2013.05.07.06.53.26;	author jasper;	state Exp;
branches;
next	1.88;

1.88
date	2013.03.21.08.46.33;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2013.03.11.11.35.46;	author espie;	state Exp;
branches;
next	1.86;

1.86
date	2013.02.08.16.45.25;	author naddy;	state Exp;
branches
	1.86.2.1;
next	1.85;

1.85
date	2013.02.08.16.27.12;	author jasper;	state Exp;
branches;
next	1.84;

1.84
date	2012.07.11.22.15.00;	author naddy;	state Exp;
branches
	1.84.2.1;
next	1.83;

1.83
date	2012.03.24.14.33.06;	author naddy;	state Exp;
branches;
next	1.82;

1.82
date	2012.03.08.12.13.00;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2012.01.26.20.09.08;	author naddy;	state Exp;
branches;
next	1.80;

1.80
date	2011.12.10.17.28.13;	author stsp;	state Exp;
branches;
next	1.79;

1.79
date	2011.12.06.14.44.46;	author naddy;	state Exp;
branches;
next	1.78;

1.78
date	2011.09.19.10.25.01;	author naddy;	state Exp;
branches;
next	1.77;

1.77
date	2011.07.05.08.18.11;	author jasper;	state Exp;
branches
	1.77.2.1;
next	1.76;

1.76
date	2011.03.24.21.09.07;	author naddy;	state Exp;
branches;
next	1.75;

1.75
date	2010.11.19.22.31.32;	author espie;	state Exp;
branches;
next	1.74;

1.74
date	2010.10.18.18.36.46;	author espie;	state Exp;
branches;
next	1.73;

1.73
date	2010.10.14.19.44.26;	author naddy;	state Exp;
branches;
next	1.72;

1.72
date	2010.09.19.16.30.26;	author naddy;	state Exp;
branches;
next	1.71;

1.71
date	2010.03.21.18.43.37;	author naddy;	state Exp;
branches;
next	1.70;

1.70
date	2010.02.10.16.27.32;	author naddy;	state Exp;
branches;
next	1.69;

1.69
date	2009.11.10.19.13.49;	author naddy;	state Exp;
branches;
next	1.68;

1.68
date	2009.08.16.17.54.21;	author naddy;	state Exp;
branches;
next	1.67;

1.67
date	2009.05.21.19.58.02;	author naddy;	state Exp;
branches
	1.67.2.1;
next	1.66;

1.66
date	2009.03.06.15.04.12;	author naddy;	state Exp;
branches;
next	1.65;

1.65
date	2009.01.21.21.17.27;	author naddy;	state Exp;
branches
	1.65.2.1;
next	1.64;

1.64
date	2008.11.20.19.49.40;	author naddy;	state Exp;
branches;
next	1.63;

1.63
date	2008.10.15.19.36.43;	author naddy;	state Exp;
branches;
next	1.62;

1.62
date	2008.06.24.18.37.25;	author naddy;	state Exp;
branches;
next	1.61;

1.61
date	2008.06.09.21.00.57;	author naddy;	state Exp;
branches;
next	1.60;

1.60
date	2008.05.13.17.56.29;	author naddy;	state Exp;
branches;
next	1.59;

1.59
date	2007.11.14.19.38.58;	author naddy;	state Exp;
branches;
next	1.58;

1.58
date	2007.10.02.16.52.41;	author naddy;	state Exp;
branches;
next	1.57;

1.57
date	2007.09.15.22.36.52;	author merdely;	state Exp;
branches;
next	1.56;

1.56
date	2007.05.13.17.08.25;	author naddy;	state Exp;
branches;
next	1.55;

1.55
date	2006.11.10.15.34.11;	author naddy;	state Exp;
branches;
next	1.54;

1.54
date	2006.09.19.14.33.13;	author naddy;	state Exp;
branches;
next	1.53;

1.53
date	2006.06.20.17.37.42;	author naddy;	state Exp;
branches;
next	1.52;

1.52
date	2006.03.20.17.21.28;	author naddy;	state Exp;
branches;
next	1.51;

1.51
date	2006.01.08.10.27.14;	author steven;	state Exp;
branches
	1.51.2.1;
next	1.50;

1.50
date	2005.12.23.17.37.03;	author todd;	state Exp;
branches;
next	1.49;

1.49
date	2005.12.08.17.10.02;	author naddy;	state Exp;
branches;
next	1.48;

1.48
date	2005.10.16.15.31.39;	author naddy;	state Exp;
branches;
next	1.47;

1.47
date	2005.05.26.23.13.28;	author naddy;	state Exp;
branches
	1.47.2.1;
next	1.46;

1.46
date	2005.03.14.22.52.20;	author naddy;	state Exp;
branches
	1.46.2.1;
next	1.45;

1.45
date	2004.12.16.00.31.21;	author alek;	state Exp;
branches;
next	1.44;

1.44
date	2004.05.18.23.30.45;	author brad;	state Exp;
branches
	1.44.2.1;
next	1.43;

1.43
date	2004.04.08.06.18.37;	author brad;	state Exp;
branches;
next	1.42;

1.42
date	2003.12.15.16.13.24;	author naddy;	state Exp;
branches
	1.42.2.1;
next	1.41;

1.41
date	2003.06.01.21.43.49;	author brad;	state Exp;
branches;
next	1.40;

1.40
date	2003.05.27.14.35.13;	author brad;	state Exp;
branches;
next	1.39;

1.39
date	2003.02.14.02.38.15;	author brad;	state Exp;
branches;
next	1.38;

1.38
date	2003.02.07.03.40.25;	author brad;	state Exp;
branches;
next	1.37;

1.37
date	2002.11.24.03.40.08;	author brad;	state Exp;
branches;
next	1.36;

1.36
date	2002.06.15.04.27.35;	author brad;	state Exp;
branches;
next	1.35;

1.35
date	2002.06.09.18.36.38;	author brad;	state Exp;
branches;
next	1.34;

1.34
date	2002.04.16.22.49.36;	author brad;	state Exp;
branches;
next	1.33;

1.33
date	2002.03.07.14.27.03;	author brad;	state Exp;
branches;
next	1.32;

1.32
date	2002.02.12.17.39.52;	author brad;	state Exp;
branches;
next	1.31;

1.31
date	2002.01.26.05.20.32;	author brad;	state Exp;
branches;
next	1.30;

1.30
date	2001.12.05.15.22.02;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2001.11.10.04.24.44;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	2001.09.25.15.00.00;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	2001.05.30.16.01.15;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2001.05.06.04.59.58;	author lebel;	state Exp;
branches;
next	1.25;

1.25
date	2001.04.06.17.30.41;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2001.03.30.18.40.59;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2001.02.22.22.19.52;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2001.02.18.21.49.36;	author obecian;	state Exp;
branches;
next	1.21;

1.21
date	2001.01.28.01.37.55;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2001.01.04.21.06.09;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2000.12.26.02.09.27;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2000.12.05.20.11.28;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2000.09.28.17.47.04;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2000.09.28.17.29.47;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2000.09.06.20.50.13;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.07.22.20.49.51;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2000.03.24.22.11.51;	author espie;	state Exp;
branches
	1.13.2.1;
next	1.12;

1.12
date	2000.03.23.07.04.34;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.14.22.38.19;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2000.01.17.05.05.15;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.11.30.00.54.44;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	99.11.30.00.23.28;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	99.10.29.03.44.29;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.09.01.17.12.58;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	99.08.18.00.14.17;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.08.01.15.44.34;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.06.13.19.25.03;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.04.25.18.37.43;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.03.27.07.18.57;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.03.27.07.18.57;	author brad;	state Exp;
branches;
next	;

1.13.2.1
date	2000.09.15.05.08.51;	author marc;	state Exp;
branches;
next	;

1.42.2.1
date	2005.03.29.20.25.38;	author sturm;	state Exp;
branches;
next	;

1.44.2.1
date	2005.03.15.22.20.38;	author robert;	state Exp;
branches;
next	1.44.2.2;

1.44.2.2
date	2005.10.22.06.41.40;	author sturm;	state Exp;
branches;
next	;

1.46.2.1
date	2005.10.22.06.42.22;	author sturm;	state Exp;
branches;
next	1.46.2.2;

1.46.2.2
date	2005.12.12.08.50.34;	author sturm;	state Exp;
branches;
next	1.46.2.3;

1.46.2.3
date	2006.03.25.16.26.19;	author sturm;	state Exp;
branches;
next	;

1.47.2.1
date	2005.11.01.11.20.12;	author sturm;	state Exp;
branches;
next	1.47.2.2;

1.47.2.2
date	2005.12.12.08.48.35;	author sturm;	state Exp;
branches;
next	1.47.2.3;

1.47.2.3
date	2006.03.25.17.41.47;	author sturm;	state Exp;
branches;
next	;

1.51.2.1
date	2006.05.01.08.48.28;	author sturm;	state Exp;
branches;
next	;

1.65.2.1
date	2009.07.15.02.52.09;	author william;	state Exp;
branches;
next	1.65.2.2;

1.65.2.2
date	2009.09.15.02.34.56;	author william;	state Exp;
branches;
next	;

1.67.2.1
date	2009.11.06.01.42.18;	author william;	state Exp;
branches;
next	1.67.2.2;

1.67.2.2
date	2010.02.13.04.00.57;	author william;	state Exp;
branches;
next	;

1.77.2.1
date	2012.01.27.23.08.01;	author ajacoutot;	state Exp;
branches;
next	;

1.84.2.1
date	2013.02.08.16.31.10;	author jasper;	state Exp;
branches;
next	;

1.86.2.1
date	2013.05.07.06.54.51;	author jasper;	state Exp;
branches;
next	1.86.2.2;

1.86.2.2
date	2013.07.16.19.25.57;	author jasper;	state Exp;
branches;
next	1.86.2.3;

1.86.2.3
date	2013.11.26.16.27.55;	author naddy;	state Exp;
branches;
next	1.86.2.4;

1.86.2.4
date	2014.02.03.21.59.25;	author naddy;	state Exp;
branches;
next	;

1.91.2.1
date	2013.11.26.16.24.09;	author naddy;	state Exp;
branches;
next	1.91.2.2;

1.91.2.2
date	2014.02.03.21.57.31;	author naddy;	state Exp;
branches;
next	;

1.96.2.1
date	2014.09.13.15.02.54;	author naddy;	state Exp;
branches;
next	1.96.2.2;
commitid	cI1O4Ho0GRVoGO50;

1.96.2.2
date	2015.01.11.22.53.15;	author naddy;	state Exp;
branches;
next	;
commitid	HTkqIXpPaz4yHqG6;

1.99.2.1
date	2014.09.13.19.57.07;	author naddy;	state Exp;
branches;
next	1.99.2.2;
commitid	PoFe9Sp53gZZLdWE;

1.99.2.2
date	2015.01.12.02.17.10;	author naddy;	state Exp;
branches;
next	1.99.2.3;
commitid	tJBKky4C4oSbqx2b;

1.99.2.3
date	2015.05.01.20.39.42;	author naddy;	state Exp;
branches;
next	;
commitid	Ij8k3y0w8XICbM4N;

1.105.2.1
date	2015.04.30.23.18.27;	author naddy;	state Exp;
branches;
next	1.105.2.2;
commitid	zXKzsZprdoQeh32Z;

1.105.2.2
date	2015.06.20.19.52.54;	author naddy;	state Exp;
branches;
next	;
commitid	Qu3ZDQxnp3vYUrrb;

1.109.4.1
date	2016.01.29.23.53.07;	author naddy;	state Exp;
branches;
next	;
commitid	ZT0EqoAzyI0DSzya;

1.114.2.1
date	2016.08.03.22.04.40;	author naddy;	state Exp;
branches;
next	1.114.2.2;
commitid	w1tVN8qfx3AaO8h1;

1.114.2.2
date	2016.09.17.21.39.18;	author naddy;	state Exp;
branches;
next	1.114.2.3;
commitid	iZ1E2fNWDnt1hpsi;

1.114.2.3
date	2016.11.04.15.20.52;	author naddy;	state Exp;
branches;
next	;
commitid	woi9VmGflxdFUwos;

1.118.2.1
date	2016.08.04.10.48.02;	author naddy;	state Exp;
branches;
next	1.118.2.2;
commitid	Cdkz6qSFEO9MccH1;

1.118.2.2
date	2016.09.17.21.39.05;	author naddy;	state Exp;
branches;
next	1.118.2.3;
commitid	5a7T4XRfYINkwxvQ;

1.118.2.3
date	2016.11.04.14.09.36;	author naddy;	state Exp;
branches;
next	1.118.2.4;
commitid	j8vMfWnDLihMh9DN;

1.118.2.4
date	2017.01.04.20.57.54;	author naddy;	state Exp;
branches;
next	1.118.2.5;
commitid	yns6hc9G2VLHFoMe;

1.118.2.5
date	2017.01.05.21.10.17;	author naddy;	state Exp;
branches;
next	1.118.2.6;
commitid	0lFAERkZiYFPyRQh;

1.118.2.6
date	2017.02.24.21.09.11;	author naddy;	state Exp;
branches;
next	;
commitid	M944NTzYr6VGMugv;


desc
@@


1.125
log
@Update to 7.54.0.  Includes fix for
CVE-2017-7468: TLS session resumption client cert bypass (again)
@
text
@# $OpenBSD: Makefile,v 1.124 2017/02/24 21:08:28 naddy Exp $

COMMENT=	get files from FTP, Gopher, HTTP or HTTPS servers

VERSION=	7.54.0
DISTNAME=	curl-${VERSION}
SHARED_LIBS=	curl                 25.10    # 8.0
CATEGORIES=	net
HOMEPAGE=	https://curl.haxx.se/

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>

# MIT
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	https://curl.haxx.se/download/ \
		https://dl.uxnr.de/mirror/curl/
EXTRACT_SUFX=	.tar.lzma

LIB_DEPENDS=	www/nghttp2
WANTLIB=	c crypto nghttp2 ssl z

SEPARATE_BUILD=	Yes
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--with-ca-bundle=/etc/ssl/cert.pem \
		--without-libidn2 \
		--without-libpsl \
		--without-libssh2
CONFIGURE_ENV=	ac_cv_path_NROFF="/usr/bin/mandoc -Tascii"

# speed up some time-consuming configure tests
CONFIGURE_ENV+= \
    curl_cv_func_select_args="int,fd_set *,struct timeval *,int" \
    curl_cv_func_recv_args="int,void *,size_t,int,ssize_t" \
    curl_cv_func_send_args="int,const void *,size_t,int,ssize_t" \
    curl_cv_func_getnameinfo_args="const struct sockaddr *,socklen_t,size_t,int"

# Note:
# use ulimit -p 256 for test

.include <bsd.port.mk>
@


1.124
log
@SECURITY update to 7.53.1:
CVE-2017-2629: make SSL_VERIFYSTATUS work again
Also numerous other bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2017/01/05 20:46:00 naddy Exp $
d5 1
a5 1
VERSION=	7.53.1
d7 1
a7 1
SHARED_LIBS=	curl                 25.9     # 8.0
@


1.123
log
@Upstream commit a7b38c9dc98481e4a5fc37e51a8690337c674dfb to fix a problem
that causes rtorrent to busy loop when announcing to the tracker.  ok tj@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2017/01/04 20:28:56 naddy Exp $
d5 1
a5 1
VERSION=	7.52.1
d7 1
a7 2
REVISION=	0
SHARED_LIBS=	curl                 25.8     # 8.0
d26 1
a26 1
		--without-libidn \
@


1.122
log
@Security update to 7.52.1:
CVE-2016-9586: printf floating point buffer overflow
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2016/11/04 11:33:33 naddy Exp $
d7 1
@


1.121
log
@Security update to 7.51.0.
CVE-2016-8615: cookie injection for other servers
CVE-2016-8616: case insensitive password comparison
CVE-2016-8617: OOB write via unchecked multiplication
CVE-2016-8618: double-free in curl_maprintf
CVE-2016-8619: double-free in krb5 code
CVE-2016-8620: glob parser write/read out of bounds
CVE-2016-8621: curl_getdate read out of bounds
CVE-2016-8622: URL unescape heap overflow via integer truncation
CVE-2016-8623: Use-after-free via shared cookies
CVE-2016-8624: invalid URL parsing with '#'
CVE-2016-8625: IDNA 2003 makes curl use wrong host

Note that this drops support for internationalized domain names.
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2016/09/17 19:34:35 naddy Exp $
d5 1
a5 1
VERSION=	7.51.0
d7 1
a7 1
SHARED_LIBS=	curl                 25.7     # 8.0
d26 1
a26 1
		--without-libidn2 \
@


1.120
log
@Security update to 7.50.3:
CVE-2016-7167: curl escape and unescape integer overflows
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2016/08/03 20:44:08 naddy Exp $
d5 1
a5 1
VERSION=	7.50.3
d7 1
a7 1
SHARED_LIBS=	curl                 25.6     # 8.0
d20 2
a21 4
LIB_DEPENDS=	devel/gettext \
		devel/libidn \
		www/nghttp2
WANTLIB=	c crypto iconv idn intl nghttp2 ssl z
d26 1
a26 1
		--with-libidn=${LOCALBASE} \
@


1.119
log
@Security update to 7.50.1.
CVE-2016-5419: TLS session resumption client cert bypass
CVE-2016-5420: Re-using connections with wrong client cert
CVE-2016-5421: use of connection struct after free
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2016/05/28 20:05:21 naddy Exp $
d5 1
a5 1
VERSION=	7.50.1
@


1.118
log
@maintenance update to 7.49.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2016/04/05 19:33:21 naddy Exp $
d5 1
a5 1
VERSION=	7.49.0
d7 1
a7 1
SHARED_LIBS=	curl                 25.5     # 8.0
@


1.118.2.1
log
@Security fixes:
CVE-2016-5419: TLS session resumption client cert bypass
CVE-2016-5420: Re-using connections with wrong client cert
CVE-2016-5421: use of connection struct after free
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2016/05/28 20:05:21 naddy Exp $
a6 1
REVISION=	0
@


1.118.2.2
log
@Security fix:
CVE-2016-7167: curl escape and unescape integer overflows
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118.2.1 2016/08/04 10:48:02 naddy Exp $
d7 1
a7 1
REVISION=	1
@


1.118.2.3
log
@Security update to 7.51.0.
CVE-2016-8615: cookie injection for other servers
CVE-2016-8616: case insensitive password comparison
CVE-2016-8617: OOB write via unchecked multiplication
CVE-2016-8618: double-free in curl_maprintf
CVE-2016-8619: double-free in krb5 code
CVE-2016-8620: glob parser write/read out of bounds
CVE-2016-8621: curl_getdate read out of bounds
CVE-2016-8622: URL unescape heap overflow via integer truncation
CVE-2016-8623: Use-after-free via shared cookies
CVE-2016-8624: invalid URL parsing with '#'
CVE-2016-8625: IDNA 2003 makes curl use wrong host

Note that this drops support for internationalized domain names.
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
VERSION=	7.51.0
d7 2
a8 1
SHARED_LIBS=	curl                 25.7     # 8.0
d21 4
a24 6
LIB_DEPENDS=	www/nghttp2
WANTLIB=	c crypto nghttp2 ssl z

# unused, for compatibility with OPENBSD_6_0_BASE
LIB_DEPENDS+=	devel/libidn
WANTLIB+=	iconv idn intl
d29 1
a29 1
		--without-libidn2 \
@


1.118.2.4
log
@Security update to 7.52.1:
CVE-2016-9586: printf floating point buffer overflow
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118.2.3 2016/11/04 14:09:36 naddy Exp $
d5 1
a5 1
VERSION=	7.52.1
d7 1
a7 1
SHARED_LIBS=	curl                 25.8     # 8.0
d30 1
a30 1
		--without-libidn \
@


1.118.2.5
log
@Upstream commit a7b38c9dc98481e4a5fc37e51a8690337c674dfb to fix a problem
that causes rtorrent to busy loop when announcing to the tracker.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118.2.4 2017/01/04 20:57:54 naddy Exp $
a6 1
REVISION=	0
@


1.118.2.6
log
@SECURITY update to 7.53.1:
CVE-2017-2629: make SSL_VERIFYSTATUS work again
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118.2.5 2017/01/05 21:10:17 naddy Exp $
d5 1
a5 1
VERSION=	7.53.1
d7 2
a8 1
SHARED_LIBS=	curl                 25.9     # 8.0
d31 1
a31 1
		--without-libidn2 \
@


1.117
log
@maintenance update to 7.48.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2016/03/11 20:28:28 naddy Exp $
d5 1
a5 1
VERSION=	7.48.0
d7 1
a7 1
SHARED_LIBS=	curl                 25.4     # 8.0
@


1.116
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2016/02/27 21:55:51 naddy Exp $
d5 1
a5 1
VERSION=	7.47.0
d7 1
a7 2
REVISION=	0
SHARED_LIBS=	curl                 25.3     # 8.0
d20 2
a21 2
MODULES=	devel/gettext
LIB_DEPENDS=	devel/libidn \
d23 1
a23 1
WANTLIB=	c crypto idn nghttp2 ssl z
@


1.115
log
@update HOMEPAGE and MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2016/01/29 23:52:24 naddy Exp $
d28 1
a28 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-ca-bundle=/etc/ssl/cert.pem \
@


1.114
log
@Update to 7.47.0.
Fixes CVE-2016-0755: NTLM credentials not-checked for proxy connection re-use
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2016/01/01 22:17:05 naddy Exp $
d7 1
d10 1
a10 1
HOMEPAGE=	http://curl.haxx.se/
d17 2
a18 3
MASTER_SITES=	\
    https://github.com/bagder/curl/releases/download/curl-${VERSION:S/./_/g}/ \
    http://curl.haxx.se/download/
@


1.114.2.1
log
@Security fixes:
CVE-2016-5419: TLS session resumption client cert bypass
CVE-2016-5420: Re-using connections with wrong client cert
CVE-2016-5421: use of connection struct after free
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2016/01/29 23:52:24 naddy Exp $
a5 1
REVISION=	0
@


1.114.2.2
log
@Security fix:
CVE-2016-7167: curl escape and unescape integer overflows
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114.2.1 2016/08/03 22:04:40 naddy Exp $
d6 1
a6 1
REVISION=	1
@


1.114.2.3
log
@Security update to 7.51.0.
CVE-2016-8615: cookie injection for other servers
CVE-2016-8616: case insensitive password comparison
CVE-2016-8617: OOB write via unchecked multiplication
CVE-2016-8618: double-free in curl_maprintf
CVE-2016-8619: double-free in krb5 code
CVE-2016-8620: glob parser write/read out of bounds
CVE-2016-8621: curl_getdate read out of bounds
CVE-2016-8622: URL unescape heap overflow via integer truncation
CVE-2016-8623: Use-after-free via shared cookies
CVE-2016-8624: invalid URL parsing with '#'
CVE-2016-8625: IDNA 2003 makes curl use wrong host

Note that this drops support for internationalized domain names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118.2.3 2016/11/04 14:09:36 naddy Exp $
d5 2
a6 1
VERSION=	7.51.0
d8 1
a8 1
SHARED_LIBS=	curl                 25.7     # 8.0
d10 1
a10 1
HOMEPAGE=	https://curl.haxx.se/
d17 3
a19 2
MASTER_SITES=	https://curl.haxx.se/download/ \
		https://dl.uxnr.de/mirror/curl/
d22 4
a25 6
LIB_DEPENDS=	www/nghttp2
WANTLIB=	c crypto nghttp2 ssl z

# unused, for compatibility with OPENBSD_5_9_BASE
LIB_DEPENDS+=	devel/libidn
WANTLIB+=	iconv idn intl
d29 3
a31 2
CONFIGURE_ARGS=	--with-ca-bundle=/etc/ssl/cert.pem \
		--without-libidn2 \
@


1.113
log
@routine update to 7.46.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2015/10/30 00:26:46 sthen Exp $
d5 1
a5 1
VERSION=	7.46.0
d7 1
a7 1
SHARED_LIBS=	curl                 25.2     # 8.0
d31 1
@


1.112
log
@curl picks up nghttp2 if present at build time; list it as an explicit
dependency, naddy@@ agrees.

The nghttp2 port is careful to avoid additional dependencies that are
known not to build on some arch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2015/10/18 19:16:30 naddy Exp $
d5 3
a7 3
DISTNAME=	curl-7.45.0
REVISION=	0
SHARED_LIBS=	curl                 25.1     # 8.0
d16 3
a18 4
MASTER_SITES=	http://curl.haxx.se/download/ \
		http://dl.uxnr.de/mirror/curl/ \
		http://www.execve.net/curl/ \
		http://curl.askapache.com/download/
d35 5
a39 4
CONFIGURE_ENV+=curl_cv_func_select_args="int,fd_set *,struct timeval *,int"
CONFIGURE_ENV+=curl_cv_func_recv_args="int,void *,size_t,int,ssize_t"
CONFIGURE_ENV+=curl_cv_func_send_args="int,const void *,size_t,int,ssize_t"
CONFIGURE_ENV+=curl_cv_func_getnameinfo_args="const struct sockaddr *,socklen_t,size_t,int"
@


1.111
log
@update to 7.45.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2015/08/19 17:08:48 naddy Exp $
d6 1
d23 3
a25 2
LIB_DEPENDS=	devel/libidn
WANTLIB=	c crypto idn ssl z
@


1.110
log
@maintenance update to 7.44.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2015/06/20 19:50:55 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.44.0
SHARED_LIBS=	curl                 25.0     # 8.0
@


1.109
log
@Security update to 7.43.0.  Fixes:

CVE-2015-3236: lingering HTTP credentials in connection re-use
http://curl.haxx.se/docs/adv_20150617A.html

CVE-2015-3237: SMB send off unrelated memory contents
http://curl.haxx.se/docs/adv_20150617B.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2015/04/30 22:32:24 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.43.0
SHARED_LIBS=	curl                 24.9     # 7.0
@


1.109.4.1
log
@Security fix for
CVE-2016-0755: NTLM credentials not-checked for proxy connection re-use
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2015/06/20 19:50:55 naddy Exp $
a5 1
REVISION=	0
@


1.108
log
@Security update to 7.42.1.  Fixes:
CVE-2015-3153: sensitive HTTP server headers also sent to proxies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2015/04/28 19:26:36 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.42.1
SHARED_LIBS=	curl                 24.8     # 7.0
d16 3
a18 1
		ftp://ftp.sunet.se/pub/www/utilities/curl/
a35 1
CONFIGURE_ENV+=curl_cv_func_recvfrom_args="int,void *,size_t,int,struct sockaddr *,socklen_t *,ssize_t"
d37 1
@


1.107
log
@Security update to 7.42.0.  Fixes:
CVE-2015-3143: Re-using authenticated connection when unauthenticated
CVE-2015-3144: host name out of boundary memory access
CVE-2015-3145: cookie parser out of boundary memory access
CVE-2015-3148: Negotiate not treated as connection-oriented
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2015/03/17 22:47:02 naddy Exp $
d5 1
a5 1
DISTNAME=	curl-7.42.0
@


1.106
log
@maintenance update to 7.41.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2015/01/11 12:58:41 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.41.0
SHARED_LIBS=	curl                 24.7     # 7.0
@


1.105
log
@Update to 7.40.0.
* Fix CVE-2014-8150 (URL request injection)
* Add initial support for the SMB/CIFS protocol
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2014/11/30 16:44:04 schwarze Exp $
d5 2
a6 2
DISTNAME=	curl-7.40.0
SHARED_LIBS=	curl                 24.6     # 7.0
@


1.105.2.1
log
@Security fixes:
CVE-2015-3143: Re-using authenticated connection when unauthenticated
CVE-2015-3144: host name out of boundary memory access
CVE-2015-3145: cookie parser out of boundary memory access
CVE-2015-3148: Negotiate not treated as connection-oriented
CVE-2015-3153: sensitive HTTP server headers also sent to proxies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2015/01/11 12:58:41 naddy Exp $
a5 1
REVISION=	0
@


1.105.2.2
log
@Security fixes:
CVE-2015-3236: lingering HTTP credentials in connection re-use
CVE-2015-3237: SMB send off unrelated memory contents
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105.2.1 2015/04/30 23:18:27 naddy Exp $
d6 1
a6 1
REVISION=	1
@


1.104
log
@Usually, ports Makefiles should not explicitly call mandoc or groff
but leave the formatting to pkg_create(1) if needed.  In the special
cases where they do need to call mandoc (for example, like in this
case, to include a formatted manual into a binary program) they
should pass the -Tascii option to avoid depending on the user's
locale, since mandoc -Tlocale will soon be the default.

In this case, it isn't strictly needed because the upstream Makefile
uses "env LC_ALL=C" when calling groff/mandoc.  But let's avoid the
fragility of depending on that, and let's avoid setting a bad example.

No package change, no bump.
ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2014/11/15 21:36:18 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.39.0
SHARED_LIBS=	curl                 24.5     # 7.0
@


1.103
log
@maintenance update to 7.39.0: SSLv3 is disabled by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2014/09/13 15:09:24 naddy Exp $
d29 1
a29 1
CONFIGURE_ENV=	ac_cv_path_NROFF=/usr/bin/mandoc
@


1.102
log
@add default support for extracting *.tar.lzma; ok juanfra@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2014/09/11 18:00:45 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.38.0
SHARED_LIBS=	curl                 24.4     # 7.0
@


1.101
log
@Security update to 7.38.0.  Fixes
CVE-2014-3613 (libcurl cookie leak with IP address as domain)
CVE-2014-3620 (libcurl cookie leak for TLDs)

Also switch to .lzma distfile.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2014/09/02 19:54:24 naddy Exp $
a17 2
EXTRACT_CASES=	*.tar.lzma) xz -cd ${FULLDISTDIR}/$$archive | ${TAR} xf - ;;
BUILD_DEPENDS=	archivers/xz
@


1.100
log
@maintenance update to 7.37.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2014/06/13 20:32:33 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.37.1
SHARED_LIBS=	curl                 24.3     # 7.0
a7 3
MASTER_SITES=	http://curl.haxx.se/download/ \
		ftp://ftp.sunet.se/pub/www/utilities/curl/

d14 6
@


1.99
log
@maintenance update to 7.37.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2014/03/19 13:40:59 jasper Exp $
d5 1
a5 1
DISTNAME=	curl-7.37.0
@


1.99.2.1
log
@Security fixes for
CVE-2014-3613 (libcurl cookie leak with IP address as domain)
CVE-2014-3620 (libcurl cookie leak for TLDs)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2014/06/13 20:32:33 naddy Exp $
a5 1
REVISION=	0
@


1.99.2.2
log
@Security fixes for
CVE-2014-3707: libcurl duphandle read out of bounds
CVE-2014-8150: URL request injection
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99.2.1 2014/09/13 19:57:07 naddy Exp $
d6 1
a6 1
REVISION=	1
@


1.99.2.3
log
@Security fixes:
CVE-2015-3143: Re-using authenticated connection when unauthenticated
CVE-2015-3144: host name out of boundary memory access
CVE-2015-3145: cookie parser out of boundary memory access
CVE-2015-3148: Negotiate not treated as connection-oriented
CVE-2015-3153: sensitive HTTP server headers also sent to proxies

Backport for CVE-2015-3148 from Ubuntu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99.2.2 2015/01/12 02:17:10 naddy Exp $
d6 1
a6 1
REVISION=	2
@


1.98
log
@remove m68k-related workarounds
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2014/03/10 22:43:38 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.35.0
SHARED_LIBS=	curl                 24.2     # 7.0
@


1.97
log
@maintenance update to 7.35.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2014/02/03 21:52:14 naddy Exp $
a37 6

# curl_fnmatch.c triggers an ICE in output_operand() when compiled -fPIC unless
# -fno-gcse is used.
.if ${MACHINE_ARCH} == "m68k"
CFLAGS+=	-fno-gcse
.endif
@


1.96
log
@Security fix for CVE-2014-0015: re-use of wrong HTTP NTLM connection
http://curl.haxx.se/docs/adv_20140129.html
From: Donovan Watteau
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2014/01/02 22:01:24 naddy Exp $
d5 1
a5 2
DISTNAME=	curl-7.34.0
REVISION=	0
@


1.96.2.1
log
@Security fixes for
CVE-2014-3613 (libcurl cookie leak with IP address as domain)
CVE-2014-3620 (libcurl cookie leak for TLDs)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2014/02/03 21:52:14 naddy Exp $
d6 1
a6 1
REVISION=	1
@


1.96.2.2
log
@Security fixes for
CVE-2014-3707: libcurl duphandle read out of bounds
CVE-2014-8150: URL request injection
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96.2.1 2014/09/13 15:02:54 naddy Exp $
d6 1
a6 1
REVISION=	2
@


1.95
log
@maintenance update to 7.34.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2013/12/04 15:23:55 naddy Exp $
d6 1
@


1.94
log
@use <sys/select.h> to get select() in a reliable, standards-compliant way
pointed out by kirby@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2013/10/25 22:21:27 naddy Exp $
d5 2
a6 3
DISTNAME=	curl-7.33.0
REVISION=	0
SHARED_LIBS=	curl                 24.1     # 7.0
@


1.93
log
@maintenance update to 7.33.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2013/10/09 17:25:39 naddy Exp $
d6 1
@


1.92
log
@Update to 7.32.0.
No revolutionary changes; see http://curl.haxx.se/changes.html for
the details.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/07/16 19:25:38 jasper Exp $
d5 2
a6 2
DISTNAME=	curl-7.32.0
SHARED_LIBS=	curl                 24.0     # 7.0
@


1.91
log
@Security fix for CVE-2013-2174,
libcURL "curl_easy_unescape()" Buffer Overflow Vulnerability

ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/07/14 20:20:25 miod Exp $
d5 2
a6 3
DISTNAME=	curl-7.26.0
REVISION=	3
SHARED_LIBS=	curl                 23.0     # .6.0
d22 1
a34 5

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/emacs/site-lisp
	cd ${WRKSRC}; ${INSTALL_DATA} curl-style.el \
		${PREFIX}/share/emacs/site-lisp
@


1.91.2.1
log
@Security fix: libcurl cert name check ignore (CVE-2013-4545)
http://curl.haxx.se/docs/adv_20131115.html

ok sthen@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/07/16 19:25:38 jasper Exp $
d6 1
a6 1
REVISION=	4
@


1.91.2.2
log
@Security fix for CVE-2014-0015: re-use of wrong HTTP NTLM connection
http://curl.haxx.se/docs/adv_20140129.html
From: Donovan Watteau
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91.2.1 2013/11/26 16:24:09 naddy Exp $
d6 1
a6 1
REVISION=	5
@


1.90
log
@Fix build on m68k. No revision bump 'coz it had been broken for quite a long
time.
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/05/07 06:53:26 jasper Exp $
d6 1
a6 1
REVISION=	2
@


1.89
log
@Security fix for CVE-2013-1944 curl: Cookie domain suffix match vulnerability

ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/03/21 08:46:33 ajacoutot Exp $
d43 6
@


1.88
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2013/03/11 11:35:46 espie Exp $
d6 1
a6 1
REVISION=	1
@


1.87
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2013/02/08 16:45:25 naddy Exp $
a22 1
USE_LIBTOOL=	Yes
@


1.86
log
@include the built-in manual, as intended
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2013/02/08 16:27:12 jasper Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d43 1
a43 1
# use ulimit -p 256 for regress
@


1.86.2.1
log
@Security fix for CVE-2013-1944 curl: Cookie domain suffix match vulnerability

ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2013/02/08 16:45:25 naddy Exp $
d6 1
a6 1
REVISION=	2
@


1.86.2.2
log
@Security fix for CVE-2013-2174,
libcURL "curl_easy_unescape()" Buffer Overflow Vulnerability

ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86.2.1 2013/05/07 06:54:51 jasper Exp $
d6 1
a6 1
REVISION=	3
@


1.86.2.3
log
@Security fix: libcurl cert name check ignore (CVE-2013-4545)
http://curl.haxx.se/docs/adv_20131115.html

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86.2.2 2013/07/16 19:25:57 jasper Exp $
d6 1
a6 1
REVISION=	4
@


1.86.2.4
log
@Security fix for CVE-2014-0015: re-use of wrong HTTP NTLM connection
http://curl.haxx.se/docs/adv_20140129.html
From: Donovan Watteau
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86.2.3 2013/11/26 16:27:55 naddy Exp $
d6 1
a6 1
REVISION=	5
@


1.85
log
@Security fix for CVE-2013-0249, smtp_state_authdigest_resp()
buffer overflow vulnerability.

Backported from upstream git.

ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2012/07/11 22:15:00 naddy Exp $
d6 1
a6 1
REVISION=	0
d32 1
@


1.84
log
@update to 7.26.0 and update DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2012/03/24 14:33:06 naddy Exp $
d6 1
@


1.84.2.1
log
@Security fix for CVE-2013-0249, smtp_state_authdigest_resp()
buffer overflow vulnerability.

Backported from upstream git.

ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2012/07/11 22:15:00 naddy Exp $
a5 1
REVISION=	0
@


1.83
log
@update to 7.25.0, curl's 14th birthday release
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2012/03/08 12:13:00 ajacoutot Exp $
d5 2
a6 2
DISTNAME=	curl-7.25.0
SHARED_LIBS=	curl                 22.1     # .6.0
@


1.82
log
@Garbage collect the /dev/arandom patches.

from Brad
ok landry@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2012/01/26 20:09:08 naddy Exp $
d5 2
a6 3
DISTNAME=	curl-7.24.0
REVISION=	0
SHARED_LIBS=	curl                 22.0     # .6.0
@


1.81
log
@security update to 7.24.0, fixes
* URL sanitization vulnerability (CVE-2012-0036)
* SSL CBC IV vulnerability
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2011/12/10 17:28:13 stsp Exp $
d6 1
a29 1
		--with-random="/dev/arandom" \
@


1.80
log
@Speed up some time-consuming configure tests. ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2011/12/06 14:44:46 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.23.1
SHARED_LIBS=	curl                 21.0     # .6.0
@


1.79
log
@maintenance update to 7.23.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2011/09/19 10:25:01 naddy Exp $
d32 6
@


1.78
log
@maintenance update to 7.22.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2011/07/05 08:18:11 jasper Exp $
d5 2
a6 2
DISTNAME=	curl-7.22.0
SHARED_LIBS=	curl                 20.0     # .6.0
@


1.77
log
@- update curl to 7.21.7

tested in a bulk and ok landry@@, thanks
ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2011/03/24 21:09:07 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.21.7
SHARED_LIBS=	curl                 19.0     # .6.0
@


1.77.2.1
log
@SECURITY fix for multiple vulnerabilities:
URL sanitize: reject URLs containing bad data (CVE-2012-0036)
OpenSSL: don't disable security work-around

ok sthen@@ naddy@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2011/07/05 08:18:11 jasper Exp $
a9 2

REVISION=	0
@


1.76
log
@* update to 7.21.4 for various minor bug fixes
* no need for groff anymore
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2010/11/19 22:31:32 espie Exp $
d5 2
a6 2
DISTNAME=	curl-7.21.4
SHARED_LIBS=	curl                 18.0     # .6.0
@


1.75
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2010/10/18 18:36:46 espie Exp $
d5 2
a6 2
DISTNAME=	curl-7.21.2
SHARED_LIBS=	curl                 17.0     # .6.0
a25 1
USE_GROFF =	Yes
@


1.74
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2010/10/14 19:44:26 naddy Exp $
d22 1
a22 1
LIB_DEPENDS=	::devel/libidn
@


1.73
log
@Update to 7.21.2, which brings back Gopher support.
The security fix announced for this release doesn't concern Unix.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2010/09/19 16:30:26 naddy Exp $
d26 1
@


1.72
log
@keep up with upstream and update to 7.21.1; remove dead mirrors
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2010/03/21 18:43:37 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.21.1
SHARED_LIBS=	curl                 16.0     # .6.0
@


1.71
log
@maintenance update to 7.20.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2010/02/10 16:27:32 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.20.0
SHARED_LIBS=	curl                 15.0     # .6.0
d9 1
a9 7
		ftp://ftp.sunet.se/pub/www/utilities/curl/ \
		ftp://cool.haxx.se/curl/ \
		ftp://ftp.fu-berlin.de/pub/unix/network/curl/ \
		http://curl.linuxworx.com.au/ \
		http://www.cubic.ch/mirror/curl/ \
		http://curl.webmeta.com/ \
		ftp://gd.tuwien.ac.ut/utils/archivers/curl/
d22 2
a23 2
LIB_DEPENDS=	idn.>=16::devel/libidn
WANTLIB=	c crypto ssl z
d37 3
@


1.70
log
@SECURITY fix for libcurl data callback excessive length bug.
http://curl.haxx.se/docs/adv_20100209.html

ok ajacoutot@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2009/11/10 19:13:49 naddy Exp $
d5 2
a6 3
DISTNAME=	curl-7.19.7
PKGNAME=	${DISTNAME}p0
SHARED_LIBS +=  curl                 14.1     # .5.1
@


1.69
log
@update to 7.19.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2009/08/16 17:54:21 naddy Exp $
d6 1
@


1.68
log
@SECURITY update to 7.19.6
Fixes libcurl embedded zero in cert name vulnerability, CVE-2009-2417.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2009/05/21 19:58:02 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.19.6
SHARED_LIBS +=  curl                 14.0     # .5.1
@


1.67
log
@maintenance update to 7.19.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2009/03/06 15:04:12 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.19.5
SHARED_LIBS +=  curl                 13.2     # .5.1
@


1.67.2.1
log
@SECURITY FIX

Fixes libcurl embedded zero in cert name vulnerability, CVE-2009-2417.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2009/05/21 19:58:02 naddy Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.67.2.2
log
@MFC:

SECURITY FIX

Resolves the libcurl data callback excessive length bug

ok naddy@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67.2.1 2009/11/06 01:42:18 william Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.66
log
@Security update to 7.19.4.
Rogue servers could trick curl into accessing local files; CVE-2009-0037.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2009/01/21 21:17:27 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.19.4
SHARED_LIBS +=  curl                 13.1     # .5.1
@


1.65
log
@maintenance update to 7.19.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2008/11/20 19:49:40 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.19.3
SHARED_LIBS +=  curl                 13.0     # .5.1
@


1.65.2.1
log
@SECURITY FIX

Resolve CVE-2009-0037:
Rogue servers could trick curl into accessing local files

Patch adapted from debian

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2009/01/21 21:17:27 naddy Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.65.2.2
log
@SECURITY FIX

Resolve CVE-2009-2417, from upstream

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65.2.1 2009/07/15 02:52:09 william Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.64
log
@update to 7.19.2, which has some bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2008/10/15 19:36:43 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.19.2
SHARED_LIBS +=  curl                 12.0     # .5.1
@


1.63
log
@Update to 7.19.0.  Prodded by robert@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2008/06/24 18:37:25 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.19.0
SHARED_LIBS +=  curl                 11.0     # .5.0
@


1.62
log
@update to 7.18.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2008/06/09 21:00:57 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.18.2
SHARED_LIBS +=  curl                 10.0     # .5.0
@


1.61
log
@Different workaround for link path ordering, keep build path out of
pkgconfig entry.  Problem reported by and ok landry@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2008/05/13 17:56:29 naddy Exp $
d5 2
a6 3
DISTNAME=	curl-7.18.1
PKGNAME=	${DISTNAME}p0
SHARED_LIBS +=  curl                 9.0      # .4.1
@


1.60
log
@* Update to 7.18.1.
* A CA cert bundle is no longer included, so point to /etc/ssl/cert.pem.
* Compile examples during build rather than fake stage.

ok sthen@@, additional testing by merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2007/11/14 19:38:58 naddy Exp $
d6 1
a38 2
# don't link against ${LOCALBASE}/lib/libcurl
CONFIGURE_ENV=	LDFLAGS="-L${WRKBUILD}/lib/.libs"
@


1.59
log
@- maintenance update to 7.17.1
- libidn pulls in a gettext dependency
- make sure we link against the correct libcurl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2007/10/02 16:52:41 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.17.1
SHARED_LIBS +=  curl                 8.0      # .4.1
d34 1
@


1.58
log
@maintenance update to 7.17.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2007/09/15 22:36:52 merdely Exp $
d5 2
a6 2
DISTNAME=	curl-7.17.0
SHARED_LIBS +=  curl                 7.0      # .4.0
d27 1
d29 1
a29 1
WANTLIB=	c crypto iconv ssl z
d37 2
@


1.57
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2007/05/13 17:08:25 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.16.2
SHARED_LIBS +=  curl                 6.0      # .4.0
@


1.56
log
@- update to 7.16.2
- enable IDN support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2006/11/10 15:34:11 naddy Exp $
d3 1
a3 1
COMMENT=	"get files from FTP, Gopher, HTTP or HTTPS servers"
@


1.55
log
@update to 7.16.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2006/09/19 14:33:13 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.16.0
SHARED_LIBS +=  curl                 5.0      # .4.0
d27 2
a28 1
WANTLIB=	c crypto ssl z 
a32 1
		--mandir='$${prefix}/man' \
d34 2
a35 1
		--without-libidn
@


1.54
log
@update to 7.15.5: various bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2006/06/20 17:37:42 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.15.5
SHARED_LIBS=	curl	4.0
@


1.53
log
@maintenance update to 7.15.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2006/03/20 17:21:28 naddy Exp $
d5 2
a6 2
DISTNAME=	curl-7.15.4
SHARED_LIBS=	curl	3.4
@


1.52
log
@SECURITY: Update to 7.15.3.
Fixes TFTP packet buffer overflow vulnerability. (CVE-2006-1061)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2006/01/08 10:27:14 steven Exp $
d5 2
a6 2
DISTNAME=	curl-7.15.3
SHARED_LIBS=	curl	3.3
d32 1
@


1.51
log
@remove MODGNU_SHARED_LIBS and old -version-info patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2005/12/23 17:37:03 todd Exp $
d5 2
a6 2
DISTNAME=	curl-7.15.1
SHARED_LIBS=	curl	3.2
@


1.51.2.1
log
@MFC:
SECURITY: Update to 7.15.3.
Fixes TFTP packet buffer overflow vulnerability. (CVE-2006-1061)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2006/01/08 10:27:14 steven Exp $
d5 2
a6 2
DISTNAME=	curl-7.15.3
SHARED_LIBS=	curl	3.3
@


1.50
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2005/12/08 17:10:02 naddy Exp $
d6 1
a15 2
SHARED_LIBS=	curl	3.2
MODGNU_SHARED_LIBS=curl	''
@


1.49
log
@SECURITY:
Update to 7.15.1, which fixes a local buffer overflow.
http://curl.haxx.se/docs/adv_20051207.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2005/10/16 15:31:39 naddy Exp $
d15 2
@


1.48
log
@SECURITY:
Update to 7.15.0.
libcurl's NTLM function could overflow a stack-based buffer if given
a too long user name or domain name.  CAN-2005-3185.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2005/05/26 23:13:28 naddy Exp $
d5 1
a5 1
DISTNAME=	curl-7.15.0
@


1.47
log
@maintenance update to 7.14.0 and take maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2005/03/14 22:52:20 naddy Exp $
d5 1
a5 1
DISTNAME=	curl-7.14.0
a24 1
WANTLIB=		c crypto ssl z 
d26 3
a28 1
SEPARATE_BUILD=	simple
d30 3
a32 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED} --with-random="/dev/arandom"
@


1.47.2.1
log
@MFC:
Update to 7.15.0.
libcurl's NTLM function could overflow a stack-based buffer if given
a too long user name or domain name.  CAN-2005-3185.

ok brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2005/05/26 23:13:28 naddy Exp $
d5 1
a5 1
DISTNAME=	curl-7.15.0
d27 1
a27 1
USE_LIBTOOL=	Yes
d29 1
a29 3
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-random="/dev/arandom" \
		--without-libidn
@


1.47.2.2
log
@MFC:
SECURITY:
Update to 7.15.1, which fixes a local buffer overflow.
http://curl.haxx.se/docs/adv_20051207.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47.2.1 2005/11/01 11:20:12 sturm Exp $
d5 1
a5 1
DISTNAME=	curl-7.15.1
@


1.47.2.3
log
@MFC:
SECURITY: Update to 7.15.3.
Fixes TFTP packet buffer overflow vulnerability. (CVE-2006-1061)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47.2.2 2005/12/12 08:48:35 sturm Exp $
d5 1
a5 1
DISTNAME=	curl-7.15.3
@


1.46
log
@SECURITY:
Fix NT LAN Manager (NTLM) authentication handling. By sending a
specially crafted long NTLM reply packet, a remote attacker could
overflow the reply buffer.  This could lead to execution of arbitrary
attacker specified code with the privileges of the application using
the cURL library.  CAN-2005-0490.  From Ubuntu.

ok brad@@, pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2004/12/16 00:31:21 alek Exp $
d5 1
a5 2
DISTNAME=	curl-7.11.2
PKGNAME=	${DISTNAME}p0
d18 1
a18 1
MAINTAINER=	Brad Smith <brad@@openbsd.org>
d28 2
a29 3
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --with-random="/dev/arandom"
a31 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/curl
a32 1
	cd ${WRKSRC}; ${INSTALL_DATA} README ${PREFIX}/share/doc/curl
@


1.46.2.1
log
@MFC:
Update to 7.15.0.
libcurl's NTLM function could overflow a stack-based buffer if given
a too long user name or domain name.  CAN-2005-3185.

ok brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2005/03/14 22:52:20 naddy Exp $
d5 2
a6 1
DISTNAME=	curl-7.15.0
d28 4
a31 5
USE_LIBTOOL=	Yes
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-random="/dev/arandom" \
		--without-libidn
d34 1
d36 1
@


1.46.2.2
log
@MFC:
SECURITY:
Update to 7.15.1, which fixes a local buffer overflow.
http://curl.haxx.se/docs/adv_20051207.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46.2.1 2005/10/22 06:42:22 sturm Exp $
d5 1
a5 1
DISTNAME=	curl-7.15.1
@


1.46.2.3
log
@MFC:
SECURITY: Update to 7.15.3.
Fixes TFTP packet buffer overflow vulnerability. (CVE-2006-1061)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46.2.2 2005/12/12 08:50:34 sturm Exp $
d5 1
a5 1
DISTNAME=	curl-7.15.3
@


1.45
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2004/05/18 23:30:45 brad Exp $
d6 1
@


1.44
log
@upgrade to cURL 7.11.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2004/04/08 06:18:37 brad Exp $
d25 1
@


1.44.2.1
log
@SECURITY:
Fix NT LAN Manager (NTLM) authentication handling. By sending a
specially crafted long NTLM reply packet, a remote attacker could
overflow the reply buffer.  This could lead to execution of arbitrary
attacker specified code with the privileges of the application using
the cURL library.
http://www.vuxml.org/openbsd/531c3456-94dc-11d9-a433-080020fe8945.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2004/05/18 23:30:45 brad Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.44.2.2
log
@MFC:
Update to 7.15.0.
libcurl's NTLM function could overflow a stack-based buffer if given
a too long user name or domain name.  CAN-2005-3185.

ok brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44.2.1 2005/03/15 22:20:38 robert Exp $
d5 2
a6 1
DISTNAME=	curl-7.15.0
d27 4
a30 5
USE_LIBTOOL=	Yes
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-random="/dev/arandom" \
		--without-libidn
d33 1
d35 1
@


1.43
log
@upgrade to cURL 7.11.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2003/12/15 16:13:24 naddy Exp $
d5 1
a5 1
DISTNAME=	curl-7.11.1
@


1.42
log
@maintenance update to 7.10.8; ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2003/06/01 21:43:49 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.10.8
@


1.42.2.1
log
@MFC:

Fix NT LAN Manager (NTLM) authentication handling. By sending a
specially crafted long NTLM reply packet, a remote attacker could
overflow the reply buffer.  This could lead to execution of arbitrary
attacker specified code with the privileges of the application using
the cURL library.  CAN-2005-0490.  From Ubuntu.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2003/12/15 16:13:24 naddy Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.41
log
@upgrade to cURL 7.10.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2003/05/27 14:35:13 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.10.5
d26 1
a26 1
SEPARATE_BUILD=	concurrent
@


1.40
log
@- bye bye Kerberos FLAVOR
- place curl-mode.el in emacs' site-lisp dir
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2003/02/14 02:38:15 brad Exp $
d5 1
a5 2
DISTNAME=	curl-7.10.3
PKGNAME=	${DISTNAME}p1
d29 1
a29 2
CONFIGURE_ARGS+=--enable-static \
		--with-random="/dev/arandom"
d35 1
a35 1
	cd ${WRKSRC}; ${INSTALL_DATA} curl-mode.el \
@


1.39
log
@curl-config with cURL 7.10.3 does not output a header path with the
--cflags flag, revert this change for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2003/02/07 03:40:25 brad Exp $
a32 8
FLAVORS=	kerberos
FLAVOR?=

.if ${FLAVOR:L:Mkerberos}
CONFIGURE_ARGS+=--with-krb4-includes="/usr/include/kerberosIV" \
		--disable-ipv6
.endif

d35 1
d37 2
a38 1
	cd ${WRKSRC}; ${INSTALL_DATA} curl-mode.el ${PREFIX}/share/curl
@


1.38
log
@upgrade to cURL 7.10.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2002/11/24 03:40:08 brad Exp $
d6 1
@


1.37
log
@upgrade to cURL 7.10.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2002/06/15 04:27:35 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.10.2
d29 2
a30 2
CONFIGURE_ARGS+= --enable-static --disable-thread \
		 --with-random="/dev/arandom"
d36 2
a37 2
CONFIGURE_ARGS+= --with-krb4-includes="/usr/include/kerberosIV" \
		 --disable-ipv6
a39 2
DOCS=	CHANGES COPYING README

d42 1
a42 1
	cd ${WRKSRC}; ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/curl
@


1.36
log
@upgrade to cURL 7.9.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/06/09 18:36:38 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.9.8
a6 1
NEED_VERSION=	1.528
d20 1
d40 1
a40 1
DOCS=	CHANGES LEGAL MITX.txt README
d45 1
@


1.35
log
@upgrade to cURL 7.9.7 + experimental patch to fix cURL with newer OpenSSL.
--
Original patch from: Jacob Meuser <jakemsr@@jakemsr.com>
This patch (which has been modified to also work
with older versions of OpenSSL) from: Daniel Stenberg <daniel@@haxx.se>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2002/04/16 22:49:36 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.9.7
@


1.34
log
@upgrade to cURL 7.9.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2002/03/07 14:27:03 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.9.6
d7 1
a7 1
NEED_VERSION=	1.516
@


1.33
log
@upgrade to cURL 7.9.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2002/02/12 17:39:52 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.9.5
d7 1
a7 1
NEED_VERSION=	1.500
@


1.32
log
@upgrade to cURL 7.9.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2002/01/26 05:20:32 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.9.4
@


1.31
log
@upgrade to cURL 7.9.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/12/05 15:22:02 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.9.3
@


1.30
log
@upgrade to cURL 7.9.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2001/11/10 04:24:44 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.9.2
@


1.29
log
@upgrade to cURL 7.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/09/25 15:00:00 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.9.1
d7 1
a7 1
NEED_VERSION=	1.486
@


1.28
log
@upgrade to cURL 7.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/05/30 16:01:15 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.9
d7 1
a7 1
NEED_VERSION=	1.460
@


1.27
log
@upgrade to Curl 7.7.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/05/06 04:59:58 lebel Exp $
d3 1
a3 1
COMMENT=	"get files from FTP, GOPHER, HTTP or HTTPS servers"
d5 1
a5 1
DISTNAME=	curl-7.7.3
d7 1
a7 1
NEED_VERSION=	1.402
@


1.26
log
@net: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/04/06 17:30:41 brad Exp $
d5 1
a5 1
DISTNAME=	curl-7.7.1
@


1.25
log
@upgrade to Curl 7.7.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/03/30 18:40:59 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.384
@


1.24
log
@upgrade to Curl 7.7
--
From: Pete Fritchman <petef@@databits.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/02/22 22:19:52 espie Exp $
d5 1
a5 1
DISTNAME=	curl-7.7
d7 1
a7 1
NEED_VERSION=	1.364
@


1.23
log
@Bad maintainer who does not even check flavors before allowing the commit
of updates.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/02/18 21:49:36 obecian Exp $
d3 3
a5 1
DISTNAME=	curl-7.6.1
d7 1
a7 1
NEED_VERSION=	1.336
d9 7
a15 3
		ftp://ftp.rhrz.uni-bonn.de/pub-koeln/net/inet/ \
		ftp://ftp.win.or.jp/pub/network/www/misc/ \
		ftp://crydee.sai.msu.ru/zeus/unix/WWW/tools/mirror/
d26 1
d29 2
a30 1
CONFIGURE_ARGS+= --enable-static --disable-thread
d36 2
a37 2
CONFIGURE_ARGS+= --with-krb4-includes="/usr/include/kerberosIV"
CONFIGURE_ARGS+= --disable-ipv6
@


1.22
log
@upgrade to curl-7.6.1 (ok'd by brad@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/01/28 01:37:55 brad Exp $
d29 1
@


1.21
log
@upgrade to Curl 7.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/01/04 21:06:09 brad Exp $
d3 1
a3 1
DISTNAME=	curl-7.6
@


1.20
log
@upgrade to Curl 7.5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/12/26 02:09:27 brad Exp $
d3 1
a3 1
DISTNAME=	curl-7.5.2
@


1.19
log
@upgrade to Curl 7.5.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/12/05 20:11:28 brad Exp $
d3 1
a3 1
DISTNAME=	curl-7.5.1
d31 1
a31 1
DOCS=	CHANGES LEGAL MPL-1.0.txt README
@


1.18
log
@upgrade to Curl 7.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/09/28 17:47:04 brad Exp $
d3 1
a3 1
DISTNAME=	curl-7.5
@


1.17
log
@takeover as MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/09/28 17:29:47 brad Exp $
d3 1
a3 1
DISTNAME=	curl-7.3
d5 1
a5 1
NEED_VERSION=	1.330
@


1.16
log
@upgrade to Curl 7.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/09/06 20:50:13 brad Exp $
d13 1
a13 1
MAINTAINER=	markus@@openbsd.org
@


1.15
log
@upgrade to Curl 7.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/07/22 20:49:51 brad Exp $
d3 1
a3 1
DISTNAME=	curl-7.2.1
d5 1
a5 1
NEED_VERSION=	1.324
d23 7
@


1.14
log
@- add HOMEPAGE
- remove FAKE=Yes
- GNU_CONFIGURE -> CONFIGURE_STYLE
- add @@comment with RCS id to PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/03/24 22:11:51 espie Exp $
d3 1
a3 1
DISTNAME=	curl-6.5.2
d5 2
a6 3
NEED_VERSION=	1.310
MASTER_SITES=	http://curl.haxx.nu/stuff/ \
		http://www.fts.frontec.se/~dast/stuff/ \
d21 2
a22 1
CONFIGURE_ENV=	CPPFLAGS="-I/usr/include/ssl"
d24 1
a24 7
MAKEFILES=	Makefile src/Makefile

post-configure:
.for x in ${MAKEFILES}
	@@mv ${WRKSRC}/${x} ${WRKSRC}/${x}.pre_sed
	@@sed -e s#@@SHELL@@#${SH}# ${WRKSRC}/${x}.pre_sed > ${WRKSRC}/${x}
.endfor
d28 1
a28 2
	cd ${WRKSRC}; ${INSTALL_DATA} CHANGES INSTALL LEGAL MPL-1.0.txt \
		README RESOURCES TODO ${PREFIX}/share/doc/curl
@


1.13
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/03/23 07:04:34 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.213
d12 1
d21 1
a21 3
FAKE=	Yes

GNU_CONFIGURE=	Yes
d29 1
a29 1
	@@sed -e s,@@SHELL@@,${SH}, ${WRKSRC}/${x}.pre_sed > ${WRKSRC}/${x}
@


1.13.2.1
log
@bring net as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/07/22 20:49:51 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.310
a11 1
HOMEPAGE=	http://curl.haxx.se/
d20 3
a22 1
CONFIGURE_STYLE= gnu
d30 1
a30 1
	@@sed -e s#@@SHELL@@#${SH}# ${WRKSRC}/${x}.pre_sed > ${WRKSRC}/${x}
@


1.12
log
@upgrade to Curl 6.5.2
- curl_unescape() buffer overrun removed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/03/14 22:38:19 brad Exp $
d5 1
a11 1
NEED_VERSION=	1.213
@


1.11
log
@upgrade to Curl 6.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/01/17 05:05:15 brad Exp $
d3 1
a3 1
DISTNAME=	curl-6.5
@


1.10
log
@upgrade to Curl 6.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/11/30 00:54:44 brad Exp $
d3 1
a3 1
DISTNAME=	curl-6.4
d11 2
d15 8
a22 1
GNU_CONFIGURE=	yes
@


1.9
log
@style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/11/30 00:23:28 brad Exp $
d3 1
a3 1
DISTNAME=	curl-6.2
d5 2
a6 1
MASTER_SITES=	http://www.fts.frontec.se/~dast/stuff/ \
a15 2
CURLDOCDIR=	${PREFIX}/share/doc/curl
CURLDOCFILES=	CHANGES INSTALL LEGAL MPL-1.0.txt README RESOURCES TODO
d25 3
a27 4
	@@mkdir -p ${CURLDOCDIR}
	@@set -e; for f in ${CURLDOCFILES}; do \
	 ${INSTALL_DATA} ${WRKSRC}/$${f} ${CURLDOCDIR}; \
	done
@


1.8
log
@- change maintainers email address to markus@@openbsd.org
- replace unnecessary USE_AUTOCONF tag with GNU_CONFIGURE
- cleanup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/10/29 03:44:29 brad Exp $
d28 1
a28 1
	 ${INSTALL_DATA} ${WRKSRC}/$${f} ${CURLDOCDIR}/; \
@


1.7
log
@- upgrade to Curl 6.2
- switch to using the in-tree OpenSSL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/09/01 17:12:58 brad Exp $
d10 1
a10 1
MAINTAINER=	markus.friedl@@informatik.uni-erlangen.de
d12 1
a12 1
USE_AUTOCONF=	yes
d21 2
a22 3
	@@${MV} ${WRKSRC}/${x} ${WRKSRC}/${x}.pre_sed
	@@${SED} -e s,@@SHELL@@,${SH}, \
	${WRKSRC}/${x}.pre_sed > ${WRKSRC}/${x}
d26 1
a26 1
	@@${MKDIR} ${CURLDOCDIR}
d28 1
a28 1
		${INSTALL_DATA} ${WRKSRC}/$${f} ${CURLDOCDIR}/; \
@


1.6
log
@upgrade to curl 5.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/08/18 00:14:17 brad Exp $
d3 1
a3 1
DISTNAME=	curl-5.11
d12 2
a13 5
BUILD_DEPENDS=	${PREFIX}/ssl/lib/libcrypto.a:${PORTSDIR}/security/SSLeay \
		${PREFIX}/ssl/lib/libssl.a:${PORTSDIR}/security/SSLeay

GNU_CONFIGURE=	yes
CONFIGURE_ARGS+= --with-ssl
d17 8
@


1.5
log
@upgrade to curl 5.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/08/01 15:44:34 brad Exp $
d3 1
a3 1
DISTNAME=	curl-5.10
@


1.4
log
@upgrade to Curl 5.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/06/13 19:25:03 brad Exp $
d3 1
a3 1
DISTNAME=	curl-5.9.1
d5 4
a8 4
MASTER_SITES=	ftp://ftp.rhrz.uni-bonn.de/pub-koeln/net/inet/ \
		ftp://ftp.all.de/pub2/unix/network/www/curl/ \
		ftp://crydee.sai.msu.ru/zeus/unix/WWW/tools/mirror/ \
		ftp://ftp.win.or.jp/pub/network/www/misc/
d22 1
a22 2
	${INSTALL_MAN} $(WRKSRC)/curl.1 $(PREFIX)/man/man1
	${MKDIR} ${CURLDOCDIR}
@


1.3
log
@upgrade to curl 5.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/04/25 18:37:43 brad Exp $
d3 1
a3 1
DISTNAME=	curl-5.9
@


1.2
log
@style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/03/27 07:18:57 brad Exp $
d3 1
a3 1
DISTNAME=	curl-5.5.1
d16 1
a16 2
CONFIGURE_ENV+=	CPPFLAGS=-I${PREFIX}/ssl/include/ \
		LDFLAGS=-L${PREFIX}/ssl/lib/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d12 2
a13 1
BUILD_DEPENDS=  ${PREFIX}/ssl/lib/libssl.a:${PORTSDIR}/security/SSLeay
a23 1
.if !defined(NOPORTDOCS)
d25 1
a25 1
	set -e; for f in ${CURLDOCFILES}; do \
a27 2
	${INSTALL_DATA} ${WRKSRC}/README ${CURLDOCDIR}/
.endif
@


1.1.1.1
log
@add curl port; Markus Friedl <markus.friedl@@informatik.uni-erlangen.de>
@
text
@@
