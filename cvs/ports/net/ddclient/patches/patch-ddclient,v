head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.10
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.8
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.6
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2015.06.02.17.08.03;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	ESpWcx8RzsGhsDKH;

1.1
date	2015.03.22.08.30.20;	author pascal;	state Exp;
branches;
next	;
commitid	9RSNDBse4ryXisLd;


desc
@@


1.2
log
@Update to ddclient-3.8.3.
@
text
@$OpenBSD: patch-ddclient,v 1.1 2015/03/22 08:30:20 pascal Exp $
--- ddclient.orig	Tue Jun  2 19:05:38 2015
+++ ddclient	Tue Jun  2 19:05:38 2015
@@@@ -1062,16 +1062,6 @@@@ sub _read_config {
 	# fatal("Cannot open file '%s'. ($!)", $file);
 	warning("Cannot open file '%s'. ($!)", $file);
     }
-    # Check for only owner has any access to config file
-    my ($dev, $ino, $mode, @@statrest) = stat(FD);
-    if ($mode & 077) {                          
-	if (-f FD && (chmod 0600, $file)) {
-	    warning("file $file must be accessible only by its owner (fixed).");
-	} else {
-	    # fatal("file $file must be accessible only by its owner.");
-	    warning("file $file must be accessible only by its owner.");
-	}
-    }
 
     local $lineno       = 0;
     my    $continuation = '';
@


1.1
log
@Don't run ddclient as root, but as a dedicated user.  Move pidfile to
/var/run/ddclient, created by the rc script.  /etc/ddclient/ddclient.conf is
now mode 640, root:_ddclient.  Delete the mode 600 check in the script
accordingly.

comments from sthen@@/ajacoutot@@, ok dcoppa@@ jung@@ ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD$
--- ddclient.orig	Tue Nov 25 15:02:26 2014
+++ ddclient	Tue Nov 25 15:03:18 2014
@@@@ -997,16 +997,6 @@@@ sub _read_config {
@

