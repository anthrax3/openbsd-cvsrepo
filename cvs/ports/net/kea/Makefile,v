head	1.8;
access;
symbols
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	sthen_20151223:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2017.07.16.19.18.58;	author espie;	state Exp;
branches;
next	1.7;
commitid	tt0GhWK5c4uf9ILG;

1.7
date	2017.04.10.11.46.32;	author sthen;	state Exp;
branches;
next	1.6;
commitid	HY6VNZxjJWzKQFDV;

1.6
date	2016.11.13.14.58.18;	author jca;	state Exp;
branches;
next	1.5;
commitid	SV2AetTF6at1Rqqo;

1.5
date	2016.03.14.06.46.24;	author jca;	state Exp;
branches;
next	1.4;
commitid	psXogyrIQtQkGltx;

1.4
date	2016.01.03.14.41.11;	author sthen;	state Exp;
branches;
next	1.3;
commitid	FMZDdggKSX9AyaSg;

1.3
date	2015.12.23.15.58.55;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	6dGqhRvakBrGbBM8;

1.2
date	2015.12.23.15.43.36;	author sthen;	state Exp;
branches;
next	1.1;
commitid	hL4uQjmYlGEqEO5Q;

1.1
date	2015.12.23.13.40.53;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;
commitid	eTumTGLuGSSayHFP;

1.1.1.1
date	2015.12.23.13.40.53;	author sthen;	state Exp;
branches;
next	;
commitid	eTumTGLuGSSayHFP;


desc
@@


1.8
log
@use COMPILER_LIBCXX where applicable
@
text
@# $OpenBSD: Makefile,v 1.7 2017/04/10 11:46:32 sthen Exp $

COMMENT=	high-performance and extensible DHCP server engine from ISC

VERSION=	1.1.0

DISTNAME=	kea-${VERSION}
PKGNAME=	${DISTNAME:S/-P/pl/}

SHARED_LIBS +=  kea-asiodns               0.0 # 0.0
SHARED_LIBS +=  kea-asiolink              1.0 # 3.0
SHARED_LIBS +=  kea-cc                    0.0 # 1.0
SHARED_LIBS +=  kea-cfgclient             0.1 # 2.1
SHARED_LIBS +=  kea-cryptolink            0.0 # 1.0
SHARED_LIBS +=  kea-dhcp++                1.0 # 4.1
SHARED_LIBS +=  kea-dhcp_ddns             0.1 # 1.1
SHARED_LIBS +=  kea-dhcpsrv               1.0 # 6.0
SHARED_LIBS +=  kea-dns++                 0.0 # 2.0
SHARED_LIBS +=  kea-eval                  1.0 # 4.0
SHARED_LIBS +=  kea-exceptions            0.0 # 0.0
SHARED_LIBS +=  kea-hooks                 1.0 # 2.0
SHARED_LIBS +=  kea-log                   1.0 # 2.0
SHARED_LIBS +=  kea-stats                 0.0 # 1.0
SHARED_LIBS +=  kea-threads               1.0 # 1.0
SHARED_LIBS +=  kea-util-io               0.0 # 0.0
SHARED_LIBS +=  kea-util                  1.0 # 2.0

CATEGORIES=	net

HOMEPAGE=	http://kea.isc.org/

MAINTAINER=	Patrik Lundin <patrik@@sigterm.se>

# MPL 2.0
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += boost_system c crypto log4cplus m pthread ${COMPILER_LIBCXX}

MASTER_SITES=	${MASTER_SITE_ISC:=kea/${VERSION}/}

LIB_DEPENDS=	devel/boost \
		devel/log4cplus

FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+= --with-openssl=/usr \
                 --with-boost-libs=-lboost_system \
                 --with-boost-lib-dir=${LOCALBASE}/lib

LIBTOOL_FLAGS=	--tag=disable-static

FLAVORS=	mysql postgresql
FLAVOR?=

.if ${FLAVOR:Mmysql}
WANTLIB += mysqlclient ssl z

LIB_DEPENDS+=	databases/mariadb

CONFIGURE_ARGS+= --with-dhcp-mysql=${LOCALBASE}/bin/mysql_config
.endif

.if ${FLAVOR:Mpostgresql}
WANTLIB += pq ssl

BUILD_DEPENDS+=	databases/postgresql,-server
LIB_DEPENDS+=	databases/postgresql

CONFIGURE_ARGS+= --with-dhcp-pgsql=${LOCALBASE}/bin/pg_config
.endif

pre-install:
	mkdir -p ${PREFIX}/share/examples/kea

.include <bsd.port.mk>
@


1.7
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/11/13 14:58:18 jca Exp $
d37 1
a37 1
WANTLIB += boost_system c crypto log4cplus m pthread ${LIBCXX}
@


1.6
log
@Update to kea-1.1.0

from maintainer Patrik Lundin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/03/14 06:46:24 jca Exp $
d37 1
a37 1
WANTLIB += boost_system c crypto log4cplus m pthread stdc++
@


1.5
log
@Remove SHARED_ONLY per maintainer request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2016/01/03 14:41:11 sthen Exp $
d5 1
a5 1
VERSION=	1.0.0
d11 1
a11 1
SHARED_LIBS +=  kea-asiolink              0.0 # 2.0
d13 1
a13 1
SHARED_LIBS +=  kea-cfgclient             0.0 # 2.0
d15 3
a17 3
SHARED_LIBS +=  kea-dhcp++                0.0 # 3.0
SHARED_LIBS +=  kea-dhcp_ddns             0.0 # 1.0
SHARED_LIBS +=  kea-dhcpsrv               0.0 # 4.0
d19 1
a19 1
SHARED_LIBS +=  kea-eval                  0.0 # 3.0
d21 2
a22 2
SHARED_LIBS +=  kea-hooks                 0.0 # 1.0
SHARED_LIBS +=  kea-log                   0.0 # 1.0
d24 1
a24 1
SHARED_LIBS +=  kea-threads               0.0 # 0.0
d26 1
a26 1
SHARED_LIBS +=  kea-util                  0.0 # 1.0
@


1.4
log
@update to kea-1.0.0, from maintainer Patrik Lundin.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.3 2015/12/23 15:58:55 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.3
log
@Tweak pexp so that rc_check() does not need to be overriden.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2015/12/23 15:43:36 sthen Exp $
d7 1
a7 1
VERSION=	0.9.2-P1
a10 1
REVISION=	0
d21 1
d36 1
a36 1
# ISC (XXX Kea 1.0 changes to MPL)
d39 1
a39 1
WANTLIB += c crypto log4cplus m pthread stdc++
d43 2
a44 2
BUILD_DEPENDS=	devel/boost
LIB_DEPENDS=	devel/log4cplus
d49 3
a51 1
CONFIGURE_ARGS+= --with-openssl=/usr
@


1.2
log
@fix comment, Mozilla license not Apache license
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2015/12/23 13:40:53 sthen Exp $
d11 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d35 1
a35 1
# ISC (XXX Kea 1.0 changes to Apache license)
@


1.1.1.1
log
@import ports/net/kea, from Patrik Lundin, ok landry

Kea is a new open source DHCPv4/DHCPv6 server being developed by Internet
Systems Consortium. The objective of this project is to provide a very
high-performance, extensible DHCP server engine for use by enterprises and
service providers, either as is or with extensions and modifications.

Kea provides DHCPv4 and DHCPv6 servers, a dynamic DNS update module, a portable
DHCP library, libdhcp++, and a DHCP benchmarking tool, perfdhcp.
@
text
@@
