head	1.59;
access;
symbols
	OPENBSD_6_1:1.58.0.8
	OPENBSD_6_1_BASE:1.58
	OPENBSD_6_0:1.58.0.6
	OPENBSD_6_0_BASE:1.58
	OPENBSD_5_9:1.58.0.2
	OPENBSD_5_9_BASE:1.58
	OPENBSD_5_8:1.58.0.4
	OPENBSD_5_8_BASE:1.58
	OPENBSD_5_7:1.55.0.2
	OPENBSD_5_7_BASE:1.55
	OPENBSD_5_6:1.54.0.2
	OPENBSD_5_6_BASE:1.54
	OPENBSD_5_5:1.53.0.2
	OPENBSD_5_5_BASE:1.53
	OPENBSD_5_4:1.51.0.2
	OPENBSD_5_4_BASE:1.51
	OPENBSD_5_3:1.48.0.2
	OPENBSD_5_3_BASE:1.48
	OPENBSD_5_2:1.44.0.2
	OPENBSD_5_2_BASE:1.44
	OPENBSD_5_1_BASE:1.42
	OPENBSD_5_1:1.42.0.2
	OPENBSD_5_0:1.38.0.2
	OPENBSD_5_0_BASE:1.38
	OPENBSD_4_9:1.35.0.2
	OPENBSD_4_9_BASE:1.35
	OPENBSD_4_8:1.31.0.2
	OPENBSD_4_8_BASE:1.31
	OPENBSD_4_7:1.29.0.4
	OPENBSD_4_7_BASE:1.29
	OPENBSD_4_6:1.29.0.2
	OPENBSD_4_6_BASE:1.29
	OPENBSD_4_5:1.28.0.2
	OPENBSD_4_5_BASE:1.28
	OPENBSD_4_4:1.27.0.2
	OPENBSD_4_4_BASE:1.27
	OPENBSD_4_3:1.25.0.2
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.22.0.4
	OPENBSD_4_2_BASE:1.22
	OPENBSD_4_1:1.22.0.2
	OPENBSD_4_1_BASE:1.22
	OPENBSD_4_0:1.19.0.2
	OPENBSD_4_0_BASE:1.19
	OPENBSD_3_9:1.17.0.6
	OPENBSD_3_9_BASE:1.17
	OPENBSD_3_8:1.17.0.4
	OPENBSD_3_8_BASE:1.17
	OPENBSD_3_7:1.17.0.2
	OPENBSD_3_7_BASE:1.17
	OPENBSD_3_6:1.12.0.2
	OPENBSD_3_6_BASE:1.12
	OPENBSD_3_5:1.10.0.2
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	wilfried_20030416:1.1.1.1
	wilfried:1.1.1;
locks; strict;
comment	@# @;


1.59
date	2017.05.27.08.01.33;	author akfaew;	state Exp;
branches;
next	1.58;
commitid	rcW8YZXlUlYn7BOB;

1.58
date	2015.07.19.08.22.14;	author jca;	state Exp;
branches;
next	1.57;
commitid	8O4LU1goBB7RJvvq;

1.57
date	2015.05.14.09.50.15;	author jasper;	state Exp;
branches;
next	1.56;
commitid	7qKT6dzJapSX4twa;

1.56
date	2015.05.13.19.01.10;	author jca;	state Exp;
branches;
next	1.55;
commitid	gtJt0BaKnb92QOFn;

1.55
date	2014.08.21.21.41.57;	author sthen;	state Exp;
branches;
next	1.54;
commitid	GV1ZzoGycEAXue48;

1.54
date	2014.07.10.13.09.06;	author ajacoutot;	state Exp;
branches;
next	1.53;
commitid	Xpirey71VpT09196;

1.53
date	2014.01.02.13.04.34;	author landry;	state Exp;
branches;
next	1.52;

1.52
date	2013.08.15.16.34.00;	author stsp;	state Exp;
branches;
next	1.51;

1.51
date	2013.04.27.15.44.21;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2013.03.13.21.42.58;	author landry;	state Exp;
branches;
next	1.49;

1.49
date	2013.03.11.11.35.45;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.47;

1.47
date	2013.01.30.21.45.42;	author okan;	state Exp;
branches;
next	1.46;

1.46
date	2012.11.27.15.40.56;	author okan;	state Exp;
branches;
next	1.45;

1.45
date	2012.09.01.14.36.58;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2012.04.22.11.41.55;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2012.04.09.15.37.52;	author okan;	state Exp;
branches;
next	1.42;

1.42
date	2011.12.30.17.24.24;	author okan;	state Exp;
branches;
next	1.41;

1.41
date	2011.10.03.14.41.45;	author okan;	state Exp;
branches;
next	1.40;

1.40
date	2011.10.03.14.33.14;	author okan;	state Exp;
branches;
next	1.39;

1.39
date	2011.09.16.11.13.37;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2011.06.12.08.09.26;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2011.05.11.12.03.19;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2011.04.15.16.10.38;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2010.11.22.10.16.08;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2010.11.19.22.31.32;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2010.11.11.11.54.08;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2010.10.18.18.36.45;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2010.05.16.08.31.28;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2010.04.02.22.02.05;	author nicm;	state Exp;
branches;
next	1.29;

1.29
date	2009.03.13.17.02.54;	author ajacoutot;	state Exp;
branches
	1.29.4.1;
next	1.28;

1.28
date	2008.10.16.16.26.44;	author martynas;	state Exp;
branches;
next	1.27;

1.27
date	2008.07.11.01.13.05;	author martynas;	state Exp;
branches;
next	1.26;

1.26
date	2008.04.09.22.13.11;	author merdely;	state Exp;
branches;
next	1.25;

1.25
date	2008.01.04.17.48.36;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2007.11.19.11.44.32;	author martynas;	state Exp;
branches;
next	1.23;

1.23
date	2007.09.15.22.36.52;	author merdely;	state Exp;
branches;
next	1.22;

1.22
date	2007.01.14.21.53.01;	author simon;	state Exp;
branches;
next	1.21;

1.21
date	2006.12.16.12.22.34;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2006.09.18.11.59.59;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2006.04.14.21.54.22;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2006.04.11.15.11.32;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2005.03.16.01.56.49;	author pvalchev;	state Exp;
branches;
next	1.16;

1.16
date	2004.12.17.15.41.15;	author alek;	state Exp;
branches;
next	1.15;

1.15
date	2004.11.13.13.39.40;	author alek;	state Exp;
branches;
next	1.14;

1.14
date	2004.10.21.14.48.51;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2004.10.03.19.03.11;	author xsa;	state Exp;
branches;
next	1.12;

1.12
date	2004.07.01.16.11.59;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2004.06.20.16.27.49;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2004.02.01.07.12.39;	author pvalchev;	state Exp;
branches;
next	1.9;

1.9
date	2004.01.30.17.04.48;	author lebel;	state Exp;
branches;
next	1.8;

1.8
date	2003.12.31.16.03.30;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2003.11.18.21.19.22;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2003.10.16.15.00.17;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2003.10.11.14.48.02;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2003.10.08.22.16.49;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2003.06.28.07.38.29;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.22.10.09.57;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2003.04.16.18.51.08;	author wilfried;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.04.16.18.51.08;	author wilfried;	state Exp;
branches;
next	;

1.29.4.1
date	2010.05.25.03.31.00;	author william;	state Exp;
branches;
next	;


desc
@@


1.59
log
@Update to bitlbee-3.5.1

OK sthen@@
@
text
@# $OpenBSD: Makefile,v 1.58 2015/07/19 08:22:14 jca Exp $

COMMENT=		IRC proxy to connect to AIM, ICQ, Jabber and Yahoo

DISTNAME=		bitlbee-3.5.1
CATEGORIES=		net

HOMEPAGE=		http://bitlbee.org/

MAINTAINER=		Tom Doherty <tom@@singlesecond.com>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB +=		c m pthread glib-2.0 gmodule-2.0 ssl crypto intl

MASTER_SITES=		http://get.bitlbee.org/src/

MODULES=		devel/gettext

DB_DIR?=		/var/bitlbee
ETCDIR=			${SYSCONFDIR}/bitlbee
EXAMPLEDIR=		${PREFIX}/share/examples/bitlbee
DOCS=			${WRKSRC}/doc/user-guide/user-guide.html
DOCDIR=			${PREFIX}/share/doc/bitlbee/

BUILD_DEPENDS=		textproc/libxslt
MODULES=		lang/python
MODPY_RUNDEP=		No
LIB_DEPENDS=		devel/glib2

CONFIGURE_STYLE=	simple
CONFIGURE_ARGS+=	--bindir=${PREFIX}/libexec \
			--mandir=${PREFIX}/man \
			--config=${DB_DIR} \
			--etcdir=${ETCDIR} \
			--ssl=openssl \
			--pie=0

USE_GMAKE=		Yes
MAKE_ENV=		"CC=${CC}" "CFLAGS=${CFLAGS}"
FAKE_FLAGS=		ETCDIR=${EXAMPLEDIR}
FAKE_TARGET=		install install-etc
SUBST_VARS=		DB_DIR

FLAVORS =		libpurple otr
FLAVOR ?=

.if ${FLAVOR:Mlibpurple}
CONFIGURE_ARGS +=	--purple=1
LIB_DEPENDS +=		net/pidgin,-libpurple
WANTLIB +=		purple
.endif
.if ${FLAVOR:Motr}
CONFIGURE_ARGS +=	--otr=1
LIB_DEPENDS +=		security/libotr>=4.0.0 security/libgcrypt
WANTLIB +=		gcrypt otr
.endif

NO_TEST=		Yes

# don't hide compile command lines
pre-configure:
	find ${WRKSRC} -name Makefile | \
	    xargs perl -pi -e 's,@@\$$\(CC\),\$$(CC),g'

post-build:
	${MAKE_PROGRAM} -C ${WRKSRC}/doc/user-guide user-guide.html

post-install:
	${INSTALL_DATA_DIR} ${DOCDIR}
	${INSTALL_DATA} ${DOCS} ${DOCDIR}

.include <bsd.port.mk>
@


1.58
log
@Let cc(1) use PIE where appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2015/05/14 09:50:15 jasper Exp $
d5 1
a5 2
DISTNAME=		bitlbee-3.4
REVISION=		0
d15 1
a15 1
WANTLIB +=		c m pthread glib-2.0 gmodule-2.0 ssl crypto
d27 3
a29 1
BUILD_DEPENDS=		textproc/xmlto
d66 3
@


1.57
log
@needs xmlto to build documentation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2015/05/13 19:01:10 jca Exp $
d6 1
d36 2
a37 1
			--ssl=openssl
@


1.56
log
@bitlbee-3.4 - remove MSN from COMMENT while here

Diffs from Tom Doherty and Henrik Friedrichsen.
Maintainer timeout.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/08/21 21:41:57 sthen Exp $
d27 1
@


1.55
log
@update to bitlbee 3.2.2, from maintainer Tom Doherty (plus minor wantlib sync)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/07/10 13:09:06 ajacoutot Exp $
d3 1
a3 1
COMMENT=		IRC proxy to connect to AIM, ICQ, Jabber, MSN and Yahoo
d5 1
a5 1
DISTNAME=		bitlbee-3.2.2
@


1.54
log
@rc.conf.local is in man(1) section 8, at least for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/01/02 13:04:34 landry Exp $
d5 1
a5 1
DISTNAME=		bitlbee-3.2.1
a6 1
REVISION=		0
d15 1
a15 1
WANTLIB +=		c pthread glib-2.0 gmodule-2.0 ssl crypto
@


1.53
log
@Update to bitlbee 3.2.1, from maintainer Tom Doherty.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/08/15 16:34:00 stsp Exp $
d7 1
@


1.52
log
@libotr-4.0.0 support for bitlbee. Patch written by upstream developer pesco,
see http://bugs.bitlbee.org/bitlbee/ticket/1004.
ok pascal@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/04/27 15:44:21 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		bitlbee-3.2
a6 1
REVISION=		2
@


1.51
log
@Tweak MESSAGEs/READMEs now that inetd(8) is off by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/03/13 21:42:58 landry Exp $
d7 1
a7 1
REVISION=		1
d53 1
a53 1
LIB_DEPENDS +=		security/libotr security/libgcrypt
@


1.50
log
@Add two patches to fix jabber connections on accounds where the id domain
(ie me@@example.com) is different from the server's fqdn (ie xmpp.example.com),
which is the case of Google Talk.

If the SRV records are properly configured (as detailed here:
http://wiki.xmpp.org/web/SRV_Records) you dont need to set the server
anymore in bitlbee, it will do the dns lookup and automagically connect
to the right server. Note that the purple FLAVOR doesn't exhibit this
bug.

This is needed until someone adds the ns_*parse* family of functions from
BIND8 to our resolver (asr? any takers?)

From Daniel Levai (thanks!), tested by myself & looks good to sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/03/11 11:35:45 espie Exp $
d7 1
a7 1
REVISION=		0
@


1.49
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/02/09 14:49:51 sthen Exp $
d7 1
@


1.48
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/01/30 21:45:42 okan Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d56 1
a56 1
NO_REGRESS=		Yes
@


1.47
log
@update to 3.2 and switch from gnutls to openssl; mostly from Tom Doherty and
LEVAI Daniel; additionally I'm passing along MAINTAINERship.

testing and OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/11/27 15:40:56 okan Exp $
d48 1
a48 1
.if ${FLAVOR:L:Mlibpurple}
d53 1
a53 1
.if ${FLAVOR:L:Motr}
@


1.46
log
@update to 3.0.6; from Tom Doherty.

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/09/01 14:36:58 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		bitlbee-3.0.6
d10 1
a10 1
MAINTAINER=		Okan Demirmen <okan@@openbsd.org>
d18 1
a18 2
WANTLIB +=		c pthread glib-2.0 gmodule-2.0 gnutls>=13
WANTLIB +=		gcrypt gpg-error
d30 1
a30 3
LIB_DEPENDS=		devel/glib2 \
			security/gnutls \
			security/libgcrypt
d37 1
a37 1
			--ssl=gnutls
d50 1
a50 4
LIB_DEPENDS +=		net/pidgin,-libpurple \
			devel/silc-toolkit \
			net/meanwhile \
			net/libgadu
d54 3
a56 3
CONFIGURE_ARGS +=	--otr=1                                                
LIB_DEPENDS +=		security/libotr                                        
WANTLIB +=		otr
@


1.45
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/04/22 11:41:55 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		bitlbee-3.0.5
a6 1
REVISION=		1
@


1.44
log
@Use RCDIR instead of /etc/rc.d when refering to packages rc scripts.

discussed with espie and sthen
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/04/09 15:37:52 okan Exp $
d7 1
a7 1
REVISION=		0
@


1.43
log
@update to 3.0.5; from Tom Doherty - thanks!

note the binary libexec/bitlbee -> sbin/bitlbee move.

tested by and ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/12/30 17:24:24 okan Exp $
d7 1
@


1.42
log
@update to 3.0.4

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/10/03 14:41:45 okan Exp $
d5 1
a5 1
DISTNAME=		bitlbee-3.0.4
@


1.41
log
@use '/etc/rc.d/inetd reload' instead of 'pkill -HUP inetd' in README

requested by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/10/03 14:33:14 okan Exp $
d5 1
a5 2
DISTNAME=		bitlbee-3.0.3
REVISION=		0
@


1.40
log
@update to 3.0.3
 - new libpurple and otr flavors
 - remove groff requirement
 - convert to pkg-readmes with corrections
 - fix broken @@sample
 - gnutls patch no longer required

started by jirib@@live.com and again later by leva@@ecentrum.hu, previous
MAINTAINER relinquishing maintainership - thanks.

feedback from ajacoutot@@ and landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/09/16 11:13:37 espie Exp $
d6 1
@


1.39
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/06/12 08:09:26 ajacoutot Exp $
d3 1
a3 1
COMMENT=	IRC proxy to connect to AIM, ICQ, Jabber, MSN and Yahoo
d5 1
a5 1
DISTNAME=		bitlbee-1.2.7
a7 2
REVISION=		3

d10 1
a10 1
MAINTAINER=		Andrew Dalgleish <openbsd@@ajd.net.au>
d18 2
a19 1
WANTLIB=		c pthread glib-2.0 gmodule-2.0 gnutls>=13 tasn1
d32 2
a33 1
			security/gnutls
a42 1
USE_GROFF =		Yes
d47 17
@


1.38
log
@Unbreak tls support after recent gnutls update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/05/11 12:03:19 jasper Exp $
d8 1
a8 1
REVISION=		2
@


1.37
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/04/15 16:10:38 ajacoutot Exp $
d8 1
a8 1
REVISION=		1
@


1.36
log
@Fix DEPENDS after gnutls update.

ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/11/22 10:16:08 espie Exp $
d8 1
a8 1
REVISION=		0
@


1.35
log
@remaining WANTLIB go .>=   to >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/11/19 22:31:32 espie Exp $
d8 2
d20 1
a20 1
WANTLIB=		c pthread glib-2.0 gmodule-2.0 gnutls>=13
@


1.34
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/11/11 11:54:08 espie Exp $
d18 1
a18 1
WANTLIB=		c pthread glib-2.0 gmodule-2.0 gnutls.>=13
@


1.33
log
@WANTLIB conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/10/18 18:36:45 espie Exp $
d30 2
a31 2
LIB_DEPENDS=		::devel/glib2 \
			::security/gnutls
d41 1
a41 1
USE_GROFF =	Yes
@


1.32
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/05/16 08:31:28 sthen Exp $
d18 1
a18 1
WANTLIB=		c pthread
d30 2
a31 2
LIB_DEPENDS=		glib-2.0,gmodule-2.0::devel/glib2 \
			gnutls.>=13::security/gnutls
@


1.31
log
@Update to 1.2.7, fixing MSN chat following changes to Passport
logins.  Similar diff from Abel Abraham Camarillo Ojeda.

While there, sync WANTLIB (glib2 pthread) and stop hiding compiler
command lines. No response from MAINTAINER for a previous update
(1.2.6+patch) - I didn't wait very long but committing now to
get the MSN fix in.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/04/02 22:02:05 nicm Exp $
d41 1
@


1.30
log
@Update to 1.2.5, from Tom Doherty.

ok landry@@, and maintainer Andrew Dalgleish
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/03/13 17:02:54 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		bitlbee-1.2.5
PKGNAME=		${DISTNAME}p0
d8 1
a8 1
HOMEPAGE=		http://bitlbee.org
d18 1
a18 1
WANTLIB=		c
d47 5
@


1.29
log
@- wantlib/lib_depends cleaning
- add gpl version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2008/10/16 16:26:44 martynas Exp $
d5 1
a5 1
DISTNAME=		bitlbee-1.2.3
@


1.29.4.1
log
@MFC:

Update to 1.2.7, fixing authentication to several services

started by sthen@@, thanks

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/03/13 17:02:54 ajacoutot Exp $
d5 2
a6 1
DISTNAME=		bitlbee-1.2.7
d9 1
a9 1
HOMEPAGE=		http://bitlbee.org/
d19 1
a19 1
WANTLIB=		c pthread
a47 5

# don't hide compile command lines
pre-configure:
	find ${WRKSRC} -name Makefile | \
	    xargs perl -pi -e 's,@@\$$\(CC\),\$$(CC),g'
@


1.28
log
@"""I just released BitlBee 1.2.2, and I advice public server
maintainers to upgrade their BitlBee daemons as soon as possible,
since this release fixes a security bug that was probably there for
a long time already."""
more info, bitlbee.org
tested by merdely@@, wcmaier@@, Andrew Dalgleish, Wiktor Izdebski
ok merdely@@, wcmaier@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2008/07/11 01:13:05 martynas Exp $
d6 1
d13 1
a13 1
# GPL
d18 2
a19 1
WANTLIB=		c iconv intl
d23 2
d31 1
a31 2
LIB_DEPENDS=		glib-2.0::devel/glib2 \
			gmodule-2.0::devel/glib2 \
@


1.27
log
@bugfix update to bitlbee-1.2.1
ok maintainer Andrew Dalgleish, merdely@@, wcmaier@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2008/04/09 22:13:11 merdely Exp $
d5 1
a5 1
DISTNAME=		bitlbee-1.2.1
@


1.26
log
@Update to 1.2.
V1.2 adds nice "account set #" feature to manage accounts.
Remove a lot of string handling patches.
Remove patches to rename bitlbee "root" user to "bitlbee".

tested by Andrew Dalgleish (MAINTAINER), James Turner and Wiktor Izdebski
ok martynas@@, simon@@, okan@@, wcmaier@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/01/04 17:48:36 espie Exp $
d5 1
a5 1
DISTNAME=		bitlbee-1.2
d17 1
a17 1
WANTLIB=		c iconv intl gcrypt gpg-error
@


1.25
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/11/19 11:44:32 martynas Exp $
d5 1
a5 1
DISTNAME=		bitlbee-1.0.4
d17 1
a17 1
WANTLIB=		c iconv intl crypto ssl
d27 3
a29 1
LIB_DEPENDS=		glib-2.0::devel/glib2
d36 1
a36 1
			--ssl=openssl
@


1.24
log
@update to bitlbee-1.0.4
ok simon@@ and maintainer Andrew Dalgleish;  tested by Wiktor Izdebski
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/09/15 22:36:52 merdely Exp $
d38 1
a38 1
FAKE_FLAGS=		${DESTDIRNAME}=${WRKINST} ETCDIR=${EXAMPLEDIR}
@


1.23
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN/ERRORS

Add $OpenBSD$ to p5-SNMP-Info/Makefile (ok kili@@, simon@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/01/14 21:53:01 simon Exp $
d5 1
a5 1
DISTNAME=		bitlbee-1.0.3
@


1.22
log
@update to version 1.0.3

from Martynas Venckus <martynas at altroot dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/12/16 12:22:34 espie Exp $
d3 1
a3 1
COMMENT=	"IRC proxy to connect to AIM, ICQ, Jabber, MSN and Yahoo"
@


1.21
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/09/18 11:59:59 espie Exp $
d5 1
a5 2
DISTNAME=		bitlbee-1.0.2
PKGNAME=		${DISTNAME}p0
@


1.20
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/04/14 21:54:22 naddy Exp $
a27 1
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig
@


1.19
log
@also install motd file; from maintainer Andrew Dalgleish
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/04/11 15:11:32 naddy Exp $
d29 1
a29 1
LIB_DEPENDS=		glib-2.0.0.0::devel/glib2
@


1.18
log
@update to 1.0.2; from maintainer Andrew Dalgleish
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2005/03/16 01:56:49 pvalchev Exp $
d6 1
@


1.17
log
@fix WANTLIB for no_ssl flavor (i wonder how many are broken like that..)
bump PKGNAME for this and next change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2004/12/17 15:41:15 alek Exp $
d5 1
a5 2
DISTNAME=		bitlbee-0.91
PKGNAME=		${DISTNAME}p2
d17 1
a17 1
WANTLIB=		c iconv intl z 
d24 1
a24 1
DOCS=			${WRKSRC}/doc/user-guide.html
a29 13
# I am told gnutls does not build on all arches, so I've added a no_ssl FLAVOR
# SSL is required for MSN support, and is optional for Jabber
FLAVORS=		no_ssl
FLAVOR?=

.if ${FLAVOR:L:Mno_ssl}
CONFIGURE_ARGS+=	--msn=0 \
			--ssl=bogus
.else
LIB_DEPENDS+=		gnutls.8::security/gnutls
WANTLIB+=		gcrypt gpg-error
.endif

d35 1
a35 1
			--flood=1
d38 1
a38 1
MAKE_ENV=		CC="${CC}"
d41 1
a43 4

# Make sure we use the system snprintf
post-extract:
	@@rm -f ${WRKSRC}/protocols/snprintf.c
@


1.16
log
@- Disable SSL support for real
- Rename no_msn FLAVOR to no_ssl
- Bump PKGNAME
- Add WANTLIB markers

Problem spotted by newlib-depends-check and fixed by MAINTAINER

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/11/13 13:39:40 alek Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d18 1
a18 1
WANTLIB=		c gcrypt gpg-error iconv intl z 
d41 1
@


1.15
log
@Forgotten PKGNAME bump

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/10/21 14:48:51 naddy Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d18 1
a18 1

d31 3
a33 3
# I am told gnutls does not build on all arches
# This is only used for connecting to MSN, so I've added a no_msn FLAVOR
FLAVORS=		no_msn
d36 3
a38 2
.if ${FLAVOR:L:Mno_msn}
CONFIGURE_ARGS+=	--msn=0
a42 1

d48 1
a48 1
			--tcpd=0
@


1.14
log
@Updated to 0.91; from Andrew Dalgleish <openbsd@@ajd.net.au>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/10/03 19:03:11 xsa Exp $
d6 1
@


1.13
log
@@@newuser,@@newgroup,@@sample .. bye bye INSTALL;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/07/01 16:11:59 naddy Exp $
d5 1
a5 1
DISTNAME=		bitlbee-0.90a
@


1.12
log
@Update to 0.90a: fixes Yahoo support.
From: Andrew Dalgleish <openbsd@@ajd.net.au>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/06/20 16:27:49 naddy Exp $
a25 5
BITLBEEUSER=		_bitlbee
BITLBEEGROUP=		_bitlbee
ID=			509
SUBST_VARS=		DB_DIR ETCDIR EXAMPLEDIR DOCDIR \
			BITLBEEUSER BITLBEEGROUP ID
@


1.11
log
@Update to 0.90.
Partial audit for string handling.

From: Andrew Dalgleish <openbsd@@ajd.net.au>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/02/01 07:12:39 pvalchev Exp $
d5 1
a5 1
DISTNAME=		bitlbee-0.90
d32 1
@


1.10
log
@new maintainers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/01/30 17:04:48 lebel Exp $
d3 1
a3 1
COMMENT=		"IRC proxy to connect to ICQ, AOL, MSN and Jabber"
d5 1
a5 1
DISTNAME=		bitlbee-0.83
a6 1
#PKGNAME=		${DISTNAME}p1
a19 3
MASTER_SITES0=		http://get.bitlbee.org/fink/
PATCHFILES=		bitlbee-0.83-1-darwin.patch:0
PATCH_DIST_STRIP=	-p1
d24 1
a24 1
DOCS=			${FILESDIR}/user-guide.html
d32 13
a44 1
LIB_DEPENDS=		soup-2.0.0.0::devel/libsoup
d59 4
@


1.9
log
@remove Han Boetes as MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2003/12/31 16:03:30 naddy Exp $
d11 1
@


1.8
log
@update to 0.83; from Han Boetes <han@@mijncomputer.nl>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2003/11/18 21:19:22 naddy Exp $
a10 1
MAINTAINER=		Han Boetes <han@@linux-mandrake.com>
@


1.7
log
@update to 0.82; from Han Boetes <han@@mijncomputer.nl>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/10/16 15:00:17 naddy Exp $
d5 1
a5 1
DISTNAME=		bitlbee-0.82
d21 2
a22 2
MASTER_SITES0=		http://get.bitlbee.org/patches/
PATCHFILES=		bitlbee-0.82-segv.diff:0
d26 2
d33 2
a34 1
SUBST_VARS=		DB_DIR DOCDIR BITLBEEUSER BITLBEEGROUP ID
d42 1
a42 1
			--etcdir=${PREFIX}/share/bitlbee \
d47 2
a48 1
INSTALL_TARGET=		install install-etc
@


1.6
log
@update to 0.81; from Han Boetes <han@@mijncomputer.nl>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/10/11 14:48:02 naddy Exp $
d5 1
a5 1
DISTNAME=		bitlbee-0.81
d7 1
d21 3
d33 1
a34 1
USE_GMAKE=		Yes
d39 2
a40 3
			--etcdir=${PREFIX}/share/bitlbee

LIB_DEPENDS=		glib::devel/glib
d42 1
d44 1
@


1.5
log
@- Added @@extra* entries in the PLIST
- Improved (DE)INSTALL scripts and added @@extra* support.

From: Han Boetes <han@@mijncomputer.nl>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/10/08 22:16:49 naddy Exp $
d5 1
a5 1
DISTNAME=		bitlbee-0.80
a6 1
PKGNAME=		${DISTNAME}p1
d12 1
a12 1
# GPLv2
a19 3
MASTER_SITES0=		http://get.bitlbee.org/patches/
PATCHFILES=		yahoo.diff:0
PATCH_DIST_STRIP=	-p1
@


1.4
log
@Fix support for the Yahoo network.
From: Han Boetes <han@@mijncomputer.nl>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/06/28 07:38:29 sturm Exp $
d28 5
a32 1
SUBST_VARS=		DB_DIR DOCDIR
@


1.3
log
@update to bitlbee 0.80

from Han Boetes <han@@linux-mandrake.com>
@
text
@d1 3
a3 2
# $OpenBSD: Makefile,v 1.2 2003/06/22 10:09:57 sturm Exp $
COMMENT=		"IRC-proxy to connect to icq, aol, msn and jabber"
d7 1
d9 1
a9 1
HOMEPAGE=		http://www.lintux.cx/bitlbee.html
d19 5
a23 1
MASTER_SITES=		http://www.lintux.cx/downloads/
@


1.2
log
@new user/group naming schema

bump PKGNAME for bitlbee

Han Boetes <han@@mijncomputer.nl> ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/04/16 18:51:08 wilfried Exp $
d4 1
a4 2
DISTNAME=		bitlbee-0.73
PKGNAME=		${DISTNAME}p0
d28 2
a29 1
			--config=${DB_DIR}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
@


1.1.1.1
log
@Import bitlbee 0.73; submitted by Han Boetes <han@@linux-mandrake.com>

IRC-proxy to connect to icq, aol, msn and jabber
@
text
@@
