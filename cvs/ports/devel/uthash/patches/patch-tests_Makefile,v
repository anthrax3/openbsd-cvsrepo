head	1.8;
access;
symbols
	OPENBSD_6_1:1.8.0.2
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.7.0.18
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.14
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.16
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.12
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.10
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.8
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.6
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.4
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.2
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.6
	OPENBSD_5_0:1.6.0.4
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.2
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.5.0.6
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.4
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.2
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.2.0.10
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.8
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.6
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.4
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.1.1.1.0.2
	OPENBSD_4_0_BASE:1.1.1.1
	jasper-20060628:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2017.03.13.15.38.24;	author fcambus;	state Exp;
branches;
next	1.7;
commitid	2n4BJLXZQ3iuLDZh;

1.7
date	2012.04.19.06.39.42;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.03.16.37.46;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2009.06.03.22.43.59;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2009.03.26.22.09.53;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2009.03.26.21.59.25;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2007.01.11.17.42.21;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2006.06.28.17.22.52;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.06.28.17.22.52;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Update uthash to 2.0.1.

Notable changes:

- Upstream moved to GitHub
- HTML documentation is not bundled in release tarballs anymore, and
  must be generated with asciidoc, so only ship plain text documentation
  to avoid adding a build dependency

OK jca@@
@
text
@$OpenBSD: patch-tests_Makefile,v 1.7 2012/04/19 06:39:42 jasper Exp $

- Remove GNU make crap that never applied to us anyway.

--- tests/Makefile.orig	Tue Jul  5 23:05:33 2016
+++ tests/Makefile	Wed Mar  1 21:55:35 2017
@@@@ -24,48 +24,10 @@@@ CFLAGS += -Wall 
 #CFLAGS += -std=c89
 CFLAGS += ${EXTRA_CFLAGS}
 
-ifeq ($(HASH_DEBUG),1)
-CFLAGS += -DHASH_DEBUG=1
-endif
-
-ifeq ($(HASH_PEDANTIC),1)
-CFLAGS += -pedantic
-endif
-
 TEST_TARGET=run_tests
 TESTS=./do_tests
 
 MUR_CFLAGS = -DHASH_USING_NO_STRICT_ALIASING -fno-strict-aliasing
-# On GNU we use -fno-strict-aliasing when using the Murmurhash
-ifneq ($(strip $(shell $(CC) -v 2>&1 |egrep "gcc")),)
-ifeq ($(HASH_FUNCTION),"HASH_MUR")
-  CFLAGS += $(MUR_CFLAGS)
-endif
-endif
-
-# detect Cygwin
-ifneq ($(strip $(shell $(CC) -v 2>&1 |grep "cygwin")),)
-  TESTS=./do_tests.cygwin
-endif
-
-# detect MinGW
-ifneq ($(strip $(shell $(CC) -v 2>&1 |grep "mingw")),)
-  TEST_TARGET=run_tests_mingw
-  TESTS=./do_tests.mingw
-endif
-
-#detect Linux (platform specific utilities)
-ifneq ($(strip $(shell $(CC) -v 2>&1 |grep "linux")),)
-  PLAT_UTILS = hashscan sleep_test
-endif
-
-#detect FreeBSD (platform specific utilities)
-ifeq ($(strip $(shell uname -s)), FreeBSD)
-  ifeq ($(shell if [ `sysctl -n kern.osreldate` -ge 0801000 ]; then echo "ok"; fi), ok)
-    PLAT_UTILS = hashscan sleep_test
-  endif
-endif
-
 
 all: $(PROGS) $(UTILS) $(PLAT_UTILS) $(FUNCS) $(SPECIAL_FUNCS) $(TEST_TARGET) 
 
@


1.7
log
@- update to 1.9.5
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_Makefile,v 1.6 2010/11/03 16:37:46 jasper Exp $
d5 3
a7 3
--- tests/Makefile.orig	Thu Apr 19 08:38:39 2012
+++ tests/Makefile	Thu Apr 19 08:39:02 2012
@@@@ -19,48 +19,10 @@@@ CFLAGS += -Wall 
d16 1
a16 1
-CFLAGS += -pedantic 
@


1.6
log
@- update uthash to 1.9.3
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_Makefile,v 1.5 2009/06/03 22:43:59 jasper Exp $
d5 3
a7 3
--- tests/Makefile.orig	Wed Nov  3 17:36:15 2010
+++ tests/Makefile	Wed Nov  3 17:37:15 2010
@@@@ -19,53 +19,10 @@@@ CFLAGS += -Wall 
a27 5
-endif
-
-# Prefer 64-bit compilation on Mac OS X (not necessary, just faster)
-ifneq ($(strip $(shell $(CC) -v 2>&1 |egrep "i[0-9]+-apple-darwin")),)
-  CFLAGS += -m64
@


1.5
log
@- update uthash to 1.6
- drop maintainership
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_Makefile,v 1.4 2009/03/26 22:09:53 jasper Exp $
d5 4
a8 13
--- tests/Makefile.orig	Wed Jun  3 16:41:44 2009
+++ tests/Makefile	Wed Jun  3 16:42:50 2009
@@@@ -6,38 +6,20 @@@@ PROGS = test1 test2 test3 test4 test5 test6 test7 test
         test18 test19 test20 test21 test22 test23 test24 test25 \
         test26 test27 test28 test29 test30 test31 test32 test33 \
         test34 test35 test36 test37 test38 test39
-CFLAGS = -I$(HASHDIR) 
-CFLAGS += -O3
-#CFLAGS += -g
-CFLAGS += -Wall 
+CFLAGS += -I$(HASHDIR) 
+CFLAGS += -O2
+CFLAGS += -Wall
d22 8
d40 1
a40 2
+# gnu make idiom...
 # detect MinGW
d45 13
a57 5
+#ifneq ($(strip $(shell $(CC) -v 2>&1 |grep "mingw")),)
+#  TEST_TARGET=run_tests_mingw
+#  TESTS=./do_tests.mingw
+#endif
 
d59 1
@


1.4
log
@- remove chunks from the regress tests' Makefile, drops gmake dependency
and those chunks never applied to us anyway
@
text
@d1 1
a1 1
$OpenBSD$
d5 6
a10 6
--- tests/Makefile.orig	Thu Feb 19 11:41:01 2009
+++ tests/Makefile	Thu Mar 26 23:06:05 2009
@@@@ -4,37 +4,18 @@@@ UTILS = emit_keys
 PROGS = test1 test2 test3 test4 test5 test6 test7 test8 test9   \
 		    test10 test11 test12 test13 test14 test15 test16 test17 \
         test18 test19 test20 test21 test22 test23 test24
d13 1
d18 1
d36 1
a36 2
+# gnu make idiom...
 # detect Cygwin
d41 2
a42 1
-# detect MinGW
d47 3
a49 3
-
+#ifneq ($(strip $(shell $(CC) -v 2>&1 |grep "cygwin")),)
+#  TESTS=./do_tests.cygwin
d52 1
a52 1
 all: $(PROGS) $(UTILS) $(FUNCS) $(TEST_TARGET)
@


1.3
log
@- update uthash to 1.5

from benoit lecocq, thanks
with some tweaks by me
@
text
@d1 4
d6 2
a7 2
+++ tests/Makefile	Sat Mar 21 23:06:19 2009
@@@@ -4,14 +4,10 @@@@
d22 6
a27 6
 ifeq ($(HASH_PEDANTIC),1)
 CFLAGS += -pedantic 
 endif
@@@@ -24,10 +20,11 @@@@
   CFLAGS += -m64
 endif
d29 5
d39 7
d50 2
a51 2
 # detect MinGW
 ifneq ($(strip $(shell $(CC) -v 2>&1 |grep "mingw")),)
@


1.2
log
@update to 1.2
@
text
@d1 12
a12 9
$OpenBSD: patch-tests_Makefile,v 1.1.1.1 2006/06/28 17:22:52 jasper Exp $
--- tests/Makefile.orig	Wed Nov 22 04:25:44 2006
+++ tests/Makefile	Thu Jan 11 17:26:45 2007
@@@@ -3,19 +3,15 @@@@ FUNCS = BER SAX FNV OAT JEN JSW 
 UTILS = bkt 
 PROGS = test1 test2 test3 test4 test5 test6 test7 test8 test9 \
 		test10 test11 test12 test13 test14 test15 test16 test17
-CFLAGS = -I$(HASHDIR) -g 
+CFLAGS += -I$(HASHDIR) -g 
d18 6
a23 1
 TESTS=./do_tests
d25 1
a25 1
+# gnu make idiom..
a29 1
-
d34 2
a35 2
 all: $(PROGS) $(UTILS) $(FUNCS) run_tests 
 
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- tests/Makefile.orig	Wed Jun 28 20:57:17 2006
+++ tests/Makefile	Wed Jun 28 20:57:38 2006
@@@@ -3,11 +3,7 @@@@ FUNCS = BER SAX FNV OAT JEN JSW 
d7 1
a7 1
 		test10 test11 test12 test13 test14 test15 test16 
d9 2
a10 1
-
d14 12
a25 1
+CFLAGS += -I$(HASHDIR) -g 
@


1.1.1.1
log
@import uthash 1.1

In scripting languages like Perl, hashes are used all the time. In C,
hashes don't exist in the language itself. This software provides a hash
for C structures.

ok alek
@
text
@@
