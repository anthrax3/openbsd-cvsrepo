head	1.22;
access;
symbols
	OPENBSD_6_2:1.22.0.4
	OPENBSD_6_2_BASE:1.22
	OPENBSD_6_1:1.22.0.2
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.18.0.4
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.18.0.2
	OPENBSD_5_9_BASE:1.18
	OPENBSD_5_8:1.15.0.4
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.14.0.2
	OPENBSD_5_7_BASE:1.14
	OPENBSD_5_6:1.13.0.6
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.4
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.2
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.10.0.2
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.9.0.2
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.4
	OPENBSD_5_0:1.8.0.2
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.7.0.2
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.2.0.4
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	landry_20090902:1.1.1.1
	bapt:1.1.1;
locks; strict;
comment	@# @;


1.22
date	2017.02.20.22.57.16;	author jca;	state Exp;
branches;
next	1.21;
commitid	bOMAYj2UrpZ3YlKd;

1.21
date	2017.01.16.08.55.41;	author dcoppa;	state Exp;
branches;
next	1.20;
commitid	qeirI65Tn5rXb6GN;

1.20
date	2016.11.18.09.17.10;	author dcoppa;	state Exp;
branches;
next	1.19;
commitid	1KVrWlOo02F736SA;

1.19
date	2016.09.01.10.53.26;	author jasper;	state Exp;
branches;
next	1.18;
commitid	LdsIxWmxagN2Kq33;

1.18
date	2016.02.18.17.11.47;	author tobiasu;	state Exp;
branches;
next	1.17;
commitid	GlORjarATsZxdBS0;

1.17
date	2016.01.28.08.32.46;	author dcoppa;	state Exp;
branches;
next	1.16;
commitid	J9cUsAOEhiqg0NiY;

1.16
date	2015.12.21.09.21.21;	author dcoppa;	state Exp;
branches;
next	1.15;
commitid	KaVoCfVrhYXVsaHW;

1.15
date	2015.06.22.07.51.28;	author dcoppa;	state Exp;
branches;
next	1.14;
commitid	g5TaZivcT0RUg0Mb;

1.14
date	2014.10.13.09.13.31;	author dcoppa;	state Exp;
branches;
next	1.13;
commitid	QqD1u0uXMd6wQ7Va;

1.13
date	2013.04.23.18.59.53;	author dcoppa;	state Exp;
branches;
next	1.12;

1.12
date	2013.03.21.08.45.15;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2013.03.11.10.50.09;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2012.12.28.18.27.23;	author dcoppa;	state Exp;
branches;
next	1.9;

1.9
date	2012.02.22.10.50.47;	author dcoppa;	state Exp;
branches;
next	1.8;

1.8
date	2011.03.04.21.30.13;	author dcoppa;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.18.12.18.06;	author dcoppa;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.15.19.45.59;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2010.10.29.10.37.48;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.18.17.47.53;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2010.09.14.08.49.04;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2009.09.14.15.53.09;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2009.09.02.19.19.43;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.09.02.19.19.43;	author landry;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Drop workarounds to get libev working on arm.

libev can use the appropriate sync instructions now that cc defines
__ARM_ARCH_6K__.

ok dcoppa@@ (libev and rxvt-unicode maintainer)
@
text
@# $OpenBSD: Makefile,v 1.21 2017/01/16 08:55:41 dcoppa Exp $

COMMENT =	high-performance event loop library

DISTNAME =	libev-4.24
REVISION =	0
CATEGORIES =	devel

MAINTAINER =	David Coppa <dcoppa@@openbsd.org>

SHARED_LIBS=	ev 3.1 # 4.0

HOMEPAGE =	http://software.schmorp.de/pkg/libev.html
MASTER_SITES =	http://dist.schmorp.de/libev/ \
		http://dist.schmorp.de/libev/Attic/

# BSD / GPL
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =		m

CONFIGURE_STYLE =	gnu

.include <bsd.port.mk>
@


1.21
log
@
Update to libev-4.24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/11/18 09:17:10 dcoppa Exp $
d6 1
a22 4

.if ${MACHINE_ARCH} == "arm"
CFLAGS +=	-DEV_NO_SMP
.endif
@


1.20
log
@
Maintenance update to libev-4.23.
Nothing worth of interest for us.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2016/09/01 10:53:26 jasper Exp $
d5 1
a5 1
DISTNAME =	libev-4.23
@


1.19
log
@retire sparc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2016/02/18 17:11:47 tobiasu Exp $
d5 1
a5 1
DISTNAME =	libev-4.22
@


1.18
log
@unbreak on sparc, no multiprocessor support means we don't need membar etc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2016/01/28 08:32:46 dcoppa Exp $
d23 1
a23 1
.if ${MACHINE_ARCH} == "arm" || ${MACHINE_ARCH} == "sparc"
@


1.17
log
@
Unbreak on arm by using "CFLAGS += -DEV_NO_SMP".

Thanks Andre Smagin for hints

"Almost all the armv7 systems are multicore but we don't run
multiprocessor on them. So the -DEV_NO_SMP approach sounds reasonable
for now" jsg@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2015/12/21 09:21:21 dcoppa Exp $
d23 1
a23 1
.if ${MACHINE_ARCH} == "arm"
@


1.16
log
@
Bugfixing update to libev-4.22
No dynamic export changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/06/22 07:51:28 dcoppa Exp $
d22 4
@


1.15
log
@
Update to libev-4.20
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/10/13 09:13:31 dcoppa Exp $
d5 1
a5 1
DISTNAME =	libev-4.20
@


1.14
log
@
Bugfixing update to libev-4.19

Thanks sthen@@ for the ag search results
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/04/23 18:59:53 dcoppa Exp $
d5 1
a5 1
DISTNAME =	libev-4.19
@


1.13
log
@Update to libev-4.15.
While here, merge PFRAG.shared into PLIST.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/03/21 08:45:15 ajacoutot Exp $
d5 1
a5 1
DISTNAME =	libev-4.15
@


1.12
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/03/11 10:50:09 espie Exp $
d5 1
a5 2
DISTNAME =	libev-4.11
REVISION =	0
d10 1
a10 1
SHARED_LIBS=	ev 3.0 # 4.0
@


1.11
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2012/12/28 18:27:23 dcoppa Exp $
a21 1
USE_LIBTOOL =		Yes
@


1.10
log
@Sync with upstream cvs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/02/22 10:50:47 dcoppa Exp $
a18 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.9
log
@Update to libev-4.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/03/04 21:30:13 dcoppa Exp $
d6 1
@


1.8
log
@Update to libev-4.04

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/11/18 12:18:06 dcoppa Exp $
d5 1
a5 1
DISTNAME =	libev-4.04
d10 1
a10 1
SHARED_LIBS=	ev 2.1 # 4.0
@


1.7
log
@Update to libev-4.01, zap USE_GROFF
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/11/15 19:45:59 espie Exp $
d5 1
a5 1
DISTNAME =	libev-4.01
d10 1
a10 1
SHARED_LIBS=	ev 2.0 # 4.0
@


1.6
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/10/29 10:37:48 jasper Exp $
d5 1
a5 1
DISTNAME =	libev-3.9
d10 1
a10 1
SHARED_LIBS=	ev 1.0 #.3
a24 1
USE_GROFF =		Yes
@


1.5
log
@- make this fetchable again
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/10/18 17:47:53 espie Exp $
d25 1
a25 1
USE_GROFF =	Yes
@


1.4
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/09/14 08:49:04 dcoppa Exp $
d13 2
a14 1
MASTER_SITES =	http://dist.schmorp.de/libev/
@


1.3
log
@Update to libev-3.9

OK jim@@, jasper@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/09/14 15:53:09 landry Exp $
d24 1
@


1.2
log
@Don't build nor install libevent compatibilty layer. the installed event.h
shadowed the systemwide one.
Prodded by & ok naddy@@, also tested by sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/09/02 19:19:43 landry Exp $
d5 1
a5 1
DISTNAME =	libev-3.8
a6 1
PKGNAME =	${DISTNAME}p0
d8 1
a8 1
MAINTAINER =	Bapt <baptiste.daroussin@@gmail.com>
d10 1
a10 1
SHARED_LIBS=	ev 0.0 #.3
d12 2
a13 2
HOMEPAGE =	http://dist.schmorp.de/libev/
MASTER_SITES =	${HOMEPAGE}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@import libev 3.8, from MAINTAINER Baptiste Daroussin (with some tweaks
by me):

Libev is a high-performance event loop/event model with lots of
features.  It is modelled (very loosely) after libevent and the Event
perl module, but aims to be faster and more correct, and also more
featureful. And also smaller.

(actually, really import the files. Oh yeah, cvs i love you so much.)
@
text
@@
