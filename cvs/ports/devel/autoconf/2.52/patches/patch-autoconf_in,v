head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.36
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.34
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.30
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.32
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.28
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.26
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.24
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.22
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.20
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.18
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.16
	OPENBSD_5_0:1.2.0.14
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.12
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.10
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.8
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.6
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.4
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.1.1.1.0.22
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.20
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.18
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.16
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.14
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.12
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.10
	OPENBSD_3_7_BASE:1.1.1.1
	OPENBSD_3_6:1.1.1.1.0.8
	OPENBSD_3_6_BASE:1.1.1.1
	OPENBSD_3_5:1.1.1.1.0.6
	OPENBSD_3_5_BASE:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.4
	OPENBSD_3_4_BASE:1.1.1.1
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	espie:1.1.1.1
	fsf:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2008.03.15.07.24.38;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2003.02.15.14.03.28;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.02.15.14.03.28;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@make autoconf zap the AM_SANITY check for extra speed, and regen patches
while we're there.
@
text
@$OpenBSD: patch-autoconf_in,v 1.1.1.1 2003/02/15 14:03:28 espie Exp $
--- autoconf.in.orig	Thu Jul 12 14:46:00 2001
+++ autoconf.in	Sat Mar  8 14:09:51 2008
@@@@ -99,21 +99,16 @@@@ ac_LF_and_DOT=`echo; echo .`
 case "$M4" in
   [\\/]* | ?:[\\/]*) test -f "$M4" || M4=m4 ;;
 esac
-# Some non-GNU m4's don't reject the --help option, so give them /dev/null.
-case `$M4 --help </dev/null 2>&1` in
-*reload-state*);;
-*) echo "$me: Autoconf requires GNU m4 1.4 or later" >&2; exit 1 ;;
-esac
 
 # Set some high recursion limit as the default limit, 250, has already
 # been hit with AC_OUTPUT.
-case " $M4 " in
-  *" --nesting-limit"* | *" -L"* )
-  # Don't override the user's choice
-  ;;
-  *) M4="$M4 --nesting-limit=1024"
-  ;;
-esac
+#case " $M4 " in
+#  *" --nesting-limit"* | *" -L"* )
+#  # Don't override the user's choice
+#  ;;
+#  *) M4="$M4 --nesting-limit=1024"
+#  ;;
+#esac
 
 
 # Find a good AWK.
@@@@ -279,8 +274,8 @@@@ test -f "$autoconf_dir/acsite.m4" && acsite_m4="$autoc
 test -f "$localdir/aclocal.m4"   && aclocal_m4="$localdir/aclocal.m4"
 m4_common="-I $autoconf_dir -I $localdir -Dm4_tmpdir=$tmp"
 m4_prefiles="                $autoconf_dir/autoconf.m4  $acsite_m4 $aclocal_m4"
-m4f_prefiles="--reload-state=$autoconf_dir/autoconf.m4f $acsite_m4 $aclocal_m4"
-run_m4="$M4 $m4_common"
+m4f_prefiles=$m4_prefiles
+run_m4="$M4 -g -D__gnu__ $m4_common"
 
 # Find the input file.
 case $# in
@@@@ -514,13 +509,13 @@@@ EOF
   # the `at_' name space.
   echo '# Copy the builtins.' >>$tmp/trace.m4
   echo "dumpdef" |
-    $M4 2>&1 >/dev/null |
+    $M4 -g 2>&1 >/dev/null |
     sed 's/^\([^:]*\):.*/define([at_\1], defn([\1]))/' >>$tmp/trace.m4
   echo >>$tmp/trace.m4
 
   echo '# Disable the builtins.' >>$tmp/trace.m4
   echo "dumpdef" |
-    $M4 2>&1 >/dev/null |
+    $M4 -g 2>&1 >/dev/null |
     sed 's/^\([^:]*\):.*/at_undefine([\1])/' >>$tmp/trace.m4
   echo >>$tmp/trace.m4
 
@@@@ -749,8 +744,8 @@@@ EOF
   # traces in stderr.  This is too fragile, as it results in
   # unexpected data in the output.  autoheader has been fragile to
   # this.
-  $verbose "$me: running $run_m4_trace $trace_prefiles $infile -o $tmp/traces" >&2
-  $run_m4_trace $trace_prefiles $infile -o $tmp/traces >/dev/null ||
+  $verbose "$me: running $run_m4_trace -o $tmp/traces $trace_prefiles $infile" >&2
+  $run_m4_trace -o $tmp/traces $trace_prefiles $infile >/dev/null ||
     {
       echo "$me: tracing failed" >&2
       (exit 1); exit 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-autoconf_in,v 1.1.1.1 2001/12/31 09:36:04 espie Exp $
d3 1
a3 1
+++ autoconf.in	Tue Sep 18 11:34:34 2001
d33 1
a33 1
@@@@ -279,8 +274,8 @@@@ test -f "$autoconf_dir/acsite.m4" && acs
@


1.1.1.1
log
@move autoconf-new -> autoconf/2.52, to deal with metaauto.
@
text
@@
