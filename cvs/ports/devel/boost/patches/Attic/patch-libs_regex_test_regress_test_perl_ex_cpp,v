head	1.2;
access;
symbols
	OPENBSD_4_7:1.1.0.8
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.6
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.4
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2010.03.30.11.00.15;	author robert;	state dead;
branches;
next	1.1;

1.1
date	2008.05.27.00.52.01;	author deanna;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Udpate to 1.41.0; original diff from Markus Hennecke
@
text
@$OpenBSD: patch-libs_regex_test_regress_test_perl_ex_cpp,v 1.1 2008/05/27 00:52:01 deanna Exp $
--- libs/regex/test/regress/test_perl_ex.cpp.orig	Wed Sep 14 08:20:08 2005
+++ libs/regex/test/regress/test_perl_ex.cpp	Sun May 25 21:59:48 2008
@@@@ -121,6 +121,17 @@@@ void test_conditionals()
    TEST_INVALID_REGEX("(?:(a)|b)(?(?:", perl);
    TEST_INVALID_REGEX("(?:(a)|b)(?(?<", perl);
    TEST_INVALID_REGEX("(?:(a)|b)(?(?<a", perl);
+
+   TEST_INVALID_REGEX("(?(?!#?)+)", perl);
+   TEST_INVALID_REGEX("(?(?=:-){0})", perl);
+   TEST_INVALID_REGEX("(?(123){1})", perl);
+   TEST_INVALID_REGEX("(?(?<=A)*)", perl);
+   TEST_INVALID_REGEX("(?(?<=A)+)", perl);
+
+   TEST_INVALID_REGEX("(?<!*|^)", perl);
+   TEST_INVALID_REGEX("(?<!*|A)", perl);
+   TEST_INVALID_REGEX("(?<=?|A)", perl);
+   TEST_INVALID_REGEX("(?<=*|\\B)", perl);
 }
 
 void test_options()
@


1.1
log
@Security - add fix from boost svn for CVE-2008-0171:

"regex/v4/perl_matcher_non_recursive.hpp in the Boost regex library
(aka Boost.Regex) in Boost 1.33 and 1.34 allows context-dependent
attackers to cause a denial of service (failed assertion and crash)
via an invalid regular expression."

ok naddy@@
@
text
@d1 1
a1 1
$OpenBSD$
@

