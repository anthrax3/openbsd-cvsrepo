head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2015.12.07.18.42.53;	author jca;	state dead;
branches;
next	1.2;
commitid	UIXzVXmKiYPykzhx;

1.2
date	2015.09.11.18.48.41;	author sthen;	state Exp;
branches;
next	1.1;
commitid	iwBdFI0kGUllp9qp;

1.1
date	2015.09.11.14.43.54;	author sthen;	state Exp;
branches;
next	;
commitid	uC02rCN3eQdFFes9;


desc
@@


1.3
log
@Remove: abandoned upstream, we have to fix it each time base changes.

sthen had already warned more than one year ago.

ok sthen@@ jasper@@
@
text
@$OpenBSD: patch-openbsd__ifconfig_c,v 1.2 2015/09/11 18:48:41 sthen Exp $
--- openbsd/_ifconfig.c.orig	Tue Dec 21 07:32:04 2004
+++ openbsd/_ifconfig.c	Fri Sep 11 20:48:18 2015
@@@@ -162,7 +162,7 @@@@ PyObject *decodeMediaWord(int mw){
 PyObject *getifmedia(PyObject *self, PyObject *args){
 	struct ifmediareq ifmr;
 	char *ifname;
-	int *media_list;
+	uint64_t *media_list;
 	int s, i;
 	PyObject *retdict, *optionlist, *tmp, *tmp2;
 
@@@@ -186,7 +186,7 @@@@ PyObject *getifmedia(PyObject *self, PyObject *args){
 	if (ioctl(s, SIOCGIFMEDIA, (caddr_t)&ifmr) < 0) 
 		goto error;
 
-	media_list = malloc(ifmr.ifm_count * sizeof(int));
+	media_list = malloc(ifmr.ifm_count * sizeof(uint64_t));
 	if (media_list == NULL)
 		goto error;
 	ifmr.ifm_ulist = media_list;
@


1.2
log
@missed int->uint64_t from previous
@
text
@d1 1
a1 1
$OpenBSD: patch-openbsd__ifconfig_c,v 1.1 2015/09/11 14:43:54 sthen Exp $
@


1.1
log
@ifmedia64
@
text
@d1 3
a3 3
$OpenBSD$
--- openbsd/_ifconfig.c.orig	Fri Sep 11 08:42:58 2015
+++ openbsd/_ifconfig.c	Fri Sep 11 08:43:02 2015
d13 9
@

