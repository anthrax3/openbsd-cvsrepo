head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.6
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2015.07.31.11.45.14;	author jca;	state Exp;
branches;
next	1.1;
commitid	Jsc7c0dw6WPAsvez;

1.1
date	2015.03.19.19.27.57;	author landry;	state Exp;
branches;
next	;
commitid	C0wQ6dPk0W9yE0NT;


desc
@@


1.2
log
@Unbreak build on hppa; ok landry@@
@
text
@$OpenBSD: patch-jsapi_cpp,v 1.1 2015/03/19 19:27:57 landry Exp $
--- jsapi.cpp.orig	Fri Dec  6 23:52:35 2013
+++ jsapi.cpp	Fri Jul 31 13:40:31 2015
@@@@ -865,7 +865,9 @@@@ JSRuntime::JSRuntime(JSUseHelperThreads useHelperThrea
     PodZero(&atomState);
 
 #if JS_STACK_GROWTH_DIRECTION > 0
-    nativeStackLimit = UINTPTR_MAX;
+    mainThread.nativeStackLimit = UINTPTR_MAX;
+#else
+    mainThread.nativeStackLimit = 0;
 #endif
 }
 
@


1.1
log
@Tentatively enable on hppa, fixing the build with a oneliner..
@
text
@d1 5
a5 4
$OpenBSD$
--- jsapi.cpp.orig	Fri Dec  6 15:52:35 2013
+++ jsapi.cpp	Mon Mar 16 07:11:01 2015
@@@@ -866,6 +866,8 @@@@ JSRuntime::JSRuntime(JSUseHelperThreads useHelperThrea
d8 2
a9 1
     nativeStackLimit = UINTPTR_MAX;
@

