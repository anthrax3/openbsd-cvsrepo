head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.6
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.4
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2015.05.09.06.50.02;	author benoit;	state Exp;
branches;
next	1.3;
commitid	Y7CCSvTxUpdWl03u;

1.3
date	2015.02.04.07.33.11;	author benoit;	state Exp;
branches;
next	1.2;
commitid	ej18lr807Up4JjAs;

1.2
date	2014.03.16.09.45.32;	author benoit;	state Exp;
branches;
next	1.1;

1.1
date	2014.03.09.19.58.51;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to capstone-3.0.3.
@
text
@$OpenBSD: patch-cs_c,v 1.3 2015/02/04 07:33:11 benoit Exp $

The 'mips' symbol is special on MIPS platforms, so rename it to prevent a
conflict.

--- cs.c.orig	Fri May  8 11:06:59 2015
+++ cs.c	Sat May  9 08:34:16 2015
@@@@ -919,8 +919,8 @@@@ int cs_op_count(csh ud, const cs_insn *insn, unsigned 
 					count++;
 			break;
 		case CS_ARCH_MIPS:
-			for (i = 0; i < insn->detail->mips.op_count; i++)
-				if (insn->detail->mips.operands[i].type == (mips_op_type)op_type)
+			for (i = 0; i < insn->detail->mipsen.op_count; i++)
+				if (insn->detail->mipsen.operands[i].type == (mips_op_type)op_type)
 					count++;
 			break;
 		case CS_ARCH_PPC:
@@@@ -1005,8 +1005,8 @@@@ int cs_op_index(csh ud, const cs_insn *insn, unsigned 
 			}
 			break;
 		case CS_ARCH_MIPS:
-			for (i = 0; i < insn->detail->mips.op_count; i++) {
-				if (insn->detail->mips.operands[i].type == (mips_op_type)op_type)
+			for (i = 0; i < insn->detail->mipsen.op_count; i++) {
+				if (insn->detail->mipsen.operands[i].type == (mips_op_type)op_type)
 					count++;
 				if (count == post)
 					return i;
@


1.3
log
@Update to capstone-3.0.1.
@
text
@d1 1
a1 1
$OpenBSD: patch-cs_c,v 1.2 2014/03/16 09:45:32 benoit Exp $
d6 3
a8 3
--- cs.c.orig	Tue Feb  3 15:41:07 2015
+++ cs.c	Wed Feb  4 08:05:44 2015
@@@@ -914,8 +914,8 @@@@ int cs_op_count(csh ud, const cs_insn *insn, unsigned 
d19 1
a19 1
@@@@ -1000,8 +1000,8 @@@@ int cs_op_index(csh ud, const cs_insn *insn, unsigned 
@


1.2
log
@Update capstone to 2.1.1.
@
text
@d1 1
a1 1
$OpenBSD: patch-cs_c,v 1.1 2014/03/09 19:58:51 jasper Exp $
d6 3
a8 3
--- cs.c.orig	Tue Mar  4 17:35:03 2014
+++ cs.c	Mon Mar 10 12:49:14 2014
@@@@ -559,8 +559,8 @@@@
d19 1
a19 1
@@@@ -618,8 +618,8 @@@@
@


1.1
log
@prevent a clash with the 'mips' symbol on mips64; fixes build.

ok benoit@@ (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD$
d6 3
a8 3
--- cs.c.orig	Sat Feb 22 12:44:56 2014
+++ cs.c	Sat Feb 22 12:46:49 2014
@@@@ -520,8 +520,8 @@@@ int cs_op_count(csh ud, cs_insn *insn, unsigned int op
d13 1
a13 1
-				if (insn->detail->mips.operands[i].type == op_type)
d15 1
a15 1
+				if (insn->detail->mipsen.operands[i].type == op_type)
d19 1
a19 1
@@@@ -579,8 +579,8 @@@@ int cs_op_index(csh ud, cs_insn *insn, unsigned int op
d24 1
a24 1
-				if (insn->detail->mips.operands[i].type == op_type)
d26 1
a26 1
+				if (insn->detail->mipsen.operands[i].type == op_type)
@

