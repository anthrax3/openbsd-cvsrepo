head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.05.06.15.36.11;	author espie;	state Exp;
branches;
next	;
commitid	YalPkguRuYrTJvDH;


desc
@@


1.1
log
@...complete build with clang, grab fix from libopensync-0.39 (not my place
to update, and MASTER_SITES is down at the moment, tarball peeked on
FreeBSD mirror cache...
@
text
@$OpenBSD$
stolen from a more recent version

Index: opensync/opensync_error.c
--- opensync/opensync_error.c.orig
+++ opensync/opensync_error.c
@@@@ -111,7 +111,7 @@@@ const char *osync_error_get_name(OSyncError **error)
 OSyncError **osync_error_ref(OSyncError **error)
 {
 	if (!osync_error_is_set(error))
-		return;
+		return error;
 	
 	g_atomic_int_inc(&(*error)->ref_count);
 
@
