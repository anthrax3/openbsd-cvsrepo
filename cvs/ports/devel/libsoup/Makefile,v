head	1.107;
access;
symbols
	OPENBSD_6_1:1.104.0.2
	OPENBSD_6_1_BASE:1.104
	OPENBSD_6_0:1.102.0.2
	OPENBSD_6_0_BASE:1.102
	OPENBSD_5_9:1.100.0.2
	OPENBSD_5_9_BASE:1.100
	OPENBSD_5_8:1.97.0.4
	OPENBSD_5_8_BASE:1.97
	OPENBSD_5_7:1.96.0.2
	OPENBSD_5_7_BASE:1.96
	OPENBSD_5_6:1.93.0.2
	OPENBSD_5_6_BASE:1.93
	OPENBSD_5_5:1.88.0.2
	OPENBSD_5_5_BASE:1.88
	OPENBSD_5_4:1.82.0.2
	OPENBSD_5_4_BASE:1.82
	OPENBSD_5_3:1.77.0.2
	OPENBSD_5_3_BASE:1.77
	OPENBSD_5_2:1.72.0.2
	OPENBSD_5_2_BASE:1.72
	OPENBSD_5_1_BASE:1.68
	OPENBSD_5_1:1.68.0.2
	OPENBSD_5_0:1.61.0.2
	OPENBSD_5_0_BASE:1.61
	OPENBSD_4_9:1.52.0.2
	OPENBSD_4_9_BASE:1.52
	OPENBSD_4_8:1.43.0.2
	OPENBSD_4_8_BASE:1.43
	OPENBSD_4_7:1.38.0.2
	OPENBSD_4_7_BASE:1.38
	OPENBSD_4_6:1.33.0.2
	OPENBSD_4_6_BASE:1.33
	OPENBSD_4_5:1.28.0.2
	OPENBSD_4_5_BASE:1.28
	OPENBSD_4_4:1.23.0.2
	OPENBSD_4_4_BASE:1.23
	OPENBSD_4_3:1.19.0.2
	OPENBSD_4_3_BASE:1.19
	OPENBSD_4_2:1.17.0.2
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.16.0.2
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.12.0.2
	OPENBSD_4_0_BASE:1.12
	OPENBSD_3_9:1.11.0.2
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.8.0.2
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.1.1.1.0.2
	OPENBSD_3_5_BASE:1.1.1.1
	marcm_2003-nov-03:1.1.1.1
	marcm:1.1.1;
locks; strict;
comment	@# @;


1.107
date	2017.08.17.09.40.09;	author ajacoutot;	state Exp;
branches;
next	1.106;
commitid	iJ3jZ85Wylrgo7l9;

1.106
date	2017.05.08.18.46.03;	author ajacoutot;	state Exp;
branches;
next	1.105;
commitid	BLoJDJlSZM8nPJFp;

1.105
date	2017.04.20.14.26.08;	author ajacoutot;	state Exp;
branches;
next	1.104;
commitid	b3Yd5PZ5z7aMYQ9f;

1.104
date	2016.10.28.13.43.25;	author ajacoutot;	state Exp;
branches
	1.104.2.1;
next	1.103;
commitid	AleWtXCAUAUm5Oms;

1.103
date	2016.09.23.09.16.53;	author sthen;	state Exp;
branches;
next	1.102;
commitid	XLnI6AbHAmyVU5mO;

1.102
date	2016.04.26.13.06.15;	author ajacoutot;	state Exp;
branches;
next	1.101;
commitid	mTblPwjnkifR3LFU;

1.101
date	2016.04.19.06.01.29;	author ajacoutot;	state Exp;
branches;
next	1.100;
commitid	MiZqHNKfqXBmessO;

1.100
date	2015.11.10.08.33.22;	author ajacoutot;	state Exp;
branches;
next	1.99;
commitid	MReN9KlKZJNmi4nC;

1.99
date	2015.10.13.18.29.02;	author ajacoutot;	state Exp;
branches;
next	1.98;
commitid	HAAOdGNiM61tUrtb;

1.98
date	2015.09.24.10.27.38;	author ajacoutot;	state Exp;
branches;
next	1.97;
commitid	Dtvba5s7xOMKnMyX;

1.97
date	2015.04.03.09.09.30;	author ajacoutot;	state Exp;
branches;
next	1.96;
commitid	k3ZN9bzPhZ64xDd7;

1.96
date	2014.12.07.16.13.40;	author ajacoutot;	state Exp;
branches;
next	1.95;
commitid	gQRqowrDSfkj59WV;

1.95
date	2014.10.05.13.07.46;	author ajacoutot;	state Exp;
branches;
next	1.94;
commitid	2MBRsOXL3shIH1zW;

1.94
date	2014.10.04.14.41.12;	author ajacoutot;	state Exp;
branches;
next	1.93;
commitid	Sd7I2l9s6VR5EQhc;

1.93
date	2014.04.24.15.59.26;	author sthen;	state Exp;
branches;
next	1.92;

1.92
date	2014.04.03.12.37.41;	author jasper;	state Exp;
branches;
next	1.91;

1.91
date	2014.04.02.09.36.10;	author jasper;	state Exp;
branches;
next	1.90;

1.90
date	2014.04.01.15.31.45;	author jasper;	state Exp;
branches;
next	1.89;

1.89
date	2014.03.27.08.07.04;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2014.01.23.10.51.36;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2013.11.12.07.37.24;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2013.10.26.08.02.08;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2013.10.15.14.57.00;	author ajacoutot;	state Exp;
branches;
next	1.84;

1.84
date	2013.09.28.08.50.42;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2013.09.26.08.17.59;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2013.04.25.05.45.56;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2013.04.16.13.28.24;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2013.04.16.13.17.00;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2013.03.29.10.08.49;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2013.03.11.10.50.10;	author espie;	state Exp;
branches;
next	1.77;

1.77
date	2013.01.15.07.11.52;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2012.11.13.07.26.47;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2012.10.16.12.01.39;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2012.09.27.09.58.38;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2012.09.01.14.36.57;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2012.04.23.17.15.18;	author espie;	state Exp;
branches;
next	1.71;

1.71
date	2012.04.16.22.52.11;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2012.03.29.06.31.59;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2012.02.16.22.16.02;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2011.10.18.05.46.57;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2011.09.28.09.51.35;	author jasper;	state Exp;
branches;
next	1.66;

1.66
date	2011.09.27.07.58.54;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2011.09.20.21.04.24;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2011.09.20.20.51.51;	author jasper;	state Exp;
branches;
next	1.63;

1.63
date	2011.09.16.09.24.52;	author espie;	state Exp;
branches;
next	1.62;

1.62
date	2011.09.12.12.07.25;	author jasper;	state Exp;
branches;
next	1.61;

1.61
date	2011.07.28.18.07.27;	author jasper;	state Exp;
branches;
next	1.60;

1.60
date	2011.06.29.19.21.46;	author jasper;	state Exp;
branches;
next	1.59;

1.59
date	2011.05.23.21.34.35;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2011.05.15.13.10.33;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2011.05.15.09.22.45;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2011.04.26.05.50.36;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2011.04.07.08.09.45;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2011.04.05.14.44.11;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2011.03.22.09.27.06;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2011.02.01.13.47.04;	author giovanni;	state Exp;
branches
	1.52.2.1;
next	1.51;

1.51
date	2010.11.30.07.17.10;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2010.11.26.07.19.00;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2010.11.15.19.46.00;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2010.11.08.09.57.40;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2010.10.19.15.21.03;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2010.10.18.13.28.51;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2010.09.30.07.45.36;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2010.09.01.11.02.26;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2010.06.22.18.16.59;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2010.04.26.21.28.22;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2010.04.20.22.24.02;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.04.20.20.11.53;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.04.20.11.07.07;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2009.12.16.16.25.49;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2009.10.20.14.37.19;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2009.10.20.08.11.39;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2009.10.05.14.12.21;	author landry;	state Exp;
branches;
next	1.34;

1.34
date	2009.07.12.20.02.02;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2009.05.18.16.52.15;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2009.04.14.08.01.20;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2009.04.10.09.38.01;	author landry;	state Exp;
branches;
next	1.30;

1.30
date	2009.04.05.10.34.03;	author kili;	state Exp;
branches;
next	1.29;

1.29
date	2009.04.04.10.25.48;	author landry;	state Exp;
branches;
next	1.28;

1.28
date	2009.01.29.20.08.42;	author sturm;	state Exp;
branches;
next	1.27;

1.27
date	2009.01.12.23.00.59;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2008.11.25.15.06.02;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2008.11.24.23.02.21;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2008.11.12.22.42.26;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2008.06.02.16.42.47;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2008.05.11.12.26.13;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2008.04.30.11.22.11;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2008.04.29.17.30.33;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2007.10.31.19.10.45;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2007.09.16.02.53.01;	author merdely;	state Exp;
branches;
next	1.17;

1.17
date	2007.05.19.09.13.54;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2007.03.01.16.46.48;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2007.01.18.22.15.55;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2006.09.18.11.50.39;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2006.08.01.22.55.53;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2006.01.08.17.58.49;	author bernd;	state Exp;
branches;
next	1.10;

1.10
date	2005.12.19.18.41.51;	author marcm;	state Exp;
branches;
next	1.9;

1.9
date	2005.11.13.06.44.55;	author marcm;	state Exp;
branches;
next	1.8;

1.8
date	2005.05.24.22.08.03;	author marcm;	state Exp;
branches;
next	1.7;

1.7
date	2005.03.10.07.39.21;	author marcm;	state Exp;
branches;
next	1.6;

1.6
date	2004.11.23.21.34.27;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2004.10.26.03.50.52;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2004.09.15.04.20.24;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2004.08.09.06.15.27;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2004.06.25.16.16.51;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.11.03.15.44.05;	author marcm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.11.03.15.44.05;	author marcm;	state Exp;
branches;
next	;

1.52.2.1
date	2011.07.28.18.10.50;	author jasper;	state Exp;
branches;
next	;

1.104.2.1
date	2017.08.17.09.42.16;	author ajacoutot;	state Exp;
branches;
next	;
commitid	xVVykNi5K8g3luQ5;


desc
@@


1.107
log
@SECURITY update to libsoup-2.58.2.
CVE-2017-2885: Fixed a chunked decoding buffer overrun that could be exploited
against either clients or servers.
@
text
@# $OpenBSD: Makefile,v 1.106 2017/05/08 18:46:03 ajacoutot Exp $

COMMENT =		HTTP client/server library for GNOME

GNOME_PROJECT =		libsoup
GNOME_VERSION =		2.58.2

SHARED_LIBS +=  soup-2.4             9.2      # 9.0
SHARED_LIBS +=  soup-gnome-2.4       8.0      # 9.0

API_VERSION =		2.4
SUBST_VARS =		API_VERSION

CATEGORIES =		devel www

MAINTAINER =		Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
			Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2
PERMIT_PACKAGE_CDROM=   Yes

WANTLIB += ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 iconv
WANTLIB += intl lzma m pcre pthread sqlite3 xml2 z

MODULES =		lang/python \
			x11/gnome

MODGNOME_TOOLS +=	gobject-introspection vala
MODPY_ADJ_FILES =	libsoup/tld-parser.py
MODPY_RUNDEP =		No

BUILD_DEPENDS =		net/glib2-networking
RUN_DEPENDS =		net/glib2-networking

LIB_DEPENDS =		databases/sqlite3 \
			devel/glib2 \
			textproc/libxml

CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS =	--with-ntlm-auth=${LOCALBASE}/bin/ntlm_auth

PSEUDO_FLAVORS =	tests
FLAVOR ?=

.if ${FLAVOR:Mtests}
MODULES +=		lang/php
BUILD_DEPENDS +=	php-${MODPHP_VSPEC}-ap2:lang/php/${MODPHP_VERSION},ap2 \
			lang/php/${MODPHP_VERSION},-xmlrpc \
			net/curl \
			www/apache-httpd
CONFIGURE_ENV +=	ac_cv_prog_PHP=${MODPHP_BIN}
CONFIGURE_ARGS +=	--with-apache-httpd=${LOCALBASE}/sbin/httpd2 \
			--with-apache-module-dir="${LOCALBASE}/lib/apache2 ${MODPHP_LIBDIR}"
.else
CONFIGURE_ENV +=	ac_cv_prog_PHP= \
			ac_cv_path_APACHE_HTTPD= \
			ac_cv_path_CURL=
.endif

.include <bsd.port.mk>
@


1.106
log
@Update to libsoup-2.58.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2017/04/20 14:26:08 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION =		2.58.1
@


1.105
log
@Update to libsoup-2.58.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2016/10/28 13:43:25 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION =		2.58.0
@


1.104
log
@Update to libsoup-2.56.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2016/09/23 09:16:53 sthen Exp $
d6 1
a6 1
GNOME_VERSION =		2.56.0
d8 1
a8 1
SHARED_LIBS +=  soup-2.4             9.1      # 9.0
@


1.104.2.1
log
@Merge a patch from upstream for CVE-2017-2885:
Fixed a chunked decoding buffer overrun that could be exploited against
either clients or servers.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2016/10/28 13:43:25 ajacoutot Exp $
a6 1
REVISION=		0
@


1.103
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2016/04/26 13:06:15 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION =		2.54.1
REVISION =		0
d8 1
a8 1
SHARED_LIBS +=  soup-2.4             9.0      # 9.0
@


1.102
log
@Update to libsoup-2.54.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2016/04/19 06:01:29 ajacoutot Exp $
d7 1
d36 2
a37 1
LIB_DEPENDS =		devel/glib2 \
@


1.101
log
@Update to libsoup-2.52.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2015/11/10 08:33:22 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION =		2.54.0.1
d8 2
a9 2
SHARED_LIBS +=  soup-2.4             8.4      # 8.0
SHARED_LIBS +=  soup-gnome-2.4       8.0      # 8.0
@


1.100
log
@Update to libsoup-2.52.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2015/10/13 18:29:02 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION =		2.52.2
d8 1
a8 1
SHARED_LIBS +=  soup-2.4             8.3      # 8.0
d22 2
a23 2
WANTLIB += ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 lzma m
WANTLIB += pcre pthread sqlite3 xml2 z
d25 1
a25 2
MODULES =		devel/gettext \
			lang/python \
d28 1
a28 1
MODGNOME_TOOLS +=	gobject-introspection
@


1.99
log
@Update to libsoup-2.52.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2015/09/24 10:27:38 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION =		2.52.1
@


1.98
log
@Update to libsoup-2.52.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2015/04/03 09:09:30 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION =		2.52.0
@


1.97
log
@Update to libsoup-2.50.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2014/12/07 16:13:40 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION =		2.50.0
d8 1
a8 1
SHARED_LIBS +=  soup-2.4             8.2      # 8.0
@


1.96
log
@Update to libsoup-2.48.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2014/10/05 13:07:46 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION =		2.48.1
d8 1
a8 1
SHARED_LIBS +=  soup-2.4             8.1      # 8.0
@


1.95
log
@Update to libsoup-2.48.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2014/10/04 14:41:12 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION =		2.48.0
d22 2
a23 2
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 m pcre
WANTLIB += xml2 z ffi pthread sqlite3
@


1.94
log
@Force CONFIGURE_ENV when no using the "tests" FLAVOR -- no pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2014/04/24 15:59:26 sthen Exp $
d6 1
a6 2
GNOME_VERSION =		2.46.0
REVISION =		0
d8 1
a8 1
SHARED_LIBS +=  soup-2.4             8.0      # 8.0
@


1.93
log
@tweak description for libsoup; it's now a general HTTP library as well
as handling SOAP. ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2014/04/03 12:37:41 jasper Exp $
d55 4
@


1.92
log
@drop extra = from MODGNOME_TOOLS

no package change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2014/04/02 09:36:10 jasper Exp $
d3 1
a3 1
COMMENT =		SOAP implementation in C
d7 1
@


1.91
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2014/04/01 15:31:45 jasper Exp $
d29 1
a29 1
MODGNOME_TOOLS += = gobject-introspection
@


1.90
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2014/03/27 08:07:04 ajacoutot Exp $
d29 1
a29 1
MODGNOME_TOOLS = 	gobject-introspection
@


1.89
log
@Update to libsoup-2.46.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2014/01/23 10:51:36 ajacoutot Exp $
d29 1
a29 1
MODGNOME_TOOLS = 	gi
@


1.88
log
@Add a PSEUDO_FLAVORS for tests since they require an insane amount of
build dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2013/11/12 07:37:24 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION =		2.44.2
@


1.87
log
@Update to libsoup-2.44.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2013/10/26 08:02:08 ajacoutot Exp $
d33 1
a33 2
BUILD_DEPENDS =		net/glib2-networking \
			net/curl #needed to build tests
d42 13
a54 3
# checking Apache version... 1.3.29 (Unix) (ignoring)
# But this prevents needing apache2 for certain regress tests.
CONFIGURE_ARGS+=	--with-apache-httpd="/usr/sbin/httpd"
@


1.86
log
@There is no need for a -gnome subpackage anymore; -main has exactly the
same dependency requirements. So let's simplify this and merge -gnome
into -main.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2013/10/15 14:57:00 ajacoutot Exp $
d6 1
a6 3
GNOME_VERSION =		2.44.1

REVISION =		0
d41 1
@


1.85
log
@Update to libsoup-2.44.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2013/09/28 08:50:42 ajacoutot Exp $
d3 1
a3 2
COMMENT-main =		SOAP implementation in C
COMMENT-gnome =		GNOME specific libsoup parts
d8 1
a8 2
PKGNAME-main =		${DISTNAME}
PKGNAME-gnome =		${GNOME_PROJECT}-gnome-${GNOME_VERSION}
d14 1
d27 3
a29 1
MULTI_PACKAGES =	-main -gnome
d31 3
a33 1
MODGNOME_TOOLS= 	gi
a41 14
WANTLIB-gnome =		${WANTLIB-main} soup-2.4

RUN_DEPENDS-gnome=	${MODGETTEXT_RUN_DEPENDS}
LIB_DEPENDS-gnome =	${LIB_DEPENDS-main} \
			${BUILD_PKGPATH},-main=${GNOME_VERSION}

MODULES =		devel/gettext \
			lang/python \
			x11/gnome


MODPY_ADJ_FILES =	libsoup/tld-parser.py
MODPY_RUNDEP =		No

a46 2

SUBST_VARS =		API_VERSION
@


1.84
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2013/09/26 08:17:59 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.44.0
a10 3

REVISION-main=		0
REVISION-gnome=		0
@


1.83
log
@Update to libsoup-2.44.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2013/04/25 05:45:56 ajacoutot Exp $
d12 3
a20 2

HOMEPAGE =		http://live.gnome.org/LibSoup
@


1.82
log
@Update to libsoup-2.42.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2013/04/16 13:28:24 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.42.2
d12 2
a13 2
SHARED_LIBS +=  soup-2.4             7.0      # 7.0
SHARED_LIBS +=  soup-gnome-2.4       7.0      # 7.0
d17 1
a17 1
CATEGORIES =		devel
d35 1
a35 1
			net/curl # needed to build tests
@


1.81
log
@Update to libsoup-2.42.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2013/04/16 13:17:00 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.42.1
@


1.80
log
@goi -> gi (gnome MODULE change).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2013/03/29 10:08:49 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.42.0
@


1.79
log
@Update to libsoup-2.42.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2013/03/11 10:50:10 espie Exp $
d32 1
a32 1
MODGNOME_TOOLS= 	goi
@


1.78
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2013/01/15 07:11:52 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.40.3
d12 2
a13 2
SHARED_LIBS +=  soup-2.4             6.1      # 6.0
SHARED_LIBS +=  soup-gnome-2.4       6.1      # 6.0
d27 2
a28 2
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += m pcre xml2 z ffi pthread
d34 1
a34 1
BUILD_DEPENDS =		net/glib2-networking>=2.34.0 \
d36 1
a36 1
RUN_DEPENDS =		net/glib2-networking>=2.34.0
d41 1
a41 2
WANTLIB-gnome =		${WANTLIB-main} dbus-1 sqlite3 \
			soup-2.4 gnome-keyring gcrypt gpg-error
d45 1
a45 2
			${BUILD_PKGPATH},-main=${GNOME_VERSION} \
			x11/gnome/libgnome-keyring>=3.6.0
d56 1
a56 2
CONFIGURE_ARGS +=	--disable-more-warnings \
			--disable-tls-check
@


1.77
log
@Bugfix update to libsoup-2.40.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2012/11/13 07:26:47 ajacoutot Exp $
a25 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
@


1.76
log
@Bugfix update to libsoup-2.40.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2012/10/16 12:01:39 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.40.2
@


1.75
log
@Update to libsoup-2.40.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2012/09/27 09:58:38 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.40.1
@


1.74
log
@Update to libsoup-2.40.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2012/09/01 14:36:57 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.40.0
@


1.73
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2012/04/23 17:15:18 espie Exp $
d7 1
a7 1
GNOME_VERSION =		2.38.1
d12 2
a13 5
REVISION-main = 	0
REVISION-gnome =	1

SHARED_LIBS +=  soup-2.4             6.0      # 6.0
SHARED_LIBS +=  soup-gnome-2.4       6.0      # 6.0
d31 1
a31 1
WANTLIB += m pcre xml2 z ffi
d37 1
a37 1
BUILD_DEPENDS =		net/glib2-networking>=2.31.22 \
d39 1
a39 1
RUN_DEPENDS =		net/glib2-networking>=2.31.22
d41 1
a41 1
LIB_DEPENDS =		devel/glib2>=2.22.2 \
d49 2
a50 2
			${BUILD_PKGPATH},-main \
			x11/gnome/libgnome-keyring>=3.4.0
d53 1
d56 3
@


1.72
log
@first pass at handling sqlite3 move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2012/04/16 22:52:11 ajacoutot Exp $
d11 3
a13 1
REVISION-gnome =	0
@


1.71
log
@Bugfix update to libsoup-2.38.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2012/03/29 06:31:59 ajacoutot Exp $
d11 1
d51 1
a51 2
			x11/gnome/libgnome-keyring>=3.4.0 \
			databases/sqlite3
@


1.70
log
@Update to libsoup-2.38.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2012/02/16 22:16:02 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.38.0
@


1.69
log
@From upstream: SoupHTTPInputStream: don't burn through GCancellable fds
(i.e. stop eating all those FDs)

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/10/18 05:46:57 ajacoutot Exp $
d7 1
a7 3
GNOME_VERSION =		2.36.1

REVISION-main =		0
d12 2
a13 2
SHARED_LIBS +=  soup-2.4             3.1      # .5.0
SHARED_LIBS +=  soup-gnome-2.4       1.2      # .5.0
d37 3
a39 1
RUN_DEPENDS =		net/glib2-networking>=2.30.0
d45 1
a45 1
			soup-2.4 gnome-keyring>=6 gcrypt gpg-error
d50 1
a50 1
			x11/gnome/libgnome-keyring \
a64 2

NO_REGRESS =		Yes
@


1.68
log
@Update to libsoup-2.36.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/09/28 09:51:35 jasper Exp $
d8 2
@


1.67
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/09/27 07:58:54 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.36.0
@


1.66
log
@Update to libsoup-2.36.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/09/20 21:04:24 jasper Exp $
a60 2
CONFIGURE_ENV =		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.65
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/09/20 20:51:51 jasper Exp $
d7 1
a7 1
GNOME_VERSION =		2.34.3
a10 2
REVISION-main =		0
REVISION-gnome =	0
d12 2
a13 2
SHARED_LIBS +=  soup-2.4             3.0      # .4.0
SHARED_LIBS +=  soup-gnome-2.4       1.1      # .4.0
a29 2
EXTRACT_SUFX=		.tar.bz2

d31 1
a31 1
WANTLIB += m pcre xml2 z
d37 1
a37 1
RUN_DEPENDS =		net/glib2-networking
@


1.64
log
@switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/09/16 09:24:52 espie Exp $
d60 1
a60 2
CONFIGURE_ARGS +=	${CONFIGURE_SHARED} \
			--disable-more-warnings \
@


1.63
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/09/12 12:07:25 jasper Exp $
d39 1
a39 1
BUILD_DEPENDS =		devel/gobject-introspection
a60 1
			--disable-gtk-doc \
d62 1
a62 2
			--disable-tls-check \
			--enable-introspection
@


1.62
log
@switch the rest of the ports using gnome.port.mk over to .tar.xz where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2011/07/28 18:07:27 jasper Exp $
d11 2
@


1.61
log
@- update libsoup to 2.34.3, includes a security fix for CVE-2011-2054,
Directory traversal bug in soup-uri.c using url-encoded periods
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2011/06/29 19:21:46 jasper Exp $
d29 2
@


1.60
log
@apply two fixes from upstream to:
- fix a use after free
- fix integer overflow on 32bit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/05/23 21:34:35 ajacoutot Exp $
d7 1
a7 3
GNOME_VERSION =		2.34.2

REVISION-main =		0
@


1.59
log
@Bugfix update to libsoup-2.34.2.
* Two SoupCache-related leak fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/05/15 13:10:33 ajacoutot Exp $
d8 2
@


1.58
log
@No need to run_depends on net/libproxy for -gnome, this is implied by
the net/glib2-networking dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2011/05/15 09:22:45 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.34.1
a10 2

REVISION-gnome =	1
@


1.57
log
@Fix DEPENDS, libproxy,-gnome is going away soon.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/04/26 05:50:36 ajacoutot Exp $
d12 1
a12 1
REVISION-gnome =	0
d47 1
a47 2
RUN_DEPENDS-gnome=	${MODGETTEXT_RUN_DEPENDS} \
			net/libproxy
@


1.56
log
@Bugfix update to libsoup-2.34.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/04/07 08:09:45 ajacoutot Exp $
d12 2
d48 1
a48 1
			net/libproxy,-gnome
@


1.55
log
@Add introspection support (needed for on-going GNOME 3 work).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/04/05 14:44:11 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.34.0
a10 3

REVISION-main =		0
REVISION-gnome =	0
@


1.54
log
@Update to libsoup-2.34.0.
Hobbits take maintainership.

tested in a bulk by landry, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/03/22 09:27:06 ajacoutot Exp $
d12 3
d38 2
a61 1
			--disable-introspection \
d63 2
a64 1
			--disable-tls-check
@


1.53
log
@Make the -gnome subpackage run depends on libproxy,-gnome.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/02/01 13:47:04 giovanni Exp $
d7 1
a7 1
GNOME_VERSION =		2.32.2
a10 1
REVISION-gnome =	1
d12 1
a12 1
SHARED_LIBS +=  soup-2.4             2.2      # .4.0
d14 1
d16 1
d18 1
d21 2
a22 1
MULTI_PACKAGES =	-main -gnome
d30 6
a35 3
WANTLIB =		gcrypt gpg-error m pcre tasn1 z \
			gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 \
			gthread-2.0 gnutls>=12 xml2>=7
a37 1
			security/gnutls \
d40 2
a41 2
WANTLIB-gnome =		${WANTLIB-main} ORBit-2 dbus-1 sqlite3 \
			soup-2.4 gnome-keyring>=6 gconf-2 proxy
a47 2
			devel/gconf2 \
			net/libproxy \
d58 2
a59 2
			--enable-ssl \
			--disable-more-warnings
@


1.52
log
@
Fix gnome subpackage lib dependencies
ok ajacoutot@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/11/30 07:17:10 ajacoutot Exp $
d11 1
a11 1
REVISION-gnome =	0
d38 2
@


1.52.2.1
log
@security fix for CVE-2011-2054, Directory traversal bug in soup-uri.c using url-encoded periods
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/02/01 13:47:04 giovanni Exp $
d11 1
a11 2
REVISION-main = 	0
REVISION-gnome =	1
@


1.51
log
@Bugfix update to libsoup-2.32.2.
* fixes a few regressions introduced in version 2.32.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/11/26 07:19:00 espie Exp $
d11 1
d42 2
a43 1
			net/libproxy
@


1.50
log
@newer depends with >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/11/15 19:46:00 espie Exp $
d7 1
a7 1
GNOME_VERSION =		2.32.0
@


1.49
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/11/08 09:57:40 espie Exp $
d30 1
a30 1
LIB_DEPENDS =		glib2->=2.22.2:devel/glib2 \
@


1.48
log
@kill a few libspecs in LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/10/19 15:21:03 ajacoutot Exp $
d28 1
a28 1
			gthread-2.0 gnutls.>=12 xml2.>=7
d30 3
a32 3
LIB_DEPENDS =		:glib2->=2.22.2:devel/glib2 \
			::security/gnutls \
			::textproc/libxml
d35 1
a35 1
			soup-2.4 gnome-keyring.>=6 gconf-2 proxy
d38 4
a41 4
			::${BUILD_PKGPATH},-main \
			:libgnome-keyring-*:x11/gnome/libgnome-keyring \
			::devel/gconf2 \
			::net/libproxy
@


1.47
log
@Remove USE_X11=No, it's no needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/10/18 13:28:51 jasper Exp $
d26 7
a32 1
WANTLIB =		gcrypt gpg-error m pcre tasn1 z
d34 2
a35 5
LIB_DEPENDS =		gio-2.0,glib-2.0,gmodule-2.0,gobject-2.0,gthread-2.0:glib2->=2.22.2:devel/glib2 \
			gnutls.>=12::security/gnutls \
			xml2.>=7::textproc/libxml

WANTLIB-gnome =		${WANTLIB-main} ORBit-2 dbus-1 sqlite3
d38 4
a41 4
			soup-2.4::${BUILD_PKGPATH},-main \
			gnome-keyring.>=6:libgnome-keyring-*:x11/gnome/libgnome-keyring \
			gconf-2::devel/gconf2 \
			proxy::net/libproxy
@


1.46
log
@- USE_X11 is default now from gnome.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/09/30 07:45:36 ajacoutot Exp $
a42 1
USE_X11 =		No
@


1.45
log
@Update to libsoup-2.32.0.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/09/01 11:02:26 ajacoutot Exp $
d42 2
@


1.44
log
@Merge from upstream 01a43ad9824fba77384534c6d588e0e0d653986e

"Due to bug 581342 we want to only negotiate SSL 3.0. Previously we
were telling gnutls to not do TLS1.0 or TLS1.1, but that means with
newer versions of gnutls that support TLS1.2 it would try to negotiate
that instead and generally fail. Fix that by disabling TLS1.2 too
(which works fine even with gnutls versions that don't support TLS1.2
yet)."

https://bugzilla.gnome.org/show_bug.cgi?id=622857
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/06/22 18:16:59 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.30.2
a11 2
REVISION-main =		0

d32 1
a32 1
WANTLIB-gnome =		${WANTLIB-main} ORBit-2 dbus-1 dbus-glib-1 sqlite3 eggdbus-1
d45 2
d48 1
a48 2
			--disable-more-warnings \
			--disable-gtk-doc
@


1.43
log
@Bugfix update to libsoup-2.30.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/04/26 21:28:22 ajacoutot Exp $
d11 2
@


1.42
log
@Bugfix update to libsoup-2.30.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/04/20 22:24:02 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.30.1
@


1.41
log
@Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/04/20 20:11:53 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.30.0
d10 1
a10 1
PKGNAME-gnome =		${GNOME_PROJECT}-gnome-${GNOME_VERSION}p1
@


1.40
log
@Cope with recent gnome-keyring changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/04/20 11:07:07 jasper Exp $
d10 1
a10 1
PKGNAME-gnome =		${GNOME_PROJECT}-gnome-${GNOME_VERSION}p0
d32 1
a32 1
WANTLIB-gnome =		${WANTLIB-main} ORBit-2 dbus-1 dbus-glib-1 sqlite3
@


1.39
log
@- update libsoup to 2.30.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/12/16 16:25:49 ajacoutot Exp $
d10 1
a10 1
PKGNAME-gnome =		${GNOME_PROJECT}-gnome-${GNOME_VERSION}
d36 1
a36 1
			gnome-keyring::x11/gnome/keyring \
@


1.38
log
@Bugfix update to libsoup-2.28.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/10/20 14:37:19 ajacoutot Exp $
d3 2
a4 2
COMMENT-main =	SOAP implementation in C
COMMENT-gnome =	GNOME specific libsoup parts
d7 1
a7 1
GNOME_VERSION =		2.28.2
d12 2
a13 2
SHARED_LIBS +=		soup-2.4	2.1 \
			soup-gnome-2.4	1.1	# .4.0
d48 3
@


1.37
log
@Force dependency on newer glib2 version which it needs for building.
spotted by Jonathan Armani, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2009/10/20 08:11:39 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.28.1
d9 2
a10 2
PKGNAME-main =		${DISTNAME}p0
PKGNAME-gnome =		${GNOME_PROJECT}-gnome-${GNOME_VERSION}p0
d12 1
a12 1
SHARED_LIBS +=		soup-2.4	2.0 \
d25 1
@


1.36
log
@Small update to libsoup-2.28.1.
Main change is that now libsoup will make multiple connections to a server.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/10/05 14:12:21 landry Exp $
d9 2
a10 2
PKGNAME-main =		${DISTNAME}
PKGNAME-gnome =		${GNOME_PROJECT}-gnome-${GNOME_VERSION}
d27 1
a27 1
LIB_DEPENDS =		gio-2.0,glib-2.0,gmodule-2.0,gobject-2.0,gthread-2.0::devel/glib2 \
@


1.35
log
@Update to libsoup 2.28.0, needed for newer webkit/gnome/etc.. commit it
early so eventual runtime fallout will be dealt at p2k9.
Major bump on soup-2.4 lib, minor bump on soup-gnome-2.4 lib.
Tested in a bulk build by jasper@@ and sthen@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/07/12 20:02:02 ajacoutot Exp $
d7 2
a8 1
GNOME_VERSION =		2.28.0
d11 1
@


1.34
log
@- minor update to libsoup-2.26.3

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/05/18 16:52:15 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.26.3
d10 2
a11 2
SHARED_LIBS +=		soup-2.4	1.1 \
			soup-gnome-2.4	1.0	# .3.0
d33 1
@


1.33
log
@- maintainance release to libsoup-2.26.2
fixes several bugs and crashes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/04/14 08:01:20 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION =		2.26.2
@


1.32
log
@- bugfix release to libsoup-2.26.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/04/10 09:38:01 landry Exp $
d7 1
a7 1
GNOME_VERSION =		2.26.1
@


1.31
log
@Maintenance update to libsoup 2.26.0.9, bump libsoup-gnome major and
libsoup minor.
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/04/05 10:34:03 kili Exp $
d7 1
a7 1
GNOME_VERSION =		2.26.0.9
@


1.30
log
@
Fix PKGNAME and add @@pkgpath to make updates possible.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/04/04 10:25:48 landry Exp $
d7 2
a8 2
GNOME_VERSION =		2.26.0
PKGNAME-main =		${DISTNAME}p0
d10 2
a11 2
SHARED_LIBS +=		soup-2.4	1.0 \
			soup-gnome-2.4	0.0	# .3.0
@


1.29
log
@Update to libsoup 2.26.0, needed by the upcoming webkit update.
Split it into -main and -gnome, the latter providing gnome-specific
libsoup library. While here, prettify Makefile and set HOMEPAGE.

Tested in a bulk build by and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/01/29 20:08:42 sturm Exp $
d8 1
a8 1
PKGNAME =		${DISTNAME}
@


1.28
log
@fold libsoup's ssl FLAVOR into the regular package
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/01/12 23:00:59 jasper Exp $
d3 2
a4 1
COMMENT=                SOAP implementation in C
d6 11
a16 6
GNOME_PROJECT=          libsoup
GNOME_VERSION=          2.24.3
PKGNAME=		${DISTNAME}p0
SHARED_LIBS +=  soup-2.4             1.0     # .3.0
API_VERSION=            2.4
CATEGORIES=             devel
d23 1
a23 1
WANTLIB=                gcrypt gpg-error m pcre tasn1 z
d25 1
a25 1
LIB_DEPENDS=            gio-2.0,glib-2.0,gmodule-2.0,gobject-2.0,gthread-2.0::devel/glib2 \
d27 8
a34 1
                        xml2.>=7::textproc/libxml
d36 2
a37 2
MODULES=                devel/gettext \
                        x11/gnome
d39 2
a40 2
CONFIGURE_STYLE=        gnu
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
d42 1
d44 2
a45 2
CONFIGURE_ENV=          CPPFLAGS="-I${LOCALBASE}/include" \
                        LDFLAGS="-L${LOCALBASE}/lib"
d47 1
a47 1
SUBST_VARS=             API_VERSION
d49 1
a49 1
NO_REGRESS=		Yes
@


1.27
log
@- update libsoup to 2.24.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2008/11/25 15:06:02 ajacoutot Exp $
d7 1
d17 1
a17 1
WANTLIB=                m pcre z
d20 1
d27 3
a29 2
CONFIGURE_ARGS+=        ${CONFIGURE_SHARED} \
                        --disable-gtk-doc
a35 11

FLAVORS=                ssl
FLAVOR?=

.if ${FLAVOR:L:Mssl}
CONFIGURE_ARGS+=        --enable-ssl
LIB_DEPENDS+=           gnutls.>=12::security/gnutls
WANTLIB+=               gcrypt gpg-error tasn1
.else
CONFIGURE_ARGS+=        --disable-ssl
.endif
@


1.26
log
@- update to libsoup-2.24.2.1
fix a crash in libsoup/soup-uri.c
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/11/24 23:02:21 jasper Exp $
d6 1
a6 1
GNOME_VERSION=          2.24.2.1
@


1.25
log
@- update libsoup to 2.24.2
* fixes a couple of bugs and memleaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/11/12 22:42:26 jasper Exp $
d6 1
a6 1
GNOME_VERSION=          2.24.2
@


1.24
log
@- update libsoup to 2.24.1

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/06/02 16:42:47 jasper Exp $
d6 1
a6 1
GNOME_VERSION=          2.24.1
@


1.23
log
@- update libsoup to 2.4.1 (again)
- fix license marker

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/05/11 12:26:13 jasper Exp $
d6 2
a7 2
GNOME_VERSION=          2.4.1
SHARED_LIBS +=  soup-2.4             0.0     # .2.0
d40 1
a40 1
WANTLIB+=               gcrypt gpg-error
@


1.22
log
@- revert previous update for now, caused some fallout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/10/31 19:10:45 jasper Exp $
d6 3
a8 3
GNOME_VERSION=          2.2.103
SHARED_LIBS +=  soup-2.2             13.1     # .13.0
API_VERSION=            2.2
d11 1
a11 1
# LGPL
d18 1
a18 1
LIB_DEPENDS=            glib-2.0,gobject-2.0,gthread-2.0::devel/glib2 \
d31 2
@


1.21
log
@- add an XXX to warn people no to break packaging in the future
- add missing lib_depends
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/04/29 17:30:33 jasper Exp $
d3 1
a3 1
COMMENT=		SOAP implementation in C
d5 5
a9 6
GNOME_PROJECT=		libsoup
GNOME_VERSION=		2.4.1
PKGNAME=		${DISTNAME}p0
SHARED_LIBS +=	soup-2.4             0.0      # .1.0
API_VERSION=		2.4
CATEGORIES=		devel
d12 17
a28 23
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

WANTLIB=		m pcre z

LIB_DEPENDS=		gio-2.0,glib-2.0,gobject-2.0,gthread-2.0,gmodule-2.0::devel/glib2 \
			xml2.>=7::textproc/libxml

MODULES=		devel/gettext \
			x11/gnome

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--disable-gtk-doc
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

# XXX because of the subsitution, "make plist" will break packaging;
# make sure you use libsoup-${API_VERSION}.so.${LIBsoup-XX_VERSION} in
# PFRAG.shared, where XX is the expanded value of ${API_VERSION}
SUBST_VARS=		API_VERSION
d30 3
a32 1
FLAVORS=		ssl
d36 3
a38 3
CONFIGURE_ARGS+=	--enable-ssl
LIB_DEPENDS+=		gnutls.>=12::security/gnutls
WANTLIB+=		gcrypt gpg-error
d40 1
a40 1
CONFIGURE_ARGS+=	--disable-ssl
@


1.20
log
@- update libsoup to 2.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/10/31 19:10:45 jasper Exp $
d7 1
d17 1
d20 1
a20 1
LIB_DEPENDS=		gio-2.0,glib-2.0,gobject-2.0,gthread-2.0::devel/glib2 \
d32 3
@


1.19
log
@- update libsoup to 2.2.103
- convert to use gnome.port.mk

"commit it!" martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/09/16 02:53:01 merdely Exp $
d6 3
a8 3
GNOME_VERSION=		2.2.103
SHARED_LIBS +=	soup-2.2             13.1     # .13.0
API_VERSION=		2.2
d18 1
a18 1
LIB_DEPENDS=		glib-2.0,gobject-2.0,gthread-2.0::devel/glib2 \
@


1.18
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/05/19 09:13:54 jasper Exp $
d5 4
a8 3
DISTNAME=		libsoup-2.2.100
PKGNAME=		${DISTNAME}p0
SHARED_LIBS=		soup-2.2	13.0
a10 2
HOMEPAGE=		http://www.gnome.org/

d16 1
a16 4
WANTLIB=		m z

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libsoup/2.2/}
EXTRACT_SUFX=		.tar.bz2
d21 2
a22 1
MODULES=		devel/gettext
a23 2
USE_GMAKE=		Yes
USE_LIBTOOL=		Yes
d25 2
a26 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--disable-gtk-doc
a29 1
API_VERSION=		2.2
@


1.17
log
@remove marcm@@ as maintainer

ok marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/03/01 16:46:48 jasper Exp $
d3 1
a3 1
COMMENT=		"SOAP implementation in C"
@


1.16
log
@update libsoup to 2.2.100

ok pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/01/18 22:15:55 jasper Exp $
d6 1
a10 2

MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
@


1.15
log
@update libsoup to 2.2.99

based on work by Alexander Wirt <alexander.wirt@@credativ.de>

ok (or actually: "yeah, hit me baby!")  ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/08/01 22:55:53 espie Exp $
d3 1
a3 1
COMMENT=		"a SOAP implementation in C"
d5 1
a5 1
DISTNAME=		libsoup-2.2.99
@


1.14
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/09/18 11:50:39 espie Exp $
d5 2
a6 3
DISTNAME=		libsoup-2.2.5
PACKAGENAME=		${DISTNAME}p0
SHARED_LIBS=		soup-2.2 8.0
d18 1
a18 1
WANTLIB=		iconv intl m z
d25 2
@


1.13
log
@zap unneeded 0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/08/01 22:55:53 espie Exp $
a25 2

BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig
@


1.12
log
@new libspecs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/01/08 17:58:49 bernd Exp $
d24 1
a24 1
LIB_DEPENDS=		glib-2.0.0.0,gobject-2.0.0.0,gthread-2.0.0.0::devel/glib2 \
@


1.11
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/12/19 18:41:51 marcm Exp $
d25 1
a25 1
			xml2.7::textproc/libxml
d45 1
a45 1
LIB_DEPENDS+=		gnutls.12::security/gnutls
@


1.10
log
@Fix WANTLIB for ssl flavor, bump version.

From Wim Lewis <wiml at hhhh d0t org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/11/13 06:44:55 marcm Exp $
d7 1
@


1.9
log
@Update to 2.2.5.  Add USE_LIBTOOL too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/05/24 22:08:03 marcm Exp $
d6 1
d45 1
@


1.8
log
@Update one minor version for upcomming Evolution.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/03/10 07:39:21 marcm Exp $
d5 1
a5 1
DISTNAME=		libsoup-2.2.3
d28 1
@


1.7
log
@Update 2.2.1 -> 2.2.2.  Minor bugfix.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/11/23 21:34:27 espie Exp $
d5 1
a5 1
DISTNAME=		libsoup-2.2.2
@


1.6
log
@some more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/10/26 03:50:52 marcm Exp $
d5 1
a5 1
DISTNAME=		libsoup-2.2.1
@


1.5
log
@Update 2.2.0 -> 2.2.1

Needed for latest Evolution.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/09/15 04:20:24 marcm Exp $
d17 1
@


1.4
log
@Update this to 2.2.0 and add an ssl flavor.  Too bad this missed release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/08/09 06:15:27 marcm Exp $
d5 1
a5 1
DISTNAME=		libsoup-2.2.0
@


1.3
log
@Fix PLIST and update to 2.1.12 while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/06/25 16:16:51 marcm Exp $
d3 1
a3 1
COMMENT=		"a SOAP (Simple Object Access Protocol) implementation in C"
d5 1
a5 1
DISTNAME=		libsoup-2.1.12
d18 1
a18 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libsoup/2.1/}
a29 2
# Uses GnuTLS now...
CONFIGURE_ARGS+=	--disable-ssl
d35 10
@


1.2
log
@Update to 2.1.11, now part of the 2.1/2.2 series.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/11/03 15:44:05 marcm Exp $
d5 1
a5 1
DISTNAME=		libsoup-2.1.11
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/04/10 15:53:54 marcm Exp $
d5 1
a5 1
DISTNAME=		libsoup-1.99.26
d18 1
a18 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libsoup/1.99/}
d21 2
a22 1
MODULE=			gettext
d24 1
a24 1
LIB_DEPENDS=		glib-2.0.0.0::devel/glib2
d27 1
a27 2
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.57
d30 2
d34 3
@


1.1.1.1
log
@This is a reimplementation of devel/soup (itself a Simple Object Access
Protocol implementation) now called libsoup and utilizing glib-2.
@
text
@@
