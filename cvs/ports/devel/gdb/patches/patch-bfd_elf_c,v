head	1.9;
access;
symbols
	OPENBSD_6_1:1.9.0.2
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.8.0.2
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2016.10.09.11.39.20;	author pascal;	state Exp;
branches;
next	1.8;
commitid	dpuc8ehj7jbPomZ8;

1.8
date	2016.03.04.19.25.27;	author pascal;	state Exp;
branches;
next	1.7;
commitid	TE643WrPQpxGIhaa;

1.7
date	2015.09.09.19.47.17;	author pascal;	state Exp;
branches;
next	1.6;
commitid	QOcSOWMdJ55ocUc1;

1.6
date	2015.03.15.02.58.07;	author pascal;	state Exp;
branches;
next	1.5;
commitid	JEF8iy2onUjBiZwf;

1.5
date	2014.08.14.07.50.24;	author pascal;	state Exp;
branches;
next	1.4;
commitid	KQaNS6voAHVXm9lG;

1.4
date	2014.03.09.19.49.21;	author pascal;	state Exp;
branches;
next	1.3;

1.3
date	2013.05.04.21.27.11;	author pascal;	state Exp;
branches;
next	1.2;

1.2
date	2012.08.25.19.15.44;	author pascal;	state Exp;
branches;
next	1.1;

1.1
date	2012.03.03.19.22.42;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Update to GDB 7.12.
@
text
@$OpenBSD: patch-bfd_elf_c,v 1.8 2016/03/04 19:25:27 pascal Exp $
--- bfd/elf.c.orig	Fri Oct  7 19:09:21 2016
+++ bfd/elf.c	Fri Oct  7 20:53:14 2016
@@@@ -9866,6 +9866,11 @@@@ elfcore_grok_openbsd_procinfo (bfd *abfd, Elf_Internal
 static bfd_boolean
 elfcore_grok_openbsd_note (bfd *abfd, Elf_Internal_Note *note)
 {
+  int lwp;
+
+  if (elfcore_netbsd_get_lwpid (note, &lwp))
+    elf_tdata (abfd)->core->lwpid = lwp;
+
   if (note->type == NT_OPENBSD_PROCINFO)
     return elfcore_grok_openbsd_procinfo (abfd, note);
 
@


1.8
log
@Update to GDB 7.11.
@
text
@d1 4
a4 4
$OpenBSD: patch-bfd_elf_c,v 1.7 2015/09/09 19:47:17 pascal Exp $
--- bfd/elf.c.orig	Wed Feb 10 04:19:39 2016
+++ bfd/elf.c	Wed Feb 24 15:24:15 2016
@@@@ -9486,6 +9486,11 @@@@ elfcore_grok_openbsd_procinfo (bfd *abfd, Elf_Internal
@


1.7
log
@Update to GDB 7.10.
@
text
@d1 4
a4 4
$OpenBSD: patch-bfd_elf_c,v 1.6 2015/03/15 02:58:07 pascal Exp $
--- bfd/elf.c.orig	Fri Aug 28 23:22:06 2015
+++ bfd/elf.c	Tue Sep  1 10:51:15 2015
@@@@ -9309,6 +9309,11 @@@@ elfcore_grok_openbsd_procinfo (bfd *abfd, Elf_Internal
@


1.6
log
@Update to gdb 7.9.
@
text
@d1 4
a4 4
$OpenBSD: patch-bfd_elf_c,v 1.5 2014/08/14 07:50:24 pascal Exp $
--- bfd/elf.c.orig	Fri Feb 20 18:11:44 2015
+++ bfd/elf.c	Fri Feb 20 22:12:26 2015
@@@@ -8957,6 +8957,11 @@@@ elfcore_grok_openbsd_procinfo (bfd *abfd, Elf_Internal
@


1.5
log
@Update to GDB 7.8.
@
text
@d1 4
a4 4
$OpenBSD: patch-bfd_elf_c,v 1.4 2014/03/09 19:49:21 pascal Exp $
--- bfd/elf.c.orig	Tue Jul 29 14:37:42 2014
+++ bfd/elf.c	Tue Jul 29 20:27:50 2014
@@@@ -8932,6 +8932,11 @@@@ elfcore_grok_openbsd_procinfo (bfd *abfd, Elf_Internal
@


1.4
log
@Update to gdb 7.7.
@
text
@d1 4
a4 4
$OpenBSD: patch-bfd_elf_c,v 1.3 2013/05/04 21:27:11 pascal Exp $
--- bfd/elf.c.orig	Thu Feb  6 03:21:29 2014
+++ bfd/elf.c	Fri Feb  7 18:43:41 2014
@@@@ -8917,6 +8917,11 @@@@ elfcore_grok_openbsd_procinfo (bfd *abfd, Elf_Internal
@


1.3
log
@Update to GDB 7.6.
@
text
@d1 4
a4 4
$OpenBSD: patch-bfd_elf_c,v 1.2 2012/08/25 19:15:44 pascal Exp $
--- bfd/elf.c.orig	Fri Mar  8 18:13:31 2013
+++ bfd/elf.c	Mon Apr 29 21:13:54 2013
@@@@ -8884,6 +8884,11 @@@@ elfcore_grok_openbsd_procinfo (bfd *abfd, Elf_Internal
@


1.2
log
@Update to gdb 7.5.
@
text
@d1 4
a4 4
$OpenBSD: patch-bfd_elf_c,v 1.1 2012/03/03 19:22:42 pascal Exp $
--- bfd/elf.c.orig	Wed Jul  4 02:29:51 2012
+++ bfd/elf.c	Sun Aug 19 14:37:28 2012
@@@@ -8747,6 +8747,11 @@@@ elfcore_grok_openbsd_procinfo (bfd *abfd, Elf_Internal
d11 1
a11 1
+    elf_tdata (abfd)->core_lwpid = lwp;
@


1.1
log
@Update to 7.4, take maintainer and teach gdb about threaded coredumps.

ok sthen@@
@
text
@d1 4
a4 4
$OpenBSD$
--- bfd/elf.c.orig	Tue Dec  6 15:09:09 2011
+++ bfd/elf.c	Wed Feb 29 00:06:19 2012
@@@@ -8641,6 +8641,11 @@@@ elfcore_grok_openbsd_procinfo (bfd *abfd, Elf_Internal
@

