head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.8
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.6
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.03.15.02.58.07;	author pascal;	state Exp;
branches;
next	1.1;
commitid	JEF8iy2onUjBiZwf;

1.1
date	2014.10.18.10.07.52;	author chrisz;	state Exp;
branches;
next	;
commitid	nUDnrUhbJxwm5yh7;


desc
@@


1.2
log
@Update to gdb 7.9.
@
text
@$OpenBSD: patch-libiberty_filename_cmp_c,v 1.1 2014/10/18 10:07:52 chrisz Exp $

Our libiberty does not have filename_cmp(), but since it would simply
call strcmp(), use a macro when building gdb and most of all libbfd.

Fixes linking against libbfd with our system libiberty.

--- libiberty/filename_cmp.c.orig	Thu Feb 19 12:58:08 2015
+++ libiberty/filename_cmp.c	Fri Feb 20 22:12:26 2015
@@@@ -52,6 +52,7 @@@@ and backward slashes are equal.
 
 */
 
+#if 0
 int
 filename_cmp (const char *s1, const char *s2)
 {
@@@@ -146,6 +147,7 @@@@ filename_ncmp (const char *s1, const char *s2, size_t 
   return 0;
 #endif
 }
+#endif
 
 /*
 
@


1.1
log
@remove filename_cmp and filename_ncmp, which are replaced by macros.

ok pascal@@
@
text
@d1 1
a1 1
$OpenBSD$
d8 3
a10 3
--- libiberty/filename_cmp.c.orig	Fri Oct 17 13:04:21 2014
+++ libiberty/filename_cmp.c	Fri Oct 17 13:06:28 2014
@@@@ -47,6 +47,7 @@@@ and backward slashes are equal.
d18 1
a18 1
@@@@ -141,6 +142,7 @@@@ filename_ncmp (const char *s1, const char *s2, size_t 
@

