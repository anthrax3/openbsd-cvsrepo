head	1.58;
access;
symbols
	OPENBSD_6_2:1.58.0.10
	OPENBSD_6_2_BASE:1.58
	OPENBSD_6_1:1.58.0.8
	OPENBSD_6_1_BASE:1.58
	OPENBSD_6_0:1.58.0.6
	OPENBSD_6_0_BASE:1.58
	OPENBSD_5_9:1.58.0.2
	OPENBSD_5_9_BASE:1.58
	OPENBSD_5_8:1.58.0.4
	OPENBSD_5_8_BASE:1.58
	OPENBSD_5_7:1.56.0.2
	OPENBSD_5_7_BASE:1.56
	OPENBSD_5_6:1.53.0.6
	OPENBSD_5_6_BASE:1.53
	OPENBSD_5_5:1.53.0.4
	OPENBSD_5_5_BASE:1.53
	OPENBSD_5_4:1.53.0.2
	OPENBSD_5_4_BASE:1.53
	OPENBSD_5_3:1.51.0.2
	OPENBSD_5_3_BASE:1.51
	OPENBSD_5_2:1.50.0.2
	OPENBSD_5_2_BASE:1.50
	OPENBSD_5_1_BASE:1.49
	OPENBSD_5_1:1.49.0.2
	OPENBSD_5_0:1.44.0.2
	OPENBSD_5_0_BASE:1.44
	OPENBSD_4_9:1.31.0.2
	OPENBSD_4_9_BASE:1.31
	OPENBSD_4_8:1.25.0.2
	OPENBSD_4_8_BASE:1.25
	OPENBSD_4_7:1.22.0.2
	OPENBSD_4_7_BASE:1.22
	OPENBSD_4_6:1.15.0.2
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.12.0.2
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.10.0.2
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	alek_20070509:1.1.1.1
	alek:1.1.1;
locks; strict;
comment	@# @;


1.58
date	2015.04.21.18.33.48;	author sthen;	state Exp;
branches;
next	1.57;
commitid	rFzrQpbY9B2q3eUy;

1.57
date	2015.04.03.09.11.00;	author ajacoutot;	state Exp;
branches;
next	1.56;
commitid	rOmLg8KM934VklKK;

1.56
date	2014.09.05.14.45.02;	author jasper;	state Exp;
branches;
next	1.55;
commitid	f4VbjcUvEOJXzzBc;

1.55
date	2014.09.05.14.06.33;	author ajacoutot;	state Exp;
branches;
next	1.54;
commitid	rlI82QmpEtXLqLT2;

1.54
date	2014.09.04.09.36.47;	author jasper;	state Exp;
branches;
next	1.53;
commitid	U0PGnaQYNi5rosWx;

1.53
date	2013.04.16.13.24.42;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2013.03.11.10.50.25;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2012.09.01.14.36.57;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2012.04.05.12.08.25;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2011.09.21.13.45.11;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2011.09.21.13.37.14;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2011.09.21.08.21.51;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2011.09.16.09.24.55;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2011.09.12.12.07.25;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2011.07.29.17.38.02;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2011.06.13.16.46.39;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2011.06.08.17.39.25;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2011.06.08.07.25.54;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2011.06.06.16.05.59;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2011.05.13.22.28.15;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2011.04.18.16.30.21;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2011.04.08.06.17.36;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2011.04.07.15.08.13;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2011.03.23.17.38.15;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2011.03.23.06.16.27;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2011.03.21.17.04.59;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2011.03.09.06.17.08;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2010.11.15.19.46.07;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2010.10.19.15.21.03;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.10.18.13.28.51;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2010.10.02.08.33.03;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2010.09.30.07.30.44;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2010.08.30.22.24.15;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2010.07.03.04.50.00;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.04.25.20.59.38;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2010.04.23.12.51.11;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.10.12.17.19.16;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2009.10.12.12.29.26;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.10.10.14.41.21;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2009.10.09.22.18.13;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2009.09.08.17.51.32;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2009.09.06.10.46.25;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2009.08.07.11.20.10;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2009.04.26.11.01.04;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.03.16.22.20.02;	author kili;	state Exp;
branches;
next	1.13;

1.13
date	2009.03.04.19.58.22;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2009.01.04.21.41.16;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2008.11.16.21.47.47;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2008.05.27.11.54.20;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2008.05.25.21.44.33;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2008.04.29.17.49.34;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2008.01.04.18.38.51;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2007.11.13.14.06.21;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2007.10.08.08.22.39;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2007.10.05.13.38.31;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.19.13.19.50;	author martynas;	state Exp;
branches;
next	1.2;

1.2
date	2007.09.16.02.53.11;	author merdely;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.09.21.43.48;	author alek;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.05.09.21.43.48;	author alek;	state Exp;
branches;
next	;


desc
@@


1.58
log
@add some missing pthread to WANTLIB
(using modified portbump, thanks zhuk@@)
@
text
@# $OpenBSD: Makefile,v 1.57 2015/04/03 09:11:00 ajacoutot Exp $

PORTROACH=		limit:^2\.28

COMMENT=		Python bindings for glib2 gobject (deprecated)

GNOME_PROJECT=		pygobject
GNOME_VERSION=		2.28.6
EXTRACT_SUFX=		.tar.bz2

PKGNAME=		py-gobject-${GNOME_VERSION}
EPOCH=			0
REVISION=		6

CATEGORIES=		devel

SHARED_LIBS +=  pyglib-2.0-python${MODPY_VERSION} 2.0      # .0.0

HOMEPAGE=		http://www.pygtk.org/

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 pcre
WANTLIB += pthread z

MODULES=		devel/gettext \
			lang/python \
			x11/gnome

LIB_DEPENDS=		devel/glib2

CONFIGURE_STYLE=	gnu

TEST_DEPENDS=		${FULLPKGNAME}:${BUILD_PKGPATH}
TEST_IS_INTERACTIVE=	x11

post-install:
	${MODPY_BIN} ${MODPY_LIBDIR}/compileall.py \
		${PREFIX}/share/pygobject/2.0/codegen

.include <bsd.port.mk>
@


1.57
log
@Indent.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2014/09/05 14:45:02 jasper Exp $
d13 1
a13 1
REVISION=		5
d26 2
a27 2
WANTLIB += ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += pcre z
@


1.56
log
@PORTSCOUT -> PORTROACH
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/09/05 14:06:33 ajacoutot Exp $
d3 1
a3 1
PORTROACH=	limit:^2\.28
d5 1
a5 1
COMMENT=	Python bindings for glib2 gobject (deprecated)
d7 3
a9 3
GNOME_PROJECT=	pygobject
GNOME_VERSION=	2.28.6
EXTRACT_SUFX=	.tar.bz2
d11 3
a13 2
PKGNAME=	py-gobject-${GNOME_VERSION}
REVISION=	5
d15 1
a15 3
EPOCH=		0

CATEGORIES=	devel
d19 1
a19 1
HOMEPAGE=	http://www.pygtk.org/
d21 1
a21 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
d29 3
a31 3
MODULES=	devel/gettext \
		lang/python \
		x11/gnome
d33 1
a33 1
LIB_DEPENDS=	devel/glib2
d35 1
a35 1
CONFIGURE_STYLE=gnu
d37 2
a38 2
TEST_DEPENDS=	${FULLPKGNAME}:${BUILD_PKGPATH}
TEST_IS_INTERACTIVE= x11
@


1.55
log
@Fix PORTSCOUT.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/09/04 09:36:47 jasper Exp $
d3 1
a3 1
PORTSCOUT=	limit:^2\.28
@


1.54
log
@these ports have multiple versions in the tree, (e.g. py-gobject and py-gobject3),
so add PORTSCOUT annotations to limit the versions to look for as otherwise
it would pickup a newer version (3.something) which is actually packaged by the
other port (py-gobject3).

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/04/16 13:24:42 ajacoutot Exp $
d3 1
a3 1
PORTSCOUT+=	limit:^2
@


1.53
log
@Remove obsolete CONFIGURE_ARGS and comment.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.52 2013/03/11 10:50:25 espie Exp $
@


1.52
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/09/01 14:36:57 ajacoutot Exp $
a34 5

# not really needed because we don't add "goi" to MODGNOME_TOOLS,
# however it is clearer to explicitely note that it is disabled --
# introspection support for py-gobject is now in devel/py-gobject3
CONFIGURE_ARGS=	--disable-introspection
@


1.51
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/04/05 12:08:25 ajacoutot Exp $
a23 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d41 2
a42 2
REGRESS_DEPENDS=	${FULLPKGNAME}:${BUILD_PKGPATH}
REGRESS_IS_INTERACTIVE= x11
@


1.50
log
@From upstream: gio-types.defs: change some enums to flags
These flags types were originally incorrectly handled in glib as being
enums.  That bug was fixed, but they're still enums here, leading to
warnings about the mismatch.
Change them to flags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/09/21 13:45:11 ajacoutot Exp $
d10 1
a10 1
REVISION=	4
@


1.49
log
@Tweak COMMENT.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/09/21 13:37:14 ajacoutot Exp $
d10 1
a10 1
REVISION=	3
@


1.48
log
@Disable introspection support which will be enabled in upcoming py-gobject3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/09/16 09:24:55 espie Exp $
d3 1
a3 1
COMMENT=	Python bindings for glib2 gobject
d10 1
a10 1
REVISION=	2
@


1.47
log
@Unbreak by setting MODGNOME_TOOLS to goi.
@
text
@d7 1
d28 2
a29 4
EXTRACT_SUFX=		.tar.bz2

WANTLIB += ffi gio-2.0 girepository-1.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gthread-2.0 m pcre z
d35 1
a35 1
MODGNOME_TOOLS=	goi
d37 1
a37 5
BUILD_DEPENDS=	${RUN_DEPENDS}
RUN_DEPENDS=	graphics/py-cairo
LIB_DEPENDS=	devel/glib2 \
		devel/libffi \
		devel/gobject-introspection>=0.10.7p3
d39 4
a42 2
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--enable-cairo
@


1.46
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/09/12 12:07:25 jasper Exp $
d9 1
a9 1
REVISION=	1
d36 2
d45 1
a45 3
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--enable-introspection \
		--enable-cairo
@


1.45
log
@switch the rest of the ports using gnome.port.mk over to .tar.xz where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/07/29 17:38:02 jasper Exp $
d9 1
a9 1
REVISION=	0
@


1.44
log
@- fix misplaced @@comment

ok aja@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/06/13 16:46:39 ajacoutot Exp $
d26 2
@


1.43
log
@Bugfix update to py-gobject-2.28.6.
-> fixes several bugs and crashes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/06/08 17:39:25 jasper Exp $
d9 1
@


1.42
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/06/08 07:25:54 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.28.4
a9 1
REVISION=	3
@


1.41
log
@Bring more patches from upstream to help gnome-tweak-tools go a little bit
further.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/06/06 16:05:59 jasper Exp $
d10 1
a10 1
REVISION=	2
@


1.40
log
@fix a much dreaded and cursed upon issue where importing the GLib
introspection module would result in "TypeError: unable to create a wrapper
for GLib.Variant" by adding a patch from upstream.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/05/13 22:28:15 ajacoutot Exp $
d10 1
a10 1
REVISION=	1
@


1.39
log
@Don't install static lib and libtool file for modules.
Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/04/18 16:30:21 ajacoutot Exp $
d10 1
a10 1
REVISION=	0
@


1.38
log
@Bugfix update to py-gobject-2.28.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/04/08 06:17:36 jasper Exp $
d10 1
d27 2
a28 4
WANTLIB += GL X11 Xau Xdamage Xdmcp Xext Xfixes Xrender Xxf86vm
WANTLIB += cairo drm expat ffi fontconfig freetype gio-2.0 girepository-1.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 m pcre
WANTLIB += pixman-1 png pthread-stubs xcb xcb-render xcb-shm z
@


1.37
log
@py-cairo is needed now that GI is enabled, so set it as a build and run
dependency.

spotted by and ok landry@@, ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/04/07 15:08:13 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.28.3
a9 1
REVISION=	1
@


1.36
log
@Add introspection+cairo support (needed for on-going GNOME 3 work).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/03/23 17:38:15 ajacoutot Exp $
d10 1
a10 1
REVISION=	0
d36 2
d40 1
a40 2
		devel/gobject-introspection>=0.10.7p3 \
		graphics/cairo
@


1.35
log
@Update to py-gobject-2.28.3.
* fix a typo when converting objects to strings gvalues
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/03/23 06:16:27 ajacoutot Exp $
d9 2
d27 4
a30 2
WANTLIB += ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += pcre z
d37 3
a39 1
		devel/libffi
d43 2
a44 2
		--disable-introspection \
		--disable-cairo
@


1.34
log
@Bugfix update to py-gobject-2.28.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/03/21 17:04:59 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.28.2
@


1.33
log
@Bugfix update to py-gobject-2.28.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/03/09 06:17:08 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.28.1
@


1.32
log
@Update to py-gobject-2.28.0.

Remove x11 from CATEGORIES.
Explicitely add some missing CONFIGURE_ARGS.
Fix REGRESS_DEPENDS.
Remove unused SUBST_VARS.
Take maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/11/15 19:46:07 espie Exp $
d6 1
a6 1
GNOME_VERSION=	2.28.0
d26 1
a26 1
WANTLIB += m pcre python${MODPY_VERSION} util z
@


1.31
log
@move depends to new style
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.30 2010/10/19 15:21:03 ajacoutot Exp $

SHARED_ONLY=	Yes
d6 1
a6 1
GNOME_VERSION=	2.26.0
a9 1
REVISION=	0
d11 1
a11 1
SHARED_LIBS +=  pyglib-2.0-python${MODPY_VERSION} 1.0      # .0.0
d13 1
a13 2
PYGLIB_VER=	${LIBpyglib-2.0-python${MODPY_VERSION}_VERSION}
SUBST_VARS+=	PYGLIB_VER
d15 1
a15 1
CATEGORIES=	devel x11
d17 1
a17 1
HOMEPAGE=	http://www.pygtk.org/
d25 2
a26 1
WANTLIB=	pcre z ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
a34 1

d36 3
a38 3
CONFIGURE_ARGS+=--disable-introspection

REGRESS_DEPENDS=	${PKGNAME}:${BUILD_PKGPATH}
d40 1
@


1.30
log
@Remove USE_X11=No, it's no needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/10/18 13:28:51 jasper Exp $
d35 2
a36 2
LIB_DEPENDS=	::devel/glib2 \
		::devel/libffi
d42 1
a42 1
REGRESS_DEPENDS=	:${PKGNAME}:${BUILD_PKGPATH}
@


1.29
log
@- USE_X11 is default now from gnome.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/10/02 08:33:03 jasper Exp $
a37 1
USE_X11=	No
@


1.28
log
@- Don't return -1, but NULL. Just like pygi_get_property_value() does when
introspection support is enabled.

this unbreaks py-gobject, as noticed with rednotebook and several other applications.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/09/30 07:30:44 jasper Exp $
d37 2
@


1.27
log
@- update py-gobject to 2.26.0
- remove unneeded XXX
- explicitly disable introspection support for now
- add a patch from upstream to use compat functions for string handling

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/08/30 22:24:15 jasper Exp $
d12 1
@


1.26
log
@bumpski for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/07/03 04:50:00 ajacoutot Exp $
a6 1
# XXX on update, add GObj. Introspection support to graphics/evince
d8 1
a8 1
GNOME_VERSION=	2.20.0
a10 1
REVISION=	2
d13 1
a13 1
SHARED_LIBS +=  pyglib-2.0-python${MODPY_VERSION} 0.1      # .0.0
d28 1
a28 1
WANTLIB=	pcre z
d34 2
a35 2
LIB_DEPENDS=	ffi::devel/libffi \
		gio-2.0.>=1800.0,glib-2.0.>=1800.0,gmodule-2.0.>=2.1800,gobject-2.0.>=1800.0,gthread-2.0.>=1800.0::devel/glib2
d38 1
@


1.25
log
@Run compileall.py so that pyc files get registered in the PLIST and
pkg_delete doesn't complain.

reported by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/04/25 20:59:38 jasper Exp $
d11 3
a13 1
PKGNAME=	py-gobject-${GNOME_VERSION}p1v0
@


1.24
log
@- re-add fscking ugly workaround. this needs to be properly fixed as
you will claw your eyes out looking at the workaround.

"go ahead" aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/04/23 12:51:11 ajacoutot Exp $
d11 1
a11 1
PKGNAME=	py-gobject-${GNOME_VERSION}p0v0
d42 4
@


1.23
log
@Update to py-gobject-2.20.0v0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/10/12 17:19:16 sthen Exp $
d11 1
a11 1
PKGNAME=	py-gobject-${GNOME_VERSION}v0
d14 3
@


1.22
log
@Add a nasty hack so this can build with non-default MODPY_VERSION.
Better suggestions welcome, but we couldn't think of any.
"Oh that is nasty, ok aja@@".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/10/12 12:29:26 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.18.0
d11 1
a11 1
PKGNAME=	py-gobject-${GNOME_VERSION}p0v0
d13 1
a13 4
SHARED_LIBS +=  pyglib-2.0-python${MODPY_VERSION} 0.0      # .0.0

PYGLIB_VER=	${LIBpyglib-2.0-python${MODPY_VERSION}_VERSION}
SUBST_VARS+=	PYGLIB_VER
d25 1
a25 1
WANTLIB=	pcre
@


1.21
log
@Add small reminder comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/10/10 14:41:21 jasper Exp $
d14 3
@


1.20
log
@- revert previous update. gobject-introspection fails to build on sparc64
and i can't currently see why..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/09/08 17:51:32 jasper Exp $
d7 1
d10 1
d12 1
@


1.19
log
@- update py-gobject to 2.20.0
* uses gobject-introspection now

ok aja@@
@
text
@d8 2
a9 2
GNOME_VERSION=	2.20.0
PKGNAME=	py-gobject-${GNOME_VERSION}
a27 2
BUILD_DEPENDS=	${RUN_DEPENDS}
RUN_DEPENDS=	::devel/gobject-introspection
@


1.18
log
@- update py-gobject to 2.18.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/09/06 10:46:25 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	2.18.0
d28 4
a31 1
LIB_DEPENDS=	gio-2.0.>=1800.0,glib-2.0.>=1800.0,gmodule-2.0.>=2.1800,gobject-2.0.>=1800.0,gthread-2.0.>=1800.0::devel/glib2
@


1.17
log
@Make use of REGRESS_IS_INTERACTIVE=x11

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/08/07 11:20:10 jasper Exp $
d8 3
a10 3
GNOME_VERSION=	2.16.1
PKGNAME=	py-gobject-${GNOME_VERSION}p1
SHARED_LIBS +=  pyglib-2.0       0.0             # .0.0
@


1.16
log
@- switch to gnome.port.mk

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/04/26 11:01:04 ajacoutot Exp $
d34 1
a34 5
# The regression tests require a running instance of X.
# You will also need to set the XAUTHORITY environment variable to point 
# to the appropriate .Xauthority file. 
REGRESS_IS_INTERACTIVE= Yes
REGRESS_FLAGS=DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
@


1.15
log
@CONFIGURE_ENV += PYTHON="${MODPY_BIN}" is inherited from the python module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/03/16 22:20:02 kili Exp $
d7 3
a9 3
V=		2.16.1
DISTNAME=	pygobject-${V}
PKGNAME=	py-gobject-${V}p0
a23 3
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/pygobject/${V:R}/}
EXTRACT_SUFX=	.tar.bz2

d25 2
a26 1
		lang/python
a29 1
USE_LIBTOOL=	Yes
@


1.14
log
@
Bump for python deps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/03/04 19:58:22 jasper Exp $
d27 3
a29 1
MODULES=	devel/gettext lang/python
a33 1
CONFIGURE_ENV=	PYTHON="${MODPY_BIN}"
@


1.13
log
@- update py-gobject to 2.16.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/01/04 21:41:16 jasper Exp $
d9 1
a9 1
PKGNAME=	py-gobject-${V}
@


1.12
log
@- update py-gobject to 2.16.0

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/11/16 21:47:47 jasper Exp $
d7 1
a7 1
V=		2.16.0
@


1.11
log
@- update py-gobject to 2.15.4
- specify license version

tested in a bulk build by me
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/05/27 11:54:20 ajacoutot Exp $
d7 1
a7 1
V=		2.15.4
@


1.10
log
@- remove run depends on devhelp
(it was added some time ago but let's be consistent with the latest changes)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/05/25 21:44:33 jasper Exp $
d7 1
a7 1
V=		2.14.2
d9 3
a11 1
PKGNAME=	py-gobject-${V}p0
d16 1
a16 1
# LGPL
d28 1
a28 1
LIB_DEPENDS=	glib-2.0.>=1200.0,gobject-2.0.>=1200.0,gthread-2.0.>=1200.0::devel/glib2
d33 2
@


1.9
log
@- update py-gobject to 2.14.2

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/04/29 17:49:34 jasper Exp $
d9 1
a9 1
PKGNAME=	py-gobject-${V}
a26 1
RUN_DEPENDS=	:devhelp-*:x11/gnome/devhelp
@


1.8
log
@- update py-gobject to 2.14.1

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/01/04 18:38:51 espie Exp $
d7 1
a7 1
V=		2.14.1
d27 1
@


1.7
log
@do the same thing with REGRESS_FLAGS as FAKE_FLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/11/13 14:06:21 steven Exp $
d7 1
a7 1
V=		2.14.0
d9 1
a9 1
PKGNAME=	py-gobject-${V}p2
d30 1
a30 1
CONFIGURE_ENV=	PYTHON=${MODPY_BIN}
a34 1

@


1.6
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/10/08 08:22:39 steven Exp $
d37 1
a37 1
REGRESS_FLAGS+=DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
@


1.5
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/10/05 13:38:31 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	py-gobject-${V}p1
d19 2
@


1.4
log
@- fix CATEGORIES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/09/19 13:19:50 martynas Exp $
d9 1
a9 1
PKGNAME=	py-gobject-${V}p0
@


1.3
log
@update to 2.14.0;  REGRESS_FLAGS tweak and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/09/16 02:53:11 merdely Exp $
d9 2
a10 2
PKGNAME=	py-gobject-${V}
CATEGORIES=	x11
@


1.2
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/05/09 21:43:48 alek Exp $
d7 1
a7 1
V=		2.13.1
d29 7
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
COMMENT=	"Python bindings for glib2 gobject"
@


1.1.1.1
log
@Import py-gobject 2.13.1

Python bindings for glib2 gobject

ok jasper@@
@
text
@@
