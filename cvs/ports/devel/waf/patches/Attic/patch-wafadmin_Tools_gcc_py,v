head	1.2;
access;
symbols
	OPENBSD_4_6:1.1.0.4
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2009.12.27.18.42.05;	author landry;	state dead;
branches;
next	1.1;

1.1
date	2009.01.26.19.47.12;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to waf-1.5.10. Midori & telepathy-buttefly are happy with it, and
it's needed by a forthcoming gigolo (yay!) port.
reads ok to & tested by jasper@@
@
text
@$OpenBSD: patch-wafadmin_Tools_gcc_py,v 1.1 2009/01/26 19:47:12 landry Exp $

Workaround a stupid cc version check, cc --version doesn't output 'gcc'

--- wafadmin/Tools/gcc.py.orig	Mon Dec 22 00:30:44 2008
+++ wafadmin/Tools/gcc.py	Mon Jan 19 09:34:45 2009
@@@@ -18,7 +18,7 @@@@ def find_gcc(conf):
 	if not cc: cc = conf.find_program('cc', var='CC')
 	if not cc: conf.fatal('gcc was not found')
 	try:
-		if Utils.cmd_output('%s --version' % cc).find('gcc') < 0:
+		if Utils.cmd_output('%s --version' % cc).find('GCC') < 0:
 			conf.fatal('gcc was not found, see the result of gcc --version')
 	except ValueError:
 		conf.fatal('gcc --version could not be executed')
@


1.1
log
@Update to waf 1.5.2, add a patch to workaround a stupid cc version check.

ok jasper@@ wcmaier@@
@
text
@d1 1
a1 1
$OpenBSD$
@

