head	1.4;
access;
symbols
	OPENBSD_4_1:1.3.0.10
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.8
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.6
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.2.0.12
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.10
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.8
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.6
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2007.06.01.15.26.31;	author jasper;	state dead;
branches;
next	1.3;

1.3
date	2004.10.10.18.20.17;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.11.13.14.04.41;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.18.14.22.14;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.4
log
@remove obsolete gnome1 stufF
@
text
@$OpenBSD: patch-configure_in,v 1.3 2004/10/10 18:20:17 naddy Exp $
--- configure.in.orig	Fri Mar 15 05:09:32 2002
+++ configure.in	Sat Oct  9 23:35:06 2004
@@@@ -140,6 +140,13 @@@@ if test "x$docs_only" = "xyes"; then
         AC_FYI("Only building documentation")
 else
 
+AC_CHECK_HEADERS(sys/socket.h)
+
+dnl use xml headers from gnome-xml if they exist
+AC_CHECK_HEADERS(gnome-xml/tree.h gnome-xml/parser.h gnome-xml/entities.h gnome-xml/xmlmemory.h )
+
+AC_CHECK_HEADERS(sys/socket.h)
+
 AC_CHECK_LIB(popt, poptGetArg, POPT_LIBS=-lpopt,
 	[AC_CHECK_HEADER(popt.h, , AC_MSG_ERROR([[
 *** Couldn't find popt. Please download and install from
@@@@ -167,20 +174,31 @@@@ AC_SUBST(XML_CFLAGS)
 BDB_LIBS=
 BDB_CFLAGS=
 
-
-for dblib in db-3.3 db-3.2 db-3.1 db-3; do
-  AC_CHECK_LIB($dblib, db_env_create, BDB_LIBS=-l$dblib)
-  if test "x$BDB_LIBS" != x; then
-    break
+AC_ARG_ENABLE(db3,
+  [  --enable-db3=[no/yes]   build bdb backend],[
+  if test "x$enable_db3" = "xyes"; then
+  for dblib in db-3.3 db-3.2 db-3.1 db-3 db; do
+    AC_CHECK_LIB($dblib, db_env_create, BDB_LIBS=-l$dblib)
+    if test "x$BDB_LIBS" != x; then
+      break
+    fi
+  done
+  if test "x$BDB_LIBS" = x; then
+    AC_MSG_WARN(No db3 library found. Not building bdb backend.)
+  else
+    for dbheader in "db3/db.h db3.h"; do
+      AC_CHECK_HEADERS($dbheader, [
+        HAVE_BDBHEADER=yes
+        break
+      ], )
+    done
+    if test "x$HAVE_BDBHEADER" = x; then
+      AC_MSG_ERROR(Found db3 lib but no db3 header)
+    fi
   fi
-done
+  fi
+  ],)
 
-if test "x$BDB_LIBS" = x; then
-  AC_MSG_WARN(No db3 library found. Not building bdb backend.)
-else
-  AC_CHECK_HEADERS(db3/db.h,  , AC_MSG_ERROR([db3 library found but db3/db.h not found]))
-fi
-
 AM_CONDITIONAL(BDB, test -n "$BDB_LIBS")
 
 AC_SUBST(BDB_LIBS)
@@@@ -223,6 +241,7 @@@@ fi # docs_only
 
 ALL_LINGUAS="az ca cs da de el es eu fi fr ga gl hu it ja ko nl nn no pl pt pt_BR ru sk sl sv tr uk zh_CN"
 
+LIBS="-liconv ${LIBS}"
 AM_GCONF_GNU_GETTEXT
 
 # AM_GNU_GETTEXT above substs $DATADIRNAME
@


1.3
log
@Explicitly link libintl with libiconv.
From: Aleksander.Piotrowski@@nic.com.pl
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.2 2001/11/13 14:04:41 wilfried Exp $
@


1.2
log
@Update to GConf-1.0.7, from maintainer
* Better compability for installing gconf 1 & 2 side by side
* Better UTF8 handling
* Lots of compilation and configuring fixes
* Some portability fixes
* Plus a lot of other fixes, see Changelog for full description
@
text
@d1 3
a3 3
$OpenBSD$
--- configure.in.orig	Mon Oct 29 19:53:48 2001
+++ configure.in	Tue Nov 13 14:18:40 2001
d18 1
a18 1
@@@@ -167,19 +174,30 @@@@ AC_SUBST(XML_CFLAGS)
d50 3
a52 1
-
d58 7
a64 2
+  fi
+  ],)
d66 2
a67 1
 AM_CONDITIONAL(BDB, test -n "$BDB_LIBS")
d69 1
@


1.1
log
@gettext fixes, improve db3 handling, miscellaneous clean-ups
@
text
@d2 17
a18 3
--- configure.in.orig	Tue Sep 18 15:28:19 2001
+++ configure.in	Tue Sep 18 15:37:25 2001
@@@@ -167,11 +167,14 @@@@ AC_SUBST(GNOME_CFLAGS)
a21 1
-AC_CHECK_LIB(db-3, db_env_create, BDB_LIBS=-ldb-3)
d23 4
a26 3
-if test "x$BDB_LIBS" = x; then
-  AC_MSG_WARN(No db3 library found. Not building bdb backend.)
-fi
d29 7
a35 2
+  AC_CHECK_LIB(db, db_env_create, BDB_LIBS=-ldb,
+    AC_CHECK_LIB(db-3, db_env_create, BDB_LIBS=-ldb-3))
d38 18
@

