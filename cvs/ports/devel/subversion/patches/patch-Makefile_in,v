head	1.16;
access;
symbols
	OPENBSD_6_1:1.15.0.4
	OPENBSD_6_1_BASE:1.15
	OPENBSD_6_0:1.15.0.2
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.13.0.16
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.18
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.13.0.14
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.13.0.12
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.10
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.8
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.13.0.6
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.13.0.4
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.2
	OPENBSD_5_0:1.11.0.4
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.10.0.6
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.4
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.9.0.2
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.7.0.4
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.6.0.4
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.6.0.2
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.4.0.2
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.3.0.2
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	alek_20041201:1.1.1.1
	alek:1.1.1;
locks; strict;
comment	@# @;


1.16
date	2017.09.23.15.59.03;	author jeremy;	state Exp;
branches;
next	1.15;
commitid	8CjSDUWH5nxorlaN;

1.15
date	2016.06.14.08.36.29;	author czarkoff;	state Exp;
branches;
next	1.14;
commitid	b2pyZR5sFm3sFbqK;

1.14
date	2016.04.28.16.03.01;	author stsp;	state Exp;
branches;
next	1.13;
commitid	jvuJd9VnGMZxBNQX;

1.13
date	2011.10.23.09.51.59;	author stsp;	state Exp;
branches;
next	1.12;

1.12
date	2011.10.13.11.23.01;	author stsp;	state Exp;
branches;
next	1.11;

1.11
date	2010.09.23.22.12.10;	author jeremy;	state Exp;
branches;
next	1.10;

1.10
date	2009.04.28.23.43.56;	author stsp;	state Exp;
branches;
next	1.9;

1.9
date	2008.12.27.19.20.36;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2008.11.02.20.43.49;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2007.10.25.10.00.03;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2006.11.29.08.52.39;	author msf;	state Exp;
branches;
next	1.5;

1.5
date	2006.09.30.06.23.58;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2006.04.15.10.27.38;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2006.01.27.10.20.56;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2005.07.04.22.22.00;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.01.16.47.54;	author alek;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.12.01.16.47.54;	author alek;	state Exp;
branches;
next	;


desc
@@


1.16
log
@Link against correct ruby library

Problem found by sthen@@
OK sthen@@
@
text
@$OpenBSD: patch-Makefile_in,v 1.15 2016/06/14 08:36:29 czarkoff Exp $
Index: Makefile.in
--- Makefile.in.orig
+++ Makefile.in
@@@@ -82,11 +82,11 @@@@ swig_pl_libdir = @@libdir@@
 swig_rb_libdir = @@libdir@@
 
 ### these possibly need further discussion
-swig_pydir = @@libdir@@/svn-python/libsvn
-swig_pydir_extra = @@libdir@@/svn-python/svn
+swig_pydir = @@libdir@@/python${MODPY_VERSION}/site-packages/libsvn
+swig_pydir_extra = @@libdir@@/python${MODPY_VERSION}/site-packages/svn
 swig_pldir = @@libdir@@/svn-perl
 swig_rbdir = $(SWIG_RB_SITE_ARCH_DIR)/svn/ext
-toolsdir = @@bindir@@/svn-tools
+toolsdir = @@bindir@@
 
 # where to install pkg-config files
 pkgconfig_dir = $(datadir)/pkgconfig
@@@@ -142,13 +142,13 @@@@ GMOCK_INCLUDES = -I@@GMOCK_SRCDIR@@
 SWIG = @@SWIG@@
 SWIG_PY_INCLUDES = @@SWIG_PY_INCLUDES@@ -I$(SWIG_SRC_DIR)/python/libsvn_swig_py
 SWIG_PY_COMPILE = @@SWIG_PY_COMPILE@@
-SWIG_PY_LINK = @@SWIG_PY_LINK@@
-SWIG_PY_LIBS = @@SWIG_PY_LIBS@@
+SWIG_PY_LINK = @@SWIG_PY_LINK@@ -L@@libdir@@
+SWIG_PY_LIBS = -lpython${MODPY_VERSION}
 SWIG_PL_INCLUDES = @@SWIG_PL_INCLUDES@@
 SWIG_RB_INCLUDES = @@SWIG_RB_INCLUDES@@ -I$(SWIG_SRC_DIR)/ruby/libsvn_swig_ruby
 SWIG_RB_COMPILE = @@SWIG_RB_COMPILE@@
 SWIG_RB_LINK = @@SWIG_RB_LINK@@
-SWIG_RB_LIBS = @@SWIG_RB_LIBS@@
+SWIG_RB_LIBS = -lruby${MODRUBY_BINREV}
 SWIG_RB_SITE_LIB_DIR = @@SWIG_RB_SITE_LIB_DIR@@
 SWIG_RB_SITE_ARCH_DIR = @@SWIG_RB_SITE_ARCH_DIR@@
 SWIG_RB_TEST_VERBOSE = @@SWIG_RB_TEST_VERBOSE@@
@


1.15
log
@update to subversion 1.9.4

OK sthen@@, stsp@@
@
text
@d1 4
a4 3
$OpenBSD: patch-Makefile_in,v 1.14 2016/04/28 16:03:01 stsp Exp $
--- Makefile.in.orig	Thu Dec 10 05:00:15 2015
+++ Makefile.in	Thu May  5 15:04:58 2016
d33 1
a33 1
+SWIG_RB_LIBS = -lruby18
@


1.14
log
@No ports hackathon without a ports commit: Add patches for Subversion
security bugs CVE-2016-2167 and CVE-2016-2168 which were just released.
An update to a newer release of SVN will come later.
ok sthen@@ aja@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.13 2011/10/23 09:51:59 stsp Exp $
--- Makefile.in.orig	Mon Jul 27 02:23:40 2015
+++ Makefile.in	Thu Apr 28 17:16:21 2016
@@@@ -81,11 +81,11 @@@@ swig_pl_libdir = @@libdir@@
d17 3
a19 3
 javahl_javadir = @@libdir@@/svn-javahl
 javahl_javahdir = @@libdir@@/svn-javahl/include
@@@@ -135,13 +135,13 @@@@ APACHE_LDFLAGS = @@APACHE_LDFLAGS@@
@


1.13
log
@Update to 1.7.1 (most importantly this release fixes several bugs in
'svn upgrade'), regen patches, and add a patch queued for 1.7.2 which
fixes 'svn update' for symlinks.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.12 2011/10/13 11:23:01 stsp Exp $
--- Makefile.in.orig	Sat Jul 16 13:50:53 2011
+++ Makefile.in	Sat Oct 22 10:40:12 2011
@@@@ -85,11 +85,11 @@@@ swig_pl_libdir = @@libdir@@
d19 1
a19 1
@@@@ -134,13 +134,13 @@@@ APACHE_LDFLAGS = @@APACHE_LDFLAGS@@
@


1.12
log
@Update to 1.7.0. ok mpi@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.11 2010/09/23 22:12:10 jeremy Exp $
--- Makefile.in.orig	Thu May 26 10:58:42 2011
+++ Makefile.in	Sat Jun  4 16:41:02 2011
@@@@ -84,11 +84,11 @@@@ swig_pl_libdir = @@libdir@@
d19 1
a19 1
@@@@ -132,13 +132,13 @@@@ APACHE_LDFLAGS = @@APACHE_LDFLAGS@@
@


1.11
log
@Handle changes caused by splitting the ruby port and bump

OK jcs@@, landry@@, jasper@@, sthen@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.10 2009/04/28 23:43:56 stsp Exp $
--- Makefile.in.orig	Mon Feb 16 08:10:48 2009
+++ Makefile.in	Thu Sep 16 14:04:24 2010
@@@@ -76,12 +76,12 @@@@ swig_pl_libdir = @@libdir@@
a13 1
 contribdir = @@bindir@@/svn-contrib
d19 1
a19 1
@@@@ -122,13 +122,13 @@@@ APACHE_LDFLAGS = @@APACHE_LDFLAGS@@
@


1.10
log
@Update to 1.6.1.
Help by ajacoutot@@ and steven@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.9 2008/12/27 19:20:36 steven Exp $
--- Makefile.in.orig	Mon Feb 16 16:10:48 2009
+++ Makefile.in	Thu Feb 19 19:36:18 2009
d20 1
a20 1
@@@@ -122,8 +122,8 @@@@ APACHE_LDFLAGS = @@APACHE_LDFLAGS@@
d31 6
@


1.9
log
@update to 1.5.5

also,
- add various utilities from contrib/ and tools/
- update svn2cl to version 0.11 (has a fix for OpenBSD ksh)
- install SVN::Fs man page

from maintainer Stefan Sperling, tweaked a bit by me
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.8 2008/11/02 20:43:49 steven Exp $
--- Makefile.in.orig	Tue Aug 26 19:27:56 2008
+++ Makefile.in	Sat Nov 29 18:45:38 2008
@@@@ -68,12 +68,12 @@@@ swig_pl_libdir = @@libdir@@
d20 1
a20 1
@@@@ -114,8 +114,8 @@@@ APACHE_LDFLAGS = @@APACHE_LDFLAGS@@
@


1.8
log
@update to 1.5.4

joint work with new maintainer Stefan Sperling
and Brad Walker (me at bradwalker.com)

tested by several
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
+++ Makefile.in	Sat Oct 25 21:46:14 2008
@@@@ -68,8 +68,8 @@@@ swig_pl_libdir = @@libdir@@
d15 5
@


1.7
log
@make this use the python module, and switch to python 2.5
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.6 2006/11/29 08:52:39 msf Exp $
--- Makefile.in.orig	Thu Aug 24 00:12:43 2006
+++ Makefile.in	Mon Nov 20 15:31:13 2006
@@@@ -66,8 +66,8 @@@@ swig_pl_libdir = @@libdir@@
d10 2
a11 2
+swig_pydir = @@libdir@@/python!!MODPY_VERSION!!/site-packages/libsvn
+swig_pydir_extra = @@libdir@@/python!!MODPY_VERSION!!/site-packages/svn
d14 2
a15 13
 
@@@@ -90,8 +90,8 @@@@ EXEEXT = @@EXEEXT@@
 
 SHELL = @@SHELL@@
 LIBTOOL = @@SVN_LIBTOOL@@
-LTFLAGS = @@SVN_LT_CCTAG@@ --silent
-LTCXXFLAGS = @@SVN_LT_CXXTAG@@ --silent
+LTFLAGS = @@SVN_LT_CCTAG@@
+LTCXXFLAGS = @@SVN_LT_CXXTAG@@
 LT_LDFLAGS = @@LT_LDFLAGS@@
 LT_NO_UNDEFINED = @@LT_NO_UNDEFINED@@
 LT_CXX_LIBADD = @@LT_CXX_LIBADD@@
@@@@ -108,8 +108,8 @@@@ APACHE_LDFLAGS = @@APACHE_LDFLAGS@@
d22 1
a22 1
+SWIG_PY_LIBS = -lpython!!MODPY_VERSION!!
a25 33
@@@@ -196,19 +196,14 @@@@ INSTALL_JAVAHL_LIB = $(INSTALL_LIB)
 
 # additional installation rules for the SWIG wrappers
 INSTALL_EXTRA_SWIG_PY=\
-  $(MKDIR) $(DESTDIR)$(swig_pydir); \
-  $(MKDIR) $(DESTDIR)$(swig_pydir_extra); \
+  $(INSTALL) -d $(DESTDIR)$(swig_pydir); \
+  $(INSTALL) -d $(DESTDIR)$(swig_pydir_extra); \
   for i in $(abs_srcdir)/subversion/bindings/swig/python/svn/*.py; do \
     $(INSTALL_DATA) "$$i" $(DESTDIR)$(swig_pydir_extra); \
   done; \
   for i in $(abs_srcdir)/subversion/bindings/swig/python/*.py; do \
     $(INSTALL_DATA) "$$i" $(DESTDIR)$(swig_pydir); \
   done; \
-  if test "$(abs_srcdir)" != "$(abs_builddir)"; then \
-    for i in $(abs_builddir)/subversion/bindings/swig/python/*.py; do \
-      $(INSTALL_DATA) "$$i" $(DESTDIR)$(swig_pydir); \
-    done; \
-  fi; \
   $(PYTHON) -c 'import compileall; \
     compileall.compile_dir("$(DESTDIR)$(swig_pydir)", 1, "$(swig_pydir)"); \
     compileall.compile_dir("$(DESTDIR)$(swig_pydir_extra)", 1, \
@@@@ -234,8 +229,8 @@@@ INSTALL_EXTRA_JAVAHL_JAVA=\
 INSTALL_EXTRA_JAVAHL_LIB=@@INSTALL_EXTRA_JAVAHL_LIB@@
 
 INSTALL_EXTRA_SWIG_RB=\
-  @@echo $(MKDIR) $(DESTDIR)$(SWIG_RB_SITE_LIB_DIR)/svn; \
-  $(MKDIR) $(DESTDIR)$(SWIG_RB_SITE_LIB_DIR)/svn; \
+  @@echo $(INSTALL) -d $(DESTDIR)$(SWIG_RB_SITE_LIB_DIR)/svn; \
+  $(INSTALL) -d $(DESTDIR)$(SWIG_RB_SITE_LIB_DIR)/svn; \
   for i in $(abs_srcdir)/subversion/bindings/swig/ruby/svn/*.rb; do \
     echo $(INSTALL_DATA) "$$i" $(DESTDIR)$(SWIG_RB_SITE_LIB_DIR)/svn; \
     $(INSTALL_DATA) "$$i" $(DESTDIR)$(SWIG_RB_SITE_LIB_DIR)/svn; \
@


1.6
log
@build ruby bindings and put them in their own subpackage.

ok steven@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.5 2006/09/30 06:23:58 steven Exp $
d10 2
a11 2
+swig_pydir = @@libdir@@/python!!PYTHON_VER!!/site-packages/libsvn
+swig_pydir_extra = @@libdir@@/python!!PYTHON_VER!!/site-packages/svn
d33 1
a33 1
+SWIG_PY_LIBS = -lpython!!PYTHON_VER!!
@


1.5
log
@update to subversion 1.4.0

for details, read http://subversion.tigris.org/svn_1.4_releasenotes.html

from maintainer Sigfred Haversen <bsdlist at mumak.com>

go ahead pval
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.in.orig	Sat Jul 15 01:24:31 2006
+++ Makefile.in	Sat Jul 15 01:28:07 2006
d59 11
@


1.4
log
@update to subversion 1.3.1
enable python regression tests

from maintainer Sigfred Haversen

ok alek@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.3 2006/01/27 10:20:56 alek Exp $
--- Makefile.in.orig	Wed Nov 16 01:56:15 2005
+++ Makefile.in	Wed Apr  5 20:10:11 2006
d15 1
a15 1
@@@@ -94,8 +94,8 @@@@ EXEEXT = @@EXEEXT@@
d26 2
a27 2
@@@@ -116,8 +116,8 @@@@ SWIG_INCLUDES = -I$(SWIG_BUILD_DIR) \
                 $(SVN_APR_INCLUDES) $(SVN_APRUTIL_INCLUDES)
d37 22
@


1.3
log
@Update to 1.3.0

From Sigfred Haversen <bsdlist@@mumak.com>

ok steven@@
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.in.orig	Tue Nov 15 16:56:15 2005
+++ Makefile.in	Sun Jan  8 17:31:33 2006
d26 11
@


1.2
log
@Update to 1.2.0

From Sigfred Haversen <bsdlist@@mumak.com> (MAINTAINER)

ok msf@@
@
text
@d2 2
a3 2
--- Makefile.in.orig	Mon May  9 07:56:09 2005
+++ Makefile.in	Wed Jun 22 02:08:50 2005
d15 1
a15 33
@@@@ -143,7 +143,23 @@@@ MKDIR = @@MKDIR@@
 # the EXTRA_ exist so that extra flags can be passed at 'make' time
 CFLAGS = @@CFLAGS@@ $(EXTRA_CFLAGS)
 CPPFLAGS = @@CPPFLAGS@@ $(EXTRA_CPPFLAGS)
-LDFLAGS = @@LDFLAGS@@ $(EXTRA_LDFLAGS)
+LDFLAGS = -L!!WRKBUILD!!/subversion/libsvn_client/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_delta/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_diff/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_fs/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_fs_base/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_fs_fs/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_ra/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_ra_dav/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_ra_local/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_ra_svn/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_repos/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_subr/.libs \
+	-L!!WRKBUILD!!/subversion/libsvn_wc/.libs \
+	-L!!WRKBUILD!!/subversion/bindings/swig/perl/libsvn_swig_perl/.libs \
+	-L!!WRKBUILD!!/subversion/bindings/swig/python/libsvn_swig_py/.libs \
+	-L!!WRKBUILD!!/subversion/bindings/swig/python/.libs \
+	@@LDFLAGS@@ $(EXTRA_LDFLAGS)
 
 COMPILE = $(CC) $(CPPFLAGS) $(CFLAGS) $(INCLUDES)
 COMPILE_CXX = $(CXX) $(CPPFLAGS) $(CFLAGS) $(CXXFLAGS) $(INCLUDES)
@@@@ -321,7 +337,7 @@@@ local-install: @@INSTALL_RULES@@
 
 ### HACK!! Find a better way to do this
 revision-install:
-	subversion/svnversion/svnversion $(top_srcdir) /repos/svn/trunk > $(DESTDIR)$(includedir)/subversion-1/svn-revision.txt
+	env LD_LIBRARY_PATH=${PREFIX}/lib subversion/svnversion/svnversion $(top_srcdir) /repos/svn/trunk > $(DESTDIR)$(includedir)/subversion-1/svn-revision.txt
 
 install-static: @@INSTALL_STATIC_RULES@@
d17 9
@


1.1
log
@Initial revision
@
text
@d2 4
a5 4
--- Makefile.in.orig	Sat Sep 11 17:45:29 2004
+++ Makefile.in	Wed Nov  3 00:53:40 2004
@@@@ -68,8 +68,8 @@@@ swig_java_libdir = @@libdir@@
 swig_pl_libdir = @@libdir@@
a11 1
 swig_javadir = @@libdir@@/svn-java
d13 1
d15 26
a40 1
@@@@ -311,7 +311,7 @@@@ local-install: @@INSTALL_RULES@@
@


1.1.1.1
log
@Import Subversion 1.1.1

Subversion is a free/open-source version control system. That is,
Subversion manages files and directories over time. A tree of files
is placed into a central repository. The repository is much like an
ordinary file server, except that it remembers every change ever made
to your files and directories. This allows you to recover older versions
of your data, or examine the history of how your data changed.
In this regard, many people think of a version control system as a
sort of time machine.

Joint work with msf@@, Sigfred H?versen, Alex Holst and Steven Mestdagh

ok naddy@@, go ahead msf@@
@
text
@@
