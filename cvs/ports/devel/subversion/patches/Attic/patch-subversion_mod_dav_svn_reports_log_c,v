head	1.2;
access;
symbols
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_3:1.1.0.4
	OPENBSD_5_2:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2013.05.03.07.46.12;	author stsp;	state dead;
branches
	1.2.2.1;
next	1.1;

1.1
date	2013.04.05.14.51.35;	author stsp;	state Exp;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2013.04.05.15.06.21;	author stsp;	state Exp;
branches;
next	;

1.1.4.1
date	2013.05.03.06.51.46;	author stsp;	state Exp;
branches;
next	;

1.2.2.1
date	2014.12.17.13.55.14;	author stsp;	state Exp;
branches;
next	;
commitid	agz3SmjY4S0jrjGC;


desc
@@


1.2
log
@Update to Subversion 1.7.9 which includes the CVE patches committed earlier.
@
text
@$OpenBSD: patch-subversion_mod_dav_svn_reports_log_c,v 1.1 2013/04/05 14:51:35 stsp Exp $
CVE-2013-1884
--- subversion/mod_dav_svn/reports/log.c.orig	Wed Jan 11 16:57:13 2012
+++ subversion/mod_dav_svn/reports/log.c	Wed Apr  3 20:56:32 2013
@@@@ -341,10 +341,9 @@@@ dav_svn__log_report(const dav_resource *resource,
                                   dav_xml_get_cdata(child, resource->pool, 1));
           if (serr)
             {
-              derr = dav_svn__convert_err(serr, HTTP_BAD_REQUEST,
+              return dav_svn__convert_err(serr, HTTP_BAD_REQUEST,
                                           "Malformed CDATA in element "
                                           "\"limit\"", resource->pool);
-              goto cleanup;
             }
         }
       else if (strcmp(child->name, "discover-changed-paths") == 0)
@


1.2.2.1
log
@For 5.6-stable: Add Subversion patches for CVE-2014-3580 and CVE-2014-8108,
two remotely triggerable crashes in mod_dav_svn.
@
text
@d1 16
a16 14
$OpenBSD$
CVE-2014-3580
--- subversion/mod_dav_svn/reports/log.c.orig	Fri Mar 22 01:08:14 2013
+++ subversion/mod_dav_svn/reports/log.c	Wed Dec 17 13:31:13 2014
@@@@ -307,6 +307,9 @@@@ dav_svn__log_report(const dav_resource *resource,
     = apr_array_make(resource->pool, 1, sizeof(const char *));
 
   /* Sanity check. */
+  if (!resource->info->repos_path)
+    return dav_svn__new_error(resource->pool, HTTP_BAD_REQUEST, 0,
+                              "The request does not specify a repository path");
   ns = dav_svn__find_ns(doc->namespaces, SVN_XML_NAMESPACE);
   if (ns == -1)
     {
@


1.1
log
@Add patches for CVE-2013-1884, CVE-2013-1845, CVE-2013-1846, CVE-2013-1847,
and CVE-2013-1849. All of these are denial-of-service vulnerabilities
which affect Subversion servers using mod_dav_svn (Apache HTTPD) only.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.4.1
log
@For 5.3-stable:

Add patches for CVE-2013-1884, CVE-2013-1845, CVE-2013-1846, CVE-2013-1847,
and CVE-2013-1849. All of these are denial-of-service vulnerabilities
which affect Subversion servers using mod_dav_svn (Apache HTTPD) only.
@
text
@d1 1
a1 1
$OpenBSD: patch-subversion_mod_dav_svn_reports_log_c,v 1.1 2013/04/05 14:51:35 stsp Exp $
@


1.1.2.1
log
@For 5.2-stable:

Add patches for CVE-2013-1884, CVE-2013-1845, CVE-2013-1846, CVE-2013-1847,
and CVE-2013-1849. All of these are denial-of-service vulnerabilities
which affect Subversion servers using mod_dav_svn (Apache HTTPD) only.

For good measure throw in two additional fixes which were made after SVN 1.7.5,
fixing a crash in mod_dav_svn and unbound memory use in mod_authz_svn.
These fixes are already in 5.3 and -current.
@
text
@d1 1
a1 1
$OpenBSD: patch-subversion_mod_dav_svn_reports_log_c,v 1.1 2013/04/05 14:51:35 stsp Exp $
@

