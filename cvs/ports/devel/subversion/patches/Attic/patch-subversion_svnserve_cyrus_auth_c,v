head	1.2;
access;
symbols
	OPENBSD_5_9:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2016.06.14.08.36.29;	author czarkoff;	state dead;
branches;
next	1.1;
commitid	b2pyZR5sFm3sFbqK;

1.1
date	2016.04.28.16.03.01;	author stsp;	state Exp;
branches
	1.1.2.1;
next	;
commitid	jvuJd9VnGMZxBNQX;

1.1.2.1
date	2016.04.28.17.36.00;	author stsp;	state Exp;
branches;
next	;
commitid	aAzU1aTmUvwfAxvd;


desc
@@


1.2
log
@update to subversion 1.9.4

OK sthen@@, stsp@@
@
text
@$OpenBSD: patch-subversion_svnserve_cyrus_auth_c,v 1.1 2016/04/28 16:03:01 stsp Exp $
CVE-2016-2167
--- subversion/svnserve/cyrus_auth.c.orig	Thu Apr 11 16:38:20 2013
+++ subversion/svnserve/cyrus_auth.c	Thu Apr 28 17:16:41 2016
@@@@ -74,6 +74,8 @@@@ static int canonicalize_username(sasl_conn_t *conn,
     {
       /* The only valid realm is user_realm (i.e. the repository's realm).
          If the user gave us another realm, complain. */
+      if (realm_len != inlen-(pos-in+1))
+        return SASL_BADPROT;
       if (strncmp(pos+1, user_realm, inlen-(pos-in+1)) != 0)
         return SASL_BADPROT;
     }
@


1.1
log
@No ports hackathon without a ports commit: Add patches for Subversion
security bugs CVE-2016-2167 and CVE-2016-2168 which were just released.
An update to a newer release of SVN will come later.
ok sthen@@ aja@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@For 5.9-stable: Add patches for Subversion security bugs CVE-2016-2167
and CVE-2016-2168 which were just released.
ok sthen@@ aja@@
@
text
@d2 1
d4 1
a4 1
+++ subversion/svnserve/cyrus_auth.c	Thu Apr 28 18:36:57 2016
@

