head	1.8;
access;
symbols
	OPENBSD_6_2:1.8.0.2
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.7.0.6
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.7.0.4
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.6.0.8
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.4
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.2
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.4.0.4
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3;
locks; strict;
comment	@# @;


1.8
date	2017.04.11.07.25.38;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	OfRgtAM7IFibgYPX;

1.7
date	2015.09.24.10.23.42;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	TJvyXNuKGn4RlcXO;

1.6
date	2014.03.26.08.28.15;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2014.03.16.09.45.35;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.27.17.49.34;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.04.23.12.49.47;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.06.06.06.22.19;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2011.05.28.07.38.01;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Update to glib2-2.52.1.
- survived a bulk
- this officially starts the work on updating GNOME to 3.24.1
@
text
@$OpenBSD: patch-gio_glib-compile-schemas_c,v 1.7 2015/09/24 10:23:42 ajacoutot Exp $

XXX do not warn about bad dconf paths

--- gio/glib-compile-schemas.c.orig	Wed Mar  1 21:13:23 2017
+++ gio/glib-compile-schemas.c	Sun Apr  9 15:04:24 2017
@@@@ -1217,11 +1217,13 @@@@ parse_state_start_schema (ParseState  *state,
       return;
     }
 
+#if 0
   if (path && (g_str_has_prefix (path, "/apps/") ||
                g_str_has_prefix (path, "/desktop/") ||
                g_str_has_prefix (path, "/system/")))
     g_printerr ("warning: Schema '%s' has path '%s'.  Paths starting with "
                 "'/apps/', '/desktop/' or '/system/' are deprecated.\n", id, path);
+#endif
 
   state->schema_state = schema_state_new (path, gettext_domain,
                                           extends, extends_name, list_of);
@


1.7
log
@Update to glib2-2.46.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-gio_glib-compile-schemas_c,v 1.6 2014/03/26 08:28:15 ajacoutot Exp $
d5 3
a7 3
--- gio/glib-compile-schemas.c.orig	Wed Aug 19 05:35:30 2015
+++ gio/glib-compile-schemas.c	Wed Sep 23 09:25:35 2015
@@@@ -1216,11 +1216,13 @@@@ parse_state_start_schema (ParseState  *state,
@


1.6
log
@Update to glib2-2.40.0.
First step of the road to GNOME 3.12...

ok jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-gio_glib-compile-schemas_c,v 1.5 2014/03/16 09:45:35 ajacoutot Exp $
d5 3
a7 3
--- gio/glib-compile-schemas.c.orig	Mon Feb  3 18:40:41 2014
+++ gio/glib-compile-schemas.c	Tue Mar 25 08:12:54 2014
@@@@ -1202,11 +1202,13 @@@@ parse_state_start_schema (ParseState  *state,
@


1.5
log
@Sync comment with what was committed upstream; no pkg change.
@
text
@d1 1
a1 1
$OpenBSD: patch-gio_glib-compile-schemas_c,v 1.4 2013/03/27 17:49:34 ajacoutot Exp $
d5 3
a7 3
--- gio/glib-compile-schemas.c.orig	Wed Mar 13 14:39:09 2013
+++ gio/glib-compile-schemas.c	Tue Mar 26 11:02:30 2013
@@@@ -1208,11 +1208,13 @@@@ parse_state_start_schema (ParseState  *state,
@


1.4
log
@Major update to glib2-2.36.0.
*huge* thank to landry@@ for running a bulk with this diff and the few
others that are going to be committed and for informing me of the
breakage that needed some love.
@
text
@d1 1
a1 1
$OpenBSD: patch-gio_glib-compile-schemas_c,v 1.3 2012/04/23 12:49:47 ajacoutot Exp $
d3 1
a3 1
XXX TEMP do not warn about bad dconf paths
@


1.3
log
@Do not warn about bad dconf paths. We do this temporarily so prevent
huge vomit from pkg_add when running glib-compile-schemas. Once most
applications are fixed, we'll remove this patch.
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- gio/glib-compile-schemas.c.orig	Fri Apr 13 15:39:41 2012
+++ gio/glib-compile-schemas.c	Mon Apr 23 14:20:42 2012
@@@@ -1204,11 +1204,13 @@@@ parse_state_start_schema (ParseState  *state,
@


1.2
log
@Bugfix update to glib2-2.28.8.
Remove patches applied upstream.
@
text
@d1 1
a1 1
$OpenBSD: patch-gio_glib-compile-schemas_c,v 1.1 2011/05/28 07:38:01 ajacoutot Exp $
d3 1
a3 4
From 7d0eac03e9cd88b33f68a7a451992d1f222573a2 Mon Sep 17 00:00:00 2001
From: Matthias Clasen <mclasen@@redhat.com>
Date: Fri, 27 May 2011 22:30:45 +0000
Subject: glib-compile-schemas: write informational messages to stdout
d5 5
a9 3
--- gio/glib-compile-schemas.c.orig	Sat May 21 05:29:24 2011
+++ gio/glib-compile-schemas.c	Sat May 28 09:34:09 2011
@@@@ -1965,13 +1965,13 @@@@ main (int argc, char **argv)
d11 7
a17 4
       if (files->len == 0)
         {
-          fprintf (stderr, _("No schema files found: "));
+          fprintf (stdout, _("No schema files found: "));
d19 2
a20 10
           if (g_unlink (target))
-            fprintf (stderr, _("doing nothing.\n"));
+            fprintf (stdout, _("doing nothing.\n"));
 
           else
-            fprintf (stderr, _("removed existing output file.\n"));
+            fprintf (stdout, _("removed existing output file.\n"));
 
           return 0;
         }
@


1.1
log
@Don't hardcode path to true(1).
glib-compile-schemas: write informational messages to stdout instead of
stderr.
@
text
@d1 1
a1 1
$OpenBSD$
@

