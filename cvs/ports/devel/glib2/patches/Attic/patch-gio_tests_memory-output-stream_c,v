head	1.4;
access;
symbols
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2011.09.20.21.09.34;	author ajacoutot;	state dead;
branches;
next	1.3;

1.3
date	2011.05.28.07.32.06;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.09.30.07.17.19;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.06.07.12.47.28;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to glib2-2.29.92 (2.30 coming in the next few days).
Committing now (along with upcoming atk, pango and gtk+3 updates) during
the hackathon where we have time to fix all the eventual fallout (bulk
running).

ok jasper@@ robert@@
@
text
@$OpenBSD: patch-gio_tests_memory-output-stream_c,v 1.3 2011/05/28 07:32:06 ajacoutot Exp $

From ce0f7cafa1746a94f90b74860c2890b6c18ca385 Mon Sep 17 00:00:00 2001
From: Antoine Jacoutot <ajacoutot@@bsdfrog.org>
Date: Mon, 23 May 2011 17:11:10 +0000
Subject: Fix build with gcc-2.*.

--- gio/tests/memory-output-stream.c.orig	Mon Aug  9 15:34:46 2010
+++ gio/tests/memory-output-stream.c	Mon Sep 27 14:42:36 2010
@@@@ -118,6 +118,10 @@@@ test_properties (void)
   GDataOutputStream *o;
   int i;
   GError *error = NULL;
+  gsize data_size_fun;
+  gsize data_size_prop;
+  gpointer data_fun;
+  gpointer data_prop;
 
   g_test_bug ("605733");
 
@@@@ -133,13 +137,11 @@@@ test_properties (void)
       g_assert_no_error (error);
     }
 
-  gsize data_size_fun = g_memory_output_stream_get_data_size (G_MEMORY_OUTPUT_STREAM (mo));
-  gsize data_size_prop;
+  data_size_fun = g_memory_output_stream_get_data_size (G_MEMORY_OUTPUT_STREAM (mo));
   g_object_get (mo, "data-size", &data_size_prop, NULL);
   g_assert_cmpint (data_size_fun, ==, data_size_prop);
 
-  gpointer data_fun = g_memory_output_stream_get_data (G_MEMORY_OUTPUT_STREAM (mo));
-  gpointer data_prop;
+  data_fun = g_memory_output_stream_get_data (G_MEMORY_OUTPUT_STREAM (mo));
   g_object_get (mo, "data", &data_prop, NULL);
   g_assert_cmphex (GPOINTER_TO_SIZE (data_fun), ==, GPOINTER_TO_SIZE (data_prop));
 
@


1.3
log
@Rewrite / add glib credentials support to OpenBSD.
Joint work with upstream.
@
text
@d1 1
a1 1
$OpenBSD: patch-gio_tests_memory-output-stream_c,v 1.2 2010/09/30 07:17:19 ajacoutot Exp $
@


1.2
log
@*** HEADS UP!

Major update to glib2-2.26.0.
This starts a flood commit of several big updates (gtk+2 and GNOME 2.32).

Please note that there will be some WANTLIB/DEPENDS breakage probably,
this went into several bulks but it's impossible to catch everything.
Any gtk+2/glib2 related build failures, please talk to me or jasper@@

The ports tree is expected to be in a unconsistent state for a couple of
days to give us time to fix everything we didn't spot or any runtime
issue with the latest GNOME.
We do this now so that we have packages with all the latest major bumped
libraries at p2k10.

Thanks to landry@@ and his zomg!cluster for the bulks and reports.

ok jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-gio_tests_memory-output-stream_c,v 1.1 2010/06/07 12:47:28 jasper Exp $
d3 4
a6 1
Fix build with GCC2.
@


1.1
log
@- fix build with gcc2, yes, '2', not '4'. :-)

based on a diff from sebastian reitenbach
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- gio/tests/memory-output-stream.c.orig	Mon Jun  7 10:04:19 2010
+++ gio/tests/memory-output-stream.c	Mon Jun  7 10:06:51 2010
@@@@ -92,6 +92,10 @@@@ test_properties (void)
d18 1
a18 1
@@@@ -107,13 +111,11 @@@@ test_properties (void)
d32 1
a32 1
   g_assert_cmphex (data_fun, ==, data_prop);
@

