head	1.7;
access;
symbols
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2;
locks; strict;
comment	@# @;


1.7
date	2012.02.02.07.10.18;	author ajacoutot;	state dead;
branches;
next	1.6;

1.6
date	2011.09.25.16.45.07;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2011.05.28.21.15.47;	author ajacoutot;	state dead;
branches;
next	1.4;

1.4
date	2011.05.21.07.05.09;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.03.07.19.17.14;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.11.14.15.56.55;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.11.20.41.44;	author kili;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Implement platform_get_argv0.
We are using autohell to put '-Wstrict-aliasing' into Makefile.am.

ok sthen@@
@
text
@$OpenBSD: patch-glib_tests_Makefile_in,v 1.6 2011/09/25 16:45:07 naddy Exp $

-Wstrict-aliasing=2 is not available with gcc3.

--- glib/tests/Makefile.in.orig	Sun Sep 25 16:55:42 2011
+++ glib/tests/Makefile.in	Sun Sep 25 16:55:54 2011
@@@@ -41,7 +41,7 @@@@ DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile
 noinst_PROGRAMS = $(am__EXEEXT_2) $(am__EXEEXT_3)
 @@OS_UNIX_TRUE@@am__append_1 = unix unix-nothreads bitlock
 @@OS_UNIX_TRUE@@am__append_2 = atomic
-@@HAVE_GCC_TRUE@@@@OS_UNIX_TRUE@@am__append_3 = -Wstrict-aliasing=2
+@@HAVE_GCC_TRUE@@@@OS_UNIX_TRUE@@am__append_3 = -Wstrict-aliasing
 subdir = glib/tests
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4macros/gtk-doc.m4 \
@


1.6
log
@fix build with gcc3; with ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.5
log
@Summer cleaning:
* use MODPY_ADJ_FILES
* use REGRESS_FLAGS instead of 4 patches...
* use post-install to remove files we don't ship, 2 less patches
* install gtester-report(1) -- it's a python script but we do not
  enforce a run dependency on python
@
text
@d1 15
a15 12
$OpenBSD: patch-glib_tests_Makefile_in,v 1.4 2011/05/21 07:05:09 ajacoutot Exp $
--- glib/tests/Makefile.in.orig	Sat May 21 06:15:23 2011
+++ glib/tests/Makefile.in	Sat May 21 08:55:08 2011
@@@@ -1052,7 +1052,7 @@@@ test: test-nonrecursive
 
 # test-nonrecursive: run tests only in cwd
 test-nonrecursive: ${TEST_PROGS}
-@@OS_UNIX_TRUE@@	@@test -z "${TEST_PROGS}" || MALLOC_CHECK_=2 MALLOC_PERTURB_=$$(($${RANDOM:-256} % 256)) ${GTESTER} --verbose ${TEST_PROGS}
+@@OS_UNIX_TRUE@@	@@test -z "${TEST_PROGS}" || MALLOC_CHECK_=2 MALLOC_PERTURB_=$$(($${RANDOM:-256} % 256)) ${GTESTER} -k --verbose ${TEST_PROGS}
 
 # test-report: run tests in subdirs and generate report
 # perf-report: run tests in subdirs with -m perf and generate report
@


1.4
log
@Bugfix update to glib2-2.28.7.
@
text
@d1 1
a1 1
$OpenBSD: patch-glib_tests_Makefile_in,v 1.3 2011/03/07 19:17:14 ajacoutot Exp $
@


1.3
log
@Major update to glib2-2.28.2.

This (and the related 20 to 30 updates) has been tested twice in a bulk
by landry@@, thanks!
Runtime testing by myself under heavy GNOME usage...
@
text
@d1 4
a4 4
$OpenBSD: patch-glib_tests_Makefile_in,v 1.2 2010/11/14 15:56:55 ajacoutot Exp $
--- glib/tests/Makefile.in.orig	Fri Feb 18 16:22:01 2011
+++ glib/tests/Makefile.in	Sat Feb 26 10:30:29 2011
@@@@ -1050,7 +1050,7 @@@@ test: test-nonrecursive
@


1.2
log
@Bugfix update to glib2-2.26.1.
Amongst other things, fixes an issue with GSettings on big endian.
@
text
@d1 4
a4 4
$OpenBSD: patch-glib_tests_Makefile_in,v 1.1 2010/10/11 20:41:44 kili Exp $
--- glib/tests/Makefile.in.orig	Sun Nov 14 07:02:00 2010
+++ glib/tests/Makefile.in	Sun Nov 14 16:14:34 2010
@@@@ -1028,7 +1028,7 @@@@ test: test-nonrecursive
@


1.1
log
@Try to run as much tests as possible, don't stop at the first
failed regression test.

ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD$
--- glib/tests/Makefile.in.orig	Mon Sep 27 18:10:13 2010
+++ glib/tests/Makefile.in	Sun Oct 10 14:41:23 2010
@@@@ -1027,7 +1027,7 @@@@ test: test-nonrecursive
@

