head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2012.04.14.07.47.55;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2012.03.31.18.27.35;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Minor update to glib2-2.32.1.

Note that some paths in gsettings have been deprecated
(/apps/, /desktop/ and /system/) which means that glib-compile-schemas
will now complain about them (just a warning).
It is up to the application itself to fix its schemas.
@
text
@$OpenBSD: patch-gio_Makefile_am,v 1.1 2012/03/31 18:27:35 ajacoutot Exp $

From 14945449580d394b5e1e009f71792ccac51fc41e Mon Sep 17 00:00:00 2001
From: Antoine Jacoutot <ajacoutot@@gnome.org>
Date: Sat, 31 Mar 2012 18:20:19 +0000
Subject: gresource: libelf, try pkg-config first then fall-back to AC_CHECK_LIB

--- gio/Makefile.am.orig	Fri Mar 30 20:03:58 2012
+++ gio/Makefile.am	Fri Mar 30 20:05:54 2012
@@@@ -710,10 +710,11 @@@@ EXTRA_DIST += $(completion_DATA)
 
 bin_PROGRAMS += gresource
 gresource_SOURCES = gresource-tool.c
+gresource_CPPFLAGS = $(LIBELF_CFLAGS) $(AM_CPPFLAGS)
 gresource_LDADD = libgio-2.0.la \
 	$(top_builddir)/glib/libglib-2.0.la 		\
 	$(top_builddir)/gobject/libgobject-2.0.la \
-	$(ELF_LIBS)
+	$(LIBELF_LIBS)
 
 # ------------------------------------------------------------------------
 
@


1.1
log
@Remove a non applicable XXX.
Use pkg-config(1) to deal with libelf cflags/ldflags instead of
patching.
@
text
@d1 1
a1 1
$OpenBSD$
@

