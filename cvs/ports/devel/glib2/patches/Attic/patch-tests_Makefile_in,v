head	1.22;
access;
symbols
	OPENBSD_5_0:1.20.0.2
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.18.0.2
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.15.0.2
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.13.0.2
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.10.0.4
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.2
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.8.0.2
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.2.0.4
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.22
date	2011.10.07.17.19.51;	author ajacoutot;	state dead;
branches;
next	1.21;

1.21
date	2011.09.20.21.09.34;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2011.05.28.21.15.47;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2011.03.07.19.17.14;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2010.11.14.15.56.55;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2010.10.11.20.41.44;	author kili;	state Exp;
branches;
next	1.16;

1.16
date	2010.09.30.07.17.19;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2010.04.22.19.34.06;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2010.03.21.09.55.54;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.12.01.16.13.00;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.10.04.18.17.13;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.07.12.20.38.09;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2008.11.24.16.05.03;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2008.10.27.21.28.01;	author landry;	state Exp;
branches;
next	1.8;

1.8
date	2008.07.08.08.38.26;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2008.04.09.13.10.17;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2008.02.09.17.47.34;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2007.12.05.14.31.24;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2007.10.24.22.29.03;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2007.04.23.16.22.07;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2006.05.22.01.39.36;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2005.11.13.06.22.03;	author marcm;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Enable all regress tests.
Remove some _g_snprintf patches that were left over.
@
text
@$OpenBSD: patch-tests_Makefile_in,v 1.21 2011/09/20 21:09:34 ajacoutot Exp $
--- tests/Makefile.in.orig	Sun Sep 18 16:07:00 2011
+++ tests/Makefile.in	Mon Sep 19 23:11:45 2011
@@@@ -656,8 +656,7 @@@@ test_programs = \
 	thread-test				\
 	threadpool-test				\
 	type-test				\
-	unicode-caseconv			\
-	unicode-encoding
+	unicode-caseconv
 
 test_scripts = run-collate-tests.sh run-assert-msg-test.sh
 test_script_support_programs = unicode-collate
@


1.21
log
@Update to glib2-2.29.92 (2.30 coming in the next few days).
Committing now (along with upcoming atk, pango and gtk+3 updates) during
the hackathon where we have time to fix all the eventual fallout (bulk
running).

ok jasper@@ robert@@
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_Makefile_in,v 1.20 2011/05/28 21:15:47 ajacoutot Exp $
@


1.20
log
@Summer cleaning:
* use MODPY_ADJ_FILES
* use REGRESS_FLAGS instead of 4 patches...
* use post-install to remove files we don't ship, 2 less patches
* install gtester-report(1) -- it's a python script but we do not
  enforce a run dependency on python
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.19 2011/03/07 19:17:14 ajacoutot Exp $
--- tests/Makefile.in.orig	Sat Jan 29 03:46:14 2011
+++ tests/Makefile.in	Mon Jan 31 10:14:44 2011
@@@@ -643,8 +643,7 @@@@ test_programs = \
@


1.19
log
@Major update to glib2-2.28.2.

This (and the related 20 to 30 updates) has been tested twice in a bulk
by landry@@, thanks!
Runtime testing by myself under heavy GNOME usage...
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_Makefile_in,v 1.18 2010/11/14 15:56:55 ajacoutot Exp $
a13 9
@@@@ -1407,7 +1406,7 @@@@ test: test-nonrecursive
 
 # test-nonrecursive: run tests only in cwd
 test-nonrecursive: ${TEST_PROGS}
-@@OS_UNIX_TRUE@@	@@test -z "${TEST_PROGS}" || MALLOC_CHECK_=2 MALLOC_PERTURB_=$$(($${RANDOM:-256} % 256)) ${GTESTER} --verbose ${TEST_PROGS}
+@@OS_UNIX_TRUE@@	@@test -z "${TEST_PROGS}" || MALLOC_CHECK_=2 MALLOC_PERTURB_=$$(($${RANDOM:-256} % 256)) ${GTESTER} -k --verbose ${TEST_PROGS}
 
 # test-report: run tests in subdirs and generate report
 # perf-report: run tests in subdirs with -m perf and generate report
@


1.18
log
@Bugfix update to glib2-2.26.1.
Amongst other things, fixes an issue with GSettings on big endian.
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.17 2010/10/11 20:41:44 kili Exp $
--- tests/Makefile.in.orig	Sun Nov 14 07:02:03 2010
+++ tests/Makefile.in	Sun Nov 14 16:14:34 2010
@@@@ -640,8 +640,7 @@@@ test_programs = \
d14 1
a14 1
@@@@ -1404,7 +1403,7 @@@@ test: test-nonrecursive
@


1.17
log
@Try to run as much tests as possible, don't stop at the first
failed regression test.

ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.16 2010/09/30 07:17:19 ajacoutot Exp $
--- tests/Makefile.in.orig	Mon Sep 27 18:10:13 2010
+++ tests/Makefile.in	Sun Oct 10 15:00:56 2010
@@@@ -639,8 +639,7 @@@@ test_programs = \
d14 1
a14 1
@@@@ -1403,7 +1402,7 @@@@ test: test-nonrecursive
@


1.16
log
@*** HEADS UP!

Major update to glib2-2.26.0.
This starts a flood commit of several big updates (gtk+2 and GNOME 2.32).

Please note that there will be some WANTLIB/DEPENDS breakage probably,
this went into several bulks but it's impossible to catch everything.
Any gtk+2/glib2 related build failures, please talk to me or jasper@@

The ports tree is expected to be in a unconsistent state for a couple of
days to give us time to fix everything we didn't spot or any runtime
issue with the latest GNOME.
We do this now so that we have packages with all the latest major bumped
libraries at p2k10.

Thanks to landry@@ and his zomg!cluster for the bulks and reports.

ok jasper@@
@
text
@d1 3
a3 3
$OpenBSD: patch-tests_Makefile_in,v 1.15 2010/04/22 19:34:06 ajacoutot Exp $
--- tests/Makefile.in.orig	Sat Sep 18 21:28:25 2010
+++ tests/Makefile.in	Mon Sep 27 14:43:37 2010
d14 9
@


1.15
log
@Major update to glib2-2.24.0.

Glib now enforces threads requirement. As a result, this commit will
break p5-Glib2 (as our perl is not threaded).
Decision was taken after a chat with naddy@@ and jasper@@ as patching our
current glib2 like hell to cope with newer packages requirements is
clearly not a good solution.
naddy is ok with this move.
@
text
@d1 6
a6 5
$OpenBSD: patch-tests_Makefile_in,v 1.14 2010/03/21 09:55:54 ajacoutot Exp $
--- tests/Makefile.in.orig	Fri Mar 26 16:01:29 2010
+++ tests/Makefile.in	Sun Mar 28 07:51:44 2010
@@@@ -738,7 +738,6 @@@@ test_programs = \
 	tree-test				\
d8 6
a13 5
 	unicode-caseconv			\
-	unicode-encoding			\
 	utf8-validate				\
 	utf8-pointer				\
 	uri-test				\
@


1.14
log
@Update to glib2-2.22.5.

tested in a bulk by jasper@@, thanks.
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.13 2009/12/01 16:13:00 ajacoutot Exp $
--- tests/Makefile.in.orig	Tue Mar 16 03:52:18 2010
+++ tests/Makefile.in	Tue Mar 16 12:41:26 2010
@@@@ -732,7 +732,6 @@@@ test_programs = \
@


1.13
log
@Maintainance update to glib2-2.22.3.
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.12 2009/10/04 18:17:13 ajacoutot Exp $
--- tests/Makefile.in.orig	Tue Dec  1 05:47:34 2009
+++ tests/Makefile.in	Tue Dec  1 16:27:56 2009
@@@@ -731,7 +731,6 @@@@ test_programs = \
@


1.12
log
@Update to version 2.22.1.

committing early so that we can work with the latest at upcoming p2k9.
any fallout, please let me know directly.
ok landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.11 2009/07/12 20:38:09 ajacoutot Exp $
--- tests/Makefile.in.orig	Wed Sep 30 03:19:02 2009
+++ tests/Makefile.in	Thu Oct  1 14:41:23 2009
@@@@ -729,7 +729,6 @@@@ test_programs = \
@


1.11
log
@- major update to glib2-2.20.4
- add missing REGRESS_DEPENDS

*remove previous version before trying to compile this*

Report any failure directly to me please.

tested by landry@@ on a sparc64 bulk, thanks!
ok jasper@@ on a previous diff
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.10 2008/11/24 16:05:03 ajacoutot Exp $
--- tests/Makefile.in.orig	Sat Jun 27 06:20:59 2009
+++ tests/Makefile.in	Wed Jul  1 12:54:00 2009
@@@@ -702,7 +702,6 @@@@ test_programs = \
@


1.10
log
@- minor update to version 2.18.3
fixes some mem leak, translation and bugs

ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.9 2008/10/27 21:28:01 landry Exp $
--- tests/Makefile.in.orig	Mon Nov 24 06:49:58 2008
+++ tests/Makefile.in	Mon Nov 24 10:14:32 2008
@@@@ -676,7 +676,6 @@@@ test_programs = \
@


1.9
log
@Major upgrade to glib 2.18.2.
It's the perfect timing to slap it in now during p2k8, and it paves the way
for the incoming gtk 2.14.4 upgrade.
Tested by bernd@@ in a mulk muild.

ok ajacoutot@@ bernd@@ 'go ahead' jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.8 2008/07/08 08:38:26 brad Exp $
--- tests/Makefile.in.orig	Thu Oct 16 16:41:11 2008
+++ tests/Makefile.in	Sat Oct 18 16:46:27 2008
@@@@ -672,7 +672,6 @@@@ test_programs = \
@


1.8
log
@Update glib2 to 2.16.4.

ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.7 2008/04/09 13:10:17 jasper Exp $
--- tests/Makefile.in.orig	Tue Jul  1 21:31:21 2008
+++ tests/Makefile.in	Wed Jul  2 05:03:57 2008
@@@@ -718,7 +718,6 @@@@ test_programs = \
@


1.7
log
@- update glib2 to 2.16.1

lots of changes, most importantly, the addition of GIO (VFS API to replace
GnomeVFS).

testing and feedback by many, thanks!

ok landry@@ merdely@@ simon@@
"go ahead" bernd@@ steven@@

(diffs to unbreak some ports will follow)
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.6 2008/02/09 17:47:34 jasper Exp $
--- tests/Makefile.in.orig	Mon Feb 11 19:21:23 2008
+++ tests/Makefile.in	Fri Feb 22 11:40:05 2008
@@@@ -714,7 +714,6 @@@@ test_programs = \
@


1.6
log
@- update glib2 to 2.14.5
  (bugfixes and updated translations)

tested in a bulk build by steven@@
ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.5 2007/12/05 14:31:24 steven Exp $
--- tests/Makefile.in.orig	Tue Jan  8 02:42:12 2008
+++ tests/Makefile.in	Fri Feb  1 00:39:45 2008
@@@@ -355,7 +355,6 @@@@ test_programs = \
@


1.5
log
@maintenance update to 2.14.4
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.4 2007/10/24 22:29:03 jasper Exp $
--- tests/Makefile.in.orig	Sat Nov 24 07:41:57 2007
+++ tests/Makefile.in	Sun Nov 25 22:47:55 2007
@@@@ -356,7 +356,6 @@@@ test_programs = \
@


1.4
log
@- update glib2 to 2.14.2
- don't use the local pcre, but use pcre from ports

with tweaks from wilfried@@ (pcre and static libs)
ok steven@@
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.3 2007/04/23 16:22:07 jasper Exp $
--- tests/Makefile.in.orig	Sun Sep 16 18:29:42 2007
+++ tests/Makefile.in	Tue Oct  2 20:47:04 2007
@@@@ -355,7 +355,6 @@@@ test_programs = \
@


1.3
log
@update glib2 to 2.12.11

based on diffs by alek@@

ok'd by several, "go ahead" steven@@
tested by many, thanks!
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.2 2006/05/22 01:39:36 brad Exp $
--- tests/Makefile.in.orig	Fri Mar  9 05:04:20 2007
+++ tests/Makefile.in	Fri Apr 20 19:02:41 2007
@@@@ -335,7 +335,6 @@@@ test_programs = \
d11 1
a11 1
 	uri-test
@


1.2
log
@Update glib2 to 2.10.2.
@
text
@d1 4
a4 4
$OpenBSD: patch-tests_Makefile_in,v 1.1 2005/11/13 06:22:03 marcm Exp $
--- tests/Makefile.in.orig	Fri Apr  7 08:35:32 2006
+++ tests/Makefile.in	Fri Apr 28 23:41:43 2006
@@@@ -329,7 +329,6 @@@@ test_programs = \
@


1.1
log
@Update glib2 to 2.8.3.  Part of the update to the GTK 2.8 series.

Glib 2.8 Release notes are here:
http://mail.gnome.org/archives/gnome-announce-list/2005-August/msg00048.html
@
text
@d1 4
a4 4
$OpenBSD$
--- tests/Makefile.in.orig	Mon Oct 31 21:43:50 2005
+++ tests/Makefile.in	Mon Oct 31 21:44:06 2005
@@@@ -328,7 +328,6 @@@@ test_programs = \
d10 1
a11 1
 
@

