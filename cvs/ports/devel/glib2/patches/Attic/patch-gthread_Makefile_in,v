head	1.11;
access;
symbols
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_3_9:1.5.0.2
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_5:1.3.0.4
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.1.0.4
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.2
	OPENBSD_3_2_BASE:1.1;
locks; strict;
comment	@# @;


1.11
date	2011.05.28.21.15.47;	author ajacoutot;	state dead;
branches;
next	1.10;

1.10
date	2011.03.07.19.17.14;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.14.15.56.55;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.11.20.41.44;	author kili;	state Exp;
branches;
next	1.7;

1.7
date	2006.05.28.10.07.25;	author steven;	state dead;
branches;
next	1.6;

1.6
date	2006.05.22.01.39.36;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2005.12.28.06.25.27;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2004.06.22.03.15.03;	author marcm;	state dead;
branches;
next	1.3;

1.3
date	2003.06.30.03.55.29;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.04.17.05.55.42;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2002.08.07.13.11.53;	author nino;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Summer cleaning:
* use MODPY_ADJ_FILES
* use REGRESS_FLAGS instead of 4 patches...
* use post-install to remove files we don't ship, 2 less patches
* install gtester-report(1) -- it's a python script but we do not
  enforce a run dependency on python
@
text
@$OpenBSD: patch-gthread_Makefile_in,v 1.10 2011/03/07 19:17:14 ajacoutot Exp $
--- gthread/Makefile.in.orig	Sat Jan 29 03:46:13 2011
+++ gthread/Makefile.in	Mon Jan 31 10:14:44 2011
@@@@ -875,7 +875,7 @@@@ test: test-nonrecursive
 
 # test-nonrecursive: run tests only in cwd
 test-nonrecursive: ${TEST_PROGS}
-@@OS_UNIX_TRUE@@	@@test -z "${TEST_PROGS}" || MALLOC_CHECK_=2 MALLOC_PERTURB_=$$(($${RANDOM:-256} % 256)) ${GTESTER} --verbose ${TEST_PROGS}
+@@OS_UNIX_TRUE@@	@@test -z "${TEST_PROGS}" || MALLOC_CHECK_=2 MALLOC_PERTURB_=$$(($${RANDOM:-256} % 256)) ${GTESTER} -k --verbose ${TEST_PROGS}
 
 # test-report: run tests in subdirs and generate report
 # perf-report: run tests in subdirs with -m perf and generate report
@


1.10
log
@Major update to glib2-2.28.2.

This (and the related 20 to 30 updates) has been tested twice in a bulk
by landry@@, thanks!
Runtime testing by myself under heavy GNOME usage...
@
text
@d1 1
a1 1
$OpenBSD: patch-gthread_Makefile_in,v 1.9 2010/11/14 15:56:55 ajacoutot Exp $
@


1.9
log
@Bugfix update to glib2-2.26.1.
Amongst other things, fixes an issue with GSettings on big endian.
@
text
@d1 4
a4 4
$OpenBSD: patch-gthread_Makefile_in,v 1.8 2010/10/11 20:41:44 kili Exp $
--- gthread/Makefile.in.orig	Sun Nov 14 07:02:02 2010
+++ gthread/Makefile.in	Sun Nov 14 16:14:34 2010
@@@@ -872,7 +872,7 @@@@ test: test-nonrecursive
@


1.8
log
@Try to run as much tests as possible, don't stop at the first
failed regression test.

ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD$
--- gthread/Makefile.in.orig	Mon Sep 27 18:10:13 2010
+++ gthread/Makefile.in	Sun Oct 10 14:41:31 2010
@@@@ -871,7 +871,7 @@@@ test: test-nonrecursive
@


1.7
log
@remove obsolete shared libs patches.  ok bernd@@
@
text
@d1 4
a4 10
$OpenBSD: patch-gthread_Makefile_in,v 1.6 2006/05/22 01:39:36 brad Exp $
--- gthread/Makefile.in.orig	Fri Apr  7 08:35:31 2006
+++ gthread/Makefile.in	Fri Apr 28 23:41:43 2006
@@@@ -273,7 +273,7 @@@@ lib_LTLIBRARIES = libgthread-2.0.la
 libgthread_2_0_la_SOURCES = gthread-impl.c
 libgthread_2_0_la_LDFLAGS = \
 	$(gthread_win32_res_ldflag) \
-	-version-info $(LT_CURRENT):$(LT_REVISION):$(LT_AGE) \
+	$(libgthread-2.0_la_LDFLAGS) \
 	-export-dynamic $(no_undefined) $(export_symbols)
d6 4
d11 2
@


1.6
log
@Update glib2 to 2.10.2.
@
text
@d1 1
a1 1
$OpenBSD: patch-gthread_Makefile_in,v 1.5 2005/12/28 06:25:27 marcm Exp $
@


1.5
log
@Wee, other half of buggered commit...

Update to 2.8.4
USE_LIBTOOL
SHARED_LIBS

OK bernd@@
@
text
@d1 4
a4 4
$OpenBSD$
--- gthread/Makefile.in.orig	Sat Dec 24 13:59:14 2005
+++ gthread/Makefile.in	Sat Dec 24 13:59:41 2005
@@@@ -275,7 +275,7 @@@@ lib_LTLIBRARIES = libgthread-2.0.la
@


1.4
log
@Update to gtk+ 2.4.3 and friends.

Note: this will cause breakage in ports that set the various
*_DISABLE_DEPRECATED defines for gtk.  These weill be addressed
shortly.

ok pvalchev@@
@
text
@d1 4
a4 5
$OpenBSD: patch-gthread_Makefile_in,v 1.3 2003/06/30 03:55:29 marcm Exp $
--- gthread/Makefile.in.orig	Sun Jun  8 09:42:59 2003
+++ gthread/Makefile.in	Thu Jun 19 08:15:48 2003
@@@@ -179,7 +179,7 @@@@ lib_LTLIBRARIES = libgthread-2.0.la
 
d7 1
d9 1
a9 1
+	-version-info $(OBSD_LIB_VERSION) \
@


1.3
log
@Update to 2.2.2, a bugfix release.  This also fixes regression tests.
@
text
@d1 1
a1 1
$OpenBSD: patch-gthread_Makefile_in,v 1.2 2003/04/17 05:55:42 marcm Exp $
@


1.2
log
@Update to 2.2.1, the latest stable version in the 2.2 series.
@
text
@d1 4
a4 4
$OpenBSD: patch-gthread_Makefile_in,v 1.1 2002/08/07 13:11:53 nino Exp $
--- gthread/Makefile.in.orig	Tue Jan 28 14:20:35 2003
+++ gthread/Makefile.in	Tue Feb 25 07:46:00 2003
@@@@ -172,7 +172,7 @@@@ lib_LTLIBRARIES = libgthread-2.0.la
d9 1
a9 1
+	-version-info $(LIBGTHREAD_VERSION) \
@


1.1
log
@Update to 2.0.6, make it aware of our MAX/MIN macros and make library
versions controllable from the makefile.
@
text
@d1 4
a4 4
$OpenBSD$
--- gthread/Makefile.in.orig	Wed Aug  7 13:35:56 2002
+++ gthread/Makefile.in	Wed Aug  7 13:36:42 2002
@@@@ -183,7 +183,7 @@@@ lib_LTLIBRARIES = libgthread-2.0.la
@

