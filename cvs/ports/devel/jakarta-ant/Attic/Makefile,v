head	1.8;
access;
symbols
	OPENBSD_3_4:1.7.0.4
	OPENBSD_3_4_BASE:1.7
	OPENBSD_3_3:1.7.0.2
	OPENBSD_3_3_BASE:1.7
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.1.1.1.0.2
	OPENBSD_3_0_BASE:1.1.1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	fkr_20010617:1.1.1.1
	reinhard:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2004.01.03.13.41.18;	author sturm;	state dead;
branches;
next	1.7;

1.7
date	2003.02.08.15.38.34;	author reinhard;	state Exp;
branches;
next	1.6;

1.6
date	2002.12.01.02.20.18;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2002.11.18.23.29.56;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2002.10.25.22.37.52;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2002.08.02.16.14.27;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.11.13.22.13.23;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.06.17.12.15.48;	author reinhard;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.06.17.12.15.48;	author reinhard;	state Exp;
branches;
next	;


desc
@@


1.8
log
@-jakarta-ant
+apache-ant
@
text
@# $OpenBSD: Makefile,v 1.7 2003/02/08 15:38:34 reinhard Exp $

ONLY_FOR_ARCHS= i386

COMMENT=        "java equivalent to make"

V=		1.5.1
DISTNAME=	jakarta-ant-${V}
CATEGORIES=	devel

HOMEPAGE=	http://jakarta.apache.org/ant/

MAINTAINER=	Reinhard J. Sammer <reinhard@@openbsd.org>

# Apache Software License
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	http://jakarta.apache.org/builds/jakarta-ant/release/v${V}/bin/
EXTRACT_SUFX=	-bin.tar.gz

BUILD_DEPENDS=	::archivers/gtar
RUN_DEPENDS=	:jdk*->=1.1:devel/jdk/1.3-linux

NO_BUILD=	Yes
NO_REGRESS=	Yes

TAR=		${LOCALBASE}/bin/gtar

ANTDOCS=	${PREFIX}/share/doc/java/ant
TXT=		README WHATSNEW

post-patch:
	@@cd ${WRKSRC}/bin && perl -pi -e 's|_anthome_|${PREFIX}/bin|' ant
	@@cd ${WRKSRC}/bin && perl -pi -e 's|_antlibs_|${PREFIX}/lib/java/ant|' ant
	@@cd ${WRKSRC}/bin && perl -pi -e 's|_antlibs_|"${PREFIX}/lib/java/ant"|' runant.pl

do-install:
	@@cd ${WRKDIST}/bin && \
		${INSTALL_SCRIPT} ant antRun runant.pl ${PREFIX}/bin
	@@${INSTALL_DATA_DIR} ${ANTDOCS}
	@@cp -Rp ${WRKDIST}/docs/* ${ANTDOCS}
	@@${INSTALL_DATA_DIR} ${PREFIX}/lib/java/ant
	@@cd ${WRKDIST}/lib && ${INSTALL_DATA} *.jar ${PREFIX}/lib/java/ant
	@@cd ${WRKDIST} && ${INSTALL_DATA} ${TXT} ${ANTDOCS}

.include <bsd.port.mk>
@


1.7
log
@update to ant v1.5.1;
*) take MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/12/01 02:20:18 naddy Exp $
@


1.6
log
@- Fix PLIST now that file names >100 chars aren't truncated any longer.
- Some clean-up.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/11/18 23:29:56 naddy Exp $
d7 3
a9 2
DISTNAME=       jakarta-ant-1.3
CATEGORIES=     devel
d11 3
a13 1
HOMEPAGE=       http://jakarta.apache.org/ant/
d16 4
a19 4
PERMIT_PACKAGE_CDROM=   Yes
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
d21 1
a21 1
MASTER_SITES=	http://jakarta.apache.org/builds/jakarta-ant/release/v1.3/bin/
d24 2
a25 1
RUN_DEPENDS=    ::devel/jdk/1.2-blackdown
d27 1
a27 1
NO_BUILD=       Yes
d30 4
a33 2
ANTDIR=	${PREFIX}/share/doc/java/${PKGNAME}
TXT=	LICENSE README TODO WHATSNEW
d37 2
a38 3
	@@cd ${WRKSRC}/bin && perl -pi -e 's|_antlibs_|${PREFIX}/lib/java|' ant
	@@cd ${WRKSRC}/bin && perl -pi -e 's|_antlibs_|"${PREFIX}/lib/java"|' runant.pl
	@@cd ${WRKSRC}/bin && perl -pi -e 's|\r||' runant.pl
a40 1
	@@${INSTALL_DATA_DIR} ${ANTDIR}
d43 2
a44 2
	@@${INSTALL_DATA_DIR} ${ANTDIR}/docs
	@@cd ${WRKDIST} && tar cf - docs | (cd ${ANTDIR} && tar -xf -)
d47 1
a47 1
	@@cd ${WRKDIST} && ${INSTALL_DATA} ${TXT} ${ANTDIR}
@


1.5
log
@return to ports@@; requested by (former) maintainer
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.4 2002/10/25 22:37:52 naddy Exp $
a7 1
DISTFILES=	jakarta-ant-1.3-bin.tar.gz
a9 2
MASTER_SITES=	http://jakarta.apache.org/builds/jakarta-ant/release/v1.3/bin/

a11 4
# XXX: USE_JAVA=TBD
JAVA_HOME=	${LOCALBASE}/jdk1.2-blackdown
RUN_DEPENDS=    ::devel/jdk/1.2-blackdown

d18 5
a22 1
ONLY_FOR_ARCHS= i386
a25 4
# this will strip trailing-spaces off the file-names
TAR=tar -s '/ $$//g' -xzf
EXTRACT_ONLY=

a27 3

post-extract:
	@@cd ${WRKDIR} && exec ${TAR} ${FULLDISTDIR}/${DISTFILES}
@


1.4
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/08/02 16:14:27 naddy Exp $
a11 2

MAINTAINER=     Felix Kronlage <fkr@@grummel.net>
@


1.3
log
@replace verbatim control characters
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/11/13 22:13:23 espie Exp $
d8 1
a8 1
NEED_VERSION=   1.496
d27 1
@


1.2
log
@Kill remaining RUN_DEPENDS/BUILD_DEPENDS first parters.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/06/17 12:15:48 reinhard Exp $
d42 1
a42 1
	@@cd ${WRKSRC}/bin && perl -pi -e 's|||' runant.pl
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: $
d8 1
a8 1
NEED_VERSION=   1.414
d17 1
a17 1
RUN_DEPENDS=    ${JAVA_HOME}/bin/java::devel/jdk/1.2-blackdown
@


1.1.1.1
log
@Ant is a Java based build tool. In theory it is kind of like make
without make's wrinkles.

MAINTAINER=     Felix Kronlage <fkr@@grummel.net>
@
text
@@
