head	1.3;
access;
symbols
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2002.05.28.14.14.15;	author espie;	state dead;
branches;
next	1.2;

1.2
date	2002.01.07.00.55.31;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2001.10.14.23.14.27;	author drahn;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Bump to new releases.
libdvdread can now use an official libdvdcss.
@
text
@$OpenBSD: patch-dvdread_dvd_reader_c,v 1.2 2002/01/07 00:55:31 pvalchev Exp $
--- dvdread/dvd_reader.c.orig	Tue Oct  9 14:07:40 2001
+++ dvdread/dvd_reader.c	Mon Dec  3 11:15:08 2001
@@@@ -116,7 +116,7 @@@@ static void setupCSS( void )
             fprintf( stderr, "libdvdread: Can't open libdvdcss: %s.\n",
                      dlerror() );
         } else {
-#if defined(__OpenBSD__)
+#if defined(__OpenBSD__) && !defined (__ELF__)
 #define U_S "_"
 #else
 #define U_S
@@@@ -844,7 +844,7 @@@@ static int64_t DVDReadBlocksUDF( dvd_fil
                          block_count, data, DVDCSS_READ_DECRYPT );
 }
 
-static int64_t DVDReadBlocksPath( dvd_file_t *dvd_file, size_t offset,
+static int64_t DVDReadBlocksPath( dvd_file_t *dvd_file, uint32_t offset,
 				  size_t block_count, unsigned char *data )
 {
     int i;
@


1.2
log
@fix 64bit issues noticed on alpha; no response from maintainer
@
text
@d1 1
a1 1
$OpenBSD: patch-dvdread_dvd_reader_c,v 1.1 2001/10/14 23:14:27 drahn Exp $
@


1.1
log
@Change libdvdread for USE_LIBTOOL=Yes, build better for ELF systems.
and do not prepend leading '_' for ELF systems.
ok espie@@
@
text
@d1 3
a3 3
$OpenBSD$
--- dvdread/dvd_reader.c.orig	Tue Oct  9 15:07:40 2001
+++ dvdread/dvd_reader.c	Sun Oct 14 15:58:29 2001
d13 9
@

