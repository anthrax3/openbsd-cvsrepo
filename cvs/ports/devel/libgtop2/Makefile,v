head	1.137;
access;
symbols
	OPENBSD_6_2:1.137.0.2
	OPENBSD_6_2_BASE:1.137
	OPENBSD_6_1:1.136.0.2
	OPENBSD_6_1_BASE:1.136
	OPENBSD_6_0:1.134.0.2
	OPENBSD_6_0_BASE:1.134
	OPENBSD_5_9:1.133.0.2
	OPENBSD_5_9_BASE:1.133
	OPENBSD_5_8:1.130.0.4
	OPENBSD_5_8_BASE:1.130
	OPENBSD_5_7:1.129.0.2
	OPENBSD_5_7_BASE:1.129
	OPENBSD_5_6:1.128.0.2
	OPENBSD_5_6_BASE:1.128
	OPENBSD_5_5:1.115.0.2
	OPENBSD_5_5_BASE:1.115
	OPENBSD_5_4:1.101.0.2
	OPENBSD_5_4_BASE:1.101
	OPENBSD_5_3:1.95.0.2
	OPENBSD_5_3_BASE:1.95
	OPENBSD_5_2:1.94.0.2
	OPENBSD_5_2_BASE:1.94
	OPENBSD_5_1_BASE:1.93
	OPENBSD_5_1:1.93.0.2
	OPENBSD_5_0:1.81.0.2
	OPENBSD_5_0_BASE:1.81
	OPENBSD_4_9:1.55.0.2
	OPENBSD_4_9_BASE:1.55
	OPENBSD_4_8:1.47.0.2
	OPENBSD_4_8_BASE:1.47
	OPENBSD_4_7:1.36.0.2
	OPENBSD_4_7_BASE:1.36
	OPENBSD_4_6:1.32.0.2
	OPENBSD_4_6_BASE:1.32
	OPENBSD_4_5:1.31.0.4
	OPENBSD_4_5_BASE:1.31
	OPENBSD_4_4:1.31.0.2
	OPENBSD_4_4_BASE:1.31
	OPENBSD_4_3:1.30.0.2
	OPENBSD_4_3_BASE:1.30
	OPENBSD_4_2:1.26.0.2
	OPENBSD_4_2_BASE:1.26
	OPENBSD_4_1:1.25.0.2
	OPENBSD_4_1_BASE:1.25
	OPENBSD_4_0:1.18.0.2
	OPENBSD_4_0_BASE:1.18
	OPENBSD_3_9:1.17.0.2
	OPENBSD_3_9_BASE:1.17
	OPENBSD_3_8:1.15.0.2
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.14.0.2
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.10.0.2
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.7.0.2
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.4.0.2
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2
	todd_20030131:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.137
date	2017.04.17.09.23.55;	author jasper;	state Exp;
branches;
next	1.136;
commitid	XaUpJvA9drNSlhcq;

1.136
date	2016.10.03.12.11.29;	author dlg;	state Exp;
branches;
next	1.135;
commitid	OglW3akjFBbNuSTg;

1.135
date	2016.08.21.09.49.41;	author jasper;	state Exp;
branches;
next	1.134;
commitid	V0rGjVruehUWX8h2;

1.134
date	2016.04.20.06.20.38;	author jasper;	state Exp;
branches;
next	1.133;
commitid	t93j0n2r5bzxZbbK;

1.133
date	2016.01.12.16.38.29;	author ajacoutot;	state Exp;
branches;
next	1.132;
commitid	DGHaDj6t1ZCXgkak;

1.132
date	2015.12.11.14.07.30;	author jasper;	state Exp;
branches;
next	1.131;
commitid	CWQNOsQpFRBLZIfv;

1.131
date	2015.12.06.15.19.49;	author mpi;	state Exp;
branches;
next	1.130;
commitid	NRH2KxbWDOCpHnv1;

1.130
date	2015.05.22.11.31.13;	author ajacoutot;	state Exp;
branches;
next	1.129;
commitid	2khjHXfpTaOuNVcx;

1.129
date	2014.09.08.07.35.31;	author jasper;	state Exp;
branches;
next	1.128;
commitid	gZMtsdACf0GjjtlU;

1.128
date	2014.07.12.13.32.48;	author robert;	state Exp;
branches;
next	1.127;
commitid	hTqxomGo3soI02NO;

1.127
date	2014.07.11.16.57.55;	author robert;	state Exp;
branches;
next	1.126;
commitid	nALFlAz0AhZD6Ht8;

1.126
date	2014.04.29.06.27.57;	author jasper;	state Exp;
branches;
next	1.125;

1.125
date	2014.04.15.08.49.10;	author ajacoutot;	state Exp;
branches;
next	1.124;

1.124
date	2014.04.08.18.55.59;	author naddy;	state Exp;
branches;
next	1.123;

1.123
date	2014.04.02.09.36.10;	author jasper;	state Exp;
branches;
next	1.122;

1.122
date	2014.04.01.19.38.36;	author jasper;	state Exp;
branches;
next	1.121;

1.121
date	2014.04.01.19.36.10;	author jasper;	state Exp;
branches;
next	1.120;

1.120
date	2014.04.01.18.06.28;	author jasper;	state Exp;
branches;
next	1.119;

1.119
date	2014.04.01.15.31.45;	author jasper;	state Exp;
branches;
next	1.118;

1.118
date	2014.03.31.09.34.52;	author ajacoutot;	state Exp;
branches;
next	1.117;

1.117
date	2014.03.28.13.30.18;	author ajacoutot;	state Exp;
branches;
next	1.116;

1.116
date	2014.03.28.12.36.29;	author jasper;	state Exp;
branches;
next	1.115;

1.115
date	2014.02.08.10.55.31;	author ajacoutot;	state Exp;
branches;
next	1.114;

1.114
date	2014.02.03.13.46.19;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2014.02.02.11.33.45;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2014.02.01.18.11.43;	author ajacoutot;	state Exp;
branches;
next	1.111;

1.111
date	2014.01.23.14.06.34;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2013.12.09.16.55.26;	author ajacoutot;	state Exp;
branches;
next	1.109;

1.109
date	2013.12.09.14.26.56;	author robert;	state Exp;
branches;
next	1.108;

1.108
date	2013.11.26.21.56.52;	author jca;	state Exp;
branches;
next	1.107;

1.107
date	2013.11.26.12.01.19;	author sthen;	state Exp;
branches;
next	1.106;

1.106
date	2013.11.19.07.30.58;	author robert;	state Exp;
branches;
next	1.105;

1.105
date	2013.10.16.15.04.07;	author bluhm;	state Exp;
branches;
next	1.104;

1.104
date	2013.09.28.08.50.35;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2013.09.26.12.48.01;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2013.08.26.08.43.14;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2013.07.09.12.24.19;	author sthen;	state Exp;
branches;
next	1.100;

1.100
date	2013.06.08.13.05.13;	author espie;	state Exp;
branches;
next	1.99;

1.99
date	2013.05.21.15.11.43;	author naddy;	state Exp;
branches;
next	1.98;

1.98
date	2013.04.16.13.17.00;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2013.03.27.07.57.38;	author jasper;	state Exp;
branches;
next	1.96;

1.96
date	2013.03.11.10.50.10;	author espie;	state Exp;
branches;
next	1.95;

1.95
date	2012.09.01.14.36.57;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2012.03.11.08.45.24;	author ajacoutot;	state Exp;
branches;
next	1.93;

1.93
date	2012.01.09.16.45.20;	author robert;	state Exp;
branches;
next	1.92;

1.92
date	2011.11.15.23.30.30;	author sthen;	state Exp;
branches;
next	1.91;

1.91
date	2011.09.28.09.51.35;	author jasper;	state Exp;
branches;
next	1.90;

1.90
date	2011.09.26.11.04.06;	author jasper;	state Exp;
branches;
next	1.89;

1.89
date	2011.09.20.21.04.24;	author jasper;	state Exp;
branches;
next	1.88;

1.88
date	2011.09.20.20.51.51;	author jasper;	state Exp;
branches;
next	1.87;

1.87
date	2011.09.18.11.24.58;	author jasper;	state Exp;
branches;
next	1.86;

1.86
date	2011.09.17.17.43.44;	author jasper;	state Exp;
branches;
next	1.85;

1.85
date	2011.09.16.09.24.52;	author espie;	state Exp;
branches;
next	1.84;

1.84
date	2011.09.12.12.07.25;	author jasper;	state Exp;
branches;
next	1.83;

1.83
date	2011.08.30.12.24.52;	author jasper;	state Exp;
branches;
next	1.82;

1.82
date	2011.08.17.12.34.47;	author jasper;	state Exp;
branches;
next	1.81;

1.81
date	2011.07.10.15.23.01;	author jasper;	state Exp;
branches;
next	1.80;

1.80
date	2011.07.10.14.42.39;	author jasper;	state Exp;
branches;
next	1.79;

1.79
date	2011.07.09.08.04.14;	author jasper;	state Exp;
branches;
next	1.78;

1.78
date	2011.06.20.11.48.39;	author jasper;	state Exp;
branches;
next	1.77;

1.77
date	2011.06.20.09.50.04;	author jasper;	state Exp;
branches;
next	1.76;

1.76
date	2011.06.06.17.12.12;	author jasper;	state Exp;
branches;
next	1.75;

1.75
date	2011.06.01.07.24.49;	author jasper;	state Exp;
branches;
next	1.74;

1.74
date	2011.05.31.19.25.31;	author jasper;	state Exp;
branches;
next	1.73;

1.73
date	2011.05.31.18.06.28;	author jasper;	state Exp;
branches;
next	1.72;

1.72
date	2011.05.31.14.19.18;	author jasper;	state Exp;
branches;
next	1.71;

1.71
date	2011.05.31.14.02.26;	author jasper;	state Exp;
branches;
next	1.70;

1.70
date	2011.05.31.13.47.56;	author jasper;	state Exp;
branches;
next	1.69;

1.69
date	2011.05.26.17.47.24;	author jasper;	state Exp;
branches;
next	1.68;

1.68
date	2011.05.26.08.07.21;	author jasper;	state Exp;
branches;
next	1.67;

1.67
date	2011.05.26.07.28.51;	author jasper;	state Exp;
branches;
next	1.66;

1.66
date	2011.05.25.10.44.34;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2011.05.24.12.37.15;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2011.05.24.11.21.56;	author jasper;	state Exp;
branches;
next	1.63;

1.63
date	2011.05.24.10.40.47;	author jasper;	state Exp;
branches;
next	1.62;

1.62
date	2011.05.24.08.48.22;	author jasper;	state Exp;
branches;
next	1.61;

1.61
date	2011.05.23.21.26.41;	author jasper;	state Exp;
branches;
next	1.60;

1.60
date	2011.05.23.19.31.19;	author jasper;	state Exp;
branches;
next	1.59;

1.59
date	2011.05.23.18.09.10;	author jasper;	state Exp;
branches;
next	1.58;

1.58
date	2011.04.16.21.28.35;	author jasper;	state Exp;
branches;
next	1.57;

1.57
date	2011.04.07.08.09.35;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2011.03.25.16.16.32;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2010.12.02.09.15.25;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2010.11.15.19.45.59;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2010.11.08.09.57.40;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2010.10.27.12.52.42;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2010.10.26.09.44.59;	author sthen;	state Exp;
branches;
next	1.50;

1.50
date	2010.10.24.21.10.58;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2010.09.30.07.44.35;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2010.09.18.09.14.17;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2010.04.18.12.51.44;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2010.04.18.12.34.00;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2010.04.18.12.32.09;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2010.04.18.09.49.22;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2010.04.17.14.44.18;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2010.04.17.12.05.13;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2010.04.17.11.46.41;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.04.17.07.51.01;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.04.11.12.38.56;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2010.04.08.15.57.46;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2010.03.30.16.24.24;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.01.18.09.27.00;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2009.11.02.20.19.06;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2009.10.16.10.56.04;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2009.10.12.10.18.32;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2009.06.28.13.49.49;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2008.03.17.08.38.31;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2008.02.09.16.52.24;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2007.12.28.14.31.52;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2007.11.13.14.06.21;	author steven;	state Exp;
branches;
next	1.27;

1.27
date	2007.09.16.02.53.00;	author merdely;	state Exp;
branches;
next	1.26;

1.26
date	2007.04.20.15.08.06;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2007.02.21.17.27.54;	author steven;	state Exp;
branches;
next	1.24;

1.24
date	2007.02.03.11.42.18;	author sturm;	state Exp;
branches;
next	1.23;

1.23
date	2007.01.23.11.00.12;	author bernd;	state Exp;
branches;
next	1.22;

1.22
date	2007.01.18.19.31.34;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2006.10.28.11.19.21;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2006.09.18.11.50.39;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2006.04.02.12.21.00;	author sturm;	state Exp;
branches;
next	1.17;

1.17
date	2006.02.05.18.27.00;	author bernd;	state Exp;
branches;
next	1.16;

1.16
date	2006.01.03.18.07.28;	author bernd;	state Exp;
branches;
next	1.15;

1.15
date	2005.05.25.23.28.16;	author marcm;	state Exp;
branches;
next	1.14;

1.14
date	2004.12.11.17.41.52;	author marcm;	state Exp;
branches;
next	1.13;

1.13
date	2004.12.10.20.33.59;	author marcm;	state Exp;
branches;
next	1.12;

1.12
date	2004.11.23.21.34.27;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2004.10.02.13.56.42;	author sturm;	state Exp;
branches;
next	1.10;

1.10
date	2004.08.10.12.42.22;	author xsa;	state Exp;
branches;
next	1.9;

1.9
date	2004.08.01.06.06.35;	author marcm;	state Exp;
branches;
next	1.8;

1.8
date	2004.04.20.21.57.53;	author marcm;	state Exp;
branches;
next	1.7;

1.7
date	2004.02.10.00.47.57;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2003.12.01.04.08.56;	author marcm;	state Exp;
branches;
next	1.5;

1.5
date	2003.10.07.05.47.57;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.08.06.20.44.09;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.06.12.19.39.57;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.06.05.44.22;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.31.18.35.57;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.31.18.35.57;	author todd;	state Exp;
branches;
next	;


desc
@@


1.137
log
@update to libgtop-2.36.0 (still broken, but a more recent base to fix it on)
@
text
@# $OpenBSD: Makefile,v 1.136 2016/10/03 12:11:29 dlg Exp $

COMMENT=		portable library for obtaining system information

GNOME_VERSION=		2.36.0
GNOME_PROJECT=		libgtop
PKGNAME=		libgtop2-${VERSION}

SHARED_LIBS=		gtop-2.0	10.0	# .10.0

CATEGORIES=		devel

MAINTAINER=		Jasper Lievisse Adriaanse <jasper@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += Xau c ffi glib-2.0 gobject-2.0 iconv intl kvm pcre
WANTLIB += pthread

MODULES=		x11/gnome

LIB_DEPENDS=		devel/glib2

MODGNOME_TOOLS +=	gobject-introspection

CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		GMSGFMT="${LOCALBASE}/bin/msgfmt" \
			ac_cv_header_sys_mount_h=yes

.ifdef DEBUG
CONFIGURE_ARGS+=	--enable-debug
CPPFLAGS+=		-DDEBUG \
			-DLIBGTOP_ENABLE_DEBUG \
			-DLIBGTOP_FATAL_WARNINGS
.endif

.include <bsd.port.mk>
@


1.136
log
@gut the procmap functionality so this can build.

i broke it by moving uvm datastructures from RB macros to RBT
functions. gutting libgtop2 basically means make it return an empty
list of mappings.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2016/08/21 09:49:41 jasper Exp $
d5 1
a5 1
GNOME_VERSION=		2.34.1
a7 1
REVISION=		0
@


1.135
log
@update to libgtop-2.34.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2016/04/20 06:20:38 jasper Exp $
d8 1
@


1.134
log
@update to libgtop-2.34.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2016/01/12 16:38:29 ajacoutot Exp $
d5 1
a5 1
GNOME_VERSION=		2.34.0
@


1.133
log
@openbsd: only PID 1 is special (upstream)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2015/12/11 14:07:30 jasper Exp $
d5 1
a5 1
GNOME_VERSION=		2.32.0
a7 1
REVISION=		0
d18 2
a19 1
WANTLIB += Xau c ffi glib-2.0 gobject-2.0 kvm pcre pthread
d21 1
a21 2
MODULES=		devel/gettext \
			x11/gnome
@


1.132
log
@- update to libgtop2-2.32.0
* various changes, mostly upstream rototilling code
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2015/12/06 15:19:49 mpi Exp $
d8 1
@


1.131
log
@Rewrite glibtop_get_netload_p() to use getifaddrs(3) instead of KVM.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2015/05/22 11:31:13 ajacoutot Exp $
d5 1
a5 1
GNOME_VERSION=		2.30.0
d9 1
a9 3
REVISION=		4

SHARED_LIBS=		gtop-2.0	9.0	# .10.0
d18 1
a18 1
WANTLIB += Xau c kvm pcre pthread glib-2.0
@


1.130
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2014/09/08 07:35:31 jasper Exp $
d9 1
a9 1
REVISION=		3
@


1.129
log
@unbreak with upcoming dkstat.h removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2014/07/12 13:32:48 robert Exp $
d9 1
a9 1
REVISION=		2
@


1.128
log
@remove bogous --without-libgtop-smp flag which only disables smp support in
the tests

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2014/07/11 16:57:55 robert Exp $
d9 1
a9 1
REVISION=		1
@


1.127
log
@add SMP support to libgtop
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2014/04/29 06:27:57 jasper Exp $
d9 1
a9 1
REVISION=		0
a29 1
CONFIGURE_ARGS+= 	--without-libgtop-smp
@


1.126
log
@update to libgtop-2.30.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2014/04/15 08:49:10 ajacoutot Exp $
d8 2
@


1.125
log
@Remove hack now that gnome-common is fixed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2014/04/08 18:55:59 naddy Exp $
d5 1
a5 1
GNOME_VERSION=		2.28.5
a7 1
REVISION=		13
d9 1
a9 1
SHARED_LIBS=		gtop-2.0	9.0	# .9.0
a37 14

### rm at next release
MODGNOME_TOOLS +=	gtk-doc
AUTOCONF_VERSION=	2.69
AUTOMAKE_VERSION=	1.14
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/libtool \
			x11/gnome/common>=3.12.0p2
do-configure:
	cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		${CONFIGURE_ENV} ./autogen.sh ${CONFIGURE_ARGS}
###
@


1.124
log
@switch from VM_METER to VM_UVMEXP; ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2014/04/02 09:36:10 jasper Exp $
d47 1
a47 1
			x11/gnome/common
a48 2
	ln -sf ${LOCALBASE}/bin/aclocal-${AUTOMAKE_VERSION} ${WRKDIR}/bin/aclocal
	ln -sf ${LOCALBASE}/bin/automake-${AUTOMAKE_VERSION} ${WRKDIR}/bin/automake
@


1.123
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2014/04/01 19:38:36 jasper Exp $
d8 1
a8 1
REVISION=		12
@


1.122
log
@tweak previous..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2014/04/01 19:36:10 jasper Exp $
d26 1
a26 1
MODGNOME_TOOLS += 	gobject-introspection
@


1.121
log
@fix deps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2014/04/01 18:06:28 jasper Exp $
a28 1
AUTOCONF_VERSION=	2.69
d41 2
a42 1
  gtk-docAUTOCONF_VERSION=	2.69
@


1.120
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2014/04/01 15:31:45 jasper Exp $
d29 1
@


1.119
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2014/03/31 09:34:52 ajacoutot Exp $
d26 1
a26 1
MODGNOME_TOOLS= 	gobject-introspection
d41 1
a41 2
MODGNOME_TOOLS +=	gtk-doc
AUTOCONF_VERSION=	2.69
@


1.118
log
@Tweak patching a bit and regen PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2014/03/28 13:30:18 ajacoutot Exp $
d26 1
a26 1
MODGNOME_TOOLS= 	gi
@


1.117
log
@Turns out gnome-common is too clever for our stupid autotools ports...
Just symlink aclocal and friends.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2014/03/28 12:36:29 jasper Exp $
d8 1
a8 1
REVISION=		11
@


1.116
log
@bump dependency on gnome-common to ensure we have a fixed gnome-autogen.sh
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2014/02/08 10:55:31 ajacoutot Exp $
d47 1
a47 1
			x11/gnome/common>=3.12.0p0
d49 2
@


1.115
log
@Drop unecessary checks and bring glibtop_get_proc_segment from FreeBSD.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2014/02/03 13:46:19 ajacoutot Exp $
d47 1
a47 1
			x11/gnome/common
@


1.114
log
@Sync with what was committed upstream to bring us closer to what FreeBSD
does.
Properly use the OpenBSD-specific code instead of the common one.

ok jasper@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2014/02/02 11:33:45 ajacoutot Exp $
d8 1
a8 1
REVISION=		10
@


1.113
log
@Drop unneeded chunks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2014/02/01 18:11:43 ajacoutot Exp $
d8 1
a8 1
REVISION=		9
d39 14
@


1.112
log
@Better handling of p_wchan and drop useless mfs chunk.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2014/01/23 14:06:34 ajacoutot Exp $
d8 1
a8 1
REVISION=		8
@


1.111
log
@Drop all lsof related code.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2013/12/09 16:55:26 ajacoutot Exp $
d8 1
a8 1
REVISION=		7
@


1.110
log
@No need for lsof anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2013/12/09 14:26:56 robert Exp $
d8 1
a8 1
REVISION=		6
@


1.109
log
@fix several issues with libgtop2 process information code
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2013/11/26 21:56:52 jca Exp $
d8 1
a8 1
REVISION=		5
a24 1
RUN_DEPENDS=		sysutils/lsof
@


1.108
log
@Cope with net*/ headers change.  No bump needed (didn't build and last
bump was today).  ok sthen@@ jasper@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.107 2013/11/26 12:01:19 sthen Exp $

# XXX fix procmap (Memory Writable column in gnome-system-monitor); remove lsof hack
d8 1
a8 1
REVISION=		4
@


1.107
log
@remove a bunch of patches to the autoconf output script that was coping
with lack of inter-lib deps for gettext, ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2013/11/19 07:30:58 robert Exp $
d10 1
a10 1
REVISION=		3
@


1.106
log
@wchan is no longer exposed, just check if wmesg is not empty, which is done
already and then use p_wmesg instead of trying to strlcpy p_wmesg[0]
this fixes one out of two bugs of libgtop2
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2013/10/16 15:04:07 bluhm Exp $
d10 1
a10 1
REVISION=		2
@


1.105
log
@Including the header file netinet6/in6_var.h from netinet/in_var.h
automatically is bad.  To change that, a few ports must be adapted.
Do an explicit #include <netinet6/in6_var.h> when it is needed.
OK ajacoutot@@

Commit the remaining ports that were blocked by an cvs commit error
in devel/jdk/1.7/patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2013/09/28 08:50:35 ajacoutot Exp $
d10 1
a10 1
REVISION=		1
@


1.104
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2013/09/26 12:48:01 ajacoutot Exp $
d10 1
a10 1
REVISION=		0
@


1.103
log
@Add some longstanding issues with an XXX that jasper and I used to
maintain in a separate file. It will make it easier for people who want to
help to just 'grep -r XXX' under x11/gnome/ etc...

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2013/08/26 08:43:14 ajacoutot Exp $
d10 1
@


1.102
log
@Update to libgtop2-2.28.5.
No noticeable changes besides our patches being integrated upstream.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.101 2013/07/09 12:24:19 sthen Exp $
@


1.101
log
@bump; probable VFS_BCACHESTAT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2013/06/08 13:05:13 espie Exp $
d5 1
a5 1
GNOME_VERSION=		2.28.4
a7 1
REVISION=		11
@


1.100
log
@fix build after guenther moved some fields in struct proc from timeval
to timespec
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2013/05/21 15:11:43 naddy Exp $
d8 1
a8 1
REVISION=		10
@


1.99
log
@fix build after uvm_extern.h rev 1.105 and read the intended variables
ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2013/04/16 13:17:00 ajacoutot Exp $
d8 1
a8 1
REVISION=		9
@


1.98
log
@goi -> gi (gnome MODULE change).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2013/03/27 07:57:38 jasper Exp $
d8 1
a8 1
REVISION=		8
@


1.97
log
@adjust now that regular users can't read wchan anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2013/03/11 10:50:10 espie Exp $
d27 1
a27 1
MODGNOME_TOOLS= 	goi
@


1.96
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2012/09/01 14:36:57 ajacoutot Exp $
d8 1
a8 1
REVISION=		7
@


1.95
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2012/03/11 08:45:24 ajacoutot Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.94
log
@Bring back changes made for vmmap now that it's back in.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2012/01/09 16:45:20 robert Exp $
d8 1
a8 1
REVISION=		6
@


1.93
log
@fix after kinfo_proc2 removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2011/11/15 23:30:30 sthen Exp $
d8 1
a8 1
REVISION=		5
@


1.92
log
@bump; if.h changed (struct ifnet)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2011/09/28 09:51:35 jasper Exp $
d8 1
a8 1
REVISION=		4
@


1.91
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2011/09/26 11:04:06 jasper Exp $
d8 1
a8 1
REVISION=		3
@


1.90
log
@bump so this gets rebuild and we can read vfs.generic.bcstats again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2011/09/20 21:04:24 jasper Exp $
d34 1
a34 3
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib" \
			GMSGFMT="${LOCALBASE}/bin/msgfmt" \
@


1.89
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2011/09/20 20:51:51 jasper Exp $
d8 1
a8 1
REVISION=		2
@


1.88
log
@switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2011/09/18 11:24:58 jasper Exp $
d33 1
a33 2
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED} \
			--without-libgtop-smp
@


1.87
log
@allow monitoring mfs partitions too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2011/09/17 17:43:44 jasper Exp $
a26 2
BUILD_DEPENDS=		devel/gobject-introspection

d30 2
a33 2
			--disable-gtk-doc \
			--enable-introspection \
@


1.86
log
@don't bother getting info from kernel threads
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2011/09/16 09:24:52 espie Exp $
d8 1
a8 1
REVISION=		1
@


1.85
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2011/09/12 12:07:25 jasper Exp $
d8 1
a8 1
REVISION=		0
@


1.84
log
@switch the rest of the ports using gnome.port.mk over to .tar.xz where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2011/08/30 12:24:52 jasper Exp $
d8 1
@


1.83
log
@- update libgtop to 2.28.4
* openbsd now has it's own backend
- remove some patch- files that i've committed upstream too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2011/08/17 12:34:47 jasper Exp $
a19 2

EXTRACT_SUFX=		.tar.xz
@


1.82
log
@Fix error message to make it readable again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2011/07/10 15:23:01 jasper Exp $
d5 1
a5 1
GNOME_VERSION=		2.28.3
a8 2
REVISION=		25

d21 2
a48 3

post-extract:
	cp -r ${FILESDIR} ${WRKSRC}/sysdeps/openbsd/
@


1.81
log
@- decrease stack usage when retrieving memory stats
- use consistent warnings when failing sysctl(3) calls
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2011/07/10 14:42:39 jasper Exp $
d9 1
a9 1
REVISION=		24
@


1.80
log
@- retrieve and use buffercache statistics so we get a proper view
of memory usage

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2011/07/09 08:04:14 jasper Exp $
d9 1
a9 1
REVISION=		23
@


1.79
log
@- correct sysctl names in two warning messages
- rename a few variables for clarity
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2011/06/20 11:48:39 jasper Exp $
d9 1
a9 1
REVISION=		22
@


1.78
log
@- Fix scope6 and prefix6 retrieval
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2011/06/20 09:50:04 jasper Exp $
d9 1
a9 1
REVISION=		21
@


1.77
log
@- fix GLIBTOP_NETLOAD_HWADDRESS so we can retrieve the hardware address of an interface
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2011/06/06 17:12:12 jasper Exp $
d9 1
a9 1
REVISION=		20
@


1.76
log
@revert changes made for vmmap, but keep the new file around
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2011/06/01 07:24:49 jasper Exp $
d9 1
a9 1
REVISION=		19
@


1.75
log
@- implement uptime.boot_time
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2011/05/31 19:25:31 jasper Exp $
d9 1
a9 1
REVISION=		18
@


1.74
log
@- add a comment as to why we undef STAT_STATVFS now
- rename a function now it's in the openbsd implementation
- put CP_IDLE instead of 0 in uptime->idletime
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2011/05/31 18:06:28 jasper Exp $
d9 1
a9 1
REVISION=		17
@


1.73
log
@- filesystem read/write accounting works fine, so there's no reason not to export it.

fixes the "Disk" graph from gnome-applets multiload applet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2011/05/31 14:19:18 jasper Exp $
d9 1
a9 1
REVISION=		16
@


1.72
log
@make this work on 32 bit arches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2011/05/31 14:02:26 jasper Exp $
d9 1
a9 1
REVISION=		15
@


1.71
log
@- silence various warnings
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/05/31 13:47:56 jasper Exp $
d9 1
a9 1
REVISION=		14
@


1.70
log
@- slightly adjust cpu usage retrieval.

  this still doesn't work on i386 (32 bit arches?), whereas it does work
  fine on amd64, mips64el and sparc64..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/05/26 17:47:24 jasper Exp $
d9 1
a9 1
REVISION=		13
@


1.69
log
@- adjust for vmmap; we copy the full vmmap tree from the kernel into the process
memory and walk through it with RB_FOREACH.

committing on behalf of ariane@@ who wrote all the code, many thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/05/26 08:07:21 jasper Exp $
d9 1
a9 1
REVISION=		12
@


1.68
log
@revert previous, it only adds to the confusion..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/05/26 07:28:51 jasper Exp $
d9 1
a9 1
REVISION=		11
@


1.67
log
@Change the way glibtop_mem->total is calculated. Instead of adding
t_free to t_rm, just use t_rm. And use t_arm for glibtop_mem->used.

This makes things less confusing and more in line with the values
top(1) returns.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/05/25 10:44:34 jasper Exp $
d9 1
a9 1
REVISION=		10
@


1.66
log
@use the same type for temporarily storing the amount of swap, as is used
in the struct that's eventually used to export it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/05/24 12:37:15 jasper Exp $
d9 1
a9 1
REVISION=		9
@


1.65
log
@- fix cpu load calculation (was either 0% or 100%, but it seems only amd64
 is fixed now, will look at the others soon).
- take maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/05/24 11:21:56 jasper Exp $
d9 1
a9 1
REVISION=		8
@


1.64
log
@fix memory handling, instead of using 17179869183.3 GiB of RAM it's
now giving sensible values.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/05/24 10:40:47 jasper Exp $
d9 1
a9 1
REVISION=		7
d14 2
@


1.63
log
@use sysconf() instead of the deprecated getpagesize()
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/05/24 08:48:22 jasper Exp $
d9 1
a9 1
REVISION=		6
@


1.62
log
@- fix swap detection
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2011/05/23 21:26:41 jasper Exp $
d9 1
a9 1
REVISION=		5
@


1.61
log
@only try to calculate swap usage if it's enabled. still needs some work
to get a proper avail/inuse though.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2011/05/23 19:31:19 jasper Exp $
d9 1
a9 1
REVISION=		4
@


1.60
log
@don't leave os_version_code unitialized
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/05/23 18:09:10 jasper Exp $
d9 1
a9 1
REVISION=		3
@


1.59
log
@the openbsd code has diverged too much from the freebsd and generic bsd code
to be easily maintainable. so instead move it to files/ for now untill it
gets incorporated upstream.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/04/16 21:28:35 jasper Exp $
d9 1
a9 1
REVISION=		2
@


1.58
log
@- remove unnecessary NULL casts
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2011/04/07 08:09:35 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d49 1
a49 5
	cp ${FILESDIR}/procaffinity.c ${WRKSRC}/sysdeps/bsd/
	cp ${WRKSRC}/sysdeps/{freebsd,bsd}/glibtop_private.h
	cp ${WRKSRC}/sysdeps/{freebsd,bsd}/procwd.c
	cp ${WRKSRC}/sysdeps/{freebsd,bsd}/glibtop_private.c
	cp ${WRKSRC}/sysdeps/{freebsd,bsd}/procopenfiles.c
@


1.57
log
@Add introspection support (needed for on-going GNOME 3 work).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/03/25 16:16:32 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
@


1.56
log
@Maintenance update to libgtop2-2.28.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/12/02 09:15:25 ajacoutot Exp $
d9 2
d26 2
d34 1
a34 1
			--disable-introspection \
@


1.55
log
@This is not needed anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/11/15 19:45:59 espie Exp $
d5 1
a5 1
GNOME_VERSION=		2.28.2
a8 2
REVISION=		2

d30 1
@


1.54
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/11/08 09:57:40 espie Exp $
d9 1
a9 1
REVISION=		1
@


1.53
log
@kill a few libspecs in LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/10/27 12:52:42 ajacoutot Exp $
d26 2
a27 2
LIB_DEPENDS=		::devel/glib2
RUN_DEPENDS=		::sysutils/lsof
@


1.52
log
@Include sys/sched.h.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/10/26 09:44:59 sthen Exp $
d21 1
a21 1
WANTLIB += Xau c kvm pcre pthread
d26 1
a26 1
LIB_DEPENDS=		glib-2.0::devel/glib2
@


1.51
log
@use kvm_getproc2; ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/10/24 21:10:58 ajacoutot Exp $
a6 1
REVISION=		0
d8 2
@


1.50
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/09/30 07:44:35 ajacoutot Exp $
d7 1
@


1.49
log
@Update to libgtop2-2.28.2.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/09/18 09:14:17 ajacoutot Exp $
a26 1
USE_X11=		Yes
@


1.48
log
@Fix ncpu display on big endian.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/04/18 12:51:44 ajacoutot Exp $
d5 1
a5 1
GNOME_VERSION=		2.28.1
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p9
d19 1
a19 1
WANTLIB=		Xau c kvm pcre
d30 1
d34 2
a35 1
			GMSGFMT="${LOCALBASE}/bin/msgfmt"
@


1.47
log
@Missing dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/04/18 12:34:00 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p8
@


1.46
log
@Forgot to bump in previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/04/18 12:32:09 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p7
d25 1
@


1.45
log
@Implements procwd and procopenfiles using a wrapper around lsof(8)
(from FreeBSD sysdeps directory).
Merge proctime.c patch from pkgsrc.
Several other cleanings.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/04/18 09:49:22 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p6
@


1.44
log
@Reverse logic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/04/17 14:44:18 ajacoutot Exp $
d43 4
@


1.43
log
@Implement "model name" in init_sysinfo, needed for gnome-system-monitor.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/04/17 12:05:13 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p5
@


1.42
log
@Forgot this part in previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/04/17 11:46:41 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p4
@


1.41
log
@rEWORK THe syctl patch to be closer to what upstream does for other OS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/04/17 07:51:01 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p3
@


1.40
log
@We want ia_netmask here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/04/11 12:38:56 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p2
@


1.39
log
@Actually compile the procaffinity stub.
Fix a double free, found out while working on an upcoming
gnome-system-monitor port.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/04/08 15:57:46 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p1
@


1.38
log
@Remove the post-install target, we set permissions with PLIST markers.
Fix some ifdef mess in sysdeps/bsd/procmem.c.
Fix some warnings and implicit references.
Fix subnet display.
Bring a couple of patches from FreeBSD.

This is still not perfect but libgtop2 is now much more robust.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/03/30 16:24:24 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p0
@


1.37
log
@Minor update to libgtop2-2.28.1.
(only translations updates)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/01/18 09:27:00 sthen Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}
d34 7
a42 4

post-install:
	@@chgrp kmem ${PREFIX}/bin/libgtop_server2
	@@chmod 2555 ${PREFIX}/bin/libgtop_server2
@


1.36
log
@Unbreak after ia_subnet removal. ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/11/02 20:19:06 jasper Exp $
d5 1
a5 1
GNOME_VERSION=		2.28.0
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p1
@


1.35
log
@- fix a check in configure and first stab at working mountlist.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/10/16 10:56:04 jasper Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p0
@


1.34
log
@- update libgtop2 to 2.28.0
* it's not any less broken than the previous version, but at least it
gives us a recent base to hack on.

aja@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/10/12 10:18:32 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}
@


1.33
log
@Regen PLIST and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/06/28 13:49:49 ajacoutot Exp $
d5 1
a5 1
GNOME_VERSION=		2.20.1
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p2
d9 1
a9 1
SHARED_LIBS=		gtop-2.0	8.0	# .7.0
d33 3
@


1.32
log
@Bump to force update (somehow pkg_add -u didn't pick it up and a 4.5 pkg
won't work on 4.6).

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2008/03/17 08:38:31 ajacoutot Exp $
d7 2
a8 1
PKGNAME=		libgtop2-${VERSION}p1
@


1.31
log
@- cope with new statvfs support

note: this needs a *very* -current system.

from naddy@@
ok jasper@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/02/09 16:52:24 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}p0
@


1.30
log
@- update to 2.20.1
Note that it does not work better than previous in-tree version but it
will give us a better base to fix it.

joint work with jasper@@
most patches adapted from NetBSD
fsusage patch from naddy@@

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/12/28 14:31:52 jasper Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${VERSION}
d12 1
a12 1
# GPL
@


1.29
log
@- convert to use gnome.port.mk
- regen patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/11/13 14:06:21 steven Exp $
d5 1
a5 1
GNOME_VERSION=		2.14.6
d7 2
a8 2
PKGNAME=		libgtop2-${VERSION}p3
SHARED_LIBS=		gtop-2.0	7.0	# .7.0
d17 1
d23 1
a23 2
LIB_DEPENDS=		glib-2.0::devel/glib2 \
			popt::devel/popt
a24 1
USE_GMAKE=		Yes
d27 2
a28 1
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}
@


1.28
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/09/16 02:53:00 merdely Exp $
d5 3
a7 3
V=			2.14.6
DISTNAME=		libgtop-${V}
PKGNAME=		libgtop2-${V}p2
a11 5
HOMEPAGE=		http://www.gnome.org

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgtop/2.14/}
EXTRACT_SUFX=		.tar.bz2

d19 3
a21 2
MODULES=		devel/gettext
BUILD_DEPENDS=		::textproc/p5-XML-Parser
a25 1
USE_LIBTOOL=		Yes
@


1.27
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/04/20 15:08:06 jasper Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${V}p1
d22 1
a22 1
WANTLIB=		Xau c kvm
@


1.26
log
@bump shared_libs (and pkgname)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2007/02/21 17:27:54 steven Exp $
d3 1
a3 1
COMMENT=		"portable library for obtaining system information"
@


1.25
log
@fix texinfo stuff, regen patches, rerun makesum

from Moritz Grimm <mlist at scapa.dnsalias.net>

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/02/03 11:42:18 sturm Exp $
d7 2
a8 2
PKGNAME=		libgtop2-${V}p0
SHARED_LIBS=		gtop-2.0	6.0	# .7.0
@


1.24
log
@missing BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/01/23 11:00:12 bernd Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${V}
@


1.23
log
@- Fix PKGNAME. It has to be libgtop2-x.xx.x and not libgtop-x.xx.x.
- Remove useless libtool patch.
- Put locale files in the correct directory path. We don't install those
  files into ${LOCALBASE}/lib/locale...

Bad jasper@@ and ajacoutot!

Problem noticed by steven@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/01/18 19:31:34 jasper Exp $
d25 1
@


1.22
log
@update libgtop2 to 2.14.6

based on work by Alexander Wirt <alexander.wirt@@credativ.de>

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/04/02 12:21:00 sturm Exp $
d5 3
a7 1
DISTNAME=		libgtop-2.14.6
@


1.21
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/10/28 11:19:21 espie Exp $
d5 2
a6 4
V=			2.10.1
DISTNAME=		libgtop-${V}
PKGNAME=		libgtop2-${V}p2
SHARED_LIBS +=	gtop-2.0             5.0      # .5.0
d12 1
a12 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgtop/2.10/}
d20 1
a20 1
WANTLIB=		c kvm Xau
d32 2
a33 1
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.20
log
@a few more SHARED_LIBS reformat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/09/18 11:50:39 espie Exp $
a24 1
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig
@


1.19
log
@zap unneeded 0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/04/02 12:21:00 sturm Exp $
d8 1
a8 1
SHARED_LIBS=		gtop-2.0 5.0
@


1.18
log
@don't try to mess with /usr/local/bin/libgtop_server in libgtop_postinstall
correctly mark special permissions of libgtop_server2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/02/05 18:27:00 bernd Exp $
d26 1
a26 1
LIB_DEPENDS=		glib-2.0.0.0::devel/glib2 \
@


1.17
log
@Add missing libXau to WANTLIB, add USE_X11=Yes, remove needless
MODGNU_SHARED_LIBS/LIB*_ALIAS stuff and finally bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/01/03 18:07:28 bernd Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${V}p1
@


1.16
log
@- Use new SHARED_LIBS framework
- USE_LIBTOOL and bump PKGNAME where appropriate
- regen PLIST with new gettext for libgtop and libgtop2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2005/05/25 23:28:16 marcm Exp $
d7 1
a7 1
PKGNAME=		libgtop2-${V}p0
a8 2
MODGNU_SHARED_LIBS=	gtop-2.0 '-export-symbols-regex "^[^_].*"'
LIBgtop-2.0_ALIAS=	gtop_2_0
d22 1
a22 1
WANTLIB=		c kvm
d31 1
@


1.15
log
@Up to 2.10.1 for Gnome 2.10.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/12/11 17:41:52 marcm Exp $
d7 5
a11 1
PKGNAME=		libgtop2-${V}
d32 1
@


1.14
log
@CVS wasn't kind to this commit :).  Remove the zero length patches,
fix another patch that was lost in the update, oh and what the heck
update the version again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/12/10 20:33:59 marcm Exp $
d5 1
a5 1
V=			2.8.2
a10 1
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
d12 1
a12 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgtop/2.8/}
@


1.13
log
@Update the supporting Gnome ports to their Gnome 2.8 versions.

ORBit2      2.10.2 -> 2.12.0
atk          1.6.1 -> 1.8.0
gconf-editor 2.6.2 -> 2.8.2
gconf2       2.6.2 -> 2.8.1
libIDL       0.8.3 -> 0.8.4
libgsf      1.10.0 -> 1.11.1
libgtop2     2.6.0 -> 2.8.1
libwnck      2.6.2 -> 2.8.1
pango        1.4.1 -> 1.6.0
startup-notification 0.5 -> 0.7

Real work done by Francois Briere.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/11/23 21:34:27 espie Exp $
d5 1
a5 1
V=			2.8.1
d23 4
a26 4
MODULES=	devel/gettext
BUILD_DEPENDS=	:pkgconfig-*:devel/pkgconfig
LIB_DEPENDS=	glib-2.0.0.0::devel/glib2 \
		popt::devel/popt
@


1.12
log
@some more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/10/02 13:56:42 sturm Exp $
d5 1
a5 1
V=			2.6.0
d13 1
a13 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgtop/2.6/}
@


1.11
log
@BUILD_DEPENDS on pkgconfig
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/08/10 12:42:22 xsa Exp $
d21 1
@


1.10
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/08/01 06:06:35 marcm Exp $
d23 1
@


1.9
log
@Update to 2.6.0.  Get rid of the custom OpenBSD support from the
former nino@@ that has been a part of this port for some time.
Updates to the internal API finally broke it, but a huge thanks
to Nils for his work there (thanks Nils!).

Now we use the Free/NetBSD support as a base and patch from there :).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/04/20 21:57:53 marcm Exp $
d22 1
a22 1
MODULES=	gettext
@


1.8
log
@Bye-bye autotools kludge... prodded by naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/02/10 00:47:57 espie Exp $
d5 1
a5 1
V=			2.0.7
d13 2
a14 6
SYSDEPS=		openbsd-libgtop-020830
DISTFILES=		${DISTNAME}.tar.bz2 \
			${SYSDEPS}.tar.gz:0

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgtop/2.0/}
MASTER_SITES0=		http://nforced.com/openbsd/distfiles/
a25 1
SEPARATE_BUILD=		concurrent
d27 1
a27 2
CONFIGURE_STYLE= 	autoconf
AUTOCONF_VERSION=	2.57
d32 3
a34 2
post-extract:
	@@mv ${WRKDIR}/${SYSDEPS} ${WRKSRC}/sysdeps/openbsd
@


1.7
log
@try to prevent automake from running, if present.
even if it runs, ensure the OpenBSD setup will be recognized.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/12/01 04:08:56 marcm Exp $
a39 4

post-configure:
	@@touch ${WRKSRC}/Makefile.in
	@@touch ${WRKBUILD}/Makefile
@


1.6
log
@Update to 2.0.7 to sync with Gnome 2.4.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/10/07 05:47:57 marcm Exp $
d40 4
@


1.5
log
@Update GNOME support ports to their Gnome 2.4 versions...

ORBit2    2.6.3 -> 2.8.1
gconf2    2.2.1 -> 2.4.0.1
libgtop2  2.0.2 -> 2.0.5
libwnck   2.2.2 -> 2.4.0.1
vte       0.10.29 -> 0.11.10

Also removes devel/linc since it has been rolled into devel/ORBit2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/08/06 20:44:09 marcm Exp $
d5 1
a5 1
V=			2.0.5
d27 2
a28 1
LIB_DEPENDS=	glib-2.0.0.0::devel/glib2
@


1.4
log
@Update a number of GNOME related ports to their versions under the
GNOME 2.2.2 umbrella.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/06/12 19:39:57 marcm Exp $
d5 1
a5 1
V=			2.0.2
@


1.3
log
@Update to 2.0.1 in support of Gnome 2.2.1

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/03/06 05:44:22 brad Exp $
d5 1
a5 1
V=			2.0.1
d32 1
a32 2
# Should be 2.53
AUTOCONF_VERSION=	2.52
@


1.2
log
@fill in dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/01/31 18:35:57 todd Exp $
d5 1
a5 1
V=			2.0.0
d32 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d26 2
a27 2
MODULES=		
LIB_DEPENDS=		
@


1.1.1.1
log
@Import libgtop2-2.0.0
--
LibGTop is a library for obtaining information about processes and the system.
This includes information about the following areas:

* General System Information
* SYS V IPC Limits:
* Network:
* Process List:
* Process information:
* Process maps:
* File system usage:

From marcm for gnome2
@
text
@@
