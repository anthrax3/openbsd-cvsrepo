head	1.4;
access;
symbols
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2014.04.29.06.27.57;	author jasper;	state dead;
branches;
next	1.3;

1.3
date	2014.03.31.09.34.52;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2014.02.03.13.50.32;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2014.02.03.13.46.19;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to libgtop-2.30.0
@
text
@$OpenBSD: patch-sysdeps_openbsd_Makefile_am,v 1.3 2014/03/31 09:34:52 ajacoutot Exp $

RM at next release.

--- sysdeps/openbsd/Makefile.am.orig	Sat Jul 27 14:40:23 2013
+++ sysdeps/openbsd/Makefile.am	Mon Mar 31 10:51:53 2014
@@@@ -4,18 +4,23 @@@@ INCLUDES			= @@INCLUDES@@
 
 noinst_LTLIBRARIES		= libgtop_sysdeps-2.0.la libgtop_sysdeps_suid-2.0.la
 
-libgtop_sysdeps_2_0_la_SOURCES	= nosuid.c siglist.c sysinfo.c
+libgtop_sysdeps_2_0_la_SOURCES	= nosuid.c siglist.c sysinfo.c \
+				  cpu.c loadavg.c \
+				  uptime.c netlist.c fsusage.c mem.c \
+				  mountlist.c procopenfiles.c procwd.c \
+				  procaffinity.c glibtop_private.c open.c
 
 libgtop_sysdeps_2_0_la_LDFLAGS	= $(LT_VERSION_INFO)
 
 libgtop_sysdeps_suid_2_0_la_LIBADD	= $(KVM_LIBS)
-libgtop_sysdeps_suid_2_0_la_SOURCES	= open.c close.c cpu.c mem.c swap.c \
-				  uptime.c loadavg.c shm_limits.c msg_limits.c \
-				  sem_limits.c proclist.c procstate.c procuid.c \
-				  proctime.c procmem.c procsignal.c prockernel.c \
-				  procsegment.c procargs.c procmap.c netlist.c \
-				  netload.c ppp.c procopenfiles.c fsusage.c \
-				  procwd.c procaffinity.c glibtop_private.c
+libgtop_sysdeps_suid_2_0_la_SOURCES	=  suid_open.c close.c swap.c \
+				  proclist.c procstate.c procuid.c \
+				  proctime.c procmem.c procsignal.c \
+				  prockernel.c procsegment.c procargs.c \
+				  procmap.c netload.c ppp.c
+
+# TODO should be made nosuid like FreeBSD
+libgtop_sysdeps_suid_2_0_la_SOURCES +=	shm_limits.c msg_limits.c sem_limits.c
 
 libgtop_sysdeps_suid_2_0_la_LDFLAGS	= $(LT_VERSION_INFO)
 
@


1.3
log
@Tweak patching a bit and regen PLIST.
@
text
@d1 1
a1 1
$OpenBSD: patch-sysdeps_openbsd_Makefile_am,v 1.2 2014/02/03 13:50:32 ajacoutot Exp $
@


1.2
log
@Explicitely mark all files that can be removed when the next release is out.
@
text
@d1 1
a1 1
$OpenBSD: patch-sysdeps_openbsd_Makefile_am,v 1.1 2014/02/03 13:46:19 ajacoutot Exp $
d6 1
a6 1
+++ sysdeps/openbsd/Makefile.am	Sun Feb  2 15:17:00 2014
d20 1
a20 1
-libgtop_sysdeps_suid_2_0_la_LIBADD	= $(KVM_LIBS)
a27 1
+libgtop_sysdeps_suid_2_0_la_LIBADD	= $(KVM_LIBS) $(EXTRA_SYSDEPS_LIBS)
@


1.1
log
@Sync with what was committed upstream to bring us closer to what FreeBSD
does.
Properly use the OpenBSD-specific code instead of the common one.

ok jasper@@ (maintainer)
@
text
@d1 4
a4 1
$OpenBSD$
@

