head	1.2;
access;
symbols
	OPENBSD_4_9:1.1.0.4
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.05.23.18.09.10;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2010.04.18.12.32.09;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@the openbsd code has diverged too much from the freebsd and generic bsd code
to be easily maintainable. so instead move it to files/ for now untill it
gets incorporated upstream.

discussed with aja@@
@
text
@$OpenBSD: patch-sysdeps_bsd_glibtop_private_c,v 1.1 2010/04/18 12:32:09 ajacoutot Exp $
--- sysdeps/bsd/glibtop_private.c.orig	Sun Apr 18 14:23:23 2010
+++ sysdeps/bsd/glibtop_private.c	Sun Apr 18 14:23:49 2010
@@@@ -26,8 +26,8 @@@@ execute_lsof(pid_t pid) {
 
 	if (g_spawn_command_line_sync (command, &output, NULL, &exit_status, NULL)) {
 		if (exit_status != 0) {
-			g_warning("Could not execute \"%s\" (%i)", command,
-				   exit_status);
+			g_warning("Could not execute \"%s\" (%i)\nMake sure lsof(8) is installed sgid kmem.",
+				   command, exit_status);
 			output = NULL;
 		}
 	}
@


1.1
log
@Implements procwd and procopenfiles using a wrapper around lsof(8)
(from FreeBSD sysdeps directory).
Merge proctime.c patch from pkgsrc.
Several other cleanings.
@
text
@d1 1
a1 1
$OpenBSD$
@

