head	1.6;
access;
symbols
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	todd_20030131:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2004.08.01.06.06.35;	author marcm;	state dead;
branches;
next	1.5;

1.5
date	2003.12.01.04.08.56;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.10.07.05.47.57;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.08.06.20.44.09;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.12.19.39.57;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.31.18.35.57;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.31.18.35.57;	author todd;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to 2.6.0.  Get rid of the custom OpenBSD support from the
former nino@@ that has been a part of this port for some time.
Updates to the internal API finally broke it, but a huge thanks
to Nils for his work there (thanks Nils!).

Now we use the Free/NetBSD support as a base and patch from there :).
@
text
@$OpenBSD: patch-aclocal_m4,v 1.5 2003/12/01 04:08:56 marcm Exp $
--- aclocal.m4.orig	2003-10-23 16:17:53.000000000 -0700
+++ aclocal.m4	2003-11-29 13:57:27.000000000 -0800
@@@@ -712,12 +712,18 @@@@ AC_DEFUN([GNOME_LIBGTOP_SYSDEPS],[
 	  fi
 	  libgtop_need_server=no
 	  ;;
-	freebsd*|netbsd*|openbsd*|bsdi*)
+	freebsd*|netbsd*|bsdi*)
 	  libgtop_sysdeps_dir=freebsd
 	  libgtop_use_machine_h=yes
 	  libgtop_need_server=yes
 	  libgtop_postinstall='chgrp kmem $(bindir)/libgtop_server && chmod 2755 $(bindir)/libgtop_server'
 	  ;;
+	openbsd*)
+	  libgtop_sysdeps_dir=openbsd
+	  libgtop_use_machine_h=yes
+	  libgtop_need_server=yes
+	  libgtop_postinstall='chgrp kmem $(DESTDIR)$(bindir)/libgtop_server && chmod 2755 $(DESTDIR)$(bindir)/libgtop_server2'
+	  ;;
 	solaris*)
 	  libgtop_sysdeps_dir=solaris
 	  libgtop_use_machine_h=yes
@@@@ -5046,6 +5052,9 @@@@ with_gcc=$_LT_AC_TAGVAR(GCC, $1)
 # An ERE matcher.
 EGREP=$lt_EGREP
 
+# An ERE matcher.
+EGREP=$lt_EGREP
+
 # The linker used to build libraries.
 LD=$lt_[]_LT_AC_TAGVAR(LD, $1)
 
@


1.5
log
@Update to 2.0.7 to sync with Gnome 2.4.1.
@
text
@d1 1
a1 1
$OpenBSD: patch-aclocal_m4,v 1.4 2003/10/07 05:47:57 marcm Exp $
@


1.4
log
@Update GNOME support ports to their Gnome 2.4 versions...

ORBit2    2.6.3 -> 2.8.1
gconf2    2.2.1 -> 2.4.0.1
libgtop2  2.0.2 -> 2.0.5
libwnck   2.2.2 -> 2.4.0.1
vte       0.10.29 -> 0.11.10

Also removes devel/linc since it has been rolled into devel/ORBit2.
@
text
@d1 3
a3 3
$OpenBSD: patch-aclocal_m4,v 1.3 2003/08/06 20:44:09 marcm Exp $
--- aclocal.m4.orig	2003-08-24 12:00:16.000000000 -0700
+++ aclocal.m4	2003-09-08 14:48:59.000000000 -0700
d24 3
a26 12
@@@@ -3446,7 +3452,7 @@@@ if test -f "$ltmain"; then
   # careful not to overquote the AC_SUBSTed values.  We take copies of the
   # variables and quote the copies for generation of the libtool script.
   for var in echo old_CC old_CFLAGS \
-    AR AR_FLAGS CC LD LN_S NM SHELL \
+    AR AR_FLAGS EGREP CC LD LN_S NM SHELL \
     reload_flag reload_cmds wl \
     pic_flag link_static_flag no_builtin_flag export_dynamic_flag_spec \
     thread_safe_flag_spec whole_archive_flag_spec libname_spec \
@@@@ -3550,6 +3556,9 @@@@ CC=$lt_CC
 # Is the compiler the GNU C compiler?
 with_gcc=$GCC
d32 1
a32 1
 LD=$lt_LD
@


1.3
log
@Update a number of GNOME related ports to their versions under the
GNOME 2.2.2 umbrella.
@
text
@d1 3
a3 3
$OpenBSD: patch-aclocal_m4,v 1.2 2003/06/12 19:39:57 marcm Exp $
--- aclocal.m4.orig	2003-05-15 10:08:08.000000000 -0700
+++ aclocal.m4	2003-08-02 22:53:53.000000000 -0700
d24 1
a24 1
@@@@ -3496,7 +3502,7 @@@@ if test -f "$ltmain"; then
d27 1
a27 1
   for var in echo old_CC old_CFLAGS SED \
d33 1
a33 1
@@@@ -3603,6 +3609,9 @@@@ CC=$lt_CC
@


1.2
log
@Update to 2.0.1 in support of Gnome 2.2.1

ok jolan@@
@
text
@d1 4
a4 4
$OpenBSD: patch-aclocal_m4,v 1.1.1.1 2003/01/31 18:35:57 todd Exp $
--- aclocal.m4.orig	Sun Jan 12 18:40:00 2003
+++ aclocal.m4	Mon May 19 12:24:12 2003
@@@@ -719,17 +719,23 @@@@ AC_DEFUN([GNOME_LIBGTOP_SYSDEPS],[
d13 2
a14 3
-	  libgtop_postinstall='chgrp kmem $(bindir)/libgtop_server && chmod 2755 $(bindir)/libgtop_server'
+	  libgtop_postinstall='chgrp kmem $(DESTDIR)$(bindir)/libgtop_server && chmod 2755 $(DESTDIR)$(bindir)/libgtop_server2'
+	  ;;
d20 1
a20 1
 	  ;;
d24 15
a38 33
 	  libgtop_need_server=yes
-	  libgtop_postinstall='chgrp sys $(bindir)/libgtop_server && chmod 2755 $(bindir)/libgtop_server'
+	  libgtop_postinstall='chgrp kmem $(DESTDIR)$(bindir)/libgtop_server && chmod 2755 $(DESTDIR)$(bindir)/libgtop_server2'
 	  ;;
         aix*)
 	  libgtop_sysdeps_dir=aix
@@@@ -2703,8 +2709,8 @@@@ else
     hardcode_direct=yes
     hardcode_shlibpath_var=no
     if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
-      archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
-      hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+      archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
+      hardcode_libdir_flag_spec='${wl}-R$libdir'
       export_dynamic_flag_spec='${wl}-E'
     else
       case "$host_os" in
@@@@ -2713,8 +2719,8 @@@@ else
 	hardcode_libdir_flag_spec='-R$libdir'
         ;;
       *)
-        archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
-        hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+        archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
+        hardcode_libdir_flag_spec='${wl}-R$libdir'
         ;;
       esac
     fi
@@@@ -4396,6 +4402,16 @@@@ newos6*)
   lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (executable|dynamic lib)'
   lt_cv_file_magic_cmd=/usr/bin/file
   lt_cv_file_magic_test_file=/usr/lib/libnls.so
+  ;;
d40 2
a41 9
+openbsd*)
+  lt_cv_file_magic_cmd=/usr/bin/file
+  lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
+  if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
+    lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB shared object'
+  else
+    lt_cv_deplibs_check_method='file_magic OpenBSD.* shared library'
+  fi
   ;;
a42 1
 openbsd*)
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- aclocal.m4.orig	Mon Jun 10 14:45:51 2002
+++ aclocal.m4	Fri Dec  6 22:27:34 2002
@@@@ -716,17 +716,23 @@@@ AC_DEFUN([GNOME_LIBGTOP_SYSDEPS],[
d29 3
a31 8
 	*)
 	  if test x$hacker_mode = xyes ; then
@@@@ -2561,10 +2567,24 @@@@ else
     ;;
 
   openbsd*)
-    archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'
-    hardcode_libdir_flag_spec='-R$libdir'
d34 3
a36 1
+    if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
d39 9
a47 8
+      export_dynamic_flag_spec='${wl}-E'
+    else
+      case "$host_os" in
+      openbsd[01].* | openbsd2.[0-7] | openbsd2.[0-7].*)
+	archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'
+	hardcode_libdir_flag_spec='-R$libdir'
+        ;;
+      *)
d50 5
a54 8
+        ;;
+      esac
+    fi
     ;;
 
   os2*)
@@@@ -4171,6 +4191,16 @@@@ newos6*)
   [lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (executable|dynamic lib)']
d69 1
a69 1
 osf3* | osf4* | osf5*)
@


1.1.1.1
log
@Import libgtop2-2.0.0
--
LibGTop is a library for obtaining information about processes and the system.
This includes information about the following areas:

* General System Information
* SYS V IPC Limits:
* Network:
* Process List:
* Process information:
* Process maps:
* File system usage:

From marcm for gnome2
@
text
@@
