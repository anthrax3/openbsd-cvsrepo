head	1.2;
access;
symbols
	OPENBSD_4_0:1.1.0.6
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.4
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.2
	OPENBSD_3_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2007.02.27.10.46.00;	author espie;	state dead;
branches;
next	1.1;

1.1
date	2005.05.07.11.53.03;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to much newer version. parallel work by ajacoutot@@.
@
text
@$OpenBSD: patch-src_FXThread_cpp,v 1.1 2005/05/07 11:53:03 espie Exp $
--- src/FXThread.cpp.orig	Sat May  7 12:36:23 2005
+++ src/FXThread.cpp	Sat May  7 12:42:00 2005
@@@@ -353,10 +353,16 @@@@ void FXThread::priority(FXint prio){
   sched_param sched={0};
   int priomin,priomax;
   if(tid){
+#if defined(SCHED_OTHER)
+#  if defined(_POSIX_PRIORITY_SCHEDULING)
     priomax=sched_get_priority_max(SCHED_OTHER);
     priomin=sched_get_priority_min(SCHED_OTHER);
     sched.sched_priority=FXCLAMP(priomin,prio,priomax);
+#  elif defined(PTHREAD_MINPRIORITY)
+    sched.sched_priority=FXCLAMP(PTHREAD_MIN_PRIORITY,prio,PTHREAD_MAX_PRIORITY);
+#  endif
     pthread_setschedparam((pthread_t)tid,SCHED_OTHER,&sched);
+#endif
     }
   }
 
@


1.1
log
@new versions.

Build system of goggles entirely changed. Totally funky, but still
more fun than autoconf junk !
@
text
@d1 1
a1 1
$OpenBSD$
@

