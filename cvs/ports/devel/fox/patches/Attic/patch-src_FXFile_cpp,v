head	1.2;
access;
symbols
	OPENBSD_4_0:1.1.0.6
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.4
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.2
	OPENBSD_3_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2007.02.27.10.46.00;	author espie;	state dead;
branches;
next	1.1;

1.1
date	2005.05.07.11.53.03;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to much newer version. parallel work by ajacoutot@@.
@
text
@$OpenBSD: patch-src_FXFile_cpp,v 1.1 2005/05/07 11:53:03 espie Exp $
--- src/FXFile.cpp.orig	Sat May  7 12:08:27 2005
+++ src/FXFile.cpp	Sat May  7 12:10:19 2005
@@@@ -102,7 +102,7 @@@@ FXString FXFile::getEnvironment(const FX
 // Get current user name
 FXString FXFile::getCurrentUserName(){
 #ifndef WIN32
-#ifdef FOX_THREAD_SAFE
+#if defined(FOX_THREAD_SAFE) && !defined(__OpenBSD__)
   struct passwd pwdresult,*pwd;
   char buffer[1024];
   if(getpwuid_r(geteuid(),&pwdresult,buffer,sizeof(buffer),&pwd)==0 && pwd) return pwd->pw_name;
@@@@ -180,7 +180,7 @@@@ FXbool FXFile::setCurrentDrive(const FXS
 // Get home directory for a given user
 FXString FXFile::getUserDirectory(const FXString& user){
 #ifndef WIN32
-#ifdef FOX_THREAD_SAFE
+#if defined(FOX_THREAD_SAFE) && !defined(__OpenBSD__)
   struct passwd pwdresult,*pwd;
   char buffer[1024];
   if(user.empty()){
@@@@ -1059,7 +1059,7 @@@@ FXbool FXFile::isSetSticky(const FXStrin
 FXString FXFile::owner(FXuint uid){
   FXchar result[64];
 #ifndef WIN32
-#ifdef FOX_THREAD_SAFE
+#if defined(FOX_THREAD_SAFE) && !defined(__OpenBSD__)
   struct passwd pwdresult,*pwd;
   char buffer[1024];
   if(getpwuid_r(uid,&pwdresult,buffer,sizeof(buffer),&pwd)==0 && pwd) return pwd->pw_name;
@


1.1
log
@new versions.

Build system of goggles entirely changed. Totally funky, but still
more fun than autoconf junk !
@
text
@d1 1
a1 1
$OpenBSD$
@

