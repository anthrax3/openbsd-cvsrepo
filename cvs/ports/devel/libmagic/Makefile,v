head	1.33;
access;
symbols
	OPENBSD_6_2:1.33.0.2
	OPENBSD_6_2_BASE:1.33
	OPENBSD_6_1:1.29.0.4
	OPENBSD_6_1_BASE:1.29
	OPENBSD_6_0:1.29.0.2
	OPENBSD_6_0_BASE:1.29
	OPENBSD_5_9:1.25.0.2
	OPENBSD_5_9_BASE:1.25
	OPENBSD_5_8:1.23.0.4
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.22.0.2
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.19.0.2
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.17.0.2
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.16.0.2
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.14.0.4
	OPENBSD_5_3_BASE:1.14
	OPENBSD_5_2:1.14.0.2
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.2
	OPENBSD_5_0:1.11.0.4
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.10.0.6
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.4
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.9.0.2
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.8.0.2
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.4.0.2
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.1.1.1.0.4
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.2
	OPENBSD_4_0_BASE:1.1.1.1
	jolan_20060414:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.33
date	2017.09.06.13.41.55;	author sthen;	state Exp;
branches;
next	1.32;
commitid	8qi3lgeJQOI4QbJO;

1.32
date	2017.06.29.08.40.38;	author ajacoutot;	state Exp;
branches;
next	1.31;
commitid	gR2QShwaLtyHlvqw;

1.31
date	2017.06.29.01.42.27;	author jca;	state Exp;
branches;
next	1.30;
commitid	f4uT2fVD8uedaCnC;

1.30
date	2017.05.25.00.04.15;	author sthen;	state Exp;
branches;
next	1.29;
commitid	qzLpaV2SHJ9YIudx;

1.29
date	2016.06.16.15.35.02;	author sthen;	state Exp;
branches;
next	1.28;
commitid	MezfRU5uOA8BmUQu;

1.28
date	2016.06.16.14.17.52;	author giovanni;	state Exp;
branches;
next	1.27;
commitid	YJ5zKerQNstnOV9K;

1.27
date	2016.05.14.13.22.17;	author sthen;	state Exp;
branches;
next	1.26;
commitid	Wowy4hqqLcVvWuwl;

1.26
date	2016.04.25.14.33.15;	author sthen;	state Exp;
branches;
next	1.25;
commitid	lc49upr5kUmOZsW7;

1.25
date	2015.09.17.13.30.23;	author sthen;	state Exp;
branches;
next	1.24;
commitid	74qUkgGnND92eHiY;

1.24
date	2015.09.08.19.35.44;	author sthen;	state Exp;
branches;
next	1.23;
commitid	8NErQ5qayVMaK6f7;

1.23
date	2015.06.11.13.56.37;	author sthen;	state Exp;
branches;
next	1.22;
commitid	YUo7TY2o5sa3IiWN;

1.22
date	2015.01.04.20.29.24;	author sthen;	state Exp;
branches;
next	1.21;
commitid	fhRjlQuTzQX9cPK3;

1.21
date	2014.12.16.10.54.32;	author sthen;	state Exp;
branches;
next	1.20;
commitid	ozceJ76mBnDG0PZf;

1.20
date	2014.10.11.13.44.21;	author sthen;	state Exp;
branches;
next	1.19;
commitid	RcfuRVaOyzZBju9c;

1.19
date	2014.06.24.19.44.39;	author sthen;	state Exp;
branches;
next	1.18;
commitid	8RaozhIXHLdqzRsz;

1.18
date	2014.03.13.10.56.45;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2013.09.29.23.29.22;	author bcallah;	state Exp;
branches
	1.17.2.1;
next	1.16;

1.16
date	2013.03.21.08.45.15;	author ajacoutot;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2013.03.11.10.50.10;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2012.02.21.22.47.50;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2012.01.17.17.36.47;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.21.17.20.56;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.18.17.47.54;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2009.04.04.18.28.14;	author rui;	state Exp;
branches;
next	1.9;

1.9
date	2008.09.25.20.43.56;	author rui;	state Exp;
branches;
next	1.8;

1.8
date	2008.05.08.22.44.13;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2008.05.05.19.41.16;	author rui;	state Exp;
branches;
next	1.6;

1.6
date	2008.01.19.22.09.26;	author rui;	state Exp;
branches;
next	1.5;

1.5
date	2007.09.16.02.53.00;	author merdely;	state Exp;
branches;
next	1.4;

1.4
date	2007.06.08.17.49.40;	author rui;	state Exp;
branches;
next	1.3;

1.3
date	2007.03.27.11.04.48;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2007.03.17.21.43.20;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2006.04.14.17.02.58;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.04.14.17.02.58;	author jolan;	state Exp;
branches;
next	;

1.16.2.1
date	2014.03.18.14.04.33;	author jasper;	state Exp;
branches;
next	;

1.17.2.1
date	2014.03.18.14.04.46;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.33
log
@update to libmagic (file) 5.32
@
text
@# $OpenBSD: Makefile,v 1.32 2017/06/29 08:40:38 ajacoutot Exp $

COMMENT=	library to determine file type

# update devel/py-libmagic in sync with this
V=		5.32
DISTNAME=	file-${V}
PKGNAME=	libmagic-${V}

SHARED_LIBS +=  magic                4.3      # 1.0

CATEGORIES=	sysutils devel

HOMEPAGE=	ftp://ftp.astron.com/pub/file/

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += z

MASTER_SITES=	ftp://ftp.astron.com/pub/file/

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--enable-fsect-man5

.include <bsd.port.mk>
@


1.32
log
@Fix a couple of typos.
from Klemens Nanni
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2017/06/29 01:42:27 jca Exp $
d6 1
a6 2
V=		5.31
REVISION=	1
d10 1
a10 1
SHARED_LIBS +=  magic                4.2      # 1.0
@


1.31
log
@Put the magic file format manpage in section 5

From Klemens Nanni
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2017/05/25 00:04:15 sthen Exp $
d7 1
a7 1
REVISION=	0
@


1.30
log
@update to {py-,}libmagic from file-5.31
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/06/16 15:35:02 sthen Exp $
d7 1
d25 1
@


1.29
log
@update to libmagic/file 5.28
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2016/06/16 14:17:52 giovanni Exp $
d6 1
a6 1
V=		5.28
@


1.28
log
@Fix a memory leak
ok tb@@ sthen@@ and "Christos Zoulas" (upstream maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2016/05/14 13:22:17 sthen Exp $
d6 1
a6 2
V=		5.27
REVISION=	0
@


1.27
log
@update to libmagic-5.27
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2016/04/25 14:33:15 sthen Exp $
d7 1
@


1.26
log
@update to libmagic-5.26
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/09/17 13:30:23 sthen Exp $
d6 1
a6 1
V=		5.26
@


1.25
log
@update to libmagic (file) 5.25
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/09/08 19:35:44 sthen Exp $
d6 1
a6 1
V=		5.25
@


1.24
log
@update to libmagic-5.24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/06/11 13:56:37 sthen Exp $
d6 1
a6 1
V=		5.24
@


1.23
log
@update to libmagic (file) 5.23
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/01/04 20:29:24 sthen Exp $
d6 1
a6 1
V=		5.23
@


1.22
log
@update to libmagic from file 5.22
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/12/16 10:54:32 sthen Exp $
d6 1
a6 1
V=		5.22
@


1.21
log
@update to libmagic (file) 5.21 - out of bounds reads, memory leak, bogus
frees, DoS issues with pathological input especially in elf handling.
CVE-2014-8116, CVE-2014-8117, maybe others
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/10/11 13:44:21 sthen Exp $
d6 1
a6 1
V=		5.21
@


1.20
log
@update to libmagic 5.20
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/06/24 19:44:39 sthen Exp $
d6 1
a6 1
V=		5.20
d10 1
a10 1
SHARED_LIBS +=  magic                4.1      # 1.0
@


1.19
log
@update to libmagic 5.19, various fixes including buffer overruns
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/03/13 10:56:45 sthen Exp $
d6 1
a6 1
V=		5.19
d10 1
a10 1
SHARED_LIBS +=  magic                4.0      # 1.0
@


1.18
log
@SECURITY update to libmagic 5.17, missing bounds checks when
following offset information obtained from a file being scanned,
https://github.com/file/file/commit/447558595a3650db2886cd2f416ad0beba965801
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/09/29 23:29:22 bcallah Exp $
d6 1
a6 1
V=		5.17
@


1.17
log
@Update libmagic to 5.15. Bump major.
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/21 08:45:15 ajacoutot Exp $
d5 2
a6 1
V=		5.15
@


1.17.2.1
log
@Security fix for CVE-2014-2270,
out-of-bounds memory access when parsing Portable Executable (PE) format files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/09/29 23:29:22 bcallah Exp $
a7 1
REVISION=	0
@


1.16
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/11 10:50:10 espie Exp $
d5 1
a5 1
V=		5.11
d9 1
a9 1
SHARED_LIBS +=  magic                3.0      # 1.0
@


1.16.2.1
log
@Security fix for CVE-2014-2270,
out-of-bounds memory access when parsing Portable Executable (PE) format files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/21 08:45:15 ajacoutot Exp $
a7 1
REVISION=	0
@


1.15
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/02/21 22:47:50 sthen Exp $
a22 1
USE_LIBTOOL=	Yes
@


1.14
log
@Update libmagic (based on "file" sources) to 5.11; fixes CDF parsing
issues found by CERT's fuzzing tool. Possibly SECURITY related.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/01/17 17:36:47 sthen Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.13
log
@update to libmagic 5.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/21 17:20:56 jasper Exp $
d5 1
a5 1
V=		5.10
@


1.12
log
@
reset maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/18 17:47:54 espie Exp $
d4 3
a6 2
V=		5.00
DISTNAME= 	file-${V}
d8 3
a10 1
SHARED_LIBS=	magic	2.0
a11 1
REVISION=	0
d21 2
d25 1
a25 2
WANTLIB=	z 
CONFIGURE_STYLE=gnu
a26 1
USE_GROFF =	Yes
@


1.11
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/04/04 18:28:14 rui Exp $
d9 1
a11 2

MAINTAINER=	Rui Reis <rui@@openbsd.org>
@


1.10
log
@- update to 5.00, based on initial diff from Benoit Lecocq.
- fix build on Vax while here

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/09/25 20:43:56 rui Exp $
d25 1
@


1.9
log
@- maintenance update to libmagic 4.26.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/05/08 22:44:13 espie Exp $
d4 1
a4 1
V=		4.26
d7 1
a7 1
SHARED_LIBS=	magic	1.0
@


1.8
log
@CATEGORIES repairs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/05/05 19:41:16 rui Exp $
d4 1
a4 1
V=		4.24
@


1.7
log
@- maintenance update to libmagic 4.24.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/01/19 22:09:26 rui Exp $
d8 1
a8 1
CATEGORIES=	sysutils
@


1.6
log
@- maintenance update to 4.23.
- update my email address while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/09/16 02:53:00 merdely Exp $
d4 1
a4 1
V=		4.23
@


1.5
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/06/08 17:49:40 rui Exp $
d4 1
a4 1
V=		4.21
d12 1
a12 1
MAINTAINER=	Rui Reis <rui@@rui.cx>
@


1.4
log
@update libmagic to 4.21

ok mbalmer@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/03/27 11:04:48 espie Exp $
d3 1
a3 1
COMMENT=	"library to determine file type"
@


1.3
log
@set USE_LIBTOOL, bump PKGNAME just in case.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/03/17 21:43:20 jolan Exp $
d4 1
a4 1
V=		4.20
d6 1
a6 1
PKGNAME=	libmagic-${V}p0
@


1.2
log
@update to 4.20, from maintainer rui reis
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/04/14 17:02:58 jolan Exp $
d6 1
a6 1
PKGNAME=	libmagic-${V}
d24 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 1
V=		4.17
@


1.1.1.1
log
@libmagic-4.17, library to determine file type
@
text
@@
