head	1.2;
access;
symbols
	OPENBSD_3_8:1.1.0.8
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.6
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.4
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.2
	OPENBSD_3_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2005.10.30.18.07.35;	author naddy;	state dead;
branches;
next	1.1;

1.1
date	2003.10.16.22.22.00;	author brad;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Major update to 2.1.
Based on a submission by Rui Reis <rui@@rui.cx>.
ok espie@@
@
text
@$OpenBSD: patch-src_reader_c,v 1.1 2003/10/16 22:22:00 brad Exp $
--- src/reader.c.orig	2003-10-16 18:15:34.000000000 -0400
+++ src/reader.c	2003-10-16 18:16:12.000000000 -0400
@@@@ -1897,7 +1897,7 @@@@ packgram (void)
   symbol_list *p;
 
   ritem = XCALLOC (short, nitems + 1);
-  rule_table = XCALLOC (rule_t, nrules) - 1;
+  rule_table = XCALLOC (rule_t, nrules + 1);
 
   itemno = 0;
   ruleno = 1;
@


1.1
log
@fix a bug found via malloc guard pages.
--
From: markus@@
@
text
@d1 1
a1 1
$OpenBSD$
@

