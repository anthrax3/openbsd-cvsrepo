head	1.9;
access;
symbols
	OPENBSD_6_1:1.8.0.2
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.6.0.2
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.4.0.4
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.6
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	zhuk_20130205:1.1.1.1
	zhuk:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2017.04.10.11.45.26;	author sthen;	state Exp;
branches;
next	1.8;
commitid	XDh1zlSBq0boKsHk;

1.8
date	2017.03.17.15.00.11;	author jca;	state Exp;
branches;
next	1.7;
commitid	zA7jfVIRq6LOTs5t;

1.7
date	2016.11.12.20.50.41;	author jca;	state Exp;
branches;
next	1.6;
commitid	th66k4baTD5nVdHy;

1.6
date	2016.03.18.23.12.16;	author naddy;	state Exp;
branches;
next	1.5;
commitid	KZAl4KEiw6a3Jixw;

1.5
date	2016.03.01.20.36.40;	author jca;	state Exp;
branches;
next	1.4;
commitid	Nl10DDuJoZCwTwMi;

1.4
date	2014.11.07.10.05.29;	author landry;	state Exp;
branches;
next	1.3;
commitid	iOVu9k9pbeu7sTL7;

1.3
date	2013.03.11.10.50.27;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2013.02.05.10.39.29;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.02.05.10.31.01;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.02.05.10.31.01;	author zhuk;	state Exp;
branches;
next	;


desc
@@


1.9
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.8 2017/03/17 15:00:11 jca Exp $

CATEGORIES =	devel

COMMENT=	Qt-based library that maps JSON data to QVariant objects

GH_ACCOUNT =	flavio
GH_PROJECT =	qjson
GH_TAGNAME =	0.9.0

HOMEPAGE =	http://qjson.sourceforge.net/

SHARED_LIBS =	qjson	1.0

MODULES =	devel/cmake \
		x11/qt4

WANTLIB += QtGui m ${LIBCXX}

# LGPLv2
PERMIT_PACKAGE_CDROM =		Yes

# XXX enable tests if we switch to qt5
CONFIGURE_ARGS =	-DQJSON_BUILD_TESTS:Bool=No \
			-DQT4_BUILD:Bool=Yes

.include <bsd.port.mk>
@


1.8
log
@Update to qjson-0.9.0

from Rafael Sadowski, input from sthen@@, bulk build test & ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2016/11/12 20:50:41 jca Exp $
d18 1
a18 1
WANTLIB += QtGui m stdc++
@


1.7
log
@Update to doxygen-1.8.12 and switch the gui to Qt5

From Rafael Sadowski, who takes maintainership.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/03/18 23:12:16 naddy Exp $
d4 1
d6 5
a10 2
DISTNAME =	qjson-0.8.1
REVISION =	2
d13 1
a13 1
SHARED_LIBS =	qjson	0.0
d15 2
a16 2
MODULES =	devel/cmake x11/qt4
WANTLIB =	m stdc++
d18 1
a18 3
MASTER_SITES =	https://github.com/downloads/flavio/qjson/
EXTRACT_SUFX =	.tar.bz2
TAR =		${LOCALBASE}/bin/gtar
d23 3
a25 24
BUILD_DEPENDS =	devel/doxygen \
		archivers/gtar
DOCSDIR =	${PREFIX}/share/doc/qjson

# Test list taken from ${WRKSRC}/tests/CMakeLists.txt
CONFIGURE_ARGS =	-DQJSON_BUILD_TESTS:Bool=Yes
UNIT_TESTS =		testparser \
			testqobjecthelper \
			testserializer

post-build:
	cd ${WRKSRC}/doc && doxygen

post-install:
	${INSTALL_DATA_DIR} ${DOCSDIR}
	cd ${WRKSRC}/doc/html && find . -type d -print0 | \
		(cd ${DOCSDIR} && xargs -0 ${INSTALL_DATA_DIR})
	find ${WRKSRC}/doc/html -type f -print0 | \
		(cd ${DOCSDIR} && xargs -0 -J % ${INSTALL_DATA} % ${DOCSDIR})

do-test:
.for T in ${UNIT_TESTS}
	cd ${WRKBUILD}/tests && ./$T
.endfor
@


1.6
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/03/01 20:36:40 jca Exp $
d6 1
a6 1
REVISION =	1
@


1.5
log
@Update to doxygen-1.8.11 (latest)

This switches doxygen to the cmake build system.

All the hard work done by Rafael Sadowski, thanks!

Bulk build and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2014/11/07 10:05:29 landry Exp $
a2 1
SHARED_ONLY =	Yes
@


1.4
log
@Use MODCMAKE_BUILD_SUFFIX where appropriate, bump REVISION when the PLIST
actually changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 10:50:27 espie Exp $
d7 1
a7 1
REVISION =	0
@


1.3
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/02/05 10:39:29 ajacoutot Exp $
d7 1
@


1.2
log
@Set the full path to gtar and do not hardcode /usr/local.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/02/05 10:31:01 zhuk Exp $
a18 2
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
a19 1
PERMIT_PACKAGE_FTP =		Yes
d41 1
a41 1
do-regress:
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d16 1
a16 1
TAR =		gtar
@


1.1.1.1
log
@QJson is a Qt-based library that maps JSON data to QVariant objects.
JSON arrays will be mapped to QVariantList instances, while JSON's
objects will be mapped to QVariantMap.

This is prerequisite of Clementine and many KDE4 ports.

okay landry@@
@
text
@@
