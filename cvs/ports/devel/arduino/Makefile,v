head	1.16;
access;
symbols
	OPENBSD_6_2:1.16.0.4
	OPENBSD_6_2_BASE:1.16
	OPENBSD_6_1:1.16.0.2
	OPENBSD_6_1_BASE:1.16
	OPENBSD_6_0:1.15.0.4
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.15.0.2
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.14.0.6
	OPENBSD_5_8_BASE:1.14
	OPENBSD_5_7:1.14.0.2
	OPENBSD_5_7_BASE:1.14
	OPENBSD_5_6:1.13.0.2
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.10.0.2
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.9.0.2
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	jasper_20110917:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.16
date	2016.10.01.11.54.14;	author naddy;	state Exp;
branches;
next	1.15;
commitid	VJ09Ih4WMjVIWTmz;

1.15
date	2015.11.02.11.56.54;	author espie;	state Exp;
branches;
next	1.14;
commitid	ox8NBCUwS6UB4UwE;

1.14
date	2014.10.30.21.44.30;	author edd;	state Exp;
branches;
next	1.13;
commitid	VG7Oi0lPOib6zgFt;

1.13
date	2014.07.19.11.34.11;	author edd;	state Exp;
branches;
next	1.12;
commitid	UTASj00reKCQqUW3;

1.12
date	2014.07.18.11.12.13;	author edd;	state Exp;
branches;
next	1.11;
commitid	bfJgjuyjgEx8icpW;

1.11
date	2014.06.19.20.55.02;	author sthen;	state Exp;
branches;
next	1.10;
commitid	UMQ2TpQyAayXWwMR;

1.10
date	2013.08.07.21.31.29;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2013.05.14.14.31.30;	author edd;	state Exp;
branches;
next	1.8;

1.8
date	2013.05.05.20.51.40;	author edd;	state Exp;
branches;
next	1.7;

1.7
date	2013.03.11.10.50.00;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2012.12.05.13.14.52;	author gonzalo;	state Exp;
branches;
next	1.5;

1.5
date	2012.10.13.12.13.37;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2012.05.22.21.26.11;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2012.04.24.06.37.32;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.12.09.11.55.46;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.09.17.16.41.30;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.09.17.16.41.30;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.16
log
@The ${PROJECT}.googlecode.com/files/ master sites are no longer
accessible, but the distfiles are still available at an archive URL.
Introduce MASTER_SITE_GOOGLECODE and use it for all affected ports.

ok czarkoff@@ danj@@ sthen@@
@
text
@# $OpenBSD: Makefile,v 1.15 2015/11/02 11:56:54 espie Exp $

COMMENT=	open-source electronics prototyping platform

V=		1.0.2
PKGNAME=	arduino-${V}
# Arduino uses the ARDUINO macro to control the renaming scheme they did
# on 1.0.x, from WProgram.h to Arduino.h, this is defined in files/Makefile.
# If updating the port, check whether this needs to be adjusted.
DISTNAME=	arduino-${V}-src
EPOCH=		0
REVISION =	5
CATEGORIES=	devel
HOMEPAGE=	http://www.arduino.cc/

# arduino core + libraries: LGPLv2.1
# frontend application: GPLv2 (not shipped yet)
PERMIT_PACKAGE_CDROM=   Yes

MASTER_SITES=	${MASTER_SITE_GOOGLECODE:=arduino/}

RUN_DEPENDS=	devel/avr/binutils \
		devel/avr/gcc \
		devel/avr/libc \
		devel/avrdude

BUILD_DEPENDS=	archivers/unzip

NO_BUILD=       Yes
NO_TEST=     Yes
PKG_ARCH=       *
WRKDIST=	${WRKDIR}/arduino-${V}

do-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/{,doc,examples}/arduino
	@@${SUBST_CMD} -m ${BINMODE} -c ${FILESDIR}/arduinoboot \
                ${PREFIX}/bin/arduinoboot
	@@${SUBST_CMD} -m ${BINMODE} -c ${FILESDIR}/arduinoproject \
                ${PREFIX}/bin/arduinoproject
	@@chown ${BINOWN}:${BINGRP} ${PREFIX}/bin/*
	@@chmod ${BINMODE} ${PREFIX}/bin/*
	@@${SUBST_CMD} -m 444 -c ${FILESDIR}/Makefile \
                ${PREFIX}/share/examples/arduino/Makefile
	@@${SUBST_CMD} -m 444 -c ${FILESDIR}/template.ino \
                ${PREFIX}/share/examples/arduino/template.ino
	@@chmod	a+r ${PREFIX}/share/examples/arduino/*
	@@cp -r	${WRKSRC}/build/shared/examples/* \
		${PREFIX}/share/examples/arduino
	@@cp -r	${WRKSRC}/hardware/arduino/* \
		${PREFIX}/share/arduino
	@@cp -r	${WRKSRC}/libraries \
		${PREFIX}/share/arduino
	@@cp -r	${WRKSRC}/{license,readme,todo}.txt \
		${PREFIX}/share/doc/arduino
	@@unzip	-qnd ${PREFIX}/share/doc/arduino \
		${WRKSRC}/build/shared/reference.zip
	@@chown -R ${SHAREOWN}:${SHAREGRP} ${PREFIX}/share
	@@find ${PREFIX} -type f -name \*.orig -exec rm '{}' \;

.include <bsd.port.mk>
@


1.15
log
@a few minor pkg_subst fixes, for the coming patch (disallow -c without -m
outside of WRKDIR)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/10/30 21:44:30 edd Exp $
d20 1
a20 1
MASTER_SITES=	https://arduino.googlecode.com/files/
@


1.14
log
@devel/arduino: Tidy up flags in project template and reduce binary size.

Discussed with/ok pjantzen, looks good to sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2014/07/19 11:34:11 edd Exp $
d36 1
a36 1
	@@${SUBST_CMD} -c ${FILESDIR}/arduinoboot \
d38 1
a38 1
	@@${SUBST_CMD} -c ${FILESDIR}/arduinoproject \
d42 1
a42 1
	@@${SUBST_CMD} -c ${FILESDIR}/Makefile \
d44 1
a44 1
	@@${SUBST_CMD} -c ${FILESDIR}/template.ino \
@


1.13
log
@Unbreak Arduino Mega support. Adjust project makefile to be easier to use.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/07/18 11:12:13 edd Exp $
d12 1
a12 1
REVISION =	4
@


1.12
log
@BSDmakefile -> Makefile in Arduino.

To reflect recent changes in make.

Tested on Arduino Uno. OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2014/06/19 20:55:02 sthen Exp $
d12 1
a12 1
REVISION =	3
@


1.11
log
@Define ARDUINO macro in the sample BSDmakefile used for user projects; some
things need this. See http://comments.gmane.org/gmane.os.openbsd.ports/67938
From Daniel Bolgheroni with slight wording tweak.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/08/07 21:31:29 naddy Exp $
d8 1
a8 1
# on 1.0.x, from WProgram.h to Arduino.h, this is defined in files/BSDmakefile.
d12 1
a12 1
REVISION =	2
d42 2
a43 2
	@@${SUBST_CMD} -c ${FILESDIR}/BSDmakefile \
                ${PREFIX}/share/examples/arduino/BSDmakefile
@


1.10
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/05/14 14:31:30 edd Exp $
d7 3
d12 1
a12 1
REVISION =	1
@


1.9
log
@Fix a race when using 'make -j' -- missing dependency.

From Janne Johansson, OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/05/05 20:51:40 edd Exp $
d17 1
a17 1
MASTER_SITES=	http://arduino.googlecode.com/files/
@


1.8
log
@Improve BSDmakefile distributed with arduino libs:

 - Adds the utility/ directory as an include path for each library imported.
   Needed to build, for example, the SD library.

 - Add example settings for an arduino mega.

 - Add example of how to use the SD library.

 - Use -ffunction-sections -fdata-sections and link with
   -Wl,--gc-sections, as the official arduino toolchain does[1].
   This makes smaller hex files. I put the -f stuff in CTUNING, which
   was previously defined but unused. Commented the unused def out for now.

 - Implement __cxa_pure_virtual so the user does not have to[1][2].

 - Deal with the creation and removal of the utility/ directory
   automatically. The comment that explained this was actually wrong
   anyway. It said to create a 'utilities' directory, but it meant
   'utility'. Anyway, manage this automatically, why not.

[1] http://stackoverflow.com/questions/920500/what-is-the-purpose-of-cxa-pure-virtual
[2] http://playground.arduino.cc/OpenBSD/CLI

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/03/11 10:50:00 espie Exp $
d9 1
a9 1
REVISION =	0
@


1.7
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/12/05 13:14:52 gonzalo Exp $
d9 1
@


1.6
log
@Update for Arduino to 1.0.2

http://arduino.cc/en/Main/ReleaseNotes

Ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/10/13 12:13:37 jasper Exp $
a14 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
d26 1
a26 1
NO_REGRESS=     Yes
@


1.5
log
@- add a note about how to use the Ethernet library.

based on a mail from Tom Doherty
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/05/22 21:26:11 jasper Exp $
d5 1
a5 1
V=		1.0.1
a7 1
REVISION=	0
@


1.4
log
@- update to 1.0.1
* release notes can be found here: http://arduino.cc/en/Main/ReleaseNotes
- set default baud rate for the uno, instead of defaulting to older boards.

tested by various
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/04/24 06:37:32 jasper Exp $
d8 1
@


1.3
log
@- update arduino to 1.0, please see the changelog:
   http://arduino.cc/blog/2011/10/04/arduino-1-0/
   - various changes related to this port:
      * adjust sketch extensions from .pde to .ino
	 * deal better with different arduino variants
	    * adjust template to get it compiling/linking again

	    tested by various
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/12/09 11:55:46 jasper Exp $
d5 1
a5 1
V=		1.0
@


1.2
log
@cleanup whitespace mess
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/09/17 16:41:30 jasper Exp $
d5 1
a5 1
V=		22
d7 2
a8 2
DISTNAME=	arduino-00${V}-src
REVISION=	0
d31 1
a31 1
WRKDIST=	${WRKDIR}/arduino-00${V}
d43 2
a44 2
	@@${SUBST_CMD} -c ${FILESDIR}/template.pde \
                ${PREFIX}/share/examples/arduino/template.pde
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
@


1.1.1.1
log
@import arduino 22

Arduino is an open-source electronics prototyping platform based on
flexible, easy-to-use hardware and software. It's intended for artists,
designers, hobbyists, and anyone interested in creating interactive
objects or environments. 
[..]
This package contains the libraries, header files and tools to develop
Arduino sketches. It does not include the Arduino IDE frontend.

based on work from and ok ckuethe@@
@
text
@@
