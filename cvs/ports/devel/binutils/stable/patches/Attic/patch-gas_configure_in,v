head	1.16;
access;
symbols
	OPENBSD_3_6:1.15.0.2
	OPENBSD_3_6_BASE:1.15
	OPENBSD_3_5:1.14.0.2
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.13.0.2
	OPENBSD_3_4_BASE:1.13
	OPENBSD_3_3:1.2.0.6
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	fgsch_20020219:1.1.1.1
	fgsch:1.1.1;
locks; strict;
comment	@# @;


1.16
date	2004.11.18.23.40.06;	author fgsch;	state dead;
branches;
next	1.15;

1.15
date	2004.04.11.13.57.32;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2003.10.11.00.52.22;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2003.07.28.05.12.01;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2003.06.30.18.24.16;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2003.06.27.02.47.16;	author kevlo;	state Exp;
branches;
next	1.10;

1.10
date	2003.06.15.04.43.31;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2003.06.13.04.17.12;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2003.06.12.14.26.20;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2003.06.08.19.02.58;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2003.06.07.23.35.49;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2003.06.05.23.10.06;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2003.06.05.18.28.24;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2003.06.05.04.03.55;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2002.02.20.10.46.29;	author fgsch;	state Exp;
branches;
next	1.1;

1.1
date	2002.02.19.04.19.21;	author fgsch;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.02.19.04.19.21;	author fgsch;	state Exp;
branches;
next	;


desc
@@


1.16
log
@remove binutils now that we have a recent and more closely tracked version.
if it's needed in the future, we can bring it back. pvalchev@@ ok.
@
text
@$OpenBSD: patch-gas_configure_in,v 1.15 2004/04/11 13:57:32 brad Exp $
--- gas/configure.in.orig	2003-06-02 16:35:23.000000000 -0400
+++ gas/configure.in	2004-04-11 07:40:52.000000000 -0400
@@@@ -197,7 +197,8 @@@@ changequote([,])dnl
       arm*-*-linux-gnu*)		fmt=elf  em=linux ;;
       arm*-*-uclinux*)			fmt=elf  em=linux ;;
       arm-*-netbsdelf*)                 fmt=elf  em=nbsd ;;
-      arm-*-*n*bsd*)			fmt=aout em=nbsd ;;
+      arm-*-netbsd*)			fmt=aout em=nbsd ;;
+      arm-*-openbsd*)			fmt=elf  em=obsd ;;
       arm-**-nto*)			fmt=elf ;;
       arm-*-oabi | thumb-*-oabi)	fmt=elf ;;
       arm-epoc-pe | thumb-epoc-pe)	fmt=coff em=epoc-pe ;;
@@@@ -224,7 +225,7 @@@@ changequote([,])dnl
       hppa-*-*elf*)			fmt=elf em=hppa ;;
       hppa-*-lites*)			fmt=elf em=hppa ;;
       hppa-*-netbsd*)			fmt=elf em=nbsd ;;
-      hppa-*-openbsd*)			fmt=elf em=hppa ;;
+      hppa-*-openbsd*)			fmt=elf em=obsd ;;
       hppa-*-osf*)			fmt=som em=hppa ;;
       hppa-*-rtems*)			fmt=elf em=hppa ;;
       hppa-*-hpux11*)	case ${cpu} in
@@@@ -254,10 +255,23 @@@@ changequote([,])dnl
       i386-*-netbsd0.8)			fmt=aout em=386bsd ;;
       i386-*-netbsdpe*)			fmt=coff em=pe ;;
       i386-*-netbsdelf*)		fmt=elf em=nbsd ;;
-      i386-*-*n*bsd*)	case ${cpu} in
+      i386-*-netbsd*)	case ${cpu} in
 			    x86_64)	fmt=elf em=nbsd ;;
 			    *)		fmt=aout em=nbsd ;;
 			esac ;;
+changequote(,)dnl
+      i386-*-openbsd*)     em=obsd bfd_gas=yes
+                            case ${cpu} in
+                             x86_64)   fmt=elf ;;
+                             *) case ${os} in
+                                 openbsd[0-2].* | openbsd3.[0-2])
+                                    fmt=aout ;;
+                                 *)
+                                    fmt=elf ;;
+                              esac
+                            esac
+                           ;;
+changequote([,])dnl
       i386-*-linux*aout*)		fmt=aout em=linux ;;
       i386-*-linux*oldld)		fmt=aout em=linux ;;
       i386-*-linux*coff*)		fmt=coff em=linux ;;
@@@@ -344,7 +358,7 @@@@ changequote([,])dnl
       m68k-*-lynxos*)			fmt=coff em=lynx ;;
       m68k-*-netbsdelf*)		fmt=elf em=nbsd ;;
       m68k-*-netbsd*)			fmt=aout em=nbsd bfd_gas=yes ;;
-      m68k-*-openbsd*)			fmt=aout em=nbsd bfd_gas=yes ;;
+      m68k-*-openbsd*)			fmt=aout em=obsd bfd_gas=yes ;;
       m68k-apple-aux*)			fmt=coff em=aux ;;
       m68k-*-psos*)			fmt=elf em=psos;;
 
@@@@ -355,7 +369,6 @@@@ changequote([,])dnl
       mcore-*-pe)			fmt=coff em=pe bfd_gas=yes ;;
 
       # don't change em like *-*-bsd does
-      mips-dec-openbsd*)		fmt=elf endian=little ;;
       mips-dec-bsd*)			fmt=aout endian=little ;;
       mips-sony-bsd*)			fmt=ecoff ;;
       mips-*-bsd*)
@@@@ -392,7 +405,8 @@@@ changequote([,])dnl
       ppc-*-aix5*)			fmt=coff em=aix5 ;;
       ppc-*-aix*)			fmt=coff ;;
       ppc-*-beos*)			fmt=coff ;;
-      ppc-*-*n*bsd* | ppc-*-elf*)	fmt=elf ;;
+      ppc-*-netbsd* | ppc-*-elf*)	fmt=elf ;;
+      ppc-*-openbsd*)                   fmt=elf em=obsd ;;
       ppc-*-eabi* | ppc-*-sysv4*)	fmt=elf ;;
       ppc-*-linux-gnu*)			fmt=elf
 	    case "$endian" in
@@@@ -439,7 +453,7 @@@@ changequote([,])dnl
       ns32k-pc532-mach*)		fmt=aout em=pc532mach ;;
       ns32k-pc532-ux*)			fmt=aout em=pc532mach ;;
       ns32k-pc532-lites*)		fmt=aout em=nbsd532 ;;
-      ns32k-*-*n*bsd*)			fmt=aout em=nbsd532 ;;
+      ns32k-*-netbsd*)			fmt=aout em=nbsd532 ;;
 
       sparc-*-rtemsaout*)		fmt=aout ;;
       sparc-*-rtemself*)		fmt=elf ;;
@@@@ -455,10 +469,18 @@@@ changequote([,])dnl
       sparc-*-sysv4*)			fmt=elf ;;
       sparc-*-solaris*)			fmt=elf ;;
       sparc-*-netbsdelf*)		fmt=elf em=nbsd ;;
-      sparc-*-*n*bsd*)	case ${cpu} in
+      sparc-*-netbsd*)	case ${cpu} in
 			    sparc64)	fmt=elf em=nbsd ;;
 			    *)		fmt=aout em=nbsd ;;
 			esac ;;
+changequote(,)dnl
+      sparc-*-openbsd[0-2].* | sparc-*-openbsd3.[0-1])
+			case ${cpu} in
+			   sparc64)	fmt=elf em=obsd ;;
+			   *)		fmt=aout em=obsd ;;
+			esac ;;
+changequote([,])dnl
+      sparc-*-openbsd*)			fmt=elf em=obsd ;;
       strongarm-*-coff)			fmt=coff ;;
       strongarm-*-elf)			fmt=elf ;;
       strongarm-*-kaos*)		fmt=elf ;;
@


1.15
log
@fix sparc target, fine GNU style as usual, NOT.
@
text
@d1 1
a1 1
$OpenBSD: patch-gas_configure_in,v 1.14 2003/10/11 00:52:22 brad Exp $
@


1.14
log
@upgrade to binutils 2.14

Tested on powerpc/sparc64/alpha
@
text
@d1 1
a1 1
$OpenBSD: patch-gas_configure_in,v 1.13 2003/07/28 05:12:01 brad Exp $
d3 1
a3 1
+++ gas/configure.in	2003-09-04 20:17:26.000000000 -0400
d84 1
a84 1
@@@@ -455,10 +469,21 @@@@ changequote([,])dnl
d94 5
a98 8
+      sparc-*-openbsd*)   em=obsd bfd_gas=yes
+                            case ${os} in
+                               openbsd[0-2].* | openbsd3.[0-1])
+                                  fmt=aout ;;
+                               *)
+                                  fmt=elf ;;
+                            esac
+                          ;;
d100 1
a100 1
+      sparc64-*-openbsd*) em=obsd bfd_gas=yes fmt=elf ;;
@


1.13
log
@add ARM support.
--
From: brad@@, based on original diffs from kevlo@@
@
text
@d1 6
a6 6
$OpenBSD: patch-gas_configure_in,v 1.12 2003/06/30 18:24:16 brad Exp $
--- gas/configure.in.orig	Wed Oct 30 12:07:32 2002
+++ gas/configure.in	Mon Jul 21 16:22:49 2003
@@@@ -193,7 +193,8 @@@@ changequote([,])dnl
       arm*-*-linux-gnu* | arm*-*-uclinux*)	
 					fmt=elf  em=linux ;;
d8 24
a31 20
-      arm-*-netbsd* | arm-*-openbsd*)   fmt=aout em=nbsd ;;
+      arm-*-netbsd*)                    fmt=aout em=nbsd ;;
+      arm-*-openbsd*)                   fmt=elf  em=obsd ;;
       arm-*-oabi | thumb-*-oabi)        fmt=elf ;;
       arm-epoc-pe | thumb-epoc-pe)      fmt=coff em=epoc-pe ;;
       arm-*-wince)			fmt=coff em=wince-pe ;;
@@@@ -222,7 +223,7 @@@@ changequote([,])dnl
       hppa-*-*elf*)         fmt=elf em=hppa ;;
       hppa-*-lites*)        fmt=elf em=hppa ;;
       hppa-*-netbsd*)       fmt=elf em=nbsd ;;
-      hppa-*-openbsd*)      fmt=elf em=hppa ;;
+      hppa-*-openbsd*)      fmt=elf em=obsd ;;
       hppa-*-osf*)          fmt=som em=hppa ;;
       hppa-*-rtems*)        fmt=elf em=hppa ;;
       hppa-*-hpux11*)	    case ${cpu} in
@@@@ -260,7 +261,19 @@@@ changequote([,])dnl
 					;;
 			    esac
 			    ;;
-      i386-*-openbsd*)      fmt=aout em=nbsd bfd_gas=yes;;
d33 11
a43 11
+      i386-*-openbsd*)	    em=obsd bfd_gas=yes
+			     case ${cpu} in
+			      x86_64)	fmt=elf ;;
+			      *) case ${os} in
+				  openbsd[0-2].* | openbsd3.[0-2])
+				     fmt=aout ;;
+				  *)
+				     fmt=elf ;;
+			       esac
+			     esac
+			    ;;
d45 11
a55 11
       i386-*-linux*aout* | i386-*-linux*oldld)   fmt=aout em=linux ;;
       i386-*-linux*coff*)   fmt=coff em=linux ;;
       i386-*-linux-gnu*)    fmt=elf em=linux bfd_gas=yes ;;
@@@@ -344,7 +357,7 @@@@ changequote([,])dnl
       m68k-*-netbsdelf*)    fmt=elf em=nbsd bfd_gas=yes ;;
       m68k-*-netbsdaout* | m68k-*-netbsd*)
 			    fmt=aout em=nbsd bfd_gas=yes ;;
-      m68k-*-openbsd*)      fmt=aout em=nbsd bfd_gas=yes ;;
+      m68k-*-openbsd*)      fmt=aout em=obsd bfd_gas=yes ;;
       m68k-apple-aux*)      fmt=coff em=aux ;;
       m68k-*-psos*)         fmt=elf em=psos;;
d57 2
a58 2
@@@@ -355,7 +368,6 @@@@ changequote([,])dnl
       mcore-*-pe)	    fmt=coff em=pe bfd_gas=yes ;;
d61 20
a80 9
-      mips-dec-openbsd*)    fmt=elf endian=little ;;
       mips-dec-bsd*)        fmt=aout endian=little ;;
       mips-sony-bsd*)       fmt=ecoff ;;
       mips-*-bsd*)          AC_MSG_ERROR(Unknown vendor for mips-bsd configuration.) ;;
@@@@ -434,7 +446,6 @@@@ changequote([,])dnl
       sh64-*-elf*)	    fmt=elf ;;
       ns32k-pc532-mach* | ns32k-pc532-ux*)    fmt=aout em=pc532mach ;;
       ns32k-*-netbsd* | ns32k-pc532-lites*)  fmt=aout em=nbsd532 ;;
-      ns32k-pc532-openbsd*) fmt=aout em=nbsd532 ;;
d82 11
a92 12
       sparc-*-rtemsaout*)   fmt=aout ;;
       sparc-*-rtemself*)    fmt=elf ;;
@@@@ -458,12 +469,17 @@@@ changequote([,])dnl
                                 sparc64) fmt=elf ;;
                             esac
                             ;;
-      sparc-*-openbsd*)     em=nbsd
-                            case ${cpu} in
-                               sparc) fmt=aout ;;
-                               sparc64) fmt=elf ;;
-                            esac
-                            ;;
d95 6
a100 6
+			     case ${os} in
+			        openbsd[0-2].* | openbsd3.[0-1])
+				   fmt=aout ;;
+			        *)
+				   fmt=elf ;;
+			     esac
d104 3
a106 3
 
       strongarm-*-coff)     fmt=coff ;;
       strongarm-*-elf)      fmt=elf ;;
@


1.12
log
@Remove this ARM support crap. It was not given the ok because it had mistakes
and obviously was not tested.
@
text
@d1 1
a1 1
$OpenBSD: patch-gas_configure_in,v 1.11 2003/06/27 02:47:16 kevlo Exp $
d3 12
a14 2
+++ gas/configure.in	Mon Jun 30 12:39:24 2003
@@@@ -222,7 +222,7 @@@@ changequote([,])dnl
d23 1
a23 1
@@@@ -260,7 +260,19 @@@@ changequote([,])dnl
d44 1
a44 1
@@@@ -344,7 +356,7 @@@@ changequote([,])dnl
d53 1
a53 1
@@@@ -355,7 +367,6 @@@@ changequote([,])dnl
d61 1
a61 1
@@@@ -434,7 +445,6 @@@@ changequote([,])dnl
d69 1
a69 1
@@@@ -458,12 +468,17 @@@@ changequote([,])dnl
@


1.11
log
@add ARM support
@
text
@d1 4
a4 15
$OpenBSD: patch-gas_configure_in,v 1.10 2003/06/15 04:43:31 brad Exp $
--- gas/configure.in.orig	Wed Oct 30 17:07:32 2002
+++ gas/configure.in	Tue Jun 24 09:14:52 2003
@@@@ -193,7 +193,9 @@@@
       arm*-*-linux-gnu* | arm*-*-uclinux*)	
 					fmt=elf  em=linux ;;
       arm-*-netbsdelf*)                 fmt=elf  em=nbsd ;;
-      arm-*-netbsd* | arm-*-openbsd*)   fmt=aout em=nbsd ;;
+      arm-*-openbsdelf*)                fmt=elf  em=obsd ;;
+      arm-*-netbsd*)                    fmt=aout em=nbsd ;;
+      arm-*-openbsd*)                   fmt=aout em=obsd ;;
       arm-*-oabi | thumb-*-oabi)        fmt=elf ;;
       arm-epoc-pe | thumb-epoc-pe)      fmt=coff em=epoc-pe ;;
       arm-*-wince)			fmt=coff em=wince-pe ;;
@@@@ -222,7 +224,7 @@@@
d13 1
a13 1
@@@@ -260,7 +262,19 @@@@
d34 1
a34 1
@@@@ -344,7 +358,7 @@@@
d43 1
a43 1
@@@@ -355,7 +369,6 @@@@
d51 1
a51 1
@@@@ -434,7 +447,6 @@@@
d59 1
a59 1
@@@@ -458,12 +470,17 @@@@
@


1.10
log
@add AMD64 support.
--
From: art@@
@
text
@d1 4
a4 4
$OpenBSD: patch-gas_configure_in,v 1.9 2003/06/13 04:17:12 brad Exp $
--- gas/configure.in.orig	Wed Oct 30 18:07:32 2002
+++ gas/configure.in	Sat Jun 14 23:03:37 2003
@@@@ -193,7 +193,8 @@@@ changequote([,])dnl
d9 1
d11 1
a11 1
+      arm-*-openbsd*)                   fmt=elf em=obsd ;;
d15 1
a15 1
@@@@ -222,7 +223,7 @@@@ changequote([,])dnl
d24 1
a24 1
@@@@ -260,7 +261,19 @@@@ changequote([,])dnl
d45 1
a45 1
@@@@ -344,7 +357,7 @@@@ changequote([,])dnl
d54 1
a54 1
@@@@ -355,7 +368,6 @@@@ changequote([,])dnl
d62 1
a62 1
@@@@ -434,7 +446,6 @@@@ changequote([,])dnl
d70 1
a70 1
@@@@ -458,12 +469,17 @@@@ changequote([,])dnl
@


1.9
log
@Actually use the obsd target environment, fgsch@@ thinks this is a better
direction to go in for possible future changes which would afford us greater
flexibility.
@
text
@d1 3
a3 3
$OpenBSD: patch-gas_configure_in,v 1.8 2003/06/12 14:26:20 brad Exp $
--- gas/configure.in.orig	Wed Oct 30 12:07:32 2002
+++ gas/configure.in	Thu Jun 12 12:08:53 2003
d23 1
a23 1
@@@@ -260,7 +261,16 @@@@ changequote([,])dnl
d30 3
a32 1
+			       case ${os} in
d38 1
d44 1
a44 1
@@@@ -344,7 +354,7 @@@@ changequote([,])dnl
d53 1
a53 1
@@@@ -355,7 +365,6 @@@@ changequote([,])dnl
d61 1
a61 1
@@@@ -434,7 +443,6 @@@@ changequote([,])dnl
d69 1
a69 1
@@@@ -458,12 +466,17 @@@@ changequote([,])dnl
@


1.8
log
@instead of using double square brackets to escape the inner set, use
the changequote macro.
@
text
@d1 1
a1 1
$OpenBSD: patch-gas_configure_in,v 1.7 2003/06/08 19:02:58 brad Exp $
d3 12
a14 12
+++ gas/configure.in	Thu Jun 12 10:39:54 2003
@@@@ -180,7 +180,7 @@@@ changequote([,])dnl
       alpha*-*-linuxecoff*) fmt=ecoff ;;
       alpha*-*-linux-gnu*)  fmt=elf em=linux ;;
       alpha*-*-netbsd*)     fmt=elf em=nbsd ;;
-      alpha*-*-openbsd*)    fmt=elf em=obsd ;;
+      alpha*-*-openbsd*)    fmt=elf em=nbsd ;;
 
       arc-*-elf*)           fmt=elf bfd_gas=yes ;;
 
@@@@ -221,8 +221,7 @@@@ changequote([,])dnl
 			    esac ;;
d17 1
a17 1
-      hppa-*-netbsd*)       fmt=elf em=nbsd ;;
d19 1
a19 1
+      hppa-*-netbsd* | hppa-*-openbsd*) fmt=elf em=nbsd ;;
d23 1
a23 1
@@@@ -260,7 +259,16 @@@@ changequote([,])dnl
d29 1
a29 1
+      i386-*-openbsd*)	    em=nbsd bfd_gas=yes
d41 25
d77 1
a77 1
+      sparc-*-openbsd*)   em=nbsd bfd_gas=yes
d86 1
a86 1
+      sparc64-*-openbsd*) em=nbsd bfd_gas=yes fmt=elf ;;
@


1.7
log
@- don't need a separate OpenBSD target environment
- simplify hppa case
@
text
@d1 1
a1 1
$OpenBSD: patch-gas_configure_in,v 1.6 2003/06/07 23:35:49 brad Exp $
d3 1
a3 1
+++ gas/configure.in	Sun Jun  8 15:06:52 2003
d23 1
a23 1
@@@@ -260,7 +259,14 @@@@ changequote([,])dnl
d28 1
d31 1
a31 1
+				  openbsd[[0-2]].* | openbsd3.[[0-2]])
d37 1
d41 1
a41 1
@@@@ -458,12 +464,15 @@@@ changequote([,])dnl
d51 1
d54 1
a54 1
+			        openbsd[[0-2]].* | openbsd3.[[0-1]])
d60 1
@


1.6
log
@- some stuff for i386/a.out (only matches up to 3.2 for now)
- sparc* -> sparc and a few other fixes
@
text
@d1 1
a1 1
$OpenBSD$
d3 21
a23 2
+++ gas/configure.in	Fri Jun  6 14:33:12 2003
@@@@ -260,7 +260,14 @@@@ changequote([,])dnl
d39 1
a39 1
@@@@ -458,12 +465,15 @@@@ changequote([,])dnl
@


1.5
log
@simplify case statement for sparc after fgsch@@ made this pretty obvious
@
text
@d1 1
d3 2
a4 2
+++ gas/configure.in	Thu Jun  5 19:13:17 2003
@@@@ -260,7 +260,7 @@@@ changequote([,])dnl
d9 8
a16 1
+      i386-*-openbsd*)      fmt=elf em=nbsd;;
d20 3
a22 1
@@@@ -460,7 +460,14 @@@@ changequote([,])dnl
d24 2
a25 2
       sparc-*-openbsd*)     em=nbsd
                             case ${cpu} in
d27 15
a41 11
+                               sparc)
+				  case ${os} in
+				     openbsd[[0-2]].* | openbsd3.[[0-1]])
+					 fmt=aout ;;
+				     *)
+					 fmt=elf ;;
+				  esac
+				  ;;
                                sparc64) fmt=elf ;;
                             esac
                             ;;
@


1.4
log
@- gprof is not built with cross-binutils so add another PLIST without it
- fix syntax of gas configure.in stuff for sparc
- add missing change for the sparc ELF transition to bfd
--
Hasn't actually been tested on a real sparc system but it at least allows
me to build a cross-binutils without bombing durring build or the PLIST issue
@
text
@d2 1
a2 1
+++ gas/configure.in	Thu Jun  5 12:36:15 2003
d19 1
a19 1
+				     openbsd[[01]].* | openbsd2.[[0-9]] | openbsd3.[[0-1]])
@


1.3
log
@upgrade to binutils 2.13.2.1

This is work in progress. It is being commited as a starting point so other
people can look at it/fix issues/and maybe Art can add Hammer support? :)
It has been lightly tested on macppc/sparc64/i386 and compile tested by
mickey@@ on hppa.

DO NOT try to build ld.so on sparc/sparc64/macppc and install the resulting
binary unless you like having a hosed system. A known "misfeature" in ld.so
that is being worked on.
--
MAINTAINER ok
@
text
@d2 1
a2 1
+++ gas/configure.in	Tue Jun  3 20:59:35 2003
d12 1
a12 1
@@@@ -460,7 +460,11 @@@@ changequote([,])dnl
d17 8
a24 5
+                               sparc) case ${os} in
+				  openbsd[01].* | openbsd2.[0-9] | openbsd3.[0-1]))
+				     fmt=aout ;;
+				  *)
+				     fmt=elf ;;
@


1.2
log
@don't use te-obsd.h for a.out yet, bfd doesn't know about this target.
@
text
@d1 22
a22 22
$OpenBSD: patch-gas_configure_in,v 1.1.1.1 2002/02/19 04:19:21 fgsch Exp $
--- gas/configure.in.orig	Mon Jun 11 07:04:44 2001
+++ gas/configure.in	Wed Feb 20 06:42:53 2002
@@@@ -173,7 +173,7 @@@@ changequote([,])dnl
 
       alpha*-*-*vms*)	    fmt=evax ;;
       alpha*-*-netware*)    fmt=ecoff ;;
-      alpha*-*-openbsd*)    fmt=ecoff ;;
+      alpha*-*-openbsd*)    fmt=elf em=obsd ;;
       alpha*-*-osf*)        fmt=ecoff ;;
       alpha*-*-linuxecoff*) fmt=ecoff ;;
       alpha*-*-linux-gnu*)  fmt=elf em=linux ;;
@@@@ -215,6 +215,7 @@@@ changequote([,])dnl
 			    esac ;;
       hppa-*-*elf*)         fmt=elf em=hppa ;;
       hppa-*-lites*)        fmt=elf em=hppa ;;
+      hppa-*-openbsd*)      fmt=elf em=hppa ;;
       hppa-*-osf*)          fmt=som em=hppa ;;
       hppa-*-rtems*)        fmt=elf em=hppa ;;
       hppa-*-hpux11*)	    case ${cpu} in
@@@@ -420,7 +421,15 @@@@ changequote([,])dnl
                                 sparc64) fmt=elf ;;
a24 13
-      sparc-*-openbsd*)     fmt=aout em=nbsd ;;
+      sparc-*-openbsd*)     em=nbsd bfd_gas=yes
+                            case ${cpu} in
+                                sparc) case ${os} in
+                                           *elf*) fmt=elf ;;
+                                           *)     fmt=aout ;;
+                                       esac ;;
+                                sparc64) fmt=elf ;;
+                            esac
+                            ;;
 
       strongarm-*-coff)     fmt=coff ;;
       strongarm-*-elf)      fmt=elf ;;
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ gas/configure.in	Wed Jan  2 18:19:21 2002
a20 18
@@@@ -241,7 +242,7 @@@@ changequote([,])dnl
       i386-*-bsd*)          fmt=aout em=386bsd ;;
       i386-*-netbsd0.8)     fmt=aout em=386bsd ;;
       i386-*-netbsd*)       fmt=aout em=nbsd bfd_gas=yes;;
-      i386-*-openbsd*)      fmt=aout em=nbsd bfd_gas=yes;;
+      i386-*-openbsd*)      fmt=aout em=obsd bfd_gas=yes;;
       i386-*-linux*aout* | i386-*-linux*oldld)   fmt=aout em=linux ;;
       i386-*-linux*coff*)   fmt=coff em=linux ;;
       i386-*-linux-gnu*)    fmt=elf em=linux bfd_gas=yes ;;
@@@@ -318,7 +319,7 @@@@ changequote([,])dnl
       m68k-*-gnu*)	    fmt=elf ;;
       m68k-*-lynxos*)       fmt=coff em=lynx ;;
       m68k-*-netbsd*)       fmt=aout em=nbsd bfd_gas=yes ;;
-      m68k-*-openbsd*)      fmt=aout em=nbsd bfd_gas=yes ;;
+      m68k-*-openbsd*)      fmt=aout em=obsd bfd_gas=yes ;;
       m68k-apple-aux*)      fmt=coff em=aux ;;
       m68k-*-psos*)         fmt=elf em=psos;;
 
d26 1
a26 1
+      sparc-*-openbsd*)     em=obsd bfd_gas=yes
@


1.1.1.1
log
@GNU binutils 2.11.2.
@
text
@@
