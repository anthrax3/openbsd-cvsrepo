head	1.7;
access;
symbols
	OPENBSD_3_6:1.6.0.4
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.6.0.2
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.2.0.6
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2;
locks; strict;
comment	@# @;


1.7
date	2004.11.18.23.40.06;	author fgsch;	state dead;
branches;
next	1.6;

1.6
date	2003.10.11.00.52.22;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2003.06.13.04.17.12;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2003.06.05.23.39.48;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2003.06.05.04.03.55;	author brad;	state dead;
branches;
next	1.2;

1.2
date	2002.03.11.00.37.13;	author fgsch;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.10.06.39.30;	author fgsch;	state Exp;
branches;
next	;


desc
@@


1.7
log
@remove binutils now that we have a recent and more closely tracked version.
if it's needed in the future, we can bring it back. pvalchev@@ ok.
@
text
@$OpenBSD: patch-gas_config_tc-i386_h,v 1.6 2003/10/11 00:52:22 brad Exp $
--- gas/config/tc-i386.h.orig	2003-01-23 07:51:05.000000000 -0500
+++ gas/config/tc-i386.h	2003-09-04 02:03:36.000000000 -0400
@@@@ -41,7 +41,7 @@@@ extern unsigned long i386_mach PARAMS ((
 #ifdef TE_FreeBSD
 #define AOUT_TARGET_FORMAT	"a.out-i386-freebsd"
 #endif
-#ifdef TE_NetBSD
+#if defined(TE_NetBSD) || defined(TE_OpenBSD)
 #define AOUT_TARGET_FORMAT	"a.out-i386-netbsd"
 #endif
 #ifdef TE_386BSD
@@@@ -444,7 +444,11 @@@@ arch_entry;
 /* The name of the global offset table generated by the compiler. Allow
    this to be overridden if need be.  */
 #ifndef GLOBAL_OFFSET_TABLE_NAME
+#ifdef OBJ_ELF
 #define GLOBAL_OFFSET_TABLE_NAME "_GLOBAL_OFFSET_TABLE_"
+#else
+#define GLOBAL_OFFSET_TABLE_NAME "__GLOBAL_OFFSET_TABLE_"
+#endif
 #endif
 
 #ifndef LEX_AT
@


1.6
log
@upgrade to binutils 2.14

Tested on powerpc/sparc64/alpha
@
text
@d1 1
a1 1
$OpenBSD: patch-gas_config_tc-i386_h,v 1.5 2003/06/13 04:17:12 brad Exp $
@


1.5
log
@Actually use the obsd target environment, fgsch@@ thinks this is a better
direction to go in for possible future changes which would afford us greater
flexibility.
@
text
@d1 4
a4 4
$OpenBSD: patch-gas_config_tc-i386_h,v 1.4 2003/06/05 23:39:48 brad Exp $
--- gas/config/tc-i386.h.orig	Mon Sep 23 15:11:17 2002
+++ gas/config/tc-i386.h	Thu Jun 12 21:56:14 2003
@@@@ -79,7 +79,7 @@@@ extern unsigned long i386_mach PARAMS ((
d13 1
a13 1
@@@@ -515,7 +515,11 @@@@ arch_entry;
d24 1
a24 1
 #ifdef BFD_ASSEMBLER
@


1.4
log
@- put back a a.out related patch I removed on upgrade
- don't like new files being patched into existence
@
text
@d1 12
a12 3
$OpenBSD$
--- gas/config/tc-i386.h.orig	Thu Jun  5 19:36:34 2003
+++ gas/config/tc-i386.h	Thu Jun  5 19:38:49 2003
@


1.3
log
@upgrade to binutils 2.13.2.1

This is work in progress. It is being commited as a starting point so other
people can look at it/fix issues/and maybe Art can add Hammer support? :)
It has been lightly tested on macppc/sparc64/i386 and compile tested by
mickey@@ on hppa.

DO NOT try to build ld.so on sparc/sparc64/macppc and install the resulting
binary unless you like having a hosed system. A known "misfeature" in ld.so
that is being worked on.
--
MAINTAINER ok
@
text
@d1 4
a4 4
$OpenBSD: patch-gas_config_tc-i386_h,v 1.2 2002/03/11 00:37:13 fgsch Exp $
--- gas/config/tc-i386.h.orig	Wed May 23 00:41:10 2001
+++ gas/config/tc-i386.h	Sun Mar 10 20:27:09 2002
@@@@ -493,7 +493,11 @@@@ arch_entry;
@


1.2
log
@hrmm, regen. something was wrong with it.
@
text
@d1 1
a1 1
$OpenBSD: patch-gas_config_tc-i386_h,v 1.1 2002/03/10 06:39:30 fgsch Exp $
@


1.1
log
@o regen patches.
o add leading underscode to _GLOBAL_OFFSET_TABLE for a.out.
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ gas/config/tc-i386.h	Sun Mar 10 02:34:07 2002
d9 1
a9 1
+#define GLOBAL_OFFSET_TABLE_NAME "_GLOBAL_OFFSET_TABLE_"
d11 1
a11 1
 #define GLOBAL_OFFSET_TABLE_NAME "__GLOBAL_OFFSET_TABLE_"
@

