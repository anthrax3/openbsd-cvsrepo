head	1.8;
access;
symbols
	OPENBSD_3_6:1.7.0.2
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.6.0.2
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.1.1.1.0.6
	OPENBSD_3_3_BASE:1.1.1.1
	OPENBSD_3_2:1.1.1.1.0.4
	OPENBSD_3_2_BASE:1.1.1.1
	OPENBSD_3_1:1.1.1.1.0.2
	OPENBSD_3_1_BASE:1.1.1.1
	fgsch_20020219:1.1.1.1
	fgsch:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2004.11.18.23.40.06;	author fgsch;	state dead;
branches;
next	1.7;

1.7
date	2004.05.10.21.41.07;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2004.02.19.05.51.13;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2003.07.16.19.17.22;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2003.06.27.16.54.57;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2003.06.05.04.25.58;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.05.04.03.55;	author brad;	state dead;
branches;
next	1.1;

1.1
date	2002.02.19.04.19.21;	author fgsch;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.02.19.04.19.21;	author fgsch;	state Exp;
branches;
next	;


desc
@@


1.8
log
@remove binutils now that we have a recent and more closely tracked version.
if it's needed in the future, we can bring it back. pvalchev@@ ok.
@
text
@$OpenBSD: patch-ld_emulparams_hppaobsd_sh,v 1.7 2004/05/10 21:41:07 brad Exp $
--- ld/emulparams/hppaobsd.sh.orig	2002-07-08 22:42:13.000000000 -0400
+++ ld/emulparams/hppaobsd.sh	2004-05-10 17:37:36.000000000 -0400
@@@@ -1,5 +1,9 @@@@
 . ${srcdir}/emulparams/hppanbsd.sh
+MAXPAGESIZE=0x1000
+. ${srcdir}/emulparams/elf_obsd.sh
 
 TEXT_START_ADDR=0x1000
 TARGET_PAGE_SIZE=0x1000
-MAXPAGESIZE=0x1000
+ENTRY="__start"
+
+unset START
@


1.7
log
@don't bother checking for 3.2
@
text
@d1 1
a1 1
$OpenBSD: patch-ld_emulparams_hppaobsd_sh,v 1.6 2004/02/19 05:51:13 brad Exp $
@


1.6
log
@set MAXPAGESIZE before including elf_obsd.sh
@
text
@d1 1
a1 1
$OpenBSD: patch-ld_emulparams_hppaobsd_sh,v 1.5 2003/07/16 19:17:22 brad Exp $
d3 2
a4 2
+++ ld/emulparams/hppaobsd.sh	2004-02-19 00:45:04.000000000 -0500
@@@@ -1,5 +1,14 @@@@
a14 5
+
+case "${target}" in
+hppa-*-openbsd3.2)
+   unset PAD_RO RODATA_PADSIZE RODATA_ALIGN PAD_GOT PAD_PLT ;;
+esac
@


1.5
log
@- ensure consistent LIB_PATH on all OpenBSD ELF systems
- move WxorX setup into separate OpenBSD arch targets
--
"I have not found any problems with the binutils patch" drahn@@
@
text
@d1 3
a3 3
$OpenBSD: patch-ld_emulparams_hppaobsd_sh,v 1.4 2003/06/27 16:54:57 brad Exp $
--- ld/emulparams/hppaobsd.sh.orig	Mon Jul  8 22:42:13 2002
+++ ld/emulparams/hppaobsd.sh	Wed Jul  9 16:08:44 2003
d6 1
d11 1
a11 1
 MAXPAGESIZE=0x1000
@


1.4
log
@simplify this a bit by using the upstream config and overriding certain
variables.
@
text
@d1 1
a1 1
$OpenBSD: patch-ld_emulparams_hppaobsd_sh,v 1.3 2003/06/05 04:25:58 brad Exp $
d3 5
a7 2
+++ ld/emulparams/hppaobsd.sh	Fri Jun 27 11:42:37 2003
@@@@ -3,3 +3,11 @@@@
a11 5
+PAD_RO=
+RODATA_PADSIZE=${MAXPAGESIZE}
+RODATA_ALIGN=". = ALIGN(${RODATA_PADSIZE}) + (. & (${RODATA_PADSIZE} - 1))"
+PAD_GOT=
+PAD_PLT=
d14 5
@


1.3
log
@cvs sucks.
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 7
+++ ld/emulparams/hppaobsd.sh	Thu Apr 24 16:21:02 2003
@@@@ -1,5 +1,22 @@@@
-. ${srcdir}/emulparams/hppanbsd.sh
-
+SCRIPT_NAME=elf
+ELFSIZE=32
+OUTPUT_FORMAT="elf32-hppa"
a7 3
+ARCH=hppa
+MACHINE=hppa1.1		# We use 1.1 specific features.
+NOP=0x08000240
a8 4
+OTHER_READONLY_SECTIONS="
+  .PARISC.unwind ${RELOCATING-0} : { *(.PARISC.unwind) }"
+DATA_START_SYMBOLS='PROVIDE ($global$ = .);'
+DATA_PLT=
d14 2
a15 3
+GENERATE_SHLIB_SCRIPT=yes
+TEMPLATE_NAME=elf32
+EXTRA_EM_FILE=hppaelf
@


1.2
log
@upgrade to binutils 2.13.2.1

This is work in progress. It is being commited as a starting point so other
people can look at it/fix issues/and maybe Art can add Hammer support? :)
It has been lightly tested on macppc/sparc64/i386 and compile tested by
mickey@@ on hppa.

DO NOT try to build ld.so on sparc/sparc64/macppc and install the resulting
binary unless you like having a hosed system. A known "misfeature" in ld.so
that is being worked on.
--
MAINTAINER ok
@
text
@d1 6
a6 4
$OpenBSD: patch-ld_emulparams_hppaobsd_sh,v 1.1 2002/02/19 04:19:21 fgsch Exp $
--- ld/emulparams/hppaobsd.sh.orig	Wed Feb 13 23:19:24 2002
+++ ld/emulparams/hppaobsd.sh	Wed Feb 13 23:19:24 2002
@@@@ -0,0 +1,17 @@@@
d10 3
a12 3
+TEXT_START_ADDR=0x10000
+TARGET_PAGE_SIZE=0x10000
+MAXPAGESIZE=0x10000
d16 1
a16 1
+START="_start"
d21 5
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@GNU binutils 2.11.2.
@
text
@@
