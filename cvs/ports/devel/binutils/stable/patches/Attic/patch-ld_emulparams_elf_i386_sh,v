head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2003.07.16.19.17.22;	author brad;	state dead;
branches;
next	1.1;

1.1
date	2003.06.05.04.03.55;	author brad;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- ensure consistent LIB_PATH on all OpenBSD ELF systems
- move WxorX setup into separate OpenBSD arch targets
--
"I have not found any problems with the binutils patch" drahn@@
@
text
@$OpenBSD: patch-ld_emulparams_elf_i386_sh,v 1.1 2003/06/05 04:03:55 brad Exp $
--- ld/emulparams/elf_i386.sh.orig	Sat Jul 13 21:14:46 2002
+++ ld/emulparams/elf_i386.sh	Wed May  7 00:51:53 2003
@@@@ -1,12 +1,17 @@@@
 SCRIPT_NAME=elf
 OUTPUT_FORMAT="elf32-i386"
-TEXT_START_ADDR=0x08048000
+TEXT_START_ADDR=0x1C000000
 MAXPAGESIZE=0x1000
 COMMONPAGESIZE=0x1000
 NONPAGED_TEXT_START_ADDR=0x08048000
 ARCH=i386
 MACHINE=
 NOP=0x90909090
+PAD_RO=
+RODATA_PADSIZE=0x20000000
+RODATA_ALIGN=". = ALIGN(${RODATA_PADSIZE})"
+RODATA_ALIGN_ADD="${TEXT_START_ADDR}"
+PAD_GOT=
 TEMPLATE_NAME=elf32
 GENERATE_SHLIB_SCRIPT=yes
 NO_SMALL_DATA=yes
@


1.1
log
@upgrade to binutils 2.13.2.1

This is work in progress. It is being commited as a starting point so other
people can look at it/fix issues/and maybe Art can add Hammer support? :)
It has been lightly tested on macppc/sparc64/i386 and compile tested by
mickey@@ on hppa.

DO NOT try to build ld.so on sparc/sparc64/macppc and install the resulting
binary unless you like having a hosed system. A known "misfeature" in ld.so
that is being worked on.
--
MAINTAINER ok
@
text
@d1 1
a1 1
$OpenBSD$
@

