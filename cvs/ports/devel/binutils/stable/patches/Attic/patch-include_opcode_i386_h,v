head	1.2;
access;
symbols
	OPENBSD_3_6:1.1.0.4
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.2
	OPENBSD_3_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2004.11.18.23.40.06;	author fgsch;	state dead;
branches;
next	1.1;

1.1
date	2004.02.10.23.26.46;	author brad;	state Exp;
branches;
next	;


desc
@@


1.2
log
@remove binutils now that we have a recent and more closely tracked version.
if it's needed in the future, we can bring it back. pvalchev@@ ok.
@
text
@$OpenBSD: patch-include_opcode_i386_h,v 1.1 2004/02/10 23:26:46 brad Exp $
--- include/opcode/i386.h.orig	2004-02-06 03:46:57.000000000 -0500
+++ include/opcode/i386.h	2004-02-06 03:47:51.000000000 -0500
@@@@ -908,6 +908,13 @@@@ static const template i386_optab[] = {
 /* 2nd. official undefined instr. */
 {"ud2b",    0, 0x0fb9, X, Cpu686, NoSuf,		{ 0, 0, 0} },
 
+/* VIA C3 extensions */
+{"xstore-rng",0, 0x0fa7, 0xc0, Cpu686, ImmExt|NoSuf|IsString,  { 0, 0, 0} },
+{"xcrypt-ecb",0, 0x0fa7, 0xc8, Cpu686, ImmExt|NoSuf|IsString,  { 0, 0, 0} },
+{"xcrypt-cbc",0, 0x0fa7, 0xd0, Cpu686, ImmExt|NoSuf|IsString,  { 0, 0, 0} },
+{"xcrypt-cfb",0, 0x0fa7, 0xe0, Cpu686, ImmExt|NoSuf|IsString,  { 0, 0, 0} },
+{"xcrypt-ofb",0, 0x0fa7, 0xe8, Cpu686, ImmExt|NoSuf|IsString,  { 0, 0, 0} },
+
 {"cmovo",   2, 0x0f40, X, Cpu686, wlq_Suf|Modrm,	{ WordReg|WordMem, WordReg, 0} },
 {"cmovno",  2, 0x0f41, X, Cpu686, wlq_Suf|Modrm,	{ WordReg|WordMem, WordReg, 0} },
 {"cmovb",   2, 0x0f42, X, Cpu686, wlq_Suf|Modrm,	{ WordReg|WordMem, WordReg, 0} },
@


1.1
log
@Add support for xmove-rng and xcrypt-{ecb,cbc,cfb,ofb} instructions found
in VIA C3 cpus. Very simple encoding: 0f a7 {c0, c8, d0, e0, d8}.  This
change is placed into the public domain, so someone get it back to FSF
@
text
@d1 1
a1 1
$OpenBSD$
@

