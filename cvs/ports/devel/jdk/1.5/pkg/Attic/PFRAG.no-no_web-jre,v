head	1.8;
access;
symbols
	OPENBSD_5_0:1.7.0.14
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.12
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.10
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.8
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.4
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.6
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.2
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.1.0.4
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.8
date	2011.10.07.13.54.31;	author kurt;	state dead;
branches;
next	1.7;

1.7
date	2008.06.28.12.34.58;	author kurt;	state Exp;
branches;
next	1.6;

1.6
date	2007.10.25.20.51.41;	author kurt;	state Exp;
branches;
next	1.5;

1.5
date	2007.07.27.19.29.52;	author kurt;	state Exp;
branches;
next	1.4;

1.4
date	2007.06.27.21.51.09;	author kurt;	state Exp;
branches;
next	1.3;

1.3
date	2007.04.13.00.29.48;	author kurt;	state Exp;
branches;
next	1.2;

1.2
date	2007.02.01.21.00.52;	author kurt;	state Exp;
branches;
next	1.1;

1.1
date	2005.11.23.19.39.14;	author kurt;	state Exp;
branches;
next	;


desc
@@


1.8
log
@- remove devel/jdk/1.5 and lang/kaffe
- adjust java.port.mk for their removal
- bump affected packages
okay jasper@@
@
text
@@@comment $OpenBSD: PFRAG.no-no_web-jre,v 1.7 2008/06/28 12:34:58 kurt Exp $
${JREHOME}/bin/ControlPanel
@@bin ${JREHOME}/bin/java_vm
@@bin ${JREHOME}/bin/javaws
${JREHOME}/javaws/
${JREHOME}/javaws/javaws
${JREHOME}/lib/deploy/
${JREHOME}/lib/deploy.jar
${JREHOME}/lib/deploy/ffjcext.zip
${JREHOME}/lib/${MACHINE_ARCH}/libdeploy.so
${JREHOME}/lib/${MACHINE_ARCH}/libjavaplugin_jni.so
${JREHOME}/lib/${MACHINE_ARCH}/libjavaplugin_nscp.so
${JREHOME}/lib/images/icons/
${JREHOME}/lib/images/icons/sun-java.png
${JREHOME}/lib/images/icons/sun-java_HighContrast.png
${JREHOME}/lib/images/icons/sun-java_HighContrastInverse.png
${JREHOME}/lib/images/icons/sun-java_LowContrast.png
${JREHOME}/lib/javaws/
${JREHOME}/lib/javaws.jar
${JREHOME}/lib/javaws/Java1.5.ico
${JREHOME}/lib/javaws/messages.properties
${JREHOME}/lib/javaws/messages_de.properties
${JREHOME}/lib/javaws/messages_es.properties
${JREHOME}/lib/javaws/messages_fr.properties
${JREHOME}/lib/javaws/messages_it.properties
${JREHOME}/lib/javaws/messages_ja.properties
${JREHOME}/lib/javaws/messages_ko.properties
${JREHOME}/lib/javaws/messages_sv.properties
${JREHOME}/lib/javaws/messages_zh_CN.properties
${JREHOME}/lib/javaws/messages_zh_HK.properties
${JREHOME}/lib/javaws/messages_zh_TW.properties
${JREHOME}/lib/javaws/miniSplash.jpg
${JREHOME}/lib/locale/
${JREHOME}/lib/locale/de/
${JREHOME}/lib/locale/de/LC_MESSAGES/
${JREHOME}/lib/locale/de/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/es/
${JREHOME}/lib/locale/es/LC_MESSAGES/
${JREHOME}/lib/locale/es/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/fr/
${JREHOME}/lib/locale/fr/LC_MESSAGES/
${JREHOME}/lib/locale/fr/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/it/
${JREHOME}/lib/locale/it/LC_MESSAGES/
${JREHOME}/lib/locale/it/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/ja/
${JREHOME}/lib/locale/ja/LC_MESSAGES/
${JREHOME}/lib/locale/ja/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/ko/
${JREHOME}/lib/locale/ko.UTF-8/
${JREHOME}/lib/locale/ko.UTF-8/LC_MESSAGES/
${JREHOME}/lib/locale/ko.UTF-8/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/ko/LC_MESSAGES/
${JREHOME}/lib/locale/ko/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/sv/
${JREHOME}/lib/locale/sv/LC_MESSAGES/
${JREHOME}/lib/locale/sv/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/zh/
${JREHOME}/lib/locale/zh.GBK/
${JREHOME}/lib/locale/zh.GBK/LC_MESSAGES/
${JREHOME}/lib/locale/zh.GBK/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/zh/LC_MESSAGES/
${JREHOME}/lib/locale/zh/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/zh_HK.BIG5HK/
${JREHOME}/lib/locale/zh_HK.BIG5HK/LC_MESSAGES/
${JREHOME}/lib/locale/zh_HK.BIG5HK/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/zh_TW/
${JREHOME}/lib/locale/zh_TW.BIG5/
${JREHOME}/lib/locale/zh_TW.BIG5/LC_MESSAGES/
${JREHOME}/lib/locale/zh_TW.BIG5/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/locale/zh_TW/LC_MESSAGES/
${JREHOME}/lib/locale/zh_TW/LC_MESSAGES/sunw_java_plugin.mo
${JREHOME}/lib/plugin.jar
${JREHOME}/lib/security/javaws.policy
@@man ${JREHOME}/man/man1/javaws.1
${JREHOME}/plugin/
${JREHOME}/plugin/desktop/
${JREHOME}/plugin/desktop/sun_java.desktop
${JREHOME}/plugin/desktop/sun_java.png
${JREHOME}/plugin/${MACHINE_ARCH}/
${JREHOME}/plugin/${MACHINE_ARCH}/ns7/
${JREHOME}/plugin/${MACHINE_ARCH}/ns7/libjavaplugin_oji.so
@


1.7
log
@- remove work-arounds for missing getpwuid_r now that we have it
- regen pkg files with @@bin markers
@
text
@d1 1
a1 1
@@comment $OpenBSD: PFRAG.no-no_web-jre,v 1.6 2007/10/25 20:51:41 kurt Exp $
@


1.6
log
@- update to BSD patchset 7 based off Sun's JRL licensed Update 13 source:
http://java.sun.com/j2se/1.5.0/ReleaseNotes.html#150_13
- Do a better job respecting Sun's JRL license by using interactive
  license verification, installing the correct license and include a
  license blurb in the pkg MESSAGEs. (Interactive license verification
  script from FreeBSD/Greg Lewis)
- fix a packing problem with the no_web FLAVOR.

NOTE: This port is now IS_INTERACTIVE=Yes. After agreeing to the JRL
license, users can put ACCEPT_JRL_LICENSE=Yes into /etc/mk.conf to
automatically accept the license and make the port IS_INTERACTIVE=No.
Bulk builders will need to do this so things like OpenOffice get built.
okay naddy@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PFRAG.no-no_web-jre,v 1.5 2007/07/27 19:29:52 kurt Exp $
d3 2
a4 2
${JREHOME}/bin/java_vm
${JREHOME}/bin/javaws
@


1.5
log
@- upgrade to Update 12 srcs which fixes the following bugs:
http://java.sun.com/j2se/1.5.0/ReleaseNotes.html#150_12
- remove patches I committed into patchset 6
@
text
@d1 1
a1 1
@@comment $OpenBSD: PFRAG.no-no_web-jre,v 1.4 2007/06/27 21:51:09 kurt Exp $
d7 1
d9 1
@


1.4
log
@- update port to be based of Sun's 1.5.0 Update 11 src which includes many
bug fixes since the initial release of the 1.5 jdk. I'm sure some of the
fixes are security related but I wasn't able to find a concise list. All
the bugs fixes listed here from update 11 and lower should be fixed by
this update: http://java.sun.com/j2se/1.5.0/ReleaseNotes.html#150_11
- NOTE: License change: used to be SCSL, now is JRL (Java Research
License). Still no packages with this license but at least we get the bug
fixes and security fixes now: https://tiger.dev.java.net/
- enable version scripts on libjvm which fixes a symbol conflict with
recent xulrunner which is used by eclipse's internal swt-browser.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PFRAG.no-no_web-jre,v 1.3 2007/04/13 00:29:48 kurt Exp $
d7 1
a10 1
${JREHOME}/lib/deploy.jar
d75 3
a80 3
${JREHOME}/plugin/desktop/
${JREHOME}/plugin/desktop/sun_java.desktop
${JREHOME}/plugin/desktop/sun_java.png
@


1.3
log
@- work-around libpthread limitations in javaForkAndExec() by adjusting the
  child process to not set file descriptors back to blocking when closing
  them. This fixes the netbeans build failure since a libpthread fix is not
  evident.
- update the North America time zone file to account for the tz changes
  (from ian@@)
- use X11BASE
- SHARED_ONLY=Yes
@
text
@d1 1
a1 1
@@comment $OpenBSD$
a6 1
${JREHOME}/lib/deploy.jar
d10 1
d75 3
a80 3
${JREHOME}/plugin/${MACHINE_ARCH}/
${JREHOME}/plugin/${MACHINE_ARCH}/ns7/
${JREHOME}/plugin/${MACHINE_ARCH}/ns7/libjavaplugin_oji.so
@


1.2
log
@- fix mistake that broke OOo build. the jdk needs to search ${PREFIX}/lib
by default.
- regen plist and move javaws man page to no-no_web PFRAG files where it
belongs.
@
text
@d1 1
d8 3
a79 3
${JREHOME}/lib/${MACHINE_ARCH}/libdeploy.so
${JREHOME}/lib/${MACHINE_ARCH}/libjavaplugin_jni.so
${JREHOME}/lib/${MACHINE_ARCH}/libjavaplugin_nscp.so
@


1.1
log
@- add plugin and javaws support. disable with no_web flavor.
Demos all work but deadlocking the vm under load has been
noted. Both MToolkit and XToolkit work ok so far.
- fix segfault with MToolkit where processTree was called
with to==NULL.
- fix NPE in plugin paintGrayBox where g==null
- fix javaws startup (from FreeBSD)
- forgot to mention in last commit: Forte Peformance Tools
collector is no longer disabled.
@
text
@d69 1
@

