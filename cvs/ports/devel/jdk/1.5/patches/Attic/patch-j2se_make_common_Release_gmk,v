head	1.4;
access;
symbols
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_3_8:1.1.1.1.0.2
	OPENBSD_3_8_BASE:1.1.1.1
	kurt_20050525:1.1.1.1
	kurt:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2007.06.27.21.51.09;	author kurt;	state dead;
branches;
next	1.3;

1.3
date	2007.02.04.15.57.06;	author kurt;	state Exp;
branches;
next	1.2;

1.2
date	2005.11.22.14.43.05;	author kurt;	state dead;
branches;
next	1.1;

1.1
date	2005.05.25.17.27.53;	author kurt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.05.25.17.27.53;	author kurt;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- update port to be based of Sun's 1.5.0 Update 11 src which includes many
bug fixes since the initial release of the 1.5 jdk. I'm sure some of the
fixes are security related but I wasn't able to find a concise list. All
the bugs fixes listed here from update 11 and lower should be fixed by
this update: http://java.sun.com/j2se/1.5.0/ReleaseNotes.html#150_11
- NOTE: License change: used to be SCSL, now is JRL (Java Research
License). Still no packages with this license but at least we get the bug
fixes and security fixes now: https://tiger.dev.java.net/
- enable version scripts on libjvm which fixes a symbol conflict with
recent xulrunner which is used by eclipse's internal swt-browser.
@
text
@$OpenBSD: patch-j2se_make_common_Release_gmk,v 1.3 2007/02/04 15:57:06 kurt Exp $
--- j2se/make/common/Release.gmk.orig	Sat Feb  3 16:53:21 2007
+++ j2se/make/common/Release.gmk	Sat Feb  3 16:53:32 2007
@@@@ -122,9 +122,7 @@@@ JRE_MAN_PAGES = \
 	pack200.1	\
 	unpack200.1
 
-ifeq ($(ARCH_DATA_MODEL),32)
   JRE_MAN_PAGES += javaws.1
-endif
 
 ifeq ($(LINUX_OR_BSD), true)
   JRE_MAN_PAGES += \
@


1.3
log
@install javaws man page for amd64 too. fixes a packaging problem on amd64
found by wilfried@@. okay wilfried@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@- update to patchset 2. mostly removing patches now included in patchset.
- link awt_robot with -pthread
- disable a runtime Motif version check that incorrectly thought we were
using Motif 1.2 based on Xm major version. problem reported by Laurence
Tratt
- plugin and webstart comming later
@
text
@d1 6
a6 6
$OpenBSD: patch-j2se_make_common_Release_gmk,v 1.1 2005/05/25 17:27:53 kurt Exp $
--- j2se/make/common/Release.gmk.orig	Tue Jan 25 22:14:36 2005
+++ j2se/make/common/Release.gmk	Tue Jan 25 22:16:08 2005
@@@@ -177,6 +177,12 @@@@ ifeq ($(PLATFORM), bsd)
   DEST_MAN_PATH = man/man1
 endif
d8 6
a13 18
+ifeq ($(TRUE_PLATFORM), OpenBSD)
+  FILES_FROM_ARG=-I
+else 
+  FILES_FROM_ARG=-T
+endif
+
 #
 # Targets.
 #
@@@@ -737,7 +743,7 @@@@ else # SOLARIS64
 	  ($(CD) $$d;  \
 	    $(FIND) $(SOURCES) -name SCCS -prune -o -name CVS -prune \
 		-o -name '*.java' \! -name '*-*' -print > $(ABS_TMPDIR)/src-files.list ; \
-	    $(TAR) cf - -T $(ABS_TMPDIR)/src-files.list | \
+	    $(TAR) cf - $(FILES_FROM_ARG) $(ABS_TMPDIR)/src-files.list | \
 	  	($(CD) $(JDK_IMAGE_DIR)/src; $(TAR) xf -); \
 	  ); \
 	done
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@initial import of 1.5
@
text
@@
