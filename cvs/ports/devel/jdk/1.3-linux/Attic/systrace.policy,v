head	1.10;
access;
symbols
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.5.0.2
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.4.0.4
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.1.0.2
	OPENBSD_3_6_BASE:1.1;
locks; strict;
comment	@# @;


1.10
date	2008.02.14.21.48.43;	author kurt;	state dead;
branches;
next	1.9;

1.9
date	2007.06.06.04.33.33;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2007.01.31.18.14.36;	author kurt;	state Exp;
branches;
next	1.7;

1.7
date	2006.10.19.09.39.58;	author sturm;	state Exp;
branches;
next	1.6;

1.6
date	2006.04.01.13.58.49;	author sturm;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2005.10.01.12.16.47;	author sturm;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2005.02.09.20.36.29;	author sturm;	state Exp;
branches;
next	1.3;

1.3
date	2004.12.25.19.23.25;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2004.10.03.14.33.53;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.01.14.29.17;	author sturm;	state Exp;
branches;
next	;

1.5.2.1
date	2007.01.31.18.15.31;	author kurt;	state Exp;
branches;
next	;

1.6.2.1
date	2007.02.03.20.55.24;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.10
log
@- remove 1.3-linux now that it is no longer needed for building 1.4
- update 1.3+ MODJAVA_RUN_DEPENDS to account for 1.3-linux removal
okay ian@@ pval@@
@
text
@# $OpenBSD: systrace.policy,v 1.9 2007/06/06 04:33:33 steven Exp $
Policy: ${WRKDIR}/j2sdk-1_3_1_19-linux-i586.bin, Emulation: linux
	linux-brk: permit
	linux-chmod: permit
	linux-clone: permit
	linux-close: permit
	linux-exit: permit
	linux-linux_exit_group: permit
	linux-fsread: permit
	linux-fstat64: permit
	linux-fswrite: filename match "${WRKDIR}" then permit
	linux-getegid: permit
	linux-geteuid: permit
	linux-getgid: permit
	linux-getuid: permit
	linux-ioctl: permit
	linux-lseek: permit
	linux-lstat64: permit
	linux-mmap: permit
	linux-mprotect: permit
	linux-munmap: permit
	linux-read: permit
	linux-rt_sigaction: permit
	linux-stat64: permit
	linux-symlink: filename match "${WRKDIR}" then permit
	linux-uname: permit
	linux-utime: permit
	linux-write: permit
	linux-writev: permit

Policy: ${WRKSRC}/bin/i386/green_threads/jar, Emulation: linux
	linux-brk: permit
	linux-close: permit
	linux-exit: permit
	linux-linux_exit_group: permit
	linux-fcntl64: permit
	linux-fsread: permit
	linux-fstat64: permit
	linux-fswrite: filename match "${WRKDIR}" then permit
	linux-__getcwd: permit
	linux-getdents64: permit
	linux-getegid: permit
	linux-geteuid: permit
	linux-getgid: permit
	linux-getpid: permit
	linux-getrlimit: permit
	linux-gettimeofday: permit
	linux-getuid: permit
	linux-ioctl: permit
	linux-llseek: permit
	linux-lstat64: permit
	linux-mmap: permit
	linux-mprotect: permit
	linux-munmap: permit
	linux-read: permit
	linux-rename: filename match "${WRKDIR}" and filename[1] match "${WRKDIR}" then permit
	linux-rt_sigaction: permit
	linux-rt_sigprocmask: permit
	linux-setrlimit: permit
	linux-socketcall: permit
	linux-stat64: permit
	linux-time: permit
	linux-uname: permit
	linux-write: permit
	linux-writev: permit

Policy: ${WRKSRC}/jre/bin/i386/realpath, Emulation: linux
	linux-brk: permit
	linux-close: permit
	linux-exit: permit
	linux-linux_exit_group: permit
	linux-fsread: permit
	linux-fstat64: permit
	linux-getegid: permit
	linux-geteuid: permit
	linux-getgid: permit
	linux-getuid: permit
	linux-lstat64: permit
	linux-mmap: permit
	linux-mprotect: permit
	linux-munmap: permit
	linux-read: permit
	linux-uname: permit
	linux-write: permit
	linux-writev: permit
@


1.9
log
@linux-getcwd -> linux-__getcwd after the change in linux compat.
fixes build of jdk 1.4 with systrace.

"makes sense" sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: systrace.policy,v 1.8 2007/01/31 18:14:36 kurt Exp $
@


1.8
log
@Security fix for CVE-2007-0243:

Buffer overflow allows applets to gain privileges via a GIF image with a
block with a 0 width field, which triggers memory corruption and possible
execution of arbitrary code.
@
text
@d1 1
a1 1
# $OpenBSD: systrace.policy,v 1.7 2006/10/19 09:39:58 sturm Exp $
d40 1
a40 1
	linux-getcwd: permit
@


1.7
log
@switch to fedora_base and adapt systrace.policy files accordingly
@
text
@d1 2
a2 2
# $OpenBSD: systrace.policy,v 1.6 2006/04/01 13:58:49 sturm Exp $
Policy: ${WRKDIR}/j2sdk-1_3_1_16-linux-i586.bin, Emulation: linux
@


1.6
log
@fix build with systrace
@
text
@d1 1
a1 1
# $OpenBSD: systrace.policy,v 1.5 2005/10/01 12:16:47 sturm Exp $
d8 1
d20 1
d35 1
d71 1
d80 1
@


1.6.2.1
log
@Security fix for CVE-2007-0243:

Buffer overflow allows applets to gain privileges via a GIF image with a
block with a 0 width field, which triggers memory corruption and possible
execution of arbitrary code.
@
text
@d1 2
a2 2
# $OpenBSD: systrace.policy,v 1.6 2006/04/01 13:58:49 sturm Exp $
Policy: ${WRKDIR}/j2sdk-1_3_1_19-linux-i586.bin, Emulation: linux
@


1.5
log
@sync distfile

as this is the only port, where we have a versioned distfile in
systrace.policy AND this jdk is EOL, there is no need for a generic
solution

discussed with and ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: systrace.policy,v 1.4 2005/02/09 20:36:29 sturm Exp $
d7 1
d28 39
d68 13
@


1.5.2.1
log
@Security fix for CVE-2007-0243:

Buffer overflow allows applets to gain privileges via a GIF image with a
block with a 0 width field, which triggers memory corruption and possible
execution of arbitrary code.

okay sturm@@
@
text
@d1 2
a2 2
# $OpenBSD: systrace.policy,v 1.5 2005/10/01 12:16:47 sturm Exp $
Policy: ${WRKDIR}/j2sdk-1_3_1_19-linux-i586.bin, Emulation: linux
@


1.4
log
@add $OpenBSD$ tag
@
text
@d1 2
a2 2
# $OpenBSD$
Policy: ${WRKDIR}/j2sdk-1_3_1_15-linux-i586.bin, Emulation: linux
@


1.3
log
@trivial update to 1.3.1_15
@
text
@d1 1
@


1.2
log
@update to 1.3.1_13
@
text
@d1 1
a1 1
Policy: ${WRKDIR}/j2sdk-1_3_1_13-linux-i586.bin, Emulation: linux
@


1.1
log
@build with systrace enabled
@
text
@d1 1
a1 1
Policy: ${WRKDIR}/j2sdk-1_3_1_11-linux-i586.bin, Emulation: linux
@

