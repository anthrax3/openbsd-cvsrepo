head	1.2;
access;
symbols
	OPENBSD_3_7:1.1.1.1.0.6
	OPENBSD_3_7_BASE:1.1.1.1
	OPENBSD_3_6:1.1.1.1.0.4
	OPENBSD_3_6_BASE:1.1.1.1
	OPENBSD_3_5:1.1.1.1.0.2
	OPENBSD_3_5_BASE:1.1.1.1
	kmiller_20040129:1.1.1.1
	pvalchev:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2005.06.03.17.27.54;	author kurt;	state dead;
branches;
next	1.1;

1.1
date	2004.01.29.22.02.20;	author pvalchev;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.01.29.22.02.20;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- Add support for powerpc. With some tips from tedu@@ and drahn@@, thanks!
- Change bootstrap method. No longer use 1.3-linux port to bootstrap.
  Use class files from a linux binary jdk and extra source and header
  files from my website.
- Remove plugin support. plugin has security issues and doesn't work
  with recent mozilla/firefox versions.
- Patches for arm native-threads are included but not enabled yet.
  I prefer to have all arches use green-threads to avoid arch specific
  pkg files. Also noticed some regressions with native-threads on i386.
  arm support from Dale Rahn (drahn@@).
- quiet pre-patch phase

okay ian@@
@
text
@$OpenBSD: patch-j2sdk1_3_1_ext_plugin_build_solaris_GNUmakefile,v 1.1 2004/01/29 22:02:20 pvalchev Exp $
--- j2sdk1.3.1/ext/plugin/build/solaris/GNUmakefile.orig	2004-01-08 20:10:46.000000000 -0500
+++ j2sdk1.3.1/ext/plugin/build/solaris/GNUmakefile	2004-01-08 22:33:03.000000000 -0500
@@@@ -358,9 +358,10 @@@@ CLASSPATH= $(CLASSDIR):$(JAVASRCDIR)
 SHARE_INCLUDE = ../../../../src/share/javavm/export
 SOLARIS_INCLUDE = ../../../../src/solaris/javavm/export
 AWT_INCLUDE = ../../../../src/solaris/native/sun/awt
+NSPR_INCLUDE = $(LOCALBASE)/include/nspr
 
 INCLUDES4= \
-	-I$(MOZ_HDRS)/solaris/navig4/nspr \
+	-I$(NSPR_INCLUDE) \
 	-I$(MOZ_HDRS)/solaris/navig4/xpcom -I$(MOZ_HDRS)/solaris/navig4/caps \
 	-I$(MOZ_HDRS)/solaris/navig4/js -I$(MOZ_HDRS)/solaris/navig4/raptor \
 	-I$(CCLASSHEADERS) \
@@@@ -371,7 +372,7 @@@@ INCLUDES4= \
 	-I$(X11_INCLUDE) -I$(INTL_INCLUDE)
 
 INCLUDES5= \
-	-I$(CCLASSHEADERS) \
+	-I$(NSPR_INCLUDE) -I$(CCLASSHEADERS) \
         -I$(COMMONSRCDIR) -I$(NAVIG5SRCDIR) \
 	-I$(X11_INCLUDE) -I$(MOTIF_INCLUDE) \
 	-I$(SHARE_INCLUDE) -I$(SOLARIS_INCLUDE) \
@@@@ -449,7 +450,11 @@@@ l10n: $(L10N_MESSAGES)
 
 
 all_java:  javah_headers
+ifeq ($(findstring native,$(HPIS)), native)
 all_c:     $(PLUGIN) $(PLUGIN_OJI) $(JAVA_VM) $(GREEN_JAVA_VM) $(PLUGIN_JNI)
+else
+all_c:     $(PLUGIN) $(PLUGIN_OJI) $(GREEN_JAVA_VM) $(PLUGIN_JNI)
+endif
 
 
 #----------------------------------------------------------------------
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Import of NATIVE jdk-1.3.1

The Java 2 SDK software includes tools useful for developing and 
testing programs written in the Java programming language and
running on the Java platform.

i386-only for now.
Requires manual registration/fetch of distfile from Sun due to
their restrictions.

From maintainer Kurt Miller <truk@@optonline.net>
@
text
@@
