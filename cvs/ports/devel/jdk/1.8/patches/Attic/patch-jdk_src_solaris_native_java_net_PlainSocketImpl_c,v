head	1.2;
access;
symbols
	OPENBSD_6_1:1.1.0.2
	OPENBSD_6_1_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2017.08.26.14.05.56;	author kurt;	state dead;
branches;
next	1.1;
commitid	16njjQJvmWo8AAxV;

1.1
date	2017.02.23.13.11.42;	author kurt;	state Exp;
branches;
next	;
commitid	R2KXoApb4byqw4QU;


desc
@@


1.2
log
@- Update to u131

Contains upstream bug fixes and security fixes which can be viewed here:
http://www.oracle.com/technetwork/java/javase/8u131-relnotes-3565278.html

- Remove patches committed to upstream bsd-port repo.

okay sthen@@
@
text
@$OpenBSD: patch-jdk_src_solaris_native_java_net_PlainSocketImpl_c,v 1.1 2017/02/23 13:11:42 kurt Exp $
--- jdk/src/solaris/native/java/net/PlainSocketImpl.c.orig	Wed Feb  1 16:16:32 2017
+++ jdk/src/solaris/native/java/net/PlainSocketImpl.c	Wed Feb 22 19:22:44 2017
@@@@ -212,6 +212,7 @@@@ Java_java_net_PlainSocketImpl_socketCreate(JNIEnv *env
     }
 
 #ifdef AF_INET6
+#ifndef __OpenBSD__
     /* Disable IPV6_V6ONLY to ensure dual-socket support */
     if (domain == AF_INET6) {
         int arg = 0;
@@@@ -222,6 +223,7 @@@@ Java_java_net_PlainSocketImpl_socketCreate(JNIEnv *env
             return;
         }
     }
+#endif /* ! __OpenBSD__ */
 #endif /* AF_INET6 */
 
     /*
@


1.1
log
@- fix socket creation in with_ipv6 flavor by stopping the jdk from forcing
ipv4 to ipv6 address mapping on using the IPV6_V6ONLY socket option.
@
text
@d1 1
a1 1
$OpenBSD$
@

