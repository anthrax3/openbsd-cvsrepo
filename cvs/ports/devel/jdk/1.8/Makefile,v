head	1.29;
access;
symbols
	OPENBSD_6_1:1.16.0.2
	OPENBSD_6_1_BASE:1.16
	OPENBSD_6_0:1.8.0.2
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.4.0.4
	OPENBSD_5_8_BASE:1.4
	kurt_20151706:1.1.1.1
	kurt:1.1.1;
locks; strict;
comment	@# @;


1.29
date	2017.09.05.23.49.07;	author kurt;	state Exp;
branches;
next	1.28;
commitid	GqH1DwAmLPpavQw0;

1.28
date	2017.09.04.20.55.05;	author naddy;	state Exp;
branches;
next	1.27;
commitid	6ggny7mJVHxakYTy;

1.27
date	2017.08.31.21.19.19;	author kurt;	state Exp;
branches;
next	1.26;
commitid	qTiMgOX38TB7BTFm;

1.26
date	2017.08.26.14.05.55;	author kurt;	state Exp;
branches;
next	1.25;
commitid	16njjQJvmWo8AAxV;

1.25
date	2017.07.26.22.45.18;	author sthen;	state Exp;
branches;
next	1.24;
commitid	tD4MFrpYYDDL2UFT;

1.24
date	2017.07.16.19.18.51;	author espie;	state Exp;
branches;
next	1.23;
commitid	tt0GhWK5c4uf9ILG;

1.23
date	2017.06.13.14.22.57;	author schwarze;	state Exp;
branches;
next	1.22;
commitid	pKuKJztPJsXub1AN;

1.22
date	2017.05.08.17.52.46;	author espie;	state Exp;
branches;
next	1.21;
commitid	X5uDhSm5YQ6j0Y2E;

1.21
date	2017.04.24.15.25.49;	author kurt;	state Exp;
branches;
next	1.20;
commitid	x5C9z7JxzolsJkBH;

1.20
date	2017.04.23.02.32.34;	author espie;	state Exp;
branches;
next	1.19;
commitid	tfnf7oFRGNU7LUZX;

1.19
date	2017.04.23.00.29.22;	author kurt;	state Exp;
branches;
next	1.18;
commitid	1hJ6y1j19pPb6T8Q;

1.18
date	2017.04.21.02.30.40;	author kurt;	state Exp;
branches;
next	1.17;
commitid	rMJKzfsVg61iQy8k;

1.17
date	2017.04.10.11.45.26;	author sthen;	state Exp;
branches;
next	1.16;
commitid	XDh1zlSBq0boKsHk;

1.16
date	2017.03.10.02.21.22;	author kurt;	state Exp;
branches;
next	1.15;
commitid	iHYLRUKBGrW51tEo;

1.15
date	2017.02.23.13.11.42;	author kurt;	state Exp;
branches;
next	1.14;
commitid	R2KXoApb4byqw4QU;

1.14
date	2017.02.07.16.56.51;	author kurt;	state Exp;
branches;
next	1.13;
commitid	Zb9f2H8q13QO5ndG;

1.13
date	2016.12.31.19.58.56;	author kurt;	state Exp;
branches;
next	1.12;
commitid	0aqp02McgsFhUaWo;

1.12
date	2016.12.16.17.27.45;	author kurt;	state Exp;
branches;
next	1.11;
commitid	uMKRa6c3oxscHs4K;

1.11
date	2016.08.18.12.29.32;	author sthen;	state Exp;
branches;
next	1.10;
commitid	BphznIX5SueprTya;

1.10
date	2016.08.17.21.58.36;	author sthen;	state Exp;
branches;
next	1.9;
commitid	Np5Huh65a9FcEXCJ;

1.9
date	2016.08.01.21.45.30;	author naddy;	state Exp;
branches;
next	1.8;
commitid	BQEA31DXggKDDczM;

1.8
date	2016.06.29.16.14.40;	author espie;	state Exp;
branches;
next	1.7;
commitid	c1yQMbJbfo0CFBcL;

1.7
date	2016.03.18.21.38.23;	author naddy;	state Exp;
branches;
next	1.6;
commitid	BVkebQSTXSZokeRG;

1.6
date	2016.02.23.20.54.51;	author kurt;	state Exp;
branches;
next	1.5;
commitid	46Agcwqu0vWOfWW2;

1.5
date	2016.01.06.09.48.44;	author jasper;	state Exp;
branches;
next	1.4;
commitid	6ouTOMHZY2vDnwTF;

1.4
date	2015.06.29.10.46.28;	author naddy;	state Exp;
branches;
next	1.3;
commitid	JZPl1pmvgepuASTD;

1.3
date	2015.06.27.12.21.02;	author naddy;	state Exp;
branches;
next	1.2;
commitid	DJf1B4lcvTcPZhiw;

1.2
date	2015.06.18.19.12.04;	author kurt;	state Exp;
branches;
next	1.1;
commitid	sDpxDcm1o6AGZqID;

1.1
date	2015.06.17.17.12.26;	author kurt;	state Exp;
branches
	1.1.1.1;
next	;
commitid	qyujsvt22DLE4IXW;

1.1.1.1
date	2015.06.17.17.12.26;	author kurt;	state Exp;
branches;
next	;
commitid	qyujsvt22DLE4IXW;


desc
@@


1.29
log
@- CONFIGURE_ENV/LD_LIBRARY_PATH is only needed for when !native_bootstrap
FLAVOR. okay naddy@@
@
text
@# $OpenBSD: Makefile,v 1.28 2017/09/04 20:55:05 naddy Exp $

ONLY_FOR_ARCHS=	i386 amd64
USE_WXNEEDED=	Yes

COMMENT-main=	OpenJDK Software Development Kit v${V}
COMMENT-jre=	OpenJDK Runtime Environment v${V}
U=		144
V=		1.8.0.${U}
B=		b01
PKGNAME=	jdk-${V}
PKGNAME-main=	jdk-${V}
PKGNAME-jre=	jre-${V}
EPOCH=		0

DIST_SUBDIR=	jdk
DISTNAME=	openjdk-8u144b01-bsd-port-20170828
EXTRACT_SUFX=	.tar.xz
DISTFILES=	${DISTNAME}${EXTRACT_SUFX}

CATEGORIES=	devel/jdk java

MULTI_PACKAGES=	-main -jre

PSEUDO_FLAVORS=	native_bootstrap
FLAVOR?=

HOMEPAGE=	http://openjdk.java.net/

MASTER_SITES=	http://www.intricatesoftware.com/distfiles/
MASTER_SITES1=	https://spacehopper.org/mirrors/ \
		http://www.intricatesoftware.com/distfiles/
MASTER_SITES2=	${MASTER_SITE_APACHE:=ant/binaries/} \
		http://archive.apache.org/dist/ant/binaries/

MAINTAINER=	Kurt Miller <kurt@@openbsd.org>

# GPLv2 w/CLASSPATH exception
PERMIT_PACKAGE_CDROM=	Yes

NO_TEST=	Yes

APACHE_ANT=	apache-ant-1.9.7-bin.tar.gz
SUPDISTFILES+=	openjdk8-bootjdk-i386-20161216.tar.gz:1  \
		openjdk8-bootjdk-amd64-20161216.tar.gz:1 \
		${APACHE_ANT}:2

.include <bsd.port.arch.mk>

.if ${FLAVOR:Mnative_bootstrap}
INSTALLED!= (pkg_info -qe "jdk->=1.8.0.00v0,<1.9v0" && echo yes) || echo no
.  if ${INSTALLED:L} != "yes"
ERRORS += "Fatal: This flavor requires an installed 1.8.0.00v0 or greater jdk package"
.  endif
BUILD_DEPENDS+=	jdk->=1.8.0.00v0,<1.9v0:devel/jdk/1.8 \
		devel/apache-ant>=1.8.2
BOOT_JDK=	${LOCALBASE}/jdk-1.8.0
.else
BOOT_JDK_DIST=	openjdk8-bootjdk-${ARCH}-20161216.tar.gz
.  if (${ARCH}==amd64) || (${ARCH}==i386)
DISTFILES+=	${BOOT_JDK_DIST}:1
.  endif
DISTFILES+=	${APACHE_ANT}:2
MAKE_ENV+=	ANT_HOME=${WRKDIR}/apache-ant-1.9.3 \
		LD_LIBRARY_PATH=${WRKDIR}/bootjdk-libs
CONFIGURE_ENV+=	LD_LIBRARY_PATH=${WRKDIR}/bootjdk-libs
BOOT_JDK=	${WRKDIR}/bootjdk
.endif

BUILD_DEPENDS+=	archivers/zip \
		archivers/unzip \
		print/cups,-libs \
		shells/bash

LIB_DEPENDS=	converters/libiconv \
		graphics/giflib

WANTLIB=	X11 Xext Xi Xrender Xtst c freetype gif iconv m pthread ${COMPILER_LIBCXX} z

USE_GMAKE=	Yes
GMAKE=		${LOCALBASE}/bin/gmake

# Don't call make -jN, instead pass MAKE_JOBS to --with-jobs
PARALLEL_BUILD=	No

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--disable-option-checking \
		--with-boot-jdk=${BOOT_JDK} \
		--with-package-path=${LOCALBASE} \
		--with-jobs=${MAKE_JOBS} \
		--with-cacerts-file=${FILESDIR}/cacerts \
		--with-debug-level=release \
		--disable-ccache \
		--disable-freetype-bundling \
		--disable-zip-debug-info \
		--disable-debug-symbols \
		--enable-static-libjli \
		--with-zlib=system \
		--with-giflib=system \
		--with-milestone=fcs \
		--with-update-version=${U} \
		--with-build-number=${B}
CONFIGURE_ENV+=	ac_cv_path_NAWK=awk
MODGNU_CONFIG_GUESS_DIRS=${WRKSRC}/common/autoconf/build-aux

# MAKE_FLAGS=	LOG=debug
MAKE_ENV+=	DEFAULT_LIBPATH="/usr/lib:${X11BASE}/lib:${LOCALBASE}/lib" \
		COMPILER_WARNINGS_FATAL=false

.if ${PROPERTIES:Mclang}
MAKE_ENV+=	USE_CLANG=true
.endif

JDKHOME=	jdk-1.8.0
JREHOME=	jre-1.8.0

SUBST_VARS=	JDKHOME JREHOME

JVMARCH=	${MACHINE_ARCH:S/i386/x86/:S/amd64/x86_64/}
BUILDDIR=	${WRKDIST}/build/bsd-${JVMARCH}-normal-server-release/images
JDKIMAGEDIR=	${BUILDDIR}/j2sdk-image
JREIMAGEDIR=	${BUILDDIR}/j2re-image
WRKTMP=		${WRKDIR}/tmp
 
post-extract:
	chmod +x ${WRKDIST}/configure

post-build:
	@@rm -rf ${JDKIMAGEDIR}/man/ja ${JDKIMAGEDIR}/man/ja_JP.UTF-8 \
		${JREIMAGEDIR}/man/ja ${JREIMAGEDIR}/man/ja_JP.UTF-8

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/${JDKHOME}
	cd ${JDKIMAGEDIR} && tar -cf - * | tar -C ${PREFIX}/${JDKHOME} -xf - 
	${INSTALL_DATA_DIR} ${PREFIX}/${JREHOME}
	cd ${JREIMAGEDIR} && tar -cf - * | tar -C ${PREFIX}/${JREHOME} -xf -

# The bootjdk is the jdk image with some parts deleted
# and a copy of the system shared libs needed to run it.
# The parts deleted are not needed for bootstrap and would
# require more system shared libs to be saved.
build-bootjdk: build
	@@rm -rf ${WRKTMP}
	@@mkdir -p ${WRKTMP}/bootjdk
	@@mkdir -p ${WRKTMP}/bootjdk-libs
	@@cd ${JDKIMAGEDIR} && tar -cf - * | tar -C ${WRKTMP}/bootjdk -xf - 
	@@cd ${WRKTMP}/bootjdk && rm -rf demo sample
	@@cd ${WRKTMP}/bootjdk && rm bin/appletviewer bin/policytool jre/bin/policytool
	@@cd ${WRKTMP}/bootjdk/jre/lib/${ARCH} && rm libnpt.so libinstrument.so libsplashscreen.so libjsound.so libawt_xawt.so
	@@LD_LIBRARY_PATH="${WRKTMP}/bootjdk/jre/lib/${ARCH}:${WRKTMP}/bootjdk/jre/lib/${ARCH}/server" \
		find ${WRKTMP}/bootjdk -type f -perm -500 -exec ldd {} \; 2>/dev/null | \
		grep rlib | cut -d"/" -f 2-20 | sort -u | grep -v "\.so$$" | \
		xargs -I % cp /% ${WRKTMP}/bootjdk-libs
	@@cd ${WRKTMP} && tar czf openjdk8-bootjdk-${ARCH}-$$(date +%Y%m%d).tar.gz bootjdk*
	@@echo "New bootjdk is located at ${WRKTMP}/openjdk8-bootjdk-${ARCH}-$$(date +%Y%m%d).tar.gz"

.include <bsd.port.mk>
@


1.28
log
@point LD_LIBRARY_PATH at the bootstrap libs for configure, too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2017/08/31 21:19:19 kurt Exp $
d66 1
d103 1
a103 2
CONFIGURE_ENV=	ac_cv_path_NAWK=awk \
		LD_LIBRARY_PATH=${WRKDIR}/bootjdk-libs
@


1.27
log
@- Update to u144

Contains upstream bug fixes and security fixes which can be viewed here:
http://www.oracle.com/technetwork/java/javase/8u144-relnotes-3838694.html

okay sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2017/08/26 14:05:55 kurt Exp $
d102 2
a103 1
CONFIGURE_ENV=	ac_cv_path_NAWK=awk
@


1.26
log
@- Update to u131

Contains upstream bug fixes and security fixes which can be viewed here:
http://www.oracle.com/technetwork/java/javase/8u131-relnotes-3565278.html

- Remove patches committed to upstream bsd-port repo.

okay sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2017/07/26 22:45:18 sthen Exp $
d8 1
a8 1
U=		131
d10 1
a10 1
B=		b11
d17 1
a17 1
DISTNAME=	openjdk-8u131b11-bsd-port-20170825
@


1.25
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2017/07/16 19:18:51 espie Exp $
d8 1
a8 1
U=		121
d10 1
a10 1
B=		b13
a14 1
REVISION=	6
d17 1
a17 1
DISTNAME=	openjdk-8u121b13-bsd-port-20170201
@


1.24
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2017/06/13 14:22:57 schwarze Exp $
d15 1
a15 1
REVISION=	5
@


1.23
log
@Whitespace and unimportant font differences only,
so drop USE_GROFF and bump.

There are two tables in java(1) and jcmd(1) that look horrible
either way.  No point in keeping groff just for that.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2017/05/08 17:52:46 espie Exp $
d78 1
a78 1
WANTLIB=	X11 Xext Xi Xrender Xtst c freetype gif iconv m pthread ${LIBCXX} z
@


1.22
log
@no longer hangs. make sure your ld.so is uptodate!!!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2017/04/24 15:25:49 kurt Exp $
d15 1
a15 1
REVISION=	4
a41 1
USE_GROFF =	Yes
@


1.21
log
@- fix clang + fastdebug issue in loopPredicate.cpp
- use HW_PHYSMEM64 to correct assert in fastdebug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2017/04/23 02:32:34 espie Exp $
a3 2
# XXX clang-built jdk on amd64 hangs on everything
NOT_FOR_ARCHS= ${CLANG_ARCHS}
@


1.20
log
@prevent building on clang arch until someone figures out why it hangs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2017/04/23 00:29:22 kurt Exp $
d17 1
a17 1
REVISION=	3
@


1.19
log
@- Clean up makefile and fix MAKE_ENV as per espie@@ guidance. okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2017/04/21 02:30:40 kurt Exp $
d4 2
@


1.18
log
@- patches to allow build with clang 4.0
- uncomment MAKE_ENV+=USE_CLANG=true to build with clang
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2017/04/10 11:45:26 sthen Exp $
d15 1
a15 1
REVISION=	2
d50 2
d54 1
a54 1
.if ${INSTALLED:L} != "yes"
d56 1
a56 1
.endif
d62 1
a62 2
.include <bsd.port.arch.mk>
.if (${ARCH}==amd64) || (${ARCH}==i386)
d64 1
a64 1
.endif
d108 1
a108 1
MAKE_ENV=	DEFAULT_LIBPATH="/usr/lib:${X11BASE}/lib:${LOCALBASE}/lib" \
d111 3
a113 1
#MAKE_ENV=	USE_CLANG=true
d124 1
a138 2
.include <bsd.port.mk>

d143 10
a152 10
build-bootjdk: ${_BUILD_COOKIE}
	@@rm -rf ${WRKDIR}/tmp
	@@mkdir -p ${WRKDIR}/tmp/bootjdk
	@@mkdir -p ${WRKDIR}/tmp/bootjdk-libs
	@@cd ${JDKIMAGEDIR} && tar -cf - * | tar -C ${WRKDIR}/tmp/bootjdk -xf - 
	@@cd ${WRKDIR}/tmp/bootjdk && rm -rf demo sample
	@@cd ${WRKDIR}/tmp/bootjdk && rm bin/appletviewer bin/policytool jre/bin/policytool
	@@cd ${WRKDIR}/tmp/bootjdk/jre/lib/${ARCH} && rm libnpt.so libinstrument.so libsplashscreen.so libjsound.so libawt_xawt.so
	@@LD_LIBRARY_PATH="${WRKDIR}/tmp/bootjdk/jre/lib/${ARCH}:${WRKDIR}/tmp/bootjdk/jre/lib/${ARCH}/server" \
		find ${WRKDIR}/tmp/bootjdk -type f -perm -500 -exec ldd {} \; 2>/dev/null | \
d154 5
a158 3
		xargs -I % cp /% ${WRKDIR}/tmp/bootjdk-libs
	@@cd ${WRKDIR}/tmp && tar czf openjdk8-bootjdk-${ARCH}-$$(date +%Y%m%d).tar.gz bootjdk*
	@@echo "New bootjdk is located at ${WRKDIR}/tmp/openjdk8-bootjdk-${ARCH}-$$(date +%Y%m%d).tar.gz"
@


1.17
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2017/03/10 02:21:22 kurt Exp $
d15 1
a15 1
REVISION=	1
d109 2
@


1.16
log
@Eliminiate with_ipv6 FLAVOR. ipv6 will be included in the main package
by default now. However ipv4 will continue to be the default address
family in the package. To enable ipv6 (and disable ipv4 in the process),
see package README's. okay sthen@@ with feedback from ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2017/02/23 13:11:42 kurt Exp $
d78 1
a78 1
WANTLIB=	X11 Xext Xi Xrender Xtst c freetype gif iconv m pthread stdc++ z
@


1.15
log
@- fix socket creation in with_ipv6 flavor by stopping the jdk from forcing
ipv4 to ipv6 address mapping on using the IPV6_V6ONLY socket option.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2017/02/07 16:56:51 kurt Exp $
d15 1
a15 1
REVISION=	0
a25 1
FLAVORS=	with_ipv6
a108 4

.if !${FLAVOR:Mwith_ipv6}
MAKE_ENV+=	DONT_ENABLE_IPV6=yes
.endif
@


1.14
log
@- Update to u121

Contains many upstream bug fixes and security fixes which
can be mined from u112-u121 release notes here:

http://www.oracle.com/technetwork/java/javase/8u-relnotes-2225394.html

- Update cacerts from freebsd repo
- Remove patch now upstream

okay sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2016/12/31 19:58:56 kurt Exp $
d15 1
@


1.13
log
@- switch bootstrap to bootjdk so that jdk 1.7 can be removed
- fix getOpenFileDescriptorCount() reported by Pavel Korovin
okay sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2016/12/16 17:27:45 kurt Exp $
d8 1
a8 1
U=		112
d10 1
a10 1
B=		b15
a13 1
REVISION=	0
d17 1
a17 1
DISTNAME=	openjdk-8u112b15-bsd-port-20161210
@


1.12
log
@Update to u112.

Contains many upstream bug fixes and security fixes which
can be mined from u72-u112 release notes here:

http://www.oracle.com/technetwork/java/javase/8u-relnotes-2225394.html

Tested by naddy@@ edd@@ sthen@@. okay sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2016/08/18 12:29:32 sthen Exp $
d14 1
d20 1
d33 4
d46 5
d56 2
a57 1
BUILD_DEPENDS+=	jdk->=1.8.0.00v0,<1.9v0:devel/jdk/1.8
d60 9
a68 2
BUILD_DEPENDS+=	jdk->=1.7.0.00v0,<1.8v0:devel/jdk/1.7
BOOT_JDK=	${LOCALBASE}/jdk-1.7.0
d71 1
a71 2
BUILD_DEPENDS+=	devel/apache-ant>=1.8.2 \
		archivers/zip \
d139 19
@


1.11
log
@use the centralized ld "wxneeded" wrapper for the jdk ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2016/08/17 21:58:36 sthen Exp $
d8 1
a8 1
U=		72
a13 1
REVISION=	1
d17 1
a17 1
DISTNAME=	openjdk-8u72b15-bsd-port-20160220
@


1.10
log
@apply the same ld wrapper to jdk/1.8 as was done for jdk/1.7 to mark the
binaries as wxneeded.

this build is less complicated than 1.7 so a nicer fix than the wrapper
should be sanely possible, but committing the simpler one for now to
hopefully unbreak packages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2016/08/01 21:45:30 naddy Exp $
d4 1
a109 2
	printf '#!/bin/sh\nexec /usr/bin/ld -z wxneeded $$*\n' > ${WRKDIR}/bin/ld; \
		chmod 755 ${WRKDIR}/bin/ld
@


1.9
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2016/06/29 16:14:40 espie Exp $
d13 1
a13 1
REVISION =	0
d109 2
@


1.8
log
@add is-branch to all trivial ports that exist as multiple branches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2016/03/18 21:38:23 naddy Exp $
d58 2
a59 1
LIB_DEPENDS=	graphics/giflib
d61 1
a61 2
MODULES=	converters/libiconv
WANTLIB=	X11 Xext Xi Xrender Xtst c freetype gif m pthread stdc++ z
@


1.7
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/02/23 20:54:51 kurt Exp $
d13 1
@


1.6
log
@Update to u72. Contains many upstream bug fixes and security fixes which
can be mined from u51-u72 release notes here:

http://www.oracle.com/technetwork/java/javase/8u-relnotes-2225394.html

Tested by Caspar Schutijser. okay sthen@@ & naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/01/06 09:48:44 jasper Exp $
a2 1
SHARED_ONLY=	Yes
@


1.5
log
@hookup missing README; ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/06/29 10:46:28 naddy Exp $
d8 1
a8 1
U=		45
d10 1
a10 1
B=		b14
a14 1
REVISION=	1
d17 1
a17 1
DISTNAME=	openjdk-8u45b14-bsd-port-20150618
@


1.4
log
@neuter another check that picks up gawk without need; ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/06/27 12:21:02 naddy Exp $
d15 1
a15 1
REVISION=	0
@


1.3
log
@The JDK build framework eventually calls a GNU configure script, so
use CONFIGURE_STYLE=gnu in order to pull in all our tweaks.  ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2015/06/18 19:12:04 kurt Exp $
d87 1
@


1.2
log
@- Install a valid cacerts file with the jdk to fix ssl connections.
  Problem reported by ian@@
- cacerts file obtained from FreeBSD's svn repo.
- Fix iconv linking and symbols. Problem reported by Christian Schulte.
@
text
@d1 1
a1 1
# $OpenBSD$
d70 3
a72 2
CONFIGURE_STYLE=simple
CONFIGURE_ARGS=	--with-boot-jdk=${BOOT_JDK} \
d87 1
@


1.1
log
@Initial revision
@
text
@d15 1
d18 1
a18 1
DISTNAME=	openjdk-8u45b14-bsd-port-20150616
d74 1
@


1.1.1.1
log
@import jdk-1.8.0.45v0

The OpenJDK SDK software includes tools useful for developing and
testing programs written in the Java programming language and
running on the Java platform.

Most of the upstream *bsd porting was done by FreeBSD java developers.
The OpenBSD portions were done by myself and Bryan C. Everly.

okay ian@@, jasper@@
@
text
@@
