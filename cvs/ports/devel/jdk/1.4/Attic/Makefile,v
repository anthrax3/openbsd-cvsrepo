head	1.27;
access;
symbols
	OPENBSD_4_5:1.26.0.6
	OPENBSD_4_5_BASE:1.26
	OPENBSD_4_4:1.26.0.2
	OPENBSD_4_4_BASE:1.26
	OPENBSD_4_3:1.25.0.2
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.22.0.2
	OPENBSD_4_2_BASE:1.22
	OPENBSD_4_1:1.21.0.2
	OPENBSD_4_1_BASE:1.21
	OPENBSD_4_0:1.15.0.2
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.13.0.2
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.7.0.2
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	kurt_20041220:1.1.1.1
	kurt:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2009.03.18.01.45.38;	author kurt;	state dead;
branches;
next	1.26;

1.26
date	2008.06.30.20.16.37;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2008.02.28.14.54.56;	author kurt;	state Exp;
branches;
next	1.24;

1.24
date	2008.02.13.13.53.50;	author kurt;	state Exp;
branches;
next	1.23;

1.23
date	2007.09.16.02.52.59;	author merdely;	state Exp;
branches;
next	1.22;

1.22
date	2007.07.18.17.53.29;	author kurt;	state Exp;
branches;
next	1.21;

1.21
date	2007.01.28.04.45.04;	author kurt;	state Exp;
branches;
next	1.20;

1.20
date	2006.12.14.09.07.55;	author steven;	state Exp;
branches;
next	1.19;

1.19
date	2006.11.24.21.35.29;	author steven;	state Exp;
branches;
next	1.18;

1.18
date	2006.11.22.15.02.07;	author kurt;	state Exp;
branches;
next	1.17;

1.17
date	2006.11.11.21.04.27;	author steven;	state Exp;
branches;
next	1.16;

1.16
date	2006.10.31.19.48.12;	author kurt;	state Exp;
branches;
next	1.15;

1.15
date	2006.08.01.22.55.53;	author espie;	state Exp;
branches
	1.15.2.1;
next	1.14;

1.14
date	2006.03.16.16.09.01;	author kurt;	state Exp;
branches;
next	1.13;

1.13
date	2006.02.16.05.46.21;	author david;	state Exp;
branches
	1.13.2.1;
next	1.12;

1.12
date	2006.02.01.01.06.40;	author kurt;	state Exp;
branches;
next	1.11;

1.11
date	2006.01.19.22.02.48;	author kurt;	state Exp;
branches;
next	1.10;

1.10
date	2006.01.18.15.08.16;	author kurt;	state Exp;
branches;
next	1.9;

1.9
date	2006.01.02.03.48.40;	author kurt;	state Exp;
branches;
next	1.8;

1.8
date	2005.09.16.09.51.27;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2005.06.04.15.47.53;	author kurt;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2005.05.27.09.34.00;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2005.05.24.22.02.47;	author kurt;	state Exp;
branches;
next	1.4;

1.4
date	2005.04.19.14.35.56;	author kurt;	state Exp;
branches;
next	1.3;

1.3
date	2005.02.06.22.06.34;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2005.02.04.17.06.45;	author kurt;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.21.04.01.05;	author kurt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.12.21.04.01.05;	author kurt;	state Exp;
branches;
next	;

1.7.2.1
date	2006.01.30.02.50.40;	author kurt;	state Exp;
branches;
next	;

1.13.2.1
date	2007.01.31.14.55.17;	author kurt;	state Exp;
branches;
next	;

1.15.2.1
date	2007.02.08.20.24.59;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.27
log
@remove 1.3 and 1.4 as per plan made last June
@
text
@# $OpenBSD: Makefile,v 1.26 2008/06/30 20:16:37 naddy Exp $
# $FreeBSD: /repoman/r/pcvs/ports/java/jdk14/Makefile,v 1.79 2004/08/18 07:06:03 glewis Exp $

ONLY_FOR_ARCHS= 	i386

COMMENT-main=		Java2(TM) Standard Edition Dev Kit v${V}
COMMENT-jre=		Java2(TM) Standard Edition Runtime Environment v${V}
V=			1.4.2
DISTNAME=		j2sdk-1_4_2
PKGNAME=		jdk-${V}
PKGNAME-main=		jdk-${V}p15
PKGNAME-jre=		jre-${V}p15

CATEGORIES=		devel/jdk java

MULTI_PACKAGES= 	-main -jre

# wwws is not a typo in the following:
HOMEPAGE=		http://wwws.sun.com/software/communitysource/j2se/java2/

MAINTAINER=		Kurt Miller <kurt@@openbsd.org>

DISTFILES=		${DISTNAME}-src-scsl.zip \
			${DISTNAME}-bin-scsl.zip \
			bsd-jdk14-patches-8.tar.gz

# Sun Community Source License
# http://www.sun.com/software/communitysource/j2se/java2/license.html
PERMIT_PACKAGE_CDROM=	SCSL
PERMIT_PACKAGE_FTP=	SCSL
PERMIT_DISTFILES_CDROM= SCSL
PERMIT_DISTFILES_FTP=	SCSL

# TCK (Technology Compatibility Kit) covered by yet another license...
NO_REGRESS=		yes

VMEM_WARNING=		Yes
BUILD_DEPENDS=		:gtar-*:archivers/gtar \
			:zip-*:archivers/zip
RUN_DEPENDS=		:zip-*:archivers/zip \
			:ghostscript-fonts-*:print/ghostscript/gnu-fonts
LIB_DEPENDS=		iodbc.>=2::databases/iodbc
USE_MOTIF=		openmotif
WANTLIB=		X11 Xext Xi Xm Xmu Xp Xt Xtst c m ossaudio pthread z

USE_X11=		Yes
USE_GMAKE=		Yes

TAR=			${LOCALBASE}/bin/gtar

MAKE_ENV=		ALT_MOTIF_DIR="${LOCALBASE}" \
			OPENWINHOME="${X11BASE}" \
			ALT_ODBCDIR="${LOCALBASE}/lib" \
			DEV_ONLY="YES" \
			LANG="C" \
			CC="${CC}" \
			CXX="${CXX}" \
			USER="${USER}" \
			DEFAULT_LD_LIBRARY_PATH="/usr/lib:/usr/X11R6/lib:${LOCALBASE}/lib" \
			HOTSPOT_BUILD_JOBS=${MAKE_JOBS}

# Error message for distfile.
FETCH_MANUALLY=		"You must manually fetch the distribution files, place"
FETCH_MANUALLY+=	"them in ${FULLDISTDIR} and then run make again."
FETCH_MANUALLY+=	"Get the SCSL source \& binary files:"
FETCH_MANUALLY+=	"    ${DISTNAME}-src-scsl.zip"
FETCH_MANUALLY+=	"    ${DISTNAME}-bin-scsl.zip"
FETCH_MANUALLY+=	"from http://wwws.sun.com/software/communitysource/j2se/java2/download.html"
FETCH_MANUALLY+=	"Get the BSD patchset file:"
FETCH_MANUALLY+=	"    bsd-jdk14-patches-8.tar.gz"
FETCH_MANUALLY+=	"from http://www.eyesbeyond.com/freebsddom/java/jdk14.html"

FLAVORS=		no_plugin no_webstart with_ipv6
PSEUDO_FLAVORS=		native_bootstrap
FLAVOR?=

.if !${FLAVOR:L:Mwith_ipv6}
PATCH_LIST=		disable-ipv6 patch-*
.endif

.if ${FLAVOR:L:Mnative_bootstrap}
BUILD_DEPENDS+=		:jdk-1.4*:devel/jdk/1.4
MAKE_ENV+=		ALT_BOOTDIR="${LOCALBASE}/${JDKHOME}"
.else
BUILD_DEPENDS+=		:kaffe->=1.1.7p1:lang/kaffe
MAKE_ENV+=		ALT_BOOTDIR="${LOCALBASE}/kaffe"
.endif

.if !${FLAVOR:L:Mno_plugin}
BUILD_DEPENDS+=		:nspr-*:devel/nspr
.else
#no plugin - no messages
MESSAGE=		/dev/null
MAKE_ENV+=		NO_PLUGIN="YES"
.endif

.if ${FLAVOR:L:Mno_webstart}
MAKE_ENV+=		NO_JAVAWS="YES"
.endif

JDKHOME=		jdk-${V}
JREHOME=		jre-${V}

SUBST_VARS=		JDKHOME JREHOME
SYSTRACE_SUBST_VARS=	LOCALBASE

# Deal with Sun's internal build structure
WRKDIST=		${WRKDIR}
WRKSRC=         	${WRKDIR}/control/make
OUTPUTDIR=		${WRKDIR}/control/build/bsd-i586
JDKIMAGEDIR=		${OUTPUTDIR}/j2sdk-image
JDKIMAGEDIR_G=		${OUTPUTDIR}/j2sdk-debug-image
JREIMAGEDIR=		${OUTPUTDIR}/j2re-image
CACERTSDIRS=		j2se/src/share/lib/security \
			deploy/src/javaws/src/share/config

pre-patch:
.for dir in ${CACERTSDIRS}
	@@cp -f ${FILESDIR}/cacerts ${WRKDIR}/${dir}
.endfor
	@@cd ${WRKDIR} &&  \
		${CHMOD} -R u+w * && \
		${PATCH} -p0 -z .orig.bsd --quiet < ${WRKDIR}/jdk14.patches

post-build:
	@@rm -rf ${JDKIMAGEDIR}/demo/jfc/SwingSet2/resources \
		${JDKIMAGEDIR}/demo/plugin/jfc/SwingSet2/resources \
		${JDKIMAGEDIR}/man/ja \
		${JDKIMAGEDIR}/man/ja_JP.eucJP \
		${JREIMAGEDIR}/man/ja \
		${JREIMAGEDIR}/man/ja_JP.eucJP

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/${JDKHOME}
	cd ${JDKIMAGEDIR} && tar -cf - * | tar -C ${PREFIX}/${JDKHOME} -xf - 
	cd ${JDKIMAGEDIR_G} && tar -cf - * | tar -C ${PREFIX}/${JDKHOME} -xf - 
	${INSTALL_DATA_DIR} ${PREFIX}/${JREHOME}
	cd ${JREIMAGEDIR} && tar -cf - * | tar -C ${PREFIX}/${JREHOME} -xf -

.include <bsd.port.mk>
@


1.26
log
@spawn only ${MAKE_JOBS} build jobs in parallel; ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/02/28 14:54:56 kurt Exp $
@


1.25
log
@- use HW_PHYSMEM64. okay naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/02/13 13:53:50 kurt Exp $
d60 1
a60 1
			HOTSPOT_BUILD_JOBS=`sysctl -n hw.ncpu`
@


1.24
log
@- switch to kaffe bootstrap. linux emul no longer needed to build.
- update to patchset 8. mostly just removal of patches committed
  upstream a long time ago.
okay brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/09/16 02:52:59 merdely Exp $
d11 2
a12 2
PKGNAME-main=		jdk-${V}p14
PKGNAME-jre=		jre-${V}p14
@


1.23
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/07/18 17:53:29 kurt Exp $
d11 2
a12 2
PKGNAME-main=		jdk-${V}p13
PKGNAME-jre=		jre-${V}p13
d25 1
a25 1
			bsd-jdk14-patches-7.tar.gz
d58 1
d70 1
a70 1
FETCH_MANUALLY+=	"    bsd-jdk14-patches-7.tar.gz"
d85 2
a86 17
DISTFILES+=		j2sdk-1_4_2-linux-i586.bin
FETCH_MANUALLY+=	"Get the linux binary sdk file:"
FETCH_MANUALLY+=	"    j2sdk-1_4_2-linux-i586.bin"
FETCH_MANUALLY+=	"from http://java.sun.com/products/archive/j2se/1.4.2/"
BUILD_DEPENDS+=		:jdk-linux->=1.3.1_10:devel/jdk/1.3-linux
ALT_BOOTDIR2=		${LOCALBASE}/jdk1.3.1-linux
MAKE_ENV+=		ALT_BOOTDIR="${WRKDIST}"
MAKE_ENV+=		ALT_BOOTDIR2="${ALT_BOOTDIR2}"
MAKE_ENV+=		MANUAL_BOOTSTRAP="yes"
LINUXFILES=		j2sdk1.4.2/lib/unpack \
			j2sdk1.4.2/lib/tools.pack \
			j2sdk1.4.2/jre/lib/rt.pack
EXTRACT_CASES+=		*.bin) \
			perl -p0777 -e "s/.*?PK\03\04/PK\03\04/s" ${FULLDISTDIR}/$$archive > \
				${WRKDIR}/$$archive.zip && \
			unzip -j ${WRKDIR}/$$archive ${LINUXFILES} ;;
SYSCTL=			${SUDO} sysctl -w kern.emul.linux
a116 20
.if !${FLAVOR:L:Mnative_bootstrap}
# The removal of /tmp/unpack.log is to workaround a security issue
# described here:
#   http://www.securityfocus.com/archive/1/343038
post-extract:
	@@sysctl -n kern.emul.linux > ${WRKDIR}/.emul_linux
	@@${SYSCTL}=1
	@@rm -f /tmp/unpack.log
	@@cd ${WRKDIR} && \
		./unpack tools.pack tools.jar && \
		./unpack rt.pack rt.jar
	@@rm -f /tmp/unpack.log
	@@mkdir -p ${OUTPUTDIR}/classes
	@@cd ${OUTPUTDIR} && \
		${TAR} xzf ${WRKDIR}/jdk14-bootstrap-src.tar.gz
	@@cd ${OUTPUTDIR}/classes && \
		xargs ${ALT_BOOTDIR2}/bin/jar xf ${WRKDIR}/tools.jar < ${FILESDIR}/tools_jar_class_list && \
		xargs ${ALT_BOOTDIR2}/bin/jar xf ${WRKDIR}/rt.jar < ${FILESDIR}/rt_jar_class_list
.endif

a124 13
.if !${FLAVOR:L:Mnative_bootstrap}
post-patch:
	@@cd ${WRKDIR}/bin && \
		${CHMOD} +x bootscript
.for prog in java javac javah jar
	@@cd ${WRKDIR}/bin && \
		ln -s bootscript ${prog}
.endfor

pre-build:
	@@${SYSCTL}=1
.endif

a131 3
.if !${FLAVOR:L:Mnative_bootstrap}
	@@${SYSCTL}=`cat ${WRKDIR}/.emul_linux`
.endif
@


1.22
log
@make this work with motif > 2.1 too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2007/01/28 04:45:04 kurt Exp $
d6 2
a7 2
COMMENT-main=		"Java2(TM) Standard Edition Dev Kit v${V}"
COMMENT-jre=		"Java2(TM) Standard Edition Runtime Environment v${V}"
d29 4
a32 4
PERMIT_PACKAGE_CDROM=	"SCSL"
PERMIT_PACKAGE_FTP=	"SCSL"
PERMIT_DISTFILES_CDROM= "SCSL"
PERMIT_DISTFILES_FTP=	"SCSL"
@


1.21
log
@Security fix for CVE-2007-0243:

Buffer overflow allows applets to gain privileges via a GIF image with a
block with a 0 width field, which triggers memory corruption and possible
execution of arbitrary code.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/12/14 09:07:55 steven Exp $
d10 3
a12 3
PKGNAME=		jdk-${V}p12
PKGNAME-main=		jdk-${V}p12
PKGNAME-jre=		jre-${V}p12
@


1.20
log
@use BASE_PKGPATH instead of homegrown variable, no bumps needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/11/24 21:35:29 steven Exp $
d10 3
a12 2
PKGNAME-main=		jdk-${V}p11
PKGNAME-jre=		jre-${V}p11
@


1.19
log
@take flavors into account in @@pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/11/22 15:02:07 kurt Exp $
d117 1
a117 3
MAINPATH=		devel/jdk/1.4${FLAVOR_EXT:S/-/,/g}

SUBST_VARS=		JDKHOME JREHOME MAINPATH
@


1.18
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/11/11 21:04:27 steven Exp $
d10 2
a11 2
PKGNAME-main=		jdk-${V}p10
PKGNAME-jre=		jre-${V}p10
d117 3
a119 1
SUBST_VARS=		JDKHOME JREHOME
@


1.17
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/10/31 19:48:12 kurt Exp $
d6 1
a6 1
COMMENT=		"Java2(TM) Standard Edition Dev Kit v${V}"
d10 2
a11 2
PKGNAME=		jdk-${V}p9
PKGNAME-jre=		jre-${V}p9
d15 1
a15 1
MULTI_PACKAGES= 	-jre
@


1.16
log
@Back-port some jdk/1.5 changes:
- use system libz instead of internal one. internal libz conflicts with
system libz, for example apps using JNI & libz will fail (OOo).
- enable parallel hotspot compiles on mp systems (one per cpu). no pthreads
involved so its safe to do here.
- socket option corrections. may help Active MQ work.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/08/01 22:55:53 espie Exp $
d45 1
@


1.15
log
@new libspecs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/03/16 16:09:01 kurt Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p8
PKGNAME-jre=		jre-${V}p8
d43 1
a43 1
WANTLIB=		X11 Xext Xi Xm Xmu Xp Xt Xtst c m ossaudio pthread
d56 2
a57 1
			DEFAULT_LD_LIBRARY_PATH="/usr/lib:/usr/X11R6/lib:${LOCALBASE}/lib"
@


1.15.2.1
log
@MFC:
Security fix for CVE-2007-0243:

Buffer overflow allows applets to gain privileges via a GIF image with a
block with a 0 width field, which triggers memory corruption and possible
execution of arbitrary code.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/08/01 22:55:53 espie Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p12
PKGNAME-jre=		jre-${V}p12
@


1.14
log
@- don't mmap on top of malloc'ed memory. this fixes a large memory leak
while creating/destroying threads.
- add missing pthread_attr_destroy while creating threads. closes a
small memory leak.

Memory leaking problems reported by Carsten Raskgaard and also
David SH Rosenthal from the LOCKSS project.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/02/16 05:46:21 david Exp $
d41 1
a41 1
LIB_DEPENDS=		iodbc.2::databases/iodbc
@


1.13
log
@typo in DESCR; bump PKGNAME; ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/02/01 01:06:40 kurt Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p7
PKGNAME-jre=		jre-${V}p7
@


1.13.2.1
log
@Security fix for CVE-2007-0243:

Buffer overflow allows applets to gain privileges via a GIF image with a
block with a 0 width field, which triggers memory corruption and possible
execution of arbitrary code.

okay sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/02/16 05:46:21 david Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p12
PKGNAME-jre=		jre-${V}p12
@


1.12
log
@remove HAVE_DPS from MAKE_ENV. It appears that the build was ignoring it
since it wasn't in WANTLIB, but bump pkg anyway.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/01/19 22:02:48 kurt Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p6
PKGNAME-jre=		jre-${V}p6
@


1.11
log
@don't try to enable kern.emul.linux sysctl for FLAVOR=native_bootstrap.
braino from last commit. noticed by Matthias Killian.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/01/18 15:08:16 kurt Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p5
PKGNAME-jre=		jre-${V}p5
a51 1
			HAVE_DPS="yes" \
@


1.10
log
@- recent w^x changes combined with random malloc/mmap exposed a previously
undiscovered bug in the SignatureHandlerLibrary. Code generated at runtime
was put into malloc()'ed memory and later attempted to execute it without
first making it executable with mprotect(). Debugging suggestions and help
from tom@@, weingart@@, marc@@, millert@@. Thx!
- make sure linux emulation is on for the build phase. needed if you reboot
after extracting.

okay tom@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/01/02 03:48:40 kurt Exp $
a164 1
.endif
d168 1
@


1.9
log
@Disable Junk malloc option for java. java mprotects portions of the thread
stack. When forking, the child process deallocates the threads stacks it
inheritated from the parent. The junk malloc option then attempts to write
to the deallocated memory and segfaults because its not all writable. The
child proc stays in a SIGSEGV loop when this happens.  okay ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/09/16 09:51:27 espie Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p4
PKGNAME-jre=		jre-${V}p4
d166 3
@


1.8
log
@Fix a buglet in bsd.port.mk where the PSEUDO_FLAVORS get encoded into
the FULLPKGPATH, thus providing changes to packing-lists which shouldn't
happen, and making update more difficult.

Accordingly, bump all pkgnames with PSEUDO_FLAVORS, and provide an
update @@pkgpath for the bug for most of them (left out the ones with 3
or 4 pseudo flavors for space constraints...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/06/04 15:47:53 kurt Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p3
PKGNAME-jre=		jre-${V}p3
@


1.7
log
@- Ensure that when files are extracted that their fully resolved path lies
in or below the current working directory.  Fixes a security problem with
jar. From FreeBSD.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/05/27 09:34:00 espie Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p2
PKGNAME-jre=		jre-${V}p2
@


1.7.2.1
log
@- recent w^x changes combined with random malloc/mmap exposed a
previously undiscovered bug in the SignatureHandlerLibrary. Code
generated at runtime was put into malloc()'ed memory and later
attempted to execute it without first making it executable with
mprotect(). Debugging suggestions and help from tom@@, weingart@@,
marc@@, millert@@. Thx! okay pvalchev@@ brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/06/04 15:47:53 kurt Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p3
PKGNAME-jre=		jre-${V}p3
@


1.6
log
@tsk, tsk, distibution
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/05/24 22:02:47 kurt Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p1
PKGNAME-jre=		jre-${V}p1
@


1.5
log
@quiet the pre-patch phase
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/04/19 14:35:56 kurt Exp $
d60 1
a60 1
FETCH_MANUALLY=		"You must manually fetch the distibution files, place"
@


1.4
log
@- add missing -pthread to java_vm. From niklas@@.
- add missing -pthread to awt_robot, libjavaplugin_oji.so.
- fix misc timezone issues
- bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/02/06 22:06:34 sturm Exp $
d155 1
a155 1
		${PATCH} -p0 -z .orig.bsd < ${WRKDIR}/jdk14.patches
@


1.3
log
@build with systrace
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/02/04 17:06:45 kurt Exp $
d10 2
a11 2
PKGNAME=		jdk-${V}p0
PKGNAME-jre=		jre-${V}p0
@


1.2
log
@- teach jdk about /usr/local/lib
- teach ClassLoader how to load native libs with version numbers
- fix writes to HOME complaints
- point license URL to license itself
- fix timezone problem noticed by Roy Morris
- bump package name

ok alek@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/12/21 04:01:05 kurt Exp $
d117 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d10 2
a11 2
PKGNAME=		jdk-${V}
PKGNAME-jre=		jre-${V}
d27 1
a27 1
# http://www.sun.com/981208/scsl/principles.html
d56 2
a57 1
			CXX="${CXX}"
@


1.1.1.1
log
@- Initial import of jdk-1.4.2

Version 1.4.2 of Java 2 Platform, Standard Edition (J2SE)

with help from many; ok naddy@@ espie@@
@
text
@@
