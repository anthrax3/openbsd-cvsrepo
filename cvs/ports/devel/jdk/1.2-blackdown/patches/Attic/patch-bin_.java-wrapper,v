head	1.3;
access;
symbols
	OPENBSD_3_5:1.2.0.12
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.10
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.8
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.6
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.4
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.2
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.1;
locks; strict;
comment	@# @;


1.3
date	2004.05.05.05.03.14;	author brad;	state dead;
branches;
next	1.2;

1.2
date	2001.08.28.22.16.51;	author matt;	state Exp;
branches;
next	1.1;

1.1
date	2001.05.08.00.54.39;	author matt;	state Exp;
branches;
next	;


desc
@@


1.3
log
@remove obsolete 1.2 JVMs

ok Christian Edward Gruber
@
text
@$OpenBSD: patch-bin_.java-wrapper,v 1.2 2001/08/28 22:16:51 matt Exp $
--- bin/.java_wrapper.orig	Wed Jun  2 12:14:34 1999
+++ bin/.java_wrapper	Tue Aug 28 17:44:30 2001
@@@@ -31,8 +31,8 @@@@ esac
 # Resolve symlinks. See 4152645.
 while [ -h "$PRG" ]; do
     ls=`/bin/ls -ld "$PRG"`
-    link=`/usr/bin/expr "$ls" : '.*-> \(.*\)$'`
-    if /usr/bin/expr "$link" : '/' > /dev/null; then
+    link=`/bin/expr "$ls" : '.*-> \(.*\)$'`
+    if /bin/expr "$link" : '/' > /dev/null; then
 	PRG="$link"
     else
 	PRG="`/usr/bin/dirname $PRG`/$link"
@@@@ -43,7 +43,11 @@@@ PPC_JAVA_HOME=/usr/local/jdk/cvs_1.2/jdk
 export PPC_JAVA_HOME
 
 APPHOME=`dirname "$PRG"`
-APPHOME=`dirname "$APPHOME"`
+if [ x`echo $APPHOME | cut -b 1` = x. ]; then
+    APPHOME=`pwd`/$APPHOME/..
+else
+    APPHOME=`dirname "$APPHOME"`
+fi
 export APPHOME
 JREHOME=$APPHOME/jre
 
@@@@ -63,7 +67,7 @@@@ fi
 # Select vm type (if classic vm, also select thread type).
 unset vmtype
 unset ttype
-DEFAULT_THREADS_FLAG=native
+DEFAULT_THREADS_FLAG=green
 if [ "x$1" = "x-hotspot" ]; then
     vmtype=hotspot
     ttype=native_threads
@


1.2
log
@make APPHOME check a bit smarter; allows java to be invoked with all kinds
of different relative paths
@
text
@d1 1
a1 1
$OpenBSD: patch-bin_.java-wrapper,v 1.1 2001/05/08 00:54:39 matt Exp $
@


1.1
log
@- reorg existing JDKs, update devel/jdk dependencies
- become MAINTAINER for jdk 1.1 and 1.2 (ok MAINTAINERs)
- add jdk 1.3
@
text
@d1 4
a4 4
$OpenBSD: patch-bin_.java-wrapper,v 1.1.1.1 2001/02/26 23:50:26 matt Exp $
--- bin/.java_wrapper.orig	Thu Dec 28 01:44:45 2000
+++ bin/.java_wrapper	Thu Dec 28 01:44:56 2000
@@@@ -31,8 +31,8 @@@@
d15 14
a28 1
@@@@ -63,7 +63,7 @@@@
@

