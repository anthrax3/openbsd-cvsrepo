head	1.4;
access;
symbols
	OPENBSD_4_8:1.3.0.8
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.6
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.4
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2011.01.11.15.47.50;	author kurt;	state dead;
branches;
next	1.3;

1.3
date	2009.01.17.11.37.42;	author kurt;	state Exp;
branches;
next	1.2;

1.2
date	2009.01.04.23.25.16;	author kurt;	state Exp;
branches;
next	1.1;

1.1
date	2008.03.19.18.05.46;	author kurt;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to early access build 122. okay jasper@@
@
text
@$OpenBSD: patch-jdk_src_solaris_classes_sun_awt_X11GraphicsEnvironment_java,v 1.3 2009/01/17 11:37:42 kurt Exp $
--- jdk/src/solaris/classes/sun/awt/X11GraphicsEnvironment.java.orig	Thu Jan 15 03:44:44 2009
+++ jdk/src/solaris/classes/sun/awt/X11GraphicsEnvironment.java	Fri Jan 16 12:16:51 2009
@@@@ -419,7 +419,7 @@@@ public class X11GraphicsEnvironment
         if (fontID != null) {
             fileName = (String)fontNameMap.get(fontID);
             /* On Linux check for the Lucida Oblique fonts */
-            if (fileName == null && isLinux && !isOpenJDK()) {
+            if (fileName == null && isLinuxOrBSD && !isOpenJDK()) {
                 if (oblmap == null) {
                     initObliqueLucidaFontMap();
                 }
@@@@ -655,7 +655,7 @@@@ public class X11GraphicsEnvironment
         if (fontConfigDirs == null) {
             return;
         }
-        if (isLinux) {
+        if (isLinuxOrBSD) {
             fontConfigDirs.add(jreLibDirName+File.separator+"oblique-fonts");
         }
         fontdirs = (String[])fontConfigDirs.toArray(new String[0]);
@@@@ -936,7 +936,7 @@@@ public class X11GraphicsEnvironment
          */
         FontConfiguration mFontConfig = new MFontConfiguration(this);
         if (isOpenSolaris ||
-            (isLinux &&
+            (isLinuxOrBSD &&
              (!mFontConfig.foundOsSpecificFile() ||
               !mFontConfig.fontFilesArePresent()) ||
              (isSolaris && !mFontConfig.fontFilesArePresent()))) {
@


1.3
log
@- Update to early access b43:
  http://download.java.net/jdk7/changes/jdk7-b43.html
- Remove KOI8_U char encoding which no longer applies
- Correct datatype warning in fork_and_exec()
- Sync patches
@
text
@d1 1
a1 1
$OpenBSD: patch-jdk_src_solaris_classes_sun_awt_X11GraphicsEnvironment_java,v 1.2 2009/01/04 23:25:16 kurt Exp $
@


1.2
log
@Update to early access build 42:
- sync/regen patches
- use os_bsd_x86.cpp from OpenJDK bsd-java repository plus
  Greg Lewis's fixes posted to the bsd-port-dev list
- use Xiaobin Lu's datatype corrections from OpenJDK bug
  6787106 + additional datatype corrections from me.
- use Vladimir Kozlov's bug fix from OpenJDK bug 6782820
- remove obsolete IcedTea awt binary plugs and update binary
  plug distfile
- correctly define DEVTOOLS_PATH for bsd and verify + correct
  Defs-utils.gmk locations for bsd utilities
@
text
@d1 4
a4 4
$OpenBSD: patch-jdk_src_solaris_classes_sun_awt_X11GraphicsEnvironment_java,v 1.1 2008/03/19 18:05:46 kurt Exp $
--- jdk/src/solaris/classes/sun/awt/X11GraphicsEnvironment.java.orig	Thu Oct 23 03:44:44 2008
+++ jdk/src/solaris/classes/sun/awt/X11GraphicsEnvironment.java	Tue Dec 23 01:09:55 2008
@@@@ -418,7 +418,7 @@@@ public class X11GraphicsEnvironment
d13 1
a13 1
@@@@ -654,7 +654,7 @@@@ public class X11GraphicsEnvironment
d22 1
a22 1
@@@@ -935,7 +935,7 @@@@ public class X11GraphicsEnvironment
@


1.1
log
@- switch to GPLv2 w/CLASSPATH exception licensed openjdk7 code
- update to early access build 24
- Use GPLv2 licensed binary plugs from the IcedTea project and parts of
  IcedTea's icedtea-copy-plugs.patch & icedtea-graphics.patch.
  For more info see:
    http://icedtea.classpath.org/wiki/Main_Page
- Enable packages since we're fully GPLv2 based now, but still not
  hooked up to bulk builds just yet.
@
text
@d1 4
a4 4
$OpenBSD$
--- jdk/src/solaris/classes/sun/awt/X11GraphicsEnvironment.java.orig	Tue Oct 30 05:03:59 2007
+++ jdk/src/solaris/classes/sun/awt/X11GraphicsEnvironment.java	Thu Nov  8 08:32:02 2007
@@@@ -403,7 +403,7 @@@@ public class X11GraphicsEnvironment
d13 1
a13 1
@@@@ -639,7 +639,7 @@@@ public class X11GraphicsEnvironment
d22 9
@

