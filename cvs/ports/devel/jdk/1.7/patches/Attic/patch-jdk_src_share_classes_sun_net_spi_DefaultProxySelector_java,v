head	1.3;
access;
symbols
	OPENBSD_5_5:1.2.0.6
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.4
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2014.04.30.13.21.00;	author kurt;	state dead;
branches;
next	1.2;

1.2
date	2013.01.14.20.16.56;	author kurt;	state Exp;
branches;
next	1.1;

1.1
date	2012.10.24.18.54.03;	author kurt;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- Update to 7u55 including several security updates
- Remove patches included in upstream repository
- Update cacerts (from FreeBSD)
- Add build-bootjdk makefile target in prep for new bootstrap
- Allow changes to LD_LIBRARY_PATH so that new bootstrap will work
okay sthen@@, dcoppa@@, ian@@
@
text
@$OpenBSD: patch-jdk_src_share_classes_sun_net_spi_DefaultProxySelector_java,v 1.2 2013/01/14 20:16:56 kurt Exp $

Crash due to missing synchronization on gconf_client.
Upstream CR 7188755.

--- jdk/src/share/classes/sun/net/spi/DefaultProxySelector.java.orig	Tue Aug 28 19:14:39 2012
+++ jdk/src/share/classes/sun/net/spi/DefaultProxySelector.java	Wed Jan  9 18:59:05 2013
@@@@ -345,6 +345,6 @@@@ public class DefaultProxySelector extends ProxySelecto
         }
     }
 
-    private native static boolean init();
-    private native Proxy getSystemProxy(String protocol, String host);
+    private synchronized native static boolean init();
+    private synchronized native Proxy getSystemProxy(String protocol, String host);
 }
@


1.2
log
@Update jdk 1.7 to u9 level:
- Update to u6 via patchset from upstream bsd_port and u6 source from Oracle
- Copied u6 -> u9 patchset from FreeBSD/Greg Lewis's port
- Updated classloader patch from Matthew Dempsky (matthew@@)
okay landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-jdk_src_share_classes_sun_net_spi_DefaultProxySelector_java,v 1.1 2012/10/24 18:54:03 kurt Exp $
@


1.1
log
@- Restore man pages in PLIST-main. Reported by Tomas Bodzar
- Patch to serialize gconf client access which corrects gconf/dbus
related crashes. From Christian Schulte
- Patch to stop the JDK from querying the locale using the LC_MESSAGES
category. From Christian Schulte
@
text
@d1 1
a1 1
$OpenBSD$
d6 3
a8 3
--- jdk/src/share/classes/sun/net/spi/DefaultProxySelector.java.orig	Fri Aug  3 06:05:21 2012
+++ jdk/src/share/classes/sun/net/spi/DefaultProxySelector.java	Fri Aug  3 06:05:37 2012
@@@@ -339,6 +339,6 @@@@ public class DefaultProxySelector extends ProxySelecto
@

