head	1.7;
access;
symbols
	OPENBSD_4_5:1.6.0.4
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.3.0.4
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	kurt_20070508:1.1.1.1
	kurt:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2009.05.23.03.03.25;	author kurt;	state dead;
branches;
next	1.6;

1.6
date	2009.01.16.16.49.29;	author kurt;	state Exp;
branches;
next	1.5;

1.5
date	2009.01.04.23.25.16;	author kurt;	state Exp;
branches;
next	1.4;

1.4
date	2008.03.19.18.05.43;	author kurt;	state Exp;
branches;
next	1.3;

1.3
date	2007.07.13.22.52.35;	author kurt;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.09.15.48.31;	author kurt;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.08.17.06.19;	author kurt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.05.08.17.06.19;	author kurt;	state Exp;
branches;
next	;


desc
@@


1.7
log
@- update from early access b43 to b59
- sync patches with OpenJDK's bsd_port project
- require a pre-installed package for native_bootstrap
- The new 1.7 class java.nio.channels.spi.AsynchronousChannelProvider
  is not implemented yet on BSD.
- The new 1.7 package java.nio.sctp is not included and not supported on
  OpenBD
@
text
@$OpenBSD: patch-hotspot_src_share_vm_includeDB_compiler2,v 1.6 2009/01/16 16:49:29 kurt Exp $
--- hotspot/src/share/vm/includeDB_compiler2.orig	Fri Dec 19 03:42:10 2008
+++ hotspot/src/share/vm/includeDB_compiler2	Wed Jan 14 11:45:05 2009
@@@@ -140,6 +140,7 @@@@ c2_globals_<os_family>.hpp              globalDefiniti
 c2_globals_<os_family>.hpp              macros.hpp
 
 c2_init_<arch>.cpp                      compile.hpp
+c2_init_<arch>.cpp                      node.hpp
 
 c2compiler.cpp                          ad_<arch_model>.hpp
 c2compiler.cpp                          c2compiler.hpp
@@@@ -839,6 +840,7 @@@@ parseHelper.cpp                         systemDictiona
 phase.cpp                               compile.hpp
 phase.cpp                               compileBroker.hpp
 phase.cpp                               nmethod.hpp
+phase.cpp                               node.hpp
 phase.cpp                               phase.hpp
 
 phase.hpp                               port.hpp
@


1.6
log
@Various minor corrections:
- Remove some patches no longer needed
- Sync some corba and jdk makefiles with bsd-port repo
- Another datatype correction in hotspot
- Use proper scoping for clock_get* from bsd-port repo
- Use includeDB corrections from Coleen Phillimore @@ Sun
instead of my own ones. From hotspot-dev list.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.5
log
@Update to early access build 42:
- sync/regen patches
- use os_bsd_x86.cpp from OpenJDK bsd-java repository plus
  Greg Lewis's fixes posted to the bsd-port-dev list
- use Xiaobin Lu's datatype corrections from OpenJDK bug
  6787106 + additional datatype corrections from me.
- use Vladimir Kozlov's bug fix from OpenJDK bug 6782820
- remove obsolete IcedTea awt binary plugs and update binary
  plug distfile
- correctly define DEVTOOLS_PATH for bsd and verify + correct
  Defs-utils.gmk locations for bsd utilities
@
text
@d1 3
a3 3
$OpenBSD: patch-hotspot_src_share_vm_includeDB_compiler2,v 1.4 2008/03/19 18:05:43 kurt Exp $
--- hotspot/src/share/vm/includeDB_compiler2.orig	Thu Nov 20 03:41:04 2008
+++ hotspot/src/share/vm/includeDB_compiler2	Tue Dec 23 07:16:15 2008
d12 1
a12 25
@@@@ -161,6 +162,7 @@@@ callGenerator.cpp                       subnode.hpp
 callGenerator.hpp                       callnode.hpp
 callGenerator.hpp                       compile.hpp
 callGenerator.hpp                       deoptimization.hpp
+callGenerator.hpp                       node.hpp
 callGenerator.hpp                       type.hpp
 
 callnode.cpp                            callnode.hpp
@@@@ -480,6 +482,7 @@@@ graphKit.hpp                            cfgnode.hpp
 graphKit.hpp                            ciEnv.hpp
 graphKit.hpp                            compile.hpp
 graphKit.hpp                            deoptimization.hpp
+graphKit.hpp                            node.hpp
 graphKit.hpp                            phaseX.hpp
 graphKit.hpp                            type.hpp
 
@@@@ -525,6 +528,7 @@@@ indexSet.cpp                            regmask.hpp
 
 indexSet.hpp                            allocation.hpp
 indexSet.hpp                            compile.hpp
+indexSet.hpp                            node.hpp
 indexSet.hpp                            regmask.hpp
 indexSet.hpp                            resourceArea.hpp
 
@@@@ -839,6 +843,7 @@@@ parseHelper.cpp                         systemDictiona
@


1.4
log
@- switch to GPLv2 w/CLASSPATH exception licensed openjdk7 code
- update to early access build 24
- Use GPLv2 licensed binary plugs from the IcedTea project and parts of
  IcedTea's icedtea-copy-plugs.patch & icedtea-graphics.patch.
  For more info see:
    http://icedtea.classpath.org/wiki/Main_Page
- Enable packages since we're fully GPLv2 based now, but still not
  hooked up to bulk builds just yet.
@
text
@d1 3
a3 3
$OpenBSD: patch-hotspot_src_share_vm_includeDB_compiler2,v 1.3 2007/07/13 22:52:35 kurt Exp $
--- hotspot/src/share/vm/includeDB_compiler2.orig	Tue Oct 30 05:00:39 2007
+++ hotspot/src/share/vm/includeDB_compiler2	Wed Nov  7 12:41:35 2007
d20 1
a20 1
@@@@ -477,6 +479,7 @@@@ graphKit.hpp                            cfgnode.hpp
d28 1
a28 1
@@@@ -521,6 +524,7 @@@@ indexSet.cpp                            regmask.hpp
d36 1
a36 1
@@@@ -833,6 +837,7 @@@@ parseHelper.cpp                         systemDictiona
@


1.3
log
@- update to build 15
- switch to the JRL licensed src. why? because it will allow me to complete
the port. OpenJDK/GPLv2 src isn't complete and the parts that we don't have
are only released in binary form with a defend and indemnify clause. When
all of the jdk is GPLv2 I will switch back to OpenJDK/GPLv2 src.
- copy the Linux src files for the rest of the jdk so i can begin to patch
them. One src file is based on solaris code since that suits us better as
a starting point.
@
text
@d1 4
a4 4
$OpenBSD: patch-hotspot_src_share_vm_includeDB_compiler2,v 1.2 2007/05/09 15:48:31 kurt Exp $
--- hotspot/src/share/vm/includeDB_compiler2.orig	Thu Jul  5 04:55:16 2007
+++ hotspot/src/share/vm/includeDB_compiler2	Fri Jul  6 08:51:59 2007
@@@@ -138,6 +138,7 @@@@ c2_globals_<os_family>.hpp              globalDefiniti
d10 1
a10 1
 c2compiler.cpp                          ad_<arch>.hpp
@


1.2
log
@. update to b12 sources (just building hotspot)
. adjust SIGRTMIN SIGRTMAX defines - from Jung-uk Kim <jkim@@freebsd.org>
. use SIGSEGV || SIGBUS in amd64 signal handling code
@
text
@d1 4
a4 4
$OpenBSD$
--- hotspot/src/share/vm/includeDB_compiler2.orig	Tue May  8 16:37:23 2007
+++ hotspot/src/share/vm/includeDB_compiler2	Tue May  8 18:12:36 2007
@@@@ -137,6 +137,7 @@@@ c2_globals_<os_family>.hpp              globalDefiniti
d12 1
a12 1
@@@@ -160,6 +161,7 @@@@ callGenerator.cpp                       subnode.hpp
d20 1
a20 1
@@@@ -476,6 +478,7 @@@@ graphKit.hpp                            cfgnode.hpp
d28 1
a28 1
@@@@ -518,6 +521,7 @@@@ indexSet.cpp                            regmask.hpp
d36 1
a36 1
@@@@ -834,6 +838,7 @@@@ parseHelper.cpp                         systemDictiona
@


1.1
log
@Initial revision
@
text
@d2 4
a5 3
--- hotspot/src/share/vm/includeDB_compiler2.orig	Tue Apr 10 04:01:37 2007
+++ hotspot/src/share/vm/includeDB_compiler2	Mon Apr 16 08:42:39 2007
@@@@ -139,7 +139,7 @@@@ c2compiler.cpp                          runtime.hpp
d7 1
a7 3
 c2compiler.hpp                          abstractCompiler.hpp
 
-c2_init_<arch>.cpp                      compile.hpp
d10 3
d15 23
a37 41
@@@@ -391,6 +391,7 @@@@ debug.cpp                               disassembler_<
 debug.cpp                               icBuffer.hpp
 debug.cpp                               nmethod.hpp
 debug.cpp                               vtableStubs.hpp
+debug.cpp                               node.hpp
 
 debug_<arch>.cpp                        nmethod.hpp
 
@@@@ -498,11 +499,14 @@@@ exceptionHandlerTable.hpp               methodOop.hpp
 
 exceptions.cpp                          compileBroker.hpp
 
+filemap.hpp                             node.hpp
+
 fprofiler.cpp                           compile.hpp
 fprofiler.cpp                           deoptimization.hpp
 fprofiler.cpp                           icBuffer.hpp
 fprofiler.cpp                           nmethod.hpp
 fprofiler.cpp                           vtableStubs.hpp
+fprofiler.cpp                           node.hpp
 
 frame.cpp                               codeCache.hpp
 frame.cpp                               nmethod.hpp
@@@@ -550,6 +554,8 @@@@ generateOptoStub.cpp                    rootnode.hpp
 generateOptoStub.cpp                    runtime.hpp
 generateOptoStub.cpp                    type.hpp
 
+genOopClosures.inline.hpp               node.hpp
+
 globals.hpp                             c2_globals_<arch>.hpp
 globals.hpp                             c2_globals_<os_family>.hpp
 
@@@@ -944,6 +950,7 @@@@ oopMap.cpp                              nmethod.hpp
 oopMap.cpp                              oopMap.hpp
 oopMap.cpp                              scopeDesc.hpp
 oopMap.cpp                              signature.hpp
+oopMap.cpp                              node.hpp
 
 oopMap.hpp                              allocation.hpp
 oopMap.hpp                              compressedStream.hpp
@@@@ -1051,6 +1058,7 @@@@ phase.cpp                               compile.hpp
d40 1
a41 1
+phase.cpp                               node.hpp
a43 1
 phase.hpp                               timer.hpp
@


1.1.1.1
log
@Initial import of jdk 1.7 (a.k.a. OpenJDK 7) work in progress. So far Sun
has released the hotspot portion of 1.7 under GPLv2. j2se and deploy
(plugin & webstart) will come later. No packages yet since j2se is copied
in from 1.5.

Note: hotspot for BSD in previous versions of the jdk were based on a
mixture of Solaris code and Linux code (for amd64). In this version I have
selected Linux as the base and only ported of small parts of the Solaris
code as needed. Using Linux code as the base has significantly reduced the
code divergence for BSD support and should make maintaining the port
easier.

okay ian@@, go for it espie@@
@
text
@@
