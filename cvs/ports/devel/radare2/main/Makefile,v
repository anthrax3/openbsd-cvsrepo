head	1.7;
access;
symbols
	OPENBSD_6_1:1.7.0.2
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.14
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.12
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.10
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.8
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.6
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.4
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	edd_20110721:1.1.1.1
	edd:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2017.03.03.21.09.08;	author jca;	state Exp;
branches;
next	1.6;
commitid	uS9EuzIuRQJaZr8M;

1.6
date	2016.10.10.12.20.17;	author feinerer;	state Exp;
branches;
next	1.5;
commitid	2egCI2tNT1InSU7i;

1.5
date	2016.04.04.22.57.45;	author naddy;	state Exp;
branches;
next	1.4;
commitid	FILF1LJRoZlYu0JV;

1.4
date	2015.08.27.13.42.09;	author jca;	state Exp;
branches;
next	1.3;
commitid	ByVo3sEeFROHAFBl;

1.3
date	2015.05.22.11.31.13;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	2khjHXfpTaOuNVcx;

1.2
date	2011.11.07.22.06.47;	author edd;	state Exp;
branches;
next	1.1;

1.1
date	2011.07.21.01.35.51;	author edd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.07.21.01.35.51;	author edd;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Honour CC
@
text
@# $OpenBSD: Makefile,v 1.6 2016/10/10 12:20:17 feinerer Exp $

COMMENT =		reverse engineers disassembler and debugger

DISTNAME =		radare2-${V}

# In radare, all libs have the same version
LIBV =			2.0	# 0.10.6
.for _lib in r_anal r_asm r_bin r_bp r_config r_cons r_core \
	r_crypto r_debug r_egg r_flags r_fs r_hash r_io r_lang \
	r_magic r_parse r_reg r_search r_socket r_syscall r_util
SHARED_LIBS+=		${_lib} ${LIBV}
.endfor

# uses pledge()
WANTLIB =		c capstone crypto kvm m pthread ssl util z zip

LIB_DEPENDS =		archivers/libzip \
			devel/capstone>=3.0.4p0

# --with-sysmagic triggers build error
CONFIGURE_ARGS +=	--mandir=${PREFIX}/man \
			--with-libversion=${LIBV} \
			--with-openssl \
			--with-syscapstone \
			--with-syszip

CONFIGURE_ENV +=	LDFLAGS="-L${LOCALBASE}/lib"
MAKE_ENV =		HOST_CC="${CC}"

post-patch:
	sed -i 's/>mips/>mipsen/' ${WRKSRC}/libr/anal/p/anal_mips_cs.c

# https://github.com/radare/radare2/blob/master/doc/capstone.md
post-configure:
	sed -i 's|include/capstone|include|' ${WRKSRC}/config-user.mk

.include <bsd.port.mk>
@


1.6
log
@Update to radare2 0.10.6

Also rename radare-bindings2 to radare2-bindings (as upstream).

OK edd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/04/04 22:57:45 naddy Exp $
d29 1
@


1.5
log
@g/c PFRAG.shared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/08/27 13:42:09 jca Exp $
a5 1
REVISION =		2
d8 4
a11 5
LIBV =			1.0	# 0.8.8
.for _lib in r_anal r_asm r_bin r_bp r_cmd r_config r_cons r_core r_db \
	r_debug r_diff r_egg r_flags r_fs r_hash r_io r_lang r_lib r_line \
	r_magic r_parse r_print r_reg r_search r_sign r_socket r_syscall \
	r_th r_util
d15 2
a16 1
WANTLIB =		c crypto m pthread ssl
d18 18
a35 2
CONFIGURE_ARGS +=	--with-libversion=${LIBV} \
			--mandir=${PREFIX}/man
@


1.4
log
@Fix HOMEPAGE/MASTER_SITES.  ok edd@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/05/22 11:31:13 ajacoutot Exp $
d6 1
a6 1
REVISION =		1
@


1.3
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/11/07 22:06:47 edd Exp $
d6 1
a6 1
REVISION =		0
@


1.2
log
@Update to radare2-0.8.8

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/07/21 01:35:51 edd Exp $
d6 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.60 2010/10/24 20:41:23 ajacoutot Exp $
d8 5
a12 4
LIBV =			0.0	# 0.8.1
.for _lib in r_anal r_asm r_bin r_bp r_cmd r_config r_cons r_core r_debug \
	r_diff r_flags r_fs r_hash r_io r_lang r_lib r_line r_parse r_print \
	r_reg r_search r_sign r_socket r_syscall r_util
@


1.1.1.1
log
@Import radare2, reverse engineers hex editor, debugger and disassembler.

Only i386/amd64 enabled until we know which arches work/need fixing.

OK sthen@@

@
text
@@
