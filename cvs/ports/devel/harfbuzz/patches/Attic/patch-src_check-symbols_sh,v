head	1.6;
access;
symbols
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2;
locks; strict;
comment	@# @;


1.6
date	2015.01.24.08.38.16;	author ajacoutot;	state dead;
branches;
next	1.5;
commitid	PJWgS9V1a9snht5E;

1.5
date	2014.11.21.08.01.30;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	pPbePOB0cvxSnIJu;

1.4
date	2014.05.02.16.22.07;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2013.09.24.09.18.31;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2013.05.21.16.34.53;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.03.09.15.25.28;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to harfbuzz-0.9.38.
@
text
@$OpenBSD: patch-src_check-symbols_sh,v 1.5 2014/11/21 08:01:30 ajacoutot Exp $
--- src/check-symbols.sh.orig	Thu Oct  2 00:18:11 2014
+++ src/check-symbols.sh	Fri Nov 21 08:47:42 2014
@@@@ -16,7 +16,7 @@@@ fi
 
 echo "Checking that we are not exposing internal symbols"
 tested=false
-for suffix in so dylib; do
+for suffix in so.${LIBharfbuzz_VERSION} dylib; do
 	so=.libs/libharfbuzz.$suffix
 	if ! test -f "$so"; then continue; fi
 	
@


1.5
log
@Update to harfbuzz-0.9.36.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_check-symbols_sh,v 1.4 2014/05/02 16:22:07 ajacoutot Exp $
@


1.4
log
@Update to harfbuzz-0.9.28.
@
text
@d1 3
a3 3
$OpenBSD: patch-src_check-symbols_sh,v 1.3 2013/09/24 09:18:31 ajacoutot Exp $
--- src/check-symbols.sh.orig	Thu Apr 10 01:37:55 2014
+++ src/check-symbols.sh	Fri May  2 18:17:39 2014
d8 4
a11 2
-for so in `ls .libs/lib*.so .libs/lib*.dylib 2>/dev/null` ; do
+for so in `ls .libs/lib*.so.${LIBharfbuzz_VERSION} .libs/lib*.dylib 2>/dev/null` ; do
a12 2
 	EXPORTED_SYMBOLS="`nm "$so" | grep ' [BCDGINRSTVW] ' | grep -v ' _fini\>\| _init\>\| _fdata\>\| _ftext\>\| _fbss\>\| __bss_start\>\| __bss_start__\>\| __bss_end__\>\| _edata\>\| _end\>\| _bss_end__\>\| __end__\>' | cut -d' ' -f3`"
 	prefix=`basename "$so" | sed 's/libharfbuzz/hb/; s/-/_/g; s/[.].*//'`
@


1.3
log
@Update to harfbuzz-0.9.21.
@
text
@d1 3
a3 3
$OpenBSD: patch-src_check-symbols_sh,v 1.2 2013/05/21 16:34:53 ajacoutot Exp $
--- src/check-symbols.sh.orig	Tue Sep 17 04:03:37 2013
+++ src/check-symbols.sh	Tue Sep 24 11:02:28 2013
d11 1
a11 1
 	EXPORTED_SYMBOLS="`nm "$so" | grep ' [BCDGINRSTVW] ' | grep -v ' _fini\>\| _init\>\| _fdata\>\| _ftext\>\| __bss_start\>\| __bss_start__\>\| __bss_end__\>\| _edata\>\| _end\>\| _bss_end__\>\| __end__\>' | cut -d' ' -f3`"
@


1.2
log
@Update to harfbuzz-0.9.17.
@
text
@d1 6
a6 4
$OpenBSD: patch-src_check-symbols_sh,v 1.1 2013/03/09 15:25:28 ajacoutot Exp $
--- src/check-symbols.sh.orig	Thu Apr  4 18:06:34 2013
+++ src/check-symbols.sh	Tue May 21 18:30:18 2013
@@@@ -19,7 +19,7 @@@@ $MAKE $defs > /dev/null
d8 3
a10 5
 for def in $defs; do
 	lib=`echo "$def" | sed 's/[.]def$//;s@@.*/@@@@'`
-	so=.libs/lib${lib}.so
+	so=.libs/lib${lib}.so.${LIBharfbuzz_VERSION}
 
d12 1
a12 1
 
@


1.1
log
@Update to harfbuzz-0.9.13.
@
text
@d1 3
a3 3
$OpenBSD$
--- src/check-symbols.sh.orig	Sat Mar  9 16:15:51 2013
+++ src/check-symbols.sh	Sat Mar  9 16:16:31 2013
d11 1
a11 1
 	EXPORTED_SYMBOLS="`nm "$so" | grep ' [BCDGINRSTVW] ' | grep -v ' T _fini\>\| T _init\>\| _fdata\>\| _ftext\>\| __bss_start\>\| __bss_start__\>\| __bss_end__\>\| _edata\>\| _end\>\| _bss_end__\>\| __end__\>' | cut -d' ' -f3`"
@

