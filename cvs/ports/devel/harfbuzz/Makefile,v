head	1.62;
access;
symbols
	OPENBSD_6_1:1.62.0.2
	OPENBSD_6_1_BASE:1.62
	OPENBSD_6_0:1.52.0.2
	OPENBSD_6_0_BASE:1.52
	OPENBSD_5_9:1.46.0.2
	OPENBSD_5_9_BASE:1.46
	OPENBSD_5_8:1.34.0.4
	OPENBSD_5_8_BASE:1.34
	OPENBSD_5_7:1.28.0.2
	OPENBSD_5_7_BASE:1.28
	OPENBSD_5_6:1.21.0.2
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.17.0.2
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.13.0.2
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	ajacoutot_20120920:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.62
date	2017.03.13.08.52.09;	author ajacoutot;	state Exp;
branches;
next	1.61;
commitid	oHTBAjQCkKDOmGIc;

1.61
date	2017.03.06.08.06.46;	author ajacoutot;	state Exp;
branches;
next	1.60;
commitid	iTDBhEkWZceFEo0Z;

1.60
date	2017.02.27.09.32.09;	author ajacoutot;	state Exp;
branches;
next	1.59;
commitid	nuY1yVBURY3dXQln;

1.59
date	2017.01.24.07.08.14;	author ajacoutot;	state Exp;
branches;
next	1.58;
commitid	QxxTFumZucEemqGh;

1.58
date	2017.01.06.08.37.58;	author ajacoutot;	state Exp;
branches;
next	1.57;
commitid	t1Cb9KZNcUqkGZqJ;

1.57
date	2016.12.06.08.49.21;	author ajacoutot;	state Exp;
branches;
next	1.56;
commitid	xPK6ObeDvWvenqQI;

1.56
date	2016.10.27.08.25.00;	author ajacoutot;	state Exp;
branches;
next	1.55;
commitid	e3FZuRwSLXe7H9NC;

1.55
date	2016.09.28.07.09.55;	author ajacoutot;	state Exp;
branches;
next	1.54;
commitid	JYk2n6cwGjgVf7yx;

1.54
date	2016.09.08.07.19.58;	author ajacoutot;	state Exp;
branches;
next	1.53;
commitid	2S86r6tqEzNuS7Wr;

1.53
date	2016.07.30.14.19.51;	author ajacoutot;	state Exp;
branches;
next	1.52;
commitid	IjYB8rZhChIXMm8y;

1.52
date	2016.05.03.16.25.11;	author ajacoutot;	state Exp;
branches;
next	1.51;
commitid	GRZoycMKPqBGErIj;

1.51
date	2016.04.09.07.19.56;	author ajacoutot;	state Exp;
branches;
next	1.50;
commitid	NWh71HDOKpsReXN7;

1.50
date	2016.04.08.17.28.38;	author ajacoutot;	state Exp;
branches;
next	1.49;
commitid	b4nV4s8qmIIetNYd;

1.49
date	2016.03.18.06.54.13;	author ajacoutot;	state Exp;
branches;
next	1.48;
commitid	ULKyxIiYBnof1EUX;

1.48
date	2016.03.11.20.28.24;	author naddy;	state Exp;
branches;
next	1.47;
commitid	UYLP8TE6V7RS2GhJ;

1.47
date	2016.02.28.11.27.02;	author ajacoutot;	state Exp;
branches;
next	1.46;
commitid	y5ssc30epbEM0OjK;

1.46
date	2016.01.29.11.46.52;	author dcoppa;	state Exp;
branches;
next	1.45;
commitid	rbhQUhuHTB82d6S9;

1.45
date	2016.01.12.07.05.13;	author ajacoutot;	state Exp;
branches;
next	1.44;
commitid	7UaeiXS3ulOo3mW9;

1.44
date	2015.12.26.09.45.51;	author ajacoutot;	state Exp;
branches;
next	1.43;
commitid	yBK1nC4sxUCqpHHX;

1.43
date	2015.11.27.06.30.11;	author ajacoutot;	state Exp;
branches;
next	1.42;
commitid	UQ5PqUOD9jwo9PHk;

1.42
date	2015.11.25.06.59.37;	author ajacoutot;	state Exp;
branches;
next	1.41;
commitid	5lSXItSxXAdtOl35;

1.41
date	2015.11.22.08.08.26;	author ajacoutot;	state Exp;
branches;
next	1.40;
commitid	yEWkMrYy652WHPqv;

1.40
date	2015.10.16.06.08.29;	author ajacoutot;	state Exp;
branches;
next	1.39;
commitid	uRbSRBD03v9XJyvP;

1.39
date	2015.10.14.18.33.19;	author ajacoutot;	state Exp;
branches;
next	1.38;
commitid	ZYBog4E48icb5WFq;

1.38
date	2015.10.01.06.38.48;	author ajacoutot;	state Exp;
branches;
next	1.37;
commitid	H57TfJe5AOZ5ItbC;

1.37
date	2015.09.02.07.09.46;	author ajacoutot;	state Exp;
branches;
next	1.36;
commitid	d3cL2bzLMc9TgAkp;

1.36
date	2015.08.20.07.31.11;	author ajacoutot;	state Exp;
branches;
next	1.35;
commitid	5LZ4rcNO9jCxtGGC;

1.35
date	2015.08.12.07.23.10;	author jasper;	state Exp;
branches;
next	1.34;
commitid	hdmgLxkUjqbrjJ3G;

1.34
date	2015.07.28.07.05.30;	author ajacoutot;	state Exp;
branches;
next	1.33;
commitid	Opi2K2OHmu6SrblK;

1.33
date	2015.07.24.22.41.50;	author ajacoutot;	state Exp;
branches;
next	1.32;
commitid	jsRGLtRcx4cK13S3;

1.32
date	2015.07.24.18.49.04;	author landry;	state Exp;
branches;
next	1.31;
commitid	PgLe3EwVr5QJ17sf;

1.31
date	2015.06.19.06.12.01;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	68ZDQ5tq1lUpFhvk;

1.30
date	2015.03.21.09.19.13;	author ajacoutot;	state Exp;
branches;
next	1.29;
commitid	Fi7LgfrVbPvQ5L4W;

1.29
date	2015.03.15.08.40.11;	author ajacoutot;	state Exp;
branches;
next	1.28;
commitid	3mnoHA5sCi9mtbeC;

1.28
date	2015.01.25.12.42.48;	author naddy;	state Exp;
branches;
next	1.27;
commitid	6nWb5RhotGRfIpAb;

1.27
date	2015.01.24.08.38.16;	author ajacoutot;	state Exp;
branches;
next	1.26;
commitid	PJWgS9V1a9snht5E;

1.26
date	2014.12.19.13.43.26;	author ajacoutot;	state Exp;
branches;
next	1.25;
commitid	bbd9qOGxM0ZJJSVT;

1.25
date	2014.11.21.08.01.30;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	pPbePOB0cvxSnIJu;

1.24
date	2014.09.13.16.36.53;	author ajacoutot;	state Exp;
branches;
next	1.23;
commitid	N2TalFGi4jKRwS2u;

1.23
date	2014.08.30.09.20.42;	author ajacoutot;	state Exp;
branches;
next	1.22;
commitid	GhFIjVlBB4Ou5NxJ;

1.22
date	2014.08.10.08.01.05;	author ajacoutot;	state Exp;
branches;
next	1.21;
commitid	tg74uBWKVAcuywAR;

1.21
date	2014.05.30.14.52.52;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2014.05.02.16.22.07;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2014.04.03.14.21.19;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2014.03.09.22.14.03;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2013.12.05.07.44.02;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.11.01.10.12.19;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2013.09.24.09.18.31;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2013.08.10.18.29.25;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2013.05.31.15.28.36;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2013.05.21.16.34.53;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2013.03.24.15.35.27;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2013.03.21.08.45.15;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2013.03.11.10.50.06;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2013.03.10.09.06.46;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2013.03.09.15.25.28;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2013.01.23.18.09.28;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2013.01.05.13.29.03;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2012.12.06.16.47.36;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.11.20.06.57.26;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.09.21.06.31.27;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.09.20.13.42.23;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.09.20.13.42.23;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.62
log
@Update to harfbuzz-1.4.5.
@
text
@# $OpenBSD: Makefile,v 1.61 2017/03/06 08:06:46 ajacoutot Exp $

BROKEN-hppa=		no atomic primitives

COMMENT-main=		text shaping library
COMMENT-icu=		ICU support for libharfbuzz

V=			1.4.5
DISTNAME=		harfbuzz-${V}
EXTRACT_SUFX=		.tar.bz2

PKGNAME-main=		harfbuzz-${V}
PKGNAME-icu=		harfbuzz-icu-${V}

SHARED_LIBS +=  harfbuzz             8.7      # 10400.5
SHARED_LIBS +=  harfbuzz-icu         0.3      # 10400.5
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10400.5

CATEGORIES=		devel graphics textproc

HOMEPAGE=		http://www.freedesktop.org/wiki/Software/HarfBuzz

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# MIT
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += freetype glib-2.0 graphite2 iconv intl m pcre pthread
WANTLIB += stdc++ z

MASTER_SITES=		http://www.freedesktop.org/software/harfbuzz/release/

MULTI_PACKAGES=		-main -icu

USE_GMAKE=		Yes

WANTLIB-main += ${WANTLIB}
WANTLIB-main += X11 Xext Xrender c cairo expat fontconfig pixman-1
WANTLIB-main += png pthread-stubs xcb xcb-render xcb-shm ffi
WANTLIB-main += gobject-2.0

WANTLIB-icu += ${WANTLIB}
WANTLIB-icu += harfbuzz icudata icuuc

BUILD_DEPENDS=		devel/gobject-introspection

LIB_DEPENDS-main=	graphics/cairo \
			graphics/graphite2

LIB_DEPENDS-icu=	devel/harfbuzz,-main=${V} \
			textproc/icu4c

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--enable-introspection \
			--with-graphite2 \
			--with-gobject

.if ${MACHINE_ARCH} == "arm"
CXXFLAGS +=		-DHB_NO_MT
.endif

pre-configure:
	sed -i 's,for suffix in so,for suffix in so.${LIBharfbuzz_VERSION},' \
		${WRKSRC}/src/check-symbols.sh

.include <bsd.port.mk>
@


1.61
log
@Update to harfbuzz-1.4.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2017/02/27 09:32:09 ajacoutot Exp $
d8 1
a8 1
V=			1.4.4
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.7      # 10400.4
SHARED_LIBS +=  harfbuzz-icu         0.3      # 10400.4
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10400.4
@


1.60
log
@Update to harfbuzz-1.4.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2017/01/24 07:08:14 ajacoutot Exp $
d8 1
a8 1
V=			1.4.3
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.7      # 10400.3
SHARED_LIBS +=  harfbuzz-icu         0.3      # 10400.3
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10400.3
@


1.59
log
@Update to harfbuzz-1.4.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2017/01/06 08:37:58 ajacoutot Exp $
d8 1
a8 1
V=			1.4.2
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.6      # 10400.2
SHARED_LIBS +=  harfbuzz-icu         0.3      # 10400.2
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10400.2
@


1.58
log
@Update to harfbuzz-1.4.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2016/12/06 08:49:21 ajacoutot Exp $
d8 1
a8 1
V=			1.4.1
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.5      # 10400.1
SHARED_LIBS +=  harfbuzz-icu         0.3      # 10400.1
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10400.1
@


1.57
log
@Update to harfbuzz-1.3.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2016/10/27 08:25:00 ajacoutot Exp $
d8 1
a8 1
V=			1.3.4
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.4      # 10304.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10304.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10304.0
@


1.56
log
@Update to harfbuzz-1.3.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2016/09/28 07:09:55 ajacoutot Exp $
d8 1
a8 1
V=			1.3.3
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.4      # 10303.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10303.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10303.0
@


1.55
log
@Update to harfbuzz-1.3.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2016/09/08 07:19:58 ajacoutot Exp $
d8 1
a8 1
V=			1.3.2
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.3      # 10302.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10302.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10302.0
@


1.54
log
@Update to harfbuzz-1.3.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2016/07/30 14:19:51 ajacoutot Exp $
d8 1
a8 1
V=			1.3.1
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.3      # 10301.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10301.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10301.0
@


1.53
log
@Update to harfbuzz-1.3.0.
- tested in a bulk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2016/05/03 16:25:11 ajacoutot Exp $
d8 1
a8 1
V=			1.3.0
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.3      # 10300.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10300.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10300.0
@


1.52
log
@Update to harfbuzz-1.2.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2016/04/09 07:19:56 ajacoutot Exp $
d8 1
a8 1
V=			1.2.7
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.2      # 10200.7
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10200.7
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10200.7
@


1.51
log
@Update to harfbuzz-1.2.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2016/04/08 17:28:38 ajacoutot Exp $
d8 1
a8 1
V=			1.2.6
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.1      # 10200.6
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10200.6
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10200.6
@


1.50
log
@Update to harfbuzz-1.2.5.
Drop the gettext MODULE while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2016/03/18 06:54:13 ajacoutot Exp $
d8 1
a8 1
V=			1.2.5
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.1      # 10200.5
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10200.5
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10200.5
@


1.49
log
@Update to harfbuzz-1.2.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2016/03/11 20:28:24 naddy Exp $
d8 1
a8 1
V=			1.2.4
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.1      # 10200.4
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10200.4
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10200.4
d28 2
a29 1
WANTLIB += freetype glib-2.0 graphite2 m pcre pthread stdc++ z
a34 2
MODULES=		devel/gettext

d47 1
a47 2
LIB_DEPENDS-main=	${MODGETTEXT_LIB_DEPENDS} \
			graphics/cairo \
@


1.48
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2016/02/28 11:27:02 ajacoutot Exp $
d8 1
a8 1
V=			1.2.3
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             8.0      # 10200.3
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10200.3
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10200.3
@


1.47
log
@Update to harfbuzz-1.2.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2016/01/29 11:46:52 dcoppa Exp $
d56 1
a56 2
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--enable-introspection \
@


1.46
log
@
Unbreak building devel/harfbuzz on arm by using
"CXXFLAGS += -DHB_NO_MT" like they did for Android

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2016/01/12 07:05:13 ajacoutot Exp $
d8 1
a8 1
V=			1.1.3
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             7.1      # 10103.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10103.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10103.0
@


1.45
log
@Update to harfbuzz-1.1.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2015/12/26 09:45:51 ajacoutot Exp $
d60 4
@


1.44
log
@Remove more BROKEN markers for ports requiring built-in atomic ops.

from Brad, OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2015/11/27 06:30:11 ajacoutot Exp $
d8 1
a8 1
V=			1.1.2
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             7.0      # 10102.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10102.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10102.0
@


1.43
log
@Update to harfbuzz-1.1.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2015/11/25 06:59:37 ajacoutot Exp $
a3 1
BROKEN-mips64=		no atomic primitives
@


1.42
log
@Update to harfbuzz-1.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2015/11/22 08:08:26 ajacoutot Exp $
d9 1
a9 1
V=			1.1.1
d16 3
a18 3
SHARED_LIBS +=  harfbuzz             6.0      # 10101.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10101.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10101.0
@


1.41
log
@Update to harfbuzz-1.1.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2015/10/16 06:08:29 ajacoutot Exp $
d9 1
a9 1
V=			1.1.0
d16 3
a18 3
SHARED_LIBS +=  harfbuzz             6.0      # 10100.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10100.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10100.0
@


1.40
log
@Update to harfbuzz-1.0.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2015/10/14 18:33:19 ajacoutot Exp $
d9 1
a9 1
V=			1.0.6
d16 3
a18 3
SHARED_LIBS +=  harfbuzz             5.1      # 10000.5
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10000.5
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10000.5
@


1.39
log
@Update to harfbuzz-1.0.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2015/10/01 06:38:48 ajacoutot Exp $
d9 1
a9 1
V=			1.0.5
@


1.38
log
@Update to harfbuzz-1.0.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2015/09/02 07:09:46 ajacoutot Exp $
d9 1
a9 1
V=			1.0.4
d16 3
a18 3
SHARED_LIBS +=  harfbuzz             5.1      # 10000.2
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10000.2
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10000.2
@


1.37
log
@Update to harfbuzz-1.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2015/08/20 07:31:11 ajacoutot Exp $
d9 1
a9 1
V=			1.0.3
d63 1
a63 1
	sed -i -e 's,for suffix in so,for suffix in so.${LIBharfbuzz_VERSION},' \
@


1.36
log
@Update to harfbuzz-1.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2015/08/12 07:23:10 jasper Exp $
d9 1
a9 1
V=			1.0.2
@


1.35
log
@mark broken for mips64 for it lacks atomics ops

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2015/07/28 07:05:30 ajacoutot Exp $
d9 1
a9 1
V=			1.0.1
d16 3
a18 3
SHARED_LIBS +=  harfbuzz             5.1      # 10000.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 10000.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 10000.0
@


1.34
log
@Update to harfbuzz-1.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/07/24 22:41:50 ajacoutot Exp $
d4 1
@


1.33
log
@Tweak previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/07/24 18:49:04 landry Exp $
d8 1
a8 1
V=			0.9.41
d15 3
a17 3
SHARED_LIBS +=  harfbuzz             5.0      # 941.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 941.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 941.0
d62 1
a62 1
	perl -pi -e 's,for suffix in so,for suffix in so.${LIBharfbuzz_VERSION},,' \
@


1.32
log
@BROKEN-hppa: no atomic primitives (and takes out a whole part of the tree)
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.31 2015/06/19 06:12:01 ajacoutot Exp $
a6 1
BROKEN-hppa =		no atomic primitives
@


1.31
log
@Update to harfbuzz-0.9.41.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/03/21 09:19:13 ajacoutot Exp $
d5 1
@


1.30
log
@Update to harfbuzz-0.9.40.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/03/15 08:40:11 ajacoutot Exp $
d6 1
a6 1
V=			0.9.40
d13 3
a15 3
SHARED_LIBS +=  harfbuzz             5.0      # 940.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 940.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 940.0
@


1.29
log
@Update to harfbuzz-0.9.39.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/01/25 12:42:48 naddy Exp $
d6 1
a6 1
V=			0.9.39
d13 3
a15 3
SHARED_LIBS +=  harfbuzz             5.0      # 939.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 939.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 939.0
@


1.28
log
@typo in variable name
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/01/24 08:38:16 ajacoutot Exp $
d6 1
a6 1
V=			0.9.38
d13 3
a15 3
SHARED_LIBS +=  harfbuzz             5.0      # 938.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 938.0
SHARED_LIBS +=  harfbuzz-gobject     0.0      # 938.0
@


1.27
log
@Update to harfbuzz-0.9.38.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2014/12/19 13:43:26 ajacoutot Exp $
d44 1
a44 1
BUILB_DEPENDS=		devel/gobject-introspection
@


1.26
log
@Update to harfbuzz-0.9.37.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/11/21 08:01:30 ajacoutot Exp $
d6 1
a6 1
V=			0.9.37
d13 3
a15 2
SHARED_LIBS +=  harfbuzz             5.0      # 935.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 935.0
d38 2
a39 1
WANTLIB-main += png pthread-stubs xcb xcb-render xcb-shm
d44 2
d55 3
a57 1
			--with-graphite2
d60 2
a61 1
	${SUBST_CMD} ${WRKSRC}/src/check-symbols.sh
@


1.25
log
@Update to harfbuzz-0.9.36.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/09/13 16:36:53 ajacoutot Exp $
d6 1
a6 1
V=			0.9.36
@


1.24
log
@--disable-gtk-doc is handled by the infrastructure now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/08/30 09:20:42 ajacoutot Exp $
d6 1
a6 1
V=			0.9.35
@


1.23
log
@Update to harfbuzz-0.9.35.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/08/10 08:01:05 ajacoutot Exp $
a50 1
			--disable-gtk-doc \
a51 6

# If one of these tools is found at configure stage, it might be used,
# no matter whether we use --disable-gtk-doc or not.
CONFIGURE_ENV +=	ac_cv_path_GTKDOC_CHECK="" \
			ac_cv_path_GTKDOC_REBASE="" \
			ac_cv_path_GTKDOC_MKPDF=""
@


1.22
log
@Update to harfbuzz-0.9.34.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/05/30 14:52:52 ajacoutot Exp $
d6 1
a6 1
V=			0.9.34
d13 2
a14 2
SHARED_LIBS +=  harfbuzz             4.5      # 934.0
SHARED_LIBS +=  harfbuzz-icu         0.2      # 934.0
@


1.21
log
@Update to harfbuzz-0.9.29.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/05/02 16:22:07 ajacoutot Exp $
d6 1
a6 1
V=			0.9.29
d13 2
a14 2
SHARED_LIBS +=  harfbuzz             4.4      # 929.0
SHARED_LIBS +=  harfbuzz-icu         0.1      # 929.0
@


1.20
log
@Update to harfbuzz-0.9.28.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/04/03 14:21:19 ajacoutot Exp $
d6 1
a6 1
V=			0.9.28
d13 2
a14 2
SHARED_LIBS +=  harfbuzz             4.3      # 928.0
SHARED_LIBS +=  harfbuzz-icu         0.1      # 928.0
@


1.19
log
@Update to harfbuzz-0.9.27.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/03/09 22:14:03 ajacoutot Exp $
d6 1
a6 1
V=			0.9.27
d13 2
a14 2
SHARED_LIBS +=  harfbuzz             4.3      # 927.0
SHARED_LIBS +=  harfbuzz-icu         0.1      # 927.0
@


1.18
log
@Update to harfbuzz-0.9.26.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/12/05 07:44:02 ajacoutot Exp $
d6 1
a6 1
V=			0.9.26
d13 2
a14 2
SHARED_LIBS +=  harfbuzz             4.2      # 926.0
SHARED_LIBS +=  harfbuzz-icu         0.0      # 926.0
@


1.17
log
@Update to harfbuzz-0.9.25.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/11/01 10:12:19 ajacoutot Exp $
d6 1
a6 1
V=			0.9.25
d13 2
a14 2
SHARED_LIBS +=  harfbuzz             4.2      # 923.0
SHARED_LIBS +=  harfbuzz-icu         0.0      # 923.0
@


1.16
log
@Update to harfbuzz-0.9.23.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/09/24 09:18:31 ajacoutot Exp $
d6 1
a6 1
V=			0.9.23
@


1.15
log
@Update to harfbuzz-0.9.21.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/08/10 18:29:25 ajacoutot Exp $
d6 1
a6 1
V=			0.9.21
d13 2
a14 2
SHARED_LIBS +=  harfbuzz             4.1      # 921.0
SHARED_LIBS +=  harfbuzz-icu         0.0      # 921.0
@


1.14
log
@Update to harfbuzz-0.9.19.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/05/31 15:28:36 ajacoutot Exp $
d6 1
a6 1
V=			0.9.19
d13 2
a14 2
SHARED_LIBS +=  harfbuzz             4.0    # 918.0
SHARED_LIBS +=  harfbuzz-icu         0.0    # 918.0
d25 1
a25 2
WANTLIB += ffi freetype glib-2.0 gobject-2.0 graphite2 m pcre pthread
WANTLIB += stdc++ z
d51 1
a51 1
			--with-icu \
d53 6
@


1.13
log
@Update to harfbuzz-0.9.18.

There is a major change in the port: the library has been split into 2
subpackages:
-main
-icu which provides ICU support
This allows not to force everything to link against libicu.

Breakage *is* expected but a bulk will be run shortly to cope with that
and a hackathon is a good time to do that.
Webkit is being worked on by myself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/05/21 16:34:53 ajacoutot Exp $
d6 1
a6 1
V=			0.9.18
@


1.12
log
@Update to harfbuzz-0.9.17.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/03/24 15:35:27 ajacoutot Exp $
d3 2
a4 1
COMMENT=	text shaping library
d6 3
a8 2
DISTNAME=	harfbuzz-0.9.17
EXTRACT_SUFX=	.tar.bz2
d10 2
a11 1
SHARED_LIBS +=  harfbuzz             3.1      # 917.0
d13 2
a14 1
CATEGORIES=	devel x11
d16 1
a16 1
HOMEPAGE=	http://www.freedesktop.org/wiki/Software/HarfBuzz
d18 3
a20 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
d25 10
a34 4
WANTLIB += X11 Xext Xrender c cairo expat ffi fontconfig freetype
WANTLIB += glib-2.0 gobject-2.0 graphite2 icudata icule icuuc
WANTLIB += m pcre pixman-1 png pthread pthread-stubs stdc++ xcb
WANTLIB += xcb-render xcb-shm z
d36 3
a38 1
MASTER_SITES=	http://www.freedesktop.org/software/harfbuzz/release/
d40 2
a41 1
MODULES=	devel/gettext
d43 3
a45 1
USE_GMAKE=	Yes
d47 2
a48 3
LIB_DEPENDS=	graphics/cairo \
		graphics/graphite2 \
		textproc/icu4c
d50 4
a53 2
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
@


1.11
log
@Update to harfbuzz-0.9.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/03/21 08:45:15 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	harfbuzz-0.9.14
d8 1
a8 1
SHARED_LIBS +=  harfbuzz             3.1      # 914.0
d20 3
a22 3
WANTLIB += glib-2.0 gobject-2.0 graphite2 gthread-2.0 icudata
WANTLIB += icule icuuc m pcre pixman-1 png pthread pthread-stubs
WANTLIB += stdc++ xcb xcb-render xcb-shm z
@


1.10
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/03/11 10:50:06 espie Exp $
d5 1
a5 1
DISTNAME=	harfbuzz-0.9.13
a6 1
REVISION=	0
d8 1
a8 1
SHARED_LIBS +=  harfbuzz                  3.0 # 913.0
@


1.9
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/03/10 09:06:46 ajacoutot Exp $
a29 1
USE_LIBTOOL=	Yes
@


1.8
log
@Add graphite2 support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/03/09 15:25:28 ajacoutot Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.7
log
@Update to harfbuzz-0.9.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/01/23 18:09:28 ajacoutot Exp $
d7 1
d24 3
a26 3
WANTLIB += glib-2.0 gobject-2.0 gthread-2.0 icudata icule icuuc
WANTLIB += m pcre pixman-1 png pthread pthread-stubs stdc++ xcb
WANTLIB += xcb-render xcb-shm z
d36 1
@


1.6
log
@Update to harfbuzz-0.9.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/01/05 13:29:03 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	harfbuzz-0.9.12
d8 1
a8 1
SHARED_LIBS +=  harfbuzz                  2.0 # 912.0
d22 4
a25 4
WANTLIB += X11 Xau Xdmcp Xext Xrender c cairo expat ffi fontconfig
WANTLIB += freetype glib-2.0 gobject-2.0 gthread-2.0 icudata icule
WANTLIB += icuuc m pcre pixman-1 png pthread pthread-stubs stdc++
WANTLIB += xcb xcb-render xcb-shm z
d41 1
a41 1
	${SUBST_CMD} ${WRKSRC}/src/{check-internal-symbols,check-exported-symbols}.sh
@


1.5
log
@Update to harfbuzz-0.9.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/12/06 16:47:36 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	harfbuzz-0.9.10
d8 1
a8 1
SHARED_LIBS +=  harfbuzz                  2.0 # 909.0
d22 5
a27 6

WANTLIB += GL X11 Xau Xdamage Xdmcp Xext Xfixes Xrender Xxf86vm
WANTLIB += c cairo drm expat ffi fontconfig freetype glib-2.0
WANTLIB += gobject-2.0 gthread-2.0 icudata icule icuuc m pcre
WANTLIB += pixman-1 png pthread pthread-stubs stdc++ xcb xcb-render
WANTLIB += xcb-shm z
@


1.4
log
@Update to harfbuzz-0.9.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/11/20 06:57:26 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	harfbuzz-0.9.9
d8 1
a8 1
SHARED_LIBS +=  harfbuzz                  1.0 # 909.0
@


1.3
log
@Bugfix update to harfbuzz-0.9.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/09/21 06:31:27 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	harfbuzz-0.9.6
d8 1
a8 1
SHARED_LIBS +=  harfbuzz                  0.1 # 904.0
@


1.2
log
@Remove CONFIGURE_ENV now that freetype2 pc file has been fixed.
Require a current xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/09/20 13:42:23 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	harfbuzz-0.9.4
a6 1
REVISION=	0
d8 1
a8 1
SHARED_LIBS +=  harfbuzz                  0.0 # 904.0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a39 1
CONFIGURE_ENV=	FREETYPE_LIBS="$$(pkg-config --libs freetype2) -lz"
@


1.1.1.1
log
@Import harfbuzz-0.9.4.

HarfBuzz is an OpenType text shaping engine.

ok jasper@@
@
text
@@
