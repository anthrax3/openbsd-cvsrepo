head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2012.12.05.11.32.04;	author dcoppa;	state dead;
branches;
next	1.2;

1.2
date	2012.11.26.12.32.29;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2012.11.11.17.13.31;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Bugfix update to cmake-2.8.10.2.
Sync patches with what has been committed upstream (kudos to Amit)
@
text
@$OpenBSD: patch-Modules_FindGettext_cmake,v 1.2 2012/11/26 12:32:29 dcoppa Exp $

Fix overwriting result with empty variable
(upstream git commit 94f37851ef5c6dccbe2dd647a3b38e3196393298)

--- Modules/FindGettext.cmake.orig	Mon Nov 26 12:30:02 2012
+++ Modules/FindGettext.cmake	Mon Nov 26 12:30:34 2012
@@@@ -209,5 +209,3 @@@@ function(GETTEXT_PROCESS_PO_FILES _lang)
    add_dependencies(pofiles ${uniqueTargetName})
 
 endfunction()
-
-set(GETTEXT_FOUND ${Gettext_FOUND})
@


1.2
log
@Sync with upstream
(http://cmake.org/gitweb?p=cmake.git;a=commit;h=94f37851ef5c6dccbe2dd647a3b38e3196393298)
@
text
@d1 1
a1 1
$OpenBSD: patch-Modules_FindGettext_cmake,v 1.1 2012/11/11 17:13:31 dcoppa Exp $
@


1.1
log
@Update to cmake-2.8.10.
Successfully gone through a bulk build.

Feedback landry@@, Vadim Zhukov, Amit Kulkarni
Bulk build and OK landry@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 3
Revert 656ab19b5cbe0f563f72f8219c5670df2351c153 ("remove code
duplicating FPHSA checks") since it broke .mo files generation
for several ports
d6 4
a9 3
--- Modules/FindGettext.cmake.orig	Wed Oct 31 16:32:05 2012
+++ Modules/FindGettext.cmake	Mon Nov  5 16:50:21 2012
@@@@ -210,4 +210,11 @@@@ function(GETTEXT_PROCESS_PO_FILES _lang)
d12 1
a12 1
 
a13 8
+if (GETTEXT_MSGMERGE_EXECUTABLE AND GETTEXT_MSGFMT_EXECUTABLE )
+   set(GETTEXT_FOUND TRUE)
+else ()
+   set(GETTEXT_FOUND FALSE)
+   if (GetText_REQUIRED)
+      message(FATAL_ERROR "GetText not found")
+   endif ()
+endif ()
@

