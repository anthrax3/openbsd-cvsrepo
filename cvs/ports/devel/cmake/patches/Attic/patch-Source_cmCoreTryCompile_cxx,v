head	1.2;
access;
symbols
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2012.08.31.12.28.31;	author dcoppa;	state dead;
branches;
next	1.1;

1.1
date	2012.05.07.13.58.18;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to cmake-2.8.9.

"There was no cmake fallout in the bulk on amd64" jasper@@
Also tested by Brad with a handful of CMake using ports
@
text
@$OpenBSD: patch-Source_cmCoreTryCompile_cxx,v 1.1 2012/05/07 13:58:18 dcoppa Exp $

try_compile: Cleanup temporary directories

Since commit 4fbdce2b (try_compile: Use random executable file name,
2012-02-13) a different <target>.dir is used for each try-compile.
Cleanup the directories as well as their content to avoid accumulating
leftover temporary directories.
(upstream git commit 953257ca611526c9a161a22e5148802be1c67649)

--- Source/cmCoreTryCompile.cxx.orig	Mon May  7 13:34:33 2012
+++ Source/cmCoreTryCompile.cxx	Mon May  7 13:35:05 2012
@@@@ -404,6 +404,7 @@@@ void cmCoreTryCompile::CleanupFiles(const char* binDir
         if(cmSystemTools::FileIsDirectory(fullPath.c_str()))
           {
           this->CleanupFiles(fullPath.c_str());
+          cmSystemTools::RemoveADirectory(fullPath.c_str());
           }
         else
           {
@


1.1
log
@
try_compile: Cleanup temporary directories
Since commit 4fbdce2b (try_compile: Use random executable file name,
2012-02-13) a different <target>.dir is used for each try-compile.
Cleanup the directories as well as their content to avoid accumulating
leftover temporary directories.
(upstream git commit 953257ca611526c9a161a22e5148802be1c67649)

Remove troublesome "Qt4Deploy" and "CTest.UpdateCVS" tests
(from gentoo's package/dev-util/cmake/files/)

Sync FindPkgConfig.cmake patch with upstream
@
text
@d1 1
a1 1
$OpenBSD$
@

