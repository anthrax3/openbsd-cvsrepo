head	1.15;
access;
symbols
	OPENBSD_5_8:1.12.0.4
	OPENBSD_5_8_BASE:1.12
	OPENBSD_5_7:1.11.0.2
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.7.0.4
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.15
date	2015.12.18.17.23.39;	author dcoppa;	state dead;
branches;
next	1.14;
commitid	Q5F32EP6TMqLMET7;

1.14
date	2015.12.08.17.18.59;	author dcoppa;	state Exp;
branches;
next	1.13;
commitid	AX6ONjs8OJ4jyAD6;

1.13
date	2015.09.03.07.09.25;	author dcoppa;	state Exp;
branches;
next	1.12;
commitid	KGLL6yBcZn2xZciC;

1.12
date	2015.03.26.07.10.02;	author dcoppa;	state Exp;
branches;
next	1.11;
commitid	RC163bs6emik8Gf9;

1.11
date	2015.01.23.18.01.09;	author dcoppa;	state Exp;
branches;
next	1.10;
commitid	AasrIjjpfxr6UqVY;

1.10
date	2014.12.31.11.06.02;	author dcoppa;	state Exp;
branches;
next	1.9;
commitid	q283NDlM4qiVneVU;

1.9
date	2014.09.11.14.45.13;	author dcoppa;	state Exp;
branches;
next	1.8;
commitid	LDQT0jjzrJNXIIXR;

1.8
date	2014.09.11.10.24.38;	author dcoppa;	state Exp;
branches;
next	1.7;
commitid	m0ESeGbhnaGm45G1;

1.7
date	2013.10.14.12.58.04;	author dcoppa;	state Exp;
branches;
next	1.6;

1.6
date	2013.06.21.11.12.51;	author dcoppa;	state Exp;
branches;
next	1.5;

1.5
date	2013.06.06.12.47.06;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2012.11.15.08.43.25;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2012.11.11.17.13.32;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2012.08.31.12.28.31;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2012.05.07.13.58.18;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.15
log
@
Remove superfluous patch
@
text
@$OpenBSD: patch-Tests_CMakeLists_txt,v 1.14 2015/12/08 17:18:59 dcoppa Exp $

Disable CTestTestUpload test because it requires internet access

--- Tests/CMakeLists.txt.orig	Thu Nov 12 16:39:51 2015
+++ Tests/CMakeLists.txt	Mon Nov 23 16:21:00 2015
@@@@ -2434,17 +2434,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DDIR=dev -P ${CMake_SOU
     FAIL_REGULAR_EXPRESSION "SegFault")
 
   configure_file(
-    "${CMake_SOURCE_DIR}/Tests/CTestTestUpload/test.cmake.in"
-    "${CMake_BINARY_DIR}/Tests/CTestTestUpload/test.cmake"
-    @@ONLY ESCAPE_QUOTES)
-  add_test(CTestTestUpload ${CMAKE_CTEST_COMMAND}
-    -S "${CMake_BINARY_DIR}/Tests/CTestTestUpload/test.cmake" -V
-    --output-log "${CMake_BINARY_DIR}/Tests/CTestTestUpload/testOut.log"
-    )
-  set_tests_properties(CTestTestUpload PROPERTIES
-    PASS_REGULAR_EXPRESSION "Upload\\.xml")
-
-  configure_file(
     "${CMake_SOURCE_DIR}/Tests/CTestCoverageCollectGCOV/test.cmake.in"
     "${CMake_BINARY_DIR}/Tests/CTestCoverageCollectGCOV/test.cmake"
     @@ONLY ESCAPE_QUOTES)
@


1.14
log
@
Update to cmake-3.4.0

tested in a bulk build by naddy@@
kde4-related failures proactively fixed by zhuk@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.13 2015/09/03 07:09:25 dcoppa Exp $
@


1.13
log
@
Update to CMake-3.3.1

No fallout in a bulk build
OK ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.12 2015/03/26 07:10:02 dcoppa Exp $
d5 3
a7 3
--- Tests/CMakeLists.txt.orig	Thu Aug 13 16:57:00 2015
+++ Tests/CMakeLists.txt	Mon Aug 17 15:39:13 2015
@@@@ -2389,17 +2389,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DDIR=dev -P ${CMake_SOU
@


1.12
log
@
Update to CMake-3.2.1

Tested in a bulk build by landry@@
OK landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.11 2015/01/23 18:01:09 dcoppa Exp $
d5 3
a7 3
--- Tests/CMakeLists.txt.orig	Wed Mar 18 06:28:42 2015
+++ Tests/CMakeLists.txt	Wed Mar 18 06:29:28 2015
@@@@ -2258,17 +2258,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DDIR=dev -P ${CMake_SOU
@


1.11
log
@
Maintenance update to cmake-3.1.1
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.10 2014/12/31 11:06:02 dcoppa Exp $
d5 3
a7 3
--- Tests/CMakeLists.txt.orig	Wed Jan 21 08:10:26 2015
+++ Tests/CMakeLists.txt	Fri Jan 23 11:10:11 2015
@@@@ -2197,17 +2197,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DDIR=dev -P ${CMake_SOU
d22 2
a23 2
     "${CMake_SOURCE_DIR}/Tests/CTestTestEmptyBinaryDirectory/test.cmake.in"
     "${CMake_BINARY_DIR}/Tests/CTestTestEmptyBinaryDirectory/test.cmake"
@


1.10
log
@
Update to cmake-3.1.0

Bulk build by landry@@
KDE-related fixes by zhuk@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.9 2014/09/11 14:45:13 dcoppa Exp $
d5 3
a7 3
--- Tests/CMakeLists.txt.orig	Mon Dec 15 14:07:43 2014
+++ Tests/CMakeLists.txt	Thu Dec 18 05:37:12 2014
@@@@ -2196,17 +2196,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DDIR=dev -P ${CMake_SOU
@


1.9
log
@
cleanup comments; zap a couple of now meaningless comments related
to java 1.6
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.8 2014/09/11 10:24:38 dcoppa Exp $
d5 3
a7 3
--- Tests/CMakeLists.txt.orig	Wed Sep  3 08:12:10 2014
+++ Tests/CMakeLists.txt	Wed Sep  3 08:13:01 2014
@@@@ -2053,17 +2053,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DVERSION=master -P ${CM
@


1.8
log
@
Update to cmake-3.0.1

Tested in a bulk build by landry@@
OK landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.7 2013/10/14 12:58:04 dcoppa Exp $
d3 1
a3 1
Disable CTestTestUpload test because it requires Internet access.
@


1.7
log
@Update to cmake-2.8.12.
Tested in a bulk build by the usual suspects, Thanks!

ok espie@@, kili@@
ok zhuk@@ for kde4
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.6 2013/06/21 11:12:51 dcoppa Exp $
d5 3
a7 3
--- Tests/CMakeLists.txt.orig	Mon Oct  7 17:31:00 2013
+++ Tests/CMakeLists.txt	Wed Oct  9 09:38:48 2013
@@@@ -1882,17 +1882,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DVERSION=master -P ${CM
d22 2
a23 2
     "${CMake_SOURCE_DIR}/Tests/CTestTestConfigFileInBuildDir/test1.cmake.in"
     "${CMake_BINARY_DIR}/Tests/CTestTestConfigFileInBuildDir1/test1.cmake"
@


1.6
log
@Bugfix update to cmake-2.8.11.1
See: http://public.kitware.com/Bug/changelog_page.php?version_id=113

OK jasper@@, sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.5 2013/06/06 12:47:06 dcoppa Exp $
d5 3
a7 3
--- Tests/CMakeLists.txt.orig	Fri Jun  7 17:21:34 2013
+++ Tests/CMakeLists.txt	Fri Jun 21 11:38:23 2013
@@@@ -1778,17 +1778,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DVERSION=master -P ${CM
@


1.5
log
@Update to cmake-2.8.11.

Tested in a bulk build by landry@@
Tested with KDE4 by zhuk@@
OK zhuk@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.4 2012/11/15 08:43:25 dcoppa Exp $
d5 3
a7 3
--- Tests/CMakeLists.txt.orig	Wed May 15 19:38:13 2013
+++ Tests/CMakeLists.txt	Tue May 28 20:02:19 2013
@@@@ -1781,17 +1781,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DVERSION=master -P ${CM
@


1.4
log
@Update to cmake-2.8.10.1 (plus some fixes)

Thanks Vadim, landry@@

OK landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.3 2012/11/11 17:13:32 dcoppa Exp $
d5 3
a7 3
--- Tests/CMakeLists.txt.orig	Tue Nov 13 14:03:57 2012
+++ Tests/CMakeLists.txt	Tue Nov 13 14:04:56 2012
@@@@ -1707,17 +1707,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DVERSION=master -P ${CM
@


1.3
log
@Update to cmake-2.8.10.
Successfully gone through a bulk build.

Feedback landry@@, Vadim Zhukov, Amit Kulkarni
Bulk build and OK landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.2 2012/08/31 12:28:31 dcoppa Exp $
d3 1
a3 2
Remove troublesome "Qt4Deploy" and "CTest.UpdateCVS" tests
(from gentoo's package/dev-util/cmake/files/)
d5 4
a8 5
--- Tests/CMakeLists.txt.orig	Fri Nov  2 08:22:52 2012
+++ Tests/CMakeLists.txt	Fri Nov  2 08:24:10 2012
@@@@ -271,23 +271,6 @@@@ if(BUILD_TESTING)
       )
     list(APPEND TEST_BUILD_DIRS "${CMake_BINARY_DIR}/Tests/BundleUtilities")
d10 10
a19 16
-    # run test for DeployQt4 on supported platforms/compilers (which depends on BundleUtilities)
-    # this test also depends on the existence of the standard qtiff plugin
-    if(QT4_WORKS AND QT_QTSQL_FOUND)
-      add_test(Qt4Deploy ${CMAKE_CTEST_COMMAND}
-        --build-and-test
-        "${CMake_SOURCE_DIR}/Tests/Qt4Deploy"
-        "${CMake_BINARY_DIR}/Tests/Qt4Deploy"
-        --build-generator ${CMAKE_TEST_GENERATOR}
-        --build-makeprogram ${CMAKE_TEST_MAKEPROGRAM}
-        --build-project Qt4Deploy
-        --build-options
-        -DCMAKE_BUILD_TYPE:STRING=${CMAKE_BUILD_TYPE}
-        -DQT_QMAKE_EXECUTABLE:FILEPATH=${QT_QMAKE_EXECUTABLE}
-        )
-      list(APPEND TEST_BUILD_DIRS "${CMake_BINARY_DIR}/Tests/Qt4Deploy")
-    endif()
d21 4
a24 34
   endif()
   endif()
 
@@@@ -1585,30 +1568,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DVERSION=master -P ${CM
         -P "${CMake_BINARY_DIR}/Tests/CTestUpdateSVN.cmake"
         )
       list(APPEND TEST_BUILD_DIRS "${CMake_BINARY_DIR}/Tests/${CTestUpdateSVN_DIR}")
-    endif()
-
-    # Test CTest Update with CVS
-    if(EXISTS ${CMAKE_ROOT}/Modules/FindCVS.cmake)
-      find_package(CVS QUIET)
-    else()
-      find_program(CVS_EXECUTABLE NAMES cvs)
-      set(CVS_FOUND ${CVS_EXECUTABLE})
-    endif()
-    set(CTEST_TEST_UPDATE_CVS ${CVS_FOUND})
-    if(CTEST_TEST_UPDATE_CVS AND NOT UNIX)
-      if("${CVS_EXECUTABLE}" MATCHES "cygwin")
-        message(STATUS "No CTest.UpdateCVS test with cygwin cvs.exe outside cygwin!")
-        set(CTEST_TEST_UPDATE_CVS 0)
-      endif()
-    endif()
-    if(CTEST_TEST_UPDATE_CVS)
-      set(CTestUpdateCVS_DIR "CTest UpdateCVS")
-      configure_file("${CMake_SOURCE_DIR}/Tests/CTestUpdateCVS.cmake.in"
-        "${CMake_BINARY_DIR}/Tests/CTestUpdateCVS.cmake" @@ONLY)
-      add_test(CTest.UpdateCVS ${CMAKE_CMAKE_COMMAND}
-        -P "${CMake_BINARY_DIR}/Tests/CTestUpdateCVS.cmake"
-        )
-      list(APPEND TEST_BUILD_DIRS "${CMake_BINARY_DIR}/Tests/${CTestUpdateCVS_DIR}")
     endif()
 
     # Test CTest Update with BZR
@


1.2
log
@Update to cmake-2.8.9.

"There was no cmake fallout in the bulk on amd64" jasper@@
Also tested by Brad with a handful of CMake using ports
@
text
@d1 1
a1 1
$OpenBSD: patch-Tests_CMakeLists_txt,v 1.1 2012/05/07 13:58:18 dcoppa Exp $
d6 3
a8 3
--- Tests/CMakeLists.txt.orig	Thu Aug  9 20:15:19 2012
+++ Tests/CMakeLists.txt	Thu Aug 23 11:25:48 2012
@@@@ -273,23 +273,6 @@@@ IF(BUILD_TESTING)
d10 1
a10 1
     LIST(APPEND TEST_BUILD_DIRS "${CMake_BINARY_DIR}/Tests/BundleUtilities")
d15 1
a15 1
-      ADD_TEST(Qt4Deploy ${CMAKE_CTEST_COMMAND}
d26 1
a26 1
-      LIST(APPEND TEST_BUILD_DIRS "${CMake_BINARY_DIR}/Tests/Qt4Deploy")
d32 2
a33 1
@@@@ -1581,30 +1564,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DVERSION=master -P ${CM
d35 2
a36 2
       LIST(APPEND TEST_BUILD_DIRS "${CMake_BINARY_DIR}/Tests/${CTestUpdateSVN_DIR}")
     ENDIF(Subversion_FOUND)
d39 16
a54 16
-    IF(EXISTS ${CMAKE_ROOT}/Modules/FindCVS.cmake)
-      FIND_PACKAGE(CVS QUIET)
-    ELSE(EXISTS ${CMAKE_ROOT}/Modules/FindCVS.cmake)
-      FIND_PROGRAM(CVS_EXECUTABLE NAMES cvs)
-      SET(CVS_FOUND ${CVS_EXECUTABLE})
-    ENDIF(EXISTS ${CMAKE_ROOT}/Modules/FindCVS.cmake)
-    SET(CTEST_TEST_UPDATE_CVS ${CVS_FOUND})
-    IF(CTEST_TEST_UPDATE_CVS AND NOT UNIX)
-      IF("${CVS_EXECUTABLE}" MATCHES "cygwin")
-        MESSAGE(STATUS "No CTest.UpdateCVS test with cygwin cvs.exe outside cygwin!")
-        SET(CTEST_TEST_UPDATE_CVS 0)
-      ENDIF("${CVS_EXECUTABLE}" MATCHES "cygwin")
-    ENDIF(CTEST_TEST_UPDATE_CVS AND NOT UNIX)
-    IF(CTEST_TEST_UPDATE_CVS)
-      SET(CTestUpdateCVS_DIR "CTest UpdateCVS")
-      CONFIGURE_FILE("${CMake_SOURCE_DIR}/Tests/CTestUpdateCVS.cmake.in"
d56 1
a56 1
-      ADD_TEST(CTest.UpdateCVS ${CMAKE_CMAKE_COMMAND}
d59 2
a60 2
-      LIST(APPEND TEST_BUILD_DIRS "${CMake_BINARY_DIR}/Tests/${CTestUpdateCVS_DIR}")
-    ENDIF(CTEST_TEST_UPDATE_CVS)
a62 1
     FIND_PROGRAM(BZR_EXECUTABLE NAMES bzr)
@


1.1
log
@
try_compile: Cleanup temporary directories
Since commit 4fbdce2b (try_compile: Use random executable file name,
2012-02-13) a different <target>.dir is used for each try-compile.
Cleanup the directories as well as their content to avoid accumulating
leftover temporary directories.
(upstream git commit 953257ca611526c9a161a22e5148802be1c67649)

Remove troublesome "Qt4Deploy" and "CTest.UpdateCVS" tests
(from gentoo's package/dev-util/cmake/files/)

Sync FindPkgConfig.cmake patch with upstream
@
text
@d1 1
a1 1
$OpenBSD$
d6 2
a7 2
--- Tests/CMakeLists.txt.orig	Wed Apr 18 20:10:54 2012
+++ Tests/CMakeLists.txt	Mon May  7 13:45:40 2012
d32 1
a32 1
@@@@ -1547,30 +1530,6 @@@@ ${CMake_BINARY_DIR}/bin/cmake -DVERSION=master -P ${CM
@

