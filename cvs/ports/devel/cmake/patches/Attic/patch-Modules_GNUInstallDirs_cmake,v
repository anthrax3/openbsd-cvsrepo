head	1.7;
access;
symbols
	OPENBSD_5_6:1.1.0.10
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.8
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.6
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.4
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.7
date	2014.12.31.11.06.02;	author dcoppa;	state dead;
branches;
next	1.6;
commitid	q283NDlM4qiVneVU;

1.6
date	2014.09.30.07.14.49;	author dcoppa;	state Exp;
branches;
next	1.5;
commitid	nNT5DgMu4sI5bEWb;

1.5
date	2014.09.29.08.45.35;	author dcoppa;	state Exp;
branches;
next	1.4;
commitid	kcvCJaFLgS6fbd4g;

1.4
date	2014.09.29.08.25.39;	author dcoppa;	state Exp;
branches;
next	1.3;
commitid	Rs6vJ0tO5v5EhITe;

1.3
date	2014.09.11.14.45.13;	author dcoppa;	state Exp;
branches;
next	1.2;
commitid	LDQT0jjzrJNXIIXR;

1.2
date	2014.09.11.10.24.38;	author dcoppa;	state Exp;
branches;
next	1.1;
commitid	m0ESeGbhnaGm45G1;

1.1
date	2012.06.27.19.28.39;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.7
log
@
Update to cmake-3.1.0

Bulk build by landry@@
KDE-related fixes by zhuk@@
@
text
@$OpenBSD: patch-Modules_GNUInstallDirs_cmake,v 1.6 2014/09/30 07:14:49 dcoppa Exp $

commit d4fdd9c189f85d659f4294f8ec6da3e7e51215ec
Author: Rolf Eike Beer <eike@@sf-mail.de>
Date:   Tue May 20 18:14:10 2014 +0200

GNUInstallDirs: use the proper default for info and man paths on OpenBSD

commit 33f031295c2bb8d652e4d5f8749e50ef24d7adb6
Author: David Coppa <dcoppa@@gmail.com>
Date:   Mon Sep 29 12:19:12 2014 +0200

Fix typo in Modules/GNUInstallDirs.cmake (#15176)

Commit d4fdd9c189f85d659f4294f8ec6da3e7e51215ec ("GNUInstallDirs: use the
proper default for info and man paths on OpenBSD") introduced a typo.

--- Modules/GNUInstallDirs.cmake.orig	Thu Sep 11 15:24:00 2014
+++ Modules/GNUInstallDirs.cmake	Mon Sep 29 10:37:17 2014
@@@@ -192,19 +192,31 @@@@ if(NOT CMAKE_INSTALL_DATADIR)
   set(CMAKE_INSTALL_DATADIR "${CMAKE_INSTALL_DATAROOTDIR}")
 endif()
 
-if(NOT CMAKE_INSTALL_INFODIR)
-  set(CMAKE_INSTALL_INFODIR "" CACHE PATH "info documentation (DATAROOTDIR/info)")
-  set(CMAKE_INSTALL_INFODIR "${CMAKE_INSTALL_DATAROOTDIR}/info")
+if(CMAKE_SYSTEM_NAME STREQUAL "OpenBSD")
+  if(NOT CMAKE_INSTALL_INFODIR)
+    set(CMAKE_INSTALL_INFODIR "" CACHE PATH "info documentation (info)")
+    set(CMAKE_INSTALL_INFODIR "info")
+  endif()
+
+  if(NOT CMAKE_INSTALL_MANDIR)
+    set(CMAKE_INSTALL_MANDIR "" CACHE PATH "man documentation (man)")
+    set(CMAKE_INSTALL_MANDIR "man")
+  endif()
+else()
+  if(NOT CMAKE_INSTALL_INFODIR)
+    set(CMAKE_INSTALL_INFODIR "" CACHE PATH "info documentation (DATAROOTDIR/info)")
+    set(CMAKE_INSTALL_INFODIR "${CMAKE_INSTALL_DATAROOTDIR}/info")
+  endif()
+
+  if(NOT CMAKE_INSTALL_MANDIR)
+    set(CMAKE_INSTALL_MANDIR "" CACHE PATH "man documentation (DATAROOTDIR/man)")
+    set(CMAKE_INSTALL_MANDIR "${CMAKE_INSTALL_DATAROOTDIR}/man")
+  endif()
 endif()
 
 if(NOT CMAKE_INSTALL_LOCALEDIR)
   set(CMAKE_INSTALL_LOCALEDIR "" CACHE PATH "locale-dependent data (DATAROOTDIR/locale)")
   set(CMAKE_INSTALL_LOCALEDIR "${CMAKE_INSTALL_DATAROOTDIR}/locale")
-endif()
-
-if(NOT CMAKE_INSTALL_MANDIR)
-  set(CMAKE_INSTALL_MANDIR "" CACHE PATH "man documentation (DATAROOTDIR/man)")
-  set(CMAKE_INSTALL_MANDIR "${CMAKE_INSTALL_DATAROOTDIR}/man")
 endif()
 
 if(NOT CMAKE_INSTALL_DOCDIR)
@


1.6
log
@
committed upstream
@
text
@d1 1
a1 1
$OpenBSD: patch-Modules_GNUInstallDirs_cmake,v 1.5 2014/09/29 08:45:35 dcoppa Exp $
@


1.5
log
@
Shrug. Fix typo
@
text
@d1 1
a1 1
$OpenBSD: patch-Modules_GNUInstallDirs_cmake,v 1.4 2014/09/29 08:25:39 dcoppa Exp $
d8 9
@


1.4
log
@
Merge OpenBSD-related fixes from upstream git
kudos to Rolf Eike Beer
@
text
@d1 1
a1 1
$OpenBSD: patch-Modules_GNUInstallDirs_cmake,v 1.3 2014/09/11 14:45:13 dcoppa Exp $
d10 1
a10 1
+++ Modules/GNUInstallDirs.cmake	Mon Sep 29 08:29:47 2014
d24 1
a24 1
+  if(NOT CMAKE_INSTALL_MANDDIR)
d34 1
a34 1
+  if(NOT CMAKE_INSTALL_MANDDIR)
@


1.3
log
@
cleanup comments; zap a couple of now meaningless comments related
to java 1.6
@
text
@d1 1
a1 1
$OpenBSD: patch-Modules_GNUInstallDirs_cmake,v 1.2 2014/09/11 10:24:38 dcoppa Exp $
d3 3
a5 1
Fix INFODIR/MANDIR default paths on OpenBSD
d7 6
a12 4
--- Modules/GNUInstallDirs.cmake.orig	Thu Jul 31 17:03:56 2014
+++ Modules/GNUInstallDirs.cmake	Wed Sep  3 08:10:09 2014
@@@@ -178,6 +178,14 @@@@ if(NOT DEFINED CMAKE_INSTALL_OLDINCLUDEDIR)
   set(CMAKE_INSTALL_OLDINCLUDEDIR "/usr/include" CACHE PATH "C header files for non-gcc (/usr/include)")
d15 8
a22 3
+if(NOT DEFINED CMAKE_INSTALL_INFODIR)
+  set(CMAKE_INSTALL_INFODIR "info" CACHE PATH "info documentation (info)")
+endif()
d24 9
a32 3
+if(NOT DEFINED CMAKE_INSTALL_MANDIR)
+  set(CMAKE_INSTALL_MANDIR "man" CACHE PATH "man documentation (man)")
+endif()
d34 4
a37 5
 if(NOT DEFINED CMAKE_INSTALL_DATAROOTDIR)
   set(CMAKE_INSTALL_DATAROOTDIR "share" CACHE PATH "read-only architecture-independent data root (share)")
 endif()
@@@@ -192,19 +200,9 @@@@ if(NOT CMAKE_INSTALL_DATADIR)
   set(CMAKE_INSTALL_DATADIR "${CMAKE_INSTALL_DATAROOTDIR}")
a39 5
-if(NOT CMAKE_INSTALL_INFODIR)
-  set(CMAKE_INSTALL_INFODIR "" CACHE PATH "info documentation (DATAROOTDIR/info)")
-  set(CMAKE_INSTALL_INFODIR "${CMAKE_INSTALL_DATAROOTDIR}/info")
-endif()
-
@


1.2
log
@
Update to cmake-3.0.1

Tested in a bulk build by landry@@
OK landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Modules_GNUInstallDirs_cmake,v 1.1 2012/06/27 19:28:39 dcoppa Exp $
d3 1
a3 1
Fix INFODIR/MANDIR default path on OpenBSD
@


1.1
log
@Fix mandir path when using GNUInstallDirs.cmake: on OpenBSD it's
$prefix/man, not $prefix/share/man. While here, fix infodir too.

Pointed out by sthen@@
Ok landry@@, sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- Modules/GNUInstallDirs.cmake.orig	Wed Apr 18 20:10:54 2012
+++ Modules/GNUInstallDirs.cmake	Tue Jun 26 19:58:52 2012
@@@@ -107,6 +107,14 @@@@ if(NOT DEFINED CMAKE_INSTALL_OLDINCLUDEDIR)
d22 1
a22 1
@@@@ -121,19 +129,9 @@@@ if(NOT CMAKE_INSTALL_DATADIR)
@

