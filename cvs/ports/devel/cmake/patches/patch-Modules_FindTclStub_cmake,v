head	1.6;
access;
symbols
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.8
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.4
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.6
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.4.0.6
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.4
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.1.0.10
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.8
	OPENBSD_5_0:1.1.0.6
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.4
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2016.11.28.09.15.13;	author dcoppa;	state Exp;
branches;
next	1.5;
commitid	jOocuc05F30hpQ6W;

1.5
date	2014.09.11.10.24.38;	author dcoppa;	state Exp;
branches;
next	1.4;
commitid	m0ESeGbhnaGm45G1;

1.4
date	2013.06.06.12.47.06;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2012.11.11.17.13.32;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2012.08.31.12.28.31;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2010.05.28.20.21.48;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.6
log
@
Update to CMake-3.7.0

Thanks to naddy@@ who ran a bulk build with it
@
text
@$OpenBSD: patch-Modules_FindTclStub_cmake,v 1.5 2014/09/11 10:24:38 dcoppa Exp $
--- Modules/FindTclStub.cmake.orig	Fri Nov 11 15:37:13 2016
+++ Modules/FindTclStub.cmake	Fri Nov 25 22:31:45 2016
@@@@ -48,13 +48,21 @@@@ include(${CMAKE_CURRENT_LIST_DIR}/FindTCL.cmake)
 
 get_filename_component(TCL_TCLSH_PATH "${TCL_TCLSH}" PATH)
 get_filename_component(TCL_TCLSH_PATH_PARENT "${TCL_TCLSH_PATH}" PATH)
-string(REGEX REPLACE
-  "^.*tclsh([0-9]\\.*[0-9]).*$" "\\1" TCL_TCLSH_VERSION "${TCL_TCLSH}")
+if(MODTCL_VERSION)
+  set(TCL_TCLSH_VERSION "${MODTCL_VERSION}")
+else(MODTCL_VERSION)
+  string(REGEX REPLACE
+    "^.*tclsh([0-9]\\.*[0-9]).*$" "\\1" TCL_TCLSH_VERSION "${TCL_TCLSH}")
+endif(MODTCL_VERSION)
 
 get_filename_component(TK_WISH_PATH "${TK_WISH}" PATH)
 get_filename_component(TK_WISH_PATH_PARENT "${TK_WISH_PATH}" PATH)
-string(REGEX REPLACE
-  "^.*wish([0-9]\\.*[0-9]).*$" "\\1" TK_WISH_VERSION "${TK_WISH}")
+if(MODTK_VERSION)
+  set(TK_WISH_VERSION "${MODTK_VERSION}")
+else(MODTK_VERSION)
+  string(REGEX REPLACE
+    "^.*wish([0-9]\\.*[0-9]).*$" "\\1" TK_WISH_VERSION "${TK_WISH}")
+endif(MODTK_VERSION)
 
 get_filename_component(TCL_INCLUDE_PATH_PARENT "${TCL_INCLUDE_PATH}" PATH)
 get_filename_component(TK_INCLUDE_PATH_PARENT "${TK_INCLUDE_PATH}" PATH)
@@@@ -69,14 +77,20 @@@@ get_filename_component(TK_LIBRARY_PATH_PARENT "${TK_LI
 string(REGEX REPLACE
   "^.*tk([0-9]\\.*[0-9]).*$" "\\1" TK_LIBRARY_VERSION "${TK_LIBRARY}")
 
-set(TCLTK_POSSIBLE_LIB_PATHS
-  "${TCL_INCLUDE_PATH_PARENT}/lib"
-  "${TK_INCLUDE_PATH_PARENT}/lib"
-  "${TCL_LIBRARY_PATH}"
-  "${TK_LIBRARY_PATH}"
-  "${TCL_TCLSH_PATH_PARENT}/lib"
-  "${TK_WISH_PATH_PARENT}/lib"
-)
+if(NOT "${TCLTK_OPENBSD_LIB_PATHS}" STREQUAL "")
+  set(TCLTK_POSSIBLE_LIB_PATHS
+    "${TCLTK_OPENBSD_LIB_PATHS}"
+    )
+else()
+  set(TCLTK_POSSIBLE_LIB_PATHS
+    "${TCL_INCLUDE_PATH_PARENT}/lib"
+    "${TK_INCLUDE_PATH_PARENT}/lib"
+    "${TCL_LIBRARY_PATH}"
+    "${TK_LIBRARY_PATH}"
+    "${TCL_TCLSH_PATH_PARENT}/lib"
+    "${TK_WISH_PATH_PARENT}/lib"
+  )
+endif()
 
 if(WIN32)
   get_filename_component(
@


1.5
log
@
Update to cmake-3.0.1

Tested in a bulk build by landry@@
OK landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_FindTclStub_cmake,v 1.4 2013/06/06 12:47:06 dcoppa Exp $
--- Modules/FindTclStub.cmake.orig	Thu Jul 31 17:03:56 2014
+++ Modules/FindTclStub.cmake	Wed Sep  3 08:10:09 2014
@@@@ -58,13 +58,21 @@@@ include(${CMAKE_CURRENT_LIST_DIR}/FindTCL.cmake)
d30 1
a30 1
@@@@ -79,14 +87,20 @@@@ get_filename_component(TK_LIBRARY_PATH_PARENT "${TK_LI
@


1.4
log
@Update to cmake-2.8.11.

Tested in a bulk build by landry@@
Tested with KDE4 by zhuk@@
OK zhuk@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_FindTclStub_cmake,v 1.3 2012/11/11 17:13:32 dcoppa Exp $
--- Modules/FindTclStub.cmake.orig	Wed May 15 19:38:12 2013
+++ Modules/FindTclStub.cmake	Tue May 28 20:02:18 2013
@@@@ -38,13 +38,21 @@@@ include(${CMAKE_CURRENT_LIST_DIR}/FindTCL.cmake)
d30 1
a30 1
@@@@ -59,14 +67,20 @@@@ get_filename_component(TK_LIBRARY_PATH_PARENT "${TK_LI
@


1.3
log
@Update to cmake-2.8.10.
Successfully gone through a bulk build.

Feedback landry@@, Vadim Zhukov, Amit Kulkarni
Bulk build and OK landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_FindTclStub_cmake,v 1.2 2012/08/31 12:28:31 dcoppa Exp $
--- Modules/FindTclStub.cmake.orig	Fri Nov  2 14:05:49 2012
+++ Modules/FindTclStub.cmake	Fri Nov  2 14:10:45 2012
@@@@ -38,13 +38,21 @@@@ include(FindTCL)
@


1.2
log
@Update to cmake-2.8.9.

"There was no cmake fallout in the bulk on amd64" jasper@@
Also tested by Brad with a handful of CMake using ports
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_FindTclStub_cmake,v 1.1 2010/05/28 20:21:48 dcoppa Exp $
--- Modules/FindTclStub.cmake.orig	Thu Aug 23 12:09:46 2012
+++ Modules/FindTclStub.cmake	Thu Aug 23 12:09:59 2012
@@@@ -38,13 +38,21 @@@@ INCLUDE(FindTCL)
d6 3
a8 3
 GET_FILENAME_COMPONENT(TCL_TCLSH_PATH "${TCL_TCLSH}" PATH)
 GET_FILENAME_COMPONENT(TCL_TCLSH_PATH_PARENT "${TCL_TCLSH_PATH}" PATH)
-STRING(REGEX REPLACE 
d10 4
a13 4
+IF(MODTCL_VERSION)
+  SET(TCL_TCLSH_VERSION "${MODTCL_VERSION}")
+ELSE(MODTCL_VERSION)
+  STRING(REGEX REPLACE 
d15 1
a15 1
+ENDIF(MODTCL_VERSION)
d17 3
a19 3
 GET_FILENAME_COMPONENT(TK_WISH_PATH "${TK_WISH}" PATH)
 GET_FILENAME_COMPONENT(TK_WISH_PATH_PARENT "${TK_WISH_PATH}" PATH)
-STRING(REGEX REPLACE 
d21 4
a24 4
+IF(MODTK_VERSION)
+  SET(TK_WISH_VERSION "${MODTK_VERSION}")
+ELSE(MODTK_VERSION)
+  STRING(REGEX REPLACE 
d26 1
a26 1
+ENDIF(MODTK_VERSION)
d28 4
a31 4
 GET_FILENAME_COMPONENT(TCL_INCLUDE_PATH_PARENT "${TCL_INCLUDE_PATH}" PATH)
 GET_FILENAME_COMPONENT(TK_INCLUDE_PATH_PARENT "${TK_INCLUDE_PATH}" PATH)
@@@@ -59,14 +67,20 @@@@ GET_FILENAME_COMPONENT(TK_LIBRARY_PATH_PARENT "${TK_LI
 STRING(REGEX REPLACE 
d34 1
a34 1
-SET(TCLTK_POSSIBLE_LIB_PATHS
d42 2
a43 2
+IF(TCLTK_OPENBSD_LIB_PATHS)
+  SET(TCLTK_POSSIBLE_LIB_PATHS
d46 2
a47 2
+ELSE(TCLTK_OPENBSD_LIB_PATHS)
+  SET(TCLTK_POSSIBLE_LIB_PATHS
d54 2
a55 2
+    )
+ENDIF(TCLTK_OPENBSD_LIB_PATHS)
d57 2
a58 2
 IF(WIN32)
   GET_FILENAME_COMPONENT(
@


1.1
log
@Update to cmake 2.8.1 (I also take maintainership).

"This is good, commit." espie@@
@
text
@d1 3
a3 3
$OpenBSD$
--- Modules/FindTclStub.cmake.orig	Tue May 11 14:30:20 2010
+++ Modules/FindTclStub.cmake	Tue May 11 14:38:47 2010
d30 1
a30 1
@@@@ -59,16 +67,22 @@@@ GET_FILENAME_COMPONENT(TK_LIBRARY_PATH_PARENT "${TK_LI
a40 2
-  /usr/lib 
-  /usr/local/lib
a53 2
+    /usr/lib 
+    /usr/local/lib
@

