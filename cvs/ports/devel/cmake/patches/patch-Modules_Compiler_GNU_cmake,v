head	1.11;
access;
symbols
	OPENBSD_6_1:1.11.0.2
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.9.0.4
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.8.0.6
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.2
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.6.0.4
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.2
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.5.0.4
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.2
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2;
locks; strict;
comment	@# @;


1.11
date	2016.11.28.09.15.13;	author dcoppa;	state Exp;
branches;
next	1.10;
commitid	jOocuc05F30hpQ6W;

1.10
date	2016.08.08.07.44.48;	author dcoppa;	state Exp;
branches;
next	1.9;
commitid	r4e0Be8ugQYraWeW;

1.9
date	2015.12.08.17.18.59;	author dcoppa;	state Exp;
branches;
next	1.8;
commitid	AX6ONjs8OJ4jyAD6;

1.8
date	2014.11.04.13.50.24;	author dcoppa;	state Exp;
branches;
next	1.7;
commitid	YszMQUykV3aR0MRf;

1.7
date	2014.09.11.10.24.38;	author dcoppa;	state Exp;
branches;
next	1.6;
commitid	m0ESeGbhnaGm45G1;

1.6
date	2013.10.14.12.58.03;	author dcoppa;	state Exp;
branches;
next	1.5;

1.5
date	2012.11.11.17.13.31;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2012.08.31.12.28.31;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2012.05.07.07.06.20;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2010.11.15.11.39.08;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.26.18.31.18;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.11
log
@
Update to CMake-3.7.0

Thanks to naddy@@ who ran a bulk build with it
@
text
@$OpenBSD: patch-Modules_Compiler_GNU_cmake,v 1.10 2016/08/08 07:44:48 dcoppa Exp $
--- Modules/Compiler/GNU.cmake.orig	Sat Nov 26 12:31:32 2016
+++ Modules/Compiler/GNU.cmake	Sat Nov 26 12:32:18 2016
@@@@ -37,9 +37,9 @@@@ macro(__compiler_gnu lang)
   # Initial configuration flags.
   string(APPEND CMAKE_${lang}_FLAGS_INIT " ")
   string(APPEND CMAKE_${lang}_FLAGS_DEBUG_INIT " -g")
-  string(APPEND CMAKE_${lang}_FLAGS_MINSIZEREL_INIT " -Os -DNDEBUG")
-  string(APPEND CMAKE_${lang}_FLAGS_RELEASE_INIT " -O3 -DNDEBUG")
-  string(APPEND CMAKE_${lang}_FLAGS_RELWITHDEBINFO_INIT " -O2 -g -DNDEBUG")
+  string(APPEND CMAKE_${lang}_FLAGS_MINSIZEREL_INIT " -DNDEBUG")
+  string(APPEND CMAKE_${lang}_FLAGS_RELEASE_INIT " -DNDEBUG")
+  string(APPEND CMAKE_${lang}_FLAGS_RELWITHDEBINFO_INIT " -g -DNDEBUG")
   set(CMAKE_${lang}_CREATE_PREPROCESSED_SOURCE "<CMAKE_${lang}_COMPILER> <DEFINES> <INCLUDES> <FLAGS> -E <SOURCE> > <PREPROCESSED_SOURCE>")
   set(CMAKE_${lang}_CREATE_ASSEMBLY_SOURCE "<CMAKE_${lang}_COMPILER> <DEFINES> <INCLUDES> <FLAGS> -S <SOURCE> -o <ASSEMBLY_SOURCE>")
   if(NOT APPLE OR NOT CMAKE_${lang}_COMPILER_VERSION VERSION_LESS 4) # work around #4462
@


1.10
log
@
Update to CMake-3.6.1.

Tested in a bulk build by naddy@@: the one and only fallout has been
fixed.
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_Compiler_GNU_cmake,v 1.9 2015/12/08 17:18:59 dcoppa Exp $
--- Modules/Compiler/GNU.cmake.orig	Fri Jul 22 15:50:22 2016
+++ Modules/Compiler/GNU.cmake	Thu Aug  4 11:06:08 2016
@@@@ -47,9 +47,9 @@@@ macro(__compiler_gnu lang)
d6 8
a13 8
   set(CMAKE_${lang}_FLAGS_INIT "")
   set(CMAKE_${lang}_FLAGS_DEBUG_INIT "-g")
-  set(CMAKE_${lang}_FLAGS_MINSIZEREL_INIT "-Os -DNDEBUG")
-  set(CMAKE_${lang}_FLAGS_RELEASE_INIT "-O3 -DNDEBUG")
-  set(CMAKE_${lang}_FLAGS_RELWITHDEBINFO_INIT "-O2 -g -DNDEBUG")
+  set(CMAKE_${lang}_FLAGS_MINSIZEREL_INIT "-DNDEBUG")
+  set(CMAKE_${lang}_FLAGS_RELEASE_INIT "-DNDEBUG")
+  set(CMAKE_${lang}_FLAGS_RELWITHDEBINFO_INIT "-g -DNDEBUG")
@


1.9
log
@
Update to cmake-3.4.0

tested in a bulk build by naddy@@
kde4-related failures proactively fixed by zhuk@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Modules_Compiler_GNU_cmake,v 1.8 2014/11/04 13:50:24 dcoppa Exp $
--- Modules/Compiler/GNU.cmake.orig	Thu Sep 11 15:24:00 2014
+++ Modules/Compiler/GNU.cmake	Tue Nov  4 14:41:29 2014
d16 1
a16 1
   if(NOT APPLE)
@


1.8
log
@
Remove '-O2' as default optimization
@
text
@d1 1
a1 1
$OpenBSD: patch-Modules_Compiler_GNU_cmake,v 1.7 2014/09/11 10:24:38 dcoppa Exp $
d14 2
a15 2
   set(CMAKE_${lang}_CREATE_PREPROCESSED_SOURCE "<CMAKE_${lang}_COMPILER> <DEFINES> <FLAGS> -E <SOURCE> > <PREPROCESSED_SOURCE>")
   set(CMAKE_${lang}_CREATE_ASSEMBLY_SOURCE "<CMAKE_${lang}_COMPILER> <DEFINES> <FLAGS> -S <SOURCE> -o <ASSEMBLY_SOURCE>")
@


1.7
log
@
Update to cmake-3.0.1

Tested in a bulk build by landry@@
OK landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_Compiler_GNU_cmake,v 1.6 2013/10/14 12:58:03 dcoppa Exp $
--- Modules/Compiler/GNU.cmake.orig	Thu Jul 31 17:03:56 2014
+++ Modules/Compiler/GNU.cmake	Wed Sep  3 08:10:09 2014
@@@@ -47,8 +47,8 @@@@ macro(__compiler_gnu lang)
d10 1
d13 1
a13 1
   set(CMAKE_${lang}_FLAGS_RELWITHDEBINFO_INIT "-O2 -g -DNDEBUG")
d16 1
@


1.6
log
@Update to cmake-2.8.12.
Tested in a bulk build by the usual suspects, Thanks!

ok espie@@, kili@@
ok zhuk@@ for kde4
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_Compiler_GNU_cmake,v 1.5 2012/11/11 17:13:31 dcoppa Exp $
--- Modules/Compiler/GNU.cmake.orig	Mon Oct  7 17:31:00 2013
+++ Modules/Compiler/GNU.cmake	Wed Oct  9 09:38:48 2013
@@@@ -46,8 +46,8 @@@@ macro(__compiler_gnu lang)
@


1.5
log
@Update to cmake-2.8.10.
Successfully gone through a bulk build.

Feedback landry@@, Vadim Zhukov, Amit Kulkarni
Bulk build and OK landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_Compiler_GNU_cmake,v 1.4 2012/08/31 12:28:31 dcoppa Exp $
--- Modules/Compiler/GNU.cmake.orig	Fri Nov  2 08:17:31 2012
+++ Modules/Compiler/GNU.cmake	Fri Nov  2 08:18:11 2012
@@@@ -43,8 +43,8 @@@@ macro(__compiler_gnu lang)
@


1.4
log
@Update to cmake-2.8.9.

"There was no cmake fallout in the bulk on amd64" jasper@@
Also tested by Brad with a handful of CMake using ports
@
text
@d1 3
a3 3
$OpenBSD: patch-Modules_Compiler_GNU_cmake,v 1.3 2012/05/07 07:06:20 dcoppa Exp $
--- Modules/Compiler/GNU.cmake.orig	Thu Aug  9 20:15:19 2012
+++ Modules/Compiler/GNU.cmake	Thu Aug 23 11:25:47 2012
d12 1
a12 1
   set(CMAKE_${lang}_FLAGS_RELWITHDEBINFO_INIT "-O2 -g")
@


1.3
log
@Update to cmake-2.8.8

OK sthen@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_Compiler_GNU_cmake,v 1.2 2010/11/15 11:39:08 dcoppa Exp $
--- Modules/Compiler/GNU.cmake.orig	Wed Apr 18 20:10:54 2012
+++ Modules/Compiler/GNU.cmake	Mon Apr 30 11:07:25 2012
@@@@ -39,8 +39,8 @@@@ macro(__compiler_gnu lang)
@


1.2
log
@Update to cmake-2.8.3

OK sthen@@, landry@@ (who also tested this in a bulk build)
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_Compiler_GNU_cmake,v 1.1 2010/10/26 18:31:18 dcoppa Exp $
--- Modules/Compiler/GNU.cmake.orig	Wed Nov  3 20:58:27 2010
+++ Modules/Compiler/GNU.cmake	Wed Nov 10 10:35:50 2010
@@@@ -27,8 +27,8 @@@@ macro(__compiler_gnu lang)
@


1.1
log
@Zap some unwanted optimization flags ("-O3", "-Os") that were brought
in by cmake when the CMAKE_BUILD_TYPE var is used.

Pointed out by and OK steven@@
@
text
@d1 4
a4 4
$OpenBSD$
--- Modules/Compiler/GNU.cmake.orig	Tue Oct 26 11:06:23 2010
+++ Modules/Compiler/GNU.cmake	Tue Oct 26 11:08:37 2010
@@@@ -27,9 +27,9 @@@@ macro(__compiler_gnu lang)
a9 1
-  set(CMAKE_${lang}_FLAGS_RELWITHDEBINFO_INIT "-O2 -g")
d12 1
a12 1
+  set(CMAKE_${lang}_FLAGS_RELWITHDEBINFO_INIT "-g")
a14 1
   if(NOT APPLE)
@

