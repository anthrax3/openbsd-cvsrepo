head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.4
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.4
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.4.0.4
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.3.0.10
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.8
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.6
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.4
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.2.0.4
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.0.4
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2016.11.28.09.15.13;	author dcoppa;	state Exp;
branches;
next	1.5;
commitid	jOocuc05F30hpQ6W;

1.5
date	2015.09.03.07.09.25;	author dcoppa;	state Exp;
branches;
next	1.4;
commitid	KGLL6yBcZn2xZciC;

1.4
date	2015.03.26.07.10.02;	author dcoppa;	state Exp;
branches;
next	1.3;
commitid	RC163bs6emik8Gf9;

1.3
date	2012.11.11.17.13.31;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2011.10.14.17.22.10;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.26.18.31.18;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.6
log
@
Update to CMake-3.7.0

Thanks to naddy@@ who ran a bulk build with it
@
text
@$OpenBSD: patch-Modules_Compiler_GNU-Fortran_cmake,v 1.5 2015/09/03 07:09:25 dcoppa Exp $
--- Modules/Compiler/GNU-Fortran.cmake.orig	Sat Nov 26 12:30:36 2016
+++ Modules/Compiler/GNU-Fortran.cmake	Sat Nov 26 12:31:01 2016
@@@@ -7,10 +7,6 @@@@ set(CMAKE_Fortran_PREPROCESS_SOURCE
 set(CMAKE_Fortran_FORMAT_FIXED_FLAG "-ffixed-form")
 set(CMAKE_Fortran_FORMAT_FREE_FLAG "-ffree-form")
 
-# No -DNDEBUG for Fortran.
-string(APPEND CMAKE_Fortran_FLAGS_MINSIZEREL_INIT " -Os")
-string(APPEND CMAKE_Fortran_FLAGS_RELEASE_INIT " -O3")
-
 # No -isystem for Fortran because it will not find .mod files.
 unset(CMAKE_INCLUDE_SYSTEM_FLAG_Fortran)
 
@


1.5
log
@
Update to CMake-3.3.1

No fallout in a bulk build
OK ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_Compiler_GNU-Fortran_cmake,v 1.4 2015/03/26 07:10:02 dcoppa Exp $
--- Modules/Compiler/GNU-Fortran.cmake.orig	Thu Aug 13 16:56:59 2015
+++ Modules/Compiler/GNU-Fortran.cmake	Mon Aug 17 15:39:13 2015
@@@@ -4,10 +4,6 @@@@ __compiler_gnu(Fortran)
d9 2
a10 2
-set(CMAKE_Fortran_FLAGS_MINSIZEREL_INIT "-Os")
-set(CMAKE_Fortran_FLAGS_RELEASE_INIT "-O3")
@


1.4
log
@
Update to CMake-3.2.1

Tested in a bulk build by landry@@
OK landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_Compiler_GNU-Fortran_cmake,v 1.3 2012/11/11 17:13:31 dcoppa Exp $
--- Modules/Compiler/GNU-Fortran.cmake.orig	Tue Mar 10 09:38:44 2015
+++ Modules/Compiler/GNU-Fortran.cmake	Wed Mar 18 06:15:27 2015
@@@@ -4,9 +4,5 @@@@ __compiler_gnu(Fortran)
d12 3
a14 2
 # Fortran-specific feature flags.
 set(CMAKE_Fortran_MODDIR_FLAG -J)
@


1.3
log
@Update to cmake-2.8.10.
Successfully gone through a bulk build.

Feedback landry@@, Vadim Zhukov, Amit Kulkarni
Bulk build and OK landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Modules_Compiler_GNU-Fortran_cmake,v 1.2 2011/10/14 17:22:10 dcoppa Exp $
--- Modules/Compiler/GNU-Fortran.cmake.orig	Fri Nov  2 08:16:46 2012
+++ Modules/Compiler/GNU-Fortran.cmake	Fri Nov  2 08:17:05 2012
@@@@ -4,10 +4,6 @@@@ __compiler_gnu(Fortran)
d12 2
a13 3
 # We require updates to CMake C++ code to support preprocessing rules
 # for Fortran.
 set(CMAKE_Fortran_CREATE_PREPROCESSED_SOURCE)
@


1.2
log
@Update to cmake-2.8.6

Fixed FindRuby.cmake module (from Vadim Zhukov)

Fixed FindJava.cmake and FindJNI.cmake modules when cmake is used
outside of our ports tree (problem reported and fix tested by
pirofti@@)

Still "100% tests passed, 0 tests failed out of 197".

No fallout in a bulk build.

OK jasper@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Modules_Compiler_GNU-Fortran_cmake,v 1.1 2010/10/26 18:31:18 dcoppa Exp $
--- Modules/Compiler/GNU-Fortran.cmake.orig	Tue Oct  4 18:09:24 2011
+++ Modules/Compiler/GNU-Fortran.cmake	Fri Oct  7 09:15:14 2011
d9 2
a10 2
-SET(CMAKE_Fortran_FLAGS_MINSIZEREL_INIT "-Os")
-SET(CMAKE_Fortran_FLAGS_RELEASE_INIT "-O3")
d14 1
a14 1
 SET(CMAKE_Fortran_CREATE_PREPROCESSED_SOURCE)
@


1.1
log
@Zap some unwanted optimization flags ("-O3", "-Os") that were brought
in by cmake when the CMAKE_BUILD_TYPE var is used.

Pointed out by and OK steven@@
@
text
@d1 6
a6 6
$OpenBSD$
--- Modules/Compiler/GNU-Fortran.cmake.orig	Mon Jun 28 17:15:57 2010
+++ Modules/Compiler/GNU-Fortran.cmake	Tue Oct 26 15:21:23 2010
@@@@ -1,10 +1,6 @@@@
 include(Compiler/GNU)
 __compiler_gnu(Fortran)
@

