head	1.11;
access;
symbols
	OPENBSD_6_0:1.10.0.4
	OPENBSD_6_0_BASE:1.10
	OPENBSD_5_9:1.10.0.2
	OPENBSD_5_9_BASE:1.10
	OPENBSD_5_8:1.8.0.6
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.2
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.6.0.4
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.2
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.2.0.10
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.8
	OPENBSD_5_0:1.2.0.6
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.4
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2;
locks; strict;
comment	@# @;


1.11
date	2016.08.08.07.44.48;	author dcoppa;	state Exp;
branches;
next	1.10;
commitid	r4e0Be8ugQYraWeW;

1.10
date	2015.12.08.17.18.59;	author dcoppa;	state Exp;
branches;
next	1.9;
commitid	AX6ONjs8OJ4jyAD6;

1.9
date	2015.09.03.07.09.25;	author dcoppa;	state Exp;
branches;
next	1.8;
commitid	KGLL6yBcZn2xZciC;

1.8
date	2014.12.31.11.06.02;	author dcoppa;	state Exp;
branches;
next	1.7;
commitid	q283NDlM4qiVneVU;

1.7
date	2014.09.11.10.24.38;	author dcoppa;	state Exp;
branches;
next	1.6;
commitid	m0ESeGbhnaGm45G1;

1.6
date	2013.10.14.12.58.04;	author dcoppa;	state Exp;
branches;
next	1.5;

1.5
date	2013.06.07.13.26.27;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2012.11.11.17.13.32;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2012.08.31.12.28.31;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2010.07.28.20.34.22;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2010.05.28.20.21.48;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.11
log
@
Update to CMake-3.6.1.

Tested in a bulk build by naddy@@: the one and only fallout has been
fixed.
@
text
@$OpenBSD: patch-Source_cmInstallCommand_cxx,v 1.10 2015/12/08 17:18:59 dcoppa Exp $
--- Source/cmInstallCommand.cxx.orig	Thu Aug  4 12:10:48 2016
+++ Source/cmInstallCommand.cxx	Thu Aug  4 12:17:08 2016
@@@@ -295,6 +295,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
   }
 
   // Select the mode for installing symlinks to versioned shared libraries.
+  // Do not install symlinks to versioned shared libraries on OpenBSD.
+  // Use NamelinkModeSkip unconditionally.
+#if !defined(__OpenBSD__)
   cmInstallTargetGenerator::NamelinkModeType namelinkMode =
     cmInstallTargetGenerator::NamelinkModeNone;
   if (libraryArgs.GetNamelinkOnly()) {
@@@@ -302,6 +305,10 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
   } else if (libraryArgs.GetNamelinkSkip()) {
     namelinkMode = cmInstallTargetGenerator::NamelinkModeSkip;
   }
+#else
+  cmInstallTargetGenerator::NamelinkModeType namelinkMode =
+    cmInstallTargetGenerator::NamelinkModeSkip;
+#endif
 
   // Check if there is something to do.
   if (targetList.GetVector().empty()) {
@


1.10
log
@
Update to cmake-3.4.0

tested in a bulk build by naddy@@
kde4-related failures proactively fixed by zhuk@@
@
text
@d1 5
a5 4
$OpenBSD: patch-Source_cmInstallCommand_cxx,v 1.9 2015/09/03 07:09:25 dcoppa Exp $
--- Source/cmInstallCommand.cxx.orig	Thu Nov 12 16:39:51 2015
+++ Source/cmInstallCommand.cxx	Mon Nov 23 16:21:00 2015
@@@@ -345,6 +345,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
a7 1
   cmInstallTargetGenerator::NamelinkModeType
d11 5
a15 5
     namelinkMode = cmInstallTargetGenerator::NamelinkModeNone;
   if(libraryArgs.GetNamelinkOnly())
     {
@@@@ -354,6 +357,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
     {
d17 1
a17 1
     }
d19 2
a20 1
+  namelinkMode = cmInstallTargetGenerator::NamelinkModeSkip;
d24 1
a24 1
   if(targetList.GetVector().empty())
@


1.9
log
@
Update to CMake-3.3.1

No fallout in a bulk build
OK ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Source_cmInstallCommand_cxx,v 1.8 2014/12/31 11:06:02 dcoppa Exp $
--- Source/cmInstallCommand.cxx.orig	Thu Aug 13 16:57:00 2015
+++ Source/cmInstallCommand.cxx	Mon Aug 17 15:39:13 2015
@@@@ -343,6 +343,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
d14 1
a14 1
@@@@ -352,6 +355,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
@


1.8
log
@
Update to cmake-3.1.0

Bulk build by landry@@
KDE-related fixes by zhuk@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Source_cmInstallCommand_cxx,v 1.7 2014/09/11 10:24:38 dcoppa Exp $
--- Source/cmInstallCommand.cxx.orig	Mon Dec 15 14:07:43 2014
+++ Source/cmInstallCommand.cxx	Thu Dec 18 05:37:12 2014
@@@@ -344,6 +344,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
d14 1
a14 1
@@@@ -353,6 +356,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
@


1.7
log
@
Update to cmake-3.0.1

Tested in a bulk build by landry@@
OK landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Source_cmInstallCommand_cxx,v 1.6 2013/10/14 12:58:04 dcoppa Exp $
--- Source/cmInstallCommand.cxx.orig	Thu Jul 31 17:03:57 2014
+++ Source/cmInstallCommand.cxx	Wed Sep  3 08:10:09 2014
@@@@ -338,6 +338,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
d14 1
a14 1
@@@@ -347,6 +350,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
@


1.6
log
@Update to cmake-2.8.12.
Tested in a bulk build by the usual suspects, Thanks!

ok espie@@, kili@@
ok zhuk@@ for kde4
@
text
@d1 4
a4 4
$OpenBSD: patch-Source_cmInstallCommand_cxx,v 1.5 2013/06/07 13:26:27 dcoppa Exp $
--- Source/cmInstallCommand.cxx.orig	Mon Oct  7 17:31:00 2013
+++ Source/cmInstallCommand.cxx	Wed Oct  9 09:38:48 2013
@@@@ -336,6 +336,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
d14 1
a14 1
@@@@ -345,6 +348,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
@


1.5
log
@whitespace; no package changes
@
text
@d1 4
a4 4
$OpenBSD: patch-Source_cmInstallCommand_cxx,v 1.4 2012/11/11 17:13:32 dcoppa Exp $
--- Source/cmInstallCommand.cxx.orig	Wed May 15 19:38:13 2013
+++ Source/cmInstallCommand.cxx	Fri Jun  7 15:11:52 2013
@@@@ -333,6 +333,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
d14 1
a14 1
@@@@ -342,6 +345,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
@


1.4
log
@Update to cmake-2.8.10.
Successfully gone through a bulk build.

Feedback landry@@, Vadim Zhukov, Amit Kulkarni
Bulk build and OK landry@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Source_cmInstallCommand_cxx,v 1.3 2012/08/31 12:28:31 dcoppa Exp $
--- Source/cmInstallCommand.cxx.orig	Wed Oct 31 16:32:06 2012
+++ Source/cmInstallCommand.cxx	Fri Nov  2 07:43:31 2012
d14 1
a14 1
@@@@ -342,7 +345,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
a17 1
-
d21 1
a23 1
     {
@


1.3
log
@Update to cmake-2.8.9.

"There was no cmake fallout in the bulk on amd64" jasper@@
Also tested by Brad with a handful of CMake using ports
@
text
@d1 4
a4 4
$OpenBSD: patch-Source_cmInstallCommand_cxx,v 1.2 2010/07/28 20:34:22 dcoppa Exp $
--- Source/cmInstallCommand.cxx.orig	Thu Aug  9 20:15:19 2012
+++ Source/cmInstallCommand.cxx	Thu Aug 23 11:25:48 2012
@@@@ -331,6 +331,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
d14 1
a14 1
@@@@ -340,7 +343,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
@


1.2
log
@We overwrite library version numbers using our LIBxxx_VERSION
environment variable, but we want to do it for shared libraries
only. Otherwise a static library gets created as
libfoo.a.${LIBfoo_VERSION}, which is wrong.
Bug reported and patch tested by Alexandr Shadchin <alexandr DOT
shadchin AT gmail DOT com>: thanks!

While here, reword/clarify some comments to better explain what my
patches do.
@
text
@d1 4
a4 4
$OpenBSD: patch-Source_cmInstallCommand_cxx,v 1.1 2010/05/28 20:21:48 dcoppa Exp $
--- Source/cmInstallCommand.cxx.orig	Mon Jun 28 17:15:59 2010
+++ Source/cmInstallCommand.cxx	Wed Jul 28 21:12:05 2010
@@@@ -324,6 +324,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
d14 1
a14 1
@@@@ -333,7 +336,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
@


1.1
log
@Update to cmake 2.8.1 (I also take maintainership).

"This is good, commit." espie@@
@
text
@d1 4
a4 4
$OpenBSD$
--- Source/cmInstallCommand.cxx.orig	Tue Apr  6 16:45:34 2010
+++ Source/cmInstallCommand.cxx	Mon Apr 19 16:04:04 2010
@@@@ -324,6 +324,8 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
d8 2
a9 1
+  // OpenBSD ports system needs NamelinkModeSkip by default.
d14 1
a14 1
@@@@ -333,7 +335,9 @@@@ bool cmInstallCommand::HandleTargetsMode(std::vector<s
@

