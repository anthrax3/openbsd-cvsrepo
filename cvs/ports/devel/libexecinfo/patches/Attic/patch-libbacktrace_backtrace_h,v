head	1.4;
access;
symbols
	OPENBSD_5_9:1.2.0.12
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.14
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.10
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.8
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.6
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.4
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.0.4
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.4
date	2016.03.13.10.56.10;	author sthen;	state dead;
branches;
next	1.3;
commitid	OHIqogPlaep15gQS;

1.3
date	2016.03.11.19.46.13;	author sthen;	state Exp;
branches;
next	1.2;
commitid	wuJHEdseRcm03EQX;

1.2
date	2012.09.27.15.45.42;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.11.14.19.14.18;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.4
log
@rm empty files, spotted by Markus Lude
@
text
@@


1.3
log
@move to github, opensource.conformal.com is going away. from dhill.
update to 0.3, rolling in patch.
@
text
@@


1.2
log
@- remove BT_MAX_DEPTH and struct bt_frame from the public API as they don't belong there
  and create issues with guenthers upcoming header cleaning.

  as discussed with guenther@@
  ok landry@@
@
text
@a0 40
$OpenBSD: patch-libbacktrace_backtrace_h,v 1.1 2011/11/14 19:14:18 sthen Exp $

- BT_MAX_DEPTH and struct bt_frame should not be exposed in a public header
  since they're internal to libbacktrace.

--- libbacktrace/backtrace.h.orig	Fri Sep 10 00:23:45 2010
+++ libbacktrace/backtrace.h	Wed Sep 26 12:54:25 2012
@@@@ -16,18 +16,26 @@@@
  * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
  */
 
+#ifndef _EXECINFO_H_
+#define _EXECINFO_H_
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
 #ifndef __GNUC__
 #error "this library must be compiled with gcc"
 #endif
 
-#define BT_MAX_DEPTH            (128)
+#include <dlfcn.h>
 
-struct bt_frame {
-	Dl_info			bt_dlinfo;
-	unsigned int		line;
-};
-
 /* compatability functions with libexecinfo and glibc */
 int			backtrace(void **, int);
 char			**backtrace_symbols(void *const *, int);
 void			backtrace_symbols_fd(void *const *, int, int);
+
+#ifdef __cplusplus
+}
+#endif
+#endif
+
@


1.1
log
@switch the libexecinfo port to use marco's libbacktrace, sources modified
to produce a library named libexecinfo.so.XX, avoiding the need to patch a
bunch of places where it's used in other ports. with help from robert@@
@
text
@d1 5
a5 1
$OpenBSD$
d7 2
a8 2
+++ libbacktrace/backtrace.h	Mon Nov 14 00:11:25 2011
@@@@ -16,10 +16,19 @@@@
d23 1
a24 2
+
 #define BT_MAX_DEPTH            (128)
d26 6
a31 2
 struct bt_frame {
@@@@ -31,3 +40,9 @@@@ struct bt_frame {
@

