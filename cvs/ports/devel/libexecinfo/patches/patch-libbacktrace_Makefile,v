head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.22
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.20
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.16
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.18
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.14
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.12
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.10
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.8
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.6
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2;
locks; strict;
comment	@# @;


1.3
date	2011.12.09.08.17.31;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.11.16.15.12.53;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.11.14.19.14.18;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- fix build on hppa and use a simpler construct
@
text
@$OpenBSD: patch-libbacktrace_Makefile,v 1.2 2011/11/16 15:12:53 jasper Exp $
--- libbacktrace/Makefile.orig	Mon May  2 19:23:58 2011
+++ libbacktrace/Makefile	Wed Nov 16 16:00:26 2011
@@@@ -26,9 +26,9 @@@@ CLEANFILES+= backtrace.cat3
 
 includes:
 	@@cd ${.CURDIR}; for i in ${HDRS}; do \
-	cmp -s $$i ${LOCALBASE}/include/$$i || \
-	${INSTALL} ${INSTALL_COPY} -m 444 -o $(BINOWN) -g $(BINGRP) $$i ${LOCALBASE}/include; \
-	echo ${INSTALL} ${INSTALL_COPY} -m 444 -o $(BINOWN) -g $(BINGRP) $$i ${LOCALBASE}/include;\
+	cmp -s $$i ${PREFIX}/include/$$i || \
+	${INSTALL} ${INSTALL_COPY} -m 444 -o $(BINOWN) -g $(BINGRP) $$i ${PREFIX}/include; \
+	echo ${INSTALL} ${INSTALL_COPY} -m 444 -o $(BINOWN) -g $(BINGRP) $$i ${PREFIX}/include;\
 	done
 
 beforeinstall: includes
@


1.2
log
@- bring back fixes to fix this on mips64*

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-libbacktrace_Makefile,v 1.1 2011/11/14 19:14:18 sthen Exp $
a3 9
@@@@ -13,7 +13,7 @@@@ CFLAGS+= -fdiagnostics-show-option -Wall -Werror
 CFLAGS+= -Wall -Werror
 .endif
 CFLAGS+= -ggdb3
-CFLAGS+= -I${LOCALBASE}/include
+CFLAGS+= -I${LOCALBASE}/include ${EXTRA_CFLAGS}
 LDFLAGS+= -Wl,--export-dynamic
 HDRS= backtrace.h
 
@


1.1
log
@switch the libexecinfo port to use marco's libbacktrace, sources modified
to produce a library named libexecinfo.so.XX, avoiding the need to patch a
bunch of places where it's used in other ports. with help from robert@@
@
text
@d1 12
a12 3
$OpenBSD$
--- libbacktrace/Makefile.orig	Sat Nov 12 21:05:03 2011
+++ libbacktrace/Makefile	Sat Nov 12 21:05:07 2011
@

