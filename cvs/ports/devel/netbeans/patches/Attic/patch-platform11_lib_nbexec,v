head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2010.07.09.12.57.58;	author landry;	state dead;
branches;
next	1.2;

1.2
date	2010.04.15.06.56.00;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2010.04.03.11.42.06;	author landry;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Darn. I was supposed to cvs rm this file. Pointed out by Daniel Dickman,
thx.
@
text
@$OpenBSD: patch-platform11_lib_nbexec,v 1.2 2010/04/15 06:56:00 landry Exp $
--- platform11/lib/nbexec.orig	Sat Dec  5 01:15:20 2009
+++ platform11/lib/nbexec	Mon Apr 12 19:54:09 2010
@@@@ -351,7 +351,7 @@@@ detect_system_proxy () {
 }
 
 detect_gnome_proxy () {
-    gconftool=/usr/bin/gconftool-2
+    gconftool=${LOCALBASE}/bin/gconftool-2
     if [ -x  $gconftool ] ; then
         proxy_mode=`$gconftool --get /system/proxy/mode 2>/dev/null`
         if [ "$proxy_mode" = "manual" ] ; then
@@@@ -360,7 +360,7 @@@@ detect_gnome_proxy () {
             http_proxy_tmp=$http_proxy_host:$http_proxy_port
             http_non_proxy_hosts=`$gconftool --get /system/http_proxy/ignore_hosts 2>/dev/null`
             if [ $? ] ; then
-                http_non_proxy_hosts=`echo $http_non_proxy_hosts | /bin/sed 's/\]//'`
+                http_non_proxy_hosts=`echo $http_non_proxy_hosts | /usr/bin/sed 's/\]//'`
             fi
             socks_proxy_host=`$gconftool --get /system/proxy/socks_host 2>/dev/null`
             socks_proxy_port=`$gconftool --get /system/proxy/socks_port 2>/dev/null`
@@@@ -383,18 +383,18 @@@@ detect_gnome_proxy () {
 detect_kde_proxy () {
     kioslaverc="${HOME}/.kde/share/config/kioslaverc"
     if [ -f $kioslaverc ] ; then
-        if /bin/grep -q 'ProxyType=1' "$kioslaverc" ; then
-            http_proxy_tmp=`/bin/grep 'httpProxy=http://' "$kioslaverc"`
+        if /usr/bin/grep -q 'ProxyType=1' "$kioslaverc" ; then
+            http_proxy_tmp=`/usr/bin/grep 'httpProxy=http://' "$kioslaverc"`
             if [ $? ] ; then
-                http_proxy_tmp=`echo $http_proxy_tmp | /bin/sed 's/httpProxy=http:\/\///'`
+                http_proxy_tmp=`echo $http_proxy_tmp | /usr/bin/sed 's/httpProxy=http:\/\///'`
                 return 0
             fi
-            http_non_proxy_hosts=`/bin/grep 'NoProxyFor=' "$kioslaverc"`
+            http_non_proxy_hosts=`/usr/bin/grep 'NoProxyFor=' "$kioslaverc"`
             if [ $? ] ; then
-                http_non_proxy_hosts=`echo $http_non_proxy_hosts | /bin/sed 's/NoProxyFor=//'`
+                http_non_proxy_hosts=`echo $http_non_proxy_hosts | /usr/bin/sed 's/NoProxyFor=//'`
             fi
         else
-            if /bin/grep -q 'ProxyType=0' "$kioslaverc" ; then
+            if /usr/bin/grep -q 'ProxyType=0' "$kioslaverc" ; then
                 detect_system_proxy
                 if [ -z "$http_proxy_tmp" ]; then
                     http_proxy_tmp="DIRECT"
@


1.2
log
@Fix paths to sed/gconftool-2 so that users get proxy settings from
env/user settings.
From maintainer Daniel Dickman, thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-platform11_lib_nbexec,v 1.1 2010/04/03 11:42:06 landry Exp $
@


1.1
log
@Update to netbeans 6.8, from Daniel Dickman on ports@@ a while ago,
who also takes maintainership, with a minor tweak by me (chown
${BINOWN}:${BINGRP} in do-install so that it packages properly when
built as user)
See http://marc.info/?l=openbsd-ports&m=126223375703003&w=2 and
http://marc.info/?l=openbsd-ports&m=126216832521398&w=2 for details.
Also tested by Brandon Mercer and Fred Crowson, with much prodding from
Brandon Mercer.
@
text
@d1 21
a21 3
$OpenBSD$
--- platform11/lib/nbexec.orig	Tue Dec 29 15:24:00 2009
+++ platform11/lib/nbexec	Tue Dec 29 15:24:36 2009
d31 2
a32 1
                 http_proxy_tmp=`echo $http_proxy_tmp | /bin/sed 's/httpProxy=http:\/\///'`
d38 2
a39 1
                 http_non_proxy_hosts=`echo $http_non_proxy_hosts | /bin/sed 's/NoProxyFor=//'`
@

