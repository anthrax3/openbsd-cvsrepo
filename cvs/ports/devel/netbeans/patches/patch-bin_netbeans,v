head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2017.04.12.19.29.48;	author rsadowski;	state Exp;
branches;
next	;
commitid	wwW11YHhduIjEcxG;


desc
@@


1.1
log
@Update netbeans from 6.9.1 to 8.2

Most work from daniel@@ and me with many tweaks from daniel@@.

Notable changes:
- Switch to jdk-1.8+
- Remove hidden bash dependency
- Add OpenBSD mem size calculation
- Add giovanni@@ and me as MAINTAINER
- README tweaks

ok daniel@@ giovanni@@
@
text
@$OpenBSD$

- remove hidden bash dependency
- add OpenBSD mem size calculation

--- bin/netbeans.orig	Fri Sep 30 01:33:04 2016
+++ bin/netbeans	Fri Nov 25 23:42:31 2016
@@@@ -161,8 +161,12 @@@@ heap_size () {
         mem=`/usr/sbin/sysctl hw.memsize | tr -d [:alpha:][:space:].:`
         mem=`expr $mem / 1048576`
         ;;
-        *) 
+    OpenBSD*)
+        mem=`/sbin/sysctl -n hw.usermem`
+        mem=`expr $mem / 1048576`
         ;;
+        *)
+        ;;
     esac
     if [ -z "$mem" ] ; then
         mem=640
@@@@ -194,11 +198,6 @@@@ launchNbexec() {
         fi
     done | head -n 1`
     sh=sh
-    # #73162: Ubuntu uses the ancient Bourne shell, which does not implement trap well.
-    if [ -x /bin/bash ]
-    then
-        sh=/bin/bash
-    fi
     if [ "${founduserdir}" = "yes" ]; then
         exec $sh "$nbexec" "$@@"
     else
@@@@ -230,6 +229,7 @@@@ case "`uname`" in
             --jdkhome '"$netbeans_jdkhome"' \
             --branding nb \
             --clusters '"$netbeans_clusters"' \
+            -J-Dawt.useSystemAAFontSettings=lcd \
             -J-Dnetbeans.importclass=org.netbeans.upgrade.AutoUpgrade \
             -J-Dnetbeans.accept_license_class=org.netbeans.license.AcceptLicense \
             ${netbeans_default_options} \
@
