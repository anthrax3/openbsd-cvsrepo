head	1.29;
access;
symbols
	OPENBSD_6_0:1.29.0.2
	OPENBSD_6_0_BASE:1.29
	OPENBSD_5_9:1.28.0.2
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.28.0.4
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.27.0.2
	OPENBSD_5_7_BASE:1.27
	OPENBSD_5_6:1.26.0.2
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.25.0.4
	OPENBSD_5_5_BASE:1.25
	OPENBSD_5_4:1.25.0.2
	OPENBSD_5_4_BASE:1.25
	OPENBSD_5_3:1.23.0.6
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.23.0.4
	OPENBSD_5_2_BASE:1.23
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.2
	OPENBSD_5_0:1.20.0.2
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.18.0.2
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.16.0.2
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.11.0.4
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.11.0.2
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.9.0.4
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.2
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	ian_2007_01_12:1.1.1.1
	ian:1.1.1;
locks; strict;
comment	@# @;


1.29
date	2016.03.18.23.12.16;	author naddy;	state Exp;
branches;
next	1.28;
commitid	KZAl4KEiw6a3Jixw;

1.28
date	2015.05.25.07.54.27;	author jasper;	state Exp;
branches;
next	1.27;
commitid	jsaRAQWqOGFN8HTC;

1.27
date	2014.08.10.10.11.05;	author espie;	state Exp;
branches;
next	1.26;
commitid	6YqX4M9Xu852nEVB;

1.26
date	2014.05.07.15.42.15;	author kurt;	state Exp;
branches;
next	1.25;

1.25
date	2013.05.10.20.30.31;	author rpe;	state Exp;
branches;
next	1.24;

1.24
date	2013.03.11.10.50.12;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2011.12.02.08.29.45;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2011.09.16.09.24.52;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2011.08.30.17.16.36;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2011.06.02.13.41.38;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2011.05.11.06.22.17;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2010.11.15.19.46.00;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.11.12.12.26.16;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2010.07.09.07.34.07;	author landry;	state Exp;
branches;
next	1.15;

1.15
date	2010.04.15.06.55.59;	author landry;	state Exp;
branches;
next	1.14;

1.14
date	2010.04.08.07.41.09;	author landry;	state Exp;
branches;
next	1.13;

1.13
date	2010.04.05.17.09.17;	author landry;	state Exp;
branches;
next	1.12;

1.12
date	2010.04.03.11.42.06;	author landry;	state Exp;
branches;
next	1.11;

1.11
date	2009.04.26.09.38.25;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2009.03.11.23.22.00;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2008.04.01.21.57.20;	author kurt;	state Exp;
branches;
next	1.8;

1.8
date	2008.03.26.13.07.04;	author sturm;	state Exp;
branches;
next	1.7;

1.7
date	2008.03.16.13.26.55;	author kurt;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.16.02.53.02;	author merdely;	state Exp;
branches;
next	1.5;

1.5
date	2007.04.13.14.04.08;	author kurt;	state Exp;
branches;
next	1.4;

1.4
date	2007.04.08.13.39.13;	author kurt;	state Exp;
branches;
next	1.3;

1.3
date	2007.04.02.00.48.32;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2007.03.23.12.25.11;	author ian;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.12.16.29.51;	author ian;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.12.16.29.51;	author ian;	state Exp;
branches;
next	;


desc
@@


1.29
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@# $OpenBSD: Makefile,v 1.28 2015/05/25 07:54:27 jasper Exp $

COMMENT=		NetBeans Java IDE

V=			6.9.1
DISTNAME=		netbeans-${V}
CATEGORIES=		devel
REVISION=		5

HOMEPAGE=		http://www.netbeans.org/

# CDDL and GPLv2 dual-licensed
#
# For external components see:
#   http://www.netbeans.info/downloads/licence/netbeans-3rd-party.txt
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=		http://download.netbeans.org/netbeans/${V}/final/zip/
EXTRACT_SUFX=		-201007282301-ml.zip

MODULES=		java
MODJAVA_VER=		1.6+

RUN_DEPENDS=		java/javaPathHelper \
			devel/desktop-file-utils

NO_BUILD=		Yes
NO_TEST=		Yes

WRKDIST=		${WRKDIR}/netbeans

NB=			${PREFIX}/netbeans

pre-configure:
	@@${SUBST_CMD} ${WRKSRC}/platform/lib/nbexec

do-install:
	${INSTALL_DATA_DIR} ${NB}
	@@tar -czf - -C ${WRKDIR}/netbeans . | tar xzf - -C ${NB}
	@@find ${NB} -name "*.dll" -o -name "*.exe" -o -name "*.cmd" \
		-o -name "*.bat" -o -name "*.orig" | xargs rm
	@@${SUBST_PROGRAM} ${FILESDIR}/netbeans \
		${PREFIX}/bin/netbeans
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/applications
	@@${SUBST_DATA} ${FILESDIR}/netbeans.desktop \
		${PREFIX}/share/applications/netbeans.desktop

.include <bsd.port.mk>
@


1.28
log
@remove a whole bunch more @@rm -f cases
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.27 2014/08/10 10:11:05 espie Exp $

SHARED_ONLY=		Yes
@


1.27
log
@missed SUBST_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2014/05/07 15:42:15 kurt Exp $
a41 1
	@@rm -rf ${NB}/profiler3
@


1.26
log
@- Unlink jdk/1.6 and make jdk/1.7 the default jdk for all java ports
- Adjust java.port.mk and cmake to use 1.7
- Adjust jdk/1.7 for pkg_add upgrades
okay sthen@@, jasper@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/05/10 20:30:31 rpe Exp $
d45 1
a45 2
	@@${SUBST_CMD} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} -c \
		${FILESDIR}/netbeans \
d48 1
a48 2
	@@${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} -c \
		${FILESDIR}/netbeans.desktop \
@


1.25
log
@Use -m mode with ${SUBST_CMD} instead of two-step process
SUBST_CMD / chmod. Replace -o root -g bin with -o ${BINOWN}
and -g ${BINGRP}.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/03/11 10:50:12 espie Exp $
d10 1
a10 1
REVISION=		4
@


1.24
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/12/02 08:29:45 ajacoutot Exp $
d45 1
a45 1
	@@${SUBST_CMD} -o ${BINOWN} -g ${BINGRP} -c \
a47 1
	@@chmod ${BINMODE} ${PREFIX}/bin/netbeans
@


1.23
log
@Remove MAINTAINER as per his request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/09/16 09:24:52 espie Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d30 1
a30 1
NO_REGRESS=		Yes
@


1.22
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/08/30 17:16:36 jasper Exp $
d10 1
a10 1
REVISION=		3
a12 2

MAINTAINER=		Daniel Dickman <didickman@@gmail.com>
@


1.21
log
@- bump REVISION after recent java.port.mk change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/06/02 13:41:38 ajacoutot Exp $
d10 1
a10 1
REVISION=		2
@


1.20
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/05/11 06:22:17 ajacoutot Exp $
d9 2
a10 2
CATEGORIES=		java devel
REVISION=		1
@


1.19
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and remove remove everything under the @@sample'd directory instead
of the directory itself to prevent a warning from pkg_delete(1) trying
to remove a non existing directory and to help preventing left-over
files and directories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/11/15 19:46:00 espie Exp $
d10 1
a10 1
REVISION=		0
@


1.18
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/11/12 12:26:16 jasper Exp $
d10 1
@


1.17
log
@- update netbeans to 6.9.1
- switch to pkg-readmes

from daniel dickman (MAINTAINER) with small tweaks by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/07/09 07:34:07 landry Exp $
d30 2
a31 2
RUN_DEPENDS=		::java/javaPathHelper \
			::devel/desktop-file-utils
@


1.16
log
@Update to netbeans 6.9, from maintainer Daniel Dickman.
No complains/feedback on ports for three weeks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/04/15 06:55:59 landry Exp $
d7 1
a7 1
V=			6.9
d25 1
a25 1
EXTRACT_SUFX=		-201006101454-ml.zip
a52 1
	${INSTALL_DATA} ${FILESDIR}/README.OpenBSD ${NB}
@


1.15
log
@Fix paths to sed/gconftool-2 so that users get proxy settings from
env/user settings.
From maintainer Daniel Dickman, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/04/08 07:41:09 landry Exp $
d7 2
a8 3
V=			6.8
DISTNAME=		netbeans-${V}-200912041610-ml
PKGNAME=		netbeans-${V}p2
d24 2
a25 2
MASTER_SITES=		http://download.netbeans.org/netbeans/sync/${V}/zip/
EXTRACT_SUFX=		.zip
d41 1
a41 1
	${SUBST_CMD} ${WRKSRC}/platform11/lib/nbexec
d49 2
a50 1
	${SUBST_CMD} -c ${FILESDIR}/netbeans \
a52 1
	@@chown ${BINOWN}:${BINGRP} ${PREFIX}/bin/netbeans
d55 2
a56 3
	@@${SUBST_CMD} -c ${FILESDIR}/netbeans.desktop \
		${PREFIX}/share/applications/netbeans.desktop
	@@chown ${SHAREOWN}:${SHAREGRP} \
@


1.14
log
@Add a patch to disable autoupdates which would mess up with /usr/local
in case someone is dumb enough to run this as root. Proper fix still to
be found..
From maintainer Daniel Dickman, thanks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/04/05 17:09:17 landry Exp $
d9 1
a9 1
PKGNAME=		netbeans-${V}p1
d40 3
@


1.13
log
@Add a .desktop files for fd.o-compatible menus.
From maintainer Daniel Dickman, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/04/03 11:42:06 landry Exp $
d9 1
a9 1
PKGNAME=		netbeans-${V}p0
@


1.12
log
@Update to netbeans 6.8, from Daniel Dickman on ports@@ a while ago,
who also takes maintainership, with a minor tweak by me (chown
${BINOWN}:${BINGRP} in do-install so that it packages properly when
built as user)
See http://marc.info/?l=openbsd-ports&m=126223375703003&w=2 and
http://marc.info/?l=openbsd-ports&m=126216832521398&w=2 for details.
Also tested by Brandon Mercer and Fred Crowson, with much prodding from
Brandon Mercer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/04/26 09:38:25 sthen Exp $
d9 1
a9 1
PKGNAME=		netbeans-${V}
d31 2
a32 1
RUN_DEPENDS=		::java/javaPathHelper
d52 5
@


1.11
log
@pkgname bumps following java.port.mk r1.18, pointed out by espie@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.10 2009/03/11 23:22:00 sthen Exp $
d7 4
a10 3
DISTNAME=		netbeans-5_5-ide_sources
PKGNAME=		netbeans-5.5p5
CATEGORIES=		devel
d14 1
a14 1
MAINTAINER=		Ian Darwin <ian@@openbsd.org>
d16 5
a20 2
# CDDL
PERMIT_PACKAGE_CDROM=	CDDL
d22 1
a22 1
PERMIT_DISTFILES_CDROM=	CDDL
d25 1
a25 1
MASTER_SITES=		http://us2-mirror.netbeans.info/download/5_5/mlfcs/200612070100/
a27 2
VMEM_WARNING=		Yes

d29 1
a29 5
MODJAVA_VER=		1.5+

USE_ZIP=		Yes

BUILD_DEPENDS=		:apache-ant->=1.7.0:devel/apache-ant
d33 1
a33 3
MAKE_ENV=		JAVA_HOME=${JAVA_HOME} \
			ANT_HOME=${LOCALBASE}/ant

d36 1
a36 1
WRKDIST=		${WRKDIR}/netbeans-src
d38 1
a38 3
do-build:
		@@cd ${WRKDIST}/nbbuild && exec ${SETENV} ${MAKE_ENV} ant -q \
		-Dant.build.javac.source="1.5" -Dant.build.javac.target="1.5"
d41 10
a50 5
		@@rm -f ${WRKDIST}/nbbuild/netbeans/bin/*.{cmd,exe}
		@@tar -czf - -C ${WRKDIST}/nbbuild netbeans | tar xzf - -C ${PREFIX}
		@@sed -e "s+%%NETBEANS_HOME%%+${TRUEPREFIX}/netbeans+g" \
			${WRKBUILD}/netbeans.in > ${WRKBUILD}/netbeans.tmp
		${INSTALL_SCRIPT} ${WRKBUILD}/netbeans.tmp ${PREFIX}/bin/netbeans 
@


1.10
log
@bump pkgname following java dep change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/04/01 21:57:20 kurt Exp $
d6 1
a6 1
PKGNAME=		netbeans-5.5p4
@


1.9
log
@- add run deps on javaPathHelper, okay ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/03/26 13:07:04 sturm Exp $
d6 1
a6 1
PKGNAME=		netbeans-5.5p3
@


1.8
log
@missing PKGNAME bumps after java.port.mk changes

noticed by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/03/16 13:26:55 kurt Exp $
d6 1
a6 1
PKGNAME=		netbeans-5.5p2
d30 2
@


1.7
log
@- make netbeans aware of OpenBSD as a Unix like OS.
reviewed by nikolay@@ and ian@@ before lock.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/09/16 02:53:02 merdely Exp $
d6 1
a6 1
PKGNAME=		netbeans-5.5p1
@


1.6
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/04/13 14:04:08 kurt Exp $
d6 1
a6 1
PKGNAME=		netbeans-5.5p0
@


1.5
log
@use ant -q vs -v to reduce verbosity. requested by espie@@ ok ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/04/08 13:39:13 kurt Exp $
d3 1
a3 1
COMMENT=		"NetBeans Java IDE"
d14 1
a14 1
PERMIT_PACKAGE_CDROM=	"CDDL"
d16 1
a16 1
PERMIT_DISTFILES_CDROM=	"CDDL"
@


1.4
log
@remove BROKEN now that pthreads has been fixed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/04/02 00:48:32 pvalchev Exp $
d39 1
a39 1
		@@cd ${WRKDIST}/nbbuild && exec ${SETENV} ${MAKE_ENV} ant -v \
@


1.3
log
@mark as broken on amd64 for now so this doesn't stop bulk builds:
java hangs compiling DDProvider.java
@
text
@d1 1
a1 5
# $OpenBSD: Makefile,v 1.2 2007/03/23 12:25:11 ian Exp $

.if ${MACHINE_ARCH} == "amd64"
BROKEN=	"java hangs compiling DDProvider.java"
.endif
@


1.2
log
@pkg bump after DESCR change, prodded by steven@@, bernd@@
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/01/12 16:29:51 ian Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
PKGNAME=		netbeans-5.5
@


1.1.1.1
log
@Source build of NetBeans IDE for Java.  Uses recent Ant upgrade to make source
version explicit. Updated and OK kurt@@.
@
text
@@
