head	1.8;
access;
symbols
	OPENBSD_6_0:1.8.0.2
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.4.0.4
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.3.0.6
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	bcallah_2013-Oct-31:1.1.1.1
	bcallah:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2016.03.11.20.28.25;	author naddy;	state Exp;
branches;
next	1.7;
commitid	UYLP8TE6V7RS2GhJ;

1.7
date	2016.01.10.08.10.31;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	EMG1FLckMGatXE8V;

1.6
date	2015.11.04.12.37.25;	author sthen;	state Exp;
branches;
next	1.5;
commitid	DTxCoer4IuR7KzMP;

1.5
date	2015.08.25.13.18.25;	author sthen;	state Exp;
branches;
next	1.4;
commitid	ezNehs3ayqMPx5Ri;

1.4
date	2015.05.22.11.31.14;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	2khjHXfpTaOuNVcx;

1.3
date	2013.11.30.03.14.47;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2013.11.27.05.14.13;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2013.10.31.15.30.07;	author bcallah;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.10.31.15.30.07;	author bcallah;	state Exp;
branches;
next	;


desc
@@


1.8
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.7 2016/01/10 08:10:31 ajacoutot Exp $

V =		2.0.1
COMMENT =	SDL2 multi-channel audio mixer library
DISTNAME =	SDL2_mixer-${V}
PKGNAME =	sdl2-mixer-${V}
CATEGORIES =	devel audio

SHARED_LIBS =	SDL2_mixer		0.0 # 0.0

HOMEPAGE =	http://www.libsdl.org/projects/SDL_mixer/

# zlib
PERMIT_PACKAGE_CDROM =   Yes

WANTLIB += FLAC SDL2 c m mikmod modplug ogg pthread smpeg2 sndio usbhid
WANTLIB += vorbis vorbisfile

MASTER_SITES =	http://www.libsdl.org/projects/SDL_mixer/release/

LIB_DEPENDS =	audio/flac \
		audio/libmikmod \
		audio/libmodplug \
		audio/libogg \
		audio/libvorbis \
		devel/sdl2 \
		devel/smpeg2

CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS +=	--disable-music-flac-shared \
			--disable-music-midi-fluidsynth \
			--disable-music-mod-modplug-shared \
			--disable-music-mp3-smpeg-shared \
			--disable-music-ogg-shared \
			--enable-music-mod-mikmod \
			--disable-music-mod-mikmod-shared
CONFIGURE_ENV +=	CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libmodplug" \
			LDFLAGS="-L${LOCALBASE}/lib"

USE_GMAKE =	Yes

NO_TEST =	Yes

pre-build:
	@@${SUBST_CMD} ${WRKSRC}/timidity/config.h

post-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/build/.libs/playmus ${PREFIX}/bin/play2mus
	${INSTALL_PROGRAM} ${WRKBUILD}/build/.libs/playwave ${PREFIX}/bin/play2wave

.include <bsd.port.mk>
@


1.7
log
@Update to sdl2-mixer-2.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/11/04 12:37:25 sthen Exp $
d30 1
a30 2
CONFIGURE_ARGS +=	${CONFIGURE_SHARED} \
			--disable-music-flac-shared \
@


1.6
log
@sdl2-mixer wasn't finding libmodplug's header, reported by ajacoutot@@
help it with CPPFLAGS=-I${LOCALBASE}/include/libmodplug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/08/25 13:18:25 sthen Exp $
d3 1
a3 1
V =		2.0.0
a6 1
REVISION =	3
@


1.5
log
@remove bcallah as maintainer of his ports, at his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/05/22 11:31:14 ajacoutot Exp $
d39 1
a39 1
CONFIGURE_ENV +=	CPPFLAGS="-I${LOCALBASE}/include" \
@


1.4
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/11/30 03:14:47 brad Exp $
d7 1
a7 1
REVISION =	2
a12 1
MAINTAINER =	Brian Callahan <bcallah@@openbsd.org>
@


1.3
log
@Enable the MP3 support.

ok bcallah@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/11/27 05:14:13 brad Exp $
d7 1
a7 1
REVISION =	1
@


1.2
log
@Correct the pkg-config file for static vs shared linking.

ok bcallah@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/10/31 15:30:07 bcallah Exp $
d7 1
a7 1
REVISION =	0
d18 1
a18 1
WANTLIB += FLAC SDL2 c m mikmod modplug ogg pthread sndio usbhid
d28 2
a29 2
		devel/sdl2
#		devel/smpeg2 needs to be imported for MP3 support
a35 1
			--disable-music-mp3 \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@Import devel/sdl2-mixer, the SDL2 multi-channel audio mixer library.
MP3 support is currently disabled awaiting the import of SMPEG2.
ok landry@@
@
text
@@
