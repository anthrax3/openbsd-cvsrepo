head	1.11;
access;
symbols
	OPENBSD_6_1:1.11.0.6
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.11.0.4
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.2
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.10.0.4
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.9.0.8
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.9.0.6
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.9.0.4
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.9.0.2
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.7.0.10
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.8
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.6
	OPENBSD_5_0:1.7.0.4
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.2
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.4.0.4
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	jasper_20090830:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2015.11.19.20.17.15;	author sthen;	state Exp;
branches;
next	1.10;
commitid	IKqYejklJIUnnmFU;

1.10
date	2015.06.03.20.17.04;	author uaa;	state Exp;
branches;
next	1.9;
commitid	7XA8wg7Uw8kqzEfQ;

1.9
date	2013.06.21.19.58.28;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2013.03.11.10.50.03;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2010.12.05.18.24.33;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.15.19.45.57;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2010.09.12.16.49.09;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2009.09.10.22.12.55;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2009.08.31.16.17.14;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.08.31.11.48.29;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.08.30.16.40.16;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.08.30.16.40.16;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.11
log
@remove build dep on ports flex
@
text
@# $OpenBSD: Makefile,v 1.10 2015/06/03 20:17:04 uaa Exp $

COMMENT=		Device Tree Compiler

DISTNAME=		dtc-1.4.1
CATEGORIES=		sysutils devel
MASTER_SITES=		http://www.kernel.org/pub/software/utils/dtc/
EXTRACT_SUFX=		.tar.xz

SHARED_LIBS=		fdt	1.1

HOMEPAGE=		http://devicetree.org/Device_Tree_Compiler

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c

BUILD_DEPENDS=		devel/bison

MAKE_ENV+=		V=1
MAKE_FLAGS+=		PREFIX="${PREFIX}"

USE_GMAKE=		Yes

TEST_TARGET= 		check

post-extract:
	@@perl -pi -e 's,#! /bin/bash,#!${LOCALBASE}/bin/bash,' \
	    ${WRKSRC}/dtdiff

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/dtc
	${INSTALL_DATA} ${WRKSRC}/Documentation/*.txt \
	    ${PREFIX}/share/doc/dtc

.include <bsd.port.mk>
@


1.10
log
@updated 1.3 -> 1.4.1.
In this version, ftdump has renamed to fdtdump and fdtget/fdtput has added.

ok by brad@@ and ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/06/21 19:58:28 brad Exp $
d19 1
a19 2
BUILD_DEPENDS=		devel/bison \
			devel/flex
a28 1
	@@ln -s ${LOCALBASE}/bin/gflex ${WRKDIR}/bin/flex
@


1.9
log
@Update to dtc 1.3.0.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/03/11 10:50:03 espie Exp $
d5 1
a5 1
DISTNAME=		dtc-1.3.0
d7 1
a7 1
MASTER_SITES=		http://comstyle.com/source/
d10 1
a10 1
SHARED_LIBS=		fdt	1.0
d12 1
a12 1
HOMEPAGE=		http://www.jdl.com/
@


1.8
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/12/05 18:24:33 jasper Exp $
d5 4
a8 2
DISTNAME=		dtc-0.1
REVISION=		0
d10 1
a10 1
CATEGORIES=		sysutils devel
a16 2
MASTER_SITES=		http://distfiles.nl/

d19 5
a23 1
BUILD_DEPENDS=		devel/bison
a25 1
MAKE_ENV+=		V=1
d27 6
a32 1
TEST_TARGET= 	check
d34 1
a34 4
do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/{convert-dtsv0,ftdump,dtc} ${PREFIX}/bin
	${INSTALL_DATA} ${WRKSRC}/libfdt/{lib,}fdt.h ${PREFIX}/include
	${INSTALL_DATA} ${WRKSRC}/libfdt/libfdt.{a,so} ${PREFIX}/lib
d36 2
a37 1
	${INSTALL_DATA} ${WRKSRC}/Documentation/*.txt ${PREFIX}/share/doc/dtc
@


1.7
log
@- use REVISION instead of a patch-level

from mikolaj kucharski, with a tweak by me in qt3-sqlite3-plugin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/11/15 19:45:57 espie Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d24 1
a24 1
REGRESS_TARGET= 	check
@


1.6
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/09/12 16:49:09 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.5
log
@- move distfiles/ to a proper mirroring location.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/09/10 22:12:55 jasper Exp $
d22 1
a22 1
BUILD_DEPENDS=		::devel/bison
@


1.4
log
@- move distfiles to another site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/08/31 16:17:14 ajacoutot Exp $
d18 1
a18 1
MASTER_SITES=		http://www.phil.uu.nl/~lievisse/distfiles/
@


1.3
log
@Missed bump in previous commit... ("Ouch! not on the head please!")
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/08/31 11:48:29 ajacoutot Exp $
d18 1
a18 1
MASTER_SITES=		http://nedbsd.eu/~jasper/distfiles/
@


1.2
log
@Add missing build_depends.
Set CPPFLAGS, CFLAGS, LDFLAGS in a consistent way (re-add -fPIC to CFLAGS
which was removed on first import).

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/08/30 16:40:16 jasper Exp $
d6 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d20 2
d23 1
a23 1
MAKE_ENV+=		LDFLAGS="-fPIC"
@


1.1.1.1
log
@Import dtc 

The Device Tree Compiler (DTC) compiles device-tree descriptions for
booting PowerPC kernels on embedded systems without OpenFirmware.

@
text
@@
