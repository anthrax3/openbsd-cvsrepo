head	1.12;
access;
symbols
	OPENBSD_6_0:1.10.0.4
	OPENBSD_6_0_BASE:1.10
	OPENBSD_5_9:1.10.0.2
	OPENBSD_5_9_BASE:1.10
	OPENBSD_5_8:1.9.0.4
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.6.0.6
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.4
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.2
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	ports:1.1.1.1
	espie:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2017.02.25.22.08.41;	author naddy;	state Exp;
branches;
next	1.11;
commitid	MgwW3xicw8SMh5eu;

1.11
date	2016.09.07.10.01.18;	author jasper;	state Exp;
branches;
next	1.10;
commitid	PYHUTkrzqUp8Jfth;

1.10
date	2015.12.22.12.25.12;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	Wk1XVFO4y67tvqwq;

1.9
date	2015.06.22.20.15.32;	author naddy;	state Exp;
branches;
next	1.8;
commitid	LMrxXXna2Y8qpRwT;

1.8
date	2015.06.17.05.45.33;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	f0dfDROcu3sP0Ko6;

1.7
date	2015.03.31.09.44.48;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	Ea3rOcpyiLlaXbHa;

1.6
date	2013.10.11.20.36.17;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2013.03.11.10.50.09;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2012.09.23.07.59.29;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2012.09.02.18.01.48;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2012.09.02.14.37.49;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.09.02.14.13.09;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.09.02.14.13.09;	author espie;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Make c++ the default C++ compiler on OpenBSD instead of the fallback value
of g++.
@
text
@# $OpenBSD: Makefile,v 1.11 2016/09/07 10:01:18 jasper Exp $

PKG_ARCH = 	*
COMMENT =  	config files for imake
CATEGORIES =	devel x11
V =		1.0.6
DISTNAME = 	xorg-cf-files-${V}
PKGNAME = 	imake-cf-${V}
REVISION =	1
MASTER_SITES = 	${MASTER_SITE_XORG:=util/}

PERMIT_PACKAGE_CDROM = 		Yes

SUBST += 	-e 's|@@prefix@@|${X11BASE}|'
SUBST += 	-e 's|@@FONTROOTDIR@@|${X11BASE}/lib/X11/fonts|'
SUBST += 	-e 's|@@ENCODINGSDIR|$${FONTROOTDIR}/encodings|'

XCONFDIR =	${PREFIX}/lib/X11/config

NO_TEST=	Yes

do-build:
	sed ${SUBST} <${WRKSRC}/site.def.in >${WRKSRC}/site.def

pre-configure:
	${SUBST_CMD} ${WRKSRC}/OpenBSD.cf

do-install:
	${INSTALL_DATA_DIR} ${XCONFDIR}
	for f in ${WRKSRC}/*.{cf,def,rules,tmpl}; do \
		${INSTALL_DATA} $$f ${XCONFDIR}; \
	done
	rm ${XCONFDIR}/Motif.rules
	rm ${XCONFDIR}/Motif.tmpl
	touch ${XCONFDIR}/host.def
	touch ${XCONFDIR}/date.def
	touch ${XCONFDIR}/version.def

.include <bsd.port.mk>
@


1.11
log
@remove zaurus bits
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2015/12/22 12:25:12 ajacoutot Exp $
d9 1
a9 1
REVISION =	0
@


1.10
log
@Update to imake-cf-1.0.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2015/06/22 20:15:32 naddy Exp $
d9 1
@


1.9
log
@introduce MASTER_SITE_XORG and switch over all ports that reference
ftp.x.org; idea and ok matthieu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/06/17 05:45:33 ajacoutot Exp $
d6 1
a6 1
V =		1.0.5
@


1.8
log
@Update to imake-cf-1.0.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/03/31 09:44:48 ajacoutot Exp $
d9 1
a9 1
MASTER_SITES = 	http://ftp.x.org/pub/individual/util/
@


1.7
log
@Move fontpath from /usr/local/lib/X11/fonts to /usr/local/share/fonts to match
XDG_DATA_DIR (where Desktop tools will look for by default).

discussed with sthen@@ and matthieu@@
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/10/11 20:36:17 naddy Exp $
d6 3
a8 2
DISTNAME = 	xorg-cf-files-1.0.4
PKGNAME = 	imake-cf-1.0.4
a10 2
REVISION =	4

d17 2
a23 2
XCONFDIR =	${PREFIX}/lib/X11/config

d32 2
a33 2
	rm -f ${XCONFIGDIR}/Motif.rules
	rm -f ${XCONFIGDIR}/Motif.tmpl
@


1.6
log
@For ports that build via imake, stop installing preformatted man
pages and instead install the source pages.

This change simply rips out OpenBSD's historical special rules for
preformatting man pages and restores imake's defaults.

ok espie@@ matthieu@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/03/11 10:50:09 espie Exp $
d10 1
a10 1
REVISION =	3
@


1.5
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/09/23 07:59:29 matthieu Exp $
d10 1
a10 1
REVISION =	2
@


1.4
log
@Don't install Motif.{rules,tmpl} from here.
x11/openmotif installs the correct versions.

bump revision.
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/09/02 18:01:48 matthieu Exp $
a11 2
PERMIT_DISTFILES_CDROM = 	Yes
PERMIT_DISTFILES_FTP = 		Yes
a12 1
PERMIT_PACKAGE_FTP = 		Yes
d18 1
a18 1
NO_REGRESS=	Yes
@


1.3
log
@- fix MASTER_SITES and distinfo
- install all needed files
ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/09/02 14:37:49 ajacoutot Exp $
d10 1
a10 1
REVISION =	1
d36 2
@


1.2
log
@Fix DESCR.
Don't hardcode /usr/local.
Missing NO_REGRESS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/09/02 14:13:09 espie Exp $
d8 3
a10 2
MASTER_SITES = 	http://cgit.freedesktop.org/xorg/util/cf/snapshot/
REVISION =	0
d33 1
a33 1
	for f in ${WRKSRC}/*.{def,rules,tmpl}; do \
d36 3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d9 1
d20 2
d26 3
@


1.1.1.1
log
@matthieu wants to scrape imake off xenocara
imake-config files for ports
(to be finished in-tree)
@
text
@@
