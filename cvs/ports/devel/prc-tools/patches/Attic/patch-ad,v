head	1.2;
access;
symbols
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	OPENBSD_2_9:1.1.1.1.0.10
	OPENBSD_2_9_BASE:1.1.1.1
	OPENBSD_2_8:1.1.1.1.0.8
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.6
	OPENBSD_2_7_BASE:1.1.1.1
	OPENBSD_2_6:1.1.1.1.0.4
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.2
	OPENBSD_2_5_BASE:1.1.1.1
	prc-tools:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2001.08.22.18.30.59;	author pvalchev;	state dead;
branches;
next	1.1;

1.1
date	98.11.26.17.22.52;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.11.26.17.22.52;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- First apply the distribution patches, and remove the old
.orig leftovers before applying the local ones.
- Rename patches to make update-patches work.
prc-tools is still broken.  new version 2.0 has binutils issues
@
text
@*** build-prc.c.orig	Fri Jun 27 11:59:32 1997
--- build-prc.c	Tue May  5 20:14:22 1998
***************
*** 9,14 ****
--- 9,15 ----
  #include <stdio.h>
  #include <fcntl.h>
  #include <stdlib.h>
+ #include <string.h>
  #include "prc.h"
  
  #ifdef __CYGWIN32__
***************
*** 17,22 ****
--- 18,38 ----
  #define O_PLATFORM 0
  #endif
  
+ char *
+ basename(char *path)
+ {
+   char *name;
+ 
+   name = strrchr(path, '/');
+   if (name) {
+     name++;
+   } else {
+     name = path;
+   }
+ 
+   return name;
+ }
+ 
  main(int argc, char *argv[])
  {
    pfd_t *pf;
***************
*** 64,69 ****
--- 80,87 ----
    /* the .prc write routines write the resources in reverse order! */
  
    for (i=argc-1; i > optind + 2; i--) {
+     char *name;
+ 
      if ((fd = open(argv[i], O_PLATFORM | O_RDONLY)) < 1) {
        fprintf(stderr, "Can't open resource file %s\n",argv[i]);
        exit(3);
***************
*** 76,82 ****
      read(fd, sd, slen);
      close (fd);
  
!     add_section_pfd(pf, argv[i], strtoul(argv[i] + 4, (void *)0, 16),
  		    sd, slen);
    }
  
--- 94,101 ----
      read(fd, sd, slen);
      close (fd);
  
!     name = basename(argv[i]);
!     add_section_pfd(pf, name, strtoul(name + 4, (void *)0, 16),
  		    sd, slen);
    }
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@prc-tools from FreeBSD, with some minor changes/additions.

This is a developer's toolkit for building applications for the
PalmPilot, using gcc/gdb/binutils. As it stands, it supports PalmOS2,
but I've added a message in the Makefile describing how to add PalmIII
support (very straightforward).
@
text
@@
