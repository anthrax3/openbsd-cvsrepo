head	1.2;
access;
symbols
	OPENBSD_3_4:1.1.0.2
	OPENBSD_3_4_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2003.10.15.13.12.04;	author todd;	state dead;
branches;
next	1.1;

1.1
date	2003.05.23.13.22.14;	author todd;	state Exp;
branches;
next	;


desc
@@


1.2
log
@remove the nogc flavor, pointless now that boehm-gc works again
update to the last public release opencm0.1.2alpha7pl1-1
@
text
@$OpenBSD: patch-base_configure_in,v 1.1 2003/05/23 13:22:14 todd Exp $
--- base/configure.in.orig	Wed Apr 23 14:50:38 2003
+++ base/configure.in	Thu May 22 17:46:39 2003
@@@@ -41,8 +41,6 @@@@ AC_PREREQ(2.13)dnl
 AC_INIT(src/client/opencm.c)
 AC_REVISION($Revision 0.1$)
 AC_CONFIG_HEADER(config.h)
-AC_AUTOCONFIG_GC()
-AC_CONFIG_SUBDIRS(gc6.1)
 
 AC_CANONICAL_HOST
 
@@@@ -103,15 +101,8 @@@@ AC_ARG_WITH(krb5-dir, 
 	]
 )
 
-dnl enable GC debugging by default.
-dnl
-dnl If --enable is not supplied explicitly on the command line, then we need
-dnl to export the option variable so that the subordinate configure down in the
-dnl gc6.1/ subdir will pick it up anyway.
-
 AC_ARG_ENABLE(full-debug,
-   [  --enable-full-debug	include full support for pointer backtracing etc 
-                                (implies --enable-gc-debug).],
+   [  --enable-full-debug	include full support for pointer backtracing etc],
    [
             enable_full_debug="yes"
             if test "x$enableval" = "xno"; then
@@@@ -119,25 +110,6 @@@@ AC_ARG_ENABLE(full-debug,
             fi
    ]
 )
-
-AC_ARG_ENABLE(gc-debug,
-   [  --enable-gc-debug        enable debugging garbage collector.],
-   [
-            gc_debug="yes"
-            if test "x$enableval" = "xno"; then
-                gc_debug=$enableval
-            fi
-   ]
-)
-
-case "$enable_full_debug" in  "yes")
-  gc_debug="yes"
-  AC_DEFINE(GC_FULL_DEBUG)
-esac
-
-case "$gc_debug" in  "yes")
-  AC_DEFINE(GC_DEBUG)
-esac
 
 dnl Set the inline keyword appropriately for the platform
 AC_C_INLINE
@


1.1
log
@update to 0.1.2alpha5pl2 from 0.1.0alpha18

see http://www.opencm.org/news.html for hilights of this update, major
noteworthy changes include:

- sxd has gone away, gzfs is 'interim' while 'sxd2' is almost ready
- if you have an old sxd repository, read the mailing list archives for
  how to update (use an interum version)
- an incompatible update to the server/client protocol requires that you
  update both at the same time

(as a reminder, this is 'alpha' and as such is subject to incompatible changes
 like the above.  expect more to come when sxd2 emerges)

Also, add a 'nogc' flavor that removes the dependency on boehm-gc, at the
cost of not free()'ing all memory allocated (read: at the moment, most).
@
text
@d1 1
a1 1
$OpenBSD$
@

