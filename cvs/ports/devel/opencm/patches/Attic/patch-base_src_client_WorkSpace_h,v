head	1.2;
access;
symbols
	OPENBSD_3_2:1.1.0.2
	OPENBSD_3_2_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2002.10.11.12.27.00;	author todd;	state dead;
branches;
next	1.1;

1.1
date	2002.08.28.22.23.29;	author todd;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to alpha17 (finally some activity!)
@
text
@$OpenBSD: patch-base_src_client_WorkSpace_h,v 1.1 2002/08/28 22:23:29 todd Exp $
--- base/src/client/WorkSpace.h.orig	Mon Aug  5 20:07:37 2002
+++ base/src/client/WorkSpace.h	Wed Aug 28 14:26:39 2002
@@@@ -76,19 +76,25 @@@@ void ws_Revert(WorkSpace *);
 
 void ws_RestoreFiles(WorkSpace *, unsigned flags);
   
-#define WSE_FILTER   0x1u
-#define WSE_FILES    0x2u
-#define WSE_DIRS     0x4u
-#define WSE_SYMLINKS 0x8u
+#define WSE_FILTER   0x1u	/* Apply directory-level filters */
+#define WSE_FILES    0x2u	/* Looking for files only */
+#define WSE_DIRS     0x4u	/* Include subdirs */
+#define WSE_SYMLINKS 0x8u	/* Include symbolic links */
+#define WSE_NORMALIZE 0x10u	/* Make path relative to ws top dir */
 
-#define WSE_NORMAL      (WSE_FILES|WSE_SYMLINKS|WSE_FILTER)
-#define WSE_UNFILTERED  (WSE_FILES|WSE_SYMLINKS)
+#define WSE_STANDARD    (WSE_FILES|WSE_FILTER|WSE_NORMALIZE)
+#define WSE_UNFILTERED  (WSE_FILES|WSE_DIRS|WSE_SYMLINKS)
 
+/* Used to enumerate actual files, as opposed to WsEntity objects. */
 void ws_EnumeratePath(WorkSpace *, StrVec *names, const char *path, 
 		      unsigned flags, 
 		      OC_bool (*filter)(WorkSpace *, const char *));
 
-StrVec *ws_Enumerate(WorkSpace *, unsigned flags, OC_bool (*fn)(WorkSpace *, const char *));
+/* Used to enumerate the WsEntity objects, as opposed to actual
+   files. The 'regexpVec' argument is a list of regular expressions
+   against which to filter the WsEntities (based on their
+   cur_fsName). */
+StrVec *ws_EnumerateWsEnts(WorkSpace *, StrVec *regexpVec);
 
 void ws_Commit(WorkSpace *ws, StrVec *names);
 void ws_Update(WorkSpace *ws);
@


1.1
log
@64bit stuff breaks in bad ways. more testing needed
@
text
@d1 1
a1 1
$OpenBSD$
@

