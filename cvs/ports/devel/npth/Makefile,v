head	1.7;
access;
symbols
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.4
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.4.0.4
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.3.0.8
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.1.1.1.0.2
	OPENBSD_5_3_BASE:1.1.1.1
	pea_20121017:1.1.1.1
	pea:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2017.08.22.21.07.45;	author edd;	state Exp;
branches;
next	1.6;
commitid	R0f4J1ltvrMXw4l1;

1.6
date	2016.10.01.13.56.26;	author naddy;	state Exp;
branches;
next	1.5;
commitid	cUPMiTKZjgsMqHEJ;

1.5
date	2015.09.18.10.41.05;	author pea;	state Exp;
branches;
next	1.4;
commitid	nFXrTBVRyoNqarPX;

1.4
date	2015.03.16.18.07.44;	author naddy;	state Exp;
branches;
next	1.3;
commitid	IJdm3Zowcdkcxp5X;

1.3
date	2013.07.12.00.49.23;	author jca;	state Exp;
branches;
next	1.2;

1.2
date	2013.03.11.10.50.12;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2012.10.17.11.56.22;	author pea;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.10.17.11.56.22;	author pea;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Update devel/npth to 1.5 and make security/gnupg2 use it.

The last update to gnupg2 broke `gpg2 --refresh` and `gpg2 --send-keys`. The
root is a bug in npthr, which appears to be fixed in 1.5.

OK giovanni@@ and pea@@ (MAINTAINER of both ports). Many thanks.
@
text
@# $OpenBSD: Makefile,v 1.6 2016/10/01 13:56:26 naddy Exp $

COMMENT=	new GNU Portable Threads Library

DISTNAME=	npth-1.5

SHARED_LIBS=	npth 1.0	# 1.1

CATEGORIES=	devel

HOMEPAGE=	http://www.gnupg.org

MAINTAINER=	Pierre-Emmanuel Andre <pea@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

EXTRACT_SUFX=		.tar.bz2

WANTLIB=		pthread

MASTER_SITES=		${MASTER_SITE_GNUPG:=npth/}

CONFIGURE_STYLE=	gnu

LIBnpth_MAJOR=${LIBnpth_VERSION:R} 
LIBnpth_MINOR=${LIBnpth_VERSION:E} 

SUBST_VARS=		LIBnpth_MAJOR LIBnpth_MINOR

pre-configure:
	${SUBST_CMD} ${WRKSRC}/configure

.include <bsd.port.mk>
@


1.6
log
@rename MASTER_SITES_GNUPG to MASTER_SITE_GNUPG, like all the others
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/09/18 10:41:05 pea Exp $
d5 1
a5 1
DISTNAME=	npth-1.2
d7 1
a7 1
SHARED_LIBS=	npth 0.0	# 0.5
@


1.5
log
@Update to 1.2
ok jca@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/03/16 18:07:44 naddy Exp $
d22 1
a22 1
MASTER_SITES=		${MASTER_SITES_GNUPG:=npth/}
@


1.4
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/07/12 00:49:23 jca Exp $
d5 1
a5 2
DISTNAME=	npth-0.91
REVISION=	0
d7 1
a7 1
SHARED_LIBS=	npth 0.0	# 0.2
@


1.3
log
@Introduce MASTER_SITES_GNUPG and reuse it for various GnuPG
(sub)projects.  http:// urls first, then the primary ftp
site for ''make peek-ftp'', as suggested by sthen@@.
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/03/11 10:50:12 espie Exp $
d6 1
@


1.2
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/10/17 11:56:22 pea Exp $
d22 1
a22 1
MASTER_SITES=		ftp://ftp.gnupg.org/gcrypt/npth/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.1.1.1
log
@Import npth

nPth is a non-preemptive threads implementation using an API very similar to
the one known from GNU Pth. It has been designed as a replacement of GNU Pth
for non-ancient operating systems. In contrast to GNU Pth is is based on the
system's standard threads implementation. Thus nPth allows the use of
libraries which are not compatible to GNU Pth.

ok ajacoutot@@
@
text
@@
