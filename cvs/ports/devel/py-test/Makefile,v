head	1.29;
access;
symbols
	OPENBSD_6_2:1.29.0.2
	OPENBSD_6_2_BASE:1.29
	OPENBSD_6_1:1.24.0.2
	OPENBSD_6_1_BASE:1.24
	OPENBSD_6_0:1.18.0.2
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.15.0.2
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.10.0.4
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.9.0.2
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.7.0.2
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.6.0.2
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	eric_2012-mar-26:1.1.1.1
	eric:1.1.1;
locks; strict;
comment	@# @;


1.29
date	2017.06.18.21.43.20;	author shadchin;	state Exp;
branches;
next	1.28;
commitid	sUNdPct8ubSQSoNM;

1.28
date	2017.05.25.08.54.31;	author sthen;	state Exp;
branches;
next	1.27;
commitid	DCxqHNNU42Vp8H3I;

1.27
date	2017.05.24.12.19.42;	author shadchin;	state Exp;
branches;
next	1.26;
commitid	7FelvM2OOa5UhV79;

1.26
date	2017.05.17.11.34.17;	author landry;	state Exp;
branches;
next	1.25;
commitid	ln3dmkccCG7YmkIA;

1.25
date	2017.04.22.19.52.07;	author shadchin;	state Exp;
branches;
next	1.24;
commitid	ycBJEzoIblK5qq8w;

1.24
date	2017.01.24.10.35.10;	author shadchin;	state Exp;
branches;
next	1.23;
commitid	5RKQ3slTXiRO4deQ;

1.23
date	2017.01.03.19.19.49;	author landry;	state Exp;
branches;
next	1.22;
commitid	NkZaP5skFWQkYqhM;

1.22
date	2016.12.06.17.02.25;	author shadchin;	state Exp;
branches;
next	1.21;
commitid	N1vMZ3Gpn7qY7z1g;

1.21
date	2016.11.12.18.12.31;	author shadchin;	state Exp;
branches;
next	1.20;
commitid	amZyMrZBMFyGFPMN;

1.20
date	2016.11.10.21.58.40;	author danj;	state Exp;
branches;
next	1.19;
commitid	4ER2f1Ti7zNi2Qmp;

1.19
date	2016.10.13.10.54.54;	author shadchin;	state Exp;
branches;
next	1.18;
commitid	QARDdMA9F3noxUTT;

1.18
date	2016.06.12.07.40.10;	author shadchin;	state Exp;
branches;
next	1.17;
commitid	YmQo8vH0nbeiLDQw;

1.17
date	2016.03.27.08.20.39;	author shadchin;	state Exp;
branches;
next	1.16;
commitid	gzFlXUR5ky2vBUdZ;

1.16
date	2016.03.13.08.08.13;	author shadchin;	state Exp;
branches;
next	1.15;
commitid	EK4dCeTP8t1BayV7;

1.15
date	2016.01.31.11.41.53;	author shadchin;	state Exp;
branches;
next	1.14;
commitid	nmRbIzAjjvYif9Bn;

1.14
date	2015.12.27.08.26.50;	author ajacoutot;	state Exp;
branches;
next	1.13;
commitid	cXPxOT0JaegfXrn8;

1.13
date	2015.12.17.18.38.20;	author shadchin;	state Exp;
branches;
next	1.12;
commitid	oLijOgWqNswkA1q1;

1.12
date	2015.12.09.18.17.58;	author jca;	state Exp;
branches;
next	1.11;
commitid	DqDuk54GsnlcKcrF;

1.11
date	2015.09.29.10.52.12;	author sthen;	state Exp;
branches;
next	1.10;
commitid	xbfDwwa9BDEzVq2B;

1.10
date	2015.04.02.14.21.15;	author jasper;	state Exp;
branches;
next	1.9;
commitid	4Dkfcsk2uZtFDSwy;

1.9
date	2014.09.29.07.02.02;	author jasper;	state Exp;
branches;
next	1.8;
commitid	HSD3ATzI3n4xDSVx;

1.8
date	2014.09.15.19.42.08;	author edd;	state Exp;
branches;
next	1.7;
commitid	NaL1GAPuBbsAVnsO;

1.7
date	2014.06.03.11.34.24;	author rpointel;	state Exp;
branches;
next	1.6;
commitid	yV7TKyLhcnT7BCjX;

1.6
date	2013.10.07.13.34.17;	author rpointel;	state Exp;
branches;
next	1.5;

1.5
date	2013.05.30.13.09.21;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.11.10.50.26;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2013.02.09.14.49.50;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2012.06.27.19.19.46;	author rpointel;	state Exp;
branches;
next	1.1;

1.1
date	2012.03.26.18.26.18;	author eric;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.03.26.18.26.18;	author eric;	state Exp;
branches;
next	;


desc
@@


1.29
log
@Update to py-test 3.1.2
@
text
@# $OpenBSD: Makefile,v 1.28 2017/05/25 08:54:31 sthen Exp $

COMMENT=		cross-project testing tool for Python

MODPY_EGG_VERSION=	3.1.2
DISTNAME=		pytest-${MODPY_EGG_VERSION}
PKGNAME=		py-test-${MODPY_EGG_VERSION}

CATEGORIES=		devel

HOMEPAGE=		http://pytest.org/latest/

MAINTAINER=		Alexandr Shadchin <shadchin@@openbsd.org>

# MIT
PERMIT_PACKAGE_CDROM=	Yes

MODULES=		lang/python

MODPY_PI =		Yes
MODPY_SETUPTOOLS=	Yes

FLAVORS=		python3
FLAVOR?=

BUILD_DEPENDS=		devel/py-setuptools_scm${MODPY_FLAVOR}
RUN_DEPENDS=		devel/py-py${MODPY_FLAVOR}>=1.4.30
TEST_DEPENDS=		${RUN_DEPENDS} \
			devel/py-hypothesis${MODPY_FLAVOR} \
			devel/py-mock${MODPY_FLAVOR} \
			devel/py-nose${MODPY_FLAVOR} \
			devel/py-test-xdist${MODPY_FLAVOR} \
			www/py-requests${MODPY_FLAVOR}
.if !${FLAVOR:Mpython3}
TEST_DEPENDS +=		devel/py-twisted
.endif

post-install:
	mv ${PREFIX}/bin/py.test{,${MODPY_BIN_SUFFIX}}

.include <bsd.port.mk>
@


1.28
log
@missing BDEP on devel/py-setuptools_scm${MODPY_FLAVOR}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2017/05/24 12:19:42 shadchin Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	3.1.0
@


1.27
log
@Update to py-test 3.1.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2017/05/17 11:34:17 landry Exp $
d26 1
@


1.26
log
@Fix remaining pkgpaths for twisted update, reported by naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2017/04/22 19:52:07 shadchin Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	3.0.7
@


1.25
log
@Update to py-test 3.0.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2017/01/24 10:35:10 shadchin Exp $
d34 1
a34 1
TEST_DEPENDS +=		devel/py-twisted/core
@


1.24
log
@Update to py-test 3.0.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2017/01/03 19:19:49 landry Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	3.0.6
d38 1
a38 1
	mv ${PREFIX}/bin/py.test ${PREFIX}/bin/py.test${MODPY_BIN_SUFFIX}
@


1.23
log
@bump ports depending on python3 in devel
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2016/12/06 17:02:25 shadchin Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	3.0.5
a7 1
REVISION=		0
d31 1
@


1.22
log
@Update to py-test 3.0.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/11/12 18:12:31 shadchin Exp $
d8 1
@


1.21
log
@Update to py-test 3.0.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/11/10 21:58:40 danj Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	3.0.4
@


1.20
log
@Remove superfluous if ${FLAVOR:Mpython3}

tweaks and ok rpointel@@ shadchin@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2016/10/13 10:54:54 shadchin Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	3.0.3
@


1.19
log
@Update to py-test 3.0.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2016/06/12 07:40:10 shadchin Exp $
a35 1
.if ${FLAVOR:Mpython3}
a37 1
.endif
@


1.18
log
@Update to py-test 2.9.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2016/03/27 08:20:39 shadchin Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.9.2
d28 1
@


1.17
log
@Bugfix update to py-test 2.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2016/03/13 08:08:13 shadchin Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.9.1
@


1.16
log
@Update to py-test 2.9.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2016/01/31 11:41:53 shadchin Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.9.0
@


1.15
log
@Bugfix update to py-test 2.8.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2015/12/27 08:26:50 ajacoutot Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.8.7
@


1.14
log
@devel/py-mock -> devel/py-mock${MODPY_FLAVOR} in TEST_DEPENDS when there's a
python3 FLAVOR now that we have py3-mock.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2015/12/17 18:38:20 shadchin Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.8.5
a17 3
MODPY_PI =		Yes
EXTRACT_SUFX=		.zip

d20 1
d29 2
a30 1
			devel/py-nose${MODPY_FLAVOR}
@


1.13
log
@Update to pytest-2.8.5.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2015/12/09 18:17:58 jca Exp $
d30 1
d33 1
a33 2
TEST_DEPENDS +=		devel/py-mock \
			devel/py-twisted/core
@


1.12
log
@Update to pytest-2.8.3, from Daniel Jakots.

Maintainer timeout.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2015/09/29 10:52:12 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.8.3
d13 2
d19 1
d30 3
a32 2
			devel/py-test${MODPY_FLAVOR}>=${MODPY_EGG_VERSION} \
			devel/py-nose${MODPY_FLAVOR} \
d34 1
@


1.11
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2015/04/02 14:21:15 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.6.1
a7 1
REVISION =		1
d25 1
a25 1
RUN_DEPENDS=		devel/py-py${MODPY_FLAVOR}>=1.4.23
@


1.10
log
@- switch to MODPY_PI
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2014/09/29 07:02:02 jasper Exp $
d8 1
a8 1
REVISION =		0
@


1.9
log
@bump after switch from py3-distribute to py3-setuptools

ok rpointel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2014/09/15 19:42:08 edd Exp $
d17 1
a17 1
MASTER_SITES=		${MASTER_SITE_PYPI:=p/pytest/}
@


1.8
log
@Update to py-test-2.6.1.

OK dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2014/06/03 11:34:24 rpointel Exp $
d8 1
@


1.7
log
@changed python3 default version so bump revision.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/10/07 13:34:17 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.3.5
a8 2
REVISION = 0

d25 5
a29 3
RUN_DEPENDS=		devel/py-py${MODPY_FLAVOR}
TEST_DEPENDS=		devel/py-test${MODPY_FLAVOR}>=${MODPY_EGG_VERSION} \
			devel/py-nose${MODPY_FLAVOR}
@


1.6
log
@Update py-test to 2.3.5, based on a diff from edd.
ok edd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/05/30 13:09:21 ajacoutot Exp $
d8 2
@


1.5
log
@Bump after default py3 version switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/03/11 10:50:26 espie Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.2.3
a7 3
REVISION =		1

EXTRACT_SUFX=		.zip
a21 2
WANTLIB+=		${MODPY_WANTLIB}

d26 2
a27 4
TEST_DEPENDS=	devel/py-test${MODPY_FLAVOR}

do-test:
	cd ${WRKSRC} && ${LOCALBASE}/bin/py.test${MODPY_BIN_SUFFIX} testing
@


1.4
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/02/09 14:49:50 sthen Exp $
d8 1
a8 1
REVISION =		0
@


1.3
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/06/27 19:19:46 rpointel Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d31 1
a31 1
REGRESS_DEPENDS=	devel/py-test${MODPY_FLAVOR}
d33 1
a33 1
do-regress:
@


1.2
log
@regen PLIST to permit to build with Python 3.2.3, bump revision.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/03/26 18:26:18 eric Exp $
d39 1
a39 1
.if ${FLAVOR:L:Mpython3}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/03/14 20:16:23 eric Exp $
d8 1
@


1.1.1.1
log
@py.test is a simple and popular testing tool for Python.

ok mpi@@
@
text
@@
