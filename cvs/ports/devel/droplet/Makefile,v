head	1.14;
access;
symbols
	OPENBSD_6_2:1.14.0.4
	OPENBSD_6_2_BASE:1.14
	OPENBSD_6_1:1.14.0.2
	OPENBSD_6_1_BASE:1.14
	OPENBSD_6_0:1.13.0.2
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.12.0.2
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.9.0.4
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.7.0.2
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.6.0.2
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.4.0.4
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.1.1.0.4
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.2
	jasper_20112312:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.14
date	2016.09.13.14.40.29;	author naddy;	state Exp;
branches;
next	1.13;
commitid	SpVZjufuFzi5eQet;

1.13
date	2016.03.18.21.38.23;	author naddy;	state Exp;
branches;
next	1.12;
commitid	BVkebQSTXSZokeRG;

1.12
date	2015.10.01.10.30.33;	author sthen;	state Exp;
branches;
next	1.11;
commitid	Zvd3Zgxw4y1MdtRg;

1.11
date	2015.09.23.10.33.50;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	F3YCJeWpGXkWkS1A;

1.10
date	2015.08.24.12.37.52;	author jasper;	state Exp;
branches;
next	1.9;
commitid	L7syuW2rUae2SoUr;

1.9
date	2015.04.21.18.51.24;	author sthen;	state Exp;
branches;
next	1.8;
commitid	ptMCPiyuhL0JiHRZ;

1.8
date	2015.04.17.12.55.16;	author jasper;	state Exp;
branches;
next	1.7;
commitid	smDcBY999Mq1OplE;

1.7
date	2014.09.27.07.53.31;	author landry;	state Exp;
branches;
next	1.6;
commitid	vwqZZakhn8465L4W;

1.6
date	2014.05.23.12.31.36;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2014.04.22.10.48.21;	author jca;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.21.08.45.14;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.11.10.50.03;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2012.12.23.13.25.11;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2011.12.23.13.10.30;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.12.23.13.10.30;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.14
log
@replace libiconv module
@
text
@# $OpenBSD: Makefile,v 1.13 2016/03/18 21:38:23 naddy Exp $

CATEGORIES=		devel
COMMENT=		high performance Cloud Storage client library

VERSION=		2.0
DISTNAME=		droplet-${VERSION}
GH_ACCOUNT =		scality
GH_PROJECT =		Droplet
GH_COMMIT =		22e7e46214a26c36a2314ef0c23ee42c861ec6bd

SHARED_LIBS=		droplet		1.0 #0.0

MAINTAINER=		Rafael Sadowski <rafael@@sizeofvoid.org>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += crypto iconv json-c lzma m pthread ssl xml2 z

BUILD_DEPENDS=		${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/libtool
# XXX Depends on libtool macros

LIB_DEPENDS=		converters/libiconv \
			textproc/libxml \
			devel/json-c

AUTOCONF_VERSION=	2.68
AUTOMAKE_VERSION=	1.11
CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
post-patch:
	cd ${WRKBUILD} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} ./autogen.sh

.include <bsd.port.mk>
@


1.13
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2015/10/01 10:30:33 sthen Exp $
d19 1
a19 1
WANTLIB += crypto json-c lzma m pthread ssl xml2 z
a20 1
MODULES=		converters/libiconv
d26 2
a27 1
LIB_DEPENDS=		textproc/libxml \
@


1.12
log
@update to droplet-2.0, from maintainer Rafael Sadowski
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.9 2015/04/21 18:51:24 sthen Exp $

SHARED_ONLY=		Yes
@


1.11
log
@Use the AUTO*_VERSION variables.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2015/08/24 12:37:52 jasper Exp $
d8 1
a8 2
VERSION=		1.1
REVISION=		3
d10 3
a12 1
HOMEPAGE=		https://github.com/scality/Droplet
d14 1
a14 1
SHARED_LIBS=		droplet		0.0 #0.0
a22 3
MASTER_SITES=		http://www.sizeofvoid.org/pub/OpenBSD/distfiles/

WRKDIST=		${WRKDIR}/scality-Droplet-e6692cc
d39 1
a39 2
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		/bin/sh ./autogen.sh
@


1.10
log
@remove individual BROKEN markers for ports depending on json-c; instead mark
json-c BROKEN that's where the lack of atomic ops wreaks havoc.

landry@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2015/04/21 18:51:24 sthen Exp $
d40 2
a41 1
	cd ${WRKBUILD} && env AUTOCONF_VERSION=2.68 AUTOMAKE_VERSION=1.11 \
@


1.9
log
@add some simple missing lzma WANTLIBs (crept in via libxml)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/04/17 12:55:16 jasper Exp $
a3 2
BROKEN-hppa=		no atomic ops in json-c
BROKEN-mips64=		no atomic ops in json-c
@


1.8
log
@mark broken mips64 (lack of atomic ops)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2014/09/27 07:53:31 landry Exp $
d11 1
a11 1
REVISION=		2
d22 1
a22 1
WANTLIB=		crypto json-c m pthread ssl xml2 z
@


1.7
log
@BROKEN-hppa=           no atomic ops in json-c
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2014/05/23 12:31:36 sthen Exp $
d5 1
@


1.6
log
@- don't run configure twice
- don't rely on openssl for string.h (only in tests which aren't installed
so no big issue here, but let's get it out of build logs)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/04/22 10:48:21 jca Exp $
d4 1
@


1.5
log
@Build against <json-c/...> includes and link against libjson-c.
Also fix a typo in COMMENT and drop devel/json-c from BUILD_DEPENDS:
it's already in LIB_DEPENDS.  ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/03/21 08:45:14 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
@


1.4
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 10:50:03 espie Exp $
d6 1
a6 1
COMMENT=		high perfomance Cloud Storage client library
d9 1
a9 1
REVISION=		0
d20 1
a20 1
WANTLIB=		crypto json m pthread ssl xml2 z
a27 1
			devel/json-c \
@


1.3
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/12/23 13:25:11 sthen Exp $
a34 1
USE_LIBTOOL=		Yes
@


1.2
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/12/23 13:10:30 jasper Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d9 1
d23 1
a23 1
WANTLIB=		crypto json m ssl xml2 z
@


1.1.1.1
log
@import droplet 1.1

Scality Droplet is a high perfomance Cloud Storage client library providing
a set of high-level features. It is open source and released under the BSD
License. Multiple backends are supported: S3 (Simple Storage Service), CDMI
(Cloud Data Management Interface), SRWS (Scality Simple Rest Web Service).
On-the-fly encryption/decryption and buffered I/O are also supported.

    initial port from Vadim Zhukov
	tweaks by me and sthen@@, ok sthen@@
@
text
@@
