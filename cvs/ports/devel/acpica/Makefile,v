head	1.21;
access;
symbols
	OPENBSD_6_0:1.18.0.4
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.18.0.2
	OPENBSD_5_9_BASE:1.18
	OPENBSD_5_8:1.15.0.4
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.14.0.2
	OPENBSD_5_7_BASE:1.14
	OPENBSD_5_6:1.13.0.2
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.9.0.2
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.8.0.2
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.7.0.6
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.4
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.2
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.5.0.2
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.4.0.8
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.6
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.4
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.2
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	phessler_20080706:1.1.1.1
	phessler:1.1.1;
locks; strict;
comment	@# @;


1.21
date	2017.03.18.21.37.55;	author sthen;	state Exp;
branches;
next	1.20;
commitid	bx8gEKLhYBihuIlM;

1.20
date	2016.09.01.15.50.16;	author pirofti;	state Exp;
branches;
next	1.19;
commitid	8TqwMgSriO72v8N3;

1.19
date	2016.09.01.08.34.20;	author pirofti;	state Exp;
branches;
next	1.18;
commitid	tVM4d3xvwcO8iPrc;

1.18
date	2016.01.11.11.26.19;	author sthen;	state Exp;
branches;
next	1.17;
commitid	QZHsOL0vtHl5wctY;

1.17
date	2016.01.06.16.29.18;	author sthen;	state Exp;
branches;
next	1.16;
commitid	67jJwEEuof1pPzUl;

1.16
date	2015.11.19.20.17.15;	author sthen;	state Exp;
branches;
next	1.15;
commitid	IKqYejklJIUnnmFU;

1.15
date	2015.04.24.12.51.23;	author sthen;	state Exp;
branches;
next	1.14;
commitid	TMIniDLMZzLMWiUs;

1.14
date	2014.12.17.00.27.23;	author daniel;	state Exp;
branches;
next	1.13;
commitid	J1jCu3AqwKg9KnWs;

1.13
date	2014.05.20.17.02.30;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2014.05.20.16.37.08;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2014.03.23.18.17.34;	author kili;	state Exp;
branches;
next	1.10;

1.10
date	2014.03.18.10.50.47;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2013.11.03.07.52.01;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2013.03.11.10.50.00;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2012.01.11.02.35.14;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2011.04.05.08.02.25;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.15.19.45.56;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2009.01.03.19.51.04;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2008.12.22.22.43.02;	author phessler;	state Exp;
branches;
next	1.2;

1.2
date	2008.07.07.04.08.00;	author phessler;	state Exp;
branches;
next	1.1;

1.1
date	2008.07.06.16.48.48;	author phessler;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.07.06.16.48.48;	author phessler;	state Exp;
branches;
next	;


desc
@@


1.21
log
@update to acpica-20170303
@
text
@# $OpenBSD: Makefile,v 1.20 2016/09/01 15:50:16 pirofti Exp $

ONLY_FOR_ARCHS =	amd64 i386

COMMENT =		reference implementation of ACPI tools
DISTNAME =		acpica-unix-20170303
PKGNAME =		${DISTNAME:S/-unix//}

CATEGORIES =		devel

HOMEPAGE =		https://acpica.org/

MAINTAINER =		Stuart Henderson <sthen@@openbsd.org>

# BSD-ish (or GPLv2 or Intel's own license: triple-licensed)
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =		c pthread

MASTER_SITES =		https://acpica.org/sites/acpica/files/

USE_GMAKE =		Yes
BUILD_DEPENDS =		devel/bison
MAKE_FLAGS =		CC="${CC}" NOOPT=true
FAKE_FLAGS =		DESTDIR=

do-test:
	cd ${WRKSRC}/tests/templates && sh templates.sh 1

.include <bsd.port.mk>
@


1.20
log
@A new acpica version (20160831) was just released after my commit.

It's so fresh that the Windows installer links are still 404.

Again OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2016/09/01 08:34:20 pirofti Exp $
d6 2
a7 2
DISTNAME =		acpica-unix2-20160831
PKGNAME =		${DISTNAME:S/-unix2//}
d15 1
a15 1
# BSD-ish (dual license)
@


1.19
log
@Update acpica to 20160729.

This fixes some parsing bugs found with the x260 AML code.

Okay sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2016/01/11 11:26:19 sthen Exp $
d6 1
a6 1
DISTNAME =		acpica-unix2-20160729
@


1.18
log
@reorder Makefile a bit, and take MAINTAINER so that portroach reminds me
to update it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2016/01/06 16:29:18 sthen Exp $
d6 1
a6 1
DISTNAME =		acpica-unix2-20151218
a7 1
REVISION =		0
@


1.17
log
@udate to acpica-20151218. relative to the last update in ports,
this adds ACPI 6.0 and ASL+ support, amongst others.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2015/11/19 20:17:15 sthen Exp $
d8 2
a12 1
MASTER_SITES =		https://acpica.org/sites/acpica/files/
d14 1
a14 1
WANTLIB =		c pthread
d18 4
@


1.16
log
@remove build dep on ports flex
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/04/24 12:51:23 sthen Exp $
d6 1
a6 1
DISTNAME =		acpica-unix2-20150410
@


1.15
log
@update to acpica-20150410
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/12/17 00:27:23 daniel Exp $
d19 1
a19 2
BUILD_DEPENDS =		devel/bison \
			devel/flex
@


1.14
log
@update acpica to 20141107; ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2014/05/20 17:02:30 sthen Exp $
d6 1
a6 1
DISTNAME =		acpica-unix2-20141107
@


1.13
log
@update to acpica 20140424
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/05/20 16:37:08 sthen Exp $
d6 1
a6 1
DISTNAME =		acpica-unix2-20140424
@


1.12
log
@update to acpica-20120711, tweaked from a diff from daniel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2014/03/23 18:17:34 kili Exp $
d6 2
a7 3
V =			20121018
DISTNAME =		acpica-unix2-$V
PKGNAME =		acpica-$V
d19 4
a22 18
BUILD_DEPENDS =		devel/flex devel/bison

do-build:
	cd ${WRKSRC}/source/compiler && env CFLAGS="${CFLAGS}" ${MAKE_PROGRAM}
.for i in acpisrc acpinames acpixtract
	cd ${WRKSRC}/source/tools/$i && env CFLAGS="${CFLAGS}" ${MAKE_PROGRAM}
.endfor
	cd ${WRKSRC}/source/tools/acpiexec && \
	    env CFLAGS="${CFLAGS}" ${MAKE_PROGRAM} clean acpiexec

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/source/compiler/iasl ${PREFIX}/bin/
.for i in acpisrc acpinames acpixtract acpiexec
	${INSTALL_PROGRAM} ${WRKSRC}/source/tools/$i/$i ${PREFIX}/bin/
.endfor
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/acpica/
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/acpica/
	${INSTALL_DATA} ${FILESDIR}/LICENSE ${PREFIX}/share/doc/acpica/
@


1.11
log
@Revert librt changes.

Prodded by espie@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2014/03/18 10:50:47 ajacoutot Exp $
d6 2
a7 2
V =			20111123
DISTNAME =		acpica-unix-$V
a9 1
REVISION =		2
d11 2
a12 2
HOMEPAGE =		http://www.acpica.org/
MASTER_SITES =		${HOMEPAGE}download/
d16 2
a17 4
# Intel License
# http://www.acpica.org/downloads/unix_source_code.php
PERMIT_PACKAGE_CDROM =	export restrictions
PERMIT_PACKAGE_FTP =	Yes
a19 1
NO_TEST =		Yes
d23 5
a27 5
	cd ${WRKSRC}/compiler && env CFLAGS="${CFLAGS}" ${MAKE_PROGRAM}
	cd ${WRKSRC}/tools/acpisrc && env CFLAGS="${CFLAGS}" ${MAKE_PROGRAM}
	cd ${WRKSRC}/tools/acpinames && env CFLAGS="${CFLAGS}" ${MAKE_PROGRAM}
	cd ${WRKSRC}/tools/acpixtract && env CFLAGS="${CFLAGS}" ${MAKE_PROGRAM}
	cd ${WRKSRC}/tools/acpiexec && \
a29 1

d31 4
a34 5
	${INSTALL_PROGRAM} ${WRKSRC}/compiler/iasl ${PREFIX}/bin/
	${INSTALL_PROGRAM} ${WRKSRC}/tools/acpisrc/acpisrc ${PREFIX}/bin/
	${INSTALL_PROGRAM} ${WRKSRC}/tools/acpinames/acpinames ${PREFIX}/bin/
	${INSTALL_PROGRAM} ${WRKSRC}/tools/acpixtract/acpixtract ${PREFIX}/bin/
	${INSTALL_PROGRAM} ${WRKSRC}/tools/acpiexec/acpiexec ${PREFIX}/bin/
d38 3
@


1.10
log
@We have a librt stub now; no needs for these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/11/03 07:52:01 ajacoutot Exp $
d10 1
a10 1
REVISION =		1
@


1.9
log
@No need for /-lpthread/-pthread
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/03/11 10:50:00 espie Exp $
d10 1
a10 1
REVISION =		0
@


1.8
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/01/11 02:35:14 sthen Exp $
d10 1
@


1.7
log
@update to acpica 20111123; adds support for ACPI 5.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/04/05 08:02:25 sthen Exp $
a19 2
PERMIT_DISTFILES_CDROM =export restrictions
PERMIT_DISTFILES_FTP =	Yes
d22 1
a22 1
NO_REGRESS =		Yes
@


1.6
log
@update to 20110316 which is able to disassemble aml from the
acer 5820tg without segfaulting.

"I don't remember what possessed me to claim maintainer of this
in the first place.  feel free to remove me :)" phessler@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/15 19:45:56 espie Exp $
d6 3
a8 3
V =			20110316
DISTNAME =		acpica-unix-${V}
PKGNAME =		acpica-${V}
d11 2
a12 2
HOMEPAGE =		http://www.acpica.org
MASTER_SITES =		${HOMEPAGE}/download/
d24 1
a24 1
NO_REGRESS = 		Yes
@


1.5
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/01/03 19:51:04 naddy Exp $
d6 1
a6 1
V =			20080701
a8 1
REVISION =		0
a12 1
MAINTAINER =		Peter Hessler <phessler@@openbsd.org>
d14 1
a14 1
WANTLIB =		c
d25 1
a25 5

pre-configure:
	@@perl -pi -e 's#-O2##g' ${WRKSRC}/compiler/Makefile \
	    ${WRKSRC}/tools/acpisrc/Makefile \
	    ${WRKSRC}/tools/acpiexec/Makefile
d30 2
d35 1
d39 2
@


1.4
log
@PERMIT_* changes require a version bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/12/22 22:43:02 phessler Exp $
d8 2
a9 1
PKGNAME =		acpica-${V}p0
@


1.3
log
@I was mistaken in my reading of the license. We can distribute packages
of this.

requested by deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/07/07 04:08:00 phessler Exp $
d8 1
a8 1
PKGNAME =		acpica-${V}
@


1.2
log
@this is known to blow up on non-reference platforms, so mark as
ONLY_FOR_ARCHS until we fix it

requested and "doesn't need a package bump" sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/07/06 16:48:48 phessler Exp $
d20 1
a20 1
PERMIT_PACKAGE_FTP =	export restrictions
d22 1
a22 1
PERMIT_DISTFILES_FTP =	export restrictions
@


1.1
log
@Initial revision
@
text
@d1 3
a3 1
# $OpenBSD: Makefile.template,v 1.54 2008/01/13 16:43:57 espie Exp $
@


1.1.1.1
log
@The ACPI Component Architecture (ACPICA) project provides an operating 
system (OS)-independent reference implementation of the Advanced 
Configuration and Power Interface Specification (ACPI).

ok naddy
@
text
@@
