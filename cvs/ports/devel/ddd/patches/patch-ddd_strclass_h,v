head	1.4;
access;
symbols
	OPENBSD_3_7:1.2.0.6
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.4
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2017.05.04.16.44.05;	author espie;	state Exp;
branches;
next	1.3;
commitid	A1OkDbMxyyJ14Ise;

1.3
date	2005.06.28.19.31.57;	author aanriot;	state dead;
branches;
next	1.2;

1.2
date	2004.02.09.11.59.28;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2004.01.18.14.00.54;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.4
log
@fix build with clang
@
text
@$OpenBSD$
friend declaration can't have default parameters

Index: ddd/strclass.h
--- ddd/strclass.h.orig
+++ ddd/strclass.h
@@@@ -543,7 +543,15 @@@@ class subString (public)
     bool OK() const; 
 };
 
+class string;
 
+string common_prefix(const string& x, const string& y, 
+				int startpos = 0);
+string common_suffix(const string& x, const string& y, 
+				int startpos = -1);
+int readline(std::istream& s, string& x, char terminator = '\n',
+			int discard_terminator = 1);
+
 class string
 {
     friend class subString;
@@@@ -810,10 +818,8 @@@@ class string (public)
     friend int split(const string& x, string *res, int maxn, 
 		     const regex& sep);
 
-    friend string common_prefix(const string& x, const string& y, 
-				int startpos = 0);
-    friend string common_suffix(const string& x, const string& y, 
-				int startpos = -1);
+    friend string common_prefix(const string& x, const string& y, int startpos);
+    friend string common_suffix(const string& x, const string& y, int startpos);
     friend string replicate(char c, int n);
     friend string replicate(const string& y, int n);
     friend string join(const string *src, int n, const string& sep);
@@@@ -864,8 +870,7 @@@@ class string (public)
     friend std::istream& operator>>(std::istream& s, string& x);
 
     friend int readline(std::istream& s, string& x, 
-			char terminator = '\n',
-			int discard_terminator = 1);
+			char terminator, int discard_terminator);
 
     // Status
     unsigned int length() const;
@


1.3
log
@update to 3.3.11.

ok naddy@@
@
text
@d1 20
a20 4
$OpenBSD: patch-ddd_strclass_h,v 1.2 2004/02/09 11:59:28 espie Exp $
--- ddd/strclass.h.orig	2004-02-09 04:37:13.000000000 +0100
+++ ddd/strclass.h	2004-02-09 12:51:03.000000000 +0100
@@@@ -1140,7 +1140,7 @@@@ inline gnu_string& gnu_string::operator 
d22 16
a37 1
     assert(!consuming());
d39 4
a42 3
-    const std::gnu_string str( os.str() );
+    const std::string str( os.str() );
     rep = string_Salloc(rep, str.c_str(), str.length(), str.length());
d44 2
a45 1
     return *this;
@


1.2
log
@missing std::, needed for gcc 3.3.2
@
text
@d1 1
a1 1
$OpenBSD: patch-ddd_strclass_h,v 1.1 2004/01/18 14:00:54 sturm Exp $
@


1.1
log
@update to ddd 3.3.8

from Andrew Dalgleish <openbsd at ajd dot net dot au>
@
text
@d1 3
a3 3
$OpenBSD$
--- ddd/strclass.h.orig	2004-01-17 20:39:41.000000000 +0100
+++ ddd/strclass.h	2004-01-17 20:40:07.000000000 +0100
d9 1
a9 1
+    const string str( os.str() );
@

