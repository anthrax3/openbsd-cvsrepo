head	1.70;
access;
symbols
	OPENBSD_6_0:1.69.0.2
	OPENBSD_6_0_BASE:1.69
	OPENBSD_5_9:1.68.0.2
	OPENBSD_5_9_BASE:1.68
	OPENBSD_5_8:1.68.0.4
	OPENBSD_5_8_BASE:1.68
	OPENBSD_5_7:1.67.0.2
	OPENBSD_5_7_BASE:1.67
	OPENBSD_5_6:1.66.0.4
	OPENBSD_5_6_BASE:1.66
	OPENBSD_5_5:1.66.0.2
	OPENBSD_5_5_BASE:1.66
	OPENBSD_5_4:1.63.0.2
	OPENBSD_5_4_BASE:1.63
	OPENBSD_5_3:1.61.0.2
	OPENBSD_5_3_BASE:1.61
	OPENBSD_5_2:1.60.0.2
	OPENBSD_5_2_BASE:1.60
	OPENBSD_5_1_BASE:1.59
	OPENBSD_5_1:1.59.0.2
	OPENBSD_5_0:1.58.0.2
	OPENBSD_5_0_BASE:1.58
	OPENBSD_4_9:1.57.0.2
	OPENBSD_4_9_BASE:1.57
	OPENBSD_4_8:1.52.0.2
	OPENBSD_4_8_BASE:1.52
	OPENBSD_4_7:1.51.0.2
	OPENBSD_4_7_BASE:1.51
	OPENBSD_4_6:1.47.0.4
	OPENBSD_4_6_BASE:1.47
	OPENBSD_4_5:1.47.0.2
	OPENBSD_4_5_BASE:1.47
	OPENBSD_4_4:1.46.0.4
	OPENBSD_4_4_BASE:1.46
	OPENBSD_4_3:1.46.0.2
	OPENBSD_4_3_BASE:1.46
	OPENBSD_4_2:1.44.0.2
	OPENBSD_4_2_BASE:1.44
	OPENBSD_4_1:1.41.0.2
	OPENBSD_4_1_BASE:1.41
	OPENBSD_4_0:1.40.0.6
	OPENBSD_4_0_BASE:1.40
	OPENBSD_3_9:1.40.0.4
	OPENBSD_3_9_BASE:1.40
	OPENBSD_3_8:1.40.0.2
	OPENBSD_3_8_BASE:1.40
	OPENBSD_3_7:1.39.0.2
	OPENBSD_3_7_BASE:1.39
	OPENBSD_3_6:1.38.0.4
	OPENBSD_3_6_BASE:1.38
	OPENBSD_3_5:1.38.0.2
	OPENBSD_3_5_BASE:1.38
	OPENBSD_3_4:1.35.0.2
	OPENBSD_3_4_BASE:1.35
	OPENBSD_3_3:1.34.0.2
	OPENBSD_3_3_BASE:1.34
	OPENBSD_3_2:1.33.0.2
	OPENBSD_3_2_BASE:1.33
	OPENBSD_3_1:1.32.0.2
	OPENBSD_3_1_BASE:1.32
	OPENBSD_3_0:1.27.0.2
	OPENBSD_3_0_BASE:1.27
	OPENBSD_2_9_TRACKING_SWITCH:1.26
	OPENBSD_2_9:1.25.0.2
	OPENBSD_2_9_BASE:1.25
	OPENBSD_2_8:1.23.0.2
	OPENBSD_2_8_BASE:1.23
	OPENBSD_2_7:1.20.0.2
	OPENBSD_2_7_BASE:1.20
	OPENBSD_2_6:1.12.0.2
	OPENBSD_2_6_BASE:1.12
	OPENBSD_2_5:1.8.0.2
	OPENBSD_2_5_BASE:1.8
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	marc_1998-may-22:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.70
date	2016.09.13.14.40.29;	author naddy;	state Exp;
branches;
next	1.69;
commitid	SpVZjufuFzi5eQet;

1.69
date	2016.05.05.19.52.28;	author naddy;	state Exp;
branches;
next	1.68;
commitid	KG9Yn10TjXY3Xr6m;

1.68
date	2015.06.05.12.20.38;	author ajacoutot;	state Exp;
branches;
next	1.67;
commitid	EN63WAVsZfWHjAV3;

1.67
date	2015.02.16.22.57.07;	author naddy;	state Exp;
branches;
next	1.66;
commitid	0dx3c9ckf7dE4tx1;

1.66
date	2013.11.25.14.16.22;	author sthen;	state Exp;
branches;
next	1.65;

1.65
date	2013.11.09.23.19.02;	author naddy;	state Exp;
branches;
next	1.64;

1.64
date	2013.08.20.22.05.49;	author zhuk;	state Exp;
branches;
next	1.63;

1.63
date	2013.03.21.08.45.14;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2013.03.11.10.50.02;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2012.12.13.15.43.11;	author naddy;	state Exp;
branches;
next	1.60;

1.60
date	2012.03.29.13.38.13;	author sthen;	state Exp;
branches;
next	1.59;

1.59
date	2011.09.16.09.24.49;	author espie;	state Exp;
branches;
next	1.58;

1.58
date	2011.04.10.18.01.13;	author jasper;	state Exp;
branches;
next	1.57;

1.57
date	2011.01.30.09.38.41;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2010.11.15.19.45.57;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2010.10.24.21.10.56;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2010.10.18.17.47.52;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2010.08.29.17.59.19;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2010.04.24.20.18.39;	author naddy;	state Exp;
branches;
next	1.51;

1.51
date	2009.12.16.14.33.47;	author kili;	state Exp;
branches;
next	1.50;

1.50
date	2009.11.30.23.45.35;	author edd;	state Exp;
branches;
next	1.49;

1.49
date	2009.09.06.10.46.25;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2009.08.10.06.31.07;	author kili;	state Exp;
branches;
next	1.47;

1.47
date	2008.10.22.17.04.14;	author landry;	state Exp;
branches;
next	1.46;

1.46
date	2008.01.04.18.38.51;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2007.11.13.14.06.21;	author steven;	state Exp;
branches;
next	1.44;

1.44
date	2007.07.07.21.38.36;	author aanriot;	state Exp;
branches;
next	1.43;

1.43
date	2007.04.14.21.20.19;	author sturm;	state Exp;
branches;
next	1.42;

1.42
date	2007.03.31.12.21.38;	author steven;	state Exp;
branches;
next	1.41;

1.41
date	2006.11.11.21.04.27;	author steven;	state Exp;
branches;
next	1.40;

1.40
date	2005.06.28.19.31.56;	author aanriot;	state Exp;
branches;
next	1.39;

1.39
date	2004.11.23.11.22.01;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2004.03.04.17.49.26;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2004.01.18.14.00.54;	author sturm;	state Exp;
branches;
next	1.36;

1.36
date	2003.10.26.17.30.39;	author sturm;	state Exp;
branches;
next	1.35;

1.35
date	2003.04.10.16.51.21;	author sturm;	state Exp;
branches;
next	1.34;

1.34
date	2002.10.13.21.45.46;	author naddy;	state Exp;
branches;
next	1.33;

1.33
date	2002.05.13.18.50.39;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2002.03.21.05.28.20;	author fgsch;	state Exp;
branches;
next	1.31;

1.31
date	2002.02.20.21.00.36;	author pvalchev;	state Exp;
branches;
next	1.30;

1.30
date	2001.11.11.13.57.32;	author heko;	state Exp;
branches;
next	1.29;

1.29
date	2001.11.10.13.24.36;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2001.10.28.13.05.45;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2001.09.28.06.02.13;	author pvalchev;	state Exp;
branches;
next	1.26;

1.26
date	2001.05.06.00.12.57;	author lebel;	state Exp;
branches;
next	1.25;

1.25
date	2001.04.18.15.01.08;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2000.12.19.15.26.16;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2000.08.19.16.32.33;	author kevlo;	state Exp;
branches;
next	1.22;

1.22
date	2000.08.18.20.45.07;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2000.08.17.05.47.24;	author kevlo;	state Exp;
branches;
next	1.20;

1.20
date	2000.03.12.02.16.27;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2000.02.15.05.04.11;	author turan;	state Exp;
branches;
next	1.18;

1.18
date	2000.02.12.08.02.13;	author turan;	state Exp;
branches;
next	1.17;

1.17
date	2000.02.11.05.50.24;	author kevlo;	state Exp;
branches;
next	1.16;

1.16
date	2000.02.11.03.01.54;	author turan;	state Exp;
branches;
next	1.15;

1.15
date	2000.01.01.00.15.50;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	99.12.03.14.24.38;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	99.12.03.08.03.28;	author kevlo;	state Exp;
branches;
next	1.12;

1.12
date	99.09.21.16.34.09;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	99.09.18.10.44.12;	author turan;	state Exp;
branches;
next	1.10;

1.10
date	99.08.21.16.27.59;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.07.05.05.57.00;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	99.04.01.06.20.06;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	99.03.21.07.18.36;	author fgsch;	state Exp;
branches;
next	1.6;

1.6
date	99.03.14.17.52.47;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	98.12.09.04.07.46;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	98.10.08.18.26.40;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.06.30.23.52.32;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.06.13.23.26.38;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.05.22.23.55.12;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.05.22.23.55.12;	author marc;	state Exp;
branches;
next	;


desc
@@


1.70
log
@replace libiconv module
@
text
@# $OpenBSD: Makefile,v 1.69 2016/05/05 19:52:28 naddy Exp $

COMMENT=	Data Display Debugger, graphical front-end for GDB, etc

DISTNAME=	ddd-3.3.12
REVISION=	8
CATEGORIES=	devel
MASTER_SITES=	${MASTER_SITE_GNU:=ddd/}

HOMEPAGE=	https://www.gnu.org/software/ddd/

# GPLv2 / LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	ICE SM X11 Xaw Xau Xdmcp Xext Xmu Xpm Xt c m z stdc++ \
		Xft Xrender expat fontconfig freetype iconv ncurses \
		pthread-stubs xcb jpeg png Xm

RUN_DEPENDS=	devel/desktop-file-utils
LIB_DEPENDS=	converters/libiconv \
		x11/motif

TEST_IS_INTERACTIVE=x11

USE_GMAKE=	Yes
AUTOCONF_VERSION=2.61
CONFIGURE_STYLE=autoconf
CONFIGURE_ENV=	CPPFLAGS="${CPPFLAGS} -I${LOCALBASE}/include" \
		CXXFLAGS="${CXXFLAGS}"
MAKE_ENV+=MOTIFLIB='-L${LOCALBASE}/lib -lXm'

# needed for is_ppc_file() in ddd/filetype.C
.if ${MACHINE_ARCH} == "powerpc"
CONFIGURE_ENV+=	LDFLAGS="${LDFLAGS} -L${LOCALBASE}/lib"
LIB_DEPENDS+=	devel/libelf
WANTLIB +=	elf
.endif

SEPARATE_BUILD=	Yes

CONFIGURE_ARGS=	--with-readline-libraries=/usr/lib

MAKE_FLAGS=	MAINTAINER="'${MAINTAINER}'"
FAKE_FLAGS=	dddrootdir="${PREFIX}/share/ddd/" \
		dddappdir="${PREFIX}/share/ddd/ddd/"

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/ddd
	${INSTALL_DATA} ${WRKSRC}/doc/*.ps  ${PREFIX}/share/doc/ddd
	${INSTALL_DATA} ${WRKSRC}/doc/*.pdf  ${PREFIX}/share/doc/ddd
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/ddd/html
	${INSTALL_DATA} ${WRKSRC}/doc/html/*  ${PREFIX}/share/doc/ddd/html

.include <bsd.port.mk>
@


1.69
log
@x11/openmotif -> x11/motif
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2015/06/05 12:20:38 ajacoutot Exp $
d16 1
a16 1
		Xft Xrender expat fontconfig freetype ncurses \
a18 2
MODULES=	converters/libiconv

d20 2
a21 1
LIB_DEPENDS=	x11/motif
@


1.68
log
@Sync PLIST for share/applications/.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2015/02/16 22:57:07 naddy Exp $
d6 1
a6 1
REVISION=	7
d22 1
a22 1
LIB_DEPENDS=	x11/openmotif
@


1.67
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/11/25 14:16:22 sthen Exp $
d6 1
a6 1
REVISION=	6
@


1.66
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/11/09 23:19:02 naddy Exp $
a26 1
USE_GROFF=	Yes
@


1.65
log
@move http://www.gnu.org to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2013/08/20 22:05:49 zhuk Exp $
a25 1
VMEM_WARNING=	Yes
d27 1
a27 1
USE_GROFF =	Yes
@


1.64
log
@Fixup handling of FreeDesktop goo: desktop-file-utils, gtk-update-icon-cache
and shared-mime-info. Found by portcheck.

A lot of input from and okay ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/03/21 08:45:14 ajacoutot Exp $
d6 1
a6 1
REVISION=	5
d10 1
a10 1
HOMEPAGE=	http://www.gnu.org/software/ddd/
@


1.63
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/03/11 10:50:02 espie Exp $
d6 1
a6 1
REVISION=	4
d21 1
@


1.62
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2012/12/13 15:43:11 naddy Exp $
a26 1
USE_LIBTOOL=	Yes
@


1.61
log
@use posix_openpt() rather than trying to open /dev/ptmx
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/03/29 13:38:13 sthen Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d23 1
a23 1
REGRESS_IS_INTERACTIVE=x11
@


1.60
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/09/16 09:24:49 espie Exp $
d6 1
a6 1
REVISION =	3
d17 1
d24 2
d32 2
a33 1
CONFIGURE_STYLE=gnu
a45 2

LIB_DEPENDS+=		x11/openmotif
@


1.59
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/04/10 18:01:13 jasper Exp $
d41 1
a41 1
SEPARATE_BUILD=	simple
@


1.58
log
@adjust after recent lesstif removal

ok aja@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2011/01/30 09:38:41 ajacoutot Exp $
d6 1
a6 1
REVISION =	2
@


1.57
log
@Unbreak on powerpc by moving to new DEPENDS style.

ok espie@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/11/15 19:45:57 espie Exp $
d6 1
a6 1
REVISION =	1
d19 1
a19 1
		pthread-stubs xcb jpeg png
a25 1
USE_MOTIF=	any
d32 1
d42 2
@


1.56
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/10/24 21:10:56 ajacoutot Exp $
d37 2
a38 1
LIB_DEPENDS+=	elf::devel/libelf
@


1.55
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/10/18 17:47:52 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.54
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/08/29 17:59:19 jasper Exp $
a28 1
USE_X11=	Yes
@


1.53
log
@- remove unneeded patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/04/24 20:18:39 naddy Exp $
d30 1
@


1.52
log
@fix build and WANTLIB after libXp removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/12/16 14:33:47 kili Exp $
d45 2
@


1.51
log
@Adjust WANTLIB after openmotif update and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/11/30 23:45:35 edd Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d17 1
a17 1
WANTLIB=	ICE SM X11 Xaw Xau Xdmcp Xext Xmu Xp Xpm Xt c m z stdc++ \
@


1.50
log
@Update to ddd-3.3.12.

Added a patch from NetBSD pkgsrc to fix amd64 hangs.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/09/06 10:46:25 ajacoutot Exp $
d6 1
d19 1
a19 1
		pthread-stubs xcb
@


1.49
log
@Make use of REGRESS_IS_INTERACTIVE=x11

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/08/10 06:31:07 kili Exp $
d5 1
a5 2
DISTNAME=	ddd-3.3.11
PKGNAME=	${DISTNAME}p4
d29 1
a29 1
CONFIGURE_STYLE=gnu autoconf no-autoheader
a38 1
AUTOCONF_VERSION=2.59
a44 2
DOCS=	ddd-paper.ps ddd-themes.pdf ddd-themes.ps ddd.pdf ddd.ps html/ddd.html

d47 4
a50 4
	cd ${WRKSRC}/doc && ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/ddd
	@@${GZIP_CMD} ${PREFIX}/share/doc/ddd/ddd-paper.ps
	@@${GZIP_CMD} ${PREFIX}/share/doc/ddd/ddd-themes.ps
	@@${GZIP_CMD} ${PREFIX}/share/doc/ddd/ddd.ps
@


1.48
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2008/10/22 17:04:14 landry Exp $
d23 1
a23 4
REGRESS_IS_INTERACTIVE=Yes
# Note - we need ~/.XAuthority, which doesn't exist in
# /${PKGNAME}_writes_to_home
REGRESS_FLAGS=	"DISPLAY=$${DISPLAY}" "HOME=$${HOME}"
@


1.47
log
@- Fix dependencies on powerpc, correctly link with devel/libelf
- Remove a doubled VMEM_WARNING
- Use libiconv MODULE
- Honor CXXFLAGS
- Fix licence marker
- Update PLIST

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2008/01/04 18:38:51 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
d18 2
a19 1
		Xft Xrender expat fontconfig freetype ncurses
@


1.46
log
@do the same thing with REGRESS_FLAGS as FAKE_FLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2007/11/13 14:06:21 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d12 1
a12 1
# GPL
d18 3
a20 1
		Xft Xrender expat fontconfig freetype iconv ncurses
d33 9
a41 1
CONFIGURE_ENV=	CPPFLAGS="${CPPFLAGS} -I${LOCALBASE}/include"
a47 2

VMEM_WARNING=	Yes
@


1.45
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2007/07/07 21:38:36 aanriot Exp $
d23 1
a23 1
REGRESS_FLAGS+=	"DISPLAY=$${DISPLAY}" "HOME=$${HOME}"
@


1.44
log
@remove SUBST_VARS+=DISTNAME, no package change.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2007/04/14 21:20:19 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d17 2
a18 2
WANTLIB=		ICE SM X11 Xaw Xau Xdmcp Xext Xmu Xp Xpm Xt \
			c m ncurses stdc++
@


1.43
log
@WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2007/03/31 12:21:38 steven Exp $
d3 1
a3 1
COMMENT=	"Data Display Debugger, graphical front-end for GDB, etc"
a33 2

SUBST_VARS+=	DISTNAME
@


1.42
log
@USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2006/11/11 21:04:27 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d17 1
a17 1
WANTLIB=		ICE SM X11 Xaw Xext Xmu Xp Xpm Xt \
@


1.41
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2005/06/28 19:31:56 aanriot Exp $
d6 1
d28 1
@


1.40
log
@update to 3.3.11.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2004/11/23 11:22:01 espie Exp $
d27 1
@


1.39
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2004/03/04 17:49:26 espie Exp $
d5 1
a5 1
DISTNAME=	ddd-3.3.8
d17 1
a17 1
			c iberty m ncurses readline stdc++
d29 1
a29 1
AUTOCONF_VERSION=2.54
a33 2
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/libiberty \
				${WRKSRC}/readline/support
a40 4

pre-patch:
	find ${WRKSRC} -type f \( -name '*.C' -o -name '*.h' \) -print0 | xargs -0 \
		perl -pi -e 'next if /#include/; s/\bstring\b/gnu_string/g;'
@


1.38
log
@explicitly tag no-autoheader some ports for which re-running it after autoconf
is a problem.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2004/01/18 14:00:54 sturm Exp $
d16 2
@


1.37
log
@update to ddd 3.3.8

from Andrew Dalgleish <openbsd at ajd dot net dot au>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2003/10/26 17:30:39 sturm Exp $
d25 1
a25 1
CONFIGURE_STYLE=gnu autoconf
@


1.36
log
@update to ddd 3.3.7

from Andrew Dalgleish <openbsd@@ajd.net.au>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2003/04/10 16:51:21 sturm Exp $
d5 1
a5 1
DISTNAME=	ddd-3.3.7
d22 1
d25 3
a27 1
CONFIGURE_STYLE=gnu
d42 1
a42 1
pre-build:
@


1.35
log
@update to ddd 3.3.1

- minor bug fixes
- improved temp file handling

from Andrew Dalgleish <openbsd@@andrewdalgleish.dyndns.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2002/10/13 21:45:46 naddy Exp $
d5 1
a5 1
DISTNAME=	ddd-3.3.1
d17 5
d25 1
d37 5
a41 1
DOCS=	README ddd-paper.ps ddd.ps sample.dddinit
a44 2
	${INSTALL_DATA} ${WRKSRC}/PROBLEMS ${PREFIX}/share/doc/ddd
	${INSTALL_DATA} ${WRKSRC}/ddd/sample.c ${PREFIX}/share/doc/ddd
d47 1
@


1.34
log
@C++ fixes for gcc3; parts from Jack J. Woehr <jwoehr@@attglobal.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2002/05/13 18:50:39 espie Exp $
d5 1
a5 1
DISTNAME=	ddd-3.3
d11 1
d20 3
@


1.33
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2002/03/21 05:28:20 fgsch Exp $
a6 1
NEED_VERSION=	1.402
a20 2
CONFIGURE_ENV=	INSTALL_PROGRAM="${INSTALL_PROGRAM}" \
		INSTALL_DATA="${INSTALL_DATA}"
@


1.32
log
@update to ddd 3.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2002/02/20 21:00:36 pvalchev Exp $
d8 1
a8 2
MASTER_SITES=	${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR= ddd
@


1.31
log
@Use readline from /usr/lib, instead of building our own...
(As a bonus, the readline unsigned char issues do not have to be fixed here too)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/11/11 13:57:32 heko Exp $
d5 1
a5 1
DISTNAME=	ddd-3.2.1
d20 3
a22 2
CONFIGURE_STYLE=gnu dest
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/libiberty ${WRKSRC}/readline/support
d27 1
a27 1
MAKE_FLAGS=	MAINTAINER='${MAINTAINER:Q}'
d31 1
a31 1
DOCS=	README ddd-paper.ps ddd.ps sample.c sample.dddinit
d36 2
a37 1
	cd ${WRKSRC}/doc; ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/ddd
@


1.30
log
@o Instead of copying the "virtual memory exhausted" warning for each
individual port, introduce a new variable for bsd.port.mk, VMEM_WARNING.
By setting this variable to `Yes', the user is given a warning about the
virtual memory requirements just before the pre-build stage.
o Also give some examples for different shells for what to do about
it, and mention login.conf(5). bash, for example, has a confusing
-v flag to ulimit.
o Document this in bsd.port.mk.5
espie@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2001/11/10 13:24:36 espie Exp $
d24 1
@


1.29
log
@MAINTAINER wrecks havok...
take regress framework into account.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/10/28 13:05:45 espie Exp $
d27 1
a27 8
pre-build:
	@@echo ""
	@@echo "*** WARNING: you may see an error such as"
	@@echo "***       virtual memory exhausted"
	@@echo "*** when building this package.  If you do you must increase"
	@@echo "*** your limits.  See the man page for your shell and look"
	@@echo "*** for the 'limit' or 'ulimit' command."
	@@echo ""
@


1.28
log
@Zap default MAINTAINER from Makefile.
Especially now that the default line is more verbose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/09/28 06:02:13 pvalchev Exp $
d25 1
a25 1
MAKE_FLAGS=	MAINTAINER=${MAINTAINER}
a43 3

check:	build
	@@cd ${WRKSRC} && ${MAKE_PROGRAM} check
@


1.27
log
@CONFIGURE_STYLE=gnu w/ proper MODGNU_CONFIG_GUESS_DIRS
needed for the powerpc -> macppc name change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/05/06 00:12:57 lebel Exp $
a11 2

MAINTAINER=	ports@@openbsd.org
@


1.26
log
@devel: COMMENT is out, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/04/18 15:01:08 espie Exp $
d23 1
@


1.25
log
@Fix USE_MOTIF, especially for those ports with `motif' flavors.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.24 2000/12/19 15:26:16 espie Exp $
d7 1
a7 1
NEED_VERSION=	1.400
@


1.24
log
@Missed by cvs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/08/19 16:32:33 kevlo Exp $
d5 1
a5 1
NEED_VERSION=	1.319
d18 1
a18 1
USE_MOTIF=	Yes
@


1.23
log
@Mark broken. The lastest version still has a lot of tmpnam() warnings.
My fault, sorry espie@@.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.22 2000/08/18 20:45:07 brad Exp $

BROKEN=		"Lots of genuine tmpnam() warnings"
d20 1
a20 1
CONFIGURE_STYLE= gnu dest
d23 2
@


1.22
log
@style
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.21 2000/08/17 05:47:24 kevlo Exp $
@


1.21
log
@- Mark unbroken
- Update to version 3.2.1
- Remove USE_X11 and FAKE; USE_CONFIGURE -> CONFIGURE_STYLE
- Add HOMEPAGE; add @@comment to package list
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/03/12 02:16:27 espie Exp $
d6 2
a10 3
MASTER_SITES=   ${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR= ddd

d20 1
a20 1
CONFIGURE_STYLE=	gnu dest
d33 2
d38 1
a38 5
	${INSTALL_DATA} ${WRKSRC}/doc/README ${PREFIX}/share/doc/ddd
	${INSTALL_DATA} ${WRKSRC}/doc/ddd-paper.ps ${PREFIX}/share/doc/ddd
	${INSTALL_DATA} ${WRKSRC}/doc/ddd.ps ${PREFIX}/share/doc/ddd
	${INSTALL_DATA} ${WRKSRC}/doc/sample.c ${PREFIX}/share/doc/ddd
	${INSTALL_DATA} ${WRKSRC}/doc/sample.dddinit ${PREFIX}/share/doc/ddd
d43 1
a43 1
	@@cd ${WRKSRC}; ${MAKE_PROGRAM} check
@


1.20
log
@Fake.

Mark as BROKEN, *no-one* has even tried to fix the numerous tmpnam() warnings
yet, which are OBVIOUS, ACTUAL SECURITY RISKS in every case.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/02/15 05:04:11 turan Exp $
d3 1
a3 1
DISTNAME=	ddd-3.2
d5 4
a11 4

# The security of this port is really bad
BROKEN=		"Lots of genuine tmpnam() warnings"

a13 1
LICENSE_TYPE=		GPL
d21 1
a21 4
#USE_X11=	yes
FAKE=		Yes
HAS_CONFIGURE=	yes
CONFIGURE_ARGS=--prefix='$${DESTDIR}${PREFIX}' --sysconfdir='$${DESTDIR}/etc'
@


1.19
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/02/12 08:02:13 turan Exp $
d8 4
d15 11
a25 9
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES

USE_MOTIF=	yes
USE_GMAKE=	yes
USE_X11=	yes
GNU_CONFIGURE=	yes
a47 1
	@@install-info ${PREFIX}/info/ddd.info ${PREFIX}/info/dir
@


1.18
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/02/11 05:50:24 kevlo Exp $
d11 4
a14 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.17
log
@Mark it unbroken. Upgrade to version 3.2 and change the MASTER_SITES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/02/11 03:01:54 turan Exp $
d9 6
@


1.16
log
@broken, sources moved
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/01/01 00:15:50 brad Exp $
d3 1
a3 3
BROKEN=		sources moved

DISTNAME=	ddd-3.1.90
d5 2
a6 1
MASTER_SITES=	ftp://ftp.th-darmstadt.de/pub/programming/tools/ddd/src/
@


1.15
log
@- remove bad dist sites
- change MAINTAINER to ports@@
- make sure to run install-info from post-install target
- remove unnecessary @@mode tags from PLIST
- install some extra documentation for ddd
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.14 1999/12/03 14:24:38 espie Exp $
@


1.14
log
@Kill USE_EGCC/USE_EGXX, since 2.6 includes both as standard compilers.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/12/03 08:03:28 kevlo Exp $
d5 1
a5 5
MASTER_SITES=	ftp://ftp.ips.cs.tu-bs.de/pub/local/softech/ddd/src/  \
		ftp://uiarchive.cso.uiuc.edu/pub/packages/ddd/src/  \
		ftp://ftp.gre.ac.uk/pub/tools/debuggers/ddd/src/  \
		ftp://richb-pc.acc.qc.edu/pub/ddd/src/  \
		ftp://ftp.th-darmstadt.de/pub/programming/tools/ddd/src/
d7 1
a7 1
MAINTAINER=	marc@@openbsd.org
d25 12
d38 1
a38 1
	@@cd ${WRKSRC}; ${GMAKE} check
@


1.13
log
@Update to version 3.1.90 and the PLIST file.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/09/21 16:34:09 brad Exp $
a13 2
USE_EGCC=	yes
USE_EGXX=	yes
@


1.12
log
@patches are no longer required to compile with EGCS/GCC 2.95.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/09/18 10:44:12 turan Exp $
d3 1
a3 1
DISTNAME=	ddd-3.1.6
@


1.11
log
@broken, patches do not apply
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.10 1999/08/21 16:27:59 brad Exp $

BROKEN=		"patches do not apply"
d32 1
a32 5
.if defined(USE_GMAKE)
	@@cd ${WRKSRC} && ${GMAKE} check
.else
	@@cd ${WRKSRC} && ${MAKE} check
.endif
@


1.10
log
@upgrade to ddd 3.1.6
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.9 1999/07/05 05:57:00 espie Exp $
@


1.9
log
@Update to 3.1.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/04/01 06:20:06 brad Exp $
d3 1
a3 1
DISTNAME=	ddd-3.1.5
d5 5
a12 5
MASTER_SITES=	ftp://ftp.archive.de.uu.net/pub/programming/debuggers/ddd/ \
		ftp://ftp.ips.cs.tu-bs.de/pub/local/softech/ddd/

# Library dependencies
#
d14 2
a15 2
USE_EGCC=yes
USE_EGXX=yes
@


1.8
log
@fix dependency lists, fix email address's and remove unnecessary comments
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/03/21 07:18:36 fgsch Exp $
d3 1
a3 1
DISTNAME=	ddd-3.1.3
d14 2
@


1.7
log
@Use version 3.1.3.
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.6 1999/03/14 17:52:47 espie Exp $
#
@


1.6
log
@To fix, don't waste bandwidth retrieving older version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1998/12/09 04:07:46 marc Exp $
d4 1
a4 1
DISTNAME=	ddd-3.1.1
a6 1
BROKEN="Newer version available"
@


1.5
log
@update to version 3.1.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1998/10/08 18:26:40 marc Exp $
d7 1
@


1.4
log
@update makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1998/06/30 23:52:32 marc Exp $
d4 2
a5 2
DISTNAME=       	ddd-3.0
CATEGORIES=		devel
d7 1
a7 1
MAINTAINER=		marc@@openbsd.org
d9 2
a10 2
MASTER_SITES=   	ftp://uiarchive.cso.uiuc.edu/pub/packages/ddd/ \
			ftp://ftp.ips.cs.tu-bs.de/pub/local/softech/ddd/
d14 6
a19 6
LIB_DEPENDS=		Xm\\.1\\.:${PORTSDIR}/x11/lesstif
USE_GMAKE=		yes
USE_X11=		yes
GNU_CONFIGURE=		yes
CONFIGURE_ENV=		${SETENV} INSTALL_PROGRAM="${INSTALL_PROGRAM}" \
			INSTALL_DATA="${INSTALL_DATA}"
@


1.3
log
@update to version 3.0
@
text
@d1 1
a1 6
# OpenBSD makefile for:	DDD - Data Display Debugger
# Version required:     2.2.3
# Date created:		December 29, 1997
# Whom:			Peter Reich
#
# $OpenBSD: Makefile,v 1.2 1998/06/13 23:26:38 marc Exp $
a12 1
# Xpm is part of 2.3 and later
a14 6
OS_RELEASE!=		uname -r
OS_HAS_XPM=		2.3
.if ( ${OS_RELEASE} < ${OS_HAS_XPM} )
LIB_DEPENDS+=		Xpm\\.4\\.:${PORTSDIR}/graphics/xpm
.endif

@


1.2
log
@don't depend on the ports libxpm unless os release < 2.3;
libXpm is standard with 2.3
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/05/22 23:55:12 marc Exp $
d9 1
a9 2
DISTNAME=       	ddd-2.2.3
DIST_SUBDIR=		ddd
d14 2
a15 3
MASTER_SITES=   	ftp://ftp.ips.cs.tu-bs.de/pub/local/softech/ddd/
PATCH_SITES=		ftp://ftp.ips.cs.tu-bs.de/pub/local/softech/ddd/patches/ddd-2.2.3/
PATCHFILES=		gdb-options
d27 1
d30 2
d35 1
a35 1
	@@echo "*** WARNING: you may see an error such as
d43 3
d47 1
a49 7

# The distribution patch file does not name the file to patch nor is it
# relative to ${WRKSRC}.  This hack will work since there is only one patch
# file, but will break if a subsequent distribution patch file is needed.
#
PATCH_DIST_ARGS+=	ddd/ddd.C

@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD:$
d24 2
a25 2
OS_NO_XPM=		2.2
.if ( ${OS_RELEASE} <= ${OS_NO_XPM} )
@


1.1.1.1
log
@ddd 2.2.3 from  Peter Reich <Peter.Reich@@Fernuni-hagen.de> plus tweaks
@
text
@@
