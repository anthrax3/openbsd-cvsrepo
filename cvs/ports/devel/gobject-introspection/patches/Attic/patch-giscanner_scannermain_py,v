head	1.6;
access;
symbols
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2013.12.14.09.16.49;	author ajacoutot;	state dead;
branches;
next	1.5;

1.5
date	2013.09.26.06.27.49;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.28.19.32.11;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2012.03.29.06.29.08;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.09.21.13.59.21;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.04.07.09.38.12;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Merge some patches from upstream and remove some local modifications:
- if CC is not set, fall back to cc
- do not forcibly add ${X11BASE}/include nor ${LOCALBASE}/include, now
the scanner is supposed to properly pass CFLAGS
- forcing -pthread should not be needed anymore

Tested with a handful of ports that were known to need these tweaks.
Any regression, please let me know directly.

ok jasper@@
@
text
@$OpenBSD: patch-giscanner_scannermain_py,v 1.5 2013/09/26 06:27:49 jasper Exp $

Prime the scanner with two common directories for includes.

--- giscanner/scannermain.py.orig	Wed Jul 10 18:13:23 2013
+++ giscanner/scannermain.py	Wed Sep 25 09:24:11 2013
@@@@ -253,6 +253,8 @@@@ def process_packages(options, packages):
     parser = _get_option_parser()
     pkg_options, unused = parser.parse_args(filtered_output)
     options.cpp_includes.extend(pkg_options.cpp_includes)
+    options.cpp_includes.append('${X11BASE}/include')
+    options.cpp_includes.append('${LOCALBASE}/include')
     options.cpp_defines.extend(pkg_options.cpp_defines)
     options.cpp_undefines.extend(pkg_options.cpp_undefines)
 
@


1.5
log
@- update to gobject-introspection-1.38.0
@
text
@d1 1
a1 1
$OpenBSD: patch-giscanner_scannermain_py,v 1.4 2013/03/28 19:32:11 jasper Exp $
@


1.4
log
@- update to gobject-introspection 1.36.0

ok aja@@
@
text
@d1 1
a1 1
$OpenBSD: patch-giscanner_scannermain_py,v 1.3 2012/03/29 06:29:08 ajacoutot Exp $
d5 3
a7 3
--- giscanner/scannermain.py.orig	Wed Mar  6 23:53:19 2013
+++ giscanner/scannermain.py	Tue Mar 26 17:12:03 2013
@@@@ -245,6 +245,8 @@@@ def process_packages(options, packages):
@


1.3
log
@Update to gobject-introspection-1.31.22.
@
text
@d1 1
a1 1
$OpenBSD: patch-giscanner_scannermain_py,v 1.2 2011/09/21 13:59:21 jasper Exp $
d5 3
a7 3
--- giscanner/scannermain.py.orig	Wed Oct 19 20:38:53 2011
+++ giscanner/scannermain.py	Fri Mar 23 15:34:07 2012
@@@@ -231,6 +231,8 @@@@ def process_packages(options, packages):
@


1.2
log
@- update to 1.30.0

there is some known fallout, which we're working on.
@
text
@d1 1
a1 1
$OpenBSD: patch-giscanner_scannermain_py,v 1.1 2011/04/07 09:38:12 jasper Exp $
d5 3
a7 3
--- giscanner/scannermain.py.orig	Fri Sep  9 22:48:44 2011
+++ giscanner/scannermain.py	Tue Sep 20 23:53:34 2011
@@@@ -228,6 +228,8 @@@@ def process_packages(options, packages):
@


1.1
log
@- prime the scanner to search in ${X11BASE}/include and ${LOCALBASE}/include

ok aja@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- giscanner/scannermain.py.orig	Wed Nov 17 22:32:04 2010
+++ giscanner/scannermain.py	Thu Apr  7 11:25:35 2011
@@@@ -216,6 +216,8 @@@@ def process_packages(options, packages):
@

