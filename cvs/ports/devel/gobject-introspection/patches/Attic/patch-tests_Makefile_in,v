head	1.7;
access;
symbols
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3;
locks; strict;
comment	@# @;


1.7
date	2011.04.07.14.50.22;	author ajacoutot;	state dead;
branches;
next	1.6;

1.6
date	2011.04.07.09.28.32;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.03.30.17.53.30;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.03.02.06.35.23;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2010.12.23.14.34.49;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2010.10.24.13.40.27;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2010.09.07.11.39.12;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Re-enable tests now that they work on sparc64. This allows use to generate
regress.c amongst other things.

ok jasper@@
@
text
@$OpenBSD: patch-tests_Makefile_in,v 1.6 2011/04/07 09:28:32 jasper Exp $

Don't enter scanner/, it's causing us to crash on sparc64 with:
../../tools/g-ir-generate --includedir=. --includedir=../../gir annotation-1.0.typelib -o annotation-1.0.tgir
gmake[3]: *** [annotation-1.0.tgir] Segmentation fault (core dumped)

From OpenSolaris' gobject-introspection-02-test-scanner.diff

--- tests/Makefile.in.orig	Wed Mar 30 22:37:03 2011
+++ tests/Makefile.in	Thu Apr  7 11:02:53 2011
@@@@ -352,7 +352,7 @@@@ INTROSPECTION_COMPILER_ARGS = \
     --includedir=$(builddir) \
     --includedir=$(top_builddir)
 
-SUBDIRS = . scanner repository offsets warn
+SUBDIRS = . repository offsets warn
 EXTRA_DIST = gimarshallingtests.h
 BUILT_SOURCES = everything.c everything.h Everything-1.0.gir \
 	GIMarshallingTests-1.0.gir
@


1.6
log
@- update to 0.10.7

ok aja@@
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_Makefile_in,v 1.5 2011/03/30 17:53:30 jasper Exp $
@


1.5
log
@- bugfix update of gobject-introspection to 0.10.6
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_Makefile_in,v 1.4 2011/03/02 06:35:23 jasper Exp $
d9 3
a11 3
--- tests/Makefile.in.orig	Sat Mar 26 00:00:22 2011
+++ tests/Makefile.in	Wed Mar 30 19:29:09 2011
@@@@ -355,7 +355,7 @@@@ INTROSPECTION_COMPILER_ARGS = \
@


1.4
log
@- update gobject-introspection to 0.10.3
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_Makefile_in,v 1.3 2010/12/23 14:34:49 jasper Exp $
d9 3
a11 3
--- tests/Makefile.in.orig	Wed Feb 23 16:27:05 2011
+++ tests/Makefile.in	Wed Feb 23 16:49:46 2011
@@@@ -350,7 +350,7 @@@@ INTROSPECTION_COMPILER_ARGS = \
@


1.3
log
@- update gobject-introspection to 0.10.0

ok aja@@
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_Makefile_in,v 1.2 2010/10/24 13:40:27 jasper Exp $
d9 3
a11 3
--- tests/Makefile.in.orig	Wed Dec 22 21:20:46 2010
+++ tests/Makefile.in	Thu Dec 23 15:21:17 2010
@@@@ -351,7 +351,7 @@@@ INTROSPECTION_COMPILER_ARGS = \
@


1.2
log
@- update gobject-introspection to 0.9.12 (development release needed by folks)

teeth-grindingly ok'd by aja
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_Makefile_in,v 1.1 2010/09/07 11:39:12 jasper Exp $
d9 3
a11 3
--- tests/Makefile.in.orig	Wed Oct  6 22:54:26 2010
+++ tests/Makefile.in	Sun Oct 24 15:03:00 2010
@@@@ -346,7 +346,7 @@@@ INTROSPECTION_COMPILER_ARGS = \
d13 1
a13 1
     --includedir=$(top_builddir)/gir
@


1.1
log
@- slightly improve the situation on sparc64:
* extend the DO_ALIGNED_COPY usage from girnode.c into ginfo.c
(freebsd seems to do the same)
* skips tests/scanner/ as opensolaris and several other distributions do,
this prevents g-ir-repository SIGBUSing there and allows the build to succeed.

it's not really a great improvement (apart from ginfo.c patch), but at least
it allows things to move forward, and gobject-introspection isn't enabled yet
in other ports.

ok ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD$
d9 5
a13 9
--- tests/Makefile.in.orig	Tue Sep  7 13:07:36 2010
+++ tests/Makefile.in	Tue Sep  7 13:07:40 2010
@@@@ -255,7 +255,7 @@@@ target_alias = @@target_alias@@
 top_build_prefix = @@top_build_prefix@@
 top_builddir = @@top_builddir@@
 top_srcdir = @@top_srcdir@@
-SUBDIRS = . scanner repository invoke offsets
+SUBDIRS = . repository invoke offsets
 all: all-recursive
d15 5
a19 1
 .SUFFIXES:
@

