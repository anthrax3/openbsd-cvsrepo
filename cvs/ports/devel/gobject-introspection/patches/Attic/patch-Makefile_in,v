head	1.15;
access;
symbols
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.2
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3;
locks; strict;
comment	@# @;


1.15
date	2012.03.29.06.29.08;	author ajacoutot;	state dead;
branches;
next	1.14;

1.14
date	2011.12.05.10.27.15;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2011.09.21.13.59.21;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2011.05.14.11.22.12;	author ajacoutot;	state dead;
branches;
next	1.11;

1.11
date	2011.04.25.11.43.17;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.04.07.16.16.21;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2011.04.07.15.19.34;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.04.07.14.53.52;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2011.04.07.14.50.22;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2011.04.07.09.28.32;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.03.30.17.53.29;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.03.02.06.35.23;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2011.01.13.08.08.47;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2010.12.23.14.34.49;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.24.13.40.27;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.15
log
@Update to gobject-introspection-1.31.22.
@
text
@$OpenBSD: patch-Makefile_in,v 1.14 2011/12/05 10:27:15 jasper Exp $

From acc84ac7ed78255c261c6d1d1eb3c916173ba681 Mon Sep 17 00:00:00 2001
From: Jasper Lievisse Adriaanse <jasper@@humppa.nl>
Date: Mon, 05 Dec 2011 10:20:57 +0000
Subject: - Fix a substitution:

use TOOL_SUBSTITUTIONS like the others, to fix an unsubstitued @@datarootdir@@ in g-ir-doc-tool

https://bugzilla.gnome.org/show_bug.cgi?id=659649

--- Makefile.in.orig	Tue Sep 20 23:14:47 2011
+++ Makefile.in	Mon Dec  5 11:24:02 2011
@@@@ -2869,7 +2869,7 @@@@ g-ir-annotation-tool: tools/g-ir-annotation-tool.in _g
 	@@chmod a+x $@@
 
 g-ir-doc-tool: tools/g-ir-doc-tool.in _giscanner.la Makefile
-	$(AM_V_GEN) sed -e s,@@libdir\@@,$(libdir), -e s,@@PYTHON\@@,$(PYTHON), $< > $@@.tmp && mv $@@.tmp $@@
+	$(AM_V_GEN) $(TOOL_SUBSTITUTIONS) $< > $@@.tmp && mv $@@.tmp $@@
 	@@chmod a+x $@@
 
 check-local:
@


1.14
log
@- sync with what i pushed upstream; no pkg change.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.13 2011/09/21 13:59:21 jasper Exp $
@


1.13
log
@- update to 1.30.0

there is some known fallout, which we're working on.
@
text
@d1 1
a1 1
$OpenBSD$
d3 8
a10 1
https://bugzilla.gnome.org/show_bug.cgi?id=659649 
d13 1
a13 1
+++ Makefile.in	Wed Sep 21 00:24:45 2011
d19 1
a19 1
+	$(AM_V_GEN) sed -e s,@@libdir\@@,$(libdir), -e s,@@PYTHON\@@,$(PYTHON), -e s,@@datarootdir\@@,$(datarootdir), $< > $@@.tmp && mv $@@.tmp $@@
@


1.12
log
@Install files where they belong too (i.e. don't move out from default).
@
text
@d1 8
a8 5
$OpenBSD: patch-Makefile_in,v 1.11 2011/04/25 11:43:17 jasper Exp $
--- Makefile.in.orig	Thu Apr 21 15:37:01 2011
+++ Makefile.in	Thu Apr 21 16:01:49 2011
@@@@ -537,7 +537,7 @@@@ oldincludedir = @@oldincludedir@@
 pdfdir = @@pdfdir@@
d10 6
a15 6
 # Python module
-pkgpyexecdir = $(pkglibdir)/giscanner
+pkgpyexecdir = @@pkgpythondir@@/giscanner
 pkgpythondir = @@pkgpythondir@@
 prefix = @@prefix@@
 program_transform_name = @@program_transform_name@@
@


1.11
log
@- update to 0.10.8

ok aja@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.10 2011/04/07 16:16:21 ajacoutot Exp $
@


1.10
log
@Remove now unneeded patches.

ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.9 2011/04/07 15:19:34 jasper Exp $
--- Makefile.in.orig	Wed Mar 30 22:37:04 2011
+++ Makefile.in	Thu Apr  7 11:02:53 2011
@@@@ -539,7 +539,7 @@@@ oldincludedir = @@oldincludedir@@
@


1.9
log
@- remove chunk that's unneeded since we prime girscanner already
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.8 2011/04/07 14:53:52 jasper Exp $
a12 9
@@@@ -614,7 +614,7 @@@@ _gir_includes = $(foreach include,$($(_gir_name)_INCLU
 _gir_export_packages = $(foreach pkg,$($(_gir_name)_EXPORT_PACKAGES),--pkg-export=$(pkg))
 
 # Reuse the LIBTOOL variable from by automake if it's set
-_gir_libtool = $(if $(LIBTOOL),--libtool="$(LIBTOOL)")
+_gir_libtool = $(if $(LIBTOOL),--libtool="${LIBTOOL}")
 
 # Macros for AM_SILENT_RULES prettiness
 _gir_verbosity = $(if $(AM_DEFAULT_VERBOSITY),$(AM_DEFAULT_VERBOSITY),1)
@


1.8
log
@adjust comment after previous commit
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.7 2011/04/07 14:50:22 ajacoutot Exp $
a21 8
@@@@ -2702,6 +2702,7 @@@@ $(1): $$($(_gir_name)_FILES)
 	  $(_gir_libtool) \
 	  $(_gir_packages) \
 	  $(_gir_includes) \
+	  -I${LOCALBASE}/include \
 	  $(_gir_export_packages) \
 	  $(_gir_program) \
 	  $(_gir_libraries) \
@


1.7
log
@Re-enable tests now that they work on sparc64. This allows use to generate
regress.c amongst other things.

ok jasper@@
@
text
@d1 1
a1 5
$OpenBSD: patch-Makefile_in,v 1.6 2011/04/07 09:28:32 jasper Exp $

Too much libtool abuse going on in tests/ needs to be sorted out
first before entering again.

@


1.6
log
@- update to 0.10.7

ok aja@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.5 2011/03/30 17:53:29 jasper Exp $
a25 9
@@@@ -1005,7 +1005,7 @@@@ GCOVSOURCES = \
 	$(g_ir_generate_SOURCES)
 
 ACLOCAL_AMFLAGS = -I m4
-SUBDIRS = . docs tests
+SUBDIRS = . docs #tests
 DIST_SUBDIRS = m4 $(SUBDIRS)
 DISTCHECK_CONFIGURE_FLAGS = --enable-gtk-doc
 pkgconfigdir = $(libdir)/pkgconfig
@


1.5
log
@- bugfix update of gobject-introspection to 0.10.6
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.4 2011/03/02 06:35:23 jasper Exp $
d6 3
a8 3
--- Makefile.in.orig	Sat Mar 26 01:39:21 2011
+++ Makefile.in	Wed Mar 30 19:29:09 2011
@@@@ -542,7 +542,7 @@@@ oldincludedir = @@oldincludedir@@
d17 1
a17 1
@@@@ -617,7 +617,7 @@@@ _gir_includes = $(foreach include,$($(_gir_name)_INCLU
d26 1
a26 1
@@@@ -1008,7 +1008,7 @@@@ GCOVSOURCES = \
d35 1
a35 1
@@@@ -2705,6 +2705,7 @@@@ $(1): $$($(_gir_name)_FILES)
@


1.4
log
@- update gobject-introspection to 0.10.3
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.3 2011/01/13 08:08:47 jasper Exp $
d6 3
a8 3
--- Makefile.in.orig	Wed Feb 23 16:27:06 2011
+++ Makefile.in	Wed Feb 23 16:49:46 2011
@@@@ -539,7 +539,7 @@@@ oldincludedir = @@oldincludedir@@
d17 1
a17 1
@@@@ -613,7 +613,7 @@@@ _gir_includes = $(foreach include,$($(_gir_name)_INCLU
d26 1
a26 1
@@@@ -1004,7 +1004,7 @@@@ GCOVSOURCES = \
d35 1
a35 1
@@@@ -2703,6 +2703,7 @@@@ $(1): $$($(_gir_name)_FILES)
@


1.3
log
@- bugfix update gobject-introspection to 0.10.1
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.2 2010/12/23 14:34:49 jasper Exp $
d6 3
a8 3
--- Makefile.in.orig	Tue Jan 11 19:42:18 2011
+++ Makefile.in	Thu Jan 13 08:49:15 2011
@@@@ -538,7 +538,7 @@@@ oldincludedir = @@oldincludedir@@
d17 1
a17 1
@@@@ -612,7 +612,7 @@@@ _gir_includes = $(foreach include,$($(_gir_name)_INCLU
d26 1
a26 1
@@@@ -1003,7 +1003,7 @@@@ GCOVSOURCES = \
d35 1
a35 1
@@@@ -2700,6 +2700,7 @@@@ $(1): $$($(_gir_name)_FILES)
@


1.2
log
@- update gobject-introspection to 0.10.0

ok aja@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.1 2010/10/24 13:40:27 jasper Exp $
d6 2
a7 2
--- Makefile.in.orig	Thu Dec 23 15:05:01 2010
+++ Makefile.in	Thu Dec 23 15:07:17 2010
d26 1
a26 1
@@@@ -1001,7 +1001,7 @@@@ GCOVSOURCES = \
d35 1
a35 1
@@@@ -2698,6 +2698,7 @@@@ $(1): $$($(_gir_name)_FILES)
@


1.1
log
@- update gobject-introspection to 0.9.12 (development release needed by folks)

teeth-grindingly ok'd by aja
@
text
@d1 1
a1 1
$OpenBSD$
d6 23
a28 5
--- Makefile.in.orig	Wed Oct  6 22:54:28 2010
+++ Makefile.in	Sun Oct 24 15:03:00 2010
@@@@ -305,7 +305,7 @@@@ top_build_prefix = @@top_build_prefix@@
 top_builddir = @@top_builddir@@
 top_srcdir = @@top_srcdir@@
d30 2
a31 2
-SUBDIRS = girepository giscanner tools gir docs tests examples
+SUBDIRS = girepository giscanner tools gir docs examples
d34 9
a42 1
 man_MANS = \
@

