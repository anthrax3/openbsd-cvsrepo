head	1.34;
access;
symbols
	OPENBSD_6_0:1.30.0.2
	OPENBSD_6_0_BASE:1.30
	OPENBSD_5_9:1.29.0.2
	OPENBSD_5_9_BASE:1.29
	OPENBSD_5_8:1.28.0.4
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.27.0.6
	OPENBSD_5_7_BASE:1.27
	OPENBSD_5_6:1.27.0.4
	OPENBSD_5_6_BASE:1.27
	OPENBSD_5_5:1.27.0.2
	OPENBSD_5_5_BASE:1.27
	OPENBSD_5_4:1.26.0.2
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.23.0.2
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.22.0.4
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.22
	OPENBSD_5_1:1.22.0.2
	OPENBSD_5_0:1.21.0.2
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.19.0.2
	OPENBSD_4_9_BASE:1.19
	OPENBSD_4_8:1.11.0.2
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.8.0.2
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.6.0.2
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	ajacoutot_20080114:1.1.1.1
	simon:1.1.1;
locks; strict;
comment	@# @;


1.34
date	2017.03.02.15.10.15;	author espie;	state Exp;
branches;
next	1.33;
commitid	AhtRgZAevDtLTML7;

1.33
date	2017.01.03.19.19.49;	author landry;	state Exp;
branches;
next	1.32;
commitid	NkZaP5skFWQkYqhM;

1.32
date	2016.08.30.15.59.24;	author landry;	state Exp;
branches;
next	1.31;
commitid	D9GognQSFmuMKRYN;

1.31
date	2016.08.12.08.37.37;	author jasper;	state Exp;
branches;
next	1.30;
commitid	TFptOwUGmkF0Id0G;

1.30
date	2016.03.20.16.12.23;	author naddy;	state Exp;
branches;
next	1.29;
commitid	guiZq8cnNbVyyHzx;

1.29
date	2015.08.20.10.02.25;	author sthen;	state Exp;
branches;
next	1.28;
commitid	a5UBBYK1SeBufcaN;

1.28
date	2015.06.26.13.03.36;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	7KhDhO3rlxBXFtWz;

1.27
date	2013.11.08.22.37.16;	author sthen;	state Exp;
branches;
next	1.26;

1.26
date	2013.06.15.19.57.18;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2013.06.15.11.52.36;	author bcallah;	state Exp;
branches;
next	1.24;

1.24
date	2013.03.11.10.50.26;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2012.11.01.22.53.35;	author sthen;	state Exp;
branches;
next	1.22;

1.22
date	2011.09.16.09.24.56;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2011.06.08.17.39.25;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2011.05.17.08.29.45;	author dcoppa;	state Exp;
branches;
next	1.19;

1.19
date	2011.01.12.13.49.32;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2010.11.01.10.39.40;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2010.10.28.14.56.24;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.09.07.08.57.34;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2010.09.01.10.49.49;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2010.08.30.22.24.15;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2010.08.30.10.17.14;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2010.08.30.07.16.39;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2010.04.19.14.14.34;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.04.19.09.37.49;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.04.12.20.06.50;	author dcoppa;	state Exp;
branches;
next	1.8;

1.8
date	2009.09.09.14.11.27;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2009.09.05.16.17.35;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2009.06.03.18.20.51;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2009.03.11.21.49.39;	author bernd;	state Exp;
branches;
next	1.4;

1.4
date	2008.01.15.21.16.24;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.01.15.08.07.27;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.01.14.18.08.30;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.01.14.14.44.11;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.01.14.14.44.11;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.34
log
@unhardcode the gcc/g++ names
@
text
@# $OpenBSD: Makefile,v 1.33 2017/01/03 19:19:49 landry Exp $

COMMENT=	automatically generate Python bindings for C and C++ libs

# XXX Be particularly careful when testing updates.
#     API breaks often.

DISTNAME=	sip-4.18.1
PKGNAME=	py-${DISTNAME}
CATEGORIES=	devel
REVISION=	1

HOMEPAGE=	http://www.riverbankcomputing.co.uk/software/sip/intro

# SIP license (Python like)
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	m c stdc++

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=pyqt/}

MODULES=	lang/python

FLAVORS =	python3
FLAVOR ?=

CONFIGURE_STYLE=simple
CONFIGURE_SCRIPT=${MODPY_BIN} configure.py
CONFIGURE_ARGS=	-b ${PREFIX}/bin \
		-d ${MODPY_SITEPKG} \
		-e ${MODPY_INCDIR} \
		-v ${PREFIX}/share/sip \
		INCDIR=${LOCALBASE}/include \
		LIBDIR=${LOCALBASE}/lib \
		CC=${CC} CXX=${CXX} \
		CFLAGS="${CFLAGS}" \
		CXXFLAGS="${CXXFLAGS}"

NO_TEST=	Yes

SUBST_VARS +=	MODPY_LIB_SUFFIX

post-install:
	${MODPY_BIN} ${MODPY_LIBDIR}/compileall.py ${WRKINST}${MODPY_SITEPKG}
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/${MODPY_PY_PREFIX}sip
	${INSTALL_DATA} ${WRKSRC}/doc/html/_sources/* ${PREFIX}/share/doc/${MODPY_PY_PREFIX}sip
	mv -f ${PREFIX}/bin/sip ${PREFIX}/bin/sip${MODPY_BIN_SUFFIX}

.include <bsd.port.mk>
@


1.33
log
@bump ports depending on python3 in devel
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2016/08/30 15:59:24 landry Exp $
d11 1
a11 1
REVISION=	0
@


1.32
log
@Update to py-sip 4.18.1

As usual, things tend to break at runtime with sip, at least qgis and
tortoisehg have been tested. Yell if your favourite app breaks.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2016/08/12 08:37:37 jasper Exp $
d11 1
@


1.31
log
@add python3 flavor

ok shadchin@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/03/20 16:12:23 naddy Exp $
d8 1
a8 1
DISTNAME=	sip-4.16.8
a9 1
REVISION=	0
@


1.30
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/08/20 10:02:25 sthen Exp $
d5 1
a5 1
# XXX Be particularly careful when testing updates. 
d10 1
d24 3
d41 2
d45 3
a47 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/py-sip
	${INSTALL_DATA} ${WRKSRC}/doc/html/_sources/* ${PREFIX}/share/doc/py-sip
@


1.29
log
@add XXX warnings because the API changes frequently in these ports,
breaking things - and like the recently fixed problem with calibre these
are often only seen at runtime.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.28 2015/06/26 13:03:36 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.28
log
@Update to py-sip-4.16.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/11/08 22:37:16 sthen Exp $
d6 3
@


1.27
log
@update to py-sip 4.15.3

part of a short commit spree, there will be some slight ports tree
breakage until this is done.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.26 2013/06/15 19:57:18 espie Exp $

# XXX: Don't forget to update x11/py-qt4 when updating this port.
d7 1
a7 1
DISTNAME=	sip-4.15.3
@


1.26
log
@revert unintended update (which can't work without the proper distinfo
anyways)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/06/15 11:52:36 bcallah Exp $
d9 1
a9 1
DISTNAME=	sip-4.14.1
@


1.25
log
@Update comment, you only have to update py-qt4 now :)
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/03/11 10:50:26 espie Exp $
d9 1
a9 1
DISTNAME=	sip-4.14.6
@


1.24
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/11/01 22:53:35 sthen Exp $
d3 1
a3 1
# XXX: Don't forget to update x11/py-qt{3,4} when updating this port.
d9 1
a9 1
DISTNAME=	sip-4.14.1
@


1.23
log
@update to sip 4.14.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/09/16 09:24:56 espie Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d36 1
a36 1
NO_REGRESS=	Yes
@


1.22
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/06/08 17:39:25 jasper Exp $
a3 1
# XXX: Upstream doesn't keep old files; if updating please mirror or ask sthen@@
d9 1
a9 1
DISTNAME=	sip-4.12.2
a10 1
REVISION =	1
d23 1
a23 3
MASTER_SITES=	http://www.riverbankcomputing.co.uk/static/Downloads/sip4/ \
		http://spacehopper.org/mirrors/ \
		http://distfiles.nl/
@


1.21
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/05/17 08:29:45 dcoppa Exp $
d12 1
a12 1
REVISION =	0
@


1.20
log
@Update to sip-4.12.2.

Tested in a bulk build by landry@@
OK landry@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/01/12 13:49:32 jasper Exp $
d12 1
@


1.19
log
@- update py-sip to 4.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/11/01 10:39:40 jasper Exp $
d10 1
a10 1
DISTNAME=	sip-4.12
@


1.18
log
@- mirror distfile, so it's reachable again
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/10/28 14:56:24 espie Exp $
d10 1
a10 1
DISTNAME=	sip-4.11.2
@


1.17
log
@minor updates, synchs with qt 4.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/09/07 08:57:34 sthen Exp $
d25 2
a26 1
		http://spacehopper.org/mirrors/
@


1.16
log
@bug fix update to sip 4.11.1; ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/09/01 10:49:49 jasper Exp $
d10 1
a10 1
DISTNAME=	sip-4.11.1
@


1.15
log
@- update py-sip to 4.11

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/08/30 22:24:15 jasper Exp $
d10 1
a10 1
DISTNAME=	sip-4.11
@


1.14
log
@bumpski for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/08/30 10:17:14 sthen Exp $
d10 1
a10 1
DISTNAME=	sip-4.10.5
a11 1
REVISION =	0
@


1.13
log
@upstream for these is extra-annoying and removes old versions; mirror the
current distfiles and add a note asking people updating the port to do the
same. ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/08/30 07:16:39 jasper Exp $
d12 1
@


1.12
log
@- update py-sip to 4.10.5
- remove maintainer after several timeouts

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/04/19 14:14:34 espie Exp $
d4 1
d24 2
a25 1
MASTER_SITES=	http://www.riverbankcomputing.co.uk/static/Downloads/sip4/
@


1.11
log
@damn riverbank ! can't they keep distfiles for a few weeks ?
update again,  hoping those don't vanish tomorrow...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/04/19 09:37:49 espie Exp $
d9 1
a9 1
DISTNAME=	sip-4.10.2
a13 2

MAINTAINER=	Lars Hansson <lars@@unet.net.ph>
@


1.10
log
@update required to deal with qt4 (maintainer did not reply to requests ?)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/04/12 20:06:50 dcoppa Exp $
d9 1
a9 1
DISTNAME=	sip-4.10.1
@


1.9
log
@bytecode-compile the .py files; otherwise it gets done later, usually
at an inconvenient time (like when you build another port), and
leaves dangling .pyc after you pkg_delete.

Reported by naddy@@ after a bulk build and removal of all installed
ports.

OK ajacoutot@@, wcmaier@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/09/09 14:11:27 jasper Exp $
d9 2
a10 2
DISTNAME=	sip-4.8.2
PKGNAME=	py-${DISTNAME}p0
@


1.8
log
@- add a note about not forgetting to update py-qt{3,4} when touching
this port...as py-qt3 broke again..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/09/05 16:17:35 sthen Exp $
d10 1
a10 1
PKGNAME=	py-${DISTNAME}
d44 1
@


1.7
log
@Update to 4.8.2; ok landry@@, maintainer time out (not waiting
very long but this is needed to update py-qt4 which is currently broken).
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.6 2009/06/03 18:20:51 jasper Exp $
@


1.6
log
@- update py-sip to 4.7.9
- fix homepage

maintainer timed-out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/03/11 21:49:39 bernd Exp $
d7 1
a7 1
DISTNAME=	sip-4.7.9
d43 1
a43 2
	${INSTALL_DATA} ${WRKSRC}/doc/sipref.txt \
		${PREFIX}/share/doc/py-sip
@


1.5
log
@bump due to python dep changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/01/15 21:16:24 ajacoutot Exp $
d7 2
a8 2
DISTNAME=	sip-4.7.3
PKGNAME=	py-${DISTNAME}p1
d11 1
a11 1
HOMEPAGE=	http://www.riverbankcomputing.co.uk/sip/
d23 1
a23 1
MASTER_SITES=	http://www.riverbankcomputing.com/Downloads/sip4/
@


1.4
log
@- use -fPIC everywhere
(avoid arch-specific tweak whenever possible)

requested by steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/01/15 08:07:27 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	py-${DISTNAME}p0
@


1.3
log
@- fix build on amd64 (I should really get one of those)

spotted by and ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/01/14 18:08:30 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	py-${DISTNAME}
a23 4

.if ${MACHINE_ARCH} == "amd64"
PATCH_LIST=	patch-* fpic-patch-specs_openbsd-g++
.endif
@


1.2
log
@- explicitely set defaults paths
(this is just for consistency with upcoming py-qt3 and py-qt4;
no package change)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/01/14 14:44:11 ajacoutot Exp $
d24 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d29 5
a33 1
CONFIGURE_ARGS=	INCDIR=${LOCALBASE}/include \
@


1.1.1.1
log
@Import py-sip-4.7.3

SIP is a tool for automatically generating Python bindings for C and C++
libraries.
SIP comprises a code generator and a Python module.  The code generator
processes a set of specification files and generates C or C++ code which
is then compiled to create the bindings extension module.  The SIP
Python module provides support functions to the automatically generated
code.


from Lars Hansson <lars at unet dot net dot ph> via simon@@ with some tweaks by me
ok simon@@
@
text
@@
