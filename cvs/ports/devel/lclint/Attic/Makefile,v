head	1.33;
access;
symbols
	OPENBSD_3_2:1.32.0.4
	OPENBSD_3_2_BASE:1.32
	OPENBSD_3_1:1.32.0.2
	OPENBSD_3_1_BASE:1.32
	OPENBSD_3_0:1.28.0.2
	OPENBSD_3_0_BASE:1.28
	OPENBSD_2_9_TRACKING_SWITCH:1.24
	OPENBSD_2_9:1.23.0.2
	OPENBSD_2_9_BASE:1.23
	OPENBSD_2_8:1.21.0.2
	OPENBSD_2_8_BASE:1.21
	OPENBSD_2_7:1.17.0.2
	OPENBSD_2_7_BASE:1.17
	OPENBSD_2_6:1.7.0.2
	OPENBSD_2_6_BASE:1.7
	lclint-2_4b:1.1.1.1
	sds:1.1.1;
locks; strict;
comment	@# @;


1.33
date	2002.11.24.01.04.22;	author brad;	state dead;
branches;
next	1.32;

1.32
date	2002.03.24.23.07.24;	author brad;	state Exp;
branches;
next	1.31;

1.31
date	2002.03.21.20.46.25;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2002.02.26.17.35.51;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2002.02.24.00.01.50;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2001.10.05.14.22.50;	author naddy;	state Exp;
branches;
next	1.27;

1.27
date	2001.10.05.00.20.00;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2001.10.04.23.54.58;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2001.10.04.23.47.57;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2001.05.06.00.13.06;	author lebel;	state Exp;
branches;
next	1.23;

1.23
date	2001.03.23.15.56.04;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	2001.03.22.22.06.36;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2000.10.22.15.41.48;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2000.10.10.00.40.29;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2000.08.01.15.41.13;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2000.05.26.20.45.54;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2000.03.24.23.28.05;	author espie;	state Exp;
branches
	1.17.2.1;
next	1.16;

1.16
date	2000.03.12.01.52.45;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2000.03.12.00.25.22;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2000.03.05.18.30.25;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.02.15.05.04.13;	author turan;	state Exp;
branches;
next	1.12;

1.12
date	2000.02.13.07.03.18;	author turan;	state Exp;
branches;
next	1.11;

1.11
date	2000.02.12.09.33.58;	author turan;	state Exp;
branches;
next	1.10;

1.10
date	2000.02.12.08.41.08;	author turan;	state Exp;
branches;
next	1.9;

1.9
date	2000.02.12.08.02.14;	author turan;	state Exp;
branches;
next	1.8;

1.8
date	99.12.08.17.02.56;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	99.09.24.14.13.06;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	99.09.22.10.34.03;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	99.09.17.12.43.21;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	99.09.17.10.47.19;	author turan;	state Exp;
branches;
next	1.3;

1.3
date	99.06.16.13.49.34;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	99.06.16.04.44.21;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.06.07.23.37.56;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.06.07.23.37.56;	author espie;	state Exp;
branches;
next	;

1.17.2.1
date	2000.09.15.04.49.07;	author marc;	state Exp;
branches;
next	;


desc
@@


1.33
log
@more stubs.
@
text
@# $OpenBSD: Makefile,v 1.32 2002/03/24 23:07:24 brad Exp $

COMMENT=	"superseded by splint"

PKGNAME=	lclint
CATEGORIES=	devel
IGNORE=		"superseded by splint"

MAINTAINER=	Marc Espie <espie@@openbsd.org>

.include <bsd.port.mk>
@


1.32
log
@really stub this out.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2002/03/21 20:46:25 espie Exp $
@


1.31
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2002/02/26 17:35:51 espie Exp $
d5 1
a5 1
DISTNAME=	lclint-2.5r
d7 1
a7 2
NEED_VERSION=	1.515
DISTFILES=
a9 7

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

IGNORE=		"superseded by splint"
@


1.30
log
@Back to basics: IGNORE instead of BROKEN.
Also, set DISTFILES to nothing explicitly to placate mirror-maker.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2002/02/24 00:01:50 espie Exp $
d7 1
a7 1
NEED_VERSION=	1.470
@


1.29
log
@stub out lclint
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/10/05 14:22:50 naddy Exp $
d8 1
d17 1
a17 1
BROKEN=		"superseded by splint"
@


1.28
log
@fix master site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/10/05 00:20:00 espie Exp $
d3 1
a3 1
COMMENT=	"advanced lint: statically check C programs"
a7 8
#MASTER_SITES=	ftp://ftp.openbsd.org/pub/OpenBSD/distfiles/${DIST_SUBDIR}/
MASTER_SITES=	http://lclint.cs.virginia.edu/downloads/
MASTER_SITES0=	http://lclint.cs.virginia.edu/guide/

DIST_SUBDIR=	lclint
EXTRACT_ONLY=	${DISTNAME}.src.tar.gz
GUIDE=		lclint-guide.tar.gz
DISTFILES=	${EXTRACT_ONLY} ${GUIDE}:0
a10 3
# guide.tar.gz can be redistributed freely provided its contents are not
# altered.

a14 27
AUTHOR=		evans@@cs.virginia.edu # David Evans
BUGS=		lclint-bug@@sds.lcs.mit.edu
HOMEPAGE=	http://lclint.cs.virginia.edu/

# Has to use bison because lclint uses pure parsers
BUILD_DEPENDS=	::devel/bison

USE_GMAKE=	Yes
CONFIGURE_STYLE=gnu dest

DOCDIR=	${PREFIX}/share/doc/${DISTNAME}

post-patch:
	@@cd ${WRKSRC}/src && ${MAKE_PROGRAM} up

LIBSRC=${WRKSRC}/lib
LCLINT=${WRKBUILD}/bin/lclint

post-build:
	-cd ${LIBSRC} && rm *.orig
	cd ${LIBSRC} && $(LCLINT) -nolib ansi.h posix.h -dump posix
	cd ${LIBSRC} && $(LCLINT) -DSTRICT -nolib ansi.h posix.h -dump posixstrict
	cd ${LIBSRC} && $(LCLINT) -nolib ansi.h posix.h unix.h -dump unix
	cd ${LIBSRC} && $(LCLINT) -DSTRICT -nolib ansi.h posix.h unix.h -dump unixstrict
post-install:
	${INSTALL_DATA_DIR} ${DOCDIR}
	cd ${DOCDIR} && tar -zxv -s ,lclint-guide/,, -f ${FULLDISTDIR}/${GUIDE} 
d16 1
a16 2
REGRESS_DEPENDS=::devel/lclint
REGRESS_TARGET=test
@


1.27
log
@version 2.5r
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/10/04 23:54:58 espie Exp $
d9 1
a9 1
MASTER_SITES=	http://lclint.cs.virginia.edu/
@


1.26
log
@regression test.
Yep, there's nothing wrong about regress-depending on oneself. :)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/10/04 23:47:57 espie Exp $
d5 1
a5 1
DISTNAME=	lclint-2.5q
d7 3
a9 3
NEED_VERSION=	1.402
MASTER_SITES=	ftp://ftp.openbsd.org/pub/OpenBSD/distfiles/${DIST_SUBDIR}/
#MASTER_SITES=	http://lclint.cs.virginia.edu/
d31 1
a31 1
BUILD_DEPENDS=	bison::devel/bison
@


1.25
log
@master site is corrupt. Fortunately ftp.openbsd.org exists.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/05/06 00:13:06 lebel Exp $
d54 3
a56 3
test: install
	@@cd ${WRKSRC} && ${MAKE_PROGRAM} test
	
@


1.24
log
@devel: COMMENT is out, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/03/23 15:56:04 brad Exp $
d8 2
a9 1
MASTER_SITES=	http://lclint.cs.virginia.edu/
@


1.23
log
@gmake -> ${MAKE_PROGRAM}
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.22 2001/03/22 22:06:36 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.336
@


1.22
log
@- mkdir -> ${INSTALL_DATA_DIR}
- kill off FreeBSD-ism (NOPORTDOCS knob)
--
Patch from: Pete Fritchman <petef@@databits.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/10/22 15:41:48 espie Exp $
d5 1
a5 1
NEED_VERSION=	1.305
a18 1
LICENSE_TYPE=		GPL NONE
d36 1
a36 1
	@@cd ${WRKSRC}/src && gmake up
d52 1
a52 1
	@@cd ${WRKSRC} && gmake test
@


1.21
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/10/10 00:40:29 espie Exp $
d49 1
a49 1
	@@mkdir -p ${DOCDIR}
@


1.20
log
@Fix my address. Dust off details.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/08/01 15:41:13 espie Exp $
d5 1
a5 1
NEED_VERSION=	 1.230
d32 1
a32 3
HAS_CONFIGURE=	Yes
CONFIGURE_ARGS=--prefix='$${DESTDIR}${PREFIX}' --sysconfdir='$${DESTDIR}/etc'
FAKE=		Yes
@


1.19
log
@update to 2.5q
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/05/26 20:45:54 espie Exp $
d14 1
a14 1
MAINTAINER=	espie@@cvs.openbsd.org
@


1.18
log
@bug-fix version.
includes support for more gcc extensions, and a parser fix for
case :  without code.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/03/24 23:28:05 espie Exp $
d3 1
a3 1
DISTNAME=	lclint-2.5m
@


1.17
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/03/12 01:52:45 espie Exp $
d3 1
a3 1
DISTNAME=	lclint-2.4b
d6 2
a7 1
MASTER_SITES=	ftp://ftp.sds.lcs.mit.edu/pub/lclint/
d11 2
a12 2
GUIDE=		guide.tar.gz
DISTFILES=	${EXTRACT_ONLY} ${GUIDE}
d52 1
a52 1
	@@cd ${DOCDIR} && tar zxf ${FULLDISTDIR}/${GUIDE}
@


1.17.2.1
log
@bring devel as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/08/01 15:41:13 espie Exp $
d3 1
a3 1
DISTNAME=	lclint-2.5q
d6 1
a6 2
MASTER_SITES=	http://lclint.cs.virginia.edu/
MASTER_SITES0=	http://lclint.cs.virginia.edu/guide/
d10 2
a11 2
GUIDE=		lclint-guide.tar.gz
DISTFILES=	${EXTRACT_ONLY} ${GUIDE}:0
d51 1
a51 1
	cd ${DOCDIR} && tar -zxv -s ,lclint-guide/,, -f ${FULLDISTDIR}/${GUIDE} 
@


1.16
log
@Guide can be redistributed freely provided it's not tampered with.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/03/12 00:25:22 espie Exp $
d5 1
a5 1
NEED_VERSION=	1.223
d28 1
a28 1
BUILD_DEPENDS=	bison:devel/bison
@


1.15
log
@Fake
Clean up gperf PLIST
Check license info (lclint guide is packaged separately, but written
by David Evans... I sent a request for clarification, but I'm sure the
whole package is meant to be free)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/03/05 18:30:25 espie Exp $
d15 4
a18 1
LICENSE_TYPE=		GPL
@


1.14
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/02/15 05:04:13 turan Exp $
d15 6
a20 6
LICENSE_TYPE=		"GPL NONE"
PERMIT_PACKAGE_CDROM=	No
PERMIT_PACKAGE_FTP=	No
PERMIT_DISTFILES_CDROM=	No
PERMIT_DISTFILES_FTP=	No
AUTHOR=		evs@@sds.lcs.mit.edu # David Evans
d22 1
d28 3
a30 1
GNU_CONFIGURE=	Yes
@


1.13
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/02/13 07:03:18 turan Exp $
a2 1
NEED_VERSION=	1.116
d5 1
d16 4
a19 4
PERMIT_PACKAGE_CDROM=	NO
PERMIT_PACKAGE_FTP=	NO
PERMIT_DISTFILES_CDROM=	NO
PERMIT_DISTFILES_FTP=	NO
d24 1
a24 1
BUILD_DEPENDS=	bison:${PORTSDIR}/devel/bison
d26 2
a27 2
USE_GMAKE=	yes
GNU_CONFIGURE=	yes
d35 1
a35 1
LCLINT=${WRKSRC}/bin/lclint
@


1.12
log
@add NONE.  restrict distribution.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/02/12 09:33:58 turan Exp $
d16 4
a19 4
PERMIT_PKG_CDROM=	NO
PERMIT_PKG_FTP=		NO
PERMIT_DISTF_CDROM=	NO
PERMIT_DISTF_FTP=	NO
@


1.11
log
@dual GPL,NONE licenses, make the whole GPL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/02/12 08:41:08 turan Exp $
d15 5
a19 5
LICENSE_TYPE=		GPL
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.10
log
@none licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/02/12 08:02:14 turan Exp $
d15 1
a15 1
LICENSE_TYPE=		GPL/NONE
@


1.9
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/12/08 17:02:56 espie Exp $
d15 1
a15 1
LICENSE_TYPE=		GPL
@


1.8
log
@Don't depend on cookie, I'm ridiculous.

Kill deprecated variables while I'm at it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/09/24 14:13:06 espie Exp $
d14 6
@


1.7
log
@Fix posixlib idea of pipe (fd is an out parameter, obviously)
Arrange for Makefile to rebuild relevant files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/09/22 10:34:03 espie Exp $
d26 1
a26 1
	@@cd ${WRKSRC}/src && ${MAKE_PROGRAM} up
d38 2
a39 2
	@@${MKDIR} ${DOCDIR}
	@@cd ${DOCDIR} && ${TAR} -zxf ${FULLDISTDIR}/${GUIDE}
d41 2
a42 2
test: ${INSTALL_COOKIE}
	@@cd ${WRKSRC} && ${MAKE_PROGRAM} test
@


1.6
log
@_DISTDIR => FULLDISTDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/09/17 12:43:21 espie Exp $
d28 9
@


1.5
log
@Weird checksum change, but it works.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/09/17 10:47:19 turan Exp $
d3 1
d30 1
a30 1
	@@cd ${DOCDIR} && ${TAR} -zxf ${_DISTDIR}/${GUIDE}
@


1.4
log
@broken, sources changed.  checksums differ.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.3 1999/06/16 13:49:34 espie Exp $

BROKEN=		"sources changed.  checksums differ."
@


1.3
log
@Brad should be a little more careful editing stuff out...
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.2 1999/06/16 04:44:21 brad Exp $
@


1.2
log
@typo - ${PORTDIRS} -> ${PORTSDIR}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/06/07 23:37:56 espie Exp $
d16 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
d7 4
a10 4
DIST_SUBDIR=lclint
EXTRACT_ONLY=${DISTNAME}.src${EXTRACT_SUFX} 
GUIDE=guide${EXTRACT_SUFX}
DISTFILES=${EXTRACT_ONLY} ${GUIDE}
d16 1
a16 1
DOCDIR=${PREFIX}/share/doc/${DISTNAME}
d18 2
a19 5
#DISTFILES ftp://ftp.sds.lcs.mit.edu/pub/lclint/guide.tar.gz
MASTER_SITES=	ftp://ftp.sds.lcs.mit.edu/pub/lclint/

# Has to use bison because lclint uses pure parsers
BUILD_DEPENDS=bison:${PORTDIRS}/devel/bison
d21 1
a21 3

GNU_CONFIGURE=	yes
USE_GMAKE=	yes
d24 1
a24 1
	cd ${WRKSRC}/src && ${MAKE_PROGRAM} up
d27 2
a28 2
	${MKDIR} ${DOCDIR}
	cd ${DOCDIR} && ${TAR} zxf ${_DISTDIR}/${GUIDE}
d31 1
a31 1
	cd ${WRKSRC} && ${MAKE_PROGRAM} test
a32 1

@


1.1.1.1
log
@rocket science meets lint.

Highly verbose, but can be toned down to a reasonable level using
the right flags, or the right annotations.

Knows something about such weird issues as ANSI C namespaces, and will
warn against E* or str* identifiers, for instance.

@
text
@@
