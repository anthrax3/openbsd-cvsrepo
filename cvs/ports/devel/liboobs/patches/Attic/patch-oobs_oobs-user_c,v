head	1.4;
access;
symbols
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	ajacoutot_20100910:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2011.07.12.07.40.47;	author ajacoutot;	state dead;
branches;
next	1.3;

1.3
date	2011.04.02.13.40.04;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.09.30.07.45.17;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.09.10.13.50.41;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.09.10.13.50.41;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.4
log
@system-tools-backends are now in the attic, so remove this wrapping
library that isn't used by anything.

don't worry, we still have libsexy...

ok jasper@@
@
text
@$OpenBSD: patch-oobs_oobs-user_c,v 1.3 2011/04/02 13:40:04 ajacoutot Exp $
--- oobs/oobs-user.c.orig	Fri Dec 17 19:47:50 2010
+++ oobs/oobs-user.c	Sat Apr  2 15:24:34 2011
@@@@ -24,8 +24,10 @@@@
 #include <unistd.h>
 #include <stdlib.h>
 #include <string.h>
+#ifndef __OpenBSD__
 #include <crypt.h>
 #include <utmpx.h>
+#endif
 
 #include "oobs-object-private.h"
 #include "oobs-usersconfig.h"
@@@@ -1280,6 +1282,7 @@@@ oobs_user_set_locale (OobsUser *user, const gchar *loc
 gboolean
 oobs_user_get_active (OobsUser *user)
 {
+#ifndef __OpenBSD__
   struct utmpx *entry;
   const gchar *login;
   gboolean match = FALSE;
@@@@ -1300,6 +1303,9 @@@@ oobs_user_get_active (OobsUser *user)
   endutxent ();
 
   return match;
+#else
+  return FALSE;
+#endif
 }
 
 /**
@


1.3
log
@Update to liboobs-3.0.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-oobs_oobs-user_c,v 1.2 2010/09/30 07:45:17 ajacoutot Exp $
@


1.2
log
@Update to liboobs-2.32.0.

ok jasper@@
@
text
@d1 3
a3 3
$OpenBSD: patch-oobs_oobs-user_c,v 1.1.1.1 2010/09/10 13:50:41 ajacoutot Exp $
--- oobs/oobs-user.c.orig	Sun Aug 22 15:08:11 2010
+++ oobs/oobs-user.c	Mon Sep 27 18:27:00 2010
d15 1
a15 1
@@@@ -1287,6 +1289,7 @@@@ oobs_user_set_locale (OobsUser *user, const gchar *loc
d23 1
a23 1
@@@@ -1307,6 +1310,9 @@@@ oobs_user_get_active (OobsUser *user)
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- oobs/oobs-user.c.orig	Mon Mar  8 23:21:44 2010
+++ oobs/oobs-user.c	Wed Sep  8 19:26:30 2010
d15 1
a15 1
@@@@ -1261,6 +1263,7 @@@@ oobs_user_set_locale (OobsUser *user, const gchar *loc
d23 1
a23 1
@@@@ -1281,6 +1284,9 @@@@ oobs_user_get_active (OobsUser *user)
@


1.1.1.1
log
@Import liboobs-2.30.1

Liboobs is a wrapping library to the System Tools Backends, it will
provide easy to access GObjects to system configuration details, like
users, groups and network interfaces, it will handle sessions with the
backend and data consistency too.

This is a WIP, hence not hooked to the build.
DO NOT try this at home or you will harm yourself, you have been warned.

ok jasper@@
@
text
@@
