head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.2
	OPENBSD_6_2_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2017.09.02.09.36.13;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	eAvXSDwWYuL7QBJV;

1.1
date	2017.09.01.06.40.28;	author ajacoutot;	state Exp;
branches;
next	;
commitid	Z3UHKMH3qAZXhBfH;


desc
@@


1.2
log
@Move comment where it belongs.

from Brad (maintainer)
@
text
@$OpenBSD: patch-include_llvm_MC_MCAsmInfoELF_h,v 1.1 2017/09/01 06:40:28 ajacoutot Exp $

Do not use nonexec stack segment header hints.

Index: include/llvm/MC/MCAsmInfoELF.h
--- include/llvm/MC/MCAsmInfoELF.h.orig
+++ include/llvm/MC/MCAsmInfoELF.h
@@@@ -21,7 +21,7 @@@@ class MCAsmInfoELF : public MCAsmInfo {
 protected:
   /// Targets which have non-executable stacks by default can set this to false
   /// to disable the special section which requests a non-executable stack.
-  bool UsesNonexecutableStackSection = true;
+  bool UsesNonexecutableStackSection = false;
 
   MCAsmInfoELF();
 };
@


1.1
log
@Update to llvm-5.0.0rc4.

Tested on amd64, i386, sparc64
from Brad (maintainer)
@
text
@d1 3
a3 1
$OpenBSD$
@

