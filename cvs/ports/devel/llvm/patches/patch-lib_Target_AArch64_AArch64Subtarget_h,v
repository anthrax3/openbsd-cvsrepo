head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2017.02.10.09.37.43;	author ajacoutot;	state Exp;
branches;
next	;
commitid	fevyFq3hanzfmR8U;


desc
@@


1.1
log
@Update to llvm-4.0.0rc2.
- survived a bulk on i386 and amd64

from Brad (maintainer)
@
text
@$OpenBSD$

Disable the Load Stack Guard for OpenBSD on AArch64.  We don't use it
on any other platform and it causes a segfault in combination with our
IR Stack Guard.

--- lib/Target/AArch64/AArch64Subtarget.h.orig	Sat Jan 14 15:23:06 2017
+++ lib/Target/AArch64/AArch64Subtarget.h	Sat Jan 14 21:19:21 2017
@@@@ -224,6 +224,7 @@@@ class AArch64Subtarget final : public AArch64GenSubtar
   bool isTargetDarwin() const { return TargetTriple.isOSDarwin(); }
   bool isTargetIOS() const { return TargetTriple.isiOS(); }
   bool isTargetLinux() const { return TargetTriple.isOSLinux(); }
+  bool isTargetOpenBSD() const { return TargetTriple.isOSOpenBSD(); }
   bool isTargetWindows() const { return TargetTriple.isOSWindows(); }
   bool isTargetAndroid() const { return TargetTriple.isAndroid(); }
 
@
