head	1.5;
access;
symbols
	OPENBSD_5_9:1.4.0.6
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.8
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.4
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2;
locks; strict;
comment	@# @;


1.5
date	2016.03.05.15.31.40;	author pascal;	state dead;
branches;
next	1.4;
commitid	Hqi865xYWk2i2UMI;

1.4
date	2014.04.18.09.30.48;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2013.06.21.22.09.12;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2012.12.23.20.49.29;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2012.10.16.18.22.30;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to LLVM 3.7.1.  This version is modified to use C++ includes from
ports GCC and link to libestdc++.

Currently, this still breaks mail/mozilla-thunderbird, which will be taken care
of shortly.

feedback/testing from jsg landry mmcc semarie aja naddy (hope I didn't forget
anyone)

ok landry robert
@
text
@$OpenBSD: patch-CMakeLists_txt,v 1.4 2014/04/18 09:30:48 brad Exp $

Don't confuse scripts who want the version with appended 'svn' goo.

--- CMakeLists.txt.orig	Sun Mar  2 21:57:43 2014
+++ CMakeLists.txt	Sun Mar  2 22:13:02 2014
@@@@ -29,7 +29,7 @@@@ set(LLVM_VERSION_MAJOR 3)
 set(LLVM_VERSION_MINOR 5)
 
 if (NOT PACKAGE_VERSION)
-  set(PACKAGE_VERSION "${LLVM_VERSION_MAJOR}.${LLVM_VERSION_MINOR}svn")
+  set(PACKAGE_VERSION "${LLVM_VERSION_MAJOR}.${LLVM_VERSION_MINOR}")
 endif()
 
 option(LLVM_INSTALL_TOOLCHAIN_ONLY "Only include toolchain files in the 'install' target." OFF)
@


1.4
log
@Update to LLVM 3.5 (trunk) snapshot just before switching to an unconditional
C++11 codebase.

This brings in a number of improvements over 3.4 including..
X86 assembler with 16-bit support
Much improved SPARC backend
stack protector strong support

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-CMakeLists_txt,v 1.3 2013/06/21 22:09:12 brad Exp $
@


1.3
log
@Update to LLVM 3.3.

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-CMakeLists_txt,v 1.2 2012/12/23 20:49:29 brad Exp $
d5 4
a8 5
--- CMakeLists.txt.orig	Mon May  6 12:23:07 2013
+++ CMakeLists.txt	Tue Jun 18 23:00:44 2013
@@@@ -13,7 +13,7 @@@@ set(CMAKE_MODULE_PATH
 set(LLVM_VERSION_MAJOR 3)
 set(LLVM_VERSION_MINOR 3)
d10 4
a13 2
-set(PACKAGE_VERSION "${LLVM_VERSION_MAJOR}.${LLVM_VERSION_MINOR}svn")
+set(PACKAGE_VERSION "${LLVM_VERSION_MAJOR}.${LLVM_VERSION_MINOR}")
d15 1
a15 2
 option(LLVM_USE_FOLDERS "Enable solution folders in Visual Studio. Disable for Express versions." ON)
 if ( LLVM_USE_FOLDERS )
@


1.2
log
@Update to LLVM 3.2 and switces to __guard_local for stack protector support.

Initial work from landry@@ with some fixes and further tweaking from pascal@@ and brad@@

ok sthen@@ landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-CMakeLists_txt,v 1.1 2012/10/16 18:22:30 jasper Exp $
d5 2
a6 2
--- CMakeLists.txt.orig	Fri Sep 28 19:35:20 2012
+++ CMakeLists.txt	Mon Dec 10 19:22:46 2012
d9 1
a9 1
 set(LLVM_VERSION_MINOR 2)
@


1.1
log
@- drop the 'svn' suffix from llvm-config --version output.

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 2
a6 2
--- CMakeLists.txt.orig	Tue Oct 16 11:08:28 2012
+++ CMakeLists.txt	Tue Oct 16 11:08:41 2012
d9 1
a9 1
 set(LLVM_VERSION_MINOR 1)
d14 2
a15 2
 set_property(GLOBAL PROPERTY USE_FOLDERS ON)
 
@

