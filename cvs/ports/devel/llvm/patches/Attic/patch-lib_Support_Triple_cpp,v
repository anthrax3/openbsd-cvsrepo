head	1.6;
access;
symbols
	OPENBSD_6_1:1.5.0.2
	OPENBSD_6_1_BASE:1.5
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2017.07.14.17.14.03;	author sthen;	state dead;
branches;
next	1.5;
commitid	2I37ZfTOrmp63Kb2;

1.5
date	2017.02.10.09.37.43;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	fevyFq3hanzfmR8U;

1.4
date	2016.10.07.08.55.30;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	9CZYQ6vy0MJoEWYH;

1.3
date	2016.09.24.12.35.38;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	P8uBvX7hMStbSNIu;

1.2
date	2009.08.09.11.26.03;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2009.06.25.15.25.13;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.6
log
@update to LLVM-4.0.1, from Brad (maintainer)
been through i386 and amd64 bulks
@
text
@$OpenBSD: patch-lib_Support_Triple_cpp,v 1.5 2017/02/10 09:37:43 ajacoutot Exp $

Set default CPU for OpenBSD/arm to Cortex-A8

--- lib/Support/Triple.cpp.orig	Fri Nov 18 20:48:19 2016
+++ lib/Support/Triple.cpp	Fri Nov 18 21:22:47 2016
@@@@ -1511,6 +1511,7 @@@@ StringRef Triple::getARMCPUForArch(StringRef MArch) co
       return "strongarm";
     }
   case llvm::Triple::NaCl:
+  case llvm::Triple::OpenBSD:
     return "cortex-a8";
   default:
     switch (getEnvironment()) {
@


1.5
log
@Update to llvm-4.0.0rc2.
- survived a bulk on i386 and amd64

from Brad (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_Support_Triple_cpp,v 1.4 2016/10/07 08:55:30 ajacoutot Exp $
@


1.4
log
@Update to LLVM 3.9.0.
Been through bulks on amd64 / i386 by sthen@@ and naddy@@ respectively.

from Brad (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_Support_Triple_cpp,v 1.3 2016/09/24 12:35:38 ajacoutot Exp $
d5 3
a7 3
--- lib/Support/Triple.cpp.orig	Sun Jul 24 06:34:15 2016
+++ lib/Support/Triple.cpp	Sat Sep 24 12:00:28 2016
@@@@ -1473,6 +1473,7 @@@@ StringRef Triple::getARMCPUForArch(StringRef MArch) co
@


1.3
log
@Adjust default CPU for OpenBSD/arm and set proper ABI.

from Brad (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- lib/Support/Triple.cpp.orig	Mon Sep 19 20:57:02 2016
+++ lib/Support/Triple.cpp	Mon Sep 19 20:57:28 2016
@@@@ -1426,6 +1426,7 @@@@ StringRef Triple::getARMCPUForArch(StringRef MArch) co
@


1.2
log
@Update to a newer snapshot, requested by jsg@@. Fixes building autoconf
projects, upstream rolled in the OpenBSD backend with proper target-specific
definitions etc.
@
text
@d1 14
a14 20
$OpenBSD: patch-lib_Support_Triple_cpp,v 1.1 2009/06/25 15:25:13 sthen Exp $
--- lib/Support/Triple.cpp.orig	Tue Jun 23 11:52:16 2009
+++ lib/Support/Triple.cpp	Tue Jun 23 11:53:41 2009
@@@@ -46,6 +46,7 @@@@ const char *Triple::getOSTypeName(OSType Kind) {
   case AuroraUX: return "auroraux";
   case Darwin: return "darwin";
   case DragonFly: return "dragonfly";
+  case OpenBSD: return "openbsd";
   case FreeBSD: return "freebsd";
   case Linux: return "linux";
   }
@@@@ -86,6 +87,8 @@@@ void Triple::Parse() const {
     OS = Darwin;
   else if (memcmp(&OSName[0], "dragonfly", 9) == 0)
     OS = DragonFly;
+  else if (memcmp(&OSName[0], "openbsd", 7) == 0)
+    OS = OpenBSD;
   else if (memcmp(&OSName[0], "freebsd", 7) == 0)
     OS = FreeBSD;
   else if (memcmp(&OSName[0], "linux", 5) == 0)
@


1.1
log
@- add OpenBSD config; from jsg@@.
- install a symlink as a workaround to a bug identifying the path to clang-cc.

commit approved by naddy.
@
text
@d1 1
a1 1
$OpenBSD$
@

