head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.2
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.5.0.2
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.4.0.4
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.2.0.12
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.8
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.6
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.4
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2;
locks; strict;
comment	@# @;


1.6
date	2017.08.14.15.59.55;	author ian;	state Exp;
branches;
next	1.5;
commitid	mA3roDr1JWgRrYuE;

1.5
date	2016.10.11.05.51.02;	author jasper;	state Exp;
branches;
next	1.4;
commitid	ZtKZpcBnSN7SqqXI;

1.4
date	2015.09.23.21.37.14;	author naddy;	state Exp;
branches;
next	1.3;
commitid	mqoxCLJfN6vS4vxA;

1.3
date	2015.09.17.12.18.46;	author jasper;	state Exp;
branches;
next	1.2;
commitid	1hohSS2pQge0rsEj;

1.2
date	2013.05.07.16.09.44;	author ian;	state Exp;
branches;
next	1.1;

1.1
date	2013.05.07.15.13.39;	author ian;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Move to latest devel and stable versions, prodded by
Artur PÄ™dziwilk hostmaster at carpatica.org
@
text
@# $OpenBSD: Makefile.inc,v 1.5 2016/10/11 05:51:02 jasper Exp $

COMMENT =		continuous integration server

DISTNAME =		jenkins
EXTRACT_SUFX =		.war
PKGNAME =		jenkins-${VERSION}
DIST_SUBDIR =		jenkins/${VERSION}
FILESDIR ?=		${.CURDIR}/../files
PKGDIR ?=		${.CURDIR}/../pkg
PLIST ?=		${.CURDIR}/pkg/PLIST

CATEGORIES =		devel

HOMEPAGE =		https://jenkins.io/

MAINTAINER =		Ian Darwin <ian@@openbsd.org>

# Code under MIT license, Artwork under Creative Commons
PERMIT_PACKAGE_CDROM =	Yes

EXTRACT_ONLY =		# empty

MODULES =		java
MODJAVA_VER =		1.8+
MODJAVA_JRE =		yes

RUN_DEPENDS =		java/javaPathHelper

NO_BUILD =		Yes
NO_TEST =		Yes

HOMEDIR =		/var/jenkins
WARDIR =		${PREFIX}/share/jenkins
BINDIR =		${PREFIX}/bin

SUBST_VARS +=		HOMEDIR

do-install:
	${INSTALL_DATA_DIR} ${WARDIR}
	${INSTALL_DATA} ${DISTDIR}/${DIST_SUBDIR}/jenkins.war ${WARDIR}
@


1.5
log
@- update HOMEPAGE
- tweak rcscript: sync rc_stop() with current best practice and trim rc_pre()

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.4 2015/09/23 21:37:14 naddy Exp $
d25 1
a25 1
MODJAVA_VER =		1.6+
@


1.4
log
@remove trailing slash from DIST_SUBDIR; the combination of dpb -F and
clean-old-distfiles gets confused by // in distfile paths
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.3 2015/09/17 12:18:46 jasper Exp $
d15 1
a15 1
HOMEPAGE =		http://jenkins-ci.org/
@


1.3
log
@- update to jenkins-1.609.3 (stable) and jenkins-1.629 (devel)
- use a better DIST_SUBDIR

ok ian@@ (MAINTAINER) gonzalo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.2 2013/05/07 16:09:44 ian Exp $
d8 1
a8 1
DIST_SUBDIR =		jenkins/${VERSION}/
@


1.2
log
@Repair distinfo files, reported by jasper@@, help from sthen@@, no bump, could not have built.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.1 2013/05/07 15:13:39 ian Exp $
d8 1
a8 1
DIST_SUBDIR =		${PKGNAME}
@


1.1
log
@As recently discussed, split suggested by Mark Prins, prompted by
gonzalo's update for 1.513.`OK gonzalo@@, improved & OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/03/11 10:50:09 espie Exp $
d8 1
@

