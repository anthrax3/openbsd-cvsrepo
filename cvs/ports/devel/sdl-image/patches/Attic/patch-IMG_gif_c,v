head	1.3;
access;
symbols
	OPENBSD_4_7:1.1.0.8
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.6
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.4
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2010.07.09.15.19.31;	author sthen;	state dead;
branches;
next	1.2;

1.2
date	2010.07.09.09.20.53;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2008.03.31.21.19.17;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@zap empty patches; pointed out by Brad
@
text
@@


1.2
log
@update sdl-image to 1.2.10, from Brad, tested in bulk build by landry@@
@
text
@@


1.1
log
@SECURITY FIX for http://secunia.com/advisories/28640/

Patches were taken from libsdl's svn.
@
text
@a0 14
$OpenBSD$
--- IMG_gif.c.orig	Fri Mar 28 18:36:08 2008
+++ IMG_gif.c	Fri Mar 28 18:36:54 2008
@@@@ -406,6 +406,10 @@@@ LWZReadByte(SDL_RWops *src, int flag, int input_code_s
     static int stack[(1 << (MAX_LWZ_BITS)) * 2], *sp;
     register int i;
 
+    /* Fixed buffer overflow found by Michael Skladnikiewicz */
+    if (input_code_size > MAX_LWZ_BITS)
+        return -1;
+
     if (flag) {
 	set_code_size = input_code_size;
 	code_size = set_code_size + 1;
@

