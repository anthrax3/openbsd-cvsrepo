head	1.6;
access;
symbols
	OPENBSD_6_1:1.6.0.6
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.6.0.4
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.4.0.14
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.10
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.8
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.6
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.4
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.6
date	2015.10.27.14.43.07;	author sthen;	state Exp;
branches;
next	1.5;
commitid	fCrlbSItEm96Kw0T;

1.5
date	2015.09.13.15.21.15;	author sthen;	state Exp;
branches;
next	1.4;
commitid	5RIVhZ8FZczDXszL;

1.4
date	2012.10.12.20.53.39;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2012.10.12.19.59.32;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2012.07.18.08.04.43;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2011.08.16.08.26.16;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.6
log
@update to coccinelle-1.0.3
@
text
@$OpenBSD: patch-commons_common_ml,v 1.5 2015/09/13 15:21:15 sthen Exp $
--- commons/common.ml.orig	Mon Oct 26 16:22:50 2015
+++ commons/common.ml	Tue Oct 27 14:23:22 2015
@@@@ -3277,7 +3277,7 @@@@ let glob pattern =
 let files_of_dir_or_files ext xs =
   xs +> List.map (fun x ->
     if is_directory x
-    then cmd_to_list ("find " ^ x  ^" -noleaf -type f -name \"*." ^ext^"\"")
+    then cmd_to_list ("find " ^ x  ^" -type f -name \"*." ^ext^"\"")
     else [x]
   ) +> List.concat
 
@@@@ -3287,7 +3287,7 @@@@ let files_of_dir_or_files_no_vcs ext xs =
     if is_directory x
     then
       cmd_to_list
-        ("find " ^ x  ^" -noleaf -type f -name \"*." ^ext^"\"" ^
+        ("find " ^ x  ^" -type f -name \"*." ^ext^"\"" ^
             "| grep -v /.hg/ |grep -v /CVS/ | grep -v /.git/ |grep -v /_darcs/"
         )
     else [x]
@@@@ -3300,7 +3300,7 @@@@ let files_of_dir_or_files_no_vcs_post_filter regex xs 
     then
       cmd_to_list
         ("find " ^ x  ^
-         " -noleaf -type f | grep -v /.hg/ |grep -v /CVS/ | grep -v /.git/ |grep -v /_darcs/"
+         " -type f | grep -v /.hg/ |grep -v /CVS/ | grep -v /.git/ |grep -v /_darcs/"
         )
         +> List.filter (fun s -> s =~ regex)
     else [x]
@@@@ -5241,7 +5241,7 @@@@ let (diff: (int -> int -> diff -> unit)-> (string list
     write_file file1 (unwords xs);
     write_file file2 (unwords ys);
     command2
-      ("diff --side-by-side -W 1 " ^ file1 ^ " " ^ file2 ^ " > " ^ fileresult);
+      ("gdiff --side-by-side -W 1 " ^ file1 ^ " " ^ file2 ^ " > " ^ fileresult);
     let res = cat fileresult in
     let a = ref 0 in
     let b = ref 0 in
@@@@ -5269,7 +5269,7 @@@@ let (diff2: (int -> int -> diff -> unit) -> (string * 
     write_file "/tmp/diff1" xstr;
     write_file "/tmp/diff2" ystr;
     command2
-     ("diff --side-by-side --left-column -W 1 " ^
+     ("gdiff --side-by-side --left-column -W 1 " ^
       "/tmp/diff1 /tmp/diff2 > /tmp/diffresult");
     let res = cat "/tmp/diffresult" in
     let a = ref 0 in
@


1.5
log
@update to coccinelle-1.0.2
@
text
@d1 4
a4 4
$OpenBSD: patch-commons_common_ml,v 1.4 2012/10/12 20:53:39 sthen Exp $
--- commons/common.ml.orig	Sat Jun 13 23:58:25 2015
+++ commons/common.ml	Wed Jul 15 14:33:39 2015
@@@@ -3335,7 +3335,7 @@@@ let glob pattern =
d13 1
a13 1
@@@@ -3345,7 +3345,7 @@@@ let files_of_dir_or_files_no_vcs ext xs =
d22 1
a22 1
@@@@ -3358,7 +3358,7 @@@@ let files_of_dir_or_files_no_vcs_post_filter regex xs 
d31 1
a31 1
@@@@ -5295,7 +5295,7 @@@@ let (diff: (int -> int -> diff -> unit)-> (string list
d40 1
a40 1
@@@@ -5323,7 +5323,7 @@@@ let (diff2: (int -> int -> diff -> unit) -> (string * 
@


1.4
log
@remove a gnu-specific flag in find command lines
@
text
@d1 4
a4 4
$OpenBSD: patch-commons_common_ml,v 1.3 2012/10/12 19:59:32 sthen Exp $
--- commons/common.ml.orig	Thu Aug 16 18:35:22 2012
+++ commons/common.ml	Fri Oct 12 22:09:20 2012
@@@@ -3407,7 +3407,7 @@@@ let glob pattern =
d13 1
a13 1
@@@@ -3417,7 +3417,7 @@@@ let files_of_dir_or_files_no_vcs ext xs =
d22 1
a22 1
@@@@ -3430,7 +3430,7 @@@@ let files_of_dir_or_files_no_vcs_post_filter regex xs 
d31 1
a31 1
@@@@ -5357,7 +5357,7 @@@@ let (diff: (int -> int -> diff -> unit)-> (string list
d40 1
a40 1
@@@@ -5385,7 +5385,7 @@@@ let (diff2: (int -> int -> diff -> unit) -> (string * 
@


1.3
log
@update to coccinelle 1.0.0-rc15
@
text
@d1 30
a30 3
$OpenBSD: patch-commons_common_ml,v 1.2 2012/07/18 08:04:43 sthen Exp $
--- commons/common.ml.orig	Mon Jul 16 16:29:26 2012
+++ commons/common.ml	Sun Aug  5 09:31:54 2012
@


1.2
log
@update to Cocinelle 1.0.0-rc11
@
text
@d1 4
a4 4
$OpenBSD: patch-commons_common_ml,v 1.1 2011/08/16 08:26:16 sthen Exp $
--- commons/common.ml.orig	Sun Mar 11 22:00:27 2012
+++ commons/common.ml	Wed Mar 14 23:37:53 2012
@@@@ -5352,7 +5352,7 @@@@ let (diff: (int -> int -> diff -> unit)-> (string list
d13 1
a13 1
@@@@ -5380,7 +5380,7 @@@@ let (diff2: (int -> int -> diff -> unit) -> (string * 
@


1.1
log
@update to Coccinelle 1.0.0rc5
@
text
@d1 4
a4 4
$OpenBSD$
--- commons/common.ml.orig	Thu Aug 11 15:51:39 2011
+++ commons/common.ml	Thu Aug 11 15:52:01 2011
@@@@ -5347,7 +5347,7 @@@@ let (diff: (int -> int -> diff -> unit)-> (string list
d13 1
a13 1
@@@@ -5375,7 +5375,7 @@@@ let (diff2: (int -> int -> diff -> unit) -> (string * 
@

