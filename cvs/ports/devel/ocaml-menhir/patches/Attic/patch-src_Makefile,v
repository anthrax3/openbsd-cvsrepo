head	1.3;
access;
symbols
	OPENBSD_5_8:1.1.0.6
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2015.11.12.12.52.39;	author naddy;	state dead;
branches;
next	1.2;
commitid	zx1epH3VSUZnWQ92;

1.2
date	2015.10.07.17.10.01;	author jca;	state Exp;
branches;
next	1.1;
commitid	pTthjMI4qGSUBuFD;

1.1
date	2015.01.16.09.20.47;	author daniel;	state Exp;
branches;
next	;
commitid	HiJUjYzCLMVErCpI;


desc
@@


1.3
log
@remove empty patch files
@
text
@@


1.2
log
@Update to ocaml-menhir-20151005

ok daniel@@, who provided the diff to update to menhir-20150921
@
text
@@


1.1
log
@jca@@ found and fixed the Makefile problem on !native ocaml archs. But
commit the version of the fix from Francois Pottier (upstream maintainer).
@
text
@a0 26
$OpenBSD$
--- src/Makefile.orig	Mon Dec 15 10:25:48 2014
+++ src/Makefile	Fri Jan 16 03:50:24 2015
@@@@ -60,8 +60,12 @@@@ stage1:
 # Stage 2.
 # Build Menhir using Menhir (from stage 1).
 
-FLAGS := -v -lg 1 -la 1 -lc 1 --comment --infer --stdlib . --strict --fixed-exception
+# Do not use . to refer to the current directory, because ocamlbuild
+# descends into another directory when executing commands.
+SRC   := $(shell pwd)
 
+FLAGS := -v -lg 1 -la 1 -lc 1 --comment --infer --stdlib $(SRC) --strict --fixed-exception
+
 stage2:
 	@@$(OCAMLBUILD) -build-dir _stage2 -tag fancy_parser \
 	  -use-menhir -menhir "$(shell pwd)/_stage1/menhir.$(TARGET) $(FLAGS)" \
@@@@ -73,7 +77,7 @@@@ stage2:
 # is identical to the stage 2 parser.
 stage3:
 	@@$(OCAMLBUILD) -build-dir _stage3 -tag fancy_parser \
-	  -use-menhir -menhir "$(shell pwd)/_stage2/menhir.$(TARGET) $(FLAGS)" \
+	  -use-menhir -menhir "$(SRC)/_stage2/menhir.$(TARGET) $(FLAGS)" \
 	  parser.ml parser.mli
 	@@for i in parser.ml parser.mli ; do \
 	  if ! diff _stage2/$$i _stage3/$$i 2>&1 >/dev/null ; then \
@

