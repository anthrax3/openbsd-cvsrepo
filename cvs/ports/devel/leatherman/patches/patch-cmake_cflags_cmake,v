head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2017.09.08.09.53.49;	author sebastia;	state Exp;
branches;
next	1.1;
commitid	UTqZmu8DZtb4flpt;

1.1
date	2017.05.23.20.18.45;	author espie;	state Exp;
branches;
next	;
commitid	NJhAcWlum7687J4R;


desc
@@


1.2
log
@Update to 1.2.1, fix MODPY_ADJ_FILES
@
text
@$OpenBSD: patch-cmake_cflags_cmake,v 1.1 2017/05/23 20:18:45 espie Exp $

Index: cmake/cflags.cmake
--- cmake/cflags.cmake.orig
+++ cmake/cflags.cmake
@@@@ -26,9 +26,7 @@@@ if ("${CMAKE_CXX_COMPILER_ID}" MATCHES "\\w*Clang")
         set(LEATHERMAN_CXX_FLAGS "-Wno-deprecated ${LEATHERMAN_CXX_FLAGS}")
     endif()
 
-    if ("${CLANG_VERSION_STRING}" VERSION_GREATER "6.9")
-        set(LEATHERMAN_CXX_FLAGS "-Wno-unused-local-typedef ${LEATHERMAN_CXX_FLAGS}")
-    endif()
+    set(LEATHERMAN_CXX_FLAGS "${LEATHERMAN_CXX_FLAGS} -Wno-unused-local-typedef -Wno-expansion-to-defined -Wno-varargs")
 
     # FreeBSD needs -fPIC
     if(CMAKE_SYSTEM_NAME MATCHES "FreeBSD")
@


1.1
log
@let it build with clang, adjust -Werror to "work".
@
text
@d1 1
a1 1
$OpenBSD$
d7 1
a7 1
         set(LEATHERMAN_CXX_FLAGS "${LEATHERMAN_CXX_FLAGS} -Wno-deprecated")
d11 1
a11 1
-        set(LEATHERMAN_CXX_FLAGS "${LEATHERMAN_CXX_FLAGS} -Wno-unused-local-typedef")
@

