head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.26
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.24
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.20
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.22
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.18
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.16
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.14
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.12
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.10
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.8
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.6
	OPENBSD_5_0:1.3.0.4
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.2.0.12
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.10
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.8
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.6
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.0.8
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.6
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.4
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2010.09.22.08.42.53;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2008.02.28.21.47.52;	author merdely;	state Exp;
branches;
next	1.1;

1.1
date	2006.01.09.23.38.18;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Unbreak mico on gcc4 archs by updating it to 2.3.13.

- remove commented out FLAVORS, and merge ssl FLAVOR into main package
- build regress tests (not everything is working, but at least they're here)
- add native-connect:permit to systrace.filter, idl absolutely wants to
  connect to the nearest dns server during build. Gross.
- remove shitload of now unneeded patches
- some tweaks from ajacoutot@@/jasper@@

Build-tested on :
- gcc3 archs: arm (fails) by sthen@@, alpha by naddy@@, mips64 by jasper@@
- gcc4 archs: sparc64/amd64/macppc by my$self
ok jasper@@
@
text
@$OpenBSD: patch-configure,v 1.2 2008/02/28 21:47:52 merdely Exp $
--- configure.orig	Fri Jul 25 15:42:43 2008
+++ configure	Mon Sep 13 22:31:04 2010
@@@@ -1325,7 +1325,7 @@@@ myexec=$exec_prefix
 test "x$myprefix" = xNONE && myprefix=$ac_default_prefix
 test "x$myexec" = xNONE && myexec=${myprefix}
 ABSEXECDIR=$myexec
-ABSSHRDDIR=$myprefix
+ABSSHRDDIR=$myprefix/share
 cat >> confdefs.h <<EOF
 #define ABSEXECDIR "$myexec"
 EOF
@@@@ -3377,7 +3377,7 @@@@ if test X"$GXX" = Xyes; then
     fi
     ;;
   *bsd*)
-    CONF_SOEXT=so.1.0
+    CONF_SOEXT=so.${LIB_VERSION}
     if test X"$use_threads" = Xyes; then
       CXXFLAGS="$CXXFLAGS -D_THREAD_SAFE"
     fi
@@@@ -3667,8 +3667,6 @@@@ fi
 #
 
 
-CXXFLAGS=`echo " $CXXFLAGS " | sed -e 's/ -g / /g' -e 's/ -O[0-9]* / /g'`
-CFLAGS=`echo " $CFLAGS " | sed -e 's/ -g / /g' -e 's/ -O[0-9]* / /g'`
 
 if test X"$use_opt" != Xno; then
   CXXFLAGS="$CONF_OPT_FLAGS $CXXFLAGS"
@


1.2
log
@Disable hardcoded optimization (-O) to enable build on alpha.

ok naddy@@
@
text
@d1 14
a14 5
$OpenBSD: patch-configure,v 1.1 2006/01/09 23:38:18 naddy Exp $
--- configure.orig	Fri Sep 21 08:08:22 2001
+++ configure	Thu Feb 28 11:12:28 2008
@@@@ -1774,7 +1774,7 @@@@ rm -f conftest*
     # must not use .so.1.0 here
d19 4
a22 4
     ;;
   *cygwin32*)
     have_cdk=yes;
@@@@ -1854,8 +1854,6 @@@@ fi
@


1.1
log
@- SHARED_LIBS
- disable some broken FLAVORs
@
text
@d1 3
a3 3
$OpenBSD$
--- configure.orig	Mon Jan  9 12:41:55 2006
+++ configure	Mon Jan  9 12:42:27 2006
d13 9
@

