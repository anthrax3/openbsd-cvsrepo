head	1.57;
access;
symbols
	OPENBSD_6_2:1.57.0.4
	OPENBSD_6_2_BASE:1.57
	OPENBSD_6_1:1.57.0.2
	OPENBSD_6_1_BASE:1.57
	OPENBSD_6_0:1.54.0.6
	OPENBSD_6_0_BASE:1.54
	OPENBSD_5_9:1.54.0.2
	OPENBSD_5_9_BASE:1.54
	OPENBSD_5_8:1.54.0.4
	OPENBSD_5_8_BASE:1.54
	OPENBSD_5_7:1.53.0.2
	OPENBSD_5_7_BASE:1.53
	OPENBSD_5_6:1.52.0.2
	OPENBSD_5_6_BASE:1.52
	OPENBSD_5_5:1.51.0.2
	OPENBSD_5_5_BASE:1.51
	OPENBSD_5_4:1.48.0.2
	OPENBSD_5_4_BASE:1.48
	OPENBSD_5_3:1.43.0.2
	OPENBSD_5_3_BASE:1.43
	OPENBSD_5_2:1.42.0.6
	OPENBSD_5_2_BASE:1.42
	OPENBSD_5_1_BASE:1.42
	OPENBSD_5_1:1.42.0.4
	OPENBSD_5_0:1.42.0.2
	OPENBSD_5_0_BASE:1.42
	OPENBSD_4_9:1.40.0.2
	OPENBSD_4_9_BASE:1.40
	OPENBSD_4_8:1.38.0.4
	OPENBSD_4_8_BASE:1.38
	OPENBSD_4_7:1.38.0.2
	OPENBSD_4_7_BASE:1.38
	OPENBSD_4_6:1.36.0.2
	OPENBSD_4_6_BASE:1.36
	OPENBSD_4_5:1.35.0.2
	OPENBSD_4_5_BASE:1.35
	OPENBSD_4_4:1.34.0.4
	OPENBSD_4_4_BASE:1.34
	OPENBSD_4_3:1.34.0.2
	OPENBSD_4_3_BASE:1.34
	OPENBSD_4_2:1.33.0.6
	OPENBSD_4_2_BASE:1.33
	OPENBSD_4_1:1.33.0.4
	OPENBSD_4_1_BASE:1.33
	OPENBSD_4_0:1.33.0.2
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.32.0.2
	OPENBSD_3_9_BASE:1.32
	OPENBSD_3_8:1.31.0.2
	OPENBSD_3_8_BASE:1.31
	OPENBSD_3_7:1.30.0.6
	OPENBSD_3_7_BASE:1.30
	OPENBSD_3_6:1.30.0.4
	OPENBSD_3_6_BASE:1.30
	OPENBSD_3_5:1.30.0.2
	OPENBSD_3_5_BASE:1.30
	OPENBSD_3_4:1.29.0.2
	OPENBSD_3_4_BASE:1.29
	OPENBSD_3_3:1.26.0.2
	OPENBSD_3_3_BASE:1.26
	OPENBSD_3_2:1.25.0.2
	OPENBSD_3_2_BASE:1.25
	OPENBSD_3_1:1.20.0.2
	OPENBSD_3_1_BASE:1.20
	OPENBSD_3_0:1.16.0.2
	OPENBSD_3_0_BASE:1.16
	OPENBSD_2_9_TRACKING_SWITCH:1.16
	OPENBSD_2_9:1.11.0.2
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_8:1.2.0.2
	OPENBSD_2_8_BASE:1.2
	naddy_20001001:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.57
date	2017.03.01.11.56.05;	author naddy;	state Exp;
branches;
next	1.56;
commitid	v3NUoZ9ljtX9ssrL;

1.56
date	2016.09.11.10.52.51;	author tb;	state Exp;
branches;
next	1.55;
commitid	WinR5ygehGSFelNd;

1.55
date	2016.07.30.14.10.58;	author naddy;	state Exp;
branches;
next	1.54;
commitid	tsfsDJVjIjaCFFkZ;

1.54
date	2015.06.20.20.36.04;	author naddy;	state Exp;
branches;
next	1.53;
commitid	63bZB0u7WvAwCNoZ;

1.53
date	2014.11.25.11.59.37;	author naddy;	state Exp;
branches;
next	1.52;
commitid	XuurBzdsVEqcdhZu;

1.52
date	2014.07.26.19.38.03;	author naddy;	state Exp;
branches;
next	1.51;
commitid	R7QWrSO9abXyimb9;

1.51
date	2013.11.13.19.53.08;	author naddy;	state Exp;
branches;
next	1.50;

1.50
date	2013.10.29.16.30.15;	author naddy;	state Exp;
branches;
next	1.49;

1.49
date	2013.08.13.16.47.25;	author naddy;	state Exp;
branches;
next	1.48;

1.48
date	2013.07.05.07.23.33;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2013.06.02.19.09.09;	author naddy;	state Exp;
branches;
next	1.46;

1.46
date	2013.04.07.20.07.24;	author naddy;	state Exp;
branches;
next	1.45;

1.45
date	2013.04.01.20.20.22;	author tobias;	state Exp;
branches;
next	1.44;

1.44
date	2013.03.11.10.50.02;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2012.08.18.12.41.38;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2011.06.02.13.41.38;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2011.04.21.11.28.22;	author landry;	state Exp;
branches;
next	1.40;

1.40
date	2010.11.13.09.24.52;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.08.30.22.03.58;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2009.11.25.19.54.19;	author naddy;	state Exp;
branches;
next	1.37;

1.37
date	2009.10.29.08.19.06;	author giovanni;	state Exp;
branches;
next	1.36;

1.36
date	2009.06.02.04.38.35;	author naddy;	state Exp;
branches;
next	1.35;

1.35
date	2009.02.17.09.04.07;	author giovanni;	state Exp;
branches;
next	1.34;

1.34
date	2007.09.16.02.52.58;	author merdely;	state Exp;
branches;
next	1.33;

1.33
date	2006.07.12.19.26.11;	author naddy;	state Exp;
branches;
next	1.32;

1.32
date	2006.02.04.17.01.35;	author naddy;	state Exp;
branches;
next	1.31;

1.31
date	2005.05.24.00.05.55;	author naddy;	state Exp;
branches;
next	1.30;

1.30
date	2004.02.01.19.47.27;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2003.08.16.23.18.41;	author naddy;	state Exp;
branches;
next	1.28;

1.28
date	2003.08.16.18.12.10;	author naddy;	state Exp;
branches;
next	1.27;

1.27
date	2003.05.13.22.53.58;	author sturm;	state Exp;
branches;
next	1.26;

1.26
date	2002.10.04.19.21.48;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2002.07.23.18.25.12;	author naddy;	state Exp;
branches;
next	1.24;

1.24
date	2002.07.07.12.31.09;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2002.05.22.18.53.15;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2002.05.13.18.50.39;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2002.04.16.22.36.26;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2002.03.21.20.46.25;	author espie;	state Exp;
branches
	1.20.2.1;
next	1.19;

1.19
date	2001.11.08.14.28.55;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2001.11.07.15.12.30;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2001.10.25.16.14.51;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2001.08.01.19.59.25;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2001.07.09.16.55.01;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2001.06.05.19.29.57;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2001.05.08.21.23.15;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2001.05.06.00.12.56;	author lebel;	state Exp;
branches;
next	1.11;

1.11
date	2001.04.04.00.55.24;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2001.03.24.22.39.04;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2001.01.12.00.13.08;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2001.01.06.13.29.24;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2001.01.03.00.51.40;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2000.12.30.15.39.13;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2000.12.18.15.06.46;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2000.12.07.17.04.38;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2000.11.18.13.35.17;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2000.10.09.17.23.37;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2000.10.01.19.18.53;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.10.01.19.18.53;	author naddy;	state Exp;
branches;
next	;

1.20.2.1
date	2002.05.22.18.57.15;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.57
log
@update chroot instructions for perl 5.24.1
@
text
@# $OpenBSD: Makefile,v 1.56 2016/09/11 10:52:51 tb Exp $

COMMENT=	CGI script to browse CVS repository trees

DISTNAME=	cvsweb-2.0.6
REVISION=	23
CATEGORIES=	devel www
HOMEPAGE=	http://www.freebsd.org/projects/cvsweb.html

# BSD
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${MASTER_SITE_FREEBSD_LOCAL:=scop/} \
		http://people.FreeBSD.org/~scop/cvsweb/

NO_BUILD=	Yes
NO_TEST=	Yes
PKG_ARCH=	*

PREFIX=		${VARBASE}/www
CONFDIR=	${PREFIX}/conf

ICONS=		back.gif dir.gif text.gif \
		miniback.gif minidir.gif minitext.gif

SUBST_VARS=	CONFDIR

do-configure:
	@@perl -i -pe 's@@%%CONFDIR%%@@${CONFDIR}@@g' ${WRKSRC}/cvsweb.cgi

do-install:
	${INSTALL_SCRIPT_DIR} ${PREFIX}/cgi-bin
	${INSTALL_SCRIPT} ${WRKSRC}/cvsweb.cgi ${PREFIX}/cgi-bin/cvsweb
	${INSTALL_DATA_DIR} ${CONFDIR}/cvsweb
	${INSTALL_DATA} ${WRKSRC}/cvsweb.conf ${CONFDIR}/cvsweb/cvsweb.conf.dist
	${INSTALL_DATA_DIR} ${PREFIX}/htdocs/cvsweb/icons
.for file in ${ICONS}
	${INSTALL_DATA} ${WRKSRC}/icons/${file} ${PREFIX}/htdocs/cvsweb/icons/
.endfor

.include <bsd.port.mk>
@


1.56
log
@Refer to httpd instead of Apache.

ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2016/07/30 14:10:58 naddy Exp $
d6 1
a6 1
REVISION=	22
@


1.55
log
@update paths for Perl 5.20.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2015/06/20 20:36:04 naddy Exp $
d6 1
a6 1
REVISION=	21
@


1.54
log
@update chroot instructions for perl 5.20.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/11/25 11:59:37 naddy Exp $
d6 1
a6 1
REVISION=	20
@


1.53
log
@fix chroot instructions for perl 5.20.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2014/07/26 19:38:03 naddy Exp $
d6 1
a6 1
REVISION=	19
@


1.52
log
@Fix chroot instructions to work with the perl version we ship in 5.6.
While here, drop some obsolete configuration examples and tweak the
default man.cgi URL.
ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/11/13 19:53:08 naddy Exp $
d6 1
a6 1
REVISION=	18
@


1.51
log
@cvs doesn't link against Kerberos any longer, so less stuff needed in chroot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/10/29 16:30:15 naddy Exp $
d6 1
a6 1
REVISION=	17
a22 2
CONFFILES=	cvsweb.conf cvsweb.conf-freebsd cvsweb.conf-netbsd \
		cvsweb.conf-openbsd cvsweb.conf-ruby
d35 1
a35 3
.for file in ${CONFFILES}
	${INSTALL_DATA} ${WRKSRC}/${file} ${CONFDIR}/cvsweb/${file}.dist
.endfor
@


1.50
log
@move icons to /cvsweb/icons so they are accessible by both httpd and nginx
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/08/13 16:47:25 naddy Exp $
d6 1
a6 1
REVISION =	16
@


1.49
log
@update chroot instructions: more Kerberos libraries required
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/07/05 07:23:33 jasper Exp $
d6 1
a6 1
REVISION =	15
d40 1
a40 1
	${INSTALL_DATA_DIR} ${PREFIX}/htdocs/icons/cvsweb
d42 1
a42 1
	${INSTALL_DATA} ${WRKSRC}/icons/${file} ${PREFIX}/htdocs/icons/cvsweb/
@


1.48
log
@use ${VARBASE} instead of hardcoding /var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/06/02 19:09:09 naddy Exp $
d6 1
a6 1
REVISION =	14
@


1.47
log
@* Install icons under the document root.
* Reformat the README so that it can be fed directly to sh(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/04/07 20:07:24 naddy Exp $
d20 1
a20 1
PREFIX=		/var/www
@


1.46
log
@More perl 5.16 fixes:
* Add further modules to README so that "annotate" will work.
* Fix a deprecation warning.
ok tobias@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/04/01 20:20:22 tobias Exp $
d3 1
a3 1
COMMENT=	WWW CGI script to browse CVS repository trees
d6 1
a6 1
REVISION =	13
d40 1
a40 1
	${INSTALL_DATA_DIR} ${PREFIX}/icons/cvsweb
d42 1
a42 1
	${INSTALL_DATA} ${WRKSRC}/icons/${file} ${PREFIX}/icons/cvsweb/${file}
@


1.45
log
@Update README after perl upgrade.

ok sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/03/11 10:50:02 espie Exp $
d6 1
a6 1
REVISION =	12
@


1.44
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/08/18 12:41:38 ajacoutot Exp $
d6 1
a6 1
REVISION =	11
@


1.43
log
@Remove irrelevant $FreeBSD RCS ids.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/06/02 13:41:38 ajacoutot Exp $
a11 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d17 1
a17 1
NO_REGRESS=	Yes
@


1.42
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.41 2011/04/21 11:28:22 landry Exp $
# $FreeBSD: ports/devel/cvsweb/Makefile,v 1.28 2000/09/23 20:48:45 knu Exp $
@


1.41
log
@Update instructions for running in chroot, from Mattieu Baptiste, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/11/13 09:24:52 ajacoutot Exp $
d7 1
a7 1
REVISION =	10
@


1.40
log
@Move to pkg-readmes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/08/30 22:03:58 jasper Exp $
d7 1
a7 1
REVISION =	9
@


1.39
log
@- first round of bumps for devel
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/11/25 19:54:19 naddy Exp $
d7 1
a7 1
REVISION =	8
a43 1
	${INSTALL_DATA} ${FILESDIR}/README.chroot ${CONFDIR}/cvsweb/
@


1.38
log
@update chroot instructions; ok jasper@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/10/29 08:19:06 giovanni Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p7
@


1.37
log
@
Fix README.chroot after perl upgrade
remove naddy@@ as maintainer per his request
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2009/06/02 04:38:35 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p6
@


1.36
log
@catch up with latest Perl demands; from Nathan Houghton <natex84@@gmail.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/02/17 09:04:07 giovanni Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p5
a9 2

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>
@


1.35
log
@
Fix README.Chroot after perl upgrade to 5.10
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2007/09/16 02:52:58 merdely Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
@


1.34
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2006/07/12 19:26:11 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
@


1.33
log
@Sync CVSweb installation instructions with Perl reality on current
OpenBSD systems; from Moritz Grimm <mlist@@scapa.dnsalias.net>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2006/02/04 17:01:35 naddy Exp $
d4 1
a4 1
COMMENT=	"WWW CGI script to browse CVS repository trees"
@


1.32
log
@* Use OpenBSD's man pages instead of FreeBSD's in the sample configuration.
From: Jasper Lievisse Adriaanse

* Fix sample URL for NetBSD man pages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2005/05/24 00:05:55 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.31
log
@Sync chroot instructions with perl version.
From: Lawrence Teo <lcteo@@uncc.edu>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2004/02/01 19:47:27 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.30
log
@- mark as arch-independent
- install README.chroot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2003/08/16 23:18:41 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
@


1.29
log
@* upstreamer maintainer suggests that we run without taint checks on perl 5.8
* cosmetics
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2003/08/16 18:12:10 naddy Exp $
d24 1
d46 1
@


1.28
log
@excise functions that require GNU diff; prodding by jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2003/05/13 22:53:58 sturm Exp $
d36 1
a36 1
	@@perl -i -pe 's@@%%SYSCONFDIR%%@@${CONFDIR}@@g' ${WRKSRC}/cvsweb.cgi
@


1.27
log
@don't change SYSCONFDIR, use CONFDIR instead
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2002/10/04 19:21:48 naddy Exp $
d7 1
@


1.26
log
@Update to FreeBSD-CVSweb 2.0.6.  Notable changes:
- Make annotate work under mod_perl.
- New config variable annotate_options.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/07/23 18:25:12 naddy Exp $
d25 1
a25 1
SYSCONFDIR=	${PREFIX}/conf
d32 2
d35 1
a35 1
	@@perl -i -pe 's@@%%SYSCONFDIR%%@@${SYSCONFDIR}@@g' ${WRKSRC}/cvsweb.cgi
d40 1
a40 1
	${INSTALL_DATA_DIR} ${SYSCONFDIR}/cvsweb
d42 1
a42 1
	${INSTALL_DATA} ${WRKSRC}/${file} ${SYSCONFDIR}/cvsweb/${file}.dist
@


1.25
log
@Update to 2.0.5: minor fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/07/07 12:31:09 naddy Exp $
d6 1
a6 1
DISTNAME=	cvsweb-2.0.5
@


1.24
log
@Update to FreeBSD-CVSweb 2.0.4.
New upstream maintainer, miscellaneous minor changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/05/22 18:53:15 naddy Exp $
d6 1
a6 1
DISTNAME=	cvsweb-2.0.4
@


1.23
log
@Update to FreeBSD cvsweb 2.0.3.

SECURITY:
* Fix cross-site scripting vulnerabilities.

Also:
* Add new configuration variables: $allow_log_extra, $allow_dir_extra,
and $allow_source_extra.
* Unbreak mod_perl support.
* Miscellaneous bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2002/05/13 18:50:39 espie Exp $
d6 1
a6 1
DISTNAME=	cvsweb-2.0.3
d8 1
a8 2
NEED_VERSION=	1.515
HOMEPAGE=	http://cvsweb.freebsd.org/projects/cvsweb/
d18 2
a19 2
MASTER_SITES=		${MASTER_SITE_FREEBSD_LOCAL:=knu/} \
			http://www.iDaemons.org/distfiles/
@


1.22
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2002/04/16 22:36:26 naddy Exp $
d6 1
a6 1
DISTNAME=	cvsweb-2.0.1
@


1.21
log
@Update to 2.0.1.  Notable changes in this release:
* Never pass "MAIN" to cvs(1).  "HEAD" is the valid tag.
* Use TMPDIR instead of the hardcoded /tmp.
* HTML cleanup.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2002/03/21 20:46:25 espie Exp $
d19 1
a19 1
MASTER_SITES=		${MASTER_SITE_FREEBSD_LOCAL} \
a20 1
MASTER_SITE_SUBDIR=	knu
@


1.20
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/11/08 14:28:55 naddy Exp $
d6 1
a6 1
DISTNAME=	cvsweb-2.0.0
@


1.20.2.1
log
@MFC:
SECURITY update to 2.0.3: Fix cross-site scripting vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
DISTNAME=	cvsweb-2.0.3
d19 1
a19 1
MASTER_SITES=		${MASTER_SITE_FREEBSD_LOCAL:=knu/} \
d21 1
@


1.19
log
@Update to FreeBSD-cvsweb 2.0.0.
* cvsweb.conf-freebsd: Allow downloading a tarball of a project
  directory as well as a port directory.
* cvsweb.cgi, cvsweb.conf: Introduce optional output filter.
* cvsweb.cgi: Fix a bug where it produces wrong download links when
  cvsweb.cgi is placed right under the document root.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/11/07 15:12:30 naddy Exp $
d8 1
a8 1
NEED_VERSION=	1.489
@


1.18
log
@* use MASTER_SITE_FREEBSD_LOCAL
* bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/10/25 16:14:51 naddy Exp $
d6 1
a6 1
DISTNAME=	cvsweb-1.112.1.82
d9 1
a9 1
HOMEPAGE=	http://www.idaemons.org/~knu/cvsweb/
d13 1
d19 2
a20 2
MASTER_SITES=	http://www.iDaemons.org/distfiles/ \
		${MASTER_SITE_FREEBSD_LOCAL}
a24 1
WRKDIST=	${WRKDIR}/cvsweb
@


1.17
log
@no regression test framework
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/08/01 19:59:25 naddy Exp $
d8 1
a8 1
NEED_VERSION=	1.402
d19 2
a20 4
		ftp://ftp.FreeBSD.org/pub/FreeBSD/%SUBDIR%/ \
		ftp://ftp.jp.FreeBSD.org/pub/FreeBSD/%SUBDIR%/ \
		ftp://ftp.se.FreeBSD.org/pub/FreeBSD/%SUBDIR%/
MASTER_SITE_SUBDIR=	ports/local-distfiles/knu
@


1.16
log
@Update to knu-cvsweb 1.112.1.82:
* Chdir to TMPDIR so it works even when the cgi-bin directory is unreadable.
* Let the module/path box appear and work properly when there is
only one repository.
* perltidy -i=8 -t -pt=2 -bt=2 -sbt=2 -ci=4 -noll -sfs -nasc -ce
* MFZ 1.111, but introduce @@ForbiddenFiles instead of @@DissallowRead
to forbid user to cvs checkout/diff/annotate specified files.
* MFZ 1.112: A couple of trivial fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/07/09 16:55:01 naddy Exp $
d25 1
@


1.15
log
@Update to knu-cvsweb 1.110.1.78.
- MFZ 1.109.  Preset the global variable the stores the per file
  cvs info to avoid accumulating cruft under modperl.
- Get rid of a potential "uninitialized variable usage" warning.
- MFZ 1.110.  But the bug had already been fixed in knu-cvsweb.
- Support "zip" as an additional archiver.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/06/05 19:29:57 naddy Exp $
d6 1
a6 1
DISTNAME=	cvsweb-1.110.1.78
d9 1
a9 1
HOMEPAGE=	http://stud.fh-heilbronn.de/~zeller/cgi/cvsweb.cgi/
d18 2
a19 1
MASTER_SITES=	ftp://ftp.FreeBSD.org/pub/FreeBSD/%SUBDIR%/ \
d21 1
a21 2
		ftp://ftp7.de.FreeBSD.org/pub/FreeBSD/%SUBDIR%/ \
		http://www.iDaemons.org/distfiles/
d30 2
a31 2
CONFFILES=	cvsweb.conf cvsweb.conf-ruby \
		cvsweb.conf-freebsd cvsweb.conf-openbsd cvsweb.conf-netbsd
@


1.14
log
@Update to 1.106.1.74.
- Correct a link in the navigation header.
- Avoid localizing @@_ to make threaded Perl happy.
- Change "Previous Directory" to "Parent Directory".
- Properly HTML-quote function names in the colored diff view.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/05/08 21:23:15 naddy Exp $
d6 1
a6 1
DISTNAME=	cvsweb-1.106.1.74
@


1.13
log
@Update to knu-cvsweb 1.106.1.71.
- Fix a typo and get diff -F RE to really work.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/05/06 00:12:56 lebel Exp $
d6 1
a6 1
DISTNAME=	cvsweb-1.106.1.71
@


1.12
log
@devel: COMMENT is out, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/04/04 00:55:24 naddy Exp $
d6 1
a6 1
DISTNAME=	cvsweb-1.106.1.70
@


1.11
log
@Update to knu-cvsweb 1.106.1.70.
- Conform cvsweb-markup pages to HTML 4.0 Transitional.
- Re-fix the bogus fix for the previous colons-in-a-filename problem.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/03/24 22:39:04 naddy Exp $
d4 2
d8 1
a8 1
NEED_VERSION=	1.340
@


1.10
log
@Update to knu-cvsweb 1.106.1.68:
- Clean up URI parser.
- Workaround thttpd's buggy SCRIPT_NAME / PATH_INFO parser.
- Allow downloading a single port/pkgsrc in tarball by default.
- Remove an obsolete notice: CVSWEB_CONFIG is disused.
- One leftover substitution: "cvs" -> $CMD{cvs}.
- Use a fixed-width font in the colored diff view.
- Do closedir() properly.
- Encode colons in file names properly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/01/12 00:13:08 naddy Exp $
d4 1
a4 1
DISTNAME=	cvsweb-1.106.1.68
@


1.9
log
@Update to 1.104.1.62.
- Run "tar cf - ... | gzip -c" rather than "tar zcf - ..." to avoid
  tar(1)'s automatic padding of nulls to align with the block size,
  which is just garbage for a receiver.
- Have $uname variable to hold the OS implementation name and wrap
  FreeBSD or OpenBSD specific features in conditional blocks using
  $uname.
- Miscellaneous small fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/01/06 13:29:24 naddy Exp $
d4 1
a4 1
DISTNAME=	cvsweb-1.104.1.62
d18 2
a19 1
		ftp://ftp7.de.FreeBSD.org/pub/FreeBSD/%SUBDIR%/
@


1.8
log
@Update to 1.104.1.59.
- Put a text field on each directory view that allows users to jump
  directly to an arbitrary module, which can be specified either
  by a full module/file path or by a module alias.
- Don't rely on perl's $ENV{PATH} search.  Search commands for
  itself and specify them by full paths
- Miscellaneous fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/01/03 00:51:40 naddy Exp $
d4 1
a4 1
DISTNAME=	cvsweb-1.104.1.59
@


1.7
log
@Port changes:
- Install icons.
- Additional MASTER_SITES.
Update to 1.104.1.55:
- Move configuration files to cvsweb subdirectory.
- Add cvsweb.conf-{freebsd,netbsd,openbsd,ruby} examples.
- Add $prkeyword variable to specify the bug report identifier.
- Run under perl -T.
- Turn $allow_compress off by default.
- Miscellaneous fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/12/30 15:39:13 naddy Exp $
d4 1
a4 1
DISTNAME=	cvsweb-1.104.1.55
@


1.6
log
@Update to 1.104.1.52:
- Add automatic tarball generation feature (default: off).
- Suck in configuration files with "require" instead of "do".
- Add charset to all text/* output.
- Add @@tar_options and @@cvs_options.
- Add $preformat_in_markup variable (default: off).
- Miscellaneous fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/12/18 15:06:46 naddy Exp $
d4 1
a4 1
DISTNAME=	cvsweb-1.104.1.52
d16 4
a19 1
MASTER_SITES=	ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/local-distfiles/knu/
d27 5
d33 1
a33 1
	perl -i -pe 's@@%%SYSCONFDIR%%@@${SYSCONFDIR}@@g' ${WRKSRC}/cvsweb.cgi
d38 8
a45 2
	${INSTALL_DATA_DIR} ${SYSCONFDIR}
	${INSTALL_DATA} ${WRKSRC}/cvsweb.conf ${SYSCONFDIR}/cvsweb.conf-dist
@


1.5
log
@Update to knu-cvsweb 1.104.1.45.

2000-12-18 13:25  knu

        * TODO.knu, cvsweb.cgi: Revert MFZ: 1.103 -> 1.104 which introduced
        a bogus bug.  As noone seems to need to use 0.X revisions, I'd just
        drop it.  This should fix the "show only tags" feature.

2000-12-18 12:47  knu

        * cvsweb.cgi: Silence the warnings.

2000-12-18 11:48  knu

        * cvsweb.cgi: Add meta tags to prevent WWW robots from crawling
        over the cvsweb.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/12/07 17:04:38 naddy Exp $
d4 1
a4 1
DISTNAME=	cvsweb-1.104.1.45
@


1.4
log
@Update to knu-cvsweb 1.104.1.42.
- cvsweb.conf: Add a new variable $charset to specify the charset for HTML
  output.
- Miscellaneous clean-ups and optimizations.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/11/18 13:35:17 naddy Exp $
d4 1
a4 1
DISTNAME=	cvsweb-1.104.1.42
@


1.3
log
@Update to Zeller 1.104, knu 1.39.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/10/09 17:23:37 naddy Exp $
d4 1
a4 1
DISTNAME=	cvsweb-1.104.1.39
@


1.2
log
@Update to knu-cvsweb 1.103.1.33:

  2000-10-07 16:44  knu

        * cvsweb.cgi: Fix &link() not to put a redundant trailing LF.

        Improve manpage linking to support "foo.1" as well as "foo(1)".

  2000-10-07 16:35  knu

        * cvsweb.cgi: Fix screwups in the last commit.

        Parse rlog's output explicitly.  Recognize 77 ='s as a file
        separator, and 28 -'s as revision separator.

        Submitted by:   Makoto MATSUSHITA <matusita@@jp.FreeBSD.org>

  2000-10-03 04:07  knu

        * cvsweb.cgi: Cleanup $barequery generation.  Undefine "my"
        variables when they are done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/10/01 19:18:53 naddy Exp $
d4 1
a4 1
DISTNAME=	cvsweb-1.103.1.33
d6 1
a6 1
NEED_VERSION=	1.338
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 1
DISTNAME=	cvsweb-1.103.1.30
d6 1
a6 1
NEED_VERSION=	1.337
@


1.1.1.1
log
@Import of cvsweb revision 1.103(zeller)-1.30(knu).

The cvsweb WWW CGI script allows remote users to browse a CVS
repository tree via the web.  It can display the revision history
of a file, as well as diffs between revisions, and download the
whole file.
@
text
@@
