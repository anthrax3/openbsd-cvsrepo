head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.2
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.2.0.22
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.20
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.16
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.18
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.14
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.12
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.10
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.8
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.6
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.4
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	pirofti_20111116:1.1.1.1
	pirofti:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2017.06.04.22.25.31;	author espie;	state Exp;
branches;
next	1.3;
commitid	MMRfm0iOTVK3liUp;

1.3
date	2017.06.02.12.26.21;	author pirofti;	state Exp;
branches;
next	1.2;
commitid	vb8JlkzSMsRMPMxC;

1.2
date	2011.11.17.14.41.58;	author pirofti;	state Exp;
branches;
next	1.1;

1.1
date	2011.11.16.19.27.48;	author pirofti;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.11.16.19.27.48;	author pirofti;	state Exp;
branches;
next	;


desc
@@


1.4
log
@THIS configuration fragment *is* clang specific
@
text
@$OpenBSD: patch-x86-mingw32-build_sh_conf,v 1.3 2017/06/02 12:26:21 pirofti Exp $
Index: x86-mingw32-build.sh.conf
--- x86-mingw32-build.sh.conf.orig
+++ x86-mingw32-build.sh.conf
@@@@ -35,17 +35,17 @@@@
 #    the `x86-mingw32-build.sh.hosts' file for the `mirror' field
 #    in the following URL, to establish a default download host.
 #
-     assume DOWNLOAD_HOST     http://prdownloads.sourceforge.net/mingw
-     assume DOWNLOAD_OPTIONS  '?download&use_mirror=mirror'
+#     assume DOWNLOAD_HOST     http://prdownloads.sourceforge.net/mingw
+#     assume DOWNLOAD_OPTIONS  '?download&use_mirror=mirror'
 #
 # 3) Directories to use for temporary working space, package storage,
 #    and ultimate compiler installation.  You should adjust these to
 #    match your own host configuration; note that you MUST have WRITE
 #    permission for each directory specified.
 #
-     assume WORKING_DIR                   $HOME/tmp/mingw-3.4.5
-     assume PACKAGE_DIR                   $HOME/packages/mingw-3.4.5
-     assume INSTALL_DIR                   $HOME/mingw32
+     assume WORKING_DIR                   ${MINGW32_TMP}
+     assume PACKAGE_DIR                   ${FULLDISTDIR}
+     assume INSTALL_DIR                   ${MINGW32_OUT}
 #
 # 4) Package versions, from which the compiler will be built.
 #
@@@@ -93,11 +93,11 @@@@
 #    the corresponding package is available in the PACKAGE_DIR, or
 #    if it is selected for download.
 #
-     option GCC_LANGUAGE_OPTIONS          ada
+#    option GCC_LANGUAGE_OPTIONS          ada
      option GCC_LANGUAGE_OPTIONS          c++
-     option GCC_LANGUAGE_OPTIONS          f77
-     option GCC_LANGUAGE_OPTIONS          java
-     option GCC_LANGUAGE_OPTIONS          objc
+#    option GCC_LANGUAGE_OPTIONS          f77
+#    option GCC_LANGUAGE_OPTIONS          java
+#    option GCC_LANGUAGE_OPTIONS          objc
 #
 # 8) User preferences for configuration options.  These have been
 #    preconfigured to match the setup of the prebuilt compiler suite,
@@@@ -129,13 +129,13 @@@@
      option GCC_BASE_OPTIONS            --enable-threads=win32
      option GCC_BASE_OPTIONS            --disable-win32-registry
 #
-     option GCC_JAVA_BASE_OPTIONS       --enable-libgcj
-     option GCC_JAVA_BASE_OPTIONS       --disable-libgcj-debug
-     option GCC_JAVA_BASE_OPTIONS       --disable-java-awt
-     option GCC_JAVA_BASE_OPTIONS       --enable-java-gc=boehm
-     option GCC_JAVA_BASE_OPTIONS       --enable-interpreter
-     option GCC_JAVA_BASE_OPTIONS       --enable-hash-synchronization
-     option GCC_JAVA_BASE_OPTIONS       --without-x
+#    option GCC_JAVA_BASE_OPTIONS       --enable-libgcj
+#    option GCC_JAVA_BASE_OPTIONS       --disable-libgcj-debug
+#    option GCC_JAVA_BASE_OPTIONS       --disable-java-awt
+#    option GCC_JAVA_BASE_OPTIONS       --enable-java-gc=boehm
+#    option GCC_JAVA_BASE_OPTIONS       --enable-interpreter
+#    option GCC_JAVA_BASE_OPTIONS       --enable-hash-synchronization
+#    option GCC_JAVA_BASE_OPTIONS       --without-x
 #
      option CFLAGS_FOR_BINUTILS          -O2
      option CFLAGS_FOR_BINUTILS          -fno-exceptions
@


1.3
log
@Prepare MinGW for clang.

Lots of help and OK espie@@, thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-x86-mingw32-build_sh_conf,v 1.2 2011/11/17 14:41:58 pirofti Exp $
d44 1
a44 1
@@@@ -129,16 +129,17 @@@@
a64 4
+     option CFLAGS_FOR_BINUTILS          -fbracket-depth=1024
 #
      option LDFLAGS_FOR_BINUTILS         -s
 #
@


1.2
log
@Polish up the toolchain:
	- get rid of libtool and thus rpath bugs
	- install libexec files as they're also needed
	- copy the crt files in lib/gcc/i386-mingw32/3.4.5 as the
	  compiler looks for them in there and not in lib
	- disable shared and thus lose the platform specific files
	  (noticed by jeremy@@ as well)
	- adapt the README after these changes
@
text
@d1 4
a4 3
$OpenBSD: patch-x86-mingw32-build_sh_conf,v 1.1.1.1 2011/11/16 19:27:48 pirofti Exp $
--- x86-mingw32-build.sh.conf.orig	Thu Mar 11 00:16:55 2010
+++ x86-mingw32-build.sh.conf	Thu Nov 17 16:01:32 2011
d44 1
a44 1
@@@@ -129,13 +129,13 @@@@
d65 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ x86-mingw32-build.sh.conf	Tue Nov 15 02:01:16 2011
a42 9
@@@@ -114,7 +114,7 @@@@
 #    build script; tampering with it here may damage the build.
 #
      option GLOBAL_USER_OPTIONS         --disable-nls
-     option GLOBAL_USER_OPTIONS         --disable-shared
+     option GLOBAL_USER_OPTIONS         --enable-shared
      option GLOBAL_USER_OPTIONS         --disable-debug
 #
      option GCC_USER_OPTIONS            --enable-sjlj-exceptions
@


1.1.1.1
log
@Developers, developers, developers!

Okay jasper@@
@
text
@@
