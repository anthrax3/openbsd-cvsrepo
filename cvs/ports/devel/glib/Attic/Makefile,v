head	1.75;
access;
symbols
	OPENBSD_6_0:1.74.0.2
	OPENBSD_6_0_BASE:1.74
	OPENBSD_5_9:1.73.0.2
	OPENBSD_5_9_BASE:1.73
	OPENBSD_5_8:1.73.0.4
	OPENBSD_5_8_BASE:1.73
	OPENBSD_5_7:1.71.0.2
	OPENBSD_5_7_BASE:1.71
	OPENBSD_5_6:1.68.0.4
	OPENBSD_5_6_BASE:1.68
	OPENBSD_5_5:1.68.0.2
	OPENBSD_5_5_BASE:1.68
	OPENBSD_5_4:1.67.0.2
	OPENBSD_5_4_BASE:1.67
	OPENBSD_5_3:1.65.0.2
	OPENBSD_5_3_BASE:1.65
	OPENBSD_5_2:1.64.0.2
	OPENBSD_5_2_BASE:1.64
	OPENBSD_5_1_BASE:1.63
	OPENBSD_5_1:1.63.0.6
	OPENBSD_5_0:1.63.0.4
	OPENBSD_5_0_BASE:1.63
	OPENBSD_4_9:1.63.0.2
	OPENBSD_4_9_BASE:1.63
	OPENBSD_4_8:1.61.0.2
	OPENBSD_4_8_BASE:1.61
	OPENBSD_4_7:1.60.0.6
	OPENBSD_4_7_BASE:1.60
	OPENBSD_4_6:1.60.0.4
	OPENBSD_4_6_BASE:1.60
	OPENBSD_4_5:1.60.0.2
	OPENBSD_4_5_BASE:1.60
	OPENBSD_4_4:1.59.0.4
	OPENBSD_4_4_BASE:1.59
	OPENBSD_4_3:1.59.0.2
	OPENBSD_4_3_BASE:1.59
	OPENBSD_4_2:1.57.0.4
	OPENBSD_4_2_BASE:1.57
	OPENBSD_4_1:1.57.0.2
	OPENBSD_4_1_BASE:1.57
	OPENBSD_4_0:1.56.0.4
	OPENBSD_4_0_BASE:1.56
	OPENBSD_3_9:1.56.0.2
	OPENBSD_3_9_BASE:1.56
	OPENBSD_3_8:1.54.0.2
	OPENBSD_3_8_BASE:1.54
	OPENBSD_3_7:1.53.0.2
	OPENBSD_3_7_BASE:1.53
	OPENBSD_3_6:1.52.0.6
	OPENBSD_3_6_BASE:1.52
	OPENBSD_3_5:1.52.0.4
	OPENBSD_3_5_BASE:1.52
	OPENBSD_3_4:1.52.0.2
	OPENBSD_3_4_BASE:1.52
	OPENBSD_3_3:1.50.0.2
	OPENBSD_3_3_BASE:1.50
	OPENBSD_3_2:1.48.0.2
	OPENBSD_3_2_BASE:1.48
	OPENBSD_3_1:1.47.0.2
	OPENBSD_3_1_BASE:1.47
	OPENBSD_3_0:1.44.0.2
	OPENBSD_3_0_BASE:1.44
	OPENBSD_2_9_TRACKING_SWITCH:1.41
	OPENBSD_2_9:1.38.0.2
	OPENBSD_2_9_BASE:1.38
	OPENBSD_2_8:1.33.0.2
	OPENBSD_2_8_BASE:1.33
	OPENBSD_2_7:1.25.0.2
	OPENBSD_2_7_BASE:1.25
	OPENBSD_2_6:1.16.0.2
	OPENBSD_2_6_BASE:1.16
	OPENBSD_2_5:1.11.0.2
	OPENBSD_2_5_BASE:1.11
	BrunoRohee_1999-Feb-27:1.1.1.1
	BrunoRohee:1.1.1;
locks; strict;
comment	@# @;


1.75
date	2016.08.30.11.04.42;	author ajacoutot;	state dead;
branches;
next	1.74;
commitid	aQEp5GDnFHOpYQFR;

1.74
date	2016.03.11.19.59.12;	author naddy;	state Exp;
branches;
next	1.73;
commitid	pguKLBEFv33DrgKU;

1.73
date	2015.05.25.07.54.27;	author jasper;	state Exp;
branches;
next	1.72;
commitid	jsaRAQWqOGFN8HTC;

1.72
date	2015.03.16.18.07.40;	author naddy;	state Exp;
branches;
next	1.71;
commitid	IJdm3Zowcdkcxp5X;

1.71
date	2014.11.04.16.01.58;	author dcoppa;	state Exp;
branches;
next	1.70;
commitid	7IPlqCFeVWYRYM1s;

1.70
date	2014.11.04.10.35.35;	author dcoppa;	state Exp;
branches;
next	1.69;
commitid	Ijym7f16KoJywqU0;

1.69
date	2014.09.10.07.07.25;	author jasper;	state Exp;
branches;
next	1.68;
commitid	TwBq23kgBWgCe8xT;

1.68
date	2013.11.03.07.52.01;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2013.03.21.08.45.15;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2013.03.11.10.50.04;	author espie;	state Exp;
branches;
next	1.65;

1.65
date	2012.08.10.20.11.41;	author naddy;	state Exp;
branches;
next	1.64;

1.64
date	2012.03.29.13.38.13;	author sthen;	state Exp;
branches;
next	1.63;

1.63
date	2010.11.15.19.45.58;	author espie;	state Exp;
branches;
next	1.62;

1.62
date	2010.10.18.17.47.53;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2010.05.09.15.05.30;	author robert;	state Exp;
branches;
next	1.60;

1.60
date	2008.12.22.20.28.18;	author naddy;	state Exp;
branches;
next	1.59;

1.59
date	2007.12.11.10.57.25;	author jakemsr;	state Exp;
branches;
next	1.58;

1.58
date	2007.09.16.02.52.59;	author merdely;	state Exp;
branches;
next	1.57;

1.57
date	2006.10.28.11.19.21;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2006.01.06.19.41.24;	author bernd;	state Exp;
branches;
next	1.55;

1.55
date	2005.10.30.00.10.40;	author fgsch;	state Exp;
branches;
next	1.54;

1.54
date	2005.04.25.16.29.19;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2004.11.23.11.22.02;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2003.05.27.23.00.50;	author miod;	state Exp;
branches;
next	1.51;

1.51
date	2003.05.21.06.34.04;	author marcm;	state Exp;
branches;
next	1.50;

1.50
date	2002.12.29.20.19.10;	author fgsch;	state Exp;
branches;
next	1.49;

1.49
date	2002.11.13.16.46.39;	author brad;	state Exp;
branches;
next	1.48;

1.48
date	2002.05.13.18.50.39;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2002.01.09.17.26.22;	author brad;	state Exp;
branches;
next	1.46;

1.46
date	2002.01.07.14.32.07;	author brad;	state Exp;
branches;
next	1.45;

1.45
date	2001.10.28.13.09.45;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2001.10.06.03.37.41;	author brad;	state Exp;
branches;
next	1.43;

1.43
date	2001.09.20.03.45.14;	author brad;	state Exp;
branches;
next	1.42;

1.42
date	2001.08.30.02.10.40;	author brad;	state Exp;
branches;
next	1.41;

1.41
date	2001.07.31.23.48.18;	author brad;	state Exp;
branches;
next	1.40;

1.40
date	2001.07.13.11.23.59;	author naddy;	state Exp;
branches;
next	1.39;

1.39
date	2001.06.03.04.24.53;	author brad;	state Exp;
branches;
next	1.38;

1.38
date	2001.04.03.14.42.47;	author brad;	state Exp;
branches;
next	1.37;

1.37
date	2001.04.03.14.12.47;	author brad;	state Exp;
branches;
next	1.36;

1.36
date	2001.03.22.14.52.08;	author brad;	state Exp;
branches;
next	1.35;

1.35
date	2001.03.07.22.51.22;	author brad;	state Exp;
branches;
next	1.34;

1.34
date	2000.11.11.21.53.30;	author brad;	state Exp;
branches;
next	1.33;

1.33
date	2000.09.24.07.04.03;	author brad;	state Exp;
branches;
next	1.32;

1.32
date	2000.09.13.08.56.30;	author brad;	state Exp;
branches;
next	1.31;

1.31
date	2000.08.27.22.16.22;	author brad;	state Exp;
branches;
next	1.30;

1.30
date	2000.08.17.21.44.18;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2000.08.17.20.55.58;	author fgsch;	state Exp;
branches;
next	1.28;

1.28
date	2000.07.04.01.46.37;	author krw;	state Exp;
branches;
next	1.27;

1.27
date	2000.06.21.09.57.54;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2000.06.11.17.49.35;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	2000.03.24.22.11.38;	author espie;	state Exp;
branches
	1.25.2.1;
next	1.24;

1.24
date	2000.03.10.17.44.15;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2000.03.10.07.45.14;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	2000.03.08.01.13.13;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2000.02.15.05.04.12;	author turan;	state Exp;
branches;
next	1.20;

1.20
date	2000.02.12.08.02.13;	author turan;	state Exp;
branches;
next	1.19;

1.19
date	2000.02.06.00.28.56;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2000.01.01.00.02.42;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	99.10.27.01.14.24;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	99.09.04.04.56.24;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	99.06.09.20.33.41;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	99.05.11.18.40.18;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	99.04.30.19.21.37;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	99.04.22.21.54.34;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	99.04.04.21.16.49;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	99.03.26.04.40.53;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.03.26.04.40.01;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	99.03.26.01.55.53;	author marc;	state Exp;
branches;
next	1.7;

1.7
date	99.03.26.01.53.44;	author marc;	state Exp;
branches;
next	1.6;

1.6
date	99.03.25.23.48.37;	author marc;	state Exp;
branches;
next	1.5;

1.5
date	99.03.25.20.14.42;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	99.03.18.01.15.21;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.03.16.21.06.20;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.03.02.04.41.01;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	99.02.27.15.32.39;	author rohee;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.02.27.15.32.39;	author rohee;	state Exp;
branches;
next	;

1.25.2.1
date	2000.09.15.04.49.00;	author marc;	state Exp;
branches;
next	;


desc
@@


1.75
log
@Remove glib1.
As jasper puts it, "we no longer party like it's 1998".

ok jasper@@
@
text
@# $OpenBSD: Makefile,v 1.74 2016/03/11 19:59:12 naddy Exp $

PORTROACH=	limit:^1\.2\.

COMMENT=	useful routines for C programming

DISTNAME=	glib-1.2.10
SHARED_LIBS +=	glib                 1.2      # .1.2
SHARED_LIBS +=	gmodule              1.2      # .1.2
SHARED_LIBS +=	gthread              1.2      # .1.2

REVISION =	6

CATEGORIES=	devel
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/glib/1.2/}

HOMEPAGE=	http://www.gtk.org/

PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		pthread

SEPARATE_BUILD=	Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --enable-static

NO_TEST=	Yes

post-extract:
	rm ${WRKSRC}/docs/glib.info*

.include <bsd.port.mk>
@


1.74
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2015/05/25 07:54:27 jasper Exp $
@


1.73
log
@remove a whole bunch more @@rm -f cases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2015/03/16 18:07:40 naddy Exp $
a24 1
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
@


1.72
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2014/11/04 16:01:58 dcoppa Exp $
d31 1
a31 1
	@@rm -f ${WRKSRC}/docs/glib.info*
@


1.71
log
@
PORTROACH: use the right regexp
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2014/11/04 10:35:35 dcoppa Exp $
d12 1
a12 1
REVISION =	5
@


1.70
log
@
PORTROACH, limit to even numbers.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2014/09/10 07:07:25 jasper Exp $
d3 1
a3 1
PORTROACH=	limitw:1,even
@


1.69
log
@tell PORTROACH to ignore glib/gtk versions from this era, ie. stick to 1.x
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/11/03 07:52:01 ajacoutot Exp $
d3 1
a3 1
PORTROACH=	limit:^1
@


1.68
log
@No need for /-lpthread/-pthread
@
text
@d1 3
a3 2
# $OpenBSD: Makefile,v 1.67 2013/03/21 08:45:15 ajacoutot Exp $
# Uses pthreads
@


1.67
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/03/11 10:50:04 espie Exp $
a6 1
REVISION =	4
d11 2
d19 1
@


1.66
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2012/08/10 20:11:41 naddy Exp $
a25 1
USE_LIBTOOL=	Yes
@


1.65
log
@kill a few unneeded groff dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2012/03/29 13:38:13 sthen Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d25 1
a25 1
NO_REGRESS=	Yes
@


1.64
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/11/15 19:45:58 espie Exp $
a29 1
USE_GROFF =	Yes
@


1.63
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/10/18 17:47:53 espie Exp $
d23 1
a23 1
SEPARATE_BUILD=	concurrent
@


1.62
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/05/09 15:05:30 robert Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
@


1.61
log
@Fix build with gcc4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2008/12/22 20:28:18 naddy Exp $
d30 1
@


1.60
log
@quote first argument of AC_DEFUN to silence warnings from aclocal 1.8+
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2007/12/11 10:57:25 jakemsr Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
@


1.59
log
@use -pthread instead of -lpthread for pthread linkage

bulk build tested by steven@@

sync w/update-patches while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2007/09/16 02:52:59 merdely Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.58
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2006/10/28 11:19:21 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.57
log
@a few more SHARED_LIBS reformat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2006/01/06 19:41:24 bernd Exp $
d4 1
a4 1
COMMENT=	"useful routines for C programming"
@


1.56
log
@SHARED_LIBS, USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2005/10/30 00:10:40 fgsch Exp $
d8 3
a10 3
SHARED_LIBS=	glib	1.2 \
		gmodule	1.2 \
		gthread	1.2
@


1.55
log
@after querying brad@@ he decided to drop maintainership for these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2005/04/25 16:29:19 espie Exp $
d7 5
a11 1
PKGNAME=	${DISTNAME}p0
a27 4
PATCH_LIST=	${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltconfig \
		${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltmain_sh \
		patch-*

d29 1
@


1.54
log
@let's fake it all
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2004/11/23 11:22:02 espie Exp $
a11 2

MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.53
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2003/05/27 23:00:50 miod Exp $
d7 1
@


1.52
log
@Do not explicitely disable threads on vax anymore.
ok brad@@ marcm@@ (maintainers)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2003/05/21 06:34:04 marcm Exp $
d18 1
@


1.51
log
@Add a workaround for dealing with threading (or lack thereof) on Vax.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2002/12/29 20:19:10 fgsch Exp $
a22 5

# VAX thread support as yet incomplete
.if (${MACHINE_ARCH} == "vax")
CONFIGURE_ARGS+= --disable-threads
.endif
@


1.50
log
@and more..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2002/11/13 16:46:39 brad Exp $
d23 5
@


1.49
log
@more URL fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2002/05/13 18:50:39 espie Exp $
a7 1
NEED_VERSION=	1.500
@


1.48
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2002/01/09 17:26:22 brad Exp $
d9 1
a9 1
MASTER_SITES=	${MASTER_SITE_GNOME:=stable/sources/glib/}
@


1.47
log
@remove some bits and pieces that was used for Pth.
--
Pointed out by: Nils Nordman <nino@@nforced.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2002/01/07 14:32:07 brad Exp $
d9 1
a9 2
MASTER_SITES=	${MASTER_SITE_GNOME}
MASTER_SITE_SUBDIR= stable/sources/glib
@


1.46
log
@- rename checksums file
- replace usage of Pth with native threads
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2001/10/28 13:09:45 espie Exp $
a33 5

post-patch:
	@@mv -f ${WRKSRC}/glib-config.in ${WRKSRC}/glib-config.in.bak
	@@sed -e s#!!PTHREAD_LIBDIR!!#${LOCALBASE}/lib/pth#g \
		${WRKSRC}/glib-config.in.bak > ${WRKSRC}/glib-config.in
@


1.45
log
@lib/pth needs a path as well.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2001/10/06 03:37:41 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.460
a13 2
LIB_DEPENDS=	lib/pth/pthread.14:pth-1.4.*:devel/pth

a24 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/pth" \
		LDFLAGS="-L${LOCALBASE}/lib/pth"
d29 2
@


1.44
log
@use ports in-tree libtool patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2001/09/20 03:45:14 brad Exp $
d14 1
a14 1
LIB_DEPENDS=	pthread.14:pth-1.4.*:devel/pth
@


1.43
log
@- better MASTER_SITES
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2001/08/30 02:10:40 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.458
d30 4
d38 1
a38 1
	@@mv -f ${WRKSRC}/glib-config.in ${WRKSRC}/glib-config.in.new
d40 1
a40 1
		${WRKSRC}/glib-config.in.new > ${WRKSRC}/glib-config.in
@


1.42
log
@add a comment to doucment a few ports which use pthreads
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2001/07/31 23:48:18 brad Exp $
d8 3
a10 5
NEED_VERSION=	1.435
MASTER_SITES=	ftp://ftp.gimp.org/pub/gtk/v1.2/ \
		ftp://ftp.cs.umn.edu/pub/gimp/gtk/v1.2/ \
		http://www.ameth.org/gimp/gtk/v1.2/ \
		ftp://ftp.funet.fi/pub/mirrors/ftp.gimp.org/gtk/v1.2/
@


1.41
log
@dewey dependency on Pth.
@
text
@d1 2
a2 1
# $OpenBSD: Makefile,v 1.40 2001/07/13 11:23:59 naddy Exp $
d8 1
a8 1
NEED_VERSION=	1.413
@


1.40
log
@MASTER_SITES fix by Heikki Korpela <heko@@saitti.net>:
- Add ftp.funet.fi and ftp.sunet.se mirrors where available.
- Remove broken ftp.funet.fi references.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2001/06/03 04:24:53 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.402
d15 1
a15 1
LIB_DEPENDS=	pthread.14::devel/pth
@


1.39
log
@better post-patch target
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2001/04/03 14:42:47 brad Exp $
d10 2
a11 1
		http://www.ameth.org/gimp/gtk/v1.2/
@


1.38
log
@upgrade to glib 1.2.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2001/04/03 14:12:47 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.384
d34 1
a34 1
	@@mv -f ${WRKSRC}/glib-config.in ${WRKSRC}/glib-config.in.orig
d36 1
a36 1
		${WRKSRC}/glib-config.in.orig > ${WRKSRC}/glib-config.in
@


1.37
log
@- integrate COMMENT
- enable thread support by default using Pth
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2001/03/22 14:52:08 brad Exp $
d5 1
a5 1
DISTNAME=	glib-1.2.9
@


1.36
log
@better
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2001/03/07 22:51:22 brad Exp $
d3 1
a3 3
.if ${MACHINE_ARCH} == "powerpc"
BROKEN=		"BROKEN on powerpc: reason unknown at the moment"
.endif
d7 1
a7 1
NEED_VERSION=	1.336
d14 2
d27 2
a28 12

FLAVORS=	threads
FLAVOR?=

.if ${FLAVOR:L} == "threads"
. if ${MACHINE_ARCH} == "sparc" || ${MACHINE_ARCH} == "powerpc"
BROKEN=		"pthreads are currently not working on the ${MACHINE_ARCH} architecture"
. endif
CONFIGURE_ARGS+= --enable-threads
.else
CONFIGURE_ARGS+= --disable-threads
.endif
d32 5
@


1.35
log
@upgrade to glib 1.2.9

!!NOTE!!: header files for glib have changed locations so this WILL cause
breakage.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2000/11/11 21:53:30 brad Exp $
d32 2
a33 2
. if ${MACHINE_ARCH} == "sparc"
BROKEN=		"pthreads are currently not working on the SPARC architecture"
@


1.34
log
@- use "cc -shared" on 2.8 and up to create shared libraries.
- mark broken on powerpc for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2000/09/24 07:04:03 brad Exp $
d7 1
a7 1
DISTNAME=	glib-1.2.8
d26 1
a26 1
CONFIGURE_ARGS+= --enable-static --includedir="${PREFIX}/include/glib"
a41 4

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/aclocal
	${INSTALL_DATA} ${WRKSRC}/glib.m4 ${PREFIX}/share/aclocal
@


1.33
log
@add name to MAINTAINER
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.32 2000/09/13 08:56:30 brad Exp $
d9 1
a9 1
NEED_VERSION=	1.330
@


1.32
log
@mark threads FLAVOR BROKEN on SPARC.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2000/08/27 22:16:22 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.320
d12 1
a12 1
MAINTAINER=	brad@@openbsd.org
@


1.31
log
@bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2000/08/17 21:44:18 brad Exp $
d28 3
@


1.30
log
@revert this change, you could have atleast passed it by me first,
no_threads -> threads
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2000/08/17 20:55:58 fgsch Exp $
d5 1
a5 1
NEED_VERSION=	1.310
@


1.29
log
@Add no_threads FLAVOR. Compile with threads support by default.
Useful if I ever get freeamp to work.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2000/07/04 01:46:37 krw Exp $
d24 1
a24 1
FLAVORS=	no_threads
d27 4
a30 2
.if ${FLAVOR:L} == "no_threads"
CONFIGURE_ARGS+=  --disable-threads
@


1.28
log
@Change PFRAG.shared ldconfig invocation(s) to
DYNLIBDIR() invocations.

Bump NEED_VERSION to 1.310 so DYNLIBDIR() works.

As requested by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2000/06/21 09:57:54 brad Exp $
d22 8
a29 2
CONFIGURE_ARGS+= --enable-static --disable-threads \
		--includedir="${PREFIX}/include/glib"
@


1.27
log
@upgrade to glib 1.2.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2000/06/11 17:49:35 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.301
@


1.26
log
@- add HOMEPAGE
- remove FAKE=Yes
- GNU_CONFIGURE -> CONFIGURE_STYLE
- use new framework for PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2000/03/24 22:11:38 espie Exp $
d3 1
a3 1
DISTNAME=	glib-1.2.7
d10 1
a10 1
HOMEPAGE=	http://www.gtk.org
@


1.25
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/03/10 17:44:15 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.223
d10 1
a18 2
FAKE=	Yes

d20 1
a20 1
GNU_CONFIGURE=	Yes
@


1.25.2.1
log
@bring devel as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2000/07/04 01:46:37 krw Exp $
d3 1
a3 1
DISTNAME=	glib-1.2.8
d5 1
a5 1
NEED_VERSION=	1.310
a9 1
HOMEPAGE=	http://www.gtk.org/
d18 2
d21 1
a21 1
CONFIGURE_STYLE= gnu
@


1.24
log
@fix stupid automake code for producing info pages so it'll work when using
SEPARATE_BUILD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/03/10 07:45:14 brad Exp $
d5 1
a9 1
NEED_VERSION=	1.223
@


1.23
log
@upgrade to glib 1.2.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/02/15 05:04:12 turan Exp $
d20 1
@


1.22
log
@Fake
@
text
@d3 1
a3 1
DISTNAME=	glib-1.2.6
a4 1
NEED_VERSION=	1.218
d9 1
a12 1
LICENSE_TYPE=		GPL
d18 2
a19 1
FAKE=		Yes
a24 20
# People that installed an older version of gtk+ wound up with
# libglib.a and libglib.so.1.6 in /usr/X11R6/lib... these files
# MUST be removed as the version was incorrect (it came from 1.0.6
# sources). Check that out here (and bitch if necessary).
pre-extract:
	@@if [ -f ${X11BASE}/lib/libglib.a ]; then \
	   echo "+-------------------"; \
	   echo "| ERROR: you MUST remove the existing glib installation"; \
	   echo "| before installing this version.  Glib was installed as"; \
	   echo "| part of an older version of gtk+.  To fully remove run"; \
	   echo "| these commands as user root"; \
	   echo "|"; \
	   echo "|	pkg_delete -f `pkg_info -e 'gtk+-*'`"; \
	   echo "|	ldconfig ${X11BASE}/lib"; \
	   echo "|	ldconfig -m ${LOCALBASE}/lib"; \
	   echo "|"; \
	   echo "+-------------------"; \
	   exit 1; \
	fi

d30 1
a30 1
	${INSTALL_DATA} ${WRKSRC}/glib.m4 ${PREFIX}/share/aclocal/
@


1.21
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/02/12 08:02:13 turan Exp $
d5 1
a9 1
NEED_VERSION=	1.73
d14 4
a17 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d19 2
a20 1
GNU_CONFIGURE=	yes
a50 2
	@@install-info ${PREFIX}/info/glib.info ${PREFIX}/info/dir
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.20
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/02/06 00:28:56 brad Exp $
d14 4
a17 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.19
log
@${LOCALBASE} -> ${PREFIX}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/01/01 00:02:42 brad Exp $
d12 6
@


1.18
log
@- ${RM} -> rm
- mkdir -> ${INSTALL_DATA_DIR}
- remove workaround for texinfo install-info bug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 1999/10/27 01:14:24 brad Exp $
d16 1
a16 1
		--includedir=${PREFIX}/include/glib
d42 2
a43 2
	${INSTALL_DATA_DIR} ${LOCALBASE}/share/aclocal
	${INSTALL_DATA} ${WRKSRC}/glib.m4 ${LOCALBASE}/share/aclocal/
@


1.17
log
@upgrade to glib 1.2.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 1999/09/04 04:56:24 brad Exp $
a21 1
# 
d39 1
a39 1
	@@${RM} -f ${WRKSRC}/docs/glib.info*
d42 2
a43 5
	@@${MKDIR} ${LOCALBASE}/share/aclocal
	@@${INSTALL_DATA} ${WRKSRC}/glib.m4 ${LOCALBASE}/share/aclocal/
	@@if [ ! -f ${PREFIX}/info/dir ]; then \
	  ${SED} -ne '1,/Menu:/p' /usr/share/info/dir > ${PREFIX}/info/dir; \
	fi
@


1.16
log
@upgrade to glib 1.2.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 1999/06/09 20:33:41 brad Exp $
d3 1
a3 1
DISTNAME=	glib-1.2.4
a12 1
SEPARATE_BUILD= simple
d40 1
a40 1
	@@${RM} ${WRKSRC}/docs/*.info
d45 3
a47 2
	@@test -f ${PREFIX}/info/dir || \
		sed -ne '1,/Menu:/p' /usr/share/info/dir > ${PREFIX}/info/dir
d49 1
a49 1
	${LDCONFIG} -m ${PREFIX}/lib
@


1.15
log
@SEPARATE_BUILD= yes -> simple
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/05/11 18:40:18 brad Exp $
d3 1
a3 1
DISTNAME=	glib-1.2.3
d13 1
a13 1
SEPARATE_BUILD=	simple
@


1.14
log
@upgrade to glib 1.2.3; patches from two-cb <stiky@@home.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/04/30 19:21:37 brad Exp $
d13 1
a13 1
SEPARATE_BUILD=	yes
@


1.13
log
@change maintainer to myself. Ok'd by rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/04/22 21:54:34 brad Exp $
d3 1
a3 1
DISTNAME=	glib-1.2.2
d5 3
a11 4

MASTER_SITES=	ftp://ftp.gimp.org/pub/gtk/v1.2/ \
		ftp://ftp.cs.umn.edu/pub/gimp/gtk/v1.2/ \
		http://www.ameth.org/gimp/gtk/v1.2/
@


1.12
log
@upgrade to glib 1.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/04/04 21:16:49 brad Exp $
d8 1
a8 1
MAINTAINER=	rohee@@OpenBSD.ORG
@


1.11
log
@install all header files in the correct place and remove info/dir from PLIST.noshared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/03/26 04:40:53 brad Exp $
d3 1
a3 1
DISTNAME=	glib-1.2.1
d47 1
a47 1
	test -f ${PREFIX}/info/dir || \
@


1.10
log
@fixup
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/03/26 04:40:01 brad Exp $
d16 3
a18 2
CONFIGURE_ARGS+=${CONFIGURE_SHARED}
CONFIGURE_ARGS+=--enable-static --disable-threads
d49 1
a49 1
	install-info ${PREFIX}/info/glib.info ${PREFIX}/info/dir
@


1.9
log
@upgrade to glib 1.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/03/26 01:55:53 marc Exp $
d16 2
a17 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--enable-static --disable-threads
@


1.8
log
@fix typo in removal instructions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/03/26 01:53:44 marc Exp $
d3 1
a3 1
DISTNAME=	glib-1.2.0
@


1.7
log
@better glib/gtk+ removal instructions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/03/25 23:48:37 marc Exp $
d33 2
a34 2
	   echo "|	ldconfig ${X11BASE}"; \
	   echo "|	ldconfig -m ${LOCALBASE}"; \
@


1.6
log
@per espie@@ suggestion: move bitch about conflicting lib to pre-extract
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/03/25 20:14:42 marc Exp $
d28 3
a30 1
	   echo "| before installing this version.  Use the command"; \
d32 3
a34 1
	   echo "|	rm -rf ${X11BASE}/lib/libglib*"; \
a35 1
	   echo "| then retry this installation"; \
@


1.5
log
@Do not allow port to be installed until any version
in /lib is removed.  The older version (1.0.6) was installed
with a shared lib version of 1.6 (bad!) -- this is version 1.2.
Also, info/dir should never be part of a packing list.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/03/18 01:15:21 brad Exp $
a18 3
post-extract:
	@@${RM} ${WRKSRC}/docs/*.info

d24 1
a24 1
pre-install:
d36 3
@


1.4
log
@add SEPARATE_BUILD var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/03/16 21:06:20 brad Exp $
d21 18
@


1.3
log
@install glib.info, fix shared libs filenames
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/03/02 04:41:01 marc Exp $
d14 1
@


1.2
log
@fix earlier bogus changes to Makefile where a value that
was defined in bsd.port.mk was checked before bsd.port.mk was included;
this should make ports with optional shared libs build on the alpha,
again.  However, chages require the latest bsd.port.mk
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.1.1.1 1999/02/27 15:32:39 rohee Exp $
#
d3 2
a4 2
DISTNAME	=	glib-1.2.0
CATEGORIES	=	devel
d6 1
a6 1
NEED_VERSION=           1.73
d8 1
a8 1
MAINTAINER	=	rohee@@OpenBSD.ORG
d10 3
a12 3
MASTER_SITES	=	ftp://ftp.gimp.org/pub/gtk/v1.2/ \
			ftp://ftp.cs.umn.edu/pub/gimp/gtk/v1.2/ \
			http://www.ameth.org/gimp/gtk/v1.2/
d14 6
a19 3
GNU_CONFIGURE	=	yes
CONFIGURE_ARGS	+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS	+=	--enable-static
d22 5
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
NEED_VERSION=           1.64
d16 1
a16 6

.if !defined(NO_SHARED_LIBS)
CONFIGURE_ARGS	+=	--enable-shared
.else
CONFIGURE_ARGS	+=	--disable-shared
.endif
@


1.1.1.1
log
@Import of the new glib-1.2.0. This library is needed by gtk+-1.2.0

The pkg/DESCR file :

General-purpose library from the GTK+ team.

This is GLib version 1.1.0.   GLib, is a library which includes support
routines for C such as lists, trees, hashes, memory allocation, and
many other things.

The official ftp site is:
  ftp://ftp.gtk.org/pub/gtk/

The official web site is:
  http://www.gtk.org/

A mailing list is located at:
  gtk-list@@redhat.com         
@
text
@@
