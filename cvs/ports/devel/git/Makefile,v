head	1.179;
access;
symbols
	OPENBSD_6_1:1.168.0.2
	OPENBSD_6_1_BASE:1.168
	OPENBSD_6_0:1.158.0.2
	OPENBSD_6_0_BASE:1.158
	OPENBSD_5_9:1.144.0.2
	OPENBSD_5_9_BASE:1.144
	OPENBSD_5_8:1.134.0.4
	OPENBSD_5_8_BASE:1.134
	OPENBSD_5_7:1.122.0.2
	OPENBSD_5_7_BASE:1.122
	OPENBSD_5_6:1.113.0.2
	OPENBSD_5_6_BASE:1.113
	OPENBSD_5_5:1.109.0.2
	OPENBSD_5_5_BASE:1.109
	OPENBSD_5_4:1.100.0.2
	OPENBSD_5_4_BASE:1.100
	OPENBSD_5_3:1.90.0.2
	OPENBSD_5_3_BASE:1.90
	OPENBSD_5_2:1.85.0.2
	OPENBSD_5_2_BASE:1.85
	OPENBSD_5_1_BASE:1.84
	OPENBSD_5_1:1.84.0.2
	OPENBSD_5_0:1.80.0.2
	OPENBSD_5_0_BASE:1.80
	OPENBSD_4_9:1.75.0.2
	OPENBSD_4_9_BASE:1.75
	OPENBSD_4_8:1.68.0.2
	OPENBSD_4_8_BASE:1.68
	OPENBSD_4_7:1.64.0.2
	OPENBSD_4_7_BASE:1.64
	OPENBSD_4_6:1.48.0.2
	OPENBSD_4_6_BASE:1.48
	OPENBSD_4_5:1.42.0.2
	OPENBSD_4_5_BASE:1.42
	OPENBSD_4_4:1.33.0.2
	OPENBSD_4_4_BASE:1.33
	OPENBSD_4_3:1.20.0.2
	OPENBSD_4_3_BASE:1.20
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.6.0.2
	OPENBSD_4_1_BASE:1.6
	git-1_4_3_4:1.1.1.1
	matthieu:1.1.1;
locks; strict;
comment	@# @;


1.179
date	2017.08.11.12.37.04;	author pirofti;	state Exp;
branches;
next	1.178;
commitid	Hri6022bRhURNasm;

1.178
date	2017.08.05.19.09.05;	author benoit;	state Exp;
branches;
next	1.177;
commitid	SeejsS628uYtIl5D;

1.177
date	2017.08.02.04.40.27;	author benoit;	state Exp;
branches;
next	1.176;
commitid	DTDwWZFGEvWnmmnY;

1.176
date	2017.07.14.04.54.23;	author benoit;	state Exp;
branches;
next	1.175;
commitid	d1E5hOrCGTLCvbtU;

1.175
date	2017.07.04.13.27.12;	author jca;	state Exp;
branches;
next	1.174;
commitid	T04hXX0sFBONpsKt;

1.174
date	2017.06.26.07.19.15;	author benoit;	state Exp;
branches;
next	1.173;
commitid	xcdFWVs5Z9Ph2BVG;

1.173
date	2017.06.13.15.02.23;	author dcoppa;	state Exp;
branches;
next	1.172;
commitid	qZbqQH6YjbI209Ez;

1.172
date	2017.06.12.08.40.02;	author dcoppa;	state Exp;
branches;
next	1.171;
commitid	98XvBs5l0bb1jagP;

1.171
date	2017.06.09.10.29.22;	author dcoppa;	state Exp;
branches;
next	1.170;
commitid	HbtETp2W8PPqKL2G;

1.170
date	2017.06.01.19.58.04;	author schwarze;	state Exp;
branches;
next	1.169;
commitid	g7q9YUdguOGyWfej;

1.169
date	2017.05.10.08.05.04;	author benoit;	state Exp;
branches;
next	1.168;
commitid	5rzCFfhxvOj9GS8Y;

1.168
date	2017.03.26.19.07.10;	author benoit;	state Exp;
branches
	1.168.2.1;
next	1.167;
commitid	CuoHAhaHiOIlC19y;

1.167
date	2017.02.25.20.35.31;	author benoit;	state Exp;
branches;
next	1.166;
commitid	tRxVOTWFkSBEB7DA;

1.166
date	2017.02.03.09.36.06;	author benoit;	state Exp;
branches;
next	1.165;
commitid	CcGTTBhGe7su0ajJ;

1.165
date	2016.12.04.15.29.46;	author dcoppa;	state Exp;
branches;
next	1.164;
commitid	VWUztPhJVflKq3yV;

1.164
date	2016.11.14.08.10.59;	author dcoppa;	state Exp;
branches;
next	1.163;
commitid	RlgIimpyZ63RXanK;

1.163
date	2016.11.04.09.43.29;	author dcoppa;	state Exp;
branches;
next	1.162;
commitid	Og3drjjJbjowbzEu;

1.162
date	2016.10.11.10.59.27;	author dcoppa;	state Exp;
branches;
next	1.161;
commitid	BMKkEtNWz2Nutdyy;

1.161
date	2016.09.26.13.10.39;	author sthen;	state Exp;
branches;
next	1.160;
commitid	Gc8ea0n6b9lK7GsR;

1.160
date	2016.08.17.06.57.50;	author benoit;	state Exp;
branches;
next	1.159;
commitid	X2Z0GxAhYve9vWp4;

1.159
date	2016.08.02.06.25.58;	author benoit;	state Exp;
branches;
next	1.158;
commitid	WaU3YOUwo31XtTV1;

1.158
date	2016.06.28.07.27.14;	author benoit;	state Exp;
branches
	1.158.2.1;
next	1.157;
commitid	Jwr5QPMMJZHZ28X9;

1.157
date	2016.06.21.21.56.43;	author jung;	state Exp;
branches;
next	1.156;
commitid	hifWM1mqwzvNSFWI;

1.156
date	2016.06.09.19.07.54;	author benoit;	state Exp;
branches;
next	1.155;
commitid	hKblNAILBeSRsSsN;

1.155
date	2016.06.02.18.33.26;	author jung;	state Exp;
branches;
next	1.154;
commitid	Lwte49fzkFTtHP96;

1.154
date	2016.05.25.07.13.05;	author benoit;	state Exp;
branches;
next	1.153;
commitid	FidxSl2yfGwfmRYi;

1.153
date	2016.05.17.11.54.58;	author jca;	state Exp;
branches;
next	1.152;
commitid	vgAnouVKOF1lDihZ;

1.152
date	2016.05.12.14.46.35;	author espie;	state Exp;
branches;
next	1.151;
commitid	reCYhFVGmB29yPwk;

1.151
date	2016.04.05.08.28.39;	author benoit;	state Exp;
branches;
next	1.150;
commitid	ce5AJGUtYm6vHxb4;

1.150
date	2016.04.02.15.03.37;	author benoit;	state Exp;
branches;
next	1.149;
commitid	BWQac8Jp21qsLc3c;

1.149
date	2016.03.22.18.04.16;	author juanfra;	state Exp;
branches;
next	1.148;
commitid	sXb4clAj8OLGgwaI;

1.148
date	2016.03.18.20.56.07;	author benoit;	state Exp;
branches;
next	1.147;
commitid	rRDqHK36Z5eeUGvD;

1.147
date	2016.03.16.08.50.39;	author landry;	state Exp;
branches;
next	1.146;
commitid	JG4Sq4beAIiAMMFp;

1.146
date	2016.03.12.23.23.38;	author naddy;	state Exp;
branches;
next	1.145;
commitid	6L1UlTf13rfx88NR;

1.145
date	2016.03.07.07.33.37;	author benoit;	state Exp;
branches;
next	1.144;
commitid	AZsNM1xZvqxPUthU;

1.144
date	2016.01.05.08.31.59;	author benoit;	state Exp;
branches
	1.144.2.1;
next	1.143;
commitid	XUFyOGmi9Ulp7y23;

1.143
date	2015.12.09.10.38.47;	author benoit;	state Exp;
branches;
next	1.142;
commitid	EIxJrLVryw5g5VzF;

1.142
date	2015.11.07.08.28.22;	author benoit;	state Exp;
branches;
next	1.141;
commitid	hTOCaWXtrnFF4P0u;

1.141
date	2015.10.20.05.33.44;	author benoit;	state Exp;
branches;
next	1.140;
commitid	MTni0mxq4bKg43Oi;

1.140
date	2015.10.06.13.12.34;	author benoit;	state Exp;
branches;
next	1.139;
commitid	ryJexJfHd328Ybjm;

1.139
date	2015.09.29.11.42.59;	author benoit;	state Exp;
branches;
next	1.138;
commitid	48WL9pvcZM9oqguz;

1.138
date	2015.09.18.06.47.02;	author benoit;	state Exp;
branches;
next	1.137;
commitid	kbujrxkluwAKZHLR;

1.137
date	2015.09.12.09.39.25;	author benoit;	state Exp;
branches;
next	1.136;
commitid	EE3MBfICFf6QjHua;

1.136
date	2015.08.30.08.53.29;	author benoit;	state Exp;
branches;
next	1.135;
commitid	hpq1SAKPD3uvsYkR;

1.135
date	2015.08.25.21.25.03;	author benoit;	state Exp;
branches;
next	1.134;
commitid	mwNXxLMZ8jnZFqVB;

1.134
date	2015.07.22.12.48.53;	author benoit;	state Exp;
branches
	1.134.4.1;
next	1.133;
commitid	rt6GtJAkChyazUQK;

1.133
date	2015.06.26.08.49.01;	author benoit;	state Exp;
branches;
next	1.132;
commitid	SLkb3gdkHCIO5gVD;

1.132
date	2015.06.20.13.32.55;	author benoit;	state Exp;
branches;
next	1.131;
commitid	nlfRC9wt4J1mejmD;

1.131
date	2015.06.07.07.59.42;	author benoit;	state Exp;
branches;
next	1.130;
commitid	6bHYeqXutx0FCGQn;

1.130
date	2015.05.27.07.12.28;	author benoit;	state Exp;
branches;
next	1.129;
commitid	9Tm7HfzywHsRuDul;

1.129
date	2015.05.14.09.25.02;	author benoit;	state Exp;
branches;
next	1.128;
commitid	aX8azyvdOAXv2okc;

1.128
date	2015.05.07.20.45.35;	author dcoppa;	state Exp;
branches;
next	1.127;
commitid	A5gzH5IS3B3gdY9I;

1.127
date	2015.04.28.11.52.44;	author benoit;	state Exp;
branches;
next	1.126;
commitid	8ejpRMuCLOKDDWkz;

1.126
date	2015.04.22.05.56.23;	author benoit;	state Exp;
branches;
next	1.125;
commitid	VDmbDcMs4gO8YOcE;

1.125
date	2015.04.01.09.25.55;	author benoit;	state Exp;
branches;
next	1.124;
commitid	Hy2MphiudfD7UZ8Y;

1.124
date	2015.03.26.07.45.16;	author benoit;	state Exp;
branches;
next	1.123;
commitid	EuBkyeQWNfpH1DvC;

1.123
date	2015.03.16.14.09.03;	author benoit;	state Exp;
branches;
next	1.122;
commitid	jVvKen0Qa2atLIIf;

1.122
date	2015.02.07.18.19.41;	author dcoppa;	state Exp;
branches;
next	1.121;
commitid	YnnpUlQcPePm4aq6;

1.121
date	2015.01.13.09.40.56;	author benoit;	state Exp;
branches;
next	1.120;
commitid	xOfuIj71Uv7uZ9iq;

1.120
date	2014.12.19.08.52.12;	author jasper;	state Exp;
branches;
next	1.119;
commitid	dLYBHNdioXTPHqK7;

1.119
date	2014.11.29.07.28.40;	author benoit;	state Exp;
branches;
next	1.118;
commitid	gZf7johL0KsxYe29;

1.118
date	2014.10.31.15.03.21;	author benoit;	state Exp;
branches;
next	1.117;
commitid	e82qQRTINeMTpJIv;

1.117
date	2014.10.06.08.47.39;	author benoit;	state Exp;
branches;
next	1.116;
commitid	w6HSweYyIzh7mmjI;

1.116
date	2014.09.26.13.55.44;	author dcoppa;	state Exp;
branches;
next	1.115;
commitid	1MbMAqmne7VWB18R;

1.115
date	2014.08.19.19.44.39;	author pascal;	state Exp;
branches;
next	1.114;
commitid	D5iEqPxchwvuBEms;

1.114
date	2014.08.11.16.49.31;	author pascal;	state Exp;
branches;
next	1.113;
commitid	lqJo1xA2qUEkJGAA;

1.113
date	2014.05.21.08.39.57;	author dcoppa;	state Exp;
branches
	1.113.2.1;
next	1.112;

1.112
date	2014.04.12.09.34.48;	author benoit;	state Exp;
branches;
next	1.111;

1.111
date	2014.03.28.11.46.56;	author dcoppa;	state Exp;
branches;
next	1.110;

1.110
date	2014.03.10.20.56.53;	author pascal;	state Exp;
branches;
next	1.109;

1.109
date	2014.01.15.19.57.01;	author benoit;	state Exp;
branches;
next	1.108;

1.108
date	2014.01.13.09.12.10;	author dcoppa;	state Exp;
branches;
next	1.107;

1.107
date	2013.12.06.17.10.42;	author benoit;	state Exp;
branches;
next	1.106;

1.106
date	2013.11.12.10.04.42;	author benoit;	state Exp;
branches;
next	1.105;

1.105
date	2013.10.31.07.00.26;	author benoit;	state Exp;
branches;
next	1.104;

1.104
date	2013.10.19.07.21.03;	author benoit;	state Exp;
branches;
next	1.103;

1.103
date	2013.09.13.07.10.00;	author dcoppa;	state Exp;
branches;
next	1.102;

1.102
date	2013.08.11.11.48.43;	author benoit;	state Exp;
branches;
next	1.101;

1.101
date	2013.08.07.21.31.33;	author naddy;	state Exp;
branches;
next	1.100;

1.100
date	2013.07.17.07.53.11;	author benoit;	state Exp;
branches;
next	1.99;

1.99
date	2013.07.02.10.01.29;	author dcoppa;	state Exp;
branches;
next	1.98;

1.98
date	2013.06.13.10.32.30;	author benoit;	state Exp;
branches;
next	1.97;

1.97
date	2013.05.27.09.11.50;	author benoit;	state Exp;
branches;
next	1.96;

1.96
date	2013.05.11.14.23.49;	author benoit;	state Exp;
branches;
next	1.95;

1.95
date	2013.05.02.11.06.06;	author dcoppa;	state Exp;
branches;
next	1.94;

1.94
date	2013.05.02.10.01.34;	author dcoppa;	state Exp;
branches;
next	1.93;

1.93
date	2013.03.13.11.58.14;	author benoit;	state Exp;
branches;
next	1.92;

1.92
date	2013.03.12.22.39.30;	author sthen;	state Exp;
branches;
next	1.91;

1.91
date	2013.03.11.10.50.04;	author espie;	state Exp;
branches;
next	1.90;

1.90
date	2013.01.30.12.16.13;	author benoit;	state Exp;
branches;
next	1.89;

1.89
date	2013.01.25.08.14.59;	author dcoppa;	state Exp;
branches;
next	1.88;

1.88
date	2013.01.09.09.46.54;	author sthen;	state Exp;
branches;
next	1.87;

1.87
date	2013.01.01.18.35.42;	author dcoppa;	state Exp;
branches;
next	1.86;

1.86
date	2012.11.30.21.16.30;	author pascal;	state Exp;
branches;
next	1.85;

1.85
date	2012.02.21.22.19.31;	author sthen;	state Exp;
branches;
next	1.84;

1.84
date	2011.11.08.10.27.49;	author jasper;	state Exp;
branches;
next	1.83;

1.83
date	2011.09.16.09.24.49;	author espie;	state Exp;
branches;
next	1.82;

1.82
date	2011.09.14.07.11.58;	author jasper;	state Exp;
branches;
next	1.81;

1.81
date	2011.08.30.06.00.07;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2011.07.30.05.08.05;	author benoit;	state Exp;
branches;
next	1.79;

1.79
date	2011.07.28.21.54.26;	author benoit;	state Exp;
branches;
next	1.78;

1.78
date	2011.07.24.16.29.28;	author benoit;	state Exp;
branches;
next	1.77;

1.77
date	2011.06.02.13.41.38;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2011.04.29.11.09.10;	author stsp;	state Exp;
branches;
next	1.75;

1.75
date	2011.01.06.20.23.57;	author bernd;	state Exp;
branches;
next	1.74;

1.74
date	2010.11.15.19.45.58;	author espie;	state Exp;
branches;
next	1.73;

1.73
date	2010.11.06.10.18.38;	author espie;	state Exp;
branches;
next	1.72;

1.72
date	2010.11.05.08.23.04;	author bernd;	state Exp;
branches;
next	1.71;

1.71
date	2010.11.04.22.27.22;	author landry;	state Exp;
branches;
next	1.70;

1.70
date	2010.10.18.17.47.52;	author espie;	state Exp;
branches;
next	1.69;

1.69
date	2010.10.07.09.42.23;	author bernd;	state Exp;
branches;
next	1.68;

1.68
date	2010.06.20.15.04.39;	author bernd;	state Exp;
branches;
next	1.67;

1.67
date	2010.06.20.11.49.41;	author bernd;	state Exp;
branches;
next	1.66;

1.66
date	2010.04.13.21.35.04;	author bernd;	state Exp;
branches;
next	1.65;

1.65
date	2010.04.02.16.08.09;	author bernd;	state Exp;
branches;
next	1.64;

1.64
date	2009.12.17.10.15.12;	author bernd;	state Exp;
branches;
next	1.63;

1.63
date	2009.12.11.09.42.45;	author bernd;	state Exp;
branches;
next	1.62;

1.62
date	2009.12.11.09.37.53;	author bernd;	state Exp;
branches;
next	1.61;

1.61
date	2009.12.06.10.03.15;	author bernd;	state Exp;
branches;
next	1.60;

1.60
date	2009.12.03.11.39.51;	author bernd;	state Exp;
branches;
next	1.59;

1.59
date	2009.11.24.19.48.01;	author bernd;	state Exp;
branches;
next	1.58;

1.58
date	2009.11.19.21.38.48;	author bernd;	state Exp;
branches;
next	1.57;

1.57
date	2009.11.17.16.29.42;	author bernd;	state Exp;
branches;
next	1.56;

1.56
date	2009.10.26.09.12.09;	author bernd;	state Exp;
branches;
next	1.55;

1.55
date	2009.10.19.08.40.34;	author bernd;	state Exp;
branches;
next	1.54;

1.54
date	2009.10.16.10.55.06;	author bernd;	state Exp;
branches;
next	1.53;

1.53
date	2009.09.26.10.12.42;	author bernd;	state Exp;
branches;
next	1.52;

1.52
date	2009.08.31.14.18.47;	author bernd;	state Exp;
branches;
next	1.51;

1.51
date	2009.08.26.21.37.21;	author bernd;	state Exp;
branches;
next	1.50;

1.50
date	2009.08.17.14.47.54;	author bernd;	state Exp;
branches;
next	1.49;

1.49
date	2009.07.29.14.22.12;	author bernd;	state Exp;
branches;
next	1.48;

1.48
date	2009.06.23.12.14.23;	author bernd;	state Exp;
branches;
next	1.47;

1.47
date	2009.06.04.18.01.56;	author bernd;	state Exp;
branches;
next	1.46;

1.46
date	2009.05.18.19.23.58;	author bernd;	state Exp;
branches;
next	1.45;

1.45
date	2009.04.05.10.05.35;	author bernd;	state Exp;
branches;
next	1.44;

1.44
date	2009.03.24.05.11.50;	author jakemsr;	state Exp;
branches;
next	1.43;

1.43
date	2009.03.18.08.01.08;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2009.02.09.19.45.19;	author bernd;	state Exp;
branches;
next	1.41;

1.41
date	2009.01.29.23.16.35;	author bernd;	state Exp;
branches;
next	1.40;

1.40
date	2009.01.26.08.58.43;	author bernd;	state Exp;
branches;
next	1.39;

1.39
date	2009.01.24.14.31.28;	author bernd;	state Exp;
branches;
next	1.38;

1.38
date	2008.12.09.09.53.33;	author bernd;	state Exp;
branches;
next	1.37;

1.37
date	2008.11.12.12.36.29;	author bernd;	state Exp;
branches;
next	1.36;

1.36
date	2008.10.27.21.00.24;	author bernd;	state Exp;
branches;
next	1.35;

1.35
date	2008.10.24.09.17.34;	author bernd;	state Exp;
branches;
next	1.34;

1.34
date	2008.09.27.21.47.20;	author bernd;	state Exp;
branches;
next	1.33;

1.33
date	2008.07.21.07.48.54;	author bernd;	state Exp;
branches;
next	1.32;

1.32
date	2008.07.15.08.41.40;	author bernd;	state Exp;
branches;
next	1.31;

1.31
date	2008.07.01.18.10.15;	author bernd;	state Exp;
branches;
next	1.30;

1.30
date	2008.06.24.20.28.00;	author bernd;	state Exp;
branches;
next	1.29;

1.29
date	2008.06.05.07.19.14;	author bernd;	state Exp;
branches;
next	1.28;

1.28
date	2008.05.28.05.22.07;	author bernd;	state Exp;
branches;
next	1.27;

1.27
date	2008.05.24.09.02.32;	author bernd;	state Exp;
branches;
next	1.26;

1.26
date	2008.05.15.08.57.23;	author bernd;	state Exp;
branches;
next	1.25;

1.25
date	2008.05.02.23.21.06;	author bernd;	state Exp;
branches;
next	1.24;

1.24
date	2008.04.28.15.24.25;	author bernd;	state Exp;
branches;
next	1.23;

1.23
date	2008.04.26.09.24.04;	author bernd;	state Exp;
branches;
next	1.22;

1.22
date	2008.04.01.22.36.30;	author bernd;	state Exp;
branches;
next	1.21;

1.21
date	2008.03.28.19.06.20;	author bernd;	state Exp;
branches;
next	1.20;

1.20
date	2008.02.19.09.05.58;	author bernd;	state Exp;
branches;
next	1.19;

1.19
date	2008.02.11.18.37.03;	author bernd;	state Exp;
branches;
next	1.18;

1.18
date	2008.02.08.17.56.00;	author bernd;	state Exp;
branches;
next	1.17;

1.17
date	2008.01.28.18.49.06;	author bernd;	state Exp;
branches;
next	1.16;

1.16
date	2007.12.17.20.00.05;	author bernd;	state Exp;
branches;
next	1.15;

1.15
date	2007.09.08.11.29.40;	author bernd;	state Exp;
branches;
next	1.14;

1.14
date	2007.07.24.05.16.04;	author bernd;	state Exp;
branches;
next	1.13;

1.13
date	2007.07.12.18.26.04;	author bernd;	state Exp;
branches;
next	1.12;

1.12
date	2007.06.14.21.44.49;	author bernd;	state Exp;
branches;
next	1.11;

1.11
date	2007.05.08.09.48.07;	author bernd;	state Exp;
branches;
next	1.10;

1.10
date	2007.04.28.09.18.51;	author bernd;	state Exp;
branches;
next	1.9;

1.9
date	2007.04.20.08.44.40;	author bernd;	state Exp;
branches;
next	1.8;

1.8
date	2007.04.13.10.19.45;	author bernd;	state Exp;
branches;
next	1.7;

1.7
date	2007.04.12.09.37.12;	author bluhm;	state Exp;
branches;
next	1.6;

1.6
date	2007.01.13.14.26.59;	author matthieu;	state Exp;
branches;
next	1.5;

1.5
date	2006.12.30.15.47.34;	author matthieu;	state Exp;
branches;
next	1.4;

1.4
date	2006.11.26.22.47.57;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2006.11.16.19.28.53;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2006.11.13.21.02.26;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.12.15.59.05;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.12.15.59.05;	author matthieu;	state Exp;
branches;
next	;

1.113.2.1
date	2014.12.19.08.52.55;	author jasper;	state Exp;
branches;
next	;
commitid	QPgb9G1JftrtcZLw;

1.134.4.1
date	2016.03.21.10.03.46;	author jasper;	state Exp;
branches;
next	;
commitid	dm2UfnorauG4B7sJ;

1.144.2.1
date	2016.03.21.10.11.18;	author jasper;	state Exp;
branches;
next	;
commitid	nMiDjbrhP11pV4Uw;

1.158.2.1
date	2017.08.11.14.22.34;	author danj;	state Exp;
branches;
next	;
commitid	blp7Opyn5j4OBO4z;

1.168.2.1
date	2017.08.11.12.44.18;	author pirofti;	state Exp;
branches;
next	;
commitid	c65WwWbuN9HdOUO7;


desc
@@


1.179
log
@Update git to fix CVE-2017-1000117.

From Daniel Jakots, thanks!

OK benoit@@, sthen@@
@
text
@# $OpenBSD: Makefile,v 1.178 2017/08/05 19:09:05 benoit Exp $

COMMENT-main =	GIT - Tree History Storage Tool
COMMENT-svn =	GIT - subversion interoperability tools
COMMENT-x11 =	GIT - graphical tools

V =		2.14.1
DISTNAME =	git-${V}
PKGNAME-main =	${DISTNAME}
PKGNAME-svn =	git-svn-${V}
PKGNAME-x11 =	git-x11-${V}
CATEGORIES =	devel

HOMEPAGE =	http://git-scm.com/

MAINTAINER =	Benoit Lecocq <benoit@@openbsd.org>

# GPLv2 only
PERMIT_PACKAGE_CDROM = Yes

DOC_DISTFILE =		git-manpages-${V}${EXTRACT_SUFX}
DISTFILES =		${DISTNAME}${EXTRACT_SUFX} ${DOC_DISTFILE}
EXTRACT_ONLY =		${DISTNAME}${EXTRACT_SUFX}

MASTER_SITES =		https://www.kernel.org/pub/software/scm/git/

MODULES =		x11/tk lang/python

MODPY_BUILDDEP =	No
MODPY_RUNDEP =		No
MODPY_ADJ_FILES =	contrib/hooks/multimail/git_multimail.py \
			contrib/hooks/multimail/migrate-mailhook-config \
			contrib/hooks/multimail/post-receive.example

BUILD_DEPENDS =		devel/gettext-tools \
			devel/p5-Error

MULTI_PACKAGES =	-main -svn -x11

WANTLIB-main =		c crypto curl expat iconv intl pthread ssl z

RUN_DEPENDS-main =	net/rsync \
			devel/p5-Error \
			devel/cvsps
LIB_DEPENDS-main =	devel/gettext \
			net/curl

RUN_DEPENDS-svn =	${BASE_PKGPATH} \
			devel/subversion,-perl \
			www/p5-URI \
			www/p5-libwww
LIB_DEPENDS-svn =
WANTLIB-svn =
PKG_ARCH-svn =		*

RUN_DEPENDS-x11 =	${BASE_PKGPATH},-main \
			${MODTK_RUN_DEPENDS}
LIB_DEPENDS-x11 =
WANTLIB-x11 =
PKG_ARCH-x11 =		*

MAKE_FLAGS =		V=1 \
			gitexecdir=libexec/git \
			TCLTK_PATH=${MODTK_BIN} \
			TCL_PATH=${MODTCL_BIN}
MAKE_ENV =		TEST_TAR=${LOCALBASE}/bin/gtar

CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS =	--sysconfdir=${SYSCONFDIR} \
			--mandir=${PREFIX}/man \
			--with-curl=${LOCALBASE} \
			--with-iconv=${LOCALBASE} \
			--with-tcltk=${MODTK_BIN} \
			--with-python=no
CONFIGURE_ENV =		CPPFLAGS="-I${WRKSRC} -I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib" \
			DIFF=diff TAR=tar

USE_GMAKE =		Yes

TEST_DEPENDS =		archivers/gtar \
			archivers/unzip \
			archivers/zip \
			devel/cvsps \
			devel/subversion,-perl

post-extract:
	@@mkdir -p ${WRKSRC}/doc
	@@cd ${WRKSRC}/doc && ${TAR} -xzf ${FULLDISTDIR}/${DOC_DISTFILE}
	@@cd ${WRKSRC} && perl -pi -e "s|/usr/share/git|${TRUEPREFIX}/share/git|g" \
		doc/man1/git-clone.1 doc/man1/git-init.1 doc/man1/gitweb.1

post-install:
	${INSTALL_DATA} ${WRKBUILD}/libgit.a ${PREFIX}/lib
	${INSTALL_DATA_DIR} ${PREFIX}/share/emacs/site-lisp
	${INSTALL_DATA} ${WRKBUILD}/contrib/emacs/*.el \
		${PREFIX}/share/emacs/site-lisp
	cd ${WRKBUILD}/doc && \
		pax -rw . ${PREFIX}/man
	${INSTALL_DATA} ${WRKBUILD}/contrib/hooks/post-receive-email \
		${PREFIX}/share/git-core/templates/hooks/post-receive-email.sample
	${INSTALL_DATA_DIR} ${PREFIX}/share/git-core/templates/hooks/multimail
.for f in git_multimail.py migrate-mailhook-config post-receive.example
	${INSTALL_DATA} ${WRKBUILD}/contrib/hooks/multimail/$f \
		${PREFIX}/share/git-core/templates/hooks/multimail
.endfor
	${INSTALL_DATA} ${WRKBUILD}/contrib/hooks/setgitperms.perl \
		${PREFIX}/share/git-core/templates/hooks/setgitperms.perl
	chown -R ${BINOWN}:${BINGRP} ${PREFIX}/libexec/git
	cd ${WRKBUILD}/gitweb && \
		${MAKE_ENV} ${MAKE_PROGRAM} gitwebdir=${TRUEPREFIX}/share/gitweb install
	perl -pi -e "s|${WRKINST}||g" ${PREFIX}/share/gitweb/gitweb.cgi
	${INSTALL_DATA} ${WRKBUILD}/gitweb/README ${PREFIX}/share/gitweb

do-test:
	cd ${WRKSRC} && ${MAKE_ENV} GIT_TEST_OPTS="--immediate" ${MAKE_PROGRAM} \
		HOME=${WRKDIST}/t test

.include <bsd.port.mk>
@


1.178
log
@Update to git-2.14.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.177 2017/08/02 04:40:27 benoit Exp $
d7 1
a7 1
V =		2.14.0
@


1.177
log
@Update to git-2.13.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.176 2017/07/14 04:54:23 benoit Exp $
d7 1
a7 1
V =		2.13.4
@


1.176
log
@Update to git-2.13.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.175 2017/07/04 13:27:12 jca Exp $
d7 1
a7 1
V =		2.13.3
@


1.175
log
@Drop the gettext module

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.174 2017/06/26 07:19:15 benoit Exp $
d7 1
a7 2
V =		2.13.2
REVISION-main =	0
@


1.174
log
@Update to git-2.13.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.173 2017/06/13 15:02:23 dcoppa Exp $
d8 1
d28 1
a28 1
MODULES =		devel/gettext x11/tk lang/python
d36 2
a37 1
BUILD_DEPENDS =		devel/p5-Error
d41 2
a42 1
WANTLIB-main =		c expat crypto curl pthread ssl z ${MODGETTEXT_WANTLIB}
d45 3
a47 4
			devel/cvsps \
			${MODGETTEXT_RUN_DEPENDS}
LIB_DEPENDS-main =	net/curl \
			${MODGETTEXT_LIB_DEPENDS}
@


1.173
log
@
Fix failing tests
ok tb@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.172 2017/06/12 08:40:02 dcoppa Exp $
d7 1
a7 1
V =		2.13.1
a11 1
REVISION =	1
@


1.172
log
@
Fix endianess detection wrt SHA1
(upstream git commit 6b851e536b05e0c8c61f77b9e4c3e7cedea39ff8)

Breakage reported by tb@@ and Brian Callahan
OK tb@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.171 2017/06/09 10:29:22 dcoppa Exp $
d12 1
a12 1
REVISION =	0
d116 1
a116 1
	cd ${WRKSRC} && ${MAKE_ENV} ${MAKE_PROGRAM} \
@


1.171
log
@
Update to git-2.13.1

ok jung@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.170 2017/06/01 19:58:04 schwarze Exp $
d12 1
@


1.170
log
@Drop USE_GROFF and bump.
Mandoc now copes with DocBook lists implemented with \h.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.169 2017/05/10 08:05:04 benoit Exp $
d7 1
a7 1
V =		2.13.0
a11 1
REVISION =	0
@


1.169
log
@Update to git-2.13.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.168 2017/03/26 19:07:10 benoit Exp $
d12 1
a79 1
USE_GROFF =		Yes
@


1.168
log
@Update to git-2.12.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.167 2017/02/25 20:35:31 benoit Exp $
d7 1
a7 1
V =		2.12.2
@


1.168.2.1
log
@Backport git CVE-2017-1000117 fix.

From Daniel Jakots, thanks!

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.168 2017/03/26 19:07:10 benoit Exp $
d7 1
a7 1
V =		2.12.4
@


1.167
log
@Update to git-2.12.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.166 2017/02/03 09:36:06 benoit Exp $
d7 1
a7 1
V =		2.12.0
@


1.166
log
@Update to git-2.11.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.165 2016/12/04 15:29:46 dcoppa Exp $
d7 1
a7 1
V =		2.11.1
@


1.165
log
@
Update to git-2.11.0 and fix some tests to make the testsuite run.

ok benoit@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.164 2016/11/14 08:10:59 dcoppa Exp $
d7 1
a7 1
V =		2.11.0
@


1.164
log
@
Fix PLIST: add 'share/emacs/' and 'share/emacs/site-lisp/' directories

ok sthen@@, benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.163 2016/11/04 09:43:29 dcoppa Exp $
d7 1
a7 1
V =		2.10.2
a11 1
REVISION-main =	0
@


1.163
log
@
Update to git-2.10.2
ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.162 2016/10/11 10:59:27 dcoppa Exp $
d12 1
@


1.162
log
@
Update to git-2.10.1

OK benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.161 2016/09/26 13:10:39 sthen Exp $
d7 1
a7 1
V =		2.10.1
@


1.161
log
@In ports/devel/git, use an explicit -I${WRKSRC} before -I${LOCALBASE}/include
so that headers from git source are used in preference to /usr/local.
Fixes build with utfcpp installed. OK benoit@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.160 2016/08/17 06:57:50 benoit Exp $
d7 1
a7 1
V =		2.9.3
@


1.160
log
@Update to git-2.9.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.159 2016/08/02 06:25:58 benoit Exp $
d74 1
a74 1
CONFIGURE_ENV =		CPPFLAGS="-I${LOCALBASE}/include" \
@


1.159
log
@Update to git-2.9.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2016/06/28 07:27:14 benoit Exp $
d7 1
a7 1
V =		2.9.2
@


1.158
log
@Update to git-2.9.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.157 2016/06/21 21:56:43 jung Exp $
d7 1
a7 1
V =		2.9.0
@


1.158.2.1
log
@Update to git-2.9.5, fix CVE-2017-1000117

ok pirofti
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2016/06/28 07:27:14 benoit Exp $
d7 1
a7 1
V =		2.9.5
@


1.157
log
@fix user and group
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.156 2016/06/09 19:07:54 benoit Exp $
d7 1
a7 1
V =		2.8.4
a9 1
REVISION-main =	0
@


1.156
log
@Update to git-2.8.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2016/06/02 18:33:26 jung Exp $
d10 1
@


1.155
log
@add a git daemon rc.d script

input from ajacoutot and sthen

ok shen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2016/05/25 07:13:05 benoit Exp $
d7 1
a7 1
V =		2.8.3
a9 1
REVISION-main =	0
@


1.154
log
@Update to git-2.8.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2016/05/17 11:54:58 jca Exp $
d10 1
@


1.153
log
@Upstream has moved this file since rev. 1.114;  ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2016/05/12 14:46:35 espie Exp $
d7 1
a7 1
V =		2.8.1
a9 1
REVISION-main =	0
a10 1
REVISION-svn =	0
@


1.152
log
@Term-ReadKey, missed one
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2016/04/05 08:28:39 benoit Exp $
d10 1
d35 1
a35 1
			contrib/hooks/multimail/post-receive
d105 1
a105 1
.for f in git_multimail.py migrate-mailhook-config
@


1.151
log
@Update to git-2.8.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.150 2016/04/02 15:03:37 benoit Exp $
d11 1
a48 1
			devel/p5-Term-ReadKey \
@


1.150
log
@Update to git-2.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.149 2016/03/22 18:04:16 juanfra Exp $
d7 1
a7 1
V =		2.8.0
@


1.149
log
@Add a workaround for GCC 4.2. OK benoit@@ (MAINTAINER).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.148 2016/03/18 20:56:07 benoit Exp $
d7 1
a7 2
V =		2.7.4
REVISION =	0
@


1.148
log
@Update to git-2.7.4.

Security fixes for CVE-2016-2324 and CVE-2016-2315
Switch to gcc-4.9 : "internal compiler error: Segmentation fault"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2016/03/16 08:50:39 landry Exp $
d8 1
a28 4

MODULES +=		gcc4
MODGCC4_ARCHS =		*
MODGCC4_LANGS =		c
@


1.147
log
@Install setgitperms.perl template hook.
ok benoit@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2016/03/12 23:23:38 naddy Exp $
d7 1
a7 1
V =		2.7.2
a11 1
REVISION-main =	0
d28 4
@


1.146
log
@trivial NO_SHARED_ARCHS and PROPERTIES:Mno_shared removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2016/03/07 07:33:37 benoit Exp $
d12 1
d109 2
@


1.145
log
@Update to git-2.7.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2016/01/05 08:31:59 benoit Exp $
a77 8

.include <bsd.port.arch.mk>
.if ${PROPERTIES:Mno_shared}
CONFIGURE_ENV +=	ac_cv_lib_curl_curl_global_init=yes
MAKE_FLAGS +=		NEEDS_CRYPTO_WITH_SSL=YesPlease \
			NEEDS_SSL_WITH_CURL=YesPlease \
			NEEDS_LIBINTL_BEFORE_LIBICONV=YesPlease
.endif
@


1.144
log
@Update to git-2.7.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2015/12/09 10:38:47 benoit Exp $
d7 1
a7 1
V =		2.7.0
@


1.144.2.1
log
@Update to git-2.7.4.

ok benoit@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2016/01/05 08:31:59 benoit Exp $
d7 1
a7 1
V =		2.7.4
a27 4

MODULES +=		gcc4
MODGCC4_ARCHS =		*
MODGCC4_LANGS =		c
@


1.143
log
@Update to git-2.6.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2015/11/07 08:28:22 benoit Exp $
d7 1
a7 1
V =		2.6.4
@


1.142
log
@Update to git-2.6.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2015/10/20 05:33:44 benoit Exp $
d7 1
a7 1
V =		2.6.3
@


1.141
log
@Update to git-2.6.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2015/10/06 13:12:34 benoit Exp $
d7 1
a7 1
V =		2.6.2
@


1.140
log
@Update to git-2.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2015/09/29 11:42:59 benoit Exp $
d7 1
a7 1
V =		2.6.1
@


1.139
log
@Update to git-2.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2015/09/18 06:47:02 benoit Exp $
d7 1
a7 1
V =		2.6.0
@


1.138
log
@Update to git-2.5.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2015/09/12 09:39:25 benoit Exp $
d7 1
a7 1
V =		2.5.3
@


1.137
log
@Update to git-2.5.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2015/08/30 08:53:29 benoit Exp $
d7 1
a7 1
V =		2.5.2
@


1.136
log
@Update to git-2.5.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2015/08/25 21:25:03 benoit Exp $
d7 1
a7 1
V =		2.5.1
@


1.135
log
@Update to git-2.5.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2015/07/22 12:48:53 benoit Exp $
d7 1
a7 1
V =		2.5.0
@


1.134
log
@Update to git-2.4.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2015/06/26 08:49:01 benoit Exp $
d7 1
a7 1
V =		2.4.6
d112 1
a112 1
.for f in git_multimail.py migrate-mailhook-config post-receive
@


1.134.4.1
log
@update to git-2.4.11, addressing multiple security/stability issues

ok benoit@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2015/07/22 12:48:53 benoit Exp $
d7 1
a7 1
V =		2.4.11
a27 4

MODULES +=		gcc4
MODGCC4_ARCHS =		*
MODGCC4_LANGS =		c
@


1.133
log
@Update to git-2.4.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2015/06/20 13:32:55 benoit Exp $
d7 1
a7 1
V =		2.4.5
@


1.132
log
@Update to git-2.4.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2015/06/07 07:59:42 benoit Exp $
d7 1
a7 1
V =		2.4.4
@


1.131
log
@Update to git-2.4.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2015/05/27 07:12:28 benoit Exp $
d7 1
a7 1
V =		2.4.3
@


1.130
log
@Update to git-2.4.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2015/05/14 09:25:02 benoit Exp $
d7 1
a7 1
V =		2.4.2
@


1.129
log
@Update to git-2.4.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2015/05/07 20:45:35 dcoppa Exp $
d7 1
a7 1
V =		2.4.1
@


1.128
log
@
Update to git-2.4.0

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2015/04/28 11:52:44 benoit Exp $
d7 1
a7 1
V =		2.4.0
@


1.127
log
@Update to git-2.3.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2015/04/22 05:56:23 benoit Exp $
d7 1
a7 1
V =		2.3.7
@


1.126
log
@Update to git-2.3.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2015/04/01 09:25:55 benoit Exp $
d7 1
a7 1
V =		2.3.6
@


1.125
log
@Update to git-2.3.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2015/03/26 07:45:16 benoit Exp $
d7 1
a7 1
V =		2.3.5
@


1.124
log
@Update to git-2.3.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2015/03/16 14:09:03 benoit Exp $
d7 1
a7 1
V =		2.3.4
@


1.123
log
@Update to git-2.3.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2015/02/07 18:19:41 dcoppa Exp $
d7 1
a7 1
V =		2.3.3
@


1.122
log
@
Update to git-2.3.0

ok jca@@, benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2015/01/13 09:40:56 benoit Exp $
d7 1
a7 1
V =		2.3.0
@


1.121
log
@Update to git-2.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2014/12/19 08:52:12 jasper Exp $
d7 1
a7 1
V =		2.2.2
@


1.120
log
@- update to git-2.2.1
* http://article.gmane.org/gmane.linux.kernel/1853266
* security fixes directly affecting windows and mac osx, though if you are
  hosting a service from which windows/mac users may fetch, it's strongly
  advised to upgrade too.

ok benoit@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2014/11/29 07:28:40 benoit Exp $
d7 1
a7 1
V =		2.2.1
@


1.119
log
@Update to git-2.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2014/10/31 15:03:21 benoit Exp $
d7 1
a7 1
V =		2.2.0
@


1.118
log
@Update git to 2.1.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2014/10/06 08:47:39 benoit Exp $
d7 1
a7 1
V =		2.1.3
@


1.117
log
@Update git to 2.1.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2014/09/26 13:55:44 dcoppa Exp $
d7 1
a7 1
V =		2.1.2
@


1.116
log
@
Update to git-2.1.1

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2014/08/19 19:44:39 pascal Exp $
d7 1
a7 1
V =		2.1.1
@


1.115
log
@Update to git 2.1.0.

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2014/08/11 16:49:31 pascal Exp $
d7 1
a7 1
V =		2.1.0
@


1.114
log
@Update to 2.0.4; also install the "multimail" hooks as requested by djm@@

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2014/05/21 08:39:57 dcoppa Exp $
d7 1
a7 1
V =		2.0.4
@


1.113
log
@Update to git-1.9.3.

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2014/04/12 09:34:48 benoit Exp $
d7 1
a7 1
V =		1.9.3
d27 7
a33 1
MODULES =		devel/gettext x11/tk
d111 5
@


1.113.2.1
log
@- update to git-1.9.5
* http://article.gmane.org/gmane.linux.kernel/1853266
* security fixes directly affecting windows and mac osx, though if you are
  hosting a service from which windows/mac users may fetch, it's strongly
  advised to upgrade too.

ok benoit@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2014/05/21 08:39:57 dcoppa Exp $
d7 1
a7 1
V =		1.9.5
@


1.112
log
@Update git to 1.9.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2014/03/28 11:46:56 dcoppa Exp $
d7 1
a7 1
V =		1.9.2
@


1.111
log
@Bugfixing update to git-1.9.1

OK benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2014/03/10 20:56:53 pascal Exp $
d7 1
a7 1
V =		1.9.1
@


1.110
log
@Update to git 1.9.0

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2014/01/15 19:57:01 benoit Exp $
d7 1
a7 1
V =		1.9.0
d25 1
a25 1
MASTER_SITES =		https://git-core.googlecode.com/files/
@


1.109
log
@Update to git 1.8.5.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2014/01/13 09:12:10 dcoppa Exp $
d7 1
a7 1
V =		1.8.5.3
@


1.108
log
@Update to git-1.8.5.2

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2013/12/06 17:10:42 benoit Exp $
d7 1
a7 1
V =		1.8.5.2
@


1.107
log
@Update to git 1.8.4.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2013/11/12 10:04:42 benoit Exp $
d7 1
a7 1
V =		1.8.4.5
@


1.106
log
@Update to git 1.8.4.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2013/10/31 07:00:26 benoit Exp $
d7 1
a7 1
V =		1.8.4.3
@


1.105
log
@Update to git-1.8.4.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2013/10/19 07:21:03 benoit Exp $
d7 1
a7 1
V =		1.8.4.2
@


1.104
log
@Update to git-1.8.4.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2013/09/13 07:10:00 dcoppa Exp $
d7 1
a7 1
V =		1.8.4.1
@


1.103
log
@Update to git-1.8.4

ok benoit@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2013/08/11 11:48:43 benoit Exp $
d7 1
a7 1
V =		1.8.4
@


1.102
log
@Update git to 1.8.3.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2013/08/07 21:31:33 naddy Exp $
d7 1
a7 1
V =		1.8.3.4
@


1.101
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2013/07/17 07:53:11 benoit Exp $
d7 1
a7 1
V =		1.8.3.3
@


1.100
log
@Update git to 1.8.3.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2013/07/02 10:01:29 dcoppa Exp $
d25 1
a25 1
MASTER_SITES =		http://git-core.googlecode.com/files/
@


1.99
log
@Bugfixing update to git-1.8.3.2

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2013/06/13 10:32:30 benoit Exp $
d7 1
a7 1
V =		1.8.3.2
@


1.98
log
@Update git to 1.8.3.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2013/05/27 09:11:50 benoit Exp $
d7 1
a7 1
V =		1.8.3.1
@


1.97
log
@Update git to 1.8.3.

ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2013/05/11 14:23:49 benoit Exp $
d7 1
a7 1
V =		1.8.3
@


1.96
log
@- update git to 1.8.2.3

ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2013/05/02 11:06:06 dcoppa Exp $
d7 1
a7 1
V =		1.8.2.3
@


1.95
log
@Zap useless "GITWEB" var.

sthen@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2013/05/02 10:01:34 dcoppa Exp $
d7 1
a7 1
V =		1.8.2.2
@


1.94
log
@Update to git-1.8.2.2

Fixes for vax by Jeremie Courreges-Anglas (thanks!)

OK sthen@@, benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2013/03/13 11:58:14 benoit Exp $
a88 3

GITWEB =		README INSTALL git-favicon.png git-logo.png \
			gitweb.cgi gitweb.css
@


1.93
log
@- update git to 1.8.1.3
- update patches

ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2013/03/12 22:39:30 sthen Exp $
d7 1
a7 1
V =		1.8.1.3
d56 1
a56 2
MAKE_FLAGS =		prefix=${PREFIX} CC="${CC}" CFLAGS="${CFLAGS}" V=1 \
			sysconfdir=${SYSCONFDIR} mandir=man \
d60 20
a79 1
MAKE_ENV =		REGRESS_SHELL=${LOCALBASE}/bin/bash
d84 3
a86 1
TEST_DEPENDS =	archivers/zip \
d88 1
a88 2
			devel/subversion,-perl \
			shells/bash
a92 3
# Skip tests I have to fix.
SKIP_TESTS =		t9502-gitweb-standalone-parse-output.sh

a114 1
	cd ${WRKSRC}/t && rm -f ${SKIP_TESTS}
d116 1
a116 1
		HOME=${WRKDIST}/t/trash test
@


1.92
log
@VAX fixes for git; from Jeremie Courreges-Anglas, ok benoit@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/03/11 10:50:04 espie Exp $
d7 1
a7 2
V =		1.8.1.2
REVISION-main =	0
@


1.91
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/01/30 12:16:13 benoit Exp $
d8 1
@


1.90
log
@- update git to 1.8.1.2

ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/01/25 08:14:59 dcoppa Exp $
a19 3
PERMIT_PACKAGE_FTP = Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP = Yes
d66 1
a66 1
REGRESS_DEPENDS =	archivers/zip \
d98 1
a98 1
do-regress:
@


1.89
log
@Update to git-1.8.1.1

ok sthen@@, pascal@@, benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/01/09 09:46:54 sthen Exp $
d7 1
a7 1
V =		1.8.1.1
@


1.88
log
@Clean git/patches/patch-Makefile by using MAKE_FLAGS instead of MAKE_ENV
when overriding variables defined in git's Makefile. (REGRESS_SHELL remains
in MAKE_ENV as it's used by child make processes which don't pass the flags
across).  Regen PLIST while there & typo fix in comment.  ok benoit@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2013/01/01 18:35:42 dcoppa Exp $
d7 1
a7 2
V =		1.8.0.3
REVISION =	0
@


1.87
log
@Bugfix update to git-1.8.0.3

OK benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2012/11/30 21:16:30 pascal Exp $
d8 1
d60 3
a62 2
MAKE_ENV =		prefix=${PREFIX} CC="${CC}" CFLAGS="${CFLAGS}" V=1 \
			sysconfdir=${SYSCONFDIR} \
d64 2
a65 2
			TCL_PATH=${MODTCL_BIN} \
			REGRESS_SHELL=${LOCALBASE}/bin/bash
d78 1
a78 1
# Skipt tests I have to fix.
@


1.86
log
@Update to git 1.8.0.1.
* do not install/build documentation except for manpages.
* re-enable threads

ok jasper@@ benoit@@ (MAINTAINER) on earlier update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2012/02/21 22:19:31 sthen Exp $
d7 1
a7 1
V =		1.8.0.1
@


1.85
log
@Remove patches casting NULL when used as a sentinel to a pointer.
These are no longer needed since unistd.h r1.63 et al.  ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2011/11/08 10:27:49 jasper Exp $
d7 1
a7 1
V =		1.7.6
a13 4
REVISION-main =	4
REVISION-svn =	2
REVISION-x11 =	2

d24 2
a25 3
DOC_DISTFILES =		git-manpages-${V}${EXTRACT_SUFX} \
			git-htmldocs-${V}${EXTRACT_SUFX}
DISTFILES =		${DISTNAME}${EXTRACT_SUFX} ${DOC_DISTFILES}
d28 1
a28 6
MASTER_SITES =		http://distfiles.nl/ \
			ftp://ftp.kernel.org/pub/software/scm/git/ \
			ftp://ftp.de.kernel.org/pub/software/scm/git/ \
			ftp://ftp.au.kernel.org/pub/software/scm/git/

TAR =			${LOCALBASE}/bin/gtar
d30 1
a30 1
MODULES =		converters/libiconv x11/tk
d32 1
a32 4
BUILD_DEPENDS =		archivers/gtar \
			devel/p5-Error \
			textproc/asciidoc \
			textproc/xmlto
d36 1
a36 1
WANTLIB-main =		c expat crypto curl ssl z ${MODLIBICONV_WANTLIB}
d40 1
a40 1
			${MODLIBICONV_RUN_DEPENDS}
d42 1
a42 1
			${MODLIBICONV_LIB_DEPENDS}
d81 1
a81 4
.for distfile in ${DOC_DISTFILES}
	@@cd ${WRKSRC}/doc && ${TAR} -xzf ${FULLDISTDIR}/${distfile}${EXTRACT_SUFX}
.endfor
	@@rm -f ${WRKSRC}/doc/man1/git-p4import.1
d83 1
a83 6
		Documentation/git-clone.txt Documentation/git-init.txt \
		doc/man1/git-clone.1 doc/man1/git-init.1 doc/git-clone.txt \
		doc/git-init.txt doc/git-clone.html doc/git-init.html

post-build:
	@@cd ${WRKBUILD}/Documentation && ${MAKE_ENV} ${MAKE_PROGRAM} man
a89 3
	cd ${WRKBUILD}/Documentation && \
		${MAKE_ENV} ${MAKE_PROGRAM} mandir=${TRUEPREFIX}/man install-man
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/git
d91 1
a91 2
		pax -rw *.html howto/*.html *.txt howto/*.txt \
		${PREFIX}/share/doc/git
d103 1
a103 1
		HOME=${WRKDIST}/t/trash TAR=${TAR} test
@


1.84
log
@missing bump after DESCR change and fix REVISION vs REVISION-main while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2011/09/16 09:24:49 espie Exp $
d14 1
a14 1
REVISION-main =	3
@


1.83
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2011/09/14 07:11:58 jasper Exp $
d14 3
a16 1
REVISION =	2
@


1.82
log
@since the kernel.org security breach some time ago, it's been down. so add
a temporary primary master site for the git distfiles which were hosted on
kernel.org.

ok benoit@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2011/08/30 06:00:07 ajacoutot Exp $
d14 1
a14 1
REVISION =	1
@


1.81
log
@Fix sysconfdir.

from Abel Abraham Camarillo Ojeda
ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2011/07/30 05:08:05 benoit Exp $
d31 2
a32 1
MASTER_SITES =		ftp://ftp.kernel.org/pub/software/scm/git/ \
@


1.80
log
@bump all packages from nigel@@, thanks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2011/07/28 21:54:26 benoit Exp $
d14 1
a14 1
REVISION =	0
d70 1
a70 1
			SYSCONFDIR=${SYSCONFDIR} \
@


1.79
log
@- take maintainership on it, ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2011/07/24 16:29:28 benoit Exp $
d14 1
a14 1
REVISION-main =	0
@


1.78
log
@- update git to 1.7.6
- regen PLIST
- update patches

Same diff from Piotr Sikora, ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2011/06/02 13:41:38 ajacoutot Exp $
d14 2
d18 1
a18 1
MAINTAINER =	Bernd Ahlers <bernd@@openbsd.org>
@


1.77
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2011/04/29 11:09:10 stsp Exp $
d7 1
a7 1
V =		1.7.5
a13 2
REVISION-main=	0

d117 1
@


1.76
log
@Update to 1.7.5. ok bernd
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2011/01/06 20:23:57 bernd Exp $
d13 2
@


1.75
log
@Maintenance update to git-1.7.3.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2010/11/15 19:45:58 espie Exp $
d7 1
a7 1
V =		1.7.3.5
@


1.74
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2010/11/06 10:18:38 espie Exp $
d7 1
a7 1
V =		1.7.3.2
@


1.73
log
@convert libiconv to new wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2010/11/05 08:23:04 bernd Exp $
d37 4
a40 4
BUILD_DEPENDS =		::archivers/gtar \
			::devel/p5-Error \
			::textproc/asciidoc \
			::textproc/xmlto
d45 3
a47 3
RUN_DEPENDS-main =	::net/rsync \
			::devel/p5-Error \
			:cvsps-*:devel/cvsps \
d49 1
a49 1
LIB_DEPENDS-main =	::net/curl \
d52 5
a56 5
RUN_DEPENDS-svn =	::${BASE_PKGPATH} \
			::devel/p5-Term-ReadKey \
			::devel/subversion,-perl \
			::www/p5-URI \
			::www/p5-libwww
d61 1
a61 1
RUN_DEPENDS-x11 =	::${BASE_PKGPATH},-main \
d74 1
a74 1
USE_GROFF =	Yes
d76 4
a79 4
REGRESS_DEPENDS =	:zip-*:archivers/zip \
			:cvsps-*:devel/cvsps \
			::devel/subversion,-perl \
			::shells/bash
@


1.72
log
@Update to git-1.7.3.2 and switch to new README stuff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2010/11/04 22:27:22 landry Exp $
d44 1
a44 1
WANTLIB-main =		c expat crypto curl ssl z
d58 1
d64 1
@


1.71
log
@Unbreak when building with systrace, replacing
${TAR} -C ${WRKSRC}/doc by cd ${WRKSRC}/doc && ${TAR}.
Maybe this got broken by gtar update ?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2010/10/18 17:47:52 espie Exp $
d7 1
a7 1
V =		1.7.3.1
a115 2
	${INSTALL_DATA} ${FILESDIR}/README.OpenBSD \
		${PREFIX}/share/doc/git
@


1.70
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2010/10/07 09:42:23 bernd Exp $
d88 1
a88 1
	@@${TAR} -C ${WRKSRC}/doc -xzf ${FULLDISTDIR}/${distfile}${EXTRACT_SUFX}
@


1.69
log
@Update to git-1.7.3.1.

Add a README.OpenBSD file with some notes about the send-email
command. (via matthieu@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2010/06/20 15:04:39 bernd Exp $
d72 1
@


1.68
log
@Regen the manpages to avoid some weird artifacts.

Noticed by Anthony Bentley. Thank you!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2010/06/20 11:49:41 bernd Exp $
d7 1
a7 1
V =		1.7.1
d9 3
a11 3
PKGNAME-main =	${DISTNAME}p0
PKGNAME-svn =	git-svn-${V}p0
PKGNAME-x11 =	git-x11-${V}p0
d44 1
a44 1
WANTLIB-main =		c expat crypto ssl z
d49 1
a49 1
LIB_DEPENDS-main =	curl.>=3::net/curl \
d112 5
a116 3
	${INSTALL_DATA_DIR} ${PREFIX}/share/gitweb
	cd ${WRKSRC}/gitweb && \
		${INSTALL_DATA} ${GITWEB} ${PREFIX}/share/gitweb
@


1.67
log
@Update to git-1.7.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2010/04/13 21:35:04 bernd Exp $
d9 3
a11 3
PKGNAME-main =	${DISTNAME}
PKGNAME-svn =	git-svn-${V}
PKGNAME-x11 =	git-x11-${V}
d38 3
a40 1
			::devel/p5-Error
d95 3
d103 2
a104 2
	cd ${WRKBUILD}/doc && \
		pax -rw -s,man7/git.7,man1/git.1, man* ${PREFIX}/man
@


1.66
log
@Update to git-1.7.0.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2010/04/02 16:08:09 bernd Exp $
d7 1
a7 1
V =		1.7.0.5
@


1.65
log
@Update to git-1.7.0.4.

Based on a diff by Daniel Dickman. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2009/12/17 10:15:12 bernd Exp $
d7 1
a7 1
V =		1.7.0.4
@


1.64
log
@Update to git-1.6.5.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2009/12/11 09:42:45 bernd Exp $
d7 1
a7 1
V =		1.6.5.7
d66 2
a67 1
			TCL_PATH=${MODTCL_BIN}
d73 2
a74 1
			::devel/subversion,-perl
d79 3
d112 1
@


1.63
log
@Makefile cleanup.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2009/12/11 09:37:53 bernd Exp $
d7 1
a7 1
V =		1.6.5.6
@


1.62
log
@Update to git-1.6.5.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2009/12/06 10:03:15 bernd Exp $
d3 10
a12 10
COMMENT-main=		GIT - Tree History Storage Tool
COMMENT-svn=		GIT - subversion interoperability tools
COMMENT-x11=		GIT - graphical tools

V=			1.6.5.6
DISTNAME=		git-${V}
PKGNAME-main=		${DISTNAME}
PKGNAME-svn=		git-svn-${V}
PKGNAME-x11=		git-x11-${V}
CATEGORIES=		devel
d14 1
a14 1
HOMEPAGE=		http://git-scm.com/
d16 1
a16 1
MAINTAINER=		Bernd Ahlers <bernd@@openbsd.org>
d19 4
a22 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d24 1
a24 1
DOC_DISTFILES=		git-manpages-${V}${EXTRACT_SUFX} \
d26 2
a27 2
DISTFILES=		${DISTNAME}${EXTRACT_SUFX} ${DOC_DISTFILES}
EXTRACT_ONLY=		${DISTNAME}${EXTRACT_SUFX}
d29 1
a29 1
MASTER_SITES=		ftp://ftp.kernel.org/pub/software/scm/git/ \
d33 1
a33 1
TAR=			${LOCALBASE}/bin/gtar
d35 1
a35 1
MODULES=		converters/libiconv x11/tk
d37 1
a37 1
BUILD_DEPENDS=		::archivers/gtar \
d40 1
a40 1
MULTI_PACKAGES=		-main -svn -x11
d42 2
a43 2
WANTLIB-main=		c expat crypto ssl z
RUN_DEPENDS-main=	::net/rsync \
d47 1
a47 1
LIB_DEPENDS-main=	curl.>=3::net/curl \
d50 1
a50 1
RUN_DEPENDS-svn=	::${BASE_PKGPATH} \
d55 2
a56 2
LIB_DEPENDS-svn=
PKG_ARCH-svn=		*
d58 1
a58 1
RUN_DEPENDS-x11=	::${BASE_PKGPATH},-main \
d60 2
a61 2
LIB_DEPENDS-x11=
PKG_ARCH-x11=		*
d63 1
a63 1
MAKE_ENV=		prefix=${PREFIX} CC="${CC}" CFLAGS="${CFLAGS}" V=1 \
d68 1
a68 1
USE_GMAKE=		Yes
d70 1
a70 1
REGRESS_DEPENDS=	:zip-*:archivers/zip \
d74 1
a74 1
GITWEB=			README INSTALL git-favicon.png git-logo.png \
@


1.61
log
@Update to git-1.6.5.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2009/12/03 11:39:51 bernd Exp $
d7 1
a7 1
V=			1.6.5.5
@


1.60
log
@Update to git-1.6.5.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2009/11/24 19:48:01 bernd Exp $
d7 1
a7 1
V=			1.6.5.4
@


1.59
log
@Add cvsps to the RUN_DEPENDS of the -main package.

Discussed with some people.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2009/11/19 21:38:48 bernd Exp $
d7 1
a7 1
V=			1.6.5.3
d9 1
a9 1
PKGNAME-main=		${DISTNAME}p1
d11 1
a11 1
PKGNAME-x11=		git-x11-${V}p0
@


1.58
log
@Move git-gui--askpass to the -x11 subpackage.

Noticed by Josh Elsasser. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2009/11/17 16:29:42 bernd Exp $
d9 1
a9 1
PKGNAME-main=		${DISTNAME}p0
d45 1
@


1.57
log
@Update to git-1.6.5.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/10/26 09:12:09 bernd Exp $
d9 1
a9 1
PKGNAME-main=		${DISTNAME}
d11 1
a11 1
PKGNAME-x11=		git-x11-${V}
@


1.56
log
@Update to git-1.6.5.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2009/10/19 08:40:34 bernd Exp $
d7 1
a7 1
V=			1.6.5.2
@


1.55
log
@Update to git-1.6.5.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2009/10/16 10:55:06 bernd Exp $
d7 1
a7 1
V=			1.6.5.1
@


1.54
log
@Update to git-1.6.5.

From Simon Kuhnle with some tweaks by me.
Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2009/09/26 10:12:42 bernd Exp $
d7 1
a7 1
V=			1.6.5
@


1.53
log
@Update to git-1.6.4.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/08/31 14:18:47 bernd Exp $
d7 1
a7 1
V=			1.6.4.4
@


1.52
log
@Update to git-1.6.4.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/08/26 21:37:21 bernd Exp $
d7 1
a7 1
V=			1.6.4.2
@


1.51
log
@Update to git-1.6.4.1.

From Simon Kuhnle. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/08/17 14:47:54 bernd Exp $
d7 1
a7 1
V=			1.6.4.1
@


1.50
log
@Update to git-1.6.4.

Tested by Simon Kuhnle, sturm@@, msf@@ and Daniel Dickman.
Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/07/29 14:22:12 bernd Exp $
d7 1
a7 1
V=			1.6.4
@


1.49
log
@Update to git-1.6.3.4.

From Simon Kuhnle (simon at blarzwurst dot de). Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/06/23 12:14:23 bernd Exp $
d7 1
a7 1
V=			1.6.3.4
@


1.48
log
@Update to git-1.6.3.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2009/06/04 18:01:56 bernd Exp $
d7 1
a7 1
V=			1.6.3.3
@


1.47
log
@Update to git-1.6.3.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/05/18 19:23:58 bernd Exp $
d7 1
a7 1
V=			1.6.3.2
@


1.46
log
@Update to git-1.6.3.1.

Also:
- install gitweb and related stuff (from Simon Kuhnle)
- fix paths in some manpages (noticed by mk@@)
- 64bit for date.c fix went upstream

Thanks guys!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/04/05 10:05:35 bernd Exp $
d7 1
a7 1
V=			1.6.3.1
@


1.45
log
@t-1.6.2.2.

Also:
- Update HOMEPAGE. (reminded by Toni Mueller)
- Fix 64-bit problem. (found on sparc64)

Tested by sturm@@. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/03/24 05:11:50 jakemsr Exp $
d7 1
a7 1
V=			1.6.2.2
d71 4
a74 2
			::devel/subversion,-perl \
			::sysutils/ggrep
d82 4
d101 3
@


1.44
log
@use /dev/arandom instead of /dev/urandom

ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/03/18 08:01:08 sthen Exp $
d7 1
a7 1
V=			1.6.1.3
d9 1
a9 1
PKGNAME-main=		${DISTNAME}p0
d11 1
a11 1
PKGNAME-x11=		git-x11-${V}p0
d14 1
a14 1
HOMEPAGE=		http://git.or.cz/
d57 1
a57 1
RUN_DEPENDS-x11=	:${PKGNAME}:${BASE_PKGPATH},-main \
@


1.43
log
@convert to tk.port.mk; fixes RUN_DEPENDS-x11 - ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2009/02/09 19:45:19 bernd Exp $
d9 1
a9 1
PKGNAME-main=		${DISTNAME}
@


1.42
log
@Update to git-1.6.1.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/01/29 23:16:35 bernd Exp $
d11 1
a11 1
PKGNAME-x11=		git-x11-${V}
d18 1
a18 1
# GPL
d35 1
a35 1
MODULES=		converters/libiconv
d58 1
a58 1
			:tk-8.5.*:x11/tk/8.5
d64 2
a65 2
			TCLTK_PATH=${LOCALBASE}/bin/wish8.5 \
			TCL_PATH=${LOCALBASE}/bin/tclsh8.5
a66 1
USE_X11=		Yes
@


1.41
log
@Update to git 1.6.1.2 and add a subversion 1.5.5 fix for git-svn.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2009/01/26 08:58:43 bernd Exp $
d7 1
a7 1
V=			1.6.1.2
@


1.40
log
@Disable pthread usage since it seems to break some stuff.
Found the hard way by Simon Kuhnle, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/01/24 14:31:28 bernd Exp $
d7 1
a7 1
V=			1.6.1
d9 1
a9 1
PKGNAME-main=		${DISTNAME}p0
@


1.39
log
@Update to git-1.6.1.

Also fixes command injection vulnerabilities in gitweb.
(CVE-2008-5516, CVE-2008-5517) Hint from jasper@@, thanks!

help & tests sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/12/09 09:53:33 bernd Exp $
d9 1
a9 1
PKGNAME-main=		${DISTNAME}
d42 1
a42 1
WANTLIB-main=		c expat crypto pthread ssl z
@


1.38
log
@Update to git-1.6.0.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2008/11/12 12:36:29 bernd Exp $
d7 1
a7 1
V=			1.6.0.5
d42 1
a42 1
WANTLIB-main=		c expat crypto z
d72 2
a73 1
			::devel/subversion,-perl
@


1.37
log
@Update to git-1.6.0.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/10/27 21:00:24 bernd Exp $
d7 1
a7 1
V=			1.6.0.4
@


1.36
log
@Add some backup MASTER_SITES. requested by steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2008/10/24 09:17:34 bernd Exp $
d7 1
a7 1
V=			1.6.0.3
@


1.35
log
@Maintenance update to git-1.6.0.3.

(otto@@ asked for a commit from p2k8)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2008/09/27 21:47:20 bernd Exp $
d29 3
a31 1
MASTER_SITES=		http://www.kernel.org/pub/software/scm/git/
@


1.34
log
@Update to git-1.6.0.2.

An earlier diff got tested by landry@@. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2008/07/21 07:48:54 bernd Exp $
d7 1
a7 1
V=			1.6.0.2
@


1.33
log
@Update to git-1.5.6.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2008/07/15 08:41:40 bernd Exp $
d7 1
a7 1
V=			1.5.6.4
d91 2
a92 1
		${PREFIX}/share/git-core/templates/hooks
@


1.32
log
@Update to git-1.5.6.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2008/07/01 18:10:15 bernd Exp $
d7 1
a7 1
V=			1.5.6.3
@


1.31
log
@Update to git-1.5.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/06/24 20:28:00 bernd Exp $
d7 1
a7 1
V=			1.5.6.1
@


1.30
log
@Update to git-1.5.6.

Tested by Daniel Dickman, Brad Walker and sturm@@.
Thank you!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2008/06/05 07:19:14 bernd Exp $
d7 1
a7 1
V=			1.5.6
@


1.29
log
@Update to git-1.5.5.3. From Daniel Dickman. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2008/05/28 05:22:07 bernd Exp $
d7 1
a7 1
V=			1.5.5.3
d69 2
a70 1
			:cvsps-*:devel/cvsps
d94 1
a94 1
	cd ${WRKSRC} && ${MAKE_ENV} NO_SVN_TESTS=Yes ${MAKE_PROGRAM} \
@


1.28
log
@Update to git-1.5.5.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2008/05/24 09:02:32 bernd Exp $
d7 1
a7 1
V=			1.5.5.2
@


1.27
log
@Better RUN_DEPENDS for the -x11 subpackage. Problem with multiple
tk versions noticed by Tom Adams. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2008/05/15 08:57:23 bernd Exp $
d7 1
a7 1
V=			1.5.5.1
d10 2
a11 2
PKGNAME-svn=		git-svn-${V}p0
PKGNAME-x11=		git-x11-${V}p2
@


1.26
log
@Add missing RUN_DEPENDS for the svn subpackage.

From Brad Walker.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/05/02 23:21:06 bernd Exp $
d11 1
a11 1
PKGNAME-x11=		git-x11-${V}p1
d56 1
a56 1
			::x11/tk/8.5
@


1.25
log
@Disable the spell check option in git-gui. It doesn't work with
aspell-0.50.x. (git-gui hangs at startup)

Noticed and tested by deanna@@. Thanks for the report!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/04/28 15:24:25 bernd Exp $
d10 1
a10 1
PKGNAME-svn=		git-svn-${V}
d48 1
@


1.24
log
@Switch X11 tools to tk 8.5 and remove useless patch.
Please let me know if there are problems.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/04/26 09:24:04 bernd Exp $
d11 1
a11 1
PKGNAME-x11=		git-x11-${V}p0
@


1.23
log
@Update to git-1.5.5.1.

Add post-receive-email hook from contrib/ as suggested by Laurence Tratt.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/04/01 22:36:30 bernd Exp $
d11 1
a11 1
PKGNAME-x11=		git-x11-${V}
d55 1
a55 1
			::x11/tk/8.4
d61 2
a62 2
			TCLTK_PATH=${LOCALBASE}/bin/wish8.4 \
			TCL_PATH=${LOCALBASE}/bin/tclsh8.4
@


1.22
log
@Update to git-1.5.4.5 and introduce a git-x11 package which contains
all graphical git stuff.

Initial git-x11 diff from Josh Elsasser. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/03/28 19:06:20 bernd Exp $
d7 1
a7 1
V=			1.5.4.5
d88 2
@


1.21
log
@Fix manpath so git-help(1) works correctly.

From fulvio ciriaco. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/02/19 09:05:58 bernd Exp $
d5 1
d7 1
a7 1
V=			1.5.4.2
d9 1
a9 1
PKGNAME-main=		${DISTNAME}p0
d11 1
d38 1
a38 1
MULTI_PACKAGES=		-main -svn
d41 1
a41 2
RUN_DEPENDS-main=	::x11/tk/8.4 \
			::net/rsync \
d53 5
@


1.20
log
@Minor update to git-1.5.4.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/02/11 18:37:03 bernd Exp $
d8 1
a8 1
PKGNAME-main=		${DISTNAME}
@


1.19
log
@Minor bugfix update to 1.5.4.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/02/08 17:56:00 bernd Exp $
d6 1
a6 1
V=			1.5.4.1
@


1.18
log
@Update to git-1.5.4.

From Daniel Dickman. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/01/28 18:49:06 bernd Exp $
d6 1
a6 1
V=			1.5.4
@


1.17
log
@Update to git-1.5.3.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/12/17 20:00:05 bernd Exp $
d6 1
a6 1
V=			1.5.3.8
@


1.16
log
@Update to git-1.5.3.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/09/08 11:29:40 bernd Exp $
d6 1
a6 1
V=			1.5.3.7
@


1.15
log
@Update to git-1.5.2.5.

Clean up the multiple distfile extraction mess. (prodded by espie@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/07/24 05:16:04 bernd Exp $
d6 1
a6 1
V=			1.5.2.5
d55 2
a56 1
			TCLTK_PATH=${LOCALBASE}/bin/wish8.4
d61 2
a62 1
REGRESS_DEPENDS=	:zip-*:archivers/zip
@


1.14
log
@Update to git-1.5.2.4. Tested by Daniel Dickman , thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/07/12 18:26:04 bernd Exp $
d6 1
a6 1
V=			1.5.2.4
d22 1
a22 2
DISTFILES=		${DISTNAME}${EXTRACT_SUFX} \
			git-manpages-${V}${EXTRACT_SUFX} \
d24 2
d63 5
a67 1
	@@rm -f ${WRKDIR}/man1/git-p4import.1
d74 1
a74 1
	cd ${WRKDIR} && \
d77 1
a77 1
	cd ${WRKDIR} && \
@


1.13
log
@Update to git-1.5.2.3.

Diff from Daniel Dickman. Thank you!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/06/14 21:44:49 bernd Exp $
d3 2
a4 2
COMMENT-main=		"GIT - Tree History Storage Tool"
COMMENT-svn=		"GIT - subversion interoperability tools"
d6 1
a6 1
V=			1.5.2.3
@


1.12
log
@Update to git-1.5.2.1.

Initial diff from Daniel Dickman. Thank you!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/05/08 09:48:07 bernd Exp $
d6 1
a6 1
V=			1.5.2.1
d65 1
@


1.11
log
@Update to git-1.5.1.3.

Tested by uwe@@, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/04/28 09:18:51 bernd Exp $
d6 1
a6 1
V=			1.5.1.3
d53 2
a54 1
			SYSCONFDIR=${SYSCONFDIR}
@


1.10
log
@Use xenocara expat.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/04/20 08:44:40 bernd Exp $
d6 1
a6 1
V=			1.5.1.1
d8 2
a9 2
PKGNAME-main=		${DISTNAME}p0
PKGNAME-svn=		git-svn-${V}p0
d75 2
a76 1
	cd ${WRKSRC} && NO_SVN_TESTS=Yes ${MAKE_PROGRAM} TAR=${TAR} test
@


1.9
log
@Update to git-1.5.1.1 and take maintainership.

tested by grunk@@, ok matthieu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/04/13 10:19:45 bernd Exp $
d8 2
a9 2
PKGNAME-main=		${DISTNAME}
PKGNAME-svn=		git-svn-${V}
d37 1
a37 1
WANTLIB-main=		c crypto z
a42 1
			expat.>=4::textproc/expat \
@


1.8
log
@Update to git-1.5.0.5 and put git-svn and git-svnimport into a subpackage.

Joint work with uwe@@ and grunk@@.

ok matthieu@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/04/12 09:37:12 bluhm Exp $
d6 1
a6 1
V=			1.5.0.5
d14 1
a14 1
MAINTAINER=		Matthieu Herrb <matthieu@@openbsd.org>
d53 2
a54 1
MAKE_ENV=		prefix=${PREFIX} CC="${CC}" CFLAGS="${CFLAGS}"
d76 1
a76 1
	cd ${WRKSRC}/t && NO_SVN_TESTS=Yes ${MAKE_PROGRAM} TAR=${TAR}
@


1.7
log
@Add the html documentation to the devel/git package.
ok sturm matthieu
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/01/13 14:26:59 matthieu Exp $
d3 2
a4 1
COMMENT=		"GIT - Tree History Storage Tool"
d6 1
a6 1
V=			1.4.4.4
d8 2
a9 1
PKGNAME=		${DISTNAME}p0
d14 1
a14 1
MAINTAINER=		matthieu@@openbsd.org
a25 2
WANTLIB=		c crypto iconv z

a28 1
PYTHON_VER=		2.4
d34 20
a53 10
RUN_DEPENDS=		::lang/python/${PYTHON_VER} \
			::x11/tk/8.4 \
			::net/rsync
LIB_DEPENDS=		curl.>=3::net/curl \
			expat.>=4::textproc/expat

MAKE_ENV=		prefix=${PREFIX} \
			PYTHON_PATH=${LOCALBASE}/bin/python${PYTHON_VER} \
			CC="${CC}" \
			CFLAGS="${CFLAGS}"
d58 4
a61 1
NO_REGRESS=		Yes
d64 12
a75 6
			cd ${WRKDIR} ; \
			pax -rw -s,man7/git.7,man1/git.1, man* ${PREFIX}/man
			${INSTALL_DATA_DIR} ${PREFIX}/share/doc/git
			cd ${WRKDIR} ; \
			pax -rw *.html howto/*.html *.txt howto/*.txt \
			    ${PREFIX}/share/doc/git
@


1.6
log
@Update to git 1.4.4.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/12/30 15:47:34 matthieu Exp $
d7 1
d21 2
a22 1
			git-manpages-${V}${EXTRACT_SUFX}
d54 4
@


1.5
log
@Update to git 1.4.4.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/11/26 22:47:57 matthieu Exp $
d5 1
a5 1
V=			1.4.4.3
@


1.4
log
@update to 1.4.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/11/16 19:28:53 matthieu Exp $
d5 1
a5 1
V=			1.4.4.1
@


1.3
log
@- update to git 1.4.4
- add manual pages.
ok aanriot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/11/13 21:02:26 matthieu Exp $
d5 1
a5 1
V=			1.4.4
@


1.2
log
@update to 1.4.3.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/11/12 15:59:05 matthieu Exp $
d5 2
a6 1
DISTNAME=		git-1.4.3.5
d19 3
d48 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=		git-1.4.3.4
@


1.1.1.1
log
@git 1.4.3.4 - Tree History Storage Tool, the SCM used by the Linux 
kernel and X.Org (among others).
Joint work with aanriot@@. Ok mbalmer@@.
@
text
@@
