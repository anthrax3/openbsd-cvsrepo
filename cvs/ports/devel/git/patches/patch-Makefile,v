head	1.70;
access;
symbols
	OPENBSD_6_1:1.69.0.2
	OPENBSD_6_1_BASE:1.69
	OPENBSD_6_0:1.63.0.2
	OPENBSD_6_0_BASE:1.63
	OPENBSD_5_9:1.61.0.2
	OPENBSD_5_9_BASE:1.61
	OPENBSD_5_8:1.55.0.4
	OPENBSD_5_8_BASE:1.55
	OPENBSD_5_7:1.52.0.2
	OPENBSD_5_7_BASE:1.52
	OPENBSD_5_6:1.46.0.2
	OPENBSD_5_6_BASE:1.46
	OPENBSD_5_5:1.44.0.2
	OPENBSD_5_5_BASE:1.44
	OPENBSD_5_4:1.40.0.2
	OPENBSD_5_4_BASE:1.40
	OPENBSD_5_3:1.35.0.2
	OPENBSD_5_3_BASE:1.35
	OPENBSD_5_2:1.32.0.6
	OPENBSD_5_2_BASE:1.32
	OPENBSD_5_1_BASE:1.32
	OPENBSD_5_1:1.32.0.4
	OPENBSD_5_0:1.32.0.2
	OPENBSD_5_0_BASE:1.32
	OPENBSD_4_9:1.30.0.2
	OPENBSD_4_9_BASE:1.30
	OPENBSD_4_8:1.28.0.2
	OPENBSD_4_8_BASE:1.28
	OPENBSD_4_7:1.26.0.2
	OPENBSD_4_7_BASE:1.26
	OPENBSD_4_6:1.21.0.2
	OPENBSD_4_6_BASE:1.21
	OPENBSD_4_5:1.18.0.2
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.15.0.2
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.12.0.2
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.10.0.2
	OPENBSD_4_2_BASE:1.10
	OPENBSD_4_1:1.4.0.2
	OPENBSD_4_1_BASE:1.4
	git-1_4_3_4:1.1.1.1
	matthieu:1.1.1;
locks; strict;
comment	@# @;


1.70
date	2017.05.10.08.05.04;	author benoit;	state Exp;
branches;
next	1.69;
commitid	5rzCFfhxvOj9GS8Y;

1.69
date	2017.03.26.19.07.10;	author benoit;	state Exp;
branches;
next	1.68;
commitid	CuoHAhaHiOIlC19y;

1.68
date	2017.02.25.20.35.31;	author benoit;	state Exp;
branches;
next	1.67;
commitid	tRxVOTWFkSBEB7DA;

1.67
date	2017.02.03.09.36.06;	author benoit;	state Exp;
branches;
next	1.66;
commitid	CcGTTBhGe7su0ajJ;

1.66
date	2016.12.04.15.29.46;	author dcoppa;	state Exp;
branches;
next	1.65;
commitid	VWUztPhJVflKq3yV;

1.65
date	2016.11.04.09.43.30;	author dcoppa;	state Exp;
branches;
next	1.64;
commitid	Og3drjjJbjowbzEu;

1.64
date	2016.10.11.10.59.27;	author dcoppa;	state Exp;
branches;
next	1.63;
commitid	BMKkEtNWz2Nutdyy;

1.63
date	2016.05.25.07.13.05;	author benoit;	state Exp;
branches;
next	1.62;
commitid	FidxSl2yfGwfmRYi;

1.62
date	2016.04.02.15.03.37;	author benoit;	state Exp;
branches;
next	1.61;
commitid	BWQac8Jp21qsLc3c;

1.61
date	2016.01.05.08.31.59;	author benoit;	state Exp;
branches;
next	1.60;
commitid	XUFyOGmi9Ulp7y23;

1.60
date	2015.12.09.10.38.47;	author benoit;	state Exp;
branches;
next	1.59;
commitid	EIxJrLVryw5g5VzF;

1.59
date	2015.11.07.08.28.22;	author benoit;	state Exp;
branches;
next	1.58;
commitid	hTOCaWXtrnFF4P0u;

1.58
date	2015.10.20.05.33.44;	author benoit;	state Exp;
branches;
next	1.57;
commitid	MTni0mxq4bKg43Oi;

1.57
date	2015.09.29.11.42.59;	author benoit;	state Exp;
branches;
next	1.56;
commitid	48WL9pvcZM9oqguz;

1.56
date	2015.08.25.21.25.03;	author benoit;	state Exp;
branches;
next	1.55;
commitid	mwNXxLMZ8jnZFqVB;

1.55
date	2015.06.26.08.49.01;	author benoit;	state Exp;
branches;
next	1.54;
commitid	SLkb3gdkHCIO5gVD;

1.54
date	2015.06.07.07.59.42;	author benoit;	state Exp;
branches;
next	1.53;
commitid	6bHYeqXutx0FCGQn;

1.53
date	2015.05.07.20.45.35;	author dcoppa;	state Exp;
branches;
next	1.52;
commitid	A5gzH5IS3B3gdY9I;

1.52
date	2015.02.07.18.19.41;	author dcoppa;	state Exp;
branches;
next	1.51;
commitid	YnnpUlQcPePm4aq6;

1.51
date	2015.01.13.09.40.56;	author benoit;	state Exp;
branches;
next	1.50;
commitid	xOfuIj71Uv7uZ9iq;

1.50
date	2014.12.01.11.16.11;	author dcoppa;	state Exp;
branches;
next	1.49;
commitid	XSruhhSR9JTMxjG2;

1.49
date	2014.09.26.13.55.44;	author dcoppa;	state Exp;
branches;
next	1.48;
commitid	1MbMAqmne7VWB18R;

1.48
date	2014.08.19.19.44.39;	author pascal;	state Exp;
branches;
next	1.47;
commitid	D5iEqPxchwvuBEms;

1.47
date	2014.08.11.16.49.31;	author pascal;	state Exp;
branches;
next	1.46;
commitid	lqJo1xA2qUEkJGAA;

1.46
date	2014.05.21.08.39.57;	author dcoppa;	state Exp;
branches;
next	1.45;

1.45
date	2014.03.10.20.56.53;	author pascal;	state Exp;
branches;
next	1.44;

1.44
date	2014.01.13.09.12.10;	author dcoppa;	state Exp;
branches;
next	1.43;

1.43
date	2013.10.19.07.21.04;	author benoit;	state Exp;
branches;
next	1.42;

1.42
date	2013.09.13.07.10.01;	author dcoppa;	state Exp;
branches;
next	1.41;

1.41
date	2013.08.11.11.48.43;	author benoit;	state Exp;
branches;
next	1.40;

1.40
date	2013.07.17.07.53.11;	author benoit;	state Exp;
branches;
next	1.39;

1.39
date	2013.05.27.09.11.52;	author benoit;	state Exp;
branches;
next	1.38;

1.38
date	2013.05.02.10.01.34;	author dcoppa;	state Exp;
branches;
next	1.37;

1.37
date	2013.03.13.11.58.16;	author benoit;	state Exp;
branches;
next	1.36;

1.36
date	2013.03.12.22.39.31;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2013.01.25.08.14.59;	author dcoppa;	state Exp;
branches;
next	1.34;

1.34
date	2013.01.09.09.46.54;	author sthen;	state Exp;
branches;
next	1.33;

1.33
date	2012.11.30.21.16.30;	author pascal;	state Exp;
branches;
next	1.32;

1.32
date	2011.07.24.16.29.30;	author benoit;	state Exp;
branches;
next	1.31;

1.31
date	2011.04.29.11.09.12;	author stsp;	state Exp;
branches;
next	1.30;

1.30
date	2010.11.05.08.23.04;	author bernd;	state Exp;
branches;
next	1.29;

1.29
date	2010.10.07.09.42.23;	author bernd;	state Exp;
branches;
next	1.28;

1.28
date	2010.06.20.11.49.41;	author bernd;	state Exp;
branches;
next	1.27;

1.27
date	2010.04.02.16.08.09;	author bernd;	state Exp;
branches;
next	1.26;

1.26
date	2009.12.06.10.03.15;	author bernd;	state Exp;
branches;
next	1.25;

1.25
date	2009.11.17.16.29.42;	author bernd;	state Exp;
branches;
next	1.24;

1.24
date	2009.10.16.10.55.06;	author bernd;	state Exp;
branches;
next	1.23;

1.23
date	2009.08.17.14.47.54;	author bernd;	state Exp;
branches;
next	1.22;

1.22
date	2009.07.29.14.22.12;	author bernd;	state Exp;
branches;
next	1.21;

1.21
date	2009.06.04.18.01.56;	author bernd;	state Exp;
branches;
next	1.20;

1.20
date	2009.05.18.19.23.58;	author bernd;	state Exp;
branches;
next	1.19;

1.19
date	2009.04.05.10.05.35;	author bernd;	state Exp;
branches;
next	1.18;

1.18
date	2009.01.26.08.58.44;	author bernd;	state Exp;
branches;
next	1.17;

1.17
date	2009.01.24.14.31.29;	author bernd;	state Exp;
branches;
next	1.16;

1.16
date	2008.09.27.21.47.20;	author bernd;	state Exp;
branches;
next	1.15;

1.15
date	2008.06.24.20.28.01;	author bernd;	state Exp;
branches;
next	1.14;

1.14
date	2008.04.26.09.24.04;	author bernd;	state Exp;
branches;
next	1.13;

1.13
date	2008.03.28.19.06.20;	author bernd;	state Exp;
branches;
next	1.12;

1.12
date	2008.02.08.17.56.01;	author bernd;	state Exp;
branches;
next	1.11;

1.11
date	2007.12.17.20.00.05;	author bernd;	state Exp;
branches;
next	1.10;

1.10
date	2007.07.12.18.26.04;	author bernd;	state Exp;
branches;
next	1.9;

1.9
date	2007.06.14.21.44.49;	author bernd;	state Exp;
branches;
next	1.8;

1.8
date	2007.05.08.09.48.07;	author bernd;	state Exp;
branches;
next	1.7;

1.7
date	2007.04.28.09.18.51;	author bernd;	state Exp;
branches;
next	1.6;

1.6
date	2007.04.20.08.44.40;	author bernd;	state Exp;
branches;
next	1.5;

1.5
date	2007.04.13.10.19.45;	author bernd;	state Exp;
branches;
next	1.4;

1.4
date	2007.01.13.14.26.59;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2006.11.16.19.28.53;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2006.11.13.21.02.26;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.12.15.59.05;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.12.15.59.05;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.70
log
@Update to git-2.13.0.
@
text
@$OpenBSD: patch-Makefile,v 1.69 2017/03/26 19:07:10 benoit Exp $
Index: Makefile
--- Makefile.orig
+++ Makefile
@@@@ -2311,7 +2311,7 @@@@ export TEST_NO_MALLOC_CHECK
 
 ### Testing rules
 
-test: all
+test:
 	$(MAKE) -C t/ all
 
 perf: all
@


1.69
log
@Update to git-2.12.2.
@
text
@d1 5
a5 4
$OpenBSD: patch-Makefile,v 1.68 2017/02/25 20:35:31 benoit Exp $
--- Makefile.orig	Fri Mar 24 21:50:52 2017
+++ Makefile	Sun Mar 26 15:03:52 2017
@@@@ -2287,7 +2287,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.68
log
@Update to git-2.12.0.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.67 2017/02/03 09:36:06 benoit Exp $
--- Makefile.orig	Fri Feb 24 20:17:39 2017
+++ Makefile	Sat Feb 25 11:12:35 2017
@@@@ -2292,7 +2292,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.67
log
@Update to git-2.11.1.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.66 2016/12/04 15:29:46 dcoppa Exp $
--- Makefile.orig	Thu Feb  2 22:54:13 2017
+++ Makefile	Fri Feb  3 10:27:23 2017
@@@@ -2287,7 +2287,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.66
log
@
Update to git-2.11.0 and fix some tests to make the testsuite run.

ok benoit@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.65 2016/11/04 09:43:30 dcoppa Exp $
--- Makefile.orig	Tue Nov 29 22:06:51 2016
+++ Makefile	Fri Dec  2 16:09:37 2016
@@@@ -2274,7 +2274,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.65
log
@
Update to git-2.10.2
ok benoit@@ (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.64 2016/10/11 10:59:27 dcoppa Exp $
--- Makefile.orig	Fri Oct 28 21:34:16 2016
+++ Makefile	Tue Nov  1 19:19:33 2016
@@@@ -2270,7 +2270,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.64
log
@
Update to git-2.10.1

OK benoit@@ (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.63 2016/05/25 07:13:05 benoit Exp $
--- Makefile.orig	Tue Oct  4 00:19:09 2016
+++ Makefile	Tue Oct 11 11:46:07 2016
@@@@ -2269,7 +2269,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.63
log
@Update to git-2.8.3.
@
text
@d1 4
a4 34
$OpenBSD: patch-Makefile,v 1.62 2016/04/02 15:03:37 benoit Exp $

No need for librt on OpenBSD

Workaround for ar(1) not having 's' on VAX by calling ranlib

--- Makefile.orig	Thu May 19 19:17:58 2016
+++ Makefile	Wed May 25 08:57:19 2016
@@@@ -1465,7 +1465,6 @@@@ endif
 
 ifdef HAVE_CLOCK_GETTIME
 	BASIC_CFLAGS += -DHAVE_CLOCK_GETTIME
-	EXTLIBS += -lrt
 endif
 
 ifdef HAVE_CLOCK_MONOTONIC
@@@@ -2026,13 +2025,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
 		$(CURL_LIBCURL) $(EXPAT_LIBEXPAT) $(LIBS)
 
 $(LIB_FILE): $(LIB_OBJS)
-	$(QUIET_AR)$(RM) $@@ && $(AR) $(ARFLAGS) $@@ $^
+	$(QUIET_AR)$(RM) $@@ && $(AR) rc $@@ $^ && ranlib $@@
 
 $(XDIFF_LIB): $(XDIFF_OBJS)
-	$(QUIET_AR)$(RM) $@@ && $(AR) $(ARFLAGS) $@@ $^
+	$(QUIET_AR)$(RM) $@@ && $(AR) rc $@@ $^ && ranlib $@@
 
 $(VCSSVN_LIB): $(VCSSVN_OBJS)
-	$(QUIET_AR)$(RM) $@@ && $(AR) $(ARFLAGS) $@@ $^
+	$(QUIET_AR)$(RM) $@@ && $(AR) rc $@@ $^ && ranlib $@@
 
 export DEFAULT_EDITOR DEFAULT_PAGER
 
@@@@ -2217,7 +2216,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.62
log
@Update to git-2.8.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.61 2016/01/05 08:31:59 benoit Exp $
d7 3
a9 3
--- Makefile.orig	Mon Mar 28 22:17:31 2016
+++ Makefile	Sat Apr  2 16:49:57 2016
@@@@ -1471,7 +1471,6 @@@@ endif
d17 1
a17 1
@@@@ -2032,13 +2031,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d34 1
a34 1
@@@@ -2223,7 +2222,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.61
log
@Update to git-2.7.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.60 2015/12/09 10:38:47 benoit Exp $
d7 3
a9 3
--- Makefile.orig	Tue Jan  5 00:31:57 2016
+++ Makefile	Tue Jan  5 08:13:53 2016
@@@@ -1455,7 +1455,6 @@@@ endif
d17 1
a17 1
@@@@ -2015,13 +2014,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d34 1
a34 1
@@@@ -2204,7 +2203,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.60
log
@Update to git-2.6.4.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.59 2015/11/07 08:28:22 benoit Exp $
d7 3
a9 3
--- Makefile.orig	Tue Dec  8 23:54:24 2015
+++ Makefile	Wed Dec  9 11:13:31 2015
@@@@ -1456,7 +1456,6 @@@@ endif
d17 1
a17 1
@@@@ -2016,13 +2015,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d34 1
a34 1
@@@@ -2205,7 +2204,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.59
log
@Update to git-2.6.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.58 2015/10/20 05:33:44 benoit Exp $
d7 3
a9 3
--- Makefile.orig	Thu Nov  5 22:31:55 2015
+++ Makefile	Sat Nov  7 08:34:01 2015
@@@@ -1443,7 +1443,6 @@@@ endif
d17 1
a17 1
@@@@ -2003,13 +2002,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d34 1
a34 1
@@@@ -2192,7 +2191,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.58
log
@Update to git-2.6.2.
@
text
@d1 1
a1 1
$OpenBSD$
d7 3
a9 3
--- Makefile.orig	Fri Oct 16 23:58:26 2015
+++ Makefile	Sun Oct 18 16:48:35 2015
@@@@ -1438,7 +1438,6 @@@@ endif
d17 2
a18 2
@@@@ -1998,13 +1997,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
 		$(LIBS) $(CURL_LIBCURL) $(EXPAT_LIBEXPAT)
d34 1
a34 1
@@@@ -2187,7 +2186,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.57
log
@Update to git-2.6.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.56 2015/08/25 21:25:03 benoit Exp $
d7 3
a9 3
--- Makefile.orig	Tue Sep 29 01:01:32 2015
+++ Makefile	Tue Sep 29 08:19:30 2015
@@@@ -1435,7 +1435,6 @@@@ endif
d17 1
a17 1
@@@@ -1995,13 +1994,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
-	$(QUIET_AR)$(RM) $@@ && $(AR) rcs $@@ $^
d25 1
a25 1
-	$(QUIET_AR)$(RM) $@@ && $(AR) rcs $@@ $^
d29 1
a29 1
-	$(QUIET_AR)$(RM) $@@ && $(AR) rcs $@@ $^
d34 1
a34 1
@@@@ -2184,7 +2183,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.56
log
@Update to git-2.5.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.55 2015/06/26 08:49:01 benoit Exp $
d7 3
a9 3
--- Makefile.orig	Mon Jul 27 22:34:56 2015
+++ Makefile	Tue Aug 25 23:06:57 2015
@@@@ -1431,7 +1431,6 @@@@ endif
d17 1
a17 1
@@@@ -1991,13 +1990,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d34 1
a34 1
@@@@ -2180,7 +2179,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.55
log
@Update to git-2.4.5.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.54 2015/06/07 07:59:42 benoit Exp $
d7 3
a9 3
--- Makefile.orig	Thu Jun 25 21:15:40 2015
+++ Makefile	Fri Jun 26 07:52:15 2015
@@@@ -1426,7 +1426,6 @@@@ endif
d17 1
a17 1
@@@@ -1982,13 +1981,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d34 1
a34 1
@@@@ -2171,7 +2170,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.54
log
@Update to git-2.4.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.53 2015/05/07 20:45:35 dcoppa Exp $
d7 2
a8 2
--- Makefile.orig	Fri Jun  5 22:14:00 2015
+++ Makefile	Sun Jun  7 09:35:33 2015
d34 1
a34 1
@@@@ -2170,7 +2169,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.53
log
@
Update to git-2.4.0

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.52 2015/02/07 18:19:41 dcoppa Exp $
d7 2
a8 2
--- Makefile.orig	Thu Apr 30 21:12:02 2015
+++ Makefile	Thu May  7 13:26:20 2015
d34 1
a34 1
@@@@ -2169,7 +2168,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.52
log
@
Update to git-2.3.0

ok jca@@, benoit@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.51 2015/01/13 09:40:56 benoit Exp $
d7 3
a9 3
--- Makefile.orig	Thu Feb  5 15:40:08 2015
+++ Makefile	Fri Feb  6 02:50:36 2015
@@@@ -1407,7 +1407,6 @@@@ endif
d17 1
a17 1
@@@@ -1959,13 +1958,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d34 1
a34 1
@@@@ -2146,7 +2145,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.51
log
@Update to git-2.2.2.
@
text
@d1 17
a17 4
$OpenBSD: patch-Makefile,v 1.50 2014/12/01 11:16:11 dcoppa Exp $
--- Makefile.orig	Mon Jan 12 23:25:03 2015
+++ Makefile	Tue Jan 13 09:28:37 2015
@@@@ -1927,13 +1927,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d34 1
a34 1
@@@@ -2114,7 +2114,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.50
log
@
regen patches
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.49 2014/09/26 13:55:44 dcoppa Exp $
--- Makefile.orig	Wed Nov 26 16:39:03 2014
+++ Makefile	Mon Dec  1 03:23:20 2014
@@@@ -1921,13 +1921,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2108,7 +2108,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.49
log
@
Update to git-2.1.1

ok benoit@@ (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.48 2014/08/19 19:44:39 pascal Exp $
--- Makefile.orig	Fri Sep 19 23:45:27 2014
+++ Makefile	Fri Sep 26 10:06:30 2014
@@@@ -2097,13 +2097,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2284,7 +2284,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.48
log
@Update to git 2.1.0.

ok benoit@@ (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.47 2014/08/11 16:49:31 pascal Exp $
--- Makefile.orig	Sat Aug 16 00:26:55 2014
+++ Makefile	Tue Aug 19 14:09:04 2014
@@@@ -2093,13 +2093,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2280,7 +2280,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.47
log
@Update to 2.0.4; also install the "multimail" hooks as requested by djm@@

ok benoit@@ (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.45 2014/03/10 20:56:53 pascal Exp $
--- Makefile.orig	Thu Jul 31 00:10:29 2014
+++ Makefile	Sun Aug 10 18:57:39 2014
@@@@ -2068,13 +2068,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2255,7 +2255,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.46
log
@Update to git-1.9.3.

ok benoit@@ (maintainer)
@
text
@d2 3
a4 3
--- Makefile.orig	Fri May  9 20:55:10 2014
+++ Makefile	Wed May 21 09:09:29 2014
@@@@ -2080,13 +2080,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2264,7 +2264,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.45
log
@Update to git 1.9.0

ok benoit@@ (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.44 2014/01/13 09:12:10 dcoppa Exp $
--- Makefile.orig	Fri Feb 14 22:57:09 2014
+++ Makefile	Sun Feb 16 18:13:36 2014
@@@@ -2072,13 +2072,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2256,7 +2256,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.44
log
@Update to git-1.8.5.2

ok benoit@@ (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.43 2013/10/19 07:21:04 benoit Exp $
--- Makefile.orig	Wed Dec 18 00:46:08 2013
+++ Makefile	Fri Jan 10 15:55:01 2014
@@@@ -2065,13 +2065,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2249,7 +2249,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.43
log
@Update to git-1.8.4.1.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.42 2013/09/13 07:10:01 dcoppa Exp $
--- Makefile.orig	Fri Sep 27 01:49:38 2013
+++ Makefile	Sat Oct 19 09:11:02 2013
@@@@ -2066,13 +2066,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2250,7 +2250,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.42
log
@Update to git-1.8.4

ok benoit@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.41 2013/08/11 11:48:43 benoit Exp $
--- Makefile.orig	Thu Sep 12 13:47:54 2013
+++ Makefile	Thu Sep 12 13:49:48 2013
@@@@ -2074,13 +2074,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2258,7 +2258,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.41
log
@Update git to 1.8.3.4.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.40 2013/07/17 07:53:11 benoit Exp $
--- Makefile.orig	Mon Jul 22 20:59:55 2013
+++ Makefile	Sun Aug 11 12:34:59 2013
@@@@ -2059,13 +2059,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d8 2
a9 2
-	$(QUIET_AR)$(RM) $@@ && $(AR) rcs $@@ $(LIB_OBJS)
+	$(QUIET_AR)$(RM) $@@ && $(AR) rc $@@ $(LIB_OBJS) && ranlib $@@
d12 2
a13 2
-	$(QUIET_AR)$(RM) $@@ && $(AR) rcs $@@ $(XDIFF_OBJS)
+	$(QUIET_AR)$(RM) $@@ && $(AR) rc $@@ $(XDIFF_OBJS) && ranlib $@@
d16 2
a17 2
-	$(QUIET_AR)$(RM) $@@ && $(AR) rcs $@@ $(VCSSVN_OBJS)
+	$(QUIET_AR)$(RM) $@@ && $(AR) rc $@@ $(VCSSVN_OBJS) && ranlib $@@
d21 1
a21 1
@@@@ -2239,7 +2239,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.40
log
@Update git to 1.8.3.3.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.39 2013/05/27 09:11:52 benoit Exp $
--- Makefile.orig	Mon Jul 15 22:59:21 2013
+++ Makefile	Wed Jul 17 08:11:53 2013
@@@@ -2058,13 +2058,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2238,7 +2238,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.39
log
@Update git to 1.8.3.

ok dcoppa@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.38 2013/05/02 10:01:34 dcoppa Exp $
--- Makefile.orig	Fri May 24 21:15:35 2013
+++ Makefile	Sat May 25 08:42:31 2013
@@@@ -2035,13 +2035,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2215,7 +2215,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.38
log
@Update to git-1.8.2.2

Fixes for vax by Jeremie Courreges-Anglas (thanks!)

OK sthen@@, benoit@@ (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.37 2013/03/13 11:58:16 benoit Exp $
--- Makefile.orig	Tue Apr 30 12:18:10 2013
+++ Makefile	Tue Apr 30 12:33:22 2013
@@@@ -2029,13 +2029,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2209,7 +2209,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.37
log
@- update git to 1.8.1.3
- update patches

ok dcoppa@@
@
text
@d1 4
a4 30
$OpenBSD: patch-Makefile,v 1.36 2013/03/12 22:39:31 sthen Exp $
--- Makefile.orig	Fri Feb  8 01:00:07 2013
+++ Makefile	Wed Mar 13 10:35:45 2013
@@@@ -1123,13 +1123,13 @@@@ ifeq ($(uname_S),FreeBSD)
 	HAVE_PATHS_H = YesPlease
 endif
 ifeq ($(uname_S),OpenBSD)
-	NO_STRCASESTR = YesPlease
 	NO_MEMMEM = YesPlease
 	USE_ST_TIMESPEC = YesPlease
 	NEEDS_LIBICONV = YesPlease
-	BASIC_CFLAGS += -I/usr/local/include
-	BASIC_LDFLAGS += -L/usr/local/lib
+	BASIC_CFLAGS += -I${X11BASE}/include -I${LOCALBASE}/include
+	BASIC_LDFLAGS += -L${X11BASE}/lib -L${LOCALBASE}/lib
 	HAVE_PATHS_H = YesPlease
+	NO_PYTHON = YesPlease
 endif
 ifeq ($(uname_S),NetBSD)
 	ifeq ($(shell expr "$(uname_R)" : '[01]\.'),2)
@@@@ -1601,7 +1601,7 @@@@ endif
 EXTLIBS += -lz
 
 ifndef NO_OPENSSL
-	OPENSSL_LIBSSL = -lssl
+	OPENSSL_LIBSSL = -lssl -lcrypto
 	ifdef OPENSSLDIR
 		BASIC_CFLAGS += -I$(OPENSSLDIR)/include
 		OPENSSL_LINK = -L$(OPENSSLDIR)/$(lib) $(CC_LD_DYNPATH)$(OPENSSLDIR)/$(lib)
@@@@ -2487,13 +2487,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d21 1
a21 1
@@@@ -2679,7 +2679,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.36
log
@VAX fixes for git; from Jeremie Courreges-Anglas, ok benoit@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.35 2013/01/25 08:14:59 dcoppa Exp $
--- Makefile.orig	Mon Jan 28 20:01:51 2013
+++ Makefile	Sun Feb 17 11:12:26 2013
d21 1
a21 1
@@@@ -1600,7 +1600,7 @@@@ endif
d30 1
a30 1
@@@@ -2486,13 +2486,13 @@@@ $(REMOTE_CURL_PRIMARY): remote-curl.o http.o http-walk
d47 1
a47 1
@@@@ -2678,7 +2678,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.35
log
@Update to git-1.8.1.1

ok sthen@@, pascal@@, benoit@@ (maintainer)
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.34 2013/01/09 09:46:54 sthen Exp $
--- Makefile.orig	Mon Jan 14 20:22:04 2013
+++ Makefile	Wed Jan 23 14:53:15 2013
d30 17
@


1.34
log
@Clean git/patches/patch-Makefile by using MAKE_FLAGS instead of MAKE_ENV
when overriding variables defined in git's Makefile. (REGRESS_SHELL remains
in MAKE_ENV as it's used by child make processes which don't pass the flags
across).  Regen PLIST while there & typo fix in comment.  ok benoit@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.33 2012/11/30 21:16:30 pascal Exp $
--- Makefile.orig	Fri Dec 28 00:32:43 2012
+++ Makefile	Wed Jan  9 01:47:02 2013
@@@@ -1114,13 +1114,13 @@@@ ifeq ($(uname_S),FreeBSD)
d21 1
a21 1
@@@@ -1587,7 +1587,7 @@@@ endif
d30 1
a30 1
@@@@ -2640,7 +2640,7 @@@@ export TEST_NO_MALLOC_CHECK
@


1.33
log
@Update to git 1.8.0.1.
* do not install/build documentation except for manpages.
* re-enable threads

ok jasper@@ benoit@@ (MAINTAINER) on earlier update
@
text
@d1 3
a3 48
$OpenBSD: patch-Makefile,v 1.32 2011/07/24 16:29:30 benoit Exp $
--- Makefile.orig	Sun Oct 21 23:32:15 2012
+++ Makefile	Sat Nov 24 01:36:41 2012
@@@@ -341,7 +341,7 @@@@ endif
 
 # CFLAGS and LDFLAGS are for the users to override from the command line.
 
-CFLAGS = -g -O2 -Wall
+CFLAGS ?= -g -O2 -Wall
 LDFLAGS =
 ALL_CFLAGS = $(CPPFLAGS) $(CFLAGS)
 ALL_LDFLAGS = $(LDFLAGS)
@@@@ -359,12 +359,12 @@@@ STRIP ?= strip
 # runtime figures out where they are based on the path to the executable.
 # This can help installing the suite in a relocatable way.
 
-prefix = $(HOME)
+#prefix = $(HOME)
 bindir_relative = bin
 bindir = $(prefix)/$(bindir_relative)
-mandir = share/man
+mandir = man
 infodir = share/info
-gitexecdir = libexec/git-core
+gitexecdir = libexec/git
 mergetoolsdir = $(gitexecdir)/mergetools
 sharedir = $(prefix)/share
 gitwebdir = $(sharedir)/gitweb
@@@@ -379,7 +379,7 @@@@ pathsep = :
 
 export prefix bindir sharedir sysconfdir gitwebdir localedir
 
-CC = cc
+CC ?= cc
 AR = ar
 RM = rm -f
 DIFF = diff
@@@@ -387,8 +387,8 @@@@ TAR = tar
 FIND = find
 INSTALL = install
 RPMBUILD = rpmbuild
-TCL_PATH = tclsh
-TCLTK_PATH = wish
+TCL_PATH ?= tclsh
+TCLTK_PATH ?= wish
 XGETTEXT = xgettext
 MSGFMT = msgfmt
 PTHREAD_LIBS = -lpthread
@


1.32
log
@- update git to 1.7.6
- regen PLIST
- update patches

Same diff from Piotr Sikora, ok bernd@@
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.orig	Mon Jun 27 00:26:13 2011
+++ Makefile	Sat Jul 16 14:44:47 2011
@@@@ -271,7 +271,7 @@@@
d13 1
a13 1
@@@@ -289,12 +289,12 @@@@
d26 1
d29 1
a29 2
 template_dir = share/git-core/templates
@@@@ -307,7 +307,7 @@@@
d31 1
a31 1
 export prefix bindir sharedir sysconfdir gitwebdir
d33 2
a34 2
-CC = gcc
+CC ?= gcc
d38 1
a38 1
@@@@ -315,10 +315,10 @@@@
d47 3
a49 6
-PTHREAD_LIBS = -lpthread
+PTHREAD_LIBS = -pthread
 PTHREAD_CFLAGS =
 GCOV = gcov
 
@@@@ -949,13 +949,14 @@@@
a61 1
+	NO_PTHREADS = YesPlease
d66 1
a66 1
@@@@ -1314,7 +1315,7 @@@@
d75 1
a75 1
@@@@ -2146,7 +2147,7 @@@@
d83 1
a83 1
 test-ctype$X: ctype.o
@


1.31
log
@Update to 1.7.5. ok bernd
@
text
@d1 4
a4 3
--- Makefile.orig	Sun Apr 24 19:48:31 2011
+++ Makefile	Thu Apr 28 18:00:03 2011
@@@@ -262,7 +262,7 @@@@ endif
d13 1
a13 1
@@@@ -281,32 +281,25 @@@@ STRIP ?= strip
d29 1
a29 15
 htmldir = share/doc/git-doc
-ifeq ($(prefix),/usr)
-sysconfdir = /etc
-ETC_GITCONFIG = $(sysconfdir)/gitconfig
-ETC_GITATTRIBUTES = $(sysconfdir)/gitattributes
-else
-sysconfdir = $(prefix)/etc
-ETC_GITCONFIG = etc/gitconfig
-ETC_GITATTRIBUTES = etc/gitattributes
-endif
+ETC_GITCONFIG = $(SYSCONFDIR)/gitconfig
+ETC_GITATTRIBUTES = $(SYSCONFDIR)/gitattributes
 lib = lib
 # DESTDIR=
 pathsep = :
d38 1
a38 1
@@@@ -314,10 +307,10 @@@@ TAR = tar
d52 1
a52 1
@@@@ -942,13 +935,14 @@@@ ifeq ($(uname_S),FreeBSD)
d70 1
a70 1
@@@@ -1289,7 +1283,7 @@@@ endif
d79 1
a79 1
@@@@ -2135,7 +2129,7 @@@@ export NO_SVN_TESTS
@


1.30
log
@Update to git-1.7.3.2 and switch to new README stuff.
@
text
@d1 3
a3 3
--- Makefile.orig	Fri Oct 22 05:49:16 2010
+++ Makefile	Mon Oct 25 14:47:08 2010
@@@@ -257,7 +257,7 @@@@ endif
d12 1
a12 1
@@@@ -275,30 +275,24 @@@@ STRIP ?= strip
d32 1
d36 1
d39 1
d51 1
a51 1
@@@@ -306,9 +300,9 @@@@ TAR = tar
a56 1
-PTHREAD_LIBS = -lpthread
d59 2
d65 1
a65 1
@@@@ -924,13 +918,14 @@@@ ifeq ($(uname_S),FreeBSD)
d83 3
a85 3
@@@@ -1247,7 +1242,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
 	PROGRAM_OBJS += daemon.o
 endif
d92 1
a92 1
@@@@ -2037,7 +2032,7 @@@@ export NO_SVN_TESTS
@


1.29
log
@Update to git-1.7.3.1.

Add a README.OpenBSD file with some notes about the send-email
command. (via matthieu@@)
@
text
@d1 2
a2 2
--- Makefile.orig	Sun Sep 19 01:43:54 2010
+++ Makefile	Tue Sep 21 14:44:36 2010
d61 1
a61 1
@@@@ -922,13 +916,14 @@@@ ifeq ($(uname_S),FreeBSD)
d79 1
a79 1
@@@@ -1244,7 +1239,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
d88 1
a88 1
@@@@ -2034,7 +2029,7 @@@@ export NO_SVN_TESTS
@


1.28
log
@Update to git-1.7.1.
@
text
@d1 3
a3 3
--- Makefile.orig	Sat Apr 24 04:38:35 2010
+++ Makefile	Mon Apr 26 10:22:14 2010
@@@@ -244,7 +244,7 @@@@ endif
d10 1
a10 1
 ALL_CFLAGS = $(CFLAGS)
d12 1
a12 1
@@@@ -262,38 +262,32 @@@@ STRIP ?= strip
d26 1
d41 1
a41 1
 export prefix bindir sharedir sysconfdir
d47 2
a48 1
 TAR = tar
d58 2
d61 2
a62 4
 export TCL_PATH TCLTK_PATH
 
@@@@ -869,12 +863,13 @@@@ ifeq ($(uname_S),FreeBSD)
 	PYTHON_PATH = /usr/local/bin/python
d73 1
d79 1
a79 1
@@@@ -1153,7 +1148,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
d88 1
a88 1
@@@@ -1909,7 +1904,7 @@@@ export NO_SVN_TESTS
@


1.27
log
@Update to git-1.7.0.4.

Based on a diff by Daniel Dickman. Thanks!
@
text
@d1 3
a3 3
--- Makefile.orig	Thu Apr  1 06:29:23 2010
+++ Makefile	Fri Apr  2 11:36:32 2010
@@@@ -234,7 +234,7 @@@@ endif
d12 1
a12 1
@@@@ -252,22 +252,16 @@@@ STRIP ?= strip
a38 1
@@@@ -277,16 +271,16 @@@@ JSMIN =
d59 2
a60 2
@@@@ -833,12 +827,13 @@@@ ifeq ($(uname_S),FreeBSD)
 	endif
d76 2
a77 2
@@@@ -1110,7 +1105,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
 	PROGRAMS += git-daemon$X
d85 1
a85 1
@@@@ -1753,7 +1748,7 @@@@ bin-wrappers/%: wrap-for-bin.sh
d87 1
a87 1
 export NO_SVN_TESTS
@


1.26
log
@Update to git-1.6.5.5.
@
text
@d1 3
a3 3
--- Makefile.orig	Sun Dec  6 04:51:25 2009
+++ Makefile	Sun Dec  6 10:39:37 2009
@@@@ -218,7 +218,7 @@@@ uname_V := $(shell sh -c 'uname -v 2>/dev/null || echo
d12 1
a12 1
@@@@ -236,22 +236,16 @@@@ STRIP ?= strip
d39 1
a39 1
@@@@ -276,16 +270,16 @@@@ GITWEB_SITE_FOOTER =
d60 1
a60 1
@@@@ -806,13 +800,12 @@@@ ifeq ($(uname_S),FreeBSD)
a69 1
-	THREADED_DELTA_SEARCH = YesPlease
d73 1
d77 2
a78 2
@@@@ -1082,7 +1075,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
 	PROGRAMS += git-imap-send$X
d86 1
a86 1
@@@@ -1671,7 +1664,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.25
log
@Update to git-1.6.5.3.
@
text
@d1 2
a2 2
--- Makefile.orig	Mon Nov 16 23:14:46 2009
+++ Makefile	Tue Nov 17 14:30:55 2009
d60 1
a60 1
@@@@ -803,13 +797,12 @@@@ ifeq ($(uname_S),FreeBSD)
d77 1
a77 1
@@@@ -1083,7 +1076,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
@


1.24
log
@Update to git-1.6.5.

From Simon Kuhnle with some tweaks by me.
Thanks!
@
text
@d1 3
a3 3
--- Makefile.orig	Sun Oct 11 03:42:04 2009
+++ Makefile	Mon Oct 12 15:38:28 2009
@@@@ -214,7 +214,7 @@@@ uname_V := $(shell sh -c 'uname -v 2>/dev/null || echo
d12 1
a12 1
@@@@ -232,22 +232,16 @@@@ STRIP ?= strip
d39 1
a39 1
@@@@ -272,16 +266,16 @@@@ GITWEB_SITE_FOOTER =
d60 1
a60 1
@@@@ -798,13 +792,12 @@@@ ifeq ($(uname_S),FreeBSD)
d77 1
a77 1
@@@@ -1078,7 +1071,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
d86 1
a86 1
@@@@ -1666,7 +1659,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.23
log
@Update to git-1.6.4.

Tested by Simon Kuhnle, sturm@@, msf@@ and Daniel Dickman.
Thanks!
@
text
@d1 3
a3 3
--- Makefile.orig	Wed Jul 29 10:18:18 2009
+++ Makefile	Sat Aug  1 10:41:01 2009
@@@@ -212,7 +212,7 @@@@ uname_V := $(shell sh -c 'uname -v 2>/dev/null || echo
d12 1
a12 1
@@@@ -230,22 +230,16 @@@@ STRIP ?= strip
d39 1
a39 1
@@@@ -270,16 +264,16 @@@@ GITWEB_SITE_FOOTER =
d60 1
a60 1
@@@@ -791,13 +785,12 @@@@ ifeq ($(uname_S),FreeBSD)
d77 1
a77 1
@@@@ -1009,7 +1002,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
d86 1
a86 1
@@@@ -1589,7 +1582,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.22
log
@Update to git-1.6.3.4.

From Simon Kuhnle (simon at blarzwurst dot de). Thanks!
@
text
@d1 3
a3 3
--- Makefile.orig	Wed Jul 29 10:06:16 2009
+++ Makefile	Wed Jul 29 15:49:41 2009
@@@@ -192,7 +192,7 @@@@ uname_V := $(shell sh -c 'uname -v 2>/dev/null || echo
d12 1
a12 1
@@@@ -210,22 +210,16 @@@@ STRIP ?= strip
d38 2
a39 2
 
@@@@ -249,16 +243,16 @@@@ GITWEB_SITE_FOOTER =
d60 1
a60 1
@@@@ -751,13 +745,12 @@@@ ifeq ($(uname_S),FreeBSD)
d77 1
a77 1
@@@@ -923,7 +916,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
d86 1
a86 1
@@@@ -1484,7 +1477,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.21
log
@Update to git-1.6.3.2.
@
text
@d1 2
a2 2
--- Makefile.orig	Thu Jun  4 08:26:40 2009
+++ Makefile	Thu Jun  4 19:20:44 2009
d60 1
a60 1
@@@@ -750,13 +744,12 @@@@ ifeq ($(uname_S),FreeBSD)
d77 1
a77 1
@@@@ -922,7 +915,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
d86 1
a86 1
@@@@ -1483,7 +1476,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.20
log
@Update to git-1.6.3.1.

Also:
- install gitweb and related stuff (from Simon Kuhnle)
- fix paths in some manpages (noticed by mk@@)
- 64bit for date.c fix went upstream

Thanks guys!
@
text
@d1 3
a3 3
--- Makefile.orig	Thu May  7 06:29:04 2009
+++ Makefile	Fri May  8 09:52:09 2009
@@@@ -189,7 +189,7 @@@@ uname_V := $(shell sh -c 'uname -v 2>/dev/null || echo
d12 1
a12 1
@@@@ -207,22 +207,16 @@@@ STRIP ?= strip
d39 1
a39 1
@@@@ -246,16 +240,16 @@@@ GITWEB_SITE_FOOTER =
d60 1
a60 1
@@@@ -747,12 +741,11 @@@@ ifeq ($(uname_S),FreeBSD)
d66 1
d77 1
a77 1
@@@@ -918,7 +911,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
d86 1
a86 1
@@@@ -1479,7 +1472,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.19
log
@t-1.6.2.2.

Also:
- Update HOMEPAGE. (reminded by Toni Mueller)
- Fix 64-bit problem. (found on sparc64)

Tested by sturm@@. Thanks!
@
text
@d1 3
a3 3
--- Makefile.orig	Wed Mar  4 09:18:50 2009
+++ Makefile	Sat Mar  7 14:14:19 2009
@@@@ -173,7 +173,7 @@@@ uname_V := $(shell sh -c 'uname -v 2>/dev/null || echo
d12 1
a12 1
@@@@ -191,22 +191,16 @@@@ STRIP ?= strip
d39 1
a39 1
@@@@ -230,16 +224,16 @@@@ GITWEB_SITE_FOOTER =
d60 1
a60 1
@@@@ -714,12 +708,11 @@@@ ifeq ($(uname_S),FreeBSD)
d76 1
a76 1
@@@@ -879,7 +872,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
d85 1
a85 1
@@@@ -1400,7 +1393,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.18
log
@Disable pthread usage since it seems to break some stuff.
Found the hard way by Simon Kuhnle, thanks!
@
text
@d1 3
a3 3
--- Makefile.orig	Thu Dec 25 06:33:25 2008
+++ Makefile	Mon Jan 26 09:09:19 2009
@@@@ -170,7 +170,7 @@@@ uname_V := $(shell sh -c 'uname -v 2>/dev/null || echo
d12 1
a12 1
@@@@ -186,11 +186,11 @@@@ STRIP ?= strip
d18 7
a24 6
 bindir = $(prefix)/bin
-mandir = $(prefix)/share/man
+mandir = $(prefix)/man
 infodir = $(prefix)/share/info
-gitexecdir = $(prefix)/libexec/git-core
+gitexecdir = $(prefix)/libexec/git
d26 4
a29 6
 template_dir = $(sharedir)/git-core/templates
 htmldir=$(sharedir)/doc/git-doc
@@@@ -200,7 +200,7 @@@@ else
 sysconfdir = $(prefix)/etc
 endif
 lib = lib
d31 4
d36 1
d39 1
a39 2
 # default configuration for gitweb
@@@@ -223,16 +223,16 @@@@ GITWEB_SITE_FOOTER =
d41 1
a41 1
 export prefix bindir sharedir htmldir sysconfdir
d60 1
a60 1
@@@@ -703,12 +703,11 @@@@ ifeq ($(uname_S),FreeBSD)
d76 1
a76 10
@@@@ -793,7 +792,7 @@@@ ifneq (,$(findstring MINGW,$(uname_S)))
 	COMPAT_OBJS += compat/mingw.o compat/fnmatch/fnmatch.o compat/regex/regex.o compat/winansi.o
 	EXTLIBS += -lws2_32
 	X = .exe
-	gitexecdir = ../libexec/git-core
+	gitexecdir = ../libexec/git
 	template_dir = ../share/git-core/templates/
 	ETC_GITCONFIG = ../etc/gitconfig
 endif
@@@@ -864,7 +863,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
d85 1
a85 1
@@@@ -1363,7 +1362,7 @@@@ all:: $(TEST_PROGRAMS)
d93 1
a93 1
 test-date$X: date.o ctype.o
@


1.17
log
@Update to git-1.6.1.

Also fixes command injection vulnerabilities in gitweb.
(CVE-2008-5516, CVE-2008-5517) Hint from jasper@@, thanks!

help & tests sturm@@
@
text
@d2 1
a2 1
+++ Makefile	Sat Jan 24 15:30:26 2009
d57 1
a57 1
@@@@ -703,11 +703,10 @@@@ ifeq ($(uname_S),FreeBSD)
d66 1
d69 1
a69 1
 	THREADED_DELTA_SEARCH = YesPlease
d72 1
@


1.16
log
@Update to git-1.6.0.2.

An earlier diff got tested by landry@@. Thanks!
@
text
@d1 3
a3 3
--- Makefile.orig	Sat Sep 13 04:29:50 2008
+++ Makefile	Sat Sep 13 16:03:31 2008
@@@@ -164,7 +164,7 @@@@ uname_P := $(shell sh -c 'uname -p 2>/dev/null || echo
d12 1
a12 1
@@@@ -180,11 +180,11 @@@@ STRIP ?= strip
d27 1
a27 1
@@@@ -194,7 +194,7 @@@@ else
d36 1
a36 1
@@@@ -217,15 +217,15 @@@@ GITWEB_SITE_FOOTER =
d50 1
d53 1
d57 2
a58 2
@@@@ -681,11 +681,10 @@@@ ifeq ($(uname_S),FreeBSD)
 	COMPAT_OBJS += compat/regex/regex.o
d68 1
d71 1
a71 2
 	ifeq ($(shell expr "$(uname_R)" : '[01]\.'),2)
@@@@ -762,7 +761,7 @@@@ ifneq (,$(findstring MINGW,$(uname_S)))
d80 2
a81 2
@@@@ -832,7 +831,7 @@@@ ifndef NO_POSIX_ONLY_PROGRAMS
 	PROGRAMS += git-shell$X
d89 1
a89 1
@@@@ -1311,7 +1310,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.15
log
@Update to git-1.5.6.

Tested by Daniel Dickman, Brad Walker and sturm@@.
Thank you!
@
text
@d1 3
a3 3
--- Makefile.orig	Thu Jun 19 00:49:49 2008
+++ Makefile	Thu Jun 19 08:59:54 2008
@@@@ -164,15 +164,15 @@@@ uname_P := $(shell sh -c 'uname -p 2>/dev/null || echo
d12 3
a14 1
 STRIP ?= strip
d22 2
a23 1
 gitexecdir = $(bindir)
d25 3
a27 1
@@@@ -184,7 +184,7 @@@@ else
d36 1
a36 1
@@@@ -207,15 +207,15 @@@@ GITWEB_SITE_FOOTER =
d38 1
a38 1
 export prefix bindir gitexecdir sharedir template_dir htmldir sysconfdir
d55 2
a56 2
@@@@ -662,11 +662,10 @@@@ ifeq ($(uname_S),FreeBSD)
 	DIR_HAS_BSD_GROUP_SEMANTICS = YesPlease
d69 12
a80 3
@@@@ -774,7 +773,7 @@@@ endif
 EXTLIBS += -lz
 
d87 1
a87 1
@@@@ -1239,7 +1238,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.14
log
@Update to git-1.5.5.1.

Add post-receive-email hook from contrib/ as suggested by Laurence Tratt.
@
text
@d1 2
a2 2
--- Makefile.orig	Tue Apr  8 09:10:01 2008
+++ Makefile	Thu Apr 10 09:53:51 2008
d31 1
a31 1
@@@@ -206,15 +206,15 @@@@ GITWEB_SITE_FOOTER =
d50 1
a50 1
@@@@ -615,11 +615,10 @@@@ ifeq ($(uname_S),FreeBSD)
d64 1
a64 1
@@@@ -723,7 +722,7 @@@@ endif
d73 1
a73 1
@@@@ -1187,7 +1186,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.13
log
@Fix manpath so git-help(1) works correctly.

From fulvio ciriaco. Thanks!
@
text
@d1 3
a3 3
--- Makefile.orig	Sun Feb 17 09:53:46 2008
+++ Makefile	Wed Mar 26 23:03:15 2008
@@@@ -150,15 +150,15 @@@@ uname_P := $(shell sh -c 'uname -p 2>/dev/null || echo
d22 1
a22 1
@@@@ -170,7 +170,7 @@@@ else
d31 1
a31 1
@@@@ -192,15 +192,15 @@@@ GITWEB_SITE_FOOTER =
d50 2
a51 2
@@@@ -469,11 +469,10 @@@@ ifeq ($(uname_S),FreeBSD)
 	BASIC_LDFLAGS += -L/usr/local/lib
d64 1
a64 1
@@@@ -577,7 +576,7 @@@@ endif
d73 1
a73 1
@@@@ -1021,7 +1020,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.12
log
@Update to git-1.5.4.

From Daniel Dickman. Thanks!
@
text
@d1 3
a3 3
--- Makefile.orig	Fri Feb  1 23:09:01 2008
+++ Makefile	Sat Feb  2 19:32:17 2008
@@@@ -150,13 +150,13 @@@@ uname_P := $(shell sh -c 'uname -p 2>/dev/null || echo
d17 2
a18 1
 mandir = $(prefix)/share/man
d20 2
@


1.11
log
@Update to git-1.5.3.7.
@
text
@d1 3
a3 4
$OpenBSD: patch-Makefile,v 1.10 2007/07/12 18:26:04 bernd Exp $
--- Makefile.orig	Sun Nov 18 23:55:49 2007
+++ Makefile	Thu Nov 22 20:32:19 2007
@@@@ -139,13 +139,13 @@@@ uname_P := $(shell sh -c 'uname -p 2>/dev/null || echo
d17 3
a19 3
 gitexecdir = $(bindir)
 sharedir = $(prefix)/share
@@@@ -156,7 +156,7 @@@@ else
d28 1
a28 1
@@@@ -177,15 +177,15 @@@@ GITWEB_SITE_FOOTER =
d30 1
a30 1
 export prefix bindir gitexecdir sharedir template_dir sysconfdir
d47 1
a47 1
@@@@ -445,10 +445,9 @@@@ ifeq ($(uname_S),FreeBSD)
d52 1
d61 1
a61 1
@@@@ -535,7 +534,7 @@@@ endif
d70 1
a70 1
@@@@ -967,7 +966,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.10
log
@Update to git-1.5.2.3.

Diff from Daniel Dickman. Thank you!
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.9 2007/06/14 21:44:49 bernd Exp $
--- Makefile.orig	Sat Jun 16 17:31:24 2007
+++ Makefile	Sun Jun 17 19:42:08 2007
@@@@ -137,13 +137,13 @@@@ uname_P := $(shell sh -c 'uname -p 2>/dev/null || echo
d19 2
a20 3
 sharedir = $(prefix)/share/
@@@@ -153,7 +153,7 @@@@ sysconfdir = /etc
 else
d23 1
d29 1
a29 1
@@@@ -174,13 +174,13 @@@@ GITWEB_SITE_FOOTER =
d36 1
d38 1
d41 1
a41 1
 TCL_PATH = tclsh
d43 1
d48 1
a48 1
@@@@ -451,10 +451,9 @@@@ ifeq ($(uname_S),FreeBSD)
d61 2
a62 2
@@@@ -531,7 +530,7 @@@@ ifndef NO_CURL
 endif
d69 2
a70 2
 		OPENSSL_LINK = -L$(OPENSSLDIR)/lib $(CC_LD_DYNPATH)$(OPENSSLDIR)/lib
@@@@ -962,7 +961,7 @@@@ all:: $(TEST_PROGRAMS)
d78 1
a78 1
 test-date$X: test-date.c date.o ctype.o
@


1.9
log
@Update to git-1.5.2.1.

Initial diff from Daniel Dickman. Thank you!
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.8 2007/05/08 09:48:07 bernd Exp $
--- Makefile.orig	Sun Jun  3 01:21:54 2007
+++ Makefile	Thu Jun 14 23:30:38 2007
@@@@ -135,13 +135,13 @@@@ uname_P := $(shell sh -c 'uname -p 2>/dev/null || echo
d20 1
a20 1
@@@@ -151,7 +151,7 @@@@ sysconfdir = /etc
d29 1
a29 1
@@@@ -172,13 +172,13 @@@@ GITWEB_SITE_FOOTER =
d45 1
a45 1
@@@@ -448,10 +448,9 @@@@ ifeq ($(uname_S),FreeBSD)
d58 1
a58 1
@@@@ -528,7 +527,7 @@@@ ifndef NO_CURL
d67 1
a67 1
@@@@ -951,7 +950,7 @@@@ all:: $(TEST_PROGRAMS)
@


1.8
log
@Update to git-1.5.1.3.

Tested by uwe@@, thanks.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.7 2007/04/28 09:18:51 bernd Exp $
--- Makefile.orig	Tue May  1 04:46:26 2007
+++ Makefile	Sat May  5 09:29:24 2007
@@@@ -123,13 +123,13 @@@@ uname_P := $(shell sh -c 'uname -p 2>/dev/null || echo
d19 2
a20 2
 template_dir = $(prefix)/share/git-core/templates/
@@@@ -138,7 +138,7 @@@@ sysconfdir = /etc
d29 1
a29 1
@@@@ -159,7 +159,7 @@@@ GITWEB_SITE_FOOTER =
d31 1
a31 1
 export prefix bindir gitexecdir template_dir sysconfdir
d38 8
a45 1
@@@@ -407,10 +407,9 @@@@ ifeq ($(uname_S),FreeBSD)
d58 1
a58 1
@@@@ -487,7 +486,7 @@@@ ifndef NO_CURL
d67 1
a67 1
@@@@ -866,7 +865,7 @@@@ GIT-CFLAGS: .FORCE-GIT-CFLAGS
d71 2
a72 2
-test: all test-chmtime$X
+test: test-chmtime$X
@


1.7
log
@Use xenocara expat.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.6 2007/04/20 08:44:40 bernd Exp $
--- Makefile.orig	Wed Apr 11 19:41:44 2007
+++ Makefile	Sat Apr 28 03:16:55 2007
@@@@ -123,17 +123,17 @@@@ uname_P := $(shell sh -c 'uname -p 2>/dev/null || echo
d20 5
a24 1
-ETC_GITCONFIG = $(prefix)/etc/gitconfig
d29 1
a29 1
@@@@ -154,7 +154,7 @@@@ GITWEB_SITE_FOOTER =
d31 1
a31 1
 export prefix bindir gitexecdir template_dir
d38 1
a38 1
@@@@ -402,10 +402,9 @@@@ ifeq ($(uname_S),FreeBSD)
d51 1
a51 1
@@@@ -482,7 +481,7 @@@@ ifndef NO_CURL
d60 1
a60 1
@@@@ -861,7 +860,7 @@@@ GIT-CFLAGS: .FORCE-GIT-CFLAGS
@


1.6
log
@Update to git-1.5.1.1 and take maintainership.

tested by grunk@@, ok matthieu@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.5 2007/04/13 10:19:45 bernd Exp $
--- Makefile.orig	Thu Apr 12 03:41:44 2007
+++ Makefile	Fri Apr 13 13:16:37 2007
d34 1
a34 1
@@@@ -402,7 +402,6 @@@@ ifeq ($(uname_S),FreeBSD)
d40 7
a46 2
 	BASIC_CFLAGS += -I/usr/local/include
 	BASIC_LDFLAGS += -L/usr/local/lib
@


1.5
log
@Update to git-1.5.0.5 and put git-svn and git-svnimport into a subpackage.

Joint work with uwe@@ and grunk@@.

ok matthieu@@ (MAINTAINER)
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.4 2007/01/13 14:26:59 matthieu Exp $
--- Makefile.orig	Sun Mar 18 23:08:11 2007
+++ Makefile	Tue Apr  3 16:01:33 2007
@@@@ -121,13 +121,13 @@@@ uname_P := $(shell sh -c 'uname -p 2>/dev/null || echo
d20 6
a25 1
@@@@ -151,7 +151,7 @@@@ GITWEB_SITE_FOOTER =
d34 1
a34 1
@@@@ -393,7 +393,6 @@@@ ifeq ($(uname_S),FreeBSD)
d42 1
a42 1
@@@@ -473,7 +472,7 @@@@ ifndef NO_CURL
d51 9
@


1.4
log
@Update to git 1.4.4.4
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.3 2006/11/16 19:28:53 matthieu Exp $
--- Makefile.orig	Mon Jan  8 04:14:44 2007
+++ Makefile	Sat Jan 13 15:22:32 2007
@@@@ -106,13 +106,13 @@@@ uname_P := $(shell sh -c 'uname -p 2>/de
d20 1
a20 1
@@@@ -137,7 +137,7 @@@@ GITWEB_SITE_FOOTER =
d22 1
a22 1
 export prefix bindir gitexecdir template_dir GIT_PYTHON_DIR
d29 1
a29 1
@@@@ -375,7 +375,6 @@@@ ifeq ($(uname_S),FreeBSD)
d37 1
a37 1
@@@@ -457,7 +456,7 @@@@ ifndef NO_CURL
a43 1
 		# Again this may be problematic -- gcc does not always want -R.
d45 1
@


1.3
log
@- update to git 1.4.4
- add manual pages.
ok aanriot@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.2 2006/11/13 21:02:26 matthieu Exp $
--- Makefile.orig	Wed Nov 15 08:22:27 2006
+++ Makefile	Wed Nov 15 21:35:09 2006
d29 1
a29 1
@@@@ -387,7 +387,6 @@@@ ifeq ($(uname_S),FreeBSD)
d37 1
a37 1
@@@@ -454,7 +453,7 @@@@ ifndef NO_CURL
@


1.2
log
@update to 1.4.3.5
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.1.1.1 2006/11/12 15:59:05 matthieu Exp $
--- Makefile.orig	Sun Nov 12 06:03:32 2006
+++ Makefile	Mon Nov 13 21:59:36 2006
d20 1
a20 1
@@@@ -135,7 +135,7 @@@@ GITWEB_FAVICON = git-favicon.png
d29 1
a29 1
@@@@ -379,7 +379,6 @@@@ ifeq ($(uname_S),FreeBSD)
d37 1
a37 1
@@@@ -446,7 +445,7 @@@@ ifndef NO_CURL
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.orig	Thu Oct 19 01:32:58 2006
+++ Makefile	Tue Oct 31 23:44:35 2006
d29 1
a29 1
@@@@ -382,7 +382,6 @@@@ ifeq ($(uname_S),FreeBSD)
d37 1
a37 1
@@@@ -449,7 +448,7 @@@@ ifndef NO_CURL
@


1.1.1.1
log
@git 1.4.3.4 - Tree History Storage Tool, the SCM used by the Linux 
kernel and X.Org (among others).
Joint work with aanriot@@. Ok mbalmer@@.
@
text
@@
