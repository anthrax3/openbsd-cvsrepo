head	1.5;
access;
symbols
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.3.0.4
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.2
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2010.04.02.16.08.09;	author bernd;	state dead;
branches;
next	1.4;

1.4
date	2009.11.17.16.29.42;	author bernd;	state Exp;
branches;
next	1.3;

1.3
date	2008.09.27.21.47.20;	author bernd;	state Exp;
branches;
next	1.2;

1.2
date	2008.04.26.09.24.04;	author bernd;	state Exp;
branches;
next	1.1;

1.1
date	2008.02.08.17.56.01;	author bernd;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to git-1.7.0.4.

Based on a diff by Daniel Dickman. Thanks!
@
text
@$OpenBSD: patch-t_t4019-diff-wserror_sh,v 1.4 2009/11/17 16:29:42 bernd Exp $
--- t/t4019-diff-wserror.sh.orig	Mon Nov 16 23:14:46 2009
+++ t/t4019-diff-wserror.sh	Tue Nov 17 14:55:54 2009
@@@@ -23,8 +23,8 @@@@ blue_grep='7;34m' ;# ESC [ 7 ; 3 4 m
 test_expect_success default '
 
 	git diff --color >output
-	grep "$blue_grep" output >error
-	grep -v "$blue_grep" output >normal
+	grep -a "$blue_grep" output >error
+	grep -a -v "$blue_grep" output >normal
 
 	grep Eight normal >/dev/null &&
 	grep HT error >/dev/null &&
@@@@ -38,8 +38,8 @@@@ test_expect_success 'without -trail' '
 
 	git config core.whitespace -trail
 	git diff --color >output
-	grep "$blue_grep" output >error
-	grep -v "$blue_grep" output >normal
+	grep -a "$blue_grep" output >error
+	grep -a -v "$blue_grep" output >normal
 
 	grep Eight normal >/dev/null &&
 	grep HT error >/dev/null &&
@@@@ -54,8 +54,8 @@@@ test_expect_success 'without -trail (attribute)' '
 	git config --unset core.whitespace
 	echo "F whitespace=-trail" >.gitattributes
 	git diff --color >output
-	grep "$blue_grep" output >error
-	grep -v "$blue_grep" output >normal
+	grep -a "$blue_grep" output >error
+	grep -a -v "$blue_grep" output >normal
 
 	grep Eight normal >/dev/null &&
 	grep HT error >/dev/null &&
@@@@ -70,8 +70,8 @@@@ test_expect_success 'without -space' '
 	rm -f .gitattributes
 	git config core.whitespace -space
 	git diff --color >output
-	grep "$blue_grep" output >error
-	grep -v "$blue_grep" output >normal
+	grep -a "$blue_grep" output >error
+	grep -a -v "$blue_grep" output >normal
 
 	grep Eight normal >/dev/null &&
 	grep HT normal >/dev/null &&
@@@@ -86,8 +86,8 @@@@ test_expect_success 'without -space (attribute)' '
 	git config --unset core.whitespace
 	echo "F whitespace=-space" >.gitattributes
 	git diff --color >output
-	grep "$blue_grep" output >error
-	grep -v "$blue_grep" output >normal
+	grep -a "$blue_grep" output >error
+	grep -a -v "$blue_grep" output >normal
 
 	grep Eight normal >/dev/null &&
 	grep HT normal >/dev/null &&
@@@@ -102,8 +102,8 @@@@ test_expect_success 'with indent-non-tab only' '
 	rm -f .gitattributes
 	git config core.whitespace indent,-trailing,-space
 	git diff --color >output
-	grep "$blue_grep" output >error
-	grep -v "$blue_grep" output >normal
+	grep -a "$blue_grep" output >error
+	grep -a -v "$blue_grep" output >normal
 
 	grep Eight error >/dev/null &&
 	grep HT normal >/dev/null &&
@@@@ -118,8 +118,8 @@@@ test_expect_success 'with indent-non-tab only (attribu
 	git config --unset core.whitespace
 	echo "F whitespace=indent,-trailing,-space" >.gitattributes
 	git diff --color >output
-	grep "$blue_grep" output >error
-	grep -v "$blue_grep" output >normal
+	grep -a "$blue_grep" output >error
+	grep -a -v "$blue_grep" output >normal
 
 	grep Eight error >/dev/null &&
 	grep HT normal >/dev/null &&
@@@@ -134,8 +134,8 @@@@ test_expect_success 'with cr-at-eol' '
 	rm -f .gitattributes
 	git config core.whitespace cr-at-eol
 	git diff --color >output
-	grep "$blue_grep" output >error
-	grep -v "$blue_grep" output >normal
+	grep -a "$blue_grep" output >error
+	grep -a -v "$blue_grep" output >normal
 
 	grep Eight normal >/dev/null &&
 	grep HT error >/dev/null &&
@@@@ -150,8 +150,8 @@@@ test_expect_success 'with cr-at-eol (attribute)' '
 	git config --unset core.whitespace
 	echo "F whitespace=trailing,cr-at-eol" >.gitattributes
 	git diff --color >output
-	grep "$blue_grep" output >error
-	grep -v "$blue_grep" output >normal
+	grep -a "$blue_grep" output >error
+	grep -a -v "$blue_grep" output >normal
 
 	grep Eight normal >/dev/null &&
 	grep HT error >/dev/null &&
@@@@ -195,7 +195,7 @@@@ test_expect_success 'color new trailing blank lines' '
 	git add x &&
 	{ echo a; echo; echo; echo; echo c; echo; echo; echo; echo; } >x &&
 	git diff --color x >output &&
-	cnt=$(grep "${blue_grep}" output | wc -l) &&
+	cnt=$(grep -a "${blue_grep}" output | wc -l) &&
 	test $cnt = 2
 '
 
@


1.4
log
@Update to git-1.6.5.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-t_t4019-diff-wserror_sh,v 1.3 2008/09/27 21:47:20 bernd Exp $
@


1.3
log
@Update to git-1.6.0.2.

An earlier diff got tested by landry@@. Thanks!
@
text
@d1 3
a3 3
$OpenBSD: patch-t_t4019-diff-wserror_sh,v 1.2 2008/04/26 09:24:04 bernd Exp $
--- t/t4019-diff-wserror.sh.orig	Sun Aug 17 22:43:06 2008
+++ t/t4019-diff-wserror.sh	Mon Aug 25 09:30:05 2008
d103 9
@


1.2
log
@Update to git-1.5.5.1.

Add post-receive-email hook from contrib/ as suggested by Laurence Tratt.
@
text
@d1 4
a4 4
$OpenBSD: patch-t_t4019-diff-wserror_sh,v 1.1 2008/02/08 17:56:01 bernd Exp $
--- t/t4019-diff-wserror.sh.orig	Tue Apr  8 09:10:01 2008
+++ t/t4019-diff-wserror.sh	Thu Apr 10 10:42:58 2008
@@@@ -22,8 +22,8 @@@@ blue_grep='7;34m' ;# ESC [ 7 ; 3 4 m
d15 1
a15 1
@@@@ -37,8 +37,8 @@@@ test_expect_success 'without -trail' '
d26 1
a26 1
@@@@ -53,8 +53,8 @@@@ test_expect_success 'without -trail (attribute)' '
d37 1
a37 1
@@@@ -69,8 +69,8 @@@@ test_expect_success 'without -space' '
d48 1
a48 1
@@@@ -85,8 +85,8 @@@@ test_expect_success 'without -space (attribute)' '
d59 1
a59 1
@@@@ -101,8 +101,8 @@@@ test_expect_success 'with indent-non-tab only' '
d70 1
a70 1
@@@@ -117,8 +117,8 @@@@ test_expect_success 'with indent-non-tab only (attribu
d81 1
a81 1
@@@@ -133,8 +133,8 @@@@ test_expect_success 'with cr-at-eol' '
d92 1
a92 1
@@@@ -149,8 +149,8 @@@@ test_expect_success 'with cr-at-eol (attribute)' '
@


1.1
log
@Update to git-1.5.4.

From Daniel Dickman. Thanks!
@
text
@d1 4
a4 4
$OpenBSD$
--- t/t4019-diff-wserror.sh.orig	Sat Feb  2 18:41:02 2008
+++ t/t4019-diff-wserror.sh	Sat Feb  2 18:41:17 2008
@@@@ -21,8 +21,8 @@@@ blue_grep='7;34m' ;# ESC [ 7 ; 3 4 m
d15 1
a15 1
@@@@ -35,8 +35,8 @@@@ test_expect_success 'without -trail' '
d26 1
a26 1
@@@@ -50,8 +50,8 @@@@ test_expect_success 'without -trail (attribute)' '
d37 1
a37 1
@@@@ -65,8 +65,8 @@@@ test_expect_success 'without -space' '
d48 1
a48 1
@@@@ -80,8 +80,8 @@@@ test_expect_success 'without -space (attribute)' '
d59 1
a59 1
@@@@ -95,8 +95,8 @@@@ test_expect_success 'with indent-non-tab only' '
d70 1
a70 1
@@@@ -110,8 +110,8 @@@@ test_expect_success 'with indent-non-tab only (attribu
d81 22
@

