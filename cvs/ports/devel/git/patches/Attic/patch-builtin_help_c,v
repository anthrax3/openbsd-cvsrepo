head	1.2;
access;
symbols
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2010.10.07.09.42.23;	author bernd;	state dead;
branches;
next	1.1;

1.1
date	2010.06.20.11.49.41;	author bernd;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to git-1.7.3.1.

Add a README.OpenBSD file with some notes about the send-email
command. (via matthieu@@)
@
text
@$OpenBSD: patch-builtin_help_c,v 1.1 2010/06/20 11:49:41 bernd Exp $

Fix "warning: missing sentinel in function call" on 64bit archs.

--- builtin/help.c.orig	Fri Feb 12 19:44:43 2010
+++ builtin/help.c	Mon Mar  1 19:57:35 2010
@@@@ -120,7 +120,7 @@@@ static void exec_woman_emacs(const char *path, const c
 		if (!path)
 			path = "emacsclient";
 		strbuf_addf(&man_page, "(woman \"%s\")", page);
-		execlp(path, "emacsclient", "-e", man_page.buf, NULL);
+		execlp(path, "emacsclient", "-e", man_page.buf, (void *)NULL);
 		warning("failed to exec '%s': %s", path, strerror(errno));
 	}
 }
@@@@ -148,7 +148,7 @@@@ static void exec_man_konqueror(const char *path, const
 		} else
 			path = "kfmclient";
 		strbuf_addf(&man_page, "man:%s(1)", page);
-		execlp(path, filename, "newTab", man_page.buf, NULL);
+		execlp(path, filename, "newTab", man_page.buf, (void *)NULL);
 		warning("failed to exec '%s': %s", path, strerror(errno));
 	}
 }
@@@@ -157,7 +157,7 @@@@ static void exec_man_man(const char *path, const char 
 {
 	if (!path)
 		path = "man";
-	execlp(path, "man", page, NULL);
+	execlp(path, "man", page, (void *)NULL);
 	warning("failed to exec '%s': %s", path, strerror(errno));
 }
 
@@@@ -165,7 +165,7 @@@@ static void exec_man_cmd(const char *cmd, const char *
 {
 	struct strbuf shell_cmd = STRBUF_INIT;
 	strbuf_addf(&shell_cmd, "%s %s", cmd, page);
-	execl("/bin/sh", "sh", "-c", shell_cmd.buf, NULL);
+	execl("/bin/sh", "sh", "-c", shell_cmd.buf, (void *)NULL);
 	warning("failed to exec '%s': %s", cmd, strerror(errno));
 }
 
@@@@ -372,7 +372,7 @@@@ static void show_info_page(const char *git_cmd)
 {
 	const char *page = cmd_to_page(git_cmd);
 	setenv("INFOPATH", system_path(GIT_INFO_PATH), 1);
-	execlp("info", "info", "gitman", page, NULL);
+	execlp("info", "info", "gitman", page, (void *)NULL);
 	die("no info viewer handled the request");
 }
 
@


1.1
log
@Update to git-1.7.1.
@
text
@d1 1
a1 1
$OpenBSD: patch-builtin-help_c,v 1.6 2010/04/02 16:08:09 bernd Exp $
@

