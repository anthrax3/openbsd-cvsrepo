head	1.29;
access;
symbols
	OPENBSD_6_2:1.29.0.2
	OPENBSD_6_2_BASE:1.29
	OPENBSD_6_1:1.28.0.2
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.27.0.2
	OPENBSD_6_0_BASE:1.27
	OPENBSD_5_9:1.26.0.4
	OPENBSD_5_9_BASE:1.26
	OPENBSD_5_8:1.26.0.6
	OPENBSD_5_8_BASE:1.26
	OPENBSD_5_7:1.26.0.2
	OPENBSD_5_7_BASE:1.26
	OPENBSD_5_6:1.25.0.2
	OPENBSD_5_6_BASE:1.25
	OPENBSD_5_5:1.24.0.2
	OPENBSD_5_5_BASE:1.24
	OPENBSD_5_4:1.22.0.4
	OPENBSD_5_4_BASE:1.22
	OPENBSD_5_3:1.22.0.2
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.18.0.6
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.4
	OPENBSD_5_0:1.18.0.2
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.17.0.2
	OPENBSD_4_9_BASE:1.17
	OPENBSD_4_8:1.16.0.2
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.14.0.2
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.9.0.2
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2;
locks; strict;
comment	@# @;


1.29
date	2017.09.27.15.06.08;	author danj;	state Exp;
branches;
next	1.28;
commitid	f2HnoM6bbDwDHECq;

1.28
date	2016.12.04.15.29.46;	author dcoppa;	state Exp;
branches;
next	1.27;
commitid	VWUztPhJVflKq3yV;

1.27
date	2016.05.25.07.13.05;	author benoit;	state Exp;
branches;
next	1.26;
commitid	FidxSl2yfGwfmRYi;

1.26
date	2015.01.13.09.40.56;	author benoit;	state Exp;
branches;
next	1.25;
commitid	xOfuIj71Uv7uZ9iq;

1.25
date	2014.03.10.20.56.53;	author pascal;	state Exp;
branches;
next	1.24;

1.24
date	2014.01.13.09.12.10;	author dcoppa;	state Exp;
branches;
next	1.23;

1.23
date	2013.09.13.07.10.01;	author dcoppa;	state Exp;
branches;
next	1.22;

1.22
date	2013.01.25.08.14.59;	author dcoppa;	state Exp;
branches;
next	1.21;

1.21
date	2013.01.09.09.46.54;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2013.01.01.18.35.42;	author dcoppa;	state Exp;
branches;
next	1.19;

1.19
date	2012.11.30.21.16.30;	author pascal;	state Exp;
branches;
next	1.18;

1.18
date	2011.04.29.11.09.12;	author stsp;	state Exp;
branches;
next	1.17;

1.17
date	2010.10.07.09.42.23;	author bernd;	state Exp;
branches;
next	1.16;

1.16
date	2010.06.20.11.49.41;	author bernd;	state Exp;
branches;
next	1.15;

1.15
date	2010.04.02.16.08.09;	author bernd;	state Exp;
branches;
next	1.14;

1.14
date	2009.11.17.16.29.42;	author bernd;	state Exp;
branches;
next	1.13;

1.13
date	2009.10.16.10.55.06;	author bernd;	state Exp;
branches;
next	1.12;

1.12
date	2009.08.26.21.37.21;	author bernd;	state Exp;
branches;
next	1.11;

1.11
date	2009.08.17.14.47.54;	author bernd;	state Exp;
branches;
next	1.10;

1.10
date	2009.04.05.10.05.35;	author bernd;	state Exp;
branches;
next	1.9;

1.9
date	2009.01.29.23.16.35;	author bernd;	state Exp;
branches;
next	1.8;

1.8
date	2009.01.24.14.31.29;	author bernd;	state Exp;
branches;
next	1.7;

1.7
date	2008.12.09.09.53.33;	author bernd;	state Exp;
branches;
next	1.6;

1.6
date	2008.10.24.09.17.34;	author bernd;	state Exp;
branches;
next	1.5;

1.5
date	2008.09.27.21.47.20;	author bernd;	state Exp;
branches;
next	1.4;

1.4
date	2008.06.24.20.28.01;	author bernd;	state Exp;
branches;
next	1.3;

1.3
date	2008.04.26.09.24.04;	author bernd;	state Exp;
branches;
next	1.2;

1.2
date	2008.02.08.17.56.01;	author bernd;	state Exp;
branches;
next	1.1;

1.1
date	2007.12.17.20.00.05;	author bernd;	state Exp;
branches;
next	;


desc
@@


1.29
log
@Security update to git-2.14.2

The `git` subcommand `cvsserver` is a Perl script which makes excessive
use of the backtick operator to invoke `git`. Unfortunately user input
is used within some of those invocations.
http://seclists.org/oss-sec/2017/q3/att-534/git_cvsserver.txt

ok benoit@@ (maintainer), "Fix should go in" sthen@@
@
text
@$OpenBSD: patch-gitweb_gitweb_perl,v 1.28 2016/12/04 15:29:46 dcoppa Exp $

This prevents the following error: '-T and -B not implemented on filehandles'

Index: gitweb/gitweb.perl
--- gitweb/gitweb.perl.orig
+++ gitweb/gitweb.perl
@@@@ -7005,7 +7005,7 @@@@ sub git_blob_plain {
 		$expires = "+1d";
 	}
 
-	open my $fd, "-|", git_cmd(), "cat-file", "blob", $hash
+	open my $fd, "-|:raw:perlio", git_cmd(), "cat-file", "blob", $hash
 		or die_error(500, "Open git-cat-file blob '$hash' failed");
 
 	# content-type (can include charset)
@@@@ -7067,7 +7067,7 @@@@ sub git_blob {
 	}
 
 	my $have_blame = gitweb_check_feature('blame');
-	open my $fd, "-|", git_cmd(), "cat-file", "blob", $hash
+	open my $fd, "-|:raw:perlio", git_cmd(), "cat-file", "blob", $hash
 		or die_error(500, "Couldn't cat $file_name, $hash");
 	my $mimetype = blob_mimetype($fd, $file_name);
 	# use 'blob_plain' (aka 'raw') view for files that cannot be displayed
@


1.28
log
@
Update to git-2.11.0 and fix some tests to make the testsuite run.

ok benoit@@
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.27 2016/05/25 07:13:05 benoit Exp $
d5 4
a8 3
--- gitweb/gitweb.perl.orig	Tue Nov 29 22:06:51 2016
+++ gitweb/gitweb.perl	Fri Dec  2 16:09:37 2016
@@@@ -7003,7 +7003,7 @@@@ sub git_blob_plain {
d17 1
a17 1
@@@@ -7065,7 +7065,7 @@@@ sub git_blob {
@


1.27
log
@Update to git-2.8.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.26 2015/01/13 09:40:56 benoit Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Thu May 19 19:17:58 2016
+++ gitweb/gitweb.perl	Wed May 25 08:57:20 2016
@@@@ -6988,7 +6988,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -7050,7 +7050,7 @@@@ sub git_blob {
@


1.26
log
@Update to git-2.2.2.
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.25 2014/03/10 20:56:53 pascal Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Mon Jan 12 23:25:03 2015
+++ gitweb/gitweb.perl	Tue Jan 13 09:28:37 2015
@@@@ -6985,7 +6985,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -7047,7 +7047,7 @@@@ sub git_blob {
@


1.25
log
@Update to git 1.9.0

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.24 2014/01/13 09:12:10 dcoppa Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Fri Feb 14 22:57:09 2014
+++ gitweb/gitweb.perl	Sun Feb 16 18:13:37 2014
@@@@ -6981,7 +6981,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -7043,7 +7043,7 @@@@ sub git_blob {
@


1.24
log
@Update to git-1.8.5.2

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.23 2013/09/13 07:10:01 dcoppa Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Wed Dec 18 00:46:08 2013
+++ gitweb/gitweb.perl	Fri Jan 10 15:55:01 2014
@@@@ -6908,7 +6908,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -6970,7 +6970,7 @@@@ sub git_blob {
@


1.23
log
@Update to git-1.8.4

ok benoit@@
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.22 2013/01/25 08:14:59 dcoppa Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Fri Aug 23 21:38:43 2013
+++ gitweb/gitweb.perl	Thu Sep 12 13:47:09 2013
@@@@ -6907,7 +6907,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -6969,7 +6969,7 @@@@ sub git_blob {
@


1.22
log
@Update to git-1.8.1.1

ok sthen@@, pascal@@, benoit@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.21 2013/01/09 09:46:54 sthen Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Mon Jan 14 20:22:04 2013
+++ gitweb/gitweb.perl	Wed Jan 23 14:53:15 2013
@@@@ -6902,7 +6902,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -6964,7 +6964,7 @@@@ sub git_blob {
@


1.21
log
@Clean git/patches/patch-Makefile by using MAKE_FLAGS instead of MAKE_ENV
when overriding variables defined in git's Makefile. (REGRESS_SHELL remains
in MAKE_ENV as it's used by child make processes which don't pass the flags
across).  Regen PLIST while there & typo fix in comment.  ok benoit@@
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.20 2013/01/01 18:35:42 dcoppa Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Fri Dec 28 00:32:43 2012
+++ gitweb/gitweb.perl	Wed Jan  9 01:47:02 2013
@@@@ -6892,7 +6892,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -6954,7 +6954,7 @@@@ sub git_blob {
@


1.20
log
@Bugfix update to git-1.8.0.3

OK benoit@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.19 2012/11/30 21:16:30 pascal Exp $
d5 2
a6 2
--- gitweb/gitweb.perl.orig	Fri Dec 28 01:32:43 2012
+++ gitweb/gitweb.perl	Sun Dec 30 13:43:13 2012
@


1.19
log
@Update to git 1.8.0.1.
* do not install/build documentation except for manpages.
* re-enable threads

ok jasper@@ benoit@@ (MAINTAINER) on earlier update
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.18 2011/04/29 11:09:12 stsp Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Sun Oct 21 23:32:15 2012
+++ gitweb/gitweb.perl	Fri Nov 23 23:48:58 2012
@@@@ -6893,7 +6893,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -6955,7 +6955,7 @@@@ sub git_blob {
@


1.18
log
@Update to 1.7.5. ok bernd
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.17 2010/10/07 09:42:23 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Sun Apr 24 19:48:31 2011
+++ gitweb/gitweb.perl	Thu Apr 28 17:43:42 2011
@@@@ -5841,7 +5841,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -5894,7 +5894,7 @@@@ sub git_blob {
@


1.17
log
@Update to git-1.7.3.1.

Add a README.OpenBSD file with some notes about the send-email
command. (via matthieu@@)
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.16 2010/06/20 11:49:41 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Sun Sep 19 01:43:54 2010
+++ gitweb/gitweb.perl	Tue Sep 21 14:44:36 2010
@@@@ -5510,7 +5510,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -5563,7 +5563,7 @@@@ sub git_blob {
@


1.16
log
@Update to git-1.7.1.
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.15 2010/04/02 16:08:09 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Sat Apr 24 04:38:35 2010
+++ gitweb/gitweb.perl	Mon Apr 26 10:22:14 2010
@@@@ -5290,7 +5290,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -5343,7 +5343,7 @@@@ sub git_blob {
d24 1
a24 1
 	if ($mimetype !~ m!^(?:text/|image/(?:gif|png|jpeg)$)! && -B $fd) {
@


1.15
log
@Update to git-1.7.0.4.

Based on a diff by Daniel Dickman. Thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.14 2009/11/17 16:29:42 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Thu Apr  1 06:29:23 2010
+++ gitweb/gitweb.perl	Fri Apr  2 11:36:32 2010
@@@@ -5283,7 +5283,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -5336,7 +5336,7 @@@@ sub git_blob {
@


1.14
log
@Update to git-1.6.5.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.13 2009/10/16 10:55:06 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Mon Nov 16 23:14:46 2009
+++ gitweb/gitweb.perl	Tue Nov 17 14:30:56 2009
@@@@ -4952,7 +4952,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -5005,7 +5005,7 @@@@ sub git_blob {
@


1.13
log
@Update to git-1.6.5.

From Simon Kuhnle with some tweaks by me.
Thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.12 2009/08/26 21:37:21 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Sun Oct 11 03:42:04 2009
+++ gitweb/gitweb.perl	Mon Oct 12 15:38:28 2009
@@@@ -4953,7 +4953,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -5006,7 +5006,7 @@@@ sub git_blob {
@


1.12
log
@Update to git-1.6.4.1.

From Simon Kuhnle. Thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.11 2009/08/17 14:47:54 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Sat Aug 22 06:54:01 2009
+++ gitweb/gitweb.perl	Wed Aug 26 20:14:12 2009
@@@@ -4923,7 +4923,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -4976,7 +4976,7 @@@@ sub git_blob {
@


1.11
log
@Update to git-1.6.4.

Tested by Simon Kuhnle, sturm@@, msf@@ and Daniel Dickman.
Thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.10 2009/04/05 10:05:35 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Wed Jul 29 10:18:18 2009
+++ gitweb/gitweb.perl	Sat Aug  1 10:41:01 2009
@@@@ -4924,7 +4924,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -4977,7 +4977,7 @@@@ sub git_blob {
@


1.10
log
@t-1.6.2.2.

Also:
- Update HOMEPAGE. (reminded by Toni Mueller)
- Fix 64-bit problem. (found on sparc64)

Tested by sturm@@. Thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.9 2009/01/29 23:16:35 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Wed Mar  4 09:18:50 2009
+++ gitweb/gitweb.perl	Sat Mar  7 14:12:04 2009
@@@@ -4774,7 +4774,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -4828,7 +4828,7 @@@@ sub git_blob {
@


1.9
log
@Update to git 1.6.1.2 and add a subversion 1.5.5 fix for git-svn.
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.8 2009/01/24 14:31:29 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Mon Jan 26 01:48:26 2009
+++ gitweb/gitweb.perl	Mon Jan 26 16:24:54 2009
@@@@ -4725,7 +4725,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -4768,7 +4768,7 @@@@ sub git_blob {
@


1.8
log
@Update to git-1.6.1.

Also fixes command injection vulnerabilities in gitweb.
(CVE-2008-5516, CVE-2008-5517) Hint from jasper@@, thanks!

help & tests sturm@@
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.7 2008/12/09 09:53:33 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Thu Dec 25 06:33:25 2008
+++ gitweb/gitweb.perl	Thu Dec 25 19:30:58 2008
@@@@ -4724,7 +4724,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -4767,7 +4767,7 @@@@ sub git_blob {
@


1.7
log
@Update to git-1.6.0.5.
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.6 2008/10/24 09:17:34 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Mon Dec  8 02:21:49 2008
+++ gitweb/gitweb.perl	Mon Dec  8 11:16:25 2008
@@@@ -4299,7 +4299,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -4342,7 +4342,7 @@@@ sub git_blob {
d19 1
a19 1
 	my ($have_blame) = gitweb_check_feature('blame');
@


1.6
log
@Maintenance update to git-1.6.0.3.

(otto@@ asked for a commit from p2k8)
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.5 2008/09/27 21:47:20 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Wed Oct 22 06:19:18 2008
+++ gitweb/gitweb.perl	Wed Oct 22 08:12:23 2008
@@@@ -4298,7 +4298,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -4341,7 +4341,7 @@@@ sub git_blob {
@


1.5
log
@Update to git-1.6.0.2.

An earlier diff got tested by landry@@. Thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.4 2008/06/24 20:28:01 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Mon Aug 25 09:34:18 2008
+++ gitweb/gitweb.perl	Mon Aug 25 09:35:15 2008
@@@@ -4291,7 +4291,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -4334,7 +4334,7 @@@@ sub git_blob {
@


1.4
log
@Update to git-1.5.6.

Tested by Daniel Dickman, Brad Walker and sturm@@.
Thank you!
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.3 2008/04/26 09:24:04 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Thu Jun 19 00:49:49 2008
+++ gitweb/gitweb.perl	Thu Jun 19 11:13:49 2008
@@@@ -4361,7 +4361,7 @@@@ sub git_blob_plain {
d13 1
a13 1
 		or die_error(undef, "Open git-cat-file blob '$hash' failed");
d16 1
a16 1
@@@@ -4404,7 +4404,7 @@@@ sub git_blob {
d22 1
a22 1
 		or die_error(undef, "Couldn't cat $file_name, $hash");
@


1.3
log
@Update to git-1.5.5.1.

Add post-receive-email hook from contrib/ as suggested by Laurence Tratt.
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.2 2008/02/08 17:56:01 bernd Exp $
d5 4
a8 3
--- gitweb/gitweb.perl.orig	Tue Apr  8 09:10:01 2008
+++ gitweb/gitweb.perl	Thu Apr 10 09:53:51 2008
@@@@ -4313,7 +4313,7 @@@@ sub git_blob_plain {
a10 1
 	my $type = shift;
d13 1
a13 1
 		or die_error(undef, "Couldn't cat $file_name, $hash");
d15 2
a16 2
 	$type ||= blob_mimetype($fd, $file_name);
@@@@ -4355,7 +4355,7 @@@@ sub git_blob {
@


1.2
log
@Update to git-1.5.4.

From Daniel Dickman. Thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-gitweb_gitweb_perl,v 1.1 2007/12/17 20:00:05 bernd Exp $
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Fri Feb  1 23:09:01 2008
+++ gitweb/gitweb.perl	Sat Feb  2 19:33:24 2008
@@@@ -4245,7 +4245,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -4287,7 +4287,7 @@@@ sub git_blob {
@


1.1
log
@Update to git-1.5.3.7.
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- gitweb/gitweb.perl.orig	Sat Dec 15 00:14:50 2007
+++ gitweb/gitweb.perl	Sat Dec 15 00:12:58 2007
@@@@ -4108,7 +4108,7 @@@@ sub git_blob_plain {
d16 1
a16 1
@@@@ -4150,7 +4150,7 @@@@ sub git_blob {
d24 1
a24 1
 	if ($mimetype !~ m!^(?:text/|image/(?:gif|png|jpeg)$)!) {
@

