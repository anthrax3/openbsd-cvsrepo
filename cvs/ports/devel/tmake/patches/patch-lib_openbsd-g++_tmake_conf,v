head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.60
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.58
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.56
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.52
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.54
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.50
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.48
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.46
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.44
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.42
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.40
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.38
	OPENBSD_5_0:1.2.0.36
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.34
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.32
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.30
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.28
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.26
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.24
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.22
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.20
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.18
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.16
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.14
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.12
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.10
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.8
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.6
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.4
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.1.0.4
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.2
	OPENBSD_3_1_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2003.02.02.16.34.02;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2002.04.09.15.32.13;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to tmake 1.10

make use of qt-mt

from MAINTAINER
@
text
@$OpenBSD: patch-lib_openbsd-g++_tmake_conf,v 1.1 2002/04/09 15:32:13 naddy Exp $
--- lib/openbsd-g++/tmake.conf.orig	Fri Jan 31 14:25:37 2003
+++ lib/openbsd-g++/tmake.conf	Fri Jan 31 14:36:50 2003
@@@@ -7,52 +7,50 @@@@
 TEMPLATE		= app
 CONFIG			= qt warn_on release
 
-TMAKE_CC		= gcc
-TMAKE_CFLAGS		=
+TMAKE_CC		= %%CC%%
+TMAKE_CFLAGS		= -pthread
 TMAKE_CFLAGS_WARN_ON	= -Wall -W
 TMAKE_CFLAGS_WARN_OFF	= -w
-TMAKE_CFLAGS_RELEASE	= -O2
+TMAKE_CFLAGS_RELEASE	= %%CFLAGS%%
 TMAKE_CFLAGS_DEBUG	= -g
 TMAKE_CFLAGS_SHLIB	= -fPIC
 TMAKE_CFLAGS_YACC	= -Wno-unused -Wno-parentheses
 
-TMAKE_CXX		= g++
+TMAKE_CXX		= %%CXX%%
 TMAKE_CXXFLAGS		= $$TMAKE_CFLAGS
 TMAKE_CXXFLAGS_WARN_ON	= $$TMAKE_CFLAGS_WARN_ON
 TMAKE_CXXFLAGS_WARN_OFF	= $$TMAKE_CFLAGS_WARN_OFF
-TMAKE_CXXFLAGS_RELEASE	= $$TMAKE_CFLAGS_RELEASE
+TMAKE_CXXFLAGS_RELEASE	= %%CXXFLAGS%%
 TMAKE_CXXFLAGS_DEBUG	= $$TMAKE_CFLAGS_DEBUG
 TMAKE_CXXFLAGS_SHLIB	= $$TMAKE_CFLAGS_SHLIB
 TMAKE_CXXFLAGS_YACC	= $$TMAKE_CFLAGS_YACC
 
-TMAKE_INCDIR		=
-TMAKE_LIBDIR		=
-TMAKE_INCDIR_X11	= /usr/X11R6/include
-TMAKE_LIBDIR_X11	= /usr/X11R6/lib
-TMAKE_INCDIR_QT		= $(QTDIR)/include
-TMAKE_LIBDIR_QT		= $(QTDIR)/lib
-TMAKE_INCDIR_OPENGL	= /usr/X11R6/include
-TMAKE_LIBDIR_OPENGL	= /usr/X11R6/lib
-
-TMAKE_LINK		= g++
-TMAKE_LINK_SHLIB	= ld
-TMAKE_LINK_SHLIB_CMD	= $(SYSCONF_LINK_SHLIB) -Bshareable $(LFLAGS) -o $(DESTDIR)$(SYSCONF_LINK_TARGET_SHARED) \
-			  `lorder /usr/lib/c++rt0.o $(OBJECTS) $(OBJMOC) | \
-			  tsort` $(LIBS)
+TMAKE_INCDIR		= %%LOCALBASE%%/include
+TMAKE_LIBDIR		= %%LOCALBASE%%/lib
+TMAKE_INCDIR_X11	= %%X11BASE%%/include
+TMAKE_LIBDIR_X11	= %%X11BASE%%/lib
+TMAKE_INCDIR_QT		= %%MODQT_INCDIR%%
+TMAKE_LIBDIR_QT		= %%MODQT_LIBDIR%%
+TMAKE_INCDIR_OPENGL	= %%X11BASE%%/include
+TMAKE_LIBDIR_OPENGL	= %%X11BASE%%/lib
+
+TMAKE_LINK		= $$TMAKE_CXX
+TMAKE_LINK_SHLIB	= $$TMAKE_CXX
+TMAKE_LINK_SHLIB_CMD	= $$TMAKE_LINK_SHLIB $$TMAKE_LFLAGS_SHLIB $(LFLAGS) -o $(DESTDIR)$(TARGET_x.y) $(OBJECTS) $(OBJMOC) $(LIBS)
 TMAKE_LFLAGS		=
 TMAKE_LFLAGS_RELEASE	=
 TMAKE_LFLAGS_DEBUG	=
-TMAKE_LFLAGS_SHLIB	= -Bshareable
+TMAKE_LFLAGS_SHLIB	= -shared $$TMAKE_CFLAGS_SHLIB
 TMAKE_LFLAGS_SONAME	=
 
 TMAKE_LIBS		=
 TMAKE_LIBS_X11		= -lXext -lX11 -lm
-TMAKE_LIBS_QT		= -lqt
+TMAKE_LIBS_QT		= -pthread -lqt-mt -lpng
 
 TMAKE_LIBS_OPENGL	= -lGLU -lGL -lXmu
 
-TMAKE_MOC		= $(QTDIR)/bin/moc
-TMAKE_UIC		= $(QTDIR)/bin/uic
+TMAKE_MOC		= %%MODQT_MOC%%
+TMAKE_UIC		= %%LOCALBASE%%/bin/uic
 
 TMAKE_AR		= ar q
 TMAKE_RANLIB		= ranlib
@


1.1
log
@Properly OpenBSDized Qt2 configuration.
@
text
@d1 4
a4 4
$OpenBSD$
--- lib/openbsd-g++/tmake.conf.orig	Mon Oct 15 02:49:58 2001
+++ lib/openbsd-g++/tmake.conf	Tue Apr  9 17:18:33 2002
@@@@ -7,52 +7,51 @@@@
d9 1
d11 1
a11 1
 TMAKE_CFLAGS		=
d13 1
a13 1
 TMAKE_CFLAGS_WARN_OFF	=
d31 2
a32 2
 TMAKE_INCDIR		=
 TMAKE_LIBDIR		=
d45 2
a50 1
+TMAKE_LIBDIR_QT_EXTRA	= %%LOCALBASE%%/lib
d61 1
a61 1
+TMAKE_LFLAGS_SHLIB	= -shared -fPIC
d67 1
a67 1
+TMAKE_LIBS_QT		= -lqt -lpng
@

