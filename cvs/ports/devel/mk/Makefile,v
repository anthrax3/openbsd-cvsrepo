head	1.11;
access;
symbols
	OPENBSD_6_1:1.11.0.16
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.11.0.14
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.10
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.11.0.12
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.11.0.8
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.11.0.6
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.4
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.11.0.2
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.10.0.4
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.2
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.6
	OPENBSD_5_0:1.9.0.4
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.7.0.12
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.10
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.8
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.6
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.4
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.5.0.4
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.4.0.8
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.6
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.4
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.2.0.8
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.6
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.4
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2
	MK_2_0:1.1.1.1
	PLAN9:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2013.03.11.10.50.11;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2012.02.21.22.19.31;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.15.19.46.00;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.18.17.47.54;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2007.12.20.15.47.18;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.16.02.53.02;	author merdely;	state Exp;
branches;
next	1.5;

1.5
date	2006.11.20.18.33.48;	author bernd;	state Exp;
branches;
next	1.4;

1.4
date	2004.11.24.00.11.03;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2004.10.10.16.59.04;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.03.00.51.37;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2003.02.16.15.00.31;	author markus;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.02.16.15.00.31;	author markus;	state Exp;
branches;
next	;


desc
@@


1.11
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@# $OpenBSD: Makefile,v 1.10 2012/02/21 22:19:31 sthen Exp $

COMMENT=	Streamlined replacement for make

VERSION=	2.0
DISTNAME=	mk-${VERSION}
REVISION=	1
CATEGORIES=	devel plan9
MASTER_SITES=	${HOMEPAGE}
HOMEPAGE=	http://pdos.lcs.mit.edu/~rsc/software/
MAINTAINER=	Markus Friedl <markus@@openbsd.org>
EXTRACT_SUFX=	.tgz

BUILD_DEPENDS=	devel/libfmt \
		devel/libbio \
		devel/libregexp9 \
		devel/libutf

# GPL
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	c

FAKE_FLAGS=	PREFIX=${WRKINST}${PREFIX}
USE_GROFF =	Yes
NO_TEST=	Yes
MAKE_FLAGS=	CC="${CC}"

pre-build:
	@@cp ${FILESDIR}/Make.OpenBSD ${WRKSRC}

.include <bsd.port.mk>
@


1.10
log
@Remove patches casting NULL when used as a sentinel to a pointer.
These are no longer needed since unistd.h r1.63 et al.  ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/15 19:46:00 espie Exp $
a20 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d26 1
a26 1
NO_REGRESS=	Yes
@


1.9
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/18 17:47:54 espie Exp $
d7 1
a7 1
REVISION =	0
@


1.8
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/12/20 15:47:18 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d14 4
a17 4
BUILD_DEPENDS=	::devel/libfmt \
		::devel/libbio \
		::devel/libregexp9 \
		::devel/libutf
@


1.7
log
@- add license marker
- don't force compiler optimization
- don't hardcode CC
- regen patches while here

ok markus@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/09/16 02:53:02 merdely Exp $
d28 1
@


1.6
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/11/20 18:33:48 bernd Exp $
d7 1
d19 1
d24 2
a25 1
WANTLIB=		c
@


1.5
log
@Fix wrong BUILD_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/11/24 00:11:03 espie Exp $
d3 1
a3 1
COMMENT=	"Streamlined replacement for make"
@


1.4
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/10/10 16:59:04 sturm Exp $
d13 4
a16 4
BUILD_DEPENDS=	fmt::devel/libfmt \
		bio::devel/libbio \
		regexp9::devel/libregexp9 \
		utf::devel/libutf
@


1.3
log
@missing BUILD_DEPENDS, honour CC
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/03/03 00:51:37 pvalchev Exp $
d22 1
@


1.2
log
@- Use common Makefile for all architectures, thus allowing this to build
on non-i386 platforms - there is no need to be MD
- Don't patch files into existence, use files/ for that
- Change wrong LIB_DEPENDS to BUILD_DEPENDS because these libraries
are all static.
- Add appropriate regress targets with REGRESS_DEPENDS or set
NO_REGRESS where such tests are not available.
- Do not link with -g
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/02/16 15:00:31 markus Exp $
d15 2
a16 1
		regexp9::devel/libregexp9
d25 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD:$
d8 1
a8 1
MASTER_SITES=	http://pdos.lcs.mit.edu/~rsc/software/
d13 1
a13 1
LIB_DEPENDS=	fmt::devel/libfmt \
d23 4
@


1.1.1.1
log
@Streamlined replacement for make; ok lebel@@
@
text
@@
