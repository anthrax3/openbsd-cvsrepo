head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.1.1.1.0.6
	OPENBSD_5_8_BASE:1.1.1.1
	OPENBSD_5_7:1.1.1.1.0.2
	OPENBSD_5_7_BASE:1.1.1.1
	chrisz_20141025:1.1.1.1
	chrisz:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2016.06.23.19.23.53;	author krw;	state Exp;
branches;
next	1.2;
commitid	vwUgBiCmN1lWQqPh;

1.2
date	2015.08.30.16.23.06;	author avsm;	state Exp;
branches;
next	1.1;
commitid	W8vsTtJGzWZaVZxZ;

1.1
date	2014.10.25.17.01.23;	author chrisz;	state Exp;
branches
	1.1.1.1;
next	;
commitid	814sv6tADmb1Vo41;

1.1.1.1
date	2014.10.25.17.01.23;	author chrisz;	state Exp;
branches;
next	;
commitid	814sv6tADmb1Vo41;


desc
@@


1.3
log
@Stop building Ocaml's internal ocamlbuild and use the ocaml-ocamlbuild port
where needed.

The next step towards Ocaml 4.3.0.

Bulk build by sthen@@ identified several laggards which are included here.

ok anil@@ sthen@@ so final 4.3.0 polishing can be done in-tree.
@
text
@# $OpenBSD: Makefile,v 1.2 2015/08/30 16:23:06 avsm Exp $

COMMENT =	non-blocking streaming JSON codec
CATEGORIES =	devel

V =		0.9.1
NAME =		jsonm
DISTNAME =	${NAME}-${V}
EXTRACT_SUFX =	.tbz
PKGNAME =	ocaml-${DISTNAME}
MASTER_SITES =	http://erratique.ch/software/${NAME}/releases/
REVISION =      2

HOMEPAGE =	http://erratique.ch/software/${NAME}


# BSD3
PERMIT_PACKAGE_CDROM =		Yes

MODULES =		lang/ocaml

WANTLIB +=		c m

RUN_DEPENDS =		devel/ocaml-uutf
BUILD_DEPENDS =		devel/ocaml-uutf devel/ocaml-ocamlbuild

CONFIGURE_STYLE =	oasis

ALL_TARGET =		-build


post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/ocaml-${NAME}
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/ocaml-${NAME}/api
	${INSTALL_DATA} ${WRKDIST}/doc/* \
		${PREFIX}/share/doc/ocaml-${NAME}/api/
	${INSTALL_DATA} ${WRKDIST}/{CHANGES,README} \
		${PREFIX}/share/doc/ocaml-${NAME}/


.include <bsd.port.mk>
@


1.2
log
@bump REVISION on ocaml-jsonm due to OCaml 4.02.3 update

ok jca@@, tested by krw@@ daniel@@ jsg@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2014/10/25 17:01:23 chrisz Exp $
d12 1
a12 1
REVISION =      1
d25 1
a25 1
BUILD_DEPENDS =		devel/ocaml-uutf
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/08/27 08:05:17 chrisz Exp $
d12 1
d25 1
a25 1
BUILD_DEPENDS =		${RUN_DEPENDS}
@


1.1.1.1
log
@Import ocaml-jsonm - dependency of OPAM.

ok krw@@
@
text
@@
