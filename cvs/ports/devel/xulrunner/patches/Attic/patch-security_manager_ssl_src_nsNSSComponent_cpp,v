head	1.4;
access;
symbols
	OPENBSD_4_6:1.3.0.6
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.4
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.2
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.1.0.6
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.4
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.2;
locks; strict;
comment	@# @;


1.4
date	2009.07.27.21.16.22;	author martynas;	state dead;
branches;
next	1.3;

1.3
date	2008.07.17.16.50.21;	author martynas;	state Exp;
branches;
next	1.2;

1.2
date	2008.07.05.16.00.29;	author martynas;	state Exp;
branches;
next	1.1;

1.1
date	2007.06.28.19.50.05;	author martynas;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2007.07.04.17.07.00;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.4
log
@remove xulrunner;  an infrastructure for multiple xulrunners will
be imported shortly
@
text
@$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.3 2008/07/17 16:50:21 martynas Exp $
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Tue Jul  1 01:54:11 2008
+++ security/manager/ssl/src/nsNSSComponent.cpp	Wed Jul 16 14:18:08 2008
@@@@ -702,11 +702,10 @@@@ nsNSSComponent::InstallLoadableRoots()
       return;
 
     const char *possible_ckbi_locations[] = {
+      0, // This special value means: 
+        //   search for ckbi in the the system NSS_LIBDIR
       NS_GRE_DIR,
-      NS_XPCOM_CURRENT_PROCESS_DIR,
-      0 // This special value means: 
-        //   search for ckbi in the directories on the shared
-        //   library/DLL search path
+      NS_XPCOM_CURRENT_PROCESS_DIR
     };
 
     for (size_t il = 0; il < sizeof(possible_ckbi_locations)/sizeof(const char*); ++il) {
@@@@ -715,7 +714,7 @@@@ nsNSSComponent::InstallLoadableRoots()
 
       if (!possible_ckbi_locations[il])
       {
-        fullModuleName = PR_GetLibraryName(nsnull, "nssckbi");
+        fullModuleName = PR_GetLibraryName(NSS_LIBDIR, "nssckbi");
       }
       else
       {
@


1.3
log
@security update to xulrunner-1.8.1.16.  MFSA 2008-35, MFSA 2008-34
ok kurt@@
@
text
@d1 1
a1 1
$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.2 2008/07/05 16:00:29 martynas Exp $
@


1.2
log
@security update to xulrunner-1.8.1.15;  ok kurt@@
@
text
@d1 4
a4 4
$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.1 2007/06/28 19:50:05 martynas Exp $
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Wed Jun  4 23:42:04 2008
+++ security/manager/ssl/src/nsNSSComponent.cpp	Fri Jul  4 19:17:26 2008
@@@@ -700,11 +700,10 @@@@ nsNSSComponent::InstallLoadableRoots()
d19 1
a19 1
@@@@ -713,7 +712,7 @@@@ nsNSSComponent::InstallLoadableRoots()
@


1.1
log
@stick with firefox codebase and manually check out xulrunner update
so that applications which depend on xulrunner won't suffer from
the vulnerabilities which are already fixed.

MFSA 2007-17; MFSA 2007-16; MFSA 2007-14; MFSA 2007-13; MFSA 2007-12;
MFSA 2007-11; MFSA 2007-09; MFSA 2007-08; MFSA 2007-07; MFSA 2007-06;
MFSA 2007-05; MFSA 2007-04; MFSA 2007-03; MFSA 2007-02; MFSA 2007-01;
MFSA 2006-76; MFSA 2006-75; MFSA 2006-73; MFSA 2006-72; MFSA 2006-71;
MFSA 2006-70; MFSA 2006-69; MFSA 2006-68; MFSA 2006-67; MFSA 2006-66;
MFSA 2006-65; MFSA 2006-64; MFSA 2006-62; MFSA 2006-61; MFSA 2006-60;
MFSA 2006-59; MFSA 2006-58; MFSA 2006-57; MFSA 2006-56; MFSA 2006-55;
MFSA 2006-54; MFSA 2006-53; MFSA 2006-52; MFSA 2006-51; MFSA 2006-50;
MFSA 2006-48; MFSA 2006-47; MFSA 2006-46; MFSA 2006-45; MFSA 2006-44.

(these are for firefox 1_8_0_4 -> 1_8_1_4)

ok kurt@@
@
text
@d1 4
a4 4
$OpenBSD$
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Mon May 15 21:24:30 2006
+++ security/manager/ssl/src/nsNSSComponent.cpp	Wed Jan 10 18:13:16 2007
@@@@ -699,11 +699,10 @@@@ nsNSSComponent::InstallLoadableRoots()
d19 1
a19 1
@@@@ -712,7 +711,7 @@@@ nsNSSComponent::InstallLoadableRoots()
@


1.1.2.1
log
@MFC:
stick with firefox codebase and manually check out xulrunner update
so that applications which depend on xulrunner won't suffer from
the vulnerabilities which are already fixed.

MFSA 2007-17; MFSA 2007-16; MFSA 2007-14; MFSA 2007-13; MFSA 2007-12;
MFSA 2007-11; MFSA 2007-09; MFSA 2007-08; MFSA 2007-07; MFSA 2007-06;
MFSA 2007-05; MFSA 2007-04; MFSA 2007-03; MFSA 2007-02; MFSA 2007-01;
MFSA 2006-76; MFSA 2006-75; MFSA 2006-73; MFSA 2006-72; MFSA 2006-71;
MFSA 2006-70; MFSA 2006-69; MFSA 2006-68; MFSA 2006-67; MFSA 2006-66;
MFSA 2006-65; MFSA 2006-64; MFSA 2006-62; MFSA 2006-61; MFSA 2006-60;
MFSA 2006-59; MFSA 2006-58; MFSA 2006-57; MFSA 2006-56; MFSA 2006-55;
MFSA 2006-54; MFSA 2006-53; MFSA 2006-52; MFSA 2006-51; MFSA 2006-50;
MFSA 2006-48; MFSA 2006-47; MFSA 2006-46; MFSA 2006-45; MFSA 2006-44.

(these are for firefox 1_8_0_4 -> 1_8_1_4)
@
text
@d1 1
a1 1
$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.1 2007/06/28 19:50:05 martynas Exp $
@

