head	1.2;
access;
symbols
	OPENBSD_4_8:1.1.1.1.0.4
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.2
	OPENBSD_4_7_BASE:1.1.1.1
	martynas_20090728:1.1.1.1
	martynas:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2010.10.24.13.28.44;	author landry;	state dead;
branches;
next	1.1;

1.1
date	2009.07.27.21.36.01;	author martynas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.07.27.21.36.01;	author martynas;	state Exp;
branches;
next	;


desc
@@


1.2
log
@So long, xulrunner 1.8. You were nice in the firefox 2.0 days, but your
last release was nearly two years ago, you're crippled by security
issues, abandoned by your parents in favor of your younger brother,
and those days nothing uses you anymore. RIP in the attic..
agreed by jasper@@ and phessler@@
happiness ensues...
@
text
@$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.1 2009/07/27 21:36:01 martynas Exp $
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Tue Jul  1 01:54:11 2008
+++ security/manager/ssl/src/nsNSSComponent.cpp	Wed Jul 16 14:18:08 2008
@@@@ -702,11 +702,10 @@@@ nsNSSComponent::InstallLoadableRoots()
       return;
 
     const char *possible_ckbi_locations[] = {
+      0, // This special value means: 
+        //   search for ckbi in the the system NSS_LIBDIR
       NS_GRE_DIR,
-      NS_XPCOM_CURRENT_PROCESS_DIR,
-      0 // This special value means: 
-        //   search for ckbi in the directories on the shared
-        //   library/DLL search path
+      NS_XPCOM_CURRENT_PROCESS_DIR
     };
 
     for (size_t il = 0; il < sizeof(possible_ckbi_locations)/sizeof(const char*); ++il) {
@@@@ -715,7 +714,7 @@@@ nsNSSComponent::InstallLoadableRoots()
 
       if (!possible_ckbi_locations[il])
       {
-        fullModuleName = PR_GetLibraryName(nsnull, "nssckbi");
+        fullModuleName = PR_GetLibraryName(NSS_LIBDIR, "nssckbi");
       }
       else
       {
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.3 2008/07/17 16:50:21 martynas Exp $
@


1.1.1.1
log
@import xulrunner 1.9, and implement infrastructure for multiple
xulrunners.  this was necessary for smooth migration, since we want
plugins work for mozilla 1.8 branch too (seamonkey, thunderbird);
they are upwards-compatible if built against 1.8.  however, some
new applications started to depend on 1.9, and also other (non-plugin)
apps will start to migrate so that the old xulrunner can go away
requested by many;  bulk build & pkgpath & bump done by sthen@@
@
text
@@
