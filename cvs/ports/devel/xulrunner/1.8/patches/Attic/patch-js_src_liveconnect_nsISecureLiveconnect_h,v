head	1.2;
access;
symbols
	OPENBSD_4_8:1.1.1.1.0.4
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.2
	OPENBSD_4_7_BASE:1.1.1.1
	martynas_20090728:1.1.1.1
	martynas:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2010.10.24.13.28.44;	author landry;	state dead;
branches;
next	1.1;

1.1
date	2009.07.27.21.36.01;	author martynas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.07.27.21.36.01;	author martynas;	state Exp;
branches;
next	;


desc
@@


1.2
log
@So long, xulrunner 1.8. You were nice in the firefox 2.0 days, but your
last release was nearly two years ago, you're crippled by security
issues, abandoned by your parents in favor of your younger brother,
and those days nothing uses you anymore. RIP in the attic..
agreed by jasper@@ and phessler@@
happiness ensues...
@
text
@$OpenBSD: patch-js_src_liveconnect_nsISecureLiveconnect_h,v 1.1 2009/07/27 21:36:01 martynas Exp $
--- js/src/liveconnect/nsISecureLiveconnect.h.orig	Mon Oct  8 23:41:14 2007
+++ js/src/liveconnect/nsISecureLiveconnect.h	Mon Oct  8 23:43:54 2007
@@@@ -51,7 +51,17 @@@@
 #include "nsIFactory.h"
 #include "jni.h"
 
+/*
+ * jint is 32 bit, jlong is 64 bit.  So we must consider 64-bit platform.
+ *
+ * http://java.sun.com/j2se/1.4.2/docs/guide/jni/spec/types.html#wp428
+ */
+
+#if JS_BYTES_PER_WORD == 8
+typedef jlong jsobject;
+#else
 typedef jint jsobject;
+#endif /* JS_BYTES_PER_WORD == 8 */
 
 class nsISecureLiveconnect : public nsISupports {
 public:
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-js_src_liveconnect_nsISecureLiveconnect_h,v 1.1 2007/10/14 18:34:30 kurt Exp $
@


1.1.1.1
log
@import xulrunner 1.9, and implement infrastructure for multiple
xulrunners.  this was necessary for smooth migration, since we want
plugins work for mozilla 1.8 branch too (seamonkey, thunderbird);
they are upwards-compatible if built against 1.8.  however, some
new applications started to depend on 1.9, and also other (non-plugin)
apps will start to migrate so that the old xulrunner can go away
requested by many;  bulk build & pkgpath & bump done by sthen@@
@
text
@@
