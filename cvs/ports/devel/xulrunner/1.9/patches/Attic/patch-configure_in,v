head	1.4;
access;
symbols
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	martynas_20090728:1.1.1.1
	martynas:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2010.06.12.16.23.55;	author landry;	state dead;
branches;
next	1.3;

1.3
date	2010.04.24.16.08.01;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2009.07.27.23.22.01;	author martynas;	state Exp;
branches;
next	1.1;

1.1
date	2009.07.27.21.35.56;	author martynas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.07.27.21.35.56;	author martynas;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Remove now deprecated/unused files/patches/. Yay!
@
text
@$OpenBSD: patch-configure_in,v 1.3 2010/04/24 16:08:01 landry Exp $
--- configure.in.orig	Tue Dec 22 00:03:26 2009
+++ configure.in	Thu Apr 22 02:10:58 2010
@@@@ -1000,7 +1000,7 @@@@ MOZ_PNG_LIBS='$(call EXPAND_LIBNAME_PATH,mozpng,$(DEPT
 
 MOZ_JS_LIBS='-L$(LIBXUL_DIST)/bin -lmozjs'
 DYNAMIC_XPCOM_LIBS='-L$(LIBXUL_DIST)/bin -lxpcom -lxpcom_core'
-MOZ_FIX_LINK_PATHS='-Wl,-rpath-link,$(LIBXUL_DIST)/bin -Wl,-rpath-link,$(prefix)/lib'
+MOZ_FIX_LINK_PATHS='-Wl,-rpath-link,$(LIBXUL_DIST)/bin -Wl,-rpath-link,$(prefix)/lib -L$(LIBXUL_DIST)/bin'
 XPCOM_FROZEN_LDOPTS='-L$(LIBXUL_DIST)/bin -lxpcom'
 LIBXUL_LIBS='$(XPCOM_FROZEN_LDOPTS) -lxul'
 XPCOM_GLUE_LDOPTS='$(LIBXUL_DIST)/lib/$(LIB_PREFIX)xpcomglue_s.$(LIB_SUFFIX) $(XPCOM_FROZEN_LDOPTS)'
@@@@ -2342,7 +2342,7 @@@@ case "$target" in
 	;;
 
 *-openbsd*)
-    DLL_SUFFIX=".so.1.0"
+    DLL_SUFFIX=".so.${SO_VERSION}"
     DSO_CFLAGS=''
     DSO_PIC_CFLAGS='-fPIC'
     DSO_LDOPTS='-shared -fPIC'
@@@@ -4009,9 +4009,9 @@@@ AC_CACHE_CHECK(for __thread keyword for TLS variables,
                             [return tlsIsMainThread;],
                             ac_cv_thread_keyword=yes,
                             ac_cv_thread_keyword=no)])
-if test "$ac_cv_thread_keyword" = yes; then
-  AC_DEFINE(HAVE_THREAD_TLS_KEYWORD)
-fi
+dnl if test "$ac_cv_thread_keyword" = yes; then
+dnl   AC_DEFINE(HAVE_THREAD_TLS_KEYWORD)
+dnl fi
 
 dnl End of C++ language/feature checks
 AC_LANG_C
@


1.3
log
@Update xulrunner 1.9.0.14 to 1.9.1.7, latest release in the branch
corresponding to ffx 3.5.x. Most patches taken from there, tested
successfully @@ppc/amd64/sparc64. Branch 1.9.0.x is approaching attic
upstream, as ffx 3.0.x.
The plan is to move all users of xulrunner/1.8 to use this latest
version, and then ditch the old unmaintained one from ffx 2.x days.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.5 2010/02/24 16:59:49 sthen Exp $
@


1.2
log
@security update to 1.9.0.12.  1.8 is not maintained upstream and
haven't been receiving updates for more than half a year;  therefore
ports maintainers should switch to use 1.9 where possible
@
text
@d1 13
a13 4
$OpenBSD: patch-configure_in,v 1.1.1.1 2009/07/27 21:35:56 martynas Exp $
--- configure.in.orig	Wed Jun 17 20:55:39 2009
+++ configure.in	Tue Jul 28 01:13:37 2009
@@@@ -2223,7 +2223,7 @@@@ case "$target" in
d22 10
a31 7
@@@@ -4047,7 +4047,7 @@@@ MOZ_ARG_WITH_BOOL(system-nss,
     _USE_SYSTEM_NSS=1 )
 
 if test -n "$_USE_SYSTEM_NSS"; then
-    AM_PATH_NSS(3.12.0, [MOZ_NATIVE_NSS=1], [MOZ_NATIVE_NSS=])
+    AM_PATH_NSS(3.12, [MOZ_NATIVE_NSS=1], [MOZ_NATIVE_NSS=])
 fi
d33 2
a34 1
 if test -n "$MOZ_NATIVE_NSS"; then
@


1.1
log
@Initial revision
@
text
@d1 3
a3 12
$OpenBSD: patch-configure_in,v 1.15 2008/11/20 23:41:32 martynas Exp $
--- configure.in.orig	Thu Aug 14 13:00:32 2008
+++ configure.in	Tue Sep 23 20:37:31 2008
@@@@ -128,7 +128,7 @@@@ LIBGNOME_VERSION=2.0
 STARTUP_NOTIFICATION_VERSION=0.8
 DBUS_VERSION=0.60
 LCMS_VERSION=1.17
-SQLITE_VERSION=3.5.9
+SQLITE_VERSION=3.5
 
 MSMANIFEST_TOOL=
 
@


1.1.1.1
log
@import xulrunner 1.9, and implement infrastructure for multiple
xulrunners.  this was necessary for smooth migration, since we want
plugins work for mozilla 1.8 branch too (seamonkey, thunderbird);
they are upwards-compatible if built against 1.8.  however, some
new applications started to depend on 1.9, and also other (non-plugin)
apps will start to migrate so that the old xulrunner can go away
requested by many;  bulk build & pkgpath & bump done by sthen@@
@
text
@@
