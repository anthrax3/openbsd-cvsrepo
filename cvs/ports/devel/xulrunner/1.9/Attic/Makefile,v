head	1.75;
access;
symbols
	OPENBSD_5_4:1.71.0.2
	OPENBSD_5_4_BASE:1.71
	OPENBSD_5_3:1.67.0.2
	OPENBSD_5_3_BASE:1.67
	OPENBSD_5_2:1.63.0.2
	OPENBSD_5_2_BASE:1.63
	OPENBSD_5_1_BASE:1.57
	OPENBSD_5_1:1.57.0.2
	OPENBSD_5_0:1.48.0.2
	OPENBSD_5_0_BASE:1.48
	OPENBSD_4_9:1.37.0.2
	OPENBSD_4_9_BASE:1.37
	OPENBSD_4_8:1.20.0.2
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	martynas_20090728:1.1.1.1
	martynas:1.1.1;
locks; strict;
comment	@# @;


1.75
date	2013.12.07.12.50.17;	author landry;	state dead;
branches;
next	1.74;

1.74
date	2013.10.20.14.28.23;	author landry;	state Exp;
branches;
next	1.73;

1.73
date	2013.10.19.16.26.55;	author landry;	state Exp;
branches;
next	1.72;

1.72
date	2013.09.19.13.47.05;	author landry;	state Exp;
branches;
next	1.71;

1.71
date	2013.06.26.19.31.58;	author landry;	state Exp;
branches;
next	1.70;

1.70
date	2013.06.22.13.19.23;	author naddy;	state Exp;
branches;
next	1.69;

1.69
date	2013.06.17.19.29.05;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2013.04.06.14.41.17;	author landry;	state Exp;
branches;
next	1.67;

1.67
date	2012.12.04.21.05.30;	author landry;	state Exp;
branches;
next	1.66;

1.66
date	2012.11.12.20.45.32;	author landry;	state Exp;
branches;
next	1.65;

1.65
date	2012.09.22.10.30.17;	author landry;	state Exp;
branches;
next	1.64;

1.64
date	2012.09.01.14.35.06;	author landry;	state Exp;
branches;
next	1.63;

1.63
date	2012.06.11.15.26.14;	author landry;	state Exp;
branches;
next	1.62;

1.62
date	2012.04.24.06.05.50;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2012.04.07.13.10.50;	author landry;	state Exp;
branches;
next	1.60;

1.60
date	2012.03.16.21.45.08;	author landry;	state Exp;
branches;
next	1.59;

1.59
date	2012.03.08.13.03.58;	author nigel;	state Exp;
branches;
next	1.58;

1.58
date	2012.02.20.20.29.10;	author landry;	state Exp;
branches;
next	1.57;

1.57
date	2012.01.10.23.58.27;	author nigel;	state Exp;
branches;
next	1.56;

1.56
date	2011.12.15.23.07.44;	author nigel;	state Exp;
branches;
next	1.55;

1.55
date	2011.12.08.00.19.07;	author nigel;	state Exp;
branches;
next	1.54;

1.54
date	2011.10.03.21.11.12;	author landry;	state Exp;
branches;
next	1.53;

1.53
date	2011.09.16.09.24.58;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2011.09.06.19.44.32;	author landry;	state Exp;
branches;
next	1.51;

1.51
date	2011.08.24.06.22.19;	author landry;	state Exp;
branches;
next	1.50;

1.50
date	2011.08.23.20.34.09;	author landry;	state Exp;
branches;
next	1.49;

1.49
date	2011.08.23.08.38.13;	author landry;	state Exp;
branches;
next	1.48;

1.48
date	2011.08.02.19.24.38;	author naddy;	state Exp;
branches;
next	1.47;

1.47
date	2011.06.22.14.11.34;	author landry;	state Exp;
branches;
next	1.46;

1.46
date	2011.06.15.16.16.10;	author sthen;	state Exp;
branches;
next	1.45;

1.45
date	2011.06.08.17.40.09;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2011.04.30.08.35.40;	author landry;	state Exp;
branches;
next	1.43;

1.43
date	2011.03.26.13.25.50;	author landry;	state Exp;
branches;
next	1.42;

1.42
date	2011.03.24.07.04.17;	author landry;	state Exp;
branches;
next	1.41;

1.41
date	2011.03.22.13.18.26;	author landry;	state Exp;
branches;
next	1.40;

1.40
date	2011.03.11.16.31.36;	author landry;	state Exp;
branches;
next	1.39;

1.39
date	2011.03.03.22.13.02;	author landry;	state Exp;
branches;
next	1.38;

1.38
date	2011.03.02.14.40.15;	author landry;	state Exp;
branches;
next	1.37;

1.37
date	2011.01.28.21.38.12;	author landry;	state Exp;
branches;
next	1.36;

1.36
date	2011.01.18.12.37.44;	author landry;	state Exp;
branches;
next	1.35;

1.35
date	2011.01.15.16.04.31;	author landry;	state Exp;
branches;
next	1.34;

1.34
date	2011.01.15.12.41.27;	author landry;	state Exp;
branches;
next	1.33;

1.33
date	2011.01.14.22.50.38;	author landry;	state Exp;
branches;
next	1.32;

1.32
date	2010.12.10.10.54.24;	author landry;	state Exp;
branches;
next	1.31;

1.31
date	2010.12.01.15.00.12;	author dcoppa;	state Exp;
branches;
next	1.30;

1.30
date	2010.11.12.09.08.02;	author landry;	state Exp;
branches;
next	1.29;

1.29
date	2010.10.28.12.04.50;	author landry;	state Exp;
branches;
next	1.28;

1.28
date	2010.10.26.10.15.39;	author landry;	state Exp;
branches;
next	1.27;

1.27
date	2010.10.26.10.01.33;	author landry;	state Exp;
branches;
next	1.26;

1.26
date	2010.10.22.19.25.19;	author landry;	state Exp;
branches;
next	1.25;

1.25
date	2010.10.15.08.32.21;	author landry;	state Exp;
branches;
next	1.24;

1.24
date	2010.10.11.08.12.31;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2010.09.26.07.42.03;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.09.19.19.23.16;	author landry;	state Exp;
branches;
next	1.21;

1.21
date	2010.09.12.17.58.51;	author landry;	state Exp;
branches;
next	1.20;

1.20
date	2010.07.25.21.39.20;	author landry;	state Exp;
branches;
next	1.19;

1.19
date	2010.07.22.21.43.01;	author landry;	state Exp;
branches;
next	1.18;

1.18
date	2010.07.19.13.46.27;	author landry;	state Exp;
branches;
next	1.17;

1.17
date	2010.07.15.19.28.46;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.07.15.11.01.21;	author landry;	state Exp;
branches;
next	1.15;

1.15
date	2010.07.15.06.08.19;	author landry;	state Exp;
branches;
next	1.14;

1.14
date	2010.07.11.14.55.56;	author landry;	state Exp;
branches;
next	1.13;

1.13
date	2010.07.09.16.38.58;	author landry;	state Exp;
branches;
next	1.12;

1.12
date	2010.06.28.21.25.28;	author landry;	state Exp;
branches;
next	1.11;

1.11
date	2010.06.20.19.44.40;	author landry;	state Exp;
branches;
next	1.10;

1.10
date	2010.06.16.19.06.26;	author landry;	state Exp;
branches;
next	1.9;

1.9
date	2010.06.12.15.16.47;	author landry;	state Exp;
branches;
next	1.8;

1.8
date	2010.06.02.19.07.43;	author dcoppa;	state Exp;
branches;
next	1.7;

1.7
date	2010.04.27.16.08.21;	author landry;	state Exp;
branches;
next	1.6;

1.6
date	2010.04.24.16.08.01;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2009.10.16.12.38.17;	author martynas;	state Exp;
branches;
next	1.4;

1.4
date	2009.08.16.18.35.33;	author martynas;	state Exp;
branches;
next	1.3;

1.3
date	2009.08.10.06.31.08;	author kili;	state Exp;
branches;
next	1.2;

1.2
date	2009.07.27.23.22.01;	author martynas;	state Exp;
branches;
next	1.1;

1.1
date	2009.07.27.21.35.56;	author martynas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.07.27.21.35.56;	author martynas;	state Exp;
branches;
next	;


desc
@@


1.75
log
@Remove devel/xulrunner/1.9, www/fennec, www/firefox36 and productivity/sunbird

- nothing uses xulrunner 1.9 anymore, and that branch was EOL'd upstream
  20 months ago (firefox36 was already unlinked from the build)
- www/fennec as a xul app is dead upstream, since now firefox mobile is
  built on top of java android libs and thus unportable to regular OS.
The esr10 branch from which it was built upon was EOL'd upstream 10 months ago
- productivity/sunbird as a standalone app is dead upstream since 3
  years, hypothetical users should just use thunderbird+lightning which
is still supported/developed.

No complains from ports@@, this will allow for a serious mozilla ports
cleanup, and we're down to 5 mozillas in the ports tree.
@
text
@# $OpenBSD: Makefile,v 1.74 2013/10/20 14:28:23 landry Exp $

MOZILLA_VERSION =	1.9.2.28
MOZILLA_BRANCH =	1.9.2
MOZILLA_PROJECT =	xulrunner1.9
MOZILLA_DIST =		firefox
MOZILLA_DIST_VERSION =	3.6.28
REVISION-devel =	6
REVISION-main =		13
PKGSPEC-devel =		xulrunner-devel->=1.9,<24.0
PKGSPEC-main =		xulrunner->=1.9,<24.0

SO_VERSION =		3.2
# NOTE: Must bump minor version if any shlib's are removed from the
# components dir to avoid pkg_add -r issues.
MOZILLA_LIBS =	imgicon mozjs xpcom xul nullplugin unixprintplugin

.if ${MACHINE_ARCH} == "i386"
PKG_ARGS+=	-Djit=1 -Damd64=0
.elif ${MACHINE_ARCH} == "amd64"
PKG_ARGS+=	-Djit=1 -Damd64=1
.else
PKG_ARGS+=	-Djit=0 -Damd64=0
.endif

# use patches from www/firefox36
PATCHDIR =		${PORTSDIR}/www/firefox36/patches

MOZILLA_DATADIRS =	chrome components defaults dictionaries greprefs \
			icons modules plugins res
MOZILLA_AUTOCONF_DIRS +=	js/src
MOZILLA_SUBST_FILES +=		config/autoconf.mk.in \
				xulrunner/setup/nsXULAppInstall.js
DISTDIRS =		idl include
TOOLS =			nsinstall xpcshell xpidl xpt_dump xpt_link xulrunner-bin xulrunner-stub
PCFILES =		libxul.pc libxul-embedding.pc mozilla-js.pc \
			mozilla-plugin.pc mozilla-gtkmozembed.pc \
			mozilla-gtkmozembed-embedding.pc

WANTLIB-devel =		${MOZILLA_PROJECT}/mozjs ${MOZILLA_PROJECT}/xpcom \
			${MOZILLA_PROJECT}/xul

LIB_DEPENDS-devel =	${MODGETTEXT_LIB_DEPENDS} \
			devel/libIDL \
			${PKGNAME-main}:${BASE_PKGPATH},-main
WANTLIB-devel +=	IDL-2 c glib-2.0 gobject-2.0 intl m nspr4 plc4 plds4
WANTLIB-devel +=	pthread stdc++
WANTLIB-main +=		pixman-1 pthread-stubs

post-build:
	cd ${WRKSRC}/xulrunner/installer && env -i ${MAKE_ENV} \
		${MAKE_PROGRAM} ${MAKE_FLAGS} ${PCFILES}

pre-install:
	cd ${MOB} && ln -sf xulrunner ${MOZILLA_PROJECT}
	cd ${MOB} && ln -sf xulrunner-bin ${MOZILLA_PROJECT}-bin

post-install:
	cd ${WRKSRC}/dist && \
		find ${DISTDIRS} -type d \
			-exec ${INSTALL_DATA_DIR} ${MOZ}/{} \; && \
		find ${DISTDIRS} ! -type d \
			-exec ${INSTALL_DATA} {} ${MOZ}/{} \;
	${INSTALL_DATA}	${WRKSRC}/dist/lib/libxpcomglue.a \
		${WRKSRC}/dist/lib/libxpcomglue_s.a ${MOZ}
	# needed to please libtool - libs are built with fPIC
	cd ${MOZ} && ln -sf libxpcomglue_s.a libxpcomglue_s_pic.a
	cd ${MOZ} && ln -sf libxpcomglue.a libxpcomglue_pic.a
	cd ${MOB} && ${INSTALL_PROGRAM} ${TOOLS} ${MOZ}
	${INSTALL_DATA_DIR} ${PREFIX}/lib/pkgconfig
.for pcfile in ${PCFILES}
	${INSTALL_DATA} ${WRKBUILD}/xulrunner/installer/${pcfile} \
		${PREFIX}/lib/pkgconfig/${pcfile:S/mozilla/xulrunner/}
.endfor
	perl -pi -e 's|libxul|libxul19|g; s|/lib||g; ' \
		-e 's|^(Libs:.*)|\1 -Wl,-rpath,${LOCALBASE}/xulrunner1.9|g; ' \
		-e 's|-lxpcomglue |-lxpcomglue_pic |g; s|-lxpcomglue_s |-lxpcomglue_s_pic |; ' \
		${PREFIX}/lib/pkgconfig/*.pc

	# avoid conflicts with newer xulrunners
	mv ${PREFIX}/lib/pkgconfig/libxul{,19}.pc
	mv ${PREFIX}/lib/pkgconfig/libxul{,19}-embedding.pc

.include <bsd.port.mk>
@


1.74
log
@Sprinkle some PKGSPEC for less headaches, and bump REVISIONs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2013/10/19 16:26:55 landry Exp $
@


1.73
log
@Prepare for an upcoming xulrunner/24 port, move some WANTLIB/LIB_DEPENDS
around, fix @@conflict markers...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2013/09/19 13:47:05 landry Exp $
d8 4
a11 2
REVISION-devel =	5
REVISION-main =		12
@


1.72
log
@Bump REVISIONS to be on the safe side after typo fix in mozilla.port.mk
(MOZMOZ_WANTLIB instead of MODMOZ_WANTLIB for krb5 libs...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2013/06/26 19:31:58 landry Exp $
d8 2
a9 2
REVISION-devel =	4
REVISION-main =		11
d40 7
@


1.71
log
@Bump some REVISIONs after mozilla.port.mk WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2013/06/22 13:19:23 naddy Exp $
d9 1
a9 1
REVISION-main =		10
@


1.70
log
@bump after hx509 removal from Kerberos
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/06/17 19:29:05 ajacoutot Exp $
d9 1
a9 1
REVISION-main =		9
@


1.69
log
@Unbreak Mozilla ports after the Heimdal update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/04/06 14:41:17 landry Exp $
d9 1
a9 1
REVISION-main =		8
@


1.68
log
@Bump after WANTLIB fix - while here, backport kettenis' libffi i386 fix
to fennec.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2012/12/04 21:05:30 landry Exp $
d8 2
a9 2
REVISION-devel =	3
REVISION-main =		7
@


1.67
log
@Winter cleanup of the mozillas :

- Add gtar to BUILD_DEPENDS everywhere in moz.port.mk, since fx 18 will
  start using gtar-only options. Ditto for unzip, used during install.
- special-case the deps for firefox/thunderbird/seamonkey, since those
  are maintained on the long-term. Only those need to depend on the
latest and greatest nss/nspr.
- move the '--relax LDFLAGS for ppc' to moz.port.mk
- move the 'yasm BUILD_DEPENDS for i385/amd64' to moz.port.mk
- move more common CONFIGURE_ARGS to moz.port.mk (libevent,gio,bz2,gconf..)
- fix MODMOZ_WANTLIB wrt nss/nspr majors
- ensure we depend on sqlite3>=21, needed for fx/tb 18
- use --with-system-jpeg only in firefox36/sunbird/fennec/xulrunner,
  fx/tb 18 will have to use its bundled libjpeg-turbo (#791305)
- bump REVISIONs for the WANTLIB/LIB_DEPENDS change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2012/11/12 20:45:32 landry Exp $
d9 1
a9 1
REVISION-main =		6
@


1.66
log
@Bump all ports depending on nspr to account for the devel/nspr,-main ->
devel/nspr pkgpath change. While here, make sure mozilla ports depend on
the latest and greatest via mozilla.port.mk.
Tested in a bulk build..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2012/09/22 10:30:17 landry Exp $
d8 2
a9 2
REVISION-devel =	2
REVISION-main =		5
@


1.65
log
@Remove useless dependency on deprecated pangox.

- remove useless patch to gfx/thebes/Makefile.in adding -lpangox-1.0 to
EXTRA_DSO_LDOPTS, this was maybe useful before ffx 3.0, but mozilla
stopped using pangox between 2.0 and 3.0. See for the last traces of
pangox.h use : https://bugzilla.mozilla.org/show_bug.cgi?id=528941. See
also bugs #323671/#338446
- backport the patch from #528941 to remove useless pangox.h inclusion
from www/firefox35.
- remove the RUN_DEPENDS on pangox-compat
- bump all corresponding REVISIONS
- while here, make sure all moz ports depend on latest nspr 4.9.2 since
  it'll be a requirement for upcoming gecko 16 releases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2012/09/01 14:35:06 landry Exp $
d8 2
a9 2
REVISION-devel =	1
REVISION-main =		4
@


1.64
log
@Garge collect nsSound.cpp, the original one uses libcanberra
properly and thus sndio. Bump corresponding REVISIONs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2012/06/11 15:26:14 landry Exp $
d9 1
a9 1
REVISION-main =		3
@


1.63
log
@Fix WANTLIB (remove gmodule-2.0) and bump depending ports (others will
be updated in a sec)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2012/04/24 06:05:50 espie Exp $
d8 2
a9 2
REVISION-devel =	0
REVISION-main =		2
d24 1
a24 1
# use files and patches from www/firefox36
a25 1
FILESDIR =		${PORTSDIR}/www/firefox36/files
@


1.62
log
@bump since nss changed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2012/04/07 13:10:50 landry Exp $
d9 1
a9 1
REVISION-main =		1
@


1.61
log
@Assorted cleanups to xulrunner 1.9 port :

- rename libxul{,-embedding}.pc files to libxul19{,-embedding}.pc to
  cope with an eventual xulrunner built from latest mozilla
- move some WANTLIB-devel from Makefile.inc to 1.9/Makefile
- use BASE_PKGPATH instead of devel/xulrunner/${MOZILLA_VERSION:R:R}, as
  there might be a devel/xulrunner/last someday
- sanitize the subst regexps done on the .pc files, half of them were
  useless
- bump REVISIONs.

Tested in a full bulk build with all xulrunner users..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/03/16 21:45:08 landry Exp $
d9 1
a9 1
REVISION-main =		0
@


1.60
log
@Chase fx36 and update xulrunner to 1.9.2.28...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2012/03/08 13:03:58 nigel Exp $
d8 2
d39 3
d67 1
a67 2
	perl -pi -e 's|libxul-embedding-unstable|libxul-embedding|g; ' \
		-e 's|libxul-unstable|libxul|g; s|unstable|stable|g; ' \
a69 1
		-e 's|/lib||g; s|/stable||g; s|/\$${includetype}||g; ' \
d71 4
@


1.59
log
@Bump for Garbage collect the /dev/arandom patches changes in firefox36.


Ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2012/02/20 20:29:10 landry Exp $
d3 1
a3 1
MOZILLA_VERSION =	1.9.2.27
d7 1
a7 3
MOZILLA_DIST_VERSION =	3.6.27
REVISION-main =		0
REVISION-devel =	0
@


1.58
log
@Chase ffx 3.6 update and bump xulrunner to 1.9.2.27.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2012/01/10 23:58:27 nigel Exp $
d8 2
@


1.57
log
@Update firefox to 3.6.25 and xulrunner to 1.9.2.25

Ok landry@@ stsp@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/12/15 23:07:44 nigel Exp $
d3 1
a3 1
MOZILLA_VERSION =	1.9.2.25
d7 1
a7 1
MOZILLA_DIST_VERSION =	3.6.25
@


1.56
log
@always build without gconf

Ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/12/08 00:19:07 nigel Exp $
d3 1
a3 1
MOZILLA_VERSION =	1.9.2.24
d7 1
a7 2
MOZILLA_DIST_VERSION =	3.6.24
REVISION =		0
@


1.55
log
@Update to xulrunner v1.9.2.24 sent to ports@@ for review.
Built on i386/amd64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/10/03 21:11:12 landry Exp $
d8 1
@


1.54
log
@Chase firefox36 update and bump to xulrunner 1.9.2.23.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/09/16 09:24:58 espie Exp $
d3 1
a3 1
MOZILLA_VERSION =	1.9.2.23
d7 1
a7 1
MOZILLA_DIST_VERSION =	3.6.23
@


1.53
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/09/06 19:44:32 landry Exp $
d3 1
a3 1
MOZILLA_VERSION =	1.9.2.22
d7 1
a7 3
MOZILLA_DIST_VERSION =	3.6.22
REVISION-main =		0
REVISION-devel =	0
@


1.52
log
@Chase firefox36 security update and bump xulrunner to 1.9.2.22.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/08/24 06:22:19 landry Exp $
d8 2
@


1.51
log
@Use MOZILLA_DIST/MOZILLA_DIST_VERSION where appropriate, remove
MASTER_SITES & DISTNAME (they're now properly set by the module).
Bump REVISION where HOMEPAGE changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/08/23 20:34:09 landry Exp $
d3 1
a3 1
MOZILLA_VERSION =	1.9.2.20
d7 1
a7 1
MOZILLA_DIST_VERSION =	3.6.20
@


1.50
log
@Chase firefox36 update and update to xulrunner 1.9.2.20.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/08/23 08:38:13 landry Exp $
a3 1
FFX_VERSION =		3.6.20
d6 2
a7 3
DISTNAME =		firefox-${FFX_VERSION}.source
MASTER_SITES =	http://releases.mozilla.org/pub/mozilla.org/firefox/releases/${FFX_VERSION}/source/ \
		ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${FFX_VERSION}/source/
@


1.49
log
@Add ftp://ftp.mozilla.org as backup MASTER_SITES to still be able to
fetch 'old' releases phased out of mirrors. Prodded by espie@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/08/02 19:24:38 naddy Exp $
d3 2
a4 2
MOZILLA_VERSION =	1.9.2.18
FFX_VERSION =		3.6.18
a9 2

REVISION-main =		0
@


1.48
log
@Fix for CVE-2011-2691 in the included apng, backported from png 1.2.45.
with landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/06/22 14:11:34 landry Exp $
d8 2
a9 1
MASTER_SITES =	http://releases.mozilla.org/pub/mozilla.org/firefox/releases/${FFX_VERSION}/source/
@


1.47
log
@Update to xulrunner 1.9.2.18, built from firefox 3.6.18.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/06/15 16:16:10 sthen Exp $
d9 2
@


1.46
log
@the Mozilla ports don't need Python at runtime, so set MODPY_RUNDEP=No.
(Firefox was already set this way). ok/reminder about sunbird landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/06/08 17:40:09 jasper Exp $
d3 2
a4 2
MOZILLA_VERSION =	1.9.2.17
FFX_VERSION =		3.6.17
a8 3

REVISION-main =		1
REVISION-devel =	1
@


1.45
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/04/30 08:35:40 landry Exp $
d10 2
a11 2
REVISION-main =		0
REVISION-devel =	0
@


1.44
log
@Chase firefox36 update and bump xulrunner to 1.9.2.17.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/03/26 13:25:50 landry Exp $
d9 3
@


1.43
log
@Use PATCHDIR and FILESDIR from www/firefox36. Fix LIB_DEPENDS while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/03/24 07:04:17 landry Exp $
d3 2
a4 2
MOZILLA_VERSION =	1.9.2.16
FFX_VERSION =		3.6.16
a8 2
REVISION-main =	0
REVISION-devel =	0
@


1.42
log
@Chase firefox update, bump to 1.9.2.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/03/22 13:18:26 landry Exp $
d9 2
d25 3
a27 3
# use files and patches from www/mozilla-firefox
PATCHDIR =		${PORTSDIR}/www/mozilla-firefox/patches
FILESDIR =		${PORTSDIR}/www/mozilla-firefox/files
@


1.41
log
@Remove the .if for system sqlite, now every port using mozilla MODULE
uses it. Bump dependency to 3.7.5 to ensure it has unlock_notify for
ffx4, and bump all corresponding REVISIONs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/03/11 16:31:36 landry Exp $
d3 2
a4 2
MOZILLA_VERSION =	1.9.2.14
FFX_VERSION =		3.6.14
a7 2
REVISION-main =		1
REVISION-devel =	2
@


1.40
log
@Oops.. unbreak after ffx/thunderbird change. Since we now build against
systemwide cairo, dependencies changed, and PLIST-devel changed..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/03/03 22:13:02 landry Exp $
d8 2
a9 2
REVISION-main =		0
REVISION-devel =	1
@


1.39
log
@Xulrunner 1.8 went to the attic, we can nom uncomment and ship xulrunner
-{gtkmozembed,js,plugin}.pc files.

Prodded by brad, went into a bulk build without fallout.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/03/02 14:40:15 landry Exp $
d8 2
a9 1
REVISION-devel =	0
@


1.38
log
@Update to xulrunner 1.9.2.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/01/28 21:38:12 landry Exp $
d8 1
a8 1

@


1.37
log
@Fix an unaligned access on sparc64 leading to random crashes when
mozilla tries to read a malformed ICC profile on random image content
found on the web.
backport of http://hg.mozilla.org/mozilla-central/rev/e8207773d54d
ref: https://bugzilla.mozilla.org/show_bug.cgi?id=629057
issue reported and fix found by naddy@@
ok naddy@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/01/18 12:37:44 landry Exp $
d3 2
a4 2
MOZILLA_VERSION =	1.9.2.13
FFX_VERSION =		3.6.13
a7 2
REVISION-main =		3
REVISION-devel =	2
@


1.36
log
@mozilla.port.mk makes all mozilla ports use the sydney_audio_sndio.c
file from www/mozilla-firefox, so remove old instances of that file that
weren't updated with last commits (and were unused anyway)
While here bump all REVISIONs after LIB_DEPENDS change.
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/01/15 16:04:31 landry Exp $
d8 2
a9 2
REVISION-main =		2
REVISION-devel =	1
@


1.35
log
@Duh. Bump the correct REVISION, spotted by naddy@@ again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/01/15 12:41:27 landry Exp $
d8 2
a9 2
REVISION-main =		1
REVISION-devel =	0
@


1.34
log
@Duh, forgot to bump -devel, and headers were added/removed.
Spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/01/14 22:50:38 landry Exp $
a7 1
REVISION-main =		0
d9 1
@


1.33
log
@Chase mozilla-firefox change and build against system sqlite too.
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/12/10 10:54:24 landry Exp $
d9 1
@


1.32
log
@Chase firefox 3.6.13 update and update to xulrunner 1.9.2.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/12/01 15:00:12 dcoppa Exp $
d8 1
d12 1
a12 1
SO_VERSION =		3.1
d15 1
a15 1
MOZILLA_LIBS =	imgicon mozjs xpcom xul sqlite3 nullplugin unixprintplugin
@


1.31
log
@Fix Kerberos/GSSAPI authentication within mozilla ports.
OpenBSD does not have gssapi_krb5. So, to avoid undefined symbol
errors, link libxul with "-lkrb5 -lcrypto".

OK phessler@@, landry@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/11/12 09:08:02 landry Exp $
d3 2
a4 2
MOZILLA_VERSION =	1.9.2.12
FFX_VERSION =		3.6.12
a7 2
REVISION-main =	1

@


1.30
log
@Fix packaging after last mozilla-firefox commit. Noticed by matthieu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/10/28 12:04:50 landry Exp $
d8 1
a8 1
REVISION-main =	0
@


1.29
log
@Security update to xulrunner19 1.9.2.12.
Fixes MFSA2010-73/CVE-2010-3765/bz #607222.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/10/26 10:15:39 landry Exp $
d8 1
@


1.28
log
@spacing
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/10/26 10:01:33 landry Exp $
d3 2
a4 2
MOZILLA_VERSION =	1.9.2.11
FFX_VERSION =		3.6.11
a6 2
REVISION-main =		0
REVISION-devel =	0
@


1.27
log
@Convert to use www/mozilla MODULE, removes shitload of lines. Less kittens cry.
Went in a bunch of bulks without fallout..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/10/22 19:25:19 landry Exp $
d4 1
a4 1
FFX_VERSION=		3.6.11
d12 1
a12 1
MASTER_SITES=	http://releases.mozilla.org/pub/mozilla.org/firefox/releases/${FFX_VERSION}/source/
d14 1
a14 1
SO_VERSION=		3.1
d28 2
a29 2
PATCHDIR=		${PORTSDIR}/www/mozilla-firefox/patches
FILESDIR=		${PORTSDIR}/www/mozilla-firefox/files
d36 3
a38 3
DISTDIRS=		idl include
TOOLS=			nsinstall xpcshell xpidl xpt_dump xpt_link xulrunner-bin xulrunner-stub
PCFILES=		libxul.pc libxul-embedding.pc mozilla-js.pc \
@


1.26
log
@Update to xulrunner 1.9.2.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/10/15 08:32:21 landry Exp $
d3 7
a9 1
ONLY_FOR_ARCHS=		alpha amd64 arm i386 powerpc sparc sparc64
a10 7
VERSION=		1.9.2.11
FFX_VERSION=		3.6.11
DIRECTORY=		xulrunner1.9
# needed for mozilla.port.mk
MOZILLA_PROJECT=	xulrunner1.9
DISTNAME=		mozilla-1.9.2
DISTFILES=		firefox-${FFX_VERSION}.source.tar.bz2
d17 1
a17 3
.for _lib in imgicon mozjs xpcom xul sqlite3 nullplugin unixprintplugin
SHARED_LIBS+=	${_lib}	${SO_VERSION}
.endfor
a26 2
LIB_DEPENDS+=	:nspr->=4.8.6:devel/nspr

d31 1
a31 17
MODULES+=		lang/python
MODPY_RUNDEP=		No

CONFIGURE_ARGS+=	--enable-default-toolkit=cairo-gtk2 \
			--disable-system-sqlite \
			--disable-crashreporter \
			--disable-ipc \
			--disable-libnotify \
			--disable-necko-wifi
WANTLIB-devel+=		gthread-2.0 gobject-2.0
WANTLIB-main+=		sndio

MOB=			${WRKSRC}/dist/bin
MOZ=			${PREFIX}/${DIRECTORY}
SUBST_VARS+=		DIRECTORY MOZILLA_PROJECT

DATADIRS=		chrome components defaults dictionaries greprefs \
d33 3
d37 1
a37 2
TOOLS=			mozilla-xremote-client nsinstall regxpcom xpcshell \
			xpidl xpt_dump xpt_link xulrunner-bin xulrunner-stub
a41 17
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/build/autoconf \
				${WRKSRC}/js/src/build/autoconf
post-extract:
	cp -f ${FILESDIR}/sydney_audio_sndio.c \
		${WRKSRC}/media/libsydneyaudio/src/
	@@cp -f ${FILESDIR}/nsSound.cpp ${WRKSRC}/widget/src/gtk2/

pre-configure:
	cd ${WRKSRC}/js/src && ${SETENV} ${AUTOCONF_ENV} ${AUTOCONF}
	${SUBST_CMD} ${WRKSRC}/xpcom/io/nsAppFileLocationProvider.cpp \
		${WRKSRC}/config/autoconf.mk.in \
		${WRKSRC}/build/unix/mozilla.in \
		${WRKSRC}/extensions/spellcheck/hunspell/src/mozHunspell.cpp \
		${WRKSRC}/js/src/xpconnect/shell/Makefile.in \
		${WRKSRC}/toolkit/xre/nsXREDirProvider.cpp \
		${WRKSRC}/xulrunner/setup/nsXULAppInstall.js

d46 5
a50 1
do-install:
d56 1
a56 10
	cd ${MOZ} && ln -s xulrunner-bin xulrunner1.9-bin
	cd ${MOB} && \
		find ${DATADIRS} -type d \
			-exec ${INSTALL_DATA_DIR} ${MOZ}/{} \; && \
		find ${DATADIRS} ! -type d \
			-exec ${INSTALL_DATA} {} ${MOZ}/{} \; && \
		${INSTALL_PROGRAM} ${TOOLS} ${MOZ}
	${INSTALL_DATA} ${MOB}/LICENSE ${MOB}/platform.ini \
		${MOB}/*.so.${SO_VERSION} \
		${WRKSRC}/dist/lib/libxpcomglue.a \
d59 3
a61 4
	cd ${MOZ} && ln -s libxpcomglue_s.a libxpcomglue_s_pic.a
	cd ${MOZ} && ln -s libxpcomglue.a libxpcomglue_pic.a
	${INSTALL_SCRIPT} ${MOB}/run-mozilla.sh ${MOZ}
	${INSTALL_SCRIPT} ${MOB}/xulrunner ${PREFIX}/bin/xulrunner1.9
@


1.25
log
@Build xulrunner 1.9.2.x against bundled cairo, and fix WANTLIB while
here. Keep building xulrunner 1.8.x against systemwide cairo, as it
doesn't build with bundled cairo, because systemwide pango is too
recent and uses structs not defined in bundled cairo headers.
Too bad for the remaining xl 1.8 users, gtk-vnc-plugin and swt-browser..
if they fail, be my guest, fix them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/10/11 08:12:31 jasper Exp $
d5 2
a6 2
VERSION=		1.9.2.10
FFX_VERSION=		3.6.10
a11 2
REVISION-main=		2
REVISION-devel=		2
@


1.24
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/09/26 07:42:03 espie Exp $
d12 2
a13 2
REVISION-main=		1
REVISION-devel=		1
@


1.23
log
@fix  nonsense in conflicts.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/09/19 19:23:16 landry Exp $
d12 2
a13 2
REVISION-main=		0
REVISION-devel=		0
@


1.22
log
@Bugfix update to xulrunner 1.9.2.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/09/12 17:58:51 landry Exp $
d12 2
@


1.21
log
@Chase mozilla-firefox update and bump xulrunner to 1.9.2.9.
Switch to use internal sqlite as now mozilla needs SQLITE_SECURE_DELETE
set, and there's no way we're going to do that with systemwide sqlite.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/07/25 21:39:20 landry Exp $
d5 2
a6 2
VERSION=		1.9.2.9
FFX_VERSION=		3.6.9
d29 2
@


1.20
log
@Chase ffx 3.6.8 update - here comes xulrunner 1.9.2.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/07/22 21:43:01 landry Exp $
d5 2
a6 2
VERSION=		1.9.2.8
FFX_VERSION=		3.6.8
d15 1
a15 1
SO_VERSION=		3.0
d18 1
a18 1
.for _lib in imgicon mozjs xpcom xul nullplugin unixprintplugin
d38 1
a42 1
LIB_DEPENDS+=		:sqlite3->=3.6.10:databases/sqlite3
d44 1
a44 1
WANTLIB-main+=		sndio sqlite3.>=13.0
@


1.19
log
@Chase firefox update and bump to xulrunner 1.9.2.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/07/19 13:46:27 landry Exp $
d5 2
a6 2
VERSION=		1.9.2.7
FFX_VERSION=		3.6.7
@


1.18
log
@Add -Wl,-rpath,'$(installdir)' to LDFLAGS when linking mozilla libs, so
that when they are dlopen()'ed they can tell ld.so where to go hunt for
the other mozilla libs they depend on.
Similar fix as done in xulrunner 1.8 patch-config_rules_mk 2 years ago
by martynas@@, needed to convert py-gnome-extras to xulrunner 1.9.
No fallout on firefox.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/07/15 19:28:46 espie Exp $
d5 2
a6 3
VERSION=		1.9.2.6
REVISION-main=		1
REVISION-devel=		3
d11 1
a11 1
DISTFILES=		firefox-3.6.6.source.tar.bz2
d13 1
a13 1
MASTER_SITES=	http://releases.mozilla.org/pub/mozilla.org/firefox/releases/3.6.6/source/
@


1.17
log
@bump, since landry won't
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/07/15 11:01:21 landry Exp $
d6 1
a6 1
REVISION-main=		0
@


1.16
log
@Fix the fix. Shouldn't commit when still asleep.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/07/15 06:08:19 landry Exp $
d7 1
a7 1
REVISION-devel=		2
@


1.15
log
@Fucking unfuck the @@#~]#@@~ fuckedup .pc file.
Noticed by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/07/11 14:55:56 landry Exp $
d111 1
a111 1
		-e 's|-lxpcomglue|-lxpcomglue_pic|g; s|-lxpcomglue_s|-lxpcomglue_pic_s|; ' \
@


1.14
log
@Switch to newer LIB_DEPENDS/WANTLIB/REVISION, remove PATCHLEVEL.
symlink libxpcomglue{,_s}_pic.a to libxpcomglue{,_s}.a so that #@@#@@!@@$
libtool correctly links with the xpcom glue. Adjust libxul{-embedding}.pc
to return the appropriate _pic lib.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/07/09 16:38:58 landry Exp $
d7 1
a7 1
REVISION-devel=		1
d111 1
a111 1
		-e 's|-lxpcomglue|-lxpcomglue_pic|g; s|-lxpcomglue_s|-lxpcomglue_s_pic|; ' \
@


1.13
log
@Cope with patch-config_autoconf_mk_in change in www/mozilla-firefox.
Switch PLISTs to use MOZILLA_PROJECT semantics, but do not convert the
port to www/mozilla MODULE yet. xulrunner 1.8 needs to be buried first.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/06/28 21:25:28 landry Exp $
d6 2
a7 1
PATCHLEVEL=		p0
d43 1
a43 1
LIB_DEPENDS+=		sqlite3.>=13.0:sqlite3->=3.6.10:databases/sqlite3
d45 1
a45 1
WANTLIB-main+=		sndio
d98 3
d111 1
@


1.12
log
@Update to xulrunner 1.9.2.6, chasing ffx 3.6.6 update. While here, add
correct RCS tags to PLIST files..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/06/20 19:44:40 landry Exp $
d6 1
a6 1
#PATCHLEVEL=		p1
d8 2
d48 1
a48 1
SUBST_VARS+=		DIRECTORY
@


1.11
log
@Fix WANTLIBs and bump PKGNAME.
Prodded by/ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/06/16 19:06:26 landry Exp $
d5 2
a6 2
VERSION=		1.9.2.3
PATCHLEVEL=		p1
d9 1
a9 1
DISTFILES=		firefox-3.6.3.source.tar.bz2
d11 1
a11 1
MASTER_SITES=	http://releases.mozilla.org/pub/mozilla.org/firefox/releases/3.6.3/source/
d37 1
@


1.10
log
@Remove a patch i forgot to cvs delete, don't call autoconf in nsprpub/
as we use the systemwide one, and bump PKGNAME to be on the safe side.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/06/12 15:16:47 landry Exp $
d6 1
a6 1
PATCHLEVEL=		p0
d40 2
a41 1
WANTLIB-devel+=		gobject-2.0
@


1.9
log
@Update to xulrunner 1.9.2.3 (from 1.9.1.7) :
- mozilla don't do real releases anymore from xulrunner itself, so build
  it from firefox 3.6.3 tarball. Thx tnn@@netbsd for the trick.
- that also permits us to use patches/ and files/ from
  www/mozilla-firefox, and stop mirroring another 50Mb distfile. Yay!
- some headers are MI, so do the PFRAG.{amd64,jit}-devel dance in PLIST
sthen@@ thinks 'going in this direction makes a lot of sense'.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/06/02 19:07:43 dcoppa Exp $
d6 1
a6 1
#PATCHLEVEL=		p1
d56 1
a56 2
				${WRKSRC}/js/src/build/autoconf \
				${WRKSRC}/nsprpub/build/autoconf
a63 1
	cd ${WRKSRC}/nsprpub && ${SETENV} ${AUTOCONF_ENV} ${AUTOCONF}
@


1.8
log
@Add missing -lsndio.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/04/27 16:08:21 landry Exp $
d5 2
a6 2
VERSION=		1.9.1.7
PATCHLEVEL=		p1
d8 2
a9 2
DISTNAME=		mozilla-1.9.1
DISTFILES=		xulrunner-${VERSION}.source.tar.bz2
d11 3
a13 1
SO_VERSION=		2.0
d20 12
d35 4
a38 1
CONFIGURE_ARGS+=	--enable-default-toolkit=cairo-gtk2
d44 1
d66 2
a67 1
	${SUBST_CMD} \
d84 1
a84 2
	mv ${MOZ}/include/xpcom/* ${MOZ}/include
	rmdir ${MOZ}/include/xpcom
@


1.7
log
@@@comment back xulrunner-{plugin,js,gtkmozembed}.pc, they conflict with the
ones in xulrunner/1.8,-devel. Spotted by naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/04/24 16:08:01 landry Exp $
d6 1
a6 1
PATCHLEVEL=		p0
@


1.6
log
@Update xulrunner 1.9.0.14 to 1.9.1.7, latest release in the branch
corresponding to ffx 3.5.x. Most patches taken from there, tested
successfully @@ppc/amd64/sparc64. Branch 1.9.0.x is approaching attic
upstream, as ffx 3.0.x.
The plan is to move all users of xulrunner/1.8 to use this latest
version, and then ditch the old unmaintained one from ffx 2.x days.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/10/16 12:38:17 martynas Exp $
d6 1
a6 1
#PATCHLEVEL=		p0
@


1.5
log
@security update to xulrunner-1.9.0.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/08/16 18:35:33 martynas Exp $
d5 1
a5 1
VERSION=		1.9.0.14
d8 2
d11 1
a11 1
SO_VERSION=		1.0
d37 8
d46 4
a49 1
	perl -pi -e 's|_LOCALBASE_|${LOCALBASE}|g; s|_X11BASE_|${X11BASE}|g' \
a52 1
		${WRKSRC}/xulrunner/app/mozilla.in \
@


1.4
log
@security update to xulrunner-1.9.0.13;  fixes that famous ssl bugs.
MFSA 2009-44  Location bar and SSL indicator spoofing via window.open()
on invalid URL
MFSA 2009-43 Heap overflow in certificate regexp parsing
MFSA 2009-42 Compromise of SSL-protected communication
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/08/10 06:31:08 kili Exp $
d5 1
a5 1
VERSION=		1.9.0.13
@


1.3
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/07/27 23:22:01 martynas Exp $
d5 2
a6 2
VERSION=		1.9.0.12
PATCHLEVEL=		p0
@


1.2
log
@security update to 1.9.0.12.  1.8 is not maintained upstream and
haven't been receiving updates for more than half a year;  therefore
ports maintainers should switch to use 1.9 where possible
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/07/27 21:35:56 martynas Exp $
d6 1
a6 1
PATCHLEVEL=
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/01/09 15:54:31 martynas Exp $
d5 1
a5 1
VERSION=		1.9.0.7
d20 1
a20 1
LIB_DEPENDS+=		sqlite3.>=10.0:sqlite3->=3.5:databases/sqlite3
@


1.1.1.1
log
@import xulrunner 1.9, and implement infrastructure for multiple
xulrunners.  this was necessary for smooth migration, since we want
plugins work for mozilla 1.8 branch too (seamonkey, thunderbird);
they are upwards-compatible if built against 1.8.  however, some
new applications started to depend on 1.9, and also other (non-plugin)
apps will start to migrate so that the old xulrunner can go away
requested by many;  bulk build & pkgpath & bump done by sthen@@
@
text
@@
