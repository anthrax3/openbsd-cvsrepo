head	1.14;
access;
symbols
	OPENBSD_6_0:1.13.0.2
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.11.0.4
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.11.0.6
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.11.0.2
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.10.0.4
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.10.0.2
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.8.0.2
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.2
	naddy_20110923:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.14
date	2017.03.15.08.54.50;	author sthen;	state Exp;
branches;
next	1.13;
commitid	MY7SPwhZvUfD9vXS;

1.13
date	2016.03.11.19.59.13;	author naddy;	state Exp;
branches;
next	1.12;
commitid	pguKLBEFv33DrgKU;

1.12
date	2016.02.29.13.57.10;	author kirby;	state Exp;
branches;
next	1.11;
commitid	RTZW6CC02WPV0N7K;

1.11
date	2015.01.06.21.28.05;	author sthen;	state Exp;
branches;
next	1.10;
commitid	RYKU0l8E4J620m0S;

1.10
date	2013.11.11.21.54.57;	author landry;	state Exp;
branches;
next	1.9;

1.9
date	2013.10.22.19.55.11;	author jca;	state Exp;
branches;
next	1.8;

1.8
date	2013.03.21.08.45.15;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2013.03.11.10.50.09;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2012.12.11.11.59.31;	author dcoppa;	state Exp;
branches;
next	1.5;

1.5
date	2012.09.26.07.36.09;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2012.05.13.13.50.17;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2012.04.05.14.07.44;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2012.03.17.21.09.01;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2011.09.23.08.50.12;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.09.23.08.50.12;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.14
log
@Switch to github releases MASTER_SITES, upstream's website is linking there
rather than sourceforge so that's the preferred option. Part of a diff from
Rafael Sadowski.
@
text
@# $OpenBSD: Makefile,v 1.13 2016/03/11 19:59:13 naddy Exp $

COMMENT=	event notification library

V=		2.0.22
DISTNAME=	libevent-$V-stable
PKGNAME=	libevent-$V
REVISION=	0
CATEGORIES=	devel
HOMEPAGE=	http://libevent.org/

SHARED_LIBS+=	event_core      1.1	# 6.9
SHARED_LIBS+=	event_extra     0.1	# 6.9
SHARED_LIBS+=	event_openssl   0.0	# 6.9
SHARED_LIBS+=	event_pthreads  0.0	# 6.9

# BSD
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	https://github.com/libevent/libevent/releases/download/release-$V-stable/

WANTLIB=	crypto pthread ssl

CONFIGURE_STYLE=gnu

MAKE_FLAGS=	RELEASE=""

# Skip compatibility bits that conflict with libevent1
FAKE_FLAGS=	LIBEVENT_LIBS_LA="libevent_core.la libevent_extra.la \
		    libevent_openssl.la libevent_pthreads.la" \
		EVENT1_HDRS=""

.include <bsd.port.mk>
@


1.13
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2016/02/29 13:57:10 kirby Exp $
d20 1
a20 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=levent/}
@


1.12
log
@update HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2015/01/06 21:28:05 sthen Exp $
a24 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
@


1.11
log
@update to libevent 2.0.22, various fixes including CVE-2014-6272 (integer
overflow in evbuffer_add() and related functions).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/11/11 21:54:57 landry Exp $
d8 1
d10 1
a10 1
HOMEPAGE=	http://monkey.org/~provos/libevent/
@


1.10
log
@Instead of shuffling things around after arc4random_addrandom() removal,
take a stronger stance and remove evutil_secure_rng_add_bytes() from
libevent's API. Nothing calls it anyway, and there's even a big scary
warning (tm) in libevent's header..

---
You should almost never need to call this function; it should be
sufficient to invoke evutil_secure_rng_init(), or let Libevent take
care of calling evutil_secure_rng_init() on its own.

If you call this function as a _replacement_ for the regular
entropy sources, then you need to be sure that your input
contains a fairly large amount of strong entropy.  Doing so is
notoriously hard: most people who try get it wrong.  Watch out!
---

Bump event_core major, and remove the now useless configure.in patch.

Discussed with/ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/10/22 19:55:11 jca Exp $
d5 1
a5 1
V=		2.0.21
a7 1
REVISION=	1
d11 4
a14 4
SHARED_LIBS+=	event_core      1.0	# 6.5
SHARED_LIBS+=	event_extra     0.1	# 6.5
SHARED_LIBS+=	event_openssl   0.0	# 6.5
SHARED_LIBS+=	event_pthreads  0.0	# 6.5
d19 1
a19 1
MASTER_SITES=	https://github.com/downloads/libevent/libevent/
@


1.9
log
@Fixup after arc4random_addrandom/arc4random_stir removal.
If we can detect arc4random but not mentioned functions, then we don't
need to use them.  ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/03/21 08:45:15 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
d12 1
a12 1
SHARED_LIBS+=	event_core      0.1	# 6.5
d24 1
a24 2
CONFIGURE_STYLE=autoconf
AUTOCONF_VERSION= 2.68
@


1.8
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/03/11 10:50:09 espie Exp $
d8 1
d24 2
a25 1
CONFIGURE_STYLE=gnu
@


1.7
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/12/11 11:59:31 dcoppa Exp $
a22 1
USE_LIBTOOL=	Yes
@


1.6
log
@Bugfix update to libevent-2.0.21

From David Hill
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/09/26 07:36:09 dcoppa Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.5
log
@Bugfix update to 2.0.20
While here, add pthread to WANTLIB

Initial diff from David Hill
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/05/13 13:50:17 dcoppa Exp $
d5 1
a5 1
V=		2.0.20
@


1.4
log
@Bugfix update to 2.0.19. From dhill.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/04/05 14:07:44 dcoppa Exp $
d5 1
a5 1
V=		2.0.19
d24 1
a24 1
WANTLIB=	crypto ssl
@


1.3
log
@Bugfix update to 2.0.18.

from dhill@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/03/17 21:09:01 naddy Exp $
d5 1
a5 1
V=		2.0.18
@


1.2
log
@update to 2.0.17; based on a submission by Gonzalo L. R.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/09/23 08:50:12 naddy Exp $
d5 1
a5 1
V=		2.0.17
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
V=		2.0.13
d11 4
a14 4
SHARED_LIBS+=	event_core      0.0	# 6.2
SHARED_LIBS+=	event_extra     0.0	# 6.2
SHARED_LIBS+=	event_openssl   0.0	# 6.2
SHARED_LIBS+=	event_pthreads  0.0	# 6.2
d22 3
a24 1
MASTER_SITES=	http://monkey.org/~provos/
@


1.1.1.1
log
@Import libevent 2.0.13.

Libevent is a library for writing fast portable nonblocking IO.

This port omits all the libevent1 compatibility parts so it does
not clash with libevent1 from base.  Applications will link with
-levent_core (-levent_extra) and pkg-config is set up this way.

Verified that none of our libevent1-using ports pick this up by
accident.
@
text
@@
