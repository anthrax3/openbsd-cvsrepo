head	1.22;
access;
symbols
	OPENBSD_6_1:1.22.0.12
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.22.0.10
	OPENBSD_6_0_BASE:1.22
	OPENBSD_5_9:1.22.0.6
	OPENBSD_5_9_BASE:1.22
	OPENBSD_5_8:1.22.0.8
	OPENBSD_5_8_BASE:1.22
	OPENBSD_5_7:1.22.0.4
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.22.0.2
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.21.0.2
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.20.0.2
	OPENBSD_5_4_BASE:1.20
	OPENBSD_5_3:1.18.0.6
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.4
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.2
	OPENBSD_5_0:1.16.0.2
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.9.0.2
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.8.0.2
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.6.0.2
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	ckuethe_20080821:1.1.1.1
	ckuethe:1.1.1;
locks; strict;
comment	@# @;


1.22
date	2014.06.23.18.15.03;	author nigel;	state Exp;
branches;
next	1.21;
commitid	sk3YhxS7iKutT8z9;

1.21
date	2013.10.10.02.08.22;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2013.05.05.16.48.08;	author edd;	state Exp;
branches;
next	1.19;

1.19
date	2013.03.11.10.50.01;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2011.12.09.12.25.44;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2011.11.13.13.54.04;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2011.06.02.13.41.38;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2011.03.02.07.20.53;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2010.12.12.20.20.56;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.15.19.45.56;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.08.01.22.36;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.18.21.35.48;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2010.10.18.17.47.51;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.06.27.20.39.33;	author ckuethe;	state Exp;
branches;
next	1.8;

1.8
date	2009.12.06.02.05.51;	author ckuethe;	state Exp;
branches;
next	1.7;

1.7
date	2009.07.20.16.44.05;	author ckuethe;	state Exp;
branches;
next	1.6;

1.6
date	2009.03.05.20.25.32;	author ckuethe;	state Exp;
branches;
next	1.5;

1.5
date	2009.02.16.15.28.58;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2008.08.29.03.58.43;	author ckuethe;	state Exp;
branches;
next	1.3;

1.3
date	2008.08.23.07.20.17;	author ckuethe;	state Exp;
branches;
next	1.2;

1.2
date	2008.08.21.14.20.12;	author ckuethe;	state Exp;
branches;
next	1.1;

1.1
date	2008.08.21.14.05.21;	author ckuethe;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.08.21.14.05.21;	author ckuethe;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Add dependency on libftdi for consistent build

Ok @@sthen
@
text
@# $OpenBSD: Makefile,v 1.21 2013/10/10 02:08:22 brad Exp $

COMMENT=	AVR microcontroller hardware in-system programmer

V=		5.11
DISTNAME=	avrdude-${V}
REVISION=	1
DISTFILES+=	avrdude-${V}.tar.gz avrdude-doc-${V}.pdf
CATEGORIES=	devel

HOMEPAGE=	http://www.nongnu.org/avrdude/

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c ftdi m ncurses pthread readline termcap usb usb-1.0

MASTER_SITES=	${MASTER_SITE_SAVANNAH:=avrdude/}
EXTRACT_ONLY=	avrdude-${V}${EXTRACT_SUFX}

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -pthread"

LIB_DEPENDS=		devel/libftdi \
			devel/libusb-compat

SUBST_VARS+=		V

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/avrdude
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/avrdude
	${INSTALL_DATA} ${WRKSRC}/avrdude.conf ${PREFIX}/share/examples/avrdude
	${INSTALL_DATA} ${FULLDISTDIR}/avrdude-doc-${V}.pdf \
		${PREFIX}/share/doc/avrdude

.include <bsd.port.mk>
@


1.21
log
@Remove Chris Kuethe as maintainer. OpenBSD e-mail address bounces and has been
inactive for quite awhile.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/05/05 16:48:08 edd Exp $
d7 1
a7 1
REVISION=	0
d16 1
a16 1
WANTLIB += c m ncurses pthread readline termcap usb usb-1.0
d25 2
a26 1
LIB_DEPENDS=		devel/libusb-compat
@


1.20
log
@Update to avrdude-5.11.

This is gonzalo's work he posted to ports@@ a while back. I have just
remerged the diff for -current.

Tested on an arduino mega (clone) and an arduino uno.

OK gonzalo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/03/11 10:50:01 espie Exp $
d7 1
a11 2

MAINTAINER=	Chris Kuethe <ckuethe@@openbsd.org>
@


1.19
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/12/09 12:25:44 jasper Exp $
d5 1
a5 1
V=		5.10
a6 1
REVISION=	3
d17 1
a17 1
WANTLIB=		c m ncurses readline termcap usb pthread
a24 1
USE_GROFF =		Yes
@


1.18
log
@- add ${V} to SUBST_VARS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/11/13 13:54:04 ajacoutot Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.17
log
@Sync dependencies after move from libusb to libusb-compat and fix a
couple of fallouts. Note that these ports are only the ones that used to
have a direct dependency on devel/libusb so there may be some other
hidden ports that may break because of the switch. If that's the case,
no need to start ranting all over but instead tell me which one(s)
break. Thanks.

Note: sysutils/nut hasn't been fixed yet but will be today.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/06/02 13:41:38 ajacoutot Exp $
d32 2
@


1.16
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/03/02 07:20:53 jasper Exp $
d7 1
a7 1
REVISION=	2
d20 2
a21 1
WANTLIB=		c m ncurses readline termcap
d27 2
a28 2
CONFIGURE_ARGS+=	CPPFLAGS=-I${LOCALBASE}/include \
			LDFLAGS=-L${LOCALBASE}/lib
d31 1
a31 2
LIB_DEPENDS=		devel/libusb
WANTLIB +=		usb>=1
@


1.15
log
@- add support for attiny4313

ok ckuethe@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/12/12 20:20:56 jasper Exp $
d7 1
a7 1
REVISION=	1
@


1.14
log
@- ramble a bit about programming various arduino devices with avrdude

prompted by a mail from mark peoples
ok ckuethe@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/15 19:45:56 espie Exp $
d7 1
a7 1
REVISION=	0
@


1.13
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/08 01:22:36 espie Exp $
d7 1
@


1.12
log
@LIB_DEPENDS cleanup
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/18 21:35:48 sthen Exp $
d27 1
a27 1
USE_GROFF =	Yes
d29 2
a30 2
LIB_DEPENDS=		::devel/libusb
WANTLIB +=		usb.>=1
@


1.11
log
@fix a few tabtabUSE_GROFF, problem pointed out by Alexandr Shadchin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/10/18 17:47:51 espie Exp $
d29 2
a30 1
LIB_DEPENDS=		usb.>=1::devel/libusb
@


1.10
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/06/27 20:39:33 ckuethe Exp $
d27 1
a27 1
			USE_GROFF =	Yes
@


1.9
log
@update to avrdude 5.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/12/06 02:05:51 ckuethe Exp $
d27 1
@


1.8
log
@Don't crash when using ISP mode on AVR Dragon. From tdeval
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/07/20 16:44:05 ckuethe Exp $
d5 1
a5 1
V=		5.8
a7 1
PKGNAME=	${DISTNAME}p0
@


1.7
log
@updated to latest avrdude
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/03/05 20:25:32 ckuethe Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}
@


1.6
log
@Update to avrdude 5.6. Introduces support for AT90USB devices, and creates
a proper "arduino" bootloader type, rather than getting by with "avrisp".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/02/16 15:28:58 sthen Exp $
d5 1
a5 1
V=		5.6
@


1.5
log
@add MASTER_SITES_SAVANNAH and switch ports over to using it.
ok jasper, landry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/08/29 03:58:43 ckuethe Exp $
d5 1
a5 1
V=		5.5
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
d20 1
a20 1
WANTLIB=		c ncurses readline termcap
@


1.4
log
@fix distfile, prompted by naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/08/23 07:20:17 ckuethe Exp $
d22 1
a22 1
MASTER_SITES=		http://savannah.nongnu.org/download/avrdude/
@


1.3
log
@merge patches from arduino. add a note on how to load code into an
arduino. tested with a diecimilia.
ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/08/21 14:20:12 ckuethe Exp $
d7 1
a7 1
DISTFILES+=	avrdude-doc-${V}.pdf
@


1.2
log
@Be more specific about GPL version and fix PLIST.
Thanks to ajacoutot for explaining how @@sample works.
ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/08/21 14:05:21 ckuethe Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
d15 1
a15 1
# GPL
@


1.1.1.1
log
@Import avrdude - a utility for programming Atmel AVR microcontrollers
supporting a number of different types of programming hardware and MCUs
@
text
@@
