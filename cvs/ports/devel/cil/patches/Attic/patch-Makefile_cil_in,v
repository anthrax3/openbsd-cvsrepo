head	1.6;
access;
symbols
	OPENBSD_3_9:1.5.0.2
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.4.0.2
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.1.0.4
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.2
	OPENBSD_3_6_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2006.05.28.15.44.14;	author avsm;	state dead;
branches;
next	1.5;

1.5
date	2005.10.08.08.06.52;	author pvalchev;	state Exp;
branches;
next	1.4;

1.4
date	2005.05.27.21.46.23;	author avsm;	state Exp;
branches;
next	1.3;

1.3
date	2005.05.27.06.31.52;	author avsm;	state Exp;
branches;
next	1.2;

1.2
date	2005.05.09.13.52.38;	author avsm;	state Exp;
branches;
next	1.1;

1.1
date	2004.06.21.18.53.12;	author avsm;	state Exp;
branches;
next	;


desc
@@


1.6
log
@update to cil-1.3.5, lots of nice fixes to parsing gcc/msvc code
@
text
@$OpenBSD: patch-Makefile_cil_in,v 1.5 2005/10/08 08:06:52 pvalchev Exp $
--- Makefile.cil.in.orig	Wed Jun  1 06:37:13 2005
+++ Makefile.cil.in	Sat Oct  8 02:22:14 2005
@@@@ -70,7 +70,7 @@@@ CILLY_LIBRARY_MODULES = pretty inthash e
               patch frontc check mergecil \
               dataflow dominators bitmap ssa \
               usedef logcalls logwrites rmtmps \
-	      callgraph epicenter heapify \
+	      callgraph epicenter heapify nullint kerneltrace randomvars \
               setp uref steensgaard olf dummy ptranal \
               canonicalize heap oneret partial simplemem simplify \
 	      dataslicing \
@@@@ -363,7 +363,8 @@@@ DISTRIB_SRC_FRONTC = cabs.ml cprint.ml c
 
 DISTRIB_SRC_EXT = logcalls.ml logcalls.mli \
                   astslicer.ml simplemem.ml heap.ml partial.ml \
-                  logwrites.ml heapify.ml callgraph.ml callgraph.mli \
+                  logwrites.ml heapify.ml nullint.ml kerneltrace.ml \
+		  randomvars.ml callgraph.ml callgraph.mli \
                   epicenter.ml usedef.ml \
                   dataflow.ml dominators.ml bitmap.ml ssa.ml \
 	          stackoverflow.mli stackoverflow.ml \
@


1.5
log
@sync patches (linenumbers)
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_cil_in,v 1.4 2005/05/27 21:46:23 avsm Exp $
@


1.4
log
@Add in a --dorandomvars which sets local variables to values other than
0 to try and find bugs which depend on them being initalized to 0.

Also turn off the other transformations by default (use --dokerneltrace
or --donullint)

Go get em Chad.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_cil_in,v 1.3 2005/05/27 06:31:52 avsm Exp $
--- Makefile.cil.in.orig	Mon Jan 31 09:56:18 2005
+++ Makefile.cil.in	Fri May 27 09:00:17 2005
@@@@ -64,7 +64,7 @@@@ CILLY_LIBRARY_MODULES = pretty inthash e
d13 1
a13 1
@@@@ -351,7 +351,8 @@@@ DISTRIB_SRC_FRONTC = cabs.ml cprint.ml c
@


1.3
log
@Add a 'kernel function call tracer' to automatically insert a call to
log() to certain functions in the kernel to help debugging.

An example use when building a kernel would be:
$ make CC='/usr/local/bin/cilly --trace-regexp=^cache_ --trace-level=0'
to instrument all functions starting with cache_* to notify syslog at
emergency log level.  The output also includes the contents of any
char/int/long arguments (pointers and structs not followed yet, too
verbose).

A full kernel build doesnt quite work with CIL yet so use selectively.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_cil_in,v 1.2 2005/05/09 13:52:38 avsm Exp $
d3 1
a3 1
+++ Makefile.cil.in	Thu May 26 22:47:50 2005
d9 1
a9 1
+	      callgraph epicenter heapify nullint kerneltrace \
d19 1
a19 1
+		  callgraph.ml callgraph.mli \
@


1.2
log
@update to cil-1.3.2
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_cil_in,v 1.1 2004/06/21 18:53:12 avsm Exp $
d3 1
a3 1
+++ Makefile.cil.in	Tue Mar  1 10:20:29 2005
d9 1
a9 1
+	      callgraph epicenter heapify nullint \
d13 1
a13 1
@@@@ -351,7 +351,7 @@@@ DISTRIB_SRC_FRONTC = cabs.ml cprint.ml c
d18 2
a19 1
+                  logwrites.ml heapify.ml nullint.ml callgraph.ml callgraph.mli \
@


1.1
log
@add a simple NULL/int comparison checker to CIL
@
text
@d1 7
a7 7
$OpenBSD$
--- Makefile.cil.in.orig	2004-06-20 18:38:15.000000000 +0100
+++ Makefile.cil.in	2004-06-20 18:38:36.000000000 +0100
@@@@ -56,7 +56,7 @@@@ CILLY_LIBRARY_MODULES = pretty inthash e
               cabs cabsvisit cprint lexerhack machdep cparser clexer  \
               cilversion cil formatparse formatlex formatcil cabs2cil \
               patch frontc check mergecil logcalls logwrites rmtmps \
d12 2
a13 2
               testcil \
@@@@ -328,7 +328,7 @@@@ DISTRIB_SRC_FRONTC = cabs.ml cprint.ml c
d19 2
a20 1
                   epicenter.ml \
a21 1
 	          canonicalize.ml canonicalize.mli \
@

