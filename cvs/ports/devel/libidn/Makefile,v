head	1.31;
access;
symbols
	OPENBSD_6_2:1.31.0.4
	OPENBSD_6_2_BASE:1.31
	OPENBSD_6_1:1.31.0.2
	OPENBSD_6_1_BASE:1.31
	OPENBSD_6_0:1.30.0.2
	OPENBSD_6_0_BASE:1.30
	OPENBSD_5_9:1.27.0.2
	OPENBSD_5_9_BASE:1.27
	OPENBSD_5_8:1.27.0.4
	OPENBSD_5_8_BASE:1.27
	OPENBSD_5_7:1.23.0.2
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.21.0.4
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.21.0.2
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.19.0.2
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.16.0.2
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.15.0.2
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.4
	OPENBSD_5_0:1.13.0.2
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.8.0.8
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.8.0.6
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.4
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.2
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.7.0.4
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.5.0.8
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.6
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.4
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.5.0.2
	OPENBSD_3_9_BASE:1.5
	bernd_2005-oct-02:1.1.1.1
	bernd:1.1.1;
locks; strict;
comment	@# @;


1.31
date	2016.07.30.14.22.43;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	43FQ9m7i4JIHW29f;

1.30
date	2016.07.22.12.27.42;	author sthen;	state Exp;
branches;
next	1.29;
commitid	UMcBk2fKDWMKrbt4;

1.29
date	2016.04.05.19.28.24;	author naddy;	state Exp;
branches;
next	1.28;
commitid	n0GxQ5ckEuem8CPD;

1.28
date	2016.03.11.20.28.24;	author naddy;	state Exp;
branches;
next	1.27;
commitid	UYLP8TE6V7RS2GhJ;

1.27
date	2015.08.04.07.27.41;	author ajacoutot;	state Exp;
branches;
next	1.26;
commitid	saM863j7rfeLzVBZ;

1.26
date	2015.07.16.16.23.22;	author ajacoutot;	state Exp;
branches;
next	1.25;
commitid	JqTIh1dRkDxbJzRV;

1.25
date	2015.05.18.11.29.37;	author jasper;	state Exp;
branches;
next	1.24;
commitid	g3eYBWefuCrWTDW1;

1.24
date	2015.03.15.08.34.21;	author ajacoutot;	state Exp;
branches;
next	1.23;
commitid	fIGrSmpaR2OZkUqY;

1.23
date	2014.10.10.12.55.31;	author ajacoutot;	state Exp;
branches;
next	1.22;
commitid	ygQoGh6hoGeeqFWJ;

1.22
date	2014.08.17.06.38.16;	author ajacoutot;	state Exp;
branches;
next	1.21;
commitid	qHR4ybmq3cFxlMI6;

1.21
date	2013.11.09.23.19.02;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2013.08.06.19.07.16;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2013.06.09.14.36.51;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2013.03.21.08.45.15;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.11.10.50.10;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2013.01.18.10.40.26;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2012.07.11.13.16.16;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2012.03.23.11.01.11;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2011.05.27.09.58.51;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.15.19.45.59;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.18.21.17.12;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.10.18.17.47.54;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.09.13.11.41.19;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2008.12.19.20.10.59;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2007.09.26.05.05.40;	author bernd;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.16.02.53.00;	author merdely;	state Exp;
branches;
next	1.5;

1.5
date	2006.01.27.16.41.06;	author bernd;	state Exp;
branches;
next	1.4;

1.4
date	2006.01.06.12.24.55;	author bernd;	state Exp;
branches;
next	1.3;

1.3
date	2005.11.19.13.15.21;	author bernd;	state Exp;
branches;
next	1.2;

1.2
date	2005.11.03.13.49.41;	author bernd;	state Exp;
branches;
next	1.1;

1.1
date	2005.10.02.15.37.33;	author bernd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.10.02.15.37.33;	author bernd;	state Exp;
branches;
next	;


desc
@@


1.31
log
@Update to libidn-1.33.
@
text
@# $OpenBSD: Makefile,v 1.30 2016/07/22 12:27:42 sthen Exp $

COMMENT=		internationalized string handling

DISTNAME=		libidn-1.33

SHARED_LIBS +=  idn                  17.2     # 17.16

CATEGORIES=		devel

HOMEPAGE=		https://www.gnu.org/software/libidn/

MAINTAINER=		Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
			Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c iconv intl

MASTER_SITES=		${MASTER_SITE_GNU:=libidn/}

LIB_DEPENDS=		devel/gettext

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--disable-csharp \
			--disable-java \
			--disable-valgrind-tests

post-extract:
	rm ${WRKSRC}/contrib/doxygen/*.orig

.include <bsd.port.mk>
@


1.30
log
@Backport code fixes to devel/libidn from r1.33; out-of-bounds reads,
memory leak and a crash with invalid UTF-8. Not doing the full update
this late before release as they also updated gnulib and m4 files.
Thanks naddy@@ for autoconf help.
https://lists.gnu.org/archive/html/help-libidn/2016-07/msg00009.html

ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/04/05 19:28:24 naddy Exp $
d5 1
a5 2
DISTNAME=		libidn-1.32
REVISION=		1
d7 1
a7 1
SHARED_LIBS +=  idn                  17.2     # 17.14
d27 2
a28 3
			--disable-java

MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/build-aux
a31 6

# prevent autotools rebuild cascade
post-patch:
.for i in lib/idna.c lib/nfkc.c src/idn.c
	@@touch -r ${WRKSRC}/$i.orig ${WRKSRC}/$i
.endfor
@


1.29
log
@replace gettext module with normal library dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2016/03/11 20:28:24 naddy Exp $
d6 1
a6 1
REVISION=		0
d34 6
@


1.28
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/08/04 07:27:41 ajacoutot Exp $
d6 1
d20 1
a20 1
WANTLIB += c
d24 1
a24 1
MODULES=		devel/gettext
@


1.27
log
@Update to libidn-1.32.
- Fix crash in idna_to_unicode_8z8z and idna_to_unicode_8zlz
(problem was introduced in 1.31)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/07/16 16:23:22 ajacoutot Exp $
d26 1
a26 2
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--disable-csharp \
@


1.26
log
@Update to libidn-1.31.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/05/18 11:29:37 jasper Exp $
d5 1
a5 1
DISTNAME=		libidn-1.31
@


1.25
log
@remove another bunch of @@rm -f, some of which were hiding the arguments no
longer existed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/03/15 08:34:21 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		libidn-1.30
d7 1
a7 1
SHARED_LIBS +=  idn                  17.1     # 17.13
d10 1
@


1.24
log
@Update to libidn-1.30.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/10/10 12:55:31 ajacoutot Exp $
d32 1
a32 1
	rm -f ${WRKSRC}/contrib/doxygen/*.orig
@


1.23
log
@Hobbits take maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/08/17 06:38:16 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		libidn-1.29
REVISION=		0
d7 1
a7 1
SHARED_LIBS +=  idn                  17.0     # 17.10
@


1.22
log
@Update to libidn-1.29.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/11/09 23:19:02 naddy Exp $
d6 1
d12 3
@


1.21
log
@move http://www.gnu.org to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/08/06 19:07:16 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		libidn-1.28
REVISION=		0
@


1.20
log
@Update to libidn 1.28.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/06/09 14:36:51 ajacoutot Exp $
d6 1
d11 1
a11 1
HOMEPAGE=		http://www.gnu.org/software/libidn/
@


1.19
log
@Update to libidn-1.27.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/03/21 08:45:15 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		libidn-1.27
@


1.18
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/11 10:50:10 espie Exp $
d5 3
a7 2
DISTNAME=		libidn-1.26
SHARED_LIBS=		idn 17.0	# .17.9
d15 2
a18 1
WANTLIB=		c
d25 1
d29 1
a29 1
	@@rm -f ${WRKSRC}/contrib/doxygen/*.orig
@


1.17
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/01/18 10:40:26 ajacoutot Exp $
a18 1
USE_LIBTOOL=		Yes
@


1.16
log
@Minor udate to libidn-1.26.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/07/11 13:16:16 naddy Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.15
log
@maintenance update to 1.25
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/03/23 11:01:11 ajacoutot Exp $
d5 2
a6 2
DISTNAME=		libidn-1.25
SHARED_LIBS=		idn 17.0	# .17.8
@


1.14
log
@Bugfix update to libidn-1.24.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/05/27 09:58:51 ajacoutot Exp $
d5 2
a6 2
DISTNAME=		libidn-1.24
SHARED_LIBS=		idn 17.0	# .17.5
d22 1
a26 2
USE_GROFF =		Yes

a27 2

USE_LIBTOOL=		Yes
@


1.13
log
@Update to libidn-1.22.

ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/15 19:45:59 espie Exp $
d5 1
a5 1
DISTNAME=		libidn-1.22
@


1.12
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/18 21:17:12 espie Exp $
d5 2
a6 2
DISTNAME=		libidn-1.19
SHARED_LIBS=		idn 17.0	# .17.2
@


1.11
log
@typoes, thx Alexandr Shadchin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/10/18 17:47:54 espie Exp $
d26 1
a26 1
USE_GROFF =	Yes
@


1.10
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/09/13 11:41:19 ajacoutot Exp $
d26 1
a26 1
			USE_GROFF =	Yes
@


1.9
log
@Major update to libidn-1.19.
Tested by landry@@ in a bulk, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/12/19 20:10:59 naddy Exp $
d26 1
@


1.8
log
@port cleanup and maintenance update to 1.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/09/26 05:05:40 bernd Exp $
d5 2
a6 2
DISTNAME=		libidn-1.11
SHARED_LIBS=		idn 16.30	# .16.40
@


1.7
log
@Update to libidn-1.1, mention the new license (GPLv3), drop maintainership.

Tested and ok steven@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/09/16 02:53:00 merdely Exp $
d5 2
a6 2
DISTNAME=		libidn-1.1
SHARED_LIBS=		idn 16.30
d17 1
a17 2
MASTER_SITES=		ftp://alpha.gnu.org/pub/gnu/libidn/ \
			http://josefsson.org/libidn/releases/
d21 1
d23 5
a27 1
CONFIGURE_ARGS=		${CONFIGURE_SHARED}
@


1.6
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/01/27 16:41:06 bernd Exp $
d5 2
a6 2
DISTNAME=		libidn-0.6.1
SHARED_LIBS=		idn 16.15
d11 1
a11 3
MAINTAINER=		Bernd Ahlers <bernd@@openbsd.org>

# GPL / LGPL
@


1.5
log
@- Update to libidn-0.6.1.
- MODGNU_SHARED_LIBS is not needed anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/01/06 12:24:55 bernd Exp $
d3 1
a3 1
COMMENT=		"internationalized string handling"
@


1.4
log
@SHARED_LIBS, USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/11/19 13:15:21 bernd Exp $
d5 2
a6 4
DISTNAME=		libidn-0.5.20
PKGNAME=		${DISTNAME}p1
SHARED_LIBS=		idn 16.13
MODGNU_SHARED_LIBS=	idn '-export-symbols-regex "^(idn|pr29_|punycode_|stringprep|tld_).*"'
@


1.3
log
@Unbreak build with automake 1.9 installed. Update patches while I'm here.

"looks good" sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/11/03 13:49:41 bernd Exp $
d3 1
a3 1
COMMENT=	"internationalized string handling"
d5 4
a8 3
DISTNAME=	libidn-0.5.20
PKGNAME=	${DISTNAME}p0
CATEGORIES=	devel
d10 2
a11 1
HOMEPAGE=	http://www.gnu.org/software/libidn/
d13 1
a13 1
MAINTAINER=	Bernd Ahlers <bernd@@openbsd.org>
d21 2
a22 2
MASTER_SITES=	ftp://alpha.gnu.org/pub/gnu/libidn/ \
		http://josefsson.org/libidn/releases/
@


1.2
log
@update to libidn-0.5.20

okay sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/10/02 15:37:33 bernd Exp $
d6 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	libidn-0.5.19
@


1.1.1.1
log
@import libidn-0.5.19

Libidn is a package for internationalized string handling based
on the Stringprep, Punycode, IDNA and TLD specifications.

help & ok sturm@@
@
text
@@
