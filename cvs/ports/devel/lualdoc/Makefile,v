head	1.18;
access;
symbols
	OPENBSD_6_1:1.18.0.2
	OPENBSD_6_1_BASE:1.18
	OPENBSD_6_0:1.15.0.4
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.15.0.2
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.13.0.4
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.12.0.2
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.10.0.2
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.8.0.2
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	dcoppa_20130522:1.1.1.1
	dcoppa:1.1.1;
locks; strict;
comment	@# @;


1.18
date	2016.11.17.09.57.51;	author dcoppa;	state Exp;
branches;
next	1.17;
commitid	rRlUVOhgZeIAEhX0;

1.17
date	2016.10.17.19.33.38;	author jca;	state Exp;
branches;
next	1.16;
commitid	W7zCESIhFDqeQRHq;

1.16
date	2016.08.26.07.51.49;	author dcoppa;	state Exp;
branches;
next	1.15;
commitid	5OohrJbZjfuDGFqX;

1.15
date	2015.12.29.19.49.40;	author jasper;	state Exp;
branches;
next	1.14;
commitid	qnWWfNxRwuFA0B7n;

1.14
date	2015.12.29.12.54.10;	author jasper;	state Exp;
branches;
next	1.13;
commitid	Z7BAKWlffCf6cwcy;

1.13
date	2015.04.05.13.31.13;	author sthen;	state Exp;
branches;
next	1.12;
commitid	1hQJnDR1GYYQ0MPE;

1.12
date	2014.11.02.13.18.19;	author dcoppa;	state Exp;
branches;
next	1.11;
commitid	w2qeCK6Si0jbDPSd;

1.11
date	2014.08.10.09.58.05;	author espie;	state Exp;
branches;
next	1.10;
commitid	jyyOLTDxRdjpw44n;

1.10
date	2014.07.10.16.54.37;	author sthen;	state Exp;
branches;
next	1.9;
commitid	VYYjucls6gChTQEw;

1.9
date	2014.07.10.11.06.15;	author rpe;	state Exp;
branches;
next	1.8;
commitid	zXOWyDxvWRmZFNNv;

1.8
date	2014.01.29.08.04.20;	author dcoppa;	state Exp;
branches;
next	1.7;

1.7
date	2013.12.02.16.25.08;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2013.11.12.15.00.25;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2013.09.23.14.11.12;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2013.08.13.11.44.56;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2013.06.28.12.44.53;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2013.06.17.13.47.08;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2013.05.22.10.56.31;	author dcoppa;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.05.22.10.56.31;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.18
log
@
Update to LDoc-1.4.6
@
text
@# $OpenBSD: Makefile,v 1.17 2016/10/17 19:33:38 jca Exp $

COMMENT =	LuaDoc-compatible documentation generation system

GH_ACCOUNT =	stevedonovan
GH_PROJECT =	LDoc
GH_TAGNAME =	1.4.6
PKGNAME =	lualdoc-${GH_TAGNAME}
CATEGORIES =	devel

HOMEPAGE =	http://stevedonovan.github.io/ldoc/

MAINTAINER =	David Coppa <dcoppa@@openbsd.org>

# MIT
PERMIT_PACKAGE_CDROM =Yes

MODULES =	lang/lua

MODLUA_RUN_DEPENDS =	devel/lua-penlight
MODLUA_SA =	Yes
MODLUA_VERSION = 5.2

NO_BUILD =	Yes
NO_TEST =	Yes

do-install:
	${INSTALL_DATA_DIR} ${MODLUA_DATADIR}/ldoc/builtin
	${INSTALL_DATA_DIR} ${MODLUA_DATADIR}/ldoc/html
	${INSTALL_DATA_DIR} ${MODLUA_DOCDIR}
	${SUBST_CMD} ${WRKSRC}/ldoc/markdown.lua
	${INSTALL_DATA} ${WRKSRC}/ldoc/*.{ld,lua} ${MODLUA_DATADIR}/ldoc/
	${INSTALL_DATA} ${WRKSRC}/ldoc/builtin/*.lua \
		${MODLUA_DATADIR}/ldoc/builtin/
	${INSTALL_DATA} ${WRKSRC}/ldoc/html/*.lua \
		${MODLUA_DATADIR}/ldoc/html/
	${INSTALL_DATA} ${WRKSRC}/doc/*.md ${MODLUA_DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/readme.md ${MODLUA_DOCDIR}
	${SUBST_PROGRAM} ${WRKSRC}/ldoc.lua ${PREFIX}/bin/ldoc

.include <bsd.port.mk>
@


1.17
log
@Stop packaging lualdoc as a library that supports lua FLAVORS.

It is a standalone tool so no need to have several versions of it.
Make it depend on lua52, since this is what x11/awesome uses.  Adapt
x11/awesome while here.

ok dcoppa@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2016/08/26 07:51:49 dcoppa Exp $
d7 1
a7 1
GH_TAGNAME =	1.4.5
a9 1
REVISION =	0
@


1.16
log
@
Update to LDoc-1.4.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/12/29 19:49:40 jasper Exp $
d10 1
d22 2
a25 1

d40 1
a40 2
	${SUBST_PROGRAM} \
		${WRKSRC}/ldoc.lua ${PREFIX}/bin/ldoc${MODLUA_DEP_VERSION}
@


1.15
log
@DISTNAME is set by bsd.port.mk for these ports now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2015/12/29 12:54:10 jasper Exp $
d7 1
a7 1
GH_TAGNAME =	1.4.3
@


1.14
log
@use GH_PROJECT to construct DISTNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2015/04/05 13:31:13 sthen Exp $
a7 1
DISTNAME =	${GH_PROJECT}-${GH_TAGNAME}
@


1.13
log
@drop GH_COMMIT lines which are hidden behind GH_TAGNAME,
discussed with a few in the room.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/11/02 13:18:19 dcoppa Exp $
d8 1
a8 1
DISTNAME =	LDoc-${GH_TAGNAME}
@


1.12
log
@
Update to LDoc-1.4.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2014/08/10 09:58:05 espie Exp $
a7 1
GH_COMMIT =	25fd0b6bed06ce87c62b7997c18a5ef9f8627f01
@


1.11
log
@use more specific version of SUBST_* where appropriate
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2014/07/10 16:54:37 sthen Exp $
d7 2
a8 2
GH_TAGNAME =	1.4.2
GH_COMMIT =	511dfe7df01f92da03c639c5f56495c0c31b6e2b
d32 1
@


1.10
log
@s/ldoc/LDoc/ in GH_PROJECT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2014/07/10 11:06:15 rpe Exp $
d39 2
a40 2
	${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} -m ${BINMODE} \
		-c ${WRKSRC}/ldoc.lua ${PREFIX}/bin/ldoc${MODLUA_DEP_VERSION}
@


1.9
log
@Move ports that used filename{url}sufx to fetch DISTFILES from
Github to GH_ACCOUNT, GH_PROJECT, GH_TAGNAME, GH_COMMIT.

OK sthen@@ jasper@@ aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2014/01/29 08:04:20 dcoppa Exp $
d6 1
a6 1
GH_PROJECT =	ldoc
@


1.8
log
@
Update to LDoc-1.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/12/02 16:25:08 espie Exp $
d5 6
a10 3
GH_VER =	1.4.2
DISTNAME =	LDoc-${GH_VER}
PKGNAME =	lualdoc-${GH_VER}
a20 3

MASTER_SITES =	https://github.com/stevedonovan/ldoc/archive/
DISTFILES=	${DISTNAME}{${GH_VER}}${EXTRACT_SUFX}
@


1.7
log
@remove redundancies with new filename{url}sufx scheme
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/11/12 15:00:25 sthen Exp $
d5 1
a5 1
GH_VER =	1.4.0
@


1.6
log
@switch github MASTER_SITES urls with the query-string hack to using
DISTFILES=myfilename{theirfilename} type syntax, using a unified DISTFILES
line so they can later be merged.  ok rpe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/09/23 14:11:12 dcoppa Exp $
d20 1
a20 1
DISTFILES=	${DISTNAME}${EXTRACT_SUFX}{${GH_VER}${EXTRACT_SUFX}}
@


1.5
log
@Update to LDoc-1.4.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/08/13 11:44:56 dcoppa Exp $
d5 3
a7 3
VER =		1.4.0
DISTNAME =	LDoc-${VER}
PKGNAME =	lualdoc-${VER}
d19 2
a20 1
MASTER_SITES =	https://github.com/stevedonovan/ldoc/archive/${VER}.tar.gz?bleh=/
@


1.4
log
@Fix HOMEPAGE and MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/06/28 12:44:53 dcoppa Exp $
d5 1
a5 1
VER =		1.3.13
a7 1
REVISION =	1
@


1.3
log
@
Fix version number
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/06/17 13:47:08 dcoppa Exp $
d8 1
a8 1
REVISION =	0
d11 1
a11 1
HOMEPAGE =	https://github.com/stevedonovan/LDoc/
d20 1
a20 1
MASTER_SITES =	${HOMEPAGE}archive/${VER}.tar.gz?bleh=/
@


1.2
log
@Update to LDoc-1.3.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/05/22 10:56:31 dcoppa Exp $
d8 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
VER =		1.3.12
@


1.1.1.1
log
@Import ports/devel/lualdoc.

LDoc is a second-generation documentation tool that can be used as
a replacement for LuaDoc.
LDoc can provide integrated documentation with traditional function
comments, any documents in Markdown format, and specified source
examples. Lua source in examples and the documents will be prettified.
It is mostly compatible with LuaDoc, except that certain workarounds
are no longer needed.

New dependency for an upcoming update to awesome-3.5.1

looks fine to jasper@@

@
text
@@
