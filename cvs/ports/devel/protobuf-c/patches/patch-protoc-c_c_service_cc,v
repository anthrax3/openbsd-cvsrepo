head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.10
	OPENBSD_6_2_BASE:1.1
	OPENBSD_6_1:1.1.0.8
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.6
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2015.06.12.10.59.47;	author dcoppa;	state Exp;
branches;
next	;
commitid	4UsGds4FfflHd4dY;


desc
@@


1.1
log
@
Bugfixing update to protobuf-c-1.0.2
@
text
@$OpenBSD$

commit 812ecf9326f61d330feed6d1f3d34a01ed1e127b
Author: Andrey Myznikov <andrey.myznikov@@gmail.com>
Date:   Wed Mar 11 01:51:48 2015 +0200

Fix incorrect 'Short version of service name' generation for
ProtobufCServiceDescriptor

--- protoc-c/c_service.cc.orig	Fri Jun 12 12:36:13 2015
+++ protoc-c/c_service.cc	Fri Jun 12 12:36:51 2015
@@@@ -224,6 +224,8 @@@@ void ServiceGenerator::GenerateServiceDescriptor(io::P
   }
   printer->Print(vars_, "};\n");
 
+  vars_["name"] = descriptor_->name();
+
   printer->Print(vars_, "const ProtobufCServiceDescriptor $lcfullname$__descriptor =\n"
                        "{\n"
 		       "  PROTOBUF_C__SERVICE_DESCRIPTOR_MAGIC,\n"
@
