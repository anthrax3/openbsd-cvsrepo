head	1.4;
access;
symbols
	OPENBSD_5_7:1.3.0.6
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.2.0.6
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.4
date	2015.06.05.20.36.24;	author stu;	state dead;
branches;
next	1.3;
commitid	1ycRSwHfoacdR4c8;

1.3
date	2013.11.14.09.21.18;	author stu;	state Exp;
branches;
next	1.2;

1.2
date	2012.03.09.14.15.32;	author stu;	state Exp;
branches;
next	1.1;

1.1
date	2011.11.04.11.45.21;	author stu;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to 1.17pl0.

Install improvements.
Patch went upstream.
New modules: cron, nettool, oauth.
@
text
@$OpenBSD: patch-examples_tepam_tepam_demo_tcl,v 1.3 2013/11/14 09:21:18 stu Exp $
--- examples/tepam/tepam_demo.tcl.orig	Sun Nov  3 06:57:31 2013
+++ examples/tepam/tepam_demo.tcl	Mon Nov  4 11:59:36 2013
@@@@ -189,7 +189,7 @@@@ proc OpenConsole {} {
       }
       # Search inside the *n.x envirement for TkCon ...
       set TkConPath ""
-      catch {set TkConPath [exec csh -f -c {which tkcon.tcl}]}
+      catch {set TkConPath [exec which tkcon]}
       # Search inide the Windows envirement for TkCon ...
       catch {
          package require registry
@


1.3
log
@Update to 1.15.
Some stuff went upstream.
Instead of doing all that ridiculous work in the Makefile,
I've moved it all to Tcllib's installer itself.
This should make future updates a lot less painful.

Thanks to Steve Havelka for distfile hosting.

ok landry@@; thanks zhuk@@
@
text
@d1 1
a1 1
$OpenBSD: patch-examples_tepam_tepam_demo_tcl,v 1.2 2012/03/09 14:15:32 stu Exp $
@


1.2
log
@Update to tcllib-1.14. Some patching went upstream.
Small update to index maker, added cvs marker to file.
Test failure: doctools-text-15.4; problem is in test, prog ok,
upstream notified.

Ok landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-examples_tepam_tepam_demo_tcl,v 1.1 2011/11/04 11:45:21 stu Exp $
--- examples/tepam/tepam_demo.tcl.orig	Mon Feb 27 18:15:09 2012
+++ examples/tepam/tepam_demo.tcl	Mon Feb 27 18:15:19 2012
@@@@ -162,7 +162,7 @@@@ proc OpenConsole {} {
d9 1
a9 1
+      catch {set TkConPath [exec csh -f -c {which tkcon}]}
d12 1
a12 1
       	package require registry
@


1.1
log
@Update to tcllib-1.13. Some new patches, some patches went upstream.
Move less-used apps to examples/tcllib/apps.
Stop writing and overwriting regress.log.

Ok sebastia@@
@
text
@d1 4
a4 16
$OpenBSD$
--- examples/tepam/tepam_demo.tcl.orig	Tue Jan 25 00:38:02 2011
+++ examples/tepam/tepam_demo.tcl	Thu Oct 13 13:41:51 2011
@@@@ -1,6 +1,7 @@@@
-#!/bin/sh
-# Evaluating the wish origin \
-exec `which wish` "$0" "$@@"
+#! /bin/sh
+# the next line restarts with tclsh \
+exec tclsh "$0" ${1+"$@@"}
+
 ##########################################################################
 # TEPAM - Tcl's Enhanced Procedure and Argument Manager
 ##########################################################################
@@@@ -161,7 +162,8 @@@@ proc OpenConsole {} {
          set OPT(slaveexit) "close"
d7 1
a8 1
+      set TkConPath ""
a12 19
@@@@ -183,15 +185,15 @@@@ proc OpenConsole {} {
          }
          tkcon show
       } else {
-         if {$tcl_platform(platform)=={windows}} {
+         if {$::tcl_platform(platform)=={windows}} {
             console show
          } else {
-            error "Cannot source tkcon.tcl."
+            error "Cannot source tkcon."
          }
       }
    } else {
       if {[catch {wm deiconify $::tkcon::PRIV(root)}]} {
-         if {$tcl_platform(platform)=={windows}} {
+         if {$::tcl_platform(platform)=={windows}} {
             console show
          } else {
             error "Cannot deiconify tkcon!"
@

