head	1.2;
access;
symbols
	OPENBSD_4_8:1.1.0.6
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.4
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.01.05.16.27.24;	author stu;	state dead;
branches;
next	1.1;

1.1
date	2009.03.19.16.54.32;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Upgrade to 1.12. Update to newer Tcl layout,
Remove unecessary top-level "tcllib" dir, port
Makefile improvements, many patches now upstream.

ok landry@@, sebastiap@@
@
text
@$OpenBSD: patch-modules_doctools_mpformats__nroff_tcl,v 1.1 2009/03/19 16:54:32 sthen Exp $
--- modules/doctools/mpformats/_nroff.tcl.orig	Fri Dec 12 23:10:24 2008
+++ modules/doctools/mpformats/_nroff.tcl	Thu Jan 22 12:43:15 2009
@@@@ -33,6 +33,7 @@@@ proc nr_title   {text}      {return "\n.TH $text"}
 proc nr_include {file}      {return "\n.so $file"}
 proc nr_bolds   {}          {return \n.BS}
 proc nr_bolde   {}          {return \n.BE}
+proc nr_read    {fn}        {return [nroffMarkup [dt_read $fn]]}
 
 proc nr_section {name} {
     if {![regexp {[ 	]} $name]} {
@@@@ -60,11 +61,14 @@@@ proc nr_subsection {name}   {
 #
 
 global   markupMap
-set      markupMap [list "\\" "\1\\"]
+set      markupMap [list \
+	"\\"   "\1\\" \
+	"'"    "\1'" \
+	"\\\\" "\\"]
 global   finalMap
 set      finalMap [list \
 	"\1\\" "\\" \
-        "\1'" "'" \
+	"\1'"  "'" \
 	"\\"   "\\\\"]
 global   textMap
 set      textMap [list "\\" "\\\\"]
@


1.1
log
@update to 1.11.1, from maintainer Stuart Cassoff
@
text
@d1 1
a1 1
$OpenBSD$
@

