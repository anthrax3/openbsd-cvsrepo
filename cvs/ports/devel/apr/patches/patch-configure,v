head	1.11;
access;
symbols
	OPENBSD_6_2:1.11.0.2
	OPENBSD_6_2_BASE:1.11
	OPENBSD_6_1:1.10.0.14
	OPENBSD_6_1_BASE:1.10
	OPENBSD_6_0:1.10.0.12
	OPENBSD_6_0_BASE:1.10
	OPENBSD_5_9:1.10.0.8
	OPENBSD_5_9_BASE:1.10
	OPENBSD_5_8:1.10.0.10
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.10.0.6
	OPENBSD_5_7_BASE:1.10
	OPENBSD_5_6:1.10.0.4
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.10.0.2
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.9.0.6
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.9.0.4
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.9.0.2
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.18
	OPENBSD_5_0:1.8.0.16
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.8.0.14
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.8.0.12
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.8.0.10
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.8
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.6
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.4
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.2
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.6.0.2
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.3.0.10
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.8
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.6
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	alek_20041128:1.1.1.1
	alek:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2017.08.11.14.23.18;	author danj;	state Exp;
branches;
next	1.10;
commitid	a7ElhXpbiPpBcjYf;

1.10
date	2013.11.03.07.52.01;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2012.04.28.09.48.20;	author stsp;	state Exp;
branches;
next	1.8;

1.8
date	2007.10.30.16.47.50;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2007.09.20.10.17.21;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2007.07.05.16.01.28;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2007.04.01.20.03.07;	author kurt;	state Exp;
branches;
next	1.4;

1.4
date	2007.03.24.13.46.47;	author todd;	state Exp;
branches;
next	1.3;

1.3
date	2005.01.20.18.48.54;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2004.12.09.03.34.22;	author kevlo;	state dead;
branches;
next	1.1;

1.1
date	2004.11.28.14.27.38;	author alek;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.11.28.14.27.38;	author alek;	state Exp;
branches;
next	;


desc
@@


1.11
log
@regen patches, noticed while building git TDEP

ok stsp@@ (maintainer)
@
text
@$OpenBSD: patch-configure,v 1.10 2013/11/03 07:52:01 ajacoutot Exp $
Index: configure
--- configure.orig
+++ configure
@@@@ -6609,6 +6609,11 @@@@ if test "x$apr_preload_done" != "xyes" ; then
         ;;
     *-openbsd*)
 
+  if test -z "$apr_lock_method"; then
+    test "x$silent" != "xyes" && echo "  setting apr_lock_method to \"USE_FLOCK_SERIALIZE\""
+    apr_lock_method="USE_FLOCK_SERIALIZE"
+  fi
+
   if test "x$CPPFLAGS" = "x"; then
     test "x$silent" != "xyes" && echo "  setting CPPFLAGS to \"-D_POSIX_THREADS\""
     CPPFLAGS="-D_POSIX_THREADS"
@@@@ -14176,7 +14181,7 @@@@ esac
 LIBTOOL_DEPS=$ltmain
 
 # Always use our own libtool.
-LIBTOOL='$(SHELL) $(apr_builddir)/libtool'
+#LIBTOOL='$(SHELL) $(apr_builddir)/libtool'
 
 
 
@@@@ -26265,7 +26270,7 @@@@ for ac_spec in func:semget func:semctl define:SEM_UNDO
 done
 if test ".$ac_rc" = .yes; then
     :
-    hassysvser="1"
+    hassysvser="0"
 else
     :
     hassysvser="0"
@


1.10
log
@No need for /-lpthread/-pthread
@
text
@d1 5
a5 4
$OpenBSD: patch-configure,v 1.9 2012/04/28 09:48:20 stsp Exp $
--- configure.orig	Wed Feb  8 00:17:57 2012
+++ configure	Fri Apr 27 09:51:08 2012
@@@@ -6633,6 +6633,11 @@@@ if test "x$apr_preload_done" != "xyes" ; then
d17 2
a18 2
@@@@ -13934,7 +13939,7 @@@@ fi
 LIBTOOL_DEPS="$ltmain"
d26 1
a26 1
@@@@ -25452,7 +25457,7 @@@@ for ac_spec in func:semget func:semctl define:SEM_UNDO
@


1.9
log
@Update to APR-1.4.6. Enable threads by default and remove the 'mt' flavour.
Grab maintainership.
ok sthen
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.8 2007/10/30 16:47:50 steven Exp $
a24 18
@@@@ -19343,7 +19348,7 @@@@ if ${apr_cv_pthreads_lib+:} false; then :
 else
 
   apr_ptc_libs=$LIBS
-  for lib in -lpthread -lpthreads -lc_r; do
+  for lib in -pthread -lpthread -lpthreads -lc_r; do
     LIBS="$apr_ptc_libs $lib"
 
 if test "$cross_compiling" = yes; then :
@@@@ -19591,7 +19596,7 @@@@ if ${apr_cv_pthreads_lib+:} false; then :
 else
 
   apr_ptc_libs=$LIBS
-  for lib in -lpthread -lpthreads -lc_r; do
+  for lib in -pthread -lpthread -lpthreads -lc_r; do
     LIBS="$apr_ptc_libs $lib"
 
 if test "$cross_compiling" = yes; then :
@


1.8
log
@use the libtool we want, and don't install your own.
also make apr-config --apr-libtool return the right thing.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.7 2007/09/20 10:17:21 steven Exp $
--- configure.orig	Tue Sep  4 03:42:02 2007
+++ configure	Tue Oct 30 17:41:25 2007
@@@@ -4326,6 +4326,11 @@@@ if test "x$apr_preload_done" != "xyes" ; then
d16 2
a17 2
@@@@ -23954,7 +23959,7 @@@@ fi
 LIBTOOL_DEPS="$ac_aux_dir/ltmain.sh"
a22 1
 # Prevent multiple expansion
d24 2
a25 1
@@@@ -26156,7 +26161,7 @@@@ if test "${apr_cv_pthreads_lib+set}" = set; then
d33 2
a34 2
 if test "$cross_compiling" = yes; then
@@@@ -26714,7 +26719,7 @@@@ if test "${apr_cv_pthreads_lib+set}" = set; then
d42 2
a43 2
 if test "$cross_compiling" = yes; then
@@@@ -39676,7 +39681,7 @@@@ for ac_spec in func:semget func:semctl define:SEM_UNDO
a51 9
@@@@ -43711,7 +43716,7 @@@@ esac
 
 
 
-                                                            ac_config_files="$ac_config_files Makefile include/apr.h build/apr_rules.mk build/pkg/pkginfo apr-$APR_MAJOR_VERSION-config:apr-config.in apr.pc"
+                                                            ac_config_files="$ac_config_files Makefile include/apr.h build/apr_rules.mk build/pkg/pkginfo apr-$APR_MAJOR_VERSION-config:apr-config.in apr.pc apr-mt.pc"
 
 
 if test -d $srcdir/test; then
@


1.7
log
@update to 1.2.11

tested and ok merdely@@, simon@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.6 2007/07/05 16:01:28 steven Exp $
d3 1
a3 1
+++ configure	Sat Sep 15 21:15:35 2007
d16 9
@


1.6
log
@update to 1.2.9

ok simon@@
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.5 2007/04/01 20:03:07 kurt Exp $
--- configure.orig	Tue Jun  5 00:05:31 2007
+++ configure	Tue Jun 26 08:30:40 2007
d34 1
a34 1
@@@@ -39542,7 +39547,7 @@@@ for ac_spec in func:semget func:semctl define:SEM_UNDO
d43 1
a43 1
@@@@ -43577,7 +43582,7 @@@@ esac
@


1.5
log
@per POSIX accept(2) can return EINTR so have apr_socket_accept() retry
when this happens. http://issues.apache.org/bugzilla/show_bug.cgi?id=41975
fixes issues noticed while testing tomcat-native. regen patches and distinfo
while here.  "looks ok" steven@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.4 2007/03/24 13:46:47 todd Exp $
--- configure.orig	Sun Apr  9 16:32:36 2006
+++ configure	Wed Mar 28 09:57:24 2007
@@@@ -4317,6 +4317,11 @@@@ if test "x$apr_preload_done" != "xyes" ; then
d16 1
a16 1
@@@@ -26147,7 +26152,7 @@@@ if test "${apr_cv_pthreads_lib+set}" = set; then
d25 1
a25 1
@@@@ -26705,7 +26710,7 @@@@ if test "${apr_cv_pthreads_lib+set}" = set; then
d34 1
a34 1
@@@@ -39523,7 +39528,7 @@@@ for ac_spec in func:semget func:semctl define:SEM_UNDO
d43 1
a43 1
@@@@ -43558,7 +43563,7 @@@@ esac
@


1.4
log
@add mt flavor that can co-exist with the default non-mt flavor
ok kurt@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
+++ configure	Fri Feb  9 16:17:35 2007
@@@@ -4317,6 +4317,11 @@@@ if test "x$apr_preload_done" != "xyes" ;
d16 1
a16 1
@@@@ -26147,7 +26152,7 @@@@ if test "${apr_cv_pthreads_lib+set}" = s
d25 1
a25 1
@@@@ -26705,7 +26710,7 @@@@ if test "${apr_cv_pthreads_lib+set}" = s
d34 1
a34 1
@@@@ -39523,7 +39528,7 @@@@ for ac_spec in func:semget func:semctl d
@


1.3
log
@- Disable threads
- Bump PKGNAME

help & ok msf@@
@
text
@d2 3
a4 3
--- configure.orig	Wed Nov 17 02:17:20 2004
+++ configure	Tue Jan 18 16:29:35 2005
@@@@ -4290,11 +4290,6 @@@@ if test "x$apr_preload_done" != "xyes" ;
d8 10
a17 13
-  if test "x$CPPFLAGS" = "x"; then
-    test "x$silent" != "xyes" && echo "  setting CPPFLAGS to \"-D_POSIX_THREADS\""
-    CPPFLAGS="-D_POSIX_THREADS"
-  else
-    apr_addto_bugger="-D_POSIX_THREADS"
     for i in $apr_addto_bugger; do
       apr_addto_duplicate="0"
       for j in $CPPFLAGS; do
@@@@ -4308,7 +4303,6 @@@@ if test "x$apr_preload_done" != "xyes" ;
         CPPFLAGS="$CPPFLAGS $i"
       fi
     done
-  fi
d19 33
a51 2
         # binding to an ephemeral port fails on OpenBSD so override
         # the test for O_NONBLOCK inheritance across accept().
@


1.2
log
@oops, forgot to remove this file.
@
text
@d1 6
a6 5
$OpenBSD: patch-configure,v 1.1 2004/11/28 14:27:38 alek Exp $
--- configure.orig	Tue Nov  2 22:11:20 2004
+++ configure	Tue Nov  2 22:11:40 2004
@@@@ -14574,7 +14574,7 @@@@ if test "${apr_cv_pthreads_lib+set}" = s
 else
d8 13
a20 4
   apr_ptc_libs=$LIBS
-  for lib in -lpthread -lpthreads -lc_r; do
+  for lib in -pthread -lpthread -lpthreads -lc_r; do
     LIBS="$apr_ptc_libs $lib"
d22 2
a23 10
 if test "$cross_compiling" = yes; then
@@@@ -15132,7 +15132,7 @@@@ if test "${apr_cv_pthreads_lib+set}" = s
 else
 
   apr_ptc_libs=$LIBS
-  for lib in -lpthread -lpthreads -lc_r; do
+  for lib in -pthread -lpthread -lpthreads -lc_r; do
     LIBS="$apr_ptc_libs $lib"
 
 if test "$cross_compiling" = yes; then
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Import APR 1.0.1

The Apache Portable Run-time mission is to provide a library of
routines that allows programmers to write a program once and be
able to compile it anywhere.

ok naddy@@
@
text
@@
