head	1.3;
access;
symbols
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2007.09.20.10.17.21;	author steven;	state dead;
branches;
next	1.2;

1.2
date	2007.04.01.20.03.07;	author kurt;	state Exp;
branches;
next	1.1;

1.1
date	2007.03.24.13.46.47;	author todd;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to 1.2.11

tested and ok merdely@@, simon@@
@
text
@$OpenBSD: patch-user_unix_groupinfo_c,v 1.2 2007/04/01 20:03:07 kurt Exp $
--- user/unix/groupinfo.c.orig	Wed Aug 24 05:42:42 2005
+++ user/unix/groupinfo.c	Wed Mar 28 09:57:24 2007
@@@@ -35,7 +35,7 @@@@ APR_DECLARE(apr_status_t) apr_gid_name_get(char **grou
 
 #if APR_HAS_THREADS && defined(_POSIX_THREAD_SAFE_FUNCTIONS) && defined(HAVE_GETGRGID_R)
     struct group grp;
-    char grbuf[512];
+    char grbuf[3072];
     apr_status_t rv;
 
     /* See comment in getpwnam_safe on error handling. */
@@@@ -63,7 +63,7 @@@@ APR_DECLARE(apr_status_t) apr_gid_get(apr_gid_t *group
 
 #if APR_HAS_THREADS && defined(_POSIX_THREAD_SAFE_FUNCTIONS) && defined(HAVE_GETGRNAM_R)
     struct group grp;
-    char grbuf[512];
+    char grbuf[3072];
     apr_status_t rv;
 
     /* See comment in getpwnam_safe on error handling. */
@


1.2
log
@per POSIX accept(2) can return EINTR so have apr_socket_accept() retry
when this happens. http://issues.apache.org/bugzilla/show_bug.cgi?id=41975
fixes issues noticed while testing tomcat-native. regen patches and distinfo
while here.  "looks ok" steven@@
@
text
@d1 1
a1 1
$OpenBSD: patch-user_unix_groupinfo_c,v 1.1 2007/03/24 13:46:47 todd Exp $
@


1.1
log
@add mt flavor that can co-exist with the default non-mt flavor
ok kurt@@
@
text
@d1 4
a4 4
$OpenBSD$
--- user/unix/groupinfo.c.orig	Wed Aug 24 04:42:42 2005
+++ user/unix/groupinfo.c	Wed Feb  7 18:14:53 2007
@@@@ -35,7 +35,7 @@@@ APR_DECLARE(apr_status_t) apr_gid_name_g
d13 1
a13 1
@@@@ -63,7 +63,7 @@@@ APR_DECLARE(apr_status_t) apr_gid_get(ap
@

