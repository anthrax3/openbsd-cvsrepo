head	1.7;
access;
symbols
	OPENBSD_3_7:1.6.0.2
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.5.0.2
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	todd_20030131:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2005.05.24.21.38.07;	author marcm;	state dead;
branches;
next	1.6;

1.6
date	2004.12.10.20.33.59;	author marcm;	state Exp;
branches;
next	1.5;

1.5
date	2004.05.06.06.02.31;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.10.07.05.47.57;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.08.06.15.39.17;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.12.19.35.56;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.31.18.25.37;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.31.18.25.37;	author todd;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Update to 2.12.2 for Gnome 2.10 platform.
@
text
@--- ltmain.sh.orig	Wed Dec  1 14:35:33 2004
+++ ltmain.sh	Wed Dec  1 14:37:31 2004
@@@@ -1857,9 +1857,12 @@@@
 	  if test "$linkmode,$pass" = "prog,link"; then
 	    compile_deplibs="$deplib $compile_deplibs"
 	    finalize_deplibs="$deplib $finalize_deplibs"
-	  else
-	    deplibs="$deplib $deplibs"
+	    continue
 	  fi
+	  if test "$linkmode" = "lib"; then
+	      newdependency_libs="$deplib $newdependency_libs"
+	  fi
+	  deplibs="$deplib $deplibs"
 	  continue
 	  ;;
 	-l*)
@@@@ -2274,10 +2277,6 @@@@
 	link_static=no # Whether the deplib will be linked statically
 	if test -n "$library_names" &&
 	   { test "$prefer_static_libs" = no || test -z "$old_library"; }; then
-	  if test "$installed" = no; then
-	    notinst_deplibs="$notinst_deplibs $lib"
-	    need_relink=yes
-	  fi
 	  # This is a shared library
 
 	  # Warn about portability, can't link against -module's on
@@@@ -5827,40 +5826,6 @@@@
     # Exit here if they wanted silent mode.
     test "$show" = : && exit $EXIT_SUCCESS
 
-    $echo "----------------------------------------------------------------------"
-    $echo "Libraries have been installed in:"
-    for libdir in $libdirs; do
-      $echo "   $libdir"
-    done
-    $echo
-    $echo "If you ever happen to want to link against installed libraries"
-    $echo "in a given directory, LIBDIR, you must either use libtool, and"
-    $echo "specify the full pathname of the library, or use the \`-LLIBDIR'"
-    $echo "flag during linking and do at least one of the following:"
-    if test -n "$shlibpath_var"; then
-      $echo "   - add LIBDIR to the \`$shlibpath_var' environment variable"
-      $echo "     during execution"
-    fi
-    if test -n "$runpath_var"; then
-      $echo "   - add LIBDIR to the \`$runpath_var' environment variable"
-      $echo "     during linking"
-    fi
-    if test -n "$hardcode_libdir_flag_spec"; then
-      libdir=LIBDIR
-      eval flag=\"$hardcode_libdir_flag_spec\"
-
-      $echo "   - use the \`$flag' linker flag"
-    fi
-    if test -n "$admincmds"; then
-      $echo "   - have your system administrator run these commands:$admincmds"
-    fi
-    if test -f /etc/ld.so.conf; then
-      $echo "   - have your system administrator add LIBDIR to \`/etc/ld.so.conf'"
-    fi
-    $echo
-    $echo "See any operating system documentation about shared libraries for"
-    $echo "more information, such as the ld(1) and ld.so(8) manual pages."
-    $echo "----------------------------------------------------------------------"
     exit $EXIT_SUCCESS
     ;;
 
@


1.6
log
@Update the supporting Gnome ports to their Gnome 2.8 versions.

ORBit2      2.10.2 -> 2.12.0
atk          1.6.1 -> 1.8.0
gconf-editor 2.6.2 -> 2.8.2
gconf2       2.6.2 -> 2.8.1
libIDL       0.8.3 -> 0.8.4
libgsf      1.10.0 -> 1.11.1
libgtop2     2.6.0 -> 2.8.1
libwnck      2.6.2 -> 2.8.1
pango        1.4.1 -> 1.6.0
startup-notification 0.5 -> 0.7

Real work done by Francois Briere.
@
text
@@


1.5
log
@Update to ORBit2-2.10.1.

This update fixes a longstanding bug that made Gnome 2 not play well
with macppc and sparc* arches.  Additionally, it introduces a new patch
scheme for libtool since the later libtools recognize -pthread... well
mostly anyway.
@
text
@d1 3
a3 4
$OpenBSD: patch-ltmain_sh,v 1.4 2003/10/07 05:47:57 marcm Exp $
--- ltmain.sh.orig	2004-02-12 03:45:26.000000000 -0800
+++ ltmain.sh	2004-05-02 10:11:56.000000000 -0700
@@@@ -1847,9 +1847,12 @@@@ EOF
d12 1
a12 1
+	    newdependency_libs="$deplib $newdependency_libs"
d18 1
a18 1
@@@@ -2262,10 +2265,6 @@@@ EOF
d27 3
a29 3
 	
       # Warn about portability, can't link against -module's on some systems (darwin)
@@@@ -5804,40 +5803,6 @@@@ relink_command=\"$relink_command\""
d31 1
a31 1
     test "$show" = : && exit 0
d67 1
a67 1
     exit 0
@


1.4
log
@Update GNOME support ports to their Gnome 2.4 versions...

ORBit2    2.6.3 -> 2.8.1
gconf2    2.2.1 -> 2.4.0.1
libgtop2  2.0.2 -> 2.0.5
libwnck   2.2.2 -> 2.4.0.1
vte       0.10.29 -> 0.11.10

Also removes devel/linc since it has been rolled into devel/ORBit2.
@
text
@d1 10
a10 22
$OpenBSD: patch-ltmain_sh,v 1.1.1.1 2003/01/31 18:25:37 todd Exp $
--- ltmain.sh.orig	Mon Jun  9 02:22:32 2003
+++ ltmain.sh	Sun Jul  6 23:10:08 2003
@@@@ -1290,6 +1290,17 @@@@ EOF
 	continue
 	;;
 
+      -pthread)
+        case $host in
+        *-*-openbsd*)
+          deplibs="$deplibs $arg"
+          ;;
+        *)
+          continue
+          ;;
+        esac
+        ;;
+
       -module)
 	module=yes
 	continue
@@@@ -1961,6 +1972,19 @@@@ EOF
d12 4
d18 2
a19 17
+	-pthread)
+	  case $linkmode in
+	  lib)
+	    deplibs="$deplib $deplibs"
+	    newdependency_libs="$deplib $newdependency_libs"
+	    ;;
+	  prog)
+	    compile_deplibs="$deplib $compile_deplibs"
+	    finalize_deplibs="$deplib $finalize_deplibs"
+	    ;;
+	  esac
+	  continue
+	  ;;
 	%DEPLIBS%)
 	  alldeplibs=yes
 	  continue
@@@@ -2209,10 +2233,6 @@@@ EOF
d30 1
a30 1
@@@@ -5699,40 +5719,6 @@@@ relink_command=\"$relink_command\""
@


1.3
log
@Second half of messed up ORBit2 update.
@
text
@d1 4
a4 4
$OpenBSD: patch-ltmain_sh,v 1.2 2003/06/12 19:35:56 marcm Exp $
--- ltmain.sh.orig	2003-07-15 04:00:54.000000000 -0700
+++ ltmain.sh	2003-07-29 23:23:50.000000000 -0700
@@@@ -1073,6 +1073,17 @@@@ compiler."
d22 1
a22 1
@@@@ -1530,6 +1541,19 @@@@ compiler."
d42 4
a45 4
@@@@ -1775,10 +1799,6 @@@@ compiler."
 	    continue
 	  fi
 
d50 4
a53 4
 
 	  if test -n "$old_archive_from_expsyms_cmds"; then
 	    # figure out the soname
@@@@ -4526,40 +4546,6 @@@@ relink_command=\"$relink_command\""
d57 2
a58 2
-    echo "----------------------------------------------------------------------"
-    echo "Libraries have been installed in:"
d60 1
a60 1
-      echo "   $libdir"
d62 5
a66 5
-    echo
-    echo "If you ever happen to want to link against installed libraries"
-    echo "in a given directory, LIBDIR, you must either use libtool, and"
-    echo "specify the full pathname of the library, or use the \`-LLIBDIR'"
-    echo "flag during linking and do at least one of the following:"
d68 2
a69 2
-      echo "   - add LIBDIR to the \`$shlibpath_var' environment variable"
-      echo "     during execution"
d72 2
a73 2
-      echo "   - add LIBDIR to the \`$runpath_var' environment variable"
-      echo "     during linking"
d79 1
a79 1
-      echo "   - use the \`$flag' linker flag"
d82 1
a82 1
-      echo "   - have your system administrator run these commands:$admincmds"
d85 1
a85 1
-      echo "   - have your system administrator add LIBDIR to \`/etc/ld.so.conf'"
d87 4
a90 4
-    echo
-    echo "See any operating system documentation about shared libraries for"
-    echo "more information, such as the ld(1) and ld.so(8) manual pages."
-    echo "----------------------------------------------------------------------"
@


1.2
log
@Update to 2.6.1 in support if Gnome 2.2.1.

ok jolan@@
@
text
@d1 4
a4 4
$OpenBSD: patch-ltmain_sh,v 1.1.1.1 2003/01/31 18:25:37 todd Exp $
--- ltmain.sh.orig	Fri Mar 14 07:58:31 2003
+++ ltmain.sh	Fri Apr  4 22:00:29 2003
@@@@ -1082,6 +1082,17 @@@@ compiler."
d22 1
a22 1
@@@@ -1522,6 +1533,9 @@@@ compiler."
d27 10
d42 1
a42 1
@@@@ -1767,11 +1781,6 @@@@ compiler."
d50 1
a50 1
-
d53 1
a53 2
 	    set dummy $library_names
@@@@ -4575,40 +4584,6 @@@@ relink_command=\"$relink_command\""
d55 1
a55 1
     test "$show" = ":" && exit 0
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- ltmain.sh.orig	Mon May 27 08:42:29 2002
+++ ltmain.sh	Tue Jul 16 21:53:05 2002
@@@@ -1071,6 +1071,17 @@@@ compiler."
d22 1
a22 1
@@@@ -1507,6 +1518,9 @@@@ compiler."
d32 1
a32 1
@@@@ -1748,11 +1762,6 @@@@ compiler."
d44 1
a44 1
@@@@ -4498,40 +4507,6 @@@@ relink_command=\"$relink_command\""
@


1.1.1.1
log
@Import ORBit2-2.4.4
--
ORBit is a high-performance CORBA (Common Object Request Broker
Architecture) ORB (object request broker). It allows programs to
send requests and receive replies from other programs, regardless
of the locations of the two programs. CORBA is an architecture that
enables communication between program objects, regardless of the
programming language they're written in or the operating system they
run on.

WWW: http://www.labs.redhat.com/orbit/

From marcm for gnome2
@
text
@@
