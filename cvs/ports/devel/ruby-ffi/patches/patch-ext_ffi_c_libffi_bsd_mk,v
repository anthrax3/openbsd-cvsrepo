head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.16
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.14
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.12
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.8
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.10
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.6
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.1.1.1.0.10
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.8
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.6
	OPENBSD_5_0:1.1.1.1.0.4
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.2
	OPENBSD_4_9_BASE:1.1.1.1
	jeremy_2010-Dec-20:1.1.1.1
	jeremy:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2013.11.03.07.52.02;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2013.03.08.10.41.26;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.20.18.04.16;	author jeremy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.12.20.18.04.16;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.3
log
@No need for /-lpthread/-pthread
@
text
@$OpenBSD: patch-ext_ffi_c_libffi_bsd_mk,v 1.2 2013/03/08 10:41:26 jasper Exp $
--- ext/ffi_c/libffi.bsd.mk.orig	Thu Jan  1 01:00:00 1970
+++ ext/ffi_c/libffi.bsd.mk	Fri Feb 15 19:13:36 2013
@@@@ -16,11 +16,11 @@@@ LIBFFI_BUILD_DIR = ${.CURDIR}/libffi-${arch}
 .endif
 
 
-LIBFFI = ${LIBFFI_BUILD_DIR}/.libs/libffi_convenience.a
+LIBFFI = -lffi
 LIBFFI_CONFIGURE = ${LIBFFI_SRC_DIR}/configure --disable-static \
 	--with-pic=yes --disable-dependency-tracking
 
-$(OBJS):	${LIBFFI}
+$(OBJS):
 
 $(LIBFFI):		
 	@@mkdir -p ${LIBFFI_BUILD_DIR}
@


1.2
log
@- update to ruby-ffi-1.2.0

ok jeremy@@
@
text
@d1 1
a1 1
$OpenBSD: patch-ext_ffi_c_libffi_bsd_mk,v 1.1.1.1 2010/12/20 18:04:16 jeremy Exp $
a3 9
@@@@ -4,7 +4,7 @@@@
 #
 
 INCFLAGS += -I${LIBFFI_BUILD_DIR}/include
-LOCAL_LIBS += ${LIBFFI} -lpthread
+LOCAL_LIBS += ${LIBFFI} -pthread
 
 LIBFFI_CFLAGS = ${FFI_MMAP_EXEC} -pthread
 LIBFFI_BUILD_DIR = ${.CURDIR}/libffi-${arch}
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- ext/ffi_c/libffi.bsd.mk.orig	Fri Dec 10 11:21:57 2010
+++ ext/ffi_c/libffi.bsd.mk	Fri Dec 10 11:21:38 2010
d12 2
a13 2
 LIBFFI_BUILD_DIR = ${.CURDIR}/libffi
@@@@ -16,11 +16,11 @@@@ LIBFFI_BUILD_DIR = ${.CURDIR}/libffi
@


1.1.1.1
log
@Import ruby-ffi 0.6.3

Ruby-FFI is a ruby extension for programmatically loading dynamic
libraries, binding functions within them, and calling those functions
from Ruby code. Moreover, a Ruby-FFI extension works without changes on
Ruby and JRuby.

* It has a very intuitive DSL
* It supports all C native types
* It supports C structs (also nested), enums and global variables
* It supports callbacks
* It has smart methods to handle memory management of pointers and
  structs
@
text
@@
