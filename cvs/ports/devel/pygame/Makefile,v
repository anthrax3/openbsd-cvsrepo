head	1.32;
access;
symbols
	OPENBSD_6_1:1.32.0.4
	OPENBSD_6_1_BASE:1.32
	OPENBSD_6_0:1.32.0.2
	OPENBSD_6_0_BASE:1.32
	OPENBSD_5_9:1.31.0.2
	OPENBSD_5_9_BASE:1.31
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.30.0.8
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.30.0.6
	OPENBSD_5_6_BASE:1.30
	OPENBSD_5_5:1.30.0.4
	OPENBSD_5_5_BASE:1.30
	OPENBSD_5_4:1.30.0.2
	OPENBSD_5_4_BASE:1.30
	OPENBSD_5_3:1.29.0.6
	OPENBSD_5_3_BASE:1.29
	OPENBSD_5_2:1.29.0.4
	OPENBSD_5_2_BASE:1.29
	OPENBSD_5_1_BASE:1.29
	OPENBSD_5_1:1.29.0.2
	OPENBSD_5_0:1.28.0.2
	OPENBSD_5_0_BASE:1.28
	OPENBSD_4_9:1.27.0.2
	OPENBSD_4_9_BASE:1.27
	OPENBSD_4_8:1.23.0.4
	OPENBSD_4_8_BASE:1.23
	OPENBSD_4_7:1.23.0.2
	OPENBSD_4_7_BASE:1.23
	OPENBSD_4_6:1.21.0.2
	OPENBSD_4_6_BASE:1.21
	OPENBSD_4_5:1.18.0.6
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.4
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.16.0.4
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.16.0.2
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.11.0.2
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.10.0.2
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.8.0.4
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.5.0.2
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.1.1.1.0.2
	OPENBSD_3_4_BASE:1.1.1.1
	jolan_2003-aug-08:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.32
date	2016.03.20.16.12.23;	author naddy;	state Exp;
branches;
next	1.31;
commitid	guiZq8cnNbVyyHzx;

1.31
date	2015.07.07.22.29.14;	author bcallah;	state Exp;
branches;
next	1.30;
commitid	xO7DBsmmJuhpe8bQ;

1.30
date	2013.03.11.10.50.27;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2011.09.16.09.24.56;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2011.06.08.17.39.26;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2010.11.15.19.46.08;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.11.08.10.28.22;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2010.10.24.21.11.02;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.08.30.22.24.16;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2009.09.06.10.46.25;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.08.10.06.31.08;	author kili;	state Exp;
branches;
next	1.21;

1.21
date	2009.04.28.21.10.08;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.04.09.22.49.39;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2009.03.11.21.16.06;	author bernd;	state Exp;
branches;
next	1.18;

1.18
date	2007.10.08.08.22.40;	author steven;	state Exp;
branches;
next	1.17;

1.17
date	2007.09.16.02.53.12;	author merdely;	state Exp;
branches;
next	1.16;

1.16
date	2006.11.11.21.04.27;	author steven;	state Exp;
branches;
next	1.15;

1.15
date	2006.10.19.00.35.04;	author pvalchev;	state Exp;
branches;
next	1.14;

1.14
date	2006.10.18.18.40.27;	author pvalchev;	state Exp;
branches;
next	1.13;

1.13
date	2006.10.17.23.31.12;	author alek;	state Exp;
branches;
next	1.12;

1.12
date	2006.10.06.14.24.12;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2006.06.03.09.37.09;	author alek;	state Exp;
branches;
next	1.10;

1.10
date	2006.02.07.11.57.19;	author bernd;	state Exp;
branches;
next	1.9;

1.9
date	2006.02.07.09.46.27;	author xsa;	state Exp;
branches;
next	1.8;

1.8
date	2005.03.14.15.12.56;	author xsa;	state Exp;
branches;
next	1.7;

1.7
date	2005.02.28.07.36.49;	author pvalchev;	state Exp;
branches;
next	1.6;

1.6
date	2004.11.24.00.11.03;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2004.08.03.14.27.33;	author xsa;	state Exp;
branches;
next	1.4;

1.4
date	2004.04.10.23.08.11;	author xsa;	state Exp;
branches;
next	1.3;

1.3
date	2004.01.30.08.39.48;	author xsa;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.29.17.13.37;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2003.08.08.21.48.58;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.08.08.21.48.58;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.32
log
@drop SHARED_ONLY from python and ruby ports
@
text
@# $OpenBSD: Makefile,v 1.31 2015/07/07 22:29:14 bcallah Exp $

COMMENT=	set of Python modules designed for writing games

DISTNAME=	pygame-1.9.1release
PKGNAME=	${DISTNAME:S/release//}
CATEGORIES=	devel games

HOMEPAGE=	http://www.pygame.org/

# LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += SDL SDL_image SDL_mixer SDL_ttf X11 jpeg png pthread
WANTLIB += smpeg ${MODPY_WANTLIB}

MASTER_SITES=	${HOMEPAGE}ftp/

MODULES=	lang/python

BUILD_DEPENDS+=	math/py-Numeric

LIB_DEPENDS=	devel/sdl-ttf \
		devel/sdl-image \
		devel/sdl-mixer


MAKE_ENV+=	LOCALBASE="${LOCALBASE}" \
		SDL_CONFIG="${LOCALBASE}/bin/sdl-config"

EXAMPLESDIR=	${PREFIX}/share/examples/pygame
DOCDIR=		${PREFIX}/share/doc/pygame
DOCSUBDIRS=	ref tut tut/chimp tut/surfarray \
		tut/tom

TEST_IS_INTERACTIVE=	x11

# fix perms
post-extract:
	find ${WRKSRC} -type d | xargs chmod 755
	find ${WRKSRC} -type f | xargs chmod 644

do-configure:
	${SUBST_CMD} ${WRKSRC}/Setup.in
	@@cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MODPY_BIN} config.py

post-install:
	${INSTALL_DATA_DIR} ${EXAMPLESDIR}
	${INSTALL_SCRIPT} ${WRKSRC}/examples/*.py ${EXAMPLESDIR}
	${INSTALL_DATA} ${WRKSRC}/examples/readme.txt ${EXAMPLESDIR}
	${INSTALL_DATA_DIR} ${EXAMPLESDIR}/data
	${INSTALL_SCRIPT} ${WRKSRC}/examples/data/* ${EXAMPLESDIR}/data
	${INSTALL_DATA_DIR} ${DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/README.txt ${DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/docs/*.{gif,html} ${DOCDIR}
.for i in ${DOCSUBDIRS}
	${INSTALL_DATA_DIR} ${DOCDIR}/$i
	${INSTALL_DATA} `find ${WRKSRC}/docs/$i -maxdepth 1 -type f` \
		${DOCDIR}/$i
.endfor
	@@perl -pi -e 's,/usr/bin/env python,/usr/bin/env python${MODPY_VERSION},g' \
		${PREFIX}/share/examples/pygame/*.py

do-test: fake
	@@cd ${WRKSRC} && ${MAKE_ENV} \
		PYTHONPATH=${WRKINST}${MODPY_SITEPKG} \
			${MODPY_BIN} ./run_tests.py

.include <bsd.port.mk>
@


1.31
log
@Update to pygame-1.9.1
Thanks to sthen@@ for testing and fixing the camera driver.
ok sthen@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.30 2013/03/11 10:50:27 espie Exp $

SHARED_ONLY=	Yes
@


1.30
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/09/16 09:24:56 espie Exp $
d7 1
a7 1
DISTNAME=	pygame-1.8.1release
a8 1
REVISION =	4
d13 1
a13 1
# LGPL
d16 2
a17 1
WANTLIB += SDL X11 jpeg png pthread-stubs smpeg xcb SDL_ttf SDL_image SDL_mixer
@


1.29
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/06/08 17:39:26 jasper Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d38 1
a38 1
REGRESS_IS_INTERACTIVE=	x11
d66 1
a66 1
do-regress: fake
@


1.28
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/11/15 19:46:08 espie Exp $
d9 1
a9 1
REVISION =	3
@


1.27
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/11/08 10:28:22 espie Exp $
d9 1
a9 1
REVISION =	2
@


1.26
log
@more conversions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/10/24 21:11:02 ajacoutot Exp $
d26 1
a26 1
BUILD_DEPENDS+=	:py-Numeric-*:math/py-Numeric
d28 3
a30 3
LIB_DEPENDS=	::devel/sdl-ttf \
		::devel/sdl-image \
		::devel/sdl-mixer
@


1.25
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/08/30 22:24:16 jasper Exp $
d20 1
a20 1
WANTLIB += SDL X11 jpeg png pthread-stubs smpeg xcb
d28 3
a30 3
LIB_DEPENDS=	SDL_ttf::devel/sdl-ttf \
		SDL_image::devel/sdl-image \
		SDL_mixer::devel/sdl-mixer
@


1.24
log
@bumpski for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/09/06 10:46:25 ajacoutot Exp $
a31 1
USE_X11=	Yes
@


1.23
log
@Make use of REGRESS_IS_INTERACTIVE=x11

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/08/10 06:31:08 kili Exp $
d8 2
a9 1
PKGNAME=	${DISTNAME:S/release//}p1
@


1.22
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/04/28 21:10:08 ajacoutot Exp $
d41 1
a41 3
# This regression test wants an X11 display
REGRESS_IS_INTERACTIVE=	Yes
REGRESS_FLAGS=	DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
@


1.21
log
@- fix some file perms
- regen PLIST while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/04/09 22:49:39 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME:S/release//}p0
d19 1
a19 1
WANTLIB += SDL X11 jpeg png smpeg
@


1.20
log
@- update to pygame 1.8.1
several documentation updates
lots of bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/03/11 21:16:06 bernd Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME:S/release//}
d10 1
d44 5
@


1.19
log
@bump because of python dep changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/10/08 08:22:40 steven Exp $
d7 2
a8 2
DISTNAME=	pygame-1.7.1release
PKGNAME=	${DISTNAME:S/release//}p2
d17 2
a18 1
WANTLIB=               SDL X11 Xext m smpeg usbhid
d38 5
a42 1
		tut/tom util
d45 1
a45 1
	@@perl -pi -e "s,!!X11BASE!!,${X11BASE},g" ${WRKSRC}/Setup.in
d55 1
a55 1
	${INSTALL_DATA} ${WRKSRC}/readme.* ${DOCDIR}
@


1.18
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/09/16 02:53:12 merdely Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME:S/release//}p1
@


1.17
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/11/11 21:04:27 steven Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME:S/release//}p0
@


1.16
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/10/19 00:35:04 pvalchev Exp $
d5 1
a5 1
COMMENT=	"set of Python modules designed for writing games"
@


1.15
log
@revert sdl changes from here too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/10/17 23:31:12 alek Exp $
d28 2
@


1.14
log
@sdl wantlib
@
text
@d17 1
a17 1
WANTLIB=               SDL smpeg
@


1.13
log
@Update to 1.7.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/10/06 14:24:12 naddy Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME:S/release//}
d17 1
a17 1
WANTLIB=               SDL X11 Xext m smpeg usbhid
@


1.12
log
@this builds on alpha now; ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/06/03 09:37:09 alek Exp $
d7 2
a8 2
DISTNAME=	pygame-1.6
PKGNAME=	${DISTNAME}p2
d17 1
a17 1
WANTLIB=		SDL X11 Xext m smpeg usbhid
d38 1
a40 5
post-build:
	@@perl -pi -e 's,/usr/bin/env python,/usr/bin/env python${MODPY_VERSION},g' \
		${WRKSRC}/examples/*.py
	@@perl -pi -e 's,%%PYTHON%%,python${MODPY_VERSION},g' ${WRKSRC}/examples/*.py

d55 2
@


1.11
log
@Bump PKGNAMEs after recent python switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/02/07 11:57:19 bernd Exp $
a3 3
.if ${MACHINE_ARCH} == "alpha"
BROKEN=		"smpeg"
.endif
@


1.10
log
@MAINTAINER change --> PKGNAME bump!!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/02/07 09:46:27 xsa Exp $
d3 1
a3 1
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
d11 1
a11 1
PKGNAME=	${DISTNAME}p1
@


1.9
log
@drop maintainership on these;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/03/14 15:12:56 xsa Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p0
@


1.8
log
@- fix drawing on OpenBSD caused by broken trunc()
- aaline color fixes
- plug mem leak
- bump PKGNAME

from pygame CVS repository via Reid Nichol <rnichol_rrc at yahoo.com>
who discussed that with the pygame people;
ok pvalsquid@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/02/28 07:36:49 pvalchev Exp $
a13 2

MAINTAINER=	Xavier Santolaria <xsa@@openbsd.org>
@


1.7
log
@mark as broken on alpha for mysterious reasons so it doesn't halt bulk build
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/11/24 00:11:03 espie Exp $
d11 1
@


1.6
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/08/03 14:27:33 xsa Exp $
d4 3
@


1.5
log
@
MODULES= lang/python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/04/10 23:08:11 xsa Exp $
d18 1
@


1.4
log
@
update to 1.6; requested/tested/ok jolan@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/01/30 08:39:48 xsa Exp $
d21 1
a21 1
MODULES=	python
@


1.3
log
@
change my MAINTAINER address to @@openbsd.org; ok sturm@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/01/29 17:13:37 sturm Exp $
d7 1
a7 1
DISTNAME=	pygame-1.5.6
d60 4
a63 2
do-regress:
	@@cd ${WRKSRC} && ${MODPY_BIN} ./run_tests.py
@


1.2
log
@NOT_FOR_ARCHS=${NO_SHARED_ARCHS}

from Xavier Santolaria
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/08/08 21:48:58 jolan Exp $
d11 1
a11 1
MAINTAINER=	Xavier Santolaria <xavier@@santolaria.net>
@


1.1
log
@Initial revision
@
text
@d1 3
a3 1
# $OpenBSD$
@


1.1.1.1
log
@import of pygame 1.5.6, submitted & maintained by Xavier Santolaria:

Pygame is a cross-platfrom library designed to make it easy to write
multimedia software, such as games, in Python.  Pygame requires the
Python language and SDL multimedia library.  It can also make use of
several other popular libraries.
@
text
@@
