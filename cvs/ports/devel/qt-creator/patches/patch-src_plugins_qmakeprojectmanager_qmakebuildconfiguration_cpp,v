head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2016.12.26.15.26.01;	author zhuk;	state Exp;
branches;
next	;
commitid	XmPt7TJzRACn3W7R;


desc
@@


1.1
log
@Nobody loves you, qt-creator, except three people: Caspar Schutijser,
Rafael Sadowski and me.

So lets move on and put it in. Nowadays there is no point in having
a separate qt-creator with support for older Qt's, and 4.1.0 works
with egdb at least.

Most of the work was done by Caspar, last rollup from Rafael, commit by me.
@
text
@$OpenBSD$

When calling gmake, override the CXX and LINK variables in Makefiles generated
by qmake by setting gmake's command line arguments. Makes it possible to
compile C++11 code.

--- src/plugins/qmakeprojectmanager/qmakebuildconfiguration.cpp.orig	Tue Aug 23 14:36:42 2016
+++ src/plugins/qmakeprojectmanager/qmakebuildconfiguration.cpp	Fri Dec 16 09:57:01 2016
@@@@ -677,6 +677,7 @@@@ void QmakeBuildConfigurationFactory::configureBuildCon
     buildSteps->insertStep(0, qmakeStep);
 
     MakeStep *makeStep = new MakeStep(buildSteps);
+    makeStep->setUserArguments(QLatin1String("CXX=eg++ LINK=eg++"));
     buildSteps->insertStep(1, makeStep);
 
     MakeStep *cleanStep = new MakeStep(cleanSteps);
@
