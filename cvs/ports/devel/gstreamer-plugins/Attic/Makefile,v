head	1.41;
access;
symbols
	OPENBSD_4_3:1.37.0.2
	OPENBSD_4_3_BASE:1.37
	OPENBSD_4_2:1.33.0.2
	OPENBSD_4_2_BASE:1.33
	OPENBSD_4_1:1.25.0.2
	OPENBSD_4_1_BASE:1.25
	OPENBSD_4_0:1.18.0.2
	OPENBSD_4_0_BASE:1.18
	OPENBSD_3_9:1.11.0.2
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.6.0.2
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4
	marcm_2004-dec-21:1.1.1.1
	marcm:1.1.1;
locks; strict;
comment	@# @;


1.41
date	2008.05.23.09.51.07;	author ajacoutot;	state dead;
branches;
next	1.40;

1.40
date	2008.03.26.14.58.55;	author fgsch;	state Exp;
branches;
next	1.39;

1.39
date	2008.03.25.17.29.57;	author fgsch;	state Exp;
branches;
next	1.38;

1.38
date	2008.03.24.06.52.02;	author jakemsr;	state Exp;
branches;
next	1.37;

1.37
date	2007.12.19.07.31.15;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2007.09.18.18.33.25;	author naddy;	state Exp;
branches;
next	1.35;

1.35
date	2007.09.16.16.45.59;	author naddy;	state Exp;
branches;
next	1.34;

1.34
date	2007.09.16.02.52.59;	author merdely;	state Exp;
branches;
next	1.33;

1.33
date	2007.06.29.21.38.31;	author martynas;	state Exp;
branches;
next	1.32;

1.32
date	2007.06.29.06.13.44;	author jakemsr;	state Exp;
branches;
next	1.31;

1.31
date	2007.05.23.18.43.38;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2007.05.19.09.13.54;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2007.04.30.14.50.44;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2007.04.30.12.22.51;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2007.04.14.21.20.19;	author sturm;	state Exp;
branches;
next	1.26;

1.26
date	2007.04.13.19.49.16;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2007.01.10.11.30.03;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2007.01.08.19.52.25;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2006.11.20.17.13.12;	author bernd;	state Exp;
branches;
next	1.21;

1.21
date	2006.10.19.00.35.04;	author pvalchev;	state Exp;
branches;
next	1.20;

1.20
date	2006.10.18.18.40.27;	author pvalchev;	state Exp;
branches;
next	1.19;

1.19
date	2006.09.18.11.40.07;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2006.08.18.17.04.22;	author kurt;	state Exp;
branches;
next	1.17;

1.17
date	2006.08.10.22.30.48;	author steven;	state Exp;
branches;
next	1.16;

1.16
date	2006.08.06.10.16.54;	author sturm;	state Exp;
branches;
next	1.15;

1.15
date	2006.08.01.22.55.52;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2006.06.13.13.21.48;	author bernd;	state Exp;
branches;
next	1.13;

1.13
date	2006.03.20.15.33.21;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2006.03.20.15.21.43;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2006.01.19.20.16.46;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2006.01.07.13.01.40;	author bernd;	state Exp;
branches;
next	1.9;

1.9
date	2005.11.13.06.49.01;	author marcm;	state Exp;
branches;
next	1.8;

1.8
date	2005.09.16.09.51.26;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2005.09.11.05.12.41;	author marcm;	state Exp;
branches;
next	1.6;

1.6
date	2005.06.06.20.38.33;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2005.05.24.21.33.33;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2005.02.08.00.59.27;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2005.01.03.10.01.10;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2005.01.03.02.10.36;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.22.06.09.18;	author marcm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.12.22.06.09.18;	author marcm;	state Exp;
branches;
next	;


desc
@@


1.41
log
@- remove old, unmaintained and unused gstreamer v0.8

from brad@@
"die!" jasper@@
@
text
@# $OpenBSD: Makefile,v 1.40 2008/03/26 14:58:55 fgsch Exp $

COMMENT-main=		GStreamer Streaming-media framework plug-ins

VERSION=		0.8.11
DISTNAME=		gst-plugins-${VERSION}
PKGNAME-main=		gstreamer-plugins-${VERSION}p17
# Don't forget about PKGNAME-${PLUGIN} (See below)
SHARED_LIBS=		gstgconf-0.8		1.0 \
			gstinterfaces-0.8	1.0 \
			gstmedia-info-0.8	1.0 \
			gstplay-0.8		1.0

CATEGORIES=		devel

HOMEPAGE=		http://www.gstreamer.net/

# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	patent issues
PERMIT_DISTFILES_FTP=	Yes
			

MASTER_SITES=		http://gstreamer.freedesktop.org/src/gst-plugins/ \
			${MASTER_SITE_GNOME:=sources/gst-plugins/0.8/}
EXTRACT_SUFX=		.tar.bz2

MODULES=		devel/gettext
SHARED_ONLY=		Yes

USE_GMAKE=		Yes
USE_LIBTOOL=		Yes
AUTOCONF_VERSION=	2.59
CONFIGURE_STYLE=	autoconf
CONFIGURE_ARGS+=	--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gst-plugins

# Disable plugins might try to build that we shouldn't
#CONFIGURE_ARGS+=	--disable-mpeg2enc
CONFIGURE_ARGS+=	--disable-x264
CONFIGURE_ARGS+=	--disable-jack
CONFIGURE_ARGS+=	--disable-shout2
CONFIGURE_ARGS+=	--disable-xvid
CONFIGURE_ARGS+=	--disable-tests

# do not build the cdaudio plugin, cdparanoia is enough
CONFIGURE_ARGS+=	--disable-cdaudio

CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"


PSEUDO_FLAVORS=		minimal
FLAVOR?=
MULTI_PACKAGES=		-main

myWANTLIB=		m z xml2 glib-2.0 \
			gthread-2.0 gmodule-2.0 gobject-2.0 popt
myLIB_DEPENDS=		gstreamer-0.8.>=5.0:gstreamer-0.8.*:devel/gstreamer \
			${MODGETTEXT_LIB_DEPENDS}

WANTLIB-main=		ICE SM X11 Xau Xdamage Xdmcp Xext Xfixes Xrender Xv \
			Xcursor Xi Xinerama Xrandr \
			expat fontconfig freetype ossaudio \
			atk-1.0 ORBit-2 \
			pango-1.0 pangoft2-1.0 pangocairo-1.0 \
			gdk-x11-2.0 gdk_pixbuf-2.0 gtk-x11-2.0 \
			cairo glitz png ${myWANTLIB}
LIB_DEPENDS-main=	gconf-2::devel/gconf2 \
			gstcontrol-0.8.>=5.0:gstreamer-0.8.*:devel/gstreamer \
			${myLIB_DEPENDS}

PLUGINS=		arts audiofile cdda dvdnav dvdread esd faad flac \
			gnome gsm jpeg lame mad mikmod mpeg2 musepack ogg \
			sdl sidplay sndfile speex theora tremor vorbis

# a52 doesn't build properly on sparc64
.if ${MACHINE_ARCH} != "sparc64"
PLUGINS+=		a52
.endif


# setup pseudo-flavors and multi-packages
.for PLUGIN in ${PLUGINS}
PSEUDO_FLAVORS+=	no_${PLUGIN}
.  if !${FLAVOR:L:Mno_${PLUGIN}} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-${PLUGIN}
# also check for individual overrides below
PKGNAME-${PLUGIN}=	gstreamer-${PLUGIN}-${VERSION}p16
BASENAME-${PLUGIN}=	gstreamer-${PLUGIN}
.  endif
.endfor
SUBST_VARS+=	BASENAME

# a52dec
COMMENT-a52=		GStreamer plugin for decoding A/52 audio streams
WANTLIB-a52=		${myWANTLIB}
LIB_DEPENDS-a52=	a52::audio/liba52 \
			${myLIB_DEPENDS}
OPTIONS-a52=		a52dec

# arts
COMMENT-arts=		GStreamer plugin for interfacing with KDE arts
WANTLIB-arts=		vorbis vorbisenc pthread audiofile ossaudio mad ogg \
			esd vorbisfile stdc++ ${myWANTLIB}
LIB_DEPENDS-arts=	artsflow,mcop,artsflow_idl,artsc::x11/kde/arts3 \
			${myLIB_DEPENDS}
OPTIONS-arts=		arts artsc

# audiofile
COMMENT-audiofile=	GStreamer plugin for using the Audiofile library
WANTLIB-audiofile=	${myWANTLIB}
LIB_DEPENDS-audiofile=	audiofile::devel/libaudiofile \
			${myLIB_DEPENDS}

# cdaudio
COMMENT-cdaudio=	GStreamer plugin for using the CD audio library
WANTLIB-cdaudio=	${myWANTLIB}
LIB_DEPENDS-cdaudio=	cdaudio::audio/libcdaudio \
			${myLIB_DEPENDS}

# cdparanoia (cdda)
COMMENT-cdda=		GStreamer plugin for reading audio from CDs
WANTLIB-cdda=		${myWANTLIB}
LIB_DEPENDS-cdda=	cdda_interface,cdda_paranoia::audio/cdparanoia \
			${myLIB_DEPENDS}
OPTIONS-cdda=		cdparanoia

# dvdnavsrc
COMMENT-dvdnav=		GStreamer plugin for DVD playback with menus
WANTLIB-dvdnav=		${myWANTLIB}
LIB_DEPENDS-dvdnav=	dvdnav::multimedia/libdvdnav \
			dvdread::devel/libdvdread \
			${myLIB_DEPENDS}

# dvdreadsrc
COMMENT-dvdread=	GStreamer plugin for DVD playback
WANTLIB-dvdread=	${myWANTLIB}
LIB_DEPENDS-dvdread=	dvdread::devel/libdvdread \
			${myLIB_DEPENDS}

# esd
COMMENT-esd=		GStreamer plugin for outputting to esd
WANTLIB-esd=		audiofile ${myWANTLIB}
LIB_DEPENDS-esd=	esd.>=2::audio/esound \
			${myLIB_DEPENDS}

# faad
COMMENT-faad=		GStreamer plugin for decoding AAC files
WANTLIB-faad=		${myWANTLIB}
LIB_DEPENDS-faad=	faad.>=1::audio/faad \
			${myLIB_DEPENDS}

# flac
COMMENT-flac=		GStreamer plugin for encoding/decoding FLAC files
PKGNAME-flac=		gstreamer-flac-${VERSION}p16
WANTLIB-flac=		ogg ${myWANTLIB}
LIB_DEPENDS-flac=	FLAC::audio/flac \
			${myLIB_DEPENDS}

# gnomevfs
COMMENT-gnome=		GStreamer plugin supporting GNOME VFS
WANTLIB-gnome=		ORBit-2 crypto ssl gconf-2 \
			dbus-1 dbus-glib-1 util \
			${myWANTLIB}
LIB_DEPENDS-gnome=	gnomevfs-2.>=1800:gnome-vfs2->=2.18:x11/gnome/vfs2 \
			${myLIB_DEPENDS}
OPTIONS-gnome=		gnome_vfs

# gsm
COMMENT-gsm=		GStreamer plugin for using gsm
WANTLIB-gsm=		${myWANTLIB}
LIB_DEPENDS-gsm=	gsm::audio/gsm \
			${myLIB_DEPENDS}

# jpeg
COMMENT-jpeg=		GStreamer plugin for handling JPEG files
WANTLIB-jpeg=		${myWANTLIB}
LIB_DEPENDS-jpeg=	jpeg::graphics/jpeg \
			${myLIB_DEPENDS}

# lame
COMMENT-lame=		GStreamer plugin for encoding mp3 files using LAME
PERMIT_PACKAGE_CDROM-lame=	patent issues
WANTLIB-lame=		${myWANTLIB}
LIB_DEPENDS-lame=	mp3lame:lame-*:audio/lame \
			${myLIB_DEPENDS}

# mad
COMMENT-mad=		GStreamer plugin for decoding mp3 files using MAD
WANTLIB-mad=		${myWANTLIB}
LIB_DEPENDS-mad=	id3tag::audio/libid3tag \
			mad::audio/libmad \
			${myLIB_DEPENDS}

# mikmod
COMMENT-mikmod=		GStreamer plugin for using the Mikmod library
WANTLIB-mikmod=		${myWANTLIB}
LIB_DEPENDS-mikmod=	mikmod::audio/libmikmod \
			${myLIB_DEPENDS}

# mpeg2dec
COMMENT-mpeg2=		GStreamer plugin for playing and encoding MPEG video files
WANTLIB-mpeg2=		X11 Xau Xdmcp Xext Xv ${myWANTLIB}
LIB_DEPENDS-mpeg2=	mpeg2::graphics/libmpeg2 \
			${myLIB_DEPENDS}
OPTIONS-mpeg2=		mpeg2dec

# musepack
COMMENT-musepack=	GStreamer plugin for playing musepack sound files
WANTLIB-musepack=	${myWANTLIB}
LIB_DEPENDS-musepack=	mpcdec::audio/libmpcdec \
			${myLIB_DEPENDS}

# ogg
COMMENT-ogg=		GStreamer plugin for demuxing Ogg streams
WANTLIB-ogg=		${myWANTLIB}
LIB_DEPENDS-ogg=	ogg::audio/libogg \
			${myLIB_DEPENDS}

# sdlvideosink
COMMENT-sdl=		GStreamer plugin for using SDL to diplay video
WANTLIB-sdl=		X11 Xau Xdmcp Xext usbhid ${myWANTLIB}
LIB_DEPENDS-sdl=	SDL::devel/sdl \
			gstinterfaces-0.8.>=1.0::devel/gstreamer-plugins \
			${myLIB_DEPENDS}

# sidplay
COMMENT-sidplay=	GStreamer plugin for playing SID files
WANTLIB-sidplay=	stdc++ ${myWANTLIB}
LIB_DEPENDS-sidplay=	sidplay::audio/libsidplay \
			${myLIB_DEPENDS}

# sndfile
COMMENT-sndfile=	GStreamer plugin for using sndfile
WANTLIB-sndfile=	${myWANTLIB}
LIB_DEPENDS-sndfile=	sndfile::audio/libsndfile \
			${myLIB_DEPENDS}

# speex
COMMENT-speex=		GStreamer plugin for speex
WANTLIB-speex=		${myWANTLIB}
LIB_DEPENDS-speex=	speex.>=4:speex->=1.0.5:audio/speex \
			${myLIB_DEPENDS}

# theora
COMMENT-theora=		GStreamer plugin for theora
WANTLIB-theora=		${myWANTLIB}
LIB_DEPENDS-theora=	theora::multimedia/libtheora \
			ogg::audio/libogg \
			${myLIB_DEPENDS}

# tremor
COMMENT-tremor=		GStreamer plugin for Vorbis audio files, integer
WANTLIB-tremor=		${myWANTLIB}
LIB_DEPENDS-tremor=	vorbisidec::audio/tremor \
			${myLIB_DEPENDS}

# vorbis
COMMENT-vorbis=		GStreamer plugin for Vorbis audio files
WANTLIB-vorbis=		ogg ${myWANTLIB}
LIB_DEPENDS-vorbis=	vorbis,vorbisenc::audio/libvorbis \
			${myLIB_DEPENDS}

.for PLUGIN in ${PLUGINS}
.  if ${MULTI_PACKAGES:M-${PLUGIN}}
.    for O in ${OPTIONS-${PLUGIN}}
CONFIGURE_ARGS+=	--enable-$O
.    endfor
.  else
.    for O in ${OPTIONS-${PLUGIN}}
CONFIGURE_ARGS+=	--disable-$O
.    endfor
.  endif
.endfor

.include <bsd.port.mk>
@


1.40
log
@do not pickup xvid or libshout2. naddy@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2008/03/25 17:29:57 fgsch Exp $
@


1.39
log
@no need for lame's no_x11 flavor anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/03/24 06:52:02 jakemsr Exp $
d42 2
@


1.38
log
@disable jack for now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2007/12/19 07:31:15 ajacoutot Exp $
d87 1
a87 1
PKGNAME-${PLUGIN}=	gstreamer-${PLUGIN}-${VERSION}p15
d184 1
a184 1
LIB_DEPENDS-lame=	mp3lame:lame-*:audio/lame,no_x11 \
@


1.37
log
@- add/fix gconftool-2 goo

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2007/09/18 18:33:25 naddy Exp $
d41 1
@


1.36
log
@adapt FLAC support to the FLAC 1.1.3+ API
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2007/09/16 16:45:59 naddy Exp $
d7 1
a7 1
PKGNAME-main=		gstreamer-plugins-${VERSION}p16
@


1.35
log
@use autoconf instead of directly patching configure; it's more maintainable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2007/09/16 02:52:59 merdely Exp $
d85 1
d153 2
a154 1
WANTLIB-flac=		${myWANTLIB}
@


1.34
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/06/29 21:38:31 martynas Exp $
d35 1
a35 1
CONFIGURE_STYLE=	gnu
@


1.33
log
@better comments;  ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/06/29 06:13:44 jakemsr Exp $
d3 1
a3 1
COMMENT-main=		"GStreamer Streaming-media framework plug-ins"
d21 1
a21 1
PERMIT_DISTFILES_CDROM=	"patent issues"
d92 1
a92 1
COMMENT-a52=		"GStreamer plugin for decoding A/52 audio streams"
d99 1
a99 1
COMMENT-arts=		"GStreamer plugin for interfacing with KDE arts"
d107 1
a107 1
COMMENT-audiofile=	"GStreamer plugin for using the Audiofile library"
d113 1
a113 1
COMMENT-cdaudio=	"GStreamer plugin for using the CD audio library"
d119 1
a119 1
COMMENT-cdda=		"GStreamer plugin for reading audio from CDs"
d126 1
a126 1
COMMENT-dvdnav=		"GStreamer plugin for DVD playback with menus"
d133 1
a133 1
COMMENT-dvdread=	"GStreamer plugin for DVD playback"
d139 1
a139 1
COMMENT-esd=		"GStreamer plugin for outputting to esd"
d145 1
a145 1
COMMENT-faad=		"GStreamer plugin for decoding AAC files"
d151 1
a151 1
COMMENT-flac=		"GStreamer plugin for encoding/decoding FLAC files"
d157 1
a157 1
COMMENT-gnome=		"GStreamer plugin supporting GNOME VFS"
d166 1
a166 1
COMMENT-gsm=		"GStreamer plugin for using gsm"
d172 1
a172 1
COMMENT-jpeg=		"GStreamer plugin for handling JPEG files"
d178 2
a179 2
COMMENT-lame=		"GStreamer plugin for encoding mp3 files using LAME"
PERMIT_PACKAGE_CDROM-lame=	"patent issues"
d185 1
a185 1
COMMENT-mad=		"GStreamer plugin for decoding mp3 files using MAD"
d192 1
a192 1
COMMENT-mikmod=		"GStreamer plugin for using the Mikmod library"
d198 1
a198 1
COMMENT-mpeg2=		"GStreamer plugin for playing and encoding MPEG video files"
d205 1
a205 1
COMMENT-musepack=	"GStreamer plugin for playing musepack sound files"
d211 1
a211 1
COMMENT-ogg=		"GStreamer plugin for demuxing Ogg streams"
d217 1
a217 1
COMMENT-sdl=		"GStreamer plugin for using SDL to diplay video"
d224 1
a224 1
COMMENT-sidplay=	"GStreamer plugin for playing SID files"
d230 1
a230 1
COMMENT-sndfile=	"GStreamer plugin for using sndfile"
d236 1
a236 1
COMMENT-speex=		"GStreamer plugin for speex"
d242 1
a242 1
COMMENT-theora=		"GStreamer plugin for theora"
d249 1
a249 1
COMMENT-tremor=		"GStreamer plugin for Vorbis audio files, integer"
d255 1
a255 1
COMMENT-vorbis=		"GStreamer plugin for Vorbis audio files"
@


1.32
log
@- use exact width data types for libfaad interaction
- LIB_DEPENDS-faad libfaad >= 1.0
- bump PKGNAME-main and PKGNAME-${PLUGIN}
- remove unused PATCHLEVEL variable
- adjust WANTLIB-main and WANTLIB-gnome as per lib-depends-check
- sync patches with update-patches

OK naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2007/05/23 18:43:38 jasper Exp $
d3 1
a3 1
COMMENT-main=		"GStreamer Streaming-media framework plug-ins."
d7 1
a7 1
PKGNAME-main=		gstreamer-plugins-${VERSION}p15
@


1.31
log
@*** empty log message ***
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2007/05/19 09:13:54 jasper Exp $
a5 1
PATCHLEVEL=		
d7 1
a7 1
PKGNAME-main=		gstreamer-plugins-${VERSION}p14
d60 1
d85 1
a85 1
PKGNAME-${PLUGIN}=	gstreamer-${PLUGIN}-${VERSION}${PATCHLEVEL}p14
d147 1
a147 1
LIB_DEPENDS-faad=	faad::audio/faad \
d158 1
a158 1
WANTLIB-gnome=		crypto ssl gconf-2 \
@


1.30
log
@remove marcm@@ as maintainer

ok marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/04/30 14:50:44 espie Exp $
d9 1
d85 1
a85 1
PKGNAME-${PLUGIN}=	gstreamer-${PLUGIN}-${VERSION}${PATCHLEVEL}p13
@


1.29
log
@more proper fix. actually depends on the libs we should
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/04/30 12:22:51 espie Exp $
d8 1
a8 1
PKGNAME-main=		gstreamer-plugins-${VERSION}p13
a14 2

MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
@


1.28
log
@fix packaging issue to be able to proceed with tests. apparently, gnomevfs
no longer pulls in bonobo, so pull it in manually through a LIB_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/04/14 21:20:19 sturm Exp $
d8 1
a8 1
PKGNAME-main=		gstreamer-plugins-${VERSION}p12
d160 1
a160 1
			ORBit-2 ORBitCosNaming-2 bonobo-activation \
d162 1
a162 2
LIB_DEPENDS-gnome=	gnomevfs-2::x11/gnome/vfs2 \
			bonobo-2::x11/gnome/libbonobo \
@


1.27
log
@WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/04/13 19:49:16 naddy Exp $
d86 1
a86 1
PKGNAME-${PLUGIN}=	gstreamer-${PLUGIN}-${VERSION}${PATCHLEVEL}p12
d160 1
a160 1
			ORBit-2 ORBitCosNaming-2 bonobo-activation bonobo-2 \
d163 1
@


1.26
log
@Disable the x264 plugin.  This doesn't build with our x264 port.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2007/01/10 11:30:03 espie Exp $
d8 1
a8 1
PKGNAME-main=		gstreamer-plugins-${VERSION}p11
d61 2
a62 2
WANTLIB-main=		ICE SM X11 Xdamage Xext Xfixes Xrender Xv \
			fontconfig freetype ossaudio \
d86 1
a86 1
PKGNAME-${PLUGIN}=	gstreamer-${PLUGIN}-${VERSION}${PATCHLEVEL}p11
d200 1
a200 1
WANTLIB-mpeg2=		X11 Xv Xext ${myWANTLIB}
d219 1
a219 1
WANTLIB-sdl=		Xext usbhid X11 ${myWANTLIB}
@


1.25
log
@unconfuse pkg_add, get the gstreamer dependency to grab only 0.8.*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/01/08 19:52:25 espie Exp $
d42 1
@


1.24
log
@allow for gstreamer-0.10 to use the same names, since there won't be any
conflict.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2006/12/16 12:22:33 espie Exp $
d8 1
a8 1
PKGNAME-main=		gstreamer-plugins-${VERSION}p10
d57 1
a57 1
myLIB_DEPENDS=		gstreamer-0.8.>=5.0::devel/gstreamer \
d67 1
a67 1
			gstcontrol-0.8.>=5.0::devel/gstreamer \
d85 1
a85 1
PKGNAME-${PLUGIN}=	gstreamer-${PLUGIN}-${VERSION}${PATCHLEVEL}p10
@


1.23
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2006/11/20 17:13:12 bernd Exp $
d85 2
a86 1
PKGNAME-${PLUGIN}=	gstreamer-${PLUGIN}-${VERSION}${PATCHLEVEL}p9
d89 1
@


1.22
log
@Use new MULTI_PACKAGES framework.

verified by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/10/19 00:35:04 pvalchev Exp $
a33 2
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig

d78 1
@


1.21
log
@revert sdl changes from here too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/09/18 11:40:07 espie Exp $
d3 1
a3 1
COMMENT=		"GStreamer Streaming-media framework plug-ins."
d8 1
a8 1
PKGNAME=		gstreamer-plugins-${VERSION}p9
d23 1
a23 1
PERMIT_DISTFILES_CDROM=	Yes
d55 8
a62 4
MULTI_PACKAGES=
SUBPACKAGE?=
.if !defined(PACKAGING) || ${SUBPACKAGE} == ""
WANTLIB=		ICE SM X11 Xdamage Xext Xfixes Xrender Xv \
d67 8
a74 11
			cairo glitz png
LIB_DEPENDS=		gconf-2::devel/gconf2 \
			gstcontrol-0.8.>=5.0::devel/gstreamer
.endif
WANTLIB+=		m z xml2 glib-2.0 \
			gthread-2.0 gmodule-2.0 gobject-2.0 popt
LIB_DEPENDS+=		gstreamer-0.8.>=5.0::devel/gstreamer

PLUGINS=arts audiofile cdda dvdnav dvdread esd faad flac gnome gsm \
jpeg lame mad mikmod mpeg2 musepack ogg sdl sidplay sndfile speex theora \
tremor vorbis
d78 1
a78 1
PLUGINS+=a52
d83 1
a83 1
PSEUDO_FLAVORS+=no_${PLUGIN}
d86 1
a89 1

d92 3
a94 1
DEPENDS-a52=		a52::audio/liba52
d100 3
a102 2
			esd vorbisfile stdc++
DEPENDS-arts=		artsflow,mcop,artsflow_idl,artsc::x11/kde/arts3
d107 3
a109 1
DEPENDS-audiofile=	 audiofile::devel/libaudiofile
d113 3
a115 1
DEPENDS-cdaudio=	cdaudio::audio/libcdaudio
d119 3
a121 1
DEPENDS-cdda=		cdda_interface,cdda_paranoia::audio/cdparanoia
d126 4
a129 2
DEPENDS-dvdnav=		dvdnav::multimedia/libdvdnav \
			dvdread::devel/libdvdread
d133 3
a135 1
DEPENDS-dvdread=	dvdread::devel/libdvdread
d139 3
a141 2
WANTLIB-esd=		audiofile
DEPENDS-esd=		esd.>=2::audio/esound
d145 3
a147 1
DEPENDS-faad=		faad::audio/faad
d151 3
a153 1
DEPENDS-flac=           FLAC::audio/flac
d158 4
a161 2
			ORBit-2 ORBitCosNaming-2 bonobo-activation bonobo-2
DEPENDS-gnome=		gnomevfs-2::x11/gnome/vfs2
d166 3
a168 1
DEPENDS-gsm=		gsm::audio/gsm
d172 3
a174 1
DEPENDS-jpeg=		jpeg::graphics/jpeg
d178 4
a181 5
.if defined(PACKAGING) && ${SUBPACKAGE} == "-lame"
PERMIT_PACKAGE_CDROM=	"patent issues"
PERMIT_DISTFILES_CDROM=	"patent issues"
.endif
DEPENDS-lame=		mp3lame:lame-*:audio/lame,no_x11
d185 4
a188 2
DEPENDS-mad=		id3tag::audio/libid3tag \
			mad::audio/libmad
d192 3
a194 1
DEPENDS-mikmod=		mikmod::audio/libmikmod
d198 3
a200 2
WANTLIB-mpeg2=		X11 Xv Xext
DEPENDS-mpeg2=		mpeg2::graphics/libmpeg2
d205 3
a207 1
DEPENDS-musepack=	mpcdec::audio/libmpcdec
d211 3
a213 1
DEPENDS-ogg=		ogg::audio/libogg
d217 4
a220 5
WANTLIB-sdl=		Xext usbhid X11
DEPENDS-sdl=		SDL::devel/sdl
.if defined(PACKAGING) && ${SUBPACKAGE} == "-sdl"
LIB_DEPENDS+= 		gstinterfaces-0.8.>=1.0::devel/gstreamer-plugins
.endif
d224 3
a226 2
WANTLIB-sidplay=	stdc++
DEPENDS-sidplay=	sidplay::audio/libsidplay
d230 3
a232 1
DEPENDS-sndfile=	sndfile::audio/libsndfile
d236 3
a238 1
DEPENDS-speex=		speex.>=4:speex->=1.0.5:audio/speex
d242 4
a245 2
DEPENDS-theora=		theora::multimedia/libtheora \
			ogg::audio/libogg
d249 3
a251 1
DEPENDS-tremor=		vorbisidec::audio/tremor
d255 3
a257 2
WANTLIB-vorbis=		ogg
DEPENDS-vorbis=         vorbis,vorbisenc::audio/libvorbis
d260 4
a263 8
COMMENT-${PLUGIN}?=	"GStreamer plugin for ${PLUGIN}"
PKGNAME-${PLUGIN}?=	gstreamer-${PLUGIN}-${VERSION}${PATCHLEVEL}p9
OPTIONS-${PLUGIN}?=	${PLUGIN}
.  if defined(PACKAGING)
.    if ${SUBPACKAGE} == "-${PLUGIN}"
LIB_DEPENDS+=	${DEPENDS-${PLUGIN}}
WANTLIB+=	${WANTLIB-${PLUGIN}}
.    endif
d265 3
a267 10
.    if ${MULTI_PACKAGES:M-${PLUGIN}}
LIB_DEPENDS+=	${DEPENDS-${PLUGIN}}
.      for O in ${OPTIONS-${PLUGIN}}
CONFIGURE_ARGS+=--enable-$O
.      endfor
.    else
.      for O in ${OPTIONS-${PLUGIN}}
CONFIGURE_ARGS+=--disable-$O
.      endfor
.    endif
a269 1

@


1.20
log
@sdl wantlib
@
text
@d184 1
@


1.19
log
@remove `empty' version spec (.0.0) which is no longer needed to desambiguate
library names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/08/18 17:04:22 kurt Exp $
d8 1
a8 1
PKGNAME=		gstreamer-plugins-${VERSION}p8
a183 1
WANTLIB-sdl=		Xext usbhid X11
d218 1
a218 1
PKGNAME-${PLUGIN}?=	gstreamer-${PLUGIN}-${VERSION}${PATCHLEVEL}p8
@


1.18
log
@explicitly link in libstdc++ to arts & sidplay plugins to correct
gst-register core dumps reported by steven@@. also remove extra pthread
WANTLIB for dvdnav. okay nikolay@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/08/10 22:30:48 steven Exp $
d60 3
a62 3
			atk-1.0.0.0 ORBit-2 \
			pango-1.0.0.0 pangoft2-1.0.0.0 pangocairo-1.0.0.0 \
			gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 gtk-x11-2.0.0.0 \
d67 2
a68 2
WANTLIB+=		m z xml2 glib-2.0.0.0 \
			gthread-2.0.0.0 gmodule-2.0.0.0 gobject-2.0.0.0 popt
@


1.17
log
@add oontent to a few DESCR files, pt out by Mikolaj Kucharski <eth0@@o2.pl>
and fix some typos in DESCR/COMMENT while here
bump all PKGNAMEs

input/ok sturm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/08/06 10:16:54 sturm Exp $
d8 1
a8 1
PKGNAME=		gstreamer-plugins-${VERSION}p7
d97 1
a97 1
			esd vorbisfile
a117 1
WANTLIB-dvdnav=		pthread
d192 1
d219 1
a219 1
PKGNAME-${PLUGIN}?=	gstreamer-${PLUGIN}-${VERSION}${PATCHLEVEL}p7
@


1.16
log
@bump PKGNAMEs after WANTLIB change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/08/01 22:55:52 espie Exp $
d8 1
a8 1
PKGNAME=		gstreamer-plugins-${VERSION}p6
d145 1
a145 1
COMMENT-gsm=		"GStremer plugin for using gsm"
d209 1
a209 1
COMMENT-tremor=		"GStreamer plugin for Vorbis audio files,  integer"
d219 1
a219 1
PKGNAME-${PLUGIN}?=	gstreamer-${PLUGIN}-${VERSION}${PATCHLEVEL}p6
@


1.15
log
@new libspecs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/06/13 13:21:48 bernd Exp $
d219 1
a219 1
PKGNAME-${PLUGIN}?=	gstreamer-${PLUGIN}-${VERSION}${PATCHLEVEL}p5
@


1.14
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/03/20 15:33:21 espie Exp $
d65 1
a65 1
			gstcontrol-0.8.5.0::devel/gstreamer
d69 1
a69 1
LIB_DEPENDS+=		gstreamer-0.8.5.0::devel/gstreamer
d118 1
d127 1
a127 1
DEPENDS-esd=		esd.2::audio/esound
d188 1
a188 1
LIB_DEPENDS+= 		gstinterfaces-0.8.1.0::devel/gstreamer-plugins
d201 1
a201 1
DEPENDS-speex=		speex.4:speex->=1.0.5:audio/speex
@


1.13
log
@oops, avoid depending on oneself, and fix dvdnav build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/03/20 15:21:43 espie Exp $
d8 1
a8 1
PKGNAME=		gstreamer-plugins-${VERSION}p5
d58 1
a58 1
WANTLIB=		ICE SM X11 Xdamage Xext Xft Xfixes Xrender Xv \
d60 2
a61 3
			atk-1.0.0.0 \
			pango-1.0.0.0 pangoft2-1.0.0.0 pangox-1.0.0.0 \
			pangoxft-1.0.0.0 ORBit-2\
@


1.12
log
@big clean-up of gstreamer-plugins, allows a lot more plugins to compile
correctly, fix build in lots of cases, since there is a HUGE number of
things gst will try to pick up.

fix the framework for MULTI_PACKAGES to not do insane stuff, and simplify
the main Makefile greatly.

Set up SHARED_ONLY.

Some more clean-up to do.
Someone will have to come up with descriptions and comments more accurate,
and do more plugins testing...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/01/19 20:16:46 steven Exp $
d186 4
a189 2
DEPENDS-sdl=		SDL::devel/sdl \
			gstinterfaces-0.8.1.0::devel/gstreamer-plugins
@


1.11
log
@fix WANTLIB after gtk+2 downgrade
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/01/07 13:01:40 bernd Exp $
d8 1
a8 1
PKGNAME=		gstreamer-plugins-${VERSION}p4
a24 8
WANTLIB=		ICE SM X11 Xdamage Xext Xft Xfixes Xrender Xv \
			fontconfig freetype m ossaudio xml2 z \
			glib-2.0.0.0 gmodule-2.0.0.0 gthread-2.0.0.0 \
			gobject-2.0.0.0 atk-1.0.0.0 \
			pango-1.0.0.0 pangoft2-1.0.0.0 pangox-1.0.0.0 \
			pangoxft-1.0.0.0 popt ORBit-2\
			gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 gtk-x11-2.0.0.0 \
			cairo glitz png
d32 1
a34 2
LIB_DEPENDS=		gconf-2::devel/gconf2 \
			gstcontrol-0.8.5.0,gstreamer-0.8.5.0::devel/gstreamer
d38 1
d46 3
a52 2
# Flavor/Plugin setup below this point...
#   "You're off the edge of the map, mate.  Here there be monsters"
d57 32
a88 2
PL_WANTLIB=		glib-2.0.0.0 gmodule-2.0.0.0 gobject-2.0.0.0 \
			gthread-2.0.0.0 popt m xml2 z
d92 9
a100 20
PKGNAME-a52=		gstreamer-a52-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_a52
# a52 doesn't build properly on sparc64
.if !${FLAVOR:L:Mno_a52} && !${FLAVOR:L:Mminimal} && ${MACHINE_ARCH} != "sparc64"
MULTI_PACKAGES+=	-a52
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-a52"
WANTLIB=		${PL_WANTLIB}
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			a52::audio/liba52
. endif
.else
. if ${MULTI_PACKAGES:M-a52}
BUILD_DEPENDS+=		::audio/liba52
CONFIGURE_ARGS+=	--enable-a52dec
. else
CONFIGURE_ARGS+=	--disable-a52dec
. endif
.endif
d104 5
a108 19
PKGNAME-audiofile=	gstreamer-audiofile-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_audiofile
.if !${FLAVOR:L:Mno_audiofile} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-audiofile
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-audiofile"
WANTLIB=		${PL_WANTLIB}
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			audiofile::devel/libaudiofile
. endif
.else
. if ${MULTI_PACKAGES:M-audiofile}
BUILD_DEPENDS+=		::devel/libaudiofile
CONFIGURE_ARGS+=	--enable-audiofile
. else
CONFIGURE_ARGS+=	--disable-audiofile
. endif
.endif
d112 7
a118 19
PKGNAME-cdda=		gstreamer-cdda-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_cdda
.if !${FLAVOR:L:Mno_cdda} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-cdda
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-cdda"
WANTLIB=		${PL_WANTLIB}
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			cdda_interface,cdda_paranoia::audio/cdparanoia
. endif
.else
. if ${MULTI_PACKAGES:M-cdda}
BUILD_DEPENDS+=		::audio/cdparanoia
CONFIGURE_ARGS+=	--enable-cdparanoia
. else
CONFIGURE_ARGS+=	--disable-cdparanoia
. endif
.endif
d122 1
a122 19
PKGNAME-dvdread=	gstreamer-dvdread-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_dvdread
.if !${FLAVOR:L:Mno_dvdread} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-dvdread
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-dvdread"
WANTLIB=		${PL_WANTLIB}
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			dvdread::devel/libdvdread
. endif
.else
. if ${MULTI_PACKAGES:M-dvdread}
BUILD_DEPENDS+=		::devel/libdvdread
CONFIGURE_ARGS+=	--enable-dvdread
. else
CONFIGURE_ARGS+=	--disable-dvdread
. endif
.endif
d126 6
a131 19
PKGNAME-esd=		gstreamer-esd-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_esd
.if !${FLAVOR:L:Mno_esd} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-esd
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-esd"
WANTLIB=		${PL_WANTLIB} audiofile
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			esd.2::audio/esound
. endif
.else
. if ${MULTI_PACKAGES:M-esd}
BUILD_DEPENDS+=		::audio/esound
CONFIGURE_ARGS+=	--enable-esd
. else
CONFIGURE_ARGS+=	--disable-esd
. endif
.endif
d135 1
a135 19
PKGNAME-flac=		gstreamer-flac-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_flac
.if !${FLAVOR:L:Mno_flac} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-flac
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-flac"
WANTLIB=                ${PL_WANTLIB}
LIB_DEPENDS=            gstreamer-0.8.0.0::devel/gstreamer \
			FLAC::audio/flac
. endif
.else
. if ${MULTI_PACKAGES:M-flac}
BUILD_DEPENDS+=		::audio/flac
CONFIGURE_ARGS+=	--enable-flac
. else
CONFIGURE_ARGS+=	--disable-flac
. endif
.endif
d139 1
a139 8
PKGNAME-gnome=		gstreamer-gnome-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_gnome
.if !${FLAVOR:L:Mno_gnome} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-gnome
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-gnome"
WANTLIB=		${PL_WANTLIB} crypto ssl gconf-2 \
d141 6
a146 11
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			gnomevfs-2::x11/gnome/vfs2
. endif
.else
. if ${MULTI_PACKAGES:M-gnome}
BUILD_DEPENDS+=		::x11/gnome/vfs2
CONFIGURE_ARGS+=	--enable-gnome_vfs
. else
CONFIGURE_ARGS+=	--disable-gnome_vfs
. endif
.endif
d150 1
a150 19
PKGNAME-jpeg=		gstreamer-jpeg-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_jpeg
.if !${FLAVOR:L:Mno_jpeg} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-jpeg
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-jpeg"
WANTLIB=		${PL_WANTLIB}
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			jpeg::graphics/jpeg
. endif
.else
. if ${MULTI_PACKAGES:M-jpeg}
BUILD_DEPENDS+=		::graphics/jpeg
CONFIGURE_ARGS+=	--enable-jpeg
. else
CONFIGURE_ARGS+=	--disable-jpeg
. endif
.endif
d154 1
a154 7
PKGNAME-lame=		gstreamer-lame-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_lame
.if !${FLAVOR:L:Mno_lame} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-lame
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-lame"
a156 11
WANTLIB=		${PL_WANTLIB}
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			mp3lame:lame-*:audio/lame,no_x11
. endif
.else
. if ${MULTI_PACKAGES:M-lame}
BUILD_DEPENDS+=		:lame-*:audio/lame,no_x11
CONFIGURE_ARGS+=	--enable-lame
. else
CONFIGURE_ARGS+=	--disable-lame
. endif
d158 1
d162 1
a162 10
PKGNAME-mad=		gstreamer-mad-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_mad
.if !${FLAVOR:L:Mno_mad} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-mad
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-mad"
WANTLIB=		${PL_WANTLIB}
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			id3tag::audio/libid3tag \
a163 10
. endif
.else
. if ${MULTI_PACKAGES:M-mad}
BUILD_DEPENDS+=		::audio/libid3tag \
			::audio/libmad
CONFIGURE_ARGS+=	--enable-mad
. else
CONFIGURE_ARGS+=	--disable-mad
. endif
.endif
d167 1
a167 19
PKGNAME-mikmod=		gstreamer-mikmod-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_mikmod
.if !${FLAVOR:L:Mno_mikmod} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-mikmod
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-mikmod"
WANTLIB=		${PL_WANTLIB}
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			mikmod::audio/libmikmod
. endif
.else
. if ${MULTI_PACKAGES:M-mikmod}
BUILD_DEPENDS+=		mikmod::audio/libmikmod
CONFIGURE_ARGS+=	--enable-mikmod
. else
CONFIGURE_ARGS+=	--disable-mikmod
. endif
.endif
d171 7
a177 19
PKGNAME-mpeg2=		gstreamer-mpeg2-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_mpeg2
.if !${FLAVOR:L:Mno_mpeg2} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-mpeg2
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-mpeg2"
WANTLIB=		${PL_WANTLIB} X11 Xv Xext
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			mpeg2::graphics/libmpeg2
. endif
.else
. if ${MULTI_PACKAGES:M-mpeg2}
BUILD_DEPENDS+=		::graphics/libmpeg2
CONFIGURE_ARGS+=	--enable-mpeg2dec
. else
CONFIGURE_ARGS+=	--disable-mpeg2dec
. endif
.endif
d181 1
a181 19
PKGNAME-ogg=		gstreamer-ogg-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_ogg
.if !${FLAVOR:L:Mno_ogg} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-ogg
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-ogg"
WANTLIB=		${PL_WANTLIB}
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			ogg::audio/libogg
. endif
.else
. if ${MULTI_PACKAGES:M-ogg}
BUILD_DEPENDS+=		::audio/libogg
CONFIGURE_ARGS+=	--enable-ogg
. else
CONFIGURE_ARGS+=	--disable-ogg
. endif
.endif
d185 2
a186 10
PKGNAME-sdl=		gstreamer-sdl-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_sdl
.if !${FLAVOR:L:Mno_sdl} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-sdl
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-sdl"
WANTLIB=		${PL_WANTLIB} Xext usbhid X11
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			SDL::devel/sdl \
d188 8
a195 9
. endif
.else
. if ${MULTI_PACKAGES:M-sdl}
BUILD_DEPENDS+=		::devel/sdl
CONFIGURE_ARGS+=	--enable-sdl
. else
CONFIGURE_ARGS+=	--disable-sdl
. endif
.endif
d199 10
a208 19
PKGNAME-speex=		gstreamer-speex-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_speex
.if !${FLAVOR:L:Mno_speex} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-speex
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-speex"
WANTLIB=		${PL_WANTLIB}
LIB_DEPENDS=		gstreamer-0.8.0.0::devel/gstreamer \
			speex.4::audio/speex
. endif
.else
. if ${MULTI_PACKAGES:M-speex}
BUILD_DEPENDS+=		:speex->=1.0.5:audio/speex
CONFIGURE_ARGS+=	--enable-speex
. else
CONFIGURE_ARGS+=	--disable-speex
. endif
.endif
d212 26
a237 19
PKGNAME-vorbis=		gstreamer-vorbis-${VERSION}${PATCHLEVEL}
PSEUDO_FLAVORS+=	no_vorbis
.if !${FLAVOR:L:Mno_vorbis} && !${FLAVOR:L:Mminimal}
MULTI_PACKAGES+=	-vorbis
.endif
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-vorbis"
WANTLIB=		${PL_WANTLIB} ogg
LIB_DEPENDS=            gstreamer-0.8.0.0::devel/gstreamer \
			vorbis,vorbisenc::audio/libvorbis
. endif
.else
. if ${MULTI_PACKAGES:M-vorbis}
BUILD_DEPENDS+=		::audio/libvorbis
CONFIGURE_ARGS+=	--enable-vorbis
. else
CONFIGURE_ARGS+=	--disable-vorbis
. endif
.endif
@


1.10
log
@- SHARED_LIBS
- regen PLISTs with new gettext
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/11/13 06:49:01 marcm Exp $
d8 1
a8 1
PKGNAME=		gstreamer-plugins-${VERSION}p3
d25 1
a25 1
WANTLIB=		ICE SM X11 Xdamage Xext Xfixes Xrender Xv \
d28 5
a32 4
			gobject-2.0.0.0 atk-1.0.0.0 png cairo \
			pango-1.0.0.0 pangoft2-1.0.0.0 glitz \
			pangocairo-1.0.1000.0 popt ORBit-2\
			gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 gtk-x11-2.0.0.0
@


1.9
log
@Update this to 0.8.11.  gtk+2 fallout.  Fix plugin registration handling.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/09/16 09:51:26 espie Exp $
d8 6
a13 1
PKGNAME=		gstreamer-plugins-${VERSION}p2
@


1.8
log
@Fix a buglet in bsd.port.mk where the PSEUDO_FLAVORS get encoded into
the FULLPKGPATH, thus providing changes to packing-lists which shouldn't
happen, and making update more difficult.

Accordingly, bump all pkgnames with PSEUDO_FLAVORS, and provide an
update @@pkgpath for the bug for most of them (left out the ones with 3
or 4 pseudo flavors for space constraints...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/09/11 05:12:41 marcm Exp $
d5 2
a6 2
VERSION=		0.8.8
PATCHLEVEL=		p1
d20 1
a20 1
WANTLIB=		GL GLU ICE SM X11 Xext Xft Xrender Xv \
d23 3
a25 3
			gobject-2.0.0.0 atk-1.0.0.0 \
			pango-1.0.0.0 pangoft2-1.0.0.0 pangox-1.0.0.0 \
			pangoxft-1.0.0.0 popt ORBit-2\
a46 1
CONFIGURE_ARGS+=	--disable-cairo
@


1.7
log
@Don't pick up cairo automagically... yet.

Bump package version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/06/06 20:38:33 sturm Exp $
d8 1
a8 1
PKGNAME=		gstreamer-plugins-${VERSION}${PATCHLEVEL}
@


1.6
log
@depend on any version of lame that's installed but prefer the no_x11
FLAVOR for new installs

this gives bulk builders a slightly better chance to not get conflicts

maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/05/24 21:33:33 marcm Exp $
d6 1
a6 1
PATCHLEVEL=		p0
d47 1
@


1.5
log
@0.8.6 -> 0.8.8.  Seemingly minor update, but major port rewrite to
handle plugins a little better.  (re)Added speex support too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/02/08 00:59:27 espie Exp $
d6 1
a6 1
PATCHLEVEL=		
d252 1
a252 1
			mp3lame::audio/lame,no_x11
d256 1
a256 1
BUILD_DEPENDS+=		::audio/lame,no_x11
@


1.4
log
@disable plugins that depend on mjpegtools: --disable-mjpegtools is a nop.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/01/03 10:01:10 alek Exp $
d5 2
a6 1
VERSION=		0.8.6
d8 1
a8 1
PKGNAME=		gstreamer-plugins-${VERSION}p0
d11 2
a14 2
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>

d20 8
a27 2
WANTLIB=		xml2 z m gthread-2.0.0.0 gmodule-2.0.0.0 glib-2.0.0.0 \
			gobject-2.0.0.0
d36 2
a37 1
LIB_DEPENDS=		gstcontrol-0.8.5.0,gstreamer-0.8.5.0::devel/gstreamer
d40 1
d44 2
a45 11
# Disable plugins we won't or can't build...
CONFIGURE_ARGS+=	--disable-alsa
CONFIGURE_ARGS+=	--disable-mjpegtools
CONFIGURE_ARGS+=	--disable-mpeg2enc
CONFIGURE_ARGS+=	--disable-mplex
CONFIGURE_ARGS+=	--disable-openquicktime
CONFIGURE_ARGS+=	--disable-qcam
# Speex in ports is too old
CONFIGURE_ARGS+=	--disable-speex
CONFIGURE_ARGS+=	--disable-v4l
CONFIGURE_ARGS+=	--disable-v4l2
d54 1
a54 1
PSEUDO_FLAVORS=		no_nuthin
d58 2
a59 11

.if empty(SUBPACKAGE)
WANTLIB+=	GL GLU ICE SM X11 Xcursor Xext Xft Xinerama Xrender Xv \
		fontconfig freetype m ossaudio glib-2.0.0.0 \gmodule-2.0.0.0  \
		pango-1.0.0.0 pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 \
		gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 gtk-x11-2.0.0.0 atk-1.0.0.0
.endif
.if empty(SUBPACKAGE) || ${SUBPACKAGE} == "-gnome"
LIB_DEPENDS+=		gconf-2::devel/gconf2
WANTLIB+=		ORBit-2
.endif
d63 1
a63 1
PKGNAME-a52=		gstreamer-a52-${VERSION}p0
d66 1
a66 1
.if !${FLAVOR:L:Mno_a52} && !${FLAVOR:L:Mno_nuthin} && ${MACHINE_ARCH} != "sparc64"
d71 3
a73 2
LIB_DEPENDS+=		a52::audio/liba52
RUN_DEPENDS=		::devel/gstreamer-plugins
d77 1
a77 1
LIB_DEPENDS+=		a52::audio/liba52
d86 1
a86 1
PKGNAME-audiofile=	gstreamer-audiofile-${VERSION}p0
d88 1
a88 1
.if !${FLAVOR:L:Mno_audiofile} && !${FLAVOR:L:Mno_nuthin}
d93 3
a95 2
LIB_DEPENDS+=		audiofile::devel/libaudiofile
RUN_DEPENDS=		::devel/gstreamer-plugins
d99 1
a99 1
LIB_DEPENDS+=		audiofile::devel/libaudiofile
d108 1
a108 1
PKGNAME-cdda=		gstreamer-cdda-${VERSION}p0
d110 1
a110 1
.if !${FLAVOR:L:Mno_cdda} && !${FLAVOR:L:Mno_nuthin}
d115 3
a117 2
LIB_DEPENDS+=		cdda_interface,cdda_paranoia::audio/cdparanoia
RUN_DEPENDS=		::devel/gstreamer-plugins
d121 1
a121 1
LIB_DEPENDS+=		cdda_interface,cdda_paranoia::audio/cdparanoia
d130 1
a130 1
PKGNAME-dvdread=	gstreamer-dvdread-${VERSION}p0
d132 1
a132 1
.if !${FLAVOR:L:Mno_dvdread} && !${FLAVOR:L:Mno_nuthin}
d137 3
a139 2
LIB_DEPENDS+=		dvdread::devel/libdvdread
RUN_DEPENDS=		::devel/gstreamer-plugins
d143 1
a143 1
LIB_DEPENDS+=		dvdread::devel/libdvdread
d152 1
a152 1
PKGNAME-esd=		gstreamer-esd-${VERSION}p0
d154 1
a154 1
.if !${FLAVOR:L:Mno_esd} && !${FLAVOR:L:Mno_nuthin}
d159 3
a161 3
WANTLIB+=		audiofile
LIB_DEPENDS+=		esd.2::audio/esound
RUN_DEPENDS=		::devel/gstreamer-plugins
d165 1
a165 1
LIB_DEPENDS+=		esd.2::audio/esound
d174 1
a174 1
PKGNAME-flac=		gstreamer-flac-${VERSION}p0
d176 1
a176 1
.if !${FLAVOR:L:Mno_flac} && !${FLAVOR:L:Mno_nuthin}
d181 3
a183 2
LIB_DEPENDS+=		FLAC::audio/flac
RUN_DEPENDS=		::devel/gstreamer-plugins
d187 1
a187 1
LIB_DEPENDS+=		FLAC::audio/flac
d196 1
a196 1
PKGNAME-gnome=		gstreamer-gnome-${VERSION}p0
d198 1
a198 1
.if !${FLAVOR:L:Mno_gnome} && !${FLAVOR:L:Mno_nuthin}
d203 4
a206 3
WANTLIB+=		bonobo-activation bonobo-2
LIB_DEPENDS+=		gnomevfs-2::x11/gnome/vfs2
RUN_DEPENDS=		::devel/gstreamer-plugins
d210 1
a210 1
LIB_DEPENDS+=		gnomevfs-2::x11/gnome/vfs2
d219 1
a219 1
PKGNAME-jpeg=		gstreamer-jpeg-${VERSION}p0
d221 1
a221 1
.if !${FLAVOR:L:Mno_jpeg} && !${FLAVOR:L:Mno_nuthin}
d226 3
a228 2
LIB_DEPENDS+=		jpeg::graphics/jpeg
RUN_DEPENDS=		::devel/gstreamer-plugins
d232 1
a232 1
LIB_DEPENDS+=		jpeg::graphics/jpeg
d241 1
a241 1
PKGNAME-lame=		gstreamer-lame-${VERSION}p0
d243 1
a243 1
.if !${FLAVOR:L:Mno_lame} && !${FLAVOR:L:Mno_nuthin}
d250 3
a252 2
LIB_DEPENDS+=		mp3lame::audio/lame,no_x11
RUN_DEPENDS=		::devel/gstreamer-plugins
d256 1
a256 1
LIB_DEPENDS+=		mp3lame::audio/lame,no_x11
d265 1
a265 1
PKGNAME-mad=		gstreamer-mad-${VERSION}p0
d267 1
a267 1
.if !${FLAVOR:L:Mno_mad} && !${FLAVOR:L:Mno_nuthin}
d272 3
a274 1
LIB_DEPENDS+=		id3tag::audio/libid3tag \
a275 1
RUN_DEPENDS=		::devel/gstreamer-plugins
d279 2
a280 2
LIB_DEPENDS+=		id3tag::audio/libid3tag \
			mad::audio/libmad
d289 1
a289 1
PKGNAME-mikmod=		gstreamer-mikmod-${VERSION}p0
d291 1
a291 1
.if !${FLAVOR:L:Mno_mikmod} && !${FLAVOR:L:Mno_nuthin}
d296 3
a298 2
LIB_DEPENDS+=		mikmod::audio/libmikmod
RUN_DEPENDS=		::devel/gstreamer-plugins
d302 1
a302 1
LIB_DEPENDS+=		mikmod::audio/libmikmod
d311 1
a311 1
PKGNAME-mpeg2=		gstreamer-mpeg2-${VERSION}p0
d313 1
a313 1
.if !${FLAVOR:L:Mno_mpeg2} && !${FLAVOR:L:Mno_nuthin}
d318 3
a320 2
LIB_DEPENDS+=		mpeg2::graphics/libmpeg2
RUN_DEPENDS=		::devel/gstreamer-plugins
d324 1
a324 1
LIB_DEPENDS+=		mpeg2::graphics/libmpeg2
d333 1
a333 1
PKGNAME-ogg=		gstreamer-ogg-${VERSION}p0
d335 1
a335 1
.if !${FLAVOR:L:Mno_ogg} && !${FLAVOR:L:Mno_nuthin}
d340 3
a342 2
LIB_DEPENDS+=		ogg::audio/libogg
RUN_DEPENDS=		::devel/gstreamer-plugins
d346 1
a346 1
LIB_DEPENDS+=		ogg::audio/libogg
d355 1
a355 1
PKGNAME-sdl=		gstreamer-sdl-${VERSION}p1
d357 1
a357 1
.if !${FLAVOR:L:Mno_sdl} && !${FLAVOR:L:Mno_nuthin}
d362 3
a364 1
LIB_DEPENDS+=		SDL::devel/sdl \
a365 1
WANTLIB+=		X11 usbhid Xext
d369 1
a369 1
LIB_DEPENDS+=		SDL::devel/sdl
d376 22
d400 1
a400 1
PKGNAME-vorbis=		gstreamer-vorbis-${VERSION}p0
d402 1
a402 1
.if !${FLAVOR:L:Mno_vorbis} && !${FLAVOR:L:Mno_nuthin}
d407 3
a409 3
WANTLIB+=		ogg
LIB_DEPENDS+=		vorbis,vorbisenc::audio/libvorbis
RUN_DEPENDS=		::devel/gstreamer-plugins
d413 1
a413 1
LIB_DEPENDS+=		vorbis,vorbisenc,vorbisfile::audio/libvorbis
@


1.3
log
@- Fix dependency for -sdl
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/01/03 02:10:36 alek Exp $
d38 2
@


1.2
log
@- Better LIB_DEPENDS
- Fix WANLIB marker
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/12/22 06:09:18 marcm Exp $
d350 1
a350 1
PKGNAME-sdl=		gstreamer-sdl-${VERSION}p0
d357 2
a358 2
LIB_DEPENDS+=		SDL::devel/sdl
RUN_DEPENDS=		::devel/gstreamer-plugins
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/01/31 18:52:44 todd Exp $
d7 1
a7 1
PKGNAME=		gstreamer-plugins-${VERSION}
d19 2
a20 6
WANTLIB=		GL GLU ICE SM X11 Xcursor Xext Xft Xinerama Xrender Xv \
			fontconfig freetype m ossaudio z \
			glib-2.0.0.0 gmodule-2.0.0.0 gobject-2.0.0.0 gthread-2.0.0.0 \
			ORBit-2 atk-1.0.0.0 xml2 \
			pango-1.0.0.0 pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 \
			gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 gtk-x11-2.0.0.0
d29 1
a29 2
LIB_DEPENDS=		gconf-2::devel/gconf2 \
			gstcontrol-0.8.5.0,gstreamer-0.8.5.0::devel/gstreamer
d57 11
d70 1
a70 1
PKGNAME-a52=		gstreamer-a52-${VERSION}
d78 1
a78 1
LIB_DEPENDS=		a52::audio/liba52
d92 1
a92 1
PKGNAME-audiofile=	gstreamer-audiofile-${VERSION}
d99 1
a99 1
LIB_DEPENDS=		audiofile::devel/libaudiofile
d113 1
a113 1
PKGNAME-cdda=		gstreamer-cdda-${VERSION}
d120 1
a120 1
LIB_DEPENDS=		cdda_interface,cdda_paranoia::audio/cdparanoia
d134 1
a134 1
PKGNAME-dvdread=	gstreamer-dvdread-${VERSION}
d141 1
a141 1
LIB_DEPENDS=		dvdread::devel/libdvdread
d155 1
a155 1
PKGNAME-esd=		gstreamer-esd-${VERSION}
d162 2
a163 1
LIB_DEPENDS=		esd.2::audio/esound
d177 1
a177 1
PKGNAME-flac=		gstreamer-flac-${VERSION}
d184 1
a184 1
LIB_DEPENDS=		FLAC::audio/flac
d198 1
a198 1
PKGNAME-gnome=		gstreamer-gnome-${VERSION}
d205 2
a206 2
WANTLIB+=		bonobo-activation
LIB_DEPENDS=		gnomevfs-2::x11/gnome/vfs2
d220 1
a220 1
PKGNAME-jpeg=		gstreamer-jpeg-${VERSION}
d227 1
a227 1
LIB_DEPENDS=		jpeg::graphics/jpeg
d241 1
a241 1
PKGNAME-lame=		gstreamer-lame-${VERSION}
d250 1
a250 1
LIB_DEPENDS=		mp3lame::audio/lame,no_x11
d264 1
a264 1
PKGNAME-mad=		gstreamer-mad-${VERSION}
d271 1
a271 1
LIB_DEPENDS=		id3tag::audio/libid3tag \
d287 1
a287 1
PKGNAME-mikmod=		gstreamer-mikmod-${VERSION}
d294 1
a294 1
LIB_DEPENDS=		mikmod::audio/libmikmod
d308 1
a308 1
PKGNAME-mpeg2=		gstreamer-mpeg2-${VERSION}
d315 1
a315 1
LIB_DEPENDS=		mpeg2::graphics/libmpeg2
d329 1
a329 1
PKGNAME-ogg=		gstreamer-ogg-${VERSION}
d336 1
a336 1
LIB_DEPENDS=		ogg::audio/libogg
d350 1
a350 1
PKGNAME-sdl=		gstreamer-sdl-${VERSION}
d357 1
a357 1
LIB_DEPENDS=		SDL::devel/sdl
d359 1
d372 1
a372 1
PKGNAME-vorbis=		gstreamer-vorbis-${VERSION}
d379 2
a380 1
LIB_DEPENDS=		vorbis,vorbisenc::audio/libvorbis
@


1.1.1.1
log
@Import of gstreamer-plugins, a large collection of audio and video
plugins for gstreamer.
@
text
@@
