head	1.2;
access;
symbols
	OPENBSD_5_5:1.1.0.4
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2014.03.18.12.08.54;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2014.01.31.14.05.26;	author jasper;	state Exp;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2014.01.31.14.05.44;	author jasper;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2014.03.18.12.13.01;	author jasper;	state dead;
branches;
next	;

1.1.4.1
date	2014.03.18.12.13.41;	author jasper;	state dead;
branches;
next	;


desc
@@


1.2
log
@update to yaml-0.1.5, addressing some issues jeremy@@ noticed with ruby
that were introduced by the patches added to fix the security issue.

ok jeremy@@
maintainer timed-out
@
text
@$OpenBSD: patch-src_api_c,v 1.1 2014/01/31 14:05:26 jasper Exp $

Apply libyaml-node-id-hardening.patch
https://bugzilla.redhat.com/show_bug.cgi?id=1033990

--- src/api.c.orig	Sun May 29 07:55:42 2011
+++ src/api.c	Fri Jan 31 13:52:38 2014
@@@@ -117,7 +117,12 @@@@ yaml_string_join(
 YAML_DECLARE(int)
 yaml_stack_extend(void **start, void **top, void **end)
 {
-    void *new_start = yaml_realloc(*start, ((char *)*end - (char *)*start)*2);
+    void *new_start;
+
+    if ((char *)*end - (char *)*start >= INT_MAX / 2)
+	return 0;
+
+    new_start = yaml_realloc(*start, ((char *)*end - (char *)*start)*2);
 
     if (!new_start) return 0;
 
@


1.1
log
@Security fix for CVE-2013-6393 and apply some further hardening
patches from RedHat.

ok pea@@ (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.4.1
log
@update to yaml-0.1.5, addressing some issues jeremy@@ noticed with ruby
that were introduced by the patches added to fix the security issue.

ok jeremy@@
maintainer timed-out
@
text
@d1 1
a1 1
$OpenBSD: patch-src_api_c,v 1.1 2014/01/31 14:05:26 jasper Exp $
@


1.1.2.1
log
@Security fix for CVE-2013-6393 and apply some further hardening
patches from RedHat.

ok pea@@ (MAINTAINER)
@
text
@@


1.1.2.2
log
@update to yaml-0.1.5, addressing some issues jeremy@@ noticed with ruby
that were introduced by the patches added to fix the security issue.

ok jeremy@@
maintainer timed-out
@
text
@d1 1
a1 1
$OpenBSD: patch-src_api_c,v 1.1.2.1 2014/01/31 14:05:44 jasper Exp $
@


