head	1.4;
access;
symbols
	OPENBSD_4_6:1.3.0.4
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.2
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2009.10.12.17.18.00;	author bernd;	state dead;
branches;
next	1.3;

1.3
date	2008.09.28.15.45.18;	author bernd;	state Exp;
branches;
next	1.2;

1.2
date	2008.06.17.22.42.59;	author bernd;	state Exp;
branches;
next	1.1;

1.1
date	2008.01.12.14.51.15;	author bernd;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to ruby-gems-1.3.5.

From Jeremy Evans. Thank you!
@
text
@$OpenBSD: patch-setup_rb,v 1.3 2008/09/28 15:45:18 bernd Exp $
--- setup.rb.orig	Fri Jul 11 10:08:08 2008
+++ setup.rb	Sat Sep 27 23:02:54 2008
@@@@ -131,7 +131,7 @@@@ else
     lib_dir = Gem::ConfigMap[site_or_vendor]
     bin_dir = Gem::ConfigMap[:bindir]
   else
-    lib_dir = File.join prefix, 'lib'
+    lib_dir = ENV['RUBYLIB']
     bin_dir = File.join prefix, 'bin'
   end
 end
@


1.3
log
@Update to ruby-gems-1.3.0.

Initial diff for 1.2.0 from Jeremy Evans.
Some hints from sturm@@.
@
text
@d1 1
a1 1
$OpenBSD: patch-setup_rb,v 1.2 2008/06/17 22:42:59 bernd Exp $
@


1.2
log
@Update to ruby-gems-1.1.1.
@
text
@d1 5
a5 5
$OpenBSD: patch-setup_rb,v 1.1 2008/01/12 14:51:15 bernd Exp $
--- setup.rb.orig	Sat Apr 19 14:46:21 2008
+++ setup.rb	Sat Apr 19 14:47:22 2008
@@@@ -94,7 +94,7 @@@@ else
     lib_dir = Gem::ConfigMap[:sitelibdir]
d11 2
a12 14
 
     mkdir_p lib_dir
@@@@ -261,8 +261,9 @@@@ end
 puts "As of RubyGems 0.8.0, library stubs are no longer needed."
 puts "Searching $LOAD_PATH for stubs to optionally delete (may take a while)"
 
-gemfiles = Dir[File.join("{#{($LOAD_PATH).join(',')}}", '**', '*.rb')]
-gemfiles = gemfiles.map { |file| File.expand_path file }.uniq
+#gemfiles = Dir[File.join("{#{($LOAD_PATH).join(',')}}", '**', '*.rb')]
+#gemfiles = gemfiles.map { |file| File.expand_path file }.uniq
+gemfiles = []
 
 puts "...done."
 
@


1.1
log
@Update to ruby-gems-1.0.1.

help & testing jcs@@, msf@@

ok jcs@@
@
text
@d1 10
a10 4
$OpenBSD$
--- setup.rb.orig	Fri Dec 21 02:15:55 2007
+++ setup.rb	Fri Dec 21 16:46:28 2007
@@@@ -72,7 +72,7 @@@@ else
d12 4
a15 10
   raise "invalid --prefix #{prefix.inspect}" if prefix.nil?
 
-  lib_dir = File.join prefix, 'lib'
+  lib_dir = ENV['RUBYLIB']
   bin_dir = File.join prefix, 'bin'
 
   mkdir_p lib_dir
@@@@ -235,8 +235,9 @@@@ puts <<-EOF.gsub(/^ */, '')
   Searching $LOAD_PATH for stubs to optionally delete (may take a while)...
   EOF
@

