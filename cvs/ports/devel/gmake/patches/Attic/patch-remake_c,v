head	1.2;
access;
symbols
	OPENBSD_5_4:1.1.0.4
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2013.10.30.23.08.56;	author brad;	state dead;
branches;
next	1.1;

1.1
date	2012.10.01.17.47.44;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Upgrade to gmake 4.0.

Bulk build tested by landry@@

ok sthen@@
@
text
@$OpenBSD: patch-remake_c,v 1.1 2012/10/01 17:47:44 naddy Exp $

https://savannah.gnu.org/bugs/?30653

--- remake.c.orig	Tue Jul 13 03:20:42 2010
+++ remake.c	Sun Sep 30 19:26:42 2012
@@@@ -614,6 +614,10 @@@@ update_file_1 (struct file *file, unsigned int depth)
                 d->file->dontcare = file->dontcare;
               }
 
+            /* We may have already considered this file, when we didn't know
+               we'd need to update it.  Force update_file() to consider it and
+               not prune it.  */
+            d->file->considered = !considered;
 
 	    dep_status |= update_file (d->file, depth);
 
@


1.1
log
@upstream fix for parallel builds (e.g., of webkit); ok espie@@
@
text
@d1 1
a1 1
$OpenBSD$
@

