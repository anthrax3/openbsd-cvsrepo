head	1.3;
access;
symbols
	OPENBSD_5_4:1.2.0.4
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2013.08.28.20.25.21;	author abieber;	state dead;
branches;
next	1.2;

1.2
date	2012.12.05.00.45.05;	author abieber;	state Exp;
branches;
next	1.1;

1.1
date	2012.06.28.17.27.51;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Forgot to remove the patch-binding_gyp file from last commit.

Thanks Alexey Suslikov for noticing.
@
text
@$OpenBSD: patch-binding_gyp,v 1.2 2012/12/05 00:45:05 abieber Exp $

Bad hack to get it to use correct implementation, since it is
recognizing the OpenBSD as Linux.

--- binding.gyp.orig	Sun Jun 24 05:39:12 2012
+++ binding.gyp	Wed Nov 28 09:28:50 2012
@@@@ -18,10 +18,10 @@@@
 					{
 						'cflags': ['-Wno-deprecated-declarations'],
 						'defines': ['USE_CORO'],
-						'ldflags': ['-pthread'],
+						'ldflags': ['-pthread -L${LOCALBASE}/lib'],
 					}
 				],
-				['OS == "linux" or OS == "solaris" or OS == "freebsd"', {'defines': ['CORO_UCONTEXT']}],
+				['OS == "linux" or OS == "solaris" or OS == "freebsd"', {'defines': ['CORO_ASM']}],
 				['OS == "mac"', {
 					'defines': ['CORO_SJLJ'],
 					 'xcode_settings': {
@


1.2
log
@Make node-fibers use libv8

OK jeremy@@
@
text
@d1 1
a1 1
$OpenBSD: patch-binding_gyp,v 1.1 2012/06/28 17:27:51 jeremy Exp $
@


1.1
log
@Update node-fibers to 0.6.8, works with node 0.8.0.

Build process changed from waf to gyp, so modify patches accordingly.
@
text
@d1 1
a1 1
$OpenBSD$
d6 8
a13 4
--- binding.gyp.orig	Tue Jun 26 11:47:28 2012
+++ binding.gyp	Tue Jun 26 11:47:37 2012
@@@@ -21,7 +21,7 @@@@
 						'ldflags': ['-pthread'],
@

