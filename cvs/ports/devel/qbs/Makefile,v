head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.2
	OPENBSD_6_2_BASE:1.2
	rsadowski_20170921:1.1.1.1
	rsadowski:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2017.09.27.10.06.22;	author espie;	state Exp;
branches;
next	1.1;
commitid	Pln1ntDVZ60v6Ok5;

1.1
date	2017.09.21.19.03.55;	author rsadowski;	state Exp;
branches
	1.1.1.1;
next	;
commitid	9hqw2e4QeA6KH7Nj;

1.1.1.1
date	2017.09.21.19.03.55;	author rsadowski;	state Exp;
branches;
next	;
commitid	9hqw2e4QeA6KH7Nj;


desc
@@


1.2
log
@< is different from <=
@
text
@# $OpenBSD: Makefile,v 1.1.1.1 2017/09/21 19:03:55 rsadowski Exp $

COMMENT =	declarative cross-platform build tool
V =		1.9.0
DISTNAME =	qbs-src-${V}
PKGNAME =	qbs-${V}
REVISION =	0

SHARED_LIBS =	qbscore			2.0
SHARED_LIBS +=	qbsqtprofilesetup	1.4

CATEGORIES =	devel
HOMEPAGE =	https://doc.qt.io/qbs/
MAINTAINER =	KDE porting team <openbsd-kde@@googlegroups.com>

# LGPLv3 or GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += ${COMPILER_LIBCXX} GL Qt5Core Qt5Gui Qt5Network Qt5Script
WANTLIB += Qt5Widgets Qt5Xml c m

MASTER_SITES =		https://download.qt.io/official_releases/qbs/${V}/

MODULES =		devel/qmake x11/qt5

MODQMAKE_PROJECTS =	qbs.pro
MODQMAKE_ARGS =		CONFIG+=qbs_enable_unit_tests=1

BUILD_DEPENDS =		x11/qt5/qtdeclarative
RUN_DEPENDS =		x11/qt5/qtdeclarative
LIB_DEPENDS =		x11/qt5/qtbase \
			x11/qt5/qtscript

TEST_DEPENDS =		${BUILD_PKGPATH}

TEST_ENV =		LD_LIBRARY_PATH=${WRKBUILD}/lib

WRKSRC =		${WRKDIR}/dist/${DISTNAME}

do-test:
	cd ${WRKBUILD}/bin/; \
	for t in tst_*; do \
	${SETENV} ${ALL_TEST_ENV} ./$$t; \
	done

.include <bsd.port.mk>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@Import devel/qbs

QBS is a tool that helps simplify the build process for developing projects
across multiple platforms. QBS can be used for any software project, regardless
of programming language, toolkit, or libraries used.

QBS is an all-in-one tool that generates a build graph from a high-level project
description (like qmake or CMake) and additionally undertakes the task
of executing the commands in the low-level build graph (like make).

Most of the work was done by zhuk@@ Thanks!. Makefile cleanup and fix/enable
tests by me.

conflict tweak and ok jca@@


@
text
@@
