head	1.1;
access;
symbols
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2012.05.29.20.34.10;	author jasper;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2012.05.29.20.34.10;	author jasper;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2012.06.18.14.43.58;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file patch-src_table_c was initially added on branch OPENBSD_5_1.
@
text
@@


1.1.2.1
log
@Apply patches from upstream bugzilla (#676090, malicious escape sequences can ca
use denial of service).
@
text
@a0 20
$OpenBSD: patch-src_table_c,v 1.1 2012/05/29 20:31:40 jasper Exp $

From feeee4b5832b17641e505b7083e0d299fdae318e Mon Sep 17 00:00:00 2001
From: Christian Persch <chpe@@gnome.org>
Date: Sat, 19 May 2012 19:36:09 +0200
Subject: [PATCH] emulation: Limit integer arguments to 65535

https://bugzilla.gnome.org/show_bug.cgi?id=676090

--- src/table.c.orig	Tue Aug 16 23:52:48 2011
+++ src/table.c	Tue May 29 22:22:59 2012
@@@@ -550,7 +550,7 @@@@ _vte_table_extract_numbers(GValueArray **array,
 		if (G_UNLIKELY (*array == NULL)) {
 			*array = g_value_array_new(1);
 		}
-		g_value_set_long(&value, total);
+		g_value_set_long(&value, CLAMP (total, 0, G_MAXUSHORT));
 		g_value_array_append(*array, &value);
 	} while (i++ < arginfo->length);
 	g_value_unset(&value);
@


1.1.2.2
log
@this has finally been assigned a cve number; reference it.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_table_c,v 1.1.2.1 2012/05/29 20:34:10 jasper Exp $
d8 1
a8 1
https://bugzilla.gnome.org/show_bug.cgi?id=676090 (CVE-2012-2738)
@


