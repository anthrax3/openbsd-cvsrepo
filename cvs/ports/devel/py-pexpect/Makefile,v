head	1.27;
access;
symbols
	OPENBSD_6_2:1.27.0.4
	OPENBSD_6_2_BASE:1.27
	OPENBSD_6_1:1.27.0.2
	OPENBSD_6_1_BASE:1.27
	OPENBSD_6_0:1.24.0.2
	OPENBSD_6_0_BASE:1.24
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.18.0.4
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.17.0.6
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.17.0.4
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.17.0.2
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.16.0.2
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.15.0.6
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.4
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.2
	OPENBSD_5_0:1.12.0.2
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.10.0.6
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.4
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.9.0.6
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.4
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.7.0.6
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.4
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.2
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.5.0.8
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.5.0.6
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.4
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.5.0.2
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	sturm_2004-Jan-12:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2017.01.03.19.19.49;	author landry;	state Exp;
branches;
next	1.26;
commitid	NkZaP5skFWQkYqhM;

1.26
date	2016.09.01.06.56.46;	author shadchin;	state Exp;
branches;
next	1.25;
commitid	QlRvUwNOfICTpKyz;

1.25
date	2016.08.28.12.57.32;	author shadchin;	state Exp;
branches;
next	1.24;
commitid	T8Rp31b4gKpBVksy;

1.24
date	2016.06.19.12.17.06;	author shadchin;	state Exp;
branches;
next	1.23;
commitid	fqrBvKK9I4S0AZsE;

1.23
date	2016.04.17.07.37.29;	author shadchin;	state Exp;
branches;
next	1.22;
commitid	MZSRC9ceTDS9ZSPV;

1.22
date	2016.04.16.19.06.25;	author shadchin;	state Exp;
branches;
next	1.21;
commitid	wfEd7xGXnB5Lv2RG;

1.21
date	2016.04.15.08.53.49;	author shadchin;	state Exp;
branches;
next	1.20;
commitid	DdvlmL5VDlYoSZZS;

1.20
date	2016.01.08.16.26.15;	author jca;	state Exp;
branches;
next	1.19;
commitid	eeyrX9SZEZjDQTJf;

1.19
date	2016.01.07.17.16.20;	author shadchin;	state Exp;
branches;
next	1.18;
commitid	xWJpWj1XHFqsPt5Y;

1.18
date	2015.04.02.14.21.15;	author jasper;	state Exp;
branches;
next	1.17;
commitid	4Dkfcsk2uZtFDSwy;

1.17
date	2013.10.08.05.09.48;	author rpointel;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.11.10.50.26;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2011.10.22.09.07.18;	author rpointel;	state Exp;
branches;
next	1.14;

1.14
date	2011.10.20.19.02.33;	author rpointel;	state Exp;
branches;
next	1.13;

1.13
date	2011.09.16.09.24.55;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2011.06.08.17.39.25;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2010.08.30.22.24.15;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2009.03.15.13.03.41;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2007.10.08.08.22.40;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2007.09.16.02.53.11;	author merdely;	state Exp;
branches;
next	1.7;

1.7
date	2006.06.08.14.27.16;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2006.06.03.09.37.09;	author alek;	state Exp;
branches;
next	1.5;

1.5
date	2004.08.03.14.27.33;	author xsa;	state Exp;
branches;
next	1.4;

1.4
date	2004.07.23.09.08.08;	author xsa;	state Exp;
branches;
next	1.3;

1.3
date	2004.01.30.08.39.48;	author xsa;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.25.16.46.30;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2004.01.12.17.58.47;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.01.12.17.58.47;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.27
log
@bump ports depending on python3 in devel
@
text
@# $OpenBSD: Makefile,v 1.26 2016/09/01 06:56:46 shadchin Exp $

COMMENT=		pure Python Expect-like module

MODPY_EGG_VERSION=	4.2.1
DISTNAME=		pexpect-${MODPY_EGG_VERSION}
PKGNAME=		py-${DISTNAME}
CATEGORIES=		devel
REVISION=		0

HOMEPAGE=		http://pexpect.sourceforge.net/

MAINTAINER =		Alexandr Shadchin <shadchin@@openbsd.org>

# ISC
PERMIT_PACKAGE_CDROM=	Yes

MODPY_PI =		Yes

MODULES=		lang/python

RUN_DEPENDS =		devel/py-ptyprocess${MODPY_FLAVOR}
BUILD_DEPENDS =		${RUN_DEPENDS} \
			textproc/py-sphinx${MODPY_FLAVOR}
TEST_DEPENDS =		${RUN_DEPENDS} \
			devel/py-test${MODPY_FLAVOR} \
			shells/bash

FLAVORS =		python3
FLAVOR ?=

MODPY_ADJ_FILES =	tests/fakessh/ssh

EXAMPLESDIR=		${PREFIX}/share/examples/${MODPY_PY_PREFIX}pexpect
DOCDIR=			${PREFIX}/share/doc/${MODPY_PY_PREFIX}pexpect

MAKE_ENV +=		PYTHONPATH=${WRKSRC}

pre-build:
	${SUBST_CMD} ${WRKSRC}/pexpect/replwrap.py
	${SUBST_CMD} ${WRKSRC}/tests/test_ctrl_chars.py
	${SUBST_CMD} ${WRKSRC}/tests/test_performance.py
	${SUBST_CMD} ${WRKSRC}/tests/test_replwrap.py
	${SUBST_CMD} ${WRKSRC}/tests/test_run.py

post-build:
	cd ${WRKSRC}/doc && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} html \
	    SPHINXBUILD=${LOCALBASE}/bin/sphinx-build${MODPY_BIN_SUFFIX}

post-install:
	${INSTALL_DATA_DIR} ${EXAMPLESDIR}
	${INSTALL_DATA} ${WRKSRC}/examples/* ${EXAMPLESDIR}
	${INSTALL_DATA_DIR} ${DOCDIR}
	cd ${WRKSRC}/doc/_build/html && pax -rw * ${DOCDIR}

do-test:
	cd ${WRKSRC} && ${MODPY_BIN} -m pytest

.include <bsd.port.mk>
@


1.26
log
@Update to py-pexpect 4.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2016/08/28 12:57:32 shadchin Exp $
d9 1
@


1.25
log
@Update to py-pexpect 4.2.0.

ok danj@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2016/06/19 12:17:06 shadchin Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	4.2.0
@


1.24
log
@Update to py-pexpect 4.1.0. Take maintainer.

ok danj@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2016/04/17 07:37:29 shadchin Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	4.1.0
@


1.23
log
@Missing build dep, spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2016/04/16 19:06:25 shadchin Exp $
d3 1
a3 1
COMMENT=	pure Python Expect-like module
d5 4
a8 5
MODPY_EGG_VERSION=	4.0.1
DISTNAME=	pexpect-${MODPY_EGG_VERSION}
PKGNAME=	py-${DISTNAME}
CATEGORIES=	devel
REVISION=	2
d10 3
a12 1
HOMEPAGE=	http://pexpect.sourceforge.net/
d19 1
a19 1
MODULES=	lang/python
d33 2
a34 2
EXAMPLESDIR=	${PREFIX}/share/examples/${MODPY_PY_PREFIX}pexpect
DOCDIR=		${PREFIX}/share/doc/${MODPY_PY_PREFIX}pexpect
d36 1
a36 1
MAKE_ENV +=	PYTHONPATH=${WRKSRC} SPHINXBUILD=${LOCALBASE}/bin/sphinx-build${MODPY_BIN_SUFFIX}
d46 2
a47 1
	cd ${WRKSRC}/doc && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} html
@


1.22
log
@* Switch on py3-sphinx for python3
* Prevent build from calling out to the internet

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/04/15 08:53:49 shadchin Exp $
d9 1
a9 1
REVISION=	1
d21 2
a22 1
BUILD_DEPENDS =		textproc/py-sphinx${MODPY_FLAVOR}
@


1.21
log
@Unbreak after py-sphinx update to 1.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/01/08 16:26:15 jca Exp $
d9 1
a9 1
REVISION=	0
d21 1
a21 2
BUILD_DEPENDS =		devel/py-ptyprocess \
			textproc/py-sphinx
d34 2
d44 1
a44 1
	cd ${WRKSRC}/doc && env PYTHONPATH=${WRKSRC} make html
@


1.20
log
@Unbreak the python3 flavor: sphinx needs py-ptyprocess (python2) at build time.

Spotted by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2016/01/07 17:16:20 shadchin Exp $
d9 1
@


1.19
log
@Update to py-pexpect 4.0.1

ok jca@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/04/02 14:21:15 jasper Exp $
d20 1
a20 1
BUILD_DEPENDS =		${RUN_DEPENDS} \
@


1.18
log
@- switch to MODPY_PI
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/10/08 05:09:48 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION= 2.4
d12 1
a12 1
# Python 
d15 1
a15 1
MODPY_PI =          Yes
d19 21
a39 2
EXAMPLESDIR=	${PREFIX}/share/examples/py-pexpect
DOCDIR=		${PREFIX}/share/doc/py-pexpect
d41 2
a42 1
NO_TEST=	Yes
a45 1
	${INSTALL_DATA} ${WRKSRC}/{ANSI,FSM,screen}.py ${EXAMPLESDIR}
d48 4
a51 1
	${INSTALL_DATA} ${WRKSRC}/doc/* ${DOCDIR}
@


1.17
log
@update pexpect to 2.4.
ok dcoppa@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/11 10:50:26 espie Exp $
d15 1
a15 1
MASTER_SITES =          ${MASTER_SITE_PYPI:=p/pexpect/}
@


1.16
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/10/22 09:07:18 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION= 2.3
d15 1
a15 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=pexpect/}
@


1.15
log
@use MODPY_EGG_VERSION, idea from jasper@@.
regen plist, to use MODPY_EGG_VERSION.
No bump because pkg does not change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/10/20 19:02:33 rpointel Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d22 1
a22 1
NO_REGRESS=	Yes
@


1.14
log
@update pexpect to 2.3.
ok aja@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/09/16 09:24:55 espie Exp $
d5 2
a6 1
DISTNAME=	pexpect-2.3
@


1.13
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/06/08 17:39:25 jasper Exp $
d5 1
a5 1
DISTNAME=	pexpect-2.1
a6 1
REVISION =	4
@


1.12
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/08/30 22:24:15 jasper Exp $
d7 1
a7 1
REVISION =	3
@


1.11
log
@bumpski for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/03/15 13:03:41 espie Exp $
d7 1
a7 1
REVISION =	2
@


1.10
log
@A few more python deps, tweak python module to handle tkinter
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/10/08 08:22:40 steven Exp $
d6 2
a7 1
PKGNAME=	py-${DISTNAME}p1
@


1.9
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/09/16 02:53:11 merdely Exp $
d6 1
a6 1
PKGNAME=	py-${DISTNAME}p0
@


1.8
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/06/08 14:27:16 steven Exp $
d6 1
a6 1
PKGNAME=	py-${DISTNAME}
@


1.7
log
@update to pexpect 2.1

"fine" xsa@@, removed him from maintainer per his request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/06/03 09:37:09 alek Exp $
d3 1
a3 1
COMMENT=	"pure Python Expect-like module"
@


1.6
log
@Bump PKGNAMEs after recent python switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/08/03 14:27:33 xsa Exp $
d5 2
a6 2
DISTNAME=	pexpect-0.999
PKGNAME=	py-${DISTNAME}p0
a10 2
MAINTAINER=	Xavier Santolaria <xsa@@openbsd.org>

a17 1
EXTRACT_SUFX=	.tgz
d22 1
d29 3
@


1.5
log
@
MODULES= lang/python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/07/23 09:08:08 xsa Exp $
d6 1
a6 1
PKGNAME=	py-${DISTNAME}
@


1.4
log
@
update to py-pexpect-0.999;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/01/30 08:39:48 xsa Exp $
d22 1
a22 1
MODULES=	python
@


1.3
log
@
change my MAINTAINER address to @@openbsd.org; ok sturm@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/01/25 16:46:30 sturm Exp $
d5 1
a5 1
DISTNAME=	pexpect-0.99
@


1.2
log
@use default MODPY_VERSION (currently 2.3)

from Xavier Santolaria
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/01/12 17:58:47 sturm Exp $
d11 1
a11 1
MAINTAINER=	Xavier Santolaria <xavier@@santolaria.net>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a22 1
MODPY_VERSION=	2.3
@


1.1.1.1
log
@Initial import of py-pexpect 0.99

Pexpect makes Python a better tool for controlling other applications.

Pexpect is a pure Python module for spawning child applications; controlling
them; and responding to expected patterns in their output. Pexpect works like 
Don Libes' Expect. Pexpect allows your script to spawn a child application and 
control it as if a human were typing commands.

WWW: http://pexpect.sourceforge.net/

from Xavier Santolaria <xavier at santolaria dot net>
@
text
@@
