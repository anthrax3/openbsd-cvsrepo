head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.18
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.16
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.12
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.14
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.10
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.8
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.6
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.4
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.0.4
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2012.12.07.15.18.38;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.05.29.20.31.40;	author jasper;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2012.05.29.20.31.46;	author jasper;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2012.06.18.14.43.58;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Unbreak since we now have support for Unix 98 PTY functions.
@
text
@$OpenBSD: patch-src_table_c,v 1.1 2012/05/29 20:31:40 jasper Exp $

From feeee4b5832b17641e505b7083e0d299fdae318e Mon Sep 17 00:00:00 2001
From: Christian Persch <chpe@@gnome.org>
Date: Sat, 19 May 2012 19:36:09 +0200
Subject: [PATCH] emulation: Limit integer arguments to 65535

--- src/table.c.orig	Tue Aug 16 23:52:48 2011
+++ src/table.c	Tue May 29 22:22:59 2012
@@@@ -550,7 +550,7 @@@@ _vte_table_extract_numbers(GValueArray **array,
 		if (G_UNLIKELY (*array == NULL)) {
 			*array = g_value_array_new(1);
 		}
-		g_value_set_long(&value, total);
+		g_value_set_long(&value, CLAMP (total, 0, G_MAXUSHORT));
 		g_value_array_append(*array, &value);
 	} while (i++ < arginfo->length);
 	g_value_unset(&value);
@


1.1
log
@Apply patches from upstream bugzilla (#676090, malicious escape sequences can cause denial of service).
@
text
@d1 1
a1 1
$OpenBSD$
a6 2

https://bugzilla.gnome.org/show_bug.cgi?id=676090
@


1.1.2.1
log
@Apply patches from upstream bugzilla (#676090, malicious escape sequences can ca
use denial of service).
@
text
@@


1.1.2.2
log
@this has finally been assigned a cve number; reference it.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_table_c,v 1.1.2.1 2012/05/29 20:31:46 jasper Exp $
d8 1
a8 1
https://bugzilla.gnome.org/show_bug.cgi?id=676090 (CVE-2012-2738)
@


