head	1.7;
access;
symbols
	OPENBSD_6_0:1.7.0.2
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.5.0.6
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.1.0.2
	OPENBSD_5_4_BASE:1.1;
locks; strict;
comment	@# @;


1.7
date	2016.03.01.21.02.30;	author landry;	state Exp;
branches;
next	1.6;
commitid	SA4M4a3o4FRJaXGY;

1.6
date	2015.10.30.07.58.52;	author landry;	state Exp;
branches;
next	1.5;
commitid	UeS3K4VDiujXEUR0;

1.5
date	2014.09.24.18.43.39;	author landry;	state Exp;
branches
	1.5.6.1;
next	1.4;
commitid	o43lqYIN2nwDWtRg;

1.4
date	2014.06.11.07.58.17;	author landry;	state Exp;
branches;
next	1.3;
commitid	5WpjA8uj4wNJ1n3A;

1.3
date	2014.03.10.20.17.27;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2013.11.13.20.54.45;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2013.06.23.18.36.50;	author landry;	state Exp;
branches;
next	;

1.5.6.1
date	2015.12.24.14.09.25;	author jasper;	state Exp;
branches;
next	;
commitid	hj0jQsFKKtzeY9au;


desc
@@


1.7
log
@Update to nspr 4.12, requirement of upcoming gecko 45.

Bump minor as PR_GetEnvSecure() was added to prenv.h.

Remove now useless patch-nspr_pr_src_pthreads_ptthread_c, was merged
upstream in https://hg.mozilla.org/projects/nspr/rev/85f6c6480115
@
text
@$OpenBSD: patch-nspr_configure_in,v 1.6 2015/10/30 07:58:52 landry Exp $
--- nspr/configure.in.orig	Fri Feb 12 14:51:25 2016
+++ nspr/configure.in	Tue Mar  1 21:13:55 2016
@@@@ -2126,9 +2126,11 @@@@ tools are selected during the Xcode/Developer Tools in
     AC_DEFINE(OPENBSD)
     AC_DEFINE(HAVE_BSD_FLOCK)
     AC_DEFINE(HAVE_SOCKLEN_T)
+    AC_DEFINE(_PR_HAVE_GETPROTO_R)
+    AC_DEFINE(_PR_HAVE_GETPROTO_R_INT)
     CFLAGS="$CFLAGS -ansi -Wall"
     CXXFLAGS="$CXXFLAGS -ansi -Wall"
-    DLL_SUFFIX=so.1.0
+    DLL_SUFFIX="so.${SO_VERSION}"
     DSO_CFLAGS=-fPIC
     MDCPUCFG_H=_openbsd.cfg
     PR_MD_CSRCS=openbsd.c
@


1.6
log
@Update to nspr 4.10.10.
@
text
@d1 4
a4 4
$OpenBSD: patch-nspr_configure_in,v 1.5 2014/09/24 18:43:39 landry Exp $
--- nspr/configure.in.orig	Fri Oct 16 15:22:19 2015
+++ nspr/configure.in	Wed Oct 21 08:55:31 2015
@@@@ -2130,9 +2130,11 @@@@ tools are selected during the Xcode/Developer Tools in
@


1.5
log
@Update to NSPR 4.10.7.
@
text
@d1 4
a4 4
$OpenBSD: patch-nspr_configure_in,v 1.4 2014/06/11 07:58:17 landry Exp $
--- nspr/configure.in.orig	Tue Aug 12 17:40:57 2014
+++ nspr/configure.in	Wed Sep 24 20:10:47 2014
@@@@ -2168,9 +2168,11 @@@@ tools are selected during the Xcode/Developer Tools in
@


1.5.6.1
log
@- update to nspr-4.10.10
* minimum required version for firefox-esr 35
@
text
@d1 4
a4 4
$OpenBSD: patch-nspr_configure_in,v 1.6 2015/10/30 07:58:52 landry Exp $
--- nspr/configure.in.orig	Fri Oct 16 15:22:19 2015
+++ nspr/configure.in	Wed Oct 21 08:55:31 2015
@@@@ -2130,9 +2130,11 @@@@ tools are selected during the Xcode/Developer Tools in
@


1.4
log
@Update to nspr 4.10.6, required by upcoming ffx 30.

Might or might not fix security issues, noone knows as there are no
release announcements, nor changelogs. Check
http://hg.mozilla.org/projects/nspr/shortlog for a list of changes...
@
text
@d1 4
a4 4
$OpenBSD: patch-nspr_configure_in,v 1.3 2014/03/10 20:17:27 landry Exp $
--- nspr/configure.in.orig	Thu Jun  5 23:42:08 2014
+++ nspr/configure.in	Wed Jun 11 07:58:34 2014
@@@@ -2149,9 +2149,11 @@@@ tools are selected during the Xcode/Developer Tools in
@


1.3
log
@Minor bugfix update to nspr 4.10.3, req'ed by future mozillas.
@
text
@d1 4
a4 4
$OpenBSD: patch-nspr_configure_in,v 1.2 2013/11/13 20:54:45 landry Exp $
--- nspr/configure.in.orig	Mon Jan 27 20:37:44 2014
+++ nspr/configure.in	Sun Feb 16 14:53:33 2014
@@@@ -2173,9 +2173,11 @@@@ tools are selected during the Xcode/Developer Tools in
@


1.2
log
@SECURITY(?) update to nspr 4.10.2.

Fixes the following bugs:
Bug 927687: Avoid unsigned integer wrapping in PL_ArenaAllocate (possible CVE?, not confirmed yet)
Bug 770534: eliminate possible pointer overflow in PL_ArenaAllocate().
Bug 888546: PR_ImportUDPSocket doesn't work.

No release notes yet.
Note: This is what will be shipped within Fx 25.0.1, per #935568 & #935959.
@
text
@d1 4
a4 4
$OpenBSD: patch-nspr_configure_in,v 1.1 2013/06/23 18:36:50 landry Exp $
--- nspr/configure.in.orig	Sat Nov  9 10:49:40 2013
+++ nspr/configure.in	Wed Nov 13 21:32:12 2013
@@@@ -2147,9 +2147,11 @@@@ tools are selected during the Xcode/Developer Tools in
@


1.1
log
@Update to nspr 4.10.

http://mozilla.6506.n7.nabble.com/ANNOUNCE-NSPR-4-10-Release-td280660.html

After years of sticking to CVS, upstream finally switched to hg,
changing its directory layout while here. All our patches are actually
unchanged, but got renamed/moved. CVS doesn't handle moves :)

Tested in an amd64 bulk build.
@
text
@d1 4
a4 4
$OpenBSD$
--- nspr/configure.in.orig	Tue May 28 23:39:29 2013
+++ nspr/configure.in	Wed Jun 12 21:26:28 2013
@@@@ -2136,9 +2136,11 @@@@ tools are selected during the Xcode/Developer Tools in
@

