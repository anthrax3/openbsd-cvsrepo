head	1.55;
access;
symbols
	OPENBSD_6_0:1.53.0.2
	OPENBSD_6_0_BASE:1.53
	OPENBSD_5_9:1.52.0.2
	OPENBSD_5_9_BASE:1.52
	OPENBSD_5_8:1.51.0.4
	OPENBSD_5_8_BASE:1.51
	OPENBSD_5_7:1.47.0.2
	OPENBSD_5_7_BASE:1.47
	OPENBSD_5_6:1.44.0.2
	OPENBSD_5_6_BASE:1.44
	OPENBSD_5_5:1.37.0.2
	OPENBSD_5_5_BASE:1.37
	OPENBSD_5_4:1.34.0.2
	OPENBSD_5_4_BASE:1.34
	OPENBSD_5_3:1.25.0.2
	OPENBSD_5_3_BASE:1.25
	OPENBSD_5_2:1.20.0.2
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.2
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	ajacoutot_20100407:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.55
date	2017.01.03.18.54.48;	author shadchin;	state Exp;
branches;
next	1.54;
commitid	4wXCEmNOFtHPEQ29;

1.54
date	2016.10.29.08.24.42;	author jasper;	state Exp;
branches;
next	1.53;
commitid	xEbLpFov84gEVFut;

1.53
date	2016.04.20.06.20.11;	author jasper;	state Exp;
branches;
next	1.52;
commitid	F0hRyt2zrs5Az7tt;

1.52
date	2015.10.03.14.48.09;	author jasper;	state Exp;
branches;
next	1.51;
commitid	aYZxPqQ22E869w3o;

1.51
date	2015.04.15.09.40.52;	author ajacoutot;	state Exp;
branches;
next	1.50;
commitid	dfR1rb9OtImYnGFF;

1.50
date	2015.04.04.09.21.00;	author ajacoutot;	state Exp;
branches;
next	1.49;
commitid	kS3kwKZogsvzYmEY;

1.49
date	2015.04.02.19.22.41;	author jasper;	state Exp;
branches;
next	1.48;
commitid	i1sqNfyOXkf4psz7;

1.48
date	2015.03.27.08.46.21;	author ajacoutot;	state Exp;
branches;
next	1.47;
commitid	iEIUDfNqwI9ZvxZi;

1.47
date	2014.11.12.10.47.12;	author jasper;	state Exp;
branches;
next	1.46;
commitid	zf3ncqxUQAZSQj6X;

1.46
date	2014.10.04.19.41.13;	author jasper;	state Exp;
branches;
next	1.45;
commitid	FkVdJ4ZKMBz81F01;

1.45
date	2014.08.10.11.59.17;	author jasper;	state Exp;
branches;
next	1.44;
commitid	5Ov09ME059mzVqra;

1.44
date	2014.06.03.11.34.24;	author rpointel;	state Exp;
branches;
next	1.43;
commitid	yV7TKyLhcnT7BCjX;

1.43
date	2014.04.02.09.36.10;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2014.04.01.18.38.53;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2014.04.01.13.21.45;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2014.03.31.10.12.19;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2014.03.31.09.58.33;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2014.03.26.10.43.51;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2013.09.28.08.50.42;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2013.09.27.06.17.57;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2013.08.10.12.48.32;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2013.06.18.11.48.56;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2013.05.31.15.34.43;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2013.05.30.13.09.21;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2013.04.18.09.00.54;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2013.04.16.10.34.23;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2013.04.16.10.21.58;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2013.04.15.07.39.29;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.28.19.33.06;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2013.03.11.10.50.10;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2012.11.25.13.18.46;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2012.10.16.08.43.47;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2012.09.29.13.14.05;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2012.09.28.14.43.43;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2012.09.27.07.07.00;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2012.06.15.08.32.15;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2012.04.07.13.48.45;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.04.01.13.59.33;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.12.03.19.38.09;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2011.10.17.06.41.43;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2011.09.27.06.24.24;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2011.09.26.20.37.06;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2011.09.22.17.07.04;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.22.16.01.02;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2011.09.22.10.16.27;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.20.21.04.24;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.20.20.51.51;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.09.16.09.24.52;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2011.09.12.12.07.25;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2011.06.10.09.38.18;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2011.06.08.17.40.08;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.06.05.21.01.13;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2011.05.13.12.39.11;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.04.28.07.35.19;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2011.04.07.18.52.14;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.04.07.18.52.14;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.55
log
@Add a MODPY_PYOEXTENSION variable.
Beginning with Python 3.5 .pyo files are no longer used and
have been replaced by a more flexible scheme that includes
the optimization level explicitly in .pyc name (See PEP-488).
@
text
@# $OpenBSD: Makefile,v 1.54 2016/10/29 08:24:42 jasper Exp $

COMMENT=	gobject-based plugins engine

GNOME_PROJECT=	libpeas
GNOME_VERSION=	1.20.0
REVISION=	0

CATEGORIES=	devel

SHARED_LIBS +=  peas-1.0             400.2      # 1800.0
SHARED_LIBS +=  peas-gtk-1.0         400.2      # 1800.0

MAINTAINER=	Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
		Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

MODULES=	x11/gnome \
		lang/python

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += c cairo cairo-gobject dbus-1 epoxy expat ffi fontconfig
WANTLIB += freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 graphite2 gthread-2.0
WANTLIB += gtk-3 harfbuzz iconv intl m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += util xcb xcb-render xcb-shm z
WANTLIB += ${MODPY_WANTLIB}

BUILD_DEPENDS=	devel/py-gobject3${MODPY_FLAVOR}

RUN_DEPENDS=	devel/py-gobject3 \
		devel/py-gobject3${MODPY_FLAVOR}

LIB_DEPENDS=	devel/gobject-introspection \
		x11/gtk+3

MODGNOME_TOOLS +=	gtk-update-icon-cache
MODPY_VERSION=		${MODPY_DEFAULT_VERSION_3}

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--disable-glade-catalog

# we need support for both python2 and python3
BUILD_DEPENDS +=lang/python/${MODPY_DEFAULT_VERSION_2}
RUN_DEPENDS +=	lang/python/${MODPY_DEFAULT_VERSION_2}
WANTLIB +=	python${MODPY_DEFAULT_VERSION_2}
CONFIGURE_ENV=	PYTHON2="${LOCALBASE}/bin/python${MODPY_DEFAULT_VERSION_2}" \
		PYTHON3="${MODPY_BIN}" \
		PYTHON3_CONFIG="${LOCALBASE}/bin/python${MODPY_DEFAULT_VERSION_3}-config"

post-install:
	rm ${PREFIX}/lib/libpeas-1.0/loaders/*.{a,la}
	rm ${PREFIX}/lib/peas-demo/plugins/{helloworld,secondtime}/*.{a,la}

.include <bsd.port.mk>
@


1.54
log
@update to libpeas-1.20.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2016/04/20 06:20:11 jasper Exp $
d7 1
@


1.53
log
@update to libpeas-1.18.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2015/10/03 14:48:09 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	1.18.0
@


1.52
log
@update to libpeas-1.16.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2015/04/15 09:40:52 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	1.16.0
d10 2
a11 2
SHARED_LIBS +=  peas-1.0             400.2      # 1600.0
SHARED_LIBS +=  peas-gtk-1.0         400.2      # 1600.0
d19 1
a19 2
MODULES=	devel/gettext \
		x11/gnome \
d24 7
a30 6
WANTLIB += c cairo cairo-gobject dbus-1 expat ffi fontconfig freetype
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 graphite2 gthread-2.0 gtk-3
WANTLIB += harfbuzz m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs util xcb xcb-render xcb-shm z
WANTLIB += epoxy ${MODPY_WANTLIB}
@


1.51
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2015/04/04 09:21:00 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	1.14.0
REVISION=	1
d10 2
a11 2
SHARED_LIBS +=  peas-1.0             400.1      # 1201.0
SHARED_LIBS +=  peas-gtk-1.0         400.1      # 1201.0
@


1.50
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2015/04/02 19:22:41 jasper Exp $
d7 1
a7 1
REVISION=	0
@


1.49
log
@update to libpeas-1.14.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2015/03/27 08:46:21 ajacoutot Exp $
d7 1
@


1.48
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2014/11/12 10:47:12 jasper Exp $
d6 1
a6 2
GNOME_VERSION=	1.12.1
REVISION=	1
d30 1
a30 1
WANTLIB += ${MODPY_WANTLIB}
@


1.47
log
@rework local patches with proposed patch from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2014/10/04 19:41:13 jasper Exp $
d7 1
a7 1
REVISION=	0
@


1.46
log
@update to libpeas-1.12.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2014/08/10 11:59:17 jasper Exp $
d7 1
@


1.45
log
@update to libpeas-1.10.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2014/06/03 11:34:24 rpointel Exp $
d6 1
a6 1
GNOME_VERSION=	1.10.1
d10 2
a11 2
SHARED_LIBS +=  peas-1.0             400.1      # 1001.0
SHARED_LIBS +=  peas-gtk-1.0         400.1      # 1001.0
@


1.44
log
@changed python3 default version so bump revision.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2014/04/02 09:36:10 jasper Exp $
d6 1
a6 2
GNOME_VERSION=	1.10.0
REVISION=	1
d10 2
a11 2
SHARED_LIBS +=  peas-1.0             400.1      # 599.1
SHARED_LIBS +=  peas-gtk-1.0         400.1      # 599.1
@


1.43
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2014/04/01 18:38:53 jasper Exp $
d7 1
a7 1
REVISION=	0
@


1.42
log
@switch over port to MODGNOME_TOOLS that didnt have it yet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2014/04/01 13:21:45 ajacoutot Exp $
d41 1
a41 1
MODGNOME_TOOLS=		gtk-update-icon-cache
@


1.41
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 2/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2014/03/31 10:12:19 jasper Exp $
d41 1
a41 1
MODGNOME_ICON_CACHE=	Yes
@


1.40
log
@drop unused CONFIGURE_ARGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2014/03/31 09:58:33 jasper Exp $
d7 1
a43 2
LIBTOOL_FLAGS=	--tag=disable-static

d45 1
a45 2
CONFIGURE_ARGS=	--disable-static \
		--disable-glade-catalog
d56 2
a57 2
	rm ${PREFIX}/lib/libpeas-1.0/loaders/*.la
	rm ${PREFIX}/lib/peas-demo/plugins/{helloworld,secondtime}/*.la
@


1.39
log
@update to libpeas-1.10.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2014/03/26 10:43:51 jasper Exp $
d47 1
a47 2
		--disable-glade-catalog \
		--disable-gjs
@


1.38
log
@sync with upstream, drop gjs loader backend.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/09/28 08:50:42 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	1.8.1
REVISION=	3
@


1.37
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/09/27 06:17:57 jasper Exp $
d7 1
a7 1
REVISION=	2
d27 1
a27 1
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0 gjs glib-2.0
d29 2
a30 4
WANTLIB += harfbuzz m mozjs-17.0 ncurses ncursesw
WANTLIB += nspr4 pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += plc4 plds4 png pthread pthread-stubs readline stdc++
WANTLIB += util xcb xcb-render xcb-shm z
a38 1
		x11/gnome/gjs \
d48 2
a49 1
		--disable-glade-catalog
@


1.36
log
@unbreak after gjs update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/08/10 12:48:32 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
a12 2

HOMEPAGE=	http://live.gnome.org/Libpeas
@


1.35
log
@Regen dependencies and fix with updated mozjs-17.0 (devel/spidermonkey).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/06/18 11:48:56 jasper Exp $
d7 1
a7 1
REVISION=	0
@


1.34
log
@update to libpeas-1.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/05/31 15:34:43 ajacoutot Exp $
d7 1
d31 1
a31 1
WANTLIB += harfbuzz m mozjs185 ncurses ncursesw
@


1.33
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/05/30 13:09:21 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	1.8.0
REVISION=	6
@


1.32
log
@Bump after default py3 version switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/04/18 09:00:54 ajacoutot Exp $
d7 1
a7 1
REVISION=	5
d31 1
a31 1
WANTLIB += harfbuzz icudata icule icuuc m mozjs185 ncurses ncursesw
@


1.31
log
@Bump after py-gobject3,-main,python3 pkgpath changed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/04/16 10:34:23 ajacoutot Exp $
d7 1
a7 1
REVISION=	4
@


1.30
log
@This needs both py-gobject3 and py3-gobject3 since we provide both loaders.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/04/16 10:21:58 ajacoutot Exp $
d7 1
a7 1
REVISION=	3
@


1.29
log
@Bump after py-gobject3 change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/04/15 07:39:29 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
d37 4
a40 2
RUN_DEPENDS=	devel/py-gobject3
BUILD_DEPENDS=	devel/py-gobject3
d53 1
a53 2
		--disable-glade-catalog \
		--disable-seed
@


1.28
log
@Slowly start to move things to python3 in GNOME. Enable both the python
and python3 loaders in libpeas.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/03/28 19:33:06 jasper Exp $
d7 1
a7 1
REVISION=	0
@


1.27
log
@- update to libpeas-1.8.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/11 10:50:10 espie Exp $
d7 1
d41 1
a41 1
		x11/gnome/gjs>=1.32.0 \
d45 1
d52 9
a60 2
		--disable-seed \
		--disable-python3
@


1.26
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/11/25 13:18:46 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	1.6.2
d25 9
a33 9
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0
WANTLIB += atk-bridge-2.0 atspi c cairo cairo-gobject dbus-1 drm
WANTLIB += expat ffi fontconfig freetype gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 girepository-1.0 gjs glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gthread-2.0 gtk-3 harfbuzz icudata icule icuuc m mozjs185
WANTLIB += ncurses nspr4 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += stdc++ util xcb xcb-render xcb-shm z
d50 2
a51 1
		--disable-seed
@


1.25
log
@- update to libpeas-1.6.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/10/16 08:43:47 jasper Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.24
log
@- update to libpeas-1.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/09/29 13:14:05 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	1.6.1
@


1.23
log
@@@comment -> post-install rm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/09/28 14:43:43 jasper Exp $
d6 1
a6 2
GNOME_VERSION=	1.6.0
REVISION=	1
a23 2
WANTLIB += ${MODPY_WANTLIB}

d37 1
@


1.22
log
@- drop support for seed, which will be removed soon.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/09/27 07:07:00 jasper Exp $
d7 1
a7 1
REVISION=	0
d55 5
a59 3
		--enable-gjs \
		--disable-seed \
		--enable-python
@


1.21
log
@- update to libpeas-1.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/06/15 08:32:15 ajacoutot Exp $
d7 1
a24 13
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm atk-1.0
WANTLIB += c cairo cairo-gobject dbus-1 dbus-glib-1 drm enchant
WANTLIB += expat ffi fontconfig freetype gailutil-3 gdk-3 gdk_pixbuf-2.0
WANTLIB += geoclue gio-2.0 girepository-1.0 gjs glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gstapp-0.10 gstaudio-0.10 gstbase-0.10
WANTLIB += gstfft-0.10 gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10
WANTLIB += gstvideo-0.10 gthread-2.0 gtk-3 icudata icui18n icuuc
WANTLIB += javascriptcoregtk-3.0 jpeg m mozjs185 ncurses nspr4
WANTLIB += orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 plc4 plds4 png pthread pthread-stubs seed-gtk3
WANTLIB += soup-2.4 sqlite3 stdc++ util webkitgtk-3.0 xcb xcb-render
WANTLIB += xcb-shm xml2 xslt z atk-bridge-2.0 atspi harfbuzz icule
d31 10
d44 4
a49 4
LIB_DEPENDS=	devel/gobject-introspection \
		x11/gnome/seed \
		x11/gnome/gjs>=1.32.0

d56 1
a56 1
		--enable-seed \
@


1.20
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/04/07 13:48:45 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	1.4.0
REVISION=	0
d10 2
a11 2
SHARED_LIBS +=  peas-1.0             400.0      # 400.0
SHARED_LIBS +=  peas-gtk-1.0         400.0      # 400.0
d36 1
a36 1
WANTLIB += xcb-shm xml2 xslt z
a45 1
MODGNOME_TOOLS= vala
@


1.19
log
@Update to libpeas-1.4.0.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/04/01 13:59:33 ajacoutot Exp $
d7 1
@


1.18
log
@Remove XXX.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/12/03 19:38:09 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	1.2.0
REVISION=	1
d10 2
a11 2
SHARED_LIBS +=  peas-1.0                  0.0 # 0.0
SHARED_LIBS +=  peas-gtk-1.0              0.0 # 0.0
d26 11
a36 9
WANTLIB += c cairo cairo-gobject drm enchant expat ffi fontconfig
WANTLIB += freetype gailutil-3 gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gstapp-0.10 gstbase-0.10
WANTLIB += gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10
WANTLIB += gthread-2.0 gtk-3 icudata icui18n icuuc jpeg m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs seed-gtk3 soup-2.4 sqlite3 javascriptcoregtk-3.0
WANTLIB += stdc++ util webkitgtk-3.0 xcb xcb-render xcb-shm xml2
WANTLIB += xslt z gjs mozjs ncurses nspr4 plc4 plds4 
d51 1
a51 1
		x11/gnome/gjs
@


1.17
log
@Add a run depends on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/10/17 06:41:43 ajacoutot Exp $
d56 1
a59 6

# XXX
# glade looks for libpeas-gtk-1.0.so instead of libpeas-gtk-1.0.so.XX
# "library" should be s/libpeas-gtk-1.0/peas-gtk-1.0/ in the catalog
#BUILD_DEPENDS+=devel/glade
CONFIGURE_ARGS+=--disable-glade-catalog
@


1.16
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/09/27 06:24:24 jasper Exp $
d7 1
a7 1
REVISION=	0
d46 1
@


1.15
log
@- update to 1.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/09/26 20:37:06 jasper Exp $
d7 1
d33 1
a33 1
WANTLIB += pthread-stubs seed-gtk3 soup-2.4 sqlite3
d35 1
a35 1
WANTLIB += kvm xslt z gjs mozjs ncurses nspr4 plc4 plds4 
@


1.14
log
@- unbreak the python plugin loader
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/09/22 17:07:04 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	1.1.4
REVISION=	1
@


1.13
log
@Enable gjs support (Javascript bindings for GNOME).

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/22 16:01:02 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
@


1.12
log
@Update to libpeas-1.1.4 to work with py-gobject3.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/09/22 10:16:27 jasper Exp $
d7 1
d35 2
a36 1
WANTLIB += kvm xslt z ${MODPY_WANTLIB}
d48 2
a49 1
		x11/gnome/seed
d55 1
@


1.11
log
@- unbreak after recent gtk3 update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/20 21:04:24 jasper Exp $
d6 1
a6 3
GNOME_VERSION=	1.0.0

REVISION=	6
a23 2
EXTRACT_SUFX=		.tar.bz2

d34 1
a34 1
WANTLIB += xslt z ${MODPY_WANTLIB}
d40 2
a41 3
RUN_DEPENDS=	devel/py-gobject

BUILD_DEPENDS=	devel/py-gobject
@


1.10
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/20 20:51:51 jasper Exp $
d8 1
a8 1
REVISION=	5
@


1.9
log
@switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/09/16 09:24:52 espie Exp $
d56 1
a56 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-static \
@


1.8
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/09/12 12:07:25 jasper Exp $
d46 3
a48 2
BUILD_DEPENDS=	lang/vala \
		devel/py-gobject
a57 1
		--disable-gtk-doc \
d59 1
a59 2
		--enable-python \
		--enable-vala \
@


1.7
log
@switch the rest of the ports using gnome.port.mk over to .tar.xz where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/06/10 09:38:18 ajacoutot Exp $
d8 1
a8 1
REVISION=	4
@


1.6
log
@Don't install the glade catalog file, there are still issues with glade
support in libpeas.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/06/08 17:40:08 jasper Exp $
d25 2
@


1.5
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/06/05 21:01:13 jasper Exp $
d8 1
a8 1
REVISION=	3
d45 1
a45 2
		devel/py-gobject \
		devel/glade
a55 1
		--enable-glade-catalog \
d59 6
@


1.4
log
@use ${MODPY_WANTLIB} instead of the actual python library, this would break
when the default python version changes. found out the hard way by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/05/13 12:39:11 ajacoutot Exp $
d8 1
a8 1
REVISION=	2
@


1.3
log
@Enable seed support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/04/28 07:35:19 ajacoutot Exp $
d8 1
a8 1
REVISION=	1
d34 1
a34 1
WANTLIB += pthread-stubs python2.6 seed-gtk3 soup-2.4 sqlite3
d36 1
a36 1
WANTLIB += xslt z
@


1.2
log
@Regen PLIST after the itlocaledir fix in the gnome MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/04/07 18:52:14 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
d26 11
a36 7
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c cairo
WANTLIB += cairo-gobject drm expat ffi fontconfig freetype gdk-3
WANTLIB += gdk_pixbuf-2.0 gio-2.0 girepository-1.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gthread-2.0 gtk-3 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += python2.6 util xcb xcb-render xcb-shm z
d49 3
a51 1
		x11/gtk+3
d55 1
d58 1
a60 3

# XXX needs seed>=3.0.0 which requires webkit-gtk3
CONFIGURE_ARGS += --enable-seed=no
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 2
@


1.1.1.1
log
@Import libpeas-1.0.0.

libpeas is a gobject-based plugins engine, and is targetted at giving
every application the chance to assume its own extensibility. It is
currently used by several GNOME applications like gedit and Totem.

It takes its roots in the old gedit plugins engine, and provides an
extensive set of features mirroring the desiderata of most of the
applications providing an extension framework.

ok jasper@@
@
text
@@
