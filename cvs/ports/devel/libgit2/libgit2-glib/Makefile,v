head	1.32;
access;
symbols
	OPENBSD_6_1:1.32.0.2
	OPENBSD_6_1_BASE:1.32
	OPENBSD_6_0:1.26.0.2
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.25.0.2
	OPENBSD_5_9_BASE:1.25
	OPENBSD_5_8:1.21.0.4
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.17.0.2
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.11.0.2
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	jasper_20132709:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.32
date	2017.01.03.18.54.48;	author shadchin;	state Exp;
branches;
next	1.31;
commitid	4wXCEmNOFtHPEQ29;

1.31
date	2016.11.04.11.35.18;	author sthen;	state Exp;
branches;
next	1.30;
commitid	Gg5LRcnQlqj5M3F7;

1.30
date	2016.10.08.12.49.19;	author czarkoff;	state Exp;
branches;
next	1.29;
commitid	Qq343pAPfhNwOI8G;

1.29
date	2016.09.07.06.42.15;	author jasper;	state Exp;
branches;
next	1.28;
commitid	lWGE4RUmREcmMGG5;

1.28
date	2016.08.25.15.13.41;	author jasper;	state Exp;
branches;
next	1.27;
commitid	N3RWxGn3dITpKarb;

1.27
date	2016.08.17.14.19.49;	author jasper;	state Exp;
branches;
next	1.26;
commitid	8by4fNRn3hj2SZTE;

1.26
date	2016.03.21.15.25.03;	author jasper;	state Exp;
branches;
next	1.25;
commitid	eiKr2GzRSDs3lTCx;

1.25
date	2016.01.01.12.00.15;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	JU9WxAMD4n6Z6cRu;

1.24
date	2015.12.12.11.47.52;	author jasper;	state Exp;
branches;
next	1.23;
commitid	PsN8htTs6K9k4FF5;

1.23
date	2015.10.30.12.47.39;	author sthen;	state Exp;
branches;
next	1.22;
commitid	IIzCiS5xiW9Dmxlk;

1.22
date	2015.10.14.18.13.14;	author jasper;	state Exp;
branches;
next	1.21;
commitid	T4wC34zvxcesv87p;

1.21
date	2015.05.03.14.27.18;	author jasper;	state Exp;
branches;
next	1.20;
commitid	BmOIT9bLC6pDZLMw;

1.20
date	2015.04.14.06.55.20;	author jasper;	state Exp;
branches;
next	1.19;
commitid	llU9NTOO6Wd1AXpX;

1.19
date	2015.04.07.08.51.31;	author jasper;	state Exp;
branches;
next	1.18;
commitid	7ZFZJfM8gU1jVkJ5;

1.18
date	2015.04.04.08.17.23;	author jasper;	state Exp;
branches;
next	1.17;
commitid	mCAPnezF4ddQCNI3;

1.17
date	2015.01.28.09.20.07;	author ajacoutot;	state Exp;
branches;
next	1.16;
commitid	qU8wbvTvYBQFYM9Q;

1.16
date	2014.12.17.19.23.32;	author jasper;	state Exp;
branches;
next	1.15;
commitid	oKrkSRWSG05yD2x4;

1.15
date	2014.11.08.12.33.40;	author jasper;	state Exp;
branches;
next	1.14;
commitid	10QdZHSgW1ywkKoo;

1.14
date	2014.09.16.08.18.06;	author jasper;	state Exp;
branches;
next	1.13;
commitid	eKxsVOblbZupERRc;

1.13
date	2014.08.14.08.26.10;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	1O8PbZs3yLCPawkb;

1.12
date	2014.08.14.06.42.16;	author jasper;	state Exp;
branches;
next	1.11;
commitid	rnvQ0IlawGSwdKpm;

1.11
date	2014.07.09.17.43.52;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	Nm4l5yAcUVwu1rIN;

1.10
date	2014.07.08.15.33.42;	author jasper;	state Exp;
branches;
next	1.9;
commitid	qK5qdMPHSM0vo0Jr;

1.9
date	2014.06.04.15.32.55;	author rpointel;	state Exp;
branches;
next	1.8;
commitid	WV0XEvkCv6WTCYb5;

1.8
date	2014.04.02.09.36.10;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2014.04.01.18.06.28;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2014.04.01.15.31.45;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2014.03.09.20.01.51;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2014.01.03.19.53.02;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2013.11.25.12.59.23;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2013.09.27.14.36.29;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2013.09.27.12.17.02;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.09.27.12.17.02;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.32
log
@Add a MODPY_PYOEXTENSION variable.
Beginning with Python 3.5 .pyo files are no longer used and
have been replaced by a more flexible scheme that includes
the optimization level explicitly in .pyc name (See PEP-488).
@
text
@# $OpenBSD: Makefile,v 1.31 2016/11/04 11:35:18 sthen Exp $

COMMENT=		GLib library wrapping libgit2

V=			0.24.4
DISTNAME=		libgit2-glib-$V
REVISION=		1

SHARED_LIBS +=	git2-glib-1.0        3.0      # 0.0

SUBDIR=			sources/libgit2-glib/${V:C/^([0-9]+\.[0-9]+).*/\1/}/
MASTER_SITES=		${MASTER_SITE_GNOME:=${SUBDIR}}
EXTRACT_SUFX=		.tar.xz

MODULES=		lang/python \
			x11/gnome

MODGNOME_TOOLS=		gobject-introspection vala

MODPY_VERSION=          ${MODPY_DEFAULT_VERSION_3}

BUILD_DEPENDS=		devel/py-gobject3${MODPY_FLAVOR}
# MODPY_LIBDIR/gi/overrides/
RUN_DEPENDS=		devel/py-gobject3${MODPY_FLAVOR}
LIB_DEPENDS=		devel/gobject-introspection \
			devel/libgit2/libgit2>=0.24.0

USE_GMAKE=		Yes

WANTLIB += crypto curl ffi gio-2.0 girepository-1.0 git2 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 iconv intl m nghttp2 pcre pthread
WANTLIB += ssh2 ssl z

CONFIGURE_STYLE=	gnu

.include <bsd.port.mk>
@


1.31
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/10/08 12:49:19 czarkoff Exp $
d7 1
a7 1
REVISION=		0
@


1.30
log
@update libgit2 and py-git2 to 0.24.1

Make better use of GH_* and python MODULE.

OK shadchin@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/09/07 06:42:15 jasper Exp $
d7 1
d29 1
d31 2
a32 2
WANTLIB += gmodule-2.0 gobject-2.0 iconv idn intl m nghttp2 pcre
WANTLIB += pthread ssh2 ssl z
@


1.29
log
@update to libgit-glib-0.24.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2016/08/25 15:13:41 jasper Exp $
d6 1
a6 1
PROJECT=		libgit2-glib
d10 2
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/${PROJECT}/${V:C/^([0-9]+\.[0-9]+).*/\1/}/}
@


1.28
log
@- update to libgit2-glib-0.24.3
- drop gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2016/08/17 14:19:49 jasper Exp $
d5 1
a5 1
V=			0.24.3
@


1.27
log
@update to libgit2-glib-0.24.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2016/03/21 15:25:03 jasper Exp $
d5 1
a5 1
V=			0.24.2
d13 1
a13 2
MODULES=		devel/gettext \
			lang/python \
d27 3
a29 3

WANTLIB += crypto curl ffi gio-2.0 girepository-1.0 git2 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 idn m nghttp2 pcre pthread ssh2 ssl z
@


1.26
log
@update to libgit-glib-0.24.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2016/01/01 12:00:15 ajacoutot Exp $
d5 1
a5 1
V=			0.24.0
@


1.25
log
@Document the fact that the RUN_DEPENDS on pygobject3 is needed because of
the MODPY_LIBDIR/gi/overrides/ directory.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/12/12 11:47:52 jasper Exp $
d5 1
a5 1
V=			0.23.8
d25 1
a25 1
			devel/libgit2/libgit2>=0.23.0
@


1.24
log
@update to libgit2-glib-0.23.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/10/30 12:47:39 sthen Exp $
d22 1
@


1.23
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/10/14 18:13:14 jasper Exp $
d5 1
a5 2
V=			0.23.6
REVISION=		0
@


1.22
log
@update to libgit2-glib-0.23.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/05/03 14:27:18 jasper Exp $
d6 1
d8 1
d30 1
a30 1
WANTLIB += gobject-2.0 idn m pcre pthread ssh2 ssl z
@


1.21
log
@update to libgit2-glib-0.22.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/04/14 06:55:20 jasper Exp $
d5 1
a5 1
V=			0.22.8
d7 1
a7 1
SHARED_LIBS +=	git2-glib-1.0        2.1      # 0.0
d23 1
a23 1
			devel/libgit2/libgit2>=0.22.1
d27 2
a28 2
WANTLIB += crypto ffi gio-2.0 girepository-1.0 git2 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 m pcre pthread ssh2 ssl z
@


1.20
log
@update to libgit2-glib-0.22.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/04/07 08:51:31 jasper Exp $
d5 1
a5 1
V=			0.22.6
@


1.19
log
@update to libgit2-glib-0.22.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/04/04 08:17:23 jasper Exp $
d5 1
a5 1
V=			0.22.4
d7 1
a7 1
SHARED_LIBS +=	git2-glib-1.0        2.0      # 0.0
@


1.18
log
@update to libgit2-glib-0.22.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/01/28 09:20:07 ajacoutot Exp $
d5 1
a5 1
V=			0.22.2
@


1.17
log
@Update to libgit2-glib-0.22.0.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/12/17 19:23:32 jasper Exp $
d5 1
a5 1
V=			0.22.0
@


1.16
log
@sync with what's been committed upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2014/11/08 12:33:40 jasper Exp $
d5 1
a5 2
V=			0.0.24
REVISION=		0
d23 1
a23 1
			devel/libgit2/libgit2>=0.21.0
@


1.15
log
@update to libgit2-glib-0.0.24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/09/16 08:18:06 jasper Exp $
d6 1
@


1.14
log
@update to libgit2-glib-0.0.22
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2014/08/14 08:26:10 ajacoutot Exp $
d5 1
a5 1
V=			0.0.22
d7 1
a7 1
SHARED_LIBS +=	git2-glib-1.0        1.6      # 0.0
@


1.13
log
@Add vala bindings.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/08/14 06:42:16 jasper Exp $
d5 1
a5 1
V=			0.0.20
d7 1
a7 2
SHARED_LIBS +=	git2-glib-1.0        1.5      # 0.0
REVISION=		0
@


1.12
log
@- update to libgit2-glib-0.0.20
- whack the OutputStream statemachine with mutexes and conditional variables (from guenther@@, thanks!)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2014/07/09 17:43:52 ajacoutot Exp $
d8 1
d17 1
a17 1
MODGNOME_TOOLS +=	gobject-introspection
@


1.11
log
@The x11/gnome MODULE will soon stop setting USE_GMAKE unconditionally, so
explicitely add it where needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2014/07/08 15:33:42 jasper Exp $
d5 1
a5 1
V=			0.0.18
d7 1
a7 1
SHARED_LIBS +=	git2-glib-1.0        1.4      # 0.0
@


1.10
log
@update to libgit2-glib-0.0.18
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2014/06/04 15:32:55 rpointel Exp $
d24 2
@


1.9
log
@changed python 3 default to 3.4 so bump revision.
spotted by naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2014/04/02 09:36:10 jasper Exp $
d5 1
a5 1
V=			0.0.12
d7 1
a7 3
SHARED_LIBS +=	git2-glib-1.0        1.2      # 0.0

REVISION = 0
d23 1
a23 1
			devel/libgit2/libgit2>=0.20.0
@


1.8
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2014/04/01 18:06:28 jasper Exp $
d8 2
@


1.7
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2014/04/01 15:31:45 jasper Exp $
d16 1
a16 1
MODGNOME_TOOLS +=		gobject-introspection
@


1.6
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/03/09 20:01:51 jasper Exp $
d16 2
a17 1
MODGNOME_TOOLS=		gobject-introspection
@


1.5
log
@update to libgit2-glib-0.0.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2014/01/03 19:53:02 jasper Exp $
d16 1
a16 1
MODGNOME_TOOLS=		gi
@


1.4
log
@update to libgit2-glib-0.0.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/11/25 12:59:23 jasper Exp $
d5 1
a5 1
V=			0.0.10
d7 1
a7 1
SHARED_LIBS +=	git2-glib-1.0        1.1      # 0.0
@


1.3
log
@- update to libgit2-glib-0.0.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/09/27 14:36:29 jasper Exp $
d5 1
a5 1
V=			0.0.8
d7 1
a7 1
SHARED_LIBS +=	git2-glib-1.0        1.0      # 0.0
@


1.2
log
@fix pkgconfig file so it can actually be used.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/09/27 12:17:02 jasper Exp $
d5 1
a5 1
V=			0.0.6
d7 1
a7 2
REVISION=		0
SHARED_LIBS +=	git2-glib-1.0        0.0      # 0.0
d22 1
a22 1
			devel/libgit2/libgit2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@import libgit2-glib-0.0.6

libgit2-glib is a glib library which wraps libgit2 providing making it
easier to develop manage git repositories in a GObject oriented
application.

ok aja@@
@
text
@@
