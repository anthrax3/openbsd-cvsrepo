head	1.37;
access;
symbols
	OPENBSD_6_1:1.34.0.2
	OPENBSD_6_1_BASE:1.34
	OPENBSD_6_0:1.31.0.2
	OPENBSD_6_0_BASE:1.31
	OPENBSD_5_9:1.29.0.2
	OPENBSD_5_9_BASE:1.29
	OPENBSD_5_8:1.28.0.4
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.26.0.8
	OPENBSD_5_7_BASE:1.26
	OPENBSD_5_6:1.26.0.6
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.26.0.4
	OPENBSD_5_5_BASE:1.26
	OPENBSD_5_4:1.26.0.2
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.22.0.2
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.20.0.2
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.2
	OPENBSD_5_0:1.17.0.4
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.17.0.2
	OPENBSD_4_9_BASE:1.17
	OPENBSD_4_8:1.12.0.6
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.4
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.12.0.2
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.9.0.4
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.2
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	jasper_20070111:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.37
date	2017.08.21.15.52.14;	author visa;	state Exp;
branches;
next	1.36;
commitid	JdeVM60pvKAdEH7h;

1.36
date	2017.07.03.15.26.27;	author sthen;	state Exp;
branches;
next	1.35;
commitid	OOguT7NVziZhaQzC;

1.35
date	2017.05.30.20.48.04;	author ajacoutot;	state Exp;
branches;
next	1.34;
commitid	AlUC44dKSso6WVCt;

1.34
date	2017.01.31.10.01.50;	author sthen;	state Exp;
branches;
next	1.33;
commitid	GZPMDJm360DyAYTC;

1.33
date	2016.11.12.20.50.41;	author jca;	state Exp;
branches;
next	1.32;
commitid	th66k4baTD5nVdHy;

1.32
date	2016.08.28.12.40.41;	author ajacoutot;	state Exp;
branches;
next	1.31;
commitid	EgL4tOpppcoK4s4E;

1.31
date	2016.04.27.12.28.53;	author robert;	state Exp;
branches;
next	1.30;
commitid	fYJTDAYJ81mPCrqg;

1.30
date	2016.03.01.20.36.40;	author jca;	state Exp;
branches;
next	1.29;
commitid	Nl10DDuJoZCwTwMi;

1.29
date	2015.11.12.15.13.51;	author ajacoutot;	state Exp;
branches;
next	1.28;
commitid	q93KDf4pU7mOZ1UP;

1.28
date	2015.07.01.09.22.44;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	qyMSe9nl8PVNmp1g;

1.27
date	2015.04.26.19.08.05;	author phessler;	state Exp;
branches;
next	1.26;
commitid	ekYNt5saWgwMQJwo;

1.26
date	2013.03.29.23.39.13;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.29.13.23.50;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2013.03.21.08.45.15;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2013.03.11.10.50.10;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2013.01.26.09.46.35;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2012.12.16.11.35.24;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2012.04.23.13.39.50;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2012.04.01.21.05.20;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2011.11.13.13.54.04;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2010.12.23.16.36.16;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2010.12.23.13.09.00;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2010.12.21.18.16.04;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.15.19.46.00;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.08.09.57.40;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2009.06.04.22.23.27;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2009.06.03.17.13.28;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2009.03.31.13.37.16;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2008.06.03.12.11.43;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2008.04.21.15.23.22;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2007.12.30.19.57.35;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.16.02.53.00;	author merdely;	state Exp;
branches;
next	1.5;

1.5
date	2007.03.30.16.49.07;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2007.03.15.07.17.59;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2007.02.02.14.25.28;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2007.01.30.14.15.27;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.11.21.56.16;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.11.21.56.16;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.37
log
@Unbreak build on mips64. It is affected by the same compiler bug
as mips64el.
@
text
@# $OpenBSD: Makefile,v 1.36 2017/07/03 15:26:27 sthen Exp $

COMMENT=		Media Transfer Protocol (MTP) implementation

DISTNAME=		libmtp-1.1.13
CATEGORIES=		devel

SHARED_LIBS +=  mtp                  7.0      # 12.0

HOMEPAGE=		http://libmtp.sourceforge.net/

# LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c gcrypt gpg-error iconv intl pthread usb-1.0

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=libmtp/}

# avoid "libmtp.so.7.0: undefined reference to `.L2085'"
COMPILER=		gcc
COMPILER_LANGS=		c
MODGCC4_ARCHS=		mips64 mips64el

LIB_DEPENDS=		devel/libusb1 \
			security/libgcrypt

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--enable-doxygen=no
CONFIGURE_ENV+= 	LDFLAGS="-L${LOCALBASE}/lib" \
			CPPFLAGS="-I${LOCALBASE}/include"

FAKE_FLAGS=		pkgdocdir="${PREFIX}/share/doc/libmtp/"

.include <bsd.port.mk>
@


1.36
log
@use gcc to unbreak build on mips64el, original version using MODULES from
Donovan Watteau, modified following a suggestion from jca. ok jca@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2017/05/30 20:48:04 ajacoutot Exp $
d22 1
a22 1
MODGCC4_ARCHS=		mips64el
@


1.35
log
@Update to libmtp-1.1.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2017/01/31 10:01:50 sthen Exp $
d18 5
@


1.34
log
@don't use doxygen, from rsadowski
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2016/11/12 20:50:41 jca Exp $
d5 1
a5 1
DISTNAME=		libmtp-1.1.12
a6 1
REVISION=		1
@


1.33
log
@Update to doxygen-1.8.12 and switch the gui to Qt5

From Rafael Sadowski, who takes maintainership.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2016/08/28 12:40:41 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
a19 2
BUILD_DEPENDS=		devel/doxygen
MAKE_ENV+=		DOXYGEN_ENCODE_PATH_STRIP=${WRKSRC}
d24 1
a24 1
CONFIGURE_ARGS+=	--enable-doxygen
@


1.32
log
@Update to libmtp-1.1.12.
- drop the gettext MODULE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2016/04/27 12:28:53 robert Exp $
d7 1
@


1.31
log
@update to 1.1.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/03/01 20:36:40 jca Exp $
d5 1
a5 1
DISTNAME=		libmtp-1.1.11
d15 1
a15 1
WANTLIB=		c gcrypt gpg-error pthread usb-1.0
a18 2
MODULES=		devel/gettext

d29 1
a29 1
FAKE_FLAGS+=		pkgdocdir="${PREFIX}/share/doc/libmtp/"
@


1.30
log
@Update to doxygen-1.8.11 (latest)

This switches doxygen to the cmake build system.

All the hard work done by Rafael Sadowski, thanks!

Bulk build and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/11/12 15:13:51 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		libmtp-1.1.10
REVISION=		0
@


1.29
log
@Update to libmtp-1.1.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/07/01 09:22:44 ajacoutot Exp $
d6 1
@


1.28
log
@Regen PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/04/26 19:08:05 phessler Exp $
d5 1
a5 1
DISTNAME=		libmtp-1.1.9
a6 1
REVISION=		0
d8 1
a8 1
SHARED_LIBS +=		mtp	7.0	# 12.0
@


1.27
log
@update to libmtp 1.1.9

usual set of bugfixes and newly detected devices.

Tested with my Yotaphone 2

OK bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/29 23:39:13 brad Exp $
d7 1
@


1.26
log
@Merge in my original update.

ok ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/29 13:23:50 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		libmtp-1.1.6
REVISION=		0
d8 1
a8 1
SHARED_LIBS +=		mtp	6.0	# 10.0
@


1.25
log
@Bugfix update to libmtp-1.1.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/03/21 08:45:15 ajacoutot Exp $
d6 1
a6 1
SHARED_LIBS +=		mtp	5.1	# 9.5
d9 2
d29 1
a29 1
CONFIGURE_ENV+= 	LDFLAGS="-L${LOCALBASE}/lib -pthread" \
@


1.24
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/11 10:50:10 espie Exp $
d5 1
a5 1
DISTNAME=		libmtp-1.1.5
@


1.23
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/01/26 09:46:35 brad Exp $
a24 1
USE_LIBTOOL=		Yes
@


1.22
log
@Update libmtp to 1.1.5.

Started by LEVAI Daniel and I patched it so it will build with older
GCC versions due to the use of __builtin_bswap32.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/12/16 11:35:24 sthen Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.21
log
@sync plist; doxygen update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/04/23 13:39:50 jasper Exp $
d5 2
a6 3
DISTNAME=		libmtp-1.1.3
REVISION=		0
SHARED_LIBS +=  mtp                  5.0      # 9.3
@


1.20
log
@- update to 1.1.3
- remove gcc2 patches which are unneeded (unless someone with a usb-capable
vax shows up)
- reset maintainer

ok william@@ (previous maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/04/01 21:05:20 sthen Exp $
d6 1
@


1.19
log
@set DOXYGEN_ENCODE_PATH_STRIP to avoid random md5 changing filenames. bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/11/13 13:54:04 ajacoutot Exp $
d5 2
a6 3
DISTNAME=		libmtp-1.0.3
REVISION=		3
SHARED_LIBS=		mtp	4.0
a10 2
MAINTAINER=		William Yodlowsky <william@@openbsd.org>

d17 1
a17 1
WANTLIB=		c usb pthread usb-1.0
d21 2
a22 1
MODULES=		converters/libiconv
d25 2
a26 1
LIB_DEPENDS=		devel/libusb-compat
d30 3
a32 2
CONFIGURE_ENV+= 	LDFLAGS="-L${LOCALBASE}/lib -pthread"
CONFIGURE_ENV+= 	CPPFLAGS="-I${LOCALBASE}/include"
@


1.18
log
@Sync dependencies after move from libusb to libusb-compat and fix a
couple of fallouts. Note that these ports are only the ones that used to
have a direct dependency on devel/libusb so there may be some other
hidden ports that may break because of the switch. If that's the case,
no need to start ranting all over but instead tell me which one(s)
break. Thanks.

Note: sysutils/nut hasn't been fixed yet but will be today.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/12/23 16:36:16 jasper Exp $
d6 1
a6 1
REVISION=		2
d26 1
@


1.17
log
@- set license number
- tweak PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/12/23 13:09:00 jasper Exp $
d6 1
a6 1
REVISION=		1
d19 2
a20 1
WANTLIB=		c usb>=8
d26 1
a26 1
LIB_DEPENDS=		devel/libusb
d30 1
a30 1
CONFIGURE_ENV+= 	LDFLAGS="-L${LOCALBASE}/lib"
@


1.16
log
@- build and install docs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/12/21 18:16:04 jasper Exp $
d6 1
a6 1
REVISION=		0
d14 1
a14 1
# LGPL
@


1.15
log
@- update libmtp to 1.0.3

from LEVAI Daniel, with some tweaks by me
ok william@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/11/15 19:46:00 espie Exp $
d6 1
d24 1
d31 2
@


1.14
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/08 09:57:40 espie Exp $
d5 2
a6 4
DISTNAME=		libmtp-0.2.6.1
PKGNAME=		${DISTNAME}
REVISION=		2
SHARED_LIBS=		mtp	3.0	# .8.0
@


1.13
log
@kill a few libspecs in LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/06/04 22:23:27 naddy Exp $
d20 1
a20 1
WANTLIB=		c usb.>=8
d25 1
a25 1
LIB_DEPENDS=		::devel/libusb
@


1.12
log
@changing MAINTAINER requires a pkg bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/06/03 17:13:28 jasper Exp $
d6 2
a7 1
PKGNAME=		${DISTNAME}p2
d20 1
a20 1
WANTLIB=		c
d25 1
a25 1
LIB_DEPENDS=		usb.>=8::devel/libusb
@


1.11
log
@- william@@ takes over maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/03/31 13:37:16 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
@


1.10
log
@- fix compilation by declaring on top of the top, not somewhere halfway
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/06/03 12:11:43 sthen Exp $
d12 1
a12 1
MAINTAINER=		Jasper Lievisse Adriaanse <jasper@@openbsd.org>
@


1.9
log
@Use iconv module. From Brad.  ok jasper@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/04/21 15:23:22 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.8
log
@- update libmtp to 0.2.6.1

from bsd@@openbsd.rutgers.edu, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/12/30 19:57:35 jasper Exp $
d6 1
d23 2
a24 2
LIB_DEPENDS=		iconv.>=4::converters/libiconv \
			usb.>=8::devel/libusb
a26 1

@


1.7
log
@- update libmtp to 0.2.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/09/16 02:53:00 merdely Exp $
d5 2
a6 2
DISTNAME=		libmtp-0.2.4
SHARED_LIBS=		mtp	2.1	# .7.1
@


1.6
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/03/30 16:49:07 jasper Exp $
d5 2
a6 2
DISTNAME=		libmtp-0.1.5
SHARED_LIBS=		mtp	2.0	# .7.0
@


1.5
log
@update libmtp to 0.1.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/03/15 07:17:59 jasper Exp $
d3 1
a3 1
COMMENT=		"Media Transfer Protocol (MTP) implementation"
@


1.4
log
@update libmtp to 0.1.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/02/02 14:25:28 jasper Exp $
d5 1
a5 1
DISTNAME=		libmtp-0.1.4
@


1.3
log
@update to libmtp 0.1.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/01/30 14:15:27 espie Exp $
d5 2
a6 2
DISTNAME=		libmtp-0.1.3
SHARED_LIBS=		mtp	1.0	# .6.0
@


1.2
log
@make it usable by pkg-config
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/01/11 21:56:16 jasper Exp $
d5 2
a6 2
DISTNAME=		libmtp-0.1.2
SHARED_LIBS=		mtp	0.0	# .6.0
a7 1
PKGNAME=		${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
@


1.1.1.1
log
@import libmtp 0.1.2

libmtp is an implementation of Microsoft's Media Transfer Protocol (MTP)
in the form of a library suitable primarily for POSIX compliant
operating systems. We implement MTP Basic, the stuff proposed for
standardization.

ok naddy@@
@
text
@@
