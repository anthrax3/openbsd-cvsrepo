head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.8
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.6
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.4
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.1.0.14
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.10
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.8
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.6
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.4
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.10.18.14.49.04;	author czarkoff;	state Exp;
branches;
next	1.1;
commitid	IQEPDDLH1C9NdlAj;

1.1
date	2012.08.17.21.51.49;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to greenlet 0.4.9

OK sthen@@
@
text
@$OpenBSD: patch-slp_platformselect_h,v 1.1 2012/08/17 21:51:49 landry Exp $
Give it a chance to build on ppc & mips
--- slp_platformselect.h.orig	Sun May 31 19:06:02 2015
+++ slp_platformselect.h	Sat Oct 17 10:34:13 2015
@@@@ -20,6 +20,8 @@@@
 #include "platform/switch_ppc_macosx.h" /* Apple MacOS X on PowerPC */
 #elif defined(__GNUC__) && defined(_ARCH_PPC) && defined(_AIX)
 #include "platform/switch_ppc_aix.h" /* gcc on AIX/PowerPC */
+#elif defined(__GNUC__) && defined(__powerpc__)
+#include "platform/switch_ppc_unix.h" /* gcc on unix/PowerPC */
 #elif defined(__GNUC__) && defined(sparc)
 #include "platform/switch_sparc_sun_gcc.h" /* SunOS sparc with gcc */
 #elif defined(__SUNPRO_C) && defined(sparc) && defined(sun)
@@@@ -41,7 +43,7 @@@@
 #else
 #include "platform/switch_arm32_gcc.h" /* gcc using arm32 */
 #endif
-#elif defined(__GNUC__) && defined(__mips__) && defined(__linux__)
+#elif defined(__GNUC__) && defined(__mips__)
 #include "platform/switch_mips_unix.h" /* Linux/MIPS */
 #elif defined(__GNUC__) && defined(__aarch64__)
 #include "platform/switch_aarch64_gcc.h" /* Aarch64 ABI */
@


1.1
log
@Unbreak on ppc & give it a chance to build on mips*. Set ONLY_FOR_ARCHS
since it has platform-dependent code in slp_platformdetect.h..

breakage reported by ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 3
a5 3
--- slp_platformselect.h.orig	Fri Aug 17 23:44:37 2012
+++ slp_platformselect.h	Fri Aug 17 23:46:43 2012
@@@@ -18,6 +18,8 @@@@
d14 2
a15 3
@@@@ -30,6 +32,6 @@@@
 #include "platform/switch_s390_unix.h"	/* Linux/S390 zSeries (64-bit) */
 #elif defined(__GNUC__) && defined(__arm__)
d17 1
d21 2
a22 1
 #endif
@

