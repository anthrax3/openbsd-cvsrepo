head	1.39;
access;
symbols
	OPENBSD_6_1:1.38.0.2
	OPENBSD_6_1_BASE:1.38
	OPENBSD_6_0:1.35.0.2
	OPENBSD_6_0_BASE:1.35
	OPENBSD_5_9:1.33.0.2
	OPENBSD_5_9_BASE:1.33
	OPENBSD_5_8:1.30.0.4
	OPENBSD_5_8_BASE:1.30
	OPENBSD_5_7:1.28.0.2
	OPENBSD_5_7_BASE:1.28
	OPENBSD_5_6:1.26.0.2
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.24.0.4
	OPENBSD_5_5_BASE:1.24
	OPENBSD_5_4:1.24.0.2
	OPENBSD_5_4_BASE:1.24
	OPENBSD_5_3:1.22.0.2
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.20.0.2
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.2
	OPENBSD_5_0:1.15.0.2
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.8.0.6
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.8.0.4
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.2
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.7.0.2
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.6.0.2
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	martynas_20070531:1.1.1.1
	martynas:1.1.1;
locks; strict;
comment	@# @;


1.39
date	2017.05.17.11.34.17;	author landry;	state Exp;
branches;
next	1.38;
commitid	ln3dmkccCG7YmkIA;

1.38
date	2017.01.03.19.19.49;	author landry;	state Exp;
branches;
next	1.37;
commitid	NkZaP5skFWQkYqhM;

1.37
date	2016.11.10.21.58.40;	author danj;	state Exp;
branches;
next	1.36;
commitid	4ER2f1Ti7zNi2Qmp;

1.36
date	2016.10.05.17.06.28;	author shadchin;	state Exp;
branches;
next	1.35;
commitid	SWnZPiiierCz6V66;

1.35
date	2016.06.16.18.01.50;	author czarkoff;	state Exp;
branches;
next	1.34;
commitid	uzuXpXIc0uD48j2O;

1.34
date	2016.05.28.13.40.57;	author sthen;	state Exp;
branches;
next	1.33;
commitid	wepJuVNLi51qMkBu;

1.33
date	2016.01.06.17.01.54;	author ajacoutot;	state Exp;
branches;
next	1.32;
commitid	HthLRD6bBFBNPD4k;

1.32
date	2015.09.29.10.52.11;	author sthen;	state Exp;
branches;
next	1.31;
commitid	xbfDwwa9BDEzVq2B;

1.31
date	2015.09.23.20.14.53;	author jca;	state Exp;
branches;
next	1.30;
commitid	OPPRaa6Y16pgkzJB;

1.30
date	2015.06.26.06.55.47;	author rpointel;	state Exp;
branches;
next	1.29;
commitid	tQ8LxJsAbPiZ8shH;

1.29
date	2015.04.02.14.21.15;	author jasper;	state Exp;
branches;
next	1.28;
commitid	4Dkfcsk2uZtFDSwy;

1.28
date	2014.09.29.07.02.02;	author jasper;	state Exp;
branches;
next	1.27;
commitid	HSD3ATzI3n4xDSVx;

1.27
date	2014.08.28.05.40.49;	author rpointel;	state Exp;
branches;
next	1.26;
commitid	tumLogXL4Wq2sGde;

1.26
date	2014.06.10.04.34.48;	author rpointel;	state Exp;
branches;
next	1.25;
commitid	m8ck17PFWCHZctNJ;

1.25
date	2014.06.03.11.34.24;	author rpointel;	state Exp;
branches;
next	1.24;
commitid	yV7TKyLhcnT7BCjX;

1.24
date	2013.05.30.13.09.21;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2013.03.11.10.50.26;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2013.02.09.14.49.50;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2013.02.05.10.39.29;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2012.06.27.19.03.32;	author rpointel;	state Exp;
branches;
next	1.19;

1.19
date	2012.05.08.17.04.52;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2012.03.13.12.23.53;	author eric;	state Exp;
branches;
next	1.17;

1.17
date	2011.11.02.23.06.02;	author rpointel;	state Exp;
branches;
next	1.16;

1.16
date	2011.09.16.09.24.55;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2011.06.08.17.39.25;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.15.19.46.07;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.18.21.50.38;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2010.10.18.17.48.12;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.18.16.19.24;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2010.10.17.21.02.48;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2010.08.30.22.24.15;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2009.03.15.12.49.35;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2009.02.03.01.04.57;	author martynas;	state Exp;
branches;
next	1.6;

1.6
date	2008.07.09.17.46.51;	author martynas;	state Exp;
branches;
next	1.5;

1.5
date	2008.01.13.17.19.26;	author martynas;	state Exp;
branches;
next	1.4;

1.4
date	2007.12.10.21.07.51;	author martynas;	state Exp;
branches;
next	1.3;

1.3
date	2007.10.08.08.22.39;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2007.09.16.02.53.11;	author merdely;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.31.13.28.51;	author martynas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.05.31.13.28.51;	author martynas;	state Exp;
branches;
next	;


desc
@@


1.39
log
@Fix remaining pkgpaths for twisted update, reported by naddy@@.
@
text
@# $OpenBSD: Makefile,v 1.38 2017/01/03 19:19:49 landry Exp $

COMMENT=		discovery-based unittest extension

MODPY_EGG_VERSION=	1.3.7
DISTNAME=		nose-${MODPY_EGG_VERSION}
PKGNAME=		py-${DISTNAME}
CATEGORIES=		devel
REVISION=		4

HOMEPAGE=		http://readthedocs.org/docs/nose/en/latest/

# LGPL
PERMIT_PACKAGE_CDROM=	Yes

MODPY_PI =		Yes

MODULES=		lang/python

FLAVORS=		python3
FLAVOR?=

TEST_DEPENDS=		${FULLPKGNAME}:devel/py-nose${MODPY_FLAVOR} \
			devel/py-coverage${MODPY_FLAVOR}
.if !${FLAVOR:Mpython3}
TEST_DEPENDS+=		devel/py-twisted
.endif

MODPY_SETUPTOOLS=	Yes

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/${MODPY_PY_PREFIX}nose
	${INSTALL_DATA} ${WRKSRC}/README.txt ${PREFIX}/share/doc/${MODPY_PY_PREFIX}nose/
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/${MODPY_PY_PREFIX}nose
	cd ${WRKSRC}/examples && \
		find . -type d -exec ${INSTALL_DATA_DIR} \
			${PREFIX}/share/examples/${MODPY_PY_PREFIX}nose/{} \; && \
		find . ! -type d -exec ${INSTALL_DATA} {} \
			${PREFIX}/share/examples/${MODPY_PY_PREFIX}nose/{} \;
	rm ${PREFIX}/bin/nosetests-${MODPY_VERSION}
	mv ${PREFIX}/bin/nosetests \
		${PREFIX}/bin/nosetests${MODPY_BIN_SUFFIX}
	mv ${PREFIX}/man/man1/nosetests.1 \
		${PREFIX}/man/man1/nosetests${MODPY_BIN_SUFFIX}.1


do-test:
	cd ${WRKSRC}/functional_tests && nosetests -v
	cd ${WRKSRC}/unit_tests && nosetests -v

.include <bsd.port.mk>
@


1.38
log
@bump ports depending on python3 in devel
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2016/11/10 21:58:40 danj Exp $
d26 1
a26 1
TEST_DEPENDS+=		devel/py-twisted/core
@


1.37
log
@Remove superfluous if ${FLAVOR:Mpython3}

tweaks and ok rpointel@@ shadchin@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2016/10/05 17:06:28 shadchin Exp $
d9 1
a9 1
REVISION=		3
@


1.36
log
@Make coverage plugin compatible with py-coverage 4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2016/06/16 18:01:50 czarkoff Exp $
a40 1
.if ${FLAVOR:Mpython3}
a44 1
.endif
@


1.35
log
@remove dependency on GNU tar

OK rpointel@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2016/05/28 13:40:57 sthen Exp $
d9 1
a9 1
REVISION=		2
@


1.34
log
@remove USE_GROFF; minor formatting changes only
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2016/01/06 17:01:54 ajacoutot Exp $
a17 1
BUILD_DEPENDS=		archivers/gtar
a29 3

# problem with upstream tar and our tar
TAR=${LOCALBASE}/bin/gtar
@


1.33
log
@Remove martynas@@ from MAINTAINER, per his request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/09/29 10:52:11 sthen Exp $
d9 1
a9 1
REVISION=		1
a28 2

USE_GROFF =		Yes
@


1.32
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/09/23 20:14:53 jca Exp $
d9 1
a9 1
REVISION=		0
a11 2

MAINTAINER=		Martynas Venckus <martynas@@openbsd.org>
@


1.31
log
@Enable tests for the python3 flavor.  ok martynas@@ (MAINTAINER)

Only two tests are skipped because of lack of twisted,python3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/06/26 06:55:47 rpointel Exp $
d9 1
@


1.30
log
@update py-nose to 1.3.7.
ok aja@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/04/02 14:21:15 jasper Exp $
d25 4
a28 6
.if ${FLAVOR:Mpython3}
NO_TEST=		Yes
.else
TEST_DEPENDS=		${FULLPKGNAME}:devel/py-nose \
			devel/py-twisted/core \
			devel/py-coverage
@


1.29
log
@- switch to MODPY_PI
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/09/29 07:02:02 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	1.3.4
a7 1
REVISION =		0
@


1.28
log
@bump after switch from py3-distribute to py3-setuptools

ok rpointel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/08/28 05:40:49 rpointel Exp $
d18 1
a18 1
MASTER_SITES=		${MASTER_SITE_PYPI:=n/nose/}
@


1.27
log
@update nose to 1.3.4.
ok martynas (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2014/06/10 04:34:48 rpointel Exp $
d8 1
@


1.26
log
@update py-nose to 1.3.3.
ok martynas@@ (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/06/03 11:34:24 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	1.3.3
@


1.25
log
@changed python3 default version so bump revision.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/05/30 13:09:21 ajacoutot Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	1.1.2
a7 1
REVISION=		3
d28 1
a28 1
TEST_DEPENDS=		devel/py-nose \
@


1.24
log
@Bump after default py3 version switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/11 10:50:26 espie Exp $
d8 1
a8 1
REVISION=		2
@


1.23
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/02/09 14:49:50 sthen Exp $
d8 1
a8 1
REVISION=		1
d29 1
a29 1
TEST_DEPENDS=	devel/py-nose \
@


1.22
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/02/05 10:39:29 ajacoutot Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d27 1
a27 1
NO_REGRESS=		Yes
d29 1
a29 1
REGRESS_DEPENDS=	devel/py-nose \
d59 1
a59 1
do-regress:
@


1.21
log
@Set the full path to gtar and do not hardcode /usr/local.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/06/27 19:03:32 rpointel Exp $
d29 1
a29 1
.if ${FLAVOR:L:Mpython3}
d54 1
a54 1
.if ${FLAVOR:L:Mpython3}
@


1.20
log
@regen PLIST to permit to build with Python 3.2.3, bump revision.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/05/08 17:04:52 espie Exp $
d42 1
a42 1
TAR=gtar
@


1.19
log
@typo in REGRESS_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/03/13 12:23:53 eric Exp $
d8 1
a8 1
REVISION=		0
@


1.18
log
@- update HOMEPAGE
- add python3 FLAVOR

ok martynas@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/11/02 23:06:02 rpointel Exp $
d32 1
a32 1
REGRESS_DEPENDS=	devel/py-nose$ \
@


1.17
log
@Update nose to 1.1.2.
ok martynas@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/09/16 09:24:55 espie Exp $
d8 1
a8 1

d11 1
a11 1
HOMEPAGE=		http://somethingaboutorange.com/mrl/projects/nose/
d25 8
a32 1
REGRESS_DEPENDS=	devel/py-nose \
d35 2
d45 3
a47 3
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/py-nose
	${INSTALL_DATA} ${WRKSRC}/README.txt ${PREFIX}/share/doc/py-nose/
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/py-nose
d49 12
a60 2
		find . -type d -exec ${INSTALL_DATA_DIR} ${PREFIX}/share/examples/py-nose/{} \; && \
		find . ! -type d -exec ${INSTALL_DATA} {} ${PREFIX}/share/examples/py-nose/{} \;
@


1.16
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/06/08 17:39:25 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	0.11.4
a6 1
REVISION =		1
d21 1
a21 1
MASTER_SITES=		http://somethingaboutorange.com/mrl/projects/nose/
d23 1
d26 2
a27 1
			devel/py-twisted/core
d32 3
d44 2
a45 2
	cd ${WRKSRC}/functional_tests && nosetests
	cd ${WRKSRC}/unit_tests && nosetests
@


1.15
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/11/15 19:46:07 espie Exp $
d7 1
a7 1
REVISION =		0
@


1.14
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/18 21:50:38 sthen Exp $
d7 1
@


1.13
log
@fix tabs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/10/18 17:48:12 espie Exp $
d24 3
a26 3
REGRESS_DEPENDS=	::devel/py-nose \
			::devel/py-twisted/core
USE_GROFF =	Yes
@


1.12
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/18 16:19:24 jasper Exp $
d26 1
a26 1
			USE_GROFF =	Yes
@


1.11
log
@- update to 0.11.4

ok martynas@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/10/17 21:02:48 jasper Exp $
d26 1
@


1.10
log
@- update py-nose to 0.11.2

ok martynas@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/08/30 22:24:15 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	0.11.2
@


1.9
log
@bumpski for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/03/15 12:49:35 espie Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	0.10.4
a7 1
REVISION =		1
@


1.8
log
@A few python deps updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/02/03 01:04:57 martynas Exp $
d7 2
a8 1
PKGNAME=		py-${DISTNAME}p0
@


1.7
log
@- update to py-nose-0.10.4;  from Benoit Chesneau
- move to MODPY_EGG_VERSION;  from eric@@
ok eric@@, wcmaier@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/07/09 17:46:51 martynas Exp $
d7 1
a7 1
PKGNAME=		py-${DISTNAME}
@


1.6
log
@- bugfix update to py-nose-0.10.3
- fix regression tests, prodded by wcmaier@@
ok wcmaier@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/01/13 17:19:26 martynas Exp $
d5 2
a6 2
VERSION=		0.10.3
DISTNAME=		nose-${VERSION}
a25 2

SUBST_VARS=		VERSION
@


1.5
log
@update to py-nose-0.10.1;  ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/12/10 21:07:51 martynas Exp $
d5 1
a5 1
VERSION=		0.10.1
@


1.4
log
@remove lang/python category from individual ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/10/08 08:22:39 steven Exp $
d5 3
a7 2
DISTNAME=		nose-0.9.3
PKGNAME=		py-${DISTNAME}p0
d24 2
a25 1
REGRESS_DEPENDS=	::devel/py-twisted/core
d27 1
a27 3
MAKE_ENV=		NOSE_WHERE=unit_tests

REGRESS_TARGET=		nosetests
d38 4
@


1.3
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/09/16 02:53:11 merdely Exp $
d8 1
a8 1
CATEGORIES=		devel lang/python
@


1.2
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/05/31 13:28:51 martynas Exp $
d6 1
a6 1
PKGNAME=		py-${DISTNAME}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
COMMENT=		"discovery-based unittest extension"
@


1.1.1.1
log
@Nose provides an alternate test discovery and running process for
unittest, one that is intended to mimic the behavior of py.test as
much as is reasonably possible without resorting to too much magic.

similar diffs from niallo@@ and Will Maier
ok steven@@ (who also had REGRESS_DEPENDS fix) and niallo@@
@
text
@@
