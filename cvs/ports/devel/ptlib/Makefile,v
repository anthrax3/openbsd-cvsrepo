head	1.38;
access;
symbols
	OPENBSD_6_1:1.38.0.2
	OPENBSD_6_1_BASE:1.38
	OPENBSD_6_0:1.36.0.2
	OPENBSD_6_0_BASE:1.36
	OPENBSD_5_9:1.35.0.2
	OPENBSD_5_9_BASE:1.35
	OPENBSD_5_8:1.32.0.4
	OPENBSD_5_8_BASE:1.32
	OPENBSD_5_7:1.31.0.2
	OPENBSD_5_7_BASE:1.31
	OPENBSD_5_6:1.25.0.2
	OPENBSD_5_6_BASE:1.25
	OPENBSD_5_5:1.22.0.2
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.20.0.2
	OPENBSD_5_4_BASE:1.20
	OPENBSD_5_3:1.18.0.2
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.16.0.2
	OPENBSD_5_2_BASE:1.16
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.2
	OPENBSD_5_0:1.8.0.4
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.5.0.2
	OPENBSD_4_8_BASE:1.5
	ajacoutot_20100323:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.38
date	2017.02.19.19.26.39;	author ajacoutot;	state Exp;
branches;
next	1.37;
commitid	AtGhtzm2P9TWa2Zo;

1.37
date	2017.02.19.19.04.16;	author feinerer;	state Exp;
branches;
next	1.36;
commitid	GYGCTmof70Rux3yd;

1.36
date	2016.03.16.21.19.38;	author naddy;	state Exp;
branches;
next	1.35;
commitid	eS3Ayl3CL8hkKETd;

1.35
date	2016.01.08.10.06.48;	author ajacoutot;	state Exp;
branches;
next	1.34;
commitid	a3jpRj6GqaEQELJ7;

1.34
date	2016.01.01.17.30.33;	author ajacoutot;	state Exp;
branches;
next	1.33;
commitid	03oC9FeyhYN9U8R0;

1.33
date	2015.10.08.21.19.22;	author sthen;	state Exp;
branches;
next	1.32;
commitid	pVDZUjJm7yyuQSI1;

1.32
date	2015.05.22.15.16.24;	author ajacoutot;	state Exp;
branches;
next	1.31;
commitid	Jw2PwDLk0P1nPaHc;

1.31
date	2014.10.18.04.19.31;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	MUVek3M558cT4sfG;

1.30
date	2014.10.18.01.27.43;	author jeremy;	state Exp;
branches;
next	1.29;
commitid	ZMbW2htPBUa75sWD;

1.29
date	2014.09.16.09.09.46;	author espie;	state Exp;
branches;
next	1.28;
commitid	6Lt9epP559Qkvcv4;

1.28
date	2014.09.13.16.23.04;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	ZkV0Ztffh0EWPc5f;

1.27
date	2014.09.03.10.24.24;	author ajacoutot;	state Exp;
branches;
next	1.26;
commitid	fs9TvjZYyb9ABOkD;

1.26
date	2014.08.25.07.05.46;	author ajacoutot;	state Exp;
branches;
next	1.25;
commitid	3bRm9WZFnAbCe8K8;

1.25
date	2014.05.09.08.05.02;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2014.04.27.09.45.05;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2014.04.25.11.17.26;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2013.10.31.21.12.13;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2013.10.02.10.45.25;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.11.10.50.25;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2013.03.02.14.05.36;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.11.27.08.12.26;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2012.08.25.13.15.23;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2012.06.22.16.53.51;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2012.06.21.14.23.51;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2012.03.02.09.03.52;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2011.10.30.12.49.49;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2011.10.28.12.15.36;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2011.10.27.09.34.40;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2011.10.26.16.59.09;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.16.09.24.54;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.15.19.46.07;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.08.10.28.22;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2010.10.24.21.11.02;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.05.31.05.28.06;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2010.05.11.07.23.23;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2010.03.27.14.32.23;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.03.26.14.24.42;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.03.23.21.10.17;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.03.23.21.10.17;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.38
log
@post-patch -> pre-configure like $DEITY intended; next time talk
to $MAINTAINER.
@
text
@# $OpenBSD: Makefile,v 1.37 2017/02/19 19:04:16 feinerer Exp $

COMMENT=	portable tools library

V=		2.12.9
DISTNAME=	ptlib-${V}
EXTRACT_SUFX=	.tar.bz2
SUBST_VARS=	V
REVISION=	10

SHARED_LIBS=	pt	7.0

CATEGORIES=	devel telephony

HOMEPAGE=	http://www.opalvoip.org/

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# MPL 1.0
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += SDL c crypto expat lber ldap ldap_r m pthread sasl2
WANTLIB += sndio ssl stdc++ v4l2

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=opalvoip/}

BUILD_DEPENDS=	devel/bison

LIB_DEPENDS=	databases/openldap \
		devel/sdl \
		multimedia/libv4l

ALL_TARGET=	default #${WRKSRC}/Makefile
USE_GMAKE=	Yes
NO_TEST=	Yes

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		PTLIB_CFLAGS="-fPIC"
CONFIGURE_ARGS=	--enable-plugins \
		--enable-sndio \
		--disable-esd \
		--disable-lua \
		--disable-oss \
		--disable-pulse \
		--disable-v8

# XXX needs /proc/net/if_inet6
CONFIGURE_ARGS+=--disable-ipv6

# XXX our libpcap is too old
CONFIGURE_ARGS+=--disable-pcap

MAKE_ENV=	VERBOSE=1
MAKE_FLAGS=	MAJOR_VERSION=${LIBpt_VERSION:R} \
		MINOR_VERSION=${LIBpt_VERSION:E}

INSTALL_REPLACE = 's/^INSTALL := .*$$/ifdef BSD_INSTALL_SCRIPT\nINSTALL
INSTALL_REPLACE += := \$$\(subst -m 755,,\$${BSD_INSTALL_SCRIPT}\)
INSTALL_REPLACE += \nelse\nINSTALL := \/usr\/bin\/install -c -o ${BINOWN}
INSTALL_REPLACE += -g ${BINGRP}\nendif/'

pre-configure:
	mkdir ${WRKSRC}/plugins/sound_sndio
	cp ${FILESDIR}/{Makefile,sound_sndio.*} ${WRKSRC}/plugins/sound_sndio
	${SUBST_CMD} ${WRKSRC}/make/unix.mak
	sed -i 's/__u32/u_int32_t/' \
		${WRKSRC}/plugins/vidinput_v4l2/vidinput_v4l2.cxx

post-install:
	${INSTALL_DATA} ${WRKSRC}/version.h ${PREFIX}/share/ptlib
	perl -i -pe ${INSTALL_REPLACE} \
		${PREFIX}/share/ptlib/make/ptbuildopts.mak

.include <bsd.port.mk>
@


1.37
log
@Use standard type u_int32_t instead of __u32.

Build error after sys/videoio.h update reported by naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2016/03/16 21:19:38 naddy Exp $
a67 2

post-patch:
@


1.36
log
@remove SHARED_ONLY from ports that use only the gnu module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2016/01/08 10:06:48 ajacoutot Exp $
d9 1
a9 1
REVISION=	9
d68 4
@


1.35
log
@This picks up libv4l.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.34 2016/01/01 17:30:33 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.34
log
@Re-enable v4l2 support now that we have a modern header.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/10/08 21:19:22 sthen Exp $
d11 1
a11 1
REVISION=	8
d25 1
a25 1
WANTLIB += sndio ssl stdc++
d32 2
a33 1
		devel/sdl
@


1.33
log
@Bump some ports which reference if_msghdr in their source, so that package
updates are triggered. This is following the struct if_data ABI change a few
days ago; if_msghdr has an embedded if_data.  Some may be unnecessary, but
some are definitely needed and bumps are cheaper than debugging.
Problem reported with wpa_supplicant by Mikolaj Kucharski.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/05/22 15:16:24 ajacoutot Exp $
d11 1
a11 1
REVISION=	7
a48 4


# XXX error: 'struct v4l2_frmsizeenum' has no member named 'discrete'
CONFIGURE_ARGS+=--disable-v4l2
@


1.32
log
@Add -fPIC to PTLIB_CFLAGS to build with newer binutils.
As a bonus, drop patching for STDCCFLAGS used by ptlib dependencies
(/usr/local/share/ptlib/make/unix.mak) since PTLIB_CFLAGS is appended to
CFLAGS/CXXFLAGS automatically.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2014/10/18 04:19:31 ajacoutot Exp $
d11 1
a11 1
REVISION=	6
@


1.31
log
@Move INSTALL_REPLACE; no pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2014/10/18 01:27:43 jeremy Exp $
d11 1
a11 1
REVISION=	5
d40 2
a41 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.30
log
@Allow use of ptlib without a ports tree installed.  This removes the last
use of FAKE_AS_ROOT = always-wrap in the tree.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/09/16 09:09:46 espie Exp $
d63 5
a72 4
INSTALL_REPLACE = 's/^INSTALL := .*$$/ifdef BSD_INSTALL_SCRIPT\nINSTALL
INSTALL_REPLACE += := \$$\(subst -m 755,,\$${BSD_INSTALL_SCRIPT}\)
INSTALL_REPLACE += \nelse\nINSTALL := \/usr\/bin\/install -c -o ${BINOWN}
INSTALL_REPLACE += -g ${BINGRP}\nendif/'
@


1.29
log
@turn on "always-wrap" for the 3 ports known to embed their install program
in installed files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/09/13 16:23:04 ajacoutot Exp $
d11 1
a11 1
REVISION=	4
a15 1
FAKE_AS_ROOT =	always-wrap
d68 4
d74 2
@


1.28
log
@Do not run configure twice; spotted by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/09/03 10:24:24 ajacoutot Exp $
d16 1
d49 1
@


1.27
log
@Drop patch; not needed anymore since the recent FAKE_AS_ROOT fix.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2014/08/25 07:05:46 ajacoutot Exp $
d11 1
a11 1
REVISION=	3
@


1.26
log
@Do not re-define INSTALL otherwise we end up using the one from ${WRKBUILD}.
This unbreaks dependant ports like h323plus.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/05/09 08:05:02 ajacoutot Exp $
d11 1
a11 1
REVISION=	2
@


1.25
log
@Don't pick up libv8; spotted by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/04/27 09:45:05 ajacoutot Exp $
d11 1
a11 1
REVISION=	1
@


1.24
log
@Fix the optshared target for dependant ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/04/25 11:17:26 ajacoutot Exp $
d11 1
a11 1
REVISION=	0
d46 2
a47 1
		--disable-pulse
@


1.23
log
@Update to ptlib-2.12.9.
Drop support for v4l2, our implementation is seriously lacking behind.
@
text
@d1 1
a1 1
# $OpenBSD: ports/devel/ptlib/Makefile,v 1.22 2013/10/31 21:12:13 sthen Exp $
d11 1
@


1.22
log
@bump REVISION for any ports using route messages. regen some distinfos and
remove unnecessary USE_GROFFs while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/10/02 10:45:25 ajacoutot Exp $
d7 1
a7 1
V=		2.10.11
a8 1
REVISION=	0
d12 1
a12 1
SHARED_LIBS=	pt	5.2	# 2.10.11
a36 2
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/plugins

a37 2

# needed because it gets appended to STDCCFLAGS in unix.mak
d40 6
d47 2
a48 4
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-static \
		--disable-pulse \
		--enable-sndio
d53 2
a54 5
# see pre-configure
AUTOCONF_VERSION=	2.68
AUTOMAKE_VERSION=	1.10
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS}
d58 1
a58 7
		MINOR_VERSION=${LIBpt_VERSION:E} \
		LIB_SONAME=libpt.so.${LIBpt_VERSION} \
		DEBUG_SONAME=libpt_d.so.${LIBpt_VERSION}

post-extract:
	@@mkdir ${WRKSRC}/plugins/sound_sndio
	@@cp ${FILESDIR}/{Makefile,sound_sndio.*} ${WRKSRC}/plugins/sound_sndio
d61 3
a63 7
	${SUBST_CMD} ${WRKSRC}/make/common.mak \
		${WRKSRC}/make/unix.mak \
		${WRKSRC}/src/ptlib/common/pluginmgr.cxx
	cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} aclocal
	cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} autoconf
	cd ${WRKSRC}/plugins && env AUTOCONF_VERSION=${AUTOCONF_VERSION} autoconf
a66 1
	rm ${PREFIX}/lib/libpt_s.a
@


1.21
log
@Update to ptlib-2.10.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/11 10:50:25 espie Exp $
d9 1
@


1.20
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/03/02 14:05:36 ajacoutot Exp $
d7 4
a10 3
DISTNAME=	ptlib-2.10.10

SHARED_LIBS=	pt	5.1	# 2.10.10
d12 1
a12 1
EXTRACT_SUFX=	.tar.bz2
d23 2
a24 2
WANTLIB += SDL c crypto expat lber ldap ldap_r m pthread sndio
WANTLIB += ssl stdc++
d28 2
a29 3
BUILD_DEPENDS=	devel/bison \
		${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}
d33 5
a37 1
ALL_TARGET=	default
d40 5
d46 3
a48 5
		--with-plugin-installdir=ptlib \
		--enable-plugins \
		--enable-sndio \
		--disable-oss \
		--disable-pulse
d53 2
a54 7
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		OPENSSL_CFLAGS="-I/usr/include" \
		OPENSSL_LIBS="-lssl -lcrypto -lm"

# should be 2.66
AUTOCONF_VERSION=	2.67
d56 2
a57 1
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC} ${WRKSRC}/plugins
d59 1
a64 3
USE_GMAKE=	Yes
NO_TEST=	Yes

d75 2
a76 4
	cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} autoconf
	cd ${WRKSRC}/plugins && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} autoconf
d80 1
@


1.19
log
@Update to ptlib-2.10.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/11/27 08:12:26 ajacoutot Exp $
a20 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d62 1
a62 1
NO_REGRESS=	Yes
@


1.18
log
@Update to ptlib-2.10.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/08/25 13:15:23 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	ptlib-2.10.9
d9 1
a9 1
SHARED_LIBS=	pt	5.0	# 2.10.3
d25 2
a26 2
WANTLIB += SDL c crypto expat lber ldap ldap_r m pthread sasl2
WANTLIB += sndio ssl stdc++
@


1.17
log
@Update to ptlib-2.10.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/06/22 16:53:51 naddy Exp $
d7 1
a7 1
DISTNAME=	ptlib-2.10.7
d9 1
a9 1
SHARED_LIBS=	pt	4.0	# 2.10.3
@


1.16
log
@drop gcc3 workaround
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/06/21 14:23:51 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	ptlib-2.10.5
d25 2
a26 2
WANTLIB += SDL c crypto expat lber ldap ldap_r m sasl2 sndio ssl
WANTLIB += stdc++
a41 8
		--enable-bsdvideo \
		--enable-sasl \
		--enable-openldap \
		--enable-audio \
		--enable-video \
		--enable-vidfile \
		--enable-shmvideo \
		--enable-v4l2 \
a42 2
		--enable-openssl \
		--disable-lua \
a43 4
		--disable-alsa \
		--disable-avc \
		--disable-dc \
		--disable-odbc \
@


1.15
log
@Update to ptlib-2.10.5; unbreak video in ekiga.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/03/02 09:03:52 ajacoutot Exp $
a36 5

.include <bsd.own.mk>
.if !${COMPILER_VERSION:L:Mgcc4}
PATCH_LIST = patch-* gcc3-patch-*
.endif
@


1.14
log
@Update to ptlib-2.10.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/10/30 12:49:49 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	ptlib-2.10.4
@


1.13
log
@Simplify.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/10/28 12:15:36 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	ptlib-2.10.3
REVISION=	2
@


1.12
log
@Remove some now uneeded patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/10/27 09:34:40 ajacoutot Exp $
d8 1
a8 1
REVISION=	1
@


1.11
log
@Properly enumerate video devices.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/10/26 16:59:09 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
@


1.10
log
@Major update to ptlib-2.10.3.

Some clue from espie@@

Needed to work on an Ekiga update.
There are still some rought edges but they'll be worked in-tree.

This and the upcoming VoIP ports commits wouldn't have been possible
without Miod's soft couch ;-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/16 09:24:54 espie Exp $
d8 1
@


1.9
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/15 19:46:07 espie Exp $
d7 1
a7 2
DISTNAME=	ptlib-2.6.7
REVISION=		0
d9 1
a9 1
SHARED_LIBS=	pt	3.0	# 2.4.2
d25 2
a26 1
WANTLIB=	c crypto expat m sasl2 sndio ssl lber ldap ldap_r SDL
d36 2
a45 1
		--enable-appshare \
d57 1
d62 6
a67 1
		--disable-odbc
d73 3
a75 2
AUTOCONF_VERSION=	2.61
AUTOMAKE_VERSION=	1.9
d79 3
a81 1
		MINOR_VERSION=${LIBpt_VERSION:E}
d86 1
a86 3
ALL_TARGET=	optshared

post-patch:
d92 2
a93 2
		${WRKSRC}/src/ptlib/common/pluginmgr.cxx \
		${WRKSRC}/include/ptlib/pluginmgr.h
@


1.8
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/11/08 10:28:22 espie Exp $
d8 1
@


1.7
log
@more conversions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/10/24 21:11:02 ajacoutot Exp $
d29 1
a29 1
BUILD_DEPENDS=	::devel/bison \
d32 2
a33 2
LIB_DEPENDS=	::databases/openldap \
		::devel/sdl
@


1.6
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/05/31 05:28:06 ajacoutot Exp $
d25 1
a25 1
WANTLIB=	c crypto expat m sasl2 sndio ssl
d32 2
a33 2
LIB_DEPENDS=	lber,ldap,ldap_r::databases/openldap \
		SDL::devel/sdl
@


1.5
log
@Update to ptlib-2.6.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/05/11 07:23:23 espie Exp $
a71 1
USE_X11=	Yes
@


1.4
log
@make it compile on gcc4, by making the relevant patch dependent on
compiler version.
also removes lvalue cast, that's not ansi.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/03/27 14:32:23 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	ptlib-2.6.5
PKGNAME=	${DISTNAME}p1
@


1.3
log
@Put '-fPIC' in openbsd ifdefs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/03/26 14:24:42 ajacoutot Exp $
d35 5
@


1.2
log
@Unbreak on 64bits arches.
(thanks robert@@ for giving me access to an amd64 machine)

breakage reported by viq at viq dot ath dot cx
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/03/23 21:10:17 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 2
@


1.1.1.1
log
@Import ptlib-2.6.5

PTLib is a moderately large C++ class library that originated many years
ago as a method to produce applications that run on both Microsoft
Windows and Unix X-Windows systems. It also was to have a Macintosh port
as well, but this never eventuated. In those days it was called the
PWLib the Portable Windows Library.

Since then, the availability of multi-platform GUI toolkits such as KDE
and wxWindows, and the development of the OpenH323 and OPAL projects as
primary user of the library, has emphasised the focus on networking, I/O
portability, multi-threading and protocol portability. Mostly, the
library is used to create high performance and highly portable
network-centric applications. So all the GUI abstractions ahave been
dropped and it was renamed the Portable Tools Library that you see
today.
@
text
@@
