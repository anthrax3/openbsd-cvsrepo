head	1.2;
access;
symbols
	OPENBSD_5_2:1.1.0.4
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2012.08.25.13.15.24;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2011.10.26.16.59.09;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to ptlib-2.10.7.
@
text
@$OpenBSD: patch-include_ptlib_unix_ptlib_pmachdep_h,v 1.1 2011/10/26 16:59:09 ajacoutot Exp $

OpenBSD has support for monotonic clock (CLOCK_MONOTONIC), however we
currently don't have most of the _POSIX_* defines in unistd.h (e.g.
_POSIX_MONOTONIC_CLOCK 200112L) and the associated sysconf(3)
_SC_MONOTONIC_CLOCK variable.

--- include/ptlib/unix/ptlib/pmachdep.h.orig	Sat Oct 22 18:26:52 2011
+++ include/ptlib/unix/ptlib/pmachdep.h	Sat Oct 22 18:27:17 2011
@@@@ -115,6 +115,7 @@@@ typedef int socklen_t;
 #include <netinet/tcp.h>
 
 #define HAS_IFREQ
+#define _POSIX_MONOTONIC_CLOCK
 
 ///////////////////////////////////////////////////////////////////////////////
 #elif defined(P_NETBSD)
@


1.1
log
@Major update to ptlib-2.10.3.

Some clue from espie@@

Needed to work on an Ekiga update.
There are still some rought edges but they'll be worked in-tree.

This and the upcoming VoIP ports commits wouldn't have been possible
without Miod's soft couch ;-)
@
text
@d1 1
a1 1
$OpenBSD$
@

