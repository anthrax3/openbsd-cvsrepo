head	1.10;
access;
symbols
	OPENBSD_6_2:1.10.0.12
	OPENBSD_6_2_BASE:1.10
	OPENBSD_6_1:1.10.0.10
	OPENBSD_6_1_BASE:1.10
	OPENBSD_6_0:1.10.0.8
	OPENBSD_6_0_BASE:1.10
	OPENBSD_5_9:1.10.0.4
	OPENBSD_5_9_BASE:1.10
	OPENBSD_5_8:1.10.0.6
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.10.0.2
	OPENBSD_5_7_BASE:1.10
	OPENBSD_5_6:1.9.0.8
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.9.0.6
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.9.0.4
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.9.0.2
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.8.0.2
	OPENBSD_5_2_BASE:1.8
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.10
	OPENBSD_5_0:1.7.0.8
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.6
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.4
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.2
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.6.0.10
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.8
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.6
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.6.0.4
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.6.0.2
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.4.0.2
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.2.0.4
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	jolan_2005-may-14:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.10
date	2015.02.20.08.17.30;	author dcoppa;	state Exp;
branches;
next	1.9;
commitid	wXCdsR0E6mtawR4k;

1.9
date	2013.01.07.22.13.40;	author dcoppa;	state Exp;
branches;
next	1.8;

1.8
date	2012.07.10.15.22.44;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2009.09.06.19.25.22;	author jolan;	state Exp;
branches;
next	1.6;

1.6
date	2007.05.10.20.23.29;	author pedro;	state Exp;
branches;
next	1.5;

1.5
date	2006.09.24.16.56.08;	author pedro;	state Exp;
branches;
next	1.4;

1.4
date	2006.07.30.04.38.39;	author pedro;	state Exp;
branches;
next	1.3;

1.3
date	2006.03.26.04.56.02;	author pedro;	state Exp;
branches;
next	1.2;

1.2
date	2005.07.08.17.57.27;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2005.05.15.00.42.52;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.05.15.00.42.52;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.10
log
@
Update to luafs-1.6.3 ; Florian Stinglmayr

works fine with ldoc and lua-penlight
regression tests all ok
@
text
@$OpenBSD: patch-config,v 1.9 2013/01/07 22:13:40 dcoppa Exp $
--- config.orig	Thu Jan 15 19:58:20 2015
+++ config	Tue Feb 10 21:14:38 2015
@@@@ -3,9 +3,9 @@@@
 # Default installation prefix
-PREFIX=/usr/local
+#PREFIX=/usr/local
 
 # System's libraries directory (where binary libraries are installed)
-LUA_LIBDIR= $(PREFIX)/lib/lua/5.1
+LUA_LIBDIR?= $(LOCALBASE)/lib/lua/5.1
 
 # Lua includes directory
-LUA_INC= $(PREFIX)/include
+LUA_INC?= $(LOCALBASE)/include
 
@@@@ -15,9 +15,9 @@@@
 
-LIBNAME= $T.so.$V
+LIBNAME= $T.so
 
 # Compilation directives
-WARN= -O2 -Wall -fPIC -W -Waggregate-return -Wcast-align -Wmissing-prototypes -Wnested-externs -Wshadow -Wwrite-strings -pedantic
+#WARN= -O2 -Wall -fPIC -W -Waggregate-return -Wcast-align -Wmissing-prototypes -Wnested-externs -Wshadow -Wwrite-strings -pedantic
 INCS= -I$(LUA_INC)
-CFLAGS= $(WARN) $(INCS)
-CC= gcc
+CFLAGS+= -fPIC $(INCS)
+#CC= gcc
 
@


1.9
log
@Update to luafs-1.6.2

ok jasper@@
@
text
@d1 3
a3 3
$OpenBSD: patch-config,v 1.8 2012/07/10 15:22:44 jasper Exp $
--- config.orig	Tue Oct 20 22:54:35 2009
+++ config	Sun Jul  8 19:36:28 2012
@


1.8
log
@handle multiple lua versions, for now everything builds with the "old" 5.1 in the new location.
use FLAVOR=lua52 to use lua 5.2 with these ports.
@
text
@d1 1
a1 1
$OpenBSD: patch-config,v 1.7 2009/09/06 19:25:22 jolan Exp $
d4 1
a4 3
@@@@ -1,24 +1,24 @@@@
 # Installation directories
 
d17 1
a17 3
 # OS dependent
 LIB_OPTION= -shared #for Linux
 #LIB_OPTION= -bundle -undefined dynamic_lookup #for MacOS X
a30 1
 # $Id: config,v 1.21 2007/10/27 22:42:32 carregal Exp $
@


1.7
log
@update to 1.4.2
@
text
@d1 3
a3 3
$OpenBSD$
--- config.orig	Sun Sep  6 14:21:39 2009
+++ config	Sun Sep  6 14:22:00 2009
d13 1
a13 1
+LUA_LIBDIR= $(LOCALBASE)/lib/lua/5.1
d17 1
a17 1
+LUA_INC= $(LOCALBASE)/include
@


1.6
log
@luafs-1.2.1, okay rui@@
@
text
@d2 3
a4 3
--- config.orig	Thu May 10 10:14:46 2007
+++ config	Thu May 10 10:15:23 2007
@@@@ -1,19 +1,18 @@@@
d6 5
d12 3
a14 2
-LUA_LIBDIR= /usr/local/lib/lua/5.1
+LUA_LIBDIR= $(LOCALBASE)/lib
d16 1
a16 1
-LUA_INC= /usr/local/include/lua51
d27 2
a28 1
-WARN= -O2 -Wall -fPIC -W -Waggregate-return -Wcast-align -Wmissing-prototypes -Wnested-externs -Wshadow -Wwrite-strings
d33 1
a33 1
+CC= cc
d35 1
a35 1
 # $Id: config,v 1.14.2.1 2007/05/08 21:35:10 carregal Exp $
@


1.5
log
@Add regression test
@
text
@d1 4
a4 4
$OpenBSD: patch-config,v 1.4 2006/07/30 04:38:39 pedro Exp $
--- config.orig	Sun Sep 24 13:34:34 2006
+++ config	Sun Sep 24 13:36:22 2006
@@@@ -1,20 +1,22 @@@@
d7 1
a7 1
-LUA_LIBDIR= /usr/local/lib/lua/5.0
d10 1
a10 1
-LUA_INC= /usr/local/include
a11 2
+# Location of the Lua interpreter.
+LUA= $(PREFIX)/bin/lua
d18 1
a18 2
+LIBNAME= lfs.so
 COMPAT_DIR= ../compat/src
d21 2
a22 2
 WARN= -O2 -Wall -fPIC -W -Waggregate-return -Wcast-align -Wmissing-prototypes -Wnested-externs -Wshadow -Wwrite-strings
-INCS= -I$(LUA_INC) -I$(COMPAT_DIR)
d25 1
a25 2
+INCS= -I$(LUA_INC)
+CFLAGS+= -fPIC
d28 1
a28 1
 # $Id: config,v 1.14 2005/06/24 01:49:16 tomas Exp $
@


1.4
log
@Switch to Lua 5.1, okay jolan@@
@
text
@d1 4
a4 4
$OpenBSD: patch-config,v 1.3 2006/03/26 04:56:02 pedro Exp $
--- config.orig	Thu Jul 27 16:38:52 2006
+++ config	Thu Jul 27 16:39:09 2006
@@@@ -1,20 +1,20 @@@@
d12 2
@


1.3
log
@luafs-1.2, okay jolan@@
@
text
@d1 3
a3 3
$OpenBSD: patch-config,v 1.2 2005/07/08 17:57:27 jolan Exp $
--- config.orig	Sat Mar 25 23:55:30 2006
+++ config	Sat Mar 25 23:56:30 2006
d18 1
a18 1
+LIBNAME= core.so
@


1.2
log
@update to 1.1, ok pedro@@
@
text
@d1 4
a4 4
$OpenBSD$
--- config.orig	Wed May 25 07:55:32 2005
+++ config	Thu Jul  7 23:27:58 2005
@@@@ -1,22 +1,17 @@@@
d10 1
a10 1
-LUA_INC= /usr/local/include/lua5
a13 1
 #LIB_OPTION= -bundle -undefined  dynamic_lookup #for MacOS X
d15 5
a20 2
-COMPAT_DIR= ../compat/src
-
d22 1
a22 5
 # On FreeBSD systems, the following line should be commented
-DLLIB= -ldl
+#DLLIB= -ldl
 #LUA_LIBS= -llua50 -lm
-WARN= -O2 -Wall -fPIC -W -Waggregate-return -Wcast-align -Wmissing-prototypes -Wnested-externs -Wshadow -Wwrite-strings
a23 2
+INCS= -I$(LUA_INC)
 LIBS= $(LUA_LIBS) $(DLLIB)
d26 5
a30 2
-
+CFLAGS+= $(WARN) $(INCS) -fPIC
@


1.1
log
@Initial revision
@
text
@d2 3
a4 3
--- config.orig	Wed Jan 19 15:20:04 2005
+++ config	Sat May 14 21:06:43 2005
@@@@ -1,25 +1,22 @@@@
a8 3
 # System's lua directory (where Lua libraries are installed)
-LUA_DIR= /usr/local/share/lua/5.0
+#LUA_DIR= /usr/local/share/lua/5.0
d14 2
a15 8
-LIB_EXT= .dylib
-#LIB_EXT= .so
-LIB_OPTION= -dynamiclib #for MacOS X
-#LIB_OPTION= -shared #for Linux
+#LIB_EXT= .dylib
+LIB_EXT= .so
+#LIB_OPTION= -dynamiclib #for MacOS X
+LIB_OPTION= -shared #for Linux
d17 1
a17 1
-COMPAT_DIR= .
d22 2
a25 2
+#DLLIB= -ldl
+#WARN= -O2 -Wall -fPIC -W -Waggregate-return -Wcast-align -Wmissing-prototypes -Wnested-externs -Wshadow -Wwrite-strings
d27 1
a27 1
 LIBS= -L$(LUA_LIBDIR) -llua -llualib -lm $(DLLIB)
a31 1
+#CC= gcc
@


1.1.1.1
log
@luafilesystem-1.0, file system library for the lua language

from pedro@@
@
text
@@
