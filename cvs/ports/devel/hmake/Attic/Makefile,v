head	1.24;
access;
symbols
	OPENBSD_6_0:1.23.0.6
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.23.0.2
	OPENBSD_5_9_BASE:1.23
	OPENBSD_5_8:1.23.0.4
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.22.0.8
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.22.0.6
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.22.0.4
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.22.0.2
	OPENBSD_5_4_BASE:1.22
	OPENBSD_5_3:1.21.0.8
	OPENBSD_5_3_BASE:1.21
	OPENBSD_5_2:1.21.0.6
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.21
	OPENBSD_5_1:1.21.0.4
	OPENBSD_5_0:1.21.0.2
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.18.0.2
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.16.0.2
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.11.0.12
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.11.0.10
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.8
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.11.0.6
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.11.0.4
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.11.0.2
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.6.0.8
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.6.0.6
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.6.0.4
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.2
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.5.0.2
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.1.1.1.0.4
	OPENBSD_3_5_BASE:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.2
	OPENBSD_3_4_BASE:1.1.1.1
	avsm_2003-Jul-24:1.1.1.1
	avsm:1.1.1;
locks; strict;
comment	@# @;


1.24
date	2017.02.25.20.37.36;	author naddy;	state dead;
branches;
next	1.23;
commitid	moNlrPBshuucPkZ6;

1.23
date	2015.07.18.22.09.15;	author kili;	state Exp;
branches;
next	1.22;
commitid	5hSXcL7DwiOgcxRl;

1.22
date	2013.03.11.10.50.06;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2011.04.26.14.51.32;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2011.04.14.12.15.53;	author kili;	state Exp;
branches;
next	1.19;

1.19
date	2011.04.11.13.04.43;	author kili;	state dead;
branches;
next	1.18;

1.18
date	2010.11.15.19.45.58;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.10.18.17.47.53;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.07.17.13.54.30;	author kili;	state Exp;
branches;
next	1.15;

1.15
date	2010.06.30.15.41.01;	author kili;	state Exp;
branches;
next	1.14;

1.14
date	2010.06.15.17.59.24;	author kili;	state Exp;
branches;
next	1.13;

1.13
date	2010.05.06.20.05.24;	author kili;	state Exp;
branches;
next	1.12;

1.12
date	2010.04.22.21.54.16;	author kili;	state Exp;
branches;
next	1.11;

1.11
date	2007.07.21.14.03.45;	author kili;	state Exp;
branches;
next	1.10;

1.10
date	2007.06.29.11.23.41;	author kili;	state Exp;
branches;
next	1.9;

1.9
date	2007.06.29.11.07.16;	author kili;	state Exp;
branches;
next	1.8;

1.8
date	2007.06.15.21.28.19;	author kili;	state Exp;
branches;
next	1.7;

1.7
date	2007.03.18.16.58.35;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2005.03.23.05.39.44;	author dons;	state Exp;
branches;
next	1.5;

1.5
date	2005.02.14.02.04.36;	author dons;	state Exp;
branches;
next	1.4;

1.4
date	2004.11.23.11.22.02;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2004.08.10.08.23.37;	author xsa;	state Exp;
branches;
next	1.2;

1.2
date	2004.04.23.03.14.06;	author dons;	state Exp;
branches;
next	1.1;

1.1
date	2003.07.25.00.08.45;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.07.25.00.08.45;	author avsm;	state Exp;
branches;
next	;


desc
@@


1.24
log
@Remove ports that don't work on LP64 archs.

lang/nhc98              ok ajacoutot@@ jca@@ kili@@
security/logsurfer      ok ajacoutot@@ jca@@
shells/scsh             ok sthen@@ ajacoutot@@ jca@@
devel/hmake             ok kili@@
@
text
@# $OpenBSD: Makefile,v 1.23 2015/07/18 22:09:15 kili Exp $

COMMENT =	compilation manager for Haskell programs
 
DISTNAME =	hmake-3.14
REVISION =	4
CATEGORIES =	devel

HOMEPAGE =	http://code.haskell.org/~malcolm/hmake/docs/
MAINTAINER =	Matthias Kilian <kili@@openbsd.org>

MASTER_SITES =	https://openbsd.dead-parrot.de/distfiles/

# BSD style w/o advertising clause
PERMIT_PACKAGE_CDROM =	Yes

NO_TEST =		Yes
USE_GMAKE =		Yes
USE_GROFF =	Yes
CONFIGURE_STYLE =	simple

WANTLIB +=		c m pthread

BUILD_DEPENDS +=	lang/nhc98
CONFIGURE_ARGS =	--buildwith=nhc98

post-install:
	chown -R ${BINOWN}:${BINGRP} ${PREFIX}/lib/hmake
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/hmake
	${INSTALL_DATA} ${WRKSRC}/docs/hmake/* ${PREFIX}/share/doc/hmake
	rm ${PREFIX}/man/man1/hmake.1.orig

.include <bsd.port.mk>
@


1.23
log
@Former upstream is dead (noticed by bentley@@, approved by Malcolm
Wallace, the former upstream author). Change HOMEPAGE to an old
darcs repository at code.haskell.org and mirrot the distfile.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/03/11 10:50:06 espie Exp $
@


1.22
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/04/26 14:51:32 jasper Exp $
d6 1
a6 1
REVISION =	3
d9 1
a9 1
HOMEPAGE =	http://www.haskell.org/hmake/
d12 1
a12 3
MASTER_SITES =	${HOMEPAGE} \
		http://www.cs.york.ac.uk/fp/hmake/ \
		ftp://ftp.cs.york.ac.uk/pub/haskell/hmake/
@


1.21
log
@missing bump on arches that use ghc

spotted by naddy@@, ok kili@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/04/14 12:15:53 kili Exp $
a17 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d19 1
a19 1
NO_REGRESS =		Yes
@


1.20
log
@Resurrect, but only for nhc98 (required for devel/cpphs on platforms
without ghc, as noticed by jasper@@).

"Bring out your dead! Bring out your dead!" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/11/15 19:45:58 espie Exp $
d6 1
a6 1
REVISION =	2
@


1.19
log
@Remove. It doesn't build with ghc-7, is unmaintained upstream and
not of much use.

ok jasper@@
@
text
@a28 11
.if ${MACHINE_ARCH} == "i386" || ${MACHINE_ARCH} == "amd64"
WANTLIB +=		gmp util
MODULES =		lang/ghc converters/libiconv
MODGHC_BUILD =		nort
LIB_DEPENDS =		devel/gmp
CONFIGURE_ARGS =	--buildwith=ghc
WANTLIB +=		ncurses readline
# No LIB_DEPENDS; hmake should be usable without all the ghc packages
# installed.
BUILD_DEPENDS +=	devel/hs-readline
.else
a30 1
.endif
@


1.18
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/10/18 17:47:53 espie Exp $
@


1.17
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/07/17 13:54:30 kili Exp $
d33 1
a33 1
LIB_DEPENDS =		::devel/gmp
d38 1
a38 1
BUILD_DEPENDS +=	::devel/hs-readline
d40 1
a40 1
BUILD_DEPENDS +=	::lang/nhc98
@


1.16
log
@Switch to REVISION and new WANTLIB/LIB_DEPENDS style.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/06/30 15:41:01 kili Exp $
d24 1
@


1.15
log
@WANTLIB += pthread and bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/06/15 17:59:24 kili Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME}p2
d29 1
a29 1
WANTLIB +=		util
d32 1
a32 1
LIB_DEPENDS =		gmp::devel/gmp
@


1.14
log
@Add gmp and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/05/06 20:05:24 kili Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME}p1
d26 1
a26 1
WANTLIB +=		c m
@


1.13
log
@Adjust WANTLIB and bump PKGNAME after the ghc change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/04/22 21:54:16 kili Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME}p0
d32 1
@


1.12
log
@Update to hmake-3.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/07/21 14:03:45 kili Exp $
d6 1
d29 1
a29 1
WANTLIB +=		util pthread
@


1.11
log
@
GHC runtime not required. hmake is able to work with other Haskell
compilers like nhc98. While here, remove quotes from COMMENT.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/06/29 11:23:41 kili Exp $
d3 1
a3 1
COMMENT=	compilation manager for Haskell programs
d5 2
a6 4
V=		3.13
DISTNAME=	hmake-${V}
PKGNAME=	${DISTNAME}p1
CATEGORIES=	devel
d8 2
a9 2
HOMEPAGE=	http://www.haskell.org/hmake/
MAINTAINER=	Matthias Kilian <kili@@openbsd.org>
d11 1
a11 1
MASTER_SITES=	${HOMEPAGE} \
d16 8
a23 8
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

NO_REGRESS=	Yes
USE_GMAKE=	Yes
CONFIGURE_STYLE=simple
d25 1
a25 1
WANTLIB+=		c m
d28 8
a35 5
MODULES=	lang/ghc
MODGHC_RUNTIME=	No
CONFIGURE_ARGS=	--buildwith=ghc
WANTLIB+=	ncurses readline
LIB_DEPENDS=	gmp::devel/gmp
d37 2
a38 2
BUILD_DEPENDS+=	::lang/nhc98
CONFIGURE_ARGS=	--buildwith=nhc98
@


1.10
log
@
And bump the PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/06/29 11:07:16 kili Exp $
d3 1
a3 1
COMMENT=	"compilation manager for Haskell programs"
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d31 1
d33 2
a34 1
WANTLIB+=	gmp ncurses readline
@


1.9
log
@
Build with nhc98 if no ghc is available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/06/15 21:28:19 kili Exp $
d7 1
@


1.8
log
@
Update to hmake-3.13
Take maintainership.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/03/18 16:58:35 espie Exp $
a11 3
MODULES=	lang/ghc
CONFIGURE_ARGS=	--buildwith=ghc

a15 4
NO_REGRESS=	Yes
USE_GMAKE=	Yes
CONFIGURE_STYLE=simple

d21 15
a35 1
WANTLIB=		c gmp m ncurses readline
d41 1
@


1.7
log
@make sure hmake files belong to some entity
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/03/23 05:39:44 dons Exp $
d5 1
a5 1
V=		3.10
a6 1
PKGNAME=	${DISTNAME}p0
d10 1
a10 1
MAINTAINER=	Don Stewart <dons@@openbsd.org>
d13 1
d15 3
a17 3
MASTER_SITES=	http://www.haskell.org/hmake/ \
		ftp://ftp.cs.york.ac.uk/pub/haskell/hmake/ \
		http://www.cs.york.ac.uk/fp/hmake/
d32 3
@


1.6
log
@Update to hmake 3.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/02/14 02:04:36 dons Exp $
d7 1
d30 2
@


1.5
log
@Update devel/hmake to latest stable, 3.09.

ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/11/23 11:22:02 espie Exp $
d5 1
a5 1
V=		3.09
@


1.4
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/08/10 08:23:37 xsa Exp $
d5 1
a5 1
V=		3.08
@


1.3
log
@
MODULES= lang/ghc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/04/23 03:14:06 dons Exp $
d27 1
@


1.2
log
@Let hmake install on non-x86 platforms, and ensure it builds on amd64
Update MAINTAINER and add RCS tags.

ok pvalchev@@ avsm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/07/25 00:08:45 avsm Exp $
d12 1
a12 1
MODULES=	ghc
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d10 1
a10 1
MAINTAINER=	Don Stewart <dons@@cse.unsw.edu.au>
@


1.1.1.1
log
@initial import of hmake-3.08, from Don Stewart <dons at cse.unsw.edu.au>
--

Hmake is an intelligent compilation management tool for Haskell
programs. It automatically extracts dependencies between source
modules, and issues the appropriate compiler commands to rebuild
only those that have changed, given just the name of the program
or module that you want to build.

Hmake interactive, or hi for short, is an interpreter-like
environment that you can wrap over any common Haskell compiler to
achieve an interactive development style. It deliberately looks
and feels a lot like the Hugs interpreter. The difference is that
you get real compiled code, compiled by your favorite compiler -
you can even change compiler on the fly, to check your code's
portability!

@
text
@@
