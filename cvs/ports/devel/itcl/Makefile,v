head	1.14;
access;
symbols
	OPENBSD_6_0:1.14.0.2
	OPENBSD_6_0_BASE:1.14
	OPENBSD_5_9:1.13.0.2
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.4
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.12.0.8
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.12.0.6
	OPENBSD_5_6_BASE:1.12
	OPENBSD_5_5:1.12.0.4
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.11.0.4
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.11.0.2
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.2
	OPENBSD_5_0:1.9.0.4
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.6.0.2
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.5.0.4
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.2
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.4.0.2
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.3.0.4
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.2.0.4
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	steven-20061025:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.14
date	2016.03.11.20.28.24;	author naddy;	state Exp;
branches;
next	1.13;
commitid	UYLP8TE6V7RS2GhJ;

1.13
date	2015.03.16.18.07.41;	author naddy;	state Exp;
branches;
next	1.12;
commitid	IJdm3Zowcdkcxp5X;

1.12
date	2013.03.11.10.50.09;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2012.05.01.06.58.45;	author sebastia;	state Exp;
branches;
next	1.10;

1.10
date	2011.10.30.07.36.05;	author sebastia;	state Exp;
branches;
next	1.9;

1.9
date	2011.01.05.18.55.31;	author sebastia;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.18.21.35.48;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2010.10.18.17.47.53;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2010.06.07.14.39.46;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2009.03.11.21.26.03;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2008.10.28.16.08.32;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.16.02.52.59;	author merdely;	state Exp;
branches;
next	1.2;

1.2
date	2006.10.28.17.52.18;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2006.10.25.14.24.03;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.10.25.14.24.03;	author steven;	state Exp;
branches;
next	;


desc
@@


1.14
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.13 2015/03/16 18:07:41 naddy Exp $

COMMENT=	object-oriented extensions to Tcl

VERSION =	3.4.1
REVISION =	1
EPOCH =		0
DISTNAME =	itcl${VERSION}
PKGNAME =	itcl-${VERSION}
SHARED_LIBS=	itcl34	0.0

CATEGORIES=	devel

HOMEPAGE=	http://incrtcl.sourceforge.net/itcl/

MAINTAINER=	Sebastian Reitenbach <sebastia@@openbsd.org>

# BSD style
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=incrtcl/}

MODULES=	lang/tcl

RUN_DEPENDS=	${MODTCL_RUN_DEPENDS}
BUILD_DEPENDS=	${MODTCL_BUILD_DEPENDS}

SUBST_VARS=	VERSION

WRKDIST=	${WRKDIR}/itcl${VERSION}

CONFIGURE_STYLE=gnu

CONFIGURE_ARGS=	--libdir=${MODTCL_TCLDIR} \
		--with-tcl=${MODTCL_LIBDIR} \
		--with-tclinclude=${MODTCL_INCDIR} \
		--includedir=${PREFIX}/include/itcl

CONFIGURE_ENV=	CPPFLAGS="-I${MODTCL_INCDIR}/generic \
		-I${MODTCL_INCDIR}/unix -I${MODTCL_INCDIR}" \
		SHLIB_VERSION=${LIBitcl34_VERSION}
FAKE_FLAGS =	libdir=${MODTCL_TCLDIR}/itcl

pre-configure:
	${SUBST_CMD} ${WRKSRC}/configure

do-test:
	@@cd ${WRKSRC} && ${SETENV} ITCL_LIBRARY=${WRKSRC}/library \
		${MODTCL_BIN} tests/all.tcl -load \
		"load ./libitcl34.so.${LIBitcl34_VERSION}"

.include <bsd.port.mk>
@


1.13
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/03/11 10:50:09 espie Exp $
d34 1
a34 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--libdir=${MODTCL_TCLDIR} \
@


1.12
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/05/01 06:58:45 sebastia Exp $
d6 1
a6 1
REVISION =	0
@


1.11
log
@Fix Itcl library loading.

Feedback and OK stu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/10/30 07:36:05 sebastia Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d48 1
a48 1
do-regress:
@


1.10
log
@update itcl to 3.4.1.

OK stu@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/01/05 18:55:31 sebastia Exp $
d6 1
@


1.9
log
@Update to new Tcl layout.
While there, take MAINTAINER, since the old one is not reachable with this address anymore.

OK landry@@, stu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/18 21:35:48 sthen Exp $
d5 4
a8 4
REVISION =	0
VERSION=	3.4
DISTNAME=	itcl${VERSION}b1
PKGNAME=	itcl-${VERSION}b1
d44 1
a44 1
		LIBitcl34_VERSION=${LIBitcl34_VERSION}
@


1.8
log
@fix a few tabtabUSE_GROFF, problem pointed out by Alexandr Shadchin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/10/18 17:47:53 espie Exp $
d5 1
d15 1
a15 1
MAINTAINER=	Nikns Siankin <nikns@@secure.lv>
d37 1
d39 2
a40 2
		--includedir=${PREFIX}/include/itcl${VERSION} \
		--libdir=${PREFIX}/lib/itcl${VERSION}
d43 1
a43 1
		-I${MODTCL_INCDIR}/unix" \
d45 1
a45 1
USE_GROFF =	Yes
d47 2
a48 1
SUBST_VARS=VERSION
@


1.7
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/06/07 14:39:46 sthen Exp $
d43 1
a43 1
		USE_GROFF =	Yes
@


1.6
log
@update to 3.4b1, allowing this to work with Tcl 8.5.
From Sebastian Reitenbach with some changes by me & tested by Sebastian.
earlier version ok jasper@@

(not moving to itcl 4.0 yet; other parts are needed first).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/03/11 21:26:03 sthen Exp $
d43 1
@


1.5
log
@bump following tcl dep changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/10/28 16:08:32 steven Exp $
d5 4
a8 4
VERSION=	3.3
DISTNAME=	itcl${VERSION}
PKGNAME=	itcl-${VERSION}p2
SHARED_LIBS=	itcl33	0.0
a24 1
MODTCL_VERSION=	8.4
d31 2
d42 3
a44 1
		LIBitcl33_VERSION=${LIBitcl33_VERSION}
d49 1
a49 1
		"load ./libitcl33.so.${LIBitcl33_VERSION}"
@


1.4
log
@use tcl module; still needs tcl 8.4 for now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/10/28 17:52:18 steven Exp $
d7 1
a7 1
PKGNAME=	itcl-${VERSION}p1
d10 1
a10 1
CATEGORIES=	devel lang/tcl
@


1.3
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d7 1
a7 1
PKGNAME=	itcl-${VERSION}p0
d24 2
a25 2
RUN_DEPENDS=	:tcl-${TCL_VERSION}.*:lang/tcl/${TCL_VERSION}
BUILD_DEPENDS=	${RUN_DEPENDS}
d27 2
a28 1
TCL_VERSION=	8.4
d35 3
a37 3
		--with-tcl=${LOCALBASE}/lib/tcl${TCL_VERSION} \
		--includedir=${LOCALBASE}/include/itcl${VERSION} \
		--libdir=${LOCALBASE}/lib/itcl${VERSION}
d39 2
a40 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/tcl${TCL_VERSION}/generic \
		-I${LOCALBASE}/include/tcl${TCL_VERSION}/unix" \
d45 1
a45 1
		${PREFIX}/bin/tclsh${TCL_VERSION} tests/all.tcl -load \
@


1.2
log
@add the version numbers back into some directory names, this works out
better for dependent ports.

ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/10/25 14:24:03 steven Exp $
d3 1
a3 1
COMMENT=	"object-oriented extensions to Tcl"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
PKGNAME=	itcl-${VERSION}
d24 1
a24 1
RUN_DEPENDS=	:tcl-8.4.*:lang/tcl/8.4
d27 4
d34 3
a36 3
		--with-tcl=${LOCALBASE}/lib/tcl8.4 \
		--includedir=${LOCALBASE}/include/itcl \
		--libdir=${LOCALBASE}/lib/itcl
d38 2
a39 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/tcl8.4/generic \
		-I${LOCALBASE}/include/tcl8.4/unix" \
d44 1
a44 1
		${PREFIX}/bin/tclsh8.4 tests/all.tcl -load \
@


1.1.1.1
log
@import itcl 3.3

[incr Tcl] is an object-oriented extension of the Tcl language. It
was created to support more structured programming in Tcl. Tcl scripts
that grow beyond a few thousand lines become extremely difficult to
maintain. This is because the building blocks of vanilla Tcl are
procedures and global variables, and all of these building blocks
must reside in a single global namespace. There is no support for
protection or encapsulation.

from nikns at secure.lv
@
text
@@
