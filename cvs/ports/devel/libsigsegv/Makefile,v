head	1.23;
access;
symbols
	OPENBSD_6_1:1.23.0.4
	OPENBSD_6_1_BASE:1.23
	OPENBSD_6_0:1.23.0.2
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.22.0.2
	OPENBSD_5_9_BASE:1.22
	OPENBSD_5_8:1.22.0.4
	OPENBSD_5_8_BASE:1.22
	OPENBSD_5_7:1.20.0.4
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.20.0.2
	OPENBSD_5_6_BASE:1.20
	OPENBSD_5_5:1.18.0.2
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.15.0.2
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.10.0.2
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.8
	OPENBSD_5_0:1.9.0.6
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.4
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.9.0.2
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.7.0.2
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.4.0.8
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	jasper_20070709:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2016.03.11.19.59.13;	author naddy;	state Exp;
branches;
next	1.22;
commitid	pguKLBEFv33DrgKU;

1.22
date	2015.06.19.16.24.06;	author jca;	state Exp;
branches;
next	1.21;
commitid	29IO0v2RW5IfpdR8;

1.21
date	2015.03.16.18.07.42;	author naddy;	state Exp;
branches;
next	1.20;
commitid	IJdm3Zowcdkcxp5X;

1.20
date	2014.03.19.13.56.08;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2014.03.19.13.28.57;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2013.11.09.23.19.02;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.21.08.45.16;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.11.10.50.10;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2012.12.27.18.44.42;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2012.09.25.21.22.51;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2012.09.06.06.29.05;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2012.09.01.18.22.04;	author miod;	state Exp;
branches;
next	1.11;

1.11
date	2012.08.19.09.47.56;	author landry;	state Exp;
branches;
next	1.10;

1.10
date	2012.03.29.13.38.30;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2010.04.22.21.53.29;	author landry;	state Exp;
branches;
next	1.8;

1.8
date	2010.04.02.07.43.14;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2010.02.23.22.51.46;	author landry;	state Exp;
branches;
next	1.6;

1.6
date	2010.02.07.21.02.46;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2009.12.28.14.59.09;	author pirofti;	state Exp;
branches;
next	1.4;

1.4
date	2007.12.19.13.15.53;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2007.07.09.22.27.34;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2007.07.09.20.08.53;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2007.07.09.20.05.29;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.07.09.20.05.29;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.23
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.22 2015/06/19 16:24:06 jca Exp $

COMMENT =		library for handling page faults in user mode

DISTNAME =		libsigsegv-2.10
REVISION =		2
SHARED_LIBS =		sigsegv 1.0
CATEGORIES =		devel

HOMEPAGE =		https://www.gnu.org/software/libsigsegv/

# GPLv2
PERMIT_PACKAGE_CDROM =		Yes

MASTER_SITES =		${MASTER_SITE_GNU:=libsigsegv/}

SEPARATE_BUILD = 	Yes


CONFIGURE_STYLE =	gnu
# We know these values, so don't run the configure tests for them which may
# take hours to complete on certain OpenBSD platforms, such as mips64.
CONFIGURE_ENV +=	sv_cv_fault_linux_i386=no \
			sv_cv_fault_linux_i386_old=no \
			sv_cv_fault_linux_m68k=no

.include <bsd.port.mk>
@


1.22
log
@Reset MAINTAINER

Discussed with Scott (former maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/03/16 18:07:42 naddy Exp $
a20 1
CONFIGURE_ARGS +=	${CONFIGURE_SHARED}
@


1.21
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/03/19 13:56:08 jasper Exp $
d6 1
a6 1
REVISION =		1
a10 2

MAINTAINER =		Scott Vokes <vokes.s@@gmail.com>
@


1.20
log
@as pointed by Stuart, it's better to drop ONLY_FOR_ARCHS here as it already contains
(almost) every single architecture we support. If something is not supported it's a
good incentive to fix it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/03/19 13:28:57 jasper Exp $
d6 1
a6 1
REVISION =		0
@


1.19
log
@no more m68k
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.18 2013/11/09 23:19:02 naddy Exp $

ONLY_FOR_ARCHS = 	alpha amd64 arm i386 hppa m88k mips64 mips64el powerpc sparc64 sparc sh vax
@


1.18
log
@move http://www.gnu.org to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/21 08:45:16 ajacoutot Exp $
d3 1
a3 1
ONLY_FOR_ARCHS = 	alpha amd64 arm i386 hppa m68k m88k mips64 mips64el powerpc sparc64 sparc sh vax
@


1.17
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/11 10:50:10 espie Exp $
d8 1
d12 1
a12 1
HOMEPAGE =		http://www.gnu.org/software/libsigsegv/
@


1.16
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/12/27 18:44:42 jasper Exp $
a21 1
USE_LIBTOOL =		Yes
@


1.15
log
@prevent some configure tests from taking up hours to run on mips64 since we
already know their obvious outcome.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/09/25 21:22:51 brad Exp $
a16 3
PERMIT_PACKAGE_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
@


1.14
log
@Update to libsigsegv 2.10.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/09/06 06:29:05 jasper Exp $
d29 5
@


1.13
log
@- update libsigsegv to 2.9
* most of the openbsd definitions have been included upstream
- re-adjust the included m88k definition (checked with miod@@)

from Brad
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/09/01 18:22:04 miod Exp $
d7 1
a7 1
DISTNAME =		libsigsegv-2.9
d10 2
a11 1
HOMEPAGE =		http://libsigsegv.sourceforge.net/
@


1.12
log
@Add m88k and vax support, and add them to the ONLY_FOR_ARCHS list. No version
bump as it did not build before.
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/08/19 09:47:56 landry Exp $
d7 1
a7 1
DISTNAME =		libsigsegv-2.8
@


1.11
log
@It seems that configure now runs fine on hppa, remove the CONFIGURE_ENV
variables forcing the longjmp/siglongjmp/sigaltstack values to no.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2012/03/29 13:38:30 sthen Exp $
d3 1
a3 1
ONLY_FOR_ARCHS = 	alpha amd64 arm i386 hppa m68k mips64 mips64el powerpc sparc64 sparc sh
@


1.10
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/04/22 21:53:29 landry Exp $
a27 6

.if ${MACHINE_ARCH} == "hppa"
CONFIGURE_ENV +=	sv_cv_leave_handler_longjmp_sigaltstack=no \
			sv_cv_leave_handler_siglongjmp=no \
			sv_cv_leave_handler_siglongjmp_sigaltstack=no
.endif
@


1.9
log
@Unbreak (again) libsigsegv on hppa by adding the necessary autoconf magic
to configure env so that it doesn't try to run tests that goes into an infinite
loop puking 'longjmp botch'. If anyone feels brave enough to debug that,
start in m4/sigaltstack*. That should allow quite a good branch of the
portstree to build again..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/04/02 07:43:14 jasper Exp $
d22 1
a22 1
SEPARATE_BUILD = 	concurrent
@


1.8
log
@- update libsigsegv to 2.8

from brad, maintainer timed-out.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/02/23 22:51:46 landry Exp $
d28 6
@


1.7
log
@Allow libsigsegv to build on hppa, thus allowing bash and rarian and a
shitload of gnome stuff to build. Hints from kettenis@@ for the sp register.
ok espie@@ jasper@@

while is unlocked ports only for those informed have been.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/02/07 21:02:46 jasper Exp $
d7 2
a8 2
DISTNAME =		libsigsegv-2.5
SHARED_LIBS =		sigsegv 0.0
@


1.6
log
@- make this work on mips64el too, giving bash and bison a chance to build as well.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/12/28 14:59:09 pirofti Exp $
d3 1
a3 1
ONLY_FOR_ARCHS = 	alpha amd64 arm i386 m68k mips64 mips64el powerpc sparc64 sparc sh
@


1.5
log
@Add support for landisk. Okay ajacoutot@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/12/19 13:15:53 jasper Exp $
d3 1
a3 1
ONLY_FOR_ARCHS = 	alpha amd64 arm i386 m68k mips64 powerpc sparc64 sparc sh
@


1.4
log
@- update libsigsegv to 2.5

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/07/09 22:27:34 jasper Exp $
d3 1
a3 1
ONLY_FOR_ARCHS= 	alpha amd64 arm i386 m68k mips64 powerpc sparc64 sparc
d5 1
a5 1
COMMENT=		library for handling page faults in user mode
d7 4
a10 4
DISTNAME=		libsigsegv-2.5
SHARED_LIBS=		sigsegv 0.0
CATEGORIES=		devel
HOMEPAGE=		http://libsigsegv.sourceforge.net/
d12 1
a12 1
MAINTAINER=		Scott Vokes <vokes.s@@gmail.com>
d15 4
a18 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d20 1
a20 1
MASTER_SITES=		${MASTER_SITE_GNU:=libsigsegv/}
d22 1
a22 1
SEPARATE_BUILD= 	concurrent
d24 1
a24 1
USE_LIBTOOL=		Yes
d26 2
a27 2
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
@


1.3
log
@woops..comitted the wrong tarball...so add the shared lib here too.
no pkgname bump, as it didn't package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/07/09 20:08:53 jasper Exp $
d7 1
a7 1
DISTNAME=		libsigsegv-2.4
@


1.2
log
@of course is this for i386 too...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/07/09 20:05:29 jasper Exp $
d8 1
a8 1

@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
ONLY_FOR_ARCHS= 	alpha amd64 arm m68k mips64 powerpc sparc64 sparc
@


1.1.1.1
log
@import libsigsegv 2.4

This is a library for handling page faults in user mode. A page fault
occurs when a program tries to access to a region of memory that is
currently not available. Catching and handling a page fault is a useful
technique for implementing:

    * pageable virtual memory,
    * memory-mapped access to persistent databases,
    * generational garbage collectors,
    * stack overflow handlers,
    * distributed shared memory,

based on a submission by Scott Vokes <vokes.s at gmail.com> (MAINTAINER)
with lots of tweaks by me and kurt@@

help and ok kurt@@
@
text
@@
