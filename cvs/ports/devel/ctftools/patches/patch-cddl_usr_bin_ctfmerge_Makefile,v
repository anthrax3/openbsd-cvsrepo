head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.4
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2016.10.21.12.51.55;	author jca;	state Exp;
branches;
next	1.1;
commitid	j1DbMzi3iO9tsSD1;

1.1
date	2016.10.21.08.28.10;	author jca;	state Exp;
branches;
next	;
commitid	ZnLG2GSbcCr167qj;


desc
@@


1.2
log
@/usr/local -> ${LOCALBASE}

No objection from jasper@@ (maintainer)
@
text
@$OpenBSD: patch-cddl_usr_bin_ctfmerge_Makefile,v 1.1 2016/10/21 08:28:10 jca Exp $

Link with devel/libelf instead of devel/elftoolchain

--- cddl/usr.bin/ctfmerge/Makefile.orig	Wed Aug 31 14:24:43 2016
+++ cddl/usr.bin/ctfmerge/Makefile	Fri Oct 21 14:46:47 2016
@@@@ -34,8 +34,9 @@@@ CFLAGS+=	-I${.CURDIR}/../../../sys/cddl/compat/opensol
 		-I${OPENSOLARIS_USR_DISTDIR}/tools/ctf/common \
 		-I${OPENSOLARIS_USR_DISTDIR}/tools/ctf/cvt \
 		-I${OPENSOLARIS_SYS_DISTDIR}/uts/common \
-		-I/usr/local/include/elftoolchain
+		-I${LOCALBASE}/include/ \
+		-I${LOCALBASE}/include/libelf
 
-LDADD=		-L/usr/local/lib/elftoolchain -lelf -lz -lpthread
+LDADD=		-L${LOCALBASE}/lib/ -lelf -lz -lpthread
 
 .include <bsd.prog.mk>
@


1.1
log
@More WRKDIST one level up, to allow patching in sys/

"go for it" jasper@@
@
text
@d1 1
a1 1
$OpenBSD$
d6 1
a6 1
+++ cddl/usr.bin/ctfmerge/Makefile	Thu Oct 20 13:31:21 2016
d12 2
a13 2
+		-I/usr/local/include/ \
+		-I/usr/local/include/libelf
d16 1
a16 1
+LDADD=		-L/usr/local/lib/ -lelf -lz -lpthread
@

