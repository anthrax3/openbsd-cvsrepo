head	1.11;
access;
symbols
	OPENBSD_3_2:1.10.0.2
	OPENBSD_3_2_BASE:1.10
	OPENBSD_3_1:1.9.0.2
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.5.0.4
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9_TRACKING_SWITCH:1.5
	OPENBSD_2_9:1.5.0.2
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_8:1.3.0.2
	OPENBSD_2_8_BASE:1.3;
locks; strict;
comment	@# @;


1.11
date	2002.10.19.03.07.28;	author brad;	state dead;
branches;
next	1.10;

1.10
date	2002.05.08.02.04.08;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2002.03.24.22.15.07;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2002.02.13.01.44.44;	author pvalchev;	state Exp;
branches;
next	1.7;

1.7
date	2002.02.12.23.26.50;	author pvalchev;	state Exp;
branches;
next	1.6;

1.6
date	2001.12.08.05.22.08;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2001.03.04.06.11.52;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2001.02.08.02.05.35;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2000.10.21.20.11.16;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2000.09.16.13.09.08;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.05.03.27.30;	author brad;	state Exp;
branches;
next	;


desc
@@


1.11
log
@upgrade to libslang 1.4.6
@
text
@$OpenBSD: patch-configure,v 1.10 2002/05/08 02:04:08 brad Exp $
--- configure.orig	Sun Feb 10 02:39:19 2002
+++ configure	Tue May  7 19:57:59 2002
@@@@ -577,7 +577,7 @@@@ fi
 
 
 ac_aux_dir=
-for ac_dir in autoconf $srcdir/autoconf; do
+for ac_dir in ${GNUSYSTEM_AUX_DIR} autoconf $srcdir/autoconf; do
   if test -f $ac_dir/install-sh; then
     ac_aux_dir=$ac_dir
     ac_install_sh="$ac_aux_dir/install-sh -c"
@@@@ -2032,6 +2032,25 @@@@ case "$host_os" in
      ELFLIB_MAJOR="lib$(THIS_LIB).$(ELF_MAJOR_VERSION).dylib"
      ELFLIB_MAJOR_MINOR="lib$(THIS_LIB).$(ELF_MAJOR_VERSION).$(ELF_MINOR_VERSION).dylib"
      ;;
+  *openbsd* )
+     DYNAMIC_LINK_FLAGS=""
+     ELF_CC="$CC"
+     case `arch -s` in
+       sparc64)
+         ELF_CFLAGS="$CFLAGS -fPIC"
+        ;;
+       *)
+         ELF_CFLAGS="$CFLAGS -fpic"
+        ;;
+     esac
+     ELF_LINK="$CC -shared $ELF_CFLAGS"
+     ELF_LINK_CMD="\$(ELF_LINK)"
+     ELF_DEP_LIBS="\$(DL_LIB) -lm -lcurses"
+     CC_SHARED="$CC -shared $ELF_CFLAGS"
+     if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`"; then
+       DYNAMIC_LINK_FLAGS="-Wl,-E"
+     fi
+     ;;
   * )
     echo "Note: ELF compiler for host_os=$host_os may be wrong"
     ELF_CC="$CC"
@@@@ -2078,7 +2097,7 @@@@ then
   then 
     
 case "$host_os" in
-  *linux*|*solaris* )
+  *linux*|*solaris*|*openbsd* )
     if test "X$GCC" = Xyes
     then
       if test "X$ac_R_nospace" = "Xno"
@@@@ -2117,7 +2136,7 @@@@ fi
 
 
 echo $ac_n "checking size of short""... $ac_c" 1>&6
-echo "configure:2121: checking size of short" >&5
+echo "configure:2140: checking size of short" >&5
 if eval "test \"`echo '$''{'ac_cv_sizeof_short'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@@@ -2125,7 +2144,7 @@@@ else
   ac_cv_sizeof_short=2
 else
   cat > conftest.$ac_ext <<EOF
-#line 2129 "configure"
+#line 2148 "configure"
 #include "confdefs.h"
 #include <stdio.h>
 main()
@@@@ -2136,7 +2155,7 @@@@ main()
   exit(0);
 }
 EOF
-if { (eval echo configure:2140: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2159: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
 then
   ac_cv_sizeof_short=`cat conftestval`
 else
@@@@ -2156,7 +2175,7 @@@@ EOF
 
 
 echo $ac_n "checking size of int""... $ac_c" 1>&6
-echo "configure:2160: checking size of int" >&5
+echo "configure:2179: checking size of int" >&5
 if eval "test \"`echo '$''{'ac_cv_sizeof_int'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@@@ -2164,7 +2183,7 @@@@ else
   ac_cv_sizeof_int=4
 else
   cat > conftest.$ac_ext <<EOF
-#line 2168 "configure"
+#line 2187 "configure"
 #include "confdefs.h"
 #include <stdio.h>
 main()
@@@@ -2175,7 +2194,7 @@@@ main()
   exit(0);
 }
 EOF
-if { (eval echo configure:2179: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2198: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
 then
   ac_cv_sizeof_int=`cat conftestval`
 else
@@@@ -2195,7 +2214,7 @@@@ EOF
 
 
 echo $ac_n "checking size of long""... $ac_c" 1>&6
-echo "configure:2199: checking size of long" >&5
+echo "configure:2218: checking size of long" >&5
 if eval "test \"`echo '$''{'ac_cv_sizeof_long'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@@@ -2203,7 +2222,7 @@@@ else
   ac_cv_sizeof_long=4
 else
   cat > conftest.$ac_ext <<EOF
-#line 2207 "configure"
+#line 2226 "configure"
 #include "confdefs.h"
 #include <stdio.h>
 main()
@@@@ -2214,7 +2233,7 @@@@ main()
   exit(0);
 }
 EOF
-if { (eval echo configure:2218: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2237: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
 then
   ac_cv_sizeof_long=`cat conftestval`
 else
@@@@ -2234,7 +2253,7 @@@@ EOF
 
 
 echo $ac_n "checking size of float""... $ac_c" 1>&6
-echo "configure:2238: checking size of float" >&5
+echo "configure:2257: checking size of float" >&5
 if eval "test \"`echo '$''{'ac_cv_sizeof_float'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@@@ -2242,7 +2261,7 @@@@ else
   ac_cv_sizeof_float=4
 else
   cat > conftest.$ac_ext <<EOF
-#line 2246 "configure"
+#line 2265 "configure"
 #include "confdefs.h"
 #include <stdio.h>
 main()
@@@@ -2253,7 +2272,7 @@@@ main()
   exit(0);
 }
 EOF
-if { (eval echo configure:2257: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2276: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
 then
   ac_cv_sizeof_float=`cat conftestval`
 else
@@@@ -2273,7 +2292,7 @@@@ EOF
 
 
 echo $ac_n "checking size of double""... $ac_c" 1>&6
-echo "configure:2277: checking size of double" >&5
+echo "configure:2296: checking size of double" >&5
 if eval "test \"`echo '$''{'ac_cv_sizeof_double'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@@@ -2281,7 +2300,7 @@@@ else
   ac_cv_sizeof_double=8
 else
   cat > conftest.$ac_ext <<EOF
-#line 2285 "configure"
+#line 2304 "configure"
 #include "confdefs.h"
 #include <stdio.h>
 main()
@@@@ -2292,7 +2311,7 @@@@ main()
   exit(0);
 }
 EOF
-if { (eval echo configure:2296: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2315: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
 then
   ac_cv_sizeof_double=`cat conftestval`
 else
@@@@ -2314,7 +2333,7 @@@@ EOF
 
 
 echo $ac_n "checking for Terminfo""... $ac_c" 1>&6
-echo "configure:2318: checking for Terminfo" >&5
+echo "configure:2337: checking for Terminfo" >&5
 MISC_TERMINFO_DIRS="$FINKPREFIX/share/terminfo"
 if test ! -d $MISC_TERMINFO_DIRS
 then
@@@@ -2431,7 +2450,7 @@@@ PROGRAM_ELF_ORULES="$PROGRAM_ELF_ORULES
 
 
 echo $ac_n "checking SLANG_VERSION""... $ac_c" 1>&6
-echo "configure:2435: checking SLANG_VERSION" >&5
+echo "configure:2454: checking SLANG_VERSION" >&5
 slang_version=`grep "^#define  *SLANG_VERSION " $srcdir/src/slang.h |
                awk '{ print $3 }'`
 slang_major_version=`echo $slang_version |
@@@@ -2441,7 +2460,8 @@@@ slang_minor_version=`echo $slang_version
 slang_mminor_version=`echo $slang_version $slang_major_version $slang_minor_version |
  awk '{ print ($1 - $2*10000 - $3*100) }'`
 
-slang_minor_version="$slang_minor_version.$slang_mminor_version"
+slang_major_version=$slang_major_version$slang_minor_version
+slang_minor_version=$slang_mminor_version
 slang_version="$slang_major_version.$slang_minor_version"
 echo "$ac_t""$slang_version" 1>&6
 
@


1.10
log
@upgrade to libslang 1.4.5
@
text
@d1 1
a1 1
$OpenBSD$
@


1.9
log
@add link of libcurses to libslang, should fix problems with ports that
use libslang on ELF-based systems.
@
text
@d1 15
a15 5
--- configure.orig	Tue Feb 20 19:17:29 2001
+++ configure	Tue Feb 12 16:06:58 2002
@@@@ -2017,6 +2017,25 @@@@ case "$host_os" in
        CC_SHARED="cc \$(CFLAGS) -shared -K pic"
      fi
d18 5
a22 5
+    DYNAMIC_LINK_FLAGS=""
+    ELF_CC="$CC"
+    case `arch -s` in
+      sparc64)
+        ELF_CFLAGS="$CFLAGS -fPIC"
d24 2
a25 2
+      *)
+        ELF_CFLAGS="$CFLAGS -fpic"
d27 9
a35 9
+    esac
+    ELF_LINK="$CC -shared $ELF_CFLAGS"
+    ELF_LINK_CMD="\$(ELF_LINK)"
+    ELF_DEP_LIBS="\$(DL_LIB) -lm -lcurses"
+    CC_SHARED="$CC -shared $ELF_CFLAGS"
+    if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`"; then
+      DYNAMIC_LINK_FLAGS="-Wl,-E"
+    fi
+  ;;
d39 10
a48 11
@@@@ -2087,6 +2106,9 @@@@ case "$host_os" in
       RPATH="-rpath "
     fi
   ;;
+  *openbsd*)
+    RPATH="-Wl,-R,"
+  ;;
 esac
 
     if test "X$RPATH" != "X"
@@@@ -2100,7 +2122,7 @@@@ fi
d52 2
a53 2
-echo "configure:2104: checking size of short" >&5
+echo "configure:2119: checking size of short" >&5
d57 1
a57 1
@@@@ -2108,7 +2130,7 @@@@ else
d61 2
a62 2
-#line 2112 "configure"
+#line 2127 "configure"
d66 1
a66 1
@@@@ -2119,7 +2141,7 @@@@ main()
d70 2
a71 2
-if { (eval echo configure:2123: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2138: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d75 1
a75 1
@@@@ -2139,7 +2161,7 @@@@ EOF
d79 2
a80 2
-echo "configure:2143: checking size of int" >&5
+echo "configure:2158: checking size of int" >&5
d84 1
a84 1
@@@@ -2147,7 +2169,7 @@@@ else
d88 2
a89 2
-#line 2151 "configure"
+#line 2166 "configure"
d93 1
a93 1
@@@@ -2158,7 +2180,7 @@@@ main()
d97 2
a98 2
-if { (eval echo configure:2162: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2177: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d102 1
a102 1
@@@@ -2178,7 +2200,7 @@@@ EOF
d106 2
a107 2
-echo "configure:2182: checking size of long" >&5
+echo "configure:2197: checking size of long" >&5
d111 1
a111 1
@@@@ -2186,7 +2208,7 @@@@ else
d115 2
a116 2
-#line 2190 "configure"
+#line 2205 "configure"
d120 1
a120 1
@@@@ -2197,7 +2219,7 @@@@ main()
d124 2
a125 2
-if { (eval echo configure:2201: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2216: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d129 1
a129 1
@@@@ -2217,7 +2239,7 @@@@ EOF
d133 2
a134 2
-echo "configure:2221: checking size of float" >&5
+echo "configure:2236: checking size of float" >&5
d138 1
a138 1
@@@@ -2225,7 +2247,7 @@@@ else
d142 2
a143 2
-#line 2229 "configure"
+#line 2244 "configure"
d147 1
a147 1
@@@@ -2236,7 +2258,7 @@@@ main()
d151 2
a152 2
-if { (eval echo configure:2240: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2255: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d156 1
a156 1
@@@@ -2256,7 +2278,7 @@@@ EOF
d160 2
a161 2
-echo "configure:2260: checking size of double" >&5
+echo "configure:2275: checking size of double" >&5
d165 1
a165 1
@@@@ -2264,7 +2286,7 @@@@ else
d169 2
a170 2
-#line 2268 "configure"
+#line 2283 "configure"
d174 1
a174 1
@@@@ -2275,7 +2297,7 @@@@ main()
d178 2
a179 2
-if { (eval echo configure:2279: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2294: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d183 2
a184 2
@@@@ -2304,7 +2326,7 @@@@ JD_Terminfo_Dirs="/usr/lib/terminfo \
 TERMCAP=-ltermcap
d187 6
a192 6
-echo "configure:2308: checking for Terminfo" >&5
+echo "configure:2323: checking for Terminfo" >&5
 for terminfo_dir in $JD_Terminfo_Dirs
 do
    if test -d $terminfo_dir 
@@@@ -2407,7 +2429,7 @@@@ PROGRAM_ELF_ORULES="$PROGRAM_ELF_ORULES
d196 2
a197 2
-echo "configure:2411: checking SLANG_VERSION" >&5
+echo "configure:2426: checking SLANG_VERSION" >&5
d201 1
a201 1
@@@@ -2417,7 +2439,8 @@@@ slang_minor_version=`echo $slang_version
@


1.8
log
@sparc64 only; brad
@
text
@d20 1
a20 1
+    ELF_DEP_LIBS="\$(DL_LIB) -lm"
@


1.7
log
@use -fPIC on sparc64 & sparc
@
text
@d11 1
a11 1
+      sparc*)
@


1.6
log
@- bump NEED_VERSION
- rename checksums file
- add regression tests
- change autoconf test to use __ELF__ cpp symbol instead of using file(1)
@
text
@d1 3
a3 3
--- configure.orig	Tue Feb 20 21:17:29 2001
+++ configure	Fri Dec  7 23:35:39 2001
@@@@ -2017,6 +2017,18 @@@@ case "$host_os" in
d10 8
a17 1
+    ELF_CFLAGS="$CFLAGS -fpic"
d29 1
a29 1
@@@@ -2087,6 +2099,9 @@@@ case "$host_os" in
d39 1
a39 1
@@@@ -2100,7 +2115,7 @@@@ fi
d48 1
a48 1
@@@@ -2108,7 +2123,7 @@@@ else
d57 1
a57 1
@@@@ -2119,7 +2134,7 @@@@ main()
d66 1
a66 1
@@@@ -2139,7 +2154,7 @@@@ EOF
d75 1
a75 1
@@@@ -2147,7 +2162,7 @@@@ else
d84 1
a84 1
@@@@ -2158,7 +2173,7 @@@@ main()
d93 1
a93 1
@@@@ -2178,7 +2193,7 @@@@ EOF
d102 1
a102 1
@@@@ -2186,7 +2201,7 @@@@ else
d111 1
a111 1
@@@@ -2197,7 +2212,7 @@@@ main()
d120 1
a120 1
@@@@ -2217,7 +2232,7 @@@@ EOF
d129 1
a129 1
@@@@ -2225,7 +2240,7 @@@@ else
d138 1
a138 1
@@@@ -2236,7 +2251,7 @@@@ main()
d147 1
a147 1
@@@@ -2256,7 +2271,7 @@@@ EOF
d156 1
a156 1
@@@@ -2264,7 +2279,7 @@@@ else
d165 1
a165 1
@@@@ -2275,7 +2290,7 @@@@ main()
d174 1
a174 1
@@@@ -2304,7 +2319,7 @@@@ JD_Terminfo_Dirs="/usr/lib/terminfo \
d183 1
a183 1
@@@@ -2407,7 +2422,7 @@@@ PROGRAM_ELF_ORULES="$PROGRAM_ELF_ORULES
d192 1
a192 1
@@@@ -2417,7 +2432,8 @@@@ slang_minor_version=`echo $slang_version
@


1.5
log
@add libm as a dependency library for linking the libslang shared library.
@
text
@d2 2
a3 2
+++ configure	Sun Mar  4 00:51:51 2001
@@@@ -2017,6 +2017,18 @@@@
d15 1
a15 1
+    if test "`/usr/bin/file /usr/lib/libc.so.* | grep ELF`" != ""; then
d22 1
a22 1
@@@@ -2087,6 +2099,9 @@@@
d27 1
a27 1
+    RPATH="-Wl,-rpath,"
d32 1
a32 1
@@@@ -2100,7 +2115,7 @@@@
d41 1
a41 1
@@@@ -2108,7 +2123,7 @@@@
d50 1
a50 1
@@@@ -2119,7 +2134,7 @@@@
d59 1
a59 1
@@@@ -2139,7 +2154,7 @@@@
d68 1
a68 1
@@@@ -2147,7 +2162,7 @@@@
d77 1
a77 1
@@@@ -2158,7 +2173,7 @@@@
d86 1
a86 1
@@@@ -2178,7 +2193,7 @@@@
d95 1
a95 1
@@@@ -2186,7 +2201,7 @@@@
d104 1
a104 1
@@@@ -2197,7 +2212,7 @@@@
d113 1
a113 1
@@@@ -2217,7 +2232,7 @@@@
d122 1
a122 1
@@@@ -2225,7 +2240,7 @@@@
d131 1
a131 1
@@@@ -2236,7 +2251,7 @@@@
d140 1
a140 1
@@@@ -2256,7 +2271,7 @@@@
d149 1
a149 1
@@@@ -2264,7 +2279,7 @@@@
d158 1
a158 1
@@@@ -2275,7 +2290,7 @@@@
d167 1
a167 1
@@@@ -2304,7 +2319,7 @@@@
d176 1
a176 1
@@@@ -2407,7 +2422,7 @@@@
d185 1
a185 1
@@@@ -2417,7 +2432,8 @@@@
@


1.4
log
@de to libslang 1.4.3
@
text
@d1 2
a2 2
--- configure.orig	Sun Feb  4 01:32:53 2001
+++ configure	Wed Feb  7 15:50:48 2001
d11 1
a11 1
+    ELF_LINK="$CC -shared -fpic"
d13 2
a14 2
+    ELF_DEP_LIBS=
+    CC_SHARED="$CC $CFLAGS -shared -fpic"
@


1.3
log
@use "cc -shared" on 2.8 and up to create shared libraries.
@
text
@d1 4
a4 4
--- configure.orig	Sat Aug 19 22:20:18 2000
+++ configure	Sat Oct 21 15:23:53 2000
@@@@ -1887,6 +1887,20 @@@@
        ELF_DEP_LIBS=
d8 4
a11 2
+    ELF_CC="\$(CC)"
+    ELF_CFLAGS="\$(CFLAGS) -fpic"
d14 5
a18 9
+    case "`uname -r`" in
+      2.01234567)
+	ELF_LINK="ld -Bshareable -Bforcearchive"
+      ;;
+      *)
+	ELF_LINK="\$(CC) -shared -fpic"
+      ;;
+    esac
+    ;;
d21 12
a32 2
     ELF_CC="\$(CC)"
@@@@ -1923,7 +1937,7 @@@@
d36 2
a37 2
-echo "configure:1927: checking size of short" >&5
+echo "configure:1941: checking size of short" >&5
d41 1
a41 1
@@@@ -1931,7 +1945,7 @@@@
d45 2
a46 2
-#line 1935 "configure"
+#line 1949 "configure"
d50 1
a50 1
@@@@ -1942,7 +1956,7 @@@@
d54 2
a55 2
-if { (eval echo configure:1946: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:1960: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d59 1
a59 1
@@@@ -1962,7 +1976,7 @@@@
d63 2
a64 2
-echo "configure:1966: checking size of int" >&5
+echo "configure:1980: checking size of int" >&5
d68 1
a68 1
@@@@ -1970,7 +1984,7 @@@@
d72 2
a73 2
-#line 1974 "configure"
+#line 1988 "configure"
d77 1
a77 1
@@@@ -1981,7 +1995,7 @@@@
d81 2
a82 2
-if { (eval echo configure:1985: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:1999: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d86 1
a86 1
@@@@ -2001,7 +2015,7 @@@@
d90 2
a91 2
-echo "configure:2005: checking size of long" >&5
+echo "configure:2019: checking size of long" >&5
d95 1
a95 1
@@@@ -2009,7 +2023,7 @@@@
d99 2
a100 2
-#line 2013 "configure"
+#line 2027 "configure"
d104 1
a104 1
@@@@ -2020,7 +2034,7 @@@@
d108 2
a109 2
-if { (eval echo configure:2024: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2038: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d113 1
a113 1
@@@@ -2040,7 +2054,7 @@@@
d117 2
a118 2
-echo "configure:2044: checking size of float" >&5
+echo "configure:2058: checking size of float" >&5
d122 1
a122 1
@@@@ -2048,7 +2062,7 @@@@
d126 2
a127 2
-#line 2052 "configure"
+#line 2066 "configure"
d131 1
a131 1
@@@@ -2059,7 +2073,7 @@@@
d135 2
a136 2
-if { (eval echo configure:2063: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2077: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d140 1
a140 1
@@@@ -2079,7 +2093,7 @@@@
d144 2
a145 2
-echo "configure:2083: checking size of double" >&5
+echo "configure:2097: checking size of double" >&5
d149 1
a149 1
@@@@ -2087,7 +2101,7 @@@@
d153 2
a154 2
-#line 2091 "configure"
+#line 2105 "configure"
d158 1
a158 1
@@@@ -2098,7 +2112,7 @@@@
d162 2
a163 2
-if { (eval echo configure:2102: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2116: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d167 1
a167 1
@@@@ -2127,7 +2141,7 @@@@
d171 2
a172 2
-echo "configure:2131: checking for Terminfo" >&5
+echo "configure:2145: checking for Terminfo" >&5
d176 1
a176 1
@@@@ -2230,7 +2244,7 @@@@
d180 2
a181 2
-echo "configure:2234: checking SLANG_VERSION" >&5
+echo "configure:2248: checking SLANG_VERSION" >&5
d185 1
a185 1
@@@@ -2240,7 +2254,8 @@@@
@


1.2
log
@use "cc -shared" to create shared libraries
@
text
@d2 19
a20 2
+++ configure	Sat Sep 16 08:32:23 2000
@@@@ -1890,7 +1890,7 @@@@
d24 154
a177 6
-    ELF_CFLAGS="\$(CFLAGS) -fPIC"
+    ELF_CFLAGS="\$(CFLAGS) -fpic -DPIC"
     ELF_LINK="\$(CC) -shared"
     ELF_LINK_CMD="\$(ELF_LINK)"
     ELF_DEP_LIBS="\$(DL_LIB) -lm -lc"
@@@@ -2240,7 +2240,8 @@@@
@


1.1
log
@upgrade to libslang 1.4.2
@
text
@d1 11
a11 2
--- configure.orig	Mon Sep  4 22:16:58 2000
+++ configure	Mon Sep  4 22:18:04 2000
@

