head	1.9;
access;
symbols
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.1.1.1.0.4
	OPENBSD_2_4_BASE:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	libslang_0_9938:1.1.1.1
	libslang:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2000.09.05.03.27.30;	author brad;	state dead;
branches;
next	1.8;

1.8
date	2000.06.13.02.08.00;	author kevlo;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.25.21.10.55;	author brad;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	99.11.28.00.28.59;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	99.10.01.23.17.38;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.07.15.01.14.21;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.06.23.01.44.36;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.11.20.03.43.00;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	97.11.20.00.18.38;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.11.20.00.18.38;	author todd;	state Exp;
branches;
next	;

1.7.2.1
date	2000.09.15.04.49.16;	author marc;	state Exp;
branches;
next	;


desc
@@


1.9
log
@upgrade to libslang 1.4.2
@
text
@--- src/Makefile.in.orig	Tue Jun 13 17:40:10 2000
+++ src/Makefile.in	Tue Jun 13 17:42:56 2000
@@@@ -2,8 +2,8 @@@@
 #---------------------------------------------------------------------------
 # ANSI C compiler
 #---------------------------------------------------------------------------
-CC              = @@CC@@
-CFLAGS 		= @@CFLAGS@@
+#CC              = @@CC@@
+#CFLAGS 		= @@CFLAGS@@
 LDFLAGS		= @@LDFLAGS@@ @@DYNAMIC_LINK_FLAGS@@
 #-----------------------------------------------------------------------------
 # System library that contains functions for dynamic linking (-ldl)
@@@@ -13,9 +13,9 @@@@
 #---------------------------------------------------------------------------
 # Compiler for producing a shared library (ELF)
 #---------------------------------------------------------------------------
-ELF_CC 		= @@ELF_CC@@
-ELF_CFLAGS	= @@ELF_CFLAGS@@
-ELF_LINK        = @@ELF_LINK@@
+ELF_CC 		= $(CC)
+ELF_CFLAGS	= $(CFLAGS) -fpic -DPIC
+ELF_LINK        = ld -Bshareable -Bforcearchive
 ELF_DEP_LIBS	= $(DL_LIB) -lm -lc
 
 #---------------------------------------------------------------------------
@@@@ -36,7 +36,7 @@@@
 exec_prefix = @@exec_prefix@@
 install_lib_dir = @@libdir@@
 install_include_dir = @@includedir@@
-install_doc_dir = $(prefix)/doc/slang/@@slang_version@@
+install_doc_dir = $(prefix)/share/doc/slang
 DOC_FILES = ../changes.txt ../COPY* ../doc/slangdoc.html ../doc/text/*.txt
 #---------------------------------------------------------------------------
 # Misc commands (safe to leave these untouched)
@@@@ -106,11 +106,9 @@@@
 
 $(ELFDIR_ELF_LIB): $(ELFDIR) $(CONFIG_H) $(ELFOBJS)
 	-$(RM) $(ELFDIR_ELF_LIB)
-	cd $(ELFDIR); $(ELF_LINK_CMD) -o $(ELFLIB_MAJOR_MINOR) $(OFILES) $(ELF_DEP_LIBS)
-	cd $(ELFDIR); $(RM) $(ELFLIB); $(LN) $(ELFLIB_MAJOR_MINOR) $(ELFLIB)
+	cd $(ELFDIR); $(ELF_LINK) -o $(ELFLIB_MAJOR_MINOR) $(OFILES) $(ELF_DEP_LLIBS)
 	@@echo ""
 	@@echo $(ELFLIB_MAJOR_MINOR) created in $(ELFDIR).
-	@@echo The link $(ELFLIB) to $(ELFLIB_MAJOR_MINOR) was also created.
 	@@echo ""
 $(OBJDIR) :
 	-$(MKDIR) $(OBJDIR)
@@@@ -144,15 +142,10 @@@@
 $(install_lib_dir):
 	$(MKINSDIR) $(install_lib_dir)
 install-elf: elf install
-	-$(RM) $(install_lib_dir)/$(ELFLIB)
-	-$(RM) $(install_lib_dir)/$(ELFLIB_MAJOR)
 	@@echo installing $(ELFLIB_MAJOR_MINOR) in $(install_lib_dir)
 	$(INSTALL_DATA) $(ELFDIR_ELF_LIB) $(install_lib_dir)
-	@@echo creating symbolic links to $(ELFLIB_MAJOR_MINOR)
-	-cd $(install_lib_dir); $(LN) $(ELFLIB_MAJOR_MINOR) $(ELFLIB)
 	@@echo ""
 	@@echo $(ELFLIB_MAJOR_MINOR) created in $(install_lib_dir).
-	@@echo The link $(ELFLIB) to $(ELFLIB_MAJOR_MINOR) was also created.
 	@@echo ""
 install-links:
 	-$(RM) $(install_lib_dir)/$(ELFLIB)
@


1.8
log
@- Upgrade to version 1.4.1
- GNU_CONFIGURE -> CONFIGURE_STYLE
- Remove FAKE= Yes
- Add @@comment with PLIST & PLIST.noshared
@
text
@@


1.7
log
@get rid of fuzz and a bad offset caused by the port being upgraded
@
text
@d1 2
a2 2
--- src/Makefile.in.orig	Sun Jan  9 14:38:29 2000
+++ src/Makefile.in	Sat Mar 25 11:04:23 2000
d10 1
a10 1
+#CFLAGS 	= @@CFLAGS@@
d42 1
a42 1
+	cd $(ELFDIR); $(ELF_LINK) -o $(ELFLIB_MAJOR_MINOR) $(OFILES) $(ELF_DEP_LIBS)
@


1.7.2.1
log
@bring devel as of cut-over date into 2.7 branch
@
text
@d1 2
a2 2
--- src/Makefile.in.orig	Tue Jun 13 17:40:10 2000
+++ src/Makefile.in	Tue Jun 13 17:42:56 2000
d10 1
a10 1
+#CFLAGS 		= @@CFLAGS@@
d42 1
a42 1
+	cd $(ELFDIR); $(ELF_LINK) -o $(ELFLIB_MAJOR_MINOR) $(OFILES) $(ELF_DEP_LLIBS)
@


1.6
log
@previous version of libslang hasn't been available for awhile now from
the dist site, upgrade to libslang 1.3.10
@
text
@d1 2
a2 2
--- src/Makefile.in.orig	Sun Nov 14 01:21:11 1999
+++ src/Makefile.in	Sun Nov 21 15:51:22 1999
d16 1
a16 1
 # ELF specific (Linux)
@


1.5
log
@upgrade to libslang 1.3.9
@
text
@d1 2
a2 2
--- src/Makefile.in.orig	Thu Sep 23 03:25:58 1999
+++ src/Makefile.in	Fri Oct  1 16:54:16 1999
d36 1
a36 1
@@@@ -105,11 +105,9 @@@@
d49 4
a52 4
@@@@ -146,15 +144,10 @@@@
 install-elf: install elf $(install_lib_dir) $(install_include_dir) $(ELFDIR_ELF_LIB)
 	$(INSTALL_DATA) $(SRCDIR)/slang.h $(install_include_dir)
 	$(INSTALL_DATA) $(SRCDIR)/slcurses.h $(install_include_dir)
@


1.4
log
@upgrade to libslang 1.3.8
@
text
@d1 2
a2 2
--- src/Makefile.in.orig	Tue Jul 13 16:30:40 1999
+++ src/Makefile.in	Wed Jul 14 21:05:39 1999
d49 1
a49 1
@@@@ -141,15 +139,10 @@@@
@


1.3
log
@Update slang to version 1.3.7
WARNING: You MUST pkg_delete your old version before installing this one.
Why?  because I was too lazy to teach slang about OpenBSD shared libs
(It only knows Linux shared libs) and thus only built the static lib.

This probably has broken some other ports that depend upon slang.
I'll find and fix them next
@
text
@d1 64
a64 12
--- autoconf/config.guess.~1~	Sun Jun  6 16:34:54 1999
+++ autoconf/config.guess	Tue Jun 22 18:19:33 1999
@@@@ -324,6 +324,9 @@@@
     *:NetBSD:*:*)
 	echo ${UNAME_MACHINE}-unknown-netbsd`echo ${UNAME_RELEASE}|sed -e 's/[-_].*/\./'`
 	exit 0 ;;
+    *:OpenBSD:*:*)
+	echo ${UNAME_MACHINE}-unknown-openbsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`
+	exit 0 ;;
     i*:CYGWIN*:*)
 	echo i386-unknown-cygwin32
 	exit 0 ;;
@


1.2
log
@update to 1.2; Peter Reich <peter@@alles.prima.de>
@
text
@d1 12
a12 55
--- src/Makefile.in.orig	Fri Apr 24 08:17:04 1998
+++ src/Makefile.in	Tue Oct 27 11:32:50 1998
@@@@ -2,15 +2,15 @@@@
 #---------------------------------------------------------------------------
 # ANSI C compiler
 #---------------------------------------------------------------------------
-CC              = @@CC@@
-CFLAGS 		= @@CFLAGS@@
+#CC              = @@CC@@
+#CFLAGS 		= @@CFLAGS@@
 LDFLAGS		= @@LDFLAGS@@
 #---------------------------------------------------------------------------
 # ELF specific (Linux)
 #---------------------------------------------------------------------------
-ELF_CC 		= @@ELF_CC@@
-ELF_CFLAGS	= @@ELF_CFLAGS@@
-ELF_LINK        = @@ELF_LINK@@
+ELF_CC 		= $(CC)
+ELF_CFLAGS	= $(CFLAGS) -DPIC -fpic
+ELF_LINK        = ld -Bshareable
 ELF_DEP_LIBS	= -lm
 
 #---------------------------------------------------------------------------
@@@@ -95,13 +95,12 @@@@
 	@@echo ""
 	@@echo $(NORMAL_LIB) created in $(OBJDIR)
 
+#	cd $(ELFDIR); $(RM) $(ELFLIB); $(LN) $(ELFLIB_MAJOR_MINOR) $(ELFLIB)
 $(ELFDIR_ELF_LIB): $(ELFDIR) $(CONFIG_H) $(ELFOBJS)
 	-$(RM) $(ELFDIR_ELF_LIB)
-	cd $(ELFDIR); $(ELF_LINK_CMD) -o $(ELFLIB_MAJOR_MINOR) $(OFILES) $(ELF_DEP_LIBS)
-	cd $(ELFDIR); $(RM) $(ELFLIB); $(LN) $(ELFLIB_MAJOR_MINOR) $(ELFLIB)
+	cd $(ELFDIR); $(ELF_LINK) -o $(ELFLIB_MAJOR_MINOR) $(OFILES) $(ELF_DEP_LIBS)
 	@@echo ""
 	@@echo $(ELFLIB_MAJOR_MINOR) created in $(ELFDIR).
-	@@echo The link $(ELFLIB) to $(ELFLIB_MAJOR_MINOR) was also created.
 	@@echo ""
 $(OBJDIR) :
 	-$(MKDIR) $(OBJDIR)
@@@@ -128,15 +127,10 @@@@
 install-elf: install elf $(install_lib_dir) $(install_include_dir) $(ELFDIR_ELF_LIB)
 	$(INSTALL_DATA) $(SRCDIR)/slang.h $(install_include_dir)
 	$(INSTALL_DATA) $(SRCDIR)/slcurses.h $(install_include_dir)
-	-$(RM) $(install_lib_dir)/$(ELFLIB)
-	-$(RM) $(install_lib_dir)/$(ELFLIB_MAJOR)
 	@@echo installing $(ELFLIB_MAJOR_MINOR) in $(install_lib_dir)
 	$(INSTALL_DATA) $(ELFDIR_ELF_LIB) $(install_lib_dir)
-	@@echo creating symbolic links to $(ELFLIB_MAJOR_MINOR)
-	-cd $(install_lib_dir); $(LN) $(ELFLIB_MAJOR_MINOR) $(ELFLIB)
 	@@echo ""
 	@@echo $(ELFLIB_MAJOR_MINOR) created in $(install_lib_dir).
-	@@echo The link $(ELFLIB) to $(ELFLIB_MAJOR_MINOR) was also created.
 	@@echo ""
 install-links:
 	-$(RM) $(install_lib_dir)/$(ELFLIB)
@


1.1
log
@Initial revision
@
text
@d1 55
a55 76
*** src/Makefile.in.orig	Tue Jan 21 20:21:34 1997
--- src/Makefile.in	Mon Jan 27 23:49:32 1997
***************
*** 2,16 ****
  #---------------------------------------------------------------------------
  # ANSI C compiler
  #---------------------------------------------------------------------------
! CC              = @@CC@@
! CFLAGS 		= @@CFLAGS@@
  LDFLAGS		= @@LDFLAGS@@
  #---------------------------------------------------------------------------
  # ELF specific (Linux)
  #---------------------------------------------------------------------------
! ELF_CC 		= gcc
! ELF_CFLAGS	= -O2 -fno-strength-reduce -fPIC
! ELF_LINK        = gcc -shared -Wl,-lm,-t,-soname#
  #---------------------------------------------------------------------------
  # Set these values to ABSOLUTE path names
  #---------------------------------------------------------------------------
--- 2,16 ----
  #---------------------------------------------------------------------------
  # ANSI C compiler
  #---------------------------------------------------------------------------
! #CC              = @@CC@@
! #CFLAGS          = @@CFLAGS@@
  LDFLAGS		= @@LDFLAGS@@
  #---------------------------------------------------------------------------
  # ELF specific (Linux)
  #---------------------------------------------------------------------------
! ELF_CC          = $(CC)
! ELF_CFLAGS      = $(CFLAGS) -DPIC -fpic
! ELF_LINK        = ld -Bshareable
  #---------------------------------------------------------------------------
  # Set these values to ABSOLUTE path names
  #---------------------------------------------------------------------------
***************
*** 93,103 ****
  #	cd $(ELFDIR); $(RM) $(ELFLIB_MAJOR); $(LN) $(ELFLIB_MAJOR_MINOR) $(ELFLIB_MAJOR)
  $(ELFDIR_ELF_LIB): $(ELFDIR) $(ELFOBJS)
  	-$(RM) $(ELFDIR_ELF_LIB)
! 	cd $(ELFDIR); $(ELF_LINK),$(ELFLIB_MAJOR) -o $(ELFLIB_MAJOR_MINOR) $(OFILES)
! 	cd $(ELFDIR); $(RM) $(ELFLIB); $(LN) $(ELFLIB_MAJOR) $(ELFLIB)
  	@@echo ""
  	@@echo $(ELFLIB_MAJOR_MINOR) created in $(ELFDIR).
- 	@@echo The link $(ELFLIB) to $(ELFLIB_MAJOR_MINOR) was also created.
  	@@echo ""
  $(OBJDIR) :
  	-$(MKDIR) $(OBJDIR)
--- 93,101 ----
  #	cd $(ELFDIR); $(RM) $(ELFLIB_MAJOR); $(LN) $(ELFLIB_MAJOR_MINOR) $(ELFLIB_MAJOR)
  $(ELFDIR_ELF_LIB): $(ELFDIR) $(ELFOBJS)
  	-$(RM) $(ELFDIR_ELF_LIB)
! 	cd $(ELFDIR); $(ELF_LINK) -o $(ELFLIB_MAJOR_MINOR) $(OFILES)
  	@@echo ""
  	@@echo $(ELFLIB_MAJOR_MINOR) created in $(ELFDIR).
  	@@echo ""
  $(OBJDIR) :
  	-$(MKDIR) $(OBJDIR)
***************
*** 124,138 ****
  install-elf: install elf $(install_lib_dir) $(install_include_dir) $(ELFDIR_ELF_LIB)
  	$(INSTALL_DATA) $(SRCDIR)/slang.h $(install_include_dir)
  	$(INSTALL_DATA) $(SRCDIR)/slcurses.h $(install_include_dir)
- 	-$(RM) $(install_lib_dir)/$(ELFLIB)
- 	-$(RM) $(install_lib_dir)/$(ELFLIB_MAJOR)
  	@@echo installing $(ELFLIB_MAJOR_MINOR) in $(install_lib_dir)
  	$(INSTALL_DATA) $(ELFDIR_ELF_LIB) $(install_lib_dir)
- 	@@echo creating symbolic links to $(ELFLIB_MAJOR_MINOR)
- 	-cd $(install_lib_dir); $(LN) $(ELFLIB_MAJOR_MINOR) $(ELFLIB)
  	@@echo ""
  	@@echo $(ELFLIB_MAJOR_MINOR) created in $(install_lib_dir).
- 	@@echo The link $(ELFLIB) to $(ELFLIB_MAJOR_MINOR) was also created.
  	@@echo ""
  install-links:
  	-$(RM) $(install_lib_dir)/$(ELFLIB)
--- 122,131 ----
@


1.1.1.1
log
@libslang
@
text
@@
