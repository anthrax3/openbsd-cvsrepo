head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.20
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.18
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.14
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.16
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.12
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.10
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.8
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.6
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.1.1.0.4
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.2
	OPENBSD_4_9_BASE:1.1.1.1
	jasper_20101201:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2012.04.17.12.20.46;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.09.05.08.00.33;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.01.09.06.52;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.12.01.09.06.52;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- update gcc to 4.6.3 for LTS 20120406
@
text
@$OpenBSD: patch-libgcc_Makefile_in,v 1.2 2011/09/05 08:00:33 jasper Exp $

Using $(INSTALL_DATA) and chmod generates errors as the operation
is not permitted. So use plain copy mode and chown/chgrp
in the post-install target.

--- libgcc/Makefile.in.orig	Sun Apr 15 18:47:00 2012
+++ libgcc/Makefile.in	Sun Apr 15 18:48:38 2012
@@@@ -912,7 +912,7 @@@@ gcc-extra-parts:
 	parts="$(GCC_EXTRA_PARTS)";				\
 	for file in $$parts; do					\
 	  rm -f $(gcc_objdir)$(MULTISUBDIR)/$$file;		\
-	  $(INSTALL_DATA) $$file $(gcc_objdir)$(MULTISUBDIR)/;	\
+	  install -c $$file $(gcc_objdir)$(MULTISUBDIR)/;	\
 	  case $$file in 					\
 	    *.a)						\
 	      $(RANLIB) $(gcc_objdir)$(MULTISUBDIR)/$$file ;;	\
@@@@ -961,17 +961,15 @@@@ install-shared:
 install-leaf: $(install-shared) $(install-libunwind)
 	$(mkinstalldirs) $(DESTDIR)$(inst_libdir)
 
-	$(INSTALL_DATA) libgcc.a $(DESTDIR)$(inst_libdir)/
-	chmod 644 $(DESTDIR)$(inst_libdir)/libgcc.a
+	install -c libgcc.a $(DESTDIR)$(inst_libdir)/
 	$(RANLIB) $(DESTDIR)$(inst_libdir)/libgcc.a
-	$(INSTALL_DATA) libgcov.a $(DESTDIR)$(inst_libdir)/
-	chmod 644 $(DESTDIR)$(inst_libdir)/libgcov.a
+	install -c libgcov.a $(DESTDIR)$(inst_libdir)/
 	$(RANLIB) $(DESTDIR)$(inst_libdir)/libgcov.a
 
 	parts="$(INSTALL_PARTS)";				\
 	for file in $$parts; do					\
 	  rm -f $(DESTDIR)$(inst_libdir)/$$file;		\
-	  $(INSTALL_DATA) $$file $(DESTDIR)$(inst_libdir)/;	\
+	  install -c $$file $(DESTDIR)$(inst_libdir)/;	\
 	  case $$file in 					\
 	    *.a)						\
 	      $(RANLIB) $(gcc_objdir)$(MULTISUBDIR)/$$file ;;	\
@


1.2
log
@- update msp430-gcc to 4.5.3
@
text
@d1 1
a1 1
$OpenBSD: patch-libgcc_Makefile_in,v 1.1.1.1 2010/12/01 09:06:52 jasper Exp $
d7 3
a9 3
--- libgcc/Makefile.in.orig	Tue Mar 30 15:08:52 2010
+++ libgcc/Makefile.in	Thu Sep  1 18:58:32 2011
@@@@ -901,7 +901,7 @@@@ gcc-extra-parts:
d15 4
a18 4
 	done
 
 all: $(extra-parts)
@@@@ -946,17 +946,15 @@@@ install-shared:
d36 3
a38 3
 	done
 
 install: install-leaf
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-libgcc_Makefile_in,v 1.1 2010/10/22 15:20:04 jasper Exp $
d7 3
a9 3
--- libgcc/Makefile.in.orig	Thu Oct 14 11:39:34 2010
+++ libgcc/Makefile.in	Thu Oct 14 11:53:23 2010
@@@@ -890,7 +890,7 @@@@ gcc-extra-parts:
d18 1
a18 1
@@@@ -935,17 +935,15 @@@@ install-shared:
@


1.1.1.1
log
@Import mspgcc4, the toolchain for MSP430 MCUs. based on gnu gcc, binutils, gdb
with additional patches for msp430 support.

One will need an upcoming umodem.c commit by jakemsr@@, and an upcoming
mspdebug port in order to actually program the devices though.

feedback/ok aja@@

@
text
@@
