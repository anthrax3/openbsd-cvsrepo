head	1.2;
access;
symbols
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.09.05.07.59.58;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2011.05.09.08.58.56;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update msp430-binutils to 2.21.1
* this switches the msp430 toolchain to the uniarch version. for more
information please refer to:
http://sourceforge.net/apps/mediawiki/mspgcc/index.php?title=Devel:Uniarch
@
text
@$OpenBSD: patch-gas_config_tc-msp430_c,v 1.1 2011/05/09 08:58:56 jasper Exp $

Fix for SF 3293911
gas 2.21 segfault when building gcc 4.4.5

From upstream git:
mspgcc/binutils f3f850212509bd6a19bed10e1d5783cc5f95777a

--- gas/config/tc-msp430.c.orig	Sun May  8 22:51:54 2011
+++ gas/config/tc-msp430.c	Sun May  8 22:52:12 2011
@@@@ -661,7 +661,7 @@@@ get_operand (void)
   char* dp;
   int operand_length = 0;
 
-  while (sp && ',' != *sp && ';' != *sp && '\n' != *sp)
+  while (*sp && ',' != *sp && ';' != *sp && '\n' != *sp)
     {
       if (! ISSPACE(*sp))
 	++operand_length;
@


1.1
log
@- update msp430-binutils to 2.21 including support for many new chips
- add a fix against crashing gas on openbsd
@
text
@d1 1
a1 1
$OpenBSD$
@

