head	1.17;
access;
symbols
	OPENBSD_6_0:1.17.0.18
	OPENBSD_6_0_BASE:1.17
	OPENBSD_5_9:1.17.0.14
	OPENBSD_5_9_BASE:1.17
	OPENBSD_5_8:1.17.0.16
	OPENBSD_5_8_BASE:1.17
	OPENBSD_5_7:1.17.0.12
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.17.0.10
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.17.0.8
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.17.0.6
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.17.0.4
	OPENBSD_5_3_BASE:1.17
	OPENBSD_5_2:1.17.0.2
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.1.1.0.2
	OPENBSD_4_9_BASE:1.1.1.1
	jasper_20101201:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.17
date	2012.07.06.16.41.21;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2012.05.04.08.56.23;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2012.04.17.13.10.58;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2012.04.17.13.07.36;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2012.04.17.13.01.56;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2012.04.17.12.46.17;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2012.04.17.12.21.36;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.11.11.18.38.17;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.11.11.17.30.08;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.11.11.17.24.12;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2011.11.11.17.23.05;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2011.09.27.19.20.25;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.09.05.08.25.48;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.09.05.08.15.14;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2011.09.05.08.01.30;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.05.09.09.02.12;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.01.09.06.53;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.12.01.09.06.53;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.17
log
@- build COMMENT from Makefile.inc
@
text
@# $OpenBSD: Makefile,v 1.16 2012/05/04 08:56:23 jasper Exp $

COMMENT=		libc for ${TARGET}

TOOL=			${TARGET}-libc
TOOL_V= 		20120224

LTS_PATCHES=		msp430-libc-20120224-sf3522752.patch

CONFIGURE_STYLE=	# This space intentionally left blank.

RUN_DEPENDS=		devel/msp430/gcc>=4.6.3
BUILD_DEPENDS=		${RUN_DEPENDS}

MAKE_ENV=		PREFIX=${PREFIX}

WRKSRC= 		${WRKDIST}/src/

SEPARATE_BUILD= 	No

.include <bsd.port.mk>
@


1.16
log
@add LTS patch msp430-libc-20120224-sf3522752
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/04/17 13:10:58 jasper Exp $
d3 1
a3 1
COMMENT=		libc for msp430
@


1.15
log
@handle PATCHFILES better
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/04/17 13:07:36 jasper Exp $
d7 2
@


1.14
log
@shrink Makefiles a bit further
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/04/17 13:01:56 jasper Exp $
a7 1
PATCHFILES=		# This space intentionally left blank.
@


1.13
log
@- use ${TARGET} where applicable
- move PATCHFILES to Makefile.inc
- add TOOL, TOOL_V and LTS_V and use where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/04/17 12:46:17 jasper Exp $
a7 2
PKGNAME=		${DISTNAME} # We don't want 'msp430' prepended.

a14 1
USE_GMAKE=		Yes
@


1.12
log
@move NO_REGRESS and SEPARATE_BUILD into Makefile.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/04/17 12:21:36 jasper Exp $
d5 7
a11 2
DISTNAME=		${TARGET}-libc-20120224
PKGNAME=		${DISTNAME}
a19 2

CONFIGURE_STYLE=	# This space intentionally left blank.
@


1.11
log
@- update libc to 20120224
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/11/11 18:38:17 jasper Exp $
d18 1
a18 1
NO_REGRESS=		Yes
@


1.10
log
@- make PKGNAME=${TARGET}-${DISTNAME} the default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/11/11 17:30:08 jasper Exp $
d5 1
a5 1
DISTNAME=		${TARGET}-libc-20110612
a6 1
REVISION=		2
d8 1
a8 4
LTS_PATCHES=		msp430-libc-20110612-sf3387164.patch \
			msp430-libc-20110612-sf3402836.patch

RUN_DEPENDS=		devel/msp430/gcc>=4.5.3
@


1.9
log
@this has got no GNU code, so make fix COMMENT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/11/11 17:24:12 jasper Exp $
d6 1
@


1.8
log
@- we're going to stick with 'uniarch', so fix HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/11/11 17:23:05 jasper Exp $
d3 1
a3 1
COMMENT=		GNU libc for msp430
d6 1
a6 1
REVISION=		1
@


1.7
log
@- make a clear distinction between the regular PATCHFILES which are for
the msp430 config files and the LTS patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/09/27 19:20:25 jasper Exp $
d6 1
a6 1
REVISION=		0
@


1.6
log
@sort PATCHFILES list
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/09/05 08:25:48 jasper Exp $
d8 2
a9 2
PATCHFILES=		msp430-libc-20110612-sf3387164.patch:1 \
			msp430-libc-20110612-sf3402836.patch:1
@


1.5
log
@add a bunch of LTS patches from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/09/05 08:15:14 jasper Exp $
d8 2
a9 2
PATCHFILES=		msp430-libc-20110612-sf3402836.patch:1 \
			msp430-libc-20110612-sf3387164.patch:1
@


1.4
log
@- set MASTER_SITES to mspgcc on sf.net
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/09/05 08:01:30 jasper Exp $
d6 4
d17 1
a17 1
WRKDIST=		${WRKDIR}/${DISTNAME}/src/
@


1.3
log
@- update to the uniarch libc, msp430-libc-20110612
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/05/09 09:02:12 jasper Exp $
a5 2

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=mspgcc/}
@


1.2
log
@- update msp430-libc to 20110213

please note that this includes the standard ti headers, so you may need
to fix your includes when updating. but all the ti-provided code will now work
with msp430-gcc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/12/01 09:06:53 jasper Exp $
d5 6
a10 9
V=			ti_20110213
DISTNAME=		${TARGET}-libc-$V
PKGNAME=		${TARGET}-libc-${V:S/ti_//}

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=mspgcc4/}

RUN_DEPENDS=		devel/msp430/gcc>=4.4.5
BUILD_DEPENDS=		archivers/gtar \
			${RUN_DEPENDS}
d13 1
a13 2

TAR=			${LOCALBASE}/bin/gtar
a19 5

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/msp430-libc/
	${INSTALL_DATA} ${WRKSRC}/../doc/devheaders.txt \
		${PREFIX}/share/doc/msp430-libc/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
V=			20101113
d7 1
a9 1
#PATCHFILES=		msp430-libc.patch:0
d11 3
a13 3
RUN_DEPENDS=		devel/msp430/binutils \
			devel/msp430/gcc
BUILD_DEPENDS=		${RUN_DEPENDS}
d17 2
d22 2
@


1.1.1.1
log
@Import mspgcc4, the toolchain for MSP430 MCUs. based on gnu gcc, binutils, gdb
with additional patches for msp430 support.

One will need an upcoming umodem.c commit by jakemsr@@, and an upcoming
mspdebug port in order to actually program the devices though.

feedback/ok aja@@

@
text
@@
