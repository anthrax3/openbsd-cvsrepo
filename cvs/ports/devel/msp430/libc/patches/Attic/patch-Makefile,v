head	1.3;
access;
symbols
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.1.1.0.2
	OPENBSD_4_9_BASE:1.1.1.1
	jasper_20101201:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2011.09.05.08.01.30;	author jasper;	state dead;
branches;
next	1.2;

1.2
date	2011.05.09.09.02.12;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.01.09.06.53;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.12.01.09.06.53;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- update to the uniarch libc, msp430-libc-20110612
@
text
@$OpenBSD: patch-Makefile,v 1.2 2011/05/09 09:02:12 jasper Exp $

Fix the install-crt target to create the target directory and don't
execute the ${INSTALL} with a trailing '/' for last crt file which
would make it a (non-existing) directory.

--- Makefile.orig	Mon Apr 25 22:57:41 2011
+++ Makefile	Mon Apr 25 22:57:43 2011
@@@@ -24,7 +24,7 @@@@ override CC = msp430-gcc
 override AS = msp430-gcc -x assembler-with-cpp
 override AR = msp430-ar
 RM = rm
-INSTALL = install -c -m644 $^/
+INSTALL = install -c -m644 $^
 
 #HDR_VENDOR := legacy
 HDR_VENDOR := ti
@@@@ -90,8 +90,9 @@@@ build-crt: makedir-crt $(CRT_OBJS)
 clean-crt:
 	${RM} -f $(CRT_OBJS)
 
-install-crt: $(CRT_OBJS) $(libdir)
-	${INSTALL}
+install-crt: $(CRT_OBJS)
+	mkdir -p ${libdir}
+	${INSTALL} ${libdir}
 
 makedir-crt:
 	mkdir -p $(BUILDDIR)
@


1.2
log
@- update msp430-libc to 20110213

please note that this includes the standard ti headers, so you may need
to fix your includes when updating. but all the ti-provided code will now work
with msp430-gcc
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.1.1.1 2010/12/01 09:06:53 jasper Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d7 4
a10 3
--- Makefile.orig	Mon Nov 29 23:41:41 2010
+++ Makefile	Mon Nov 29 23:50:09 2010
@@@@ -25,7 +25,7 @@@@ override AS = msp430-gcc -x assembler-with-cpp
a12 1
 MD = mkdir -p $@@
d16 3
a18 3
 COMMON := $(LIB_OPTIONS)
 # make sure we can find our header files (not the installed ones)
@@@@ -88,8 +88,9 @@@@ build-crt: makedir-crt $(CRT_OBJS)
d22 1
a22 1
-install-crt: $(CRT_OBJS) ${libdir}
@


1.1.1.1
log
@Import mspgcc4, the toolchain for MSP430 MCUs. based on gnu gcc, binutils, gdb
with additional patches for msp430 support.

One will need an upcoming umodem.c commit by jakemsr@@, and an upcoming
mspdebug port in order to actually program the devices though.

feedback/ok aja@@

@
text
@@
