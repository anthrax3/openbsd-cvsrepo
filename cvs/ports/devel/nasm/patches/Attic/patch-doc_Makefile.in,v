head	1.9;
access;
symbols
	OPENBSD_4_9:1.8.0.6
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.8.0.4
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.8.0.2
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.7.0.4
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.2
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.6.0.2
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.3.0.14
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.12
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.10
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.8
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.6
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.2.0.8
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.6
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.4
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.1.0.10
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.8
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.6
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1
	OPENBSD_2_9:1.1.0.4
	OPENBSD_2_9_BASE:1.1
	OPENBSD_2_8:1.1.0.2
	OPENBSD_2_8_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2011.07.08.11.32.17;	author jasper;	state dead;
branches;
next	1.8;

1.8
date	2009.08.18.17.11.15;	author okan;	state Exp;
branches;
next	1.7;

1.7
date	2008.11.07.18.38.22;	author okan;	state Exp;
branches;
next	1.6;

1.6
date	2008.06.26.01.25.33;	author okan;	state Exp;
branches;
next	1.5;

1.5
date	2008.06.11.19.35.46;	author okan;	state Exp;
branches;
next	1.4;

1.4
date	2008.04.23.20.48.33;	author okan;	state Exp;
branches;
next	1.3;

1.3
date	2005.01.27.02.09.52;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2002.11.21.17.38.39;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2000.10.08.04.27.09;	author brad;	state Exp;
branches;
next	;


desc
@@


1.9
log
@- fix patch names, no binary change
@
text
@--- doc/Makefile.in.orig	Mon Jul 20 01:22:29 2009
+++ doc/Makefile.in	Wed Jul 22 21:34:37 2009
@@@@ -8,7 +8,7 @@@@ prefix		= @@prefix@@
 exec_prefix	= @@exec_prefix@@
 bindir		= @@bindir@@
 mandir		= @@mandir@@
-docdir		= $(prefix)/doc/nasm
+docdir		= $(prefix)/share/doc/nasm
 infodir		= @@infodir@@
 datarootdir	= @@datarootdir@@
 
@@@@ -27,12 +27,8 @@@@ PSTOPDF		= @@PSTOPDF@@		# BSD/MacOS X utility
 PS2PDF          = @@PS2PDF@@		# Part of GhostScript
 
 SRCS		= nasmdoc.src inslist.src changes.src
-OUT		= info html nasmdoc.txt nasmdoc.ps nasmdoc.pdf
+OUT		= info html nasmdoc.txt # nasmdoc.ps nasmdoc.pdf
 
-# exports
-export srcdir
-export PERL
-
 all: $(OUT)
 
 os2: nasm.inf
@@@@ -45,17 +41,17 @@@@ html: html/nasmdoc0.html
 
 html/nasmdoc0.html: $(SRCS) rdsrc.pl
 	mkdir -p html
-	$(PERL) $(srcdir)/rdsrc.pl html < $<
+	$(PERL) $(srcdir)/rdsrc.pl html < $(srcdir)/nasmdoc.src
 	mv -f *.html html
 
 nasmdoc.dip: $(SRCS) rdsrc.pl
-	$(PERL) $(srcdir)/rdsrc.pl dip < $<
+	$(PERL) $(srcdir)/rdsrc.pl dip < $(srcdir)/nasmdoc.src
 
 nasmdoc.texi: $(SRCS) rdsrc.pl
-	$(PERL) $(srcdir)/rdsrc.pl texi < $<
+	$(PERL) $(srcdir)/rdsrc.pl texi < $(srcdir)/nasmdoc.src
 
 nasmdoc.txt: $(SRCS) rdsrc.pl
-	$(PERL) $(srcdir)/rdsrc.pl txt < $<
+	$(PERL) $(srcdir)/rdsrc.pl txt < $(srcdir)/nasmdoc.src
 
 nasmdoc.ps: nasmdoc.dip nasmlogo.eps $(srcdir)/../version genpsdriver.pl \
 	    genps.pl psfonts.ph pswidth.ph head.ps
@@@@ -71,7 +67,7 @@@@ info: info/nasm.info
 
 info/nasm.info: nasmdoc.texi
 	mkdir -p info
-	$(MAKEINFO) $<
+	$(MAKEINFO) $?
 	mv -f *.info *.info-* info
 
 # DVI output from texinfo (optional)
@@@@ -80,13 +76,12 @@@@ nasmdoc.dvi: nasmdoc.texi
 
 # Rules for building an OS/2 book
 nasmdoc.ipf: nasmdoc.texi
-	$(TEXI2IPF) $< >$@@
+	$(TEXI2IPF) $? >$@@
 
 nasm.inf: nasmdoc.ipf
-	$(IPFC) -i -s $< $@@
+	$(IPFC) -i -s $? $@@
 
 clean:
-	-rm -f *.rtf *.hpj *.texi *.gid *.ipf *.dip
 	-rm -f *.aux *.cp *.fn *.ky *.pg *.log *.toc *.tp *.vr
 
 spotless: clean
@@@@ -99,4 +94,4 @@@@ install: all
 	$(INSTALL_DATA) info/* $(INSTALLROOT)$(infodir)
 	mkdir -p $(INSTALLROOT)$(docdir)/html
 	$(INSTALL_DATA) html/* $(INSTALLROOT)$(docdir)/html
-	$(INSTALL_DATA) nasmdoc.ps nasmdoc.pdf nasmdoc.txt $(INSTALLROOT)$(docdir)
+	$(INSTALL_DATA) internal.doc nasmdoc.txt $(INSTALLROOT)$(docdir)
@


1.8
log
@- update to 2.07
- moves to a BSD license
- slight alteration of port semantics

prodded and ok'd by maintainer

ok merdely@@
@
text
@@


1.7
log
@- update to 2.05.01, based on one from Gallon Sylvestre
- sync patches
- new homepage

ok brad
@
text
@d1 2
a2 2
--- doc/Makefile.in.orig	Wed Oct 29 13:57:33 2008
+++ doc/Makefile.in	Sun Nov  2 21:43:50 2008
d73 1
a73 1
@@@@ -98,4 +93,4 @@@@ install: all
d78 1
a78 1
+	$(INSTALL_DATA) nasmdoc.txt $(INSTALLROOT)$(docdir)
@


1.6
log
@update to 2.03.01

from Gallon Sylvestre - thanks!

ok merdely@@
@
text
@d1 3
a3 3
--- doc/Makefile.in.orig	Tue Jun 17 06:31:16 2008
+++ doc/Makefile.in	Tue Jun 17 15:12:31 2008
@@@@ -8,7 +8,7 @@@@
d12 2
a13 2
@@@@ -22,11 +22,8 @@@@
 PS2PDF          = ps2pdf		# Part of GhostScript
d15 1
a15 1
 SRCS		= nasmdoc.src
d22 1
a22 1
 
d25 2
a26 1
@@@@ -40,17 +37,17 @@@@
d28 1
a28 1
 html/nasmdoc0.html: nasmdoc.src rdsrc.pl inslist.src
d34 1
a34 1
 nasmdoc.dip: nasmdoc.src rdsrc.pl inslist.src
d38 1
a38 1
 nasmdoc.texi: nasmdoc.src rdsrc.pl inslist.src
d42 1
a42 1
 nasmdoc.txt: nasmdoc.src rdsrc.pl inslist.src
d48 1
a48 1
@@@@ -64,7 +61,7 @@@@
d57 1
a57 1
@@@@ -73,13 +70,12 @@@@
d61 2
a62 2
-	texi2ipf $< >$@@
+	texi2ipf $? >$@@
d65 2
a66 2
-	ipfc -i -s $< $@@
+	ipfc -i -s $? $@@
d73 1
a73 1
@@@@ -91,4 +87,4 @@@@
@


1.5
log
@update to 2.03 from Gallon Sylvestre - thanks!

ok merdely@@
@
text
@d1 2
a2 2
--- doc/Makefile.in.orig	Mon Jun  9 19:29:26 2008
+++ doc/Makefile.in	Tue Jun 10 20:30:52 2008
d16 2
a17 2
-OUT		= nasm.info nasmdoc.ps nasmdoc.pdf
+OUT		= nasm.info # nasmdoc.ps nasmdoc.pdf # don't build ps and pdf
d25 3
a27 3
@@@@ -38,7 +35,7 @@@@
 # Consider html, txt and ps output a side effect
 nasmdoc.dip: nasmdoc.src rdsrc.pl inslist.src
d29 2
a30 2
-	$(PERL) $(srcdir)/rdsrc.pl < $<
+	$(PERL) $(srcdir)/rdsrc.pl < $(srcdir)/nasmdoc.src
d33 15
a47 2
 nasmdoc.texi: nasmdoc.dip
@@@@ -55,7 +52,7 @@@@
d56 1
a56 1
@@@@ -64,13 +61,12 @@@@
d72 1
a72 1
@@@@ -82,4 +78,4 @@@@
@


1.4
log
@update to 2.02

based on a patch (and testing) from syl - thanks.

comments from sthen@@, brad@@ and ajacoutot@@

suggestions and ok brad@@
@
text
@d1 3
a3 4
$OpenBSD: patch-doc_Makefile.in,v 1.3 2005/01/27 02:09:52 naddy Exp $
--- doc/Makefile.in.orig	Tue Feb 19 14:08:57 2008
+++ doc/Makefile.in	Mon Apr 21 15:47:03 2008
@@@@ -8,7 +8,7 @@@@ prefix		= @@prefix@@
d12 1
a12 1
@@@@ -22,11 +22,8 @@@@ TEXI2DVI        = texi2dvi
d25 1
a25 1
@@@@ -38,7 +35,7 @@@@ inslist.src: inslist.pl ../insns.dat
d34 1
a34 1
@@@@ -55,7 +52,7 @@@@ nasm.info: info/nasm.info
d43 1
a43 1
@@@@ -64,13 +61,12 @@@@ nasmdoc.dvi: nasmdoc.texi
d59 1
a59 1
@@@@ -82,4 +78,4 @@@@ install: all
@


1.3
log
@Now that @@info transparently picks up all .info-* files, don't go through
extra steps to rebuild with --no-split.
@
text
@d1 14
a14 5
$OpenBSD: patch-doc_Makefile.in,v 1.2 2002/11/21 17:38:39 naddy Exp $
--- doc/Makefile.in.orig	Sun May 19 00:17:28 2002
+++ doc/Makefile.in	Thu Jan 27 02:41:55 2005
@@@@ -22,7 +22,7 @@@@ TEXI2DVI        = texi2dvi
 PS2PDF          = ps2pdf -dOptimize=true	# Part of GhostScript
d20 4
d26 1
a26 1
@@@@ -31,7 +31,7 @@@@ os2: nasm.inf
d28 1
a28 1
 nasmdoc.dip: nasmdoc.src rdsrc.pl
d35 1
a35 1
@@@@ -48,7 +48,7 @@@@ nasm.info: info/nasm.info
d44 1
a44 1
@@@@ -57,10 +57,10 @@@@ nasmdoc.dvi: nasmdoc.texi
d56 10
a65 1
 	-rm -f *.rtf *.hpj *.texi *.gid *.ipf *.dip
@


1.2
log
@update to 0.98.35; from cjeker@@diehard.n-r-g.com via angelos@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 8
+++ doc/Makefile.in	Thu Nov 21 18:23:44 2002
@@@@ -17,12 +17,12 @@@@ INSTALL_PROGRAM	= @@INSTALL_PROGRAM@@
 INSTALL_DATA	= @@INSTALL_DATA@@
 
 PERL		= perl
-MAKEINFO	= makeinfo
+MAKEINFO	= makeinfo --no-split
 TEXI2DVI        = texi2dvi
d22 1
a22 1
@@@@ -48,8 +48,8 @@@@ nasm.info: info/nasm.info
a26 1
-	mv -f *.info *.info-* info
d28 1
a28 1
+	mv -f *.info info
a30 1
 nasmdoc.dvi: nasmdoc.texi
@


1.1
log
@- split out patches
- stop splitting the info page
- add missing ONLY_FOR_ARCHS tag
- prefix HOMEPAGE with "WWW:" in DESCR
@
text
@d1 4
a4 3
--- doc/Makefile.in.orig	Thu Jun  3 16:24:51 1999
+++ doc/Makefile.in	Sat Oct  7 23:48:26 2000
@@@@ -17,7 +17,7 @@@@
d10 2
d14 8
a21 4
 OUT		= nasm.info
@@@@ -29,13 +29,13 @@@@
 # Consider html, txt and src output a side effect
 .src.texi:
d23 2
a24 2
-	$(PERL) ./rdsrc.pl < $<
+	$(PERL) ${srcdir}/rdsrc.pl < $<
d27 4
a30 1
 nasm.info: nasmdoc.texi
d34 15
a48 2
+	$(MAKEINFO) $>
+	mv -f *.info* info
d51 1
a51 1
 	-rm -f *.rtf *.hpj *.texi *.ph *.gid
@

