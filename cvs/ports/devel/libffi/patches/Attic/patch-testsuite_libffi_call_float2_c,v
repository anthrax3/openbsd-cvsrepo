head	1.3;
access;
symbols
	OPENBSD_5_5:1.2.0.14
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.12
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.10
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.1.1.0.4
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.2
	OPENBSD_4_7_BASE:1.1.1.1
	jasper_20090923:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2014.06.04.17.40.27;	author jasper;	state dead;
branches;
next	1.2;
commitid	1Q2YRNXbzPxCMReq;

1.2
date	2010.09.19.20.19.15;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2009.09.23.20.55.46;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.09.23.20.55.46;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- update to libffi-3.0.13 (an update to 3.1 will be worked on shortly)
- sync homepage

tested by many on nearly every supported architecture, thanks!

feedback/ok miod@@
@
text
@$OpenBSD: patch-testsuite_libffi_call_float2_c,v 1.2 2010/09/19 20:19:15 jasper Exp $

The %Lf printf format expects "long double", so cast args accordingly.

Patch from NetBSD.

--- testsuite/libffi.call/float2.c.orig	Tue Dec 29 16:22:26 2009
+++ testsuite/libffi.call/float2.c	Sun Sep 19 21:32:27 2010
@@@@ -45,7 +45,7 @@@@ int main (void)
   /* This is ifdef'd out for now. long double support under SunOS/gcc
      is pretty much non-existent.  You'll get the odd bus error in library
      routines like printf().  */
-  printf ("%Lf, %Lf, %Lf, %Lf\n", ld, ldblit(f), ld - ldblit(f), LDBL_EPSILON);
+  printf ("%Lf, %Lf, %Lf, %Lf\n", (long double)ld, (long double)ldblit(f), (long double)ld - ldblit(f), (long double)LDBL_EPSILON);
 #endif
 
   /* These are not always the same!! Check for a reasonable delta */
@


1.2
log
@- update libffi to 3.0.9
- remove unneeded patch
@
text
@d1 1
a1 1
$OpenBSD: patch-testsuite_libffi_call_float2_c,v 1.1.1.1 2009/09/23 20:55:46 jasper Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d7 3
a9 3
--- testsuite/libffi.call/float2.c.orig	Sat Sep 19 15:40:48 2009
+++ testsuite/libffi.call/float2.c	Sat Sep 19 15:41:30 2009
@@@@ -44,7 +44,7 @@@@ int main (void)
@


1.1.1.1
log
@import libffi 3.0.8

FFI stands for Foreign Function Interface. A foreign function interface
is the popular name for the interface that allows code written in one
language to call code written in another language. The libffi library
really only provides the lowest, machine dependent layer of a fully
featured foreign function interface. A layer must exist above libffi
that handles type conversions for values passed between the two
languages.

successfully tested on seven arches by me. other arches are disabled for now as
they need more work (mips64) or haven't been tested yet.
 
@
text
@@
