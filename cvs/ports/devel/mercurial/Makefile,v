head	1.79;
access;
symbols
	OPENBSD_6_1:1.68.0.4
	OPENBSD_6_1_BASE:1.68
	OPENBSD_6_0:1.68.0.2
	OPENBSD_6_0_BASE:1.68
	OPENBSD_5_9:1.66.0.2
	OPENBSD_5_9_BASE:1.66
	OPENBSD_5_8:1.62.0.4
	OPENBSD_5_8_BASE:1.62
	OPENBSD_5_7:1.61.0.2
	OPENBSD_5_7_BASE:1.61
	OPENBSD_5_6:1.60.0.2
	OPENBSD_5_6_BASE:1.60
	OPENBSD_5_5:1.59.0.2
	OPENBSD_5_5_BASE:1.59
	OPENBSD_5_4:1.55.0.2
	OPENBSD_5_4_BASE:1.55
	OPENBSD_5_3:1.51.0.2
	OPENBSD_5_3_BASE:1.51
	OPENBSD_5_2:1.48.0.2
	OPENBSD_5_2_BASE:1.48
	OPENBSD_5_1_BASE:1.43
	OPENBSD_5_1:1.43.0.2
	OPENBSD_5_0:1.40.0.2
	OPENBSD_5_0_BASE:1.40
	OPENBSD_4_9:1.35.0.2
	OPENBSD_4_9_BASE:1.35
	OPENBSD_4_8:1.26.0.2
	OPENBSD_4_8_BASE:1.26
	OPENBSD_4_7:1.23.0.2
	OPENBSD_4_7_BASE:1.23
	OPENBSD_4_6:1.19.0.2
	OPENBSD_4_6_BASE:1.19
	OPENBSD_4_5:1.16.0.2
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.12.0.2
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.5.0.4
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2
	avsm_28-May-2006:1.1.1.1
	avsm:1.1.1;
locks; strict;
comment	@# @;


1.79
date	2017.09.19.22.32.43;	author juanfra;	state Exp;
branches;
next	1.78;
commitid	2L3vjd4UD781DZS4;

1.78
date	2017.08.11.23.28.01;	author juanfra;	state Exp;
branches;
next	1.77;
commitid	HWI23YT0FD9DdYe6;

1.77
date	2017.08.10.19.40.58;	author juanfra;	state Exp;
branches;
next	1.76;
commitid	hhlSjGBxPuR7kWfL;

1.76
date	2017.07.19.22.16.56;	author juanfra;	state Exp;
branches;
next	1.75;
commitid	o5ep5Bkp9gJBLEfo;

1.75
date	2017.06.13.20.30.26;	author schwarze;	state Exp;
branches;
next	1.74;
commitid	ODcVno1zSmdLw8ZJ;

1.74
date	2017.06.11.01.11.03;	author juanfra;	state Exp;
branches;
next	1.73;
commitid	4HK3Ep4x9KkbVaea;

1.73
date	2017.05.06.16.45.34;	author juanfra;	state Exp;
branches;
next	1.72;
commitid	fBcoSfWP8pSo3MVQ;

1.72
date	2017.05.03.22.57.10;	author juanfra;	state Exp;
branches;
next	1.71;
commitid	f9W0JCutQnrgE3Fz;

1.71
date	2017.04.19.23.06.18;	author juanfra;	state Exp;
branches;
next	1.70;
commitid	1qP7E4ichKSYNrGr;

1.70
date	2017.04.19.22.54.32;	author juanfra;	state Exp;
branches;
next	1.69;
commitid	Q5ZVrjmxuYXSQvAh;

1.69
date	2017.04.17.05.10.17;	author rpointel;	state Exp;
branches;
next	1.68;
commitid	YmY10Qc3LnJkaoMe;

1.68
date	2016.06.14.19.58.05;	author kili;	state Exp;
branches
	1.68.4.1;
next	1.67;
commitid	VRBkVPvwNyHR6tjJ;

1.67
date	2016.06.14.09.47.43;	author czarkoff;	state Exp;
branches;
next	1.66;
commitid	j9LkMpFK1fSwuQ0b;

1.66
date	2015.12.03.10.07.57;	author rpointel;	state Exp;
branches
	1.66.2.1;
next	1.65;
commitid	a6kxpquPMd8cWDta;

1.65
date	2015.10.11.15.57.02;	author rpointel;	state Exp;
branches;
next	1.64;
commitid	DGRiyMAnn5WochDn;

1.64
date	2015.09.09.19.26.36;	author rpointel;	state Exp;
branches;
next	1.63;
commitid	Kncj8WwHTVR1LtAk;

1.63
date	2015.08.12.06.13.56;	author ajacoutot;	state Exp;
branches;
next	1.62;
commitid	qzhLD7SBGSp8yUhI;

1.62
date	2015.06.01.13.40.56;	author jasper;	state Exp;
branches;
next	1.61;
commitid	nYQtXqhoFm4tGQrH;

1.61
date	2014.12.21.20.44.08;	author rpointel;	state Exp;
branches
	1.61.2.1;
next	1.60;
commitid	f1gn2xM5ZWWcC5LS;

1.60
date	2014.05.19.19.15.44;	author rpointel;	state Exp;
branches;
next	1.59;

1.59
date	2014.01.19.17.52.47;	author rpointel;	state Exp;
branches;
next	1.58;

1.58
date	2013.12.30.09.19.02;	author rpointel;	state Exp;
branches;
next	1.57;

1.57
date	2013.11.08.11.45.03;	author rpointel;	state Exp;
branches;
next	1.56;

1.56
date	2013.09.05.11.20.18;	author edd;	state Exp;
branches;
next	1.55;

1.55
date	2013.07.09.10.00.00;	author rpointel;	state Exp;
branches;
next	1.54;

1.54
date	2013.06.03.07.55.02;	author rpointel;	state Exp;
branches;
next	1.53;

1.53
date	2013.05.16.09.09.30;	author rpointel;	state Exp;
branches;
next	1.52;

1.52
date	2013.03.11.10.50.11;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2013.01.09.11.54.38;	author rpointel;	state Exp;
branches;
next	1.50;

1.50
date	2012.12.12.06.07.14;	author rpointel;	state Exp;
branches;
next	1.49;

1.49
date	2012.09.08.08.00.45;	author rpointel;	state Exp;
branches;
next	1.48;

1.48
date	2012.06.12.07.16.43;	author rpointel;	state Exp;
branches;
next	1.47;

1.47
date	2012.05.11.05.32.50;	author rpointel;	state Exp;
branches;
next	1.46;

1.46
date	2012.04.30.17.01.02;	author rpointel;	state Exp;
branches;
next	1.45;

1.45
date	2012.03.20.19.55.38;	author rpointel;	state Exp;
branches;
next	1.44;

1.44
date	2012.03.19.06.16.22;	author rpointel;	state Exp;
branches;
next	1.43;

1.43
date	2011.11.16.15.00.52;	author rpointel;	state Exp;
branches;
next	1.42;

1.42
date	2011.09.16.09.24.52;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2011.08.30.16.33.52;	author rpointel;	state Exp;
branches;
next	1.40;

1.40
date	2011.07.18.19.32.53;	author rpointel;	state Exp;
branches;
next	1.39;

1.39
date	2011.07.06.17.37.27;	author rpointel;	state Exp;
branches;
next	1.38;

1.38
date	2011.06.08.17.40.08;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2011.05.09.08.01.37;	author fgsch;	state Exp;
branches;
next	1.36;

1.36
date	2011.03.28.00.11.34;	author fgsch;	state Exp;
branches;
next	1.35;

1.35
date	2011.01.10.21.46.11;	author rpointel;	state Exp;
branches;
next	1.34;

1.34
date	2011.01.05.17.20.13;	author rpointel;	state Exp;
branches;
next	1.33;

1.33
date	2010.11.22.00.19.37;	author fgsch;	state Exp;
branches;
next	1.32;

1.32
date	2010.11.15.19.46.00;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2010.10.18.17.47.54;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2010.10.09.22.50.31;	author benoit;	state Exp;
branches;
next	1.29;

1.29
date	2010.10.03.15.09.27;	author fgsch;	state Exp;
branches;
next	1.28;

1.28
date	2010.09.01.19.20.36;	author fgsch;	state Exp;
branches;
next	1.27;

1.27
date	2010.08.30.22.09.45;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2010.07.25.07.22.24;	author benoit;	state Exp;
branches;
next	1.25;

1.25
date	2010.06.15.17.20.27;	author fgsch;	state Exp;
branches;
next	1.24;

1.24
date	2010.05.03.20.23.08;	author wcmaier;	state Exp;
branches;
next	1.23;

1.23
date	2010.01.12.14.04.29;	author wcmaier;	state Exp;
branches;
next	1.22;

1.22
date	2009.12.02.16.19.31;	author wcmaier;	state Exp;
branches;
next	1.21;

1.21
date	2009.11.20.15.09.24;	author benoit;	state Exp;
branches;
next	1.20;

1.20
date	2009.08.01.03.21.46;	author fgsch;	state Exp;
branches;
next	1.19;

1.19
date	2009.04.26.16.27.36;	author wcmaier;	state Exp;
branches;
next	1.18;

1.18
date	2009.04.24.12.23.14;	author wcmaier;	state Exp;
branches;
next	1.17;

1.17
date	2009.03.15.12.49.35;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2009.01.02.13.07.37;	author djm;	state Exp;
branches;
next	1.15;

1.15
date	2009.01.01.17.27.22;	author wcmaier;	state Exp;
branches;
next	1.14;

1.14
date	2008.12.29.20.04.59;	author wcmaier;	state Exp;
branches;
next	1.13;

1.13
date	2008.08.24.11.24.24;	author wcmaier;	state Exp;
branches;
next	1.12;

1.12
date	2008.05.23.15.03.12;	author wcmaier;	state Exp;
branches;
next	1.11;

1.11
date	2008.05.13.12.02.54;	author fgsch;	state Exp;
branches;
next	1.10;

1.10
date	2008.03.26.20.43.44;	author landry;	state Exp;
branches;
next	1.9;

1.9
date	2007.11.28.16.13.46;	author okan;	state Exp;
branches;
next	1.8;

1.8
date	2007.10.08.08.22.39;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2007.10.05.02.00.45;	author merdely;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.16.02.53.01;	author merdely;	state Exp;
branches;
next	1.5;

1.5
date	2006.12.23.04.17.20;	author jolan;	state Exp;
branches;
next	1.4;

1.4
date	2006.10.09.14.29.54;	author aanriot;	state Exp;
branches;
next	1.3;

1.3
date	2006.09.22.04.22.26;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2006.06.03.12.39.30;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2006.05.28.15.39.59;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.05.28.15.39.59;	author avsm;	state Exp;
branches;
next	;

1.61.2.1
date	2015.06.01.13.41.26;	author jasper;	state Exp;
branches;
next	;
commitid	4Vb5ohCGYhyVXPYJ;

1.66.2.1
date	2016.06.27.16.39.28;	author jasper;	state Exp;
branches;
next	;
commitid	TTxpUw5imnimb97H;

1.68.4.1
date	2017.04.19.22.48.51;	author juanfra;	state Exp;
branches;
next	1.68.4.2;
commitid	9xvHFFV85re4Um5m;

1.68.4.2
date	2017.04.28.02.25.36;	author juanfra;	state Exp;
branches;
next	1.68.4.3;
commitid	NFkqugsgABCuQZob;

1.68.4.3
date	2017.08.10.19.36.59;	author juanfra;	state Exp;
branches;
next	;
commitid	Ey1GPbsYyyjeab8r;


desc
@@


1.79
log
@Update to mercurial 4.3.2.
@
text
@# $OpenBSD: Makefile,v 1.78 2017/08/11 23:28:01 juanfra Exp $

COMMENT-main =		fast, lightweight source control management
COMMENT-x11 =		graphical tooling for mercurial

# Keep in sync with devel/tortoisehg and devel/py-hg-git
MODPY_EGG_VERSION =	4.3.2
DISTNAME =		mercurial-${MODPY_EGG_VERSION}
CATEGORIES =		devel

PKGNAME-main =		${DISTNAME}
PKGNAME-x11 =		mercurial-x11-${MODPY_EGG_VERSION}

HOMEPAGE =		https://www.mercurial-scm.org

MAINTAINER =		Juan Francisco Cantero Hurtado <juanfra@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =		${HOMEPAGE}/release/

MODULES =		lang/python x11/tk
USE_GMAKE =		Yes

MULTI_PACKAGES =	-main -x11

BUILD_DEPENDS =		devel/gettext-tools
TEST_DEPENDS =		${RUN_DEPENDS} \
			archivers/unzip \
			devel/git
RUN_DEPENDS-x11 +=	${BASE_PKGPATH},-main \
			${MODTK_RUN_DEPENDS}

FILES =			hgeditor hgweb.cgi

CONTRIBFILES =		bash_completion mercurial.el \
			tcsh_completion zsh_completion \
			mq.el

CONTRIBDIRS =		hgsh vim
SCRIPTS =		hg-ssh hgk \
			tcsh_completion_build.sh dumprevlog \
			undumprevlog simplemerge

WANTLIB-main +=		${MODPY_WANTLIB} c pthread
WANTLIB-x11 =
PKG_ARCH-x11 =		*

MODPY_ADJ_FILES =	hgweb.cgi \
			contrib/dumprevlog \
			contrib/hg-ssh \
			contrib/simplemerge \
			contrib/undumprevlog
pre-configure:
	${MODTCL_WISH_ADJ} ${WRKSRC}/contrib/hgk

post-build:
	cd ${WRKSRC}/contrib/chg && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM}

post-install:
	${INSTALL_MAN} ${WRKSRC}/contrib/chg/chg.1 ${PREFIX}/man/man1
	${INSTALL_MAN} ${WRKSRC}/doc/hg.1 ${PREFIX}/man/man1
	${INSTALL_MAN} ${WRKSRC}/doc/hgignore.5 ${PREFIX}/man/man5
	${INSTALL_MAN} ${WRKSRC}/doc/hgrc.5 ${PREFIX}/man/man5
	${INSTALL_DATA_DIR} ${PREFIX}/share/mercurial/
	${INSTALL_PROGRAM} ${WRKSRC}/contrib/chg/chg ${PREFIX}/bin
	${INSTALL_SCRIPT} ${WRKSRC}/hgeditor ${PREFIX}/share/mercurial
.	for file in ${FILES}
		${INSTALL_DATA} ${WRKSRC}/${file} \
			${PREFIX}/share/mercurial
.	endfor
.	for file in ${CONTRIBFILES}
		${INSTALL_DATA} ${WRKSRC}/contrib/${file} \
			${PREFIX}/share/mercurial
.	endfor
.	for dir in ${CONTRIBDIRS}
		${INSTALL_DATA_DIR} ${PREFIX}/share/mercurial/${dir}
		${INSTALL_DATA} ${WRKSRC}/contrib/${dir}/* \
			${PREFIX}/share/mercurial/${dir}
.	endfor
.	for script in ${SCRIPTS}
		${INSTALL_SCRIPT} ${WRKSRC}/contrib/${script} \
			${PREFIX}/share/mercurial
.	endfor
	# hgk needs to be in the path for 'hg view' to work
	ln -s ${TRUEPREFIX}/share/mercurial/hgk ${PREFIX}/bin/hgk

do-test:
	@@cd ${WRKSRC}/tests && ${MODPY_BIN} run-tests.py -v 1>&2

.include <bsd.port.mk>
@


1.78
log
@Update to mercurial 4.3.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2017/08/10 19:40:58 juanfra Exp $
d7 1
a7 1
MODPY_EGG_VERSION =	4.3.1
@


1.77
log
@Update to mercurial 4.2.3.

https://www.mercurial-scm.org/pipermail/mercurial/2017-August/050522.html

CVE-2017-1000115:

Mercurial's symlink auditing was incomplete prior to 4.3, and could be abused
to write to files outside the repository.

CVE-2017-1000116:

Mercurial was not sanitizing hostnames passed to ssh, allowing shell injection
attacks by specifying a hostname starting with -oProxyCommand.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2017/07/19 22:16:56 juanfra Exp $
d7 1
a7 1
MODPY_EGG_VERSION =	4.2.3
@


1.76
log
@Update to mercurial 4.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2017/06/13 20:30:26 schwarze Exp $
d7 1
a7 1
MODPY_EGG_VERSION =	4.2.2
a12 1
REVISION-main =		0
@


1.75
log
@mandoc handles reStructuredText output now, drop USE_GROFF and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2017/06/11 01:11:03 juanfra Exp $
d7 1
a7 1
MODPY_EGG_VERSION =	4.2.1
@


1.74
log
@Update to mercurial 4.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2017/05/06 16:45:34 juanfra Exp $
d13 1
a24 1
USE_GROFF =		Yes
@


1.73
log
@Comments.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2017/05/03 22:57:10 juanfra Exp $
d7 1
a7 1
MODPY_EGG_VERSION =	4.2
@


1.72
log
@Update to mercurial 4.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2017/04/19 23:06:18 juanfra Exp $
d6 1
@


1.71
log
@Spaces/tabs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2017/04/19 22:54:32 juanfra Exp $
d6 1
a6 1
MODPY_EGG_VERSION =	4.1.3
@


1.70
log
@Update to mercurial 4.1.3.

SECURITY: "hg serve --stdio could be tricked into granting authorized
users access to the Python debugger"

"dispatch: protect against malicious 'hg serve --stdio' invocations
(sec) Some shared-ssh installations assume that 'hg serve --stdio' is
a safe command to run for minimally trusted users. Unfortunately, the
messy implementation of argument parsing here meant that trying to
access a repo named '--debugger' would give the user a pdb prompt,
thereby sidestepping any hoped-for sandboxing. Serving repositories
over HTTP(S) is unaffected.

We're not currently hardening any subcommands other than 'serve'. If
your service exposes other commands to users with arbitrary repository
names, it is imperative that you defend against repository names of
'--debugger' and anything starting with '--config'.

The read-only mode of hg-ssh stopped working because it provided its
hook configuration to "hg serve --stdio" via --config parameter. This
is banned for security reasons now. This patch switches it to directly
call ui.setconfig(). If your custom hosting infrastructure relies on
passing --config to "hg serve --stdio", you'll need to find a
different way to get that configuration into Mercurial, either by
using ui.setconfig() as hg-ssh does in this patch, or by placing an
hgrc file someplace where Mercurial will read it. mitrandir@@fb.com
provided some extra fixes for the dispatch code and for hg-ssh in
places that I overlooked."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2017/04/17 05:10:17 rpointel Exp $
d6 1
a6 1
MODPY_EGG_VERSION =    4.1.3
d8 1
a8 1
CATEGORIES =     	devel
d13 1
a13 1
HOMEPAGE =		http://www.mercurial-scm.org
d24 1
a24 1
USE_GMAKE =        Yes
d29 1
a29 1
TEST_DEPENDS =	${RUN_DEPENDS} \
@


1.69
log
@update mercurial to 4.1.2.
initial diff from juanfra@@, who is the new maintainer.
ok juanfra@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2016/06/14 19:58:05 kili Exp $
d6 1
a6 1
MODPY_EGG_VERSION =    4.1.2
@


1.68
log
@Set HOMEPAGE to http://www.mercurial-scm.org and use it for
MASTER_SITES, too.

mercurial.selenic.com doesn't resolve, making it impossible to fetch
the distfile, and http://www.selenic.com/mercurial/ (former HOMEPAGE)
redirects to http://www.mercurial-scm.org, anyway.

ok rpointel@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2016/06/14 09:47:43 czarkoff Exp $
d6 1
a6 1
MODPY_EGG_VERSION =	3.8.3
a12 3
REVISION-main =		0
REVISION-x11 =		0

d15 1
a15 1
MAINTAINER =		Remi Pointel <rpointel@@openbsd.org>
d24 1
d46 1
a46 1
WANTLIB-main +=		${MODPY_WANTLIB} pthread
a50 1
			contrib/convert-repo \
d58 3
d62 1
d67 1
@


1.68.4.1
log
@SECURITY: "hg serve --stdio could be tricked into granting authorized
users access to the Python debugger"

"dispatch: protect against malicious 'hg serve --stdio' invocations
(sec)

Some shared-ssh installations assume that 'hg serve --stdio' is a safe
command to run for minimally trusted users. Unfortunately, the messy
implementation of argument parsing here meant that trying to access a
repo named '--debugger' would give the user a pdb prompt, thereby
sidestepping any hoped-for sandboxing. Serving repositories over
HTTP(S) is unaffected.

We're not currently hardening any subcommands other than 'serve'. If
your service exposes other commands to users with arbitrary repository
names, it is imperative that you defend against repository names of
'--debugger' and anything starting with '--config'.

The read-only mode of hg-ssh stopped working because it provided its
hook configuration to "hg serve --stdio" via --config parameter. This
is banned for security reasons now. This patch switches it to directly
call ui.setconfig(). If your custom hosting infrastructure relies on
passing --config to "hg serve --stdio", you'll need to find a
different way to get that configuration into Mercurial, either by
using ui.setconfig() as hg-ssh does in this patch, or by placing an
hgrc file someplace where Mercurial will read it."

Changes backported from 4.1.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2016/06/14 19:58:05 kili Exp $
d13 1
a13 1
REVISION-main =		1
d18 1
a18 1
MAINTAINER =		Juan Francisco Cantero Hurtado <juanfra@@openbsd.org>
@


1.68.4.2
log
@My previous patch fixed the security bug but broke some commands.

Bug report and patch by Cedric Krier.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68.4.1 2017/04/19 22:48:51 juanfra Exp $
d13 1
a13 1
REVISION-main =		2
@


1.68.4.3
log
@Update to mercurial 4.2.3.

https://www.mercurial-scm.org/pipermail/mercurial/2017-August/050522.html

CVE-2017-1000115:

Mercurial's symlink auditing was incomplete prior to 4.3, and could be abused
to write to files outside the repository.

CVE-2017-1000116:

Mercurial was not sanitizing hostnames passed to ssh, allowing shell injection
attacks by specifying a hostname starting with -oProxyCommand.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2017/07/19 22:16:56 juanfra Exp $
d6 1
a6 2
# Keep in sync with devel/tortoisehg and devel/py-hg-git
MODPY_EGG_VERSION =	4.2.3
d8 1
a8 1
CATEGORIES =		devel
d13 4
a16 1
HOMEPAGE =		https://www.mercurial-scm.org
a26 1
USE_GMAKE =		Yes
d31 1
a31 1
TEST_DEPENDS =		${RUN_DEPENDS} \
d48 1
a48 1
WANTLIB-main +=		${MODPY_WANTLIB} c pthread
d53 1
a60 3
post-build:
	cd ${WRKSRC}/contrib/chg && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM}

a61 1
	${INSTALL_MAN} ${WRKSRC}/contrib/chg/chg.1 ${PREFIX}/man/man1
a65 1
	${INSTALL_PROGRAM} ${WRKSRC}/contrib/chg/chg ${PREFIX}/bin
@


1.67
log
@update to mercurial-3.8.3

Fixes:

CVE-2016-3630 Mercurial: remote code execution in binary delta decoding
CVE-2016-3068 Mercurial: arbitrary code execution with Git subrepos
CVE-2016-3069 Mercurial: arbitrary code execution when converting Git repos
CVE-2016-3105 Mercurial: arbitrary code execution when converting Git repos

OK rpointel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2015/12/03 10:07:57 rpointel Exp $
d13 4
a16 1
HOMEPAGE =		http://www.selenic.com/mercurial/
d23 1
a23 1
MASTER_SITES =		http://mercurial.selenic.com/release/
@


1.66
log
@update mercurial to 3.6.1.
ok benoit@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2015/10/11 15:57:02 rpointel Exp $
d6 1
a6 1
MODPY_EGG_VERSION =	3.6.1
@


1.66.2.1
log
@security fixes for CVE-2016-3069, CVE-2016-3105, CVE-2016-3630, CVE-2016-3068

ok rpointel@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2015/12/03 10:07:57 rpointel Exp $
a6 1
REVISION-main =		0
@


1.65
log
@update mercurial to 3.5.2.
ok aja@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2015/09/09 19:26:36 rpointel Exp $
d6 1
a6 1
MODPY_EGG_VERSION =	3.5.2
@


1.64
log
@update mercurial to 3.5.1.
ok and tweaks nigel@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2015/08/12 06:13:56 ajacoutot Exp $
d6 1
a6 1
MODPY_EGG_VERSION =	3.5.1
@


1.63
log
@Needs devel/gettext-tools.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2015/06/01 13:40:56 jasper Exp $
d6 1
a6 2
MODPY_EGG_VERSION =	3.2.3
REVISION-main =		0
d38 1
a38 1
			mergetools.hgrc mq.el
@


1.62
log
@Security fix for CVE-2014-9462

ok rpointel@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2014/12/21 20:44:08 rpointel Exp $
d28 1
a28 1
BUILD_DEPENDS =		devel/gettext
@


1.61
log
@update mercurial to 3.2.3.
ok shadchin@@ (thanks).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/05/19 19:15:44 rpointel Exp $
d6 2
a7 1
MODPY_EGG_VERSION =    3.2.3
@


1.61.2.1
log
@Security fix for CVE-2014-9462

ok rpointel@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2014/12/21 20:44:08 rpointel Exp $
d6 1
a6 2
MODPY_EGG_VERSION =	3.2.3
REVISION-main =		0
@


1.60
log
@Update mercurial to 3.0, from Seth Jackson <sethjackson@@gmail.com> (thanks).
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/01/19 17:52:47 rpointel Exp $
d6 1
a6 1
MODPY_EGG_VERSION =    3.0
d36 1
a36 1
CONTRIBFILES =		bash_completion mercurial.el sample.hgrc \
d41 1
a41 1
SCRIPTS =		convert-repo hg-ssh hgk \
@


1.59
log
@Update Mercurial to 2.8.2.
Changelog: http://mercurial.selenic.com/wiki/WhatsNew#Mercurial_2.8.2_.282014-1-1.29
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/12/30 09:19:02 rpointel Exp $
d6 1
a6 1
MODPY_EGG_VERSION =	2.8.2
@


1.58
log
@Update mercurial to 2.8.1 (bugfix release).
Details: http://mercurial.selenic.com/wiki/WhatsNew#Mercurial_2.8.1_.282013-12-1.29
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/11/08 11:45:03 rpointel Exp $
d6 1
a6 1
MODPY_EGG_VERSION =	2.8.1
@


1.57
log
@Update mercurial to 2.8.
ok sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/09/05 11:20:18 edd Exp $
d6 1
a6 1
MODPY_EGG_VERSION =	2.8
@


1.56
log
@Several tweaks to the mercurial port:

 * Make graphical tooling for mercurial a subpackage (like the git port).
 * Bump all RUN/LIB dependants of mercurial to reflect new pkgpath.
 * Make 'hg view' work without custom paths in hgrc.
 * Substitute some shebangs in the example mercurial scripts.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/07/09 10:00:00 rpointel Exp $
d6 1
a6 1
MODPY_EGG_VERSION =	2.6.3
a8 1
REVISION-main =		0
@


1.55
log
@Update mercurial to 2.6.3.
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/06/03 07:55:02 rpointel Exp $
d3 2
a4 1
COMMENT =		fast, lightweight source control management
d9 4
d23 1
a23 1
MODULES =		lang/python
d26 2
d32 2
d46 12
a57 1
WANTLIB +=		${MODPY_WANTLIB} pthread
d82 2
@


1.54
log
@Minor update for Mercurial from 2.6.1 to 2.6.2.
Changelog: http://mercurial.selenic.com/wiki/WhatsNew#Mercurial_2.6.2_.282013-06-01.29
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/05/16 09:09:30 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.6.2
@


1.53
log
@Update mercurial to 2.6.1, from Samir SAADA (thanks).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/03/11 10:50:11 espie Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.6.1
@


1.52
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/01/09 11:54:38 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.4.2
@


1.51
log
@Update mercurial to 2.4.2 and regen patch.
ok benoit@@ sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/12/12 06:07:14 rpointel Exp $
a14 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =	Yes
d22 1
a22 1
REGRESS_DEPENDS =	${RUN_DEPENDS} \
d63 1
a63 1
do-regress:
@


1.50
log
@Update mercurial to 2.4.
ok landry@@, thanks to Samir Saada to have tested on loongson.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/09/08 08:00:45 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.4
@


1.49
log
@Update mercurial to 2.3.1 and take maintainership (wcmaier didn't use it).
ok wcmaier@@ (old maintainer), landry@@ and jim@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/06/12 07:16:43 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.3.1
@


1.48
log
@Update mercurial to 2.2.2, ok landry@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2012/05/11 05:32:50 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.2.2
d11 1
a11 1
MAINTAINER =		Will Maier <wcmaier@@openbsd.org>
d40 1
a40 1
WANTLIB +=		${MODPY_WANTLIB}
@


1.47
log
@Update mercurial to 2.2.1.
ok wcmaier@@ (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/04/30 17:01:02 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.2.1
@


1.46
log
@Update mercurial to 2.1.2.
ok wcmaier@@ (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/03/20 19:55:38 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.1.2
@


1.45
log
@Update mercurial to 2.1.1.
looks good wcmaier@@ (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/03/19 06:16:22 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.1.1
d27 1
a27 1
			textproc/gsed
@


1.44
log
@MASTER_SITES has changed (previous still works but has a 301 status code).
Information from Stefan Koerner (thanks).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/11/16 15:00:52 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.0
d26 2
a27 1
			archivers/unzip
@


1.43
log
@Update mercurial to 2.0.
ok wcmaier@@ (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/09/16 09:24:52 espie Exp $
d19 1
a19 1
MASTER_SITES =		http://www.selenic.com/mercurial/release/
@


1.42
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/08/30 16:33:52 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.9.2
a7 1
REVISION=		0
@


1.41
log
@Update mercurial to 1.9.2.
ok wcmaier@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/07/18 19:32:53 rpointel Exp $
d8 1
@


1.40
log
@bump revision, package built was wrong (du to  recent changes concerning fcntl.h).
ok naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/07/06 17:37:27 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.9
a6 1
REVISION =		0
@


1.39
log
@Update mercurial to 1.9. Added WANTLIB += ${MODPY_WANTLIB}.
ok wcmaier@@ (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/06/08 17:40:08 jasper Exp $
d7 1
@


1.38
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/05/09 08:01:37 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.8.3
a7 1
REVISION =		0
d38 2
@


1.37
log
@Update to 1.8.3.
wcmaier (maintainer) ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/03/28 00:11:34 fgsch Exp $
d8 1
@


1.36
log
@Update to mercurial 1.8.1.
Original diff by me, better one supplied by Samir SAADA in ports@@
wcmaier@@ (maintainer) ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/01/10 21:46:11 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.8.1
@


1.35
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/01/05 17:20:13 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.7.3
a37 8

# Zap rst2man gunk that confuses nroff/mandoc.
post-build:
.	for file in hg.1 hgignore.5 hgrc.5
	@@cd ${WRKSRC}/doc && \
		mv ${file} ${file}.orig && \
		sed -e '/rst2man-indent-level/,/^\.SH/d' < ${file}.orig > ${file}
.	endfor
@


1.34
log
@Update mercurial to 1.7.3.
Removed USE_GROFF, not necessary.
ok wcmaier@@ (MAINTAINER).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/11/22 00:19:37 fgsch Exp $
d22 1
@


1.33
log
@Update to mercurial 1.7.1. wcmaier@@ (maintainer) ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/11/15 19:46:00 espie Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.7.1
a21 1
USE_GROFF =		Yes
@


1.32
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/10/18 17:47:54 espie Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.6.4
@


1.31
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/10/09 22:50:31 benoit Exp $
d22 1
a22 1
USE_GROFF =	Yes
d24 1
a24 1
BUILD_DEPENDS =		::devel/gettext
d26 1
a26 1
			::archivers/unzip
@


1.30
log
@Update mercurial to 1.6.4

ok wcmaier@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/10/03 15:09:27 fgsch Exp $
d22 1
@


1.29
log
@Add gettext as RUN_DEPENDS as is required to build the .mo files.
wcmaier@@ (maintainer) ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/09/01 19:20:36 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.6.3
a7 1
REVISION =		0
@


1.28
log
@Update to 1.6.3. wcmaier@@ jasper@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/08/30 22:09:45 jasper Exp $
d8 2
d24 1
@


1.27
log
@bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/07/25 07:22:24 benoit Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.6
a6 1
REVISION =		0
d20 1
a20 2
MODULES =		lang/python \
			devel/gettext
@


1.26
log
@- update mercurial to 1.6
- regen PLIST

ok wcmaier@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/06/15 17:20:27 fgsch Exp $
d7 1
@


1.25
log
@Update to 1.5.4. ok maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/05/03 20:23:08 wcmaier Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.5.4
d26 1
a26 1
FILES =			hgeditor hgweb.cgi hgwebdir.cgi
d29 1
a29 1
			tcsh_completion zsh_completion hgwebdir.fcgi \
d32 2
a33 2
CONTRIBDIRS =		git-viz hgsh vim
SCRIPTS =		convert-repo hg-ssh hgdiff hgk \
d35 1
a35 1
			undumprevlog rewrite-log simplemerge
@


1.24
log
@Update to newly released 1.5.2.

Based on patches and tests from Samir SAADA <zepard at gmail.com> and Vivien MOREAU
<vpm at serengetty.fr>. While here, fix rst2man gunk in man pages (noticed
by nicm@@ and Robert Bronsdon <reashlin at gmail.com>, fix from nicm@@ and
schwarze@@). Thanks for all the help!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/01/12 14:04:29 wcmaier Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.5.2
@


1.23
log
@Update to 1.4.2.

Diff from Max Varencov <admin at phpcode dot us> -- thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/12/02 16:19:31 wcmaier Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.4.2
d23 2
a24 1
REGRESS_DEPENDS =	::archivers/unzip
d36 8
@


1.22
log
@Update to 1.4.1.

Use gettext MODULE, reported by jasper@@. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/11/20 15:09:24 benoit Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.4.1
@


1.21
log
@- update mercurial to 1.4

ok wcmaier@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/08/01 03:21:46 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.4
d20 2
a21 1
MODULES =		lang/python
@


1.20
log
@Update to 1.3.1.  martynas@@ wcmaier@@ ok
While I'm here, add spaces around =.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/04/26 16:27:36 wcmaier Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.3.1
d33 1
a33 1
			undumprevlog hg-relink rewrite-log simplemerge
@


1.19
log
@Fix build (pointed out by naddy@@, thanks).

Upstream bug (now fixed) sets MODPY_EGG_VERSION=unknown, so we have to
use that for now. Also, locale stuffs moved to i18n module. No bump
because it didn't package anyway. Sigh.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/04/24 12:23:14 wcmaier Exp $
d3 1
a3 1
COMMENT=		fast, lightweight source control management
d5 4
a8 4
MODPY_EGG_VERSION=	unknown
DISTNAME=		mercurial-1.2.1
CATEGORIES=     	devel
HOMEPAGE=		http://www.selenic.com/mercurial/
d10 1
a10 1
MAINTAINER=		Will Maier <wcmaier@@openbsd.org>
d13 4
a16 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d18 1
a18 1
MASTER_SITES=		http://www.selenic.com/mercurial/release/
d20 1
a20 1
MODULES=		lang/python
d22 1
a22 1
REGRESS_DEPENDS=	::archivers/unzip
d24 1
a24 1
FILES=			hgeditor hgweb.cgi hgwebdir.cgi
d26 1
a26 1
CONTRIBFILES=		bash_completion mercurial.el sample.hgrc \
d30 2
a31 2
CONTRIBDIRS=		git-viz hgsh vim
SCRIPTS=		convert-repo hg-ssh hgdiff hgk \
@


1.18
log
@Update to Mercurial 1.2.1 (long overdue): bugfixes and small features.

Thanks to Simon Kuhnle for testing!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/03/15 12:49:35 espie Exp $
d5 2
a6 2
MODPY_EGG_VERSION=	1.2.1
DISTNAME=		mercurial-${MODPY_EGG_VERSION}
@


1.17
log
@A few python deps updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/01/02 13:07:37 djm Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	1.1.2
a6 1
PKGNAME=		${DISTNAME}p1
@


1.16
log
@remove dependencies on removed python subpackages; prodded by sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/01/01 17:27:22 wcmaier Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.15
log
@Update to 1.1.2 (SECURITY).

Prevent malicious clients from overwriting repo config file (and a
few other bug fixes).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/12/29 20:04:59 wcmaier Exp $
d7 1
d23 1
a23 2
REGRESS_DEPENDS=	:python-bz2-*:lang/python/${MODPY_VERSION},-bz2 \
			::archivers/unzip
@


1.14
log
@Update to mercurial 1.1.

Lots of testing (and prods) from Simon Kuhnle <simon at blarzwurst dot de>
and Vadim Zhukov <persgray at gmail dot com>. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/08/24 11:24:24 wcmaier Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	1.1.1
@


1.13
log
@Update to 1.0.2.

While here, switch to MODPY_EGG_VERSION, too.

ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/05/23 15:03:12 wcmaier Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	1.0.2
d32 3
a34 2
SCRIPTS=		convert-repo darcs2hg.py hg-ssh hgdiff hgk \
			tcsh_completion_build.sh
@


1.12
log
@Update to the newly released 1.0.1.

Add 'v2' to license marker, update mail address and add unzip to
REGRESS_DEPENDS while here.

ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/05/13 12:02:54 fgsch Exp $
d5 2
a6 2
VERSION=		1.0.1
DISTNAME=		mercurial-${VERSION}
a21 1
SUBST_VARS+=		VERSION
@


1.11
log
@install hgweb.cgi and hgwebdir.cgi; wcmaier@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/03/26 20:43:44 landry Exp $
d5 1
a5 1
VERSION=		1.0
a6 1
PKGNAME=		${DISTNAME}p0
d10 1
a10 1
MAINTAINER=		Will Maier <willmaier@@ml1.net>
d12 1
a12 1
# GPL
d23 2
a24 1
REGRESS_DEPENDS=	:python-bz2-*:lang/python/${MODPY_VERSION},-bz2
@


1.10
log
@Update to mercurial 1.0, enable regress tests.
From Will Maier (MAINTAINER), tested by myself.

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/11/28 16:13:46 okan Exp $
d7 1
d26 2
d42 4
@


1.9
log
@- maintenance update to 0.9.5 from Will Maier (MAINTAINER)
- clean-up just a bit from me

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/10/08 08:22:39 steven Exp $
d5 2
a6 1
DISTNAME=		mercurial-0.9.5
d22 2
a23 2
# Many regress tests broken on OpenBSD.
NO_REGRESS=		Yes
d26 3
a28 1
			tcsh_completion zsh_completion
a35 1
	${INSTALL_MAN} ${WRKSRC}/doc/hgmerge.1 ${PREFIX}/man/man1
d38 1
d52 3
@


1.8
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/10/05 02:00:45 merdely Exp $
d5 1
a5 2
DISTNAME=		mercurial-0.9.4
PKGNAME=		${DISTNAME}p0
d24 6
d36 13
a48 10
.for file in bash_completion mercurial.el sample.hgrc tcsh_completion zsh_completion
	${INSTALL_DATA} ${WRKSRC}/contrib/${file} ${PREFIX}/share/mercurial/.
.endfor
.for script in convert-repo darcs2hg.py hg-ssh hgdiff hgk tcsh_completion_build.sh
	${INSTALL_SCRIPT} ${WRKSRC}/contrib/${script} ${PREFIX}/share/mercurial/.
.endfor
.for dir in git-viz hgsh vim
	@@cp -rp ${WRKSRC}/contrib/${dir} ${PREFIX}/share/mercurial/.
	@@chown ${SHAREOWN}:${SHAREGRP} ${PREFIX}/share/mercurial/${dir}/*
.endfor
@


1.7
log
@Update to 0.9.4.
From Will Maier (MAINTAINER)
ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/09/16 02:53:01 merdely Exp $
d6 1
@


1.6
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/12/23 04:17:20 jolan Exp $
d5 1
a5 1
DISTNAME=		mercurial-0.9.3
a18 1
USE_GMAKE=		Yes
d36 1
a36 1
.for dir in git-viz hgsh purge vim
@


1.5
log
@update to 0.9.3, from maintainer will maier
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/10/09 14:29:54 aanriot Exp $
d3 1
a3 1
COMMENT=		"fast, lightweight source control management"
@


1.4
log
@Fix ownership problems.

ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/09/22 04:22:26 pvalchev Exp $
d5 1
a5 3
VERSION=		0.9.1
DISTNAME=		mercurial-${VERSION}
PKGNAME=		${DISTNAME}p0
d21 3
a23 1
# REGRESS_TARGET= tests  # Currently incompatible with BSD merge
@


1.3
log
@Update to mercurial-0.9.1, from new maintainer Will Maier <willmaier@@ml1.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/06/03 12:39:30 steven Exp $
d7 1
d39 1
a40 1

@


1.2
log
@bump PKGNAME after switch to python 2.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/05/28 15:39:59 avsm Exp $
d5 1
a5 1
VERSION=		0.9
a6 1
PKGNAME=		${DISTNAME}p0
d10 2
d22 1
a22 1
# REGRESS_TARGET= tests  # (some tests also fail on Linux)
d29 11
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@initial import of mercurial-0.9
--

Mercurial is a distributed version control system which features:

o Extremely high-performance delta-compressed storage scheme.
o Optimized for disk layout and access efficiency.
o Complete cross-indexing of files and changesets.
o Bandwidth and CPU efficient HTTP and SSH sync protocols.
o Distributed development model supports unlimited numbers of
  developers.
o Allows arbitrary merging between developer branches.
o Doesn't significantly degrade with large numbers of files or
  changesets.
o No waiting for locks!
o SHA1 integrity checking on repository data.
o Append-only storage model with transaction journalling.
o Fast full-repository verification.

@
text
@@
