head	1.5;
access;
symbols
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.6
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3;
locks; strict;
comment	@# @;


1.5
date	2016.06.06.22.27.37;	author gsoares;	state dead;
branches;
next	1.4;
commitid	m1AGkYeL3q9xV9m5;

1.4
date	2016.01.13.12.38.48;	author gsoares;	state Exp;
branches;
next	1.3;
commitid	MNhibiAYGJK3Y8Un;

1.3
date	2015.01.07.04.15.51;	author jsg;	state Exp;
branches;
next	1.2;
commitid	SnQoNPsV1Nsvxlcj;

1.2
date	2014.07.23.09.50.22;	author sthen;	state dead;
branches;
next	1.1;
commitid	rd4QYuc5MkrTK1gY;

1.1
date	2014.07.18.12.36.29;	author jsg;	state Exp;
branches;
next	;
commitid	719OrWamsuW3sakX;


desc
@@


1.5
log
@update to 1.74
zap patch merged upstream
@
text
@$OpenBSD: patch-cli_cppcheckexecutor_cpp,v 1.4 2016/01/13 12:38:48 gsoares Exp $
--- cli/cppcheckexecutor.cpp.orig	Sat Jan  9 10:50:01 2016
+++ cli/cppcheckexecutor.cpp	Tue Jan 12 20:02:58 2016
@@@@ -41,10 +41,9 @@@@
 #   define _XOPEN_SOURCE // ucontext.h APIs can only be used on Mac OSX >= 10.7 if _XOPEN_SOURCE is defined
 #   include <ucontext.h>
 #   undef _XOPEN_SOURCE
-#else
-#   include <ucontext.h>
 #endif
 #ifdef __linux__
+#include <ucontext.h>
 #include <sys/syscall.h>
 #include <sys/types.h>
 #endif
@


1.4
log
@update to 1.72; OK jsg@@
@
text
@d1 1
a1 1
$OpenBSD: patch-cli_cppcheckexecutor_cpp,v 1.3 2015/01/07 04:15:51 jsg Exp $
@


1.3
log
@update to cppcheck 1.68
ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD$
--- cli/cppcheckexecutor.cpp.orig	Sun Jan  4 02:59:04 2015
+++ cli/cppcheckexecutor.cpp	Sun Jan  4 02:59:11 2015
@@@@ -42,10 +42,9 @@@@
@


1.2
log
@add -lexecinfo and remove the patch disabling backtrace() support, registering
the dependency (thus fixing an unregistered build dependency on execinfo.h and
adding support for the functionality). Build problem reported by naddy@@,
ok jsg@@ jasper@@
@
text
@d1 15
a15 12
$OpenBSD: patch-cli_cppcheckexecutor_cpp,v 1.1 2014/07/18 12:36:29 jsg Exp $
--- cli/cppcheckexecutor.cpp.orig	Fri May 23 17:08:51 2014
+++ cli/cppcheckexecutor.cpp	Fri May 23 17:09:19 2014
@@@@ -220,7 +220,7 @@@@ size_t GetArrayLength(const T(&)[size])
  */
 static void print_stacktrace(FILE* f, bool demangling)
 {
-#if defined(__GNUC__)
+#if defined(__GNUC__) && !defined(__OpenBSD__)
     void *array[32]= {0}; // the less resources the better...
     const int depth = backtrace(array, (int)GetArrayLength(array));
     char **symbolstrings = backtrace_symbols(array, depth);
@


1.1
log
@update to cppcheck 1.65
ok gsoares@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
@

