head	1.34;
access;
symbols
	OPENBSD_6_1:1.31.0.2
	OPENBSD_6_1_BASE:1.31
	OPENBSD_6_0:1.29.0.2
	OPENBSD_6_0_BASE:1.29
	OPENBSD_5_9:1.28.0.2
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.28.0.4
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.26.0.8
	OPENBSD_5_7_BASE:1.26
	OPENBSD_5_6:1.26.0.6
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.26.0.4
	OPENBSD_5_5_BASE:1.26
	OPENBSD_5_4:1.26.0.2
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.23.0.2
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.22.0.6
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.22
	OPENBSD_5_1:1.22.0.4
	OPENBSD_5_0:1.22.0.2
	OPENBSD_5_0_BASE:1.22
	OPENBSD_4_9:1.20.0.8
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.20.0.6
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.20.0.4
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.20.0.2
	OPENBSD_4_6_BASE:1.20
	OPENBSD_4_5:1.19.0.2
	OPENBSD_4_5_BASE:1.19
	OPENBSD_4_4:1.18.0.4
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.16.0.4
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.16.0.2
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.14.0.4
	OPENBSD_4_0_BASE:1.14
	OPENBSD_3_9:1.14.0.2
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.13.0.4
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.13.0.2
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.12.0.2
	OPENBSD_3_6_BASE:1.12
	OPENBSD_3_5:1.11.0.2
	OPENBSD_3_5_BASE:1.11
	OPENBSD_3_4:1.10.0.2
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.9.0.2
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.6.0.2
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.5.0.4
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9_TRACKING_SWITCH:1.5
	OPENBSD_2_9:1.4.0.2
	OPENBSD_2_9_BASE:1.4
	jakob_20001224:1.1.1.1
	jakob:1.1.1;
locks; strict;
comment	@# @;


1.34
date	2017.07.23.09.26.26;	author espie;	state Exp;
branches;
next	1.33;
commitid	FZPR2Emws5uDqXzb;

1.33
date	2017.07.16.19.18.51;	author espie;	state Exp;
branches;
next	1.32;
commitid	tt0GhWK5c4uf9ILG;

1.32
date	2017.04.10.11.45.25;	author sthen;	state Exp;
branches;
next	1.31;
commitid	XDh1zlSBq0boKsHk;

1.31
date	2016.12.19.21.48.12;	author naddy;	state Exp;
branches;
next	1.30;
commitid	arNIyxK8stYOPicX;

1.30
date	2016.11.11.19.40.26;	author naddy;	state Exp;
branches;
next	1.29;
commitid	Rji2RtMW4tgUR4fW;

1.29
date	2016.03.11.20.28.24;	author naddy;	state Exp;
branches;
next	1.28;
commitid	UYLP8TE6V7RS2GhJ;

1.28
date	2015.06.18.02.36.35;	author bentley;	state Exp;
branches;
next	1.27;
commitid	vZJxQ5zS0Z5vXsbm;

1.27
date	2015.03.16.18.07.40;	author naddy;	state Exp;
branches;
next	1.26;
commitid	IJdm3Zowcdkcxp5X;

1.26
date	2013.04.13.20.19.50;	author miod;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.21.08.45.15;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2013.03.11.10.50.04;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2013.01.29.12.40.05;	author tobiasu;	state Exp;
branches;
next	1.22;

1.22
date	2011.06.15.16.11.25;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2011.05.27.20.48.39;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2009.06.06.17.45.48;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2008.10.26.23.05.41;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2007.10.24.16.19.57;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2007.09.16.02.52.59;	author merdely;	state Exp;
branches;
next	1.16;

1.16
date	2006.11.01.18.43.09;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2006.10.28.11.19.21;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2006.01.06.20.30.26;	author bernd;	state Exp;
branches;
next	1.13;

1.13
date	2005.01.06.19.52.43;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2004.06.10.16.26.29;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2004.02.22.22.21.01;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2003.03.29.00.30.59;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2002.12.13.23.56.58;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2002.10.21.23.18.05;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2002.10.13.22.09.25;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2002.05.13.18.50.39;	author espie;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2001.07.22.20.50.02;	author jakob;	state Exp;
branches
	1.5.4.1;
next	1.4;

1.4
date	2001.03.24.19.55.27;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	2001.01.26.13.34.25;	author avsm;	state Exp;
branches;
next	1.2;

1.2
date	2000.12.25.03.53.36;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2000.12.24.12.18.50;	author jakob;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.12.24.12.18.50;	author jakob;	state Exp;
branches;
next	;

1.5.4.1
date	2002.10.14.18.44.21;	author brad;	state Exp;
branches;
next	;

1.6.2.1
date	2002.10.14.16.29.26;	author naddy;	state Exp;
branches;
next	1.6.2.2;

1.6.2.2
date	2002.12.11.01.04.07;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.34
log
@add pthread to COMPILER_LIBCXX.
white lie, but it allows clang and gcc to be more similar
bump accordingly.
@
text
@# $OpenBSD: Makefile,v 1.33 2017/07/16 19:18:51 espie Exp $

COMMENT=	library for arbitrary precision arithmetic

DISTNAME=	gmp-6.1.2
REVISION =	0
SHARED_LIBS +=  gmp                  10.0     # 13.2
SHARED_LIBS +=  gmpxx                2.0      # 9.2
CATEGORIES=	devel math

HOMEPAGE=	https://gmplib.org/

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>
EXTRACT_SUFX=	.tar.xz

# LGPLv3+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	m ${COMPILER_LIBCXX}

MASTER_SITES=	https://gmplib.org/download/gmp/ \
		${MASTER_SITE_GNU:=gmp/}

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--enable-cxx
# Don't try to optimize for the local CPU submodel
CONFIGURE_ARGS+=--build=${MACHINE_ARCH}-unknown-openbsd${OSrev}

post-patch:
	@@cp ${FILESDIR}/mpn_m88k_add_n.asm ${WRKSRC}/mpn/m88k/add_n.asm
	@@cp ${FILESDIR}/mpn_m88k_sub_n.asm ${WRKSRC}/mpn/m88k/sub_n.asm
	@@rm ${WRKSRC}/mpn/m88k/add_n.s ${WRKSRC}/mpn/m88k/sub_n.s \
	    ${WRKSRC}/mpn/m88k/mul_1.s

.include <bsd.port.mk>
@


1.33
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2017/04/10 11:45:25 sthen Exp $
d6 1
@


1.32
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2016/12/19 21:48:12 naddy Exp $
d18 1
a18 1
WANTLIB=	m ${LIBCXX}
@


1.31
log
@update to 6.1.2: bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/11/11 19:40:26 naddy Exp $
d18 1
a18 1
WANTLIB=	m stdc++
@


1.30
log
@long overdue update to the latest release (now 6.1.1)
alpha and sparc64 testing and ok jca@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/03/11 20:28:24 naddy Exp $
d5 3
a7 3
DISTNAME=	gmp-6.1.1
SHARED_LIBS +=  gmp                  10.0     # 13.1
SHARED_LIBS +=  gmpxx                2.0      # 9.1
@


1.29
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/06/18 02:36:35 bentley Exp $
d5 3
a7 4
DISTNAME=	gmp-5.0.2
REVISION=	3
SHARED_LIBS +=  gmp                  9.0      # 10.2
SHARED_LIBS +=  gmpxx                1.0      # 6.2
d10 1
a10 1
HOMEPAGE=	http://gmplib.org/
d13 1
a13 1
EXTRACT_SUFX=	.tar.bz2
d18 1
a18 1
WANTLIB += m stdc++
d20 1
a20 1
MASTER_SITES=	ftp://ftp.gmplib.org/pub/${DISTNAME}/ \
@


1.28
log
@Switch to bz2 distfile, since the .tar.gz is missing on some mirrors.

Decompressed tarball verified to be identical.

ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/03/16 18:07:40 naddy Exp $
d25 1
a25 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--enable-cxx
@


1.27
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/04/13 20:19:50 miod Exp $
d14 1
@


1.26
log
@Replace existing PIC-unaware m88k assembly parts with proper m4 generator;
also disable the assembly mul_1 routine, which fails 5 of the regress tests.
This lets this build again on m88k.

Bump package version just to be on the safe side.

help and ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/21 08:45:15 ajacoutot Exp $
d6 1
a6 1
REVISION=	2
@


1.25
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/03/11 10:50:04 espie Exp $
d6 1
a6 1
REVISION=	1
d28 6
@


1.24
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/01/29 12:40:05 tobiasu Exp $
a22 1
USE_LIBTOOL=	Yes
@


1.23
log
@Fix symbol names of assembly routines for SH.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/06/15 16:11:25 sthen Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.22
log
@sync WANTLIB; ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/05/27 20:48:39 naddy Exp $
d6 1
a6 1
REVISION=	0
@


1.21
log
@update to 5.0.2; ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/06/06 17:45:48 naddy Exp $
d6 1
d20 2
@


1.20
log
@Update to 4.3.1 and enable C++ bindings.
Tested on arm (sthen@@), alpha, amd64, i386, mips64 (jasper@@),
powerpc (ajacoutot@@), sparc (phessler@@), sparc64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/10/26 23:05:41 naddy Exp $
d5 3
a7 3
DISTNAME=	gmp-4.3.1
SHARED_LIBS +=  gmp                  8.0      # .8.0
SHARED_LIBS +=  gmpxx                0.0      # .5.0
@


1.19
log
@maintenance update to 4.2.4; tested by various
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/10/24 16:19:57 naddy Exp $
d5 3
a7 2
DISTNAME=	gmp-4.2.4
SHARED_LIBS +=	gmp                  7.1      # .7.4
d14 1
a14 1
# LGPLv3
d20 1
a20 1
MASTER_SITES=	ftp://ftp.gmplib.org/pub/ \
d25 2
a26 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
@


1.18
log
@Maintenance update to 4.2.2.
Tested on alpha, amd64, i386, powerpc (ajacoutot@@), sparc64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/09/16 02:52:59 merdely Exp $
d5 2
a6 2
DISTNAME=	gmp-4.2.2
SHARED_LIBS +=	gmp                  7.1      # .7.2
d9 1
a9 1
HOMEPAGE=	http://www.swox.com/gmp/
d19 2
a20 1
MASTER_SITES=	${MASTER_SITE_GNU:=gmp/}
@


1.17
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/11/01 18:43:09 naddy Exp $
d5 2
a6 2
DISTNAME=	gmp-4.2.1
SHARED_LIBS +=	gmp                  7.0      # .7.1
d13 1
a13 1
# (L)GPL
@


1.16
log
@update to 4.2.1; joint work with espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/10/28 11:19:21 espie Exp $
d3 1
a3 1
COMMENT=	"library for arbitrary precision arithmetic"
@


1.15
log
@a few more SHARED_LIBS reformat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/01/06 20:30:26 bernd Exp $
d5 2
a6 3
DISTNAME=	gmp-4.1.4
PKGNAME=	${DISTNAME}p0
SHARED_LIBS +=	gmp                  6.3      # .6.3
a25 2
# For GCC4/Fortran95
CONFIGURE_ARGS+=--enable-mpfr
@


1.14
log
@SHARED_LIBS, USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2005/01/06 19:52:43 naddy Exp $
d7 1
a7 1
SHARED_LIBS=	gmp 6.3
@


1.13
log
@- maintenance update to 4.1.4
- enable MPFR, required by GCC4/Fortran95; from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/06/10 16:26:29 naddy Exp $
d6 2
d22 1
@


1.12
log
@update to 4.1.3 (bug fixes)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/02/22 22:21:01 naddy Exp $
d5 1
a5 1
DISTNAME=	gmp-4.1.3
d20 1
a20 1
CONFIGURE_STYLE= gnu
d23 3
a25 5
CONFIGURE_ARGS+= --build=${MACHINE_ARCH}-unknown-openbsd${OSrev}
CONFIGURE_ENV=	MAKEINFO="makeinfo --no-split"

post-extract:
	@@rm -f ${WRKSRC}/gmp.info*
@


1.11
log
@remove workarounds for gcc2.95/sparc64 bugs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/03/29 00:30:59 naddy Exp $
d5 1
a5 1
DISTNAME=	gmp-4.1.2
@


1.10
log
@Maintenance update to 4.1.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/12/13 23:56:58 naddy Exp $
a18 5

# work around optimizer bug in gcc 2.95
.if ${MACHINE_ARCH} == "sparc64"
PATCH_LIST=	patch-* gcc-patch-*
.endif
@


1.9
log
@Update to 4.1.1: bug fixes, support for *BSD/sparc64 has been integrated.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/10/21 23:18:05 naddy Exp $
d5 1
a5 1
DISTNAME=	gmp-4.1.1
@


1.8
log
@update to 4.1 and take maintainer; ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/10/13 22:09:25 naddy Exp $
d5 1
a5 1
DISTNAME=	gmp-4.1
d25 1
a25 2
AUTOCONF_NEW=	Yes
CONFIGURE_STYLE= autoconf
@


1.7
log
@- configure sparc64 as a 64-bit platform
- include workaround for a compiler bug
- simplify
ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/05/13 18:50:39 espie Exp $
d3 1
a3 1
COMMENT=	library for arbitrary precision arithmetic
d5 1
a5 1
DISTNAME=	gmp-3.1.1
a7 2
MASTER_SITES=	${MASTER_SITE_GNU:=gmp/}

d10 1
a10 1
MAINTAINER=	Jakob Schlyter <jakob@@openbsd.org>
d18 2
d25 5
a29 3
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --enable-static
a33 3

post-build:
	ranlib ${WRKBUILD}/.libs/libgmp.a
@


1.6
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/07/22 20:50:02 jakob Exp $
a6 1
NEED_VERSION=	1.363
d14 1
d20 5
d28 1
@


1.6.2.1
log
@MFC: sparc64 fixes
- configure sparc64 as a 64-bit platform
- include workaround for a compiler bug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/10/13 22:09:25 naddy Exp $
d7 1
a14 1
# (L)GPL
a19 5
# work around optimizer bug in gcc 2.95
.if ${MACHINE_ARCH} == "sparc64"
PATCH_LIST=	patch-* gcc-patch-*
.endif

a22 1
CONFIGURE_ENV=	MAKEINFO="makeinfo --no-split"
@


1.6.2.2
log
@- fix build on m68k
- reorganize architecture-specific workarounds
- sync MAINTAINER

m68k bug report and testing by Heiko Rommel <Heiko.Rommel@@Uni-Bielefeld.DE>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6.2.1 2002/10/14 16:29:26 naddy Exp $
d12 1
a12 1
MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>
d21 2
a22 2
.if ${MACHINE_ARCH} == "sparc64" || ${MACHINE_ARCH} == "m68k"
PATCH_LIST=	patch-* ${MACHINE_ARCH}-patch-*
@


1.5
log
@ranlib library after build; PR#1951
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/03/24 19:55:27 jakob Exp $
d9 1
a9 2
MASTER_SITES=	${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR= gmp
@


1.5.4.1
log
@MFC: sparc64 fixes
- configure sparc64 as a 64-bit platform
- include workaround for a compiler bug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/07/22 20:50:02 jakob Exp $
d7 1
a15 1
# (L)GPL
a20 5
# work around optimizer bug in gcc 2.95
.if ${MACHINE_ARCH} == "sparc64"
PATCH_LIST=	patch-* gcc-patch-*
.endif

a23 1
CONFIGURE_ENV=	MAKEINFO="makeinfo --no-split"
@


1.4
log
@move COMMENT into Makefile & touch NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/01/26 13:34:25 avsm Exp $
d27 3
@


1.3
log
@Add math to the category list; jakob@@ ok
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.2 2000/12/25 03:53:36 brad Exp $
d7 2
a8 1
NEED_VERSION=	1.341
@


1.2
log
@- fixup Makefile
- add libtool patches
- stop splitting info page
- don't start COMMENT with a capital letter when it's not necessary
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/12/24 12:18:50 jakob Exp $
d4 1
a4 1
CATEGORIES=	devel
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 5
a7 3
DISTNAME=		gmp-3.1.1
CATEGORIES=     	devel
NEED_VERSION=		1.341
d9 1
a9 1
HOMEPAGE=		http://www.swox.com/gmp/
d11 1
a11 1
MAINTAINER=		Jakob Schlyter <jakob@@openbsd.org>
d18 3
a20 2
MASTER_SITES=		${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR=	gmp
d22 2
a23 1
CONFIGURE_STYLE=	gnu
@


1.1.1.1
log
@import of the GNU MP library as a port as libgmp is removed from -current
@
text
@@
