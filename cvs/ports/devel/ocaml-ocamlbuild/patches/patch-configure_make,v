head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.2
	OPENBSD_6_0_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2016.06.23.13.54.25;	author krw;	state Exp;
branches;
next	;
commitid	qQiLqYcJpItsIq3U;


desc
@@


1.1
log
@Add ocamlbuild and cppo ports in preparation for Ocaml 4.3.0.

Ocaml 4.3.0 does not supply an internal ocamlbuild, and cppo is
needed by the utop update related to 4.3.0.

Not hooked into build yet.

ok anil@@ sthen@@ so final 4.3.0 polishing can be done in-tree.
@
text
@--- configure.make.orig	Fri Jun 10 15:45:34 2016
+++ configure.make	Fri Jun 10 15:46:12 2016
@@@@ -17,13 +17,8 @@@@
 # OCAMLBUILD_* variables.
 
 OCAMLBUILD_PREFIX ?= $(PREFIX)
-OCAMLBUILD_BINDIR ?= \
-  $(or $(shell opam config var bin 2>/dev/null),\
-       $(PREFIX)/bin)
-OCAMLBUILD_LIBDIR ?= \
-  $(or $(shell opam config var lib 2>/dev/null),\
-       $(shell ocamlfind printconf destdir 2>/dev/null),\
-       $(LIBDIR))
+OCAMLBUILD_BINDIR ?= $(BINDIR)
+OCAMLBUILD_LIBDIR ?= $(LIBDIR)
 
 # It is important to distinguish OCAML_LIBDIR, which points to the
 # directory of the ocaml compiler distribution, and OCAMLBUILD_LIBDIR,
@
