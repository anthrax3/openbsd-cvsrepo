head	1.3;
access;
symbols
	edd_20170214:1.1.1.1 edd:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2017.02.22.14.34.34;	author jca;	state Exp;
branches;
next	1.2;
commitid	5a7KMP3KE5FB7pZe;

1.2
date	2017.02.22.14.28.30;	author jca;	state Exp;
branches;
next	1.1;
commitid	Yea6jSGgEFBZqC5Z;

1.1
date	2017.02.14.09.37.16;	author edd;	state Exp;
branches
	1.1.1.1;
next	;
commitid	WOW0jZHUGWKjSlN4;

1.1.1.1
date	2017.02.14.09.37.16;	author edd;	state Exp;
branches;
next	;
commitid	WOW0jZHUGWKjSlN4;


desc
@@


1.3
log
@Use lang/gcc for atomic builtins on arm.
@
text
@# $OpenBSD: Makefile,v 1.1.1.1 2017/02/14 09:37:16 edd Exp $

COMMENT =	multi-platform library for asynchronous I/O

VER =		1.11.0
REVISION =	1
DISTNAME =	libuv-v${VER}
PKGNAME =	libuv-${VER}
CATEGORIES =	devel

SHARED_LIBS =	uv 0.0	# 1.0

HOMEPAGE =	http://libuv.org/

MASTER_SITES =	http://dist.libuv.org/dist/v${VER}/

# BSD / GPL
PERMIT_PACKAGE_CDROM = Yes

WANTLIB += pthread

# for atomic builtins
MODULES =	gcc4
MODGCC4_ARCHS =	arm

BUILD_DEPENDS =	devel/libtool \
		${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS} \
		textproc/py-sphinx

USE_GMAKE =	Yes

CONFIGURE_STYLE = gnu
CONFIGURE_ENV =	cc_cv_cflags__g=no

AUTOCONF_VERSION = 2.69
AUTOMAKE_VERSION = 1.14

pre-configure:
	cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} sh autogen.sh

post-build:
	cd ${WRKSRC} && ${MAKE_PROGRAM} man -C docs

post-install:
	${INSTALL_MAN} ${WRKSRC}/docs/build/man/libuv.1 ${PREFIX}/man/man1/

.include <bsd.port.mk>
@


1.2
log
@Fix IPv6 support.
@
text
@d6 1
a6 1
REVISION =	0
d21 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
@


1.1.1.1
log
@Import libuv: A cross-platform asynchronous I/O library.

Based on work by dcoppa@@. OK abieber@@, jca@@. Thanks.

@
text
@@
