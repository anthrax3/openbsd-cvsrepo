head	1.7;
access;
symbols
	OPENBSD_6_1:1.7.0.2
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.6.0.2
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.7
date	2016.08.31.13.53.11;	author naddy;	state Exp;
branches;
next	1.6;
commitid	K1Zt8iNZoEanB6Kr;

1.6
date	2016.04.16.12.06.24;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	TfVN3pgDfv8rt3Uv;

1.5
date	2016.04.05.19.16.20;	author naddy;	state Exp;
branches;
next	1.4;
commitid	PwG32ILKohmzrETM;

1.4
date	2016.03.11.20.28.23;	author naddy;	state Exp;
branches;
next	1.3;
commitid	UYLP8TE6V7RS2GhJ;

1.3
date	2016.01.02.22.00.49;	author naddy;	state Exp;
branches;
next	1.2;
commitid	QHg47H9xpCWeCfGi;

1.2
date	2015.09.14.19.48.45;	author naddy;	state Exp;
branches;
next	1.1;
commitid	srGot1fKY33uud6A;

1.1
date	2015.07.19.23.46.08;	author naddy;	state Exp;
branches;
next	;
commitid	IyS3g0JqidQTnmPw;


desc
@@


1.7
log
@maintenance update to 0.19.8.1
@
text
@# $OpenBSD: Makefile,v 1.6 2016/04/16 12:06:24 ajacoutot Exp $

COMMENT=	GNU gettext development and translation tools

VERSION=	0.19.8.1
DISTNAME=	gettext-${VERSION}
PKGNAME=	gettext-tools-${VERSION}
SHARED_LIBS +=  gettextlib           7.1      # unknown
SHARED_LIBS +=  gettextsrc           6.1      # unknown
SHARED_LIBS +=  gettextpo            8.1      # 5.4

SUBST_VARS=	VERSION

CATEGORIES=	devel
# DPB: parallel-safe, not worth it. Too much time in configure

MASTER_SITES=	${MASTER_SITE_GNU:=gettext/}
EXTRACT_SUFX=	.tar.xz

HOMEPAGE=	https://www.gnu.org/software/gettext/

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>

# LGPLv2.1, GPLv3
PERMIT_PACKAGE_CDROM=	Yes

LIB_DEPENDS=	devel/gettext

WANTLIB=	c iconv intl m ncurses

# required by the autopoint tool
RUN_DEPENDS=	archivers/xz

WRKSRC=		${WRKDIST}/gettext-tools
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--disable-csharp \
		--disable-java \
		--with-libiconv-prefix="${LOCALBASE}" \
		--with-libintl-prefix="${LOCALBASE}" \
		--with-included-glib \
		--with-included-libcroco \
		--with-included-libunistring \
		--with-included-libxml \
		--without-emacs \
		--without-git

MODGNU_CONFIG_GUESS_DIRS=${WRKDIST}/build-aux

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/emacs/site-lisp
	for f in start-po.el po-mode.el po-compat.el; do \
		${INSTALL_DATA} ${WRKSRC}/misc/$$f \
			${PREFIX}/share/emacs/site-lisp; \
	done

.include <bsd.port.mk>
@


1.6
log
@Drop our local patch that installed the its and loc files under an unversioned
directory. Needed because applications will start installing their own files
under share/gettext/its/ which will conflict with the existing ones.
Found out while updating gtk+3 to 3.20.3.

ok naddy@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/04/05 19:16:20 naddy Exp $
d5 1
a5 1
VERSION=	0.19.7
d8 3
a10 4
REVISION=	1
SHARED_LIBS +=  gettextlib           7.0      # unknown
SHARED_LIBS +=  gettextsrc           6.0      # unknown
SHARED_LIBS +=  gettextpo            8.0      # 5.3
a45 2

CONFIGURE_ENV +=	gl_cv_have_weak=yes
@


1.5
log
@replace gettext module with normal library dependency; bump required
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2016/03/11 20:28:23 naddy Exp $
d8 1
a8 1
REVISION=	0
d12 2
@


1.4
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/01/02 22:00:49 naddy Exp $
d8 1
d26 1
a26 2
MODULES=	devel/gettext
MODGETTEXT_TOOLS=No
d28 1
a28 1
WANTLIB=	c m ncurses
@


1.3
log
@Maintenance update to gettext 0.19.7.  No major outward changes.
Internally, -tools no longer uses expat.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2015/09/14 19:48:45 naddy Exp $
d35 1
a35 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-csharp \
@


1.2
log
@maintenance update to 0.19.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2015/07/19 23:46:08 naddy Exp $
d5 1
a5 1
VERSION=	0.19.6
d8 3
a10 3
SHARED_LIBS +=  gettextlib           6.0      # unknown
SHARED_LIBS +=  gettextsrc           5.1      # unknown
SHARED_LIBS +=  gettextpo            7.1      # 5.3
d28 1
a28 1
WANTLIB=	c expat m ncurses
@


1.1
log
@Split gettext into a small runtime component and a separate large
set of development tools as recommended by upstream.

Ports will continue to depend on devel/gettext for libintl.  The
gettext module also provides an automatic build dependency on
devel/gettext-tools for msgfmt etc.

A few ports that require a library provided by gettext-tools get a
corresponding dependency.

Also update gettext to 0.19.5.1.

COMMENT and DESCR from FreeBSD.  Bulk build testing by sthen@@.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2015/05/12 19:57:42 naddy Exp $
d5 1
a5 1
VERSION=	0.19.5.1
@

