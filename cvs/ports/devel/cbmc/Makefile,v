head	1.4;
access;
symbols
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	jca_20161023:1.1.1.1
	jca:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2017.05.31.08.08.15;	author espie;	state Exp;
branches;
next	1.3;
commitid	ij92FtFXiSiT1ani;

1.3
date	2017.05.27.04.41.43;	author espie;	state Exp;
branches;
next	1.2;
commitid	zYbSJYUuMHg82YnC;

1.2
date	2016.11.02.21.05.38;	author sthen;	state Exp;
branches;
next	1.1;
commitid	5xhHLwVGTZDyXmDj;

1.1
date	2016.10.23.00.13.10;	author jca;	state Exp;
branches
	1.1.1.1;
next	;
commitid	cwolNjk0wRX6QhCy;

1.1.1.1
date	2016.10.23.00.13.10;	author jca;	state Exp;
branches;
next	;
commitid	cwolNjk0wRX6QhCy;


desc
@@


1.4
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@#$OpenBSD: Makefile,v 1.3 2017/05/27 04:41:43 espie Exp $

COMMENT =	Bounded Model Checker for C and C++ programs

DISTNAME =	cbmc-5.5

GH_ACCOUNT =	diffblue
GH_PROJECT =	cbmc
GH_TAGNAME =	cbmc-5.5
REVISION =	0

CATEGORIES =	devel

HOMEPAGE =	http://www.cprover.org/cbmc/

MAINTAINER =	Mages Simon <mages.simon@@googlemail.com>

# BSD
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c m ${LIBECXX}

DISTFILES =	${DISTNAME}${EXTRACT_SUFX} minisat2_2.2.1.orig.tar.gz:0
MASTER_SITES0 =	${MASTER_SITE_DEBIAN:=main/m/minisat2/}

COMPILER =	clang

BUILD_DEPENDS =	devel/bison

USE_GMAKE =	Yes

MAKE_FLAGS =	CFLAGS="-Wall ${CFLAGS}" \
		CXXFLAGS="-Wall ${CXXFLAGS}" \
		LINKFLAGS="${LDFLAGS}"

WRKDIST =	${WRKDIR}/cbmc-${DISTNAME}
WRKSRC =	${WRKDIST}/src

post-extract:
	mv ${WRKDIR}/minisat2-2.2.1 ${WRKDIST}/minisat-2.2.1
	cd ${WRKDIST}/minisat-2.2.1; \
	patch -z .bak -p1 < ../scripts/minisat-2.2.1-patch

do-install:
.for i in goto-analyzer goto-cc goto-diff goto-instrument cbmc
	${INSTALL_PROGRAM} ${WRKBUILD}/${i}/${i} ${PREFIX}/bin/
.endfor
	${INSTALL_MAN} ${WRKDIST}/doc/man/cbmc.1 ${PREFIX}/man/man1/
	cd ${WRKDIST}/doc/ && find . -type d -exec ${INSTALL_DATA_DIR} \
		${PREFIX}/share/doc/cbmc/{} \;
	cd ${WRKDIST}/doc/ && find . -type f -exec ${INSTALL_DATA} \
		${WRKDIST}/doc/{} ${PREFIX}/share/doc/cbmc/{} \;
	rm ${PREFIX}/share/doc/cbmc/man/cbmc.1
	rmdir ${PREFIX}/share/doc/cbmc/man/

.include <bsd.port.mk>
@


1.3
log
@use WANT_CXX, these build trivially
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.2 2016/11/02 21:05:38 sthen Exp $
d26 1
a26 1
WANT_CXX =	base clang
@


1.2
log
@fix WANTLIB, it was totally missing
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.1.1.1 2016/10/23 00:13:10 jca Exp $
d21 1
a21 1
WANTLIB += c m
d26 1
a26 3
MODULES =	lang/clang
MODCLANG_LANGS = c++
MODCLANG_ARCHS = *
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#$OpenBSD$
d10 1
d20 2
@


1.1.1.1
log
@Import CBMC, a model checker for C and C++.

Port by Simon Mages (maintainer) with input from Jan Klemkow, sthen@@
and myself.  ok sthen@@

DESCR:
CBMC is a Bounded Model Checker for C and C++ programs. It supports C89, C99,
most of C11 and most compiler extensions provided by gcc and Visual Studio. It
also supports SystemC using Scoot, and has experimental support for Java
Bytecode.

CBMC verifies array bounds (buffer overflows), pointer safety, exceptions
and user-specified assertions. Furthermore, it can check C and C++ for
consistency with other languages, such as Verilog. The verification is
performed by unwinding the loops in the program and passing the resulting
equation to a decision procedure.

While CBMC is aimed for embedded software, it also supports dynamic memory
allocation using malloc and new.

CBMC comes with a built-in solver for bit-vector formulas that is based on
MiniSat. As an alternative, CBMC has featured support for external SMT
solvers. Recommended solvers are (in no particular order) Boolector,
MathSAT, Yices 2 and Z3. Note that these solvers need to be installed
separately and have different licensing conditions.

@
text
@@
