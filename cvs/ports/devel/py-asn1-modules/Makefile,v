head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.4
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.1.1.1.0.6
	OPENBSD_5_8_BASE:1.1.1.1
	OPENBSD_5_7:1.1.1.1.0.2
	OPENBSD_5_7_BASE:1.1.1.1
	jca_2014-Dec-19:1.1.1.1
	jca:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2017.01.03.19.19.48;	author landry;	state Exp;
branches;
next	1.5;
commitid	NkZaP5skFWQkYqhM;

1.5
date	2016.05.08.11.50.18;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	q3rQ20zjgdO9izXi;

1.4
date	2016.01.05.10.17.06;	author sthen;	state Exp;
branches;
next	1.3;
commitid	7XRE4LM0FOBZf4BP;

1.3
date	2015.11.20.14.59.13;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	sl4O475JY6pPFMc4;

1.2
date	2015.09.29.10.51.44;	author sthen;	state Exp;
branches;
next	1.1;
commitid	NAa0n7dMfq2qVX1q;

1.1
date	2014.12.19.12.25.40;	author jca;	state Exp;
branches
	1.1.1.1;
next	;
commitid	md9QErHQYYHz6eY6;

1.1.1.1
date	2014.12.19.12.25.40;	author jca;	state Exp;
branches;
next	;
commitid	md9QErHQYYHz6eY6;


desc
@@


1.6
log
@bump ports depending on python3 in devel
@
text
@# $OpenBSD: Makefile,v 1.5 2016/05/08 11:50:18 ajacoutot Exp $

COMMENT =		collection of ASN.1 data structures for py-asn1

MODPY_EGG_VERSION =	0.0.8
REVISION =		2
DISTNAME =		pyasn1-modules-${MODPY_EGG_VERSION}
PKGNAME =		${DISTNAME:S/py/py-/}
CATEGORIES =		devel
PKG_ARCH =		*

HOMEPAGE =		http://pyasn1.sourceforge.net/

# BSD 2-Clause
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=pyasn1/}

MODULES =		lang/python

FLAVORS =		python3
FLAVOR?=

MODPY_SETUPTOOLS =	Yes

RUN_DEPENDS =		devel/py-asn1${MODPY_FLAVOR}
TEST_DEPENDS =		${BUILD_PKGPATH}

MODPY_ADJ_FILES =	tools/*.py

post-install:
	cd ${WRKSRC}/tools; for i in *; do \
		${INSTALL_SCRIPT} $$i ${PREFIX}/bin/$$i${MODPY_BIN_SUFFIX}; done

do-test:
	for f in ${WRKSRC}/test/*.sh; do \
		sed -i "s,^python ,${MODPY_BIN} ,g" "$$f" && \
		cd ${WRKSRC}/tools && \
		${SETENV} ${MAKE_ENV} \ PYTHONPATH=${WRKSRC} sh "$$f" || \
		exit 1; \
	done

.include <bsd.port.mk>
@


1.5
log
@Make sure we depend on the proper FLAVOR of py-asn1.

reported by, same diff from and ok jca@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2016/01/05 10:17:06 sthen Exp $
d6 1
a6 1
REVISION =		1
@


1.4
log
@add py3 flavour of py-asn1-modules
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/11/20 14:59:13 ajacoutot Exp $
d6 1
a6 1
REVISION =		0
d26 1
a26 1
RUN_DEPENDS =		devel/py-asn1
@


1.3
log
@Update to py-asn1-modules-0.0.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2015/09/29 10:51:44 sthen Exp $
d6 1
d21 3
d32 2
a33 1
	${INSTALL_SCRIPT} ${WRKSRC}/tools/* ${PREFIX}/bin
@


1.2
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2014/12/19 12:25:40 jca Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	0.0.5
a9 1
REVISION =		0
d23 1
a23 1
TEST_DEPENDS =		devel/py-asn1
d31 5
a35 3
	cd ${WRKSRC}/test && for f in *.sh; do \
	    ${SETENV} ${MAKE_ENV} PATH=${WRKSRC}/tools:${PATH} \
	        PYTHONPATH=${WRKSRC} sh "$$f" || exit 1; \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/05/07 05:58:52 benoit Exp $
d10 1
@


1.1.1.1
log
@Import py-asn1-modules, from Viq (vicviq et gmail dot com).
ok benoit@@

This is a small but growing collection of ASN.1 data structures
expressed in Python terms using pyasn1 data model.

@
text
@@
