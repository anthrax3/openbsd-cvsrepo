head	1.2;
access;
symbols
	OPENBSD_5_8:1.1.0.6
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.12.01.22.45.49;	author edd;	state dead;
branches;
next	1.1;
commitid	kpD2RxVuf246KwwI;

1.1
date	2014.12.01.09.53.50;	author edd;	state Exp;
branches;
next	;
commitid	As85RRWiL9lcPv5m;


desc
@@


1.2
log
@Update IPython to version 4.0.0.

This concludes my IPython rampage for now.

OK shadchin@@. Thanks.
@
text
@$OpenBSD: patch-IPython_qt_console_pygments_highlighter_py,v 1.1 2014/12/01 09:53:50 edd Exp $

Fix for pygments 2.x
https://github.com/ipython/ipython/commit/b2cf998b17d7f394f5cff933c123bbabd1b3381a

--- IPython/qt/console/pygments_highlighter.py.orig	Sun Nov 30 23:58:03 2014
+++ IPython/qt/console/pygments_highlighter.py	Mon Dec  1 00:00:24 2014
@@@@ -24,11 +24,12 @@@@ def get_tokens_unprocessed(self, text, stack=('root',)
         for rexmatch, action, new_state in statetokens:
             m = rexmatch(text, pos)
             if m:
-                if type(action) is _TokenType:
-                    yield pos, action, m.group()
-                else:
-                    for item in action(self, m):
-                        yield item
+                if action is not None:
+                    if type(action) is _TokenType:
+                        yield pos, action, m.group()
+                    else:
+                        for item in action(self, m):
+                            yield item
                 pos = m.end()
                 if new_state is not None:
                     # state transition
@


1.1
log
@devel/ipython: Fix fallout due to recent py-pygments update.

Spotted by naddy@@, OK sthen@@.
@
text
@d1 1
a1 1
$OpenBSD$
@

