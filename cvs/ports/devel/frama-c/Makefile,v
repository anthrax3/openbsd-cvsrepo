head	1.9;
access;
symbols
	OPENBSD_6_0:1.9.0.2
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.5.0.6
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	jca_2014-04-21:1.1.1.1
	jca:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2016.05.31.11.39.20;	author nigel;	state Exp;
branches;
next	1.8;
commitid	DLRdvJQS0V5Szfoe;

1.8
date	2016.05.31.01.18.35;	author krw;	state Exp;
branches;
next	1.7;
commitid	iqZ0yafEVC1j9YOu;

1.7
date	2015.08.30.16.22.15;	author avsm;	state Exp;
branches;
next	1.6;
commitid	NboZTfgbqwYOP7HH;

1.6
date	2015.08.12.06.20.45;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	0VrIKU0GNMFGxdik;

1.5
date	2014.09.30.19.28.26;	author landry;	state Exp;
branches;
next	1.4;
commitid	xqSKts2hBN3H4Myv;

1.4
date	2014.08.23.07.09.18;	author chrisz;	state Exp;
branches;
next	1.3;
commitid	nGI0KkbhW6dbnlTf;

1.3
date	2014.04.23.14.12.28;	author jca;	state Exp;
branches;
next	1.2;

1.2
date	2014.04.21.22.15.33;	author jca;	state Exp;
branches;
next	1.1;

1.1
date	2014.04.21.16.02.25;	author jca;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2014.04.21.16.02.25;	author jca;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Bump added graphviz dependency.
Ok krw@@
@
text
@# $OpenBSD: Makefile,v 1.8 2016/05/31 01:18:35 krw Exp $

COMMENT =		an extensible platform for analysis of C software
#Error: Error while linking /usr/local/lib/ocaml/vmthreads/stdlib.cma(String):
#Reference to undefined global `Bytes'
BROKEN-powerpc =	Error while linking /usr/local/lib/ocaml/vmthreads/stdlib.cma
BROKEN-alpha =		Error while linking /usr/local/lib/ocaml/vmthreads/stdlib.cma

DISTNAME =		frama-c-Sodium-20150201
PKGNAME =		frama-c-1.11
CATEGORIES =		devel
REVISION =		0
HOMEPAGE =		http://www.frama-c.com/

# LGPLv2
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender art_lgpl_2 atk-1.0 c cairo curses fontconfig
WANTLIB += freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gnomecanvas-2 gobject-2.0 gtk-x11-2.0 gtksourceview-2.0
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pthread z

MASTER_SITES =		http://www.frama-c.com/download/

MODULES =		devel/gettext \
			lang/ocaml

BUILD_DEPENDS =		x11/lablgtk2 devel/ocaml-graph math/graphviz
RUN_DEPENDS =		x11/lablgtk2 math/graphviz

LIB_DEPENDS =		x11/gnome/libgnomecanvas \
			x11/gtksourceview

USE_GMAKE =		Yes
TEST_TARGET =		oracles tests

CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS +=	MAKE=${MAKE_PROGRAM} \
			--docdir=${PREFIX}/share/doc/frama-c/

.include <bsd.port.mk>
@


1.8
log
@Add explicit dependencies on devel/ocaml-graph and math/graphviz. This
should eliminate the TOCTOU race between config and build stages
that can result in neither the internal or the port versions being
available.

Found while preparing for Ocaml 4.3.0.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/08/30 16:22:15 avsm Exp $
d12 1
@


1.7
log
@update to framac-1.11 (the "Sodium" release upstream)

ok jca@@, tested by krw@@ daniel@@ jsg@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/08/12 06:20:45 ajacoutot Exp $
d28 2
a29 2
BUILD_DEPENDS =		x11/lablgtk2
RUN_DEPENDS =		x11/lablgtk2
@


1.6
log
@Fix intermitent build failures by making sure we do not use the in-tree
ocaml-graph but the bundled one.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/09/30 19:28:26 landry Exp $
d9 2
a10 3
DISTNAME =		frama-c-Neon-20140301
PKGNAME =		frama-c-1.10
REVISION =		2
@


1.5
log
@BROKEN-powerpc + BROKEN-alpha:
Error while linking /usr/local/lib/ocaml/vmthreads/stdlib.cma
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2014/08/23 07:09:18 chrisz Exp $
d11 1
a11 1
REVISION =		1
d18 6
d26 2
a27 1
WANTLIB += c curses m pthread
d29 2
a30 1
MODULES =		lang/ocaml
d32 2
a33 2
BUILD_DEPENDS =		x11/lablgtk2>=2.18.0p2
RUN_DEPENDS =		x11/lablgtk2>=2.18.0p2
@


1.4
log
@Last OCaml REVISION bumps do to changes in BUILD_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2014/04/23 14:12:28 jca Exp $
d4 4
@


1.3
log
@Enable GUI support.  ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/04/21 22:15:33 jca Exp $
d7 1
a7 1
REVISION =		0
@


1.2
log
@Prevent the use of lablgtk2 since the latter now supports gnomecanvas.
Temporary until frama-c gui support is added.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2014/04/21 16:02:25 jca Exp $
d7 1
d20 2
a21 2
# to build the GUI, x11/lablgtk2 would need to be built with
# libgnomecanvas support
d28 1
a28 2
			--docdir=${PREFIX}/share/doc/frama-c/ \
			--disable-gui
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d27 2
a28 1
			--docdir=${PREFIX}/share/doc/frama-c/
@


1.1.1.1
log
@Import frama-c.  Work done by blambert@@, with help from sthen@@,
phessler@@ and me.  ok sthen@@ blambert@@

Frama-C is a suite of tools dedicated to the analysis of the source code
of software written in C.

Frama-C gathers several static analysis techniques in a single collaborative
framework. The collaborative approach of Frama-C allows static analyzers to
build upon the results already computed by other analyzers in the framework.
Thanks to this approach, Frama-C provides sophisticated tools, such as a
slicer and dependency analysis.
@
text
@@
