head	1.9;
access;
symbols
	OPENBSD_6_1:1.9.0.4
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.9.0.2
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.2
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2016.03.01.09.24.20;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	XfaTIvXPpDB0Mzbu;

1.8
date	2012.04.30.14.50.15;	author ajacoutot;	state dead;
branches;
next	1.7;

1.7
date	2012.03.23.13.24.10;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2011.10.26.17.12.52;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2011.09.26.16.13.22;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2011.04.04.13.14.45;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2010.09.30.07.32.49;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.03.30.12.52.30;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.10.24.10.23.02;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Merge a lot of fixes from upstream.
@
text
@$OpenBSD$

From 0780809731c8ab1c364202b1900d3df106b28626 Mon Sep 17 00:00:00 2001
From: Robert Ancell <robert.ancell@@canonical.com>
Date: Wed, 14 Oct 2015 10:09:49 +0100
Subject: Fix some compiler warnings

--- gconf/gconfd.c.orig	Thu Apr 26 03:12:49 2012
+++ gconf/gconfd.c	Mon Feb 29 10:02:10 2016
@@@@ -682,10 +682,6 @@@@ system_bus_message_handler (DBusConnection *connection
 			    DBusMessage    *message,
 			    void           *user_data)
 {
-  DBusMessage *reply;
-
-  reply = NULL;
-
   if (dbus_message_is_signal (message,
 			      "org.gnome.GConf.Defaults",
                               "SystemSet"))
@


1.8
log
@Remove unneeded patch.
@
text
@d1 20
a20 12
$OpenBSD: patch-gconf_gconfd_c,v 1.7 2012/03/23 13:24:10 ajacoutot Exp $
--- gconf/gconfd.c.orig	Wed Mar  7 19:08:55 2012
+++ gconf/gconfd.c	Sat Mar 17 08:13:49 2012
@@@@ -709,7 +709,7 @@@@ system_bus_message_handler (DBusConnection *connection
 
 	  gconf_log (GCL_DEBUG, "System defaults changed.  Notifying.");
 
-	  addresses.data = "xml:merged:" GCONF_ETCDIR "/gconf.xml.system";
+	  addresses.data = "xml:merged:/var/db/gconf/gconf.xml.system";
 	  addresses.next = NULL;
 	  system_sources = gconf_sources_new_from_addresses (&addresses, NULL);
 
@


1.7
log
@Update to gconf2-3.2.5.
@
text
@d1 1
a1 1
$OpenBSD: patch-gconf_gconfd_c,v 1.6 2011/10/26 17:12:52 ajacoutot Exp $
@


1.6
log
@Bugfix update to gconf2-3.2.2.
@
text
@d1 4
a4 4
$OpenBSD: patch-gconf_gconfd_c,v 1.5 2011/09/26 16:13:22 ajacoutot Exp $
--- gconf/gconfd.c.orig	Wed Oct 26 17:32:15 2011
+++ gconf/gconfd.c	Wed Oct 26 19:05:54 2011
@@@@ -691,7 +691,7 @@@@ system_bus_message_handler (DBusConnection *connection
@


1.5
log
@Update to gconf2-3.2.0.
@
text
@d1 4
a4 4
$OpenBSD: patch-gconf_gconfd_c,v 1.4 2011/04/04 13:14:45 ajacoutot Exp $
--- gconf/gconfd.c.orig	Sun Aug 14 16:20:17 2011
+++ gconf/gconfd.c	Mon Sep 26 18:02:33 2011
@@@@ -680,7 +680,7 @@@@ system_bus_message_handler (DBusConnection *connection
@


1.4
log
@Minor update to gconf2-2.32.2.
@
text
@d1 4
a4 4
$OpenBSD: patch-gconf_gconfd_c,v 1.3 2010/09/30 07:32:49 ajacoutot Exp $
--- gconf/gconfd.c.orig	Mon Apr  4 13:52:07 2011
+++ gconf/gconfd.c	Mon Apr  4 15:01:49 2011
@@@@ -667,7 +667,7 @@@@ system_bus_message_handler (DBusConnection *connection
@


1.3
log
@Update to gconf2-2.32.0.

ok jasper@@
@
text
@d1 3
a3 3
$OpenBSD: patch-gconf_gconfd_c,v 1.2 2010/03/30 12:52:30 ajacoutot Exp $
--- gconf/gconfd.c.orig	Sat Aug 28 23:11:12 2010
+++ gconf/gconfd.c	Tue Sep 28 08:00:26 2010
d8 2
a9 2
-	  addresses.data = "xml:merged:/etc/gconf/gconf.xml.system";
+	  addresses.data = "xml:merged:/var/db/gconf/gconf.xml.defaults";
@


1.2
log
@Maintainance update to gconf2-2.28.1.
@
text
@d1 4
a4 4
$OpenBSD: patch-gconf_gconfd_c,v 1.1 2009/10/24 10:23:02 ajacoutot Exp $
--- gconf/gconfd.c.orig	Tue Mar 23 00:36:20 2010
+++ gconf/gconfd.c	Tue Mar 30 14:31:47 2010
@@@@ -637,7 +637,7 @@@@ system_bus_message_handler (DBusConnection *connection
@


1.1
log
@Major update to gconf2-2.28.0.
LDAP and policykit support are disabled.
Bring a patch from Fedora so that the gconf daemon gets killed when
gconftool-2 is run; this should fix some applications startup after first
installation.

ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD$
--- gconf/gconfd.c.orig	Fri Oct 23 01:41:10 2009
+++ gconf/gconfd.c	Fri Oct 23 01:41:47 2009
@@@@ -655,7 +655,7 @@@@ system_bus_message_handler (DBusConnection *connection
@

