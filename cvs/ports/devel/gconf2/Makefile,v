head	1.93;
access;
symbols
	OPENBSD_6_2:1.93.0.6
	OPENBSD_6_2_BASE:1.93
	OPENBSD_6_1:1.93.0.4
	OPENBSD_6_1_BASE:1.93
	OPENBSD_6_0:1.93.0.2
	OPENBSD_6_0_BASE:1.93
	OPENBSD_5_9:1.92.0.2
	OPENBSD_5_9_BASE:1.92
	OPENBSD_5_8:1.92.0.4
	OPENBSD_5_8_BASE:1.92
	OPENBSD_5_7:1.89.0.4
	OPENBSD_5_7_BASE:1.89
	OPENBSD_5_6:1.89.0.2
	OPENBSD_5_6_BASE:1.89
	OPENBSD_5_5:1.86.0.2
	OPENBSD_5_5_BASE:1.86
	OPENBSD_5_4:1.83.0.2
	OPENBSD_5_4_BASE:1.83
	OPENBSD_5_3:1.79.0.2
	OPENBSD_5_3_BASE:1.79
	OPENBSD_5_2:1.76.0.2
	OPENBSD_5_2_BASE:1.76
	OPENBSD_5_1_BASE:1.73
	OPENBSD_5_1:1.73.0.2
	OPENBSD_5_0:1.58.0.2
	OPENBSD_5_0_BASE:1.58
	OPENBSD_4_9:1.49.0.2
	OPENBSD_4_9_BASE:1.49
	OPENBSD_4_8:1.41.0.2
	OPENBSD_4_8_BASE:1.41
	OPENBSD_4_7:1.37.0.2
	OPENBSD_4_7_BASE:1.37
	OPENBSD_4_6:1.33.0.2
	OPENBSD_4_6_BASE:1.33
	OPENBSD_4_5:1.32.0.2
	OPENBSD_4_5_BASE:1.32
	OPENBSD_4_4:1.31.0.2
	OPENBSD_4_4_BASE:1.31
	OPENBSD_4_3:1.25.0.2
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.23.0.2
	OPENBSD_4_2_BASE:1.23
	OPENBSD_4_1:1.21.0.2
	OPENBSD_4_1_BASE:1.21
	OPENBSD_4_0:1.17.0.2
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.15.0.2
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.10.0.2
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.9.0.2
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	todd_20030131:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.93
date	2016.03.01.09.24.20;	author ajacoutot;	state Exp;
branches;
next	1.92;
commitid	XfaTIvXPpDB0Mzbu;

1.92
date	2015.05.22.11.31.12;	author ajacoutot;	state Exp;
branches;
next	1.91;
commitid	2khjHXfpTaOuNVcx;

1.91
date	2015.04.21.18.51.24;	author sthen;	state Exp;
branches;
next	1.90;
commitid	ptMCPiyuhL0JiHRZ;

1.90
date	2015.04.04.09.21.00;	author ajacoutot;	state Exp;
branches;
next	1.89;
commitid	kS3kwKZogsvzYmEY;

1.89
date	2014.04.01.18.06.28;	author jasper;	state Exp;
branches;
next	1.88;

1.88
date	2014.04.01.15.31.45;	author jasper;	state Exp;
branches;
next	1.87;

1.87
date	2014.03.27.09.00.39;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2013.09.28.08.50.44;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2013.09.27.17.48.32;	author ajacoutot;	state Exp;
branches;
next	1.84;

1.84
date	2013.09.27.17.33.20;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2013.04.16.13.17.00;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2013.03.30.13.03.45;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2013.03.11.10.50.04;	author espie;	state Exp;
branches;
next	1.80;

1.80
date	2013.03.05.10.26.58;	author sthen;	state Exp;
branches;
next	1.79;

1.79
date	2013.02.06.14.29.49;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2013.01.22.06.10.28;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2012.09.29.13.14.05;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2012.04.30.14.50.15;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2012.04.01.08.52.11;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2012.03.23.13.24.10;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2011.12.30.11.15.20;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2011.10.31.17.13.08;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2011.10.31.16.29.56;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2011.10.29.08.10.12;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2011.10.26.17.12.52;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2011.09.28.09.51.35;	author jasper;	state Exp;
branches;
next	1.67;

1.67
date	2011.09.27.09.24.53;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2011.09.26.16.13.22;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2011.09.20.21.04.24;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2011.09.20.20.51.51;	author jasper;	state Exp;
branches;
next	1.63;

1.63
date	2011.09.18.22.04.01;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2011.09.16.09.24.49;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2011.09.12.12.07.25;	author jasper;	state Exp;
branches;
next	1.60;

1.60
date	2011.09.12.08.43.00;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2011.09.12.08.21.08;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2011.06.16.15.30.14;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2011.05.14.22.18.13;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2011.05.14.21.34.30;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2011.04.28.13.10.57;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2011.04.25.11.05.35;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2011.04.18.10.40.27;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2011.04.10.08.33.13;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2011.04.07.07.51.54;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2011.04.04.13.14.45;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2010.12.14.10.12.21;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2010.11.15.19.45.57;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2010.11.14.14.16.43;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2010.10.18.21.35.48;	author sthen;	state Exp;
branches;
next	1.45;

1.45
date	2010.10.18.17.47.52;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2010.10.18.13.28.51;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2010.10.11.08.12.30;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2010.09.30.07.32.49;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2010.08.02.07.25.50;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2010.07.07.16.40.22;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.07.01.16.47.22;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2010.03.30.12.52.30;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2009.11.07.08.41.15;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2009.10.24.10.23.02;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2009.10.16.10.10.16;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2009.08.10.06.31.07;	author kili;	state Exp;
branches;
next	1.33;

1.33
date	2009.06.07.01.28.38;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2008.11.16.21.43.20;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2008.07.25.13.42.57;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2008.06.18.20.24.12;	author sthen;	state Exp;
branches;
next	1.29;

1.29
date	2008.06.15.00.06.25;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2008.04.29.18.23.56;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2008.04.18.09.19.21;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2008.04.18.09.07.33;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2007.11.10.14.08.16;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2007.09.16.02.52.59;	author merdely;	state Exp;
branches;
next	1.23;

1.23
date	2007.04.24.12.53.37;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2007.04.14.21.20.19;	author sturm;	state Exp;
branches;
next	1.21;

1.21
date	2007.02.11.00.56.57;	author steven;	state Exp;
branches;
next	1.20;

1.20
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2006.10.28.11.19.20;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2006.09.18.11.40.07;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2006.08.01.22.46.16;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2006.06.13.13.21.48;	author bernd;	state Exp;
branches;
next	1.15;

1.15
date	2006.01.16.17.06.25;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2006.01.06.17.51.02;	author bernd;	state Exp;
branches;
next	1.13;

1.13
date	2005.11.13.16.53.48;	author marcm;	state Exp;
branches;
next	1.12;

1.12
date	2005.09.08.20.33.36;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2005.09.04.23.42.53;	author marcm;	state Exp;
branches;
next	1.10;

1.10
date	2005.05.24.21.37.09;	author marcm;	state Exp;
branches;
next	1.9;

1.9
date	2004.12.30.04.30.12;	author marcm;	state Exp;
branches;
next	1.8;

1.8
date	2004.12.10.20.33.59;	author marcm;	state Exp;
branches;
next	1.7;

1.7
date	2004.11.23.11.22.01;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2004.08.10.12.42.22;	author xsa;	state Exp;
branches;
next	1.5;

1.5
date	2004.06.23.03.23.48;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.10.07.05.47.57;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.08.06.20.44.08;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.12.19.37.27;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.31.18.26.49;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.31.18.26.49;	author todd;	state Exp;
branches;
next	;


desc
@@


1.93
log
@Merge a lot of fixes from upstream.
@
text
@# $OpenBSD: Makefile,v 1.92 2015/05/22 11:31:12 ajacoutot Exp $

COMMENT=		configuration database system for GNOME

GNOME_PROJECT=		GConf
GNOME_VERSION=		3.2.6
PKGNAME=		gconf2-${GNOME_VERSION}
REVISION=		8

SHARED_LIBS +=  gconf-2              6.2      # 5.5

CATEGORIES=		devel

MAINTAINER=		Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
			Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c dbus-1 dbus-glib-1 ffi gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gthread-2.0 lzma m pcre pthread xml2 z

MODULES=		devel/gettext \
			x11/gnome

# needed for gsettings-schema-convert(1)
MODULES +=		lang/python
MODPY_BUILDDEP=		No
MODPY_RUNDEP=		No
MODPY_ADJ_FILES=	gsettings/gsettings-schema-convert

LIB_DEPENDS=		textproc/libxml \
			x11/dbus-glib

MODGNOME_TOOLS=		gobject-introspection

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--without-openldap \
			--disable-gtk \
			--disable-orbit \
			--disable-defaults-service

FAKE_FLAGS=		sysgconfdir=${PREFIX}/share/examples/gconf2 \
			sysconfdir=${PREFIX}/share/examples/gconf2

pre-configure:
	${SUBST_CMD} ${WRKSRC}/gsettings/gsettings-data-convert.1

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/schemas/
	rm ${PREFIX}/lib/GConf/2/*.{a,la}
	rm ${PREFIX}/lib/gio/modules/*.{a,la}

.include <bsd.port.mk>
@


1.92
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2015/04/21 18:51:24 sthen Exp $
d3 1
a3 1
COMMENT=	configuration database system for GNOME
d5 4
a8 3
GNOME_PROJECT=	GConf
GNOME_VERSION=	3.2.6
PKGNAME=	gconf2-${GNOME_VERSION}
d10 1
a10 1
REVISION=	7
d12 1
a12 1
SHARED_LIBS +=	gconf-2              6.2      # 5.5
d14 2
a15 4
CATEGORIES=	devel

MAINTAINER=	Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
		Antoine Jacoutot <ajacoutot@@openbsd.org>
d23 2
a24 2
MODULES=	devel/gettext \
		x11/gnome
d27 15
a41 15
MODULES +=	lang/python
MODPY_BUILDDEP=	No
MODPY_RUNDEP=	No
MODPY_ADJ_FILES=gsettings/gsettings-schema-convert

LIB_DEPENDS=	textproc/libxml \
		x11/dbus-glib

MODGNOME_TOOLS +=	gobject-introspection

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--without-openldap \
		--disable-gtk \
		--disable-orbit \
		--disable-defaults-service
d43 2
a44 2
FAKE_FLAGS=	sysgconfdir=${PREFIX}/share/examples/gconf2 \
		sysconfdir=${PREFIX}/share/examples/gconf2
@


1.91
log
@add some simple missing lzma WANTLIBs (crept in via libxml)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2015/04/04 09:21:00 ajacoutot Exp $
d9 1
a9 1
REVISION=	6
@


1.90
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2014/04/01 18:06:28 jasper Exp $
d9 1
a9 1
REVISION=	5
d21 2
a22 3
WANTLIB += c gio-2.0 glib-2.0 gmodule-2.0 ffi
WANTLIB += gobject-2.0 gthread-2.0 pcre pthread z
WANTLIB += m xml2 dbus-1 dbus-glib-1
@


1.89
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2014/04/01 15:31:45 jasper Exp $
d9 1
a9 1
REVISION=	4
@


1.88
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2014/03/27 09:00:39 ajacoutot Exp $
d37 1
a37 1
MODGNOME_TOOLS=	gobject-introspection
@


1.87
log
@Consistency in the gio-querymodules call.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2013/09/28 08:50:44 ajacoutot Exp $
d37 1
a37 1
MODGNOME_TOOLS=	gi
@


1.86
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2013/09/27 17:48:32 ajacoutot Exp $
d9 1
a9 1
REVISION=	3
@


1.85
log
@Drop -main.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2013/09/27 17:33:20 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
a13 2

HOMEPAGE=	http://www.gnome.org/projects/gconf/
@


1.84
log
@Drop the -polkit subpackage, it makes no sense nowadays.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2013/04/16 13:17:00 ajacoutot Exp $
d3 1
a3 1
COMMENT-main=	configuration database system for GNOME
d7 1
a7 1
PKGNAME-main=	gconf2-${GNOME_VERSION}
d9 1
a9 1
REVISION-main=	1
d30 2
a31 2
# needed for gsettings-schema-convert(1) (-main)
MODULES+=	lang/python
d36 1
a36 6
MULTI_PACKAGES=	-main

RUN_DEPENDS-main= ${MODGETTEXT_RUN_DEPENDS} \
		${MODPY_RUN_DEPENDS}
LIB_DEPENDS-main= ${LIB_DEPENDS} \
		textproc/libxml \
d44 2
a45 1
		--disable-orbit
a48 2

CONFIGURE_ARGS+= --disable-defaults-service
@


1.83
log
@goi -> gi (gnome MODULE change).
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.82 2013/03/30 13:03:45 ajacoutot Exp $

# gconf2-polkit requires spidermonkey
ONLY_FOR_ARCHS-polkit=	alpha amd64 i386 hppa mips64el mips64 powerpc sparc64
a3 1
COMMENT-polkit=	PolicyKit integration for GConf2
a6 2
PKGNAME=	gconf2-${GNOME_VERSION}

a7 1
PKGNAME-polkit=	gconf2-polkit-${GNOME_VERSION}
d9 1
a9 2
REVISION-main=	0
REVISION-polkit=1
a13 1
CATEGORIES-polkit= devel sysutils
d25 1
a25 7

WANTLIB-main += ${WANTLIB} m xml2 dbus-1 dbus-glib-1

WANTLIB-polkit += ${WANTLIB} gconf-2 polkit-gobject-1
WANTLIB-polkit += c dbus-1 dbus-glib-1 gio-2.0 glib-2.0
WANTLIB-polkit += gmodule-2.0 gobject-2.0 gthread-2.0 pcre pthread z
WANTLIB-polkit += dbus-1 dbus-glib-1
d36 1
a36 1
MULTI_PACKAGES=	-main -polkit
a43 8
RUN_DEPENDS-polkit=${MODGETTEXT_RUN_DEPENDS}
LIB_DEPENDS-polkit= ${LIB_DEPENDS} \
		devel/gconf2 \
		sysutils/polkit

# polkit(8) almost always needs to know the "active" session
RUN_DEPENDS-polkit +=sysutils/consolekit

a53 5
PSEUDO_FLAVORS=	no_polkit
FLAVOR?=

.include <bsd.port.arch.mk>
.if !${BUILD_PACKAGES:M-polkit}
a54 3
.else
CONFIGURE_ARGS+= --enable-defaults-service
.endif
@


1.82
log
@Anything that uses polkit should really RUN_DEPENDS on consolekit;
otherwise we have no way to know the active session.

discussed/agreed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2013/03/11 10:50:04 espie Exp $
d67 1
a67 1
MODGNOME_TOOLS=	goi
@


1.81
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2013/03/05 10:26:58 sthen Exp $
d17 1
d59 1
a59 1
RUN_DEPENDS-polkit= # empty
d63 3
@


1.80
log
@add cruft to knock out the -polkit package on arch where spidermonkey fails
ok aja@@ and landry noticed I was missing some arches from the list
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2013/02/06 14:29:49 ajacoutot Exp $
a28 1
PERMIT_PACKAGE_FTP=	Yes
a29 2
PERMIT_DISTFILES_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
@


1.79
log
@Fix a crasher (upstream).
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.78 2013/01/22 06:10:28 ajacoutot Exp $
a69 1
		--enable-defaults-service \
d75 10
@


1.78
log
@Update to gconf2-3.2.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2012/09/29 13:14:05 ajacoutot Exp $
d12 2
@


1.77
log
@@@comment -> post-install rm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2012/04/30 14:50:15 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	3.2.5
a11 2

REVISION-main=	2
@


1.76
log
@Remove unneeded patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2012/04/01 08:52:11 ajacoutot Exp $
d13 1
a13 1
REVISION-main=	1
d79 2
@


1.75
log
@Remove bogus dirs from PLIST-main.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2012/03/23 13:24:10 ajacoutot Exp $
d13 1
a13 1
REVISION-main=	0
@


1.74
log
@Update to gconf2-3.2.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2011/12/30 11:15:20 ajacoutot Exp $
d12 2
@


1.73
log
@Missing gio-querymodules goo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2011/10/31 17:13:08 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	3.2.3
a11 2

REVISION-main=	1
@


1.72
log
@Missed a couple of dirs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2011/10/31 16:29:56 ajacoutot Exp $
d13 1
a13 1
REVISION-main=	0
@


1.71
log
@Bugfix update to gconf2-3.2.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/10/29 08:10:12 ajacoutot Exp $
d12 2
@


1.70
log
@Remove ORBit support and use GDBus for IPC.

lots of WANTLIB fallout (fix coming right up)

bulk testing by jasper@@, thanks
some sqlports clue from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/10/26 17:12:52 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	3.2.2
a11 3

REVISION-main=	0
REVISION-polkit=0
@


1.69
log
@Bugfix update to gconf2-3.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/09/28 09:51:35 jasper Exp $
d13 3
d35 1
a35 1
WANTLIB-main += ${WANTLIB} ORBit-2 m xml2 dbus-1 dbus-glib-1
d38 1
a38 1
WANTLIB-polkit += ORBit-2 c dbus-1 dbus-glib-1 gio-2.0 glib-2.0
a55 1
		devel/ORBit2 \
d69 2
a70 1
		--disable-gtk
@


1.68
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/09/27 09:24:53 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	3.2.0
a11 3

REVISION-main=	0
REVISION-polkit=0
@


1.67
log
@Bye bye gconf-sanity-check-2...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/09/26 16:13:22 ajacoutot Exp $
a67 2
CONFIGURE_ENV= 	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.66
log
@Update to gconf2-3.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/09/20 21:04:24 jasper Exp $
a4 1
COMMENT-gtk=	GConf2 configuration checker
d12 3
a14 1
PKGNAME-gtk=	gconf2-sanity-check-${GNOME_VERSION}
a19 1
CATEGORIES-gtk= devel x11
a41 9
WANTLIB-gtk += ${WANTLIB}
WANTLIB-gtk += GL ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB-gtk += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0
WANTLIB-gtk += cairo drm expat fontconfig freetype gconf-2
WANTLIB-gtk += gdk_pixbuf-2.0 m pango-1.0 pangocairo-1.0
WANTLIB-gtk += pangoft2-1.0 pixman-1 png pthread-stubs xcb xcb-render
WANTLIB-gtk += xcb-shm xml2 cairo-gobject gdk-3 gtk-3
WANTLIB-gtk += dbus-1 dbus-glib-1 kvm

d45 1
a45 1
# needed for gsettings-schema-convert(1)
d51 1
a51 1
MULTI_PACKAGES=	-main -polkit -gtk
d53 2
a54 1
RUN_DEPENDS-main= ${MODGETTEXT_RUN_DEPENDS}
d65 1
a65 6
RUN_DEPENDS-gtk= # empty
LIB_DEPENDS-gtk= ${LIB_DEPENDS} \
		devel/gconf2 \
		x11/gtk+3

MODGNOME_TOOLS= 	goi
d72 1
a72 3
		--with-gtk=3.0

USE_GROFF=	Yes
@


1.65
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/09/20 20:51:51 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	2.32.4
a14 4
REVISION-main=	2
REVISION-gtk=	3
REVISION-polkit=2

d32 1
a32 3
EXTRACT_SUFX=		.tar.bz2

WANTLIB += c gio-2.0 glib-2.0 gmodule-2.0
d49 1
@


1.64
log
@switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/09/18 22:04:01 ajacoutot Exp $
d88 1
a88 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--without-openldap \
@


1.63
log
@Unbreak gsettings-schema-convert.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/09/16 09:24:49 espie Exp $
a66 2
BUILD_DEPENDS=	devel/gobject-introspection

d83 2
a88 1
		--disable-gtk-doc \
a89 1
		--enable-introspection \
@


1.62
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2011/09/12 12:07:25 jasper Exp $
d9 1
d15 3
a17 3
REVISION-main=	1
REVISION-gtk=	2
REVISION-polkit=1
d58 6
@


1.61
log
@switch the rest of the ports using gnome.port.mk over to .tar.xz where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2011/09/12 08:43:00 ajacoutot Exp $
d14 3
a16 3
REVISION-main=	0
REVISION-gtk=	1
REVISION-polkit=0
@


1.60
log
@Add missing --with-gtk=3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/09/12 08:21:08 ajacoutot Exp $
d34 2
@


1.59
log
@Drop gtk2 FLAVOR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/06/16 15:30:14 ajacoutot Exp $
d15 1
a15 1
REVISION-gtk=	0
d83 2
a84 1
		--enable-defaults-service
@


1.58
log
@Minor update to gconf2-2.32.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2011/05/14 22:18:13 ajacoutot Exp $
d14 3
a16 4
FULLPKGNAME-main= gconf2-${GNOME_VERSION}
FULLPKGPATH-main= devel/gconf2,-main
FULLPKGNAME-polkit= gconf2-polkit-${GNOME_VERSION}
FULLPKGPATH-polkit= devel/gconf2,-polkit
d51 1
a51 1
WANTLIB-gtk += xcb-shm xml2
d73 2
a74 1
		devel/gconf2
a85 13

FLAVORS=	gtk2
FLAVOR?=

.if ${FLAVOR:L:Mgtk2}
WANTLIB-gtk += gdk-x11-2.0 gtk-x11-2.0
LIB_DEPENDS-gtk += x11/gtk+2
CONFIGURE_ARGS+=--with-gtk=2.0
.else
WANTLIB-gtk += cairo-gobject gdk-3 gtk-3
LIB_DEPENDS-gtk += x11/gtk+3
CONFIGURE_ARGS+=--with-gtk=3.0
.endif
@


1.57
log
@Add a gtk2 FLAVOR for the -gtk (gconf2-sanity-check) subpackage (default
FLAVOR being gtk+3).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/05/14 21:34:30 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	2.32.3
a17 3

REVISION-main=	0
REVISION-polkit= 1
@


1.56
log
@It is stupid to force a gtk+{2,3} dependency on gconf2 where only one
port actually uses the gconf2-sanity-check-2 binary (which brings the
gtk+ dependency), namely gnome-session.
So, subpackage gconf2-sanity-check-2 into its own package.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/04/28 13:10:57 ajacoutot Exp $
d14 5
d52 2
a53 2
WANTLIB-gtk += cairo drm expat fontconfig freetype gconf-2 gdk-x11-2.0
WANTLIB-gtk += gdk_pixbuf-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0
d77 1
a77 2
		devel/gconf2 \
		x11/gtk+2
d88 8
d97 5
a101 2

USE_GROFF=	Yes
@


1.55
log
@Regen dependencies after recent updates: drop eggdbus dependency.
(this will also fix a symbol conflict between libeggdbus and glib2)

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/04/25 11:05:35 ajacoutot Exp $
d5 1
d12 1
d14 2
a15 1
REVISION-polkit= 0
d21 1
d34 1
a34 1
WANTLIB += c dbus-1 dbus-glib-1 gio-2.0 glib-2.0 gmodule-2.0
d37 1
a37 7
WANTLIB-main += ${WANTLIB} gdk-x11-2.0 gdk_pixbuf-2.0 gtk-x11-2.0
WANTLIB-main += X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB-main += Xi Xinerama Xrandr Xrender atk-1.0 c cairo dbus-1 expat
WANTLIB-main += fontconfig freetype gio-2.0 glib-2.0 gmodule-2.0 xcb-shm
WANTLIB-main += gobject-2.0 gthread-2.0 m pango-1.0 pangocairo-1.0
WANTLIB-main += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB-main += xcb xcb-render z ORBit-2 xml2 dbus-glib-1 GL Xxf86vm drm
d42 9
d55 1
a55 1
MULTI_PACKAGES=	-main -polkit
d59 1
a60 1
		x11/gtk+2 \
d65 1
d70 5
d78 1
a78 1
CONFIGURE_ARGS+= ${CONFIGURE_SHARED} \
a79 1
		--with-gtk=2.0 \
d83 4
a86 1
USE_GROFF =	Yes
@


1.54
log
@Update to gconf2-2.32.3.
* translation updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/04/18 10:40:27 ajacoutot Exp $
d12 2
d42 1
a42 1
WANTLIB-polkit += ORBit-2 c dbus-1 dbus-glib-1 eggdbus-1 gio-2.0 glib-2.0
@


1.53
log
@Remove now unneeded patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/04/10 08:33:13 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	2.32.2
a10 2

REVISION-main=	2
@


1.52
log
@Fix a path in the documentation.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/04/07 07:51:54 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	1
@


1.51
log
@Add introspection support (needed for on-going GNOME 3 work).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/04/04 13:14:45 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	0
d75 3
@


1.50
log
@Minor update to gconf2-2.32.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/12/14 10:12:21 ajacoutot Exp $
d12 2
d50 2
a66 1
		--disable-introspection \
d69 1
@


1.49
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/11/15 19:45:57 espie Exp $
d7 1
a7 2
GNOME_VERSION=	2.32.0
REVISION-main=	2
d64 1
@


1.48
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/11/14 14:16:43 ajacoutot Exp $
d8 1
a8 1
REVISION-main=	1
d35 1
a35 1
WANTLIB-main += fontconfig freetype gio-2.0 glib-2.0 gmodule-2.0
d38 1
a38 1
WANTLIB-main += xcb xcb-render xcb-render-util z ORBit-2 xml2 dbus-glib-1
@


1.47
log
@Redirect stderr to /dev/null for the pkill(1) exec.
That is needed because one may want to install packages while running
on a ramdisk kernel which does not have kvm_getproc2().

discussed with robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/10/18 21:35:48 sthen Exp $
d50 4
a53 4
		::x11/gtk+2 \
		::devel/ORBit2 \
		::textproc/libxml \
		::x11/dbus-glib
d56 2
a57 2
		::devel/gconf2 \
		::sysutils/polkit
@


1.46
log
@fix a few tabtabUSE_GROFF, problem pointed out by Alexandr Shadchin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/10/18 17:47:52 espie Exp $
d8 1
a8 1
REVISION-main=	0
@


1.45
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/10/18 13:28:51 jasper Exp $
d67 1
a67 1
		USE_GROFF =	Yes
@


1.44
log
@- USE_X11 is default now from gnome.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/10/11 08:12:30 jasper Exp $
d67 1
@


1.43
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/09/30 07:32:49 ajacoutot Exp $
a57 2

USE_X11=	Yes
@


1.42
log
@Update to gconf2-2.32.0.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/08/02 07:25:50 espie Exp $
d8 1
d35 1
a35 1
WANTLIB-main += fontconfig freetype gio-2.0 glib-2.0 glitz gmodule-2.0
@


1.41
log
@fix updates from before MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/07/07 16:40:22 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	2.28.1
a10 1
REVISION-main = 2
d12 1
a12 1
SHARED_LIBS +=	gconf-2              6.2      # .5.5
d31 1
a31 1
WANTLIB-main += ${WANTLIB}
d37 1
a37 1
WANTLIB-main += xcb xcb-render xcb-render-util z
d39 1
a39 1
WANTLIB-polkit += ${WANTLIB}
d49 4
a52 4
		gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2 \
		ORBit-2.>=2.0::devel/ORBit2 \
		xml2.>=9::textproc/libxml \
		dbus-glib-1::x11/dbus-glib
d55 2
a56 2
		gconf-2.>=6::devel/gconf2 \
		polkit-gobject-1::sysutils/polkit
d64 2
@


1.40
log
@Subpackage this port so that polkit support is not enforced if not wanted.
gconf,-main -- same as current one
gconf,-polkit -- polkit support files (used to apply system-wide default
or mandatory settings)

ok jasper@@ robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/07/01 16:47:22 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=	gconf2-${GNOME_VERSION}p1
d11 1
@


1.39
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/03/30 12:52:30 ajacoutot Exp $
d3 2
a4 1
COMMENT=	configuration database system for GNOME
d8 3
a10 1
PKGNAME=	gconf2-${GNOME_VERSION}p0
d15 1
d28 14
a41 6
WANTLIB=	X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
		Xi Xinerama Xrandr Xrender atk-1.0 c cairo dbus-1 expat \
		fontconfig freetype gio-2.0 glib-2.0 glitz gmodule-2.0 \
		gobject-2.0 gthread-2.0 m pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs xcb z \
		xcb-render xcb-render-util
d46 4
a49 1
LIB_DEPENDS=	gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2 \
d54 4
d64 2
a65 4
		--without-openldap

# don't enforce polkit dependency for now
CONFIGURE_ARGS+= --disable-defaults-service
d67 2
a68 1
FAKE_FLAGS=	sysgconfdir=${PREFIX}/share/examples/gconf2
@


1.38
log
@Maintainance update to gconf2-2.28.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/11/07 08:41:15 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	gconf2-${GNOME_VERSION}
d28 2
a29 1
		pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs xcb z
d47 1
a47 1
# needs policykit
@


1.37
log
@Really kill the gconfd-2 process when gconftool-2 runs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2009/10/24 10:23:02 ajacoutot Exp $
d6 2
a7 2
GNOME_VERSION=	2.28.0
PKGNAME=	gconf2-${GNOME_VERSION}p0
@


1.36
log
@Major update to gconf2-2.28.0.
LDAP and policykit support are disabled.
Bring a patch from Fedora so that the gconf daemon gets killed when
gconftool-2 is run; this should fix some applications startup after first
installation.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/10/16 10:10:16 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	gconf2-${GNOME_VERSION}
@


1.35
log
@Hobbits take over.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/08/10 06:31:07 kili Exp $
d6 2
a7 2
GNOME_VERSION=	2.24.0
PKGNAME=	gconf2-${GNOME_VERSION}p2
d43 5
a47 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
@


1.34
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/06/07 01:28:38 ajacoutot Exp $
d7 2
a8 1
PKGNAME=	gconf2-${GNOME_VERSION}p1
d10 1
d14 3
@


1.33
log
@- create ${PREFIX}/share/schemas/ by default to prepare for the up-coming
gconf2.port.mk MODULE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2008/11/16 21:43:20 jasper Exp $
d7 1
a7 1
PKGNAME=	gconf2-${GNOME_VERSION}p0
d23 1
a23 1
		pangoft2-1.0 pcre pixman-1 png pthread z
@


1.32
log
@- update GConf to 2.24.0
- specify license version

tested in a bulk build by me
feedback and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2008/07/25 13:42:57 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	gconf2-${GNOME_VERSION}
d41 3
@


1.31
log
@- fix GCONF_ETCDIR
before this change it wasn't possible to add mandatory settings without
tweaking gconf
- while here, rework the way we build this port so we can drop some
patching
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/06/18 20:24:12 sthen Exp $
d6 3
a8 3
GNOME_VERSION=	2.22.0
PKGNAME=	gconf2-${GNOME_VERSION}p1
SHARED_LIBS +=	gconf-2              6.1      # .5.5
d13 1
a13 1
# LGPL
d20 4
a23 3
		Xi Xinerama Xrandr Xrender atk-1.0 c cairo expat fontconfig \
		freetype glitz m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
		pcre pixman-1 png pthread z
d28 1
a28 2
LIB_DEPENDS=	glib-2.0.>=1200.0,gmodule-2.0.>=1200.0,gobject-2.0.>=1200.0,gthread-2.0.>=1200.0::devel/glib2 \
		gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2 \
d30 2
a31 1
		xml2.>=9::textproc/libxml
@


1.30
log
@oops, I bumped DISTNAME not PKGNAME for this file with the cairo
WANTLIB sync. The package still built because gnome.port.mk overrode
DISTNAME, so the end result of this mistake was that the PKGNAME
didn't get bumped - missed because my test machine wasn't using
PLIST_DB.

Pointed out by naddy, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2008/06/15 00:06:25 sthen Exp $
d7 1
a7 1
PKGNAME=	gconf2-${GNOME_VERSION}p0
d18 1
d37 3
@


1.29
log
@sync wantlib and bump packages. ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2008/04/29 18:23:56 jasper Exp $
d7 1
a7 2
PKGNAME=	gconf2-${GNOME_VERSION}
DISTNAME=	${PKGNAME}p0
@


1.28
log
@- update gconf2 to 2.22.0
(mostly bug/build/doc fixes)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2008/04/18 09:19:21 jasper Exp $
d8 1
d22 1
a22 1
		pcre png pthread z
@


1.27
log
@- small tweak
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2008/04/18 09:07:33 ajacoutot Exp $
d6 3
a8 3
GNOME_VERSION=	2.20.1
PKGNAME=	gconf2-${GNOME_VERSION}p1
SHARED_LIBS +=	gconf-2              6.0      # .5.2
@


1.26
log
@- add missing /var/db/gconf/2/ directory

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2007/11/10 14:08:16 jasper Exp $
d7 1
a7 1
PKGNAME=	gconf2-${GNOME_VERSION}p0
@


1.25
log
@- update gconf2 to 2.20.1
- fix license marker
- switch to use gnome.port.mk

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/09/16 02:52:59 merdely Exp $
d7 1
a7 1
PKGNAME=	gconf2-${GNOME_VERSION}
@


1.24
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/04/24 12:53:37 jasper Exp $
d5 4
a8 4
VERSION=	2.18.0.1
DISTNAME=	GConf-${VERSION}
PKGNAME=	gconf2-${VERSION}
SHARED_LIBS +=	gconf-2         5.2           # .5.2
d13 1
a13 1
# GPL
d18 4
a21 3
WANTLIB=	X11 Xau Xcursor Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender atk-1.0 c cairo expat fontconfig freetype glitz \
		m pango-1.0 pangocairo-1.0 pangoft2-1.0 png pthread z
d23 2
a24 2
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/GConf/2.18/}
EXTRACT_SUFX=		.tar.bz2
a25 2
MODULES=	devel/gettext
BUILD_DEPENDS=	:p5-XML-Parser-*:textproc/p5-XML-Parser
a30 2
USE_LIBTOOL=	Yes
USE_GMAKE=	Yes
@


1.23
log
@update gconf2 to 2.18.0.1

based on diffs by alek@@

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
COMMENT=	"configuration database system for GNOME"
@


1.22
log
@WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2007/02/11 00:56:57 steven Exp $
d3 1
a3 1
COMMENT=		"configuration database system for GNOME"
d5 5
a9 4
VERSION=		2.10.1
DISTNAME=		GConf-${VERSION}
PKGNAME=		gconf2-${VERSION}p4
SHARED_LIBS +=	gconf-2              5.0      # .5.0
d11 1
a11 12
CATEGORIES=		devel

HOMEPAGE=		http://www.gnome.org/projects/gconf/

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/GConf/2.10/}
EXTRACT_SUFX=           .tar.bz2

MODULES=		devel/gettext

LIB_DEPENDS=		ORBit-2::devel/ORBit2 \
			gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2 \
			xml2.>=6::textproc/libxml
d14 1
d16 1
a16 1
PERMIT_PACKAGE_FTP=	Yes
d18 21
a38 22
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		X11 Xau Xdmcp Xrender atk-1.0 c expat m \
			fontconfig freetype glib-2.0 gmodule-2.0 \
			gobject-2.0 gthread-2.0 pango-1.0 \
			pangoft2-1.0 pangocairo-1.0 cairo glitz png \
			popt pthread z

DEFAULT_GCONF_SOURCE=	xml::/var/db/gconf/gconf.xml.defaults

USE_X11=		Yes
USE_GMAKE=		Yes
USE_LIBTOOL=		Yes
CONFIGURE_STYLE= 	gnu
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--disable-gtk-conf
CONFIGURE_ARGS+=	--enable-gconf-source=${DEFAULT_GCONF_SOURCE}
CONFIGURE_ENV=  	CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

post-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gconf2; \
	cp -Rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/gconf2; \
@


1.21
log
@WANTLIB fixes, mostly needed by recent cairo update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/12/16 12:22:33 espie Exp $
d7 1
a7 1
PKGNAME=		gconf2-${VERSION}p3
d28 1
a28 1
WANTLIB=		ICE SM X11 Xrender Xext atk-1.0 c m \
@


1.20
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/10/28 11:19:20 espie Exp $
d7 1
a7 1
PKGNAME=		gconf2-${VERSION}p2
d28 1
a28 1
WANTLIB=		X11 Xrender Xext atk-1.0 c m \
@


1.19
log
@a few more SHARED_LIBS reformat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/09/18 11:40:07 espie Exp $
a18 1
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig
@


1.18
log
@remove `empty' version spec (.0.0) which is no longer needed to desambiguate
library names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/08/01 22:46:16 espie Exp $
d8 1
a8 1
SHARED_LIBS=		gconf-2 5.0
@


1.17
log
@new libspecs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/06/13 13:21:48 bernd Exp $
d21 1
a21 1
			gdk-x11-2.0.0.0,gdk_pixbuf-2.0.0.0,gtk-x11-2.0.0.0::x11/gtk+2 \
d29 4
a32 4
WANTLIB=		X11 Xrender Xext atk-1.0.0.0 c m \
			fontconfig freetype glib-2.0.0.0 gmodule-2.0.0.0 \
			gobject-2.0.0.0 gthread-2.0.0.0 pango-1.0.0.0 \
			pangoft2-1.0.0.0 pangocairo-1.0.0.0 cairo glitz png \
@


1.16
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/01/16 17:06:25 steven Exp $
d22 1
a22 1
			xml2.6::textproc/libxml
@


1.15
log
@fix WANTLIB after gtk+2 downgrade
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/01/06 17:51:02 bernd Exp $
d7 1
a7 1
PKGNAME=		gconf2-${VERSION}p1
d29 1
a29 1
WANTLIB=		X11 Xrender Xext Xft atk-1.0.0.0 c m \
d32 1
a32 1
			pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 \
@


1.14
log
@- SHARED_LIBS, USE_LIBTOOL
- regen PLISTs with new gettext
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2005/11/13 16:53:48 marcm Exp $
d7 1
a7 1
PKGNAME=		gconf2-${VERSION}p0
d29 1
a29 1
WANTLIB=		X11 Xrender Xext atk-1.0.0.0 c cairo glitz \
d31 3
a33 3
			gobject-2.0.0.0 gthread-2.0.0.0 m pango-1.0.0.0 \
			pangoft2-1.0.0.0 pangocairo-1.0.1000.0 \
			popt pthread png z
@


1.13
log
@Update to 2.10.1.  WANTLIBS, USE_LIBTOOL.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/09/08 20:33:36 espie Exp $
d7 3
a9 1
PKGNAME=		gconf2-${VERSION}
@


1.12
log
@bad Marc Matteo, bump PKGNAME along with PLIST changes!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/09/04 23:42:53 marcm Exp $
d5 1
a5 1
VERSION=		2.10.0
d7 1
a7 1
PKGNAME=		gconf2-${VERSION}p1
d27 1
a27 1
WANTLIB=		X11 Xft Xrender atk-1.0.0.0 c \
d30 2
a31 4
			pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 \
			popt pthread z

SEPARATE_BUILD=		concurrent
d37 1
@


1.11
log
@Clean up /var/db/gconf on pkg_delete -c.  Bump package name.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/05/24 21:37:09 marcm Exp $
d7 1
a7 1
PKGNAME=		gconf2-${VERSION}p0
@


1.10
log
@Update to 2.10.0 for Gnome 2.10 platform.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/12/30 04:30:12 marcm Exp $
d7 1
a7 1
PKGNAME=		gconf2-${VERSION}
@


1.9
log
@Fix the libtool patching here.  -pthread handling was screwy and in
one rare case it showed up.  Regen remaining patches and lose the po
Makefile one.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/12/10 20:33:59 marcm Exp $
d5 1
a5 1
VERSION=		2.8.1
d7 1
a7 1
PKGNAME=		gconf2-${VERSION}p0
d12 1
a12 3
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/GConf/2.8/}
d27 1
a27 1
WANTLIB=		X11 Xcursor Xext Xft Xinerama Xrender atk-1.0.0.0 c \
@


1.8
log
@Update the supporting Gnome ports to their Gnome 2.8 versions.

ORBit2      2.10.2 -> 2.12.0
atk          1.6.1 -> 1.8.0
gconf-editor 2.6.2 -> 2.8.2
gconf2       2.6.2 -> 2.8.1
libIDL       0.8.3 -> 0.8.4
libgsf      1.10.0 -> 1.11.1
libgtop2     2.6.0 -> 2.8.1
libwnck      2.6.2 -> 2.8.1
pango        1.4.1 -> 1.6.0
startup-notification 0.5 -> 0.7

Real work done by Francois Briere.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/11/23 11:22:01 espie Exp $
d7 1
a7 1
PKGNAME=		gconf2-${VERSION}
@


1.7
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/08/10 12:42:22 xsa Exp $
d5 1
a5 1
VERSION=		2.6.2
d14 1
a14 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/GConf/2.6/}
d29 1
a29 1
WANTLIB=		X11 Xext Xft Xinerama Xrender atk-1.0.0.0 c \
d40 1
@


1.6
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/06/23 03:23:48 marcm Exp $
d29 5
@


1.5
log
@Updates to gconf-editor, gconf2, libglade2 and libwnck in support
of Gnome 2.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/10/07 05:47:57 marcm Exp $
d17 1
a17 1
MODULES=		gettext
@


1.4
log
@Update GNOME support ports to their Gnome 2.4 versions...

ORBit2    2.6.3 -> 2.8.1
gconf2    2.2.1 -> 2.4.0.1
libgtop2  2.0.2 -> 2.0.5
libwnck   2.2.2 -> 2.4.0.1
vte       0.10.29 -> 0.11.10

Also removes devel/linc since it has been rolled into devel/ORBit2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/06/12 19:37:27 marcm Exp $
d5 1
a5 1
VERSION=		2.4.0.1
d14 1
a14 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/GConf/2.4/}
@


1.3
log
@Update a number of GNOME related ports to their versions under the
GNOME 2.2.2 umbrella.
@
text
@d5 1
a5 1
VERSION=		2.2.1
d14 1
a14 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/GConf/2.2/}
d19 1
a19 1
BUILD_DEPENDS=		:pkgconfig->=0.12.0p1:devel/pkgconfig
@


1.2
log
@Update to 2.2.0 in support of Gnome 2.2.1

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/01/31 18:26:49 todd Exp $
d5 1
a5 1
VERSION=		2.2.0
a21 1
			gthread-2.0.0.7::devel/glib2 \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
VERSION=		1.2.1
d14 1
a14 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/GConf/1.2/}
@


1.1.1.1
log
@Import gconf2-1.2.1
--
GConf is a configuration database system, functionally similar to the
Windows registry but lots better.

For more information about GConf and the GNOME project, visit:

WWW: http://www.gnome.org/projects/gconf/

From marcm for gnome2
@
text
@@
