head	1.13;
access;
symbols
	OPENBSD_5_4:1.12.0.6
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.12.0.4
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.12.0.2
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.4
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.6.0.4
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.2
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.4
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.1.1.1.0.6
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.4
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	clamav_20050109:1.1.1.1
	mbalmer:1.1.1;
locks; strict;
comment	@# @;


1.13
date	2013.09.20.15.23.00;	author sthen;	state dead;
branches;
next	1.12;

1.12
date	2012.03.15.22.04.44;	author sthen;	state Exp;
branches
	1.12.6.1;
next	1.11;

1.11
date	2011.06.10.22.20.20;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2010.12.01.22.59.35;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.04.11.29.45;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2010.08.19.09.17.41;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2010.04.01.13.18.54;	author sthen;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2009.04.11.14.13.59;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2008.09.14.15.00.43;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.17.21.13.13;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2007.02.28.20.31.08;	author mbalmer;	state Exp;
branches;
next	1.2;

1.2
date	2006.08.15.18.48.22;	author mbalmer;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2005.01.09.17.07.52;	author mbalmer;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.01.09.17.07.52;	author mbalmer;	state Exp;
branches
	1.1.1.1.4.1
	1.1.1.1.6.1;
next	;

1.1.1.1.4.1
date	2006.08.20.10.11.17;	author sturm;	state Exp;
branches;
next	;

1.1.1.1.6.1
date	2006.08.20.10.11.40;	author sturm;	state Exp;
branches;
next	1.1.1.1.6.2;

1.1.1.1.6.2
date	2007.03.16.21.31.20;	author sturm;	state Exp;
branches;
next	;

1.2.2.1
date	2007.03.16.22.12.34;	author sturm;	state Exp;
branches;
next	;

1.7.2.1
date	2010.11.20.04.47.19;	author william;	state Exp;
branches;
next	;

1.12.6.1
date	2013.10.22.09.01.12;	author sthen;	state dead;
branches;
next	;


desc
@@


1.13
log
@update to clamav 0.98:

- signature improvements, performance improvements, support for new file
types including ISO9660, Flash, self-extracting 7z files

- more configurable limits

- callbacks added to API

while there, drop run dependency on zoo; clamav actually switched from zoo
to unzoo (which we don't have in ports) in 0.60(!) so this was doing nothing.
@
text
@--- etc/clamd.conf.orig	Tue Mar  6 16:31:31 2012
+++ etc/clamd.conf	Thu Mar 15 17:06:51 2012
@@@@ -11,7 +11,7 @@@@ Example
 # LogFile must be writable for the user running daemon.
 # A full path is required.
 # Default: disabled
-#LogFile /tmp/clamd.log
+#LogFile /var/log/clamd.log
 
 # By default the log file is locked for writing - the lock protects against
 # running clamd multiple times (if want to run another clamd, please
@@@@ -66,7 +66,7 @@@@ Example
 
 # Path to the database directory.
 # Default: hardcoded (depends on installation options)
-#DatabaseDirectory /var/lib/clamav
+#DatabaseDirectory /var/db/clamav
 
 # Only load the official signatures published by the ClamAV project.
 # Default: no
@@@@ -186,7 +186,7 @@@@ Example
 
 # Run as another user (clamd must be started by root for this option to work)
 # Default: don't drop privileges
-#User clamav
+#User _clamav
 
 # Initialize supplementary group access (clamd must be started by root).
 # Default: no
@@@@ -422,7 +422,7 @@@@ Example
 # deeply the process should be continued.
 # Note: setting this limit too high may result in severe damage to the system.
 # Default: 16
-#MaxRecursion 10
+MaxRecursion 12
 
 # Number of files to be scanned within an archive, a document, or any other
 # container file.
@


1.12
log
@update to ClamAV 0.97.4, minor bugfixes and detection improvements
- merge PFRAG.shared into PLIST, this is SHARED_ONLY
@
text
@@


1.12.6.1
log
@Now that sparc64 is fixed, update clamav in 5.4 to 0.98 as requested by jasper@@.
No direct security fixes, but improvements in the scanning engine make this a
desirable update.
@
text
@@


1.11
log
@bugfix update to clamav 0.97.1
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Fri May 13 12:25:31 2011
+++ etc/clamd.conf	Thu Jun  9 10:55:20 2011
d30 1
a30 1
@@@@ -409,7 +409,7 @@@@ Example
@


1.10
log
@update ClamAV to 0.96.5
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Fri Nov  5 14:25:19 2010
+++ etc/clamd.conf	Tue Nov 30 20:13:07 2010
d21 1
a21 1
@@@@ -187,7 +187,7 @@@@ Example
d30 1
a30 1
@@@@ -410,7 +410,7 @@@@ Example
@


1.9
log
@Make the default config work without eating all FDs.
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Fri Jul 30 14:25:16 2010
+++ etc/clamd.conf	Thu Nov  4 12:22:07 2010
d12 1
a12 1
@@@@ -67,7 +67,7 @@@@ Example
d21 1
a21 1
@@@@ -188,7 +188,7 @@@@ Example
d30 1
a30 1
@@@@ -405,7 +405,7 @@@@ Example
@


1.8
log
@update ClamAV to 0.96.2; earlier version ok pea@@ (with some port
Makefile cleanup since then), feedback giovanni@@

- better performance and reduced memory use
- various other fixes and minor enhancements
- new pdf parser
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Fri Jul 30 13:25:16 2010
+++ etc/clamd.conf	Thu Aug 12 21:54:06 2010
d30 9
@


1.7
log
@update to 0.96, ok pea@@
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Wed Mar 10 14:27:30 2010
+++ etc/clamd.conf	Wed Mar 10 21:28:41 2010
d12 1
a12 1
@@@@ -62,7 +62,7 @@@@ Example
d21 1
a21 1
@@@@ -183,7 +183,7 @@@@ Example
@


1.7.2.1
log
@MFC:

- - -
date: 2010/10/25 23:36:38;  author: sthen;  state: Exp;  lines: +3 -3
update ClamAV to 0.96.4.

as the release notes say, "a bugfix release recommended for all users"
(or as ChangeLog says, "fix stack smash")
- - -

ok sthen
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Fri Jul 30 14:25:16 2010
+++ etc/clamd.conf	Thu Nov  4 12:22:07 2010
d12 1
a12 1
@@@@ -67,7 +67,7 @@@@ Example
d21 1
a21 1
@@@@ -188,7 +188,7 @@@@ Example
a29 9
@@@@ -405,7 +405,7 @@@@ Example
 # deeply the process should be continued.
 # Note: setting this limit too high may result in severe damage to the system.
 # Default: 16
-#MaxRecursion 10
+MaxRecursion 12
 
 # Number of files to be scanned within an archive, a document, or any other
 # container file.
@


1.6
log
@security update to 0.95.1. it doesn't build with ports-tree libtool,
so use the bundled one and mark with XXX until it can be fixed better.
commit requested by mbalmer (maintainer).
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Tue Apr  7 11:32:06 2009
+++ etc/clamd.conf	Fri Apr 10 14:58:49 2009
d19 3
a21 3
 # The daemon can work in local mode, network mode or both. 
 # Due to security reasons we recommend the local mode.
@@@@ -167,7 +167,7 @@@@ LocalSocket /tmp/clamd.socket
@


1.5
log
@SECURITY and other bug fixes.

- A vulnerability in ClamAV's chm-parser allowed remote attackers to
cause a denial of service (application crash) via a malformed CHM file
(CVE-2008-1389).

- A vulnerability in libclamav would allow attackers to cause a
denial of service via vectors related to an out-of-memory condition
(CVE-2008-3912).

- Multiple memory leaks were found in ClamAV that could possibly allow
attackers to cause a denial of service via excessive memory consumption
(CVE-2008-3913).

- A number of unspecified vulnerabilities in ClamAV were reported that
have an unknown impact and attack vectors related to file descriptor
leaks (CVE-2008-3914).

various OpenBSD patches rolled in upstream. thanks to sturm@@
for looking over systrace.filter (needed for the test of sendmsg()
in configure to enable FD passing).
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Tue Sep  2 12:59:05 2008
+++ etc/clamd.conf	Fri Sep  5 02:32:34 2008
d19 3
a21 3
 # The daemon works in a local OR a network mode. Due to security reasons we
 # recommend the local mode.
@@@@ -147,7 +147,7 @@@@ LocalSocket /tmp/clamd.socket
@


1.4
log
@- use "_clamav" user as default in the config files (not "clamav")

"of course" mbalmer@@
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Tue Aug 21 00:56:19 2007
+++ etc/clamd.conf	Mon Sep 17 23:09:29 2007
d21 1
a21 1
@@@@ -141,7 +141,7 @@@@ LocalSocket /tmp/clamd.socket
@


1.3
log
@Update to ClamAV 0.90.  A lot of improvments and bugfixes, see www.clamav.net
for all details.

ok nikolay
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Mon Feb 12 19:18:42 2007
+++ etc/clamd.conf	Wed Feb 14 08:26:32 2007
d21 9
@


1.2
log
@security update to 0.88.4
ok pvalchev
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Wed Mar 29 07:01:45 2006
+++ etc/clamd.conf	Fri Jul 28 02:28:02 2006
d11 1
a11 1
 # running clamd multiple times (if you want to run another clamd instance,
@


1.2.2.1
log
@MFC:
Update to ClamAV 0.90.  A lot of improvments and bugfixes, see www.clamav.net
for all details.
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Mon Feb 12 19:18:42 2007
+++ etc/clamd.conf	Fri Mar 16 22:50:28 2007
d11 1
a11 1
 # running clamd multiple times (if want to run another clamd, please
@


1.1
log
@Initial revision
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Mon Oct 11 03:14:30 2004
+++ etc/clamd.conf	Tue Dec 21 16:37:52 2004
d11 1
a11 1
 # running clamd multiple times (if want to run another clamd, please
@


1.1.1.1
log
@Clam Antivirus is a free virus scanner with a command line scanner, a
scanning daemon (clamd), signature update from the net (freshclam), and
a sendmail-milter (clamav-milter).

ok alek@@
@
text
@@


1.1.1.1.6.1
log
@MFC:
security update to 0.88.4
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Wed Mar 29 16:01:45 2006
+++ etc/clamd.conf	Wed Aug 16 22:25:34 2006
d11 1
a11 1
 # running clamd multiple times (if you want to run another clamd instance,
@


1.1.1.1.6.2
log
@MFC:
Update to ClamAV 0.90.  A lot of improvments and bugfixes, see www.clamav.net
for all details.
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Mon Feb 12 19:18:42 2007
+++ etc/clamd.conf	Fri Mar 16 19:08:38 2007
d11 1
a11 1
 # running clamd multiple times (if want to run another clamd, please
@


1.1.1.1.4.1
log
@MFC:
security update to 0.88.4
@
text
@d1 2
a2 2
--- etc/clamd.conf.orig	Wed Mar 29 16:01:45 2006
+++ etc/clamd.conf	Wed Aug 16 22:25:04 2006
d11 1
a11 1
 # running clamd multiple times (if you want to run another clamd instance,
@

