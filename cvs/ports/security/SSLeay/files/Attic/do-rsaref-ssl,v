head	1.3;
access;
symbols
	OPENBSD_2_6:1.2.0.4
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	marc_1998-Jul-11:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.3
date	99.11.04.17.39.51;	author dugsong;	state dead;
branches;
next	1.2;

1.2
date	99.03.28.23.03.25;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	98.07.12.06.24.18;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.07.12.06.24.18;	author marc;	state Exp;
branches;
next	;


desc
@@


1.3
log
@remove SSLeay port
@
text
@#!/bin/sh

# convert ssleay libs to use rsaref.
# ssleay should be build with ./Configure -DRSAref system-type
# and -I../../rsaref should be added to CFLAGS in the top Makefile.
# do a 'make', and run this script after it barfs out on the SSL
# apps (linking ssleay). then run 'make' again to finish off.
#
# dugsong@@monkey.org

TMPDIR=/tmp/ssleay-rsaref$$
CWD=`pwd`

trap 'rm -rf $TMPDIR ; exit 0' 0 1 2 3 13 15

if [ ! -f librsaref.a ]; then
  echo "where is librsaref? put it in $CWD"
  exit 1
fi

mkdir $TMPDIR
cp *.a $TMPDIR
cd $TMPDIR

echo "unpacking rsaref libs"
ar xv libRSAglue.a
ar xv librsaref.a

echo "adding rsaref objs to libcrypto"
ar -r -a rsa_enc.o libcrypto.a \
`(ar t libRSAglue.a ; ar t librsaref.a) | egrep '\.o'`

echo "generating new symbol table"
ranlib libcrypto.a

echo "backing up original libcrypto and libRSAglue"
cd $CWD
mv libcrypto.a libcrypto.a.orig
mv libRSAglue.a libRSAglue.a.orig
cp $TMPDIR/libcrypto.a .

echo "done."

exit 0
@


1.2
log
@use same Configure targets as libssl in the source tree
@
text
@@


1.1
log
@Initial revision
@
text
@a32 5
# can't do this cos we need to map RSA_PKCS1_SSLeay -> RSA_PKCS1_RSAref
# could modify src, but it's a pain to maintain.
#echo "getting rid of rsa_enc.o"
#ar dv libcrypto.a rsa_enc.o

@


1.1.1.1
log
@SSL port from dugsong@@monkey.org
@
text
@@
