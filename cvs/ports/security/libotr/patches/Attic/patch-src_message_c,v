head	1.4;
access;
symbols
	OPENBSD_5_7:1.3.0.6
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_4_2:1.1.0.4
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.2
	OPENBSD_4_1_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2015.04.03.16.15.40;	author stsp;	state dead;
branches;
next	1.3;
commitid	g9VFsQmI2Y2XROth;

1.3
date	2013.08.15.16.33.22;	author stsp;	state Exp;
branches;
next	1.2;

1.2
date	2007.11.29.14.05.48;	author okan;	state dead;
branches;
next	1.1;

1.1
date	2006.10.31.19.54.22;	author alek;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to libotr-4.1.0.
ok pascal@@
@
text
@$OpenBSD: patch-src_message_c,v 1.3 2013/08/15 16:33:22 stsp Exp $
Fix crash with net/bitlbee,otr.
--- src/message.c.orig	Wed Aug 14 17:26:39 2013
+++ src/message.c	Wed Aug 14 17:27:59 2013
@@@@ -441,7 +441,7 @@@@ fragment:
 	/* Fragment and send according to policy */
 	if (!err && messagep && *messagep) {
 	    if (context) {
-		err = fragment_and_send(ops, NULL, context, *messagep,
+		err = fragment_and_send(ops, opdata, context, *messagep,
 			fragPolicy, messagep);
 	    }
 	}
@


1.3
log
@Update libotr to version 4.0.0. Supports version 3 of the OTR protocol,
which most importantly adds support for multiple simultaneously logged-in
instances of the same user account.
ok pascal@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@update to 3.1.0 from Sebastien Carlier

ok steven@@
@
text
@d1 13
a13 12
$OpenBSD: patch-src_message_c,v 1.1 2006/10/31 19:54:22 alek Exp $
--- src/message.c.orig	Thu Oct 27 22:24:11 2005
+++ src/message.c	Sun Oct 29 00:31:54 2006
@@@@ -830,7 +830,7 @@@@ int otrl_message_receiving(OtrlUserState
 			    break;
 			}
 			format = is_conflict ? "We received an unreadable "
-			    "encrypted messahe from %s." :
+			    "encrypted message from %s." :
 			    "We received a malformed data message from %s.";
 			buf = malloc(strlen(format) + strlen(sender) - 1);
 			if (buf) {
@


1.1
log
@Add some changes from CVS; required by new gaim-otr plugin
@
text
@d1 1
a1 1
$OpenBSD$
@

