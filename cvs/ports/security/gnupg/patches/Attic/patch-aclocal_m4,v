head	1.3;
access;
symbols
	OPENBSD_3_6:1.2.0.6
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.4
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.1.0.4
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.2
	OPENBSD_3_2_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2005.01.29.19.27.18;	author sturm;	state dead;
branches;
next	1.2;

1.2
date	2003.05.27.14.54.43;	author brad;	state Exp;
branches
	1.2.4.1
	1.2.6.1;
next	1.1;

1.1
date	2002.09.30.00.31.30;	author drahn;	state Exp;
branches
	1.1.4.1;
next	;

1.1.4.1
date	2003.07.10.23.26.18;	author brad;	state Exp;
branches;
next	;

1.2.4.1
date	2005.04.17.08.18.45;	author robert;	state dead;
branches;
next	;

1.2.6.1
date	2005.04.17.08.16.06;	author robert;	state dead;
branches;
next	;


desc
@@


1.3
log
@update to GnuPG 1.4, new FLAVOR "card" to support usb card readers

initial version from Chris K. Young <cky at pobox.com>, adapted to
-current by Alec Berryman <alec at thened.net>

ok maintainer reinhard@@
@
text
@$OpenBSD: patch-aclocal_m4,v 1.2 2003/05/27 14:54:43 brad Exp $
--- aclocal.m4.orig	Thu May  1 08:34:09 2003
+++ aclocal.m4	Tue May 13 14:38:17 2003
@@@@ -247,13 +247,6 @@@@ define(GNUPG_CHECK_PIC,
             esac
         fi
 
-        case "$host_cpu" in
-        rs6000 | powerpc | powerpcle)
-          # Yippee! All RS/6000 and PowerPC code is position-independent.
-          CFLAGS_PIC=""
-          ;;
-        esac
-
         if test "$NO_PIC" = yes; then
             AC_MSG_RESULT(not possible)
         else
@@@@ -583,8 +576,8 @@@@ changequote([,])dnl
     fi
 
     # Make sure that we snagged all the symbols we need.
-    if egrep ' _?nm_test_var$' "$ac_nlist" >/dev/null; then
-      if egrep ' _?nm_test_func$' "$ac_nlist" >/dev/null; then
+    if egrep ' nm_test_var$' "$ac_nlist" >/dev/null; then
+      if egrep ' nm_test_func$' "$ac_nlist" >/dev/null; then
         cat <<EOF > conftest.c
 #ifdef __cplusplus
 extern "C" {
@@@@ -592,7 +585,7 @@@@ extern "C" {
 
 EOF
         # Now generate the symbol file.
-        sed 's/^.* _\?\(.*\)$/extern char \1;/' < "$ac_nlist" >> conftest.c
+        sed 's/^.* \(.*\)$/extern char \1;/' < "$ac_nlist" >> conftest.c
 
         cat <<EOF >> conftest.c
 #if defined (__STDC__) && __STDC__
@@@@ -614,7 +607,7 @@@@ dld_preloaded_symbols[] =
 changequote([,])dnl
 {
 EOF
-        sed 's/^_\?\(.*\) _\?\(.*\)$/  {"\1", (__ptr_t) \&\2},/' < "$ac_nlist" >> conftest.c
+        sed 's/^\(.*\) \(.*\)$/  {"\1", (__ptr_t) \&\2},/' < "$ac_nlist" >> conftest.c
         cat <<\EOF >> conftest.c
   {0, (__ptr_t) 0}
 };
@@@@ -830,7 +823,7 @@@@ fi])])
 # CC etc. in the Makefile, will ask for an AC_PROG_CC use...
 
 
-AC_PREREQ([2.54])
+AC_PREREQ([2.52])
 
 # Autoconf 2.50 wants to disallow AM_ names.  We explicitly allow
 # the ones we care about.
@


1.2
log
@upgrade to gnupg 1.2.2

A bug was discovered in the key validation code.  This bug causes keys
with more than one user ID to give all user IDs on the key the amount
of validity given to the most-valid key.

http://marc.theaimsgroup.com/?l=bugtraq&m=105215110111174&w=2
--
MAINTAINER ok
@
text
@d1 1
a1 1
$OpenBSD: patch-aclocal_m4,v 1.1 2002/09/30 00:31:30 drahn Exp $
@


1.2.4.1
log
@SECURITY:
update to 1.4.1; fix a openpgp protocol vulnerability
http://www.vuxml.org/openbsd/be6057f4-9ecf-11d9-82a1-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
$OpenBSD: patch-aclocal_m4,v 1.2 2003/05/27 14:54:43 brad Exp $
@


1.2.6.1
log
@SECURITY:
update to 1.4.1; fix a openpgp protocol vulnerability
http://www.vuxml.org/openbsd/be6057f4-9ecf-11d9-82a1-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
$OpenBSD: patch-aclocal_m4,v 1.2 2003/05/27 14:54:43 brad Exp $
@


1.1
log
@powerpc does require pic flags when building shared library, do not remove
them during config. ok pvalchev@@
@
text
@d1 4
a4 4
$OpenBSD$
--- aclocal.m4.orig	Sun Sep 29 09:51:30 2002
+++ aclocal.m4	Sun Sep 29 09:51:37 2002
@@@@ -238,13 +238,6 @@@@ define(GNUPG_CHECK_PIC,
d18 38
@


1.1.4.1
log
@MFC:
upgrade to gnupg 1.2.2

A bug was discovered in the key validation code.  This bug causes keys
with more than one user ID to give all user IDs on the key the amount
of validity given to the most-valid key.

http://marc.theaimsgroup.com/?l=bugtraq&m=105215110111174&w=2
@
text
@d1 4
a4 4
$OpenBSD: patch-aclocal_m4,v 1.2 2003/05/27 14:54:43 brad Exp $
--- aclocal.m4.orig	Thu May  1 08:34:09 2003
+++ aclocal.m4	Tue May 13 14:38:17 2003
@@@@ -247,13 +247,6 @@@@ define(GNUPG_CHECK_PIC,
a17 38
@@@@ -583,8 +576,8 @@@@ changequote([,])dnl
     fi
 
     # Make sure that we snagged all the symbols we need.
-    if egrep ' _?nm_test_var$' "$ac_nlist" >/dev/null; then
-      if egrep ' _?nm_test_func$' "$ac_nlist" >/dev/null; then
+    if egrep ' nm_test_var$' "$ac_nlist" >/dev/null; then
+      if egrep ' nm_test_func$' "$ac_nlist" >/dev/null; then
         cat <<EOF > conftest.c
 #ifdef __cplusplus
 extern "C" {
@@@@ -592,7 +585,7 @@@@ extern "C" {
 
 EOF
         # Now generate the symbol file.
-        sed 's/^.* _\?\(.*\)$/extern char \1;/' < "$ac_nlist" >> conftest.c
+        sed 's/^.* \(.*\)$/extern char \1;/' < "$ac_nlist" >> conftest.c
 
         cat <<EOF >> conftest.c
 #if defined (__STDC__) && __STDC__
@@@@ -614,7 +607,7 @@@@ dld_preloaded_symbols[] =
 changequote([,])dnl
 {
 EOF
-        sed 's/^_\?\(.*\) _\?\(.*\)$/  {"\1", (__ptr_t) \&\2},/' < "$ac_nlist" >> conftest.c
+        sed 's/^\(.*\) \(.*\)$/  {"\1", (__ptr_t) \&\2},/' < "$ac_nlist" >> conftest.c
         cat <<\EOF >> conftest.c
   {0, (__ptr_t) 0}
 };
@@@@ -830,7 +823,7 @@@@ fi])])
 # CC etc. in the Makefile, will ask for an AC_PROG_CC use...
 
 
-AC_PREREQ([2.54])
+AC_PREREQ([2.52])
 
 # Autoconf 2.50 wants to disallow AM_ names.  We explicitly allow
 # the ones we care about.
@


