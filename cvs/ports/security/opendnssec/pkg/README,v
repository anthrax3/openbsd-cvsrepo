head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.2
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.1.1.1.0.6
	OPENBSD_6_1_BASE:1.1.1.1
	OPENBSD_6_0:1.1.1.1.0.4
	OPENBSD_6_0_BASE:1.1.1.1
	OPENBSD_5_9:1.1.1.1.0.2
	OPENBSD_5_9_BASE:1.1.1.1
	jca_2015-Oct-13:1.1.1.1
	jca:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2017.07.05.17.03.58;	author jasper;	state Exp;
branches;
next	1.1;
commitid	NhT3imiVQFkhW9LK;

1.1
date	2015.10.13.17.03.55;	author jca;	state Exp;
branches
	1.1.1.1;
next	;
commitid	E9ljCAH1uiPzX5LK;

1.1.1.1
date	2015.10.13.17.03.55;	author jca;	state Exp;
branches;
next	;
commitid	E9ljCAH1uiPzX5LK;


desc
@@


1.2
log
@spello
@
text
@$OpenBSD: README,v 1.1.1.1 2015/10/13 17:03:55 jca Exp $

+-----------------------------------------------------------------------
| Running ${FULLPKGNAME} on OpenBSD
+-----------------------------------------------------------------------

Getting started
===============
This is a summary of steps needed to get OpenDNSSEC up and running in a
basic state using SoftHSM as the key backend. Make sure you have
installed the softhsm package before proceeding.

Initial setup of SoftHSM
------------------------
Configure SoftHSM to store its token in
${LOCALSTATEDIR}/opendnssec/softhsm/:
# vi ${SYSCONFDIR}/softhsm.conf

Initialize the SoftHSM token (here assuming you used slot 0).
The user PIN code has to match the <PIN> configured in
${SYSCONFDIR}/opendnssec/conf.xml:
# softhsm --init-token --slot 0 --label OpenDNSSEC

Make sure the token is writeable by the _opendnssec user:
# chown _opendnssec ${LOCALSTATEDIR}/opendnssec/softhsm/slot0.db

Bootstrapping OpenDNSSEC
------------------------
Create an initial KASP database (if you are running the mysql flavor you
will first need to configure mariadb-server and modify <Datastore> in
${SYSCONFDIR}/opendnssec/conf.xml):
# ods-ksmutil setup

Start the OpenDNSSEC system:
# rcctl start opendnssec

Copy an unsigned zone file into the unsigned/ directory:
# cp <somewhere>/example.com ${LOCALSTATEDIR}/opendnssec/unsigned/

Add the zone:
# ods-ksmutil zone add --zone example.com --policy default

Notify the enforcer of the updated database:
# ods-control enforcer notify

You now have a signed version of example.com in the signed/ directory:
# cat ${LOCALSTATEDIR}/opendnssec/signed/example.com

List the keys for the zone:
# ods-ksmutil key list -v
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d15 1
a15 1
Configure SoftHSM to store it's token in
@


1.1.1.1
log
@Import opendnssec-1.4.8.2; from maintainer Patrik Lundin

Feedback and ok sthen@@

pkg/DESCR:

OpenDNSSEC was created as an open-source turn-key solution for DNSSEC.
It secures zone data just before it is published in an authoritative
name server.

@
text
@@
