head	1.9;
access;
symbols
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	jca_2015-Oct-13:1.1.1.1
	jca:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2017.03.17.21.12.11;	author fcambus;	state Exp;
branches;
next	1.8;
commitid	Wh57AGJckCEdh1Lm;

1.8
date	2016.11.19.12.25.27;	author sthen;	state Exp;
branches;
next	1.7;
commitid	kgSdXqv4fOksheny;

1.7
date	2016.09.23.09.16.57;	author sthen;	state Exp;
branches;
next	1.6;
commitid	XLnI6AbHAmyVU5mO;

1.6
date	2016.09.13.18.52.05;	author naddy;	state Exp;
branches;
next	1.5;
commitid	4Y8Q5bKBOfIWFq5Y;

1.5
date	2016.06.14.11.29.46;	author jca;	state Exp;
branches;
next	1.4;
commitid	41BshO0G5hRPPHD4;

1.4
date	2016.03.14.06.46.24;	author jca;	state Exp;
branches;
next	1.3;
commitid	psXogyrIQtQkGltx;

1.3
date	2016.01.25.15.05.39;	author sthen;	state Exp;
branches;
next	1.2;
commitid	w21yTcQ1izJCKFxw;

1.2
date	2015.12.22.07.02.24;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	r6ftceoNzdNqIhzm;

1.1
date	2015.10.13.17.03.55;	author jca;	state Exp;
branches
	1.1.1.1;
next	;
commitid	E9ljCAH1uiPzX5LK;

1.1.1.1
date	2015.10.13.17.03.55;	author jca;	state Exp;
branches;
next	;
commitid	E9ljCAH1uiPzX5LK;


desc
@@


1.9
log
@Update opendnssec to 1.4.13.

From maintainer Patrik Lundin.
@
text
@# $OpenBSD: Makefile,v 1.8 2016/11/19 12:25:27 sthen Exp $

COMMENT=	open-source turn-key solution for DNSSEC

DISTNAME=	opendnssec-1.4.13

CATEGORIES=	security

HOMEPAGE=	http://www.opendnssec.org/

MAINTAINER=	Patrik Lundin <patrik@@sigterm.se>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c crypto iconv ldns lzma m pthread xml2 z

MASTER_SITES=	http://dist.opendnssec.org/source/

LIB_DEPENDS=	converters/libiconv \
		net/ldns/libldns \
		textproc/libxml

TEST_DEPENDS=	security/softhsm

FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples/opendnssec

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --disable-pedantic

FLAVORS=	sqlite3 mysql
FLAVOR?=	sqlite3

.if ${FLAVOR:Msqlite3}
WANTLIB+=	sqlite3
LIB_DEPENDS+=	databases/sqlite3
.endif

.if ${FLAVOR:Mmysql}
CONFIGURE_ARGS+= --with-database-backend=mysql
WANTLIB+=	mysqlclient_r ssl stdc++
LIB_DEPENDS+=	databases/mariadb
.endif

.if ${FLAVOR:Msqlite3} && ${FLAVOR:Mmysql}
ERRORS+= "Fatal: mutually exclusive flavors: ${FLAVORS}"
.endif

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/opendnssec
	cd ${WRKSRC}; \
	${INSTALL_DATA} LICENSE ${PREFIX}/share/doc/opendnssec; \
	${INSTALL_DATA} plugins/simple-dnskey-mailer/simple-dnskey-mailer.sh \
			${PREFIX}/share/opendnssec

.include <bsd.port.mk>
@


1.8
log
@update to opendnssec-1.4.12, from Patrik Lundin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2016/09/23 09:16:57 sthen Exp $
d5 1
a5 1
DISTNAME=	opendnssec-1.4.12
@


1.7
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/09/13 18:52:05 naddy Exp $
d5 1
a5 2
DISTNAME=	opendnssec-1.4.10
REVISION=	0
a20 1
		databases/sqlite3 \
d36 1
@


1.6
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/06/14 11:29:46 jca Exp $
d6 1
d22 1
@


1.5
log
@Update to opendnssec-1.4.10

from Patrik Lundin (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2016/03/14 06:46:24 jca Exp $
d20 2
a21 1
LIB_DEPENDS=	net/ldns/libldns \
a24 2

MODULES=	converters/libiconv
@


1.4
log
@Remove SHARED_ONLY per maintainer request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/01/25 15:05:39 sthen Exp $
d5 1
a5 1
DISTNAME=	opendnssec-1.4.9
@


1.3
log
@Update to opendnssec-1.4.9, bug fixes including notably a fix for use with
>50 zones in combination with XFR based setup. From maintainer Patrik Lundin.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.2 2015/12/22 07:02:24 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.2
log
@/etc -> ${SYSCONFDIR}

from Patrik Lundin (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2015/10/13 17:03:55 jca Exp $
d7 1
a7 2
DISTNAME=	opendnssec-1.4.8.2
REVISION=	0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
@


1.1.1.1
log
@Import opendnssec-1.4.8.2; from maintainer Patrik Lundin

Feedback and ok sthen@@

pkg/DESCR:

OpenDNSSEC was created as an open-source turn-key solution for DNSSEC.
It secures zone data just before it is published in an authoritative
name server.

@
text
@@
