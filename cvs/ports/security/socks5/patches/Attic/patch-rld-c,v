head	1.2;
access;
symbols
	OPENBSD_2_7:1.1.0.2
	OPENBSD_2_7_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2000.11.02.17.39.47;	author espie;	state dead;
branches;
next	1.1;

1.1
date	2000.03.27.23.02.47;	author form;	state Exp;
branches;
next	;


desc
@@


1.2
log
@r10 vanished.
r11 includes most patches.

+ gcc -shared to build object module.
@
text
@# $OpenBSD: patch-rld-c,v 1.1 2000/03/27 23:02:47 form Exp $

--- lib/rld.c.orig	Tue Mar 28 04:56:16 2000
+++ lib/rld.c	Tue Mar 28 04:56:49 2000
@@@@ -118,8 +118,10 @@@@
     /* Synchronize access to func and lib opening functions if we can...     */
 
 #if __FreeBSD__ != 2
+#ifndef __OpenBSD__
     name++;
 #endif
+#endif
 
     if (*fptr) return;
 
@@@@ -143,7 +145,7 @@@@
 static void DGetOriginalFunc(void **fptr, char *name, int libmask) {
     /* Synchronize access to func and lib opening functions if we can...     */
 
-#ifndef __FreeBSD__
+#if !defined(__FreeBSD__) && !defined(__OpenBSD__)
     name++;
 #endif
 
@


1.1
log
@YES -> Yes
Fix runsocks bug.
bin/{socks5,stopsocks} -> sbin/
@
text
@d1 1
a1 1
# $OpenBSD: $
@

