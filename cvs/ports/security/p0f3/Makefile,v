head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.4
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.4.0.2
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.1.1.1.0.2
	OPENBSD_5_7_BASE:1.1.1.1
	sthen_20150108:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2017.02.26.20.13.05;	author sthen;	state Exp;
branches;
next	1.3;
commitid	g2kpVNvW7YPInvy9;

1.3
date	2016.04.25.15.17.08;	author sthen;	state Exp;
branches;
next	1.2;
commitid	D93bMmB8LPVQDv6O;

1.2
date	2015.07.20.03.13.47;	author jca;	state Exp;
branches;
next	1.1;
commitid	OQxShEW8BS6IV63K;

1.1
date	2015.01.08.22.03.20;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;
commitid	06wp5jpusgGBTAYl;

1.1.1.1
date	2015.01.08.22.03.20;	author sthen;	state Exp;
branches;
next	;
commitid	06wp5jpusgGBTAYl;


desc
@@


1.4
log
@honour CC
@
text
@# $OpenBSD: Makefile,v 1.3 2016/04/25 15:17:08 sthen Exp $

COMMENT=	passive OS fingerprinting tool

V=		3.09b
DISTNAME=	p0f-$V
PKGNAME=	p0f3-$V
EXTRACT_SUFX=	.tgz
CATEGORIES=     security net

HOMEPAGE=	http://lcamtuf.coredump.cx/p0f.shtml

# LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c pcap

MASTER_SITES=	http://lcamtuf.coredump.cx/p0f3/releases/

MAKE_FLAGS=	CC="${CC}"

BUILD_DEPENDS=	shells/bash

NO_TEST=	Yes

post-extract:
	perl -pi -e 's,^#!/bin/bash,#!${LOCALBASE}/bin/bash,' ${WRKSRC}/build.sh
	perl -pi -e 's,^/etc/,${SYSCONFDIR}/,g' ${WRKSRC}/config.h

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/p0f ${PREFIX}/sbin/p0f3
	${INSTALL_DATA_DIR} ${PREFIX}/share/{examples,doc}/p0f3
	${INSTALL_DATA} ${WRKSRC}/docs/* ${PREFIX}/share/doc/p0f3/
	${INSTALL_DATA} ${WRKSRC}/p0f.fp ${PREFIX}/share/examples/p0f3/p0f3.fp

.include <bsd.port.mk>
@


1.3
log
@update to p0f3 3.09b
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2015/07/20 03:13:47 jca Exp $
d19 2
@


1.2
log
@Don't for the use of PIE, cc knows better.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2015/01/08 22:03:20 sthen Exp $
d5 1
a5 2
V=		3.08b
REVISION=	0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
@


1.1.1.1
log
@import security/p0f3 (separate non-conflicting port to p0f as the rewrite uses
different database files than the earlier one / pf / tcpdump), ok giovanni@@

P0f is a tool that utilizes an array of sophisticated, purely passive
traffic fingerprinting mechanisms to identify the players behind any
incidental TCP/IP communications (often as little as a single normal SYN)
without interfering in any way. Version 3 is a complete rewrite of the
original codebase, incorporating a significant number of improvements to
network-level fingerprinting, and introducing the ability to reason about
application-level payloads (e.g., HTTP).

The tool can be operated in the foreground or as a daemon, and offers a
simple real-time API (via unix domain sockets) for third-party components
that wish to obtain additional information about the actors they are
talking to.
@
text
@@
