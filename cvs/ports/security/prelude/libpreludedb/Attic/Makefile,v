head	1.37;
access;
symbols
	OPENBSD_5_1_BASE:1.35
	OPENBSD_5_1:1.35.0.2
	OPENBSD_5_0:1.32.0.2
	OPENBSD_5_0_BASE:1.32
	OPENBSD_4_9:1.29.0.2
	OPENBSD_4_9_BASE:1.29
	OPENBSD_4_8:1.24.0.2
	OPENBSD_4_8_BASE:1.24
	OPENBSD_4_7:1.23.0.2
	OPENBSD_4_7_BASE:1.23
	OPENBSD_4_6:1.21.0.2
	OPENBSD_4_6_BASE:1.21
	OPENBSD_4_5:1.18.0.2
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.17.0.2
	OPENBSD_4_4_BASE:1.17
	OPENBSD_4_3:1.16.0.2
	OPENBSD_4_3_BASE:1.16
	OPENBSD_4_2:1.13.0.2
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.12.0.2
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.5.0.2
	OPENBSD_4_0_BASE:1.5
	aanriot_20060626:1.1.1.1
	aanriot:1.1.1;
locks; strict;
comment	@# @;


1.37
date	2012.07.09.09.05.22;	author ajacoutot;	state dead;
branches;
next	1.36;

1.36
date	2012.04.23.17.15.19;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2011.11.04.08.43.32;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2011.09.22.11.42.01;	author landry;	state Exp;
branches;
next	1.33;

1.33
date	2011.09.16.11.41.39;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2011.06.08.17.45.00;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2011.06.02.13.41.40;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2011.04.15.16.10.38;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.11.20.17.22.45;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2010.11.16.10.11.51;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2010.10.18.21.41.47;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.09.01.06.50.56;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2010.09.01.06.34.10;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.04.15.14.58.24;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.10.27.13.12.48;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2009.08.30.20.37.16;	author rui;	state Exp;
branches;
next	1.21;

1.21
date	2009.05.19.11.03.31;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2009.04.26.11.01.05;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2009.03.23.19.37.02;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2008.10.02.20.32.19;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2008.06.04.09.37.38;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2007.10.08.08.22.42;	author steven;	state Exp;
branches;
next	1.15;

1.15
date	2007.09.15.23.30.00;	author merdely;	state Exp;
branches;
next	1.14;

1.14
date	2007.08.27.17.46.47;	author aanriot;	state Exp;
branches;
next	1.13;

1.13
date	2007.04.15.11.38.10;	author aanriot;	state Exp;
branches;
next	1.12;

1.12
date	2007.01.23.11.43.39;	author aanriot;	state Exp;
branches;
next	1.11;

1.11
date	2007.01.07.12.38.09;	author aanriot;	state Exp;
branches;
next	1.10;

1.10
date	2006.12.30.16.30.11;	author aanriot;	state Exp;
branches;
next	1.9;

1.9
date	2006.11.25.19.54.16;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2006.10.09.15.15.18;	author aanriot;	state Exp;
branches;
next	1.7;

1.7
date	2006.10.06.07.50.36;	author aanriot;	state Exp;
branches;
next	1.6;

1.6
date	2006.09.24.20.37.14;	author aanriot;	state Exp;
branches;
next	1.5;

1.5
date	2006.08.03.23.28.12;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2006.07.26.07.07.16;	author aanriot;	state Exp;
branches;
next	1.3;

1.3
date	2006.07.05.12.06.45;	author aanriot;	state Exp;
branches;
next	1.2;

1.2
date	2006.07.01.10.44.22;	author aanriot;	state Exp;
branches;
next	1.1;

1.1
date	2006.06.26.18.04.26;	author aanriot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.06.26.18.04.26;	author aanriot;	state Exp;
branches;
next	;


desc
@@


1.37
log
@Remove prelude. It's been unmaintained for years. Updating to a newer
version would require a lot of work and we have no maintainer; not to
mention the source code is not available right now.
A "security" software that is unmaintained is something that should live
in an attic.

ok jasper@@ sthen@@
@
text
@# $OpenBSD: Makefile,v 1.36 2012/04/23 17:15:19 espie Exp $

COMMENT-main=	Prelude framework database-access library
COMMENT-pgsql=	PostgreSQL module for libpreludedb
COMMENT-mysql=	MySQL module for libpreludedb
COMMENT-sqlite=	SQLite3 module for libpreludedb

VERSION=	0.9.15.3
DISTNAME=	libpreludedb-${VERSION}

PKGNAME-main=	prelude-libpreludedb-${VERSION}
PKGNAME-pgsql=	prelude-libpreludedb-pgsql-${VERSION}
PKGNAME-mysql=	prelude-libpreludedb-mysql-${VERSION}
PKGNAME-sqlite=	prelude-libpreludedb-sqlite-${VERSION}

REVISION-main=	10
REVISION-pgsql=	7	
REVISION-mysql=	7
REVISION-sqlite=8

MODPY_EGG_VERSION=0.0.0

MASTER_SITES=	http://www.prelude-ids.com/download/releases/libpreludedb/

MODULES=	lang/python \
		devel/gettext
USE_GROFF =	Yes

SHARED_LIBS=	preludedb	4.9

WANTLIB=	tasn1 z gcrypt gnutls prelude gmp gpg-error hogweed nettle \
		p11-kit
WANTLIB-main=	${WANTLIB} c pthread ${MODPY_WANTLIB}
WANTLIB-mysql=	${WANTLIB} preludedb lib/mysql/mysqlclient crypto m ssl
WANTLIB-pgsql=	${WANTLIB} preludedb pq
WANTLIB-sqlite=	${WANTLIB} preludedb sqlite3

LIB_DEPENDS=		security/libgcrypt \
			security/gnutls \
			security/prelude/libprelude

LIB_DEPENDS-pgsql=	${LIB_DEPENDS} \
			${BUILD_PKGPATH} \
			databases/postgresql

LIB_DEPENDS-mysql=	${LIB_DEPENDS} \
			${BUILD_PKGPATH} \
			databases/mysql

LIB_DEPENDS-sqlite=	${LIB_DEPENDS} \
			${BUILD_PKGPATH}

RUN_DEPENDS-pgsql=	# empty
RUN_DEPENDS-mysql=	# empty
RUN_DEPENDS-sqlite=	# empty

CONFIGURE_STYLE=gnu

PSEUDO_FLAVORS=	no_pgsql no_mysql no_sqlite
FLAVOR?=
MULTI_PACKAGES=	-main

.if empty(FLAVOR:L:Mno_pgsql)
MULTI_PACKAGES+=-pgsql
CONFIGURE_ARGS+=--with-postgresql
.else
CONFIGURE_ARGS+=--without-postgresql
.endif

.if empty(FLAVOR:L:Mno_mysql)
MULTI_PACKAGES+=-mysql
CONFIGURE_ARGS+=--with-mysql
.else
CONFIGURE_ARGS+=--without-mysql
.endif

.if empty(FLAVOR:L:Mno_sqlite)
MULTI_PACKAGES+=-sqlite
CONFIGURE_ARGS+=--with-sqlite3
.else
CONFIGURE_ARGS+=--without-sqlite3
.endif

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/lib/libpreludedb/plugins/sql/

.include <bsd.port.mk>
@


1.36
log
@first pass at handling sqlite3 move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/11/04 08:43:32 jasper Exp $
@


1.35
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/09/22 11:42:01 landry Exp $
d19 1
a19 1
REVISION-sqlite=7
d51 1
a51 2
			${BUILD_PKGPATH} \
			databases/sqlite3
@


1.34
log
@Missed bump in previous maintainership reset commit. Wee, free commit!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/09/16 11:41:39 espie Exp $
d16 4
a19 4
REVISION-main=	9
REVISION-pgsql=	6	
REVISION-mysql=	6
REVISION-sqlite=6
d31 3
a33 2
WANTLIB=	tasn1 z gcrypt gnutls prelude gmp gpg-error hogweed nettle
WANTLIB-main=	${WANTLIB} c
@


1.33
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/06/08 17:45:00 jasper Exp $
d16 4
a19 4
REVISION-main=	8
REVISION-pgsql=	5
REVISION-mysql=	5
REVISION-sqlite=5
@


1.32
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/06/02 13:41:40 ajacoutot Exp $
d16 4
a19 4
REVISION-main=	7
REVISION-pgsql=	4
REVISION-mysql=	4
REVISION-sqlite=4
@


1.31
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/04/15 16:10:38 ajacoutot Exp $
d16 4
a19 4
REVISION-main=	6
REVISION-pgsql=	3
REVISION-mysql=	3
REVISION-sqlite=3
@


1.30
log
@Fix DEPENDS after gnutls update.

ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/11/20 17:22:45 espie Exp $
d16 1
a16 1
REVISION-main=	5
@


1.29
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/11/16 10:11:51 jasper Exp $
d16 4
a19 4
REVISION-main=	4
REVISION-pgsql=	2
REVISION-mysql=	2
REVISION-sqlite=2
d31 1
a31 1
WANTLIB=	tasn1 z gcrypt gnutls prelude
a38 1
			security/libgpg-error \
@


1.28
log
@- switch to pkg-readmes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/10/18 21:41:47 espie Exp $
d37 4
a40 4
LIB_DEPENDS=		::security/libgcrypt \
			::security/gnutls \
			::security/libgpg-error \
			::security/prelude/libprelude
d43 2
a44 2
			::${BUILD_PKGPATH} \
			::databases/postgresql
d47 2
a48 2
			::${BUILD_PKGPATH} \
			::databases/mysql
d51 2
a52 2
			::${BUILD_PKGPATH} \
			::databases/sqlite3
@


1.27
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/09/01 06:50:56 ajacoutot Exp $
d16 1
a16 1
REVISION-main=	3
a86 3
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/libpreludedb/
	${INSTALL_DATA} ${FILESDIR}/README.OpenBSD \
		${PREFIX}/share/doc/libpreludedb/
@


1.26
log
@Switch to new DEPENDS/REVISION.
While here, fix the run dependencies of the libpreludedb subpackages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/09/01 06:34:10 ajacoutot Exp $
d27 1
@


1.25
log
@Bump after python 2.6 switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/04/15 14:58:24 ajacoutot Exp $
d16 4
a19 4
REVISION-main=	2
REVISION-pgsql=	1
REVISION-mysql=	1
REVISION-sqlite=1
d30 1
a30 1
WANTLIB=	tasn1 z
d32 8
a39 6
WANTLIB-mysql=	${WANTLIB} crypto m ssl

LIB_DEPENDS=		gcrypt.>=12::security/libgcrypt \
			gnutls.>=12::security/gnutls \
			gpg-error.>=1::security/libgpg-error \
			prelude.>=20.1::security/prelude/libprelude
d42 2
a43 2
			preludedb.>=4.9::${BUILD_PKGPATH} \
			pq.>=4::databases/postgresql
d46 2
a47 2
			preludedb.>=4.9::${BUILD_PKGPATH} \
			lib/mysql/mysqlclient.>=16::databases/mysql
d50 6
a55 2
			preludedb.>=4.9::${BUILD_PKGPATH} \
			sqlite3.>=8::databases/sqlite3
@


1.24
log
@Stupid poor blank lines, stupid poor blank lines...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/10/27 13:12:48 jasper Exp $
d11 9
a19 4
PKGNAME-main=	prelude-libpreludedb-${VERSION}p1
PKGNAME-pgsql=	prelude-libpreludedb-pgsql-${VERSION}p0
PKGNAME-mysql=	prelude-libpreludedb-mysql-${VERSION}p0
PKGNAME-sqlite=	prelude-libpreludedb-sqlite-${VERSION}p0
@


1.23
log
@- remove patch now that we have ENOTSUP defined
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/08/30 20:37:16 rui Exp $
d11 1
a11 1
PKGNAME-main=	prelude-libpreludedb-${VERSION}p0
@


1.22
log
@long overdue update to prelude.

"reads fine" landry@@, "look okay to me" laurent@@, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/05/19 11:03:31 sthen Exp $
d11 4
a14 4
PKGNAME-main=	prelude-libpreludedb-${VERSION}
PKGNAME-pgsql=	prelude-libpreludedb-pgsql-${VERSION}
PKGNAME-mysql=	prelude-libpreludedb-mysql-${VERSION}
PKGNAME-sqlite=	prelude-libpreludedb-sqlite-${VERSION}
@


1.21
log
@add tasn1 to WANTLIB and bump packages/subpackages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/04/26 11:01:05 ajacoutot Exp $
d8 1
a8 1
VERSION=	0.9.13
d11 5
d18 1
a18 4
PKGNAME-main=	prelude-libpreludedb-${VERSION}p4
PKGNAME-pgsql=	prelude-libpreludedb-pgsql-${VERSION}p2
PKGNAME-mysql=	prelude-libpreludedb-mysql-${VERSION}p2
PKGNAME-sqlite=	prelude-libpreludedb-sqlite-${VERSION}p2
d23 1
a23 1
SHARED_LIBS=	preludedb	4.7	# .4.5
d26 1
a26 1
WANTLIB-main=	${WANTLIB} c pthread
d32 1
a32 1
			prelude.>=7::security/prelude/libprelude
d35 1
a35 1
			preludedb.>=3::${BUILD_PKGPATH} \
d39 1
a39 1
			preludedb.>=3::${BUILD_PKGPATH} \
d43 1
a43 1
			preludedb.>=3::${BUILD_PKGPATH} \
d54 1
a54 1
CONFIGURE_ARGS+=--with-pgsql
d56 1
a56 1
CONFIGURE_ARGS+=--without-pgsql
@


1.20
log
@CONFIGURE_ENV += PYTHON="${MODPY_BIN}" is inherited from the python module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/03/23 19:37:02 sthen Exp $
d13 4
a16 4
PKGNAME-main=	prelude-libpreludedb-${VERSION}p3
PKGNAME-pgsql=	prelude-libpreludedb-pgsql-${VERSION}p1
PKGNAME-mysql=	prelude-libpreludedb-mysql-${VERSION}p1
PKGNAME-sqlite=	prelude-libpreludedb-sqlite-${VERSION}p1
d23 1
a23 1
WANTLIB=	z
@


1.19
log
@bump for python deps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/10/02 20:32:19 sthen Exp $
a44 1
CONFIGURE_ENV=	PYTHON=${MODPY_BIN}
@


1.18
log
@bump packages with Perl .so modules; the old ones don't work
with new perl and the package signature doesn't change, so we
have to do this ourselves to make pkg_add updates work.

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/06/04 09:37:38 ajacoutot Exp $
d13 4
a16 4
PKGNAME-main=	prelude-libpreludedb-${VERSION}p2
PKGNAME-pgsql=	prelude-libpreludedb-pgsql-${VERSION}p0
PKGNAME-mysql=	prelude-libpreludedb-mysql-${VERSION}p0
PKGNAME-sqlite=	prelude-libpreludedb-sqlite-${VERSION}p0
@


1.17
log
@- install html devhelp files in correct location so that the devhelp
tool can find them
- use MODPY_EGG_VERSION

ok aanriot@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/10/08 08:22:42 steven Exp $
d13 1
a13 1
PKGNAME-main=	prelude-libpreludedb-${VERSION}p1
@


1.16
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/09/15 23:30:00 merdely Exp $
d11 3
a13 1
PKGNAME-main=	prelude-libpreludedb-${VERSION}p0
a44 1
CONFIGURE_ARGS+=--with-html-dir=${PREFIX}/share/doc
d74 1
a74 1

@


1.15
log
@Remove surrounding quotes in NO_REGRESS/COMMENT*/PERMIT_*

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/08/27 17:46:47 aanriot Exp $
d11 4
a14 4
PKGNAME-main=	prelude-libpreludedb-${VERSION}
PKGNAME-pgsql=	prelude-libpreludedb-pgsql-${VERSION}
PKGNAME-mysql=	prelude-libpreludedb-mysql-${VERSION}
PKGNAME-sqlite=	prelude-libpreludedb-sqlite-${VERSION}
@


1.14
log
@maintenance update to 0.9.13 .

ok jdixon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/04/15 11:38:10 aanriot Exp $
d3 4
a6 4
COMMENT-main=	"Prelude framework database-access library"
COMMENT-pgsql=	"PostgreSQL module for libpreludedb"
COMMENT-mysql=	"MySQL module for libpreludedb"
COMMENT-sqlite=	"SQLite3 module for libpreludedb"
@


1.13
log
@update to 0.9.12 .

tested by Rui Reis.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/01/23 11:43:39 aanriot Exp $
d8 1
a8 1
VERSION=	0.9.12
d19 1
a19 1
SHARED_LIBS=	preludedb	4.6	# .4.4
@


1.12
log
@update to 0.9.11.2 .
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/01/07 12:38:09 aanriot Exp $
d8 1
a8 1
VERSION=	0.9.11.2
d19 1
a19 1
SHARED_LIBS=	preludedb	4.5	# .4.3
@


1.11
log
@maintenance update to 0.9.11.1 .
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/12/30 16:30:11 aanriot Exp $
d8 1
a8 1
VERSION=	0.9.11.1
d19 1
a19 1
SHARED_LIBS=	preludedb	4.4	# .4.3
@


1.10
log
@- update to 0.9.11 .
- SHARED_LIBS format.
- move LIB_DEPENDS variables out of the loops.
- advise another database location for SQLite, it doesn't affect
  existing setups.

espie glanced at the infrastructure changes;
"looks ok" msf@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/11/25 19:54:16 espie Exp $
d8 1
a8 1
VERSION=	0.9.11
d19 1
a19 1
SHARED_LIBS=	preludedb	4.3	# .4.2
@


1.9
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/10/09 15:15:18 aanriot Exp $
d8 1
a8 1
VERSION=	0.9.10
d11 1
a11 1
PKGNAME-main=	prelude-${DISTNAME}p0
d19 1
a19 1
SHARED_LIBS=	preludedb	4.2
d22 2
d25 16
a40 4
LIB_DEPENDS=	gpg-error.>=1::security/libgpg-error		\
		gcrypt.>=12::security/libgcrypt			\
		gnutls.>=12::security/gnutls			\
		prelude.>=7::security/prelude/libprelude
a47 1

a51 3
LIB_DEPENDS-pgsql=	${LIB_DEPENDS} \
			preludedb.>=3::${BUILD_PKGPATH} \
			pq.>=4::databases/postgresql
a58 4
LIB_DEPENDS-mysql=	${LIB_DEPENDS} \
			preludedb.>=3::${BUILD_PKGPATH} \
			lib/mysql/mysqlclient.>=16::databases/mysql
WANTLIB-mysql=		${WANTLIB} m ssl crypto
a65 3
LIB_DEPENDS-sqlite=	${LIB_DEPENDS} \
			preludedb.>=3::${BUILD_PKGPATH} \
			sqlite3.>=8::databases/sqlite3
a69 2

WANTLIB-main=	${WANTLIB} pthread c
@


1.8
log
@update to 0.9.10 .
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/10/06 07:50:36 aanriot Exp $
d3 1
a3 1
COMMENT=	"Prelude framework database-access library"
d11 1
a11 1
PKGNAME=	prelude-${DISTNAME}
d35 1
a35 2
MULTI_PACKAGES?=
SUBPACKAGE?=
d39 3
a41 3
.  if !defined(PACKAGING) || ${SUBPACKAGE} == "-pgsql"
LIB_DEPENDS+=	pq.>=4::databases/postgresql
.  endif
d49 4
a52 4
.  if !defined(PACKAGING) || ${SUBPACKAGE} == "-mysql"
LIB_DEPENDS+=	lib/mysql/mysqlclient.>=16::databases/mysql
WANTLIB+=	m ssl crypto
.  endif
d60 3
a62 3
.  if !defined(PACKAGING) || ${SUBPACKAGE} == "-sqlite"
LIB_DEPENDS+=	sqlite3.>=8::databases/sqlite3
.  endif
d68 1
a68 7
.if defined(PACKAGING)
.  if !empty(SUBPACKAGE)
LIB_DEPENDS+=	preludedb.>=3::security/prelude/libpreludedb
.  else
WANTLIB+=	pthread c
.  endif
.endif
@


1.7
log
@- fix WANTLIB.
- install a README.OpenBSD file.
- bumpd PKGNAME / SHARED_LIBS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/09/24 20:37:14 aanriot Exp $
d8 1
a8 1
VERSION=	0.9.9
a9 1
PKGNAME=	${DISTNAME}p0
d19 1
a19 1
SHARED_LIBS=	preludedb	4.1
a71 1
WANTLIB=
@


1.6
log
@update to 0.9.9 .
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/08/03 23:28:12 espie Exp $
d10 1
d20 1
a20 1
SHARED_LIBS=	preludedb	4.0
d39 10
a59 10
.if empty(FLAVOR:L:Mno_pgsql)
MULTI_PACKAGES+=-pgsql
.  if !defined(PACKAGING) || ${SUBPACKAGE} == "-pgsql"
LIB_DEPENDS+=	pq.>=4::databases/postgresql
.  endif
CONFIGURE_ARGS+=--with-pgsql
.else
CONFIGURE_ARGS+=--without-pgsql
.endif

d73 1
d80 4
a83 1
	${INSTALL_DATA_DIR} ${PREFIX}/lib/libpreludedb/plugins/sql
@


1.5
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/07/26 07:07:16 aanriot Exp $
d8 1
a8 1
VERSION=	0.9.8.1
d11 4
a14 4
PKGNAME=	prelude-${DISTNAME}p0
PKGNAME-pgsql=	prelude-libpreludedb-pgsql-${VERSION}p0
PKGNAME-mysql=	prelude-libpreludedb-mysql-${VERSION}p0
PKGNAME-sqlite=	prelude-libpreludedb-sqlite-${VERSION}p0
d16 2
a17 1
MODULES=	lang/python devel/gettext
d19 1
a19 1
SHARED_LIBS=	preludedb	3.3
@


1.4
log
@- make the instructions less specific to postgresql.
- move the database creation instructions to the correct place.
- regen patches.
- bump PKGNAMEs.

"looks ok" alek@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/07/05 12:06:45 aanriot Exp $
d22 4
a25 4
LIB_DEPENDS=	gpg-error.1::security/libgpg-error		\
		gcrypt.12::security/libgcrypt			\
		gnutls.12::security/gnutls			\
		prelude.7::security/prelude/libprelude
d40 1
a40 1
LIB_DEPENDS+=	lib/mysql/mysqlclient.16::databases/mysql
d51 1
a51 1
LIB_DEPENDS+=	pq.4::databases/postgresql
d61 1
a61 1
LIB_DEPENDS+=	sqlite3.8::databases/sqlite3
d70 1
a70 1
LIB_DEPENDS+=	preludedb.3::security/prelude/libpreludedb
@


1.3
log
@update to 0.9.8.1 (bugfixes).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/07/01 10:44:22 aanriot Exp $
d11 4
a14 4
PKGNAME=	prelude-${DISTNAME}
PKGNAME-pgsql=	prelude-libpreludedb-pgsql-${VERSION}
PKGNAME-mysql=	prelude-libpreludedb-mysql-${VERSION}
PKGNAME-sqlite=	prelude-libpreludedb-sqlite-${VERSION}
@


1.2
log
@- update to 0.9.8 .

help & ok alek@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/06/26 18:04:26 aanriot Exp $
d8 1
a8 1
VERSION=	0.9.8
d18 1
a18 1
SHARED_LIBS=	preludedb	3.2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
a8 1
VERSION=	0.9.7.1
d18 1
a18 1
SHARED_LIBS=	preludedb	3.1
d43 1
a43 1
CONFIGURE_ARGS+=--enable-mysql
d45 1
a45 1
CONFIGURE_ARGS+=--disable-mysql
d53 1
a53 1
CONFIGURE_ARGS+=--enable-pgsql
d55 1
a55 1
CONFIGURE_ARGS+=--disable-pgsql
d60 4
a63 2
BUILD_DEPENDS+=	:sqlite3-*:databases/sqlite3
CONFIGURE_ARGS+=--enable-sqlite3
d65 1
a65 1
CONFIGURE_ARGS+=--disable-sqlite3
@


1.1.1.1
log
@Prelude is an opensource Hybrid IDS framework, which is able to use
different sensors like snort or nepenthes, log files from hostapd etc.

work mostly done before and during c2k6;
initially discussed with reyk@@ and sturm@@ , help and inputs msf@@ alek@@;
ok alek@@
@
text
@@
