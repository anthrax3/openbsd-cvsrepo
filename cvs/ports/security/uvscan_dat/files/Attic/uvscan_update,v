head	1.5;
access;
symbols
	OPENBSD_3_6:1.4.0.6
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.4.0.4
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.4.0.2
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.3.0.4
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.2.0.8
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.6
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.4
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.2
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.1.0.2;
locks; strict;
comment	@# @;


1.5
date	2004.11.08.16.10.40;	author naddy;	state dead;
branches;
next	1.4;

1.4
date	2003.08.26.17.19.43;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	2002.07.09.20.32.02;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2000.08.24.12.01.58;	author jakob;	state Exp;
branches;
next	1.1;

1.1
date	2000.06.27.18.40.55;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Remove uvscan and uvscan_dat; from mbalmer@@; ok pvalchev@@

uvscan relies on the manual download of files that keep disappearing
from the indicated download page.  This command line scanner requires
linux emulation, the port has no maintainer and the package cannot
be distributed anyway.
@
text
@#!/bin/sh
#
# $OpenBSD: uvscan_update,v 1.4 2003/08/26 17:19:43 jakob Exp $

PATH=/bin:/usr/bin; export PATH
URLBASE=http://download.nai.com/products/datfiles/4.x/nai
FILES="clean.dat internet.dat names.dat scan.dat"

cd @@PREFIX@@/libexec/uvscan

AVVER=`ftp -o - $URLBASE/readme.txt 2>/dev/null | grep "DAT Version:" | sed -e 's/^.*[^0-9]\(4[0-9]*\)[^0-9].*$/\1/'`

DISTFILE=dat-$AVVER.tar

if [ ! -f $DISTFILE ]; then
	ftp $URLBASE/$DISTFILE

	if [ -f $DISTFILE ]; then
		for i in $FILES ; do
			rm -f $i.bak
			cp -p $i $i.bak
		done
		if tar xf dat-$AVVER.tar $FILES ; then
			echo `date` Successfully updated AntiVirus DAT files to $AVVER
		fi
	fi
fi
@


1.4
log
@update to version 4288
@
text
@d3 1
a3 1
# $OpenBSD: uvscan_update,v 1.3 2002/07/09 20:32:02 jakob Exp $
@


1.3
log
@update to 4210 and tweek update script to new format
@
text
@d3 1
a3 1
# $OpenBSD: uvscan_update,v 1.2 2000/08/24 12:01:58 jakob Exp $
d11 2
a12 1
AVVER=`ftp -o - $URLBASE/readme.txt | head -1 | cut -d' ' -f7`
@


1.2
log
@add OpenBSD idtag
@
text
@d3 1
a3 1
# $OpenBSD$
d11 1
a11 1
AVVER=`ftp -o - $URLBASE/readme.txt | head -1 | cut -d' ' -f11`
@


1.1
log
@update to dat-4083
add script to simplify dat-file upgrade (from NetBSD + rewritten)
@
text
@d3 1
a3 1
# $Id$
@

