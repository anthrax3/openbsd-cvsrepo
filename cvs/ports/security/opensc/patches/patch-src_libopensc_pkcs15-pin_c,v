head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2016.11.24.09.54.51;	author dcoppa;	state Exp;
branches;
next	;
commitid	hMbZpwDfcbFUPrTP;


desc
@@


1.1
log
@
libpkcs11: Prevent double-free when the dlopen fails
(upstream git commit 24346062c01ad690addb0db55b74f9c53b394c0c)

Fix Coverity remarks
(upstream git commit 12f402616050e6ac943217b2170e865c1a297e77)
@
text
@$OpenBSD$

commit 12f402616050e6ac943217b2170e865c1a297e77
Author: Jakuje <jakuje@@gmail.com>
Date:   Mon Oct 10 22:21:46 2016 +0200

Fix Coverity remarks

--- src/libopensc/pkcs15-pin.c.orig	Fri Jun  3 11:19:51 2016
+++ src/libopensc/pkcs15-pin.c	Thu Nov 24 09:58:03 2016
@@@@ -384,7 +384,7 @@@@ int sc_pkcs15_change_pin(struct sc_pkcs15_card *p15car
 	struct sc_context *ctx = p15card->card->ctx;
 	struct sc_pin_cmd_data data;
 	struct sc_pkcs15_auth_info *auth_info = (struct sc_pkcs15_auth_info *)pin_obj->data;
-	struct sc_card *card = p15card->card;
+	struct sc_card *card;
 	int r;
 
 	LOG_FUNC_CALLED(ctx);
@
