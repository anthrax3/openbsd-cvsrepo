head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.14
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.4.0.12
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.10
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.6
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.8
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.4
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.1.0.2
	OPENBSD_3_7_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2014.04.01.11.40.27;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2005.11.11.19.38.07;	author sturm;	state dead;
branches;
next	1.2;

1.2
date	2005.05.05.10.54.48;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.08.06.38.08;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.4
log
@switch to separate vpnc-scripts package; ok rpe@@
@
text
@$OpenBSD$

/etc is substituted with ${SYSCONFDIR} in do-configure.

--- config.c.orig	Tue Apr  1 09:29:18 2014
+++ config.c	Tue Apr  1 09:29:47 2014
@@@@ -173,7 +173,7 @@@@ static const char *config_def_app_version(void)
 
 static const char *config_def_script(void)
 {
-	return "/etc/vpnc/vpnc-script";
+	return "/etc/vpnc-script";
 }
 
 static const char *config_def_pid_file(void)
@


1.3
log
@update to vpnc 0.3.3

from uwe
@
text
@d1 7
a7 5
$OpenBSD: patch-config_c,v 1.2 2005/05/05 10:54:48 sturm Exp $
--- config.c.orig	Mon Nov 22 01:11:48 2004
+++ config.c	Wed May  4 19:58:23 2005
@@@@ -352,7 +352,7 @@@@ static void print_desc(const char *pre, 
 	const char *p, *q;
d9 1
a9 8
 	for (p = text, q = strchr(p, '\n'); q; p = q+1, q = strchr(p, '\n'))
-		printf("%s%.*s\n", pre, q-p, p);
+		printf("%s%.*s\n", pre, (int)(q-p), p);
 
 	if (*p != '\0')
 		printf("%s%s\n", pre, p);
@@@@ -423,8 +423,9 @@@@ static void print_version(void)
 void do_config(int argc, char **argv)
d11 3
a13 5
 	char *s;
-	int i, c, known, s_len;
+	int i, c, known;
 	int print_config = 0;
+	size_t s_len;
d15 1
a15 2
 	for (i = 1; i < argc; i++) {
 		if (argv[i][0] != '-') {
@


1.2
log
@- use a variable for the physical interface in vpnc.sh
- fix buffer length calculation, which prevented vpnc to work in case
of 'big' packets close to tun's MTU (reported by Mischa Diehm
<md at mailq.de>), submitted upstream
@
text
@d1 1
a1 1
$OpenBSD: patch-config_c,v 1.1 2005/03/08 06:38:08 sturm Exp $
@


1.1
log
@fix a few 64bit issues, making this work on 64bit archs

based on a diff from Zach Brown <zab at zabbo.net> sent to a vpnc-list
@
text
@d1 3
a3 3
$OpenBSD$
--- config.c.orig	Mon Mar  7 22:27:06 2005
+++ config.c	Mon Mar  7 22:29:20 2005
@

