head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.10
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.6
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.8
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.4
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2014.07.13.14.10.14;	author ajacoutot;	state Exp;
branches;
next	;
commitid	R7CQhUQNdJfZrGZj;


desc
@@


1.1
log
@Import heimdal-1.5.3; aka resurrect security/heimdal.

Heimdal is an implementation of Kerberos 5 (and some more stuff) largely
written in Sweden.

ok sthen@@

Note that it is not enabled yet because none of the requesters for this
port stood up to give me any feedback nor OK. Also this is still a WIP, it
may not even build with all the recent changes in base.
@
text
@$OpenBSD$

%ld / (long)tv_sec -> %lld / (long long)tv_sec

--- lib/krb5/test_rfc3961.c.orig	Sun Dec  9 23:06:44 2012
+++ lib/krb5/test_rfc3961.c	Thu Apr 24 14:11:12 2014
@@@@ -77,9 +77,9 @@@@ time_encryption(krb5_context context, size_t size,
 
     timevalsub(&tv2, &tv1);
 
-    printf("%s size: %7lu iterations: %d time: %3ld.%06ld\n",
+    printf("%s size: %7lu iterations: %d time: %3lld.%06ld\n",
 	   etype_name, (unsigned long)size, iterations,
-	   (long)tv2.tv_sec, (long)tv2.tv_usec);
+	   (long long)tv2.tv_sec, tv2.tv_usec);
 
     free(buf);
     free(etype_name);
@@@@ -122,8 +122,8 @@@@ time_s2k(krb5_context context,
 
     timevalsub(&tv2, &tv1);
 
-    printf("%s string2key %d iterations time: %3ld.%06ld\n",
-	   etype_name, iterations, (long)tv2.tv_sec, (long)tv2.tv_usec);
+    printf("%s string2key %d iterations time: %3lld.%06ld\n",
+	   etype_name, iterations, (long long)tv2.tv_sec, tv2.tv_usec);
     free(etype_name);
 
 }
@
