head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.08.13.14.40.18;	author bluhm;	state Exp;
branches;
next	;
commitid	a0cwjD3whZQl6aJL;


desc
@@


1.1
log
@Enable the --with-openssl configure switch in botan2.  This allows
to use LibreSSL as backend for the Botan API.  Include the Botan
test program and samples in the package.  So we can test LibreSSL
using their tests scripts with botan-test --provider=openssl.
Currently only a fraction of the tests actually use the OpenSSL
provider, but that can be improved later.
OK doug@@
@
text
@$OpenBSD$

Index: src/tests/main.cpp
--- src/tests/main.cpp.orig
+++ src/tests/main.cpp
@@@@ -84,7 +84,7 @@@@ class Test_Runner : public Botan_CLI::Command
          const bool log_success = flag_set("log-success");
          const bool run_online_tests = flag_set("run-online-tests");
          const bool run_long_tests = flag_set("run-long-tests");
-         const std::string data_dir = get_arg_or("data-dir", "src/tests/data");
+         const std::string data_dir = get_arg_or("data-dir", "${LOCALBASE}/share/botan-2/data");
          const std::string pkcs11_lib = get_arg("pkcs11-lib");
          const std::string provider = get_arg("provider");
          const size_t runs = get_arg_sz("test-runs");
@
