head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.2
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.1.1.1.0.2
	OPENBSD_6_1_BASE:1.1.1.1
	bluhm_20170313:1.1.1.1
	bluhm:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2017.08.11.22.30.38;	author bluhm;	state Exp;
branches;
next	1.3;
commitid	ckE70xQWP6HltHYL;

1.3
date	2017.05.12.23.47.57;	author espie;	state Exp;
branches;
next	1.2;
commitid	qwtUPA6Ig4IUIuDW;

1.2
date	2017.04.10.11.10.33;	author bluhm;	state Exp;
branches;
next	1.1;
commitid	upbVYtsy6ktoFlzk;

1.1
date	2017.03.13.15.00.39;	author bluhm;	state Exp;
branches
	1.1.1.1;
next	;
commitid	7cTkEjfHPHmxDt0p;

1.1.1.1
date	2017.03.13.15.00.39;	author bluhm;	state Exp;
branches;
next	;
commitid	7cTkEjfHPHmxDt0p;


desc
@@


1.4
log
@update botan2 to 2.2.0
@
text
@$OpenBSD: patch-configure_py,v 1.3 2017/05/12 23:47:57 espie Exp $
Index: configure.py
--- configure.py.orig
+++ configure.py
@@@@ -2789,10 +2789,6 @@@@ def set_defaults_for_unset_options(options, info_arch,
             if have_program('clang++'):
                 options.compiler = 'clang'
         elif options.os == 'openbsd':
-            if have_program('eg++'):
-                info_cc['gcc'].binary_name = 'eg++'
-            else:
-                logging.warning('Default GCC is too old; install a newer one using \'pkg_add gcc\'')
             # The assembler shipping with OpenBSD 5.9 does not support avx2
             del info_cc['gcc'].isa_flags['avx2']
             options.compiler = 'gcc'
@


1.3
log
@buggy configure, add support for -L, as clang will not link with /usr/local
by default.

(patch sent to upstream)
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_py,v 1.2 2017/04/10 11:10:33 bluhm Exp $
d5 1
a5 9
@@@@ -989,6 +989,7 @@@@ class CompilerInfo(InfoObject): # pylint: disable=too-
         self.add_framework_option = lex.add_framework_option
         self.add_include_dir_option = lex.add_include_dir_option
         self.add_lib_option = lex.add_lib_option
+        self.add_lib_dir_option = lex.add_lib_dir_option
         self.ar_command = lex.ar_command
         self.binary_link_commands = force_to_dict(lex.binary_link_commands)
         self.binary_name = lex.binary_name
@@@@ -2465,10 +2466,6 @@@@ def main(argv=None):
@


1.2
log
@update botan2 to version 2.1.0
fix CVE-2017-7252 CVE-2017-2801
major library bump, forgotten upstream, use LIBbotan-2_VERSION
keep patches local that are needed by port system
build patches have been accepted upstream
support for getentropy(2) and arc4random(3) accepted upstream
botan CLI has been renamed to botan2 upstream
rename doc dir to botan-2
OK sthen@@
@
text
@d1 13
a13 4
$OpenBSD: patch-configure_py,v 1.1.1.1 2017/03/13 15:00:39 bluhm Exp $
--- configure.py.orig	Wed Apr  5 03:09:22 2017
+++ configure.py	Fri Apr  7 22:40:26 2017
@@@@ -2465,10 +2465,6 @@@@ def main(argv=None):
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.py.orig	Tue Jan 10 04:21:31 2017
+++ configure.py	Mon Mar 13 07:15:37 2017
@@@@ -2201,10 +2201,6 @@@@ def main(argv = None):
@


1.1.1.1
log
@import botan2 2.0.1
input and OK jca@@

Comment:
crypto and TLS for C++11

Description:
Botan (Japanese for peony) is a cryptography library written in
C++11 and released under the permissive Simplified BSD license.
Botan's goal is to be the best option for cryptography in new C++
code by offering the tools necessary to implement a range of practical
systems, such as TLS/DTLS, PKIX certificate handling, PKCS#11 and
TPM hardware support, password hashing, and post quantum crypto
schemes.  In addition to the C++, botan has a C89 API specifically
designed to be easy to call from other languages.  A Python binding
using ctypes calling the C89 API is included.
@
text
@@
