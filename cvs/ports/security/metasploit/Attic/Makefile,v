head	1.6;
access;
symbols
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.2.0.4
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.1.1.0.4
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.2
	OPENBSD_4_9_BASE:1.1.1.1
	stephan_2010-12-23:1.1.1.1
	stephan:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2013.07.01.16.51.02;	author jasper;	state dead;
branches;
next	1.5;

1.5
date	2013.03.20.19.13.50;	author jeremy;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.11.11.41.26;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2012.09.23.17.19.51;	author jeremy;	state Exp;
branches;
next	1.2;

1.2
date	2011.09.16.11.41.39;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.23.12.39.14;	author stephan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.12.23.12.39.14;	author stephan;	state Exp;
branches;
next	;


desc
@@


1.6
log
@remove metasploit, the open source version is unmaintained upstream and
this port hadn't had much love in recent years.

as discussed with and OK stephan@@ (MAINTAINER)
@
text
@# $OpenBSD: Makefile,v 1.5 2013/03/20 19:13:50 jeremy Exp $

COMMENT-main = 	penetration testing resources
COMMENT-mysql = penetration testing resources (mysql backend)
COMMENT-pgsql =	penetration testing resources (postgres backend)
CATEGORIES =	security

V =		3.5.0
PKGNAME-main =	metasploit-${V}
PKGNAME-mysql =	metasploit-mysql-${V}
PKGNAME-pgsql =	metasploit-pgssql-${V}
DISTNAME =	framework-${V}
REVISION =	1

EXTRACT_SUFX =	.tar.bz2

HOMEPAGE =	http://www.metasploit.com/
MASTER_SITES = 	${HOMEPAGE}/releases/

MAINTAINER =	Stephan A. Rickauer <stephan@@openbsd.org>

# 3-clause BSD
PERMIT_PACKAGE_CDROM =	Yes

MODULES =	lang/ruby
MODRUBY_REV =	1.8
PKG_ARCH =	*
NO_BUILD =	Yes
NO_TEST =	Yes

MULTI_PACKAGES =-main -mysql -pgsql

RUN_DEPENDS-main =	${MODRUBY_ICONV_DEPENDS} \
			devel/ruby-gems \
			devel/nasm \
			net/nmap \
			net/ruby-pcaprub-msf,${MODRUBY_FLAVOR}
RUN_DEPENDS-mysql =	databases/ruby-mysql,${MODRUBY_FLAVOR} \
			security/metasploit
RUN_DEPENDS-pgsql =	databases/ruby-postgres \
			security/metasploit

SCRIPTS =	msfcli msfconsole msfd msfelfscan msfencode \
		msfmachscan msfopcode msfpayload msfpescan

WRKDIST =	${WRKDIR}/msf3
SHAREDIR =	${PREFIX}/share/metasploit
DOCDIR =	${PREFIX}/share/doc/metasploit

do-install:
	${INSTALL_SCRIPT_DIR} ${SHAREDIR}
.for s in ${SCRIPTS}
	${MODRUBY_RUBY_ADJ} ${WRKDIST}/$s
	${INSTALL_SCRIPT} ${WRKDIST}/$s ${SHAREDIR}
	@@ln -s ../share/metasploit/$s ${PREFIX}/bin/$s
.endfor
.for i in tools data lib modules plugins
	@@cp -R ${WRKDIST}/$i ${SHAREDIR}
.endfor
	@@cp -R ${WRKDIST}/documentation ${DOCDIR}
	@@find ${SHAREDIR} ${DOCDIR} -type d -name ".svn" | xargs rm -R

.include <bsd.port.mk>
@


1.5
log
@Make ruby 1.9 the default ruby for non-gem/extconf ports,
for consistency with the gem/extconf ports.

Update non-gem/extconf ports that relied on the previous
default of ruby 1.8 to explicitly specify it.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/03/11 11:41:26 espie Exp $
@


1.4
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/09/23 17:19:51 jeremy Exp $
d26 1
@


1.3
log
@Have metasploit depend on the correct FLAVOR of a couple ruby
dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/09/16 11:41:39 espie Exp $
a23 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d28 1
a28 1
NO_REGRESS =	Yes
@


1.2
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/12/23 12:39:14 stephan Exp $
d13 1
a13 1
REVISION =	0
d39 2
a40 2
			net/ruby-pcaprub-msf
RUN_DEPENDS-mysql =	databases/ruby-mysql \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d13 1
@


1.1.1.1
log
@import of Metasploit 3.5.0, the open source penetration testing framework:

Metasploit provides useful information and tools for penetration
testers, security researchers, and IDS signature developers. This
project was created to provide information on exploit techniques and to
create a functional knowledgebase for exploit developers and security
professionals. The tools and information on this site are provided for
legal security research and testing purposes only.

Subpackages:
        mysql - mysql database backend.
        postgresql - postgresql database backend.

help from nicm@@, benoit@@ and jeremy@@
ok jasper@@ and jeremy@@ (of some earlier version)
@
text
@@
