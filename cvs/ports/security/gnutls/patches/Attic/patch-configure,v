head	1.7;
access;
symbols
	OPENBSD_5_2:1.6.0.2
	OPENBSD_5_2_BASE:1.6
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.10
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.8
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.6
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.4
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.2
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.2.0.4
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.2
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.1.1.1.0.4
	OPENBSD_3_5_BASE:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.2
	OPENBSD_3_4_BASE:1.1.1.1
	margarida_2003-04-02:1.1.1.1
	margarida:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2012.08.19.13.31.39;	author ajacoutot;	state dead;
branches;
next	1.6;

1.6
date	2012.07.08.09.02.10;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.10.26.10.50.37;	author landry;	state dead;
branches;
next	1.4;

1.4
date	2007.12.03.20.57.33;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2005.05.11.11.16.07;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2004.05.08.06.43.40;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2003.05.02.04.04.31;	author margarida;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.05.02.04.04.31;	author margarida;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Forgot in previous.
@
text
@$OpenBSD: patch-configure,v 1.6 2012/07/08 09:02:10 ajacoutot Exp $
--- configure.orig	Tue Jul  3 00:00:46 2012
+++ configure	Sat Jul  7 12:23:07 2012
@@@@ -13056,7 +13056,7 @@@@ fi
             done
           fi
           if test "X$found_dir" != "X"; then
-                        LTLIBPTHREAD="${LTLIBPTHREAD}${LTLIBPTHREAD:+ }-L$found_dir -l$name"
+                        LTLIBPTHREAD="${LTLIBPTHREAD}${LTLIBPTHREAD:+ }-L$found_dir -$name"
             if test "X$found_so" != "X"; then
                                                         if test "$enable_rpath" = no \
                  || test "X$found_dir" = "X/usr/$acl_libdirstem" \
@@@@ -13111,7 +13111,7 @@@@ fi
                     if test "$acl_hardcode_minus_L" != no; then
                                                                                         LIBPTHREAD="${LIBPTHREAD}${LIBPTHREAD:+ }$found_so"
                     else
-                                                                                                                                                                                LIBPTHREAD="${LIBPTHREAD}${LIBPTHREAD:+ }-l$name"
+                                                                                                                                                                                LIBPTHREAD="${LIBPTHREAD}${LIBPTHREAD:+ }-$name"
                     fi
                   fi
                 fi
@@@@ -13120,7 +13120,7 @@@@ fi
               if test "X$found_a" != "X"; then
                                 LIBPTHREAD="${LIBPTHREAD}${LIBPTHREAD:+ }$found_a"
               else
-                                                LIBPTHREAD="${LIBPTHREAD}${LIBPTHREAD:+ }-L$found_dir -l$name"
+                                                LIBPTHREAD="${LIBPTHREAD}${LIBPTHREAD:+ }-L$found_dir -$name"
               fi
             fi
                         additional_includedir=
@@@@ -13281,8 +13281,8 @@@@ fi
               done
             fi
           else
-                                                            LIBPTHREAD="${LIBPTHREAD}${LIBPTHREAD:+ }-l$name"
-            LTLIBPTHREAD="${LTLIBPTHREAD}${LTLIBPTHREAD:+ }-l$name"
+                                                            LIBPTHREAD="${LIBPTHREAD}${LIBPTHREAD:+ }-$name"
+            LTLIBPTHREAD="${LTLIBPTHREAD}${LTLIBPTHREAD:+ }-$name"
           fi
         fi
       fi
@


1.6
log
@Major update to gnutls-3.0.21.

ok jasper@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.5
log
@Update gnutls to 2.6.0.
Use in-tree security/libtasn1 and archivers/lzo instead of the included ones.
Backport a patch from upstream git to fix symbol conflicts.

ok naddy@@ ajacoutot@@
@
text
@d1 41
a41 25
$OpenBSD: patch-configure,v 1.4 2007/12/03 20:57:33 landry Exp $
--- configure.orig	Wed Oct 17 16:02:38 2007
+++ configure	Thu Oct 25 13:28:12 2007
@@@@ -14357,6 +14357,7 @@@@ cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
 
+#include <sys/param.h>
 #include <opencdk.h>
 int
 main ()
@@@@ -48237,10 +48238,10 @@@@ CCDEPMODE!$CCDEPMODE$ac_delim
 am__fastdepCC_TRUE!$am__fastdepCC_TRUE$ac_delim
 am__fastdepCC_FALSE!$am__fastdepCC_FALSE$ac_delim
 INTL_MACOSX_LIBS!$INTL_MACOSX_LIBS$ac_delim
-LIBICONV!$LIBICONV$ac_delim
+LIBICONV!$LTLIBICONV$ac_delim
 LTLIBICONV!$LTLIBICONV$ac_delim
-INTLLIBS!$INTLLIBS$ac_delim
-LIBINTL!$LIBINTL$ac_delim
+INTLLIBS!$LTLIBINTL$ac_delim
+LIBINTL!$LTLIBINTL$ac_delim
 LTLIBINTL!$LTLIBINTL$ac_delim
 POSUB!$POSUB$ac_delim
 CXX!$CXX$ac_delim
@


1.4
log
@Long due update to GnuTLS 2.0.4, based on a submission by Giovanni Bechis.

Reformat DESCR, remove unneeded patches and LIB*ALIAS goo, reformat Makefile
Tested by many, thanks naddy for alpha, kili for zaurus and powerpc, okan
for amd64 and sparc64, sthen for sparc64 and others i forgot.
Ports depending on it have been vastly tested, thanks sthen for iksemel,
aanriot for prelude, Sebastian Reitenbach for heartbeat, and surely others.

ok kili@@ okan@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.3
log
@SECURITY:
update gnutls to 1.0.25; regen patches while i am here
http://www.vuxml.org/openbsd/086072e4-c180-11d9-aaa3-00065bd5b0b6.html

ok Jim Geovedi (maintainer)
@
text
@d1 25
a25 30
$OpenBSD: patch-configure,v 1.2 2004/05/08 06:43:40 sturm Exp $
--- configure.orig	Wed Apr 27 23:30:22 2005
+++ configure	Tue May 10 20:07:37 2005
@@@@ -13207,7 +13207,7 @@@@ if test -z "$aix_libpath"; then aix_libp
       hardcode_shlibpath_var=no
       if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
 	archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
-	hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+	hardcode_libdir_flag_spec='${wl}-R$libdir'
 	export_dynamic_flag_spec='${wl}-E'
       else
        case $host_os in
@@@@ -13217,7 +13217,7 @@@@ if test -z "$aix_libpath"; then aix_libp
 	   ;;
 	 *)
 	   archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
-	   hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+	   hardcode_libdir_flag_spec='${wl}-R$libdir'
 	   ;;
        esac
       fi
@@@@ -13898,6 +13898,8 @@@@ openbsd*)
   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
   finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
   shlibpath_var=LD_LIBRARY_PATH
+  sys_lib_search_path_spec="/usr/lib"
+  sys_lib_dlsearch_path_spec="/usr/lib $PREFIX/lib"
   if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
     case $host_os in
       openbsd2.[89] | openbsd2.[89].*)
@


1.2
log
@update to gnutls 1.0.13

from me and maintainer Jim Geovedi
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.1.1.1 2003/05/02 04:04:31 margarida Exp $
--- configure.orig	2004-04-25 09:25:25.000000000 +0200
+++ configure	2004-04-25 09:27:48.000000000 +0200
@@@@ -12734,7 +12734,7 @@@@ if test -z "$aix_libpath"; then aix_libp
d13 1
a13 1
@@@@ -12744,7 +12744,7 @@@@ if test -z "$aix_libpath"; then aix_libp
d22 1
a22 1
@@@@ -13413,6 +13413,8 @@@@ openbsd*)
@


1.1
log
@Initial revision
@
text
@d1 25
a25 25
$OpenBSD$
--- configure.orig	Wed Apr 30 20:52:16 2003
+++ configure	Wed Apr 30 20:53:36 2003
@@@@ -10537,7 +10537,7 @@@@ else
     hardcode_shlibpath_var=no
     if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
       archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
-      hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+      hardcode_libdir_flag_spec='${wl}-R$libdir'
       export_dynamic_flag_spec='${wl}-E'
     else
       case "$host_os" in
@@@@ -10547,7 +10547,7 @@@@ else
         ;;
       *)
         archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
-        hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+        hardcode_libdir_flag_spec='${wl}-R$libdir'
         ;;
       esac
     fi
@@@@ -11092,6 +11092,8 @@@@ openbsd*)
   version_type=sunos
   need_lib_prefix=no
   need_version=no
d27 1
a27 1
+  sys_lib_dlsearch_path_spec="/usr/lib /usr/local/lib"
d29 2
a30 2
     case "$host_os" in
     openbsd2.[89] | openbsd2.[89].*)
@


1.1.1.1
log
@Initial import of gnutls-0.8.6
--
GnuTLS is a portable ANSI C based library which implements
the TLS 1.0 and SSL 3.0 protocols.

From: Jim Geovedi <jim@@corebsd.or.id>
@
text
@@
