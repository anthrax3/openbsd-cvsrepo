head	1.31;
access;
symbols
	OPENBSD_6_1:1.31.0.4
	OPENBSD_6_1_BASE:1.31
	OPENBSD_6_0:1.31.0.2
	OPENBSD_6_0_BASE:1.31
	OPENBSD_5_9:1.30.0.4
	OPENBSD_5_9_BASE:1.30
	OPENBSD_5_8:1.30.0.6
	OPENBSD_5_8_BASE:1.30
	OPENBSD_5_7:1.30.0.2
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.28.0.6
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.28.0.4
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.25.0.2
	OPENBSD_5_3_BASE:1.25
	OPENBSD_5_2:1.24.0.6
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.24
	OPENBSD_5_1:1.24.0.4
	OPENBSD_5_0:1.24.0.2
	OPENBSD_5_0_BASE:1.24
	OPENBSD_4_9:1.23.0.2
	OPENBSD_4_9_BASE:1.23
	OPENBSD_4_8:1.20.0.6
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.20.0.4
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.20.0.2
	OPENBSD_4_6_BASE:1.20
	OPENBSD_4_5:1.19.0.6
	OPENBSD_4_5_BASE:1.19
	OPENBSD_4_4:1.19.0.4
	OPENBSD_4_4_BASE:1.19
	OPENBSD_4_3:1.19.0.2
	OPENBSD_4_3_BASE:1.19
	OPENBSD_4_2:1.18.0.6
	OPENBSD_4_2_BASE:1.18
	OPENBSD_4_1:1.18.0.4
	OPENBSD_4_1_BASE:1.18
	OPENBSD_4_0:1.18.0.2
	OPENBSD_4_0_BASE:1.18
	OPENBSD_3_9:1.17.0.6
	OPENBSD_3_9_BASE:1.17
	OPENBSD_3_8:1.17.0.4
	OPENBSD_3_8_BASE:1.17
	OPENBSD_3_7:1.17.0.2
	OPENBSD_3_7_BASE:1.17
	OPENBSD_3_6:1.14.0.2
	OPENBSD_3_6_BASE:1.14
	OPENBSD_3_5:1.12.0.4
	OPENBSD_3_5_BASE:1.12
	OPENBSD_3_4:1.12.0.2
	OPENBSD_3_4_BASE:1.12
	OPENBSD_3_3:1.11.0.2
	OPENBSD_3_3_BASE:1.11
	OPENBSD_3_2:1.9.0.4
	OPENBSD_3_2_BASE:1.9
	OPENBSD_3_1:1.9.0.2
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.8.0.2
	OPENBSD_3_0_BASE:1.8
	OPENBSD_2_9_TRACKING_SWITCH:1.8
	OPENBSD_2_9:1.5.0.2
	OPENBSD_2_9_BASE:1.5
	avsm-2000-11-27:1.1.1.1
	avsm:1.1.1;
locks; strict;
comment	@# @;


1.31
date	2016.03.11.19.59.16;	author naddy;	state Exp;
branches;
next	1.30;
commitid	pguKLBEFv33DrgKU;

1.30
date	2015.02.16.22.57.12;	author naddy;	state Exp;
branches;
next	1.29;
commitid	0dx3c9ckf7dE4tx1;

1.29
date	2014.11.30.05.41.34;	author brad;	state Exp;
branches;
next	1.28;
commitid	WiC4X2lTBuuiJrMc;

1.28
date	2013.05.18.20.00.38;	author benoit;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.21.08.48.53;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2013.03.11.11.41.26;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2012.09.06.21.56.31;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2011.04.16.21.13.44;	author sthen;	state Exp;
branches
	1.24.6.1;
next	1.23;

1.23
date	2010.11.20.17.22.44;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.10.18.21.41.45;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.09.02.10.05.48;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2009.05.29.20.01.07;	author benoit;	state Exp;
branches;
next	1.19;

1.19
date	2007.09.15.23.29.58;	author merdely;	state Exp;
branches;
next	1.18;

1.18
date	2006.08.03.23.28.12;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2004.12.27.13.28.34;	author alek;	state Exp;
branches;
next	1.16;

1.16
date	2004.11.14.13.53.00;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2004.10.20.18.28.17;	author avsm;	state Exp;
branches;
next	1.14;

1.14
date	2004.08.12.21.56.41;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2004.08.10.09.26.14;	author xsa;	state Exp;
branches;
next	1.12;

1.12
date	2003.04.10.18.08.57;	author jsyn;	state Exp;
branches;
next	1.11;

1.11
date	2003.01.18.22.55.39;	author avsm;	state Exp;
branches;
next	1.10;

1.10
date	2002.12.29.20.31.40;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	2001.10.25.03.04.18;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2001.07.16.11.17.45;	author avsm;	state Exp;
branches;
next	1.7;

1.7
date	2001.06.12.16.05.55;	author avsm;	state Exp;
branches;
next	1.6;

1.6
date	2001.05.10.22.21.21;	author avsm;	state Exp;
branches;
next	1.5;

1.5
date	2001.04.10.00.17.38;	author avsm;	state Exp;
branches;
next	1.4;

1.4
date	2001.03.24.01.34.45;	author avsm;	state Exp;
branches;
next	1.3;

1.3
date	2001.03.06.08.34.02;	author avsm;	state Exp;
branches;
next	1.2;

1.2
date	2001.01.06.11.18.33;	author avsm;	state Exp;
branches;
next	1.1;

1.1
date	2000.11.27.15.56.03;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.11.27.15.56.03;	author avsm;	state Exp;
branches;
next	;

1.24.6.1
date	2012.09.12.17.50.48;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.31
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.30 2015/02/16 22:57:12 naddy Exp $

COMMENT =	extendable encryption program that supports many ciphers

DISTNAME =		mcrypt-2.6.8
REVISION =		4
CATEGORIES =		security

HOMEPAGE =		http://mcrypt.sf.net/

MAINTAINER =		Benoit Lecocq <benoit@@openbsd.org>

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =		c ltdl mcrypt mhash z

MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=mcrypt/}

USE_GMAKE =		Yes
MODULES =		devel/gettext
LIB_DEPENDS =		security/libmcrypt \
			security/mhash \
			devel/libtool,-ltdl

CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS += 	--enable-static --with-catgets 
CONFIGURE_ENV +=  	CPPFLAGS="-I${LOCALBASE}/include" \
                	LDFLAGS="-L${LOCALBASE}/lib -lintl -liconv -lltdl"

.include <bsd.port.mk>
@


1.30
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/11/30 05:41:34 brad Exp $
a26 1
CONFIGURE_ARGS += 	${CONFIGURE_SHARED}
@


1.29
log
@Eliminate the use of the malloc.h header and/or replace
with stdlib.h.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/05/18 20:00:38 benoit Exp $
a20 1
USE_GROFF =		Yes
@


1.28
log
@Fix a segv problem.

Notice by herjorge1954 at nokiamail dot com, thanks !
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/03/21 08:48:53 ajacoutot Exp $
d6 1
a6 1
REVISION =		3
@


1.27
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/11 11:41:26 espie Exp $
d6 1
a6 1
REVISION =		2
@


1.26
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/09/06 21:56:31 sthen Exp $
a19 1
USE_LIBTOOL =		Yes
@


1.25
log
@In mcrypt, check salt lengths and exit with an error, rather than
overrunning a buffer, if too long. CVE-2012-4409.

Patch from http://seclists.org/oss-sec/2012/q3/396, ok benoit@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/04/16 21:13:44 sthen Exp $
a14 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.24
log
@- remove unnecessary NULL casts
- sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/11/20 17:22:44 espie Exp $
d6 2
a7 2
REVISION =		1
CATEGORIES =     	security
@


1.24.6.1
log
@MFC mcrypt fixes req'd by jasper,

--/-----
In mcrypt, check salt lengths and exit with an error, rather than
overrunning a buffer, if too long. CVE-2012-4409.

Patch from http://seclists.org/oss-sec/2012/q3/396, ok benoit@@
--/-----
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/09/06 21:56:31 sthen Exp $
d6 2
a7 2
REVISION =		2
CATEGORIES =		security
@


1.23
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/10/18 21:41:45 espie Exp $
d6 1
a6 1
REVISION =		0
@


1.22
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/09/02 10:05:48 sthen Exp $
d25 1
a25 1
USE_GROFF =	Yes
d27 3
a29 3
LIB_DEPENDS =		::security/libmcrypt \
			::security/mhash \
			::devel/libtool,-ltdl
@


1.21
log
@unbreak deps following commit to libmcrypt. noted by landry@@
lum@@, please check the dependency chain!!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/05/29 20:01:07 benoit Exp $
d25 1
@


1.20
log
@- update mcrypt to 2.6.8
- regen patches & PLIST
- change maintainer

ok avsm@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/09/15 23:29:58 merdely Exp $
d6 1
d18 2
a19 1
WANTLIB =		c mhash z
d26 3
a28 2
LIB_DEPENDS =		mcrypt.>=6::security/libmcrypt \
			ltdl.>=1::devel/libtool,-ltdl
@


1.19
log
@Remove surrounding quotes in NO_REGRESS/COMMENT*/PERMIT_*

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/08/03 23:28:12 espie Exp $
d3 1
a3 1
COMMENT=	extendable encryption program that supports many ciphers
d5 2
a6 3
DISTNAME=		mcrypt-2.6.4
PKGNAME=		${DISTNAME}p0
CATEGORIES=     	security
d8 1
a8 2
HOMEPAGE=		http://mcrypt.sf.net/
MAINTAINER=		Anil Madhavapeddy <avsm@@openbsd.org>
d10 1
a10 5
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		c mhash z
d12 6
a17 1
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=mcrypt/}
d19 6
a24 4
USE_LIBTOOL=		Yes
USE_GMAKE=		Yes
MODULES=		devel/gettext
LIB_DEPENDS=		mcrypt.>=6::security/libmcrypt \
d27 4
a30 4
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}
CONFIGURE_ARGS+= 	--enable-static --with-catgets 
CONFIGURE_ENV+=  	CPPFLAGS="-I${LOCALBASE}/include" \
@


1.18
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2004/12/27 13:28:34 alek Exp $
d3 1
a3 1
COMMENT=	"extendable encryption program that supports many ciphers"
@


1.17
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2004/11/14 13:53:00 espie Exp $
d23 2
a24 2
LIB_DEPENDS=		mcrypt.6::security/libmcrypt \
			ltdl.1::devel/libtool,-ltdl
@


1.16
log
@fix LIB_DEPENDS to correctly hunt for libltdl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/10/20 18:28:17 avsm Exp $
d16 1
@


1.15
log
@update to mcrypt-2.6.4, now on sourceforge
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/08/12 21:56:41 naddy Exp $
d6 1
d23 1
a23 1
			ltdl.1::devel/libtool
@


1.14
log
@don't rely on inter-library dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/08/10 09:26:14 xsa Exp $
d5 1
a5 1
DISTNAME=		mcrypt-2.6.3
d8 1
a8 1
HOMEPAGE=		http://mcrypt.hellug.gr/mcrypt/
d16 1
a16 2
MASTER_SITES=		ftp://argeas.cs-net.gr/pub/unix/mcrypt/ \
			ftp://mcrypt.hellug.gr/pub/mcrypt/ 
@


1.13
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2003/04/10 18:08:57 jsyn Exp $
d29 1
a29 1
                	LDFLAGS="-L${LOCALBASE}/lib -lintl -lltdl"
@


1.12
log
@quote COMMENTs; ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/01/18 22:55:39 avsm Exp $
d21 1
a21 1
MODULES=		gettext
@


1.11
log
@update to mcrypt-2.6.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/12/29 20:31:40 fgsch Exp $
d3 1
a3 1
COMMENT=		extendable encryption program that supports many ciphers
@


1.10
log
@zap NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/10/25 03:04:18 brad Exp $
d5 1
a5 1
DISTNAME=		mcrypt-2.5.7
d16 2
a17 2
MASTER_SITES=		ftp://mcrypt.hellug.gr/pub/mcrypt/ \
			ftp://argeas.cs-net.gr/pub/unix/mcrypt
d27 1
a27 1
CONFIGURE_ARGS+= 	--enable-static --with-catgets
@


1.9
log
@use gettext module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/07/16 11:17:45 avsm Exp $
a6 1
NEED_VERSION=		1.474
@


1.8
log
@add in a lib depend for libltdl, spotted by heko@@iki.fi
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/06/12 16:05:55 avsm Exp $
d7 1
a7 1
NEED_VERSION=		1.363
d22 1
a23 1
			intl.1::devel/gettext \
@


1.7
log
@update to mcrypt-2.5.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/05/10 22:21:21 avsm Exp $
d23 2
a24 1
			intl.1::devel/gettext
@


1.6
log
@upgrade to mcrypt-2.5.6

contains locale updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/04/10 00:17:38 avsm Exp $
d5 1
a5 1
DISTNAME=		mcrypt-2.5.6
d21 1
@


1.5
log
@put COMMENT at the top
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/03/24 01:34:45 avsm Exp $
d5 1
a5 1
DISTNAME=		mcrypt-2.5.5
@


1.4
log
@- update LIB_DEPENDS for new libmcrypt
- bump NEED_VERSION
- move COMMENT into Makefile
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.3 2001/03/06 08:34:02 avsm Exp $
a10 2

COMMENT=		extendable encryption program that supports many ciphers
@


1.3
log
@update libmcrypt library depend, spotted by inphobia.bsd@@pandora.be
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/01/06 11:18:33 avsm Exp $
d5 1
a5 1
NEED_VERSION=		1.340
d10 2
d21 1
a21 1
LIB_DEPENDS=		mcrypt.5::security/libmcrypt \
@


1.2
log
@new MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/11/27 15:56:03 avsm Exp $
d19 1
a19 1
LIB_DEPENDS=		mcrypt.4::security/libmcrypt \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d15 1
a15 1
MASTER_SITES=		http://mcrypt.hellug.gr/mcrypt/ \
@


1.1.1.1
log
@import mcrypt-2.5.5
--

mcrypt is intended to be a replacement of the old unix crypt(1)
under the GNU General Public License. Unix crypt(1) was a popular
file encryption program in unix boxes.

It was based on the Enigma encryption algorithm but it was considerable
trivialized. Since this was not adequate, even for individual privacy
needs, mcrypt was created as a similar program using some modern
block encryption algorithms.

Mcrypt also has a compatibility mode with unix crypt(1) and with
Solaris des(1). It supports all the algorithms and modes found in
libmcrypt and it is very extendable.

At the time writing this, it supports the algorithms: BLOWFISH,
TWOFISH, DES, TripleDES, 3-WAY, SAFER, LOKI97, GOST, RC2, RC6, MARS,
IDEA, RIJNDAEL, SERPENT, CAST, ARCFOUR and WAKE.

Block algorithms are implemented in modes: CFB, CBC, ECB, OFB (8
bit and n bit, where n is the size of the algorithm's block length).
For a brief description of the algorithms and the modes look at the
mcrypt manpage (this may be out of date).  In mcrypt it is on the
user to decide which algorithm he considers best for encrypting his
data.

@
text
@@
