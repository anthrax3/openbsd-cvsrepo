head	1.9;
access;
symbols
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.4.0.2
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.1.1.1.0.4
	OPENBSD_5_8_BASE:1.1.1.1
	kirby_20150730:1.1.1.1
	kirby:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2017.07.23.09.26.29;	author espie;	state Exp;
branches;
next	1.8;
commitid	FZPR2Emws5uDqXzb;

1.8
date	2017.07.16.19.19.02;	author espie;	state Exp;
branches;
next	1.7;
commitid	tt0GhWK5c4uf9ILG;

1.7
date	2017.04.10.11.46.33;	author sthen;	state Exp;
branches;
next	1.6;
commitid	HY6VNZxjJWzKQFDV;

1.6
date	2017.03.08.09.39.40;	author kirby;	state Exp;
branches;
next	1.5;
commitid	Olntoyp3DgxnybIp;

1.5
date	2016.12.25.14.34.39;	author zhuk;	state Exp;
branches;
next	1.4;
commitid	l6KSNN1DfB6ABkhu;

1.4
date	2016.05.06.06.45.43;	author kirby;	state Exp;
branches;
next	1.3;
commitid	PZGNvQCB3e8i66SX;

1.3
date	2016.03.02.08.29.20;	author kirby;	state Exp;
branches;
next	1.2;
commitid	sEl5SVZ7g9hRlnLA;

1.2
date	2016.01.06.20.02.19;	author jasper;	state Exp;
branches;
next	1.1;
commitid	APvJqmv6h3qUP9cR;

1.1
date	2015.07.30.06.07.09;	author kirby;	state Exp;
branches
	1.1.1.1;
next	;
commitid	2gSLcuU92sBIxrEW;

1.1.1.1
date	2015.07.30.06.07.09;	author kirby;	state Exp;
branches;
next	;
commitid	2gSLcuU92sBIxrEW;


desc
@@


1.9
log
@add pthread to COMPILER_LIBCXX.
white lie, but it allows clang and gcc to be more similar
bump accordingly.
@
text
@# $OpenBSD: Makefile,v 1.8 2017/07/16 19:19:02 espie Exp $

COMMENT =		Qt API to store passwords and other secret data

GH_ACCOUNT =		frankosterfeld
GH_PROJECT =		qtkeychain
GH_TAGNAME =		v0.7.0
REVISION =		0

SHARED_LIBS +=		qtkeychain	1.0 # 0.4
SHARED_LIBS +=		qt5keychain	1.0 # 0.4

CATEGORIES =		security

MAINTAINER =		Kirill Bychkov <kirby@@openbsd.org>

# BSD-like
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =		m

MODULES =		devel/cmake

FLAVORS = 		qt5
FLAVOR ?=

.if ${FLAVOR:Mqt5}
FULLPKGNAME = 		qtkeychain-qt5-${GH_TAGNAME:S/v//}
MODULES +=		x11/qt5
WANTLIB += 		Qt5Core Qt5DBus
LIBNAME = 		Qt5Keychain
LIBNAME_L = 		qt5keychain
QT = 			qt5
CONFIGURE_ARGS += 	-DBUILD_WITH_QT4=OFF
.else
MODULES += 		x11/qt4
WANTLIB += 		QtDBus ${COMPILER_LIBCXX}
CONFIGURE_ARGS += 	-DBUILD_WITH_QT4=ON
LIBNAME = 		QtKeychain
LIBNAME_L = 		qtkeychain
QT = 			qt4
.endif

SUBST_VARS += 		LIBNAME LIBNAME_L QT

NO_TEST =		Yes

.include <bsd.port.mk>
@


1.8
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2017/04/10 11:46:33 sthen Exp $
d8 1
@


1.7
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2017/03/08 09:39:40 kirby Exp $
d36 1
a36 1
WANTLIB += 		QtDBus ${LIBCXX}
@


1.6
log
@Update to qtkeychain-0.7.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/12/25 14:34:39 zhuk Exp $
d36 1
a36 1
WANTLIB += 		QtDBus stdc++
@


1.5
log
@Adapt to new x11/qt5 layout, mostly REVISION bumps due to changed deps.

The devel/kf5 to be handled separately, please wait.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2016/05/06 06:45:43 kirby Exp $
d7 1
a7 1
GH_TAGNAME =		v0.6.1
d9 2
a10 2
SHARED_LIBS +=		qtkeychain	0.0 # 0.4
SHARED_LIBS +=		qt5keychain	0.0 # 0.4
a41 1
REVISION =              0
@


1.4
log
@update to qtkeychaun-0.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/03/02 08:29:20 kirby Exp $
d42 1
@


1.3
log
@Add Qt5 flavor.
With input and OK from zhuk@@, OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2016/01/06 20:02:19 jasper Exp $
d7 1
a7 1
GH_TAGNAME =		v0.4.0
@


1.2
log
@remove a few more unneeded DISTNAMEs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2015/07/30 06:07:09 kirby Exp $
d9 2
a10 1
SHARED_LIBS =		qtkeychain	0.0 # 0.4
d19 1
a19 1
WANTLIB =		QtDBus m stdc++
d21 23
a43 1
MODULES =		devel/cmake x11/qt4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.71 2014/07/10 12:33:17 sthen Exp $
d5 3
a7 1
DISTNAME =		qtkeychain-${GH_TAGNAME:S/v//}
a18 4

GH_ACCOUNT =		frankosterfeld
GH_PROJECT =		qtkeychain
GH_TAGNAME =		v0.4.0
@


1.1.1.1
log
@qtkeychain is a dependency for newer versions of owncloudclient
(former mirall).
Discussed with ajacoutot@@, sthen@@ and zhuk@@
OK ajacoutot@@ and jasper@@

QtKeychain is a Qt API to store passwords and other secret data
securely. If running, GNOME Keyring is used, otherwise qtkeychain tries
to use KWallet (via D-Bus), if available.
@
text
@@
