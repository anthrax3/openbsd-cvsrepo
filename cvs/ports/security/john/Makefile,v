head	1.51;
access;
symbols
	OPENBSD_6_2:1.51.0.4
	OPENBSD_6_2_BASE:1.51
	OPENBSD_6_1:1.51.0.2
	OPENBSD_6_1_BASE:1.51
	OPENBSD_6_0:1.50.0.2
	OPENBSD_6_0_BASE:1.50
	OPENBSD_5_9:1.49.0.6
	OPENBSD_5_9_BASE:1.49
	OPENBSD_5_8:1.49.0.8
	OPENBSD_5_8_BASE:1.49
	OPENBSD_5_7:1.49.0.4
	OPENBSD_5_7_BASE:1.49
	OPENBSD_5_6:1.49.0.2
	OPENBSD_5_6_BASE:1.49
	OPENBSD_5_5:1.48.0.4
	OPENBSD_5_5_BASE:1.48
	OPENBSD_5_4:1.48.0.2
	OPENBSD_5_4_BASE:1.48
	OPENBSD_5_3:1.46.0.4
	OPENBSD_5_3_BASE:1.46
	OPENBSD_5_2:1.46.0.2
	OPENBSD_5_2_BASE:1.46
	OPENBSD_5_1_BASE:1.45
	OPENBSD_5_1:1.45.0.2
	OPENBSD_5_0:1.44.0.2
	OPENBSD_5_0_BASE:1.44
	OPENBSD_4_9:1.42.0.2
	OPENBSD_4_9_BASE:1.42
	OPENBSD_4_8:1.40.0.2
	OPENBSD_4_8_BASE:1.40
	OPENBSD_4_7:1.39.0.2
	OPENBSD_4_7_BASE:1.39
	OPENBSD_4_6:1.38.0.2
	OPENBSD_4_6_BASE:1.38
	OPENBSD_4_5:1.37.0.6
	OPENBSD_4_5_BASE:1.37
	OPENBSD_4_4:1.37.0.4
	OPENBSD_4_4_BASE:1.37
	OPENBSD_4_3:1.37.0.2
	OPENBSD_4_3_BASE:1.37
	OPENBSD_4_2:1.36.0.2
	OPENBSD_4_2_BASE:1.36
	OPENBSD_4_1:1.35.0.4
	OPENBSD_4_1_BASE:1.35
	OPENBSD_4_0:1.35.0.2
	OPENBSD_4_0_BASE:1.35
	OPENBSD_3_9:1.34.0.2
	OPENBSD_3_9_BASE:1.34
	OPENBSD_3_8:1.29.0.2
	OPENBSD_3_8_BASE:1.29
	OPENBSD_3_7:1.28.0.2
	OPENBSD_3_7_BASE:1.28
	OPENBSD_3_6:1.26.0.2
	OPENBSD_3_6_BASE:1.26
	OPENBSD_3_5:1.25.0.2
	OPENBSD_3_5_BASE:1.25
	OPENBSD_3_4:1.23.0.2
	OPENBSD_3_4_BASE:1.23
	OPENBSD_3_3:1.21.0.2
	OPENBSD_3_3_BASE:1.21
	OPENBSD_3_2:1.20.0.2
	OPENBSD_3_2_BASE:1.20
	OPENBSD_3_1:1.19.0.2
	OPENBSD_3_1_BASE:1.19
	OPENBSD_3_0:1.16.0.2
	OPENBSD_3_0_BASE:1.16
	OPENBSD_2_9_TRACKING_SWITCH:1.15
	OPENBSD_2_9:1.14.0.2
	OPENBSD_2_9_BASE:1.14
	OPENBSD_2_8:1.13.0.2
	OPENBSD_2_8_BASE:1.13
	OPENBSD_2_7:1.9.0.2
	OPENBSD_2_7_BASE:1.9
	OPENBSD_2_6:1.2.0.2
	OPENBSD_2_6_BASE:1.2
	dugsong_1999-May-31:1.1.1.1
	dugsong:1.1.1;
locks; strict;
comment	@# @;


1.51
date	2016.09.01.10.53.27;	author jasper;	state Exp;
branches;
next	1.50;
commitid	LdsIxWmxagN2Kq33;

1.50
date	2016.03.09.18.31.36;	author jasper;	state Exp;
branches;
next	1.49;
commitid	FOh2GJIkzOkUqaxn;

1.49
date	2014.06.03.14.28.40;	author sthen;	state Exp;
branches;
next	1.48;
commitid	oFbyMubcU8t9ld3Z;

1.48
date	2013.05.31.06.01.59;	author benoit;	state Exp;
branches;
next	1.47;

1.47
date	2013.03.11.11.41.25;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2012.04.13.09.12.21;	author naddy;	state Exp;
branches;
next	1.45;

1.45
date	2011.11.26.10.31.37;	author benoit;	state Exp;
branches;
next	1.44;

1.44
date	2011.06.24.15.19.18;	author benoit;	state Exp;
branches;
next	1.43;

1.43
date	2011.04.30.05.12.51;	author benoit;	state Exp;
branches;
next	1.42;

1.42
date	2011.01.07.16.26.26;	author benoit;	state Exp;
branches;
next	1.41;

1.41
date	2011.01.07.15.34.53;	author benoit;	state Exp;
branches;
next	1.40;

1.40
date	2010.07.17.22.46.00;	author benoit;	state Exp;
branches;
next	1.39;

1.39
date	2009.09.24.10.32.40;	author benoit;	state Exp;
branches;
next	1.38;

1.38
date	2009.03.08.11.57.53;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2007.09.06.19.15.14;	author naddy;	state Exp;
branches;
next	1.36;

1.36
date	2007.04.26.04.14.01;	author ray;	state Exp;
branches;
next	1.35;

1.35
date	2006.07.16.18.17.25;	author sturm;	state Exp;
branches;
next	1.34;

1.34
date	2006.01.06.04.26.09;	author cathcart;	state Exp;
branches;
next	1.33;

1.33
date	2005.09.15.22.52.01;	author aanriot;	state Exp;
branches;
next	1.32;

1.32
date	2005.09.09.06.10.29;	author marcm;	state Exp;
branches;
next	1.31;

1.31
date	2005.09.07.19.43.41;	author aanriot;	state Exp;
branches;
next	1.30;

1.30
date	2005.09.06.20.20.26;	author aanriot;	state Exp;
branches;
next	1.29;

1.29
date	2005.05.31.08.08.52;	author sturm;	state Exp;
branches;
next	1.28;

1.28
date	2004.12.27.13.28.34;	author alek;	state Exp;
branches;
next	1.27;

1.27
date	2004.09.23.21.52.08;	author fgsch;	state Exp;
branches;
next	1.26;

1.26
date	2004.04.16.17.26.16;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2003.09.27.06.47.52;	author marcm;	state Exp;
branches;
next	1.24;

1.24
date	2003.09.26.17.57.38;	author marcm;	state Exp;
branches;
next	1.23;

1.23
date	2003.05.12.08.23.48;	author jolan;	state Exp;
branches;
next	1.22;

1.22
date	2003.04.06.03.44.11;	author pvalchev;	state Exp;
branches;
next	1.21;

1.21
date	2002.10.28.17.35.01;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2002.04.15.16.16.42;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2002.04.07.14.02.42;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2002.04.07.07.01.57;	author dugsong;	state Exp;
branches;
next	1.17;

1.17
date	2002.03.21.21.25.51;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2001.08.30.02.53.50;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2001.05.06.03.45.51;	author lebel;	state Exp;
branches;
next	1.14;

1.14
date	2001.01.29.05.01.11;	author dugsong;	state Exp;
branches;
next	1.13;

1.13
date	2000.10.31.14.53.58;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.10.22.14.03.44;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.09.12.10.38.51;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2000.06.16.23.06.11;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2000.04.09.17.38.02;	author espie;	state Exp;
branches
	1.9.2.1;
next	1.8;

1.8
date	2000.03.24.22.11.57;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.16.10.52.13;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.15.05.05.10;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.12.08.41.12;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.11.00.37.36;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	99.11.29.16.40.26;	author dugsong;	state Exp;
branches;
next	1.2;

1.2
date	99.06.02.02.04.37;	author dugsong;	state Exp;
branches;
next	1.1;

1.1
date	99.05.31.16.12.22;	author dugsong;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.05.31.16.12.22;	author dugsong;	state Exp;
branches;
next	;

1.9.2.1
date	2000.09.15.05.15.15;	author marc;	state Exp;
branches;
next	;


desc
@@


1.51
log
@retire sparc
@
text
@# $OpenBSD: Makefile,v 1.50 2016/03/09 18:31:36 jasper Exp $

COMMENT =		extremely fast password cracker

DISTNAME =		john-1.8.0
REVISION =		0
CATEGORIES =		security

HOMEPAGE =		http://www.openwall.com/john/

MAINTAINER =		Benoit Lecocq <benoit@@openbsd.org>

# GPLv2 & Public Domain
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =		c

MASTER_SITES =		${HOMEPAGE}/j/

WRKSRC =		${WRKDIST}/src

MAKE_FLAGS =		CC=${CC} AS=${CC} LD=${CC} \
			CFLAGS="${CFLAGS} -c" LDFLAGS="${LDFLAGS}" \
			OPT_NORMAL="" OPT_INLINE=""

TEST_TARGET =	check

.if ${MACHINE_ARCH} == "i386"
ALL_TARGET=		openbsd-x86-any
.elif ${MACHINE_ARCH} == "amd64"
ALL_TARGET=		openbsd-x86-64
.elif ${MACHINE_ARCH} == "alpha"
ALL_TARGET=		openbsd-alpha
.elif ${MACHINE_ARCH} == "powerpc"
ALL_TARGET=		openbsd-ppc32
.elif ${MACHINE_ARCH} == "powerpc64"
ALL_TARGET=		openbsd-ppc64
.elif ${MACHINE_ARCH} == "hppa"
ALL_TARGET=		openbsd-pa-risc
.elif ${MACHINE_ARCH} == "sparc64"
ALL_TARGET=		openbsd-sparc64
.else
ALL_TARGET=		generic
.endif

do-configure:
	${SUBST_CMD} ${WRKSRC}/params.h

do-install:
	@@grep -h -v '^#!comment:' ${WRKDIST}/run/password.lst \
		/usr/share/dict/words | \
		${WRKDIST}/run/unique ${WRKDIST}/run/words.lst
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/john
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/john
	${INSTALL_DATA_DIR} ${PREFIX}/share/john
	${INSTALL_PROGRAM} ${WRKDIST}/run/john ${PREFIX}/bin
	${INSTALL_SCRIPT} ${WRKDIST}/run/mailer ${PREFIX}/bin
	@@cd ${PREFIX}/bin && \
		ln -sf john unshadow && \
		ln -sf john unafs && \
		ln -sf john unique
	${INSTALL_DATA} ${WRKDIST}/run/john.conf ${PREFIX}/share/examples/john
	${INSTALL_DATA} ${WRKDIST}/doc/* ${PREFIX}/share/doc/john
	${INSTALL_DATA} ${WRKDIST}/run/*.chr ${PREFIX}/share/john
	${INSTALL_DATA} ${WRKDIST}/run/words.lst ${PREFIX}/share/john/password.lst

.include <bsd.port.mk>
@


1.50
log
@remove vax workarounds/tentacles, reword where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2014/06/03 14:28:40 sthen Exp $
a31 2
.elif ${MACHINE_ARCH} == "sparc"
ALL_TARGET=		openbsd-sparc
@


1.49
log
@add conflict marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/05/31 06:01:59 benoit Exp $
a33 2
.elif ${MACHINE_ARCH} == "vax"
ALL_TARGET=		openbsd-vax
@


1.48
log
@- Update john to 1.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/03/11 11:41:25 espie Exp $
d6 1
@


1.47
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/04/13 09:12:21 naddy Exp $
d5 1
a5 2
DISTNAME =		john-1.7.9
REVISION =		0
d12 1
a12 1
# GPL & Public Domain
d17 1
a17 1
MASTER_SITES =		${HOMEPAGE}/g/
@


1.46
log
@* honor CFLAGS (will also build on alpha now)
* drop obsolete patches for i386 a.out
* don't require MMX support on i386

ok benoit@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/11/26 10:31:37 benoit Exp $
a14 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d26 1
a26 1
REGRESS_TARGET =	check
@


1.45
log
@- update john to 1.7.9
- regen patches

ok ajacoutot@@, gsoares@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/06/24 15:19:18 benoit Exp $
d6 1
d26 2
a27 1
			CFLAGS="${CFLAGS} -c" LDFLAGS="${LDFLAGS}"
d32 1
a32 1
ALL_TARGET=		openbsd-x86-mmx
@


1.44
log
@- update john to 1.7.8
- regen patchs

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/04/30 05:12:51 benoit Exp $
d5 1
a5 1
DISTNAME =		john-1.7.8
@


1.43
log
@- update john to 1.7.7
- update patch

ok sthen@@, gsoares@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/01/07 16:26:26 benoit Exp $
d5 1
a5 1
DISTNAME =		john-1.7.7
@


1.42
log
@revert to previous release following the advice of jasper@@ and
I will rework on it
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/01/07 15:34:53 benoit Exp $
d5 1
a5 1
DISTNAME =		john-1.7.6
@


1.41
log
@- add contrib FLAVOR with jumbo patch
- modify PLIST, MESSAGE and DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/07/17 22:46:00 benoit Exp $
d3 1
a3 1
COMMENT-main =		extremely fast password cracker
d5 1
a5 3
V =			1.7.6
DISTNAME =		john-${V}
PKGNAME-main =		${DISTNAME}
a20 6
MASTER_SITES0 =		${HOMEPAGE}/contrib/
                        
MULTI_PACKAGES =	-main

FLAVORS =		contrib
FLAVOR ?=
a50 12
.if ${FLAVOR:L:Mcontrib}
MULTI_PACKAGES +=        -contrib
COMMENT-contrib =        extremely fast password cracker
PKGNAME-contrib =        john-contrib-${V}
PATCH_DIST_STRIP =       -p1
PATCHFILES +=            ${DISTNAME}-jumbo-9.diff.gz:0
WANTLIB +=               m crypto ldap_r lber
BUILD_DEPENDS +=         databases/mysql
LIB_DEPENDS +=           databases/openldap
MAKE_FLAGS +=            LDFLAGS="-lcrypto -lm"
.endif

a67 3
.if ${FLAVOR:L:Mcontrib}
	@@rm ${WRKDIST}/doc/*.bak.orig
.endif
@


1.40
log
@- update john to 1.7.6
- update patches
- use SUBST_CMD

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/09/24 10:32:40 benoit Exp $
d3 1
a3 1
COMMENT =		extremely fast password cracker
d5 3
a7 1
DISTNAME =		john-1.7.6
d23 6
d59 12
d88 3
@


1.39
log
@- update john to 1.7.3.4
- regen patches
- change email maintainer
- add regression test

ok giovanni@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/03/08 11:57:53 jasper Exp $
d5 1
a5 1
DISTNAME =		john-1.7.3.4
d52 1
a52 5
	@@perl -pi -e "s,%%PREFIX%%,${PREFIX},;" \
		-e "s,%%SYSCONFDIR%%,${SYSCONFDIR},;" ${WRKSRC}/params.h

	@@perl -pi -e 's,%%JOHN%%,${PREFIX}\/share\/john,g;' \
		${WRKDIST}/run/john.conf
@


1.38
log
@- update john to 1.7.3.1
- cathcart@@ resigns as maintainer

from new maintainer Benoit Lecocq
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2007/09/06 19:15:14 naddy Exp $
d3 1
a3 1
COMMENT=		extremely fast password cracker
d5 2
a6 2
DISTNAME=		john-1.7.3.1
CATEGORIES=		security
d8 1
a8 1
HOMEPAGE=		http://www.openwall.com/john/
d10 1
a10 1
MAINTAINER=		Benoit Lecocq <blq@@arcane-labs.net>
d13 4
a16 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d18 1
a18 1
WANTLIB=		c
d20 1
a20 1
MASTER_SITES=		${HOMEPAGE}/g/
d22 1
a22 1
NO_REGRESS=		Yes
d24 2
a25 1
WRKSRC=			${WRKDIST}/src
d27 1
a27 2
MAKE_FLAGS=		CC=${CC} AS=${CC} LD=${CC} \
			CFLAGS="${CFLAGS} -c" LDFLAGS="${LDFLAGS}"
@


1.37
log
@sync FLAVORS and DESCR; from Pierre Riteau
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2007/04/26 04:14:01 ray Exp $
d5 1
a5 2
DISTNAME=		john-1.7.0.2
PKGNAME=		${DISTNAME}p1
d10 1
a10 1
MAINTAINER=		David Cathcart <cathcart@@openbsd.org>
d17 1
d20 1
a20 1
MASTER_SITES=		${HOMEPAGE}f/
@


1.36
log
@Fix hard coded paths to config files, character sets, and word
lists.

OK maintainer cathcart@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2006/07/16 18:17:25 sturm Exp $
d3 1
a3 1
COMMENT=		"extremely fast password cracker"
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.35
log
@update to john 1.7.0.2
remove the no_mmx FLAVOR

from maintainer cathcart@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2006/01/06 04:26:09 cathcart Exp $
d6 1
@


1.34
log
@Update to 1.6.40
Take Maintainership

ok sturm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2005/09/15 22:52:01 aanriot Exp $
d5 1
a5 1
DISTNAME=		john-1.6.40
d19 1
a19 1
MASTER_SITES=		${HOMEPAGE}c/
a28 5
FLAVORS=		no_mmx
FLAVOR?=
.  if ${FLAVOR:L:Mno_mmx}
ALL_TARGET=		openbsd-x86-any
.  else
a29 1
.  endif
@


1.33
log
@update to 1.6.39.

The release announce can be found here:
http://marc.theaimsgroup.com/?l=openwall-announce&m=112674671707479&w=2

"go ahead" fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2005/09/09 06:10:29 marcm Exp $
d5 1
a5 1
DISTNAME=		john-1.6.39
d10 2
d17 1
a17 1
WANTLIB=		c m
a19 2
DISTFILES=		${DISTNAME}.tar.gz \
			john-1.6.tar.gz
d24 1
d26 1
a26 1
			CFLAGS="${CFLAGS} -c"
d31 7
a37 5
.if ${FLAVOR:L:Mno_mmx}
ALL_TARGET=		openbsd-x86-any-elf
.else
ALL_TARGET=		openbsd-x86-mmx-elf
.endif
d43 1
a43 1
ALL_TARGET=		linux-alpha
d45 1
a45 1
ALL_TARGET=		linux-ppc32
d47 1
a47 1
ALL_TARGET=		linux-ppc64
d49 1
a49 1
ALL_TARGET=		hpux-pa-risc-${CC}
d51 1
a51 1
ALL_TARGET=		"openbsd-sparc64"
d64 3
a76 1
	${INSTALL_DATA} ${WRKDIR}/john-1.6/doc/* ${PREFIX}/share/doc/john
d78 2
a79 1
	${INSTALL_DATA} ${WRKDIR}/john-1.6/run/*.chr ${PREFIX}/share/john
@


1.32
log
@Install the docs for this thing too...

ok aanriot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2005/09/07 19:43:41 aanriot Exp $
d5 1
a5 2
DISTNAME=		john-1.6.38
PKGNAME=		${DISTNAME}p1
@


1.31
log
@do-configure is a better place for this substitution, as it unbreaks
update-patches.

spotted by and ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2005/09/06 20:20:26 aanriot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d72 1
@


1.30
log
@get charset files from an older version (1.6), as they are not shipped
anymore.

spotted by and ok matthieu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/05/31 08:08:52 sturm Exp $
d57 1
a57 1
post-patch:
@


1.29
log
@update to john 1.6.38

from Alexandre Anriot <aanriot at atlantilde.com>

clean up while here and add sparc64 target
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2004/12/27 13:28:34 alek Exp $
d6 2
a7 1
CATEGORIES=     	security
d19 2
d57 3
d64 1
d73 1
@


1.28
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/09/23 21:52:08 fgsch Exp $
d5 1
a5 1
DISTNAME=		john-1.6.37
d17 1
a17 4
MASTER_SITES=		${HOMEPAGE}a/

DISTFILES=		${DISTNAME}.tar.gz \
			john-1.6.tar.gz
a20 1
WRKDIST=		${WRKDIR}/${DISTNAME}
a21 1
OLDJOHN=		${WRKDIR}/john-1.6
d40 7
a46 1
ALL_TARGET=		linux-ppc
d51 4
d57 1
a57 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/john
d64 1
a64 3
	${INSTALL_DATA} ${OLDJOHN}/run/* ${PREFIX}/share/john
	${INSTALL_DATA} ${WRKDIST}/run/* ${PREFIX}/share/john
	${INSTALL_DATA} ${OLDJOHN}/doc/* ${PREFIX}/share/doc/john
@


1.27
log
@Enable mmx support by default and add a no_mmx flavor to disable it.
jolan@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/04/16 17:26:16 naddy Exp $
d15 1
@


1.26
log
@update to 1.6.37; from Robert Nagy <thuglife@@bsd.hu>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2003/09/27 06:47:52 marcm Exp $
d30 3
d34 3
@


1.25
log
@Extraneous :0.  Pointed out by nikolay@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2003/09/26 17:57:38 marcm Exp $
d5 1
a5 1
DISTNAME=		john-1.6.36
d16 1
a16 1
MASTER_SITES=		http://www.openwall.com/john/dl/
d26 2
d30 1
a30 1
ALL_TARGET=		openbsd-x86-any
@


1.24
log
@Update to 1.6.36 offering significant performance improvements over
the 1.6 version.  Also now uses the system dictionary as a wordlist
by default.

Removed MAINTAINER at MAINTAINER's request.

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/05/12 08:23:48 jolan Exp $
d19 1
a19 1
			john-1.6.tar.gz:0
@


1.23
log
@update e-mail address, ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/04/06 03:44:11 pvalchev Exp $
d3 1
a3 1
COMMENT=	"extremely fast password cracker"
d5 2
a6 4
DISTNAME=	john-1.6
PKGNAME=	${DISTNAME}p1
CATEGORIES=     security
MASTER_SITES=	http://www.openwall.com/john/
d8 1
a8 3
HOMEPAGE=	http://www.openwall.com/john/

MAINTAINER=	Jolan Luff <jolan@@openbsd.org>
d10 1
d16 1
a16 3
NO_REGRESS=	Yes

WRKDIST=	${WRKDIR}/${DISTNAME}/src
d18 2
a19 2
MAKE_FLAGS=	CC="${CC}" LD="${CC}" \
		CFLAGS="-c -Wall ${CFLAGS} -fomit-frame-pointer"
d21 1
a21 2
FLAVORS=	k6
FLAVOR?=
d23 3
a25 3
.if ${FLAVOR:L} == "k6"
ONLY_FOR_ARCHS=	i386
.endif
d28 5
a32 5
.  if ${FLAVOR:L} == "k6"
ALL_TARGET=	openbsd-x86-k6
.  else
ALL_TARGET=	openbsd-x86-any
.  endif
d34 3
a36 1
ALL_TARGET=	linux-alpha
d38 1
a38 1
ALL_TARGET=	generic
a40 5
do-configure:
	@@cd ${WRKDIST} && \
	sed -e 's,@@JOHN_HOME@@,${PREFIX}/share/john,' < params.h > \
		params.h.new && mv -f params.h.new params.h

d44 4
a47 3
	${INSTALL_PROGRAM} ${WRKBUILD}/../run/john ${PREFIX}/bin
	${INSTALL_SCRIPT} ${WRKBUILD}/../run/mailer ${PREFIX}/bin
	@@cd ${PREFIX}/bin && ln -sf john unshadow && \
d50 4
a53 4
	${INSTALL_DATA} ${WRKSRC}/../run/* ${PREFIX}/share/john
	@@sed -e s#~/#${TRUEPREFIX}/share/john/#g ${WRKSRC}/../run/john.ini > \
		${PREFIX}/share/john/john.ini
	${INSTALL_DATA} ${WRKSRC}/../doc/* ${PREFIX}/share/doc/john
@


1.22
log
@some minor MASTER_SITES/HOMEPAGE reorganisations
new maintainer Jolan Luff <jolan@@cryptonomicon.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2002/10/28 17:35:01 naddy Exp $
d12 1
a12 1
MAINTAINER=	Jolan Luff <jolan@@cryptonomicon.org>
@


1.21
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2002/04/15 16:16:42 naddy Exp $
d8 1
d10 1
a10 3
MASTER_SITES=	http://www.openwall.com/john/ \
		http://www.false.com/security/john/ \
		ftp://ftp.false.com/pub/security/john/
d12 1
a12 1
MAINTAINER=	Dug Song <dugsong@@monkey.org>
d19 4
a44 2
WRKDIST=	${WRKDIR}/${DISTNAME}/src

a48 2

NO_REGRESS=	Yes
@


1.20
log
@properly fix PREFIX substitution
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/04/07 14:02:42 espie Exp $
d8 1
a8 1
NEED_VERSION=	1.515
d48 2
@


1.19
log
@Revert: no obvious mark of approval by either me, brad, naddy, or pval.

Dug, we're in almost lock for ports. *NOTHING* gets committed without
approval.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/03/21 21:25:51 espie Exp $
d6 1
d58 1
a58 1
	@@sed -e s#~/#${PREFIX}/share/john/#g ${WRKSRC}/../run/john.ini > \
@


1.18
log
@fix two uses of PREFIX that should have been LOCALBASE. from Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>
@
text
@d45 1
a45 1
	sed -e 's,@@JOHN_HOME@@,${LOCALBASE}/share/john,' < params.h > \
d57 1
a57 1
	@@sed -e s#~/#${LOCALBASE}/share/john/#g ${WRKSRC}/../run/john.ini > \
@


1.17
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/08/30 02:53:50 brad Exp $
d45 1
a45 1
	sed -e 's,@@JOHN_HOME@@,${PREFIX}/share/john,' < params.h > \
d57 1
a57 1
	@@sed -e s#~/#${PREFIX}/share/john/#g ${WRKSRC}/../run/john.ini > \
@


1.16
log
@style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/05/06 03:45:51 lebel Exp $
d7 1
a7 1
NEED_VERSION=	1.435
@


1.15
log
@security: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/01/29 05:01:11 dugsong Exp $
d7 1
a7 1
NEED_VERSION=	1.402
d22 1
a22 1
FLAVORS=k6
d26 1
a26 1
ONLY_FOR_ARCHS=i386
d44 3
a46 3
	cd ${WRKDIST} && \
	sed -e 's,@@JOHN_HOME@@,${PREFIX}/share/john,' <params.h >params.h.new \
	    && mv -f params.h.new params.h
@


1.14
log
@typo, noted by dengue@@deadly.org
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.13 2000/10/31 14:53:58 espie Exp $
d7 1
a7 1
NEED_VERSION=	1.320
@


1.13
log
@Repair john.
Flavorize k6, as package buildings should be reproducible
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/10/22 14:03:44 espie Exp $
d43 1
a43 1
	sed -e 's,@@JOHNHOME@@,${PREFIX}/share/john,' <params.h >params.h.new \
@


1.12
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/09/12 10:38:51 brad Exp $
d18 1
a18 2
		CFLAGS="-c -Wall ${CFLAGS} -fomit-frame-pointer \
			-DJOHN_HOME=\\\"${PREFIX}/share/john\\\""
d20 9
a28 3
.if (${MACHINE_ARCH} == "i386")
PTYPE!=		uname -p | cut -f2 -d' '
.if (${PTYPE} == "K6")
d30 1
a30 1
.else
d32 2
a33 2
.endif
.elif (${MACHINE_ARCH} == "alpha")
d40 5
@


1.11
log
@- FAKE
- remove an unnecessary patch
- use better filename for patch
- add @@comment with RCS id to PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/06/16 23:06:11 espie Exp $
d10 1
a10 1
MAINTAINER=	dugsong@@monkey.org
@


1.10
log
@Remove NO_CONFIGURE/NO_PATCH/NO_EXTRACT/NO_MTREE

Kill corresponding FAKE=Yes and switch to CONFIGURE_STYLE while I'm at it.
@
text
@d1 1
a1 6
# OpenBSD makefile for:	john
# Version required:	1.5
# Date created:		1999-Apr-7
# Whom:			dugsong@@OpenBSD.ORG
#
# $OpenBSD: Makefile,v 1.9 2000/04/09 17:38:02 espie Exp $
a3 1

d5 1
a5 11
NEED_VERSION=	1.191
FAKE=No

MAINTAINER=	dugsong@@monkey.org

LICENSE_TYPE=		NONE
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES

d10 10
a19 1
WRKDIST=	${WRKDIR}/${DISTNAME}/src
a24 2
#.elif (${PTYPE} == "Pentium/MMX")
#ALL_TARGET=	openbsd-x86-mmx
a27 2
.elif (${MACHINE_ARCH} == "sparc")
ALL_TARGET=	linux-sparc
d34 2
d37 1
a37 5
	${INSTALL_PROGRAM} ${WRKSRC}/../run/john ${PREFIX}/bin
	${INSTALL_SCRIPT} ${WRKSRC}/../run/mailer ${PREFIX}/bin
	ln -sf ${PREFIX}/bin/john ${PREFIX}/bin/unshadow
	ln -sf ${PREFIX}/bin/john ${PREFIX}/bin/unafs
	ln -sf ${PREFIX}/bin/john ${PREFIX}/bin/unique
d39 5
d45 1
a45 2
	(cd ${PREFIX}/share/john && rm -f un* john mailer)
	sed "s%~/%${PREFIX}/share/john/%g" ${WRKSRC}/../run/john.ini > \
a46 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/john
@


1.9
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.8 2000/03/24 22:11:57 espie Exp $
a26 2

NO_CONFIGURE=	yes
@


1.9.2.1
log
@bring security as of cut-over date into 2.7 branch
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.10 2000/06/16 23:06:11 espie Exp $
d27 2
@


1.8
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.7 2000/02/16 10:52:13 espie Exp $
d12 1
@


1.7
log
@All the Makefiles cvs missed first time around...
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.6 2000/02/15 05:05:10 turan Exp $
d11 1
a23 1
NEED_VERSION=	1.191
@


1.6
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.5 2000/02/12 08:41:12 turan Exp $
d49 3
a51 3
	${LN} -sf ${PREFIX}/bin/john ${PREFIX}/bin/unshadow
	${LN} -sf ${PREFIX}/bin/john ${PREFIX}/bin/unafs
	${LN} -sf ${PREFIX}/bin/john ${PREFIX}/bin/unique
d54 2
a55 2
	(cd ${PREFIX}/share/john && ${RM} -f un* john mailer)
	${SED} "s%~/%${PREFIX}/share/john/%g" ${WRKSRC}/../run/john.ini > \
@


1.5
log
@none licenses
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 2000/02/11 00:37:36 espie Exp $
d15 4
a18 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.4
log
@Use WRKDIST where appropriate.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1999/11/29 16:40:26 dugsong Exp $
d13 6
@


1.3
log
@update MASTER_SITES to primary non-US site; john is not subject to any crypto restrictions; fix location of sharable data dir; fix location of john's temp files
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1999/06/02 02:04:37 dugsong Exp $
d17 1
d19 1
a19 1
WRKSRC=		${WRKDIR}/${DISTNAME}/src
@


1.2
log
@there is no /usr/local/etc, i suk
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/05/31 16:12:22 dugsong Exp $
d9 1
d14 2
a15 4
NO_CDROM=	"CRYPTO: Third party crypto not allowed."
RESTRICTED=	"Crypto; export-controlled"

MASTER_SITES=	http://www.false.com/security/john/ \
d41 1
d45 5
a49 5
	${INSTALL_DATA_DIR} ${PREFIX}/lib/john
	${INSTALL_DATA} ${WRKSRC}/../run/* ${PREFIX}/lib/john
	${SED} "s%~/%${PREFIX}/lib/john/%g" ${WRKSRC}/../run/john.ini > \
	${PREFIX}/lib/john/john.ini
	${RM} -f ${PREFIX}/lib/john/un* ${PREFIX}/lib/john/john
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/07/12 06:24:18 marc Exp $
a44 3
	${SED} "s%~/%${PREFIX}/lib/john/%g" ${WRKSRC}/../run/john.ini > \
	${PREFIX}/etc/john.ini
	${RM} -f ${WRKSRC}/../run/john* ${WRKSRC}/../run/un*
d47 3
@


1.1.1.1
log
@john the ripper port
@
text
@@
