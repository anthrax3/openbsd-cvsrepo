head	1.5;
access;
symbols
	OPENBSD_6_1:1.5.0.2
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.3.0.6
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.4
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.2;
locks; strict;
comment	@# @;


1.5
date	2017.01.26.14.40.04;	author sthen;	state Exp;
branches;
next	1.4;
commitid	oq0yVWBMfG5vzB0h;

1.4
date	2016.09.22.21.18.06;	author sthen;	state Exp;
branches;
next	1.3;
commitid	sZBRIu0NJbai2dcC;

1.3
date	2016.01.29.15.23.43;	author sthen;	state Exp;
branches
	1.3.2.1;
next	1.2;
commitid	cKpYdGQWWf3vOvFy;

1.2
date	2015.12.03.19.40.00;	author sthen;	state dead;
branches;
next	1.1;
commitid	i6QGKwCKHSM8CCU2;

1.1
date	2015.12.03.16.21.30;	author sthen;	state Exp;
branches;
next	;
commitid	gqrRvToH5Qi3p2oL;

1.3.2.1
date	2016.01.29.15.31.17;	author sthen;	state Exp;
branches;
next	;
commitid	3XiSNnGVWMznJSlg;


desc
@@


1.5
log
@update to openssl-1.0.2k
@
text
@$OpenBSD: patch-Makefile_org,v 1.4 2016/09/22 21:18:06 sthen Exp $
--- Makefile.org.orig	Thu Jan 26 13:22:03 2017
+++ Makefile.org	Thu Jan 26 14:27:37 2017
@@@@ -368,7 +368,7 @@@@ libcrypto.pc: Makefile
 	@@ ( echo 'prefix=$(INSTALLTOP)'; \
 	    echo 'exec_prefix=$${prefix}'; \
 	    echo 'libdir=$${exec_prefix}/$(LIBDIR)'; \
-	    echo 'includedir=$${prefix}/include'; \
+	    echo 'includedir=$${prefix}/include/eopenssl'; \
 	    echo 'enginesdir=$${libdir}/engines'; \
 	    echo ''; \
 	    echo 'Name: OpenSSL-libcrypto'; \
@@@@ -383,12 +383,12 @@@@ libssl.pc: Makefile
 	@@ ( echo 'prefix=$(INSTALLTOP)'; \
 	    echo 'exec_prefix=$${prefix}'; \
 	    echo 'libdir=$${exec_prefix}/$(LIBDIR)'; \
-	    echo 'includedir=$${prefix}/include'; \
+	    echo 'includedir=$${prefix}/include/eopenssl'; \
 	    echo ''; \
 	    echo 'Name: OpenSSL-libssl'; \
 	    echo 'Description: Secure Sockets Layer and cryptography libraries'; \
 	    echo 'Version: '$(VERSION); \
-	    echo 'Requires.private: libcrypto'; \
+	    echo 'Requires.private: libecrypto'; \
 	    echo 'Libs: -L$${libdir} -lssl'; \
 	    echo 'Libs.private: $(EX_LIBS)'; \
 	    echo 'Cflags: -I$${includedir} $(KRB5_INCLUDES)' ) > libssl.pc
@@@@ -397,12 +397,12 @@@@ openssl.pc: Makefile
 	@@ ( echo 'prefix=$(INSTALLTOP)'; \
 	    echo 'exec_prefix=$${prefix}'; \
 	    echo 'libdir=$${exec_prefix}/$(LIBDIR)'; \
-	    echo 'includedir=$${prefix}/include'; \
+	    echo 'includedir=$${prefix}/include/eopenssl'; \
 	    echo ''; \
 	    echo 'Name: OpenSSL'; \
 	    echo 'Description: Secure Sockets Layer and cryptography libraries and tools'; \
 	    echo 'Version: '$(VERSION); \
-	    echo 'Requires: libssl libcrypto' ) > openssl.pc
+	    echo 'Requires: libessl libecrypto' ) > openssl.pc
 
 Makefile: Makefile.org Configure config
 	@@echo "Makefile is older than Makefile.org, Configure or config."
@


1.4
log
@security update to OpenSSL 1.0.2i
major library bump because dtls1_clear_record_buffer() was removed
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_org,v 1.3 2016/01/29 15:23:43 sthen Exp $
--- Makefile.org.orig	Thu Sep 22 11:23:06 2016
+++ Makefile.org	Thu Sep 22 12:30:06 2016
@@@@ -367,7 +367,7 @@@@ libcrypto.pc: Makefile
d13 1
a13 1
@@@@ -382,12 +382,12 @@@@ libssl.pc: Makefile
d28 1
a28 1
@@@@ -396,12 +396,12 @@@@ openssl.pc: Makefile
@


1.3
log
@fix the installed pkg-config files, issue reported a while ago by
Wladimir J. van der Laan
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.org.orig	Thu Jan 28 13:56:08 2016
+++ Makefile.org	Fri Jan 29 15:21:29 2016
@@@@ -365,7 +365,7 @@@@ libcrypto.pc: Makefile
d10 1
d13 1
a13 2
 	    echo 'Description: OpenSSL cryptography library'; \
@@@@ -379,12 +379,12 @@@@ libssl.pc: Makefile
d28 1
a28 1
@@@@ -393,12 +393,12 @@@@ openssl.pc: Makefile
@


1.3.2.1
log
@update to openssl-1.0.1r
@
text
@d2 3
a4 3
--- Makefile.org.orig	Fri Jan 29 15:25:14 2016
+++ Makefile.org	Fri Jan 29 15:26:10 2016
@@@@ -362,7 +362,7 @@@@ libcrypto.pc: Makefile
d13 1
a13 1
@@@@ -376,7 +376,7 @@@@ libssl.pc: Makefile
d20 1
a20 1
 	    echo 'Name: OpenSSL'; \
d22 7
a28 1
@@@@ -390,7 +390,7 @@@@ openssl.pc: Makefile
d37 6
@


1.2
log
@The upstream distfile was quietly re-rolled.
@
text
@d1 42
a42 12
$OpenBSD: patch-Makefile_org,v 1.1 2015/12/03 16:21:30 sthen Exp $
--- Makefile.org.orig	Thu Dec  3 16:15:27 2015
+++ Makefile.org	Thu Dec  3 16:15:35 2015
@@@@ -638,7 +638,7 @@@@ install_docs:
 		$(INSTALL_PREFIX)$(MANDIR)/man3 \
 		$(INSTALL_PREFIX)$(MANDIR)/man5 \
 		$(INSTALL_PREFIX)$(MANDIR)/man7
-	@@pod2man="`cd ./util; ./pod2mantest $(PERL)`"; \
+	@@pod2man=pod2man; \
 	here="`pwd`"; \
 	filecase=; \
 	case "$(PLATFORM)" in DJGPP|Cygwin*|mingw*|darwin*-*-cc) \
@


1.1
log
@update to OpenSSL 1.0.2e, patching around the pod2mantest script missing
in the distribution tar file.

- BN_mod_exp may produce incorrect results on x86_64 (CVE-2015-3193, Aug 13)

- Certificate verify crash with missing PSS parameter (CVE-2015-3194, Aug 27)

- X509_ATTRIBUTE memory leak (CVE-2015-3195, Nov 9)

(plus the advisory mentions an issue fixed in 1.0.2d)
@
text
@d1 1
a1 1
$OpenBSD$
@

