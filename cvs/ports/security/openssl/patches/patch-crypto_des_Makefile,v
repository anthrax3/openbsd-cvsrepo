head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.8
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.6
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.4
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.1.0.6
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.09.12.19.29.34;	author sthen;	state Exp;
branches;
next	1.1;
commitid	fMikk6wXACSXOUi4;

1.1
date	2014.08.22.07.59.54;	author landry;	state Exp;
branches;
next	;
commitid	1ovabqnW2HmGKC7V;


desc
@@


1.2
log
@update to openssl-1.0.2d
@
text
@$OpenBSD: patch-crypto_des_Makefile,v 1.1 2014/08/22 07:59:54 landry Exp $
-B is a remnant from system V m4, not implemented in our m4, and a noop in gm4
--- crypto/des/Makefile.orig	Thu Jul  9 14:02:56 2015
+++ crypto/des/Makefile	Sat Sep 12 20:40:03 2015
@@@@ -60,7 +60,7 @@@@ des: des.o cbc3_enc.o lib
 	$(CC) $(CFLAGS) -o des des.o cbc3_enc.o $(LIB)
 
 des_enc-sparc.S:	asm/des_enc.m4
-	m4 -B 8192 asm/des_enc.m4 > des_enc-sparc.S
+	m4 asm/des_enc.m4 > des_enc-sparc.S
 dest4-sparcv9.s:	asm/dest4-sparcv9.pl
 	$(PERL) asm/dest4-sparcv9.pl $(CFLAGS) > $@@
 
@


1.1
log
@Fix build on sparc64.

In the 'you didnt think openssl was that insane' series, it tries to use
m4 -B 8192 to generate some sparc asm from an m4 file.
Unsurprisingly, our m4 doesn't support -B, it's not even in gm4's manpage,
and gm4 info page says this about -B :
     These options are present for compatibility with System V `m4', but
     do nothing in this implementation.  They may disappear in future
     releases, and issue a warning to that effect.

I'm glad openssl can be built with System V m4..
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
--- crypto/des/Makefile.orig	Fri Aug 22 00:55:33 2014
+++ crypto/des/Makefile	Fri Aug 22 00:55:44 2014
d11 2
a13 2
 des-586.s:	asm/des-586.pl ../perlasm/x86asm.pl ../perlasm/cbc.pl
 	$(PERL) asm/des-586.pl $(PERLASM_SCHEME) $(CFLAGS) > $@@
@

