head	1.2;
access;
symbols
	OPENBSD_3_0:1.1.1.1.0.8
	OPENBSD_3_0_BASE:1.1.1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	OPENBSD_2_9:1.1.1.1.0.6
	OPENBSD_2_9_BASE:1.1.1.1
	OPENBSD_2_8:1.1.1.1.0.4
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.2
	OPENBSD_2_7_BASE:1.1.1.1
	dugsong_2000-Apr-6:1.1.1.1
	dugsong:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2002.03.24.07.30.42;	author jsyn;	state dead;
branches;
next	1.1;

1.1
date	2000.04.06.20.45.01;	author dugsong;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.06.20.45.01;	author dugsong;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- fix MASTER_SITES
- sync license to reality
- rename patches
- sprinkle $OpenBSD$
- grammar fixes
- regen PLIST
- take over maintainership (this ok dugsong@@)
@
text
@--- fzap.h.orig	Mon Feb 15 18:50:43 1999
+++ fzap.h	Thu Apr  6 15:51:10 2000
@@@@ -1,8 +1,9 @@@@
+#include <sys/param.h>
 
 void DBG(char *fmt,...)
 {
-    va_list *ap;
 #ifdef DEBUG
+    va_list *ap;
     va_start(ap, fmt);
     fprintf(stderr, "\n[fzap:DBG]\t");
     vfprintf(stderr, fmt, ap);
@@@@ -47,12 +48,12 @@@@
 #endif
 
 
-#ifdef __FreeBSD__
-#define LIB_PATH "/usr/lib/libc.so.3.0"
-#define CONNECT(A,B,C) int connect(int A, const struct sockaddr *B, int C)
-int (*old_connect)(int, const struct sockaddr *, int)=NULL;
-#define BIND(A,B,C) int bind __P((int A, const struct sockaddr * B, int C))
-int (*old_bind)(int, const struct sockaddr *, int);
+#ifdef BSD
+#define LIB_PATH "/usr/lib/libc.so.23.1"
+#define CONNECT(A,B,C) int connect(int A, const struct sockaddr *B, socklen_t C)
+int (*old_connect)(int, const struct sockaddr *, socklen_t)=NULL;
+#define BIND(A,B,C) int bind __P((int A, const struct sockaddr * B, socklen_t C))
+int (*old_bind)(int, const struct sockaddr *, socklen_t);
 #endif
 
 
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@ADMfzap - connect(), bind() wrapper to evade misconfigured packet filters
@
text
@@
