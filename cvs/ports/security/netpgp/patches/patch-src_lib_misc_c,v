head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.12
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.10
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.6
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.1.1.0.4
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.2
	OPENBSD_5_4_BASE:1.1.1.1
	pascal_20130903:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2014.07.11.22.41.03;	author pascal;	state Exp;
branches;
next	1.1;
commitid	i5Jk1xjHCi3VqZHi;

1.1
date	2013.03.09.16.02.24;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.03.09.16.02.24;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to newer snapshot, delete some patches which were committed upstream.
@
text
@$OpenBSD: patch-src_lib_misc_c,v 1.1.1.1 2013/03/09 16:02:24 pascal Exp $
--- src/lib/misc.c.orig	Mon Mar  5 03:20:18 2012
+++ src/lib/misc.c	Sat Jul 12 00:27:33 2014
@@@@ -437,7 +437,7 @@@@ hash_bignum(pgp_hash_t *hash, BIGNUM *bignum)
 		(void) fprintf(stderr, "hash_bignum: bad size\n");
 		return 0;
 	}
-	if ((bn = calloc(1, len)) == NULL) {
+	if ((bn = calloc(1, len + 1)) == NULL) {
 		(void) fprintf(stderr, "hash_bignum: bad bn alloc\n");
 		return 0;
 	}
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- src/lib/misc.c.orig	Thu Nov  4 07:45:28 2010
+++ src/lib/misc.c	Thu Aug  2 14:52:01 2012
@@@@ -436,7 +436,7 @@@@ hash_bignum(__ops_hash_t *hash, BIGNUM *bignum)
@


1.1.1.1
log
@Import NetPGP.

NetPGP is a standards-compliant library and suite of utilities
providing digital signature and verification functionality, as well
as data encryption and decryption, using RSA and DSA/Elgamal keys.

Several double frees found by bentley@@, already committed upstream.

ok benoit@@
@
text
@@
