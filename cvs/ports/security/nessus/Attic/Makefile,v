head	1.43;
access;
symbols
	OPENBSD_5_6:1.42.0.20
	OPENBSD_5_6_BASE:1.42
	OPENBSD_5_5:1.42.0.18
	OPENBSD_5_5_BASE:1.42
	OPENBSD_5_4:1.42.0.16
	OPENBSD_5_4_BASE:1.42
	OPENBSD_5_3:1.42.0.14
	OPENBSD_5_3_BASE:1.42
	OPENBSD_5_2:1.42.0.12
	OPENBSD_5_2_BASE:1.42
	OPENBSD_5_1_BASE:1.42
	OPENBSD_5_1:1.42.0.10
	OPENBSD_5_0:1.42.0.8
	OPENBSD_5_0_BASE:1.42
	OPENBSD_4_9:1.42.0.6
	OPENBSD_4_9_BASE:1.42
	OPENBSD_4_8:1.42.0.4
	OPENBSD_4_8_BASE:1.42
	OPENBSD_4_7:1.42.0.2
	OPENBSD_4_7_BASE:1.42
	OPENBSD_4_6:1.41.0.18
	OPENBSD_4_6_BASE:1.41
	OPENBSD_4_5:1.41.0.16
	OPENBSD_4_5_BASE:1.41
	OPENBSD_4_4:1.41.0.14
	OPENBSD_4_4_BASE:1.41
	OPENBSD_4_3:1.41.0.12
	OPENBSD_4_3_BASE:1.41
	OPENBSD_4_2:1.41.0.10
	OPENBSD_4_2_BASE:1.41
	OPENBSD_4_1:1.41.0.8
	OPENBSD_4_1_BASE:1.41
	OPENBSD_4_0:1.41.0.6
	OPENBSD_4_0_BASE:1.41
	OPENBSD_3_9:1.41.0.4
	OPENBSD_3_9_BASE:1.41
	OPENBSD_3_8:1.41.0.2
	OPENBSD_3_8_BASE:1.41
	sturm_20050516:1.1.1.2
	sturm:1.1.1
	OPENBSD_3_7:1.38.0.2
	OPENBSD_3_7_BASE:1.38
	OPENBSD_3_6:1.35.0.2
	OPENBSD_3_6_BASE:1.35
	OPENBSD_3_5:1.34.0.2
	OPENBSD_3_5_BASE:1.34
	OPENBSD_3_4:1.33.0.4
	OPENBSD_3_4_BASE:1.33
	OPENBSD_3_3:1.33.0.2
	OPENBSD_3_3_BASE:1.33
	OPENBSD_3_2:1.30.0.2
	OPENBSD_3_2_BASE:1.30
	OPENBSD_3_1:1.25.0.4
	OPENBSD_3_1_BASE:1.25
	OPENBSD_3_0:1.25.0.2
	OPENBSD_3_0_BASE:1.25
	OPENBSD_2_9_TRACKING_SWITCH:1.24
	OPENBSD_2_9:1.21.0.2
	OPENBSD_2_9_BASE:1.21
	OPENBSD_2_8:1.16.0.2
	OPENBSD_2_8_BASE:1.16
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.4.0.4
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	marc_1999-Jan-31:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.43
date	2014.09.30.16.14.57;	author sthen;	state dead;
branches;
next	1.42;
commitid	uNysh3xy3Jd4kbZZ;

1.42
date	2010.02.01.17.00.14;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2005.05.16.16.17.24;	author sturm;	state Exp;
branches;
next	1.40;

1.40
date	2005.05.16.16.10.22;	author sturm;	state Exp;
branches;
next	1.39;

1.39
date	2005.05.16.16.03.33;	author sturm;	state Exp;
branches;
next	1.38;

1.38
date	2005.03.13.19.42.40;	author couderc;	state Exp;
branches;
next	1.37;

1.37
date	2005.02.06.17.13.26;	author sturm;	state Exp;
branches;
next	1.36;

1.36
date	2004.12.27.13.28.34;	author alek;	state Exp;
branches;
next	1.35;

1.35
date	2004.04.08.16.32.39;	author sturm;	state Exp;
branches;
next	1.34;

1.34
date	2003.11.27.19.53.24;	author sturm;	state Exp;
branches
	1.34.2.1;
next	1.33;

1.33
date	2003.02.08.13.21.19;	author reinhard;	state Exp;
branches
	1.33.4.1;
next	1.32;

1.32
date	2002.10.28.17.35.02;	author naddy;	state Exp;
branches;
next	1.31;

1.31
date	2002.10.12.13.04.22;	author reinhard;	state Exp;
branches;
next	1.30;

1.30
date	2002.09.28.03.18.15;	author pvalchev;	state Exp;
branches;
next	1.29;

1.29
date	2002.08.22.18.02.34;	author pvalchev;	state Exp;
branches;
next	1.28;

1.28
date	2002.07.04.15.37.03;	author reinhard;	state Exp;
branches;
next	1.27;

1.27
date	2002.05.25.10.38.58;	author reinhard;	state Exp;
branches;
next	1.26;

1.26
date	2002.04.19.14.43.36;	author pvalchev;	state Exp;
branches;
next	1.25;

1.25
date	2001.09.28.06.02.14;	author pvalchev;	state Exp;
branches;
next	1.24;

1.24
date	2001.07.03.07.57.46;	author reinhard;	state Exp;
branches;
next	1.23;

1.23
date	2001.06.17.09.40.10;	author reinhard;	state Exp;
branches;
next	1.22;

1.22
date	2001.05.06.14.38.33;	author matt;	state Exp;
branches;
next	1.21;

1.21
date	2001.03.25.19.17.48;	author matt;	state Exp;
branches
	1.21.2.1;
next	1.20;

1.20
date	2001.03.22.22.06.41;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2001.02.13.03.00.11;	author matt;	state Exp;
branches;
next	1.18;

1.18
date	2001.01.13.03.32.07;	author matt;	state Exp;
branches;
next	1.17;

1.17
date	2000.12.28.16.07.05;	author matt;	state Exp;
branches;
next	1.16;

1.16
date	2000.10.01.00.41.45;	author matt;	state Exp;
branches;
next	1.15;

1.15
date	2000.08.05.01.25.32;	author matt;	state Exp;
branches;
next	1.14;

1.14
date	2000.07.27.00.24.43;	author matt;	state Exp;
branches;
next	1.13;

1.13
date	2000.07.07.21.25.10;	author matt;	state Exp;
branches;
next	1.12;

1.12
date	2000.07.03.01.34.10;	author matt;	state Exp;
branches;
next	1.11;

1.11
date	2000.07.03.01.03.50;	author matt;	state Exp;
branches;
next	1.10;

1.10
date	2000.04.09.17.38.05;	author espie;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2000.03.24.23.28.33;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.03.05.18.30.42;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.15.05.05.11;	author turan;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.12.08.02.30;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	99.10.26.13.39.19;	author dugsong;	state Exp;
branches;
next	1.4;

1.4
date	99.03.28.21.27.05;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.03.17.02.55.28;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.02.07.23.11.33;	author dugsong;	state Exp;
branches;
next	1.1;

1.1
date	99.02.01.00.29.02;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.02.01.00.29.02;	author marc;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2005.05.16.16.02.56;	author sturm;	state Exp;
branches;
next	;

1.10.2.1
date	2000.09.15.05.15.19;	author marc;	state Exp;
branches;
next	;

1.21.2.1
date	2001.06.27.22.32.00;	author matt;	state Exp;
branches;
next	;

1.33.4.1
date	2004.08.15.23.26.32;	author brad;	state Exp;
branches;
next	;

1.34.2.1
date	2004.08.15.23.25.00;	author brad;	state Exp;
branches;
next	;


desc
@@


1.43
log
@Retire ports/security/nessus, it moved to being commercial software several
years ago. (If anyone needs something like this, there's a fork OpenVAS
which is seeing a bit of development, though it's patchy at times - start
with security/openvas in the openbsd-wip github repo).

OK dcoppa@@ aja@@
@
text
@# $OpenBSD: Makefile,v 1.42 2010/02/01 17:00:14 espie Exp $

SUBDIR =
SUBDIR += core
SUBDIR += core,no_x11
SUBDIR += libnasl
SUBDIR += libraries
SUBDIR += plugins

.include <bsd.port.subdir.mk>
@


1.42
log
@SUBDIR += is wrong: it means the makefile will pick up SUBDIR from env, thus
breaking cd /usr/ports && SUBDIR=some/path make something for
category makefiles. While there, also put spaces around += uniformously.
okay naddy@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2005/05/16 16:17:24 sturm Exp $
@


1.41
log
@sort
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2005/05/16 16:10:22 sturm Exp $
d3 1
@


1.40
log
@new nessus port structure
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2005/05/16 16:03:33 sturm Exp $
a2 1
SUBDIR += plugins
d7 1
@


1.39
log
@new port structure
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2005/03/13 19:42:40 couderc Exp $
d5 1
@


1.38
log
@Alexandre Anriot takes maintainership on nessus and scanlogd, ok pval@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2005/02/06 17:13:26 sturm Exp $
d3 4
a6 1
COMMENT=	"network security scanner"
d8 1
a8 87
PKGNAME=	nessus-${VERS}
CATEGORIES=	security

MAINTAINER=	Alexandre Anriot <aanriot@@atlantilde.com>

VERS=		2.2.2a

DIST_SUBDIR=	nessus

DISTFILES=	nessus-libraries-${VERS}${EXTRACT_SUFX} \
		libnasl-${VERS}${EXTRACT_SUFX} \
		nessus-core-${VERS}${EXTRACT_SUFX} \
		nessus-plugins-${VERS}${EXTRACT_SUFX}

NESSUS_DIRS=	${DISTFILES:S/-${VERS}${EXTRACT_SUFX}//g}

MASTER_SITES=	ftp://ftp.nessus.org/pub/nessus/nessus-${VERS}/src/ \
		ftp://mirror.arc.nasa.gov/pub/tools/nessus/nessus-${VERS}/src/ \
		ftp://ftp.gwdg.de/pub/linux/misc/nessus/nessus-${VERS}/src/ \
		ftp://nessus.via.ecp.fr/nessus/nessus-${VERS}/src/ \
		ftp://sunsite.cnlab-switch.ch/mirror/nessus/nessus-${VERS}/src/ \
		ftp://ftp.chg.ru/pub/security/nessus/nessus-${VERS}/src/ \
		ftp://ftp.sekure.net/pub/nessus/nessus-${VERS}/src/ \
		ftp://ftp.nectec.or.th/pub/mirrors/nessus/nessus-${VERS}/src/ \
		ftp://ftp.pt.nessus.org/pub/nessus/nessus-${VERS}/src/ \
		ftp://ftp.au.nessus.org/pub/nessus/nessus-${VERS}/src/ \
		ftp://ftp.stuff.ca/pub/nessus/nessus-${VERS}/src/src/ \
		ftp://ftp.at.nessus.org/pub/nessus/nessus-${VERS}/src/ \
		ftp://ftp.linux.org.tr/pub/nessus/nessus-${VERS}/src/ \
		ftp://cvs.nessus.org/pub/nessus/nessus-${VERS}/src/

HOMEPAGE=	http://www.nessus.org/

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

WANTLIB=	c crypto m pcap ssl util

USE_LIBTOOL=	Yes

FLAVORS=no_x11
FLAVOR?=

# Can't do CONFIGURE_STYLE=autoconf because of configure wrapper
# that builds each tarball in succession.
CONFIGURE_STYLE=gnu
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/nessus-core \
    ${WRKSRC}/nessus-plugins ${WRKSRC}/libnasl ${WRKSRC}/nessus-libraries
CONFIGURE_ARGS+=--localstatedir=/var --disable-nessuspcap \
		--sharedstatedir=/var --enable-shared --enable-bpf-sharing

LIB_DEPENDS=	net::net/libnet
BUILD_DEPENDS=	::devel/bison

.if empty(FLAVOR:L:Mno_x11)
WANTLIB+=	X11 Xext Xi glib gmodule iconv intl
LIB_DEPENDS+=	gtk.1.2,gdk.1.2::x11/gtk+
.else
CONFIGURE_ARGS+=--disable-gtk
.endif

post-extract:
	@@sed 's%@@@@NESSUS_DIRS@@@@%${NESSUS_DIRS}%g' \
		${FILESDIR}/Makefile > ${WRKSRC}Makefile
	@@sed -e 's%@@@@NESSUS_DIRS@@@@%${NESSUS_DIRS}%g' \
		-e 's%@@@@WRKSRC@@@@%${WRKSRC}%g' \
		${FILESDIR}/configure > ${WRKSRC}configure
	@@sed -e 's%@@@@WRKSRC@@@@%${WRKSRC}%g' -e 's%@@@@VERS@@@@%${VERS}%g' \
		-e 's%@@@@PREFIX@@@@%${PREFIX}%g' \
		${FILESDIR}/nessus-config > ${WRKSRC}nessus-config
	@@sed 's%@@@@WRKSRC@@@@%${WRKSRC}%g' \
		${FILESDIR}/nasl-config > ${WRKSRC}nasl-config
	@@${CHMOD} 755 ${WRKSRC}*
	@@cd ${WRKSRC}nessus-libraries/include ; ln -s . nessus
	@@cd ${WRKSRC}libnasl/include ; ln -s . nessus

NO_REGRESS=	Yes

post-install:
	@@${STRIP} ${PREFIX}/bin/{nasl,nessus,nessus-mkrand} ${PREFIX}/sbin/nessusd
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/nessus
	@@${INSTALL_DATA} ${WRKSRC}libnasl/doc/nessus_org.pem \
		${PREFIX}/share/examples/nessus

.include <bsd.port.mk>
@


1.37
log
@update to nessus 2.2.2a
remove maintainer per his request

from Jon Trembley <jon at brain-box.net>
@
text
@d1 1
a1 1
# $OpenBSD$
d7 2
@


1.36
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2004/04/08 16:32:39 sturm Exp $
d8 1
a8 1
VERS=		2.0.10a
a33 2
MAINTAINER=	Srebrenko Sehic <haver@@insecure.dk>

d40 2
a41 1
WANTLIB=		c crypto m pcap ssl util
d85 3
@


1.35
log
@update to nessus 2.0.10a

from new maintainer Srebrenko Sehic <haver at insecure.dk>
ok old maintainer reinhard@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2003/11/27 19:53:24 sturm Exp $
d42 1
d61 1
@


1.34
log
@update to nessus 2.0.9, no response from maintainer

from Richard Johnson <rdump at river dot com>
with some cleanup and @@extra support from me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2003/02/08 13:21:19 reinhard Exp $
d8 1
a8 1
VERS=		2.0.9
d34 1
a34 1
MAINTAINER=	Reinhard J. Sammer <reinhard@@openbsd.org>
@


1.34.2.1
log
@Fixed a race condition in nessus-adduser for users who do not configure their TMPDIR variable.

http://www.nessus.org/nessus_2_0.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2003/11/27 19:53:24 sturm Exp $
d5 1
a5 1
PKGNAME=	nessus-${VERS}p1
@


1.33
log
@update to nessus v1.2.7;
*) patches from several ppl
*) still investigating performance issues
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2002/10/28 17:35:02 naddy Exp $
d8 1
a8 1
VERS=		1.2.7
d53 2
a54 1
CONFIGURE_ARGS+=--localstatedir=/var --disable-nessuspcap --sharedstatedir=/var
d57 1
@


1.33.4.1
log
@Fixed a race condition in nessus-adduser for users who do not configure their TMPDIR variable.

http://www.nessus.org/nessus_2_0.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2003/02/08 13:21:19 reinhard Exp $
d5 1
a5 1
PKGNAME=	nessus-${VERS}p1
@


1.32
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2002/10/12 13:04:22 reinhard Exp $
d8 1
a8 1
VERS=		1.2.6
@


1.31
log
@update to nessus v1.2.6

see http://www.nessus.org/posix.html for changelist
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2002/09/28 03:18:15 pvalchev Exp $
d75 4
a78 2
	@@(cd ${WRKSRC}nessus-libraries/include ; ln -s . nessus)
	@@(cd ${WRKSRC}libnasl/include ; ln -s . nessus)
@


1.30
log
@Update to nessus-1.2.5, Bugfix release
"o Fixed a deadlock that would prevent some plugins from
completing
 o Fixed a possible (although rare) corruption issue in the
 reports (the script IDs could under some circumstances be random)
 o Fixed a potential segfault in the execution of nasl scripts"
From maintainer reinhard@@
ok lebel brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2002/08/22 18:02:34 pvalchev Exp $
d8 1
a8 1
VERS=		1.2.5
a43 2

LIB_DEPENDS=	net::net/libnet
@


1.29
log
@this depends on libnet; ok reinhard
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2002/07/04 15:37:03 reinhard Exp $
a6 1
NEED_VERSION=	1.531
d8 1
a8 1
VERS=		1.2.3
d56 2
@


1.28
log
@update to nessus-1.2.3; work by John Benninghoff and me

see http://www.nessus.org/posix.html for changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2002/05/25 10:38:58 reinhard Exp $
d45 2
@


1.27
log
@update to nessus-1.2.0; thx John Benninghoff, Srebrenko Sehic
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2002/04/19 14:43:36 pvalchev Exp $
d7 1
a7 1
NEED_VERSION=	1.527
d9 1
a9 1
VERS=		1.2.0
a75 9

# Convince nmap_wrapper.nes to build regardless of nmap's presence.
post-configure:
	@@sed 's%@@@@PREFIX@@@@%${TRUEPREFIX}%g' ${FILESDIR}/nmap.h \
		>${WRKSRC}nessus-plugins/plugins/nmap_wrapper/nmap.h
	@@touch ${WRKSRC}nessus-plugins/plugins/nmap_wrapper/nmap_installed

pre-install:
	${INSTALL_DATA_DIR} ${PREFIX}/include/nessus
@


1.26
log
@full library dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/09/28 06:02:14 pvalchev Exp $
d7 1
a7 1
NEED_VERSION=	1.405
d9 1
a9 1
VERS=		1.0.7a
d33 1
a33 1
		ftp://cvs.nessus.org/pub/nessus/nessus-${VERS}/src/ 
d44 3
a46 1
FLAVORS=no_x11 experimental
d52 3
a54 5
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/nessus-core ${WRKSRC}/nessus-plugins ${WRKSRC}/libnasl ${WRKSRC}/nessus-libraries/libpcap-nessus ${WRKSRC}/nessus-libraries/libpeks/gmp3 ${WRKSRC}/nessus-libraries/libpeks ${WRKSRC}/nessus-libraries
CONFIGURE_ARGS+=--localstatedir=/var --enable-gmp=${LOCALBASE} \
		--disable-nessuspcap

LIB_DEPENDS=	gmp.4.1::devel/gmp
a61 4
.if ${FLAVOR:L:Mexperimental}
CONFIGURE_ARGS+=--enable-save-sessions --enable-save-kb
.endif

d73 1
a73 1
	@@chmod 755 ${WRKSRC}*
a74 2
	@@(cd ${WRKSRC}nessus-libraries/libpeks ; ln -s . peks)
	@@(cd ${WRKSRC}nessus-libraries/libpcap-nessus ; ln -s . nessus)
d79 2
a80 1
	@@cp ${FILESDIR}/nmap.h ${WRKSRC}nessus-plugins/plugins/nmap_wrapper/
d87 1
a87 1
	@@strip ${PREFIX}/bin/{nasl,nessus} ${PREFIX}/sbin/nessusd
a89 1

@


1.25
log
@CONFIGURE_STYLE=gnu w/ proper MODGNU_CONFIG_GUESS_DIRS
needed for the powerpc -> macppc name change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/07/03 07:57:46 reinhard Exp $
d57 1
a57 1
LIB_DEPENDS+=	gtk.1.2::x11/gtk+
@


1.24
log
@strip binaries; jsyn <jsyn@@nthought.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/06/17 09:40:10 reinhard Exp $
d50 1
@


1.23
log
@add 'experimental' flavor (save-session and knowledge base capabilities)
take MAINTAINER
ok matt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/05/06 14:38:33 matt Exp $
d89 3
@


1.22
log
@- ignore existing nessus,nasl-config scripts when building
- more --enable-gmp fixes to configure scripts
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/03/25 19:17:48 matt Exp $
d35 1
a35 1
MAINTAINER=	Matt Behrens <matt@@openbsd.org>
d44 1
a44 1
FLAVORS=no_x11
d59 4
@


1.21
log
@move COMMENTs into Makefiles
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/03/22 22:06:41 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.361
d47 2
d50 2
a51 1
CONFIGURE_ARGS+=--localstatedir=/var --enable-gmp=${LOCALBASE}
@


1.21.2.1
log
@MFC:
- ignore existing nessus,nasl-config scripts when building
- more --enable-gmp fixes to configure scripts
----
not bumping package version, since this is a build fix only
ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/05/06 14:38:33 matt Exp $
d7 1
a7 1
NEED_VERSION=	1.405
a46 2
# Can't do CONFIGURE_STYLE=autoconf because of configure wrapper
# that builds each tarball in succession.
d48 1
a48 2
CONFIGURE_ARGS+=--localstatedir=/var --enable-gmp=${LOCALBASE} \
		--disable-nessuspcap
@


1.20
log
@- mkdir -> ${INSTALL_DATA_DIR}
- kill off FreeBSD-ism (NOPORTDOCS knob)
--
Patch from: Pete Fritchman <petef@@databits.net>
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.19 2001/02/13 03:00:11 matt Exp $
a5 1

d7 1
a7 1
NEED_VERSION=	1.316
@


1.19
log
@update to 1.0.7a
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/01/13 03:32:07 matt Exp $
d80 1
a80 1
	mkdir -p -m 755 ${PREFIX}/include/nessus
@


1.18
log
@fix gmp detection bug; 1.0.7 will have this fix included
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/12/28 16:07:05 matt Exp $
d8 1
a8 1
VERS=		1.0.6
d20 1
d22 2
a23 1
		ftp://cvs.nessus.org/pub/nessus/nessus-${VERS}/src/ \
d26 7
a32 1
		ftp://ftp.nectec.or.th/pub/mirrors/nessus/nessus-${VERS}/src/
@


1.17
log
@- up to 1.0.6
- patch included libtools
- use ports gmp now that our gmp is gone
- make included scripts more readable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/10/01 00:41:45 matt Exp $
d39 1
a39 1
CONFIGURE_ARGS+=--localstatedir=/var
@


1.16
log
@- update to 1.0.5
- patch names, MAINTAINER -> current conventions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/08/05 01:25:32 matt Exp $
d8 1
a8 1
VERS=		1.0.5
d41 2
d44 1
a44 1
LIB_DEPENDS=	gtk.1.2::x11/gtk+
d50 1
a50 1
	@@sed "s%y0y0y0%${NESSUS_DIRS}%g" \
d52 2
a53 1
	@@sed -e "s%y0y0y0%${NESSUS_DIRS}%g" -e "s%w00w00%${WRKSRC}%g" \
d55 2
a56 1
	@@sed -e "s%w00w00%${WRKSRC}%g" -e "s%@@@@VERS@@@@%${VERS}%g" \
d58 1
a58 1
	@@sed "s%w00w00%${WRKSRC}%g" \
@


1.15
log
@update to 1.0.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/07/27 00:24:43 matt Exp $
d8 1
a8 1
VERS=		1.0.4
d10 1
a10 1
DIST_SUBDIR=	nessus-${VERS}
d26 1
a26 1
MAINTAINER=	matt@@openbsd.org
@


1.14
log
@- update to 1.0.3
- clean up Makefile and wrapper scripts some more
- better INSTALL/DEINSTALL script
- be able to compile w/ old nessus pkg installed (thx rdump@@river.com)
- make it think nmap is always present to avoid dependency (espie@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/07/07 21:25:10 matt Exp $
d8 1
a8 1
VERS=		1.0.3
d19 6
a24 6
MASTER_SITES=	ftp://ftp.nessus.org/pub/nessus/nessus-${VERS}/ \
		ftp://ftp.gwdg.de/pub/linux/misc/nessus/nessus-${VERS}/ \
		ftp://cvs.nessus.org/pub/nessus/nessus-${VERS}/ \
		ftp://ftp.chg.ru/pub/security/nessus/nessus-${VERS}/ \
		ftp://ftp.sekure.net/pub/nessus/nessus-${VERS}/ \
		ftp://ftp.nectec.or.th/pub/mirrors/nessus/nessus-${VERS}/
@


1.13
log
@CVS bug bit me... moving to new PLIST scheme, bumping NEED_VERSION,
cleaning up Makefile.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/07/03 01:34:10 matt Exp $
d6 1
a6 2
NEED_VERSION=	1.310
FAKE=		Yes
d8 1
a8 1
VERS=		1.0.0
d10 1
a10 1
DIST_SUBDIR=	${PKGNAME}
d26 3
a28 1
MAINTAINER=	matt@@zigg.com
a29 1
LICENSE_TYPE=		GPL
d35 7
d43 3
a45 2

GNU_CONFIGURE=	Yes
d62 5
d71 1
@


1.12
log
@Accidentally left in a testing flag -- corrected.
@
text
@d1 1
a1 6
# Makefile for:         nessus
# Version required:     0.2
# Date created:         14 Mar 1999
# Whom:                 dugsong@@monkey.org
#
# $OpenBSD: Makefile,v 1.11 2000/07/03 01:03:50 matt Exp $
d6 1
a6 1
NEED_VERSION=	1.270
a38 1
# GNU build environment gone horribly wrong. ugh.
@


1.11
log
@Update to 1.0.0 and FAKE.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.10 2000/04/09 17:38:05 espie Exp $
a42 2

CONFIGURE_ARGS=	--disable-shared
@


1.10
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.9 2000/03/24 23:28:33 espie Exp $
d11 2
a12 2
NEED_VERSION=	 1.230
FAKE=No
d14 1
a14 1
VERS=		0.98.3
d32 1
a32 1
MAINTAINER=	dugsong@@monkey.org
d44 1
a44 1
CONFIGURE_ARGS+= --sharedstatedir=${PREFIX}/share --localstatedir=${PREFIX}/share
d48 2
a49 1
	@@sed "s%y0y0y0%${NESSUS_DIRS}%g" ${FILESDIR}/Makefile > ${WRKSRC}Makefile
d52 4
a55 2
	@@sed "s%w00w00%${WRKSRC}%g" ${FILESDIR}/nessus-config > ${WRKSRC}nessus-config
	@@sed "s%w00w00%${WRKSRC}%g" ${FILESDIR}/nasl-config > ${WRKSRC}nasl-config
d58 2
a59 1
	@@(cd ${WRKSRC}nessus-libraries/cipher ; ln -s . peks)
@


1.10.2.1
log
@bring security as of cut-over date into 2.7 branch
@
text
@d1 6
a6 1
# $OpenBSD: Makefile,v 1.15 2000/08/05 01:25:32 matt Exp $
d11 2
a12 1
NEED_VERSION=	1.316
d14 1
a14 1
VERS=		1.0.4
d16 1
a16 1
DIST_SUBDIR=	nessus-${VERS}
d25 6
a30 6
MASTER_SITES=	ftp://ftp.nessus.org/pub/nessus/nessus-${VERS}/src/ \
		ftp://ftp.gwdg.de/pub/linux/misc/nessus/nessus-${VERS}/src/ \
		ftp://cvs.nessus.org/pub/nessus/nessus-${VERS}/src/ \
		ftp://ftp.chg.ru/pub/security/nessus/nessus-${VERS}/src/ \
		ftp://ftp.sekure.net/pub/nessus/nessus-${VERS}/src/ \
		ftp://ftp.nectec.or.th/pub/mirrors/nessus/nessus-${VERS}/src/
d32 1
a32 3
MAINTAINER=	matt@@openbsd.org

HOMEPAGE=	http://www.nessus.org/
d34 1
d40 1
a40 2
FLAVORS=no_x11
FLAVOR?=
d42 1
a42 2
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS+=--localstatedir=/var
d44 1
a44 5
.if empty(FLAVOR:L:Mno_x11)
LIB_DEPENDS=	gtk.1.2::x11/gtk+
.else
CONFIGURE_ARGS+=--disable-gtk
.endif
d46 1
d48 1
a48 2
	@@sed "s%y0y0y0%${NESSUS_DIRS}%g" \
		${FILESDIR}/Makefile > ${WRKSRC}Makefile
d51 2
a52 4
	@@sed -e "s%w00w00%${WRKSRC}%g" -e "s%@@@@VERS@@@@%${VERS}%g" \
		${FILESDIR}/nessus-config > ${WRKSRC}nessus-config
	@@sed "s%w00w00%${WRKSRC}%g" \
		${FILESDIR}/nasl-config > ${WRKSRC}nasl-config
d55 1
a55 2
	@@(cd ${WRKSRC}nessus-libraries/libpeks ; ln -s . peks)
	@@(cd ${WRKSRC}nessus-libraries/libpcap-nessus ; ln -s . nessus)
a57 5
# Convince nmap_wrapper.nes to build regardless of nmap's presence.
post-configure:
	@@cp ${FILESDIR}/nmap.h ${WRKSRC}nessus-plugins/plugins/nmap_wrapper/
	@@touch ${WRKSRC}nessus-plugins/plugins/nmap_wrapper/nmap_installed

a61 1

@


1.9
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.8 2000/03/05 18:30:42 espie Exp $
d12 1
@


1.8
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.7 2000/02/15 05:05:11 turan Exp $
d11 1
a11 1
NEED_VERSION=	1.223
d39 1
a39 1
LIB_DEPENDS=	gtk.1.2:x11/gtk+
@


1.7
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.6 2000/02/12 08:02:30 turan Exp $
d11 1
d34 4
a37 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d39 1
a39 1
LIB_DEPENDS=	gtk.1.2:${PORTSDIR}/x11/gtk+
d41 1
a41 1
GNU_CONFIGURE=	yes
@


1.6
log
@gpl licenses
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.5 1999/10/26 13:39:19 dugsong Exp $
d33 4
a36 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.5
log
@rewritten to handle nessus braindeath
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/05/31 17:12:15 dugsong Exp $
d31 6
@


1.4
log
@fix dependency check
@
text
@d1 8
a8 1
# $OpenBSD: Makefile,v 1.3 1999/03/17 02:55:28 brad Exp $
a9 1
DISTNAME=	nessus-990201
d11 18
a28 4
MASTER_SITES=	http://www.nessus.org/ \
		http://www.worldnet.fr/~deraison/ \
		ftp://ftp.gwdg.de/pub/linux/misc/nessus/
EXTRACT_SUFX=	.tgz
d35 17
@


1.3
log
@add SYSCONFDIR var and add missing PLIST.noshared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/02/07 23:11:33 dugsong Exp $
a7 1

d12 1
a12 1
LIB_DEPENDS	gtk:${PORTSDIR}/x11/gtk+
a14 2

MAN1=		nessus.1
@


1.2
log
@update to nessus 990201
@
text
@d1 1
a1 7
# Makefile for:		nessus
# Version required:	990201
# Date created:		18 Jan 1999
# Whom:			dugsong@@monkey.org
# Related URLs:		http://www.nessus.org/
#
# $OpenBSD$
a3 1

a4 1

d13 1
a13 1
LIB_DEPENDS	gtk\\.1\\.:${PORTSDIR}/x11/gtk+
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# Version required:	981016
d9 1
a9 1
DISTNAME=	nessus-981016
@


1.1.1.1
log
@nessus; Dug Song <dugsong@@monkey.org>
@
text
@@


1.1.1.2
log
@update to nessus 2.2.4

- this version only comes with GPLed plugins
- for easier maintenance split the port into several subports

from new maintainer Alexandre Anriot <aanriot at atlantilde.com>
@
text
@d1 7
a7 1
# $OpenBSD: Makefile,v 1.38 2005/03/13 19:42:40 couderc Exp $
d9 1
a9 4
SUBDIR += plugins
SUBDIR += core
SUBDIR += libnasl
SUBDIR += libraries
d11 17
a27 1
.include <bsd.port.subdir.mk>
@

