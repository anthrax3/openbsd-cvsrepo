head	1.2;
access;
symbols
	OPENBSD_5_8:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2015.12.18.10.26.29;	author landry;	state dead;
branches;
next	1.1;
commitid	4dtEXva4e8wRdnBN;

1.1
date	2015.12.07.18.26.01;	author jasper;	state Exp;
branches
	1.1.2.1;
next	;
commitid	IZrGNKRvwFJBAFWo;

1.1.2.1
date	2015.12.07.18.26.49;	author jasper;	state Exp;
branches;
next	;
commitid	Zk0psnbUbVqW6T8r;


desc
@@


1.2
log
@Update to keepassx 2.0, From Rafael Sadowski.

No objection from steven@@ (MAINTAINER) ok mmcc@@
@
text
@$OpenBSD: patch-src_lib_FileDialogs_cpp,v 1.1 2015/12/07 18:26:01 jasper Exp $

Security fix for CVE-2015-8378
http://anonscm.debian.org/cgit/collab-maint/keepassx.git/commit/?id=b3c9028db8ec3b8752ff47717ffc792d755c1294

--- src/lib/FileDialogs.cpp.orig	Thu Oct  8 21:27:39 2009
+++ src/lib/FileDialogs.cpp	Mon Dec  7 14:50:29 2015
@@@@ -118,6 +118,11 @@@@ QString QtStandardFileDialogs::saveFileDialog(QWidget*
 		SelectedFilter=Filters[SelectedFilterIndex];
 	QString filepath = QFileDialog::getSaveFileName(parent,title,dir,toSingleStringFilter(Filters),&SelectedFilter,
 	                                                ShowOverwriteWarning ? (QFileDialog::Option)0 : QFileDialog::DontConfirmOverwrite);
+
+        // Fixes CVE-2015-8378
+        if (filepath.isEmpty())
+            return filepath;
+
 	LastFilter=Filters.indexOf(SelectedFilter);
 		
 	//Check whether the file has an extension which fits to the selected filter
@


1.1
log
@Security fix for CVE-2015-8378

ok steven@@ (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@Security fix for CVE-2015-8378

ok steven@@ (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD: patch-src_lib_FileDialogs_cpp,v 1.1 2015/12/07 18:26:01 jasper Exp $
@

