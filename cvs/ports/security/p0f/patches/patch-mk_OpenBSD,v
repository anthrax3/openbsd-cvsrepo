head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.46
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.44
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.42
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.38
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.40
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.36
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.34
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.32
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.30
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.28
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.26
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.24
	OPENBSD_5_0:1.2.0.22
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.20
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.18
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.16
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.14
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.12
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.10
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.8
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.6
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.4
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.1.0.4
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.2
	OPENBSD_3_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2006.05.03.07.17.44;	author aanriot;	state Exp;
branches;
next	1.1;

1.1
date	2005.07.29.19.40.44;	author aanriot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to 2.0.6 .

from Rui Reis <rui@@rui.cx>, new maintainer;
ok jolan@@
@
text
@$OpenBSD: patch-mk_OpenBSD,v 1.1 2005/07/29 19:40:44 aanriot Exp $
--- mk/OpenBSD.orig	Sun Apr 30 18:21:59 2006
+++ mk/OpenBSD	Sun Apr 30 18:29:11 2006
@@@@ -7,18 +7,15 @@@@
 # (C) Copyright 2000-2006 by Michal Zalewski <lcamtuf@@coredump.cx>
 #
 
-CC      = gcc
+CC      = $(CC) 
 LIBS	= -lpcap
 STRIP   = strip
-CFLAGS  = -O3 -Wall -fomit-frame-pointer -funroll-loops \
-          -DUSE_BPF=\"${USE_BPF}\" \
-	  -I/usr/include/pcap -I/usr/local/include/pcap -I/usr/local/include
+CFLAGS  +=
 FILE	= p0f
-TOOLS   = test/sendack test/sendack2 test/sendsyn
+DATAS   = p0f.fp p0fa.fp p0fr.fp p0fo.fp README
+TOOLS   = test/sendack.c test/sendack2.c test/sendsyn.c
 
-all: $(FILE) strip	
-	@@echo ">> You can also try 'make p0fq' to compile a sample query"
-	@@echo ">> client (see README for more information)."
+all: $(FILE)
 
 static: $(FILE)-static
 
@@@@ -45,9 +42,10 @@@@ publish: clean
 	rm -f /tmp/p0f.tgz
 	
 install: $(FILE)
-	cp -f $(FILE) /usr/sbin/
-	cp -f p0frep /usr/sbin/
-	mkdir /etc/p0f || true
-	cp -f p0f.fp p0fa.fp p0fr.fp p0fo.fp /etc/p0f/
-	cp -f p0f.1 /usr/man/man1/ || cp -f p0f.1 /usr/local/man/man1/
-	@@echo "You might want to manually install test/ tools now."
+	$(BSD_INSTALL_PROGRAM) $(FILE) $(PREFIX)/sbin/
+	$(BSD_INSTALL_PROGRAM) p0frep $(PREFIX)/sbin/
+	$(BSD_INSTALL_DATA_DIR) $(PREFIX)/share/doc/p0f
+	$(BSD_INSTALL_DATA_DIR) $(PREFIX)/share/examples/p0f
+	$(BSD_INSTALL_DATA) $(DATAS) $(PREFIX)/share/doc/p0f
+	$(BSD_INSTALL_DATA) $(TOOLS) $(PREFIX)/share/examples/p0f
+	$(BSD_INSTALL_MAN) p0f.1 $(PREFIX)/man/man1
@


1.1
log
@update to 2.0.5.

ok niallo@@
@
text
@d1 5
a5 5
$OpenBSD$
--- mk/OpenBSD.orig	Thu Jul 28 11:01:44 2005
+++ mk/OpenBSD	Thu Jul 28 11:01:51 2005
@@@@ -7,16 +7,15 @@@@
 # (C) Copyright 2000-2004 by Michal Zalewski <lcamtuf@@coredump.cx>
d9 2
a10 3
-LIBS	= -lpcap -I/usr/include/pcap -I/usr/local/include/pcap
+CC      = $(CC)
+LIBS	= -lpcap
d12 3
a14 1
-CFLAGS  = -O3 -Wall -fomit-frame-pointer -funroll-loops
d28 1
a28 1
@@@@ -43,9 +42,10 @@@@ publish: clean
@

