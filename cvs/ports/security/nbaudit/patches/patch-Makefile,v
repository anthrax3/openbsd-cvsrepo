head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.30
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.26
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.28
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.24
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.22
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.20
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.18
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.16
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.14
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.12
	OPENBSD_5_0:1.3.0.10
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.8
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.6
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.4
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.2.0.32
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.30
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.28
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.26
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.24
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.22
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.20
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.18
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.16
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.14
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.12
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.10
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.8
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.6
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.4
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.2
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.1
	OPENBSD_2_9:1.1.0.4
	OPENBSD_2_9_BASE:1.1
	OPENBSD_2_8:1.1.0.2
	OPENBSD_2_8_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2009.06.19.10.19.27;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2001.10.08.23.34.42;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.18.08.51.31;	author obecian;	state Exp;
branches;
next	;


desc
@@


1.3
log
@regen
@
text
@$OpenBSD: patch-Makefile,v 1.2 2001/10/08 23:34:42 naddy Exp $
--- Makefile.orig	Mon Feb 17 03:18:04 1997
+++ Makefile	Fri Jun 19 11:17:08 2009
@@@@ -2,7 +2,7 @@@@
 # Makefile for Samba SMB client/server for unix
 # Copyright Andrew Tridgell 1992,1993,1994
 ###########################################################################
-CC = gcc
+#CC = gcc
 
 # set this to the default group you want your machine to appear in
 # for browsing. This can also be set in nmbd (see nmbd(8))
@@@@ -147,8 +147,8 @@@@ GUESTACCOUNT = nobody
 #
 # This is for OpenBSD.
 #
-# FLAGSM = -DOPENBSD -DSHADOW_PWD
-# LIBSM = -lcrypt 
+FLAGSM = -DOPENBSD -DSHADOW_PWD
+LIBSM =
 
 # This is for NetBSD. Add -DNETBSD_1_0 if you are using 1.0
 # contributed by noses@@oink.rhein.de
@@@@ -366,7 +366,7 @@@@ SRCS = nat.c client.c util.c system.c nmb.c charset.c 
 OBJS = nat.o client.o util.o system.o nmb.o charset.o parse_ip.o
 CFLAGS1 = -DSTEPPING -DSCANNER -DVERBOSE
 CFLAGS2 = -DWORKGROUP=\"$(WORKGROUP)\" -DGUEST_ACCOUNT=\"$(GUESTACCOUNT)\" 
-CFLAGS = $(CFLAGS1) $(CFLAGS2) $(FLAGSM)
+CFLAGS += $(CFLAGS1) $(CFLAGS2) $(FLAGSM)
 LIBS = $(LIBSM)
 
 all : nat
@


1.2
log
@- respect CC
- clean up patches
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.orig	Mon Feb 17 04:18:04 1997
+++ Makefile	Tue Oct  9 01:27:18 2001
d24 1
a24 1
@@@@ -366,7 +366,7 @@@@ SRCS = nat.c client.c util.c system.c nm
@


1.1
log
@patched client.c to avoid segfaults on user/pass list exhaustion
updated port to comply with -current changes
@
text
@d1 32
a32 38
*** Makefile.orig	Mon Feb 17 09:18:04 1997
--- Makefile	Thu May  7 13:50:18 1998
***************
*** 147,154 ****
  #
  # This is for OpenBSD.
  #
! # FLAGSM = -DOPENBSD -DSHADOW_PWD
! # LIBSM = -lcrypt 
  
  # This is for NetBSD. Add -DNETBSD_1_0 if you are using 1.0
  # contributed by noses@@oink.rhein.de
--- 147,154 ----
  #
  # This is for OpenBSD.
  #
! FLAGSM = -DOPENBSD -DSHADOW_PWD
! LIBSM =
  
  # This is for NetBSD. Add -DNETBSD_1_0 if you are using 1.0
  # contributed by noses@@oink.rhein.de
***************
*** 366,372 ****
  OBJS = nat.o client.o util.o system.o nmb.o charset.o parse_ip.o
  CFLAGS1 = -DSTEPPING -DSCANNER -DVERBOSE
  CFLAGS2 = -DWORKGROUP=\"$(WORKGROUP)\" -DGUEST_ACCOUNT=\"$(GUESTACCOUNT)\" 
! CFLAGS = $(CFLAGS1) $(CFLAGS2) $(FLAGSM)
  LIBS = $(LIBSM)
  
  all : nat
--- 366,372 ----
  OBJS = nat.o client.o util.o system.o nmb.o charset.o parse_ip.o
  CFLAGS1 = -DSTEPPING -DSCANNER -DVERBOSE
  CFLAGS2 = -DWORKGROUP=\"$(WORKGROUP)\" -DGUEST_ACCOUNT=\"$(GUESTACCOUNT)\" 
! CFLAGS += $(CFLAGS1) $(CFLAGS2) $(FLAGSM)
  LIBS = $(LIBSM)
  
  all : nat
@

