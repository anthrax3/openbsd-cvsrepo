head	1.4;
access;
symbols
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.2.0.8
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.10
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.6
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.4
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.1.0.2
	OPENBSD_5_4_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2016.10.06.12.10.22;	author landry;	state Exp;
branches;
next	1.3;
commitid	B59cCEzPF3NvaiDL;

1.3
date	2016.03.04.16.29.24;	author landry;	state Exp;
branches;
next	1.2;
commitid	sTPAUP7WKQu0cL9Y;

1.2
date	2014.01.09.20.09.44;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2013.06.23.18.40.01;	author landry;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to nss 3.27, required by gecko 50.

See
https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/NSS_3.27_release_notes

Note that a bunch of CA's were removed, but not WoSign, because it owns
StartSSL/StartCOM.. see
https://docs.google.com/document/d/1C6BlmbeQfn4a9zydVi2UvjBGv6szuSB4sMYUcVrR8vQ/preview
and https://wiki.mozilla.org/CA:WoSign_Issues for details. Anyway, we
know the CA model is broken, right ?

Bump major, functions added/removed...
@
text
@$OpenBSD: patch-nss_lib_freebl_blapi_h,v 1.3 2016/03/04 16:29:24 landry Exp $

From firefox in pkgsrc:
SHA1_Update conflicts with openssl which may be dynamically loaded

--- nss/lib/freebl/blapi.h.orig	Mon Sep 26 08:00:51 2016
+++ nss/lib/freebl/blapi.h	Mon Oct  3 10:11:50 2016
@@@@ -1212,6 +1212,8 @@@@ extern void SHA1_DestroyContext(SHA1Context *cx, PRBoo
 */
 extern void SHA1_Begin(SHA1Context *cx);
 
+#define SHA1_Update NSS_SHA1_Update
+
 /*
 ** Update the SHA-1 hash function with more data.
 **  "cx" the context
@


1.3
log
@Update to nss 3.23.

See
https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/NSS_3.23_release_notes
for details.

Remove c++-comments patch, now that we remove -ansi from the build flags it
is allowed in C99. (see https://bugzilla.mozilla.org/show_bug.cgi?id=1250891)
@
text
@d1 1
a1 1
$OpenBSD: patch-nss_lib_freebl_blapi_h,v 1.2 2014/01/09 20:09:44 landry Exp $
d6 3
a8 3
--- nss/lib/freebl/blapi.h.orig	Fri Feb 26 21:51:11 2016
+++ nss/lib/freebl/blapi.h	Thu Mar  3 11:01:55 2016
@@@@ -1218,6 +1218,8 @@@@ extern void SHA1_DestroyContext(SHA1Context *cx, PRBoo
d16 1
a16 1
 **	"cx" the context
@


1.2
log
@Update to nss 3.15.4, needed by gecko 27.

Contains a fix for (CVE-2013-1740): When false start is enabled, libssl
will sometimes return unencrypted, unauthenticated data from PR_Recv
(https://bugzilla.mozilla.org/show_bug.cgi?id=919877)

See https://developer.mozilla.org/en-US/docs/NSS/NSS_3.15.4_release_notes
@
text
@d1 1
a1 1
$OpenBSD: patch-nss_lib_freebl_blapi_h,v 1.1 2013/06/23 18:40:01 landry Exp $
d6 3
a8 3
--- nss/lib/freebl/blapi.h.orig	Fri Jan  3 20:59:10 2014
+++ nss/lib/freebl/blapi.h	Mon Jan  6 22:46:56 2014
@@@@ -1189,6 +1189,8 @@@@ extern void SHA1_DestroyContext(SHA1Context *cx, PRBoo
@


1.1
log
@Update to nss 3.15.

https://developer.mozilla.org/en-US/docs/NSS/NSS_3.15_release_notes

After years of sticking to CVS, upstream finally switched to hg,
changing its directory layout while here. All our patches are actually
unchanged, but got renamed/moved. CVS doesn't handle moves :)

Tested in an amd64 bulk build.
@
text
@d1 1
a1 1
$OpenBSD$
d6 3
a8 3
--- nss/lib/freebl/blapi.h.orig	Tue May 28 23:43:24 2013
+++ nss/lib/freebl/blapi.h	Wed Jun 12 22:02:56 2013
@@@@ -1021,6 +1021,8 @@@@ extern void SHA1_DestroyContext(SHA1Context *cx, PRBoo
@

