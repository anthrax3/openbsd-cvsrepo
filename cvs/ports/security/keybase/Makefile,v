head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.2
	OPENBSD_6_1_BASE:1.4
	abieber_20160909:1.1.1.1
	abieber:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2017.02.26.20.36.28;	author sthen;	state Exp;
branches;
next	1.3;
commitid	FfpqwTDAsJ7Xv78H;

1.3
date	2017.02.21.15.36.21;	author abieber;	state Exp;
branches;
next	1.2;
commitid	6EZfT3KfSvSaXVZA;

1.2
date	2016.09.19.14.39.35;	author abieber;	state Exp;
branches;
next	1.1;
commitid	mXRGdjp1STuNEGaa;

1.1
date	2016.09.09.14.11.43;	author abieber;	state Exp;
branches
	1.1.1.1;
next	;
commitid	G3yzU7lffkTm3s0l;

1.1.1.1
date	2016.09.09.14.11.43;	author abieber;	state Exp;
branches;
next	;
commitid	G3yzU7lffkTm3s0l;


desc
@@


1.4
log
@ONLY_FOR_ARCHS=amd64, due to go-ps (bundled) not supporting other arches for OpenBSD.
@
text
@# $OpenBSD: Makefile,v 1.3 2017/02/21 15:36:21 abieber Exp $

# go-ps only supports amd64 on OpenBSD
# ../vendor/github.com/keybase/go-ps/process.go:39: undefined: processes
# ../vendor/github.com/keybase/go-ps/process.go:47: undefined: findProcess
ONLY_FOR_ARCHS = amd64

COMMENT =	client for keybase.io

V =		1.0.18
GH_ACCOUNT =	keybase
GH_PROJECT =	client
GH_TAGNAME =	v${V}

DISTNAME =	keybase-${V}

CATEGORIES =	security
HOMEPAGE =	https://keybase.io

MAINTAINER =	Aaron Bieber <abieber@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM =	Yes

RUN_DEPENDS =	security/gnupg2

WANTLIB += c pthread

WRKSRC =		${WRKDIR}/go/src/github.com/keybase/client

MODULES =		lang/go
MODGO_TYPE =		bin
MODGO_ENV =		PATH="${PORTPATH}" HOME="${PORTHOME}"

do-build:
	cd ${WRKSRC}/go/keybase && ${MODGO_CMD} build -tags \
		production

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/go/keybase/keybase ${PREFIX}/bin/

.include <bsd.port.mk>
@


1.3
log
@Remove most of the patches as they are upstreamed. Bump to latest version.

OK awolk@@
@
text
@d1 6
a6 1
# $OpenBSD: Makefile,v 1.2 2016/09/19 14:39:35 abieber Exp $
@


1.2
log
@Fix build on i386 (found by sthen@@). I will push upstream as well.

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2016/09/09 14:11:43 abieber Exp $
d5 1
a5 1
V =		1.0.17
a8 1
REVISION =	0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2016/08/30 21:05:50 edd Exp $
d9 1
@


1.1.1.1
log
@Import keybase client, a command line tool for working with keybase.io!

OK awolk@@, suggestions from edd@@
@
text
@@
