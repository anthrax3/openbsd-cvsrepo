head	1.6;
access;
symbols
	OPENBSD_6_0:1.6.0.4
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.4.0.6
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2016.01.30.09.16.41;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	KEO47HrAUw4q3Uyy;

1.5
date	2015.07.14.03.21.15;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	aNF83N5Xc6WdynzK;

1.4
date	2013.09.03.13.53.47;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2013.06.09.14.25.12;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2013.05.07.06.39.41;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.01.19.07.04.01;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to libnettle-3.2.
@
text
@$OpenBSD: patch-configure,v 1.5 2015/07/14 03:21:15 ajacoutot Exp $

Fix relocation errors on (at least) sparc64.

We don't want extra debug flags in regular builds.

--- configure.orig	Thu Jan 28 21:02:21 2016
+++ configure	Sat Jan 30 10:11:42 2016
@@@@ -7068,6 +7068,7 @@@@ else
 	bsdi4.*)	CCPIC="-fPIC" ;;
 	bsdi*)		CCPIC="" ;;
 	darwin*)	CCPIC="-fPIC" ;;
+	openbsd*)	CCPIC="-fPIC" ;;
 	# Could also use -fpic, depending on the number of symbol references
 	solaris*)	CCPIC="-fPIC" ;;
 	cygwin*)	CCPIC="" ;;
@@@@ -7754,7 +7755,7 @@@@ if test x$GCC = xyes ; then
   if $CC --version | grep '^2\.96$' 1>/dev/null 2>&1; then
     true
   else
-    CFLAGS="$CFLAGS -ggdb3"
+    CFLAGS="$CFLAGS"
   fi
   # FIXME: It would be better to actually test if this option works and/or is needed.
   # Or perhaps use -funsigned-char.
@


1.5
log
@Major upgrade to libnettle-3.1.1.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.4 2013/09/03 13:53:47 sthen Exp $
d7 3
a9 3
--- configure.orig	Fri Apr 24 19:22:03 2015
+++ configure	Mon Jul 13 09:11:27 2015
@@@@ -6979,6 +6979,7 @@@@ else
d17 1
a17 1
@@@@ -7660,7 +7661,7 @@@@ if test x$GCC = xyes ; then
@


1.4
log
@tweaks for libnettle, from Juan Francisco Cantero Hurtado:

- don't force -ggdb3

- don't use asm on arm, our toolchain can't handle it
(http://rhaalovely.net/build-failures/arm/20130730/security/libnettle.log)
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.3 2013/06/09 14:25:12 ajacoutot Exp $
d7 3
a9 3
--- configure.orig	Tue May 28 16:21:53 2013
+++ configure	Tue Sep  3 00:54:45 2013
@@@@ -4899,6 +4899,7 @@@@ else
d17 1
a17 1
@@@@ -7341,7 +7342,7 @@@@ if test x$GCC = xyes ; then
@


1.3
log
@Update to libnettle-2.7.1.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.2 2013/05/07 06:39:41 ajacoutot Exp $
d5 2
d8 1
a8 1
+++ configure	Sun Jun  9 16:11:13 2013
d17 9
@


1.2
log
@Update to libnettle-2.7.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.1 2013/01/19 07:04:01 ajacoutot Exp $
d5 3
a7 3
--- configure.orig	Wed Apr 24 15:26:53 2013
+++ configure	Tue May  7 08:25:03 2013
@@@@ -4895,6 +4895,7 @@@@ else
@


1.1
log
@Fix relocation errors on (at least) sparc64.
breakage reported by Markus Lude
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- configure.orig	Sat Jan 19 07:57:58 2013
+++ configure	Sat Jan 19 07:57:49 2013
@@@@ -4624,6 +4624,7 @@@@ else
@

