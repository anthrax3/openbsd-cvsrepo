head	1.19;
access;
symbols
	OPENBSD_6_0:1.17.0.2
	OPENBSD_6_0_BASE:1.17
	OPENBSD_5_9:1.16.0.2
	OPENBSD_5_9_BASE:1.16
	OPENBSD_5_8:1.15.0.4
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.13.0.2
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.11.0.4
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.2
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.10.0.2
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.7.0.2
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.4.0.4
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	ajacoutot_20110415:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2016.12.29.15.51.29;	author jca;	state Exp;
branches;
next	1.18;
commitid	NInhGQqyeXtw3eYQ;

1.18
date	2016.10.03.08.00.46;	author ajacoutot;	state Exp;
branches;
next	1.17;
commitid	rFjLytLt9Wz3dyqh;

1.17
date	2016.03.11.19.59.16;	author naddy;	state Exp;
branches;
next	1.16;
commitid	pguKLBEFv33DrgKU;

1.16
date	2016.01.30.09.16.41;	author ajacoutot;	state Exp;
branches;
next	1.15;
commitid	KEO47HrAUw4q3Uyy;

1.15
date	2015.07.14.03.21.15;	author ajacoutot;	state Exp;
branches
	1.15.4.1;
next	1.14;
commitid	aNF83N5Xc6WdynzK;

1.14
date	2015.05.01.16.03.35;	author ajacoutot;	state Exp;
branches;
next	1.13;
commitid	fndUKLXtdR0DlxyC;

1.13
date	2014.09.18.06.15.07;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	bJ6HsEPNNEHPHWx2;

1.12
date	2014.08.20.07.18.25;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	97r8fNGyTv6IkqM5;

1.11
date	2013.09.03.13.53.47;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2013.06.09.14.25.12;	author ajacoutot;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2013.05.07.06.39.41;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2013.03.11.11.41.25;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2013.01.19.07.04.01;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2013.01.18.10.41.00;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.09.05.07.14.47;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2011.10.12.06.03.41;	author rpointel;	state Exp;
branches;
next	1.3;

1.3
date	2011.08.25.09.20.27;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.06.08.08.39.02;	author sebastia;	state Exp;
branches;
next	1.1;

1.1
date	2011.04.15.16.08.01;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.04.15.16.08.01;	author ajacoutot;	state Exp;
branches;
next	;

1.10.2.1
date	2013.11.01.09.59.59;	author jasper;	state Exp;
branches;
next	;

1.15.4.1
date	2016.02.03.13.24.38;	author jasper;	state Exp;
branches;
next	;
commitid	KJwsKWcPeOdk2gHw;


desc
@@


1.19
log
@Remove workaround for binutils-2.15 on arm.

ok ajacoutot@@ (maintainer)
@
text
@# $OpenBSD: Makefile,v 1.18 2016/10/03 08:00:46 ajacoutot Exp $

COMMENT=		cryptographic library

DISTNAME=		nettle-3.3
REVISION=		0
PKGNAME=		lib${DISTNAME}

SHARED_LIBS +=  hogweed                   2.0 # 6.2
SHARED_LIBS +=  nettle                    2.2 # 4.2

CATEGORIES=		security devel

HOMEPAGE=		http://www.lysator.liu.se/~nisse/nettle/

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2.1+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c gmp

MASTER_SITES=		${MASTER_SITE_GNU:=nettle/}

LIB_DEPENDS=		devel/gmp

USE_GMAKE=		Yes

CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

MAKE_FLAGS=		LIBNETTLE_SONAME=libnettle.so.${LIBnettle_VERSION} \
			LIBNETTLE_FILE=libnettle.so.${LIBnettle_VERSION} \
			LIBHOGWEED_SONAME=libhogweed.so.${LIBhogweed_VERSION} \
			LIBHOGWEED_FILE=libhogweed.so.${LIBhogweed_VERSION}

.include <bsd.port.mk>
@


1.18
log
@Update to libnettle-3.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2016/03/11 19:59:16 naddy Exp $
d6 1
a31 5

# binutils 2.15 can't handle memxor.s
.if ${MACHINE_ARCH} == "arm"
CONFIGURE_ARGS +=	--disable-assembler
.endif
@


1.17
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2016/01/30 09:16:41 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		nettle-3.2
d9 1
a9 1
SHARED_LIBS +=  nettle                    2.1 # 4.2
@


1.16
log
@Update to libnettle-3.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/07/14 03:21:15 ajacoutot Exp $
a28 1
CONFIGURE_ARGS=		${CONFIGURE_SHARED}
@


1.15
log
@Major upgrade to libnettle-3.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2015/05/01 16:03:35 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		nettle-3.1.1
d8 2
a9 2
SHARED_LIBS +=  hogweed                   2.0 # 2.3
SHARED_LIBS +=  nettle                    2.0 # 4.5
@


1.15.4.1
log
@- Security fixes for CVE-2015-8803 - CVE-2015-8805
- -current is not affected after the update to 3.2

ok aja@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/07/14 03:21:15 ajacoutot Exp $
a5 1
REVISION=		0
@


1.14
log
@incompatible implicit declaration of built-in function 'alloca'
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2014/09/18 06:15:07 ajacoutot Exp $
d3 1
a3 1
COMMENT=	cryptographic library
d5 2
a6 3
DISTNAME=	nettle-2.7.1
PKGNAME=	lib${DISTNAME}
REVISION=	2
d8 2
a9 2
SHARED_LIBS +=  hogweed                   1.1 # 2.3
SHARED_LIBS +=  nettle                    1.2 # 4.5
d11 1
a11 1
CATEGORIES=	security devel
d13 1
a13 1
HOMEPAGE=	http://www.lysator.liu.se/~nisse/nettle/
d15 1
a15 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
d22 1
a22 1
MASTER_SITES=	${MASTER_SITE_GNU:=nettle/}
d24 1
a24 1
BUILD_DEPENDS=	devel/m4
d26 1
a26 1
LIB_DEPENDS=	devel/gmp
d28 4
a31 7
USE_GMAKE=	Yes

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		M4=${LOCALBASE}/bin/gm4
d35 1
a35 1
CONFIGURE_ARGS += --disable-assembler
d38 4
a41 4
MAKE_FLAGS=	LIBNETTLE_SONAME=libnettle.so.${LIBnettle_VERSION} \
		LIBNETTLE_FILE=libnettle.so.${LIBnettle_VERSION} \
		LIBHOGWEED_SONAME=libhogweed.so.${LIBhogweed_VERSION} \
		LIBHOGWEED_FILE=libhogweed.so.${LIBhogweed_VERSION}
@


1.13
log
@Take MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/08/20 07:18:25 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
@


1.12
log
@Better MASTER_SITES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/09/03 13:53:47 sthen Exp $
a5 1
REVISION=	0
d7 1
d15 2
@


1.11
log
@tweaks for libnettle, from Juan Francisco Cantero Hurtado:

- don't force -ggdb3

- don't use asm on arm, our toolchain can't handle it
(http://rhaalovely.net/build-failures/arm/20130730/security/libnettle.log)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/06/09 14:25:12 ajacoutot Exp $
d21 1
a21 2
MASTER_SITES=	http://www.lysator.liu.se/~nisse/archive/ \
		ftp://ftp.lysator.liu.se/pub/security/lsh/
@


1.10
log
@Update to libnettle-2.7.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/05/07 06:39:41 ajacoutot Exp $
d6 1
d35 5
@


1.10.2.1
log
@apply fix from -current to allow building this on arm; ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/06/09 14:25:12 ajacoutot Exp $
a33 5

# binutils 2.15 can't handle memxor.s
.if ${MACHINE_ARCH} == "arm"
CONFIGURE_ARGS += --disable-assembler
.endif
@


1.9
log
@Update to libnettle-2.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/03/11 11:41:25 espie Exp $
d5 1
a5 1
DISTNAME=	nettle-2.7
d21 1
a21 1
		ftp://ftp.lysator.liu.se/pub/security/lsh
@


1.8
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/01/19 07:04:01 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	nettle-2.6
a6 1
REVISION=	0
d9 1
a9 1
SHARED_LIBS +=  nettle                    1.1 # 4.5
@


1.7
log
@Fix relocation errors on (at least) sparc64.
breakage reported by Markus Lude
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/01/18 10:41:00 ajacoutot Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.6
log
@Update to libnettle-2.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/09/05 07:14:47 ajacoutot Exp $
d7 1
@


1.5
log
@Update to libnettle-2.5.

tested in a bulk by landry@@, thanks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/10/12 06:03:41 rpointel Exp $
d5 1
a5 1
DISTNAME=	nettle-2.5
d8 2
a9 2
SHARED_LIBS +=  hogweed                   1.0 # 2.4
SHARED_LIBS +=  nettle                    1.0 # 4.3
@


1.4
log
@Update libnettle to 2.4.
reads good aja@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/08/25 09:20:27 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	nettle-2.4
d8 2
a9 2
SHARED_LIBS +=  hogweed                   0.2 # 2.4
SHARED_LIBS +=  nettle                    0.2 # 4.3
@


1.3
log
@Update to libnettle-2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/06/08 08:39:02 sebastia Exp $
d5 1
a5 1
DISTNAME=	nettle-2.2
d8 2
a9 2
SHARED_LIBS +=  hogweed                   0.1 # 2.1
SHARED_LIBS +=  nettle                    0.1 # 4.1
@


1.2
log
@Fix build with gcc-2.95

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/04/15 16:08:01 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	nettle-2.1
a6 1
REVISION =	0
d8 2
a9 2
SHARED_LIBS +=  hogweed                   0.0 # 2.0
SHARED_LIBS +=  nettle                    0.0 # 4.0
d15 1
a15 1
# GPLv2 - LGPLv2.1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@Import libnettle-2.1.

Nettle is a cryptographic library that is designed to fit easily in more
or less any context: In crypto toolkits for object-oriented languages
(C++, Python, Pike, ...), in applications like LSH or GNUPG, or even in
kernel space. In most contexts, you need more than the basic
cryptographic algorithms, you also need some way to keep track of
available algorithms, their properties and variants. You often have some
algorithm selection process, often dictated by a protocol you want to
implement.
<...>

ok jasper@@ landry@@
@
text
@@
