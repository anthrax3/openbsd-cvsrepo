head	1.41;
access;
symbols
	OPENBSD_6_2:1.41.0.2
	OPENBSD_6_2_BASE:1.41
	OPENBSD_6_1:1.39.0.4
	OPENBSD_6_1_BASE:1.39
	OPENBSD_6_0:1.39.0.2
	OPENBSD_6_0_BASE:1.39
	OPENBSD_5_9:1.38.0.10
	OPENBSD_5_9_BASE:1.38
	OPENBSD_5_8:1.38.0.12
	OPENBSD_5_8_BASE:1.38
	OPENBSD_5_7:1.38.0.8
	OPENBSD_5_7_BASE:1.38
	OPENBSD_5_6:1.38.0.6
	OPENBSD_5_6_BASE:1.38
	OPENBSD_5_5:1.38.0.4
	OPENBSD_5_5_BASE:1.38
	OPENBSD_5_4:1.38.0.2
	OPENBSD_5_4_BASE:1.38
	OPENBSD_5_3:1.37.0.10
	OPENBSD_5_3_BASE:1.37
	OPENBSD_5_2:1.37.0.8
	OPENBSD_5_2_BASE:1.37
	OPENBSD_5_1_BASE:1.37
	OPENBSD_5_1:1.37.0.6
	OPENBSD_5_0:1.37.0.4
	OPENBSD_5_0_BASE:1.37
	OPENBSD_4_9:1.37.0.2
	OPENBSD_4_9_BASE:1.37
	OPENBSD_4_8:1.36.0.12
	OPENBSD_4_8_BASE:1.36
	OPENBSD_4_7:1.36.0.10
	OPENBSD_4_7_BASE:1.36
	OPENBSD_4_6:1.36.0.8
	OPENBSD_4_6_BASE:1.36
	OPENBSD_4_5:1.36.0.6
	OPENBSD_4_5_BASE:1.36
	OPENBSD_4_4:1.36.0.4
	OPENBSD_4_4_BASE:1.36
	OPENBSD_4_3:1.36.0.2
	OPENBSD_4_3_BASE:1.36
	OPENBSD_4_2:1.35.0.10
	OPENBSD_4_2_BASE:1.35
	OPENBSD_4_1:1.35.0.8
	OPENBSD_4_1_BASE:1.35
	OPENBSD_4_0:1.35.0.6
	OPENBSD_4_0_BASE:1.35
	OPENBSD_3_9:1.35.0.4
	OPENBSD_3_9_BASE:1.35
	OPENBSD_3_8:1.35.0.2
	OPENBSD_3_8_BASE:1.35
	OPENBSD_3_7:1.34.0.2
	OPENBSD_3_7_BASE:1.34
	OPENBSD_3_6:1.32.0.2
	OPENBSD_3_6_BASE:1.32
	OPENBSD_3_5:1.31.0.2
	OPENBSD_3_5_BASE:1.31
	OPENBSD_3_4:1.30.0.2
	OPENBSD_3_4_BASE:1.30
	OPENBSD_3_3:1.29.0.2
	OPENBSD_3_3_BASE:1.29
	OPENBSD_3_2:1.28.0.2
	OPENBSD_3_2_BASE:1.28
	OPENBSD_3_1:1.27.0.4
	OPENBSD_3_1_BASE:1.27
	OPENBSD_3_0:1.27.0.2
	OPENBSD_3_0_BASE:1.27
	OPENBSD_2_9_TRACKING_SWITCH:1.26
	OPENBSD_2_9:1.24.0.4
	OPENBSD_2_9_BASE:1.24
	OPENBSD_2_8:1.24.0.2
	OPENBSD_2_8_BASE:1.24
	OPENBSD_2_7:1.15.0.2
	OPENBSD_2_7_BASE:1.15
	OPENBSD_2_6:1.2.0.4
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	fgsch_19990205:1.1.1.1
	pgp5:1.1.1;
locks; strict;
comment	@# @;


1.41
date	2017.08.24.10.25.34;	author sthen;	state Exp;
branches;
next	1.40;
commitid	0dWv59W41ezSWqjP;

1.40
date	2017.06.14.01.41.58;	author schwarze;	state Exp;
branches;
next	1.39;
commitid	h0fBIcMvyXbNJQtC;

1.39
date	2016.06.29.16.14.44;	author espie;	state Exp;
branches;
next	1.38;
commitid	c1yQMbJbfo0CFBcL;

1.38
date	2013.03.11.11.41.27;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2010.10.18.21.41.47;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2007.09.15.23.30.00;	author merdely;	state Exp;
branches;
next	1.35;

1.35
date	2005.05.05.08.39.55;	author fgsch;	state Exp;
branches;
next	1.34;

1.34
date	2004.12.27.13.28.35;	author alek;	state Exp;
branches;
next	1.33;

1.33
date	2004.11.18.23.24.45;	author fgsch;	state Exp;
branches;
next	1.32;

1.32
date	2004.08.04.14.51.31;	author naddy;	state Exp;
branches;
next	1.31;

1.31
date	2004.02.25.13.59.07;	author naddy;	state Exp;
branches;
next	1.30;

1.30
date	2003.07.18.17.53.19;	author fgsch;	state Exp;
branches;
next	1.29;

1.29
date	2002.10.05.21.11.09;	author fgsch;	state Exp;
branches;
next	1.28;

1.28
date	2002.04.23.06.38.48;	author fgsch;	state Exp;
branches;
next	1.27;

1.27
date	2001.09.28.06.02.15;	author pvalchev;	state Exp;
branches;
next	1.26;

1.26
date	2001.05.08.06.20.49;	author marc;	state Exp;
branches;
next	1.25;

1.25
date	2001.05.05.22.56.14;	author fgsch;	state Exp;
branches;
next	1.24;

1.24
date	2000.10.16.13.30.34;	author fgsch;	state Exp;
branches;
next	1.23;

1.23
date	2000.09.07.04.30.44;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	2000.09.06.18.14.04;	author marc;	state Exp;
branches;
next	1.21;

1.21
date	2000.07.25.10.13.39;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2000.07.02.06.21.18;	author fgsch;	state Exp;
branches;
next	1.19;

1.19
date	2000.06.29.22.25.47;	author fgsch;	state Exp;
branches;
next	1.18;

1.18
date	2000.06.11.01.50.22;	author fgsch;	state Exp;
branches;
next	1.17;

1.17
date	2000.05.31.10.18.06;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2000.05.27.17.23.57;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2000.04.22.12.12.07;	author turan;	state Exp;
branches
	1.15.2.1;
next	1.14;

1.14
date	2000.04.18.09.48.01;	author turan;	state Exp;
branches;
next	1.13;

1.13
date	2000.04.09.17.38.07;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.03.24.23.28.33;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.05.18.30.42;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.02.11.00.37.37;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	99.12.24.06.22.13;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	99.12.21.18.52.57;	author fgsch;	state Exp;
branches;
next	1.7;

1.7
date	99.12.13.05.59.13;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.12.13.05.56.17;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	99.12.12.22.26.59;	author dugsong;	state Exp;
branches;
next	1.4;

1.4
date	99.12.09.03.50.57;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.11.24.03.33.55;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.02.05.07.14.21;	author fgsch;	state Exp;
branches;
next	1.1;

1.1
date	99.02.05.05.05.19;	author fgsch;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.02.05.05.05.19;	author fgsch;	state Exp;
branches;
next	;

1.15.2.1
date	2000.09.15.05.15.26;	author marc;	state Exp;
branches;
next	;


desc
@@


1.41
log
@mirror the distfile and drop HOMEPAGE, as Hiltjo Posthuma noticed, the domain
has lapsed. regen PLIST while there.
@
text
@# $OpenBSD: Makefile,v 1.40 2017/06/14 01:41:58 schwarze Exp $

COMMENT=	Pretty Good Privacy 5.0i (world wide use)

DISTNAME=	pgp50i-unix-src
PKGNAME=	pgp-5.0i
REVISION=	2
CATEGORIES=	security

MASTER_SITES=	https://spacehopper.org/mirrors/

# see apps/common/pgpLicense.c
PERMIT_PACKAGE_CDROM=	no commercial use
PERMIT_PACKAGE_FTP=	Yes

WANTLIB=		c m

CONFIGURE_STYLE= gnu
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/config

WRKDIST=	${WRKDIR}/pgp50i/src

post-patch:
	@@mv ${WRKSRC}/man/pgp.1 ${WRKSRC}/man/pgp5.1

post-install:
	@@strip ${PREFIX}/bin/pgp5
	@@strip ${PREFIX}/bin/pgpk
	${INSTALL_DATA_DIR} ${PREFIX}/lib/pgp5
	${INSTALL_DATA} ${WRKSRC}/language50.txt ${PREFIX}/lib/pgp5

.include <bsd.port.mk>
@


1.40
log
@mandoc now handles \p, so drop USE_GROFF and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2016/06/29 16:14:44 espie Exp $
d7 1
a7 1
REVISION =	1
a8 7
MASTER_SITES=	ftp://ftp.no.pgpi.com/pub/pgp/5.0/unix/ \
		ftp://ftp.cz.pgpi.com/pub/pgp/5.0/unix/ \
		ftp://ftp.nl.pgpi.com/pub/pgp/5.0/unix/ \
		ftp://ftp.pl.pgpi.com/pub/pgpi/5.0/unix/ \
		ftp://ftp.ru.pgpi.com/pub/pgp/5.0/unix/ \
		ftp://ftp.ch.pgpi.com/pub/pgp/5.0/unix/ \
		ftp://ftp.hu.pgpi.com/pub/pgpi/5.0/unix/
d10 1
a10 1
HOMEPAGE=	http://www.pgpi.com
d12 1
d15 1
@


1.39
log
@add is-branch to all trivial ports that exist as multiple branches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/03/11 11:41:27 espie Exp $
d7 1
a7 1
REVISION =	0
a23 1
USE_GROFF =	Yes
@


1.38
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/10/18 21:41:47 espie Exp $
d7 1
@


1.37
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2007/09/15 23:30:00 merdely Exp $
a19 2
PERMIT_DISTFILES_CDROM=	no commercial use
PERMIT_DISTFILES_FTP=	Yes
@


1.36
log
@Remove surrounding quotes in NO_REGRESS/COMMENT*/PERMIT_*

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2005/05/05 08:39:55 fgsch Exp $
d25 1
@


1.35
log
@clean master sites.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2004/12/27 13:28:35 alek Exp $
d3 1
a3 1
COMMENT=	"Pretty Good Privacy 5.0i (world wide use)"
d18 1
a18 1
PERMIT_PACKAGE_CDROM=	"no commercial use"
d20 1
a20 1
PERMIT_DISTFILES_CDROM=	"no commercial use"
@


1.34
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/11/18 23:24:45 fgsch Exp $
d9 1
a9 7
		ftp://ftp.at.pgpi.com/pub/pgpi/5.0/unix/ \
		ftp://ftp.cz.pgpi.com/pub/pgpi/5.0/unix/ \
		ftp://ftp.dk.pgpi.com/pub/pgpi/5.0/unix/ \
		ftp://ftp.fi.pgpi.com/pub/pgpi/5.0/unix/ \
		ftp://ftp.de.pgpi.com/pub/pgpi/5.0/unix/ \
		ftp://ftp.jp.pgpi.com/pub/pgpi/5.0/unix/ \
		ftp://ftp.kr.pgpi.com/pub/security/pgp/5.0/unix/ \
d13 2
a14 3
		ftp://ftp.es.pgpi.com/pub/pgp/5.0/unix/ \
		ftp://ftp.se.pgpi.com/pub/pgp/5.0/unix/ \
		ftp://ftp.ch.pgpi.com/pub/pgp/5.0/unix/
@


1.33
log
@remove myself as maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/08/04 14:51:31 naddy Exp $
d29 1
@


1.32
log
@fix up MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2004/02/25 13:59:07 naddy Exp $
a21 2

MAINTAINER=	Federico Schwindt <fgsch@@openbsd.org>
@


1.31
log
@remove workarounds for gcc2.95/sparc64 compiler bugs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2003/07/18 17:53:19 fgsch Exp $
d33 1
a33 1
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/config
@


1.30
log
@make this compile on sparc64; report and help by marc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2002/10/05 21:11:09 fgsch Exp $
a35 5

# XXX workaround gcc bugs on sparc64
.if ${MACHINE_ARCH:Msparc64}
PATCH_LIST= patch-* gcc-*
.endif
@


1.29
log
@byebye NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2002/04/23 06:38:48 fgsch Exp $
d36 5
@


1.28
log
@regen patches and plist, and bump need_version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/09/28 06:02:15 pvalchev Exp $
a7 1
NEED_VERSION=	1.524
@


1.27
log
@CONFIGURE_STYLE=gnu w/ proper MODGNU_CONFIG_GUESS_DIRS
needed for the powerpc -> macppc name change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/05/08 06:20:49 marc Exp $
d8 1
a8 1
NEED_VERSION=	1.406
@


1.26
log
@COMMENT= with shell meta characters MUST be in quotes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/05/05 22:56:14 fgsch Exp $
d34 1
@


1.25
log
@- Integrate COMMENT.
- bump NEED_VERSION.
- Add HOMEPAGE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/10/16 13:30:34 fgsch Exp $
d3 1
a3 1
COMMENT=	Pretty Good Privacy 5.0i (world wide use)
@


1.24
log
@add real names to MAINTAINER.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.23 2000/09/07 04:30:44 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.326
d25 2
@


1.23
log
@- now that patch-ao has been removed we can remove CONFIGURE_ENV and also
that need for autoconf has been removed. CONFIGURE_STYLE= autoconf -> gnu
- remove post-configure Makefile mangling
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/09/06 18:14:04 marc Exp $
d22 1
a22 1
MAINTAINER=	fgsch@@openbsd.org
@


1.22
log
@
Remove intl/usa flavors as one port is OK for world wide use after
6 Sep 2000 (when RSA Security Inc. placed its public key encryption
algorithm into the public domain).   Remove configure patch that
added the no-longer-needed --with-rsaref option
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/07/25 10:13:39 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.311
d29 1
a29 2
CONFIGURE_STYLE= autoconf
CONFIGURE_ENV=	LOCALBASE="${LOCALBASE}"
a34 3

post-configure:
	@@find ${WRKSRC} -name Makefile | xargs perl -pi.bak -e 's,MFLAGS,AM_MAKEFLAGS,'
@


1.21
log
@style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/07/02 06:21:18 fgsch Exp $
a28 21
FLAVORS=	usa intl

# No default flavor, error.
FLAVOR?=
.if empty(FLAVOR)
.BEGIN:
	@@echo ""
	@@echo "The variable USA_RESIDENT must be set to either Yes or No"
	@@echo "in order to build this package.  USA residents that are"
	@@echo "not licensees of the RSA algorithm MUST set this variable"
	@@echo "to Yes.  Users outside the USA MUST set this variable to"
	@@echo "No.  Licensees may choose -- No is faster."
	@@echo ""
	@@echo "RSAREF2 will be automatically obtained and used to generate"
	@@echo "this program when given the command \"make USA_RESIDENT=Yes\""
	@@echo ""
	@@echo "The new port flavor system also allows you to use "
	@@echo "FLAVOR=usa or FLAVOR=intl"
	@@false
.endif

a30 5

.if ${FLAVOR:L} == "usa"
LIB_DEPENDS=	rsaref.2::security/rsaref
CONFIGURE_ARGS=	--with-rsaref
.endif
@


1.20
log
@strip bins on install. bump need_version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/06/29 22:25:47 fgsch Exp $
d50 1
a50 1
CONFIGURE_STYLE=	autoconf
d64 1
a64 1
	@@find ${WRKSRC} -name Makefile|xargs perl -pi.bak -e 's,MFLAGS,AM_MAKEFLAGS,'
d67 2
a68 2
	strip ${PREFIX}/bin/pgp5
	strip ${PREFIX}/bin/pgpk
@


1.19
log
@remove deprecated 'if defined' statements.
bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/06/11 01:50:22 fgsch Exp $
d6 1
a6 1
NEED_VERSION=	1.308
d66 3
a68 1
pre-install:
@


1.18
log
@add CONFIGURE_STYLE and NEED_VERSION; remove FAKE=yes; add tag to PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/05/31 10:18:06 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.301
a30 9

.if defined(USA_RESIDENT)
.if ${USA_RESIDENT:L} == "yes"
FLAVOR=usa
.elif ${USA_RESIDENT:L} == "no"
FLAVOR=intl
.endif
.endif

d34 1
a34 1
pre-fetch pre-extract:
@


1.17
log
@Can't use .BEGIN yet, as this screws depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/05/27 17:23:57 espie Exp $
d6 1
a6 1
NEED_VERSION=	 1.230
a20 1
FAKE=Yes
d59 1
a59 1
USE_AUTOCONF=	Yes
@


1.16
log
@- fake (fix stupid MFLAGS mis-usage of pgp5)
- fix backward handling of USA_RESIDENT vs. FLAVOR.

Flavored ports *MUST* set FLAVOR consistently, for the magic setting
of work, pkgname to work, e.g., any old port with variables such as
USA_RESIDENT must:
* set FLAVOR depending on those old option variables,
* only depend on FLAVOR for all subsequent tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/04/22 12:12:07 turan Exp $
d44 1
a44 1
.BEGIN:
@


1.15
log
@flavor these ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/04/18 09:48:01 turan Exp $
a6 1
FAKE=No
d21 1
d32 7
a38 5
.if defined(FLAVOR)
.if ${FLAVOR} == "usa"
USA_RESIDENT=	yes
.elif ${FLAVOR} == "intl"
USA_RESIDENT=	no
d40 18
d63 1
a63 1
.if defined(USA_RESIDENT) && ${USA_RESIDENT:U} == YES
a69 16
pre-fetch:
.if !defined(NO_WARNINGS)
.if !defined(USA_RESIDENT) || ${USA_RESIDENT:U} != YES && ${USA_RESIDENT:U} != NO
	@@echo ""
	@@echo "The variable USA_RESIDENT must be set to either YES or NO"
	@@echo "in order to build this package.  USA residents that are"
	@@echo "not licensees of the RSA algorithm MUST set this variable"
	@@echo "to YES.  Users outside the USA MUST set this variable to"
	@@echo "NO.  Licensees may choose -- NO is faster."
	@@echo ""
	@@echo "RSAREF2 will be automatically obtained and used to generate"
	@@echo "this program when given the command \"make USA_RESIDENT=YES\""
	@@false
.endif
.endif

d72 3
@


1.15.2.1
log
@bring security as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/07/25 10:13:39 brad Exp $
d6 2
a7 1
NEED_VERSION=	1.311
d32 6
a37 17
# No default flavor, error.
FLAVOR?=
.if empty(FLAVOR)
.BEGIN:
	@@echo ""
	@@echo "The variable USA_RESIDENT must be set to either Yes or No"
	@@echo "in order to build this package.  USA residents that are"
	@@echo "not licensees of the RSA algorithm MUST set this variable"
	@@echo "to Yes.  Users outside the USA MUST set this variable to"
	@@echo "No.  Licensees may choose -- No is faster."
	@@echo ""
	@@echo "RSAREF2 will be automatically obtained and used to generate"
	@@echo "this program when given the command \"make USA_RESIDENT=Yes\""
	@@echo ""
	@@echo "The new port flavor system also allows you to use "
	@@echo "FLAVOR=usa or FLAVOR=intl"
	@@false
d40 1
a40 1
CONFIGURE_STYLE= autoconf
d43 1
a43 1
.if ${FLAVOR:L} == "usa"
d50 16
d69 1
a69 6
post-configure:
	@@find ${WRKSRC} -name Makefile | xargs perl -pi.bak -e 's,MFLAGS,AM_MAKEFLAGS,'

post-install:
	@@strip ${PREFIX}/bin/pgp5
	@@strip ${PREFIX}/bin/pgpk
@


1.14
log
@license
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/04/09 17:38:07 espie Exp $
d29 10
@


1.13
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/03/24 23:28:33 espie Exp $
d23 1
a23 2
NO_CDROM=	"CRYPTO: Third party crypto not allowed."
RESTRICTED=	"Crypto; export-controlled"
d25 4
a28 1
MAINTAINER=	fgsch@@openbsd.org
@


1.12
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/03/05 18:30:42 espie Exp $
d7 1
@


1.11
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/02/11 00:37:37 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.223
d31 1
a31 1
LIB_DEPENDS=	rsaref.2:security/rsaref
@


1.10
log
@Use WRKDIST where appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/12/24 06:22:13 brad Exp $
d6 1
a20 1
NEED_VERSION=	1.191
d27 1
a27 1
USE_AUTOCONF=	yes
d31 1
a31 1
LIB_DEPENDS=	rsaref.2:${PORTSDIR}/security/rsaref
@


1.9
log
@- remove now unnecessary pre-configure target
- after looking at patch-ao again it was quite clear that the previous
revision broke internal RSA support, fix patch and make one slight
improvement to it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/12/21 18:52:57 fgsch Exp $
d20 1
d35 1
a35 1
WRKSRC=	${WRKDIR}/pgp50i/src
@


1.8
log
@Use ${INSTALL_DATA_DIR} instead of mkdir.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/12/13 05:59:13 brad Exp $
a53 6

pre-configure:
.if defined(USA_RESIDENT) && ${USA_RESIDENT:U} == YES
	@@mv ${WRKSRC}/lib/pgp/pubkey/pgpRSAGlue1.c \
		${WRKSRC}/lib/pgp/pubkey/pgpRSAGlue1.c-
.endif
@


1.7
log
@almost forgot this, add missing LIB_DEPENDS for dependency on librsaref
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/12/13 05:56:17 brad Exp $
d62 1
a62 1
	@@mkdir -p ${PREFIX}/lib/pgp5
@


1.6
log
@- remove NO_PACKAGE and NEED_VERSION tags
- improve patch-ao by also adding an option --with-rsaref so that the use
of RSAREF has to be enabled instead of enabling it based on the existance
of librsaref. Thus would allow someone to be able to build a version of
PGP on a system that has librsaref installed already. Quite useful in the
situation of doing automated package building.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/12/12 22:26:59 dugsong Exp $
d30 1
@


1.5
log
@use rsaref port
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/12/09 03:50:57 brad Exp $
a23 2
NEED_VERSION=	1.121

d27 5
a32 1
NO_PACKAGE=	yes
d54 1
d56 2
a57 3
pre-configure:
	@@${MV} ${WRKSRC}/lib/pgp/pubkey/pgpRSAGlue1.c \
	       ${WRKSRC}/lib/pgp/pubkey/pgpRSAGlue1.c-
@


1.4
log
@- add patch for RSAREF buffer overflow
- remove deprecated variables
- cleanup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/11/24 03:33:55 brad Exp $
a19 3
MASTER_SITES0=	http://the.wiretapped.net/security/cryptography/libs/rsa/ \
		ftp://idea.dsi.unimi.it/pub/security/crypt/math/ \
		ftp://ftp.it.net.au/mirrors/crypto/misc/
d28 1
a28 5
.if defined(USA_RESIDENT) && ${USA_RESIDENT:U} == YES
DISTFILES=	${DISTNAME}${EXTRACT_SUFX} rsaref2.tar.gz:0
.endif

GNU_CONFIGURE=	yes
a48 7
pre-patch:
.if defined(USA_RESIDENT) && ${USA_RESIDENT:U} == YES
	@@cp ${FILESDIR}/patch-rsaref2 ${PATCHDIR}
	@@cp ${FILESDIR}/patch-rsaref2-2 ${PATCHDIR}
	@@ln -fs ${WRKDIR}/rsaref2 ${WRKDIR}/pgp50i/rsaref
.endif

d51 1
a52 4
	@@rm -f ${PATCHDIR}/patch-rsaref2
	@@rm -f ${PATCHDIR}/patch-rsaref2-2
.endif

d54 1
a54 4
.if defined(USA_RESIDENT) && ${USA_RESIDENT:U} == YES
	@@(cd ${WRKDIR}/rsaref2/install/unix && \
	  env ${MAKE_ENV} make -f makefile rsaref.a)
	@@mv ${WRKSRC}/lib/pgp/pubkey/pgpRSAGlue1.c \
@


1.3
log
@- make use of multiple master sites
- replace master sites with good ones for RSAREF
- make use of :U variable modifier
- cleanup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/02/05 07:14:21 fgsch Exp $
a19 1

a25 1
MIRROR_DISTFILE=no
d31 1
a31 1
.if defined(NO_WARNINGS) || (defined(USA_RESIDENT) && ${USA_RESIDENT:U} == YES)
d38 1
a38 1
WRKSRC=		${WRKDIR}/pgp50i/src
d43 10
a52 10
	@@${ECHO} ""
	@@${ECHO} The variable USA_RESIDENT must be set to either YES or NO
	@@${ECHO} in order to build this package.  USA residents that are
	@@${ECHO} not licensees of the RSA algorithm MUST set this variable
	@@${ECHO} to YES.  Users outside the USA MUST set this variable to
	@@${ECHO} NO.  Licensees may choose -- NO is faster.
	@@${ECHO} ""
	@@${ECHO} RSAREF2 will be automatically obtained and used to generate
	@@${ECHO} this program when given the command \"make USA_RESIDENT=YES\"
	@@${FALSE}
d58 3
a60 3
	@@${MKDIR} ${PATCHDIR}
	@@${CP} ${FILESDIR}/patch-rsaref2 ${PATCHDIR}
	@@${LN} -sf ${WRKDIR}/rsaref2 ${WRKDIR}/pgp50i/rsaref
d64 1
a64 1
	@@${MV} ${WRKSRC}/man/pgp.1 ${WRKSRC}/man/pgp5.1
d66 2
a67 1
	@@${RM} ${PATCHDIR}/patch-rsaref2
d70 1
a71 1
pre-configure:
d73 2
a74 2
	  ${SETENV} ${MAKE_ENV} ${MAKE} -f makefile rsaref.a)
	@@${MV} ${WRKSRC}/lib/pgp/pubkey/pgpRSAGlue1.c \
d79 2
a80 2
	@@${MKDIR} ${PREFIX}/lib/pgp5
	@@${INSTALL_DATA} ${WRKSRC}/language50.txt ${PREFIX}/lib/pgp5
@


1.2
log
@Fix minor problems. Display MESSAGE when the package is installed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/02/05 05:05:19 fgsch Exp $
a5 7

NO_CDROM=	"CRYPTO: Third party crypto not allowed."
RESTRICTED=	"Crypto; export-controlled"
MIRROR_DISTFILE=no

MAINTAINER=	fgsch@@openbsd.org

d21 14
a34 9
# Need to add rsaref for US residents
#
.if defined(NO_WARNINGS) || (defined(USA_RESIDENT) && ${USA_RESIDENT} == YES)
MASTER_SITES+=	\
	ftp://nic.funet.fi/pub/crypt/mirrors/ftp.dsi.unimi.it/applied-crypto/ \
	ftp://idea.dsi.unimi.it/pub/security/crypt/math/
DISTFILES=	\
	${DISTNAME}${EXTRACT_SUFX} \
	rsaref2.tar.gz
a39 1

d42 1
d44 1
a44 2
pre-fetch:
.if !defined(USA_RESIDENT) || ${USA_RESIDENT} != YES && ${USA_RESIDENT} != NO
a57 2
# RSAREF2 doesn't work as is when sizeof( long) != 4 -- fix it
#
d59 1
a59 1
.if defined(USA_RESIDENT) && ${USA_RESIDENT} == YES
d67 1
a67 1
.if defined(USA_RESIDENT) && ${USA_RESIDENT} == YES
d71 1
a71 4
.if defined(USA_RESIDENT) && ${USA_RESIDENT} == YES
# Force RSAREF to be used by making sure that rsaref.a exists and
# that configure does not find lib/pgp/pubkey/pgpRSAGlue1.c.
#
d80 1
a80 1
	-${MKDIR} ${PREFIX}/lib/pgp5
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d89 1
a89 1
	@@${INSTALL_DATA} ${WRKSRC}/language50.txt ${PREFIX}/lib/pgp
@


1.1.1.1
log
@pgp 5.0i. work by marc and myself.
@
text
@@
