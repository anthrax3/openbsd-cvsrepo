head	1.6;
access;
symbols
	OPENBSD_6_1:1.6.0.8
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.6.0.6
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.6
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.4
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.2
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	mcbride_2012-06-09:1.1.1.1
	mcbride:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2015.05.09.12.15.29;	author czarkoff;	state Exp;
branches;
next	1.5;
commitid	k0yZ0X5FpvuPC5m7;

1.5
date	2013.11.09.18.22.02;	author zhuk;	state Exp;
branches;
next	1.4;

1.4
date	2013.08.07.21.58.00;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.11.11.41.27;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2012.06.09.13.03.40;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2012.06.09.12.31.55;	author mcbride;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.06.09.12.31.55;	author mcbride;	state Exp;
branches;
next	;


desc
@@


1.6
log
@update to password-gorilla 1.5.3.7

While at it, fix "help" menu item, remove no Windows and OSX binaries from
package and make fake stage more consistent with other ports of software in Tcl.

OK sthen@@
@
text
@# $OpenBSD: Makefile,v 1.5 2013/11/09 18:22:02 zhuk Exp $

COMMENT =	cross-platform password manager

V =		1.5.3.7
GH_ACCOUNT =	zdia
GH_PROJECT =	gorilla
GH_TAGNAME =	v${V}
DISTNAME =	password-gorilla-${V}
CATEGORIES =	security

HOMEPAGE =	http://wiki.github.com/zdia/gorilla/

# GPLv2
PERMIT_PACKAGE_CDROM =  Yes

USE_X11 =	Yes
MODULES =	x11/tk

RUN_DEPENDS =	devel/itcl \
		devel/tcllib \
		devel/tklib \
		${MODTK_RUN_DEPENDS}

NO_BUILD =	Yes
NO_TEST =	Yes
PKG_ARCH =	*

WRKSRC =	${WRKDIST}/sources

GORILLASTUFF =	blowfish gorilla.tcl help.txt isaac.tcl modules msgs pics \
		pwsafe twofish viewhelp.tcl

post-extract:
	rm ${WRKSRC}/twofish/f32-Darwin-x86.dylib \
	   ${WRKSRC}/twofish/f32-Linux-x86.so \
	   ${WRKSRC}/twofish/f32-Linux-x86_64.so \
           ${WRKSRC}/twofish/f32-Windows-x86.dll

do-install:
	${MODTCL_WISH_ADJ} ${WRKSRC}/gorilla.tcl
	${SUBST_CMD} ${WRKSRC}/gorilla.tcl
	${INSTALL_DATA_DIR} ${PREFIX}/lib/password-gorilla/
	cp -R ${GORILLASTUFF:%=${WRKSRC}/%} ${PREFIX}/lib/password-gorilla/
	${SUBST_PROGRAM} ${FILESDIR}/gorilla ${PREFIX}/bin/gorilla

.include <bsd.port.mk>
@


1.5
log
@Fix MODTCL_TCLSH_ADJ and MODTCL_WISH_ADJ.

Review, input, okay and prodding to commit by stu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/08/07 21:58:00 naddy Exp $
d5 5
a9 4
V =		1.5.3.6.3
REVISION =	1
DISTNAME =	zdia-gorilla-v${V}-0-gfc80d95
PKGNAME =	password-gorilla-${V}
a16 3
MASTER_SITES = https://github.com/zdia/gorilla/tarball/v${V}/ \
		http://spacehopper.org/mirrors/

d29 4
a32 1
WRKDIST =	${WRKDIR}/zdia-gorilla-fc80d95/sources
d34 5
a38 3
GORILLALIB =	${PREFIX}/lib/password-gorilla
GORILLASTUFF =	blowfish isaac.tcl viewhelp.tcl pwsafe \
			msgs pics pwsafe sha1 twofish modules
d41 5
a45 6
	${MODTCL_WISH_ADJ} ${WRKDIST}/gorilla.tcl
	${SUBST_CMD} ${WRKDIST}/gorilla.tcl
	${INSTALL_PROGRAM_DIR} ${GORILLALIB}
	@@cd ${WRKDIST}; \
		tar -cf - ${GORILLASTUFF} | tar -xf - -C ${GORILLALIB}
	${INSTALL_SCRIPT} ${WRKDIST}/gorilla.tcl ${PREFIX}/bin/gorilla
@


1.4
log
@move http://github.com and http://bitbucket.org to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 11:41:27 espie Exp $
d6 1
a6 1
REVISION =	0
@


1.3
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/06/09 13:03:40 sthen Exp $
d16 1
a16 1
MASTER_SITES = http://github.com/zdia/gorilla/tarball/v${V}/ \
@


1.2
log
@subst /usr/local for ${TRUEPREFIX}, reminded by ajacoutot, ok aja mcbride
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/06/09 12:31:55 mcbride Exp $
a14 3
PERMIT_PACKAGE_FTP =    Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =  Yes
d28 1
a28 1
NO_REGRESS =	Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d42 1
@


1.1.1.1
log
@cross-platform password manager (supports databases in Password Safe format)

ok and fixes from sthen@@
@
text
@@
