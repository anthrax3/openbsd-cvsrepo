head	1.2;
access;
symbols
	OPENBSD_5_6:1.2.0.4
	OPENBSD_5_7:1.2.0.2
	OPENBSD_4_6:1.1.1.1.0.6
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.4
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.2
	OPENBSD_4_4_BASE:1.1.1.1
	bluhm_20080719:1.1.1.1
	bluhm:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2009.08.25.20.23.45;	author bluhm;	state dead;
branches
	1.2.2.1
	1.2.4.1;
next	1.1;

1.1
date	2008.07.19.12.12.53;	author bluhm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.07.19.12.12.53;	author bluhm;	state Exp;
branches;
next	;

1.2.2.1
date	2015.04.15.14.21.10;	author jasper;	state Exp;
branches;
next	;
commitid	NgIwY21xy2uc4PJF;

1.2.4.1
date	2015.04.15.14.25.05;	author jasper;	state Exp;
branches;
next	;
commitid	Az6lV6AOf0HkCn6e;


desc
@@


1.2
log
@Set GNUPGHOME during port build to avoid additional patch.
Enable regression test that checks the signature with gpg.
ok sturm
@
text
@$OpenBSD: patch-Makefile_PL,v 1.1 2008/07/19 12:12:53 bluhm Exp $
--- Makefile.PL.orig	Sun Jul 30 03:11:14 2006
+++ Makefile.PL	Thu Jul 17 23:40:31 2008
@@@@ -58,23 +58,8 @@@@ my @@OPEN_PGP = qw{
      Crypt::OpenPGP           1.00
 };
 
-# Is openpgp currently installed
-if ( can_use('Crypt::OpenPGP') ) {
-	# If OpenPGP is already installed, so relist all the
-	# dependencies so they will upgrade as needed.
-	requires( @@OPEN_PGP );
-
-} elsif ( locate_gpg() ) {
-	# We SHOULD have gpg, double-check formally
-	requires_external_bin 'gpg';
-
-} elsif ( can_cc() and $ENV{AUTOMATED_TESTING} ) {
-	# Dive headlong into a full Crypt::OpenPGP install.
-	requires( @@OPEN_PGP );
-} else {
-	# Ask the user what to do
-	ask_user();
-}
+# We SHOULD have gpg, double-check formally
+requires_external_bin 'gpg';
 
 unless ( can_run('diff') ) {
 	# We know Text::Diff fails on Cygwin (for now)
@


1.2.4.1
log
@security fixes for the issues mentioned in http://seclists.org/oss-sec/2015/q2/59

ok bluhm@@ (MAINTAINER)
@
text
@d1 6
a6 13
$OpenBSD: patch-Makefile_PL,v 1.2.2.1 2015/04/15 14:21:10 jasper Exp $

Security fix for multiple vulnerabilities
http://www.openwall.com/lists/oss-security/2015/04/07/1
https://github.com/audreyt/module-signature/commit/8a9164596fa5952d4fbcde5aa1c7d1c7bc85372f

--- Makefile.PL.orig	Fri Nov  2 16:10:16 2012
+++ Makefile.PL	Mon Apr 13 14:13:05 2015
@@@@ -10,6 +10,7 @@@@ readme_from     'lib/Module/Signature.pm';
 repository      'http://github.com/audreyt/module-signature';
 install_script  'script/cpansign';
 build_requires  'Test::More', 0, 'IPC::Run', 0;
+requires        'File::Temp';
d8 22
a29 2
 # On Win32 (excluding cygwin) we know that IO::Socket::INET,
 # which is needed for keyserver stuff, doesn't work. In fact
@


1.2.2.1
log
@security fixes for the issues mentioned in http://seclists.org/oss-sec/2015/q2/59

ok bluhm@@ (MAINTAINER)
@
text
@d1 6
a6 13
$OpenBSD$

Security fix for multiple vulnerabilities
http://www.openwall.com/lists/oss-security/2015/04/07/1
https://github.com/audreyt/module-signature/commit/8a9164596fa5952d4fbcde5aa1c7d1c7bc85372f

--- Makefile.PL.orig	Fri Nov  2 16:10:16 2012
+++ Makefile.PL	Mon Apr 13 14:13:05 2015
@@@@ -10,6 +10,7 @@@@ readme_from     'lib/Module/Signature.pm';
 repository      'http://github.com/audreyt/module-signature';
 install_script  'script/cpansign';
 build_requires  'Test::More', 0, 'IPC::Run', 0;
+requires        'File::Temp';
d8 22
a29 2
 # On Win32 (excluding cygwin) we know that IO::Socket::INET,
 # which is needed for keyserver stuff, doesn't work. In fact
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Module::Signature adds cryptographic authentications to CPAN
distributions, via the special SIGNATURE file.
@
text
@@
