head	1.7;
access;
symbols
	OPENBSD_2_7:1.5.0.2
	OPENBSD_2_7_BASE:1.5
	marc_2000-Mar-31:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2000.09.06.20.23.30;	author marc;	state dead;
branches;
next	1.6;

1.6
date	2000.06.01.04.20.00;	author marc;	state Exp;
branches;
next	1.5;

1.5
date	2000.04.19.17.16.17;	author marc;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2000.04.12.04.16.43;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.08.23.14.13;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.06.00.40.22;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	2000.03.31.22.19.54;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.03.31.22.19.54;	author marc;	state Exp;
branches;
next	;

1.5.2.1
date	2000.09.15.05.15.34;	author marc;	state Exp;
branches;
next	;


desc
@@


1.7
log
@bye-bye
@
text
@# $OpenBSD: Makefile,v 1.6 2000/06/01 04:20:00 marc Exp $

DISTNAME=		sslUSA-2.7b
PKGNAME=		ssl-2.7-USA
CATEGORIES=     	security

MAINTAINER=		marc@@openbsd.org

PERMIT_PACKAGE_CDROM=	Only valid in USA
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Patent issues
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=		ftp://ftp.snafu.org/pub/
DISTFILES=		${DISTNAME}${EXTRACT_SUFX}

MASTER_SITES0=		ftp://ftp.zedz.net/pub/crypto/libraries/rsa/ \
		http://the.wiretapped.net/security/cryptography/libs/rsa/
DISTFILES+=		rsaref20.1996.tar.Z:0

WRKDIST=		${WRKDIR}/sslUSA

MAKE_ENV=		PORTSDIR=${PORTSDIR}

FAKE=			Yes

pre-build:
.if !exists(/usr/src/lib/libssl/Makefile.bsd-wrapper)
	@@echo ""
	@@echo "+--------------------"
	@@echo "| You must have the system source files installed to"
	@@echo "| create ${PKGNAME}.   You may want to install the"
	@@echo "| pre-compiled package.  See ssl(8) for details."
	@@echo "+--------------------"
	@@echo ""
	@@false
.endif

.include <bsd.port.mk>
@


1.6
log
@update location of RSAREF per message from usura@@zedz.net (Alex de Joode)
to ports@@openbsd.org
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/04/19 17:16:17 marc Exp $
@


1.5
log
@
Per Chris Turan's request: extract rsaref into a local directory
and apply local patch instead of using the rsaref port directory.
Fixes problems trying to make both ports concurrently, among other
things.

This is a bookkeeping change only.. there is no change in the
generated libraries.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/04/12 04:16:43 marc Exp $
d7 1
a7 1
MAINTAINER=		ports@@openbsd.org
d17 2
a18 3
MASTER_SITES0=		ftp://ftp.zedz.net/pub/crypto/crypto/LIBS/rsa/ \
		http://the.wiretapped.net/security/cryptography/libs/rsa/ \
		ftp://utopia.hacktic.nl/pub/replay/pub/crypto/LIBS/rsa/
@


1.5.2.1
log
@bring security as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/06/01 04:20:00 marc Exp $
d7 1
a7 1
MAINTAINER=		marc@@openbsd.org
d17 3
a19 2
MASTER_SITES0=		ftp://ftp.zedz.net/pub/crypto/libraries/rsa/ \
		http://the.wiretapped.net/security/cryptography/libs/rsa/
@


1.4
log
@
Fix a frustrating commedy of errors found by fries@@ and others
libssl/Makefile.bsd-wrapper did the wrong thing with make clean
if run before make prereq.   bsd.port.mk doesn't clean up the obj
dir of the sslusa port when symlinked somewhere else.   These two
bugs caused no end of grief to everyone but me.   This is a workaround
for some of those bugs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/04/08 23:14:13 marc Exp $
d3 1
a3 1
DISTNAME=		sslUSA-2.7a
d12 1
a12 1
PERMIT_DISTFILES_FTP=	Patent issues
d15 7
a38 6

# Clean up the rsaref sources, too.
#
pre-clean:
	@@cd ${PORTSDIR}/security/rsaref && \
	 OBJMACHINE= WRKOBJDIR= unset OBJMACHINE WRKOBJDIR && make clean
@


1.3
log
@
Bump version to 2.7
make sure any old objects are deleted before building so we don't
create libs using the old (non-rsa) configuration
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/04/06 00:40:22 marc Exp $
d3 1
a3 1
DISTNAME=		sslUSA-2.7
@


1.2
log
@
build package/install in proper dir (/usr/local/lib, not /usr/local
work in the presence of OBJMACHINE= and WRKOBJDIR=
bump distribution version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/03/31 22:19:54 marc Exp $
d3 2
a4 2
DISTNAME=		sslUSA-2.6a
PKGNAME=		ssl-2.6-USA
d33 1
a33 3
# Note: if the obj dir (which points somewhere in /usr/obj/...) is not
# cleaned up it can/will cause problems the next time a make build is done
# in /usr/src
a35 1
	@@rm -rf ${WRKSRC}/libssl/${OBJDIR}/*
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.21 2000/03/05 17:02:14 espie Exp $
d3 1
a3 1
DISTNAME=		sslUSA-2.6
d38 3
a40 2
	@@rm -rf ${WRKSRC}/libssl/obj/*
	@@cd ${PORTSDIR}/security/rsaref && make clean
@


1.1.1.1
log
@USA (RSAREF) version of libssl
@
text
@@
