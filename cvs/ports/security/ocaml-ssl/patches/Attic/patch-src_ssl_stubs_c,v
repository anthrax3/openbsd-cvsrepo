head	1.5;
access;
symbols
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2016.04.27.00.13.51;	author jca;	state dead;
branches;
next	1.4;
commitid	7p9355vWocCGPsqa;

1.4
date	2016.04.27.00.10.02;	author jca;	state Exp;
branches;
next	1.3;
commitid	N1O2BsCnyYSnl6ok;

1.3
date	2015.10.09.00.28.24;	author jca;	state Exp;
branches;
next	1.2;
commitid	mAnacumlSyeawLf8;

1.2
date	2015.08.28.11.44.08;	author jca;	state Exp;
branches;
next	1.1;
commitid	B20rHDl18bEE2mZa;

1.1
date	2015.07.18.18.31.23;	author jca;	state Exp;
branches;
next	;
commitid	3m6X9uBKMTErpP5j;


desc
@@


1.5
log
@gc empty patch
@
text
@@


1.4
log
@Shuffle order, move WANTLIB following Makefile.template
@
text
@@


1.3
log
@Update to ocaml-ssl-0.5.1

Tweak the SSLv3 patch so that a generic error is produced when SSLv3 is
unavailable, instead of asking the user to report a bug upstream.
@
text
@a0 24
$OpenBSD: patch-src_ssl_stubs_c,v 1.2 2015/08/28 11:44:08 jca Exp $

Fixed in

  https://github.com/savonet/ocaml-ssl/commit/8f698ba93028f0b399f75079d4369f44db82182c

--- src/ssl_stubs.c.orig	Wed May 27 09:56:10 2015
+++ src/ssl_stubs.c	Tue Oct  6 19:12:01 2015
@@@@ -290,6 +290,7 @@@@ static const SSL_METHOD *get_method(int protocol, int 
       break;
 
     case 1:
+#ifndef OPENSSL_NO_SSL3
       switch (type)
       {
         case 0:
@@@@ -304,6 +305,7 @@@@ static const SSL_METHOD *get_method(int protocol, int 
           method = SSLv3_method();
           break;
       }
+#endif
       break;
 
     case 2:
@


1.2
log
@SSLv3 patch pushed upstream.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_ssl_stubs_c,v 1.1 2015/07/18 18:31:23 jca Exp $
d7 3
a9 4
--- src/ssl_stubs.c.orig	Sun Oct 16 12:57:56 2011
+++ src/ssl_stubs.c	Sat Jul 18 12:28:06 2015
@@@@ -269,6 +269,7 @@@@ static const SSL_METHOD *get_method(int protocol, int 
       }
d12 1
a13 1
     case 1:
d16 3
a18 1
@@@@ -285,6 +286,7 @@@@ static const SSL_METHOD *get_method(int protocol, int 
d21 1
a22 1
+#endif
a24 1
       switch (type)
@


1.1
log
@guard sslv3 methods
@
text
@d1 6
a6 1
$OpenBSD$
@

