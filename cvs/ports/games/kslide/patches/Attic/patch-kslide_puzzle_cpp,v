head	1.2;
access;
symbols
	OPENBSD_5_9:1.1.0.8
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.10
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.6
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2016.04.29.21.10.21;	author zhuk;	state dead;
branches;
next	1.1;
commitid	u9TvebbKy1wgQMr9;

1.1
date	2013.12.19.12.46.16;	author zhuk;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Remove KDE3 applications that have well-working KDE4+ counterparts.
@
text
@$OpenBSD: patch-kslide_puzzle_cpp,v 1.1 2013/12/19 12:46:16 zhuk Exp $
1. Avoid crash at start.
2. Fix type mismatch.
--- kslide/puzzle.cpp.orig	Fri Sep 15 20:02:11 2006
+++ kslide/puzzle.cpp	Thu Dec 19 15:57:48 2013
@@@@ -322,7 +322,7 @@@@ void KSlidePuzzle::mouseMoveEvent(QMouseEvent *event)
 {
   if (event)  // event is 0 if called manually
     puz.prevMousePos = event->pos();
-  if (isComplete() || isGivingHint() || !isIdle())
+  if (isComplete() || isGivingHint() || !isIdle() || puz.size == 0)
     return;
   unsigned char c = cuNormal;
   int x, y;
@@@@ -769,7 +769,7 @@@@ void KSlidePuzzle::slotSaveGame(){
 			fprintf(stream, "%i %i ",puz.pos[i], puz.movesTo[i]);		
 		}
     }
-    fprintf(stream, "%i ",tilelist.count());
+    fprintf(stream, "%zi ", (size_t)tilelist.count());
     for(i=0;i<tilelist.count();i++) {
     	QPoint p=*tilelist.at(i);
     	fprintf(stream, "%i %i", p.x(), p.y());
@


1.1
log
@Update KSlide to latest version, 1.0.1. Previous version did not work
anyway (at least on i386). MAINTAINER timeout => removing him.

Minor tweaks to port's Makefile while there: WANTLIB, license etc.

"go ahead" espie@@
@
text
@d1 1
a1 1
$OpenBSD$
@

