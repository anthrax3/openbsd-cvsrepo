head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.40
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.38
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.36
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.32
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.34
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.30
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.28
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.26
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.24
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.22
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.20
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.18
	OPENBSD_5_0:1.2.0.16
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.14
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.12
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.10
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.8
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.6
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2007.10.27.15.24.30;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2007.10.14.13.25.01;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@
Update to 1.1.3.

Help and ok, ajacoutot@@.
@
text
@$OpenBSD$
--- snowball.cc.orig	Thu Jul 19 16:26:35 2007
+++ snowball.cc	Sat Oct 13 22:00:52 2007
@@@@ -24,10 +24,10 @@@@
 static int an;
 static long subKind;
 static long ve;
-static long time;
+static long my_time;
 
 void snb_init(void) {
-  time = -1;
+  my_time = -1;
 }
 
 /* move the snowball and check if it hits something */
@@@@ -40,19 +40,19 @@@@ void snb_movesnowball(void) {
 
   int nr;
 
-  if (time < 0) return;
+  if (my_time < 0) return;
 
-  if (time == 12) {
-    time = -1;
+  if (my_time == 12) {
+    my_time = -1;
     return;
   }
 
-  time++;
+  my_time++;
   an = (an + subKind * 2) & 0x7f;
-  ve += schusshoch[time - 1];
+  ve += schusshoch[my_time - 1];
 
   if (!lev_testfigure(an, ve, -1, 0, 2, 2, 5)) {
-    time = -1;
+    my_time = -1;
     return;
   }
 
@@@@ -63,11 +63,11 @@@@ void snb_movesnowball(void) {
   else {
     ttsounds::instance()->startsound(SND_HIT);
     pts_add(rob_gothit(nr));
-    time = -1;
+    my_time = -1;
   }
 }
 
-bool snb_exists(void) { return time != -1; }
+bool snb_exists(void) { return my_time != -1; }
 
 void snb_start(int verticalpos, int anglepos, bool look_left) {
 
@@@@ -80,7 +80,7 @@@@ void snb_start(int verticalpos, int anglepos, bool loo
     subKind = 1;
   }
   an &= 0x7f;
-  time = 0;
+  my_time = 0;
 }
 
 int snb_verticalpos(void) { return ve; }
@


1.1
log
@fix build (after sdl update?)
rename variable time, which conflicts with time.h

no PKGNAME bump needed
@
text
@d2 3
a4 3
--- snowball.cc.orig	Sun Oct 14 06:24:00 2007
+++ snowball.cc	Sun Oct 14 06:25:14 2007
@@@@ -6,10 +6,10 @@@@
d17 1
a17 1
@@@@ -22,19 +22,19 @@@@ void snb_movesnowball(void) {
d43 1
a43 1
@@@@ -45,11 +45,11 @@@@ void snb_movesnowball(void) {
d45 1
a45 1
     snd_hit();
d57 1
a57 1
@@@@ -62,7 +62,7 @@@@ void snb_start(int verticalpos, int anglepos, bool loo
@

