head	1.8;
access;
symbols
	OPENBSD_6_1:1.8.0.26
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.24
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.20
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.22
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.18
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.8.0.16
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.8.0.14
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.8.0.12
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.8.0.10
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.8.0.8
	OPENBSD_5_2_BASE:1.8
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.6
	OPENBSD_5_0:1.8.0.4
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.6.0.4
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.6.0.2
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.5.0.8
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.6
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.4
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.4.0.16
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.14
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.12
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.10
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.8
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.6
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.4
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.2.0.12
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.10
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.8
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.6
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.4
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.1.0.4
	OPENBSD_2_8_BASE:1.1
	OPENBSD_2_7:1.1.0.2
	OPENBSD_2_7_BASE:1.1;
locks; strict;
comment	@# @;


1.8
date	2010.08.25.18.04.37;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2010.08.23.16.26.21;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2010.01.04.11.21.21;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2007.12.07.10.25.46;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2004.03.06.02.41.00;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2004.03.05.22.56.42;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.03.08.12.34.15;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2000.03.24.23.45.11;	author turan;	state Exp;
branches;
next	;


desc
@@


1.8
log
@- fix build on hppa
@
text
@$OpenBSD: patch-Imakefile,v 1.7 2010/08/23 16:26:21 jasper Exp $
--- Imakefile.orig	Fri Nov 22 02:28:46 1996
+++ Imakefile	Wed Aug 25 20:02:50 2010
@@@@ -24,23 +24,23 @@@@ XCOMM ================================================
 XCOMM This is the directory where the highscore, level & sound data will be 
 XCOMM placed. Default will be the current directory.
 
-    XBOING_DIR = .
+    XBOING_DIR = ${PREFIX}/share/xboing
 
 XCOMM These are some defines that must be set. Some may be overwritten in the
 XCOMM machine arch section.
 
-    XPMLIB 				= -L/usr/X11/lib -lXpm
-    XPMINCLUDE 			= -I/usr/X11/include/X11
+    XPMLIB 				= -lXpm
+    XPMINCLUDE 			= -I${X11BASE}/include/X11
     XBOINGINCLUDE 		= -I./include
     LEVEL_INSTALL_DIR 	= $(XBOING_DIR)/levels
     SOUNDS_DIR 			= $(XBOING_DIR)/sounds
     BACKUP_DIR 			= $(XBOING_DIR)/../backups
-    HIGH_SCORE_FILE 	= $(XBOING_DIR)/.xboing.scr
-    AUDIO_AVAILABLE 	= False
-    AUDIO_SRC 			= audio/NOaudio.c
+    HIGH_SCORE_DIR	= /var/games
+    HIGH_SCORE_FILE 	= $(HIGH_SCORE_DIR)/xboing.score
+    AUDIO_AVAILABLE 	= True
+    AUDIO_SRC 			= audio/LINUXaudio.c
     AUDIO_INCLUDE 		=
-    AUDIO_LIB 			=
-	CDEBUGFLAGS         = -g
+    AUDIO_LIB 			= -lsndio
 
 XCOMM Uncomment this if you want to use ANY of the AUDIO sound systems
 #define COMPILE_IN_AUDIO    
@@@@ -53,7 +53,7 @@@@ XCOMM #define USE_NETAUDIO
 
 XCOMM Below are the special defines for different machine archs.
 
-#if defined(HPArchitecture) && defined(COMPILE_IN_AUDIO) 
+#if defined(HPArchitecture) && defined(COMPILE_IN_AUDIO) && !defined(OpenBSDArchitecture)
     AUDIO_AVAILABLE = True
     AUDIO_SRC 		= audio/HPaudio.c
     AUDIO_INCLUDE 	=
@@@@ -74,14 +74,14 @@@@ XCOMM Below are the special defines for different mach
     AUDIO_LIB           =
 #endif /* svr4 */  
 
-#if defined(SGIArchitecture) && defined(COMPILE_IN_AUDIO)
+#if defined(SGIArchitecture) && defined(COMPILE_IN_AUDIO) && !defined(OpenBSDArchitecture)
     AUDIO_AVAILABLE = True
     AUDIO_SRC 		= audio/SGIaudio.c
     AUDIO_INCLUDE 	=
     AUDIO_LIB 		= -laudio
 #endif /* SGIArchitecture */
 
-#if defined(SparcArchitecture) && defined(COMPILE_IN_AUDIO)
+#if defined(SparcArchitecture) && defined(COMPILE_IN_AUDIO) && !defined(OpenBSDArchitecture)
     AUDIO_AVAILABLE	= True
     AUDIO_SRC 		= audio/SUNaudio.c
 
@@@@ -132,8 +132,8 @@@@ XCOMM hasn't a usleep() function.
         -DLEVEL_INSTALL_DIR=\"$(LEVEL_INSTALL_DIR)\" \
         -DAUDIO_AVAILABLE=\"$(AUDIO_AVAILABLE)\" \
         -DSOUNDS_DIR=\"$(SOUNDS_DIR)\" \
-        -DREADMEP_FILE=\"$(XBOING_DIR)/docs/problems.doc\"
-XCOMM   -DUSE_FLOCK=\"True\" \
+        -DREADMEP_FILE=\"$(XBOING_DIR)/problems.doc\" \
+        -DUSE_FLOCK=\"True\"
 XCOMM   -DNEED_USLEEP=\"True\" \
 XCOMM   -DNO_LOCKING=\"True\" 
 
@@@@ -203,9 +203,6 @@@@ install:: $(PROGRAMS)
 		done;							\
 	 fi
 	@@:
-	@@echo "Creating a highscore file " $(HIGH_SCORE_FILE)
-	@@touch $(HIGH_SCORE_FILE);
-	@@chmod a+rw $(HIGH_SCORE_FILE);
 
 XCOMM I use this for my daily backup of my code.
 
@


1.7
log
@- fix build on mips64
- switch to REVISION (w/o actually bumping it as the package doesn't change for !mips64)
@
text
@d1 1
a1 1
$OpenBSD: patch-Imakefile,v 1.6 2010/01/04 11:21:21 sthen Exp $
d3 1
a3 1
+++ Imakefile	Mon Aug 23 17:48:59 2010
d36 9
@


1.6
log
@- convert to use sndio, from jakemsr@@

- use default colour maps by default, allowing this to work with
24-bit displays. use -no-usedefcmap to revert to previous behaviour.
@
text
@d1 3
a3 3
$OpenBSD: patch-Imakefile,v 1.5 2007/12/07 10:25:46 ajacoutot Exp $
--- Imakefile.orig	Thu Nov 21 17:28:46 1996
+++ Imakefile	Sat Jan  2 23:47:56 2010
d36 9
a44 1
@@@@ -81,7 +81,7 @@@@ XCOMM Below are the special defines for different mach
@


1.5
log
@- add HOMEPAGE
- add small notice in DESCR stating display must be in 8-bit color mode
- regen patches while here
@
text
@d1 3
a3 3
$OpenBSD: patch-Imakefile,v 1.4 2004/03/06 02:41:00 naddy Exp $
--- Imakefile.orig	Fri Nov 22 02:28:46 1996
+++ Imakefile	Fri Dec  7 09:53:24 2007
d32 1
a32 1
+    AUDIO_LIB 			= -lossaudio
@


1.4
log
@* Prevent environment variables from overflowing buffers.
  Adapted from Debian via Robert Nagy <thuglife@@bsd.hu>.
* Fix high score file handling.
@
text
@d1 4
a4 4
$OpenBSD: patch-Imakefile,v 1.3 2004/03/05 22:56:42 naddy Exp $
--- Imakefile.orig	1996-11-22 02:28:46.000000000 +0100
+++ Imakefile	2004-03-06 02:34:53.000000000 +0100
@@@@ -24,23 +24,23 @@@@ XCOMM ==================================
d36 1
a36 1
@@@@ -81,7 +81,7 @@@@ XCOMM Below are the special defines for 
@


1.3
log
@regen patches
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
+++ Imakefile	2004-03-05 23:30:39.000000000 +0100
@@@@ -24,23 +24,22 @@@@ XCOMM ==================================
d22 1
a22 1
     HIGH_SCORE_FILE 	= $(XBOING_DIR)/.xboing.scr
d25 2
d36 1
a36 1
@@@@ -81,7 +80,7 @@@@ XCOMM Below are the special defines for 
d45 1
a45 1
@@@@ -132,8 +131,8 @@@@ XCOMM hasn't a usleep() function.
d55 10
@


1.2
log
@- make this build on sparc; not every sparc runs SunOS
- don't clobber imake CFLAGS
@
text
@d1 3
a3 2
--- Imakefile.orig	Fri Nov 22 02:28:46 1996
+++ Imakefile	Thu Mar  8 02:21:42 2001
@


1.1
log
@Fix broken port:
- force install in local instead of X11R6
- rename patches to something more useable.
@
text
@d1 3
a3 3
--- Imakefile.orig	Thu Nov 21 18:28:46 1996
+++ Imakefile	Fri Mar 24 16:13:32 2000
@@@@ -24,23 +24,23 @@@@
a29 1
+    CDEBUGFLAGS			= -O2 -pipe
d33 10
a42 1
@@@@ -132,8 +132,8 @@@@
@

