head	1.5;
access;
symbols
	OPENBSD_3_2:1.4.0.12
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.4.0.10
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.8
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.4
	OPENBSD_2_9:1.4.0.6
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.4
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.4.0.2
	OPENBSD_2_7_BASE:1.4
	OPENBSD_2_6:1.3.0.4
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2
	xkobo:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2002.10.06.00.49.03;	author naddy;	state dead;
branches;
next	1.4;

1.4
date	2000.03.05.15.54.49;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	99.03.23.16.03.42;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	98.07.20.00.51.36;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	98.05.19.23.16.40;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.05.19.23.16.40;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.5
log
@- Regen ancient patches.
- C++ fix for gcc3.
ok espie@@
@
text
@--- Imakefile.orig	Fri Jan 10 03:29:36 1997
+++ Imakefile	Sun Mar  5 16:06:52 2000
@@@@ -6,7 +6,7 @@@@ WAIT_MSEC   = 30
 SHIPS       = 5
 
 /*  RECORDS  */
-HSCORE_DIR  = /usr/local/games/xkobo-scores
+HSCORE_DIR  = /var/games/xkobo.scores
 
 /*  C++ COMPILER  */
 /*  CXX         = g++  */
@@@@ -69,15 +69,15 @@@@ xkp256.c: # xkp256.tif
 
 #ifdef SECURE_SCOREFILES
 install::
-	if [ -d $(HSCORE_DIR) ]; then chmod 755 $(HSCORE_DIR); \
-	else mkdirhier $(HSCORE_DIR); chmod 755 $(HSCORE_DIR); fi
-	chown $(XKOBO_ADMINISTER) $(BINDIR)/xkobo
-	chown -R $(XKOBO_ADMINISTER) $(HSCORE_DIR)
-	chmod 4755 $(BINDIR)/xkobo
+	if [ -d $(DESTDIR)$(HSCORE_DIR) ]; then chmod 575 $(DESTDIR)$(HSCORE_DIR); \
+	else mkdirhier $(DESTDIR)$(HSCORE_DIR); chmod 575 $(DESTDIR)$(HSCORE_DIR); fi
+	chgrp $(XKOBO_ADMINISTER) $(DESTDIR)$(BINDIR)/xkobo
+	chgrp -R $(XKOBO_ADMINISTER) $(DESTDIR)$(HSCORE_DIR)
+	chmod 2755 $(DESTDIR)$(BINDIR)/xkobo
 #else /* SECURE_SCOREFILES */
 install::
-	if [ -d $(HSCORE_DIR) ]; then chmod 777 $(HSCORE_DIR); \
-	else mkdirhier $(HSCORE_DIR); chmod 777 $(HSCORE_DIR); fi
+	if [ -d $(DESTDIR)$(HSCORE_DIR) ]; then chmod 777 $(DESTDIR)$(HSCORE_DIR); \
+	else mkdirhier $(DESTDIR)$(HSCORE_DIR); chmod 777 $(DESTDIR)$(HSCORE_DIR); fi
 #endif /* SECURE_SCOREFILES */
 
 clean::
@


1.4
log
@Add DESTDIR to all the places that are missing it in xkobo's Imakefile.
Turn Fake on
@
text
@@


1.3
log
@Move scores to /var
update DESCR
fix packing list
@
text
@d2 2
a3 2
+++ Imakefile	Tue Mar 23 13:48:15 1999
@@@@ -6,7 +6,7 @@@@
d12 1
a12 1
@@@@ -69,11 +69,11 @@@@
d21 5
a25 5
+	if [ -d $(HSCORE_DIR) ]; then chmod 575 $(HSCORE_DIR); \
+	else mkdirhier $(HSCORE_DIR); chmod 575 $(HSCORE_DIR); fi
+	chgrp $(XKOBO_ADMINISTER) $(BINDIR)/xkobo
+	chgrp -R $(XKOBO_ADMINISTER) $(HSCORE_DIR)
+	chmod 2755 $(BINDIR)/xkobo
d28 7
a34 1
 	if [ -d $(HSCORE_DIR) ]; then chmod 777 $(HSCORE_DIR); \
@


1.2
log
@
Help make package find its manpages, fix xkobo score directory.
@
text
@d1 28
a28 44
*** Imakefile.orig	Fri Jan 10 03:29:36 1997
--- Imakefile	Sun Jul 19 03:30:53 1998
***************
*** 6,12 ****
  SHIPS       = 5
  
  /*  RECORDS  */
! HSCORE_DIR  = /usr/local/games/xkobo-scores
  
  /*  C++ COMPILER  */
  /*  CXX         = g++  */
--- 6,12 ----
  SHIPS       = 5
  
  /*  RECORDS  */
! HSCORE_DIR  = $(LIBDIR)/xkobo-scores
  
  /*  C++ COMPILER  */
  /*  CXX         = g++  */
***************
*** 69,79 ****
  
  #ifdef SECURE_SCOREFILES
  install::
! 	if [ -d $(HSCORE_DIR) ]; then chmod 755 $(HSCORE_DIR); \
! 	else mkdirhier $(HSCORE_DIR); chmod 755 $(HSCORE_DIR); fi
! 	chown $(XKOBO_ADMINISTER) $(BINDIR)/xkobo
! 	chown -R $(XKOBO_ADMINISTER) $(HSCORE_DIR)
! 	chmod 4755 $(BINDIR)/xkobo
  #else /* SECURE_SCOREFILES */
  install::
  	if [ -d $(HSCORE_DIR) ]; then chmod 777 $(HSCORE_DIR); \
--- 69,79 ----
  
  #ifdef SECURE_SCOREFILES
  install::
! 	if [ -d $(HSCORE_DIR) ]; then chmod 575 $(HSCORE_DIR); \
! 	else mkdirhier $(HSCORE_DIR); chmod 575 $(HSCORE_DIR); fi
! 	chgrp $(XKOBO_ADMINISTER) $(BINDIR)/xkobo
! 	chgrp -R $(XKOBO_ADMINISTER) $(HSCORE_DIR)
! 	chmod 2755 $(BINDIR)/xkobo
  #else /* SECURE_SCOREFILES */
  install::
  	if [ -d $(HSCORE_DIR) ]; then chmod 777 $(HSCORE_DIR); \
@


1.1
log
@Initial revision
@
text
@d1 2
a2 2
*** Imakefile.orig	Thu Jan  9 21:29:36 1997
--- Imakefile	Tue May 19 18:11:52 1998
d21 3
a23 1
*** 71,79 ****
d25 2
a26 2
  	if [ -d $(HSCORE_DIR) ]; then chmod 755 $(HSCORE_DIR); \
  	else mkdirhier $(HSCORE_DIR); chmod 755 $(HSCORE_DIR); fi
d33 3
a35 1
--- 71,79 ----
d37 2
a38 2
  	if [ -d $(HSCORE_DIR) ]; then chmod 755 $(HSCORE_DIR); \
  	else mkdirhier $(HSCORE_DIR); chmod 755 $(HSCORE_DIR); fi
@


1.1.1.1
log
@xkobo port
@
text
@@
