head	1.17;
access;
symbols
	OPENBSD_6_1:1.15.0.6
	OPENBSD_6_1_BASE:1.15
	OPENBSD_6_0:1.15.0.4
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.15.0.2
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.13.0.8
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.13.0.4
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.13.0.2
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.12.0.4
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.10.0.10
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.8
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.6
	OPENBSD_5_0:1.10.0.4
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.6.0.4
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.6.0.2
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.5.0.2
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	simon_20071001:1.1.1.1
	simon:1.1.1;
locks; strict;
comment	@# @;


1.17
date	2017.07.16.19.18.55;	author espie;	state Exp;
branches;
next	1.16;
commitid	tt0GhWK5c4uf9ILG;

1.16
date	2017.04.10.11.46.19;	author sthen;	state Exp;
branches;
next	1.15;
commitid	BLsh88fJB8thZTwY;

1.15
date	2015.11.05.19.08.58;	author jca;	state Exp;
branches;
next	1.14;
commitid	UGP8xDGOujwrZOVl;

1.14
date	2015.08.21.19.17.10;	author sthen;	state Exp;
branches;
next	1.13;
commitid	8EJcWdVX4S7jN0H9;

1.13
date	2014.03.27.04.00.25;	author bentley;	state Exp;
branches;
next	1.12;

1.12
date	2013.06.04.18.41.45;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2013.03.11.11.07.41;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.16.11.23.28;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.08.18.14.21;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.24.21.19.03;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.08.30.17.46.56;	author fgsch;	state Exp;
branches;
next	1.6;

1.6
date	2009.08.08.08.01.58;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2009.04.04.14.53.38;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2007.12.09.22.37.30;	author simon;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.02.13.12.53;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2007.10.03.13.21.20;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2007.10.01.21.37.28;	author simon;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.10.01.21.37.28;	author simon;	state Exp;
branches;
next	;


desc
@@


1.17
log
@use COMPILER_LIBCXX where applicable
@
text
@# $OpenBSD: Makefile,v 1.16 2017/04/10 11:46:19 sthen Exp $

COMMENT=	economic and military simulation game

V=		17
REVISION=	1
DISTNAME= 	widelands-build${V}-src
PKGNAME=	widelands-0.${V}
CATEGORIES=	games
EXTRACT_SUFX=	.tar.bz2

HOMEPAGE=	http://widelands.org/

MASTER_SITES =	https://launchpad.net/widelands/build${V}/build-${V}/+download/

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB +=	GL GLEW SDL SDL_gfx SDL_image SDL_mixer SDL_net SDL_ttf
WANTLIB +=	c m png pthread ${COMPILER_LIBCXX} z execinfo ${MODLUA_WANTLIB}
WANTLIB +=	boost_signals-mt

LIB_DEPENDS =	devel/boost \
		devel/libexecinfo \
		devel/sdl-gfx \
		devel/sdl-image \
		devel/sdl-mixer \
		devel/sdl-net \
		devel/sdl-ttf \
		graphics/png \
		graphics/glew

MODULES =	devel/cmake \
		devel/gettext \
		lang/lua \
		lang/python

MODPY_RUNDEP=	No

CONFIGURE_ARGS =	-DWL_INSTALL_DATADIR=share/widelands \
			-DWL_INSTALL_BINDIR=bin

CONFIGURE_ENV =	CXXFLAGS="${CXXFLAGS} -I${LOCALBASE}/include \
			-I${X11BASE}/include" \
		LDFLAGS="${LDFLAGS} -lexecinfo -lintl -liconv \
			-L${LOCALBASE}/lib"

NO_TEST=	Yes

.include <bsd.port.mk>
@


1.16
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/11/05 19:08:58 jca Exp $
d20 1
a20 1
WANTLIB +=	c m png pthread ${LIBCXX} z execinfo ${MODLUA_WANTLIB}
@


1.15
log
@Drop MAINTAINER, the mail address bounces.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2015/08/21 19:17:10 sthen Exp $
d20 1
a20 1
WANTLIB +=	c m png pthread stdc++ z execinfo ${MODLUA_WANTLIB}
@


1.14
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2014/03/27 04:00:25 bentley Exp $
d6 1
a6 1
REVISION=	0
a14 2

MAINTAINER=	Simon Bertrang <simon@@openbsd.org>
@


1.13
log
@Update to widelands-0.17.

ok bcallah@@ kirby@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/16 11:23:28 espie Exp $
d5 2
a6 1
V =		17
a20 2
BUILD_DEPENDS =	devel/boost

d23 1
d25 2
a26 1
LIB_DEPENDS =	devel/libexecinfo \
@


1.12
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/03/11 11:07:41 espie Exp $
d5 3
a7 3
DISTNAME= 	widelands-build-11-source
PKGNAME=	widelands-0.11
REVISION =	3
d13 1
a13 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=widelands/}
d17 1
a17 1
# GPLv2
a18 2
WANTLIB=	SDL c m png pthread stdc++ z SDL_gfx SDL_image SDL_mixer \
		SDL_net SDL_ttf
d20 7
a26 1
LIB_DEPENDS=	devel/sdl-gfx \
d30 8
a37 1
		devel/sdl-ttf
a38 3
MODULES=	devel/gettext \
		devel/scons \
		lang/python
d41 7
a47 1
WRKDIST=	${WRKDIR}/widelands
a49 13

MODSCONS_FLAGS=	\
	install_prefix=${PREFIX} \
	bindir=${PREFIX}/bin \
	datadir=${PREFIX}/share/widelands \
	localedir=${PREFIX}/share \
	extra_compile_flags="${CXXFLAGS}" \
	extra_include_path=${LOCALBASE}/include \
	extra_lib_path="${LOCALBASE}/lib"

pre-configure:
	perl -pi -e 's,^#!/usr/bin/python,#!${MODPY_BIN},' \
		${WRKSRC}/utils/buildlocale.py
@


1.11
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/16 11:23:28 espie Exp $
d42 1
a42 1
	extra_compile_flags="-I${LOCALBASE}/include/libpng ${CXXFLAGS}" \
@


1.10
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/08 18:14:21 espie Exp $
a17 2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a18 1
PERMIT_PACKAGE_FTP=	Yes
d35 1
a35 1
NO_REGRESS=	Yes
@


1.9
log
@more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/24 21:19:03 ajacoutot Exp $
d25 5
a29 5
LIB_DEPENDS=	::devel/sdl-gfx \
		::devel/sdl-image \
		::devel/sdl-mixer \
		::devel/sdl-net \
		::devel/sdl-ttf
@


1.8
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/08/30 17:46:56 fgsch Exp $
d22 2
a23 1
WANTLIB=	SDL c m png pthread stdc++ z
d25 5
a29 5
LIB_DEPENDS=	SDL_gfx::devel/sdl-gfx \
		SDL_image::devel/sdl-image \
		SDL_mixer::devel/sdl-mixer \
		SDL_net::devel/sdl-net \
		SDL_ttf::devel/sdl-ttf
@


1.7
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/08/08 08:01:58 sthen Exp $
a36 1
USE_X11=	Yes
@


1.6
log
@Use python.port.mk and MODPY_BIN, fixing build with MODPY_VERSION=2.6.
Bump not needed, this doesn't make it into the package. ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/04/04 14:53:38 ajacoutot Exp $
d6 2
a7 1
PKGNAME=	widelands-0.11p2
@


1.5
log
@- unbreak with newer scons (breakage spotted by naddy@@)
- regen PLIST while here

maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/12/09 22:37:30 simon Exp $
d30 3
a32 3
		devel/scons

PYTHON_VER=	2.5
d49 1
a49 1
	perl -pi -e 's,^#!/usr/bin/python,#!${LOCALBASE}/bin/python${PYTHON_VER},' \
@


1.4
log
@MODULES+=devel/scons, no package change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/11/02 13:12:53 sturm Exp $
d6 1
a6 1
PKGNAME=	widelands-0.11p1
@


1.3
log
@use python 2.5, fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/10/03 13:21:20 steven Exp $
d29 2
a30 3
BUILD_DEPENDS=	::devel/scons

MODULES=	devel/gettext
d39 1
a39 1
SCONS_OPTS=	\
a47 1

a50 6

do-build:
	@@${SETENV} ${MAKE_ENV} scons -C ${WRKSRC} ${SCONS_OPTS}

do-install:
	@@${SETENV} ${MAKE_ENV} scons -C ${WRKSRC} install ${SCONS_OPTS}
@


1.2
log
@- move locale files into standard location
- put python version and scons options in variables
- FAKE_ENV does not exist -> MAKE_ENV

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/10/01 21:37:28 simon Exp $
d6 1
a6 1
PKGNAME=	widelands-0.11p0
d21 1
a21 1
WANTLIB=	X11 Xext SDL c m png pthread stdc++ usbhid z
d33 1
a33 1
PYTHON_VER=	2.4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
PKGNAME=	widelands-0.11
d33 2
d40 1
a40 6
pre-configure:
	perl -pi -e 's,^#!/usr/bin/python,#!${LOCALBASE}/bin/python2.4,' \
		${WRKSRC}/utils/buildlocale.py

do-build:
	@@${SETENV} ${MAKE_ENV} scons -C ${WRKSRC} \
d44 1
a44 1
	localedir=${PREFIX}/share/widelands \
d49 8
d58 1
a58 8
	@@${SETENV} ${FAKE_ENV} scons -C ${WRKSRC} install \
	install_prefix=${PREFIX} \
	bindir=${PREFIX}/bin \
	datadir=${PREFIX}/share/widelands \
	localedir=${PREFIX}/share/widelands \
	extra_compile_flags="-I${LOCALBASE}/include/libpng ${CXXFLAGS}" \
	extra_include_path=${LOCALBASE}/include \
	extra_lib_path="${LOCALBASE}/lib"
@


1.1.1.1
log
@import widelands

Widelands is an economic and military simulation game.  The map is shown
in parallel perspective with 3-dimensional terrain.  Buildings and units
are animated.  The player controls a tribe.  Land is claimed and held by
military presence and then used to build an economy to support military
expansion and confrontation.  The project is a work in progress where
much remains to be done; computer players and multiplayer are in very
early stages of development.  Some features that have already been
implemented are exploration, fog of war, sound effects, background
music, adjustable simulation speed, a few tutorial campaigns,
translations to several languages, and a map editor.

feedback & ok jasper@@
@
text
@@
