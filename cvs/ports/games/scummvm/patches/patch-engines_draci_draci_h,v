head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.16
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.12
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.14
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.10
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.8
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.6
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.4
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2012.10.06.19.24.32;	author jsg;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Remove a workaround for msvc lacking lround and always call lround.
Works around the assembler complaining about "Illegal operands" on sparc64
when calling the previous inline version, and makes sparc64 build again
without custom cxxflags.
@
text
@$OpenBSD$
--- engines/draci/draci.h.orig	Sun Oct  7 00:35:56 2012
+++ engines/draci/draci.h	Sun Oct  7 00:42:40 2012
@@@@ -121,8 +121,7 @@@@ enum {
 	kDraciWalkingDebugLevel   = 1 << 6
 };
 
-// Macro to simulate lround() for non-C99 compilers
-static inline long scummvm_lround(double val) { return (long)floor(val + 0.5); }
+#define scummvm_lround lround
 
 } // End of namespace Draci
 
@
