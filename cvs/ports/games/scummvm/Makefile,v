head	1.67;
access;
symbols
	OPENBSD_6_1:1.67.0.2
	OPENBSD_6_1_BASE:1.67
	OPENBSD_6_0:1.65.0.2
	OPENBSD_6_0_BASE:1.65
	OPENBSD_5_9:1.63.0.2
	OPENBSD_5_9_BASE:1.63
	OPENBSD_5_8:1.63.0.4
	OPENBSD_5_8_BASE:1.63
	OPENBSD_5_7:1.62.0.2
	OPENBSD_5_7_BASE:1.62
	OPENBSD_5_6:1.59.0.4
	OPENBSD_5_6_BASE:1.59
	OPENBSD_5_5:1.59.0.2
	OPENBSD_5_5_BASE:1.59
	OPENBSD_5_4:1.58.0.2
	OPENBSD_5_4_BASE:1.58
	OPENBSD_5_3:1.55.0.2
	OPENBSD_5_3_BASE:1.55
	OPENBSD_5_2:1.52.0.2
	OPENBSD_5_2_BASE:1.52
	OPENBSD_5_1_BASE:1.48
	OPENBSD_5_1:1.48.0.2
	OPENBSD_5_0:1.47.0.2
	OPENBSD_5_0_BASE:1.47
	OPENBSD_4_9:1.43.0.2
	OPENBSD_4_9_BASE:1.43
	OPENBSD_4_8:1.36.0.2
	OPENBSD_4_8_BASE:1.36
	OPENBSD_4_7:1.33.0.2
	OPENBSD_4_7_BASE:1.33
	OPENBSD_4_6:1.30.0.2
	OPENBSD_4_6_BASE:1.30
	OPENBSD_4_5:1.29.0.2
	OPENBSD_4_5_BASE:1.29
	OPENBSD_4_4:1.28.0.2
	OPENBSD_4_4_BASE:1.28
	OPENBSD_4_3:1.27.0.2
	OPENBSD_4_3_BASE:1.27
	OPENBSD_4_2:1.24.0.2
	OPENBSD_4_2_BASE:1.24
	OPENBSD_4_1:1.23.0.2
	OPENBSD_4_1_BASE:1.23
	OPENBSD_4_0:1.22.0.2
	OPENBSD_4_0_BASE:1.22
	OPENBSD_3_9:1.20.0.2
	OPENBSD_3_9_BASE:1.20
	OPENBSD_3_8:1.17.0.2
	OPENBSD_3_8_BASE:1.17
	OPENBSD_3_7:1.13.0.2
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.8.0.2
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.6.0.2
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	scummvm:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.67
date	2016.11.01.13.03.14;	author jsg;	state Exp;
branches;
next	1.66;
commitid	I7969ol4asGZxJd2;

1.66
date	2016.08.30.10.20.15;	author jasper;	state Exp;
branches;
next	1.65;
commitid	ldmJChLP8htfEKn3;

1.65
date	2016.06.05.10.47.25;	author jsg;	state Exp;
branches;
next	1.64;
commitid	ZoPweXPixONuiAxp;

1.64
date	2016.03.17.00.40.54;	author jsg;	state Exp;
branches;
next	1.63;
commitid	VeoIPTvSspQ0SBfW;

1.63
date	2015.06.26.09.38.42;	author ajacoutot;	state Exp;
branches;
next	1.62;
commitid	19E8OFgTUgQGU14B;

1.62
date	2014.11.29.10.10.47;	author jsg;	state Exp;
branches;
next	1.61;
commitid	bn7P8nBlqTT27kAV;

1.61
date	2014.09.02.06.39.22;	author jsg;	state Exp;
branches;
next	1.60;
commitid	rAm3pahU7PmCHRDm;

1.60
date	2014.08.17.06.08.05;	author jsg;	state Exp;
branches;
next	1.59;
commitid	dQ1Jdh4IPoP1TZNh;

1.59
date	2013.11.09.14.03.05;	author landry;	state Exp;
branches;
next	1.58;

1.58
date	2013.07.07.02.46.26;	author jsg;	state Exp;
branches;
next	1.57;

1.57
date	2013.03.25.00.12.57;	author sthen;	state Exp;
branches;
next	1.56;

1.56
date	2013.03.11.11.07.40;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2013.01.08.04.11.55;	author jsg;	state Exp;
branches;
next	1.54;

1.54
date	2012.10.06.19.24.32;	author jsg;	state Exp;
branches;
next	1.53;

1.53
date	2012.08.04.15.58.37;	author jsg;	state Exp;
branches;
next	1.52;

1.52
date	2012.05.22.18.39.42;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2012.04.19.07.43.47;	author ratchov;	state Exp;
branches;
next	1.50;

1.50
date	2012.02.20.11.18.33;	author jsg;	state Exp;
branches;
next	1.49;

1.49
date	2012.02.17.06.59.40;	author jsg;	state Exp;
branches;
next	1.48;

1.48
date	2011.11.12.12.59.58;	author jsg;	state Exp;
branches;
next	1.47;

1.47
date	2011.07.18.15.30.29;	author jsg;	state Exp;
branches;
next	1.46;

1.46
date	2011.07.11.12.26.20;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2011.05.29.20.41.50;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2011.05.29.11.48.45;	author jsg;	state Exp;
branches;
next	1.43;

1.43
date	2011.01.04.07.07.09;	author jsg;	state Exp;
branches;
next	1.42;

1.42
date	2010.11.16.11.23.28;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2010.11.08.15.54.54;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2010.10.24.21.19.02;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.10.18.21.50.39;	author sthen;	state Exp;
branches;
next	1.38;

1.38
date	2010.10.18.18.00.18;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2010.10.17.19.59.51;	author jsg;	state Exp;
branches;
next	1.36;

1.36
date	2010.07.13.21.23.39;	author jsg;	state Exp;
branches;
next	1.35;

1.35
date	2010.06.15.13.11.17;	author landry;	state Exp;
branches;
next	1.34;

1.34
date	2010.04.15.07.10.43;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2009.12.22.16.28.01;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2009.12.09.22.03.06;	author jsg;	state Exp;
branches;
next	1.31;

1.31
date	2009.08.10.06.31.42;	author kili;	state Exp;
branches;
next	1.30;

1.30
date	2009.05.21.13.27.44;	author jsg;	state Exp;
branches;
next	1.29;

1.29
date	2008.10.19.10.23.09;	author jsg;	state Exp;
branches;
next	1.28;

1.28
date	2008.03.15.00.54.51;	author jsg;	state Exp;
branches;
next	1.27;

1.27
date	2008.01.19.01.29.11;	author jsg;	state Exp;
branches;
next	1.26;

1.26
date	2007.12.15.20.37.53;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2007.09.15.18.01.02;	author simon;	state Exp;
branches;
next	1.24;

1.24
date	2007.07.07.01.37.53;	author jsg;	state Exp;
branches;
next	1.23;

1.23
date	2006.11.02.07.48.59;	author jsg;	state Exp;
branches;
next	1.22;

1.22
date	2006.08.01.10.50.19;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2006.07.08.04.14.30;	author jsg;	state Exp;
branches;
next	1.20;

1.20
date	2006.02.07.23.20.39;	author jsg;	state Exp;
branches;
next	1.19;

1.19
date	2006.02.02.11.58.26;	author jsg;	state Exp;
branches;
next	1.18;

1.18
date	2005.11.03.09.35.31;	author jsg;	state Exp;
branches;
next	1.17;

1.17
date	2005.07.28.17.28.14;	author jolan;	state Exp;
branches;
next	1.16;

1.16
date	2005.07.06.10.45.44;	author jsg;	state Exp;
branches;
next	1.15;

1.15
date	2005.06.30.02.47.48;	author jolan;	state Exp;
branches;
next	1.14;

1.14
date	2005.04.16.05.54.15;	author jsg;	state Exp;
branches;
next	1.13;

1.13
date	2005.02.28.22.24.53;	author pvalchev;	state Exp;
branches;
next	1.12;

1.12
date	2005.01.06.00.29.48;	author jsg;	state Exp;
branches;
next	1.11;

1.11
date	2004.11.28.22.41.20;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2004.11.28.11.56.57;	author jsg;	state Exp;
branches;
next	1.9;

1.9
date	2004.09.28.00.44.34;	author jolan;	state Exp;
branches;
next	1.8;

1.8
date	2004.08.21.08.12.52;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2004.03.31.02.49.36;	author jolan;	state Exp;
branches;
next	1.6;

1.6
date	2003.12.10.21.28.58;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2003.08.08.20.12.52;	author jolan;	state Exp;
branches;
next	1.4;

1.4
date	2003.08.02.10.24.50;	author jolan;	state Exp;
branches;
next	1.3;

1.3
date	2003.06.01.10.14.47;	author jolan;	state Exp;
branches;
next	1.2;

1.2
date	2003.05.12.08.23.47;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.30.14.05.25;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.03.30.14.05.25;	author espie;	state Exp;
branches;
next	;


desc
@@


1.67
log
@update to scummvm 1.9.0
@
text
@# $OpenBSD: Makefile,v 1.66 2016/08/30 10:20:15 jasper Exp $

COMMENT=	graphical adventure game interpreter
V=		1.9.0
DISTNAME=	scummvm-${V}
CATEGORIES=	games x11 emulators
MASTER_SITES=	http://www.scummvm.org/frs/scummvm/${V}/

HOMEPAGE=	http://www.scummvm.org/

MAINTAINER=	Jonathan Gray <jsg@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += FLAC SDL2 c faad freetype jpeg m mad png pthread sndio stdc++
WANTLIB += theoradec z

.if ${MACHINE_ARCH} == "i386"
BUILD_DEPENDS=	devel/nasm
.endif

RUN_DEPENDS=	devel/desktop-file-utils
LIB_DEPENDS=	audio/libmad \
		audio/flac \
		audio/faad>=2.7 \
		devel/sdl2 \
		graphics/png \
		graphics/jpeg \
		multimedia/libtheora

CONFIGURE_STYLE=simple
CONFIGURE_ARGS+= --disable-alsa \
		--disable-debug \
		--disable-fluidsynth \
		--disable-seq-midi \
		--disable-mpeg2 \
		--disable-sdlnet \
		--disable-libcurl \
		--enable-sndio \
		--mandir="${LOCALBASE}/man"
CONFIGURE_ENV+=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

.if ${MACHINE_ARCH} == "arm"
CONFIGURE_ARGS +=	--enable-tremor --disable-vorbis
LIB_DEPENDS +=		audio/tremor
WANTLIB +=		vorbisidec>=1
.else
LIB_DEPENDS +=		audio/libvorbis
WANTLIB +=		ogg vorbis>=0 vorbisfile>=1
.endif

NO_TEST=	Yes
USE_GMAKE=	Yes

MAKE_ENV+=	CXXFLAGS="${CXXFLAGS}" CXX="${CXX}" VERBOSE_BUILD=1

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/applications
	${INSTALL_DATA} ${WRKSRC}/dists/scummvm.desktop \
	    ${PREFIX}/share/applications

.include <bsd.port.mk>
@


1.66
log
@bump after faad subpackage changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2016/06/05 10:47:25 jsg Exp $
d4 1
a4 1
V=		1.8.1
a5 1
REVISION=	0
d16 1
a16 1
WANTLIB += FLAC SDL c faad freetype jpeg m mad png pthread sndio stdc++
d27 1
a27 1
		devel/sdl \
d38 2
@


1.65
log
@update to scummvm 1.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2016/03/17 00:40:54 jsg Exp $
d6 1
@


1.64
log
@update to scummvm 1.8.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2015/06/26 09:38:42 ajacoutot Exp $
d4 1
a4 1
V=		1.8.0
@


1.63
log
@Don't pick up libmpeg2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2014/11/29 10:10:47 jsg Exp $
d4 2
a5 2
DISTNAME=	scummvm-1.7.0
REVISION=	1
d7 1
a7 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=scummvm/}
d9 1
a9 1
HOMEPAGE=	http://scummvm.sourceforge.net/
d38 2
a39 1
		--enable-sndio
d57 1
a57 4
do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/scummvm
	${INSTALL_DATA_DIR} ${PREFIX}/share/icons
	${INSTALL_DATA_DIR} ${PREFIX}/share/scummvm
a58 8
	${INSTALL_DATA} ${WRKSRC}/{NEWS,AUTHORS,README} \
	    ${PREFIX}/share/doc/scummvm
	${INSTALL_DATA} ${WRKSRC}/icons/scummvm.{svg,xpm} ${PREFIX}/share/icons
	${INSTALL_MAN} ${WRKSRC}/dists/scummvm.6 ${PREFIX}/man/man6
	${INSTALL_DATA} ${WRKSRC}/gui/themes/{scummmodern,scummclassic}.zip \
	    ${PREFIX}/share/scummvm
	${INSTALL_DATA} ${WRKSRC}/gui/themes/translations.dat \
	    ${PREFIX}/share/scummvm
a60 1
	${INSTALL_PROGRAM} ${WRKSRC}/scummvm ${PREFIX}/bin
@


1.62
log
@equate powerpc with ppc for alignment checks
from Donovan Watteau
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2014/09/02 06:39:22 jsg Exp $
d37 1
@


1.61
log
@scummvm 1.7.0 switched from a builtin jpeg decoder to libjpeg.
Add the missing libjpeg dep, problem found by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/08/17 06:08:05 jsg Exp $
d5 1
a5 1
REVISION=	0
@


1.60
log
@update to 1.7.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/11/09 14:03:05 landry Exp $
d5 1
d16 1
a16 1
WANTLIB += FLAC SDL c faad freetype m mad png pthread sndio stdc++
d29 1
@


1.59
log
@Add png to LDEP/WANTLIB, other it's picked as a hidden dep.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/07/07 02:46:26 jsg Exp $
d4 1
a4 1
DISTNAME=	scummvm-1.6.0
a6 1
REVISION=	0
@


1.58
log
@update to 1.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/03/25 00:12:57 sthen Exp $
d7 1
d16 1
a16 1
WANTLIB += FLAC SDL c faad freetype m mad pthread sndio stdc++
d28 1
@


1.57
log
@- don't pick up fluidsynth if installed at build time; fluidsynth can still
be used via sndio.

- regen plist, sync WANTLIB, and drop USE_GROFF.

ok jsg@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/03/11 11:07:40 espie Exp $
d4 1
a4 2
DISTNAME=	scummvm-1.5.0
REVISION=	2
@


1.56
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/01/08 04:11:55 jsg Exp $
d5 1
a5 1
REVISION=	1
d16 2
a17 1
WANTLIB=	FLAC>=5 SDL c faad m mad>=2 pthread sndio stdc++ theoradec z
d31 5
a35 1
CONFIGURE_ARGS+=--disable-alsa --disable-debug --disable-seq-midi --enable-sndio
a37 1
USE_GROFF =	Yes
@


1.55
log
@equate amd64 with x86_64 so alignment checks in configure
will work as intended on amd64.

from Donovan Watteau
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/10/06 19:24:32 jsg Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d44 1
a44 1
NO_REGRESS=	Yes
@


1.54
log
@Remove a workaround for msvc lacking lround and always call lround.
Works around the assembler complaining about "Illegal operands" on sparc64
when calling the previous inline version, and makes sparc64 build again
without custom cxxflags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/08/04 15:58:37 jsg Exp $
d5 1
a5 1
REVISION=	0
@


1.53
log
@update to 1.5.0
sndio midi backend now included upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/05/22 18:39:42 ajacoutot Exp $
d5 1
@


1.52
log
@Remove workarounds now that we have a modern faad.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/04/19 07:43:47 ratchov Exp $
d4 1
a4 2
DISTNAME=	scummvm-1.4.1
REVISION=	2
a66 3

post-patch:
	@@cp ${FILESDIR}/sndio.cpp ${WRKSRC}/backends/midi
@


1.51
log
@make scummvm use sndio(7) for midi. Now, those who have no hardware midi
synth could use any soft synth to get the music. This decreases the
number of sequencer(4) users as well ;)

ok jsg, dcoppa
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/02/20 11:18:33 jsg Exp $
d5 1
a5 1
REVISION=	1
d28 1
a28 1
		audio/faad \
@


1.50
log
@The gcc problem on hppa seems to have gone away after the switch
to gcc4.  scummvm builds and runs fine on hppa here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/02/17 06:59:40 jsg Exp $
d5 1
d19 1
a19 1
WANTLIB=	FLAC>=5 SDL c faad m mad>=2 pthread stdc++ theoradec z
d33 1
a33 1
CONFIGURE_ARGS+=--disable-alsa --disable-debug
d68 3
@


1.49
log
@update to 1.4.1 and stop the configure script from adding -pedantic
to CXXFLAGS as this hard errored on the long long in ogg headers
resulting in a binary with no vorbis/flac support.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.48 2011/11/12 12:59:58 jsg Exp $

BROKEN-hppa=	gcc bug
@


1.48
log
@update to 1.4.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/07/18 15:30:29 jsg Exp $
d6 1
a6 1
DISTNAME=	scummvm-1.4.0
@


1.47
log
@update to 1.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/07/11 12:26:20 jasper Exp $
d6 1
a6 1
DISTNAME=	scummvm-1.3.1
d20 1
a20 1
WANTLIB=	FLAC>=5 SDL c m mad>=2 pthread stdc++ theoradec z
d29 1
@


1.46
log
@- let's try to build these on sparc/arm now.

from brad
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/05/29 20:41:50 sthen Exp $
d6 1
a6 2
DISTNAME=	scummvm-1.3.0
REVISION=	1
@


1.45
log
@- don't hide compiler/linker command lines during build
- honour CXX/CXXFLAGS in scummvm-tools, as done in scummvm already
- sync WANTLIB in scummvm
- use a more specific license marker

ok jsg@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/05/29 11:48:45 jsg Exp $
d7 1
a7 1
REVISION=	0
a51 11

# XXX gcc3 compiling compact.cpp with -O2 gobbles 800MB
# ICE on sparc with >= -O1
.if ${MACHINE_ARCH} == "sparc"
CXXFLAGS+=	-O0
.endif

# prevent ICE
.if ${MACHINE_ARCH} == "arm"
CXXFLAGS+=	-O1
.endif
@


1.44
log
@update to 1.3.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/01/04 07:07:09 jsg Exp $
d7 1
d15 1
a15 1
# GPL
d20 2
a21 2
WANTLIB=	X11 Xext c m pthread pthread-stubs stdc++ usbhid xcb z \
		SDL mad>=2 FLAC>=5
d28 4
a31 3
LIB_DEPENDS=	devel/sdl \
		audio/libmad \
		audio/flac
d51 1
a51 1
MAKE_ENV+=	CXXFLAGS="${CXXFLAGS}" CXX="${CXX}"
@


1.43
log
@update to 1.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/11/16 11:23:28 espie Exp $
d6 1
a6 1
DISTNAME=	scummvm-1.2.1
@


1.42
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/11/08 15:54:54 espie Exp $
d6 1
a6 1
DISTNAME=	scummvm-1.2.0
@


1.41
log
@a few more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/10/24 21:19:02 ajacoutot Exp $
d20 1
a20 1
		SDL mad.>=2 FLAC.>=5
d23 1
a23 1
BUILD_DEPENDS=	::devel/nasm
d26 4
a29 4
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS=	::devel/sdl \
		::audio/libmad \
		::audio/flac
d39 2
a40 2
LIB_DEPENDS +=		::audio/tremor
WANTLIB +=		vorbisidec.>=1
d42 2
a43 2
LIB_DEPENDS +=		::audio/libvorbis
WANTLIB +=		ogg vorbis.>=0 vorbisfile.>=1
@


1.40
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/10/18 21:50:39 sthen Exp $
d19 2
a20 1
WANTLIB=		X11 Xext c m pthread pthread-stubs stdc++ usbhid xcb z
d27 3
a29 3
LIB_DEPENDS=	SDL::devel/sdl \
		mad.>=2::audio/libmad \
		FLAC.>=5::audio/flac
d38 3
a40 2
CONFIGURE_ARGS+=--enable-tremor --disable-vorbis
LIB_DEPENDS+=	vorbisidec.>=1::audio/tremor
d42 2
a43 2
LIB_DEPENDS+=	vorbis.>=0,vorbisfile.>=1::audio/libvorbis
WANTLIB+=	ogg
@


1.39
log
@fix tabs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/10/18 18:00:18 espie Exp $
a45 1
USE_X11=	Yes
@


1.38
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/10/17 19:59:51 jsg Exp $
d34 1
a34 1
		USE_GROFF =	Yes
@


1.37
log
@update to 1.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/07/13 21:23:39 jsg Exp $
d34 1
@


1.36
log
@update to 1.1.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/06/15 13:11:17 landry Exp $
d6 1
a6 1
DISTNAME=	scummvm-1.1.1
d31 1
a31 1
CONFIGURE_ARGS+=--disable-alsa --disable-debug --enable-sci
a59 2
CXXFLAGS+=	-fno-stack-protector

d70 2
@


1.35
log
@-O0 is not needed anymore on sparc64 since it switched to gcc4.
From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/04/15 07:10:43 jasper Exp $
d6 1
a6 2
DISTNAME=	scummvm-1.0.0
PKGNAME=	${DISTNAME}p1
d59 2
@


1.34
log
@- sprinkle some BROKEN-$ARCH
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/12/22 16:28:01 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d52 1
a52 1
.if ${MACHINE_ARCH} == "sparc64" || ${MACHINE_ARCH} == "sparc"
@


1.33
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/12/09 22:03:06 jsg Exp $
d3 1
a3 3
.if ${MACHINE_ARCH} == "hppa"
BROKEN=		gcc bug
.endif
@


1.32
log
@update to 1.0.0
thanks to phessler for testing gcc 2.95 on sparc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/08/10 06:31:42 kili Exp $
d9 1
@


1.31
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/05/21 13:27:44 jsg Exp $
d8 1
a8 2
DISTNAME=	scummvm-0.13.1
PKGNAME=	${DISTNAME}p0
a29 1
		mpeg2::graphics/libmpeg2 \
d33 1
a33 1
CONFIGURE_ARGS+=--disable-alsa --disable-debug --enable-made --enable-tinsel
@


1.30
log
@update to 0.13.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2008/10/19 10:23:09 jsg Exp $
d9 1
d22 1
a22 1
WANTLIB=		X11 Xext c m pthread stdc++ usbhid z
@


1.29
log
@Update to 0.12.0
With a fix to link against libogg for flac from sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2008/03/15 00:54:51 jsg Exp $
d8 1
a8 1
DISTNAME=	scummvm-0.12.0
d34 1
a34 1
CONFIGURE_ARGS+=--disable-alsa --disable-debug
d72 1
a72 3
	${INSTALL_DATA} ${WRKSRC}/gui/themes/classic080.ini \
	    ${PREFIX}/share/scummvm
	${INSTALL_DATA} ${WRKSRC}/gui/themes/{modern.ini,modern.zip} \
@


1.28
log
@Update to 0.11.1, fixes a few small bugs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2008/01/19 01:29:11 jsg Exp $
d8 1
a8 1
DISTNAME=	scummvm-0.11.1
@


1.27
log
@Update to 0.11.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/12/15 20:37:53 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	scummvm-0.11.0
@


1.26
log
@- add update-desktop-database goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2007/09/15 18:01:02 simon Exp $
d8 1
a8 2
DISTNAME=	scummvm-0.10.0
PKGNAME=	${DISTNAME}p0
@


1.25
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/07/07 01:37:53 jsg Exp $
d9 1
d28 1
@


1.24
log
@Update to 0.10.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2006/11/02 07:48:59 jsg Exp $
d4 1
a4 1
BROKEN=		"gcc bug"
d7 1
a7 1
COMMENT=	"graphical adventure game interpreter"
@


1.23
log
@Update to 0.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2006/08/01 10:50:19 espie Exp $
d8 1
a8 1
DISTNAME=	scummvm-0.9.1
d64 6
a69 3
	${INSTALL_DATA_DIR} ${PREFIX}/share/pixmaps
	${INSTALL_DATA} ${WRKSRC}/{NEWS,AUTHORS,README} ${PREFIX}/share/doc/scummvm
	${INSTALL_DATA} ${WRKSRC}/icons/scummvm.xpm ${PREFIX}/share/pixmaps
d71 6
@


1.22
log
@convert a few libspecs to new style.

Note: no package bump, those are only BUILD dependencies,
the pkg_create code will create the correct wantlib specs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/07/08 04:14:30 jsg Exp $
d8 1
a8 1
DISTNAME=	scummvm-0.9.0
@


1.21
log
@Update to 0.9.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/02/07 23:20:39 jsg Exp $
d28 1
a28 1
		mad.2::audio/libmad \
d30 1
a30 1
		FLAC.5::audio/flac
d39 1
a39 1
LIB_DEPENDS+=	vorbisidec.1::audio/tremor
d41 1
a41 1
LIB_DEPENDS+=	vorbis.0,vorbisfile.1::audio/libvorbis
@


1.20
log
@update to 0.8.2 bugfix to a bugfix release which broke Broken Sword II.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/02/02 11:58:26 jsg Exp $
d8 1
a8 1
DISTNAME=	scummvm-0.8.2
d52 1
d57 5
d66 2
a67 2
	${INSTALL_DATA} ${WRKSRC}/scummvm.xpm ${PREFIX}/share/pixmaps
	${INSTALL_MAN} ${WRKSRC}/scummvm.6 ${PREFIX}/man/man6
@


1.19
log
@Update to 0.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2005/11/03 09:35:31 jsg Exp $
d8 1
a8 1
DISTNAME=	scummvm-0.8.1
@


1.18
log
@Update to 0.8.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2005/07/28 17:28:14 jolan Exp $
d8 1
a8 2
DISTNAME=	scummvm-0.8.0
PKGNAME=	${DISTNAME}
@


1.17
log
@make tremor support actually useful, ok jsg@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2005/07/06 10:45:44 jsg Exp $
d8 2
a9 2
DISTNAME=	scummvm-0.7.1
PKGNAME=	${DISTNAME}p2
d60 1
a60 1
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/scummvm
@


1.16
log
@Add an i386 only build depends on nasm for faster video scalers.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2005/06/30 02:47:48 jolan Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p1
@


1.15
log
@flesh out scummvm's tremor support and enable it on arm

ok jsg@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2005/04/16 05:54:15 jsg Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
d23 4
@


1.14
log
@Update to 0.7.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2005/02/28 22:24:53 pvalchev Exp $
d9 1
d22 1
a22 1
WANTLIB=		X11 Xext c m ogg pthread stdc++ usbhid z
a26 1
		vorbis.0,vorbisfile.1::audio/libvorbis \
d33 9
@


1.13
log
@broken on hppa for now: gcc goes mad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/01/06 00:29:48 jsg Exp $
d8 1
a8 1
DISTNAME=	scummvm-0.7.0
d40 1
a40 1
.if ${MACHINE_ARCH} == "sparc64"
@


1.12
log
@Upgrade to 0.7.0
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.11 2004/11/28 22:41:20 espie Exp $
@


1.11
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/11/28 11:56:57 jsg Exp $
d3 2
a4 3
COMMENT=	"play games built around LucasArts' SCUMM"
DISTNAME=	scummvm-0.6.1b
EXTRACT_SUFX=	.tar.bz2
d22 2
a23 1
		vorbis.0,vorbisfile.1::audio/libvorbis
d26 1
a26 1
CONFIGURE_ARGS+=--disable-alsa
@


1.10
log
@list my @@openbsd.org address
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/09/28 00:44:34 jolan Exp $
d18 1
@


1.9
log
@update to 0.6.1b from Jonathan Gray, pass maintainership over to him
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/08/21 08:12:52 espie Exp $
d11 1
a11 1
MAINTAINER=	Jonathan Gray <jsg@@goblin.cx>
@


1.8
log
@scummvm catches an installed libmpeg2.
okay pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/03/31 02:49:36 jolan Exp $
d4 1
a4 1
DISTNAME=	scummvm-0.6.0
d11 1
a11 1
MAINTAINER=	Jolan Luff <jolan@@openbsd.org>
@


1.7
log
@update to 0.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/12/10 21:28:58 naddy Exp $
d21 1
@


1.6
log
@fix dependencies: audio/mad -> audio/libid3tag, audio/libmad, audio/madplayer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/08/08 20:12:52 jolan Exp $
d4 2
a5 2
DISTNAME=	scummvm-0.5.1
EXTRACT_SUFX=	.tgz
d23 4
d31 6
a36 1
MAKE_ENV+=	CXXFLAGS="${CXXFLAGS} -DSCUMM_NEED_ALIGNMENT" CXX="${CXX}"
@


1.5
log
@Update to 0.5.1.  Fixes several Beneath a Steel Sky bugs among other
things.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/08/02 10:24:50 jolan Exp $
d20 1
a20 1
		mad::audio/mad \
@


1.4
log
@update to 0.5.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/06/01 10:14:47 jolan Exp $
d4 2
a5 2

DISTNAME=	scummvm-0.5.0
a6 1

@


1.3
log
@update to 0.4.1, better game compatibility and bug fixes.

"looks fine" sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/05/12 08:23:47 jolan Exp $
d5 1
a5 1
DISTNAME=	scummvm-0.4.1
d28 1
a28 1
MAKE_ENV=	CXXFLAGS="${CXXFLAGS} -DSCUMM_NEED_ALIGNMENT" CXX="${CXX}"
@


1.2
log
@update e-mail address, ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/03/30 14:05:25 espie Exp $
d5 1
a5 2
DISTNAME=	scummvm_0.3.0b-src
PKGNAME=	scummvm-0.3.0b
d28 1
a28 3
WRKDIST=	${WRKDIR}/scummvm-0.3.0

MAKE_ENV=	CXXFLAGS="${CXXFLAGS}" CXX="${CXX}"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d13 1
a13 1
MAINTAINER=	Jolan Luff <jolan@@cryptonomicon.org>
@


1.1.1.1
log
@scummvm, interpreter for LucasFilms games such as Day of the tentacle,
Indiana Jones, the Dig, etc.
from Jolan Luff.
@
text
@@
