head	1.15;
access;
symbols
	OPENBSD_6_1:1.13.0.4
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.13.0.2
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.12.0.10
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.12.0.12
	OPENBSD_5_8_BASE:1.12
	OPENBSD_5_7:1.12.0.8
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.12.0.6
	OPENBSD_5_6_BASE:1.12
	OPENBSD_5_5:1.12.0.4
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.11.0.2
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.10.0.2
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.2
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.5.0.2
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	phessler_20091010:1.1.1.1
	phessler:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2017.05.12.14.11.54;	author espie;	state Exp;
branches;
next	1.14;
commitid	njT5A2jQ0cAY10T9;

1.14
date	2017.04.10.11.46.19;	author sthen;	state Exp;
branches;
next	1.13;
commitid	BLsh88fJB8thZTwY;

1.13
date	2016.03.04.10.11.21;	author kirby;	state Exp;
branches;
next	1.12;
commitid	fuk4WSoYbEI5JByn;

1.12
date	2013.03.11.11.07.39;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2012.09.19.08.15.08;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2012.05.15.19.24.21;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2012.05.15.18.15.10;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.11.14.10.41.30;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2011.11.08.09.30.52;	author dcoppa;	state Exp;
branches;
next	1.6;

1.6
date	2011.03.14.09.17.00;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.16.11.23.27;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.24.21.19.02;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2010.07.09.08.12.27;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.10.09.23.45.19;	author phessler;	state Exp;
branches;
next	1.1;

1.1
date	2009.10.09.22.09.22;	author phessler;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.10.09.22.09.22;	author phessler;	state Exp;
branches;
next	;


desc
@@


1.15
log
@lose the / at end of WRKDIST
@
text
@# $OpenBSD: Makefile,v 1.14 2017/04/10 11:46:19 sthen Exp $

BROKEN-sparc64 =	Illegal operands error building SDL_gfxPrimitives.cpp

COMMENT =		blinkensisters - hunt for the lost pixels

V =			0.5.3
DISTNAME =		LostPixels-${V}-source-with-addons
PKGNAME =		lostpixels-${V}
REVISION =		4
HOMEPAGE =		http://www.blinkensisters.org

CATEGORIES =		games

# GPL v2 only
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=blinkensisters/}

LIB_DEPENDS =		devel/sdl-net		\
			devel/sdl-image		\
			devel/sdl-mixer		\
			devel/sdl-ttf

WANTLIB +=		SDL SDL_image SDL_mixer SDL_net SDL_ttf X11 Xau
WANTLIB +=		Xdmcp Xext Xrandr Xrender c freetype m pthread ${LIBCXX}

USE_GMAKE =		Yes
MODULES +=		devel/cmake \
			lang/lua
MODLUA_BUILDDEP =	No
WRKDIST =		${WRKDIR}/blinkensisters/lostpixels/game/software

SEPARATE_BUILD =	No

NO_TEST =		Yes

pre-configure:
	${SUBST_CMD} ${WRKDIST}/CMakeLists.txt
	@@perl -pi -e 's,make,${MAKE_PROGRAM},g ; s,/usr/local,\$$\{PREFIX},g' \
	    ${WRKDIST}/../addons/Makefile
	@@find ${WRKDIST}/../addons/ -name Makefile -exec \
	    perl -pi -e 's,bmfcompress,${WRKDIST}/bmfcompress,g' {} \;

post-build:
	cd ${WRKDIST}/../addons && ${MAKE_PROGRAM} all

post-install:
	mv ${PREFIX}/bin/LostPixels ${PREFIX}/bin/lostpixels
	cd ${WRKDIST}/../addons && ${MAKE_PROGRAM} install

.include <bsd.port.mk>
@


1.14
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2016/03/04 10:11:21 kirby Exp $
d32 1
a32 1
WRKDIST =		${WRKDIR}/blinkensisters/lostpixels/game/software/
d39 1
a39 1
	${SUBST_CMD} ${WRKDIST}CMakeLists.txt
@


1.13
log
@Remove explicitely set CONFIGURE_STYLE=cmake. It is already done via
MODULES=devel/cmake
OK dcoppa@@, czarkoff@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/03/11 11:07:39 espie Exp $
d26 1
a26 1
WANTLIB +=		Xdmcp Xext Xrandr Xrender c freetype m pthread stdc++
@


1.12
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/09/19 08:15:08 jasper Exp $
a31 1
CONFIGURE_STYLE =	cmake
@


1.11
log
@sync after recent lua.port.mk change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2012/05/15 19:24:21 jasper Exp $
a16 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d37 1
a37 1
NO_REGRESS =		Yes
@


1.10
log
@drop an underscore
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/05/15 18:15:10 jasper Exp $
d10 1
a10 1
REVISION =		3
@


1.9
log
@switch to lua.port.mk now that we can toggle MODLUA_BUILD_DEP
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/11/14 10:41:30 sthen Exp $
d34 1
a34 1
MODLUA_BUILD_DEP =	No
@


1.8
log
@mark broken on sparc64; illegal operands error building SDL_gfxPrimitives.cpp
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/11/08 09:30:52 dcoppa Exp $
d10 1
a10 1
REVISION =		2
a22 1
RUN_DEPENDS =		lang/lua
d32 3
a34 1
MODULES +=		devel/cmake
@


1.7
log
@SEPARATE_BUILD by default for CMake

from Vadim Zhukov

OK jasper@@, espie@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.6 2011/03/14 09:17:00 sthen Exp $
@


1.6
log
@fix various typos, from Anthony J. Bentley with a few tweaks by myself
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/16 11:23:27 espie Exp $
d34 2
@


1.5
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/10/24 21:19:02 ajacoutot Exp $
d8 1
a8 1
REVISION =		1
@


1.4
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/07/09 08:12:27 sthen Exp $
d7 2
a8 1
PKGNAME =		lostpixels-${V}p1
d21 5
a25 5
RUN_DEPENDS =		::lang/lua
LIB_DEPENDS =		::devel/sdl-net			\
			::devel/sdl-image		\
			::devel/sdl-mixer		\
			::devel/sdl-ttf
@


1.3
log
@- move LIB_DEPENDS to the new world order
- remove a bogus LIB_DEPENDS and bump as a result of this

problem noted by landry, discussed with jakemsr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/10/09 23:45:19 phessler Exp $
a28 1
USE_X11 =		Yes
@


1.2
log
@use MAKE_PROGRAM when we mean that, instead of MAKE
remove unecessary lib_depends
don't hardcode /usr/local or /usr/X11R6
bump

pointed out by, and OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/10/09 22:09:22 phessler Exp $
d7 1
a7 1
PKGNAME =		lostpixels-${V}p0
d21 4
a24 5
LIB_DEPENDS =		SDL_net::devel/sdl-net			\
			SDL_image::devel/sdl-image		\
			SDL_mixer::devel/sdl-mixer		\
			SDL_ttf::devel/sdl-ttf			\
			::audio/libvorbis
d26 2
a27 2
WANTLIB +=		SDL X11 Xau Xdmcp Xext Xrandr Xrender c freetype m
WANTLIB +=		pthread stdc++
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
PKGNAME =		lostpixels-${V}
a24 1
			::audio/libogg				\
d39 2
a40 1
	@@perl -pi -e 's,make,${MAKE},g ; s,/usr/local,\$$\{PREFIX},g' \
d46 1
a46 1
	cd ${WRKDIST}/../addons && $(MAKE) all
d50 1
a50 1
	cd ${WRKDIST}/../addons && $(MAKE) install
@


1.1.1.1
log
@You are Agent Kate, one of the agents of the secret BlinkenArea special
forces, also called the "BlinkenSisters". You have just been assigned to
the following mission...

From the mission briefing:

An accident in the secret high-energy BlinkenArea lab has transfered
irreplaceable self-powered pixel hardware to various, random locations
in another dimension.

Your goal, Agent Kate, is to locate that hardware. We have fitted you
with an automated scanner/transmitter that will automatically transfer
the pixels back to the lab when you're close to it.

Beware that in dimension B15, while beeing still on earth, the scale of
things will differ from what you expect. Also, B15 is known to be home
to strange creatures that may pose a threat to you.

As soon as you have collected all pieces of hardware in one location,
you can be transfered to the next location.

Good luck, Agent Kate! 

---
looked at, and "its fun" from landry@@ and jasper@@
@
text
@@
