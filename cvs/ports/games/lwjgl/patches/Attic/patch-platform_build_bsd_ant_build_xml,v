head	1.3;
access;
symbols
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	abieber_20140930:1.1.1.1
	abieber:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2016.03.02.14.42.08;	author abieber;	state dead;
branches;
next	1.2;
commitid	jdQsfpAmjjeOsL4J;

1.2
date	2014.10.03.15.30.42;	author sthen;	state Exp;
branches;
next	1.1;
commitid	L96Lh0bARYHq1W8a;

1.1
date	2014.09.30.17.44.48;	author abieber;	state Exp;
branches
	1.1.1.1;
next	;
commitid	CzhH90HACCMqIFt3;

1.1.1.1
date	2014.09.30.17.44.48;	author abieber;	state Exp;
branches;
next	;
commitid	CzhH90HACCMqIFt3;


desc
@@


1.3
log
@Update to 2.9.3, all our patches were pulled in upstream! Re-enable i386.

Played minecraft on a CR48 at about 2 frames per second!

OK sthen@@
@
text
@$OpenBSD: patch-platform_build_bsd_ant_build_xml,v 1.2 2014/10/03 15:30:42 sthen Exp $
--- platform_build/bsd_ant/build.xml.orig	Mon Dec  2 19:50:04 2013
+++ platform_build/bsd_ant/build.xml	Fri Oct  3 16:29:31 2014
@@@@ -4,8 +4,8 @@@@
 	<property name="native" location="../../src/native"/>
 	<property name="libname32" value="liblwjgl.so"/>
 	<property name="libname64" value="liblwjgl64.so"/>
-    <property name="libs32" value="-L/usr/local/lib -lm -lX11 -lXext -lXcursor -lXrandr -pthread -L${java.home}/lib/i386 -ljawt" />
-    <property name="libs64" value="-L/usr/local/lib -lm -lX11 -lXext -lXcursor -lXrandr -lXxf86vm -pthread -L${java.home}/lib/amd64 -ljawt" />
+    <property name="libs32" value="-L/usr/X11R6/lib -lm -lX11 -lXext -lXcursor -lXrandr -pthread -L${java.home}/lib/i386 -ljawt" />
+    <property name="libs64" value="-L/usr/X11R6/lib -lm -lX11 -lXext -lXcursor -lXrandr -lXxf86vm -pthread -L${java.home}/lib/amd64 -ljawt" />
     <property name="cflags32" value="-O2 -Wall -c -fPIC -std=c99 -Wunused"/>
 
 	<target name="clean">
@@@@ -57,6 +57,14 @@@@
             </and>
         </condition>
 
+    	<!-- On OpenBSD, the 64 bit jre doesn't have the 32 bit libs -->
+    	<condition property="build.64bit.only">
+            <and>
+                <os name="OpenBSD"/>
+                <equals arg1="${hwplatform}" arg2="amd64"/>
+            </and>
+        </condition>
+
     	<antcall target="compile32"/>
     	<antcall target="compile64"/>
     </target>
@@@@ -67,9 +75,12 @@@@
 			<arg line="${cflags32} ${cflags_pthread}"/>
 			<arg value="-I${java.home}/include"/>
 			<arg value="-I${java.home}/include/freebsd"/>
+			<arg value="-I${java.home}/include/openbsd"/>
 			<arg value="-I${java.home}/../include"/>
 			<arg value="-I${java.home}/../include/freebsd"/>
+			<arg value="-I${java.home}/../include/openbsd"/>
 			<arg value="-I/usr/local/include"/>
+			<arg value="-I/usr/X11R6/include"/>
 			<arg value="-I${native}/common"/>
 		    <arg value="-I${native}/common/opengl"/>
 			<arg value="-I${native}/linux"/>
@@@@ -99,9 +110,12 @@@@
 			<arg line="${cflags64} ${cflags_pthread}"/>
 			<arg value="-I${java.home}/include"/>
 			<arg value="-I${java.home}/include/freebsd"/>
+			<arg value="-I${java.home}/include/openbsd"/>
 			<arg value="-I${java.home}/../include"/>
 			<arg value="-I${java.home}/../include/freebsd"/>
+			<arg value="-I${java.home}/../include/openbsd"/>
             <arg value="-I/usr/local/include"/>
+            <arg value="-I/usr/X11R6/include"/>
             <arg value="-I${native}/common"/>
 		    <arg value="-I${native}/common/opengl"/>
 			<arg value="-I${native}/linux"/>
@


1.2
log
@copy -I/usr/X11R6/include from compile64 to compile32
@
text
@d1 1
a1 1
$OpenBSD: patch-platform_build_bsd_ant_build_xml,v 1.1.1.1 2014/09/30 17:44:48 abieber Exp $
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- platform_build/bsd_ant/build.xml.orig	Mon Dec  2 12:50:04 2013
+++ platform_build/bsd_ant/build.xml	Mon Sep 29 13:37:33 2014
d30 1
a30 1
@@@@ -67,8 +75,10 @@@@
d39 1
d42 2
a43 1
@@@@ -99,9 +109,12 @@@@
@


1.1.1.1
log
@Initial import of lwjgl, a java game development library. This is required
for games like Minecraft.

Next release the patches can probably be removed as they were submitted
and merged with upstream: https://github.com/LWJGL/lwjgl/pull/54

OK sthen@@
@
text
@@
