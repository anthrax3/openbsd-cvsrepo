head	1.2;
access;
symbols
	OPENBSD_6_0:1.1.1.1.0.18
	OPENBSD_6_0_BASE:1.1.1.1
	OPENBSD_5_9:1.1.1.1.0.14
	OPENBSD_5_9_BASE:1.1.1.1
	OPENBSD_5_8:1.1.1.1.0.16
	OPENBSD_5_8_BASE:1.1.1.1
	OPENBSD_5_7:1.1.1.1.0.12
	OPENBSD_5_7_BASE:1.1.1.1
	OPENBSD_5_6:1.1.1.1.0.10
	OPENBSD_5_6_BASE:1.1.1.1
	OPENBSD_5_5:1.1.1.1.0.8
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.6
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.4
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.2
	OPENBSD_5_2_BASE:1.1.1.1
	rfreeman_20120717:1.1.1.1
	rfreeman:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2016.08.20.05.16.02;	author bentley;	state Exp;
branches;
next	1.1;
commitid	3uoSk2KTrHbElRrf;

1.1
date	2012.07.17.21.29.50;	author rfreeman;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.07.17.21.29.50;	author rfreeman;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to eduke32-2.0.0.5775.

From Ryan Freeman (maintainer).
@
text
@$OpenBSD$
--- Makefile.common.orig	Sat Jun  4 22:46:28 2016
+++ Makefile.common	Fri Aug 19 22:49:13 2016
@@@@ -28,14 +20,6 @@@@ PKG_CONFIG=pkg-config
 DONT_PRINT = > /dev/null 2>&1
 DONT_FAIL = ; exit 0
 
-# Override defaults that absolutely will not work.
-ifeq ($(CC),cc)
-    override CC=gcc
-endif
-ifeq ($(AS),as)
-    override AS=nasm
-endif
-
 COBJC=$(CC) -x objective-c
 COBJCXX=$(CXX) -x objective-c++
 L_CC=$(CC)
@@@@ -283,14 +267,9 @@@@ GUI_LIBS=
 LIBDIRS=
 
 ifeq (1,$(strip $(shell expr $(GCC_MAJOR) \>= 4)))
-    F_NO_STACK_PROTECTOR := -fno-stack-protector
-    # there are some link-time issues with stack protectors, so make it possible to override
-    F_STACK_PROTECTOR_ALL ?= -fstack-protector-all
     ifeq (0,$(CLANG))
         F_JUMP_TABLES := -fjump-tables
     endif
-    M_TUNE_GENERIC := -mtune=generic
-    M_STACKREALIGN := -mstackrealign
 endif
 
 W_STRICT_OVERFLOW := -Wno-strict-overflow
@@@@ -663,10 +642,6 @@@@ DLLSUFFIX=.so
 
 SDL_TARGET ?= 2
 SDL_FRAMEWORK ?= 0
-
-ifeq (1,$(strip $(shell expr $(GCC_MAJOR) \>= 4)))
-    L_SSP := -lssp
-endif
 
 # ifeq (1,$(strip $(shell expr $(GCC_MAJOR) \>= 5)))
 #     ifneq (0,$(LTO))
@


1.1
log
@Initial revision
@
text
@d2 5
a6 6

Use default optimisation options.

--- Makefile.common.orig	Fri Mar  9 06:15:40 2012
+++ Makefile.common	Fri Mar  9 06:16:13 2012
@@@@ -89,7 +89,6 @@@@ endif
d8 20
a27 5
 ifneq (0,$(RELEASE))
     # Debugging disabled
-    debug+= -O$(OPTLEVEL)
     ifneq ($(CC),clang)
         debug+= -funswitch-loops
d29 16
@


1.1.1.1
log
@Import eduke32.

eduke32 is an advanced Duke Nukem 3D engine capable of playing
the game, and filled to the brim with editing enhancements.
Includes mapster32, a map-making program similar to the original
build map editor.

ok jasper@@, edd@@
@
text
@@
