head	1.9;
access;
symbols
	OPENBSD_6_1:1.9.0.10
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.9.0.8
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.4
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.6
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.9.0.2
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.7.0.4
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	bentley_20130201:1.1.1.1
	bentley:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2014.08.21.00.49.16;	author bentley;	state Exp;
branches;
next	1.8;
commitid	yfRncgWN1NhW99Lj;

1.8
date	2014.08.10.09.58.05;	author espie;	state Exp;
branches;
next	1.7;
commitid	jyyOLTDxRdjpw44n;

1.7
date	2014.01.01.06.43.05;	author bentley;	state Exp;
branches;
next	1.6;

1.6
date	2013.06.04.18.41.44;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2013.05.10.20.30.31;	author rpe;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.17.00.54.18;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.11.11.07.40;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2013.02.02.08.14.49;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.02.02.03.09.08;	author bentley;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.02.02.03.09.08;	author bentley;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Update to renpy-6.17.7.

Release announcement: http://www.renpy.org/release/6.17
@
text
@# $OpenBSD: Makefile,v 1.8 2014/08/10 09:58:05 espie Exp $

COMMENT =		visual novel engine

V =			6.17.7
MODPY_EGG_VERSION =	${V}.521
DISTNAME =		renpy-${V}-source
PKGNAME =		${DISTNAME:S/-source//}

CATEGORIES =		games

HOMEPAGE =		http://www.renpy.org/

# mostly MIT, some files LGPLv2.1+
PERMIT_PACKAGE_CDROM =		Yes

WANTLIB +=		GLEW SDL avcodec avformat avresample avutil freetype fribidi
WANTLIB +=		m png pthread swscale z ${MODPY_WANTLIB}

MASTER_SITES =		http://www.renpy.org/dl/${V}/
EXTRACT_SUFX =		.tar.bz2

MODULES =		lang/python
BUILD_DEPENDS =		devel/pygame \
			lang/cython
RUN_DEPENDS =		devel/pygame \
			x11/gnome/zenity
LIB_DEPENDS =		devel/fribidi \
			graphics/ffmpeg>=20131216p0 \
			graphics/glew

MAKE_ENV =		RENPY_DEPS_INSTALL=/usr::${LOCALBASE}::${X11BASE}

NO_TEST =		Yes

WRKSRC =		${WRKDIST}/module

MODPY_ADJ_FILES =	../renpy.py

pre-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/renpy
	cd ${WRKDIST} && \
	cp -r launcher renpy templates the_question tutorial LICENSE.txt \
		${PREFIX}/share/renpy
	${INSTALL_SCRIPT} ${WRKDIST}/renpy.py ${PREFIX}/share/renpy
	${SUBST_PROGRAM} ${FILESDIR}/renpy ${PREFIX}/bin/renpy

.include <bsd.port.mk>
@


1.8
log
@use more specific version of SUBST_* where appropriate
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2014/01/01 06:43:05 bentley Exp $
d5 2
a6 2
V =			6.16.5
MODPY_EGG_VERSION =	${V}.525
d24 2
a25 1
BUILD_DEPENDS =		devel/pygame
@


1.7
log
@Update to renpy-6.16.5.

Thanks to Brad for looking into and fixing runtime issues with ffmpeg.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/06/04 18:41:44 naddy Exp $
d45 1
a45 2
	${SUBST_CMD} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} -c \
		${FILESDIR}/renpy ${PREFIX}/bin/renpy
@


1.6
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/05/10 20:30:31 rpe Exp $
d5 2
a6 2
V =			6.14.1
MODPY_EGG_VERSION =	${V}.366
a8 1
REVISION =		1
d17 2
a18 2
WANTLIB +=		GLEW SDL avcodec avformat avutil freetype fribidi m
WANTLIB +=		png pthread ${MODPY_WANTLIB} swscale z
d28 1
a28 1
			graphics/ffmpeg \
a39 1
	rm ${WRKDIST}/launcher/game/project.rpy.orig
d42 1
a42 1
	cp -r launcher renpy common template the_question tutorial LICENSE.txt \
@


1.5
log
@Use -m mode with ${SUBST_CMD} instead of two-step process
SUBST_CMD / chmod. Replace -o root -g bin with -o ${BINOWN}
and -g ${BINGRP}.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/03/17 00:54:18 brad Exp $
d32 1
a32 2
MAKE_ENV =		RENPY_DEPS_INSTALL=/usr::${LOCALBASE}::${X11BASE} \
			CPPFLAGS="${CPPFLAGS} -I${LOCALBASE}/include/libpng"
@


1.4
log
@Remove unused code which trips up build with newer FFmpeg and fix API usage.

ok bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 11:07:40 espie Exp $
d48 2
a49 2
	${SUBST_CMD} -o root -g bin -c ${FILESDIR}/renpy ${PREFIX}/bin/renpy
	chmod ${BINMODE} ${PREFIX}/bin/renpy
@


1.3
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/02/02 08:14:49 ajacoutot Exp $
d9 1
a9 1
REVISION =		0
@


1.2
log
@Make use of MODPY_EGG_VERSION.
Do not hardcode python lib in WANTLIB, use MODPY_WANTLIB.
MODPY_BIN is already part of SUBST_VARS by default.
Unbreak runtime: MODPYTHON_BIN -> MODPY_BIN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/02/02 03:09:08 bentley Exp $
a16 3
PERMIT_PACKAGE_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
d35 1
a35 1
NO_REGRESS =		Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.61 2012/03/29 13:41:58 sthen Exp $
d6 1
d9 1
d22 1
a22 1
WANTLIB +=		png pthread python2.7 swscale z
a42 1
SUBST_VARS +=		MODPY_BIN
@


1.1.1.1
log
@Import renpy-6.14.1.

Ren'Py is a free and cross platform engine for digital storytelling. It
makes it easy to combine words, images, and sounds to create visual
novels and life simulation games.

ok benoit@@
@
text
@@
