head	1.23;
access;
symbols
	OPENBSD_4_9:1.22.0.2
	OPENBSD_4_9_BASE:1.22
	OPENBSD_4_8:1.16.0.2
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.15.0.2
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.11.0.2
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.10.0.2
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.8.0.2
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	msf_20070523:1.1.1.1
	msf:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2011.05.30.09.16.22;	author landry;	state dead;
branches;
next	1.22;

1.22
date	2011.02.09.10.20.16;	author landry;	state Exp;
branches;
next	1.21;

1.21
date	2011.01.06.16.46.42;	author landry;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.22.10.16.08;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.11.16.11.23.28;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.11.08.23.12.32;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.10.18.18.00.19;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.03.21.12.19.00;	author landry;	state Exp;
branches;
next	1.15;

1.15
date	2009.12.22.16.28.01;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.08.10.06.31.43;	author kili;	state Exp;
branches;
next	1.13;

1.13
date	2009.07.26.18.43.18;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2009.07.21.19.16.49;	author landry;	state Exp;
branches;
next	1.11;

1.11
date	2009.04.26.12.31.49;	author landry;	state Exp;
branches;
next	1.10;

1.10
date	2008.10.04.19.17.27;	author landry;	state Exp;
branches;
next	1.9;

1.9
date	2008.10.01.11.24.07;	author landry;	state Exp;
branches;
next	1.8;

1.8
date	2008.07.25.20.52.50;	author martynas;	state Exp;
branches;
next	1.7;

1.7
date	2008.06.08.16.10.40;	author landry;	state Exp;
branches;
next	1.6;

1.6
date	2008.05.30.11.40.24;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2008.05.28.18.44.32;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2007.12.15.22.37.36;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.15.18.01.03;	author simon;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.22.20.49.01;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.22.18.31.33;	author msf;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.05.22.18.31.33;	author msf;	state Exp;
branches;
next	;


desc
@@


1.23
log
@Remove wormux, it's been superseded by/renamed to warmux.
@
text
@# $OpenBSD: Makefile,v 1.22 2011/02/09 10:20:16 landry Exp $

COMMENT=		free software clone of Worms(R) game concept

DISTNAME=		wormux-0.9.2.1
CATEGORIES=		games

HOMEPAGE=		http://wormux.org

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		SDL X11 c m png pthread stdc++ SDL_gfx SDL_image \
			SDL_mixer SDL_net SDL_ttf curl>=5 xml2

MASTER_SITES=		http://download.gna.org/warmux/ \
			http://download.gna.org/warmux/archive/
EXTRACT_SUFX=		.tar.bz2

RUN_DEPENDS=		devel/desktop-file-utils
LIB_DEPENDS=		devel/sdl-gfx \
			devel/sdl-image \
			devel/sdl-mixer \
			devel/sdl-net \
			devel/sdl-ttf \
			net/curl \
			textproc/libxml

MODULES=		devel/gettext
CONFIGURE_STYLE=	gnu
CONFIGURE_ENV+= 	CPPFLAGS="-I${LOCALBASE}/include -DSIZE_T_FIXEDPOINT_METHODS ${CFLAGS}" \
			LDFLAGS="-L${LOCALBASE}/lib" \
			MKDIR_P='mkdir -p'
CONFIGURE_ARGS+=	--enable-servers
USE_GROFF =		Yes

.include <bsd.port.mk>
@


1.22
log
@Add http://download.gna.org/warmux/archive/ to MASTER_SITES so that
files are always fetchable, even when new versions are published and the
old version is moved to archive/
Fetch breakage reported by Pascal Stumpf on ports@@
Suggestion to add archive url to MASTER_SITES from phessler@@
ok phessler@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/01/06 16:46:42 landry Exp $
@


1.21
log
@Update to wormux 0.9.2.1 from Vadim Zhukov with a MASTER_SITES fix from
myself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/22 10:16:08 espie Exp $
d18 2
a19 1
MASTER_SITES=		http://download.gna.org/warmux/
@


1.20
log
@remaining WANTLIB go .>=   to >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/11/16 11:23:28 espie Exp $
d5 1
a5 1
DISTNAME=		wormux-0.9.0
d18 1
a18 1
MASTER_SITES=		http://download.gna.org/wormux/
d32 1
a32 1
CONFIGURE_ENV+= 	CPPFLAGS="-I${LOCALBASE}/include ${CFLAGS}" \
a36 3

post-extract:
	rm -Rf ${WRKSRC}/data/locale
@


1.19
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/11/08 23:12:32 espie Exp $
d16 1
a16 1
			SDL_mixer SDL_net SDL_ttf curl.>=5 xml2
@


1.18
log
@old-style LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/10/18 18:00:19 espie Exp $
d21 8
a28 8
RUN_DEPENDS=		:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS=		::devel/sdl-gfx \
			::devel/sdl-image \
			::devel/sdl-mixer \
			::devel/sdl-net \
			::devel/sdl-ttf \
			::net/curl \
			::textproc/libxml
d36 1
a36 1
USE_GROFF =	Yes
@


1.17
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/03/21 12:19:00 landry Exp $
d15 2
a16 1
WANTLIB=		SDL X11 c m png pthread stdc++
d22 7
a28 7
LIB_DEPENDS=		SDL_gfx::devel/sdl-gfx \
			SDL_image::devel/sdl-image \
			SDL_mixer::devel/sdl-mixer \
			SDL_net::devel/sdl-net \
			SDL_ttf::devel/sdl-ttf \
			curl.>=5::net/curl \
			xml2::textproc/libxml
@


1.16
log
@Update to wormux 0.9.0, similar diff from Daniel Levai on ports@@ some
times ago. Beware that networked games with older wormux versions are
not supported.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/12/22 16:28:01 ajacoutot Exp $
d35 1
@


1.15
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/08/10 06:31:43 kili Exp $
d5 1
a5 2
DISTNAME=		wormux-0.8.4
PKGNAME=		${DISTNAME}p1
d15 1
a15 2
WANTLIB=		SDL X11 c crypto idn m png pthread pthread-stubs ssl \
			stdc++ xcb z
d34 1
@


1.14
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/07/26 18:43:18 naddy Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.13
log
@force use of "mkdir -p" over "install-sh -d", because the latter errors out
if the directory already exists
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/07/21 19:16:49 landry Exp $
d6 1
d16 2
a17 1
WANTLIB=		SDL X11 c crypto idn m png pthread ssl stdc++ z
@


1.12
log
@Update to wormux 0.8.4, this release fixes various bugs, updates
some translations and sounds, and most of all adds a dedicated
network game server. See website for hints on how to use/configure it.
Remove now unneeded build_dep on automake-1.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/04/26 12:31:49 landry Exp $
d32 2
a33 1
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.11
log
@Update to wormux 0.8.3. Tested by myself & dbd.
'diff looks good so if it works, ok' ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/10/04 19:17:27 landry Exp $
d5 1
a5 1
DISTNAME=		wormux-0.8.3
a28 2
BUILD_DEPENDS=		::devel/automake/1.9

d34 3
a36 3
pre-fake:
	# the provided script is broken
	cp ${LOCALBASE}/share/automake-1.9/install-sh ${WRKSRC}
@


1.10
log
@For an obscure reason, this doesn't package anymore. Overwrite the broken
install-sh script by the one provided by automake 1.9 as a temporary
workaround. Didn't build, hence no bump.. spotted by sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/10/01 11:24:07 landry Exp $
d5 1
a5 1
DISTNAME=		wormux-0.8.1
@


1.9
log
@Update to wormux 0.8.1.
All previous patches integrated upstream, and newer patches already
commited in svn too. see http://gna.org/bugs/?11751, 11754 and 12340.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/07/25 20:52:50 martynas Exp $
d29 2
d36 3
@


1.8
log
@there are proper isnan, isinf, NAN definitions, so this will just
work.  ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/06/08 16:10:40 landry Exp $
d5 1
a5 2
DISTNAME=		wormux-0.8
PKGNAME=		${DISTNAME}p2
@


1.7
log
@Update a cherry-picked patch from ustream svn to finally fix nicely
https://gna.org/bugs/?11751

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/05/30 11:40:24 landry Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
@


1.6
log
@Backport a patch from svn r4546 to fix a crash when sound device is busy,
cf https://gna.org/bugs/index.php?11754

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/05/28 18:44:32 landry Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.5
log
@Update to wormux 0.8, this release adds network play feature.

Rework the way we deal with #define NAN, discussed with upstream.
patch-src_tool_math_tools_h and patch-src_network_network_cpp are already
integrated upstream, and a bug has been reported to integrate
patch-src_map_tileitem_cpp.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/12/15 22:37:36 ajacoutot Exp $
d6 1
@


1.4
log
@- add update-desktop-database goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/09/15 18:01:03 simon Exp $
d5 1
a5 2
DISTNAME=		wormux-0.7.9
PKGNAME=		${DISTNAME}p1
d10 1
a10 1
# GPL
d15 1
a15 2
WANTLIB=		SDL X11 Xext c crypto glib-2.0 glibmm-2.4 gobject-2.0 \
			idn m pthread sigc-2.0 ssl stdc++ usbhid xml2 z
d18 1
d27 1
a27 1
			xml++-2.6::textproc/libxml++
a32 3

post-extract:
	@@cp ${FILESDIR}/openbsd.h ${WRKSRC}/src/include/
@


1.3
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/05/22 20:49:01 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d21 1
@


1.2
log
@- fix WANTLIB (add MODULES=devel/gettext)
- respect CFLAGS and don't force optimizations
- regen PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/05/22 18:31:33 msf Exp $
d3 1
a3 1
COMMENT=		"free software clone of Worms(R) game concept"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d17 1
a17 2
			iconv idn intl m pthread sigc-2.0 ssl stdc++ usbhid \
			xml2 z
d29 1
d31 1
a31 1
CONFIGURE_ENV+= 	CPPFLAGS="-I${LOCALBASE}/include" \
@


1.1.1.1
log
@initial import of wormux 0.7.9

Have the mascots of your favorite free software battle in the Wormux
arena. Using dynamite, grenades, baseball bat and others bazookas,...
exterminate your opponent in a 2D toon style scenery and a funny
environment.

ok jasper@@
@
text
@@
