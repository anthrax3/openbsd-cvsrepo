head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.8
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2014.09.13.08.18.23;	author jsg;	state Exp;
branches;
next	1.1;
commitid	YGiHZzfuAljxTfoH;

1.1
date	2014.09.06.09.32.21;	author jsg;	state Exp;
branches;
next	;
commitid	JH3Kg01A6MFwA5Il;


desc
@@


1.2
log
@use the system cpuid.h
@
text
@$OpenBSD: patch-src_Engine_Zoom_cpp,v 1.1 2014/09/06 09:32:21 jsg Exp $
--- src/Engine/Zoom.cpp.orig	Sat Jun 14 05:35:59 2014
+++ src/Engine/Zoom.cpp	Sat Sep 13 17:45:37 2014
@@@@ -612,7 +612,7 @@@@ static int zoomSurface2X_SSE2(SDL_Surface *src, SDL_Su
  */
 bool Zoom::haveSSE2()
 {
-#ifdef __GNUC__
+#if defined(__GNUC__) && (defined(__i386__) || defined(__x86_64__))
 	unsigned int CPUInfo[4];
 	__get_cpuid(1, CPUInfo, CPUInfo+1, CPUInfo+2, CPUInfo+3);
 #elif _WIN32
@


1.1
log
@update to OpenXcom 1.0

with input from bcallah@@
earlier version ok jasper@@ kirby@@
@
text
@d1 3
a3 12
$OpenBSD$
--- src/Engine/Zoom.cpp.orig	Sat Sep  6 18:31:22 2014
+++ src/Engine/Zoom.cpp	Sat Sep  6 18:36:09 2014
@@@@ -49,7 +49,7 @@@@
 
 #ifdef __GNUC__
 #if (__i386__ || __x86_64__)
-#include <cpuid.h>
+#include "../cpuid.h"
 #endif
 #endif
 
@

