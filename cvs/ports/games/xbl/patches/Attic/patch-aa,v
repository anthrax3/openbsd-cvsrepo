head	1.5;
access;
symbols
	OPENBSD_2_6:1.3.0.2
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	xbl:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2000.03.24.20.05.29;	author turan;	state dead;
branches;
next	1.4;

1.4
date	99.10.29.21.53.42;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.10.03.03.18.24;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.01.14.03.09.36;	author angelos;	state Exp;
branches;
next	1.1;

1.1
date	98.05.20.02.41.55;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.05.20.02.41.55;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.5
log
@- reorder patches
- force install in local instead X11R6
- fix packing lists
@
text
@--- Makefile.in.orig	Thu Nov 12 16:57:13 1998
+++ Makefile.in	Thu Oct 21 20:18:37 1999
@@@@ -14,7 +14,7 @@@@
 USE_SETGID=-DUSE_SETGID
 
 # group owner of games file
-GROUP_GID=2
+GROUP_GID=13
 
 ###########################################################################
 # You don't need to read below if you have xmkmf or imake
@@@@ -29,26 +29,26 @@@@
 # Directory who contain X Resource Database
 # The default value if overrided by configure if xmkmf or imake exists.
 #
-RESOURCEDIR=/usr/lib/X11/app-defaults
+RESOURCEDIR=$(X11BASE)/lib/X11/app-defaults
 @@XAPPLOADDIR@@
 
 # Directory where install binary
 # The default value if overrided by configure if xmkmf or imake exists.
 #
-BINDIR=/usr/local/bin
+BINDIR=$(PREFIX)/bin
 @@BINDIR@@
 
 # Directory who contain score
 # Put your HOME if you have a private use of the game
 # The default value if overrided by configure if xmkmf or imake exists.
 #
-SCOREDIR=/usr/local/lib/xbl
+SCOREDIR=$(PREFIX)/lib/xbl
 @@SCOREDIR@@
 
 # Directory where put man pages.
 # The default value if overrided by configure if xmkmf or imake exists.
 #
-MANPATH=/usr/local/man
+MANPATH=$(PREFIX)/man
 @@MANPATH@@
 
 ###########################################################################
@@@@ -82,9 +82,9 @@@@
 
 # For linking (configure script will modify this line)
 # xmkmf et imake informations are take into account.
-LIBS = @@LIBS@@ -lm
+LIBS = @@LIBS@@ -lm -lcompat
 
-all:demo
+all:bl
 
 XBLVERSION=1.0j
 XBL=xbl-$(XBLVERSION)
@@@@ -93,7 +93,8 @@@@
 	 -DRESOURCEDIR=\"$(RESOURCEDIR)\" \
 	 -DXBLVERSION=\"$(XBLVERSION)\" \
 	 -DGROUP_GID=$(GROUP_GID) \
-	  $(USE_SETGID) @@DEFS@@ -g
+	 -I${X11BASE}/include \
+	  $(USE_SETGID) @@DEFS@@ @@CFLAGS@@
 # For link edit options
 LDOPTIONS=$(CFLAGS)
 LDOPTIONS=@@LDOPTIONS@@
@@@@ -123,29 +124,24 @@@@
 	@@echo "Executable go in $(BINDIR)"
 	@@echo "Scores     go in $(SCOREDIR)"
 	@@echo "Defaults   go in $(RESOURCEDIR)/Xbl"
-	@@echo "Man pages  go in $(MANPATH)/mann or man1"
+	@@echo "Man pages  go in $(MANPATH)/man1"
 	@@-if [ "" != "$(USE_SETGID)" ] ; then \
 		echo "You use GID=$(GROUP_GID) protection" ; \
 		fi
-	@@echo "Type <Return> to continue installation"
-	@@echo "Type NO       to stop installation"
-	@@read LINE && test "" = "$$LINE"
+#	@@echo "Type <Return> to continue installation"
+#	@@echo "Type NO       to stop installation"
+#	@@read LINE && test "" = "$$LINE"
 	#
 	# Remove old score file
 	#
 	@@-if [ -d "$(SCOREDIR)" ] ; \
 		then \
-		echo "The scoring method and speeds of Xbl had change" ; \
-		echo "If your version is older than 0.2e, destroy score." ; \
-		echo "Type <Return> to destroy old score files" ; \
-		echo "Type NO       to hold old score files" ; \
-		read LINE && test "" = "$$LINE" && rm $(SCOREDIR)/[1-9]* ; \
-		exit 0 ; \
+		rm $(SCOREDIR)/[1-9]* ; \
 		fi
 	#
 	# Install executable
 	#
-	$(CP) bl $(BINDIR)/xbl	
+	$(BSD_INSTALL_PROGRAM) bl $(BINDIR)/xbl	
 	-if [ "" = "$(USE_SETGID)" ] ; then \
 	     chmod 755  $(BINDIR)/xbl ;\
 	   else \
@@@@ -172,17 +168,11 @@@@
 	#
 	# Install manual pages
 	#
-	-if [ -d $(MANPATH)/mann ] ; \
-		then \
-		$(CP) xbl.man $(MANPATH)/mann/xbl.n ;\
-		chmod 444 $(MANPATH)/mann/xbl.n ; \
-	   else \
-		$(CP) xbl.man $(MANPATH)/man1/xbl.1 ;\
-		chmod 444 $(MANPATH)/man1/xbl.1 ; \
-		fi
+	$(CP) xbl.man $(MANPATH)/man1/xbl.1 ;\
+	chmod 444 $(MANPATH)/man1/xbl.1 ; \
 	cp *.gif *.html $(SCOREDIR)
 	#
-	-ls -lsa $(SCOREDIR) $(BINDIR)/xbl $(MANPATH)/man[1n]/xbl.[1n]
+	-ls -lsa $(SCOREDIR) $(BINDIR)/xbl $(MANPATH)/man1/xbl.1
 	@@echo "Type xbl to play"
 
 bl:$(OBJ)
@


1.4
log
@- patch header path into Makefile
- remove anything todo with mann dir from Makefile
@
text
@@


1.3
log
@- cleanup Makefile
- correct installation path of man page
@
text
@d2 1
a2 1
+++ Makefile.in	Sat Oct  2 23:10:10 1999
d55 1
a55 1
@@@@ -93,7 +93,7 @@@@
d60 1
d65 6
a70 1
@@@@ -127,25 +127,20 @@@@
d101 1
a101 1
@@@@ -172,14 +167,8 @@@@
d117 5
a121 1
 	-ls -lsa $(SCOREDIR) $(BINDIR)/xbl $(MANPATH)/man[1n]/xbl.[1n]
@


1.2
log
@Update to 1.0j
@
text
@d1 2
a2 2
--- Makefile.in.orig	Thu Nov 12 22:57:13 1998
+++ Makefile.in	Tue Dec  1 09:12:18 1998
d43 1
a43 1
@@@@ -82,7 +82,7 @@@@
d50 2
a51 1
 all:demo
d53 2
d95 17
@


1.1
log
@Initial revision
@
text
@d1 91
a91 129
*** Makefile.in.orig	Sun Jan 12 14:03:54 1997
--- Makefile.in	Sat Mar 21 01:46:43 1998
***************
*** 14,20 ****
  USE_SETGID=-DUSE_SETGID
  
  # group owner of games file
! GROUP_GID=2
  
  ###########################################################################
  # You don't need to read below if you have xmkmf or imake
--- 14,20 ----
  USE_SETGID=-DUSE_SETGID
  
  # group owner of games file
! GROUP_GID=13
  
  ###########################################################################
  # You don't need to read below if you have xmkmf or imake
***************
*** 29,54 ****
  # Directory who contain X Resource Database
  # The default value if overrided by configure if xmkmf or imake exists.
  #
! RESOURCEDIR=/usr/lib/X11/app-defaults
  @@XAPPLOADDIR@@
  
  # Directory where install binary
  # The default value if overrided by configure if xmkmf or imake exists.
  #
! BINDIR=/usr/local/bin
  @@BINDIR@@
  
  # Directory who contain score
  # Put your HOME if you have a private use of the game
  # The default value if overrided by configure if xmkmf or imake exists.
  #
! SCOREDIR=/usr/local/lib/xbl
  @@SCOREDIR@@
  
  # Directory where put man pages.
  # The default value if overrided by configure if xmkmf or imake exists.
  #
! MANPATH=/usr/local/man
  @@MANPATH@@
  
  ###########################################################################
--- 29,54 ----
  # Directory who contain X Resource Database
  # The default value if overrided by configure if xmkmf or imake exists.
  #
! RESOURCEDIR=$(X11BASE)/lib/X11/app-defaults
  @@XAPPLOADDIR@@
  
  # Directory where install binary
  # The default value if overrided by configure if xmkmf or imake exists.
  #
! BINDIR=$(PREFIX)/bin
  @@BINDIR@@
  
  # Directory who contain score
  # Put your HOME if you have a private use of the game
  # The default value if overrided by configure if xmkmf or imake exists.
  #
! SCOREDIR=$(PREFIX)/lib/xbl
  @@SCOREDIR@@
  
  # Directory where put man pages.
  # The default value if overrided by configure if xmkmf or imake exists.
  #
! MANPATH=$(PREFIX)/man
  @@MANPATH@@
  
  ###########################################################################
***************
*** 82,88 ****
  
  # For linking (configure script will modify this line)
  # xmkmf et imake informations are take into account.
! LIBS = @@LIBS@@ -lm
  
  all:demo
  
--- 82,88 ----
  
  # For linking (configure script will modify this line)
  # xmkmf et imake informations are take into account.
! LIBS = @@LIBS@@ -lm -lcompat
  
  all:demo
  
***************
*** 127,146 ****
  	@@-if [ "" != "$(USE_SETGID)" ] ; then \
  		echo "You use GID=$(GROUP_GID) protection" ; \
  		fi
! 	@@echo "Type <Return> to continue installation"
! 	@@echo "Type NO       to stop installation"
! 	@@read LINE && test "" = "$$LINE"
  	#
  	# Remove old score file
  	#
  	@@-if [ -d "$(SCOREDIR)" ] ; \
  		then \
! 		echo "The scoring method and speeds of Xbl had change" ; \
! 		echo "If your version is older than 0.2e, destroy score." ; \
! 		echo "Type <Return> to destroy old score files" ; \
! 		echo "Type NO       to hold old score files" ; \
! 		read LINE && test "" = "$$LINE" && rm $(SCOREDIR)/[1-9]* ; \
! 		exit 0 ; \
  		fi
  	#
  	# Install executable
--- 127,141 ----
  	@@-if [ "" != "$(USE_SETGID)" ] ; then \
  		echo "You use GID=$(GROUP_GID) protection" ; \
  		fi
! #	@@echo "Type <Return> to continue installation"
! #	@@echo "Type NO       to stop installation"
! #	@@read LINE && test "" = "$$LINE"
  	#
  	# Remove old score file
  	#
  	@@-if [ -d "$(SCOREDIR)" ] ; \
  		then \
! 		rm $(SCOREDIR)/[1-9]* ; \
  		fi
  	#
  	# Install executable
@


1.1.1.1
log
@xbl port
@
text
@@
