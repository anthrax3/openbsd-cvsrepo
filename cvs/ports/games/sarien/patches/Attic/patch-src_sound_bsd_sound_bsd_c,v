head	1.2;
access;
symbols
	OPENBSD_4_2:1.1.0.20
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.18
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.16
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.14
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.12
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.10
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.8
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.6
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.4
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.2
	OPENBSD_3_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2007.12.07.08.22.08;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2003.02.04.07.57.53;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- remove sarien; it has has merged with ScummVM (games/scummvm)
(and it is obviously not developed on its own anymore)

"no objections" steven@@
@
text
@$OpenBSD: patch-src_sound_bsd_sound_bsd_c,v 1.1 2003/02/04 07:57:53 espie Exp $
--- src/sound/bsd/sound_bsd.c.orig	Fri Jun 22 16:45:04 2001
+++ src/sound/bsd/sound_bsd.c	Tue Jan 21 04:00:59 2003
@@@@ -21,7 +21,7 @@@@
 #include <sys/ioctl.h>
 #include <sys/audioio.h>
 
-#include "typedef.h"
+#include "portdefs.h"
 #include "sound.h"
 
 static int bsd_init_sound (SINT16 *);
@@@@ -66,7 +66,7 @@@@ static int bsd_init_sound (SINT16 *b)
 	buffer = b;
 
 	if ((audio_fd = open ("/dev/audio", O_WRONLY)) < 0)
-		return err_Unk;
+		return -1;
 
 	AUDIO_INITINFO (&ainfo);
 	ainfo.play.sample_rate = 22050;
@@@@ -76,7 +76,7 @@@@ static int bsd_init_sound (SINT16 *b)
 	ainfo.play.buffer_size = 16384;
 
 	if (ioctl (audio_fd, AUDIO_SETINFO, &ainfo) == -1)
-		return err_Unk;
+		return -1;
 
 	report ("BSD sound driver written by claudio@@helllabs.org.\n");
 
@@@@ -85,7 +85,7 @@@@ static int bsd_init_sound (SINT16 *b)
 	pthread_create (&thread, NULL, sound_thread, NULL);
 	pthread_detach (thread);
 
-	return err_OK;
+	return 0;
 }
 
 
@


1.1
log
@make it compile again. Seems to at least start up with sound, looks
like timing is off a bit yet... thanks go to Patroklos G.Argyroudis
for help testing.
@
text
@d1 1
a1 1
$OpenBSD$
@

