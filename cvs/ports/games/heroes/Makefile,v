head	1.28;
access;
symbols
	OPENBSD_6_0:1.28.0.4
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.28.0.2
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.27.0.10
	OPENBSD_5_8_BASE:1.27
	OPENBSD_5_7:1.27.0.6
	OPENBSD_5_7_BASE:1.27
	OPENBSD_5_6:1.27.0.4
	OPENBSD_5_6_BASE:1.27
	OPENBSD_5_5:1.27.0.2
	OPENBSD_5_5_BASE:1.27
	OPENBSD_5_4:1.25.0.2
	OPENBSD_5_4_BASE:1.25
	OPENBSD_5_3:1.24.0.4
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.24.0.2
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.2
	OPENBSD_5_0:1.22.0.4
	OPENBSD_5_0_BASE:1.22
	OPENBSD_4_9:1.22.0.2
	OPENBSD_4_9_BASE:1.22
	OPENBSD_4_8:1.18.0.2
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.17.0.2
	OPENBSD_4_7_BASE:1.17
	OPENBSD_4_6:1.16.0.4
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.16.0.2
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.15.0.4
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.2
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.14.0.12
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.14.0.10
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.14.0.8
	OPENBSD_4_0_BASE:1.14
	OPENBSD_3_9:1.14.0.6
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.14.0.4
	OPENBSD_3_8_BASE:1.14
	OPENBSD_3_7:1.14.0.2
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.12.0.2
	OPENBSD_3_6_BASE:1.12
	OPENBSD_3_5:1.10.0.6
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.10.0.4
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.10.0.2
	OPENBSD_3_3_BASE:1.10
	OPENBSD_3_2:1.8.0.2
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.7.0.2
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	pvalchev_20010810:1.1.1.1
	pvalchev:1.1.1;
locks; strict;
comment	@# @;


1.28
date	2015.10.13.06.29.38;	author bentley;	state Exp;
branches;
next	1.27;
commitid	l20av95NAm02GYvb;

1.27
date	2013.10.11.23.49.37;	author naddy;	state Exp;
branches;
next	1.26;

1.26
date	2013.08.21.09.13.33;	author zhuk;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.11.11.07.39;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2012.03.29.13.38.30;	author sthen;	state Exp;
branches;
next	1.23;

1.23
date	2011.12.02.14.36.14;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.11.16.11.23.27;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.08.15.54.54;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.10.24.21.19.01;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.18.18.00.18;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.05.22.13.11.53;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2009.08.10.06.31.42;	author kili;	state Exp;
branches;
next	1.16;

1.16
date	2009.01.25.01.30.16;	author jakemsr;	state Exp;
branches;
next	1.15;

1.15
date	2007.09.15.18.01.01;	author simon;	state Exp;
branches;
next	1.14;

1.14
date	2005.01.17.09.01.27;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2004.11.28.22.41.18;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2004.08.12.22.46.45;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2004.08.10.10.36.36;	author xsa;	state Exp;
branches;
next	1.10;

1.10
date	2003.01.21.22.58.03;	author pvalchev;	state Exp;
branches;
next	1.9;

1.9
date	2002.12.29.15.10.08;	author fgsch;	state Exp;
branches;
next	1.8;

1.8
date	2002.05.13.18.50.43;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2001.12.28.22.40.09;	author pvalchev;	state Exp;
branches;
next	1.6;

1.6
date	2001.12.28.22.11.58;	author pvalchev;	state Exp;
branches;
next	1.5;

1.5
date	2001.09.28.06.02.13;	author pvalchev;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.23.06.57.14;	author pvalchev;	state Exp;
branches;
next	1.3;

1.3
date	2001.08.23.06.17.41;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2001.08.11.20.11.04;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.10.17.00.16;	author pvalchev;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.08.10.17.00.16;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.28
log
@Update maintainer email address.
@
text
@# $OpenBSD: Makefile,v 1.27 2013/10/11 23:49:37 naddy Exp $

COMMENT=	graphically improved game of yore

VERSION=	0.21
DATAVERSION=	1.5
SOUNDVERSION=	1.0
MUSICVERSION=	1.0
DISTNAME=	heroes-${VERSION}
REVISION =	4
CATEGORIES=	games x11

DISTFILES=	${DISTNAME}${EXTRACT_SUFX} \
		heroes-data-${DATAVERSION}${EXTRACT_SUFX} \
		heroes-sound-effects-${SOUNDVERSION}${EXTRACT_SUFX} \
		heroes-sound-tracks-${MUSICVERSION}${EXTRACT_SUFX}
DIST_SUBDIR=	heroes

HOMEPAGE=	http://heroes.sourceforge.net/

MAINTAINER=	Peter Valchev <pvalchev@@sightly.net>

PERMIT_PACKAGE_CDROM=   Yes
WANTLIB=	SDL SDL_mixer c m pthread

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=heroes/}

USE_GMAKE=	Yes

MODULES=	devel/gettext

LIB_DEPENDS=	devel/sdl \
		devel/sdl-mixer

CONFIGURE_ARGS= --disable-debug \
		--disable-optimizations \
		--with-sdl="${LOCALBASE}" \
		--without-ggi \
		--without-mikmod

SEPARATE_BUILD=	Yes
CONFIGURE_STYLE= gnu
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/tools
CONFIGURE_ENV+=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -lm -lintl -liconv" \
		ac_cv_header_io_h=no

post-install:
.for dir in levels pics tilesets
	${INSTALL_DATA_DIR} ${PREFIX}/share/heroes/${dir}
	${INSTALL_DATA} ${WRKDIR}/heroes-data-${DATAVERSION}/${dir}/* ${PREFIX}/share/heroes/${dir}
.endfor
	${INSTALL_DATA_DIR} ${PREFIX}/share/heroes/sfx
	${INSTALL_DATA} ${WRKDIR}/heroes-sound-effects-${SOUNDVERSION}/{*.wav,sfx.conf} ${PREFIX}/share/heroes/sfx
	${INSTALL_DATA_DIR} ${PREFIX}/share/heroes/mod
	${INSTALL_DATA} ${WRKDIR}/heroes-sound-tracks-${MUSICVERSION}/{*.xm,sound.conf} ${PREFIX}/share/heroes/mod

.include <bsd.port.mk>
@


1.27
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/08/21 09:13:33 zhuk Exp $
d10 1
a10 1
REVISION =	3
d21 1
a21 1
MAINTAINER=	Peter Valchev <pvalchev@@openbsd.org>
@


1.26
log
@Get rid of "ggi" FLAVOR for games/heroes: graphics/ggi was removed a year ago.

input from sthen@@, okay aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/11 11:07:39 espie Exp $
a28 1
USE_GROFF =	Yes
@


1.25
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/03/29 13:38:30 sthen Exp $
d10 1
a10 1
REVISION =	2
d24 1
a24 1
WANTLIB=		c m
d33 1
a33 13
FLAVORS=	sdl ggi
FLAVOR?=	sdl

.if empty(FLAVOR:Msdl) && empty(FLAVOR:Mggi)
ERRORS+=	"Fatal:	Must choose one flavor: sdl or ggi"
.endif

.if ${FLAVOR:Msdl} && ${FLAVOR:Mggi}
ERRORS+=	"Fatal: Choose only one flavor: sdl or ggi"
.endif

.if ${FLAVOR:Msdl}
LIB_DEPENDS +=	devel/sdl \
a34 1
WANTLIB +=	SDL SDL_mixer
d36 5
a40 17
CONFIGURE_ARGS+= --with-sdl="${LOCALBASE}"
WANTLIB +=	X11 Xext pthread pthread-stubs usbhid xcb
.else
CONFIGURE_ARGS+= --without-sdl --without-sdl-mixer
WANTLIB +=	gii
.endif

.if ${FLAVOR:Mggi}
# Sound support is disabled with the ggi flavor since it is dependent
# on sdl-mixer.  No alternatives for now.
LIB_DEPENDS +=	graphics/ggi
WANTLIB +=	ggi>=2.0
CONFIGURE_ARGS += --with-ggi="${LOCALBASE}"
FULLPKGNAME =	heroes-${VERSION}
.else
CONFIGURE_ARGS += --without-ggi
.endif
a47 3
CONFIGURE_ARGS+= --disable-optimizations \
		 --disable-debug \
		 --without-mikmod
@


1.24
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/12/02 14:36:14 espie Exp $
a23 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
@


1.23
log
@bye bye FLAVOR:L
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/11/16 11:23:27 espie Exp $
d70 1
a70 1
SEPARATE_BUILD=	concurrent
@


1.22
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/11/08 15:54:54 espie Exp $
d39 1
a39 1
.if empty(FLAVOR:L:Msdl) && empty(FLAVOR:L:Mggi)
d43 1
a43 1
.if ${FLAVOR:L:Msdl} && ${FLAVOR:L:Mggi}
d47 1
a47 1
.if ${FLAVOR:L:Msdl}
d59 1
a59 1
.if ${FLAVOR:L:Mggi}
@


1.21
log
@a few more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/10/24 21:19:01 ajacoutot Exp $
d48 2
a49 2
LIB_DEPENDS +=	::devel/sdl \
		::devel/sdl-mixer
d62 2
a63 2
LIB_DEPENDS +=	::graphics/ggi
WANTLIB +=	ggi.>=2.0
@


1.20
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/18 18:00:18 espie Exp $
d10 1
a10 1
PKGNAME=	${DISTNAME}p2
d48 3
a50 2
LIB_DEPENDS+=	SDL::devel/sdl \
		SDL_mixer::devel/sdl-mixer
d53 1
a53 1
WANTLIB+=	X11 Xext pthread pthread-stubs usbhid xcb
d56 1
a56 1
WANTLIB+=	gii
d62 4
a65 3
LIB_DEPENDS+=	ggi.2.0::graphics/ggi
CONFIGURE_ARGS+= --with-ggi="${LOCALBASE}"
PKGNAME=	heroes-${VERSION}p0
d67 1
a67 1
CONFIGURE_ARGS+= --without-ggi
@


1.19
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/05/22 13:11:53 espie Exp $
a30 1
USE_X11=	Yes
@


1.18
log
@... and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/08/10 06:31:42 kili Exp $
d33 1
@


1.17
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/01/25 01:30:16 jakemsr Exp $
d10 1
a10 1
PKGNAME=	${DISTNAME}p1
@


1.16
log
@use a larger audio buffer.
ok pvalchev
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/09/15 18:01:01 simon Exp $
d10 1
a10 1
PKGNAME=	${DISTNAME}p0
d52 1
a52 1
WANTLIB+=	X11 Xext pthread usbhid
@


1.15
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2005/01/17 09:01:27 espie Exp $
d10 1
@


1.14
log
@protect against libio
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/11/28 22:41:18 espie Exp $
d3 1
a3 1
COMMENT=	"graphically improved game of yore"
@


1.13
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/08/12 22:46:45 naddy Exp $
d71 2
a72 1
		LDFLAGS="-L${LOCALBASE}/lib -lm -lintl -liconv"
@


1.12
log
@libintl requires libiconv, too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/08/10 10:36:36 xsa Exp $
d26 1
d51 1
d54 1
d60 1
a60 1
LIB_DEPENDS+=	ggi.2.0:ggi-*:graphics/ggi
d62 1
@


1.11
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/01/21 22:58:03 pvalchev Exp $
d67 1
a67 1
		LDFLAGS="-L${LOCALBASE}/lib -lm -lintl"
@


1.10
log
@Update to heroes-0.21
XXX 2 of the regress tests fail, but that's not an issue - it appears
the author simply forgot to include them in the distribution
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/12/29 15:10:08 fgsch Exp $
d32 1
a32 1
MODULES=	gettext
@


1.9
log
@more NEED_VERSION removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/05/13 18:50:43 espie Exp $
d5 2
a6 2
VERSION=	0.12
DATAVERSION=	1.3
a58 1
CONFIGURE_ENV+=	LIBS="-pthread"
d67 1
a67 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.8
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/12/28 22:40:09 pvalchev Exp $
a10 1
NEED_VERSION=	1.433
@


1.7
log
@Repair sdl-image and sdl-mixer lib depends after recent updates containing
shlib changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/12/28 22:11:58 pvalchev Exp $
d28 1
a28 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR= heroes
@


1.6
log
@change SDL dependency entries to simply match latest in-tree version, any flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/09/28 06:02:13 pvalchev Exp $
d49 1
a49 1
		SDL_mixer.0.0:sdl-mixer-*:devel/sdl-mixer
@


1.5
log
@CONFIGURE_STYLE=gnu w/ proper MODGNU_CONFIG_GUESS_DIRS
needed for the powerpc -> macppc name change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/09/23 06:57:14 pvalchev Exp $
d48 1
a48 1
LIB_DEPENDS+=	SDL.0.3:sdl-*-!no_x11:devel/sdl \
@


1.4
log
@use gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/08/23 06:17:41 pvalchev Exp $
d68 1
@


1.3
log
@Update to heroes-0.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/08/11 20:11:04 pvalchev Exp $
d34 1
a34 1
LIB_DEPENDS+=	intl.1:gettext-*:devel/gettext
@


1.2
log
@do not compile the game with debugging symbols
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/08/10 17:00:16 pvalchev Exp $
d5 2
a6 2
VERSION=	0.11
DATAVERSION=	1.1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d71 1
@


1.1.1.1
log
@import of heroes-0.11

Heroes is similar to the "Tron" and "Nibbles" games of yore, but
includes many graphical improvements and new game features. In
it, you must maneuver a small vehicle around a world and collect
powerups while avoiding obstacles.

Flavors:
        sdl     - build with the Simple DirectMedia Layer library
                and SDL_mixer for the sound interface
        ggi     - build with the Generic Graphics Library
                no sound support
@
text
@@
