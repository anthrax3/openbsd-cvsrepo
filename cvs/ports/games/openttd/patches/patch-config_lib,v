head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.10
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.8
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.4
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.6
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_4_8:1.1.0.10
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.8
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.6
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.4
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2014.12.23.11.32.30;	author dcoppa;	state Exp;
branches;
next	1.3;
commitid	n2ad5foZ0wTncxqp;

1.3
date	2013.06.25.22.41.41;	author bentley;	state Exp;
branches;
next	1.2;

1.2
date	2010.09.19.18.52.08;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2008.06.19.20.40.04;	author mk;	state Exp;
branches;
next	;


desc
@@


1.4
log
@
Fix compilation with freetype2 version 2.5.4 and newer
(upstream svn revision r27079)
@
text
@$OpenBSD: patch-config_lib,v 1.3 2013/06/25 22:41:41 bentley Exp $
Don't build with -O1. The reason they add it is irrevelant to OpenBSD anyway.
--- config.lib.orig	Tue Oct 21 13:36:39 2014
+++ config.lib	Tue Dec 23 05:05:09 2014
@@@@ -1488,7 +1488,7 @@@@ make_cflags_and_ldflags() {
 		cc_build_is_gcc=`basename "$cc_build" | grep "gcc" &>/dev/null`
 		if [ -n "$cc_build_is_gcc" ]; then
 			# Just add -O1 to the tools needed for building.
-			CFLAGS_BUILD="$CFLAGS_BUILD -D_FORTIFY_SOURCE=2 -O1"
+			CFLAGS_BUILD="$CFLAGS_BUILD -D_FORTIFY_SOURCE=2"
 		fi
 	fi
 
@


1.3
log
@Update to openttd-1.3.1.
Respect CFLAGS.
Don't crash during build (use our strndup/strcasestr instead of openttd's).

ok espie@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 5
a7 5
--- config.lib.orig	Fri May 31 14:57:18 2013
+++ config.lib	Sun Jun 23 15:47:00 2013
@@@@ -1462,7 +1462,7 @@@@ make_cflags_and_ldflags() {
 			CFLAGS="$CFLAGS -D_FORTIFY_SOURCE=2"
 
@


1.2
log
@- update openttd to 1.0.3, fixing a host of security issues along the way

from Anton Yabchinskiy and Daniel Dickman

mk@@ drops maintainership, any takers?
@
text
@d1 13
a13 14
$OpenBSD: patch-config_lib,v 1.1 2008/06/19 20:40:04 mk Exp $
--- config.lib.orig	Fri Jun 13 21:24:03 2008
+++ config.lib	Fri Jun 13 21:28:19 2008
@@@@ -26,8 +26,8 @@@@ set_default() {
 	revision=""
 	config_log="config.log"
 	prefix_dir="/usr/local"
-	binary_dir="games"
-	data_dir="share/games/openttd"
+	binary_dir="bin"
+	data_dir="share/openttd"
 	icon_dir="share/pixmaps"
 	personal_dir="1"
 	shared_dir="1"
@


1.1
log
@Update to 0.6.1.

ok landry
@
text
@d1 1
a1 1
$OpenBSD$
@

