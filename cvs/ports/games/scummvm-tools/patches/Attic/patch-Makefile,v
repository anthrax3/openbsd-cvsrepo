head	1.9;
access;
symbols
	OPENBSD_4_9:1.8.0.6
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.8.0.4
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.8.0.2
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.7.0.2
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.6.0.8
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.6
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.6.0.4
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.6.0.2
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.5.0.4
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.2
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.1.1.1.0.4
	OPENBSD_3_6_BASE:1.1.1.1
	OPENBSD_3_5:1.1.1.1.0.2
	OPENBSD_3_5_BASE:1.1.1.1
	jolan_2004-feb-01:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2011.05.29.14.05.15;	author jsg;	state dead;
branches;
next	1.8;

1.8
date	2009.12.09.21.55.01;	author jsg;	state Exp;
branches;
next	1.7;

1.7
date	2009.05.21.12.52.57;	author jsg;	state Exp;
branches;
next	1.6;

1.6
date	2007.07.07.01.39.47;	author jsg;	state Exp;
branches;
next	1.5;

1.5
date	2006.07.08.04.16.18;	author jsg;	state Exp;
branches;
next	1.4;

1.4
date	2005.11.03.10.17.10;	author jsg;	state Exp;
branches;
next	1.3;

1.3
date	2005.01.06.00.19.24;	author jsg;	state Exp;
branches;
next	1.2;

1.2
date	2004.09.30.01.34.52;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2004.02.01.06.18.24;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.02.01.06.18.24;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.9
log
@update to 1.3.0
@
text
@$OpenBSD: patch-Makefile,v 1.8 2009/12/09 21:55:01 jsg Exp $
--- Makefile.orig	Sat Nov  7 00:56:59 2009
+++ Makefile	Sat Nov 14 12:05:40 2009
@@@@ -9,7 +9,7 @@@@ srcdir      ?= .
 
 DEFINES     := -DUNIX
 LDFLAGS     := $(LDFLAGS)
-INCLUDES    := -I. -I$(srcdir)
+INCLUDES    := -I. -I$(srcdir) `pkg-config --cflags libpng vorbis vorbisenc`
 LIBS        :=
 OBJS        :=
 DEPDIR      := .deps
@@@@ -19,8 +19,6 @@@@ DEPDIR      := .deps
 # manually create a config.mk files with overrides, if needed.
 -include config.mk
 
-CXXFLAGS  += -g -O -Wuninitialized
-
 # Additional warnings
 CXXFLAGS:= -Wall $(CXXFLAGS)
 # Turn off some annoying and not-so-useful warnings
@@@@ -46,8 +44,8 @@@@ RM      ?= rm -f
 RM_REC  ?= $(RM) -r
 ZIP     ?= zip -q
 
-CC      := gcc
-CXX     := g++
+#CC      := gcc
+#CXX     := g++
 
 #######################################################################
 
@@@@ -89,8 +87,8 @@@@ TARGETS := \
 	extract_scumm_mac$(EXEEXT) \
 	extract_t7g_mac$(EXEEXT) \
 	extract_zak_c64$(EXEEXT) \
-	extract_gob_stk$(EXEEXT) \
-	tools_gui$(EXEEXT)
+	extract_gob_stk$(EXEEXT)
+#	tools_gui$(EXEEXT)
 
 UTILS := \
 	utils/adpcm.o \
@@@@ -117,43 +115,43 @@@@ bundle: $(TARGETS)
 	mv $(bundle_name)/Contents/Resources/tools_gui $(bundle_name)/Contents/MacOS/
 
 compress_agos$(EXEEXT): compress_agos.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs vorbis vorbisenc flac`
 
 compress_gob$(EXEEXT): compress_gob.o util.o
 	$(CXX) $(LDFLAGS) -o $@@ $+
 
 compress_kyra$(EXEEXT): compress_kyra.o kyra_pak.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs vorbis vorbisenc flac`
 
 compress_queen$(EXEEXT): compress_queen.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs vorbis vorbisenc flac`
 
 compress_saga$(EXEEXT): compress_saga.o compress.o util.o $(UTILS)
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs vorbis vorbisenc flac`
 
 compress_scumm_bun$(EXEEXT): compress_scumm_bun.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs vorbis vorbisenc flac`
 
 compress_scumm_san$(EXEEXT): compress_scumm_san.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lz -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ -lz `pkg-config --libs vorbis vorbisenc flac`
 
 compress_scumm_sou$(EXEEXT): compress_scumm_sou.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs vorbis vorbisenc flac`
 
 compress_sword1$(EXEEXT): compress_sword1.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs vorbis vorbisenc flac`
 
 compress_sword2$(EXEEXT): compress_sword2.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs vorbis vorbisenc flac`
 
 compress_tinsel$(EXEEXT): compress_tinsel.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs vorbis vorbisenc flac`
 
 compress_touche$(EXEEXT): compress_touche.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs vorbis vorbisenc flac`
 
 compress_tucker$(EXEEXT): compress_tucker.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs vorbis vorbisenc flac`
 
 decine$(EXEEXT): decine.o
 	$(CXX) $(LDFLAGS) -o $@@ $+
@@@@ -171,7 +169,7 @@@@ degob$(EXEEXT): degob.o degob_script.o degob_script_v1
 	$(CXX) $(LDFLAGS) -o $@@ $+
 
 encode_dxa$(EXEEXT): encode_dxa.o compress.o util.o
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lpng -lz -lvorbis -logg -lvorbisenc -lFLAC
+	$(CXX) $(LDFLAGS) -o $@@ $+ `pkg-config --libs libpng vorbis vorbisenc flac`
 
 extract_cine$(EXEEXT): extract_cine.o util.o
 	$(CXX) $(LDFLAGS) -o $@@ $+
@


1.8
log
@update to 1.0.0
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.7 2009/05/21 12:52:57 jsg Exp $
@


1.7
log
@Update to 0.13.0
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.6 2007/07/07 01:39:47 jsg Exp $
--- Makefile.orig	Thu Feb 19 10:16:35 2009
+++ Makefile	Fri Mar  6 22:55:56 2009
d33 1
a33 1
@@@@ -86,8 +84,8 @@@@ TARGETS := \
d44 1
a44 1
@@@@ -114,37 +112,37 @@@@ bundle: $(TARGETS)
d51 3
d86 4
d100 1
a100 1
@@@@ -162,7 +160,7 @@@@ degob$(EXEEXT): degob.o degob_script.o degob_script_v1
@


1.6
log
@Update to 0.10.0
@
text
@d1 15
a15 4
$OpenBSD: patch-Makefile,v 1.5 2006/07/08 04:16:18 jsg Exp $
--- Makefile.orig	Sun Jun 17 07:00:22 2007
+++ Makefile	Tue Jun 26 22:57:57 2007
@@@@ -3,9 +3,10 @@@@
d17 8
a24 1
 SRC=.
a27 1
-CFLAGS  += -g -O -Wall -Wuninitialized -Wno-long-long -Wno-multichar -DUNIX
a29 3
+CFLAGS  += -Wall -Wno-long-long -Wno-multichar -DUNIX
+CXXFLAGS  += -Wall -Wno-long-long -Wno-multichar -DUNIX
 # LDFLAGS +=
d31 63
a93 10
 # Additional warnings
@@@@ -29,7 +30,6 @@@@ TARGETS := \
 	dekyra$(EXEEXT) \
 	descumm$(EXEEXT) \
 	desword2$(EXEEXT) \
-	encode_dxa$(EXEEXT) \
 	extract_agos$(EXEEXT) \
 	extract_kyra$(EXEEXT) \
 	extract_loom_tg16$(EXEEXT) \
@@@@ -89,7 +89,7 @@@@ desword2$(EXEEXT): desword2.o util.o
d97 2
a98 2
-	$(CXX) $(LDFLAGS) -o $@@ $+ -lpng -lz
+	$(CXX) $(LDFLAGS) `pkg-config --cflags --libs libpng` -o $@@ $+ -lz
d100 2
a101 11
 extract_agos$(EXEEXT): extract_agos.o
 	$(CC) $(LDFLAGS) -o $@@ $+
@@@@ -148,7 +148,7 @@@@ clean:
 	rm -f *.o utils/*.o $(TARGETS)
 
 .cpp.o:
-	$(CXX) $(CFLAGS) $(CPPFLAGS) -c $(<) -o $*.o
+	$(CXX) $(CXXFLAGS) $(CPPFLAGS) -c $(<) -o $*.o
 
 .c.o:
 	$(CC) $(CFLAGS) $(CPPFLAGS) -c $(<) -o $*.o
@


1.5
log
@Update to 0.9.0
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.4 2005/11/03 10:17:10 jsg Exp $
--- Makefile.orig	Thu Jun 22 07:11:51 2006
+++ Makefile	Sat Jul  8 14:01:11 2006
d10 1
a10 1
-CFLAGS  += -g -O -Wall -Wuninitialized -Wno-long-long -Wno-multichar
d13 2
a14 2
+CFLAGS  += -Wall -Wno-long-long -Wno-multichar
+CXXFLAGS  += -Wall -Wno-long-long -Wno-multichar
d18 1
a18 1
@@@@ -28,7 +29,7 @@@@ TARGETS := \
d23 1
a23 1
+#	encode_dxa$(EXEEXT) \
d26 1
a26 2
 	extract_mm_c64$(EXEEXT) \
@@@@ -61,7 +62,7 @@@@ compress_scumm_bun$(EXEEXT): compress_sc
d31 1
a31 1
+	$(CXX) $(LDFLAGS) `pkg-config --cflags --libs libpng` -o $@@ $+
d33 1
a33 1
 extract_loom_tg16$(EXEEXT): extract_loom_tg16.o util.o
d35 2
a36 2
@@@@ -129,7 +130,7 @@@@ clean:
 	rm -f *.o $(TARGETS)
@


1.4
log
@Update to 0.8.0
@
text
@d1 5
a5 4
$OpenBSD$
--- Makefile.orig	Thu Nov  3 20:59:51 2005
+++ Makefile	Thu Nov  3 21:01:53 2005
@@@@ -1,8 +1,9 @@@@
d18 19
a36 1
@@@@ -101,7 +102,7 @@@@ clean:
@


1.3
log
@Upgrade to 0.7.0
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.2 2004/09/30 01:34:52 jolan Exp $
--- Makefile.orig	Wed Dec 22 10:10:16 2004
+++ Makefile	Wed Jan  5 20:31:44 2005
d17 1
a17 1
@@@@ -95,7 +96,7 @@@@ clean:
@


1.2
log
@update to 0.6.1, from Jonathan Gray, pass maintainership over to him
@
text
@d1 4
a4 4
$OpenBSD: $
--- Makefile.orig	Sun Jul 11 14:56:58 2004
+++ Makefile	Tue Sep 28 00:41:04 2004
@@@@ -1,9 +1,10 @@@@
d9 1
a9 2
-CFLAGS  := -g -O -Wall -Wuninitialized -Wno-long-long -Wno-multichar
-LDFLAGS :=
d12 3
a14 3
+CFLAGS  += -Wall -Wuninitialized -Wno-long-long -Wno-multichar
+CXXFLAGS += -Wall -Wuninitialized -Wno-long-long -Wno-multichar
+# LDFLAGS :=
d17 1
a17 55
 CFLAGS+= -Wshadow
@@@@ -32,40 +33,40 @@@@ TARGETS := \
 all: $(TARGETS)
 
 compress_san$(EXEEXT): compress_san.o util.o
-	$(CXX) $(LFLAGS) -o $@@ $+ -lz
+	$(CXX) $(LDFLAGS) -o $@@ $+ -lz
 
 convbdf$(EXEEXT): convbdf.o util.o
-	$(CXX) $(LFLAGS) -o $@@ $+
+	$(CXX) $(LDFLAGS) -o $@@ $+
 
 descumm$(EXEEXT): descumm-tool.o descumm.o descumm6.o descumm-common.o util.o
-	$(CXX) $(LFLAGS) -o $@@ $+
+	$(CXX) $(LDFLAGS) -o $@@ $+
 
 desword2$(EXEEXT): desword2.o util.o
-	$(CXX) $(LFLAGS) -o $@@ $+
+	$(CXX) $(LDFLAGS) -o $@@ $+
 
 extract$(EXEEXT): extract.o extract-common.o util.o
-	$(CC) $(LFLAGS) -o $@@ $+
+	$(CC) $(LDFLAGS) -o $@@ $+
 
 loom_tg16_extract$(EXEEXT): loom_tg16_extract.o
-	$(CC) $(LFLAGS) -o $@@ $+
+	$(CC) $(LDFLAGS) -o $@@ $+
 
 md5table$(EXEEXT): md5table.o util.o
-	$(CXX) $(LFLAGS) -o $@@ $+
+	$(CXX) $(LDFLAGS) -o $@@ $+
 
 mm_nes_extract$(EXEEXT): mm_nes_extract.o
-	$(CC) $(LFLAGS) -o $@@ $+
+	$(CC) $(LDFLAGS) -o $@@ $+
 
 queenrebuild$(EXEEXT): queenrebuild.o util.o
-	$(CC) $(LFLAGS) -o $@@ $+
+	$(CC) $(LDFLAGS) -o $@@ $+
 
 rescumm$(EXEEXT): rescumm.o util.o
-	$(CC) $(LFLAGS) -o $@@ $+
+	$(CC) $(LDFLAGS) -o $@@ $+
 
 simon1decr$(EXEEXT): simon1decr.o
-	$(CC) $(LFLAGS) -o $@@ $+
+	$(CC) $(LDFLAGS) -o $@@ $+
 
 simon2mp3$(EXEEXT): simon2mp3.o extract-common.o util.o
-	$(CC) $(LFLAGS) -o $@@ $+
+	$(CC) $(LDFLAGS) -o $@@ $+
 
 
 descumm.o descumm6.o descumm-common.o descumm-tool.o: descumm.h util.h
@@@@ -76,7 +77,7 @@@@ clean:
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.orig	2003-05-21 00:13:22.000000000 -0500
+++ Makefile	2004-01-31 20:16:09.000000000 -0600
@@@@ -1,8 +1,9 @@@@
d9 2
a10 1
-CFLAGS  := -g -O -Wall -Wstrict-prototypes -Wuninitialized -Wno-long-long -Wno-multichar
d13 12
a24 3
+CFLAGS+= -Wall -Wstrict-prototypes -Wuninitialized -Wno-long-long -Wno-multichar
+CXXFLAGS+= -Wall -Wstrict-prototypes -Wuninitialized -Wno-long-long -Wno-multichar
 LDFLAGS :=
d26 3
a28 3
 # Uncomment this if you are on a big endian system
@@@@ -19,22 +20,22 @@@@ TARGETS := \
 all: $(TARGETS)
d30 1
a30 1
 descumm$(EXEEXT): descumm.o descumm-common.o
d34 1
a34 1
 descumm6$(EXEEXT): descumm6.o descumm-common.o
d38 17
a54 1
 extract$(EXEEXT): extract.o
d58 1
a58 1
 rescumm$(EXEEXT): rescumm.o
d66 1
a66 1
 simon2mp3$(EXEEXT): simon2mp3.o
d71 2
a72 2
 descumm.o descumm6.o descumm-common.o: descumm.h
@@@@ -43,7 +44,7 @@@@ clean:
@


1.1.1.1
log
@import 0.5.0
@
text
@@
