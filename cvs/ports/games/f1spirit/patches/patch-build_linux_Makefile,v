head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.10
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.6
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.1.1.0.20
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.18
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.16
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.14
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.12
	OPENBSD_5_0:1.1.1.1.0.10
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.8
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.6
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.4
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.2
	OPENBSD_4_6_BASE:1.1.1.1
	landry_20090319:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2014.04.27.09.18.01;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.19.18.30.30;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.03.19.18.30.30;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to f1spirit svn rev 1615
@
text
@$OpenBSD: patch-build_linux_Makefile,v 1.1.1.1 2009/03/19 18:30:30 landry Exp $
--- build/linux/Makefile.orig	Fri Feb  6 11:12:51 2009
+++ build/linux/Makefile	Sun Apr 27 11:05:01 2014
@@@@ -1,11 +1,11 @@@@
 EXE = f1spirit
 SRC = sources
-PREFIX = /usr
+PREFIX ?= /usr
 EXTRADIR = ./build/linux
 
-GAMEDIR = $(PREFIX)/games
+GAMEDIR = $(PREFIX)/bin
 STARTUP = $(GAMEDIR)/$(EXE)
-BINDIR = $(PREFIX)/share/games/$(EXE)
+BINDIR = $(PREFIX)/share/$(EXE)
 ICNDIR = $(PREFIX)/share/pixmaps
 APPDIR = $(PREFIX)/share/applications
 
@@@@ -38,10 +38,10 @@@@ OBJS = \
 	$(SRC)/Vector.o					$(SRC)/weather.o				\
 	$(SRC)/filehandling.o			$(SRC)/CarEngineSound.o
 
-CC = gcc
+CC ?= gcc
 #CFLAGS = -g3 -O3 -Wall `sdl-config --cflags` `curl-config --cflags` -I/usr/X11R6/include
-CFLAGS = -g3 -O3 -Wno-write-strings `sdl-config --cflags` `curl-config --cflags` -I/usr/X11R6/include
-LDFLAGS = `sdl-config --libs` `curl-config --libs` -L/usr/X11R6/lib/ -lSDL_image -lSDL_mixer -lSDL_net -lGL -lGLU
+CFLAGS += -g3 -O3 -Wno-write-strings `sdl-config --cflags` `curl-config --cflags` -I/usr/X11R6/include
+LDFLAGS += `sdl-config --libs` `curl-config --libs` -L/usr/X11R6/lib/ -lSDL_image -lSDL_mixer -lSDL_net -lGL -lGLU
 RM = rm -f
 CP = cp -r
 MD = mkdir -p
@@@@ -71,7 +71,7 @@@@ install: all
 	@@$(ECHO) " o Creating startup script $(STARTUP)"
 	@@$(MD) "$(GAMEDIR)"
 	@@$(ECHO) "#!/bin/sh" >"$(STARTUP)"
-	@@$(ECHO) "cd \"/usr/share/games/f1spirit/\"; ./$(EXE); cd -" >>"$(STARTUP)"
+	@@$(ECHO) "cd \"${TRUEPREFIX}/share/f1spirit/\"; ./$(EXE); cd -" >>"$(STARTUP)"
 #	@@$(ECHO) "cd \"$(BINDIR)\"; ./$(EXE); cd -" >>"$(STARTUP)"
 	@@$(CHMOD) 755 "$(STARTUP)"
 	@@$(ECHO) " o Creating application menu entry"
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- build/linux/Makefile.orig	Sun Aug 24 16:41:24 2008
+++ build/linux/Makefile	Sat Mar  7 12:48:50 2009
d26 1
a26 1
-CFLAGS = -g3 -O3 `sdl-config --cflags` `curl-config --cflags` -I/usr/X11R6/include
d28 1
a28 1
+CFLAGS += -g -O2 `sdl-config --cflags` `curl-config --cflags` -I/usr/X11R6/include
d33 1
a33 2
@@@@ -70,7 +70,7 @@@@ install: all
 	@@$(CP) "$(EXE)" $(DATA) "$(BINDIR)"
d36 4
a39 2
-	@@$(ECHO) "cd \"$(BINDIR)\"; ./$(EXE); cd -" >"$(STARTUP)"
+	@@$(ECHO) "cd \"${TRUEPREFIX}/share/${EXE}\"; ./$(EXE); cd -" >"$(STARTUP)"
a41 1
 	@@$(MD) "$(ICNDIR)"
@


1.1.1.1
log
@Import f1spirit, a remake of Konami's original F1-Spirit from 1987.

F-1 Spirit is a racing game. You will race with many different types
of cars, starting by Stock or Rally cars, and finishing by driving F1
cars (once you have classified for it by passing for F3, F3000 and
Endurance cars).

Note that this requires DRI, the game is barely usable otherwise.
@
text
@@
