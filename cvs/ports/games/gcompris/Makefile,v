head	1.66;
access;
symbols
	OPENBSD_6_2:1.66.0.2
	OPENBSD_6_2_BASE:1.66
	OPENBSD_6_1:1.65.0.2
	OPENBSD_6_1_BASE:1.65
	OPENBSD_6_0:1.64.0.2
	OPENBSD_6_0_BASE:1.64
	OPENBSD_5_9:1.62.0.2
	OPENBSD_5_9_BASE:1.62
	OPENBSD_5_8:1.61.0.4
	OPENBSD_5_8_BASE:1.61
	OPENBSD_5_7:1.60.0.2
	OPENBSD_5_7_BASE:1.60
	OPENBSD_5_6:1.58.0.2
	OPENBSD_5_6_BASE:1.58
	OPENBSD_5_5:1.55.0.2
	OPENBSD_5_5_BASE:1.55
	OPENBSD_5_4:1.54.0.2
	OPENBSD_5_4_BASE:1.54
	OPENBSD_5_3:1.51.0.2
	OPENBSD_5_3_BASE:1.51
	OPENBSD_5_2:1.48.0.2
	OPENBSD_5_2_BASE:1.48
	OPENBSD_5_1_BASE:1.43
	OPENBSD_5_1:1.43.0.2
	OPENBSD_5_0:1.40.0.2
	OPENBSD_5_0_BASE:1.40
	OPENBSD_4_9:1.36.0.2
	OPENBSD_4_9_BASE:1.36
	OPENBSD_4_8:1.27.0.2
	OPENBSD_4_8_BASE:1.27
	OPENBSD_4_7:1.23.0.2
	OPENBSD_4_7_BASE:1.23
	OPENBSD_4_6:1.18.0.2
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.17.0.2
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.15.0.2
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.12.0.2
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.4.0.2
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	ajacoutot_20070126:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.66
date	2017.08.18.11.42.04;	author ajacoutot;	state Exp;
branches;
next	1.65;
commitid	7Ko3M4jJqIgM93xJ;

1.65
date	2016.09.23.09.16.54;	author sthen;	state Exp;
branches;
next	1.64;
commitid	XLnI6AbHAmyVU5mO;

1.64
date	2016.03.20.16.12.24;	author naddy;	state Exp;
branches;
next	1.63;
commitid	guiZq8cnNbVyyHzx;

1.63
date	2016.03.11.20.28.25;	author naddy;	state Exp;
branches;
next	1.62;
commitid	UYLP8TE6V7RS2GhJ;

1.62
date	2015.10.19.17.00.34;	author ajacoutot;	state Exp;
branches;
next	1.61;
commitid	g1vDr26ID3xMSGJ5;

1.61
date	2015.03.15.08.31.00;	author ajacoutot;	state Exp;
branches;
next	1.60;
commitid	tl9qblComiOUnONt;

1.60
date	2014.12.22.13.09.25;	author ajacoutot;	state Exp;
branches;
next	1.59;
commitid	Vm7MTHHCq8ZNDjxM;

1.59
date	2014.08.30.08.33.39;	author ajacoutot;	state Exp;
branches;
next	1.58;
commitid	yKsiuQcMGim9XXeQ;

1.58
date	2014.06.02.12.31.44;	author ajacoutot;	state Exp;
branches;
next	1.57;
commitid	hShqUxd1epEUdocV;

1.57
date	2014.04.11.14.52.46;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2014.04.01.14.52.09;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2013.11.05.17.15.54;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2013.05.31.15.34.45;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2013.03.21.08.45.17;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2013.03.11.11.07.39;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2012.11.24.08.54.01;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2012.09.06.12.38.35;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2012.08.06.11.14.39;	author naddy;	state Exp;
branches;
next	1.48;

1.48
date	2012.07.17.10.05.11;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2012.07.06.16.27.18;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2012.04.28.10.52.08;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2012.04.23.17.15.18;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2012.04.08.15.54.25;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2012.01.08.07.50.24;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2011.11.18.11.14.39;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2011.09.16.09.48.10;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2011.07.09.04.08.31;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2011.06.08.17.35.05;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2011.06.02.17.09.31;	author kili;	state Exp;
branches;
next	1.37;

1.37
date	2011.05.11.15.14.10;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2011.01.14.21.29.42;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2010.11.16.11.23.26;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.24.21.19.01;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2010.10.24.15.53.55;	author sthen;	state Exp;
branches;
next	1.32;

1.32
date	2010.10.18.18.00.18;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2010.10.11.08.14.01;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2010.09.29.07.10.46;	author landry;	state Exp;
branches;
next	1.29;

1.29
date	2010.09.16.05.52.43;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2010.08.30.17.46.56;	author fgsch;	state Exp;
branches;
next	1.27;

1.27
date	2010.07.22.10.12.48;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2010.06.20.16.44.54;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2010.06.20.16.31.02;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.06.19.13.57.10;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.12.22.16.28.00;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.12.17.23.28.05;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.10.16.01.04.32;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2009.09.28.18.32.23;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2009.08.10.06.31.42;	author kili;	state Exp;
branches;
next	1.18;

1.18
date	2009.03.15.14.39.02;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2008.11.29.09.49.03;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2008.10.16.17.03.08;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2008.06.03.07.41.58;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2008.06.01.13.29.48;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2008.05.26.16.29.26;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2008.02.15.12.29.46;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2008.02.13.11.12.50;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2007.12.12.14.43.44;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2007.11.13.14.54.31;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2007.10.30.13.56.43;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2007.10.20.12.49.02;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2007.10.08.08.22.41;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2007.08.27.15.23.12;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2007.07.13.08.54.26;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2007.05.03.17.42.55;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2007.02.11.00.56.57;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.26.17.40.57;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.26.17.40.57;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.66
log
@Update to gcompris-17.05.
@
text
@# $OpenBSD: Makefile,v 1.65 2016/09/23 09:16:54 sthen Exp $

COMMENT=	educational game for children

DISTNAME=	gcompris-17.05
EXTRACT_SUFX=	.tar.bz2

CATEGORIES=	games education

HOMEPAGE=	http://gcompris.net/

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv3
# SIL Open Font License (OFL)
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 c cairo croco-0.6 expat ffi
WANTLIB += fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 graphite2 gstreamer-0.10
WANTLIB += gthread-2.0 gtk-x11-2.0 harfbuzz iconv intl lzma m
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs rsvg-2 sqlite3 util xcb xcb-render
WANTLIB += xcb-shm xml2 z
WANTLIB += ${MODPY_WANTLIB}

MASTER_SITES=	http://gcompris.net/download/gtk/src/

MODULES=	lang/python \
		textproc/intltool

BUILD_DEPENDS=	textproc/texi2html \
		x11/py-gtk2 \
		games/gnuchess \
		archivers/gtar

LIB_DEPENDS=	${MODPY_LIB_DEPENDS} \
		databases/sqlite3 \
		gstreamer->=0.10,<0.11:multimedia/gstreamer-0.10/core \
		x11/gnome/librsvg \
		x11/gtk+2

RUN_DEPENDS=	games/gnuchess \
		databases/py-sqlite \
		x11/py-gtk2 \
		games/tuxpaint \
		cad/gnucap \
		devel/desktop-file-utils \
		multimedia/gstreamer-0.10/plugins-base

USE_GMAKE=	Yes

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	CPPFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include" \
		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib"
CONFIGURE_ARGS=	--enable-py-build-only \
		--with-python=${MODPY_BIN}

# don't install under share/gnome/help/, there is no yelp (xml) file
FAKE_FLAGS=	gcompris_helpdir=${PREFIX}/share/doc/gcompris/html

pre-configure:
	${SUBST_CMD} ${WRKSRC}/src/chess_computer-activity/chess.c \
		${WRKSRC}/src/electric-activity/electric.py

post-install:
	rm ${PREFIX}/lib/gcompris/*.{a,la}
	find ${PREFIX}/share/gcompris -type f -perm 755 -exec chmod 644 {} \;
	chown -R ${SHAREOWN}:${SHAREGRP} ${PREFIX}/share/gcompris

.include <bsd.port.mk>
@


1.65
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2016/03/20 16:12:24 naddy Exp $
d5 1
a5 1
DISTNAME=	gcompris-15.10
a6 1
REVISION=	0
d22 4
a25 3
WANTLIB += gthread-2.0 gtk-x11-2.0 harfbuzz m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += rsvg-2 sqlite3 util xcb xcb-render xcb-shm xml2 z lzma
d28 1
a28 1
MASTER_SITES=	http://gcompris.net/download/
d30 1
a30 2
MODULES=	devel/gettext \
		lang/python \
@


1.64
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2016/03/11 20:28:25 naddy Exp $
d7 1
d40 1
@


1.63
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.62 2015/10/19 17:00:34 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.62
log
@Update to gcompris-15.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2015/03/15 08:31:00 ajacoutot Exp $
d58 1
a58 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--enable-py-build-only \
@


1.61
log
@Update to gcompris-15.02.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/12/22 13:09:25 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	gcompris-15.02
@


1.60
log
@Update to gcompris-14.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/08/30 08:33:39 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	gcompris-14.12
@


1.59
log
@Update to gcompris-14.07.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/06/02 12:31:44 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	gcompris-14.07
d26 1
a26 1
WANTLIB += rsvg-2 sqlite3 util xcb xcb-render xcb-shm xml2 z
@


1.58
log
@Update to gcompris-14.05.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2014/04/11 14:52:46 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	gcompris-14.05
@


1.57
log
@Update to gcompris-14.03.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2014/04/01 14:52:09 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	gcompris-14.03
@


1.56
log
@Some PLISTs have brazillions of @@comment entries for .la files; sanitize
some of the ports a bit and rm at post-install time, it is way simpler to
maintain.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/11/05 17:15:54 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	gcompris-13.11
a8 1
REVISION=	0
d29 1
a29 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=gcompris/}
d57 1
a57 2
		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib -pthread" \
		ac_cv_path_TETEX=no
@


1.55
log
@Update to gcompris-13.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/05/31 15:34:45 ajacoutot Exp $
d9 1
a55 2
LIBTOOL_FLAGS=	--tag=disable-static

a60 1
		--disable-static \
d72 1
a72 1
	rm ${PREFIX}/lib/gcompris/*.la
@


1.54
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/03/21 08:45:17 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	gcompris-12.11
a8 1
REVISION=	0
d17 1
d20 7
a26 8
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c cairo
WANTLIB += croco-0.6 drm expat ffi fontconfig freetype gdk-x11-2.0
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gstreamer-0.10 gthread-2.0 gtk-x11-2.0
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs rsvg-2 sqlite3 stdc++ util
WANTLIB += xcb xcb-render xcb-shm xml2 z harfbuzz
d39 1
d44 1
d46 1
a46 1
		databases/py-sqlite2 \
a62 5
		--disable-nsbundle \
		--disable-sdlmixer \
		--disable-sugar \
		--disable-gnet \
		--enable-sqlite \
d74 1
@


1.53
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/03/11 11:07:39 espie Exp $
d9 1
d27 1
a27 1
WANTLIB += xcb xcb-render xcb-shm xml2 z harfbuzz icudata icule icuuc
@


1.52
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/11/24 08:54:01 ajacoutot Exp $
a50 1
USE_LIBTOOL=	Yes
@


1.51
log
@Update to gcompris-12.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/09/06 12:38:35 ajacoutot Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.50
log
@Bump after gstreamer-plugins-base subpackaging change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/08/06 11:14:39 naddy Exp $
d7 1
a7 2
DISTNAME=	gcompris-12.05
REVISION=	1
d29 1
a29 1
WANTLIB += xcb xcb-render xcb-shm xml2 z
@


1.49
log
@remove USE_GROFF from ports that don't install any man pages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/07/17 10:05:11 jasper Exp $
d8 1
a8 1
REVISION=	0
@


1.48
log
@disable gnet support, gnet is deprecated and ought to be removed.

ok aja@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2012/07/06 16:27:18 ajacoutot Exp $
a56 1
USE_GROFF =	Yes
@


1.47
log
@Update to gcompris-12.05.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/04/28 10:52:08 ajacoutot Exp $
d8 1
d26 1
a26 1
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gnet-2.0
a43 1
		net/gnet \
d70 1
a71 1
		--enable-gnet \
@


1.46
log
@--localstatedir=/var is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/04/23 17:15:18 espie Exp $
d7 2
a8 2
DISTNAME=	gcompris-12.01
REVISION =	0
@


1.45
log
@first pass at handling sqlite3 move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/04/08 15:54:25 ajacoutot Exp $
a69 1
		--localstatedir=/var \
@


1.44
log
@Update to gcompris-12.01.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/01/08 07:50:24 ajacoutot Exp $
d8 1
a43 1
		databases/sqlite3 \
@


1.43
log
@Update to gcompris-11.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/11/18 11:14:39 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	gcompris-11.12
@


1.42
log
@Update to gcompris-11.09.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/09/16 09:48:10 espie Exp $
d7 1
a7 1
DISTNAME=	gcompris-11.09
@


1.41
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/07/09 04:08:31 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	gcompris-9.6.1
REVISION=		0
d21 9
a29 8
WANTLIB += X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender c expat fontconfig freetype
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += m pcre pixman-1 pthread pthread-stubs util xcb xcb-render
WANTLIB += xml2 z atk-1.0 cairo croco-0.6 gdk-x11-2.0
WANTLIB += gdk_pixbuf-2.0 gtk-x11-2.0 pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 png rsvg-2 gnet-2.0 sqlite3
WANTLIB += gstreamer-0.10  GL Xxf86vm drm xcb-shm ${MODPY_WANTLIB}
a68 1
		--disable-dbus \
@


1.40
log
@Update to gcompris-9.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/06/08 17:35:05 jasper Exp $
d8 1
@


1.39
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/06/02 17:09:31 kili Exp $
d7 1
a7 2
DISTNAME=	gcompris-9.5
REVISION=	1
@


1.38
log
@--disable-silent-rules is now added to CONFIGURE_ARGS per default,
if CONFIGURE_STYLE = gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/05/11 15:14:10 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
@


1.37
log
@Adapt gcompris_helpdir because using share/gnome/help is wrong when we don't
provide xml file(s) for yelp. Use the regular share/doc/PKGNAME.
Drop dependency on yelp.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/01/14 21:29:42 ajacoutot Exp $
a66 1
		--disable-silent-rules \
@


1.36
log
@Update to gcompris-9.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/11/16 11:23:26 espie Exp $
d8 1
d45 2
a46 1
		x11/gnome/librsvg
d53 1
a53 2
		multimedia/gstreamer-0.10/plugins-base \
		x11/gnome/yelp
d77 3
@


1.35
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/24 21:19:01 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	gcompris-9.3
REVISION =	4
d25 1
a25 1
WANTLIB += xcb-render-util xml2 z atk-1.0 cairo croco-0.6 gdk-x11-2.0
d28 1
a28 2
WANTLIB += gstreamer-0.10
WANTLIB += ${MODPY_WANTLIB}
@


1.34
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/10/24 15:53:55 sthen Exp $
d38 4
a41 4
BUILD_DEPENDS=	::textproc/texi2html \
		::x11/py-gtk2 \
		::games/gnuchess \
		::archivers/gtar
d43 12
a54 12
		::net/gnet \
		::databases/sqlite3 \
		:gstreamer->=0.10,<0.11:multimedia/gstreamer-0.10/core \
		::x11/gnome/librsvg
RUN_DEPENDS=	::games/gnuchess \
		::databases/py-sqlite2 \
		::x11/py-gtk2 \
		::games/tuxpaint \
		::cad/gnucap \
		:desktop-file-utils-*:devel/desktop-file-utils \
		::multimedia/gstreamer-0.10/plugins-base \
		:yelp-*:x11/gnome/yelp
@


1.33
log
@Add MODPY_WANTLIB, adjust MODPY_LIB_DEPENDS to new-style LIB_DEPENDS,
update all ports to match. Plists don't change -> no bump.
Looks ok to jasper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/10/18 18:00:18 espie Exp $
a55 1
USE_X11=	Yes
@


1.32
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/10/11 08:14:01 jasper Exp $
d30 1
@


1.31
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/09/29 07:10:46 landry Exp $
d58 1
@


1.30
log
@Fix WANTLIB after librsvg update. Now gcompris can be built again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/09/16 05:52:43 ajacoutot Exp $
d8 1
a8 1
REVISION =	3
d27 1
a27 1
WANTLIB += gdk_pixbuf-2.0 glitz gtk-x11-2.0 pango-1.0
@


1.29
log
@Unbreak by fixing depends.

spotted by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/08/30 17:46:56 fgsch Exp $
d8 1
a8 1
REVISION =	2
d23 1
a23 1
WANTLIB += Xi Xinerama Xrandr Xrender bz2 c expat fontconfig freetype
d27 1
a27 1
WANTLIB += gdk_pixbuf-2.0 glitz gsf-1 gtk-x11-2.0 pango-1.0
@


1.28
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/07/22 10:12:48 ajacoutot Exp $
d8 1
a8 1
REVISION =	1
d23 7
a29 6
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 bz2 c cairo croco-0.6
WANTLIB += expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 gsf-1
WANTLIB += gthread-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += rsvg-2 util xcb xcb-render xcb-render-util xml2 z
d41 5
a45 4
LIB_DEPENDS=	python${MODPY_VERSION}::lang/python/${MODPY_VERSION} \
		gnet-2.0::net/gnet \
		sqlite3::databases/sqlite3 \
		gstreamer-0.10:gstreamer->=0.10,<0.11:multimedia/gstreamer-0.10/core
@


1.27
log
@texi2html is in fact required, as spotted by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/06/20 16:44:54 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
@


1.26
log
@grrrrr, don't hardcode paths.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/06/20 16:31:02 ajacoutot Exp $
d36 2
a37 1
BUILD_DEPENDS=	::x11/py-gtk2 \
@


1.25
log
@Major update to gcompris-9.3.
Remove dependency on texi2html as it's not needed (noticed by kili@@).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/06/19 13:57:10 ajacoutot Exp $
d8 1
d74 4
@


1.24
log
@Fix find(1) args.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/12/22 16:28:00 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	gcompris-8.4.13
PKGNAME=	${DISTNAME}p1
d21 8
a30 8
WANTLIB=	Xau Xdmcp X11 Xext Xrender Xcomposite atk-1.0 c cairo z \
		Xdamage fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 xml2 \
		glib-2.0 glitz gmodule-2.0 gobject-2.0 gthread-2.0 \
		gtk-x11-2.0 m pango-1.0 pangocairo-1.0 util pcre \
		pangoft2-1.0 pixman-1 png pthread Xxf86vm expat Xcursor \
		Xfixes Xi Xinerama Xrandr art_lgpl_2 gailutil gio-2.0 \
		pthread-stubs xcb

d35 1
a35 2
BUILD_DEPENDS=	::textproc/texi2html \
		::x11/py-gtk2 \
a40 1
		gnomecanvas-2::x11/gnome/libgnomecanvas \
d59 2
a60 1
		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib -pthread"
d63 5
a68 1
		--enable-xf86vidmode \
a71 3
		--disable-cairo \
		--disable-nsbundle \
		--with-x \
@


1.23
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/12/17 23:28:05 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
@


1.22
log
@Long overdue update to gcompris-8.4.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/10/16 01:04:32 jasper Exp $
d8 2
@


1.21
log
@unbreak last one of gstreamer-gconf removal...now i get to spank someone..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/09/28 18:32:23 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	gcompris-8.4.7
PKGNAME=	${DISTNAME}p4
@


1.20
log
@Fix dependencies after gstreamer-plugins-* merge.
looks good to landry@@, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/08/10 06:31:42 kili Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p3
a50 1
		::multimedia/gstreamer-0.10/plugins-good,-gconf \
@


1.19
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/03/15 14:39:02 espie Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p2
d50 1
a50 2
		::multimedia/gstreamer-0.10/plugins-base,-ogg \
		::multimedia/gstreamer-0.10/plugins-base,-vorbis \
@


1.18
log
@fix depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/11/29 09:49:03 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
d28 2
a29 1
		Xfixes Xi Xinerama Xrandr art_lgpl_2 gailutil gio-2.0
@


1.17
log
@- @@bin markers, WANTLIB fix and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/10/16 17:03:08 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d42 1
a42 1
		gstreamer-0.10:gstreamer-0.10.*:multimedia/gstreamer-0.10/core
@


1.16
log
@- update to gcompris-8.4.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/06/03 07:41:58 ajacoutot Exp $
d8 1
d28 1
a28 1
		Xfixes Xi Xinerama Xrandr art_lgpl_2 gailutil
@


1.15
log
@- fix building on an empty box
spotted by sturm@@
- regen PLIST while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/06/01 13:29:48 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	gcompris-8.4.4
PKGNAME=	${DISTNAME}p2
@


1.14
log
@- fix PKGNAME
spotted by Stephan F Andre <andres at msu dot edu>, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/05/26 16:29:26 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
d27 2
a28 2
		pangoft2-1.0 png pthread Xxf86vm expat Xcursor Xfixes \
		Xi Xinerama Xrandr art_lgpl_2 gailutil gnomecanvas-2
d30 3
a32 1
MODULES=	devel/gettext lang/python textproc/intltool
d41 1
@


1.13
log
@- make help available by adding MODGNOME_HELP_FILES / ::x11/gnome/yelp
to RUN_DEPENDS

"mkay" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/02/15 12:29:46 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	$(DISTNAME}p0
@


1.12
log
@- update to gcompris-8.4.4
(fix a crash introduced with version 8.4.3)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/02/13 11:12:50 ajacoutot Exp $
d8 1
d48 2
a49 1
		::multimedia/gstreamer-0.10/plugins-good,-gconf
@


1.11
log
@- update to gcompris-8.4.3 (some bugfixes and new translations)
- set SHARED_ONLY
- do not use bundled libart_lgpl and libgnomecanvas
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/12/12 14:43:44 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	gcompris-8.4.3
@


1.10
log
@- use textproc/intltool module
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.9 2007/11/13 14:54:31 steven Exp $
d7 1
a7 2
DISTNAME=	gcompris-8.4.2
PKGNAME=	${DISTNAME}p1
d27 1
a27 1
		Xi Xinerama Xrandr
d52 3
a55 1

a57 1

d59 1
a59 1
		--enable-static \
@


1.9
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/10/30 13:56:43 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d28 1
a28 1
MODULES=	devel/gettext lang/python
a31 1
		::textproc/intltool \
a66 6

pre-configure:
	@@perl -pi -e 's,\@@INTLTOOL_MERGE\@@,${LOCALBASE}/bin/intltool-merge,g;' \
		-e 's,\@@INTLTOOL_UPDATE\@@,${LOCALBASE}/bin/intltool-update,g;' \
		-e 's,\@@INTLTOOL_EXTRACT\@@,${LOCALBASE}/bin/intltool-extract,g' \
		${WRKSRC}/Makefile.in ${WRKSRC}/po/Makefile.in.in
@


1.8
log
@- minor update to gcompris-8.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/10/20 12:49:02 ajacoutot Exp $
d6 1
d21 2
a22 2
WANTLIB=	Xau Xdmcp X11 Xext Xrender atk-1.0 c cairo z \
		fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 xml2 \
d24 1
a24 1
		gtk-x11-2.0 m pango-1.0 pangocairo-1.0 util \
@


1.7
log
@- update to gcompris-8.4.1:
 * GPLv3
 * use of gstreamer instead of sdl-mixer
 * all voices have been re-encoded
 * new/improved translations
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/10/08 08:22:41 steven Exp $
d5 1
a5 1
DISTNAME=	gcompris-8.4.1
@


1.6
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/08/27 15:23:12 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	gcompris-8.3.3
PKGNAME=	${DISTNAME}p0
d12 1
a12 1
# GPLv2
d20 1
a20 1
WANTLIB=	Xau Xdmcp SDL X11 Xext Xrender atk-1.0 c cairo smpeg z \
d23 3
a25 3
		gtk-x11-2.0 m mikmod ogg pango-1.0 pangocairo-1.0 util \
		pangoft2-1.0 png pthread usbhid vorbis vorbisfile \
		art_lgpl_2 Xxf86vm expat Xcursor Xfixes Xi Xinerama Xrandr
d32 2
a33 1
		::games/gnuchess
a34 1
		SDL_mixer.>=3::devel/sdl-mixer \
d37 1
a37 1
		gnomecanvas-2::x11/gnome/libgnomecanvas
d43 4
a46 1
		:desktop-file-utils-*:devel/desktop-file-utils
d58 1
a63 1
		--disable-rpath \
@


1.5
log
@- bugfix update to 8.3.3
(fix asserting error and some instabilities)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/07/13 08:54:26 ajacoutot Exp $
d6 1
@


1.4
log
@- make use of desktop-file-utils
- remove quotes around COMMENT while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/05/03 17:42:55 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	gcompris-8.3.1
PKGNAME=	${DISTNAME}p0
d51 1
a51 1
		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib"
d61 1
@


1.3
log
@- update to 8.3.1

feedback and ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/02/11 00:56:57 steven Exp $
d3 1
a3 1
COMMENT=	"educational game for children"
d6 1
d43 2
a44 1
		::cad/gnucap
@


1.2
log
@WANTLIB fixes, mostly needed by recent cairo update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/01/26 17:40:57 ajacoutot Exp $
d5 1
a5 3
DISTNAME=	gcompris-8.2.2
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gcompris-1	0.0		# .0.0
d20 1
a20 1
WANTLIB=	ICE SM SDL X11 Xext Xrender Xxf86vm atk-1.0 c cairo smpeg z \
d25 1
a25 1
		art_lgpl_2
a36 1
		popt::devel/popt \
d49 2
a50 3
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
		LIBS="-pthread -lutil"
d60 2
a61 1
		--with-x
d64 1
a64 1
	perl -pi -e 's,\@@INTLTOOL_MERGE\@@,${LOCALBASE}/bin/intltool-merge,g;' \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d22 1
a22 1
WANTLIB=	SDL X11 Xext Xrender Xxf86vm atk-1.0 c cairo smpeg z \
@


1.1.1.1
log
@Import gcompris-8.2.2

GCompris ("I got it") is an educational software which propose different
activities to children from 2 to 10 years old.
Some of the activities are game orientated, but nonetheless still
educational.  Below you can find a list of categories with some of the
activities available in that category.
* computer discovery: keyboard, mouse, different mouse gesture
* algebra: table memory, enumeration, double entry table, mirror image
* science: the canal lock, the water cycle, the submarine, electric
  simulation
* geography: place the country on the map
* games: chess, memory, connect 4, oware, sudoku
* reading: reading practice
* other: learn to tell time, puzzle of famous paintings, vector drawing,
  cartoon making, ...

Currently GCompris offers in excess of 100 activities and more are being
developed.

"slap it in" mbalmer@@
@
text
@@
