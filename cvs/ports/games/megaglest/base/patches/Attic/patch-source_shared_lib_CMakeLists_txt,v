head	1.4;
access;
symbols
	OPENBSD_5_7:1.2.0.8
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.6
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.4
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.1.1.1.0.2
	OPENBSD_5_3_BASE:1.1.1.1
	stsp_20130128:1.1.1.1
	stsp:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2015.04.13.10.46.07;	author jasper;	state dead;
branches;
next	1.3;
commitid	gjKcPWagPxr7bRKm;

1.3
date	2015.04.06.12.49.52;	author stsp;	state Exp;
branches;
next	1.2;
commitid	1pin1hbzBcDwHRhj;

1.2
date	2013.05.21.10.34.14;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2013.01.28.13.58.49;	author stsp;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.01.28.13.58.49;	author stsp;	state Exp;
branches;
next	;


desc
@@


1.4
log
@zap zero-byte file
@
text
@@


1.3
log
@update to megaglest 3.11.1; ok ajacoutot
@
text
@@


1.2
log
@Fix build breakage with miniupnpc>1.7
(from upstream SVN revision 3958)

spotted by, and ok jasper@@
@
text
@a0 55
$OpenBSD: patch-source_shared_lib_CMakeLists_txt,v 1.1.1.1 2013/01/28 13:58:49 stsp Exp $
--- source/shared_lib/CMakeLists.txt.orig	Wed Nov 14 20:20:08 2012
+++ source/shared_lib/CMakeLists.txt	Tue May 21 11:06:22 2013
@@@@ -101,13 +101,13 @@@@ IF(BUILD_MEGAGLEST_MODEL_VIEWER OR BUILD_MEGAGLEST_MAP
 		SET(EXTERNAL_LIBS ${EXTERNAL_LIBS} ${OPENAL_LIBRARY})
 	ENDIF()
 
-	# FIND_PACKAGE(OGG REQUIRED)
-	# INCLUDE_DIRECTORIES(${OGG_INCLUDE_DIR})
-	# IF(UNIX)
-		# SET(EXTERNAL_LIBS ${EXTERNAL_LIBS} ${OGG_LIBRARY})
-		# SET(EXTERNAL_LIBS ${EXTERNAL_LIBS} ${VORBIS_LIBRARY})
-		# SET(EXTERNAL_LIBS ${EXTERNAL_LIBS} ${VORBIS_FILE_LIBRARY})
-	# ENDIF()
+	FIND_PACKAGE(OGG REQUIRED)
+	INCLUDE_DIRECTORIES(${OGG_INCLUDE_DIR})
+	IF(UNIX)
+		SET(EXTERNAL_LIBS ${EXTERNAL_LIBS} ${OGG_LIBRARY})
+		SET(EXTERNAL_LIBS ${EXTERNAL_LIBS} ${VORBIS_LIBRARY})
+		SET(EXTERNAL_LIBS ${EXTERNAL_LIBS} ${VORBIS_FILE_LIBRARY})
+	ENDIF()
 
 
 #	FIND_PACKAGE(LUAJIT)
@@@@ -123,7 +123,7 @@@@ IF(BUILD_MEGAGLEST_MODEL_VIEWER OR BUILD_MEGAGLEST_MAP
 #
         FIND_PACKAGE(LUA REQUIRED)
         INCLUDE_DIRECTORIES(${LUA_INCLUDE_DIR})
-        IF(UNIX)
+        IF(Linux OR APPLE)
 	        SET(EXTERNAL_LIBS ${EXTERNAL_LIBS} ${LUA_LIBRARIES} "libdl.so")
         ENDIF()
 #        ENDIF()
@@@@ -297,7 +297,12 @@@@ IF(BUILD_MEGAGLEST_MODEL_VIEWER OR BUILD_MEGAGLEST_MAP
 		ADD_DEFINITIONS(-DMINIUPNPC_VERSION_PRE1_6)
                 message(STATUS "Adding macro for miniupnpc version: pre v1.6")
 	ENDIF()
-        IF(NOT MINIUPNPC_VERSION_PRE1_5 AND NOT MINIUPNPC_VERSION_PRE1_6)
+	IF(MINIUPNPC_VERSION_PRE1_7)
+		ADD_DEFINITIONS(-DMINIUPNPC_VERSION_PRE1_7)
+                message(STATUS "Adding macro for miniupnpc version: pre v1.7")
+	ENDIF()
+
+        IF(NOT MINIUPNPC_VERSION_PRE1_5 AND NOT MINIUPNPC_VERSION_PRE1_6 AND NOT MINIUPNPC_VERSION_PRE1_7)
                 message(STATUS "**No macros required for miniupnpc version")
         ENDIF()
 
@@@@ -341,6 +346,7 @@@@ IF(BUILD_MEGAGLEST_MODEL_VIEWER OR BUILD_MEGAGLEST_MAP
 
         set(CMAKE_REQUIRED_INCLUDES "${IRCCLIENT_INCLUDE_DIR}")
         set(CMAKE_REQUIRED_LIBRARIES "${IRCCLIENT_LIBRARY}")
+        set(CMAKE_REQUIRED_FLAGS "-I${LOCALBASE}/include -L${LOCALBASE}/lib -lpthread")
         include(CheckCXXSourceRuns)
 
         check_cxx_source_runs("
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ source/shared_lib/CMakeLists.txt	Wed Jan  9 17:48:38 2013
d34 15
a48 1
@@@@ -341,6 +341,7 @@@@ IF(BUILD_MEGAGLEST_MODEL_VIEWER OR BUILD_MEGAGLEST_MAP
@


1.1.1.1
log
@Import megaglest port.

MegaGlest is an entertaining free and open source cross-platform 3D
real-time strategy game, where you control the armies of one of seven
different factions: Tech, Magic, Egypt, Indians, Norsemen, Persian or
Romans. The game is set in one of 17 naturally looking settings,
which are crafted with great appreciation for detail.

With tweaks from kirby@@, bentley@@, and sthen@@.
ok sthen@@
@
text
@@
