head	1.3;
access;
symbols
	OPENBSD_6_0:1.2.0.6
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.1.0.6
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2016.08.05.23.27.27;	author pascal;	state Exp;
branches;
next	1.2;
commitid	mbI9Ippq3M0hojQs;

1.2
date	2015.04.30.22.29.49;	author pascal;	state Exp;
branches;
next	1.1;
commitid	INIOZ47Y5RiXrXrK;

1.1
date	2013.11.29.13.21.09;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to 0.9.2, from David CARLIER, thanks!
@
text
@$OpenBSD: patch-lib_irrlicht_CMakeLists_txt,v 1.2 2015/04/30 22:29:49 pascal Exp $
--- lib/irrlicht/CMakeLists.txt.orig	Thu May 12 01:31:36 2016
+++ lib/irrlicht/CMakeLists.txt	Fri Jul  1 05:03:52 2016
@@@@ -25,8 +25,8 @@@@ elseif(MINGW)
   add_definitions(-D_IRR_STATIC_LIB_)
   add_definitions(-D_CRT_SECURE_NO_WARNINGS) # Shut up about unsafe stuff
 else()
-  set(CMAKE_C_FLAGS   "${CMAKE_C_FLAGS} -Wall -pipe -O3  -fno-exceptions  -fstrict-aliasing -I/usr/X11R6/include")
-  set(CMAKE_CXX_FLAGS "${CMAKE_C_FLAGS} -Wall -pipe -O3  -fno-exceptions  -fstrict-aliasing -I/usr/X11R6/include")
+  set(CMAKE_C_FLAGS   "${CMAKE_C_FLAGS} -Wall -pipe -fno-exceptions  -fstrict-aliasing -I/usr/X11R6/include")
+  set(CMAKE_CXX_FLAGS "${CMAKE_C_FLAGS} -Wall -pipe -fno-exceptions  -fstrict-aliasing -I/usr/X11R6/include")
   if(CMAKE_COMPILER_IS_GNUCC)
 	  set(CMAKE_C_FLAGS   "${CMAKE_C_FLAGS} -fexpensive-optimizations")
   endif()
@@@@ -41,7 +41,7 @@@@ if(UNIX AND USE_XRANDR)
     add_definitions(-D_IRR_LINUX_X11_RANDR_)
 endif()
 
-if(CYGWIN)
+if(NOT LINUX)
     add_definitions(-DNO_IRR_COMPILE_WITH_JOYSTICK_EVENTS_)
 endif()
 
@


1.2
log
@Update to STK 0.9.
@
text
@d1 3
a3 3
$OpenBSD: patch-lib_irrlicht_CMakeLists_txt,v 1.1 2013/11/29 13:21:09 pascal Exp $
--- lib/irrlicht/CMakeLists.txt.orig	Wed Apr  1 03:51:45 2015
+++ lib/irrlicht/CMakeLists.txt	Mon Apr  6 21:41:20 2015
d8 8
a15 8
-  set(CMAKE_CXX_FLAGS "${CMAKE_C_FLAGS} -Wall -pipe -O3  -fno-exceptions  -fstrict-aliasing -fexpensive-optimizations -I/usr/X11R6/include")
-  set(CMAKE_C_FLAGS   "${CMAKE_C_FLAGS} -Wall -pipe -O3  -fno-exceptions  -fstrict-aliasing -fexpensive-optimizations -I/usr/X11R6/include")
+  set(CMAKE_CXX_FLAGS "${CMAKE_C_FLAGS} -Wall -pipe -fno-exceptions  -fstrict-aliasing -fexpensive-optimizations -I/usr/X11R6/include")
+  set(CMAKE_C_FLAGS   "${CMAKE_C_FLAGS} -Wall -pipe -fno-exceptions  -fstrict-aliasing -fexpensive-optimizations -I/usr/X11R6/include")
 endif()
 
 # Xrandr
@@@@ -35,7 +35,7 @@@@ if(UNIX AND USE_XRANDR)
@


1.1
log
@Update to supertuxkart 0.8.1.  Use external deps wherever possible.

ok bcallah@@ stsp@@
@
text
@d1 12
a12 5
$OpenBSD$
--- lib/irrlicht/CMakeLists.txt.orig	Thu Nov 14 23:29:12 2013
+++ lib/irrlicht/CMakeLists.txt	Thu Nov 28 17:38:06 2013
@@@@ -1,10 +1,22 @@@@
 # CMakeLists.txt for Irrlicht in STK
d14 3
a16 22
-include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include/
+if(NOT USE_IRR_INTERNAL_LIBS)
+	find_package(PNG REQUIRED)
+	find_package(JPEG REQUIRED)
+	find_package(BZip2 REQUIRED)
+	find_package(ZLIB REQUIRED)
+	include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include/
+			    ${PNG_PNG_INCLUDE_DIR}
+			    ${JPEG_INCLUDE_PATH}
+			    ${BZIP2_INCLUDE_PATH}
+			    ${ZLIB_INCLUDE_PATH})
+else()
+	include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include/
                     ${CMAKE_CURRENT_SOURCE_DIR}/source/Irrlicht/jpeglib
                     ${CMAKE_CURRENT_SOURCE_DIR}/source/Irrlicht/libpng
                     ${CMAKE_CURRENT_SOURCE_DIR}/source/Irrlicht/zlib
                     ${CMAKE_CURRENT_SOURCE_DIR}/source/Irrlicht/bzip2)
+endif()
 
 if(APPLE)
     include_directories(${CMAKE_CURRENT_SOURCE_DIR}/source/Irrlicht/MacOSX ${CMAKE_CURRENT_SOURCE_DIR}/source/Irrlicht)
@@@@ -13,12 +25,19 @@@@ if(APPLE)
d19 1
a19 2
 add_definitions(-DNDEBUG=1 -DIRRLICHT_EXPORTS=1 -DPNG_THREAD_UNSAFE_OK -DPNG_NO_MMX_CODE -DPNG_NO_MNG_FEATURES)
+
d21 1
a21 13
+  add_definitions(-DNO_IRR_COMPILE_WITH_JOYSTICK_EVENTS_)
+endif()
+
+  add_definitions(-DNO_IRR_USE_NON_SYSTEM_JPEG_LIB_ -DNO_IRR_USE_NON_SYSTEM_LIB_PNG_ -DNO_IRR_USE_NON_SYSTEM_ZLIB_ -DNO_IRR_USE_NON_SYSTEM_BZLIB_ )
+
 if(MSVC)
   add_definitions(/D_IRR_STATIC_LIB_)
   add_definitions(/D_CRT_SECURE_NO_WARNINGS) # Shut up about unsafe stuff
 else()
-  set(CMAKE_CXX_FLAGS "${CMAKE_C_FLAGS} -Wall -pipe -O3  -fno-exceptions -fno-rtti -fstrict-aliasing -fexpensive-optimizations -I/usr/X11R6/include")
-  set(CMAKE_C_FLAGS   "${CMAKE_C_FLAGS} -Wall -pipe -O3  -fno-exceptions -fno-rtti -fstrict-aliasing -fexpensive-optimizations -I/usr/X11R6/include")
+  set(CMAKE_CXX_FLAGS "${CMAKE_C_FLAGS} -Wall -pipe -fno-exceptions -fno-rtti -I/usr/X11R6/include")
+  set(CMAKE_C_FLAGS   "${CMAKE_C_FLAGS} -Wall -pipe -fno-exceptions -fno-rtti -I/usr/X11R6/include")
a23 20
 set(IRRLICHT_SOURCES
@@@@ -650,7 +669,10 @@@@ include/IGUIFileOpenDialog.h
 include/IBoneSceneNode.h
 include/IShaderConstantSetCallBack.h
 include/ITexture.h
+)
 
+if(USE_IRR_INTERNAL_LIBS)
+set(IRRLICHT_SOURCES ${IRRLICHT_SOURCES}
 
 source/Irrlicht/zlib/infback.c
 source/Irrlicht/zlib/deflate.c
@@@@ -753,6 +775,7 @@@@ source/Irrlicht/libpng/pnginfo.h
 source/Irrlicht/libpng/pnglibconf.h
 source/Irrlicht/libpng/pngstruct.h
 )
+endif()
 
 if(APPLE)
     set(IRRLICHT_SOURCES
@

