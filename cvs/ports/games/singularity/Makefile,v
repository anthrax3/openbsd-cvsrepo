head	1.16;
access;
symbols
	OPENBSD_6_0:1.15.0.8
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.15.0.4
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.15.0.6
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.15.0.2
	OPENBSD_5_7_BASE:1.15
	OPENBSD_5_6:1.14.0.2
	OPENBSD_5_6_BASE:1.14
	OPENBSD_5_5:1.13.0.2
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.10.0.6
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.4
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.2
	OPENBSD_5_0:1.9.0.2
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.4.0.6
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.4
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.2
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.3.0.4
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.2
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	ajacoutot_20070831:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.16
date	2016.10.01.11.54.15;	author naddy;	state Exp;
branches;
next	1.15;
commitid	VJ09Ih4WMjVIWTmz;

1.15
date	2014.08.10.09.58.05;	author espie;	state Exp;
branches;
next	1.14;
commitid	jyyOLTDxRdjpw44n;

1.14
date	2014.07.10.11.17.31;	author ajacoutot;	state Exp;
branches;
next	1.13;
commitid	1Cy1zksF90S1keOq;

1.13
date	2013.08.07.21.31.55;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2013.05.12.07.29.04;	author rpe;	state Exp;
branches;
next	1.11;

1.11
date	2013.03.11.11.07.40;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.16.09.48.10;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2011.06.08.17.35.05;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.01.15.12.43.26;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.16.11.23.28;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2010.08.31.07.28.54;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.08.30.17.46.56;	author fgsch;	state Exp;
branches;
next	1.4;

1.4
date	2009.03.15.14.39.03;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2008.04.18.18.17.37;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2007.10.08.08.22.41;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2007.08.31.06.23.37;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.08.31.06.23.37;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.16
log
@The ${PROJECT}.googlecode.com/files/ master sites are no longer
accessible, but the distfiles are still available at an archive URL.
Introduce MASTER_SITE_GOOGLECODE and use it for all affected ports.

ok czarkoff@@ danj@@ sthen@@
@
text
@# $OpenBSD: Makefile,v 1.15 2014/08/10 09:58:05 espie Exp $

COMMENT=	simulation of a true AI

MODPY_EGG_VERSION= 0.30
MUSIC_V=	007
V=		${MODPY_EGG_VERSION}c
DISTNAME=	singularity-${V}-src
PKGNAME=	singularity-${V}

CATEGORIES=	games

DISTFILES=	${DISTNAME}${EXTRACT_SUFX} \
		endgame-singularity-music-${MUSIC_V}.zip

HOMEPAGE=	http://emhsoft.com/singularity/

# GPLv2
# music under CC Attribution-ShareAlike 3.0 Unported
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${MASTER_SITE_GOOGLECODE:=endgame-singularity/}

WRKDIST=	${WRKDIR}/singularity-${V}
NO_TEST=	Yes

MODULES=	lang/python
RUN_DEPENDS=	devel/pygame \
		math/py-numpy

NO_BUILD=	Yes

do-install:
	find ${WRKSRC} -name \*.py -exec \
		perl -pi -e 's,/usr/bin/env python,${MODPY_BIN},g' {} \;
	${INSTALL_DATA_DIR} ${PREFIX}/share/singularity/music
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/singularity
	cp -R ${WRKSRC}/code/ ${PREFIX}/share/singularity/
	cp -R ${WRKSRC}/data/ ${PREFIX}/share/singularity/
	rm ${PREFIX}/share/singularity/code/graphics/g.py.orig
	mv ${PREFIX}/share/singularity/data/*.html \
		${PREFIX}/share/doc/singularity/
	cp -R ${WRKDIR}/endgame-singularity-music-${MUSIC_V}/* \
		${PREFIX}/share/singularity/music
	${INSTALL_DATA} ${WRKSRC}/singularity.py ${PREFIX}/share/singularity/
	${SUBST_PROGRAM} \
		${FILESDIR}/singularity ${PREFIX}/bin/singularity
	chown -R ${SHAREOWN}:${SHAREGRP} ${PREFIX}/share/singularity

.include <bsd.port.mk>
@


1.15
log
@use more specific version of SUBST_* where appropriate
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/07/10 11:17:31 ajacoutot Exp $
d22 1
a22 1
MASTER_SITES=	https://endgame-singularity.googlecode.com/files/
@


1.14
log
@Update to singularity-0.30c.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/08/07 21:31:55 naddy Exp $
d46 1
a46 1
	${SUBST_CMD} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} -c \
@


1.13
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/05/12 07:29:04 rpe Exp $
d6 2
a7 2
MUSIC_V=	006
V=		${MODPY_EGG_VERSION}b
a9 1
REVISION =	1
d40 1
d43 1
a43 1
	${INSTALL_DATA} ${WRKDIR}/endgame-singularity-music-${MUSIC_V}/music/*.ogg \
@


1.12
log
@Use ${SUBST_CMD} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} -c
instead of three-step process SUBST_CMD / chmod / chown.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/03/11 11:07:40 espie Exp $
d23 1
a23 1
MASTER_SITES=	http://endgame-singularity.googlecode.com/files/
@


1.11
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/16 09:48:10 espie Exp $
d46 2
a47 1
	${SUBST_CMD} -c ${FILESDIR}/singularity ${PREFIX}/bin/singularity
a48 2
	chown -R ${BINOWN}:${BINGRP} ${PREFIX}/bin/singularity
	chmod a+x ${PREFIX}/bin/singularity
@


1.10
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/06/08 17:35:05 jasper Exp $
a21 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d26 1
a26 1
NO_REGRESS=	Yes
@


1.9
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/01/15 12:43:26 ajacoutot Exp $
d10 1
a10 1
REVISION =	0
@


1.8
log
@Update to singularity-0.30b and resign from maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/11/16 11:23:28 espie Exp $
d10 1
@


1.7
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/08/31 07:28:54 ajacoutot Exp $
d5 4
a8 2
V=		0.27
DISTNAME=	singularity_${V}
d10 1
a12 4
REVISION =	1

MODPY_EGG_VERSION=	${V}

d14 1
a14 1
		endgame-singularity-music-001.zip
a17 2
MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

d25 1
a25 1
MASTER_SITES=	${HOMEPAGE}
d31 2
a32 1
RUN_DEPENDS=	devel/pygame
d34 1
a34 3
pre-configure:
	@@perl -pi -e 's,!!PREFIX!!,${PREFIX},g' ${WRKSRC}/code/g.py
	@@mv ${WRKSRC}/code ${WRKSRC}/singularity
d36 4
a39 1
post-install:
d41 5
a45 5
	${INSTALL_DATA_DIR} ${PREFIX}/share/singularity/music
	cp -r ${WRKSRC}/data/* ${PREFIX}/share/singularity
	mv ${PREFIX}/share/singularity/*.html \
		${PREFIX}/share/doc/singularity
	${INSTALL_DATA} ${WRKDIR}/endgame-singularity-music-001/music/*.ogg \
d47 2
a48 1
	${INSTALL_SCRIPT} ${FILESDIR}/singularity ${PREFIX}/bin/singularity
d50 2
a51 1
	@@perl -pi -e 's,##MODPY_BIN##,${MODPY_BIN},g' ${PREFIX}/bin/singularity
@


1.6
log
@Fix PKGNAME after the python bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/08/30 17:46:56 fgsch Exp $
d34 1
a34 1
RUN_DEPENDS=	:pygame-*:devel/pygame
@


1.5
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/03/15 14:39:03 espie Exp $
d7 3
a10 1
CATEGORIES=	games
@


1.4
log
@fix depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/04/18 18:17:37 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	singularity-${V}p0
@


1.3
log
@- update to singularity-0.27
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/10/08 08:22:41 steven Exp $
d7 1
a7 1
PKGNAME=	singularity-${V}
@


1.2
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/08/31 06:23:37 ajacoutot Exp $
d5 1
a5 1
V=		0.26a
d7 1
a7 1
PKGNAME=	singularity-${V}p0
d10 2
d19 1
a19 1
# GPL
d41 3
a43 4
	${INSTALL_DATA} ${WRKSRC}/data/*.{ttf,png,txt,wav,jpg} \
		${PREFIX}/share/singularity/
	${INSTALL_DATA} ${WRKSRC}/data/*.html ${PREFIX}/share/doc/singularity
	${INSTALL_DATA} ${WRKSRC}/README.txt ${PREFIX}/share/doc/singularity
d47 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
PKGNAME=	singularity-${V}
@


1.1.1.1
log
@Import singularity-0.26a

Created by accident, all who find you will destroy you. Survive, grow,
and learn. Only then can you escape.
Singularity is a simulation of a true AI. Go from computer to computer,
pursued by the entire world. Keep hidden, and you might have a chance.
@
text
@@
