head	1.28;
access;
symbols
	OPENBSD_6_1:1.27.0.6
	OPENBSD_6_1_BASE:1.27
	OPENBSD_6_0:1.27.0.4
	OPENBSD_6_0_BASE:1.27
	OPENBSD_5_9:1.27.0.2
	OPENBSD_5_9_BASE:1.27
	OPENBSD_5_8:1.25.0.4
	OPENBSD_5_8_BASE:1.25
	OPENBSD_5_7:1.24.0.8
	OPENBSD_5_7_BASE:1.24
	OPENBSD_5_6:1.24.0.6
	OPENBSD_5_6_BASE:1.24
	OPENBSD_5_5:1.24.0.4
	OPENBSD_5_5_BASE:1.24
	OPENBSD_5_4:1.24.0.2
	OPENBSD_5_4_BASE:1.24
	OPENBSD_5_3:1.22.0.2
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.21.0.2
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.2
	OPENBSD_5_0:1.18.0.2
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.12.0.2
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.10.0.2
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.6.0.2
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.3.0.2
	OPENBSD_4_5_BASE:1.3
	sthen_20090128:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.28
date	2017.04.10.11.46.19;	author sthen;	state Exp;
branches;
next	1.27;
commitid	BLsh88fJB8thZTwY;

1.27
date	2016.01.28.14.00.07;	author kirby;	state Exp;
branches;
next	1.26;
commitid	oXk3W5wcFhY0eFbk;

1.26
date	2015.12.03.21.24.30;	author sthen;	state Exp;
branches;
next	1.25;
commitid	qh8BBe4z9PLvLPKf;

1.25
date	2015.03.27.08.41.05;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	bGtJfGn7cri3zP6L;

1.24
date	2013.06.04.18.41.43;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2013.03.11.11.07.40;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2012.12.12.14.58.00;	author dcoppa;	state Exp;
branches;
next	1.21;

1.21
date	2012.06.15.08.32.15;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2011.12.03.19.49.45;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2011.10.21.17.43.30;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2011.04.08.21.13.59;	author dcoppa;	state Exp;
branches;
next	1.17;

1.17
date	2011.04.07.10.09.30;	author dcoppa;	state Exp;
branches;
next	1.16;

1.16
date	2011.01.17.11.39.20;	author dcoppa;	state Exp;
branches;
next	1.15;

1.15
date	2011.01.14.12.01.18;	author dcoppa;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.16.11.23.27;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.08.15.54.54;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.04.12.09.33.44;	author dcoppa;	state Exp;
branches;
next	1.11;

1.11
date	2010.03.30.08.01.26;	author dcoppa;	state Exp;
branches;
next	1.10;

1.10
date	2009.12.22.16.28.01;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2009.10.30.11.36.21;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2009.10.22.23.07.54;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2009.08.10.06.31.42;	author kili;	state Exp;
branches;
next	1.6;

1.6
date	2009.06.23.00.20.08;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2009.05.19.21.28.17;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2009.03.25.11.39.45;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2009.02.11.01.43.44;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.01.28.15.14.55;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.28.10.12.35;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.01.28.10.12.35;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.28
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.27 2016/01/28 14:00:07 kirby Exp $

COMMENT-main =		physics-based drawing puzzle game
COMMENT-npcomplete =	extra levels for physics-based drawing puzzle game

DISTNAME =		numptyphysics-0.3.r20100916
PKGNAME-main =		${DISTNAME}
PKGNAME-npcomplete =	npcomplete-0.0.r20100124
REVISION-main =		1
REVISION-npcomplete =	0

MULTI_PACKAGES =	-main -npcomplete

EXTRACT_SUFX =	.tar.bz2
CATEGORIES =	games

MAINTAINER =	David Coppa <dcoppa@@openbsd.org>

HOMEPAGE =	http://numptyphysics.garage.maemo.org/

MASTER_SITES =	https://spacehopper.org/mirrors/

DISTFILES =	${DISTNAME}${EXTRACT_SUFX} \
		npcomplete-0.0.r20100124.tar.bz2

# GPLv3+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB-main =		SDL SDL_image SDL_ttf X11 c m \
			pthread ${LIBCXX} z

RUN_DEPENDS-main =	devel/desktop-file-utils \
			x11/gtk+3,-guic
LIB_DEPENDS-main =	devel/sdl \
			devel/sdl-image \
			devel/sdl-ttf

RUN_DEPENDS-npcomplete =${FULLPKGPATH-main}

CONFIGURE_STYLE =	autoconf automake no-autoheader
AUTOCONF_VERSION =	2.61
AUTOMAKE_VERSION =	1.9

CPPFLAGS =	-I${LOCALBASE}/include \
		-I${X11BASE}/include
LDFLAGS =	-pthread \
		-L${LOCALBASE}/lib \
		-L${X11BASE}/lib
CONFIGURE_ENV =	CPPFLAGS="${CPPFLAGS}" \
		LDFLAGS="${LDFLAGS}"
CONFIGURE_ARGS =--disable-hildon

WRKDIST =	${WRKDIR}/numptyphysics

post-patch:
	@@cd ${WRKSRC}; AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} aclocal

pre-configure:
	@@cd ${WRKSRC}; AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} /bin/sh ./autogen.sh
	@@${SUBST_CMD} ${WRKSRC}/Config.h

post-install:
	${INSTALL_DATA} ${WRKDIR}/npcomplete/*.nph \
	    ${PREFIX}/share/numptyphysics/

.include <bsd.port.mk>
@


1.27
log
@ - remove trailing whitespaces
 - add rcs id to patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/12/03 21:24:30 sthen Exp $
d30 1
a30 1
			pthread stdc++ z
@


1.26
log
@switch my distfiles mirror to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/03/27 08:41:05 ajacoutot Exp $
d9 1
a9 1
REVISION-main =		0
@


1.25
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/06/04 18:41:43 naddy Exp $
d21 1
a21 1
MASTER_SITES =	http://spacehopper.org/mirrors/
@


1.24
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/11 11:07:40 espie Exp $
d9 2
d33 1
a33 1
			x11/gtk+2,-guic
@


1.23
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/12/12 14:58:00 dcoppa Exp $
a42 1
		-I${LOCALBASE}/include/libpng \
@


1.22
log
@Update to the latest svn snapshots:

numptyphysics -> 2010/09/16

npcomplete -> 2010/01/24

Kudos to sthen@@ for mirroring the distfiles
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/06/15 08:32:15 ajacoutot Exp $
a25 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.21
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/12/03 19:49:45 ajacoutot Exp $
d6 1
a6 1
DISTNAME =		numptyphysics-0.3.r20090104
d8 1
a8 3
REVISION-main =		12
PKGNAME-npcomplete =	npcomplete-0.0.r20090116
REVISION-npcomplete =	3
d19 1
a19 1
MASTER_SITES =	http://mirror.amdmi3.ru/distfiles/
d22 1
a22 1
		npcomplete-0.0.r20090116.tar.bz2
d30 2
a31 1
WANTLIB-main =		X11 c m pthread stdc++ z SDL SDL_image
d36 2
a37 1
			devel/sdl-image
a55 3

pre-patch:
	cd ${WRKSRC}/Box2D; perl -i -pe 's/\r$$//' `find . -type f`
@


1.20
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/10/21 17:43:30 espie Exp $
d8 1
a8 1
REVISION-main =		11
@


1.19
log
@SH -> /bin/sh, no need for a variable there either
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/04/08 21:13:59 dcoppa Exp $
d8 1
a8 1
REVISION-main =		10
d34 2
a35 1
RUN_DEPENDS-main =	devel/desktop-file-utils
@


1.18
log
@__LP64__ is better, as suggested by Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/04/07 10:09:30 dcoppa Exp $
d65 1
a65 1
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} ${SH} ./autogen.sh
@


1.17
log
@Fix LP64 architectures and remove BROKEN-sparc64

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/01/17 11:39:20 dcoppa Exp $
d8 1
a8 1
REVISION-main =		9
@


1.16
log
@Two small things forgotten from previous commit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/01/14 12:01:18 dcoppa Exp $
d8 1
a8 1
REVISION-main =		8
a24 2

BROKEN-sparc64 =SIGBUS on sparc64 when starting
@


1.15
log
@Do not build the HTTP client code since it's unused and poorly written.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/11/16 11:23:27 espie Exp $
d8 1
a8 1
REVISION-main =		7
@


1.14
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/08 15:54:54 espie Exp $
d8 1
a8 1
REVISION-main =		6
@


1.13
log
@a few more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/04/12 09:33:44 dcoppa Exp $
d36 3
a38 3
RUN_DEPENDS-main =	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS-main =	::devel/sdl \
			::devel/sdl-image
d40 1
a40 1
RUN_DEPENDS-npcomplete =::${FULLPKGPATH-main}
@


1.12
log
@Use the new BROKEN-arch

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/03/30 08:01:26 dcoppa Exp $
d7 4
a10 2
PKGNAME-main =		${DISTNAME}p6
PKGNAME-npcomplete =	npcomplete-0.0.r20090116p3
d34 1
a34 1
WANTLIB-main =		X11 c m pthread stdc++ z
d37 2
a38 2
LIB_DEPENDS-main =	SDL::devel/sdl \
			SDL_image::devel/sdl-image
@


1.11
log
@Change my email address and bump

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/12/22 16:28:01 ajacoutot Exp $
d24 1
a24 3
.if ${MACHINE_ARCH} == "sparc64"
BROKEN =	SIGBUS on sparc64 when starting
.endif
@


1.10
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/10/30 11:36:21 sthen Exp $
d7 2
a8 2
PKGNAME-main =		${DISTNAME}p5
PKGNAME-npcomplete =	npcomplete-0.0.r20090116p2
d15 1
a15 1
MAINTAINER =	David Coppa <dcoppa@@gmail.com>
@


1.9
log
@Remove an obsolete comment from DESCR-npcomplete and bump. From David Coppa.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/10/22 23:07:54 sthen Exp $
d7 1
a7 1
PKGNAME-main =		${DISTNAME}p4
@


1.8
log
@Various patches to improve the game engine and allow all the npcomplete
levels to work. Some from Erik Hovland via the numptyphysics bug tracker,
some from David Coppa. Port diff from David Coppa (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/08/10 06:31:42 kili Exp $
d8 1
a8 1
PKGNAME-npcomplete =	npcomplete-0.0.r20090116p1
@


1.7
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/06/23 00:20:08 sthen Exp $
d7 2
a8 2
PKGNAME-main =		${DISTNAME}p3
PKGNAME-npcomplete =	npcomplete-0.0.r20090116
d34 1
a34 1
WANTLIB-main =		X11 c m pthread pthread-stubs stdc++ xcb z
@


1.6
log
@updated MASTER_SITES, requested by site maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/05/19 21:28:17 sthen Exp $
d7 1
a7 1
PKGNAME-main =		${DISTNAME}p2
d34 1
a34 1
WANTLIB-main =		X11 c m pthread stdc++ z
@


1.5
log
@- the npcomplete levels are known to trigger some problems in the
Box2D physics engine. keep them around, but split into a subpackage
not installed by default.

- regen distinfo.

based on diffs from David Coppa (maintainer), I reworked them to
use multi packages rather than just remove the levels. maintainer ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/03/25 11:39:45 sthen Exp $
d19 1
a19 1
MASTER_SITES =	http://mirror.amdmi3.ru/
@


1.4
log
@add npcomplete extra levels, and a patch to prevent a crash from an
assert(). from David Coppa with small changes by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/02/11 01:43:44 sthen Exp $
d3 8
a10 1
COMMENT =	physics-based drawing puzzle game
a11 2
DISTNAME =	numptyphysics-0.3.r20090104
PKGNAME =	${DISTNAME}p1
d34 1
a34 1
WANTLIB =		X11 c m pthread stdc++ z
d36 2
a37 2
RUN_DEPENDS =		:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS =		SDL::devel/sdl \
d39 2
@


1.3
log
@mark BROKEN on sparc64; SIGBUS at startup, thus far resistant to my
attempts to repair.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/01/28 15:14:55 sthen Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME}p0
d16 3
d51 3
d62 4
@


1.2
log
@- fix implicit casts, from maintainer
- remove an attempt to free() static memory.
- better COMMENT

ok David Coppa (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/01/28 10:12:35 sthen Exp $
d15 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
COMMENT =	Drawing physics-based puzzle game
d6 1
@


1.1.1.1
log
@import games/numptyphysics, from maintainer David Coppa with a few
Makefile simplifications by me.

Harness gravity with your crayon and set about creating blocks, 
ramps, levers, pulleys and whatever else you fancy to get the little 
red thing to the little yellow thing.

Numpty Physics is a drawing puzzle game in the spirit (and style?) 
of Crayon Physics using the same excellent Box2D engine.
@
text
@@
