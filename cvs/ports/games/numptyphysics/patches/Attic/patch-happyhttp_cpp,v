head	1.3;
access;
symbols
	OPENBSD_4_8:1.2.0.4
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.1.1.1.0.4
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	sthen_20090128:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2011.01.14.12.01.18;	author dcoppa;	state dead;
branches;
next	1.2;

1.2
date	2009.10.22.23.07.54;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.28.10.12.35;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.01.28.10.12.35;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Do not build the HTTP client code since it's unused and poorly written.
@
text
@$OpenBSD: patch-happyhttp_cpp,v 1.2 2009/10/22 23:07:54 sthen Exp $
--- happyhttp.cpp.orig	Thu Aug 28 12:08:27 2008
+++ happyhttp.cpp	Thu Oct 15 17:41:39 2009
@@@@ -28,12 +28,12 @@@@
 #include "happyhttp.h"
 
 #ifndef WIN32
+	#include <cerrno>
 //	#include <sys/types.h>
 	#include <sys/socket.h>
 	#include <netinet/in.h>
 	#include <arpa/inet.h>
 	#include <netdb.h>	// for gethostbyname()
-	#include <errno.h>
 #endif
 
 #ifdef WIN32
@@@@ -48,7 +48,6 @@@@
 
 #include <string>
 #include <vector>
-#include <string>
 #include <algorithm>
 
 
@@@@ -357,7 +356,7 @@@@ void Connection::putrequest( const char* method, const
 	m_State = REQ_STARTED;
 
 	char req[ 512 ];
-	sprintf( req, "%s %s HTTP/1.1", method, url );
+	snprintf( req, 512, "%s %s HTTP/1.1", method, url );
 	m_Buffer.push_back( req );
 
 	putheader( "Host", m_Host.c_str() );	// required for HTTP1.1
@@@@ -381,7 +380,7 @@@@ void Connection::putheader( const char* header, const 
 void Connection::putheader( const char* header, int numericvalue )
 {
 	char buf[32];
-	sprintf( buf, "%d", numericvalue );
+	snprintf( buf, 32, "%d", numericvalue );
 	putheader( header, buf );
 }
 
@


1.2
log
@Various patches to improve the game engine and allow all the npcomplete
levels to work. Some from Erik Hovland via the numptyphysics bug tracker,
some from David Coppa. Port diff from David Coppa (maintainer).
@
text
@d1 1
a1 1
$OpenBSD: patch-happyhttp_cpp,v 1.1.1.1 2009/01/28 10:12:35 sthen Exp $
@


1.1
log
@Initial revision
@
text
@d1 26
a26 4
$OpenBSD$
--- happyhttp.cpp.orig	Thu Aug 28 11:08:27 2008
+++ happyhttp.cpp	Tue Jan 27 13:47:09 2009
@@@@ -357,7 +357,7 @@@@ void Connection::putrequest( const char* method, const
d35 1
a35 1
@@@@ -381,7 +381,7 @@@@ void Connection::putheader( const char* header, const 
@


1.1.1.1
log
@import games/numptyphysics, from maintainer David Coppa with a few
Makefile simplifications by me.

Harness gravity with your crayon and set about creating blocks, 
ramps, levers, pulleys and whatever else you fancy to get the little 
red thing to the little yellow thing.

Numpty Physics is a drawing puzzle game in the spirit (and style?) 
of Crayon Physics using the same excellent Box2D engine.
@
text
@@
