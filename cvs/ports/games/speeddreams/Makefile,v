head	1.5;
access;
symbols
	OPENBSD_6_1:1.5.0.2
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.4.0.2
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.2.0.6
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.1.1.0.2
	OPENBSD_5_5_BASE:1.1.1.1
	pascal_20130823:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2016.09.20.18.18.52;	author pascal;	state Exp;
branches;
next	1.4;
commitid	IyF6x1oe8oORsBvL;

1.4
date	2016.05.07.12.40.57;	author pascal;	state Exp;
branches;
next	1.3;
commitid	Fec0PsLcTwj1Q99H;

1.3
date	2016.03.18.23.12.17;	author naddy;	state Exp;
branches;
next	1.2;
commitid	KZAl4KEiw6a3Jixw;

1.2
date	2014.07.11.15.10.39;	author pascal;	state Exp;
branches;
next	1.1;
commitid	WMFuGm9fKhVyyWr0;

1.1
date	2013.08.23.11.16.15;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.08.23.11.16.15;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to Speeddreams 2.2.1.
@
text
@# $OpenBSD: Makefile,v 1.4 2016/05/07 12:40:57 pascal Exp $

ONLY_FOR_ARCHS =	amd64 i386

MULTI_PACKAGES =	-main -data

COMMENT-main =		open source motorsport simulation
COMMENT-data =		open source motorsport simulation, data files

V =			2.2.1
REV =			r6404
DISTNAME =		speed-dreams-src-base-$V-${REV}
PKGNAME-main =		speeddreams-$V
PKGNAME-data =		speeddreams-data-$V

CATEGORIES =		games

HOMEPAGE =		http://www.speed-dreams.org/

MAINTAINER =		Pascal Stumpf <pascal@@stumpf.co>

# GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB-main += GL GLU ICE OpenThreads SDL2 SM X11 Xext Xrandr c enet
WANTLIB-main += expat jpeg m ogg openal osg osgDB osgFX osgGA osgParticle
WANTLIB-main += osgShadow osgUtil osgViewer png pthread stdc++ vorbis
WANTLIB-main += vorbisfile z
WANTLIB-data = #empty

MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=speed-dreams/}
EXTRACT_SUFX =		.tar.xz
TAR =			${LOCALBASE}/bin/gtar
# avoid WRKDIST = ${WRKDIR}
EXTRACT_CASES = *.tar.xz) \
        xzcat ${FULLDISTDIR}/$$archive | ${TAR} xf - -C ${WRKDIST};;

DISTFILES = \
	${DISTNAME}${EXTRACT_SUFX} \
	speed-dreams-src-hq-cars-and-tracks-$V-${REV}${EXTRACT_SUFX} \
	speed-dreams-src-more-hq-cars-and-tracks-$V-${REV}${EXTRACT_SUFX} \
	speed-dreams-src-wip-cars-and-tracks-$V-${REV}${EXTRACT_SUFX} \
	speed-dreams-src-unmaintained-$V-${REV}${EXTRACT_SUFX}

MODULES =		devel/cmake
BUILD_DEPENDS =		devel/plib \
			archivers/gtar
LIB_DEPENDS-main =	net/enet \
			devel/sdl2 \
			audio/openal \
			graphics/png \
			graphics/jpeg \
			audio/libvorbis \
			graphics/openscenegraph
RUN_DEPENDS-main =	${BASE_PKGPATH},-data

PKG_ARCH-data =		*

CONFIGURE_ARGS +=	-DOPTION_OFFICIAL_ONLY=ON \
			-DCMAKE_SHARED_LINKER_FLAGS="-L${LOCALBASE}/lib" \
			-DCMAKE_MODULE_LINKER_FLAGS="-L${LOCALBASE}/lib" \
			-DCMAKE_EXE_LINKER_FLAGS="-L${LOCALBASE}/lib"

NO_TEST =		Yes

CXXFLAGS +=		-I${X11BASE}/include

pre-extract:
	@@mkdir ${WRKDIST}

post-extract:
	perl -pi -e 's/\015$$//' ${WRKSRC}/src/modules/simu/simuv4/simu.cpp

.include <bsd.port.mk>
@


1.4
log
@Update my mail address.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/03/18 23:12:17 naddy Exp $
d10 2
a11 2
V =			2.1.0
REV =			r5799
a14 2
REVISION-data =		0
REVISION-main =		0
d25 4
a28 2
WANTLIB-main += GL GLU ICE SDL SM X11 Xext Xrandr c enet expat jpeg
WANTLIB-main += m ogg openal png pthread stdc++ vorbis vorbisfile z
d49 1
a49 1
			devel/sdl \
d53 2
a54 1
			audio/libvorbis
d65 2
@


1.3
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/07/11 15:10:39 pascal Exp $
d15 2
d22 1
a22 1
MAINTAINER =		Pascal Stumpf <Pascal.Stumpf@@cubes.de>
@


1.2
log
@Update to 2.1.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.1.1.1 2013/08/23 11:16:15 pascal Exp $

SHARED_ONLY =		Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d12 2
a13 2
V =			2.0.0
REV =			r4687
d27 2
a28 2
WANTLIB-main += GL GLU ICE SDL SM X11 Xext Xrandr c enet jpeg m openal
WANTLIB-main += png pthread stdc++ z
d33 1
d46 2
a47 1
BUILD_DEPENDS =		devel/plib
d52 2
a53 1
			graphics/jpeg
d58 4
a61 1
CONFIGURE_ARGS +=	-DOPTION_OFFICIAL_ONLY=ON
d67 3
@


1.1.1.1
log
@Import Speed Dreams.

Speed Dreams is a fork of the famous open racing car simulator
Torcs, aiming to implement exciting new features, cars, tracks and
AI opponents to make a more enjoyable game for the player, as well
as constantly improving visual and physics realism.

tweaks by sthen@@ and zhuk@@, ok sthen@@
@
text
@@
