head	1.22;
access;
symbols
	OPENBSD_6_1:1.21.0.16
	OPENBSD_6_1_BASE:1.21
	OPENBSD_6_0:1.21.0.14
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.21.0.10
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.21.0.12
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.21.0.8
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.21.0.6
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.21.0.4
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.21.0.2
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.20.0.6
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.20.0.4
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.2
	OPENBSD_5_0:1.19.0.2
	OPENBSD_5_0_BASE:1.19
	OPENBSD_4_9:1.18.0.2
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.16.0.6
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.16.0.4
	OPENBSD_4_7_BASE:1.16
	OPENBSD_4_6:1.16.0.2
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.15.0.6
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.15.0.4
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.2
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.11.0.6
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.11.0.4
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.2
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.10.0.6
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.10.0.4
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.10.0.2
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.8.0.6
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.4
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.2
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.6.0.2
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.4.0.2
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	mark_2002-Mar-20:1.1.1.1
	mark:1.1.1;
locks; strict;
comment	@# @;


1.22
date	2017.05.16.19.50.42;	author landry;	state dead;
branches;
next	1.21;
commitid	iDhBb6VKqvWIxuxv;

1.21
date	2013.03.11.11.07.38;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2011.09.16.09.48.09;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2011.06.08.17.35.04;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2010.11.16.11.23.26;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.08.30.17.46.56;	author fgsch;	state Exp;
branches;
next	1.16;

1.16
date	2009.03.15.14.39.02;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2008.01.14.06.43.16;	author sturm;	state Exp;
branches;
next	1.14;

1.14
date	2008.01.13.00.13.54;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2007.12.04.14.43.17;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2007.09.15.18.01.01;	author simon;	state Exp;
branches;
next	1.11;

1.11
date	2006.08.02.09.36.20;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2005.02.14.00.35.53;	author pvalchev;	state Exp;
branches;
next	1.9;

1.9
date	2004.11.28.22.41.15;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2003.05.12.22.39.27;	author jolan;	state Exp;
branches;
next	1.7;

1.7
date	2003.04.04.01.37.25;	author margarida;	state Exp;
branches;
next	1.6;

1.6
date	2003.03.06.01.09.27;	author pvalchev;	state Exp;
branches;
next	1.5;

1.5
date	2003.02.28.23.31.00;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2002.07.18.14.13.08;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2002.06.08.06.03.09;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.20.12.01.46;	author mark;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.20.08.25.57;	author mark;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.20.08.25.57;	author mark;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Remove castle-combat, last upstream release was 10+ years ago so it
probably doesnt work with newer twisted. Prove me wrong :)
@
text
@# $OpenBSD: Makefile,v 1.21 2013/03/11 11:07:38 espie Exp $

COMMENT=	Rampart arcade game clone for X11

DISTNAME=	castle-combat-0.8.1
REVISION =	5
CATEGORIES=	games x11

HOMEPAGE=	http://www.linux-games.com/castle-combat/

# GPL
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=castle-combat/}

MODULES=	lang/python

RUN_DEPENDS=	devel/pygame \
		devel/py-twisted/core \
		math/py-Numeric

NO_BUILD=	Yes
NO_TEST=	Yes

pre-configure:
	@@perl -pi -e 's,!!MODPY_BIN!!,${MODPY_BIN},g' \
		${WRKSRC}/castle-combat.py
	@@perl -pi -e 's,!!PREFIX!!,${PREFIX},g' \
		${WRKSRC}/castle-combat.py \
		${WRKSRC}/src/common.py \
		${WRKSRC}/src/menu.py

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/castle-combat/{gfx,sound,src}
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/castle-combat
	${INSTALL_SCRIPT} ${WRKSRC}/castle-combat.py \
		${PREFIX}/bin/castle-combat
	${INSTALL_DATA} ${WRKSRC}/data/colourba.ttf \
		${PREFIX}/share/castle-combat
	${INSTALL_DATA} ${WRKSRC}/src/*.py \
		${PREFIX}/share/castle-combat/src
	${INSTALL_DATA} ${WRKSRC}/data/gfx/* \
		${PREFIX}/share/castle-combat/gfx
	${INSTALL_DATA} ${WRKSRC}/data/sound/* \
		${PREFIX}/share/castle-combat/sound
	${INSTALL_DATA} ${WRKSRC}/data/doc/rules.html \
		${WRKSRC}/data/font_read_me.html \
		${PREFIX}/share/doc/castle-combat

.include <bsd.port.mk>
@


1.21
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/09/16 09:48:09 espie Exp $
@


1.20
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/06/08 17:35:04 jasper Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d23 1
a23 1
NO_REGRESS=	Yes
@


1.19
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/11/16 11:23:26 espie Exp $
d6 1
a6 1
REVISION =	4
@


1.18
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/08/30 17:46:56 fgsch Exp $
d6 1
a6 1
REVISION =	3
@


1.17
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/03/15 14:39:02 espie Exp $
d21 3
a23 3
RUN_DEPENDS=	::devel/pygame \
		::devel/py-twisted/core \
		:py-Numeric-*:math/py-Numeric
@


1.16
log
@fix depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/01/14 06:43:16 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.15
log
@typo in RUN_DEPENDS that killed mirror-maker
bump PKGNAME to be sure
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/01/13 00:13:54 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.14
log
@- add py-Numeric to run_depends

from Will Maier
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/12/04 14:43:17 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d23 1
a23 1
		::py-Numeric-*:math/py-Numeric
@


1.13
log
@- update to castle-combat-0.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/09/15 18:01:01 simon Exp $
d6 1
d22 2
a23 1
		::devel/py-twisted/core
@


1.12
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/08/02 09:36:20 espie Exp $
d5 1
a5 2
VERSION=	0.7.2
DISTNAME=	castle-combat-${VERSION}
a14 1
WANTLIB=		X11 Xext c m pthread usbhid z
d16 34
a49 12
LIB_DEPENDS=	SDL::devel/sdl \
		SDL_mixer::devel/sdl-mixer \
		SDL_net::devel/sdl-net \
		png.>=2::graphics/png

MASTER_SITES=	http://user.cs.tu-berlin.de/~karlb/castle-combat/

USE_X11= Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --with-png
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.11
log
@more newstyle lib-depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/02/14 00:35:53 pvalchev Exp $
d3 1
a3 1
COMMENT=	"Rampart arcade game clone for X11" 
@


1.10
log
@remove Lurene Grenier from maintainer position (unresponsive, and now
email bounces)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/11/28 22:41:15 espie Exp $
d21 1
a21 1
		png.2::graphics/png
@


1.9
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2003/05/12 22:39:27 jolan Exp $
a9 2

MAINTAINER=	Lurene Grenier <lurene@@daemonkitty.net>
@


1.8
log
@no need to specify mikmod for sdl-mixer anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2003/04/04 01:37:25 margarida Exp $
d18 1
@


1.7
log
@Fix LIB_DEPENDS by adding mikmod as a FLAVOR of sdl-mixer.
Missing white space in DESCR.
Thanks to Jolan Luff for all the testing.

brad@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/03/06 01:09:27 pvalchev Exp $
d20 1
a20 1
		SDL_mixer::devel/sdl-mixer,mikmod \
@


1.6
log
@- Fix sdl-net dependency: do not build own version of SDL_net, but use
devel/sdl-net which was additionally picked up if installed
- Fix CONFIGURE_STYLE, "gnu" instead of "autoconf"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/02/28 23:31:00 naddy Exp $
d20 1
a20 1
		SDL_mixer::devel/sdl-mixer \
@


1.5
log
@Fix master site; from Jolan Luff <jolan@@cryptonomicon.org>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/07/18 14:13:08 brad Exp $
d21 1
d27 1
a27 1
CONFIGURE_STYLE= autoconf
@


1.4
log
@png header path change.
@
text
@d1 2
a2 1
# $OpenBSD: Makefile,v 1.3 2002/06/08 06:03:09 pvalchev Exp $
a6 1

d23 1
a23 1
MASTER_SITES=	${HOMEPAGE}
@


1.3
log
@*** empty log message ***
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/03/20 12:01:46 mark Exp $
a5 1
NEED_VERSION=	1.500
d28 1
a28 1
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
@


1.2
log
@should have left MASTER_SITES alone, thanks wilfried
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/03/20 08:25:57 mark Exp $
d12 1
a12 1
MAINTAINER=	Lurene Grenier <lurene@@menagerie.tf>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d24 1
a24 2
MASTER_SITES=	http://www.linux-games.com/
MASTER_SITE_SUBDIR=castle-combat
@


1.1.1.1
log
@port from Lurene Grenier <lurene@@menagerie.tf>

Castle-Combat is a clone of the arcade classic, Rampart. This version 
currently supports 2 to 4 players on local or remote servers. Players
build castle walls, place cannons inside these walls, and shoot at the 
walls of their enemy(s). If a player can't build a complete wall around 
one of his castles, he loses. The last surviving player wins.

@
text
@@
