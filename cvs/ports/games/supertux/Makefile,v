head	1.12;
access;
symbols
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.1.1.0.2
	OPENBSD_5_5_BASE:1.1.1.1
	pascal_20130812:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2017.08.12.20.15.34;	author dcoppa;	state Exp;
branches;
next	1.11;
commitid	gznPqVxGimVOu2ot;

1.11
date	2017.07.26.22.45.22;	author sthen;	state Exp;
branches;
next	1.10;
commitid	tD4MFrpYYDDL2UFT;

1.10
date	2017.07.16.19.18.55;	author espie;	state Exp;
branches;
next	1.9;
commitid	tt0GhWK5c4uf9ILG;

1.9
date	2017.05.31.08.08.16;	author espie;	state Exp;
branches;
next	1.8;
commitid	ij92FtFXiSiT1ani;

1.8
date	2017.05.27.04.51.02;	author espie;	state Exp;
branches;
next	1.7;
commitid	91iROuKlHPKVB5po;

1.7
date	2017.04.18.16.28.50;	author pascal;	state Exp;
branches;
next	1.6;
commitid	oDnubqNM5gwIAtqD;

1.6
date	2016.09.12.22.20.36;	author naddy;	state Exp;
branches;
next	1.5;
commitid	InTplc9a5C6sX2LU;

1.5
date	2016.05.07.12.40.57;	author pascal;	state Exp;
branches;
next	1.4;
commitid	Fec0PsLcTwj1Q99H;

1.4
date	2016.01.23.13.30.10;	author pascal;	state Exp;
branches;
next	1.3;
commitid	FHDs8JM6jHbU8Srr;

1.3
date	2016.01.21.16.04.47;	author pascal;	state Exp;
branches;
next	1.2;
commitid	CYQl58bPrVE94hFm;

1.2
date	2014.06.21.11.54.29;	author jasper;	state Exp;
branches;
next	1.1;
commitid	G45BcdM5WsgWfLCL;

1.1
date	2013.08.12.16.43.38;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.08.12.16.43.38;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.12
log
@
Fix CMakeLists.txt, so we can drop USE_NINJA=No
@
text
@# $OpenBSD: Makefile,v 1.11 2017/07/26 22:45:22 sthen Exp $

COMMENT =		jump 'n' run game

V =			0.5.1
DISTNAME =		SuperTux-v${V}-Source
PKGNAME =		supertux-$V
REVISION =		0

CATEGORIES =		games

HOMEPAGE =		http://supertux.lethargik.org/

MAINTAINER =		Pascal Stumpf <pascal@@stumpf.co>

# GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += GL GLEW GLU SDL2 SDL2_image boost_date_time-mt boost_filesystem-mt
WANTLIB += boost_system-mt c curl m ogg openal pthread vorbis
WANTLIB += vorbisfile ${COMPILER_LIBCXX}

MASTER_SITES =		https://github.com/SuperTux/supertux/releases/download/v${V}/

MAKE_ENV +=		CXXFLAGS="${CXXFLAGS}"

MODULES +=		devel/cmake
COMPILER =		gcc
RUN_DEPENDS =		devel/desktop-file-utils
LIB_DEPENDS =		devel/sdl2-image \
			graphics/glew \
			net/curl \
			audio/openal \
			audio/libvorbis \
			devel/boost

CONFIGURE_ARGS +=	-DINSTALL_SUBDIR_BIN="${LOCALBASE}/bin" \
			-DBUILD_SHARED_LIBS=OFF

NO_TEST =		Yes
# XXX compiler bug
CXXFLAGS +=		-O1

post-extract:
	perl -i -pe 's/\r$$//' ${WRKDIST}/external/squirrel/CMakeLists.txt

.include <bsd.port.mk>
@


1.11
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2017/07/16 19:18:55 espie Exp $
a38 3

USE_GMAKE =		Yes
USE_NINJA =		No
@


1.10
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2017/05/31 08:08:16 espie Exp $
d8 1
@


1.9
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2017/05/27 04:51:02 espie Exp $
d20 1
a20 1
WANTLIB += vorbisfile ${LIBECXX}
@


1.8
log
@more WANT_CXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2017/04/18 16:28:50 pascal Exp $
d27 1
a27 1
WANT_CXX =		base gcc
@


1.7
log
@Update to supertux 0.5.1.  Reminded by Max Teufel (upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/09/12 22:20:36 naddy Exp $
d20 1
a20 1
WANTLIB += vorbisfile
d26 2
a27 3
MODULES +=		devel/cmake gcc4
MODGCC4_ARCHS =		*
MODGCC4_LANGS =		c c++
@


1.6
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/05/07 12:40:57 pascal Exp $
d5 3
a7 3
V =			0.4.0
DISTNAME =		supertux-$V
REVISION =		0
d18 3
a20 2
WANTLIB += GL GLEW GLU SDL2 SDL2_image c curl iconv m ogg openal physfs
WANTLIB += pthread vorbis vorbisfile
d23 2
a24 1
EXTRACT_SUFX =		.tar.bz2
a28 1
BUILD_DEPENDS =		devel/boost
d30 1
a30 3
LIB_DEPENDS =		converters/libiconv \
			devel/sdl2-image \
			devel/physfs \
d34 2
a35 1
			audio/libvorbis
d41 1
@


1.5
log
@Update my mail address.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2016/01/23 13:30:10 pascal Exp $
d18 1
a18 1
WANTLIB += GL GLEW GLU SDL2 SDL2_image c curl m ogg openal physfs
d24 1
a24 1
MODULES +=		converters/libiconv devel/cmake gcc4
d29 2
a30 1
LIB_DEPENDS =		devel/sdl2-image \
@


1.4
log
@Missing BUILD_DEPENDS=devel/boost, found by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/01/21 16:04:47 pascal Exp $
d7 1
d13 1
a13 1
MAINTAINER =		Pascal Stumpf <Pascal.Stumpf@@cubes.de>
@


1.3
log
@Update to 0.4.0.

Cluebat and datadir patch from David Carlier.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/06/21 11:54:29 jasper Exp $
d26 1
@


1.2
log
@add working MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/08/12 16:43:38 pascal Exp $
d5 2
a6 1
DISTNAME =		supertux-0.1.3
d17 2
a18 1
WANTLIB += GL SDL SDL_image SDL_mixer X11 c m pthread stdc++ z
d20 1
a20 1
MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=supertux.berlios/}
d23 3
d27 6
a32 2
LIB_DEPENDS =		devel/sdl-image \
			devel/sdl-mixer
d34 2
a35 1
CONFIGURE_STYLE =	gnu
d40 5
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d18 1
a18 1
MASTER_SITES =		${MASTER_SITE_BERLIOS:=supertux/}
@


1.1.1.1
log
@Import games/supertux.

SuperTux is a jump'n run like game, with strong inspiration from
the Super Mario Bros games for Nintendo.

Run and jump through multiple worlds, fighting off enemies by jumping
on them or bumping them from below.  Grabbing power-ups and other
stuff on the way.

tweaks and ok sthen@@
@
text
@@
