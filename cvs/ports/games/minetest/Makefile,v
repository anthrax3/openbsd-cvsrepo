head	1.19;
access;
symbols
	OPENBSD_6_1:1.17.0.2
	OPENBSD_6_1_BASE:1.17
	OPENBSD_6_0:1.16.0.2
	OPENBSD_6_0_BASE:1.16
	OPENBSD_5_9:1.15.0.2
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.12.0.4
	OPENBSD_5_8_BASE:1.12
	OPENBSD_5_7:1.10.0.2
	OPENBSD_5_7_BASE:1.10
	OPENBSD_5_6:1.8.0.2
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.5.0.2
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	landry_20120807:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2017.07.16.19.18.54;	author espie;	state Exp;
branches;
next	1.18;
commitid	tt0GhWK5c4uf9ILG;

1.18
date	2017.04.10.11.46.19;	author sthen;	state Exp;
branches;
next	1.17;
commitid	BLsh88fJB8thZTwY;

1.17
date	2016.09.23.09.16.54;	author sthen;	state Exp;
branches;
next	1.16;
commitid	XLnI6AbHAmyVU5mO;

1.16
date	2016.06.27.05.26.13;	author landry;	state Exp;
branches;
next	1.15;
commitid	AxYyKPPYSRGa5AXv;

1.15
date	2015.11.06.12.16.12;	author landry;	state Exp;
branches;
next	1.14;
commitid	L0zrgmRVz05h98X2;

1.14
date	2015.09.17.22.06.30;	author landry;	state Exp;
branches;
next	1.13;
commitid	Q3dOicveHqNQgsU7;

1.13
date	2015.09.10.06.57.59;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	AFIajI32IHadlj0N;

1.12
date	2015.04.05.21.06.23;	author landry;	state Exp;
branches;
next	1.11;
commitid	8Kxnri9aQ8es1l1a;

1.11
date	2015.03.27.08.41.05;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	bGtJfGn7cri3zP6L;

1.10
date	2014.11.04.16.57.14;	author landry;	state Exp;
branches;
next	1.9;
commitid	IBRpfXDONoEgjkN9;

1.9
date	2014.11.04.15.41.40;	author dcoppa;	state Exp;
branches;
next	1.8;
commitid	It5INcyr88Cv1UGa;

1.8
date	2014.03.23.18.17.34;	author kili;	state Exp;
branches;
next	1.7;

1.7
date	2014.03.18.11.29.46;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2014.03.12.04.00.53;	author bentley;	state Exp;
branches;
next	1.5;

1.5
date	2013.12.02.16.25.08;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2013.08.07.08.02.48;	author jsg;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.11.11.07.39;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2012.11.26.16.03.31;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2012.08.07.13.39.54;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.08.07.13.39.54;	author landry;	state Exp;
branches;
next	;


desc
@@


1.19
log
@use COMPILER_LIBCXX where applicable
@
text
@# $OpenBSD: Makefile,v 1.18 2017/04/10 11:46:19 sthen Exp $

COMMENT =		infinite-world block sandbox game
V =			0.4.14
DISTNAME =		minetest-${V}
CATEGORIES =		games x11
REVISION =		0

HOMEPAGE =		http://www.minetest.net/

# source LGPLv2.1/ datas CC BY-SA 3.0
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += GL GLU ICE Irrlicht SM X11 Xext Xxf86vm bz2 c curl freetype jpeg m ogg openal
WANTLIB += png pthread spatialindex sqlite3 ${COMPILER_LIBCXX} vorbis vorbisfile z
WANTLIB += luajit-${MODLUA_VERSION}

MASTER_SITES =		https://github.com/minetest/

DISTFILES =		minetest-{minetest/archive/}${V}${EXTRACT_SUFX} \
			minetest-game-{minetest_game/archive/}${V}${EXTRACT_SUFX}

MODULES =		devel/cmake \
			devel/gettext \
			lang/lua

CONFIGURE_ARGS =	-DENABLE_GETTEXT=ON -DCUSTOM_MANDIR=${PREFIX}/man
CONFIGURE_ARGS+=	-DENABLE_REDIS=FALSE -DENABLE_LEVELDB=FALSE
CONFIGURE_ENV +=	CXXFLAGS="-I${X11BASE}/include"

RUN_DEPENDS =		devel/desktop-file-utils \
			x11/gtk+3,-guic

LIB_DEPENDS =		audio/openal \
			databases/sqlite3 \
			geo/spatialindex \
			audio/libvorbis \
			lang/luajit \
			net/curl \
			x11/irrlicht

NO_TEST =		Yes

post-install:
	mv ${WRKDIR}/minetest_game-${V}/ \
	${PREFIX}/share/minetest/games/minetest_game
	chown -R ${SHAREOWN}:${SHAREGRP} ${PREFIX}/share/minetest/games/minetest_game

.include <bsd.port.mk>
@


1.18
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2016/09/23 09:16:54 sthen Exp $
d15 1
a15 1
WANTLIB += png pthread spatialindex sqlite3 ${LIBCXX} vorbis vorbisfile z
@


1.17
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2016/06/27 05:26:13 landry Exp $
d15 1
a15 1
WANTLIB += png pthread spatialindex sqlite3 stdc++ vorbis vorbisfile z
@


1.16
log
@Update to minetest 0.4.14, from David Carlier, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/11/06 12:16:12 landry Exp $
d7 1
d35 1
@


1.15
log
@Force-disable redis detection at configure time, otherwise minetest
picks it if present. Noticed by naddy.
While here also force-disable leveldb detection...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2015/09/17 22:06:30 landry Exp $
d4 1
a4 1
V =			0.4.13
a6 1
REVISION =	0
@


1.14
log
@Update to minetest 0.4.13.

http://dev.minetest.net/Changelog#0.4.12_.E2.86.92_0.4.13
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2015/09/10 06:57:59 ajacoutot Exp $
d7 1
d28 1
@


1.13
log
@Picks up luajit.
Indent while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2015/04/05 21:06:23 landry Exp $
d4 1
a4 1
V =			0.4.12
a6 1
REVISION =		0
d13 2
a14 2
WANTLIB += GL GLU ICE Irrlicht SM X11 Xext Xxf86vm bz2 c curl jpeg m ogg openal
WANTLIB += png pthread sqlite3 stdc++ vorbis vorbisfile z
d33 1
@


1.12
log
@Update to minetest 0.4.12.

See http://dev.minetest.net/Changelog#0.4.11_.E2.86.92_0.4.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2015/03/27 08:41:05 ajacoutot Exp $
d3 5
a7 4
COMMENT =	infinite-world block sandbox game
V =		0.4.12
DISTNAME =	minetest-${V}
CATEGORIES =	games x11
d9 1
a9 1
HOMEPAGE =	http://www.minetest.net/
d12 1
a12 1
PERMIT_PACKAGE_CDROM =		Yes
d14 5
a18 1
MASTER_SITES=	https://github.com/minetest/
d20 6
a25 2
DISTFILES =	minetest-{minetest/archive/}${V}${EXTRACT_SUFX} \
		minetest-game-{minetest_game/archive/}${V}${EXTRACT_SUFX}
a26 2
MODULES =	devel/cmake \
		devel/gettext
d30 2
a31 7
RUN_DEPENDS=	devel/desktop-file-utils \
		x11/gtk+3,-guic
LIB_DEPENDS =	audio/openal \
		audio/libogg \
		audio/libvorbis \
		x11/irrlicht \
		net/curl
d33 5
a37 2
WANTLIB += GL GLU ICE Irrlicht SM X11 Xext Xxf86vm bz2 c curl jpeg m ogg openal
WANTLIB += png pthread sqlite3 stdc++ vorbis vorbisfile z
d39 1
a39 1
NO_TEST =	Yes
@


1.11
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2014/11/04 16:57:14 landry Exp $
d4 1
a4 1
V =		0.4.10
a6 1
REVISION =	0
d21 1
@


1.10
log
@Update to minetest 0.4.10.

See http://dev.minetest.net/Changelog#0.4.9_.E2.86.92_0.4.10 for changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2014/11/04 15:41:40 dcoppa Exp $
d7 1
d24 1
a24 1
		x11/gtk+2,-guic
@


1.9
log
@
No default optimizations
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2014/03/23 18:17:34 kili Exp $
d4 1
a4 1
V =		0.4.9
a6 1
REVISION =	2
d27 1
a28 1
BUILD_DEPENDS +=	x11/irrlicht
d30 2
a31 2
WANTLIB += GL GLU ICE SM X11 Xext Xxf86vm bz2 c curl jpeg m ogg openal
WANTLIB += png pthread sqlite3 stdc++ vorbis vorbisfile z GLESv2
@


1.8
log
@Revert librt changes.

Prodded by espie@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2014/03/18 11:29:46 ajacoutot Exp $
d7 1
a7 1
REVISION =	1
@


1.7
log
@Drop librt chunk and remove empty patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2014/03/12 04:00:53 bentley Exp $
d7 1
a7 1
REVISION =	0
@


1.6
log
@Update to minetest-0.4.9.

ok abieber@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/12/02 16:25:08 espie Exp $
d7 1
@


1.5
log
@remove redundancies with new filename{url}sufx scheme
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/08/07 08:02:48 jsg Exp $
d4 1
a4 1
V =		0.4.7
d31 3
a33 1
WANTLIB += png pthread sqlite3 stdc++ vorbis vorbisfile z
@


1.4
log
@update to 0.4.7
ok landry@@ looks good sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 11:07:39 espie Exp $
d15 2
a16 2
DISTFILES =	minetest-${V}${EXTRACT_SUFX}{minetest/archive/${V}${EXTRACT_SUFX}} \
		minetest-game-${V}${EXTRACT_SUFX}{minetest_game/archive/${V}${EXTRACT_SUFX}}
@


1.3
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/11/26 16:03:31 sthen Exp $
d4 2
a5 1
DISTNAME =	minetest-0.4.3
d13 1
a13 2
DISTFILES =	${DISTNAME}${EXTRACT_SUFX} \
		minetest-game-0.4.3${EXTRACT_SUFX}
d15 2
a16 3
#https://github.com/celeron55/minetest_game/tarball/0.4.1
#https://github.com/celeron55/minetest/tarball/0.4.1
MASTER_SITES =	http://spacehopper.org/mirrors/
d26 2
a27 1
		audio/libvorbis
d30 1
a30 1
WANTLIB += GL GLU ICE SM X11 Xext Xxf86vm bz2 c jpeg m ogg openal
d34 1
a34 1
	mv ${WRKDIR}/minetest_game-0.4.3/ \
@


1.2
log
@update to minetest-0.4.3, ok landry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/08/07 13:39:54 landry Exp $
a10 3
PERMIT_PACKAGE_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 1
DISTNAME =	minetest-0.4.1
d16 1
a16 1
		minetest-game-0.4.1${EXTRACT_SUFX}
d20 1
a20 3
MASTER_SITES =	http://rhaalovely.net/stuff/

WRKDIST=	${WRKDIR}/celeron55-minetest-e3ddbe8/
d24 1
a24 1
CONFIGURE_ARGS =	-DENABLE_GETTEXT=ON
d37 1
a37 1
	mv ${WRKDIR}/celeron55-minetest_game-6ba4f01/ \
@


1.1.1.1
log
@Import minetest 0.4.1.

Minetest is a free and open source infinite-world block sandbox game and
a game engine, inspired by InfiniMiner, Minecraft and the like.

ok jasper@@ a while ago
@
text
@@
