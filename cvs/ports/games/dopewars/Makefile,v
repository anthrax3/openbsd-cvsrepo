head	1.62;
access;
symbols
	OPENBSD_6_0:1.62.0.6
	OPENBSD_6_0_BASE:1.62
	OPENBSD_5_9:1.62.0.2
	OPENBSD_5_9_BASE:1.62
	OPENBSD_5_8:1.62.0.4
	OPENBSD_5_8_BASE:1.62
	OPENBSD_5_7:1.60.0.6
	OPENBSD_5_7_BASE:1.60
	OPENBSD_5_6:1.60.0.4
	OPENBSD_5_6_BASE:1.60
	OPENBSD_5_5:1.60.0.2
	OPENBSD_5_5_BASE:1.60
	OPENBSD_5_4:1.58.0.2
	OPENBSD_5_4_BASE:1.58
	OPENBSD_5_3:1.56.0.2
	OPENBSD_5_3_BASE:1.56
	OPENBSD_5_2:1.53.0.2
	OPENBSD_5_2_BASE:1.53
	OPENBSD_5_1_BASE:1.52
	OPENBSD_5_1:1.52.0.2
	OPENBSD_5_0:1.50.0.4
	OPENBSD_5_0_BASE:1.50
	OPENBSD_4_9:1.50.0.2
	OPENBSD_4_9_BASE:1.50
	OPENBSD_4_8:1.44.0.4
	OPENBSD_4_8_BASE:1.44
	OPENBSD_4_7:1.44.0.2
	OPENBSD_4_7_BASE:1.44
	OPENBSD_4_6:1.43.0.2
	OPENBSD_4_6_BASE:1.43
	OPENBSD_4_5:1.42.0.4
	OPENBSD_4_5_BASE:1.42
	OPENBSD_4_4:1.42.0.2
	OPENBSD_4_4_BASE:1.42
	OPENBSD_4_3:1.41.0.2
	OPENBSD_4_3_BASE:1.41
	OPENBSD_4_2:1.39.0.2
	OPENBSD_4_2_BASE:1.39
	OPENBSD_4_1:1.38.0.2
	OPENBSD_4_1_BASE:1.38
	OPENBSD_4_0:1.33.0.2
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.32.0.2
	OPENBSD_3_9_BASE:1.32
	OPENBSD_3_8:1.28.0.4
	OPENBSD_3_8_BASE:1.28
	OPENBSD_3_7:1.28.0.2
	OPENBSD_3_7_BASE:1.28
	OPENBSD_3_6:1.25.0.4
	OPENBSD_3_6_BASE:1.25
	OPENBSD_3_5:1.25.0.2
	OPENBSD_3_5_BASE:1.25
	OPENBSD_3_4:1.22.0.2
	OPENBSD_3_4_BASE:1.22
	OPENBSD_3_3:1.20.0.4
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.20.0.2
	OPENBSD_3_2_BASE:1.20
	OPENBSD_3_1:1.17.0.2
	OPENBSD_3_1_BASE:1.17
	OPENBSD_3_0:1.16.0.2
	OPENBSD_3_0_BASE:1.16
	OPENBSD_2_9_TRACKING_SWITCH:1.16
	OPENBSD_2_9:1.15.0.4
	OPENBSD_2_9_BASE:1.15
	OPENBSD_2_8:1.15.0.2
	OPENBSD_2_8_BASE:1.15
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.3.0.2
	OPENBSD_2_6_BASE:1.3
	brad_1999-04-30:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.62
date	2015.04.21.18.45.27;	author sthen;	state Exp;
branches;
next	1.61;
commitid	0iBvO9uPYZB0lMjI;

1.61
date	2015.03.15.10.05.04;	author jasper;	state Exp;
branches;
next	1.60;
commitid	Wu9xbJuPPfE2kywI;

1.60
date	2013.10.11.23.49.36;	author naddy;	state Exp;
branches
	1.60.4.1
	1.60.6.1;
next	1.59;

1.59
date	2013.08.20.22.05.52;	author zhuk;	state Exp;
branches;
next	1.58;

1.58
date	2013.03.21.08.45.17;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2013.03.11.11.07.38;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2012.12.23.14.23.13;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2012.12.23.13.49.06;	author sthen;	state Exp;
branches;
next	1.54;

1.54
date	2012.09.01.14.36.57;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2012.04.28.10.51.44;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2011.12.02.14.36.14;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2011.09.16.09.48.09;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2010.11.16.11.23.26;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2010.11.08.15.54.53;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2010.10.24.21.19.01;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2010.10.18.18.00.17;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2010.10.11.08.14.01;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2010.09.30.07.21.19;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2009.08.10.06.31.41;	author kili;	state Exp;
branches;
next	1.43;

1.43
date	2009.06.28.21.46.38;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2008.06.15.00.08.09;	author sthen;	state Exp;
branches;
next	1.41;

1.41
date	2007.11.28.13.14.12;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2007.11.13.14.54.31;	author steven;	state Exp;
branches;
next	1.39;

1.39
date	2007.07.05.17.28.18;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2007.01.04.20.19.53;	author steven;	state Exp;
branches;
next	1.37;

1.37
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2006.11.13.10.08.12;	author steven;	state Exp;
branches;
next	1.35;

1.35
date	2006.11.07.15.14.30;	author naddy;	state Exp;
branches;
next	1.34;

1.34
date	2006.09.18.11.50.40;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2006.06.13.13.24.17;	author bernd;	state Exp;
branches;
next	1.32;

1.32
date	2006.01.18.04.44.18;	author steven;	state Exp;
branches;
next	1.31;

1.31
date	2005.11.13.14.12.17;	author wilfried;	state Exp;
branches;
next	1.30;

1.30
date	2005.11.03.18.28.55;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2005.10.30.00.10.40;	author fgsch;	state Exp;
branches;
next	1.28;

1.28
date	2005.02.13.18.31.15;	author alek;	state Exp;
branches;
next	1.27;

1.27
date	2004.11.28.22.41.16;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2004.09.24.10.36.49;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2004.02.26.23.12.31;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2004.01.02.04.53.53;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2003.12.24.04.00.38;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	2003.07.07.12.47.58;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2003.07.07.12.40.14;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2002.08.27.02.42.36;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2002.05.13.18.50.42;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2002.04.15.20.16.53;	author pvalchev;	state Exp;
branches;
next	1.17;

1.17
date	2002.03.02.22.54.05;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2001.05.06.01.06.13;	author lebel;	state Exp;
branches;
next	1.15;

1.15
date	2000.09.24.07.04.05;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.08.07.03.54.15;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2000.07.18.07.15.14;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2000.07.10.01.28.38;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2000.06.10.20.58.44;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.24.22.11.42;	author espie;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2000.03.20.03.10.01;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2000.03.19.00.57.35;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.18.03.56.51;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.16.23.06.44;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	99.12.08.03.49.51;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.10.26.21.21.17;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.09.20.18.35.35;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.05.16.17.45.55;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.04.30.21.41.06;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.04.30.21.41.06;	author brad;	state Exp;
branches;
next	;

1.10.2.1
date	2000.09.15.05.38.01;	author marc;	state Exp;
branches;
next	;

1.60.4.1
date	2015.03.18.16.18.27;	author jasper;	state Exp;
branches;
next	;
commitid	Rhmig2XDQ7LuGuB4;

1.60.6.1
date	2015.03.18.16.18.40;	author jasper;	state Exp;
branches;
next	;
commitid	Mc5DpLDxqtSp02dO;


desc
@@


1.62
log
@sync WANTLIB
@
text
@# $OpenBSD: Makefile,v 1.61 2015/03/15 10:05:04 jasper Exp $

COMMENT=	game where you deal drugs on the streets of NY

DISTNAME=	dopewars-1.5.12
REVISION=	12
CATEGORIES=	games
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=dopewars/}

HOMEPAGE=	http://dopewars.sourceforge.net/

# GPL
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c glib-2.0 ncurses pthread

MODULES+=	devel/gettext

LIB_DEPENDS+=   devel/glib2

LOCALSTATEDIR=	${BASELOCALSTATEDIR}/games

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --enable-nls \
		 --enable-strict \
		 --without-esd \
		 --disable-gui-server \
		 --disable-plugins \
		 --without-sdl
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

FLAVORS=	no_x11
FLAVOR?=

.if ${FLAVOR:Mno_x11}
CONFIGURE_ARGS+= --disable-gui-client
.else
RUN_DEPENDS+=	devel/xdg-utils
LIB_DEPENDS+=	x11/gtk+2
WANTLIB += GL X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 cairo expat fontconfig freetype
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 gobject-2.0 gtk-x11-2.0
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 png
WANTLIB += pthread-stubs xcb xcb-render xcb-shm z
.endif

post-patch:
	@@perl -pi -e 's,/usr/local,${LOCALBASE},' ${WRKSRC}/src/dopewars.c

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/dopewars
	${INSTALL_DATA} ${WRKSRC}/doc/example-cfg \
		${PREFIX}/share/examples/dopewars/dopewars.cfg
	${INSTALL_DATA} /dev/null ${PREFIX}/share/examples/dopewars/dopewars.sco
	${PREFIX}/bin/dopewars -C ${PREFIX}/share/examples/dopewars/dopewars.sco
	${INSTALL_DATA} ${WRKSRC}/dopewars.desktop \
		${PREFIX}/share/examples/dopewars

.include <bsd.port.mk>
@


1.61
log
@Security fix for CVE-2009-3591

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/10/11 23:49:36 naddy Exp $
d6 1
a6 1
REVISION=	11
d15 1
a15 1
WANTLIB += c glib-2.0 ncurses
@


1.60
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/08/20 22:05:52 zhuk Exp $
d6 1
a6 1
REVISION=	10
@


1.60.6.1
log
@Security fix for CVE-2009-3591
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/10/11 23:49:36 naddy Exp $
d6 1
a6 1
REVISION=	11
@


1.60.4.1
log
@Security fix for CVE-2009-3591
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/10/11 23:49:36 naddy Exp $
d6 1
a6 1
REVISION=	11
@


1.59
log
@Fixup handling of FreeDesktop goo: desktop-file-utils, gtk-update-icon-cache
and shared-mime-info. Found by portcheck.

A lot of input from and okay ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/03/21 08:45:17 ajacoutot Exp $
a22 1
USE_GROFF =	Yes
@


1.58
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/03/11 11:07:38 espie Exp $
d6 1
a6 1
REVISION=	9
a19 1
RUN_DEPENDS+=   devel/desktop-file-utils
@


1.57
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/12/23 14:23:13 sthen Exp $
a23 1
USE_LIBTOOL=	Yes
@


1.56
log
@use .desktop files, don't hardcode /usr/bin/mozilla to open URLs in
x11 version (use xdg-open instead + add run dep), sync PLIST and use a
nicer DESCR from the installed docs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/12/23 13:49:06 sthen Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.55
log
@fix no_x11 to not require sdl
sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/09/01 14:36:57 ajacoutot Exp $
d6 1
a6 1
REVISION=	8
d23 1
d45 1
d54 3
d63 2
@


1.54
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/04/28 10:51:44 ajacoutot Exp $
d6 1
a6 1
REVISION=	7
d17 2
a18 1
WANTLIB=		c ncurses
a22 1
WANTLIB +=	gio-2.0 glib-2.0
d34 1
a34 1
		 --disable-sdl
d45 5
a49 5
WANTLIB+=	X11 Xext Xrender Xrandr expat fontconfig freetype m z cairo \
		Xau Xcomposite Xcursor Xdamage Xdmcp Xfixes Xi Xinerama \
		gmodule-2.0 gobject-2.0 atk-1.0 pango-1.0 \
		pangoft2-1.0 pangocairo-1.0 pixman-1 png pthread-stubs \
		xcb gdk_pixbuf-2.0 gdk-x11-2.0 gtk-x11-2.0
@


1.53
log
@Use LOCALSTATEDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/12/02 14:36:14 espie Exp $
d6 1
a6 1
REVISION=	6
@


1.52
log
@bye bye FLAVOR:L
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/09/16 09:48:09 espie Exp $
d24 2
d34 1
a34 2
		 --disable-sdl \
		 --localstatedir="/var/games"
@


1.51
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/11/16 11:23:26 espie Exp $
d40 1
a40 1
.if ${FLAVOR:L:Mno_x11}
@


1.50
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/11/08 15:54:53 espie Exp $
d6 1
a6 1
REVISION=	5
@


1.49
log
@a few more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/10/24 21:19:01 ajacoutot Exp $
d21 1
a21 1
LIB_DEPENDS+=   ::devel/glib2
d43 1
a43 1
LIB_DEPENDS+=	::x11/gtk+2
@


1.48
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/10/18 18:00:17 espie Exp $
d21 2
a22 1
LIB_DEPENDS+=   gio-2.0,glib-2.0::devel/glib2
d43 1
a43 1
LIB_DEPENDS+=	gdk-x11-2.0,gtk-x11-2.0::x11/gtk+2
d48 1
a48 1
		xcb gdk_pixbuf-2.0
@


1.47
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/10/11 08:14:01 jasper Exp $
a41 1
USE_X11=	Yes
@


1.46
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/09/30 07:21:19 ajacoutot Exp $
d24 1
@


1.45
log
@Fix DEPENDS after gtk+2 and gdk-pixbuf split.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/08/10 06:31:41 kili Exp $
d6 1
a6 1
REVISION=	4
d45 1
a45 1
		glitz gmodule-2.0 gobject-2.0 atk-1.0 pango-1.0 \
@


1.44
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/06/28 21:46:38 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
d42 1
a42 1
LIB_DEPENDS+=	gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2
d47 1
a47 1
		xcb
@


1.43
log
@sync WANTLIB, bump PKGNAME.
(found some Ms in my tree after naddy's lib-depends-check run).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2008/06/15 00:08:09 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d46 2
a47 1
		pangoft2-1.0 pangocairo-1.0 pixman-1 png
@


1.42
log
@sync wantlib and bump packages. ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2007/11/28 13:14:12 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d21 1
a21 1
LIB_DEPENDS+=   glib-2.0::devel/glib2
@


1.41
log
@- use full path MODULE name
no pkg change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2007/11/13 14:54:31 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d46 1
a46 1
		pangoft2-1.0 pangocairo-1.0 png
@


1.40
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2007/07/05 17:28:18 jasper Exp $
d19 1
a19 1
MODULES+=	gettext
@


1.39
log
@- update dopewars to 1.5.12
- re-format DESCR

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2007/01/04 20:19:53 steven Exp $
d6 1
d43 2
a44 1
WANTLIB+=	X11 Xext Xrender fontconfig freetype m z cairo \
@


1.38
log
@fix WANTLIB of ports using gtk, needed after switch to our own pkg-config
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2006/12/16 12:22:33 espie Exp $
d3 1
a3 1
COMMENT=	"game where you deal drugs on the streets of NY"
d5 1
a5 2
DISTNAME=	dopewars-1.5.7
PKGNAME=	${DISTNAME}p8
a21 1
USE_GMAKE=	Yes
d23 1
a23 2
AUTOCONF_VERSION=2.13
CONFIGURE_STYLE= autoconf
d26 1
a26 1
		 --disable-esd \
d29 2
a30 1
		 --disable-sdl
@


1.37
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2006/11/13 10:08:12 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p7
d44 3
a46 3
WANTLIB+=	X11 fontconfig freetype m cairo \
		gmodule-2.0 gobject-2.0 atk-1.0 pango-1.0 \
		pangoft2-1.0 pangocairo-1.0
@


1.36
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2006/11/07 15:14:30 naddy Exp $
a21 1
BUILD_DEPENDS+= :pkgconfig-*:devel/pkgconfig
@


1.35
log
@fix scorefile access
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2006/09/18 11:50:40 espie Exp $
d43 1
@


1.34
log
@zap unneeded 0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2006/06/13 13:24:17 bernd Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p6
d25 1
@


1.33
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2006/01/18 04:44:18 steven Exp $
d21 1
a21 1
LIB_DEPENDS+=   glib-2.0.0.0::devel/glib2
d42 1
a42 1
LIB_DEPENDS+=	gdk-x11-2.0.0.0,gdk_pixbuf-2.0.0.0,gtk-x11-2.0.0.0::x11/gtk+2
d44 2
a45 2
		gmodule-2.0.0.0 gobject-2.0.0.0 atk-1.0.0.0 pango-1.0.0.0 \
		pangoft2-1.0.0.0 pangocairo-1.0.0.0
@


1.32
log
@fix WANTLIB after gtk+2 downgrade
move some indirect LIB_DEPENDS to WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2005/11/13 14:12:17 wilfried Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p5
d43 1
a43 1
WANTLIB+=	X11 Xext Xft Xrender fontconfig freetype m \
d45 1
a45 1
		pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0
@


1.31
log
@update libdepends/wantlib after glib2/pango/gtk+2 update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2005/11/03 18:28:55 naddy Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
d42 4
a45 5
LIB_DEPENDS+=	gmodule-2.0.0.0,gobject-2.0.0.0::devel/glib2 \
		atk-1.0.0.0::devel/atk \
		pango-1.0.0.0,pangoft2-1.0.0.0,pangocairo-1.0.0.0::devel/pango \
		gdk-x11-2.0.0.0,gdk_pixbuf-2.0.0.0,gtk-x11-2.0.0.0::x11/gtk+2
WANTLIB+=	X11 cairo fontconfig freetype m
@


1.30
log
@Always explicitly set the AUTOCONF_VERSION to use.  In some cases
the default was not appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/10/30 00:10:40 fgsch Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
d44 1
a44 1
		pango-1.0.0.0,pangox-1.0.0.0,pangoxft-1.0.0.0::devel/pango \
d46 1
a46 1
WANTLIB+=	X11 Xext Xft Xinerama Xrender fontconfig freetype m Xcursor
@


1.29
log
@after querying brad@@ he decided to drop maintainership for these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/02/13 18:31:15 alek Exp $
d25 1
@


1.28
log
@- Don't open default highscore file when -C flag is used (fixes writing
  outside FAKEDIR area during fake stage)
- Don't include bundled libintl headers
- Fix WANTLIB marker
- Bump PKGNAME

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/11/28 22:41:16 espie Exp $
a10 2

MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.27
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/09/24 10:36:49 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d47 1
a47 1
WANTLIB+=	X11 Xext Xft Xinerama Xrender fontconfig freetype m
@


1.26
log
@kill INSTALL/DEINSTALL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/02/26 23:12:31 brad Exp $
d19 1
d47 1
@


1.25
log
@remove autoconf/automake workaround junk.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/01/02 04:53:53 brad Exp $
d52 2
@


1.24
log
@Prevent auto*shit from trying to do things it shouldn't be doing.

It always mystifies me how people can use this f$#%ing GARBAGE! and get
it to do anything useful.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/12/24 04:00:38 brad Exp $
a46 6

# make auto*shit not try to regenerate when it shouldn't be trying to and then just fail.
pre-build:
	@@find ${WRKSRC} -name 'Makefile.in' -exec touch {} \;
	@@find ${WRKSRC} -name 'Makefile' -exec touch {} \;
	@@cd ${WRKSRC}; touch aclocal.m4 stamp-h.in configure stamp-h config.status
@


1.23
log
@- leave datadir alone and override the score file location elsewhere
- add @@extra support
--
the problem with datadir noticed by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/07/07 12:47:58 brad Exp $
d47 6
@


1.22
log
@remove .sample file suffix
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/07/07 12:40:14 brad Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d32 1
a32 2
		 --disable-sdl \
		 --datadir="/var/games"
@


1.21
log
@- switch to glib/gtk+ 2.x toolkit
- add a no_x11 FLAVOR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2002/08/27 02:42:36 brad Exp $
d52 1
a52 1
		${PREFIX}/share/examples/dopewars/dopewars.cfg.sample
@


1.20
log
@upgrade to dopewars 1.5.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/05/13 18:50:42 espie Exp $
d6 1
a11 2
LIB_DEPENDS=	gtk.1.2,gdk.1.2::x11/gtk+

d14 1
d22 3
a29 1
		 --disable-glib2 \
d36 12
@


1.19
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/04/15 20:16:53 pvalchev Exp $
d5 1
a5 1
DISTNAME=	dopewars-1.5.3
a6 1
NEED_VERSION=	1.500
d23 1
a23 1
CONFIGURE_STYLE= gnu
d26 5
@


1.18
log
@complete library dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/03/02 22:54:05 brad Exp $
d8 1
a8 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR= dopewars
@


1.17
log
@upgrade to dopewars 1.5.3
- adds Gtk+ based GUI version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/05/06 01:06:13 lebel Exp $
d13 1
a13 1
LIB_DEPENDS=	gtk.1.2::x11/gtk+
@


1.16
log
@games: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/09/24 07:04:05 brad Exp $
d5 1
a5 1
DISTNAME=	dopewars-1.4.8
d7 3
a9 3
NEED_VERSION=	1.402
MASTER_SITES=	http://www.evansville.net/~goatpop/ \
		http://bellatrix.pcl.ox.ac.uk/~ben/dopewars/
d11 3
a13 1
HOMEPAGE=	http://bellatrix.pcl.ox.ac.uk/~ben/dopewars/
d22 2
d26 5
d32 1
a32 7
DOCS=	index.html installation.html clientplay.html server.html \
	credits.html aiplayer.html configfile.html commandline.html \
	developer.html metaserver.html servercommands.html LICENCE \
	README

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/dopewars
d34 2
a35 5
	${INSTALL_PROGRAM} ${WRKSRC}/dopewars ${PREFIX}/bin
	@@chown root.games ${PREFIX}/bin/dopewars
	@@chmod 2755 ${PREFIX}/bin/dopewars
	${INSTALL_DATA} ${WRKSRC}/example-cfg ${PREFIX}/share/examples/dopewars/dopewars-cfg.sample
	cd ${WRKSRC}; ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/dopewars
@


1.15
log
@add name to MAINTAINER
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.14 2000/08/07 03:54:15 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.330
@


1.14
log
@- move example config file from share/doc/dopewars to
share/examples/dopewars
- ${FOO} -> $FOO in INSTALL/DEINSTALL
- use $SCORE_FILE as part of do_install() in INSTALL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/07/18 07:15:14 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.310
d11 1
a11 1
MAINTAINER=	brad@@openbsd.org
@


1.13
log
@add HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/07/10 01:28:38 brad Exp $
d28 1
d32 1
a32 1
	${INSTALL_DATA} ${WRKSRC}/example-cfg ${PREFIX}/share/doc/dopewars/dopewars-cfg.sample
@


1.12
log
@upgrade to dopewars 1.4.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/06/10 20:58:44 brad Exp $
d8 2
@


1.11
log
@- remove FAKE=Yes
- GNU_CONFIGURE -> CONFIGURE_STYLE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/03/24 22:11:42 espie Exp $
d3 1
a3 1
DISTNAME=	dopewars-1.4.7
d5 3
a7 2
NEED_VERSION=	1.301
MASTER_SITES=	http://bellatrix.pcl.ox.ac.uk/~ben/dopewars/
@


1.10
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/03/20 03:10:01 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.213
a7 1

a14 2
FAKE=	Yes

d16 1
a16 1
GNU_CONFIGURE=	Yes
@


1.10.2.1
log
@games as of cut-off into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/08/07 03:54:15 brad Exp $
d3 1
a3 1
DISTNAME=	dopewars-1.4.8
d5 2
a6 3
NEED_VERSION=	1.310
MASTER_SITES=	http://www.evansville.net/~goatpop/ \
		http://bellatrix.pcl.ox.ac.uk/~ben/dopewars/
a7 1
HOMEPAGE=	http://bellatrix.pcl.ox.ac.uk/~ben/dopewars/
d16 2
d19 1
a19 1
CONFIGURE_STYLE= gnu
a27 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/dopewars
d31 1
a31 1
	${INSTALL_DATA} ${WRKSRC}/example-cfg ${PREFIX}/share/examples/dopewars/dopewars-cfg.sample
@


1.9
log
@set proper file perms on dopewars binary as part of do-install target
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/03/19 00:57:35 brad Exp $
d5 1
a7 1
NEED_VERSION=	1.213
@


1.8
log
@upgrade to dopewars 1.4.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/03/18 03:56:51 brad Exp $
d29 2
@


1.7
log
@- set myself as the maintainer
- Fake
- make use of MAKE_FLAGS and our own do-install target, remove now
unnecessary patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/03/16 23:06:44 turan Exp $
d3 1
a3 1
DISTNAME=	dopewars-1.4.6
d18 2
a19 1
MAKE_FLAGS=	CC="${CC}" CFLAGS="${CFLAGS} -Wall" LIBS="-lcurses"
@


1.6
log
@license
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/12/08 03:49:51 brad Exp $
d7 3
a9 1
MAINTAINER=	ports@@openbsd.org
d16 14
a29 2
post-install:
	@@PKG_PREFIX="${PREFIX}" sh ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL
@


1.5
log
@upgrade to dopewars 1.4.6, minor bug fixes:
* Bug fix for message window and "sew you up" prompt
* Bug fix for server hanging in LoseBitch function
* Terminal resizing now handled properly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/10/26 21:21:17 brad Exp $
d6 7
@


1.4
log
@upgrade to dopewars 1.4.5; package tested
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/09/20 18:35:35 brad Exp $
d3 1
a3 1
DISTNAME=	dopewars-1.4.5
d8 1
a8 1
	@@PKG_PREFIX="${PREFIX}" ${SH} ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL
@


1.3
log
@upgrade to dopewars 1.4.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/05/16 17:45:55 brad Exp $
d3 1
a3 1
DISTNAME=	dopewars-1.4.4
d7 2
a8 1
ALL_TARGET=
@


1.2
log
@Makefile for dopewars 1.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/04/30 21:41:06 brad Exp $
d3 1
a3 1
DISTNAME=	dopewars-1.4.2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
DISTNAME=	dopewars-1.4.1b
@


1.1.1.1
log
@add dopewars port
-
game where you deal drugs on the streets of NY
@
text
@@
