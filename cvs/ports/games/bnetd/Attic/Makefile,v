head	1.21;
access;
symbols
	OPENBSD_3_3:1.20.0.2
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.19.0.4
	OPENBSD_3_2_BASE:1.19
	OPENBSD_3_1:1.19.0.2
	OPENBSD_3_1_BASE:1.19
	OPENBSD_3_0:1.18.0.2
	OPENBSD_3_0_BASE:1.18
	OPENBSD_2_9_TRACKING_SWITCH:1.17
	OPENBSD_2_9:1.15.0.4
	OPENBSD_2_9_BASE:1.15
	OPENBSD_2_8:1.15.0.2
	OPENBSD_2_8_BASE:1.15
	OPENBSD_2_7:1.13.0.2
	OPENBSD_2_7_BASE:1.13
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	brad_1999-03-29:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.21
date	2003.07.22.20.52.48;	author brad;	state dead;
branches;
next	1.20;

1.20
date	2002.12.29.15.10.07;	author fgsch;	state Exp;
branches;
next	1.19;

1.19
date	2002.02.28.22.56.41;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2001.09.28.03.57.44;	author pvalchev;	state Exp;
branches;
next	1.17;

1.17
date	2001.06.20.01.43.17;	author pvalchev;	state Exp;
branches;
next	1.16;

1.16
date	2001.05.06.01.06.12;	author lebel;	state Exp;
branches;
next	1.15;

1.15
date	2000.10.22.15.41.59;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2000.10.22.14.03.13;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.04.05.14.35.49;	author kevlo;	state Exp;
branches;
next	1.12;

1.12
date	2000.03.24.22.11.41;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.02.15.05.04.20;	author turan;	state Exp;
branches;
next	1.10;

1.10
date	2000.02.12.08.02.18;	author turan;	state Exp;
branches;
next	1.9;

1.9
date	2000.02.12.00.43.58;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.11.01.10.02;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	99.11.11.03.48.53;	author kevlo;	state Exp;
branches;
next	1.6;

1.6
date	99.11.09.07.06.22;	author kevlo;	state Exp;
branches;
next	1.5;

1.5
date	99.05.06.02.15.12;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.04.04.06.59.21;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.04.01.00.05.44;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.03.31.03.23.47;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.03.30.02.10.44;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.03.30.02.10.44;	author brad;	state Exp;
branches;
next	;


desc
@@


1.21
log
@bye bye.
@
text
@# $OpenBSD: Makefile,v 1.20 2002/12/29 15:10:07 fgsch Exp $

COMMENT=	"Battle.net(r) server emulator"

IGNORE=		"has been removed due to legal reasons"

DISTNAME=	bnetd-0.4.19
CATEGORIES=	games 
MASTER_SITES=	http://www.bnetd.org/files/

MAINTAINER=	Kevin Lo <kevlo@@openbsd.org>

# License: GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

CONFIGURE_STYLE=	gnu
WRKSRC=			${WRKDIST}/src
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/autoconf

MAKE_FLAGS=CFLAGS=-O2

do-install:
	cd ${WRKDIST}/bin; ${INSTALL_PROGRAM} * ${PREFIX}/bin
	cd ${WRKDIST}/sbin; ${INSTALL_PROGRAM} * ${PREFIX}/sbin
	cd ${WRKDIST}/man; ${INSTALL_MAN}  bnchat.1 bnetd.1 bnftp.1 bnpass.1 ${PREFIX}/man/man1; ${INSTALL_MAN} bnetd.conf.4 bntext.4 bnmotd.txt.4 bnnews.txt.4 ${PREFIX}/man/man4
	${INSTALL_DATA_DIR} ${PREFIX}/lib/bnetd && cd ${WRKDIST} && cp -R files conf ${PREFIX}/lib/bnetd

.include <bsd.port.mk>
@


1.20
log
@more NEED_VERSION removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/02/28 22:56:41 brad Exp $
@


1.19
log
@mark this port with an IGNORE tag until the situation with Blizzard
Entertainment and the developers of bnetd has been clarified
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/09/28 03:57:44 pvalchev Exp $
a8 1
NEED_VERSION=	1.402
@


1.18
log
@CONFIGURE_STYLE really is gnu, not simple.  needed for MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/06/20 01:43:17 pvalchev Exp $
d4 2
@


1.17
log
@Remove deprecated LICENSE_TYPE and set appropriate # comments
with its contents.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/05/06 01:06:12 lebel Exp $
d18 1
a18 1
CONFIGURE_STYLE=	simple
d20 1
@


1.16
log
@games: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/10/22 15:41:59 espie Exp $
d12 1
a12 1
LICENSE_TYPE=		GPL
@


1.15
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.14 2000/10/22 14:03:13 espie Exp $
d7 1
a7 1
NEED_VERSION=	1.305
@


1.14
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/04/05 14:35:49 kevlo Exp $
d5 1
a5 1
NEED_VERSION=	1.195
d16 1
a16 2
FAKE=			Yes		
HAS_CONFIGURE=		Yes
@


1.13
log
@- Fix the PLIST.
- Install bnetd into ${PREFIX}/lib/bnetd, not ${PREFIX}/bnetd.
- Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/03/24 22:11:41 espie Exp $
d8 1
a8 1
MAINTAINER=	kevlo@@openbsd.org
@


1.12
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/02/15 05:04:20 turan Exp $
d11 8
a18 7
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES

HAS_CONFIGURE=Yes
WRKSRC=	${WRKDIST}/src
d26 1
a26 2
	${INSTALL_DATA_DIR} ${PREFIX}/bnetd && cd ${WRKDIST} && cp -R files users conf reports ${PREFIX}/bnetd

@


1.11
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/02/12 08:02:18 turan Exp $
d5 1
a6 1
NEED_VERSION=	1.195
@


1.10
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/02/12 00:43:58 espie Exp $
d11 4
a14 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.9
log
@Change MAKE_FLAGS to remove the -f.

Actually reading the Makefiles proved that about one third of them was
confused about this already...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/11 01:10:02 espie Exp $
d9 6
@


1.8
log
@Kill a large set of deprecated variables.
Thoroughly unsubtle, most mkdir -p should probably be INSTALL* at
*install stage, and echo/ECHO_MSG is somewhat unsorted.

It's quite possible I missed a few automated changes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/11/11 03:48:53 kevlo Exp $
d6 1
d10 2
a11 3
do-configure:
	@@(cd ${WRKSRC}/src; ${SETENV} CFLAGS="${CFLAGS}" \
	    ./configure --prefix=${PREFIX} ${CONFIGURE_TARGET})
d13 1
a13 2
do-build:
	@@(cd ${WRKSRC}/src; ${MAKE} ${MAKE_FLAGS} ${MAKEFILE} ${MAKE_ARGS})
d16 4
a19 4
	cd ${WRKSRC}/bin; ${INSTALL_PROGRAM} * ${PREFIX}/bin
	cd ${WRKSRC}/sbin; ${INSTALL_PROGRAM} * ${PREFIX}/sbin
	cd ${WRKSRC}/man; ${INSTALL_MAN}  bnchat.1 bnetd.1 bnftp.1 bnpass.1 ${PREFIX}/man/man1; ${INSTALL_MAN} bnetd.conf.4 bntext.4 bnmotd.txt.4 bnnews.txt.4 ${PREFIX}/man/man4
	mkdir -p ${PREFIX}/bnetd; cp -R ${WRKSRC}/files ${WRKSRC}/users ${WRKSRC}/conf ${WRKSRC}/reports ${PREFIX}/bnetd
@


1.7
log
@Change the MAINTAINER to kevlo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/11/09 07:06:22 kevlo Exp $
d20 1
a20 1
	${MKDIR} ${PREFIX}/bnetd; ${CP} -R ${WRKSRC}/files ${WRKSRC}/users ${WRKSRC}/conf ${WRKSRC}/reports ${PREFIX}/bnetd
@


1.6
log
@Upgrade the version 0.4.19. Fix PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/05/06 02:15:12 brad Exp $
d7 1
a7 1
MAINTAINER=	brad@@cvs.openbsd.org
@


1.5
log
@temporarily mark broken: Newer version available
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/04/04 06:59:21 brad Exp $
d3 2
a4 2
DISTNAME=	bnetd-0.4.1
CATEGORIES=	games
d7 1
a7 1
BROKEN=		"Newer version available"
d9 3
a11 1
MAINTAINER=	brad@@openbsd.org
d13 2
a14 1
WRKSRC=		${WRKDIR}/${DISTNAME}/src/
d17 5
a21 52
	${INSTALL_PROGRAM} ${WRKSRC}/bnbot ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKSRC}/bnclient ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKSRC}/bnpass ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKSRC}/bnetd ${PREFIX}/sbin
	${INSTALL_MAN_DIR} ${PREFIX}/share/doc/bnetd
	${INSTALL_MAN} ${WRKSRC}/../CHANGELOG ${PREFIX}/share/doc/bnetd
	${INSTALL_MAN} ${WRKSRC}/../README ${PREFIX}/share/doc/bnetd
	${INSTALL_MAN} ${WRKSRC}/../TODO ${PREFIX}/share/doc/bnetd
	${MKDIR} ${PREFIX}/lib/bnetd
	${MKDIR} ${PREFIX}/lib/bnetd/files
	${MKDIR} ${PREFIX}/lib/bnetd/users
	${INSTALL_DATA} ${WRKSRC}/../conf/bnetd.conf ${PREFIX}/lib/bnetd/bnetd.conf.sample
	${INSTALL_DATA} ${WRKSRC}/../conf/bnetd_default_user ${PREFIX}/lib/bnetd/bnetd_default_user.sample
	${INSTALL_DATA} ${WRKSRC}/../files/ad0512b.pcx ${PREFIX}/lib/bnetd/files/ad0512b.pcx.sample
	@@${ECHO} ""
	@@${ECHO} "*** The latest sample config files"
	@@${ECHO} "*** can be found in ${PREFIX}/lib/bnetd"
	@@if [ ! -d /etc/bnetd ]; then \
	  ${MKDIR} /etc/bnetd; \
	fi
	@@if [ ! -d /etc/bnetd ]; then \
	  ${MKDIR} /etc/bnetd/files; \
	fi
	@@if [ ! -d /etc/bnetd ]; then \
	  ${MKDIR} /etc/bnetd/users; \
	fi
	@@if [ ! -f /etc/bnetd/bnetd.conf ]; then \
	  cp ${PREFIX}/lib/bnetd/bnetd.conf.sample /etc/bnetd/bnetd.conf; \
	  ${ECHO} ""; \
	  ${ECHO} "*** bnetd.conf has been copied into /etc/bnetd"; \
	 else \
	  ${ECHO} ""; \
	  ${ECHO} "*** Your /etc/bnetd/bnetd.conf has NOT been changed"; \

	fi
	@@if [ ! -f /etc/bnetd/bnetd_default_user ]; then \
	  cp ${PREFIX}/lib/bnetd/bnetd_default_user.sample /etc/bnetd/bnetd_default_user; \
	  ${ECHO} ""; \
	  ${ECHO} "*** bnetd_default_user has been copied into /etc/bnetd"; \
	 else \
	  ${ECHO} ""; \
	  ${ECHO} "*** Your /etc/bnetd/bnetd_default_user has NOT been changed"; \
	fi
	@@if [ ! -f /etc/bnetd/files/ad0512b.pcx ]; then \
	  cp ${PREFIX}/lib/bnetd/files/ad0512b.pcx.sample /etc/bnetd/files/ad0512b.pcx; \
	  ${ECHO} ""; \
	  ${ECHO} "*** ad0512b.pcx has been copied into /etc/bnetd/files"; \
	 else \
	  ${ECHO} ""; \
	  ${ECHO} "*** Your /etc/bnetd/files/ad0512b.pcx has NOT been changed"; \
	fi
	@@${ECHO} ""
@


1.4
log
@fix for package building
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/04/01 00:05:44 brad Exp $
d6 2
@


1.3
log
@fix for package building
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/03/31 03:23:47 brad Exp $
d22 1
d29 1
a29 3
	@@if [ -d /etc/bnetd ]; then \
	  ${ECHO} "*** Your config files have NOT been changed"; \
	 else \
d31 2
d34 2
d37 2
d40 8
d49 7
d57 6
a62 2
	  ${ECHO} "*** config files have been copied into /etc/bnetd"; \
	 fi
a63 2


@


1.2
log
@upgrade to bnetd 0.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/03/30 02:10:44 brad Exp $
a15 6
	${INSTALL_DATA_DIR} /etc/bnetd
	${INSTALL_DATA_DIR} /etc/bnetd/files
	${INSTALL_DATA_DIR} /etc/bnetd/users
	${INSTALL_DATA} ${WRKSRC}/../conf/bnetd.conf /etc/bnetd
	${INSTALL_DATA} ${WRKSRC}/../conf/bnetd_default_user /etc/bnetd
	${INSTALL_DATA} ${WRKSRC}/../files/ad0512b.pcx /etc/bnetd/files
d18 23
a40 2
	${INSTALL_MAN} ${WRKSR}/../README ${PREFIX}/share/doc/bnetd
	${INSTALL_MAN} ${WRKSR}/../TODO ${PREFIX}/share/doc/bnetd
a41 6
post-install:
	@@${ECHO} "***"
	@@${ECHO} "*** Finished installing bnetd."
	@@${ECHO} "*** Please take a look at the sample bnetd config file /etc/bnetd/bnetd.conf
	@@${ECHO} "*** and make any necessary modifications before running."   
	@@${ECHO} "***"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
DISTNAME=	bnetd-0.4
d9 1
a9 1
WRKSRC=		${WRKDIR}/bnetd-0.4/src/
d25 1
@


1.1.1.1
log
@add bnetd port
@
text
@@
