head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.28
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.26
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.22
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.24
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.20
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.18
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.16
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.14
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.12
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.10
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.8
	OPENBSD_5_0:1.3.0.6
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.4
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.2.0.18
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.16
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.14
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.12
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.10
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.8
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.6
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.1.1.1.0.18
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.16
	OPENBSD_3_7_BASE:1.1.1.1
	OPENBSD_3_6:1.1.1.1.0.14
	OPENBSD_3_6_BASE:1.1.1.1
	OPENBSD_3_5:1.1.1.1.0.12
	OPENBSD_3_5_BASE:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.10
	OPENBSD_3_4_BASE:1.1.1.1
	OPENBSD_3_3:1.1.1.1.0.8
	OPENBSD_3_3_BASE:1.1.1.1
	OPENBSD_3_2:1.1.1.1.0.6
	OPENBSD_3_2_BASE:1.1.1.1
	OPENBSD_3_1:1.1.1.1.0.4
	OPENBSD_3_1_BASE:1.1.1.1
	OPENBSD_3_0:1.1.1.1.0.2
	OPENBSD_3_0_BASE:1.1.1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	espie:1.1.1.1
	slash-em:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2010.05.19.07.34.43;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2005.09.11.12.26.02;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.07.04.11.14.54;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.07.04.11.14.54;	author espie;	state Exp;
branches;
next	;


desc
@@


1.3
log
@termcap double declaration. fixes gcc4
@
text
@$OpenBSD: patch-sys_unix_Makefile_src,v 1.2 2005/09/11 12:26:02 espie Exp $
--- sys/unix/Makefile.src.orig	Sat Jul  2 09:24:44 2005
+++ sys/unix/Makefile.src	Wed May 19 06:07:02 2010
@@@@ -1,6 +1,7 @@@@
 #	NetHack Makefile.
 #	SCCS Id: @@(#)Makefile.src	3.4	2002/03/02
 
+include ${NETHACKCONFIG}
 # newer makes predefine $(MAKE) to 'make' and do smarter processing of
 # recursive make calls if $(MAKE) is used
 # these makes allow $(MAKE) to be overridden by the environment if someone
@@@@ -144,8 +145,7 @@@@ SYSOBJ = ioctl.o unixmain.o unixtty.o unixunix.o unixr
 # flags for debugging:
 # CFLAGS = -g -I../include
 
-CFLAGS = -O -I../include
-LFLAGS =
+CFLAGS += -DHACKDIR=\"${NHDIR}\" -DHAVE_SYS_PARAM_H -I../include 
 
 # Only used for the Gnome interface.
 # When including the Gnome interface, you need to include gnome specific
@@@@ -291,8 +291,6 @@@@ WINGLOBJ = gl_conf.o gl_emul.o gl_font.o gl_hardw.o \
 SDLGL_CFLAGS = `sdl-config --cflags`
 
 # Use these declarations if you only want to support the TTY windowing system
-WINSRC = $(WINTTYSRC)
-WINOBJ = $(WINTTYOBJ)
 # Use these declarations if you want to support the X11 windowing system
 # WINSRC = $(WINTTYSRC) $(WINX11SRC)
 # WINOBJ = $(WINTTYOBJ) $(WINX11OBJ)
@@@@ -341,7 +339,7 @@@@ WINTTYLIB = -ltermlib
 #
 # libraries for X11
 # If USE_XPM is defined in config.h, you will also need -lXpm here.
-WINX11LIB = -lXaw -lXmu -lXext -lXt -lX11
+WINX11LIB = -lXaw -lXmu -lXext -lXt -lX11 -lXpm
 # WINX11LIB = -lXaw -lXmu -lXt -lX11
 # WINX11LIB = -lXaw -lXmu -lXext -lXt -lXpm -lX11 -lm
 # WINX11LIB = -lXaw -lXmu -lXpm -lXext -lXt -lX11 -lSM -lICE -lm # BSD/OS 2.0
@@@@ -372,7 +370,6 @@@@ WINGLLIB = -lGL
 WINPROXYLIB = -lpthread
 
 # Use this declaration if you only want to support the TTY windowing system
-WINLIB = $(WINTTYLIB)
 # Use this declaration if you want to support the X11 windowing system
 # WINLIB = $(WINTTYLIB) $(WINX11LIB)
 # Use this declaration if you want to support the Qt windowing system
@@@@ -601,13 +598,13 @@@@ objects.o:
 
 # Qt windowport meta-object-compiler output
 qt_kde0.moc: ../include/qt_kde0.h
-	$(QTBINDIR)/moc -o qt_kde0.moc ../include/qt_kde0.h
+	${MOC} -o qt_kde0.moc ../include/qt_kde0.h
 
 qt_win.moc: ../include/qt_win.h
-	$(QTBINDIR)/moc -o qt_win.moc ../include/qt_win.h
+	${MOC} -o qt_win.moc ../include/qt_win.h
 
 qttableview.moc: ../include/qttableview.h
-	$(QTDIR)/bin/moc -o qttableview.moc ../include/qttableview.h
+	${MOC} -o qttableview.moc ../include/qttableview.h
 
 # NetHack windows library for modules needed by more than one windows
 # interface.
@


1.2
log
@update to a ways more recent version.
Use the same technique as nethack, so that several slash-em versions
can be installed concurrently.
@
text
@d1 1
a1 1
$OpenBSD: patch-sys_unix_Makefile_src,v 1.1.1.1 2001/07/04 11:14:54 espie Exp $
d3 1
a3 1
+++ sys/unix/Makefile.src	Sun Sep 11 13:53:12 2005
d12 1
a12 1
@@@@ -144,8 +145,7 @@@@ SYSOBJ = ioctl.o unixmain.o unixtty.o un
d22 1
a22 1
@@@@ -291,8 +291,6 @@@@ WINGLOBJ = gl_conf.o gl_emul.o gl_font.o
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD: patch-sys_unix_Makefile_src,v 1.3 2001/03/30 14:28:39 espie Exp $
--- sys/unix/Makefile.src.orig	Wed May  2 01:08:03 2001
+++ sys/unix/Makefile.src	Tue Jul  3 19:03:00 2001
d6 1
a6 1
 #	SCCS Id: @@(#)Makefile.src	3.3	97/04/17
d12 1
a12 1
@@@@ -144,8 +145,7 @@@@ GNOMEINC=-I/usr/lib/glib/include -I/usr/
d20 4
a23 4
 # QT windowing system
 # SuSE 6.1
@@@@ -239,8 +239,6 @@@@ WINBEOBJ =
 #WINBEOBJ = winbe.o NHWindow.o NHMenuWindow.o NHMapWindow.o nhwin.a
d31 1
a31 1
@@@@ -271,7 +269,7 @@@@ WINTTYLIB = -ltermlib
d40 2
a41 2
@@@@ -295,7 +293,6 @@@@ WINGEMLIB = -le_gem -lgem
 WINBELIB = -lbe
d48 1
a48 1
@@@@ -508,10 +505,10 @@@@ objects.o:
d52 2
a53 2
-	$(QTBINDIR)/moc ../include/qt_kde0.h > qt_kde0.moc
+	moc2 ../include/qt_kde0.h > qt_kde0.moc
d56 6
a61 2
-	$(QTBINDIR)/moc ../include/qt_win.h > qt_win.moc
+	moc2 ../include/qt_win.h > qt_win.moc
@


1.1.1.1
log
@Yet another nethack variant.
@
text
@@
