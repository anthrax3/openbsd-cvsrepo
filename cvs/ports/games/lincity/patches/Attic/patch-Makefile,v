head	1.3;
access;
symbols
	OPENBSD_5_8:1.2.0.14
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.10
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.8
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.6
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.4
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.1.1.0.46
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.44
	OPENBSD_5_0:1.1.1.1.0.42
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.40
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.38
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.36
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.34
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.32
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.30
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.28
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.26
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.24
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.22
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.20
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.18
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.16
	OPENBSD_3_7_BASE:1.1.1.1
	OPENBSD_3_6:1.1.1.1.0.14
	OPENBSD_3_6_BASE:1.1.1.1
	OPENBSD_3_5:1.1.1.1.0.12
	OPENBSD_3_5_BASE:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.10
	OPENBSD_3_4_BASE:1.1.1.1
	OPENBSD_3_3:1.1.1.1.0.8
	OPENBSD_3_3_BASE:1.1.1.1
	OPENBSD_3_2:1.1.1.1.0.6
	OPENBSD_3_2_BASE:1.1.1.1
	OPENBSD_3_1:1.1.1.1.0.4
	OPENBSD_3_1_BASE:1.1.1.1
	OPENBSD_3_0:1.1.1.1.0.2
	OPENBSD_3_0_BASE:1.1.1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	naddy_20010729:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2015.09.06.12.01.39;	author kirby;	state dead;
branches;
next	1.2;
commitid	SsW8k59SLwhtfCXC;

1.2
date	2012.09.23.08.07.54;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2001.07.29.00.07.36;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.07.29.00.07.36;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.3
log
@ - update lincity to the latest (last?) version
 - fix LICENSE amrker (from bentley@@)
 - remove maintainer - mailbox doesn't exist
 - switch from imake to autocrap+make
ok bentley@@
@
text
@$OpenBSD: patch-Makefile,v 1.2 2012/09/23 08:07:54 matthieu Exp $
--- Makefile.orig	Fri Feb 26 05:17:38 1999
+++ Makefile	Sun Jul 29 01:56:46 2001
@@@@ -1,39 +1,40 @@@@
 #  Makefile for LinCity   (c)  I J Peters 1995,1996.
 
 #       This is where the binaries for LinCity will be placed.
-LC_BINDIR = /usr/local/bin
+LC_BINDIR = $(PREFIX)/bin
 #          for solaris you might choose...
 #          LC_BINDIR = /opt/lcity/bin
 
 #       This is where the library/data files will be placed.
-LC_LIBDIR = /usr/local/lib/lincity
+LC_LIBDIR = $(PREFIX)/share/lincity
 #          for solaris you might choose...
 #          LC_LIBDIR = /opt/lcity/lib
 
 # export LC_LIBDIR
 
 #       This is where the manpage will be placed.
-LC_MANDIR = /usr/local/man/man6
+LC_MANDIR = $(PREFIX)/man/man6
 LC_MANSUF = 6
 #          for solaris you might choose...
 #          LC_LIBDIR = /opt/lcity/man/man6
 
 
 # CC = egcs
-CC = gcc
+CC = $(CXX)
 
 # EXTRA_OPTS = -fomit-frame-pointer -fstrength-reduce -ffast-math
 # EXTRA_OPTS = -fstrength-reduce -ffast-math
 WARN_OPTS  = -Wall -Wpointer-arith -Wcast-align -Winline
 # DEBUG_OPTS =-g
-CFLAGS = -O2 $(DEBUG_OPTS) $(EXTRA_OPTS) $(WARN_OPTS) -DLIBDIR=\"$(LC_LIBDIR)\"
+CFLAGS = $(CXXFLAGS) $(DEBUG_OPTS) $(EXTRA_OPTS) $(WARN_OPTS) \
+    -DLIBDIR=\"$(LC_LIBDIR)\"
 # -fno-strength-reduce
 # PROFF = -pg
 # PROFL = -lc
 # PROFD = -DCS_PROFILE
 
-LC_XFLAGS = $(CFLAGS) -DLC_X11 
-LC_XLIBS = -lXExExt -lXext -lX11
+LC_XFLAGS = $(CFLAGS) -DLC_X11 -I$(X11BASE)/include
+LC_XLIBS = -lXExExt -lXext -lX11 -L$(X11BASE)/lib
 
 XOBJS = xmain.o xmouse.o xscreen.o xmps.o xtypeinit.o xengine.o\
  xtransport.o xmarket.o xhelp.o lcx11.o
@@@@ -42,7 +43,7 @@@@ XOBJS = xmain.o xmouse.o xscreen.o xmps.
 
 #  /usr/X11R6/lib/X11/config/ is where Imake.tmpl lives, change the following
 # line if yours is somewhere else.
-LC_IMAKE_ARGS = -DUseInstalled -I/usr/X11R6/lib/X11/config
+LC_IMAKE_ARGS = -DUseInstalled -I$(LOCALBASE)/lib/X11/config
 
 dummy:
 	@@echo
@@@@ -91,7 +92,7 @@@@ lincity : main.o mouse.o screen.o mps.o 
 # all the objects and libraries. 
 xlincity : $(XOBJS)
 	imake -s XMakefile $(LC_IMAKE_ARGS) LC_LIBDIR=$(LC_LIBDIR)
-	make -f XMakefile
+	$(MAKE) -f XMakefile
 
 solaris :
 	make -f sunosMakefile LC_LIBDIR=$(LC_LIBDIR)
@@@@ -122,28 +123,20 @@@@ install :
 # exists, even with the -p flag, hence the '-'. We should still
 # catch a failure with the chmod hopefully.
 	-mkdir -p $(LC_BINDIR)
-	chmod 755 $(LC_BINDIR)
-	-cp lincity $(LC_BINDIR)
-	-chmod +s $(LC_BINDIR)/lincity
-	-cp xlincity $(LC_BINDIR)
-	-chmod 755 $(LC_BINDIR)/xlincity
+	$(BSD_INSTALL_PROGRAM) xlincity $(LC_BINDIR)
 	-mkdir -p $(LC_LIBDIR)
-	chmod 755 $(LC_LIBDIR)
-	cp -r icons $(LC_LIBDIR)
-	chmod 755 $(LC_LIBDIR)/icons
-	cp -r help $(LC_LIBDIR)
-	chmod 755 $(LC_LIBDIR)/help
-	cp -r messages $(LC_LIBDIR)
-	chmod 755 $(LC_LIBDIR)/messages
-	cp -r opening $(LC_LIBDIR)
-	chmod 755 $(LC_LIBDIR)/opening
-	cp colour.pal $(LC_LIBDIR)
-	chmod -R o+r $(LC_LIBDIR)
+	$(BSD_INSTALL_DATA) colour.pal $(LC_LIBDIR)
+	-mkdir -p $(LC_LIBDIR)/icons
+	$(BSD_INSTALL_DATA) icons/* $(LC_LIBDIR)/icons
+	-mkdir -p $(LC_LIBDIR)/help
+	$(BSD_INSTALL_DATA) help/* $(LC_LIBDIR)/help
+	-mkdir -p $(LC_LIBDIR)/messages
+	$(BSD_INSTALL_DATA) messages/* $(LC_LIBDIR)/messages
+	-mkdir -p $(LC_LIBDIR)/opening
+	$(BSD_INSTALL_DATA) opening/* $(LC_LIBDIR)/opening
 	-mkdir -p $(LC_MANDIR)
-	cp lincity.man $(LC_MANDIR)/lincity.$(LC_MANSUF)
-	chmod o+r $(LC_MANDIR)/lincity.$(LC_MANSUF)
-	chmod o+rx `dirname $(LC_BINDIR)`
-	chmod o+rx `dirname $(LC_MANDIR)`
+	$(BSD_INSTALL_MAN) lincity.man $(LC_MANDIR)/lincity.$(LC_MANSUF)
+	$(BSD_INSTALL_MAN) lincity.man $(LC_MANDIR)/xlincity.$(LC_MANSUF)
 
 uninstall:
 	-rm $(LC_BINDIR)/lincity
@


1.2
log
@add BUILD_DEPENDS devel/imake and point Makefile to the imake config
files in ${LOCALBASE}. ok landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.1.1.1 2001/07/29 00:07:36 naddy Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d57 1
a57 1
+LC_IMAKE_ARGS = -DUseInstalled -I$(X11BASE)/lib/X11/config
@


1.1.1.1
log
@Import of LinCity 1.11; submitted by Wilbern Cobb <cobb@@vedge.com.ar>.

LinCity is a city/country simulation game.  You are required to build
and maintain a city.  You must feed, house, provide jobs and goods for
your residents.  Etc.
@
text
@@
