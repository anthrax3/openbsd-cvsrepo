head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2016.11.30.18.31.30;	author jca;	state dead;
branches
	1.1.2.1;
next	;
commitid	R5yLQrWO6N6KFhjm;

1.1.2.1
date	2016.11.30.18.31.30;	author jca;	state Exp;
branches;
next	1.1.2.2;
commitid	R5yLQrWO6N6KFhjm;

1.1.2.2
date	2016.11.30.18.37.29;	author jca;	state Exp;
branches;
next	;
commitid	bweUZZ7xTpZ5O5jv;


desc
@@


1.1
log
@file patch-src_engine_client_client_cpp was initially added on branch OPENBSD_6_0.
@
text
@@


1.1.2.1
log
@SECURITY fix for CVE-2016-9400.
@
text
@a0 12
$OpenBSD$
--- src/engine/client/client.cpp.orig	Wed Nov 19 23:08:22 2014
+++ src/engine/client/client.cpp	Wed Nov 30 19:27:32 2016
@@@@ -1239,7 +1239,7 @@@@ void CClient::ProcessServerPacket(CNetChunk *pPacket)
 
 			pData = (const char *)Unpacker.GetRaw(PartSize);
 
-			if(Unpacker.Error())
+			if(Unpacker.Error() || NumParts < 1 || NumParts > CSnapshot::MAX_PARTS || Part < 0 || Part >= NumParts || PartSize < 0 || PartSize > MAX_SNAPSHOT_PACKSIZE)
 				return;
 
 			if(GameTick >= m_CurrentRecvTick)
@


1.1.2.2
log
@CVE id and url to upstream commit
@
text
@d1 1
a1 5
$OpenBSD: patch-src_engine_client_client_cpp,v 1.1.2.1 2016/11/30 18:31:30 jca Exp $

Fix for CVE-2016-9400:
  https://github.com/teeworlds/teeworlds/commit/ff254722a2683867fcb3e67569ffd36226c4bc62

@


