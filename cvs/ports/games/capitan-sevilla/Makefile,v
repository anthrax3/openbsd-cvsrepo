head	1.7;
access;
symbols
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.4.0.14
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.10
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.12
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.8
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.6
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.4
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.2.0.8
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.6
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.4
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	stsp_20110605:1.1.1.1
	stsp:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2017.04.10.11.45.28;	author sthen;	state Exp;
branches;
next	1.6;
commitid	XDh1zlSBq0boKsHk;

1.6
date	2017.02.27.20.06.12;	author naddy;	state Exp;
branches;
next	1.5;
commitid	6HGilDtBU7WctqyQ;

1.5
date	2016.09.28.21.10.13;	author stsp;	state Exp;
branches;
next	1.4;
commitid	g4R69xqdma34W4Zn;

1.4
date	2013.06.04.18.41.42;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.11.11.07.38;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2011.06.05.14.24.53;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2011.06.05.11.13.47;	author stsp;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.06.05.11.13.47;	author stsp;	state Exp;
branches;
next	;


desc
@@


1.7
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.6 2017/02/27 20:06:12 naddy Exp $

COMMENT =		platform game set in Seville and in space
VERSION = 		1.0.3
DISTNAME =		capitan-sevilla-${VERSION}
CATEGORIES =		games
HOMEPAGE =		http://computeremuzone.com/ficha.php?id=754&l=en

REVISION =		1

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB = 	alleg c freetype m ogg png pthread ${LIBCXX} vorbis vorbisfile z

MASTER_SITES =		http://computeremuzone.com/pc/juegos/
EXTRACT_SUFX = 		.tar.bz2
# XXX upstream distfile has no version number
DISTFILES = 		Capitan${EXTRACT_SUFX}

RUN_DEPENDS =		devel/desktop-file-utils
LIB_DEPENDS =		games/allegro \
			graphics/png \
			audio/libvorbis

LDFLAGS =		-L${LOCALBASE}/lib -L${X11BASE}/lib \
			-lvorbis -lvorbisfile -logg -lfreetype \
			-Llib -lalogg `allegro-config --libs` -lalfont \
			-lpng -lz
MAKE_ENV =		CC="${CC}" CXX="${CXX}"
MAKE_FLAGS =		LDFLAGS="$(LDFLAGS)" DESTDIR="$(DESTDIR)"

USE_GMAKE =		Yes
NO_TEST =		Yes

CFLAGS =		-O2 -pipe -pthread \
			-I${X11BASE}/include \
			-I${X11BASE}/include/freetype2 \
			-I./include \
			-I./src/include \
			-I./dependencies/alogg/include \
			-I./dependencies/alfont/include \
			`allegro-config --cflags` \
			-DCAPITAN_DATA_DIR="\"${LOCALBASE}/share/capitan-sevilla/\""
WRKDIST =		${WRKDIR}/capitan-${VERSION}

ALL_TARGET =		deps all
	
do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/capitan ${PREFIX}/bin
	${INSTALL_DATA_DIR} ${PREFIX}/share/capitan-sevilla/data
.for _f in bitmaps0.dat bitmaps1.dat capitan.at1 capitan.at2 fonts.dat \
	loading.dat map.dat music.dat screens.dat sfx.dat sprites.dat
	${INSTALL_DATA} ${WRKSRC}/data/${_f} \
		${PREFIX}/share/capitan-sevilla/data
.endfor
	${INSTALL_DATA_DIR} ${PREFIX}/share/capitan-sevilla/lang
	${INSTALL_DATA} ${WRKSRC}/lang/lang0.txt \
		${PREFIX}/share/capitan-sevilla/lang
	${INSTALL_DATA} ${WRKSRC}/lang/lang1.txt \
		${PREFIX}/share/capitan-sevilla/lang
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/capitan-sevilla
	${INSTALL_DATA} ${WRKSRC}/extra/instructions.pdf \
		${PREFIX}/share/doc/capitan-sevilla
	${INSTALL_DATA} ${WRKSRC}/extra/instructions.pdf \
		${PREFIX}/share/doc/capitan-sevilla
	${INSTALL_DATA_DIR} ${PREFIX}/share/pixmaps
	${INSTALL_DATA} ${WRKSRC}/extra/capitan.png ${PREFIX}/share/pixmaps
	${INSTALL_DATA_DIR} ${PREFIX}/share/applications
	${INSTALL_DATA} ${WRKSRC}/extra/capitan.desktop \
		${PREFIX}/share/applications

.include <bsd.port.mk>
@


1.6
log
@honor CC, CXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/09/28 21:10:13 stsp Exp $
d14 1
a14 1
WANTLIB = 	alleg c freetype m ogg png pthread stdc++ vorbis vorbisfile z
@


1.5
log
@fix capitan-sevilla's master site URL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/06/04 18:41:42 naddy Exp $
d3 1
a3 1
COMMENT =		platform game set in seville and in space
d9 1
a9 1
REVISION =		0
d30 1
@


1.4
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 11:07:38 espie Exp $
d16 1
a16 1
MASTER_SITES =		http://computeremuzone.com/cezgs/remakes/
@


1.3
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/06/05 14:24:53 ajacoutot Exp $
a35 1
			-I${LOCALBASE}/include/libpng \
@


1.2
log
@Missing update-desktop-database goo and dependency.
Tighten LIB_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/06/05 11:13:47 stsp Exp $
a12 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d33 1
a33 1
NO_REGRESS =		Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d9 2
d24 1
d27 1
a27 2
			audio/libvorbis \
			audio/libogg
@


1.1.1.1
log
@Captain Sevilla is a platform game with hero Mariano Lopez, a sausage
delivery man who is transformed into Captain 'S' after eating
radioactive sausages.  The game's villain is Dr. Torrebruno, an eminent
nuclear physicist with a strange mental disease. The game can be played
in Spanish and in English.

ok rpointel benoit
@
text
@@
