head	1.3;
access;
symbols
	OPENBSD_2_6:1.1.0.6
	OPENBSD_2_6_BASE:1.1
	OPENBSD_2_5:1.1.0.4
	OPENBSD_2_5_BASE:1.1
	OPENBSD_2_4:1.1.0.2
	OPENBSD_2_4_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2000.04.16.20.48.59;	author espie;	state dead;
branches;
next	1.2;

1.2
date	2000.03.19.19.36.54;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	98.07.29.01.22.53;	author espie;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Revamped nethack port:

- 3.3.0.
- fixed packaging.
- moved common data to hackdata port, to avoid nasty collision with slash.
- compile and install recover.
- only install manpages that correspond to stuff we run.
- remove need for GMAKE.
- include configuration files, allow for X11/plain/qt flavor
(qt is not yet ready, it needs qt 2.0).

Colors work much better, even under console if TERM is set to pcvt25.
@
text
@--- sys/unix/Makefile.top.orig	Tue Dec 10 21:20:10 1996
+++ sys/unix/Makefile.top	Sun Mar 19 20:10:34 2000
@@@@ -15,15 +15,15 @@@@
 
 # make NetHack
 GAME     = nethack
-GAMEUID  = games
-GAMEGRP  = bin
+GAMEUID  = bin
+GAMEGRP  = games
 
 # Permissions - some places use setgid instead of setuid, for instance
 # See also the option "SECURE" in include/config.h
-GAMEPERM = 04755
-FILEPERM = 0644
+GAMEPERM = 02755
+FILEPERM = 0664
 EXEPERM  = 0755
-DIRPERM  = 0755
+DIRPERM  = 0775
 
 # GAMEDIR also appears in config.h as "HACKDIR".
 #
@@@@ -32,13 +32,14 @@@@
 # therefore there should not be anything in GAMEDIR that you want to keep
 # (if there is, you'll have to do the installation by hand or modify the
 # instructions)
-GAMEDIR  = /usr/games/lib/$(GAME)dir
-SHELLDIR = /usr/games
+GAMEDIR  = ${DESTDIR}${PREFIX}/lib/$(GAME)dir
+REALGAMEDIR  = ${PREFIX}/lib/$(GAME)dir
+SHELLDIR = ${DESTDIR}${PREFIX}/bin
 
 # per discussion in Install.X11
-VARDATND = 
+#VARDATND = 
 # VARDATND = x11tiles pet_mark.xbm
-# VARDATND = x11tiles pet_mark.xbm rip.xpm
+VARDATND = x11tiles pet_mark.xbm rip.xpm
 
 VARDATD = data oracles options quest.dat rumors
 VARDAT = $(VARDATD) $(VARDATND)
@@@@ -137,7 +138,7 @@@@
 	$(MAKE) dofiles-$${target-nodlb}
 	cp src/$(GAME) $(GAMEDIR)
 	-rm -f $(SHELLDIR)/$(GAME)
-	sed -e 's;/usr/games/lib/nethackdir;$(GAMEDIR);' \
+	sed -e 's;/usr/games/lib/nethackdir;$(REALGAMEDIR);' \
 		-e 's;HACKDIR/nethack;HACKDIR/$(GAME);' \
 		< sys/unix/nethack.sh \
 		> $(SHELLDIR)/$(GAME)
@


1.2
log
@Fake.

1/4 of the ports tree uses Fake !
@
text
@@


1.1
log
@
Imported from FreeBSD with improvements
@
text
@d2 3
a4 2
+++ sys/unix/Makefile.top	Fri Jul 24 15:21:39 1998
@@@@ -16,14 +16,14 @@@@
d7 1
a7 1
 GAMEUID  = games
d9 1
d24 1
a24 1
@@@@ -32,13 +32,13 @@@@
d30 3
a32 2
+GAMEDIR  = ${PREFIX}/lib/$(GAME)dir
+SHELLDIR = ${PREFIX}/bin
d43 9
@

