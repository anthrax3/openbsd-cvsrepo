head	1.31;
access;
symbols
	OPENBSD_6_1:1.31.0.6
	OPENBSD_6_1_BASE:1.31
	OPENBSD_6_0:1.31.0.4
	OPENBSD_6_0_BASE:1.31
	OPENBSD_5_9:1.31.0.2
	OPENBSD_5_9_BASE:1.31
	OPENBSD_5_8:1.30.0.6
	OPENBSD_5_8_BASE:1.30
	OPENBSD_5_7:1.30.0.2
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.28.0.4
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.28.0.2
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.26.0.2
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.25.0.2
	OPENBSD_5_3_BASE:1.25
	OPENBSD_5_2:1.24.0.4
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.24
	OPENBSD_5_1:1.24.0.2
	OPENBSD_5_0:1.23.0.2
	OPENBSD_5_0_BASE:1.23
	OPENBSD_4_9:1.22.0.2
	OPENBSD_4_9_BASE:1.22
	OPENBSD_4_8:1.13.0.4
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.13.0.2
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.11.0.2
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.7.0.2
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	simon_20070628:1.1.1.1
	simon:1.1.1;
locks; strict;
comment	@# @;


1.31
date	2015.11.05.19.08.58;	author jca;	state Exp;
branches;
next	1.30;
commitid	UGP8xDGOujwrZOVl;

1.30
date	2014.11.04.13.03.37;	author armani;	state Exp;
branches;
next	1.29;
commitid	jHYejFVb9mp1NEB3;

1.29
date	2014.11.04.08.47.36;	author armani;	state Exp;
branches;
next	1.28;
commitid	NAOIzjv0nCMG3vfv;

1.28
date	2013.10.11.23.49.37;	author naddy;	state Exp;
branches;
next	1.27;

1.27
date	2013.09.27.17.49.04;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2013.03.11.11.07.39;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2013.02.06.14.23.06;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2011.09.16.09.48.10;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2011.07.06.23.56.08;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2011.01.18.20.22.55;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2011.01.18.20.03.07;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2010.12.05.18.24.33;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2010.11.26.07.20.12;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.11.16.11.23.27;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.11.06.20.48.11;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.10.24.21.19.01;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2010.10.18.18.00.18;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.11.08.14.01;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2009.12.22.16.28.00;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.08.10.06.31.42;	author kili;	state Exp;
branches;
next	1.11;

1.11
date	2009.06.18.01.07.52;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2009.06.11.18.26.44;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2009.06.08.16.58.15;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2009.06.07.05.31.32;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2008.09.29.18.16.58;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.09.28.07.28.54;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2008.06.15.00.08.09;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2008.04.07.20.31.23;	author simon;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.13.14.54.31;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2007.08.11.17.33.13;	author martynas;	state Exp;
branches;
next	1.1;

1.1
date	2007.06.28.15.38.16;	author simon;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.06.28.15.38.16;	author simon;	state Exp;
branches;
next	;


desc
@@


1.31
log
@Drop MAINTAINER, the mail address bounces.
@
text
@# $OpenBSD: Makefile,v 1.30 2014/11/04 13:03:37 armani Exp $

MULTI_PACKAGES=	-main -themes

COMMENT-main=	tetrinet client
COMMENT-themes=	collection of gtetrinet themes
DISTNAME=	gtetrinet-0.7.11
PKGNAME-main=	${DISTNAME}
REVISION-main=	20
PKGNAME-themes=	gtetrinet-themes-20070623
REVISION-themes=3
CATEGORIES=	x11 games

HOMEPAGE=	http://gtetrinet.sourceforge.net/

MASTER_SITES=	${MASTER_SITE_GNOME:=sources/gtetrinet/0.7/}
MASTER_SITES0=	${HOMEPAGE:=themes/}

DISTFILES=	${DISTNAME}${EXTRACT_SUFX}
EXTRACT_ONLY=	${DISTNAME}${EXTRACT_SUFX}

# themes from the homepage that are not available as of 2007-06-23:
# chronos edge ffviii gameboy hivis medieval james james-mono tetrinetv2
# win-tetrinet
THEMES=		TuxNBlue iconic matrix mmr tux tetrinetlv2 wield

.for THEME in ${THEMES}
DISTFILES+=	gtet-theme-${THEME}${EXTRACT_SUFX}:0
.endfor

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

MODULES=		textproc/intltool \
			devel/gconf2 \
			devel/gettext

LIB_DEPENDS-main=	${MODGCONF2_LIB_DEPENDS} \
			x11/gnome/libgnome \
			x11/gnome/libgnomeui
LIB_DEPENDS-themes=
WANTLIB-themes=
RUN_DEPENDS-main=	${RUN_DEPENDS} \
			devel/desktop-file-utils
RUN_DEPENDS-themes=	games/gtetrinet
PKG_ARCH-themes=	*

WANTLIB-main += ${MODGCONF2_WANTLIB} ${MODGETTEXT_WANTLIB}
WANTLIB-main += ICE ORBit-2 SM X11 Xcomposite Xcursor Xdamage Xext
WANTLIB-main += Xfixes Xi Xinerama Xrandr Xrender art_lgpl_2 atk-1.0
WANTLIB-main += bonobo-2 bonobo-activation bonoboui-2 c cairo fontconfig
WANTLIB-main += freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB-main += gmodule-2.0 gnome-2 gnomecanvas-2 gnomeui-2 gnomevfs-2
WANTLIB-main += gobject-2.0 gthread-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0
WANTLIB-main += pangoft2-1.0 popt pthread z

WANTLIB-themes =

MODGCONF2_SCHEMAS_DIR= gtetrinet
MODGCONF2_LIBDEP= No

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS+=--enable-ipv6

CONFIGURE_ENV=	CFLAGS="${CFLAGS} -I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

FAKE_FLAGS=	gamesdir=${PREFIX}/bin \
		schemadir=${PREFIX}/share/schemas/gtetrinet

USE_GMAKE=	Yes
NO_TEST=	Yes

post-install:
.for THEME in ${THEMES}
	@@tar xzf ${DISTDIR}/gtet-theme-${THEME}${EXTRACT_SUFX} -C \
	    ${PREFIX}/share/gtetrinet/themes
.endfor

.include <bsd.port.mk>
@


1.30
log
@Keep ${MODGCONF2_WANTLIB} ${MODGETTEXT_WANTLIB} in WANTLIB, bump again

Requested by and ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/11/04 08:47:36 armani Exp $
d9 1
a9 1
REVISION-main=	19
d11 1
a11 1
REVISION-themes=2
a14 2

MAINTAINER=	Simon Bertrang <simon@@openbsd.org>
@


1.29
log
@Remove esound support, regen wantlib and distinfo

tweaks and ok brad@@, ok ratchov@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/10/11 23:49:37 naddy Exp $
d9 1
a9 1
REVISION-main=	18
d50 1
d54 4
a57 4
WANTLIB-main += freetype gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB-main += glib-2.0 gmodule-2.0 gnome-2 gnomecanvas-2 gnomeui-2
WANTLIB-main += gnomevfs-2 gobject-2.0 gthread-2.0 gtk-x11-2.0 intl m
WANTLIB-main += pango-1.0 pangocairo-1.0 pangoft2-1.0 popt pthread z
@


1.28
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/09/27 17:49:04 ajacoutot Exp $
d9 1
a9 1
REVISION-main=	17
d42 1
a42 2
			x11/gnome/libgnomeui \
			audio/esound>=0.2.38
d50 7
a56 10
WANTLIB-main += gnome-2 gnomeui-2 esd ${MODGCONF2_WANTLIB}
WANTLIB-main += ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB-main += Xext Xfixes Xi Xinerama Xrandr Xrender art_lgpl_2 atk-1.0
WANTLIB-main += audiofile bonobo-2 bonobo-activation bonoboui-2 c cairo
WANTLIB-main += expat fontconfig freetype gailutil gdk-x11-2.0
WANTLIB-main += gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gnome-keyring
WANTLIB-main += gnomecanvas-2 gnomevfs-2 gobject-2.0 gthread-2.0 gtk-x11-2.0
WANTLIB-main += m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB-main += pixman-1 png popt pthread pthread-stubs sndio xcb xml2 z
WANTLIB-main += GL Xxf86vm canberra drm xcb-render xcb-shm ${MODGETTEXT_WANTLIB}
@


1.27
log
@Bump after devel/gconf2,-main is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/11 11:07:39 espie Exp $
a76 1
USE_GROFF =	Yes
@


1.26
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/02/06 14:23:06 ajacoutot Exp $
d9 1
a9 1
REVISION-main=	16
@


1.25
log
@Quiet gconftool-2:
gconf_ping() will try to shutdown gconfd, but since installing pkg is
done as root, there is not gconfd nor dbus that can be started when
DISPLAY isn't set and an annoying warning is issued.

discussed with espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/09/16 09:48:10 espie Exp $
a34 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d78 1
a78 1
NO_REGRESS=	Yes
@


1.24
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/07/06 23:56:08 ajacoutot Exp $
d9 1
a9 1
REVISION-main=	15
@


1.23
log
@Use the libiconv|gettext MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/01/18 20:22:55 ajacoutot Exp $
d9 1
a9 1
REVISION-main=	14
d11 1
a11 1
REVISION-themes=1
@


1.22
log
@Remove "ugly" lines from post-install and use FAKE_FLAGS instead.
While here, regen PLIST and WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/01/18 20:03:07 ajacoutot Exp $
d9 1
a9 1
REVISION-main=	13
d40 2
a41 1
			devel/gconf2
d61 1
a61 1
WANTLIB-main += iconv intl m pango-1.0 pangocairo-1.0 pangoft2-1.0
d63 2
a64 1
WANTLIB-main += GL Xxf86vm canberra drm xcb-render xcb-shm
@


1.21
log
@Remove the need for ${SYSCONFDIR}/gnome and use ${SYSCONFDIR} instead.
Discussed with landry@@ and jasper@@

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/12/05 18:24:33 jasper Exp $
d9 1
a9 1
REVISION-main=	12
d57 1
a57 1
WANTLIB-main += dbus-1 expat fontconfig freetype gailutil gdk-x11-2.0
d62 1
d74 2
a75 1
FAKE_FLAGS=	gamesdir=${PREFIX}/bin
a81 4
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/schemas/gtetrinet
	@@mv ${WRKINST}${SYSCONFDIR}/gconf/schemas/gtetrinet.schemas \
	    ${PREFIX}/share/schemas/gtetrinet
	@@rm -rf ${WRKINST}${SYSCONFDIR}/gconf
@


1.20
log
@- use REVISION instead of a patch-level

from mikolaj kucharski, with a tweak by me in qt3-sqlite3-plugin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/11/26 07:20:12 espie Exp $
d9 1
a9 1
REVISION-main=	11
d81 1
a81 1
	@@mv ${WRKINST}${SYSCONFDIR}/gnome/gconf/schemas/gtetrinet.schemas \
d83 1
a83 1
	@@rm -rf ${WRKINST}${SYSCONFDIR}/gnome
a89 3

# XXX for the schema to be in the right location
CONFIGURE_ARGS+=--sysconfdir=${SYSCONFDIR}/gnome
@


1.19
log
@new depends with >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/11/16 11:23:27 espie Exp $
d10 2
a11 1
PKGNAME-themes=	gtetrinet-themes-20070623p1
@


1.18
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/11/06 20:48:11 espie Exp $
d44 1
a44 1
			esound->=0.2.38:audio/esound
@


1.17
log
@gconf2 module goes wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/10/24 21:19:01 ajacoutot Exp $
d42 3
a44 3
			::x11/gnome/libgnome \
			::x11/gnome/libgnomeui \
			:esound->=0.2.38:audio/esound
d48 2
a49 2
			:desktop-file-utils-*:devel/desktop-file-utils
RUN_DEPENDS-themes=	::games/gtetrinet
d90 1
@


1.16
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/10/18 18:00:18 espie Exp $
d42 3
a44 3
			gnome-2::x11/gnome/libgnome \
			gnomeui-2::x11/gnome/libgnomeui \
			esd:esound->=0.2.38:audio/esound
d46 1
d52 1
@


1.15
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/10/11 08:14:01 jasper Exp $
a72 1
USE_X11=	Yes
@


1.14
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/12/22 16:28:00 ajacoutot Exp $
d74 1
@


1.13
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/08/10 06:31:42 kili Exp $
d8 2
a9 1
PKGNAME-main=	${DISTNAME}p10
d55 1
a55 1
WANTLIB-main += gdk_pixbuf-2.0 gio-2.0 glib-2.0 glitz gmodule-2.0 gnome-keyring
@


1.12
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/06/18 01:07:52 sthen Exp $
d8 1
a8 1
PKGNAME-main=	${DISTNAME}p9
@


1.11
log
@sync wantlib, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/06/11 18:26:44 ajacoutot Exp $
d8 1
a8 1
PKGNAME-main=	${DISTNAME}p8
d57 1
a57 1
WANTLIB-main += pixman-1 png popt pthread sndio xml2 z
@


1.10
log
@Tweak after recent gconf2 MODULE change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/06/08 16:58:15 ajacoutot Exp $
d8 1
a8 1
PKGNAME-main=	${DISTNAME}p7
d50 9
a58 10
WANTLIB-main=	ICE ORBit-2 SM X11 Xau Xcursor Xdmcp Xext Xfixes Xi \
		Xcomposite Xdamage \
		Xinerama Xrandr Xrender art_lgpl_2 atk-1.0 audiofile \
		bonobo-2 bonobo-activation bonoboui-2 c cairo expat \
		fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
		glib-2.0 glitz gmodule-2.0 gnome-keyring gnomecanvas-2 \
		gnomevfs-2 gobject-2.0 gthread-2.0 gtk-x11-2.0 iconv \
		intl m pango-1.0 pangocairo-1.0 pangoft2-1.0 png popt \
		pthread xml2 z gailutil pixman-1
WANTLIB-themes=
@


1.9
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/06/07 05:31:32 ajacoutot Exp $
d8 1
a8 1
PKGNAME-main=	${DISTNAME}p6
d45 2
a46 1
RUN_DEPENDS-main=	:desktop-file-utils-*:devel/desktop-file-utils
a62 1
MODGCONF2_RUNDEP= No
@


1.8
log
@Convert to using the new gconf2.port.mk module.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/09/29 18:16:58 ajacoutot Exp $
d8 2
a9 2
PKGNAME-main=	${DISTNAME}p5
PKGNAME-themes=	gtetrinet-themes-20070623p0
d61 2
a74 1
MODGCONF2_LIBDEP= No
@


1.7
log
@- use intltool MODULE
- while here: precise GPL marker, regen PLIST and make fake less verbose
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/09/28 07:28:54 sturm Exp $
d8 1
a8 1
PKGNAME-main=	${DISTNAME}p4
d37 2
a38 1
MODULES=		textproc/intltool
d40 2
a41 1
LIB_DEPENDS-main=	gnome-2::x11/gnome/libgnome \
d53 1
a53 1
		fontconfig freetype gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 \
d60 2
d63 1
a63 3
CONFIGURE_ARGS+=--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gtetrinet \
		--disable-schemas-install \
		--enable-ipv6
d73 1
a87 1

@


1.6
log
@missing BUILD_DEPENDS on p5-XML-Parser
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/06/15 00:08:09 sthen Exp $
d8 1
a8 1
PKGNAME-main=	${DISTNAME}p3
d31 1
a31 1
# GPL
d37 2
a38 1
BUILD_DEPENDS=		::textproc/p5-XML-Parser
@


1.5
log
@sync wantlib and bump packages. ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/04/07 20:31:23 simon Exp $
d37 1
@


1.4
log
@Remove now unrequired patch and bump for esound version change.

Noticed by martynas@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/11/13 14:54:31 steven Exp $
d8 1
a8 1
PKGNAME-main=	${DISTNAME}p2
d53 1
a53 1
		pthread xml2 z
@


1.3
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/08/11 17:33:13 martynas Exp $
d8 1
a8 1
PKGNAME-main=	${DISTNAME}p1
d39 1
a39 1
			esd:esound->=0.2.34:audio/esound
@


1.2
log
@make it work with 0.2.34;  ok maintainer simon@@, naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/06/28 15:38:16 simon Exp $
d8 1
a8 1
PKGNAME-main=	${DISTNAME}p0
d46 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 2
a9 2
PKGNAME-main=	${DISTNAME}
PKGNAME-themes=	gtetrinet-themes-20070623
d39 1
a39 1
			esd:esound->=0.2.36:audio/esound
@


1.1.1.1
log
@import gtetrinet 0.7.11

GTetrinet is a client program for the popular Tetrinet game, a multiplayer
tetris game that is played over the internet.
(If you don't know what Tetrinet is, check out tetrinet.org)

feedback & ok jasper@@
@
text
@@
