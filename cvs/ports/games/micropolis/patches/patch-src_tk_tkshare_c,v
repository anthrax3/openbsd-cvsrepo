head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2017.03.18.15.55.56;	author tb;	state Exp;
branches;
next	;
commitid	JG1Uxavg56sn2xJS;


desc
@@


1.1
log
@Fix backwards memcpy that caused micropolis to abort when it received
several clicks in the menu bar.

ok sthen
@
text
@$OpenBSD$

fix backwards memcpy
--- src/tk/tkshare.c.orig	Sat Mar 18 06:51:20 2017
+++ src/tk/tkshare.c	Sat Mar 18 06:51:40 2017
@@@@ -186,7 +186,7 @@@@ Tk_UnshareEvents(tkwin, groupId)
 		continue;
 	    }
 	    if ((i+1) < groupPtr->numWindows) {
-		memcpy((VOID *) (groupPtr->windows + i),
+		memmove((VOID *) (groupPtr->windows + i),
 			(VOID *) (groupPtr->windows + i + 1),
 			(groupPtr->numWindows - (i+1))*sizeof(Tk_Window *));
 	    }
@
