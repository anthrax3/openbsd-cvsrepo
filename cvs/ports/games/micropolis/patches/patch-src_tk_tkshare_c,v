head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.2
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.1.0.2
	OPENBSD_6_1_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2017.05.09.13.01.42;	author espie;	state Exp;
branches;
next	1.1;
commitid	FofH9KkwRtpIk4FP;

1.1
date	2017.03.18.15.55.56;	author tb;	state Exp;
branches;
next	;
commitid	JG1Uxavg56sn2xJS;


desc
@@


1.2
log
@use modern idioms for subst, pass X11BASE on the command line.
regen all patches for newer headers.
@
text
@$OpenBSD: patch-src_tk_tkshare_c,v 1.1 2017/03/18 15:55:56 tb Exp $

fix backwards memcpy
Index: src/tk/tkshare.c
--- src/tk/tkshare.c.orig
+++ src/tk/tkshare.c
@@@@ -186,7 +186,7 @@@@ Tk_UnshareEvents(tkwin, groupId)
 		continue;
 	    }
 	    if ((i+1) < groupPtr->numWindows) {
-		memcpy((VOID *) (groupPtr->windows + i),
+		memmove((VOID *) (groupPtr->windows + i),
 			(VOID *) (groupPtr->windows + i + 1),
 			(groupPtr->numWindows - (i+1))*sizeof(Tk_Window *));
 	    }
@


1.1
log
@Fix backwards memcpy that caused micropolis to abort when it received
several clicks in the menu bar.

ok sthen
@
text
@d1 1
a1 1
$OpenBSD$
d4 3
a6 2
--- src/tk/tkshare.c.orig	Sat Mar 18 06:51:20 2017
+++ src/tk/tkshare.c	Sat Mar 18 06:51:40 2017
@

