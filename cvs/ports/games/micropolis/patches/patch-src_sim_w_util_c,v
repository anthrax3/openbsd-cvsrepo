head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2017.04.22.19.49.18;	author espie;	state Exp;
branches;
next	1.1;
commitid	Q8sdUrlidIAMs9MD;

1.1
date	2017.04.20.15.52.29;	author espie;	state Exp;
branches;
next	;
commitid	bZR21d9nt8deHgED;


desc
@@


1.2
log
@silence a lot more warnings by adding prototypes, not yet finished
@
text
@$OpenBSD: patch-src_sim_w_util_c,v 1.1 2017/04/20 15:52:29 espie Exp $
--- src/sim/w_util.c.orig	Mon Feb  4 03:52:26 2008
+++ src/sim/w_util.c	Sat Apr 22 21:20:05 2017
@@@@ -64,6 +64,7 @@@@
 
 /* comefrom: drawTaxesCollected incBoxValue decBoxValue drawCurrentFunds 
 	     drawActualBox UpdateFunds updateCurrentCost */
+void
 makeDollarDecimalStr(char *numStr, char *dollarStr)
 {
   register short leftMostSet;
@@@@ -210,6 +211,7 @@@@ UpdateGameLevel()
 }
 
 
+void
 setCityName(char *name)
 {
   char *cp = name;
@@@@ -223,12 +225,13 @@@@ setCityName(char *name)
 }
 
 
+void
 setAnyCityName(char *name)
 {
   char buf[1024];
 
   CityName = name;
-  sprintf(buf, "UISetCityName {%s}", CityName);
+  snprintf(buf, 1024, "UISetCityName {%s}", CityName);
   Eval(buf);
 }
 
@@@@ -266,6 +269,7 @@@@ DoSetMapState(SimView *view, short state)
 }
 
 
+void
 DoNewGame()
 {
   Eval("UINewGame");
@


1.1
log
@declare a shitload of functions void to appease clang who definitely
does not like void returns in non void functions.
@
text
@d1 3
a3 3
$OpenBSD$
--- src/sim/w_util.c.orig	Thu Apr 20 17:30:36 2017
+++ src/sim/w_util.c	Thu Apr 20 17:30:49 2017
d12 31
@

