head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2017.05.09.13.01.42;	author espie;	state Exp;
branches;
next	1.2;
commitid	FofH9KkwRtpIk4FP;

1.2
date	2017.04.22.19.49.18;	author espie;	state Exp;
branches;
next	1.1;
commitid	Q8sdUrlidIAMs9MD;

1.1
date	2017.04.20.15.52.29;	author espie;	state Exp;
branches;
next	;
commitid	bZR21d9nt8deHgED;


desc
@@


1.3
log
@use modern idioms for subst, pass X11BASE on the command line.
regen all patches for newer headers.
@
text
@$OpenBSD: patch-src_sim_s_disast_c,v 1.2 2017/04/22 19:49:18 espie Exp $
Index: src/sim/s_disast.c
--- src/sim/s_disast.c.orig
+++ src/sim/s_disast.c
@@@@ -70,7 +70,14 @@@@ short FloodCnt;
 short FloodX, FloodY;
 
 
+void MakeFlood(void);
+void MakeMeltdown(void);
+void ScenarioDisaster(void);
+void SetFire(void);
+int Vunerable(int);
+
 /* comefrom: Simulate */
+void
 DoDisasters(void)
 { 
   /* Chance of disasters at lev 0 1 2 */
@@@@ -115,6 +122,7 @@@@ DoDisasters(void)
 
 
 /* comefrom: DoDisasters */
+void
 ScenarioDisaster(void)
 {
   int x, y;
@@@@ -148,6 +156,7 @@@@ ScenarioDisaster(void)
 
 
 /* comefrom: ScenarioDisaster */
+void
 MakeMeltdown(void)
 {
   short x, y;
@@@@ -164,6 +173,7 @@@@ MakeMeltdown(void)
 }
 
 
+void
 FireBomb()
 {
   CrashX = Rand(WORLD_X - 1);
@@@@ -175,6 +185,7 @@@@ FireBomb()
 
 
 /* comefrom: DoDisasters ScenarioDisaster */
+void
 MakeEarthquake(void)
 {
   register short x, y, z;
@@@@ -202,6 +213,7 @@@@ MakeEarthquake(void)
 
 
 /* comefrom: DoDisasters */
+void
 SetFire(void)
 {
   register short x, y, z;
@@@@ -222,6 +234,7 @@@@ SetFire(void)
 
 
 /* comefrom: DoDisasters */
+void
 MakeFire(void)
 {
   short t, x, y, z;
@@@@ -243,6 +256,7 @@@@ MakeFire(void)
 
 
 /* comefrom: MakeEarthquake */
+int
 Vunerable(int tem)
 {
   register int tem2;
@@@@ -257,6 +271,7 @@@@ Vunerable(int tem)
 
 
 /* comefrom: DoDisasters ScenarioDisaster */
+void
 MakeFlood(void)
 {
   static short Dx[4] = { 0, 1, 0,-1};
@@@@ -290,6 +305,7 @@@@ MakeFlood(void)
 
 
 /* comefrom: MapScan */
+void
 DoFlood(void)
 {
   static short Dx[4] = { 0, 1, 0,-1};
@


1.2
log
@silence a lot more warnings by adding prototypes, not yet finished
@
text
@d1 4
a4 3
$OpenBSD: patch-src_sim_s_disast_c,v 1.1 2017/04/20 15:52:29 espie Exp $
--- src/sim/s_disast.c.orig	Mon Feb  4 03:52:26 2008
+++ src/sim/s_disast.c	Sat Apr 22 18:44:34 2017
@


1.1
log
@declare a shitload of functions void to appease clang who definitely
does not like void returns in non void functions.
@
text
@d1 4
a4 4
$OpenBSD$
--- src/sim/s_disast.c.orig	Thu Apr 20 17:06:15 2017
+++ src/sim/s_disast.c	Thu Apr 20 17:09:23 2017
@@@@ -70,7 +70,11 @@@@ short FloodCnt;
d10 3
d19 9
a27 1
@@@@ -148,6 +152,7 @@@@ ScenarioDisaster(void)
d35 25
a59 1
@@@@ -222,6 +227,7 @@@@ SetFire(void)
d67 9
a75 1
@@@@ -257,6 +263,7 @@@@ Vunerable(int tem)
d81 8
@

