head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2017.04.22.15.02.55;	author espie;	state Exp;
branches;
next	;
commitid	AQNfN3vsQXkndu1t;


desc
@@


1.1
log
@fix a large number of warnings, some of them actual errors, exposed by clang
I haven't even started on the game itself...
@
text
@$OpenBSD$
--- src/tclx/src/tclxcclk.c.orig	Sat Apr 22 16:30:15 2017
+++ src/tclx/src/tclxcclk.c	Sat Apr 22 16:30:55 2017
@@@@ -52,8 +52,10 @@@@ Tcl_ConvertclockCmd (clientData, interp, argc, argv)
 	return TCL_ERROR;
     }
     if (argc == 4) {
-        if (Tcl_GetLong (interp, argv [3], &baseClock) != TCL_OK)
+    	long tmp;
+        if (Tcl_GetLong (interp, argv [3], &tmp) != TCL_OK)
             return TCL_ERROR;
+	baseClock = (long)tmp; /* ouchie ? */
     } else
         time (&baseClock);
 
@
