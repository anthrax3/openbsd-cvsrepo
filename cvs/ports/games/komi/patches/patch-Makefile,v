head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.12
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.10
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.8
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.1.1.0.24
	OPENBSD_5_6_BASE:1.1.1.1
	OPENBSD_5_5:1.1.1.1.0.22
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.20
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.18
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.16
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.14
	OPENBSD_5_0:1.1.1.1.0.12
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.10
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.8
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.6
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.4
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	ajacoutot_20081129:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2014.08.09.16.59.14;	author espie;	state Exp;
branches;
next	1.1;
commitid	HMY7wK1VGz3fPNdU;

1.1
date	2008.10.29.16.53.57;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.10.29.16.53.57;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@makefile patch lost +x right on directory, bad when non-root
@
text
@$OpenBSD: patch-Makefile,v 1.1.1.1 2008/10/29 16:53:57 ajacoutot Exp $
--- Makefile.orig	Wed Jul 14 23:48:52 2004
+++ Makefile	Wed Oct 29 17:40:54 2008
@@@@ -2,19 +2,20 @@@@
 # Allan Crossman
 
 # Where the graphics and sound files go...
-DATAPATH=/usr/local/share/komidata/
+DATAPATH=${PREFIX}/share/komidata/
 
 # Where to put the binary...
-BINPATH=/usr/local/bin/
+BINPATH=${PREFIX}/bin/
 
 # Where to put the manpage...
-MANPATH=/usr/local/man/man6/
+MANPATH=${PREFIX}/man/man6/
 
 MIXER=-lSDL_mixer
-SDL_LIB=$(shell sdl-config --static-libs) $(MIXER)
+SDL_LIB=`sdl-config --libs` $(MIXER)
+SDL_FLAGS=`sdl-config --cflags`
 
-CFLAGS=-Wall -pedantic -std=c99 -O2 \
-	$(shell sdl-config --cflags) \
+CFLAGS+=-Wall -pedantic -std=c99 \
+	$(SDL_FLAGS) \
 	-DDATAPATH=\"$(DATAPATH)\"
 
 all:	komi
@@@@ -24,15 +25,14 @@@@ clean:
 	-rm *.o
 
 install:
-	install -d $(DATAPATH)
-	cp -R komidata/* $(DATAPATH)
-	chmod -R 644 $(DATAPATH)
-	chmod 755 $(DATAPATH)
-	install -d $(BINPATH)
-	cp komi $(BINPATH)
-	chmod 755 $(BINPATH)komi
-	install -d $(MANPATH)
-	cp komi.6 $(MANPATH)komi.6
+	${BSD_INSTALL_DATA_DIR} ${DESTDIR}/$(DATAPATH)
+	cp -R komidata/* ${DESTDIR}/$(DATAPATH)
+	chmod -R 644 ${DESTDIR}/$(DATAPATH)
+	chmod 755 $(DESTDIR)/$(DATAPATH)
+	${BSD_INSTALL_PROGRAM_DIR} ${DESTDIR}/$(BINPATH)
+	${BSD_INSTALL_PROGRAM} komi ${DESTDIR}/$(BINPATH)
+	${BSD_INSTALL_MAN_DIR} ${DESTDIR}/$(MANPATH)
+	${BSD_INSTALL_MAN} komi.6 ${DESTDIR}/$(MANPATH)komi.6
 
 komi:	komi.o
 	$(CC) $(CFLAGS) komi.o -o komi $(SDL_LIB)
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d31 1
a31 1
@@@@ -24,15 +25,13 @@@@ clean:
d47 1
@


1.1.1.1
log
@Import komi-1.04, The Space Frog!

Komi is a 2D arcade game written in C, which uses the SDL library for
graphics and sound.  The aim of the game is to collect the money (in the
forms of coins and diamonds) floating about the screen.
Move Komi (the Space Frog) with the arrow keys, or keypad 4 and 6, or Q
and W, and extend his tongue with the spacebar, or the return key.
@
text
@@
