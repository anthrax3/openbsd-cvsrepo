head	1.15;
access;
symbols
	OPENBSD_6_1:1.10.0.2
	OPENBSD_6_1_BASE:1.10
	OPENBSD_6_0:1.7.0.2
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	pascal_20151227:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2017.07.26.22.45.21;	author sthen;	state Exp;
branches;
next	1.14;
commitid	tD4MFrpYYDDL2UFT;

1.14
date	2017.07.16.19.18.55;	author espie;	state Exp;
branches;
next	1.13;
commitid	tt0GhWK5c4uf9ILG;

1.13
date	2017.05.27.19.57.06;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	H08QxD8pqoInz6Rz;

1.12
date	2017.05.27.13.55.58;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	SykG6k6P85X3Gc2i;

1.11
date	2017.04.10.11.46.18;	author sthen;	state Exp;
branches;
next	1.10;
commitid	BLsh88fJB8thZTwY;

1.10
date	2017.02.04.15.23.57;	author pascal;	state Exp;
branches;
next	1.9;
commitid	KiV8Hvp9bTP1kGbP;

1.9
date	2016.11.04.11.15.14;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	Ud1jdOoyd4fx88Bh;

1.8
date	2016.09.12.11.45.57;	author naddy;	state Exp;
branches;
next	1.7;
commitid	Cnalk1Ujct5ZDcli;

1.7
date	2016.06.29.15.11.45;	author dcoppa;	state Exp;
branches;
next	1.6;
commitid	sNH9Fi4RSw7U3hDH;

1.6
date	2016.05.07.12.40.56;	author pascal;	state Exp;
branches;
next	1.5;
commitid	Fec0PsLcTwj1Q99H;

1.5
date	2016.03.18.23.12.17;	author naddy;	state Exp;
branches;
next	1.4;
commitid	KZAl4KEiw6a3Jixw;

1.4
date	2016.01.19.15.16.39;	author sthen;	state Exp;
branches;
next	1.3;
commitid	X83tTVbOKPmPZ4o6;

1.3
date	2016.01.17.17.29.08;	author sthen;	state Exp;
branches;
next	1.2;
commitid	bS2FIbTCCkF3XjOq;

1.2
date	2015.12.29.07.23.02;	author pascal;	state Exp;
branches;
next	1.1;
commitid	IOAx3hPxgB6l4kWY;

1.1
date	2015.12.27.21.40.56;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;
commitid	7g77g9RAz5e187Do;

1.1.1.1
date	2015.12.27.21.40.56;	author pascal;	state Exp;
branches;
next	;
commitid	7g77g9RAz5e187Do;


desc
@@


1.15
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.14 2017/07/16 19:18:55 espie Exp $

COMMENT-main =		Worms-like strategy game
COMMENT-server =	Worms-like strategy game, server

MULTI_PACKAGES =	-main -server

SHARED_LIBS +=  physlayer                 0.0 # 0.0

R =			0.9.22
REVISION =		8
V =			$R
DISTNAME =		hedgewars-src-$V
PKGNAME-main =		hedgewars-$V
PKGNAME-server =	hedgewars-server-$V

CATEGORIES =		games

HOMEPAGE =		http://www.hedgewars.org/

MAINTAINER =		Pascal Stumpf <pascal@@stumpf.co>

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB-main += QtGui QtNetwork SDL SDL_image SDL_mixer SDL_net SDL_ttf
WANTLIB-main += c m physfs png pthread ${COMPILER_LIBCXX} util z
WANTLIB-main += ${MODLUA_WANTLIB} ${MODQT4_WANTLIB}

# dlopen()ed; do not remove.
WANTLIB-main += GL GLU glut

WANTLIB-server = c iconv m pthread util

MASTER_SITES =		http://download.gna.org/hedgewars/
EXTRACT_SUFX =		.tar.bz2

MODULES =		devel/cmake \
			lang/ghc \
			lang/lua \
			x11/qt4

BUILD_DEPENDS +=	archivers/hs-zlib \
			devel/hs-vector \
			devel/hs-network \
			devel/hs-random \
			devel/hs-hslogger \
			devel/hs-dataenc \
			devel/hs-utf8-string \
			lang/fpc>=3.0.0p2 \
			security/hs-SHA \
			security/hs-entropy \
			textproc/hs-bytestring-show

LIB_DEPENDS-main =	devel/sdl-image \
			devel/sdl-ttf \
			devel/sdl-net \
			devel/sdl-mixer \
			devel/physfs \
			graphics/freeglut \
			${MODQT4_LIB_DEPENDS} \
			${MODLUA_LIB_DEPENDS}

LIB_DEPENDS-server =	converters/libiconv

CONFIGURE_ARGS +=	-DNOVIDEOREC=ON

CONFIGURE_ENV +=	HOME="${WRKBUILD}"

MODGHC_BUILD =		nort

NO_TEST =		Yes

WRKDIST =		${WRKDIR}/hedgewars-src-$R

.include <bsd.port.mk>
@


1.14
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2017/05/27 19:57:06 ajacoutot Exp $
d11 1
a11 1
REVISION =		7
@


1.13
log
@Bring rc_bg back.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2017/05/27 13:55:58 ajacoutot Exp $
d27 1
a27 1
WANTLIB-main += c m physfs png pthread ${LIBCXX} util z
@


1.12
log
@I forgot the bump commit...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2017/04/10 11:46:18 sthen Exp $
d11 1
a11 1
REVISION =		6
@


1.11
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2017/02/04 15:23:57 pascal Exp $
d11 1
a11 1
REVISION =		5
@


1.10
log
@Bump and force using fpc>=3.0.0p2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2016/11/04 11:15:14 ajacoutot Exp $
d27 1
a27 1
WANTLIB-main += c m physfs png pthread stdc++ util z
@


1.9
log
@Drop the no_server PSEUDO FLAVOR which fails intermittently in bulks.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2016/09/12 11:45:57 naddy Exp $
d11 1
a11 1
REVISION =		4
d50 1
a50 1
			lang/fpc \
@


1.8
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2016/06/29 15:11:45 dcoppa Exp $
d11 1
a11 1
REVISION =		3
d39 16
a54 3
			x11/qt4 \
			lang/lua
BUILD_DEPENDS =		lang/fpc
d63 1
a69 17
PSEUDO_FLAVORS = no_server
FLAVOR ?=

.if ${FLAVOR:Mno_server}
CONFIGURE_ARGS +=	-DNOSERVER=ON
.else
MODULES +=		lang/ghc
BUILD_DEPENDS +=	devel/hs-vector \
			devel/hs-network \
			devel/hs-random \
			devel/hs-hslogger \
			devel/hs-dataenc \
			devel/hs-utf8-string \
			security/hs-SHA \
			security/hs-entropy \
			textproc/hs-bytestring-show \
			archivers/hs-zlib
a70 1
.endif
@


1.7
log
@
Fix cmake_modules/CMakePascalInformation.cmake, so that hedgewars
can be built using ninja (and remove USE_NINJA=No)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/05/07 12:40:56 pascal Exp $
d11 1
a11 1
REVISION =		2
d33 1
a33 1
WANTLIB-server = c m pthread util ${MODLIBICONV_WANTLIB}
d40 1
a40 2
			lang/lua \
			converters/libiconv
@


1.6
log
@Update my mail address.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/03/18 23:12:17 naddy Exp $
a41 1
USE_NINJA =		No
@


1.5
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2016/01/19 15:16:39 sthen Exp $
d11 1
a11 1
REVISION =		1
d21 1
a21 1
MAINTAINER =		Pascal Stumpf <Pascal.Stumpf@@cubes.de>
@


1.4
log
@WANTLIB+=util for -server as well
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.3 2016/01/17 17:29:08 sthen Exp $

SHARED_ONLY =		Yes
@


1.3
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2015/12/29 07:23:02 pascal Exp $
d13 1
a13 1
REVISION =		0
d35 1
a35 1
WANTLIB-server = c m pthread ${MODLIBICONV_WANTLIB}
@


1.2
log
@BUILD_DEPENDS += devel/hs-utf8-string, noticed by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2015/12/27 21:40:56 pascal Exp $
d13 1
d29 1
a29 1
WANTLIB-main += c m physfs png pthread stdc++ z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d71 1
@


1.1.1.1
log
@Hedgewars is a turn based strategy, artillery, action and comedy
game, featuring the antics of pink hedgehogs with attitude as they
battle from the depths of hell to the depths of space.

As commander, it's your job to assemble your crack team of hedgehog
soldiers and bring the war to your enemy.

ok landry@@
@
text
@@
