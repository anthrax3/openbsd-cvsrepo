head	1.33;
access;
symbols
	OPENBSD_6_1:1.32.0.6
	OPENBSD_6_1_BASE:1.32
	OPENBSD_6_0:1.32.0.4
	OPENBSD_6_0_BASE:1.32
	OPENBSD_5_9:1.32.0.2
	OPENBSD_5_9_BASE:1.32
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.30.0.6
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.30.0.4
	OPENBSD_5_6_BASE:1.30
	OPENBSD_5_5:1.30.0.2
	OPENBSD_5_5_BASE:1.30
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.24.0.4
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.24.0.2
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.2
	OPENBSD_5_0:1.21.0.4
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.21.0.2
	OPENBSD_4_9_BASE:1.21
	OPENBSD_4_8:1.18.0.4
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.2
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.16.0.4
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.16.0.2
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.14.0.2
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.13.0.2
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.3.0.2
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.2.0.2
	OPENBSD_3_7_BASE:1.2
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.33
date	2017.04.10.11.46.19;	author sthen;	state Exp;
branches;
next	1.32;
commitid	BLsh88fJB8thZTwY;

1.32
date	2016.01.17.17.29.08;	author sthen;	state Exp;
branches;
next	1.31;
commitid	bS2FIbTCCkF3XjOq;

1.31
date	2015.03.27.08.41.05;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	bGtJfGn7cri3zP6L;

1.30
date	2013.10.22.11.34.14;	author zhuk;	state Exp;
branches;
next	1.29;

1.29
date	2013.10.05.07.34.31;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2013.06.24.15.53.38;	author zhuk;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.21.08.45.17;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2013.03.19.13.07.13;	author nigel;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.11.11.07.39;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2012.06.15.08.32.15;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2011.12.03.19.49.45;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2011.09.16.09.48.10;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.16.11.23.27;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.08.15.54.54;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.24.21.19.02;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2009.12.22.16.28.00;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.08.10.06.31.42;	author kili;	state Exp;
branches;
next	1.16;

1.16
date	2009.01.29.22.28.58;	author jakemsr;	state Exp;
branches;
next	1.15;

1.15
date	2008.12.09.23.34.29;	author martynas;	state Exp;
branches;
next	1.14;

1.14
date	2008.04.17.08.35.16;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2007.12.08.16.44.19;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2007.12.05.16.36.30;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2007.11.13.14.54.31;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2007.09.15.18.01.02;	author simon;	state Exp;
branches;
next	1.9;

1.9
date	2007.05.09.11.39.19;	author bernd;	state Exp;
branches;
next	1.8;

1.8
date	2006.11.13.10.08.12;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2006.09.18.11.50.40;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2006.08.02.09.36.20;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2006.06.12.13.38.00;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2006.01.22.17.59.07;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2005.08.10.15.49.01;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2005.02.27.22.09.02;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.17.23.44.06;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.17.23.44.06;	author espie;	state Exp;
branches;
next	;


desc
@@


1.33
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.32 2016/01/17 17:29:08 sthen Exp $

COMMENT= 		billiard game
CATEGORIES=		x11 x11/kde games
DISTNAME=		kbilliards-0.8.7b
REVISION =		13

HOMEPAGE=		http://www.hostnotfound.it/kbilliards.php
MASTER_SITES=		http://www.hostnotfound.it/kbilliards/
EXTRACT_SUFX=		.tar.bz2

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += FLAC ICE SM X11 Xext Xfixes Xrender Xt art_lgpl_2
WANTLIB += audiofile bz2 c expat fam fontconfig freetype glib-2.0
WANTLIB += gmodule-2.0 gthread-2.0 idn m mad ogg pcre png 
WANTLIB += pthread pthread-stubs sndio ${LIBCXX} util vorbis
WANTLIB += vorbisenc vorbisfile xcb z
WANTLIB += X11-xcb Xdamage Xxf86vm drm glapi xcb-dri2 xcb-glx
WANTLIB += ${KDE}/DCOP ${KDE}/artsflow ${KDE}/artsflow_idl
WANTLIB += ${KDE}/artskde ${KDE}/kdecore>=6 ${KDE}/kdefx
WANTLIB += ${KDE}/kdeprint ${KDE}/kdesu ${KDE}/kdeui ${KDE}/kio
WANTLIB += ${KDE}/kmedia2_idl ${KDE}/kparts ${KDE}/kwalletclient
WANTLIB += ${KDE}/mcop ${KDE}/qtmcop ${KDE}/soundserver_idl 

MODULES=		x11/kde	devel/gettext

LIB_DEPENDS=		x11/kde/libs3

RUN_DEPENDS=		x11/gtk+3,-guic

CONFIGURE_STYLE=	autoconf
CONFIGURE_ENV+=		${MODKDE_CONFIGURE_ENV}
CONFIGURE_ARGS+=	${MODKDE_CONFIGURE_ARGS}
MAKE_FLAGS+=		${MODKDE_MAKE_FLAGS}
MODCONFIG_GUESS_DIRS+=	${MODKDE_CONFIG_GUESS_DIRS}
AUTOCONF_VERSION=	2.59
USE_GMAKE=		Yes

PORTHOME?=		${WRKDIR}

.include <bsd.port.mk>
@


1.32
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/03/27 08:41:05 ajacoutot Exp $
d18 1
a18 1
WANTLIB += pthread pthread-stubs sndio stdc++ util vorbis
@


1.31
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/10/22 11:34:14 zhuk Exp $
d6 1
a6 1
REVISION =		12
d15 11
a25 10
WANTLIB =	FLAC ICE SM X11 Xext Xfixes Xrender Xt art_lgpl_2
WANTLIB +=	audiofile bz2 c expat fam fontconfig freetype glib-2.0
WANTLIB +=	gmodule-2.0 gthread-2.0 idn m mad ogg pcre png 
WANTLIB +=	pthread pthread-stubs sndio stdc++ util vorbis
WANTLIB +=	vorbisenc vorbisfile xcb z
WANTLIB +=	${KDE}/DCOP ${KDE}/artsflow ${KDE}/artsflow_idl
WANTLIB +=	${KDE}/artskde ${KDE}/kdecore>=6 ${KDE}/kdefx
WANTLIB +=	${KDE}/kdeprint ${KDE}/kdesu ${KDE}/kdeui ${KDE}/kio
WANTLIB +=	${KDE}/kmedia2_idl ${KDE}/kparts ${KDE}/kwalletclient
WANTLIB +=	${KDE}/mcop ${KDE}/qtmcop ${KDE}/soundserver_idl 
@


1.30
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/10/05 07:34:31 espie Exp $
d6 1
a6 1
REVISION =		11
d30 1
a30 1
RUN_DEPENDS=		x11/gtk+2,-guic
@


1.29
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/06/24 15:53:38 zhuk Exp $
d6 1
a6 1
REVISION =		10
@


1.28
log
@Massive cleanup for KDE3. Main point is in changing WANTLIB from "foo" to
"lib/kde3/foo" where appropirate, but also many missing desktop goo items
added, some PFRAG.shared removed and so on.

input and okay landry@@ and ajacoutot@@, also okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/03/21 08:45:17 ajacoutot Exp $
d6 1
a6 1
REVISION =		9
@


1.27
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/19 13:07:13 nigel Exp $
d6 1
a6 1
REVISION =		8
d15 4
a18 6
WANTLIB =	DCOP FLAC ICE SM X11 Xext Xfixes Xrender Xt art_lgpl_2
WANTLIB +=	artsflow artsflow_idl artskde audiofile bz2 c expat fam 
WANTLIB +=	fontconfig freetype glib-2.0 gmodule-2.0 gthread-2.0 idn 
WANTLIB +=	kdecore>=6 kdefx kdeprint kdesu kdeui kio kmedia2_idl kparts
WANTLIB +=	kwalletclient m mad mcop ogg pcre png pthread pthread-stubs
WANTLIB +=	qt-mt qtmcop sndio soundserver_idl stdc++ util vorbis
d20 5
@


1.26
log
@WANTLIB updates for fontconfig and other libraries.

Ok sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/11 11:07:39 espie Exp $
a35 1
USE_LIBTOOL=		Yes
@


1.25
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/06/15 08:32:15 ajacoutot Exp $
d6 1
a6 1
REVISION =		7
d15 7
a21 7
WANTLIB=	ICE SM X11 Xau Xdmcp Xext Xrender art_lgpl_2 artsflow \
		artsflow_idl audiofile bz2 c fam glib-2.0 \
		gmodule-2.0 gthread-2.0 idn jpeg kmedia2_idl m mad \
		mcop ogg pcre png pthread pthread-stubs qt-mt qtmcop rpcsvc \
		sndio soundserver_idl stdc++ util vorbis vorbisenc \
		vorbisfile xcb z kdecore>=6 kdesu kdeui DCOP kdeprint \
		kio kwalletclient kdefx artskde kparts
@


1.24
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/12/03 19:49:45 ajacoutot Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.23
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/09/16 09:48:10 espie Exp $
d6 1
a6 1
REVISION =		6
@


1.22
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/11/16 11:23:27 espie Exp $
d6 1
a6 1
REVISION =		5
d29 2
@


1.21
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/08 15:54:54 espie Exp $
d6 1
a6 1
REVISION =		4
@


1.20
log
@a few more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/24 21:19:02 ajacoutot Exp $
d23 1
a23 1
		vorbisfile xcb z kdecore.>=6 kdesu kdeui DCOP kdeprint \
d28 1
a28 1
LIB_DEPENDS=		::x11/kde/libs3
@


1.19
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/12/22 16:28:00 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p4
d21 4
a24 3
		mcop ogg pcre png pthread pthread-stubs qt-mt qtmcop rpcsvc sndio \
		soundserver_idl stdc++ util vorbis vorbisenc \
		vorbisfile xcb z
d28 1
a28 1
LIB_DEPENDS=		kdecore.>=6,kdesu,kdeui,DCOP,kdeprint,kio,kwalletclient,kdefx,artskde,kparts::x11/kde/libs3
@


1.18
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/08/10 06:31:42 kili Exp $
a36 1
USE_X11=		Yes
@


1.17
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/01/29 22:28:58 jakemsr Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p3
@


1.16
log
@* add sndio backend for artsd
* use audio(4) instead of ossaudio(3) in kdemultimedia3 as much as
  possible
* sync WANTLIB in dependant ports

testing/prodding from todd@@.  briefly discussed with naddy@@, ajacoutot@@
and jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/12/09 23:34:29 martynas Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
d21 1
a21 1
		mcop ogg pcre png pthread qt-mt qtmcop rpcsvc sndio \
d23 1
a23 1
		vorbisfile z
@


1.15
log
@fix build for new libm by removing -Dsqrtl=sqrt.  caught by sthen@@'s
bulk build.  ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/04/17 08:35:16 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d19 1
a19 1
		artsflow_idl audiofile bz2 c esd fam glib-2.0 \
d21 1
a21 1
		mcop ogg ossaudio pcre png pthread qt-mt qtmcop rpcsvc \
@


1.14
log
@- don't depend on gtk+2 just for running gtk-update-icon-cache
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/12/08 16:44:19 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
a37 2

CFLAGS+=		-Dsqrtl=sqrt
@


1.13
log
@- unbreak
did not build, so no bump

noticed by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/12/05 16:36:30 ajacoutot Exp $
d6 2
d12 1
a12 1
# GPL
a25 3

# gtk-update-icon-cache
RUN_DEPENDS=		::x11/gtk+2
@


1.12
log
@- update to kbilliards-0.8.7b
- add gettext MODULE
- add gtk-update-icon-cache @@exec/@@unexec
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/11/13 14:54:31 steven Exp $
a4 1
MODULES=		x11/kde
d23 1
a23 1
MODULES=		devel/gettext
@


1.11
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/09/15 18:01:02 simon Exp $
d6 1
a6 2
DISTNAME=		kbilliards-0.7
PKGNAME=		${DISTNAME}p2
d11 18
a29 7
WANTLIB=		m stdc++ ICE X11 z SM Xext util c ossaudio \
			Xrender pthread jpeg png ogg vorbis vorbisenc \
			vorbisfile mad qtmcop intl iconv mcop esd \
			art_lgpl_2 artsflow audiofile artsflow_idl \
			kmedia2_idl soundserver_idl idn \
			gthread-2.0 glib-2.0 gmodule-2.0 \
			Xau Xdmcp fam pcre rpcsvc
a30 1
MODKDE_VERSION=	3.3.0
d41 3
a43 5
# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.10
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/05/09 11:39:19 bernd Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d18 2
a19 1
			gthread-2.0 glib-2.0 gmodule-2.0
@


1.9
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/11/13 10:08:12 steven Exp $
d3 1
a3 1
COMMENT= 		"billiard game"
@


1.8
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/09/18 11:50:40 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.7
log
@zap unneeded 0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/08/02 09:36:20 espie Exp $
d29 1
@


1.6
log
@more newstyle lib-depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/06/12 13:38:00 espie Exp $
d18 1
a18 1
			gthread-2.0.0.0 glib-2.0.0.0 gmodule-2.0.0.0
@


1.5
log
@libidn change from recent kdelibs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/01/22 17:59:07 espie Exp $
d12 1
a12 1
LIB_DEPENDS=		kdecore.6,kdesu,kdeui,DCOP,kdeprint,kio,kwalletclient,kdefx,artskde,kparts::x11/kde/libs3
@


1.4
log
@USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/08/10 15:49:01 naddy Exp $
d7 1
d17 1
a17 1
			kmedia2_idl soundserver_idl \
@


1.3
log
@no more build problems on amd64; ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/02/27 22:09:02 pvalchev Exp $
d27 1
@


1.2
log
@mark as broken on amd64: uic goes crazy to be investigated
@
text
@d1 1
a1 5
# $OpenBSD: Makefile,v 1.1.1.1 2005/02/17 23:44:06 espie Exp $

.if ${MACHINE_ARCH} == "amd64"
BROKEN=			"uic spins forever"
.endif
@


1.1
log
@Initial revision
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.5 2004/12/16 07:25:25 alek Exp $
@


1.1.1.1
log
@small game of billiards
@
text
@@
