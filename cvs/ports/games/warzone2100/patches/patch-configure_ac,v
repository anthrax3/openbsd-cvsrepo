head	1.10;
access;
symbols
	OPENBSD_6_1:1.10.0.2
	OPENBSD_6_1_BASE:1.10
	OPENBSD_6_0:1.8.0.10
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.6
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.8
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.4
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.8.0.2
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.7.0.6
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.4
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.2
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.5.0.4
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.2
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.10
date	2016.08.02.10.19.55;	author kirby;	state Exp;
branches;
next	1.9;
commitid	TtWtPfLP2O1jXpzS;

1.9
date	2016.08.01.10.25.02;	author kirby;	state Exp;
branches;
next	1.8;
commitid	XGO7dqsqdVI0bEKu;

1.8
date	2014.03.09.22.35.51;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2013.01.30.01.40.49;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2013.01.21.16.37.41;	author pascal;	state Exp;
branches;
next	1.5;

1.5
date	2011.11.06.21.12.37;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2011.07.07.21.16.44;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2011.04.28.18.38.04;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.03.13.10.26.26;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.05.16.14.16;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.10
log
@bugfix update to warzone2100-3.2.1
@
text
@$OpenBSD: patch-configure_ac,v 1.9 2016/08/01 10:25:02 kirby Exp $
--- configure.ac.orig	Thu Jul 28 11:16:04 2016
+++ configure.ac	Mon Aug  1 18:02:15 2016
@@@@ -285,7 +285,7 @@@@ fi
 
 WZ_WARNINGS_GCC="-Wall -Wextra ${WZ_Wno_}unused-parameter ${WZ_Wno_}sign-compare -Wcast-align -Wwrite-strings -Wpointer-arith ${WZ_Wno_}format-security"
 WZ_WARNINGS_GCC_C="${WZ_WARNINGS_GCC} -Wstrict-prototypes -Wdeclaration-after-statement ${CFLAGS_IGNORE_WARNINGS}"
-WZ_WARNINGS_GCC_CXX="${WZ_Wno_}enum-compare ${WZ_WARNINGS_GCC}"
+WZ_WARNINGS_GCC_CXX="${WZ_WARNINGS_GCC}"
 if test "x$enable_debug" = "xyes" ; then
 	if test "x$cc_icc" = "xyes" ; then
 		WZ_CFLAGS="${WZ_CFLAGS} -O0 -g -Wcheck -Werror"
@


1.9
log
@update to warzone2100-3.2.0
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_ac,v 1.8 2014/03/09 22:35:51 brad Exp $
--- configure.ac.orig	Sun Jul 10 20:36:14 2016
+++ configure.ac	Wed Jul 27 11:56:25 2016
@@@@ -281,7 +281,7 @@@@ fi
@


1.8
log
@Update to Warzone 2100 3.1.1.

ok pascal@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_ac,v 1.7 2013/01/30 01:40:49 brad Exp $
--- configure.ac.orig	Sat Nov 23 20:25:10 2013
+++ configure.ac	Thu Dec  5 16:20:39 2013
@@@@ -283,7 +283,7 @@@@ fi
@


1.7
log
@- Uncomment bits of code using dprintf() now that OpenBSD has dprintf()
  within libc
- Slightly better way of dealing with the lack of a sys/ucontext.h header

ok sthen@@
@
text
@d1 4
a4 30
$OpenBSD: patch-configure_ac,v 1.6 2013/01/21 16:37:41 pascal Exp $
--- configure.ac.orig	Mon Jan 14 18:54:06 2013
+++ configure.ac	Tue Jan 22 22:04:29 2013
@@@@ -81,7 +81,7 @@@@ AX_CHECK_STRLCAT
 AX_STACK_PROTECT_CC
 AX_STACK_PROTECT_CXX
 
-AC_CHECK_HEADERS(alloca.h)
+AC_CHECK_HEADERS(alloca.h sys/ucontext.h)
 
 # Check for gettext
 AM_GNU_GETTEXT([external])
@@@@ -135,15 +135,11 @@@@ case ${host_os} in
 		AC_SUBST([WIN32_LIBS], [${WIN32_LIBS}])
 		LDFLAGS="-Wl,-subsystem,windows ${LDFLAGS}"
 		;;
-	*openbsd*)
-		AC_DEFINE([_XOPEN_SOURCE], 600, [Enable POSIX extensions if present])
-		# Make sure that backtrace_symbols_fd (GNU raw back trace extension) has some symbols to work with
-		LDFLAGS="-Wl,-export-dynamic ${LDFLAGS}"
-		;;
 	*)
 		# Some platforms don't need _XOPEN_SOURCE
 		case ${host_os} in
 			*freebsd*) ;;
+			*openbsd*) ;;
 			*)
 				AC_DEFINE([_XOPEN_SOURCE], 600, [Enable POSIX extensions if present])
 				;;
@@@@ -292,7 +288,7 @@@@ fi
@


1.6
log
@Update to Warzone2100 3.1.0.

ok brad@@
@
text
@d1 12
a12 3
$OpenBSD$
--- configure.ac.orig	Tue Jan 15 00:54:06 2013
+++ configure.ac	Mon Jan 21 00:16:22 2013
@


1.5
log
@Update to warzone2100-2.3.9

from Brad
@
text
@d1 21
a21 4
$OpenBSD: patch-configure_ac,v 1.4 2011/07/07 21:16:44 jasper Exp $
--- configure.ac.orig	Sun Oct 23 16:28:21 2011
+++ configure.ac	Sun Nov  6 10:06:45 2011
@@@@ -422,7 +422,7 @@@@ AC_CHECK_LIB(popt, poptGetContext, AC_SUBST([POPT_LIBS
d23 7
a29 7
 # Look for PhysicsFS
 AC_CHECK_HEADER(physfs.h, , AC_MSG_ERROR([PhysicsFS header not found.]))
-AC_CHECK_LIB(physfs, PHYSFS_init, AC_SUBST([PHYSFS_LIBS], [-lphysfs]), AC_MSG_ERROR([PhysicsFS not found.]), [${WIN32_LIBS}])
+AC_CHECK_LIB(physfs, PHYSFS_init, AC_SUBST([PHYSFS_LIBS], [-lphysfs]), AC_MSG_ERROR([PhysicsFS not found.]), [-pthread])
 
 # Look for OpenGL
 CPPFLAGS_SAVE="$CPPFLAGS"
@


1.4
log
@- update to 2.3.8
- enable on amd64, after the openal update things have improved a tad

from brad
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_ac,v 1.3 2011/04/28 18:38:04 jasper Exp $
--- configure.ac.orig	Mon May 16 21:09:54 2011
+++ configure.ac	Thu Jun 30 17:01:26 2011
@@@@ -419,7 +419,7 @@@@ AC_CHECK_LIB(popt, poptGetContext, AC_SUBST([POPT_LIBS
@


1.3
log
@- we have nearbyint() in libm now.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_ac,v 1.2 2011/03/13 10:26:26 dcoppa Exp $
--- configure.ac.orig	Fri Jan 21 15:52:00 2011
+++ configure.ac	Sat Jan 29 21:18:41 2011
@@@@ -414,7 +411,7 @@@@ AC_CHECK_LIB(popt, poptGetContext, AC_SUBST([POPT_LIBS
@


1.2
log
@Bugfix update to warzone2100-2.3.7.
From Brad. Tested by me.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_ac,v 1.1 2010/12/05 16:14:16 dcoppa Exp $
a3 10
@@@@ -372,9 +372,6 @@@@ fi
 
 # Checks for libraries:
 
-# check for nearbyint()
-AC_CHECK_LIB(m, nearbyint, [MATH_LIB=""], AC_MSG_ERROR([nearbyint not found.]))
-
 # When (cross-)compiling for Windows (MinGW) we need to link in iberty for Popt
 # and the Dr. MinGW derived exception handler.
 if test "x$host_os_mingw32" = "xyes" ; then
@


1.1
log
@Update to warzone2100-2.3.6

From Brad, with tweaks by me.
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.ac.orig	Sun Nov 28 14:38:58 2010
+++ configure.ac	Mon Nov 29 19:08:56 2010
@@@@ -371,9 +371,6 @@@@ fi
d14 1
a14 1
@@@@ -413,7 +410,7 @@@@ AC_CHECK_LIB(popt, poptGetContext, AC_SUBST([POPT_LIBS
@

