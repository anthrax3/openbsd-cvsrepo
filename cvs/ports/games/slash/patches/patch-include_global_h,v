head	1.1;
access;
symbols
	OPENBSD_6_1:1.1.0.2
	OPENBSD_6_1_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2016.12.01.00.03.32;	author jca;	state Exp;
branches;
next	;
commitid	xsHBYJId2eVWC6sS;


desc
@@


1.1
log
@Usable MASTER_SITES for the nethack distfiles.

Slash-Unix still has a broken MASTER_SITES, it should probably be
mirrored by someone who cares.
@
text
@$OpenBSD$

Bump QBUFSZ to cope for large terminals and avoid stack buffer
overflows.

--- include/global.h.orig	Thu Nov 24 03:49:47 2016
+++ include/global.h	Thu Nov 24 03:50:14 2016
@@@@ -297,7 +297,7 @@@@ struct version_info {
 #define DOORMAX		120	/* max number of doors per level */
 
 #define BUFSZ		256	/* for getlin buffers */
-#define QBUFSZ		128	/* for building question text */
+#define QBUFSZ		1024	/* for building question text */
 
 #define PL_NSIZ		32	/* name of player, ghost, shopkeeper */
 #define PL_CSIZ		32	/* sizeof pl_character */
@
