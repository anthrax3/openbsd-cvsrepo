head	1.2;
access;
symbols
	OPENBSD_5_5:1.1.1.1.0.10
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.8
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.6
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.4
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.2
	jasper_20113108:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2014.03.10.20.28.47;	author pascal;	state dead;
branches;
next	1.1;

1.1
date	2011.08.31.19.46.37;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.08.31.19.46.37;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to extremetuxracer 0.6.0.  Note that this requires gcc 4.8.
@
text
@$OpenBSD: patch-src_ppgltk_images_png_reader_cpp,v 1.1 2011/08/31 19:46:37 jasper Exp $

Adapt to new png; fix from Gentoo: 
https://bugs.gentoo.org/attachment.cgi?id=222839&action=diff

--- src/ppgltk/images/png_reader.cpp.orig	Thu Aug 11 14:41:38 2011
+++ src/ppgltk/images/png_reader.cpp	Thu Aug 11 14:43:54 2011
@@@@ -77,7 +77,7 @@@@ ReaderPNG::ReaderPNG(const char *fileName)
 	
 	
 	png_get_IHDR(png_ptr, info_ptr, &width, &height,
-       &bit_depth, &color_type, &interlace_type,int_p_NULL, int_p_NULL);
+       &bit_depth, &color_type, &interlace_type,(int *)NULL, (int *)NULL);
 	
 	if(bit_depth == 16)
         png_set_strip_16(png_ptr);
@@@@ -88,7 +88,7 @@@@ ReaderPNG::ReaderPNG(const char *fileName)
 		png_set_expand(png_ptr);
 		png_read_update_info(png_ptr, info_ptr);
 		png_get_IHDR(png_ptr, info_ptr, &width, &height,
-			   &bit_depth, &color_type, &interlace_type,int_p_NULL, int_p_NULL);
+			   &bit_depth, &color_type, &interlace_type,(int *)NULL, (int *)NULL);
 	}
 	
 	if( color_type == PNG_COLOR_TYPE_GRAY ||
@@@@ -96,7 +96,7 @@@@ ReaderPNG::ReaderPNG(const char *fileName)
 		png_set_gray_to_rgb(png_ptr);
 		png_read_update_info(png_ptr, info_ptr);
 		png_get_IHDR(png_ptr, info_ptr, &width, &height,
-			   &bit_depth, &color_type, &interlace_type,int_p_NULL, int_p_NULL);
+			   &bit_depth, &color_type, &interlace_type,(int *)NULL, (int *)NULL);
 	}
 		
 	this->width=width;
@@@@ -114,7 +114,7 @@@@ ReaderPNG::ReaderPNG(const char *fileName)
 	}
 	
 	png_read_end(png_ptr, info_ptr);
-	png_destroy_read_struct(&png_ptr, &info_ptr, png_infopp_NULL);
+	png_destroy_read_struct(&png_ptr, &info_ptr, NULL);
 	fclose(fp);
 }
 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@import extremetuxracer-0.4

Extreme Tux Racer is an open-source downhill racing game starring Tux,
the Linux mascot. It follows in the path of Tux Racer and its
derivatives.

from Pascal Stumpf (MAINTAINER)
ok landry@@
@
text
@@
