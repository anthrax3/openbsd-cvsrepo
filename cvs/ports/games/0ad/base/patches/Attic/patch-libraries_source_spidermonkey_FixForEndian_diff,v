head	1.2;
access;
symbols
	OPENBSD_6_0:1.1.0.4
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2016.11.17.11.16.43;	author pascal;	state dead;
branches;
next	1.1;
commitid	rdOT1tmTeigCC7ki;

1.1
date	2015.09.21.11.27.08;	author pascal;	state Exp;
branches;
next	;
commitid	1mZSW3dkObaCxyiJ;


desc
@@


1.2
log
@Update to 0ad 0.0.21

ok bentley@@
@
text
@$OpenBSD: patch-libraries_source_spidermonkey_FixForEndian_diff,v 1.1 2015/09/21 11:27:08 pascal Exp $
--- libraries/source/spidermonkey/FixForEndian.diff.orig.port	Thu Aug 13 15:16:44 2015
+++ libraries/source/spidermonkey/FixForEndian.diff	Thu Aug 13 15:21:36 2015
@@@@ -0,0 +1,40 @@@@
+Deal with /usr/include/endian.h only providing BYTE_ORDER
+
+--- a/js/src/jscpucfg.h.orig	Sun Jul 13 19:23:20 2014
++++ b/js/src/jscpucfg.h	Sun Jul 13 19:34:07 2014
+@@@@ -43,16 +43,27 @@@@
+ #elif defined(JS_HAVE_ENDIAN_H)
+ # include <endian.h>
+ 
+-# if defined(__BYTE_ORDER)
+-#  if __BYTE_ORDER == __LITTLE_ENDIAN
+-#   define IS_LITTLE_ENDIAN 1
+-#   undef  IS_BIG_ENDIAN
+-#  elif __BYTE_ORDER == __BIG_ENDIAN
+-#   undef  IS_LITTLE_ENDIAN
+-#   define IS_BIG_ENDIAN 1
++# if defined(__BYTE_ORDER) || defined(BYTE_ORDER)
++#  if defined(__BYTE_ORDER)
++#   if __BYTE_ORDER == __LITTLE_ENDIAN
++#    define IS_LITTLE_ENDIAN 1
++#    undef  IS_BIG_ENDIAN
++#   elif __BYTE_ORDER == __BIG_ENDIAN
++#    undef  IS_LITTLE_ENDIAN
++#    define IS_BIG_ENDIAN 1
++#   endif
+ #  endif
++#  if defined(BYTE_ORDER)
++#   if BYTE_ORDER == LITTLE_ENDIAN
++#    define IS_LITTLE_ENDIAN 1
++#    undef  IS_BIG_ENDIAN
++#   elif BYTE_ORDER == BIG_ENDIAN
++#    undef  IS_LITTLE_ENDIAN
++#    define IS_BIG_ENDIAN 1
++#   endif
++#  endif
+ # else /* !defined(__BYTE_ORDER) */
+-#  error "endian.h does not define __BYTE_ORDER. Cannot determine endianness."
++#  error "endian.h does not define __BYTE_ORDER nor BYTE_ORDER. Cannot determine endianness."
+ # endif
+ 
+ /* BSDs */
@


1.1
log
@Update to latest version 0.0.18.  Switch to internal spidermonkey as updating
devel/spidermonkey would cause issues with other ports, and we don't want yet
another version of it in the tree for just one port.

feedback on spidermonkey landry@@, ok bentley "I am a filthy slacker" @@
@
text
@d1 1
a1 1
$OpenBSD$
@

