head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.1.0.4
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2016.11.17.11.16.43;	author pascal;	state Exp;
branches;
next	1.1;
commitid	rdOT1tmTeigCC7ki;

1.1
date	2015.12.03.22.03.18;	author pascal;	state Exp;
branches;
next	;
commitid	WL47Eg8x3Ak8UI8i;


desc
@@


1.2
log
@Update to 0ad 0.0.21

ok bentley@@
@
text
@$OpenBSD: patch-libraries_source_spidermonkey_patch_sh,v 1.1 2015/12/03 22:03:18 pascal Exp $
--- libraries/source/spidermonkey/patch.sh.orig.port	Sun Sep 25 12:20:55 2016
+++ libraries/source/spidermonkey/patch.sh	Wed Nov  9 11:43:25 2016
@@@@ -23,6 +23,9 @@@@ patch -p1 < ../FixZLibMozBuild.diff
 #    This causes tracelogger to flush data to the disk regularly and prevents out of
 #    memory issues if a lot of data gets logged.
 # * https://bugzilla.mozilla.org/show_bug.cgi?id=1155618
+
+# patch to fix SO_VERSION on OpenBSD
+patch -p1 -i ../FixSoVersionOpenBSD.diff
 #    Fix tracelogger destructor that touches possibly uninitialised hash table.
 # * https://bugzilla.mozilla.org/show_bug.cgi?id=1223636
 #    Don't treat extraTextId as containing only extra ids.
@


1.1
log
@Update to 0.0.19.

ok bentley@@ (maintainer)
@
text
@d1 7
a7 10
$OpenBSD$
--- libraries/source/spidermonkey/patch.sh.orig.port	Fri Nov 27 18:41:05 2015
+++ libraries/source/spidermonkey/patch.sh	Fri Nov 27 18:41:18 2015
@@@@ -23,3 +23,9 @@@@ patch -p1 -i ../FixBug1119228.diff
 
 # Fix debug build failure on platforms with Ion disabled (eg AArch64)
 patch -p1 -i ../FixBug1037470.diff
+
+# patch to fix compilation on systems with proper endian.h
+patch -p1 -i ../FixForEndian.diff
d11 3
@

