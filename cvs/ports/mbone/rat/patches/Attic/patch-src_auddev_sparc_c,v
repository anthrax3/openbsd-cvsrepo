head	1.2;
access;
symbols
	OPENBSD_4_0:1.1.0.24
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.22
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.20
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.18
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.16
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.14
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.12
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.10
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.8
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.6
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.4
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1
	OPENBSD_2_9:1.1.0.2
	OPENBSD_2_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2006.10.18.13.52.33;	author sturm;	state dead;
branches;
next	1.1;

1.1
date	2001.03.17.17.23.27;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.2
log
@as discussed on icb, remove too old to be of much use and unmaintained
mbone category
@
text
@$OpenBSD: patch-src_auddev_sparc_c,v 1.1 2001/03/17 17:23:27 wilfried Exp $
--- src/auddev_sparc.c.orig	Mon Mar  1 18:23:49 1999
+++ src/auddev_sparc.c	Fri Mar 16 20:49:24 2001
@@@@ -45,11 +45,19 @@@@
 
 #include "assert.h"
 #include "bat_include.h"
-#ifdef SunOS
+#if defined(SunOS) || defined(__OpenBSD__)
 
+#if defined(SunOS)
 #include <multimedia/audio_hdr.h>
+#else
+#include <sys/types.h>
+#include <sys/ioctl.h>
+#include <sys/audioio.h>
+#endif
 
+#if !defined(__OpenBSD__)
 typedef Audio_hdr* audio_header_pointer;
+#endif
 
 static audio_info_t	dev_info;
 static int 		mulaw_device = FALSE;	/* TRUE if the hardware can only do 8bit mulaw sampling */
@@@@ -69,7 +77,9 @@@@ audio_open(audio_format format)
 	if (audio_fd > 0) {
 		AUDIO_INITINFO(&dev_info);
 		dev_info.monitor_gain       = 0;
+#if !defined(__OpenBSD__)
 		dev_info.output_muted       = 0; /* 0==not muted */
+#endif
 		dev_info.play.sample_rate   = format.sample_rate;
 		dev_info.record.sample_rate = format.sample_rate;
 		dev_info.play.channels      = format.num_channels;
@@@@ -157,7 +167,7 @@@@ audio_close(int audio_fd)
 void
 audio_drain(int audio_fd)
 {
-	ioctl(audio_fd, I_FLUSH, (caddr_t)FLUSHR);
+	ioctl(audio_fd, AUDIO_FLUSH, NULL);
 }
 
 /* Gain and volume values are in the range 0 - MAX_AMP */
@


1.1
log
@* respect CC/CFLAGS
* split patches into separate files
@
text
@d1 1
a1 1
$OpenBSD: $
@

