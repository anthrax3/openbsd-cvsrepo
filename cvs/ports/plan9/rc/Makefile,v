head	1.25;
access;
symbols
	OPENBSD_6_0:1.25.0.2
	OPENBSD_6_0_BASE:1.25
	OPENBSD_5_9:1.24.0.2
	OPENBSD_5_9_BASE:1.24
	OPENBSD_5_8:1.22.0.4
	OPENBSD_5_8_BASE:1.22
	OPENBSD_5_7:1.21.0.6
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.21.0.4
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.21.0.2
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.20.0.2
	OPENBSD_5_4_BASE:1.20
	OPENBSD_5_3:1.19.0.2
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.18.0.2
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.4
	OPENBSD_5_0:1.17.0.2
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.15.0.12
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.10
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.15.0.8
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.6
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.15.0.4
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.2
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.14.0.12
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.14.0.10
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.14.0.8
	OPENBSD_4_0_BASE:1.14
	OPENBSD_3_9:1.14.0.6
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.14.0.4
	OPENBSD_3_8_BASE:1.14
	OPENBSD_3_7:1.14.0.2
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.13.0.6
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.13.0.4
	OPENBSD_3_5_BASE:1.13
	OPENBSD_3_4:1.13.0.2
	OPENBSD_3_4_BASE:1.13
	OPENBSD_3_3:1.12.0.2
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.11.0.6
	OPENBSD_3_2_BASE:1.11
	OPENBSD_3_1:1.11.0.4
	OPENBSD_3_1_BASE:1.11
	OPENBSD_3_0:1.11.0.2
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9_TRACKING_SWITCH:1.11
	OPENBSD_2_9:1.10.0.4
	OPENBSD_2_9_BASE:1.10
	OPENBSD_2_8:1.10.0.2
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.1.1.1.0.2
	OPENBSD_2_6_BASE:1.1.1.1
	brad_1999-06-11:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2016.04.05.22.54.46;	author jca;	state Exp;
branches;
next	1.24;
commitid	487aMYRhEFPktgU9;

1.24
date	2015.10.14.02.58.29;	author gsoares;	state Exp;
branches;
next	1.23;
commitid	WnArHa965O8OL5rO;

1.23
date	2015.10.06.13.32.56;	author gsoares;	state Exp;
branches;
next	1.22;
commitid	JDo9yr7LE8AmbYok;

1.22
date	2015.03.21.21.28.27;	author naddy;	state Exp;
branches;
next	1.21;
commitid	qpZEJlwVUig13AoY;

1.21
date	2013.08.09.23.17.56;	author landry;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.11.11.37.53;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2013.02.09.14.49.52;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2012.03.29.13.38.49;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2011.04.16.21.13.43;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2010.10.18.21.25.08;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2007.09.15.19.00.55;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2004.12.20.13.45.22;	author alek;	state Exp;
branches;
next	1.13;

1.13
date	2003.05.15.03.25.56;	author markus;	state Exp;
branches;
next	1.12;

1.12
date	2002.12.03.19.51.25;	author markus;	state Exp;
branches;
next	1.11;

1.11
date	2001.05.06.03.05.06;	author lebel;	state Exp;
branches;
next	1.10;

1.10
date	2000.10.22.17.02.40;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2000.08.19.01.47.54;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2000.06.07.00.52.08;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.09.17.37.46;	author espie;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2000.03.24.22.11.55;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.15.05.05.04;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.12.06.30.02;	author turan;	state Exp;
branches;
next	1.3;

1.3
date	2000.02.11.01.10.11;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	99.11.30.00.48.44;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.06.11.14.44.22;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.06.11.14.44.22;	author brad;	state Exp;
branches;
next	;

1.7.2.1
date	2000.09.15.05.12.14;	author marc;	state Exp;
branches;
next	;


desc
@@


1.25
log
@Remove maintainer per his request.
@
text
@# $OpenBSD: Makefile,v 1.24 2015/10/14 02:58:29 gsoares Exp $

COMMENT=	shell (clone of plan9 shell)

DISTNAME=	rc-1.7.4
REVISION=	0
CATEGORIES=	plan9 shells
MASTER_SITES=	http://static.tobold.org/rc/

HOMEPAGE=	http://tobold.org/article/rc

# zlib license
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c

SEPARATE_BUILD=	Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--with-history

FLAVORS=	readline editline
FLAVOR?=

TEST_TARGET= trip

.if ${FLAVOR} == "readline"
CONFIGURE_ARGS+= --with-edit=readline
WANTLIB+=		readline termcap
.elif ${FLAVOR} == "editline"
CONFIGURE_ARGS+= --with-edit=edit
WANTLIB += edit termcap
.endif

.include <bsd.port.mk>
@


1.24
log
@the external editline library is not required since that openbsd editline in base is OK and happy.

sha256/binaries in the rc package are equal `with and without' this change,
that means that the editline provided by external editline-1.5.tar.gz was never used,
so we can kill it with fire.

regen distfile; no package change...so no need bump.

noticed and diff from Michael Reed(MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/10/06 13:32:56 gsoares Exp $
d6 1
a10 2

MAINTAINER=	Michael Reed <m.reed@@mykolab.com>
@


1.23
log
@update plan9/rc to 1.7.4; patch from Michael Reed < m.reed at mykolab.com > with tweaks by me.

tested by Michael Reed who also take maintainer ship.
OK markus@@ (former maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/03/21 21:28:27 naddy Exp $
a7 2
MASTER_SITES0=	http://static.tobold.org/rc/
SUPDISTFILES=	editline-1.5.tar.gz:0
a30 2
DISTFILES=	${DISTNAME}.tar.gz editline-1.5.tar.gz:0
EDITLINE=	${WRKSRC}/../editline
a31 1
CONFIGURE_ENV=	LIBS+="-L${EDITLINE}"
a32 6
.endif

.if ${FLAVOR} == "editline"
pre-configure:
	@@echo "===>  Compiling editline"
	@@cd ${EDITLINE} && ${MAKE_PROGRAM}
@


1.22
log
@Fix some roff-level problems (text interpreted as macro, backslash escaping)
and drop USE_GROFF where no longer needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/08/09 23:17:56 landry Exp $
d5 1
a5 2
DISTNAME=	rc-1.6
REVISION=	1
d7 2
a8 3
MASTER_SITES=	http://www.star.le.ac.uk/~tjg/rc/release/ \
		ftp://ftp.sys.toronto.edu/pub/rc/
MASTER_SITES0=	http://www.star.le.ac.uk/~tjg/rc/misc/
d11 1
a11 1
MAINTAINER=	Markus Friedl <markus@@openbsd.org>
d13 3
a28 6
.if defined(WITH_READLINE) && ${WITH_READLINE:U} == YES
FLAVOR+=readline
.elif defined(WITH_EDITLINE) && ${WITH_EDITLINE:U} == YES
FLAVOR+=editline
.endif

d30 1
a30 1
CONFIGURE_ARGS+= --with-readline
d35 3
a37 2
CONFIGURE_ARGS+= --with-editline
CONFIGURE_ENV=	LIBS="-L${EDITLINE}"
@


1.21
log
@Set @@shell for rc.
From Dmitrij D. Czarkoff thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/11 11:37:53 espie Exp $
a25 1
USE_GROFF =	Yes
@


1.20
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/02/09 14:49:52 sthen Exp $
d6 1
a6 1
REVISION=	0
@


1.19
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/03/29 13:38:49 sthen Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d27 1
a27 1
REGRESS_TARGET= trip
@


1.18
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/04/16 21:13:43 sthen Exp $
d38 1
a38 1
.if ${FLAVOR:L} == "readline"
d41 1
a41 1
.elif ${FLAVOR:L} == "editline"
d48 1
a48 1
.if ${FLAVOR:L} == "editline"
@


1.17
log
@- remove unnecessary NULL casts
- sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/10/18 21:25:08 espie Exp $
d22 1
a22 1
SEPARATE_BUILD=	concurrent
@


1.16
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/09/15 19:00:55 steven Exp $
d6 1
d19 1
@


1.15
log
@remove surrounding quotes in COMMENT/PERMIT*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/12/20 13:45:22 alek Exp $
d27 1
@


1.14
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2003/05/15 03:25:56 markus Exp $
d3 1
a3 1
COMMENT=	"shell (clone of plan9 shell)"
@


1.13
log
@switch back to rc-1.6; ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/05/06 03:05:06 lebel Exp $
d18 1
d37 1
@


1.12
log
@update to 1.7, from mechiel at ueber.net; ok pval@@
@
text
@d5 1
a5 1
DISTNAME=	rc-1.7
d40 1
a40 1
CONFIGURE_ENV=	LDFLAGS="-L${EDITLINE}"
@


1.11
log
@plan9 (from Outer Space): integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/10/22 17:02:40 espie Exp $
d5 1
a5 1
DISTNAME=	rc-1.6
a6 1
NEED_VERSION=	1.402
d26 2
d40 1
a40 1
CONFIGURE_ENV=	LIBS="-L${EDITLINE}"
@


1.10
log
@Maintainer
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.9 2000/08/19 01:47:54 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.310
@


1.9
log
@- add missing SUPDISTFILES
- remove license type
- GNU_CONFIGURE -> CONFIGURE_STYLE
- add @@comment with RCS id to PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/06/07 00:52:08 espie Exp $
d11 1
a11 1
MAINTAINER=	markus@@openbsd.org
@


1.8
log
@Fake plan9 subdir.
Add rc flavors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/04/09 17:37:46 espie Exp $
a2 1
#WITH_EDITLINE=	yes
d5 1
a5 1
NEED_VERSION=	1.121
d9 1
a9 1

a12 1
LICENSE_TYPE=		BSD
d19 2
a20 2
GNU_CONFIGURE=	Yes
CONFIGURE_ARGS+= --with-history
d22 1
a22 1
FLAVORS=readline editline
d37 1
a37 1
CONFIGURE_ENV+=	LIBS="-L${EDITLINE}"
d40 1
a40 1

a41 1
.if ${FLAVOR:L} == "editline"
d43 1
a43 1
	cd ${EDITLINE} && make
@


1.7
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/03/24 22:11:55 espie Exp $
d3 1
a3 1
WITH_EDITLINE=	yes
a6 1
FAKE=No
d15 4
a18 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d21 1
a21 1
GNU_CONFIGURE=	yes
d24 3
d28 6
d35 1
a35 1
.elif defined(WITH_EDITLINE) && ${WITH_EDITLINE:U} == YES
a41 11
pre-fetch:
.if !defined(NO_WARNINGS)
.if !defined(WITH_READLINE) && !defined(WITH_EDITLINE)
	@@echo '*******************************************************' 
	@@echo '* Note that you can build rc using the readline or    *'
	@@echo '* editline library (emacs style command line editing) *'
	@@echo '* by setting the shell variable WITH_READLINE or      *'
	@@echo '* WITH_EDITLINE to yes                                *'
	@@echo '*******************************************************' 
.endif
.endif
d44 1
a44 1
.if defined(WITH_EDITLINE) && ${WITH_EDITLINE:U} == YES
d46 1
a46 1
	(cd ${EDITLINE} && make)
@


1.7.2.1
log
@bring plan9 as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/06/07 00:52:08 espie Exp $
d3 1
a3 1
#WITH_EDITLINE=	yes
d7 1
d16 4
a19 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d22 1
a22 1
GNU_CONFIGURE=	Yes
a24 3
FLAVORS=readline editline
FLAVOR?=

d26 1
a26 1
FLAVOR+=readline
a27 6
FLAVOR+=editline
.endif

.if ${FLAVOR:L} == "readline"
CONFIGURE_ARGS+= --with-readline
.elif ${FLAVOR:L} == "editline"
d34 11
d47 1
a47 1
.if ${FLAVOR:L} == "editline"
d49 1
a49 1
	cd ${EDITLINE} && make
@


1.6
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/02/15 05:05:04 turan Exp $
d7 1
@


1.5
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/12 06:30:02 turan Exp $
d6 1
a10 1
NEED_VERSION=	1.121
@


1.4
log
@bsd licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/02/11 01:10:11 espie Exp $
d15 4
a18 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.3
log
@Kill a large set of deprecated variables.
Thoroughly unsubtle, most mkdir -p should probably be INSTALL* at
*install stage, and echo/ECHO_MSG is somewhat unsorted.

It's quite possible I missed a few automated changes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/11/30 00:48:44 brad Exp $
d13 6
@


1.2
log
@- change maintainers email address to markus@@openbsd.org
- make use of multiple master sites
- make use of :U variable modifier
- cleanup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/06/11 14:44:22 brad Exp $
d41 1
a41 1
	@@${ECHO_MSG} "===>  Compiling editline"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a5 1
MAINTAINER=	markus.friedl@@informatik.uni-erlangen.de
d8 5
d15 1
a15 1
GNU_CONFIGURE=  yes
d18 1
a18 11
pre-fetch pre-build pre-install:
.if !defined(WITH_READLINE) && !defined(WITH_EDITLINE)
.if !defined(NO_WARNINGS)
	@@${ECHO} '*******************************************************' 
	@@${ECHO} '* Note that you can build rc using the readline or    *'
	@@${ECHO} '* editline library (emacs style command line editing) *'
	@@${ECHO} '* by setting the shell variable WITH_READLINE or      *'
	@@${ECHO} '* WITH_EDITLINE to yes                                *'
	@@${ECHO} '*******************************************************' 
.endif
.elif defined(WITH_READLINE) && ${WITH_READLINE}==yes
d20 3
a22 4
.elif defined(WITH_EDITLINE) && ${WITH_EDITLINE}==yes
EDITLINE=	${WRKSRC}/../editline/
DISTFILES=	${DISTNAME}.tar.gz editline-1.5.tar.gz
MASTER_SITES+=	http://www.star.le.ac.uk/~tjg/rc/misc/
d25 14
d40 1
d42 1
a42 1
	(cd ${EDITLINE} && ${MAKE})
@


1.1.1.1
log
@add rc port; Markus Friedl <markus.friedl@@informatik.uni-erlangen.de>
-
rc is a command interpreter and programming language similar to
sh(1). It is based on the AT&T Plan 9 shell of the same name.
@
text
@@
