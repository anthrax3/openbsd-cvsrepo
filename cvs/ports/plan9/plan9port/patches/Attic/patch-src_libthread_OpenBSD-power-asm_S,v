head	1.2;
access;
symbols
	OPENBSD_5_5:1.1.1.1.0.8
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.6
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.4
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.2
	OPENBSD_5_2_BASE:1.1.1.1
	pascal_20122606:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2014.03.09.20.26.48;	author pascal;	state dead;
branches;
next	1.1;

1.1
date	2012.06.26.15.07.17;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.06.26.15.07.17;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Overdue update to a newer snapshot, 20140306.
@
text
@$OpenBSD: patch-src_libthread_OpenBSD-power-asm_S,v 1.1 2012/06/26 15:07:17 pascal Exp $
--- src/libthread/OpenBSD-power-asm.S.orig	Tue Jun 26 13:04:21 2012
+++ src/libthread/OpenBSD-power-asm.S	Tue Jun 26 13:04:34 2012
@@@@ -89,37 +89,3 @@@@ ENTRY(_setmcontext)
 
 	lwz	%r3,	6*4(%r3)
 	blr
-
-ENTRY(rfork_thread)
-	/* sanity check */
-	cmpwi	%r4, 0
-	beq	1f
-	cmpwi	%r5, 0
-	beq	1f
-	
-	mr	%r7,%r4
-	
-	/* call rfork */
-	li	%r0, SYS_rfork
-	sc
-	cmpwi	%r0, 0
-	bne	2f
-	
-	/* check if we are parent or child */
-	cmpwi	%r3, 0
-	bnelr
-	
-	/* child */
-	mtlr	%r5	/* fp */
-	mr	%r3, %r6	/* arg */
-	mr	%r1, %r7	/* new sp */
-	blrl
-	
-	/* child returned, call _exit */
-	li	%r0, SYS_exit
-	sc
-1:
-	li	%r3, -1
-2:
-	b PIC_PLT(_C_LABEL(__cerror))
-
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Plan 9 is a distributed computing environment built at Bell Labs
starting in the late 1980s. The system can be obtained from Bell
Labs at http://plan9.bell-labs.com/plan9 and runs on PCs and a
variety of other platforms. Plan 9 became a convenient platform for
experimenting with new ideas, applications, and services.

Plan 9 from User Space provides many of the ideas, applications,
and services from Plan 9 on Unix-like systems. It runs on FreeBSD
(x86), Linux (x86 and PowerPC), Mac OS X (PowerPC), OpenBSD (x86),
and SunOS (Sparc).


testing/feedback and ok landry@@
@
text
@@
