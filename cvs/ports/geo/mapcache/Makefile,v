head	1.8;
access;
symbols
	OPENBSD_6_1:1.8.0.2
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.7.0.2
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.4.0.4
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	landry_20140826:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2016.09.23.09.16.54;	author sthen;	state Exp;
branches;
next	1.7;
commitid	XLnI6AbHAmyVU5mO;

1.7
date	2016.03.18.23.12.17;	author naddy;	state Exp;
branches;
next	1.6;
commitid	KZAl4KEiw6a3Jixw;

1.6
date	2016.03.08.20.31.21;	author landry;	state Exp;
branches;
next	1.5;
commitid	9qhM8WnRxkHcsMdg;

1.5
date	2015.09.07.18.57.55;	author landry;	state Exp;
branches;
next	1.4;
commitid	wAuGNG99Yq8viJph;

1.4
date	2015.07.15.23.56.36;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	7OcA7Rb7FQtD8Tzh;

1.3
date	2015.04.05.13.31.14;	author sthen;	state Exp;
branches;
next	1.2;
commitid	1hQJnDR1GYYQ0MPE;

1.2
date	2014.10.06.08.28.35;	author landry;	state Exp;
branches;
next	1.1;
commitid	wAUzre6aNyjAJ9SC;

1.1
date	2014.08.26.18.38.49;	author landry;	state Exp;
branches
	1.1.1.1;
next	;
commitid	er3s5UvUAjYvhqKj;

1.1.1.1
date	2014.08.26.18.38.49;	author landry;	state Exp;
branches;
next	;
commitid	er3s5UvUAjYvhqKj;


desc
@@


1.8
log
@Cope with moving sqlite3 back to ports.
@
text
@# $OpenBSD: Makefile,v 1.7 2016/03/18 23:12:17 naddy Exp $

COMMENT=	GIS WMTS/TMS tile caching server

DISTNAME =	mapcache-1.4.1
SHARED_LIBS +=	mapcache 1.0
REVISION =	0

CATEGORIES=	geo www

HOMEPAGE=	http://www.mapserver.org/
MASTER_SITES=	http://download.osgeo.org/mapserver/

# MIT
PERMIT_PACKAGE_CDROM=	Yes

MAINTAINER=	Landry Breuil <landry@@openbsd.org>

MODULES=	devel/cmake
RUN_DEPENDS =	www/spawn-fcgi

NO_TEST =	Yes
LIB_DEPENDS=	devel/apr-util \
		databases/sqlite3 \
		geo/gdal \
		geo/geos \
		www/fcgi

WANTLIB += apr-1 aprutil-1 c curl fcgi gdal geos_c jpeg m pixman-1
WANTLIB += png pthread sqlite3 z

CONFIGURE_ARGS +=	-DWITH_APACHE:Bool=Off

post-install:
	${INSTALL_DATA_DIR} ${WRKINST}/${VARBASE}/www/cgi-bin
	${INSTALL_DATA_DIR} ${WRKINST}/${VARBASE}/www/conf
	${INSTALL_PROGRAM} ${PREFIX}/bin/mapcache.fcgi ${WRKINST}/${VARBASE}/www/cgi-bin/mapcache
	${INSTALL_DATA} ${WRKSRC}/mapcache.xml ${WRKINST}/${VARBASE}/www/conf/mapcache.xml


.include <bsd.port.mk>
@


1.7
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/03/08 20:31:21 landry Exp $
d7 1
d24 1
@


1.6
log
@Update to mapcache 1.4.1.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.5 2015/09/07 18:57:55 landry Exp $

SHARED_ONLY=	Yes
@


1.5
log
@Update to mapcache 1.4.

See http://mapserver.org/development/announce/mapcache-1-4.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/07/15 23:56:36 ajacoutot Exp $
d7 1
a7 1
DISTNAME =	mapcache-1.4.0
d30 1
a30 1
WANTLIB += png pthread sqlite3
@


1.4
log
@Fix pexp.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/04/05 13:31:14 sthen Exp $
d7 2
a8 7
GH_TAGNAME =	rel-1-2-1
GH_ACCOUNT =	mapserver
GH_PROJECT =	mapcache
DISTNAME =	${GH_PROJECT}-${GH_TAGNAME}
PKGNAME =	${GH_PROJECT}-1.2.1
SHARED_LIBS +=	mapcache 0.0
REVISION =	1
d13 2
@


1.3
log
@drop GH_COMMIT lines which are hidden behind GH_TAGNAME,
discussed with a few in the room.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/10/06 08:28:35 landry Exp $
d13 1
a13 1
REVISION =	0
@


1.2
log
@Remove the 'run ldconfig in the chroot' hack from the README now that
cmake has been fixed to not register full paths in libraries, thx to
dcoppa@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2014/08/26 18:38:49 landry Exp $
a8 1
GH_COMMIT =	70d3c3c7140c7e97953fabd3df670de82db1c8cb
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2014/05/18 09:29:50 landry Exp $
d14 1
@


1.1.1.1
log
@Import mapcache 1.2.1.

MapCache is a WMTS/TMS server that implements tile caching to speed up
access to WMS layers. The primary objectives are to be fast and easily
deployable, while offering the essential features (and more!) expected
from a tile caching solution.

ok ajacoutot@@ sthen@@
@
text
@@
