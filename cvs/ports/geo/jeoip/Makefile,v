head	1.26;
access;
symbols
	OPENBSD_6_1:1.26.0.4
	OPENBSD_6_1_BASE:1.26
	OPENBSD_6_0:1.26.0.2
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.24.0.6
	OPENBSD_5_9_BASE:1.24
	OPENBSD_5_8:1.24.0.8
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.24.0.4
	OPENBSD_5_7_BASE:1.24
	OPENBSD_5_6:1.24.0.2
	OPENBSD_5_6_BASE:1.24
	OPENBSD_5_5:1.23.0.4
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.20.0.6
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.20.0.4
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.2
	OPENBSD_5_0:1.13.0.2
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.9.0.2
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.7.0.4
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.2
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.5.0.4
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	ian_2006-Nov-17:1.1.1.1
	ian:1.1.1;
locks; strict;
comment	@# @;


1.26
date	2016.03.06.18.50.43;	author ajacoutot;	state Exp;
branches;
next	1.25;
commitid	RlwTZn9xqV998oYy;

1.25
date	2016.03.01.00.07.17;	author sthen;	state Exp;
branches;
next	1.24;
commitid	QBhOYg1ODJRuhu7C;

1.24
date	2014.05.07.15.42.16;	author kurt;	state Exp;
branches;
next	1.23;

1.23
date	2013.07.02.10.36.35;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2013.03.11.11.07.42;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.02.12.45.19;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2011.12.15.21.33.19;	author kili;	state Exp;
branches;
next	1.19;

1.19
date	2011.10.07.13.54.31;	author kurt;	state Exp;
branches;
next	1.18;

1.18
date	2011.09.16.09.48.10;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2011.09.06.16.59.13;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2011.09.05.08.57.43;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2011.09.01.17.24.31;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2011.08.30.17.16.36;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2011.03.14.09.17.00;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.26.07.20.12;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.17.08.05.12;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.10.23.18.26.19;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2010.05.24.16.41.00;	author kili;	state Exp;
branches;
next	1.8;

1.8
date	2010.05.01.13.39.37;	author ian;	state Exp;
branches;
next	1.7;

1.7
date	2009.04.26.09.38.25;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2009.03.11.23.22.48;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2008.03.26.13.07.04;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.15.21.02.37;	author simon;	state Exp;
branches;
next	1.3;

1.3
date	2007.04.15.23.14.26;	author ian;	state Exp;
branches;
next	1.2;

1.2
date	2006.12.16.21.16.21;	author ian;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.17.19.20.34;	author ian;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.17.19.20.34;	author ian;	state Exp;
branches;
next	;


desc
@@


1.26
log
@We only need the GeoIP database.

ok ian@@ (maintainer)
@
text
@# $OpenBSD: Makefile,v 1.24 2014/05/07 15:42:16 kurt Exp $

COMMENT=		Java interface to GeoIP database
DISTNAME=		jeoip-0.5
REVISION=		14
CATEGORIES=		geo net
PKG_ARCH=		*

HOMEPAGE=		http://www.darwinsys.com/freeware/jeoip.jsp

MAINTAINER=		Ian Darwin <ian@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=		http://www.darwinsys.com/freeware/

MODULES=		java
MODJAVA_VER=		1.6+
MODJAVA_JRERUN=		Yes
MODJAVA_BUILD=		ant
MODJAVA_BUILD_TARGET_NAME =	jar docs

BUILD_DEPENDS=		java/junit
TEST_DEPENDS=		net/GeoIP,-db \
			java/junit
RUN_DEPENDS=		net/GeoIP,-db \
 			java/javaPathHelper
MAKE_ENV=		CLASSPATH=${LOCALBASE}/share/java/classes/junit/junit.jar

WRKDIST=		${WRKDIR}/jeoip

do-install:
	${INSTALL_DATA_DIR} ${MODJAVA_JAR_DIR}
	${INSTALL_DATA} ${WRKDIST}/jeoip.jar ${MODJAVA_JAR_DIR}
	${INSTALL_SCRIPT} ${WRKDIST}/unix/jeoip ${PREFIX}/bin

do-test:
	@@cd ${WRKBUILD} && ${SETENV} ${MAKE_ENV} ant regress

.include <bsd.port.mk>
@


1.25
log
@bump (GeoIP pkgpath change)
@
text
@d5 1
a5 1
REVISION=		13
d25 1
a25 1
TEST_DEPENDS=		net/GeoIP \
d27 1
a27 1
RUN_DEPENDS=		net/GeoIP\
@


1.24
log
@- Unlink jdk/1.6 and make jdk/1.7 the default jdk for all java ports
- Adjust java.port.mk and cmake to use 1.7
- Adjust jdk/1.7 for pkg_add upgrades
okay sthen@@, jasper@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/07/02 10:36:35 espie Exp $
d5 1
a5 1
REVISION=		12
d25 1
a25 1
TEST_DEPENDS=	net/GeoIP \
@


1.23
log
@rename stuff so that java.port.mk conforms to the new style of overriding
do-build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/03/11 11:07:42 espie Exp $
d5 1
a5 1
REVISION=		11
@


1.22
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/02 12:45:19 jasper Exp $
d22 1
a22 1
MODJAVA_BUILD_TARGET=	jar docs
@


1.21
log
@for ports built from source, bump the MODJAVA_VER from 1.5 to 1.6.

as discussed with/ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/12/15 21:33:19 kili Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=Yes
PERMIT_DISTFILES_FTP=	Yes
d25 1
a25 1
REGRESS_DEPENDS=	net/GeoIP \
d38 1
a38 1
do-regress:
@


1.20
log
@JAVA_HOME is now added to MAKE_ENV in java.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/10/07 13:54:31 kurt Exp $
d5 1
a5 1
REVISION=		10
d22 1
a22 1
MODJAVA_VER=		1.5+
@


1.19
log
@- remove devel/jdk/1.5 and lang/kaffe
- adjust java.port.mk for their removal
- bump affected packages
okay jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/09/16 09:48:10 espie Exp $
d32 1
a32 2
MAKE_ENV=		JAVA_HOME=${JAVA_HOME} \
			CLASSPATH=${LOCALBASE}/share/java/classes/junit/junit.jar
@


1.18
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/09/06 16:59:13 jasper Exp $
d5 1
a5 1
REVISION=		9
@


1.17
log
@adjust after junit update

kili@@ came up with the same diff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/09/05 08:57:43 jasper Exp $
d5 1
a5 1
REVISION=		8 
@


1.16
log
@- regen PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/09/01 17:24:31 jasper Exp $
d5 1
a5 1
REVISION=		7
d27 1
a27 1
BUILD_DEPENDS=		java/junit=3.8.2
d29 1
a29 1
			java/junit=3.8.2
d33 1
a33 1
			CLASSPATH=${LOCALBASE}/share/java/classes/junit-3.8.2/junit.jar
@


1.15
log
@switch to MODJAVA_BUILD too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/08/30 17:16:36 jasper Exp $
d5 1
a5 1
REVISION=		6
@


1.14
log
@- bump REVISION after recent java.port.mk change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/03/14 09:17:00 sthen Exp $
d24 4
a27 2
BUILD_DEPENDS=		devel/apache-ant>=1.6.1 \
			java/junit=3.8.2
a36 5
INSTALLDIR=		jeoip

do-build:
	@@cd ${WRKBUILD} && ${SETENV} ${MAKE_ENV} ant jar docs

d38 2
a39 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/java/${INSTALLDIR}
	${INSTALL_DATA} ${WRKDIST}/jeoip.jar ${PREFIX}/share/java/${INSTALLDIR}
@


1.13
log
@fix various typos, from Anthony J. Bentley with a few tweaks by myself
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/26 07:20:12 espie Exp $
d5 1
a5 1
REVISION=		5
@


1.12
log
@new depends with >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/11/17 08:05:12 espie Exp $
d5 1
a5 1
REVISION=		4
@


1.11
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/10/23 18:26:19 sthen Exp $
d25 1
a25 1
			junit-3.8.2:java/junit
d27 1
a27 1
			junit-3.8.2:java/junit
@


1.10
log
@revision/new lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/05/24 16:41:00 kili Exp $
d24 6
a29 6
BUILD_DEPENDS=		:apache-ant->=1.6.1:devel/apache-ant \
			:junit-3.8.2:java/junit
REGRESS_DEPENDS=	::net/GeoIP \
			:junit-3.8.2:java/junit
RUN_DEPENDS=		::net/GeoIP\
 			:javaPathHelper-*:java/javaPathHelper
@


1.9
log
@Zap a trailing `:' (in the ant build dependency). No build change.

Found while looking for ports that use the optional `:target'
specifier in build dependencies.

ok ian@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/05/01 13:39:37 ian Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p4
@


1.8
log
@Repair REGRESS_DEPENDS after junit fix, bump, from Daniel Dickman
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/04/26 09:38:25 sthen Exp $
d24 1
a24 1
BUILD_DEPENDS=		:apache-ant->=1.6.1:devel/apache-ant:\
@


1.7
log
@pkgname bumps following java.port.mk r1.18, pointed out by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/03/11 23:22:48 sthen Exp $
d26 2
a27 1
REGRESS_DEPENDS=	::net/GeoIP
@


1.6
log
@bump pkgname following java dep change
@
text
@d1 2
a2 1
# $OpenBSD: Makefile,v 1.5 2008/03/26 13:07:04 sturm Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p3
@


1.5
log
@missing PKGNAME bumps after java.port.mk changes

noticed by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/09/15 21:02:37 simon Exp $
d4 1
a4 1
PKGNAME=		${DISTNAME}p2
@


1.4
log
@remove surrounding quotes from COMMENT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/04/15 23:14:26 ian Exp $
d4 1
a4 1
PKGNAME=		${DISTNAME}p1
@


1.3
log
@Adjust depends for junit point release, pkg bump
@
text
@d1 2
a2 2
# $OpenBSD: Makefile,v 1.2 2006/12/16 21:16:21 ian Exp $
COMMENT=		"Java interface to GeoIP database"
@


1.2
log
@Unbreak systrace build; add GeoIP as REGRESS_DEPENDS and RUN_DEPENDS; split out
program's regress from its implicit use inside build to an explicit regress target.
Bump pkg.  Prodded by steven@@, help from him & kurt@@, "go ahead" steven@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/11/17 19:20:34 ian Exp $
d4 1
a4 1
PKGNAME=		${DISTNAME}p0
d24 1
a24 1
			:junit->=3.8.1:java/junit
d29 1
a29 1
			CLASSPATH=${LOCALBASE}/share/java/classes/junit-3.8.1/junit.jar
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.46 2005/11/12 00:07:22 sturm Exp $
d4 1
d25 3
a27 2
RUN_DEPENDS=		:GeoIP-*:net/GeoIP\
			:javaPathHelper-*:java/javaPathHelper
a30 2
NO_REGRESS=		Yes

d42 3
@


1.1.1.1
log
@Import JeoIP, Java access to GeoIP, ok kurt@@
@
text
@@
