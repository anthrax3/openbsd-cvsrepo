head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.4
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2015.09.18.20.09.26;	author landry;	state Exp;
branches;
next	;
commitid	igXyU6GFiqlQqhef;


desc
@@


1.1
log
@Adapt to build with mapnik3 by cherrypicking a pair of upstream commits.
Also switch to use gcc 4.9.
@
text
@$OpenBSD$
--- src/vikmapniklayer.c.orig	Sun Mar 29 12:59:47 2015
+++ src/vikmapniklayer.c	Fri Sep 18 20:17:07 2015
@@@@ -235,7 +235,7 @@@@ static VikLayerParamData plugins_default ( void )
 		// Current Debian location
 		data.s = g_strdup ( "/usr/lib/mapnik/2.2/input" );
 	else
-		data.s = g_strdup ( "" );
+		data.s = g_strdup ( "${LOCALBASE}/lib/mapnik/input" );
 #endif
 	return data;
 }
@@@@ -249,7 +249,7 @@@@ static VikLayerParamData fonts_default ( void )
 #elif defined __APPLE__
 	data.s = g_strdup ( "/Library/Fonts" );
 #else
-	data.s = g_strdup ( "/usr/share/fonts" );
+	data.s = g_strdup ( "${LOCALBASE}/share/fonts" );
 #endif
 	return data;
 }
@
