head	1.38;
access;
symbols
	OPENBSD_6_1:1.35.0.2
	OPENBSD_6_1_BASE:1.35
	OPENBSD_6_0:1.31.0.2
	OPENBSD_6_0_BASE:1.31
	OPENBSD_5_9:1.28.0.2
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.26.0.4
	OPENBSD_5_8_BASE:1.26
	OPENBSD_5_7:1.23.0.2
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.21.0.2
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.20.0.2
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.15.0.2
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.11.0.4
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.2
	OPENBSD_5_0:1.9.0.4
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.3.0.4
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.1.0.4
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.2
	OPENBSD_4_3_BASE:1.1.1.1
	eric_20071208:1.1.1.1
	eric:1.1.1;
locks; strict;
comment	@# @;


1.38
date	2017.07.16.19.18.50;	author espie;	state Exp;
branches;
next	1.37;
commitid	tt0GhWK5c4uf9ILG;

1.37
date	2017.07.03.17.02.15;	author landry;	state Exp;
branches;
next	1.36;
commitid	KgEQYkPfwty9Zhkr;

1.36
date	2017.04.10.11.46.20;	author sthen;	state Exp;
branches;
next	1.35;
commitid	BLsh88fJB8thZTwY;

1.35
date	2017.02.07.08.15.30;	author landry;	state Exp;
branches;
next	1.34;
commitid	thRTAgqapvLCFeb9;

1.34
date	2016.11.04.11.35.19;	author sthen;	state Exp;
branches;
next	1.33;
commitid	Gg5LRcnQlqj5M3F7;

1.33
date	2016.10.31.16.08.08;	author landry;	state Exp;
branches;
next	1.32;
commitid	vc4q3Mz6VxbNzVSf;

1.32
date	2016.09.23.09.16.54;	author sthen;	state Exp;
branches;
next	1.31;
commitid	XLnI6AbHAmyVU5mO;

1.31
date	2016.07.09.08.46.25;	author sthen;	state Exp;
branches;
next	1.30;
commitid	5V5x7yAKWjzdrmlj;

1.30
date	2016.04.26.20.19.01;	author landry;	state Exp;
branches;
next	1.29;
commitid	NG3MUIHxEbeIpsnB;

1.29
date	2016.03.18.23.12.17;	author naddy;	state Exp;
branches;
next	1.28;
commitid	KZAl4KEiw6a3Jixw;

1.28
date	2015.10.30.12.47.39;	author sthen;	state Exp;
branches;
next	1.27;
commitid	IIzCiS5xiW9Dmxlk;

1.27
date	2015.10.30.12.07.11;	author landry;	state Exp;
branches;
next	1.26;
commitid	dwqhpYDBVS43MRo2;

1.26
date	2015.07.21.08.02.38;	author landry;	state Exp;
branches;
next	1.25;
commitid	aJXkE0GRxHTI5ThZ;

1.25
date	2015.04.03.12.49.41;	author landry;	state Exp;
branches;
next	1.24;
commitid	eWnaQoXYy3Jb6ubO;

1.24
date	2015.03.24.21.45.01;	author landry;	state Exp;
branches;
next	1.23;
commitid	sAFhNY5hgbIgqD6Y;

1.23
date	2014.12.19.20.34.58;	author landry;	state Exp;
branches;
next	1.22;
commitid	GTJcMhJ4rTtfJ5dN;

1.22
date	2014.09.02.12.07.46;	author landry;	state Exp;
branches;
next	1.21;
commitid	oBIPy4zKPwGzezXe;

1.21
date	2014.04.21.15.20.06;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2013.08.31.09.04.30;	author landry;	state Exp;
branches;
next	1.19;

1.19
date	2013.08.06.21.22.18;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2013.08.06.21.19.14;	author landry;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.21.08.45.17;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.11.11.07.43;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2013.02.24.14.45.08;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2012.11.24.08.56.51;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2012.11.24.08.54.34;	author landry;	state Exp;
branches;
next	1.12;

1.12
date	2012.09.24.19.54.54;	author pea;	state Exp;
branches;
next	1.11;

1.11
date	2011.09.21.14.13.32;	author pea;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.16.09.48.11;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.21.09.33.56;	author landry;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.17.08.05.12;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.08.14.32.56;	author eric;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.04.13.45.54;	author eric;	state Exp;
branches;
next	1.5;

1.5
date	2010.10.18.21.50.39;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.18.18.13.12;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2009.08.06.10.30.20;	author eric;	state Exp;
branches;
next	1.2;

1.2
date	2009.02.18.12.04.14;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2007.12.08.19.47.47;	author eric;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.12.08.19.47.47;	author eric;	state Exp;
branches;
next	;


desc
@@


1.38
log
@use COMPILER_LIBCXX where applicable
@
text
@# $OpenBSD: Makefile,v 1.37 2017/07/03 17:02:15 landry Exp $

V =	2.3.3
COMMENT=	geographic objects support for PostgreSQL
DISTNAME=	postgis-${V}
CATEGORIES=	geo databases

SHARED_LIBS +=	lwgeom 0.0 lwgeom-2.3 0.0 # 4.0

HOMEPAGE=	http://www.postgis.org/

MAINTAINER=	Landry Breuil <landry@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c crypto curl expat freexl gdal geos geos_c geotiff gif
WANTLIB += jasper jpeg json-c lzma m nghttp2 openjp2 pcre png pq>=5.3
WANTLIB += proj pthread qhull spatialite sqlite3 ssl ${COMPILER_LIBCXX} tiff webp xml2 z

MASTER_SITES=	http://download.osgeo.org/postgis/source/

MODULES =	devel/gettext databases/postgresql

LIB_DEPENDS=	databases/sqlite3 \
		geo/gdal \
		devel/json-c
RUN_DEPENDS=	databases/postgresql,-server
BUILD_DEPENDS=	${RUN_DEPENDS} \
		textproc/docbook-xsl \
		textproc/wdg-sgml-lib \
		graphics/ImageMagick

USE_GMAKE=	Yes
USE_LIBTOOL =	Yes
#for iconv.h
CONFIGURE_ENV=	LDFLAGS=-L${LOCALBASE}/lib \
		CFLAGS=-I${LOCALBASE}/include
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--with-xsldir=${PREFIX}/share/xsl/docbook/ \
		--libdir=${PREFIX}/lib/postgresql

SUBST_VARS +=	V
DOCDIR =	${PREFIX}/share/doc/postgresql/postgis/

post-install:
	cd ${WRKSRC}/doc && WRKINST=${WRKINST} ${MAKE_PROGRAM} docs-install man-install
	${INSTALL_DATA_DIR} ${DOCDIR}/images/
	$(INSTALL_DATA) ${WRKSRC}/doc/html/style.css ${DOCDIR}/
	$(INSTALL_DATA) ${WRKSRC}/doc/html/images/* ${DOCDIR}/images/

.include <bsd.port.mk>
@


1.37
log
@Update to postgis 2.3.3.

See http://postgis.net/2017/07/01/postgis-2.3.3/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2017/04/10 11:46:20 sthen Exp $
d19 1
a19 1
WANTLIB += proj pthread qhull spatialite sqlite3 ssl ${LIBCXX} tiff webp xml2 z
@


1.36
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2017/02/07 08:15:30 landry Exp $
d3 1
a3 1
V =	2.3.2
d19 1
a19 1
WANTLIB += proj pthread qhull spatialite sqlite3 ssl ${LIBCXX} tiff xml2 z
@


1.35
log
@Update to postgis 2.3.2.

See http://postgis.net/2017/01/31/postgis-2.3.2/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2016/11/04 11:35:19 sthen Exp $
d19 1
a19 1
WANTLIB += proj pthread qhull spatialite sqlite3 ssl stdc++ tiff xml2 z
@


1.34
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2016/10/31 16:08:08 landry Exp $
d3 1
a3 1
V =	2.3.0
a6 1
REVISION=	0
@


1.33
log
@Major update to postgis 2.3.0.

See http://postgis.net/2016/09/26/postgis-2.3.0/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2016/09/23 09:16:54 sthen Exp $
d7 1
d18 4
a22 6

WANTLIB=	c geos_c m pq>=5.3 proj xml2 z
WANTLIB +=	curl expat gdal geos geotiff gif idn nghttp2
WANTLIB +=	jasper jpeg json-c png pthread ssl stdc++ tiff
WANTLIB +=	freexl pcre spatialite sqlite3
WANTLIB +=	crypto openjp2 lzma qhull
@


1.32
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2016/07/09 08:46:25 sthen Exp $
d3 1
a3 2
V =	2.2.2
REVISION =	1
d8 1
a8 1
SHARED_LIBS +=	lwgeom 0.0 lwgeom-2.2 0.0 # 4.0
@


1.31
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/04/26 20:19:01 landry Exp $
d4 1
a4 1
REVISION =	0
d28 2
a29 1
LIB_DEPENDS=	geo/gdal \
@


1.30
log
@Update to postgis 2.2.2.

See http://postgis.net/2016/01/06/postgis-2.2.1/
and http://postgis.net/2016/03/22/postgis-2.2.2/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/03/18 23:12:17 naddy Exp $
d4 1
d24 1
a24 1
WANTLIB +=	crypto openjp2 lzma
@


1.29
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/10/30 12:47:39 sthen Exp $
d3 1
a3 2
V =	2.2.0
REVISION=	0
@


1.28
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.27 2015/10/30 12:07:11 landry Exp $

SHARED_ONLY=	Yes
@


1.27
log
@Update to postgis 2.2.0.

See http://postgis.net/2015/10/07/postgis-2.2.0 for details.
Now versions liblwgeom so USE_LIBTOOL is needed.
Remove LD_PRELOAD=libpthread.so for tests since it isnt needed anymore
(spotted by abieber@@)
rtpostgis still has issues during tests but it doesnt seem a regression,
and i'll look into this.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/07/21 08:02:38 landry Exp $
d6 1
d23 1
a23 1
WANTLIB +=	curl expat gdal geos geotiff gif idn
@


1.26
log
@Bugfix update to postgis 2.1.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/04/03 12:49:41 landry Exp $
d5 1
a5 1
V =	2.1.8
d10 2
d38 1
a44 1
TEST_ENV +=	LD_PRELOAD=libpthread.so
@


1.25
log
@Update to postgis 2.1.7 and switch to databases/postgresql MODULE for
test target handling, thanks to zhuk@@!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/03/24 21:45:01 landry Exp $
d5 1
a5 1
V =	2.1.7
@


1.24
log
@Bugfix update to postgis 2.1.6.

See http://postgis.net/2015/03/20/postgis-2.1.6 for details.
Not converted to postgresql MODULE for test targets.. because that can
come in a second time :)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/12/19 20:34:58 landry Exp $
d5 1
a5 1
V =	2.1.6
d25 1
a25 1
MODULES =	devel/gettext
d42 1
a51 8

# the garden regress suite needs postgis installed
do-test:
	regdir=$$(mktemp -t -d postgis-regress.XXXXXX) && \
	LC_CTYPE=C initdb -D $${regdir} && \
	LD_PRELOAD=libpthread.so pg_ctl -D $${regdir} -o '-p 12341' -l $${regdir}/log start && \
	cd ${WRKSRC}/regress && PGPORT=12341 ${MAKE_PROGRAM} INSTALL=install check && \
	pg_ctl -D $${regdir} -o '-p 12341'  stop -m fast
@


1.23
log
@Bugfix update to postgis 2.1.5.

See http://svn.osgeo.org/postgis/tags/2.1.5/NEWS for changes, regress
tests still all pass on amd64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/09/02 12:07:46 landry Exp $
d5 1
a5 1
V =	2.1.5
@


1.22
log
@Update to postgis 2.1.3.

Remove patch merged upstream in http://trac.osgeo.org/postgis/ticket/2723
pass INSTALL=install to the do-test target so that things are not
installed with -o/-g. All tests are successful on amd64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/04/21 15:20:06 ajacoutot Exp $
d5 1
a5 1
V =	2.1.3
d23 1
a23 1
WANTLIB +=	crypto openjp2
@


1.21
log
@Guessing wantlib regen since these don't build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/08/31 09:04:30 landry Exp $
d5 1
a5 1
V =	2.1.0
a8 1
REVISION=	0
d23 1
d57 1
a57 1
	cd ${WRKSRC}/regress && PGPORT=12341 ${MAKE_PROGRAM} check && \
@


1.20
log
@Update to postgis 2.1.0.

Tests have been revamped and now all pass.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/08/06 21:22:18 ajacoutot Exp $
d9 1
d21 1
a21 1
WANTLIB +=	com_err crypto curl expat gdal geos geotiff gif idn
d23 1
a23 1
WANTLIB +=	asn1 freexl heimbase krb5 pcre roken spatialite sqlite3 wind
@


1.19
log
@Use a proper template for the README.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/08/06 21:19:14 landry Exp $
d5 1
a5 1
V =	2.0.3
a8 1
REVISION=	0
d21 1
a21 1
WANTLIB +=	jasper jpeg json png pthread ssl stdc++ tiff
a51 2
# no the regular test suite
# some tests are known to fail, hence the || to stop the db
d56 1
a56 1
	cd ${WRKSRC}/regress && PGPORT=12341 ${MAKE_PROGRAM} check || \
@


1.18
log
@Bugfix update to postgis 2.0.3.

Fix WANTLIB after kerb/gdal update, new MASTER_SITES. Actually install
the README by adding it to PLIST.. and use enough XXXX's in mktemp call
during regress tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/21 08:45:17 ajacoutot Exp $
d9 1
@


1.17
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/11 11:07:43 espie Exp $
d5 1
d7 1
a7 1
DISTNAME=	postgis-2.0.1
d17 1
a17 1
MASTER_SITES=		${HOMEPAGE}download/
d22 1
d42 1
d55 1
a55 1
	regdir=$$(mktemp -t -d postgis-regress.XXXX) && \
@


1.16
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/02/24 14:45:08 sthen Exp $
a38 1
USE_LIBTOOL = Yes
@


1.15
log
@build dep on wdg-sgml-lib, no package change. ok naddy@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/11/24 08:56:51 ajacoutot Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d52 1
a52 1
do-regress:
@


1.14
log
@docbook-xsl brings libxslt already.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/11/24 08:54:34 landry Exp $
d32 1
@


1.13
log
@Unbreak by finally updating to postgis 2.0.1, working with postgres 9.2.

- add build dep on ImageMagick/docbook-xsl/libxslt to build the documentation
- dont install the utils anymore, they're not maintained and were barely
  useful. postgis_restore.pl is in share/postgresql/contrib/postgis-2.0 now
- provide a complete do-regress target taking care of creating/starting/tearing
  down a temporary database
- 'CREATE EXTENSION postgis' is now the simpler way to spatially-enabled a db
- add a README explaining how to LD_PRELOAD libpthread.so in postgresql since
  it's required by postgis
- take maintainership from eric@@ since he doesn't use it anymore
- see http://www.postgis.org/news/20120403/ for the list of new features
  in the 2.x branch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/09/24 19:54:54 pea Exp $
a30 1
		textproc/libxslt \
@


1.12
log
@Postgis doesn't build with PostgreSQL 9.2
We are working on an update.

ok jasper@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/09/21 14:13:32 pea Exp $
d6 1
a6 1
DISTNAME=	postgis-1.5.3
d11 1
a11 3
MAINTAINER=	Eric Faurot <eric@@openbsd.org>

BROKEN=		Doesn't build with PostgreSQL 9.2
d22 2
d25 1
a25 1
MODULES=        converters/libiconv
d27 2
a28 3
LIB_DEPENDS=	devel/proj \
		databases/postgresql \
		geo/geos
d30 4
a33 1
BUILD_DEPENDS=	${RUN_DEPENDS}
d36 2
a37 2
CONFIGURE_ENV=	PGXS=1 \
		LDFLAGS='-L${LOCALBASE}/lib -pthread' \
d40 1
a40 1
CONFIGURE_ARGS=	--datadir=${PREFIX}/share/postgresql/contrib \
d42 3
a44 1
USE_GROFF =	Yes
d47 14
a60 15
	${INSTALL_SCRIPT_DIR} ${PREFIX}/libexec/postgis/utils
	${INSTALL_SCRIPT} ${WRKSRC}/utils/*.pl ${PREFIX}/libexec/postgis/utils
	${INSTALL_DATA} ${WRKSRC}/utils/README ${PREFIX}/libexec/postgis/utils
	cd ${WRKSRC}/doc && WRKINST=${WRKINST} ${MAKE_PROGRAM} install

# Note on running regress
#
# - make sure you do not have a postgresql server currently running
# - as user _postgresql, in another terminal, run:
#     $ mkdir /tmp/pg && initdb -D /tmp/pg -U postgres && postgres -D /tmp/pg   
# - run make regress

do-regress: install
	cd ${WRKSRC}/regress && PGUSER=postgres ${MAKE_PROGRAM}

@


1.11
log
@Bugfix update to 1.5.3

ok eric@@ (maintainer), landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/16 09:48:11 espie Exp $
d12 2
@


1.10
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/21 09:33:56 landry Exp $
d6 1
a6 1
DISTNAME=	postgis-1.5.2
a7 1
REVISION=	1
@


1.9
log
@Fix after proj update: add -pthread to LDFLAGS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/17 08:05:12 espie Exp $
d8 1
a8 1
REVISION=	0
@


1.8
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/11/08 14:32:56 eric Exp $
d34 1
a34 1
		LDFLAGS=-L${LOCALBASE}/lib \
@


1.7
log
@bump after postgresql update.

suggested by and ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/11/04 13:45:54 eric Exp $
d22 1
a22 1
WANTLIB=	c geos_c m pq.>=5.3 proj xml2 z
d26 4
a29 4
LIB_DEPENDS=	::devel/proj \
		:postgresql-client-*:databases/postgresql \
		::geo/geos
RUN_DEPENDS=	:postgresql-server-*:databases/postgresql,-server
@


1.6
log
@- update postgis to 1.5.2
- install documentation properly

NOTE: An upgrade of all postgis DBs is required. A "hard upgrade" is
advised. A "soft upgrade" might be possible by keeping a copy of
/usr/local/lib/postgresql/postgis-1.4.so. In all cases, read the
documentation.

ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/10/18 21:50:39 sthen Exp $
d8 1
d22 1
a22 1
WANTLIB=	c geos_c m pq proj xml2 z
@


1.5
log
@fix tabs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/10/18 18:13:12 espie Exp $
d6 1
a6 1
DISTNAME=	postgis-1.4.0
d21 2
a22 1
WANTLIB=	c m
d25 3
a27 3
LIB_DEPENDS=	proj::devel/proj \
		pq:postgresql-client-*:databases/postgresql \
		geos_c::geo/geos
@


1.4
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/08/06 10:30:20 eric Exp $
d37 1
a37 1
		USE_GROFF =	Yes
@


1.3
log
@update to 1.4.0

For upgrading a postgis-enabled db, refer to
/usr/local/share/doc/postgresql/postgis/README.postgis
Try using new_postgis_restore.pl instead of postgis_restore.pl
if it doesn't work.

feedback and ok kili@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/02/18 12:04:14 jasper Exp $
d37 1
@


1.2
log
@- update postgis to 1.3.5

from benoit lecocq, via eric@@ (MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/12/08 19:47:47 eric Exp $
d6 1
a6 1
DISTNAME=	postgis-1.3.5
d21 1
a21 1
WANTLIB=	c
d33 1
a33 1
		CPPFLAGS=-I${LOCALBASE}/include
d35 1
a35 5
CONFIGURE_ARGS=	--with-pgsql-src=${LOCALBASE}/lib/postgresql/pgxs \
		--enable-autoconf \
		--with-proj \
		--with-geos \
		--datadir=${PREFIX}/share/postgresql/contrib \
d42 1
a42 1
	cd ${WRKSRC}/doc && ${MAKE_PROGRAM} install
d44 2
a45 3
###
### Note on running regress
###
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
DISTNAME=	postgis-1.3.2
@


1.1.1.1
log
@PostGIS adds support for geographic objects to the PostgreSQL
object-relational database.  In effect, PostGIS "spatially enables"
the PostgreSQL server, allowing it to be used as a backend spatial
database for geographic information systems (GIS), much like ESRI's
SDE or Oracle's Spatial extension.  PostGIS follows the OpenGIS
"Simple Features Specification for SQL" and has been certified as
compliant with the "Types and Functions" profile.

ok simon@@
@
text
@@
