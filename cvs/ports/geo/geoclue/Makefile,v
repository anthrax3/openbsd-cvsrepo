head	1.27;
access;
symbols
	OPENBSD_6_0:1.27.0.2
	OPENBSD_6_0_BASE:1.27
	OPENBSD_5_9:1.26.0.2
	OPENBSD_5_9_BASE:1.26
	OPENBSD_5_8:1.26.0.4
	OPENBSD_5_8_BASE:1.26
	OPENBSD_5_7:1.23.0.2
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.22.0.4
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.22.0.2
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.21.0.2
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.18.0.2
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.15.0.2
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.2
	OPENBSD_5_0:1.8.0.2
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.7.0.2
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.3.0.4
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	jasper_20090215:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2016.03.11.20.28.25;	author naddy;	state Exp;
branches;
next	1.26;
commitid	UYLP8TE6V7RS2GhJ;

1.26
date	2015.04.21.18.51.24;	author sthen;	state Exp;
branches;
next	1.25;
commitid	ptMCPiyuhL0JiHRZ;

1.25
date	2015.04.04.09.21.01;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	kS3kwKZogsvzYmEY;

1.24
date	2015.03.16.18.07.45;	author naddy;	state Exp;
branches;
next	1.23;
commitid	IJdm3Zowcdkcxp5X;

1.23
date	2014.09.13.16.36.53;	author ajacoutot;	state Exp;
branches;
next	1.22;
commitid	N2TalFGi4jKRwS2u;

1.22
date	2013.10.26.08.02.57;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.30.09.40.57;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.21.08.45.17;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2013.03.11.11.07.42;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2012.09.21.14.48.05;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2012.09.21.14.01.54;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2012.09.21.13.19.01;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2012.04.04.10.03.12;	author landry;	state Exp;
branches;
next	1.14;

1.14
date	2012.03.29.15.00.19;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2011.12.05.13.04.10;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2011.11.03.17.35.12;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2011.10.29.08.12.31;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.16.21.01.45;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.16.09.48.10;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2011.06.07.14.19.46;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.25.08.56.57;	author sebastia;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.17.08.05.12;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.07.19.12.42;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.11.08.14.08;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2009.08.10.06.31.43;	author kili;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.04.20.10.30;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2009.02.15.16.35.05;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.02.15.16.35.05;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.27
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.26 2015/04/21 18:51:24 sthen Exp $

COMMENT=		modular geoinformation service on top of D-Bus

DISTNAME=		geoclue-0.12.99
REVISION=		5
SHARED_LIBS +=  geoclue              1.1      # .0.0
CATEGORIES=		geo devel

HOMEPAGE=		http://geoclue.freedesktop.org/

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c dbus-1 dbus-glib-1 ffi gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gps lzma m pcre pthread soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 xml2 z

MASTER_SITES=		http://freedesktop.org/~hadess/

MODULES=		devel/dconf \
			devel/gettext

BUILD_DEPENDS =		textproc/libxslt
LIB_DEPENDS =		devel/libsoup \
			misc/gpsd \
			x11/dbus-glib

USE_GMAKE=		Yes

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--disable-gtk \
			--disable-connman
CONFIGURE_ENV=          CPPFLAGS="-I${LOCALBASE}/include" \
                        LDFLAGS="-L${LOCALBASE}/lib"

.include <bsd.port.mk>
@


1.26
log
@add some simple missing lzma WANTLIBs (crept in via libxml)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/04/04 09:21:01 ajacoutot Exp $
d32 1
a32 2
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--disable-gtk \
@


1.25
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/03/16 18:07:45 naddy Exp $
d6 1
a6 1
REVISION=		4
d16 1
a16 1
WANTLIB += gobject-2.0 gps m pcre pthread soup-2.4 soup-gnome-2.4
@


1.24
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/09/13 16:36:53 ajacoutot Exp $
d6 1
a6 1
REVISION=		3
@


1.23
log
@--disable-gtk-doc is handled by the infrastructure now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/10/26 08:02:57 ajacoutot Exp $
d6 1
a6 1
REVISION=		2
@


1.22
log
@Fix dependencies and bump after the recent libsoup -gnome => -main merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/30 09:40:57 ajacoutot Exp $
a32 1
			--disable-gtk-doc \
a36 6

# If one of these tools is found at configure stage, it might be used,
# no matter whether we use --disable-gtk-doc or not.
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@


1.21
log
@Fix wantlib/depends.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/21 08:45:17 ajacoutot Exp $
d6 1
a6 1
REVISION=		1
d25 1
a25 1
LIB_DEPENDS =		devel/libsoup,-gnome \
@


1.20
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/03/11 11:07:42 espie Exp $
d6 1
a6 1
REVISION=		0
d15 4
a22 5

WANTLIB += c dbus-1 dbus-glib-1 ffi gcrypt gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-keyring gobject-2.0 gpg-error gps gthread-2.0
WANTLIB += m pcre pthread soup-2.4 soup-gnome-2.4 sqlite3 xml2
WANTLIB += z
@


1.19
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/09/21 14:48:05 ajacoutot Exp $
a30 1
USE_LIBTOOL=		Yes
@


1.18
log
@Stupid autohell is stupid...
The situation is this: even when we --disable-gtk-doc, if gtk-doc is
actually installed at configure stage, tools like gtkdoc-rebase will be
picked up and run during the install target. That is bad because the
gtk-doc package may have been removed by then, especially during dpb(1)
bulks (we explicitely disable support for it so why should it stay...).

So for now, let's add the following env to configure whenever we use
--disable-gtk-doc, until a bettersolution is found...
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/09/21 14:01:54 ajacoutot Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.17
log
@--enable-*=no --> --disable
Explicitely disable connman to set connectivity to "None".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/09/21 13:19:01 jasper Exp $
d43 6
@


1.16
log
@- update to geoclue-0.12.99
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/04/04 10:03:12 landry Exp $
d6 1
d37 4
a40 4
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--enable-gtk-doc=no \
			--enable-gtk=no
#CONFIGURE_ARGS+=	--enable-system-bus
@


1.15
log
@Don't install the example provider, it does nothing but spamming system
dbus every 5 secs with timestamp and null position/address..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/03/29 15:00:19 ajacoutot Exp $
d5 2
a6 2
DISTNAME=		geoclue-0.12.0
SHARED_LIBS +=  geoclue              1.0      # .0.0
a8 2
REVISION=		5

d17 1
a17 4
WANTLIB += c dbus-1 dbus-glib-1 ffi gconf-2 gcrypt gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnome-keyring gobject-2.0 gpg-error gps
WANTLIB += gthread-2.0 m pcre pthread soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 xml2 z
d19 2
a20 2
MASTER_SITES=		http://folks.o-hand.com/jku/geoclue-releases/ \
			http://distfiles.nl/
d22 4
a25 1
MODULES=		devel/gettext
d27 1
d30 1
a30 2
			x11/dbus-glib \
			devel/gconf2
a34 3
# for xsltproc
BUILD_DEPENDS =		textproc/libxslt

d37 2
a38 1
			--enable-gtk-doc=no
@


1.14
log
@Sync dependencies after libproxy update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/12/05 13:04:10 espie Exp $
d9 1
a9 1
REVISION=		4
@


1.13
log
@missing BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/11/03 17:35:12 jasper Exp $
d9 1
a9 1
REVISION=		3
d19 5
a28 5
WANTLIB += c dbus-1 dbus-glib-1 gconf-2 gcrypt gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-keyring gobject-2.0 gpg-error
WANTLIB += gps gthread-2.0 m pcre pthread soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 xml2 z ffi

d30 3
a32 1
			misc/gpsd
@


1.12
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/10/29 08:12:31 ajacoutot Exp $
d34 3
@


1.11
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/16 21:01:45 jasper Exp $
d9 1
a9 1
REVISION=		2
d27 1
a27 1
WANTLIB += sqlite3 xml2 z
@


1.10
log
@add backup master site, the original one seems to be flaky
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/16 09:48:10 espie Exp $
d9 1
a9 1
REVISION=		1
d24 1
a24 1
WANTLIB += ORBit-2 c dbus-1 dbus-glib-1 gconf-2 gcrypt gio-2.0
@


1.9
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/06/07 14:19:46 ajacoutot Exp $
d19 2
a20 1
MASTER_SITES=		http://folks.o-hand.com/jku/geoclue-releases/
@


1.8
log
@Sync WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/11/25 08:56:57 sebastia Exp $
d9 1
a9 1
REVISION=		0
@


1.7
log
@Update geoclue to 0.12.0, which makes it compatible with updated gpsd

OK landry@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/11/17 08:05:12 espie Exp $
d9 2
d23 4
a26 4
WANTLIB += dbus-glib-1 tasn1 ORBit-2 c dbus-1 m soup-gnome-2.4
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += pcre pthread xml2 z gconf-2 gcrypt gnome-keyring gnutls
WANTLIB += gps>=19 sqlite3 soup-2.4 proxy gpg-error
@


1.6
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/07 19:12:42 espie Exp $
d5 2
a6 3
DISTNAME=		geoclue-0.11.1
REVISION=		2
SHARED_LIBS +=  geoclue              0.0      # .0.0
d21 1
a21 3
WANTLIB += ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender atk-1.0 c cairo dbus-1
WANTLIB += dbus-glib-1 expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
d23 2
a24 2
WANTLIB += gtk-x11-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs xcb xml2 z
d26 1
a26 1
LIB_DEPENDS =		devel/gconf2 \
a27 1
WANTLIB +=		gconf-2 gps
@


1.5
log
@convert WANTLIB on geo/lang
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/10/11 08:14:08 jasper Exp $
d29 2
a30 2
LIB_DEPENDS =		::devel/gconf2 \
			::misc/gpsd
@


1.4
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/08/10 06:31:43 kili Exp $
d29 3
a31 2
LIB_DEPENDS=		gconf-2::devel/gconf2 \
			gps::misc/gpsd
@


1.3
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/03/04 20:10:30 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d25 1
a25 1
WANTLIB += gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 gthread-2.0
@


1.2
log
@- fix build
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/02/15 16:35:05 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d27 1
a27 1
WANTLIB += pcre pixman-1 png pthread xml2 z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
@


1.1.1.1
log
@import geoclue 0.11.1

Geoclue is a modular geoinformation service built on top of the D-Bus
messaging system. The goal of the Geoclue project is to make creating
location-aware applications as simple as possible.
Geoclue defines a set of geoinformation APIs, but it also includes some
providers that implement those APIs.
@
text
@@
