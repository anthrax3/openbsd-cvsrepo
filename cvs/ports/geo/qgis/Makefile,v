head	1.68;
access;
symbols
	OPENBSD_6_1:1.62.0.2
	OPENBSD_6_1_BASE:1.62
	OPENBSD_6_0:1.52.0.2
	OPENBSD_6_0_BASE:1.52
	OPENBSD_5_9:1.47.0.2
	OPENBSD_5_9_BASE:1.47
	OPENBSD_5_8:1.41.0.4
	OPENBSD_5_8_BASE:1.41
	OPENBSD_5_7:1.38.0.2
	OPENBSD_5_7_BASE:1.38
	OPENBSD_5_6:1.30.0.4
	OPENBSD_5_6_BASE:1.30
	OPENBSD_5_5:1.30.0.2
	OPENBSD_5_5_BASE:1.30
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.27.0.2
	OPENBSD_5_3_BASE:1.27
	OPENBSD_5_2:1.26.0.4
	OPENBSD_5_2_BASE:1.26
	OPENBSD_5_1_BASE:1.26
	OPENBSD_5_1:1.26.0.2
	OPENBSD_5_0:1.22.0.2
	OPENBSD_5_0_BASE:1.22
	OPENBSD_4_9:1.18.0.2
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.11.0.2
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.8.0.2
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	landry_20090601:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.68
date	2017.05.31.11.49.28;	author landry;	state Exp;
branches;
next	1.67;
commitid	Y0MZDO6MycqI2jxR;

1.67
date	2017.05.31.08.08.16;	author espie;	state Exp;
branches;
next	1.66;
commitid	ij92FtFXiSiT1ani;

1.66
date	2017.05.23.09.16.29;	author landry;	state Exp;
branches;
next	1.65;
commitid	cuCr0JSG144FXtFl;

1.65
date	2017.05.13.17.40.26;	author espie;	state Exp;
branches;
next	1.64;
commitid	3mLn9XfSs8pJCxh2;

1.64
date	2017.04.25.11.54.54;	author landry;	state Exp;
branches;
next	1.63;
commitid	pGjXsOGmFGfCgAKa;

1.63
date	2017.04.18.12.08.59;	author landry;	state Exp;
branches;
next	1.62;
commitid	uzMQfOANNVDYuTnf;

1.62
date	2017.02.07.08.20.51;	author landry;	state Exp;
branches;
next	1.61;
commitid	Qm8MNo1pB68QhptD;

1.61
date	2016.12.22.21.34.06;	author landry;	state Exp;
branches;
next	1.60;
commitid	jwITfOoOKISmCXhd;

1.60
date	2016.11.30.16.53.37;	author landry;	state Exp;
branches;
next	1.59;
commitid	cjmZ7DoNViEt9t4u;

1.59
date	2016.11.01.09.18.13;	author landry;	state Exp;
branches;
next	1.58;
commitid	zhoy0itRDzYZ7eNv;

1.58
date	2016.10.04.20.04.00;	author landry;	state Exp;
branches;
next	1.57;
commitid	IfRt1BeaRJkKyUdy;

1.57
date	2016.09.23.09.16.54;	author sthen;	state Exp;
branches;
next	1.56;
commitid	XLnI6AbHAmyVU5mO;

1.56
date	2016.09.01.15.55.27;	author ajacoutot;	state Exp;
branches;
next	1.55;
commitid	MKIpeuQU5EdwY9ah;

1.55
date	2016.08.31.13.13.01;	author landry;	state Exp;
branches;
next	1.54;
commitid	vVwABTLTYCswaHUO;

1.54
date	2016.08.20.20.50.31;	author sthen;	state Exp;
branches;
next	1.53;
commitid	Won6smwbSdRkosJR;

1.53
date	2016.08.08.17.45.40;	author landry;	state Exp;
branches;
next	1.52;
commitid	kgtur4oqjelyjxc4;

1.52
date	2016.06.01.14.05.22;	author landry;	state Exp;
branches;
next	1.51;
commitid	1V5V3D2korSIqSud;

1.51
date	2016.05.02.12.42.03;	author landry;	state Exp;
branches;
next	1.50;
commitid	pdFWjPhzONw8byQy;

1.50
date	2016.03.29.15.09.52;	author landry;	state Exp;
branches;
next	1.49;
commitid	0YMHkMI3jkAkiXCn;

1.49
date	2016.03.20.16.12.24;	author naddy;	state Exp;
branches;
next	1.48;
commitid	guiZq8cnNbVyyHzx;

1.48
date	2016.03.02.14.39.10;	author landry;	state Exp;
branches;
next	1.47;
commitid	awC2u2jrEcQN8OHM;

1.47
date	2016.01.19.09.44.25;	author landry;	state Exp;
branches;
next	1.46;
commitid	TON31axeCILJoJmX;

1.46
date	2015.12.30.15.58.49;	author landry;	state Exp;
branches;
next	1.45;
commitid	xtIdNcGK4KRyQib7;

1.45
date	2015.12.07.13.11.41;	author landry;	state Exp;
branches;
next	1.44;
commitid	k41EIhEgC9ahygTJ;

1.44
date	2015.11.20.12.01.07;	author sthen;	state Exp;
branches;
next	1.43;
commitid	BFjXpz7cRHoULGvW;

1.43
date	2015.11.16.10.22.59;	author landry;	state Exp;
branches;
next	1.42;
commitid	iSvteyoUFXmgWFLJ;

1.42
date	2015.10.31.15.29.44;	author landry;	state Exp;
branches;
next	1.41;
commitid	55lUL9SpLjszeDFA;

1.41
date	2015.07.21.10.06.14;	author landry;	state Exp;
branches;
next	1.40;
commitid	a3MaLha3xPZ70OiS;

1.40
date	2015.06.26.09.58.32;	author landry;	state Exp;
branches;
next	1.39;
commitid	GTAbswvRoFYVHUWJ;

1.39
date	2015.03.16.20.06.32;	author landry;	state Exp;
branches;
next	1.38;
commitid	SvyS159T3egvlXcm;

1.38
date	2014.12.11.13.29.29;	author landry;	state Exp;
branches;
next	1.37;
commitid	4DcauFC4GwCbHtCW;

1.37
date	2014.11.13.21.58.36;	author sthen;	state Exp;
branches;
next	1.36;
commitid	tWSRFHAwTBUTZSJY;

1.36
date	2014.11.13.16.21.47;	author landry;	state Exp;
branches;
next	1.35;
commitid	KPLRwyMiWrW6Kcd4;

1.35
date	2014.11.13.15.04.06;	author landry;	state Exp;
branches;
next	1.34;
commitid	ZUDCSGWjiRKr1kmn;

1.34
date	2014.11.10.16.05.17;	author landry;	state Exp;
branches;
next	1.33;
commitid	KLYTJIVzgCdqoELJ;

1.33
date	2014.10.08.14.36.19;	author dcoppa;	state Exp;
branches;
next	1.32;
commitid	Qaenl2rLeUX3P2on;

1.32
date	2014.08.20.08.54.45;	author landry;	state Exp;
branches;
next	1.31;
commitid	B1F8DMuRyMhTh3L0;

1.31
date	2014.08.10.09.58.05;	author espie;	state Exp;
branches;
next	1.30;
commitid	jyyOLTDxRdjpw44n;

1.30
date	2013.11.08.22.40.38;	author sthen;	state Exp;
branches;
next	1.29;

1.29
date	2013.10.11.23.49.45;	author naddy;	state Exp;
branches;
next	1.28;

1.28
date	2013.03.11.11.07.43;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2012.11.01.07.25.36;	author landry;	state Exp;
branches;
next	1.26;

1.26
date	2011.12.29.21.44.06;	author landry;	state Exp;
branches;
next	1.25;

1.25
date	2011.11.03.17.35.12;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2011.10.18.07.06.32;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2011.09.16.09.48.11;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2011.07.07.20.34.27;	author landry;	state Exp;
branches;
next	1.21;

1.21
date	2011.06.08.17.35.13;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2011.05.17.08.53.50;	author dcoppa;	state Exp;
branches;
next	1.19;

1.19
date	2011.03.13.18.19.32;	author dcoppa;	state Exp;
branches;
next	1.18;

1.18
date	2010.12.08.09.07.48;	author landry;	state Exp;
branches;
next	1.17;

1.17
date	2010.11.17.08.05.12;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.10.24.15.53.55;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2010.10.18.18.13.12;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.09.07.10.23.31;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2010.08.30.17.11.35;	author fgsch;	state Exp;
branches;
next	1.12;

1.12
date	2010.08.30.11.02.48;	author landry;	state Exp;
branches;
next	1.11;

1.11
date	2010.05.11.06.41.30;	author dcoppa;	state Exp;
branches;
next	1.10;

1.10
date	2010.04.28.11.32.30;	author dcoppa;	state Exp;
branches;
next	1.9;

1.9
date	2010.04.15.20.45.34;	author dcoppa;	state Exp;
branches;
next	1.8;

1.8
date	2010.01.11.20.13.31;	author landry;	state Exp;
branches;
next	1.7;

1.7
date	2009.12.21.21.21.59;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2009.10.29.19.59.38;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2009.09.06.11.19.17;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2009.08.12.20.05.57;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2009.08.10.06.31.43;	author kili;	state Exp;
branches;
next	1.2;

1.2
date	2009.06.04.17.45.51;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2009.06.01.23.14.58;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.06.01.23.14.58;	author landry;	state Exp;
branches;
next	;


desc
@@


1.68
log
@Bugfix update to QGIS 2.18.9.
@
text
@# $OpenBSD: Makefile,v 1.67 2017/05/31 08:08:16 espie Exp $

COMMENT =	desktop geographical information system

DISTNAME =	qgis-2.18.9
EXTRACT_SUFX =	.tar.bz2
CATEGORIES =	geo x11

SHARED_LIBS =	qgis_core	17.0 \
		qgis_app	5.0 \
		qgis_gui	16.0 \
		qgis_analysis	8.0 \
		qgis_server	5.0 \
		qgispython	5.0 \
		qgis_networkanalysis 2.0

HOMEPAGE =	http://www.qgis.org/

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

MAINTAINER =	Landry Breuil <landry@@openbsd.org>

MASTER_SITES =	${HOMEPAGE}/downloads/

MODULES =	devel/cmake \
		devel/gettext \
		lang/python


COMPILER =	gcc

BUILD_DEPENDS =	x11/py-qt4>=4.8.4 \
		security/qca-ossl \
		editors/py-qscintilla \
		devel/bison>=2.4 \
		geo/gdal,-python


RUN_DEPENDS =	x11/py-qt4>=4.8.4 \
		www/py-requests \
		security/qca-ossl \
		geo/gdal,-python \
		databases/py-psycopg2 \
		editors/py-qscintilla \
		devel/desktop-file-utils

LIB_DEPENDS =	${MODPY_LIB_DEPENDS} \
		databases/sqlite3 \
		devel/proj \
		x11/qt4>=4.7.2 \
		x11/qwt \
		www/fcgi \
		editors/qscintilla \
		geo/gdal \
		geo/geos \
		geo/spatialite/libspatialite \
		geo/spatialindex \
		devel/gsl \
		devel/qjson \
		security/qca2 \
		databases/postgresql

WANTLIB += 	ICE SM X11 Xext Xi Xinerama Xrender c expat \
		fontconfig freetype glib-2.0 gobject-2.0 gthread-2.0 lcms m \
		mng png pthread util z proj \
		QtGui QtNetwork QtXml QtSql QtCore QtScript QtSvg \
		QtWebKit gdal geos_c gsl gslcblas pq qwt fcgi qca2 \
		QtTest spatialindex spatialite sqlite3 qscintilla2 qjson
WANTLIB += ${MODPY_WANTLIB} jpeg tiff

CONFIGURE_ENV+=	VERBOSE=1
CONFIGURE_ARGS =	-DWITH_SERVER=TRUE -DWITH_SERVER_PLUGINS=TRUE -DWITH_PYSPATIALITE=TRUE

pre-configure:
		# otherwise takes precedence over systemwide file
		rm -f ${WRKSRC}/cmake/FindIconv.cmake
		${SUBST_CMD} ${WRKSRC}/cmake/Find{GDAL,GEOS,Postgres}.cmake

post-install:
		${INSTALL_DATA_DIR} ${PREFIX}/share/{pixmaps,applications}
		ln -f ${PREFIX}/share/{qgis/images/icons,pixmaps}/qgis-icon.png
		${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} \
			-c ${WRKSRC}/debian/qgis.desktop \
			${PREFIX}/share/applications/qgis.desktop

.include <bsd.port.mk>
@


1.67
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2017/05/23 09:16:29 landry Exp $
d5 1
a5 1
DISTNAME =	qgis-2.18.8
d11 2
a12 2
		qgis_gui	15.1 \
		qgis_analysis	7.0 \
@


1.66
log
@Bugfix update to QGIS 2.18.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2017/05/13 17:40:26 espie Exp $
d31 1
a31 1
WANT_CXX =	base gcc
@


1.65
log
@more WANT_CXX / LIBECXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2017/04/25 11:54:54 landry Exp $
d5 1
a5 1
DISTNAME =	qgis-2.18.7
d9 3
a11 3
SHARED_LIBS =	qgis_core	16.0 \
		qgis_app	4.1 \
		qgis_gui	15.0 \
@


1.64
log
@Bugfix update to qgis 2.18.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2017/04/18 12:08:59 landry Exp $
d26 1
a26 2
MODULES =	gcc4 \
		devel/cmake \
d29 3
a31 2
MODGCC4_ARCHS =	*
MODGCC4_LANGS =	c++
@


1.63
log
@Bugfix update to QGIS 2.18.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2017/02/07 08:20:51 landry Exp $
d5 1
a5 1
DISTNAME =	qgis-2.18.6
@


1.62
log
@Update to qgis 2.18.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2016/12/22 21:34:06 landry Exp $
d5 1
a5 1
DISTNAME =	qgis-2.18.3
d9 3
a11 3
SHARED_LIBS =	qgis_core	15.0 \
		qgis_app	4.0 \
		qgis_gui	14.0 \
@


1.61
log
@Update to qgis 2.18.2.

Remove patch-src_gui_qgisgui_h which was part of
https://github.com/qgis/QGIS/commit/3e738405e2e91eaf8a54f82640e5f59fc977e21a
upstream.

Switch to use gcc4 on all platforms (not only on i386), the new DWG
importer (added in a stable branch.. sigh) doesn't build with base gcc,
and what's the point of trying to build a modern c++ codebase with a 10
year-old compiler ?

Bump all shlib majors for lots of symbols removed as a consequence.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2016/11/30 16:53:37 landry Exp $
d5 1
a5 1
DISTNAME =	qgis-2.18.2
@


1.60
log
@Bugfix update to qgis 2.18.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2016/11/01 09:18:13 landry Exp $
d5 1
a5 1
DISTNAME =	qgis-2.18.1
d9 7
a15 7
SHARED_LIBS =	qgis_core	14.0 \
		qgis_app	3.1 \
		qgis_gui	13.0 \
		qgis_analysis	6.0 \
		qgis_server	4.1 \
		qgispython	4.1 \
		qgis_networkanalysis 1.0
d30 1
a30 1
MODGCC4_ARCHS =	i386 # base GCC uses too much RAM
d66 1
a66 1
		mng png pthread util stdc++ z proj \
@


1.59
log
@Update to QGIS 2.18.0.

See http://changelog.qgis.org/en/qgis/version/2.18.0/ for a visual list
of changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2016/10/04 20:04:00 landry Exp $
d5 1
a5 1
DISTNAME =	qgis-2.18.0
d9 3
a11 3
SHARED_LIBS =	qgis_core	13.0 \
		qgis_app	3.0 \
		qgis_gui	12.0 \
@


1.58
log
@Update to QGIS 2.16.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2016/09/23 09:16:54 sthen Exp $
d5 1
a5 1
DISTNAME =	qgis-2.16.3
d9 3
a11 3
SHARED_LIBS =	qgis_core	12.0 \
		qgis_app	2.0 \
		qgis_gui	11.0 \
d13 2
a14 2
		qgis_server	4.0 \
		qgispython	4.0 \
@


1.57
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2016/09/01 15:55:27 ajacoutot Exp $
d5 1
a5 1
DISTNAME =	qgis-2.16.2
a7 1
REVISION =	1
@


1.56
log
@Drop USE_WXNEEDED; the underlying issue is in qt4 webkit and we don't want
to annotate all ports when the common issue comes from outside.

discussed with/ok landry@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2016/08/31 13:13:01 landry Exp $
d8 1
a8 1
REVISION =	0
d50 1
@


1.55
log
@Update to qgis 2.16.2.

Set USE_WXNEEDED to fix a crash in QtWebKit at startup (this should
probably be fixed in QtWebKit itself), add py-requests to RDEP for
metasearch plugin, and remove sip-related patches added in 2.16.1 update
- updating sip made them useless at last.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2016/08/20 20:50:31 sthen Exp $
d8 1
a32 2

USE_WXNEEDED =	Yes
@


1.54
log
@switch to ports gcc on i386; can't build it with base gcc, uses too much ram
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2016/08/08 17:45:40 landry Exp $
d5 1
a5 1
DISTNAME =	qgis-2.16.1
d33 2
d43 1
@


1.53
log
@Update to QGIS 2.16.1.

See http://changelog.qgis.org/en/qgis/version/2.16.0/.

Add two patches reverting selected chunks of upstream commits leading to
segfaults in python/sip initializations, until if figure out what's
wrong in upstream ticket #15347, hopefully at g2k16. With those two
commits reverted, it runs fine...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2016/06/01 14:05:22 landry Exp $
d26 2
a27 1
MODULES =	devel/cmake \
d30 2
@


1.52
log
@Bugfix update to QGIS 2.14.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2016/05/02 12:42:03 landry Exp $
d5 1
a5 1
DISTNAME =	qgis-2.14.3
d9 3
a11 3
SHARED_LIBS =	qgis_core	11.0 \
		qgis_app	1.0 \
		qgis_gui	10.0 \
d13 2
a14 2
		qgis_server	3.0 \
		qgispython	3.0 \
d55 1
d64 1
a64 1
		QtTest spatialindex spatialite sqlite3 qscintilla2
a73 1
		${SUBST_CMD} ${WRKSRC}/scripts/pyuic4-wrapper.{py,sh}
@


1.51
log
@Bugfix update to QGIS 2.14.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2016/03/29 15:09:52 landry Exp $
d5 1
a5 1
DISTNAME =	qgis-2.14.2
@


1.50
log
@Bugfix update to QGIS 2.14.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2016/03/20 16:12:24 naddy Exp $
d5 1
a5 1
DISTNAME =	qgis-2.14.1
@


1.49
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2016/03/02 14:39:10 landry Exp $
d5 1
a5 1
DISTNAME =	qgis-2.14.0
@


1.48
log
@Update to QGIS 2.14.

See http://changelog.qgis.org/en/qgis/version/2.14.0/ for changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2016/01/19 09:44:25 landry Exp $
a3 2

SHARED_ONLY =	Yes
@


1.47
log
@qgis 2.12.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2015/12/30 15:58:49 landry Exp $
d7 1
a7 1
DISTNAME =	qgis-2.12.3
d11 7
a17 7
SHARED_LIBS =	qgis_core	10.0 \
		qgis_app	0.0 \
		qgis_gui	9.0 \
		qgis_analysis	5.0 \
		qgis_server	2.0 \
		qgispython	2.2 \
		qgis_networkanalysis 0.0
d75 1
@


1.46
log
@bugfix update to qgis 2.12.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2015/12/07 13:11:41 landry Exp $
d7 1
a7 1
DISTNAME =	qgis-2.12.2
@


1.45
log
@Bugfix update to QGIS 2.12.1. Fix paths in patch while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2015/11/20 12:01:07 sthen Exp $
d7 1
a7 1
DISTNAME =	qgis-2.12.1
@


1.44
log
@remove devel/flex dep, these are ok with base flex
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2015/11/16 10:22:59 landry Exp $
d7 1
a7 2
DISTNAME =	qgis-2.12.0
REVISION =	0
@


1.43
log
@Remove generated files and cmake butchery now that we have a decent
bison. Thanks jca@@!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2015/10/31 15:29:44 landry Exp $
a34 1
		devel/flex \
@


1.42
log
@Upgrade to QGIS 2.12.

- See https://www.qgis.org/en/site/forusers/visualchangelog212/ for the
changes.
- Regenerate qgisrastercalcparser.{h,c}pp with out-of-ports bison 2.6
- Now uses qca2 & qca-ossl for https handling
- Remove now useless patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2015/07/21 10:06:14 landry Exp $
d8 1
d37 1
a39 2
# need to update bison...
#		devel/bison>=2.4
a76 6
		#install bison-2.6-generated files
		#bison -o /tmp/qgsexpressionparser.cpp -dvt src/core/qgsexpressionparser.yy
		cp ${FILESDIR}/qgsrastercalcparser.{c,h}pp ${WRKSRC}/src/analysis/raster/
		cp ${FILESDIR}/qgsexpressionparser.{c,h}pp ${WRKSRC}/src/core/
		touch ${WRKSRC}/src/analysis/raster/qgsrastercalcparser.{c,h}pp \
			${WRKSRC}/src/core/qgsexpressionparser.{c,h}pp
@


1.41
log
@Update to QGIS 2.10.1.

See https://github.com/qgis/QGIS/blob/master/NEWS for ...news...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2015/06/26 09:58:32 landry Exp $
d7 1
a7 1
DISTNAME =	qgis-2.10.1
d11 6
a16 5
SHARED_LIBS =	qgis_core	9.0 \
		qgis_gui	8.0 \
		qgis_analysis	4.0 \
		qgis_server	1.0 \
		qgispython	2.1 \
d33 1
d42 1
d59 1
d66 1
a66 1
		QtWebKit gdal geos_c gsl gslcblas pq qwt fcgi \
d81 2
@


1.40
log
@Update to qgis 2.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2015/03/16 20:06:32 landry Exp $
d7 1
a7 1
DISTNAME =	qgis-2.8.2
d11 4
a14 4
SHARED_LIBS =	qgis_core	8.0 \
		qgis_gui	7.0 \
		qgis_analysis	3.1 \
		qgis_server	0.0 \
@


1.39
log
@Update to QGIS 2.8.1.

See http://www2.qgis.org/en/site/forusers/visualchangelog28/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2014/12/11 13:29:29 landry Exp $
d7 1
a7 1
DISTNAME =	qgis-2.8.1
@


1.38
log
@Bugfix update to qgis 2.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2014/11/13 21:58:36 sthen Exp $
d7 1
a7 1
DISTNAME =	qgis-2.6.1
d11 5
a15 4
SHARED_LIBS =	qgis_core	7.0 \
		qgis_gui	6.0 \
		qgis_analysis	3.0 \
		qgispython	2.0 \
d67 1
a67 1
CONFIGURE_ARGS =	-DWITH_MAPSERVER=TRUE -DWITH_PYSPATIALITE=TRUE
d74 1
@


1.37
log
@hopefully the last fix needed ;) py-qscintilla is a build dependency as well.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2014/11/13 16:21:47 landry Exp $
d7 1
a7 1
DISTNAME =	qgis-2.6.0
@


1.36
log
@#@@$!@@$@@!$#@@# fix previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2014/11/13 15:04:06 landry Exp $
d32 1
@


1.35
log
@Move editors/py-qscintilla to LDEP to unbreak build
spotted by sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2014/11/10 16:05:17 landry Exp $
d40 1
d48 1
a48 1
		editors/py-qscintilla \
@


1.34
log
@Update to qgis 2.6.0 'Brighton'.

See https://www.qgis.org/en/site/forusers/visualchangelog260/index.html
Use devel/gflex instead of base flex which doesnt seem to handle
%option reentrant, used since
https://github.com/qgis/QGIS/commit/2427546d8850c7f0b2ca191b238a77c49f648510
commit parser files generated locally with bison 2.6.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2014/10/08 14:36:19 dcoppa Exp $
d40 1
a40 2
		devel/desktop-file-utils \
		editors/py-qscintilla
d47 1
@


1.33
log
@
qgis needs a rdep on editors/py-qscintilla for its processing plugin

ok landry@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2014/08/20 08:54:45 landry Exp $
d7 1
a7 2
DISTNAME =	qgis-2.4.0
REVISION =	0
d11 3
a13 3
SHARED_LIBS =	qgis_core	6.0 \
		qgis_gui	5.0 \
		qgis_analysis	2.0 \
d15 1
a15 2
		qgis_networkanalysis 0.0 \
		qgissqlanyconnection 0.0 # 2.0
d31 1
d60 1
a60 1
		QtTest spatialindex spatialite sqlite3
@


1.32
log
@Long awaited update to QGIS 2.4.0.

Since 1.8, QGIS requires bison > 2.4 at build time, but since noone
cares enough our bison is still stuck at 2.3. To workaround this,
add the parsers generated with a WIP bison 2.6.2 to files/, and comment
out the Cmake goo to call/detect bison.

Add patches from http://hub.qgis.org/issues/10762.

I've used QGIS 1.8, 2.0, 2.2 and 2.4 without issues since > 2 years.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2014/08/10 09:58:05 espie Exp $
d8 1
d41 2
a42 1
		devel/desktop-file-utils
@


1.31
log
@use more specific version of SUBST_* where appropriate
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.30 2013/11/08 22:40:38 sthen Exp $

BROKEN-powerpc=	doesn't build, assembler error: operand out of range
a4 1
ONLY_FOR_ARCHS =	${GCC4_ARCHS}
d7 1
a7 2
DISTNAME =	qgis-1.7.4
REVISION =	0
d11 6
a16 5
SHARED_LIBS =	qgis_core	5.1 \
		qgis_gui	4.0 \
		qgis_analysis	1.3 \
		qgispython	1.1 \
		qgissqlanyconnection 0.0 # 1.7
d32 4
a35 2
		geo/gdal,-python \
		devel/bison
d39 1
d49 2
d55 1
a55 1
		fontconfig freetype glib-2.0 gthread-2.0 lcms m \
d57 3
a59 2
		QtGui QtNetwork QtXml QtSql QtCore QtSvg \
		QtWebKit gdal geos_c gsl gslcblas pq qwt fcgi
d63 1
a63 1
CONFIGURE_ARGS =	-DWITH_MAPSERVER=TRUE
d67 1
a67 1
		rm ${WRKSRC}/cmake/FindIconv.cmake
d69 3
d75 3
a77 2
		ln ${PREFIX}/share/{qgis/images/icons,pixmaps}/qgis-icon.png
		${SUBST_DATA} ${WRKSRC}/debian/qgis.desktop \
@


1.30
log
@add an adapted patch from upstream to adapt to new py-sip
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/10/11 23:49:45 naddy Exp $
d70 1
a70 2
		${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} -c \
			${WRKSRC}/debian/qgis.desktop \
@


1.29
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/03/11 11:07:43 espie Exp $
d11 1
@


1.28
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2012/11/01 07:25:36 landry Exp $
a59 1
USE_GROFF =	Yes
@


1.27
log
@Bugfix update to qgis 1.7.4.

See for the list of bugs fixed:
http://www.qgis.org/en/about-qgis/qgis-releases/139-qgis-1-7-4-releasehtml.html

(we cant update to 1.8.0 because our bison is too old, and newer bisons
dont cope well with our m4)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/12/29 21:44:06 landry Exp $
a23 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.26
log
@Bugfix update to QuantumGIS 1.7.3 :
- set SHARED_ONLY and merge PFRAG.shared into PLIST
- fix my mail address
- see http://www.qgis.org/en/about-qgis/qgis-releases/137-qgis-1-7-3-releasehtml.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/11/03 17:35:12 jasper Exp $
d10 1
a10 1
DISTNAME =	qgis-1.7.3
@


1.25
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/10/18 07:06:32 ajacoutot Exp $
d8 1
d10 1
a10 2
DISTNAME =	qgis-1.7.0
REVISION=	1
d14 1
a14 1
SHARED_LIBS =	qgis_core	5.0 \
d28 1
a28 1
MAINTAINER =	Landry Breuil <gaston@@gcu.info>
@


1.24
log
@This has been broken forever on powerpc, so mark it as such.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/09/16 09:48:11 espie Exp $
d10 1
a10 1
REVISION=		0
d56 1
a56 1
		mng png pthread gobject-2.0 util stdc++ z proj \
@


1.23
log
@normalize pkgpath
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.22 2011/07/07 20:34:27 landry Exp $
@


1.22
log
@Update to QuantumGIS 1.7.0, been using it for some weeks without issues.
Add a bunch of patches to install/access the doc in the correct dir.
see release notes for details :
http://www.qgis.org/en/component/content/article/127-qgis-1-7-release.html
With feedback from okan@@, thanks !
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/06/08 17:35:13 jasper Exp $
d8 1
@


1.21
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/05/17 08:53:50 dcoppa Exp $
d7 1
a7 2
DISTNAME =	qgis-1.6.0
REVISION =	2
d11 5
a15 4
SHARED_LIBS =	qgis_core	4.0 \
		qgis_gui	3.0 \
		qgis_analysis	1.2 \
		qgispython	1.1 # .1.3
d56 1
a56 1
WANTLIB += ${MODPY_WANTLIB}
d59 1
d61 1
d63 2
@


1.20
log
@Unbreak build after py-sip/py-qt4 updates
(Upstream changeset 14988).

Tested in a bulk build by landry@@
OK landry@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/03/13 18:19:32 dcoppa Exp $
d8 1
a8 1
REVISION =	1
@


1.19
log
@Fix WANTLIB after cmake update.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/12/08 09:07:48 landry Exp $
d8 1
a8 1
REVISION =	0
d33 1
a33 1
BUILD_DEPENDS =	x11/py-qt4 \
d37 1
a37 1
RUN_DEPENDS =	x11/py-qt4 \
d43 1
a43 1
		x11/qt4 \
@


1.18
log
@Update to QuantumGIS 1.6.0.
See http://blog.qgis.org/node/146 for details on this release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/11/17 08:05:12 espie Exp $
d8 1
d51 5
a55 4
WANTLIB += 	ICE SM X11 Xext Xi Xinerama Xrender c expat fontconfig \
		freetype glib-2.0 gthread-2.0 m png pthread gobject-2.0 util \
		stdc++ z proj QtGui QtNetwork QtXml QtSql QtCore QtSvg QtWebKit\
		gdal geos_c gsl gslcblas pq qwt fcgi
@


1.17
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/10/24 15:53:55 sthen Exp $
d7 2
a8 4
DISTNAME =	qgis_1.5.0
PKGNAME =	${DISTNAME:L:S/_/-/}
REVISION =	1

d11 4
a14 4
SHARED_LIBS =	qgis_core	3.0 \
		qgis_gui	2.0 \
		qgis_analysis	1.1 \
		qgispython	1.0 # .1.3
d26 1
a26 2
MASTER_SITES =	http://download.osgeo.org/qgis/src/
WRKDIST =	${WRKDIR}/${DISTNAME:S/_/-/}
d43 2
d53 1
a53 1
		gdal geos_c gsl gslcblas pq
@


1.16
log
@Add MODPY_WANTLIB, adjust MODPY_LIB_DEPENDS to new-style LIB_DEPENDS,
update all ports to match. Plists don't change -> no bump.
Looks ok to jasper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/10/18 18:13:12 espie Exp $
d35 7
a41 7
BUILD_DEPENDS =	::x11/py-qt4 \
		:py-gdal-*:geo/gdal,-python \
		::devel/bison

RUN_DEPENDS =	::x11/py-qt4 \
		:py-gdal-*:geo/gdal,-python \
		:desktop-file-utils-*:devel/desktop-file-utils
d44 6
a49 6
		::devel/proj \
		::x11/qt4 \
		::geo/gdal \
		::geo/geos \
		::devel/gsl \
		:postgresql-client-*:databases/postgresql
@


1.15
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/09/07 10:23:31 sthen Exp $
d55 1
@


1.14
log
@Fix build with sip >= 4.11; discussed with Phil @@ riverbank
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/08/30 17:11:35 fgsch Exp $
d57 1
@


1.13
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/08/30 11:02:48 landry Exp $
d9 1
a9 1
REVISION =	0
@


1.12
log
@Update to qgis 1.5.0, now bundles gdaltools plugin.
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/05/11 06:41:30 dcoppa Exp $
d9 1
@


1.11
log
@Pass Qt4 dependent libraries to linker: this makes lib-depends-check
happy.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/04/28 11:32:30 dcoppa Exp $
d5 4
a8 2
DISTNAME =	qgis_1.4.0
PKGNAME =	${DISTNAME:L:S/_/-/}p2
d12 4
a15 4
SHARED_LIBS =	qgis_core	2.0 \
		qgis_gui	1.1 \
		qgis_analysis	1.0 \
		qgispython	0.1 # .1.3
d43 6
a48 6
		proj::devel/proj \
		QtGui,QtNetwork,QtXml,QtSql,QtCore,QtSvg::x11/qt4 \
		gdal::geo/gdal \
		geos_c::geo/geos \
		gsl::devel/gsl \
		pq:postgresql-client-*:databases/postgresql
d52 2
a53 1
		stdc++ z
d62 2
a63 3
		${SUBST_CMD} -c ${WRKSRC}/debian/qgis.desktop \
			${PREFIX}/share/applications/qgis.desktop
		chown ${SHAREOWN}:${SHAREGRP} \
@


1.10
log
@Unbreak after py-sip update.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/04/15 20:45:34 dcoppa Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME:L:S/_/-/}p1
@


1.9
log
@update-plist and bump because of cmake diff.

OK landry@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/01/11 20:13:31 landry Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME:L:S/_/-/}p0
@


1.8
log
@Update to Quantum GIS 1.4.0.
see http://blog.qgis.org/node/142 for details.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/12/21 21:21:59 ajacoutot Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME:L:S/_/-/}
@


1.7
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/10/29 19:59:38 landry Exp $
d5 2
a6 2
DISTNAME =	qgis_1.3.0
PKGNAME =	${DISTNAME:L:S/_/-/}p0
d10 4
a13 4
SHARED_LIBS =	qgis_core	1.0 \
		qgis_gui	1.0 \
		qgis_analysis	0.0 \
		qgispython	0.0 # .1.3
d52 1
@


1.6
log
@Update to Quantum GIS 1.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/09/06 11:19:17 landry Exp $
d6 2
a7 1
PKGNAME =	${DISTNAME:L:S/_/-/}
@


1.5
log
@Update to Quantum GIS 1.2.0, see http://blog.qgis.org/node/137 for
details.
Use gettext module & modpy_lib_depends.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/08/12 20:05:57 sthen Exp $
d5 1
a5 1
DISTNAME =	qgis_1.2.0
d9 4
a12 3
SHARED_LIBS =	qgis_core	0.0 \
		qgis_gui	0.0 \
		qgispython	0.0 # .1.0
@


1.4
log
@sync WANTLIB and bump; looks alright to landry@@ and martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/08/10 06:31:43 kili Exp $
d5 2
a6 2
DISTNAME =	qgis_1.0.2
PKGNAME =	${DISTNAME:L:S/_/-/}p2
d27 1
d38 2
a39 1
LIB_DEPENDS =	proj::devel/proj \
d43 1
a43 1
		gsl,gslcblas::devel/gsl \
d47 1
a47 1
		freetype glib-2.0 gthread-2.0 m png pthread sqlite3 \
a53 1
		mv ${PREFIX}/man/man1/qgis.{man,1}
@


1.3
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/06/04 17:45:51 landry Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME:L:S/_/-/}p1
d44 3
a46 4
WANTLIB =	ICE SM X11 Xext Xi Xinerama Xrandr Xrender \
		fontconfig freetype glib-2.0 gthread-2.0 iconv \
		c intl m png pthread stdc++ z expat gobject-2.0 \
		python2.5 sqlite3 util pthread-stubs xcb
@


1.2
log
@Fix depends on py-gdal-*, patch by Kirill Bychkov, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/06/01 23:14:58 landry Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME:L:S/_/-/}p0
d47 1
a47 1
		python2.5 sqlite3 util
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
PKGNAME =	${DISTNAME:L:S/_/-/}
d30 1
a30 1
		:py-gdal-*:geo/gdal \
d34 1
a34 1
		:py-gdal-*:geo/gdal \
@


1.1.1.1
log
@Import Quantum GIS 1.0.2:
QGIS aims to be an easy to use GIS, providing common functions and
features. The initial goal was to provide a GIS data viewer, but now
it also permits to edit, create and analyze lots of spatial datas.
QGIS supports a number of raster and vector data formats, with new
support easily added using the plugin architecture.

with some tweaks by and ok ajacoutot@@
@
text
@@
