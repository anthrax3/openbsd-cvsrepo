head	1.15;
access;
symbols
	OPENBSD_6_1:1.14.0.2
	OPENBSD_6_1_BASE:1.14
	OPENBSD_6_0:1.13.0.2
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.12.0.2
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.10.0.4
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.8.0.2
	OPENBSD_5_7_BASE:1.8
	OPENBSD_4_9:1.5.0.2
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.4.0.4
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.1.1.1.0.2
	OPENBSD_4_6_BASE:1.1.1.1
	landry_20090601:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2017.04.18.12.08.59;	author landry;	state Exp;
branches;
next	1.14;
commitid	uzMQfOANNVDYuTnf;

1.14
date	2016.08.08.17.45.40;	author landry;	state Exp;
branches;
next	1.13;
commitid	kgtur4oqjelyjxc4;

1.13
date	2016.03.02.14.39.10;	author landry;	state Exp;
branches;
next	1.12;
commitid	awC2u2jrEcQN8OHM;

1.12
date	2015.11.16.10.22.59;	author landry;	state Exp;
branches;
next	1.11;
commitid	iSvteyoUFXmgWFLJ;

1.11
date	2015.10.31.15.29.44;	author landry;	state Exp;
branches;
next	1.10;
commitid	55lUL9SpLjszeDFA;

1.10
date	2015.07.21.10.06.14;	author landry;	state Exp;
branches;
next	1.9;
commitid	a3MaLha3xPZ70OiS;

1.9
date	2015.03.16.20.06.33;	author landry;	state Exp;
branches;
next	1.8;
commitid	SvyS159T3egvlXcm;

1.8
date	2014.11.10.16.05.17;	author landry;	state Exp;
branches;
next	1.7;
commitid	KLYTJIVzgCdqoELJ;

1.7
date	2014.08.20.08.54.45;	author landry;	state Exp;
branches;
next	1.6;
commitid	B1F8DMuRyMhTh3L0;

1.6
date	2011.07.07.20.34.27;	author landry;	state dead;
branches;
next	1.5;

1.5
date	2010.12.08.09.07.48;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2010.01.11.20.13.31;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2009.10.29.19.59.38;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2009.09.06.11.19.17;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2009.06.01.23.14.58;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.06.01.23.14.58;	author landry;	state Exp;
branches;
next	;


desc
@@


1.15
log
@Bugfix update to QGIS 2.18.6.
@
text
@$OpenBSD: patch-CMakeLists_txt,v 1.14 2016/08/08 17:45:40 landry Exp $
chunk 1: http://hub.qgis.org/issues/3999
lots of undefined refs to syms in libc, we dont link shlibs with -lc
--- CMakeLists.txt.orig	Fri Apr  7 14:12:04 2017
+++ CMakeLists.txt	Tue Apr 18 10:48:49 2017
@@@@ -631,12 +631,6 @@@@ ELSE (WIN32)
     SET(DLLEXPORT "")
   ENDIF()
 
-  IF(PEDANTIC AND NOT APPLE)
-    SET(CMAKE_SHARED_LINKER_FLAGS "${CMAKE_SHARED_LINKER_FLAGS} -Wl,--no-undefined")
-    SET(CMAKE_MODULE_LINKER_FLAGS "${CMAKE_MODULE_LINKER_FLAGS} -Wl,--no-undefined")
-    SET(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} -Wl,--no-undefined")
-  ENDIF(PEDANTIC AND NOT APPLE)
-
 ENDIF(WIN32)
 
 ADD_DEFINITIONS("-DCORE_EXPORT=${DLLIMPORT}")
@


1.14
log
@Update to QGIS 2.16.1.

See http://changelog.qgis.org/en/qgis/version/2.16.0/.

Add two patches reverting selected chunks of upstream commits leading to
segfaults in python/sip initializations, until if figure out what's
wrong in upstream ticket #15347, hopefully at g2k16. With those two
commits reverted, it runs fine...
@
text
@d1 1
a1 1
$OpenBSD: patch-CMakeLists_txt,v 1.13 2016/03/02 14:39:10 landry Exp $
d4 3
a6 3
--- CMakeLists.txt.orig	Fri Jul  8 14:11:47 2016
+++ CMakeLists.txt	Sat Jul 23 12:28:56 2016
@@@@ -627,12 +627,6 @@@@ ELSE (WIN32)
@


1.13
log
@Update to QGIS 2.14.

See http://changelog.qgis.org/en/qgis/version/2.14.0/ for changes.
@
text
@d1 1
a1 1
$OpenBSD: patch-CMakeLists_txt,v 1.12 2015/11/16 10:22:59 landry Exp $
d4 3
a6 3
--- CMakeLists.txt.orig	Fri Feb 26 13:23:48 2016
+++ CMakeLists.txt	Tue Mar  1 13:51:41 2016
@@@@ -612,12 +612,6 @@@@ ELSE (WIN32)
@


1.12
log
@Remove generated files and cmake butchery now that we have a decent
bison. Thanks jca@@!
@
text
@d1 1
a1 1
$OpenBSD: patch-CMakeLists_txt,v 1.11 2015/10/31 15:29:44 landry Exp $
d4 3
a6 3
--- CMakeLists.txt.orig	Fri Oct 23 14:10:38 2015
+++ CMakeLists.txt	Mon Nov 16 09:27:43 2015
@@@@ -610,12 +610,6 @@@@ ELSE (WIN32)
@


1.11
log
@Upgrade to QGIS 2.12.

- See https://www.qgis.org/en/site/forusers/visualchangelog212/ for the
changes.
- Regenerate qgisrastercalcparser.{h,c}pp with out-of-ports bison 2.6
- Now uses qca2 & qca-ossl for https handling
- Remove now useless patches
@
text
@d1 2
a2 3
$OpenBSD: patch-CMakeLists_txt,v 1.10 2015/07/21 10:06:14 landry Exp $
chunk 1: dont look for bison, since >2.4 is required..
chunk 2: http://hub.qgis.org/issues/3999
d5 2
a6 22
+++ CMakeLists.txt	Fri Oct 30 15:44:07 2015
@@@@ -162,13 +162,13 @@@@ IF (NOT FLEX_EXECUTABLE)
   MESSAGE(FATAL_ERROR "Couldn't find Flex")
 ENDIF (NOT FLEX_EXECUTABLE)
 
-INCLUDE(Bison)
+#INCLUDE(Bison)
 
-FIND_BISON()
+#FIND_BISON()
 
-IF (NOT BISON_EXECUTABLE)
-  MESSAGE(FATAL_ERROR "Couldn't find Bison")
-ENDIF (NOT BISON_EXECUTABLE)
+#IF (NOT BISON_EXECUTABLE)
+#  MESSAGE(FATAL_ERROR "Couldn't find Bison")
+#ENDIF (NOT BISON_EXECUTABLE)
 
 #############################################################
 # search for dependencies
@@@@ -609,12 +609,6 @@@@ ELSE (WIN32)
   ELSE()
d9 1
a9 1
-
d15 1
a15 1
 
d18 1
@


1.10
log
@Update to QGIS 2.10.1.

See https://github.com/qgis/QGIS/blob/master/NEWS for ...news...
@
text
@d1 1
a1 1
$OpenBSD: patch-CMakeLists_txt,v 1.9 2015/03/16 20:06:33 landry Exp $
d5 2
a6 2
--- CMakeLists.txt.orig	Fri Jun 26 14:38:57 2015
+++ CMakeLists.txt	Mon Jun 29 22:09:08 2015
d26 1
a26 1
@@@@ -596,12 +596,6 @@@@ ELSE (WIN32)
@


1.9
log
@Update to QGIS 2.8.1.

See http://www2.qgis.org/en/site/forusers/visualchangelog28/
@
text
@d1 1
a1 1
$OpenBSD: patch-CMakeLists_txt,v 1.8 2014/11/10 16:05:17 landry Exp $
d5 3
a7 3
--- CMakeLists.txt.orig	Thu Feb 26 10:12:00 2015
+++ CMakeLists.txt	Tue Mar  3 10:15:34 2015
@@@@ -147,13 +147,13 @@@@ IF (NOT FLEX_EXECUTABLE)
d26 5
a30 4
@@@@ -556,12 +556,6 @@@@ IF (WIN32)
   SET(DLLIMPORT "__declspec(dllimport)")
   SET(DLLEXPORT "__declspec(dllexport)")
 ELSE (WIN32)
d36 1
a36 3
-
   SET(DLLIMPORT "")
   SET(DLLEXPORT "")
d38 1
@


1.8
log
@Update to qgis 2.6.0 'Brighton'.

See https://www.qgis.org/en/site/forusers/visualchangelog260/index.html
Use devel/gflex instead of base flex which doesnt seem to handle
%option reentrant, used since
https://github.com/qgis/QGIS/commit/2427546d8850c7f0b2ca191b238a77c49f648510
commit parser files generated locally with bison 2.6.2.
@
text
@d1 1
a1 1
$OpenBSD: patch-CMakeLists_txt,v 1.7 2014/08/20 08:54:45 landry Exp $
d5 3
a7 3
--- CMakeLists.txt.orig	Fri Oct 31 15:17:19 2014
+++ CMakeLists.txt	Fri Nov  7 14:32:50 2014
@@@@ -141,13 +141,13 @@@@ IF (NOT FLEX_EXECUTABLE)
d26 1
a26 1
@@@@ -489,12 +489,6 @@@@ IF (WIN32)
@


1.7
log
@Long awaited update to QGIS 2.4.0.

Since 1.8, QGIS requires bison > 2.4 at build time, but since noone
cares enough our bison is still stuck at 2.3. To workaround this,
add the parsers generated with a WIP bison 2.6.2 to files/, and comment
out the Cmake goo to call/detect bison.

Add patches from http://hub.qgis.org/issues/10762.

I've used QGIS 1.8, 2.0, 2.2 and 2.4 without issues since > 2 years.
@
text
@d1 1
a1 1
$OpenBSD$
d5 2
a6 2
--- CMakeLists.txt.orig	Fri Jun 27 14:00:08 2014
+++ CMakeLists.txt	Mon Aug 18 11:34:39 2014
d26 1
a26 1
@@@@ -496,12 +496,6 @@@@ IF (WIN32)
@


1.6
log
@Update to QuantumGIS 1.7.0, been using it for some weeks without issues.
Add a bunch of patches to install/access the doc in the correct dir.
see release notes for details :
http://www.qgis.org/en/component/content/article/127-qgis-1-7-release.html
With feedback from okan@@, thanks !
@
text
@d1 9
a9 5
$OpenBSD: patch-CMakeLists_txt,v 1.5 2010/12/08 09:07:48 landry Exp $
--- CMakeLists.txt.orig	Sat Nov 13 19:29:21 2010
+++ CMakeLists.txt	Mon Nov 29 17:31:37 2010
@@@@ -486,7 +486,7 @@@@ ENDIF (APPLE)
 # install stuff
d11 2
a12 3
 INSTALL (FILES AUTHORS CONTRIBUTORS SPONSORS DONORS TRANSLATORS INSTALL CODING
-         DESTINATION ${QGIS_DATA_DIR}/doc)
+         DESTINATION ${QGIS_DATA_DIR}/../doc/qgis)
d14 25
a38 2
 # manual page - makes sense only on unix systems
 IF (UNIX AND NOT APPLE)
@


1.5
log
@Update to QuantumGIS 1.6.0.
See http://blog.qgis.org/node/146 for details on this release.
@
text
@d1 1
a1 1
$OpenBSD: patch-CMakeLists_txt,v 1.4 2010/01/11 20:13:31 landry Exp $
@


1.4
log
@Update to Quantum GIS 1.4.0.
see http://blog.qgis.org/node/142 for details.
@
text
@d1 4
a4 4
$OpenBSD: patch-CMakeLists_txt,v 1.3 2009/10/29 19:59:38 landry Exp $
--- CMakeLists.txt.orig	Mon Dec 28 23:25:56 2009
+++ CMakeLists.txt	Mon Jan 11 16:39:31 2010
@@@@ -414,7 +414,7 @@@@ ENDIF (ENABLE_TESTS)
d12 1
a12 1
 IF (UNIX)
@


1.3
log
@Update to Quantum GIS 1.3.0.
@
text
@d1 4
a4 4
$OpenBSD: patch-CMakeLists_txt,v 1.2 2009/09/06 11:19:17 landry Exp $
--- CMakeLists.txt.orig	Sat Sep 12 01:12:25 2009
+++ CMakeLists.txt	Tue Oct 27 19:10:34 2009
@@@@ -396,7 +396,7 @@@@ ENDIF (ENABLE_TESTS)
@


1.2
log
@Update to Quantum GIS 1.2.0, see http://blog.qgis.org/node/137 for
details.
Use gettext module & modpy_lib_depends.
@
text
@d1 4
a4 4
$OpenBSD: patch-CMakeLists_txt,v 1.1.1.1 2009/06/01 23:14:58 landry Exp $
--- CMakeLists.txt.orig	Sat Aug 22 09:01:27 2009
+++ CMakeLists.txt	Thu Sep  3 20:20:38 2009
@@@@ -393,7 +393,7 @@@@ ENDIF (ENABLE_TESTS)
d7 1
a7 1
 INSTALL (FILES AUTHORS SPONSORS DONORS TRANSLATORS INSTALL CODING
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- CMakeLists.txt.orig	Mon Jun  1 15:52:51 2009
+++ CMakeLists.txt	Mon Jun  1 15:53:29 2009
@@@@ -365,7 +365,7 @@@@ ENDIF (ENABLE_TESTS)
d7 1
a7 1
 INSTALL (FILES AUTHORS SPONSORS INSTALL CODING
@


1.1.1.1
log
@Import Quantum GIS 1.0.2:
QGIS aims to be an easy to use GIS, providing common functions and
features. The initial goal was to provide a GIS data viewer, but now
it also permits to edit, create and analyze lots of spatial datas.
QGIS supports a number of raster and vector data formats, with new
support easily added using the plugin architecture.

with some tweaks by and ok ajacoutot@@
@
text
@@
