head	1.9;
access;
symbols
	OPENBSD_6_0:1.8.0.2
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.1.0.14
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.12
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.10
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.8
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.6
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.4
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2016.08.08.17.45.40;	author landry;	state Exp;
branches;
next	1.8;
commitid	kgtur4oqjelyjxc4;

1.8
date	2016.03.02.14.39.10;	author landry;	state Exp;
branches;
next	1.7;
commitid	awC2u2jrEcQN8OHM;

1.7
date	2015.12.07.13.11.41;	author landry;	state Exp;
branches;
next	1.6;
commitid	k41EIhEgC9ahygTJ;

1.6
date	2015.10.31.15.29.44;	author landry;	state Exp;
branches;
next	1.5;
commitid	55lUL9SpLjszeDFA;

1.5
date	2015.07.21.10.06.14;	author landry;	state Exp;
branches;
next	1.4;
commitid	a3MaLha3xPZ70OiS;

1.4
date	2015.03.16.20.06.33;	author landry;	state Exp;
branches;
next	1.3;
commitid	SvyS159T3egvlXcm;

1.3
date	2014.11.10.16.05.17;	author landry;	state Exp;
branches;
next	1.2;
commitid	KLYTJIVzgCdqoELJ;

1.2
date	2014.08.20.08.54.45;	author landry;	state Exp;
branches;
next	1.1;
commitid	B1F8DMuRyMhTh3L0;

1.1
date	2011.07.07.20.34.27;	author landry;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Update to QGIS 2.16.1.

See http://changelog.qgis.org/en/qgis/version/2.16.0/.

Add two patches reverting selected chunks of upstream commits leading to
segfaults in python/sip initializations, until if figure out what's
wrong in upstream ticket #15347, hopefully at g2k16. With those two
commits reverted, it runs fine...
@
text
@$OpenBSD: patch-src_core_qgsapplication_cpp,v 1.8 2016/03/02 14:39:10 landry Exp $
Fix paths to various doc files, installed in share/doc/qgis
per doc/CMakeLists.txt patch
--- src/core/qgsapplication.cpp.orig	Fri Jul  8 14:11:47 2016
+++ src/core/qgsapplication.cpp	Sat Jul 23 12:51:17 2016
@@@@ -554,18 +554,18 @@@@ QHash<QString, QString> QgsApplication::uiThemes()
 */
 QString QgsApplication::authorsFilePath()
 {
-  return ABISYM( mPkgDataPath ) + QLatin1String( "/doc/AUTHORS" );
+  return ABISYM( mPkgDataPath ) + QLatin1String( "/../doc/qgis/AUTHORS" );
 }
 /*!
   Returns the path to the contributors file.
 */
 QString QgsApplication::contributorsFilePath()
 {
-  return ABISYM( mPkgDataPath ) + QLatin1String( "/doc/CONTRIBUTORS" );
+  return ABISYM( mPkgDataPath ) + QLatin1String( "/../doc/qgis/CONTRIBUTORS" );
 }
 QString QgsApplication::developersMapFilePath()
 {
-  return ABISYM( mPkgDataPath ) + QLatin1String( "/doc/developersmap.html" );
+  return ABISYM( mPkgDataPath ) + QLatin1String( "/../doc/qgis/developersmap.html" );
 }
 
 /*!
@@@@ -573,7 +573,7 @@@@ QString QgsApplication::developersMapFilePath()
 */
 QString QgsApplication::sponsorsFilePath()
 {
-  return ABISYM( mPkgDataPath ) + QLatin1String( "/doc/SPONSORS" );
+  return ABISYM( mPkgDataPath ) + QLatin1String( "/../doc/qgis/SPONSORS" );
 }
 
 /*!
@@@@ -581,19 +581,19 @@@@ QString QgsApplication::sponsorsFilePath()
 */
 QString QgsApplication::donorsFilePath()
 {
-  return ABISYM( mPkgDataPath ) + QLatin1String( "/doc/DONORS" );
+  return ABISYM( mPkgDataPath ) + QLatin1String( "/../doc/qgis/DONORS" );
 }
 
 /** Returns the path to the sponsors file. */
 QString QgsApplication::translatorsFilePath()
 {
-  return ABISYM( mPkgDataPath ) + QLatin1String( "/doc/TRANSLATORS" );
+  return ABISYM( mPkgDataPath ) + QLatin1String( "/../doc/qgis/TRANSLATORS" );
 }
 
 /** Returns the path to the licence file. */
 QString QgsApplication::licenceFilePath()
 {
-  return ABISYM( mPkgDataPath ) + QLatin1String( "/doc/LICENSE" );
+  return ABISYM( mPkgDataPath ) + QLatin1String( "/../doc/qgis/LICENSE" );
 }
 
 /*!
@


1.8
log
@Update to QGIS 2.14.

See http://changelog.qgis.org/en/qgis/version/2.14.0/ for changes.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_core_qgsapplication_cpp,v 1.7 2015/12/07 13:11:41 landry Exp $
d4 3
a6 3
--- src/core/qgsapplication.cpp.orig	Fri Feb 26 13:23:48 2016
+++ src/core/qgsapplication.cpp	Tue Mar  1 13:51:41 2016
@@@@ -544,18 +544,18 @@@@ QHash<QString, QString> QgsApplication::uiThemes()
d28 1
a28 1
@@@@ -563,7 +563,7 @@@@ QString QgsApplication::developersMapFilePath()
d37 1
a37 1
@@@@ -571,19 +571,19 @@@@ QString QgsApplication::sponsorsFilePath()
@


1.7
log
@Bugfix update to QGIS 2.12.1. Fix paths in patch while here.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_core_qgsapplication_cpp,v 1.6 2015/10/31 15:29:44 landry Exp $
d4 3
a6 3
--- src/core/qgsapplication.cpp.orig	Fri Oct 23 14:10:38 2015
+++ src/core/qgsapplication.cpp	Fri Oct 30 15:48:30 2015
@@@@ -528,18 +528,18 @@@@ QHash<QString, QString> QgsApplication::uiThemes()
d28 1
a28 1
@@@@ -547,7 +547,7 @@@@ QString QgsApplication::developersMapFilePath()
d37 1
a37 1
@@@@ -555,19 +555,19 @@@@ QString QgsApplication::sponsorsFilePath()
@


1.6
log
@Upgrade to QGIS 2.12.

- See https://www.qgis.org/en/site/forusers/visualchangelog212/ for the
changes.
- Regenerate qgisrastercalcparser.{h,c}pp with out-of-ports bison 2.6
- Now uses qca2 & qca-ossl for https handling
- Remove now useless patches
@
text
@d1 1
a1 1
$OpenBSD: patch-src_core_qgsapplication_cpp,v 1.5 2015/07/21 10:06:14 landry Exp $
d11 1
a11 1
+  return ABISYM( mPkgDataPath ) + QLatin1String( "../doc/qgis/AUTHORS" );
d19 1
a19 1
+  return ABISYM( mPkgDataPath ) + QLatin1String( "../doc/qgis/CONTRIBUTORS" );
d24 1
a24 1
+  return ABISYM( mPkgDataPath ) + QLatin1String( "../doc/qgis/developersmap.html" );
d33 1
a33 1
+  return ABISYM( mPkgDataPath ) + QLatin1String( "../doc/qgis/SPONSORS" );
d42 1
a42 1
+  return ABISYM( mPkgDataPath ) + QLatin1String( "../doc/qgis/DONORS" );
d49 1
a49 1
+  return ABISYM( mPkgDataPath ) + QLatin1String( "../doc/qgis/TRANSLATORS" );
d56 1
a56 1
+  return ABISYM( mPkgDataPath ) + QLatin1String( "../doc/qgis/LICENSE" );
@


1.5
log
@Update to QGIS 2.10.1.

See https://github.com/qgis/QGIS/blob/master/NEWS for ...news...
@
text
@d1 1
a1 1
$OpenBSD: patch-src_core_qgsapplication_cpp,v 1.4 2015/03/16 20:06:33 landry Exp $
d4 3
a6 3
--- src/core/qgsapplication.cpp.orig	Fri Jun 26 14:38:57 2015
+++ src/core/qgsapplication.cpp	Mon Jun 29 22:08:17 2015
@@@@ -434,25 +434,25 @@@@ const QString QgsApplication::themeName()
d8 1
a8 1
 const QString QgsApplication::authorsFilePath()
d10 2
a11 2
-  return ABISYM( mPkgDataPath ) + QString( "/doc/AUTHORS" );
+  return ABISYM( mPkgDataPath ) + QString( "/../doc/qgis/AUTHORS" );
d16 1
a16 1
 const QString QgsApplication::contributorsFilePath()
d18 2
a19 2
-  return ABISYM( mPkgDataPath ) + QString( "/doc/CONTRIBUTORS" );
+  return ABISYM( mPkgDataPath ) + QString( "/../doc/qgis/CONTRIBUTORS" );
d21 1
a21 1
 const QString QgsApplication::developersMapFilePath()
d23 2
a24 2
-  return ABISYM( mPkgDataPath ) + QString( "/doc/developersmap.html" );
+  return ABISYM( mPkgDataPath ) + QString( "/../doc/qgis/developersmap.html" );
d26 1
d28 1
a28 1
   Returns the path to the sponsors file.
d30 1
a30 1
 const QString QgsApplication::sponsorsFilePath()
d32 2
a33 2
-  return ABISYM( mPkgDataPath ) + QString( "/doc/SPONSORS" );
+  return ABISYM( mPkgDataPath ) + QString( "/../doc/qgis/SPONSORS" );
d37 1
a37 1
@@@@ -460,19 +460,19 @@@@ const QString QgsApplication::sponsorsFilePath()
d39 1
a39 1
 const QString QgsApplication::donorsFilePath()
d41 2
a42 2
-  return ABISYM( mPkgDataPath ) + QString( "/doc/DONORS" );
+  return ABISYM( mPkgDataPath ) + QString( "/../doc/qgis/DONORS" );
d46 1
a46 1
 const QString QgsApplication::translatorsFilePath()
d48 2
a49 2
-  return ABISYM( mPkgDataPath ) + QString( "/doc/TRANSLATORS" );
+  return ABISYM( mPkgDataPath ) + QString( "/../doc/qgis/TRANSLATORS" );
d53 1
a53 1
 const QString QgsApplication::licenceFilePath()
d55 2
a56 2
-  return ABISYM( mPkgDataPath ) + QString( "/doc/LICENSE" );
+  return ABISYM( mPkgDataPath ) + QString( "/../doc/qgis/LICENSE" );
@


1.4
log
@Update to QGIS 2.8.1.

See http://www2.qgis.org/en/site/forusers/visualchangelog28/
@
text
@d1 1
a1 1
$OpenBSD: patch-src_core_qgsapplication_cpp,v 1.3 2014/11/10 16:05:17 landry Exp $
d4 3
a6 3
--- src/core/qgsapplication.cpp.orig	Thu Feb 26 10:12:00 2015
+++ src/core/qgsapplication.cpp	Tue Mar  3 10:18:12 2015
@@@@ -433,25 +433,25 @@@@ const QString QgsApplication::themeName()
d36 1
a36 1
@@@@ -459,19 +459,19 @@@@ const QString QgsApplication::sponsorsFilePath()
@


1.3
log
@Update to qgis 2.6.0 'Brighton'.

See https://www.qgis.org/en/site/forusers/visualchangelog260/index.html
Use devel/gflex instead of base flex which doesnt seem to handle
%option reentrant, used since
https://github.com/qgis/QGIS/commit/2427546d8850c7f0b2ca191b238a77c49f648510
commit parser files generated locally with bison 2.6.2.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_core_qgsapplication_cpp,v 1.2 2014/08/20 08:54:45 landry Exp $
d4 3
a6 3
--- src/core/qgsapplication.cpp.orig	Fri Oct 31 15:17:19 2014
+++ src/core/qgsapplication.cpp	Fri Nov  7 14:32:50 2014
@@@@ -421,21 +421,21 @@@@ const QString QgsApplication::themeName()
d21 5
d36 1
a36 1
@@@@ -443,19 +443,19 @@@@ const QString QgsApplication::sponsorsFilePath()
@


1.2
log
@Long awaited update to QGIS 2.4.0.

Since 1.8, QGIS requires bison > 2.4 at build time, but since noone
cares enough our bison is still stuck at 2.3. To workaround this,
add the parsers generated with a WIP bison 2.6.2 to files/, and comment
out the Cmake goo to call/detect bison.

Add patches from http://hub.qgis.org/issues/10762.

I've used QGIS 1.8, 2.0, 2.2 and 2.4 without issues since > 2 years.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_core_qgsapplication_cpp,v 1.1 2011/07/07 20:34:27 landry Exp $
d4 2
a5 2
--- src/core/qgsapplication.cpp.orig	Fri Jun 27 14:00:08 2014
+++ src/core/qgsapplication.cpp	Mon Aug 18 17:26:32 2014
d31 1
a31 1
@@@@ -443,7 +443,7 @@@@ const QString QgsApplication::sponsorsFilePath()
d39 1
a39 3
 /*!
@@@@ -452,7 +452,7 @@@@ const QString QgsApplication::donorsFilePath()
 */
d46 1
a46 3
 /*!
@@@@ -460,7 +460,7 @@@@ const QString QgsApplication::translatorsFilePath()
 */
@


1.1
log
@Update to QuantumGIS 1.7.0, been using it for some weeks without issues.
Add a bunch of patches to install/access the doc in the correct dir.
see release notes for details :
http://www.qgis.org/en/component/content/article/127-qgis-1-7-release.html
With feedback from okan@@, thanks !
@
text
@d1 1
a1 1
$OpenBSD$
d4 3
a6 3
--- src/core/qgsapplication.cpp.orig	Wed Jun 29 09:17:57 2011
+++ src/core/qgsapplication.cpp	Wed Jun 29 09:19:38 2011
@@@@ -245,21 +245,21 @@@@ const QString QgsApplication::themeName()
d10 2
a11 2
-  return mPkgDataPath + QString( "/doc/AUTHORS" );
+  return mPkgDataPath + QString( "../doc/qgis/AUTHORS" );
d18 2
a19 2
-  return mPkgDataPath + QString( "/doc/CONTRIBUTORS" );
+  return mPkgDataPath + QString( "../doc/qgis/CONTRIBUTORS" );
d26 2
a27 2
-  return mPkgDataPath + QString( "/doc/SPONSORS" );
+  return mPkgDataPath + QString( "../doc/qgis/SPONSORS" );
d31 1
a31 1
@@@@ -267,7 +267,7 @@@@ const QString QgsApplication::sponsorsFilePath()
d35 2
a36 2
-  return mPkgDataPath + QString( "/doc/DONORS" );
+  return mPkgDataPath + QString( "../doc/qgis/DONORS" );
d40 1
a40 1
@@@@ -276,7 +276,7 @@@@ const QString QgsApplication::donorsFilePath()
d44 2
a45 2
-  return mPkgDataPath + QString( "/doc/TRANSLATORS" );
+  return mPkgDataPath + QString( "../doc/qgis/TRANSLATORS" );
d47 10
a57 1
   Returns the path to the developer image directory.
@

