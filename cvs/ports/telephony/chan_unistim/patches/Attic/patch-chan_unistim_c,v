head	1.3;
access;
symbols
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.1.1.1.0.6
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.4
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.2
	OPENBSD_4_3_BASE:1.1.1.1
	ian_2007-Sep-14:1.1.1.1
	ian:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2009.12.13.12.27.00;	author sthen;	state dead;
branches;
next	1.2;

1.2
date	2009.04.07.23.19.20;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2007.09.14.13.24.42;	author ian;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.09.14.13.24.42;	author ian;	state Exp;
branches;
next	;


desc
@@


1.3
log
@put chan_unistim and app_conference into the Attic
@
text
@$OpenBSD: patch-chan_unistim_c,v 1.2 2009/04/07 23:19:20 sthen Exp $
--- chan_unistim.c.orig	Tue Oct  7 16:52:37 2008
+++ chan_unistim.c	Wed Apr  8 00:16:02 2009
@@@@ -31,6 +31,8 @@@@
 #include <unistd.h>
 #include <sys/socket.h>
 #include <sys/ioctl.h>
+#include <sys/stat.h>
+#include <sys/uio.h>
 #include <net/if.h>
 #include <errno.h>
 #include <stdlib.h>
@@@@ -74,7 +76,7 @@@@
 
 /* IP_PKTINFO is not portable. It's used to retrieve our IP.
    Comment the next line if your running *BSD */
-#define HAVE_PKTINFO 1
+/* #define HAVE_PKTINFO 1 */
 
 /* Beware, G729 and G723 are not supported by asterisk, except with the proper licence */
 #define CAPABILITY AST_FORMAT_ALAW | AST_FORMAT_ULAW    /* | AST_FORMAT_G729A | AST_FORMAT_G723_1 */
@@@@ -388,7 +390,7 @@@@ static struct unistim_device {
         char datetimeformat;            /* format used for displaying time/date */
         char contrast;                          /* contrast */
         char country[3];                        /* country used for dial tone frequency */
-        struct ind_tone_zone *tz;           /* Tone zone used by res_indications for ring, busy, congestion */
+        struct tone_zone *tz;           /* Tone zone used by res_indications for ring, busy, congestion */
         char ringvolume;                        /* Ring volume */
         char ringstyle;                         /* Ring melody */
         int rtp_port;                           /* RTP port used by the phone */
@@@@ -4042,10 +4044,10 @@@@ static char *control2str(int ind)
 }
 
 static void
-in_band_indication(struct ast_channel *ast, const struct ind_tone_zone *tz,
+in_band_indication(struct ast_channel *ast, const struct tone_zone *tz,
                                    const char *indication)
 {
-        const struct ind_tone_zone_sound *ts = NULL;
+        const struct tone_zone_sound *ts = NULL;
 
         ts = ast_get_indication_tone(tz, indication);
         if (ts && ts->data[0])
@


1.2
log
@chase Asterisk commit r168561, "Revert unnecessary indications API change
from rev 122314". fixes build failure reported by naddy following Asterisk
update, *sigh*...
@
text
@d1 1
a1 1
$OpenBSD: patch-chan_unistim_c,v 1.1.1.1 2007/09/14 13:24:42 ian Exp $
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- chan_unistim.c.orig	Sun May 13 14:52:20 2007
+++ chan_unistim.c	Tue Jul  3 14:07:28 2007
d22 22
@


1.1.1.1
log
@chan_unistim is an Asterisk channel driver for the Nortel proprietary
Unistim protocol, used by at least the following Nortel phones:
Nortel i2002, i2004 and i2050.

tested and comments sthen@@, tested and OK krw.
@
text
@@
