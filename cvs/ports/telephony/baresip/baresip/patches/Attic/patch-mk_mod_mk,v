head	1.5;
access;
symbols
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	sthen_20140925:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2016.01.12.09.22.07;	author czarkoff;	state dead;
branches;
next	1.4;
commitid	MRfsOYO2QD4nnfOW;

1.4
date	2015.10.02.19.01.24;	author czarkoff;	state Exp;
branches;
next	1.3;
commitid	at9mDnJ7YoTqzuxJ;

1.3
date	2015.05.17.21.19.23;	author czarkoff;	state Exp;
branches;
next	1.2;
commitid	WMHYJJgWEBxCCUB1;

1.2
date	2014.12.29.20.40.27;	author jca;	state Exp;
branches;
next	1.1;
commitid	lIUPuvNyv8BVlHix;

1.1
date	2014.09.25.19.32.37;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;
commitid	CSoaIyiD3X8GgoI8;

1.1.1.1
date	2014.09.25.19.32.37;	author sthen;	state Exp;
branches;
next	;
commitid	CSoaIyiD3X8GgoI8;


desc
@@


1.5
log
@update to re-0.4.14 rem-0.4.7 baresip-0.4.16

OK feinerer@@, sthen@@
@
text
@$OpenBSD: patch-mk_mod_mk,v 1.4 2015/10/02 19:01:24 czarkoff Exp $
--- mk/mod.mk.orig	Sat Sep 26 20:15:57 2015
+++ mk/mod.mk	Sun Sep 27 10:44:40 2015
@@@@ -32,35 +32,30 @@@@ ifeq ($(STATIC),)
 #
 
 $(MOD)$(MOD_SUFFIX): $($(MOD)_OBJS)
-	@@echo "  LD [M]  $@@"
-	@@$(LD) $(LFLAGS) $(SH_LFLAGS) $(MOD_LFLAGS) $($(basename $@@)_OBJS) \
+	$(LD) $(LFLAGS) $(SH_LFLAGS) $(MOD_LFLAGS) $($(basename $@@)_OBJS) \
 		$($(basename $@@)_LFLAGS) -L$(LIBRE_SO) -lre -o $@@
 
 $(BUILD)/modules/$(MOD)/%.o: modules/$(MOD)/%.c $(BUILD) Makefile mk/mod.mk \
 				modules/$(MOD)/module.mk mk/modules.mk
-	@@echo "  CC [M]  $@@"
-	@@mkdir -p $(dir $@@)
-	@@$(CC) $(CFLAGS) $($(call modulename,$@@)_CFLAGS) -c $< -o $@@ $(DFLAGS)
+	mkdir -p $(dir $@@)
+	$(CC) $(CFLAGS) $($(call modulename,$@@)_CFLAGS) -c $< -o $@@ $(DFLAGS)
 
 $(BUILD)/modules/$(MOD)/%.o: modules/$(MOD)/%.m $(BUILD) Makefile mk/mod.mk \
 				modules/$(MOD)/module.mk mk/modules.mk
-	@@echo "  OC [M]  $@@"
-	@@mkdir -p $(dir $@@)
-	@@$(CC) $(CFLAGS) $($(call modulename,$@@)_CFLAGS) $(OBJCFLAGS) \
+	mkdir -p $(dir $@@)
+	$(CC) $(CFLAGS) $($(call modulename,$@@)_CFLAGS) $(OBJCFLAGS) \
 		-c $< -o $@@ $(DFLAGS)
 
 $(BUILD)/modules/$(MOD)/%.o: modules/$(MOD)/%.cpp $(BUILD) Makefile mk/mod.mk \
 				modules/$(MOD)/module.mk mk/modules.mk
-	@@echo "  CXX [M] $@@"
-	@@mkdir -p $(dir $@@)
-	@@$(CXX) $(CXXFLAGS) $($(call modulename,$@@)_CXXFLAGS) \
+	mkdir -p $(dir $@@)
+	$(CXX) $(CXXFLAGS) $($(call modulename,$@@)_CXXFLAGS) \
 		-c $< -o $@@ $(DFLAGS)
 
 $(BUILD)/modules/$(MOD)/%.o: modules/$(MOD)/%.S $(BUILD) Makefile mk/mod.mk \
 				modules/$(MOD)/module.mk mk/modules.mk
-	@@echo "  AS [M]  $@@"
-	@@mkdir -p $(dir $@@)
-	@@$(CC) $(CFLAGS) -DMOD_NAME=\"$(MOD)\" -c $< -o $@@ $(DFLAGS)
+	mkdir -p $(dir $@@)
+	$(CC) $(CFLAGS) -DMOD_NAME=\"$(MOD)\" -c $< -o $@@ $(DFLAGS)
 
 else
 
@@@@ -74,30 +69,26 @@@@ MOD_LFLAGS      := $(MOD_LFLAGS) $($(MOD)_LFLAGS)
 
 $(BUILD)/modules/$(MOD)/%.o: modules/$(MOD)/%.c $(BUILD) Makefile mk/mod.mk \
 				modules/$(MOD)/module.mk mk/modules.mk
-	@@echo "  CC [m]  $@@"
-	@@mkdir -p $(dir $@@)
-	@@$(CC) $(CFLAGS) $($(call modulename,$@@)_CFLAGS) \
+	mkdir -p $(dir $@@)
+	$(CC) $(CFLAGS) $($(call modulename,$@@)_CFLAGS) \
 		-DMOD_NAME=\"$(MOD)\" -c $< -o $@@ $(DFLAGS)
 
 $(BUILD)/modules/$(MOD)/%.o: modules/$(MOD)/%.m $(BUILD) Makefile mk/mod.mk \
 				modules/$(MOD)/module.mk mk/modules.mk
-	@@echo "  OC [m]  $@@"
-	@@mkdir -p $(dir $@@)
-	@@$(CC) $(CFLAGS) $($(call modulename,$@@)_CFLAGS) $(OBJCFLAGS) \
+	mkdir -p $(dir $@@)
+	$(CC) $(CFLAGS) $($(call modulename,$@@)_CFLAGS) $(OBJCFLAGS) \
 		-DMOD_NAME=\"$(MOD)\" -c $< -o $@@ $(DFLAGS)
 
 
 $(BUILD)/modules/$(MOD)/%.o: modules/$(MOD)/%.cpp $(BUILD) Makefile mk/mod.mk \
 				modules/$(MOD)/module.mk mk/modules.mk
-	@@echo "  CXX [m] $@@"
-	@@mkdir -p $(dir $@@)
-	@@$(CXX) $(CXXFLAGS) $($(call modulename,$@@)_CXXFLAGS) \
+	mkdir -p $(dir $@@)
+	$(CXX) $(CXXFLAGS) $($(call modulename,$@@)_CXXFLAGS) \
 		-DMOD_NAME=\"$(MOD)\" -c $< -o $@@ $(DFLAGS)
 
 $(BUILD)/modules/$(MOD)/%.o: modules/$(MOD)/%.S $(BUILD) Makefile mk/mod.mk \
 				modules/$(MOD)/module.mk mk/modules.mk
-	@@echo "  AS [m]  $@@"
-	@@mkdir -p $(dir $@@)
-	@@$(CC) $(CFLAGS) -DMOD_NAME=\"$(MOD)\" -c $< -o $@@ $(DFLAGS)
+	mkdir -p $(dir $@@)
+	$(CC) $(CFLAGS) -DMOD_NAME=\"$(MOD)\" -c $< -o $@@ $(DFLAGS)
 
 endif
@


1.4
log
@update to baresip 0.4.15

 - GUI
 - bugfixes
 - experimental daala support
 - GTK-dependent modules isolated in -gtk2 subpackage
 - default config now only mentions modules that are packaged

OK feinerer@@, sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-mk_mod_mk,v 1.3 2015/05/17 21:19:23 czarkoff Exp $
@


1.3
log
@Fix linker flags for "zrtp" module

While at it, fix a patch that changed during last update

OK sthen@@, "go for it" espie@@
@
text
@d1 4
a4 4
$OpenBSD: patch-mk_mod_mk,v 1.2 2014/12/29 20:40:27 jca Exp $
--- mk/mod.mk.orig	Wed Dec 24 14:19:04 2014
+++ mk/mod.mk	Sat May 16 19:32:01 2015
@@@@ -26,33 +26,28 @@@@ ifeq ($(STATIC),)
d17 1
a17 1
-	@@$(CC) $(CFLAGS) -c $< -o $@@ $(DFLAGS)
d19 1
a19 1
+	$(CC) $(CFLAGS) -c $< -o $@@ $(DFLAGS)
d25 1
a25 1
-	@@$(CC) $(CFLAGS) $(OBJCFLAGS) -c $< -o $@@ $(DFLAGS)
d27 2
a28 1
+	$(CC) $(CFLAGS) $(OBJCFLAGS) -c $< -o $@@ $(DFLAGS)
d34 1
a34 1
-	@@$(CXX) $(CXXFLAGS) -c $< -o $@@ $(DFLAGS)
d36 2
a37 1
+	$(CXX) $(CXXFLAGS) -c $< -o $@@ $(DFLAGS)
d49 1
a49 1
@@@@ -66,28 +61,24 @@@@ MOD_LFLAGS      := $(MOD_LFLAGS) $($(MOD)_LFLAGS)
d55 1
a55 1
-	@@$(CC) $(CFLAGS) -DMOD_NAME=\"$(MOD)\" -c $< -o $@@ $(DFLAGS)
d57 2
a58 1
+	$(CC) $(CFLAGS) -DMOD_NAME=\"$(MOD)\" -c $< -o $@@ $(DFLAGS)
d64 1
a64 1
-	@@$(CC) $(CFLAGS) $(OBJCFLAGS) -DMOD_NAME=\"$(MOD)\" -c $< -o $@@ \
d66 2
a67 2
+	$(CC) $(CFLAGS) $(OBJCFLAGS) -DMOD_NAME=\"$(MOD)\" -c $< -o $@@ \
 		$(DFLAGS)
d74 1
a74 1
-	@@$(CXX) $(CXXFLAGS) -DMOD_NAME=\"$(MOD)\" -c $< -o $@@ $(DFLAGS)
d76 2
a77 1
+	$(CXX) $(CXXFLAGS) -DMOD_NAME=\"$(MOD)\" -c $< -o $@@ $(DFLAGS)
@


1.2
log
@Update to baresip-0.4.12, removing patches and libuuid dep.

From Dmitrij D. Czarkoff.
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ mk/mod.mk	Fri Dec 26 22:51:37 2014
a9 1
-		$($(basename $@@)_LFLAGS) -L$(LIBRE_SO) -lre -o $@@
d11 1
a11 1
+		$($(basename $@@)_LFLAGS) -L$(LIBRE_SO) -lre -o $@@
@


1.1
log
@Initial revision
@
text
@d2 2
a3 2
--- mk/mod.mk.orig	Thu Sep 25 10:53:31 2014
+++ mk/mod.mk	Thu Sep 25 10:53:47 2014
d10 1
d12 1
a12 1
 		$($(basename $@@)_LFLAGS) -L$(LIBRE_SO) -lre -o $@@
d17 1
a17 1
 	@@mkdir -p $(dir $@@)
d19 1
d25 1
a25 1
 	@@mkdir -p $(dir $@@)
d27 1
d33 1
a33 1
 	@@mkdir -p $(dir $@@)
d35 1
d41 1
a41 1
 	@@mkdir -p $(dir $@@)
d43 1
d53 1
a53 1
 	@@mkdir -p $(dir $@@)
d55 1
d61 1
a61 1
 	@@mkdir -p $(dir $@@)
d63 1
d71 1
a71 1
 	@@mkdir -p $(dir $@@)
d73 1
d79 1
a79 1
 	@@mkdir -p $(dir $@@)
d81 1
@


1.1.1.1
log
@Import ports/telephony/baresip, a portable and modular SIP voice/video client.
From maintainer Dmitrij D. Czarkoff, tweak/ok landry@@
@
text
@@
