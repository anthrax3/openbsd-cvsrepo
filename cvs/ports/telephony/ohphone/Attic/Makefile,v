head	1.8;
access;
symbols
	OPENBSD_4_5:1.7.0.2
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.2.0.4
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	ajacoutot_20070427:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2009.06.07.10.09.40;	author ajacoutot;	state dead;
branches;
next	1.7;

1.7
date	2009.01.17.14.14.14;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.09.08.17.17.10;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.06.04.13.05.13;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.05.22.19.29.50;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.03.15.17.40.38;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2007.08.02.14.39.09;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2007.04.27.13.36.09;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.04.27.13.36.09;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Remove ohphone.
It is completely unmaintained, barely working and prevent from updating the
whole VoIP gang (ptlib, h323plus, opal, gnugk, ekiga) which I'm working on.
@
text
@# $OpenBSD: Makefile,v 1.7 2009/01/17 14:14:14 ajacoutot Exp $

SHARED_ONLY=	Yes

COMMENT=	H.323 IP telephony endpoint

DISTNAME=	ohphone-1.4.5
PKGNAME=	${DISTNAME}p2v0
CATEGORIES=	telephony net

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# MPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	http://www.bsdfrog.org/OpenBSD/distfiles/

WANTLIB=	SDL X11 Xext avutil c crypto expat lber ldap ldap_r m \
		pt pthread sasl2 ssl stdc++

LIB_DEPENDS=	h323.>=2::net/openh323

USE_X11=	Yes
USE_GMAKE=	Yes
ALL_TARGET=	optshared
NO_REGRESS=	Yes

MAKE_ENV+=	CC=${CC} CPLUS=${CXX} \
		OPENH323DIR=${LOCALBASE}/share/openh323/ \
		PWLIBDIR=`ptlib-config --pwlibdir` \
		SYSLIBDIR=`ptlib-config --libdir` \
		STDCCFLAGS="-I${LOCALBASE}/include/openh323"

post-install:
	${INSTALL_MAN_DIR} ${PREFIX}/man/man1/
	${INSTALL_MAN} ${WRKSRC}/ohphone.1 ${PREFIX}/man/man1/
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/ohphone
.for i in ReadMe.txt check_listen.awk regtest stresstest
	${INSTALL_DATA} ${WRKSRC}/${i} ${PREFIX}/share/doc/ohphone
.endfor

.include <bsd.port.mk>
@


1.7
log
@- sync WANTLIB+PLIST after latest pwlib changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/09/08 17:17:10 ajacoutot Exp $
@


1.6
log
@- sanitize STDCCFLAGS/CFLAGS
- add -fPIC unconditionally (requested by naddy@@) by adding it to
unix.mak (in pwlib) which get sourced by the other ports

feedback from and ok naddy@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/06/04 13:05:13 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1v0
d22 1
a22 1
		ossaudio pt pthread sasl2 ssl stdc++
@


1.5
log
@- fix PKGNAME

"looks good" espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/05/22 19:29:50 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0v0
d35 1
a35 1
		STDCCFLAGS="${STDCCFLAGS} -I${LOCALBASE}/include/openh323"
@


1.4
log
@- fix WANTLIB after pwlib FLAVORs merge
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/03/15 17:40:38 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}v0p0
@


1.3
log
@- upgrade from 1.4.14 to 1.4.5v0 (!)
- make it compile with new pwlib
- add some documentation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/08/02 14:39:09 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}v0
d21 2
a22 2
WANTLIB=	X11 Xext avutil c crypto expat m ossaudio pt pthread \
		ssl stdc++
@


1.2
log
@- zap unneeded variable
- remove quotes from COMMENT while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/04/27 13:36:09 ajacoutot Exp $
d7 2
a8 2
DISTNAME=	ohphone-v1_14_4
PKGNAME=	ohphone-1.14.4
a10 4
EXTRACT_SUFX=	-src-tar.gz

HOMEPAGE=	http://www.voxgratia.org/

d19 1
a19 1
MASTER_SITES=	${HOMEPAGE}/releases/
d24 1
a24 3
LIB_DEPENDS=	h323.>=1::net/openh323

WRKDIST=	${WRKDIR}/${DISTNAME:S/-/_/}
d33 1
a33 1
		PWLIBDIR=${LOCALBASE}/share/pwlib/ \
a34 1
		PTLIB_FILE=libpt.`ptlib-config --sharedlibext`.`ptlib-config --version` \
a36 3
do-extract:
	@@tar xzf ${FULLDISTDIR}/${DISTNAME}${EXTRACT_SUFX} -C ${WRKDIR}

d40 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
COMMENT=	"H.323 IP telephony endpoint"
a38 1
		OH323_LIBDIR=${LOCALBASE}/lib \
@


1.1.1.1
log
@Import ohphone-1.14.4

Ohphone is a fully functional H.323 endpoint command line application
that can be used to listen for incoming H.323 calls, or to initiate a
call to a remote host.  It includes a simple menu that allows
interactive control of functions, as well as allowing control of most
dialing and answer functions via a phone handset.

ok kili@@
@
text
@@
