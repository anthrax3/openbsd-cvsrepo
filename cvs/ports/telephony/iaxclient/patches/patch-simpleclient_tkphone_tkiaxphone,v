head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.26
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.24
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.20
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.22
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.18
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.16
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.14
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.12
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.10
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.01.05.18.00.10;	author sebastia;	state Exp;
branches;
next	1.1;

1.1
date	2010.06.18.17.32.21;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to new Tcl layout.

OK landry@@ stu@@
@
text
@$OpenBSD: patch-simpleclient_tkphone_tkiaxphone,v 1.1 2010/06/18 17:32:21 sebastia Exp $
--- simpleclient/tkphone/tkiaxphone.orig	Mon Apr  7 18:05:28 2008
+++ simpleclient/tkphone/tkiaxphone	Sun Dec 12 13:17:17 2010
@@@@ -1,4 +1,4 @@@@
-#!/bin/bash
+#!/bin/sh
 # TK interface to iax client library command line interface.
 # Copyright 2004-2005 Sun Microsystems, by Stephen Uhler.
 # see License for license terms
@@@@ -49,11 +49,11 @@@@ if {$tcl_platform(platform) == "windows"} {
 }
 
 # uname -m -s seems to be the most x-plaform on unices
-if {$tcl_platform(platform) == "unix"} {
-   set ext -[exec uname -s]-[exec uname -m]
-   set platform(pref_format) ".%src"
-   append platform(cli_cmd) $ext
-}
+#if {$tcl_platform(platform) == "unix"} {
+#   set ext -[exec uname -s]-[exec uname -m]
+#   set platform(pref_format) ".%src"
+#   append platform(cli_cmd) $ext
+#}
 
 # verify sufficient tk version number (need spinbox)
 
@@@@ -86,7 +86,7 @@@@ proc real_path {file} {
     if {[info exists env(IAXPHONEHOME)]} {
 	set base $env(IAXPHONEHOME)
     } else {
-	set base [file dirname [file join [pwd] $argv0]]
+	set base "${LOCALBASE}/lib/tcl/tkphone"
     }
     set result [file join $base $file]
     debug "$result"
@


1.1
log
@Initial import of iaxclient 2.1beta3

A lightweight cross platform IP telephony client using
the IAX protocol, designed for use with the asterisk
open source PBX.

OK, landry@@ jasper@@
@
text
@d1 3
a3 3
$OpenBSD$
--- simpleclient/tkphone/tkiaxphone.orig	Mon Apr  7 17:05:28 2008
+++ simpleclient/tkphone/tkiaxphone	Wed Dec  9 23:54:06 2009
d32 1
a32 1
+	set base "${LOCALBASE}/lib/iaxclient/tkphone"
@

