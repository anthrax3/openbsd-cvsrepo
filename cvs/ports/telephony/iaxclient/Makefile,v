head	1.33;
access;
symbols
	OPENBSD_6_0:1.32.0.2
	OPENBSD_6_0_BASE:1.32
	OPENBSD_5_9:1.31.0.2
	OPENBSD_5_9_BASE:1.31
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.27.0.4
	OPENBSD_5_7_BASE:1.27
	OPENBSD_5_6:1.27.0.2
	OPENBSD_5_6_BASE:1.27
	OPENBSD_5_5:1.26.0.2
	OPENBSD_5_5_BASE:1.26
	OPENBSD_5_4:1.25.0.2
	OPENBSD_5_4_BASE:1.25
	OPENBSD_5_3:1.23.0.2
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.21.0.2
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.2
	OPENBSD_5_0:1.18.0.2
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2;
locks; strict;
comment	@# @;


1.33
date	2017.01.02.12.56.06;	author sebastia;	state Exp;
branches;
next	1.32;
commitid	u1qqS5EWpKXpugrV;

1.32
date	2016.04.04.16.09.10;	author naddy;	state Exp;
branches;
next	1.31;
commitid	u3lQjrjlcAL26lGp;

1.31
date	2015.07.18.23.59.54;	author jasper;	state Exp;
branches;
next	1.30;
commitid	7FCm91FDYEZhC3S4;

1.30
date	2015.05.18.18.04.24;	author sebastia;	state Exp;
branches;
next	1.29;
commitid	kp9H3DWDSULAETe8;

1.29
date	2015.04.28.06.35.06;	author ajacoutot;	state Exp;
branches;
next	1.28;
commitid	tr3XsOq5EJv6iti7;

1.28
date	2015.03.19.20.25.27;	author naddy;	state Exp;
branches;
next	1.27;
commitid	zN8twHQGaJf3YJpT;

1.27
date	2014.04.27.20.52.50;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2013.08.09.19.06.41;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.21.08.48.54;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2013.03.11.11.41.33;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2013.01.20.12.52.34;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	2012.08.23.17.42.27;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2012.04.30.09.48.21;	author sebastia;	state Exp;
branches;
next	1.20;

1.20
date	2011.11.02.08.32.17;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2011.09.16.11.41.40;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2011.07.06.21.09.56;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.06.27.13.38.30;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2011.06.24.11.17.05;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2011.06.13.08.22.44;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2011.06.07.11.34.43;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2011.04.18.23.11.53;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2011.03.29.23.22.17;	author jakemsr;	state Exp;
branches;
next	1.11;

1.11
date	2011.01.05.18.00.10;	author sebastia;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.20.19.56.47;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.11.19.52.40;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.09.16.58.55;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2010.10.11.08.18.20;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2010.09.30.07.21.20;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.09.26.15.10.39;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2010.09.26.15.09.29;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2010.08.25.23.27.21;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2010.06.18.17.37.46;	author sebastia;	state Exp;
branches;
next	1.1;

1.1
date	2010.06.18.17.32.21;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.33
log
@a memcpy -> memmove transition to prevent an abort, observed with
coccinella IAX client.

OK sthen@@
@
text
@# $OpenBSD: Makefile,v 1.32 2016/04/04 16:09:10 naddy Exp $

COMMENT-main=	IAX client library
COMMENT-tcl=	IAX client library, tcl bindings
COMMENT-iaxcomm=IAX softphone

DISTNAME=	iaxclient-2.1beta3
PKGNAME-main=	${DISTNAME}
REVISION-main=	16
PKGNAME-tcl=	${DISTNAME:S/iaxclient/iaxclient-tcl/}
REVISION-tcl=	17
PKGNAME-iaxcomm= iaxcomm-1.1.0
REVISION-iaxcomm= 18

CATEGORIES=	telephony
SHARED_LIBS=	tcliaxclient02 0.0 \
		iaxclient 0.0

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=iaxclient/}
HOMEPAGE=	http://iaxclient.sourceforge.net/
MAINTAINER=	Sebastian Reitenbach <sebastia@@openbsd.org>

# LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

MULTI_PACKAGES=	-main -tcl -iaxcomm
MODULES=	devel/gettext x11/tk

cWANTLIB	+= avcodec gsm m ogg ossaudio portaudio pthread speex
cWANTLIB	+= speexdsp sndio theora vidcap z

WANTLIB-main 	+= avutil c mp3lame vorbis vorbisenc vpx x264 ${cWANTLIB}
WANTLIB-main 	+= opus stdc++ swresample x265 xvidcore

WANTLIB-tcl	+= X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB-tcl	+= Xi Xinerama Xrandr Xrender atk-1.0 c cairo
WANTLIB-tcl	+= expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB-tcl	+= gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB-tcl	+= gtk-x11-2.0 iaxclient pango-1.0 pangocairo-1.0
WANTLIB-tcl	+= pangoft2-1.0 pcre pixman-1 png pthread-stubs xcb xcb-render
WANTLIB-tcl	+= graphite2 harfbuzz vorbis
WANTLIB-tcl	+= xcb-shm ffi ${cWANTLIB} ${MODGETTEXT_WANTLIB}

WANTLIB-iaxcomm	+= ICE SDL SM X11 Xcomposite Xcursor Xdamage
WANTLIB-iaxcomm	+= Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0
WANTLIB-iaxcomm	+= c cairo expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB-iaxcomm	+= gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB-iaxcomm	+= gtk-x11-2.0 iaxclient iodbc jpeg mspack ${MODGETTEXT_WANTLIB}
WANTLIB-iaxcomm	+= pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB-iaxcomm	+= png pthread-stubs stdc++ tiff usbhid wx_base wx_base_net
WANTLIB-iaxcomm	+= wx_base_odbc wx_base_xml wx_gtk2_adv wx_gtk2_aui wx_gtk2_core
WANTLIB-iaxcomm	+= wx_gtk2_dbgrid wx_gtk2_html wx_gtk2_qa wx_gtk2_richtext
WANTLIB-iaxcomm	+= graphite2 harfbuzz vorbis
WANTLIB-iaxcomm	+= wx_gtk2_xrc xcb xcb-render xcb-shm ffi ${cWANTLIB}

BUILD_DEPENDS=	${MODTK_BUILD_DEPENDS}

LIB_DEPENDS=	audio/gsm \
		audio/portaudio-svn \
		audio/speex \
		graphics/ffmpeg>=20130319 \
		graphics/libvidcap \
		multimedia/libtheora

LIB_DEPENDS-tcl=${LIB_DEPENDS} \
		${BASE_PKGPATH} \
		x11/gtk+2

RUN_DEPENDS-tcl=${MODTCL_RUN_DEPENDS}

RUN_DEPENDS-iaxcomm=${MODGETTEXT_RUN_DEPENDS}
LIB_DEPENDS-iaxcomm=${MODGETTEXT_LIB_DEPENDS} \
	${BASE_PKGPATH} \
	x11/wxWidgets

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	LDFLAGS="-L${LOCALBASE}/lib -L/usr/lib -lossaudio" \
		WISH=${MODTK_BIN}
CONFIGURE_ARGS=--enable-clients="testcall tkphone iaxcomm"
# iaxphone needs an ANSI (not unicode) build of wxWidgets
# vtestcall pulls in SDL dependency, not doing this for now

# ALLOW_SMP_DANGERS is at least needed on sparc64 and mips64
CFLAGS+=	-I${LOCALBASE}/include -DALLOW_SMP_DANGERS
MAKE_ENV=	LDFLAGS='-L/usr/lib -lossaudio'
FAKE_FLAGS =	iaxclidir=${MODTCL_TCLDIR}/tkphone

pre-configure:
	@@# non-standard, not using MODTCL_WISH_ADJ
	perl -pi -e '$$. == 6 && s!wish!${MODTK_BIN}!;' \
		${WRKSRC}/simpleclient/tkphone/tkiaxphone
	${SUBST_CMD} ${WRKSRC}/contrib/tcl/configure \
		${WRKSRC}/simpleclient/tkphone/tkiaxphone

post-build:
	cd ${WRKSRC}/contrib/tcl && ${CONFIGURE_ENV} ./configure \
	--libdir=${MODTCL_TCLDIR} --with-tcl=${MODTCL_LIBDIR} \
	&& ${MAKE_PROGRAM}

post-install:
	cd ${WRKSRC}/contrib/tcl && \
		${MAKE_PROGRAM} install PKG_DIR=tcliaxclient \
		iaxclidir=${MODTCL_TCLDIR}/tkphone

.include <bsd.port.mk>
@


1.32
log
@g/c PFRAG.shared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/07/18 23:59:54 jasper Exp $
d9 1
a9 1
REVISION-main=	15
@


1.31
log
@kill trailing whitespace
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/05/18 18:04:24 sebastia Exp $
d11 1
a11 1
REVISION-tcl=	16
@


1.30
log
@As pointed out by espie@@, theora gets picked up if available, so add it
explicitly to the deps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/04/28 06:35:06 ajacoutot Exp $
d63 1
a63 1
		multimedia/libtheora	
@


1.29
log
@Cope with FFmpeg 20150412.

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/03/19 20:25:27 naddy Exp $
d9 1
a9 1
REVISION-main=	14
d11 1
a11 1
REVISION-tcl=	15
d13 1
a13 1
REVISION-iaxcomm= 17
d30 1
a30 1
cWANTLIB	+= speexdsp sndio vidcap z
d62 2
a63 1
		graphics/libvidcap
@


1.28
log
@fold lib-only PFRAG.shared into PLIST, and some related cleanups
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/04/27 20:52:50 brad Exp $
d9 1
a9 1
REVISION-main=	13
d11 1
a11 1
REVISION-tcl=	14
d13 1
a13 1
REVISION-iaxcomm= 16
d29 2
a30 2
cWANTLIB	+= avcodec gsm m ogg orc-0.4 ossaudio portaudio pthread speex
cWANTLIB	+= speexdsp sndio theora vidcap z
d32 2
a33 2
WANTLIB-main 	+= avutil c mp3lame schroedinger-1.0 theoradec theoraenc vorbis
WANTLIB-main	+= vorbisenc vpx x264 ${cWANTLIB}
d35 3
a37 3
WANTLIB-tcl	+= GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB-tcl	+= Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c cairo
WANTLIB-tcl	+= drm expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
d41 2
a42 1
WANTLIB-tcl	+= xcb-shm ffi stdc++ ${cWANTLIB} ${MODGETTEXT_WANTLIB}
d44 1
a44 1
WANTLIB-iaxcomm	+= GL ICE SDL SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
d46 1
a46 1
WANTLIB-iaxcomm	+= c cairo drm expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
d53 1
@


1.27
log
@Update for newer FFmpeg API.

ok sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/08/09 19:06:41 ajacoutot Exp $
d9 1
a9 1
REVISION-main=	12
@


1.26
log
@Remove -lpthread patching.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/21 08:48:54 ajacoutot Exp $
d9 1
a9 1
REVISION-main=	11
d13 1
a13 1
REVISION-iaxcomm= 15
d59 1
a59 1
		graphics/ffmpeg>=20121026 \
@


1.25
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/03/11 11:41:33 espie Exp $
d9 1
a9 1
REVISION-main=	10
d11 1
a11 1
REVISION-tcl=	13
d13 1
a13 1
REVISION-iaxcomm= 14
@


1.24
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/01/20 12:52:34 brad Exp $
a15 1
USE_LIBTOOL=	Yes
@


1.23
log
@Update for newer FFmpeg API.

ok sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/08/23 17:42:27 sthen Exp $
a25 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.22
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/04/30 09:48:21 sebastia Exp $
d9 1
a9 1
REVISION-main=	9
d11 1
a11 1
REVISION-tcl=	12
d13 1
a13 1
REVISION-iaxcomm= 13
d33 2
a34 4
cWANTLIB	+= avcodec avutil gsm m mp3lame ogg orc-0.4 ossaudio portaudio
cWANTLIB	+= pthread schroedinger-1.0 speex speexdsp sndio theora
cWANTLIB	+= theoradec theoraenc vidcap vorbis vorbisenc vpx x264
cWANTLIB	+= xvidcore z
d36 2
a37 1
WANTLIB-main 	+= c ${cWANTLIB}
d63 1
a63 1
		graphics/ffmpeg \
@


1.21
log
@Make iaxclient work wiht newer ffmpeg API
tested on i386 and macppc by myself with net/coccinella.
From Brad.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/11/02 08:32:17 jasper Exp $
d9 1
a9 1
REVISION-main=	8
d11 1
a11 1
REVISION-tcl=	11
d13 1
a13 1
REVISION-iaxcomm= 12
d36 1
a36 1
cWANTLIB	+= z
@


1.20
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/09/16 11:41:40 espie Exp $
d9 1
a9 1
REVISION-main=	7
@


1.19
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/07/06 21:09:56 ajacoutot Exp $
d11 1
a11 1
REVISION-tcl=	10
d13 1
a13 1
REVISION-iaxcomm= 11
d46 1
a46 1
WANTLIB-tcl	+= xcb-shm ${cWANTLIB} ${MODGETTEXT_WANTLIB}
d57 1
a57 1
WANTLIB-iaxcomm	+= wx_gtk2_xrc xcb xcb-render xcb-shm ${cWANTLIB}
@


1.18
log
@Use the devel/gettext MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/06/27 13:38:30 sthen Exp $
d11 1
a11 1
REVISION-tcl=	9
d13 1
a13 1
REVISION-iaxcomm= 10
@


1.17
log
@sync WANTLIB and bump.
zap a few stray space-tabs while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/06/24 11:17:05 sthen Exp $
d11 1
a11 1
REVISION-tcl=	8
d13 1
a13 1
REVISION-iaxcomm= 8
d44 1
a44 1
WANTLIB-tcl	+= gtk-x11-2.0 iaxclient iconv intl pango-1.0 pangocairo-1.0
d46 1
a46 1
WANTLIB-tcl	+= xcb-shm ${cWANTLIB}
d52 1
a52 1
WANTLIB-iaxcomm	+= gtk-x11-2.0 iaxclient iconv intl iodbc jpeg mspack
@


1.16
log
@Chase ffmpeg dep changes. Mostly from Brad ok dcoppa@@, plus opencv from me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/06/13 08:22:44 sthen Exp $
d9 1
a9 1
REVISION-main=	6
d11 1
a11 1
REVISION-tcl=	7
d13 1
a13 1
REVISION-iaxcomm= 7
d33 1
a33 1
cWANTLIB	+= avcodec gsm m mp3lame ogg orc-0.4 ossaudio portaudio
d38 1
a38 1
WANTLIB-main 	+= avutil c ${cWANTLIB}
@


1.15
log
@sync WANTLIB; iaxclient picks up theora now that pkg-config version
comparison is fixed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/06/07 11:34:43 sthen Exp $
d9 1
a9 1
REVISION-main=	5
d11 1
a11 1
REVISION-tcl=	6
d13 1
a13 1
REVISION-iaxcomm= 6
d33 4
a36 4
cWANTLIB	+= avcodec avutil faac gsm m mp3lame ogg orc-0.4 ossaudio
cWANTLIB	+= portaudio pthread schroedinger-1.0 speex speexdsp
cWANTLIB	+= sndio theora theoradec theoraenc vidcap vorbis vorbisenc
cWANTLIB	+= vpx x264 z
d38 1
a38 1
WANTLIB-main	+= c ${cWANTLIB}
@


1.14
log
@build requires Tcl/Tk; set BUILD_DEPENDS appropriately.
remaining problem with -current pkg-config to be fixed separately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/04/18 23:11:53 sthen Exp $
d9 1
a9 1
REVISION-main=	4
d11 1
a11 1
REVISION-tcl=	5
d13 1
a13 1
REVISION-iaxcomm= 5
d35 2
a36 2
cWANTLIB	+= sndio theoradec theoraenc vidcap vorbis vorbisenc vpx
cWANTLIB	+= x264 z
d38 1
a38 1
WANTLIB-main 	+= c ${cWANTLIB}
@


1.13
log
@sync WANTLIB (re: ffmpeg update), from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/03/29 23:22:17 jakemsr Exp $
d58 2
@


1.12
log
@more ports that need faad removed from WANTLIB after ffmpeg update,
as noted on ports@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/01/05 18:00:10 sebastia Exp $
d9 1
a9 1
REVISION-main=	3
d11 1
a11 1
REVISION-tcl=	4
d13 1
a13 1
REVISION-iaxcomm= 4
d33 25
a57 28
cWANTLIB =	gsm>=1 portaudio speex>=8 speexdsp>=1 avcodec>=13 \
		avutil>=6 vidcap
WANTLIB-main 	+= c faac m mp3lame ogg orc-0.4 ossaudio pthread
WANTLIB-main 	+= schroedinger-1.0 sndio theora vorbis vorbisenc x264
WANTLIB-main 	+= z $(cWANTLIB)

WANTLIB-tcl 	+= X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB-tcl 	+= Xi Xinerama Xrandr Xrender atk-1.0 c cairo expat faac
WANTLIB-tcl 	+= fontconfig freetype gio-2.0 glib-2.0 gmodule-2.0
WANTLIB-tcl 	+= gobject-2.0 gthread-2.0 m mp3lame ogg orc-0.4 ossaudio
WANTLIB-tcl 	+= pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB-tcl 	+= png pthread pthread-stubs schroedinger-1.0 sndio theora
WANTLIB-tcl 	+= vorbis vorbisenc x264 xcb xcb-render xcb-render-util
WANTLIB-tcl 	+= z gdk_pixbuf-2.0 $(cWANTLIB) iaxclient gdk-x11-2.0
WANTLIB-tcl	+= gtk-x11-2.0

WANTLIB-iaxcomm += X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB-iaxcomm += Xi Xinerama Xrandr Xrender atk-1.0 avcodec avutil c
WANTLIB-iaxcomm += cairo expat faac fontconfig freetype gdk-x11-2.0
WANTLIB-iaxcomm += gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB-iaxcomm += gsm gthread-2.0 gtk-x11-2.0 m mp3lame ogg orc-0.4 ossaudio
WANTLIB-iaxcomm += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB-iaxcomm += png portaudio pthread pthread-stubs schroedinger-1.0
WANTLIB-iaxcomm += sndio speex speexdsp stdc++ theora vidcap vorbis vorbisenc
WANTLIB-iaxcomm += x264 xcb xcb-render xcb-render-util z
WANTLIB-iaxcomm += iaxclient wx_base wx_base_net wx_base_odbc wx_base_xml 
WANTLIB-iaxcomm += wx_gtk2_adv wx_gtk2_aui wx_gtk2_core wx_gtk2_dbgrid 
WANTLIB-iaxcomm += wx_gtk2_html wx_gtk2_qa wx_gtk2_richtext wx_gtk2_xrc
@


1.11
log
@Update to new Tcl layout.

OK landry@@ stu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/20 19:56:47 espie Exp $
d9 1
a9 1
REVISION-main=	2
d11 1
a11 1
REVISION-tcl=	3
d13 1
a13 1
REVISION-iaxcomm= 3
d35 1
a35 1
WANTLIB-main 	+= c faac faad m mp3lame ogg orc-0.4 ossaudio pthread
d41 1
a41 1
WANTLIB-tcl 	+= faad fontconfig freetype gio-2.0 glib-2.0 gmodule-2.0
d51 1
a51 1
WANTLIB-iaxcomm += cairo expat faac faad fontconfig freetype gdk-x11-2.0
@


1.10
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/11 19:52:40 espie Exp $
d11 1
a11 1
REVISION-tcl=	2
d89 1
d100 2
a101 1
	--with-tcl=${MODTCL_LIBDIR} && ${MAKE_PROGRAM}
d104 3
a106 1
	cd ${WRKSRC}/contrib/tcl && ${MAKE_PROGRAM} install
@


1.9
log
@missed WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/09 16:58:55 jasper Exp $
d33 2
a34 2
cWANTLIB =	gsm.>=1 portaudio speex.>=8 speexdsp.>=1 avcodec.>=13 \
		avutil.>=6 vidcap
d62 5
a66 5
LIB_DEPENDS=	::audio/gsm \
		::audio/portaudio-svn \
		::audio/speex \
		::graphics/ffmpeg \
		::graphics/libvidcap
d69 2
a70 2
		::${BASE_PKGPATH} \
		::x11/gtk+2
d76 2
a77 2
	::${BASE_PKGPATH} \
	::x11/wxWidgets
@


1.8
log
@- we have sched_get_priority_{min|max} now.

from brad, ok sebastia@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/10/11 08:18:20 jasper Exp $
d33 2
d37 1
a37 1
WANTLIB-main 	+= z
d46 2
a47 1
WANTLIB-tcl 	+= z gdk_pixbuf-2.0
d58 9
a66 6

LIB_DEPENDS=	gsm.>=1::audio/gsm \
		portaudio::audio/portaudio-svn \
		speex.>=8,speexdsp.>=1::audio/speex \
		avcodec.>=13,avutil.>=6::graphics/ffmpeg \
		vidcap.>=0::graphics/libvidcap
d69 2
a70 2
		iaxclient::${BASE_PKGPATH} \
		gdk-x11-2.0,gtk-x11-2.0::x11/gtk+2
d76 2
a77 2
	iaxclient::${BASE_PKGPATH} \
	wx_base,wx_base_net,wx_base_odbc,wx_base_xml,wx_gtk2_adv,wx_gtk2_aui,wx_gtk2_core,wx_gtk2_dbgrid,wx_gtk2_html,wx_gtk2_qa,wx_gtk2_richtext,wx_gtk2_xrc::x11/wxWidgets
@


1.7
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/09/30 07:21:20 ajacoutot Exp $
d9 1
a9 1
REVISION-main=	1
@


1.6
log
@Fix DEPENDS after gtk+2 and gdk-pixbuf split.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/09/26 15:10:39 ajacoutot Exp $
d11 1
a11 1
REVISION-tcl=	1
d13 1
a13 1
REVISION-iaxcomm= 2
d39 1
a39 1
WANTLIB-tcl 	+= faad fontconfig freetype gio-2.0 glib-2.0 glitz gmodule-2.0
d49 1
a49 1
WANTLIB-iaxcomm += gdk_pixbuf-2.0 gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0
@


1.5
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/09/26 15:09:29 ajacoutot Exp $
d11 1
a11 1
REVISION-tcl=	0
d13 1
a13 1
REVISION-iaxcomm= 1
d44 1
a44 1
WANTLIB-tcl 	+= z
d64 1
a64 1
		gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2
@


1.4
log
@Set proper thread priorities.

ok sebastia@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/08/25 23:27:21 sthen Exp $
d11 1
@


1.3
log
@- chase the library change in multimedia/schroedinger; oil->orc
- add various other missing WANTLIB (and LIB_DEPENDS in some cases)
- while there move PKGNAME=..pX to REVISION, and move some ports
to new-style LIB_DEPENDS

original diff from Brad, extensive checking by me (clean build of everything
related to liboil).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/06/18 17:37:46 sebastia Exp $
d9 1
a9 1
REVISION-main=	0
d12 1
a12 1
REVISION-iaxcomm= 0
@


1.2
log
@Strip trailing spaces on WANTLIB lines, as suggested by sthen.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2010/06/18 17:32:21 sebastia Exp $
d9 1
d11 2
a12 1
PKGNAME-iaxcomm=iaxcomm-1.1.0
d32 1
a32 1
WANTLIB-main 	+= c faac faad m mp3lame ogg oil-0.3 ossaudio pthread
d39 1
a39 1
WANTLIB-tcl 	+= gobject-2.0 gthread-2.0 m mp3lame ogg oil-0.3 ossaudio
d49 1
a49 1
WANTLIB-iaxcomm += gsm gthread-2.0 gtk-x11-2.0 m mp3lame ogg oil-0.3 ossaudio
@


1.1
log
@Initial import of iaxclient 2.1beta3

A lightweight cross platform IP telephony client using
the IAX protocol, designed for use with the asterisk
open source PBX.

OK, landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD$
d30 2
a31 2
WANTLIB-main 	+= c faac faad m mp3lame ogg oil-0.3 ossaudio pthread                
WANTLIB-main 	+= schroedinger-1.0 sndio theora vorbis vorbisenc x264               
@

