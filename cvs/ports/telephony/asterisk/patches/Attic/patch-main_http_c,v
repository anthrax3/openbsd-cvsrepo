head	1.2;
access;
symbols
	OPENBSD_5_4:1.1.0.2
	OPENBSD_5_4_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2013.10.21.23.38.45;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2013.06.05.00.57.18;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to asterisk 11.6.0
@
text
@$OpenBSD: patch-main_http_c,v 1.1 2013/06/05 00:57:18 sthen Exp $

see https://issues.asterisk.org/jira/browse/ASTERISK-21789

--- main/http.c.orig	Fri May 24 15:05:50 2013
+++ main/http.c	Fri May 24 15:06:07 2013
@@@@ -843,7 +843,7 @@@@ struct ast_variable *ast_http_get_cookies(struct ast_v
 	struct ast_variable *v, *cookies=NULL;
 
 	for (v = headers; v; v = v->next) {
-		if (!strncasecmp(v->name, "Cookie", 6)) {
+		if (!strcasecmp(v->name, "Cookie")) {
 			char *tmp = ast_strdupa(v->value);
 			if (cookies) {
 				ast_variables_destroy(cookies);
@


1.1
log
@Fix cookie parsing in Asterisk's HTTP request parser if an RFC2965 Cookie2
header is present. Needed for AMI/HTTP logins with some http clients.
@
text
@d1 1
a1 1
$OpenBSD$
@

