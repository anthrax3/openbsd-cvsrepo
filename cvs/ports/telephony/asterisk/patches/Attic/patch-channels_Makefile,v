head	1.9;
access;
symbols
	OPENBSD_4_7:1.8.0.2
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.7.0.8
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.6
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.4
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2010.04.08.16.18.00;	author sthen;	state dead;
branches;
next	1.8;

1.8
date	2009.12.13.12.11.29;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2007.12.19.21.07.27;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.05.22.42.52;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2007.05.02.17.29.25;	author jolan;	state Exp;
branches;
next	1.4;

1.4
date	2007.03.21.15.51.54;	author jolan;	state Exp;
branches;
next	1.3;

1.3
date	2006.09.24.21.09.26;	author jolan;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2006.06.12.19.04.10;	author naddy;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2006.02.02.03.41.36;	author todd;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2006.06.15.15.34.35;	author sturm;	state Exp;
branches;
next	;

1.2.2.1
date	2006.11.01.13.45.32;	author sturm;	state Exp;
branches;
next	1.2.2.2;

1.2.2.2
date	2007.05.05.08.22.00;	author sturm;	state Exp;
branches;
next	1.2.2.3;

1.2.2.3
date	2007.08.09.17.11.03;	author ajacoutot;	state Exp;
branches;
next	;

1.3.2.1
date	2007.05.01.16.16.42;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Update Asterisk to 1.6.2.6, which will be the only of the 1.6.x branches
receiving most updates in the future; notably, compared to the in-tree
version, this adds a portable (pthread-based) clocking source rather
than relying on a non-portable zaptel timer.

Main functions tested and working well for myself and Diego Casati (thanks!)
Note that ConfBridge (added since 1.6.0) may need more work
@
text
@$OpenBSD: patch-channels_Makefile,v 1.8 2009/12/13 12:11:29 sthen Exp $
--- channels/Makefile.orig	Mon Dec  1 13:40:51 2008
+++ channels/Makefile	Mon Dec  1 13:41:05 2008
@@@@ -16,8 +16,8 @@@@ MENUSELECT_CATEGORY=CHANNELS
 MENUSELECT_DESCRIPTION=Channel Drivers
 
 ifeq ($(OSARCH),OpenBSD)
-  PTLIB=-lpt_OpenBSD_x86_r
-  H323LIB=-lh323_OpenBSD_x86_r
+  PTLIB=-lpt
+  H323LIB=-lh323
 endif
 
 ifeq ($(OSARCH),linux-gnu)
@


1.8
log
@Major version update to 1.6.0.19. For more information about the
upgrade, see /usr/local/share/doc/asterisk/UPGRADE-1.6.txt

Particular thanks to fgsch@@, ian@@ and Michiel van Baak for help and testing.
@
text
@d1 1
a1 1
$OpenBSD: patch-channels_Makefile,v 1.7 2007/12/19 21:07:27 sthen Exp $
@


1.7
log
@SECURITY update to 1.4.17, fixes AST-2007-027 (passwordless sip/iax peers,
configured from "realtime" database rather than static .conf files, are not
subject to IP address restrictions).

ok ian
@
text
@d1 5
a5 5
$OpenBSD: patch-channels_Makefile,v 1.6 2007/09/05 22:42:52 sthen Exp $
--- channels/Makefile.orig	Mon Dec 17 07:21:08 2007
+++ channels/Makefile	Tue Dec 18 22:20:15 2007
@@@@ -21,8 +21,8 @@@@ C_MODS:=$(filter-out $(MENUSELECT_CHANNELS),$(ALL_C_MO
 CC_MODS:=$(filter-out $(MENUSELECT_CHANNELS),$(ALL_CC_MODS))
@


1.6
log
@major version update to 1.4.11, ok ian@@ jolan@@
@
text
@d1 5
a5 5
$OpenBSD$
--- channels/Makefile.orig	Wed Aug  1 18:03:23 2007
+++ channels/Makefile	Wed Aug  1 18:03:42 2007
@@@@ -15,8 +15,8 @@@@ C_MODS:=$(filter-out $(MENUSELECT_CHANNELS),$(patsubst
 CC_MODS:=$(filter-out $(MENUSELECT_CHANNELS),$(patsubst %.cc,%,$(wildcard chan_*.cc)))
@


1.5
log
@SECURITY: update to 1.2.18 from maintainer stuart henderson

ASA-2007-011: Multiple problems in SIP channel parser handling response
codes
ASA-2007-012: Remote Crash Vulnerability in Manager Interface
@
text
@d1 5
a5 6
$OpenBSD: patch-channels_Makefile,v 1.4 2007/03/21 15:51:54 jolan Exp $
--- channels/Makefile.orig	Mon Mar 26 11:21:56 2007
+++ channels/Makefile	Wed Apr 25 09:17:17 2007
@@@@ -44,9 +44,11 @@@@ CYGSOLIB=-L.. -L. -L../res -lasterisk.dll -lres_featur
 CYG_CHAN_AGENT=-lres_monitor.so
 endif
d7 5
a11 5
+ifneq (${OSARCH},OpenBSD)
 ifeq ($(PROC),sparc64)
   PROC=ultrasparc
   CFLAGS += -mtune=$(PROC) -pipe -fomit-frame-pointer -mcpu=v8
+endif
d14 1
a14 1
 ifeq (${OSARCH},FreeBSD)
@


1.4
log
@SECURITY: update to 1.2.17, fixes a(nother) remote DoS in chan_sip:

http://voipsa.org/pipermail/voipsec_voipsa.org/2007-March/002275.html

from maintainer stuart henderson
@
text
@d1 4
a4 4
$OpenBSD: patch-channels_Makefile,v 1.3 2006/09/24 21:09:26 jolan Exp $
--- channels/Makefile.orig	Mon Mar  5 23:18:49 2007
+++ channels/Makefile	Wed Mar 21 14:39:08 2007
@@@@ -44,9 +44,11 @@@@ CYGSOLIB=-L.. -L. -L../res -lasterisk.dl
@


1.3
log
@- update to 1.2.12.1
- be careful not to pick up odbc/popt if they happened to be installed

from maintainer stuart henderson
@
text
@d1 4
a4 4
$OpenBSD: patch-channels_Makefile,v 1.2 2006/06/12 19:04:10 naddy Exp $
--- channels/Makefile.orig	Thu Aug 17 16:57:19 2006
+++ channels/Makefile	Tue Sep 19 14:26:50 2006
@@@@ -42,9 +42,11 @@@@ CYGSOLIB=-L.. -L. -L../res -lasterisk.dl
@


1.3.2.1
log
@MFC:
SECURITY: update to 1.2.16 which fixes a remote DoS in chan_sip
---
SECURITY: update to 1.2.17, fixes a(nother) remote DoS in chan_sip:

http://voipsa.org/pipermail/voipsec_voipsa.org/2007-March/002275.html
@
text
@d1 4
a4 4
$OpenBSD: patch-channels_Makefile,v 1.3 2006/09/24 21:09:26 jolan Exp $
--- channels/Makefile.orig	Tue Mar  6 00:18:49 2007
+++ channels/Makefile	Fri Apr 13 15:41:42 2007
@@@@ -44,9 +44,11 @@@@ CYGSOLIB=-L.. -L. -L../res -lasterisk.dl
@


1.2
log
@SECURITY:
Update to 1.2.9.1 which addresses a security vulnerability in the IAX2
channel driver (chan_iax2). The vulnerability affects all users with
IAX2 clients that might be compromised or used by a malicious user, and
can lead to denial of service attacks and random Asterisk server crashes
via a relatively trivial exploit.

From: maintainer Stuart Henderson <stu@@spacehopper.org>
@
text
@d1 4
a4 4
$OpenBSD$
--- channels/Makefile.orig	Sun Apr 30 15:27:56 2006
+++ channels/Makefile	Thu Jun  1 02:29:34 2006
@@@@ -42,9 +42,11 @@@@
@


1.2.2.1
log
@sync patches and fix a vulnerability in the chan_skinny module
for more details see: http://www.asterisk.org/node/109
@
text
@d1 4
a4 4
$OpenBSD: patch-channels_Makefile,v 1.2 2006/06/12 19:04:10 naddy Exp $
--- channels/Makefile.orig	Sun Apr 30 16:27:56 2006
+++ channels/Makefile	Fri Oct 20 13:47:54 2006
@@@@ -42,9 +42,11 @@@@ CYGSOLIB=-L.. -L. -L../res -lasterisk.dl
@


1.2.2.2
log
@Security fixes:
ASA-2007-011, http://bugs.digium.com/view.php?id=9313:
Multiple problems in SIP channel parser handling response codes

ASA-2007-012:
Remote Crash Vulnerability in Manager Interface
@
text
@d1 1
a1 1
$OpenBSD: patch-channels_Makefile,v 1.2.2.1 2006/11/01 13:45:32 sturm Exp $
d3 1
a3 1
+++ channels/Makefile	Sat May  5 09:57:49 2007
@


1.2.2.3
log
@- backport some security fixes for
ASA-2007-014 - Stack Buffer Overflow in IAX2 channel driver
ASA-2007-015 - Remote Crash Vulnerability in IAX2 Channel Driver
ASA-2007-016 - Remote Crash Vulnerability in Skinny channel driver from version 1.2.22

All work and testing by Stuart Henderson

ok sturm@@
@
text
@d1 4
a4 4
$OpenBSD: patch-channels_Makefile,v 1.2.2.2 2007/05/05 08:22:00 sturm Exp $
--- channels/Makefile.orig	Tue Jul 31 14:52:50 2007
+++ channels/Makefile	Tue Jul 31 14:42:51 2007
@@@@ -42,9 +42,11 @@@@ CYGSOLIB=-L.. -L. -L../res -lasterisk.dll -lres_featur
@


1.1
log
@Work by and tested by ian@@ and Stuart Henderson, comments by jolan@@
@
text
@d2 2
a3 2
--- channels/Makefile.orig	Thu Jan 26 18:02:51 2006
+++ channels/Makefile	Thu Jan 26 18:02:53 2006
d11 1
a11 1
   CFLAGS += -mtune=$(PROC) -O3 -pipe -fomit-frame-pointer -mcpu=v8
@


1.1.2.1
log
@MFC:
SECURITY:
Update to 1.2.9.1 which addresses a security vulnerability in the IAX2
channel driver (chan_iax2). The vulnerability affects all users with
IAX2 clients that might be compromised or used by a malicious user, and
can lead to denial of service attacks and random Asterisk server crashes
via a relatively trivial exploit.
@
text
@d1 4
a4 4
$OpenBSD: patch-channels_Makefile,v 1.2 2006/06/12 19:04:10 naddy Exp $
--- channels/Makefile.orig	Sun Apr 30 16:27:56 2006
+++ channels/Makefile	Thu Jun 15 12:51:08 2006
@@@@ -42,9 +42,11 @@@@ CYGSOLIB=-L.. -L. -L../res -lasterisk.dl
d11 1
a11 1
   CFLAGS += -mtune=$(PROC) -pipe -fomit-frame-pointer -mcpu=v8
@


