head	1.5;
access;
symbols
	OPENBSD_5_8:1.4.0.6
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.2.0.4
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.1.0.4
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2015.10.09.21.28.13;	author sthen;	state dead;
branches;
next	1.4;
commitid	SwrAi04Qejtjejjp;

1.4
date	2015.01.11.17.24.06;	author dcoppa;	state Exp;
branches;
next	1.3;
commitid	tUX7zNsqayxbN5if;

1.3
date	2014.04.21.06.21.56;	author chrisz;	state Exp;
branches;
next	1.2;

1.2
date	2013.05.17.10.43.53;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2012.06.05.23.15.23;	author fgsch;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update and rework the telephony/pjsua port. The upstream distribution
is a telephony library (pjsip) with some sample applications; pjsua
itself is one of those samples. Previously the port built everything
but only installed the application; newer versions of Asterisk require
the libraries, so I've converted to multi-packages, providing a new
pjsip package with the libs, and retaining pjsua as a separate package
providing the CLI SIP client.

Taking maintainership with the agreement of chrisz@@.
@
text
@$OpenBSD: patch-pjmedia_src_pjmedia_stream_c,v 1.4 2015/01/11 17:24:06 dcoppa Exp $
--- pjmedia/src/pjmedia/stream.c.orig	Mon Apr 14 03:14:11 2014
+++ pjmedia/src/pjmedia/stream.c	Thu Jan  8 08:02:08 2015
@@@@ -2515,6 +2515,7 @@@@ PJ_DEF(pj_status_t) pjmedia_stream_destroy( pjmedia_st
     /* Free mutex */
 
     if (stream->jb_mutex) {
+	pj_mutex_unlock(stream->jb_mutex);
 	pj_mutex_destroy(stream->jb_mutex);
 	stream->jb_mutex = NULL;
     }
@


1.4
log
@
Update to pjsua-2.3.

Maintainer's email bounces... chrisz@@ ???
@
text
@d1 1
a1 1
$OpenBSD: patch-pjmedia_src_pjmedia_stream_c,v 1.3 2014/04/21 06:21:56 chrisz Exp $
@


1.3
log
@Update to 2.2.1. Thanks to Holger Mikolon for providing the diff.
@
text
@d1 4
a4 4
$OpenBSD: patch-pjmedia_src_pjmedia_stream_c,v 1.2 2013/05/17 10:43:53 dcoppa Exp $
--- pjmedia/src/pjmedia/stream.c.orig	Tue Mar 11 04:07:46 2014
+++ pjmedia/src/pjmedia/stream.c	Sat Apr 19 22:58:25 2014
@@@@ -2514,6 +2514,7 @@@@ PJ_DEF(pj_status_t) pjmedia_stream_destroy( pjmedia_st
@


1.2
log
@Update to pjsua-2.1

From maintainer Christopher Zimmermann
@
text
@d1 4
a4 4
$OpenBSD: patch-pjmedia_src_pjmedia_stream_c,v 1.1 2012/06/05 23:15:23 fgsch Exp $
--- pjmedia/src/pjmedia/stream.c.orig	Tue Jan 29 09:15:02 2013
+++ pjmedia/src/pjmedia/stream.c	Fri May 17 12:37:46 2013
@@@@ -2509,6 +2509,7 @@@@ PJ_DEF(pj_status_t) pjmedia_stream_destroy( pjmedia_st
d6 1
a6 1
     
@


1.1
log
@Update to pjsua 2.0.
dcoppa@@ ok
@
text
@d1 4
a4 4
$OpenBSD$
--- pjmedia/src/pjmedia/stream.c.orig	Sat May 12 08:18:09 2012
+++ pjmedia/src/pjmedia/stream.c	Sun Jun  3 04:09:23 2012
@@@@ -2442,6 +2442,7 @@@@ PJ_DEF(pj_status_t) pjmedia_stream_destroy( pjmedia_st
@

