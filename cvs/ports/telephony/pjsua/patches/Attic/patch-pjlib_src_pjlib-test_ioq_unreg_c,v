head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2010.05.03.14.30.19;	author dcoppa;	state dead;
branches;
next	1.1;

1.1
date	2010.04.02.11.48.24;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update pjsua to 1.6

From MAINTAINER Christopher Zimmermann, with modifications by me
and sthen@@.

OK sthen@@
@
text
@$OpenBSD: patch-pjlib_src_pjlib-test_ioq_unreg_c,v 1.1 2010/04/02 11:48:24 dcoppa Exp $

fix from upstream:
fix bug in ioqueue unregistration test which caused assertion error 
in destroying mutex on OpenBSD

--- pjlib/src/pjlib-test/ioq_unreg.c.orig	Thu Jul  2 10:24:22 2009
+++ pjlib/src/pjlib-test/ioq_unreg.c	Wed Mar 31 10:28:45 2010
@@@@ -93,6 +93,7 @@@@ static void on_read_complete(pj_ioqueue_key_t *key, 
 	if (PJ_TIME_VAL_GTE(now, time_to_unregister)) { 
 	    sock_data.unregistered = 1;
 	    pj_ioqueue_unregister(key);
+	    pj_mutex_unlock(sock_data.mutex);
 	    return;
 	}
     }
@


1.1
log
@Update to pjsua-1.5.5

From (new) MAINTAINER Christopher Zimmermann with some modifications
by landry@@, ajacoutot@@, sthen@@ and myself.

Thanks!

OK landry@@, ajacoutot@@, sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
@

