head	1.3;
access;
symbols
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2010.09.14.07.37.19;	author dcoppa;	state dead;
branches;
next	1.2;

1.2
date	2010.05.03.14.30.19;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2010.04.02.11.48.24;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to pjsua-1.7

OK sthen@@
@
text
@$OpenBSD: patch-pjmedia_src_pjmedia-codec_gsm_c,v 1.2 2010/05/03 14:30:19 dcoppa Exp $

fix header detection when using external libgsm on OpenBSD

--- pjmedia/src/pjmedia-codec/gsm.c.orig	Sat May  1 18:44:16 2010
+++ pjmedia/src/pjmedia-codec/gsm.c	Sat May  1 18:44:50 2010
@@@@ -35,7 +35,7 @@@@
 #if defined(PJMEDIA_HAS_GSM_CODEC) && PJMEDIA_HAS_GSM_CODEC != 0
 
 #if defined(PJMEDIA_EXTERNAL_GSM_CODEC) && PJMEDIA_EXTERNAL_GSM_CODEC
-#   include <gsm/gsm.h>
+#   include <gsm.h>
 #else
 #   include "../../third_party/gsm/inc/gsm.h"
 #endif
@


1.2
log
@Update pjsua to 1.6

From MAINTAINER Christopher Zimmermann, with modifications by me
and sthen@@.

OK sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Update to pjsua-1.5.5

From (new) MAINTAINER Christopher Zimmermann with some modifications
by landry@@, ajacoutot@@, sthen@@ and myself.

Thanks!

OK landry@@, ajacoutot@@, sthen@@
@
text
@d5 4
a8 7
--- pjmedia/src/pjmedia-codec/gsm.c.orig	Sat Jun 13 17:28:37 2009
+++ pjmedia/src/pjmedia-codec/gsm.c	Wed Mar 31 16:14:16 2010
@@@@ -28,12 +28,17 @@@@
 #include <pj/pool.h>
 #include <pj/string.h>
 #include <pj/os.h>
-#include "../../third_party/gsm/inc/gsm.h"
d10 2
a11 6
 /*
  * Only build this file if PJMEDIA_HAS_GSM_CODEC != 0
  */
 #if defined(PJMEDIA_HAS_GSM_CODEC) && PJMEDIA_HAS_GSM_CODEC != 0
+
+#if defined(PJMEDIA_EXTERNAL_GSM_CODEC) && PJMEDIA_EXTERNAL_GSM_CODEC
d13 3
a15 6
+#else
+#   include "../../third_party/gsm/inc/gsm.h"
+#endif
 
 /* We removed PLC in 0.6 (and re-enabled it again in 0.9!) */
 #define PLC_DISABLED	0
@

