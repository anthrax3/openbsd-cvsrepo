head	1.15;
access;
symbols
	OPENBSD_6_1:1.15.0.4
	OPENBSD_6_1_BASE:1.15
	OPENBSD_6_0:1.15.0.2
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.13.0.8
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.10
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.13.0.6
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.13.0.4
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.2
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.11.0.4
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.11.0.2
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.2
	OPENBSD_5_0:1.6.0.4
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.2
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.5.0.2
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.4.0.10
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.8
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.1.1.1.0.6
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.4
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.2
	OPENBSD_3_8_BASE:1.1.1.1
	sturm_20050629:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2016.04.21.19.44.17;	author naddy;	state Exp;
branches;
next	1.14;
commitid	ukYPZp84jonx8Y7c;

1.14
date	2016.03.16.21.19.39;	author naddy;	state Exp;
branches;
next	1.13;
commitid	eS3Ayl3CL8hkKETd;

1.13
date	2013.10.06.19.12.09;	author lteo;	state Exp;
branches;
next	1.12;

1.12
date	2013.03.11.11.41.33;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2012.05.04.21.42.18;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2012.01.21.22.02.13;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2012.01.18.13.44.43;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2012.01.17.17.32.12;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2012.01.17.17.30.33;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.20.19.56.47;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2010.07.27.09.27.24;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.15.21.03.00;	author merdely;	state Exp;
branches;
next	1.3;

1.3
date	2007.05.31.15.51.23;	author aanriot;	state Exp;
branches;
next	1.2;

1.2
date	2006.11.27.11.16.50;	author msf;	state Exp;
branches;
next	1.1;

1.1
date	2005.06.29.21.15.24;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.06.29.21.15.24;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.15
log
@Update to 0.8.2.

Major changes:
- support dealing with anonymous calls
- support for SIP Trunks
- various interoperability issues have been resolved
  (Snom phones no longer require the "broken registrar" setting)

New plugins:
stripheader, codecfilter, siptrunk, fix_DTAG, fix_fbox_anoncall

In the port, don't build useless static versions of the modules in
the first place instead of deleting them later.

ok lteo@@
@
text
@# $OpenBSD: Makefile,v 1.14 2016/03/16 21:19:39 naddy Exp $

COMMENT=	proxy/masquerading daemon for the SIP protocol

DISTNAME=	siproxd-0.8.2
CATEGORIES=	telephony net

HOMEPAGE=	http://siproxd.sourceforge.net/

MAINTAINER=	Lawrence Teo <lteo@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	c osip2 osipparser2 pthread ltdl

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=siproxd/}

USE_LIBTOOL=	gnu
LIBTOOL_FLAGS=	--tag=disable-static

CONFIGURE_STYLE=gnu
CONFIGURE_ENV+=	LDFLAGS="-L${PREFIX}/lib"

LIB_DEPENDS=	telephony/libosip2 \
		devel/libtool,-ltdl

DOCDIR=		${PREFIX}/share/doc/siproxd
EXDIR=		${PREFIX}/share/examples/siproxd
SUBST_VARS=	PREFIX

pre-build:
	${SUBST_CMD} ${WRKSRC}/doc/siproxd.conf.example

post-install:
	${INSTALL_DATA_DIR} ${DOCDIR}
	${INSTALL_DATA} ${WRKDIST}/doc/FAQ ${DOCDIR}
	${INSTALL_DATA} ${WRKDIST}/doc/KNOWN_BUGS ${DOCDIR}
	${INSTALL_DATA_DIR} ${EXDIR}
	${INSTALL_DATA} ${WRKDIST}/doc/siproxd.conf.example ${EXDIR}
	${INSTALL_DATA} ${WRKDIST}/doc/siproxd_passwd.cfg ${EXDIR}
	rm ${PREFIX}/lib/siproxd/plugin_*.la

.include <bsd.port.mk>
@


1.14
log
@remove SHARED_ONLY from ports that use only the gnu module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/10/06 19:12:09 lteo Exp $
d5 1
a5 2
DISTNAME=	siproxd-0.8.1
REVISION=	4
d20 1
d42 1
a42 1
	rm ${PREFIX}/lib/siproxd/plugin_*.a ${PREFIX}/lib/siproxd/plugin_*.la
@


1.13
log
@update my email address
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/03/11 11:41:33 espie Exp $
a2 1
SHARED_ONLY=	Yes
@


1.12
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/05/04 21:42:18 sthen Exp $
d7 1
a7 1
REVISION=	3
d12 1
a12 1
MAINTAINER=	Lawrence Teo <lteo@@lteo.net>
@


1.11
log
@Adjust sample siproxd config, from maintainer Lawrence Teo

- Use sample interface names that might exist on OpenBSD rather than eth0/1
- Make it clear that "if_outbound" is the external interface and "if_inbound"
is the lan.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2012/01/21 22:02:13 sthen Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.10
log
@Fix typo in comments and update email address. From Lawrence Teo (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/01/18 13:44:43 sthen Exp $
d7 1
a7 1
REVISION=	2
@


1.9
log
@Lawrence Teo takes maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/01/17 17:32:12 sthen Exp $
d7 1
a7 1
REVISION=	1
d12 1
a12 1
MAINTAINER=	Lawrence Teo <lteo@@devio.us>
@


1.8
log
@oops; forgot to set rc_reload=NO
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/01/17 17:30:33 sthen Exp $
d7 1
a7 1
REVISION=	0
d12 1
a12 1
MAINTAINER=	Mathieu Sauve-Frankel <msf@@openbsd.org>
@


1.7
log
@Update to siproxd 0.8.1 and add rc script; from Lawrence Teo, based
on a diff from stephan@@ with feedback from myself and Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/11/20 19:56:47 espie Exp $
d7 1
@


1.6
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/07/27 09:27:24 dcoppa Exp $
d3 1
d6 1
a6 2
DISTNAME=	siproxd-0.5.13
REVISION=	0
d13 1
a13 1
# GPL
d19 1
a19 1
WANTLIB=	c osip2 osipparser2 pthread
d23 2
d26 1
d28 2
a29 1
LIB_DEPENDS=    telephony/libosip2
d33 1
d35 2
a36 2
do-install:
	${INSTALL_PROGRAM} ${WRKDIST}/src/siproxd ${PREFIX}/sbin
d38 1
a41 1

d45 1
@


1.5
log
@Switch to new-style REVISION/LIB_DEPENDS/WANTLIB

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/09/15 21:03:00 merdely Exp $
d25 1
a25 1
LIB_DEPENDS=    ::telephony/libosip2
@


1.4
log
@Remove surrounding quotes in COMMENT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/05/31 15:51:23 aanriot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d18 2
a19 1
WANTLIB=	c pthread
d25 1
a25 1
LIB_DEPENDS=    osip2,osipparser2::telephony/libosip2
@


1.3
log
@also install the main binary and the post-install target becomes a
do-install one (the logic is more simple and it gets ride of the bogus
element warnings).

"go ahead" msf@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/11/27 11:16:50 msf Exp $
d3 1
a3 1
COMMENT=	"proxy/masquerading daemon for the SIP protocol"
@


1.2
log
@update to 1.5.13
install configuration files to ${SYSCONFDIR} by default
use _siproxd unpriv user and chroot by default
take MAINTAINER

ok markus@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/06/29 21:15:24 sturm Exp $
d6 1
d29 3
a31 1
post-install:
d35 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: $
d5 1
a5 1
DISTNAME=	siproxd-0.5.11
d10 1
a10 1
MAINTAINER=	Markus Friedl <markus@@openbsd.org> 
@


1.1.1.1
log
@Initial import of siproxd-0.5.11

Siproxd is a proxy/masquerading daemon for the SIP protocol.  It
handles registrations of SIP clients on a private IP network and
performs rewriting of the SIP message bodies to make SIP connections
work via an masquerading firewall (NAT).  It allows SIP software
clients (like kphone, linphone) or SIP hardware clients (Voice over
IP phones which are SIP-compatible, such as those from Cisco,
Grandstream or Snom) to work behind an IP masquerading firewall or
NAT router.

from markus@@
@
text
@@
