head	1.5;
access;
symbols
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.4.0.14
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.16
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.12
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.10
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.8
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.6
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.4
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.1.0.20
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.18
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.16
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.14
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.12
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.10
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.8
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.6
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.4
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.2
	OPENBSD_4_1_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2016.04.21.19.44.17;	author naddy;	state Exp;
branches;
next	1.4;
commitid	ukYPZp84jonx8Y7c;

1.4
date	2012.05.04.21.42.18;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2012.01.21.22.02.13;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2012.01.17.17.30.33;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.27.11.16.50;	author msf;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to 0.8.2.

Major changes:
- support dealing with anonymous calls
- support for SIP Trunks
- various interoperability issues have been resolved
  (Snom phones no longer require the "broken registrar" setting)

New plugins:
stripheader, codecfilter, siptrunk, fix_DTAG, fix_fbox_anoncall

In the port, don't build useless static versions of the modules in
the first place instead of deleting them later.

ok lteo@@
@
text
@$OpenBSD: patch-doc_siproxd_conf_example,v 1.4 2012/05/04 21:42:18 sthen Exp $
--- doc/siproxd.conf.example.orig	Fri Mar 25 19:44:51 2016
+++ doc/siproxd.conf.example	Sun Apr 17 22:28:24 2016
@@@@ -9,6 +9,9 @@@@
 ######################################################################
 # The interface names of INBOUND and OUTBOUND interface.
 #
+#    if_inbound:  the name of the internal interface
+#    if_outbound: the name of the external interface
+#
 #    If siproxd is not running on the host doing the masquerading
 #    but on a host within the private network segment, "in front" of
 #    the masquerading router: define if_inbound and if_outbound to
@@@@ -17,8 +20,8 @@@@
 #    or a hostname that resolves to that address (use a dyndns address for
 #    example).
 #
-if_inbound  = eth0
-if_outbound = ppp0
+if_inbound  = em0
+if_outbound = pppoe0
 # uncomment the following line ONLY IF YOU KNOW WHAT YOU ARE DOING!
 # READ THE FAQ FIRST!
 #host_outbound = 1.2.3.4
@@@@ -78,8 +81,8 @@@@ silence_log = 1
 # Secure Enviroment settings:
 #   user:	uid/gid to switch to after startup
 #   chrootjail:	path to chroot to (chroot jail)
-user = nobody
-#chrootjail = /var/lib/siproxd/
+user = _siproxd
+chrootjail = /var/siproxd/
 
 ######################################################################
 # Memory settings
@@@@ -100,7 +103,7 @@@@ user = nobody
 #   the specified directory path does exist!
 #   Note: If running in chroot jail, this path starts relative
 #         to the jail.
-registration_file = /var/lib/siproxd/siproxd_registrations
+registration_file = siproxd_registrations
 
 ######################################################################
 # Automatically save current registrations every 'n' seconds
@@@@ -113,7 +116,7 @@@@ autosave_registrations = 300
 #   This file holds the PID of the main thread of siproxd.
 #   Note: If running in chroot jail, this path starts relative
 #         to the jail.
-pid_file = /var/run/siproxd/siproxd.pid
+pid_file = siproxd.pid
 
 ######################################################################
 # global switch to control the RTP proxy behaviour
@@@@ -322,23 +325,23 @@@@ debug_port = 0
 # The plugins are loaded in the order they appear here. Also
 # the processing order is given by the load order.
 #
-# plugin_dir: MUST be terminated with '/'
-plugindir=/usr/lib/siproxd/
+# plugindir: MUST be terminated with '/'
+plugindir=${PREFIX}/lib/siproxd/
 #
-# List of plugins to load. MUST use the .la file extension!
-#load_plugin=plugin_demo.la
-#load_plugin=plugin_shortdial.la
-load_plugin=plugin_logcall.la
-#load_plugin=plugin_defaulttarget.la
-#load_plugin=plugin_fix_bogus_via.la
-#load_plugin=plugin_fix_DTAG.la
-#load_plugin=plugin_stun.la
-#load_plugin=plugin_prefix.la
-#load_plugin=plugin_regex.la
-#load_plugin=plugin_stripheader.la
-#load_plugin=plugin_codecfilter.la
-#load_plugin=plugin_siptrunk.la
-#load_plugin=plugin_fix_fbox_anoncall.la
+# List of plugins to load.
+#load_plugin=plugin_demo.so
+#load_plugin=plugin_shortdial.so
+load_plugin=plugin_logcall.so
+#load_plugin=plugin_defaulttarget.so
+#load_plugin=plugin_fix_bogus_via.so
+#load_plugin=plugin_fix_DTAG.so
+#load_plugin=plugin_stun.so
+#load_plugin=plugin_prefix.so
+#load_plugin=plugin_regex.so
+#load_plugin=plugin_stripheader.so
+#load_plugin=plugin_codecfilter.so
+#load_plugin=plugin_siptrunk.so
+#load_plugin=plugin_fix_fbox_anoncall.so
 
 
 ######################################################################
@


1.4
log
@Adjust sample siproxd config, from maintainer Lawrence Teo

- Use sample interface names that might exist on OpenBSD rather than eth0/1
- Make it clear that "if_outbound" is the external interface and "if_inbound"
is the lan.
@
text
@d1 3
a3 3
$OpenBSD: patch-doc_siproxd_conf_example,v 1.3 2012/01/21 22:02:13 sthen Exp $
--- doc/siproxd.conf.example.orig	Mon Jun 20 16:25:27 2011
+++ doc/siproxd.conf.example	Thu May  3 22:57:55 2012
d54 1
a54 1
@@@@ -322,18 +325,18 @@@@ debug_port = 0
d69 1
d73 4
d83 1
d87 4
@


1.3
log
@Fix typo in comments and update email address. From Lawrence Teo (maintainer).
@
text
@d1 1
a1 1
$OpenBSD: patch-doc_siproxd_conf_example,v 1.2 2012/01/17 17:30:33 sthen Exp $
d3 23
a25 2
+++ doc/siproxd.conf.example	Fri Jan 20 22:31:42 2012
@@@@ -78,8 +78,8 @@@@ silence_log = 1
d36 1
a36 1
@@@@ -100,7 +100,7 @@@@ user = nobody
d45 1
a45 1
@@@@ -113,7 +113,7 @@@@ autosave_registrations = 300
d54 1
a54 1
@@@@ -322,18 +322,18 @@@@ debug_port = 0
@


1.2
log
@Update to siproxd 0.8.1 and add rc script; from Lawrence Teo, based
on a diff from stephan@@ with feedback from myself and Brad
@
text
@d1 1
a1 1
$OpenBSD: patch-doc_siproxd_conf_example,v 1.1 2006/11/27 11:16:50 msf Exp $
d3 1
a3 1
+++ doc/siproxd.conf.example	Thu Oct 20 23:10:13 2011
d33 2
a34 1
@@@@ -323,17 +323,17 @@@@ debug_port = 0
d37 1
a37 1
 # plugin_dir: MUST be terminated with '/'
d39 1
@


1.1
log
@update to 1.5.13
install configuration files to ${SYSCONFDIR} by default
use _siproxd unpriv user and chroot by default
take MAINTAINER

ok markus@@
@
text
@d1 4
a4 4
$OpenBSD$
--- doc/siproxd.conf.example.orig	Mon Jun 19 01:28:42 2006
+++ doc/siproxd.conf.example	Sun Nov 26 00:15:43 2006
@@@@ -80,15 +80,15 @@@@ log_calls = 1
d14 2
a15 3
 # Registration file:
 #   Where to store the current registrations.
 #   An empty value means we do not save registrations. Make sure that
d17 2
d24 1
a24 3
@@@@ -99,7 +99,7 @@@@ autosave_registrations = 300
 # PID file:
 #   Where to create the PID file.
d26 2
d33 28
@

