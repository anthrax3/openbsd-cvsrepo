head	1.3;
access;
symbols
	OPENBSD_6_1:1.2.0.6
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.4
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.1.0.16
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.12
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.10
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.8
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.6
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.4
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2017.07.03.22.14.20;	author sthen;	state dead;
branches;
next	1.2;
commitid	3YCFei450KKbueMF;

1.2
date	2015.11.20.10.09.52;	author sthen;	state Exp;
branches;
next	1.1;
commitid	UZE2eJ0mBOI1OdIy;

1.1
date	2012.04.22.21.44.24;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to Kamailio 5.0.2, from maintainer Roman Kravchuk,
plus minor wantlib cleanup by me
@
text
@$OpenBSD: patch-modules_lcr_lcr_mod_c,v 1.2 2015/11/20 10:09:52 sthen Exp $
--- modules/lcr/lcr_mod.c.orig	Fri Oct  2 15:35:19 2015
+++ modules/lcr/lcr_mod.c	Wed Oct 21 00:44:53 2015
@@@@ -55,6 +55,9 @@@@
  * least cost rules). Each such instance has its own LCR identifier.
  */
 
+#include <sys/types.h>
+#include <sys/socket.h>
+#include <netinet/in.h>
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
@@@@ -2049,10 +2052,11 @@@@ static int generate_uris(struct sip_msg* _m, char *r_u
 {
     int_str gw_uri_val;
     struct usr_avp *gu_avp;
-    str scheme, prefix, hostname, port, params, transport, addr_str,
-	tmp_tag;
+    str scheme = {NULL, 0}, prefix = {NULL, 0}, hostname = {NULL, 0},
+	port = {NULL, 0}, params = {NULL, 0}, transport = {NULL, 0},
+	addr_str, tmp_tag = {NULL, 0};
     char *at;
-    unsigned int strip;
+    unsigned int strip = 0;
     
     gu_avp = search_first_avp(gw_uri_avp_type, gw_uri_avp, &gw_uri_val, 0);
 
@


1.2
log
@update to Kamailio 4.3.3, from maintainer Roman Kravchuk
@
text
@d1 1
a1 1
$OpenBSD: patch-modules_lcr_lcr_mod_c,v 1.1 2012/04/22 21:44:24 sthen Exp $
@


1.1
log
@update to kamailio 3.2.3, mostly from Roman Kravchuk (taking maintainer,
previous maintainer ok).
@
text
@d1 3
a3 3
$OpenBSD$
--- modules/lcr/lcr_mod.c.orig	Sun Apr 22 22:24:08 2012
+++ modules/lcr/lcr_mod.c	Sun Apr 22 22:24:28 2012
d14 15
@

