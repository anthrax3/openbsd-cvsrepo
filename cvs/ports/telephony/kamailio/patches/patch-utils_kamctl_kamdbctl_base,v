head	1.4;
access;
symbols
	OPENBSD_6_1:1.3.0.6
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.4
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.2.0.12
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.8
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.6
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.4
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.1.0.4
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2017.07.03.22.14.20;	author sthen;	state Exp;
branches;
next	1.3;
commitid	3YCFei450KKbueMF;

1.3
date	2015.11.20.10.09.52;	author sthen;	state Exp;
branches;
next	1.2;
commitid	UZE2eJ0mBOI1OdIy;

1.2
date	2013.04.16.11.13.04;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2012.04.22.21.44.24;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to Kamailio 5.0.2, from maintainer Roman Kravchuk,
plus minor wantlib cleanup by me
@
text
@$OpenBSD: patch-utils_kamctl_kamdbctl_base,v 1.3 2015/11/20 10:09:52 sthen Exp $
Index: utils/kamctl/kamdbctl.base
--- utils/kamctl/kamdbctl.base.orig
+++ utils/kamctl/kamdbctl.base
@@@@ -155,7 +155,7 @@@@ credentials()
 mdbg() {
 	if [ "0$VERBOSE" -ne 0 ] ; then
 		if [ -t 1 -a -z "$NOHLPRINT" ] ; then
-			echo -e "\033[1m$1\033[0m"
+			printf "\033[1m$1\033[0m\n"
 		else
 			echo "$1"
 		fi
@@@@ -164,7 +164,7 @@@@ mdbg() {
 
 mwarn() {
 	if [ -t 1 -a -z "$NOHLPRINT" ] ; then
-		echo -e '\E[37;32m'"\033[1mWARNING: $1\033[0m"
+		printf '\e[37;32m'"\033[1mWARNING: $1\033[0m\n"
 	else
 		echo "** WARNING: $1"
 	fi
@@@@ -172,7 +172,7 @@@@ mwarn() {
 
 minfo() {
 	if [ -t 1 -a -z "$NOHLPRINT" ] ; then
-		echo -e '\E[37;33m'"\033[1mINFO: $1\033[0m"
+		printf '\e[37;33m'"\033[1mINFO: $1\033[0m\n"
 	else
 		echo "** INFO: $1"
 	fi
@@@@ -180,7 +180,7 @@@@ minfo() {
 
 mecho() {
 	if [ -t 1 -a -z "$NOHLPRINT" ] ; then
-		echo -e "\033[1m$1\033[0m"
+		printf "\033[1m$1\033[0m\n"
 	else
 		echo "$1"
 	fi
@@@@ -188,7 +188,7 @@@@ mecho() {
 
 merr() {
 	if [ -t 1 -a -z "$NOHLPRINT" ] ; then
-		echo -e '\E[37;31m'"\033[1mERROR: $1\033[0m"
+		printf '\e[37;31m'"\033[1mERROR: $1\033[0m\n"
 	else
 		echo "** ERROR: $1"
 	fi
@@@@ -214,8 +214,8 @@@@ get_answer ()
     else
         ANSWER=${value}
     fi
-    ANSWER=${ANSWER:0:1}
-    ANSWER=${ANSWER/Y/y}
-    ANSWER=${ANSWER/N/n}
+    ANSWER=`echo ${ANSWER} | cut -c1`
+    ANSWER=`echo ${ANSWER} | sed 's/Y/y/'`
+    ANSWER=`echo ${ANSWER} | sed 's/N/n/'`
 }
 
@


1.3
log
@update to Kamailio 4.3.3, from maintainer Roman Kravchuk
@
text
@d1 5
a5 4
$OpenBSD: patch-utils_kamctl_kamdbctl_base,v 1.2 2013/04/16 11:13:04 sthen Exp $
--- utils/kamctl/kamdbctl.base.orig	Fri Oct  2 15:35:18 2015
+++ utils/kamctl/kamdbctl.base	Mon Oct 19 14:00:40 2015
@@@@ -154,7 +154,7 @@@@ credentials()
d14 1
a14 1
@@@@ -163,7 +163,7 @@@@ mdbg() {
d23 1
a23 1
@@@@ -171,7 +171,7 @@@@ mwarn() {
d32 1
a32 1
@@@@ -179,7 +179,7 @@@@ minfo() {
d41 1
a41 1
@@@@ -187,7 +187,7 @@@@ mecho() {
d50 1
a50 1
@@@@ -213,8 +213,8 @@@@ get_answer ()
@


1.2
log
@update to Kamailio 4.0.0, from maintainer Roman Kravchuk
@
text
@d1 4
a4 4
$OpenBSD: patch-utils_kamctl_kamdbctl_base,v 1.1 2012/04/22 21:44:24 sthen Exp $
--- utils/kamctl/kamdbctl.base.orig	Mon Mar 11 17:27:18 2013
+++ utils/kamctl/kamdbctl.base	Thu Mar 14 16:15:21 2013
@@@@ -157,7 +157,7 @@@@ credentials()
d13 1
a13 1
@@@@ -166,7 +166,7 @@@@ mdbg() {
d22 1
a22 1
@@@@ -174,7 +174,7 @@@@ mwarn() {
d31 1
a31 1
@@@@ -182,7 +182,7 @@@@ minfo() {
d40 1
a40 1
@@@@ -190,7 +190,7 @@@@ mecho() {
d49 1
a49 1
@@@@ -216,8 +216,8 @@@@ get_answer ()
@


1.1
log
@update to kamailio 3.2.3, mostly from Roman Kravchuk (taking maintainer,
previous maintainer ok).
@
text
@d1 4
a4 4
$OpenBSD$
--- utils/kamctl/kamdbctl.base.orig	Sat Apr 21 16:59:04 2012
+++ utils/kamctl/kamdbctl.base	Sat Apr 21 18:45:41 2012
@@@@ -136,7 +136,7 @@@@ credentials()
d13 1
a13 1
@@@@ -145,7 +145,7 @@@@ mdbg() {
d22 1
a22 1
@@@@ -153,7 +153,7 @@@@ mwarn() {
d31 1
a31 1
@@@@ -161,7 +161,7 @@@@ minfo() {
d40 1
a40 1
@@@@ -169,7 +169,7 @@@@ mecho() {
d49 1
a49 1
@@@@ -195,8 +195,8 @@@@ get_answer ()
@

