head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.16
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.12
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.14
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.10
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.8
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.6
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.4
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.0.4
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2013.01.24.09.44.18;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2012.01.12.11.11.58;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2011.04.04.22.40.55;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2010.04.22.22.00.45;	author kili;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update xmonad and hs-xmonad-contrib to 0.11
Bump x11/bluetile accordingly

OK kili@@
@
text
@$OpenBSD: patch-XMonad_Core_hs,v 1.3 2012/01/12 11:11:58 dcoppa Exp $

From Tomas Janousek.

--- XMonad/Core.hs.orig	Tue Jan  1 02:31:47 2013
+++ XMonad/Core.hs	Tue Jan 22 15:21:34 2013
@@@@ -506,7 +506,11 @@@@ trace = io . hPutStrLn stderr
 installSignalHandlers :: MonadIO m => m ()
 installSignalHandlers = io $ do
     installHandler openEndedPipe Ignore Nothing
-    installHandler sigCHLD Ignore Nothing
+    installHandler sigCHLD (Catch cleanZombies) Nothing
+    cleanZombies
+
+cleanZombies :: IO ()
+cleanZombies = do
     (try :: IO a -> IO (Either SomeException a))
       $ fix $ \more -> do
         x <- getAnyProcessStatus False False
@


1.3
log
@Update to xmonad-0.10

ok kili@@
@
text
@d1 1
a1 1
$OpenBSD: patch-XMonad_Core_hs,v 1.2 2011/04/04 22:40:55 kili Exp $
d5 3
a7 3
--- XMonad/Core.hs.orig	Sat Nov 19 00:14:36 2011
+++ XMonad/Core.hs	Wed Jan 11 10:04:38 2012
@@@@ -502,7 +502,11 @@@@ trace = io . hPutStrLn stderr
@


1.2
log
@Update to xmonad-0.9.2.

No haddock documentation for now (sorry). I hope this will
be fixed after the updates of ghc and haddock.
@
text
@d1 1
a1 1
$OpenBSD: patch-XMonad_Core_hs,v 1.1 2010/04/22 22:00:45 kili Exp $
d5 3
a7 3
--- XMonad/Core.hs.orig	Fri Dec 24 01:42:54 2010
+++ XMonad/Core.hs	Mon Apr  4 10:45:53 2011
@@@@ -465,7 +465,11 @@@@ trace = io . hPutStrLn stderr
@


1.1
log
@Update to xmonad-0.9.1
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- XMonad/Core.hs.orig	Thu Dec 17 00:25:04 2009
+++ XMonad/Core.hs	Mon Apr 12 02:12:43 2010
@@@@ -465,14 +465,18 @@@@ trace = io . hPutStrLn stderr
a11 4
-    try $ fix $ \more -> do
-        x <- getAnyProcessStatus False False
-        when (isJust x) more
-    return ()
a13 6
 
 uninstallSignalHandlers :: MonadIO m => m ()
 uninstallSignalHandlers = io $ do
     installHandler openEndedPipe Default Nothing
     installHandler sigCHLD Default Nothing
+    return ()
d17 3
a19 4
+    try $ fix $ \more -> do
+        x <- getAnyProcessStatus False False
+        when (isJust x) more
     return ()
@

