head	1.64;
access;
symbols
	OPENBSD_6_0:1.62.0.2
	OPENBSD_6_0_BASE:1.62
	OPENBSD_5_9:1.61.0.2
	OPENBSD_5_9_BASE:1.61
	OPENBSD_5_8:1.60.0.8
	OPENBSD_5_8_BASE:1.60
	OPENBSD_5_7:1.60.0.4
	OPENBSD_5_7_BASE:1.60
	OPENBSD_5_6:1.60.0.2
	OPENBSD_5_6_BASE:1.60
	OPENBSD_5_5:1.59.0.2
	OPENBSD_5_5_BASE:1.59
	OPENBSD_5_4:1.55.0.2
	OPENBSD_5_4_BASE:1.55
	OPENBSD_5_3:1.54.0.4
	OPENBSD_5_3_BASE:1.54
	OPENBSD_5_2:1.54.0.2
	OPENBSD_5_2_BASE:1.54
	OPENBSD_5_1_BASE:1.53
	OPENBSD_5_1:1.53.0.2
	OPENBSD_5_0:1.50.0.2
	OPENBSD_5_0_BASE:1.50
	OPENBSD_4_9:1.48.0.2
	OPENBSD_4_9_BASE:1.48
	OPENBSD_4_8:1.41.0.2
	OPENBSD_4_8_BASE:1.41
	OPENBSD_4_7:1.38.0.2
	OPENBSD_4_7_BASE:1.38
	OPENBSD_4_6:1.34.0.2
	OPENBSD_4_6_BASE:1.34
	OPENBSD_4_5:1.30.0.2
	OPENBSD_4_5_BASE:1.30
	OPENBSD_4_4:1.28.0.2
	OPENBSD_4_4_BASE:1.28
	OPENBSD_4_3:1.26.0.2
	OPENBSD_4_3_BASE:1.26
	OPENBSD_4_2:1.23.0.2
	OPENBSD_4_2_BASE:1.23
	OPENBSD_4_1:1.21.0.2
	OPENBSD_4_1_BASE:1.21
	OPENBSD_4_0:1.16.0.2
	OPENBSD_4_0_BASE:1.16
	OPENBSD_3_9:1.11.0.2
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.8.0.2
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.6.0.2
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.4.0.2
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.1.1.1.0.2
	OPENBSD_3_5_BASE:1.1.1.1
	xsa_2004-Feb-16:1.1.1.1
	xsa:1.1.1;
locks; strict;
comment	@# @;


1.64
date	2016.08.28.10.55.33;	author jca;	state Exp;
branches;
next	1.63;
commitid	Vr9S7N2L56rsQagx;

1.63
date	2016.08.28.10.51.46;	author jca;	state Exp;
branches;
next	1.62;
commitid	DyAc5W2Xs81F0fn3;

1.62
date	2016.03.20.16.12.27;	author naddy;	state Exp;
branches;
next	1.61;
commitid	guiZq8cnNbVyyHzx;

1.61
date	2015.08.19.20.13.59;	author sthen;	state Exp;
branches;
next	1.60;
commitid	Y50hccQnsBBO4pGq;

1.60
date	2014.04.01.13.21.46;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2013.11.25.14.16.24;	author sthen;	state Exp;
branches;
next	1.58;

1.58
date	2013.11.07.16.01.55;	author bcallah;	state Exp;
branches;
next	1.57;

1.57
date	2013.10.16.16.35.15;	author jasper;	state Exp;
branches;
next	1.56;

1.56
date	2013.09.04.18.17.54;	author landry;	state Exp;
branches;
next	1.55;

1.55
date	2013.03.11.11.46.15;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2012.07.13.16.56.55;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2011.09.28.09.51.37;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2011.09.16.12.29.17;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2011.09.12.12.07.26;	author jasper;	state Exp;
branches;
next	1.50;

1.50
date	2011.06.08.17.41.58;	author rpointel;	state Exp;
branches;
next	1.49;

1.49
date	2011.04.01.11.26.08;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2010.12.10.20.02.01;	author martynas;	state Exp;
branches;
next	1.47;

1.47
date	2010.11.22.08.37.04;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2010.10.18.13.53.09;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2010.10.11.08.19.59;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2010.09.30.07.29.03;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2010.09.27.07.05.42;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2010.08.30.21.47.46;	author sthen;	state Exp;
branches;
next	1.41;

1.41
date	2010.07.30.09.23.28;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.07.30.06.59.00;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.04.23.13.02.16;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2009.11.12.13.31.57;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2009.10.11.14.15.15;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2009.09.06.10.46.26;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2009.08.11.08.42.09;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2009.06.03.17.26.00;	author landry;	state Exp;
branches;
next	1.33;

1.33
date	2009.04.26.11.01.05;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2009.03.25.09.03.21;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2009.03.07.15.37.38;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2008.11.24.17.52.49;	author sthen;	state Exp;
branches;
next	1.29;

1.29
date	2008.10.28.14.29.14;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2008.05.27.08.02.51;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2008.04.22.14.50.54;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2007.10.27.09.42.48;	author simon;	state Exp;
branches;
next	1.25;

1.25
date	2007.10.08.08.22.44;	author steven;	state Exp;
branches;
next	1.24;

1.24
date	2007.09.15.20.04.23;	author merdely;	state Exp;
branches;
next	1.23;

1.23
date	2007.05.09.21.35.52;	author alek;	state Exp;
branches;
next	1.22;

1.22
date	2007.04.23.14.08.36;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2007.02.11.00.56.58;	author steven;	state Exp;
branches;
next	1.20;

1.20
date	2006.12.16.12.22.36;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2006.11.13.13.01.37;	author steven;	state Exp;
branches;
next	1.18;

1.18
date	2006.09.18.12.19.41;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2006.09.18.10.21.49;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2006.07.09.19.59.56;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2006.06.27.19.14.00;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2006.06.13.13.41.20;	author bernd;	state Exp;
branches;
next	1.13;

1.13
date	2006.06.03.09.50.24;	author alek;	state Exp;
branches;
next	1.12;

1.12
date	2006.05.08.13.44.18;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2006.01.27.19.08.06;	author alek;	state Exp;
branches;
next	1.10;

1.10
date	2006.01.20.07.46.29;	author steven;	state Exp;
branches;
next	1.9;

1.9
date	2005.11.16.08.48.59;	author wilfried;	state Exp;
branches;
next	1.8;

1.8
date	2005.06.16.21.53.38;	author mjc;	state Exp;
branches;
next	1.7;

1.7
date	2005.05.12.21.10.05;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2004.12.19.17.36.32;	author alek;	state Exp;
branches;
next	1.5;

1.5
date	2004.11.10.10.24.16;	author alek;	state Exp;
branches;
next	1.4;

1.4
date	2004.08.03.21.44.38;	author xsa;	state Exp;
branches;
next	1.3;

1.3
date	2004.07.04.23.42.59;	author mjc;	state Exp;
branches;
next	1.2;

1.2
date	2004.07.02.01.27.45;	author djm;	state Exp;
branches;
next	1.1;

1.1
date	2004.02.16.21.12.50;	author xsa;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.02.16.21.12.50;	author xsa;	state Exp;
branches;
next	;


desc
@@


1.64
log
@Zap explicit LIB_DEPENDS on devel/gettext.

Already brought in by libglade.  Reqd by ajacoutot@@
@
text
@# $OpenBSD: Makefile,v 1.63 2016/08/28 10:51:46 jca Exp $

BROKEN-alpha=	.got subsegment exceeds 64K

COMMENT=	GTK+2 Python bindings

GNOME_PROJECT=	pygtk
GNOME_VERSION=	2.24.0
PKGNAME=	py-gtk2-${VERSION}
REVISION=	4

CATEGORIES=	x11

HOMEPAGE=	http://www.pygtk.org/

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

EXTRACT_SUFX=		.tar.bz2

WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 cairo expat ffi fontconfig freetype
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glade-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 graphite2 gthread-2.0 gtk-x11-2.0
WANTLIB += harfbuzz iconv intl lzma m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += xcb xcb-render xcb-shm xml2 z

MODULES=	lang/python \
		x11/gnome

BUILD_DEPENDS=	${RUN_DEPENDS}
LIB_DEPENDS=	devel/libglade2
RUN_DEPENDS=	graphics/py-cairo>=1.2 \
		devel/py-gobject>=2.26.0 \
		math/py-numpy

USE_GMAKE=	No

.if ${MACHINE_ARCH} == "mips64" || ${MACHINE_ARCH} == "mips64el"
PATCH_LIST=	patch-* sup-mips64-*
.endif

CONFIGURE_STYLE=gnu

# pick bind_textdomain_codeset
MODGNOME_LDFLAGS=-lintl -liconv

TEST_IS_INTERACTIVE= x11

pre-configure:
	@@find ${WRKDIST} -name \*.py | \
	    xargs perl -i -pe 's,^#!/usr/bin/env python,#!${MODPY_BIN},'

post-install:
	rm ${PREFIX}/lib/python${MODPY_VERSION}/site-packages/gtk-2.0/{,gtk}/*.{a,la}

.include <bsd.port.mk>
@


1.63
log
@Drop the gettext module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2016/03/20 16:12:27 naddy Exp $
d33 1
a33 2
LIB_DEPENDS=	devel/gettext \
		devel/libglade2
@


1.62
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2015/08/19 20:13:59 sthen Exp $
d10 1
a10 1
REVISION=	3
d21 7
a27 7
WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 cairo
WANTLIB += expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glade-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gthread-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread-stubs xcb xcb-render
WANTLIB += xcb-shm xml2 z ffi graphite2 harfbuzz lzma pthread
d29 1
a29 2
MODULES=	devel/gettext \
		lang/python \
d33 2
a34 1
LIB_DEPENDS=	devel/libglade2
@


1.61
log
@take a break from doing this in alphabetic order and sync WANTLIB in some
python things, with a lovely boost_python${MODPY_MAJOR_VERSION:M3}-mt in there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/04/01 13:21:46 ajacoutot Exp $
a2 1
SHARED_ONLY=	Yes
@


1.60
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 2/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/11/25 14:16:24 sthen Exp $
d11 1
a11 1
REVISION=	2
d22 2
a23 2
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 cairo drm
d28 1
a28 1
WANTLIB += xcb-shm xml2 z
@


1.59
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/11/07 16:01:55 bcallah Exp $
d11 1
a11 1
REVISION=	1
a45 1
LIBTOOL_FLAGS+=	--tag=disable-static
a46 1
CONFIGURE_ARGS=	--disable-static
d56 3
@


1.58
log
@Unbreak py-gtk2 on mips64*
Patch from Donovan Watteau <tsoomi AT gmail DOT com>
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/10/16 16:35:15 jasper Exp $
a53 2

VMEM_WARNING=	Yes
@


1.57
log
@don't bother trying to build these on sgi only to fail; same reason as alpha
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/09/04 18:17:54 landry Exp $
a4 1
BROKEN-mips64=	.got subsegment exceeds 64K
d41 4
@


1.56
log
@Mark as BROKEN-alpha: .got subsegment exceeds 64K
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/03/11 11:46:15 espie Exp $
d5 1
@


1.55
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/07/13 16:56:55 ajacoutot Exp $
d4 1
@


1.54
log
@--disable-static
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/09/28 09:51:37 jasper Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d48 1
a48 1
REGRESS_IS_INTERACTIVE= x11
@


1.53
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/09/16 12:29:17 espie Exp $
d46 1
@


1.52
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/09/12 12:07:26 jasper Exp $
d48 1
a48 1
CONFIGURE_ENV=	LDFLAGS="-L${LOCALBASE}/lib -lintl -liconv"
@


1.51
log
@switch the rest of the ports using gnome.port.mk over to .tar.xz where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/06/08 17:41:58 rpointel Exp $
d10 1
a10 1
REVISION=	0
@


1.50
log
@bump after default python version switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/04/01 11:26:08 ajacoutot Exp $
d21 2
@


1.49
log
@Update to py-gtk2-2.24.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/12/10 20:02:01 martynas Exp $
d10 1
@


1.48
log
@mark it with VMEM_WARNING.  ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/11/22 08:37:04 espie Exp $
d8 1
a8 1
GNOME_VERSION=	2.22.0
a9 1
REVISION=	0
d21 7
a27 6
WANTLIB += X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 cairo expat fontconfig
WANTLIB += freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gtk-x11-2.0 m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png xml2 glade-2.0
WANTLIB += z pthread-stubs xcb gthread-2.0 xcb-render xcb-render-util
@


1.47
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/10/18 13:53:09 jasper Exp $
d48 2
@


1.46
log
@- use_x11 comes from gnome.port.mk now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/10/11 08:19:59 jasper Exp $
d34 4
a37 4
LIB_DEPENDS=	::devel/libglade2
RUN_DEPENDS=	:py-cairo->=1.2:graphics/py-cairo \
		:py-gobject->=2.26.0:devel/py-gobject \
		::math/py-numpy
@


1.45
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/09/30 07:29:03 ajacoutot Exp $
a40 1
USE_X11=	Yes
@


1.44
log
@Update to py-gtk2-2.22.0, following the gtk+2 update.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/09/27 07:05:42 ajacoutot Exp $
d10 1
d25 1
a25 1
WANTLIB += glitz gmodule-2.0 gobject-2.0 gtk-x11-2.0 m pango-1.0
@


1.43
log
@Update to py-gtk2-2.17.0.
This was released as a development version a long time ago but we need
it as it contains the defines of our actual gtk+2 version. Other *nix do
the same.
We cannot update to the latest py-gtk stable version just yet as it
requires a major gtk+2 version update which I'll work on during+after
p2k10.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/08/30 21:47:46 sthen Exp $
d8 1
a8 1
GNOME_VERSION=	2.17.0
d35 1
a35 1
		:py-gobject-*:devel/py-gobject \
@


1.42
log
@bumps for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/07/30 09:23:28 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	2.16.0
a9 1
REVISION=	3
@


1.41
log
@Again more new style DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/07/30 06:59:00 ajacoutot Exp $
d10 1
a10 1
REVISION=	2
@


1.40
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/04/23 13:02:16 ajacoutot Exp $
d10 1
a10 1
REVISION=	1
d26 1
a26 1
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png xml2
d34 1
a34 1
LIB_DEPENDS=	glade-2.0::devel/libglade2
@


1.39
log
@Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/11/12 13:31:57 jasper Exp $
d9 2
a10 1
PKGNAME=	py-gtk2-${VERSION}p1
@


1.38
log
@- remove py-Nummeric as a dependency

spotted by patrick keshishian in the py-gtk changelog
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/10/11 14:15:15 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${VERSION}p0
d26 1
a26 1
WANTLIB += z pthread-stubs xcb
@


1.37
log
@Update to py-gtk2-2.16.0.
Enable py-numpy support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2009/09/06 10:46:26 ajacoutot Exp $
d9 1
a9 2

PKGNAME=	py-gtk2-${VERSION}
a35 1
		:py-Numeric-*:math/py-Numeric \
@


1.36
log
@Make use of REGRESS_IS_INTERACTIVE=x11

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/08/11 08:42:09 ajacoutot Exp $
d8 3
a10 2
GNOME_VERSION=	2.14.1
PKGNAME=	py-gtk2-${VERSION}p1
d37 2
a38 1
		:py-Numeric-*:math/py-Numeric
@


1.35
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/06/03 17:26:00 landry Exp $
d47 1
a47 5
# The regression tests require a running instance of X.
# You will also need to set the XAUTHORITY environment variable to point 
# to the appropriate .Xauthority file. 
REGRESS_IS_INTERACTIVE= Yes
REGRESS_FLAGS=	DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
@


1.34
log
@Unfuck localized py-gtk apps when LANG!=C, making sure that configure
picks bind_textdomain_codeset() from libintl, and correctly sets the
codeset to UTF-8. This has annoyed me since c2k8, and the fix magically
appeared under my eyes this morning.
makes sense to wcmaier], ok ajacoutot@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/04/26 11:01:05 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${VERSION}p0
d26 1
a26 1
WANTLIB += z
@


1.33
log
@CONFIGURE_ENV += PYTHON="${MODPY_BIN}" is inherited from the python module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/03/25 09:03:21 jasper Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${VERSION}
d43 3
@


1.32
log
@- update py-gtk2 to 2.14.1
* the codengen/ stuff is no longer shipped with py-gtk
(but with py-gobject as of some time already)
- make pre-configure a tad more readable

this was tested in a bulk build
looks good to ajacoutot@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/03/07 15:37:38 jasper Exp $
a42 1
CONFIGURE_ENV=	PYTHON=${MODPY_BIN}
@


1.31
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/11/24 17:52:49 sthen Exp $
d8 2
a9 2
GNOME_VERSION=	2.12.1
PKGNAME=	py-gtk2-${VERSION}p3
d53 1
a53 1
	    xargs perl -i -pe 's:^#!/usr/bin/env python:#!${MODPY_BIN}:'
@


1.30
log
@WANTLIB+=pixman-1 and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2008/10/28 14:29:14 jasper Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${VERSION}p2
d21 6
a26 6
WANTLIB=	X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes Xi \
		Xinerama Xrandr Xrender atk-1.0 cairo expat fontconfig \
		freetype gdk-x11-2.0.>=802.0 gdk_pixbuf-2.0.>=802.0 \
		glib-2.0.>=1000.0 glitz gmodule-2.0.>=1000.0 \
		gobject-2.0.>=1000.0 gtk-x11-2.0.>=802.0 m pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png xml2 z
@


1.29
log
@- it's GNOME, not Gnome2 or gnome or any other variation

discussed with and agreed by ajacoutot@@ some time ago
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2008/05/27 08:02:51 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${VERSION}p1
d26 1
a26 1
		pangocairo-1.0 pangoft2-1.0 pcre png xml2 z
@


1.28
log
@- remove dependency on devhelp for lighter non-gnome ports to avoid a
too big dependency chain

requested by steven@@
discussed with steven@@ espie@@ fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2008/04/22 14:50:54 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${VERSION}p0
@


1.27
log
@- update to 2.12.1
- remove idle MAINTAINER
- use gnome MODULE

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/10/27 09:42:48 simon Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${VERSION}
a37 1
MODGNOME_DEVHELP_FILES=Yes
@


1.26
log
@fix WANTLIB after gtk+2 update

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2007/10/08 08:22:44 steven Exp $
d7 4
a10 3
V=		2.10.4
DISTNAME=	pygtk-${V}
PKGNAME=	py-gtk2-${V}p1
d15 1
a15 3
MAINTAINER=	Michael Coulter <mjc@@openbsd.org>

# LGPL
a20 3
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/pygtk/${V:R}/}
EXTRACT_SUFX=	.tar.bz2

d28 3
a30 1
MODULES=	devel/gettext lang/python
d38 3
a41 1
USE_LIBTOOL=	Yes
a48 1

d52 1
a52 1
pre-patch:
@


1.25
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/09/15 20:04:23 merdely Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${V}p0
d25 6
a30 6
WANTLIB=	X11 Xext Xrender atk-1.0 fontconfig freetype \
		gdk-x11-2.0.>=802.0 gdk_pixbuf-2.0.>=802.0 glib-2.0.>=1000.0 \
		gmodule-2.0.>=1000.0 gobject-2.0.>=1000.0 \
		gtk-x11-2.0.>=802.0 m pango-1.0 pangoft2-1.0 \
		pangocairo-1.0 xml2 z cairo glitz png
WANTLIB += Xau Xcursor Xdmcp Xfixes Xi Xinerama Xrandr expat
@


1.24
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/05/09 21:35:52 alek Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${V}
@


1.23
log
@Update to 2.10.4; help & ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/04/23 14:08:36 jasper Exp $
d5 1
a5 1
COMMENT=	"GTK+2 Python bindings"
@


1.22
log
@set REGRESS_IS_INTERACTIVE=Yes

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2007/02/11 00:56:58 steven Exp $
d7 1
a7 1
V=		2.8.6
d9 1
a9 1
PKGNAME=	py-gtk2-${V}p1
d25 1
a25 1
WANTLIB=	ICE SM X11 Xext Xrender atk-1.0 fontconfig freetype \
d27 1
a27 1
		gmodule-2.0.>=1000.0 gobject-2.0.>=1000.0 gthread-2.0.>=1000.0 \
d30 1
d36 3
a38 1
RUN_DEPENDS=	:py-cairo->=1.0.2p1:graphics/py-cairo
d42 1
@


1.21
log
@WANTLIB fixes, mostly needed by recent cairo update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/12/16 12:22:36 espie Exp $
d42 5
@


1.20
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/11/13 13:01:37 steven Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${V}p0
d25 1
a25 1
WANTLIB=	X11 Xext Xrender atk-1.0 fontconfig freetype \
@


1.19
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/09/18 12:19:41 espie Exp $
d33 1
a33 2
BUILD_DEPENDS=	:pkgconfig-*:devel/pkgconfig \
		${RUN_DEPENDS}
@


1.18
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/09/18 10:21:49 espie Exp $
d38 1
@


1.17
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/07/09 19:59:56 naddy Exp $
d25 1
a25 1
WANTLIB=	X11 Xext Xrender atk-1.0.0.0 fontconfig freetype \
d28 2
a29 2
		gtk-x11-2.0.>=802.0 m pango-1.0.0.0 pangoft2-1.0.0.0 \
		pangocairo-1.0.0.0 xml2 z cairo glitz png
d35 1
a35 1
LIB_DEPENDS=	glade-2.0.0.0::devel/libglade2
@


1.16
log
@add missing RUN_DEPENDS on py-cairo; suggested by jolan@@
ok jolan@@ mjc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/06/27 19:14:00 naddy Exp $
d26 3
a28 3
		gdk-x11-2.0.802.0 gdk_pixbuf-2.0.802.0 glib-2.0.1000.0 \
		gmodule-2.0.1000.0 gobject-2.0.1000.0 gthread-2.0.1000.0 \
		gtk-x11-2.0.802.0 m pango-1.0.0.0 pangoft2-1.0.0.0 \
@


1.15
log
@update to 2.8.6
ok mjc@@ and Joerg Zinke who maintains some dependent ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/06/13 13:41:20 bernd Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${V}
d34 1
a34 1
		:py-cairo->=1.0.2p1:graphics/py-cairo
d36 1
@


1.14
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/06/03 09:50:24 alek Exp $
d7 1
a7 1
V=		2.6.3
d9 1
a9 1
PKGNAME=	py-gtk2-${V}p1
d22 1
a22 1
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/pygtk/2.6/}
d26 3
a28 3
		gdk-x11-2.0.801.0 gdk_pixbuf-2.0.801.0 glib-2.0.800.0 \
		gmodule-2.0.800.0 gobject-2.0.800.0 gthread-2.0.800.0 \
		gtk-x11-2.0.801.0 m pango-1.0.0.0 pangoft2-1.0.0.0 \
d34 1
a34 1
		:py-Numeric-*:math/py-Numeric
@


1.13
log
@Bump PKGNAME after recent python switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/05/08 13:44:18 naddy Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${V}p0
d25 1
a25 1
WANTLIB=	X11 Xext Xft Xrender atk-1.0.0.0 fontconfig freetype \
d29 1
a29 1
		pangox-1.0.0.0 pangoxft-1.0.0.0 xml2 z
@


1.12
log
@update to 2.6.3, in sync with out Gtk+2 version; ok alek@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/01/27 19:08:06 alek Exp $
d3 1
a3 1
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
d9 1
a9 1
PKGNAME=	py-gtk2-${V}
@


1.11
log
@do-build and do-install targets are not needed anymore
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/01/20 07:46:29 steven Exp $
d5 1
a5 1
COMMENT=	"gtk+2 Python bindings"
d7 1
a7 1
V=		2.4.1
d9 1
a9 1
PKGNAME=	py-gtk2-${V}p1
a20 3
WANTLIB=		X11 Xext Xft Xrender atk-1.0.0.0 fontconfig freetype \
			intl m pango-1.0.0.0 pangoxft-1.0.0.0 pangox-1.0.0.0 \
			pangoft2-1.0.0.0 xml2 z
d22 1
a22 1
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/pygtk/2.4/}
d25 7
a31 1
MODULES=	converters/libiconv lang/python
d35 1
a35 3
LIB_DEPENDS=	glib-2.0.0.0,gmodule-2.0.0.0,gobject-2.0.0.0,gthread-2.0.0.0::devel/glib2 \
		glade-2.0.0.0::devel/libglade2 \
		gdk-x11-2.0.0.0,gdk_pixbuf-2.0.0.0,gtk-x11-2.0.0.0::x11/gtk+2
d43 3
a45 5
EXAMPLESDIR=	${PREFIX}/share/examples/py-gtk2

post-install:
	${INSTALL_DATA_DIR} ${EXAMPLESDIR}
	cd ${WRKSRC}/examples; pax -rw [a-z]* ${EXAMPLESDIR}
@


1.10
log
@fix WANTLIB after gtk+2 downgrade
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/11/16 08:48:59 wilfried Exp $
a42 6

do-build:
	@@cd ${WRKBUILD} && exec ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} ${MAKE_FLAGS} -f ${MAKE_FILE} ${ALL_TARGET}

do-install:
	@@cd ${WRKBUILD} && exec ${SUDO} ${SETENV} ${MAKE_ENV} ${_FAKE_SETUP} ${MAKE_PROGRAM} ${FAKE_FLAGS} -f ${MAKE_FILE} ${FAKE_TARGET}
@


1.9
log
@fix wantlib + bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/06/16 21:53:38 mjc Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${V}p0
d21 3
a23 3
WANTLIB=		X11 Xext Xrender atk-1.0.0.0 cairo fontconfig freetype \
			glitz intl m pango-1.0.0.0 pangocairo-1.0.0.0 \
			pangoft2-1.0.0.0 png xml2 z
@


1.8
log
@fix build/install with USE_SYSTRACE=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/05/12 21:10:05 naddy Exp $
d9 1
a9 1
PKGNAME=	py-gtk2-${V}
d21 3
a23 4
WANTLIB=		X11 Xcursor Xext Xft Xinerama Xrender atk-1.0.0.0 \
			fontconfig freetype glib-2.0.0.0 gmodule-2.0.0.0 \
			gobject-2.0.0.0 intl m pango-1.0.0.0 pangoft2-1.0.0.0 \
			pangox-1.0.0.0 pangoxft-1.0.0.0 xml2 z
d32 1
a32 1
LIB_DEPENDS=	gthread-2.0.0.0::devel/glib2 \
@


1.7
log
@update to 2.4.1; no objection from mjc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/12/19 17:36:32 alek Exp $
d46 1
a46 1
	@@cd ${WRKBUILD} && exec ${_SYSTRACE_CMD} ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} ${MAKE_FLAGS} -f ${MAKE_FILE} ${ALL_TARGET}
d49 1
a49 1
	@@cd ${WRKBUILD} && exec ${SUDO} ${_SYSTRACE_CMD} ${SETENV} ${MAKE_ENV} ${_FAKE_SETUP} ${MAKE_PROGRAM} ${FAKE_FLAGS} -f ${MAKE_FILE} ${FAKE_TARGET}
@


1.6
log
@Add/fix WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/11/10 10:24:16 alek Exp $
d7 1
a7 1
V=		2.2.0
d23 2
a24 2
			gobject-2.0.0.0 intl m pango-1.0.0.0 pangox-1.0.0.0 \
			pangoxft-1.0.0.0 xml2 z
d26 2
a27 1
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/pygtk/2.2/}
a30 2
MODPY_DISTUTILS_BUILDARGS=	--enable-threading

d37 1
a38 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED} --enable-thread
d41 1
a41 1
NO_REGRESS=	Yes
d45 5
a49 4
pre-build:
	@@perl -pi -e 's,%%PREFIX%%,${PREFIX},g' \
		${WRKSRC}/codegen/pygtk-codegen-2.0.in \
		${WRKSRC}/pygtk-2.0.pc.in
d53 1
a53 1
	cd ${WRKSRC}/examples; tar cf - . | tar xf - -C ${EXAMPLESDIR}
@


1.5
log
@Don't and WRKINST to paths in pygtk-2.0.pc

make sense xsa@@, looks good mjc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/08/03 21:44:38 xsa Exp $
d21 4
@


1.4
log
@
MODULES= converters/libiconv lang/python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/07/04 23:42:59 mjc Exp $
d44 2
a45 1
		${WRKSRC}/codegen/pygtk-codegen-2.0.in
@


1.3
log
@update my e-mail address
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/07/02 01:27:45 djm Exp $
d24 1
a24 1
MODULES=	iconv python
@


1.2
log
@update to pygtk-2.2.0; ok mjc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/02/16 21:12:50 xsa Exp $
d14 1
a14 1
MAINTAINER=	Michael Coulter <mjc@@bitz.ca>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
V=		2.0.0
d22 1
a22 1
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/pygtk/2.0/}
@


1.1.1.1
log
@
Import py-gtk2-2.0.0

PyGTK allows you to write full featured GTK programs in
Python. It is targetted at GTK 2.x, and can be used in
conjunction with gnome-python to write Gnome applications.

Submitted and maintained by Michael Coulter <mjc at bitz.ca>

ok sturm@@.
@
text
@@
