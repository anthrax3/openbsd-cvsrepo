head	1.3;
access;
symbols
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2013.03.08.10.23.13;	author jasper;	state dead;
branches;
next	1.2;

1.2
date	2012.10.16.10.40.21;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2012.10.09.17.12.31;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- update to i3status-2.7
* all functional patches have been committed upstream.

tested by and ok rpe@@
@
text
@$OpenBSD: patch-i3status_c,v 1.2 2012/10/16 10:40:21 jasper Exp $

From ae4873bac793245e7dea4719c8e0d1c7bc990d5f Mon Sep 17 00:00:00 2001
From: Jasper Lievisse Adriaanse <jasper@@openbsd.org>
Date: Wed, 10 Oct 2012 07:57:32 +0000
Subject: i3status - More temperature related fixes for OpenBSD, and a general feature

--- i3status.c.orig	Tue Oct  9 20:35:06 2012
+++ i3status.c	Tue Oct  9 20:35:15 2012
@@@@ -243,6 +243,7 @@@@ int main(int argc, char *argv[]) {
         cfg_opt_t temp_opts[] = {
                 CFG_STR("format", "%degrees C", CFGF_NONE),
                 CFG_STR("path", NULL, CFGF_NONE),
+                CFG_INT("max_threshold", 75, CFGF_NONE),
                 CFG_END()
         };
 
@@@@ -460,7 +461,7 @@@@ int main(int argc, char *argv[]) {
 
                         CASE_SEC_TITLE("cpu_temperature") {
                                 SEC_OPEN_MAP("cpu_temperature");
-                                print_cpu_temperature_info(json_gen, buffer, atoi(title), cfg_getstr(sec, "path"), cfg_getstr(sec, "format"));
+                                print_cpu_temperature_info(json_gen, buffer, atoi(title), cfg_getstr(sec, "path"), cfg_getstr(sec, "format"), cfg_getint(sec, "max_threshold"));
                                 SEC_CLOSE_MAP;
                         }
 
@


1.2
log
@sync comments; everything is upstream now.
@
text
@d1 1
a1 1
$OpenBSD: patch-i3status_c,v 1.1 2012/10/09 17:12:31 jasper Exp $
@


1.1
log
@- Temperature sensors can now set a 'max_threshold' value to color the
  output red if exceeded.
@
text
@d1 1
a1 1
$OpenBSD$
d3 4
a6 2
- Temperature sensors can now set a 'max_threshold' value to color the
  output red if exceeded.
@

