head	1.22;
access;
symbols
	OPENBSD_6_1:1.21.0.4
	OPENBSD_6_1_BASE:1.21
	OPENBSD_6_0:1.21.0.2
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.20.0.4
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.19.0.2
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.18.0.4
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.18.0.2
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.14.0.6
	OPENBSD_5_3_BASE:1.14
	OPENBSD_5_2:1.14.0.4
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.2
	OPENBSD_5_0:1.13.0.4
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.13.0.2
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.10.0.2
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.8.0.6
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.4
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.2
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.5.0.4
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	ajacoutot_20070123:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.22
date	2017.04.10.11.46.37;	author sthen;	state Exp;
branches;
next	1.21;
commitid	HY6VNZxjJWzKQFDV;

1.21
date	2016.03.11.20.28.34;	author naddy;	state Exp;
branches;
next	1.20;
commitid	UYLP8TE6V7RS2GhJ;

1.20
date	2015.05.05.17.00.21;	author sthen;	state Exp;
branches;
next	1.19;
commitid	ukCYGVBlglFzny8e;

1.19
date	2014.11.30.05.41.35;	author brad;	state Exp;
branches;
next	1.18;
commitid	WiC4X2lTBuuiJrMc;

1.18
date	2013.11.25.14.16.24;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.21.08.48.57;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.19.13.07.14;	author nigel;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.11.11.46.17;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2011.09.16.12.29.17;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.22.08.37.05;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.06.23.49.20;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.24.21.15.36;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2010.07.30.06.59.01;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2010.07.02.17.40.42;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2008.09.02.21.11.12;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2008.09.01.08.52.31;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2008.08.20.16.09.23;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.01.03.09.15.47;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.15.20.04.26;	author merdely;	state Exp;
branches;
next	1.3;

1.3
date	2007.06.02.08.39.34;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2007.02.07.14.01.51;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.23.15.43.05;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.23.15.43.05;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.22
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.21 2016/03/11 20:28:34 naddy Exp $

COMMENT=	two-dimensional molecule drawing program

DISTNAME=	xdrawchem-1.9.9
REVISION=	7
CATEGORIES=	x11 biology

HOMEPAGE=	http://xdrawchem.sourceforge.net/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += GL ICE SM X11 X11-xcb Xau Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xft Xi Xinerama Xmu Xrandr Xrender Xt Xxf86vm c drm expat
WANTLIB += fontconfig freetype glapi jpeg lcms m mng openbabel>=4 png
WANTLIB += pthread pthread-stubs ${LIBCXX} xcb xcb-dri2 xcb-glx z

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=xdrawchem/}

MODULES=	x11/qt3

LIB_DEPENDS =	misc/openbabel>=2.2.0

USE_GMAKE=	Yes

MAKE_FLAGS=	LDFLAGS+="-lqt-mt -pthread -L${X11BASE}/lib"

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--with-qtincdir=${MODQT_INCDIR} \
		--with-qtlibdir=${MODQT_LIBDIR}

.include <bsd.port.mk>
@


1.21
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/05/05 17:00:21 sthen Exp $
d17 1
a17 1
WANTLIB += pthread pthread-stubs stdc++ xcb xcb-dri2 xcb-glx z
@


1.20
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/11/30 05:41:35 brad Exp $
d30 1
a30 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-qtincdir=${MODQT_INCDIR} \
@


1.19
log
@Eliminate the use of the malloc.h header and/or replace
with stdlib.h.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/11/25 14:16:24 sthen Exp $
d6 1
a6 1
REVISION=	6
d14 5
a20 4
WANTLIB =	GL ICE SM X11 Xcursor Xdamage Xext Xfixes Xft Xi Xinerama
WANTLIB +=	Xmu Xrandr Xrender Xt Xxf86vm c drm expat fontconfig
WANTLIB +=	freetype jpeg lcms m mng png pthread pthread-stubs stdc++ xcb z

a23 1
WANTLIB +=	openbabel>=4
@


1.18
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/21 08:48:57 ajacoutot Exp $
d6 1
a6 1
REVISION=	5
@


1.17
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/19 13:07:14 nigel Exp $
a23 2

VMEM_WARNING=	Yes
@


1.16
log
@WANTLIB updates for fontconfig and other libraries.

Ok sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/11 11:46:17 espie Exp $
a26 1
USE_LIBTOOL=	Yes
@


1.15
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/09/16 12:29:17 espie Exp $
d6 1
a6 1
REVISION=	4
d16 3
a18 1
WANTLIB=	c m pthread stdc++ z
@


1.14
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/22 08:37:05 espie Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.13
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/06 23:49:20 espie Exp $
d6 1
a6 1
REVISION=	3
@


1.12
log
@convert LIB_DEPENDS in x11 ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/24 21:15:36 ajacoutot Exp $
d23 2
a24 2
LIB_DEPENDS =	:openbabel->=2.2.0:misc/openbabel
WANTLIB +=	openbabel.>=4
@


1.11
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/07/30 06:59:01 ajacoutot Exp $
d23 2
a24 1
LIB_DEPENDS=	openbabel.>=4:openbabel->=2.2.0:misc/openbabel
@


1.10
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/07/02 17:40:42 ajacoutot Exp $
a26 1
USE_X11=	Yes
@


1.9
log
@Remove myself from MAINTAINER here too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/09/02 21:11:12 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.8
log
@- make it possible to build under all archs without exhausting memory

fix build on alpha, tested by merdely@@ thanks ;-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/09/01 08:52:31 brad Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
a9 2

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
@


1.7
log
@Revert the last commit now that openbabel has removed the
dependency on GCC 4.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/08/20 16:09:23 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
a38 4

.if ${MACHINE_ARCH} == "sparc64" || ${MACHINE_ARCH} == "powerpc" || ${MACHINE_ARCH} == "arm"
PATCH_LIST=	patch-* gcc-*
.endif
@


1.6
log
@- use gcc4 (allows building with openbabel-2.2.0)
- regen PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/01/03 09:15:47 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d21 1
a21 1
WANTLIB=	c m pthread z
a24 1
BUILD_DEPENDS=	:autoconf-${AUTOCONF_VERSION}:devel/autoconf/${AUTOCONF_VERSION}
a26 2
AUTOCONF_VERSION=2.60

a32 5
# XXX follows openbabel GCC to avoid mismatching symbols
MODULES+=	gcc4
MODGCC4_LANGS=	c++
MODGCC4_ARCHES=	*

a33 1
MAKE_ENV=	AUTOCONF_VERSION=${AUTOCONF_VERSION}
@


1.5
log
@arm needs -O0 to build this. ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/09/15 20:04:26 merdely Exp $
d6 1
d21 1
a21 1
WANTLIB=	c m pthread stdc++ z
d25 4
a28 1
LIB_DEPENDS=	openbabel.>=3::misc/openbabel
a34 1
CONFIGURE_STYLE=gnu
d36 7
a42 1
MAKE_FLAGS+=	LDFLAGS+="-lqt-mt -pthread -L${X11BASE}/lib"
d44 1
@


1.4
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/06/02 08:39:34 ajacoutot Exp $
d39 1
a39 1
.if ${MACHINE_ARCH} == "sparc64" || ${MACHINE_ARCH} == "powerpc"
@


1.3
log
@- make it possible to compile under ppc without dying of exhaustion
(same way sparc64 does it)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/02/07 14:01:51 sturm Exp $
d3 1
a3 1
COMMENT=	"two-dimensional molecule drawing program"
@


1.2
log
@sanitize build by compiling one file with -O0 on sparc64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/01/23 15:43:05 ajacoutot Exp $
d39 1
a39 1
.if ${MACHINE_ARCH} == "sparc64"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d38 4
@


1.1.1.1
log
@Import xdrawchem-1.9.9

XDrawChem is a two-dimensional molecule drawing program for Unix
operating systems.  It is similar in functionality to other molecule
drawing programs such as ChemDraw (TM, CambridgeSoft).  It can read and
write MDL Molfiles, and read ChemDraw text and binary files, to allow
sharing between XDrawChem and other chemistry applications, and it can
create images in popular formats like PNG and EPS.

ok mbalmer@@
@
text
@@
