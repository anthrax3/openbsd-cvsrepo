head	1.7;
access;
symbols
	OPENBSD_5_0:1.5.0.2
	OPENBSD_5_0_BASE:1.5
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3;
locks; strict;
comment	@# @;


1.7
date	2011.11.07.09.17.07;	author dcoppa;	state dead;
branches;
next	1.6;

1.6
date	2011.10.30.15.16.13;	author dcoppa;	state Exp;
branches;
next	1.5;

1.5
date	2011.04.24.17.32.24;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2004.04.28.18.10.34;	author robert;	state dead;
branches;
next	1.3;

1.3
date	2004.01.29.17.52.43;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2002.12.10.15.22.40;	author brad;	state dead;
branches;
next	1.1;

1.1
date	2002.11.21.14.56.31;	author brad;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Cope with fribidi update

from Brad

OK edd@@
@
text
@$OpenBSD: patch-configure_in,v 1.6 2011/10/30 15:16:13 dcoppa Exp $

Fix for our (older) fribidi port

--- configure.in.orig	Sat Oct 29 15:46:15 2011
+++ configure.in	Sun Oct 30 13:14:32 2011
@@@@ -610,7 +610,7 @@@@ if test "x$enableval" = "xyes"; then
 		AC_MSG_CHECKING([for fribidi/fribidi.h])
 		AC_TRY_COMPILE(
 #include <fribidi/fribidi.h>
-      , fribidi_version_info,
+      , FRIBIDI_VERSION,
 			AC_MSG_RESULT([yes])
 			AC_DEFINE(HAVE_FRIBIDI, [1], [Define to 1 if you have FRIBIDI])
 			LIBS="$LIBS -lfribidi",
@


1.6
log
@Update to fluxbox-1.3.2
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.5 2011/04/24 17:32:24 dcoppa Exp $
@


1.5
log
@Update to fluxbox-1.3.1 plus some patches to fix a couple of crashers
(above all, a use-after-free crash on restart/exit).

OK landry@@
Maintainer timed out
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- configure.in.orig	Sun Feb 27 18:40:00 2011
+++ configure.in	Tue Apr 19 14:08:07 2011
@@@@ -613,7 +613,7 @@@@ if test "x$enableval" = "xyes"; then
@


1.4
log
@update to 0.9.9 (developement release); 1.0.0 will be the stable one.
mainly from Francois Briere <f.briere@@dopha.org>; modifications from me
ok naddy@@
@
text
@d1 15
a15 35
$OpenBSD: patch-configure_in,v 1.3 2004/01/29 17:52:43 naddy Exp $
--- configure.in.orig	2004-01-29 18:00:33.000000000 +0100
+++ configure.in	2004-01-29 18:01:17.000000000 +0100
@@@@ -31,7 +31,30 @@@@ AC_HEADER_TIME
 
 dnl Check for existance of basename(), setlocale() and strftime()
 AC_CHECK_FUNCS(basename, , AC_CHECK_LIB(gen, basename, LIBS="$LIBS -lgen"))
-AC_CHECK_FUNCS(getpid setlocale sigaction strftime strcasestr snprintf vsnprintf catopen catgets catclose)
+AC_CHECK_FUNCS(getpid setlocale sigaction strcasestr snprintf vsnprintf catopen catgets catclose)
+dnl The autoconf test for strftime is broken now (due to gcc 3.3 bug?):
+dnl Gcc 3.3 testprog = ``extern "C" char strftime;'', build with g++ test.cc
+dnl breaks with:
+dnl   test.cc:1: error: nonnull argument with out-of-range operand number 
+dnl   (arg 1, operand 3)
+
+
+AC_MSG_CHECKING(for strftime)
+
+AC_COMPILE_IFELSE(
+[AC_LANG_PROGRAM([#include <time.h>],
+[[
+char * s;
+time_t t = time(NULL);
+size_t x = strftime(s, 5, "%a", localtime(&t));
+]]
+)],
+[
+	AC_DEFINE(HAVE_STRFTIME, 1, [Define to 1 if you have the 'strftime' function.])
+	AC_MSG_RESULT(yes)
+],
+[AC_MSG_RESULT(no)])
+
 AC_CHECK_LIB(nsl, t_open, LIBS="$LIBS -lnsl")
 AC_CHECK_LIB(socket, socket, LIBS="$LIBS -lsocket")
 
@


1.3
log
@Fix build for gcc3:
* Work around an overzealous format check when looking for strftime().
* Add a missing #include.

Taken from the fluxbox CVS repository.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@upgrade to fluxbox 0.1.14
--
From: MAINTAINER
@
text
@d1 4
a4 18
I think the NLS feature does not work.
This is a patch to fix the problem.

$OpenBSD: patch-configure_in,v 1.1 2002/11/21 14:56:31 brad Exp $
--- configure.in.orig	Mon Nov 18 05:59:23 2002
+++ configure.in	Wed Nov 20 19:35:23 2002
@@@@ -171,10 +171,12 @@@@ AC_ARG_ENABLE(nls,
   if test x$enableval = "xyes"; then
     AC_MSG_RESULT([yes])
     AC_DEFINE(NLS, 1, "Natural language support")
+    NLS="-DNLS"
   else
     AC_MSG_RESULT([no])
   fi,
   AC_MSG_RESULT([yes])
+  NLS="-DNLS"
   AC_DEFINE(NLS, 1, "Natural language support")
 )
d6 9
a14 4
@@@@ -184,6 +186,8 @@@@ AC_CHECK_PROGS(gencat_cmd, gencat)
 if test x$gencat_cmd = "x"; then
   NLS=""
 fi
d16 19
a34 2
+AC_SUBST(NLS)
 
a35 1
 dnl Check for new timed pixmap cache
@


1.1
log
@upgrade to fluxbox 0.1.13
--
From: MAINTAINER
@
text
@d4 1
a4 1
$OpenBSD$
@

