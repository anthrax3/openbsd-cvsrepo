head	1.5;
access;
symbols;
locks; strict;
comment	@# @;


1.5
date	2002.12.06.00.28.41;	author brad;	state dead;
branches;
next	1.4;

1.4
date	2002.11.27.17.48.52;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2002.05.06.19.22.24;	author brad;	state dead;
branches;
next	1.2;

1.2
date	2002.05.03.13.47.10;	author lebel;	state Exp;
branches;
next	1.1;

1.1
date	2002.04.27.13.25.59;	author lebel;	state Exp;
branches;
next	;


desc
@@


1.5
log
@use patch from distsite.
--
From: MAINTAINER
@
text
@Fixes start-up problems with aa-fonts
--- src/Font.cc.orig	Fri Oct 25 23:06:45 2002
+++ src/Font.cc	Sun Nov 24 07:21:51 2002
@@@@ -139,14 +139,8 @@@@ void Font::setAntialias(bool flag) {
 bool Font::load(const char *name) {
 	if (name == 0)
 		return false;
-	bool ret_val = m_fontimp->load(name);
-	if (ret_val && name == 0) { //prevent from having a bad fontimp
-		m_fontstr = name; // if the load really succeded then set font string
-	} else {
-		m_fontstr = "";
-	}
-
-	return ret_val;
+	m_fontstr = name;
+	return m_fontimp->load(name);
 }
 
 unsigned int Font::textWidth(const char * const text, unsigned int size) const {
@


1.4
log
@add a few patches I missed in the upgrade to 0.1.13.

second try, gooo CVS!

--
From: MAINTAINER
@
text
@@


1.3
log
@grab the fluxbox patches from the website.
--
Based on patches from the MAINTAINER and lebel@@
@
text
@d1 18
a18 5
$OpenBSD: patch-src_Font_cc,v 1.2 2002/05/03 13:47:10 lebel Exp $
--- src/Font.cc.orig	Wed Mar 27 19:47:44 2002
+++ src/Font.cc	Sat Apr 27 06:06:23 2002
@@@@ -25,6 +25,8 @@@@
 #include "Font.hh"
d20 1
a20 14
 #include "StringUtil.hh"
+#include "i18n.hh"
+
 //use gnu extensions
 #ifndef _GNU_SOURCE
 #define _GNU_SOURCE
@@@@ -53,6 +55,7 @@@@ m_display(display) {
 	m_font.fontstruct = 0;
 	m_font.set_extents = 0;
 	m_font.set = 0;
+	m_multibyte = I18n::instance()->multibyte();
 	if (name!=0) {
 		load(name);
 	}
@


1.2
log
@insert missing $OpenBSD$
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@fluxbox's 0.1.8 bugfix 1 applied; bump patchlevel to p1;
from maintainer Han <han@@mijncomputer.nl>
@
text
@d1 1
@

