head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.12
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.8
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.10
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.6
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.12
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.10
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.8
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.6
	OPENBSD_5_0:1.3.0.4
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	sebastia_20100716:1.1.1.1
	sebastia:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2013.08.07.19.17.07;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2011.01.05.17.47.49;	author sebastia;	state Exp;
branches;
next	1.2;

1.2
date	2010.07.16.11.25.12;	author sebastia;	state Exp;
branches;
next	1.1;

1.1
date	2010.07.16.08.28.14;	author sebastia;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.07.16.08.28.14;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.4
log
@remove workarounds for gcc 2.95
@
text
@$OpenBSD: patch-configure,v 1.3 2011/01/05 17:47:49 sebastia Exp $

Do not overwrite CFLAGS_OPTIMIZE.

--- configure.orig	Thu Jul 15 17:04:48 2010
+++ configure	Wed Aug  7 20:16:04 2013
@@@@ -6401,11 +6401,11 @@@@ fi
     ECHO_VERSION='`echo ${PACKAGE_VERSION}`'
     TCL_LIB_VERSIONS_OK=ok
     CFLAGS_DEBUG=-g
-    CFLAGS_OPTIMIZE=-O
+    #CFLAGS_OPTIMIZE=-O
     if test "$GCC" = yes; then :
 
 	# TEA specific:
-	CFLAGS_OPTIMIZE=-O2
+	CFLAGS_OPTIMIZE=""
 	CFLAGS_WARNING="-W -Wall -Wno-unused-parameter -Wno-missing-field-initializers -ansi -pedantic"
 
 else
@@@@ -7517,7 +7517,6 @@@@ fi
 		# OpenBSD builds and links with -pthread, never -lpthread.
 		LIBS=`echo $LIBS | sed s/-lpthread//`
 		CFLAGS="$CFLAGS -pthread"
-		SHLIB_CFLAGS="$SHLIB_CFLAGS -pthread"
 
 fi
 	    # OpenBSD doesn't do version numbers with dots.
@


1.3
log
@Update to new Tcl layout.
While there, fix whitespaces in Makefile.

OK landry@@, stu@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.2 2010/07/16 11:25:12 sebastia Exp $
d3 1
a3 1
remove parameters that gcc2 doesn't know of, and do not overwrite CFLAGS_OPTIMIZE
d5 3
a7 3
--- configure.orig	Thu Jul 15 11:04:48 2010
+++ configure	Wed Dec  8 22:50:09 2010
@@@@ -6401,12 +6401,12 @@@@ fi
a16 1
-	CFLAGS_WARNING="-W -Wall -Wno-unused-parameter -Wno-missing-field-initializers -ansi -pedantic"
d18 1
a18 1
+	CFLAGS_WARNING="-W -Wall -ansi -pedantic"
a20 1
   CFLAGS_WARNING=""
@


1.2
log
@Use VERSION in the Makefile, and do not overwrite CFLAGS, regen PLIST, as pointed out by Antoine
OK ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.1.1.1 2010/07/16 08:28:14 sebastia Exp $
d5 2
a6 2
--- configure.orig	Sat May 15 13:48:50 2010
+++ configure	Fri Jul 16 12:36:32 2010
d23 8
@


1.1
log
@Initial revision
@
text
@d1 13
a13 5
$OpenBSD$
remove parameters that gcc2 doesn't know of
--- configure.orig	Sat Jul 10 20:13:21 2010
+++ configure	Sat Jul 10 20:13:33 2010
@@@@ -6406,7 +6406,7 @@@@ fi
d16 1
a16 1
 	CFLAGS_OPTIMIZE=-O2
d18 1
@


1.1.1.1
log
@Import tktray, system tray icon support for Tk.
Tktray is an extension that is able to create system tray icons.                                                                                                                                                              
It follows http://www.freedesktop.org specifications when looking                                                                                                                                                             
up the system tray manager. This protocol is supported by modern                                                                                                                                                              
versions of KDE and Gnome panels, and by some other panel-like                                                                                                                                                                
application.
OK landry@@, and after more cleanup, also OK sthen@@

@
text
@@
