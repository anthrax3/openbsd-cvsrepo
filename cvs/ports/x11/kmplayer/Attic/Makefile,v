head	1.26;
access;
symbols
	OPENBSD_5_9:1.25.0.2
	OPENBSD_5_9_BASE:1.25
	OPENBSD_5_8:1.23.0.4
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.21.0.6
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.21.0.4
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.21.0.2
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.16.0.2
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.12.0.4
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.2
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.9.0.2
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.8.0.10
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.8
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.6
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.4
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.2
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.7.0.4
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.2
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.6.0.8
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.6.0.6
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.4
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.2
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.1.1.1.0.4
	OPENBSD_3_4_BASE:1.1.1.1
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.26
date	2016.04.29.21.20.38;	author zhuk;	state dead;
branches;
next	1.25;
commitid	jLKJQnZluyuYhQUu;

1.25
date	2016.01.17.17.29.11;	author sthen;	state Exp;
branches;
next	1.24;
commitid	bS2FIbTCCkF3XjOq;

1.24
date	2015.08.17.20.34.20;	author sthen;	state Exp;
branches;
next	1.23;
commitid	60BvOqUl7gD2yB7y;

1.23
date	2015.05.23.10.44.37;	author espie;	state Exp;
branches;
next	1.22;
commitid	cg6sGahYCIlR6BQe;

1.22
date	2015.03.16.18.07.59;	author naddy;	state Exp;
branches;
next	1.21;
commitid	IJdm3Zowcdkcxp5X;

1.21
date	2014.01.13.19.06.24;	author zhuk;	state Exp;
branches;
next	1.20;

1.20
date	2013.12.22.19.24.35;	author zhuk;	state Exp;
branches;
next	1.19;

1.19
date	2013.12.17.11.55.59;	author zhuk;	state Exp;
branches;
next	1.18;

1.18
date	2013.10.22.11.34.24;	author zhuk;	state Exp;
branches;
next	1.17;

1.17
date	2013.10.05.07.34.42;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2013.06.24.15.53.39;	author zhuk;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.21.08.33.52;	author landry;	state Exp;
branches;
next	1.14;

1.14
date	2013.03.11.11.46.13;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2013.01.17.11.35.43;	author zhuk;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.16.12.29.16;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2011.07.06.21.25.23;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.22.08.37.02;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.07.30.12.03.09;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2007.09.15.20.04.22;	author merdely;	state Exp;
branches;
next	1.7;

1.7
date	2006.11.11.18.38.02;	author sturm;	state Exp;
branches;
next	1.6;

1.6
date	2004.12.30.00.38.41;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2004.12.17.15.18.33;	author alek;	state Exp;
branches;
next	1.4;

1.4
date	2004.09.15.19.26.29;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2004.08.10.11.16.43;	author xsa;	state Exp;
branches;
next	1.2;

1.2
date	2003.10.08.17.13.16;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2003.02.18.15.20.14;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.02.18.15.20.14;	author espie;	state Exp;
branches;
next	;


desc
@@


1.26
log
@Remove another bunch of KDE3 ports: outdated, superseded and useless ones.
@
text
@# $OpenBSD: Makefile,v 1.25 2016/01/17 17:29:11 sthen Exp $

COMMENT=	front-end/embeddable KPart for MPlayer
CATEGORIES=	x11 x11/kde
DISTNAME=	kmplayer-0.6.4
REVISION=	13
EXTRACT_SUFX=	.tar.bz2

SHARED_LIBS=	kparts_kmplayer  0.0 \
		kdeinit_kmplayer 0.0

MASTER_SITES=	http://www.xs4all.nl/~jjvrieze/
WRKDIST=${WRKDIR}/kmplayer
VERSION=3
MAINTAINER=	Marc Espie <espie@@openbsd.org>

MODKDE_VERSION=	3.1
MODULES=	x11/kde devel/gettext

MODKDE_FIXUP_DATADIR=	Yes

MODGNU_CONFIG_GUESS_DIRS=	${MODKDE_CONFIG_GUESS_DIRS}
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.52
CONFIGURE_ARGS+=	${MODKDE_CONFIGURE_ARGS}
CONFIGURE_ENV=		LDFLAGS="${LDFLAGS} -L${LOCALBASE}/${KDE}" CXXFLAGS="-O2 -fPIC"
USE_GMAKE=		Yes
USE_LIBTOOL =		No
PORTHOME=${WRKDIR}

CONFIGURE_ENV+=		${MODKDE_CONFIGURE_ENV}
MAKE_ENV=		${CONFIGURE_ENV}

MAKE_FLAGS+=		${MODKDE_MAKE_FLAGS}

# GPLv2+
PERMIT_PACKAGE_CDROM=Yes

WANTLIB =  ICE SM X11 Xext Xfixes Xrender Xt art_lgpl_2 audiofile c
WANTLIB += expat fam fontconfig freetype glib-2.0 gmodule-2.0
WANTLIB += gthread-2.0 idn m mad mcop ogg pcre png pthread sndio
WANTLIB += stdc++ util vorbis vorbisenc vorbisfile xcb z
WANTLIB += FLAC pthread-stubs
WANTLIB += ${KDE}/DCOP ${KDE}/artsflow ${KDE}/artsflow_idl
WANTLIB += ${KDE}/artskde ${KDE}/kdecore ${KDE}/kdefx ${KDE}/kdesu
WANTLIB += ${KDE}/kdeui ${KDE}/kio ${KDE}/kmedia2_idl
WANTLIB += ${KDE}/kmediaplayer ${KDE}/kparts ${KDE}/kwalletclient
WANTLIB += ${KDE}/qtmcop ${KDE}/soundserver_idl
WANTLIB += X11-xcb Xdamage Xxf86vm drm glapi xcb-dri2 xcb-glx

LIB_DEPENDS=x11/kde/libs3

RUN_DEPENDS=	x11/mplayer

SEPARATE_BUILD=flavored

.include <bsd.port.mk>
@


1.25
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/08/17 20:34:20 sthen Exp $
@


1.24
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/05/23 10:44:37 espie Exp $
d6 1
a8 2
REVISION=	12

d49 1
@


1.23
log
@make it build again, likely to not work anyway
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/03/16 18:07:59 naddy Exp $
d8 1
a8 1
REVISION=	11
d44 1
@


1.22
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/01/13 19:06:24 zhuk Exp $
d8 1
a8 1
REVISION=	10
d27 1
a27 1
CONFIGURE_ENV=		LDFLAGS="${LDFLAGS} -L${LOCALBASE}/${KDE}"
@


1.21
log
@Avoid picking up KDE4 libraries, if any.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/12/22 19:24:35 zhuk Exp $
d8 1
a8 1
REVISION=	9
@


1.20
log
@Next KDE deconflicting step: rename share/config/ to share/config.kde3/ and
share/config.kcfg/ to share/config.kcfg.kde3/. Tested on i386, including
run-time tests (not for all apps, though).

After this commit, there are only two conflicting files in kdelibs 3.x and
4.x packages left - to be solved soon.

spurring from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/12/17 11:55:59 zhuk Exp $
d8 1
a8 1
REVISION=	8
d27 1
@


1.19
log
@Does not require desktop-file-utils, mimelnk is KDE-specific directory
which is handled by ksycoca. Zap extra whitespace at the end of WANTLIB
while there.

Both nits pointed out by portcheck.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/10/22 11:34:24 zhuk Exp $
d8 1
a8 1
REVISION=	7
@


1.18
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/10/05 07:34:42 espie Exp $
d8 1
a8 1
REVISION=	6
d42 1
a42 1
WANTLIB += stdc++ util vorbis vorbisenc vorbisfile xcb z 
d51 1
a51 2
RUN_DEPENDS=	devel/desktop-file-utils \
		x11/mplayer
@


1.17
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/06/24 15:53:39 zhuk Exp $
d8 1
a8 1
REVISION=	5
d20 3
@


1.16
log
@Massive cleanup for KDE3. Main point is in changing WANTLIB from "foo" to
"lib/kde3/foo" where appropirate, but also many missing desktop goo items
added, some PFRAG.shared removed and so on.

input and okay landry@@ and ajacoutot@@, also okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/21 08:33:52 landry Exp $
d8 1
a8 1
REVISION=	4
@


1.15
log
@Explicitely set USE_LIBTOOL=No for ports we know don't work with our
libtool.
Joint work with ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/03/11 11:46:13 espie Exp $
d8 1
a8 1
REVISION=	3
d35 10
a44 8
WANTLIB=	ICE SM X11 Xext Xrender art_lgpl_2 artsflow artsflow_idl \
		audiofile c \
		kmedia2_idl kwalletclient m mad mcop ogg \
		png pthread qtmcop soundserver_idl stdc++ util vorbis \
		vorbisenc vorbisfile z kdecore DCOP kdefx kdesu kdeui kio \
		kmediaplayer kparts artskde
WANTLIB += Xfixes Xt expat fam fontconfig freetype glib-2.0 gmodule-2.0
WANTLIB += gthread-2.0 idn pcre sndio xcb
@


1.14
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/01/17 11:35:43 zhuk Exp $
d25 1
@


1.13
log
@Unbreak and clean up KMPlayer. Now you can watch movies in Konqueror again.

okay espie@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/16 12:29:16 espie Exp $
a32 1
PERMIT_PACKAGE_FTP=Yes
a33 2
PERMIT_DISTFILES_FTP=Yes
PERMIT_DISTFILES_CDROM=Yes
@


1.12
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/07/06 21:25:23 ajacoutot Exp $
d3 2
a4 4

BROKEN=		Need to resolve various issues
COMMENT=	front-end/embeddable kpart for mplayer
CATEGORIES=	x11	x11/kde
d8 1
a8 1
REVISION=	2
d32 1
a32 1
# GPL
d38 3
a40 3
		audiofile c esd glib-2.0.0.0 gmodule-2.0.0.0 gthread-2.0.0.0 \
		jpeg kmedia2_idl kwalletclient m mad mcop ogg \
		ossaudio png pthread qtmcop soundserver_idl stdc++ util vorbis \
d43 2
d48 2
a49 1
RUN_DEPENDS=x11/mplayer
@


1.11
log
@Use the gettext MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/22 08:37:02 espie Exp $
d10 1
a10 1
REVISION=	1
@


1.10
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/07/30 12:03:09 ajacoutot Exp $
d10 1
a10 1
REVISION=	0
d21 1
a21 1
MODULES=	x11/kde
d41 1
a41 1
		iconv intl jpeg kmedia2_idl kwalletclient m mad mcop ogg \
@


1.9
log
@Move to new DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/09/15 20:04:22 merdely Exp $
d46 1
a46 1
LIB_DEPENDS=::x11/kde/libs3
d48 1
a48 1
RUN_DEPENDS=:mplayer-*:x11/mplayer
@


1.8
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/11/11 18:38:02 sturm Exp $
d9 3
d43 2
a44 1
		vorbisenc vorbisfile z 
d46 1
a46 1
LIB_DEPENDS=kdecore.4,DCOP,kdefx,kdesu,kdeui,kio,kmediaplayer,kparts,artskde::x11/kde/libs3
@


1.7
log
@SHARED_LIBS to silence pkg_mklocatedb, still BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/12/30 00:38:41 espie Exp $
d4 2
a5 2
BROKEN="Need to resolve various issues"
COMMENT='front-end/embeddable kpart for mplayer'
@


1.6
log
@mark this as broken, for now...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/12/17 15:18:33 alek Exp $
d9 2
a10 1

@


1.5
log
@Add WANTLIB markers, part two
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/09/15 19:26:29 espie Exp $
d4 1
@


1.4
log
@new style plists
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/08/10 11:16:43 xsa Exp $
d34 5
@


1.3
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/10/08 17:13:16 sturm Exp $
d35 1
a35 1
LIB_DEPENDS=kdecore.4,DCOP,kdefx,kdesu,kdeui,kio,kmediaplayer,kparts::x11/kde/libs3
@


1.2
log
@first bunch of license cleanup, some discussions about interpretation
during the release with pval@@

other categories will follow once they are finished
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/02/18 15:20:14 espie Exp $
d16 1
a16 1
MODULES=kde
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/01/29 10:13:07 espie Exp $
d28 2
@


1.1.1.1
log
@move kmplayer from x11/kde/kmplayer
@
text
@@
