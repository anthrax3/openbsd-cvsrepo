head	1.219;
access;
symbols
	OPENBSD_6_1:1.214.0.2
	OPENBSD_6_1_BASE:1.214
	OPENBSD_6_0:1.211.0.2
	OPENBSD_6_0_BASE:1.211
	OPENBSD_5_9:1.209.0.2
	OPENBSD_5_9_BASE:1.209
	OPENBSD_5_8:1.208.0.4
	OPENBSD_5_8_BASE:1.208
	OPENBSD_5_7:1.202.0.2
	OPENBSD_5_7_BASE:1.202
	OPENBSD_5_6:1.193.0.2
	OPENBSD_5_6_BASE:1.193
	OPENBSD_5_5:1.181.0.2
	OPENBSD_5_5_BASE:1.181
	OPENBSD_5_4:1.176.0.2
	OPENBSD_5_4_BASE:1.176
	OPENBSD_5_3:1.156.0.2
	OPENBSD_5_3_BASE:1.156
	OPENBSD_5_2:1.145.0.2
	OPENBSD_5_2_BASE:1.145
	OPENBSD_5_1_BASE:1.141
	OPENBSD_5_1:1.141.0.2
	OPENBSD_5_0:1.134.0.2
	OPENBSD_5_0_BASE:1.134
	OPENBSD_4_9:1.121.0.2
	OPENBSD_4_9_BASE:1.121
	OPENBSD_4_8:1.110.0.2
	OPENBSD_4_8_BASE:1.110
	OPENBSD_4_7:1.97.0.2
	OPENBSD_4_7_BASE:1.97
	OPENBSD_4_6:1.78.0.2
	OPENBSD_4_6_BASE:1.78
	OPENBSD_4_5:1.75.0.2
	OPENBSD_4_5_BASE:1.75
	OPENBSD_4_4:1.68.0.2
	OPENBSD_4_4_BASE:1.68
	OPENBSD_4_3:1.60.0.2
	OPENBSD_4_3_BASE:1.60
	OPENBSD_4_2:1.53.0.2
	OPENBSD_4_2_BASE:1.53
	OPENBSD_4_1:1.47.0.2
	OPENBSD_4_1_BASE:1.47
	OPENBSD_4_0:1.40.0.2
	OPENBSD_4_0_BASE:1.40
	OPENBSD_3_9:1.33.0.2
	OPENBSD_3_9_BASE:1.33
	OPENBSD_3_8:1.24.0.2
	OPENBSD_3_8_BASE:1.24
	OPENBSD_3_7:1.20.0.2
	OPENBSD_3_7_BASE:1.20
	OPENBSD_3_6:1.16.0.2
	OPENBSD_3_6_BASE:1.16
	OPENBSD_3_5:1.13.0.2
	OPENBSD_3_5_BASE:1.13
	OPENBSD_3_4:1.10.0.2
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.5.0.2
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	nino_20020725:1.1.1.1
	nino:1.1.1;
locks; strict;
comment	@# @;


1.219
date	2017.05.27.12.37.16;	author ajacoutot;	state Exp;
branches;
next	1.218;
commitid	ryWZD0oTv5x1BVVd;

1.218
date	2017.05.26.18.02.01;	author ajacoutot;	state Exp;
branches;
next	1.217;
commitid	b5DtZNBL3iesqJQw;

1.217
date	2017.05.26.17.54.31;	author espie;	state Exp;
branches;
next	1.216;
commitid	I2UwBquFRf41uKvd;

1.216
date	2017.04.28.17.35.11;	author espie;	state Exp;
branches;
next	1.215;
commitid	cTNgEtmgKJyPQU5o;

1.215
date	2017.04.28.11.16.30;	author ajacoutot;	state Exp;
branches;
next	1.214;
commitid	LOpaL8ovCdse0ViR;

1.214
date	2017.02.18.17.33.52;	author ajacoutot;	state Exp;
branches;
next	1.213;
commitid	kjw4RQ4AAUYktD89;

1.213
date	2017.02.18.17.32.38;	author ajacoutot;	state Exp;
branches;
next	1.212;
commitid	bw6Y0vDo3oixdVWL;

1.212
date	2016.09.09.20.35.19;	author ajacoutot;	state Exp;
branches;
next	1.211;
commitid	JIJDpMHZpK6TaCfD;

1.211
date	2016.07.09.08.57.11;	author sthen;	state Exp;
branches
	1.211.2.1;
next	1.210;
commitid	uxbjHaVdG1wkV1Fx;

1.210
date	2016.03.06.08.53.26;	author ajacoutot;	state Exp;
branches;
next	1.209;
commitid	ZdkrKcFDc2HEdMWG;

1.209
date	2015.12.11.06.17.39;	author ajacoutot;	state Exp;
branches;
next	1.208;
commitid	2HQ3tTxpLId5q4Sm;

1.208
date	2015.05.13.14.27.47;	author ajacoutot;	state Exp;
branches;
next	1.207;
commitid	iTa7YpdZ4CIahD0o;

1.207
date	2015.04.04.09.21.08;	author ajacoutot;	state Exp;
branches;
next	1.206;
commitid	kS3kwKZogsvzYmEY;

1.206
date	2015.04.04.08.39.02;	author ajacoutot;	state Exp;
branches;
next	1.205;
commitid	iw9bxLMVQ1W8EBvO;

1.205
date	2015.03.27.08.08.50;	author ajacoutot;	state Exp;
branches;
next	1.204;
commitid	HlByQ9mFCeQagQkl;

1.204
date	2015.03.25.06.27.57;	author ajacoutot;	state Exp;
branches;
next	1.203;
commitid	1BCW2VjvVTK5gNla;

1.203
date	2015.03.15.08.41.35;	author ajacoutot;	state Exp;
branches;
next	1.202;
commitid	4af6jnqgfUuLkcr8;

1.202
date	2015.02.16.20.27.55;	author ajacoutot;	state Exp;
branches;
next	1.201;
commitid	XeZHoxkZzLAWAK0I;

1.201
date	2014.10.10.17.03.52;	author ajacoutot;	state Exp;
branches;
next	1.200;
commitid	q7JMe92jvbjgmnEs;

1.200
date	2014.10.10.08.59.25;	author ajacoutot;	state Exp;
branches;
next	1.199;
commitid	RZNx3X4unlbioMXu;

1.199
date	2014.10.10.08.38.56;	author ajacoutot;	state Exp;
branches;
next	1.198;
commitid	ImXmD4uL6nyvDEBX;

1.198
date	2014.10.09.06.43.03;	author ajacoutot;	state Exp;
branches;
next	1.197;
commitid	1Z0EIHNxiVMGw88W;

1.197
date	2014.10.08.12.11.51;	author ajacoutot;	state Exp;
branches;
next	1.196;
commitid	C8e5yMJDvXHIl6wp;

1.196
date	2014.10.02.20.02.20;	author ajacoutot;	state Exp;
branches;
next	1.195;
commitid	IzDhJCQ2DwPEVPlm;

1.195
date	2014.10.02.19.20.51;	author ajacoutot;	state Exp;
branches;
next	1.194;
commitid	YILQ1cyYEZZB7XSI;

1.194
date	2014.10.02.15.35.03;	author ajacoutot;	state Exp;
branches;
next	1.193;
commitid	HreEOb9sSnNvOgPi;

1.193
date	2014.06.23.17.32.10;	author ajacoutot;	state Exp;
branches;
next	1.192;
commitid	5pv3hC1Sqwg1nRCj;

1.192
date	2014.04.25.15.11.55;	author ajacoutot;	state Exp;
branches;
next	1.191;

1.191
date	2014.04.21.11.54.13;	author ajacoutot;	state Exp;
branches;
next	1.190;

1.190
date	2014.04.12.17.09.18;	author ajacoutot;	state Exp;
branches;
next	1.189;

1.189
date	2014.04.02.14.47.21;	author ajacoutot;	state Exp;
branches;
next	1.188;

1.188
date	2014.04.02.09.36.14;	author jasper;	state Exp;
branches;
next	1.187;

1.187
date	2014.04.01.18.06.32;	author jasper;	state Exp;
branches;
next	1.186;

1.186
date	2014.04.01.15.31.47;	author jasper;	state Exp;
branches;
next	1.185;

1.185
date	2014.03.24.10.06.26;	author ajacoutot;	state Exp;
branches;
next	1.184;

1.184
date	2014.03.20.08.51.52;	author ajacoutot;	state Exp;
branches;
next	1.183;

1.183
date	2014.03.18.08.08.00;	author ajacoutot;	state Exp;
branches;
next	1.182;

1.182
date	2014.03.09.22.12.36;	author ajacoutot;	state Exp;
branches;
next	1.181;

1.181
date	2014.02.09.14.36.10;	author zhuk;	state Exp;
branches;
next	1.180;

1.180
date	2014.02.09.14.24.08;	author zhuk;	state Exp;
branches;
next	1.179;

1.179
date	2013.12.02.09.25.26;	author ajacoutot;	state Exp;
branches;
next	1.178;

1.178
date	2013.10.11.15.07.17;	author ajacoutot;	state Exp;
branches;
next	1.177;

1.177
date	2013.09.17.16.44.36;	author ajacoutot;	state Exp;
branches;
next	1.176;

1.176
date	2013.07.07.09.58.29;	author ajacoutot;	state Exp;
branches;
next	1.175;

1.175
date	2013.07.07.09.45.15;	author ajacoutot;	state Exp;
branches;
next	1.174;

1.174
date	2013.07.07.09.38.06;	author ajacoutot;	state Exp;
branches;
next	1.173;

1.173
date	2013.06.20.06.54.38;	author ajacoutot;	state Exp;
branches;
next	1.172;

1.172
date	2013.06.17.19.28.37;	author ajacoutot;	state Exp;
branches;
next	1.171;

1.171
date	2013.06.16.18.02.58;	author ajacoutot;	state Exp;
branches;
next	1.170;

1.170
date	2013.06.04.18.41.58;	author naddy;	state Exp;
branches;
next	1.169;

1.169
date	2013.05.31.15.29.41;	author ajacoutot;	state Exp;
branches;
next	1.168;

1.168
date	2013.05.24.13.16.36;	author ajacoutot;	state Exp;
branches;
next	1.167;

1.167
date	2013.05.13.14.29.12;	author ajacoutot;	state Exp;
branches;
next	1.166;

1.166
date	2013.04.16.13.17.01;	author ajacoutot;	state Exp;
branches;
next	1.165;

1.165
date	2013.04.02.16.11.44;	author ajacoutot;	state Exp;
branches;
next	1.164;

1.164
date	2013.04.02.10.14.20;	author ajacoutot;	state Exp;
branches;
next	1.163;

1.163
date	2013.04.02.10.06.37;	author ajacoutot;	state Exp;
branches;
next	1.162;

1.162
date	2013.03.26.14.20.52;	author ajacoutot;	state Exp;
branches;
next	1.161;

1.161
date	2013.03.26.14.16.18;	author ajacoutot;	state Exp;
branches;
next	1.160;

1.160
date	2013.03.21.08.48.56;	author ajacoutot;	state Exp;
branches;
next	1.159;

1.159
date	2013.03.11.11.46.12;	author espie;	state Exp;
branches;
next	1.158;

1.158
date	2013.03.04.17.12.59;	author ajacoutot;	state Exp;
branches;
next	1.157;

1.157
date	2013.03.02.13.48.32;	author ajacoutot;	state Exp;
branches;
next	1.156;

1.156
date	2013.01.23.09.36.30;	author ajacoutot;	state Exp;
branches;
next	1.155;

1.155
date	2013.01.05.18.13.56;	author ajacoutot;	state Exp;
branches;
next	1.154;

1.154
date	2013.01.05.12.53.09;	author ajacoutot;	state Exp;
branches;
next	1.153;

1.153
date	2012.12.06.08.13.23;	author ajacoutot;	state Exp;
branches;
next	1.152;

1.152
date	2012.09.24.04.47.09;	author ajacoutot;	state Exp;
branches;
next	1.151;

1.151
date	2012.09.21.14.48.06;	author ajacoutot;	state Exp;
branches;
next	1.150;

1.150
date	2012.09.21.13.24.09;	author ajacoutot;	state Exp;
branches;
next	1.149;

1.149
date	2012.09.03.22.18.54;	author ajacoutot;	state Exp;
branches;
next	1.148;

1.148
date	2012.09.01.14.37.00;	author ajacoutot;	state Exp;
branches;
next	1.147;

1.147
date	2012.08.30.13.55.28;	author ajacoutot;	state Exp;
branches;
next	1.146;

1.146
date	2012.08.04.15.04.43;	author ajacoutot;	state Exp;
branches;
next	1.145;

1.145
date	2012.07.16.07.11.01;	author ajacoutot;	state Exp;
branches;
next	1.144;

1.144
date	2012.06.15.07.31.11;	author ajacoutot;	state Exp;
branches;
next	1.143;

1.143
date	2012.04.23.07.34.43;	author ajacoutot;	state Exp;
branches;
next	1.142;

1.142
date	2012.02.16.22.09.14;	author ajacoutot;	state Exp;
branches;
next	1.141;

1.141
date	2012.02.02.09.21.07;	author ajacoutot;	state Exp;
branches;
next	1.140;

1.140
date	2012.01.25.09.05.18;	author ajacoutot;	state Exp;
branches;
next	1.139;

1.139
date	2011.12.03.18.30.41;	author ajacoutot;	state Exp;
branches;
next	1.138;

1.138
date	2011.11.10.19.41.02;	author ajacoutot;	state Exp;
branches;
next	1.137;

1.137
date	2011.10.18.06.20.16;	author ajacoutot;	state Exp;
branches;
next	1.136;

1.136
date	2011.09.16.12.29.15;	author espie;	state Exp;
branches;
next	1.135;

1.135
date	2011.08.31.06.25.54;	author ajacoutot;	state Exp;
branches;
next	1.134;

1.134
date	2011.06.27.07.04.40;	author ajacoutot;	state Exp;
branches;
next	1.133;

1.133
date	2011.06.16.08.38.41;	author ajacoutot;	state Exp;
branches;
next	1.132;

1.132
date	2011.06.08.17.41.57;	author rpointel;	state Exp;
branches;
next	1.131;

1.131
date	2011.06.02.17.09.32;	author kili;	state Exp;
branches;
next	1.130;

1.130
date	2011.05.19.14.30.39;	author ajacoutot;	state Exp;
branches;
next	1.129;

1.129
date	2011.05.11.08.03.21;	author ajacoutot;	state Exp;
branches;
next	1.128;

1.128
date	2011.04.07.07.45.32;	author ajacoutot;	state Exp;
branches;
next	1.127;

1.127
date	2011.04.06.07.47.28;	author ajacoutot;	state Exp;
branches;
next	1.126;

1.126
date	2011.04.02.06.33.34;	author ajacoutot;	state Exp;
branches;
next	1.125;

1.125
date	2011.03.25.09.21.37;	author ajacoutot;	state Exp;
branches;
next	1.124;

1.124
date	2011.03.14.19.04.34;	author ajacoutot;	state Exp;
branches;
next	1.123;

1.123
date	2011.03.14.16.44.42;	author ajacoutot;	state Exp;
branches;
next	1.122;

1.122
date	2011.03.07.19.19.27;	author ajacoutot;	state Exp;
branches;
next	1.121;

1.121
date	2010.11.22.08.36.59;	author espie;	state Exp;
branches;
next	1.120;

1.120
date	2010.11.16.07.37.25;	author ajacoutot;	state Exp;
branches;
next	1.119;

1.119
date	2010.11.04.17.53.56;	author jasper;	state Exp;
branches;
next	1.118;

1.118
date	2010.10.24.21.15.32;	author ajacoutot;	state Exp;
branches;
next	1.117;

1.117
date	2010.10.11.08.19.58;	author jasper;	state Exp;
branches;
next	1.116;

1.116
date	2010.10.08.07.32.49;	author robert;	state Exp;
branches;
next	1.115;

1.115
date	2010.10.06.13.52.54;	author dcoppa;	state Exp;
branches;
next	1.114;

1.114
date	2010.09.30.07.18.15;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2010.08.30.21.47.46;	author sthen;	state Exp;
branches;
next	1.112;

1.112
date	2010.08.25.07.40.13;	author ajacoutot;	state Exp;
branches;
next	1.111;

1.111
date	2010.08.22.14.02.59;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2010.08.03.21.56.03;	author sthen;	state Exp;
branches;
next	1.109;

1.109
date	2010.07.22.10.40.35;	author ajacoutot;	state Exp;
branches;
next	1.108;

1.108
date	2010.05.10.17.22.10;	author ajacoutot;	state Exp;
branches;
next	1.107;

1.107
date	2010.05.03.15.04.27;	author ajacoutot;	state Exp;
branches;
next	1.106;

1.106
date	2010.05.02.14.07.14;	author ajacoutot;	state Exp;
branches;
next	1.105;

1.105
date	2010.05.02.07.10.04;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2010.05.02.06.46.12;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2010.05.01.09.31.24;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2010.04.25.20.35.08;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2010.04.24.15.54.27;	author jasper;	state Exp;
branches;
next	1.100;

1.100
date	2010.04.22.19.45.46;	author ajacoutot;	state Exp;
branches;
next	1.99;

1.99
date	2010.04.20.19.03.37;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2010.03.21.09.56.40;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2010.01.12.08.53.36;	author ajacoutot;	state Exp;
branches;
next	1.96;

1.96
date	2009.12.31.13.07.30;	author landry;	state Exp;
branches;
next	1.95;

1.95
date	2009.12.08.21.18.43;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2009.12.07.18.26.16;	author jasper;	state Exp;
branches;
next	1.93;

1.93
date	2009.12.01.09.41.14;	author ajacoutot;	state Exp;
branches;
next	1.92;

1.92
date	2009.11.29.11.54.31;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2009.11.22.16.40.04;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2009.10.17.16.14.54;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2009.10.14.11.20.38;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2009.10.10.11.25.28;	author jasper;	state Exp;
branches;
next	1.87;

1.87
date	2009.10.06.07.07.17;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2009.10.04.18.17.57;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2009.09.18.20.47.11;	author martynas;	state Exp;
branches;
next	1.84;

1.84
date	2009.09.16.12.58.44;	author jasper;	state Exp;
branches;
next	1.83;

1.83
date	2009.09.06.10.46.25;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2009.08.29.20.17.49;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2009.08.11.08.42.08;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2009.07.18.09.10.37;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2009.07.12.20.39.33;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2009.05.22.13.08.22;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2009.04.21.13.01.18;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2009.04.10.10.59.30;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2009.01.11.17.04.47;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2008.12.20.19.37.19;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2008.12.07.21.37.53;	author naddy;	state Exp;
branches;
next	1.72;

1.72
date	2008.11.25.13.14.08;	author jasper;	state Exp;
branches;
next	1.71;

1.71
date	2008.11.18.12.36.49;	author landry;	state Exp;
branches;
next	1.70;

1.70
date	2008.11.15.13.29.55;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2008.09.27.17.59.12;	author brad;	state Exp;
branches;
next	1.68;

1.68
date	2008.07.08.08.40.11;	author brad;	state Exp;
branches;
next	1.67;

1.67
date	2008.06.02.14.10.07;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2008.05.23.10.58.32;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2008.05.20.21.10.18;	author kili;	state Exp;
branches;
next	1.64;

1.64
date	2008.05.19.09.57.44;	author fgsch;	state Exp;
branches;
next	1.63;

1.63
date	2008.04.18.09.20.20;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2008.04.15.19.34.53;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2008.04.09.13.15.44;	author jasper;	state Exp;
branches;
next	1.60;

1.60
date	2008.02.09.17.55.39;	author jasper;	state Exp;
branches;
next	1.59;

1.59
date	2008.01.17.22.26.50;	author jasper;	state Exp;
branches;
next	1.58;

1.58
date	2008.01.04.18.38.52;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2007.12.05.14.32.18;	author steven;	state Exp;
branches;
next	1.56;

1.56
date	2007.10.31.21.54.11;	author winiger;	state Exp;
branches;
next	1.55;

1.55
date	2007.10.24.22.34.34;	author jasper;	state Exp;
branches;
next	1.54;

1.54
date	2007.09.10.19.15.25;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2007.07.16.07.55.46;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2007.05.26.02.44.55;	author kili;	state Exp;
branches;
next	1.51;

1.51
date	2007.05.23.14.26.25;	author steven;	state Exp;
branches;
next	1.50;

1.50
date	2007.05.12.20.24.56;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2007.04.23.16.29.05;	author jasper;	state Exp;
branches;
next	1.48;

1.48
date	2007.03.28.20.31.07;	author steven;	state Exp;
branches;
next	1.47;

1.47
date	2007.02.11.00.56.58;	author steven;	state Exp;
branches;
next	1.46;

1.46
date	2007.02.02.09.21.29;	author bernd;	state Exp;
branches;
next	1.45;

1.45
date	2006.12.16.12.22.36;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2006.12.16.08.57.16;	author matthieu;	state Exp;
branches;
next	1.43;

1.43
date	2006.11.24.17.28.41;	author steven;	state Exp;
branches;
next	1.42;

1.42
date	2006.09.26.20.06.08;	author kurt;	state Exp;
branches;
next	1.41;

1.41
date	2006.09.18.10.21.48;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2006.07.10.14.47.32;	author steven;	state Exp;
branches
	1.40.2.1;
next	1.39;

1.39
date	2006.06.19.17.59.02;	author bernd;	state Exp;
branches;
next	1.38;

1.38
date	2006.06.03.19.56.56;	author brad;	state Exp;
branches;
next	1.37;

1.37
date	2006.06.03.18.23.52;	author brad;	state Exp;
branches;
next	1.36;

1.36
date	2006.05.22.02.16.40;	author brad;	state Exp;
branches;
next	1.35;

1.35
date	2006.05.22.01.49.07;	author brad;	state Exp;
branches;
next	1.34;

1.34
date	2006.04.10.20.04.23;	author naddy;	state Exp;
branches;
next	1.33;

1.33
date	2006.01.10.03.04.01;	author naddy;	state Exp;
branches
	1.33.2.1;
next	1.32;

1.32
date	2006.01.07.07.13.14;	author pvalchev;	state Exp;
branches;
next	1.31;

1.31
date	2006.01.07.07.10.18;	author pvalchev;	state Exp;
branches;
next	1.30;

1.30
date	2006.01.03.07.33.36;	author marcm;	state Exp;
branches;
next	1.29;

1.29
date	2005.12.01.15.42.04;	author bernd;	state Exp;
branches;
next	1.28;

1.28
date	2005.11.20.07.20.23;	author marcm;	state Exp;
branches;
next	1.27;

1.27
date	2005.11.13.06.23.58;	author marcm;	state Exp;
branches;
next	1.26;

1.26
date	2005.09.07.20.51.14;	author kurt;	state Exp;
branches;
next	1.25;

1.25
date	2005.09.06.16.51.46;	author marcm;	state Exp;
branches;
next	1.24;

1.24
date	2005.08.16.18.28.56;	author espie;	state Exp;
branches
	1.24.2.1;
next	1.23;

1.23
date	2005.08.05.17.15.09;	author kurt;	state Exp;
branches;
next	1.22;

1.22
date	2005.05.24.21.29.11;	author marcm;	state Exp;
branches;
next	1.21;

1.21
date	2005.05.11.19.00.43;	author alek;	state Exp;
branches;
next	1.20;

1.20
date	2004.12.07.06.20.46;	author marcm;	state Exp;
branches
	1.20.2.1;
next	1.19;

1.19
date	2004.10.26.03.52.02;	author marcm;	state Exp;
branches;
next	1.18;

1.18
date	2004.09.27.03.15.07;	author marcm;	state Exp;
branches;
next	1.17;

1.17
date	2004.09.16.04.14.55;	author marcm;	state Exp;
branches;
next	1.16;

1.16
date	2004.08.08.17.14.23;	author marcm;	state Exp;
branches;
next	1.15;

1.15
date	2004.06.22.03.15.03;	author marcm;	state Exp;
branches;
next	1.14;

1.14
date	2004.03.30.15.48.29;	author sturm;	state Exp;
branches;
next	1.13;

1.13
date	2004.02.04.07.39.19;	author sturm;	state Exp;
branches
	1.13.2.1;
next	1.12;

1.12
date	2003.12.08.06.08.42;	author marcm;	state Exp;
branches;
next	1.11;

1.11
date	2003.09.23.06.12.41;	author marcm;	state Exp;
branches;
next	1.10;

1.10
date	2003.08.24.20.48.55;	author sturm;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2003.08.15.21.07.05;	author marcm;	state Exp;
branches;
next	1.8;

1.8
date	2003.07.26.23.22.50;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2003.06.30.03.59.03;	author marcm;	state Exp;
branches;
next	1.6;

1.6
date	2003.06.12.19.26.36;	author marcm;	state Exp;
branches;
next	1.5;

1.5
date	2003.02.18.17.36.04;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2002.12.23.04.59.47;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2002.08.11.11.03.27;	author nino;	state Exp;
branches;
next	1.2;

1.2
date	2002.07.26.05.16.12;	author nino;	state Exp;
branches;
next	1.1;

1.1
date	2002.07.25.09.42.35;	author nino;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.07.25.09.42.35;	author nino;	state Exp;
branches;
next	;

1.10.2.1
date	2004.09.30.04.22.53;	author brad;	state Exp;
branches;
next	;

1.13.2.1
date	2004.09.30.04.25.22;	author brad;	state Exp;
branches;
next	;

1.20.2.1
date	2005.11.21.09.42.47;	author sturm;	state Exp;
branches;
next	;

1.24.2.1
date	2005.11.21.09.44.09;	author sturm;	state Exp;
branches;
next	;

1.33.2.1
date	2007.02.03.17.35.27;	author sturm;	state Exp;
branches;
next	;

1.40.2.1
date	2007.02.03.20.33.01;	author sturm;	state Exp;
branches;
next	;

1.211.2.1
date	2016.09.12.14.48.19;	author ajacoutot;	state Exp;
branches;
next	;
commitid	VkeKxH4Wr9KhIcGv;


desc
@@


1.219
log
@vi(1) did not like me on that one...
thanks naddy@@ for spotting it.
@
text
@# $OpenBSD: Makefile,v 1.218 2017/05/26 18:02:01 ajacoutot Exp $

# Everything is a Freaking GLib/GTK+ problem
CFLAGS +=		-g
INSTALL_STRIP=		# empty

COMMENT-main=		multi-platform graphical toolkit
COMMENT-cups=		gtk+2 CUPS print backend

GNOME_VERSION=		2.24.31
GNOME_PROJECT=		gtk+

PKGNAME-main=		gtk+2-${GNOME_VERSION}
PKGNAME-cups=		gtk+2-cups-${GNOME_VERSION}
REVISION-cups=		1
REVISION-main=		1

CATEGORIES=		x11 devel

SHARED_LIBS +=  gdk-x11-2.0          2400.0   # 2400.30
SHARED_LIBS +=  gtk-x11-2.0          2400.0   # 2400.30
SHARED_LIBS +=  gailutil             26.0     # 18.1

HOMEPAGE=		http://www.gtk.org/

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 cairo expat ffi fontconfig
WANTLIB += freetype gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 graphite2 gthread-2.0 harfbuzz m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs xcb xcb-render xcb-shm z iconv intl

WANTLIB-main += ${WANTLIB} c

WANTLIB-cups += ${WANTLIB}
WANTLIB-cups += avahi-client avahi-common cups dbus-1 gdk-x11-2.0 gmp
WANTLIB-cups += gnutls gtk-x11-2.0 hogweed idn2 nettle p11-kit tasn1

MULTI_PACKAGES=		-main -cups

MODULES=		lang/python \
			x11/gnome

LIB_DEPENDS-main=	devel/atk \
			devel/pango \
			graphics/gdk-pixbuf2

RUN_DEPENDS-main=	${RUN_DEPENDS} \
			x11/hicolor-icon-theme

# convenient dependency to prevent hunting what needs what:
# some apps need more icons than the stock ones
# some apps needs the svg version of the icon (librsvg pulled in)
RUN_DEPENDS-main +=	x11/gnome/icon-theme-symbolic # pulls x11/gnome/icon-theme

LIB_DEPENDS-cups=	print/cups,-libs \
			${BASE_PKGPATH},-main=${GNOME_VERSION}

MODPY_BUILDDEP=		No
MODPY_RUNDEP=		No
MODPY_ADJ_FILES=	gtk/gtk-builder-convert

MODGNOME_TOOLS=		gobject-introspection gtk-update-icon-cache

MODGNOME_CPPFLAGS=	-I${X11BASE}/include/freetype2

CFLAGS +=		 -Wno-expansion-to-defined

TEST_IS_INTERACTIVE=	x11

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--with-xinput=xfree

FAKE_FLAGS=		sysconfdir=${PREFIX}/share/examples/gtk+2

post-install:
# sync "gtk-icon-theme-name" with x11/gnome/themes-standard/files/gtkrc
	${INSTALL_DATA} ${FILESDIR}/gtkrc \
		${PREFIX}/share/gtk-2.0
	rm ${PREFIX}/lib/gtk-2.0/2.10.0/{engines,immodules,printbackends}/*.{a,la}
	rm ${PREFIX}/lib/gtk-2.0/modules/*.{a,la}
# built as a subpackage of x11/gtk+3
	rm ${PREFIX}/bin/gtk-update-icon-cache

.include <bsd.port.mk>
@


1.218
log
@Move away from the special mpi debug section.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.217 2017/05/26 17:54:31 espie Exp $
d72 1
a72 1
CFLAGS +=xi		 -Wno-expansion-to-defined
@


1.217
log
@unconditionalize Wno-*, gcc4 has supported it for long enough by now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.216 2017/04/28 17:35:11 espie Exp $
a4 2
# and gtk is not THAT clean
CFLAGS += -Wno-expansion-to-defined
d71 2
@


1.216
log
@prevent build from creating huge log with clang
okay aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.215 2017/04/28 11:16:30 ajacoutot Exp $
d5 2
a90 4

.if ${PROPERTIES:Mclang}
CFLAGS += -Wno-expansion-to-defined
.endif
@


1.215
log
@"Everything is a Freaking GLib/GTK+ problem"

Compile with debug symbols and don't strip on install(1). This will ease
debugging all the many things that depend on and crash within these libs. We'll
see how this works out in the long run.
req. by mpi@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.214 2017/02/18 17:33:52 ajacoutot Exp $
d89 4
@


1.214
log
@Missed bump.
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.213 2017/02/18 17:32:38 ajacoutot Exp $
d15 2
a16 2
REVISION-cups=		0
REVISION-main=		0
@


1.213
log
@idn -> idn2 after gnutls WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.212 2016/09/09 20:35:19 ajacoutot Exp $
d11 2
@


1.212
log
@Update to gtk+2-2.24.31.
- drop the gettext MODULE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.211 2016/07/09 08:57:11 sthen Exp $
d36 1
a36 1
WANTLIB-cups += gnutls gtk-x11-2.0 hogweed idn nettle p11-kit tasn1
@


1.211
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.210 2016/03/06 08:53:26 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.24.30
REVISION-cups=		0
d30 1
a30 1
WANTLIB += pthread-stubs xcb xcb-render xcb-shm z
d40 1
a40 2
MODULES=		devel/gettext \
			lang/python \
d43 1
a43 2
LIB_DEPENDS-main=	${LIB_DEPENDS} \
			devel/atk \
d55 1
a55 2
LIB_DEPENDS-cups=	${LIB_DEPENDS} \
			print/cups,-libs \
@


1.211.2.1
log
@SECURITY fix for CVE-2013-7447: Memory allocation integer overflow in gdk_cairo_set_source_pixbuf on large pixbufs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.211 2016/07/09 08:57:11 sthen Exp $
a6 1
REVISION-main=		0
@


1.210
log
@Update to gtk+2-2.24.30.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.209 2015/12/11 06:17:39 ajacoutot Exp $
d7 1
d37 1
a37 1
WANTLIB-cups += gnutls gtk-x11-2.0 hogweed nettle p11-kit tasn1
@


1.209
log
@Update to gtk+2-2.24.29.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.208 2015/05/13 14:27:47 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.24.29
d14 2
a15 2
SHARED_LIBS +=  gdk-x11-2.0          2400.0   # 2400.29
SHARED_LIBS +=  gtk-x11-2.0          2400.0   # 2400.29
@


1.208
log
@Update to gtk+2-2.24.28.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.207 2015/04/04 09:21:08 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.24.28
d14 2
a15 2
SHARED_LIBS +=  gdk-x11-2.0          2400.0   # 2400.26
SHARED_LIBS +=  gtk-x11-2.0          2400.0   # 2400.26
@


1.207
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.206 2015/04/04 08:39:02 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.24.27
a10 3
REVISION-cups=		0

REVISION-main=		2
@


1.206
log
@Re-instate the -cups subpackage so that gtk+2 does not need to depends on
gnutls nor avahi.
There might be some breakage due to induced dependencies but it'll be fixed
shortly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.205 2015/03/27 08:08:50 ajacoutot Exp $
d11 1
d13 1
a13 1
REVISION-main=		1
@


1.205
log
@gtk-update-icon-cache(1) is moving from gtk+2 to gtk+3. This is a requirement
for the upcoming GNOME 3.16 update.

There may be dragons but I need to do this before p2k15!

big thank you to landry@@ for running a bulk with the giant diff
and thanks for portbump(1) for giving me back some precious lifetime
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.204 2015/03/25 06:27:57 ajacoutot Exp $
d4 1
d10 1
d12 1
a12 1
REVISION-main=		0
d28 11
a38 7
WANTLIB += Xrandr Xrender atk-1.0 avahi-client avahi-common c
WANTLIB += cairo cups dbus-1 expat ffi fontconfig freetype gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gmp gnutls gobject-2.0
WANTLIB += graphite2 gthread-2.0 harfbuzz hogweed m nettle p11-kit
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs tasn1 xcb xcb-render xcb-shm
WANTLIB += z
d40 1
a40 1
MULTI_PACKAGES=		-main
d46 2
a47 1
LIB_DEPENDS=		devel/atk \
d49 1
a49 2
			graphics/gdk-pixbuf2 \
			print/cups,-libs
d51 2
a52 1
RUN_DEPENDS=		x11/hicolor-icon-theme
d57 5
a61 1
RUN_DEPENDS +=		x11/gnome/icon-theme-symbolic # pulls x11/gnome/icon-theme
@


1.204
log
@Bump -guic to force running gtk-update-icon-cache after hicolor-icon-theme
update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.203 2015/03/15 08:41:35 ajacoutot Exp $
a3 1
COMMENT-guic=		gtk+ icon theme caching utility
a8 1
PKGNAME-guic=		gtk-update-icon-cache-${GNOME_VERSION}
d10 1
a10 1
REVISION-guic=		0
d25 8
a32 1
WANTLIB += ffi gdk_pixbuf-2.0 m pcre png z
d34 1
a34 1
MULTI_PACKAGES=		-main -guic
d40 1
a40 8
LIB_DEPENDS=		graphics/gdk-pixbuf2
RUN_DEPENDS=		x11/hicolor-icon-theme

RUN_DEPENDS-main=	${RUN_DEPENDS} \
			${MODPY_RUN_DEPENDS} \
			${BASE_PKGPATH},-guic

LIB_DEPENDS-main= 	${LIB_DEPENDS} \
d42 1
a42 1
			devel/atk \
d45 2
d50 1
a50 13
RUN_DEPENDS-main +=	x11/gnome/icon-theme-symbolic # pulls x11/gnome/icon-theme

WANTLIB-main += ${WANTLIB}
WANTLIB-main += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB-main += Xrandr Xrender atk-1.0 avahi-client avahi-common c
WANTLIB-main += cairo cups dbus-1 expat fontconfig freetype
WANTLIB-main += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 graphite2
WANTLIB-main += gthread-2.0 harfbuzz pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB-main += pixman-1 pthread pthread-stubs xcb xcb-render xcb-shm
WANTLIB-main += gmp gnutls hogweed nettle p11-kit tasn1

WANTLIB-guic += ${WANTLIB}
WANTLIB-guic += c gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 pthread
d56 1
a56 1
MODGNOME_TOOLS +=	gobject-introspection
d73 2
@


1.203
log
@Update to gtk+2-2.24.27.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.202 2015/02/16 20:27:55 ajacoutot Exp $
d11 2
@


1.202
log
@Update to gtk+2-2.24.26.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.201 2014/10/10 17:03:52 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.24.26
@


1.201
log
@Update to gtk+2-2.24.25.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.200 2014/10/10 08:59:25 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.24.25
d14 2
a15 2
SHARED_LIBS +=  gdk-x11-2.0          2400.0   # 2400.23
SHARED_LIBS +=  gtk-x11-2.0          2400.0   # 2400.23
d53 1
a53 1
WANTLIB-main += cairo crypto cups dbus-1 expat fontconfig freetype
d56 2
a57 1
WANTLIB-main += pixman-1 pthread pthread-stubs ssl xcb xcb-render xcb-shm
@


1.200
log
@Add comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.199 2014/10/10 08:38:56 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.24.24
a10 2

REVISION-main=		4
@


1.199
log
@Only set what we need.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.198 2014/10/09 06:43:03 ajacoutot Exp $
d79 1
@


1.198
log
@When moving that file back to gtk+2 I forgot to remove the gnome-specific
stuffs; spotted by tedu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.197 2014/10/08 12:11:51 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		3
a78 1
# set the global themes (matches what's directly bundled in gtk+3)
@


1.197
log
@Drop duplicate; no pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.196 2014/10/02 20:02:20 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		2
@


1.196
log
@Bring gtkrc back.
While here merge a couple of fixes from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.195 2014/10/02 19:20:51 ajacoutot Exp $
a33 2

MODPY_BUILDDEP=		No
@


1.195
log
@Temporary add rundep on x11/gnome/icon-theme to ease transition.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.194 2014/10/02 15:35:03 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		1
d52 1
a52 3
RUN_DEPENDS-main +=	x11/gnome/adwaita-icon-theme
# XXX temporary
RUN_DEPENDS-main +=	x11/gnome/icon-theme
d81 3
@


1.194
log
@Now depend on x11/gnome/adwaita-icon-theme.
Stop providing a gtkrc file, gnome-themes-standard will do that in a few.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.193 2014/06/23 17:32:10 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		0
d53 2
@


1.193
log
@Update to gtk+2-2.24.24.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.192 2014/04/25 15:11:55 ajacoutot Exp $
d12 2
d51 2
a52 4
# some apps require symbolic icons with no fallback
# some apps needs the svg version of the icon
# (+see gtkrc in post-install)
RUN_DEPENDS-main +=	x11/gnome/icon-theme-symbolic #pulls in gnome-icon-theme+librsvg
a80 2
	@@echo 'gtk-icon-theme-name = "gnome"' > \
		${PREFIX}/share/gtk-2.0/gtkrc
@


1.192
log
@Properly set len for gtkmountoperation-x11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.191 2014/04/21 11:54:13 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.24.23
a10 3

REVISION-main=		2
REVISION-guic=		1
@


1.191
log
@Sync wantlib after krb5 removal from cups.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.190 2014/04/12 17:09:18 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		1
@


1.190
log
@@@unexec -> @@unexec-delete
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.189 2014/04/02 14:47:21 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		0
d57 7
a63 8
WANTLIB-main += ${WANTLIB} c pthread glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB-main += gio-2.0 pango-1.0 pangocairo-1.0 pangoft2-1.0 atk-1.0
WANTLIB-main += X11 Xcomposite Xcursor Xdamage Xext Xfixes graphite2
WANTLIB-main += Xi Xinerama Xrandr Xrender cairo expat dbus-1
WANTLIB-main += fontconfig freetype pixman-1 pthread-stubs xcb
WANTLIB-main += xcb-render xcb-shm asn1 crypto cups gssapi krb5 ssl
WANTLIB-main += harfbuzz avahi-client avahi-common gthread-2.0
WANTLIB-main += com_err heimbase roken wind
@


1.189
log
@Document how to pick up the default theme.

adapted from Fabian Raetz and stsp@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.188 2014/04/02 09:36:14 jasper Exp $
d13 1
a13 1
REVISION-guic=		0
@


1.188
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.187 2014/04/01 18:06:32 jasper Exp $
d12 1
@


1.187
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.186 2014/04/01 15:31:47 jasper Exp $
d72 1
a72 1
MODGNOME_TOOLS +=		gobject-introspection
@


1.186
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.185 2014/03/24 10:06:26 ajacoutot Exp $
d72 2
a73 1
MODGNOME_TOOLS=		gobject-introspection
@


1.185
log
@Bump after hicolor-icon-theme update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.184 2014/03/20 08:51:52 ajacoutot Exp $
d72 1
a72 1
MODGNOME_TOOLS=		gi
@


1.184
log
@Drop XXX.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.183 2014/03/18 08:08:00 ajacoutot Exp $
d11 2
@


1.183
log
@Update to gtk+2-2.24.23.
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.182 2014/03/09 22:12:36 ajacoutot Exp $

# XXX remove '@@exec ... gtk-2.0/gtk.immodules' after OPENBSD_5_5 is branched
# XXX remove '@@exec rm -f %D/share/icons/icon-theme.cache' after OPENBSD_5_5 is branched
@


1.182
log
@Drop old @@unexec/@@unexec-delete.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.181 2014/02/09 14:36:10 zhuk Exp $
d9 1
a9 1
GNOME_VERSION=		2.24.22
a14 3
REVISION-main=		1
REVISION-guic=		2

d17 2
a18 2
SHARED_LIBS +=  gdk-x11-2.0          2400.0   # 2400.22
SHARED_LIBS +=  gtk-x11-2.0          2400.0   # 2400.22
@


1.181
log
@After more discussion with ajacoutot@@, force removing of erroneous
icon-theme.cache file on package install.

To be removed from PLIST-guic after release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.180 2014/02/09 14:24:08 zhuk Exp $
d15 2
a16 2
REVISION-main=		0
REVISION-guic=		1
@


1.180
log
@Stop creating /usr/local/share/icons/icon-theme.cache by accident. This
could eat more than 500MB RAM.

okay ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.179 2013/12/02 09:25:26 ajacoutot Exp $
d4 1
d16 1
a16 1
REVISION-guic=		0
@


1.179
log
@GtkFileChooser: avoid a memory leak (upstream).
This was harmful for OS using kqueue...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.178 2013/10/11 15:07:17 ajacoutot Exp $
d15 1
@


1.178
log
@Update to gtk+2-2.24.22.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.177 2013/09/17 16:44:36 ajacoutot Exp $
d13 2
@


1.177
log
@Update to gtk+2-2.24.21.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.176 2013/07/07 09:58:29 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		2.24.21
d16 2
a17 2
SHARED_LIBS +=  gdk-x11-2.0          2400.0   # 2400.0
SHARED_LIBS +=  gtk-x11-2.0          2400.0   # 2400.0
d53 1
d83 2
@


1.176
log
@Follow gtk+3 behavior and install im-multipress.conf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.175 2013/07/07 09:45:15 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		2.24.20
a12 2

REVISION-main=		1
@


1.175
log
@Add a missing @@unexec-delete.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.174 2013/07/07 09:38:06 ajacoutot Exp $
d14 1
a14 1
REVISION-main=		0
@


1.174
log
@Update to gtk+2-2.24.20.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.173 2013/06/20 06:54:38 ajacoutot Exp $
d13 2
@


1.173
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.172 2013/06/17 19:28:37 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.24.19
a10 3

REVISION-main=		1
REVISION-guic=		1
@


1.172
log
@Some trivial WANTLIB and tweaks to unbreak after the Heimdal update.
Stop hardcoding the Kerberos libs and use krb5-config(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.171 2013/06/16 18:02:58 ajacoutot Exp $
d12 2
a13 2
REVISION-main=		0
REVISION-guic=		0
d63 1
a63 1
WANTLIB-main += com_err heimbase heimntlm hx509 roken wind
@


1.171
log
@Update to gtk+2-2.24.19.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.170 2013/06/04 18:41:58 naddy Exp $
d12 3
d63 1
@


1.170
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.169 2013/05/31 15:29:41 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.24.18
a11 3
REVISION-main=		1
REVISION-guic=		0

d25 1
a25 1
WANTLIB += ffi gdk_pixbuf-2.0 m pcre z
d58 1
a58 1
WANTLIB-main += xcb-render xcb-shm png asn1 crypto cups gssapi krb5 ssl
@


1.169
log
@Bump some pkg that directly depend on harfbuzz after the recent version
bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.168 2013/05/24 13:16:36 ajacoutot Exp $
d72 1
a72 1
MODGNOME_CPPFLAGS=	-I${X11BASE}/include/freetype2 -I${LOCALBASE}/include/libpng
@


1.168
log
@Remove files directly instead of @@comment'ing them in the plist.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.167 2013/05/13 14:29:12 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		0
d59 2
a60 2
WANTLIB-main += Xi Xinerama Xrandr Xrender cairo expat dbus-1 icuuc
WANTLIB-main += fontconfig freetype pixman-1 pthread-stubs xcb icule
d62 1
a62 1
WANTLIB-main += harfbuzz icudata avahi-client avahi-common gthread-2.0
@


1.167
log
@Update to gtk+2-2.24.18.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.166 2013/04/16 13:17:01 ajacoutot Exp $
d12 3
d80 4
@


1.166
log
@goi -> gi (gnome MODULE change).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.165 2013/04/02 16:11:44 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.24.17
a11 3
REVISION-main=		3
REVISION-guic=		0

d25 1
a25 1
WANTLIB += ffi gdk_pixbuf-2.0 gthread-2.0 m pcre z
d59 1
a59 1
WANTLIB-main += harfbuzz icudata avahi-client avahi-common
d62 1
a62 1
WANTLIB-guic += c gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 png pthread
@


1.165
log
@Add a "convenient dependency" on gnome-icon-theme-symbolic to prevent
hunting what needs what:
=> some apps need more icons than the stock ones
=> some apps require symbolic icons with no fallback
=> some apps needs the svg version of the icon

It makes no sense to hunt all the ports tree source files to check what
icon are used exactly. That means than from now on we are _certain_ not
to miss any icons in gtk applications that are run outside of a full
blown Desktop environment.

no objection from landry@@ naddy@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.164 2013/04/02 10:14:20 ajacoutot Exp $
d71 1
a71 1
MODGNOME_TOOLS=		goi
@


1.164
log
@Extend previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.163 2013/04/02 10:06:37 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		2
d49 6
@


1.163
log
@Add a pkg-readme explaining how to change the default "Print Preview"
command since not everyone wants to install evince just for that.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.162 2013/03/26 14:20:52 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		1
@


1.162
log
@Make the Makefile readable by a human being.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.161 2013/03/26 14:16:18 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		0
@


1.161
log
@Move to the x11/gnome MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.160 2013/03/21 08:48:56 ajacoutot Exp $
d3 2
a4 1
SHARED_ONLY=	Yes
d6 2
a7 2
COMMENT-main=	multi-platform graphical toolkit
COMMENT-guic=	gtk+ icon theme caching utility
d9 2
a10 2
GNOME_VERSION=	2.24.17
GNOME_PROJECT=	gtk+
d12 2
a13 2
PKGNAME-main=	gtk+2-${GNOME_VERSION}
PKGNAME-guic=	gtk-update-icon-cache-${GNOME_VERSION}
d15 1
a15 4
REVISION-main=	0
REVISION-guic=	0

CATEGORIES=	x11 devel
d21 1
a21 1
HOMEPAGE=	http://www.gtk.org/
d23 1
a23 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
d30 7
a36 1
MULTI_PACKAGES=	-main -guic
d38 11
a48 18
MODULES=	devel/gettext \
		lang/python \
		x11/gnome

MODPY_BUILDDEP=	No

LIB_DEPENDS=	graphics/gdk-pixbuf2

RUN_DEPENDS-main= ${MODGETTEXT_RUN_DEPENDS} \
		${MODPY_RUN_DEPENDS} \
		${BASE_PKGPATH},-guic \
		x11/hicolor-icon-theme

LIB_DEPENDS-main= ${LIB_DEPENDS} \
		devel/glib2 \
		devel/pango \
		devel/atk \
		print/cups,-libs
a57 3
RUN_DEPENDS-guic= ${MODGETTEXT_RUN_DEPENDS} \
		x11/hicolor-icon-theme

d61 3
a63 2
MODPY_BUILDDEP=	No
MODPY_ADJ_FILES=gtk/gtk-builder-convert
d65 2
a66 2
MODGNOME_TOOLS=	goi
MODGNOME_CPPFLAGS=-I${X11BASE}/include/freetype2 -I${LOCALBASE}/include/libpng
d68 1
a68 1
TEST_IS_INTERACTIVE= x11
d70 2
a71 2
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--with-xinput=xfree
d73 1
a73 1
FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples/gtk+2
@


1.160
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.159 2013/03/11 11:46:12 espie Exp $
d8 2
a9 2
V=		2.24.17
DISTNAME=	gtk+-${V}
d11 5
a15 2
PKGNAME-main=	gtk+2-${V}
PKGNAME-guic=	gtk-update-icon-cache-${V}
d30 1
a30 5
WANTLIB += ffi gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gthread-2.0 m pcre png z

MASTER_SITES=	${MASTER_SITE_GNOME:=sources/gtk+/${V:C/^([0-9]+\.[0-9]+).*/\1/}/}
EXTRACT_SUFX=	.tar.xz
d35 4
a38 1
		lang/python
a39 1
BUILD_DEPENDS=	devel/gobject-introspection
d42 2
a43 1
RUN_DEPENDS-main= ${RUN_DEPENDS} \
d55 1
a55 1
WANTLIB-main += X11 Xcomposite Xcursor Xdamage Xext Xfixes
d61 1
a61 6
# python is only used by gtk-builder-convert, so let's not enforce the
# dependency
MODPY_BUILDDEP=	No
MODPY_RUNDEP=	No

RUN_DEPENDS-guic= ${RUN_DEPENDS} \
d65 7
a71 1
WANTLIB-guic += c pthread
a72 1
USE_GMAKE=	Yes
d76 1
a76 15
CONFIGURE_ENV=	CPPFLAGS="-I${X11BASE}/include/freetype2/ \
			-I${LOCALBASE}/include \
			-I${LOCALBASE}/include/libpng" \
		LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-gtk-doc \
		--enable-introspection \
		--with-xinput \
		--disable-papi

# If one of these tools is found at configure stage, it might be used,
# no matter whether we use --disable-gtk-doc or not.
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
a78 4

pre-configure:
	perl -pi -e 's,/usr/bin/env python,${MODPY_BIN},' \
		${WRKSRC}/gtk/gtk-builder-convert
@


1.159
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2013/03/04 17:12:59 ajacoutot Exp $
a70 1
USE_LIBTOOL=	Yes
@


1.158
log
@Minote update to gtk+2-2.24.17.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.157 2013/03/02 13:48:32 ajacoutot Exp $
a25 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d72 1
a72 1
REGRESS_IS_INTERACTIVE= x11
@


1.157
log
@Update to gtk+2-2.24.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.156 2013/01/23 09:36:30 ajacoutot Exp $
d8 1
a8 1
V=		2.24.16
@


1.156
log
@No need for shared-mime-info anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2013/01/05 18:13:56 ajacoutot Exp $
d8 1
a8 1
V=		2.24.14
a13 3
REVISION-main=	2
REVISION-guic=	0

d56 1
a56 1
WANTLIB-main += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
@


1.155
log
@Implement GMountOperation from gtk+3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2013/01/05 12:53:09 ajacoutot Exp $
d14 2
a15 1
REVISION-main=	1
d44 3
d49 1
a49 2
		x11/hicolor-icon-theme \
		misc/shared-mime-info
a54 1
		graphics/gdk-pixbuf2 \
d60 2
a61 2
WANTLIB-main += Xi Xinerama Xrandr Xrender Xxf86vm cairo drm expat
WANTLIB-main += fontconfig freetype pixman-1 pthread-stubs stdc++ xcb
d63 1
a63 2
WANTLIB-main += harfbuzz icudata icule icuuc avahi-client avahi-common
WANTLIB-main += dbus-1
a69 2
BUILD_DEPENDS=	devel/gobject-introspection

d72 1
a72 1
LIB_DEPENDS-guic= graphics/gdk-pixbuf2
@


1.154
log
@Adapt dependencies after recent print/cups change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2012/12/06 08:13:23 ajacoutot Exp $
d14 1
a14 1
REVISION-main=	0
@


1.153
log
@Update to gtk+2-2.24.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2012/09/24 04:47:09 ajacoutot Exp $
d14 2
d49 3
a51 3
		devel/glib2>=2.28.8 \
		devel/pango>=1.28.4 \
		devel/atk>=2.0.0p0 \
d61 2
a62 1
WANTLIB-main += harfbuzz icudata icule icuuc
@


1.152
log
@Update to gtk+2-2.24.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2012/09/21 14:48:06 ajacoutot Exp $
d8 1
a8 1
V=		2.24.13
@


1.151
log
@Stupid autohell is stupid...
The situation is this: even when we --disable-gtk-doc, if gtk-doc is
actually installed at configure stage, tools like gtkdoc-rebase will be
picked up and run during the install target. That is bad because the
gtk-doc package may have been removed by then, especially during dpb(1)
bulks (we explicitely disable support for it so why should it stay...).

So for now, let's add the following env to configure whenever we use
--disable-gtk-doc, until a bettersolution is found...
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.150 2012/09/21 13:24:09 ajacoutot Exp $
d8 1
a8 1
V=		2.24.12
a12 2

REVISION-main=	0
@


1.150
log
@Fix WANTLIB after recent pango update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.149 2012/09/03 22:18:54 ajacoutot Exp $
d90 6
@


1.149
log
@Bugfix update to gtk+2-2.24.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.148 2012/09/01 14:37:00 ajacoutot Exp $
d14 2
d61 1
@


1.148
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2012/08/30 13:55:28 ajacoutot Exp $
d8 1
a8 1
V=		2.24.11
a12 3

REVISION-main=	2
REVISION-guic=	0
@


1.147
log
@Merge -docs into -main.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2012/08/04 15:04:43 ajacoutot Exp $
d14 2
a15 1
REVISION-main=	1
@


1.146
log
@Remove the -cups subpackage and link to cups,-libs ; discussed with espie@@,
naddy@@, landry@@ and jasper@@

Remove the icons symlink hack which should have been fixed 2 releases ago.
(if anyone experience icon display issues with firefox, please talk to me)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2012/07/16 07:11:01 ajacoutot Exp $
a5 1
COMMENT-docs=	gtk+2 documentation
a11 1
PKGNAME-docs=	gtk+2-docs-${V}
d14 1
a14 1
REVISION-main=	0
d38 1
a38 1
MULTI_PACKAGES=	-main -docs -guic
a67 5

LIB_DEPENDS-docs= # empty
RUN_DEPENDS-docs= # empty
WANTLIB-docs +=	# empty
PKG_ARCH-docs=	*
@


1.145
log
@Bugfix update to gtk+2-2.24.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2012/06/15 07:31:11 ajacoutot Exp $
a6 1
COMMENT-cups=	gtk+2 CUPS print backend
a13 1
PKGNAME-cups=	gtk+2-cups-${V}
d16 2
d40 1
a40 1
MULTI_PACKAGES=	-main -docs -cups -guic
d52 1
a52 1
		devel/pango>=1.28.4p0 \
d54 2
a55 1
		graphics/gdk-pixbuf2>=2.22.1p0
d62 1
a62 1
WANTLIB-main += xcb-render xcb-shm png
a74 13

RUN_DEPENDS-cups= ${RUN_DEPENDS}
LIB_DEPENDS-cups= ${LIB_DEPENDS} \
		print/cups \
		STEM->=${V}:${BASE_PKGPATH},-main
WANTLIB-cups += ${WANTLIB}
WANTLIB-cups += asn1 atk-1.0 crypto gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB-cups += gssapi krb5 pango-1.0 pangocairo-1.0 pangoft2-1.0 png
WANTLIB-cups += ssl cups gdk-x11-2.0 gdk_pixbuf-2.0 gtk-x11-2.0
WANTLIB-cups += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB-cups += Xi Xinerama Xrandr Xrender Xxf86vm cairo drm expat
WANTLIB-cups += fontconfig freetype pixman-1 pthread-stubs stdc++ xcb
WANTLIB-cups += xcb-render xcb-shm
@


1.144
log
@Don't check for the existence of index.theme.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2012/04/23 07:34:43 ajacoutot Exp $
d10 1
a10 1
V=		2.24.10
a16 2

REVISION-guic=	0
@


1.143
log
@Remove uneeded patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2012/02/16 22:09:14 ajacoutot Exp $
d17 2
@


1.142
log
@Update to gtk+2-2.24.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2012/02/02 09:21:07 ajacoutot Exp $
a106 1
		--disable-man \
@


1.141
log
@Merge a patch from upstream that fixes a crash when printing from mozilla
apps to a CUPS printer.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2012/01/25 09:05:18 ajacoutot Exp $
d10 1
a10 1
V=		2.24.9
a16 2

REVISION-cups=	0
@


1.140
log
@Maintenance update to gtk+2-2.24.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2011/12/03 18:30:41 ajacoutot Exp $
d17 2
@


1.139
log
@Add a -guic subpackage for gtk-update-icon-cache.
This allows for gtk+3 to not depends on gtk+2. We will now also be able to
properly set a dependency on gtk-update-icon-cache for apps installing
icons.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2011/11/10 19:41:02 ajacoutot Exp $
d10 1
a10 1
V=		2.24.8
a17 4
REVISION-main=	0
REVISION-cups=	0
REVISION-docs=	0

d38 1
a38 1
EXTRACT_SUFX=	.tar.bz2
@


1.138
log
@Maintenance update to gtk+2-2.24.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2011/10/18 06:20:16 ajacoutot Exp $
d8 1
d16 5
d38 2
a39 4
WANTLIB += X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender cairo expat fontconfig freetype
WANTLIB += gthread-2.0 m pcre pixman-1 pthread-stubs xcb ffi
WANTLIB += xcb-render z gdk_pixbuf-2.0 GL Xxf86vm drm xcb-shm stdc++
d44 1
a44 1
MULTI_PACKAGES=	-main -docs -cups
d50 1
d62 4
a65 1
WANTLIB-main += png
d67 2
d79 1
a79 1
RUN_DEPENDS-cups= # empty
d87 10
d110 2
a111 2
		--enable-man=no \
		--with-xinput=yes \
@


1.137
log
@Bugfix update to gtk+2-2.24.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2011/09/16 12:29:15 espie Exp $
d9 1
a9 1
V=		2.24.7
d35 1
a35 1
WANTLIB += xcb-render z gdk_pixbuf-2.0 GL Xxf86vm drm xcb-shm
@


1.136
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2011/08/31 06:25:54 ajacoutot Exp $
d9 1
a9 1
V=		2.24.6
a14 1
REVISION-main =	0
d34 1
a34 1
WANTLIB += gthread-2.0 m pcre pixman-1 pthread-stubs xcb
@


1.135
log
@Bugfix update to gtk+2-2.24.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2011/06/27 07:04:40 ajacoutot Exp $
d15 1
@


1.134
log
@Revert upstream commit 254b9a4c540e3dff1dcd17db2ceea6a9fa5df973 to fix
an infinite loop as experienced by Alexander Polakov.
See https://bugzilla.gnome.org/show_bug.cgi?id=652872.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2011/06/16 08:38:41 ajacoutot Exp $
d9 1
a9 1
V=		2.24.5
a14 2

REVISION-main=	0
@


1.133
log
@Maintenance update to gtk+2-2.24.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2011/06/08 17:41:57 rpointel Exp $
d15 2
@


1.132
log
@bump after default python version switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2011/06/02 17:09:32 kili Exp $
d9 1
a9 1
V=		2.24.4
a15 4
REVISION-main=	4
REVISION-docs=	0
REVISION-cups=	0

d50 1
a50 1
		devel/glib2>=2.26.0 \
@


1.131
log
@--disable-silent-rules is now added to CONFIGURE_ARGS per default,
if CONFIGURE_STYLE = gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2011/05/19 14:30:39 ajacoutot Exp $
d16 3
a18 1
REVISION-main=	3
@


1.130
log
@We want @@unexec-delete rm -f instead of @@extra.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2011/05/11 08:03:21 ajacoutot Exp $
d94 1
a94 2
		--disable-papi \
		--disable-silent-rules
@


1.129
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2011/04/07 07:45:32 ajacoutot Exp $
d16 1
a16 1
REVISION-main=	2
@


1.128
log
@Add introspection support (needed for on-going GNOME 3 work).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2011/04/06 07:47:28 ajacoutot Exp $
d16 1
a16 1
REVISION-main=	1
@


1.127
log
@Fix rm(1) args in @@unexec-delete.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2011/04/02 06:33:34 ajacoutot Exp $
d16 1
a16 1
REVISION-main=	0
d53 3
a55 3
		devel/pango \
		devel/atk \
		graphics/gdk-pixbuf2
d64 2
d91 1
a91 1
		--disable-introspection \
@


1.126
log
@Bugfix update to gtk+2-2.24.4.

* Add missing introspection annotations
* Fix GtkComboBoxEntry accessibility support
* Thread-safety fixes in file chooser and app chooser code
* Fix some deficiencies with the builtin icon theme
* Translation updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2011/03/25 09:21:37 ajacoutot Exp $
d15 2
@


1.125
log
@Fix RUN_DEPENDS-cups.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2011/03/14 19:04:34 ajacoutot Exp $
d9 1
a9 1
V=		2.24.3
a14 2

REVISION-cups=	0
@


1.124
log
@... and bump to gtk+2-2.24.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2011/03/14 16:44:42 ajacoutot Exp $
d16 2
d64 3
a66 3
LIB_DEPENDS-docs=
RUN_DEPENDS-docs=
WANTLIB-docs +=
d69 1
@


1.123
log
@Minor update to gtk+2-2.24.2.

* Bugs fixed:
642905 reference lists 2 links for "Index of new symbols...
643170 gtk_file_chooser_set_filename does not work...
643216 Extraneous emits of GdkScreen::monitors-changed
643416 Composited children of GtkScrolledWindow are drawn...
644353 Missing annotations in Gtk/Gdk Window and gtk_acce...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2011/03/07 19:19:27 ajacoutot Exp $
d9 1
a9 1
V=		2.24.2
@


1.122
log
@Update to gtk+2-2.24.1 (2.24 is the last of the gtk+2 series).

This (and the related 20 to 30 updates) has been tested twice in a bulk
by landry@@, thanks!
Runtime testing by myself under heavy GNOME usage...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2010/11/22 08:36:59 espie Exp $
d9 1
a9 1
V=		2.24.1
@


1.121
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2010/11/16 07:37:25 ajacoutot Exp $
d9 1
a9 1
V=		2.22.1
d18 2
a19 2
SHARED_LIBS +=  gdk-x11-2.0          2200.0   # 2200.0
SHARED_LIBS +=  gtk-x11-2.0          2200.0   # 2200.0
d45 2
a46 1
RUN_DEPENDS=	x11/hicolor-icon-theme \
d69 1
a69 1
		${BASE_PKGPATH},-main
@


1.120
log
@Minor update to gtk+2-2.22.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2010/11/04 17:53:56 jasper Exp $
d45 2
a46 2
RUN_DEPENDS=	::x11/hicolor-icon-theme \
		::misc/shared-mime-info
d49 4
a52 4
		:glib2->=2.26.0:devel/glib2 \
		::devel/pango \
		::devel/atk \
		::graphics/gdk-pixbuf2
d67 2
a68 2
		::print/cups \
		::${BASE_PKGPATH},-main
@


1.119
log
@- cups builds fine nowadays on mips64(el), most likely because of the switch to gcc4.
so drop the hack to not build -cups on those arches.

ok ajacoutot@@ (MAINTAINER) phessler@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2010/10/24 21:15:32 ajacoutot Exp $
d9 1
a9 1
V=		2.22.0
a15 3
REVISION-main=	2
REVISION-cups=	0

d35 1
a35 1
WANTLIB += xcb-render xcb-render-util z gdk_pixbuf-2.0
@


1.118
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2010/10/11 08:19:58 jasper Exp $
a43 2
# XXX don't pull in print/cups on these arch; build fails with binutils 2.15
NOT_FOR_ARCHS-cups= mips64 mips64el
a46 4

.if ! ${MACHINE_ARCH:Mmips64*}
BUILD_DEPENDS=	::print/cups
.endif
@


1.117
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2010/10/08 07:32:49 robert Exp $
a82 1
USE_X11=	Yes
@


1.116
log
@Create symlinks to old icons so that apps like firefox, f-spot and who
knows what else can display some renamed icons. This is only going to
be used until this gets fixed.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2010/10/06 13:52:54 dcoppa Exp $
d16 2
a17 1
REVISION-main=	1
d37 1
a37 1
WANTLIB += glitz gthread-2.0 m pcre pixman-1 pthread-stubs xcb
@


1.115
log
@gtk+2-2.22.0 is more picky about missing icons.
Work around this by installing, alongside gnome-icon-theme, a system-wide
gtkrc containing the line:

gtk-icon-theme-name="gnome"

This avoids assertion failures regarding missing icons with GTK+
applications when executed outside of a Desktop Environment like GNOME
or XFCE.

Also remove x11/gtk+2/pkg/MESSAGE-main which is no longer needed.

Problem noticed by Patrick Keshishian

Discussed with and OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2010/09/30 07:18:15 ajacoutot Exp $
d16 1
a16 1
REVISION-main=	0
@


1.114
log
@Major update to gtk+2-2.22.0.
Take maintainership.
gdk-pixbuf is now a separate library.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2010/08/30 21:47:46 sthen Exp $
d15 2
@


1.113
log
@bumps for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2010/08/25 07:40:13 ajacoutot Exp $
d9 2
a10 2
VERSION=	2.20.1
DISTNAME=	gtk+-${VERSION}
d12 3
a14 7
PKGNAME-main=	gtk+2-${VERSION}
PKGNAME-docs=	gtk+2-docs-${VERSION}
PKGNAME-cups=	gtk+2-cups-${VERSION}

REVISION-main=	2
REVISION-docs=	0
REVISION-cups=	0
d18 3
a20 5
SHARED_LIBS+=	gdk_pixbuf-2.0		1403.0 # .1800.1
SHARED_LIBS+=	gdk-x11-2.0		1403.0 # .1800.1
SHARED_LIBS+=	gtk-x11-2.0		1403.0 # .1800.1
SHARED_LIBS+=	gdk_pixbuf_xlib-2.0	1403.0 # .1800.1
SHARED_LIBS+=	gailutil		25.0   # .18.1
d24 2
d35 1
a35 1
WANTLIB += xcb-render xcb-render-util z
d37 1
a37 1
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/gtk+/${VERSION:C/^([0-9]+\.[0-9]+).*/\1/}/}
d55 8
a62 7
		glib-2.0.>=1803,gmodule-2.0,gobject-2.0,gio-2.0:glib2->=2.24.0:devel/glib2 \
		pango-1.0.>=1600.0,pangocairo-1.0.>=1600.0,pangoft2-1.0.>=1600.0::devel/pango \
		atk-1.0.>=1809.0::devel/atk \
		tiff.>=35::graphics/tiff \
		png.>=3::graphics/png \
		jpeg.>=62::graphics/jpeg
WANTLIB-main=	${WANTLIB} c pthread
d73 2
a74 2
		cups.>=3::print/cups \
		gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::${BASE_PKGPATH},-main
d78 1
a78 1
WANTLIB-cups += ssl
d92 1
a92 1
		--enable-introspection=no \
@


1.112
log
@Reword MESSAGE-main.
Discussed with sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2010/08/22 14:02:59 ajacoutot Exp $
d16 3
a18 1
REVISION-main=	1
@


1.111
log
@Some gtk+2 applications when run outside a full blown DE (most notably
GNOME ones) will require a configured icon theme to properly display
icons, so teach users how to do it.

"yes yes yes" sthen@@
"sounds like a good idea" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2010/08/03 21:56:03 sthen Exp $
d16 1
a16 1
REVISION-main=	0
@


1.110
log
@Don't build the -cups subpackage on mips64{,el}. It adds a RUN_DEPENDS which
cannot be satisfied at present (binutils). This allows gtk+2 to build and in
turn opens up a lot more of the ports tree. Problem pointed out by Jay K.

ok, and advice on simplifying my original diff, espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2010/07/22 10:40:35 ajacoutot Exp $
d15 2
@


1.109
log
@Use the python MODULE and set MODPY_BUILDDEP and MODPY_RUNDEP to No.
Remove XXX.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2010/05/10 17:22:10 ajacoutot Exp $
d41 2
d47 1
d49 2
@


1.108
log
@Bring USE_GMAKE back.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2010/05/03 15:04:27 ajacoutot Exp $
d42 2
a43 1
MODULES=	devel/gettext
d58 3
a93 3
# XXX we should use MODPY_BIN from the lang/python MODULE but
# we do not want to build/run_depends on python
MODPY_VERSION= 2.5
d95 1
a95 1
	perl -pi -e 's,/usr/bin/env python,${LOCALBASE}/bin/python${MODPY_VERSION},' \
@


1.107
log
@Bugfix update to gtk+2-2.20.1 (fixes a crash in g_file_get_child).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2010/05/02 14:07:14 ajacoutot Exp $
d71 1
a87 3
# needed for the stamp-icons target in ${WRKSRC}/gtk/Makefile
MAKE_ENV=	RM="rm"

a95 7

# XXX Needed to be able to use our own make(1) instead of gmake (which
# errors out with "write error" due to the effects of userland threads
# that changes i/o operations to non-blocking). This breaks man pages
# and introspection support (both are disabled in CONFIGURE_ARGS).
	find ${WRKBUILD} -name Makefile.in | \
		xargs perl -pi.bak -e 's,^-include.*,,g'
@


1.106
log
@Fix use of grep(1), we don't support the -o switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2010/05/02 07:10:04 ajacoutot Exp $
d9 1
a9 1
VERSION=	2.20.0
d12 1
a12 1
PKGNAME-main=	gtk+2-${VERSION}p5
d14 1
a14 1
PKGNAME-cups=	gtk+2-cups-${VERSION}p1
@


1.105
log
@Some cleanings:
* clean the indent madness to make this Makefile more human readable.
* don't force enable_man to yes in configure.
* tweak a comment.
* regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2010/05/02 06:46:12 ajacoutot Exp $
d12 1
a12 1
PKGNAME-main=	gtk+2-${VERSION}p4
@


1.104
log
@Make it possible to build gtk+2 with our own make(1) instead of gmake.
This gets rid of the 'write error' during build.

input from naddy@@, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2010/05/01 09:31:24 ajacoutot Exp $
d3 1
a3 1
SHARED_ONLY=			Yes
d5 3
a7 3
COMMENT-main=			multi-platform graphical toolkit
COMMENT-docs=           	gtk+2 documentation
COMMENT-cups=			gtk+2 CUPS print backend
d9 2
a10 2
VERSION=			2.20.0
DISTNAME=			gtk+-${VERSION}
d12 3
a14 3
PKGNAME-main=			gtk+2-${VERSION}p3
PKGNAME-docs=			gtk+2-docs-${VERSION}
PKGNAME-cups=			gtk+2-cups-${VERSION}p0
d16 1
a16 1
CATEGORIES=			x11 devel
d24 1
a24 1
HOMEPAGE=			http://www.gtk.org/
d27 29
a55 29
PERMIT_PACKAGE_CDROM=		Yes
PERMIT_PACKAGE_FTP=		Yes
PERMIT_DISTFILES_CDROM=		Yes
PERMIT_DISTFILES_FTP=		Yes

MASTER_SITES=			${MASTER_SITE_GNOME:=sources/gtk+/${VERSION:C/^([0-9]+\.[0-9]+).*/\1/}/}
EXTRACT_SUFX=			.tar.bz2

MULTI_PACKAGES=         	-main -docs -cups

WANTLIB=		X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext \
			Xfixes Xi Xinerama Xrandr Xrender cairo expat \
			fontconfig freetype glitz m pcre pixman-1 z \
			pthread-stubs xcb

MODULES=		devel/gettext

BUILD_DEPENDS=		::print/cups
RUN_DEPENDS=		::x11/hicolor-icon-theme \
			::misc/shared-mime-info

LIB_DEPENDS-main=	${LIB_DEPENDS} \
			glib-2.0.>=1803,gmodule-2.0,gobject-2.0,gio-2.0:glib2->=2.24.0:devel/glib2 \
			pango-1.0.>=1600.0,pangocairo-1.0.>=1600.0,pangoft2-1.0.>=1600.0::devel/pango \
			atk-1.0.>=1809.0::devel/atk \
			tiff.>=35::graphics/tiff \
			png.>=3::graphics/png \
			jpeg.>=62::graphics/jpeg
WANTLIB-main=		${WANTLIB} c pthread
d59 2
a60 2
WANTLIB-docs=
PKG_ARCH-docs=		*
d62 3
a64 3
LIB_DEPENDS-cups=	${LIB_DEPENDS} \
			cups.>=3::print/cups \
			gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::${BASE_PKGPATH},-main
d70 16
a85 11
USE_X11=			Yes
USE_LIBTOOL=			Yes
CONFIGURE_STYLE=		gnu
CONFIGURE_ARGS=			${CONFIGURE_SHARED} \
				--disable-gtk-doc \
				--enable-introspection=no \
				--with-xinput=yes \
				--disable-papi \
				--disable-silent-rules
CONFIGURE_ENV=			CPPFLAGS="-I${X11BASE}/include/freetype2/ -I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
				LDFLAGS="-L${LOCALBASE}/lib"
d88 1
a88 1
MAKE_ENV=		RM="rm"
d90 1
a90 3
FAKE_FLAGS=		sysconfdir=${PREFIX}/share/examples/gtk+2

REGRESS_IS_INTERACTIVE= x11
d102 1
a102 1
# and introspection support (disabled in CONFIGURE_ARGS).
@


1.103
log
@Make sure we don't build with enable-introspection, as it breaks badly and
we don't want introspection just yet anyway.

spotted by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2010/04/25 20:35:08 ajacoutot Exp $
a70 1
USE_GMAKE=			Yes
d82 3
d95 7
@


1.102
log
@Set default gtk-key-theme-name to "Emacs" as it was before. This got
lost during the update.
spotted by naddy@@, thanks.

While here, remove some useless patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2010/04/24 15:54:27 jasper Exp $
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}p2
d14 1
a14 1
PKGNAME-cups=			gtk+2-cups-${VERSION}
d76 1
@


1.101
log
@- fix build on amd64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2010/04/22 19:45:46 ajacoutot Exp $
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}p1
@


1.100
log
@Remove now uneeded patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2010/04/20 19:03:37 ajacoutot Exp $
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}p0
@


1.99
log
@Major update to gtk+2-2.20.0.

"commitski" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2010/03/21 09:56:40 ajacoutot Exp $
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}
d49 1
a49 1
			glib-2.0.>=1800.0,gmodule-2.0.>=1800.0,gobject-2.0.>=1800.0,gio-2.0:glib2->=2.22.5p0:devel/glib2 \
@


1.98
log
@Update to gtk+2-2.18.9.

tested in a bulk by jasper@@, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2010/01/12 08:53:36 ajacoutot Exp $
d9 1
a9 1
VERSION=			2.18.9
d18 5
a22 5
SHARED_LIBS+=	gdk_pixbuf-2.0		1402.0 # .1800.1
SHARED_LIBS+=	gdk-x11-2.0		1402.0 # .1800.1
SHARED_LIBS+=	gtk-x11-2.0		1402.0 # .1800.1
SHARED_LIBS+=	gdk_pixbuf_xlib-2.0	1402.0 # .1800.1
SHARED_LIBS+=	gailutil		24.0   # .18.1
d49 1
a49 1
			glib-2.0.>=1800.0,gmodule-2.0.>=1800.0,gobject-2.0.>=1800.0,gio-2.0::devel/glib2 \
@


1.97
log
@Bugfix update to gtk+2-2.18.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2009/12/31 13:07:30 landry Exp $
d9 1
a9 1
VERSION=			2.18.6
@


1.96
log
@Add shared-mime-info to RUN_DEPENDS, since gtk+ 2.14 gdk-pixbuf can use
GIO for mime type detection, which needs shared-mime-info. Otherwise,
gdk-pixbuf falls back to its built-in sniffing implementation.
discussed with and ok ajacoutot@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2009/12/08 21:18:43 ajacoutot Exp $
d9 1
a9 1
VERSION=			2.18.5
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}p0
d14 1
a14 1
PKGNAME-cups=			gtk+2-cups-${VERSION}p0
@


1.95
log
@Bugfix update to gtk+2-2.18.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2009/12/07 18:26:16 jasper Exp $
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}
d14 1
a14 1
PKGNAME-cups=			gtk+2-cups-${VERSION}
d45 2
a46 1
RUN_DEPENDS=		::x11/hicolor-icon-theme
@


1.94
log
@- fix build with gcc2

confirmed by phessler@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2009/12/01 09:41:14 ajacoutot Exp $
d9 1
a9 1
VERSION=			2.18.4
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}p0
@


1.93
log
@Bugfix update to gtk+2-2.18.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2009/11/29 11:54:31 ajacoutot Exp $
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}
@


1.92
log
@Fix GNOME bug #599446:
CRITICAL **: atk_object_set_name: assertion `name != NULL' failed

Patch from upstream git.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2009/11/22 16:40:04 ajacoutot Exp $
d9 1
a9 1
VERSION=			2.18.3
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}p0
d14 1
a14 1
PKGNAME-cups=			gtk+2-cups-${VERSION}p0
@


1.91
log
@Regen WANTLIB after CUPS gnutls -> openssl move.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2009/10/17 16:14:54 ajacoutot Exp $
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}
@


1.90
log
@Bugfix update to gtk+2-2.18.3
* Make selecting the last character in a label work again
* Set accessible names on tool buttons
* Some updated translations
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2009/10/14 11:20:38 ajacoutot Exp $
d14 1
a14 1
PKGNAME-cups=			gtk+2-cups-${VERSION}
d64 4
a67 3
WANTLIB-cups=		${WANTLIB} atk-1.0 gio-2.0 glib-2.0 gmodule-2.0 \
			gobject-2.0 pango-1.0 pangocairo-1.0 asn1 crypto gssapi krb5 \
			pangoft2-1.0 png gcrypt gnutls gpg-error tasn1
@


1.89
log
@Rework the way we set the python binary so that it is easier to find when
we grep for it. No pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2009/10/10 11:25:28 jasper Exp $
d9 1
a9 1
VERSION=			2.18.2
@


1.88
log
@add --disable-silent-rules to CONFIGURE_ARGS so we can see what
is actually being done, instead of CC $FILE and LD $FILE

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2009/10/06 07:07:17 ajacoutot Exp $
d86 1
d88 1
a88 1
	perl -pi -e 's,/usr/bin/env python,${LOCALBASE}/bin/python2.5,' \
@


1.87
log
@Bugfix update to gtk+2-2.18.2.
(+ some updated translations)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2009/10/04 18:17:57 ajacoutot Exp $
d75 2
a76 1
				--disable-papi
@


1.86
log
@Update to version 2.18.1.

committing early so that we can work with the latest at upcoming p2k9.
any fallout, please let me know directly.
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2009/09/18 20:47:11 martynas Exp $
d9 1
a9 1
VERSION=			2.18.1
@


1.85
log
@don't leave files after uninstall;  tweak & ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2009/09/16 12:58:44 jasper Exp $
d9 1
a9 1
VERSION=			2.16.6
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}p1
d14 1
a14 1
PKGNAME-cups=			gtk+2-cups-${VERSION}p0
d18 5
a22 5
SHARED_LIBS+=	gdk_pixbuf-2.0		1401.0 #.1600.2
SHARED_LIBS+=	gdk-x11-2.0		1401.0 #.1600.2
SHARED_LIBS+=	gtk-x11-2.0		1401.0 #.1600.2
SHARED_LIBS+=	gdk_pixbuf_xlib-2.0	1401.0 #.1600.2
SHARED_LIBS+=	gailutil		23.0   #.18.1
a52 1
			jasper::graphics/jasper \
@


1.84
log
@- fix a crash when printing to a non-existant printer.
found some time ago, drunkish, somewhere in brussels, with antoine.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2009/09/06 10:46:25 ajacoutot Exp $
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}p0
d14 1
a14 1
PKGNAME-cups=			gtk+2-cups-${VERSION}
@


1.83
log
@Make use of REGRESS_IS_INTERACTIVE=x11

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2009/08/29 20:17:49 ajacoutot Exp $
d12 1
a12 1
PKGNAME-main=			gtk+2-${VERSION}
@


1.82
log
@Bugfix update to gtk+2-2.16.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2009/08/11 08:42:08 ajacoutot Exp $
d82 1
a82 5
# The regression tests require a running instance of X.
# You will also need to set the XAUTHORITY environment variable to point
# to the appropriate .Xauthority file.
REGRESS_IS_INTERACTIVE= Yes
REGRESS_FLAGS=		DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
@


1.81
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2009/07/18 09:10:37 ajacoutot Exp $
d9 1
a9 1
VERSION=			2.16.5
d11 2
a12 1
PKGNAME-main=			gtk+2-${VERSION}p0
d14 2
a15 1
PKGNAME-cups=			gtk+2-cups-${VERSION}p0
@


1.80
log
@Bugfix update to gtk+2-2.16.5
* Accelerators fail for submenus
* Collapsed save dialog needs to indicate filesystem...
* GtkAssistant should set buttons as default widget
* Iconview DnD fails when Destination is empty
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2009/07/12 20:39:33 ajacoutot Exp $
d11 1
a11 1
PKGNAME-main=			gtk+2-${VERSION}
d13 1
a13 1
PKGNAME-cups=			gtk+2-cups-${VERSION}
d37 2
a38 1
			fontconfig freetype glitz m pcre pixman-1 z
@


1.79
log
@- major update to gtk+2-2.16.4

*remove previous version before trying to compile this*

Report any failure directly to me please.

tested by landry@@ on a sparc64 bulk, thanks!
ok jasper@@ on a previous diff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2009/05/22 13:08:22 ajacoutot Exp $
d9 1
a9 1
VERSION=			2.16.4
@


1.78
log
@- regen WANTLIB (from cups kerberos support)
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2009/04/21 13:01:18 ajacoutot Exp $
d9 1
a9 1
VERSION=			2.14.7
d11 1
a11 1
PKGNAME-main=			gtk+2-${VERSION}p0
d13 1
a13 1
PKGNAME-cups=			gtk+2-cups-${VERSION}p1
d16 5
a20 5
SHARED_LIBS+=	gdk_pixbuf-2.0		1400.1 #.1400.5
SHARED_LIBS+=	gdk-x11-2.0		1400.1 #.1400.5
SHARED_LIBS+=	gtk-x11-2.0		1400.1 #.1400.5
SHARED_LIBS+=	gdk_pixbuf_xlib-2.0	1400.1 #.1400.5
SHARED_LIBS+=	gailutil		22.0   #.18.1
d30 1
a30 1
MASTER_SITES=			${MASTER_SITE_GNOME:=sources/gtk+/2.14/}
d70 4
a73 2
CONFIGURE_ARGS+=		--disable-gtk-doc \
				--with-xinput=yes
@


1.77
log
@- remove workaround now that our default thread stack size has been
increased
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2009/04/10 10:59:30 ajacoutot Exp $
d13 1
a13 1
PKGNAME-cups=			gtk+2-cups-${VERSION}p0
d63 1
a63 1
			gobject-2.0 pango-1.0 pangocairo-1.0 \
@


1.76
log
@- fix wantlib after cups update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2009/01/11 17:04:47 ajacoutot Exp $
d11 1
a11 1
PKGNAME-main=			gtk+2-${VERSION}
@


1.75
log
@- bugfix update to version 2.14.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2008/12/20 19:37:19 ajacoutot Exp $
d13 1
a13 1
PKGNAME-cups=			gtk+2-cups-${VERSION}
d62 1
a62 1
WANTLIB-cups=		${WANTLIB} atk-1.0 crypto gio-2.0 glib-2.0 gmodule-2.0 \
d64 1
a64 1
			pangoft2-1.0 png ssl
@


1.74
log
@- work around an issue in gdk-pixbuf-io.c by lowering the default buffer
size so that we don't end up in memory access errors

This should fix several GTK apps crashes (eog and mail-notification come
to mind but there are others).

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2008/12/07 21:37:53 naddy Exp $
d9 1
a9 1
VERSION=			2.14.5
d11 1
a11 1
PKGNAME-main=			gtk+2-${VERSION}p1
d74 2
@


1.73
log
@Always include "lpr" among the print backends; agreed with ajacoutot@@.
(This means Firefox will again offer "Print to LPR".)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2008/11/25 13:14:08 jasper Exp $
d11 1
a11 1
PKGNAME-main=			gtk+2-${VERSION}p0
@


1.72
log
@- update gtk+2 to 2.24.5
* lots of bug fixes
- move the @@pkgpath marker to where it belongs in PLIST

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2008/11/18 12:36:49 landry Exp $
d11 1
a11 1
PKGNAME-main=			gtk+2-${VERSION}
@


1.71
log
@Major update to Gtk+ 2.14.4, which now includes x11/gnome/gail.

Tested in several bulk builds by many, thanks!
Note that this temporarely breaks gtk2mm (and all -mm) ports, due to a
pending update to gtk2mm which needs fixing in libstdc++. This is being
worked on, as other known breakages. Report any fallout to ports@@.

Discussed at length with espie@@ naddy@@ bernd@@ steven@@ ajacoutot@@ jasper@@
ok ajacoutot@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2008/11/15 13:29:55 ajacoutot Exp $
d9 1
a9 1
VERSION=			2.14.4
d11 1
a11 1
PKGNAME-main=			gtk+2-${VERSION}p0
d16 4
a19 4
SHARED_LIBS+=	gdk_pixbuf-2.0		1400.0 #.1400.4
SHARED_LIBS+=	gdk-x11-2.0		1400.0
SHARED_LIBS+=	gtk-x11-2.0		1400.0
SHARED_LIBS+=	gdk_pixbuf_xlib-2.0	1400.0
@


1.70
log
@- fix path to python interpreter in gtk-builder-convert

requested by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2008/09/27 17:59:12 brad Exp $
d9 1
a9 1
VERSION=			2.12.12
d16 5
a20 4
SHARED_LIBS+=	gdk_pixbuf-2.0		1200.11
SHARED_LIBS+=	gdk-x11-2.0		1200.11
SHARED_LIBS+=	gtk-x11-2.0		1200.11
SHARED_LIBS+=	gdk_pixbuf_xlib-2.0	1200.11
d30 1
a30 1
MASTER_SITES=			${MASTER_SITE_GNOME:=sources/gtk+/2.12/}
d45 2
a46 2
			glib-2.0.>=1000.0,gmodule-2.0.>=1000.0,gobject-2.0.>=1000.0,gthread-2.0::devel/glib2 \
			pango-1.0.>=1300.0,pangocairo-1.0.>=1300.0,pangoft2-1.0.>=1300.0::devel/pango \
d50 1
d62 1
a62 1
WANTLIB-cups=		${WANTLIB} atk-1.0 crypto glib-2.0 gmodule-2.0 \
@


1.69
log
@Update to GTK+ 2.12.12.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2008/07/08 08:40:11 brad Exp $
d11 1
a11 1
PKGNAME-main=			gtk+2-${VERSION}
d78 6
@


1.68
log
@Update to GTK+ 2.12.11.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2008/06/02 14:10:07 ajacoutot Exp $
d9 1
a9 1
VERSION=			2.12.11
a13 4
SHARED_LIBS +=	gdk_pixbuf-2.0       1200.10   # .1200.11
SHARED_LIBS +=	gdk-x11-2.0          1200.10   # .1200.11
SHARED_LIBS +=	gtk-x11-2.0          1200.10   # .1200.11
SHARED_LIBS +=	gdk_pixbuf_xlib-2.0  1200.10   # .1200.11
d16 5
d23 1
a23 1
# LGPL
@


1.67
log
@- remove support for MODGNOME_DEVHELP_FILES from the gnome MODULE ;
it makes more sense to add devhelp as run_depends for gnome-session and
leave it to the user to install it manually for other packages

"if you're as happy as a pig in poop, commit it" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2008/05/23 10:58:32 ajacoutot Exp $
d9 1
a9 1
VERSION=			2.12.9
d11 7
a17 7
PKGNAME-main=			gtk+2-${VERSION}p2
PKGNAME-docs=			gtk+2-docs-${VERSION}p2
PKGNAME-cups=			gtk+2-cups-${VERSION}p0
SHARED_LIBS +=	gdk_pixbuf-2.0       1200.9   # .1200.9
SHARED_LIBS +=	gdk-x11-2.0          1200.9   # .1200.9
SHARED_LIBS +=	gtk-x11-2.0          1200.9   # .1200.9
SHARED_LIBS +=	gdk_pixbuf_xlib-2.0  1200.9   # .1200.9
@


1.66
log
@- add devhelp to RUN_DEPENDS-docs

"go for it" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2008/05/20 21:10:18 kili Exp $
d12 1
a12 1
PKGNAME-docs=			gtk+2-docs-${VERSION}p1
d52 1
a52 1
RUN_DEPENDS-docs=	:devhelp-*:x11/gnome/devhelp
@


1.65
log
@
plist change for -cups package (due to pixman), so bump it, too.
ok fgsch@@ (and jasper@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2008/05/19 09:57:44 fgsch Exp $
d12 1
a12 1
PKGNAME-docs=			gtk+2-docs-${VERSION}p0
d52 1
a52 1
RUN_DEPENDS-docs=
@


1.64
log
@sync with cairo update. jasper@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2008/04/18 09:20:20 ajacoutot Exp $
d13 1
a13 1
PKGNAME-cups=			gtk+2-cups-${VERSION}
@


1.63
log
@- run gtk-update-icon-cache on install in case previous apps already
put icons under %D/share/icons/hicolor; this will allow us to use the
cache

"conceptual okay" from kurt@@ (who came up with the same idea)
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2008/04/15 19:34:53 ajacoutot Exp $
d11 1
a11 1
PKGNAME-main=			gtk+2-${VERSION}p1
d35 1
a35 1
			fontconfig freetype glitz m pcre z
@


1.62
log
@- add support for CUPS ("-cups" subpackage)
this makes printing using gtkprint and CUPS much more pleasant ;-)
- fix a small typo in COMMENT-docs while here

"no objections" jasper@@, looks good "landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2008/04/09 13:15:44 jasper Exp $
d11 1
a11 1
PKGNAME-main=			gtk+2-${VERSION}p0
@


1.61
log
@- update gtk+2 to 2.12.9

Lots of bugs were fixed in this release.

testing and feedback by many, thanks!

ok landry@@ merdely@@ simon@@
"go ahead" bernd@@ steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2008/02/09 17:55:39 jasper Exp $
d6 2
a7 1
COMMENT-docs=           	gtk+-2 documentation
d11 3
a13 2
PKGNAME-main=			gtk+2-${VERSION}
PKGNAME-docs=			gtk+2-docs-${VERSION}
d31 1
a31 1
MULTI_PACKAGES=         	-main -docs
d33 17
a49 14
WANTLIB-main=		X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext \
			Xfixes Xi Xinerama Xrender Xrandr c cairo expat \
			fontconfig freetype glib-2.0 glitz m gmodule-2.0 \
			gobject-2.0 gthread-2.0 pcre pthread z

MODULES=			devel/gettext

LIB_DEPENDS=			glib-2.0.>=1600.0,gmodule-2.0.>=1600.0,gobject-2.0.>=1600.0::devel/glib2 \
				pango-1.0.>=1300.0,pangocairo-1.0.>=1300.0,pangoft2-1.0.>=1300.0::devel/pango \
				atk-1.0.>=1809.0::devel/atk \
				tiff.>=35::graphics/tiff \
				png.>=3::graphics/png \
				jpeg.>=62::graphics/jpeg
RUN_DEPENDS=			::x11/hicolor-icon-theme
d53 9
a61 1
PKG_ARCH-docs=			*
d70 1
a70 2
				LDFLAGS="-L${LOCALBASE}/lib" \
				ENABLE_CUPS="no"
@


1.60
log
@- update gtk+2 to 2.12.7
  (bugfixes, updated translations and accesibility support for GtkBuilder)

tested in a bulk build by steven@@
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2008/01/17 22:26:50 jasper Exp $
d8 1
a8 1
VERSION=			2.12.7
d12 4
a15 4
SHARED_LIBS +=	gdk_pixbuf-2.0       1200.7   # .1200.7
SHARED_LIBS +=	gdk-x11-2.0          1200.7   # .1200.7
SHARED_LIBS +=	gtk-x11-2.0          1200.7   # .1200.7
SHARED_LIBS +=	gdk_pixbuf_xlib-2.0  1200.7   # .1200.7
d38 1
a38 1
LIB_DEPENDS=			glib-2.0.>=1000.0,gmodule-2.0.>=1000.0,gobject-2.0.>=1000.0::devel/glib2 \
@


1.59
log
@- update gtk+2 to 2.12.3
- minor Makefile tweaks

tested by steven@@ in a bulk build
ok ajacoutot@@ martynas@@ steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2008/01/04 18:38:52 espie Exp $
d8 1
a8 1
VERSION=			2.12.3
d12 4
a15 4
SHARED_LIBS +=	gdk_pixbuf-2.0       1200.3   # .1200.3
SHARED_LIBS +=	gdk-x11-2.0          1200.3   # .1200.3
SHARED_LIBS +=	gtk-x11-2.0          1200.3   # .1200.3
SHARED_LIBS +=	gdk_pixbuf_xlib-2.0  1200.3   # .1200.3
@


1.58
log
@do the same thing with REGRESS_FLAGS as FAKE_FLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2007/12/05 14:32:18 steven Exp $
d8 1
a8 1
VERSION=			2.12.2
d12 4
a15 4
SHARED_LIBS +=	gdk_pixbuf-2.0       1200.2   # .1200.2
SHARED_LIBS +=	gdk-x11-2.0          1200.2   # .1200.2
SHARED_LIBS +=	gtk-x11-2.0          1200.2   # .1200.2
SHARED_LIBS +=	gdk_pixbuf_xlib-2.0  1200.2   # .1200.2
d31 1
a31 1
WANTLIB-main=		X11.>=10 Xau Xcomposite Xcursor Xdamage Xdmcp Xext \
d54 2
a55 1
CONFIGURE_ARGS+=		--with-xinput=yes
d63 2
a64 2
REGRESS_IS_INTERACTIVE=Yes
REGRESS_FLAGS=	DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
@


1.57
log
@maintenance update to 2.12.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2007/10/31 21:54:11 winiger Exp $
d63 1
a63 1
REGRESS_FLAGS+=	DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
@


1.56
log
@fix WANTLIB, bump PKGNAME

ok jasper@@ and martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2007/10/24 22:34:34 jasper Exp $
d8 1
a8 1
VERSION=			2.12.1
d10 1
a10 1
PKGNAME-main=			gtk+2-${VERSION}p0
d12 4
a15 4
SHARED_LIBS +=	gdk_pixbuf-2.0       1200.0   # .1200.0
SHARED_LIBS +=	gdk-x11-2.0          1200.0   # .1200.0
SHARED_LIBS +=	gtk-x11-2.0          1200.0   # .1200.0
SHARED_LIBS +=	gdk_pixbuf_xlib-2.0  1200.0   # .1200.0
@


1.55
log
@- update gtk+2 to 2.12.1

testing by kili@@ martynas@@ steven@@ ajacoutot@@ simon@@ wilfried@@ and some others

ok martynas@@ steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2007/09/10 19:15:25 jasper Exp $
d10 1
a10 1
PKGNAME-main=			gtk+2-${VERSION}
d34 1
a34 1
			gobject-2.0 gthread-2.0 pthread z
@


1.54
log
@update gtk+2 to 2.10.14

"go ahead" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2007/07/16 07:55:46 jasper Exp $
d8 1
a8 1
VERSION=			2.10.14
d12 4
a15 4
SHARED_LIBS +=	gdk_pixbuf-2.0       1000.14  # .1000.14
SHARED_LIBS +=	gdk-x11-2.0          1000.14  # .1000.14
SHARED_LIBS +=	gtk-x11-2.0          1000.14  # .1000.14
SHARED_LIBS +=	gdk_pixbuf_xlib-2.0  1000.14  # .1000.14
d26 1
a26 1
MASTER_SITES=			${MASTER_SITE_GNOME:=sources/gtk+/2.10/}
d31 4
a34 4
WANTLIB-main=		X11.>=10 Xau Xcursor Xdmcp Xext Xfixes Xi Xinerama \
			Xrender Xrandr c cairo expat fontconfig freetype \
			glib-2.0 glitz m gmodule-2.0 gobject-2.0 gthread-2.0 \
			pthread z
@


1.53
log
@- (bugfix) update gtk+2 to 2.10.13
- remove quotes from COMMENT and re-format DESCR's while here

from Brad Smith

ok ajacoutot@@ simon@@ (for the update)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2007/05/26 02:44:55 kili Exp $
d8 1
a8 1
VERSION=			2.10.13
d12 4
a15 4
SHARED_LIBS +=	gdk_pixbuf-2.0       1000.13  # .1000.13
SHARED_LIBS +=	gdk-x11-2.0          1000.13  # .1000.13
SHARED_LIBS +=	gtk-x11-2.0          1000.13  # .1000.13
SHARED_LIBS +=	gdk_pixbuf_xlib-2.0  1000.13  # .1000.13
d18 1
a18 1
HOMEPAGE=			http://www.gtk.org
@


1.52
log
@
Puffy found an out-of-bound bug.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2007/05/23 14:26:25 steven Exp $
d5 2
a6 2
COMMENT-main=			"multi-platform graphical toolkit"
COMMENT-docs=           	"gtk+-2 documentation"
d8 1
a8 1
VERSION=			2.10.12
d10 1
a10 1
PKGNAME-main=			gtk+2-${VERSION}p1
d12 4
a15 4
SHARED_LIBS +=	gdk_pixbuf-2.0       1000.12  # .1000.12
SHARED_LIBS +=	gdk-x11-2.0          1000.12  # .1000.12
SHARED_LIBS +=	gtk-x11-2.0          1000.12  # .1000.12
SHARED_LIBS +=	gdk_pixbuf_xlib-2.0  1000.12  # .1000.12
@


1.51
log
@fix file chooser dialog flickering as described here
http://bugzilla.gnome.org/show_bug.cgi?id=420285

from gtk svn

ok jasper, martynas
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2007/05/12 20:24:56 jasper Exp $
d10 1
a10 1
PKGNAME-main=			gtk+2-${VERSION}p0
@


1.50
log
@update gtk+2 to 2.10.12

feedback and ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2007/04/23 16:29:05 jasper Exp $
d10 1
a10 1
PKGNAME-main=			gtk+2-${VERSION}
@


1.49
log
@update gtk+2 to 2.10.10

based on diffs by alek@@

ok'd by several, "go ahead" steven@@
tested by many, thanks!

(diff to unbreak libgnomeui will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2007/03/28 20:31:07 steven Exp $
d8 1
a8 1
VERSION=			2.10.10
d12 4
a15 4
SHARED_LIBS +=	gdk_pixbuf-2.0       1000.10  # .1000.10
SHARED_LIBS +=	gdk-x11-2.0          1000.10  # .1000.10
SHARED_LIBS +=	gtk-x11-2.0          1000.10  # .1000.10
SHARED_LIBS +=	gdk_pixbuf_xlib-2.0  1000.10  # .1000.10
d56 2
a57 1
				LDFLAGS="-L${LOCALBASE}/lib"
@


1.48
log
@enforce libX11.>=10

ok naddy jasper
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2007/02/11 00:56:58 steven Exp $
d3 1
a3 1
NOT_FOR_ARCHS=			${NO_SHARED_ARCHS}
d8 1
a8 1
VERSION=			2.8.20
d10 1
a10 1
PKGNAME-main=			gtk+2-${VERSION}p5
d12 4
a19 5
SHARED_LIBS=			gdk-x11-2.0		802.1 \
				gdk_pixbuf-2.0		802.1 \
				gdk_pixbuf_xlib-2.0	802.1 \
				gtk-x11-2.0		802.1

d26 1
a26 1
MASTER_SITES=			${MASTER_SITE_GNOME:=sources/gtk+/2.8/}
d31 5
a35 2
WANTLIB-main=		ICE SM X11.>=10 Xcursor Xext Xfixes Xi Xinerama Xrender \
			Xrandr c cairo fontconfig freetype glitz m pthread z
d39 2
a40 2
				pango-1.0.>=1200.0,pangocairo-1.0.>=1200.0,pangoft2-1.0.>=1200.0::devel/pango \
				atk-1.0.>=0.1::devel/atk \
a53 1
CONFIGURE_ARGS+= 		--disable-gtk-doc
d56 7
a62 2
				LDFLAGS="-L${LOCALBASE}/lib" \
				PKG_CONFIG_PATH="${LOCALBASE}/lib/pkgconfig:${X11BASE}/lib/pkgconfig"
@


1.47
log
@WANTLIB fixes, mostly needed by recent cairo update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2007/02/02 09:21:29 bernd Exp $
d10 1
a10 1
PKGNAME-main=			gtk+2-${VERSION}p4
d32 1
a32 1
WANTLIB-main=		ICE SM X11 Xcursor Xext Xfixes Xi Xinerama Xrender \
@


1.46
log
@Security fix for CVE-2007-0010.

Fix error handling in pixbuf loaders. Patch from Debian.

http://secunia.com/advisories/23884/

ok steven@@, brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2006/12/16 12:22:36 espie Exp $
d10 1
a10 1
PKGNAME-main=			gtk+2-${VERSION}p3
d32 2
a33 2
WANTLIB-main=			X11 Xcursor Xext Xfixes Xi Xinerama Xrender \
				Xrandr c cairo fontconfig freetype glitz m pthread z
@


1.45
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2006/12/16 08:57:16 matthieu Exp $
d10 1
a10 1
PKGNAME-main=			gtk+2-${VERSION}p2
@


1.44
log
@Fix build with modular X. ok pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2006/11/24 17:28:41 steven Exp $
a41 1
BUILD_DEPENDS=          	:pkgconfig-*:devel/pkgconfig
@


1.43
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2006/09/26 20:06:08 kurt Exp $
d10 1
a10 1
PKGNAME-main=			gtk+2-${VERSION}p1
@


1.42
log
@link gdk-pixbuf-query-loaders with -pthread so that it can dlopen threaded
shared libs such as x11/gnome/librsvg. based on a diff originally from
Mikolaj Kucharski <eth0 at o2.pl>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2006/09/18 10:21:48 espie Exp $
d5 1
a5 1
COMMENT=			"multi-platform graphical toolkit"
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p0
d30 1
a30 2
MULTI_PACKAGES=         	-docs
SUBPACKAGE?=
d32 1
a32 2
.if ${SUBPACKAGE} != "-docs"
WANTLIB=			X11 Xcursor Xext Xfixes Xi Xinerama Xrender \
a43 1
.endif
d45 3
a47 3
.if defined(PACKAGING) && ${SUBPACKAGE} == "-docs"
PKG_ARCH=			*
.endif
@


1.41
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/07/10 14:47:32 steven Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}
d35 1
a35 1
				Xrandr c cairo fontconfig freetype glitz m z
@


1.40
log
@maintenance update to gtk+ 2.8.20

"go ahead" bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2006/06/19 17:59:02 bernd Exp $
d38 6
a43 6
LIB_DEPENDS=			glib-2.0.1000.0,gmodule-2.0.1000.0,gobject-2.0.1000.0::devel/glib2 \
				pango-1.0.1200.0,pangocairo-1.0.1200.0,pangoft2-1.0.1200.0::devel/pango \
				atk-1.0.0.1::devel/atk \
				tiff.35::graphics/tiff \
				png.3::graphics/png \
				jpeg.62::graphics/jpeg
@


1.40.2.1
log
@MFC:
Security fix for CVE-2007-0010.

Fix error handling in pixbuf loaders. Patch from Debian.

http://secunia.com/advisories/23884/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/07/10 14:47:32 steven Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p3
@


1.39
log
@Minor update to gtk+2-2.8.19.

Bugs fixed:
 341327	Memory corruption inside glib
 337491	_gdk_win32_drawable_release_dc: DeleteDC()
        called on a GetDC() handle
 343425	"grab-notify"-signal is not correctly propagated
        for internal children
 344244	Window resizing not working when keeping the
        aspect fixed
 344496	CRLF converting via Clipboard

Sync PLIST with gettext while I'm here.

testing & ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2006/06/03 19:56:56 brad Exp $
d8 1
a8 1
VERSION=			2.8.19
@


1.38
log
@fix LIB_DEPENDS; reminded by steven
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2006/06/03 18:23:52 brad Exp $
d8 1
a8 1
VERSION=			2.8.18
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p1
@


1.37
log
@Update to GTK+ 2.8.18.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2006/05/22 02:16:40 brad Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}
d39 1
a39 1
				pango-1.0.1200.0,pangoft2-1.0.1200.0,pangoxft-1.0.1200.0,pangox-1.0.1200.0::devel/pango \
@


1.36
log
@enable XInput support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2006/05/22 01:49:07 brad Exp $
d8 1
a8 1
VERSION=			2.8.17
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p1
d16 4
a19 4
SHARED_LIBS=			gdk-x11-2.0		802.0 \
				gdk_pixbuf-2.0		802.0 \
				gdk_pixbuf_xlib-2.0	802.0 \
				gtk-x11-2.0		802.0
@


1.35
log
@Update to GTK+ 2.8.17.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2006/04/10 20:04:23 naddy Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}
d34 1
a34 1
WANTLIB=			X11 Xcursor Xext Xfixes Xinerama Xrender \
d57 1
@


1.34
log
@require hicolor-icon-theme, used by the file selector box
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2006/01/10 03:04:01 naddy Exp $
d8 1
a8 1
VERSION=			2.6.10
d10 2
a11 2
PKGNAME=			gtk+2-${VERSION}p2
PKGNAME-docs=			gtk+2-docs-${VERSION}p0
a14 1
MAINTAINER=			Marc Matteo <marcm@@openbsd.org>
d16 4
a19 4
SHARED_LIBS=			gdk-x11-2.0		801.0 \
				gdk_pixbuf-2.0		801.0 \
				gdk_pixbuf_xlib-2.0	801.0 \
				gtk-x11-2.0		801.0
d27 2
a28 3
MASTER_SITES=			ftp://ftp.gtk.org/pub/gtk/v2.6/ \
				${MASTER_SITE_GNOME:=sources/gtk+/2.6/}
EXTRACT_SUFX=           	.tar.bz2
d34 2
a35 2
WANTLIB=			X11 Xcursor Xext Xfixes Xft Xinerama Xrender \
				c fontconfig freetype m z
d38 2
a39 2
LIB_DEPENDS=			glib-2.0.800.0,gmodule-2.0.800.0,gobject-2.0.800.0::devel/glib2 \
				pango-1.0.1000.0,pangoft2-1.0.1000.0,pangoxft-1.0.1001.0,pangox-1.0.1001.0::devel/pango \
@


1.33
log
@We've been here before in September, but the plist has changed.
Bump package name.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2006/01/07 07:13:14 pvalchev Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p1
d47 1
@


1.33.2.1
log
@MFC:
Security fix for CVE-2007-0010.

Fix error handling in pixbuf loaders. Patch from Debian.

http://secunia.com/advisories/23884/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2006/01/10 03:04:01 naddy Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p2
@


1.32
log
@security fixes from Debian:
CVE-2005-3186: Add check to XPM reader to prevent integer overflow for
specially crafted number of colors.
CVE-2005-2975: Fix endless loop with specially crafted number of colors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2006/01/07 07:10:18 pvalchev Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p0
@


1.31
log
@Go back to version 2.6.10 due to breakage related to cairo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2006/01/03 07:33:36 marcm Exp $
d10 2
a11 2
PKGNAME=			gtk+2-${VERSION}
PKGNAME-docs=			gtk+2-docs-${VERSION}
@


1.30
log
@SHARED_LIBS and update to the latest 2.8 version since I've had it for
some time :).

"looks alright" pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/12/01 15:42:04 bernd Exp $
d8 1
a8 1
VERSION=			2.8.9
d17 4
a20 4
SHARED_LIBS=			gdk-x11-2.0		800.9 \
				gdk_pixbuf-2.0		800.9 \
				gdk_pixbuf_xlib-2.0	800.9 \
				gtk-x11-2.0		800.9
d28 2
a29 2
MASTER_SITES=			ftp://ftp.gtk.org/pub/gtk/v2.8/ \
				${MASTER_SITE_GNOME:=sources/gtk+/2.8/}
d36 2
a37 2
WANTLIB=			X11 Xcursor Xext Xfixes Xinerama Xrender \
				Xrandr c cairo fontconfig freetype glitz m z
d41 1
a41 1
				pango-1.0.1000.0,pangoft2-1.0.1000.0,pangocairo-1.0.1000.0::devel/pango \
@


1.29
log
@Update to gtk+-2.8.8.

ok marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/11/20 07:20:23 marcm Exp $
d8 1
a8 1
VERSION=			2.8.8
d16 5
@


1.28
log
@Update to 2.8.7.

Primarily from naddy@@.  General maintenance release but includes security
fixes for:

CVE-2005-3186: Add check to XPM reader to prevent integer overflow for
specially crafted number of colors.
CVE-2005-2975: Fix endless loop with specially crafted number of colors.

Also, minor port fix from me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2005/11/13 06:23:58 marcm Exp $
d8 1
a8 1
VERSION=			2.8.7
@


1.27
log
@Update to GTK+ 2.8.6

2.8 series release notes here:
http://mail.gnome.org/archives/gnome-announce-list/2005-August/msg00054.html

NOTE: GTK+ now uses the Cairo vector graphic library as well as depending
on a version of Pango with it as well.  This will at a minimum require
chanes to the WANTLIBS of depending ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2005/09/07 20:51:14 kurt Exp $
d8 1
a8 1
VERSION=			2.8.6
@


1.26
log
@make emacs the default key theme. this will make the standard ^U, ^A, ^E
etc emacs commands work by default for gtk+2 apps. orig from pvalchev@@.

okay marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2005/09/06 16:51:46 marcm Exp $
d8 1
a8 1
VERSION=			2.6.10
d10 2
a11 2
PKGNAME=			gtk+2-${VERSION}p0
PKGNAME-docs=			gtk+2-docs-${VERSION}p0
d23 2
a24 1
MASTER_SITES=			ftp://ftp.gtk.org/pub/gtk/v2.6/
d31 2
a32 1
WANTLIB=			X11 Xcursor Xext Xfixes Xft Xinerama Xrender c fontconfig freetype m z
d35 2
a36 2
LIB_DEPENDS=			glib-2.0.600.0,gmodule-2.0.600.0,gobject-2.0.600.0::devel/glib2 \
				pango-1.0.800.1,pangoft2-1.0.800.1,pangox-1.0.800.1,pangoxft-1.0.800.1::devel/pango \
@


1.25
log
@Bugfix update to 2.6.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/08/16 18:28:56 espie Exp $
d10 2
a11 2
PKGNAME=			gtk+2-${VERSION}
PKGNAME-docs=			gtk+2-docs-${VERSION}
@


1.24
log
@fix conflicts with 3.6 packages, thus allowing updates.

Okay pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/08/05 17:15:09 kurt Exp $
d8 1
a8 1
VERSION=			2.6.9
d11 1
a11 1
PKGNAME-docs=			gtk+2-docs-${VERSION}p0
@


1.24.2.1
log
@security fixes from Debian:
CVE-2005-3186: Add check to XPM reader to prevent integer overflow for
specially crafted number of colors.
CVE-2005-2975: Fix endless loop with specially crafted number of colors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/08/16 18:28:56 espie Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p0
@


1.23
log
@update to 2.6.9 which is a bug fix release that includes the fix for
focus problems seen with firefox/gtk2 combined with ion.

ok marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2005/05/24 21:29:11 marcm Exp $
d11 1
a11 1
PKGNAME-docs=			gtk+2-docs-${VERSION}
@


1.22
log
@Update to GTK+ 2.6.7, the next release in the GTK cycle.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2005/05/11 19:00:43 alek Exp $
d8 1
a8 1
VERSION=			2.6.7
@


1.21
log
@- Bump lib major after recent libc changes
- Bump PKGNAME

go ahead espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/12/07 06:20:46 marcm Exp $
d8 1
a8 1
VERSION=			2.4.14
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p0
d23 1
a23 1
MASTER_SITES=			ftp://ftp.gtk.org/pub/gtk/v2.4/
d30 1
a30 1
WANTLIB=			X11 Xcursor Xext Xft Xinerama Xrender c fontconfig freetype m z
d33 2
a34 2
LIB_DEPENDS=			glib-2.0.400.0,gmodule-2.0.400.0,gobject-2.0.400.0::devel/glib2 \
				pango-1.0.399.1,pangoft2-1.0.399.1,pangox-1.0.399.1,pangoxft-1.0.399.1::devel/pango \
d48 1
a53 2

MAKE_FLAGS=			LT_VERSION_INFO="401:0:400"
@


1.20
log
@Update to 2.4.14.

Also, now picks up support for Xcursor too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2004/10/26 03:52:02 marcm Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}
d53 2
@


1.20.2.1
log
@security fixes from Debian:
CVE-2005-3186: Add check to XPM reader to prevent integer overflow for
specially crafted number of colors.
CVE-2005-2975: Fix endless loop with specially crafted number of colors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/12/07 06:20:46 marcm Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p0
@


1.19
log
@Update 2.4.10 -> 2.4.13

Standard stuff, bug fixes and such.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2004/09/27 03:15:07 marcm Exp $
d8 1
a8 1
VERSION=			2.4.13
d30 3
d51 2
a52 1
				LDFLAGS="-L${LOCALBASE}/lib"
@


1.18
log
@Update to 2.4.10.

This is a security update addressing the following:

    CAN-2004-0782: Heap-based overflow in pixbuf_create_from_xpm
    CAN-2004-0783: Stack-based overflow in xpm_extract_color
    CAN-2004-0788: ico loader integer overflow

Patches to -stable will be along in the next day or two.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2004/09/16 04:14:55 marcm Exp $
d8 1
a8 1
VERSION=			2.4.10
@


1.17
log
@Update to 2.4.9.  Latest bug fixery.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2004/08/08 17:14:23 marcm Exp $
d8 1
a8 1
VERSION=			2.4.9
@


1.16
log
@Update to 2.4.4.  New PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/06/22 03:15:03 marcm Exp $
d8 1
a8 1
VERSION=			2.4.4
@


1.15
log
@Update to gtk+ 2.4.3 and friends.

Note: this will cause breakage in ports that set the various
*_DISABLE_DEPRECATED defines for gtk.  These weill be addressed
shortly.

ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/03/30 15:48:29 sturm Exp $
d8 1
a8 1
VERSION=			2.4.3
@


1.14
log
@systrace bug was just fixed, this builds fine now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/02/04 07:39:19 sturm Exp $
d8 1
a8 1
VERSION=			2.2.4
d23 1
a23 1
MASTER_SITES=			ftp://ftp.gtk.org/pub/gtk/v2.2/
d30 2
a31 2
LIB_DEPENDS=			glib-2.0.0.8,gmodule-2.0.0.8,gobject-2.0.0.8::devel/glib2 \
				pango-1.0.0.1,pangox-1.0.0.1,pangoxft-1.0.0.1::devel/pango \
a42 3
# library versions (major:minor)
OBSD_LIB_VERSION=		0:14

a48 1
MAKE_ENV=			OBSD_LIB_VERSION="${OBSD_LIB_VERSION}"
@


1.13
log
@mark some subpackages arch independent

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2003/12/08 06:08:42 marcm Exp $
a52 2

NO_SYSTRACE=			"normalize_filename: filename too long"
@


1.13.2.1
log
@fixes a DoS issue with the BMP decoder, integer overflow and heap-based
buffer overflow with the XPM decoder, and integer overflow with the ICO
decoder.

CAN-2004-0753, CAN-2004-0782, CAN-2004-0788
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/02/04 07:39:19 sturm Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p1
@


1.12
log
@I've been handling the gdk-pixbuf.loaders and gtk.immodules files all
wrong.  These are generated files that should be updated automagically by
ports whenever GDK loaders or GTK immodules respectivly are added.

As such, these files shouldn't live under /etc but under /var/db... and
they should be generated on package install instead of through funky
sed magic in the Makefile.

So now they are. :)

Oh and regen the PLIST, since, we're hacking the crap out of it anyway.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/09/23 06:12:41 marcm Exp $
d37 4
@


1.11
log
@Bulk update of GTK+2 and GTK+2 requirements.

deve/glib2 2.2.2 -> 2.2.3
devel/pango 1.2.3 -> 1.2.5
x11/gtk+2 2.2.2 -> 2.2.4

These are minor bugfix updates to the GTK 2.2 series but are starting
to be required by some GTK & Gnome apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/08/24 20:48:55 sturm Exp $
a50 6

post-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gtk+2/; \
	src=`cd ${WRKSRC} && pwd -P`; \
	sed s,$$src/modules/input,${LOCALBASE}/lib/gtk-2.0/2.2.0/immodules, ${WRKSRC}/modules/input/gtk.immodules > ${PREFIX}/share/examples/gtk+2/gtk.immodules; \
	sed s,$$src/gdk-pixbuf,${LOCALBASE}/lib/gtk-2.0/2.2.0/loaders, ${WRKSRC}/gdk-pixbuf/gdk-pixbuf.loaders > ${PREFIX}/share/examples/gtk+2/gdk-pixbuf.loaders
@


1.10
log
@mark these NO_SYSTRACE for now as systrace bugs manifest themselfs in
breaking build or packaging otherwise

- the gtk+2 problem is of unknown nature for now
- hylafax and MyCC break due to systrace translating "" to the current
directory in 'test -d ""' and thus succeeding the test instead of failing;
this is a problem when testing if some variable holds an existing directory
name and that variable is empty

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2003/08/15 21:07:05 marcm Exp $
d8 1
a8 1
VERSION=			2.2.2
d40 1
a40 1
OBSD_LIB_VERSION=		0:12
@


1.10.2.1
log
@fixes a DoS issue with the BMP decoder, integer overflow and heap-based
buffer overflow with the XPM decoder, and integer overflow with the ICO
decoder.

CAN-2004-0753, CAN-2004-0782, CAN-2004-0788
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/08/24 20:48:55 sturm Exp $
d10 1
a10 1
PKGNAME=			gtk+2-${VERSION}p1
@


1.9
log
@This is so not going to work on static arches, so don't even try.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2003/07/26 23:22:50 espie Exp $
d49 2
@


1.8
log
@stupid program substitutes symlinks, have to get them back.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.7 2003/06/30 03:59:03 marcm Exp $
a44 2
CONFIGURE_ARGS+=		${CONFIGURE_SHARED}
CONFIGURE_ARGS+= 		--enable-static
@


1.7
log
@Update to 2.2.2, a bug fix release.  Regen patches too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/06/12 19:26:36 marcm Exp $
d52 3
a54 2
	sed s,${WRKSRC}/modules/input,${LOCALBASE}/lib/gtk-2.0/2.2.0/immodules, ${WRKSRC}/modules/input/gtk.immodules > ${PREFIX}/share/examples/gtk+2/gtk.immodules; \
	sed s,${WRKSRC}/gdk-pixbuf,${LOCALBASE}/lib/gtk-2.0/2.2.0/loaders, ${WRKSRC}/gdk-pixbuf/gdk-pixbuf.loaders > ${PREFIX}/share/examples/gtk+2/gdk-pixbuf.loaders
@


1.6
log
@Update to 2.2.1... finally

urging and ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/02/18 17:36:04 marcm Exp $
d6 1
a6 1
VERSION=			2.2.1
d38 1
a38 4
LIBGDK_X11_VERSION=		0:11
LIBGDK_PIXBUF_VERSION=		0:11
LIBGDK_PIXBUF_XLIB_VERSION=	0:11
LIBGTK_X11_VERSION=		0:11
d48 1
a48 4
MAKE_ENV=			LIBGDK_X11_VERSION="${LIBGDK_X11_VERSION}" \
				LIBGDK_PIXBUF_VERSION="${LIBGDK_PIXBUF_VERSION}" \
				LIBGDK_PIXBUF_XLIB_VERSION="${LIBGDK_PIXBUF_XLIB_VERSION}" \
				LIBGTK_X11_VERSION="${LIBGTK_X11_VERSION}"
@


1.5
log
@/me slaps forehead

Thanks to Han Boetes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/12/23 04:59:47 marcm Exp $
d6 1
a6 1
VERSION=			2.0.9
d21 1
a21 1
MASTER_SITES=			ftp://ftp.gtk.org/pub/gtk/v2.0/
d28 3
a30 3
LIB_DEPENDS=			glib-2.0.0.0,gmodule-2.0.0.0,gobject-2.0.0.0::devel/glib2 \
				pango-1.0.0.0,pangox-1.0.0.0,pangoxft-1.0.0.0::devel/pango \
				atk-1.0.0.0::devel/atk \
d38 4
a41 4
LIBGDK_X11_VERSION=		0:9
LIBGDK_PIXBUF_VERSION=		0:9
LIBGDK_PIXBUF_XLIB_VERSION=	0:9
LIBGTK_X11_VERSION=		0:9
a55 2
NO_REGRESS=			Yes

d57 3
a59 2
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gtk+2/gtk-2.0; \
	${INSTALL_DATA} ${WRKSRC}/modules/input/gtk.immodules ${PREFIX}/share/examples/gtk+2/gtk-2.0/
@


1.4
log
@Update to 2.0.9, fix LIB_DEPENDS, take MAINTAINER.

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/08/11 11:03:27 nino Exp $
d33 1
a33 1
				jpeg.62::graphics/tiff
@


1.3
log
@Update to 2.0.6, make library versions controllable from the Makefile.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/07/26 05:16:12 nino Exp $
d6 1
a6 1
VERSION=			2.0.6
d13 1
a13 1
MAINTAINER=			Nils Nordman <nino@@openbsd.org>
d28 3
a30 3
LIB_DEPENDS=			glib-2.0.=0,gmodule-2.0.=0,gobject-2.0.=0::devel/glib2 \
				pango-1.0.=0,pangox-1.0.=0,pangoxft-1.0.=0::devel/pango \
				atk-1.0.=0::devel/atk \
d38 4
a41 4
LIBGDK_X11_VERSION=		0:5
LIBGDK_PIXBUF_VERSION=		0:5
LIBGDK_PIXBUF_XLIB_VERSION=	0:5
LIBGTK_X11_VERSION=		0:5
@


1.2
log
@Fix freetype clash.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/07/25 09:42:35 nino Exp $
d3 2
a4 2
COMMENT=		"multi-platform graphical toolkit"
COMMENT-docs=           "gtk+-2 documentation"
d6 5
a10 5
VERSION=		2.0.5
DISTNAME=		gtk+-${VERSION}
PKGNAME=		gtk+2-${VERSION}
PKGNAME-docs=		gtk+2-docs-${VERSION}
CATEGORIES=		x11 devel
d12 2
a13 2
HOMEPAGE=		http://www.gtk.org
MAINTAINER=		Nils Nordman <nino@@openbsd.org>
d16 4
a19 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d21 2
a22 2
MASTER_SITES=		ftp://ftp.gtk.org/pub/gtk/v2.0/
EXTRACT_SUFX=           .tar.bz2
d24 1
a24 1
MULTI_PACKAGES=         -docs
d28 7
a34 8
LIB_DEPENDS=		glib-2.0.=0,gmodule-2.0.=0,gobject-2.0.=0::devel/glib2 \
			pango-1.0.=0,pangox-1.0.=0,pangoxft-1.0.=0::devel/pango \
			atk-1.0.=0::devel/atk \
			tiff.35::graphics/tiff \
			png.3::graphics/png \
			jpeg.62::graphics/tiff
BUILD_DEPENDS=          :pkgconfig-*:devel/pkgconfig
RUN_DEPENDS=		${BUILD_DEPENDS}
d37 18
a54 2
USE_X11=		Yes
USE_GMAKE=		Yes
d56 1
a56 7
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+= 	--enable-static
CONFIGURE_ENV=		CPPFLAGS="-I${X11BASE}/include/freetype2/ -I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
			LDFLAGS="-L${LOCALBASE}/lib"

NO_REGRESS=		Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d44 1
a44 1
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
@


1.1.1.1
log
@Import gtk+2. From DESCR:

This is GTK+ version 2.0.5. GTK+ is a multi-platform toolkit for
creating graphical user interfaces. Offering a complete set of widgets,
GTK+ is suitable for projects ranging from small one-off projects to
complete application suites.

@
text
@@
