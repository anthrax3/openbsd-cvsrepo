head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2014.10.10.17.03.52;	author ajacoutot;	state dead;
branches;
next	1.1;
commitid	q7JMe92jvbjgmnEs;

1.1
date	2014.10.02.20.02.20;	author ajacoutot;	state Exp;
branches;
next	;
commitid	IzDhJCQ2DwPEVPlm;


desc
@@


1.2
log
@Update to gtk+2-2.24.25.
@
text
@$OpenBSD: patch-modules_engines_pixbuf_pixbuf-draw_c,v 1.1 2014/10/02 20:02:20 ajacoutot Exp $

From 1d0e2d58385bd01fdb753bf40ba2f4c32ccd0cc8 Mon Sep 17 00:00:00 2001
From: Matthias Clasen <mclasen@@redhat.com>
Date: Mon, 29 Sep 2014 16:05:57 -0400
Subject: pixbuf engine: Avoid a crash if widget is NULL

--- modules/engines/pixbuf/pixbuf-draw.c.orig	Thu Mar  6 05:56:42 2014
+++ modules/engines/pixbuf/pixbuf-draw.c	Thu Oct  2 21:37:23 2014
@@@@ -131,7 +131,7 @@@@ draw_simple_image(GtkStyle       *style,
 	match_data->orientation = GTK_ORIENTATION_HORIZONTAL;
     }
 
-  if (!(match_data->flags & THEME_MATCH_DIRECTION))
+  if (widget && !(match_data->flags & THEME_MATCH_DIRECTION))
     {
       match_data->flags |= THEME_MATCH_DIRECTION;
       match_data->direction = gtk_widget_get_direction (widget);
@


1.1
log
@Bring gtkrc back.
While here merge a couple of fixes from upstream.
@
text
@d1 1
a1 1
$OpenBSD$
@

