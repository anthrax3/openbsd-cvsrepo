head	1.32;
access;
symbols
	OPENBSD_4_8:1.31.0.2
	OPENBSD_4_8_BASE:1.31
	OPENBSD_4_7:1.25.0.2
	OPENBSD_4_7_BASE:1.25
	OPENBSD_4_6:1.21.0.4
	OPENBSD_4_6_BASE:1.21
	OPENBSD_4_5:1.21.0.2
	OPENBSD_4_5_BASE:1.21
	OPENBSD_4_4:1.18.0.2
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.17.0.2
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.15.0.2
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.13.0.2
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.12.0.2
	OPENBSD_4_0_BASE:1.12
	OPENBSD_3_9:1.10.0.2
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.7.0.2
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.5.0.4
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.5.0.2
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.1.0.4
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.2
	OPENBSD_3_2_BASE:1.1;
locks; strict;
comment	@# @;


1.32
date	2010.09.30.07.18.15;	author ajacoutot;	state dead;
branches;
next	1.31;

1.31
date	2010.05.03.15.04.27;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2010.04.25.20.35.08;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.04.24.16.41.16;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2010.04.24.15.54.28;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2010.04.20.19.03.37;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2010.03.21.09.56.40;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2010.01.12.08.53.36;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2009.12.01.09.41.14;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.10.04.18.17.57;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.07.12.20.39.33;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.01.11.17.04.47;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2008.11.25.13.14.08;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2008.11.18.12.36.49;	author landry;	state Exp;
branches;
next	1.18;

1.18
date	2008.07.08.08.40.11;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2007.12.05.14.32.19;	author steven;	state Exp;
branches;
next	1.16;

1.16
date	2007.10.24.22.34.34;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2007.05.12.20.24.56;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2007.04.23.16.29.05;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2006.09.26.20.06.08;	author kurt;	state Exp;
branches;
next	1.12;

1.12
date	2006.05.28.10.07.25;	author steven;	state Exp;
branches;
next	1.11;

1.11
date	2006.05.22.01.49.07;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2006.01.07.07.10.19;	author pvalchev;	state Exp;
branches;
next	1.9;

1.9
date	2006.01.03.07.33.37;	author marcm;	state Exp;
branches;
next	1.8;

1.8
date	2005.11.13.06.23.58;	author marcm;	state Exp;
branches;
next	1.7;

1.7
date	2005.08.05.17.15.09;	author kurt;	state Exp;
branches;
next	1.6;

1.6
date	2005.05.24.21.29.11;	author marcm;	state Exp;
branches;
next	1.5;

1.5
date	2004.06.22.03.15.03;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.12.08.06.08.43;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.06.30.03.59.03;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.12.19.26.36;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2002.08.11.11.03.27;	author nino;	state Exp;
branches;
next	;


desc
@@


1.32
log
@Major update to gtk+2-2.22.0.
Take maintainership.
gdk-pixbuf is now a separate library.

ok jasper@@
@
text
@$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.31 2010/05/03 15:04:27 ajacoutot Exp $
--- gdk-pixbuf/Makefile.in.orig	Mon May  3 01:54:59 2010
+++ gdk-pixbuf/Makefile.in	Mon May  3 13:51:14 2010
@@@@ -1376,7 +1376,7 @@@@ test_gdk_pixbuf_LDADD = $(LDADDS)
 gdk_pixbuf_csource_SOURCES = gdk-pixbuf-csource.c
 gdk_pixbuf_csource_LDADD = $(LDADDS)
 gdk_pixbuf_query_loaders_DEPENDENCIES = $(DEPS)
-gdk_pixbuf_query_loaders_LDADD = $(LDADDS)
+gdk_pixbuf_query_loaders_LDADD = $(LDADDS) -pthread
 gdk_pixbuf_query_loaders_SOURCES = queryloaders.c
 
 #
@@@@ -2448,13 +2448,6 @@@@ install-data-hook: install-ms-lib install-def-file
 	@@if $(RUN_QUERY_LOADER_TEST) ; then \
 	  $(mkinstalldirs) $(DESTDIR)$(sysconfdir)/gtk-2.0 ; \
 	  $(top_builddir)/gdk-pixbuf/gdk-pixbuf-query-loaders > $(DESTDIR)$(sysconfdir)/gtk-2.0/gdk-pixbuf.loaders ; \
-	else \
-	  echo "***" ; \
-	  echo "*** Warning: gdk-pixbuf.loaders not built" ; \
-	  echo "***" ; \
-	  echo "*** Generate this file manually on host" ; \
-	  echo "*** system using gdk-pixbuf-query-loaders" ; \
-	  echo "***" ; \
 	fi
 
 uninstall-local: uninstall-ms-lib uninstall-def-file
@@@@ -2466,7 +2459,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
 @@BUILD_DYNAMIC_MODULES_TRUE@@	LOADERS=`echo libpixbufloader-*.la` ; \
 @@BUILD_DYNAMIC_MODULES_TRUE@@	if test "x$$LOADERS" != 'xlibpixbufloader-*.la' ; then \
 @@BUILD_DYNAMIC_MODULES_TRUE@@          echo "Writing a gdk-pixbuf.loader file to use when running examples before installing gdk-pixbuf."; \
-@@BUILD_DYNAMIC_MODULES_TRUE@@	  $(top_builddir)/gdk-pixbuf/gdk-pixbuf-query-loaders $$LOADERS > ./gdk-pixbuf.loaders ;\
+@@BUILD_DYNAMIC_MODULES_TRUE@@	  LD_LIBRARY_PATH=$(top_builddir)/gdk-pixbuf/.libs $(top_builddir)/gdk-pixbuf/gdk-pixbuf-query-loaders $$LOADERS > ./gdk-pixbuf.loaders ;\
 @@BUILD_DYNAMIC_MODULES_TRUE@@	else \
 @@BUILD_DYNAMIC_MODULES_TRUE@@          echo "No dynamic modules found; will use only static modules for uninstalled example programs."; \
 @@BUILD_DYNAMIC_MODULES_TRUE@@	  touch gdk-pixbuf.loaders; \
@


1.31
log
@Bugfix update to gtk+2-2.20.1 (fixes a crash in g_file_get_child).
@
text
@d1 1
a1 1
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.30 2010/04/25 20:35:08 ajacoutot Exp $
@


1.30
log
@Set default gtk-key-theme-name to "Emacs" as it was before. This got
lost during the update.
spotted by naddy@@, thanks.

While here, remove some useless patches.
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.29 2010/04/24 16:41:16 jasper Exp $
--- gdk-pixbuf/Makefile.in.orig	Tue Mar 23 04:32:58 2010
+++ gdk-pixbuf/Makefile.in	Sun Apr 25 22:29:27 2010
@@@@ -1379,7 +1379,7 @@@@ test_gdk_pixbuf_LDADD = $(LDADDS)
d13 1
a13 1
@@@@ -2451,13 +2451,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -2469,7 +2462,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.29
log
@- add back two chunks eaten in the last commit. spotted by brad
@
text
@d1 1
a1 1
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.28 2010/04/24 15:54:28 jasper Exp $
d3 2
a4 4
+++ gdk-pixbuf/Makefile.in	Sat Apr 24 18:40:34 2010
@@@@ -1377,9 +1377,9 @@@@ AM_CPPFLAGS = "-DPIXBUF_LIBDIR=\"$(loaderdir)\"" "-DBU
 LDADDS = libgdk_pixbuf-$(GTK_API_VERSION).la $(GDK_PIXBUF_DEP_LIBS)
 test_gdk_pixbuf_LDADD = $(LDADDS)
d6 1
a6 2
-gdk_pixbuf_csource_LDADD = $(LDADDS)
+gdk_pixbuf_csource_LDADD = $(LDADDS) -pthread $(GLIB_LIBS)
d9 1
a9 1
+gdk_pixbuf_query_loaders_LDADD = $(LDADDS) $(GLIB_LIBS)
@


1.28
log
@- fix build on amd64
@
text
@d1 3
a3 3
$OpenBSD$
--- gdk-pixbuf/Makefile.in.orig	Sat Apr 24 16:57:07 2010
+++ gdk-pixbuf/Makefile.in	Sat Apr 24 16:57:31 2010
d9 1
a9 1
+gdk_pixbuf_csource_LDADD = $(LDADDS) $(GLIB_LIBS)
d16 23
@


1.27
log
@Major update to gtk+2-2.20.0.

"commitski" jasper@@
@
text
@d1 6
a6 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.26 2010/03/21 09:56:40 ajacoutot Exp $
--- gdk-pixbuf/Makefile.in.orig	Tue Mar 23 04:32:58 2010
+++ gdk-pixbuf/Makefile.in	Tue Apr 20 19:24:50 2010
@@@@ -1379,7 +1379,7 @@@@ test_gdk_pixbuf_LDADD = $(LDADDS)
d8 2
a9 1
 gdk_pixbuf_csource_LDADD = $(LDADDS)
d12 1
a12 1
+gdk_pixbuf_query_loaders_LDADD = $(LDADDS) -pthread
a15 23
@@@@ -2451,13 +2451,6 @@@@ install-data-hook: install-ms-lib install-def-file
 	@@if $(RUN_QUERY_LOADER_TEST) ; then \
 	  $(mkinstalldirs) $(DESTDIR)$(sysconfdir)/gtk-2.0 ; \
 	  $(top_builddir)/gdk-pixbuf/gdk-pixbuf-query-loaders > $(DESTDIR)$(sysconfdir)/gtk-2.0/gdk-pixbuf.loaders ; \
-	else \
-	  echo "***" ; \
-	  echo "*** Warning: gdk-pixbuf.loaders not built" ; \
-	  echo "***" ; \
-	  echo "*** Generate this file manually on host" ; \
-	  echo "*** system using gdk-pixbuf-query-loaders" ; \
-	  echo "***" ; \
 	fi
 
 uninstall-local: uninstall-ms-lib uninstall-def-file
@@@@ -2469,7 +2462,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
 @@BUILD_DYNAMIC_MODULES_TRUE@@	LOADERS=`echo libpixbufloader-*.la` ; \
 @@BUILD_DYNAMIC_MODULES_TRUE@@	if test "x$$LOADERS" != 'xlibpixbufloader-*.la' ; then \
 @@BUILD_DYNAMIC_MODULES_TRUE@@          echo "Writing a gdk-pixbuf.loader file to use when running examples before installing gdk-pixbuf."; \
-@@BUILD_DYNAMIC_MODULES_TRUE@@	  $(top_builddir)/gdk-pixbuf/gdk-pixbuf-query-loaders $$LOADERS > ./gdk-pixbuf.loaders ;\
+@@BUILD_DYNAMIC_MODULES_TRUE@@	  LD_LIBRARY_PATH=$(top_builddir)/gdk-pixbuf/.libs $(top_builddir)/gdk-pixbuf/gdk-pixbuf-query-loaders $$LOADERS > ./gdk-pixbuf.loaders ;\
 @@BUILD_DYNAMIC_MODULES_TRUE@@	else \
 @@BUILD_DYNAMIC_MODULES_TRUE@@          echo "No dynamic modules found; will use only static modules for uninstalled example programs."; \
 @@BUILD_DYNAMIC_MODULES_TRUE@@	  touch gdk-pixbuf.loaders; \
@


1.26
log
@Update to gtk+2-2.18.9.

tested in a bulk by jasper@@, thanks.
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.25 2010/01/12 08:53:36 ajacoutot Exp $
--- gdk-pixbuf/Makefile.in.orig	Mon Mar 15 23:37:24 2010
+++ gdk-pixbuf/Makefile.in	Tue Mar 16 08:38:54 2010
@@@@ -1329,7 +1329,7 @@@@ test_gdk_pixbuf_LDADD = $(LDADDS)
d13 1
a13 1
@@@@ -2336,13 +2336,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -2354,7 +2347,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.25
log
@Bugfix update to gtk+2-2.18.6.
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.24 2009/12/01 09:41:14 ajacoutot Exp $
--- gdk-pixbuf/Makefile.in.orig	Mon Jan 11 22:11:27 2010
+++ gdk-pixbuf/Makefile.in	Tue Jan 12 08:58:45 2010
@@@@ -1327,7 +1327,7 @@@@ test_gdk_pixbuf_LDADD = $(LDADDS)
d13 1
a13 1
@@@@ -2334,13 +2334,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -2352,7 +2345,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.24
log
@Bugfix update to gtk+2-2.18.4.
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.23 2009/10/04 18:17:57 ajacoutot Exp $
--- gdk-pixbuf/Makefile.in.orig	Tue Dec  1 05:08:44 2009
+++ gdk-pixbuf/Makefile.in	Tue Dec  1 09:37:09 2009
@@@@ -1326,7 +1326,7 @@@@ test_gdk_pixbuf_LDADD = $(LDADDS)
d13 1
a13 1
@@@@ -2333,13 +2333,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -2351,7 +2344,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.23
log
@Update to version 2.18.1.

committing early so that we can work with the latest at upcoming p2k9.
any fallout, please let me know directly.
ok landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.22 2009/07/12 20:39:33 ajacoutot Exp $
--- gdk-pixbuf/Makefile.in.orig	Tue Sep 29 09:17:04 2009
+++ gdk-pixbuf/Makefile.in	Tue Sep 29 09:18:08 2009
@@@@ -1324,7 +1324,7 @@@@ test_gdk_pixbuf_LDADD = $(LDADDS)
d13 1
a13 1
@@@@ -2331,13 +2331,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -2349,7 +2342,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.22
log
@- major update to gtk+2-2.16.4

*remove previous version before trying to compile this*

Report any failure directly to me please.

tested by landry@@ on a sparc64 bulk, thanks!
ok jasper@@ on a previous diff
@
text
@d1 5
a5 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.21 2009/01/11 17:04:47 ajacoutot Exp $
--- gdk-pixbuf/Makefile.in.orig	Sun May 31 06:11:03 2009
+++ gdk-pixbuf/Makefile.in	Thu Jun 11 15:11:57 2009
@@@@ -860,7 +860,7 @@@@ gdk_pixbuf_csource_SOURCES = gdk-pixbuf-csource.c
a6 1
 
a9 1
 
d12 2
a13 1
@@@@ -2247,13 +2247,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -2265,7 +2258,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.21
log
@- bugfix update to version 2.14.7
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.20 2008/11/25 13:14:08 jasper Exp $
--- gdk-pixbuf/Makefile.in.orig	Wed Jan  7 22:52:05 2009
+++ gdk-pixbuf/Makefile.in	Fri Jan  9 13:28:02 2009
@@@@ -852,7 +852,7 @@@@ gdk_pixbuf_csource_SOURCES = gdk-pixbuf-csource.c
d13 1
a13 1
@@@@ -2239,13 +2239,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -2257,7 +2250,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.20
log
@- update gtk+2 to 2.24.5
* lots of bug fixes
- move the @@pkgpath marker to where it belongs in PLIST

ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.19 2008/11/18 12:36:49 landry Exp $
--- gdk-pixbuf/Makefile.in.orig	Mon Nov 24 07:41:40 2008
+++ gdk-pixbuf/Makefile.in	Tue Nov 25 11:50:20 2008
@@@@ -856,7 +856,7 @@@@ gdk_pixbuf_csource_SOURCES = gdk-pixbuf-csource.c
d13 1
a13 1
@@@@ -2243,13 +2243,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -2261,7 +2254,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.19
log
@Major update to Gtk+ 2.14.4, which now includes x11/gnome/gail.

Tested in several bulk builds by many, thanks!
Note that this temporarely breaks gtk2mm (and all -mm) ports, due to a
pending update to gtk2mm which needs fixing in libstdc++. This is being
worked on, as other known breakages. Report any fallout to ports@@.

Discussed at length with espie@@ naddy@@ bernd@@ steven@@ ajacoutot@@ jasper@@
ok ajacoutot@@ jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.18 2008/07/08 08:40:11 brad Exp $
--- gdk-pixbuf/Makefile.in.orig	Wed Sep 24 05:11:37 2008
+++ gdk-pixbuf/Makefile.in	Sun Oct 19 20:04:31 2008
@@@@ -852,7 +852,7 @@@@ gdk_pixbuf_csource_SOURCES = gdk-pixbuf-csource.c
d13 1
a13 1
@@@@ -2239,13 +2239,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -2257,7 +2250,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.18
log
@Update to GTK+ 2.12.11.

ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.17 2007/12/05 14:32:19 steven Exp $
--- gdk-pixbuf/Makefile.in.orig	Tue Jun  3 17:20:32 2008
+++ gdk-pixbuf/Makefile.in	Mon Jun 23 23:34:01 2008
@@@@ -570,7 +570,7 @@@@ gdk_pixbuf_csource_SOURCES = gdk-pixbuf-csource.c
d13 1
a13 1
@@@@ -1644,13 +1644,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -1662,7 +1655,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.17
log
@maintenance update to 2.12.2
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.16 2007/10/24 22:34:34 jasper Exp $
--- gdk-pixbuf/Makefile.in.orig	Mon Nov 26 20:44:19 2007
+++ gdk-pixbuf/Makefile.in	Sat Dec  1 18:51:34 2007
@@@@ -568,7 +568,7 @@@@ gdk_pixbuf_csource_SOURCES = gdk-pixbuf-csource.c
d13 1
a13 1
@@@@ -1640,13 +1640,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -1658,7 +1651,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.16
log
@- update gtk+2 to 2.12.1

testing by kili@@ martynas@@ steven@@ ajacoutot@@ simon@@ wilfried@@ and some others

ok martynas@@ steven@@
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.15 2007/05/12 20:24:56 jasper Exp $
--- gdk-pixbuf/Makefile.in.orig	Thu Sep 13 17:40:48 2007
+++ gdk-pixbuf/Makefile.in	Wed Oct 10 12:37:07 2007
@@@@ -567,7 +567,7 @@@@ gdk_pixbuf_csource_SOURCES = gdk-pixbuf-csource.c
d13 1
a13 1
@@@@ -1639,13 +1639,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -1657,7 +1650,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.15
log
@update gtk+2 to 2.10.12

feedback and ok steven@@
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.14 2007/04/23 16:29:05 jasper Exp $
--- gdk-pixbuf/Makefile.in.orig	Wed May  2 18:41:50 2007
+++ gdk-pixbuf/Makefile.in	Sat May  5 00:20:27 2007
@@@@ -538,7 +538,7 @@@@ gdk_pixbuf_csource_SOURCES = gdk-pixbuf-csource.c
d13 1
a13 1
@@@@ -1604,13 +1604,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -1622,7 +1615,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.14
log
@update gtk+2 to 2.10.10

based on diffs by alek@@

ok'd by several, "go ahead" steven@@
tested by many, thanks!

(diff to unbreak libgnomeui will follow shortly)
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.13 2006/09/26 20:06:08 kurt Exp $
--- gdk-pixbuf/Makefile.in.orig	Mon Mar 12 15:16:01 2007
+++ gdk-pixbuf/Makefile.in	Fri Apr 20 19:19:51 2007
@@@@ -537,7 +537,7 @@@@ gdk_pixbuf_csource_SOURCES = gdk-pixbuf-csource.c
d13 1
a13 1
@@@@ -1603,13 +1603,6 @@@@ install-data-hook: install-ms-lib install-def-file
d27 1
a27 1
@@@@ -1621,7 +1614,7 @@@@ uninstall-local: uninstall-ms-lib uninstall-def-file
@


1.13
log
@link gdk-pixbuf-query-loaders with -pthread so that it can dlopen threaded
shared libs such as x11/gnome/librsvg. based on a diff originally from
Mikolaj Kucharski <eth0 at o2.pl>.
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.12 2006/05/28 10:07:25 steven Exp $
--- gdk-pixbuf/Makefile.in.orig	Sun Jul  2 09:57:38 2006
+++ gdk-pixbuf/Makefile.in	Fri Sep  1 16:16:21 2006
@@@@ -526,7 +526,7 @@@@ gdk_pixbuf_csource_SOURCES = gdk-pixbuf-
d13 1
a13 1
@@@@ -1604,13 +1604,6 @@@@ install-data-hook: install-ms-lib instal
d27 1
a27 1
@@@@ -1622,7 +1615,7 @@@@ uninstall-local: uninstall-ms-lib uninst
@


1.12
log
@remove obsolete shared libs patches.  ok bernd@@
@
text
@d1 12
a12 3
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.11 2006/05/22 01:49:07 brad Exp $
--- gdk-pixbuf/Makefile.in.orig	Fri Dec  9 13:28:12 2005
+++ gdk-pixbuf/Makefile.in	Sat May 13 16:59:37 2006
@


1.11
log
@Update to GTK+ 2.8.17.
@
text
@d1 1
a1 1
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.10 2006/01/07 07:10:19 pvalchev Exp $
a3 9
@@@@ -550,7 +550,7 @@@@ libgdk_pixbuf_2_0_la_SOURCES = \
 
 libgdk_pixbuf_2_0_la_LDFLAGS = \
 	$(gdk_pixbuf_win32_res_ldflag)		\
-	-version-info $(LT_VERSION_INFO)	\
+	$(LIBgdk_pixbuf-2.0_LTVERSION)		\
 	$(LIBTOOL_EXPORT_OPTIONS)		\
 	$(no_undefined)				\
 	$(gdk_pixbuf_symbols)
@


1.10
log
@Go back to version 2.6.10 due to breakage related to cairo
@
text
@d1 4
a4 5
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.7 2005/08/05 17:15:09 kurt Exp $
--- gdk-pixbuf/Makefile.in.orig	Thu Aug 18 08:12:37 2005
+++ gdk-pixbuf/Makefile.in	Thu Jan  5 18:02:50 2006
@@@@ -552,7 +552,7 @@@@ libgdk_pixbuf_2_0_la_SOURCES = \
 
d7 1
d9 1
a9 1
+	$(LIBgdk_pixbuf-2.0_LTVERSION)	\
d13 1
a13 1
@@@@ -1609,13 +1609,6 @@@@ install-data-hook: install-ms-lib instal
d26 2
a27 2
 uninstall-local: uninstall-ms-lib uninstall-libtool-import-lib
@@@@ -1627,7 +1620,7 @@@@ uninstall-local: uninstall-ms-lib uninst
@


1.9
log
@SHARED_LIBS and update to the latest 2.8 version since I've had it for
some time :).

"looks alright" pval@@
@
text
@d1 5
a5 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.8 2005/11/13 06:23:58 marcm Exp $
--- gdk-pixbuf/Makefile.in.orig	Fri Dec  9 10:28:12 2005
+++ gdk-pixbuf/Makefile.in	Fri Dec 30 22:57:56 2005
@@@@ -550,7 +550,7 @@@@ libgdk_pixbuf_2_0_la_SOURCES = \
a7 1
 	$(gdk_pixbuf_win32_res_ldflag)		\
d9 1
a9 1
+	$(LIBgdk_pixbuf-2.0_LTVERSION)		\
d13 1
a13 1
@@@@ -1604,13 +1604,6 @@@@ install-data-hook: install-ms-lib instal
d26 2
a27 2
 uninstall-local: uninstall-ms-lib uninstall-def-file
@@@@ -1622,7 +1615,7 @@@@ uninstall-local: uninstall-ms-lib uninst
@


1.8
log
@Update to GTK+ 2.8.6

2.8 series release notes here:
http://mail.gnome.org/archives/gnome-announce-list/2005-August/msg00054.html

NOTE: GTK+ now uses the Cairo vector graphic library as well as depending
on a version of Pango with it as well.  This will at a minimum require
chanes to the WANTLIBS of depending ports.
@
text
@d1 12
a12 3
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.7 2005/08/05 17:15:09 kurt Exp $
--- gdk-pixbuf/Makefile.in.orig	Sat Aug 13 06:21:42 2005
+++ gdk-pixbuf/Makefile.in	Tue Aug 23 22:16:42 2005
@


1.7
log
@update to 2.6.9 which is a bug fix release that includes the fix for
focus problems seen with firefox/gtk2 combined with ion.

ok marcm@@
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.6 2005/05/24 21:29:11 marcm Exp $
--- gdk-pixbuf/Makefile.in.orig	Mon Aug  1 10:38:53 2005
+++ gdk-pixbuf/Makefile.in	Sun Jul 31 22:56:09 2005
@@@@ -1609,13 +1609,6 @@@@ install-data-hook: install-ms-lib instal
d17 2
a18 2
 uninstall-local: uninstall-ms-lib uninstall-libtool-import-lib
@@@@ -1627,7 +1620,7 @@@@ uninstall-local: uninstall-ms-lib uninst
@


1.6
log
@Update to GTK+ 2.6.7, the next release in the GTK cycle.
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.5 2004/06/22 03:15:03 marcm Exp $
--- gdk-pixbuf/Makefile.in.orig	Tue Apr 12 13:31:06 2005
+++ gdk-pixbuf/Makefile.in	Sat Apr 16 19:38:39 2005
@@@@ -1607,13 +1607,6 @@@@ install-data-hook: install-ms-lib instal
d18 1
a18 1
@@@@ -1625,7 +1618,7 @@@@ uninstall-local: uninstall-ms-lib uninst
@


1.5
log
@Update to gtk+ 2.4.3 and friends.

Note: this will cause breakage in ports that set the various
*_DISABLE_DEPRECATED defines for gtk.  These weill be addressed
shortly.

ok pvalchev@@
@
text
@d1 4
a4 4
$OpenBSD$
--- gdk-pixbuf/Makefile.in.orig	2004-04-01 14:39:05.000000000 -0800
+++ gdk-pixbuf/Makefile.in	2004-04-01 14:41:40.000000000 -0800
@@@@ -1489,13 +1489,6 @@@@ install-data-hook: install-ms-lib instal
d18 1
a18 1
@@@@ -1507,7 +1500,7 @@@@ uninstall-local: uninstall-ms-lib uninst
@


1.4
log
@I've been handling the gdk-pixbuf.loaders and gtk.immodules files all
wrong.  These are generated files that should be updated automagically by
ports whenever GDK loaders or GTK immodules respectivly are added.

As such, these files shouldn't live under /etc but under /var/db... and
they should be generated on package install instead of through funky
sed magic in the Makefile.

So now they are. :)

Oh and regen the PLIST, since, we're hacking the crap out of it anyway.
@
text
@d1 7
a7 19
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.3 2003/06/30 03:59:03 marcm Exp $
--- gdk-pixbuf/Makefile.in.orig	2003-09-04 10:18:11.000000000 -0700
+++ gdk-pixbuf/Makefile.in	2003-12-07 10:47:44.000000000 -0800
@@@@ -429,7 +429,7 @@@@ libgdk_pixbuf_2_0_la_SOURCES = @@STRIP_BE
 @@STRIP_END@@
 
 libgdk_pixbuf_2_0_la_LDFLAGS = @@STRIP_BEGIN@@ \
-	-version-info $(LT_CURRENT):$(LT_REVISION):$(LT_AGE)    \
+	-version-info $(OBSD_LIB_VERSION)    \
 	@@LIBTOOL_EXPORT_OPTIONS@@				\
 	$(no_undefined)						\
 	$(gdk_pixbuf_symbols)					\
@@@@ -1342,17 +1342,6 @@@@ $(srcdir)/gdk-pixbuf-marshal.c: @@REBUILD
 # Running this if cross compiling or if DESTDIR is set is going to
 # not work at all, so skip it
 install-data-local: install-ms-lib install-libtool-import-lib
-	@@if $(RUN_QUERY_LOADER_TEST) ; then \
-	  $(mkinstalldirs) $(DESTDIR)$(sysconfdir)/gtk-2.0 ; \
-	  $(top_builddir)/gdk-pixbuf/gdk-pixbuf-query-loaders > $(DESTDIR)$(sysconfdir)/gtk-2.0/gdk-pixbuf.loaders ; \
d12 1
a12 1
-	  echo "*** Generate this file manually on on host" ; \
d15 1
a15 3
-	fi
 
 @@CROSS_COMPILING_FALSE@@all-local: gdk-pixbuf.loaders
d17 10
a26 9
@@@@ -1360,7 +1349,7 @@@@ gdk-pixbuf.loaders: $(loader_LTLIBRARIES
 	LOADERS=`echo libpixbufloader-*.la` ; \
 	if test "x$$LOADERS" != 'xlibpixbufloader-*.la' ; then \
           echo "Writing a gdk-pixbuf.loader file to use when running examples before installing gdk-pixbuf."; \
-	  $(top_builddir)/gdk-pixbuf/gdk-pixbuf-query-loaders $$LOADERS > ./gdk-pixbuf.loaders ;\
+	  LD_LIBRARY_PATH=$(top_builddir)/gdk-pixbuf/.libs $(top_builddir)/gdk-pixbuf/gdk-pixbuf-query-loaders $$LOADERS > ./gdk-pixbuf.loaders ;\
 	else \
           echo "No dynamic modules found; will use only static modules for uninstalled example programs."; \
 	  touch gdk-pixbuf.loaders; \
@


1.3
log
@Update to 2.2.2, a bug fix release.  Regen patches too.
@
text
@d1 3
a3 3
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.2 2003/06/12 19:26:36 marcm Exp $
--- gdk-pixbuf/Makefile.in.orig	Mon Jun  9 14:26:02 2003
+++ gdk-pixbuf/Makefile.in	Thu Jun 19 09:54:26 2003
d13 19
a31 1
@@@@ -1360,7 +1360,7 @@@@ gdk-pixbuf.loaders: $(loader_LTLIBRARIES
@


1.2
log
@Update to 2.2.1... finally

urging and ok jolan@@
@
text
@d1 4
a4 4
$OpenBSD: patch-gdk-pixbuf_Makefile_in,v 1.1 2002/08/11 11:03:27 nino Exp $
--- gdk-pixbuf/Makefile.in.orig	Sun Feb  2 07:28:38 2003
+++ gdk-pixbuf/Makefile.in	Tue Apr 22 08:14:41 2003
@@@@ -421,7 +421,7 @@@@ libgdk_pixbuf_2_0_la_SOURCES = @@STRIP_BE
d9 1
a9 1
+	-version-info $(LIBGDK_PIXBUF_VERSION)    \
d13 1
a13 1
@@@@ -1352,7 +1352,7 @@@@ gdk-pixbuf.loaders: $(loader_LTLIBRARIES
@


1.1
log
@Update to 2.0.6, make library versions controllable from the Makefile.
@
text
@d1 4
a4 4
$OpenBSD$
--- gdk-pixbuf/Makefile.in.orig	Sun Aug 11 11:31:16 2002
+++ gdk-pixbuf/Makefile.in	Sun Aug 11 11:33:14 2002
@@@@ -409,7 +409,7 @@@@ libgdk_pixbuf_2_0_la_SOURCES = @@STRIP_BE
d13 9
@

