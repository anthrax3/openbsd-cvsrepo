head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2007.07.16.07.55.47;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2007.05.23.14.26.26;	author steven;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- (bugfix) update gtk+2 to 2.10.13
- remove quotes from COMMENT and re-format DESCR's while here

from Brad Smith

ok ajacoutot@@ simon@@ (for the update)
@
text
@$OpenBSD: patch-gtk_gtkfilechooserembed_c,v 1.1 2007/05/23 14:26:26 steven Exp $
--- gtk/gtkfilechooserembed.c.orig	Wed May  2 18:26:58 2007
+++ gtk/gtkfilechooserembed.c	Tue May 22 17:53:52 2007
@@@@ -28,9 +28,7 @@@@ static void gtk_file_chooser_embed_class_init (gpointe
 static void delegate_get_default_size         (GtkFileChooserEmbed *chooser_embed,
 					       gint                *default_width,
 					       gint                *default_height);
-static void delegate_get_resizable_hints      (GtkFileChooserEmbed *chooser_embed,
-					       gboolean            *resize_horizontally,
-					       gboolean            *resize_vertically);
+static gboolean delegate_get_resizable        (GtkFileChooserEmbed *chooser_embed);
 static gboolean delegate_should_respond       (GtkFileChooserEmbed *chooser_embed);
 static void delegate_initial_focus            (GtkFileChooserEmbed *chooser_embed);
 static void delegate_default_size_changed     (GtkFileChooserEmbed *chooser_embed,
@@@@ -57,7 +55,7 @@@@ void
 _gtk_file_chooser_embed_delegate_iface_init (GtkFileChooserEmbedIface *iface)
 {
   iface->get_default_size = delegate_get_default_size;
-  iface->get_resizable_hints = delegate_get_resizable_hints;
+  iface->get_resizable = delegate_get_resizable;
   iface->should_respond = delegate_should_respond;
   iface->initial_focus = delegate_initial_focus;
 }
@@@@ -96,13 +94,11 @@@@ delegate_get_default_size (GtkFileChooserEmbed *choose
 {
   _gtk_file_chooser_embed_get_default_size (get_delegate (chooser_embed), default_width, default_height);
 }
-     
-static void
-delegate_get_resizable_hints (GtkFileChooserEmbed *chooser_embed,
-			      gboolean            *resize_horizontally,
-			      gboolean            *resize_vertically)
+
+static gboolean
+delegate_get_resizable (GtkFileChooserEmbed *chooser_embed)
 {
-  _gtk_file_chooser_embed_get_resizable_hints (get_delegate (chooser_embed), resize_horizontally, resize_vertically);
+  return _gtk_file_chooser_embed_get_resizable (get_delegate (chooser_embed));
 }
 
 static gboolean
@@@@ -208,14 +204,10 @@@@ _gtk_file_chooser_embed_initial_focus (GtkFileChooserE
   GTK_FILE_CHOOSER_EMBED_GET_IFACE (chooser_embed)->initial_focus (chooser_embed);
 }
 
-void
-_gtk_file_chooser_embed_get_resizable_hints (GtkFileChooserEmbed *chooser_embed,
-					     gboolean            *resize_horizontally,
-					     gboolean            *resize_vertically)
+gboolean
+_gtk_file_chooser_embed_get_resizable (GtkFileChooserEmbed *chooser_embed)
 {
-  g_return_if_fail (GTK_IS_FILE_CHOOSER_EMBED (chooser_embed));
-  g_return_if_fail (resize_horizontally != NULL);
-  g_return_if_fail (resize_vertically != NULL);
+  g_return_val_if_fail (GTK_IS_FILE_CHOOSER_EMBED (chooser_embed), FALSE);
 
-  GTK_FILE_CHOOSER_EMBED_GET_IFACE (chooser_embed)->get_resizable_hints (chooser_embed, resize_horizontally, resize_vertically);
+  return GTK_FILE_CHOOSER_EMBED_GET_IFACE (chooser_embed)->get_resizable (chooser_embed);
 }
@


1.1
log
@fix file chooser dialog flickering as described here
http://bugzilla.gnome.org/show_bug.cgi?id=420285

from gtk svn

ok jasper, martynas
@
text
@d1 1
a1 1
$OpenBSD$
@

