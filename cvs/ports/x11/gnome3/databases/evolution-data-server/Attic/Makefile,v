head	1.9;
access;
symbols
	OPENBSD_5_0:1.7.0.2
	OPENBSD_5_0_BASE:1.7
	ajacoutot_20010517:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2011.09.12.07.26.57;	author ajacoutot;	state dead;
branches;
next	1.8;

1.8
date	2011.08.31.09.21.54;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2011.07.12.09.25.32;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2011.07.03.17.14.23;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2011.06.08.18.15.41;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.05.28.08.15.53;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.05.23.17.02.28;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.05.23.11.52.56;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.05.17.17.07.32;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.05.17.17.07.32;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Remove what I merged.
@
text
@# $OpenBSD: Makefile,v 1.8 2011/08/31 09:21:54 ajacoutot Exp $

SHARED_ONLY=		Yes

COMMENT=		unified backend for PIM programs

GNOME_PROJECT=		evolution-data-server
GNOME_VERSION=		3.0.3

EXTRACT_SUFX=		.tar.xz

CATEGORIES=		databases

SHARED_LIBS +=  edataserver-1.2      12.0     # 14.0
SHARED_LIBS +=  ebackend-1.2         2.0      # 1.0
SHARED_LIBS +=  egroupwise-1.2       15.0     # 13.1
SHARED_LIBS +=  camel-1.2            16.0     # 23.0
SHARED_LIBS +=  camel-provider-1.2   16.0     # 23.0
SHARED_LIBS +=  ebook-1.2            14.0     # 13.1
SHARED_LIBS +=  edata-book-1.2       8.0      # 9.0
SHARED_LIBS +=  ecal-1.2             11.0     # 10.2
SHARED_LIBS +=  edata-cal-1.2        8.0      # 11.0
SHARED_LIBS +=  edataserverui-3.0    0.0      # 0.0

HOMEPAGE=	http://www.gnome.org/projects/evolution/

MAINTAINER=	Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
		Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

WANTLIB += GL ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm asn1
WANTLIB += atk-1.0 c cairo cairo-gobject com_err crypto db dbus-1
WANTLIB += drm expat fontconfig freetype gconf-2 gcrypt gdata
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gnome-keyring
WANTLIB += gobject-2.0 gpg-error gssapi gthread-2.0 gtk-3 gweather-3
WANTLIB += ical icalss icalvcal krb5 lber-2.4 ldap-2.4 m nspr4
WANTLIB += nss3 nssutil3 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += sasl2 smime3 soup-2.4 soup-gnome-2.4 sqlite3 ssl ssl3
WANTLIB += xcb xcb-render xcb-shm xml2 z

MODULES=		devel/gettext \
			lang/python \
			x11/gnome

BUILD_DEPENDS=		devel/bison \
			devel/gperf \
			devel/gobject-introspection
LIB_DEPENDS= 		databases/db/v4 \
			databases/openldap \
			security/nss>=3.11.4p1 \
			textproc/libical \
			x11/gnome/libgweather \
			devel/libgdata>=0.8.0

YACC=			bison

AUTOCONF_VERSION=	2.68
AUTOMAKE_VERSION=	1.9

CONFIGURE_STYLE= 	autoconf
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--disable-gtk-doc \
			--enable-introspection \
			--enable-ssl \
			--enable-smime \
			--enable-ipv6 \
			--enable-weather \
			--enable-nntp \
			--with-nss-libs="${LOCALBASE}/lib" \
			--with-nss-includes="${LOCALBASE}/include/nss" \
			--with-nspr-libs=${LOCALBASE}/lib \
			--with-nspr-includes=${LOCALBASE}/include/nspr \
			--with-krb5 \
			--with-krb5-libs=/usr/lib \
			--with-krb5-includes=/usr/include/kerberosV \
			--with-libdb="${LOCALBASE}/lib" \
			--with-openldap=${LOCALBASE}
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/db4" \
			LDFLAGS="-L${LOCALBASE}/lib -pthread"

# Only get the first x.y which is needed in the PLIST.
R=			${GNOME_VERSION:C/^([0-9]+\.[0-9]+).*/\1/}
SUBST_VARS=		R

MODPY_ADJ_FILES=	addressbook/libebook/gen-western-table.py

.include <bsd.port.mk>
@


1.8
log
@Bugfix update to evolution-data-server-3.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/07/12 09:25:32 ajacoutot Exp $
@


1.7
log
@Properly detect openbsd.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/07/03 17:14:23 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.0.2.1
d10 1
a10 1
REVISION=		3
d64 1
a64 2
# should be 2.66
AUTOCONF_VERSION=	2.65
@


1.6
log
@Fix some warnings.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/06/08 18:15:41 jasper Exp $
d10 1
a10 1
REVISION=		2
d64 5
a68 1
CONFIGURE_STYLE= 	gnu
@


1.5
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/05/28 08:15:53 ajacoutot Exp $
d10 1
a10 1
REVISION=		1
@


1.4
log
@Redirect the glib-compile-schemas goo stdout to /dev/null, no need to
be chatty here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/05/23 17:02:28 jasper Exp $
d10 1
a10 1
REVISION=		0
@


1.3
log
@update to 3.0.2.1, which rerolls the distfile and reverts the (disabled) vala bindings.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/05/23 11:52:56 jasper Exp $
d9 2
@


1.2
log
@- bugfix update to 3.0.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/05/17 17:07:32 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.0.2
a64 1
			--disable-vala-bindings \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2011/05/01 11:35:06 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.0.1
d65 1
@


1.1.1.1
log
@Import evolution-data-server-3.0.1.

The Evolution Data Server package provides a unified backend for
programs that work with contacts, tasks, and calendar information. It
was originally developed for Evolution (hence the name), but is now used
by other packages as well. 

The Evolution Data Server provides a single database for common,
desktop-wide information, such as a user's address book or calendar
events.

ok jasper@@
@
text
@@
