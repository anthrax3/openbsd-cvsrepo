head	1.2;
access;
symbols
	jasper_20111405:1.1.1.1 jasper:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2011.05.17.14.03.47;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2011.05.14.08.27.47;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.05.14.08.27.47;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Shuffle things around so that the gnome3 directory is usable like
mystuff. README coming soon so anyone can start having 'fun' with gnome3
ports.
Also this will allow proper dependencies to be set from the start
instead of breaking half of the tree when GNOME3 is enabled.

discussed with an ok jasper@@
@
text
@# $OpenBSD: Makefile,v 1.1 2011/05/14 08:27:47 jasper Exp $

SHARED_ONLY=		Yes

COMMENT=		implementation of the FreeDesktop Desktop Menu Spec

GNOME_PROJECT=		gnome-menus
GNOME_VERSION=		3.0.1

SHARED_LIBS +=	gnome-menu           5.2      # .6.13

# GPLv2/LGPLv2
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

WANTLIB += m pcre util z glib-2.0 gio-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gthread-2.0 ${MODPY_WANTLIB}

MODULES=		devel/gettext \
			lang/python \
			x11/gnome

DESKTOP_FILES=		Yes

BUILD_DEPENDS=		${RUN_DEPENDS}
RUN_DEPENDS=		devel/gobject-introspection
LIB_DEPENDS=		${MODPY_LIB_DEPENDS} \
			devel/glib2

CONFIGURE_ARGS+=	--enable-introspection
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

pre-configure:
	${SUBST_CMD} ${WRKSRC}/layout/applications.menu

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnome-menus
	mv ${WRKINST}${SYSCONFDIR}/* ${PREFIX}/share/examples/gnome-menus

.include <bsd.port.mk>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/04/07 08:32:01 jasper Exp $
@


1.1.1.1
log
@import gnome-menus 3.0.1

The package contains an implementation of the draft "Desktop
Menu Specification" from freedesktop.org for GNOME:
  http://www.freedesktop.org/Standards/menu-spec
Also contained here are the GNOME menu layout configuration
files, .directory files and assorted menu related utility programs.

ok aja@@
@
text
@@
