head	1.2;
access;
symbols
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	ajacoutot_20110727:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2011.09.12.07.26.57;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2011.07.27.10.07.50;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.07.27.10.07.50;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Remove what I merged.
@
text
@$OpenBSD: patch-shell_rb-shell-player_c,v 1.1 2011/07/27 10:07:50 ajacoutot Exp $
--- shell/rb-shell-player.c.orig	Mon May  2 13:42:44 2011
+++ shell/rb-shell-player.c	Sat Jul 23 09:16:42 2011
@@@@ -777,10 +777,8 @@@@ rb_shell_player_open_playlist_url (RBShellPlayer *play
 		rb_player_play (player->priv->mmplayer, play_type, player->priv->track_transition_time, &error);
 
 	if (error) {
-		GDK_THREADS_ENTER ();
 		rb_shell_player_error (player, TRUE, error);
 		g_error_free (error);
-		GDK_THREADS_LEAVE ();
 	}
 }
 
@@@@ -852,7 +850,9 @@@@ rb_shell_player_handle_eos_unlocked (RBShellPlayer *pl
 			/* we're handling an unexpected EOS here, so crossfading isn't
 			 * really possible anyway -> specify FALSE.
 			 */
+			GDK_THREADS_ENTER ();
 			rb_shell_player_open_playlist_url (player, location, entry, FALSE);
+			GDK_THREADS_LEAVE ();
 			g_free (location);
 			break;
 		}
@@@@ -1586,8 +1586,10 @@@@ open_location_thread (OpenLocationThreadData *data)
 
 	default:
 		/* if we can't parse it as a playlist, just try playing it */
+		GDK_THREADS_ENTER ();
 		rb_debug ("playlist parser failed, playing %s directly", data->location);
 		rb_shell_player_open_playlist_url (data->player, data->location, data->entry, data->play_type);
+		GDK_THREADS_LEAVE ();
 		break;
 	}
 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-shell_rb-shell-player_c,v 1.10 2010/03/28 10:48:50 ajacoutot Exp $
@


1.1.1.1
log
@Import rhythmbox-2.90.1.

Rhythmbox is an integrated music management application, originally
inspired by Apple's iTunes. It is free software, designed to work well
under the GNOME Desktop, and based on the powerful GStreamer media
framework.

based on an initial work from jasper@@
ok jasper@@
@
text
@@
