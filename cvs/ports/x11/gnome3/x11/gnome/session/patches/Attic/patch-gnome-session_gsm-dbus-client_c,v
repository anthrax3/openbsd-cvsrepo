head	1.2;
access;
symbols
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	ajacoutot_20110519:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2011.09.12.07.31.40;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2011.05.19.08.36.41;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.05.19.08.36.41;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Remove what I've merged.
@
text
@$OpenBSD: patch-gnome-session_gsm-dbus-client_c,v 1.1 2011/05/19 08:36:41 ajacoutot Exp $

dbus_message_get_path() can return NULL

--- gnome-session/gsm-dbus-client.c.orig	Tue Mar 22 21:31:43 2011
+++ gnome-session/gsm-dbus-client.c	Wed May 18 14:37:20 2011
@@@@ -212,10 +212,11 @@@@ client_dbus_filter_function (DBusConnection *connectio
 
         path = dbus_message_get_path (message);
 
-        g_debug ("GsmDBusClient: obj_path=%s interface=%s method=%s",
-                 dbus_message_get_path (message),
-                 dbus_message_get_interface (message),
-                 dbus_message_get_member (message));
+        if (path != NULL)
+            g_debug ("GsmDBusClient: obj_path=%s interface=%s method=%s",
+                     dbus_message_get_path (message),
+                     dbus_message_get_interface (message),
+                     dbus_message_get_member (message));
 
         if (dbus_message_is_method_call (message, SM_DBUS_CLIENT_PRIVATE_INTERFACE, "EndSessionResponse")) {
                 g_assert (gsm_client_peek_id (GSM_CLIENT (client)) != NULL);
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-gnome-session_gsm-dbus-client_c,v 1.4 2011/04/06 18:33:03 ajacoutot Exp $
@


1.1.1.1
log
@Import gnome-session-3.0.1.

gnome-session contains the GNOME session manager, as well as a
configuration program to choose applications starting on login.

(not hooked up yet)

ok jasper@@
@
text
@@
