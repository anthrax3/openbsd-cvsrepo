head	1.60;
access;
symbols
	OPENBSD_6_1:1.59.0.2
	OPENBSD_6_1_BASE:1.59
	OPENBSD_6_0:1.58.0.4
	OPENBSD_6_0_BASE:1.58
	OPENBSD_5_9:1.58.0.2
	OPENBSD_5_9_BASE:1.58
	OPENBSD_5_8:1.57.0.6
	OPENBSD_5_8_BASE:1.57
	OPENBSD_5_7:1.57.0.2
	OPENBSD_5_7_BASE:1.57
	OPENBSD_5_6:1.56.0.2
	OPENBSD_5_6_BASE:1.56
	OPENBSD_5_5:1.54.0.2
	OPENBSD_5_5_BASE:1.54
	OPENBSD_5_4:1.53.0.2
	OPENBSD_5_4_BASE:1.53
	OPENBSD_5_3:1.52.0.4
	OPENBSD_5_3_BASE:1.52
	OPENBSD_5_2:1.52.0.2
	OPENBSD_5_2_BASE:1.52
	OPENBSD_5_1_BASE:1.50
	OPENBSD_5_1:1.50.0.6
	OPENBSD_5_0:1.50.0.4
	OPENBSD_5_0_BASE:1.50
	OPENBSD_4_9:1.50.0.2
	OPENBSD_4_9_BASE:1.50
	OPENBSD_4_8:1.44.0.2
	OPENBSD_4_8_BASE:1.44
	OPENBSD_4_7:1.40.0.2
	OPENBSD_4_7_BASE:1.40
	OPENBSD_4_6:1.39.0.2
	OPENBSD_4_6_BASE:1.39
	OPENBSD_4_5:1.38.0.2
	OPENBSD_4_5_BASE:1.38
	OPENBSD_4_4:1.36.0.2
	OPENBSD_4_4_BASE:1.36
	OPENBSD_4_3:1.30.0.2
	OPENBSD_4_3_BASE:1.30
	OPENBSD_4_2:1.28.0.2
	OPENBSD_4_2_BASE:1.28
	OPENBSD_4_1:1.27.0.2
	OPENBSD_4_1_BASE:1.27
	OPENBSD_4_0:1.21.0.2
	OPENBSD_4_0_BASE:1.21
	OPENBSD_3_9:1.19.0.4
	OPENBSD_3_9_BASE:1.19
	OPENBSD_3_8:1.19.0.2
	OPENBSD_3_8_BASE:1.19
	OPENBSD_3_7:1.18.0.2
	OPENBSD_3_7_BASE:1.18
	OPENBSD_3_6:1.17.0.2
	OPENBSD_3_6_BASE:1.17
	OPENBSD_3_5:1.14.0.2
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.12.0.4
	OPENBSD_3_4_BASE:1.12
	OPENBSD_3_3:1.12.0.2
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.11.0.2
	OPENBSD_3_2_BASE:1.11
	OPENBSD_3_1:1.10.0.2
	OPENBSD_3_1_BASE:1.10
	OPENBSD_3_0:1.8.0.4
	OPENBSD_3_0_BASE:1.8
	OPENBSD_2_9_TRACKING_SWITCH:1.8
	OPENBSD_2_9:1.8.0.2
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_8:1.5.0.2
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	kevlo_2000-Feb-28:1.1.1.1
	kevlo:1.1.1;
locks; strict;
comment	@# @;


1.60
date	2017.04.10.11.46.36;	author sthen;	state Exp;
branches;
next	1.59;
commitid	HY6VNZxjJWzKQFDV;

1.59
date	2016.08.29.09.13.37;	author jca;	state Exp;
branches;
next	1.58;
commitid	aBqFlmYh9FmDTTGL;

1.58
date	2015.10.05.16.29.02;	author sthen;	state Exp;
branches;
next	1.57;
commitid	AqjFzXOPaoxpieFE;

1.57
date	2015.02.16.22.57.14;	author naddy;	state Exp;
branches;
next	1.56;
commitid	0dx3c9ckf7dE4tx1;

1.56
date	2014.06.04.05.07.59;	author giovanni;	state Exp;
branches;
next	1.55;
commitid	UNG4c3BRs8EGM32B;

1.55
date	2014.04.11.15.25.24;	author giovanni;	state Exp;
branches;
next	1.54;

1.54
date	2014.01.04.09.05.24;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2013.03.11.11.46.13;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2012.06.04.21.05.36;	author pascal;	state Exp;
branches;
next	1.51;

1.51
date	2012.03.31.11.10.57;	author naddy;	state Exp;
branches;
next	1.50;

1.50
date	2010.12.22.14.53.26;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2010.12.19.22.03.47;	author jasper;	state Exp;
branches;
next	1.48;

1.48
date	2010.12.12.19.13.01;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2010.12.02.07.50.06;	author matthieu;	state Exp;
branches;
next	1.46;

1.46
date	2010.11.22.08.36.59;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2010.10.24.21.15.32;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2010.07.30.12.03.08;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2010.07.30.06.58.59;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2010.07.02.17.40.18;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2010.03.21.11.35.26;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2009.08.11.08.42.08;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2009.03.05.08.08.02;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2009.02.08.21.56.18;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2008.08.21.07.34.07;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2008.07.23.09.54.04;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2008.07.11.17.46.56;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2008.05.28.20.05.14;	author naddy;	state Exp;
branches;
next	1.33;

1.33
date	2008.04.14.14.18.06;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2008.04.14.13.37.42;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2008.04.09.10.15.36;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2007.10.05.14.15.13;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2007.09.15.20.04.21;	author merdely;	state Exp;
branches;
next	1.28;

1.28
date	2007.06.01.20.03.42;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2006.12.27.16.18.24;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2006.11.15.06.21.32;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2006.11.10.09.31.28;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2006.11.04.17.59.19;	author fgsch;	state Exp;
branches;
next	1.23;

1.23
date	2006.11.02.17.53.03;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2006.09.18.10.21.48;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2006.07.09.09.32.01;	author steven;	state Exp;
branches;
next	1.20;

1.20
date	2006.04.01.15.47.10;	author robert;	state Exp;
branches;
next	1.19;

1.19
date	2005.03.23.21.43.31;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2004.12.04.17.25.19;	author sturm;	state Exp;
branches;
next	1.17;

1.17
date	2004.05.30.10.59.16;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2004.05.25.16.36.35;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2004.05.21.17.00.08;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2004.02.05.21.22.36;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2004.01.30.15.00.45;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2002.12.29.20.31.41;	author fgsch;	state Exp;
branches;
next	1.11;

1.11
date	2002.05.13.19.08.46;	author jsyn;	state Exp;
branches;
next	1.10;

1.10
date	2002.01.20.19.54.13;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2001.10.25.03.11.45;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2001.03.26.13.08.25;	author wilfried;	state Exp;
branches;
next	1.7;

1.7
date	2001.01.22.21.55.28;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2000.11.29.12.33.17;	author kevlo;	state Exp;
branches;
next	1.5;

1.5
date	2000.10.22.14.03.56;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2000.06.30.06.10.17;	author kevlo;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.05.09.47.05;	author espie;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2000.03.24.22.12.04;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2000.02.28.12.20.33;	author kevlo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.02.28.12.20.33;	author kevlo;	state Exp;
branches;
next	;

1.3.2.1
date	2000.09.15.05.25.05;	author marc;	state Exp;
branches;
next	;


desc
@@


1.60
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.59 2016/08/29 09:13:37 jca Exp $

COMMENT=	small and fast window manager

DISTNAME=	icewm-1.3.8
REVISION=	3
CATEGORIES=	x11

HOMEPAGE=	http://www.icewm.org/

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xext Xft Xinerama Xrandr Xrender c fontconfig
WANTLIB += freetype gdk_pixbuf-2.0 gdk_pixbuf_xlib-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 iconv intl m pthread ${LIBCXX}
WANTLIB += z

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=icewm/}

BUILD_DEPENDS=	devel/gettext-tools
LIB_DEPENDS=	graphics/gdk-pixbuf2

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--with-docdir=${PREFIX}/share/doc \
		--with-libdir=${PREFIX}/share/icewm \
		--with-cfgdir=${SYSCONFDIR}/icewm \
		--with-kdedatadir=${LOCALBASE}/share \
		--with-x \
		--enable-shaped-decorations \
		--enable-corefonts \
		--enable-i18n

# XXX TODO
#CONFIGURE_ARGS+=--with-icesound=sndio

CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

.include <bsd.port.arch.mk>

# XXX rendering bug on big-endian systems
.if ${PROPERTIES:Mle}
CONFIGURE_ARGS+= --enable-gradients
.endif

.if ${PROPERTIES:Mapm}
PATCH_LIST=	patch-* apm-*
.endif

pre-configure:
	${SUBST_CMD} ${WRKSRC}/doc/icewm-7.html

.include <bsd.port.mk>
@


1.59
log
@Drop the gettext module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2015/10/05 16:29:02 sthen Exp $
d16 1
a16 1
WANTLIB += gmodule-2.0 gobject-2.0 iconv intl m pthread stdc++
@


1.58
log
@REVISION bumps following the additional member in struct if_data,
to make sure packages get updated
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2015/02/16 22:57:14 naddy Exp $
d6 1
a6 1
REVISION=	2
d16 2
a17 1
WANTLIB += gmodule-2.0 gobject-2.0 m pthread stdc++ z
d21 1
a21 2
MODULES=	devel/gettext

@


1.57
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2014/06/04 05:07:59 giovanni Exp $
d6 1
a6 1
REVISION=	1
@


1.56
log
@
Handle ctrl-alt-canc buttons
remove traling whitespaces from Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/04/11 15:25:24 giovanni Exp $
a38 2

USE_GROFF=	Yes
@


1.55
log
@
install man page
enable apm monitor in tray area
enable lock button
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/01/04 09:05:24 ajacoutot Exp $
d6 2
a7 2
REVISION=	0
CATEGORIES=	x11	
d24 1
a24 1
CONFIGURE_STYLE=gnu		
d44 1
a44 1
# XXX rendering bug on big-endian systems 
@


1.54
log
@Update to icewm-1.3.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/03/11 11:46:13 espie Exp $
d6 1
d39 2
@


1.53
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/06/04 21:05:36 pascal Exp $
d5 1
a5 2
DISTNAME=	icewm-1.3.7
REVISION=	0
d13 3
a15 4
WANTLIB += ICE SM X11 Xau Xdmcp Xext Xft Xinerama Xrandr Xrender
WANTLIB += c expat fontconfig freetype gdk_pixbuf-2.0 gdk_pixbuf_xlib-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 m png
WANTLIB += pthread pthread-stubs stdc++ xcb z
d21 1
a21 4
# XXX LIB_DEPENDS are only checked directly. Indirect dependencies are not
# enough for a @@depends line
LIB_DEPENDS=	graphics/gdk-pixbuf2 \
		x11/gtk+2
@


1.52
log
@Use PROPERTIES to check for be/le.

ok jasper@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/03/31 11:10:57 naddy Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.51
log
@Do not redefine "deprecated".  It is not used anywhere in IceWM and
breaks the expansion of _X_DEPRECATED.

Use bsd.port.arch.mk.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/12/22 14:53:26 espie Exp $
d50 1
a50 4
.if ${MACHINE_ARCH} != "hppa" && ${MACHINE_ARCH} != "m68k" && \
${MACHINE_ARCH} != "m88k" && ${MACHINE_ARCH} != "mips64" && \
${MACHINE_ARCH} != "powerpc" && ${MACHINE_ARCH} != "sparc" && \
${MACHINE_ARCH} != "sparc64"
@


1.50
log
@explain
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/12/19 22:03:47 jasper Exp $
d41 8
d57 3
a59 5
# XXX TODO
#CONFIGURE_ARGS+=--with-icesound=sndio

CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
a64 6

.for m in ${MACHINE_ARCH} ${MACHINE}
.if ${APM_ARCHS:L:M$m}
PATCH_LIST=	patch-* apm-*
.endif
.endfor
@


1.49
log
@- fix install on clean system
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/12/12 19:13:01 jasper Exp $
d26 2
a27 1
# XXX: x11/gtk+2 depends on gdk-pixbuf2...yes pkg_add can't find the libs?
@


1.48
log
@- update icewm to 1.3.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/12/02 07:50:06 matthieu Exp $
d6 1
d26 3
a28 1
LIB_DEPENDS=	x11/gtk+2
@


1.47
log
@Add patch to fix bad XChangeProperty() usage that crashed on sparc64.
pr6522. ok and revision bump reminded by ajacoutot@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/11/22 08:36:59 espie Exp $
d5 1
a5 2
DISTNAME=	icewm-1.2.37
REVISION=	4
d16 4
a19 3
WANTLIB=	ICE SM X11 Xau Xdmcp Xext Xft Xinerama Xrandr Xrender \
		c expat fontconfig freetype jpeg m png stdc++ tiff \
		ungif z pthread-stubs xcb Imlib
d25 1
a25 2
LIB_DEPENDS=	graphics/imlib

d28 1
a28 2
CONFIGURE_ARGS=	--with-imlib=${PREFIX}/bin \
		--with-docdir=${PREFIX}/share/doc \
@


1.46
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/10/24 21:15:32 ajacoutot Exp $
d6 1
a6 1
REVISION=	3
@


1.45
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/07/30 12:03:08 ajacoutot Exp $
d25 1
a25 1
LIB_DEPENDS=	::graphics/imlib
@


1.44
log
@Move to new DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/07/30 06:58:59 ajacoutot Exp $
a26 1
USE_X11=	Yes
@


1.43
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/07/02 17:40:18 ajacoutot Exp $
d6 1
a6 1
REVISION=	2
d19 1
a19 1
		ungif z pthread-stubs xcb
d25 1
a25 1
LIB_DEPENDS=	Imlib.>=19::graphics/imlib
@


1.42
log
@Remove myself from MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/03/21 11:35:26 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.41
log
@Make use of the new APM_ARCHS.

"looks good" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2009/08/11 08:42:08 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
a9 2

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
@


1.40
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/03/05 08:08:02 ajacoutot Exp $
a30 7
# not all powerpc support apm(4), hence the use of ${MACHINE} and macppc
.if ${MACHINE_ARCH} == "arm" || ${MACHINE_ARCH} == "i386" \
 || ${MACHINE} == "macppc" || ${MACHINE_ARCH} == "sparc" \
 || ${MACHINE_ARCH} == "amd64" || ${MACHINE_ARCH} == "sparc64"
PATCH_LIST=	patch-* apm-*
.endif

d60 6
@


1.39
log
@- workaround a rendering issue on big-endian archs by disabling
gradients

rendering bug reported by Markus Lude <markus.lude at gmx dot de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/02/08 21:56:18 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d21 1
a21 1
		ungif z
@


1.38
log
@- update to icewm-1.2.37

from Alexandr Shadchin, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2008/08/21 07:34:07 ajacoutot Exp $
d6 1
a45 1
		--enable-gradients \
d48 9
d59 1
@


1.37
log
@- remove the ifdef i386 so that all apm capable arches can make use of the
battery plugin (spotted by mikeb@@)
- use SUBST_CMD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/07/23 09:54:04 ajacoutot Exp $
d3 1
a3 1
COMMENT=	small, fast window manager
d5 1
a5 2
DISTNAME=	icewm-1.2.35
PKGNAME=	${DISTNAME}p2
d48 2
@


1.36
log
@- follow the same path that x11/gnome/applets2: use MACHINE instead of
ARCH (so we don't need to add stuffs beneath the bsd.port.mk include) ;
idea from sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2008/07/11 17:46:56 ajacoutot Exp $
d34 1
a34 1
 || ${MACHINE_ARCH} == "amd64"
d52 2
a53 4
post-install:
	@@perl -pi -e 's:%%SYSCONFDIR%%:${SYSCONFDIR}:g;' \
		-e 's:%%PREFIX%%:${TRUEPREFIX}:g;' \
		${PREFIX}/share/doc/icewm/icewm-7.html
@


1.35
log
@- use ARCH instead of MACHINE_ARCH for macppc test
- regen PLIST while here
- bump

ok sthen@@ (on a previous diff)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2008/05/28 20:05:14 naddy Exp $
d31 7
a57 7

# not all powerpc support apm(4), hence the use of ${ARCH} and macppc
.if ${MACHINE_ARCH} == "arm" || ${MACHINE_ARCH} == "i386" \
 || ${ARCH} == "macppc" || ${MACHINE_ARCH} == "sparc" \
 || ${MACHINE_ARCH} == "amd64"
PATCH_LIST=	patch-* apm-*
.endif
@


1.34
log
@fix build after libiconv 1.12 update; ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2008/04/14 14:18:06 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
a44 7
# we use "macppc" and not "powerpc" on purpose here ; i.e. apm(4) needed
.if ${MACHINE_ARCH} == "arm" || ${MACHINE_ARCH} == "i386" \
 || ${MACHINE_ARCH} == "macppc" || ${MACHINE_ARCH} == "sparc" \
 || ${MACHINE_ARCH} == "amd64"
PATCH_LIST=	patch-* apm-*
.endif

d51 7
@


1.33
log
@- s/powerpc/macppc for apm support; this will give it a chance to build on
all powerpc platforms
no pkg change

spotted by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2008/04/14 13:37:42 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.32
log
@- amd64 can use the apm patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2008/04/09 10:15:36 ajacoutot Exp $
d45 1
d47 1
a47 1
 || ${MACHINE_ARCH} == "powerpc" || ${MACHINE_ARCH} == "sparc" \
@


1.31
log
@- update to icewm-1.2.35
- clean-up Makefile while here
- enable i18n (patch from FreeBSD)
- fix and enable REGRESS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2007/10/05 14:15:13 ajacoutot Exp $
d6 1
d46 2
a47 1
 || ${MACHINE_ARCH} == "powerpc" || ${MACHINE_ARCH} == "sparc"
@


1.30
log
@- update to 1.2.32
reminded (several times) by Federico Schwindt <fgsch at lodoss dot net>, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/09/15 20:04:21 merdely Exp $
d3 1
a3 1
COMMENT=		small, fast window manager
d5 2
a6 2
DISTNAME=		icewm-1.2.32
CATEGORIES=		x11	
d8 1
a8 1
HOMEPAGE=		http://www.icewm.org/
d10 1
a10 1
MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>
d12 1
a12 1
# LGPL
d18 25
a42 22
WANTLIB=		ICE Imlib SM X11 Xext Xft Xinerama Xrandr Xrender \
			c fontconfig freetype jpeg m png stdc++ tiff ungif z \
			Xau Xdmcp expat

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=icewm/}

MODULES=		devel/gettext

LIB_DEPENDS=		Imlib.>=19::graphics/imlib

USE_X11=		Yes
NO_REGRESS=		Yes
CONFIGURE_STYLE=	gnu		
CONFIGURE_ARGS=		--with-imlib=${PREFIX}/bin \
			--with-docdir=${PREFIX}/share/doc \
			--with-libdir=${PREFIX}/share/icewm \
			--with-cfgdir=${SYSCONFDIR}/icewm \
			--disable-i18n \
			--enable-shaped-decorations \
			--enable-gradients
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.29
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/06/01 20:03:42 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		icewm-1.2.30
PKGNAME=		${DISTNAME}p0
@


1.28
log
@- fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2006/12/27 16:18:24 ajacoutot Exp $
d3 1
a3 1
COMMENT=		"small, fast window manager"
@


1.27
log
@- update to icewm-1.2.30

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2006/11/15 06:21:32 ajacoutot Exp $
d6 1
d20 2
a21 1
			c fontconfig freetype jpeg m png stdc++ tiff ungif z
@


1.26
log
@- fix PATCH_LIST for APM capable archs
from dimitry at andric dot com, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/11/10 09:31:28 ajacoutot Exp $
d5 2
a6 3
DISTNAME=		icewm-1.2.28
PKGNAME=		${DISTNAME}p0
CATEGORIES=     	x11	
d21 1
a21 1
MASTER_SITES=           ${MASTER_SITE_SOURCEFORGE:=icewm/}
d29 1
a29 1
CONFIGURE_STYLE= 	gnu		
d42 1
a42 1
PATCH_LIST=	patch-* apm-patch-src_aapm_cc apm-patch-src_aapm_h
@


1.25
log
@- add apm support _only_ for archs supporting it ; no need to bump
PKGNAME as for apm capable archs, nothing changes and for the others, it
didn't build

noticed by sturm@@, thanks!

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2006/11/04 17:59:19 fgsch Exp $
d43 1
a43 1
PATCH_LIST+=	apm-patch-src_aapm_cc apm-patch-src_aapm_h
@


1.24
log
@add support for apm. while i'm here regenerate patches.
bump pkgname. maintainer ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2006/11/02 17:53:03 ajacoutot Exp $
d40 5
@


1.23
log
@- update to 1.2.28 (from Mike Belopuhov <mkb at crypt dot orgdot ru>)
- take over maintainership.

"Go ahead, commit" bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2006/09/18 10:21:48 espie Exp $
d6 1
@


1.22
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/07/09 09:32:01 steven Exp $
d5 1
a5 1
DISTNAME=		icewm-1.2.26
d10 1
a10 1
MAINTAINER=		Peter Williams <peterbw@@gmail.com>
@


1.21
log
@update to icewm 1.2.26
from maintainer Peter Williams <peterbw at gmail.com>

add MODULES=devel/gettext and sync PLIST while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/04/01 15:47:10 robert Exp $
d25 1
a25 1
LIB_DEPENDS=		Imlib.19::graphics/imlib
@


1.20
log
@update to version 1.2.25;

from Peter Williams (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2005/03/23 21:43:31 naddy Exp $
d5 1
a5 1
DISTNAME=		icewm-1.2.25
d19 1
a19 2
			c fontconfig freetype iconv intl jpeg m png stdc++ \
			tiff ungif z
d22 2
@


1.19
log
@Update to 1.2.20; from Peter Williams <peterbw@@gmail.com>.

Notable changes:
- fix crash/build failure when taskbar disabled
- fix build/link with some gcc/g++ versions
- disable SupportsSemitransparency by default, this makes icewmbg
  exit after setting the image and reduces memory usage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2004/12/04 17:25:19 sturm Exp $
d5 1
a5 1
DISTNAME=		icewm-1.2.20
@


1.18
log
@update to icewm 1.2.17

from maintainer Peter Benjamin Williams <peter at pbw.us>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2004/05/30 10:59:16 naddy Exp $
d5 1
a5 1
DISTNAME=		icewm-1.2.17
d10 1
a10 1
MAINTAINER=		Peter Williams <peter@@pbw.us>
@


1.17
log
@update maintainer address as per his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2004/05/25 16:36:35 naddy Exp $
d5 1
a5 1
DISTNAME=		icewm-1.2.14
d17 4
@


1.16
log
@update to 1.2.14; from new maintainer Peter Williams <peterbw@@citi.umich.edu>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/05/21 17:00:08 naddy Exp $
d10 1
a10 1
MAINTAINER=		Peter Williams <peterbw@@citi.umich.edu>
@


1.15
log
@major update to 1.2.13; from Peter Williams <peterbw@@citi.umich.edu>
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=		icewm-1.2.13
d9 2
@


1.14
log
@maintainer releases this
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/01/30 15:00:45 naddy Exp $
d5 1
a5 2
DISTNAME=		icewm-1.0.9-2
PKGNAME=		icewm-1.0.9.2
d22 1
a22 3
USE_GMAKE=		Yes
CONFIGURE_STYLE=	autoconf dest
AUTOCONF_VERSION=	2.52
d26 4
a29 1
			--with-cfgdir=${SYSCONFDIR}/icewm
a32 2
WRKDIST=		${WRKDIR}/icewm-1.0.9

d34 3
a36 1
			${INSTALL_DATA} ${FILESDIR}/openbsd.xpm ${PREFIX}/share/icewm/taskbar
@


1.13
log
@gcc3 fixes from upstream CVS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/12/29 20:31:41 fgsch Exp $
a9 2

MAINTAINER=		Andrey Smagin <andrey@@smagin.com>
@


1.12
log
@zap NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/05/13 19:08:46 jsyn Exp $
d26 2
a27 1
CONFIGURE_STYLE=	gnu dest
@


1.11
log
@remove MASTER_SITE_SUBDIR; from maintainers <jolan@@encryptedemail.net>
<nick@@wanadoo.be> and <andrey@@smagin.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/01/20 19:54:13 naddy Exp $
a7 1
NEED_VERSION=		1.528
@


1.10
log
@Update to 1.0.9-2.
Submitted by new maintainer Andrey Smagin <andrey@@smagin.com>.
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
a8 1
NEED_VERSION=		1.500
d20 1
a20 2
MASTER_SITES=           ${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=     icewm
@


1.9
log
@use gettext module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/03/26 13:08:25 wilfried Exp $
d3 1
a3 1
COMMENT=		'small, fast window manager'
d5 2
a6 2
DISTNAME=		icewm-1.0.7-7
PKGNAME=		icewm-1.0.7.7
d8 1
a8 1
NEED_VERSION=		1.474
d12 1
a12 1
MAINTAINER=		Pete Fritchman <petef@@databits.net>
d14 1
d20 2
a21 2
MASTER_SITES=		http://ftp1.sourceforge.net/icewm/ \
			http://www.maol.yi.org/icewm/download/stable/
a22 1
MODULES=		gettext
d26 1
d31 2
a32 1
			--with-cfgdir=/etc/icewm
d36 1
a36 1
WRKDIST=		${WRKDIR}/icewm-1.0.7
d39 1
a39 1
	${INSTALL_DATA} ${FILESDIR}/bsd-daemon.xpm ${PREFIX}/lib/X11/icewm/taskbar
@


1.8
log
@Upgrade to icewm-1.0.7-7

New maintainer:  Pete Fritchman <petef@@databits.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/01/22 21:55:28 naddy Exp $
d8 1
a8 1
NEED_VERSION=		1.364
d22 2
a23 2
LIB_DEPENDS=		Imlib.19::graphics/imlib \
			intl.1::devel/gettext
d31 2
a32 2
CONFIGURE_ENV=		CPPFLAGS="${CPPFLAGS} -I${LOCALBASE}/include" \
			LDFLAGS="${LDFLAGS} -L${LOCALBASE}/lib"
@


1.7
log
@maintainer has dropped off the net, return to ports@@
prodded by brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/11/29 12:33:17 kevlo Exp $
d3 4
a6 1
DISTNAME=		icewm-1.0.4
d8 1
a8 1
NEED_VERSION=		1.309
d10 1
a10 1
MAINTAINER=		ports@@openbsd.org
d12 1
a12 4
PERMIT_PACKAGE_CDROM=	"Yes"
PERMIT_PACKAGE_FTP=	"Yes"
PERMIT_DISTFILES_CDROM=	"Yes"
PERMIT_DISTFILES_FTP=	"Yes"
d14 4
a17 3
MASTER_SITES=		http://download.sourceforge.net/icewm/ \
			http://www.physik.TU-Berlin.DE/~ibex/ports/distfiles/	
EXTRACT_SUFX=           .src.tar.gz
d19 2
a20 1
HOMEPAGE=		http://icewm.sourceforge.net/
d22 2
a23 1
LIB_DEPENDS=		Imlib.19::graphics/imlib
d25 1
a26 1
USE_X11=		Yes
d28 7
a34 1
CONFIGURE_ARGS=		--with-imlib=${PREFIX}/bin
d38 1
a38 7
	@@echo "Installing docs to ${PREFIX}/share/docs/icewm"
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/icewm
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/icewm/doc
	cd ${WRKSRC} && ${INSTALL_DATA} COPYING README FAQ \
		${PREFIX}/share/doc/icewm
	cd ${WRKSRC}/doc && ${INSTALL_DATA} *.html \
		${PREFIX}/share/doc/icewm/doc 	
@


1.6
log
@Add HOMEPAGE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/10/22 14:03:56 espie Exp $
d7 1
a7 1
MAINTAINER=		Sean Cavanaugh <seanc@@cginfo.sk.ca>
@


1.5
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/06/30 06:10:17 kevlo Exp $
d17 2
@


1.4
log
@- Upgrade to release 1.0.4
- Bump NEED_VERSION
- Add bsd icon
- Remove FAKE=Yes and change HAS_CONFIGURE to CONFIGURE_STYLE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/04/05 09:47:05 espie Exp $
d7 1
a7 1
MAINTAINER=		seanc@@cginfo.sk.ca	
@


1.3
log
@Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/03/24 22:12:04 espie Exp $
d3 1
a3 1
DISTNAME=		icewm-1.0.2	
d5 1
a5 2
NEED_VERSION=		1.89

a8 1
LICENSE_TYPE=		"LGPL"
d16 3
a18 1
EXTRACT_SUFX=		.src.tar.gz
d22 2
a23 3
HAS_CONFIGURE=		Yes
FAKE=			Yes
CONFIGURE_ARGS=--prefix='$${DESTDIR}${PREFIX}' --sysconfdir='$${DESTDIR}/etc'
d26 1
@


1.3.2.1
log
@bring x11 as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/06/30 06:10:17 kevlo Exp $
d3 1
a3 1
DISTNAME=		icewm-1.0.4
d5 2
a6 1
NEED_VERSION=		1.309
d10 1
d18 1
a18 3
EXTRACT_SUFX=           .src.tar.gz

LIB_DEPENDS=		Imlib.19::graphics/imlib
d22 3
a24 2
CONFIGURE_STYLE=	gnu dest
CONFIGURE_ARGS=		--with-imlib=${PREFIX}/bin
a26 1
	${INSTALL_DATA} ${FILESDIR}/bsd-daemon.xpm ${PREFIX}/lib/X11/icewm/taskbar
@


1.2
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/02/28 12:20:33 kevlo Exp $
d22 3
a24 1
GNU_CONFIGURE=		Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a6 1
NEED_VERSION=		1.89
@


1.1.1.1
log
@Initial import of icewm version 1.0.2
Icewm is a small, fast window manager for X

Submitted by:	Sean Cavanaugh <seanc@@cginfo.sk.ca>
@
text
@@
