head	1.19;
access;
symbols
	OPENBSD_6_0:1.18.0.38
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.18.0.34
	OPENBSD_5_9_BASE:1.18
	OPENBSD_5_8:1.18.0.36
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.18.0.32
	OPENBSD_5_7_BASE:1.18
	OPENBSD_5_6:1.18.0.30
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.18.0.28
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.18.0.26
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.18.0.24
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.22
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.20
	OPENBSD_5_0:1.18.0.18
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.18.0.16
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.18.0.14
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.12
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.18.0.10
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.8
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.6
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.4
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.18.0.2
	OPENBSD_4_2_BASE:1.18
	OPENBSD_4_1:1.17.0.4
	OPENBSD_4_1_BASE:1.17
	OPENBSD_4_0:1.17.0.2
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.16.0.6
	OPENBSD_3_9_BASE:1.16
	OPENBSD_3_8:1.16.0.4
	OPENBSD_3_8_BASE:1.16
	OPENBSD_3_7:1.16.0.2
	OPENBSD_3_7_BASE:1.16
	OPENBSD_3_6:1.15.0.2
	OPENBSD_3_6_BASE:1.15
	OPENBSD_3_5:1.14.0.2
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.13.0.2
	OPENBSD_3_4_BASE:1.13
	OPENBSD_3_3:1.12.0.2
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.5.0.2
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	espie:1.1.1.1
	qt3:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2017.03.03.12.43.10;	author espie;	state Exp;
branches;
next	1.18;
commitid	FvbxazJuq8u70aXi;

1.18
date	2007.03.31.22.49.46;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2006.03.07.19.29.20;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2004.10.26.22.59.24;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2004.07.22.23.03.09;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2004.01.08.01.12.59;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2003.04.05.14.45.19;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2003.01.20.12.58.58;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2003.01.19.17.36.51;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2002.12.29.16.13.28;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2002.12.02.15.32.42;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2002.11.23.22.00.20;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2002.11.23.18.52.22;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2002.10.26.11.45.52;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2002.08.21.15.05.20;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2002.07.17.21.43.36;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.04.09.14.19.40;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.28.11.47.18;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.04.16.13.05;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.04.16.13.05;	author espie;	state Exp;
branches;
next	;


desc
@@


1.19
log
@remove hardcoded gcc, bump
@
text
@$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.18 2007/03/31 22:49:46 espie Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	Fri Feb  2 15:01:44 2007
+++ mkspecs/openbsd-g++/qmake.conf	Fri Mar  3 12:22:56 2017
@@@@ -6,9 +6,10 @@@@
 
 MAKEFILE_GENERATOR	= UNIX
 TEMPLATE		= app
-CONFIG			+= qt warn_on release link_prl
+CONFIG			+= qt warn_on release link_prl thread
 
-QMAKE_CC		= gcc
+QMAKE_OPENBSD_SHLIBS	= 1
+QMAKE_CC		= cc
 QMAKE_LEX		= flex
 QMAKE_LEXFLAGS		= 
 QMAKE_YACC		= yacc
@@@@ -23,7 +24,7 @@@@ QMAKE_CFLAGS_SHLIB	= -fPIC
 QMAKE_CFLAGS_YACC	= -Wno-unused -Wno-parentheses
 QMAKE_CFLAGS_THREAD	= -pthread
 
-QMAKE_CXX		= g++
+QMAKE_CXX		= c++
 QMAKE_CXXFLAGS		= $$QMAKE_CFLAGS
 QMAKE_CXXFLAGS_DEPS	= $$QMAKE_CFLAGS_DEPS
 QMAKE_CXXFLAGS_WARN_ON	= $$QMAKE_CFLAGS_WARN_ON
@@@@ -34,17 +35,17 @@@@ QMAKE_CXXFLAGS_SHLIB	= $$QMAKE_CFLAGS_SHLIB
 QMAKE_CXXFLAGS_YACC	= $$QMAKE_CFLAGS_YACC
 QMAKE_CXXFLAGS_THREAD	= $$QMAKE_CFLAGS_THREAD
 
-QMAKE_INCDIR		= /usr/local/include
-QMAKE_LIBDIR		= /usr/local/lib
+QMAKE_INCDIR		= $(LOCALBASE)/include
+QMAKE_LIBDIR		= $(LOCALBASE)/lib
 QMAKE_INCDIR_X11	= /usr/X11R6/include
 QMAKE_LIBDIR_X11	= /usr/X11R6/lib
-QMAKE_INCDIR_QT		= $(QTDIR)/include
-QMAKE_LIBDIR_QT		= $(QTDIR)/lib
+QMAKE_INCDIR_QT		= $(LOCALBASE)/include/X11/qt3
+QMAKE_LIBDIR_QT		= $(LOCALBASE)/lib/qt3
 QMAKE_INCDIR_OPENGL	= /usr/X11R6/include
 QMAKE_LIBDIR_OPENGL	= /usr/X11R6/lib
 
-QMAKE_LINK		= g++
-QMAKE_LINK_SHLIB	= g++
+QMAKE_LINK		= c++
+QMAKE_LINK_SHLIB	= c++
 QMAKE_LINK_SHLIB_CMD	= $$QMAKE_LINK_SHLIB $(LFLAGS) \
 	$$QMAKE_CFLAGS_SHLIB $$QMAKE_LFLAGS \
 	-o $(TARGETD) $(OBJECTS) $(OBJMOC) $(LIBS)
@@@@ -53,7 +54,7 @@@@ QMAKE_LFLAGS_RELEASE	=
 QMAKE_LFLAGS_DEBUG	=
 QMAKE_LFLAGS_SHLIB	= -shared
 QMAKE_LFLAGS_PLUGIN	= $$QMAKE_LFLAGS_SHLIB
-QMAKE_LFLAGS_SONAME	= -Wl,-soname,
+QMAKE_LFLAGS_SONAME	=
 QMAKE_LFLAGS_THREAD	= -pthread
 
 QMAKE_LIBS		=
@


1.18
log
@regen patches.
handle utf8 encoding better.
@
text
@d1 4
a4 4
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.17 2006/03/07 19:29:20 espie Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	Thu Oct 19 16:26:15 2006
+++ mkspecs/openbsd-g++/qmake.conf	Sat Mar 31 14:51:24 2007
@@@@ -6,8 +6,9 @@@@
d11 1
d13 1
a13 1
 QMAKE_CC		= gcc
d16 11
a26 1
@@@@ -34,12 +35,12 @@@@ QMAKE_CXXFLAGS_SHLIB	= $$QMAKE_CFLAGS_SHLIB
d43 7
@


1.17
log
@fix a few minor nits:
- let qmake output LOCALBASE if it find it useful
- the OpenBSD default config uses threads anyways, for ports.
- make a link to help designer and friends to find their documentation
@
text
@d1 3
a3 3
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.16 2004/10/26 22:59:24 espie Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	Fri Sep  2 14:43:37 2005
+++ mkspecs/openbsd-g++/qmake.conf	Tue Mar  7 10:46:17 2006
d15 1
a15 1
@@@@ -34,12 +35,12 @@@@ QMAKE_CXXFLAGS_SHLIB	= $$QMAKE_CFLAGS_SH
@


1.16
log
@a few tweaks:
- since we no longer compile qt3 without mt, link the files with the
`usual' names (compat settings and fragment).
- install supplementary development libraries, this will help for other
ports (asked by Steve Shockley).
- help qmake work off-the-shelf.
- provide a no_examples pseudo-flavor.

bump pkgname.
@
text
@d1 6
a6 4
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.15 2004/07/22 23:03:09 brad Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	Thu Aug  5 16:42:57 2004
+++ mkspecs/openbsd-g++/qmake.conf	Sun Sep 26 15:54:59 2004
@@@@ -8,6 +8,7 @@@@ MAKEFILE_GENERATOR	= UNIX
d8 2
a9 1
 CONFIG			+= qt warn_on release link_prl
@


1.15
log
@upgrade to Qt 3.3.2

ok MAINTAINER
@
text
@d1 3
a3 3
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.14 2004/01/08 01:12:59 brad Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	2004-04-19 03:36:43.000000000 -0600
+++ mkspecs/openbsd-g++/qmake.conf	2004-06-20 15:18:32.000000000 -0600
d12 1
a12 1
@@@@ -34,8 +35,8 @@@@ QMAKE_CXXFLAGS_SHLIB	= $$QMAKE_CFLAGS_SH
d18 2
a19 2
+QMAKE_INCDIR		= $(QTDIR)/include
+QMAKE_LIBDIR		= $(QTDIR)/lib
d22 7
a28 1
 QMAKE_INCDIR_QT		= $(QTDIR)/include
@


1.14
log
@upgrade to Qt 3.2.3

ok espie@@
@
text
@d1 3
a3 3
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.13 2003/04/05 14:45:19 espie Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	2003-10-09 21:48:53.000000000 -0400
+++ mkspecs/openbsd-g++/qmake.conf	2003-11-08 03:08:50.000000000 -0500
d23 9
@


1.13
log
@Update to qt-3.1.2, move samples from qt to qt-mt, enable tablet support.
@
text
@d1 3
a3 3
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.12 2003/01/20 12:58:58 espie Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	Mon Feb 24 09:31:39 2003
+++ mkspecs/openbsd-g++/qmake.conf	Sat Mar 22 18:07:01 2003
d6 1
a6 1
 CONFIG			+= qt warn_on release
@


1.12
log
@#!@@!@@ patch
@
text
@d1 3
a3 3
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.11 2003/01/19 17:36:51 espie Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	Mon Dec  9 10:41:32 2002
+++ mkspecs/openbsd-g++/qmake.conf	Sun Jan 19 15:55:15 2003
@


1.11
log
@Synch some patches (line numbers)
Add fixes/speed-up from kde's qt-copy:
- let moc handle optional identifiers
- speed-up qt startup by looking up some settings at qapplication startup
(use one single qsettings object)
- some cursor/refresh bug.
@
text
@d1 1
a1 1
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.10 2002/12/29 16:13:28 espie Exp $
a22 7
@@@@ -80,4 +81,4 @@@@ QMAKE_MOVE		= mv -f
 QMAKE_DEL_FILE		= rm -f
 QMAKE_DEL_DIR		= rmdir
 QMAKE_CHK_DIR_EXISTS	= test -d
-QMAKE_MKDIR		= mkdir -p
\ No newline at end of file
+QMAKE_MKDIR		= mkdir -p
@


1.10
log
@update to qt 3.1.1
uic.1 -> uic3.1
@
text
@d1 3
a3 3
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.9 2002/12/02 15:32:42 espie Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	Thu Nov  7 14:08:00 2002
+++ mkspecs/openbsd-g++/qmake.conf	Mon Dec  2 17:27:06 2002
d23 7
@


1.9
log
@We don't have getlogin_r/getpwnam_r (yet).
Work around issue for now.
@
text
@d1 1
a1 1
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.8 2002/11/23 22:00:20 espie Exp $
d3 1
a3 1
+++ mkspecs/openbsd-g++/qmake.conf	Mon Dec  2 15:53:12 2002
@


1.8
log
@Install the specs files, makes it possible to use qmake from another project.
Credits should go to whomever mentioned this to me, but I deleted his email,
oops.
@
text
@d1 1
a1 1
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.7 2002/11/23 18:52:22 espie Exp $
d3 1
a3 1
+++ mkspecs/openbsd-g++/qmake.conf	Sat Nov 23 20:20:04 2002
@


1.7
log
@Update to qt 3.1.0
@
text
@d1 1
a1 1
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.6 2002/10/26 11:45:52 espie Exp $
d3 1
a3 1
+++ mkspecs/openbsd-g++/qmake.conf	Thu Nov 14 10:52:15 2002
@


1.6
log
@Update to 3.0.6 (maintenance release).
Add basic framework for qt-mt flavor (untested for real yet).
@
text
@d1 3
a3 3
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.5 2002/08/21 15:05:20 espie Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	Thu Oct 17 17:10:22 2002
+++ mkspecs/openbsd-g++/qmake.conf	Thu Oct 24 12:13:00 2002
d12 1
a12 3
@@@@ -32,9 +33,10 @@@@ QMAKE_CXXFLAGS_RELEASE	= $$QMAKE_CFLAGS_
 QMAKE_CXXFLAGS_DEBUG	= $$QMAKE_CFLAGS_DEBUG
 QMAKE_CXXFLAGS_SHLIB	= $$QMAKE_CFLAGS_SHLIB
d14 1
a14 1
+QMAKE_CXXFLAGS_THREAD	= $$QMAKE_CFLAGS_THREAD
a22 8
@@@@ -58,6 +60,7 @@@@ QMAKE_LFLAGS_THREAD	= -pthread
 QMAKE_LIBS		=
 QMAKE_LIBS_DYNLOAD	=
 QMAKE_LIBS_X11		= -lXext -lX11 -lm
+QMAKE_LIBS_X11SM	= -lICE -lSM
 QMAKE_LIBS_QT		= -lqt
 QMAKE_LIBS_QT_THREAD	= -lqt-mt
 QMAKE_LIBS_OPENGL	= -lGLU -lGL -lXmu
@


1.5
log
@missing threads flag for C++ compiles
@
text
@d1 3
a3 3
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.4 2002/07/17 21:43:36 espie Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	Mon Jul  8 12:28:01 2002
+++ mkspecs/openbsd-g++/qmake.conf	Wed Aug 21 16:35:15 2002
@


1.4
log
@Update qt to 3.0.5.
Remove kde patches that have been integrated.
Independent rediscovery of a qt-copy patch (bogus lockfiles in RO directories)
and OpenBSD a.out fix.
@
text
@d1 1
a1 1
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.3 2002/04/09 14:19:40 espie Exp $
d3 1
a3 1
+++ mkspecs/openbsd-g++/qmake.conf	Wed Jul 17 15:15:34 2002
d12 2
a13 1
@@@@ -33,8 +34,8 @@@@ QMAKE_CXXFLAGS_DEBUG	= $$QMAKE_CFLAGS_DE
d16 1
d25 1
a25 1
@@@@ -58,6 +59,7 @@@@ QMAKE_LFLAGS_THREAD	= -pthread
@


1.3
log
@patches from kde
@
text
@d1 3
a3 3
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.2 2002/03/28 11:47:18 espie Exp $
--- mkspecs/openbsd-g++/qmake.conf.orig	Mon Mar 18 10:45:57 2002
+++ mkspecs/openbsd-g++/qmake.conf	Tue Apr  9 16:03:45 2002
@


1.2
log
@qt3 programs need to link with -lICE -lSM.
Doesn't get you everytime, because qt3 checks for a session manager
before calling those functions.

Noticed by Jean-Yves Burlett.
@
text
@d1 1
a1 1
$OpenBSD: patch-mkspecs_openbsd-g++_qmake_conf,v 1.1.1.1 2002/03/04 16:13:05 espie Exp $
d3 1
a3 1
+++ mkspecs/openbsd-g++/qmake.conf	Thu Mar 28 03:28:04 2002
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- mkspecs/openbsd-g++/qmake.conf.orig	Mon Feb 18 13:46:20 2002
+++ mkspecs/openbsd-g++/qmake.conf	Tue Feb 26 18:48:36 2002
d23 8
@


1.1.1.1
log
@Initial port of qt3.

Most notable improvement seems to be font-handling, especially unicode stuff.

Configured to relocate plugins at a reasonable place. Includes *sql
plugins, though they are thoroughly untested at the moment.

Works good enough to recompile xglobe for instance. Still work to do
though, some paths are probably incorrect yet.
@
text
@@
