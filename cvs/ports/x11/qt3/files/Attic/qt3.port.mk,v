head	1.7;
access;
symbols
	OPENBSD_3_5:1.6.0.6
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.4
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.6.0.2
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	espie:1.1.1.1
	qt3:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2004.08.03.09.18.39;	author espie;	state dead;
branches;
next	1.6;

1.6
date	2003.01.06.06.22.53;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2003.01.06.00.28.14;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2002.12.31.02.09.51;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.12.29.19.24.53;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.05.14.46.32;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.04.16.13.04;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.04.16.13.04;	author espie;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Prepare for MODULES=x11/qt*
@
text
@# $OpenBSD: qt3.port.mk,v 1.6 2003/01/06 06:22:53 espie Exp $

MODULES+=	gcc3
MODGCC3_ARCHES+=sparc64
MODGCC3_LANGS+=	c++

# This fragment uses MODQT_* variables to make it easier to substitute
# qt1/qt2/qt3 in a port.
MODQT_LIBDIR=	${LOCALBASE}/lib/qt3
MODQT_INCDIR=	${LOCALBASE}/include/X11/qt3
MODQT_OVERRIDE_UIC?=Yes
MODQT_MT?=No
MODQT_CONFIGURE_ARGS=	--with-qt-includes=${MODQT_INCDIR} \
			--with-qt-libraries=${MODQT_LIBDIR}
_MODQT_SETUP=	MOC=${MODQT_MOC} \
		MODQT_INCDIR=${MODQT_INCDIR} \
		MODQT_LIBDIR=${MODQT_LIBDIR}
.if ${MODQT_OVERRIDE_UIC:L} == "yes"
_MODQT_SETUP+=	UIC=${MODQT_UIC}
.endif

.if ${MODQT_MT:L} == "yes"
LIB_DEPENDS+=lib/qt3/qt-mt.3::x11/qt3,mt
# includes are now handled by a subpackage
# may be needed to find plugins
MODQT_MOC=	${LOCALBASE}/bin/moc3-mt
MODQT_UIC=	${LOCALBASE}/bin/uic3-mt
.else
LIB_DEPENDS+=lib/qt3/qt.3::x11/qt3
MODQT_MOC=	${LOCALBASE}/bin/moc3
MODQT_UIC=	${LOCALBASE}/bin/uic3
.endif

CONFIGURE_ENV+=	${_MODQT_SETUP}
MAKE_ENV+=	${_MODQT_SETUP}
MAKE_FLAGS+=	${_MODQT_SETUP}
@


1.6
log
@Repackage qt3 to separate mt better (common -base package for include/docs,
specific plugins for mt)
@
text
@d1 1
a1 1
# $OpenBSD: qt3.port.mk,v 1.5 2003/01/06 00:28:14 naddy Exp $
@


1.5
log
@All qt3 dependents require gcc3 on sparc64.
@
text
@d1 1
a1 1
# $OpenBSD: qt3.port.mk,v 1.4 2002/12/31 02:09:51 espie Exp $
d24 1
a24 2
# for includes
BUILD_DEPENDS+=::x11/qt3
@


1.4
log
@Bring mt support to MODULE.
Fix tricky issue: basic tools must be compiled with -mt as well,
otherwise they won't be able to use plugins (and for instance, kde needs
uic plugins for its widgets)
@
text
@d1 5
a5 1
# $OpenBSD: qt3.port.mk,v 1.3 2002/12/29 19:24:53 espie Exp $
@


1.3
log
@Add a knob so that user may choose to not override UIC.
Useful when configure scripts know better (like recent kde script,
which needs to pass specific -L options through)
@
text
@d1 1
a1 1
# $OpenBSD: qt3.port.mk,v 1.2 2002/03/05 14:46:32 espie Exp $
a4 2
LIB_DEPENDS+=lib/qt3/qt.3::x11/qt3

a6 2
MODQT_MOC=	${LOCALBASE}/bin/moc3
MODQT_UIC=	${LOCALBASE}/bin/uic3
d8 1
d16 13
@


1.2
log
@More tweaks, I forgot about designer, so some binaries must be renamed
to avoid conflicts. This also means more stuff in qt3 module.
Plus, create missing pluging directory in PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: qt3.port.mk,v 1.1.1.1 2002/03/04 16:13:04 espie Exp $
d11 1
d14 1
a14 1
_MODQT_SETUP=	MOC=${MODQT_MOC} UIC=${MODQT_UIC} \
d17 3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: qt2.port.mk,v 1.3 2001/10/28 12:30:14 espie Exp $
d10 1
d13 1
a13 1
_MODQT_SETUP=	MOC=${MODQT_MOC} \
@


1.1.1.1
log
@Initial port of qt3.

Most notable improvement seems to be font-handling, especially unicode stuff.

Configured to relocate plugins at a reasonable place. Includes *sql
plugins, though they are thoroughly untested at the moment.

Works good enough to recompile xglobe for instance. Still work to do
though, some paths are probably incorrect yet.
@
text
@@
