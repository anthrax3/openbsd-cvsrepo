head	1.107;
access;
symbols
	OPENBSD_6_1:1.106.0.2
	OPENBSD_6_1_BASE:1.106
	OPENBSD_6_0:1.104.0.2
	OPENBSD_6_0_BASE:1.104
	OPENBSD_5_9:1.103.0.2
	OPENBSD_5_9_BASE:1.103
	OPENBSD_5_8:1.96.0.4
	OPENBSD_5_8_BASE:1.96
	OPENBSD_5_7:1.91.0.2
	OPENBSD_5_7_BASE:1.91
	OPENBSD_5_6:1.86.0.2
	OPENBSD_5_6_BASE:1.86
	OPENBSD_5_5:1.79.0.2
	OPENBSD_5_5_BASE:1.79
	OPENBSD_5_4:1.67.0.2
	OPENBSD_5_4_BASE:1.67
	OPENBSD_5_3:1.60.0.2
	OPENBSD_5_3_BASE:1.60
	OPENBSD_5_2:1.41.0.2
	OPENBSD_5_2_BASE:1.41
	OPENBSD_5_1_BASE:1.25
	OPENBSD_5_1:1.25.0.2
	OPENBSD_5_0:1.18.0.2
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.4.0.2
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	landry_20090902:1.1.1.1
	bapt:1.1.1;
locks; strict;
comment	@# @;


1.107
date	2017.09.04.14.33.07;	author dcoppa;	state Exp;
branches;
next	1.106;
commitid	glpPfWV0OjZxSF4Z;

1.106
date	2016.11.13.20.46.23;	author dcoppa;	state Exp;
branches;
next	1.105;
commitid	YWcsP0rJp2QqdVhK;

1.105
date	2016.08.29.09.13.37;	author jca;	state Exp;
branches;
next	1.104;
commitid	aBqFlmYh9FmDTTGL;

1.104
date	2016.03.09.09.25.51;	author dcoppa;	state Exp;
branches;
next	1.103;
commitid	5e0lb25PYzcoURwg;

1.103
date	2016.01.21.13.22.58;	author dcoppa;	state Exp;
branches;
next	1.102;
commitid	JO2klPLuYBs0OO0t;

1.102
date	2016.01.18.10.04.28;	author tb;	state Exp;
branches;
next	1.101;
commitid	DwS9YwHVqZTIrLW3;

1.101
date	2016.01.15.19.57.24;	author sthen;	state Exp;
branches;
next	1.100;
commitid	E468onXLCPTmHVpN;

1.100
date	2015.12.21.09.48.10;	author tb;	state Exp;
branches;
next	1.99;
commitid	ZoEWZU4Z0lDlKG3Y;

1.99
date	2015.12.18.15.53.08;	author dcoppa;	state Exp;
branches;
next	1.98;
commitid	0OqseA58UoyREWdQ;

1.98
date	2015.10.04.08.48.12;	author dcoppa;	state Exp;
branches;
next	1.97;
commitid	VRvZAaOZt8xtMVjt;

1.97
date	2015.09.09.09.01.52;	author dcoppa;	state Exp;
branches;
next	1.96;
commitid	KuI4uHCqSWr8a3Cv;

1.96
date	2015.08.01.09.03.31;	author dcoppa;	state Exp;
branches;
next	1.95;
commitid	64QW2f5Na4VEzb7K;

1.95
date	2015.04.24.09.30.15;	author dcoppa;	state Exp;
branches;
next	1.94;
commitid	CdbDtZecFJz4qbUh;

1.94
date	2015.03.30.16.30.37;	author dcoppa;	state Exp;
branches;
next	1.93;
commitid	NiSKjnDLaX7hvN2c;

1.93
date	2015.03.30.12.33.46;	author dcoppa;	state Exp;
branches;
next	1.92;
commitid	iVyfQtDXLWKbSbnJ;

1.92
date	2015.03.17.15.39.47;	author dcoppa;	state Exp;
branches;
next	1.91;
commitid	WQl7M1uD6B2NjHh4;

1.91
date	2015.02.12.08.43.07;	author dcoppa;	state Exp;
branches;
next	1.90;
commitid	3YT4CciYWjiAPMAJ;

1.90
date	2015.02.02.17.24.26;	author dcoppa;	state Exp;
branches;
next	1.89;
commitid	ZdENL2eYRnS1hhZu;

1.89
date	2015.01.18.19.45.43;	author dcoppa;	state Exp;
branches;
next	1.88;
commitid	09fCII5FmVhKkYaF;

1.88
date	2014.08.18.08.46.27;	author dcoppa;	state Exp;
branches;
next	1.87;
commitid	Bi02IjLxhs8ESxGu;

1.87
date	2014.08.10.09.58.07;	author espie;	state Exp;
branches;
next	1.86;
commitid	jyyOLTDxRdjpw44n;

1.86
date	2014.07.11.15.49.58;	author dcoppa;	state Exp;
branches;
next	1.85;
commitid	dpkYaZL7eWFGPiTd;

1.85
date	2014.04.15.10.31.30;	author dcoppa;	state Exp;
branches;
next	1.84;

1.84
date	2014.04.14.19.52.44;	author matthieu;	state Exp;
branches;
next	1.83;

1.83
date	2014.03.23.18.17.35;	author kili;	state Exp;
branches;
next	1.82;

1.82
date	2014.03.19.07.31.53;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2014.03.18.12.12.05;	author dcoppa;	state Exp;
branches;
next	1.80;

1.80
date	2014.03.12.12.34.27;	author dcoppa;	state Exp;
branches;
next	1.79;

1.79
date	2014.02.03.09.54.17;	author dcoppa;	state Exp;
branches;
next	1.78;

1.78
date	2014.01.24.10.08.38;	author dcoppa;	state Exp;
branches;
next	1.77;

1.77
date	2014.01.22.13.48.38;	author dcoppa;	state Exp;
branches;
next	1.76;

1.76
date	2014.01.19.10.25.30;	author dcoppa;	state Exp;
branches;
next	1.75;

1.75
date	2014.01.11.16.04.43;	author dcoppa;	state Exp;
branches;
next	1.74;

1.74
date	2013.11.22.19.02.50;	author dcoppa;	state Exp;
branches;
next	1.73;

1.73
date	2013.10.24.15.18.00;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2013.10.10.16.34.57;	author dcoppa;	state Exp;
branches;
next	1.71;

1.71
date	2013.09.25.09.58.14;	author dcoppa;	state Exp;
branches;
next	1.70;

1.70
date	2013.09.02.06.15.34;	author dcoppa;	state Exp;
branches;
next	1.69;

1.69
date	2013.08.16.11.39.49;	author dcoppa;	state Exp;
branches;
next	1.68;

1.68
date	2013.08.13.10.01.54;	author dcoppa;	state Exp;
branches;
next	1.67;

1.67
date	2013.07.01.13.42.25;	author dcoppa;	state Exp;
branches;
next	1.66;

1.66
date	2013.06.25.06.07.46;	author tobiasu;	state Exp;
branches;
next	1.65;

1.65
date	2013.06.02.12.25.53;	author dcoppa;	state Exp;
branches;
next	1.64;

1.64
date	2013.06.02.11.24.06;	author dcoppa;	state Exp;
branches;
next	1.63;

1.63
date	2013.05.17.10.21.42;	author dcoppa;	state Exp;
branches;
next	1.62;

1.62
date	2013.05.16.18.42.30;	author dcoppa;	state Exp;
branches;
next	1.61;

1.61
date	2013.03.11.11.46.13;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2013.01.30.22.19.43;	author dcoppa;	state Exp;
branches;
next	1.59;

1.59
date	2013.01.27.18.33.19;	author dcoppa;	state Exp;
branches;
next	1.58;

1.58
date	2013.01.25.10.34.02;	author dcoppa;	state Exp;
branches;
next	1.57;

1.57
date	2013.01.11.09.44.12;	author dcoppa;	state Exp;
branches;
next	1.56;

1.56
date	2013.01.10.08.20.52;	author dcoppa;	state Exp;
branches;
next	1.55;

1.55
date	2012.12.27.19.58.05;	author dcoppa;	state Exp;
branches;
next	1.54;

1.54
date	2012.12.17.08.51.12;	author dcoppa;	state Exp;
branches;
next	1.53;

1.53
date	2012.12.13.12.10.13;	author dcoppa;	state Exp;
branches;
next	1.52;

1.52
date	2012.11.13.08.44.01;	author dcoppa;	state Exp;
branches;
next	1.51;

1.51
date	2012.11.02.13.59.21;	author dcoppa;	state Exp;
branches;
next	1.50;

1.50
date	2012.10.04.12.21.38;	author dcoppa;	state Exp;
branches;
next	1.49;

1.49
date	2012.10.01.08.12.17;	author dcoppa;	state Exp;
branches;
next	1.48;

1.48
date	2012.09.27.10.57.45;	author dcoppa;	state Exp;
branches;
next	1.47;

1.47
date	2012.09.25.15.06.35;	author dcoppa;	state Exp;
branches;
next	1.46;

1.46
date	2012.09.21.17.16.13;	author dcoppa;	state Exp;
branches;
next	1.45;

1.45
date	2012.09.16.22.05.46;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2012.09.16.06.24.32;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2012.08.27.09.49.18;	author dcoppa;	state Exp;
branches;
next	1.42;

1.42
date	2012.08.08.14.33.25;	author dcoppa;	state Exp;
branches;
next	1.41;

1.41
date	2012.07.16.14.38.22;	author dcoppa;	state Exp;
branches;
next	1.40;

1.40
date	2012.07.11.09.34.54;	author dcoppa;	state Exp;
branches;
next	1.39;

1.39
date	2012.06.28.09.33.06;	author dcoppa;	state Exp;
branches;
next	1.38;

1.38
date	2012.06.11.07.22.28;	author dcoppa;	state Exp;
branches;
next	1.37;

1.37
date	2012.05.31.08.39.59;	author dcoppa;	state Exp;
branches;
next	1.36;

1.36
date	2012.05.28.13.37.50;	author dcoppa;	state Exp;
branches;
next	1.35;

1.35
date	2012.05.14.07.47.05;	author dcoppa;	state Exp;
branches;
next	1.34;

1.34
date	2012.05.11.09.35.17;	author dcoppa;	state Exp;
branches;
next	1.33;

1.33
date	2012.05.10.09.27.37;	author dcoppa;	state Exp;
branches;
next	1.32;

1.32
date	2012.05.09.11.56.49;	author dcoppa;	state Exp;
branches;
next	1.31;

1.31
date	2012.05.02.08.31.48;	author dcoppa;	state Exp;
branches;
next	1.30;

1.30
date	2012.05.02.07.39.08;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2012.04.26.10.55.10;	author dcoppa;	state Exp;
branches;
next	1.28;

1.28
date	2012.03.23.08.43.54;	author dcoppa;	state Exp;
branches;
next	1.27;

1.27
date	2012.03.22.09.53.50;	author dcoppa;	state Exp;
branches;
next	1.26;

1.26
date	2012.02.21.14.05.39;	author dcoppa;	state Exp;
branches;
next	1.25;

1.25
date	2012.01.25.10.29.30;	author dcoppa;	state Exp;
branches;
next	1.24;

1.24
date	2012.01.20.15.53.18;	author dcoppa;	state Exp;
branches;
next	1.23;

1.23
date	2012.01.11.13.33.48;	author dcoppa;	state Exp;
branches;
next	1.22;

1.22
date	2011.12.27.09.05.17;	author dcoppa;	state Exp;
branches;
next	1.21;

1.21
date	2011.12.07.09.51.26;	author dcoppa;	state Exp;
branches;
next	1.20;

1.20
date	2011.12.01.16.00.01;	author dcoppa;	state Exp;
branches;
next	1.19;

1.19
date	2011.11.06.20.23.24;	author dcoppa;	state Exp;
branches;
next	1.18;

1.18
date	2011.05.09.11.33.35;	author dcoppa;	state Exp;
branches;
next	1.17;

1.17
date	2011.05.09.11.03.40;	author dcoppa;	state Exp;
branches;
next	1.16;

1.16
date	2011.05.06.14.14.31;	author dcoppa;	state Exp;
branches;
next	1.15;

1.15
date	2011.05.05.12.19.36;	author dcoppa;	state Exp;
branches;
next	1.14;

1.14
date	2011.04.29.09.18.53;	author dcoppa;	state Exp;
branches;
next	1.13;

1.13
date	2011.04.07.08.58.10;	author dcoppa;	state Exp;
branches;
next	1.12;

1.12
date	2011.03.14.12.55.18;	author dcoppa;	state Exp;
branches;
next	1.11;

1.11
date	2011.01.11.14.17.17;	author dcoppa;	state Exp;
branches;
next	1.10;

1.10
date	2011.01.05.12.45.04;	author dcoppa;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.22.08.36.59;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.18.12.20.54;	author dcoppa;	state Exp;
branches;
next	1.7;

1.7
date	2010.10.24.21.15.32;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2010.10.19.08.13.58;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2010.09.14.08.54.18;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2010.07.30.06.58.58;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2010.06.28.22.51.25;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.09.14.17.19.29;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2009.09.02.19.26.17;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.09.02.19.26.17;	author landry;	state Exp;
branches;
next	;


desc
@@


1.107
log
@
Update to i3-4.14

Tested by Josh Grosse
Tests, feedback and ok tb@@
@
text
@# $OpenBSD: Makefile,v 1.106 2016/11/13 20:46:23 dcoppa Exp $

COMMENT =	improved dynamic tiling window manager

DISTNAME =	i3-4.14
CATEGORIES =	x11

EXTRACT_SUFX =	.tar.bz2
HOMEPAGE =	http://i3wm.org/
MASTER_SITES =	${HOMEPAGE}/downloads/
MAINTAINER =	David Coppa <dcoppa@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM =   Yes

# uses pledge()
WANTLIB += c cairo ev glib-2.0 gobject-2.0 iconv intl m pango-1.0
WANTLIB += pangocairo-1.0 pcre pthread startup-notification-1 xcb
WANTLIB += xcb-cursor xcb-icccm xcb-keysyms xcb-randr xcb-util
WANTLIB += xcb-xinerama xcb-xkb xcb-xrm xkbcommon xkbcommon-x11
WANTLIB += yajl

BUILD_DEPENDS =	textproc/asciidoc \
		textproc/xmlto

LIB_DEPENDS =	devel/libev \
		devel/libyajl>=2.0.0 \
		devel/pango \
		devel/pcre \
		devel/startup-notification \
		x11/xkbcommon

RUN_DEPENDS =	devel/desktop-file-utils \
		x11/dmenu \
		x11/i3status \
		x11/p5-AnyEvent-I3

FAKE_FLAGS =	i3confdir="${PREFIX}/share/examples/i3/"

SEPARATE_BUILD = Yes

USE_GMAKE =	Yes

CONFIGURE_STYLE = gnu

CONFIGURE_ARGS = --enable-builddir=${WRKBUILD} \
		--enable-debug=no

CONFIGURE_ENV =	CPPFLAGS="-I${X11BASE}/include \
			  -I${LOCALBASE}/include" \
		LDFLAGS="-L${X11BASE}/lib \
			 -L${LOCALBASE}/lib"

pre-configure:
	${SUBST_CMD} ${WRKSRC}/etc/config \
		${WRKSRC}/etc/config.keycodes \
		${WRKSRC}/i3-dmenu-desktop \
		${WRKSRC}/i3-nagbar/main.c \
		${WRKSRC}/libi3/get_config_path.c \
		${WRKSRC}/libi3/get_exe_path.c \
		${WRKSRC}/man/i3-config-wizard.man \
		${WRKSRC}/man/i3.man

.include <bsd.port.mk>
@


1.106
log
@
Update to i3-4.13

OK tb@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2016/08/29 09:13:37 jca Exp $
d5 1
a5 1
DISTNAME =	i3-4.13
d46 2
a47 1
CONFIGURE_ARGS = --enable-builddir=${WRKBUILD}
@


1.105
log
@Drop the gettext module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2016/03/09 09:25:51 dcoppa Exp $
d5 1
a5 2
DISTNAME =	i3-4.12
REVISION =	0
d18 7
a24 3
WANTLIB += pangocairo-1.0 pcre startup-notification-1 xcb xcb-cursor
WANTLIB += xcb-icccm xcb-keysyms xcb-randr xcb-render xcb-util
WANTLIB += xcb-xinerama xcb-xkb xkbcommon xkbcommon-x11 yajl
d38 4
d44 1
a44 1
NO_TEST =	Yes
d46 1
a46 14
MAKE_FLAGS =	CC="${CC}" \
		SYSCONFDIR=${SYSCONFDIR} \
		V=1

.if defined(DEBUG)
MAKE_FLAGS +=	DEBUG=1
.endif

FAKE_FLAGS =	PREFIX=${PREFIX} \
		EXEC_PREFIX=${PREFIX} \
		SYSCONFDIR=${PREFIX}/share/examples \
		INSTALL_DATA="${INSTALL_DATA}" \
		INSTALL_PROGRAM="${INSTALL_PROGRAM}" \
		INSTALL_SCRIPT="${INSTALL_SCRIPT}"
d48 9
a56 2
post-configure:
	${SUBST_CMD} ${WRKSRC}/i3-dmenu-desktop \
a57 2
		${WRKSRC}/i3.config \
		${WRKSRC}/i3.config.keycodes \
d59 3
a61 10
		${WRKSRC}/libi3/get_exe_path.c

post-install:
	${INSTALL_MAN} ${WRKBUILD}/man/*.1 ${PREFIX}/man/man1/
	${SUBST_MAN} ${WRKBUILD}/man/i3-config-wizard.1 \
			${PREFIX}/man/man1/i3-config-wizard.1
	${SUBST_MAN} ${WRKBUILD}/man/i3-dmenu-desktop.1 \
			${PREFIX}/man/man1/i3-dmenu-desktop.1
	${SUBST_MAN} ${WRKBUILD}/man/i3.1 ${PREFIX}/man/man1/i3.1
	@@rm ${PREFIX}/man/man1/i3-sensible*.1
@


1.104
log
@
Update to i3-4.12
Added halex@@'s window hints fix
Fixed trailing whitespace in pkg/DESCR (spotted by Josh Grosse)

Tested by tb@@ and Josh Grosse
OK tb@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2016/01/21 13:22:58 dcoppa Exp $
d6 1
d18 4
a21 7
WANTLIB =	c cairo ev glib-2.0 gobject-2.0 m pango-1.0 \
		pangocairo-1.0 pcre pthread \
		startup-notification-1 xcb xcb-cursor xcb-util \
		xcb-icccm xcb-keysyms xcb-randr xcb-render \
		xcb-xinerama xcb-xkb xkbcommon xkbcommon-x11 yajl

MODULES =	devel/gettext
@


1.103
log
@
Fix i3-nagbar invocation from src/commands.c and the example in its
manpage.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2016/01/18 10:04:28 tb Exp $
d5 1
a5 2
DISTNAME =	i3-4.11
REVISION =	3
@


1.102
log
@Backport semarie@@'s improvement of the pledge patch which is now
upstream.  i3 is now pledged unconditionally and the shmlog can
again be enabled at runtime.

ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2016/01/15 19:57:24 sthen Exp $
d6 1
a6 1
REVISION =	2
d63 1
a63 2
		${WRKSRC}/libi3/get_exe_path.c \
		${WRKSRC}/src/commands.c
@


1.101
log
@add an easily-greppable marker for ports known to use pledge().
it's not so important while they're only in patches in the ports tree,
but for any which get upstreamed it saves a ~100GB grep to find them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2015/12/21 09:48:10 tb Exp $
d6 1
a6 1
REVISION =	1
@


1.100
log
@add pledge support to three constituents of i3 for wider testing:
i3 itself, i3-msg and i3-nagbar.  Unfortunately, i3bar's design
is incompatible with pledge.

Tested by David Coppa (maintainer), Ralf Horstmann and myself.
Thanks for the great feedback!

ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2015/12/18 15:53:08 dcoppa Exp $
d17 1
@


1.99
log
@
Merge all the fixes from the git stable branch of i3
Regen WANTLIB while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2015/10/04 08:48:12 dcoppa Exp $
d6 1
a6 1
REVISION =	0
@


1.98
log
@
Update to i3-4.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2015/09/09 09:01:52 dcoppa Exp $
d6 1
d17 5
a21 6
WANTLIB =	c>=68.3 cairo ev fontconfig freetype \
		glib-2.0 gobject-2.0 m pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre pthread startup-notification-1 \
		xcb xcb-cursor xcb-util xcb-icccm xcb-keysyms \
		xcb-randr xcb-render xcb-xinerama xcb-xkb \
		xkbcommon xkbcommon-x11 yajl z
@


1.97
log
@
Bugfix update to i3-4.10.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2015/08/01 09:03:31 dcoppa Exp $
d5 1
a5 1
DISTNAME =	i3-4.10.4
d50 1
d61 1
d63 1
a63 2
		${WRKSRC}/src/commands.c \
		${WRKSRC}/src/config.c
@


1.96
log
@
Bugfix update to i3-4.10.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2015/04/24 09:30:15 dcoppa Exp $
d5 1
a5 1
DISTNAME =	i3-4.10.3
@


1.95
log
@
Update to i3-4.10.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2015/03/30 16:30:37 dcoppa Exp $
d5 1
a5 1
DISTNAME =	i3-4.10.2
@


1.94
log
@
as clarified by schwarze@@, this patch is still needed.
Just update the comment.

thanks Ingo!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2015/03/30 12:33:46 dcoppa Exp $
d5 1
a5 2
DISTNAME =	i3-4.10.1
REVISION =	0
@


1.93
log
@
Update to i3-4.10.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2015/03/17 15:39:47 dcoppa Exp $
d6 1
@


1.92
log
@
Update to i3-4.9.1

new dependency on x11/xkbcommon
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2015/02/12 08:43:07 dcoppa Exp $
d5 1
a5 1
DISTNAME =	i3-4.9.1
@


1.91
log
@
Merge fixes from upstream:

i3bar/src/child.c: remove one level of indentation
(git commit bf0e8c2862631d41963fdb6bcb3f41667a7eccc9)

Make click events on status blocks work if 'workspace_buttons no' is set.
(git commit 594b29f83d73b9d4a781d2c33cc6fb06f649dc45)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2015/02/02 17:24:26 dcoppa Exp $
d5 1
a5 2
DISTNAME =	i3-4.8
REVISION =	3
d16 1
a16 1
WANTLIB =	X11 c>=68.3 cairo ev fontconfig freetype \
d20 2
a21 1
		xcb-randr xcb-xinerama yajl z
d29 2
a30 1
		devel/startup-notification
@


1.90
log
@
Merge fixes from upstream:

Bugfix: correctly restore workspaces regardless of where "type" is
(git commit 55b5f491a469ccf47c7fdc66f3f0df86ef2e1f64)

Bugfix: actually parse client.placeholder
(git commit 13220e75d87991508ee1c30d9a797d42b131dc21)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2015/01/18 19:45:43 dcoppa Exp $
d6 1
a6 1
REVISION =	2
@


1.89
log
@
Bugfix: render floating windows during global fullscreen
(upstream git commit 8b96bb0298fd9555a7c87d807651c0094c469e76)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2014/08/18 08:46:27 dcoppa Exp $
d6 1
a6 1
REVISION =	1
@


1.88
log
@
Fixes from upstream:

Bugfix: properly restore workspace containers
(upstream git commit 679a5de8cfb9211afb1a1dd882e53bd672084754)

Bugfix: missed case for decoration rerender
(upstream git commit 56c284af8e281d9d5657e55b3edb7f7c673fc747)

Bugfix: add a sync call to i3bar to confirm reparents before exiting
(upstream git commit 4699c714b33afb1c264f3d19911b880267165b94)

Bugfix: don't set focus in con_set_layout() on invisible workspaces
(upstream git commit fc886315342b3a2292ad0c08394b6bb452663bb1)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2014/08/10 09:58:07 espie Exp $
d6 1
a6 1
REVISION =	0
@


1.87
log
@use more specific version of SUBST_* where appropriate
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2014/07/11 15:49:58 dcoppa Exp $
d6 1
@


1.86
log
@
Update to i3-4.8 plus fixes.

Initial diff by Theo Buehler <theo AT math DOT ethz DOT ch>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2014/04/15 10:31:30 dcoppa Exp $
d64 1
a64 2
	${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} -m ${MANMODE} \
		-c ${WRKBUILD}/man/i3-config-wizard.1 \
d66 1
a66 2
	${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} -m ${MANMODE} \
		-c ${WRKBUILD}/man/i3-dmenu-desktop.1 \
d68 1
a68 2
	${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} -m ${MANMODE} \
		-c ${WRKBUILD}/man/i3.1 ${PREFIX}/man/man1/i3.1
@


1.85
log
@
Cleanup following libxcb/xcb-util updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2014/04/14 19:52:44 matthieu Exp $
d5 1
a5 2
DISTNAME =	i3-4.7.2
REVISION =	6
d32 2
a33 1
		x11/i3status
@


1.84
log
@WANTLIB updates and patches for new xcb-util libs. tested by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2014/03/23 18:17:35 kili Exp $
d6 1
a6 1
REVISION =	5
d17 1
a17 1
WANTLIB =	X11 Xcursor c>=68.3 cairo ev fontconfig freetype \
d20 2
a21 2
		xcb xcb-util xcb-icccm xcb-keysyms xcb-randr xcb-xinerama \
		yajl z
@


1.83
log
@Revert librt changes.

Prodded by espie@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2014/03/19 07:31:53 ajacoutot Exp $
d6 1
a6 1
REVISION =	4
d20 1
a20 2
		xcb xcb-atom xcb-aux xcb-event xcb-icccm \
		xcb-keysyms xcb-property xcb-randr xcb-xinerama \
@


1.82
log
@Remove the librt chunk.

ok dcoppa@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2014/03/18 12:12:05 dcoppa Exp $
d6 1
a6 1
REVISION =	3
@


1.81
log
@
Bugfix: don't try to resize docks by command

cmd_resize does not implement a method to resize dock clients.
A command like `[instance=".*"] resize grow width 160 px or 16 ppt`
when a dock client matched would crash i3.

(upstream git commit a6a6c9b6d9d47ef1ccbff5ac5d4fe17f9666f29f)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2014/03/12 12:34:27 dcoppa Exp $
d6 1
a6 1
REVISION =	2
@


1.80
log
@
Bugfix: ipc_receive_message reply memleak
(upstream git commit a16dfdb15e2767d9753d45982b189de6edfdf70b)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2014/02/03 09:54:17 dcoppa Exp $
d6 1
a6 1
REVISION =	1
@


1.79
log
@
i3bar: fix resource leak: statusline_ctx needs to be freed first
(upstream git commit a4d504485139dc9bf4c846c26a38968a920dfcb1)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2014/01/24 10:08:38 dcoppa Exp $
d6 1
a6 1
REVISION =	0
@


1.78
log
@
Update to i3-4.7.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2014/01/22 13:48:38 dcoppa Exp $
d6 1
@


1.77
log
@Bugfix update to i3-4.7.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2014/01/19 10:25:30 dcoppa Exp $
d5 1
a5 1
DISTNAME =	i3-4.7.1
@


1.76
log
@
i3bar Bugfix: don't show "EOF" status line error
(upstream git commit 612d25c12cd1bd9ff4167e8530fe9a2c54a619e4)

Bugfix: `move <direction>` sends workspace focus
(upstream git commit 76393377160ffd043757ca2dd8d947aa25f69716)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2014/01/11 16:04:43 dcoppa Exp $
d5 1
a5 2
DISTNAME =	i3-4.7
REVISION =	0
@


1.75
log
@Update to i3-4.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2013/11/22 19:02:50 dcoppa Exp $
d6 1
@


1.74
log
@Fix an issue that caused content cons to become urgent when the
output is killed with RandR
(upstream git commit 57822e3ed43c011ad8d28c09b31c014cd930fe9b)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2013/10/24 15:18:00 ajacoutot Exp $
d5 1
a5 2
DISTNAME =	i3-4.6
REVISION =	5
d18 4
a21 3
		pangoft2-1.0 pcre startup-notification-1 xcb \
		xcb-atom xcb-aux xcb-event xcb-icccm xcb-keysyms \
		xcb-property xcb-randr xcb-xinerama yajl z
d58 1
@


1.73
log
@No need for the libiconv NODULE when we already have the gettext one.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2013/10/10 16:34:57 dcoppa Exp $
d6 1
a6 1
REVISION =	4
@


1.72
log
@Reply to _NET_REQUEST_FRAME_EXTENTS correctly.
Reply to _NET_REQUEST_FRAME_EXTENTS by settings _NET_FRAME_EXTENTS
property of the window to the widths of the respective borders added
by i3.
(upstream git commit 05e46848f07460f18574d51eba0b182b177ab2d2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2013/09/25 09:58:14 dcoppa Exp $
d6 1
a6 1
REVISION =	3
d23 1
a23 2
MODULES =	converters/libiconv \
		devel/gettext
@


1.71
log
@
Bugfix: correctly recognize assigned windows as urgent

http://bugs.i3wm.org/report/ticket/1086

upstream git commit 1a1d42153408822d267d0cb4718b22d8ff116f27
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2013/09/02 06:15:34 dcoppa Exp $
d6 1
a6 1
REVISION =	2
@


1.70
log
@
Revert "raise fullscreen windows on top of all other X11 windows"
It was a fix for dzen2 setups, but broke several other use cases
(upstream git commit 103ab83131d30614ea9337e752548a834773bfc6)

Bugfix: update root geometry on output changes for "fullscreen global"
(upstream git commit 93463bc3932e820bc86383fc4de1a07c82356967)

Bugfix: don't flatten tabbed/stacked containers
(upstream git commit 2481b9dcd73e91969033abb2b6f83aed608aeea1)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/08/16 11:39:49 dcoppa Exp $
d6 1
a6 1
REVISION =	1
@


1.69
log
@Fix time_t format string issues.

OK naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/08/13 10:01:54 dcoppa Exp $
d6 1
a6 1
REVISION =	0
@


1.68
log
@Update to i3-4.6

ok tobiasu@@, abieber@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/07/01 13:42:25 dcoppa Exp $
d6 1
@


1.67
log
@Some bugfixes from upstream:

i3-nagbar: Bugfix: -m requires an argument (crashes if none specified)
(upstream git commit 4765427f219c306f0872f124d0b1e2398bf8e39f)

i3-nagbar: call i3-nagbar correctly for configfiles without the font directive
(upstream git commit e8759691b8fdac7f964626c357dd6512a698ea2f)

Bugfix: fix focus handling in 'floating disable' on non-visible windows
(upstream git commit b4f7142509e3af51504a1e72163d544d305f0fa8)

Bugfix: Ignore spaces in front of default workspace name
(upstream git commit 625d5bdba6318377baa716ad5ea5a0b2f85b1c0e)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/06/25 06:07:46 tobiasu Exp $
d5 1
a5 2
DISTNAME =	i3-4.5.1
REVISION =	4
@


1.66
log
@Fix alignment problem. Makes i3 work on sparc64.

OK dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/06/02 12:25:53 dcoppa Exp $
d6 1
a6 1
REVISION =	3
@


1.65
log
@Bugfix: Unmap windows before reparenting them to the root window
(upstream git commit 62ef7834b042409acb99f0a030729c806be69335)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2013/06/02 11:24:06 dcoppa Exp $
d6 1
a6 1
REVISION =	2
@


1.64
log
@Enable SHM logging, now that we have shm_open() and friends.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/05/17 10:21:42 dcoppa Exp $
d6 1
a6 1
REVISION =	1
@


1.63
log
@Bunch of fixes from upstream:

Fix crash when not having tray_output configured

libi3: mark IPC fd CLOEXEC

Ensure that resize will take place even if pixel is smaller than
size increments

Fix floating window size with hide_edge_borders

render_con: fix height rounding in aspect ratio computation

tabbed: floor(), put extra pixels into the last tab
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/05/16 18:42:30 dcoppa Exp $
d6 1
a6 1
REVISION =	0
d17 1
a17 1
WANTLIB =	X11 Xcursor c cairo ev fontconfig freetype \
d19 3
a21 4
		pangoft2-1.0 pcre pthread startup-notification-1 \
		xcb xcb-atom xcb-aux xcb-event xcb-icccm \
		xcb-keysyms xcb-property xcb-randr xcb-xinerama \
		yajl z
d72 1
a72 2
	@@rm ${PREFIX}/man/man1/i3-dump-log.1 \
		${PREFIX}/man/man1/i3-sensible*.1
@


1.62
log
@Update to i3-4.5.1

ok jasper@@, abieber@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/03/11 11:46:13 espie Exp $
d6 1
@


1.61
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/01/30 22:19:43 dcoppa Exp $
d5 1
a5 2
DISTNAME =	i3-4.4
REVISION =	6
d16 6
a21 7
WANTLIB =	X11 Xcursor Xext Xrender c cairo ev expat \
		fontconfig freetype glib-2.0 gobject-2.0 m \
		pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre \
		pixman-1 png pthread pthread-stubs \
		startup-notification-1 xcb xcb-atom xcb-aux \
		xcb-event xcb-icccm xcb-keysyms xcb-property \
		xcb-randr xcb-render xcb-shm xcb-xinerama yajl z
a31 3
BUILD_DEPENDS =	devel/bison \
		devel/flex

a40 2
		BISON="${LOCALBASE}/bin/bison" \
		FLEX="${LOCALBASE}/bin/gflex" \
d56 1
a58 1
		${WRKSRC}/src/cfgparse.y \
d60 1
a60 2
		${WRKSRC}/src/config.c \
		${WRKSRC}/src/key_press.c
d64 1
a64 1
	${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} \
d67 6
a72 5
	${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} \
		-c ${WRKBUILD}/man/i3.1 \
			${PREFIX}/man/man1/i3.1
	@@rm ${PREFIX}/man/man1/i3-dmenu-desktop.1 \
		${PREFIX}/man/man1/i3-dump-log.1 \
@


1.60
log
@Bugfix: Correctly parse `move ... workspace *_on_output`
(upstream git commit cf830f69a2467b79454b6916ccfbbff45abf5418)

The parse spec for `move ... workspace ...`  ordered next/prev before
next_on_output/prev_on_output causing the parser to match next/prev
before next_on_output/prev_on_output.

Ticket: http://bugs.i3wm.org/report/ticket/941
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/01/27 18:33:19 dcoppa Exp $
a15 3
PERMIT_PACKAGE_FTP =     Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =   Yes
d43 1
a43 1
NO_REGRESS =	Yes
@


1.59
log
@Bugfix: parse outputs as "word", not "string", to ignore trailing
whitespaces (upstream git commit 8bc771ac16362f05d98bf8b29877939d6edb3c91)

Bugfix: fix coordinates of scratchpad windows on output changes
(upstream git commit 7be5ece6636f7a4c800ab0c5dd6289b38db7b435)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/01/25 10:34:02 dcoppa Exp $
d6 1
a6 1
REVISION =	5
@


1.58
log
@Bugfix: fix overlapping --release key bindings
(upstream git commit 2eb4ed95bcd5f039014db51eb56f0ac411401fa5)

See: http://bugs.i3wm.org/report/ticket/915
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/01/11 09:44:12 dcoppa Exp $
d6 1
a6 1
REVISION =	4
@


1.57
log
@Bugfix for a segfault when creating assigned and to be moved windows
(upstream git commit 138e04fd4d50e5f80d445761de86c0c9617916b3)

While here, do not mention '--shmlog-size' in the i3 manpage: we
don't have this option due to lack of POSIX shared memory support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/01/10 08:20:52 dcoppa Exp $
d6 1
a6 1
REVISION =	3
d20 1
a20 1
WANTLIB =	GL X11 Xcursor Xext Xrender c cairo ev expat \
@


1.56
log
@Fix IPC messages writes with low buffer sizes
(upstream git commit f5b7bfb12ef74ddbf250e5076bbfaafd0027474c)

This fixes a problem (reported by jasper@@) where i3bar would exit
due to malformed IPC messages when switching workspaces with some
windows opened.

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/12/27 19:58:05 dcoppa Exp $
d6 1
a6 1
REVISION =	2
@


1.55
log
@Fixes, fixes, fixes:

i3-input: restore input focus on exit()
(upstream git commit 5779f573e7316664e4bff9d3ff17a234edc9d337)

Repect AR environment variable
(upstream git commit ef81bd183b579688b9f1a46a41c817b577d0b39e)

Fix scrolling on a tabbed titlebar which contains split cons
(upstream git commit 721fa7bdadac6d7f0c78f8c1eac0e66252ba2dc6)

Bugfix: ignore ConfigureRequests for scratchpad windows
(upstream git commit 36b106a9d39727b06909113e3f11552f2f1b6abe)

Bugfix: handle MapRequests sent between i3 registering as a wm and
handling events
(upstream git commit 625401d1628757a67a2ab4eeaa68be965683889c)

Bugfix: draw right tab border for split containers
(upstream git commit ae605bdd394bdf83a8015ac626b222fd40e35b04)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/12/17 08:51:12 dcoppa Exp $
d6 1
a6 1
REVISION =	1
@


1.54
log
@Fix bind[code|sym] --release
(upstream git commit 6dfb08170cb1b0bd1875b80c85fbc225ff22274d)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/12/13 12:10:13 dcoppa Exp $
d6 1
a6 1
REVISION =	0
@


1.53
log
@Update to i3-4.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/11/13 08:44:01 dcoppa Exp $
d6 1
@


1.52
log
@Bugfix: fix workspace back_and_forth after displaying a scratchpad
window (upstream git commit 81393c93c2810e098966fe4089f3c8ea09f9cbe6)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/11/02 13:59:21 dcoppa Exp $
d5 1
a5 2
DISTNAME =	i3-4.3
REVISION =	5
d19 1
a19 1
WANTLIB =	GL X11 Xcursor Xrender c cairo ev expat \
d64 2
a65 1
	${SUBST_CMD} ${WRKSRC}/i3.config \
d80 2
a81 1
	@@rm ${PREFIX}/man/man1/i3-dump-log.1 \
@


1.51
log
@Bugfix: force rendering when the parent's orientation changed.
Otherwise, the split indicator might not be refreshed even though
it should be.
(upstream git commit e7a4580c5f5f895df2990dae0f26a8662d58d80f)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/10/04 12:21:38 dcoppa Exp $
d6 1
a6 1
REVISION =	4
@


1.50
log
@Set workspace_layout in create_workspace_on_output: otherwise i3
doesn't respect the workspace_layout setting.

From upstream git
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/10/01 08:12:17 dcoppa Exp $
d6 1
a6 1
REVISION =	3
@


1.49
log
@
Bugfix: don't crash when dragged floating window close

Bugfix: draw h-split indicator at the right position

Bugfix: Correctly move floating windows to invisible workspaces
cross-output

From upstream git
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/09/27 10:57:45 dcoppa Exp $
d6 1
a6 1
REVISION =	2
@


1.48
log
@Bugfix: properly react to windows being unmapped before we can
reparent.
We need to verify that setting the event mask works, and we need
to include StructureNotify to get unmap events at any point in time.

From upstream git
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2012/09/25 15:06:35 dcoppa Exp $
d6 1
a6 1
REVISION =	1
@


1.47
log
@Bugfix: Render workspaces created by assignments to use correct
coordinates.
Previously, i3 would send width=0, height=0 to windows which were
put on workspaces created by an assignment (that is, invisible
workspaces, which do not get rendered normally).

from upstream git
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/09/21 17:16:13 dcoppa Exp $
d6 1
a6 1
REVISION =	0
@


1.46
log
@Update to i3-4.3

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/09/16 22:05:46 ajacoutot Exp $
d6 1
@


1.45
log
@Prevent variable referencing itself; spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/09/16 06:24:32 ajacoutot Exp $
d5 1
a5 2
DISTNAME =	i3-4.2
REVISION =	11
d19 7
a25 6
WANTLIB =	X11 X11-xcb Xau Xcursor Xdmcp Xfixes \
		Xrender c ev m pcre pthread-stubs \
		startup-notification-1 xcb xcb-atom \
		xcb-aux xcb-event xcb-icccm \
		xcb-keysyms xcb-property xcb-randr \
		xcb-xinerama yajl
d27 2
a28 1
MODULES =	converters/libiconv
d32 1
d50 2
a51 1
		SYSCONFDIR=${SYSCONFDIR}
d67 3
a69 1
		${WRKSRC}/src/config.c
d72 1
a72 2
	${INSTALL_MAN} ${WRKBUILD}/{i3bar/doc,man}/*.1 \
		${PREFIX}/man/man1/
d80 1
a80 2
		${PREFIX}/man/man1/i3-sensible*.1 \
			${PREFIX}/man/man1/i3-wsbar.1
@


1.44
log
@/etc -> SYSCONFDIR

ok dcoppa@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/08/27 09:49:18 dcoppa Exp $
d47 2
a48 1
		FLEX="${LOCALBASE}/bin/gflex"
@


1.43
log
@Fix resizing floating windows by height
(upstream git commit 1089b0b201cef30fbfd03620339f5e8a166feded)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2012/08/08 14:33:25 dcoppa Exp $
d6 1
a6 1
REVISION =	10
@


1.42
log
@
Bugfix: fix duplicate return value for 'resize' command
(upstream git commit 83dc5d5cb6c71d365cd79b376fcb073e9120144d)

floating_fix_coordinates: properly deal with negative positions
(upstream git commit 74510c59c7db676f1228d054791e1e37456f6660)

randr: fix a crash when the current output cannot be determined
(upstream git commit e867fd810516431f06af0799c90c0f833bf61219)

randr: properly fix floating coordinates when disabling outputs
(upstream git commit d57d51da6d040e8572159332224615f232c4645a)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2012/07/16 14:38:22 dcoppa Exp $
d6 1
a6 1
REVISION =	9
@


1.41
log
@Bugfix: don't display empty strings from i3status in i3bar
(upstream git commit 3daa3e052f2388f95ef525bdcb6cca840d4f9a32)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2012/07/11 09:34:54 dcoppa Exp $
d6 1
a6 1
REVISION =	8
@


1.40
log
@i3bar: inform _all_ clients of new tray selection owner.
This fixes a problem with X-chat (and possibly others).
(upstream git commit 8a3574f301725ba48484c05408e35ecec27aad65)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2012/06/28 09:33:06 dcoppa Exp $
d6 1
a6 1
REVISION =	7
@


1.39
log
@
Parser fix: reorder v/h/vertical/horizontal
This eliminates an error message upon split horizontal which did
not occur in older i3 versions.
(upstream git commit f0b56c5e98a152cb65e8d1935a83707b5d87e30d)

Bugfix: fix reload crashes in rare cases
Depending on the memory layout, it could happen that bind->command
was exchanged with something else while the parser still accessed
it.
Therefore, copy the command and let the parser use that copy.
(upstream git commit 6e9bbe67ce5f02ff6ac24889e5a215ee46247c32)

Fix: when using i3 -C, don't send remaining arguments via IPC
(upstream git commit 6146f39b8a253bc84bc5ce1feb2e3cabc50d71ba)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2012/06/11 07:22:28 dcoppa Exp $
d6 1
a6 1
REVISION =	6
@


1.38
log
@i3bar: handle clicks with negative coordinates
(upstream git commit 599f7cc2a4ad0536759203cbdb03680389ae5e7b)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2012/05/31 08:39:59 dcoppa Exp $
d6 1
a6 1
REVISION =	5
@


1.37
log
@Replace deprecated XKeycodeToKeysym() with XkbKeycodeToKeysym().
Committed upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2012/05/28 13:37:50 dcoppa Exp $
d6 1
a6 1
REVISION =	4
@


1.36
log
@
Bugfix: less differentiation between named and numbered workspaces
(upstream git commit b88ab981fd0a5725ed886a9f9788a5b1e721534c)

Bugfix: fix stray workspaces "number 1" being created when having
workspace number 1 in your config (upstream git commit
ec4e6d1cdf5b76c79da2879635e4094e25a01f3d)

Fix for i3bar: don't wrap when changing workspaces by mouse wheel
scrolling (upstream git commit 4f93e0587a849de00a1f50bfcd48a549009178c0)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2012/05/14 07:47:05 dcoppa Exp $
d6 1
a6 1
REVISION =	3
@


1.35
log
@i3bar: Don't crash when full_text is missing or null in the JSON input
(upstream git commit 156a06e4958b1550dc8448556730e80b8b551289)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2012/05/11 09:35:17 dcoppa Exp $
d6 1
a6 1
REVISION =	2
@


1.34
log
@Use absolute path, for consistency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2012/05/10 09:27:37 dcoppa Exp $
d6 1
a6 1
REVISION =	1
@


1.33
log
@Into i3.config.keycodes, fix keycodes for the "Left", "Down", "Up"
and "Right" keys: for unknown reasons they're different between
Linux and OpenBSD.
Fix a pasto too: "bindsym" --> "bindcode".

Re-enable starting i3-config-wizard at first run, now that it works
properly.

From Juan Francisco Cantero Hurtado, with some tweaks by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2012/05/09 11:56:49 dcoppa Exp $
d6 1
a6 1
REVISION =	0
@


1.32
log
@Update to i3-4.2

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2012/05/02 08:31:48 dcoppa Exp $
d6 1
d59 1
a59 1
pre-configure:
@


1.31
log
@GC patches/patch-i3bar_src_child_c: useless now that we have i3status.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2012/05/02 07:39:08 jasper Exp $
d5 1
a5 2
DISTNAME =	i3-4.1.2
REVISION =	4
d36 2
a37 1
RUN_DEPENDS =	x11/dmenu \
d44 3
a46 1
MAKE_FLAGS =	CC="${CC}"
d73 3
a75 2
	@@rm -f ${PREFIX}/man/man1/i3-wsbar.1 \
		${PREFIX}/man/man1/i3-sensible*.1
@


1.30
log
@no need to set status_command by default to /usr/bin/true anymore, we have
i3status now.

ok dcoppa@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2012/04/26 10:55:10 dcoppa Exp $
d6 1
a6 1
REVISION =	3
@


1.29
log
@Fix config file; fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/03/23 08:43:54 dcoppa Exp $
d6 1
a6 1
REVISION =	2
d37 2
a38 1
RUN_DEPENDS =	x11/dmenu
@


1.28
log
@
Fix i3bar when using multiple displays
(upstream git commit 8b4ad8c6bdc73d8950b9ac67316811377acbf7b3)

Fix cfgparse: leave EAT_WHITESPACE and BINDSYM_COND states on EOL
(upstream git commit 1f6fbaf240351a3559f25bc47286c47b29c1047f)

Fix restart with for_window floating configuration
(upstream git commit afed6da0e5f555003ace074bf627c9a7e1c14106)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2012/03/22 09:53:50 dcoppa Exp $
d6 1
a6 1
REVISION =	1
d20 6
a25 4
WANTLIB +=	X11 Xcursor c ev m xcb xcb-atom xcb-aux
WANTLIB +=	xcb-event xcb-icccm xcb-keysyms
WANTLIB +=	xcb-property xcb-randr xcb-xinerama yajl
WANTLIB +=	pcre startup-notification-1
d28 1
d33 1
d36 1
d42 2
@


1.27
log
@We have getline(3) now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/02/21 14:05:39 dcoppa Exp $
d6 1
a6 1
REVISION =	0
@


1.26
log
@Update to i3-4.1.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/01/25 10:29:30 dcoppa Exp $
d6 1
@


1.25
log
@Bugfix: setup the _NET_SUPPORTING_WM_CHECK atom in a standards-compliant
way. This makes chrome (and probably other apps, too) receive changes
of the _NET_ACTIVE_WINDOW and thus show its bookmark dialog properly
(upstream git commit 4f26d6f2a1a0efb7fa15999f9cc00d8673220e97)

Bugfix: only ignore EnterNotify events after UnmapNotifies from
managed windows. This fixes some focus follows mouse problems
(upstream git commit 47fd15649ad63f3becef8870276e51c6214300fc)

Bugfix: force a new sequence number after UnmapNotify. This fixes
the problem where legitimate EnterNotify arrived with the same
sequence as the UnmapNotify and was ignored
(upstream git commit 7a4d8ed6ed67c4d0d958458f58e4db1598c9cd75)

Bugfix: position floating windows exactly where their geometry
specified
(upstream git commit cb4c9b9d27a095047a5ac22ae75f6ee17475ba18)

Bugfix: fix coordinates when the rect of an output changes
(upstream git commit 077d2433a7186550ee349284b1849ec2048af69c)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/01/20 15:53:18 dcoppa Exp $
d5 1
a5 2
DISTNAME =	i3-4.1.1
REVISION =	2
@


1.24
log
@Bugfix: respect WM_HINTS.input for WM_TAKE_FOCUS clients. This fixes
problems with some Qt apps
(upstream git commit 2d14ced024416e2074b57290bf7dade7d08899e5)

Bugfix: either use SetInputFocus *or* send WM_TAKE_FOCUS, not both.
This fixes problems with Oracle/OpenJDK JRE 7.0
(upstream git commit 21a2971b2442ab0881cf79553cc6b65bbb44afa7)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/01/11 13:33:48 dcoppa Exp $
d6 1
a6 1
REVISION =	1
@


1.23
log
@
Bugfix: don't lose focus on fullscreen windows when another window
gets moved to that workspace
(upstream git commit f78caf8c5815ae7a66de9e4b734546fd740cc19d)

Bugfix: open new windows in the correct place when assignments match
(upstream git commit d4238c778a199ad88ebe8540904d98f81f110621)

Fix assignments of floating windows to (yet) unused workspaces
(upstream git commit 96c491a4885bf33802e1be883dbf5fe24bece650)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/12/27 09:05:17 dcoppa Exp $
d6 1
a6 1
REVISION =	0
@


1.22
log
@Bugfixing update to i3-4.1.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/12/07 09:51:26 dcoppa Exp $
d6 1
@


1.21
log
@Add a comment about i3status
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/12/01 16:00:01 dcoppa Exp $
d5 1
a5 2
DISTNAME =	i3-4.1
REVISION =	0
@


1.20
log
@Major update to i3-4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/11/06 20:23:24 dcoppa Exp $
d6 1
a6 1

@


1.19
log
@Update to i3-4.0.2 (plus patches from upstream git).
i3bar is now part of i3 itself and i3-wsbar is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/05/09 11:33:35 dcoppa Exp $
d5 1
a5 1
DISTNAME =	i3-4.0.2
d23 1
d27 3
a29 1
		devel/libyajl>=2.0.0
d51 2
a52 1
			${WRKSRC}/src/config.c
a54 1
	@@rm -f ${WRKBUILD}/man/i3-wsbar.1
d57 8
@


1.18
log
@Ops. USE_GROFF no more needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/05/09 11:03:40 dcoppa Exp $
d5 1
a5 3
DISTNAME =	i3-3.e-bf3
PKGNAME =	i3-3.5.3
REVISION =	0
d20 3
a22 3
WANTLIB +=	X11 c ev m xcb xcb-atom xcb-aux xcb-event
WANTLIB +=	xcb-icccm xcb-keysyms xcb-randr xcb-xinerama
WANTLIB +=	yajl
d27 3
a29 6
BUILD_DEPENDS =	devel/bison
RUN_DEPENDS =	x11/dmenu \
		devel/p5-IPC-Run \
		devel/p5-Try-Tiny \
		devel/p5-AnyEvent \
		x11/p5-AnyEvent-I3
d46 3
a48 1
	${SUBST_CMD} ${WRKSRC}/i3.config ${WRKSRC}/src/config.c
d51 3
a53 1
	${INSTALL_MAN} ${WRKBUILD}/man/*.1 ${PREFIX}/man/man1/
@


1.17
log
@Update to i3-3.e-bf3 (i3-3.5.3)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/05/06 14:14:31 dcoppa Exp $
d7 1
a36 1
USE_GROFF =	Yes
@


1.16
log
@- New HOMEPAGE
- Fix a pasto in the floating_resize_window function
  (from upstream git)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/05/05 12:19:36 dcoppa Exp $
d5 2
a6 3
DISTNAME =	i3-3.e-bf2
PKGNAME =	i3-3.5.2
REVISION =	3
d22 2
a23 2
WANTLIB +=	xcb-icccm xcb-keysyms xcb-property xcb-randr
WANTLIB +=	xcb-xinerama yajl
d39 4
@


1.15
log
@libyajl-2.0 compatibility fixes (API got changed)

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/04/29 09:18:53 dcoppa Exp $
d7 1
a7 1
REVISION =	2
d12 2
a13 2
HOMEPAGE = 	http://i3.zekjur.net/
MASTER_SITES =	${HOMEPAGE}downloads/
@


1.14
log
@Fix unaligned memory access on sparc.
Patch already committed upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/04/07 08:58:10 dcoppa Exp $
d7 1
a7 1
REVISION =	1
d28 1
a28 1
		devel/libyajl
@


1.13
log
@Fix problems with Java apps (backported from upstream git)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/03/14 12:55:18 dcoppa Exp $
d7 1
a7 1
REVISION =	0
@


1.12
log
@Update to i3-3.e-bf2 (aka i3-3.5.2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/01/11 14:17:17 dcoppa Exp $
d7 1
@


1.11
log
@Bump after p5-AnyEvent-I3 update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/01/05 12:45:04 dcoppa Exp $
d5 2
a6 3
DISTNAME =	i3-3.e-bf1
PKGNAME =	i3-3.5.1
REVISION =	2
@


1.10
log
@Various bugfixes for fullscreen windows, xcb, xinerama, and configfile
parsing.
All from upstream git.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/22 08:36:59 espie Exp $
d7 1
a7 1
REVISION =	1
@


1.9
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/18 12:20:54 dcoppa Exp $
d7 1
a7 1
REVISION =	0
@


1.8
log
@Bump after libev update.

While here, add two patches from upstream:

"Don't setup event handler when RandR base event is not set"
"Properly call init_workspaces() when RandR is known but not present"

I've found that they are needed (the hard way) when tried to run i3
under Xnest.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/10/24 21:15:32 ajacoutot Exp $
d27 8
a34 8
LIB_DEPENDS =	::devel/libev \
		::devel/libyajl
BUILD_DEPENDS =	::devel/bison
RUN_DEPENDS =	::x11/dmenu \
		::devel/p5-IPC-Run \
		::devel/p5-Try-Tiny \
		::devel/p5-AnyEvent \
		::x11/p5-AnyEvent-I3
@


1.7
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/10/19 08:13:58 espie Exp $
d7 1
@


1.6
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/09/14 08:54:18 dcoppa Exp $
a35 1
USE_X11 =	Yes
@


1.5
log
@Update to i3-3.5.1

resolve_tilde() function by Christopher Zimmermann
(madroach AT zakweb DOT de): thanks!

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/07/30 06:58:58 ajacoutot Exp $
d37 1
@


1.4
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/06/28 22:51:25 ajacoutot Exp $
d5 2
a6 3
DISTNAME =	i3-3.c
PKGNAME =	i3-3.3
REVISION =	2
d13 1
a13 1
MAINTAINER =	Bapt <baptiste.daroussin@@gmail.com>
d21 3
a23 2
WANTLIB =	X11 c m xcb xcb-atom xcb-aux xcb-event \
		xcb-icccm xcb-keysyms xcb-property xcb-xinerama ev
d26 8
a33 2
LIB_DEPENDS =	::devel/libev
RUN_DEPENDS =	::x11/dmenu
d40 6
d47 4
a50 1
		${SUBST_CMD} ${WRKSRC}/i3.config ${WRKSRC}/src/config.c
@


1.3
log
@We have strlen(3) and strndup(3) now.
Set NO_REGRESS while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/09/14 17:19:29 naddy Exp $
d6 3
a8 1
PKGNAME =	i3-3.3p1
d23 1
a23 1
		xcb-icccm xcb-keysyms xcb-property xcb-xinerama
d26 1
a26 1
LIB_DEPENDS =	ev::devel/libev
@


1.2
log
@force pointer interpretation for final argument to execl()
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/09/02 19:26:17 landry Exp $
d6 1
a6 1
PKGNAME =	i3-3.3p0
d29 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
PKGNAME =	i3-3.3
@


1.1.1.1
log
@Import (really, this time) i3 3.c, from MAINTAINER Baptiste Daroussin,
with tweaks by me.

i3 is an improved dynamic, tiling window manager.

note: It is still young, so some debug options are still enable by
default, and it's a bit verbose.

ok ajacoutot@@
@
text
@@
