head	1.5;
access;
symbols
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2014.01.22.13.48.38;	author dcoppa;	state dead;
branches;
next	1.4;

1.4
date	2014.01.11.16.04.43;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2013.06.02.11.24.06;	author dcoppa;	state dead;
branches;
next	1.2;

1.2
date	2012.09.21.17.16.14;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2012.05.09.11.56.49;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Bugfix update to i3-4.7.1
@
text
@$OpenBSD: patch-include_log_h,v 1.4 2014/01/11 16:04:43 dcoppa Exp $

commit 0883dfbe14628430caaeefdb00e282a008d30d76
Author: Michael Stapelberg <michael@@stapelberg.de>
Date:   Tue Dec 24 10:35:56 2013 +0100

only LOG() the DPI when it changes, DLOG() it otherwise

This avoids flooding stdout every time some text (e.g. a window
decoration) is drawn, yet leaves the message in place when it's actually
relevant (upon DPI changes).

--- include/log.h.orig	Sun Dec 22 21:12:41 2013
+++ include/log.h	Fri Jan 10 21:41:56 2014
@@@@ -21,6 +21,9 @@@@
 #if defined(ELOG)
 #undef ELOG
 #endif
+#if defined(DLOG)
+#undef DLOG
+#endif
 /** ##__VA_ARGS__ means: leave out __VA_ARGS__ completely if it is empty, that
    is, delete the preceding comma */
 #define LOG(fmt, ...) verboselog(fmt, ##__VA_ARGS__)
@


1.4
log
@Update to i3-4.7
@
text
@d1 1
a1 1
$OpenBSD$
@


1.3
log
@Enable SHM logging, now that we have shm_open() and friends.

ok jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-include_log_h,v 1.2 2012/09/21 17:16:14 dcoppa Exp $
d3 3
a5 1
OpenBSD lacks POSIX shared memory support (shm_open() and friends)
d7 14
a20 9
--- include/log.h.orig	Wed Sep 19 18:08:09 2012
+++ include/log.h	Thu Sep 20 14:12:10 2012
@@@@ -28,8 +28,10 @@@@
 #define DLOG(fmt, ...) debuglog("%s:%s:%d - " fmt, I3__FILE__, __FUNCTION__, __LINE__, ##__VA_ARGS__)
 
 extern char *errorfilename;
+#if !defined(__OpenBSD__)
 extern char *shmlogname;
 extern int shmlog_size;
d22 3
a24 3
 
 /**
  * Initializes logging by creating an error logfile in /tmp (or
@


1.2
log
@Update to i3-4.3

OK jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-include_log_h,v 1.1 2012/05/09 11:56:49 dcoppa Exp $
@


1.1
log
@Update to i3-4.2

OK jasper@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 4
a8 3
--- include/log.h.orig	Wed Apr 25 23:21:25 2012
+++ include/log.h	Wed May  9 12:12:28 2012
@@@@ -21,8 +21,10 @@@@
a9 1
 extern char *loglevels[];
@

