head	1.3;
access;
symbols
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2013.08.13.10.01.55;	author dcoppa;	state dead;
branches;
next	1.2;

1.2
date	2013.07.01.13.42.25;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2013.06.25.06.07.46;	author tobiasu;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to i3-4.6

ok tobiasu@@, abieber@@
@
text
@$OpenBSD: patch-libi3_ipc_recv_message_c,v 1.2 2013/07/01 13:42:25 dcoppa Exp $

commit cecadbfdfe01b770e8a7832e94e0ca58073a03f9
Author: Michael Stapelberg <michael@@stapelberg.de>
Date:   Sat Jun 29 19:28:13 2013 +0200

Bugfix: fix bus error on OpenBSD/sparc64 (Thanks tobiasu)

fixes #1034

--- libi3/ipc_recv_message.c.orig	Mon Jun 24 21:38:29 2013
+++ libi3/ipc_recv_message.c	Mon Jun 24 21:41:22 2013
@@@@ -54,10 +54,10 @@@@ int ipc_recv_message(int sockfd, uint32_t *message_typ
     }
 
     walk += strlen(I3_IPC_MAGIC);
-    *reply_length = *((uint32_t*)walk);
+    memcpy(reply_length, walk, sizeof(uint32_t));
     walk += sizeof(uint32_t);
     if (message_type != NULL)
-        *message_type = *((uint32_t*)walk);
+        memcpy(message_type, walk, sizeof(uint32_t));
 
     *reply = smalloc(*reply_length);
 
@


1.2
log
@Some bugfixes from upstream:

i3-nagbar: Bugfix: -m requires an argument (crashes if none specified)
(upstream git commit 4765427f219c306f0872f124d0b1e2398bf8e39f)

i3-nagbar: call i3-nagbar correctly for configfiles without the font directive
(upstream git commit e8759691b8fdac7f964626c357dd6512a698ea2f)

Bugfix: fix focus handling in 'floating disable' on non-visible windows
(upstream git commit b4f7142509e3af51504a1e72163d544d305f0fa8)

Bugfix: Ignore spaces in front of default workspace name
(upstream git commit 625d5bdba6318377baa716ad5ea5a0b2f85b1c0e)
@
text
@d1 1
a1 1
$OpenBSD: patch-libi3_ipc_recv_message_c,v 1.1 2013/06/25 06:07:46 tobiasu Exp $
@


1.1
log
@Fix alignment problem. Makes i3 work on sparc64.

OK dcoppa@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 7
a9 1
Alignment is overrated.
@

