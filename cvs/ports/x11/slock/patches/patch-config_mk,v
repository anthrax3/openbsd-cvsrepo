head	1.9;
access;
symbols
	OPENBSD_6_2:1.9.0.4
	OPENBSD_6_2_BASE:1.9
	OPENBSD_6_1:1.9.0.2
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.8.0.2
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.4
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.6.0.10
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.8
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.6
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.4
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.5.0.2
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.12
	OPENBSD_5_0:1.4.0.10
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.8
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.6
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.4
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.2
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.3.0.4
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.2
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.1.1.0.4
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	steven-20070119:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2016.08.13.14.00.00;	author tb;	state Exp;
branches;
next	1.8;
commitid	ix8pK84DU5POXta4;

1.8
date	2016.03.05.19.17.01;	author jung;	state Exp;
branches;
next	1.7;
commitid	qne6loJX6kZ8JNXb;

1.7
date	2015.04.16.19.00.09;	author jung;	state Exp;
branches;
next	1.6;
commitid	GwpZ79CMsXBK8GbM;

1.6
date	2012.10.30.17.14.53;	author zinke;	state Exp;
branches;
next	1.5;

1.5
date	2012.03.15.13.12.43;	author gsoares;	state Exp;
branches;
next	1.4;

1.4
date	2009.05.31.20.00.22;	author jim;	state Exp;
branches;
next	1.3;

1.3
date	2008.06.02.20.09.53;	author wcmaier;	state Exp;
branches;
next	1.2;

1.2
date	2008.01.26.18.48.19;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.19.05.24.08;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.19.05.24.08;	author steven;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Make sure the password is cleared from memory when the password entry
is aborted with backspace or escape.  With help from jca and a lot of
feedback from many.

ok jca, gsoares (MAINTAINER)
@
text
@$OpenBSD: patch-config_mk,v 1.8 2016/03/05 19:17:01 jung Exp $
--- config.mk.orig	Fri Feb 12 20:29:02 2016
+++ config.mk	Sat Aug 13 15:38:13 2016
@@@@ -4,28 +4,28 @@@@ VERSION = 1.3
 # Customize below to fit your system
 
 # paths
-PREFIX = /usr/local
-MANPREFIX = ${PREFIX}/share/man
+PREFIX ?= /usr/local
+MANPREFIX = ${PREFIX}/man
 
-X11INC = /usr/X11R6/include
-X11LIB = /usr/X11R6/lib
+X11INC = ${X11BASE}/include
+X11LIB = ${X11BASE}/lib
 
 # includes and libs
-INCS = -I. -I/usr/include -I${X11INC}
-LIBS = -L/usr/lib -lc -lcrypt -L${X11LIB} -lX11 -lXext -lXrandr
+INCS = -I${X11INC}
+LIBS = -L${X11LIB} -lX11 -lXext -lXrandr
 
 # flags
-CPPFLAGS = -DVERSION=\"${VERSION}\" -DHAVE_SHADOW_H
-CFLAGS = -std=c99 -pedantic -Wall -Os ${INCS} ${CPPFLAGS}
-LDFLAGS = -s ${LIBS}
+CPPFLAGS += -DVERSION=\"${VERSION}\" -DHAVE_BSD_AUTH -D_BSD_SOURCE
+CFLAGS += -std=c99 -pedantic -Wall ${INCS} ${CPPFLAGS}
+LDFLAGS += ${LIBS}
 
 # On *BSD remove -DHAVE_SHADOW_H from CPPFLAGS and add -DHAVE_BSD_AUTH
 # On OpenBSD and Darwin remove -lcrypt from LIBS
 
 # compiler and linker
-CC = cc
+CC ?= cc
 
 # Install mode. On BSD systems MODE=2755 and GROUP=auth
 # On others MODE=4755 and GROUP=root
-#MODE=2755
-#GROUP=auth
+MODE=2755
+GROUP=auth
@


1.8
log
@update to 1.3

similar diff from Michael Reed earlier during lock

ok gsoares
@
text
@d1 1
a1 1
$OpenBSD: patch-config_mk,v 1.7 2015/04/16 19:00:09 jung Exp $
d3 1
a3 1
+++ config.mk	Sat Feb 27 10:43:40 2016
d28 1
a28 1
+CPPFLAGS += -DVERSION=\"${VERSION}\" -DHAVE_BSD_AUTH
@


1.7
log
@update slock to 1.2

ok gsoares@@ (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-config_mk,v 1.6 2012/10/30 17:14:53 zinke Exp $
--- config.mk.orig	Wed Apr 15 21:51:53 2015
+++ config.mk	Wed Apr 15 21:55:01 2015
@@@@ -4,27 +4,26 @@@@ VERSION = 1.2
d9 3
a11 1
+#PREFIX = /usr/local
d20 1
a20 1
-LIBS = -L/usr/lib -lc -lcrypt -L${X11LIB} -lX11 -lXext
d22 1
a22 1
+LIBS = -L${X11LIB} -lX11 -lXext
d28 2
a29 1
+CFLAGS += -std=c99 -pedantic -Wall ${INCS} -DVERSION=\"${VERSION}\" -DHAVE_BSD_AUTH
@


1.6
log
@update to slock 1.1
sneak in same non-default color (scheme) used in other suckless ports
(x11/dwm and x11/tabbed)

ok gsoares@@ landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-config_mk,v 1.5 2012/03/15 13:12:43 gsoares Exp $
--- config.mk.orig	Thu Oct 25 21:00:04 2012
+++ config.mk	Sun Oct 28 19:34:29 2012
@@@@ -4,27 +4,26 @@@@ VERSION = 1.1
d23 1
a23 1
-CPPFLAGS = -DVERSION=\"${VERSION}\" -DHAVE_SHADOW_H -DCOLOR1=\"black\" -DCOLOR2=\"\#005577\"
d26 1
a26 1
+CFLAGS += ${INCS} -DVERSION=\"${VERSION}\" -DCOLOR1=\"black\" -DCOLOR2=\"\#404040\" -DHAVE_BSD_AUTH
@


1.5
log
@bugfix update slock to 1.0

upstream release notes:
It contains a bugfix for hiding windows created after slock locks the screen.

It does not contain other potential features that were requested
during the years, like displaying some text in case the user hits his
keyboard. Such features will be subject to future slock releases.

OK sthen@@
@
text
@d1 4
a4 4
$OpenBSD: patch-config_mk,v 1.4 2009/05/31 20:00:22 jim Exp $
--- config.mk.orig	Sat Feb 11 07:51:37 2012
+++ config.mk	Wed Mar 14 13:56:11 2012
@@@@ -4,27 +4,26 @@@@ VERSION = 1.0
d23 1
a23 1
-CPPFLAGS = -DVERSION=\"${VERSION}\" -DHAVE_SHADOW_H
d26 1
a26 1
+CFLAGS += ${INCS} -DVERSION=\"${VERSION}\"  -DHAVE_BSD_AUTH
@


1.4
log
@-update to 0.9
-correct homepage and master_sites
-update maintainer email per maintainer

ok wcmaier@@, "looks good for me" Gleysdon Soares (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-config_mk,v 1.3 2008/06/02 20:09:53 wcmaier Exp $
--- config.mk.orig	Tue Jul 29 14:22:46 2008
+++ config.mk	Tue May 19 16:09:12 2009
@@@@ -4,27 +4,26 @@@@ VERSION = 0.9
@


1.3
log
@Update to 0.8.

Diff originally from Gleydson Soares <gsoares at gmail dot com>, who
also takes maintainership. Thanks! Tweaks from kili@@ (the Makefile
nazi) and myself.

ok kili@@
@
text
@d1 4
a4 4
$OpenBSD: patch-config_mk,v 1.2 2008/01/26 18:48:19 matthieu Exp $
--- config.mk.orig	Thu Mar 13 11:58:47 2008
+++ config.mk	Mon Jun  2 14:48:38 2008
@@@@ -4,18 +4,18 @@@@ VERSION = 0.8
d23 3
a25 2
-CFLAGS = -Os ${INCS} -DVERSION=\"${VERSION}\"  -DHAVE_SHADOW_H
-LDFLAGS = ${LIBS}
a27 2
 #CFLAGS = -g -Wall -O2 ${INCS} -DVERSION=\"${VERSION}\" -DHAVE_SHADOW_H
 #LDFLAGS = -g ${LIBS}
d29 1
a29 1
@@@@ -23,10 +23,10 @@@@ LDFLAGS = ${LIBS}
a34 1
 LD = ${CC}
@


1.2
log
@- update to 0.7
- add support for BSD authentification. (patch sent upstream)
ok Will Maier (maintainer).
@
text
@d1 4
a4 4
$OpenBSD$
--- config.mk.orig	Fri Jan 25 21:48:50 2008
+++ config.mk	Fri Jan 25 21:48:38 2008
@@@@ -4,24 +4,29 @@@@
d18 1
a18 1
-LIBS = -L/usr/lib -lc -lcrypt -L${X11LIB} -lX11
d20 1
a20 1
+LIBS = -L${X11LIB} -lX11
d23 4
a26 3
-CFLAGS = -Os ${INCS} -DVERSION=\"${VERSION}\" -DHAVE_SHADOW_H
+CFLAGS = -Os ${INCS} -DVERSION=\"${VERSION}\"  -DHAVE_BSD_AUTH
 LDFLAGS = ${LIBS}
d30 1
a30 2
-# On *BSD remove -DHAVE_SHADOW_H from CFLAGS
+# On *BSD remove -DHAVE_SHADOW_H from CFLAGS and add -DHAVE_BSD_AUTH
d34 2
a35 1
 CC = cc
d37 5
a41 3
+
+# Install mode. On BSD systems MODE=2755 and GROUP=auth
+# On others MODE=4755 and GROUP=root
@


1.1
log
@Initial revision
@
text
@d2 3
a4 3
--- config.mk.orig	Sat Jan 13 08:12:11 2007
+++ config.mk	Sat Jan 13 08:16:20 2007
@@@@ -4,18 +4,18 @@@@ VERSION = 0.4
a8 1
-MANPREFIX = ${PREFIX}/share/man
a9 1
+MANPREFIX = ${PREFIX}/man
d24 1
a24 1
+CFLAGS += ${INCS} -DVERSION=\"${VERSION}\"
d28 13
@


1.1.1.1
log
@import slock-0.4

A small screen locking utility for X.

from willmaier at ml1 dot net
@
text
@@
