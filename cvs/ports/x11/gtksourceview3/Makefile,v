head	1.63;
access;
symbols
	OPENBSD_6_2:1.63.0.2
	OPENBSD_6_2_BASE:1.63
	OPENBSD_6_1:1.58.0.2
	OPENBSD_6_1_BASE:1.58
	OPENBSD_6_0:1.55.0.2
	OPENBSD_6_0_BASE:1.55
	OPENBSD_5_9:1.52.0.2
	OPENBSD_5_9_BASE:1.52
	OPENBSD_5_8:1.49.0.4
	OPENBSD_5_8_BASE:1.49
	OPENBSD_5_7:1.45.0.2
	OPENBSD_5_7_BASE:1.45
	OPENBSD_5_6:1.40.0.2
	OPENBSD_5_6_BASE:1.40
	OPENBSD_5_5:1.34.0.2
	OPENBSD_5_5_BASE:1.34
	OPENBSD_5_4:1.30.0.2
	OPENBSD_5_4_BASE:1.30
	OPENBSD_5_3:1.24.0.2
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.19.0.2
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.2
	OPENBSD_5_0:1.7.0.2
	OPENBSD_5_0_BASE:1.7
	jasper_20111304:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.63
date	2017.09.25.09.16.13;	author robert;	state Exp;
branches;
next	1.62;
commitid	xOeDnABBxynvFYIF;

1.62
date	2017.09.06.17.14.29;	author jasper;	state Exp;
branches;
next	1.61;
commitid	NYEri0NoVKjGXp30;

1.61
date	2017.06.22.20.09.17;	author jasper;	state Exp;
branches;
next	1.60;
commitid	wBI39JhtPZnIU8iZ;

1.60
date	2017.05.27.13.55.36;	author jasper;	state Exp;
branches;
next	1.59;
commitid	NnABZxyiw6cLxJkQ;

1.59
date	2017.04.17.08.09.57;	author jasper;	state Exp;
branches;
next	1.58;
commitid	fODei9LBnbX6hvDj;

1.58
date	2016.11.27.11.39.34;	author jasper;	state Exp;
branches;
next	1.57;
commitid	OBzRnKr2ZKkABJTm;

1.57
date	2016.11.06.12.43.33;	author jasper;	state Exp;
branches;
next	1.56;
commitid	dmBfhc3CQ7McSwaO;

1.56
date	2016.10.30.16.12.19;	author jasper;	state Exp;
branches;
next	1.55;
commitid	VesCCgWydwBqckkl;

1.55
date	2016.06.27.11.07.32;	author jasper;	state Exp;
branches;
next	1.54;
commitid	OSjsNTlLLGLjtCZb;

1.54
date	2016.05.08.18.39.06;	author jasper;	state Exp;
branches;
next	1.53;
commitid	mgkNYBeRkptp4gS6;

1.53
date	2016.04.25.14.24.03;	author jasper;	state Exp;
branches;
next	1.52;
commitid	I4OlfoZjVRbDb71I;

1.52
date	2016.01.15.07.56.45;	author jasper;	state Exp;
branches;
next	1.51;
commitid	NU2JEohjd5LWidjs;

1.51
date	2015.10.11.10.03.19;	author jasper;	state Exp;
branches;
next	1.50;
commitid	KwARTjIiqzfn7u7g;

1.50
date	2015.10.09.06.58.04;	author jasper;	state Exp;
branches;
next	1.49;
commitid	CN61T2FLZShcakrh;

1.49
date	2015.04.15.09.40.54;	author ajacoutot;	state Exp;
branches;
next	1.48;
commitid	dfR1rb9OtImYnGFF;

1.48
date	2015.04.12.11.55.42;	author jasper;	state Exp;
branches;
next	1.47;
commitid	PVieJlyxSRQBkcog;

1.47
date	2015.04.04.09.21.08;	author ajacoutot;	state Exp;
branches;
next	1.46;
commitid	kS3kwKZogsvzYmEY;

1.46
date	2015.04.03.11.53.43;	author jasper;	state Exp;
branches;
next	1.45;
commitid	7zvMLTjXwVqrVJsZ;

1.45
date	2015.01.07.15.59.03;	author jasper;	state Exp;
branches;
next	1.44;
commitid	b6iX0Pfu9Z30Kvuq;

1.44
date	2014.11.13.14.41.49;	author jasper;	state Exp;
branches;
next	1.43;
commitid	tk3IPFt5UH2WR69p;

1.43
date	2014.10.15.10.08.16;	author jasper;	state Exp;
branches;
next	1.42;
commitid	QaLO0WyTF6wabIt4;

1.42
date	2014.10.05.12.44.43;	author jasper;	state Exp;
branches;
next	1.41;
commitid	vU2EfdcmcA5KrhPv;

1.41
date	2014.08.21.08.18.58;	author jasper;	state Exp;
branches;
next	1.40;
commitid	TcpB3V9vFXZI9mXf;

1.40
date	2014.05.12.12.48.13;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2014.04.15.07.10.56;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2014.04.02.09.36.14;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2014.04.01.18.06.32;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2014.04.01.15.31.47;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2014.03.27.12.14.26;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2014.01.27.17.58.34;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2013.10.21.15.25.11;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2013.09.28.08.50.37;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2013.09.27.07.38.44;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2013.07.07.18.52.56;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2013.05.31.15.35.14;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2013.04.16.13.17.02;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2013.04.15.10.49.25;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2013.03.29.15.59.03;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.11.11.46.13;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2013.01.26.14.43.51;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2013.01.22.21.22.00;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2012.11.04.16.41.14;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2012.09.27.07.45.34;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2012.09.09.17.48.02;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2012.05.15.11.23.37;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2012.04.16.13.23.08;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2012.03.29.06.54.47;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2011.11.01.19.04.12;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2011.10.16.12.08.43;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2011.10.09.15.16.27;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2011.09.28.09.51.37;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.26.19.56.28;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2011.09.20.21.10.01;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.20.20.52.47;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.16.12.29.15;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2011.09.12.12.07.26;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2011.07.01.11.16.40;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2011.06.19.20.26.59;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2011.05.25.15.39.46;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.04.26.18.18.37;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2011.04.26.13.09.07;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.04.13.08.30.16;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.04.13.07.26.03;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.04.13.07.26.03;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.63
log
@Unbreak autoconf checks with clang by not using nested functions
in the checks.

Someone clearly did not read the autoconf documentation because
using the following functions with a function declaration inside
the body will end up declaring a function inside a function.

- AC_TRY_COMPILE( [], [ int main() { return 0; } ],
- AC_LANG_PROGRAM([[]], [[int main (void) { return 0; }]])],
- AC_TRY_LINK([], [int main (void) { return 0; }],

Result:

int
main ()
{
int main (void) { return 0; }
  ;
  return 0;
}

nested functions is a gcc extension which is not supported by
clang.

test.c:4:17: error: function definition is not allowed here
int main (void) { return 0; }
                ^
1 error generated.

This causes tests to fail in the configure scripts resulting in
missing compile and link time flags from the builds.

This resulted in weird behaviour of several software, like gnome
hanging completely due to gtk+3 not being built properly.

This change intrudces the following fixes:

- remove int main() declaration from AC_TRY_COMPILE, AC_LANG_PROGRAM, AC_TRY_LINK
  as it comes with a declaration already, and people misused them

- change to use AC_LANG_SOURCE when needed in case a complete source block is specified

Most of the changes are in configure.(ac|in), however there were some cases
where autoconf is either broken or the build failed because of an autoconf
generated configure script. Everytihng else is switched to autoconf, so
the maintainers can go ahead and upstream these diffs.

There are more to come, we are continously checking the tree for these issues
and in the future the infrastructure will error if such a case is found.
@
text
@# $OpenBSD: Makefile,v 1.62 2017/09/06 17:14:29 jasper Exp $

COMMENT=		text widget that extends the GTK3 GtkTextView widget

GNOME_PROJECT=		gtksourceview
GNOME_VERSION=		3.24.4
PKGNAME=		${GNOME_PROJECT}3-${GNOME_VERSION}

REVISION=		0

SHARED_LIBS +=	gtksourceview-3.0    3.5      # .9.0
CATEGORIES=		x11

MAJOR_VERSION=		3.0
SUBST_VARS=		MAJOR_VERSION

MAINTAINER=		Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
			Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv2/LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += cairo cairo-gobject dbus-1 expat ffi fontconfig freetype
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += graphite2 gthread-2.0 gtk-3 harfbuzz epoxy
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png pthread pthread-stubs xcb xcb-render xcb-shm
WANTLIB += xml2 z lzma

MODULES=		devel/gettext \
			x11/gnome

BUILD_DEPENDS=		textproc/itstool
LIB_DEPENDS=		textproc/libxml \
			x11/gtk+3

MODGNOME_TOOLS +=	gobject-introspection vala

AUTOCONF_VERSION=	2.69
CONFIGURE_STYLE=	autoconf

TEST_IS_INTERACTIVE=	x11

.include <bsd.port.mk>
@


1.62
log
@update to gtksourceview-3.24.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2017/06/22 20:09:17 jasper Exp $
d9 2
d41 2
a42 1
CONFIGURE_STYLE=	gnu
@


1.61
log
@update to gtksourceview-3.24.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2017/05/27 13:55:36 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.24.3
@


1.60
log
@update to gtksourceview3-3.24.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2017/04/17 08:09:57 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.24.2
@


1.59
log
@update to gtksourceview-3.24.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2016/11/27 11:39:34 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.24.1
@


1.58
log
@update to gtksourceview-3.22.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2016/11/06 12:43:33 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.22.2
d9 1
a9 1
SHARED_LIBS +=	gtksourceview-3.0    3.4      # .8.0
@


1.57
log
@update to gtksourceview3-3.22.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2016/10/30 16:12:19 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.22.1
@


1.56
log
@update to gtksourceview-3.22.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2016/06/27 11:07:32 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.22.0
@


1.55
log
@update to gtksourceview-3.20.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2016/05/08 18:39:06 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.20.4
d9 1
a9 1
SHARED_LIBS +=	gtksourceview-3.0    3.3      # .6.0
@


1.54
log
@update to gtksourceview3-3.20.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2016/04/25 14:24:03 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.20.3
@


1.53
log
@update to gtksourceview-3.20.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2016/01/15 07:56:45 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.20.2
@


1.52
log
@update to gtksourceview-3.18.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2015/10/11 10:03:19 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.18.2
d9 1
a9 1
SHARED_LIBS +=	gtksourceview-3.0    3.2      # .6.0
d33 1
@


1.51
log
@update to gtksourceview-3.18.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2015/10/09 06:58:04 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.18.1
@


1.50
log
@update to gtksourceview-3.18.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2015/04/15 09:40:54 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.18.0
@


1.49
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2015/04/12 11:55:42 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.16.1
a7 1
REVISION=		0
d9 1
a9 1
SHARED_LIBS +=	gtksourceview-3.0    3.1      # .5.0
d36 1
a36 1
MODGNOME_TOOLS +=	gobject-introspection
@


1.48
log
@update to gtksourceview3-3.16.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2015/04/04 09:21:08 ajacoutot Exp $
d8 1
@


1.47
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2015/04/03 11:53:43 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.16.0
a7 1
REVISION=		0
@


1.46
log
@update to gtksourceview-3.16.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2015/01/07 15:59:03 jasper Exp $
d8 1
@


1.45
log
@update to gtksourceview3-3.14.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2014/11/13 14:41:49 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.3
d9 1
a9 1
SHARED_LIBS +=	gtksourceview-3.0    3.0      # .0.0
d25 1
a25 1
WANTLIB += graphite2 gthread-2.0 gtk-3 harfbuzz
@


1.44
log
@update to gtksourceview-3.14.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2014/10/15 10:08:16 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.2
@


1.43
log
@update to gtksourceview3-3.14.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2014/10/05 12:44:43 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.1
d28 1
a28 1
WANTLIB += xml2 z
@


1.42
log
@update to gtksourceview-3.14.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2014/08/21 08:18:58 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.0
@


1.41
log
@update to gtksourceview3-3.12.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2014/05/12 12:48:13 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.12.3
d9 1
a9 1
SHARED_LIBS +=	gtksourceview-3.0    2.0      # .0.0
@


1.40
log
@update to gtksourceview3-3.12.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2014/04/15 07:10:56 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.12.2
@


1.39
log
@update to gtksourceview3-3.12.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2014/04/02 09:36:14 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.12.1
@


1.38
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2014/04/01 18:06:32 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.12.0
@


1.37
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2014/04/01 15:31:47 jasper Exp $
d36 1
a36 1
MODGNOME_TOOLS += 	gobject-introspection
@


1.36
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2014/03/27 12:14:26 jasper Exp $
d36 1
a36 1
MODGNOME_TOOLS= 	gobject-introspection
@


1.35
log
@update to gtksourceview3-3.12.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2014/01/27 17:58:34 jasper Exp $
d36 1
a36 1
MODGNOME_TOOLS= 	gi
@


1.34
log
@update to gtksourceview3-3.10.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/10/21 15:25:11 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.10.2
d9 1
a9 1
SHARED_LIBS +=	gtksourceview-3.0    1.0      # .0.0
@


1.33
log
@update to gtksourceview3-3.10.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/09/28 08:50:37 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.10.1
@


1.32
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/09/27 07:38:44 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.10.0
a7 1
REVISION=		0
@


1.31
log
@update to gtksourceview-3.10.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/07/07 18:52:56 jasper Exp $
d8 1
a14 2

HOMEPAGE=		http://projects.gnome.org/gtksourceview/
@


1.30
log
@update to gtksourceview3-3.8.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/05/31 15:35:14 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.8.2
d9 1
a9 1
SHARED_LIBS +=	gtksourceview-3.0    0.0      # .0.0
@


1.29
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/04/16 13:17:02 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.8.1
a7 1
REVISION=		0
@


1.28
log
@goi -> gi (gnome MODULE change).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/04/15 10:49:25 jasper Exp $
d8 1
d28 2
a29 2
WANTLIB += graphite2 gthread-2.0 gtk-3 harfbuzz icudata icule
WANTLIB += icuuc m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
@


1.27
log
@- update to gtksourceview3-3.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/29 15:59:03 jasper Exp $
d38 1
a38 1
MODGNOME_TOOLS= 	goi
@


1.26
log
@- update to gtksourceview-3.8.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/11 11:46:13 espie Exp $
d6 1
a6 1
GNOME_VERSION=		3.8.0
@


1.25
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/01/26 14:43:51 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.6.3
d23 8
a30 9
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 cairo cairo-gobject
WANTLIB += drm expat ffi fontconfig freetype gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += gtk-3 m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png pthread pthread-stubs stdc++ xcb xcb-render
WANTLIB += xcb-shm xml2 z
WANTLIB += ICE SM atk-bridge-2.0 atspi dbus-1 harfbuzz icudata
WANTLIB += icule icuuc
@


1.24
log
@- update to gtksourceview-3.6.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/01/22 21:22:00 jasper Exp $
a21 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d43 1
a43 1
REGRESS_IS_INTERACTIVE=	x11
@


1.23
log
@- update to gtksourceview-3.6.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/11/04 16:41:14 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.6.2
@


1.22
log
@- update to gtksourceview-3.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/09/27 07:45:34 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.6.1
@


1.21
log
@- update to gtksourceview-3.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/09/09 17:48:02 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.6.0
@


1.20
log
@Explicitely patch for DATADIRNAME; the hack from the gnome MODULE will
be removed soon.

thanks to jasper@@ for all the boring bulk break reports...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/05/15 11:23:37 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.4.2
a7 1
REVISION=		0
d33 2
@


1.19
log
@- update to 3.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/04/16 13:23:08 jasper Exp $
d8 1
d32 2
a33 2
WANTLIB += pixman-1 png pthread-stubs stdc++ xcb xcb-render xcb-shm
WANTLIB += xml2 z
@


1.18
log
@- update to 3.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/03/29 06:54:47 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.4.1
@


1.17
log
@Update to gtksourceview3-3.4.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/11/01 19:04:12 jasper Exp $
d3 1
a3 1
COMMENT=		text widget that extends GTK3's GtkTextView widget
d6 1
a6 1
GNOME_VERSION=		3.4.0
@


1.16
log
@- bugfix update to 3.2.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/10/16 12:08:43 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.2.3
a25 3
MODULES=		devel/gettext \
			x11/gnome

d28 1
a28 1
WANTLIB += drm expat fontconfig freetype gdk-3 gdk_pixbuf-2.0
d31 5
a35 2
WANTLIB += pixman-1 png pthread-stubs xcb xcb-render xcb-shm xml2
WANTLIB += z ffi
a36 1
BUILD_DEPENDS=		textproc/gsed
@


1.15
log
@Bugfix update to gtksourceview 3.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/10/09 15:16:27 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.2.2
@


1.14
log
@Bugfix update to gtksourceview3-3.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/09/28 09:51:37 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.2.1
d35 1
a35 1
WANTLIB += z kvm ffi
@


1.13
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/26 19:56:28 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.2.0
@


1.12
log
@- update to 3.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/09/20 21:10:01 jasper Exp $
a43 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.11
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/20 20:52:47 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.0.5
a7 1
REVISION=	0
d35 1
a35 1
WANTLIB += z
@


1.10
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/16 12:29:15 espie Exp $
a44 1
CONFIGURE_ARGS=		${CONFIGURE_SHARED}
@


1.9
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/09/12 12:07:26 jasper Exp $
d38 1
a38 2
BUILD_DEPENDS=		devel/gobject-introspection \
			textproc/gsed
d42 2
d45 1
a45 3
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--disable-gtk-doc \
			--enable-introspection
@


1.8
log
@switch the rest of the ports using gnome.port.mk over to .tar.xz where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/07/01 11:16:40 jasper Exp $
d8 1
@


1.7
log
@- bugfix update to 3.0.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/06/19 20:26:59 ajacoutot Exp $
a27 2

EXTRACT_SUFX=		.tar.xz
@


1.6
log
@Bugfix update to gtksourceview3-3.0.4.
* Improvement in oblivion style
* Updated translations
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/05/25 15:39:46 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.0.4
d28 2
@


1.5
log
@- update to gtksourceview3-3.0.3
* bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/04/26 18:18:37 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.0.3
@


1.4
log
@- update to 3.0.1
* various bugfixes and new languages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/04/26 13:09:07 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.0.1
@


1.3
log
@No need for the itlocaledir tweak anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/04/13 08:30:16 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.0.0
@


1.2
log
@tweak
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/04/13 07:26:03 jasper Exp $
a47 2

FAKE_FLAGS=		itlocaledir=${PREFIX}/share/locale/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a4 1
MAJOR_VERSION=		3.0
d12 1
@


1.1.1.1
log
@import gtksourceview3 (needed for GNOME 3 and can co-exist with gtksourceview2)

GtkSourceView is a text widget that extends the standard gtk+ 3.x text
widget GtkTextView. It improves GtkTextView by implementing syntax
highlighting and other features typical of a source editor.

ok aja@@
@
text
@@
