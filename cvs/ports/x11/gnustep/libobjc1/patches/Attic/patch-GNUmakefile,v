head	1.2;
access;
symbols
	OPENBSD_5_6:1.1.1.1.0.14
	OPENBSD_5_6_BASE:1.1.1.1
	OPENBSD_5_5:1.1.1.1.0.12
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.10
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.8
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.6
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.4
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	sebastia_20110628:1.1.1.1
	sebastia:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2015.01.19.12.02.30;	author sebastia;	state dead;
branches;
next	1.1;
commitid	UUmq5BXFYwkXBft8;

1.1
date	2011.06.28.16.06.20;	author sebastia;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.06.28.16.06.20;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Remove libobjc1, was intended for sparc, but never got used.
@
text
@$OpenBSD: patch-GNUmakefile,v 1.1 2011/06/28 16:06:20 sebastia Exp $

Allow switching the name of the library

--- GNUmakefile.orig	Tue May  8 05:41:50 2007
+++ GNUmakefile	Sat Jun 25 18:50:38 2011
@@@@ -75,14 +75,14 @@@@ GC_HEADER_FILES = \
 	gc_typed.h	\
 	weakpointer.h	\
 
-libobjc_HEADER_FILES = \
+${CLIBRARY_NAME}_HEADER_FILES = \
 	hash.h objc-list.h sarray.h \
 	objc.h objc-api.h objc-decls.h \
 	NXConstStr.h Object.h \
 	Protocol.h encoding.h typedstream.h \
 	thr.h
 
-libobjc_OBJC_FILES = \
+${CLIBRARY_NAME}_OBJC_FILES = \
 	Object.m	\
 	Protocol.m	\
 	linking.m
@@@@ -93,7 +93,7 @@@@ else
   extra_C_FILES=
 endif
 
-libobjc_C_FILES = \
+${CLIBRARY_NAME}_C_FILES = \
 	archive.c		\
 	class.c			\
 	encoding.c		\
@@@@ -121,10 +121,10 @@@@ CC1OBJ = `$(CC) -print-prog-name=cc1obj`
 
 ADDITIONAL_CFLAGS += -Wall
 
-libobjc_HEADER_FILES_DIR         = objc
-libobjc_HEADER_FILES_INSTALL_DIR = objc
+${CLIBRARY_NAME}_HEADER_FILES_DIR         = objc
+${CLIBRARY_NAME}_HEADER_FILES_INSTALL_DIR = objc
 
-libobjc_DLL_DEF = libobjc.def
+${CLIBRARY_NAME}_DLL_DEF = libobjc.def
 
 ifeq ($(THREADING), single)
 ADDITIONAL_CPPFLAGS += -DOBJC_WITHOUT_THREADING
@@@@ -133,7 +133,7 @@@@ endif
 ifeq ($(gc), yes)
 ADDITIONAL_CPPFLAGS     += -DOBJC_WITH_GC=1 -DGC_DEBUG=1
 ADDITIONAL_CPPFLAGS     += -DDEBUG_OBJC_GC=0
-libobjc_LIBRARIES_DEPEND_UPON += -lgc
+${CLIBRARY_NAME}_LIBRARIES_DEPEND_UPON += -lgc
 
 ifeq ($(THREADING), solaris)
 ADDITIONAL_CPPFLAGS += -DSOLARIS_THREADS
@@@@ -176,7 +176,7 @@@@ after-install::
 	for file in $(GC_HEADER_FILES) __done; do \
 	  if [ $$file != __done ]; then \
 	    $(INSTALL_DATA) $(GC_HEADER_FILES_DIR)/$$file \
-	    $(GNUSTEP_HEADERS)$(libobjc_HEADER_FILES_INSTALL_DIR)/$$file ; \
+	    $(GNUSTEP_HEADERS)$(${CLIBRARY_NAME}_HEADER_FILES_INSTALL_DIR)/$$file ; \
 	  fi; \
 	done;
 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Import the "traditional" GNUstep Objective-C runtime:

The GNUstep Objective-C runtime is designed as a drop-in replacement for the
GCC runtime.

This version of the runtime is needed to get GNUstep ports working fine on sparc.
Not yet hooked up to the build. To make use of it, it needs an update for gnustep-make, and a bump on all dependent ports.
Waiting for gnustep-base update, which should arrive soon, to do all those things at the same time.

OK landry@@


@
text
@@
