head	1.4;
access;
symbols
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.4
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2016.06.23.20.59.45;	author sebastia;	state dead;
branches;
next	1.3;
commitid	1T2LOFtAuSEXKPHx;

1.3
date	2015.05.28.18.38.53;	author sebastia;	state Exp;
branches;
next	1.2;
commitid	6FwZPtEbthDsquBu;

1.2
date	2012.07.08.13.37.08;	author sebastia;	state dead;
branches;
next	1.1;

1.1
date	2011.06.24.10.51.48;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to 0.25.0, noteworthy changes:

Implement per gstate methods for antialias, patternPhase and
compositingOperation in Cairo backend.

Work on antialiasing in Cairo backend.

Variety of bugfixes, especially in Win32 and Cairo backends.
@
text
@$OpenBSD: patch-Source_cairo_CairoGState_m,v 1.3 2015/05/28 18:38:53 sebastia Exp $

upstream svn: 38554

--- Source/cairo/CairoGState.m.orig	Fri May 22 09:52:25 2015
+++ Source/cairo/CairoGState.m	Fri May 22 09:54:00 2015
@@@@ -849,8 +849,8 @@@@ static inline CGFloat floatToUserSpace(NSAffineTransfo
   r = [ctm rectInMatrixSpace: r];
   x = NSWidth(r);
   y = NSHeight(r);
-  ix = abs(floor(x));
-  iy = abs(floor(y));
+  ix = fabs(floor(x));
+  iy = fabs(floor(y));
   ssize = NSMakeSize(ix, iy);
 
   dict = [NSMutableDictionary dictionary];
@


1.3
log
@Maintenance release to 0.24.1
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@Update gnustep-back to 0.22.0
get rid of a couple of patches
@
text
@d1 1
a1 1
$OpenBSD: patch-Source_cairo_CairoGState_m,v 1.1 2011/06/24 10:51:48 sebastia Exp $
d3 1
a3 1
fix to build with gcc-2.95
d5 11
a15 9
--- Source/cairo/CairoGState.m.orig	Mon Jun 20 09:24:13 2011
+++ Source/cairo/CairoGState.m	Mon Jun 20 09:37:17 2011
@@@@ -417,8 +417,8 @@@@ static float floatToUserSpace(NSAffineTransform *ctm, 
 {
   if (_ct)
     {
-      GS_BEGINITEMBUF(chars, length + 1, char);
       device_color_t c;
+      GS_BEGINITEMBUF(chars, length + 1, char);
d17 1
a17 15
       c = strokeColor;
       gsColorToRGB(&c);
@@@@ -599,9 +599,10 @@@@ static float floatToUserSpace(NSAffineTransform *ctm, 
 {
   if (_ct)
     {
-      GS_BEGINITEMBUF(dpat, size, double);
-      double doffset = (double)floatFromUserSpace(ctm, foffset);
+      double doffset;
       int i;
+      GS_BEGINITEMBUF(dpat, size, double);
+      doffset = (double)floatFromUserSpace(ctm, foffset);
 
       i = size;
       while (i)
@


1.1
log
@Fix to build with gcc-2.95

feedback from landry@@, jasper@@, sthen@@
OK sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
@

