head	1.27;
access;
symbols
	OPENBSD_6_2:1.27.0.2
	OPENBSD_6_2_BASE:1.27
	OPENBSD_6_1:1.24.0.4
	OPENBSD_6_1_BASE:1.24
	OPENBSD_6_0:1.24.0.2
	OPENBSD_6_0_BASE:1.24
	OPENBSD_5_9:1.22.0.2
	OPENBSD_5_9_BASE:1.22
	OPENBSD_5_8:1.21.0.6
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.21.0.2
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.19.0.2
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.18.0.2
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.16.0.2
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.15.0.2
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.4
	OPENBSD_5_0:1.14.0.2
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.4.0.8
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.6
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.4
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	ajacoutot_20070729:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2017.09.10.20.27.45;	author sebastia;	state Exp;
branches;
next	1.26;
commitid	MOHOJSKb7s9CcMXw;

1.26
date	2017.07.27.11.01.33;	author sthen;	state Exp;
branches;
next	1.25;
commitid	00NY8EKxRV5VulAq;

1.25
date	2017.04.22.22.28.48;	author nigel;	state Exp;
branches;
next	1.24;
commitid	C9cX3sUHFcooJOM0;

1.24
date	2016.06.03.11.57.57;	author sebastia;	state Exp;
branches;
next	1.23;
commitid	CbrwYXQRnCpA568H;

1.23
date	2016.03.05.16.04.08;	author pascal;	state Exp;
branches;
next	1.22;
commitid	EJSWd5DpdfEFGBlM;

1.22
date	2015.10.26.11.53.14;	author sebastia;	state Exp;
branches;
next	1.21;
commitid	8SlQsiN4RMOVHG0B;

1.21
date	2014.11.21.18.21.21;	author sebastia;	state Exp;
branches;
next	1.20;
commitid	JgRcMcc8jVuhOKjw;

1.20
date	2014.11.04.14.25.29;	author sebastia;	state Exp;
branches;
next	1.19;
commitid	e2G1LU6DFvpfVSOE;

1.19
date	2014.05.22.09.48.56;	author sebastia;	state Exp;
branches;
next	1.18;

1.18
date	2013.10.19.13.24.59;	author sebastia;	state Exp;
branches;
next	1.17;

1.17
date	2013.04.25.16.40.11;	author sebastia;	state Exp;
branches;
next	1.16;

1.16
date	2012.08.22.07.15.52;	author sebastia;	state Exp;
branches;
next	1.15;

1.15
date	2012.07.08.14.15.11;	author sebastia;	state Exp;
branches;
next	1.14;

1.14
date	2011.06.24.10.53.18;	author sebastia;	state Exp;
branches;
next	1.13;

1.13
date	2011.05.15.13.03.26;	author sebastia;	state Exp;
branches;
next	1.12;

1.12
date	2011.04.18.12.21.25;	author sebastia;	state Exp;
branches;
next	1.11;

1.11
date	2010.12.22.09.20.00;	author sebastia;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.22.08.36.59;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.10.26.12.39.10;	author sebastia;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.24.13.03.22;	author sebastia;	state Exp;
branches;
next	1.7;

1.7
date	2010.07.30.11.29.44;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2010.07.30.06.58.58;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.07.05.07.52.02;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.06.23.11.00.46;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.05.16.17.35.39;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2007.12.10.16.23.17;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2007.07.29.14.36.36;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.07.29.14.36.36;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.27
log
@Minor bugfix update to 1.2.3, update HOMEPAGE and MASTER_SITES
@
text
@# $OpenBSD: Makefile,v 1.26 2017/07/27 11:01:33 sthen Exp $

COMMENT=	GNUstep mail application

DISTNAME =	GNUMail-1.2.3
SHLIB_VERSION =	2.1
SHARED_LIBS =	GNUMail ${SHLIB_VERSION}
CATEGORIES=	mail

HOMEPAGE=	https://savannah.nongnu.org/projects/gnustep-nonfsf/

WANTLIB +=	crypto ssl AddressView Addresses Pantomime
WANTLIB += ${COMPILER_LIBCXX}

MASTER_SITES=	https://download.savannah.nongnu.org/releases/gnustep-nonfsf/

MODULES=	x11/gnustep
LIB_DEPENDS=	x11/gnustep/addresses \
		x11/gnustep/pantomime>=1.2.2

MAKE_ENV+=	GNUMail_INTERFACE_VERSION=${LIBGNUMail_VERSION}

BUNDLES=	Account Advanced Clock Colors Compose Emoticon Fonts \
		Filtering Face Import MIME PGP Receiving Sending Viewing

SUBST_VARS +=	SHLIB_VERSION

.include <bsd.port.mk>
@


1.26
log
@bump REVISION on gnustep ports where libestdc++ has been removed due to
switching to clang in base.

add COMPILER_LIBCXX where c++abi is used. there will be some "Extra"s but
this is the simplest way to use c++abi on base=clang and estdc++ on base=gcc
arches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2017/04/22 22:28:48 nigel Exp $
d5 1
a5 2
DISTNAME =	GNUMail-1.2.2
REVISION =	5
d10 1
a10 1
HOMEPAGE=	http://www.collaboration-world.com/gnumail
d15 1
a15 1
MASTER_SITES=	http://download.gna.org/gnustep-nonfsf/
@


1.25
log
@Bump revision after gnustep update
ok sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2016/06/03 11:57:57 sebastia Exp $
d6 1
a6 1
REVISION =	4
d14 1
@


1.24
log
@Bump after gnustep make/base update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2016/03/05 16:04:08 pascal Exp $
d6 1
a6 1
REVISION =	3
@


1.23
log
@Bump REVISION for lang/clang MODULE changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/10/26 11:53:14 sebastia Exp $
d6 1
a6 1
REVISION =	2
@


1.22
log
@Add OBJCFLAGS=-fgnustep-runtime to gnustep.port.mk CONFIGURE_ENV
and MAKE_FLAGS for clang build platforms, and bump all ports for that.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/11/21 18:21:21 sebastia Exp $
d6 1
a6 1
REVISION =	1
@


1.21
log
@adapt/simplify gnustep.port.mk after gnustep-base update, bump REVISION
of all dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/11/04 14:25:29 sebastia Exp $
d6 1
a6 1
REVISION =	0
@


1.20
log
@update to 1.2.2, many bugs fixes and stability improvements,
but still flaky, but got a lot better.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/05/22 09:48:56 sebastia Exp $
d6 1
@


1.19
log
@overhaul gnustep.port.mk with regard to fix WANTLIBS and LIB_DEPENDS of
dependent ports, so that port-lib-depends-check is happy with all of them.
Also make portcheck happy too.

feedback and OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/10/19 13:24:59 sebastia Exp $
d5 3
a7 3
DISTNAME=	GNUMail-1.2.0pre3
REVISION =	14
SHARED_LIBS=	GNUMail 2.0	# .1.2
d12 1
a12 1
WANTLIB +=	AddressView Addresses Pantomime
d14 1
a14 1
MASTER_SITES=	${HOMEPAGE}.data/releases/Stable/
d18 1
a18 1
		x11/gnustep/pantomime
a21 2
WRKDIST=	${WRKDIR}/GNUMail

d25 1
a25 10
post-extract:
	@@rm ${WRKSRC}/Framework/GNUMail/MailWindowController.m.orig
	perl -pi -e 's/\x0d/\x0a/g' ${WRKSRC}/Framework/GNUMail/EditWindowToolbar.m \
				${WRKSRC}/Framework/GNUMail/MailboxManagerToolbar.m

pre-configure:
.for i in ${BUNDLES}
	@@perl -pi -e 's,^BUNDLE_INSTALL_DIR.*,BUNDLE_INSTALL_DIR=\$$(GNUSTEP_APPLICATION_SUPPORT)/GNUMail,g' \
		${WRKSRC}/Bundles/${i}/GNUmakefile
.endfor
@


1.18
log
@build gnustep related packages on amd64 and i386 with clang,
macppc still stays on using gcc due to too many problems there.
On amd64 and i386 now use the non-fragile-abi.

Now that allows on amd64 and i386 to use newer objective-c 2.0
features.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/04/25 16:40:11 sebastia Exp $
d6 1
a6 1
REVISION =	13
d12 1
a12 1
WANTLIB+=	c m pthread AddressView Addresses Pantomime
@


1.17
log
@bump after gnustep update
as pointed out from Landry, while there, regen PLIST and update distinfo

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/08/22 07:15:52 sebastia Exp $
d6 1
a6 1
REVISION =	12
@


1.16
log
@Since we now have libobjc2, tweak gnustep-make to build/link against it.
gnustep-base doesn't need to install the compatibility layer anymore,
which requires a major lib bump.
Bump revision of all dependent packages, and remove double REVISION
in webservices

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/07/08 14:15:11 sebastia Exp $
d6 1
a6 1
REVISION =	11
@


1.15
log
@Bump revisions after gnustep-base update
regen patches for gnustep-examples
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/06/24 10:53:18 sebastia Exp $
d6 1
a6 1
REVISION =	10
@


1.14
log
@Fix to build with gcc-2.95

feedback from landry@@, jasper@@, sthen@@
OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/05/15 13:03:26 sebastia Exp $
d6 1
a6 1
REVISION =	9
@


1.13
log
@use PKGNAME ?= ${DISTNAME:L} in Makefile.inc, and remove it from the gnustep ports that use it.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/04/18 12:21:25 sebastia Exp $
d6 1
a6 1
REVISION =	8
d29 2
@


1.12
log
@bump, cleanup makefile, get rid of some patches, new files in PLIST because of
framework

OK landry@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/12/22 09:20:00 sebastia Exp $
a5 1
PKGNAME=	${DISTNAME:L}
@


1.11
log
@Switch naming of binary files in GNUstep bundles, to conform more with upstream.
Reorder WANTLIB in gnustep.port.mk, now do not include WANTLIB when only depending on gnustep-base.
Update/bump all gnustep ports that install bundles.

kind of a agree, landry@@, OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/22 08:36:59 espie Exp $
d7 1
a7 1
REVISION=	7
a31 3
	@@perl -pi -e 's,^GNUMAIL_MAJOR_VERSION=.*,GNUMAIL_MAJOR_VERSION=${LIBGNUMail_VERSION:R},g;' \
		-e 's,^GNUMAIL_MINOR_VERSION=.*,GNUMAIL_MINOR_VERSION=${LIBGNUMail_VERSION:E},g' \
		${WRKSRC}/Framework/GNUMail/GNUmakefile
@


1.10
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/10/26 12:39:10 sebastia Exp $
d7 1
a7 1
REVISION=	6
@


1.9
log
@* Update the gnustep.port.mk file, to have some standard WANTLIBS and LIB/RUN depends added for the GUI based apps.
* Bump package versions for ports depending on gnustep-back.
* Fix PLIST for gnumail, after library bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/24 13:03:22 sebastia Exp $
d18 2
a19 2
LIB_DEPENDS=	::x11/gnustep/addresses \
		::x11/gnustep/pantomime
@


1.8
log
@Fix some buttons in the interface, and some patches from Debian to fix some
problems in the PGP Bundle.

OK ajacoutot@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/07/30 11:29:44 ajacoutot Exp $
d7 1
a7 1
REVISION=	5
d13 1
a13 2
WANTLIB += c gnustep-base gnustep-gui m objc pthread AddressView
WANTLIB += Addresses Pantomime
a18 1
		::x11/gnustep/addresses \
a19 1
RUN_DEPENDS=	:gnustep-back-*:x11/gnustep/back
@


1.7
log
@New style DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/07/30 06:58:58 ajacoutot Exp $
d7 2
a8 2
REVISION=	4
SHARED_LIBS=	GNUMail 1.2	# .1.2
@


1.6
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/07/05 07:52:02 ajacoutot Exp $
d7 1
a7 1
REVISION=	3
d13 2
a14 1
WANTLIB=	c gnustep-base gnustep-gui m objc pthread
d19 3
a21 3
LIB_DEPENDS=	AddressView::x11/gnustep/addresses \
		Addresses::x11/gnustep/addresses \
		Pantomime.>=1::x11/gnustep/pantomime
@


1.5
log
@Give GNUstep maintainership to sebastia@@ as I don't really use this anymore
while he does.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/06/23 11:00:46 ajacoutot Exp $
d6 2
a7 1
PKGNAME=	${DISTNAME:L}p3
@


1.4
log
@- regen PLIST
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/05/16 17:35:39 naddy Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME:L}p2
@


1.3
log
@bump packages after relative symlink changes from gnustep-make 2.0.5 update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/12/10 16:23:17 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME:L}p1
@


1.2
log
@- bump after gnustep-make update (changes gnustep.plist)
- regen PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/07/29 14:36:36 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME:L}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
PKGNAME=	${DISTNAME:L}
@


1.1.1.1
log
@Import gnumail-1.2.0pre3

GNUMail is a fully featured mail application.
It uses the GNUstep development framework or Apple Cocoa, which is based
on the OpenStep specification provided by NeXT, Inc.
GNUMail was written from scratch. It uses Pantomime as its mail handling
framework.
@
text
@@
