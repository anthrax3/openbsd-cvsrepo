head	1.33;
access;
symbols
	OPENBSD_6_0:1.30.0.2
	OPENBSD_6_0_BASE:1.30
	OPENBSD_5_9:1.28.0.2
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.27.0.6
	OPENBSD_5_8_BASE:1.27
	OPENBSD_5_7:1.27.0.2
	OPENBSD_5_7_BASE:1.27
	OPENBSD_5_6:1.24.0.2
	OPENBSD_5_6_BASE:1.24
	OPENBSD_5_5:1.23.0.2
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.22.0.2
	OPENBSD_5_4_BASE:1.22
	OPENBSD_5_3:1.20.0.2
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.19.0.2
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.2
	OPENBSD_5_0:1.15.0.2
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.6.0.2
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	ajacoutot_20070905:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.33
date	2016.09.23.09.16.58;	author sthen;	state Exp;
branches;
next	1.32;
commitid	XLnI6AbHAmyVU5mO;

1.32
date	2016.09.01.20.51.23;	author sebastia;	state Exp;
branches;
next	1.31;
commitid	3RzbrZld0XcOV4qx;

1.31
date	2016.08.30.09.53.27;	author jasper;	state Exp;
branches;
next	1.30;
commitid	e98k9qJ46jCsoUKm;

1.30
date	2016.06.03.11.57.57;	author sebastia;	state Exp;
branches;
next	1.29;
commitid	CbrwYXQRnCpA568H;

1.29
date	2016.03.05.16.04.08;	author pascal;	state Exp;
branches;
next	1.28;
commitid	EJSWd5DpdfEFGBlM;

1.28
date	2015.10.26.11.53.15;	author sebastia;	state Exp;
branches;
next	1.27;
commitid	8SlQsiN4RMOVHG0B;

1.27
date	2015.01.25.12.09.51;	author sebastia;	state Exp;
branches;
next	1.26;
commitid	6jt83akOYUCDp13o;

1.26
date	2015.01.02.11.31.49;	author sebastia;	state Exp;
branches;
next	1.25;
commitid	mr7bnNTLMrN57RXO;

1.25
date	2014.11.21.18.21.22;	author sebastia;	state Exp;
branches;
next	1.24;
commitid	JgRcMcc8jVuhOKjw;

1.24
date	2014.05.22.09.48.56;	author sebastia;	state Exp;
branches;
next	1.23;

1.23
date	2013.10.19.13.25.00;	author sebastia;	state Exp;
branches;
next	1.22;

1.22
date	2013.04.25.16.31.57;	author sebastia;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.21.08.48.56;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2012.08.22.07.15.52;	author sebastia;	state Exp;
branches;
next	1.19;

1.19
date	2012.07.08.13.47.15;	author sebastia;	state Exp;
branches;
next	1.18;

1.18
date	2012.04.23.17.15.19;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2011.10.15.08.10.47;	author sebastia;	state Exp;
branches;
next	1.16;

1.16
date	2011.09.16.12.29.15;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2011.06.24.10.54.51;	author sebastia;	state Exp;
branches;
next	1.14;

1.14
date	2011.05.18.13.08.25;	author sebastia;	state Exp;
branches;
next	1.13;

1.13
date	2011.04.18.12.33.04;	author sebastia;	state Exp;
branches;
next	1.12;

1.12
date	2011.01.14.13.07.13;	author sebastia;	state Exp;
branches;
next	1.11;

1.11
date	2011.01.10.18.28.01;	author sebastia;	state Exp;
branches;
next	1.10;

1.10
date	2011.01.03.14.23.42;	author sebastia;	state Exp;
branches;
next	1.9;

1.9
date	2010.12.22.09.20.00;	author sebastia;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.26.12.39.10;	author sebastia;	state Exp;
branches;
next	1.7;

1.7
date	2010.10.24.21.15.32;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2010.07.30.11.29.44;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.07.30.06.58.58;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2010.07.05.07.52.02;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2010.07.01.21.04.19;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.10.03.07.58.13;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.09.05.12.28.02;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.09.05.12.28.02;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.33
log
@Cope with moving sqlite3 back to ports.
@
text
@# $OpenBSD: Makefile,v 1.32 2016/09/01 20:51:23 sebastia Exp $

COMMENT=	GNUstep workspace manager

DISTNAME =	gworkspace-0.9.4
REVISION =	0

CATEGORIES=	x11

SO_VERSION=	0.0
.for _lib in DBKit FSNode Inspector Operation MDKit
SHARED_LIBS+=	${_lib} ${SO_VERSION}
.endfor

HOMEPAGE=	http://www.gnustep.org/experience/GWorkspace.html

MASTER_SITES=	${MASTER_SITE_GNUSTEP:=usr-apps/}

MODULES=	x11/gnustep
WANTLIB +=	sqlite3 PreferencePanes
LIB_DEPENDS +=	databases/sqlite3 \
		x11/gnustep/systempreferences

CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS +=	--enable-gwmetadata
CONFIGURE_ENV += GNUSTEP_MAKEFILES=`gnustep-config --variable=GNUSTEP_MAKEFILES`

# XXX libDBKit does not use XXX_INTERFACE_VERSION
# drawback: all solibs will get version from LIBDBKit_VERSION
MAKE_FLAGS+=	INTERFACE_VERSION=${LIBDBKit_VERSION}

MAKE_ENV+=	FSNode_VERSION=${LIBFSNode_VERSION} \
		FSNode_INTERFACE_VERSION=${LIBFSNode_VERSION} \
		Inspector_VERSION=${LIBInspector_VERSION} \
		Inspector_INTERFACE_VERSION=${LIBInspector_VERSION} \
		Operation_VERSION=${LIBOperation_VERSION} \
		Operation_INTERFACE_VERSION=${LIBOperation_VERSION}

APP_WRAPPERS +=	ImageMagick LibreOffice LyX abiword bluefish coccinella
APP_WRAPPERS +=	firefox gedit gimp gnumeric nedit opennx qlandkartegt seamonkey
APP_WRAPPERS +=	spdrs60 xchat xfig xpdf xtrkcad xv

post-install:
.for _app in ${APP_WRAPPERS}
	cp -r ${WRKSRC}/Apps_wrappers/${_app}.app ${PREFIX}/libexec/GNUstep
.endfor

.include <bsd.port.mk>
@


1.32
log
@Update to 0.9.4

A couple of enhancements and bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2016/08/30 09:53:27 jasper Exp $
d6 1
d21 2
a22 1
LIB_DEPENDS +=		x11/gnustep/systempreferences
@


1.31
log
@remove xmms app wrapper for xmms will be pining for the fjords soon
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/06/03 11:57:57 sebastia Exp $
d5 1
a5 2
REVISION =	4
DISTNAME =	gworkspace-0.9.3
@


1.30
log
@Bump after gnustep make/base update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/03/05 16:04:08 pascal Exp $
d5 1
a5 1
REVISION =	3
d40 1
a40 1
APP_WRAPPERS +=	spdrs60 xchat xfig xmms xpdf xtrkcad xv
@


1.29
log
@Bump REVISION for lang/clang MODULE changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/10/26 11:53:15 sebastia Exp $
d5 1
a5 1
REVISION =	2
@


1.28
log
@Add OBJCFLAGS=-fgnustep-runtime to gnustep.port.mk CONFIGURE_ENV
and MAKE_FLAGS for clang build platforms, and bump all ports for that.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/01/25 12:09:51 sebastia Exp $
d5 1
a5 1
REVISION =	1
@


1.27
log
@Install the application wrapper for Gimp.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/01/02 11:31:49 sebastia Exp $
d5 1
a6 1
REVISION =	0
@


1.26
log
@Update to 0.9.3
Besides some stability improvements and other bug fixes,
no need for autoconf anymore.
Additionally install a bunch of useful application wrappers
for non-GNUstep applications.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/11/21 18:21:22 sebastia Exp $
d6 1
d39 1
a39 1
APP_WRAPPERS +=	firefox gedit gnumeric nedit opennx qlandkartegt seamonkey
@


1.25
log
@adapt/simplify gnustep.port.mk after gnustep-base update, bump REVISION
of all dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/05/22 09:48:56 sebastia Exp $
d5 1
a5 2
DISTNAME =	gworkspace-0.9.2
REVISION =	2
a19 1
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS}
a21 2
AUTOCONF_VERSION =	2.52

d37 8
a44 2
pre-configure:
	cd ${WRKSRC} && rm GWorkspace/Resources/Spanish.lproj/Localizable.strings~
@


1.24
log
@overhaul gnustep.port.mk with regard to fix WANTLIBS and LIB_DEPENDS of
dependent ports, so that port-lib-depends-check is happy with all of them.
Also make portcheck happy too.

feedback and OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/10/19 13:25:00 sebastia Exp $
d6 1
a6 1
REVISION =	1
@


1.23
log
@build gnustep related packages on amd64 and i386 with clang,
macppc still stays on using gcc due to too many problems there.
On amd64 and i386 now use the non-fragile-abi.

Now that allows on amd64 and i386 to use newer objective-c 2.0
features.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/04/25 16:31:57 sebastia Exp $
d6 1
a6 1
REVISION =	0
d20 1
a20 1
WANTLIB +=	c m pthread sqlite3 PreferencePanes
@


1.22
log
@update gworkspace to 0.9.2

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/21 08:48:56 ajacoutot Exp $
d6 1
@


1.21
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/08/22 07:15:52 sebastia Exp $
d5 1
a5 2
DISTNAME =	gworkspace-0.9.1
REVISION =	0
d41 1
a41 4
	cp ${FILESDIR}/MDFinder_GNUmakefile ${WRKSRC}/GWMetadata/MDFinder/GNUmakefile
	cp ${FILESDIR}/Preferences_GNUmakefile ${WRKSRC}/GWMetadata/Preferences/GNUmakefile
	cd ${WRKSRC}/GWMetadata/gmds/mdextractor/Extractors/JpegExtractor && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} autoconf
@


1.20
log
@Since we now have libobjc2, tweak gnustep-make to build/link against it.
gnustep-base doesn't need to install the compatibility layer anymore,
which requires a major lib bump.
Bump revision of all dependent packages, and remove double REVISION
in webservices

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/07/08 13:47:15 sebastia Exp $
a23 1
USE_LIBTOOL =		Yes
@


1.19
log
@Update GWorkspace to 0.9.1
Makefile cleanup, and don't depend on pdfkit anymore, which
is marked broken for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/04/23 17:15:19 espie Exp $
d6 1
@


1.18
log
@first pass at handling sqlite3 move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/10/15 08:10:47 sebastia Exp $
d5 1
a5 2
DISTNAME =	gworkspace-0.9.0
REVISION =	0
d19 1
a19 1
WANTLIB +=	c m pthread freetype PDFKit sqlite3 PreferencePanes
d21 1
a21 2
LIB_DEPENDS +=		x11/gnustep/pdfkit \
			x11/gnustep/systempreferences
d28 1
a28 3
CONFIGURE_ENV += GNUSTEP_MAKEFILES=`gnustep-config --variable=GNUSTEP_MAKEFILES` \
		GNUSTEP_SYSTEM_HEADERS=${LOCALBASE}/include \
		LDFLAGS=-L${X11BASE}/lib
d32 1
a32 2
MAKE_FLAGS+=	INTERFACE_VERSION=${LIBDBKit_VERSION} \
		LDFLAGS="-L${X11BASE}/lib -lfreetype"
d39 1
a39 4
		Operation_INTERFACE_VERSION=${LIBOperation_VERSION} \
		ADDITIONAL_LIB_DIRS="-L../../DBKit/obj/ \
			-L../../../FSNode/FSNode.framework/Versions/Current/ \
			-L../../../DBKit/obj/"
a45 4

post-install:
	${INSTALL_DATA} ${WRKSRC}/Inspector/ContentViewersProtocol.h \
		${PREFIX}/lib/GNUstep/Frameworks/Inspector.framework/Versions/${SO_VERSION}/Headers/
@


1.17
log
@update GWorkspace to 0.9.0

Changes in version 0.9.0
=========================

Enhancements / new features
* Customized icons for special folders (Desktop, Images, Music, Documents, System, Library)
* default font size instead of fixed 12 points
* re-enabled sound playing in content inspector
* webloc file handling

Fixes
* Extensive drag-operation fixes
* volume mounting ported to NetBSD, FreeBSD and generally a more robust FSNodeRep
* portability issues fixed (SPARC crashes, HURD constants)
* security fixes
* crash fixes
* updated to work with changes in recent base and gui packages and obj-c runtimes
* draw fixes for recent gui rounding
* build system fixed (GWMetadata)

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/09/16 12:29:15 espie Exp $
d6 1
d22 1
a22 2
LIB_DEPENDS +=		databases/sqlite3 \
			x11/gnustep/pdfkit \
@


1.16
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/06/24 10:54:51 sebastia Exp $
d5 1
a5 2
DISTNAME=	gworkspace-0.8.8
REVISION =	10
@


1.15
log
@Fix to build with gcc-2.95

feedback from landry@@, jasper@@, sthen@@
OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/05/18 13:08:25 sebastia Exp $
d6 1
a6 1
REVISION =	9
@


1.14
log
@Fix LIB_DEPENDS to sqlite3 due to changes in libxslt

OK landry@@, yes please sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/04/18 12:33:04 sebastia Exp $
d6 1
a6 1
REVISION=	8
@


1.13
log
@bump, use full path to find mount in patch, PLIst changes due to framework

OK landry@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/01/14 13:07:13 sebastia Exp $
d6 1
a6 1
REVISION=	7
d20 1
a20 1
WANTLIB=	c m pthread freetype PDFKit sqlite3 PreferencePanes
d22 2
a23 1
LIB_DEPENDS +=		x11/gnustep/pdfkit \
@


1.12
log
@Add missing include paths to fix building, as found by ajacoutot@@
Add missing dependency to automake, as found by landry@@
While there, add patch to make it work that the user can u/mount drives via desktop icon

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/01/10 18:28:01 sebastia Exp $
d6 1
a6 1
REVISION=	6
@


1.11
log
@Enable the MetaData Finder in gworkspace, take the two missing GNUmakefiles from svn.

OK jasper@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/01/03 14:23:42 sebastia Exp $
d6 1
a6 1
REVISION=	5
d21 3
a23 2
LIB_DEPENDS +=	x11/gnustep/pdfkit \
		x11/gnustep/systempreferences
d25 2
a26 1
USE_LIBTOOL=	Yes
d28 1
a28 1
CONFIGURE_STYLE=gnu
d44 4
a47 1
		Operation_INTERFACE_VERSION=${LIBOperation_VERSION}
d53 1
a53 1
		AUTOCONF_VERSION=2.52 autoconf
@


1.10
log
@Now that pdfkit is in the ports tree, GWorkspace should make use of it.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/12/22 09:20:00 sebastia Exp $
d6 1
a6 1
REVISION=	4
d11 1
a11 1
.for _lib in DBKit FSNode Inspector Operation
d20 3
a22 2
WANTLIB=	c m pthread freetype PDFKit
LIB_DEPENDS +=	x11/gnustep/pdfkit
d27 1
d43 6
@


1.9
log
@Switch naming of binary files in GNUstep bundles, to conform more with upstream.
Reorder WANTLIB in gnustep.port.mk, now do not include WANTLIB when only depending on gnustep-base.
Update/bump all gnustep ports that install bundles.

kind of a agree, landry@@, OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/26 12:39:10 sebastia Exp $
d6 1
a6 1
REVISION=	3
d20 2
a21 1
WANTLIB=	c m pthread
d26 3
a28 1
CONFIGURE_ENV=	GNUSTEP_MAKEFILES=`gnustep-config --variable=GNUSTEP_MAKEFILES`
d32 2
a33 1
MAKE_FLAGS+=	INTERFACE_VERSION=${LIBDBKit_VERSION}
@


1.8
log
@* Update the gnustep.port.mk file, to have some standard WANTLIBS and LIB/RUN depends added for the GUI based apps.
* Bump package versions for ports depending on gnustep-back.
* Fix PLIST for gnumail, after library bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/10/24 21:15:32 ajacoutot Exp $
d6 1
a6 1
REVISION=	2
@


1.7
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/07/30 11:29:44 ajacoutot Exp $
d6 1
a6 1
REVISION=	1
a16 2
WANTLIB=	c gnustep-base m objc pthread gnustep-gui

d20 1
a20 3

RUN_DEPENDS=	::x11/gnustep/back
LIB_DEPENDS=	::x11/gnustep/gui
@


1.6
log
@New style DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/07/30 06:58:58 ajacoutot Exp $
a25 1
USE_X11=	Yes
@


1.5
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/07/05 07:52:02 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
d17 1
a17 1
WANTLIB=	c gnustep-base m objc pthread
d24 1
a24 1
LIB_DEPENDS=	gnustep-gui::x11/gnustep/gui
@


1.4
log
@Give GNUstep maintainership to sebastia@@ as I don't really use this anymore
while he does.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/07/01 21:04:19 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.3
log
@Bugfix update to gworkspace-0.8.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/10/03 07:58:13 ajacoutot Exp $
d6 2
@


1.2
log
@- gworkspace-0.8.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/09/05 12:28:02 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	gworkspace-0.8.7
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 2
V=		0.8.6
DISTNAME=	gworkspace-${V}
d13 1
a13 1
HOMEPAGE=	http://gnustep.it/enrico/gworkspace/
d17 1
a17 3
MASTER_SITES=	${HOMEPAGE}

WRKDIST=	${WRKDIR}/GWorkspace-${V}
@


1.1.1.1
log
@Import gworkspace-0.8.6

GWorkspace is a clone of the NeXT workspace manager with some added
features as spatial viewing, an advanced database based search system,
etc.

As for the rest of GNUstep apps under OpenBSD, it is somewhat
experimental.
@
text
@@
