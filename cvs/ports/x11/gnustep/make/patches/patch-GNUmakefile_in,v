head	1.9;
access;
symbols
	OPENBSD_6_1:1.8.0.8
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.6
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.2
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.4
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.7.0.6
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.4
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.6.0.10
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.8
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.6
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.4
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.5.0.4
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.2
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.4.0.6
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.4
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.2
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.3.0.2
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	ajacoutot_20070528:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2017.04.19.21.13.25;	author sebastia;	state Exp;
branches;
next	1.8;
commitid	OCI1m7CcTF2XCQQg;

1.8
date	2015.05.28.18.33.46;	author sebastia;	state Exp;
branches;
next	1.7;
commitid	1pTiG5YtZYd4TE7F;

1.7
date	2014.01.03.18.44.44;	author sebastia;	state Exp;
branches;
next	1.6;

1.6
date	2011.04.18.11.30.47;	author sebastia;	state Exp;
branches;
next	1.5;

1.5
date	2010.06.07.06.28.13;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.12.23.15.25.04;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.05.05.09.31.30;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.01.09.14.18.31;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.29.03.00.34;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.05.29.03.00.34;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Update to 2.7.0, removing support of some since quite some time
deprecated variables, as well as some bug fixes
@
text
@$OpenBSD: patch-GNUmakefile_in,v 1.8 2015/05/28 18:33:46 sebastia Exp $
--- GNUmakefile.in.orig	Tue Apr  4 09:48:33 2017
+++ GNUmakefile.in	Wed Apr 19 10:09:35 2017
@@@@ -101,7 +101,7 @@@@ export GNUSTEP_TARGET_LDIR
 export MAYBE_LIBRARY_COMBO
 
 INSTALL		= @@INSTALL@@
-INSTALL_PROGRAM	= @@INSTALL_PROGRAM@@
+INSTALL_PROGRAM	= @@INSTALL_SCRIPT@@
 INSTALL_DATA	= @@INSTALL_DATA@@
 
 VERTAG = $(subst .,_,$(GNUSTEP_MAKE_VERSION))
@@@@ -201,9 +201,6 @@@@ install: generated-files
 		"$(makedir)/Instance/Shared" \
 		"$(makedir)/Instance/Documentation" \
 		"$(testdir)")
-	$(EC)(echo "Installing GNUstep configuration file in $(GNUSTEP_CONFIG_FILE)"; \
-	 "$(srcdir)/mkinstalldirs" "$(GNUSTEP_CONFIG_FILE_DIR)"; \
-	 $(INSTALL_DATA) $(GNUSTEP_DOT_CONF_FILE) "$(GNUSTEP_CONFIG_FILE)")
 	 $(EC)(echo "Installing gnustep-make support software")
 	 $(EC)(for f in config.guess config.sub install-sh mkinstalldirs \
 		clean_cpu.sh clean_os.sh \
@@@@ -259,19 +256,12 @@@@ install: generated-files
 	  "$(srcdir)/mkinstalldirs" "$(mandir)/man1" \
 	                          "$(mandir)/man7"; \
 	  $(INSTALL_DATA) "$(srcdir)/Documentation/debugapp.1" "$(mandir)/man1"; \
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man1/debugapp.1.gz" && gzip -9 -n "$(mandir)/man1/debugapp.1"; \
 	  $(INSTALL_DATA) "$(srcdir)/Documentation/gnustep-config.1" "$(mandir)/man1"; \
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man1/gnustep-config.1.gz" && gzip -9 -n "$(mandir)/man1/gnustep-config.1"; \
 	  $(INSTALL_DATA) "$(srcdir)/Documentation/gnustep-tests.1" "$(mandir)/man1"; \
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man1/gnustep-tests.1.gz" && gzip -9 -n "$(mandir)/man1/gnustep-tests.1"; \
 	  $(INSTALL_DATA) "$(srcdir)/Documentation/openapp.1" "$(mandir)/man1"; \
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man1/openapp.1.gz" && gzip -9 -n "$(mandir)/man1/openapp.1"; \
 	  $(INSTALL_DATA) "$(srcdir)/Documentation/opentool.1" "$(mandir)/man1"; \
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man1/opentool.1.gz" && gzip -9 -n "$(mandir)/man1/opentool.1"; \
 	  $(INSTALL_DATA) "$(srcdir)/Documentation/GNUstep.7" "$(mandir)/man7"; \
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man7/GNUstep.7.gz" && gzip -9 -n "$(mandir)/man7/GNUstep.7"; \
-	  $(INSTALL_DATA) "$(srcdir)/Documentation/library-combo.7" "$(mandir)/man7"; \
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man7/library-combo.7.gz" && gzip -9 -n "$(mandir)/man7/library-combo.7")
+	  $(INSTALL_DATA) "$(srcdir)/Documentation/library-combo.7" "$(mandir)/man7")
 	$(EC)(if [ "@@GNUSTEP_STRIP_MAKEFILES@@" = "strip" ]; then \
 	   echo "Stripping makefiles and shell scripts..."; \
 	   cd "$(makedir)"; ./strip_makefiles.sh; \
@


1.8
log
@Minor update to 2.6.7
@
text
@d1 4
a4 4
$OpenBSD: patch-GNUmakefile_in,v 1.7 2014/01/03 18:44:44 sebastia Exp $
--- GNUmakefile.in.orig	Tue Jul 29 12:12:46 2014
+++ GNUmakefile.in	Mon May 18 09:03:08 2015
@@@@ -99,7 +99,7 @@@@ export GNUSTEP_TARGET_LDIR
d13 1
a13 9
@@@@ -190,7 +190,6 @@@@ install: generated-files
 	 echo "Creating makefile directories in: $(makedir)"; \
 	 "$(srcdir)/mkinstalldirs" \
 		"$(makedir)" \
-		"$(makedir)/$(GNUSTEP_TARGET_CPU)" \
 		"$(makedir)/$(GNUSTEP_TARGET_DIR)" \
 		"$(makedir)/$(GNUSTEP_TARGET_LDIR)" \
 		"$(makedir)/Additional" \
@@@@ -200,9 +199,6 @@@@ install: generated-files
d23 1
a23 1
@@@@ -258,19 +254,12 @@@@ install: generated-files
d27 1
a27 1
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man1/debugapp.1.gz" && gzip -9 "$(mandir)/man1/debugapp.1"; \
d29 1
a29 1
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man1/gnustep-config.1.gz" && gzip -9 "$(mandir)/man1/gnustep-config.1"; \
d31 1
a31 1
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man1/gnustep-tests.1.gz" && gzip -9 "$(mandir)/man1/gnustep-tests.1"; \
d33 1
a33 1
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man1/openapp.1.gz" && gzip -9 "$(mandir)/man1/openapp.1"; \
d35 1
a35 1
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man1/opentool.1.gz" && gzip -9 "$(mandir)/man1/opentool.1"; \
d37 1
a37 1
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man7/GNUstep.7.gz" && gzip -9 "$(mandir)/man7/GNUstep.7"; \
d39 1
a39 1
-	  which gzip > /dev/null 2>&1 && rm -f "$(mandir)/man7/library-combo.7.gz" && gzip -9 "$(mandir)/man7/library-combo.7")
@


1.7
log
@minor update to 2.6.6
@
text
@d1 3
a3 3
$OpenBSD: patch-GNUmakefile_in,v 1.6 2011/04/18 11:30:47 sebastia Exp $
--- GNUmakefile.in.orig	Fri Sep 20 08:13:15 2013
+++ GNUmakefile.in	Thu Dec 26 00:36:43 2013
d13 1
a13 1
@@@@ -170,7 +170,6 @@@@ install: generated-files
d21 1
a21 1
@@@@ -180,9 +179,6 @@@@ install: generated-files
d31 1
a31 1
@@@@ -238,17 +234,11 @@@@ install: generated-files
d38 2
@


1.6
log
@Update gnustep-make to 2.6.0, enable strict v2 mode, since v1 is ancient.
Further change the way how frameworks are installed, create a couple of more symlinks,
to get rid of a lot of patches for other dependent ports.

OK landry@@, ajacoutot@@
@
text
@d1 3
a3 3
$OpenBSD: patch-GNUmakefile_in,v 1.5 2010/06/07 06:28:13 ajacoutot Exp $
--- GNUmakefile.in.orig	Sun Apr  3 18:10:31 2011
+++ GNUmakefile.in	Sun Apr  3 18:13:14 2011
d31 1
a31 1
@@@@ -237,17 +233,11 @@@@ install: generated-files
@


1.5
log
@Update to gnustep-make-2.4.0 ; from Sebastian Reitenbach.
While here, add a title to README.OpenBSD and use the new -o/-g contruct
for SUBST_CMD.
@
text
@d1 4
a4 4
$OpenBSD: patch-GNUmakefile_in,v 1.4 2008/12/23 15:25:04 ajacoutot Exp $
--- GNUmakefile.in.orig	Fri Feb 12 23:00:05 2010
+++ GNUmakefile.in	Mon Jun  7 08:15:35 2010
@@@@ -98,7 +98,7 @@@@ export GNUSTEP_TARGET_LDIR
d13 1
a13 1
@@@@ -164,7 +164,6 @@@@ install: generated-files
d21 1
a21 2
@@@@ -173,9 +172,6 @@@@ install: generated-files
 		"$(makedir)/Instance" \
d23 2
a24 1
 		"$(makedir)/Instance/Documentation")
d31 1
a31 1
@@@@ -223,17 +219,11 @@@@ install: generated-files
@


1.4
log
@- GNUstep-Make 2.0.7
* New configuration file to set default installation
* gnustep-make now uses the -no-print-directory flag when invoking make
* Change in path checking algorithm in GNUstep.sh and GNUstep.csh
- use SUBST_CMD
@
text
@d1 3
a3 3
$OpenBSD: patch-GNUmakefile_in,v 1.3 2008/05/05 09:31:30 ajacoutot Exp $
--- GNUmakefile.in.orig	Tue Oct 21 16:45:48 2008
+++ GNUmakefile.in	Tue Dec 23 13:47:10 2008
d13 1
a13 1
@@@@ -162,7 +162,6 @@@@ install: generated-files
d21 1
a21 1
@@@@ -171,9 +170,6 @@@@ install: generated-files
d31 1
a31 1
@@@@ -221,17 +217,11 @@@@ install: generated-files
@


1.3
log
@- update to version 2.0.5
@
text
@d1 3
a3 3
$OpenBSD: patch-GNUmakefile_in,v 1.2 2008/01/09 14:18:31 ajacoutot Exp $
--- GNUmakefile.in.orig	Mon May  5 11:09:29 2008
+++ GNUmakefile.in	Mon May  5 11:11:33 2008
d31 1
a31 1
@@@@ -223,17 +219,11 @@@@ install: generated-files
@


1.2
log
@- update to gnustep-make-2.0.4
based on a diff from Sebastian Reitenbach
@
text
@d1 4
a4 4
$OpenBSD: patch-GNUmakefile_in,v 1.1.1.1 2007/05/29 03:00:34 ajacoutot Exp $
--- GNUmakefile.in.orig	Mon Dec 31 03:57:28 2007
+++ GNUmakefile.in	Wed Jan  9 14:55:53 2008
@@@@ -70,7 +70,7 @@@@ export GNUSTEP_TARGET_LDIR
d13 1
a13 1
@@@@ -125,7 +125,6 @@@@ install: generated-files
d21 1
a21 1
@@@@ -134,9 +133,6 @@@@ install: generated-files
d27 1
a27 1
-	 $(INSTALL_DATA) GNUstep.conf "$(GNUSTEP_CONFIG_FILE)")
d31 1
a31 1
@@@@ -185,17 +181,11 @@@@ install: generated-files
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- GNUmakefile.in.orig	Thu Mar  8 18:15:05 2007
+++ GNUmakefile.in	Sat May 12 12:30:48 2007
@@@@ -69,7 +69,7 @@@@ export GNUSTEP_TARGET_LDIR
d13 1
a13 1
@@@@ -124,7 +124,6 @@@@ install: generated-files
d15 10
a24 10
 	 $(srcdir)/mkinstalldirs \
 		$(makedir) \
-		$(makedir)/$(GNUSTEP_TARGET_CPU) \
 		$(makedir)/$(GNUSTEP_TARGET_DIR) \
 		$(makedir)/$(GNUSTEP_TARGET_LDIR) \
 		$(makedir)/Additional \
@@@@ -133,9 +132,6 @@@@ install: generated-files
 		$(makedir)/Instance \
 		$(makedir)/Instance/Shared \
 		$(makedir)/Instance/Documentation)
d26 1
a26 1
-	 $(srcdir)/mkinstalldirs "$(GNUSTEP_CONFIG_FILE_DIR)"; \
d31 19
@


1.1.1.1
log
@Import gnustep-make-2.0.1

The makefile package is a simple, powerful and extensible way to write
makefiles for a GNUstep-based project.  It allows the user to write a
project without having to deal with the complex issues associated with
configuration, building, installation, and packaging.  It also allows
the user to easily create cross-compiled binaries.
@
text
@@
