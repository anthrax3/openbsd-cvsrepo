head	1.66;
access;
symbols
	OPENBSD_6_2:1.66.0.2
	OPENBSD_6_2_BASE:1.66
	OPENBSD_6_1:1.62.0.2
	OPENBSD_6_1_BASE:1.62
	OPENBSD_6_0:1.60.0.2
	OPENBSD_6_0_BASE:1.60
	OPENBSD_5_9:1.58.0.2
	OPENBSD_5_9_BASE:1.58
	OPENBSD_5_8:1.57.0.4
	OPENBSD_5_8_BASE:1.57
	OPENBSD_5_7:1.55.0.2
	OPENBSD_5_7_BASE:1.55
	OPENBSD_5_6:1.54.0.2
	OPENBSD_5_6_BASE:1.54
	OPENBSD_5_5:1.53.0.2
	OPENBSD_5_5_BASE:1.53
	OPENBSD_5_4:1.49.0.2
	OPENBSD_5_4_BASE:1.49
	OPENBSD_5_3:1.46.0.2
	OPENBSD_5_3_BASE:1.46
	OPENBSD_5_2:1.44.0.2
	OPENBSD_5_2_BASE:1.44
	OPENBSD_5_1_BASE:1.40
	OPENBSD_5_1:1.40.0.2
	OPENBSD_5_0:1.39.0.2
	OPENBSD_5_0_BASE:1.39
	OPENBSD_4_9:1.35.0.2
	OPENBSD_4_9_BASE:1.35
	OPENBSD_4_8:1.29.0.2
	OPENBSD_4_8_BASE:1.29
	OPENBSD_4_7:1.23.0.2
	OPENBSD_4_7_BASE:1.23
	OPENBSD_4_6:1.22.0.2
	OPENBSD_4_6_BASE:1.22
	OPENBSD_4_5:1.20.0.2
	OPENBSD_4_5_BASE:1.20
	OPENBSD_4_4:1.14.0.2
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.10.0.2
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.7.0.2
	OPENBSD_4_2_BASE:1.7
	ajacoutot_20070528:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.66
date	2017.09.25.21.16.12;	author sthen;	state Exp;
branches;
next	1.65;
commitid	drAEkJNbpllEkMTV;

1.65
date	2017.08.24.09.45.23;	author sthen;	state Exp;
branches;
next	1.64;
commitid	PnxiRKB45Z5BPng8;

1.64
date	2017.07.27.11.01.33;	author sthen;	state Exp;
branches;
next	1.63;
commitid	00NY8EKxRV5VulAq;

1.63
date	2017.04.19.21.16.43;	author sebastia;	state Exp;
branches;
next	1.62;
commitid	kWLCM8wwi2wo4GQw;

1.62
date	2016.11.08.14.23.59;	author sthen;	state Exp;
branches;
next	1.61;
commitid	oUrtIMnoB4ZxTuF2;

1.61
date	2016.08.29.09.11.22;	author jca;	state Exp;
branches;
next	1.60;
commitid	E2rCN62NsDfCIydQ;

1.60
date	2016.06.03.11.44.36;	author sebastia;	state Exp;
branches;
next	1.59;
commitid	h6tifCEAXPTCZHyU;

1.59
date	2016.03.05.16.04.07;	author pascal;	state Exp;
branches;
next	1.58;
commitid	EJSWd5DpdfEFGBlM;

1.58
date	2015.10.26.11.53.14;	author sebastia;	state Exp;
branches;
next	1.57;
commitid	8SlQsiN4RMOVHG0B;

1.57
date	2015.05.28.18.35.35;	author sebastia;	state Exp;
branches;
next	1.56;
commitid	DvKiX4halWV2OiRY;

1.56
date	2015.03.16.12.20.24;	author sebastia;	state Exp;
branches;
next	1.55;
commitid	VbGFAt2eahQc5ANC;

1.55
date	2014.11.21.18.19.53;	author sebastia;	state Exp;
branches;
next	1.54;
commitid	gotnsIUb8xHN45PL;

1.54
date	2014.05.22.09.48.56;	author sebastia;	state Exp;
branches;
next	1.53;

1.53
date	2014.01.03.18.53.01;	author sebastia;	state Exp;
branches;
next	1.52;

1.52
date	2013.10.25.17.02.11;	author sthen;	state Exp;
branches;
next	1.51;

1.51
date	2013.10.19.13.24.56;	author sebastia;	state Exp;
branches;
next	1.50;

1.50
date	2013.10.17.09.30.35;	author sebastia;	state Exp;
branches;
next	1.49;

1.49
date	2013.05.18.15.35.24;	author sebastia;	state Exp;
branches;
next	1.48;

1.48
date	2013.04.25.16.14.27;	author sebastia;	state Exp;
branches;
next	1.47;

1.47
date	2013.04.14.23.22.06;	author sthen;	state Exp;
branches;
next	1.46;

1.46
date	2012.08.22.07.15.51;	author sebastia;	state Exp;
branches;
next	1.45;

1.45
date	2012.08.19.10.13.29;	author sebastia;	state Exp;
branches;
next	1.44;

1.44
date	2012.07.10.09.19.32;	author sebastia;	state Exp;
branches;
next	1.43;

1.43
date	2012.07.08.13.22.54;	author sebastia;	state Exp;
branches;
next	1.42;

1.42
date	2012.06.28.18.49.54;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2012.05.17.05.01.35;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2011.09.16.12.29.15;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2011.07.19.06.29.09;	author sebastia;	state Exp;
branches;
next	1.38;

1.38
date	2011.05.24.13.58.28;	author sebastia;	state Exp;
branches;
next	1.37;

1.37
date	2011.04.18.11.54.49;	author sebastia;	state Exp;
branches;
next	1.36;

1.36
date	2011.04.15.16.10.38;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2011.01.10.18.23.33;	author sebastia;	state Exp;
branches;
next	1.34;

1.34
date	2010.12.22.09.20.00;	author sebastia;	state Exp;
branches;
next	1.33;

1.33
date	2010.11.22.08.36.59;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2010.10.26.12.39.10;	author sebastia;	state Exp;
branches;
next	1.31;

1.31
date	2010.10.19.08.13.57;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2010.10.15.10.37.51;	author sebastia;	state Exp;
branches;
next	1.29;

1.29
date	2010.08.01.12.52.41;	author sebastia;	state Exp;
branches;
next	1.28;

1.28
date	2010.07.30.11.29.44;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2010.07.30.06.58.58;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2010.07.05.07.52.02;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2010.05.12.16.43.47;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2010.03.31.09.36.07;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.10.06.19.20.51;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.06.03.16.36.09;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.03.07.14.23.24;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2008.12.23.15.25.31;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2008.11.15.14.05.40;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2008.11.14.10.34.48;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2008.10.22.12.38.32;	author landry;	state Exp;
branches;
next	1.16;

1.16
date	2008.10.03.07.21.56;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2008.08.29.11.52.20;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2008.07.28.23.55.28;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2008.06.23.10.59.37;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2008.05.06.12.26.01;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2008.05.05.09.32.02;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2008.01.09.14.19.14;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2007.12.10.16.25.04;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2007.11.25.16.17.25;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2007.07.25.06.10.40;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2007.07.21.17.30.10;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2007.06.25.12.55.10;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2007.06.21.13.31.47;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2007.06.21.10.46.21;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2007.06.19.15.16.16;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.29.03.01.35;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.05.29.03.01.35;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.66
log
@sync WANTLIB
@
text
@# $OpenBSD: Makefile,v 1.65 2017/08/24 09:45:23 sthen Exp $

COMMENT=	GNUstep base library

DISTNAME=	gnustep-base-1.25.0
REVISION=	2

SHARED_LIBS=	gnustep-base 10.0
CATEGORIES=	devel

LIBDIR=		lib/GNUstep/Libraries/gnustep-base/Versions/${LIBgnustep-base_VERSION}
SUBST_VARS=	LIBDIR

HOMEPAGE=	http://www.gnustep.org/

WANTLIB += avahi-client avahi-common c ffi gmp gnutls iberty iconv icudata
WANTLIB += icui18n icuuc m objc2 pthread lzma xml2 xslt z
WANTLIB += ${COMPILER_LIBCXX}

.if ${MACHINE_ARCH} != "i386" && ${MACHINE_ARCH} != "amd64"
WANTLIB += iberty
.endif

MASTER_SITES=	${MASTER_SITE_GNUSTEP:=core/}

MODULES =	x11/gnustep
MODGNUSTEP_NEEDS_GUI=	No
MODGNUSTEP_NEEDS_BASE=	No

LIB_DEPENDS +=	converters/libiconv \
		devel/libffi \
		devel/gmp \
		textproc/libxslt \
		security/gnutls \
		textproc/icu4c \
		net/avahi \
		x11/gnustep/libobjc2

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	ac_cv_header_execinfo_h=false \
		OBJCFLAGS=-DHAVE_PTHREAD_NP_H=1
CONFIGURE_ARGS +=	--disable-procfs \
			--disable-procfs-psinfo
MAKE_FLAGS +=		libgnustep-base_INTERFACE_VERSION=${LIBgnustep-base_VERSION}

.include <bsd.port.mk>
@


1.65
log
@bump; textproc/icu4c now uses multi-packages for -wwwdata
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2017/07/27 11:01:33 sthen Exp $
d6 1
a6 1
REVISION=	1
d16 1
a16 1
WANTLIB += avahi-client avahi-common c ffi gmp gnutls iconv icudata
@


1.64
log
@bump REVISION on gnustep ports where libestdc++ has been removed due to
switching to clang in base.

add COMPILER_LIBCXX where c++abi is used. there will be some "Extra"s but
this is the simplest way to use c++abi on base=clang and estdc++ on base=gcc
arches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2017/04/19 21:16:43 sebastia Exp $
d6 1
a6 1
REVISION=	0
@


1.63
log
@update to 1.25.0

noteworthy changes:
   * Garbage collection support removed (NSGarbageCollector stub
     remains)
   * Support for Debian style multi-architecture installations added
   * OpenSSL bundle removed since it didn't match GNUTLS support
   * Ported to Debian/Hurd
   * ICU string (regexp in particular) fixes
   * OSX compatibity changes in NSRunLoop and NSTask behavior
   * Alternative sort algorithms selectable at runtime
   * Many bugfixes and cleanups.
   * As usual, this release also contains an update to include the most
     recent international timezone data.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2016/11/08 14:23:59 sthen Exp $
d6 1
d18 1
@


1.62
log
@WANTLIB += lzma and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2016/08/29 09:11:22 jca Exp $
d5 1
a5 2
DISTNAME=	gnustep-base-1.24.9
REVISION=	1
d7 1
a7 1
SHARED_LIBS=	gnustep-base 9.0
d38 2
a39 1
CONFIGURE_ENV=	ac_cv_header_execinfo_h=false
@


1.61
log
@Drop the libiconv module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2016/06/03 11:44:36 sebastia Exp $
d6 1
a6 1
REVISION=	0
d17 1
a17 1
WANTLIB += icui18n icuuc m objc2 pthread xml2 xslt z
@


1.60
log
@Update to 1.24.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2016/03/05 16:04:07 pascal Exp $
d6 1
d16 2
a17 3
WANTLIB += c m objc2 pthread xml2 z ffi gmp xslt gnutls
WANTLIB += avahi-client avahi-common icudata icui18n icuuc
WANTLIB += ${MODLIBICONV_WANTLIB}
d25 1
a25 1
MODULES =	x11/gnustep converters/libiconv
d29 2
a30 1
LIB_DEPENDS +=	devel/libffi \
@


1.59
log
@Bump REVISION for lang/clang MODULE changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2015/10/26 11:53:14 sebastia Exp $
d5 1
a5 2
REVISION =	1
DISTNAME=	gnustep-base-1.24.8
d7 1
a7 1
SHARED_LIBS=	gnustep-base 8.3
@


1.58
log
@Add OBJCFLAGS=-fgnustep-runtime to gnustep.port.mk CONFIGURE_ENV
and MAKE_FLAGS for clang build platforms, and bump all ports for that.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2015/05/28 18:35:35 sebastia Exp $
d5 1
a5 1
REVISION =	0
@


1.57
log
@Maintenance release to 1.24.7
   * TLS and other security improvements (note, SSLv3.0 is disabled by
     default in order to prevent the 'POODLE' attack).
   * Latest timezone data included
   * Various other bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2015/03/16 12:20:24 sebastia Exp $
d5 1
@


1.56
log
@ajacoutot@@ brought to my attention that a gzipped manual page is installed.
So don't do that, apply same "fix" as for the other manual pages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/11/21 18:19:53 sebastia Exp $
d5 1
a5 2
DISTNAME=	gnustep-base-1.24.7
REVISION =	0
d7 1
a7 1
SHARED_LIBS=	gnustep-base 8.2
@


1.55
log
@Minor update to 1.24.7, due to changed linking, gnustep.port.mk WANTLIB
got updated/simplified, basically leading to REVISION bump of all dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/05/22 09:48:56 sebastia Exp $
d6 1
@


1.54
log
@overhaul gnustep.port.mk with regard to fix WANTLIBS and LIB_DEPENDS of
dependent ports, so that port-lib-depends-check is happy with all of them.
Also make portcheck happy too.

feedback and OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/01/03 18:53:01 sebastia Exp $
d5 1
a5 2
DISTNAME=	gnustep-base-1.24.6
REVISION =	1
d7 1
a7 1
SHARED_LIBS=	gnustep-base 8.1
d15 1
a15 1
WANTLIB += c gcrypt m objc2 pthread xml2 z ffi gmp xslt gnutls
d17 1
d25 1
a25 1
MODULES =	x11/gnustep
@


1.53
log
@update to 1.24.6

NSUUID implemented
New OSX version macros
TLS support improvements
Various new methods for OSX compatibility
Various other bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/10/25 17:02:11 sthen Exp $
d6 1
d25 1
a25 2
MODULES=	x11/gnustep \
		converters/libiconv
@


1.52
log
@don't pick up execinfo.h, to avoid problems with dpb junking. (it isn't really
used anyway, as it expects backtrace() in libc).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/10/19 13:24:56 sebastia Exp $
d5 1
a5 2
DISTNAME=	gnustep-base-1.24.5
REVISION =	0
d7 1
a7 1
SHARED_LIBS=	gnustep-base 8.0
@


1.51
log
@build gnustep related packages on amd64 and i386 with clang,
macppc still stays on using gcc due to too many problems there.
On amd64 and i386 now use the non-fragile-abi.

Now that allows on amd64 and i386 to use newer objective-c 2.0
features.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/10/17 09:30:35 sebastia Exp $
d39 1
@


1.50
log
@Update gnustep-base to 1.24.5

Added NSInvocationOperation class
OSX version compatibility macro improvements
various other bugfixes

requires a full library bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/05/18 15:35:24 sebastia Exp $
d6 1
@


1.49
log
@NSCalendar fix on amd64, from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/04/25 16:14:27 sebastia Exp $
d5 1
a5 2
DISTNAME=	gnustep-base-1.24.4
REVISION =	0
d7 1
a7 1
SHARED_LIBS=	gnustep-base 7.0
@


1.48
log
@update to gnustep-base 1.24.1
Getting rid of patch to make SYSTRACE happy, switch to use a GNUstep.conf
file in the x11/gnustep directory instead, more closely following what
the framework provides
API changes required a major library bump

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/04/14 23:22:06 sthen Exp $
d6 1
@


1.47
log
@fix with libxml 2.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/08/22 07:15:51 sebastia Exp $
d5 1
a5 2
DISTNAME=	gnustep-base-1.24.0
REVISION=	3
d7 1
a7 1
SHARED_LIBS=	gnustep-base 6.0
d15 1
a15 1
WANTLIB += c crypto gcrypt m objc2 pthread ssl xml2 z ffi gmp xslt gnutls
a28 3
AUTOCONF_VERSION= 2.67

BUILD_DEPENDS+=	${MODGNU_AUTOCONF_DEPENDS}
a40 3

post-patch:
	@@cd ${WRKSRC}/SSL && env AUTOCONF_VERSION=${AUTOCONF_VERSION} autoconf
@


1.46
log
@Since we now have libobjc2, tweak gnustep-make to build/link against it.
gnustep-base doesn't need to install the compatibility layer anymore,
which requires a major lib bump.
Bump revision of all dependent packages, and remove double REVISION
in webservices

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/08/19 10:13:29 sebastia Exp $
d6 1
a6 1
REVISION =	2
@


1.45
log
@Add an rc script for the gdomap daemon.

suggested and ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/07/10 09:19:32 sebastia Exp $
d6 1
a6 1
REVISION =	1
d8 1
a8 1
SHARED_LIBS=	gnustep-base 5.0
d16 1
a16 1
WANTLIB += c crypto gcrypt m objc pthread ssl xml2 z ffi gmp xslt gnutls
d38 2
a39 1
		net/avahi
@


1.44
log
@Do not link against -lpthread
Pointed out and OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/07/08 13:22:54 sebastia Exp $
d6 1
a6 1
REVISION =	0
@


1.43
log
@Update gnustep-base to 1.24.0
cleaning up the Makefile
Major SHLIB bump
get rid of a bunch of patches

aja needs that to go ahead with gnutls update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2012/06/28 18:49:54 jasper Exp $
d6 1
@


1.42
log
@Allow building against OpenSSL without SSLv2 support.

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2012/05/17 05:01:35 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	gnustep-base-1.22.1
REVISION=	2
d7 1
a7 1
SHARED_LIBS=	gnustep-base 4.0
d42 1
a45 5

pre-configure:
	@@perl -pi -e 's,^MAJOR_VERSION=.*,MAJOR_VERSION=${LIBgnustep-base_VERSION:R},g;' \
		-e 's,^MINOR_VERSION=.*,MINOR_VERSION=${LIBgnustep-base_VERSION:E},g' \
		${WRKSRC}/Version
@


1.41
log
@Fix usage of the _POSIX_THREAD_PRIORITY_SCHEDULING macro.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/09/16 12:29:15 espie Exp $
d6 1
a6 1
REVISION=	1
d30 3
d43 3
@


1.40
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/07/19 06:29:09 sebastia Exp $
d6 1
a6 1
REVISION=	0
@


1.39
log
@update gnustep-base to 1.22.1.
getting rid of two patches that made it into upstream.
Add a patch that disables the generation of backtraces, when trying to
handle exceptions, which caused hangs and 100% CPU hogging.
This makes many GNUstep applications happy, hopefully finding a better
way soon.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/05/24 13:58:28 sebastia Exp $
d6 1
@


1.38
log
@Fix lookup of Application bundles when apps are started with full path, bump and regen patches.

OK jasper@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/04/18 11:54:49 sebastia Exp $
d5 1
a5 2
DISTNAME=	gnustep-base-1.22.0
REVISION =	0
d16 1
a16 1
WANTLIB += avahi-client avahi-common icudata icui18n icuuc tasn1
d29 1
a29 1
LIB_DEPENDS=	devel/libffi \
d37 2
a38 2
CONFIGURE_ARGS=	--disable-procfs \
		--disable-procfs-psinfo
a43 3

post-install:
	rm ${PREFIX}/${LIBDIR}/Resources/NSTimeZones/.abbreviations.plist.swp
@


1.37
log
@update gnustep-base to 1.22.0, major bump needed

OK landry@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/04/15 16:10:38 ajacoutot Exp $
d6 1
@


1.36
log
@Fix DEPENDS after gnutls update.

ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/01/10 18:23:33 sebastia Exp $
d5 1
a5 1
DISTNAME=	gnustep-base-1.20.2
d7 1
a7 3
REVISION=	0

SHARED_LIBS=	gnustep-base 3.2	# .1.20
@


1.35
log
@Update to gnustep-base-1.20.2.
While there, restructure a patch to be able to clean-up the Makefile a bit.
Fix build on mips64, thought, its not enabled there yet.

OK jasper@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/12/22 09:20:00 sebastia Exp $
d7 2
d18 1
a18 1
WANTLIB += avahi-client avahi-common icudata icui18n icuuc
@


1.34
log
@Switch naming of binary files in GNUstep bundles, to conform more with upstream.
Reorder WANTLIB in gnustep.port.mk, now do not include WANTLIB when only depending on gnustep-base.
Update/bump all gnustep ports that install bundles.

kind of a agree, landry@@, OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/11/22 08:36:59 espie Exp $
d5 1
a5 2
REVISION=	1
DISTNAME=	gnustep-base-1.20.1
d7 1
a7 1
SHARED_LIBS=	gnustep-base 3.1	# .1.20
d16 1
a16 1
WANTLIB += dns_sd
d33 1
a36 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/avahi-compat-libdns_sd" \
		LDFLAGS="-pthread"
a38 2

CFLAGS+=	-pthread
@


1.33
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/10/26 12:39:10 sebastia Exp $
d5 1
a5 1
REVISION=	0
a40 1
USE_GROFF =	Yes
@


1.32
log
@* Update the gnustep.port.mk file, to have some standard WANTLIBS and LIB/RUN depends added for the GUI based apps.
* Bump package versions for ports depending on gnustep-back.
* Fix PLIST for gnumail, after library bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/10/19 08:13:57 espie Exp $
d30 5
a34 5
LIB_DEPENDS=	::devel/libffi \
		::devel/gmp \
		::textproc/libxslt \
		::security/gnutls \
		::net/avahi
@


1.31
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/10/15 10:37:51 sebastia Exp $
d27 3
@


1.30
log
@Bye Bye NO_SYSTRACE for the x11/gnustep MODULE based ports.
patching gnustep-base to add usage of an environment variable
to allow set a pointer where the lockfiles of plmerge should go while building the port.

OK, ajacoutot@@, jasper@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/08/01 12:52:41 sebastia Exp $
d38 1
@


1.29
log
@update to latest release, contains minor bugfixes and some timezone updates.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/07/30 11:29:44 ajacoutot Exp $
d5 1
@


1.28
log
@New style DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/07/30 06:58:58 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	gnustep-base-1.20.0
REVISION=	1
d7 1
a7 1
SHARED_LIBS=	gnustep-base 3.0	# .1.16.4
d46 1
a46 1
	@@rm ${PREFIX}/lib/GNUstep/Libraries/gnustep-base/Versions/${LIBgnustep-base_VERSION}/Resources/NSTimeZones/.README.swp
@


1.27
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/07/05 07:52:02 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
d16 2
a17 1
WANTLIB += c crypto gcrypt m objc pthread ssl xml2 z
d27 5
a31 5
LIB_DEPENDS=	ffi::devel/libffi \
		gmp.>=7::devel/gmp \
		xslt.>=3::textproc/libxslt \
		gnutls.>=13::security/gnutls \
		dns_sd::net/avahi
@


1.26
log
@Give GNUstep maintainership to sebastia@@ as I don't really use this anymore
while he does.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/05/12 16:43:47 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.25
log
@- update gnustep-base to 1.20.0
* fixes security issues in gdomapwhich could lead to an integer overflow and
information disclosure (CVE-2010-1457 and CVE-2010-1620)

ok aja@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/03/31 09:36:07 ajacoutot Exp $
d6 2
@


1.24
log
@Use libffi instead of ffcall.

spotted by Sebastian Reitenbach and nicm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/10/06 19:20:51 ajacoutot Exp $
d5 2
a6 3
DISTNAME=	gnustep-base-1.18.0
PKGNAME=	${DISTNAME}p3
SHARED_LIBS=	gnustep-base 2.1	# .1.16.4
d14 1
a14 2
WANTLIB += c crypto gcrypt m objc pthread ssl xml2
WANTLIB += z
d16 1
a16 1
.if ${MACHINE_ARCH} != "i386"
@


1.23
log
@regen wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/06/03 16:36:09 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d15 1
a15 1
WANTLIB += c crypto gcrypt gpg-error m objc pthread ssl xml2
d25 2
a26 2
		devel/gettext
LIB_DEPENDS=	avcall.>=1,callback.>=1::devel/ffcall \
@


1.22
log
@- add avahi support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/03/07 14:23:24 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d15 6
a20 2
WANTLIB += c crypto gcrypt gpg-error iberty m objc pthread ssl
WANTLIB += xml2 z
@


1.21
log
@- first pass of regenerated WANTLIB in x11/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/12/23 15:25:31 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d15 1
a15 1
WANTLIB += c crypto gcrypt gpg-error m objc pthread ssl tasn1
d25 2
a26 1
		gnutls.>=13::security/gnutls
d29 2
d33 2
@


1.20
log
@- GNUstep-Base 1.18.0
* Improved lookup of versioned library resources
* Keyed archiving improvements for various classes
* Exception and thread handling improvements
* Portability improvements
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/11/15 14:05:40 ajacoutot Exp $
d6 1
d15 2
a16 1
WANTLIB=	c crypto gcrypt gpg-error m objc pthread ssl tasn1 xml2 z
@


1.19
log
@- update to gnustep-base-1.16.4

from Sebastian Reitenbach
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/11/14 10:34:48 ajacoutot Exp $
d5 2
a6 2
DISTNAME=	gnustep-base-1.16.4
SHARED_LIBS=	gnustep-base 2.0	# .1.16.4
d14 1
a14 1
WANTLIB=	c crypto gcrypt gpg-error iberty m objc pthread ssl tasn1 xml2 z
@


1.18
log
@- update to gnustep-base-1.16.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/10/22 12:38:32 landry Exp $
d5 2
a6 2
DISTNAME=	gnustep-base-1.16.3
SHARED_LIBS=	gnustep-base 2.0	# .1.16.3
d14 1
a14 1
WANTLIB=	c crypto gcrypt gpg-error m objc pthread ssl tasn1 xml2 z
@


1.17
log
@Fix WANTLIB on amd64, seems libiberty is needed anyway. Removes a quirk.

ok ajacoutot@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/10/03 07:21:56 ajacoutot Exp $
d5 2
a6 3
DISTNAME=	gnustep-base-1.16.1
PKGNAME=	${DISTNAME}p2
SHARED_LIBS=	gnustep-base 2.0	# .1.16.1
d14 1
a14 1
WANTLIB=	c crypto gcrypt gpg-error iberty m objc pthread ssl xml2 z
@


1.16
log
@- introduce MASTER_SITE_GNUSTEP
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/08/29 11:52:20 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d15 1
a15 5
WANTLIB=	c crypto gcrypt gpg-error m objc pthread ssl xml2 z

.if ${MACHINE_ARCH} != "amd64"
WANTLIB+=	iberty
.endif
@


1.15
log
@fix stupid conflict marker introduced ages ago that my friends forgot to fix...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/07/28 23:55:28 sthen Exp $
d21 1
a21 1
MASTER_SITES=	ftp://ftp.gnustep.org/pub/gnustep/core/
@


1.14
log
@SHARED_LIBS and PKGNAME bumps for libm. The library version
number is used in a directory name for resource files; abstract
it out (and compress PLIST) with SUBST_VARS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/06/23 10:59:37 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.13
log
@- update to gnustep-base-1.16.1
- use devel/gettext MODULE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/05/06 12:26:01 ajacoutot Exp $
d6 2
a7 1
SHARED_LIBS=	gnustep-base 1.16	# .1.16.1
d9 3
@


1.12
log
@- WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/05/05 09:32:02 ajacoutot Exp $
d5 2
a6 3
DISTNAME=	gnustep-base-1.14.3
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gnustep-base 1.14	# .1.14.2
d11 5
a15 1
WANTLIB=	c crypto iberty iconv m objc pthread ssl xml2 z
d19 2
a20 1
MODULES=	x11/gnustep
d23 2
a24 1
		xslt.>=3::textproc/libxslt
d27 2
a28 1
CONFIGURE_ARGS=	--disable-procfs
d36 1
a36 1
	@@rm ${PREFIX}/lib/GNUstep/Libraries/gnustep-base/Versions/1.14/Resources/NSTimeZones/.README.swp
@


1.11
log
@- update to version 1.14.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/01/09 14:19:14 ajacoutot Exp $
d6 1
d12 1
a12 1
WANTLIB=	c crypto iconv m objc pthread ssl xml2 z
@


1.10
log
@- update to gnustep-base-1.14.2
based on a diff from Sebastian Reitenbach
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/12/10 16:25:04 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	gnustep-base-1.14.2
@


1.9
log
@- fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/11/25 16:17:25 ajacoutot Exp $
d5 2
a6 3
DISTNAME=	gnustep-base-1.14.1
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gnustep-base 1.14	# .1.14
@


1.8
log
@- update to version 1.14.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/07/25 06:10:40 ajacoutot Exp $
d6 1
d12 1
a12 1
WANTLIB=	c crypto iberty iconv m objc pthread ssl xml2 z
@


1.7
log
@- unbreak, now that threaded libobjc is enabled
- set CONFIGURE_STYLE=gnu
- remove quotes around COMMENT while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/07/21 17:30:10 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	gnustep-base-1.14.0
PKGNAME=	${DISTNAME}p3
@


1.6
log
@- do some cleaning before we can hopefully enable this (still waiting
for threaded libobjc to go in) ; re-order Makefile.inc and
gnustep.port.mk, set only for i386 until we get more test results, set
USE_X11 where it's due...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/06/25 12:55:10 ajacoutot Exp $
d21 1
a21 1
CONFIGURE_STYLE=simple
@


1.5
log
@- conflicts with swi-prolog (for now)

noticed by kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/06/21 13:31:47 ajacoutot Exp $
d3 1
a3 1
COMMENT=	"GNUstep base library"
@


1.4
log
@- revert previous WANTLIB change; libiberty seems needed after all
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/06/21 10:46:21 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.3
log
@- centralize running information in a README.OpenBSD instead of
spreading it over several pkg/MESSAGES ; this will ease the addition of
other usefull tips
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/06/19 15:16:16 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d12 1
a12 1
WANTLIB=	c crypto iconv m objc pthread ssl xml2 z
@


1.2
log
@- fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/05/29 03:01:35 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d12 1
a12 1
WANTLIB=	c crypto iberty iconv m objc pthread ssl xml2 z
@


1.1.1.1
log
@Import gnustep-base-1.14.0

The GNUstep Base Library is a library of general-purpose, non-graphical
Objective C objects.  For example, it includes classes for strings,
object collections, byte streams, typed coders, invocations,
notifications, notification dispatchers, moments in time, network ports,
remote object messaging support (distributed objects), and event loops.
It provides functionality that aims to implement the non-graphical
portion of the OpenStep standard (the Foundation library).
@
text
@@
