head	1.6;
access;
symbols
	OPENBSD_5_5:1.5.0.2
	OPENBSD_5_5_BASE:1.5
	OPENBSD_4_0:1.3.0.10
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.8
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.6
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.4
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_3:1.1.0.2
	OPENBSD_3_3_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2014.04.23.00.40.59;	author jca;	state dead;
branches;
next	1.5;

1.5
date	2014.02.26.20.07.18;	author jca;	state Exp;
branches;
next	1.4;

1.4
date	2006.09.27.20.12.14;	author jasper;	state dead;
branches;
next	1.3;

1.3
date	2004.08.11.21.24.23;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2003.07.02.06.29.15;	author sturm;	state dead;
branches;
next	1.1;

1.1
date	2003.02.25.22.39.31;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to ratpoison-1.4.7.  ok william@@ (MAINTAINER)
@
text
@$OpenBSD: patch-src_actions_c,v 1.5 2014/02/26 20:07:18 jca Exp $
Bugfix for recent firefox versions.
Applied-Upstream: 782e5d0f60412682ca5facde2d566c02bd176902
--- src/actions.c.orig	Thu Feb 20 02:37:37 2014
+++ src/actions.c	Thu Feb 20 02:40:48 2014
@@@@ -1168,6 +1168,8 @@@@ cmd_meta (int interactive UNUSED, struct cmdarg **args
   if (current_window() == NULL)
     return cmdret_new (RET_FAILURE, NULL);
 
+  memset(&ev1, 0, sizeof(ev1));
+
       ev1.xkey.type = KeyPress;
       ev1.xkey.display = dpy;
       ev1.xkey.window = current_window()->w;
@


1.5
log
@Add the patches missed 10mn ago, and bump again for safety.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.4
log
@- update ratpoison to 1.4.0
- enable history (from Matthias Kilian)

ok naddy and MAINTAINER
@
text
@d1 8
a8 5
$OpenBSD: patch-src_actions_c,v 1.3 2004/08/11 21:24:23 pvalchev Exp $
--- src/actions.c.orig	Wed May 19 23:33:47 2004
+++ src/actions.c	Wed Aug 11 15:15:45 2004
@@@@ -2752,7 +2752,7 @@@@ cmd_unsetenv (int interactive, char *dat
     }
d10 5
a14 6
   /* Remove all instances of the env. var. */
-  putenv (data);
+  unsetenv (data);
 
   return NULL;
 }
@


1.3
log
@fix unsetenv command; from Matthias Kilian via maintainer William Yodlowsky
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@update to ratpoison 1.2.2

- bugfixes
- point it to our xterm by default

from maintainer William Yodlowsky <bsd@@openbsd.rutgers.edu>
@
text
@d1 10
a10 4
$OpenBSD: patch-src_actions_c,v 1.1 2003/02/25 22:39:31 pvalchev Exp $
--- src/actions.c.orig	Sat Jul  6 15:31:27 2002
+++ src/actions.c	Tue Feb 25 15:34:36 2003
@@@@ -2078,7 +2078,7 @@@@ cmd_defbgcolor (int interactive, void *d
a12 6
 
-#if !defined(HAVE_SETENV) || !defined(setenv)
+#if !defined(HAVE_SETENV) && !defined(setenv)
 /* For systems, such as Solaris, where setenv is not implemented
  * in libc */
 /* FIXME: overwrite has no effect in this implementation! */
@


1.1
log
@fix a setenv bug (logic error); patch from FreeBSD via maintainer William Yodlowsky
@
text
@d1 1
a1 1
$OpenBSD$
@

