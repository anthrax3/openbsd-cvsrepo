head	1.55;
access;
symbols
	OPENBSD_6_0:1.54.0.2
	OPENBSD_6_0_BASE:1.54
	OPENBSD_5_9:1.53.0.2
	OPENBSD_5_9_BASE:1.53
	OPENBSD_5_8:1.50.0.4
	OPENBSD_5_8_BASE:1.50
	OPENBSD_5_7:1.49.0.6
	OPENBSD_5_7_BASE:1.49
	OPENBSD_5_6:1.49.0.4
	OPENBSD_5_6_BASE:1.49
	OPENBSD_5_5:1.49.0.2
	OPENBSD_5_5_BASE:1.49
	OPENBSD_5_4:1.46.0.2
	OPENBSD_5_4_BASE:1.46
	OPENBSD_5_3:1.44.0.2
	OPENBSD_5_3_BASE:1.44
	OPENBSD_5_2:1.40.0.2
	OPENBSD_5_2_BASE:1.40
	OPENBSD_5_1_BASE:1.39
	OPENBSD_5_1:1.39.0.2
	OPENBSD_5_0:1.35.0.2
	OPENBSD_5_0_BASE:1.35
	OPENBSD_4_9:1.31.0.2
	OPENBSD_4_9_BASE:1.31
	OPENBSD_4_8:1.25.0.2
	OPENBSD_4_8_BASE:1.25
	OPENBSD_4_7:1.21.0.2
	OPENBSD_4_7_BASE:1.21
	OPENBSD_4_6:1.17.0.2
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.14.0.2
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.11.0.4
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.11.0.2
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.5.0.4
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.1.1.1.0.6
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.4
	OPENBSD_3_7_BASE:1.1.1.1
	OPENBSD_3_6:1.1.1.1.0.2
	OPENBSD_3_6_BASE:1.1.1.1
	todd-Jul-16:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.55
date	2016.08.27.16.39.37;	author jca;	state Exp;
branches;
next	1.54;
commitid	IB9u4UbGFm5Uo2lM;

1.54
date	2016.03.18.21.38.26;	author naddy;	state Exp;
branches;
next	1.53;
commitid	BVkebQSTXSZokeRG;

1.53
date	2016.01.02.22.19.06;	author jasper;	state Exp;
branches;
next	1.52;
commitid	tRt4a4ORFqQULkZN;

1.52
date	2016.01.02.21.30.52;	author jasper;	state Exp;
branches;
next	1.51;
commitid	qdqQYTBEgwi4dbo5;

1.51
date	2016.01.02.21.27.56;	author jasper;	state Exp;
branches;
next	1.50;
commitid	mJIgM1jx8TS3upFC;

1.50
date	2015.07.05.15.17.36;	author ajacoutot;	state Exp;
branches;
next	1.49;
commitid	uTcQdWCtXxUsOa6d;

1.49
date	2013.11.25.14.16.24;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2013.09.30.12.37.23;	author sthen;	state Exp;
branches;
next	1.47;

1.47
date	2013.09.27.17.49.12;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2013.06.04.18.42.00;	author naddy;	state Exp;
branches;
next	1.45;

1.45
date	2013.03.11.11.46.17;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2012.12.10.20.51.24;	author edd;	state Exp;
branches;
next	1.43;

1.43
date	2012.11.06.09.37.14;	author dcoppa;	state Exp;
branches;
next	1.42;

1.42
date	2012.09.06.12.38.35;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2012.09.04.17.17.08;	author landry;	state Exp;
branches;
next	1.40;

1.40
date	2012.03.30.12.03.03;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2011.12.11.18.04.02;	author dcoppa;	state Exp;
branches;
next	1.38;

1.38
date	2011.12.09.09.10.05;	author dcoppa;	state Exp;
branches;
next	1.37;

1.37
date	2011.12.06.10.23.37;	author dcoppa;	state Exp;
branches;
next	1.36;

1.36
date	2011.09.16.12.29.17;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2011.05.22.08.13.18;	author dcoppa;	state Exp;
branches;
next	1.34;

1.34
date	2011.04.28.17.50.43;	author kili;	state Exp;
branches;
next	1.33;

1.33
date	2011.04.23.09.07.50;	author kili;	state Exp;
branches;
next	1.32;

1.32
date	2011.04.22.12.47.41;	author stsp;	state Exp;
branches;
next	1.31;

1.31
date	2010.11.22.08.37.05;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2010.11.08.10.58.05;	author dcoppa;	state Exp;
branches;
next	1.29;

1.29
date	2010.11.04.12.05.25;	author dcoppa;	state Exp;
branches;
next	1.28;

1.28
date	2010.11.02.13.10.51;	author dcoppa;	state Exp;
branches;
next	1.27;

1.27
date	2010.10.24.21.15.35;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2010.10.11.08.19.59;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2010.07.30.08.03.00;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.07.30.06.59.01;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2010.05.20.10.39.20;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.05.02.16.09.55;	author landry;	state Exp;
branches;
next	1.21;

1.21
date	2009.10.04.18.22.31;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.09.10.21.23.28;	author landry;	state Exp;
branches;
next	1.19;

1.19
date	2009.08.11.18.55.29;	author landry;	state Exp;
branches;
next	1.18;

1.18
date	2009.08.11.08.42.09;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.06.11.08.32.42;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2009.06.05.17.28.57;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2009.03.07.15.37.39;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2009.01.06.09.01.21;	author jasper;	state Exp;
branches
	1.14.2.1;
next	1.13;

1.13
date	2008.11.11.17.19.34;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2008.10.28.01.22.46;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2008.01.22.20.31.11;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2008.01.04.17.48.38;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2007.11.24.08.05.56;	author winiger;	state Exp;
branches;
next	1.8;

1.8
date	2007.10.23.11.28.09;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2007.10.02.19.09.44;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.15.20.04.26;	author merdely;	state Exp;
branches;
next	1.5;

1.5
date	2007.01.04.20.19.55;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2006.12.16.12.22.36;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2006.10.12.14.09.32;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2005.11.10.12.18.25;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2004.07.16.21.01.35;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.07.16.21.01.35;	author todd;	state Exp;
branches;
next	;

1.14.2.1
date	2009.08.20.03.51.14;	author william;	state Exp;
branches;
next	;


desc
@@


1.55
log
@Drop the gettext module.
@
text
@# $OpenBSD: Makefile,v 1.54 2016/03/18 21:38:26 naddy Exp $

COMMENT-main =	C++ cross-platform GUI toolkit
COMMENT-media =	wxMediaCtrl class for wxWidgets

V =		2.8.12
DISTNAME =	wxWidgets-${V}
PKGNAME-main =	wxWidgets-gtk2-${V}
PKGNAME-media =	wxWidgets-media-${V}
REVISION-main =	13
REVISION-media =8
CATEGORIES =	x11
MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=wxwindows/}

SHARED_LIBS =	wx_base			3.0	\
		wx_base_net		3.0	\
		wx_base_odbc		3.0	\
		wx_base_xml		3.0	\
		wx_gtk2_adv		3.0	\
		wx_gtk2_aui		3.0	\
		wx_gtk2_core		3.0	\
		wx_gtk2_dbgrid		3.0	\
		wx_gtk2_fl		3.0	\
		wx_gtk2_gizmos		3.0	\
		wx_gtk2_gizmos_xrc	3.0	\
		wx_gtk2_gl		3.0	\
		wx_gtk2_html		3.0	\
		wx_gtk2_media		3.0	\
		wx_gtk2_ogl		3.0	\
		wx_gtk2_plot		3.0	\
		wx_gtk2_qa		3.0	\
		wx_gtk2_richtext	3.0	\
		wx_gtk2_stc		3.0	\
		wx_gtk2_svg		3.0	\
		wx_gtk2_xrc		3.0

HOMEPAGE =	http://www.wxwidgets.org/

# wxWindows (modified LGPL)
# http://www.wxwidgets.org/about/licence/
PERMIT_PACKAGE_CDROM =	Yes

MULTI_PACKAGES = -main -media

BUILD_DEPENDS =	devel/cppunit \
		devel/gettext-tools
LIB_DEPENDS =	devel/gettext \
		x11/gtk+2
TEST_DEPENDS = ${BUILD_PKGPATH}>=${V}

LIB_DEPENDS-main = ${LIB_DEPENDS} \
		   archivers/libmspack \
		   databases/iodbc \
		   devel/sdl
WANTLIB-main += GL GLU SDL SM X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB-main += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c expat
WANTLIB-main += fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB-main += glib-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0 iconv
WANTLIB-main += intl iodbc jpeg m mspack pango-1.0 pangoft2-1.0 png
WANTLIB-main += pthread stdc++ tiff z

LIB_DEPENDS-media = ${LIB_DEPENDS} \
		    devel/gconf2 \
		    multimedia/gstreamer-0.10/core \
		    multimedia/gstreamer-0.10/plugins-base \
		    ${BASE_PKGPATH},-main>=${V}
WANTLIB-media += SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB-media += Xrandr Xrender Xxf86vm atk-1.0 fontconfig freetype
WANTLIB-media += gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB-media += gmodule-2.0 gobject-2.0 gstinterfaces-0.10 gstreamer-0.10
WANTLIB-media += gthread-2.0 gtk-x11-2.0 iconv intl jpeg m pango-1.0
WANTLIB-media += pangoft2-1.0 png pthread stdc++ tiff wx_base wx_gtk2_core
WANTLIB-media += xml2 z

MAKE_FLAGS =	WXUNICODEFLAG=""
.for _l _v in ${SHARED_LIBS}
MAKE_ENV +=	LIB${_l}_VERSION=${_v}
.endfor

USE_GMAKE =	Yes
AUTOCONF_VERSION = 2.59
CONFIGURE_STYLE =autoconf no-autoheader
CONFIGURE_ARGS =--disable-backtrace \
		--enable-mediactrl \
		--enable-unicode \
		--with-odbc \
		--with-opengl \
		--with-sdl \
		--without-gnomeprint \
		--enable-graphics_ctx
CONFIGURE_ENV =	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
		WXCONFIG_CPPFLAGS="-I${X11BASE}/include" \
		ac_cv_lib_esd_esd_close=no

# XXX: When used in conjunction with PIE, symbol versioning triggers
# weird linking problems in dependent ports
CONFIGURE_ENV += wx_cv_version_script=no

.ifdef DEBUG
CONFIGURE_ARGS += --enable-debug
.endif

do-test:
	@@cd ${WRKSRC}/tests && \
		${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} ${MAKE_FLAGS} && ./test

.include <bsd.port.mk>
@


1.54
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2016/01/02 22:19:06 jasper Exp $
d10 2
a11 2
REVISION-main =	12
REVISION-media =7
d45 4
a48 11
WANTLIB += GL SM X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 expat
WANTLIB += fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0
WANTLIB += jpeg m pango-1.0 pangoft2-1.0 pixman-1 png pthread
WANTLIB += pthread-stubs stdc++ tiff xcb xcb-render xcb-shm z

MODULES	=	devel/gettext

BUILD_DEPENDS =	devel/cppunit
LIB_DEPENDS =	x11/gtk+2
d55 6
a60 1
WANTLIB-main += ${WANTLIB} GLU SDL c iodbc mspack pthread
d67 7
a73 3
WANTLIB-media += ${WANTLIB} gconf-2 gstinterfaces-0.10 \
		 gstreamer-0.10 wx_base wx_gtk2_core xml2 \
		 gmodule-2.0
@


1.53
log
@missing @@conflict markers for previous commit

"looks right" to aja@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.52 2016/01/02 21:30:52 jasper Exp $

SHARED_ONLY =	Yes
@


1.52
log
@tweak license comment
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2016/01/02 21:27:56 jasper Exp $
d12 2
a13 2
REVISION-main =	11
REVISION-media =6
@


1.51
log
@move mediactrl.h to the correct package

ok bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2015/07/05 15:17:36 ajacoutot Exp $
d41 2
a42 1
# modified LGPL
@


1.50
log
@Pass -I${X11BASE}/include to WXCONFIG_CPPFLAGS.

committing on behalf of jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/11/25 14:16:24 sthen Exp $
d12 2
a13 2
REVISION-main =	10
REVISION-media =5
@


1.49
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/09/30 12:37:23 sthen Exp $
d12 1
a12 1
REVISION-main =	9
d92 1
@


1.48
log
@wrong subpkg bumped for gconf ;)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/09/27 17:49:12 ajacoutot Exp $
a72 2

VMEM_WARNING =	Yes
@


1.47
log
@Bump after devel/gconf2,-main is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/06/04 18:42:00 naddy Exp $
d13 1
a13 1
REVISION-media =4
@


1.46
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/03/11 11:46:17 espie Exp $
d12 1
a12 1
REVISION-main =	8
@


1.45
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/12/10 20:51:24 edd Exp $
d92 1
a92 1
CONFIGURE_ENV =	CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng -I${X11BASE}/include" \
@


1.44
log
@Enable graphicscontext support in wxWidgets.

Adds a dependency upon pthread. Tested a handful of dependent ports with
success.

This change allows the fs-uae launcher to render correctly.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/11/06 09:37:14 dcoppa Exp $
a41 2
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
a42 1
PERMIT_PACKAGE_FTP =	Yes
d57 1
a57 1
REGRESS_DEPENDS = ${BUILD_PKGPATH}>=${V}
d104 1
a104 1
do-regress:
@


1.43
log
@For x11/wxWidgets, avoid using '-Wl,--version-script'.
When used in conjunction with PIE, symbol versioning triggers weird
linking problems in dependent ports.
This appears to unbreak graphics/hugin.
Bump all the majors of wx shared libraries and amend graphics/hugin
accordingly.

Kudos to naddy@@: a 2009 message to misc@@ from him put me on the
right track.

OK sthen@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2012/09/06 12:38:35 ajacoutot Exp $
d12 2
a13 2
REVISION-main =	7
REVISION-media =3
d53 2
a54 2
WANTLIB += jpeg m pango-1.0 pangoft2-1.0 pixman-1 png pthread-stubs
WANTLIB += stdc++ tiff xcb xcb-render xcb-shm z
d93 2
a94 1
		--without-gnomeprint
@


1.42
log
@Bump after gstreamer-plugins-base subpackaging change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2012/09/04 17:17:08 landry Exp $
d12 2
a13 2
REVISION-main =	6
REVISION-media =2
d17 21
a37 21
SHARED_LIBS =	wx_base			2.1	\
		wx_base_net		2.1	\
		wx_base_odbc		2.1	\
		wx_base_xml		2.1	\
		wx_gtk2_adv		2.1	\
		wx_gtk2_aui		2.1	\
		wx_gtk2_core		2.1	\
		wx_gtk2_dbgrid		2.1	\
		wx_gtk2_fl		2.1	\
		wx_gtk2_gizmos		2.1	\
		wx_gtk2_gizmos_xrc	2.1	\
		wx_gtk2_gl		2.1	\
		wx_gtk2_html		2.1	\
		wx_gtk2_media		2.1	\
		wx_gtk2_ogl		2.1	\
		wx_gtk2_plot		2.1	\
		wx_gtk2_qa		2.1	\
		wx_gtk2_richtext	2.1	\
		wx_gtk2_stc		2.1	\
		wx_gtk2_svg		2.1	\
		wx_gtk2_xrc		2.1
d97 4
@


1.41
log
@add @@pkgpath x11/wxWidgets to PLIST-main to ease upgrades from pkgs
before the -main/-media split in rev 1.38.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2012/03/30 12:03:03 ajacoutot Exp $
d12 2
a13 2
REVISION-main =	5
REVISION-media =1
@


1.40
log
@Fix LIB_DEPENDS/WANTLIB to unbreak, spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/12/11 18:04:02 dcoppa Exp $
d12 1
a12 1
REVISION-main =	4
@


1.39
log
@Unbreak py-wxPython: "include/wx/mediactrl.h" needs to go into
PLIST-main.

Ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/12/09 09:10:05 dcoppa Exp $
d12 2
a13 2
REVISION-main =	3
REVISION-media =0
d52 1
a52 1
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0
d69 1
d74 2
a75 1
		 gstreamer-0.10 wx_base wx_gtk2_core xml2
@


1.38
log
@Split wxWidgets into -main,-media.
wxWidgets-media is the wxMediaCtrl class for wxWidgets, which depends
on gstreamer.

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/12/06 10:23:37 dcoppa Exp $
d12 2
a13 1
REVISION-main =	2
@


1.37
log
@Cleanup diff from Brad:

Enable the MediaCtrl class support.
Re-enable wide character functions which OpenBSD now has.
Remove some now-unnecessary patches.
Remove the NULL cast patches.
Simplify the autoconf patching.

Tested on amd64 by Brad and on sparc64 by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/09/16 12:29:17 espie Exp $
d5 2
a6 1
COMMENT =	C++ cross-platform GUI toolkit
d10 3
a12 2
PKGNAME =	wxWidgets-gtk2-${V}
REVISION =	1
d46 8
a53 7
WANTLIB += GL GLU SDL SM X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c expat
WANTLIB += fontconfig freetype gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gstinterfaces-0.10
WANTLIB += gstreamer-0.10 gthread-2.0 gtk-x11-2.0 iodbc jpeg m
WANTLIB += mspack pango-1.0 pangoft2-1.0 pixman-1 pthread pthread-stubs
WANTLIB += stdc++ tiff xcb xcb-render xcb-shm xml2 z
d58 1
a58 6
LIB_DEPENDS =	archivers/libmspack \
		databases/iodbc \
		devel/sdl \
		multimedia/gstreamer-0.10/core \
		multimedia/gstreamer-0.10/plugins-base \
		x11/gtk+2
d60 13
@


1.36
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/05/22 08:13:18 dcoppa Exp $
d5 1
a5 1
COMMENT =	c++ cross-platform GUI toolkit
d10 3
a12 1
REVISION=	0
d27 1
a34 1
CATEGORIES =	x11
d44 7
a50 1
MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=wxwindows/}
a52 2
USE_GMAKE =	Yes
VMEM_WARNING =	Yes
a54 1

d56 1
d58 4
a61 2
		x11/gtk+2 \
		databases/iodbc
d63 1
a63 1
REGRESS_DEPENDS +=${BUILD_PKGPATH}>=${V}
d65 4
a68 7
WANTLIB += GL GLU SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0
WANTLIB += c drm expat fontconfig freetype gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 jpeg m pango-1.0
WANTLIB += pangoft2-1.0 pixman-1 png pthread stdc++ SDL iodbc
WANTLIB += tiff z pthread-stubs xcb xcb-render xcb-shm mspack
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gtk-x11-2.0
d70 1
a71 6
CONFIGURE_ENV =	LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib -pthread" \
		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng -I${X11BASE}/include" \
		ac_cv_lib_esd_esd_close=no \
		ac_cv_func_swprintf=no \
		wx_cv_func_wprintf=no \
		wx_cv_func_vswprintf=no
d73 4
a76 9
CONFIGURE_ARGS =--with-expat=sys \
		--with-odbc=sys \
		--with-libjpeg=sys \
		--with-libpng=sys \
		--with-libtiff=sys \
		--with-libxpm=sys \
		--with-zlib=sys \
		--with-regex=builtin \
		--with-gtk \
d79 4
a82 8
		--without-gnomeprint \
		--without-gnomevfs \
		--without-hildon \
		--enable-gui \
		--enable-sound \
		--enable-unicode \
		--disable-backtrace \
		--disable-stl
a86 6

.for _l _v in ${SHARED_LIBS}
MAKE_ENV +=	LIB${_l}_VERSION=${_v}
.endfor

MAKE_FLAGS =	WXUNICODEFLAG=""
@


1.35
log
@Update to wxWidgets-2.8.12.

Tested in a bulk build by landry@@
OK rpointel@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/04/28 17:50:43 kili Exp $
d10 1
@


1.34
log
@Enable unicode even with wprintf() available but not wscanf().

ok sthen@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/04/23 09:07:50 kili Exp $
d7 1
a7 1
V =		2.8.11
a9 1
REVISION =	4
d11 20
a30 20
SHARED_LIBS =	wx_base			2.0	\
		wx_base_net		2.0	\
		wx_base_odbc		2.0	\
		wx_base_xml		2.0	\
		wx_gtk2_adv		2.0	\
		wx_gtk2_aui		2.0	\
		wx_gtk2_core		2.0	\
		wx_gtk2_dbgrid		2.0	\
		wx_gtk2_fl		2.0	\
		wx_gtk2_gizmos		2.0	\
		wx_gtk2_gizmos_xrc	2.0	\
		wx_gtk2_gl		2.0	\
		wx_gtk2_html		2.0	\
		wx_gtk2_ogl		2.0	\
		wx_gtk2_plot		2.0	\
		wx_gtk2_qa		2.0	\
		wx_gtk2_richtext	2.0	\
		wx_gtk2_stc		2.0	\
		wx_gtk2_svg		2.0	\
		wx_gtk2_xrc		2.0
@


1.33
log
@Include gtk2-ansi-release bits after unicode had been disabled.

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/04/22 12:47:41 stsp Exp $
d10 1
a10 1
REVISION =	3
d68 4
a71 1
		ac_cv_lib_esd_esd_close=no
d91 1
a91 2
		--disable-stl \
		--disable-unicode
@


1.32
log
@wxWidgets requires both wprintf() and wscanf() for unicode support.
We're not going to add both at the same time so explicitly disable unicode
support at configure time until both functions have been added.
ok landry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/11/22 08:37:05 espie Exp $
d10 1
a10 1
REVISION =	2
@


1.31
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/11/08 10:58:05 dcoppa Exp $
d10 1
a10 1
REVISION =	1
d88 2
a89 1
		--disable-stl
@


1.30
log
@We now have sched_get_priority_*

OK landry@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/11/04 12:05:25 dcoppa Exp $
d48 1
a48 1
BUILD_DEPENDS =	::devel/cppunit
d50 4
a53 4
LIB_DEPENDS =	::archivers/libmspack \
		::devel/sdl \
		::x11/gtk+2 \
		::databases/iodbc
d55 1
a55 1
REGRESS_DEPENDS +=:wxWidgets-gtk2->=${V}:${BUILD_PKGPATH}
@


1.29
log
@Fix debug build.

"Go ahead" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/11/02 13:10:51 dcoppa Exp $
d10 1
a10 1
REVISION =	0
@


1.28
log
@Update to wxWidgets-2.8.11

Successfully tested in a bulk build by landry@@

OK steven@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/10/24 21:15:35 ajacoutot Exp $
d10 1
d89 4
@


1.27
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/10/11 08:19:59 jasper Exp $
d3 1
a3 1
SHARED_ONLY=	Yes
d5 1
a5 1
COMMENT=	c++ cross-platform GUI toolkit
d7 3
a9 4
V=		2.8.10
DISTNAME=	wxWidgets-${V}
PKGNAME=	wxWidgets-gtk2-${V}
REVISION=	4
d11 1
a11 1
SHARED_LIBS=	wx_base			2.0	\
a23 1
		wx_gtk2_mmedia		2.0	\
d31 1
a31 1
CATEGORIES=	x11
d33 1
a33 1
HOMEPAGE=	http://www.wxwidgets.org/
d36 4
a39 10
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=wxwindows/}

MODULES=	devel/gettext
USE_GMAKE=	Yes
VMEM_WARNING=	Yes
d41 9
a49 2
BUILD_DEPENDS=	::devel/cppunit
LIB_DEPENDS=	::archivers/libmspack \
d52 3
a54 2
		::databases/iodbc \
		::audio/esound
d58 4
a61 4
WANTLIB += c expat fontconfig freetype gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 jpeg m ossaudio esd
WANTLIB += pango-1.0 pangoft2-1.0 pixman-1 png pthread stdc++ SDL iodbc
WANTLIB += tiff z pthread-stubs xcb xcb-render xcb-render-util mspack
d64 15
a78 9
AUTOCONF_VERSION=2.59
CONFIGURE_ENV=	LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib -pthread" \
		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng -I${X11BASE}/include"
CONFIGURE_STYLE=autoconf no-autoheader
CONFIGURE_ARGS=	--disable-stl \
		--with-odbc \
		--with-libjpeg \
		--with-libtiff \
		--with-expat \
a79 1
		--with-gtk \
d81 1
d83 3
a85 1
		--with-opengl \
d87 1
a87 1
		--enable-unicode
d90 1
a90 1
MAKE_ENV+=	LIB${_l}_VERSION=${_v}
d93 5
a97 1
MAKE_FLAGS=	WXUNICODEFLAG=""
@


1.26
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/07/30 08:03:00 ajacoutot Exp $
a46 1
USE_X11=	Yes
@


1.25
log
@Move move to new DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/07/30 06:59:01 ajacoutot Exp $
d10 1
a10 1
REVISION=	3
d59 1
a59 1
WANTLIB += c expat fontconfig freetype gio-2.0 glib-2.0 glitz
@


1.24
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/05/20 10:39:20 espie Exp $
d10 1
a10 1
REVISION=	2
d51 5
a55 5
LIB_DEPENDS=	mspack::archivers/libmspack \
		SDL::devel/sdl \
		gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2 \
		iodbc::databases/iodbc \
		esd::audio/esound
d60 4
a63 3
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 jpeg m ossaudio
WANTLIB += pango-1.0 pangoft2-1.0 pixman-1 png pthread stdc++
WANTLIB += tiff z pthread-stubs xcb xcb-render xcb-render-util
@


1.23
log
@avoid conflict with glib2 headers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/05/02 16:09:55 landry Exp $
d9 2
a10 1
PKGNAME=	wxWidgets-gtk2-${V}p2
@


1.22
log
@Remove -Wl,-soname libfoo.so from link lines, this was recording the
wrong library name inside the .so and confusing make
port-lib-depends-check. While here, fix WANTLIB.
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/10/04 18:22:31 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	wxWidgets-gtk2-${V}p1
@


1.21
log
@Fix build with newer glib2.

from Gentoo via David Coppa and others.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/09/10 21:23:28 landry Exp $
d9 1
a9 1
PKGNAME=	wxWidgets-gtk2-${V}p0
d61 1
a61 1
WANTLIB += tiff z pthread-stubs xcb
@


1.20
log
@Update to wxWidgets 2.8.10.
Tested in a bulk build by (thanks!) and ok sthen@@ jasper@@.
Diff looks alright to steven@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/08/11 18:55:29 landry Exp $
d7 4
a10 2
DISTNAME=	wxWidgets-2.8.10
PKGNAME=	wxWidgets-gtk2-2.8.10
@


1.19
log
@Install locales, prompted by a similar diff from Stefan Rinkes on ports@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/08/11 08:42:09 ajacoutot Exp $
d7 23
a29 23
DISTNAME=	wxWidgets-2.8.7
PKGNAME=	wxWidgets-gtk2-2.8.7p6
SHARED_LIBS=	wx_base			1.0	\
		wx_base_net		1.0	\
		wx_base_odbc		1.0	\
		wx_base_xml		1.0	\
		wx_gtk2_adv		1.0	\
		wx_gtk2_aui		1.0	\
		wx_gtk2_core		1.0	\
		wx_gtk2_dbgrid		1.0	\
		wx_gtk2_fl		1.0	\
		wx_gtk2_gizmos		1.0	\
		wx_gtk2_gizmos_xrc	1.0	\
		wx_gtk2_gl		1.0	\
		wx_gtk2_html		1.0	\
		wx_gtk2_mmedia		1.0	\
		wx_gtk2_ogl		1.0	\
		wx_gtk2_plot		1.0	\
		wx_gtk2_qa		1.0	\
		wx_gtk2_richtext	1.0	\
		wx_gtk2_stc		1.0	\
		wx_gtk2_svg		1.0	\
		wx_gtk2_xrc		1.0
@


1.18
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/06/11 08:32:42 jasper Exp $
d8 1
a8 1
PKGNAME=	wxWidgets-gtk2-2.8.7p5
@


1.17
log
@SECURITY FIX for part 2 or SA35292 (wxWidgets Double Free Vulnerability).
patch from upstream svn
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/06/05 17:28:57 jasper Exp $
d8 1
a8 1
PKGNAME=	wxWidgets-gtk2-2.8.7p4
d59 1
a59 1
WANTLIB += tiff z
@


1.16
log
@- add SECURITY FIX for the first part of SA35292
wxWidgets Double Free Vulnerability

patch from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/03/07 15:37:39 jasper Exp $
d8 1
a8 1
PKGNAME=	wxWidgets-gtk2-2.8.7p3
@


1.15
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/01/06 09:01:21 jasper Exp $
d8 1
a8 1
PKGNAME=	wxWidgets-gtk2-2.8.7p2
@


1.14
log
@The socket code in wxWidgets doesn't initialize the servent_data
structure that is passed to getservbyname_r().  Programs that use this
code die with a segfault.

from Andreas V?gele, who also sent it upstream, thanks!
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/11/11 17:19:34 naddy Exp $
d8 1
a8 1
PKGNAME=	wxWidgets-gtk2-2.8.7p1
d54 6
a59 5
WANTLIB=	SM Xau Xcursor Xcomposite Xdamage Xdmcp Xfixes Xi Xrandr X11 \
		Xext Xinerama Xxf86vm Xrender GL GLU fontconfig freetype \
		pthread c m stdc++ z expat ossaudio jpeg png tiff glitz \
		glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 \
		pango-1.0 pangoft2-1.0 pixman-1 atk-1.0
@


1.14.2.1
log
@SECURITY FIX

MFC:

Resolve SA35292:

wxWidgets Double Free Vulnerability (from upstream svn)

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/06/11 08:32:42 jasper Exp $
d8 1
a8 1
PKGNAME=	wxWidgets-gtk2-2.8.7p4
d58 1
a58 1
		pango-1.0 pangoft2-1.0 pixman-1 atk-1.0 gio-2.0
@


1.13
log
@explicitly disable stackwalker; fixes build when libexecinfo happens
to be installed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/10/28 01:22:46 jasper Exp $
d8 1
a8 1
PKGNAME=	wxWidgets-gtk2-2.8.7p0
@


1.12
log
@- update WANTLIB
- regen PLIST while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/01/22 20:31:11 steven Exp $
d74 1
@


1.11
log
@maintenance update to 2.8.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/01/04 17:48:38 espie Exp $
d8 1
a8 1
PKGNAME=	wxWidgets-gtk2-2.8.7
d58 1
a58 1
		pango-1.0 pangoft2-1.0 atk-1.0
@


1.10
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/11/24 08:05:56 winiger Exp $
d7 2
a8 2
DISTNAME=	wxWidgets-2.8.6
PKGNAME=	wxWidgets-gtk2-2.8.6p0
@


1.9
log
@fix WANTLIB, bump PKGNAME

ok okan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/10/23 11:28:09 steven Exp $
a80 2
FAKE_FLAGS=	${DESTDIRNAME}=${WRKINST}
FAKE_FLAGS+=	WXUNICODEFLAG=""
@


1.8
log
@update to 2.8.6

tested by various people
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/10/02 19:09:44 jasper Exp $
d8 1
a8 1
PKGNAME=	wxWidgets-gtk2-2.8.6
d54 3
a56 3
WANTLIB=	SM Xau Xcursor Xdmcp Xfixes Xi Xrandr X11 Xext Xinerama \
		Xxf86vm Xrender GL GLU fontconfig freetype pthread \
		c m stdc++ z expat ossaudio jpeg png tiff glitz \
@


1.7
log
@we prefer the idiom of MODULES=devel/gettext over MODULES=gettext

"looks good" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/09/15 20:04:26 merdely Exp $
d7 23
a29 24
DISTNAME=	wxWidgets-2.6.3
PKGNAME=	wxWidgets-gtk2-2.6.3p0
SHARED_LIBS=	wx_base		0.0	\
		wx_base_net	0.0	\
		wx_base_odbc	0.0	\
		wx_base_xml	0.0	\
		wx_gtk2_adv	0.0	\
		wx_gtk2_core	0.0	\
		wx_gtk2_dbgrid	0.0	\
		wx_gtk2_gl	0.0	\
		wx_gtk2_html	0.0	\
		wx_gtk2_media	0.0	\
		wx_gtk2_qa	0.0	\
		wx_gtk2_xrc	0.0	\
		wx_gtk2_fl	0.0	\
		wx_gtk2_gizmos	0.0	\
		wx_gtk2_gizmos_xrc	0.0	\
		wx_gtk2_mmedia	0.0	\
		wx_gtk2_ogl	0.0	\
		wx_gtk2_plot	0.0	\
		wx_gtk2_stc	0.0	\
		wx_gtk2_svg	0.0	\
		wx_gtk2_deprecated	0.0	\
		wx_gtk2_animate	0.0
a43 1
USE_LIBTOOL=	Yes
d53 4
a56 3
		
WANTLIB=	X11 Xext Xinerama Xxf86vm c fontconfig freetype m pthread \
		Xrender stdc++ usbhid z expat ossaudio jpeg png tiff glitz \
d58 1
a58 2
		pango-1.0 pangoft2-1.0 \
		atk-1.0 GL GLU
d75 4
@


1.6
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/01/04 20:19:55 steven Exp $
d43 1
a43 1
MODULES=	gettext
@


1.5
log
@fix WANTLIB of ports using gtk, needed after switch to our own pkg-config
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/12/16 12:22:36 espie Exp $
d5 1
a5 1
COMMENT=	"c++ cross-platform GUI toolkit"
@


1.4
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/10/12 14:09:32 alek Exp $
d8 1
a8 1
PKGNAME=	wxWidgets-gtk2-2.6.3
d57 1
a57 1
		stdc++ usbhid z expat ossaudio jpeg png tiff \
@


1.3
log
@Update to 2.6.3; now there is only one version -- gtk2
@
text
@d1 1
a1 1
# $OpenBSD$
d49 1
a49 2
BUILD_DEPENDS=	:pkgconfig-*:devel/pkgconfig \
		::devel/cppunit
@


1.2
log
@finally fix that mess: simply create a gtkheaders package holding the
common files, and change the gtk2 package name so that it no longer
looks like a flavor of gtk.

Do not forget to add the relevant conflict lines so that updates won't crash.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/07/16 21:01:35 todd Exp $
d3 1
a3 9
  SUBDIR += headers
  SUBDIR += base
  SUBDIR += gtkheaders
  SUBDIR += gtk
  SUBDIR += gtk2
  SUBDIR += motif
# We can't install motif & lesstif together until the lesstif port is updated
#  SUBDIR += lesstif
  SUBDIR += x11univ
d5 79
a83 1
.include <bsd.port.subdir.mk>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2003/09/21 05:25:04 andrew Exp $
d5 1
@


1.1.1.1
log
@wxWidgets 2.4.2, C++ cross-platform GUI toolkit

www: http://www.wxwidgets.org/

from Andrew Dalgleish   < openbsd at ajd dot net dot au >
many thanks for much persistence!
@
text
@@
