head	1.2;
access;
symbols
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_4:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2004.05.06.07.27.49;	author biorn;	state dead;
branches
	1.2.2.1;
next	1.1;

1.1
date	2004.03.30.21.06.17;	author biorn;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2004.04.16.00.48.45;	author brad;	state Exp;
branches;
next	;

1.2.2.1
date	2004.05.08.13.11.12;	author biorn;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Take it to 1.0pre4

ok brad@@
@
text
@$OpenBSD: patch-libmpdemux_http_c,v 1.1 2004/03/30 21:06:17 biorn Exp $
--- libmpdemux/http.c.orig	2004-03-30 21:59:15.000000000 +0200
+++ libmpdemux/http.c	2004-03-30 22:00:20.000000000 +0200
@@@@ -175,7 +175,7 @@@@ http_build_request( HTTP_header_t *http_
 	if( http_hdr->method==NULL ) http_set_method( http_hdr, "GET");
 	if( http_hdr->uri==NULL ) http_set_uri( http_hdr, "/");
 	else {
-		uri = (char*)malloc(strlen(http_hdr->uri)*2);
+		uri = (char*)malloc((strlen(http_hdr->uri)*3) + 1);
 		if( uri==NULL ) {
 			mp_msg(MSGT_NETWORK,MSGL_ERR,"Memory allocation failed\n");
 			return NULL;
@


1.2.2.1
log
@Plug two remote exploits, streaming over http and rtsp
Bump PKGNAME

ok brad@@
@
text
@d1 1
a1 1
$OpenBSD: patch-libmpdemux_http_c,v 1.1.2.1 2004/04/16 00:48:45 brad Exp $
@


1.1
log
@Plug remote buffer overflow and bump PKGNAME
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@Plug remote buffer overflow and bump PKGNAME
@
text
@d1 1
a1 1
$OpenBSD: patch-libmpdemux_http_c,v 1.1 2004/03/30 21:06:17 biorn Exp $
@

