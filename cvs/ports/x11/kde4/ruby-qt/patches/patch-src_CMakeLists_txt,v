head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.16
	OPENBSD_6_2_BASE:1.1
	OPENBSD_6_1:1.1.0.14
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.12
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.8
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.10
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.6
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2014.01.15.16.21.56;	author zhuk;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Fix linking.
@
text
@$OpenBSD$
Fix linking.
--- src/CMakeLists.txt.orig	Wed Jan 15 19:59:51 2014
+++ src/CMakeLists.txt	Wed Jan 15 20:03:30 2014
@@@@ -31,11 +31,6 @@@@ add_library(qtruby4shared SHARED ${qtrubyshared_LIB_SR
 add_library(qtruby4 MODULE ${qtruby_LIB_SRCS})
 
 target_link_libraries(  qtruby4shared 
-                            ${QT_QTCORE_LIBRARY} 
-                            ${QT_QTGUI_LIBRARY} 
-                            ${RUBY_LIBRARY} 
-                            ${QT_QTNETWORK_LIBRARY}
-                            ${SMOKE_BASE_LIBRARY}
                             ${SMOKE_QTCORE_LIBRARY} 
                             ${SMOKE_QTGUI_LIBRARY} 
                             ${SMOKE_QTXML_LIBRARY} 
@@@@ -43,14 +38,16 @@@@ target_link_libraries(  qtruby4shared 
                             ${SMOKE_QTSQL_LIBRARY} 
                             ${SMOKE_QTNETWORK_LIBRARY} 
                             ${SMOKE_QTDBUS_LIBRARY} 
-                            ${SMOKE_QTSVG_LIBRARY} )
+                            ${SMOKE_QTSVG_LIBRARY}
+                            ${SMOKE_BASE_LIBRARY}
+                            ${QT_QTNETWORK_LIBRARY}
+                            ${QT_QTGUI_LIBRARY} 
+                            ${QT_QTCORE_LIBRARY} 
+                            ${RUBY_LIBRARY}
+                            )
 
 target_link_libraries(  qtruby4 
-                            ${QT_QTCORE_LIBRARY} 
-                            ${QT_QTGUI_LIBRARY} 
-                            ${QT_QTDBUS_LIBRARY} 
-                            ${RUBY_LIBRARY} 
-                            ${QT_QTNETWORK_LIBRARY} 
+                            qtruby4shared
                             ${SMOKE_QTCORE_LIBRARY} 
                             ${SMOKE_QTGUI_LIBRARY} 
                             ${SMOKE_QTXML_LIBRARY} 
@@@@ -59,9 +56,14 @@@@ target_link_libraries(  qtruby4 
                             ${SMOKE_QTNETWORK_LIBRARY} 
                             ${SMOKE_QTDBUS_LIBRARY} 
                             ${SMOKE_QTSVG_LIBRARY}
-                            qtruby4shared )
+                            ${QT_QTNETWORK_LIBRARY} 
+                            ${QT_QTDBUS_LIBRARY} 
+                            ${QT_QTGUI_LIBRARY} 
+                            ${QT_QTCORE_LIBRARY} 
+                            ${RUBY_LIBRARY} 
+                            )
 
-# target_link_libraries(qtrubyinternal ${QT_QTCORE_LIBRARY} ${RUBY_LIBRARY} ${QT_QTNETWORK_LIBRARY})
+# target_link_libraries(qtrubyinternal ${QT_QTNETWORK_LIBRARY} ${QT_QTCORE_LIBRARY} ${RUBY_LIBRARY})
 
 set_target_properties(qtruby4 PROPERTIES PREFIX "")
 set_target_properties(qtruby4shared PROPERTIES VERSION 2.0.0 SOVERSION 2)
@
