head	1.32;
access;
symbols
	OPENBSD_6_1:1.31.0.6
	OPENBSD_6_1_BASE:1.31
	OPENBSD_6_0:1.31.0.4
	OPENBSD_6_0_BASE:1.31
	OPENBSD_5_9:1.31.0.2
	OPENBSD_5_9_BASE:1.31
	OPENBSD_5_8:1.25.0.4
	OPENBSD_5_8_BASE:1.25
	OPENBSD_5_7:1.20.0.2
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.19.0.2
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.15.0.2
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	zhuk_20130424:1.1.1.1
	zhuk:1.1.1;
locks; strict;
comment	@# @;


1.32
date	2017.05.03.16.21.09;	author rsadowski;	state Exp;
branches;
next	1.31;
commitid	ZcN8Oen3IeoweukW;

1.31
date	2015.09.22.21.48.25;	author zhuk;	state Exp;
branches;
next	1.30;
commitid	ctY8D0XquHIs2Jv0;

1.30
date	2015.09.22.21.42.28;	author zhuk;	state Exp;
branches;
next	1.29;
commitid	NdVio1OdPMoSGlCV;

1.29
date	2015.09.22.21.24.44;	author zhuk;	state Exp;
branches;
next	1.28;
commitid	GLw3dhRwXsygwA3u;

1.28
date	2015.09.22.16.38.07;	author zhuk;	state Exp;
branches;
next	1.27;
commitid	Bx9xRUjpjqemQDcz;

1.27
date	2015.08.27.07.30.26;	author zhuk;	state Exp;
branches;
next	1.26;
commitid	9nL6QlVqLzyTKfgW;

1.26
date	2015.08.25.11.04.39;	author jca;	state Exp;
branches;
next	1.25;
commitid	jWHBCzKs5xKamlhw;

1.25
date	2015.06.26.09.18.39;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	4UFVMYhVwKp0qm6z;

1.24
date	2015.05.28.10.17.31;	author pascal;	state Exp;
branches;
next	1.23;
commitid	020U4lCPk8wUkCOz;

1.23
date	2015.04.12.18.18.13;	author zhuk;	state Exp;
branches;
next	1.22;
commitid	rFYw8hhhn9ANhBJc;

1.22
date	2015.04.04.09.30.30;	author ajacoutot;	state Exp;
branches;
next	1.21;
commitid	QSLndtZiU46ysFLn;

1.21
date	2015.03.30.16.10.12;	author zhuk;	state Exp;
branches;
next	1.20;
commitid	bnHjil9nVqRA0Sbm;

1.20
date	2014.11.01.21.09.47;	author zhuk;	state Exp;
branches;
next	1.19;
commitid	yISoHfVgp7MFifJl;

1.19
date	2014.07.18.08.17.13;	author zhuk;	state Exp;
branches;
next	1.18;
commitid	J5DCiA9lBlWutwst;

1.18
date	2014.07.12.19.20.17;	author zhuk;	state Exp;
branches;
next	1.17;
commitid	IvDs6ka5lafPqeTj;

1.17
date	2014.07.10.19.55.26;	author zhuk;	state Exp;
branches;
next	1.16;
commitid	6UHUjJG41FO342ND;

1.16
date	2014.07.09.20.03.31;	author zhuk;	state Exp;
branches;
next	1.15;
commitid	VIGhneE7m6586cHK;

1.15
date	2014.02.09.11.45.52;	author zhuk;	state Exp;
branches;
next	1.14;

1.14
date	2014.02.04.15.25.44;	author zhuk;	state Exp;
branches;
next	1.13;

1.13
date	2014.01.15.19.42.12;	author zhuk;	state Exp;
branches;
next	1.12;

1.12
date	2014.01.14.21.41.54;	author zhuk;	state Exp;
branches;
next	1.11;

1.11
date	2014.01.10.08.12.11;	author zhuk;	state Exp;
branches;
next	1.10;

1.10
date	2013.12.28.21.33.26;	author zhuk;	state Exp;
branches;
next	1.9;

1.9
date	2013.12.25.17.33.13;	author zhuk;	state Exp;
branches;
next	1.8;

1.8
date	2013.12.08.19.13.34;	author zhuk;	state Exp;
branches;
next	1.7;

1.7
date	2013.11.24.19.56.30;	author zhuk;	state Exp;
branches;
next	1.6;

1.6
date	2013.08.24.17.33.53;	author zhuk;	state Exp;
branches;
next	1.5;

1.5
date	2013.07.05.14.37.22;	author zhuk;	state Exp;
branches;
next	1.4;

1.4
date	2013.07.04.00.47.01;	author zhuk;	state Exp;
branches;
next	1.3;

1.3
date	2013.06.06.08.36.49;	author zhuk;	state Exp;
branches;
next	1.2;

1.2
date	2013.05.14.09.16.29;	author zhuk;	state Exp;
branches;
next	1.1;

1.1
date	2013.04.24.19.03.25;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.04.24.19.03.25;	author zhuk;	state Exp;
branches;
next	;


desc
@@


1.32
log
@disable doxygen as build depend in KDE4

- survived a bulk, thanks ajacoutot@@

ok jca@@
@
text
@# $OpenBSD: Makefile,v 1.31 2015/09/22 21:48:25 zhuk Exp $

COMMENT-main =		KDE core run-time components
COMMENT-locale =	KDE locale data files
DISTNAME =		kde-runtime-${MODKDE4_VERSION}
PKGNAME-main =		${DISTNAME}
PKGNAME-locale =	kde4-locale-${MODKDE4_VERSION}
PKG_ARCH-locale =	*
REVISION-main =		9
REVISION-locale =	1

DPB_PROPERTIES =	parallel

SHARED_LIBS =	kwalletbackend 		50.0
SHARED_LIBS +=	molletnetwork 		50.0
#SHARED_LIBS +=	nepomukdatamanagement	0.0
SHARED_LIBS +=	kdeinit4_kcmshell4	51.0
SHARED_LIBS +=	kdeinit4_kglobalaccel	51.0
SHARED_LIBS +=	kdeinit4_khelpcenter	51.0
SHARED_LIBS +=	kdeinit4_kuiserver 	51.0
SHARED_LIBS +=	kdeinit4_kwalletd 	51.0

WANTLIB-main =  ${WANTLIB} c m pthread util
WANTLIB-main += Half ICE Iex IlmImf IlmThread Imath SM X11 Xcursor Xext
WANTLIB-main += lib/qt4/QtDBus lib/qt4/QtDeclarative lib/qt4/QtGui
WANTLIB-main += lib/qt4/QtNetwork lib/qt4/QtScript lib/qt4/QtSvg
WANTLIB-main += lib/qt4/QtWebKit lib/qt4/QtXml
WANTLIB-main += ${KDE4LIB}/kactivities ${KDE4LIB}/kcmutils
WANTLIB-main += ${KDE4LIB}/kdeclarative
WANTLIB-main += ${KDE4LIB}/kdesu ${KDE4LIB}/kdeui ${KDE4LIB}/kdewebkit
WANTLIB-main += ${KDE4LIB}/kdnssd ${KDE4LIB}/kemoticons ${KDE4LIB}/kfile
WANTLIB-main += ${KDE4LIB}/khtml ${KDE4LIB}/kio ${KDE4LIB}/kjs
WANTLIB-main += ${KDE4LIB}/kmediaplayer ${KDE4LIB}/knewstuff3
WANTLIB-main += ${KDE4LIB}/knotifyconfig ${KDE4LIB}/kparts ${KDE4LIB}/kpty
WANTLIB-main += ${KDE4LIB}/kxmlrpcclient ${KDE4LIB}/nepomuk
WANTLIB-main += ${KDE4LIB}/nepomukutils
WANTLIB-main += ${KDE4LIB}/plasma ${KDE4LIB}/qgpgme ${KDE4LIB}/solid
WANTLIB-main += attica canberra exiv2 glib-2.0 jpeg pulse
WANTLIB-main += pulse-mainloop-glib smbclient ssh soprano webp
WANTLIB-main += assuan gcrypt gpg-error gpgme++-pthread gpgme-pthread

WANTLIB-locale =

MULTI_PACKAGES =	-main -locale

MODULES =	multimedia/phonon
MODKDE4_USE =	pim libs

BUILD_DEPENDS =		archivers/bzip2 \
			archivers/xz \
			${MODKDE4_DEP_DIR}/nepomuk-core>=${MODKDE4_DEP_VERSION}

RUN_DEPENDS-locale =
RUN_DEPENDS-main =	${RUN_DEPENDS} \
			archivers/bzip2 \
			archivers/xz \
			devel/desktop-file-utils \
			misc/shared-mime-info \
			x11/kde-shared-data,${MODKDE4_FLAVOR}>=${MODKDE4_DEP_VERSION} \
			${MODKDE4_DEP_DIR}/nepomuk-core>=${MODKDE4_DEP_VERSION} \
			kde4-locale-*|kde3-locale-*:${BUILD_PKGPATH},-locale

# /usr/local/share/dbus-1/system-services/
RUN_DEPENDS-main +=	x11/dbus,-suid

# QCA2 is useless without this
RUN_DEPENDS-main +=	security/qca-ossl

LIB_DEPENDS-locale =
LIB_DEPENDS-main =	${LIB_DEPENDS} \
			audio/libcanberra \
			audio/pulseaudio \
			databases/soprano \
			graphics/libwebp \
			graphics/openexr \
			graphics/exiv2 \
			net/samba \
			productivity/attica \
			security/libssh \
			${MODKDE4_DEP_DIR}/kactivities>=${MIN_ACTIVITIES_VERSION}

# QNtrack depends on libnl, Linux-specific library.
CONFIGURE_ARGS =	-DWITH_ALSA:Bool=FALSE \
			-DCMAKE_DISABLE_FIND_PACKAGE_NetworkManager:Bool=TRUE \
			-DCMAKE_DISABLE_FIND_PACKAGE_QNtrack:Bool=TRUE \
			-DCMAKE_DISABLE_FIND_PACKAGE_SLP:Bool=TRUE

MODKDE4_SYSCONF_FILES =	dbus-1	share/examples/kde \
			xdg	share/examples

post-extract:
	cp ${FILESDIR}/*.cmake ${WRKSRC}/cmake/modules/

post-install:
	rm -R ${PREFIX}/share/desktop-directories
	find ${PREFIX}/share/icons -name 'knetattach*' | xargs rm

.include <bsd.port.mk>
@


1.31
log
@... And, of course, it wasn't the bsd.port.mk, but mine, bug: you don't want
to have to specify version requirements twice anyway, so the following
shouldn't work:

  foo->=1|bar-*:foo>=1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/09/22 21:42:28 zhuk Exp $
a50 1
			devel/doxygen \
@


1.30
log
@Double oops.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/09/22 21:24:44 zhuk Exp $
d9 1
a9 1
REVISION-main =		8
d62 1
a62 1
			${BUILD_PKGPATH},-locale>=${MODKDE4_DEP_VERSION}
@


1.29
log
@Revert the previous: it breaks dpb.

It looks like there is a bug in bsd.port.mk...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/09/22 16:38:07 zhuk Exp $
d62 1
a62 1
			kde4-locale-*:${BUILD_PKGPATH},-locale>=${MODKDE4_DEP_VERSION}
@


1.28
log
@KDE3 locale files are perfectly accepted by KDE4 runtime. So lets do not
break the build (seen by naddy@@) and allow kde-runtime-4.x to depend
on kde3-locale-* as well as on kde4-locale-*.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/08/27 07:30:26 zhuk Exp $
d9 1
a9 1
REVISION-main =		7
d62 1
a62 1
			kde4-locale-*|kde3-locale-*:${BUILD_PKGPATH},-locale>=${MODKDE4_DEP_VERSION}
@


1.27
log
@Following dbus update in KDE land.

Fixes two missing @@sample lines while there; it's likely portcheck should
receive a few more lines of code...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/08/25 11:04:39 jca Exp $
d9 1
a9 1
REVISION-main =		6
d62 1
a62 1
			${BUILD_PKGPATH},-locale>=${MODKDE4_DEP_VERSION}
@


1.26
log
@Move samba4 to samba, and tweak the ports tree to use it.

ok ajacoutot@@

Upcoming commits will add additional tweaks.

Many thanks to Vadim Zhukov (who did most of the work), Ian McWilliam
(co-maintainer), Stuart Henderson who provided lots of support and
feedback, Antoine Jacoutot who patiently dealt with my broken diffs,
and more generally all the people involved.  Most of the recent work was
done during p2k15 and c2k15.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/06/26 09:18:39 ajacoutot Exp $
d9 1
a9 1
REVISION-main =		5
d89 1
a89 1
MODKDE4_SYSCONF_FILES =	dbus-1	share/examples \
@


1.25
log
@Bump after the recent phonon MODULE change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/05/28 10:17:31 pascal Exp $
d9 1
a9 1
REVISION-main =		4
d39 1
a39 1
WANTLIB-main += pulse-mainloop-glib lib/samba/smbclient ssh soprano webp
@


1.24
log
@gcc4 bumps, reminded by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/04/12 18:18:13 zhuk Exp $
d9 2
a10 2
REVISION-main =		3
REVISION-locale =	0
@


1.23
log
@Make sure the right smbclient.so is picked up.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/04/04 09:30:30 ajacoutot Exp $
d9 2
a10 1
REVISION-main =		2
@


1.22
log
@These need to RUN_DEPENDS on x11/dbus,-suid now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/03/30 16:10:12 zhuk Exp $
d9 1
a9 1
REVISION-main =		1
d38 1
a38 1
WANTLIB-main += pulse-mainloop-glib smbclient ssh soprano webp
@


1.21
log
@I don't want anyone repeat trial and error I did, so mention minimum
per-process open files limit needed for KDE4 to operate together with
sysctl limits.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/11/01 21:09:47 zhuk Exp $
d9 1
a9 1
REVISION-main =		0
d62 3
@


1.20
log
@Welcome, KDE 4.14.2!

Many patches went upstream, but even more patches are still there...
To be continued!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/07/18 08:17:13 zhuk Exp $
d9 1
@


1.19
log
@Small bugfix KDE 4.13.3. Release announcement:
http://www.kde.org/announcements/announce-4.13.3.php
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/07/12 19:20:17 zhuk Exp $
d58 1
a58 1
			x11/kde-shared-data>=${MODKDE4_DEP_VERSION} \
d76 1
a76 1
			${MODKDE4_DEP_DIR}/kactivities>=${MODKDE4_DEP_VERSION}
d81 2
a82 2
			-DCMAKE_DISABLE_FIND_PACKAGE_SLP:Bool=TRUE \
			-DCMAKE_DISABLE_FIND_PACKAGE_QNtrack:Bool=TRUE
@


1.18
log
@Warn about large file descriptors consumption by KDE, too.

There are plans to lower it but don't hold your breath yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2014/07/10 19:55:26 zhuk Exp $
a8 1
REVISION-main =		1
@


1.17
log
@Bump after multimedia/phonon update with changing RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/07/09 20:03:31 zhuk Exp $
d9 1
a9 1
REVISION-main =		0
@


1.16
log
@"small update" (c) tedu@@

Here KDE 4.13.2 comes. Big release changelogs could be read here:

  http://www.kde.org/announcements/4.12/
  http://www.kde.org/announcements/4.13/

Critical things you should be aware of:

  1. Nepomuk is gone, it's superseeded by Baloo. Nepomuk libraries
     are still here, though, but they do rely on Baloo internally.

  2. kdnssd was renamed to zeroconf-ioslave;

  3. kwallet was renamed to kwalletmanager;

  4. Akonadi cache will be rebuilt; this could result in change
     of PIM folder indexes, which in turn could mess up your
     mail filters - beware.

  5. ... a lot of other little problems that always happen during
     update.

Things could be broken for a day or two in subtle ways - don't
hesistate on reporting them!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2014/02/09 11:45:52 zhuk Exp $
d9 1
@


1.15
log
@Cleanup @@group madness after accidental update-plist run some time ago.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/02/04 15:25:44 zhuk Exp $
a8 1
REVISION-main =		1
d21 1
a21 1
WANTLIB-main =  ${WANTLIB} c m pthread stdc++ util
d34 2
a35 2
WANTLIB-main += ${KDE4LIB}/nepomukcore ${KDE4LIB}/nepomukutils
WANTLIB-main += ${KDE4LIB}/plasma ${KDE4LIB}/solid
d38 2
d49 2
a50 1
			devel/doxygen
d59 1
d76 1
a76 2
			${MODKDE4_DEP_DIR}/kactivities>=${MODKDE4_DEP_VERSION} \
			${MODKDE4_DEP_DIR}/nepomuk-core>=${MODKDE4_DEP_VERSION}
d80 1
@


1.14
log
@Rename KDE4 symlinks it creates in KDEHOME that point out to different
temporary areas. Now KDE3 and KDE4 use totally different "temp" areas and
programs from both worlds could work more or less fine together, even when
sharing KDEHOME (this is NOT a recommended way to do things, but sometimes
you have to, like me). The only two minor problems there I'm aware now are:

1. Konqueror (KDE3) can't open web sites (some KHTML or kio_http issue?).

2. kded (KDE3) hangs when run automatically through kdeinit; killing it and
   starting manually fixes the situation. May be kbuildsycoca-related, will
   investigate more.

If you see any other problems, like hardcoded paths to those symlinks,
don't stay silent.

Oh, and it's really NOT recommended to install this update while having
KDE4 apps running.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2014/01/15 19:42:12 zhuk Exp $
d9 1
a9 1
REVISION-main =		0
@


1.13
log
@KDE 4.11.5. Some highlights:

Three Kate plugins written in Python migrated to Python 3 and thus
are not available for the moment.

kdelibs-4.x deconflicted with kdebindings-3.x, and kde-runtime-4.x
deconflicted with kdebase-3.x. Most notable change is the renaming
of kreadconfig and kwriteconfig by appending a "4" suffix to them.
All ports in CVS and in WIP repo are checked for usage of all renamed
binaries, but anything else could be broken. Sorry.

KWin renamed in kde-workspace again, to avoid conflict with
KFourInLine.

Default dependencies that came from kde4.port.mk now have additional
restriction ",<5". KDE Frameworks won't hit CVS during current cycle
but it's better to be proactive.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/01/14 21:41:54 zhuk Exp $
d9 1
@


1.12
log
@I totally forgot about k{read,write}config problem. So put the
"@@conflict kdebase-*" marker back until the issue is resolved.

Tweak the kde-shared-data dependency line while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2014/01/10 08:12:11 zhuk Exp $
a8 1
REVISION-main =		3
@


1.11
log
@Deconflict kde-runtime-4.x with kdebase-3.x. I tried hard but there still
could be some run-time fallout - feel free to report anything.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/12/28 21:33:26 zhuk Exp $
d9 1
a9 1
REVISION-main =		2
d56 1
a56 1
			x11/kde-shared-data \
@


1.10
log
@Fix stupid typo in RUN_DEPENDS.

portcheck test for catching such errors is on its way.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/12/25 17:33:13 zhuk Exp $
d9 1
a9 1
REVISION-main =		1
d56 1
a56 1
			x11/gtk+2,-guic \
d86 4
@


1.9
log
@Fix linking problems revealed by KDE3 installed side-by-side.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/12/08 19:13:34 zhuk Exp $
d9 1
a9 1
REVISION-main =		0
d60 1
a60 1
RUN_DEPENDS-main =	security/qca-ossl
@


1.8
log
@Move on to KDE 4.11.4.

In this release, four "fat" packages were split:

  * kdeadmin
  * kdenetwork
  * kdesdk
  * kdetoys

To make updates reliable, we provide corresponding meta-packages now.

Many new patches in x11/kde4 correspond to the linking problems detected.
Those are planned to integrate upstream but probably we'll have to keep
some of them until KDE 5.

For information about major KDE 4.11 features, look at the official site:
http://www.kde.org/announcements/4.11/

Kopete Jingle support is disabled for now, until googletalk-call gets
cured from permanent coredumping.

This update involved a lot of help and patience for my mistakes from
many people, including ajacoutot@@, espie@@, naddy@@... but most of the
times this was landry@@ who definitely deserves personal "thank you"!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/11/24 19:56:30 zhuk Exp $
d9 1
@


1.7
log
@Split some locale-specific files out of kdelibs, kdebase and kde-runtime
into some sort of interchangeable subpackages. The idea is that each version
of KDE being installed picks up it's own version of locale-specific package
by default, and KDE4's one doesn't update to KDE3's one automatically, but
can replace it on explicit pkg_add call.

Most of the Makefiles are bumps needed after splitting x11/kde4/libs.

This is a part of KDE3/4 deconflicting work.

hardly tested by landry@@ in a bulk build
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/08/24 17:33:53 zhuk Exp $
a8 1
REVISION-main =		2
d37 1
a37 1
WANTLIB-main += pulse-mainloop-glib smbclient ssh soprano
d58 3
d66 1
d82 3
@


1.6
log
@Assorted fixes after portcheck scan in x11/kde4. Mostly update* goo and
whitespace fixes, but also includes pregeneration of some .pyc files (more
to come).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/07/05 14:37:22 zhuk Exp $
d3 7
a9 3
COMMENT =	KDE core run-time components
DISTNAME =	kde-runtime-${MODKDE4_VERSION}
REVISION =	1
d22 20
a41 16
WANTLIB =  c m pthread stdc++ util
WANTLIB += Half ICE Iex IlmImf IlmThread Imath SM X11 Xcursor Xext
WANTLIB += lib/qt4/QtDBus lib/qt4/QtDeclarative lib/qt4/QtGui
WANTLIB += lib/qt4/QtNetwork lib/qt4/QtScript lib/qt4/QtSvg
WANTLIB += lib/qt4/QtWebKit lib/qt4/QtXml
WANTLIB += ${KDE4LIB}/kactivities ${KDE4LIB}/kcmutils ${KDE4LIB}/kdeclarative
WANTLIB += ${KDE4LIB}/kdesu ${KDE4LIB}/kdeui ${KDE4LIB}/kdewebkit
WANTLIB += ${KDE4LIB}/kdnssd ${KDE4LIB}/kemoticons ${KDE4LIB}/kfile
WANTLIB += ${KDE4LIB}/khtml ${KDE4LIB}/kio ${KDE4LIB}/kjs
WANTLIB += ${KDE4LIB}/kmediaplayer ${KDE4LIB}/knewstuff3
WANTLIB += ${KDE4LIB}/knotifyconfig ${KDE4LIB}/kparts ${KDE4LIB}/kpty
WANTLIB += ${KDE4LIB}/kxmlrpcclient ${KDE4LIB}/nepomuk
WANTLIB += ${KDE4LIB}/nepomukcore ${KDE4LIB}/nepomukutils ${KDE4LIB}/plasma
WANTLIB += ${KDE4LIB}/solid
WANTLIB += attica canberra exiv2 glib-2.0 jpeg pulse
WANTLIB += pulse-mainloop-glib smbclient ssh soprano
d46 25
a70 20
BUILD_DEPENDS =	archivers/bzip2 \
		archivers/xz \
		devel/doxygen

RUN_DEPENDS =	archivers/bzip2 \
		archivers/xz \
		devel/desktop-file-utils \
		misc/shared-mime-info \
		x11/gtk+2,-guic

LIB_DEPENDS =	audio/libcanberra \
		audio/pulseaudio \
		databases/soprano \
		graphics/openexr \
		graphics/exiv2 \
		net/samba \
		productivity/attica \
		security/libssh \
		${MODKDE4_DEP_DIR}/kactivities>=${MODKDE4_DEP_VERSION} \
		${MODKDE4_DEP_DIR}/nepomuk-core>=${MODKDE4_DEP_VERSION}
@


1.5
log
@De-conflict ksvgtopng with KDE3. This tool is used in KDE3 build process
but not in KDE4 one, so it's less painful to tweak KDE4 one.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/07/04 00:47:01 zhuk Exp $
d5 1
a5 1
REVISION =	0
d24 1
a24 1
WANTLIB += ${KDE4LIB}/kdesu ${KDE4LIB}/kdeui ${KDE4LIB}/kdewebkit 
d44 3
a46 1
		devel/desktop-file-utils
@


1.4
log
@Update to KDE 4.10.5. Some highlights:
  * @@conflict markers relative to KDE3 packages added, to be used soon.
  * Migration to Ruby 1.9 for corresponding ports. Also added @@pkgpath to
    x11/ruby-qt4 in x11/kde4/ruby-qt, because they are really the same
    (except that x11/ruby-qt4 contains also smokegen and smokeqt stuff).
  * kde-base-artwork and kde-wallpapers leaved at 4.10.4 because they:
    1) did not change; 2) are heavy enough.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/06/06 08:36:49 zhuk Exp $
d5 1
@


1.3
log
@Bugfix update to KDE 4.10.4. Tested with upcoming CMake 2.8.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/05/14 09:16:29 zhuk Exp $
d11 5
a15 5
SHARED_LIBS +=	kdeinit4_kcmshell4	50.0
SHARED_LIBS +=	kdeinit4_kglobalaccel	50.0
SHARED_LIBS +=	kdeinit4_khelpcenter	50.0
SHARED_LIBS +=	kdeinit4_kuiserver 	50.0
SHARED_LIBS +=	kdeinit4_kwalletd 	50.0
@


1.2
log
@Bugfix update KDE4 to 4.10.3 version, including some tweaks:

  * Bump all SHARED_LIBS to 50.0, to avoid future clashes with KDE3
    libraries (based on input from espie@@);
  * Enable support for Telepathy in kdenetwork (see recently committed
    net/telepathy/telepathy-qt);
  * Fix build of analitza when GNU readline is installed (thanks kirby@@
    for pointing to GNU readline issue in general).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/04/24 19:03:25 zhuk Exp $
d5 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/22 08:37:02 espie Exp $
d6 2
a7 2
SHARED_LIBS =	kwalletbackend 		0.0
SHARED_LIBS +=	molletnetwork 		0.0
d9 5
a13 5
SHARED_LIBS +=	kdeinit4_kcmshell4	0.0
SHARED_LIBS +=	kdeinit4_kglobalaccel	0.0
SHARED_LIBS +=	kdeinit4_khelpcenter	0.0
SHARED_LIBS +=	kdeinit4_kuiserver 	0.0
SHARED_LIBS +=	kdeinit4_kwalletd 	0.0
@


1.1.1.1
log
@Basic KDE run-time components, including:

* kcmshell and kcm modules: basic configuration
* basic kio slaves
* ktrash
* drkonqi (debugger)
* khelpcenter

and some other stuff.
@
text
@@
