head	1.6;
access;
symbols
	OPENBSD_6_0:1.6.0.10
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.6
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.8
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.4
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.2
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.4.0.4
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_4_7:1.2.0.10
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.8
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.6
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.0.2
	OPENBSD_4_2_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2014.07.18.08.08.29;	author zhuk;	state Exp;
branches;
next	1.5;
commitid	ATofM8kj0mtgTu6v;

1.5
date	2014.04.29.08.57.44;	author zhuk;	state Exp;
branches;
next	1.4;

1.4
date	2013.04.24.19.32.57;	author zhuk;	state Exp;
branches;
next	1.3;

1.3
date	2010.06.20.21.01.36;	author espie;	state dead;
branches;
next	1.2;

1.2
date	2008.01.29.00.26.25;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2007.04.02.00.39.25;	author espie;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Cope with recent XScreensaver update.

Noticed by espie@@
@
text
@$OpenBSD: patch-cmake_modules_FindXscreensaver_cmake,v 1.5 2014/04/29 08:57:44 zhuk Exp $
--- cmake/modules/FindXscreensaver.cmake.orig	Thu Jan  2 23:44:58 2014
+++ cmake/modules/FindXscreensaver.cmake	Fri Feb 28 22:04:53 2014
@@@@ -5,6 +5,8 @@@@
 # Redistribution and use is allowed according to the terms of the BSD license.
 # For details see the accompanying COPYING-CMAKE-SCRIPTS file.
 
+set(XSCREENSAVER_CHECK_ITEM zoom CACHE STRING "screen saver to check existence of")
+
 if (NOT XSCREENSAVER_FOUND)
   set(xscreensaver_alldirs)
   set(xscreensaver_checkdirs ${KDE4_INCLUDE_DIR}
@@@@ -25,10 +27,10 @@@@ bin/xscreensaver-hacks hacks)
         set(xscreensaver_alldirs ${xscreensaver_alldirs} ${xscreensaver_path}/${suffix})
      endforeach(xscreensaver_path ${xscreensaver_checkdirs} )
   endforeach(suffix lib${LIB_SUFFIX}/xscreensaver lib/xscreensaver lib64/xscreensaver libexec/xscreensaver bin/xscreensaver-hacks hacks)
-  FIND_PATH(XSCREENSAVER_DIR deco ${xscreensaver_alldirs})
+  FIND_PATH(XSCREENSAVER_DIR ${XSCREENSAVER_CHECK_ITEM} ${xscreensaver_alldirs})
 
   set(XSCREENSAVER_CONFIG_DIR)
-  FIND_PATH(XSCREENSAVER_CONFIG_DECO config/deco.xml
+  FIND_PATH(XSCREENSAVER_CONFIG_ITEM config/${XSCREENSAVER_CHECK_ITEM}.xml
     ${KDE4_INCLUDE_DIR}
     /usr/
     /usr/local/
@@@@ -38,6 +40,7 @@@@ bin/xscreensaver-hacks hacks)
     /opt/kde3/
     /usr/kde/
     /usr/share/xscreensaver/
+    /usr/local/share/xscreensaver/
     /usr/local/kde/
     /usr/local/xscreensaver/
     /usr/openwin/lib/xscreensaver/
@@@@ -45,15 +48,15 @@@@ bin/xscreensaver-hacks hacks)
   )
   #MESSAGE(STATUS "XSCREENSAVER_CONFIG_DIR :<${XSCREENSAVER_CONFIG_DIR}>")
 
-  if(XSCREENSAVER_CONFIG_DECO)
-	set(XSCREENSAVER_CONFIG_DIR "${XSCREENSAVER_CONFIG_DECO}/config/")
+  if(XSCREENSAVER_CONFIG_ITEM)
+	set(XSCREENSAVER_CONFIG_DIR "${XSCREENSAVER_CONFIG_ITEM}/config/")
 	#MESSAGE(STATUS "XSCREENSAVER_CONFIG_DIR <${XSCREENSAVER_CONFIG_DIR}>")
-  endif(XSCREENSAVER_CONFIG_DECO)
+  endif(XSCREENSAVER_CONFIG_ITEM)
 
 
   # Try and locate XScreenSaver config when path doesn't include config
   if(NOT XSCREENSAVER_CONFIG_DIR)
-    FIND_PATH(XSCREENSAVER_CONFIG_DIR deco.xml
+    FIND_PATH(XSCREENSAVER_CONFIG_DIR ${XSCREENSAVER_CHECK_ITEM}.xml
       /etc/xscreensaver
       )
   endif(NOT XSCREENSAVER_CONFIG_DIR)
@


1.5
log
@Use CACHEd variable instead of if() check. No package change but better for
intergrating upstream.
@
text
@d1 1
a1 1
$OpenBSD: patch-cmake_modules_FindXscreensaver_cmake,v 1.4 2013/04/24 19:32:57 zhuk Exp $
d8 1
a8 1
+set(XSCREENSAVER_CHECK_ITEM xdeco CACHE STRING "screen saver to check existence of")
@


1.4
log
@Update KDE4 artwork package (screensavers and other "active" graphics stuff).
@
text
@d1 4
a4 4
$OpenBSD$
--- cmake/modules/FindXscreensaver.cmake.orig	Mon Aug 13 01:07:33 2012
+++ cmake/modules/FindXscreensaver.cmake	Mon Aug 13 01:15:05 2012
@@@@ -5,6 +5,10 @@@@
d8 1
a8 3
+if (NOT XSCREENSAVER_CHECK_ITEM)
+  set(XSCREENSAVER_CHECK_ITEM xdeco)
+endif(NOT XSCREENSAVER_CHECK_ITEM)
d13 1
a13 1
@@@@ -25,10 +29,10 @@@@ bin/xscreensaver-hacks hacks)
d26 1
a26 1
@@@@ -38,6 +42,7 @@@@ bin/xscreensaver-hacks hacks)
d34 1
a34 1
@@@@ -45,15 +50,15 @@@@ bin/xscreensaver-hacks hacks)
@


1.3
log
@this compiles and works
@
text
@d1 6
a6 5
$OpenBSD: patch-cmake_modules_FindXscreensaver_cmake,v 1.2 2008/01/29 00:26:25 espie Exp $
--- cmake/modules/FindXscreensaver.cmake.orig	Sat Jan  5 01:00:42 2008
+++ cmake/modules/FindXscreensaver.cmake	Sun Jan 20 12:39:11 2008
@@@@ -114,9 +114,17 @@@@ endif(XSCREENSAVER_DIR)
 endif(NOT XSCREENSAVER_DIR)
d8 13
d22 17
a38 8
+if(NOT XSCREENSAVER_DIR)
+FIND_PATH(XSCREENSAVER_DIR xscreensaver
+	/usr/local/libexec
+)
+if( XSCREENSAVER_DIR)
+        set(XSCREENSAVER_DIR ${XSCREENSAVER_DIR}/xscreensaver/)
+endif(XSCREENSAVER_DIR)
+endif(NOT XSCREENSAVER_DIR)
d40 16
a55 14
 set(XSCREENSAVER_CONFIG_DIR)
-FIND_PATH(XSCREENSAVER_CONFIG_DIR config/deco.xml
+FIND_PATH(XSCREENSAVER_CONFIG_DIR config/xdeco.xml
    ${KDE4_INCLUDE_DIR}
    /usr/
    /usr/local/
@@@@ -128,6 +136,7 @@@@ FIND_PATH(XSCREENSAVER_CONFIG_DIR config/deco.xml
    /usr/share/xscreensaver/
    /usr/local/kde/
    /usr/local/xscreensaver/
+   /usr/local/share/xscreensaver/
    /usr/openwin/lib/xscreensaver/
    /etc/
 )
@


1.2
log
@update artwork as well
@
text
@d1 1
a1 1
$OpenBSD: patch-cmake_modules_FindXscreensaver_cmake,v 1.1 2007/04/02 00:39:25 espie Exp $
@


1.1
log
@adjust dependencies, shared lib numbers. Build more of kdeartwork (recognize
xscreensaver correctly)
@
text
@d1 4
a4 5
$OpenBSD$
--- cmake/modules/FindXscreensaver.cmake.orig	Mon Apr  2 02:15:40 2007
+++ cmake/modules/FindXscreensaver.cmake	Mon Apr  2 02:23:31 2007
@@@@ -87,9 +87,17 @@@@ if( XSCREENSAVER_DIR)
 endif(XSCREENSAVER_DIR)
d7 1
d23 1
a23 1
@@@@ -101,6 +109,7 @@@@ FIND_PATH(XSCREENSAVER_CONFIG_DIR config/deco.xml
@

