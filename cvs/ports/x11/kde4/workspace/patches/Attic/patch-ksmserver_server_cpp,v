head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2014.02.08.18.15.20;	author zhuk;	state dead;
branches;
next	1.1;

1.1
date	2014.01.28.14.49.26;	author zhuk;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Maintaince update for KDE Workspaces. Fixes issues with multi-monitor
configurations and applications trying to hide themselves like KSnapshot
and Kopete.

Heads up: the KWin renaming gets reverted. The kde-workspace-4.x still
conflicts with kdebase-3.x, and this renaming causes some problems seen
by stsp@@ and others. So now things are back to normal, and after unlock
another approach will be used, that won't break user configurations.

Fix some lies in comments inside startkde4 script while there.

Big thanks to stsp@@ in debugging the issues.
@
text
@$OpenBSD: patch-ksmserver_server_cpp,v 1.1 2014/01/28 14:49:26 zhuk Exp $
Customizing KWin binary name to deconflict with kdebase-3.x.
--- ksmserver/server.cpp.orig	Mon Jan 27 13:17:44 2014
+++ ksmserver/server.cpp	Mon Jan 27 21:00:22 2014
@@@@ -995,7 +995,7 @@@@ bool KSMServer::defaultSession() const
 void KSMServer::selectWm( const QString& kdewm )
 {
     wm = "kwin"; // defaults
-    wmCommands = ( QStringList() << "kwin" ); 
+    wmCommands = ( QStringList() << "kwinv4" ); 
     if( qstrcmp( getenv( "KDE_FAILSAFE" ), "1" ) == 0 )
         return; // failsafe, force kwin
     if( !kdewm.isEmpty())
@


1.1
log
@Fix problems with starting KDE session from startkde4, after discussion
on ports@@openbsd.org. Big hint received from Remco, thanks!

KDM still have some issues, mostly related to migration paths. To be fixed
soon.

Added/updated description for some patches while there.
@
text
@d1 1
a1 1
$OpenBSD$
@

