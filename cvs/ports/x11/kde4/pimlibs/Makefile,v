head	1.41;
access;
symbols
	OPENBSD_6_1:1.40.0.2
	OPENBSD_6_1_BASE:1.40
	OPENBSD_6_0:1.39.0.6
	OPENBSD_6_0_BASE:1.39
	OPENBSD_5_9:1.39.0.2
	OPENBSD_5_9_BASE:1.39
	OPENBSD_5_8:1.39.0.4
	OPENBSD_5_8_BASE:1.39
	OPENBSD_5_7:1.34.0.2
	OPENBSD_5_7_BASE:1.34
	OPENBSD_5_6:1.31.0.2
	OPENBSD_5_6_BASE:1.31
	OPENBSD_5_5:1.28.0.2
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.21.0.2
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.12.0.6
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.4
	OPENBSD_5_0:1.12.0.2
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.9.0.2
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.6.0.10
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.8
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.6
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.4
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	experimental:1.1.1.1
	KDE:1.1.1;
locks; strict;
comment	@# @;


1.41
date	2017.07.27.11.57.50;	author sthen;	state Exp;
branches;
next	1.40;
commitid	rRYkN01iruJ6f9BS;

1.40
date	2017.03.15.09.11.30;	author jca;	state Exp;
branches;
next	1.39;
commitid	jyAfltec9O3YZJ89;

1.39
date	2015.07.02.00.10.16;	author zhuk;	state Exp;
branches;
next	1.38;
commitid	diG061siF6ViFxtA;

1.38
date	2015.06.26.09.18.39;	author ajacoutot;	state Exp;
branches;
next	1.37;
commitid	4UFVMYhVwKp0qm6z;

1.37
date	2015.05.28.10.17.31;	author pascal;	state Exp;
branches;
next	1.36;
commitid	020U4lCPk8wUkCOz;

1.36
date	2015.05.05.12.35.49;	author zhuk;	state Exp;
branches;
next	1.35;
commitid	JeaQlccykuMKEWFu;

1.35
date	2015.03.30.17.11.45;	author zhuk;	state Exp;
branches;
next	1.34;
commitid	DrvRaWp4iDzpwlSe;

1.34
date	2015.01.20.21.58.43;	author zhuk;	state Exp;
branches;
next	1.33;
commitid	BHrhHE27X2bTWDbq;

1.33
date	2015.01.12.21.05.54;	author zhuk;	state Exp;
branches;
next	1.32;
commitid	8WYulB0M8ZG3VFX6;

1.32
date	2014.11.01.21.09.46;	author zhuk;	state Exp;
branches;
next	1.31;
commitid	yISoHfVgp7MFifJl;

1.31
date	2014.07.18.08.17.13;	author zhuk;	state Exp;
branches;
next	1.30;
commitid	J5DCiA9lBlWutwst;

1.30
date	2014.07.10.19.55.26;	author zhuk;	state Exp;
branches;
next	1.29;
commitid	6UHUjJG41FO342ND;

1.29
date	2014.07.09.20.03.30;	author zhuk;	state Exp;
branches;
next	1.28;
commitid	VIGhneE7m6586cHK;

1.28
date	2014.01.16.09.15.49;	author zhuk;	state Exp;
branches;
next	1.27;

1.27
date	2014.01.15.19.42.12;	author zhuk;	state Exp;
branches;
next	1.26;

1.26
date	2013.12.25.09.14.23;	author zhuk;	state Exp;
branches;
next	1.25;

1.25
date	2013.12.25.09.07.17;	author zhuk;	state Exp;
branches;
next	1.24;

1.24
date	2013.12.08.19.13.33;	author zhuk;	state Exp;
branches;
next	1.23;

1.23
date	2013.11.24.19.56.32;	author zhuk;	state Exp;
branches;
next	1.22;

1.22
date	2013.08.24.17.33.52;	author zhuk;	state Exp;
branches;
next	1.21;

1.21
date	2013.07.10.15.44.47;	author zhuk;	state Exp;
branches;
next	1.20;

1.20
date	2013.07.04.00.46.52;	author zhuk;	state Exp;
branches;
next	1.19;

1.19
date	2013.07.03.10.12.38;	author zhuk;	state Exp;
branches;
next	1.18;

1.18
date	2013.07.02.17.50.04;	author zhuk;	state Exp;
branches;
next	1.17;

1.17
date	2013.06.24.19.41.05;	author zhuk;	state Exp;
branches;
next	1.16;

1.16
date	2013.06.06.08.36.49;	author zhuk;	state Exp;
branches;
next	1.15;

1.15
date	2013.05.14.09.16.29;	author zhuk;	state Exp;
branches;
next	1.14;

1.14
date	2013.04.24.20.03.39;	author zhuk;	state Exp;
branches;
next	1.13;

1.13
date	2013.02.03.13.21.42;	author zhuk;	state Exp;
branches;
next	1.12;

1.12
date	2011.07.06.21.25.23;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.22.08.37.02;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.08.31.08.22.05;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2010.07.10.16.57.23;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.06.20.08.40.00;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2010.06.18.11.50.29;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2008.02.09.13.18.17;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2008.02.01.07.02.19;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.01.21.21.47.56;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.15.20.04.22;	author merdely;	state Exp;
branches;
next	1.2;

1.2
date	2007.03.27.11.11.40;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2007.03.22.22.24.32;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.03.22.22.24.32;	author espie;	state Exp;
branches;
next	;


desc
@@


1.41
log
@add COMPILER_LIBCXX to WANTLIB and bump
@
text
@# $OpenBSD: Makefile,v 1.40 2017/03/15 09:11:30 jca Exp $

COMMENT =	libraries for KDE PIM services
DISTNAME =	kdepimlibs-4.14.10
REVISION =	0

DPB_PROPERTIES =	parallel

MASTER_SITES =	${MASTER_SITE_KDE:=Attic/applications/15.04.3/src/}

SHARED_LIBS =	kabc                 54.0      # .4.0
SHARED_LIBS +=	kabc_file_core       54.0      # .4.0
SHARED_LIBS +=	kalarmcal	     54.0      # 2.7
SHARED_LIBS +=	kcal                 54.0      # .4.0
SHARED_LIBS +=	kldap                54.0      # .4.0
SHARED_LIBS +=	kmime                54.0      # .4.0
SHARED_LIBS +=	kresources           54.0      # .4.0
SHARED_LIBS +=	ktnef                54.0      # .4.0
SHARED_LIBS +=	kxmlrpcclient        54.0      # .4.0
SHARED_LIBS +=	syndication          54.0      # .1.0
SHARED_LIBS +=	gpgme++              51.0      # .1.0
SHARED_LIBS +=	gpgme++-pthread      51.0      # .1.0
SHARED_LIBS +=	kblog                54.0      # .4.0
SHARED_LIBS +=	kimap                54.0      # .4.0
SHARED_LIBS +=	kpimidentities       54.0      # .4.0
SHARED_LIBS +=	kpimutils            54.0      # .4.0
SHARED_LIBS +=	mailtransport        54.0      # .4.0
SHARED_LIBS +=	qgpgme               54.0      # .1.0
SHARED_LIBS +=	akonadi-contact	     54.0      # .4.4
SHARED_LIBS +=	akonadi-kabc	     54.0      # .4.4
SHARED_LIBS +=	akonadi-kcal	     54.0      # .4.4
SHARED_LIBS +=	akonadi-kde	     54.0      # .4.4
SHARED_LIBS +=	akonadi-kmime	     54.0      # .4.4
SHARED_LIBS +=	akonadi-notes	     54.0      # 4.7
SHARED_LIBS +=	kholidays	     54.0      # .4.4
SHARED_LIBS +=	kontactinterface     54.0      # .4.4
SHARED_LIBS +=	kpimtextedit	     54.0      # .4.4
SHARED_LIBS +=	microblog	     54.0      # .4.4

SHARED_LIBS +=  akonadi-calendar	54.0 # 4.7
SHARED_LIBS +=  kcalcore		54.0 # 4.7
SHARED_LIBS +=  kcalutils		54.0 # 4.7
SHARED_LIBS +=  kmbox			54.0 # 4.7

SHARED_LIBS +=  akonadi-socialutils	54.0 # 4.10

SHARED_LIBS +=	akonadi-xml		2.0  # 4.13

WANTLIB =  c m pthread
WANTLIB += ${COMPILER_LIBCXX}
WANTLIB += lib/qt4/QtDBus lib/qt4/QtGui lib/qt4/QtNetwork lib/qt4/QtSql
WANTLIB += lib/qt4/QtSvg lib/qt4/QtXml
WANTLIB += ${KDE4LIB}/kcmutils ${KDE4LIB}/kdeui ${KDE4LIB}/kemoticons
WANTLIB += ${KDE4LIB}/kio ${KDE4LIB}/kparts ${KDE4LIB}/nepomuk
WANTLIB += ${KDE4LIB}/nepomukutils ${KDE4LIB}/solid
WANTLIB += akonadiprotocolinternals assuan uuid gpg-error gpgme
WANTLIB += gpgme-pthread ical icalss lber ldap prison qjson sasl2
WANTLIB += soprano xml2

MODULES =	devel/gettext multimedia/phonon

MODKDE4_USE =	libs

BUILD_DEPENDS =	devel/boost \
		misc/shared-mime-info \
		misc/shared-desktop-ontologies>=0.10

RUN_DEPENDS =	misc/shared-mime-info \
		misc/shared-desktop-ontologies>=0.10

LIB_DEPENDS =	databases/openldap \
		devel/qjson \
		graphics/prison \
		productivity/akonadi>=${MIN_AKONADI_VERSION} \
		security/cyrus-sasl2 \
		security/gpgme>=0.4.5 \
		sysutils/e2fsprogs>=1.42.7 \
		textproc/libical \
		textproc/libxml

TEST_IS_INTERACTIVE =	X11

# XXX Until issues with similar names for test targets are resolved.
NO_TEST =	Yes

post-extract:
	cp ${FILESDIR}/*.cmake ${WRKDIST}/cmake/modules

.include <bsd.port.mk>
@


1.40
log
@Fix MASTER_SITES, some distfiles were moved to an "Attic" subdir

from Rafael Sadowski
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2015/07/02 00:10:16 zhuk Exp $
d5 1
d50 1
@


1.39
log
@Maintaince update of some KDE4 components, brought to you (mostly) by
KDE PIM team.

Includes update of Grantlee to 0.5.0, last KDE4 release; previous version,
0.3.0, was too old for new kdepim. Separate update will be problematic
because PLIST of kdepim package relies on minor version of Grantlee.

Lightly tested on amd64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2015/06/26 09:18:39 ajacoutot Exp $
d8 1
a8 1
MASTER_SITES =	${MASTER_SITE_KDE:=stable/applications/15.04.3/src/}
@


1.38
log
@Bump after the recent phonon MODULE change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2015/05/28 10:17:31 pascal Exp $
d4 1
a4 2
DISTNAME =	kdepimlibs-4.14.6
REVISION =	2
d8 1
a8 1
MASTER_SITES =	${MASTER_SITE_KDE:=stable/applications/14.12.3/src/}
d10 10
a19 10
SHARED_LIBS =	kabc                 53.0      # .4.0
SHARED_LIBS +=	kabc_file_core       53.0      # .4.0
SHARED_LIBS +=	kalarmcal	     53.0      # 2.7
SHARED_LIBS +=	kcal                 53.0      # .4.0
SHARED_LIBS +=	kldap                53.0      # .4.0
SHARED_LIBS +=	kmime                53.0      # .4.0
SHARED_LIBS +=	kresources           53.0      # .4.0
SHARED_LIBS +=	ktnef                53.0      # .4.0
SHARED_LIBS +=	kxmlrpcclient        53.0      # .4.0
SHARED_LIBS +=	syndication          53.0      # .1.0
d22 21
a42 21
SHARED_LIBS +=	kblog                53.0      # .4.0
SHARED_LIBS +=	kimap                53.0      # .4.0
SHARED_LIBS +=	kpimidentities       53.0      # .4.0
SHARED_LIBS +=	kpimutils            53.0      # .4.0
SHARED_LIBS +=	mailtransport        53.0      # .4.0
SHARED_LIBS +=	qgpgme               53.0      # .1.0
SHARED_LIBS +=	akonadi-contact	     53.0      # .4.4
SHARED_LIBS +=	akonadi-kabc	     53.0      # .4.4
SHARED_LIBS +=	akonadi-kcal	     53.0      # .4.4
SHARED_LIBS +=	akonadi-kde	     53.0      # .4.4
SHARED_LIBS +=	akonadi-kmime	     53.0      # .4.4
SHARED_LIBS +=	akonadi-notes	     53.0      # 4.7
SHARED_LIBS +=	kholidays	     53.0      # .4.4
SHARED_LIBS +=	kontactinterface     53.0      # .4.4
SHARED_LIBS +=	kpimtextedit	     53.0      # .4.4
SHARED_LIBS +=	microblog	     53.0      # .4.4

SHARED_LIBS +=  akonadi-calendar	53.0 # 4.7
SHARED_LIBS +=  kcalcore		53.0 # 4.7
SHARED_LIBS +=  kcalutils		53.0 # 4.7
SHARED_LIBS +=  kmbox			53.0 # 4.7
d44 1
a44 1
SHARED_LIBS +=  akonadi-socialutils	53.0 # 4.10
d46 1
a46 1
SHARED_LIBS +=	akonadi-xml		1.0  # 4.13
d50 1
a50 1
WANTLIB += lib/qt4/QtSvg lib/qt4/QtTest lib/qt4/QtXml
@


1.37
log
@gcc4 bumps, reminded by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2015/05/05 12:35:49 zhuk Exp $
d5 1
a5 1
REVISION =	1
@


1.36
log
@Disable tests (again), some internal dependencies are still wrong here
as found by aja@@ and his French Monster.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2015/03/30 17:11:45 zhuk Exp $
d5 1
a5 1
REVISION =	0
@


1.35
log
@Partial stability update for a few KDE4 components brought by KDE PIM people.

Includes some local fixes for ksysguard (no longer crashes, more love needed).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2015/01/20 21:58:43 zhuk Exp $
d5 1
d83 1
a83 1
#NO_TEST =	Yes
@


1.34
log
@Bringing in KDE 4.14.3. This is the last KDE4 release, ever.
This release contains only minor fixes.

See you in KDE Frameworks land in the next season!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/01/12 21:05:54 zhuk Exp $
d4 1
a4 1
DISTNAME =	kdepimlibs-${MODKDE4_VERSION}
d8 2
d82 1
a82 1
NO_TEST =	Yes
@


1.33
log
@KDE PIM team continues to bring new exciting challenges to packages.
This time they started to abuse CMake's (not supported officially) ability
to build several targets with same name, in tests department. As a result,
building of tests fails... sometimes, if you use Ninja.

Fix by disabling tests (again). Noone except openbsd-kde@@ try to run them,
anyway.

Initial report by naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2014/11/01 21:09:46 zhuk Exp $
a4 1
REVISION =	0
@


1.32
log
@Welcome, KDE 4.14.2!

Many patches went upstream, but even more patches are still there...
To be continued!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2014/07/18 08:17:13 zhuk Exp $
d5 1
d79 3
@


1.31
log
@Small bugfix KDE 4.13.3. Release announcement:
http://www.kde.org/announcements/announce-4.13.3.php
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2014/07/10 19:55:26 zhuk Exp $
d8 10
a17 10
SHARED_LIBS =	kabc                 52.0      # .4.0
SHARED_LIBS +=	kabc_file_core       52.0      # .4.0
SHARED_LIBS +=	kalarmcal	     52.0      # 2.7
SHARED_LIBS +=	kcal                 52.0      # .4.0
SHARED_LIBS +=	kldap                52.0      # .4.0
SHARED_LIBS +=	kmime                52.0      # .4.0
SHARED_LIBS +=	kresources           52.0      # .4.0
SHARED_LIBS +=	ktnef                52.0      # .4.0
SHARED_LIBS +=	kxmlrpcclient        52.0      # .4.0
SHARED_LIBS +=	syndication          52.0      # .1.0
d20 21
a40 21
SHARED_LIBS +=	kblog                52.0      # .4.0
SHARED_LIBS +=	kimap                52.0      # .4.0
SHARED_LIBS +=	kpimidentities       52.0      # .4.0
SHARED_LIBS +=	kpimutils            52.0      # .4.0
SHARED_LIBS +=	mailtransport        52.0      # .4.0
SHARED_LIBS +=	qgpgme               52.0      # .1.0
SHARED_LIBS +=	akonadi-contact	     52.0      # .4.4
SHARED_LIBS +=	akonadi-kabc	     52.0      # .4.4
SHARED_LIBS +=	akonadi-kcal	     52.0      # .4.4
SHARED_LIBS +=	akonadi-kde	     52.0      # .4.4
SHARED_LIBS +=	akonadi-kmime	     52.0      # .4.4
SHARED_LIBS +=	akonadi-notes	     52.0      # 4.7
SHARED_LIBS +=	kholidays	     52.0      # .4.4
SHARED_LIBS +=	kontactinterface     52.0      # .4.4
SHARED_LIBS +=	kpimtextedit	     52.0      # .4.4
SHARED_LIBS +=	microblog	     52.0      # .4.4

SHARED_LIBS +=  akonadi-calendar	52.0 # 4.7
SHARED_LIBS +=  kcalcore		52.0 # 4.7
SHARED_LIBS +=  kcalutils		52.0 # 4.7
SHARED_LIBS +=  kmbox			52.0 # 4.7
d42 1
a42 1
SHARED_LIBS +=  akonadi-socialutils	52.0 # 4.10
d44 1
a44 1
SHARED_LIBS +=	akonadi-xml		0.0  # 4.13
d48 1
a48 1
WANTLIB += lib/qt4/QtSvg lib/qt4/QtXml
d53 2
a54 1
WANTLIB += gpgme-pthread ical icalss lber ldap prison qjson sasl2 soprano
a67 1
		databases/soprano>=${MIN_SOPRANO_VERSION} \
d74 2
a75 1
		textproc/libical
d77 1
a77 2
# XXX until all linking issues are resolved
NO_TEST =	Yes
a82 6


qwe:
.for _l _v in ${SHARED_LIBS}
	objdump -p /usr/local/lib/lib${_l}.so.${_v} | grep NEEDED
.endfor
@


1.30
log
@Bump after multimedia/phonon update with changing RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/07/09 20:03:30 zhuk Exp $
a4 1
REVISION =	0
@


1.29
log
@"small update" (c) tedu@@

Here KDE 4.13.2 comes. Big release changelogs could be read here:

  http://www.kde.org/announcements/4.12/
  http://www.kde.org/announcements/4.13/

Critical things you should be aware of:

  1. Nepomuk is gone, it's superseeded by Baloo. Nepomuk libraries
     are still here, though, but they do rely on Baloo internally.

  2. kdnssd was renamed to zeroconf-ioslave;

  3. kwallet was renamed to kwalletmanager;

  4. Akonadi cache will be rebuilt; this could result in change
     of PIM folder indexes, which in turn could mess up your
     mail filters - beware.

  5. ... a lot of other little problems that always happen during
     update.

Things could be broken for a day or two in subtle ways - don't
hesistate on reporting them!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/01/16 09:15:49 zhuk Exp $
d5 1
@


1.28
log
@No more conflicts with kdepim-3.x here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/01/15 19:42:12 zhuk Exp $
a4 1
REVISION =	0
d8 10
a17 10
SHARED_LIBS =	kabc                 51.0      # .4.0
SHARED_LIBS +=	kabc_file_core       51.0      # .4.0
SHARED_LIBS +=	kalarmcal	     51.0      # 2.7
SHARED_LIBS +=	kcal                 51.0      # .4.0
SHARED_LIBS +=	kldap                51.0      # .4.0
SHARED_LIBS +=	kmime                51.0      # .4.0
SHARED_LIBS +=	kresources           51.0      # .4.0
SHARED_LIBS +=	ktnef                51.0      # .4.0
SHARED_LIBS +=	kxmlrpcclient        51.0      # .4.0
SHARED_LIBS +=	syndication          51.0      # .1.0
d20 21
a40 21
SHARED_LIBS +=	kblog                51.0      # .4.0
SHARED_LIBS +=	kimap                51.0      # .4.0
SHARED_LIBS +=	kpimidentities       51.0      # .4.0
SHARED_LIBS +=	kpimutils            51.0      # .4.0
SHARED_LIBS +=	mailtransport        51.0      # .4.0
SHARED_LIBS +=	qgpgme               51.0      # .1.0
SHARED_LIBS +=	akonadi-contact	     51.0      # .4.4
SHARED_LIBS +=	akonadi-kabc	     51.0      # .4.4
SHARED_LIBS +=	akonadi-kcal	     51.0      # .4.4
SHARED_LIBS +=	akonadi-kde	     51.0      # .4.4
SHARED_LIBS +=	akonadi-kmime	     51.0      # .4.4
SHARED_LIBS +=	akonadi-notes	     51.0      # 4.7
SHARED_LIBS +=	kholidays	     51.0      # .4.4
SHARED_LIBS +=	kontactinterface     51.0      # .4.4
SHARED_LIBS +=	kpimtextedit	     51.0      # .4.4
SHARED_LIBS +=	microblog	     51.0      # .4.4

SHARED_LIBS +=  akonadi-calendar	51.0 # 4.7
SHARED_LIBS +=  kcalcore		51.0 # 4.7
SHARED_LIBS +=  kcalutils		51.0 # 4.7
SHARED_LIBS +=  kmbox			51.0 # 4.7
d42 1
a42 1
SHARED_LIBS +=  akonadi-socialutils	51.0 # 4.10
d44 3
a46 1
WANTLIB =  c m pthread stdc++
d48 1
a48 1
WANTLIB += lib/qt4/QtSvg lib/qt4/QtTest lib/qt4/QtXml
d51 1
a51 1
WANTLIB += ${KDE4LIB}/nepomukcore ${KDE4LIB}/nepomukutils ${KDE4LIB}/solid
d66 1
a66 2
LIB_DEPENDS =	${MODKDE4_DEP_DIR}/nepomuk-core>=${MODKDE4_DEP_VERSION} \
		databases/openldap \
d76 3
d83 6
@


1.27
log
@KDE 4.11.5. Some highlights:

Three Kate plugins written in Python migrated to Python 3 and thus
are not available for the moment.

kdelibs-4.x deconflicted with kdebindings-3.x, and kde-runtime-4.x
deconflicted with kdebase-3.x. Most notable change is the renaming
of kreadconfig and kwriteconfig by appending a "4" suffix to them.
All ports in CVS and in WIP repo are checked for usage of all renamed
binaries, but anything else could be broken. Sorry.

KWin renamed in kde-workspace again, to avoid conflict with
KFourInLine.

Default dependencies that came from kde4.port.mk now have additional
restriction ",<5". KDE Frameworks won't hit CVS during current cycle
but it's better to be proactive.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/12/25 09:14:23 zhuk Exp $
d5 1
@


1.26
log
@There are no conflicts with kdelibs-3.x anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/12/25 09:07:17 zhuk Exp $
a4 1
REVISION =	1
d46 1
a46 1
WANTLIB += lib/qt4/QtSvg lib/qt4/QtXml
a73 3

# picks up KDE3 otherwise (crappy CMakeLists.txt?)
NO_TEST =	Yes
@


1.25
log
@Disable building tests here: this makes kdepimlibs picking up KDE3
libraries. This is either KDE or CMake bug, and should be fixed, but we
have another good reason to do that - build time goes down drastically.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/12/08 19:13:33 zhuk Exp $
d5 1
a5 1
REVISION =	0
@


1.24
log
@Move on to KDE 4.11.4.

In this release, four "fat" packages were split:

  * kdeadmin
  * kdenetwork
  * kdesdk
  * kdetoys

To make updates reliable, we provide corresponding meta-packages now.

Many new patches in x11/kde4 correspond to the linking problems detected.
Those are planned to integrate upstream but probably we'll have to keep
some of them until KDE 5.

For information about major KDE 4.11 features, look at the official site:
http://www.kde.org/announcements/4.11/

Kopete Jingle support is disabled for now, until googletalk-call gets
cured from permanent coredumping.

This update involved a lot of help and patience for my mistakes from
many people, including ajacoutot@@, espie@@, naddy@@... but most of the
times this was landry@@ who definitely deserves personal "thank you"!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/11/24 19:56:32 zhuk Exp $
d5 1
d47 1
a47 1
WANTLIB += lib/qt4/QtSvg lib/qt4/QtTest lib/qt4/QtXml
d75 3
@


1.23
log
@Split some locale-specific files out of kdelibs, kdebase and kde-runtime
into some sort of interchangeable subpackages. The idea is that each version
of KDE being installed picks up it's own version of locale-specific package
by default, and KDE4's one doesn't update to KDE3's one automatically, but
can replace it on explicit pkg_add call.

Most of the Makefiles are bumps needed after splitting x11/kde4/libs.

This is a part of KDE3/4 deconflicting work.

hardly tested by landry@@ in a bulk build
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/08/24 17:33:52 zhuk Exp $
a4 1
REVISION =	1
d8 28
a35 28
SHARED_LIBS =	kabc                 50.1      # .4.0
SHARED_LIBS +=	kabc_file_core       50.1      # .4.0
SHARED_LIBS +=	kalarmcal	     50.1      # 2.7
SHARED_LIBS +=	kcal                 50.1      # .4.0
SHARED_LIBS +=	kldap                50.1      # .4.0
SHARED_LIBS +=	kmime                50.1      # .4.0
SHARED_LIBS +=	kresources           50.1      # .4.0
SHARED_LIBS +=	ktnef                50.1      # .4.0
SHARED_LIBS +=	kxmlrpcclient        50.1      # .4.0
SHARED_LIBS +=	syndication          50.1      # .1.0
SHARED_LIBS +=	gpgme++              50.1      # .1.0
SHARED_LIBS +=	gpgme++-pthread      50.1      # .1.0
SHARED_LIBS +=	kblog                50.1      # .4.0
SHARED_LIBS +=	kimap                50.1      # .4.0
SHARED_LIBS +=	kpimidentities       50.1      # .4.0
SHARED_LIBS +=	kpimutils            50.1      # .4.0
SHARED_LIBS +=	mailtransport        50.1      # .4.0
SHARED_LIBS +=	qgpgme               50.1      # .1.0
SHARED_LIBS +=	akonadi-contact	     50.1      # .4.4
SHARED_LIBS +=	akonadi-kabc	     50.1      # .4.4
SHARED_LIBS +=	akonadi-kcal	     50.1      # .4.4
SHARED_LIBS +=	akonadi-kde	     50.1      # .4.4
SHARED_LIBS +=	akonadi-kmime	     50.1      # .4.4
SHARED_LIBS +=	akonadi-notes	     50.1      # 4.7
SHARED_LIBS +=	kholidays	     50.1      # .4.4
SHARED_LIBS +=	kontactinterface     50.1      # .4.4
SHARED_LIBS +=	kpimtextedit	     50.1      # .4.4
SHARED_LIBS +=	microblog	     50.1      # .4.4
d37 4
a40 4
SHARED_LIBS +=  akonadi-calendar	50.1 # 4.7
SHARED_LIBS +=  kcalcore		50.1 # 4.7
SHARED_LIBS +=  kcalutils		50.1 # 4.7
SHARED_LIBS +=  kmbox			50.1 # 4.7
d42 1
a42 1
SHARED_LIBS +=  akonadi-socialutils	50.1 # 4.10
@


1.22
log
@Assorted fixes after portcheck scan in x11/kde4. Mostly update* goo and
whitespace fixes, but also includes pregeneration of some .pyc files (more
to come).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/07/10 15:44:47 zhuk Exp $
d5 1
a5 1
REVISION =	0
@


1.21
log
@Zap commented out USE_NINJA=No leftover.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/07/04 00:46:52 zhuk Exp $
d5 1
@


1.20
log
@Update to KDE 4.10.5. Some highlights:
  * @@conflict markers relative to KDE3 packages added, to be used soon.
  * Migration to Ruby 1.9 for corresponding ports. Also added @@pkgpath to
    x11/ruby-qt4 in x11/kde4/ruby-qt, because they are really the same
    (except that x11/ruby-qt4 contains also smokegen and smokeqt stuff).
  * kde-base-artwork and kde-wallpapers leaved at 4.10.4 because they:
    1) did not change; 2) are heavy enough.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/07/02 17:50:04 zhuk Exp $
a6 1
#USE_NINJA =		No
@


1.19
log
@copy-paste error in comment, noticed by sthen@@, thanks!
Bump because the file is installed.
@
text
@a4 1
REVISION =	2
d7 1
d9 28
a36 28
SHARED_LIBS =	kabc                 50.0      # .4.0
SHARED_LIBS +=	kabc_file_core       50.0      # .4.0
SHARED_LIBS +=	kalarmcal	     50.0      # 2.7
SHARED_LIBS +=	kcal                 50.0      # .4.0
SHARED_LIBS +=	kldap                50.0      # .4.0
SHARED_LIBS +=	kmime                50.0      # .4.0
SHARED_LIBS +=	kresources           50.0      # .4.0
SHARED_LIBS +=	ktnef                50.0      # .4.0
SHARED_LIBS +=	kxmlrpcclient        50.0      # .4.0
SHARED_LIBS +=	syndication          50.0      # .1.0
SHARED_LIBS +=	gpgme++              50.0      # .1.0
SHARED_LIBS +=	gpgme++-pthread      50.0      # .1.0
SHARED_LIBS +=	kblog                50.0      # .4.0
SHARED_LIBS +=	kimap                50.0      # .4.0
SHARED_LIBS +=	kpimidentities       50.0      # .4.0
SHARED_LIBS +=	kpimutils            50.0      # .4.0
SHARED_LIBS +=	mailtransport        50.0      # .4.0
SHARED_LIBS +=	qgpgme               50.0      # .1.0
SHARED_LIBS +=	akonadi-contact	     50.0      # .4.4
SHARED_LIBS +=	akonadi-kabc	     50.0      # .4.4
SHARED_LIBS +=	akonadi-kcal	     50.0      # .4.4
SHARED_LIBS +=	akonadi-kde	     50.0      # .4.4
SHARED_LIBS +=	akonadi-kmime	     50.0      # .4.4
SHARED_LIBS +=	akonadi-notes	     50.0      # 4.7
SHARED_LIBS +=	kholidays	     50.0      # .4.4
SHARED_LIBS +=	kontactinterface     50.0      # .4.4
SHARED_LIBS +=	kpimtextedit	     50.0      # .4.4
SHARED_LIBS +=	microblog	     50.0      # .4.4
d38 4
a41 4
SHARED_LIBS +=  akonadi-calendar	50.0 # 4.7
SHARED_LIBS +=  kcalcore		50.0 # 4.7
SHARED_LIBS +=  kcalutils		50.0 # 4.7
SHARED_LIBS +=  kmbox			50.0 # 4.7
d43 1
a43 1
SHARED_LIBS +=  akonadi-socialutils	50.0 # 4.10
@


1.18
log
@More correct fix for UUID library handling, upstream-compatible way.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/06/24 19:41:05 zhuk Exp $
d5 1
a5 1
REVISION =	1
@


1.17
log
@Unbreak after recent e2fsprogs update with uuid library renaming.

Noticed by Scott McEachern.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/06/06 08:36:49 zhuk Exp $
d5 1
a5 1
REVISION =	0
d75 3
@


1.16
log
@Bugfix update to KDE 4.10.4. Tested with upcoming CMake 2.8.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/05/14 09:16:29 zhuk Exp $
d5 1
d51 1
a51 1
WANTLIB += akonadiprotocolinternals assuan e2fs-uuid gpg-error gpgme
d73 1
a73 1
		sysutils/e2fsprogs \
@


1.15
log
@Bugfix update KDE4 to 4.10.3 version, including some tweaks:

  * Bump all SHARED_LIBS to 50.0, to avoid future clashes with KDE3
    libraries (based on input from espie@@);
  * Enable support for Telepathy in kdenetwork (see recently committed
    net/telepathy/telepathy-qt);
  * Fix build of analitza when GNU readline is installed (thanks kirby@@
    for pointing to GNU readline issue in general).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/04/24 20:03:39 zhuk Exp $
d5 2
@


1.14
log
@Update KDE4 PIM libraries package to 4.10.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/07/06 21:25:23 ajacoutot Exp $
d6 28
a33 28
SHARED_LIBS =	kabc                 5.0      # .4.0
SHARED_LIBS +=	kabc_file_core       0.0      # .4.0
SHARED_LIBS +=	kalarmcal	     0.0      # 2.7
SHARED_LIBS +=	kcal                 5.0      # .4.0
SHARED_LIBS +=	kldap                0.0      # .4.0
SHARED_LIBS +=	kmime                6.0      # .4.0
SHARED_LIBS +=	kresources           5.0      # .4.0
SHARED_LIBS +=	ktnef                3.0      # .4.0
SHARED_LIBS +=	kxmlrpcclient        0.0      # .4.0
SHARED_LIBS +=	syndication          0.0      # .1.0
SHARED_LIBS +=	gpgme++              2.4      # .1.0
SHARED_LIBS +=	gpgme++-pthread      2.4      # .1.0
SHARED_LIBS +=	kblog                4.0      # .4.0
SHARED_LIBS +=	kimap                4.0      # .4.0
SHARED_LIBS +=	kpimidentities       4.0      # .4.0
SHARED_LIBS +=	kpimutils            4.0      # .4.0
SHARED_LIBS +=	mailtransport        4.0      # .4.0
SHARED_LIBS +=	qgpgme               2.0      # .1.0
SHARED_LIBS +=	akonadi-contact	     0.0      # .4.4
SHARED_LIBS +=	akonadi-kabc	     0.0      # .4.4
SHARED_LIBS +=	akonadi-kcal	     0.0      # .4.4
SHARED_LIBS +=	akonadi-kde	     0.0      # .4.4
SHARED_LIBS +=	akonadi-kmime	     0.0      # .4.4
SHARED_LIBS +=	akonadi-notes	     0.0      # 4.7
SHARED_LIBS +=	kholidays	     0.0      # .4.4
SHARED_LIBS +=	kontactinterface     0.0      # .4.4
SHARED_LIBS +=	kpimtextedit	     0.0      # .4.4
SHARED_LIBS +=	microblog	     0.0      # .4.4
d35 4
a38 4
SHARED_LIBS +=  akonadi-calendar	0.0 # 4.7
SHARED_LIBS +=  kcalcore		0.0 # 4.7
SHARED_LIBS +=  kcalutils		0.0 # 4.7
SHARED_LIBS +=  kmbox			0.0 # 4.7
d40 1
a40 1
SHARED_LIBS +=  akonadi-socialutils	0.0 # 4.10
@


1.13
log
@Change x11/kde4/automoc dependency to devel/automoc for current KDE4 ports.

okay espie@@
@
text
@d3 2
a4 3
COMMENT =		K Desktop Environment, pimlibs
DISTNAME =		kdepimlibs-${VERSION}
REVISION =		0
d6 1
a6 1
SHARED_LIBS +=	kabc                 5.0      # .4.0
d8 1
d29 1
a32 2
SHARED_LIBS += 	gpgme++-pthread	     0.0      # .2.4
SHARED_LIBS += 	gpgme++		     0.0      # .2.4
d35 33
a67 9
# XXX bug in cmake, remove after cmake 2.8.2
SHARED_LIBS += 	gpgmepp-pthread	     0.0      # .2.4
SHARED_LIBS += 	gpgmepp		     0.0      # .2.4

MODULES =	devel/gettext

BUILD_DEPENDS += devel/boost \
		devel/automoc
LIB_DEPENDS +=	x11/kde4/libs \
a68 1
		databases/openldap \
d70 1
a70 1
		x11/kde4/akonadi \
a71 10

# these come from libs in real case
pre-install:
	mkdir -p ${PREFIX}/share/doc/HTML/en/common

WANTLIB += akonadiprotocolinternals c gpg-error gpgme gpgme-pthread ical \
	icalss kdecore.>=8 kdeui kio kparts kutils lber ldap \
	lib/qt4/QtDBus lib/qt4/QtGui lib/qt4/QtNetwork lib/qt4/QtSql \
	lib/qt4/QtSvg lib/qt4/QtXml m phonon pthread sasl2 solid stdc++

@


1.12
log
@Use the gettext MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/11/22 08:37:02 espie Exp $
d43 1
a43 1
		x11/kde4/automoc
@


1.11
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/08/31 08:22:05 jasper Exp $
d5 1
d40 1
d56 1
a56 1
	icalss iconv intl kdecore.>=8 kdeui kio kparts kutils lber ldap \
@


1.10
log
@- remove superfluous PKGNAME=${DISTNAME} construct here too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/07/10 16:57:23 espie Exp $
d40 8
a47 8
BUILD_DEPENDS += ::devel/boost \
		::x11/kde4/automoc
LIB_DEPENDS +=	::x11/kde4/libs \
		::security/cyrus-sasl2 \
		::databases/openldap \
		:gpgme->=0.4.5:security/gpgme \
		::x11/kde4/akonadi \
		::textproc/libical
@


1.9
log
@update to 4.4.5, new-style WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/06/20 08:40:00 espie Exp $
a4 1
PKGNAME =		${DISTNAME}
@


1.8
log
@zap extra SHARED_LIBS, create common dir to shut up pkg_create.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/06/18 11:50:29 espie Exp $
d36 1
a36 1
# XXX bug in cmake ?
d43 6
a48 6
LIB_DEPENDS +=	kdecore.>=8,kdeui,kio,kparts,kutils,solid::x11/kde4/libs \
		sasl2::security/cyrus-sasl2 \
		ldap,lber::databases/openldap \
		gpgme,gpgme-pthread:gpgme->=0.4.5:security/gpgme \
		akonadiprotocolinternals::x11/kde4/akonadi \
		ical,icalss::textproc/libical
d54 4
a57 4
WANTLIB += c m pthread
WANTLIB += QtSql QtDBus QtGui QtSvg QtXml QtNetwork phonon
WANTLIB += gpg-error iconv intl
WANTLIB += stdc++
@


1.7
log
@pimlibs for 4.4. work-around for a cmake trifle.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/02/09 13:18:17 espie Exp $
a6 1
SHARED_LIBS +=	emailfunctions       0.0      # .4.0
d49 4
@


1.6
log
@update to 4.0.1, include a few more components and dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/02/01 07:02:19 ajacoutot Exp $
d17 2
a18 2
SHARED_LIBS +=	gpgme++              4.0      # .1.0
SHARED_LIBS +=	gpgme++-pthread      0.0      # .1.0
d25 11
d37 8
a44 2
BUILD_DEPENDS += ::devel/boost
LIB_DEPENDS +=	kdecore.>=8,kdeui,kde3support,kfile,kio,kparts,kpty,solid::x11/kde4/libs \
d47 3
a49 1
		gpgme,gpgme-pthread:gpgme->=0.4.5:security/gpgme
d51 4
a54 6
WANTLIB += ICE SM X11 Xau Xcursor Xdmcp Xext Xft Xi Xinerama Xpm
WANTLIB += Xrandr Xrender Xtst c fontconfig freetype m png pthread
WANTLIB += util z bz2 Xfixes
WANTLIB += Qt3Support QtDBus QtGui QtSvg QtXml QtNetwork
WANTLIB += fam glib-2.0 gpg-error gthread-2.0 iconv intl
WANTLIB += streamanalyzer streams
@


1.5
log
@- add missing build_depends (devel/boost)
- fix WANTLIB

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/01/21 21:47:56 espie Exp $
d5 1
a5 1
PKGNAME =		${DISTNAME}p0
@


1.4
log
@update `core' kde4 to 4.0.0.

Warning: thoroughly untested so far, most pieces probably do not work.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/09/15 20:04:22 merdely Exp $
d5 1
a5 1
PKGNAME =		${DISTNAME}
d26 1
d34 1
a34 1
WANTLIB += stdc++ util z bz2 Xfixes
@


1.3
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/03/27 11:11:40 espie Exp $
d3 3
a5 3
COMMENT=		K Desktop Environment, pimlibs
DISTNAME=		kdepimlibs-${VERSION}
PKGNAME=		${DISTNAME}p0
d17 8
d26 1
a26 1
LIB_DEPENDS+=	kdecore.>=8,kde3support,kdefx,kdesu,kdeui,kio,kparts,kutils,kwalletclient::x11/kde4/libs \
d28 2
a29 1
		ldap,lber::databases/openldap
d33 4
a36 2
WANTLIB += stdc++ util z bz2
WANTLIB += Qt3Support QtDBus QtGui QtSvg QtXml
@


1.2
log
@adjust libraries, flesh out description
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/03/22 22:24:32 espie Exp $
d3 1
a3 1
COMMENT=		"K Desktop Environment, pimlibs"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2006/08/03 10:53:36 espie Exp $
d5 1
d7 13
a19 2
LIB_DEPENDS+=	bz2::archivers/bzip2 \
	 	sasl2::security/cyrus-sasl2 \
d24 1
a24 1
WANTLIB += stdc++ util z
@


1.1.1.1
log
@partial port of the kde4 beta.
this is totally experimental and not working yet !
it's in so that experimental people can look at it and play with it.
do not even think of building it if you don't know what you're doing.
@
text
@@
