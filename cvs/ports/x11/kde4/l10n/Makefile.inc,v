head	1.12;
access;
symbols
	OPENBSD_6_2:1.12.0.2
	OPENBSD_6_2_BASE:1.12
	OPENBSD_6_1:1.11.0.6
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.11.0.4
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.2
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.8.0.4
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.6.0.6
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.4
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.2
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2
	zhuk_20130424:1.1.1.1
	zhuk:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2017.09.13.19.18.43;	author naddy;	state Exp;
branches;
next	1.11;
commitid	uxYxQIB7nD5C4zmx;

1.11
date	2015.09.13.10.09.01;	author zhuk;	state Exp;
branches;
next	1.10;
commitid	wQl8eCA1QXgm97z7;

1.10
date	2015.08.12.12.33.02;	author zhuk;	state Exp;
branches;
next	1.9;
commitid	ce7KTgaEH5THY5ES;

1.9
date	2015.08.12.10.02.19;	author zhuk;	state Exp;
branches;
next	1.8;
commitid	wdb9N2eypPuTtlEE;

1.8
date	2015.04.12.18.06.32;	author zhuk;	state Exp;
branches;
next	1.7;
commitid	2RTV2UvL3Ht97Bci;

1.7
date	2015.03.27.08.16.22;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	BUhOiEl2FUSRKwq7;

1.6
date	2013.12.08.19.13.32;	author zhuk;	state Exp;
branches;
next	1.5;

1.5
date	2013.10.18.21.42.56;	author zhuk;	state Exp;
branches;
next	1.4;

1.4
date	2013.10.12.12.50.51;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2013.08.24.17.33.46;	author zhuk;	state Exp;
branches;
next	1.2;

1.2
date	2013.07.04.00.46.00;	author zhuk;	state Exp;
branches;
next	1.1;

1.1
date	2013.04.24.18.23.39;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.04.24.18.23.39;	author zhuk;	state Exp;
branches;
next	;


desc
@@


1.12
log
@replace gettext module; ok rsadowski@@
@
text
@# $OpenBSD: Makefile.inc,v 1.11 2015/09/13 10:09:01 zhuk Exp $

COMMENT =		K Desktop Environment, language localization pack
DISTNAME =		kde-l10n-${KDE_L10N_LANG}-${MODKDE4_VERSION}
REVISION =		2

MODKDE4_RESOURCES =	Yes
MODKDE4_USE =		libs

.include "${.CURDIR}/../Makefile.langs"

.for L in ${ALL_LANGS}
SUPDISTFILES +=	kde-l10n-${L}-${MODKDE4_VERSION}${EXTRACT_SUFX}
.endfor

BUILD_DEPENDS +=	devel/gettext-tools
RUN_DEPENDS +=	x11/gtk+3,-guic

MASTER_SITES =	${MASTER_SITE_KDE:=stable/${MODKDE4_VERSION}/src/kde-l10n/}

KDE_LANG_STR =	${KDE_L10N_LANG} language
KDE3_I18N_PKG =	kde-i18n-${KDE_L10N_LANG}
SUBST_VARS =	KDE_LANG_STR KDE3_I18N_PKG

PKGDIR =	${.CURDIR}/../pkg
DESCR =		${PKGDIR}/DESCR
PLIST =		${PKGDIR}/PLIST-${KDE_L10N_LANG}
CHECKSUM_FILE =	${.CURDIR}/../distinfo
PKG_ARGS =	-f ${PKGDIR}/PFRAG.conflict

NO_TEST =	Yes
CONFIGURE_ENV =	CFLAGS=-I${PREFIX}/include \
		LDFLAGS="-L${PREFIX}/lib -liconv -lintl"

MODKDE4_FIX_GETTEXT =	Yes

CONFIGURE_ARGS +=	-DCMAKE_POLICY_DEFAULT_CMP0014=OLD

WANTLIB- =

post-install:
	rm -Rf ${PREFIX}/man/${KDE_L10N_LANG}/

# XXX have to do this manually here...
.include "${.CURDIR}/../../Makefile.inc"
@


1.11
log
@Fix the root of my mistake in upcoming Calligra l10n ports collection.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.10 2015/08/12 12:33:02 zhuk Exp $
d5 1
a5 1
REVISION =		1
d16 1
a29 2

MODULES +=		devel/gettext
@


1.10
log
@MODGETTEXT_TOOLS is already set by default. Pointed out by aja@@.

It looks like I need to stop juicing and restart coffeing...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.9 2015/08/12 10:02:19 zhuk Exp $
a2 1
IGNORE_SILENT =		Yes
@


1.9
log
@KDE4 SC l10n ports want gettext-tools, too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.8 2015/04/12 18:06:32 zhuk Exp $
a31 1
MODGETTEXT_TOOLS =	Yes
@


1.8
log
@Avoid WANTLIB in (arch-independent) localization packages.

Spotted by portcheck.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.7 2015/03/27 08:16:22 ajacoutot Exp $
d31 3
a33 1
MODULES +=	devel/gettext
@


1.7
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.6 2013/12/08 19:13:32 zhuk Exp $
d6 1
a6 1
REVISION =		0
d39 2
@


1.6
log
@Move on to KDE 4.11.4.

In this release, four "fat" packages were split:

  * kdeadmin
  * kdenetwork
  * kdesdk
  * kdetoys

To make updates reliable, we provide corresponding meta-packages now.

Many new patches in x11/kde4 correspond to the linking problems detected.
Those are planned to integrate upstream but probably we'll have to keep
some of them until KDE 5.

For information about major KDE 4.11 features, look at the official site:
http://www.kde.org/announcements/4.11/

Kopete Jingle support is disabled for now, until googletalk-call gets
cured from permanent coredumping.

This update involved a lot of help and patience for my mistakes from
many people, including ajacoutot@@, espie@@, naddy@@... but most of the
times this was landry@@ who definitely deserves personal "thank you"!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.5 2013/10/18 21:42:56 zhuk Exp $
d6 1
d17 1
a17 1
RUN_DEPENDS +=	x11/gtk+2,-guic
@


1.5
log
@Small improvements to KDE4 l10n builds:
  - Stop CMake warnings about non-existing CMakeLists.txt: the l10n packages
    infrastructure is semi-generated and such warnings are normal.
  - Allow sublanguages to add own MODULES and RUN_DEPENDS (will be used shortly).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.4 2013/10/12 12:50:51 espie Exp $
a5 1
REVISION ?=		1
@


1.4
log
@kde3 ports and dependents have their own l10n...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.3 2013/08/24 17:33:46 zhuk Exp $
a7 1
MODULES =		devel/gettext
d17 1
a17 1
RUN_DEPENDS =	x11/gtk+2,-guic
d31 1
a31 1
MODULES =	devel/gettext
d37 2
@


1.3
log
@Assorted fixes after portcheck scan in x11/kde4. Mostly update* goo and
whitespace fixes, but also includes pregeneration of some .pyc files (more
to come).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.2 2013/07/04 00:46:00 zhuk Exp $
d6 1
a6 1
REVISION ?=		0
@


1.2
log
@Update to KDE 4.10.5. Some highlights:
  * @@conflict markers relative to KDE3 packages added, to be used soon.
  * Migration to Ruby 1.9 for corresponding ports. Also added @@pkgpath to
    x11/ruby-qt4 in x11/kde4/ruby-qt, because they are really the same
    (except that x11/ruby-qt4 contains also smokegen and smokeqt stuff).
  * kde-base-artwork and kde-wallpapers leaved at 4.10.4 because they:
    1) did not change; 2) are heavy enough.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.1.1.1 2013/04/24 18:23:39 zhuk Exp $
d6 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d22 2
a23 1
SUBST_VARS =	KDE_LANG_STR
d29 1
@


1.1.1.1
log
@Import KDE 4 localization ports.
@
text
@@
