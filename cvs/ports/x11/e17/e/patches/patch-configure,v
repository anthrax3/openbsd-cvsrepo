head	1.7;
access;
symbols
	OPENBSD_6_1:1.7.0.12
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.7.0.10
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.6
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.8
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.4
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.2
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.6.0.6
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.4
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.4.0.8
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.6
	OPENBSD_5_0:1.4.0.4
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.2.0.4
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2;
locks; strict;
comment	@# @;


1.7
date	2014.03.26.08.55.26;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2012.12.24.13.11.03;	author stsp;	state Exp;
branches;
next	1.5;

1.5
date	2012.11.10.15.06.03;	author stsp;	state Exp;
branches;
next	1.4;

1.4
date	2011.01.16.01.00.11;	author laurent;	state Exp;
branches;
next	1.3;

1.3
date	2010.09.21.20.38.31;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2010.01.12.08.42.13;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.01.11.14.59.25;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.7
log
@regen patches, no pkg change
@
text
@$OpenBSD: patch-configure,v 1.6 2012/12/24 13:11:03 stsp Exp $

Try to avoid linking against libintl.a, fix version number in paths.

--- configure.orig	Thu Oct 31 23:07:46 2013
+++ configure	Wed Mar 26 08:54:44 2014
@@@@ -14729,12 +14729,12 @@@@ else
 #include <libintl.h>
 $gt_revision_test_code
 extern int _nl_msg_cat_cntr;
-extern int *_nl_domain_bindings;
+extern int libintl_nl_domain_bindings;
 int
 main ()
 {
 bindtextdomain ("", "");
-return * gettext ("")$gt_expression_test_code + _nl_msg_cat_cntr + *_nl_domain_bindings
+return * gettext ("")$gt_expression_test_code + _nl_msg_cat_cntr + libintl_nl_domain_bindings
   ;
   return 0;
 }
@@@@ -15604,7 +15604,7 @@@@ $as_echo "#define HAVE_DCGETTEXT 1" >>confdefs.h
   fi
 
 
-
+    LIBINTL="$LTLIBINTL"
     INTLLIBS="$LIBINTL"
 
 
@


1.6
log
@Update e17 ports to the final 0.17.0 release.
Major bump for all shared libs for safety (requested by sthen and landry).
ok sthen landry
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.5 2012/11/10 15:06:03 stsp Exp $
d5 3
a7 3
--- configure.orig	Fri Nov 16 15:54:06 2012
+++ configure	Sun Nov 18 09:41:14 2012
@@@@ -14614,12 +14614,12 @@@@ else
d22 1
a22 1
@@@@ -15444,7 +15444,7 @@@@ $as_echo "#define HAVE_DCGETTEXT 1" >>confdefs.h
@


1.5
log
@Upgrade e17 to 0.17.0 alpha. Mostly works, see here for a list of known issues:
  http://marc.info/?l=openbsd-ports&m=135255696617191&w=2
ok landry armani
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.4 2011/01/16 01:00:11 laurent Exp $
d5 3
a7 21
--- configure.orig	Mon Nov  5 16:30:25 2012
+++ configure	Thu Nov  8 02:29:13 2012
@@@@ -13033,7 +13033,7 @@@@ release_info=""
 ##--##--##--##--##--##--##--##--##--##--##--##--##--##--##--##--##
 ##--##--##--##--##--##--##--##--##--##--##--##--##--##--##--##--##
 
-release=relname
+release="$PACKAGE_VERSION"
 
 
 
@@@@ -13363,7 +13363,7 @@@@ fi
 
 
 
-MODULE_ARCH="$host_os-$host_cpu-relname"
+MODULE_ARCH="$host_os-$host_cpu-${PACKAGE_VERSION}"
 
 
 cat >>confdefs.h <<_ACEOF
@@@@ -14613,12 +14613,12 @@@@ else
d22 1
a22 1
@@@@ -15443,7 +15443,7 @@@@ $as_echo "#define HAVE_DCGETTEXT 1" >>confdefs.h
@


1.4
log
@Update. Fixes by fabien@@, armani@@, Azwaw OUSADOU and jasper@@, cleaning up to come.
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
Try to avoid linking against libintl.a
d5 21
a25 4
--- configure.orig	Sat Jan  8 15:30:30 2011
+++ configure	Sat Jan  8 16:39:23 2011
@@@@ -14206,12 +14206,12 @@@@ else
 /* end confdefs.h.  */
d27 1
d35 2
a36 2
-return (int) gettext ("") + _nl_msg_cat_cntr + *_nl_domain_bindings
+return (int) gettext ("") + _nl_msg_cat_cntr + libintl_nl_domain_bindings
d40 1
a40 1
@@@@ -14869,7 +14869,7 @@@@ $as_echo "#define HAVE_DCGETTEXT 1" >>confdefs.h
@


1.3
log
@don't link with static libintl; switch USE_LIBTOOL=gnu back to Yes
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.2 2010/01/12 08:42:13 ajacoutot Exp $
d3 1
a3 1
Make sure we don't link against static libintl.a
d5 3
a7 12
--- configure.orig	Mon Jun 15 06:13:54 2009
+++ configure	Tue Sep 21 21:21:36 2010
@@@@ -13168,7 +13168,7 @@@@ fi
 
 
 
-MODULE_ARCH="$host_os-$host_cpu-$release"
+MODULE_ARCH="$host_cpu-$release"
 
 
 cat >>confdefs.h <<_ACEOF
@@@@ -15762,12 +15762,12 @@@@ cat >>conftest.$ac_ext <<_ACEOF
d22 2
a23 2
@@@@ -16561,6 +16561,7 @@@@ _ACEOF
 
d26 1
@


1.2
log
@Use -pthread, not -lpthread.
Make sure we link with -lintl, not libintl.a.
Fix a defined from NetBSD -> OpenBSD.

ok jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.1 2010/01/11 14:59:25 jasper Exp $
d5 2
a6 2
--- configure.orig	Mon Jun 15 07:13:54 2009
+++ configure	Mon Jan 11 20:58:30 2010
d31 8
@


1.1
log
@- update e to 0.16.999.061

with feedback and tweaks by me.
committing on behalf of laurent@@
@
text
@d1 4
a4 1
$OpenBSD$
d6 1
a6 1
+++ configure	Wed Aug  5 10:50:41 2009
d16 15
a30 14
@@@@ -26342,10 +26342,10 @@@@ MSGFMT!$MSGFMT$ac_delim
 GMSGFMT!$GMSGFMT$ac_delim
 XGETTEXT!$XGETTEXT$ac_delim
 MSGMERGE!$MSGMERGE$ac_delim
-LIBICONV!$LIBICONV$ac_delim
+LIBICONV!$LTLIBICONV$ac_delim
 LTLIBICONV!$LTLIBICONV$ac_delim
-INTLLIBS!$INTLLIBS$ac_delim
-LIBINTL!$LIBINTL$ac_delim
+INTLLIBS!$LTLIBINTL$ac_delim
+LIBINTL!$LTLIBINTL$ac_delim
 LTLIBINTL!$LTLIBINTL$ac_delim
 POSUB!$POSUB$ac_delim
 dlopen_libs!$dlopen_libs$ac_delim
@

