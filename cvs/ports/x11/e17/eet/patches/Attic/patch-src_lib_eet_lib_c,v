head	1.3;
access;
symbols
	OPENBSD_4_8:1.2.0.4
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.1.1.1.0.8
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.6
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.4
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.2
	OPENBSD_4_3_BASE:1.1.1.1
	dlg_20071130:1.1.1.1
	dlg:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2011.01.16.00.35.27;	author laurent;	state dead;
branches;
next	1.2;

1.2
date	2010.01.11.15.49.25;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2007.11.30.16.04.39;	author dlg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.11.30.16.04.39;	author dlg;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update. Fixes by fabien@@, armani@@, Azwaw OUSADOU and jasper@@
@
text
@$OpenBSD: patch-src_lib_eet_lib_c,v 1.2 2010/01/11 15:49:25 jasper Exp $
--- src/lib/eet_lib.c.orig	Sun Apr 19 16:12:47 2009
+++ src/lib/eet_lib.c	Mon Jan 11 16:23:44 2010
@@@@ -1349,6 +1349,10 @@@@ eet_open(const char *file, Eet_File_Mode mode)
      on_error:
 	if (fp == NULL && mode == EET_FILE_MODE_READ) return NULL;
      }
+   else if (file_stat.st_size == 0)
+     {
+     return NULL;
+     }
    else
      {
 	int fd;
@


1.2
log
@- fix patches
@
text
@d1 1
a1 1
$OpenBSD: patch-src_lib_eet_lib_c,v 1.1.1.1 2007/11/30 16:04:39 dlg Exp $
@


1.1
log
@Initial revision
@
text
@d1 6
a6 6
$OpenBSD$
--- src/lib/eet_lib.c.orig	Mon Nov 12 11:14:04 2007
+++ src/lib/eet_lib.c	Mon Nov 12 11:15:11 2007
@@@@ -497,6 +497,10 @@@@ eet_open(const char *file, Eet_File_Mode mode)
 	else
 	  return NULL;
d12 3
a14 3
 
    /* We found one */
    if (ef && (file_stat.st_mtime != ef->mtime))
@


1.1.1.1
log
@initial port of enlightenment dr 17 and its support libs. mostly working,
but there's some todo items to work through before we attach it to the
build

initial work by laurent fanis
ok robert@@ jasper@@
bernd@@ might have oked it if he wasnt giving a talk right now
@
text
@@
