head	1.23;
access;
symbols
	OPENBSD_6_2:1.23.0.6
	OPENBSD_6_2_BASE:1.23
	OPENBSD_6_1:1.23.0.4
	OPENBSD_6_1_BASE:1.23
	OPENBSD_6_0:1.23.0.2
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.19.0.2
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.19.0.4
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.16.0.2
	OPENBSD_5_7_BASE:1.16
	OPENBSD_5_6:1.14.0.2
	OPENBSD_5_6_BASE:1.14
	OPENBSD_5_5:1.11.0.2
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.10.0.2
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	ajacoutot_20120228:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2016.05.24.14.06.20;	author gonzalo;	state Exp;
branches;
next	1.22;
commitid	Z04JngYM2rcL8jjd;

1.22
date	2016.05.06.03.50.40;	author gonzalo;	state Exp;
branches;
next	1.21;
commitid	nPJKifB6JrS7JtZr;

1.21
date	2016.05.04.13.56.26;	author gonzalo;	state Exp;
branches;
next	1.20;
commitid	ekspn2TWRmdTAjLc;

1.20
date	2016.03.02.15.56.43;	author gonzalo;	state Exp;
branches;
next	1.19;
commitid	bMDKBC6sM9eKfrw6;

1.19
date	2015.05.29.16.53.57;	author gonzalo;	state Exp;
branches;
next	1.18;
commitid	tNFzt2TVPTHK8up5;

1.18
date	2015.05.27.14.07.01;	author gonzalo;	state Exp;
branches;
next	1.17;
commitid	HHfNbXDpvXjoGcC3;

1.17
date	2015.03.16.13.34.40;	author gonzalo;	state Exp;
branches;
next	1.16;
commitid	lLbSyAqGhQp5elQv;

1.16
date	2014.10.30.19.26.03;	author gonzalo;	state Exp;
branches;
next	1.15;
commitid	0EIUSp1hAAoAfa16;

1.15
date	2014.09.05.12.57.53;	author gonzalo;	state Exp;
branches;
next	1.14;
commitid	XfJceDSJAkvrN7eh;

1.14
date	2014.05.09.12.55.41;	author gonzalo;	state Exp;
branches;
next	1.13;

1.13
date	2014.04.14.19.52.44;	author matthieu;	state Exp;
branches;
next	1.12;

1.12
date	2014.03.20.14.51.29;	author gonzalo;	state Exp;
branches;
next	1.11;

1.11
date	2013.11.26.13.53.51;	author gonzalo;	state Exp;
branches;
next	1.10;

1.10
date	2013.06.04.14.00.20;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2013.05.05.16.09.38;	author gonzalo;	state Exp;
branches;
next	1.8;

1.8
date	2013.04.05.16.32.01;	author gonzalo;	state Exp;
branches;
next	1.7;

1.7
date	2013.03.11.11.46.15;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2012.12.04.16.39.54;	author gonzalo;	state Exp;
branches;
next	1.5;

1.5
date	2012.11.05.12.12.36;	author gonzalo;	state Exp;
branches;
next	1.4;

1.4
date	2012.09.05.20.33.43;	author gonzalo;	state Exp;
branches;
next	1.3;

1.3
date	2012.07.18.19.54.56;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2012.07.09.21.35.46;	author gonzalo;	state Exp;
branches;
next	1.1;

1.1
date	2012.02.28.05.56.11;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.02.28.05.56.11;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.23
log
@Update for Spectrwm to 3.0.2:

https://github.com/conformal/spectrwm/releases

OK rpointel@@
@
text
@# $OpenBSD: Makefile,v 1.22 2016/05/06 03:50:40 gonzalo Exp $

COMMENT=		small tiling window manager

SHARED_LIBS=		swmhack 1.0

V=			3.0.2
GH_TAGNAME=		SPECTRWM_${V:S/./_/g}
GH_ACCOUNT=		conformal
GH_PROJECT=		spectrwm
DISTNAME=		${GH_PROJECT}-${V}
CATEGORIES=		x11

HOMEPAGE=		https://github.com/conformal/spectrwm/
MAINTAINER=		Gonzalo L. R. <gonzalo@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += X11 X11-xcb Xcursor Xft c util xcb xcb-util xcb-icccm
WANTLIB += xcb-keysyms xcb-randr xcb-xtest

NO_TEST=	Yes

RUN_DEPENDS=	x11/dmenu>=4.5

MAKE_FLAGS=	BINDIR="${TRUEPREFIX}/bin" \
		MANDIR="${TRUEPREFIX}/man/man" \
		SHLIB_MAJOR=${LIBswmhack_VERSION:R} \
		SHLIB_MINOR=${LIBswmhack_VERSION:E}

pre-configure:
	@@${SUBST_CMD} ${WRKSRC}/spectrwm.c

post-install:
	ln -s ${TRUEPREFIX}/bin/spectrwm ${PREFIX}/bin/scrotwm
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/spectrwm
	${INSTALL_SCRIPT} ${WRKSRC}/baraction.sh ${PREFIX}/share/examples/spectrwm
	${INSTALL_SCRIPT} ${WRKSRC}/initscreen.sh ${PREFIX}/share/examples/spectrwm
	${INSTALL_SCRIPT} ${WRKSRC}/screenshot.sh ${PREFIX}/share/examples/spectrwm
	${INSTALL_DATA} ${WRKSRC}/spectrwm.conf ${PREFIX}/share/examples/spectrwm

.for i in es cz fr fr_ch se us
	${INSTALL_DATA} ${WRKSRC}/spectrwm_$i.conf ${PREFIX}/share/examples/spectrwm
.endfor

.include <bsd.port.mk>
@


1.22
log
@Update for Spectrwm to 3.0.1

*    Fix makefile for non-Bitrig OS'
*    Redraw the focus window frame when changing regions with the pointer #126
*    Prepend SWM_LIB to LD_PRELOAD instead of clobbering #124
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/05/04 13:56:26 gonzalo Exp $
d7 1
a7 1
V=			3.0.1
@


1.21
log
@Update for Spectrwm to 3.0.0:

https://github.com/conformal/spectrwm/releases

OK rpointel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/03/02 15:56:43 gonzalo Exp $
d7 1
a7 1
V=			3.0.0
@


1.20
log
@Conformal switch to Github

Ok juanfra@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/05/29 16:53:57 gonzalo Exp $
d7 1
a7 2
V=			2.7.2
REVISION=		0
@


1.19
log
@Update to 2.7.2

New update for Spectrwm to 2.7.2:

* Restore Num_Lock workaround.
  If Num_Lock is mapped to a modifier, filter the modifier.

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/05/27 14:07:01 gonzalo Exp $
d7 6
a12 2
DISTNAME=		spectrwm-2.7.2
EXTRACT_SUFX=		.tgz
d15 1
a15 1
HOMEPAGE=		https://opensource.conformal.com/wiki/spectrwm
a22 2

MASTER_SITES=	http://opensource.conformal.com/snapshots/spectrwm/
@


1.18
log
@Update to 2.7.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/03/16 13:34:40 gonzalo Exp $
d7 1
a7 1
DISTNAME=		spectrwm-2.7.1
@


1.17
log
@Update for Spectrwm to 2.6.2:

      Use poll(2) instead of select(2).
      pull latest tag + commit digest
      Add Mod5 to support some more weird keyboards.
      Prevent possible focus change on release of a pointer grab.
      Fixed bug in man page.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/10/30 19:26:03 gonzalo Exp $
d7 1
a7 1
DISTNAME=		spectrwm-2.6.2
@


1.16
log
@Update for Spectrwm to 2.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2014/09/05 12:57:53 gonzalo Exp $
d7 1
a7 1
DISTNAME=		spectrwm-2.6.1
@


1.15
log
@Update for Spectrwm to 2.6.0:

      Improve English man page.
      fix typo s/fallowing/following/
      Fix bug in baraction.sh that causes bar text to flicker every 20s.
      Fix man page to use escape codes for aring å and pi �^�.
      Add new quirk IGNOREPID.
      Add new quirk IGNORESPAWNWS.
      Fix stacking issue at (re)start when spawn_position = first or
      Convert all booleans to stdbool.h bool.
      Add new option: warp_pointer.
      Add new quirk: WS[n]
      Add new option: urgent_collapse
      cleanup baraction.sh

Ok remi@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/05/09 12:55:41 gonzalo Exp $
d7 1
a7 1
DISTNAME=		spectrwm-2.6.0
@


1.14
log
@Update for Spectrwm to 2.5.1:

* Add clarification for the 'name' option to man page.
* Add default maximize_toggle binding to man page.
* Fix segfault in fullscreen layout when a window with transient(s) unmap.
* Set stacking order when setting up a new status bar.
* Improve stacking for windows with multiple transients.
* Fix segfault when loading "layout" with non-zero parameters.

OK benoit@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2014/04/14 19:52:44 matthieu Exp $
d7 1
a7 1
DISTNAME=		spectrwm-2.5.1
@


1.13
log
@WANTLIB updates and patches for new xcb-util libs. tested by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/03/20 14:51:29 gonzalo Exp $
d7 1
a7 2
DISTNAME=		spectrwm-2.5.0
REVISION=		0
@


1.12
log
@Update for Spectrwm to 2.5.0:

      Fix 'bind[] = ...' not unbinding as expected.
      Fix quirk matching of windows missing WM_CLASS.
      Add new maximize_toggle action.
      Improve support for Extended Window Manager Hints (EWMH).
      Add support for _NET_RESTACK_WINDOW.
      Add support for _NET_DESKTOP_GEOMETRY and _NET_DESKTOP_VIEWPORT.
      Add 'name' configuration option.
      Add support for _NET_WM_DESKTOP client message.

And others.

OK edd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/11/26 13:53:51 gonzalo Exp $
d8 1
d18 1
a18 1
WANTLIB += X11 X11-xcb Xcursor Xft c util xcb xcb-aux xcb-icccm
@


1.11
log
@Update for spectrwm to 2.4.0:

* Improve spawn program command parsing.
* Fix segfault when X keyboard map does not include
* Fix placement issue when uniconifying floaters.
* Fix default quirks to work correctly with regex.
* Add new option: iconic_enabled
* Add quirk POSIX Extended Regular Expression patter
* Fix focus border issue on output only windows.

And others.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/06/04 14:00:20 naddy Exp $
d7 1
a7 1
DISTNAME=		spectrwm-2.4.0
@


1.10
log
@fix some total nonsense in post-install
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/05/05 16:09:38 gonzalo Exp $
d7 1
a7 2
DISTNAME=		spectrwm-2.3.0
REVISION=		0
@


1.9
log
@Update for Spectrwm to 2.3.0.

Bugfixes and others.

Just go ahead sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/04/05 16:32:01 gonzalo Exp $
d8 1
d44 1
a44 2
	${INSTALL_DATA_DIR} ${WRKSRC}/spectrwm_$i.conf
	mv ${WRKSRC}/spectrwm_$i.conf ${PREFIX}/share/examples/spectrwm
@


1.8
log
@Update for Spectrwm to 2.2.0:

* Fix setkeymapping to call expand_tilde for proper expansion of ~
in path.
* Add new quirk NOFOCUSONMAP.
* Add get_screen_count function that handles the result of
  xcb_get_setup.
* Initialize some pointers that could be freed without being
  initialized.
* Add new ws_next_move and ws_prev_move bindings.
* Fix fullscreen layout stacking issue when using multiple regions.
* Improve man page explanation of verbose_layout.
* Fix input focus fallback issue when running with multiple regions.
* Fix manual focus mode sometimes switching region with pointer
  motion.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/03/11 11:46:15 espie Exp $
d7 1
a7 1
DISTNAME=		spectrwm-2.2.0
@


1.7
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/12/04 16:39:54 gonzalo Exp $
d7 1
a7 1
DISTNAME=		spectrwm-2.1.1
@


1.6
log
@Update for Spectrwm to 2.1.1:

* Avoid a free on an uninitialized variable by setting optval to
  NULL.
* Fix fparseln flags to remove escape characters in the result.
* Fix issue where rapid window crossing events might get ignored.
* Validate bound spawn programs after conf is loaded.
* Fix move/resize to bail if the window gets destroyed.
* Fix bar clock not getting updated during periods of inactivity.

Ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/11/05 12:12:36 gonzalo Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d22 1
a22 1
NO_REGRESS=	Yes
@


1.5
log
@Update to 2.1.0:

Improved bar_action handling to eliminate the need for bar_delay.
Renamed screen_* bindings to rg_*; config files using the old bindings
are still supported.
Fixed handling of region focus with empty workspaces.
Fixed toggle_bar not working on empty workspaces.
Fixed issue where multiple key actions might be handled simultaneously.
Fixed focus behavior when iconified windows exist in the ws.
Fixed windows not being unmapped on single-monitor fullscreen layout.
Fixed mouse and keyboard binds to work regardless of caps/numlock state.
Fixed a couple segfaults.
Fixed a couple memleaks.
Kill bar_action script oAn an unclean exit.
Add startup exception mechanism that display error messages in the bar.
Add config file check that uses startup exceptions to tell user if the
file has issues.

Ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/09/05 20:33:43 gonzalo Exp $
d7 1
a7 1
DISTNAME=		spectrwm-2.1.0
@


1.4
log
@Update for Spectrwm to 2.0.2:

* complete rewrite using xcb
* 100% backwards compatible
* way more responsive and snappy
* Tons of warts fixed
* cygwin works again
* xft fonts
* Added support for Xcursor.
* Fixed several fullscreen layout issues.
* Improved focus handling so related windows are raised when
  appropriate.
* Fixed several focus issues.
* Fixed several issues that could cause segfaults.
* Fixed startup issue where certain windows might not get managed.
* Fixed delay when moving/resizing windows via keyboard.
* Fix scan_xrandr to fallback when a scan results in no new regions.
* Add tilde ~ expansion to autorun command in the config.

Tested on amd64 and zaurus.

Ok kili@@ portswise (i didn't test it)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/07/18 19:54:56 sthen Exp $
d7 1
a7 1
DISTNAME=		spectrwm-2.0.2
d27 1
a27 1
RUN_DEPENDS=	x11/dmenu>=4.4.1
@


1.3
log
@update to spectrwm 1.1.2, ok gonzalo@@

* Fix issue where a window/icon could not be clicked or otherwise
be manipulated (skype, thunderbird etc).
* Fix an issue where on some Intel graphics cards when exiting the
screen turned garbled and would blink really badly.
* Bonus fix: spawn_position to actually do what it is supposed to do.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/07/09 21:35:46 gonzalo Exp $
d7 1
a7 1
DISTNAME=		spectrwm-1.1.2
d20 2
a21 1
WANTLIB += c X11 Xrandr Xtst util
@


1.2
log
@Update for Spectrwm to 1.1.1 with some changes:

* Fix status bar flicker by double-buffering the output.
* Add horizontal_flip and vertical_flip layout options.
* Kill references before focusing on a new window.
* Add new options to change focus behavior on window open and close.
* Increase workspace hard limit to 22.
* Tons of wart removals
* Add backwards compatibility for the spawn_term binding
* Add clarification to man page that default workspace_limit is 10.

Tested on amd64.

"no objection.." sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/02/28 05:56:11 ajacoutot Exp $
d7 1
a7 1
DISTNAME=		spectrwm-1.1.1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
DISTNAME=		spectrwm-1.0.0
d12 1
a12 1
MAINTAINER=		Gonzalo L. R. <gonzalo@@x61.com.ar>
@


1.1.1.1
log
@Import spectrwm-1.0.0.
(previously under x11/scrotwm; this is an update to 1.0.0 and renaming)

from Gonzalo L. R. (maintainer)
@
text
@@
