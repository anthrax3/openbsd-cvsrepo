head	1.61;
access;
symbols
	OPENBSD_6_1:1.60.0.4
	OPENBSD_6_1_BASE:1.60
	OPENBSD_6_0:1.60.0.2
	OPENBSD_6_0_BASE:1.60
	OPENBSD_5_9:1.59.0.2
	OPENBSD_5_9_BASE:1.59
	OPENBSD_5_8:1.58.0.12
	OPENBSD_5_8_BASE:1.58
	OPENBSD_5_7:1.58.0.8
	OPENBSD_5_7_BASE:1.58
	OPENBSD_5_6:1.58.0.6
	OPENBSD_5_6_BASE:1.58
	OPENBSD_5_5:1.58.0.4
	OPENBSD_5_5_BASE:1.58
	OPENBSD_5_4:1.58.0.2
	OPENBSD_5_4_BASE:1.58
	OPENBSD_5_3:1.56.0.2
	OPENBSD_5_3_BASE:1.56
	OPENBSD_5_2:1.55.0.2
	OPENBSD_5_2_BASE:1.55
	OPENBSD_5_1_BASE:1.53
	OPENBSD_5_1:1.53.0.4
	OPENBSD_5_0:1.53.0.2
	OPENBSD_5_0_BASE:1.53
	OPENBSD_4_9:1.51.0.2
	OPENBSD_4_9_BASE:1.51
	OPENBSD_4_8:1.46.0.2
	OPENBSD_4_8_BASE:1.46
	OPENBSD_4_7:1.44.0.8
	OPENBSD_4_7_BASE:1.44
	OPENBSD_4_6:1.44.0.6
	OPENBSD_4_6_BASE:1.44
	OPENBSD_4_5:1.44.0.4
	OPENBSD_4_5_BASE:1.44
	OPENBSD_4_4:1.44.0.2
	OPENBSD_4_4_BASE:1.44
	OPENBSD_4_3:1.43.0.2
	OPENBSD_4_3_BASE:1.43
	OPENBSD_4_2:1.42.0.2
	OPENBSD_4_2_BASE:1.42
	OPENBSD_4_1:1.41.0.2
	OPENBSD_4_1_BASE:1.41
	OPENBSD_4_0:1.38.0.2
	OPENBSD_4_0_BASE:1.38
	OPENBSD_3_9:1.37.0.4
	OPENBSD_3_9_BASE:1.37
	OPENBSD_3_8:1.37.0.2
	OPENBSD_3_8_BASE:1.37
	OPENBSD_3_7:1.36.0.2
	OPENBSD_3_7_BASE:1.36
	OPENBSD_3_6:1.31.0.4
	OPENBSD_3_6_BASE:1.31
	OPENBSD_3_5:1.31.0.2
	OPENBSD_3_5_BASE:1.31
	OPENBSD_3_4:1.29.0.2
	OPENBSD_3_4_BASE:1.29
	OPENBSD_3_3:1.28.0.2
	OPENBSD_3_3_BASE:1.28
	OPENBSD_3_2:1.26.0.2
	OPENBSD_3_2_BASE:1.26
	OPENBSD_3_1:1.24.0.2
	OPENBSD_3_1_BASE:1.24
	OPENBSD_3_0:1.16.0.2
	OPENBSD_3_0_BASE:1.16
	OPENBSD_2_9_TRACKING_SWITCH:1.15
	pvalchev_2001-June-27:1.1.1.2
	pvalchev:1.1.1
	OPENBSD_2_6:1.4.0.4
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	fvwm2-2_0_46:1.1.1.1
	fvwm2:1.1.1;
locks; strict;
comment	@# @;


1.61
date	2017.06.02.11.33.16;	author schwarze;	state Exp;
branches;
next	1.60;
commitid	BmRlJvPP6AksX52q;

1.60
date	2016.03.20.20.31.56;	author naddy;	state Exp;
branches;
next	1.59;
commitid	qsu6jJq0jjKZKPrS;

1.59
date	2015.10.13.06.29.38;	author bentley;	state Exp;
branches;
next	1.58;
commitid	l20av95NAm02GYvb;

1.58
date	2013.06.03.02.46.57;	author naddy;	state Exp;
branches;
next	1.57;

1.57
date	2013.03.11.11.46.09;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2013.02.09.14.49.53;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2012.05.19.18.31.07;	author shadchin;	state Exp;
branches;
next	1.54;

1.54
date	2012.03.29.13.39.00;	author sthen;	state Exp;
branches;
next	1.53;

1.53
date	2011.06.09.15.25.50;	author shadchin;	state Exp;
branches;
next	1.52;

1.52
date	2011.04.26.18.50.46;	author shadchin;	state Exp;
branches;
next	1.51;

1.51
date	2011.01.18.20.00.56;	author jasper;	state Exp;
branches;
next	1.50;

1.50
date	2010.11.22.08.36.56;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2010.11.09.17.05.44;	author jasper;	state Exp;
branches;
next	1.48;

1.48
date	2010.10.24.21.15.32;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2010.10.19.08.13.56;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2010.08.01.15.44.40;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2010.07.30.12.03.08;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2008.06.10.05.39.37;	author pvalchev;	state Exp;
branches;
next	1.43;

1.43
date	2007.09.15.20.04.20;	author merdely;	state Exp;
branches;
next	1.42;

1.42
date	2007.05.09.15.48.39;	author bernd;	state Exp;
branches;
next	1.41;

1.41
date	2006.12.25.20.10.14;	author pvalchev;	state Exp;
branches;
next	1.40;

1.40
date	2006.12.14.09.07.56;	author steven;	state Exp;
branches;
next	1.39;

1.39
date	2006.11.25.07.55.25;	author steven;	state Exp;
branches;
next	1.38;

1.38
date	2006.08.04.00.10.42;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2005.07.29.05.01.49;	author pvalchev;	state Exp;
branches;
next	1.36;

1.36
date	2005.03.06.14.16.58;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2005.01.05.14.19.56;	author alek;	state Exp;
branches;
next	1.34;

1.34
date	2004.12.30.01.20.39;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2004.12.19.17.36.31;	author alek;	state Exp;
branches;
next	1.32;

1.32
date	2004.12.17.15.18.32;	author alek;	state Exp;
branches;
next	1.31;

1.31
date	2004.02.04.07.39.19;	author sturm;	state Exp;
branches;
next	1.30;

1.30
date	2003.10.08.17.13.16;	author sturm;	state Exp;
branches;
next	1.29;

1.29
date	2003.06.16.04.58.16;	author pvalchev;	state Exp;
branches;
next	1.28;

1.28
date	2003.01.18.19.49.16;	author pvalchev;	state Exp;
branches;
next	1.27;

1.27
date	2002.12.29.20.31.41;	author fgsch;	state Exp;
branches;
next	1.26;

1.26
date	2002.06.27.21.22.25;	author pvalchev;	state Exp;
branches;
next	1.25;

1.25
date	2002.04.19.19.45.03;	author pvalchev;	state Exp;
branches;
next	1.24;

1.24
date	2002.02.06.19.39.26;	author pvalchev;	state Exp;
branches;
next	1.23;

1.23
date	2002.01.07.02.19.28;	author pvalchev;	state Exp;
branches;
next	1.22;

1.22
date	2001.12.28.09.29.40;	author pvalchev;	state Exp;
branches;
next	1.21;

1.21
date	2001.11.01.09.03.26;	author pvalchev;	state Exp;
branches;
next	1.20;

1.20
date	2001.10.30.07.05.18;	author pvalchev;	state Exp;
branches;
next	1.19;

1.19
date	2001.10.30.04.23.38;	author pvalchev;	state Exp;
branches;
next	1.18;

1.18
date	2001.10.29.05.39.50;	author pvalchev;	state Exp;
branches;
next	1.17;

1.17
date	2001.10.26.04.31.36;	author pvalchev;	state Exp;
branches;
next	1.16;

1.16
date	2001.09.17.04.32.56;	author pvalchev;	state Exp;
branches;
next	1.15;

1.15
date	2001.08.13.06.34.26;	author pvalchev;	state Exp;
branches;
next	1.14;

1.14
date	2001.08.09.06.53.59;	author pvalchev;	state Exp;
branches;
next	1.13;

1.13
date	2001.08.09.06.05.35;	author pvalchev;	state Exp;
branches;
next	1.12;

1.12
date	2001.08.04.04.57.23;	author pvalchev;	state Exp;
branches;
next	1.11;

1.11
date	2001.08.04.04.10.15;	author pvalchev;	state Exp;
branches;
next	1.10;

1.10
date	2001.08.03.20.03.39;	author pvalchev;	state Exp;
branches;
next	1.9;

1.9
date	2001.07.29.18.21.30;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2001.07.05.18.38.38;	author pvalchev;	state Exp;
branches;
next	1.7;

1.7
date	2001.07.03.05.21.14;	author pvalchev;	state Exp;
branches;
next	1.6;

1.6
date	2001.06.27.21.50.38;	author pvalchev;	state Exp;
branches;
next	1.5;

1.5
date	99.12.30.01.04.47;	author brad;	state dead;
branches;
next	1.4;

1.4
date	98.12.16.22.49.41;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.06.13.23.27.08;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.03.27.05.06.36;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.01.23.19.48.56;	author don;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.01.23.19.48.56;	author don;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.06.27.21.46.00;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.61
log
@Drop USE_GROFF and bump.
Mandoc now copes with DocBook lists using \h.
@
text
@# $OpenBSD: Makefile,v 1.60 2016/03/20 20:31:56 naddy Exp $

COMMENT-main=	multiple virtual desktop window manager, with icons
COMMENT-fvicons=multiple virtual desktop window manager icons
COMMENT-fvwm2=	multiple virtual desktop window manager, without icons

VERSION=	2.6.5
DISTNAME=	fvwm-${VERSION}
PKGNAME-main=	fvwm2+fvicons-${VERSION}
FULLPKGNAME-fvicons=fvicons-${VERSION}
PKGNAME-fvwm2=	fvwm2-${VERSION}
REVISION-main=	1
REVISION-fvwm2=	1
REVISION-fvicons=0

CATEGORIES=     x11

DISTFILES=	${DISTNAME}${EXTRACT_SUFX} fvwm_icons-20070101.tar.gz

HOMEPAGE=	http://www.fvwm.org/

MAINTAINER=	Peter Valchev <pvalchev@@sightly.net>

# GPL/BSD-like (badly worded)
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += GL ICE SM X11 Xcursor Xext Xft Xinerama Xpm Xrender
WANTLIB += c cairo expat fontconfig freetype gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gobject-2.0 m pixman-1 png pthread pthread-stubs
WANTLIB += readline rsvg-2 termcap xcb xcb-render xcb-shm z

MODULES=	devel/gettext

MASTER_SITES=	ftp://ftp.fvwm.org/pub/fvwm/version-2/

LIB_DEPENDS+=	graphics/png \
		x11/gnome/librsvg

BUILD_DEPENDS=	textproc/libxslt

MULTI_PACKAGES=	-main -fvwm2 -fvicons

FLAVORS=	debug
FLAVOR?=

.if ${FLAVOR:Mdebug}
CONFIGURE_ARGS+= --enable-debug-msgs
.endif

PKG_ARCH-fvicons=	*
LIB_DEPENDS-fvicons=
WANTLIB-fvicons=
FULLPKGPATH-fvicons=	${PKGPATH},-fvicons

SUBST_VARS=	VERSION

SEPARATE_BUILD= Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS +=	--disable-bidi \
			--disable-gtk \
			--without-gnome \
			--without-rplay-library \
			--without-stroke-library
CONFIGURE_ENV +=	CPPFLAGS="${CPPFLAGS} -I${LOCALBASE}/include" \
			LDFLAGS="${LDFLAGS} -L${LOCALBASE}/lib"

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/pixmaps/fvwm
	${INSTALL_DATA} ${WRKDIR}/fvwm_icons-20070101/*.xpm ${PREFIX}/share/pixmaps/fvwm/
	${INSTALL_DATA} ${WRKSRC}/sample.fvwmrc/system.fvwm2rc ${PREFIX}/share/fvwm

.include <bsd.port.mk>
@


1.60
log
@remove rplay flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2015/10/13 06:29:38 bentley Exp $
d12 3
a14 1
REVISION=	0
a55 2

USE_GROFF =	Yes
@


1.59
log
@Update maintainer email address.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/06/03 02:46:57 naddy Exp $
d41 1
a41 1
FLAVORS=	rplay debug
a43 9
.if ${FLAVOR:Mrplay}
LIB_DEPENDS+=	audio/rplay
CONFIGURE_ARGS+= --with-rplay-includes="${LOCALBASE}/include" \
		 --with-rplay-library="${LOCALBASE}/lib"
WANTLIB += rplay
.else
CONFIGURE_ARGS+= --without-rplay-library
.endif

d62 1
@


1.58
log
@cope with new png include layout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/03/11 11:46:09 espie Exp $
d12 1
d20 1
a20 1
MAINTAINER=	Peter Valchev <pvalchev@@openbsd.org>
@


1.57
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/02/09 14:49:53 sthen Exp $
d70 1
a70 2
			--without-stroke-library \
			--with-png-includes="${LOCALBASE}/include/libpng"
@


1.56
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/05/19 18:31:07 shadchin Exp $
a22 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.55
log
@Update to 2.6.5.

tested mikeb@@, maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/03/29 13:39:00 sthen Exp $
d46 1
a46 1
.if ${FLAVOR:L:Mrplay}
d55 1
a55 1
.if ${FLAVOR:L:Mdebug}
@


1.54
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/06/09 15:25:50 shadchin Exp $
d7 1
a7 1
VERSION=	2.6.1
d27 4
a30 6
WANTLIB += GL ICE SM X11 Xau Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xft Xinerama Xpm Xrender Xxf86vm c cairo drm expat
WANTLIB += fontconfig freetype gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 m pixman-1 png
WANTLIB += pthread pthread-stubs readline rsvg-2 termcap xcb xcb-render
WANTLIB += xcb-shm z
d75 2
a76 2
CONFIGURE_ENV +=	CFLAGS="${CFLAGS} -I${LOCALBASE}/include -I${X11BASE}/include" \
			LDFLAGS="${LDFLAGS} -L${LOCALBASE}/lib -L${X11BASE}/lib"
@


1.53
log
@fix BUILD_DEPENDS. From Tony Lambiris (tonylambiris at gmail dot com)

ok jasper@@, pvalchev@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/04/26 18:50:46 shadchin Exp $
d70 1
a70 1
SEPARATE_BUILD= concurrent
@


1.52
log
@Update to 2.6.1 (@@pkgpath line have flavours in order of how they appear
in the FLAVORS variable)

ok jasper@@, pvalchev@@ (maintainer), tested mikeb@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/01/18 20:00:56 jasper Exp $
d40 2
@


1.51
log
@- remove fvwmgtk, depends on an old and deprecated toolkit..

ok pval@@ (MAINTAINER), aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/11/22 08:36:56 espie Exp $
d7 1
a7 1
VERSION=	2.4.20
a12 4
REVISION-main=	3
REVISION-fvicons= 1
REVISION-fvwm2=	2

d15 1
a15 1
DISTFILES=	${DISTNAME}${EXTRACT_SUFX} fvwm_icons.tgz:0
d27 6
a32 1
WANTLIB += ICE SM X11 Xext Xinerama Xpm c m readline termcap
d37 3
a39 1
MASTER_SITES0=	http://www.fvwm.org/generated/icon_download/
d43 1
a43 1
FLAVORS=	rplay debug i18n
d52 1
a52 1
CONFIGURE_ARGS+= --without-rplay
a58 7
.if ${FLAVOR:L:Mi18n}
# the multibyte character support is experimental
CONFIGURE_ARGS+= --enable-multibyte
.else
CONFIGURE_ARGS+= --disable-multibyte
.endif

d70 7
a76 3
CONFIGURE_ARGS+= --enable-extras \
		--without-gnome \
		--disable-gtk
d80 1
a80 1
	${INSTALL_DATA} ${WRKDIR}/fvwm_icons/*.xpm ${PREFIX}/share/pixmaps/fvwm/
@


1.50
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/11/09 17:05:44 jasper Exp $
d13 1
a13 1
REVISION-main=	2
d15 1
a15 1
REVISION-fvwm2=	1
d31 1
a31 2
WANTLIB=	ICE SM X11 Xext Xi Xinerama Xpm c gdk glib gmodule \
		gtk gdk_imlib jpeg m png readline termcap tiff ungif z
a37 3
LIB_DEPENDS=	x11/gtk+ \
		graphics/imlib

d75 2
a76 1
		 --without-gnome
d82 1
a82 1
	
@


1.49
log
@- stop explaining how to add fvwm2 to xinitrc, and remove some more obvious
bits.

pointed out by danh@@, ok pval@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/10/24 21:15:32 ajacoutot Exp $
d39 2
a40 2
LIB_DEPENDS=	::x11/gtk+ \
		::graphics/imlib
d48 1
a48 1
LIB_DEPENDS+=	::audio/rplay
@


1.48
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/10/19 08:13:56 espie Exp $
d13 3
a15 3
REVISION-main=	1
REVISION-fvicons= 0
REVISION-fvwm2=	0
@


1.47
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/08/01 15:44:40 ajacoutot Exp $
a73 1
USE_X11=	Yes
@


1.46
log
@Missed bumps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/07/30 12:03:08 ajacoutot Exp $
d75 1
@


1.45
log
@Move to new DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2008/06/10 05:39:37 pvalchev Exp $
d13 3
a15 1
REVISION-main=	0
@


1.44
log
@fvwm-2.4.20
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2007/09/15 20:04:20 merdely Exp $
d12 3
d25 1
a25 1
PERMIT_PACKAGE_FTP=	Yes 
d27 6
a32 3
PERMIT_DISTFILES_FTP=	Yes 
WANTLIB=		ICE SM X11 Xext Xi Xinerama Xpm c gdk glib gmodule \
			iconv intl jpeg m png readline termcap tiff ungif z
d37 2
a38 2
LIB_DEPENDS=	gtk.>=1.2:gtk+-*:x11/gtk+ \
		gdk_imlib.>=19.:imlib-*:graphics/imlib
d46 1
a46 1
LIB_DEPENDS+=	rplay::audio/rplay
d49 1
@


1.43
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2007/05/09 15:48:39 bernd Exp $
d7 1
a7 1
VERSION=	2.4.19
d9 2
a10 2
PKGNAME-main=	fvwm2+fvicons-${VERSION}p0
FULLPKGNAME-fvicons=fvicons-${VERSION}p0
@


1.42
log
@The -fvicons subpackage has always the same content and the same PKGNAME
no matter what FLAVOR is used. The same should apply to the package path.
So ${FLAVOR_EXT} shouldn't be added to FULLPKGPATH.

This avoids wrong package path entries in the PLIST and bulk build errors
when using PLIST_DB.

test & ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2006/12/25 20:10:14 pvalchev Exp $
d3 3
a5 3
COMMENT-main=	"multiple virtual desktop window manager, with icons"
COMMENT-fvicons="multiple virtual desktop window manager icons"
COMMENT-fvwm2=	"multiple virtual desktop window manager, without icons"
@


1.41
log
@fix rplay flavor lib depends entry; pointed out by sgeorge.ml@@gmail.com
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/12/14 09:07:56 steven Exp $
d10 1
a10 1
FULLPKGNAME-fvicons=fvicons-${VERSION}
d61 1
@


1.40
log
@use BASE_PKGPATH instead of homegrown variable, no bumps needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2006/11/25 07:55:25 steven Exp $
d40 1
a40 1
LIB_DEPENDS+=	rplay.0.:rplay-*:audio/rplay
@


1.39
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2006/08/04 00:10:42 espie Exp $
d62 1
a62 3
MAINPATH=	x11/fvwm2${FLAVOR_EXT:S/-/,/g}

SUBST_VARS=	VERSION MAINPATH
@


1.38
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2005/07/29 05:01:49 pvalchev Exp $
d3 1
a3 1
COMMENT=	"multiple virtual desktop window manager, with icons"
d9 1
a9 1
PKGNAME=	fvwm2+fvicons-${VERSION}
d34 1
a34 2
MULTI_PACKAGES=	-fvwm2 -fvicons
SUBPACKAGE?=
d39 1
a39 1
.if ${FLAVOR:L:Mrplay} && !${SUBPACKAGE} == "-fvicons"
d58 5
a62 5
.if defined(PACKAGING) && ${SUBPACKAGE} == "-fvicons"
PKG_ARCH=	*
LIB_DEPENDS=
WANTLIB=
.endif
d64 1
a64 1
SUBST_VARS=	VERSION
@


1.37
log
@update to fvwm-2.4.19; prodded by mpech/form
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2005/03/06 14:16:58 espie Exp $
d31 2
a32 2
LIB_DEPENDS=	gtk.1.2:gtk+-*:x11/gtk+ \
		gdk_imlib.19.:imlib-*:graphics/imlib
@


1.36
log
@fix shared directories
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2005/01/05 14:19:56 alek Exp $
d7 1
a7 1
VERSION=	2.4.16
d9 3
a11 3
PKGNAME=	fvwm2+fvicons-${VERSION}p1
FULLPKGNAME-fvicons=fvicons-${VERSION}p1
PKGNAME-fvwm2=	fvwm2-${VERSION}p0
@


1.35
log
@- Better deps for -fvicons
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2004/12/30 01:20:39 espie Exp $
d9 2
a10 2
PKGNAME=	fvwm2+fvicons-${VERSION}p0
FULLPKGNAME-fvicons=fvicons-${VERSION}p0
@


1.34
log
@conflict (xpmroot)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/12/19 17:36:31 alek Exp $
d10 1
a10 1
FULLPKGNAME-fvicons=fvicons-${VERSION}
d61 1
@


1.33
log
@Add/fix WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/12/17 15:18:32 alek Exp $
d9 1
a9 1
PKGNAME=	fvwm2+fvicons-${VERSION}
d11 1
a11 1
PKGNAME-fvwm2=	fvwm2-${VERSION}
@


1.32
log
@Add WANTLIB markers, part two
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2004/02/04 07:39:19 sturm Exp $
d61 1
@


1.31
log
@mark some subpackages arch independent

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2003/10/08 17:13:16 sturm Exp $
d25 2
@


1.30
log
@first bunch of license cleanup, some discussions about interpretation
during the release with pval@@

other categories will follow once they are finished
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2003/06/16 04:58:16 pvalchev Exp $
d55 4
@


1.29
log
@Update to fvwm-2.4.16; from Peter Hessler <phessler@@theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2003/01/18 19:49:16 pvalchev Exp $
d20 2
a21 2
# GPL
PERMIT_PACKAGE_CDROM=	Yes 
d23 1
a23 1
PERMIT_DISTFILES_CDROM=	Yes 
@


1.28
log
@Update to fvwm-2.4.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2002/12/29 20:31:41 fgsch Exp $
d7 1
a7 1
VERSION=	2.4.14
@


1.27
log
@zap NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2002/06/27 21:22:25 pvalchev Exp $
d7 1
a7 1
VERSION=	2.4.8
@


1.26
log
@update to fvwm-2.4.8; release containing various fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/04/19 19:45:03 pvalchev Exp $
a12 1
NEED_VERSION=	1.531
@


1.25
log
@fvwm-2.4.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/02/06 19:39:26 pvalchev Exp $
d7 1
a7 1
VERSION=	2.4.7
d13 1
a13 1
NEED_VERSION=	1.524
d21 1
@


1.24
log
@Update to fvwm-2.4.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/01/07 02:19:28 pvalchev Exp $
d7 1
a7 1
VERSION=	2.4.5
d13 1
a13 1
NEED_VERSION=	1.504
@


1.23
log
@fix icons, fvwm dudes changed distfile; thanks mark
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/12/28 09:29:40 pvalchev Exp $
d7 1
a7 1
VERSION=	2.4.4
d13 1
a13 1
NEED_VERSION=	1.502
@


1.22
log
@Update to fvwm-2.4.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/10/30 07:05:18 pvalchev Exp $
d68 1
a68 1
	${INSTALL_DATA} ${WRKDIR}/*.xpm ${PREFIX}/share/pixmaps/fvwm/
@


1.21
log
@Put the icons (pixmaps) in ${PREFIX}/share/pixmaps/fvwm.
Suggested by vedge@@cn.csoft.net
@
text
@d7 1
a7 1
VERSION=	2.4.3
d13 1
a13 1
NEED_VERSION=	1.482
d39 1
a39 1
LIB_DEPENDS=	rplay.0.:rplay-*:audio/rplay
@


1.20
log
@Install icons in ${PREFIX}/share/fvwm/icons, where the rest of the data
files are put.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/10/30 04:23:38 pvalchev Exp $
d67 2
a68 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/fvwm/icons
	${INSTALL_DATA} ${WRKDIR}/*.xpm ${PREFIX}/share/fvwm/icons/
@


1.19
log
@hm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/10/26 04:31:36 pvalchev Exp $
d67 2
a68 2
	${INSTALL_DATA_DIR} ${PREFIX}/fvicons
	${INSTALL_DATA} ${WRKDIR}/*.xpm ${PREFIX}/fvicons/
@


1.18
log
@use gtk module
@
text
@d13 1
a13 1
NEED_VERSION=	1.487
d29 2
a30 1
MODULES=	gtk
@


1.17
log
@Update to fvwm-2.4.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/09/17 04:32:56 pvalchev Exp $
d13 1
a13 1
NEED_VERSION=	1.482
d29 1
a29 2
LIB_DEPENDS=	gtk.1.2:gtk+-*:x11/gtk+ \
		gdk_imlib.19.:imlib-*:graphics/imlib
@


1.16
log
@Update to fvwm-2.4.2

Make sure gnome support is properly disabled.  gnome wm hints
are built, but gnome support in FvwmGtk will have to be looked at.
Add imlib support in FvwmGtk by default.

2.4.2 contains a lot of fixes and new features as opposed to 2.4.0,
see http://www.fvwm.org/generated/NEWS.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/08/13 06:34:26 pvalchev Exp $
d7 1
a7 1
VERSION=	2.4.2
d13 1
a13 1
NEED_VERSION=	1.457
@


1.15
log
@bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/08/09 06:53:59 pvalchev Exp $
d7 1
a7 1
VERSION=	2.4.0
d13 1
a13 1
NEED_VERSION=	1.435
d29 2
a30 1
LIB_DEPENDS=	gtk.1.2:gtk+-*:x11/gtk+
d64 1
a64 1
		 --disable-gnome
@


1.14
log
@Oops.  FvwmEvent and FvwmAnimate modules do link against librplay, register
LIB_DEPENDS rplay entry.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/08/09 06:05:35 pvalchev Exp $
d13 1
a13 1
NEED_VERSION=	1.433
@


1.13
log
@The rplay flavor does not need rplay to build, so leave just RUN_DEPENDS on it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/08/04 04:57:23 pvalchev Exp $
d38 1
a38 2
RUN_DEPENDS=	rplay:rplay-*:audio/rplay
.elif ${FLAVOR:L:Mrplay}
@


1.12
log
@For the rplay flavor, register RUN_DEPENDS for rplay, too.  Also, make the subpackage
test better.  Thanks Brad!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/08/04 04:10:15 pvalchev Exp $
d38 1
a38 2
BUILD_DEPENDS=	rplay::audio/rplay
RUN_DEPENDS=	${BUILD_DEPENDS}
@


1.11
log
@if the rplay flavor is specified and building the icon set subpackage,
do not depend on rplay.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/08/03 20:03:39 pvalchev Exp $
d37 1
a37 1
.if ${FLAVOR:L:Mrplay} && !${SUBPACKAGE:M-fvicons}
d39 1
@


1.10
log
@Use FULLPKGNAME for fvicons subpackage since flavors don't play there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/07/29 18:21:30 espie Exp $
d37 1
a37 1
.if ${FLAVOR:L:Mrplay}
d39 1
@


1.9
log
@Bogus pkgspec in dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/07/05 18:38:38 pvalchev Exp $
d10 1
a10 1
PKGNAME-fvicons=fvicons-${VERSION}
d13 1
a13 1
NEED_VERSION=	1.419
@


1.8
log
@Update to fvwm-2.4.0
See the distributed ChangeLog for details, there are a lot of new
features.
Introduce:
- i18n flavor for the experimental multibyte character support,
- Gtk dependency by default so that the gtk modules build,
- Explicitly disable rplay support unless the flavor has been specified.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/07/03 05:21:14 pvalchev Exp $
d29 1
a29 1
LIB_DEPENDS=	gtk.1.2:gtk-*:x11/gtk+
@


1.7
log
@fvwm main sites are up now, change MASTER_SITES accordingly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/06/27 21:50:38 pvalchev Exp $
d7 1
a7 1
VERSION=	2.2.5
d13 1
a13 1
NEED_VERSION=	1.417
d29 2
d34 1
a34 1
FLAVORS=	rplay debug
d41 2
d49 7
d62 2
a63 1
CONFIGURE_ARGS+= --enable-extras
d68 1
a68 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/fvwm2
	${INSTALL_DATA} ${WRKSRC}/sample.fvwmrc/system.fvwm2rc ${PREFIX}/share/fvwm2
@


1.6
log
@fvwm-2.2.5 merge
@
text
@d1 1
a1 1
# $OpenBSD$
d26 2
a27 4
MASTER_SITES=	http://www.toxiclinux.org/fvwm/
MASTER_SITES0=	http://www.toxiclinux.org/fvwm/
#MASTER_SITES=	ftp://ftp.fvwm.org/pub/fvwm/version-2/
#MASTER_SITES0=	http://www.fvwm.org/generated/icon_download/
@


1.5
log
@remove fvwm2 port, it has been included with X for awhile now
@
text
@d1 53
a53 34
# OpenBSD makefile for:	Internationalized fvwm2
# Version required:	2.0.46
# Date created:		12 January 1998
# Whom:			Don Schmidt
#
# $OpenBSD: Makefile,v 1.4 1998/12/16 22:49:41 marc Exp $
#

DISTNAME=	fvwm-2.0.46
CATEGORIES=	x11

COMES_WITH=	2.3
MIRROR_DISTFILE=no

MASTER_SITES=	ftp://ftp.ics.es.osaka-u.ac.jp/pub/CFAN/sources/2.0.x/ \
		ftp://ftp.ics.es.osaka-u.ac.jp/pub/CFAN/fvwm-users-jp/kits/ \
		ftp://ftp.TokyoNet.AD.JP/pub/X/fvwm/sources/2.0.x/ \
		ftp://ftp.TokyoNet.AD.JP/pub/X/fvwm/fvwm-users-jp/kits/ \
		ftp://ftp.hpc.uh.edu/pub/fvwm/version-2/
DISTFILES=	${DISTNAME}${EXTRACT_SUFX} fvwm-users-jp-kits.97Oct04.tar.gz

MAINTAINER=	don@@OpenBSD.ORG

USE_IMAKE=	yes

# filenames.
PATCH_FIXIT=	kits/patch/fix-2.0.46
PATCH_I18N=	kits/patch/PATCH.I18N
USE_PATCHFILES=	${PATCH_FIXIT} ${PATCH_I18N}

pre-patch:
	@@for i in ${USE_PATCHFILES}; do \
		${PATCH} ${PATCH_DIST_ARGS} < ${WRKDIR}/$$i; \
	 done;
d56 5
a60 6
	@@${MKDIR} ${PREFIX}/lib/X11/fvwm2/pixmaps
	${INSTALL_DATA} ${WRKSRC}/icons/*.xpm ${WRKSRC}/icons/*.xbm \
			${WRKSRC}/icons/*.bitmap ${WRKSRC}/icons/*.icon \
		${PREFIX}/lib/X11/fvwm2/pixmaps
	@@${CAT} ${PKGDIR}/MESSAGE

@


1.4
log
@MIRROR_DISTFILE=no
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1998/06/13 23:27:08 marc Exp $
@


1.3
log
@don't depend on the ports libxpm unless os release < 2.3;
libXpm is standard with 2.3
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1998/03/27 05:06:36 marc Exp $
d10 2
d13 2
a14 1
CATEGORIES=	x11
a23 6
OS_RELEASE!=	uname -r
OS_HAS_XPM=	2.3
.if ( ${OS_RELEASE} < ${OS_HAS_XPM} )
LIB_DEPENDS=	Xpm\\.4\\.:${PORTSDIR}/graphics/xpm
.endif

a24 5
MAN1= 		FvwmAudio.1 FvwmAuto.1 FvwmBacker.1 FvwmBanner.1 \
		FvwmButtons.1 FvwmCascade.1 FvwmCpp.1 FvwmForm.1 \
		FvwmIconBox.1 FvwmIconMan.1 FvwmIdent.1 FvwmM4.1 FvwmPager.1 \
		FvwmSave.1 FvwmSaveDesk.1 FvwmScroll.1 FvwmTalk.1 FvwmTile.1 \
		FvwmWinList.1 fvwm2.1 xpmroot.1
@


1.2
log
@COMES_WITH 2.3
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/01/23 19:48:56 don Exp $
d21 3
d25 1
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d10 1
@


1.1.1.1
log
@Initial import
@
text
@@


1.1.1.2
log
@Import of fvwm-2.2.5

Fvwm is a window manager for X, which provides a virtual/multiple
disjoint desktop, a 3D look for windows decorations, shaped/color
icons. It gives a very good emulation of mwm. A nice button-bar
can be used to provide convenient access to frequently used
functions of programs.

Flavors:
	rplay	- build with audio/rplay and provide sound support
	debug	- turn on debugging messages

WWW: http://www.fvwm.org/

Will co-exist with the fvwm in XF4, with the idea of being on the
bleeding edge, with more extras built in and flavors for choice.
Per discussion with todd@@
@
text
@d1 5
d7 1
d9 29
a37 3
COMMENT=	"multiple virtual desktop window manager, with icons"
COMMENT-fvicons="multiple virtual desktop window manager icons"
COMMENT-fvwm2=	"multiple virtual desktop window manager, without icons"
d39 6
a44 26
VERSION=	2.2.5
DISTNAME=	fvwm-${VERSION}
PKGNAME=	fvwm2+fvicons-${VERSION}
PKGNAME-fvicons=fvicons-${VERSION}
PKGNAME-fvwm2=	fvwm2-${VERSION}
CATEGORIES=     x11
NEED_VERSION=	1.417

DISTFILES=	${DISTNAME}${EXTRACT_SUFX} fvwm_icons.tgz:0

HOMEPAGE=	http://www.fvwm.org/

MAINTAINER=	Peter Valchev <pvalchev@@openbsd.org>

PERMIT_PACKAGE_CDROM=	Yes 
PERMIT_PACKAGE_FTP=	Yes 
PERMIT_DISTFILES_CDROM=	Yes 
PERMIT_DISTFILES_FTP=	Yes 

MASTER_SITES=	http://www.toxiclinux.org/fvwm/
MASTER_SITES0=	http://www.toxiclinux.org/fvwm/
#MASTER_SITES=	ftp://ftp.fvwm.org/pub/fvwm/version-2/
#MASTER_SITES0=	http://www.fvwm.org/generated/icon_download/

MULTI_PACKAGES=	-fvwm2 -fvicons
SUBPACKAGE?=
a45 27
FLAVORS=	rplay debug
FLAVOR?=

.if ${FLAVOR:L:Mrplay}
BUILD_DEPENDS=	rplay::audio/rplay
CONFIGURE_ARGS+= --with-rplay-includes="${LOCALBASE}/include" \
		 --with-rplay-library="${LOCALBASE}/lib"
.endif

.if ${FLAVOR:L:Mdebug}
CONFIGURE_ARGS+= --enable-debug-msgs
.endif

SUBST_VARS=	VERSION

USE_X11=	Yes

SEPARATE_BUILD= concurrent
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --enable-extras

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/fvicons
	${INSTALL_DATA} ${WRKDIR}/*.xpm ${PREFIX}/fvicons/
	${INSTALL_DATA_DIR} ${PREFIX}/share/fvwm2
	${INSTALL_DATA} ${WRKSRC}/sample.fvwmrc/system.fvwm2rc ${PREFIX}/share/fvwm2
	
@

