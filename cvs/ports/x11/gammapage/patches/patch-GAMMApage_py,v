head	1.1;
branch	1.1.1;
access;
symbols
	OPENBSD_6_2:1.1.1.1.0.40
	OPENBSD_6_2_BASE:1.1.1.1
	OPENBSD_6_1:1.1.1.1.0.38
	OPENBSD_6_1_BASE:1.1.1.1
	OPENBSD_6_0:1.1.1.1.0.36
	OPENBSD_6_0_BASE:1.1.1.1
	OPENBSD_5_9:1.1.1.1.0.32
	OPENBSD_5_9_BASE:1.1.1.1
	OPENBSD_5_8:1.1.1.1.0.34
	OPENBSD_5_8_BASE:1.1.1.1
	OPENBSD_5_7:1.1.1.1.0.30
	OPENBSD_5_7_BASE:1.1.1.1
	OPENBSD_5_6:1.1.1.1.0.28
	OPENBSD_5_6_BASE:1.1.1.1
	OPENBSD_5_5:1.1.1.1.0.26
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.24
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.22
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.20
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.18
	OPENBSD_5_0:1.1.1.1.0.16
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.14
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.12
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.10
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.8
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.6
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.4
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.2
	OPENBSD_4_3_BASE:1.1.1.1
	ajacoutot_20071113:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.1
date	2007.11.13.07.12.30;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.11.13.07.12.30;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@



1.1
log
@Initial revision
@
text
@$OpenBSD$
--- GAMMApage.py.orig	Fri Nov 17 03:17:51 2006
+++ GAMMApage.py	Mon Nov 12 16:17:48 2007
@@@@ -717,6 +717,8 @@@@ class ShowGamma:
 				return True
 		if re.search("id:5:initdefault:", ret):
 			return True
+		if sys.platform.startswith('openbsd'):
+			return False
 		else:
 			self.info("Logon type cannot be determined,\ntherefore GAMMApage does not know\nwhere to save the gamma-adjusting \ncommand to be run on X-startup.\n\nThe \"Save\" button will be disabled.\nIn its place, the \"Exit\" button will close the program but keep your gamma adjustments until your X-session ends.\n\nSee the \"HELP\" pages for further instructions.")
 			self.save_btn.disconnect(self.saveid)
@@@@ -728,9 +730,10 @@@@ class ShowGamma:
 	def toggle_init(self, data=None):
 	
 		if self.tog_init.get_active():		
-			if not os.path.basename(os.getenv("SHELL")) == "bash":	
+			myshell=os.path.basename(os.getenv("SHELL"))
+			if myshell != "bash" and myshell != "ksh" and myshell != "zsh" and myshell != "sh":
 				self.saveable = False
-				self.info("GAMMApage uses bash shell scripts to adjust gamma on system startup. Since you appear to NOT be using a bash shell... \n\nThe \"Save\" button cannot be enabled.\nIn its place, the \"Exit\" button will close the program but keep your gamma adjustments until your X-session ends.\n\nSee the \"HELP\" pages for further instructions.")
+				self.info("GAMMApage uses bourne shell scripts to adjust gamma on system startup. Since you appear to NOT be using a bourne shell... \n\nThe \"Save\" button cannot be enabled.\nIn its place, the \"Exit\" button will close the program but keep your gamma adjustments until your X-session ends.\n\nSee the \"HELP\" pages for further instructions.")
 				return False
 			else:	
 
@


1.1.1.1
log
@Import GAMMApage-0.5

GAMMApage is a gamma-adjusting utility for your monitor.  It is able to
adjust gamma on the fly and save settings to be used at each login (on
a per-user basis, GAMMApage will only write to the user's home
directory).


tested by several, ok simon@@
@
text
@@
