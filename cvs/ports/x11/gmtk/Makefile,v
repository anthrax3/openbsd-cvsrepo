head	1.30;
access;
symbols
	OPENBSD_6_1:1.30.0.2
	OPENBSD_6_1_BASE:1.30
	OPENBSD_6_0:1.29.0.2
	OPENBSD_6_0_BASE:1.29
	OPENBSD_5_9:1.28.0.2
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.28.0.4
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.25.0.4
	OPENBSD_5_7_BASE:1.25
	OPENBSD_5_6:1.25.0.2
	OPENBSD_5_6_BASE:1.25
	OPENBSD_5_5:1.24.0.2
	OPENBSD_5_5_BASE:1.24
	OPENBSD_5_4:1.19.0.2
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.11.0.2
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	dcoppa_20120105:1.1.1.1
	dcoppa:1.1.1;
locks; strict;
comment	@# @;


1.30
date	2016.08.29.16.13.04;	author jca;	state Exp;
branches;
next	1.29;
commitid	uXHAZd0rBvW6r7ig;

1.29
date	2016.03.11.20.28.33;	author naddy;	state Exp;
branches;
next	1.28;
commitid	UYLP8TE6V7RS2GhJ;

1.28
date	2015.05.22.11.31.19;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	2khjHXfpTaOuNVcx;

1.27
date	2015.05.05.17.00.19;	author sthen;	state Exp;
branches;
next	1.26;
commitid	ukCYGVBlglFzny8e;

1.26
date	2015.04.04.09.21.05;	author ajacoutot;	state Exp;
branches;
next	1.25;
commitid	kS3kwKZogsvzYmEY;

1.25
date	2014.04.29.13.38.48;	author dcoppa;	state Exp;
branches;
next	1.24;

1.24
date	2014.02.07.10.25.52;	author dcoppa;	state Exp;
branches;
next	1.23;

1.23
date	2014.01.13.11.28.03;	author dcoppa;	state Exp;
branches;
next	1.22;

1.22
date	2013.11.06.07.28.25;	author dcoppa;	state Exp;
branches;
next	1.21;

1.21
date	2013.10.07.10.20.28;	author dcoppa;	state Exp;
branches;
next	1.20;

1.20
date	2013.08.07.21.33.00;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2013.07.12.09.58.56;	author dcoppa;	state Exp;
branches;
next	1.18;

1.18
date	2013.06.05.08.10.57;	author dcoppa;	state Exp;
branches;
next	1.17;

1.17
date	2013.05.31.15.34.59;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.05.24.08.29.53;	author dcoppa;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.21.08.48.56;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2013.03.11.11.46.09;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2012.11.19.14.56.58;	author dcoppa;	state Exp;
branches;
next	1.12;

1.12
date	2012.10.31.13.21.07;	author dcoppa;	state Exp;
branches;
next	1.11;

1.11
date	2012.06.22.15.08.44;	author dcoppa;	state Exp;
branches;
next	1.10;

1.10
date	2012.06.13.07.50.10;	author dcoppa;	state Exp;
branches;
next	1.9;

1.9
date	2012.05.09.14.19.36;	author dcoppa;	state Exp;
branches;
next	1.8;

1.8
date	2012.05.03.15.18.50;	author dcoppa;	state Exp;
branches;
next	1.7;

1.7
date	2012.04.10.13.29.33;	author dcoppa;	state Exp;
branches;
next	1.6;

1.6
date	2012.04.06.10.13.55;	author dcoppa;	state Exp;
branches;
next	1.5;

1.5
date	2012.03.26.14.41.16;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2012.03.06.08.50.54;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2012.01.23.11.01.34;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2012.01.09.22.52.37;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2012.01.05.14.47.10;	author dcoppa;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.01.05.14.47.10;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.30
log
@Drop the gettext module.
@
text
@# $OpenBSD: Makefile,v 1.29 2016/03/11 20:28:33 naddy Exp $

COMMENT =	gnome-mplayer toolkit
DISTNAME =	gmtk-1.0.9
EPOCH =		0
REVISION =	3

SHARED_LIBS =	gmlib	2.0 \
		gmtk	2.0

CATEGORIES =	x11 devel

HOMEPAGE =	http://kdekorte.googlepages.com/gmtk/

MAINTAINER =	David Coppa <dcoppa@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += cairo cairo-gobject dbus-1 epoxy expat ffi fontconfig
WANTLIB += freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 graphite2 gthread-2.0 gtk-3 harfbuzz iconv
WANTLIB += intl m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs xcb xcb-render xcb-shm z

MASTER_SITES =	https://gmtk.googlecode.com/svn/packages/

MODULES =	textproc/intltool

LIB_DEPENDS =		x11/gtk+3

RUN_DEPENDS =		x11/mplayer

CONFIGURE_STYLE =	gnu

CONFIGURE_ENV =         CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

CONFIGURE_ARGS +=	--enable-gsettings \
			--enable-gtk3 \
			--disable-gconf \
			--disable-keystore \
			--with-gio \
			--without-alsa \
			--without-pulseaudio

NO_TEST =	Yes

.include <bsd.port.mk>
@


1.29
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/05/22 11:31:19 ajacoutot Exp $
d6 1
a6 1
REVISION =	2
d20 7
a26 7
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi cairo
WANTLIB += cairo-gobject dbus-1 epoxy expat ffi fontconfig freetype
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += graphite2 gthread-2.0 gtk-3 harfbuzz m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs xcb xcb-render xcb-shm z
d30 1
a30 2
MODULES =	devel/gettext \
		textproc/intltool
@


1.28
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/05/05 17:00:19 sthen Exp $
d42 1
a42 2
CONFIGURE_ARGS +=	${CONFIGURE_SHARED} \
			--enable-gsettings \
@


1.27
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/04/04 09:21:05 ajacoutot Exp $
d6 1
a6 1
REVISION =	1
@


1.26
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/04/29 13:38:48 dcoppa Exp $
d6 1
a6 1
REVISION =	0
d20 8
a32 10
WANTLIB =	ICE SM X11 Xcomposite Xcursor Xdamage Xext \
		Xfixes Xi Xinerama Xrandr Xrender atk-1.0 \
		atk-bridge-2.0 atspi cairo cairo-gobject \
		dbus-1 expat ffi fontconfig freetype gdk-3 \
		gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 \
		gobject-2.0 graphite2 gthread-2.0 gtk-3 \
		harfbuzz m pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png \
		pthread pthread-stubs xcb xcb-render xcb-shm z

a35 1

@


1.25
log
@
Update to final 1.0.9 release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/02/07 10:25:52 dcoppa Exp $
d6 1
@


1.24
log
@Don't force a minimum size on the tracker
(upstream svn revision r235)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/01/13 11:28:03 dcoppa Exp $
d4 2
a5 2
DISTNAME =	gmtk-1.0.9b
REVISION =	0
d19 1
a19 1
MASTER_SITES =	https://gmtk.googlecode.com/files/
@


1.23
log
@Update to 1.0.9b
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/11/06 07:28:25 dcoppa Exp $
d5 1
@


1.22
log
@Fix parameter warning to gtk_widget_get_visible
(upstream svn revision r232)

Only do the media player allocation event if no video is present
(upstream svn revision r233)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/10/07 10:20:28 dcoppa Exp $
d4 1
a4 3
DISTNAME =	gmtk-1.0.9a
PKGNAME =	gmtk-1.0.9alpha
REVISION =	0
@


1.21
log
@Update to gmtk-1.0.9alpha
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/08/07 21:33:00 naddy Exp $
d6 1
@


1.20
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/07/12 09:58:56 dcoppa Exp $
d4 2
a5 2
DISTNAME =	gmtk-1.0.8
REVISION =	2
@


1.19
log
@
If the user gives some mplayer video output driver (vo) options in
the "Video Output" preferences they should be passed along on the
mplayer command line (upstream svn revision r222)

Minor string cleanups (upstream svn revision r223)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/06/05 08:10:57 dcoppa Exp $
d19 1
a19 1
MASTER_SITES =	http://gmtk.googlecode.com/files/
@


1.18
log
@Fix issue #682: item names in "Items to Play" replaced with CPUID
string (upstream svn revision r220)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/05/31 15:34:59 ajacoutot Exp $
d5 1
a5 1
REVISION =	1
@


1.17
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/05/24 08:29:53 dcoppa Exp $
d5 1
a5 1
REVISION =	0
@


1.16
log
@Update to gmtk-1.0.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/21 08:48:56 ajacoutot Exp $
d5 1
d30 1
a30 1
		harfbuzz icudata icule icuuc m pango-1.0 \
@


1.15
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/03/11 11:46:09 espie Exp $
d4 1
a4 2
DISTNAME =	gmtk-1.0.7
REVISION =	0
d6 2
a7 2
SHARED_LIBS =	gmlib	1.0 \
		gmtk	1.0
d23 9
a31 10
WANTLIB =	GL ICE SM X11 Xau Xcomposite Xcursor Xdamage \
		Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender \
		Xxf86vm atk-1.0 atk-bridge-2.0 atspi cairo \
		cairo-gobject dbus-1 drm expat ffi \
		fontconfig freetype gdk-3 gdk_pixbuf-2.0 \
		gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 \
		gthread-2.0 gtk-3 harfbuzz icudata icule \
		icuuc m pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre pixman-1 png pthread \
		pthread-stubs stdc++ xcb xcb-render xcb-shm z
@


1.14
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/11/19 14:56:58 dcoppa Exp $
a38 1
USE_LIBTOOL =		yes
@


1.13
log
@Fix parallel build problem
(upstream svn revision r192)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/10/31 13:21:07 dcoppa Exp $
a17 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d55 1
a55 1
NO_REGRESS =	Yes
@


1.12
log
@Update to gmtk-1.0.7.
Switch to gtk+3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/06/22 15:08:44 dcoppa Exp $
d5 1
@


1.11
log
@Fix a subtle segmentation fault at program exit time:
gmtk_media_player_dispose() would be called multiple times, leading
to a double free from gdk_color_free()
(upstream svn revision r143)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2012/06/13 07:50:10 dcoppa Exp $
d4 1
a4 2
DISTNAME =	gmtk-1.0.6
REVISION =	3
d6 2
a7 2
SHARED_LIBS =	gmlib	0.0 \
		gmtk	0.0
d26 10
a35 9
WANTLIB = GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
	  Xext Xfixes Xi Xinerama Xrandr Xrender \
	  Xxf86vm atk-1.0 cairo drm expat ffi \
	  fontconfig freetype gdk-x11-2.0 \
	  gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 \
	  gobject-2.0 gthread-2.0 gtk-x11-2.0 m \
	  pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre \
	  pixman-1 png pthread-stubs stdc++ xcb \
	  xcb-render xcb-shm z
d37 1
a37 1
LIB_DEPENDS =		x11/gtk+2
d50 1
a51 1
			--disable-gtk3 \
@


1.10
log
@Fix a couple of keyboard shortcuts as they were in the wrong shift
state, similar to gnome-mplayer fix (upstream svn revision r118)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/05/09 14:19:36 dcoppa Exp $
d5 1
a5 1
REVISION =	2
@


1.9
log
@
Monitor subtitle visibility better

From upstream svn
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/05/03 15:18:50 dcoppa Exp $
d5 1
a5 1
REVISION =	1
@


1.8
log
@Several bugfixes from upstream svn (see patches for details)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/04/10 13:29:33 dcoppa Exp $
d5 1
a5 1
REVISION =	0
@


1.7
log
@Update to 1.0.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/04/06 10:13:55 dcoppa Exp $
d5 1
@


1.6
log
@Bugfixes from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/03/26 14:41:16 dcoppa Exp $
d4 1
a4 3
DISTNAME =	gmtk-1.0.6b1
PKGNAME =	${DISTNAME:S/b1/beta1/}
REVISION =	0
@


1.5
log
@Update gmtk and gnome-mplayer to 1.0.6beta1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/03/06 08:50:54 dcoppa Exp $
d6 1
@


1.4
log
@Only allocate a size for the child window if the parent widget is
realized (upstream svn revision r87)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/01/23 11:01:34 dcoppa Exp $
d4 2
a5 2
DISTNAME =	gmtk-1.0.5
REVISION =	2
d43 1
a43 2
CONFIGURE_STYLE =	autoconf
AUTOCONF_VERSION =	2.68
d45 2
a46 1
CONFIGURE_ENV =         CPPFLAGS="-I${LOCALBASE}/include"
@


1.3
log
@Add '-zoom' to mplayer when vo is x11
(upstream svn revision r84)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/01/09 22:52:37 dcoppa Exp $
d5 1
a5 1
REVISION =	1
@


1.2
log
@Tighten gmtk dependency and fix homepage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/01/05 14:47:10 dcoppa Exp $
d5 1
a5 1
REVISION =	0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a3 1

d5 1
d12 1
a12 1
HOMEPAGE =	http://gmtk.googlecode.com/
d22 1
a22 1
MASTER_SITES =	${HOMEPAGE}/files/
@


1.1.1.1
log
@Import gmtk, the gnome-mplayer toolkit.

$ cat pkg/DESCR
gmtk is a library that is used by gnome-mplayer and gecko-mediaplayer:
several common functions and routines formerly in gnome-mplayer and
gecko-mediaplayer have been moved to this library.
gmtk can be used to build your own media players, as widgets have
been created to control mplayer: a simple media player can be built
using this library very quickly.

Feedback and ok: ajacoutot@@, sebastia@@

@
text
@@
