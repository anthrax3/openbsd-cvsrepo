head	1.2;
access;
symbols
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2012.10.31.13.21.07;	author dcoppa;	state dead;
branches;
next	1.1;

1.1
date	2012.05.03.15.18.50;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to gmtk-1.0.7.
Switch to gtk+3.
@
text
@$OpenBSD: patch-src_gm_audio_c,v 1.1 2012/05/03 15:18:50 dcoppa Exp $

Replace deprecated g_strncasecmp with g_ascii_strncasecmp
(upstream svn revision r106)

--- src/gm_audio.c.orig	Sun Apr  1 15:20:59 2012
+++ src/gm_audio.c	Thu May  3 14:02:32 2012
@@@@ -518,7 +518,8 @@@@ void gm_audio_pa_server_info_cb(pa_context * c, const 
         for (iter = gm_audio_devices; iter != NULL; iter = g_list_next(iter)) {
             device = (AudioDevice *) iter->data;
             if (device->pulse_sink_name != NULL) {
-                if (g_strncasecmp(i->default_sink_name, device->pulse_sink_name, strlen(i->default_sink_name)) == 0) {
+                if (g_ascii_strncasecmp(i->default_sink_name, device->pulse_sink_name, strlen(i->default_sink_name)) ==
+                    0) {
                     // printf("The default output sink name is '%s'\n", i->default_sink_name);
                     device->pulse_default = 1;
                     pa_context_get_sink_info_by_index(c, device->pulse_index, gm_audio_pa_sink_update_volume_cb, NULL);
@


1.1
log
@Several bugfixes from upstream svn (see patches for details)
@
text
@d1 1
a1 1
$OpenBSD$
@

