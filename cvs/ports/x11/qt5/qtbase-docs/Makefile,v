head	1.4;
access;
symbols
	OPENBSD_6_1:1.3.0.2
	OPENBSD_6_1_BASE:1.3
	zhuk_20161228:1.1.1.1
	zhuk:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2017.07.17.08.34.37;	author zhuk;	state Exp;
branches;
next	1.3;
commitid	3tUsNizeEEvC87c0;

1.3
date	2016.12.30.12.52.45;	author zhuk;	state Exp;
branches;
next	1.2;
commitid	LpL5Z72TJIIMel4J;

1.2
date	2016.12.29.20.59.05;	author zhuk;	state Exp;
branches;
next	1.1;
commitid	Ue1ahpQpCdcmPrKE;

1.1
date	2016.12.28.01.28.41;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;
commitid	YeGpsX3IITESdlKT;

1.1.1.1
date	2016.12.28.01.28.41;	author zhuk;	state Exp;
branches;
next	;
commitid	YeGpsX3IITESdlKT;


desc
@@


1.4
log
@Update from Qt 5.6.2 (LTS) to Qt 5.9.1 (LTS).

Tested with both GCC and CLang (less through).

This forces updating x11/py-qt5, which forces update of devel/py-sip,
which forces update of x11/py-qt4, but, thankfully, no breakage detected.
@
text
@# $OpenBSD: Makefile,v 1.3 2016/12/30 12:52:45 zhuk Exp $

# to build those we need both qtbase and qttools installed

QT5NAME =		QtBase
PKGNAME =		qtbase-docs-${VERSION}
PKGNAME-qch =		qtbase-qch-${VERSION}
PKGNAME-html =		qtbase-html-${VERSION}
PKGNAME-docindex =	qtbase-docindex-${VERSION}

DPB_PROPERTIES =	parallel

MULTI_PACKAGES =	-qch -html -docindex
SUBPACKAGE ?=		-qch

ALL_TARGET =		docs
FAKE_TARGET =		install_docs

NO_TEST =		Yes

NO_CCACHE =		Yes

# avoid interactive question about license
pre-configure:
	rm -f ${WRKSRC}/LICENSE.PREVIEW.COMMERCIAL
	echo 'config.input.confirm-license=yes' \
	     >${WRKBUILD}/.qmake.cache

.include <bsd.port.mk>
@


1.3
log
@Missing bumps after tweaking PKGNAME of qtbase-docs,-docindex,
the -html and -qch were depending on it already..

Found by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2016/12/29 20:59:05 zhuk Exp $
d10 2
a11 2
REVISION-html =		0
REVISION-qch =		0
d21 7
a27 2
MODQT5_USE_GCC4_MODULE =	No
NO_CCACHE =			Yes
@


1.2
log
@LIB_DEPENDS doesn't contain x11/qt5/qtbase at the time Makefile.inc
gets processed. As a result, qtbase-docs,-docindex didn't get into
BUILD_DEPENDS, thus qtenginio-html build may still break.

Spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2016/12/28 01:28:41 zhuk Exp $
d10 3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d9 1
@


1.1.1.1
log
@Import qtbase-docs, the qtbase documentation.

It's based on the same distfile as qtbase package, but uses totally
different build mechanizm. And it's unreal to build -qch part without
circular dependency with qttools anyway.

Do not try to build this one until it's hooked to the build: this port
relies on functionality to be committed (really soon).
@
text
@@
