head	1.2;
access;
symbols
	zhuk_20161225:1.1.1.1 zhuk:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2016.12.28.01.41.24;	author zhuk;	state Exp;
branches;
next	1.1;
commitid	zznJcJZGYlX0U9PC;

1.1
date	2016.12.25.14.13.14;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;
commitid	QPfzuwiSTmth4MkN;

1.1.1.1
date	2016.12.25.14.13.14;	author zhuk;	state Exp;
branches;
next	;
commitid	QPfzuwiSTmth4MkN;


desc
@@


1.2
log
@Rework Qt5 documentation handling:

  * Move share/qt5/doc/* in qtbase from -main to a separate subpackage,
    -global, which (as a bonus) "owns" share/doc/qt5/ directory;

  * Move FOO.index files from -html to a separate subpackage, -docindex,
    and make 'em depend on qtbase,-global;

  * Make DEP,-docindex automatically added as BDEP for each DEP in
    LDEP and BDEP mentioned for -main;

  * Make it clear that building -qch without -html is impossible;

While there, fixed a few minor issues.

This make at least qtenginio,-html build correctly, which failed before
due to missing .index files during qdoc run. Initial report from kili@@.
@
text
@# $OpenBSD: Makefile,v 1.1.1.1 2016/12/25 14:13:14 zhuk Exp $

QT5NAME =		QtMultimedia
COMMENT-main =		Qt5 multimedia components
REVISION-qch =		0
REVISION-html =		0

MULTI_PACKAGES =	-main -examples -qch -html -docindex

SHARED_LIBS =	Qt5Multimedia		2.0
SHARED_LIBS +=	Qt5MultimediaQuick_p	2.0
SHARED_LIBS +=  Qt5MultimediaWidgets	2.0
#SHARED_LIBS +=  fftreal		2.0
SHARED_LIBS +=  qgsttools_p		2.0

WANTLIB =  GL Qt5Core Qt5Gui Qt5Network Qt5OpenGL Qt5Qml Qt5Quick
WANTLIB += Qt5Widgets glib-2.0 gobject-2.0 gstapp-1.0 gstaudio-1.0
WANTLIB += gstbase-1.0 gstpbutils-1.0 gstphotography-1.0 gstreamer-1.0
WANTLIB += gstvideo-1.0 intl m openal pthread pulse

BUILD_DEPENDS =		multimedia/gstreamer1/mm

RUN_DEPENDS-main =	multimedia/gstreamer1/mm

RUN_DEPENDS-examples =	x11/qt5/qtdeclarative>=${QT5_VERSION},<${QT5_NEXT_VERSION}

LIB_DEPENDS =		audio/openal \
			audio/pulseaudio \
			multimedia/gstreamer1/core \
			multimedia/gstreamer1/plugins-base \
			multimedia/gstreamer1/plugins-bad \
			x11/qt5/qtdeclarative>=${QT5_VERSION},<${QT5_NEXT_VERSION}

FLAVORS =		debug
PSEUDO_FLAVORS =	no_examples no_qch no_html
FLAVOR ?=

MODQMAKE_ARGS =		GST_VERSION=1.0

.include <bsd.port.mk>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 2
d8 1
a8 1
MULTI_PACKAGES =	-main -examples -qch -html
@


1.1.1.1
log
@Import Qt 5.6.2.

The port is now being split into pieces. Cleanup and conflict resolving
to follow.
@
text
@@
