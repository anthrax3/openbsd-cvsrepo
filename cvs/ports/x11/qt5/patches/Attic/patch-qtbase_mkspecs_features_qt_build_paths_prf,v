head	1.2;
access;
symbols
	OPENBSD_5_7:1.1.1.1.0.2
	OPENBSD_5_7_BASE:1.1.1.1
	zhuk_20141208:1.1.1.1
	zhuk:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2015.04.22.12.29.34;	author zhuk;	state dead;
branches;
next	1.1;
commitid	BdVmtHemf7A64jSA;

1.1
date	2014.12.08.20.33.41;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;
commitid	T3VSUps0elxgCqso;

1.1.1.1
date	2014.12.08.20.33.41;	author zhuk;	state Exp;
branches;
next	;
commitid	T3VSUps0elxgCqso;


desc
@@


1.2
log
@Drop the patch not needed anymore. Bump REVISION because the affected file
goes into package.
@
text
@$OpenBSD: patch-qtbase_mkspecs_features_qt_build_paths_prf,v 1.1 2014/12/08 20:33:41 zhuk Exp $
Unbreak building of QtScript.

The roots of problem are likely in QtWebKit, but it's really hard to find them.
--- qtbase/mkspecs/features/qt_build_paths.prf.ports.orig	Tue Nov 11 16:41:30 2014
+++ qtbase/mkspecs/features/qt_build_paths.prf	Tue Nov 11 20:51:42 2014
@@@@ -13,6 +13,15 @@@@
 isEmpty(_QMAKE_CONF_): error("Project has no top-level .qmake.conf file.")
 MODULE_BASE_INDIR = $$dirname(_QMAKE_CONF_)
 MODULE_BASE_OUTDIR = $$shadowed($$MODULE_BASE_INDIR)
+isEmpty(MODULE_BASE_OUTDIR) {
+    REAL_BUILD_ROOT = $$(REAL_BUILD_ROOT)
+    isEmpty(REAL_BUILD_ROOT) {
+        error("MODULE_BASE_OUTDIR failed to be translated from $${MODULE_BASE_INDIR}")
+    } else {
+        MODULE_BASE_OUTDIR=$${REAL_BUILD_ROOT}/$$basename(MODULE_BASE_INDIR)
+        message("MODULE_BASE_OUTDIR failed to be translated from $${MODULE_BASE_INDIR}, failing back to $${MODULE_BASE_OUTDIR}")
+    }
+}
 !isEmpty(MODULE_BASE_DIR): MODULE_SYNCQT_DIR = $$MODULE_BASE_DIR    # compat for webkit
 isEmpty(MODULE_SYNCQT_DIR): MODULE_SYNCQT_DIR = $$MODULE_BASE_INDIR
 isEmpty(MODULE_QMAKE_OUTDIR): MODULE_QMAKE_OUTDIR = $$MODULE_BASE_OUTDIR
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Import Qt 5.3.2.

Qt is a full development framework with tools designed to streamline
the creation of applications and user interfaces for desktop,
embedded, and mobile platforms.

This port is not enabled yet, because some ports will pick up Qt5
instead of Qt4, breaking build. Those will be fixed separately soon.

There are some non-critical things left to do:

1. Support for OpenBSD sensors framework.
2. V4L2 support.
3. -L${LOCALBASE}/* could come before -L${WRKBUILD}/* when linking is
   done across Qt module boundaries. This means that builds of Qt 5.y
   while having Qt 5.x installed (x < y) will be busted.

Volunteers are welcome to come in and help fixing those problems.

Last note: don't even try to build "debug" FLAVOR unless you know
what you're doing and you have about 20GB of free space. You've
been warned.

landry@@ agrees on continuing working in-tree
@
text
@@
