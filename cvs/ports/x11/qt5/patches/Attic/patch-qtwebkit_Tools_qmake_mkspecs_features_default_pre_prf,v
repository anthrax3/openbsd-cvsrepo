head	1.3;
access;
symbols
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.1.1.1.0.2
	OPENBSD_5_7_BASE:1.1.1.1
	zhuk_20141208:1.1.1.1
	zhuk:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2015.11.20.11.24.04;	author sthen;	state dead;
branches;
next	1.2;
commitid	xESrXKEQBEZ66Kvo;

1.2
date	2015.04.19.13.18.28;	author zhuk;	state Exp;
branches;
next	1.1;
commitid	2KOIQzUUZQrQrGt0;

1.1
date	2014.12.08.20.33.38;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;
commitid	T3VSUps0elxgCqso;

1.1.1.1
date	2014.12.08.20.33.38;	author zhuk;	state Exp;
branches;
next	;
commitid	T3VSUps0elxgCqso;


desc
@@


1.3
log
@remove devel/flex dep, these are ok with base flex
@
text
@$OpenBSD: patch-qtwebkit_Tools_qmake_mkspecs_features_default_pre_prf,v 1.2 2015/04/19 13:18:28 zhuk Exp $
Use gflex instead of flex from base system, or things won't work.
--- qtwebkit/Tools/qmake/mkspecs/features/default_pre.prf.ports.orig	Tue Feb 17 07:57:00 2015
+++ qtwebkit/Tools/qmake/mkspecs/features/default_pre.prf	Wed Apr  8 00:41:38 2015
@@@@ -105,7 +105,11 @@@@ if(win32|mac):!macx-xcode {
 
 # A newer version of flex is required on Windows. At the moment the only
 # one that appears to provide binaries and is not cygwin is winflex.
+#
+# On OpenBSD, you'll need newer flex from ports/packages, named gflex.
+# The flex program from base system won't satisfy our needs.
 FLEX = flex
+openbsd: FLEX = gflex
 equals(QMAKE_HOST.os, Windows): FLEX = win_flex
 
 BIN_EXTENSION =
@


1.2
log
@Update x11/qt5 to 5.4.1. Improvements included:

  * Builds fine when another version being installed;
  * Start building documentation, HTML generator bug was fixed (patch is
    waiting for inclusion upstream);

This update do NOT include QtWebEngine: it relies on building from
Chromium sources (bundled with Qt5) and is a real pain to proceed; so lets
concentrate on what we already have.

All dependant ports are checked by building and running.
@
text
@d1 1
a1 1
$OpenBSD: patch-qtwebkit_Tools_qmake_mkspecs_features_default_pre_prf,v 1.1.1.1 2014/12/08 20:33:38 zhuk Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
--- qtwebkit/Tools/qmake/mkspecs/features/default_pre.prf.ports.orig	Thu Nov  6 12:54:13 2014
+++ qtwebkit/Tools/qmake/mkspecs/features/default_pre.prf	Thu Nov  6 12:55:52 2014
d14 1
a14 1
 win32: FLEX = win_flex
@


1.1.1.1
log
@Import Qt 5.3.2.

Qt is a full development framework with tools designed to streamline
the creation of applications and user interfaces for desktop,
embedded, and mobile platforms.

This port is not enabled yet, because some ports will pick up Qt5
instead of Qt4, breaking build. Those will be fixed separately soon.

There are some non-critical things left to do:

1. Support for OpenBSD sensors framework.
2. V4L2 support.
3. -L${LOCALBASE}/* could come before -L${WRKBUILD}/* when linking is
   done across Qt module boundaries. This means that builds of Qt 5.y
   while having Qt 5.x installed (x < y) will be busted.

Volunteers are welcome to come in and help fixing those problems.

Last note: don't even try to build "debug" FLAVOR unless you know
what you're doing and you have about 20GB of free space. You've
been warned.

landry@@ agrees on continuing working in-tree
@
text
@@
