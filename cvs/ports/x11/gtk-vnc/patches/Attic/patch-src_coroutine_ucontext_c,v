head	1.5;
access;
symbols
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.6
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.14
	OPENBSD_5_0:1.2.0.12
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.10
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.1.0.2
	OPENBSD_4_4_BASE:1.1.1.1
	jasper_20080510:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2014.07.11.08.07.03;	author ajacoutot;	state dead;
branches;
next	1.4;
commitid	DT24wtnb7sGrjDaw;

1.4
date	2013.09.18.19.18.16;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.03.12.17.00.54;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.12.11.12.36.31;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2008.05.10.08.35.31;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.05.10.08.35.31;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Drop the now unnecessary MAP_ANONYMOUS patch.
While here remove patch-configure and use MAKE_FLAGS instead.
@
text
@$OpenBSD: patch-src_coroutine_ucontext_c,v 1.4 2013/09/18 19:18:16 ajacoutot Exp $
--- src/coroutine_ucontext.c.orig	Wed Sep 18 13:08:27 2013
+++ src/coroutine_ucontext.c	Wed Sep 18 20:26:35 2013
@@@@ -63,7 +63,7 @@@@ int coroutine_init(struct coroutine *co)
     co->cc.stack_size = co->stack_size;
     co->cc.stack = mmap(0, co->stack_size,
                         PROT_READ | PROT_WRITE,
-                        MAP_PRIVATE | MAP_ANONYMOUS,
+			MAP_PRIVATE | MAP_ANON,
                         -1, 0);
     if (co->cc.stack == MAP_FAILED)
         g_error("Failed to allocate %u bytes for coroutine stack",
@


1.4
log
@Update to gtk-vnc-0.5.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_coroutine_ucontext_c,v 1.3 2012/03/12 17:00:54 ajacoutot Exp $
@


1.3
log
@Update to gtk-vnc-0.5.0.

from "Gonzalo L. R." with some tweaks
@
text
@d1 4
a4 4
$OpenBSD: patch-src_coroutine_ucontext_c,v 1.2 2008/12/11 12:36:31 jasper Exp $
--- src/coroutine_ucontext.c.orig	Wed Dec 21 14:07:37 2011
+++ src/coroutine_ucontext.c	Mon Mar 12 11:14:19 2012
@@@@ -60,7 +60,7 @@@@ int coroutine_init(struct coroutine *co)
d12 1
a12 1
         return -1;
@


1.2
log
@- update gtk-vnc to 0.3.8
* switches to cairo instead of gtkglext
- bump major

ok ajacoutot@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_coroutine_ucontext_c,v 1.1.1.1 2008/05/10 08:35:31 jasper Exp $
--- src/coroutine_ucontext.c.orig	Sun Dec  7 20:35:14 2008
+++ src/coroutine_ucontext.c	Wed Dec 10 23:19:36 2008
d5 8
a12 8
 	co->cc.stack_size = co->stack_size;
 	co->cc.stack = mmap(0, co->stack_size,
 			    PROT_READ | PROT_WRITE,
-			    MAP_PRIVATE | MAP_ANONYMOUS,
+			    MAP_PRIVATE | MAP_ANON,
 			    -1, 0);
 	if (co->cc.stack == MAP_FAILED)
 		return -1;
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- src/coroutine_ucontext.c.orig	Mon Feb 11 19:17:53 2008
+++ src/coroutine_ucontext.c	Mon Feb 11 19:18:03 2008
@@@@ -48,7 +48,7 @@@@ int coroutine_init(struct coroutine *co)
@


1.1.1.1
log
@import gtk-vnc 0.3.6

gtk-vnc provides a core library written in C, using coroutines to allow
it to be completely asynchronous while remaining single threaded. A
wrapper library using PyGTK provides access to the widget functionality
from Python. Two example programs illustrate use of the widget by
re-implementing the traditional 'vncviewer' in a few 10's of lines of
code.

ok ajacoutot@@
@
text
@@
