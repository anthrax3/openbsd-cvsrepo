head	1.19;
access;
symbols
	OPENBSD_5_8:1.17.0.6
	OPENBSD_5_8_BASE:1.17
	OPENBSD_5_7:1.17.0.2
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.12.0.6
	OPENBSD_5_6_BASE:1.12
	OPENBSD_5_5:1.12.0.4
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.10.0.2
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.9.0.4
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.2
	OPENBSD_5_0:1.5.0.2
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	ajacoutot_20100717:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2016.01.03.16.58.24;	author zhuk;	state dead;
branches;
next	1.18;
commitid	DfEOJ8JGCDxeoSXi;

1.18
date	2015.08.15.11.13.42;	author ajacoutot;	state Exp;
branches;
next	1.17;
commitid	AXPeqyjAAuMdtb7k;

1.17
date	2015.01.28.09.26.37;	author ajacoutot;	state Exp;
branches;
next	1.16;
commitid	G7Sri4ZpjYSn1H0S;

1.16
date	2014.12.11.10.56.19;	author zhuk;	state Exp;
branches;
next	1.15;
commitid	rlqKq3Ti03madYHw;

1.15
date	2014.11.07.10.40.05;	author ajacoutot;	state Exp;
branches;
next	1.14;
commitid	QYJaNcIko4VHoTIl;

1.14
date	2014.10.20.15.57.12;	author ajacoutot;	state Exp;
branches;
next	1.13;
commitid	dBB8iYWXWGchoykU;

1.13
date	2014.08.30.09.02.23;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	tIk5EfCxmu0nocz0;

1.12
date	2013.03.30.13.03.45;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2013.03.11.11.46.15;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2013.02.02.10.05.43;	author zhuk;	state Exp;
branches;
next	1.9;

1.9
date	2011.12.16.08.18.23;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2011.10.04.06.07.46;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2011.09.19.14.44.43;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2011.09.16.12.29.17;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2011.04.28.13.10.24;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2010.11.22.08.37.04;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2010.09.30.07.26.56;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.07.17.05.57.27;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.07.17.05.50.24;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.07.17.05.50.24;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.19
log
@Removing polkit-qt4 now, after switching all users to x11/polkit-qt.

The idea approved by aja@@ (maintainer).
@
text
@# $OpenBSD: Makefile,v 1.18 2015/08/15 11:13:42 ajacoutot Exp $

SHARED_ONLY=	Yes

COMMENT=	PolicyKit authentication agent for for Qt4

V=		0.112.0
DISTNAME=	polkit-qt-1-${V}
PKGNAME=	polkit-qt4-${V}
REVISION=	1

SHARED_LIBS +=  polkit-qt-agent-1         2.0 # 0.99
SHARED_LIBS +=  polkit-qt-core-1          2.0 # 0.99
SHARED_LIBS +=  polkit-qt-gui-1           2.0 # 0.99

CATEGORIES=	x11 sysutils

EXTRACT_SUFX=	.tar.bz2

HOMEPAGE=	http://techbase.kde.org/Polkit-Qt-1

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += QtDBus QtGui gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gthread-2.0 m polkit-agent-1 polkit-gobject-1 stdc++

MASTER_SITES=	${MASTER_SITE_KDE:=stable/apps/KDE4.x/admin/}

MODULES=	devel/cmake \
		x11/qt4

BUILD_DEPENDS=	devel/automoc

LIB_DEPENDS=	sysutils/polkit

# polkit(8) almost always needs to know the "active" session
RUN_DEPENDS +=	sysutils/consolekit

CONFIGURE_ARGS=	-DCMAKE_EXE_LINKER_FLAGS:STRING="-L${LOCALBASE}/lib" \
		-DCMAKE_SHARED_LINKER_FLAGS:STRING="-L${LOCALBASE}/lib" \
		-DUSE_QT4=Yes

pre-configure:
	${SUBST_CMD} ${WRKSRC}/PolkitQt-1Config.cmake.in

.include <bsd.port.mk>
@


1.18
log
@Bump after the consolekit->consolekit2 renaming.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/01/28 09:26:37 ajacoutot Exp $
@


1.17
log
@Remove bogus cmake variables.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/12/11 10:56:19 zhuk Exp $
d10 1
a10 1
REVISION=	0
@


1.16
log
@Make sure Qt5 is not picked up.

okay ajacoutot@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2014/11/07 10:40:05 ajacoutot Exp $
d42 1
a42 3
CONFIGURE_ARGS=	-DCMAKE_REQUIRED_FLAGS:STRING="-L${LOCALBASE}/lib" \
		-DCMAKE_INCLUDE_PATH:STRING="${LOCALBASE}/include" \
		-DCMAKE_EXE_LINKER_FLAGS:STRING="-L${LOCALBASE}/lib" \
@


1.15
log
@No need for default CMAKE_BUILD_TYPE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/10/20 15:57:12 ajacoutot Exp $
d45 2
a46 1
		-DCMAKE_SHARED_LINKER_FLAGS:STRING="-L${LOCALBASE}/lib"
@


1.14
log
@Pass -DCMAKE_BUILD_TYPE=Release to have a proper release.cmake file instead
of the noconfig one.

I wonder if at one point this should go into the cmake MODULE as a default...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2014/08/30 09:02:23 ajacoutot Exp $
d42 1
a42 2
CONFIGURE_ARGS=	-DCMAKE_BUILD_TYPE=Release \
		-DCMAKE_REQUIRED_FLAGS:STRING="-L${LOCALBASE}/lib" \
@


1.13
log
@Update to polkit-qt4-0.112.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/03/30 13:03:45 ajacoutot Exp $
d10 1
d42 2
a43 1
CONFIGURE_ARGS=	-DCMAKE_REQUIRED_FLAGS:STRING="-L${LOCALBASE}/lib" \
@


1.12
log
@Anything that uses polkit should really RUN_DEPENDS on consolekit;
otherwise we have no way to know the active session.

discussed/agreed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/03/11 11:46:15 espie Exp $
d7 1
a7 1
V=		0.103.0
a9 1
REVISION=	0
d11 3
a13 3
SHARED_LIBS +=  polkit-qt-agent-1         1.0 # 0.99
SHARED_LIBS +=  polkit-qt-core-1          1.0 # 0.99
SHARED_LIBS +=  polkit-qt-gui-1           1.0 # 0.99
d26 2
a27 2
WANTLIB += m stdc++ QtCore QtDBus QtGui QtXml gio-2.0 glib-2.0
WANTLIB += gobject-2.0 gthread-2.0 polkit-agent-1 polkit-gobject-1
d31 1
a31 2
MODULES=	devel/gettext \
		devel/cmake \
@


1.11
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/02/02 10:05:43 zhuk Exp $
d10 1
d39 3
@


1.10
log
@Switch ports depending on automoc to devel/automoc. No bumps needed as
this is purely build-time change, and not going to resulting packages in
any way. Discovered it was sitting in my tree for a few months already...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/12/16 08:18:23 ajacoutot Exp $
a24 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.9
log
@Update to polkit-qt4-0.103.0.

from Amit Kulkarni
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/10/04 06:07:46 ajacoutot Exp $
d38 1
a38 1
BUILD_DEPENDS=	x11/kde4/automoc
@


1.8
log
@Fix path to POLKITQT-1_*_LIBRARY: unbreak CMake's find_package() function
when looking for PolkitQt-1 (needed for kde 4.7 work).

from Vadim Zhukov, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/09/19 14:44:43 ajacoutot Exp $
d7 1
a7 1
V=		0.99.0
a9 1
REVISION=	2
@


1.7
log
@Better COMMENT.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/09/16 12:29:17 espie Exp $
d10 1
a10 1
REVISION=	1
d47 3
@


1.6
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/04/28 13:10:24 ajacoutot Exp $
d5 1
a5 1
COMMENT=	PolicyKit integration for Qt4
d10 1
a10 1
REVISION=	0
@


1.5
log
@Update to polkit-qt4-0.99.0

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/11/22 08:37:04 espie Exp $
d10 1
@


1.4
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/09/30 07:26:56 ajacoutot Exp $
d7 1
a7 1
V=		0.96.1
d11 3
a13 3
SHARED_LIBS +=  polkit-qt-agent-1         0.0 # 0.95
SHARED_LIBS +=  polkit-qt-core-1          0.0 # 0.95
SHARED_LIBS +=  polkit-qt-gui-1           0.0 # 0.95
@


1.3
log
@Make this build with the new GLIB2 by updating to polkit-qt4-0.96.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/07/17 05:57:27 ajacoutot Exp $
d38 1
a38 1
BUILD_DEPENDS=	::x11/kde4/automoc
d40 1
a40 1
LIB_DEPENDS=	::sysutils/polkit
@


1.2
log
@Not needed, shared only.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/07/17 05:50:24 ajacoutot Exp $
d7 1
a7 1
V=		0.95.1
a9 1
REVISION=	0
d30 1
a30 2
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 polkit-agent-1
WANTLIB += polkit-gobject-1
d32 1
a32 1
MASTER_SITES=	${MASTER_SITE_KDE:=stable/polkit-qt-1/}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d10 1
@


1.1.1.1
log
@Import polkit-qt4-0.95.1.

polkit-qt4 is a library that lets developers use the PolicyKit API
through a nice Qt-styled API. It is mainly a wrapper around QAction and
QAbstractButton that lets you integrate those two component easily with
PolicyKit.
@
text
@@
