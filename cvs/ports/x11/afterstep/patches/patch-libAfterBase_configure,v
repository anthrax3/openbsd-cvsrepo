head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.6
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.12
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.10
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.8
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.6
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.10
	OPENBSD_5_0:1.1.0.8
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.6
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.4
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2015.06.29.14.46.57;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	lPTGvU9v3zjcFxRs;

1.2
date	2012.04.12.17.31.12;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2009.12.06.15.09.22;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to afterstep-2.2.12.
@
text
@$OpenBSD$
--- libAfterBase/configure.orig	Wed May  1 15:34:11 2013
+++ libAfterBase/configure	Mon Jun 29 14:43:49 2015
@@@@ -3906,7 +3906,7 @@@@ fi
 
 if test "x$enable_gdb" = "xno"; then
 		DIRTY_CFLAGS="$CFLAGS"
-  		CFLAGS="-O3"
+  		CFLAGS=""
   		for f in $DIRTY_CFLAGS; do
        		if test "x$f" != "x-O2" -a "x$f" != "x-O3"; then
 		   		CFLAGS="$CFLAGS $f"
@@@@ -5639,6 +5639,8 @@@@ if test "x$ac_cv_lib_execinfo_backtrace" = xyes; then 
 fi
 
 
+execinfo_libs="-L%%LOCALBASE%%/lib -lexecinfo"
+LIBS="$execinfo_libs $LIBS"
 for ac_func in backtrace_symbols_fd backtrace_symbols backtrace
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
@


1.2
log
@* make this build on alpha by removing something that was intended
  to help it build on alpha...
* honor CFLAGS
@
text
@d1 4
a4 7
$OpenBSD: patch-libAfterBase_configure,v 1.1 2009/12/06 15:09:22 jasper Exp $

Force disable libexecinfo, causes problems during linking.

--- libAfterBase/configure.orig	Mon May  4 22:56:26 2009
+++ libAfterBase/configure	Thu Apr 12 18:45:37 2012
@@@@ -2997,18 +2997,8 @@@@ fi
d6 8
a15 30
-if test "x$enable_gdb" = "xno"; then
-		DIRTY_CFLAGS="$CFLAGS"
-  		CFLAGS="-O3"
-  		for f in $DIRTY_CFLAGS; do
-       		if test "x$f" != "x-O2" -a "x$f" != "x-O3"; then
-		   		CFLAGS="$CFLAGS $f"
-			fi
-  		done
-fi
 
 
-
 echo "$as_me:$LINENO: checking whether byte ordering is bigendian" >&5
 echo $ECHO_N "checking whether byte ordering is bigendian... $ECHO_C" >&6
 if test "${ac_cv_c_bigendian+set}" = set; then
@@@@ -5660,7 +5650,7 @@@@ done
 
 
 
-for ac_header in sys/wait.h sys/dirent.h sys/time.h link.h execinfo.h malloc.h stdlib.h
+for ac_header in sys/wait.h sys/dirent.h sys/time.h link.h malloc.h stdlib.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
@@@@ -6379,6 +6369,7 @@@@ done
 
 
 
+if false; then
 
d17 2
d20 2
a21 8
@@@@ -6481,6 +6472,7 @@@@ _ACEOF
 fi
 done
 
+fi
 
 echo "$as_me:$LINENO: checking for struct sigcontext" >&5
 echo $ECHO_N "checking for struct sigcontext... $ECHO_C" >&6
@


1.1
log
@- long overdue major update of afterstep to 2.2.9...too many changes to list here
@
text
@d1 1
a1 1
$OpenBSD$
d6 21
a26 2
+++ libAfterBase/configure	Thu Dec  3 17:22:18 2009
@@@@ -5660,7 +5660,7 @@@@ done
d35 1
a35 1
@@@@ -6379,6 +6379,7 @@@@ done
d43 1
a43 1
@@@@ -6481,6 +6482,7 @@@@ _ACEOF
@

