head	1.48;
access;
symbols
	OPENBSD_6_0:1.48.0.6
	OPENBSD_6_0_BASE:1.48
	OPENBSD_5_9:1.48.0.2
	OPENBSD_5_9_BASE:1.48
	OPENBSD_5_8:1.48.0.4
	OPENBSD_5_8_BASE:1.48
	OPENBSD_5_7:1.46.0.8
	OPENBSD_5_7_BASE:1.46
	OPENBSD_5_6:1.46.0.6
	OPENBSD_5_6_BASE:1.46
	OPENBSD_5_5:1.46.0.4
	OPENBSD_5_5_BASE:1.46
	OPENBSD_5_4:1.46.0.2
	OPENBSD_5_4_BASE:1.46
	OPENBSD_5_3:1.44.0.4
	OPENBSD_5_3_BASE:1.44
	OPENBSD_5_2:1.44.0.2
	OPENBSD_5_2_BASE:1.44
	OPENBSD_5_1_BASE:1.42
	OPENBSD_5_1:1.42.0.2
	OPENBSD_5_0:1.41.0.2
	OPENBSD_5_0_BASE:1.41
	OPENBSD_4_9:1.39.0.2
	OPENBSD_4_9_BASE:1.39
	OPENBSD_4_8:1.34.0.2
	OPENBSD_4_8_BASE:1.34
	OPENBSD_4_7:1.33.0.2
	OPENBSD_4_7_BASE:1.33
	OPENBSD_4_6:1.30.0.4
	OPENBSD_4_6_BASE:1.30
	OPENBSD_4_5:1.30.0.2
	OPENBSD_4_5_BASE:1.30
	OPENBSD_4_4:1.29.0.4
	OPENBSD_4_4_BASE:1.29
	OPENBSD_4_3:1.29.0.2
	OPENBSD_4_3_BASE:1.29
	OPENBSD_4_2:1.28.0.6
	OPENBSD_4_2_BASE:1.28
	OPENBSD_4_1:1.28.0.4
	OPENBSD_4_1_BASE:1.28
	OPENBSD_4_0:1.28.0.2
	OPENBSD_4_0_BASE:1.28
	OPENBSD_3_9:1.27.0.4
	OPENBSD_3_9_BASE:1.27
	OPENBSD_3_8:1.27.0.2
	OPENBSD_3_8_BASE:1.27
	OPENBSD_3_7:1.26.0.2
	OPENBSD_3_7_BASE:1.26
	OPENBSD_3_6:1.25.0.2
	OPENBSD_3_6_BASE:1.25
	OPENBSD_3_5:1.24.0.2
	OPENBSD_3_5_BASE:1.24
	OPENBSD_3_4:1.23.0.2
	OPENBSD_3_4_BASE:1.23
	OPENBSD_3_3:1.21.0.2
	OPENBSD_3_3_BASE:1.21
	OPENBSD_3_2:1.20.0.2
	OPENBSD_3_2_BASE:1.20
	OPENBSD_3_1:1.19.0.2
	OPENBSD_3_1_BASE:1.19
	OPENBSD_3_0:1.18.0.2
	OPENBSD_3_0_BASE:1.18
	OPENBSD_2_9_TRACKING_SWITCH:1.18
	OPENBSD_2_9:1.14.0.4
	OPENBSD_2_9_BASE:1.14
	OPENBSD_2_8:1.14.0.2
	OPENBSD_2_8_BASE:1.14
	OPENBSD_2_7:1.11.0.2
	OPENBSD_2_7_BASE:1.11
	OPENBSD_2_6:1.4.0.4
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	afterstep-1_0:1.1.1.1
	afterstep:1.1.1;
locks; strict;
comment	@# @;


1.48
date	2015.06.29.14.46.56;	author ajacoutot;	state Exp;
branches;
next	1.47;
commitid	lPTGvU9v3zjcFxRs;

1.47
date	2015.04.04.09.21.04;	author ajacoutot;	state Exp;
branches;
next	1.46;
commitid	kS3kwKZogsvzYmEY;

1.46
date	2013.06.04.18.41.57;	author naddy;	state Exp;
branches;
next	1.45;

1.45
date	2013.03.11.11.46.08;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2012.04.26.19.18.35;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2012.04.12.17.31.12;	author naddy;	state Exp;
branches;
next	1.42;

1.42
date	2011.09.16.12.29.12;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2011.04.16.11.06.47;	author jasper;	state Exp;
branches;
next	1.40;

1.40
date	2011.04.05.14.42.39;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.11.22.08.36.55;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2010.11.21.21.26.55;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2010.10.24.21.15.31;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.10.19.08.13.56;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.11.08.19.57;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2010.07.30.11.29.44;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2009.12.06.19.29.16;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2009.12.06.15.09.22;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2009.12.03.12.37.24;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2008.11.21.15.13.58;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2007.09.15.20.04.19;	author merdely;	state Exp;
branches;
next	1.28;

1.28
date	2006.08.04.00.10.42;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2005.04.17.21.18.29;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2004.12.17.15.18.31;	author alek;	state Exp;
branches;
next	1.25;

1.25
date	2004.06.26.04.12.07;	author sturm;	state Exp;
branches;
next	1.24;

1.24
date	2003.10.08.17.13.15;	author sturm;	state Exp;
branches;
next	1.23;

1.23
date	2003.05.14.00.04.51;	author pvalchev;	state Exp;
branches;
next	1.22;

1.22
date	2003.05.13.02.16.52;	author pvalchev;	state Exp;
branches;
next	1.21;

1.21
date	2002.10.29.19.48.57;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2002.07.18.02.16.41;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2001.11.13.22.13.25;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2001.08.11.16.00.25;	author kevlo;	state Exp;
branches;
next	1.17;

1.17
date	2001.06.06.10.12.31;	author kevlo;	state Exp;
branches;
next	1.16;

1.16
date	2001.05.24.02.28.26;	author kevlo;	state Exp;
branches;
next	1.15;

1.15
date	2001.05.06.04.41.05;	author lebel;	state Exp;
branches;
next	1.14;

1.14
date	2000.10.22.15.43.42;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.06.26.23.44.00;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2000.06.26.23.42.39;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.27.01.05.20;	author espie;	state Exp;
branches
	1.11.2.1;
next	1.10;

1.10
date	2000.03.24.23.28.37;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2000.03.05.18.30.45;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.22.20.27.33;	author turan;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.18.03.05.52;	author kevlo;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.17.16.11.18;	author kevlo;	state Exp;
branches;
next	1.5;

1.5
date	2000.01.21.15.06.14;	author kevlo;	state Exp;
branches;
next	1.4;

1.4
date	99.04.09.02.27.17;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	98.06.13.23.27.04;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.02.13.14.51.26;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	98.01.23.05.52.11;	author don;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.01.23.05.52.11;	author don;	state Exp;
branches;
next	;

1.11.2.1
date	2000.09.15.05.24.39;	author marc;	state Exp;
branches;
next	;


desc
@@


1.48
log
@Update to afterstep-2.2.12.
@
text
@# $OpenBSD: Makefile,v 1.47 2015/04/04 09:21:04 ajacoutot Exp $

COMMENT=	window manager, continuation of the Bowman NeXTSTEP clone

V=		2.2.12
DISTNAME=	AfterStep-${V}
PKGNAME=	${DISTNAME:L}
CATEGORIES=     x11
MASTER_SITES=	ftp://ftp.afterstep.org/stable/

WRKDIST=	${WRKDIR}/afterstep-devel-${V}

HOMEPAGE=	http://www.afterstep.org/

# MIT
PERMIT_PACKAGE_CDROM=   Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 c cairo dbus-1 execinfo
WANTLIB += fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gobject-2.0 gtk-x11-2.0 jpeg m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 png pthread rsvg-2 tiff z

MODULES=	devel/gettext

RUN_DEPENDS=	devel/desktop-file-utils \
		shells/bash \
		x11/asclock,classic,english \
		x11/rxvt-unicode \
		x11/xloadimage

LIB_DEPENDS=	devel/libexecinfo \
		x11/dbus \
		x11/gnome/librsvg \
		x11/gtk+2

CPPFLAGS=	-I${LOCALBASE}/include
CFLAGS +=	${CPPFLAGS}

NO_TEST=	Yes
USE_GMAKE=	Yes
USE_GROFF =	Yes

CONFIGURE_STYLE= gnu
CONFIGURE_ENV=	LDFLAGS="-L${LOCALBASE}/lib" \
		CPPFLAGS="${CPPFLAGS}"

CONFIGURE_ARGS=	--with-imageloader="xloadimage -onroot -quiet -colors 20" \
		--with-helpcommand="urxvt -e man" \
		--without-gnome-session \
		--enable-i18n \
		--enable-different-looknfeels \
		--disable-send-postcard-to-developer \

pre-configure:
	${SUBST_CMD} ${WRKSRC}/configure \
		${WRKSRC}/libAfter{Base,Image}/configure \
		${WRKSRC}/libAfterConf/Makefile.in
	perl -pi -e 's,/bin/bash,${LOCALBASE}/bin/bash,' \
		${WRKSRC}/tools/importasmenu

pre-install:
	${INSTALL_DATA_DIR} \
		${PREFIX}/share/applications \
		${PREFIX}/share/gnome/wm-properties \
		${PREFIX}/share/gnome-session/sessions

post-install:
	${INSTALL_DATA} ${FILESDIR}/monitor_bsd.xpm \
		${PREFIX}/share/afterstep/desktop/icons/
	rmdir ${PREFIX}/share/afterstep_old/

.include <bsd.port.mk>
@


1.47
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/06/04 18:41:57 naddy Exp $
d5 2
a6 1
DISTNAME=	AfterStep-2.2.9
a7 1
REVISION=	6
d9 3
a11 2
MASTER_SITES=   http://distfiles.nl/ \
		ftp://ftp.afterstep.org/stable/
d18 2
a19 2
WANTLIB += ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender atk-1.0 c cairo expat
d21 2
a22 4
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gtk-x11-2.0
WANTLIB += jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1
WANTLIB += png pthread pthread-stubs tiff xcb z dbus-1 rsvg-2
WANTLIB += GL Xxf86vm drm gthread-2.0 xcb-render xcb-shm
d26 2
a27 2
BUILD_DEPENDS=	devel/libexecinfo
RUN_DEPENDS=	shells/bash \
d29 5
a33 2
		x11/rxvt-unicode
LIB_DEPENDS=	x11/dbus \
d37 5
a41 1
FAKE=		lib
d43 1
d45 8
a52 5
CONFIGURE_ARGS=	--with-helpcommand="urxvt -e man" \
		--with-jpeg-includes=${LOCALBASE}/include \
		--with-jpeg-library=${LOCALBASE}/lib \
		--with-png-includes=${LOCALBASE}/include \
		--with-png-library=${LOCALBASE}/lib \
a53 7
		--enable-i18n \
		--enable-different-looknfeels
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		CFLAGS+="${CFLAGS} -fsigned-char"

NO_TEST=	Yes
d56 11
a66 1
	${SUBST_CMD} ${WRKSRC}/configure ${WRKSRC}/tools/importasmenu
d70 2
a71 1
		${PREFIX}/share/afterstep/desktop/icons/common
@


1.46
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/03/11 11:46:08 espie Exp $
d7 1
a7 1
REVISION=	5
@


1.45
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/04/26 19:18:35 jasper Exp $
d41 1
a41 1
		--with-png-includes=${LOCALBASE}/include/libpng \
@


1.44
log
@- use urxvt instead of aterm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/04/12 17:31:12 naddy Exp $
a15 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
d50 1
a50 1
NO_REGRESS=	Yes
@


1.43
log
@* make this build on alpha by removing something that was intended
  to help it build on alpha...
* honor CFLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/09/16 12:29:12 espie Exp $
d7 1
a7 1
REVISION=	4
d33 1
a33 1
		x11/aterm
d41 1
a41 1
CONFIGURE_ARGS=	--with-helpcommand="aterm -e man" \
@


1.42
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/04/16 11:06:47 jasper Exp $
d7 1
a7 1
REVISION=	3
@


1.41
log
@- remove void * casts for NULL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/04/05 14:42:39 ajacoutot Exp $
d7 1
a7 1
REVISION=	2
@


1.40
log
@Tweaks depends after recent librsvg commit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/11/22 08:36:55 espie Exp $
d7 1
a7 1
REVISION=	1
@


1.39
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/11/21 21:26:55 jasper Exp $
d7 1
a7 1
REVISION=	0
d26 1
d35 2
a36 1
		x11/gnome/librsvg
@


1.38
log
@- add a working mirror
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/10/24 21:15:31 ajacoutot Exp $
d29 6
a34 6
BUILD_DEPENDS=	::devel/libexecinfo
RUN_DEPENDS=	::shells/bash \
		:asclock-*:x11/asclock,classic,english \
		::x11/aterm
LIB_DEPENDS=	::x11/dbus \
		::x11/gnome/librsvg
@


1.37
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/10/19 08:13:56 espie Exp $
d9 2
a10 1
MASTER_SITES=   ftp://ftp.afterstep.org/stable/
@


1.36
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/10/11 08:19:57 jasper Exp $
a35 1
USE_X11=	Yes
@


1.35
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/07/30 11:29:44 ajacoutot Exp $
d37 1
@


1.34
log
@New style DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/12/06 19:29:16 jasper Exp $
d7 1
d22 1
a22 1
WANTLIB += glib-2.0 glitz gmodule-2.0 gobject-2.0 gtk-x11-2.0
@


1.33
log
@- add missing build dependeny
- add forgotten patch

no pkg change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/12/06 15:09:22 jasper Exp $
d23 1
a23 1
WANTLIB += png pthread pthread-stubs tiff xcb z
d31 2
a32 2
LIB_DEPENDS=	dbus-1::x11/dbus \
		rsvg-2::x11/gnome/librsvg
@


1.32
log
@- long overdue major update of afterstep to 2.2.9...too many changes to list here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/12/03 12:37:24 jasper Exp $
d27 1
@


1.31
log
@- minor cleanups:
* start COMMENT with lower case letter
* specify license versions
* spacing
* re-format DESCR
* remove kevlo@@ as maintainer per his request

ok kevlo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/11/21 15:13:58 jasper Exp $
d5 2
a6 2
DISTNAME=	AfterStep-1.8.9
PKGNAME=	${DISTNAME:L}p0
d12 1
a12 6
RUN_DEPENDS=	:asclock-*:x11/asclock,classic,english
LIB_DEPENDS=	png.>=2::graphics/png \
		jpeg.>=62::graphics/jpeg \
		rplay::audio/rplay

# GPLv2/LGPLv2/X11
d18 14
a31 1
WANTLIB += ICE SM X11 Xext Xpm c m z
d36 11
a46 9
CONFIGURE_ARGS= --enable-different-looknfeels \
		--with-helpcommand="xterm -e man" \
		--with-jpeg-includes=${DEPBASE}/include \
		--with-jpeg-library=${DEPBASE}/lib \
		--with-png-includes=${DEPBASE}/include/libpng \
		--with-png-library=${DEPBASE}/lib
CONFIGURE_ENV=	CPPFLAGS="-I${DEPBASE}/include" \
		LDFLAGS="-L${DEPBASE}/lib" \
		CFLAGS="${CFLAGS} -fsigned-char"
d49 4
a52 1
		
@


1.30
log
@- add some missing headers to fix potential 64-bit issues
- regen PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/09/15 20:04:19 merdely Exp $
d3 1
a3 1
COMMENT=	Window manager, continuation of the Bowman NeXTSTEP clone
d17 1
a17 3
MAINTAINER=	Kevin Lo <kevlo@@openbsd.org>

# GPL/LGPL/X11
d22 2
a23 1
WANTLIB=		ICE SM X11 Xext Xpm c m z
d28 6
a33 6
CONFIGURE_ARGS=	 --enable-different-looknfeels
CONFIGURE_ARGS+= --with-helpcommand="xterm -e man"
CONFIGURE_ARGS+= --with-jpeg-includes=${DEPBASE}/include
CONFIGURE_ARGS+= --with-jpeg-library=${DEPBASE}/lib
CONFIGURE_ARGS+= --with-png-includes=${DEPBASE}/include/libpng
CONFIGURE_ARGS+= --with-png-library=${DEPBASE}/lib
d41 2
a42 1
	${INSTALL_DATA} ${FILESDIR}/monitor_bsd.xpm ${PREFIX}/share/afterstep/desktop/icons/common
@


1.29
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2006/08/04 00:10:42 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME:L}
@


1.28
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2005/04/17 21:18:29 espie Exp $
d3 1
a3 1
COMMENT=	"Window manager, continuation of the Bowman NeXTSTEP clone"
@


1.27
log
@endfake markers/no need to install rplay,jpeg,png to build afterstep.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/12/17 15:18:31 alek Exp $
d13 3
a15 3
LIB_DEPENDS=	png.2::graphics/png \
		jpeg.62::graphics/jpeg \
		rplay.::audio/rplay
@


1.26
log
@Add WANTLIB markers, part two
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/06/26 04:12:07 sturm Exp $
d26 1
d31 6
a36 6
CONFIGURE_ARGS+= --with-jpeg-includes=${LOCALBASE}/include
CONFIGURE_ARGS+= --with-jpeg-library=${LOCALBASE}/lib
CONFIGURE_ARGS+= --with-png-includes=${LOCALBASE}/include/libpng
CONFIGURE_ARGS+= --with-png-library=${LOCALBASE}/lib
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
@


1.25
log
@better RUN_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2003/10/08 17:13:15 sturm Exp $
d24 1
@


1.24
log
@first bunch of license cleanup, some discussions about interpretation
during the release with pval@@

other categories will follow once they are finished
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/05/14 00:04:51 pvalchev Exp $
d12 1
a12 1
RUN_DEPENDS=	::x11/asclock
@


1.23
log
@compile -fsigned-char everywhere (don't ifdef macppc), and don't override CFLAGS...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/05/13 02:16:52 pvalchev Exp $
d19 1
@


1.22
log
@compile -fsigned-char on macppc as a hack since afterstep assigns -1
to chars in some places and other evil things like that..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2002/10/29 19:48:57 naddy Exp $
d33 2
a34 5
		LDFLAGS="-L${LOCALBASE}/lib"

.if ${MACHINE_ARCH} == "powerpc"
CONFIGURE_ENV+=	CFLAGS=-fsigned-char
.endif
@


1.21
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2002/07/18 02:16:41 brad Exp $
d34 4
@


1.20
log
@png header path change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/11/13 22:13:25 espie Exp $
d34 2
@


1.19
log
@Kill remaining RUN_DEPENDS/BUILD_DEPENDS first parters.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/08/11 16:00:25 kevlo Exp $
d6 1
a6 1
PKGNAME=	afterstep-1.8.9
a7 1
NEED_VERSION=	1.496
d30 1
a30 1
CONFIGURE_ARGS+= --with-png-includes=${LOCALBASE}/include
@


1.18
log
@upgrade to version 1.8.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/06/06 10:12:31 kevlo Exp $
d8 1
a8 1
NEED_VERSION=	1.402
d13 1
a13 1
RUN_DEPENDS=	asclock::x11/asclock
@


1.17
log
@- upgrade to version 1.8.8
- takeover maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/05/24 02:28:26 kevlo Exp $
d5 2
a6 2
DISTNAME=	AfterStep-1.8.8
PKGNAME=	afterstep-1.8.8
@


1.16
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/05/06 04:41:05 lebel Exp $
d5 2
a6 2
DISTNAME=	AfterStep-1.8.0
PKGNAME=	afterstep-1.8.0
d13 1
d15 2
a16 1
		jpeg.62::graphics/jpeg
d18 1
a18 1
MAINTAINER=	ports@@openbsd.org
d25 1
d27 11
a37 5
CONFIGURE_ARGS=	--prefix"=${X11BASE}" \
		--disable-save-windows \
		--enable-different-looknfeels

INSTALL_TARGET=	install install.man
@


1.15
log
@x11: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/10/22 15:43:42 espie Exp $
d13 1
a13 1
LIB_DEPENDS=	png.1::graphics/png \
@


1.14
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.13 2000/06/26 23:44:00 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.305
@


1.13
log
@- add HOMEPAGE
- add @@comment with RCS id to PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/06/26 23:42:39 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.301
@


1.12
log
@- remove license type
- remove FAKE=Yes
- GNU_CONFIGURE -> CONFIGURE_STYLE
- fix typo with one of the CONFIGURE_ARGS options; pointed out by Joshua
Krage <jkrage@@buser.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/03/27 01:05:20 espie Exp $
d8 2
@


1.11
log
@Fake...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/03/24 23:28:37 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.230
d9 3
a13 1
LICENSE_TYPE=           GPL
d19 4
a22 2
LIB_DEPENDS=	png.1::graphics/png \
		jpeg.62::graphics/jpeg
a24 7

FAKE=		Yes
USE_X11=	Yes
GNU_CONFIGURE=	Yes
CONFIGURE_ARGS=	--prefix=${X11BASE} \
		--disable-save-windows \
		--enable-different-locknfeels
@


1.11.2.1
log
@bring x11 as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/06/26 23:44:00 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.301
a8 5
HOMEPAGE=	http://www.afterstep.org/

LIB_DEPENDS=	png.1::graphics/png \
		jpeg.62::graphics/jpeg

d11 1
d17 2
a18 4
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--prefix"=${X11BASE}" \
		--disable-save-windows \
		--enable-different-looknfeels
d21 7
@


1.10
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/03/05 18:30:45 espie Exp $
d6 1
a6 1
NEED_VERSION=	 1.230
d22 1
@


1.9
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/22 20:27:33 turan Exp $
d6 1
a6 1
NEED_VERSION=	1.223
d17 2
a18 2
LIB_DEPENDS=	png.1:graphics/png \
		jpeg.62:graphics/jpeg
@


1.8
log
@broken maintainer, don@@openbsd.org -> ports@@openbsd.org
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/18 03:05:52 kevlo Exp $
d6 1
d12 4
a15 4
PERMIT_PACKAGE_CDROM=   YES
PERMIT_PACKAGE_FTP=     YES
PERMIT_DISTFILES_CDROM= YES
PERMIT_DISTFILES_FTP=   YES
d17 2
a18 2
LIB_DEPENDS=	png.1:${PORTSDIR}/graphics/png \
		jpeg.62:${PORTSDIR}/graphics/jpeg
d22 2
a23 2
USE_X11=	yes
GNU_CONFIGURE=	yes
@


1.7
log
@Add license info.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/02/17 16:11:18 kevlo Exp $
d8 1
a8 1
MAINTAINER=	don@@openbsd.org
@


1.6
log
@Upgrade to version 1.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/01/21 15:06:14 kevlo Exp $
d9 6
@


1.5
log
@Update to 1.6.10 and cleanup the Makefile.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/04/09 02:27:17 brad Exp $
d3 2
a4 2
DISTNAME=	AfterStep-1.6.10
PKGNAME=	afterstep-1.6.10
d6 1
a6 1
MASTER_SITES=   ftp://ftp.afterstep.org/pub/stable/
@


1.4
log
@remove xpm dependencies: xpm is part of OpenBSD as of 2.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1998/06/13 23:27:04 marc Exp $
d3 4
a6 4
DISTNAME=	AfterStep-1.0
PKGNAME=	afterstep-1.0
CATEGORIES=	x11
MASTER_SITES=	ftp://afterstep.foo.net/pub/AfterStep/
d8 4
a11 1
MAINTAINER=	don@@OpenBSD.ORG
a12 1
USE_X11=	yes
a13 1
MAN1=		afterstep.1 asclock.1 Animate.1 Audio.1 Auto.1 Banner.1 Pager.1 Wharf.1
d15 5
a19 26
pre-build:
		@@ cd ${WRKSRC}; ${SETENV} sh MakeMakefiles

post-install:	
		@@ ${MKDIR} -p ${PREFIX}/lib/X11/afterstep/backgrounds/
		${INSTALL_DATA} ${WRKSRC}/backgrounds/* ${PREFIX}/lib/X11/afterstep/backgrounds/
		@@ ${MKDIR} -p ${PREFIX}/lib/X11/afterstep/sounds/
		${INSTALL_DATA} ${WRKSRC}/sounds/* ${PREFIX}/lib/X11/afterstep/sounds/
		@@ ${MKDIR} -p ${PREFIX}/include/X11/pixmaps/
.if defined(USE_HICOLOR_ICONS)
		${INSTALL_DATA} ${WRKSRC}/icons/*.xpm ${PREFIX}/include/X11/pixmaps/
.else
.if !defined(BATCH)
		@@${ECHO} "===>  Note: to use the hi-color icons,"
		@@${ECHO} "      reinstall this port with -DUSE_HICOLOR_ICONS"
		@@${ECHO} "      defined"
.endif
		@@for file in AFstep.xpm penguin.xpm monitor_bsd.xpm; do \
			${CP} ${FILESDIR}/$$file ${WRKSRC}/icons/8bit; \
		done
		${INSTALL_DATA} ${WRKSRC}/icons/8bit/*.xpm ${PREFIX}/include/X11/pixmaps/
.endif
		@@ ${MKDIR} -p ${PREFIX}/lib/X11/afterstep/doc/
		@@for file in CHANGES CREDITS README README.8bit INSTALL FAQ module-interface.txt; do \
			${INSTALL_DATA} ${WRKSRC}/$$file ${PREFIX}/lib/X11/afterstep/doc/; \
		done
@


1.3
log
@don't depend on the ports libxpm unless os release < 2.3;
libXpm is standard with 2.3
@
text
@d1 1
a1 7
# OpenBSD makefile for:	afterstep
# Version required:	1.0
# Date created:		6 January 1998
# Whom:			Don Schmidt
#
# $OpenBSD: Makefile,v 1.2 1998/02/13 14:51:26 niklas Exp $
#
a8 6

OS_RELEASE!=	uname -r
OS_HAS_XPM=	2.3
.if ( ${OS_RELEASE} < ${OS_HAS_XPM} )
LIB_DEPENDS=	Xpm\\.4\\.:${PORTSDIR}/graphics/xpm
.endif
@


1.2
log
@Do not assume our PATH has the X11 bin dir in it
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/01/23 05:52:11 don Exp $
d16 3
d20 1
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d23 1
a23 1
		@@ cd ${WRKSRC}; sh MakeMakefiles
@


1.1.1.1
log
@Initial import
@
text
@@
