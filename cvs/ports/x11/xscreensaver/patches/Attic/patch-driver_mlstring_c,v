head	1.2;
access;
symbols
	OPENBSD_4_6:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2009.11.28.10.49.49;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2009.08.20.07.03.15;	author ajacoutot;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2009.11.12.02.29.27;	author william;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to xscreensaver-5.10.

* Retired hypercube and hyperball, which are redundant with polytopes.
* New hack, rubikblocks.
* Fixed another potential RANDR crash.
* molecule now correctly displays PDB 3.2 files.
* Updates to mirrorblob, glhanoi, and sonar.
* Rewritten version of klein hack.
* New hack, surfaces, incorporating objects from old klein hack, plus new ones.
* Merged juggle and juggler3d hacks.
* Fixed intermittent failure in xscreensaver-command.
@
text
@$OpenBSD: patch-driver_mlstring_c,v 1.1 2009/08/20 07:03:15 ajacoutot Exp $

Fix local screen lock bypass vulnerability.
Debian bug #539699.

--- driver/mlstring.c.orig	Tue Apr 17 06:51:48 2007
+++ driver/mlstring.c	Thu Aug 20 08:59:21 2009
@@@@ -153,6 +153,8 @@@@ mlstring_wrap(mlstring *mstring, XFontStruct *font, Di
 	  
 	  if (wrap_at == -1) /* No space found, hard wrap */
 	    wrap_at = line_length;
+	  else
+            wrap_at++; /* Leave space at the end of the line */
 
 	  newml = calloc(1, sizeof(*newml));
 	  if (!newml) /* OOM, don't bother trying to wrap */
@


1.1
log
@SECURITY
Fix local screen lock bypass vulnerability.
Debian bug #539699, from by David Fries.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@MFC:

SECURITY FIX

Fix local screen lock bypass vulnerability.
@
text
@@

