head	1.26;
access;
symbols
	OPENBSD_2_6:1.13.0.2
	OPENBSD_2_6_BASE:1.13
	OPENBSD_2_5:1.12.0.2
	OPENBSD_2_5_BASE:1.12
	OPENBSD_2_4:1.3.0.4
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.2
	OPENBSD_2_3_BASE:1.3
	tk_8_0_2:1.1.1.1
	niklas:1.1.1;
locks; strict;
comment	@# @;


1.26
date	2000.03.27.02.28.18;	author kevlo;	state dead;
branches;
next	1.25;

1.25
date	2000.03.24.23.28.41;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2000.03.21.20.17.10;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2000.03.20.20.16.38;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2000.03.20.18.16.22;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2000.03.05.18.30.47;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2000.02.15.05.05.31;	author turan;	state Exp;
branches;
next	1.19;

1.19
date	2000.02.12.06.30.07;	author turan;	state Exp;
branches;
next	1.18;

1.18
date	2000.02.11.00.37.39;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2000.01.09.07.16.49;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2000.01.07.18.17.44;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2000.01.06.02.08.37;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	99.10.29.12.05.31;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	99.05.30.23.49.35;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	99.04.04.23.43.17;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	99.04.03.09.14.59;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	99.03.19.21.51.48;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.03.15.02.48.16;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	99.03.02.04.41.10;	author marc;	state Exp;
branches;
next	1.7;

1.7
date	99.02.21.04.26.17;	author marc;	state Exp;
branches;
next	1.6;

1.6
date	99.02.18.02.37.41;	author marc;	state Exp;
branches;
next	1.5;

1.5
date	99.01.11.04.51.39;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	98.11.03.17.49.39;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	98.02.10.10.45.20;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	98.01.29.23.01.03;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	97.12.02.23.44.35;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.02.23.44.35;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.26
log
@Bye, bye. This is integrated with tk.
@
text
@# $OpenBSD: Makefile,v 1.25 2000/03/24 23:28:41 espie Exp $
# $FreeBSD: Makefile,v 1.7 1997/12/01 16:50:58 pst Exp $

DISTNAME=	tk8.0.5
PKGNAME=	tk-8.0.5
CATEGORIES=	x11 tk80
NEED_VERSION=	 1.230
MASTER_SITES=	${MASTER_SITE_TCLTK}
MASTER_SITE_SUBDIR= tcl8_0


MAINTAINER=	niklas@@openbsd.org

LICENSE_TYPE=		BSD
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

LIB_DEPENDS=	tcl80.1.5::lang/tcl80

SEPARATE_BUILD=	concurrent
GNU_CONFIGURE=	Yes
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --enable-static --with-tcl="${PREFIX}/lib/tcl8.0"
CONFIGURE_ENV=	PORTSDIR=${PORTSDIR} 

WRKDIST=	${WRKDIR}/${DISTNAME}/unix
FAKE=		Yes
FAKE_FLAGS=INSTALL_ROOT=${WRKINST}

test:	build
	@@cd ${WRKBUILD} && make test

.include <bsd.port.mk>
@


1.25
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/03/21 20:17:10 espie Exp $
@


1.24
log
@Use INSTALL_ROOT, cleaner fake that way
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/03/20 20:16:38 espie Exp $
d7 1
a7 1
NEED_VERSION=	1.223
d20 1
a20 1
LIB_DEPENDS=	tcl80.1.5:lang/tcl80
@


1.23
log
@Fix *config.sh after fake install to remove DESTDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/03/20 18:16:22 espie Exp $
d23 1
a23 2
HAS_CONFIGURE=	Yes
CONFIGURE_ARGS+=--prefix='$${DESTDIR}${PREFIX}' --sysconfdir='$${DESTDIR}/etc'
d30 1
a30 4

# Sneaky
post-install:
	perl -pi.bak -e 's/\$$\{DESTDIR\}//;' ${PREFIX}/lib/tk8.0/tkConfig.sh 
@


1.22
log
@Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/03/05 18:30:47 espie Exp $
d31 4
@


1.21
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/02/15 05:05:31 turan Exp $
d23 2
a24 1
GNU_CONFIGURE=	Yes
d30 1
a30 3

post-install:
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.20
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/02/12 06:30:07 turan Exp $
d7 1
a10 1
NEED_VERSION=	1.191
d15 4
a18 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d20 1
a20 1
LIB_DEPENDS=	tcl80.1.5:${PORTSDIR}/lang/tcl80
d23 1
a23 1
GNU_CONFIGURE=	yes
@


1.19
log
@bsd licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/02/11 00:37:39 espie Exp $
d15 4
a18 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.18
log
@Use WRKDIST where appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/01/09 07:16:49 brad Exp $
d13 6
@


1.17
log
@stop hacking up the autoconf script to specify the location of tclConfig.sh and instead use the proper autoconf option --with-tcl instead
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/01/07 18:17:44 brad Exp $
d10 1
a10 1
NEED_VERSION=	1.92
d22 1
a22 1
WRKSRC=	${WRKDIR}/${DISTNAME}/unix
@


1.16
log
@use ${DISTNAME} when defining WRKSRC
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/01/06 02:08:37 brad Exp $
d19 1
a19 1
CONFIGURE_ARGS+= --enable-static
@


1.15
log
@- rearrange Makefile a bit
- add build target to dependency list for test target to ensure that tk80
is built before trying to run the test.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/10/29 12:05:31 espie Exp $
d22 1
a22 1
WRKSRC=	${WRKDIR}/tk8.0.5/unix
@


1.14
log
@Fix CATEGORIES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/05/30 23:49:35 brad Exp $
a11 1
SEPARATE_BUILD=	concurrent
d16 1
a16 1
WRKSRC=		${WRKDIR}/tk8.0.5/unix
d22 2
d25 1
a25 1
	${LDCONFIG} -m ${PREFIX}/lib
d27 2
a28 2
test:
	@@cd ${WRKBUILD}; make test
@


1.13
log
@use MASTER_SITE_TCLTK
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/04/04 23:43:17 espie Exp $
d6 1
a6 1
CATEGORIES=	x11
@


1.12
log
@Remove PATH=  from CONFIGURE_ENV.
This is a confusing no-op, as PATH has been explicitly set to PORTPATH
in CONFIGURE_ENV for a while now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/04/03 09:14:59 brad Exp $
d6 3
a8 1
CATEGORIES=	x11 tk80
d10 1
a10 1
NEED_VERSION=	1.73
a14 2
MASTER_SITES=	ftp://ftp.scriptics.com/pub/tcl/tcl8_0/

d19 3
a21 2
CONFIGURE_ARGS+=${CONFIGURE_SHARED}
CONFIGURE_ENV=  PORTSDIR=${PORTSDIR} 
d27 1
a27 1
	cd ${WRKBUILD}; make test
@


1.11
log
@new style dependency check and fixup PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/03/19 21:51:48 brad Exp $
d20 1
a20 1
CONFIGURE_ENV=  PORTSDIR=${PORTSDIR} PATH=${PATH}:${X11BASE}/bin
@


1.10
log
@upgrade to tk 8.0.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/03/15 02:48:16 espie Exp $
d15 1
a15 1
LIB_DEPENDS=	tcl80\\.1\\.5:${PORTSDIR}/lang/tcl80
@


1.9
log
@SEPARATE_BUILD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/03/02 04:41:10 marc Exp $
a2 1
#
d4 2
a5 2
DISTNAME=	tk8.0.4
PKGNAME=	tk-8.0.4
d10 1
a10 1
SEPARATE_BUILD=concurrent
d15 1
a15 1
LIB_DEPENDS=	tcl80.1.4:${PORTSDIR}/lang/tcl80
d17 1
a17 1
WRKSRC=		${WRKDIR}/tk8.0.4/unix
@


1.8
log
@fix earlier bogus changes to Makefile where a value that
was defined in bsd.port.mk was checked before bsd.port.mk was included;
this should make ports with optional shared libs build on the alpha,
again.  However, chages require the latest bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/02/21 04:26:17 marc Exp $
d11 1
d27 1
a27 1
	cd ${WRKSRC}; make test
@


1.7
log
@needs version 1.64 (or later) of bsd.port.mk
to build/install correctly; PLIST.noshared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/02/18 02:37:41 marc Exp $
d9 1
a9 1
NEED_VERSION=	1.64
d19 1
a19 3
.if !defined(NO_SHARED_LIBS)
CONFIGURE_ARGS=	--enable-shared
.endif
@


1.6
log
@use NO_SHARED_LIBS instead of test for alpha;
use PLIST.noshared instead of PLIST.alpha
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/01/11 04:51:39 marc Exp $
d8 2
a9 1
MASTER_SITES=	ftp://ftp.scriptics.com/pub/tcl/tcl8_0/
d12 2
@


1.5
log
@update to tk 8.0.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1998/11/03 17:49:39 niklas Exp $
d16 1
a16 1
.if (${MACHINE_ARCH} != "alpha")
@


1.4
log
@Update to 8.0.3, new mastersite
@
text
@d1 1
a1 6
# New ports collection makefile for:	tk8.0
# Version required:	tk8.0
# Date created:		2 December 1997
# Whom:			niklas
#
# $OpenBSD: Makefile,v 1.3 1998/02/10 10:45:20 niklas Exp $
d5 2
a6 2
DISTNAME=	tk8.0.3
PKGNAME=	tk-8.0.3
d8 1
a8 1
MASTER_SITES=	ftp://ftp.scriptics.com/pub/tcl/tcl8_0
d12 1
a12 1
LIB_DEPENDS=	tcl80\\.1\\.3:${PORTSDIR}/lang/tcl80
d14 1
a14 1
WRKSRC=		${WRKDIR}/tk8.0.3/unix
@


1.3
log
@On a current system LDCONFIG need not be special cased for mips/alpha
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1998/01/29 23:01:03 niklas Exp $
d10 2
a11 2
DISTNAME=	tk8.0p2
PKGNAME=	tk-8.0.2
d13 1
a13 1
MASTER_SITES=	ftp://ftp.sunlabs.com/pub/tcl/
d17 1
a17 1
LIB_DEPENDS=	tcl80\\.1\\.2:${PORTSDIR}/lang/tcl80
d19 1
a19 1
WRKSRC=		${WRKDIR}/tk8.0/unix
@


1.2
log
@Extend the configure PATH with the X11 bin, so that we will be sure to get
a linkstage that knows where to find the libs
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1997/12/02 23:44:35 niklas Exp $
a26 4
.if (${MACHINE_ARCH} != "alpha")
.if (${MACHINE_ARCH} == "mips")
	${LDCONFIG} -n ${PREFIX}/lib
.else
a27 2
.endif
.endif
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.7 1997/12/01 16:50:58 pst Exp $
d24 1
a24 1
CONFIGURE_ENV=  PORTSDIR=${PORTSDIR}
@


1.1.1.1
log
@tk 8.0.2, at the correct place this time
@
text
@@
