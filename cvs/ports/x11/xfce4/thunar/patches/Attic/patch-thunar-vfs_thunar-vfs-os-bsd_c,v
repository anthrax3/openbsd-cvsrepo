head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2011.01.18.20.21.30;	author landry;	state dead;
branches;
next	1.2;

1.2
date	2010.11.16.13.33.47;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.28.15.12.57;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to thunar 1.2.0:

This release is the result of a huge porting effort to GIO, and brings
transparent network browsing (ftp/webdav/smb/sftp with ssh-agent/ssh
master socket) through GVfs.
@
text
@$OpenBSD: patch-thunar-vfs_thunar-vfs-os-bsd_c,v 1.2 2010/11/16 13:33:47 dcoppa Exp $
--- thunar-vfs/thunar-vfs-os-bsd.c.orig	Fri May 21 19:10:52 2010
+++ thunar-vfs/thunar-vfs-os-bsd.c	Tue Nov 16 13:43:02 2010
@@@@ -66,7 +66,7 @@@@ _thunar_vfs_os_is_dir_empty (const gchar *absolute_pat
 {
   struct dirent *dp;
 #ifndef HAVE_GETDENTS
-  glong          basep = 0;
+  goffset        basep = 0;
 #endif
   gchar          dbuf[8 * DIRBLKSIZ];
   gint           size = 0;
@@@@ -180,7 +180,7 @@@@ _thunar_vfs_os_scandir (ThunarVfsPath  *path,
   struct dirent *dp;
   struct stat    statb;
 #ifndef HAVE_GETDENTS
-  glong          basep = 0;
+  goffset        basep = 0;
 #endif
   GList         *path_list = NULL;
   gchar         *filename;
@


1.2
log
@The getdirentries basep type change was not handled correctly in
this case.
Fix a crash reported by Paolo Aglialoro and Andreas Kahari.

OK landry@@ (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD: patch-thunar-vfs_thunar-vfs-os-bsd_c,v 1.1 2010/10/28 15:12:57 sthen Exp $
@


1.1
log
@handle getdirentries basep type change, ok landry@@
@
text
@d1 3
a3 3
$OpenBSD$
--- thunar-vfs/thunar-vfs-os-bsd.c.orig	Thu Oct 28 03:13:34 2010
+++ thunar-vfs/thunar-vfs-os-bsd.c	Thu Oct 28 03:13:38 2010
d9 1
a9 1
+  off_t          basep = 0;
d13 9
@

