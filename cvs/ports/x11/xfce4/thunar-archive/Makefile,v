head	1.23;
access;
symbols
	OPENBSD_6_0:1.21.0.6
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.21.0.2
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.21.0.4
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.20.0.6
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.20.0.4
	OPENBSD_5_6_BASE:1.20
	OPENBSD_5_5:1.20.0.2
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.18.0.2
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.14.0.2
	OPENBSD_5_3_BASE:1.14
	OPENBSD_5_2:1.13.0.2
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.2
	OPENBSD_5_0:1.9.0.2
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.5.0.2
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	landry_20090722:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2016.11.04.10.02.03;	author landry;	state Exp;
branches;
next	1.22;
commitid	vtvXG6wXlO8pLJrO;

1.22
date	2016.11.03.10.37.45;	author landry;	state Exp;
branches;
next	1.21;
commitid	9GgAYZLdcTWqFQaU;

1.21
date	2015.03.27.08.16.24;	author ajacoutot;	state Exp;
branches;
next	1.20;
commitid	BUhOiEl2FUSRKwq7;

1.20
date	2013.10.05.07.34.43;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2013.08.13.21.51.28;	author landry;	state Exp;
branches;
next	1.18;

1.18
date	2013.05.31.19.24.40;	author landry;	state Exp;
branches;
next	1.17;

1.17
date	2013.04.03.06.20.50;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.29.15.39.56;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.11.11.46.17;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2013.01.02.17.12.22;	author landry;	state Exp;
branches;
next	1.13;

1.13
date	2012.06.15.08.30.25;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2012.04.30.13.26.39;	author landry;	state Exp;
branches;
next	1.11;

1.11
date	2011.12.03.22.39.12;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2011.12.03.22.32.21;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2011.03.03.21.17.11;	author landry;	state Exp;
branches;
next	1.8;

1.8
date	2011.01.18.21.34.58;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2011.01.18.20.52.20;	author landry;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.22.08.37.06;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2010.07.27.12.58.42;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2010.07.14.11.48.13;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2009.12.21.16.07.44;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2009.08.11.19.52.51;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2009.07.22.20.43.43;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.07.22.20.43.43;	author landry;	state Exp;
branches;
next	;


desc
@@


1.23
log
@Herp derp missed REVISION bumps, thx naddy@@
@
text
@# $OpenBSD: Makefile,v 1.22 2016/11/03 10:37:45 landry Exp $

COMMENT =	Thunar archive plugin

XFCE_VERSION =	0.3.1
THUNAR_PLUGIN =	thunar-archive-plugin
REVISION =	3

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

MODULES =	x11/xfce4

MODXFCE_ICON_CACHE=	Yes

LIB_DEPENDS =	x11/xfce4/thunar

RUN_DEPENDS =	xarchiver-*|file-roller-*|kdeutils-*:x11/xarchiver

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 cairo exo-1 expat ffi
WANTLIB += fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 graphite2 gthread-2.0
WANTLIB += gtk-x11-2.0 harfbuzz m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs thunarx-2 xcb xcb-render xcb-shm xfce4util
WANTLIB += z iconv intl

.include <bsd.port.mk>
@


1.22
log
@Drop gettext MODULE.

Fix some WANTLIB while here, and bump REVISION accordingly when needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/03/27 08:16:24 ajacoutot Exp $
d7 1
a7 1
REVISION =	2
@


1.21
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/10/05 07:34:43 espie Exp $
d27 1
a27 1
WANTLIB += z
@


1.20
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/08/13 21:51:28 landry Exp $
d7 1
a7 1
REVISION =	1
@


1.19
log
@Remove 'icudata icule icuuc' from WANTLIB & bump REVISION to fix
packaging. Reported by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/05/31 19:24:40 landry Exp $
d7 1
a7 1
REVISION =	0
@


1.18
log
@Bugfix update to thunar-archive 0.3.1. Fix deps/wantlib now that it
properly links against thunar.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/04/03 06:20:50 ajacoutot Exp $
d7 1
d24 1
a24 1
WANTLIB += gtk-x11-2.0 harfbuzz icudata icule icuuc m pango-1.0
@


1.17
log
@No need to build_depends on gtk+2,-guic nor shared-mime-info.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/29 15:39:56 jasper Exp $
d5 1
a5 1
XFCE_VERSION =	0.3.0
a6 1
REVISION=	5
d15 1
a15 1
BUILD_DEPENDS =	x11/xfce4/thunar
d17 1
a17 2
RUN_DEPENDS =	x11/xfce4/thunar \
		xarchiver-*|file-roller-*|kdeutils-*:x11/xarchiver
d19 8
a26 1
LIB_DEPENDS +=	x11/xfce4/exo
@


1.16
log
@bump dependants of file-roller
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/11 11:46:17 espie Exp $
d7 1
a7 1
REVISION=	4
d16 2
a17 1
BUILD_DEPENDS +=${RUN_DEPENDS}
@


1.15
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/01/02 17:12:22 landry Exp $
d7 1
a7 1
REVISION=	3
@


1.14
log
@Winter cleanup of the Xfce ports:

- use LIBTOOL_FLAGS=--tag=disable-static to avoid building useless
  static libs.
- add a MODXFCE_PURGE_LA variable holding the list of dirs to purge from
  libtool archive useless files.
- add a MODXFCE4_post-install hook in xfce4.port.mk to purge the la files.
  This requires  bsd.port.mk r1.1201.
- remove --disable-linker-opts now that --as-needed seems to work fine
- fix WANTLIB (mostly adding harfbuzz icudata icule icuuc in lots of
  places)
- update PLISTs: remove @@comment'ed static/la files, redundant dirs

ok sthen@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/06/15 08:30:25 ajacoutot Exp $
a10 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.13
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/04/30 13:26:39 landry Exp $
d7 1
a7 1
REVISION=	2
a23 9
CONFIGURE_ARGS +=	--disable-linker-opts

WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0
WANTLIB += cairo drm exo-1 expat fontconfig freetype gdk-x11-2.0
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gthread-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread-stubs xcb xcb-render
WANTLIB += xcb-shm xfce4util z
@


1.12
log
@Merge PFRAGs to PLISTs, update PLISTs, fix WANTLIB, bump REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/12/03 22:39:12 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
@


1.11
log
@tyop...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/12/03 22:32:21 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
@


1.10
log
@Use MODFXCE_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/03/03 21:17:11 landry Exp $
d17 1
a17 1
MODFXCE_ICON_CACHE=	Yes
@


1.9
log
@Update to thunar-archive 0.3.0.
Remove patches from http://bugzilla.xfce.org/show_bug.cgi?id=6093, now
merged upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/01/18 21:34:58 ajacoutot Exp $
d7 1
d16 2
@


1.8
log
@@@comment libtool files for modules.
Add missing gio-querymodules goo in exo.

ok landry@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/01/18 20:52:20 landry Exp $
d5 1
a5 1
XFCE_VERSION =	0.2.4
a6 1
REVISION =	4
d21 1
@


1.7
log
@Add patch from http://bugzilla.xfce.org/show_bug.cgi?id=6093 to port it
to thunarx-2. Fix WANTLIB/LIB_DEPENDS, bump REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/11/22 08:37:06 espie Exp $
d7 1
a7 1
REVISION =	3
@


1.6
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/07/27 12:58:42 landry Exp $
d7 1
a7 1
REVISION =	2
d20 10
@


1.5
log
@Convert to new LIB_DEPENDS/WANTLIB semantics, fix WANTLIB while here.
Bump all REVISION as i changed my e-mail address.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/07/14 11:48:13 landry Exp $
d18 2
a19 2
RUN_DEPENDS =	::x11/xfce4/thunar \
		:xarchiver-*|file-roller-*|kdeutils-*:x11/xarchiver
@


1.4
log
@Switch to REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/12/21 16:07:44 landry Exp $
d7 1
a7 1
REVISION =	1
@


1.3
log
@Replace @@unexec by @@unexec-delete for update-desktop-database,
gtk-update-icon-cache and update-mime-database goos, & Bump PKGNAMEs.
Prodded by espie@@, discussed with aja@@ & sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/08/11 19:52:51 landry Exp $
d7 1
a7 1
PKGNAME =	${DISTNAME:S/-plugin//}p1
@


1.2
log
@Switch to use THUNAR_PLUGIN instead of XFCE_GOODIE. bump PKGNAMEs as
HOMEPAGE changed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/07/22 20:43:43 landry Exp $
d7 1
a7 1
PKGNAME =	${DISTNAME:S/-plugin//}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 2
a7 3
XFCE_GOODIE =	thunar-archive-plugin
PKGNAME =	${DISTNAME:S/-plugin//}
MASTER_SITES =	${MASTER_SITE_BERLIOS:=xfce-goodies/}
@


1.1.1.1
log
@Import thunar-archive 0.2.4.
The thunar-archive-plugin is a plugin for the Thunar File Manager, which
adds archive operations to the file context menus. Using this plugin you
will be able to extract and create archive files from within Thunar using
an external archive handler. So far, xarchiver, file-roller and ark are
supported.

looks good to ajacoutot@@
@
text
@@
