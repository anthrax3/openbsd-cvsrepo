head	1.18;
access;
symbols
	OPENBSD_6_0:1.16.0.6
	OPENBSD_6_0_BASE:1.16
	OPENBSD_5_9:1.16.0.2
	OPENBSD_5_9_BASE:1.16
	OPENBSD_5_8:1.16.0.4
	OPENBSD_5_8_BASE:1.16
	OPENBSD_5_7:1.15.0.8
	OPENBSD_5_7_BASE:1.15
	OPENBSD_5_6:1.15.0.6
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.15.0.4
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.15.0.2
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.12.0.2
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.2
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.1.1.1.0.2
	OPENBSD_4_9_BASE:1.1.1.1
	landry_20110118:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.18
date	2016.11.03.16.20.40;	author landry;	state Exp;
branches;
next	1.17;
commitid	8YFYIVZQoWyaJ4kp;

1.17
date	2016.11.03.10.37.44;	author landry;	state Exp;
branches;
next	1.16;
commitid	9GgAYZLdcTWqFQaU;

1.16
date	2015.03.16.20.24.26;	author landry;	state Exp;
branches;
next	1.15;
commitid	Tg2YPiB0Gqy6iLoE;

1.15
date	2013.05.31.19.21.31;	author landry;	state Exp;
branches;
next	1.14;

1.14
date	2013.03.11.11.46.17;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2013.01.02.17.12.21;	author landry;	state Exp;
branches;
next	1.12;

1.12
date	2012.05.08.18.30.28;	author landry;	state Exp;
branches;
next	1.11;

1.11
date	2012.05.08.17.21.21;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2012.04.30.12.46.58;	author landry;	state Exp;
branches;
next	1.9;

1.9
date	2012.03.29.09.10.36;	author landry;	state Exp;
branches;
next	1.8;

1.8
date	2012.02.20.09.09.32;	author landry;	state Exp;
branches;
next	1.7;

1.7
date	2012.02.19.21.39.31;	author landry;	state Exp;
branches;
next	1.6;

1.6
date	2011.10.14.11.37.24;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.09.16.21.01.24;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2011.09.16.12.29.17;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2011.06.20.19.17.32;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2011.04.17.10.34.06;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2011.01.18.19.55.53;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.01.18.19.55.53;	author landry;	state Exp;
branches;
next	;


desc
@@


1.18
log
@Bump REVISION, because i'm stupid.
@
text
@# $OpenBSD: Makefile,v 1.17 2016/11/03 10:37:44 landry Exp $

COMMENT =	Xfce4 freedesktop.org compliant menu implementation

XFCE_PROJECT =	garcon
XFCE_VERSION =	0.4.0
REVISION =	0

SHARED_LIBS +=	garcon-1	0.0
SHARED_LIBS +=  garcon-gtk2-1	0.0 # 0.0


HOMEPAGE=	http://www.xfce.org/projects/libraries/

MASTER_SITES ?=	http://archive.xfce.org/src/libs/${XFCE_PROJECT:L}/${XFCE_BRANCH}/

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

MODULES =	x11/xfce4
LIB_DEPENDS =	x11/xfce4/libxfce4util \
		x11/xfce4/libxfce4ui
WANTLIB =	xfce4util gio-2.0 gmodule-2.0 glib-2.0 gobject-2.0 gthread-2.0 \
		pcre pthread z ffi iconv intl
WANTLIB += ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender atk-1.0 cairo expat
WANTLIB += fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 graphite2
WANTLIB += gtk-x11-2.0 harfbuzz m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pixman-1 png pthread-stubs startup-notification-1 xcb
WANTLIB += xcb-render xcb-shm xcb-util xfce4ui-1

FAKE_FLAGS =	menudir=${PREFIX}/share/examples/garcon

.include <bsd.port.mk>
@


1.17
log
@Drop gettext MODULE.

Fix some WANTLIB while here, and bump REVISION accordingly when needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2015/03/16 20:24:26 landry Exp $
d7 1
@


1.16
log
@Update to garcon 0.4.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/05/31 19:21:31 landry Exp $
d23 1
a23 1
		pcre pthread z ffi
@


1.15
log
@Bugfix update to garcon 0.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/03/11 11:46:17 espie Exp $
d6 4
a9 1
XFCE_VERSION =	0.2.1
a10 1
SHARED_LIBS +=	garcon-1 0.0
d20 2
a21 1
LIB_DEPENDS =	x11/xfce4/libxfce4util
d24 6
a29 2

BUILD_DEPENDS =		x11/gtk+2
@


1.14
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/01/02 17:12:21 landry Exp $
d6 1
a6 2
XFCE_VERSION =	0.2.0
REVISION =	0
@


1.13
log
@Winter cleanup of the Xfce ports:

- use LIBTOOL_FLAGS=--tag=disable-static to avoid building useless
  static libs.
- add a MODXFCE_PURGE_LA variable holding the list of dirs to purge from
  libtool archive useless files.
- add a MODXFCE4_post-install hook in xfce4.port.mk to purge the la files.
  This requires  bsd.port.mk r1.1201.
- remove --disable-linker-opts now that --as-needed seems to work fine
- fix WANTLIB (mostly adding harfbuzz icudata icule icuuc in lots of
  places)
- update PLISTs: remove @@comment'ed static/la files, redundant dirs

ok sthen@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/05/08 18:30:28 landry Exp $
a15 2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a16 1
PERMIT_PACKAGE_FTP=	Yes
@


1.12
log
@Remove REGRESS_DEPENDS on xfce-utils which is in the Attic now.
Spotted by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/05/08 17:21:21 espie Exp $
d7 1
d24 1
a24 1
		pcre z ffi
a26 2

CONFIGURE_ARGS +=	--disable-linker-opts
@


1.11
log
@if regress refers to non-existent ports, this BREAKS sqlports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2012/04/30 12:46:58 landry Exp $
a25 2
# regress tests needs the menu file provided by xfce-utils
# REGRESS_DEPENDS =	x11/xfce4/xfce-utils
@


1.10
log
@Update to gatcon 0.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/03/29 09:10:36 landry Exp $
d27 1
a27 1
REGRESS_DEPENDS =	x11/xfce4/xfce-utils
@


1.9
log
@Update to garcon 0.1.11.

Rolls in the education category icon fix, adds hw/personal categories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/02/20 09:09:32 landry Exp $
d6 1
a6 1
XFCE_VERSION =	0.1.11
@


1.8
log
@Add upstream commit url for reference/reminder to remove.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/02/19 21:39:31 landry Exp $
d6 1
a6 2
XFCE_VERSION =	0.1.9
REVISION =	1
a31 6

# http://git.xfce.org/xfce/garcon/commit/?id=6ddc4b984723e902f6903eb644856aae48ab3ed6
post-install:
	# fix icon name for education category
	perl -pi -e "s/applications-education/applications-science/" \
		${PREFIX}/share/desktop-directories/xfce-education.directory
@


1.7
log
@Fix icon name for education category in applications menu, problem
reported by Kirill Bychkov, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/10/14 11:37:24 jasper Exp $
d34 1
@


1.6
log
@Regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/09/16 21:01:24 landry Exp $
d7 1
a7 1
REVISION =	0
d33 5
@


1.5
log
@Bugfix update to garcon 0.1.9, now directly depends on libxfce4util. For
the list of bugfixes, see
http://mail.xfce.org/pipermail/xfce/2011-September/029145.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/09/16 12:29:17 espie Exp $
d7 1
d23 2
a24 1
WANTLIB =	xfce4util gio-2.0 gmodule-2.0 glib-2.0 gobject-2.0 gthread-2.0 pcre z
@


1.4
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/06/20 19:17:32 landry Exp $
d6 1
a6 2
XFCE_VERSION =	0.1.8
REVISION=	0
d21 2
a22 2
LIB_DEPENDS =	devel/glib2
WANTLIB =	gio-2.0 gmodule-2.0 glib-2.0 gobject-2.0 gthread-2.0 pcre z
@


1.3
log
@Update to garcon 0.1.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/04/17 10:34:06 landry Exp $
d7 1
@


1.2
log
@Update to garcon 0.1.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/01/18 19:55:53 landry Exp $
d6 1
a6 1
XFCE_VERSION =	0.1.7
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
XFCE_VERSION =	0.1.5
d27 2
@


1.1.1.1
log
@Import garcon 0.1.5

This is garcon, a freedesktop.org compliant menu implementation based
on GLib and GIO. It was started as a complete rewrite of the former
Xfce menu library called libxfce4menu, which, in contrast to garcon,
was lacking menu merging features essential for loading menus modified
with menu editors.

Installs the xfce-applications.menu file which was previously in
xfdesktop, hence @@conflict with xfdesktop-<4.7.0.
@
text
@@
