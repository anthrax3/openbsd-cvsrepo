head	1.2;
access;
symbols
	OPENBSD_4_5:1.1.0.4
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2009.04.09.20.30.16;	author landry;	state dead;
branches;
next	1.1;

1.1
date	2008.07.10.09.45.42;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to xfce4-wavelan 0.5.5.
As i took over upstream maintenance and merged our patches, let's remove them..
Tested on bwi/macppc and ral/i386.
@
text
@$OpenBSD: patch-panel-plugin_wavelan_c,v 1.1 2008/07/10 09:45:42 landry Exp $
--- panel-plugin/wavelan.c.orig	Wed Jan 10 21:23:05 2007
+++ panel-plugin/wavelan.c	Tue Jul  8 16:20:59 2008
@@@@ -219,9 +219,9 @@@@ wavelan_timer(gpointer data)
         wavelan_set_state(wavelan, STATE_LINK0);
 
       if (strlen(stats.ws_netname) > 0)
-        tip = g_strdup_printf("%d%% (%s)", stats.ws_quality, stats.ws_netname);
+        tip = g_strdup_printf("%s: %ddB at %ddBm", stats.ws_netname, stats.ws_quality, stats.ws_rate);
       else
-        tip = g_strdup_printf("%d%%", stats.ws_quality);
+        tip = g_strdup_printf("%ddB at %ddBm", stats.ws_quality, stats.ws_rate);
     }
   }
   else {
@


1.1
log
@Update to xfce4-wavelan 0.5.4, not BROKEN anymore.
Convert it to use x11/xfce4 module.
Add a patch to make it use our net80211 API instead of the deprecated wi
API. Patches will be integrated in next upstream release.

Thanks pea at raveland dot org for testing on i386/amd64 with various devices.

ok ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD$
@

