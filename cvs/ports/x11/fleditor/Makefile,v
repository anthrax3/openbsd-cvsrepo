head	1.28;
access;
symbols
	OPENBSD_6_0:1.28.0.2
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.27.0.2
	OPENBSD_5_9_BASE:1.27
	OPENBSD_5_8:1.27.0.4
	OPENBSD_5_8_BASE:1.27
	OPENBSD_5_7:1.26.0.8
	OPENBSD_5_7_BASE:1.26
	OPENBSD_5_6:1.26.0.6
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.26.0.4
	OPENBSD_5_5_BASE:1.26
	OPENBSD_5_4:1.26.0.2
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.25.0.2
	OPENBSD_5_3_BASE:1.25
	OPENBSD_5_2:1.24.0.8
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.24
	OPENBSD_5_1:1.24.0.6
	OPENBSD_5_0:1.24.0.4
	OPENBSD_5_0_BASE:1.24
	OPENBSD_4_9:1.24.0.2
	OPENBSD_4_9_BASE:1.24
	OPENBSD_4_8:1.21.0.2
	OPENBSD_4_8_BASE:1.21
	OPENBSD_4_7:1.19.0.2
	OPENBSD_4_7_BASE:1.19
	OPENBSD_4_6:1.18.0.8
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.6
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.4
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.16.0.4
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.16.0.2
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.15.0.4
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.15.0.2
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.12.0.14
	OPENBSD_3_8_BASE:1.12
	OPENBSD_3_7:1.12.0.12
	OPENBSD_3_7_BASE:1.12
	OPENBSD_3_6:1.12.0.10
	OPENBSD_3_6_BASE:1.12
	OPENBSD_3_5:1.12.0.8
	OPENBSD_3_5_BASE:1.12
	OPENBSD_3_4:1.12.0.6
	OPENBSD_3_4_BASE:1.12
	OPENBSD_3_3:1.12.0.4
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.12.0.2
	OPENBSD_3_2_BASE:1.12
	OPENBSD_3_1:1.9.0.2
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.6.0.2
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_9_BASE:1.3
	wilfried_20010402:1.1.1.1
	wilfried:1.1.1;
locks; strict;
comment	@# @;


1.28
date	2016.03.10.19.03.35;	author naddy;	state Exp;
branches;
next	1.27;
commitid	zxkO1iCGGRFmeYB6;

1.27
date	2015.03.16.18.07.58;	author naddy;	state Exp;
branches;
next	1.26;
commitid	IJdm3Zowcdkcxp5X;

1.26
date	2013.03.11.11.46.09;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2012.12.13.16.34.48;	author naddy;	state Exp;
branches;
next	1.24;

1.24
date	2010.11.22.08.36.56;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2010.10.24.21.15.32;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.09.22.12.48.23;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2010.07.30.06.58.58;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2010.07.06.15.37.46;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2009.09.06.10.46.25;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2008.01.04.18.38.52;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2007.09.15.20.04.19;	author merdely;	state Exp;
branches;
next	1.16;

1.16
date	2006.10.19.09.16.32;	author wilfried;	state Exp;
branches;
next	1.15;

1.15
date	2006.01.14.11.46.16;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2005.12.25.20.23.18;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2005.11.20.12.58.52;	author wilfried;	state Exp;
branches;
next	1.12;

1.12
date	2002.09.17.15.17.41;	author wilfried;	state Exp;
branches;
next	1.11;

1.11
date	2002.08.10.20.04.16;	author wilfried;	state Exp;
branches;
next	1.10;

1.10
date	2002.05.15.09.30.22;	author wilfried;	state Exp;
branches;
next	1.9;

1.9
date	2001.10.31.16.35.48;	author wilfried;	state Exp;
branches;
next	1.8;

1.8
date	2001.10.26.23.36.17;	author wilfried;	state Exp;
branches;
next	1.7;

1.7
date	2001.10.25.22.34.50;	author wilfried;	state Exp;
branches;
next	1.6;

1.6
date	2001.09.07.16.35.51;	author heko;	state Exp;
branches;
next	1.5;

1.5
date	2001.09.07.16.18.28;	author heko;	state Exp;
branches;
next	1.4;

1.4
date	2001.08.29.07.44.47;	author wilfried;	state Exp;
branches;
next	1.3;

1.3
date	2001.04.17.19.02.39;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.04.15.10.32.06;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2001.04.02.15.11.46;	author wilfried;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.04.02.15.11.46;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.28
log
@requires --enable-shared
remove NO_SHARED_LIBS
@
text
@# $OpenBSD: Makefile,v 1.27 2015/03/16 18:07:58 naddy Exp $

COMMENT=		text editor widget for FLTK

V=			0.4.5
DISTNAME=		fl_editor-${V}
PKGNAME=		fleditor-${V}
REVISION=		5

SHARED_LIBS=		fleditor 3.0
CATEGORIES=		x11

HOMEPAGE=		http://www.robertk.com/source/

# LPGL
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += m stdc++

MASTER_SITES=		http://www.robertk.com/source/fl_editor/
EXTRACT_SUFX=		.tgz

BUILD_DEPENDS=		${RUN_DEPENDS}
RUN_DEPENDS=		x11/fltk

TEST_TARGET=		test
CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		LDFLAGS="${LDFLAGS} -L${LOCALBASE}/lib"
CONFIGURE_ARGS+=	--enable-shared \
			--with-fltk=${LOCALBASE}
MAKE_ENV=		LIBfleditor_VERSION=${LIBfleditor_VERSION}

WRKDIST=		${WRKDIR}/fl_editor

TEST_IS_INTERACTIVE= x11

post-patch:
	@@rmdir ${WRKSRC}/obj

do-install:
	${INSTALL_DATA} ${WRKBUILD}/libfleditor.so* ${PREFIX}/lib
	${INSTALL_DATA} ${WRKBUILD}/libfleditor.a ${PREFIX}/lib
	${INSTALL_DATA_DIR} ${PREFIX}/include/FL
	${INSTALL_DATA} ${WRKSRC}/FL/*.[Hh] ${PREFIX}/include/FL

.include <bsd.port.mk>
@


1.27
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/11 11:46:09 espie Exp $
d29 1
a29 1
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
d41 1
a41 1
	@@${install_shared_frag}
a46 7

.if defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:L} == "yes"
install_shared_frag= :
.else
install_shared_frag=\
	${INSTALL_DATA} ${WRKBUILD}/libfleditor.so* ${PREFIX}/lib
.endif
@


1.26
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/12/13 16:34:48 naddy Exp $
d8 1
a8 1
REVISION=		4
@


1.25
log
@remove Peter Stromberg as maintainer:
"I haven't used any of those ports myself for a long time, so I think it's
best you remove me as maintainer."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/11/22 08:36:56 espie Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d26 1
a26 1
REGRESS_TARGET=		test
d35 1
a35 1
REGRESS_IS_INTERACTIVE= x11
@


1.24
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/10/24 21:15:32 ajacoutot Exp $
d8 1
a8 1
REVISION=		3
a13 2

MAINTAINER=		Peter Stromberg <wilfried@@openbsd.org>
@


1.23
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/09/22 12:48:23 ajacoutot Exp $
d29 1
a29 1
RUN_DEPENDS=		::x11/fltk
@


1.22
log
@Lowercase COMMENT, fix DEPENDS and regen PLIST.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/07/30 06:58:58 ajacoutot Exp $
a30 1
USE_X11=		Yes
@


1.21
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/07/06 15:37:46 espie Exp $
d3 1
a3 1
COMMENT=		Text Editor for FLTK
d8 1
a8 1
REVISION=		2
d23 2
d28 1
a28 1
LIB_DEPENDS=		::x11/fltk
@


1.20
log
@fix after recent LIB_DEPENDS change, make sure we have this as a RUN_DEPENDS,
as it makes no sense to install fleditor without fltk.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/01/04 18:38:52 espie Exp $
d7 3
a9 1
PKGNAME=		fleditor-${V}p2
@


1.19
log
@Make use of REGRESS_IS_INTERACTIVE=x11

ok jasper@@ sthen@@
@
text
@d25 1
@


1.18
log
@do the same thing with REGRESS_FLAGS as FAKE_FLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/09/15 20:04:19 merdely Exp $
d36 1
a36 3
# This regression test wants an X11 display
REGRESS_FLAGS=         DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
REGRESS_IS_INTERACTIVE= Yes
a39 7

pre-regress:
.for t in DISPLAY XAUTHORITY
.if !defined($t)
	@@echo "$t needs to be set to run regress"; exit 1
.endif
.endfor
@


1.17
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/10/19 09:16:32 wilfried Exp $
d37 1
a37 1
REGRESS_FLAGS+=         DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
@


1.16
log
@add -lz to LIBS, needed by regress to compile with libpng
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/01/14 11:46:16 espie Exp $
d3 1
a3 1
COMMENT=		'Text Editor for FLTK'
@


1.15
log
@remaining shared libs bumps for C++ libs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2005/12/25 20:23:18 naddy Exp $
d7 1
a7 1
PKGNAME=		fleditor-${V}p1
@


1.14
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2005/11/20 12:58:52 wilfried Exp $
d7 2
a8 2
PKGNAME=		fleditor-${V}p0
SHARED_LIBS=		fleditor 2.0
@


1.13
log
@fix extra libs + bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/09/17 15:17:41 wilfried Exp $
d8 1
d32 1
@


1.12
log
@update to fleditor-0.4.5
minor bugfix
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/08/10 20:04:16 wilfried Exp $
d7 1
a7 1
PKGNAME=		fleditor-${V}
d23 1
a23 1
LIB_DEPENDS=		fltk.1::x11/fltk
@


1.11
log
@Update to fleditor-0.4.4 (bugfix release)

+  Update to work with FLTK 1.1 and latest 2.x CVS.
+  Added workaround for strange focus behaviour when scrolling with
   the scrollbar.  The text widget gets an unfocus when the scrollbar
   is clicked, but then when you click back on the text, instead
   of it getting a focus event, it gets another unfocus.  This makes
   the cursor remain invisible when it shouldn't.
*  Fixes to scrollbar handling.
*  Fixed status panel on Fl_FancyEditor (positioning problem).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/05/15 09:30:22 wilfried Exp $
d5 1
a5 1
V=			0.4.4
@


1.10
log
@add licence comment, clean up MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/10/31 16:35:48 wilfried Exp $
d5 3
a7 2
DISTNAME=		fl_editor-0.4.3
PKGNAME=		fleditor-0.4.3
a8 1
NEED_VERSION=		1.482
d23 1
a23 1
LIB_DEPENDS=		fltk.::x11/fltk
d41 7
a61 1

@


1.9
log
@remove bogus depend
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/10/26 23:36:17 wilfried Exp $
d14 1
@


1.8
log
@update to fleditor-0.4.3

*  Will reject attempts to LoadFrom(char *) with a null pointer.

*  Now puts a null byte in the tail end of the buffer during a
   SaveTo(char *) even if the editor buffers are empty.  Will
   refuse to save to a null pointer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/10/25 22:34:50 wilfried Exp $
a22 1
BUILD_DEPENDS=		::x11/flvw
@


1.7
log
@define regress tests
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/09/07 16:35:51 heko Exp $
d5 2
a6 2
DISTNAME=		fl_editor-0.4.2
PKGNAME=		fleditor-0.4.2
@


1.6
log
@_ namespace is reserved for bsd.port.mk; use install_shared_frag
without the leading _. Spotted by espie@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/04/17 19:02:39 naddy Exp $
d8 1
a8 1
NEED_VERSION=		1.448
d23 1
a23 1
BUILD_DEPENDS=		${LOCALBASE}/lib/libflvw.a::x11/flvw
d26 1
d33 4
@


1.5
log
@o NO_SHARED_LIBS only gets defined after including bsd.port.mk
  (thanks to naddy@@ for pointing this out in one of my ports).
  Define a _install_shared_frag instead after including
  bsd.port.mk.
wilfried@@ ok
@
text
@d37 1
a37 1
	@@${_install_shared_frag}
d45 1
a45 1
_install_shared_frag= :
d47 1
a47 1
_install_shared_frag=\
@


1.4
log
@update to fleditor-0.4.2 (bugfix release)

*  No longer writes extraneous null byte when saving to file.

*  Added GetTextBufferSize() call on editorengine and Fl_Editor that returns
   the number of characters that should be allocated in order to save the
   text to a buffer.  The CharacterCount() method returns only characters
   actually presently in the buffer, while this new method considers the line
   ending characters that would be added when saving.
@
text
@d37 1
a38 3
.if !defined(NO_SHARED_LIBS)
	${INSTALL_DATA} ${WRKBUILD}/libfleditor.so* ${PREFIX}/lib
.endif
d43 8
@


1.3
log
@Fix LIB_DEPENDS to make this build again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/04/15 10:32:06 wilfried Exp $
d5 2
a6 2
DISTNAME=		fl_editor-0.4.1
PKGNAME=		fleditor-0.4.1
d8 1
a8 1
NEED_VERSION=		1.380
d19 1
a19 1
MASTER_SITES=		ftp://ftp.robertk.com/pub/Source/fl_editor/
d30 2
@


1.2
log
@- update to 0.4.1
- change fltk depending
- create shared library
- remove unused opengl test
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/04/02 15:11:46 wilfried Exp $
d22 1
a22 1
LIB_DEPENDS=		fltk::x11/fltk
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: $
d5 2
a6 2
DISTNAME=		fl_editor-0.4
PKGNAME=		fleditor-0.4
d22 2
a23 2
BUILD_DEPENDS=		${LOCALBASE}/lib/libfltk.a::x11/fltk \
			${LOCALBASE}/lib/libflvw.a::x11/flvw
d28 2
d36 3
@


1.1.1.1
log
@Import of fl_editor-0.4

A word-wrapping text editor widget for FLTK.  Supports CUA- style
editing keys, automatic scrollbar, load and save to file or buffer,
and more.
@
text
@@
