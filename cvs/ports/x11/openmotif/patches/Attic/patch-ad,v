head	1.2;
access;
symbols
	MATT_2000-JUL-08:1.1.1.1 MATT:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2000.08.10.01.40.41;	author matt;	state dead;
branches;
next	1.1;

1.1
date	2000.07.08.14.22.02;	author matt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.07.08.14.22.02;	author matt;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- consolidate pre-build steps into post-patch
- eliminate XCONFIGF in Makefile to prevent multiple evaluations
- point mwm at PROJECTROOT (i.e. /usr/local) instead of XPROJECTROOT
  (i.e. /usr/X11R6) to find lib/X11/system.mwmrc
- tblize manpages
- break up patches and rename to match current convention
- prettify Makefile
@
text
@	This patch should go away as soon as BSD systems implement
	wide character support.
--- lib/Xm/TextF.c.orig	Wed May  3 02:12:42 2000
+++ lib/Xm/TextF.c	Thu Jun  1 00:36:55 2000
@@@@ -1211,6 +1211,71 @@@@
   TextFieldPreferredValue,
 };
 
+#if defined(__FreeBSD__) || defined(__OpenBSD__) || defined (__NetBSD__)
+/*-
+ * *BSD does not have wc*() functions yet.
+ * Eventually, this patch should go away in favor of system implementaion
+ * of wide character support.
+ * This is a quick hack based on the description of the following functions:
+ *  wcslen(), wcscpy(), wcschr(), wcsncat(), wcscat()
+ * In fact, these are copied off from src/lib/libc/string with appropriate
+ * modification.
+ */
+static size_t
+wcslen(const wchar_t *s)
+{
+    register wchar_t *str;
+
+    for(str = s; *str; str++);
+    return(str-s);
+}
+static wchar_t *
+wcscpy(wchar_t *s1, const wchar_t *s2)
+{
+    wchar_t *s = s1;
+
+    for (; *s1 = *s2; s1++, s2++)
+    return(s);
+}
+static wchar_t *
+wcschr(const wchar_t *s, wchar_t c)
+{
+    for(;; s++) {
+	if (*s == c)
+	    return((wchar_t *)s);
+	if (!*s)
+	    return((wchar_t *)NULL);
+    }
+}
+static wchar_t *
+wcscat(wchar_t *s1, const wchar_t *s2)
+{
+    wchar_t *s = s1;
+
+    for (; *s1; s1++);
+    while (*s1++ = *s2++);
+    return(s);
+}
+static wchar_t *
+wcsncat(wchar_t *s1, const wchar_t *s2, size_t n)
+{
+    if (n != 0) {
+	register wchar_t *d = s1;
+	register wchar_t *s = s2;
+	while (*d)
+	    d++;
+	do {
+	    if ((*d = *s++) == 0)
+		break;
+	    d++;
+	} while (--n != 0);
+	*d = 0;
+    }
+
+    return(s1);
+}
+#endif /*defined(__FreeBSD__) || defined(__OpenBSD__) || defined (__NetBSD__)*/
+
 static void 
 ClassInitialize(void)
 {
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@New port: openmotif; maintainer: smcho@@tsp.korea.ac.kr
@
text
@@
