head	1.3;
access;
symbols
	OPENBSD_5_9:1.2.0.24
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.26
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.22
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.20
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.18
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.16
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.14
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.12
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.10
	OPENBSD_5_0:1.2.0.8
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.6
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.4
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2016.05.05.19.55.11;	author naddy;	state dead;
branches;
next	1.2;
commitid	5Bb99lDZs4iX5nbL;

1.2
date	2009.12.14.18.03.36;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2009.12.09.23.21.46;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@remove x11/openmotif, replaced by x11/motif
@
text
@$OpenBSD: patch-config_cf_host_def,v 1.2 2009/12/14 18:03:36 jasper Exp $
--- config/cf/host.def.orig	Mon Jan  7 19:10:03 2002
+++ config/cf/host.def	Thu Dec 10 00:20:05 2009
@@@@ -1,13 +1,128 @@@@
 #define TopLevelProject         Motif
-#define ProjectRoot             /usr/X11R6
+#define ProjectRoot             ${PREFIX}
 #define X11ProjectRoot          /usr/X11R6
-#define VirtualBindingsPath     /usr/X11R6/lib/X11/bindings
+#define VirtualBindingsPath     ${PREFIX}/lib/X11/bindings
 #define ImportX11               YES
-#define USE_BYACC               YES
 #define NoMessageCatalog        YES
 #define ForceNormalLib          YES
 #define DebugLibXm              NO
 #define DebugLibMrm             NO
 #define DebugLibUil             NO
-#define LexLib                  -lfl
 #define ExtraWidgets            YES
+ 
+#define DependCmd /usr/X11R6/bin/makedepend
+#define ExtraLoadOptions -L$(BUILDLIBDIR)
+
+/*
+ * install man page after processing through eqn and tbl
+ */
+#define InstallMotifManPage(file,section)				@@@@\
+all:: file.section.new							@@@@\
+									@@@@\
+file.section.new:: file.section						@@@@\
+	@@if [ -f file.section ]; then \					@@@@\
+		cat file.section | $(NEQN) | $(TBL) > file.section.new; \	@@@@\
+	fi								@@@@\
+									@@@@\
+install.man::								@@@@\
+	MakeDir($(DESTDIR)$(MANDIR))					@@@@\
+	-@@if [ -f file.section.new ]; then \				@@@@\
+	$(INSTALL) -c $(INSTMANFLAGS) file.section.new $(DESTDIR)$(MANDIR)/file.$(MANSUFFIX); \		@@@@\
+	fi								@@@@\
+									@@@@\
+clean::									@@@@\
++	RemoveFile(file.section.new)
+
+/*
+ * install unformated man page
+ */
+#define InstallManPage(file,destdir)					@@@@\
+InstallNamedTarget(install.man,file.man,$(INSTMANFLAGS),destdir,file.$(MANSUFFIX))
+
+/*
+ * don't make it dependent on 'bootstrap' imake.  we already have our own.
+ */
+#define MakeMakeSubdirs(dirs,target)					@@@@\
+$(ONESUBDIR)/Makefile:							@@@@\
+	@@MakeFlagsToShellFlags(n,executeit="no"); \			@@@@\
+	cd $(ONESUBDIR) && \						@@@@\
+	if [ "$$executeit" != "no" ]; then \				@@@@\
+		$(IMAKE) -I$(IMAKEPREFIX)$(IRULESRC) $(IMAKE_DEFINES) -DTOPDIR=$(IMAKETOP) -DCURDIR=$(ONECURDIR)$(ONESUBDIR); \ @@@@\
+	fi;								@@@@\
+									@@@@\
+target::								@@@@\
+	-@@MakeFlagsToShellFlags(ik,set +e); \				@@@@\
+	MakeFlagsToShellFlags(n,executeit="no"); \			@@@@\
+	for i in dirs ;\						@@@@\
+	do \								@@@@\
+		case "$(CURRENT_DIR)" in \				@@@@\
+		.) curdir= ;; \						@@@@\
+		*) curdir=$(CURRENT_DIR)/ ;; \				@@@@\
+		esac; \							@@@@\
+		echo "making Makefiles in $$curdir$$i..."; \		@@@@\
+		itmp=`echo $$i | sed -e 's;^\./;;g' -e 's;/\./;/;g'`; \	@@@@\
+		curtmp="$(CURRENT_DIR)" \				@@@@\
+		toptmp=""; \						@@@@\
+		case "$$itmp" in \					@@@@\
+		    ../?*) \ 						@@@@\
+			while echo "$$itmp" | grep '^\.\./' > /dev/null;\	@@@@\
+			  do \						@@@@\
+			     toptmp="/`basename $$curtmp`$$toptmp"; \	@@@@\
+			     curtmp="`dirname $$curtmp`"; \		@@@@\
+			     itmp="`echo $$itmp | sed 's;\.\./;;'`"; \	@@@@\
+			  done \					@@@@\
+		    ;; \						@@@@\
+		esac; \							@@@@\
+		case "$$itmp" in \					@@@@\
+		*/?*/?*/?*/?*)	newtop=../../../../..;; \		@@@@\
+		*/?*/?*/?*)	newtop=../../../..;; \			@@@@\
+		*/?*/?*)	newtop=../../..;; \			@@@@\
+		*/?*)		newtop=../..;; \			@@@@\
+		*)		newtop=..;; \				@@@@\
+		esac; \							@@@@\
+		newtop="$$newtop$$toptmp"; \				@@@@\
+		case "$(TOP)" in \					@@@@\
+		/?*) imaketop=$(TOP) \					@@@@\
+		     imakeprefix= ;; \					@@@@\
+		.) imaketop=$$newtop \					@@@@\
+		   imakeprefix=$$newtop/ ;; \				@@@@\
+		*) imaketop=$$newtop/$(TOP) \				@@@@\
+		   imakeprefix=$$newtop/ ;; \				@@@@\
+		esac; \							@@@@\
+		RemoveFile($$i/Makefile.bak); \				@@@@\
+		if [ -f $$i/Makefile ]; then \				@@@@\
+			echo "	$(MV) Makefile Makefile.bak"; \		@@@@\
+			if [ "$$executeit" != "no" ]; then \		@@@@\
+				$(MV) $$i/Makefile $$i/Makefile.bak; \	@@@@\
+			fi; \						@@@@\
+		fi; \							@@@@\
+		$(MAKE) $(MFLAGS) $(MAKE_OPTS) ONESUBDIR=$$i ONECURDIR=$$curdir IMAKETOP=$$imaketop IMAKEPREFIX=$$imakeprefix $$i/Makefile; \	@@@@\
+		if [ -d $$i ] ; then \					@@@@\
+			cd $$i; \					@@@@\
+			$(MAKE) $(MFLAGS) Makefiles; \			@@@@\
+			cd $$newtop; \					@@@@\
+		else \							@@@@\
+			exit 1; \					@@@@\
+		fi; \							@@@@\
+	done
+#endif /* BeforeVendorCF */
+
+#ifdef AfterVendorCF
+#ifndef ImakeCmd
+/*
+ * This should not happen.  But in case it really happens, we need this 
+ * definition otherwise we are forced to build 'bootstrp' imake.
+ */
+# define ImakeCmd /usr/X11R6/bin/imake -DPorts
+#endif
+
+/*
+ * Do we install preformatted man page?
+ */
+#undef ManSourcePath
+#define ManSourcePath $(MANPATH)/man
+
+#undef ConfigDir
+#define ConfigDir ${PREFIX}/lib/X11/config
+
+#endif /* AfterVendorCF */
@


1.2
log
@- update openmotif to 2.3.2
- minor tweaks to the port
@
text
@d1 1
a1 1
$OpenBSD: patch-config_cf_host_def,v 1.1 2009/12/09 23:21:46 jasper Exp $
@


1.1
log
@- rename and regen these patches
@
text
@d1 1
a1 1
$OpenBSD$
d7 1
a7 1
+#define ProjectRoot             /usr/local
d10 1
a10 1
+#define VirtualBindingsPath     /usr/local/lib/X11/bindings
d134 1
a134 1
+#define ConfigDir /usr/local/lib/X11/config
@

