head	1.3;
access;
symbols
	OPENBSD_4_1:1.2.0.26
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.24
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.22
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.20
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.18
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.16
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.14
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.12
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.10
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.8
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.6
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.4
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.1.0.4
	OPENBSD_2_8_BASE:1.1
	OPENBSD_2_7:1.1.0.2;
locks; strict;
comment	@ * @;


1.3
date	2007.07.18.21.41.05;	author mbalmer;	state dead;
branches;
next	1.2;

1.2
date	2001.01.03.00.02.57;	author matt;	state Exp;
branches;
next	1.1;

1.1
date	2000.08.10.01.40.42;	author matt;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update OpenMotif to version 2.3.0.  This brings the additions of OpenMotif
2.2 and the new support for antialiased fonts (using Xft) and UTF-8.

I take maintainership of OpenMotif with this update.

ok simon@@, kurt@@, jasper@@
@
text
@--- lib/Xm/TextF.c.orig	Mon Nov 20 13:42:59 2000
+++ lib/Xm/TextF.c	Mon Nov 20 17:28:52 2000
@@@@ -84,7 +84,7 @@@@
 #include <Xm/PrintSP.h>         /* for XmIsPrintShell */
 
 
-#if defined(__FreeBSD__)
+#if defined(__FreeBSD__) || defined(__OpenBSD__)
 /*
  * Modification by Integrated Computer Solutions, Inc.  May 2000
  *
@


1.2
log
@From maintainer (smcho@@tsp.korea.ac.kr):
- bring in latest patches
- added subpackages for demos and debuglibs
- only install Motif.rules and Motif.tmpl in config
- don't build config tools that OpenBSD already has
@
text
@@


1.1
log
@- consolidate pre-build steps into post-patch
- eliminate XCONFIGF in Makefile to prevent multiple evaluations
- point mwm at PROJECTROOT (i.e. /usr/local) instead of XPROJECTROOT
  (i.e. /usr/X11R6) to find lib/X11/system.mwmrc
- tblize manpages
- break up patches and rename to match current convention
- prettify Makefile
@
text
@d1 4
a4 5
--- lib/Xm/TextF.c.orig	Wed May  3 05:12:42 2000
+++ lib/Xm/TextF.c	Wed Aug  9 19:29:43 2000
@@@@ -1211,6 +1211,71 @@@@
   TextFieldPreferredValue,
 };
d6 6
a11 68
+#if defined(__FreeBSD__) || defined(__OpenBSD__) || defined (__NetBSD__)
+/*-
+ * *BSD does not have wc*() functions yet.
+ * Eventually, this patch should go away in favor of system implementaion
+ * of wide character support.
+ * This is a quick hack based on the description of the following functions:
+ *  wcslen(), wcscpy(), wcschr(), wcsncat(), wcscat()
+ * In fact, these are copied off from src/lib/libc/string with appropriate
+ * modification.
+ */
+static size_t
+wcslen(const wchar_t *s)
+{
+    register wchar_t *str;
+
+    for(str = s; *str; str++);
+    return(str-s);
+}
+static wchar_t *
+wcscpy(wchar_t *s1, const wchar_t *s2)
+{
+    wchar_t *s = s1;
+
+    for (; *s1 = *s2; s1++, s2++)
+    return(s);
+}
+static wchar_t *
+wcschr(const wchar_t *s, wchar_t c)
+{
+    for(;; s++) {
+	if (*s == c)
+	    return((wchar_t *)s);
+	if (!*s)
+	    return((wchar_t *)NULL);
+    }
+}
+static wchar_t *
+wcscat(wchar_t *s1, const wchar_t *s2)
+{
+    wchar_t *s = s1;
+
+    for (; *s1; s1++);
+    while (*s1++ = *s2++);
+    return(s);
+}
+static wchar_t *
+wcsncat(wchar_t *s1, const wchar_t *s2, size_t n)
+{
+    if (n != 0) {
+	register wchar_t *d = s1;
+	register wchar_t *s = s2;
+	while (*d)
+	    d++;
+	do {
+	    if ((*d = *s++) == 0)
+		break;
+	    d++;
+	} while (--n != 0);
+	*d = 0;
+    }
+
+    return(s1);
+}
+#endif /*defined(__FreeBSD__) || defined(__OpenBSD__) || defined (__NetBSD__)*/
+
 static void 
 ClassInitialize(void)
 {
@

