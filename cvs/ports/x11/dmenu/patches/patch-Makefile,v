head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.6
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.4
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.2.0.16
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.12
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.10
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.8
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.6
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.3
date	2015.11.11.09.23.20;	author jung;	state Exp;
branches;
next	1.2;
commitid	i33mg090QVeQm87v;

1.2
date	2012.05.01.04.40.03;	author gsoares;	state Exp;
branches;
next	1.1;

1.1
date	2011.08.18.14.13.28;	author gsoares;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update dmenu to 4.6

ok sthen kili
@
text
@$OpenBSD: patch-Makefile,v 1.2 2012/05/01 04:40:03 gsoares Exp $
--- Makefile.orig	Sun Nov  8 23:42:21 2015
+++ Makefile	Tue Nov 10 20:36:13 2015
@@@@ -15,8 +15,7 @@@@ options:
 	@@echo "CC       = ${CC}"
 
 .c.o:
-	@@echo CC $<
-	@@${CC} -c ${CFLAGS} $<
+	${CC} -c ${CFLAGS} $<
 
 config.h:
 	@@echo creating $@@ from config.def.h
@@@@ -25,12 +24,10 @@@@ config.h:
 ${OBJ}: arg.h config.h config.mk drw.h
 
 dmenu: dmenu.o drw.o util.o
-	@@echo CC -o $@@
-	@@${CC} -o $@@ dmenu.o drw.o util.o ${LDFLAGS}
+	${CC} -o $@@ dmenu.o drw.o util.o ${LDFLAGS}
 
 stest: stest.o
-	@@echo CC -o $@@
-	@@${CC} -o $@@ stest.o ${LDFLAGS}
+	${CC} -o $@@ stest.o ${LDFLAGS}
 
 clean:
 	@@echo cleaning
@@@@ -47,19 +44,14 @@@@ dist: clean
 	@@rm -rf dmenu-${VERSION}
 
 install: all
-	@@echo installing executables to ${DESTDIR}${PREFIX}/bin
-	@@mkdir -p ${DESTDIR}${PREFIX}/bin
-	@@cp -f dmenu dmenu_path dmenu_run stest ${DESTDIR}${PREFIX}/bin
-	@@chmod 755 ${DESTDIR}${PREFIX}/bin/dmenu
-	@@chmod 755 ${DESTDIR}${PREFIX}/bin/dmenu_path
-	@@chmod 755 ${DESTDIR}${PREFIX}/bin/dmenu_run
-	@@chmod 755 ${DESTDIR}${PREFIX}/bin/stest
-	@@echo installing manual pages to ${DESTDIR}${MANPREFIX}/man1
-	@@mkdir -p ${DESTDIR}${MANPREFIX}/man1
-	@@sed "s/VERSION/${VERSION}/g" < dmenu.1 > ${DESTDIR}${MANPREFIX}/man1/dmenu.1
-	@@sed "s/VERSION/${VERSION}/g" < stest.1 > ${DESTDIR}${MANPREFIX}/man1/stest.1
-	@@chmod 644 ${DESTDIR}${MANPREFIX}/man1/dmenu.1
-	@@chmod 644 ${DESTDIR}${MANPREFIX}/man1/stest.1
+	${BSD_INSTALL_PROGRAM_DIR} ${DESTDIR}${PREFIX}/bin
+	${BSD_INSTALL_PROGRAM} dmenu dmenu_path dmenu_run stest ${DESTDIR}${PREFIX}/bin
+	${BSD_INSTALL_MAN_DIR} ${DESTDIR}${MANPREFIX}/man1
+	sed "s/VERSION/${VERSION}/g" < dmenu.1 > dmenu.1.tmp
+	sed "s/VERSION/${VERSION}/g" < stest.1 > stest.1.tmp
+	mv dmenu.1.tmp dmenu.1
+	mv stest.1.tmp stest.1
+	${BSD_INSTALL_MAN} dmenu.1 stest.1 ${DESTDIR}${MANPREFIX}/man1
 
 uninstall:
 	@@echo removing executables from ${DESTDIR}${PREFIX}/bin
@


1.2
log
@update to 4.5; (maintainer timeout)

* Detects monitor based on input focus, not just pointer location.
* Token matching instead of just substrings.
* XIM composition support.
* Paste from clipboard with C-S-y.
* stest(1) replaces lsx(1).
* M-[Gghjkl] restored for vi-like navigation.
* And a couple of bug fixes.

works for Daniel Bolgheroni <dbolgheroni at devio.us>, gonzalo@@ (thanks!)

OK sthen@@ dcoppa@@
@
text
@d1 5
a5 4
$OpenBSD: patch-Makefile,v 1.1 2011/08/18 14:13:28 gsoares Exp $
--- Makefile.orig	Tue Apr  3 12:17:59 2012
+++ Makefile	Tue Apr  3 12:19:29 2012
@@@@ -16,17 +16,17 @@@@ options:
d8 13
a20 10
 	@@echo CC -c $<
-	@@${CC} -c $< ${CFLAGS}
+	${CC} -c $< ${CFLAGS}
 
 ${OBJ}: config.mk draw.h
 
 dmenu: dmenu.o draw.o
 	@@echo CC -o $@@
-	@@${CC} -o $@@ dmenu.o draw.o ${LDFLAGS}
+	${CC} -o $@@ dmenu.o draw.o ${LDFLAGS}
d23 1
a23 1
 	@@echo CC -o $@@
d29 28
@


1.1
log
@update x11/dmenu to 4.4

tweaks/OK sthen@@ jim@@(MAINTAINER)
@
text
@d1 3
a3 6
$OpenBSD$

dmenu: lsx conflicts with comms/lrzsz

--- Makefile.orig	Tue Jul 19 17:31:28 2011
+++ Makefile	Tue Jul 26 14:51:15 2011
d11 1
a11 1
 ${OBJ}: config.mk
d18 1
a18 1
 lsx: lsx.o
d20 2
a21 2
-	@@${CC} -o $@@ lsx.o ${LDFLAGS}
+	${CC} -o $@@ lsx.o ${LDFLAGS}
a24 22
@@@@ -43,16 +43,17 @@@@ dist: clean
 install: all
 	@@echo installing executables to ${DESTDIR}${PREFIX}/bin
 	@@mkdir -p ${DESTDIR}${PREFIX}/bin
-	@@cp -f dmenu dmenu_run lsx ${DESTDIR}${PREFIX}/bin
+	@@cp -f dmenu dmenu_run ${DESTDIR}${PREFIX}/bin
+	@@cp -f lsx ${DESTDIR}${PREFIX}/bin/dmenu_lsx
 	@@chmod 755 ${DESTDIR}${PREFIX}/bin/dmenu
 	@@chmod 755 ${DESTDIR}${PREFIX}/bin/dmenu_run
-	@@chmod 755 ${DESTDIR}${PREFIX}/bin/lsx
+	@@chmod 755 ${DESTDIR}${PREFIX}/bin/dmenu_lsx
 	@@echo installing manual pages to ${DESTDIR}${MANPREFIX}/man1
 	@@mkdir -p ${DESTDIR}${MANPREFIX}/man1
 	@@sed "s/VERSION/${VERSION}/g" < dmenu.1 > ${DESTDIR}${MANPREFIX}/man1/dmenu.1
-	@@sed "s/VERSION/${VERSION}/g" < lsx.1 > ${DESTDIR}${MANPREFIX}/man1/lsx.1
+	@@sed "s/VERSION/${VERSION}/g" < lsx.1 > ${DESTDIR}${MANPREFIX}/man1/dmenu_lsx.1
 	@@chmod 644 ${DESTDIR}${MANPREFIX}/man1/dmenu.1
-	@@chmod 644 ${DESTDIR}${MANPREFIX}/man1/lsx.1
+	@@chmod 644 ${DESTDIR}${MANPREFIX}/man1/dmenu_lsx.1
 
 uninstall:
 	@@echo removing executables from ${DESTDIR}${PREFIX}/bin
@

