head	1.25;
access;
symbols
	OPENBSD_5_0:1.23.0.4
	OPENBSD_5_0_BASE:1.23
	OPENBSD_4_9:1.23.0.2
	OPENBSD_4_9_BASE:1.23
	OPENBSD_4_8:1.21.0.2
	OPENBSD_4_8_BASE:1.21
	OPENBSD_4_7:1.19.0.10
	OPENBSD_4_7_BASE:1.19
	OPENBSD_4_6:1.19.0.8
	OPENBSD_4_6_BASE:1.19
	OPENBSD_4_5:1.19.0.6
	OPENBSD_4_5_BASE:1.19
	OPENBSD_4_4:1.19.0.4
	OPENBSD_4_4_BASE:1.19
	OPENBSD_4_3:1.19.0.2
	OPENBSD_4_3_BASE:1.19
	OPENBSD_4_2:1.17.0.8
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.17.0.6
	OPENBSD_4_1_BASE:1.17
	OPENBSD_4_0:1.17.0.4
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.17.0.2
	OPENBSD_3_9_BASE:1.17
	OPENBSD_3_8:1.16.0.2
	OPENBSD_3_8_BASE:1.16
	OPENBSD_3_7:1.15.0.2
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.14.0.4
	OPENBSD_3_6_BASE:1.14
	OPENBSD_3_5:1.14.0.2
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.13.0.4
	OPENBSD_3_4_BASE:1.13
	OPENBSD_3_3:1.13.0.2
	OPENBSD_3_3_BASE:1.13
	OPENBSD_3_2:1.12.0.2
	OPENBSD_3_2_BASE:1.12
	OPENBSD_3_1:1.11.0.2
	OPENBSD_3_1_BASE:1.11
	OPENBSD_3_0:1.10.0.2
	OPENBSD_3_0_BASE:1.10
	OPENBSD_2_9_TRACKING_SWITCH:1.9
	OPENBSD_2_9:1.8.0.4
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_8:1.8.0.2
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.5.0.2
	OPENBSD_2_7_BASE:1.5
	XVIEW_3_2_1:1.1.1.1
	XVIEW:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2011.11.15.21.40.46;	author jasper;	state dead;
branches;
next	1.24;

1.24
date	2011.11.13.21.30.05;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2010.11.22.08.37.06;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.10.19.08.14.01;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.08.06.06.17.10;	author dcoppa;	state Exp;
branches;
next	1.20;

1.20
date	2010.07.30.06.59.02;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2008.01.04.17.48.38;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2007.09.15.20.04.29;	author merdely;	state Exp;
branches;
next	1.17;

1.17
date	2006.01.01.20.57.03;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2005.04.18.11.48.20;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2004.12.20.14.47.42;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2003.10.08.17.13.19;	author sturm;	state Exp;
branches;
next	1.13;

1.13
date	2002.10.29.19.49.00;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2002.04.24.21.34.48;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2002.03.21.21.25.57;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2001.09.19.16.03.10;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2001.05.06.04.41.46;	author lebel;	state Exp;
branches;
next	1.8;

1.8
date	2000.07.16.06.36.15;	author turan;	state Exp;
branches;
next	1.7;

1.7
date	2000.07.04.02.17.56;	author krw;	state Exp;
branches;
next	1.6;

1.6
date	2000.06.20.17.05.08;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2000.04.04.21.17.22;	author espie;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2000.04.04.15.10.38;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.02.23.54.00;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.02.22.43.11;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2000.04.02.15.25.13;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.02.15.25.13;	author espie;	state Exp;
branches;
next	;

1.5.2.1
date	2000.09.15.05.26.14;	author marc;	state Exp;
branches;
next	;


desc
@@


1.25
log
@remove xview and ports using it; speaking of old unmaintained crufty toolkits..

prompted by naddy@@
ok sthen@@ wub@@
@
text
@# $OpenBSD: Makefile,v 1.24 2011/11/13 21:30:05 naddy Exp $

COMMENT=	OpenLook Toolkit libs, includes, and man pages

PKGNAME=	xview-lib-${XVIEW_VERSION}
REVISION=	3
SHARED_LIBS=	olgx	3.2 \
		xview	3.2
EXTRACT_ONLY=	
CATEGORIES=	x11

BUILD_DEPENDS=	x11/xview/config x11/xview/config:build

post-patch:
	ln -s ${WRKDIR}/x11/xview/config/${DISTNAME} ${WRKDIST}

CONFIGURE_STYLE=imake
MAKE_ENV=	IMAKEINCLUDE=-I${LOCALBASE}/lib/X11/config
MAKE_FLAGS=	SOOLGXREV=${LIBolgx_VERSION} \
		SOXVIEWREV=${LIBxview_VERSION}
USE_GROFF =	Yes

NO_REGRESS=	Yes

post-install:
	mv ${PREFIX}/man/cat1/xview.0 ${PREFIX}/man/cat7/xview.0

.include <bsd.port.mk>
@


1.24
log
@don't use union wait; more or less from FreeBSD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/11/22 08:37:06 espie Exp $
@


1.23
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/10/19 08:14:01 espie Exp $
d6 1
a6 1
REVISION=	2
@


1.22
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/08/06 06:17:10 dcoppa Exp $
d12 1
a12 1
BUILD_DEPENDS=	::x11/xview/config ::x11/xview/config:build
@


1.21
log
@Unbreak misc/calentool:

Remove a conflicting malloc declaration

In xview-lib, use XAllocIDs instead of several calls to XAllocID
that lead to segfaults with newer libX11

At least it runs now...

OK naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/07/30 06:59:02 ajacoutot Exp $
d21 1
@


1.20
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/01/04 17:48:38 espie Exp $
d6 1
a6 1
REVISION=	1
@


1.19
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/09/15 20:04:29 merdely Exp $
d5 2
a6 1
PKGNAME=	xview-lib-${XVIEW_VERSION}p1
@


1.18
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/01/01 20:57:03 naddy Exp $
a19 1
FAKE_FLAGS=	${DESTDIRNAME}=${WRKINST} ${MAKE_FLAGS}
@


1.17
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2005/04/18 11:48:20 espie Exp $
d3 1
a3 1
COMMENT=	"OpenLook Toolkit libs, includes, and man pages"
@


1.16
log
@prepare xview for libc changes.
xview is abusing FILE, by making its own in order to coerce vfscanf to
give it stuff it shouldn't.

This is absolutely awful code. The clean way would be to duplicate the
vfscanf code there.  But hey, C doesn't have stringstreams, so it must
suffer.

Fix independently reinvented, looks a lot like NetBSD's.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/12/20 14:47:42 espie Exp $
d6 2
d18 3
@


1.15
log
@remove conflict
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2003/10/08 17:13:19 sturm Exp $
d5 1
a5 1
PKGNAME=	xview-lib-${XVIEW_VERSION}p0
@


1.14
log
@first bunch of license cleanup, some discussions about interpretation
during the release with pval@@

other categories will follow once they are finished
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/10/29 19:49:00 naddy Exp $
d5 1
a5 1
PKGNAME=	xview-lib-${XVIEW_VERSION}
@


1.13
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/04/24 21:34:48 espie Exp $
a7 5

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.12
log
@Adjust ports with non-package/install dependencies for the new mechanism.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/03/21 21:25:57 espie Exp $
a7 1
NEED_VERSION=	1.525
d21 2
@


1.11
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/09/19 16:03:10 espie Exp $
d8 1
a8 1
NEED_VERSION=	1.515
d17 3
a19 4
post-extract:
	mkdir -p ${WRKDIST}
	lndir `cd ${PORTSDIR}/x11/xview/config && make show=WRKDIST` ${WRKDIST}
	
@


1.10
log
@Update dependencies (kill first part when needed).

Update japanese/README... 2.4 is looong past.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/05/06 04:41:46 lebel Exp $
d8 1
a8 1
NEED_VERSION=	1.458
@


1.9
log
@x11: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/07/16 06:36:15 turan Exp $
d8 1
a8 1
NEED_VERSION=	1.402
d15 1
a15 2
BUILD_DEPENDS=	${LOCALBASE}/lib/X11/config/XView.cf::x11/xview/config \
		/nonexistent::x11/xview/config:build
d19 1
a19 1
	lndir `cd ${PORTSDIR}/x11/xview/config && make show VARNAME=WRKDIST` ${WRKDIST}
@


1.8
log
@license, from ian@@darwinsys.com
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.7 2000/07/04 02:17:56 krw Exp $
d8 1
a8 1
NEED_VERSION=	1.310
@


1.7
log
@Change PFRAG.shared ldconfig invocation(s) to
DYNLIBDIR() invocations.

Bump NEED_VERSION to 1.310 so DYNLIBDIR() works.

As requested by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/06/20 17:05:08 espie Exp $
d7 5
@


1.6
log
@New CONFIGURE_STYLE
Fix bogus conflict with xloadimage (move man page to the right location)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/04/04 21:17:22 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.301
@


1.5
log
@Let xview install under /usr/local.
Tweak the extras_menus recognition code lightly:
- the redefine part is broken, as the filename has a full path.
- let the fallback work, e.g., go to /usr/local/lib instead of /usr/lib.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/04/04 15:10:38 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.230
d15 1
a15 2
USE_IMAKE=	Yes
FAKE=		Yes
d17 3
@


1.5.2.1
log
@bring x11 as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/07/16 06:36:15 turan Exp $
d6 1
a6 6
NEED_VERSION=	1.310

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d15 2
a16 1
CONFIGURE_STYLE=imake
a17 3

post-install:
	mv ${PREFIX}/man/cat1/xview.0 ${PREFIX}/man/cat7/xview.0
@


1.4
log
@Use IMAKEINCLUDE to move xview-config back to /usr/local.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/04/02 23:54:00 espie Exp $
a14 1
PREFIX=	${X11BASE}
@


1.3
log
@Revert unwanted commit, XView.cf is still under X11BASE right now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/04/02 22:43:11 espie Exp $
d8 1
a8 1
BUILD_DEPENDS=	${X11BASE}/lib/X11/config/XView.cf::x11/xview/config \
d18 1
@


1.2
log
@Fix depends. In particular, config is only a BUILD_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/04/02 15:25:13 espie Exp $
d8 1
a8 1
BUILD_DEPENDS=	${LOCALBASE}/lib/X11/config/XView.cf::x11/xview/config \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/03/23 23:09:03 turan Exp $
d8 2
a9 2
BUILD_DEPENDS=	${LOCALBASE}/lib/X11/config/XView.cf::x11/xview/config
DEPENDS=	x11/xview/config:build
@


1.1.1.1
log
@Xview's return.
Cleaned up so that lib depends on config:build, and lndir it
instead of mucking with the source dir.

All patches put into config/patches, separated and renamed
(yes, this is a LARGE fucker).

Fake

xview/clients to come.

Currently installs under /usr/X11R6, some more patches to X needed to fix
that.

@
text
@@
