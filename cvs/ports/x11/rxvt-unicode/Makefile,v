head	1.39;
access;
symbols
	OPENBSD_6_1:1.39.0.2
	OPENBSD_6_1_BASE:1.39
	OPENBSD_6_0:1.35.0.2
	OPENBSD_6_0_BASE:1.35
	OPENBSD_5_9:1.34.0.2
	OPENBSD_5_9_BASE:1.34
	OPENBSD_5_8:1.33.0.4
	OPENBSD_5_8_BASE:1.33
	OPENBSD_5_7:1.32.0.2
	OPENBSD_5_7_BASE:1.32
	OPENBSD_5_6:1.31.0.2
	OPENBSD_5_6_BASE:1.31
	OPENBSD_5_5:1.28.0.2
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.24.0.2
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.19.0.2
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.2
	OPENBSD_5_0:1.12.0.2
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	dcoppa_20100503:1.1.1.1
	dcoppa:1.1.1;
locks; strict;
comment	@# @;


1.39
date	2017.02.20.22.57.16;	author jca;	state Exp;
branches;
next	1.38;
commitid	bOMAYj2UrpZ3YlKd;

1.38
date	2016.09.01.10.53.27;	author jasper;	state Exp;
branches;
next	1.37;
commitid	LdsIxWmxagN2Kq33;

1.37
date	2016.08.27.21.14.12;	author jca;	state Exp;
branches;
next	1.36;
commitid	i9NYBphBi3zqx6WG;

1.36
date	2016.08.12.07.10.18;	author dcoppa;	state Exp;
branches;
next	1.35;
commitid	z8Xnrc8UIbAhtHbm;

1.35
date	2016.03.01.10.13.57;	author dcoppa;	state Exp;
branches;
next	1.34;
commitid	hwJ0JPO3A0Sgrv9D;

1.34
date	2016.01.25.10.26.10;	author dcoppa;	state Exp;
branches;
next	1.33;
commitid	oBnWJWCy4YYH6uw3;

1.33
date	2015.06.29.06.29.52;	author dcoppa;	state Exp;
branches;
next	1.32;
commitid	14pkfEGcMkF0IM9Q;

1.32
date	2015.01.05.16.09.51;	author dcoppa;	state Exp;
branches;
next	1.31;
commitid	fPnZ6mykowJRf7IF;

1.31
date	2014.07.10.20.27.43;	author dcoppa;	state Exp;
branches;
next	1.30;
commitid	NVjhJ5ABlhOb2YDq;

1.30
date	2014.05.21.12.48.40;	author dcoppa;	state Exp;
branches;
next	1.29;

1.29
date	2014.04.30.05.04.03;	author dcoppa;	state Exp;
branches;
next	1.28;

1.28
date	2013.11.08.06.57.49;	author dcoppa;	state Exp;
branches;
next	1.27;

1.27
date	2013.04.22.14.04.29;	author dcoppa;	state Exp;
branches;
next	1.26;

1.26
date	2013.03.14.09.21.17;	author dcoppa;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.11.11.46.15;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2013.01.18.11.55.27;	author dcoppa;	state Exp;
branches;
next	1.23;

1.23
date	2013.01.07.08.08.39;	author dcoppa;	state Exp;
branches;
next	1.22;

1.22
date	2012.12.29.13.55.35;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2012.12.28.12.12.38;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2012.08.29.14.45.36;	author dcoppa;	state Exp;
branches;
next	1.19;

1.19
date	2012.04.16.18.08.09;	author dcoppa;	state Exp;
branches;
next	1.18;

1.18
date	2012.01.23.08.10.40;	author dcoppa;	state Exp;
branches;
next	1.17;

1.17
date	2012.01.04.13.56.27;	author dcoppa;	state Exp;
branches;
next	1.16;

1.16
date	2011.12.22.11.29.33;	author dcoppa;	state Exp;
branches;
next	1.15;

1.15
date	2011.10.17.11.45.43;	author dcoppa;	state Exp;
branches;
next	1.14;

1.14
date	2011.09.26.15.18.37;	author dcoppa;	state Exp;
branches;
next	1.13;

1.13
date	2011.09.23.15.02.13;	author dcoppa;	state Exp;
branches;
next	1.12;

1.12
date	2011.07.05.15.08.49;	author dcoppa;	state Exp;
branches;
next	1.11;

1.11
date	2011.05.29.20.27.28;	author dcoppa;	state Exp;
branches;
next	1.10;

1.10
date	2011.05.25.07.53.07;	author dcoppa;	state Exp;
branches;
next	1.9;

1.9
date	2010.12.23.08.45.57;	author dcoppa;	state Exp;
branches;
next	1.8;

1.8
date	2010.12.01.09.22.49;	author dcoppa;	state Exp;
branches;
next	1.7;

1.7
date	2010.12.01.07.33.05;	author dcoppa;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.25.13.19.35;	author dcoppa;	state Exp;
branches;
next	1.5;

1.5
date	2010.10.24.21.15.34;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.19.08.13.59;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2010.07.30.06.59.00;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.05.19.14.10.42;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2010.05.03.16.35.20;	author dcoppa;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.05.03.16.35.20;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.39
log
@Drop workarounds to get libev working on arm.

libev can use the appropriate sync instructions now that cc defines
__ARM_ARCH_6K__.

ok dcoppa@@ (libev and rxvt-unicode maintainer)
@
text
@# $OpenBSD: Makefile,v 1.38 2016/09/01 10:53:27 jasper Exp $

COMMENT =	clone of rxvt with Unicode and Xft support

DISTNAME =	rxvt-unicode-9.22
REVISION =	3
CATEGORIES =	x11

EXTRACT_SUFX =	.tar.bz2
MASTER_SITES =	http://dist.schmorp.de/rxvt-unicode/ \
		http://dist.schmorp.de/rxvt-unicode/Attic/

HOMEPAGE =	http://software.schmorp.de/pkg/rxvt-unicode.html

MAINTAINER =	David Coppa <dcoppa@@openbsd.org>

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += X11 Xft Xmu Xrender Xt c fontconfig freetype gdk_pixbuf-2.0
WANTLIB += glib-2.0 gobject-2.0 intl m perl pthread startup-notification-1
WANTLIB += z

LIB_DEPENDS =	devel/gettext \
		devel/startup-notification \
		graphics/gdk-pixbuf2

FAKE_FLAGS =	INSTALL_DATA="${INSTALL_DATA}" \
		INSTALL_PROGRAM="${INSTALL_PROGRAM}"

CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS =	--enable-256-color \
			--enable-perl \
			--enable-pixbuf \
			--enable-startup-notification \
			--enable-unicode3 \
			--enable-utmp \
			--enable-wtmp
CONFIGURE_ENV +=	CPPFLAGS="-I${X11BASE}/include" \
			pt_cv_tty_group=yes

.include <bsd.port.mk>
@


1.38
log
@retire sparc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2016/08/27 21:14:12 jca Exp $
d6 1
a6 1
REVISION =	2
a40 4

.if ${MACHINE_ARCH} == "arm"
CXXFLAGS +=	-DEV_NO_SMP
.endif
@


1.37
log
@Drop the gettext module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2016/08/12 07:10:18 dcoppa Exp $
d42 1
a42 1
.if ${MACHINE_ARCH} == "arm" || ${MACHINE_ARCH} == "sparc"
@


1.36
log
@
Fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2016/03/01 10:13:57 dcoppa Exp $
d6 1
a6 1
REVISION =	1
d20 3
a22 3
WANTLIB =	X11 Xft Xmu Xrender Xt c fontconfig freetype \
		gdk_pixbuf-2.0 glib-2.0 gobject-2.0 m perl \
		pthread startup-notification-1 z
d24 2
a25 3
MODULES =	devel/gettext

LIB_DEPENDS =	devel/startup-notification \
@


1.35
log
@
Switch to the proper Makefile-goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2016/01/25 10:26:10 dcoppa Exp $
d6 1
a6 1
REVISION =	0
d22 1
a22 1
		pthread startup-notification-1 util z
@


1.34
log
@
Update to rxvt-unicode-9.22
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/06/29 06:29:52 dcoppa Exp $
d6 1
d42 4
@


1.33
log
@
Fix install target
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/01/05 16:09:51 dcoppa Exp $
d5 1
a5 2
DISTNAME =	rxvt-unicode-9.21
REVISION =	0
d19 1
a19 1
WANTLIB =	X11 Xft Xrender c fontconfig freetype \
@


1.32
log
@
Update to rxvt-unicode-9.21
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2014/07/10 20:27:43 dcoppa Exp $
d6 1
d28 3
@


1.31
log
@
Enable Unicode Private Use Area support, as proposed by frantisek
holop.

sthen@@ approves
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2014/05/21 12:48:40 dcoppa Exp $
d5 1
a5 2
DISTNAME =	rxvt-unicode-9.20
REVISION =	1
d16 1
a16 1
# GPLv2
@


1.30
log
@
Fix CONFIGURE_ENV; sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/04/30 05:04:03 dcoppa Exp $
d6 1
a6 1
REVISION =	0
d34 1
@


1.29
log
@
Update to rxvt-unicode-9.20
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/11/08 06:57:49 dcoppa Exp $
d6 1
d20 3
a22 3
WANTLIB =	X11 Xft Xrender c fontconfig gdk_pixbuf-2.0 \
		glib-2.0 gobject-2.0 m perl pthread \
		startup-notification-1 util
d36 2
a37 4
CONFIGURE_ENV +=	pt_cv_tty_group=yes

# missing locale support
CONFIGURE_ARGS +=	--disable-xim
@


1.28
log
@Update to rxvt-unicode-9.19
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/04/22 14:04:29 dcoppa Exp $
d5 1
a5 1
DISTNAME =	rxvt-unicode-9.19
@


1.27
log
@Bugfixing update to rxvt-unicode-9.18
- fix regression that caused artifacts on resize.

While here, regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/14 09:21:17 dcoppa Exp $
d5 1
a5 1
DISTNAME =	rxvt-unicode-9.18
@


1.26
log
@Bugfix update to rxvt-unicode-9.17
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/11 11:46:15 espie Exp $
d5 1
a5 1
DISTNAME =	rxvt-unicode-9.17
d19 3
a21 3
WANTLIB =	X11 Xft Xrender c expat fontconfig freetype \
		gdk_pixbuf-2.0 glib-2.0 gobject-2.0 m perl \
		pthread startup-notification-1 util z
@


1.25
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/01/18 11:55:27 dcoppa Exp $
d5 1
a5 2
DISTNAME =	rxvt-unicode-9.16
REVISION =	2
@


1.24
log
@Remove the "--with-term" workaround, now that we have the right
terminfo entries for rxvt-unicode in base.

Add a pkg/README with some tips.

tweaks & ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/01/07 08:08:39 dcoppa Exp $
a18 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.23
log
@Unbreak and enable utmp support.

Take maintainership as requested by Daniel Levai (previous maintainer)

OK sthen@@, naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/12/29 13:55:35 sthen Exp $
d6 1
a6 1
REVISION =	1
d38 1
a38 2
			--enable-wtmp \
			--with-term=rxvt-256color
@


1.22
log
@revert unintentional addition to CONFIGURE_ARGS (untested diff to enable
utmp recording) which was in my tree already and which wasn't in Daniel's
submitted diff for the previous commit, as pointed out by dcoppa@@.

(add an XXX comment reminder; as an xterm alternative, this *should*
do utmp recording.)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/08/29 14:45:36 dcoppa Exp $
d6 1
a6 1
REVISION =	0
d15 1
a15 1
MAINTAINER =	LEVAI Daniel <leva@@ecentrum.hu>
d37 2
d40 1
a40 2
# XXX utmp recording should also be enabled, as per rxvt (which will
# also require setgid utmp), but this currently fails
@


1.21
log
@update to urxvt 9.16, from maintainer LEVAI Daniel, tests/ok dcoppa@@ abieber@@
@
text
@d6 1
d33 1
a33 3
CONFIGURE_ARGS =	--enable-utmp \
			--enable-wtmp \
			--enable-256-color \
d38 2
@


1.20
log
@Remove ugly workaround and sync internal libenv with devel/libenv

Maintainer's ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/04/16 18:08:09 dcoppa Exp $
d5 1
a5 2
DISTNAME =	rxvt-unicode-9.15
REVISION =	1
d22 3
a24 5
WANTLIB =	X11 Xau Xdmcp Xft Xrender c expat ffi \
		fontconfig freetype gdk_pixbuf-2.0 gio-2.0 \
		glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 \
		m pcre perl png pthread-stubs pthread \
		startup-notification-1 util xcb z
d32 3
a34 1
CONFIGURE_ARGS =	--enable-256-color \
d38 2
a39 2
			--with-term=rxvt-256color \
			--disable-afterimage
@


1.19
log
@Enable startup-notification support: it's needed by (at least)
x11/i3 to start urxvt on designated workspaces

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/01/23 08:10:40 dcoppa Exp $
d6 1
a6 1
REVISION =	0
@


1.18
log
@Bugfix update to rxvt-unicode-9.15

ok maintainer
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/01/04 13:56:27 dcoppa Exp $
d6 1
d26 2
a27 2
		m pcre perl png pthread-stubs pthread util \
		xcb z
d31 2
a32 1
LIB_DEPENDS =	graphics/gdk-pixbuf2
d38 1
d40 1
a40 2
			--disable-afterimage \
			--disable-startup-notification
@


1.17
log
@Don't pick up hidden dependency on startup-notification.

From Tobias Ulmer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/12/22 11:29:33 dcoppa Exp $
d5 1
a5 1
DISTNAME =	rxvt-unicode-9.14
@


1.16
log
@Update to rxvt-unicode-9.14.

From maintainer Levai Daniel with tweaks by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/10/17 11:45:43 dcoppa Exp $
d37 2
a38 1
			--disable-afterimage
@


1.15
log
@Partly revert revision 1.13: there's much more pain than gain
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/09/26 15:18:37 dcoppa Exp $
d5 1
a5 2
DISTNAME =	rxvt-unicode-9.12
REVISION =	2
d22 5
a26 4
WANTLIB =	X11 Xau Xdmcp Xft Xrender c expat fontconfig \
		freetype gdk_pixbuf-2.0 glib-2.0 gmodule-2.0 \
		gobject-2.0 gthread-2.0 m perl png \
		pthread-stubs pthread util xcb z
@


1.14
log
@Bugfix: pty input was not properly dispatched to the active tabbed
window when events were sent to the main window.

From upstream cvs revision 1.26 via maintainer Levai Daniel
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/09/23 15:02:13 dcoppa Exp $
d6 1
a6 1
REVISION =	1
d36 1
@


1.13
log
@Use the default terminal type "rxvt-unicode-256color", instead of the
more generic "rxvt-256color". Warning: a recent -current is required
(one with latest nicm@@'s commit to libcurses).

Maintainer's OK
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/07/05 15:08:49 dcoppa Exp $
d6 1
a6 1
REVISION =	0
@


1.12
log
@Update to rxvt-unicode-9.12

Many thanks to Emanuele Giaquinta (upstream developer) for his
prompt collaboration.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/05/29 20:27:28 dcoppa Exp $
d6 1
a35 1
			--with-term=rxvt-256color \
@


1.11
log
@Because of the `TS' and `TE' macros, removing USE_GROFF would
actually make the manuals better, despite of some minor, non-fatal
glitches. So, zap it again.

Clue bat beating and ok schwarze@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/05/25 07:53:07 dcoppa Exp $
d5 1
a5 2
DISTNAME =	rxvt-unicode-9.11
REVISION =	0
d9 2
a10 1
MASTER_SITES =	http://dist.schmorp.de/rxvt-unicode/
@


1.10
log
@Update to rxvt-unicode-9.11

tested/ok Levai Daniel (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/12/23 08:45:57 dcoppa Exp $
d6 1
a38 2

USE_GROFF =	Yes
@


1.9
log
@Bugfix update to rxvt-unicode-9.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/12/01 09:22:49 dcoppa Exp $
d5 1
a5 1
DISTNAME =	rxvt-unicode-9.10
d22 7
a28 1
		freetype m perl pthread-stubs util xcb z
d33 1
d38 2
@


1.8
log
@CONFIGURE_STYLE=autoconf is not needed anymore, switch to
CONFIGURE_STYLE=gnu. No bump required.

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/12/01 07:33:05 dcoppa Exp $
d5 1
a5 2
DISTNAME =	rxvt-unicode-9.09
REVISION =	0
@


1.7
log
@Fix a problem of getting artifacts on the bottom of the screen when
using rxvt-unicode without hints.

From awesome wm wiki, via jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/11/25 13:19:35 dcoppa Exp $
d25 1
a25 2
CONFIGURE_STYLE =	autoconf
AUTOCONF_VERSION =	2.61
@


1.6
log
@Update to rxvt-unicode-9.09

From LEVAI Daniel, with tweaks by me.
He's also the new maintainer of this port.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/10/24 21:15:34 ajacoutot Exp $
d6 1
@


1.5
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/10/19 08:13:59 espie Exp $
d5 1
a5 2
DISTNAME =	rxvt-unicode-9.07
REVISION=	0
d13 1
a13 1
MAINTAINER =	Thomas de Grivel <billitch@@gmail.com>
a23 1
USE_GROFF =	Yes
d26 2
a27 2
CONFIGURE_ARGS =	--enable-perl \
			--disable-afterimage \
d29 1
a29 1
			--enable-xterm-colors=256
@


1.4
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/07/30 06:59:00 ajacoutot Exp $
a24 1
USE_X11 =		Yes
@


1.3
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/05/19 14:10:42 dcoppa Exp $
d26 1
@


1.2
log
@Use rxvt-256color as default terminal type.

"I don't use rxvt-unicode but it is fine by me" nicm@@
OK for Thomas de Grivel (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/05/03 16:35:20 dcoppa Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d30 1
a30 1
			--with-term=xterm \
@


1.1.1.1
log
@Import rxvt-unicode, an enhanced version of the rxvt terminal 
emulator with Unicode and Xft support.

OK giovanni@@, naddy@@
@
text
@@
