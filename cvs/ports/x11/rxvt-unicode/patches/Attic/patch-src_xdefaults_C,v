head	1.2;
access;
symbols
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.05.25.07.53.07;	author dcoppa;	state dead;
branches;
next	1.1;

1.1
date	2010.11.25.13.19.36;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to rxvt-unicode-9.11

tested/ok Levai Daniel (maintainer)
@
text
@$OpenBSD: patch-src_xdefaults_C,v 1.1 2010/11/25 13:19:36 dcoppa Exp $
--- src/xdefaults.C.orig	Fri Oct 15 00:13:23 2010
+++ src/xdefaults.C	Sun Nov 14 15:09:59 2010
@@@@ -560,8 +560,9 @@@@ rxvt_term::get_options (int argc, const char *const *a
         {
           if (i+1 < argc)
             {
-              char *res = rxvt_temp_buf<char> (strlen (opt) + strlen (argv[++i]) + 6);
-              sprintf (res, "*.%s: %s\n", opt, argv[i]);
+              size_t size = strlen (opt) + strlen (argv[++i]) + 6;
+              char *res = rxvt_temp_buf<char> (size);
+              snprintf (res, size, "*.%s: %s\n", opt, argv[i]);
               XrmPutLineResource (&option_db, res);
             }
         }
@


1.1
log
@Update to rxvt-unicode-9.09

From LEVAI Daniel, with tweaks by me.
He's also the new maintainer of this port.
@
text
@d1 1
a1 1
$OpenBSD$
@

