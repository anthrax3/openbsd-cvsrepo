head	1.2;
access;
symbols
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.05.25.07.53.07;	author dcoppa;	state dead;
branches;
next	1.1;

1.1
date	2010.11.25.13.19.36;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to rxvt-unicode-9.11

tested/ok Levai Daniel (maintainer)
@
text
@$OpenBSD: patch-src_keyboard_C,v 1.1 2010/11/25 13:19:36 dcoppa Exp $
--- src/keyboard.C.orig	Wed Aug 25 04:07:15 2010
+++ src/keyboard.C	Sun Nov 14 14:23:05 2010
@@@@ -230,7 +230,8 @@@@ keyboard_manager::dispatch (rxvt_term *term, KeySym ke
 
                   memcpy (buf, prefix + 1, middle - prefix - 1);
                   buf [middle - prefix - 1] = middle [keysym_offset + 1];
-                  strcpy (buf + (middle - prefix), suffix + 1);
+                  strlcpy (buf + (middle - prefix), suffix + 1,
+                           sizeof (buf) - sizeof (char) * (middle - prefix));
 
                   output_string (term, buf);
                 }
@


1.1
log
@Update to rxvt-unicode-9.09

From LEVAI Daniel, with tweaks by me.
He's also the new maintainer of this port.
@
text
@d1 1
a1 1
$OpenBSD$
@

