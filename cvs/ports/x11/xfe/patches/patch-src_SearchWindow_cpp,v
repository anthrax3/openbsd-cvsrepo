head	1.4;
access;
symbols
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2016.10.20.21.12.38;	author giovanni;	state Exp;
branches;
next	1.3;
commitid	wJSucbPPv8SX0HQY;

1.3
date	2016.07.01.08.46.52;	author landry;	state Exp;
branches;
next	1.2;
commitid	imeVgfJUEepzAOGF;

1.2
date	2015.01.21.02.26.00;	author bcallah;	state Exp;
branches;
next	1.1;
commitid	0C4P8HWBnGvpYI04;

1.1
date	2013.11.25.18.39.02;	author bcallah;	state Exp;
branches;
next	;


desc
@@


1.4
log
@fix "seach window"
@
text
@$OpenBSD: patch-src_SearchWindow_cpp,v 1.3 2016/07/01 08:46:52 landry Exp $

Remove gnuisms. The Find Hidden checkbox does nothing now.

--- src/SearchWindow.cpp.orig	Tue Dec 15 14:54:20 2015
+++ src/SearchWindow.cpp	Sun Oct  9 20:50:02 2016
@@@@ -639,7 +639,7 @@@@ long SearchWindow::onCmdStart(FXObject*, FXSelector, v
     }
     else
     {
-        searchcommand = "find -P " + ::quote(wheredir->getText());
+        searchcommand = "find " + ::quote(wheredir->getText());
     }
 
     // Ignore case
@@@@ -745,7 +745,7 @@@@ long SearchWindow::onCmdStart(FXObject*, FXSelector, v
     // Hidden files
     if (!findhidden->getCheck())
     {
-        searchcommand += " \\( ! -regex '.*/\\..*' \\)";
+        searchcommand += " ! -path .";
     }
 
     // Without grep command
@


1.3
log
@Update to xfe 1.41
@
text
@d1 1
a1 1
$OpenBSD: patch-src_SearchWindow_cpp,v 1.2 2015/01/21 02:26:00 bcallah Exp $
d5 2
a6 2
--- src/SearchWindow.cpp.orig	Tue Nov 24 13:59:53 2015
+++ src/SearchWindow.cpp	Fri Jul  1 09:57:18 2016
d21 1
a21 1
+        searchcommand += " \\( ! '.*/\\..*' \\)";
@


1.2
log
@Update to xfe-1.40 - thanks to all who tested!
@
text
@d1 1
a1 1
$OpenBSD: patch-src_SearchWindow_cpp,v 1.1 2013/11/25 18:39:02 bcallah Exp $
d5 9
a13 8
--- src/SearchWindow.cpp.orig	Tue Dec 16 07:26:10 2014
+++ src/SearchWindow.cpp	Mon Jan 12 00:16:23 2015
@@@@ -533,7 +533,7 @@@@ long SearchWindow::onCmdStart(FXObject*,FXSelector,voi
 	if (linkbtn->getCheck())
 		searchcommand="find -L " + ::quote(wheredir->getText());
 	else
-		searchcommand="find -P " + ::quote(wheredir->getText());
+		searchcommand="find " + ::quote(wheredir->getText());
d15 8
a22 4
 	// Ignore case
 	FXString nameoption;
@@@@ -602,8 +602,8 @@@@ long SearchWindow::onCmdStart(FXObject*,FXSelector,voi
 		searchcommand += " -empty"; 
d24 1
a24 8
 	// Hidden files
-	if (!findhidden->getCheck())
-		searchcommand += " \\( ! -regex '.*/\\..*' \\)"; 
+	// if (!findhidden->getCheck())
+	//	searchcommand += " \\( ! '.*/\\..*' \\)"; 
 
 	// Without grep command
 	if (greptext->getText()=="")
@


1.1
log
@Forgot to add this patch; needed for the new search window to work.
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- src/SearchWindow.cpp.orig	Wed Nov 13 04:47:37 2013
+++ src/SearchWindow.cpp	Mon Nov 25 13:30:32 2013
@@@@ -513,7 +513,7 @@@@ long SearchWindow::onCmdStart(FXObject*,FXSelector,voi
d16 1
a16 1
@@@@ -574,8 +574,8 @@@@ long SearchWindow::onCmdStart(FXObject*,FXSelector,voi
@

