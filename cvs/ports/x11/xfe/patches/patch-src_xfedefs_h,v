head	1.5;
access;
symbols
	OPENBSD_6_1:1.5.0.2
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.4.0.2
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2;
locks; strict;
comment	@# @;


1.5
date	2016.09.04.09.04.39;	author giovanni;	state Exp;
branches;
next	1.4;
commitid	7aX3z2KRsl5GSal2;

1.4
date	2016.07.01.08.46.52;	author landry;	state Exp;
branches;
next	1.3;
commitid	imeVgfJUEepzAOGF;

1.3
date	2015.07.18.01.11.18;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	keZFaVlBJezj0aCr;

1.2
date	2015.01.21.02.26.00;	author bcallah;	state Exp;
branches;
next	1.1;
commitid	0C4P8HWBnGvpYI04;

1.1
date	2014.11.08.19.03.59;	author dcoppa;	state Exp;
branches;
next	;
commitid	o02ZawVsUFECoxp1;


desc
@@


1.5
log
@bugfix update to 1.42
@
text
@$OpenBSD: patch-src_xfedefs_h,v 1.4 2016/07/01 08:46:52 landry Exp $

Unbreak launching Xfe as root with sudo or su (fix gnuisms)

--- src/xfedefs.h.orig	Wed Jul 27 13:27:41 2016
+++ src/xfedefs.h	Sun Sep  4 10:20:49 2016
@@@@ -172,11 +172,11 @@@@
 
 // Command to launch Xfe as root with sudo or su, using st as a terminal
 #ifndef SUDOCMD
-#define SUDOCMD    " -g 60x4 -e sudo su -c 'nohup xfe >& /dev/null & sleep 1'"
+#define SUDOCMD    " -g 60x4 -e doas su root -c 'nohup xfe >/dev/null 2>&1 & sleep 1'"
 #endif
 
 #ifndef SUCMD
-#define SUCMD    " -g 60x4 -e su -c 'nohup xfe >& /dev/null & sleep 1'"
+#define SUCMD    " -g 60x4 -e su root -c 'nohup xfe >/dev/null 2>&1 & sleep 1'"
 #endif
 
 // Tooltips setup time and duration
@


1.4
log
@Update to xfe 1.41
@
text
@d1 1
a1 1
$OpenBSD: patch-src_xfedefs_h,v 1.3 2015/07/18 01:11:18 ajacoutot Exp $
d5 3
a7 3
--- src/xfedefs.h.orig	Tue Nov 24 13:59:56 2015
+++ src/xfedefs.h	Fri Jul  1 09:55:29 2016
@@@@ -162,11 +162,11 @@@@
d9 1
a9 1
 // Command to launch Xfe as root with sudo or su, using Xvt as a terminal
d11 2
a12 2
-#define SUDOCMD    "-fn 7x14 -geometry 60x4 -e sudo su -c 'nohup xfe >& /dev/null & sleep 1'"
+#define SUDOCMD    "-fn 7x14 -geometry 60x4 -e doas su root -c 'nohup xfe >& /dev/null & sleep 1'"
d16 2
a17 2
-#define SUCMD    "-fn 7x14 -geometry 60x4 -e su -c 'nohup xfe >& /dev/null & sleep 1'"
+#define SUCMD    "-fn 7x14 -geometry 60x4 -e su root -c 'nohup xfe >& /dev/null & sleep 1'"
@


1.3
log
@Fix SUDOCMD.

ok bcallah@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-src_xfedefs_h,v 1.2 2015/01/21 02:26:00 bcallah Exp $
d5 2
a6 2
--- src/xfedefs.h.orig	Mon Dec 22 11:57:44 2014
+++ src/xfedefs.h	Mon Jan 12 00:16:23 2015
d11 2
a12 2
-#define SUDOCMD "-fn 7x14 -geometry 60x4 -e sudo su -c 'nohup xfe >& /dev/null & sleep 1'"
+#define SUDOCMD "-fn 7x14 -geometry 60x4 -e sudo su root -c 'nohup xfe >/dev/null & sleep 1'"
d16 2
a17 2
-#define SUCMD "-fn 7x14 -geometry 60x4 -e su -c 'nohup xfe >& /dev/null & sleep 1'"
+#define SUCMD "-fn 7x14 -geometry 60x4 -e su root -c 'nohup xfe >/dev/null & sleep 1'"
@


1.2
log
@Update to xfe-1.40 - thanks to all who tested!
@
text
@d1 1
a1 1
$OpenBSD: patch-src_xfedefs_h,v 1.1 2014/11/08 19:03:59 dcoppa Exp $
d12 1
a12 1
+#define SUDOCMD "-fn 7x14 -geometry 60x4 -e sudo su -s /bin/sh root -c 'nohup xfe >/dev/null & sleep 1'"
@


1.1
log
@
Unbreak launching Xfe as root with sudo or su (fix gnuisms)

Reported by Alessandro DE LAURENZIS, and discussed with several
folks

OK bcallah@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- src/xfedefs.h.orig	Fri Oct 17 13:41:26 2014
+++ src/xfedefs.h	Fri Oct 17 13:43:44 2014
@@@@ -157,11 +157,11 @@@@
@

