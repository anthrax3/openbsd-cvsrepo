head	1.3;
access;
symbols
	OPENBSD_5_6:1.2.0.22
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.20
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.18
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.16
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.14
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.12
	OPENBSD_5_0:1.2.0.10
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.8
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.6
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.4
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	landry_20090605:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2015.01.26.12.54.01;	author jca;	state dead;
branches;
next	1.2;
commitid	uGjvCXOOU6VVA4HX;

1.2
date	2009.06.06.04.53.39;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.06.06.04.44.10;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.06.06.04.44.10;	author landry;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to keynav-0.20101014.3067.

- upstream versioning change -> use EPOCH
- MAKE_FLAGS instead of Makefile patching (bonus: respect DEBUG=-g)
- patch to avoid a segfault at runtime

This now uses libxdo from x11/xdotool instead of a bundled version, and
cairo for drawing.

Missing gettext MODULE spotted by ajacoutot@@.  ok landry@@
@
text
@$OpenBSD: patch-Makefile,v 1.2 2009/06/06 04:53:39 ajacoutot Exp $
--- Makefile.orig	Fri Jun  5 22:27:03 2009
+++ Makefile	Fri Jun  5 22:31:54 2009
@@@@ -1,5 +1,5 @@@@
-CFLAGS=`pkg-config --cflags x11 xtst 2> /dev/null || echo -I/usr/X11R6/include -I/usr/local/include`
-LDFLAGS=`pkg-config --libs x11 xtst 2> /dev/null || echo -L/usr/X11R6/lib -L/usr/local/lib -lX11 -lXtst` 
+CFLAGS+=`pkg-config --cflags x11 xtst 2> /dev/null || echo -I${X11BASE}/include -I${LOCALBASE}/include`
+LDFLAGS+=`pkg-config --libs x11 xtst 2> /dev/null || echo -L${X11BASE}/lib -L${LOCALBASE}/lib -lX11 -lXtst` 
 
 #CFLAGS+=-g
 OTHERFILES=README CHANGELIST COPYRIGHT \
@@@@ -13,12 +13,8 @@@@ clean:
 	rm *.o || true;
 	make -C xdotool clean || true
 
-keynav: xdo.o keynav.o
-	gcc $(LDFLAGS) xdo.o keynav.o -o $@@
-
-xdo.o:
-	make -C xdotool xdo.o
-	cp xdotool/xdo.o .
+keynav:
+	${CC} ${CFLAGS} xdotool/xdo.c keynav.c ${LDFLAGS} -o $@@
 
 package: clean
 	NAME=keynav-`date +%Y%m%d`.$(MICROVERSION); \
@


1.2
log
@- don't hardcode paths
- sanitise PKGNAME
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.1.1.1 2009/06/06 04:44:10 landry Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d7 2
a8 2
+CFLAGS+=`pkg-config --cflags x11 xtst 2> /dev/null || echo -I/usr/X11R6/include -I/usr/local/include`
+LDFLAGS+=`pkg-config --libs x11 xtst 2> /dev/null || echo -L/usr/X11R6/lib -L/usr/local/lib -lX11 -lXtst` 
@


1.1.1.1
log
@Import keynav:
keynav is a piece of an on-going experiment to make pointer-driven
interfaces easier and faster for users to operate. It lets you move the
pointer quickly to most points on the screen with only a few key
strokes.

Ported because i was too bored writing and reading perl.
@
text
@@
