head	1.24;
access;
symbols
	OPENBSD_4_5:1.23.0.6
	OPENBSD_4_5_BASE:1.23
	OPENBSD_4_4:1.23.0.4
	OPENBSD_4_4_BASE:1.23
	OPENBSD_4_3:1.23.0.2
	OPENBSD_4_3_BASE:1.23
	OPENBSD_4_2:1.22.0.4
	OPENBSD_4_2_BASE:1.22
	OPENBSD_4_1:1.22.0.2
	OPENBSD_4_1_BASE:1.22
	OPENBSD_4_0:1.21.0.4
	OPENBSD_4_0_BASE:1.21
	OPENBSD_3_9:1.21.0.2
	OPENBSD_3_9_BASE:1.21
	OPENBSD_3_8:1.18.0.4
	OPENBSD_3_8_BASE:1.18
	OPENBSD_3_7:1.18.0.2
	OPENBSD_3_7_BASE:1.18
	OPENBSD_3_6:1.17.0.4
	OPENBSD_3_6_BASE:1.17
	OPENBSD_3_5:1.17.0.2
	OPENBSD_3_5_BASE:1.17
	OPENBSD_3_4:1.14.0.2
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.13.0.2
	OPENBSD_3_3_BASE:1.13
	OPENBSD_3_2:1.12.0.2
	OPENBSD_3_2_BASE:1.12
	OPENBSD_3_1:1.10.0.2
	OPENBSD_3_1_BASE:1.10
	OPENBSD_3_0:1.6.0.2
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9_TRACKING_SWITCH:1.6
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	espie:1.1.1.1
	qt2:1.1.1;
locks; strict;
comment	@# @;


1.24
date	2009.06.07.00.16.36;	author jasper;	state dead;
branches;
next	1.23;

1.23
date	2007.09.15.20.04.23;	author merdely;	state Exp;
branches;
next	1.22;

1.22
date	2006.09.18.10.21.49;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2006.01.13.19.18.50;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2006.01.03.09.06.14;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2005.12.29.14.35.07;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2004.12.19.20.18.55;	author alek;	state Exp;
branches;
next	1.17;

1.17
date	2004.02.25.02.35.18;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2003.11.18.20.53.11;	author sturm;	state Exp;
branches;
next	1.15;

1.15
date	2003.10.08.17.13.17;	author sturm;	state Exp;
branches;
next	1.14;

1.14
date	2003.04.10.18.08.57;	author jsyn;	state Exp;
branches;
next	1.13;

1.13
date	2002.10.29.19.48.58;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2002.09.11.17.42.01;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2002.04.24.21.34.48;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2002.03.21.21.25.55;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2001.12.23.12.11.33;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2001.11.10.15.00.53;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2001.10.24.12.48.54;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2001.07.30.12.41.46;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2001.07.17.01.23.50;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2001.05.24.02.28.40;	author kevlo;	state Exp;
branches;
next	1.3;

1.3
date	2001.05.05.21.29.51;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.03.24.15.24.31;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.03.21.23.57.53;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.03.21.23.57.53;	author espie;	state Exp;
branches;
next	;


desc
@@


1.24
log
@- remove old qt2 qt2-designer, both qt3 and qt4 ship a designer already

cheering from a bunch of frogs
agreed by espie@@ (MAINTAINER)
@
text
@# $OpenBSD: Makefile,v 1.23 2007/09/15 20:04:23 merdely Exp $

COMMENT=	designer for qt2

VERSION=	3.2
DISTNAME=	qt-designer-2.${VERSION}
PKGNAME=	${DISTNAME}p2
CATEGORIES=	x11 devel
SHARED_LIBS=	qutil	2.0

MASTER_SITES=	ftp://ftp.troll.no/qt/source/
DISTFILES=	qt-x11-2.${VERSION}.tar.gz
EXTRACT_ONLY=	

BUILD_DEPENDS=	::x11/qt2:configure
RUN_DEPENDS=	::x11/qt2,-html

HOMEPAGE=	http://www.trolltech.com/qt/

MAINTAINER=	Marc Espie <espie@@openbsd.org>

# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		c m stdc++ z
EXTRACT_ONLY=
WRKDIST=	${WRKDIR}/qt2-tools

post-extract:
	mkdir -p ${WRKDIST}/lib ${WRKDIST}/bin
	lndir ${WRKDIR}/x11/qt2/qt-*/tools ${WRKDIST}

USE_X11=	Yes
USE_GMAKE=	Yes
MAKE_ENV=	QTDIR="${WRKDIST}" EXTRA_SAMPLES="${EXTRA_SAMPLES}" \
		SYS_CXX="${CXX}" SYS_CXXFLAGS="${CXXFLAGS}" \
		LD_LIBRARY_PATH="${WRKDIST}/lib" KDEDIR=${LOCALBASE}

MAKE_FLAGS= 	SYSCONF_CXXFLAGS_QT=-I${LOCALBASE}/include/X11/qt2 \
		SYSCONF_LFLAGS_QT=-L${LOCALBASE}/lib/qt2 \
		SYSCONF_MOC=${LOCALBASE}/bin/moc2 \
		LIBqutil_VERSION=$(LIBqutil_VERSION)



LIB_DEPENDS=	jpeg.>=62::graphics/jpeg \
		png.>=2::graphics/png \
		mng.>=1::graphics/libmng \
		lib/qt2/qt.>=20::x11/qt2

TRUEDIR=	${TRUEPREFIX}/lib/qt2
QT_LIBDIR=	${PREFIX}/lib/qt2
QT_MANDIR=	${QT_LIBDIR}/man
QT_EXAMPLES=	${QT_LIBDIR}/examples
QT_TUTORIAL=	${QT_LIBDIR}/tutorial
QT_DOC=		${PREFIX}/share/doc/qt2

NO_REGRESS=	Yes


do-install:
	${INSTALL_MAN_DIR} ${QT_MANDIR}/man1
	${INSTALL_DATA_DIR} ${QT_LIBDIR}/bin
	${INSTALL_DATA_DIR} ${QT_LIBDIR}/tools/designer/templates
	@@if [ -f ${WRKBUILD}/lib/libqutil.a ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqutil.a ${QT_LIBDIR}; \
	fi
	@@if [ -f ${WRKBUILD}/lib/libqutil.so.$(LIBqutil_VERSION) ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqutil.so.$(LIBqutil_VERSION) ${QT_LIBDIR}; \
	 ln -sf qt2/libqutil.so.$(LIBqutil_VERSION) ${PREFIX}/lib; \
	fi
	echo "#! /bin/sh" >${WRKDIR}/designer
	echo "QTDIR=${TRUEDIR} exec ${TRUEDIR}/bin/designer" \
	    >>${WRKDIR}/designer
	${INSTALL_DATA} ${WRKBUILD}/designer/templates/* \
		${QT_LIBDIR}/tools/designer/templates
	${INSTALL_SCRIPT} ${WRKDIR}/designer ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKBUILD}/bin/designer ${QT_LIBDIR}/bin
	${INSTALL_PROGRAM} ${WRKBUILD}/bin/uic ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/designer/uic/uic.1 ${QT_MANDIR}/man1

.include <bsd.port.mk>
@


1.23
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2006/09/18 10:21:49 espie Exp $
@


1.22
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/01/13 19:18:50 espie Exp $
d3 1
a3 1
COMMENT=	"designer for qt2"
@


1.21
log
@bunp all qt shared libs at the same time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/01/03 09:06:14 espie Exp $
d48 4
a51 4
LIB_DEPENDS=	jpeg.62.::graphics/jpeg \
		png.2.::graphics/png \
		mng.1.::graphics/libmng \
		lib/qt2/qt.20::x11/qt2
@


1.20
log
@oopsie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2005/12/29 14:35:07 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d9 1
a9 1
SHARED_LIBS=	qutil	1.0
d51 1
a51 1
		lib/qt2/qt.2::x11/qt2
@


1.19
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2004/12/19 20:18:55 alek Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
a9 1
SHARED_LIBS=	qutil	4.0
@


1.18
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2004/02/25 02:35:18 naddy Exp $
d9 2
d44 2
a45 1
		SYSCONF_MOC=${LOCALBASE}/bin/moc2
d71 3
a73 3
	@@if [ -f ${WRKBUILD}/lib/libqutil.so.1.0 ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqutil.so.1.0 ${QT_LIBDIR}; \
	 ln -sf qt2/libqutil.so.1.0 ${PREFIX}/lib/libqutil.so.1.0; \
@


1.17
log
@The sparc64 compiler is gcc3 now; don't require the gcc3 module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2003/11/18 20:53:11 sturm Exp $
d26 1
@


1.16
log
@use gcc3 on sparc64 (needed by qt2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2003/10/08 17:13:17 sturm Exp $
a15 3
MODULES=	gcc3
MODGCC3_ARCHES=	sparc64
MODGCC3_LANGS=	c++
@


1.15
log
@first bunch of license cleanup, some discussions about interpretation
during the release with pval@@

other categories will follow once they are finished
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2003/04/10 18:08:57 jsyn Exp $
d16 3
@


1.14
log
@quote COMMENTs; ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/10/29 19:48:58 naddy Exp $
d21 1
@


1.13
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/09/11 17:42:01 espie Exp $
d3 1
a3 1
COMMENT=	designer for qt2
@


1.12
log
@No longer build qt2-designer with kde2 support, bump the package name
to reflect that.
Fix dependency to find qt2 correctly, and not match qt3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/04/24 21:34:48 espie Exp $
d9 1
a9 1
NEED_VERSION=	1.525
d56 1
@


1.11
log
@Adjust ports with non-package/install dependencies for the new mechanism.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/03/21 21:25:55 espie Exp $
d7 1
d47 1
a47 2
		qt.2::x11/qt2 \
		kdecore,DCOP,kdeui::x11/kde/libs2
@


1.10
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/12/23 12:11:33 espie Exp $
d8 1
a8 1
NEED_VERSION=	1.515
d29 1
a29 1
	lndir `cd ${PORTSDIR} && cd x11/qt2 && ${MAKE} show VARNAME=WRKDIST`/tools ${WRKDIST}
@


1.9
log
@2.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/11/10 15:00:53 espie Exp $
d8 1
a8 1
NEED_VERSION=	1.474
@


1.8
log
@Kill first component of BUILD_DEPENDS.

Fix sawfish comment while I'm at it.
`window manager for the X windows system'.
Like DUH ! It's going to be a window manager for my microwave oven ?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/10/24 12:48:54 espie Exp $
d5 1
a5 1
VERSION=	3.1
@


1.7
log
@Some lib depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/07/30 12:41:46 espie Exp $
d13 2
a14 2
BUILD_DEPENDS=	/nonexistent::x11/qt2:configure
RUN_DEPENDS=	${LOCALBASE}/share/doc/qt2/html::x11/qt2,-html
@


1.6
log
@Let qutils show up in /usr/local/lib.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/07/17 01:23:50 espie Exp $
d8 1
a8 1
NEED_VERSION=	1.361
d47 1
a47 1
		kdecore.::x11/kde/libs2
@


1.5
log
@Synch with qt2.
Noticed by Dan Weeks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/05/24 02:28:40 kevlo Exp $
d67 1
@


1.4
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/05/05 21:29:51 espie Exp $
d5 1
a5 1
VERSION=	3.0
@


1.3
log
@designer is happier with docs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/03/24 15:24:31 espie Exp $
d44 1
a44 1
		png.1.::graphics/png \
@


1.2
log
@Add devel to CATEGORIES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/03/21 23:57:53 espie Exp $
d14 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/03/12 16:21:34 espie Exp $
d7 1
a7 1
CATEGORIES=	x11
@


1.1.1.1
log
@Split the designer from qt2 proper,
since it has quite different dependencies.
@
text
@@
