head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2000.06.19.12.59.16;	author espie;	state dead;
branches;
next	1.1;

1.1
date	2000.05.19.19.12.11;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Incorporate my changes to xglobe, make a temporary 0.5p1 release,
until Thorsten finds time to make a real 0.6 release.
This includes:
- much improved cloud cover code,
- slightly faster rendering,
- fixed stars position,
- label placement to avoid collisions,
- auto-calibration of ambient light for night maps.
@
text
@$OpenBSD: patch-earthapp_cpp,v 1.1 2000/05/19 19:12:11 espie Exp $
--- earthapp.cpp.orig	Fri May 19 21:07:11 2000
+++ earthapp.cpp	Fri May 19 21:07:42 2000
@@@@ -371,7 +371,7 @@@@ void EarthApplication::readPosition(int 
   if(strncmp(argv()[i], "random", 6) == 0)
   {
     p_type = RANDOM;
-    srand((int)time(NULL) + (int)getpid());
+    srandom((int)time(NULL) + (int)getpid());
     return;
   }
   else if(strncmp(argv()[i], "fixed", 5) == 0)
@@@@ -937,8 +937,8 @@@@ void EarthApplication::readOutFileName(i
 
 void EarthApplication::randomPosition()
 {
-  view_lat = ((rand()%30001)/30000.)*180. - 90.;
-  view_long = ((rand()%30001)/30000.)*360. - 180.;
+  view_lat = ((random()%30001)/30000.)*180. - 90.;
+  view_long = ((random()%30001)/30000.)*360. - 180.;
 }
 
 /* ------------------------------------------------------------------------*/
@


1.1
log
@Use random(), OpenBSD rand() is not suitable for %.
Makes for less funny stars.
@
text
@d1 1
a1 1
$OpenBSD: update-patches,v 1.1 2000/04/19 11:16:27 espie Exp $
@

