head	1.11;
access;
symbols
	OPENBSD_6_1:1.11.0.10
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.11.0.8
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.4
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.11.0.6
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.11.0.2
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.10.0.4
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.10.0.2
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.7.0.2
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.6.0.10
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.8
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.6
	OPENBSD_5_0:1.6.0.4
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.2
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.3.0.6
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.4
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	stu_cassoff_20090106:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2014.10.21.05.09.43;	author stu;	state Exp;
branches;
next	1.10;
commitid	kdbO7mpZvN9SAdP0;

1.10
date	2014.02.09.12.26.00;	author stu;	state Exp;
branches;
next	1.9;

1.9
date	2014.02.07.10.59.03;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2013.11.09.18.22.02;	author zhuk;	state Exp;
branches;
next	1.7;

1.7
date	2013.03.11.11.46.16;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2011.01.05.16.48.22;	author stu;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.22.08.37.04;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.19.08.13.59;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2009.04.24.16.29.55;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.11.21.40.22;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.07.11.16.56;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.01.07.11.16.56;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Adjust installation for new Tcl Module path.
@
text
@# $OpenBSD: Makefile,v 1.10 2014/02/09 12:26:00 stu Exp $

COMMENT =		enhanced Tk console

DISTNAME =		tkcon-2.5
REVISION =		4
CATEGORIES =		x11 x11/tk
HOMEPAGE =		http://sourceforge.net/projects/tkcon/
MAINTAINER =		Stuart Cassoff <stwo@@users.sourceforge.net>

# BSD-like
PERMIT_PACKAGE_CDROM =	Yes

MODULES =		x11/tk
MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=tkcon/}
BUILD_DEPENDS =		devel/tcllib>=1.11.1
RUN_DEPENDS =		${MODTK_RUN_DEPENDS}
USE_GROFF =		Yes
NO_BUILD =		Yes
NO_TEST =		Yes
PKG_ARCH =		*

DOCDIR =		${PREFIX}/share/doc/tkcon
MODDIR =		${DESTDIR}${MODTCL_MODDIR}/85

# Conflicts with observe.n in Tcllib
BADMAN =		${WRKSRC}/docs/observe.n.man

do-configure:
	@@${MODTCL_WISH_ADJ} ${WRKSRC}/tkcon.tcl
	sed -e 's!manpage_begin observe!manpage_begin tkcon_observe!' \
		< ${BADMAN} > ${WRKSRC}/docs/tkcon_observe.n.man \
	&& mv ${BADMAN} ${BADMAN}.orig

do-install:
	${INSTALL_SCRIPT} ${WRKSRC}/tkcon.tcl ${PREFIX}/bin/tkcon
	# Enable loading as a 'Tcl Module' via [package require]
	${INSTALL_DATA_DIR} ${MODDIR}
	ln -sf ${TRUEPREFIX}/bin/tkcon ${MODDIR}/tkcon-2.5.tm
	${INSTALL_DATA_DIR} ${DOCDIR}
.for i in README.txt index.html
	${INSTALL_DATA} ${WRKSRC}/$i ${DOCDIR}/$i
.endfor
	${INSTALL_DATA_DIR} ${DOCDIR}/docs
	${INSTALL_DATA} ${WRKSRC}/docs/* ${DOCDIR}/docs/
	rm -f ${DOCDIR}/docs/*.man ${DOCDIR}/docs/*.orig
.for s in 1 5 n
	for i in ${WRKSRC}/docs/*.$s.man ; do \
		ofn=`basename $$i | sed -e 's/\..*$$/.$s/'` ; \
		dtplite -o ${PREFIX}/man/man$s/$$ofn nroff $$i ; \
	done
.endfor

.include <bsd.port.mk>
@


1.10
log
@Fix conflict; rename conflicting file.

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2014/02/07 10:59:03 espie Exp $
d6 1
a6 1
REVISION =		3
d24 1
a24 1
MODDIR =		${DESTDIR}${MODTCL_MODDIR}/${MODTCL_VERSION}
@


1.9
log
@unmarked conflict (mann/observe.n)
maintainer notified, for a possible better fix
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/11/09 18:22:02 zhuk Exp $
d6 1
a6 1
REVISION =		2
d26 3
d31 3
@


1.8
log
@Fix MODTCL_TCLSH_ADJ and MODTCL_WISH_ADJ.

Review, input, okay and prodding to commit by stu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/03/11 11:46:16 espie Exp $
d6 1
a6 1
REVISION =		1
@


1.7
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/01/05 16:48:22 stu Exp $
d6 1
a6 1
REVISION =		0
@


1.6
log
@Update to newer Tcl layout, doc fixes,
port Makefile adjustments.

ok landry@@, sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/22 08:37:04 espie Exp $
a12 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d20 1
a20 1
NO_REGRESS =		Yes
@


1.5
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/10/19 08:13:59 espie Exp $
d6 1
d21 1
d24 1
a24 1
USE_GROFF =		Yes
d27 1
a27 1
TCL_MODULES_DIR =	${PREFIX}/lib/tcl8/${MODTCL_VERSION}
d35 2
a36 2
	${INSTALL_DATA_DIR} ${TCL_MODULES_DIR}
	ln -sf ${TRUEPREFIX}/bin/tkcon ${TCL_MODULES_DIR}/tkcon-2.5.tm
d43 1
a43 1
	rm -f ${DOCDIR}/docs/*.man
@


1.4
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/04/24 16:29:55 sthen Exp $
d18 1
a18 1
BUILD_DEPENDS =		:tcllib->=1.11.1:devel/tcllib
d22 1
a22 1
USE_GROFF =	Yes
@


1.3
log
@update to 2.5 and Makefile reworking; from maintainer Stuart Cassoff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/03/11 21:40:22 sthen Exp $
d22 1
@


1.2
log
@bump following tk dep changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/01/07 11:16:56 sthen Exp $
d5 1
a5 3
DISTNAME =		tkcon-2.4
PKGNAME =		${DISTNAME}p0

a6 1

a7 1

a16 1

d18 1
a18 1

a19 1

d24 1
d26 2
a27 4
post-configure:
	@@perl -pi -e \
	'$$. == 3 && s!exec wish.*$$!exec wish${MODTK_VERSION} "\$$0" \$${1+"\$$@@"}!' \
	${WRKSRC}/tkcon.tcl
d31 3
d40 7
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
@


1.1.1.1
log
@import x11/tkcon, from maintainer Stuart Cassoff - thanks!

A replacement for the standard console that comes with Tk, tkcon
provides many more features than the standard console and works on all
platforms where Tcl/Tk is available.  It is meant primarily to aid one
when working with the little details inside Tcl and Tk and to give Unix
users the GUI console provided by default in the Mac and Windows Tk.

Features:
  Command history.
  Path (Unix style) / Proc / Variable name expansion.
  Multiple and tabbed consoles, each with its own state.
  Captures stdout and stderr to console window.
  Hot errors (click on error result to see stack trace).
  Electric character matching (a la emacs).
  Electric proc highlighting.
  Enhanced history searching.
  Configurable Cut / Copy / Paste between windows.
  Communication between consoles and other Tk interpreters.
@
text
@@
