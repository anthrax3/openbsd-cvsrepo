head	1.6;
access;
symbols
	OPENBSD_6_1:1.6.0.26
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.6.0.24
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.20
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.22
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.18
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.16
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.14
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.12
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.10
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.8
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.6
	OPENBSD_5_0:1.6.0.4
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.2
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.5.0.2
	OPENBSD_4_8_BASE:1.5
	OPENBSD_3_6:1.3.0.4
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.2.0.8
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.6
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.1.1.1.0.2
	OPENBSD_3_0_BASE:1.1.1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	naddy_20010511:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2010.09.05.21.35.06;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2010.03.21.09.27.25;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2005.01.10.00.30.23;	author jcs;	state dead;
branches;
next	1.3;

1.3
date	2004.01.01.15.10.59;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.02.10.03.04.18;	author jcs;	state Exp;
branches;
next	1.1;

1.1
date	2001.05.11.01.15.25;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.05.11.01.15.25;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.6
log
@- fix a warning during packaging about funky symlinks (ptd. out by sthen)
- get rid of gzip'd man pages

looks good to sthen@@
@
text
@$OpenBSD: patch-Makefile,v 1.5 2010/03/21 09:27:25 jasper Exp $
--- Makefile.orig	Thu Dec 27 19:15:32 2007
+++ Makefile	Sun Sep  5 23:32:29 2010
@@@@ -3,7 +3,7 @@@@
 
 # Set this to the location where you want to install
 DESTDIR =
-XROOT = /usr/X11R6
+XROOT = ${X11BASE}
 
 # Uncomment to enable Shape extension support
 #OPT_WMFLAGS += -DSHAPE
@@@@ -17,12 +17,12 @@@@ XROOT = /usr/X11R6
 #OPT_WMFLAGS += -DDEBUG
 #OPT_WMLIB += -lefence
 
-CC = gcc
-CFLAGS = -g -O2 -Wall
+#CC = gcc
+#CFLAGS = -g -O2 -Wall
 
-BINDIR = $(DESTDIR)$(XROOT)/bin
-MANDIR = $(DESTDIR)$(XROOT)/man/man1
-CFGDIR = $(DESTDIR)/etc/X11/aewm
+BINDIR = ${PREFIX}/bin
+MANDIR = ${PREFIX}/man/man1
+CFGDIR = ${PREFIX}/share/examples/aewm
 
 PLAINOBJ = aesession.o parser.o
 CLIENTOBJ = common.o atom.o
@@@@ -49,7 +49,7 @@@@ WMFLAGS = $(X11FLAGS) $(OPT_WMFLAGS)
 GTKFLAGS = `pkg-config --cflags gtk+-2.0`
 
 $(PLAINOBJ): %.o: %.c
-	$(CC) $(CFLAGS) -c $< -o $@@
+	$(CC) $(CFLAGS) $(X11FLAGS) -c $< -o $@@
 
 $(X11OBJ): %.o: %.c
 	$(CC) $(CFLAGS) $(X11FLAGS) -c $< -o $@@
@@@@ -81,17 +81,16 @@@@ AERC = aewmrc clientsrc
 
 install: all
 	mkdir -p $(BINDIR) $(MANDIR) $(CFGDIR)
-	install -s $(ALLBIN) $(BINDIR)
+	${BSD_INSTALL_PROGRAM} $(ALLBIN) $(BINDIR)
 	for i in $(AEMAN); do \
-	    install -m 644 doc/$$i $(MANDIR); \
-	    gzip -9 $(MANDIR)/$$i; \
+	    ${BSD_INSTALL_MAN} doc/$$i $(MANDIR); \
 	done
 	for i in $(AERC); do \
-	    install -m 644 doc/$$i.ex $(CFGDIR)/$$i; \
+	    ${BSD_INSTALL_PROGRAM} doc/$$i.ex $(CFGDIR)/$$i; \
 	done
 	for i in $(PLAINBIN) $(X11BIN) $(GTKBIN); do \
-	    ln -sf aeclients.1x.gz $(MANDIR)/$$i.1x.gz; \
-	done
+	    ln -sf aeclients.1x $(MANDIR)/$$i.1x; \
+ 	done
 
 clean:
 	rm -f $(ALLBIN) $(ALLOBJ)
@


1.5
log
@- update aewm to 1.3.12
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ Makefile	Mon Jan 25 23:31:39 2010
d40 1
a40 1
@@@@ -81,13 +81,12 @@@@ AERC = aewmrc clientsrc
d56 7
a62 1
 	    ln -sf aeclients.1x.gz $(MANDIR)/$$i.1x.gz; \
@


1.4
log
@update to aewm-1.3.0
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.3 2004/01/01 15:10:59 espie Exp $
--- Makefile.orig	2002-02-01 21:09:54.000000000 +0100
+++ Makefile	2003-12-31 22:45:18.000000000 +0100
@@@@ -4,7 +4,7 @@@@
d6 2
a7 2
 # This should be set to the location of the X installation you want to
 # compile against.
d11 30
a40 31
 # Comment out to remove shape support (for X11R5 or just a tiny bin)
 DEFINES += -DSHAPE
@@@@ -27,12 +27,12 @@@@ DEFINES += -DGNOME_PDA
 
 # --------------------------------------------------------------------
 
-CC       = gcc
-CFLAGS   = -g -O2 -Wall
+#CC       = gcc
+#CFLAGS   = -g -O2 -Wall
 
-BINDIR   = $(DESTDIR)$(XROOT)/bin
-MANDIR   = $(DESTDIR)$(XROOT)/man/man1
-CFGDIR   = $(DESTDIR)/etc/X11/aewm
+BINDIR   = ${PREFIX}/bin
+MANDIR   = ${PREFIX}/man/man1
+CFGDIR   = ${PREFIX}/share/examples/aewm
 INCLUDES = -Ilib -I$(XROOT)/include
 LDPATH   = -L$(XROOT)/lib
 LIBS     = -lX11 $(EXTRA_LIBS)
@@@@ -45,7 +45,7 @@@@ HEADERS  = aewm.h
 all: $(PROG) subdirs
 
 subdirs:
-	+make -C clients all
+	+gmake -C clients all
 
 $(PROG): $(OBJS)
 	$(CC) $(OBJS) $(LDPATH) $(LIBS) -o $@@
@@@@ -54,16 +54,15 @@@@ $(OBJS): %.o: %.c $(HEADERS)
 	$(CC) $(CFLAGS) $(DEFINES) $(INCLUDES) -c $< -o $@@
d43 14
a56 17
-	install -s $(PROG) $(BINDIR)
-	install -m 644 $(MANPAGE) $(MANDIR)
-	gzip -9vf $(MANDIR)/$(MANPAGE)
+	${BSD_INSTALL_PROGRAM} $(PROG) $(BINDIR)
+	${BSD_INSTALL_MAN} $(MANPAGE) $(MANDIR)
 	mkdir -p $(CFGDIR) && cp aewmrc.sample $(CFGDIR)/aewmrc
-	+make -C clients install
+	+gmake -C clients install
 
 clean: subdirs-clean
 	rm -f $(PROG) $(OBJS)
 
 subdirs-clean:
-	+make -C clients clean
+	+gmake -C clients clean
 
 .PHONY: all subdirs install clean subdirs-clean
@


1.3
log
@regen patches.
remove bogus token pasting "a" "b"  works, and those are separate tokens.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.2 2002/02/10 03:04:18 jcs Exp $
@


1.2
log
@Update to aewm-1.2.0
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.orig	Fri Feb  1 14:09:54 2002
+++ Makefile	Sat Feb  9 20:51:52 2002
d13 1
a13 1
@@@@ -27,12 +27,12 @@@@
d31 1
a31 1
@@@@ -45,7 +45,7 @@@@
d40 1
a40 1
@@@@ -54,16 +54,15 @@@@
@


1.1
log
@Initial revision
@
text
@d2 3
a4 3
--- Makefile.orig	Wed Jan 10 19:51:47 2001
+++ Makefile	Fri May 11 03:09:54 2001
@@@@ -19,15 +19,15 @@@@ EXTRA_LIBS += -lXext
d11 4
d24 1
d27 2
a28 1
 INCLUDES = -I$(XROOT)/include
d31 2
a32 2
@@@@ -38,6 +38,7 @@@@ OBJS     = main.o events.o client.o new.
 HEADERS  = aewm.h
d34 3
a36 2
 all: $(PROG)
+	cd goodies; ${MAKE}
d40 1
a40 1
@@@@ -46,9 +47,9 @@@@ $(OBJS): %.o: %.c $(HEADERS)
d49 3
a51 1
+	cd goodies; ${MAKE} install
d53 1
a53 1
 clean:
d55 6
@


1.1.1.1
log
@Initial import of aewm-1.1.2.
Submitted by Joshua Stein <jcs@@rt.fm>.

aewm is a minimalistic window manager for X11.  It has no nifty
features, but is light on resources and extremely simple in appearance.
@
text
@@
