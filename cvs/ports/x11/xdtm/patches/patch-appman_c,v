head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.24
	OPENBSD_6_2_BASE:1.1
	OPENBSD_6_1:1.1.0.22
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.20
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.16
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.18
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.14
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.12
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.10
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.8
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.6
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.4
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2011.11.13.16.03.15;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.1
log
@don't use union wait
@
text
@$OpenBSD$
--- appman.c.orig	Sun Nov 13 08:37:53 2011
+++ appman.c	Sun Nov 13 08:47:56 2011
@@@@ -85,7 +85,7 @@@@
   private void freeReturnStruct(void);
   extern String getfilename(String);
   private void increment_counter(AppProgram*, int, char*);
-  extern void ioerr_dialog(int errno);
+  extern void ioerr_dialog(int errnum);
   extern int openMasterAndSlave(int *, int *);
   void pl_select_made(Widget, XtPointer, XtPointer);
   private int plistcmp(const void *, const void *);
@@@@ -1297,7 +1297,7 @@@@ public int execute(fullname, filename, fullcmd, cwait,
 #endif
     FILE         *processfp = NULL;    /* file pointer to process */
     String *newargs, args;
-#if !defined(SYSV) && !defined(SVR4_0) && !defined(_POSIX_SOURCE) && !defined(__386BSD__)
+#if !defined(SYSV) && !defined(SVR4_0) && !defined(_POSIX_SOURCE) && !defined(__386BSD__) && !defined(__OpenBSD__)
     union wait       w_stat;   /* I'm not sure about the SYSV bit... */
 #else
     int              w_stat;
@@@@ -1843,7 +1843,7 @@@@ public void child_died()
   extern String cwd;
 
   int pid;
-#if !defined(SYSV) && !defined(SVR4_0) && !defined(_POSIX_SOURCE)
+#if !defined(SYSV) && !defined(SVR4_0) && !defined(_POSIX_SOURCE) && !defined(__OpenBSD__)
   union wait status;
 #else
   int status;
@
