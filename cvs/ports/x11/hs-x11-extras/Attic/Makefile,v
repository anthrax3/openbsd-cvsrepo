head	1.5;
access;
symbols
	OPENBSD_4_7:1.4.0.6
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.4
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.2
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.3.0.4
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	kili_20070902:1.1.1.1
	kili:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2010.04.22.22.06.50;	author kili;	state dead;
branches;
next	1.4;

1.4
date	2008.09.19.21.57.16;	author kili;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.18.19.44.27;	author kili;	state Exp;
branches;
next	1.2;

1.2
date	2007.09.16.19.56.33;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2007.09.01.22.13.42;	author kili;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.09.01.22.13.42;	author kili;	state Exp;
branches;
next	;


desc
@@


1.5
log
@This is no longer needed.
@
text
@# $OpenBSD: Makefile,v 1.4 2008/09/19 21:57:16 kili Exp $

COMMENT=		missing bindings to the X11 graphics library for GHC

V=			0.4
DISTNAME=		X11-extras-$V
PKGNAME=		hs-x11-extras-${V}p0

CATEGORIES=		x11

HOMEPAGE=		http://hackage.haskell.org/cgi-bin/hackage-scripts/package/${DISTNAME}

# BSD
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	http://hackage.haskell.org/packages/archive/X11-extras/$V/

MODULES=		lang/ghc

BUILD_DEPENDS=		::devel/haddock

SETUP_CONF_ARGS=	configure -g --prefix=${PREFIX}
SETUP_CONF_ENV=		HOME=${PORTHOME} ${CONFIGURE_ENV}
SETUP_PROG=		${WRKSRC}/Setup
SUBST_VARS=		V

USE_X11=		Yes

do-configure:
	@@cd ${WRKSRC} && ghc --make -o ${SETUP_PROG} Setup.lhs
	@@cd ${WRKBUILD} && exec ${SETENV} ${SETUP_CONF_ENV} \
		${SETUP_PROG} ${SETUP_CONF_ARGS}

do-build:
	@@cd ${WRKBUILD} && exec ${SETENV} ${MAKE_ENV} \
		${SETUP_PROG} build
	@@cd ${WRKBUILD} && exec ${SETENV} ${MAKE_ENV} \
		${SETUP_PROG} haddock
	@@cd ${WRKBUILD} && exec ${SETENV} ${MAKE_ENV} \
		${SETUP_PROG} register --gen-script
	@@cd ${WRKBUILD} && exec ${SETENV} ${MAKE_ENV} \
		${SETUP_PROG} unregister --gen-script
	perl -pi -e 's!/share/${DISTNAME}/doc/html!/share/doc/${DISTNAME}!' \
		${WRKBUILD}/register.sh

do-install:
	@@cd ${WRKBUILD} && exec ${SETENV} ${MAKE_ENV} \
		${SETUP_PROG} copy --destdir=${DESTDIR}

post-install:
	mv ${PREFIX}/share/${DISTNAME}/doc/html ${PREFIX}/share/doc/${DISTNAME}
	rm -rf ${PREFIX}/share/${DISTNAME}
.for f in register.sh unregister.sh
	${INSTALL_SCRIPT} ${WRKBUILD}/$f ${PREFIX}/lib/${DISTNAME}
.endfor

do-regress:
	@@cd ${WRKBUILD} && exec ${SETENV} ${MAKE_ENV} \
		${SETUP_PROG} test

.include <bsd.port.mk>
@


1.4
log
@
Drop maintainership.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/11/18 19:44:27 kili Exp $
@


1.3
log
@
Update to 0.4. From Dmitri Alenitchev.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/09/16 19:56:33 kili Exp $
d7 1
a7 1
PKGNAME=		hs-x11-extras-$V
a11 2

MAINTAINER=		Matthias Kilian <kili@@openbsd.org>
@


1.2
log
@
Update to 0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/09/01 22:13:42 kili Exp $
d5 1
a5 1
V=			0.3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
V=			0.2
d11 1
a11 1
HOMEPAGE=		http://hackage.haskell.org/cgi-bin/hackage-scripts/package/X11-extras-0.2
@


1.1.1.1
log
@
The X11 extra bindings for GHC expose more of X11 to the Haskell
world than the X11 libraries shipped with GHC.
@
text
@@
