head	1.61;
access;
symbols
	OPENBSD_4_9:1.60.0.2
	OPENBSD_4_9_BASE:1.60
	OPENBSD_4_8:1.58.0.2
	OPENBSD_4_8_BASE:1.58
	OPENBSD_4_7:1.57.0.2
	OPENBSD_4_7_BASE:1.57
	OPENBSD_4_6:1.56.0.2
	OPENBSD_4_6_BASE:1.56
	OPENBSD_4_5:1.55.0.6
	OPENBSD_4_5_BASE:1.55
	OPENBSD_4_4:1.55.0.4
	OPENBSD_4_4_BASE:1.55
	OPENBSD_4_3:1.55.0.2
	OPENBSD_4_3_BASE:1.55
	OPENBSD_4_2:1.54.0.2
	OPENBSD_4_2_BASE:1.54
	OPENBSD_4_1:1.53.0.6
	OPENBSD_4_1_BASE:1.53
	OPENBSD_4_0:1.53.0.4
	OPENBSD_4_0_BASE:1.53
	OPENBSD_3_9:1.53.0.2
	OPENBSD_3_9_BASE:1.53
	OPENBSD_3_8:1.50.0.4
	OPENBSD_3_8_BASE:1.50
	OPENBSD_3_7:1.50.0.2
	OPENBSD_3_7_BASE:1.50
	OPENBSD_3_6:1.49.0.4
	OPENBSD_3_6_BASE:1.49
	OPENBSD_3_5:1.49.0.2
	OPENBSD_3_5_BASE:1.49
	OPENBSD_3_4:1.48.0.4
	OPENBSD_3_4_BASE:1.48
	OPENBSD_3_3:1.48.0.2
	OPENBSD_3_3_BASE:1.48
	OPENBSD_3_2:1.47.0.6
	OPENBSD_3_2_BASE:1.47
	OPENBSD_3_1:1.47.0.4
	OPENBSD_3_1_BASE:1.47
	OPENBSD_3_0:1.47.0.2
	OPENBSD_3_0_BASE:1.47
	OPENBSD_2_9_TRACKING_SWITCH:1.46
	OPENBSD_2_9:1.45.0.2
	OPENBSD_2_9_BASE:1.45
	OPENBSD_2_8:1.44.0.2
	OPENBSD_2_8_BASE:1.44
	OPENBSD_2_7:1.37.0.2
	OPENBSD_2_7_BASE:1.37
	OPENBSD_2_6:1.30.0.2
	OPENBSD_2_6_BASE:1.30
	OPENBSD_2_5:1.21.0.2
	OPENBSD_2_5_BASE:1.21
	OPENBSD_2_4:1.14.0.2
	OPENBSD_2_4_BASE:1.14
	OPENBSD_2_3:1.5.0.2
	OPENBSD_2_3_BASE:1.5
	lesstif0_82:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.61
date	2011.04.10.17.54.34;	author jasper;	state dead;
branches;
next	1.60;

1.60
date	2010.10.24.21.15.33;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2010.10.19.08.13.58;	author espie;	state Exp;
branches;
next	1.58;

1.58
date	2010.07.30.06.58.59;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2009.08.11.08.42.08;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2009.03.07.15.37.38;	author jasper;	state Exp;
branches;
next	1.55;

1.55
date	2007.09.15.20.04.22;	author merdely;	state Exp;
branches;
next	1.54;

1.54
date	2007.05.31.03.06.29;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2006.01.12.01.05.22;	author naddy;	state Exp;
branches;
next	1.52;

1.52
date	2005.12.26.18.45.10;	author naddy;	state Exp;
branches;
next	1.51;

1.51
date	2005.10.30.00.10.42;	author fgsch;	state Exp;
branches;
next	1.50;

1.50
date	2005.03.15.20.37.38;	author alek;	state Exp;
branches;
next	1.49;

1.49
date	2003.10.08.17.13.17;	author sturm;	state Exp;
branches
	1.49.2.1;
next	1.48;

1.48
date	2002.12.29.20.31.41;	author fgsch;	state Exp;
branches
	1.48.4.1;
next	1.47;

1.47
date	2001.09.28.06.02.15;	author pvalchev;	state Exp;
branches;
next	1.46;

1.46
date	2001.05.06.04.41.18;	author lebel;	state Exp;
branches;
next	1.45;

1.45
date	2001.01.22.02.43.34;	author brad;	state Exp;
branches;
next	1.44;

1.44
date	2000.09.24.07.04.16;	author brad;	state Exp;
branches;
next	1.43;

1.43
date	2000.09.11.07.23.18;	author brad;	state Exp;
branches;
next	1.42;

1.42
date	2000.07.08.22.42.34;	author brad;	state Exp;
branches;
next	1.41;

1.41
date	2000.07.04.02.17.54;	author krw;	state Exp;
branches;
next	1.40;

1.40
date	2000.06.30.06.01.26;	author brad;	state Exp;
branches;
next	1.39;

1.39
date	2000.06.20.01.24.44;	author brad;	state Exp;
branches;
next	1.38;

1.38
date	2000.06.14.14.08.07;	author brad;	state Exp;
branches;
next	1.37;

1.37
date	2000.04.16.21.33.02;	author brad;	state Exp;
branches
	1.37.2.1;
next	1.36;

1.36
date	2000.03.12.01.11.48;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2000.02.15.05.05.30;	author turan;	state Exp;
branches;
next	1.34;

1.34
date	2000.02.12.08.02.34;	author turan;	state Exp;
branches;
next	1.33;

1.33
date	2000.01.27.19.11.41;	author brad;	state Exp;
branches;
next	1.32;

1.32
date	99.12.18.19.41.39;	author brad;	state Exp;
branches;
next	1.31;

1.31
date	99.11.12.13.51.21;	author brad;	state Exp;
branches;
next	1.30;

1.30
date	99.09.13.21.28.37;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	99.07.17.04.42.21;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	99.07.01.22.06.31;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	99.06.24.18.14.03;	author form;	state Exp;
branches;
next	1.26;

1.26
date	99.06.24.11.03.07;	author form;	state Exp;
branches;
next	1.25;

1.25
date	99.06.23.00.09.23;	author marc;	state Exp;
branches;
next	1.24;

1.24
date	99.06.14.06.23.23;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	99.05.13.02.10.43;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	99.04.22.16.07.23;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	99.04.14.19.23.44;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	99.03.21.04.04.24;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	99.03.02.04.41.09;	author marc;	state Exp;
branches;
next	1.18;

1.18
date	99.02.21.04.26.16;	author marc;	state Exp;
branches;
next	1.17;

1.17
date	99.02.18.02.37.40;	author marc;	state Exp;
branches;
next	1.16;

1.16
date	98.12.10.07.42.28;	author form;	state Exp;
branches;
next	1.15;

1.15
date	98.11.12.09.08.32;	author form;	state Exp;
branches;
next	1.14;

1.14
date	98.10.20.08.39.49;	author form;	state Exp;
branches;
next	1.13;

1.13
date	98.08.22.17.59.53;	author marc;	state Exp;
branches;
next	1.12;

1.12
date	98.08.20.20.56.47;	author marc;	state Exp;
branches;
next	1.11;

1.11
date	98.08.17.17.37.53;	author marc;	state Exp;
branches;
next	1.10;

1.10
date	98.07.23.09.17.40;	author form;	state Exp;
branches;
next	1.9;

1.9
date	98.06.23.23.11.10;	author marc;	state Exp;
branches;
next	1.8;

1.8
date	98.06.11.08.51.26;	author todd;	state Exp;
branches;
next	1.7;

1.7
date	98.06.02.20.51.48;	author marc;	state Exp;
branches;
next	1.6;

1.6
date	98.05.06.06.05.05;	author form;	state Exp;
branches;
next	1.5;

1.5
date	98.02.13.15.13.29;	author niklas;	state Exp;
branches;
next	1.4;

1.4
date	98.02.10.10.45.22;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	98.01.30.22.20.18;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	98.01.21.22.07.11;	author tacho;	state Exp;
branches;
next	1.1;

1.1
date	97.12.03.04.05.23;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.03.04.05.23;	author angelos;	state Exp;
branches;
next	;

1.37.2.1
date	2000.09.15.05.25.12;	author marc;	state Exp;
branches;
next	;

1.48.4.1
date	2004.09.30.01.38.02;	author brad;	state Exp;
branches;
next	;

1.49.2.1
date	2004.09.30.01.41.32;	author brad;	state Exp;
branches;
next	;


desc
@@


1.61
log
@
  Remove lesstif, it never really up with openmotif and isn't relevant anymore.

Depending ports and the infrastructure will taken care of shortly.

ok aja@@ sthen@@
@
text
@# $OpenBSD: Makefile,v 1.60 2010/10/24 21:15:33 ajacoutot Exp $
# $FreeBSD: Makefile,v 1.17 1998/03/28 14:12:55 steve Exp $

COMMENT=	API-compatible clone of the Motif toolkit

DISTNAME=	lesstif-0.92.6
REVISION=	2

SHARED_LIBS=	Mrm	1.2 \
		Uil	1.2 \
		Xm	1.2
CATEGORIES=	x11
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=lesstif/}

HOMEPAGE=	http://www.lesstif.org/

# GPL/LGPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

WANTLIB += ICE SM X11 Xau Xdmcp Xext Xt c pthread-stubs xcb

USE_GMAKE=	Yes
USE_LIBTOOL=	Yes
USE_GROFF =	Yes
SEPARATE_BUILD=	concurrent
CONFIGURE_STYLE= gnu
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/lib/Xlt ${WRKSRC}/lib/Xbae
CONFIGURE_ARGS+=${CONFIGURE_SHARED} \
		--enable-static \
		--enable-production \
		--enable-build-12 \
		--disable-build-20 \
		--disable-build-21 \
		--enable-default-12 \
		--disable-build-Xbae \
		--disable-build-Xlt \
		--disable-debug \
		--with-editres

.if defined(HAVE_MOTIF) && ${HAVE_MOTIF:L} == "yes"
IS_INTERACTIVE=	Yes

pre-install:
	@@echo "***********************************************************"
	@@echo "*                      W a r n i n g                      *"
	@@echo "* This port will overwrite your Motif installation.       *"
	@@echo "***********************************************************"
	@@echo -n "Is this ok? (y/n) ==> "
	@@(read ans; \
	  case x"$$ans" in \
	    xy*|xY*) \
	        return 0; \
	        ;; \
	    *) \
	        echo "Okay, I won't install it then...."; \
	        echo "(Don't worry about the following \"*** Error code 1\"s)"; \
	        return 1; \
	        ;; \
	  esac)
.endif

.include <bsd.port.mk>
@


1.60
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/10/19 08:13:58 espie Exp $
@


1.59
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/07/30 06:58:59 ajacoutot Exp $
a24 1
USE_X11=	Yes
@


1.58
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2009/08/11 08:42:08 ajacoutot Exp $
d28 1
@


1.57
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/03/07 15:37:38 jasper Exp $
d7 2
a8 1
PKGNAME=	${DISTNAME}p2
@


1.56
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2007/09/15 20:04:22 merdely Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d22 1
a22 1
WANTLIB += ICE SM X11 Xau Xdmcp Xext Xt c
@


1.55
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2007/05/31 03:06:29 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d21 2
a22 1
WANTLIB=		ICE Xt c X11 SM Xext
d30 10
a39 4
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+=--enable-static --enable-production --enable-build-12 \
		--disable-build-20 --disable-build-21 --enable-default-12 \
		--disable-build-Xbae --disable-build-Xlt --disable-debug \
@


1.54
log
@- use MASTER_SITE_SOURCEFORGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2006/01/12 01:05:22 naddy Exp $
d4 1
a4 1
COMMENT=	"API-compatible clone of the Motif toolkit"
@


1.53
log
@remove MODGNU_SHARED_LIBS and related hacks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2005/12/26 18:45:10 naddy Exp $
d12 1
a12 3
MASTER_SITES=	ftp://ftp.lesstif.org/pub/hungry/lesstif/srcdist/ \
		ftp://ftp.hungry.com/pub/hungry/lesstif/srcdist/ \
		ftp://linux.mathematik.tu-darmstadt.de/pub/linux/mirrors/misc/lesstif/srcdist/
@


1.52
log
@SHARED_LIBS and some USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2005/10/30 00:10:42 fgsch Exp $
a10 3
MODGNU_SHARED_LIBS=	Mrm	'' \
			Uil	'' \
			Xm	''
@


1.51
log
@after querying brad@@ he decided to drop maintainership for these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2005/03/15 20:37:38 alek Exp $
d4 1
a4 1
COMMENT=	"API compatible clone of the Motif toolkit"
d7 7
d30 1
@


1.50
log
@- Add WANTLIB marker
- Fix building with malloc.conf set to AJX

Test, help and ok (in this order ;) couderc@@, naddy@@ and pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2003/10/08 17:13:17 sturm Exp $
a12 2

MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.49
log
@first bunch of license cleanup, some discussions about interpretation
during the release with pval@@

other categories will follow once they are finished
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2002/12/29 20:31:41 fgsch Exp $
d21 1
@


1.49.2.1
log
@fix stack and integer overflows in the Xpm library code

CAN-2004-0687, CAN-2004-0688
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2003/10/08 17:13:17 sturm Exp $
a6 1
PKGNAME=	${DISTNAME}p1
@


1.48
log
@zap NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2001/09/28 06:02:15 pvalchev Exp $
d16 1
@


1.48.4.1
log
@fix stack and integer overflows in the Xpm library code

CAN-2004-0687, CAN-2004-0688
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2002/12/29 20:31:41 fgsch Exp $
a6 1
PKGNAME=	${DISTNAME}p1
@


1.47
log
@CONFIGURE_STYLE=gnu w/ proper MODGNU_CONFIG_GUESS_DIRS
needed for the powerpc -> macppc name change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2001/05/06 04:41:18 lebel Exp $
a7 1
NEED_VERSION=	1.402
@


1.46
log
@x11: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2001/01/22 02:43:34 brad Exp $
d26 1
@


1.45
log
@upgrade to LessTif 0.92.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2000/09/24 07:04:16 brad Exp $
d4 2
d8 1
a8 1
NEED_VERSION=	1.336
@


1.44
log
@add name to MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2000/09/11 07:23:18 brad Exp $
d4 1
a4 1
DISTNAME=	lesstif-0.91.8
d6 1
a6 1
NEED_VERSION=	1.330
d20 2
d26 3
a28 2
		--disable-build-20 --disable-build-Xbae --disable-build-Xlt \
		--disable-debug --with-editres
d30 1
a30 1
.if defined(HAVE_MOTIF)
@


1.43
log
@upgrade to LessTif 0.91.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2000/07/08 22:42:34 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.320
d13 1
a13 1
MAINTAINER=	brad@@openbsd.org
@


1.42
log
@upgrade to LessTif 0.91.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2000/07/04 02:17:54 krw Exp $
d4 1
a4 1
DISTNAME=	lesstif-0.91.4
d6 1
a6 1
NEED_VERSION=	1.310
@


1.41
log
@Change PFRAG.shared ldconfig invocation(s) to
DYNLIBDIR() invocations.

Bump NEED_VERSION to 1.310 so DYNLIBDIR() works.

As requested by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2000/06/30 06:01:26 brad Exp $
d4 1
a4 1
DISTNAME=	lesstif-0.91.3
d10 2
@


1.40
log
@upgrade to LessTif 0.91.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2000/06/20 01:24:44 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.301
@


1.39
log
@upgrade to LessTif 0.91.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2000/06/14 14:08:07 brad Exp $
d4 1
a4 1
DISTNAME=	lesstif-0.91.0
d7 3
a9 3
MASTER_SITES=	ftp://ftp.lesstif.org/pub/hungry/lesstif/srcdist/obsolete/ \
		ftp://ftp.hungry.com/pub/hungry/lesstif/srcdist/obsolete/ \
		ftp://linux.mathematik.tu-darmstadt.de/pub/linux/mirrors/misc/lesstif/srcdist/obsolete/
a45 19

STATIC_LIBS=	libMrm.a libXm.a
SHARED_LIBS=	libMrm.so.1.2 libXm.so.1.2

# link the 1.2 motif libraries from $(prefix)/LessTif/Motif1.2/lib
# to $(prefix)/lib (where OpenBSD looks for them) and then run
# ldconfig to update the library cache

post-install:
	@@rm -f ${PREFIX}/lib/libMrm.so
	@@rm -f ${PREFIX}/lib/libXm.so
.for lib in ${STATIC_LIBS}
	@@ln -sf ${TRUEPREFIX}/LessTif/Motif1.2/lib/${lib} ${PREFIX}/lib
.endfor
.for lib in ${SHARED_LIBS}
	@@if [ "x${NO_SHARED_LIBS}" = "x" ]; then \
	  ln -sf ${TRUEPREFIX}/LessTif/Motif1.2/lib/${lib} ${PREFIX}/lib; \
	 fi
.endfor
@


1.38
log
@- remove FAKE=Yes
- GNU_CONFIGURE -> CONFIGURE_STYLE
- use new framework for PLISTs
- add @@comment with RCS id to PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2000/04/16 21:33:02 brad Exp $
d4 1
a4 1
DISTNAME=	lesstif-0.89.9
@


1.37
log
@- bump NEED_VERSION
- fix dist site URLs
- remove license type
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2000/03/12 01:11:48 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.234
a17 3
FAKE=	Yes

USE_X11=	Yes
d19 1
a19 1
GNU_CONFIGURE=	Yes
@


1.37.2.1
log
@bring x11 as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2000/07/08 22:42:34 brad Exp $
d4 1
a4 1
DISTNAME=	lesstif-0.91.4
d6 4
a9 6
NEED_VERSION=	1.310
MASTER_SITES=	ftp://ftp.lesstif.org/pub/hungry/lesstif/srcdist/ \
		ftp://ftp.hungry.com/pub/hungry/lesstif/srcdist/ \
		ftp://linux.mathematik.tu-darmstadt.de/pub/linux/mirrors/misc/lesstif/srcdist/

HOMEPAGE=	http://www.lesstif.org/
d18 3
d22 1
a22 1
CONFIGURE_STYLE= gnu
d49 19
@


1.36
log
@Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2000/02/15 05:05:30 turan Exp $
d6 4
a9 5
NEED_VERSION=	1.73
MASTER_SITES=	ftp://ftp.lesstif.org/pub/hungry/lesstif/srcdist/ \
		ftp://ftp.hungry.com/pub/hungry/lesstif/srcdist/ \
		ftp://linux.mathematik.tu-darmstadt.de/pub/linux/mirrors/misc/lesstif/srcdist/

a12 1
LICENSE_TYPE=		GPL
d18 2
a22 1
FAKE=		Yes
@


1.35
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2000/02/12 08:02:34 turan Exp $
d6 1
a10 1
NEED_VERSION=	1.73
d15 4
a18 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d20 1
a20 1
USE_X11=	yes
d22 2
a23 1
GNU_CONFIGURE=	yes
d30 1
a30 1
IS_INTERACTIVE=	yes
d62 1
a62 1
	@@ln -sf ${PREFIX}/LessTif/Motif1.2/lib/${lib} ${PREFIX}/lib
d66 1
a66 1
	  ln -sf ${PREFIX}/LessTif/Motif1.2/lib/${lib} ${PREFIX}/lib; \
a68 1
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.34
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2000/01/27 19:11:41 brad Exp $
d15 4
a18 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.33
log
@upgrade to LessTif 0.89.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 1999/12/18 19:41:39 brad Exp $
d13 6
@


1.32
log
@upgrade to LessTif 0.89.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 1999/11/12 13:51:21 brad Exp $
d4 1
a4 1
DISTNAME=	lesstif-0.89.4
@


1.31
log
@fix MASTER_SITES URLs for now. This version of LessTif has been moved
into the "obsolete" dir. Maybe it's time for this to be updated ...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 1999/09/13 21:28:37 brad Exp $
d4 1
a4 1
DISTNAME=	lesstif-0.89.0
d6 3
a8 3
MASTER_SITES=	ftp://ftp.lesstif.org/pub/hungry/lesstif/srcdist/obsolete/ \
		ftp://ftp.hungry.com/pub/hungry/lesstif/srcdist/obsolete/ \
		ftp://linux.mathematik.tu-darmstadt.de/pub/linux/mirrors/misc/lesstif/srcdist/obsolete/
d18 3
a20 5
CONFIGURE_ARGS+= --enable-static --enable-production --enable-build-12 \
		 --disable-build-20 --disable-debug --with-editres

STATIC_LIBS=	libMrm.a libXm.a
SHARED_LIBS=	libMrm.so.1.2 libXm.so.1.2
d24 1
d26 5
a30 5
	@@${ECHO} "***********************************************************"
	@@${ECHO} "*                      W a r n i n g                      *"
	@@${ECHO} "* This port will overwrite your Motif installation.       *"
	@@${ECHO} "***********************************************************"
	@@${ECHO} -n "Is this ok? (y/n) ==> "
d37 2
a38 2
	        ${ECHO} "Okay, I won't install it then...."; \
	        ${ECHO} "(Don't worry about the following \"*** Error code 1\"s)"; \
d44 3
d52 2
a53 2
	@@${RM} -f ${PREFIX}/lib/libMrm.so
	@@${RM} -f ${PREFIX}/lib/libXm.so
d55 1
a55 1
	@@${LN} -sf ${PREFIX}/LessTif/Motif1.2/lib/${lib} ${PREFIX}/lib
d59 1
a59 1
	  ${LN} -sf ${PREFIX}/LessTif/Motif1.2/lib/${lib} ${PREFIX}/lib; \
@


1.30
log
@upgrade to LessTif 0.89.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 1999/07/17 04:42:21 brad Exp $
d6 3
a8 3
MASTER_SITES=	ftp://ftp.lesstif.org/pub/hungry/lesstif/srcdist/ \
		ftp://ftp.hungry.com/pub/hungry/lesstif/srcdist/ \
		ftp://linux.mathematik.tu-darmstadt.de/pub/linux/mirrors/misc/lesstif/srcdist/
@


1.29
log
@upgrade to LessTif 0.88.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 1999/07/01 22:06:31 brad Exp $
d4 1
a4 1
DISTNAME=	lesstif-0.88.9
a13 3
STATIC_LIBS=	libMrm.a libXm.a
SHARED_LIBS=	libMrm.so.1.2 libXm.so.1.2

d21 3
d48 1
a48 1
#
@


1.28
log
@- make post-install target remove unnecessary sym links
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 1999/06/24 18:14:03 form Exp $
d4 1
a4 1
DISTNAME=	lesstif-0.88.1
d21 2
a22 2
CONFIGURE_ARGS+= --enable-static --disable-debug --enable-build-12 \
		 --disable-build-20 --with-editres
@


1.27
log
@Fix NO_SHARED_LIBS checking.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 1999/06/24 11:03:07 form Exp $
d50 2
d53 1
a53 1
	${LN} -sf ${PREFIX}/LessTif/Motif1.2/lib/${lib} ${PREFIX}/lib
d60 1
a60 1
	${LDCONFIG} -m ${PREFIX}/lib
@


1.26
log
@Installation errors fixed:
	- symlinks to Lesstif libraries never created in ${PREFIX}/lib
	  if NO_SHARED_LIBS is defined;
	- bogus "/lib" in symlinks;
	- ${LDCONFIG} -m called for each library installed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 1999/06/23 00:09:23 marc Exp $
a52 1
.if !defined(NO_SHARED_LIBS)
d54 3
a56 1
	${LN} -sf ${PREFIX}/LessTif/Motif1.2/lib/${lib} ${PREFIX}/lib
d58 1
a58 2
	  ${LDCONFIG} -m ${PREFIX}/lib
.endif
@


1.25
log
@* disable motif 2.0 build and install
* enable editres support
* link libs into /lib so they can be found in normal operation
* update PLIST and PLIST.noshared to match files installed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 1999/06/14 06:23:23 brad Exp $
d14 3
d50 6
a55 5
.for lib in libMrm.a libMrm.so.1.2 libXm.a libXm.so.1.2
	if [ "x${NO_SHARED_LIBS}" = "x" ]; then \
	  ${LN} -sf ${PREFIX}/LessTif/Motif1.2/lib/lib/${lib} ${PREFIX}/lib; \
	  ${LDCONFIG} -m ${PREFIX}/lib; \
	fi
d57 2
@


1.24
log
@SEPARATE_BUILD= yes -> concurrent
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 1999/05/13 02:10:43 brad Exp $
d18 2
a19 1
CONFIGURE_ARGS+= --enable-static --disable-debug --enable-build-12
d41 12
@


1.23
log
@one of the dist sites has changed its hostname; Alex Nash <nash@@mcs.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 1999/04/22 16:07:23 brad Exp $
d6 3
a13 4
MASTER_SITES=	ftp://ftp.lesstif.org/pub/hungry/lesstif/srcdist/  \
		ftp://ftp.hungry.com/pub/hungry/lesstif/srcdist/ \
		ftp://linux.mathematik.tu-darmstadt.de/pub/linux/mirrors/misc/lesstif/srcdist/

d15 1
a15 1
SEPARATE_BUILD=	yes
a18 1
CONFIGURE_ENV=	${SETENV}
@


1.22
log
@upgrade to lesstif 0.88.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 1999/04/14 19:23:44 brad Exp $
d13 1
a13 1
		ftp://ftp.mathematik.th-darmstadt.de/pub/linux/mirrors/misc/lesstif/srcdist/
@


1.21
log
@fix install path of some stray man pages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 1999/03/21 04:04:24 brad Exp $
d4 1
a4 1
DISTNAME=	lesstif-0.88.0
d19 1
a19 1
CONFIGURE_ARGS+= --disable-debug --enable-build-12 --enable-static
@


1.20
log
@upgrade to lesstif 0.88.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 1999/03/02 04:41:09 marc Exp $
a15 1

@


1.19
log
@fix earlier bogus changes to Makefile where a value that
was defined in bsd.port.mk was checked before bsd.port.mk was included;
this should make ports with optional shared libs build on the alpha,
again.  However, chages require the latest bsd.port.mk
@
text
@d1 2
a2 3
# $OpenBSD: Makefile,v 1.18 1999/02/21 04:26:16 marc Exp $
# FreeBSD: Makefile,v 1.17 1998/03/28 14:12:55 steve Exp
#
d4 1
a4 1
DISTNAME=	lesstif-0.87.0
d9 1
a9 1
MAINTAINER=	form@@OpenBSD.ORG
d17 5
a21 8
# see below for shared lib version information
#
GNU_CONFIGURE=		yes
CONFIGURE_ARGS=		--disable-debug
CONFIGURE_ARGS+=	--enable-build-12
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ENV=		${SETENV}
@


1.18
log
@needs version 1.64 (or later) of bsd.port.mk
to build/install correctly; PLIST.noshared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 1999/02/18 02:37:40 marc Exp $
d8 1
a8 1
NEED_VERSION=	1.64
d23 1
a23 3
.if !defined(NO_SHARED_LIBS)
CONFIGURE_ARGS+=	--enable-shared
.endif
@


1.17
log
@use NO_SHARED_LIBS instead of test for alpha;
use PLIST.noshared instead of PLIST.alpha
@
text
@d1 1
a1 6
# New ports collection makefile for:	lesstif
# Version required:	0.86.0
# Date created:		December 10, 1996
# Whom:			form@@OpenBSD.ORG
#
# $OpenBSD: Makefile,v 1.16 1998/12/10 07:42:28 form Exp $
d7 2
@


1.16
log
@update to 0.87.0
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.15 1998/11/12 09:08:32 form Exp $
d26 1
a26 1
.if (${MACHINE_ARCH} != "alpha")
@


1.15
log
@update to 0.86.9
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.14 1998/10/20 08:39:49 form Exp $
d10 1
a10 1
DISTNAME=	lesstif-0.86.9
a53 1

@


1.14
log
@form@@vs.itam.nsc.ru -> form@@openbsd.org
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.13 1998/08/22 17:59:53 marc Exp $
d10 1
a10 1
DISTNAME=	lesstif-0.86.0
@


1.13
log
@remove unneeded post-install rule; add patch to not build 2.0 -- the static
lib was overwriting the 1.2 static lib
@
text
@d4 1
a4 1
# Whom:			form@@vs.itam.nsc.ru
d6 1
a6 1
# $OpenBSD: Makefile,v 1.12 1998/08/20 20:56:47 marc Exp $
d13 1
a13 1
MAINTAINER=	form@@vs.itam.nsc.ru
@


1.12
log
@don't try to strip shared libs on machines where shared libs aren't installed
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.11 1998/08/17 17:37:53 marc Exp $
d25 1
a51 15

post-install:
	${MKDIR} ${PREFIX}/lib/X11/mwm ${PREFIX}/lib/X11/app-defaults
	${INSTALL_DATA} ${WRKSRC}/clients/Motif-1.2/mwm/system.mwmrc \
		${PREFIX}/lib/X11/mwm
	${INSTALL_DATA} ${WRKSRC}/clients/Motif-1.2/mwm/alt.map ${PREFIX}/lib/X11/mwm
	${INSTALL_DATA} ${WRKSRC}/clients/Motif-1.2/mwm/Mwm \
		${PREFIX}/lib/X11/app-defaults/Mwm
	[ ! -f ${PREFIX}/lib/libXm.so.1.2 ] || \
		/usr/bin/strip ${PREFIX}/lib/libXm.so.1.2
	[ ! -f ${PREFIX}/lib/libMrm.so.1.2 ] || \
		/usr/bin/strip ${PREFIX}/lib/libMrm.so.1.2
	[ ! -f ${PREFIX}/lib/libXm.so.2.0 ] || \
		/usr/bin/strip ${PREFIX}/lib/libXm.so.2.0
	${LDCONFIG} -m ${PREFIX}/lib
@


1.11
log
@update to version 0.86.0
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.10 1998/07/23 09:17:40 form Exp $
d59 6
a64 1
	/usr/bin/strip ${PREFIX}/lib/libXm.so.1.2 ${PREFIX}/lib/libMrm.so.1.2
@


1.10
log
@update to 0.85.3
@
text
@d2 1
a2 1
# Version required:	0.85
d6 1
a6 1
# $OpenBSD: Makefile,v 1.9 1998/06/23 23:11:10 marc Exp $
d10 1
a10 1
DISTNAME=	lesstif-0.85.3
a63 7
#	Shared lib versions
#	dist version		BSD shared lib version
#	------------		----------------------
#	0.78			0.0
#	0.79			0.1
#	0.80			0.1
#       0.83			1.2
@


1.9
log
@update to 0.85; put man pages where they can be found;
put all doc under share/LessTif
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.8 1998/06/11 08:51:26 todd Exp $
d10 1
a10 1
DISTNAME=	lesstif-0.85
d16 2
a17 1
		ftp://ftp.hungry.com/pub/hungry/lesstif/srcdist/
@


1.8
log
@X has static libs.  lesstif should to!
Suggested by: Peter Galbavy <peter@@wonderland.org>
@
text
@d2 1
a2 1
# Version required:	0.83
d6 1
a6 1
# $OpenBSD: Makefile,v 1.7 1998/06/02 20:51:48 marc Exp $
d10 1
a10 1
DISTNAME=	lesstif-0.83
a11 2
MASTER_SITES=	ftp://ftp.lesstif.org/pub/hungry/lesstif/srcdist/  \
		ftp://ftp.hungry.com/pub/hungry/lesstif/srcdist/
d15 2
a16 1
#	see below for shared lib version information
a17 4
MANUAL_PACKAGE_BUILD=	do not want to install during interactive build
GNU_CONFIGURE=  yes
# comment this and remove the strip statement in post-install for debugging
CONFIGURE_ARGS=	--disable-debug --enable-static
d19 10
@


1.7
log
@change motif overwrite notice to pre-install from pree-fetch;
allows build without hassle
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.6 1998/05/06 06:05:05 form Exp $
d22 1
a22 1
CONFIGURE_ARGS=	--disable-debug
@


1.6
log
@update lesstif to 0.83
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.6 1998/05/06 13:03:55 form Exp $
d27 1
a27 1
pre-fetch:
@


1.5
log
@We need some more environment during configure
@
text
@d1 4
a4 4
# OpenBSD makefile for:	lesstif
# Version required:	0.82
# Date created:		December 1, 1997
# Whom:			Angelos D. Keromytis
d6 2
a7 1
# $OpenBSD: Makefile,v 1.4 1998/02/10 10:45:22 niklas Exp $
d10 1
a10 1
DISTNAME=	lesstif-0.82
d12 2
a13 2
MASTER_SITES=	ftp://ftp.lesstif.org/pub/hungry/lesstif/  \
		ftp://ftp.hungry.com/pub/hungry/lesstif/
d15 1
a15 1
MAINTAINER=	angelos@@openbsd.org
d21 2
a23 6
# change this and remove the strip statement in post-install for debugging
CONFIGURE_ENV=	${SETENV} CCFLAGS="-O -pipe"
# static library on alpha
.ifdef (${MACHINE_ARCH} == "alpha")
CONFIGURE_ARGS= --with-static --without-shared
.endif
d28 5
a32 5
	@@echo "***********************************************************"
	@@echo "*                      W a r n i n g                      *"
	@@echo "* This port will overwrite your Motif installation.       *"
	@@echo "***********************************************************"
	@@echo -n "Is this ok? (y/n) ==> "
d39 2
a40 2
	        echo "Okay, I won't install it then...."; \
	        echo "(Don't worry about the following \"*** Error code 1\"s)"; \
a45 1

d53 1
a53 3
.if (${MACHINE_ARCH} != "alpha")
	/usr/bin/strip ${PREFIX}/lib/libXm.so.0.1 ${PREFIX}/lib/libMrm.so.0.1
.endif
a57 1

d64 1
@


1.4
log
@On a current system LDCONFIG need not be special cased for mips/alpha
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1998/01/30 22:20:18 niklas Exp $
d22 1
a22 1
CONFIGURE_ENV=	CCFLAGS="-O -pipe"
@


1.3
log
@LDCONFIG is not uniform in our world
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1998/01/21 22:07:11 tacho Exp $
d59 1
a59 3
.if (${MACHINE_ARCH} == "mips")
	${LDCONFIG} -n ${PREFIX}/lib
.else
a60 2
.endif
.endif
@


1.2
log
@build static library on alpha
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1997/12/03 04:05:23 angelos Exp $
d57 1
d59 3
d63 2
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d23 4
@


1.1.1.1
log
@Add lesstif 0.82 port.
@
text
@@
