head	1.21;
access;
symbols
	OPENBSD_5_7:1.20.0.2
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.19.0.4
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.2
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.18.0.2
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.17.0.2
	OPENBSD_5_3_BASE:1.17
	OPENBSD_5_2:1.13.0.2
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.2
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.6.0.8
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.6.0.6
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.4
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.2
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.3.0.4
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	xorg:1.1.1.1
	espie:1.1.1;
locks; strict;
comment	@# @;


1.21
date	2015.04.04.09.18.54;	author ajacoutot;	state dead;
branches;
next	1.20;
commitid	ASfg8cnNcfyvsjWM;

1.20
date	2014.11.27.07.59.24;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	IL7Otd0ZjErXwLUL;

1.19
date	2014.01.24.10.43.16;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2013.05.07.07.00.01;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2013.01.01.14.36.11;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2012.11.09.16.05.13;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2012.09.07.12.41.35;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2012.08.05.06.55.11;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2012.07.05.07.19.48;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.09.09.00.25;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2011.06.15.16.26.07;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2011.06.03.16.51.23;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2010.10.29.12.59.03;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.28.21.10.07;	author robert;	state Exp;
branches;
next	1.7;

1.7
date	2010.10.28.10.59.33;	author robert;	state Exp;
branches;
next	1.6;

1.6
date	2008.10.12.22.08.04;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2008.06.10.03.09.39;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2008.03.23.10.53.55;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2007.03.21.00.21.58;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2006.11.07.10.40.19;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2006.09.19.18.10.14;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.09.19.18.10.14;	author espie;	state Exp;
branches;
next	;


desc
@@


1.21
log
@Subpackage dbus into -main and -suid (which contains the
dbus-daemon-launch-helper setuid helper binary).
Applications installing files under /usr/local/share/dbus-1/system-services/
*must* now RUN_DEPENDS on x11/dbus,-suid.
This was requested by reyk@@ some time ago.

While here, rename the rc scrip to "messagebus" which is what upstream
recommends.
discussed with landry@@ and jasper@@

Bump and dependency changes coming in a few...
@
text
@@@comment $OpenBSD: PLIST,v 1.20 2014/11/27 07:59:24 ajacoutot Exp $
@@newgroup _dbus:572
@@newuser _dbus:572:_dbus:daemon:dbus user:/nonexistent:/sbin/nologin
@@extra /var/db/dbus/machine-id
@@extra ${SYSCONFDIR}/machine-id
@@bin bin/dbus-cleanup-sockets
@@bin bin/dbus-daemon
@@bin bin/dbus-launch
@@bin bin/dbus-monitor
@@bin bin/dbus-run-session
@@bin bin/dbus-send
@@bin bin/dbus-uuidgen
include/dbus-1.0/
include/dbus-1.0/dbus/
include/dbus-1.0/dbus/dbus-address.h
include/dbus-1.0/dbus/dbus-bus.h
include/dbus-1.0/dbus/dbus-connection.h
include/dbus-1.0/dbus/dbus-errors.h
include/dbus-1.0/dbus/dbus-macros.h
include/dbus-1.0/dbus/dbus-memory.h
include/dbus-1.0/dbus/dbus-message.h
include/dbus-1.0/dbus/dbus-misc.h
include/dbus-1.0/dbus/dbus-pending-call.h
include/dbus-1.0/dbus/dbus-protocol.h
include/dbus-1.0/dbus/dbus-server.h
include/dbus-1.0/dbus/dbus-shared.h
include/dbus-1.0/dbus/dbus-signature.h
include/dbus-1.0/dbus/dbus-syntax.h
include/dbus-1.0/dbus/dbus-threads.h
include/dbus-1.0/dbus/dbus-types.h
include/dbus-1.0/dbus/dbus.h
lib/dbus-1.0/
lib/dbus-1.0/include/
lib/dbus-1.0/include/dbus/
lib/dbus-1.0/include/dbus/dbus-arch-deps.h
@@comment lib/dbus-1.0/test/
lib/libdbus-1.a
lib/libdbus-1.la
@@lib lib/libdbus-1.so.${LIBdbus-1_VERSION}
lib/pkgconfig/dbus-1.pc
@@mode 4750
@@group _dbus
@@bin libexec/dbus-daemon-launch-helper
@@mode
@@group
@@man man/man1/dbus-cleanup-sockets.1
@@man man/man1/dbus-daemon.1
@@man man/man1/dbus-launch.1
@@man man/man1/dbus-monitor.1
@@man man/man1/dbus-run-session.1
@@man man/man1/dbus-send.1
@@man man/man1/dbus-uuidgen.1
share/dbus-1/
share/dbus-1/services/
share/dbus-1/system-services/
share/doc/dbus/
share/doc/dbus/dbus-cleanup-sockets.1.html
share/doc/dbus/dbus-daemon.1.html
share/doc/dbus/dbus-faq.html
share/doc/dbus/dbus-launch.1.html
share/doc/dbus/dbus-monitor.1.html
share/doc/dbus/dbus-run-session.1.html
share/doc/dbus/dbus-send.1.html
share/doc/dbus/dbus-specification.html
share/doc/dbus/dbus-test-plan.html
share/doc/dbus/dbus-tutorial.html
share/doc/dbus/dbus-uuidgen.1.html
share/doc/dbus/diagram.png
share/doc/dbus/diagram.svg
share/doc/dbus/system-activation.txt
share/doc/pkg-readmes/${FULLPKGNAME}
share/examples/dbus/
share/examples/dbus/dbus-1/
@@sample ${SYSCONFDIR}/dbus-1/
share/examples/dbus/dbus-1/session.conf
@@sample ${SYSCONFDIR}/dbus-1/session.conf
share/examples/dbus/dbus-1/session.d/
@@sample ${SYSCONFDIR}/dbus-1/session.d/
share/examples/dbus/dbus-1/system.conf
@@sample ${SYSCONFDIR}/dbus-1/system.conf
share/examples/dbus/dbus-1/system.d/
@@sample ${SYSCONFDIR}/dbus-1/system.d/
@@sample /var/db/dbus/
@@exec ${PREFIX}/bin/dbus-uuidgen --ensure=${SYSCONFDIR}/machine-id
@@rcscript ${RCDIR}/dbus_daemon
@


1.20
log
@Update to dbus-1.8.12.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.19 2014/01/24 10:43:16 ajacoutot Exp $
@


1.19
log
@Update to dbus-1.8.0.

bulk testing by landry@@
runtime testing by myself
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.18 2013/05/07 07:00:01 ajacoutot Exp $
a39 1
lib/pkgconfig/
@


1.18
log
@Update to dbus-1.6.10.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.17 2013/01/01 14:36:11 ajacoutot Exp $
d10 1
d51 1
d58 2
d61 4
d68 1
@


1.17
log
@Install the unique machine identifier file under /etc/machine-id and add
a /var/db/dbus/machine-id symlink pointing to it. /etc/machine-id is the
"new" path to store this data nowadays.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.16 2012/11/09 16:05:13 ajacoutot Exp $
a5 1
%%SHARED%%
d38 1
@


1.16
log
@Re-introduce pkg-readmes for people using their own .xsession / .xinitrc.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.15 2012/09/07 12:41:35 ajacoutot Exp $
d5 1
d76 1
a76 1
@@exec ${PREFIX}/bin/dbus-uuidgen --ensure
@


1.15
log
@Move @@extra where it belongs.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.14 2012/08/05 06:55:11 ajacoutot Exp $
d62 1
@


1.14
log
@Remove README; xinitrc and Xsession will now try to run dbus-launch
automatically if it is available and external X session managers (e.g.
gnome-session...) also do the same.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.13 2012/07/05 07:19:48 ajacoutot Exp $
d4 1
a74 1
@@extra /var/db/dbus/machine-id
@


1.13
log
@Update to dbus-1.6.2.
Committing now so that any fallout can be fixed during g2k12.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.12 2011/09/09 09:00:25 ajacoutot Exp $
a60 1
share/doc/pkg-readmes/${FULLPKGNAME}
@


1.12
log
@Bugfix update to dbus-1.4.14.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.11 2011/06/15 16:26:07 ajacoutot Exp $
d26 1
@


1.11
log
@Bugfix update to dbus-1.4.12.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.10 2011/06/03 16:51:23 ajacoutot Exp $
d52 8
@


1.10
log
@Bugfix update to dbus-1.4.10.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.9 2010/10/29 12:59:03 ajacoutot Exp $
d33 1
@


1.9
log
@Move to pkg-readmes.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.8 2010/10/28 21:10:07 robert Exp $
a36 1
@@comment libexec/dbus-1/
d63 1
d65 1
a65 1
@@extra ${SYSCONFDIR}/dbus-1/machine-id
@


1.8
log
@After discussion with $french and $german, we are renaming the rc scripts from
dash to underscore so that we are consitent with the foo_bar_flags
variable.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.7 2010/10/28 10:59:33 robert Exp $
d52 1
@


1.7
log
@add an rc script for dbus-daemon
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.6 2008/10/12 22:08:04 brad Exp $
d65 1
a65 1
@@rcscript ${RCDIR}/dbus-daemon
@


1.6
log
@Update to DBus 1.2.4.

Also a security update for a remote application DoS.. CVE-2008-3834.

ok jasper@@ ajacoutot@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.5 2008/06/10 03:09:39 sturm Exp $
d65 1
@


1.5
log
@uninstall machine-id with pkg_delete -c
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.4 2008/03/23 10:53:55 ajacoutot Exp $
d5 6
a10 6
bin/dbus-cleanup-sockets
bin/dbus-daemon
bin/dbus-launch
bin/dbus-monitor
bin/dbus-send
bin/dbus-uuidgen
d37 6
d51 1
d57 2
@


1.4
log
@- s/etc/$SYSCONFDIR
- simpler rc.local example; remove UNMESSAGE
- remove /var/run @@sample from PLIST as this gets removed at reboot
- don't try to install dir outside of $PREFIX

ok jasper@@ landry@@ bernd@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.3 2007/03/21 00:21:58 espie Exp $
d55 1
@


1.3
log
@update to 1.0.2. okay alek@@, jasper@@.
No objections from wilfried@@, matthieu@@, sturm@@...
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.2 2006/11/07 10:40:19 alek Exp $
a53 4
@@mode 0750
@@owner _dbus
@@group _dbus
@@sample /var/run/dbus/
a54 1
@@unexec rm -f /var/run/dbus/*
@


1.2
log
@Update to 0.94 and make it work.

Sessionwide dbus tested with gaim; systemwide bus untested but at least it
starts up without dumping core.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.1.1.1 2006/09/19 18:10:14 espie Exp $
d20 1
d54 1
a56 1
@@mode 0750
d58 1
a59 1
@@unexec rm -f ${SYSCONFDIR}/dbus-1/machine-id
@


1.1
log
@Initial revision
@
text
@d1 3
a3 1
@@comment $OpenBSD$
d10 1
d41 1
d44 2
a45 2
share/sample/
share/sample/dbus/
d47 1
a47 2
share/sample/dbus/dbus-1/
share/sample/dbus/dbus-1/session.conf
d49 1
a49 1
share/sample/dbus/dbus-1/system.conf
d51 1
a51 1
share/sample/dbus/dbus-1/system.d/
d53 6
a58 3
var/
var/run/
var/run/dbus/
@


1.1.1.1
log
@D-Bus IPC, will be used by KDE4
@
text
@@
