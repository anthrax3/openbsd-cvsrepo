head	1.139;
access;
symbols
	OPENBSD_6_1:1.138.0.2
	OPENBSD_6_1_BASE:1.138
	OPENBSD_6_0:1.134.0.2
	OPENBSD_6_0_BASE:1.134
	OPENBSD_5_9:1.133.0.2
	OPENBSD_5_9_BASE:1.133
	OPENBSD_5_8:1.128.0.4
	OPENBSD_5_8_BASE:1.128
	OPENBSD_5_7:1.123.0.2
	OPENBSD_5_7_BASE:1.123
	OPENBSD_5_6:1.117.0.2
	OPENBSD_5_6_BASE:1.117
	OPENBSD_5_5:1.110.0.2
	OPENBSD_5_5_BASE:1.110
	OPENBSD_5_4:1.102.0.2
	OPENBSD_5_4_BASE:1.102
	OPENBSD_5_3:1.96.0.2
	OPENBSD_5_3_BASE:1.96
	OPENBSD_5_2:1.83.0.2
	OPENBSD_5_2_BASE:1.83
	OPENBSD_5_1_BASE:1.75
	OPENBSD_5_1:1.75.0.2
	OPENBSD_5_0:1.69.0.2
	OPENBSD_5_0_BASE:1.69
	OPENBSD_4_9:1.57.0.2
	OPENBSD_4_9_BASE:1.57
	OPENBSD_4_8:1.39.0.2
	OPENBSD_4_8_BASE:1.39
	OPENBSD_4_7:1.32.0.2
	OPENBSD_4_7_BASE:1.32
	OPENBSD_4_6:1.29.0.2
	OPENBSD_4_6_BASE:1.29
	OPENBSD_4_5:1.24.0.2
	OPENBSD_4_5_BASE:1.24
	OPENBSD_4_4:1.16.0.2
	OPENBSD_4_4_BASE:1.16
	OPENBSD_4_3:1.12.0.2
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	xorg:1.1.1.1
	espie:1.1.1;
locks; strict;
comment	@# @;


1.139
date	2017.04.06.08.23.56;	author ajacoutot;	state Exp;
branches;
next	1.138;
commitid	g6Cgp0m8WYighSwI;

1.138
date	2017.02.17.09.13.49;	author ajacoutot;	state Exp;
branches;
next	1.137;
commitid	vU9V4KcaVdBAzBRL;

1.137
date	2016.11.29.09.02.29;	author ajacoutot;	state Exp;
branches;
next	1.136;
commitid	LnnEUyeyqfZjB870;

1.136
date	2016.10.12.08.31.53;	author ajacoutot;	state Exp;
branches;
next	1.135;
commitid	Ky8XZcHej8wrtdOU;

1.135
date	2016.08.21.12.40.13;	author ajacoutot;	state Exp;
branches;
next	1.134;
commitid	sqncQJvsOU9t2iie;

1.134
date	2016.03.08.08.36.28;	author ajacoutot;	state Exp;
branches;
next	1.133;
commitid	lZaDpVDov5OkKjwA;

1.133
date	2015.12.02.08.35.44;	author ajacoutot;	state Exp;
branches;
next	1.132;
commitid	K90HKSSOLdf8Qr32;

1.132
date	2015.11.18.07.04.43;	author ajacoutot;	state Exp;
branches;
next	1.131;
commitid	v7UZc3ES8vj8LdXn;

1.131
date	2015.10.27.15.22.28;	author ajacoutot;	state Exp;
branches;
next	1.130;
commitid	7K8nJL07PgyVBiux;

1.130
date	2015.10.17.08.49.18;	author ajacoutot;	state Exp;
branches;
next	1.129;
commitid	WwtmBEQP6gprL0tB;

1.129
date	2015.08.27.06.46.46;	author ajacoutot;	state Exp;
branches;
next	1.128;
commitid	GN27yyASOEVOa5We;

1.128
date	2015.07.22.18.09.17;	author ajacoutot;	state Exp;
branches;
next	1.127;
commitid	EHRCANmaDI8YtcH0;

1.127
date	2015.05.15.06.50.04;	author ajacoutot;	state Exp;
branches;
next	1.126;
commitid	Cv8roClrj29jQoTP;

1.126
date	2015.04.04.15.50.45;	author ajacoutot;	state Exp;
branches;
next	1.125;
commitid	Ha33BydpjtkftP7Z;

1.125
date	2015.04.04.15.47.47;	author ajacoutot;	state Exp;
branches;
next	1.124;
commitid	IlVVHFJGv2XVZnCf;

1.124
date	2015.04.04.09.18.54;	author ajacoutot;	state Exp;
branches;
next	1.123;
commitid	ASfg8cnNcfyvsjWM;

1.123
date	2015.02.10.07.42.26;	author ajacoutot;	state Exp;
branches;
next	1.122;
commitid	A8RVSi78tAINXE5T;

1.122
date	2015.01.06.10.57.34;	author ajacoutot;	state Exp;
branches;
next	1.121;
commitid	3NDvgrm0wjYjg1cv;

1.121
date	2014.11.27.07.59.24;	author ajacoutot;	state Exp;
branches;
next	1.120;
commitid	IL7Otd0ZjErXwLUL;

1.120
date	2014.11.11.14.25.56;	author ajacoutot;	state Exp;
branches;
next	1.119;
commitid	PfDaUDKXhbiS5LZw;

1.119
date	2014.10.04.07.10.17;	author ajacoutot;	state Exp;
branches;
next	1.118;
commitid	dfTnahpQQpTSHw15;

1.118
date	2014.09.17.05.49.15;	author ajacoutot;	state Exp;
branches;
next	1.117;
commitid	wd01ekpidxm29t3U;

1.117
date	2014.07.08.16.13.53;	author ajacoutot;	state Exp;
branches
	1.117.2.1;
next	1.116;
commitid	OH1A9Z8vZnZVvxce;

1.116
date	2014.06.11.14.35.16;	author ajacoutot;	state Exp;
branches;
next	1.115;
commitid	vE2TrjAB4tDLPcZi;

1.115
date	2014.05.03.11.15.19;	author ajacoutot;	state Exp;
branches;
next	1.114;

1.114
date	2014.04.16.12.35.51;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2014.04.16.08.18.16;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2014.04.14.18.52.22;	author ajacoutot;	state Exp;
branches;
next	1.111;

1.111
date	2014.04.14.18.43.24;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2014.01.24.10.43.16;	author ajacoutot;	state Exp;
branches
	1.110.2.1;
next	1.109;

1.109
date	2014.01.06.17.36.33;	author ajacoutot;	state Exp;
branches;
next	1.108;

1.108
date	2013.12.27.12.12.05;	author ajacoutot;	state Exp;
branches;
next	1.107;

1.107
date	2013.12.08.10.42.34;	author ajacoutot;	state Exp;
branches;
next	1.106;

1.106
date	2013.11.07.07.06.16;	author ajacoutot;	state Exp;
branches;
next	1.105;

1.105
date	2013.10.30.15.41.58;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2013.10.09.11.10.46;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2013.08.10.15.47.06;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2013.07.20.13.10.28;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2013.06.13.13.08.53;	author ajacoutot;	state Exp;
branches;
next	1.100;

1.100
date	2013.05.07.07.00.01;	author ajacoutot;	state Exp;
branches;
next	1.99;

1.99
date	2013.05.07.06.44.47;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2013.03.21.08.48.55;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2013.03.11.11.46.08;	author espie;	state Exp;
branches;
next	1.96;

1.96
date	2013.01.08.09.30.27;	author ajacoutot;	state Exp;
branches
	1.96.2.1;
next	1.95;

1.95
date	2013.01.01.14.36.11;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2012.12.23.12.25.31;	author sthen;	state Exp;
branches;
next	1.93;

1.93
date	2012.11.09.16.05.13;	author ajacoutot;	state Exp;
branches;
next	1.92;

1.92
date	2012.10.11.07.25.20;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2012.10.10.17.20.36;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2012.09.30.07.51.33;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2012.09.27.21.29.45;	author naddy;	state Exp;
branches;
next	1.88;

1.88
date	2012.09.26.15.04.09;	author sthen;	state Exp;
branches;
next	1.87;

1.87
date	2012.09.07.12.41.35;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2012.09.04.06.32.52;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2012.08.15.08.03.43;	author ajacoutot;	state Exp;
branches;
next	1.84;

1.84
date	2012.08.05.06.55.11;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2012.07.06.16.28.21;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2012.07.05.07.19.48;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2012.04.28.10.52.09;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2012.04.26.09.25.40;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2012.04.04.06.19.01;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2012.03.31.17.56.44;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2012.03.29.13.39.00;	author sthen;	state Exp;
branches;
next	1.76;

1.76
date	2012.02.23.06.58.11;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2011.12.20.14.27.46;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2011.12.03.14.27.40;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2011.10.29.14.37.42;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2011.09.29.06.57.36;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2011.09.09.09.00.25;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2011.08.31.15.09.33;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2011.06.15.16.26.07;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2011.06.15.12.42.31;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2011.06.13.17.14.58;	author jasper;	state Exp;
branches;
next	1.66;

1.66
date	2011.06.03.16.51.23;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2011.06.02.17.09.32;	author kili;	state Exp;
branches;
next	1.64;

1.64
date	2011.06.02.13.41.42;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2011.05.23.21.46.08;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2011.05.23.08.58.31;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2011.05.06.07.34.17;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2011.04.28.13.09.32;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2011.04.21.08.27.23;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2011.03.07.19.20.28;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2010.12.27.14.50.24;	author ajacoutot;	state Exp;
branches
	1.57.2.1;
next	1.56;

1.56
date	2010.12.24.10.40.06;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2010.12.21.14.59.49;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2010.12.21.05.57.42;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2010.12.16.07.13.58;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2010.12.14.18.45.54;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2010.12.13.10.41.22;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2010.12.01.19.57.51;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2010.11.06.07.56.48;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2010.10.29.12.59.03;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2010.10.29.12.54.44;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2010.10.28.21.10.07;	author robert;	state Exp;
branches;
next	1.45;

1.45
date	2010.10.28.10.59.33;	author robert;	state Exp;
branches;
next	1.44;

1.44
date	2010.10.24.21.15.31;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2010.10.19.08.13.56;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2010.09.16.12.47.54;	author tobias;	state Exp;
branches;
next	1.41;

1.41
date	2010.08.23.14.29.54;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.08.21.19.06.00;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.07.30.06.58.57;	author ajacoutot;	state Exp;
branches
	1.39.2.1;
next	1.38;

1.38
date	2010.07.02.18.01.53;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2010.06.30.20.48.57;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.06.29.03.36.30;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2010.06.29.02.14.57;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2010.04.20.17.48.18;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2010.04.20.14.54.21;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2010.02.06.11.58.59;	author landry;	state Exp;
branches;
next	1.31;

1.31
date	2009.10.10.14.30.47;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2009.08.11.08.42.07;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2009.05.31.20.56.38;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2009.05.11.20.27.07;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.04.24.15.06.05;	author kurt;	state Exp;
branches;
next	1.26;

1.26
date	2009.04.15.16.12.52;	author kili;	state Exp;
branches;
next	1.25;

1.25
date	2009.04.14.20.33.11;	author kili;	state Exp;
branches;
next	1.24;

1.24
date	2009.01.28.19.05.23;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.01.28.14.16.19;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2009.01.19.11.56.43;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.01.06.10.16.52;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2008.12.09.14.14.45;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2008.12.09.14.12.08;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2008.11.24.11.20.13;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2008.10.12.22.08.04;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2008.06.10.03.09.39;	author sturm;	state Exp;
branches;
next	1.15;

1.15
date	2008.04.20.21.00.19;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2008.03.23.12.50.54;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2008.03.23.10.53.55;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2008.02.29.13.38.56;	author bernd;	state Exp;
branches;
next	1.11;

1.11
date	2008.01.04.17.48.38;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2007.11.01.11.04.28;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.15.20.04.19;	author merdely;	state Exp;
branches;
next	1.8;

1.8
date	2007.04.27.18.46.20;	author bernd;	state Exp;
branches;
next	1.7;

1.7
date	2007.04.08.16.33.41;	author sturm;	state Exp;
branches;
next	1.6;

1.6
date	2007.03.21.00.21.58;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2006.12.16.12.22.35;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2006.11.13.13.01.37;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2006.11.07.10.40.19;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2006.09.20.12.22.07;	author bernd;	state Exp;
branches;
next	1.1;

1.1
date	2006.09.19.18.10.14;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.09.19.18.10.14;	author espie;	state Exp;
branches;
next	;

1.39.2.1
date	2010.12.28.22.44.36;	author jasper;	state Exp;
branches;
next	;

1.57.2.1
date	2011.06.13.17.16.27;	author jasper;	state Exp;
branches;
next	;

1.96.2.1
date	2013.06.13.14.50.27;	author ajacoutot;	state Exp;
branches;
next	;

1.110.2.1
date	2014.06.11.15.07.22;	author ajacoutot;	state Exp;
branches;
next	1.110.2.2;
commitid	Up7yJhPDFzG8LiWa;

1.110.2.2
date	2014.07.08.16.23.18;	author ajacoutot;	state Exp;
branches;
next	1.110.2.3;
commitid	hxOtApKz6smzmg99;

1.110.2.3
date	2014.09.17.06.30.07;	author ajacoutot;	state Exp;
branches;
next	;
commitid	B2PRWz08dAGRG6j6;

1.117.2.1
date	2014.09.17.06.05.41;	author ajacoutot;	state Exp;
branches;
next	;
commitid	hdVt85C2kJKF843B;


desc
@@


1.139
log
@Update to dbus-1.10.18.
@
text
@# $OpenBSD: Makefile,v 1.138 2017/02/17 09:13:49 ajacoutot Exp $

PORTROACH=		limitw:1,even
DPB_PROPERTIES=		parallel

COMMENT-main=		message bus system
COMMENT-suid=		DBus setuid helper for starting system services

V=			1.10.18
DISTNAME=		dbus-${V}
EPOCH-main=		0

PKGNAME-main=		${DISTNAME}
PKGNAME-suid=		dbus-daemon-launch-helper-${V}

SHARED_LIBS +=  dbus-1               11.1     # 17.11

CATEGORIES=		x11

HOMEPAGE=		http://dbus.freedesktop.org/

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c expat pthread

WANTLIB-main += ${WANTLIB} ICE SM X11 xcb

WANTLIB-suid +=	${WANTLIB} dbus-1

MULTI_PACKAGES=		-main -suid

MASTER_SITES=		http://dbus.freedesktop.org/releases/dbus/

USE_GMAKE=		Yes

BUILD_DEPENDS=		textproc/xmlto

LIB_DEPENDS-suid=	${BASE_PKGPATH},-main

CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ARGS=		--with-dbus-user=_dbus \
			--disable-doxygen-docs \
			--disable-ducktype-docs \
			--disable-modular-tests \
			--disable-systemd

# gives no chance of picking up devel/libexecinfo
CONFIGURE_ENV +=	ac_cv_header_execinfo_h=no \
			ac_cv_func_backtrace=no

# Full test coverage is disabled:
# * changes the final dbus binaries
# * requires py-gobject and dbus-python (dependency loop)
# * requires the python MODULE
#MODULES +=		lang/python
#TEST_DEPENDS +=	devel/py-gobject3
#BUILD_DEPENDS +=	devel/py-gobject3
#CONFIGURE_ARGS+=	--enable-developer
#CONFIGURE_ARGS+=	--enable-modular-tests
#CONFIGURE_ARGS+=	--enable-tests
#CONFIGURE_ARGS+=	--enable-verbose-mode

FAKE_FLAGS=		sysconfdir=${TRUEPREFIX}/share/examples/dbus

post-install:
	rm -r ${WRKINST}/var/{lib,run/dbus}

.include <bsd.port.mk>
@


1.138
log
@Update to dbus-1.10.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2016/11/29 09:02:29 ajacoutot Exp $
d9 1
a9 1
V=			1.10.16
d16 1
a16 1
SHARED_LIBS +=  dbus-1               11.1     # 17.10
@


1.137
log
@Update to dbus-1.10.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2016/10/12 08:31:53 ajacoutot Exp $
d9 1
a9 1
V=			1.10.14
d16 1
a16 1
SHARED_LIBS +=  dbus-1               11.1     # 17.9
@


1.136
log
@Update to dbus-1.10.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2016/08/21 12:40:13 ajacoutot Exp $
d9 1
a9 1
V=			1.10.12
d16 1
a16 1
SHARED_LIBS +=  dbus-1               11.1     # 17.8
@


1.135
log
@Update to dbus-1.10.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2016/03/08 08:36:28 ajacoutot Exp $
d9 1
a9 1
V=			1.10.10
d16 1
a16 1
SHARED_LIBS +=  dbus-1               11.1     # 17.7
@


1.134
log
@Update to dbus-1.10.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2015/12/02 08:35:44 ajacoutot Exp $
d9 1
a9 1
V=			1.10.8
d16 1
a16 1
SHARED_LIBS +=  dbus-1               11.1     # 17.6
@


1.133
log
@Update to dbus-1.10.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2015/11/18 07:04:43 ajacoutot Exp $
d9 1
a9 1
V=			1.10.6
@


1.132
log
@Update to dbus-1.10.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2015/10/27 15:22:28 ajacoutot Exp $
d9 1
a9 1
V=			1.10.4
d16 1
a16 1
SHARED_LIBS +=  dbus-1               11.1     # 17.5
@


1.131
log
@Update to dbus-1.10.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2015/10/17 08:49:18 ajacoutot Exp $
d9 1
a9 1
V=			1.10.2
d16 1
a16 1
SHARED_LIBS +=  dbus-1               11.1     # 17.3
@


1.130
log
@Tweak now that dbus-launch isn't called automatically by our Xsession and
Xinit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2015/08/27 06:46:46 ajacoutot Exp $
d9 1
a9 1
V=			1.10.0
a14 2

REVISION-main=		0
@


1.129
log
@Update to dbus-1.10.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2015/07/22 18:09:17 ajacoutot Exp $
d15 2
@


1.128
log
@Update to dbus-1.8.20.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2015/05/15 06:50:04 ajacoutot Exp $
d9 1
a9 1
V=			1.8.20
d16 1
a16 1
SHARED_LIBS +=  dbus-1               11.0     # 11.3
d31 2
d41 1
a41 1
RUN_DEPENDS-suid=	${BASE_PKGPATH},-main
d48 1
d50 1
a50 1
			--without-dbus-glib
d61 4
a64 2
#TEST_DEPENDS +=	devel/py-gobject x11/dbus-glib
#BUILD_DEPENDS +=	devel/py-gobject x11/dbus-glib
a66 2
#CONFIGURE_ARGS+=	--enable-modular-tests
#CONFIGURE_ARGS+=	--with-dbus-glib
@


1.127
log
@Update to dbus-1.8.18.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2015/04/04 15:50:45 ajacoutot Exp $
d9 1
a9 1
V=			1.8.18
@


1.126
log
@Reverse EPOCH and REVISION in the conflict marker.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2015/04/04 15:47:47 ajacoutot Exp $
d9 1
a9 1
V=			1.8.16
a14 3

REVISION-main=		1
REVISION-suid=		0
@


1.125
log
@Missing @@pkgpath marker... *oops*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2015/04/04 09:18:54 ajacoutot Exp $
d17 1
@


1.124
log
@Subpackage dbus into -main and -suid (which contains the
dbus-daemon-launch-helper setuid helper binary).
Applications installing files under /usr/local/share/dbus-1/system-services/
*must* now RUN_DEPENDS on x11/dbus,-suid.
This was requested by reyk@@ some time ago.

While here, rename the rc scrip to "messagebus" which is what upstream
recommends.
discussed with landry@@ and jasper@@

Bump and dependency changes coming in a few...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2015/02/10 07:42:26 ajacoutot Exp $
d16 1
a16 1
REVISION-main=		0
@


1.123
log
@Minor update to dbus-1.8.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2015/01/06 10:57:34 ajacoutot Exp $
d3 2
a4 1
PORTROACH=	limitw:1,even
d6 2
a7 1
COMMENT=	message bus system
d9 8
a16 2
DISTNAME=	dbus-1.8.16
EPOCH=		0
d20 1
a20 2
CATEGORIES=	x11
DPB_PROPERTIES=	parallel
d22 1
a22 1
HOMEPAGE=	http://dbus.freedesktop.org/
d24 1
a24 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
d29 7
a35 1
WANTLIB += ICE SM X11 c expat pthread xcb
d37 1
a37 1
MASTER_SITES=	${HOMEPAGE}releases/dbus/
d39 1
a39 1
USE_GMAKE=	Yes
d41 1
a41 1
BUILD_DEPENDS=	textproc/xmlto
d43 7
a49 7
CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ARGS=	--with-dbus-user=_dbus \
		--disable-doxygen-docs \
		--disable-modular-tests \
		--without-dbus-glib
d52 2
a53 2
CONFIGURE_ENV+=	ac_cv_header_execinfo_h=no \
		ac_cv_func_backtrace=no
d67 1
a67 1
FAKE_FLAGS=	sysconfdir=${TRUEPREFIX}/share/examples/dbus
@


1.122
log
@Update to dbus-1.8.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2014/11/27 07:59:24 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.8.14
@


1.121
log
@Update to dbus-1.8.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2014/11/11 14:25:56 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.8.12
@


1.120
log
@Update to dbus-1.8.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2014/10/04 07:10:17 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.8.10
@


1.119
log
@PORTROACH, limit to even numbers.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2014/09/17 05:49:15 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.8.8
@


1.118
log
@SECURITY update to dbus-1.8.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2014/07/08 16:13:53 ajacoutot Exp $
d3 1
a3 1
# DPB: not parallel-safe
@


1.117
log
@SECURITY update to dbus-1.8.6.
CVE-2014-3532
CVE-2014-3533
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2014/06/11 14:35:16 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.8.6
@


1.117.2.1
log
@SECURITY update to dbus-1.8.8.
Fixes: CVE-2014-3635 CVE-2014-3636 CVE-2014-3637 CVE-2014-3638 CVE-2014-3639
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2014/07/08 16:13:53 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.8.8
@


1.116
log
@SECURITY update to dbus-1.8.4.
CVE-2014-3477: deliver activation errors correctly, fixing Denial of Service
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2014/05/03 11:15:19 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.8.4
@


1.115
log
@Update to dbus-1.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2014/04/16 12:35:51 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.8.2
@


1.114
log
@Respect max_len.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2014/04/16 08:18:16 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.8.0
a8 1
REVISION=	3
@


1.113
log
@Simplify.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2014/04/14 18:52:22 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
@


1.112
log
@Explicitely --disable-modular-tests.
No need for autoconf anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2014/04/14 18:43:24 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.111
log
@Rewrite _dbus_command_for_pid() to that we don't use libkvm.

glanced over by miod@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2014/01/24 10:43:16 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d31 1
a31 2
AUTOCONF_VERSION=2.69
CONFIGURE_STYLE=autoconf
d36 1
d52 1
@


1.110
log
@Update to dbus-1.8.0.

bulk testing by landry@@
runtime testing by myself
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2014/01/06 17:36:33 ajacoutot Exp $
d9 1
d23 1
a23 1
WANTLIB += ICE SM X11 c expat kvm pthread xcb
a46 1
#CFLAGS +=		-lkvm
@


1.110.2.1
log
@SECURITY fix for:
CVE-2014-3477: deliver activation errors correctly, fixing Denial of Service
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2014/01/24 10:43:16 ajacoutot Exp $
a8 1
REVISION=	0
@


1.110.2.2
log
@Merge security fixes for:
CVE-2014-3532
CVE-2014-3533
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110.2.1 2014/06/11 15:07:22 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.110.2.3
log
@SECURITY fix for:
CVE-2014-3635 CVE-2014-3636 CVE-2014-3637 CVE-2014-3638 CVE-2014-3639
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110.2.2 2014/07/08 16:23:18 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
a11 17

# CVE-2014-3635 CVE-2014-3636 CVE-2014-3637 CVE-2014-3638 CVE-2014-3639
MASTER_SITES0=		http://cgit.freedesktop.org/dbus/dbus/patch/?id=
PATCH_DIST_STRIP=	-p1
IDS=		07f4c12efe3b9bd45d109bc5fbaf6d9dbf69d78e \
		5bc7f9519ebc6117ba300c704794b36b87c2194b \
		6465e37c8ff70a714e302d0c9e6534fa6181fce6 \
		54d26df52b6a394bea175651d1d7ad2ab3f87dea \
		8ad179a8dad789fc6a5402780044bc0ec3d41115 \
		bbf11cd5f92064c7c8af61ad4d9ff41f3a039abc \
		995734750cea65012537748ee56488c707d2f027 \
		8021fd84267ee1394d96f4a119adb57de3971a62 \
		e0c9d31be3b9eea9ee2a3a255bc2cf9aad713642 \
		ee11ec12566afda5dee8a3a834274421a20661de
.for i in ${IDS}
PATCHFILES +=		$i:0
.endfor
@


1.109
log
@Bring some kqueue enhancements from upstream including a memory leak fix.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2013/12/27 12:12:05 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.6.18
a8 1
REVISION=	1
d10 1
a10 1
SHARED_LIBS +=  dbus-1               10.2     # 10.3
d28 2
a34 3
		--with-xml=expat \
		--enable-kqueue \
		--disable-xml-docs \
d36 1
a36 7
		--disable-abstract-sockets \
		--disable-launchd \
		--disable-selinux \
		--disable-libaudit \
		--disable-dnotify \
		--disable-inotify \
		--disable-systemd
d46 5
a50 1
#CONFIGURE_ARGS+=	--enable-tests=yes
d52 1
d55 3
@


1.108
log
@Fix build with --enable-tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2013/12/08 10:42:34 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
@


1.107
log
@Fix a mem leak and undefined behaviour; from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2013/11/07 07:06:16 ajacoutot Exp $
d52 1
a52 1
# * requires glib2 and dbus-python (which creates 2 dependency loops)
@


1.106
log
@Update to dbus-1.6.18.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2013/10/30 15:41:58 ajacoutot Exp $
d9 1
@


1.105
log
@path_namespace='/' should match everything (upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2013/10/09 11:10:46 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.6.16
a8 1
REVISION=	0
@


1.104
log
@Update to dbus-1.6.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2013/08/10 15:47:06 ajacoutot Exp $
d9 1
@


1.103
log
@Remove compat glue.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2013/07/20 13:10:28 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.6.12
a8 1
REVISION=	1
@


1.102
log
@Merge some crash fixes from upstream.

ok espie@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2013/06/13 13:08:53 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
@


1.101
log
@SECURITY update to DBus 1.6.12:
CVE-2013-2168: fix misuse of va_list that could be used as a denial of
service for system services.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2013/05/07 07:00:01 ajacoutot Exp $
d9 1
@


1.100
log
@Update to dbus-1.6.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2013/05/07 06:44:47 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.6.10
@


1.99
log
@Sync dbus-launch test with what we do in xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2013/03/21 08:48:55 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	dbus-1.6.8
a8 1
REVISION=	6
d10 1
a10 1
SHARED_LIBS +=  dbus-1               10.2     # 10.2
d28 1
a28 1
AUTOCONF_VERSION=2.68
@


1.98
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2013/03/11 11:46:08 espie Exp $
d9 1
a9 1
REVISION=	5
@


1.97
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2013/01/08 09:30:27 ajacoutot Exp $
a27 1
USE_LIBTOOL=	Yes
@


1.96
log
@Bring some fixes from upstream:
* sync configure.ac patch
* dbus-spawn: set SIGPIPE to SIG_IGN before activating services
* dbus-sysdeps-pthread.c: don't fail if !HAVE_MONOTONIC_CLOCK under -Werror=unused
* Remove redundant close() calls
* Don't leak temporary fds pointing to /dev/null
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2013/01/01 14:36:11 ajacoutot Exp $
a20 2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a21 1
PERMIT_PACKAGE_FTP=	Yes
@


1.96.2.1
log
@CVE-2013-2168: Fix misuse of va_list that could be used as a denial of
service for system services.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2013/01/08 09:30:27 ajacoutot Exp $
d9 1
a9 1
REVISION=	6
@


1.95
log
@Install the unique machine identifier file under /etc/machine-id and add
a /var/db/dbus/machine-id symlink pointing to it. /etc/machine-id is the
"new" path to store this data nowadays.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2012/12/23 12:25:31 sthen Exp $
d9 1
a9 1
REVISION=	4
@


1.94
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2012/11/09 16:05:13 ajacoutot Exp $
d9 1
a9 1
REVISION=	3
d28 1
a28 1
MASTER_SITES=	${HOMEPAGE}/releases/dbus/
@


1.93
log
@Re-introduce pkg-readmes for people using their own .xsession / .xinitrc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2012/10/11 07:25:20 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
d26 1
a26 1
WANTLIB += ICE SM X11 c expat pthread xcb
@


1.92
log
@Implement _dbus_command_for_pid which is really useful for debugging.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2012/10/10 17:20:36 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.91
log
@Simpler patch; from pkgsrc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2012/09/30 07:51:33 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
@


1.90
log
@Update to dbus-1.6.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2012/09/26 15:04:09 sthen Exp $
d9 1
@


1.89
log
@not parallel-safe
@
text
@d3 2
d7 1
a7 2
DISTNAME=	dbus-1.6.4
REVISION=	1
d13 1
a13 1
# DPB: not parallel-safe
a28 2
SEPARATE_BUILD=	Yes

d32 2
a33 2
CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.69
a37 1
		--with-x \
@


1.88
log
@add DPB_PROPERTIES=Parallel for some things high in the dependency tree
which benefit from it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2012/09/07 12:41:35 ajacoutot Exp $
d12 1
a12 1
DPB_PROPERTIES=	parallel
@


1.87
log
@Move @@extra where it belongs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2012/09/04 06:32:52 ajacoutot Exp $
d12 1
@


1.86
log
@Remove the -pthread patching and properly fix the autoconf test for the
pthread functions.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2012/08/15 08:03:43 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
@


1.85
log
@Bugfix update to dbus-1.6.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2012/08/05 06:55:11 ajacoutot Exp $
d6 1
d32 2
a33 1
CONFIGURE_STYLE= gnu
d35 1
a35 1
		LDFLAGS="-L${LOCALBASE}/lib -pthread"
@


1.84
log
@Remove README; xinitrc and Xsession will now try to run dbus-launch
automatically if it is available and external X session managers (e.g.
gnome-session...) also do the same.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2012/07/06 16:28:21 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	dbus-1.6.2
REVISION=	1
d8 2
a9 1
SHARED_LIBS +=	dbus-1	10.2 # .10.2
@


1.83
log
@linking to libdbus-1.0 requires -pthread.

spotted by "Onat I."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2012/07/05 07:19:48 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
@


1.82
log
@Update to dbus-1.6.2.
Committing now so that any fallout can be fixed during g2k12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2012/04/28 10:52:09 ajacoutot Exp $
d6 1
@


1.81
log
@--localstatedir=/var is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2012/04/26 09:25:40 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	dbus-1.4.20
d8 1
a8 1
SHARED_LIBS +=	dbus-1	9.1 # .8.9
d44 2
a45 1
		--disable-inotify
@


1.80
log
@Sync patch wirh upstream, USE_GMAKE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2012/04/04 06:19:01 ajacoutot Exp $
d33 1
a33 2
CONFIGURE_ARGS=	--localstatedir=/var \
		--with-dbus-user=_dbus \
@


1.79
log
@Make this build with regular make.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2012/03/31 17:56:44 ajacoutot Exp $
d27 1
@


1.78
log
@Update to dbus-1.4.20.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2012/03/29 13:39:00 sthen Exp $
a27 1
USE_GMAKE=	Yes
@


1.77
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2012/02/23 06:58:11 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	dbus-1.4.16
REVISION=	3
d8 1
a8 1
SHARED_LIBS +=	dbus-1	9.1 # .8.6
d28 1
d36 1
d41 1
d47 9
a55 2
# Tests are disabled as they change the final dbus binaries
#CONFIGURE_ARGS+=	--enable-tests
@


1.76
log
@Properly detect and use the MONOTONIC clock now that we have
pthread_condattr_{get,set}clock().
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2011/12/20 14:27:46 ajacoutot Exp $
d26 1
a26 1
SEPARATE_BUILD=	simple
@


1.75
log
@Add --system to daemon instead of daemon_flags to make it mandatory.
While here make sure the pid file is not around anymore on startup
(which can happen after a crash and prevent DBus from starting again).
@
text
@d1 1
a1 9
# $OpenBSD: Makefile,v 1.74 2011/12/03 14:27:40 ajacoutot Exp $

# OpenBSD has support for monotonic clock (CLOCK_MONOTONIC), however we
# currently don't have most of the _POSIX_* defines in unistd.h (e.g.
# _POSIX_MONOTONIC_CLOCK 200112L) and the associated sysconf(3)
# _SC_MONOTONIC_CLOCK variable.
#
# for dbus, we will not force monotonic clock support because we miss
# pthread_condattr_setclock(3).
d6 1
a6 1
REVISION=	2
@


1.74
log
@Fix MSG_NOSIGNAL detection.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2011/10/29 14:37:42 ajacoutot Exp $
d14 1
a14 1
REVISION=	1
@


1.73
log
@Tweak rc script and don't try to install under /var/... we already sample
it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2011/09/29 06:57:36 ajacoutot Exp $
d14 1
a14 1
REVISION=	0
@


1.72
log
@Bugfix update to dbus-1.4.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2011/09/09 09:00:25 ajacoutot Exp $
d14 1
@


1.71
log
@Bugfix update to dbus-1.4.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/08/31 15:09:33 ajacoutot Exp $
d13 1
a13 1
DISTNAME=	dbus-1.4.14
@


1.70
log
@Fix comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/06/15 16:26:07 ajacoutot Exp $
d13 1
a13 1
DISTNAME=	dbus-1.4.12
a15 2
REVISION=	0

d29 1
a29 1
WANTLIB=	ICE X11 Xau Xdmcp SM c expat pthread pthread-stubs xcb
@


1.69
log
@Bugfix update to dbus-1.4.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/06/15 12:42:31 ajacoutot Exp $
d15 2
@


1.68
log
@Explain why we don't enable the monotonic clock.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/06/13 17:14:58 jasper Exp $
d13 1
a13 2
DISTNAME=	dbus-1.4.10
REVISION=	0
@


1.67
log
@Security fix for SA44896, D-Bus Message Byte Order Denial of Service Weakness

Fix from upstream git.
ok aja@@ (MAINTAINER)
@
text
@d1 9
a9 1
# $OpenBSD: Makefile,v 1.66 2011/06/03 16:51:23 ajacoutot Exp $
@


1.66
log
@Bugfix update to dbus-1.4.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/06/02 13:41:42 ajacoutot Exp $
d6 1
@


1.65
log
@--disable-silent-rules is now added to CONFIGURE_ARGS per default,
if CONFIGURE_STYLE = gnu.
@
text
@a2 3
# XXX patches/patch-configure disables PIE on arm/hppa. This is just a
# temporary workaround until PIE works.

d5 1
a5 2
DISTNAME=	dbus-1.4.8
REVISION=	3
d8 1
a8 1
SHARED_LIBS +=	dbus-1	9.1 # .8.4
a48 3

pre-configure:
	@@${SUBST_CMD} ${WRKSRC}/doc/dbus-uuidgen.1
@


1.64
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/05/23 21:46:08 ajacoutot Exp $
a39 1
		--disable-silent-rules \
@


1.63
log
@Fix a comment, pointed out by Markus Lude.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/05/23 08:58:31 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
@


1.62
log
@Resurrect patch-dbus_dbus-connection_c which was lost during an update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2011/05/06 07:34:17 ajacoutot Exp $
d3 1
a3 1
# XXX patches/patch-configure_in disables PIE on arm/hppa. This is just a
@


1.61
log
@Don't try to open /proc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2011/04/28 13:09:32 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.60
log
@Fix detection of SCM_RIGHTS for fd passing.

from eric@@
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/04/21 08:27:23 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
@


1.59
log
@Update to dbus-1.4.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/03/07 19:20:28 ajacoutot Exp $
d9 1
@


1.58
log
@Update to dbus-1.4.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/12/27 14:50:24 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	dbus-1.4.6
a30 1
USE_GROFF =	Yes
@


1.57
log
@Simplify after recent rc.subr change.
The framework is now stable and we will start documenting it (at last).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/12/24 10:40:06 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	dbus-1.4.1
d11 1
a11 3
REVISION=	1

SHARED_LIBS +=	dbus-1	9.0 # .8.2
d56 1
a56 1
	@@${SUBST_CMD} ${WRKSRC}/doc/dbus-daemon.1 ${WRKSRC}/doc/dbus-uuidgen.1
@


1.57.2.1
log
@Security fix for SA44896, D-Bus Message Byte Order Denial of Service Weakness

Fix from upstream git.
ok aja@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/12/27 14:50:24 ajacoutot Exp $
d11 1
a11 1
REVISION=	2
@


1.56
log
@Cope with recent rc.subr changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/12/21 14:59:49 ajacoutot Exp $
d11 1
a11 1
REVISION=	0
@


1.55
log
@Bugfix update to dbus-1.4.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/12/21 05:57:42 ajacoutot Exp $
d10 2
@


1.54
log
@Update to dbus-1.4.0... second try.
Previously missed regression is fixed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/12/13 10:41:22 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	dbus-1.4.0
d56 1
a56 1
	@@${SUBST_CMD} ${WRKSRC}/bus/dbus-daemon.1 ${WRKSRC}/tools/dbus-uuidgen.1
@


1.53
log
@There seems to be an annoying runtime regression with session bus after
the last update which I failed to see in my tests.
While this is being worked on, let's revert for now so that people don't
run into it. Other parts of the D-DBus gang update are fine (glib and
python). Also keep the recent rc script tweak.

Sorry about that...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/12/01 19:57:51 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	dbus-1.2.24
d11 1
a11 3
REVISION=	14

SHARED_LIBS +=	dbus-1	8.0 # .7.0
d43 5
a47 1
		--disable-abstract-sockets
@


1.52
log
@It makes more sense to deal with the pidfile in pre, not post.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/12/13 10:41:22 ajacoutot Exp $
d8 2
a9 2
DISTNAME=	dbus-1.4.0
REVISION=	0
d11 3
a13 1
SHARED_LIBS +=	dbus-1	8.0 # .8.2
d45 1
a45 5
		--disable-abstract-sockets \
		--disable-selinux \
		--disable-libaudit \
		--disable-dnotify \
		--disable-inotify
@


1.51
log
@Update to dbus-1.4.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/12/01 19:57:51 ajacoutot Exp $
d9 1
@


1.50
log
@Quiet up rc_post.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/11/06 07:56:48 ajacoutot Exp $
d8 1
a8 2
DISTNAME=	dbus-1.2.24
REVISION=	13
d10 1
a10 1
SHARED_LIBS +=	dbus-1	7.1 # .7.0
d42 5
a46 1
		--disable-abstract-sockets
@


1.49
log
@Cosmetic, be consistent with how we set the rcs id in other files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/10/29 12:59:03 ajacoutot Exp $
d9 1
a9 1
REVISION=	12
@


1.48
log
@Move to pkg-readmes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/10/29 12:54:44 ajacoutot Exp $
d9 1
a9 1
REVISION=	11
@


1.47
log
@Add RCS IDs to rc scripts.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/10/28 21:10:07 robert Exp $
d9 1
a9 1
REVISION=	10
@


1.46
log
@After discussion with $french and $german, we are renaming the rc scripts from
dash to underscore so that we are consitent with the foo_bar_flags
variable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/10/28 10:59:33 robert Exp $
d9 1
a9 1
REVISION=	9
@


1.45
log
@add an rc script for dbus-daemon
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/10/24 21:15:31 ajacoutot Exp $
d9 1
a9 1
REVISION=	8
@


1.44
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/10/19 08:13:56 espie Exp $
d9 1
a9 1
REVISION=	7
@


1.43
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/09/16 12:47:54 tobias Exp $
a30 1
USE_X11=	Yes
@


1.42
log
@Fixed typo.

ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/08/23 14:29:54 ajacoutot Exp $
d32 1
@


1.41
log
@Tweak MESSAGE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/08/21 19:06:00 ajacoutot Exp $
d9 1
a9 1
REVISION=	6
@


1.40
log
@Enhance message with suggestions from dcoppa@@.
This should help people having issues with gvfs applications out of the
full blown DE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/07/30 06:58:57 ajacoutot Exp $
d9 1
a9 1
REVISION=	5
@


1.39
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/07/02 18:01:53 ajacoutot Exp $
d9 1
a9 1
REVISION=	4
@


1.39.2.1
log
@Security fix for CVE-2010-4352
D-Bus Message Validation Nested Variants Denial of Service

Patch from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/07/30 06:58:57 ajacoutot Exp $
d9 1
a9 1
REVISION=	5
@


1.38
log
@Take maintainer.

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/06/30 20:48:57 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p4
@


1.37
log
@Make use of getsockopt(2) SO_PEERCRED.
This fixes GetConnectionUnixProcessID().

Requires a very current current...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/06/29 03:36:30 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p3
d15 2
@


1.36
log
@Better.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/06/29 02:14:57 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p2
@


1.35
log
@Fix the GetConnectionUnixProcessID() function.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/04/20 17:48:18 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p1
@


1.34
log
@Prevent an infinite EINVAL loop, from FreeBSD.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/04/20 14:54:21 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
@


1.33
log
@Maintainance update to dbus-1.2.24.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/02/06 11:58:59 landry Exp $
d9 2
@


1.32
log
@Also disable PIE on hppa, use same workaround as for arm. This produces
a non-segfaulting dbus package, so dbus-glib and a whole lot of other
packages might now build on hppa..
hints from ajacoutot@@, ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/10/10 14:30:47 ajacoutot Exp $
d8 1
a8 2
DISTNAME=	dbus-1.2.16
PKGNAME=	${DISTNAME}p0
d35 2
@


1.31
log
@Update to dbus-1.2.16.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/08/11 08:42:07 ajacoutot Exp $
d3 1
a3 1
# XXX patches/patch-configure_in disables PIE on arm. This is just a
d9 1
@


1.30
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/05/31 20:56:38 jasper Exp $
d6 1
a6 1
COMMENT=		message bus system
d8 3
a10 4
DISTNAME=		dbus-1.2.14
PKGNAME=		${DISTNAME}p2
SHARED_LIBS+=		dbus-1	7.0
CATEGORIES=		x11
d12 1
a12 1
HOMEPAGE=		http://dbus.freedesktop.org/
d20 1
a20 1
WANTLIB=		ICE X11 Xau Xdmcp SM c expat pthread pthread-stubs xcb
d22 16
a37 1
MASTER_SITES=		${HOMEPAGE}/releases/dbus/
a38 13
SEPARATE_BUILD=		simple
USE_LIBTOOL=		Yes
USE_X11=		Yes
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.62
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -pthread"
CONFIGURE_ARGS=		--localstatedir=/var \
			--with-dbus-user=_dbus \
			--with-xml=expat \
			--disable-xml-docs \
			--disable-doxygen-docs \
			--disable-abstract-sockets
d40 2
a41 2
#CONFIGURE_ARGS=		--enable-tests
#CONFIGURE_ARGS=		--enable-verbose-mode
d43 1
a43 1
FAKE_FLAGS=		sysconfdir=${TRUEPREFIX}/share/examples/dbus
d45 1
a45 1
pre-build:
@


1.29
log
@- better DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/05/11 20:27:07 ajacoutot Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p0
d21 1
a21 1
WANTLIB=		ICE X11 Xau Xdmcp SM c expat pthread
@


1.28
log
@- bugfix update to dbus-1.2.14

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/04/24 15:06:05 kurt Exp $
d9 1
@


1.27
log
@Prevent signal/waitpid races by blocking SIGCHLD in
_dbus_get_autolaunch_address(). This corrects the
pidgin + dbus plugin error dialog  "dbus: Failed to
get connection: Failed to execute dbus-launch to
autolaunch D-Bus session".

okay todd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/04/15 16:12:52 kili Exp $
d8 1
a8 2
DISTNAME=		dbus-1.2.12
PKGNAME=		${DISTNAME}p3
@


1.26
log
@Disable PIE *only* on arm.

From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/04/14 20:33:11 kili Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p2
@


1.25
log
@
Disable PIE to fix the build on arm.

XXX this is just a workaround to get a working dbus on arm until PIE is fixed

ok "if you add some XXX about the PIE problem", ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/01/28 19:05:23 ajacoutot Exp $
d3 2
a4 2
# XXX patches/patch-configure_in disables PIE. This is just a
# temporary workaround until PIE works on arm.
d9 1
a9 1
PKGNAME=		${DISTNAME}p1
@


1.24
log
@- it seems this patch was forgotten in previous commit
- safe bump
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.23 2009/01/28 14:16:19 jasper Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p0
@


1.23
log
@- maintenance update dbus to 1.2.12

from Brad, ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/01/19 11:56:43 ajacoutot Exp $
d6 1
@


1.22
log
@- re-add pie support now that it's been fixed on powerpc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/01/06 10:16:52 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		dbus-1.2.6
PKGNAME=		${DISTNAME}p1
d24 2
a25 1
CONFIGURE_STYLE=	gnu
@


1.21
log
@- don't build with pie, it gives empty unresolved symbols on powerpc

ok todd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/12/09 14:14:45 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.20
log
@- set configure style to 'gnu', prodded by brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/12/09 14:12:08 jasper Exp $
d6 1
@


1.19
log
@- SECURITY UPDATE for dbus to 1.2.6

fixes CVE-2008-4311
The default policy for both sent and received messages was
effectively *allow*, and not deny as stated.

"looks good" todd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/11/24 11:20:13 ajacoutot Exp $
d24 1
a24 2
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.61
@


1.18
log
@- move -pthread linking where it belongs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/10/12 22:08:04 brad Exp $
d5 1
a5 2
DISTNAME=		dbus-1.2.4
PKGNAME=		${DISTNAME}p0
@


1.17
log
@Update to DBus 1.2.4.

Also a security update for a remote application DoS.. CVE-2008-3834.

ok jasper@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/06/10 03:09:39 sturm Exp $
d6 1
a21 2
CFLAGS+=		-pthread

d28 1
a28 1
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.16
log
@uninstall machine-id with pkg_delete -c
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/04/20 21:00:19 jasper Exp $
d5 2
a6 3
DISTNAME=		dbus-1.0.2
PKGNAME=		${DISTNAME}p5
SHARED_LIBS +=  dbus-1               6.0      # .5.0
d11 1
a11 1
# GPLv2
d21 2
d24 6
a29 6

AUTOCONF_VERSION=	2.59
CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib" \
			CPPFLAGS="-I${X11BASE}/include" \
			CFLAGS="${CFLAGS} -I${LOCALBASE}/include -pthread"
d34 2
a35 1
			--disable-doxygen-docs
a39 3
USE_X11=		Yes
USE_LIBTOOL=		Yes

d42 2
a43 3
pre-install:
	@@perl -pi -e 's,!!SYSCONFDIR!!,${SYSCONFDIR},g' \
		${WRKSRC}/tools/dbus-uuidgen.1 ${WRKSRC}/bus/dbus-daemon.1
@


1.15
log
@- better COMMENT
- fix locations in dbus-daemon.1 (spotted by ajacoutot)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/03/23 12:50:54 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p4
@


1.14
log
@- use pre-install instead of pre-fake; from bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/03/23 10:53:55 ajacoutot Exp $
d3 1
a3 1
COMMENT=		message system
d6 1
a6 1
PKGNAME=		${DISTNAME}p3
d20 1
a20 1
MASTER_SITES=		${HOMEPAGE}releases/dbus/
d45 1
a45 1
		${WRKSRC}/tools/dbus-uuidgen.1
@


1.13
log
@- s/etc/$SYSCONFDIR
- simpler rc.local example; remove UNMESSAGE
- remove /var/run @@sample from PLIST as this gets removed at reboot
- don't try to install dir outside of $PREFIX

ok jasper@@ landry@@ bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/02/29 13:38:56 bernd Exp $
d43 1
a43 1
pre-fake:
@


1.12
log
@Security fix for CVE-2008-0595.

http://lists.freedesktop.org/archives/dbus/2008-February/009401.html

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/01/04 17:48:38 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
d12 1
a12 1
# GPL
d17 1
d42 4
@


1.11
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/11/01 11:04:28 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
@


1.10
log
@fix build in case xmlto is installed, and explicitly disable doc components
that don't get built reproducibly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/09/15 20:04:19 merdely Exp $
d40 1
a40 2
FAKE_FLAGS=		sysconfdir=${TRUEPREFIX}/share/examples/dbus \
			DESTDIR=${WRKINST}
@


1.9
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/04/27 18:46:20 bernd Exp $
d30 3
a32 1
			--with-xml=expat
@


1.8
log
@Use xenocara expat.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/04/08 16:33:41 sturm Exp $
d3 1
a3 1
COMMENT=		"message system"
@


1.7
log
@more WANTLIB fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/03/21 00:21:58 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d17 1
a17 1
WANTLIB=		ICE X11 Xau Xdmcp SM c pthread
a20 2
LIB_DEPENDS=		expat.>=6::textproc/expat

d25 2
a26 1
CONFIGURE_ENV=		LDFLAGS=-L${LOCALBASE}/lib \
@


1.6
log
@update to 1.0.2. okay alek@@, jasper@@.
No objections from wilfried@@, matthieu@@, sturm@@...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/12/16 12:22:35 espie Exp $
d6 1
d17 1
a17 1
WANTLIB=		ICE X11 SM c pthread
@


1.5
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/11/13 13:01:37 steven Exp $
d5 2
a6 2
DISTNAME=		dbus-0.94
SHARED_LIBS +=  dbus-1               5.0      # .5.0
d24 1
@


1.4
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/11/07 10:40:19 alek Exp $
a19 1
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig
@


1.3
log
@Update to 0.94 and make it work.

Sessionwide dbus tested with gaim; systemwide bus untested but at least it
starts up without dumping core.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/09/20 12:22:07 bernd Exp $
d35 1
@


1.2
log
@Add missing WANTLIB and LIB_DEPENDS...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/09/19 18:10:14 espie Exp $
d3 1
d5 2
a6 2
DISTNAME=		dbus-0.92
COMMENT=		"message system"
d8 1
a9 1
MASTER_SITES=		http://dbus.freedesktop.org/releases/
d11 6
a16 2
SEPARATE_BUILD=		simple
PKGNAME=		${DISTNAME}p0
d18 1
a18 6
SHARED_LIBS=		dbus-1		3.0
# GPL
PERMIT_DISTFILES_CDROM?=	Yes
PERMIT_DISTFILES_FTP?=		Yes
PERMIT_PACKAGE_CDROM?=		Yes
PERMIT_PACKAGE_FTP?=		Yes
d20 1
a20 1
WANTLIB=		ICE X11 SM c
d23 2
d27 8
a34 1
			CPPFLAGS=-I${LOCALBASE}/include
d37 2
a38 1
FAKE_FLAGS=		sysconfdir=${TRUEPREFIX}/share/sample/dbus DESTDIR=${WRKINST}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2006/08/03 10:53:36 espie Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}
d19 3
@


1.1.1.1
log
@D-Bus IPC, will be used by KDE4
@
text
@@
