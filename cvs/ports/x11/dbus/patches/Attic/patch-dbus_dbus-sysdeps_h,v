head	1.1;
access;
symbols
	OPENBSD_5_5:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2014.07.08.16.23.18;	author ajacoutot;	state dead;
branches
	1.1.2.1;
next	;
commitid	hxOtApKz6smzmg99;

1.1.2.1
date	2014.07.08.16.23.18;	author ajacoutot;	state Exp;
branches;
next	;
commitid	hxOtApKz6smzmg99;


desc
@@


1.1
log
@file patch-dbus_dbus-sysdeps_h was initially added on branch OPENBSD_5_5.
@
text
@@


1.1.2.1
log
@Merge security fixes for:
CVE-2014-3532
CVE-2014-3533
@
text
@a0 17
$OpenBSD$

From 9ca90648fc870c24d852ce6d7ce9387a9fc9a94a Mon Sep 17 00:00:00 2001
From: Alban Crequy <alban.crequy@@collabora.co.uk>
Date: Tue, 24 Jun 2014 16:57:14 +0000
Subject: Handle ETOOMANYREFS when sending recursive fds (SCM_RIGHTS)

--- dbus/dbus-sysdeps.h.orig	Tue Oct  8 19:40:40 2013
+++ dbus/dbus-sysdeps.h	Tue Jul  8 18:18:05 2014
@@@@ -384,6 +384,7 @@@@ dbus_bool_t _dbus_get_is_errno_eagain_or_ewouldblock (
 dbus_bool_t _dbus_get_is_errno_enomem                (void);
 dbus_bool_t _dbus_get_is_errno_eintr                 (void);
 dbus_bool_t _dbus_get_is_errno_epipe                 (void);
+dbus_bool_t _dbus_get_is_errno_etoomanyrefs           (void);
 const char* _dbus_strerror_from_errno                (void);
 
 void _dbus_disable_sigpipe (void);
@

