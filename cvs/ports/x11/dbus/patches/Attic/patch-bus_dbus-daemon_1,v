head	1.8;
access;
symbols
	OPENBSD_4_8:1.4.0.4
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.3.0.4
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.2
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.8
date	2010.12.21.14.59.49;	author ajacoutot;	state dead;
branches;
next	1.7;

1.7
date	2010.12.21.05.57.42;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2010.12.16.07.13.58;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.12.13.10.41.22;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2009.10.10.14.30.47;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2009.01.28.14.16.19;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2008.10.12.22.08.04;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2008.04.20.21.00.19;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Bugfix update to dbus-1.4.1.
@
text
@$OpenBSD: patch-bus_dbus-daemon_1,v 1.7 2010/12/21 05:57:42 ajacoutot Exp $
--- bus/dbus-daemon.1.orig	Mon Sep  6 14:52:32 2010
+++ bus/dbus-daemon.1	Mon Dec 13 10:42:07 2010
@@@@ -27,9 +27,9 @@@@ per-user-login-session message bus (started each time 
 a different configuration file.
 .PP
 The \-\-session option is equivalent to
-"\-\-config-file=/usr/local/etc/dbus-1/session.conf" and the \-\-system
+"\-\-config-file=${SYSCONFDIR}/dbus-1/session.conf" and the \-\-system
 option is equivalent to
-"\-\-config-file=/usr/local/etc/dbus-1/system.conf". By creating
+"\-\-config-file=${SYSCONFDIR}/dbus-1/system.conf". By creating
 additional configuration files and using the \-\-config-file option,
 additional special-purpose message bus daemons could be created.
 .PP
@@@@ -110,8 +110,8 @@@@ specification and its backward compatibility is not gu
 document is documentation, not specification.
 .PP
 The standard systemwide and per-session message bus setups are
-configured in the files "/usr/local/etc/dbus-1/system.conf" and
-"/usr/local/etc/dbus-1/session.conf".  These files normally
+configured in the files "${SYSCONFDIR}/dbus-1/system.conf" and
+"${SYSCONFDIR}/dbus-1/session.conf".  These files normally
 <include> a system-local.conf or session-local.conf; you can put local
 overrides in those files to avoid modifying the primary configuration
 files.
@@@@ -187,7 +187,7 @@@@ Only files ending in ".conf" are included.
 This is intended to allow extension of the system bus by particular
 packages. For example, if CUPS wants to be able to send out
 notification of printer queue changes, it could install a file to
-/usr/local/etc/dbus-1/system.d that allowed all apps to receive
+${SYSCONFDIR}/dbus-1/system.d that allowed all apps to receive
 this message and allowed the printer daemon user to send it.
 
 .TP
@@@@ -323,7 +323,7 @@@@ otherwise try your favorite search engine.
 .PP
 The <standard_session_servicedirs/> option is only relevant to the
 per-user-session bus daemon defined in
-/usr/local/etc/dbus-1/session.conf. Putting it in any other
+${SYSCONFDIR}/dbus-1/session.conf. Putting it in any other
 configuration file would probably be nonsense.
 
 .TP
@@@@ -332,12 +332,12 @@@@ configuration file would probably be nonsense.
 .PP
 <standard_system_servicedirs/> specifies the standard system-wide
 activation directories that should be searched for service files.
-This option defaults to /usr/local/share/dbus-1/system-services.
+This option defaults to ${PREFIX}/share/dbus-1/system-services.
 
 .PP
 The <standard_system_servicedirs/> option is only relevant to the
 per-system bus daemon defined in
-/usr/local/etc/dbus-1/system.conf. Putting it in any other
+${SYSCONFDIR}/dbus-1/system.conf. Putting it in any other
 configuration file would probably be nonsense.
 
 .TP
@@@@ -350,7 +350,7 @@@@ the dbus-daemon-launch-helper executable in located in
 
 .PP
 The <servicehelper/> option is only relevant to the per-system bus daemon
-defined in /usr/local/etc/dbus-1/system.conf. Putting it in any other
+defined in ${SYSCONFDIR}/dbus-1/system.conf. Putting it in any other
 configuration file would probably be nonsense.
 
 .TP
@


1.7
log
@Update to dbus-1.4.0... second try.
Previously missed regression is fixed.
@
text
@d1 1
a1 1
$OpenBSD: patch-bus_dbus-daemon_1,v 1.5 2010/12/13 10:41:22 ajacoutot Exp $
@


1.6
log
@There seems to be an annoying runtime regression with session bus after
the last update which I failed to see in my tests.
While this is being worked on, let's revert for now so that people don't
run into it. Other parts of the D-DBus gang update are fine (glib and
python). Also keep the recent rc script tweak.

Sorry about that...
@
text
@d1 5
a5 5
$OpenBSD: patch-bus_dbus-daemon_1,v 1.4 2009/10/10 14:30:47 ajacoutot Exp $
--- bus/dbus-daemon.1.orig	Sat Oct 10 12:48:43 2009
+++ bus/dbus-daemon.1	Sat Oct 10 12:50:45 2009
@@@@ -30,9 +30,9 @@@@ a different configuration file.
 
d8 1
a8 1
-"\-\-config-file=/src/build/dbus/etc/dbus-1/session.conf" and the \-\-system
d11 2
a12 2
-"\-\-config-file=/src/build/dbus/etc/dbus-1/system.conf". By creating 
+"\-\-config-file=${SYSCONFDIR}/dbus-1/system.conf". By creating 
d15 3
a17 3
 
@@@@ -106,8 +106,8 @@@@ document is documentation, not specification.
 
d20 2
a21 2
-configured in the files "/src/build/dbus/etc/dbus-1/system.conf" and
-"/src/build/dbus/etc/dbus-1/session.conf".  These files normally
d27 10
a36 1
@@@@ -319,7 +319,7 @@@@ otherwise try your favorite search engine.
d40 1
a40 1
-/src/build/dbus/etc/dbus-1/session.conf. Putting it in any other
d45 1
a45 1
@@@@ -328,12 +328,12 @@@@ configuration file would probably be nonsense.
d49 1
a49 1
-This option defaults to /src/build/dbus/share/dbus-1/system-services.
d55 1
a55 1
-/src/build/dbus/etc/dbus-1/system.conf. Putting it in any other
d60 1
a60 1
@@@@ -346,7 +346,7 @@@@ the dbus-daemon-launch-helper executable in located in
d64 1
a64 1
-defined in /src/build/dbus/etc/dbus-1/system.conf. Putting it in any other
@


1.5
log
@Update to dbus-1.4.0.
@
text
@d2 4
a5 4
--- bus/dbus-daemon.1.orig	Mon Sep  6 14:52:32 2010
+++ bus/dbus-daemon.1	Mon Dec 13 10:42:07 2010
@@@@ -27,9 +27,9 @@@@ per-user-login-session message bus (started each time 
 a different configuration file.
d8 1
a8 1
-"\-\-config-file=/usr/local/etc/dbus-1/session.conf" and the \-\-system
d11 2
a12 2
-"\-\-config-file=/usr/local/etc/dbus-1/system.conf". By creating
+"\-\-config-file=${SYSCONFDIR}/dbus-1/system.conf". By creating
d15 3
a17 3
 .PP
@@@@ -110,8 +110,8 @@@@ specification and its backward compatibility is not gu
 document is documentation, not specification.
d20 2
a21 2
-configured in the files "/usr/local/etc/dbus-1/system.conf" and
-"/usr/local/etc/dbus-1/session.conf".  These files normally
d27 1
a27 10
@@@@ -187,7 +187,7 @@@@ Only files ending in ".conf" are included.
 This is intended to allow extension of the system bus by particular
 packages. For example, if CUPS wants to be able to send out
 notification of printer queue changes, it could install a file to
-/usr/local/etc/dbus-1/system.d that allowed all apps to receive
+${SYSCONFDIR}/dbus-1/system.d that allowed all apps to receive
 this message and allowed the printer daemon user to send it.
 
 .TP
@@@@ -323,7 +323,7 @@@@ otherwise try your favorite search engine.
d31 1
a31 1
-/usr/local/etc/dbus-1/session.conf. Putting it in any other
d36 1
a36 1
@@@@ -332,12 +332,12 @@@@ configuration file would probably be nonsense.
d40 1
a40 1
-This option defaults to /usr/local/share/dbus-1/system-services.
d46 1
a46 1
-/usr/local/etc/dbus-1/system.conf. Putting it in any other
d51 1
a51 1
@@@@ -350,7 +350,7 @@@@ the dbus-daemon-launch-helper executable in located in
d55 1
a55 1
-defined in /usr/local/etc/dbus-1/system.conf. Putting it in any other
@


1.4
log
@Update to dbus-1.2.16.

ok jasper@@
@
text
@d1 5
a5 5
$OpenBSD: patch-bus_dbus-daemon_1,v 1.3 2009/01/28 14:16:19 jasper Exp $
--- bus/dbus-daemon.1.orig	Sat Oct 10 12:48:43 2009
+++ bus/dbus-daemon.1	Sat Oct 10 12:50:45 2009
@@@@ -30,9 +30,9 @@@@ a different configuration file.
 
d8 1
a8 1
-"\-\-config-file=/src/build/dbus/etc/dbus-1/session.conf" and the \-\-system
d11 2
a12 2
-"\-\-config-file=/src/build/dbus/etc/dbus-1/system.conf". By creating 
+"\-\-config-file=${SYSCONFDIR}/dbus-1/system.conf". By creating 
d15 3
a17 3
 
@@@@ -106,8 +106,8 @@@@ document is documentation, not specification.
 
d20 2
a21 2
-configured in the files "/src/build/dbus/etc/dbus-1/system.conf" and
-"/src/build/dbus/etc/dbus-1/session.conf".  These files normally
d27 10
a36 1
@@@@ -319,7 +319,7 @@@@ otherwise try your favorite search engine.
d40 1
a40 1
-/src/build/dbus/etc/dbus-1/session.conf. Putting it in any other
d45 1
a45 1
@@@@ -328,12 +328,12 @@@@ configuration file would probably be nonsense.
d49 1
a49 1
-This option defaults to /src/build/dbus/share/dbus-1/system-services.
d55 1
a55 1
-/src/build/dbus/etc/dbus-1/system.conf. Putting it in any other
d60 1
a60 1
@@@@ -346,7 +346,7 @@@@ the dbus-daemon-launch-helper executable in located in
d64 1
a64 1
-defined in /src/build/dbus/etc/dbus-1/system.conf. Putting it in any other
@


1.3
log
@- maintenance update dbus to 1.2.12

from Brad, ok ajacoutot@@
@
text
@d1 3
a3 3
$OpenBSD: patch-bus_dbus-daemon_1,v 1.2 2008/10/12 22:08:04 brad Exp $
--- bus/dbus-daemon.1.orig	Tue Jan  6 19:31:07 2009
+++ bus/dbus-daemon.1	Tue Jan 27 03:38:09 2009
d8 1
a8 1
-"\-\-config-file=/src/build/jhbuild/etc/dbus-1/session.conf" and the \-\-system
d11 1
a11 1
-"\-\-config-file=/src/build/jhbuild/etc/dbus-1/system.conf". By creating 
d20 2
a21 2
-configured in the files "/src/build/jhbuild/etc/dbus-1/system.conf" and
-"/src/build/jhbuild/etc/dbus-1/session.conf".  These files normally
a26 9
@@@@ -183,7 +183,7 @@@@ Only files ending in ".conf" are included.
 This is intended to allow extension of the system bus by particular
 packages. For example, if CUPS wants to be able to send out
 notification of printer queue changes, it could install a file to
-/src/build/jhbuild/etc/dbus-1/system.d that allowed all apps to receive
+${SYSCONFDIR}/dbus-1/system.d that allowed all apps to receive
 this message and allowed the printer daemon user to send it.
 
 .TP
d31 1
a31 1
-/src/build/jhbuild/etc/dbus-1/session.conf. Putting it in any other
d40 1
a40 1
-This option defaults to /src/build/jhbuild/share/dbus-1/system-services.
d46 1
a46 1
-/src/build/jhbuild/etc/dbus-1/system.conf. Putting it in any other
d55 1
a55 1
-defined in /src/build/jhbuild/etc/dbus-1/system.conf. Putting it in any other
@


1.2
log
@Update to DBus 1.2.4.

Also a security update for a remote application DoS.. CVE-2008-3834.

ok jasper@@ ajacoutot@@
@
text
@d1 3
a3 3
$OpenBSD: patch-bus_dbus-daemon_1,v 1.1 2008/04/20 21:00:19 jasper Exp $
--- bus/dbus-daemon.1.orig	Wed Aug  6 15:43:48 2008
+++ bus/dbus-daemon.1	Thu Aug  7 15:05:14 2008
d36 1
a36 1
@@@@ -312,7 +312,7 @@@@ otherwise try your favorite search engine.
d45 1
a45 1
@@@@ -321,12 +321,12 @@@@ configuration file would probably be nonsense.
d60 1
a60 1
@@@@ -339,7 +339,7 @@@@ the dbus-daemon-launch-helper executable in located in
@


1.1
log
@- better COMMENT
- fix locations in dbus-daemon.1 (spotted by ajacoutot)
@
text
@d1 3
a3 3
$OpenBSD$
--- bus/dbus-daemon.1.orig	Sun Apr 20 22:54:14 2008
+++ bus/dbus-daemon.1	Sun Apr 20 22:54:17 2008
d8 2
a9 2
-"\-\-config-file=/usr/local/etc/dbus-1/session.conf" and the \-\-system
+"\-\-config-file=!!SYSCONFDIR!!/dbus-1/session.conf" and the \-\-system
d11 2
a12 2
-"\-\-config-file=/usr/local/etc/dbus-1/system.conf". By creating 
+"\-\-config-file=!!SYSCONFDIR!!/dbus-1/system.conf". By creating 
d20 4
a23 4
-configured in the files "/usr/local/etc/dbus-1/system.conf" and
-"/usr/local/etc/dbus-1/session.conf".  These files normally
+configured in the files "!!SYSCONFDIR!!/dbus-1/system.conf" and
+"!!SYSCONFDIR!!/dbus-1/session.conf".  These files normally
d27 1
a27 1
@@@@ -169,7 +169,7 @@@@ Only files ending in ".conf" are included.
d31 2
a32 2
-/usr/local/etc/dbus-1/system.d that allowed all apps to receive
+!!SYSCONFDIR!!/dbus-1/system.d that allowed all apps to receive
d36 1
a36 1
@@@@ -264,7 +264,7 @@@@ otherwise try your favorite search engine.
d40 26
a65 2
-/usr/local/etc/dbus-1/session.conf. Putting it in any other
+!!SYSCONFDIR!!/dbus-1/session.conf. Putting it in any other
@

