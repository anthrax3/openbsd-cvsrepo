head	1.9;
access;
symbols
	OPENBSD_5_2:1.8.0.2
	OPENBSD_5_2_BASE:1.8
	OPENBSD_4_8:1.4.0.8
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.6
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.4
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.2
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.3.0.4
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.0.2
	OPENBSD_4_1_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2012.09.04.06.32.52;	author ajacoutot;	state dead;
branches;
next	1.8;

1.8
date	2012.07.06.16.28.21;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.12.21.05.57.42;	author ajacoutot;	state dead;
branches;
next	1.6;

1.6
date	2010.12.16.07.13.58;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.12.13.10.41.22;	author ajacoutot;	state dead;
branches;
next	1.4;

1.4
date	2008.10.12.22.08.04;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.01.11.04.28;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2007.03.21.00.21.58;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.07.10.40.19;	author alek;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Remove the -pthread patching and properly fix the autoconf test for the
pthread functions.

from Brad
@
text
@$OpenBSD: patch-dbus-1_pc_in,v 1.8 2012/07/06 16:28:21 ajacoutot Exp $

pthreads(3) is needed to link with libdbus-1.

--- dbus-1.pc.in.orig	Fri Jul  6 18:11:44 2012
+++ dbus-1.pc.in	Fri Jul  6 18:12:27 2012
@@@@ -12,6 +12,6 @@@@ daemondir=@@DBUS_DAEMONDIR@@
 Name: dbus
 Description: Free desktop message bus
 Version: @@VERSION@@
-Libs: -L${libdir} -ldbus-1
+Libs: -pthread -L${libdir} -ldbus-1
 Libs.private: @@LIBDBUS_LIBS@@
 Cflags: -I${includedir}/dbus-1.0 -I${libdir}/dbus-1.0/include @@DBUS_STATIC_BUILD_CPPFLAGS@@
@


1.8
log
@linking to libdbus-1.0 requires -pthread.

spotted by "Onat I."
@
text
@d1 1
a1 1
$OpenBSD$
@


1.7
log
@Update to dbus-1.4.0... second try.
Previously missed regression is fixed.
@
text
@d1 7
a7 4
$OpenBSD: patch-dbus-1_pc_in,v 1.6 2010/12/16 07:13:58 ajacoutot Exp $
--- dbus-1.pc.in.orig	Fri Apr  4 11:24:08 2008
+++ dbus-1.pc.in	Fri Jul  4 21:14:27 2008
@@@@ -10,6 +10,6 @@@@ daemondir=@@DBUS_DAEMONDIR@@
d11 4
a14 4
-Libs: -L${libdir} -ldbus-1 @@DBUS_CLIENT_LIBS@@ 
+Libs: -L${libdir} -ldbus-1 -pthread @@DBUS_CLIENT_LIBS@@ 
 Cflags: -I${includedir}/dbus-1.0 -I${libdir}/dbus-1.0/include
 
@


1.6
log
@There seems to be an annoying runtime regression with session bus after
the last update which I failed to see in my tests.
While this is being worked on, let's revert for now so that people don't
run into it. Other parts of the D-DBus gang update are fine (glib and
python). Also keep the recent rc script tweak.

Sorry about that...
@
text
@d1 1
a1 1
$OpenBSD: patch-dbus-1_pc_in,v 1.4 2008/10/12 22:08:04 brad Exp $
@


1.5
log
@Update to dbus-1.4.0.
@
text
@@


1.4
log
@Update to DBus 1.2.4.

Also a security update for a remote application DoS.. CVE-2008-3834.

ok jasper@@ ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD: patch-dbus-1_pc_in,v 1.3 2007/11/01 11:04:28 espie Exp $
@


1.3
log
@fix build in case xmlto is installed, and explicitly disable doc components
that don't get built reproducibly
@
text
@d1 4
a4 4
$OpenBSD: patch-dbus-1_pc_in,v 1.2 2007/03/21 00:21:58 espie Exp $
--- dbus-1.pc.in.orig	Mon Dec 11 20:20:51 2006
+++ dbus-1.pc.in	Thu Nov  1 11:49:45 2007
@@@@ -9,6 +9,6 @@@@ session_bus_services_dir=@@EXPANDED_DATADIR@@/dbus-1/ser
@


1.2
log
@update to 1.0.2. okay alek@@, jasper@@.
No objections from wilfried@@, matthieu@@, sturm@@...
@
text
@d1 4
a4 4
$OpenBSD: patch-dbus-1_pc_in,v 1.1 2006/11/07 10:40:19 alek Exp $
--- dbus-1.pc.in.orig	Thu Oct 26 20:06:07 2006
+++ dbus-1.pc.in	Fri Dec 29 15:45:18 2006
@@@@ -9,6 +9,6 @@@@ session_bus_services_dir=@@EXPANDED_DATAD
@


1.1
log
@Update to 0.94 and make it work.

Sessionwide dbus tested with gaim; systemwide bus untested but at least it
starts up without dumping core.
@
text
@d1 3
a3 3
$OpenBSD$
--- dbus-1.pc.in.orig	Mon Nov  6 02:57:09 2006
+++ dbus-1.pc.in	Mon Nov  6 02:58:50 2006
d8 2
a9 2
-Libs: -L${libdir} -ldbus-1
+Libs: -L${libdir} -ldbus-1 -pthread
@

