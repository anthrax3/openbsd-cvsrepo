head	1.60;
access;
symbols
	OPENBSD_6_2:1.60.0.2
	OPENBSD_6_2_BASE:1.60
	OPENBSD_6_1:1.59.0.2
	OPENBSD_6_1_BASE:1.59
	OPENBSD_6_0:1.58.0.2
	OPENBSD_6_0_BASE:1.58
	OPENBSD_5_9:1.57.0.2
	OPENBSD_5_9_BASE:1.57
	OPENBSD_5_8:1.57.0.4
	OPENBSD_5_8_BASE:1.57
	OPENBSD_5_7:1.56.0.8
	OPENBSD_5_7_BASE:1.56
	OPENBSD_5_6:1.56.0.6
	OPENBSD_5_6_BASE:1.56
	OPENBSD_5_5:1.56.0.4
	OPENBSD_5_5_BASE:1.56
	OPENBSD_5_4:1.56.0.2
	OPENBSD_5_4_BASE:1.56
	OPENBSD_5_3:1.53.0.2
	OPENBSD_5_3_BASE:1.53
	OPENBSD_5_2:1.52.0.2
	OPENBSD_5_2_BASE:1.52
	OPENBSD_5_1_BASE:1.51
	OPENBSD_5_1:1.51.0.2
	OPENBSD_5_0:1.50.0.2
	OPENBSD_5_0_BASE:1.50
	OPENBSD_4_9:1.49.0.2
	OPENBSD_4_9_BASE:1.49
	OPENBSD_4_8:1.45.0.2
	OPENBSD_4_8_BASE:1.45
	OPENBSD_4_7:1.41.0.2
	OPENBSD_4_7_BASE:1.41
	OPENBSD_4_6:1.38.0.4
	OPENBSD_4_6_BASE:1.38
	OPENBSD_4_5:1.38.0.2
	OPENBSD_4_5_BASE:1.38
	OPENBSD_4_4:1.35.0.4
	OPENBSD_4_4_BASE:1.35
	OPENBSD_4_3:1.35.0.2
	OPENBSD_4_3_BASE:1.35
	OPENBSD_4_2:1.34.0.4
	OPENBSD_4_2_BASE:1.34
	OPENBSD_4_1:1.34.0.2
	OPENBSD_4_1_BASE:1.34
	OPENBSD_4_0:1.33.0.4
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.33.0.2
	OPENBSD_3_9_BASE:1.33
	OPENBSD_3_8:1.31.0.2
	OPENBSD_3_8_BASE:1.31
	OPENBSD_3_7:1.29.0.2
	OPENBSD_3_7_BASE:1.29
	OPENBSD_3_6:1.28.0.2
	OPENBSD_3_6_BASE:1.28
	OPENBSD_3_5:1.27.0.2
	OPENBSD_3_5_BASE:1.27
	OPENBSD_3_4:1.23.0.2
	OPENBSD_3_4_BASE:1.23
	OPENBSD_3_3:1.20.0.2
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.17.0.2
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.9.0.2
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.2.0.2
	OPENBSD_3_0_BASE:1.2
	espie:1.1.1.1
	ogle:1.1.1;
locks; strict;
comment	@# @;


1.60
date	2017.05.14.16.37.52;	author schwarze;	state Exp;
branches;
next	1.59;
commitid	rZ89qajPuvniYe69;

1.59
date	2016.08.28.14.35.54;	author jca;	state Exp;
branches;
next	1.58;
commitid	bUBnerNTN6ywfLS2;

1.58
date	2016.04.26.16.37.47;	author naddy;	state Exp;
branches;
next	1.57;
commitid	KLHX371Pf8geREWZ;

1.57
date	2015.04.21.18.53.16;	author sthen;	state Exp;
branches;
next	1.56;
commitid	1NbijAZBcTT4n46A;

1.56
date	2013.04.29.12.10.24;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2013.03.21.08.48.56;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2013.03.11.11.46.14;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2013.02.09.14.49.54;	author sthen;	state Exp;
branches;
next	1.52;

1.52
date	2012.05.03.06.51.24;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2011.09.16.12.29.16;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2011.04.17.18.19.37;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2010.11.22.08.37.03;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2010.10.25.08.46.49;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2010.10.24.21.15.33;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2010.10.19.08.13.58;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2010.07.30.09.23.28;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2010.07.30.06.58.59;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2010.06.27.17.35.36;	author jakemsr;	state Exp;
branches;
next	1.42;

1.42
date	2010.04.11.09.08.38;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2009.12.09.10.19.33;	author jakemsr;	state Exp;
branches;
next	1.40;

1.40
date	2009.08.12.15.28.08;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2009.08.11.08.42.08;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2009.01.25.18.58.58;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2009.01.15.07.29.29;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2008.11.28.17.44.37;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2007.09.15.20.04.23;	author merdely;	state Exp;
branches;
next	1.34;

1.34
date	2006.09.18.10.21.49;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2006.01.12.01.05.23;	author naddy;	state Exp;
branches;
next	1.32;

1.32
date	2005.12.26.16.45.43;	author naddy;	state Exp;
branches;
next	1.31;

1.31
date	2005.05.14.09.32.50;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2005.04.27.10.29.54;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2004.12.17.15.18.34;	author alek;	state Exp;
branches;
next	1.28;

1.28
date	2004.07.14.13.15.02;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2004.02.29.08.12.56;	author pvalchev;	state Exp;
branches;
next	1.26;

1.26
date	2003.12.10.21.28.58;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2003.11.17.19.56.38;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2003.11.13.18.46.46;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2003.08.16.22.29.59;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2003.03.31.14.59.29;	author sturm;	state Exp;
branches;
next	1.21;

1.21
date	2003.03.28.18.16.44;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2003.02.24.23.36.18;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2003.02.24.22.56.35;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2002.10.22.23.24.06;	author fgsch;	state Exp;
branches;
next	1.17;

1.17
date	2002.08.28.01.34.37;	author drahn;	state Exp;
branches;
next	1.16;

1.16
date	2002.08.18.09.38.26;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2002.08.18.09.28.19;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2002.08.11.01.45.26;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2002.07.16.13.38.04;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2002.06.22.11.47.12;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2002.06.15.23.09.34;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2002.05.19.00.27.06;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2002.04.02.03.50.35;	author drahn;	state Exp;
branches;
next	1.8;

1.8
date	2002.04.02.01.04.19;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2002.03.17.20.05.07;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2002.01.20.22.57.14;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2002.01.08.11.05.53;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2001.11.02.17.38.04;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2001.10.24.12.54.33;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.10.16.17.00.08;	author naddy;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2001.10.14.15.35.04;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.10.14.15.35.04;	author espie;	state Exp;
branches;
next	;

1.2.2.1
date	2002.01.08.10.53.36;	author espie;	state Exp;
branches;
next	;


desc
@@


1.60
log
@unimportant whitespace differences only, drop USE_GROFF and bump
@
text
@# $OpenBSD: Makefile,v 1.59 2016/08/28 14:35:54 jca Exp $

ONLY_FOR_ARCHS =	alpha i386 powerpc sparc64 amd64

CATEGORIES =	x11

COMMENT =	DVD player
DISTNAME =	ogle-0.9.2
REVISION =	19
SHARED_LIBS =	dvdcontrol	11.0 \
		msgevents	8.0
HOMEPAGE =	http://www.dtek.chalmers.se/groups/dvd/
# Authors can be reached at dvd@@dtek.chalmers.se
MASTER_SITES =	${HOMEPAGE}dist/

MAINTAINER =	Marc Espie <espie@@openbsd.org>

CONFIGURE_STYLE =	gnu

#FAKE=all
# GPL
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += ICE SM X11 Xext Xinerama Xv Xxf86vm a52 c dvdread iconv
WANTLIB += jpeg lzma m mad pthread sndio xcb xml2 z

LIB_DEPENDS =	audio/liba52 \
		converters/libiconv \
		devel/libdvdread \
		textproc/libxml>=2.4.19 \
		graphics/jpeg \
		audio/libmad

FLAVORS =	altivec
FLAVOR ?=

CONFIGURE_ARGS =	--disable-oss --disable-sunaudio --enable-obsdaudio

.if ${FLAVOR} == "altivec"
ONLY_FOR_ARCHS =	powerpc
CONFIGURE_ARGS +=	--enable-altivec
.else
CONFIGURE_ARGS +=	--disable-altivec
.endif
CONFIGURE_ARGS +=	--with-libjpeg=${LOCALBASE} \
			--with-dvdread=${LOCALBASE} \
			--with-liba52=${LOCALBASE} \
			--with-libmad=${LOCALBASE} \
			--with-xml-prefix=${LOCALBASE}

CONFIGURE_ENV +=	xml_config_args=--prefix=${LOCALBASE} \
			LIBOGLEAO_LIBS="-lsndio"

post-install:
	cd ${PREFIX}/lib && \
	ln -sf ${TRUEPREFIX}/lib/ogle/libdvdcontrol.so.${LIBdvdcontrol_VERSION}
	cd ${PREFIX}/lib && \
	ln -sf ${TRUEPREFIX}/lib/ogle/libmsgevents.so.${LIBmsgevents_VERSION}

.include <bsd.port.mk>
@


1.59
log
@Drop the libiconv module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2016/04/26 16:37:47 naddy Exp $
d9 1
a9 1
REVISION =	18
a32 2

USE_GROFF =	Yes
@


1.58
log
@remove final instances of DEPBASE, long forgotten
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2015/04/21 18:53:16 sthen Exp $
d9 1
a9 1
REVISION =	17
d24 2
a25 4
WANTLIB += ICE SM X11 Xext Xinerama Xv Xxf86vm a52 c dvdcss dvdread jpeg
WANTLIB += lzma m mad pthread sndio xcb xml2 z

MODULES =	converters/libiconv
d28 1
@


1.57
log
@WANTLIB+=lzma pthread
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/04/29 12:10:24 ajacoutot Exp $
d48 5
a52 5
CONFIGURE_ARGS +=	--with-libjpeg=${DEPBASE} \
			--with-dvdread=${DEPBASE} \
			--with-liba52=${DEPBASE} \
			--with-libmad=${DEPBASE} \
			--with-xml-prefix=${DEPBASE}
d54 1
a54 1
CONFIGURE_ENV +=	xml_config_args=--prefix=${DEPBASE} \
@


1.56
log
@Move a big part of DESCR into a README.
Drop MESSAGE.
Merge PFRAG.shared into PLIST.

ok espie@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/03/21 08:48:56 ajacoutot Exp $
d9 1
a9 1
REVISION =	16
d24 2
a25 2
WANTLIB += ICE SM X11 Xext Xinerama Xv Xxf86vm a52 c dvdcss dvdread
WANTLIB += jpeg m mad sndio xcb xml2 z
@


1.55
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/03/11 11:46:14 espie Exp $
d9 1
a9 1
REVISION =	15
d24 2
a25 2
WANTLIB += ICE SM X11 Xext Xinerama Xv Xxf86vm a52 c
WANTLIB += dvdread jpeg m mad sndio xcb xml2 z
@


1.54
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/02/09 14:49:54 sthen Exp $
a39 1
USE_LIBTOOL =	Yes
@


1.53
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/05/03 06:51:24 ajacoutot Exp $
a21 2
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
a22 1
PERMIT_PACKAGE_FTP =	Yes
@


1.52
log
@Adjust after libdvdcss/libdvdnav/libdvdread updates.

from Brad, ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/09/16 12:29:16 espie Exp $
d46 1
a46 1
.if ${FLAVOR:L} == "altivec"
@


1.51
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/04/17 18:19:37 jasper Exp $
d9 1
a9 1
REVISION =	14
d27 2
a28 2
WANTLIB += ICE SM X11 Xau Xdmcp Xext Xinerama Xv Xxf86vm a52 c
WANTLIB += dvdread jpeg m mad pthread-stubs sndio xcb xml2 z
@


1.50
log
@- remove unnecessary NULL casts
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/11/22 08:37:03 espie Exp $
d9 1
a9 1
REVISION =	13
@


1.49
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/10/25 08:46:49 espie Exp $
d9 1
a9 1
REVISION =	12
d27 2
a28 2
WANTLIB =	ICE SM X11 Xext Xinerama Xv Xxf86vm c m z xml2 jpeg mad \
		Xau Xdmcp pthread-stubs sndio xcb a52 dvdread 
@


1.48
log
@fix groff handling
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/10/24 21:15:33 ajacoutot Exp $
d32 5
a36 5
LIB_DEPENDS =	::audio/liba52 \
		::devel/libdvdread \
		:libxml->=2.4.19:textproc/libxml \
		::graphics/jpeg \
		::audio/libmad
@


1.47
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/10/19 08:13:58 espie Exp $
d3 1
a3 1
ONLY_FOR_ARCHS=	alpha i386 powerpc sparc64 amd64
d5 1
a5 1
CATEGORIES=	x11
d7 4
a10 4
COMMENT=	DVD player
DISTNAME=	ogle-0.9.2
REVISION=	11
SHARED_LIBS=	dvdcontrol	11.0 \
d12 1
a12 1
HOMEPAGE=	http://www.dtek.chalmers.se/groups/dvd/
d14 1
a14 1
MASTER_SITES=	${HOMEPAGE}dist/
d16 1
a16 1
MAINTAINER=	Marc Espie <espie@@openbsd.org>
d18 1
a18 1
CONFIGURE_STYLE=	gnu
d22 4
a25 4
PERMIT_DISTFILES_CDROM=Yes
PERMIT_DISTFILES_FTP=Yes
PERMIT_PACKAGE_CDROM=Yes
PERMIT_PACKAGE_FTP=Yes
d27 1
a27 1
WANTLIB=	ICE SM X11 Xext Xinerama Xv Xxf86vm c m z xml2 jpeg mad \
d30 1
a30 1
MODULES=	converters/libiconv
d32 1
a32 1
LIB_DEPENDS=	::audio/liba52 \
d40 2
a41 2
FLAVORS=	altivec
FLAVOR?=
d43 2
a44 2
USE_LIBTOOL=	Yes
CONFIGURE_ARGS=--disable-oss --disable-sunaudio --enable-obsdaudio
d47 2
a48 2
ONLY_FOR_ARCHS=	powerpc
CONFIGURE_ARGS+=--enable-altivec
d50 1
a50 1
CONFIGURE_ARGS+=--disable-altivec
d52 5
a56 5
CONFIGURE_ARGS+=--with-libjpeg=${DEPBASE} \
		--with-dvdread=${DEPBASE} \
		--with-liba52=${DEPBASE} \
		--with-libmad=${DEPBASE} \
		--with-xml-prefix=${DEPBASE}
d58 2
a59 1
CONFIGURE_ENV+=xml_config_args=--prefix=${DEPBASE} LIBOGLEAO_LIBS="-lsndio"
a61 1
	cd ${PREFIX}/man/man5 && mv oglerc.5 oglerc.tbl
@


1.46
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/07/30 09:23:28 ajacoutot Exp $
a37 1
USE_X11=	Yes
@


1.45
log
@Again more new style DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/07/30 06:58:59 ajacoutot Exp $
d39 1
@


1.44
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/06/27 17:35:36 jakemsr Exp $
d9 1
a9 1
REVISION=	10
d27 2
a28 2
WANTLIB=	ICE SM X11 Xext Xinerama Xv Xxf86vm c m z \
		Xau Xdmcp pthread-stubs sndio xcb
d32 5
a36 5
LIB_DEPENDS=	a52::audio/liba52 \
		dvdread.>=3.0::devel/libdvdread \
		xml2.>=6.19:libxml->=2.4.19:textproc/libxml \
		jpeg.>=62::graphics/jpeg \
		mad.>=2::audio/libmad
@


1.43
log
@fix audio on big-endian machines
from Michael Small (smallm at panix dot com), thanks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/04/11 09:08:38 espie Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p10
@


1.42
log
@explicitly call /sbin/mkfifo for people who don't have /sbin in their PATH,
as they're allowed to.
requested by miod@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/12/09 10:19:33 jakemsr Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p9
@


1.41
log
@- use sndio(7) instead of audio(4)
- regen patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2009/08/12 15:28:08 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p8
@


1.40
log
@Use converters/libiconv module.

"maniac, ;-)" and ok espie@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/08/11 08:42:08 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p7
d28 1
a28 1
		Xau Xdmcp pthread-stubs xcb
a44 1
#CONFIGURE_ARGS=--disable-oss --disable-sunaudio --disable-obsdaudio
d58 1
a58 1
CONFIGURE_ENV+=xml_config_args=--prefix=${DEPBASE}
@


1.39
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/01/25 18:58:58 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p6
d27 1
a27 1
WANTLIB=	ICE SM X11 Xext Xinerama Xv Xxf86vm c iconv m z \
d29 2
@


1.38
log
@- remove outdated comment about descrambling DVDs

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/01/15 07:29:29 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p5
d28 1
a28 1
		Xau Xdmcp
@


1.37
log
@- tweaking kern.shminfo.shmseg is not needed anymore as the default value
is enough now

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/11/28 17:44:37 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p4
@


1.36
log
@- add @@bin markers, fix WANTLIB, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2007/09/15 20:04:23 merdely Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p3
@


1.35
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2006/09/18 10:21:49 espie Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p2
d26 3
a28 1
WANTLIB=	ICE SM X11 Xext Xinerama Xv Xxf86vm c iconv m z
@


1.34
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2006/01/12 01:05:23 naddy Exp $
d7 1
a7 1
COMMENT=	"DVD player"
@


1.33
log
@remove MODGNU_SHARED_LIBS and related hacks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2005/12/26 16:45:43 naddy Exp $
d29 4
a32 4
		dvdread.3.0::devel/libdvdread \
		xml2.6.19:libxml->=2.4.19:textproc/libxml \
		jpeg.62::graphics/jpeg \
		mad.2::audio/libmad
@


1.32
log
@SHARED_LIBS, USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2005/05/14 09:32:50 espie Exp $
a11 2
MODGNU_SHARED_LIBS=	dvdcontrol	'' \
			msgevents	''
@


1.31
log
@mention libdvd in DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2005/04/27 10:29:54 espie Exp $
d9 5
a13 1
PKGNAME=	${DISTNAME}p1
d41 1
d61 4
a64 2
	cd ${PREFIX}/lib && ln -sf ${TRUEPREFIX}/lib/ogle/libdvdcontrol.so.11.0
	cd ${PREFIX}/lib && ln -sf ${TRUEPREFIX}/lib/ogle/libmsgevents.so.8.0
@


1.30
log
@start getting ready for FAKE=all: grab all the libraries where they should
come from, and remove all the hardcoded -R in the configure script.
Don't do it at the configure.in stage since we don't fake autoconf yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2004/12/17 15:18:34 alek Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
@


1.29
log
@Add WANTLIB markers, part two
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2004/07/14 13:15:02 espie Exp $
d9 1
d18 1
d46 7
@


1.28
log
@zap @@exec
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/02/29 08:12:56 pvalchev Exp $
d22 1
@


1.27
log
@enable amd64; reported to work by matthieu
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2003/12/10 21:28:58 naddy Exp $
d46 2
@


1.26
log
@fix dependencies: audio/mad -> audio/libid3tag, audio/libmad, audio/madplayer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2003/11/17 19:56:38 espie Exp $
d3 1
a3 1
ONLY_FOR_ARCHS=	alpha i386 powerpc sparc64
@


1.25
log
@trigger-happy on deps. Thanks to Bjorn Sandell for setting me straight.
Apologies to whomever had this rebuilding libxml...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2003/11/13 18:46:46 espie Exp $
d27 1
a27 1
		mad::audio/mad
@


1.24
log
@Update ogle to 0.9.2.
Feedback by various people.

PgUp/PgDown now work better, various minor improvements.
The port now builds correctly even with an installed older version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/08/16 22:29:59 espie Exp $
d25 1
a25 1
		xml2.6.19:libxml>=2.4.19:textproc/libxml \
@


1.23
log
@synch with jolan's RECKLESS COMMIT.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/03/31 14:59:29 sturm Exp $
d8 1
a8 1
DISTNAME=	ogle-0.9.1
@


1.22
log
@USE_X11=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/03/28 18:16:44 espie Exp $
d23 2
a24 3
BUILD_DEPENDS=	::audio/liba52 

LIB_DEPENDS=	dvdread.3.0::devel/libdvdread \
@


1.21
log
@version 0.9.1, minor fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/02/24 23:36:18 espie Exp $
d29 2
@


1.20
log
@Make sure manpage is run through tbl.
Fix manpage so that table fits.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/02/24 22:56:35 espie Exp $
d8 1
a8 1
DISTNAME=	ogle-0.9.0
@


1.19
log
@ogle 0.9.0:
- most OpenBSD patches folded in, including simpler audio support,
- much less verbose console output,
- bookmark support,
- actual skip forward/backward,
- better dvdnav code.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/10/22 23:24:06 fgsch Exp $
d42 3
@


1.18
log
@remove binutils dependency on i386; maintainer ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/08/28 01:34:37 drahn Exp $
d8 1
a8 1
DISTNAME=	ogle-0.8.5
d25 1
a25 1
LIB_DEPENDS=	dvdread::devel/libdvdread \
d34 1
@


1.17
log
@Better support for altivec on powerpc. pass the enable-altivec to configure
if altivec flavor is selected, otherwise disable-altivec. ok pvalchev
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/08/18 09:38:26 espie Exp $
a33 5

.if ${MACHINE_ARCH} == "i386"
BUILD_DEPENDS+=	::devel/binutils/stable
MAKE_ENV=GAS_DIR=${TRUEPREFIX}/${MACHINE_ARCH}-unknown-openbsd${OPSYS_VER}/bin
.endif
@


1.16
log
@Now depends on mad for mpeg audio support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/08/18 09:28:19 espie Exp $
d42 3
@


1.15
log
@Update to ogle 0.8.5, compiles like a charm.

Finally: support for mpeg and lpcm audio. Yeah !
(I'm currently checking that I can now play all my dvds fully)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/08/11 01:45:26 brad Exp $
d27 2
a28 1
		jpeg.62::graphics/jpeg
@


1.14
log
@remove dependency on binutils for the altivec FLAVOR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/07/16 13:38:04 espie Exp $
d8 1
a8 1
DISTNAME=	ogle-0.8.4
@


1.13
log
@version 0.8.4, mostly small fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/06/22 11:47:12 espie Exp $
a5 1
NEED_VERSION=	1.500
a40 2
BUILD_DEPENDS+=	::devel/binutils/stable
PORTPATH=${TRUEPREFIX}/${MACHINE_ARCH}-unknown-openbsd${OPSYS_VER}/bin:/usr/bin:/bin:/usr/sbin:/sbin:${LOCALBASE}/bin:${LOCALBASE}/sbin
@


1.12
log
@libxml dependency. noticed by Jean-Yves Burlett.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/06/15 23:09:34 espie Exp $
d9 1
a9 1
DISTNAME=	ogle-0.8.3
@


1.11
log
@Update to 0.8.3
- openbsd native audio, mostly thanks to Bjorn.
- slightly better navigation code.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/05/19 00:27:06 espie Exp $
d27 1
a27 1
		xml2::textproc/libxml \
@


1.10
log
@switch to native sunaudio driver.
Fix a typo in DESCR, and acknowledge mplayer's existence.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/04/02 03:50:35 drahn Exp $
d9 1
a9 1
DISTNAME=	ogle-0.8.2
d33 1
a33 1
CONFIGURE_ARGS=--disable-oss --enable-sunaudio
@


1.9
log
@Add PowerPC-only altivec ogle flavor,
much direction and ok by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/04/02 01:04:19 espie Exp $
d32 2
@


1.8
log
@Use binutils port since it works for our purpose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/03/17 20:05:07 brad Exp $
d30 3
d36 6
@


1.7
log
@NOT_FOR_ARCHS -> ONLY_FOR_ARCHS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/01/20 22:57:14 naddy Exp $
d24 1
a24 1
BUILD_DEPENDS=	::audio/liba52
d31 2
a32 31
.  if exists(/usr/bin/as-static)
pre-build:
	ln -sf /usr/bin/as-static ${WRKDIR}/as
.  else
# i386 gas is currently ancient... but we can trick binutils into
# building a gas with only static binary support that will be enough
# for our purposes
.include <bsd.own.mk>
BSDSRCDIR?=/usr/src
BINUTILS=${BSDSRCDIR}/gnu/usr.bin/binutils
BINOBJ=${WRKDIR}/binutils

post-extract:
	@@test -f  ${BINUTILS}/Makefile.bsd-wrapper || \
		{ echo >&2 "You must have binutils sources to build this"; \
		echo >&2 "Please make sure the ${BINUTILS} dir is populated and retry"; \
		exit 1; }
	@@mkdir -p ${BINOBJ}

post-configure:
	@@cd ${BINOBJ} && PATH="/bin:/usr/bin:/sbin:/usr/sbin" \
	    sh ${BINUTILS}/configure \
	    --disable-nls --disable-gdbtk --disable-commonbfdlib
	@@cd ${BINOBJ} && \
	    sed -e 's,SUBDIRS *=,SUBDIRS ?=,' <Makefile >Makefile.tmp && \
	    mv -f Makefile.tmp Makefile

pre-build:
	@@cd ${BINOBJ} && SUBDIRS='opcodes bfd gas' make ALL_MODULES='all-opcodes all-bfd all-gas' ALL_X11_MODULES='' 
	@@ln -sf ${BINOBJ}/gas/as-new  ${WRKDIR}/as
.  endif
a33 2

MAKE_ENV=WRKDIR=${WRKDIR}
@


1.6
log
@Not for sparc.  Doesn't build and the machines don't have the
horsepower to run it anyway.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/01/08 11:05:53 espie Exp $
d3 1
a3 1
NOT_FOR_ARCHS=	sparc
d6 1
a6 1
NEED_VERSION=	1.474
a23 1

a29 1

a48 1

@


1.5
log
@ogle 0.8.2
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.4 2001/11/02 17:38:04 espie Exp $
@


1.4
log
@V3.1, some patches integrated...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/10/24 12:54:33 espie Exp $
d6 1
a6 1
DISTNAME=	ogle-0.8.1
d8 1
d48 1
@


1.3
log
@avoid dumping core on exit.
be a lot less verbose on the console.
don't rebuild binutils if there is a /usr/bin/as-static
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/10/16 17:00:08 naddy Exp $
d6 1
a6 1
DISTNAME=	ogle-0.8.0
@


1.2
log
@fix master site directory; from drahn@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/10/14 15:35:04 espie Exp $
d29 4
a32 1

d59 1
@


1.2.2.1
log
@MFC: ogle-0.8.1, with fixed idct and much improved image quality.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/11/02 17:38:04 espie Exp $
d6 1
a6 1
DISTNAME=	ogle-0.8.1
d29 1
a29 4
.  if exists(/usr/bin/as-static)
pre-build:
	ln -sf /usr/bin/as-static ${WRKDIR}/as
.  else
a55 1
.  endif
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a6 1
MASTER_SITES=	http://www.dtek.chalmers.se/groups/dvd/
d8 1
@


1.1.1.1
log
@DVD player
@
text
@@
