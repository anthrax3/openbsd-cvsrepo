head	1.172;
access;
symbols
	OPENBSD_6_1:1.170.0.2
	OPENBSD_6_1_BASE:1.170
	OPENBSD_6_0:1.160.0.2
	OPENBSD_6_0_BASE:1.160
	OPENBSD_5_9:1.150.0.2
	OPENBSD_5_9_BASE:1.150
	OPENBSD_5_8:1.136.0.4
	OPENBSD_5_8_BASE:1.136
	OPENBSD_5_7:1.131.0.2
	OPENBSD_5_7_BASE:1.131
	OPENBSD_5_6:1.125.0.2
	OPENBSD_5_6_BASE:1.125
	OPENBSD_5_5:1.111.0.2
	OPENBSD_5_5_BASE:1.111
	OPENBSD_5_4:1.97.0.2
	OPENBSD_5_4_BASE:1.97
	OPENBSD_5_3:1.83.0.2
	OPENBSD_5_3_BASE:1.83
	OPENBSD_5_2:1.75.0.2
	OPENBSD_5_2_BASE:1.75
	OPENBSD_5_1_BASE:1.66
	OPENBSD_5_1:1.66.0.2
	OPENBSD_5_0:1.51.0.2
	OPENBSD_5_0_BASE:1.51
	OPENBSD_4_9:1.40.0.2
	OPENBSD_4_9_BASE:1.40
	OPENBSD_4_8:1.31.0.2
	OPENBSD_4_8_BASE:1.31
	OPENBSD_4_7:1.23.0.2
	OPENBSD_4_7_BASE:1.23
	OPENBSD_4_6:1.12.0.2
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.11.0.2
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	jasper_20080603:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.172
date	2017.04.17.10.03.19;	author ajacoutot;	state Exp;
branches;
next	1.171;
commitid	4Aoi7ZW7uc2lZSRJ;

1.171
date	2017.04.13.07.38.45;	author ajacoutot;	state Exp;
branches;
next	1.170;
commitid	lvCz8KVE6EBCyLTt;

1.170
date	2017.03.28.15.24.59;	author ajacoutot;	state Exp;
branches;
next	1.169;
commitid	xMhrkr6ngs9ebt2P;

1.169
date	2017.02.18.17.33.52;	author ajacoutot;	state Exp;
branches;
next	1.168;
commitid	kjw4RQ4AAUYktD89;

1.168
date	2017.02.18.17.32.37;	author ajacoutot;	state Exp;
branches;
next	1.167;
commitid	bw6Y0vDo3oixdVWL;

1.167
date	2016.12.16.08.46.19;	author ajacoutot;	state Exp;
branches;
next	1.166;
commitid	Wq32YaIX5GOrkrBl;

1.166
date	2016.11.10.12.48.46;	author jca;	state Exp;
branches;
next	1.165;
commitid	aGHfhnva4QBixFc3;

1.165
date	2016.11.08.14.38.55;	author sthen;	state Exp;
branches;
next	1.164;
commitid	4jMmnWqLI4QHPBZh;

1.164
date	2016.11.07.13.13.30;	author ajacoutot;	state Exp;
branches;
next	1.163;
commitid	7DbCWyPBsplBYdGC;

1.163
date	2016.11.04.11.35.21;	author sthen;	state Exp;
branches;
next	1.162;
commitid	Gg5LRcnQlqj5M3F7;

1.162
date	2016.10.31.09.43.10;	author ajacoutot;	state Exp;
branches;
next	1.161;
commitid	gtuSDuGKqN3GMs4i;

1.161
date	2016.08.20.12.58.23;	author ajacoutot;	state Exp;
branches;
next	1.160;
commitid	DWbMlZX7H72CdKOZ;

1.160
date	2016.07.14.16.57.20;	author ajacoutot;	state Exp;
branches;
next	1.159;
commitid	bCE99u6Mle47TWFc;

1.159
date	2016.07.09.08.46.25;	author sthen;	state Exp;
branches;
next	1.158;
commitid	5V5x7yAKWjzdrmlj;

1.158
date	2016.05.10.05.34.37;	author ajacoutot;	state Exp;
branches;
next	1.157;
commitid	nvyXXHagovStMYgV;

1.157
date	2016.04.26.21.00.38;	author ajacoutot;	state Exp;
branches;
next	1.156;
commitid	W1k86QeCSUke9p9Z;

1.156
date	2016.04.25.13.43.20;	author ajacoutot;	state Exp;
branches;
next	1.155;
commitid	hYkIoYz7Y58IsLys;

1.155
date	2016.04.24.00.35.10;	author jca;	state Exp;
branches;
next	1.154;
commitid	cx4xi7GTyHhiNG1D;

1.154
date	2016.04.22.11.49.43;	author jca;	state Exp;
branches;
next	1.153;
commitid	wXkAvyVyXZhqIto4;

1.153
date	2016.04.12.17.43.31;	author jca;	state Exp;
branches;
next	1.152;
commitid	iREnKMY54jJNswWo;

1.152
date	2016.03.20.17.59.21;	author naddy;	state Exp;
branches;
next	1.151;
commitid	DiLpGuORpWJnRdDH;

1.151
date	2016.02.27.09.13.49;	author ajacoutot;	state Exp;
branches;
next	1.150;
commitid	pUjIbyMBXKQBYUa8;

1.150
date	2015.11.09.13.13.58;	author ajacoutot;	state Exp;
branches
	1.150.2.1;
next	1.149;
commitid	JAVYyRxa2JmKBDfr;

1.149
date	2015.10.30.12.59.18;	author sthen;	state Exp;
branches;
next	1.148;
commitid	vVZOehVa6DiEPxJL;

1.148
date	2015.10.16.19.48.11;	author ajacoutot;	state Exp;
branches;
next	1.147;
commitid	8q8fzFIPeBwn80vH;

1.147
date	2015.10.15.14.10.04;	author ajacoutot;	state Exp;
branches;
next	1.146;
commitid	rJxnNj01ZkIfyD6o;

1.146
date	2015.10.13.18.54.45;	author ajacoutot;	state Exp;
branches;
next	1.145;
commitid	00KpiH6QuA3X57me;

1.145
date	2015.10.11.07.52.52;	author ajacoutot;	state Exp;
branches;
next	1.144;
commitid	Q9LORE7eug9vcqfc;

1.144
date	2015.10.10.09.42.59;	author ajacoutot;	state Exp;
branches;
next	1.143;
commitid	IxJBH47It0cps9P4;

1.143
date	2015.09.26.06.26.04;	author ajacoutot;	state Exp;
branches;
next	1.142;
commitid	D5NSSD0Bd85WqQFU;

1.142
date	2015.09.21.09.35.41;	author ajacoutot;	state Exp;
branches;
next	1.141;
commitid	lgoS4Ozh59Lg1g8c;

1.141
date	2015.08.26.10.00.18;	author ajacoutot;	state Exp;
branches;
next	1.140;
commitid	WawIqasemChZxJRb;

1.140
date	2015.08.25.11.25.21;	author jca;	state Exp;
branches;
next	1.139;
commitid	1ZvZBZnXMY0dv0Hn;

1.139
date	2015.08.25.11.04.38;	author jca;	state Exp;
branches;
next	1.138;
commitid	jWHBCzKs5xKamlhw;

1.138
date	2015.08.25.06.42.14;	author ajacoutot;	state Exp;
branches;
next	1.137;
commitid	OqgHNCm6WCEjY31z;

1.137
date	2015.08.20.14.24.00;	author ajacoutot;	state Exp;
branches;
next	1.136;
commitid	w1HiWvEIKmQ9mvGA;

1.136
date	2015.04.15.09.40.53;	author ajacoutot;	state Exp;
branches;
next	1.135;
commitid	dfR1rb9OtImYnGFF;

1.135
date	2015.04.13.12.03.50;	author ajacoutot;	state Exp;
branches;
next	1.134;
commitid	yEcsKZfNjSZsyRAr;

1.134
date	2015.04.04.09.21.06;	author ajacoutot;	state Exp;
branches;
next	1.133;
commitid	kS3kwKZogsvzYmEY;

1.133
date	2015.04.03.09.34.07;	author ajacoutot;	state Exp;
branches;
next	1.132;
commitid	AUeCCsLPdGWRxaW3;

1.132
date	2015.03.16.13.19.24;	author ajacoutot;	state Exp;
branches;
next	1.131;
commitid	B7qfE5alxy2Y8mDu;

1.131
date	2015.01.07.08.55.41;	author ajacoutot;	state Exp;
branches;
next	1.130;
commitid	7dVO4o7GMjAwy7HJ;

1.130
date	2014.11.13.17.27.52;	author ajacoutot;	state Exp;
branches;
next	1.129;
commitid	alIpnbpjy1I2qHjo;

1.129
date	2014.10.13.11.57.31;	author ajacoutot;	state Exp;
branches;
next	1.128;
commitid	TrhWmyMXswSth4BI;

1.128
date	2014.10.06.10.49.19;	author ajacoutot;	state Exp;
branches;
next	1.127;
commitid	Z4Pe3yJGwOj8r6RT;

1.127
date	2014.10.05.13.48.00;	author ajacoutot;	state Exp;
branches;
next	1.126;
commitid	tvsjTfPzznNjN0gd;

1.126
date	2014.08.24.07.59.37;	author ajacoutot;	state Exp;
branches;
next	1.125;
commitid	VWvygnGL20sqAx0o;

1.125
date	2014.05.09.14.43.20;	author ajacoutot;	state Exp;
branches;
next	1.124;

1.124
date	2014.04.11.14.47.25;	author ajacoutot;	state Exp;
branches;
next	1.123;

1.123
date	2014.04.02.09.36.13;	author jasper;	state Exp;
branches;
next	1.122;

1.122
date	2014.04.02.06.14.01;	author ajacoutot;	state Exp;
branches;
next	1.121;

1.121
date	2014.04.01.18.06.31;	author jasper;	state Exp;
branches;
next	1.120;

1.120
date	2014.04.01.17.03.15;	author jasper;	state Exp;
branches;
next	1.119;

1.119
date	2014.04.01.16.48.39;	author ajacoutot;	state Exp;
branches;
next	1.118;

1.118
date	2014.04.01.13.21.14;	author ajacoutot;	state Exp;
branches;
next	1.117;

1.117
date	2014.04.01.07.40.45;	author ajacoutot;	state Exp;
branches;
next	1.116;

1.116
date	2014.03.31.13.44.47;	author ajacoutot;	state Exp;
branches;
next	1.115;

1.115
date	2014.03.28.22.13.21;	author ajacoutot;	state Exp;
branches;
next	1.114;

1.114
date	2014.03.28.08.48.41;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2014.03.27.08.55.09;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2014.03.09.19.46.35;	author espie;	state Exp;
branches;
next	1.111;

1.111
date	2014.01.23.14.16.10;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2014.01.23.08.36.02;	author ajacoutot;	state Exp;
branches;
next	1.109;

1.109
date	2014.01.21.19.23.40;	author ajacoutot;	state Exp;
branches;
next	1.108;

1.108
date	2014.01.15.13.30.38;	author ajacoutot;	state Exp;
branches;
next	1.107;

1.107
date	2014.01.11.17.27.44;	author ajacoutot;	state Exp;
branches;
next	1.106;

1.106
date	2013.12.21.13.21.49;	author ajacoutot;	state Exp;
branches;
next	1.105;

1.105
date	2013.11.08.14.51.32;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2013.11.01.18.32.51;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2013.11.01.14.08.26;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2013.10.26.08.02.57;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2013.10.03.12.36.27;	author ajacoutot;	state Exp;
branches;
next	1.100;

1.100
date	2013.09.28.08.51.20;	author ajacoutot;	state Exp;
branches;
next	1.99;

1.99
date	2013.09.26.14.11.54;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2013.09.26.09.32.43;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2013.06.18.08.01.55;	author ajacoutot;	state Exp;
branches;
next	1.96;

1.96
date	2013.06.14.10.41.01;	author ajacoutot;	state Exp;
branches;
next	1.95;

1.95
date	2013.06.01.13.50.20;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2013.05.31.15.35.25;	author ajacoutot;	state Exp;
branches;
next	1.93;

1.93
date	2013.05.14.16.51.45;	author ajacoutot;	state Exp;
branches;
next	1.92;

1.92
date	2013.04.16.13.59.24;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2013.04.06.09.02.33;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2013.04.05.14.07.31;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2013.04.04.12.17.22;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2013.03.30.18.08.04;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2013.03.30.17.06.41;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2013.03.29.12.19.38;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2013.03.29.11.09.58;	author ajacoutot;	state Exp;
branches;
next	1.84;

1.84
date	2013.03.11.11.46.11;	author espie;	state Exp;
branches;
next	1.83;

1.83
date	2013.02.09.14.49.53;	author sthen;	state Exp;
branches;
next	1.82;

1.82
date	2012.11.12.18.01.10;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2012.10.15.15.34.23;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2012.09.30.09.02.13;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2012.09.27.17.38.17;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2012.09.27.13.03.01;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2012.09.10.10.13.08;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2012.09.01.14.36.59;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2012.07.10.10.07.16;	author mpi;	state Exp;
branches;
next	1.74;

1.74
date	2012.05.15.18.29.31;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2012.05.01.15.01.03;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2012.04.27.10.11.58;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2012.04.16.23.16.52;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2012.03.29.07.49.23;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2012.03.29.06.34.16;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2012.02.18.11.09.14;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2012.02.16.22.17.38;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2012.01.01.09.04.13;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2011.12.30.11.17.49;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2011.10.20.15.35.29;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2011.10.17.13.24.59;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2011.10.12.06.56.09;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2011.10.05.13.56.08;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2011.09.28.09.47.47;	author jasper;	state Exp;
branches;
next	1.59;

1.59
date	2011.09.26.14.32.35;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2011.09.20.21.10.00;	author jasper;	state Exp;
branches;
next	1.57;

1.57
date	2011.09.20.20.52.46;	author jasper;	state Exp;
branches;
next	1.56;

1.56
date	2011.09.19.07.44.58;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2011.09.16.12.29.14;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2011.09.12.12.04.17;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2011.08.29.15.12.50;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2011.08.29.08.50.56;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2011.07.02.15.46.17;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2011.06.16.08.38.20;	author dcoppa;	state Exp;
branches;
next	1.49;

1.49
date	2011.06.15.07.21.13;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2011.06.07.12.53.56;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2011.06.02.18.34.16;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2011.05.28.08.15.53;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2011.05.23.22.41.04;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2011.04.26.13.31.58;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2011.04.05.14.43.25;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2011.03.21.16.32.23;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2011.03.07.19.25.40;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.11.22.10.16.08;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2010.11.22.08.36.57;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2010.11.12.16.48.40;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2010.11.02.05.54.28;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.10.27.12.00.36;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.19.15.21.04;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.18.13.18.14;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2010.09.30.07.41.25;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2010.09.07.19.34.08;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2010.07.24.16.04.21;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2010.07.13.16.14.28;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.06.19.10.33.39;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2010.05.27.06.49.45;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2010.05.19.10.10.48;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2010.04.26.09.42.36;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2010.04.22.20.27.05;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.04.20.20.11.53;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.12.21.18.03.18;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.12.14.18.28.00;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.12.04.08.13.25;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.11.30.17.15.15;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2009.11.30.12.35.29;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2009.10.19.18.01.43;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.10.14.09.01.39;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2009.10.11.13.32.27;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.09.11.18.56.35;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2009.08.07.08.40.07;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.07.21.09.19.32;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.06.03.17.18.30;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.02.16.07.21.24;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2009.02.11.15.47.50;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2009.02.11.15.33.51;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2009.01.29.21.08.26;	author sturm;	state Exp;
branches;
next	1.7;

1.7
date	2009.01.11.18.38.31;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.11.24.16.15.42;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.11.22.18.57.57;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.11.21.15.34.57;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.11.12.22.45.26;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2008.07.04.18.58.50;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2008.06.03.07.44.08;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.06.03.07.44.08;	author jasper;	state Exp;
branches;
next	;

1.150.2.1
date	2016.04.17.17.14.18;	author jca;	state Exp;
branches;
next	;
commitid	bWmgz8NYIokOpkfQ;


desc
@@


1.172
log
@Update to gvfs-1.32.1.
@
text
@# $OpenBSD: Makefile,v 1.171 2017/04/13 07:38:45 ajacoutot Exp $

COMMENT-main=		GNOME Virtual File System
COMMENT-smb=		GVFS mount module for samba
COMMENT-goa=		GVFS volume monitor for gnome-online-account
COMMENT-nfs=		GVFS mount module for NFS
COMMENT-google=		GVFS mount module for Google Drive

GNOME_PROJECT=		gvfs
GNOME_VERSION=		1.32.1

PKGNAME-main=		${DISTNAME}
PKGNAME-smb=		${GNOME_PROJECT}-smb-${GNOME_VERSION}
PKGNAME-goa=		${GNOME_PROJECT}-goa-${GNOME_VERSION}
PKGNAME-nfs=		${GNOME_PROJECT}-nfs-${GNOME_VERSION}
PKGNAME-google=		${GNOME_PROJECT}-google-${GNOME_VERSION}

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

MODULES=		devel/dconf \
			x11/gnome

WANTLIB += c ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 pcre
WANTLIB += pthread util z iconv intl

WANTLIB-main +=	${WANTLIB}
WANTLIB-main += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB-main += Xinerama Xrandr Xrender archive atk-1.0 atk-bridge-2.0
WANTLIB-main += atspi avahi-client avahi-common avahi-glib bz2 cairo
WANTLIB-main += cairo-gobject dbus-1 epoxy expat fontconfig freetype
WANTLIB-main += gck-1 gcr-base-3 gcrypt gdk-3 gdk_pixbuf-2.0 gpg-error
WANTLIB-main += graphite2 gthread-2.0 gtk-3 harfbuzz lzma m p11-kit
WANTLIB-main += pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 png
WANTLIB-main += pthread-stubs secret-1 soup-2.4 sqlite3 xcb xcb-render
WANTLIB-main += xcb-shm xml2 crypto lz4

WANTLIB-smb += ${WANTLIB}
WANTLIB-smb += crypto dcerpc-binding execinfo gcrypt samba-errors
WANTLIB-smb += gmp gnutls gpg-error gthread-2.0 hogweed iconv idn2
WANTLIB-smb += intl lber-2.4 ldap-2.4 ldb ndr ndr-krb5pac ndr-nbt
WANTLIB-smb += ndr-standard nettle p11-kit replace samba-credentials
WANTLIB-smb += samba-hostconfig samba-util samdb sasl2 smbclient smbconf
WANTLIB-smb += ssl talloc tasn1 tdb tevent tevent-util util-setid
WANTLIB-smb += wbclient gck-1 gcr-base-3 secret-1 unistring
WANTLIB-smb += lib/samba/asn1-samba4
WANTLIB-smb += lib/samba/com_err-samba4
WANTLIB-smb += lib/samba/gssapi-samba4
WANTLIB-smb += lib/samba/hcrypto-samba4
WANTLIB-smb += lib/samba/heimbase-samba4
WANTLIB-smb += lib/samba/hx509-samba4
WANTLIB-smb += lib/samba/krb5-samba4
WANTLIB-smb += lib/samba/roken-samba4
WANTLIB-smb += lib/samba/wind-samba4

WANTLIB-goa += ${WANTLIB}
WANTLIB-goa += goa-1.0

WANTLIB-nfs += ${WANTLIB}
WANTLIB-nfs += gcrypt gpg-error gthread-2.0 iconv intl nfs secret-1
WANTLIB-nfs += gck-1 gcr-base-3 p11-kit

WANTLIB-google += ${WANTLIB}
WANTLIB-google += crypto curl gck-1 gcr-base-3 gcrypt gdata goa-1.0 gpg-error
WANTLIB-google += gthread-2.0 iconv intl json-glib-1.0 lzma m nghttp2
WANTLIB-google += nspr4 nss3 oauth p11-kit plc4 plds4 secret-1 smime3
WANTLIB-google += softokn3 soup-2.4 sqlite3 ssl ssl3 xml2

MODGNOME_TOOLS=		docbook

LIB_DEPENDS-main=	archivers/libarchive \
			devel/libsoup \
			net/avahi \
			x11/gnome/gcr \
			x11/gnome/libsecret \
			x11/gtk+3

RUN_DEPENDS-smb=	${MODDCONF_RUN_DEPENDS} \
			${BASE_PKGPATH},-main=${GNOME_VERSION}
LIB_DEPENDS-smb=	net/samba

RUN_DEPENDS-goa=	${BASE_PKGPATH},-main=${GNOME_VERSION}
LIB_DEPENDS-goa=	x11/gnome/online-accounts

RUN_DEPENDS-nfs=	${BASE_PKGPATH},-main=${GNOME_VERSION}
LIB_DEPENDS-nfs=	devel/libnfs \
			x11/gnome/libsecret

RUN_DEPENDS-google=	${BASE_PKGPATH},-main=${GNOME_VERSION}
LIB_DEPENDS-google=	devel/libgdata \
			x11/gnome/online-accounts

CONFIGURE_STYLE=	gnu

CONFIGURE_ARGS=		--disable-libsystemd-login \
			--disable-cdda \
			--disable-bluray \
			--disable-afc \
			--disable-gudev \
			--disable-udev \
			--disable-gdu

# XXX needs libusb >=1.0.21
CONFIGURE_ARGS +=	--disable-libusb

# needs libcap
CONFIGURE_ARGS +=	--disable-admin

# needs sysctl kern.usermount to be really useful
CONFIGURE_ARGS +=	--disable-fuse

MULTI_PACKAGES=		-main -goa -nfs -smb -google

PSEUDO_FLAVORS=		no_smb no_goa no_nfs no_google bootstrap
FLAVOR?=		no_smb no_goa no_nfs no_google bootstrap

.include <bsd.port.arch.mk>

.if !${BUILD_PACKAGES:M-smb}
CONFIGURE_ARGS +=	--disable-samba
.endif

.if !${BUILD_PACKAGES:M-goa}
CONFIGURE_ARGS +=	--disable-goa
.endif

.if !${BUILD_PACKAGES:M-nfs}
CONFIGURE_ARGS +=	--disable-nfs
.endif

.if !${BUILD_PACKAGES:M-google}
CONFIGURE_ARGS +=	--disable-google
.endif

# test_polkitd.py, gvfs-test
TEST_DEPENDS=		devel/py-gobject3

post-install:
	rm ${PREFIX}/lib/gio/modules/*.{a,la}
	rm ${PREFIX}/lib/gvfs/*.{a,la}
# --disable-admin	
	rm -rf ${PREFIX}/share/polkit-1

.include <bsd.port.mk>
@


1.171
log
@Stop setting CONFIGURE_STYLE in Makefile.inc but explicitely add it to ports
that need it; in the future more and more ports will move to meson build anyway.
I first though I'd set CONFIGURE_STYLE in gnome.port.mk but it's too fragile
(MODULES list must be sorted very carefully).
Less magic is good.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.170 2017/03/28 15:24:59 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.30.4
d102 3
@


1.170
log
@Update to gvfs-1.30.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.169 2017/02/18 17:33:52 ajacoutot Exp $
d92 2
@


1.169
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.168 2017/02/18 17:32:37 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.30.3
a16 5
REVISION-goa=		0
REVISION-google=	0
REVISION-main=		0
REVISION-nfs=		0
REVISION-smb=		0
d33 1
a33 1
WANTLIB-main += graphite2 gthread-2.0 gtk-3 harfbuzz lzma lzo2 m p11-kit
d45 1
a45 1
WANTLIB-smb += wbclient gck-1 gcr-base-3 secret-1
@


1.168
log
@idn -> idn2 after gnutls WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.167 2016/12/16 08:46:19 ajacoutot Exp $
d17 5
@


1.167
log
@Update to gvfs-1.30.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.166 2016/11/10 12:48:46 jca Exp $
d40 1
a40 1
WANTLIB-smb += gmp gnutls gpg-error gthread-2.0 hogweed iconv idn
@


1.166
log
@Unbreak after the tevent-unix-util removal.

Spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.165 2016/11/08 14:38:55 sthen Exp $
d10 1
a10 1
GNOME_VERSION=		1.30.2
a16 2

REVISION-smb=		1
@


1.165
log
@re-add idn to WANTLIB for a few where it didn't just come from curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.164 2016/11/07 13:13:30 ajacoutot Exp $
d18 1
a18 1
REVISION-smb=		0
d47 1
a47 1
WANTLIB-smb += wbclient gck-1 gcr-base-3 secret-1 tevent-unix-util
@


1.164
log
@Update to gvfs-1.30.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.163 2016/11/04 11:35:21 sthen Exp $
d18 2
d42 1
a42 1
WANTLIB-smb += gmp gnutls gpg-error gthread-2.0 hogweed iconv
@


1.163
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.162 2016/10/31 09:43:10 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.30.1.1
a16 3

REVISION-smb=		0
REVISION-google=	0
@


1.162
log
@Update to gvfs-1.30.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.161 2016/08/20 12:58:23 ajacoutot Exp $
d18 3
d43 1
a43 1
WANTLIB-smb += gmp gnutls gpg-error gthread-2.0 hogweed iconv idn
d68 1
a68 1
WANTLIB-google += gthread-2.0 iconv idn intl json-glib-1.0 lzma m nghttp2
@


1.161
log
@Update to gvfs-1.28.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.160 2016/07/14 16:57:20 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.28.3
d101 3
d136 2
@


1.160
log
@Drop mention of kern.usermount.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.159 2016/07/09 08:46:25 sthen Exp $
d10 1
a10 2
GNOME_VERSION=		1.28.2
REVISION-main=		0
@


1.159
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2016/05/10 05:34:37 ajacoutot Exp $
d102 1
a102 1
# XXX gvfsfusedaemon.c:47:27: error: fuse_lowlevel.h: No such file or director
@


1.158
log
@Update to gvfs-1.28.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.157 2016/04/26 21:00:38 ajacoutot Exp $
d11 1
d37 1
a37 1
WANTLIB-main += xcb-shm xml2
@


1.157
log
@Regen WANTLIB to unbreak.

noticed by several
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.156 2016/04/25 13:43:20 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.28.1
a16 2

REVISION-smb=		0
@


1.156
log
@Update to gvfs-1.28.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2016/04/24 00:35:10 jca Exp $
d18 2
d41 1
a41 1
WANTLIB-smb += com_err crypto dcerpc-binding execinfo gcrypt gensec
d47 1
a47 1
WANTLIB-smb += wbclient gck-1 gcr-base-3 secret-1
d49 1
@


1.155
log
@net/samba doesn't bring libcom_err anymore; spotted by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2016/04/22 11:49:43 jca Exp $
d10 1
a10 1
GNOME_VERSION=		1.26.3
a17 2
REVISION-smb=		2

a21 1
			devel/gettext \
d25 1
a25 1
WANTLIB += pthread util z
d28 9
a36 9
WANTLIB-main += ICE SM X11 Xcomposite Xcursor Xdamage xcb-shm
WANTLIB-main += Xext Xfixes Xi Xinerama Xrandr Xrender graphite2 xml2
WANTLIB-main += atk-1.0 atk-bridge-2.0 atspi avahi-client avahi-common
WANTLIB-main += avahi-glib bz2 cairo cairo-gobject dbus-1 expat
WANTLIB-main += fontconfig freetype fuse gdk-3 gdk_pixbuf-2.0 xml2
WANTLIB-main += archive gtk-3 harfbuzz lzma m pango-1.0 p11-kit
WANTLIB-main += pangocairo-1.0 pangoft2-1.0 pixman-1 png pthread-stubs
WANTLIB-main += soup-2.4 sqlite3 gthread-2.0 xcb xcb-render
WANTLIB-main += gcrypt gpg-error secret-1 epoxy lzo2 gck-1 gcr-base-3
d39 7
a45 8
WANTLIB-smb += gcrypt gpg-error secret-1 smbclient gck-1 gcr-base-3
WANTLIB-smb += crypto dcerpc-binding execinfo gmp gnutls
WANTLIB-smb += hogweed idn lber-2.4 ldap-2.4 ldb ndr ndr-krb5pac ndr-nbt
WANTLIB-smb += ndr-standard nettle p11-kit replace
WANTLIB-smb += samba-credentials samba-hostconfig samba-util samdb
WANTLIB-smb += sasl2 smbconf ssl talloc tasn1 tdb tevent
WANTLIB-smb += tevent-util util-setid wbclient p11-kit
WANTLIB-smb += gthread-2.0
d59 2
a60 2
WANTLIB-nfs += gcrypt gpg-error nfs secret-1 gck-1 gcr-base-3
WANTLIB-nfs += p11-kit gthread-2.0
d64 3
a66 3
WANTLIB-google += gthread-2.0 idn json-glib-1.0 lzma m nghttp2 nspr4 nss3 oauth
WANTLIB-google += p11-kit plc4 plds4 secret-1 smime3 softokn3 soup-2.4
WANTLIB-google += sqlite3 ssl ssl3 xml2
d70 1
a70 2
LIB_DEPENDS-main=	${LIB_DEPENDS} \
			archivers/libarchive \
d77 1
a77 2
RUN_DEPENDS-smb=	${MODGETTEXT_RUN_DEPENDS} \
			${MODDCONF_RUN_DEPENDS} \
d79 1
a79 2
LIB_DEPENDS-smb=	${LIB_DEPENDS} \
			net/samba
d81 2
a82 4
RUN_DEPENDS-goa=	${MODGETTEXT_RUN_DEPENDS} \
			${BASE_PKGPATH},-main=${GNOME_VERSION}
LIB_DEPENDS-goa=	${LIB_DEPENDS} \
			x11/gnome/online-accounts
d84 2
a85 4
RUN_DEPENDS-nfs=	${MODGETTEXT_RUN_DEPENDS} \
			${BASE_PKGPATH},-main=${GNOME_VERSION}
LIB_DEPENDS-nfs=	${LIB_DEPENDS} \
			devel/libnfs \
d88 2
a89 4
RUN_DEPENDS-google=	${MODGETTEXT_RUN_DEPENDS} \
			${BASE_PKGPATH},-main=${GNOME_VERSION}
LIB_DEPENDS-google=	${LIB_DEPENDS} \
			devel/libgdata \
d99 3
@


1.154
log
@Sync WANTLIB after net/samba update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2016/04/12 17:43:31 jca Exp $
d18 1
a18 1
REVISION-smb=		1
d43 1
a43 1
WANTLIB-smb += com_err crypto dcerpc-binding execinfo gmp gnutls
@


1.153
log
@Strip unavailable samba libs from WANTLIB; ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2016/03/20 17:59:21 naddy Exp $
d18 1
a18 1
REVISION-smb=		0
d43 1
a43 1
WANTLIB-smb += com_err crypto dcerpc-binding execinfo gensec gmp gnutls
@


1.152
log
@remove SHARED_ONLY from some stragglers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2016/02/27 09:13:49 ajacoutot Exp $
d18 2
d44 2
a45 2
WANTLIB-smb += hogweed lber-2.4 ldap-2.4 ldb ndr ndr-krb5pac ndr-nbt
WANTLIB-smb += ndr-standard nettle nss_wrapper ntdb p11-kit replace
d47 2
a48 2
WANTLIB-smb += sasl2 smbconf socket_wrapper ssl talloc tasn1 tdb tevent
WANTLIB-smb += tevent-util uid_wrapper util_setid wbclient p11-kit
@


1.151
log
@Update to gvfs-1.26.3.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.150 2015/11/09 13:13:58 ajacoutot Exp $

SHARED_ONLY=		Yes
@


1.150
log
@Update to gvfs-1.26.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.149 2015/10/30 12:59:18 sthen Exp $
d12 1
a12 1
GNOME_VERSION=		1.26.2
@


1.150.2.1
log
@Sync with recent net/samba update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.150 2015/11/09 13:13:58 ajacoutot Exp $
a19 2
REVISION-smb=		0

d45 1
a45 1
WANTLIB-smb += ndr-standard nettle p11-kit replace
d47 2
a48 2
WANTLIB-smb += sasl2 smbconf ssl talloc tasn1 tdb tevent
WANTLIB-smb += tevent-util util-setid wbclient p11-kit
@


1.149
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.148 2015/10/16 19:48:11 ajacoutot Exp $
d12 1
a12 1
GNOME_VERSION=		1.26.1.1
a18 2

REVISION-google=	0
@


1.148
log
@Update to gvfs-1.26.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2015/10/15 14:10:04 ajacoutot Exp $
d20 2
d70 1
a70 1
WANTLIB-google += gthread-2.0 idn json-glib-1.0 lzma m nspr4 nss3 oauth
@


1.147
log
@Move gvfs-goa-volume-monitor.service to the -goa subpackage.

noticed by Mark Patruck, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2015/10/13 18:54:45 ajacoutot Exp $
d12 1
a12 1
GNOME_VERSION=		1.26.1
a18 3

REVISION-main=		0
REVISION-goa=		0
@


1.146
log
@Update to gvfs-1.26.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2015/10/11 07:52:52 ajacoutot Exp $
d19 3
@


1.145
log
@Google bits were missing in PSEUDO_FLAVORS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2015/10/10 09:42:59 ajacoutot Exp $
d12 1
a12 1
GNOME_VERSION=		1.26.0
@


1.144
log
@Add a -google subpackage: GVFS mount module for Google Drive.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2015/09/26 06:26:04 ajacoutot Exp $
d115 2
a116 2
PSEUDO_FLAVORS=		no_smb no_goa no_nfs bootstrap
FLAVOR?=		no_smb no_goa no_nfs bootstrap
@


1.143
log
@Update to gvfs-1.26.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2015/09/21 09:35:41 ajacoutot Exp $
d9 1
d18 1
d66 6
d99 6
d113 1
a113 1
MULTI_PACKAGES=		-main -goa -nfs -smb
d130 4
@


1.142
log
@Build the -smb subpackage now that our libtool(1) has been fixed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2015/08/26 10:00:18 ajacoutot Exp $
d11 1
a11 1
GNOME_VERSION=		1.24.2
a17 5
REVISION-main=		1
REVISION-smb=		1
REVISION-goa=		1
REVISION-nfs=		1

d25 2
a26 2
WANTLIB += c ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 pcre pthread
WANTLIB += util z
d34 1
a34 1
WANTLIB-main += archive gtk-3 harfbuzz lzma m pango-1.0
d37 1
a37 1
WANTLIB-main += gcrypt gpg-error secret-1 epoxy lzo2
d40 1
a40 1
WANTLIB-smb += gcrypt gpg-error secret-1 smbclient
d46 2
a47 1
WANTLIB-smb += tevent-util uid_wrapper util_setid wbclient
d61 2
a62 1
WANTLIB-nfs += gcrypt gpg-error nfs secret-1
d70 1
a94 1
			--disable-obexftp \
@


1.141
log
@Temporarily isable the -smb package for now. Building with GNU libtool breaks
gvfs in subtle ways at runtime so we need a way to build the SAMBA support with
our libtool(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2015/08/25 11:25:21 jca Exp $
d19 1
a19 1
REVISION-smb=		0
d45 15
a59 2
WANTLIB-smb += smbclient
WANTLIB-smb += gcrypt gpg-error secret-1
d102 1
a102 1
MULTI_PACKAGES=		-main -goa -nfs
@


1.140
log
@Bump all gvfs subpackages, in case gnu libtool changes the packages content.

Prodded by sthen@@ and espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2015/08/25 11:04:38 jca Exp $
d18 1
a18 1
REVISION-main=		0
d20 2
a21 2
REVISION-goa=		0
REVISION-nfs=		0
a55 4
# XXX base libtool errors out since it can't find libs in local/lib/samba
# brought in by libsmbclient
USE_LIBTOOL=		gnu

d89 1
a89 1
MULTI_PACKAGES=		-main -smb -goa -nfs
@


1.139
log
@Move samba4 to samba, and tweak the ports tree to use it.

ok ajacoutot@@

Upcoming commits will add additional tweaks.

Many thanks to Vadim Zhukov (who did most of the work), Ian McWilliam
(co-maintainer), Stuart Henderson who provided lots of support and
feedback, Antoine Jacoutot who patiently dealt with my broken diffs,
and more generally all the people involved.  Most of the recent work was
done during p2k15 and c2k15.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2015/08/25 06:42:14 ajacoutot Exp $
d18 1
d20 2
@


1.138
log
@Add a new subpackage with support for libnfs: gvfs-nfs.
Tested against a Linux NFS server with the "insecure" exports flag.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2015/08/20 14:24:00 ajacoutot Exp $
d18 2
d42 1
a42 1
WANTLIB-smb += smbclient execinfo talloc tdb wbclient
d52 4
@


1.137
log
@Update to gvfs-1.24.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2015/04/15 09:40:53 ajacoutot Exp $
d8 1
d16 1
d46 3
d69 6
d84 1
a84 4
# requires libnfs
CONFIGURE_ARGS +=	--disable-nfs

MULTI_PACKAGES=		-main -smb -goa
d86 2
a87 2
PSEUDO_FLAVORS=		no_smb no_goa bootstrap
FLAVOR?=		no_smb no_goa bootstrap
d97 4
@


1.136
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2015/04/13 12:03:50 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.24.1
a14 3
REVISION-goa=		0
REVISION-main=		0
REVISION-smb=		0
@


1.135
log
@Update to gvfs-1.24.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2015/04/04 09:21:06 ajacoutot Exp $
d15 3
@


1.134
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2015/04/03 09:34:07 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.24.0
a14 3
REVISION-goa=		0
REVISION-main=		0
REVISION-smb=		0
d35 1
a35 1
WANTLIB-main += gcrypt gpg-error secret-1 epoxy
@


1.133
log
@Update to gvfs-1.24.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2015/03/16 13:19:24 ajacoutot Exp $
d15 3
@


1.132
log
@Update to gvfs-1.22.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2015/01/07 08:55:41 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.22.4
d35 1
a35 1
WANTLIB-main += gcrypt gpg-error secret-1
d72 3
@


1.131
log
@Update to gvfs-1.22.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2014/11/13 17:27:52 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.22.3
@


1.130
log
@Update to gvfs-1.22.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2014/10/13 11:57:31 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.22.2
d19 3
a21 3
MODULES=		devel/gettext \
			x11/gnome \
			devel/dconf
@


1.129
log
@Update to gvfs-1.22.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2014/10/06 10:49:19 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.22.1
@


1.128
log
@Drop bogus goo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2014/10/05 13:48:00 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.22.0
a14 2

REVISION-main=		0
@


1.127
log
@Update to gvfs-1.22.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2014/08/24 07:59:37 ajacoutot Exp $
d16 2
d46 1
a46 1
MODGNOME_TOOLS=		desktop-file-utils docbook
a93 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/applications/
@


1.126
log
@Update to gvfs-1.20.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2014/05/09 14:43:20 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.20.3
@


1.125
log
@Update to gvfs-1.20.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2014/04/11 14:47:25 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		1.20.2
@


1.124
log
@Update to gvfs-1.20.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2014/04/02 09:36:13 jasper Exp $
d10 1
a10 1
GNOME_VERSION=		1.20.1
@


1.123
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2014/04/02 06:14:01 ajacoutot Exp $
d3 1
a3 1
SHARED_ONLY=	Yes
d5 3
a7 3
COMMENT-main=	GNOME Virtual File System
COMMENT-smb=	GVFS mount module for samba
COMMENT-goa=	GVFS volume monitor for gnome-online-account
d9 2
a10 2
GNOME_PROJECT=	gvfs
GNOME_VERSION=	1.20.0
d12 3
a14 7
PKGNAME-main=	${DISTNAME}
PKGNAME-smb=	${GNOME_PROJECT}-smb-${GNOME_VERSION}
PKGNAME-goa=	${GNOME_PROJECT}-goa-${GNOME_VERSION}

REVISION-main=	4
REVISION-smb=	3
REVISION-goa=	3
d19 3
a21 3
MODULES=	devel/gettext \
		x11/gnome \
		devel/dconf
d44 28
a71 27
MODGNOME_TOOLS += desktop-file-utils docbook
LIB_DEPENDS-main= ${LIB_DEPENDS} \
		archivers/libarchive \
		devel/libsoup \
		net/avahi \
		x11/gnome/libsecret \
		x11/gtk+3

RUN_DEPENDS-smb= ${MODGETTEXT_RUN_DEPENDS} \
		${MODDCONF_RUN_DEPENDS} \
		${BASE_PKGPATH},-main=${GNOME_VERSION}
LIB_DEPENDS-smb= ${LIB_DEPENDS} \
		net/samba

RUN_DEPENDS-goa= ${MODGETTEXT_RUN_DEPENDS} \
		${BASE_PKGPATH},-main=${GNOME_VERSION}
LIB_DEPENDS-goa= ${LIB_DEPENDS} \
		x11/gnome/online-accounts

CONFIGURE_ARGS=	--disable-libsystemd-login \
		--disable-cdda \
		--disable-bluray \
		--disable-afc \
		--disable-obexftp \
		--disable-gudev \
		--disable-udev \
		--disable-gdu
d89 1
a89 5
TEST_DEPENDS=	devel/py-gobject3

# patch-common_gvfsmountinfo_c, patch-configure_ac
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.69
@


1.122
log
@Fix sefgault in gvfs-tree.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2014/04/01 18:06:31 jasper Exp $
d48 1
a48 1
MODGNOME_TOOLS +=  desktop-file-utils docbook
@


1.121
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2014/04/01 17:03:15 jasper Exp $
d16 1
a16 1
REVISION-main=	3
@


1.120
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2014/04/01 16:48:39 ajacoutot Exp $
d48 1
a48 3
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS=		docbook

@


1.119
log
@Use nl_langinfo constants conditionally (upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2014/04/01 13:21:14 ajacoutot Exp $
d48 1
a48 1
MODGNOME_DESKTOP_FILE=	Yes
@


1.118
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 1/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2014/04/01 07:40:45 ajacoutot Exp $
d16 3
a18 3
REVISION-main=	2
REVISION-smb=	2
REVISION-goa=	2
d95 4
@


1.117
log
@Explicitely disable udev, gudev, systemd and systemd-journal so we know
where they are used.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2014/03/31 13:44:47 ajacoutot Exp $
d16 3
a18 3
REVISION-main=	1
REVISION-smb=	1
REVISION-goa=	1
d69 1
a69 2
CONFIGURE_ARGS=	--disable-static \
		--disable-libsystemd-login \
a77 2
LIBTOOL_FLAGS=	--tag=disable-static

d98 2
a99 2
	rm ${PREFIX}/lib/gio/modules/*.la
	rm ${PREFIX}/lib/gvfs/*.la
@


1.116
log
@Drop the rpath hack no that our libtool somewhat does the right thing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2014/03/28 22:13:21 ajacoutot Exp $
d70 1
@


1.115
log
@Force setting -rpath ; not sure which of libtool or ld fucks it up...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2014/03/28 08:48:41 ajacoutot Exp $
d16 3
a18 3
REVISION-main=	0
REVISION-smb=	0
REVISION-goa=	0
a49 3
# links to libgvscommon and libgvfsdaemon:
# these are not versioned and install under a non-standard library path
MODGNOME_LDFLAGS=	-Wl,-rpath,${TRUEPREFIX}/lib/gvfs
@


1.114
log
@Move to the new MODGNOME_TOOLS docbook option.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2014/03/27 08:55:09 ajacoutot Exp $
d16 4
d50 3
@


1.113
log
@Update to gvfs-1.20.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2014/03/09 19:46:35 espie Exp $
d45 1
a45 3

# man pages
BUILD_DEPENDS += textproc/docbook-xsl
@


1.112
log
@put back the "bootstrap" annotation.
It is necessary when BUILD_ONCE is in place, but it was lost in dpb
through a code reorg.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.111 2014/01/23 14:16:10 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=	1.18.3
a15 4
REVISION-main=	5

SHARED_LIBS +=  gvfscommon           4.0      # unknown

d34 1
a34 1
WANTLIB-main += soup-2.4 soup-gnome-2.4 sqlite3 gthread-2.0 xcb xcb-render
d38 1
a38 1
WANTLIB-smb += gvfscommon smbclient execinfo talloc tdb wbclient
d42 1
a42 1
WANTLIB-goa += goa-1.0 gvfscommon
d57 2
a58 1
		${MODDCONF_RUN_DEPENDS}
a59 1
		${BASE_PKGPATH},-main=${GNOME_VERSION} \
d62 2
a63 1
RUN_DEPENDS-goa= ${MODGETTEXT_RUN_DEPENDS}
a64 1
		${BASE_PKGPATH},-main=${GNOME_VERSION} \
d67 2
a68 1
CONFIGURE_ARGS=	--disable-cdda \
d76 2
d98 2
a99 1
	rm ${PREFIX}/lib/gio/modules/*.{a,la}
@


1.111
log
@Sync patch with what was merged upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2014/01/23 08:36:02 ajacoutot Exp $
d80 1
a80 1
FLAVOR?=		no_smb no_goa
@


1.110
log
@Bring some fixes from upstream (crash, timeout, ...).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2014/01/21 19:23:40 ajacoutot Exp $
d14 1
a14 1
REVISION-main=	4
@


1.109
log
@Properly remove the socket directory; this prevents creating brazillions
of gvfs entries under /tmp.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2014/01/15 13:30:38 ajacoutot Exp $
d14 1
a14 1
REVISION-main=	3
@


1.108
log
@Tweak patch to make it simpler.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2014/01/11 17:27:44 ajacoutot Exp $
d14 1
a14 1
REVISION-main=	2
@


1.107
log
@Prefer the openpty(3) code path over grantpt(3) -- this fixes the
numerous SSH dialogs when mount an sftp share (known_hosts additions and
password auth).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2013/12/21 13:21:49 ajacoutot Exp $
d14 1
a14 1
REVISION-main=	1
@


1.106
log
@Bring some sftp, http and ftp fixes from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2013/11/08 14:51:32 ajacoutot Exp $
d14 1
a14 1
REVISION-main=	0
@


1.105
log
@Update to gvfs-1.18.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2013/11/01 18:32:51 ajacoutot Exp $
d13 2
@


1.104
log
@Enable gvfsd-fuse; not fully functional just yet but having it enabled here
will help syl@@ and I work it out.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2013/11/01 14:08:26 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	1.18.2
a12 2

REVISION-main=	1
@


1.103
log
@--disable-fuse for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2013/10/26 08:02:57 ajacoutot Exp $
d14 1
a14 1
REVISION-main=	0
d33 2
a34 2
WANTLIB-main += fontconfig freetype gdk-3 gdk_pixbuf-2.0 xml2 archive
WANTLIB-main += gtk-3 harfbuzz lzma m pango-1.0
a75 2

CONFIGURE_ARGS += --disable-fuse
@


1.102
log
@Fix dependencies and bump after the recent libsoup -gnome => -main merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2013/10/03 12:36:27 ajacoutot Exp $
d76 2
@


1.101
log
@Update to gvfs-1.18.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2013/09/28 08:51:20 ajacoutot Exp $
d14 2
d53 1
a53 1
		devel/libsoup,-gnome \
@


1.100
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2013/09/26 14:11:54 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	1.18.1
a12 4

REVISION-main=		0
REVISION-smb=		0
REVISION-goa=		0
@


1.99
log
@Update to gvfs-1.18.1.
Re-enable goa and smb support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2013/09/26 09:32:43 ajacoutot Exp $
d13 4
@


1.98
log
@Update to gvfs-1.18.0.
Do not build support for goa at the moment since it requires an updated
gnome-online-accounts which requires a new webkit which depends on landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2013/06/18 08:01:55 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	1.18.0
d75 1
a75 1
MULTI_PACKAGES=		-main #-smb -goa
d77 2
a78 2
#PSEUDO_FLAVORS=		no_smb no_goa bootstrap
#FLAVOR?=		no_smb no_goa
@


1.97
log
@Add MODDCONF_RUN_DEPENDS to RUN_DEPENDS-smb.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2013/06/14 10:41:01 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	1.16.3
d14 1
a14 3
REVISION-smb=	0

SHARED_LIBS +=  gvfscommon           4.0      # .0.0
d75 1
a75 1
MULTI_PACKAGES=		-main -smb -goa
d77 2
a78 2
PSEUDO_FLAVORS=		no_smb no_goa bootstrap
FLAVOR?=		no_smb no_goa
@


1.96
log
@Update to gvfs-1.16.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2013/06/01 13:50:20 ajacoutot Exp $
d14 2
d58 2
a59 1
RUN_DEPENDS-smb= ${MODGETTEXT_RUN_DEPENDS}
@


1.95
log
@metadata: Downgrade journal short-read to debug (upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2013/05/31 15:35:25 ajacoutot Exp $
d8 1
a8 5
GNOME_VERSION=	1.16.2

REVISION-main=	1
REVISION-smb=	0
REVISION-goa=	0
@


1.94
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2013/05/14 16:51:45 ajacoutot Exp $
d10 1
a10 1
REVISION-main=	0
@


1.93
log
@Update to gvfs-1.16.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2013/04/16 13:59:24 ajacoutot Exp $
d10 4
d36 1
a36 1
WANTLIB-main += gtk-3 harfbuzz icudata icule icuuc lzma m pango-1.0
@


1.92
log
@Update to gvfs-1.16.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/04/06 09:02:33 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	1.16.1
@


1.91
log
@GVfsJobError: Return TRUE in try ; from upstream.
Tweak DESCR of -smb and -goa (and mention -goa is needed for ownCloud
integration).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/04/05 14:07:31 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	1.16.0
a12 4

REVISION-main=	4
REVISION-smb=	1
REVISION-goa=	0
@


1.90
log
@Bring lots of fixes from upstream to fix several crashes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/04/04 12:17:22 ajacoutot Exp $
d14 3
a16 2
REVISION-main=	3
REVISION-smb=	0
@


1.89
log
@Fix devel/py-gobject3 dependency. Sometimes it's needed at run time, or
for the regression tests...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/03/30 18:08:04 ajacoutot Exp $
d14 1
a14 1
REVISION-main=	2
@


1.88
log
@Add a -goa subpackage.

looks ok to sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2013/03/30 17:06:41 ajacoutot Exp $
d91 3
@


1.87
log
@Disable goa for now as it creates a cyclic dep with gstreamer.
found out the hard way by naddy@@

I'll create a subpackage in a few but at least this allows the tree to
build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2013/03/29 12:19:38 ajacoutot Exp $
d4 2
a5 1
COMMENT-smb=	samba module for GVFS
d12 1
d14 2
a15 1
REVISION-main=	1
d26 2
a27 2
WANTLIB += c ffi gcrypt gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gpg-error
WANTLIB += pcre pthread secret-1 util z
d38 1
d42 4
a51 2
LIB_DEPENDS=	x11/gnome/libsecret

d56 1
d64 5
d77 10
a86 2
# XXX subpackage
CONFIGURE_ARGS += --disable-goa
d88 2
a89 9
MULTI_PACKAGES=		-main
PSEUDO_FLAVORS=		no_smb
FLAVOR?=

.if ${FLAVOR:Mno_smb}
CONFIGURE_ARGS+= --disable-samba
.else
CONFIGURE_ARGS+= --enable-samba
MULTI_PACKAGES+= -smb
@


1.86
log
@Drop mount-archive.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2013/03/29 11:09:58 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	0
d27 1
a27 1
WANTLIB-main += ICE SM X11 Xcomposite Xcursor Xdamage xcb-shm goa-1.0
d50 1
a50 1
		x11/gnome/online-accounts
d64 3
@


1.85
log
@Update to gvfs-1.16.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2013/03/11 11:46:11 espie Exp $
d12 2
a77 3
	${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} \
		-c ${FILESDIR}/mount-archive.desktop.in \
		${PREFIX}/share/applications/mount-archive.desktop
@


1.84
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2013/02/09 14:49:53 sthen Exp $
d7 1
a7 1
GNOME_VERSION=	1.14.2
d22 1
a22 1
WANTLIB += gthread-2.0 pcre pthread secret-1 util z
d25 2
a26 2
WANTLIB-main += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB-main += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm archive
d28 2
a29 2
WANTLIB-main += avahi-glib bz2 cairo cairo-gobject dbus-1 drm expat
WANTLIB-main += fontconfig freetype gdk-3 gdk_pixbuf-2.0 gnome-keyring
d32 1
a32 2
WANTLIB-main += soup-2.4 soup-gnome-2.4 sqlite3 stdc++ xcb xcb-render
WANTLIB-main += xcb-shm xml2
d48 1
a48 1
		x11/gtk+3
a56 2
		--disable-fuse \
		--disable-hal \
a58 1
		--disable-gphoto2 \
@


1.83
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2012/11/12 18:01:10 ajacoutot Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.82
log
@Update to gvfs-1.14.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2012/10/15 15:34:23 ajacoutot Exp $
d74 1
a74 1
.if ${FLAVOR:L:Mno_smb}
@


1.81
log
@Maintenance update to gvfs-1.14.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2012/09/30 09:02:13 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.14.1
@


1.80
log
@Fix LIB_DEPENDS and WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2012/09/27 17:38:17 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.14.0
a10 3

REVISION-main=	0
REVISION-smb=	0
@


1.79
log
@Tweak after recent docbook changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2012/09/27 13:03:01 ajacoutot Exp $
d12 3
d27 2
a28 2
WANTLIB += c ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += pcre pthread util z
a30 2
WANTLIB-main += bz2 m lzma soup-2.4 sqlite3 expat avahi-common
WANTLIB-main += xml2 archive soup-gnome-2.4 avahi-client avahi-glib
d32 5
a36 4
WANTLIB-main += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0
WANTLIB-main += atk-bridge-2.0 atspi cairo cairo-gobject dbus-1 drm
WANTLIB-main += fontconfig freetype gcrypt gdk-3 gdk_pixbuf-2.0 gnome-keyring
WANTLIB-main += gpg-error gtk-3 harfbuzz icudata icule icuuc pango-1.0
d38 5
a42 1
WANTLIB-main += stdc++ xcb xcb-render xcb-shm
d49 2
a56 1
WANTLIB-smb += ${WANTLIB} gvfscommon smbclient execinfo talloc tdb wbclient
@


1.78
log
@Update to gvfs-1.14.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2012/09/10 10:13:08 ajacoutot Exp $
d40 1
a40 1
# man pages; also adds textproc/libxslt
@


1.77
log
@No need for gtar.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2012/09/01 14:36:59 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.12.3
d12 1
a12 5
REVISION-main=	1
REVISION-smb=	1

SHARED_LIBS +=  gvfscommon           3.0      # .0.0
SHARED_LIBS +=  gvfscommon-dnssd     1.0      # .0.0
d24 2
a25 5
WANTLIB += c dbus-1 gio-2.0 glib-2.0>=2800
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 pcre pthread util
WANTLIB += ffi gpg-error z gcrypt gnome-keyring>=6

LIB_DEPENDS=	x11/gnome/libgnome-keyring
d28 9
a36 3
WANTLIB-main += bz2 m lzma soup-2.4 sqlite3 expat
WANTLIB-main += xml2 archive soup-gnome-2.4>=1
WANTLIB-main += avahi-client avahi-common avahi-glib
d40 3
d46 2
a47 1
		net/avahi
d52 1
a52 1
		${BASE_PKGPATH},-main \
d64 1
a64 7
		--disable-gdu \
		--enable-afp \
		--enable-archive \
		--enable-avahi \
		--enable-http \
		--enable-keyring \
		--with-bash-completion-dir="${PREFIX}/share/gvfs"
a69 5
AUTOCONF_VERSION=	2.68
AUTOMAKE_VERSION=	1.11

CONFIGURE_STYLE=	autoconf

a77 2
	${SUBST_CMD} -c ${FILESDIR}/mount-archive.desktop.in \
		${WRKSRC}/mount-archive.desktop
d79 4
a82 2
	${INSTALL_DATA} ${WRKSRC}/mount-archive.desktop \
		${PREFIX}/share/applications/
@


1.76
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2012/07/10 10:07:16 mpi Exp $
a26 4

# XXX PaxHeaders
TAR=		${LOCALBASE}/bin/gtar
BUILD_DEPENDS+=	archivers/gtar
@


1.75
log
@Make use of openpty(3) to allocate a pseudo-tty required for the ssh
authentication. This allow to mount sftp shares using passwords with
any application relying on gvfs. With a lot of help from nicm@@.

Ok ajacoutot@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2012/05/15 18:29:31 ajacoutot Exp $
d12 2
a13 2
REVISION-main=	0
REVISION-smb=	0
@


1.74
log
@Bugfix update to gvfs-1.12.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2012/05/01 15:01:03 ajacoutot Exp $
d12 3
d76 5
@


1.73
log
@Unbreak after recent glib2 update (from upstream).
Breakage reported by fgsch@@, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2012/04/27 10:11:58 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.12.2
a10 2

REVISION-main=	0
@


1.72
log
@Minor update to gvfs-1.12.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2012/04/16 23:16:52 ajacoutot Exp $
d11 2
@


1.71
log
@Bugfix update to gvfs-1.12.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2012/03/29 07:49:23 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.12.1
@


1.70
log
@Update to stable gvfs-1.12.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2012/03/29 06:34:16 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.12.0
@


1.69
log
@Update to gvfs-1.11.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2012/02/18 11:09:14 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.11.5
a51 3

AUTOCONF_VERSION=2.68
CONFIGURE_STYLE=autoconf
@


1.68
log
@Remove horrible uthreads hack.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2012/02/16 22:17:38 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.10.1
a11 2
REVISION-main=	4

d36 1
a36 1
WANTLIB-main += bz2 lzma m soup-2.4 sqlite3 expat
d47 1
a47 1
WANTLIB-smb += ${WANTLIB} gvfscommon smbclient execinfo m talloc tdb wbclient
@


1.67
log
@Sync some patches with upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2012/01/01 09:04:13 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	3
@


1.66
log
@gamin,-server is gone, glib2 supports native file monitoring with kqueue(2).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/12/30 11:17:49 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	2
@


1.65
log
@Tweak COMMENT.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/10/20 15:35:29 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	1
a47 2
RUN_DEPENDS-main= ${RUN_DEPENDS} \
		sysutils/gamin,-server
@


1.64
log
@Add a workaround to be able to unmount FTP shares without crashing
nautilus.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/10/17 13:24:59 ajacoutot Exp $
d3 1
a3 1
COMMENT-main=	GNOME virtual file system
d12 1
a12 1
REVISION-main=	0
@


1.63
log
@Update to gvfs-1.10.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/10/12 06:56:09 ajacoutot Exp $
d11 2
@


1.62
log
@Use gtar.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2011/10/05 13:56:08 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.10.0
a10 2

REVISION-main=	1
@


1.61
log
@Fix a couple of crashers, from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2011/09/28 09:47:47 jasper Exp $
d12 1
a12 1
REVISION-main=	0
d26 4
@


1.60
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/09/26 14:32:35 ajacoutot Exp $
d11 2
@


1.59
log
@Update to gvfs-1.10.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/09/20 21:10:00 jasper Exp $
a69 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.58
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2011/09/20 20:52:46 jasper Exp $
d7 1
a7 1
GNOME_VERSION=	1.8.2
a11 3
REVISION-main=	8
REVISION-smb=	1

a20 2
EXTRACT_SUFX=		.tar.bz2

d27 1
a27 1
WANTLIB += expat gpg-error z gcrypt gnome-keyring>=6
d32 1
a32 1
WANTLIB-main += bz2 lzma m soup-2.4 sqlite3
d55 1
d63 2
a71 2

SUBST_VARS+=	GNOME_VERSION
@


1.57
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/09/19 07:44:58 ajacoutot Exp $
d59 1
a59 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-cdda \
@


1.56
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/09/16 12:29:14 espie Exp $
a59 1
		--disable-gtk-doc \
@


1.55
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/09/12 12:04:17 jasper Exp $
d41 1
a41 1
DESKTOP_FILES=	Yes
@


1.54
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/08/29 15:12:50 ajacoutot Exp $
d12 2
a13 2
REVISION-main=	7
REVISION-smb=	0
@


1.53
log
@Ignore SIGPIPE signals to avoid process termination on cancelled transfer,
from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/08/29 08:50:56 ajacoutot Exp $
d23 2
@


1.52
log
@Better patch for gvfsbackendftp.c and regen patches while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/07/02 15:46:17 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	6
@


1.51
log
@Typo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/06/16 08:38:20 dcoppa Exp $
d12 1
a12 1
REVISION-main=	5
@


1.50
log
@Unbreak the "no_smb" flavor.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/06/15 07:21:13 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	4
@


1.49
log
@Fix implicit declaration.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/06/07 12:53:56 ajacoutot Exp $
d12 2
a13 1
REVISION-main=	3
@


1.48
log
@Better patch from upstream for webdav unmount.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/06/02 18:34:16 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	2
d53 2
@


1.47
log
@Don't kill the mount if g_vfs_backend_ftp_has_feature() (for chmod)
fails. Now I can upload stuffs with nautilus to my freebox again...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/05/28 08:15:53 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	1
@


1.46
log
@Redirect the glib-compile-schemas goo stdout to /dev/null, no need to
be chatty here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/05/23 22:41:04 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	0
@


1.45
log
@Bugfix update to gvfs-1.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/04/26 13:31:58 ajacoutot Exp $
d11 2
@


1.44
log
@Bugfix update to gvfs-1.8.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/04/05 14:43:25 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.8.1
@


1.43
log
@Update to gvfs-1.8.0.

tested in a bulk by landry, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/03/21 16:32:23 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.8.0
@


1.42
log
@Maintenance update to gvfs-1.6.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/03/07 19:25:40 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.6.7
d22 2
a23 1
		x11/gnome
d25 1
a25 1
WANTLIB += ORBit-2 c dbus-1 gconf-2 gio-2.0 glib-2.0>=2800
d32 2
a33 2
WANTLIB-main += bz2 gnutls lzma m proxy soup-2.4 sqlite3
WANTLIB-main += tasn1 xml2 archive soup-gnome-2.4>=1
a63 1
		--enable-gconf \
@


1.41
log
@Remove the app lookup extension, it's done in GIO itself since glib 2.28.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/11/22 10:16:08 espie Exp $
d7 1
a7 1
GNOME_VERSION=	1.6.6
a11 2
REVISION-main=	0

d24 1
a24 1
WANTLIB += ORBit-2 c dbus-1 gconf-2 gio-2.0 glib-2.0
@


1.40
log
@remaining WANTLIB go .>=   to >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/11/22 08:36:57 espie Exp $
d11 2
@


1.39
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/11/12 16:48:40 ajacoutot Exp $
d26 1
a26 1
WANTLIB += expat gpg-error z gcrypt gnome-keyring.>=6
@


1.38
log
@Update to gvfs-1.6.6.
* Revert removal of app lookup extension for stable Gnome 2.32 line
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/11/02 05:54:28 ajacoutot Exp $
d28 1
a28 1
LIB_DEPENDS=	::x11/gnome/libgnome-keyring
d32 1
a32 1
WANTLIB-main += tasn1 xml2 archive soup-gnome-2.4.>=1
d38 3
a40 3
		::archivers/libarchive \
		::devel/libsoup,-gnome \
		::net/avahi
d42 1
a42 1
		:gamin-*:sysutils/gamin,-server
d47 2
a48 2
		::${BASE_PKGPATH},-main \
		::net/samba
@


1.37
log
@Maintainance update to gvfs-1.6.5.
    * Remove app lookup extension (now handled internally in GIO)
    * sftp: Fix poll() timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/10/27 12:00:36 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.6.5
d28 1
a28 1
LIB_DEPENDS=	:libgnome-keyring-*:x11/gnome/libgnome-keyring
@


1.36
log
@We don't have f_type.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/10/19 15:21:04 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.6.4
a11 2
REVISION-main=	0

d30 1
a30 1
WANTLIB-main +=	${WANTLIB} eggdbus-1 dbus-glib-1
d40 1
a40 2
		::net/avahi \
		::devel/eggdbus
@


1.35
log
@Remove USE_X11=No, it's no needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/18 13:18:14 jasper Exp $
d11 2
@


1.34
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/09/30 07:41:25 ajacoutot Exp $
a50 1
USE_X11=	No
@


1.33
log
@Update to gvfs-1.6.4.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/09/07 19:34:08 ajacoutot Exp $
d50 2
@


1.32
log
@Fix RUN_DEPENDS, spotted by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/07/24 16:04:21 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.6.3
a11 3
REVISION-main=	1
REVISION-smb=	0

d24 1
a24 1
WANTLIB += ORBit-2 c dbus-1 dbus-glib-1 gconf-2 gio-2.0 glib-2.0
d26 1
a26 1
WANTLIB += eggdbus-1 expat gpg-error z gcrypt gnome-keyring.>=6
d30 1
a30 1
WANTLIB-main +=	${WANTLIB}
d40 2
a41 1
		::net/avahi
d45 1
a45 1
WANTLIB-smb += ${WANTLIB} gvfscommon.>=2 smbclient
@


1.31
log
@Try to unfuck a bit glib2 functions with pthreads(3).
Remove the non-blocking flag from the fd passed to
g_daemon_file_input_stream_new(). This is needed because our userland
threads set the fd to non-blocking where g_input_stream_*() functions
are blocking operations.
This fixes the progress bar display and allows to write to remote
directories like ftp, sftp, webdav. Reading from these remote locations
is "somehow" working now too, but there is still something fishy when
copying directories.
You have been warned. However, it's much better than it was.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/07/13 16:14:28 ajacoutot Exp $
d12 2
a13 1
REVISION-main=	0
d44 2
a45 1
RUN_DEPENDS-main= :gamin-*:sysutils/gamin,-server
d48 1
@


1.30
log
@Bugfix update to gvfs-1.6.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/06/19 10:33:39 ajacoutot Exp $
d11 2
@


1.29
log
@Add gio-querymodules goo.
While here, don't install libtool file and static lib for modules.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/05/27 06:49:45 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.6.2
d9 1
a9 1
PKGNAME-main=	${DISTNAME}p0
d26 1
a26 1
WANTLIB += eggdbus-1 expat gpg-error z gcrypt
d28 1
a28 1
LIB_DEPENDS=	gnome-keyring.>=6:libgnome-keyring-*:x11/gnome/libgnome-keyring
d32 2
a33 1
WANTLIB-main += tasn1 xml2
d38 3
a40 3
		archive::archivers/libarchive \
		soup-gnome-2.4.>=1::devel/libsoup,-gnome \
		avahi-client,avahi-common,avahi-glib::net/avahi
d43 1
d45 2
a46 2
		gvfscommon.>=2::${BASE_PKGPATH},-main \
		smbclient::net/samba
@


1.28
log
@Update to gvfs-1.6.2.
* translations updates
* build fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/05/19 10:10:48 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=	${DISTNAME}
@


1.27
log
@Add a no_smb PSEUDO_FLAVOR here too so that we are not forced to build
samba and gang.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/04/26 09:42:36 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.6.1
@


1.26
log
@Update to gvfs-1.6.1.
* several bugfixes and translations updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/04/22 20:27:05 ajacoutot Exp $
a20 2
MULTI_PACKAGES=	-main -smb

a60 1
		--enable-samba \
d66 11
@


1.25
log
@Update to gvfs-1.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/04/20 20:11:53 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.6.0
@


1.24
log
@Cope with recent gnome-keyring changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/12/21 18:03:18 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.4.3
d9 2
a10 2
PKGNAME-main=	${DISTNAME}p1
PKGNAME-smb=	${GNOME_PROJECT}-smb-${GNOME_VERSION}p0
d12 2
a13 2
SHARED_LIBS +=	gvfscommon           2.0      # .0.0
SHARED_LIBS +=  gvfscommon-dnssd     0.0      # .0.0
d28 1
d33 2
a34 2
WANTLIB-main += bz2 crypto gcrypt gnutls gpg-error lzma m proxy soup-2.4
WANTLIB-main += sqlite3 tasn1 xml2 z
d48 2
a49 1
CONFIGURE_ARGS=	--disable-gtk-doc \
d53 1
@


1.23
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/12/14 18:28:00 ajacoutot Exp $
d9 2
a10 2
PKGNAME-main=	${DISTNAME}p0
PKGNAME-smb=	${GNOME_PROJECT}-smb-${GNOME_VERSION}
d29 1
a29 1
LIB_DEPENDS=	gnome-keyring::x11/gnome/keyring
@


1.22
log
@Update to gvfs-1.4.3.
* smb: Fix free space calculation on older samba servers
* metadata: Fix memory leak
* ftp: Fix some uninitialized variable reads
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/12/04 08:13:25 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=	${DISTNAME}
@


1.21
log
@Use gamin instead of fam.

ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/11/30 17:15:15 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.4.2
d9 1
a9 1
PKGNAME-main=	${DISTNAME}p1
@


1.20
log
@Fix "Archive Mounter" name diplay.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/11/30 12:35:29 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=	${DISTNAME}p0
d41 1
a41 1
RUN_DEPENDS-main= :glib2-fam->=2.18.3:devel/glib2,-fam
@


1.19
log
@Bugfix update to gvfs-1.4.2:
* ftp: fix parsing of CMU/VMS-IP listings
* metadata: Make more robust
* http: Return icons for query_file_info
* smb: Support querying free space
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/10/19 18:01:43 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=	${DISTNAME}
@


1.18
log
@Update to gvfs-1.4.1.
* Don't silently overwrite when restoring from trash
* Avoid error dialogs when the user canceled
* Translation updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/10/14 09:01:39 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.4.1
@


1.17
log
@Add desktop file from Fedora to be able to directly mount archives for
browsing (uses libarchive).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/10/11 13:32:27 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	1.4.0
d9 1
a9 1
PKGNAME-main=	${DISTNAME}p0
@


1.16
log
@Major update to gvfs-1.4.0.
All main features successfully tested.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/09/11 18:56:35 naddy Exp $
d9 1
a9 1
PKGNAME-main=	${DISTNAME}
d35 2
d64 9
@


1.15
log
@libarchive now pulls in liblzma
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/08/07 08:40:07 ajacoutot Exp $
d3 2
a4 2
COMMENT-main=		GNOME virtual file system
COMMENT-smb=		samba module for GVFS
d6 2
a7 3
GNOME_PROJECT=		gvfs
GNOME_VERSION=		1.0.3
SHARED_LIBS +=	gvfscommon           1.0      # .0.0
d9 5
a13 2
PKGNAME-main=		${DISTNAME}p8
PKGNAME-smb=		${GNOME_PROJECT}-smb-${GNOME_VERSION}p3
d21 4
a24 1
MULTI_PACKAGES=		-main -smb
d26 2
a27 2
MODULES=		devel/gettext \
			x11/gnome
d29 33
a61 33
WANTLIB=	ORBit-2 c dbus-1 dbus-glib-1 gconf-2 gio-2.0 glib-2.0 \
		gmodule-2.0 gobject-2.0 gthread-2.0 pcre pthread \
		util

LIB_DEPENDS=		gnome-keyring::x11/gnome/keyring

WANTLIB-main=		${WANTLIB} bz2 gcrypt gnutls gpg-error lzma m \
			tasn1 xml2 z crypto
LIB_DEPENDS-main=	${LIB_DEPENDS} \
			archive::archivers/libarchive \
			soup-2.4.>=1::devel/libsoup \
			avahi-client,avahi-common,avahi-glib::net/avahi
RUN_DEPENDS-main=	:glib2-fam->=2.18.3:devel/glib2,-fam

LIB_DEPENDS-smb=	${LIB_DEPENDS} \
			gvfscommon.>=1::${BASE_PKGPATH},-main \
			smbclient::net/samba

CONFIGURE_ARGS+=	--disable-gtk-doc \
			--disable-cdda \
			--disable-fuse \
			--disable-hal \
			--disable-obexftp \
			--disable-gphoto2 \
			--enable-archive \
			--enable-avahi \
			--enable-gconf \
			--enable-http \
			--enable-keyring \
			--enable-samba \
			--with-bash-completion-dir="${PREFIX}/share/gvfs"
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.14
log
@Fix for unmounting webdav shares.
GNOME Bug #567664.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/07/21 09:19:32 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main=		${DISTNAME}p7
d30 1
a30 1
WANTLIB-main=		${WANTLIB} bz2 gcrypt gnutls gpg-error lzmadec m \
@


1.13
log
@Fix wantlib.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/06/03 17:18:30 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main=		${DISTNAME}p6
@


1.12
log
@- add avahi support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/02/16 07:21:24 jasper Exp $
d10 2
a11 2
PKGNAME-main=		${DISTNAME}p5
PKGNAME-smb=		${GNOME_PROJECT}-smb-${GNOME_VERSION}p2
d26 1
a26 1
		util crypto
d31 1
a31 1
			tasn1 xml2 z
@


1.11
log
@- follow dbus-glib's location change of s/profile.d/bash_completion/

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/02/11 15:47:50 jasper Exp $
d10 2
a11 2
PKGNAME-main=		${DISTNAME}p4
PKGNAME-smb=		${GNOME_PROJECT}-smb-${GNOME_VERSION}p1
d26 1
a26 1
		util
d34 2
a35 1
			soup-2.4.>=1::devel/libsoup
a42 1
			--disable-avahi \
d49 1
@


1.10
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/02/11 15:33:51 jasper Exp $
d10 1
a10 1
PKGNAME-main=		${DISTNAME}p3
@


1.9
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/01/29 21:08:26 sturm Exp $
d10 2
a11 2
PKGNAME-main=		${DISTNAME}p2
PKGNAME-smb=		${GNOME_PROJECT}-smb-${GNOME_VERSION}p0
@


1.8
log
@fix WANTLIB for -main
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/01/11 18:38:31 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main=		${DISTNAME}p1
PKGNAME-smb=		${GNOME_PROJECT}-smb-${GNOME_VERSION}
@


1.7
log
@- comment gvfsd-burn as CD/DVD Creator feature does not work yet under
OpenBSD, so don't give false hope ;-)
- regen WANTLIB while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/11/24 16:15:42 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main=		${DISTNAME}p0
d30 2
a31 1
WANTLIB-main=		${WANTLIB} bz2 lzmadec m xml2 z
@


1.6
log
@- minor update to version 1.0.3
fixes some mem leak and bugs
- also subpackage this port the same way gnome-vfs2 is (i.e. samba is no
longer a requirement for the main package)
- explicitely depends on latest glib2 (requested by jasper@@)

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/11/22 18:57:57 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main=		${DISTNAME}
d30 1
a30 1
WANTLIB-main=		${WANTLIB} bz2 m xml2 z
@


1.5
log
@- gvfs-monitor-* need fam(3) support in glib2, so make it run_depends on
glib2-fam
gnome-utils will also benefit from this change (baobab)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/11/21 15:34:57 ajacoutot Exp $
d3 2
a4 1
COMMENT=		GNOME virtual file system
d7 1
a7 2
GNOME_VERSION=		1.0.2
PKGNAME=		${DISTNAME}p1
d10 3
d19 2
d24 15
a38 9
WANTLIB=	ORBit-2 bz2 c dbus-1 dbus-glib-1 gconf-2 gio-2.0 glib-2.0 \
		gmodule-2.0 gobject-2.0 gthread-2.0 m pcre pthread \
		util xml2 z

LIB_DEPENDS=		archive::archivers/libarchive \
			soup-2.4.>=1::devel/libsoup \
			smbclient::net/samba \
			gnome-keyring::x11/gnome/keyring
RUN_DEPENDS=		:glib2-fam-*:devel/glib2,-fam
@


1.4
log
@- no need to @@sample ${SYSCONFDIR}

jasper@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/11/12 22:45:26 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
a9 1

d27 1
@


1.3
log
@- update gvfs to 1.0.2, so the frogs and start playing with it
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/07/04 18:58:50 jasper Exp $
d7 1
@


1.2
log
@- update gvfs to 0.2.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/06/03 07:44:08 jasper Exp $
d6 2
a7 2
GNOME_VERSION=		0.2.5
SHARED_LIBS +=	gvfscommon           0.0      # .0.0
d19 3
a21 2
WANTLIB=	ORBit-2 bz2 c dbus-1 gconf-2 gio-2.0 glib-2.0 gmodule-2.0 \
		gobject-2.0 gthread-2.0 m pcre pthread util xml2 z
d24 1
a24 1
			soup-2.4::devel/libsoup \
d39 2
a40 1
			--enable-samba
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
GNOME_VERSION=		0.2.4
@


1.1.1.1
log
@import gvfs 0.2.4

GVFS is a replacement for GnomeVFS, the GNOME Virtual File System

GVFS consists of two parts: a shared library which is loaded by
applications supporting GIO and GVFS itself, a collection of daemons
which communicate with each other and the GIO module over D-Bus. This
moves the virtual file systems out of client processes, contrary to
GnomeVFS, but somewhat similar to KIO.


GVFS will eventually replace gnome-vfs2, as more and more applications
are ported to use GIO. In the meantime it remains unlinked from the builds.
Earlier version of this port created while enjoying good beer at FOSDEM.
Quite some patches are already accepted upstream in the meantime.
@
text
@@
