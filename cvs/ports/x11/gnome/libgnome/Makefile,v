head	1.64;
access;
symbols
	OPENBSD_6_2:1.64.0.2
	OPENBSD_6_2_BASE:1.64
	OPENBSD_6_1:1.63.0.4
	OPENBSD_6_1_BASE:1.63
	OPENBSD_6_0:1.63.0.2
	OPENBSD_6_0_BASE:1.63
	OPENBSD_5_9:1.60.0.2
	OPENBSD_5_9_BASE:1.60
	OPENBSD_5_8:1.60.0.4
	OPENBSD_5_8_BASE:1.60
	OPENBSD_5_7:1.57.0.6
	OPENBSD_5_7_BASE:1.57
	OPENBSD_5_6:1.57.0.4
	OPENBSD_5_6_BASE:1.57
	OPENBSD_5_5:1.57.0.2
	OPENBSD_5_5_BASE:1.57
	OPENBSD_5_4:1.55.0.2
	OPENBSD_5_4_BASE:1.55
	OPENBSD_5_3:1.53.0.2
	OPENBSD_5_3_BASE:1.53
	OPENBSD_5_2:1.51.0.4
	OPENBSD_5_2_BASE:1.51
	OPENBSD_5_1_BASE:1.51
	OPENBSD_5_1:1.51.0.2
	OPENBSD_5_0:1.45.0.2
	OPENBSD_5_0_BASE:1.45
	OPENBSD_4_9:1.43.0.2
	OPENBSD_4_9_BASE:1.43
	OPENBSD_4_8:1.37.0.2
	OPENBSD_4_8_BASE:1.37
	OPENBSD_4_7:1.34.0.2
	OPENBSD_4_7_BASE:1.34
	OPENBSD_4_6:1.32.0.2
	OPENBSD_4_6_BASE:1.32
	OPENBSD_4_5:1.28.0.2
	OPENBSD_4_5_BASE:1.28
	OPENBSD_4_4:1.24.0.2
	OPENBSD_4_4_BASE:1.24
	OPENBSD_4_3:1.22.0.2
	OPENBSD_4_3_BASE:1.22
	OPENBSD_4_2:1.19.0.2
	OPENBSD_4_2_BASE:1.19
	OPENBSD_4_1:1.16.0.2
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.13.0.4
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.2
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.12.0.2
	OPENBSD_3_8_BASE:1.12
	OPENBSD_3_7:1.11.0.2
	OPENBSD_3_7_BASE:1.11
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	todd_20030131:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.64
date	2017.04.13.07.38.45;	author ajacoutot;	state Exp;
branches;
next	1.63;
commitid	lvCz8KVE6EBCyLTt;

1.63
date	2016.04.28.09.37.23;	author jasper;	state Exp;
branches;
next	1.62;
commitid	UJeQrGEEpoU9WMQg;

1.62
date	2016.04.27.09.47.44;	author jasper;	state Exp;
branches;
next	1.61;
commitid	U2eRFSfZh3zZ3JkS;

1.61
date	2016.03.19.10.08.24;	author ajacoutot;	state Exp;
branches;
next	1.60;
commitid	X0QzwV7GlfdDMTYU;

1.60
date	2015.05.22.11.31.19;	author ajacoutot;	state Exp;
branches;
next	1.59;
commitid	2khjHXfpTaOuNVcx;

1.59
date	2015.04.21.18.51.26;	author sthen;	state Exp;
branches;
next	1.58;
commitid	ptMCPiyuhL0JiHRZ;

1.58
date	2015.04.04.09.21.06;	author ajacoutot;	state Exp;
branches;
next	1.57;
commitid	kS3kwKZogsvzYmEY;

1.57
date	2013.09.28.08.51.22;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2013.09.27.17.49.10;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2013.03.27.18.01.55;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2013.03.11.11.46.11;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2013.02.06.14.23.06;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2012.09.29.10.52.28;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2011.10.29.08.12.32;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2011.09.28.09.47.47;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2011.09.20.21.10.00;	author jasper;	state Exp;
branches;
next	1.48;

1.48
date	2011.09.20.20.52.46;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2011.09.16.12.29.14;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2011.09.12.12.04.17;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2011.07.26.15.36.27;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2011.03.07.19.31.54;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2011.01.18.20.03.07;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2010.11.22.08.36.57;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2010.10.19.15.21.04;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.10.19.08.13.57;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2010.10.18.13.18.14;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2010.09.30.07.42.46;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2010.07.25.08.15.32;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.04.20.11.07.05;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2010.03.27.13.58.53;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2009.10.14.15.06.05;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2009.10.10.14.35.39;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2009.06.11.18.38.17;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2009.06.08.17.59.15;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2009.06.08.09.05.13;	author kili;	state Exp;
branches;
next	1.29;

1.29
date	2009.06.07.10.01.47;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2009.02.11.15.47.50;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2009.02.11.15.33.52;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2009.01.20.23.11.11;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2008.11.21.18.36.51;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2008.06.02.14.10.06;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2008.05.26.08.32.57;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2008.02.04.17.55.18;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2008.01.03.23.30.57;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2007.11.10.14.51.30;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2007.07.05.22.50.10;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2007.05.30.09.56.30;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2007.04.27.22.24.54;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2006.12.16.12.22.35;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2006.09.18.12.19.40;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2006.09.18.09.40.31;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2006.01.08.14.35.20;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2005.05.24.21.57.26;	author marcm;	state Exp;
branches;
next	1.11;

1.11
date	2005.02.22.15.35.55;	author alek;	state Exp;
branches;
next	1.10;

1.10
date	2004.12.15.13.57.56;	author alek;	state Exp;
branches;
next	1.9;

1.9
date	2004.12.10.20.36.44;	author marcm;	state Exp;
branches;
next	1.8;

1.8
date	2004.10.17.04.41.20;	author marcm;	state Exp;
branches;
next	1.7;

1.7
date	2004.10.09.14.46.12;	author sturm;	state Exp;
branches;
next	1.6;

1.6
date	2004.08.10.10.56.43;	author xsa;	state Exp;
branches;
next	1.5;

1.5
date	2004.06.23.03.26.14;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.10.07.05.48.54;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.08.06.20.45.04;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.12.19.55.17;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.31.18.52.44;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.31.18.52.44;	author todd;	state Exp;
branches;
next	;


desc
@@


1.64
log
@Stop setting CONFIGURE_STYLE in Makefile.inc but explicitely add it to ports
that need it; in the future more and more ports will move to meson build anyway.
I first though I'd set CONFIGURE_STYLE in gnome.port.mk but it's too fragile
(MODULES list must be sorted very carefully).
Less magic is good.

discussed with jasper@@
@
text
@# $OpenBSD: Makefile,v 1.63 2016/04/28 09:37:23 jasper Exp $

COMMENT=	libraries for the GNOME project

GNOME_PROJECT=	libgnome
GNOME_VERSION=	2.32.1
EXTRACT_SUFX=	.tar.bz2
REVISION=	12

SHARED_LIBS +=	gnome-2		2402.0   # .3000.0

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ORBit-2 ORBitCosNaming-2 bonobo-2 bonobo-activation c
WANTLIB += canberra crypto dbus-1 dbus-glib-1 ffi gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnomevfs-2 gobject-2.0 gthread-2.0 ltdl lzma m
WANTLIB += ogg pcre popt pthread ssl util vorbis vorbisfile xml2 z
WANTLIB += iconv intl

MODULES=	devel/gconf2 \
		x11/gnome

LIB_DEPENDS=	audio/libcanberra \
		devel/popt \
		x11/gnome/libbonobo \
		x11/gnome/vfs2

MODGCONF2_SCHEMAS_DIR= libgnome

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS+= --disable-esd

FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples/libgnome/

post-install:
	rm ${PREFIX}/lib/bonobo/monikers/*.{a,la}

.include <bsd.port.mk>
@


1.63
log
@remaining bumps, sorry 'bout that
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2016/04/27 09:47:44 jasper Exp $
d31 1
@


1.62
log
@drop gettext module and sync WANTLIB where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2016/03/19 10:08:24 ajacoutot Exp $
d8 1
a8 1
REVISION=	11
@


1.61
log
@Merge PFRAG.shared into PLIST for x11/gnome ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2015/05/22 11:31:19 ajacoutot Exp $
d19 1
a21 1
		devel/gettext \
@


1.60
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2015/04/21 18:51:26 sthen Exp $
d8 1
a8 1
REVISION=	10
@


1.59
log
@add some simple missing lzma WANTLIBs (crept in via libxml)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2015/04/04 09:21:06 ajacoutot Exp $
d8 1
a8 1
REVISION=	9
@


1.58
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/09/28 08:51:22 ajacoutot Exp $
d8 1
a8 1
REVISION=	8
d15 4
a18 5
WANTLIB += ORBit-2 ORBitCosNaming-2 bonobo-2 bonobo-activation
WANTLIB += c canberra crypto dbus-1 dbus-glib-1 ffi gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnomevfs-2 gobject-2.0 gthread-2.0 ltdl
WANTLIB += m ogg pcre popt pthread ssl util vorbis vorbisfile
WANTLIB += xml2 z
@


1.57
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/09/27 17:49:10 ajacoutot Exp $
d8 1
a8 1
REVISION=	7
@


1.56
log
@Bump after devel/gconf2,-main is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/03/27 18:01:55 ajacoutot Exp $
d8 1
a8 1
REVISION=	6
@


1.55
log
@Fix build with glib2>=2.36.0
Sync WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/03/11 11:46:11 espie Exp $
d7 2
a8 2
EXTRACT_SUFX=		.tar.bz2
REVISION=	5
@


1.54
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/02/06 14:23:06 ajacoutot Exp $
d7 2
a8 1
REVISION=	4
d15 9
a23 11
EXTRACT_SUFX=		.tar.bz2

WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 m pcre pthread
WANTLIB += ssl util xml2 z bonobo-2 bonobo-activation gnomevfs-2
WANTLIB += canberra ltdl ogg vorbis vorbisfile dbus-1 ffi
WANTLIB += dbus-glib-1 gio-2.0 glib-2.0 ORBit-2 ORBitCosNaming-2
WANTLIB += c crypto popt

MODULES=	devel/gettext \
		x11/gnome \
		devel/gconf2
d25 1
a25 2
LIB_DEPENDS=	x11/gnome/libbonobo \
		x11/gnome/vfs2 \
d27 2
a28 1
		audio/libcanberra
a29 1
USE_GROFF =	Yes
@


1.53
log
@Quiet gconftool-2:
gconf_ping() will try to shutdown gconfd, but since installing pkg is
done as root, there is not gconfd nor dbus that can be started when
DISPLAY isn't set and an annoying warning is issued.

discussed with espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/09/29 10:52:28 ajacoutot Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.52
log
@@@comment -> post-install rm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/10/29 08:12:32 ajacoutot Exp $
d7 1
a7 1
REVISION=	3
@


1.51
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/09/28 09:47:47 jasper Exp $
d7 1
a7 2

REVISION=	2
d40 3
@


1.50
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/09/20 21:10:00 jasper Exp $
d8 1
a8 1
REVISION=	1
d22 1
a22 1
WANTLIB += canberra ltdl ogg vorbis vorbisfile dbus-1
@


1.49
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/09/20 20:52:46 jasper Exp $
a38 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.48
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/09/16 12:29:14 espie Exp $
d38 1
a38 2
CONFIGURE_ARGS+= ${CONFIGURE_SHARED} \
		--disable-esd
@


1.47
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/09/12 12:04:17 jasper Exp $
d39 1
a39 2
		--disable-esd \
		--disable-gtk-doc
@


1.46
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/07/26 15:36:27 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
@


1.45
log
@Don't install libtool files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/03/07 19:31:54 ajacoutot Exp $
d17 2
@


1.44
log
@Maintenance update to libgnome-2.32.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/01/18 20:03:07 ajacoutot Exp $
d7 2
@


1.43
log
@Remove the need for ${SYSCONFDIR}/gnome and use ${SYSCONFDIR} instead.
Discussed with landry@@ and jasper@@

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/11/22 08:36:57 espie Exp $
d6 1
a6 3
GNOME_VERSION=	2.32.0

REVISION=	0
d19 2
a20 1
WANTLIB += dbus-glib-1 gio-2.0 glib-2.0
@


1.42
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/10/19 15:21:04 ajacoutot Exp $
d8 2
a43 2

CONFIGURE_ARGS+= --sysconfdir="${SYSCONFDIR}/gnome"
@


1.41
log
@Remove USE_X11=No, it's no needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/10/19 08:13:57 espie Exp $
d25 4
a28 4
LIB_DEPENDS=	::x11/gnome/libbonobo \
		::x11/gnome/vfs2 \
		::devel/popt \
		::audio/libcanberra
@


1.40
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/10/18 13:18:14 jasper Exp $
a29 1
USE_X11=	No
@


1.39
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/09/30 07:42:46 ajacoutot Exp $
d31 1
@


1.38
log
@Update to libgnome-2.32.0.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/07/25 08:15:32 ajacoutot Exp $
d30 1
@


1.37
log
@Switch to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/04/20 11:07:05 ajacoutot Exp $
d6 1
a6 3
GNOME_VERSION=	2.30.0

REVISION=	0
a15 2
WANTLIB += ORBit-2 ORBitCosNaming-2 avahi-client avahi-common popt
WANTLIB += avahi-glib c crypto dbus-1 dbus-glib-1 gio-2.0 glib-2.0
d18 2
d27 2
a28 1
		::devel/popt
@


1.36
log
@Update to libgnome-2.30.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/03/27 13:58:53 ajacoutot Exp $
d8 2
d18 1
a18 1
WANTLIB += ORBit-2 ORBitCosNaming-2 avahi-client avahi-common
d21 1
a21 1
WANTLIB += ssl util xml2 z
d27 3
a29 3
LIB_DEPENDS=	bonobo-2.>=1,bonobo-activation.>=5::x11/gnome/libbonobo \
		gnomevfs-2.>=1799::x11/gnome/vfs2 \
		popt::devel/popt
@


1.35
log
@Go back to using default menus_have_icons.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/10/14 15:06:05 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	2.28.0
PKGNAME=	${DISTNAME}p1
d8 1
a8 1
SHARED_LIBS +=	gnome-2		2401.0   # .2800.0
@


1.34
log
@Display the usual icons under the System menu by default.
This change was introduced for GNOME 2.28.0 for whatever reason
(performance?), but for now not all applications follow this and it makes
several parts of the desktop/menus look weird to say the least.

So we use previous behaviour because we like beauty ;-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/10/10 14:35:39 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
@


1.33
log
@Welcome libgnome-2.28.0... let the GNOME breakage begins...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/06/11 18:38:17 ajacoutot Exp $
d7 1
@


1.32
log
@Bump after recent gconf2 MODULE change.
gconf2 MODULE was tricky to get right for *all* ports. I think I finally
got it, if you see any fallout, please contact me asap.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/06/08 17:59:15 ajacoutot Exp $
d3 1
a3 1
COMMENT=		libraries for the GNOME project
d5 2
a6 3
GNOME_PROJECT=		libgnome
GNOME_VERSION=		2.24.1
PKGNAME=		${DISTNAME}p5
d8 1
a8 1
SHARED_LIBS +=	gnome-2              2400.1   # .2400.1
d16 20
a35 20
WANTLIB=        ORBit-2 ORBitCosNaming-2 avahi-client avahi-common \
		avahi-glib c crypto dbus-1 dbus-glib-1 \
		gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 \
		m pcre pthread ssl util xml2 z

MODULES=		devel/gettext \
			x11/gnome \
			devel/gconf2

LIB_DEPENDS=		bonobo-2.>=1,bonobo-activation.>=5::x11/gnome/libbonobo \
			gnomevfs-2.>=1799::x11/gnome/vfs2 \
			popt::devel/popt

MODGCONF2_SCHEMAS_DIR=	libgnome

CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--disable-esd \
			--disable-gtk-doc
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
d37 1
a37 1
FAKE_FLAGS=		sysconfdir=${PREFIX}/share/examples/libgnome/
d41 1
a41 1
CONFIGURE_ARGS+=	--sysconfdir="${SYSCONFDIR}/gnome"
@


1.31
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/06/08 09:05:13 kili Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p4
@


1.30
log
@
Unfuck the PLIST.

While here, adjust WANTLIB after the import of ahavi; several other
ports are affected by this, too.

No bump, because it didn't package correctly.

"looks right" bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/06/07 10:01:47 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
@


1.29
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/02/11 15:47:50 jasper Exp $
d17 2
a18 1
WANTLIB=	ORBit-2 ORBitCosNaming-2 c crypto dbus-1 dbus-glib-1 \
@


1.28
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/02/11 15:33:52 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
d18 1
a18 1
		gconf-2 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 \
d22 2
a23 1
			x11/gnome
d29 2
a31 2
			--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/libgnome \
			--disable-schemas-install \
@


1.27
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/01/20 23:11:11 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.26
log
@- use FAKE_FLAGS instead of port-install dance
- remove esound support from libbonoboui ; this will remove undirect esd
dependency from about a hundred ports...

Expect some WANTLIB fallouts which I'll deal with within the next 24h.

Faster, aucat(1)! Kill! Kill!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/11/21 18:36:51 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.25
log
@- update libgnome to 2.24.1
- specify license version

feedback and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/06/02 14:10:06 ajacoutot Exp $
d7 2
d24 1
a24 3
LIB_DEPENDS=		esd.>=2.26::audio/esound \
			audiofile.>=0::devel/libaudiofile \
			bonobo-2.>=1,bonobo-activation.>=5::x11/gnome/libbonobo \
d30 3
a32 1
			--disable-schemas-install
d36 1
a36 3
post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/libgnome
	cp -Rp ${WRKINST}/${SYSCONFDIR}/gnome/* ${PREFIX}/share/examples/libgnome/
@


1.24
log
@- remove support for MODGNOME_DEVHELP_FILES from the gnome MODULE ;
it makes more sense to add devhelp as run_depends for gnome-session and
leave it to the user to install it manually for other packages

"if you're as happy as a pig in poop, commit it" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/05/26 08:32:57 ajacoutot Exp $
d6 2
a7 3
GNOME_VERSION=		2.20.1.1
PKGNAME=		${DISTNAME}p3
SHARED_LIBS +=	gnome-2              1900.0   # .1999.2
d9 1
a9 1
# LGPL
a14 2
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/${GNOME_PROJECT}/2.20/}

d16 1
a16 1
		gconf-2 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 \
@


1.23
log
@- since devhelp files are provided, make it run_depends on devhelp so
that we can actually see them

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/02/04 17:55:18 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
a29 2

MODGNOME_DEVHELP_FILES=	Yes
@


1.22
log
@let's face it....add myself as maintainer

requested by and ok ajacoutot@@, ok fkr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/01/03 23:30:57 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d30 2
@


1.21
log
@- fix typo in PLIST

spotted by ktrace(1)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2007/11/10 14:51:30 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.20
log
@- update libgnome to 2.20.1.1

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/07/05 22:50:10 jasper Exp $
d7 1
@


1.19
log
@convert these gnome ports to use the new x11/gnome module.

this module is now mature enough to be used in new ports too.

feedback and ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/05/30 09:56:30 jasper Exp $
d6 2
a7 2
GNOME_VERSION=		2.18.0
SHARED_LIBS +=	gnome-2        1800.0         # .1800.0
d14 3
d19 1
a19 1
		m pthread ssl util xml2 z
d37 1
a37 1
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/libgnome; \
@


1.18
log
@HOMEPAGE is taken care of via Makefile.inc, so no need to have it defined
twice when the homepage is http://www.gnome.org/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/04/27 22:24:54 jasper Exp $
d3 1
a3 1
COMMENT=		"libraries for the GNOME project"
d5 2
a6 1
DISTNAME=		libgnome-2.18.0
a7 1
CATEGORIES=		x11/gnome
d18 2
a19 2
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgnome/2.18/}
EXTRACT_SUFX=		.tar.bz2
a20 3
MODULES=		devel/gettext

BUILD_DEPENDS=		:p5-XML-Parser-*:textproc/p5-XML-Parser
a26 3
USE_GMAKE=		Yes
USE_LIBTOOL=		Yes
CONFIGURE_STYLE=	gnu
@


1.17
log
@update libgnome to 2.18.0

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/12/16 12:22:35 espie Exp $
a7 2

HOMEPAGE=		http://www.gnome.org/
@


1.16
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/09/18 12:19:40 espie Exp $
d5 2
a6 3
DISTNAME=		libgnome-2.10.0
PKGNAME=		${DISTNAME}p0
SHARED_LIBS=		gnome-2	1000.0
d16 3
a18 4
WANTLIB=		ORBit-2 ORBitCosNaming-2 bonobo-2 bonobo-activation c \
			crypto gconf-2 glib-2.0 gmodule-2.0 \
			gobject-2.0 gthread-2.0 m popt pthread ssl \
			xml2 z
d20 1
a20 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgnome/2.10/}
d27 4
a30 2
			gnomevfs-2::x11/gnome/vfs2 \
			audiofile::devel/libaudiofile
d34 4
a37 5
CONFIGURE_STYLE=	gnu old
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--sysconfdir="${SYSCONFDIR}/gnome"
CONFIGURE_ARGS+=	--disable-gtk-doc
CONFIGURE_ARGS+=	--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/libgnome
d46 2
@


1.15
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/09/18 09:40:31 espie Exp $
d27 1
a27 2
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig \
			:p5-XML-Parser-*:textproc/p5-XML-Parser
@


1.14
log
@new style lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/01/08 14:35:20 steven Exp $
d18 2
a19 2
			crypto gconf-2 glib-2.0.0.0 gmodule-2.0.0.0 \
			gobject-2.0.0.0 gthread-2.0.0.0 m popt pthread ssl \
@


1.13
log
@- SHARED_LIBS and USE_LIBTOOL
- regen PLIST with new gettext
- remove old libtool patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/05/24 21:57:26 marcm Exp $
d29 1
a29 1
LIB_DEPENDS=		esd.2.26::audio/esound \
@


1.12
log
@Update for Gnome 2.10.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/02/22 15:35:55 alek Exp $
d6 2
d34 1
@


1.11
log
@- textproc/libxslt is not needed here
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/12/15 13:57:56 alek Exp $
d5 1
a5 2
DISTNAME=		libgnome-2.8.0
PKGNAME=		${DISTNAME}p0
a9 2
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>

d20 1
a20 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgnome/2.8/}
@


1.10
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/12/10 20:36:44 marcm Exp $
d6 1
d32 1
a32 2
			audiofile::devel/libaudiofile \
			xslt.1::textproc/libxslt
@


1.9
log
@Update to Gnome 2.8 (.1).

Work done primarily by Francois Briere, thanks Francois.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/10/17 04:41:20 marcm Exp $
d17 4
@


1.8
log
@Simplify Gnome config file handling.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/10/09 14:46:12 sturm Exp $
d5 1
a5 1
DISTNAME=		libgnome-2.6.1.1
d18 1
a18 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgnome/2.6/}
@


1.7
log
@add p5-XML-Parser to BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/08/10 10:56:43 xsa Exp $
a29 2
CONFDIR=		${SYSCONFDIR}/gnome
SEPARATE_BUILD= 	concurrent
d33 1
a33 1
CONFIGURE_ARGS+=	--sysconfdir="${CONFDIR}"
a37 1
SUBST_VARS=		CONFDIR
d41 1
a41 1
	cp -Rp ${WRKINST}/${CONFDIR}/* ${PREFIX}/share/examples/libgnome/
@


1.6
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/06/23 03:26:14 marcm Exp $
d23 2
a24 1
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig
@


1.5
log
@Monster update to Gnome 2.6.  See, I am not slacking, really!

Change info on a Gnome mirror near you.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/10/07 05:48:54 marcm Exp $
d21 1
a21 1
MODULES=		gettext
@


1.4
log
@Update to Gnome 2.4.0.
Release notes available at: http://www.gnome.org/start/2.4/notes/

Please note that x11/gnome/bonobo-activation is now part of libbonobo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/06/12 19:55:17 marcm Exp $
d5 1
a5 1
DISTNAME=		libgnome-2.4.0
d18 1
a18 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgnome/2.4/}
@


1.3
log
@Update to GNOME 2.2.2.
@
text
@d5 1
a5 1
DISTNAME=		libgnome-2.2.3
d18 1
a18 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgnome/2.2/}
d23 1
a23 1
BUILD_DEPENDS=		:pkgconfig->=0.12.0p1:devel/pkgconfig
@


1.2
log
@Update to 2.2.0.1 in support of Gnome 2.2.1.

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/01/31 18:52:44 todd Exp $
d5 1
a5 1
DISTNAME=		libgnome-2.2.0.1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=		libgnome-2.0.6
d18 1
a18 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/libgnome/2.0/}
d29 1
d32 1
a32 1
CONFIGURE_STYLE=	gnu
d34 1
d39 1
d43 1
a43 1
	cp -Rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/libgnome/
@


1.1.1.1
log
@Import libgnome-2.0.6
--
These are the GNOME libraries, the foundation for most of the
applications of the GNOME project.

From marcm for gnome2
@
text
@@
