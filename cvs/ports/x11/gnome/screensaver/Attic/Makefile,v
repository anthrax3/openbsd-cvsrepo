head	1.57;
access;
symbols
	OPENBSD_5_3:1.55.0.2
	OPENBSD_5_3_BASE:1.55
	OPENBSD_5_2:1.52.0.2
	OPENBSD_5_2_BASE:1.52
	OPENBSD_5_1_BASE:1.42
	OPENBSD_5_1:1.42.0.2
	OPENBSD_5_0:1.31.0.2
	OPENBSD_5_0_BASE:1.31
	OPENBSD_4_9:1.28.0.2
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.23.0.2
	OPENBSD_4_8_BASE:1.23
	OPENBSD_4_7:1.17.0.2
	OPENBSD_4_7_BASE:1.17
	OPENBSD_4_6:1.12.0.2
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.6.0.2
	OPENBSD_4_5_BASE:1.6
	ajacoutot_20081129:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.57
date	2013.03.30.12.14.47;	author ajacoutot;	state dead;
branches;
next	1.56;

1.56
date	2013.03.11.11.46.11;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2012.10.16.07.47.26;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2012.09.28.15.24.24;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2012.09.01.14.36.59;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2012.07.18.06.52.31;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2012.07.12.07.18.15;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2012.06.26.05.07.46;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2012.04.28.10.52.09;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2012.04.14.20.19.39;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2012.04.12.18.00.14;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2012.03.30.14.09.59;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2012.03.29.06.53.44;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2012.02.25.22.23.30;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2012.02.16.22.22.22;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2011.11.30.11.13.47;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2011.11.04.09.56.29;	author jasper;	state Exp;
branches;
next	1.40;

1.40
date	2011.10.16.19.23.35;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2011.10.04.05.36.43;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2011.09.28.09.47.47;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2011.09.28.09.30.56;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2011.09.26.06.38.48;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2011.09.20.22.54.25;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2011.09.16.12.29.14;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2011.09.12.12.04.17;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2011.09.12.07.28.54;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2011.04.29.08.41.51;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2011.04.28.05.22.02;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2011.04.21.07.07.53;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2010.11.22.08.36.58;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2010.10.19.08.13.57;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.10.18.13.18.15;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2010.10.11.08.19.20;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2010.09.30.07.36.44;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2010.07.25.08.15.33;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.07.16.10.04.35;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2010.07.13.20.37.03;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2010.04.28.15.18.32;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2010.04.23.11.56.09;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2010.03.26.16.25.36;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2010.02.13.09.17.33;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2010.02.08.17.04.14;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.12.21.18.03.19;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.10.14.09.55.24;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.08.11.08.39.39;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.06.25.00.38.37;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2009.06.11.18.38.17;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2009.06.08.17.59.15;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2009.06.07.10.46.41;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2009.06.04.00.45.39;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2009.05.03.19.51.42;	author landry;	state Exp;
branches;
next	1.6;

1.6
date	2009.02.11.15.47.51;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2009.02.11.15.33.52;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2009.01.20.23.13.31;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.12.02.09.04.25;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.11.29.12.11.19;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.11.29.11.34.51;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.11.29.11.34.51;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.57
log
@Remove gnome-screensaver; fallback mode is gone.
@
text
@# $OpenBSD: Makefile,v 1.56 2013/03/11 11:46:11 espie Exp $

COMMENT=	screen saver and locker for GNOME

GNOME_PROJECT=	gnome-screensaver
GNOME_VERSION=	3.6.1

HOMEPAGE=	https://live.gnome.org/GnomeScreensaver

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xss Xxf86misc
WANTLIB += Xxf86vm atk-1.0 c cairo cairo-gobject dbus-1 dbus-glib-1
WANTLIB += drm expat ffi fontconfig freetype gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3 gnomekbd
WANTLIB += gnomekbdui gobject-2.0 gthread-2.0 gtk-3 m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs xcb xcb-render xcb-shm xkbfile xklavier
WANTLIB += atk-bridge-2.0 atspi harfbuzz icudata icule icuuc
WANTLIB += xml2 z stdc++

MODULES=	devel/gettext \
		x11/gnome \
		devel/dconf

BUILD_DEPENDS=	devel/gsettings-desktop-schemas>=3.6.0
LIB_DEPENDS=	x11/gnome/desktop>=3.6.0 \
		x11/gnome/libgnomekbd

RUN_DEPENDS=	devel/gsettings-desktop-schemas>=3.6.0 \
		sysutils/consolekit # src/gs-listener-dbus.c

CONFIGURE_ARGS=	--without-systemd

MAKE_FLAGS=	DOCDIR="${PREFIX}/share/doc/gnome-screensaver"
FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples/gnome-xscreensaver

post-extract:
	cp ${FILESDIR}/gs-auth-bsdauth.c ${WRKSRC}/src/

.include <bsd.port.mk>
@


1.56
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/10/16 07:47:26 ajacoutot Exp $
@


1.55
log
@Update to gnome-screensaver-3.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/09/28 15:24:24 ajacoutot Exp $
a11 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.54
log
@Update to gnome-screensaver-3.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/09/01 14:36:59 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	3.6.0
@


1.53
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/07/18 06:52:31 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	3.4.4
REVISION=	0
d24 1
d31 2
a32 3
BUILD_DEPENDS=	textproc/xmlto \
		devel/gsettings-desktop-schemas
LIB_DEPENDS=	x11/gnome/desktop>=3.2.0p0 \
d35 1
a35 1
RUN_DEPENDS=	devel/gsettings-desktop-schemas \
d38 1
a38 7
CONFIGURE_ARGS=	--enable-docbook-docs \
		--enable-locking \
		--with-console-kit \
		--with-mit-ext \
		--with-x \
		--with-xf86gamma-ext \
		--without-systemd
@


1.52
log
@Bugfix update to gnome-screensaver-3.4.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/07/12 07:18:15 ajacoutot Exp $
d7 1
@


1.51
log
@Minor update to gnome-screensaver-3.4.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/06/26 05:07:46 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	3.4.3
@


1.50
log
@Minor update to gnome-screensaver-3.4.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/04/28 10:52:09 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	3.4.2
@


1.49
log
@--localstatedir=/var is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/04/14 20:19:39 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	3.4.1
@


1.48
log
@Minor update to gnome-screensaver-3.4.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2012/04/12 18:00:14 ajacoutot Exp $
d38 1
a38 2
CONFIGURE_ARGS=	--localstatedir=/var \
		--enable-docbook-docs \
@


1.47
log
@Sanitize CONFIGURE_STYLE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/03/30 14:09:59 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	3.4.0
REVISION=	0
@


1.46
log
@Add HOMEPAGE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/03/29 06:53:44 ajacoutot Exp $
a38 1
CONFIGURE_STYLE=gnu
@


1.45
log
@Updtae to gnome-screensaver-3.4.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/02/25 22:23:30 ajacoutot Exp $
d7 3
@


1.44
log
@Bugfix update to gnome-screensaver-3.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/02/16 22:22:22 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	3.2.2
@


1.43
log
@Update to gnome-screensaver-3.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/11/30 11:13:47 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	3.2.1
@


1.42
log
@Sync with what I'm about to commit upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/11/04 09:56:29 jasper Exp $
d6 1
a6 2
GNOME_VERSION=	3.2.0
REVISION=	4
d29 1
a29 2
		devel/gsettings-desktop-schemas \
		${MODGNU_AUTOMAKE_DEPENDS}
d36 1
a36 4
AUTOCONF_VERSION= 2.68
AUTOMAKE_VERSION= 1.11

CONFIGURE_STYLE= autoconf
d40 2
d43 2
a44 2
		--with-mit-ext \
		--with-xf86gamma-ext
a50 5

pre-configure:
	cd ${WRKSRC} && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} automake
@


1.41
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/10/16 19:23:35 ajacoutot Exp $
d7 1
a7 1
REVISION=	3
@


1.40
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/10/04 05:36:43 ajacoutot Exp $
d7 1
a7 1
REVISION=	2
d23 1
a23 1
WANTLIB += xml2 z
@


1.39
log
@Remove now uneeded patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/09/28 09:47:47 jasper Exp $
d7 1
a7 1
REVISION=	1
d20 1
a20 1
WANTLIB += gnomekbdui gobject-2.0 gthread-2.0 gtk-3 kvm m pango-1.0
@


1.38
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/09/28 09:30:56 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
d32 1
a32 1
LIB_DEPENDS=	x11/gnome/desktop \
@


1.37
log
@Revert a commit from upstream that would hang the display and make the
screensaver go crazy.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/09/26 06:38:48 ajacoutot Exp $
a41 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.36
log
@Update to gnome-screensaver-3.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/09/20 22:54:25 jasper Exp $
d7 1
@


1.35
log
@remove a few more implied CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/09/16 12:29:14 espie Exp $
d6 1
a6 2
GNOME_VERSION=	3.0.1
REVISION=	0
d14 2
a15 2
WANTLIB += GL ICE SM X11 X11-xcb Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xss Xxf86misc
d17 6
a22 7
WANTLIB += drm execinfo expat fontconfig freetype gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3
WANTLIB += gnomekbd gnomekbdui gobject-2.0 gthread-2.0 gtk-3 m
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs startup-notification-1 xcb
WANTLIB += xcb-aux xcb-render xcb-shm xkbfile
WANTLIB += xklavier xml2 z
a48 5

# configure switch is still here, but functionnality has been removed
# --with-kbd-layout-indicator

USE_GROFF=	Yes
@


1.34
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/09/12 12:04:17 jasper Exp $
d45 1
a45 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--localstatedir=/var \
@


1.33
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/09/12 07:28:54 jasper Exp $
d7 1
@


1.32
log
@Moar GNOME3 merge
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/09/08 07:27:10 ajacoutot Exp $
a6 2

EXTRACT_SUFX=	.tar.xz
@


1.31
log
@Disable libnotify support. It doesn't work and upstream removed it a year
ago.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/04/28 05:22:02 ajacoutot Exp $
d6 3
a8 2
GNOME_VERSION=	2.30.2
REVISION=	2
d16 1
a16 1
WANTLIB += GL ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage
d18 8
a25 8
WANTLIB += Xxf86vm atk-1.0 c cairo dbus-1 dbus-glib-1 execinfo
WANTLIB += expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += gtk-x11-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs startup-notification-1
WANTLIB += xcb xcb-atom xcb-aux xcb-event xkbfile xklavier xml2
WANTLIB += z xcb-render gnome-desktop-2 gnome-menu
WANTLIB += gnomekbdui gnomekbd drm
d29 1
a29 1
		devel/gconf2
d31 3
a33 1
BUILD_DEPENDS=	textproc/xmlto
a34 1
		x11/gnome/menus \
d37 5
a41 2
RUN_DEPENDS=	x11/gnome/librsvg \
		x11/xscreensaver,-data,no_gle
a43 3
AUTOCONF_VERSION= 2.67
MODGCONF2_SCHEMAS_DIR= gnome-screensaver

d47 1
a47 1
		--disable-pam \
a50 3
		--with-bsdauth=yes \
		--with-xscreensaverdir="${LOCALBASE}/share/xscreensaver/config" \
		--with-xscreensaverhackdir="${LOCALBASE}/libexec/xscreensaver" \
d52 1
a52 4
		--with-xf86gamma-ext \
		--with-kbd-layout-indicator
# doesn't work, removed upstream (be471c1097980f01f91cff6e485fb81861b5aeb7)
CONFIGURE_ARGS+=--without-libnotify
d54 2
a55 1
USE_GROFF =	Yes
d57 1
a57 2
MODGNOME_HELP_FILES= Yes
DESKTOP_FILES=	Yes
d59 1
a59 2
MAKE_FLAGS=	GNOMELOCALEDIR="${LOCALBASE}/share/locale" \
		DOCDIR="${PREFIX}/share/doc/gnome-screensaver"
d64 5
@


1.30
log
@Use proper AUTOCONF_VERSION, from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/04/21 07:07:53 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
d23 2
a24 2
WANTLIB += z xcb-render xcb-render-util gnome-desktop-2 gnome-menu
WANTLIB += gnomekbdui gnomekbd notify drm
d33 1
a33 2
		x11/gnome/libgnomekbd \
		devel/libnotify>=0.7.2
a34 1
# notification-daemon is needed for the "Leave Message" button
d36 1
a36 2
		x11/xscreensaver,-data,no_gle \
		notification-daemon-*|notification-daemon-xfce-*|xfce4-notifyd-*:sysutils/notification-daemon
d54 4
a57 2
		--with-kbd-layout-indicator \
		--with-libnotify
@


1.29
log
@Fix build/run with new libnotify.

tested in a bulk by landry, thanks!
ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/11/22 08:36:58 espie Exp $
d42 1
a42 1
AUTOCONF_VERSION= 2.64
@


1.28
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/10/19 08:13:57 espie Exp $
d7 1
a7 1
REVISION=	0
d34 1
a34 1
		devel/libnotify
@


1.27
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/10/18 13:18:15 jasper Exp $
d30 5
a34 5
BUILD_DEPENDS=	::textproc/xmlto
LIB_DEPENDS=	::x11/gnome/desktop \
		::x11/gnome/menus \
		::x11/gnome/libgnomekbd \
		::devel/libnotify
d37 3
a39 3
RUN_DEPENDS=	::x11/gnome/librsvg \
		:xscreensaver-data-*:x11/xscreensaver,-data,no_gle \
		:notification-daemon-*|notification-daemon-xfce-*|xfce4-notifyd-*:sysutils/notification-daemon
@


1.26
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/10/11 08:19:20 jasper Exp $
d59 1
@


1.25
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/09/30 07:36:44 ajacoutot Exp $
a59 1
USE_X11=	Yes
@


1.24
log
@Update to gnome-screensaver-2.30.2.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/07/25 08:15:33 ajacoutot Exp $
d7 1
d19 1
a19 1
WANTLIB += gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 gthread-2.0
@


1.23
log
@Switch to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/07/16 10:04:35 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	2.30.0
REVISION=	2
d23 1
a23 1
WANTLIB += gnomekbdui gnomekbd notify
d41 1
a41 1
AUTOCONF_VERSION= 2.65
@


1.22
log
@Fix some warnings.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/07/13 20:37:03 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
d23 2
a24 1
WANTLIB += z xcb-render xcb-render-util
d31 4
a34 4
LIB_DEPENDS=	gnome-desktop-2.>=6::x11/gnome/desktop \
		gnome-menu.>=4::x11/gnome/menus \
		gnomekbdui.>=3,gnomekbd::x11/gnome/libgnomekbd \
		notify.>=2::devel/libnotify
@


1.21
log
@Use REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/04/28 15:18:32 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
@


1.20
log
@Use autoconf 2.65.
Regen PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/04/23 11:56:09 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
@


1.19
log
@Update to gnome-screensaver-2.30.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/03/26 16:25:36 ajacoutot Exp $
d7 1
d41 1
a41 1
AUTOCONF_VERSION= 2.63
@


1.18
log
@Crank autoconf version to 2.63.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/02/13 09:17:33 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	2.28.3
PKGNAME=	${DISTNAME}p0
d22 1
a22 1
WANTLIB += z
@


1.17
log
@SECURITY: CVE-2010-0422, handle monitor hotplugging more securely.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/02/08 17:04:14 ajacoutot Exp $
d7 1
d41 1
a41 1
AUTOCONF_VERSION= 2.62
@


1.16
log
@SECURITY: Ensure keyboard grab and unlock dialog exist after monitor removal
(CVE-2010-0414)

gnome-screensaver currently doesn't deal with monitors getting
removed properly.  If the unlock dialog is on the removed monitor
then the unlock dialog and its associated keyboard grab are not
moved to an existing monitor when the monitor removal is processed.

This means that users can gain access to the locked system by placing
the mouse pointer on an external monitor and then disconnect the
external monitor.

https://bugzilla.gnome.org/show_bug.cgi?id=609337

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/12/21 18:03:19 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.28.2
a52 1
		--with-gdm-config="${SYSCONFDIR}/X11/gdm/custom.conf" \
a54 1
		--with-libgl \
@


1.15
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/10/14 09:55:24 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	2.28.0
PKGNAME=	${DISTNAME}p0
@


1.14
log
@Major update to gnome-screensaver-2.28.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/08/11 08:39:39 ajacoutot Exp $
d7 1
@


1.13
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/06/25 00:38:37 sthen Exp $
d6 1
a6 2
GNOME_VERSION=	2.24.1
PKGNAME=	${DISTNAME}p11
d14 9
a22 13
WANTLIB=	GL ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite \
		Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender Xss Xxf86misc Xxf86vm art_lgpl_2 atk-1.0 \
		bonobo-2 bonobo-activation bonoboui-2 c \
		cairo crypto dbus-1 dbus-glib-1 expat fontconfig \
		freetype gailutil gdk-x11-2.0 gdk_pixbuf-2.0 \
		gio-2.0 glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2 \
		gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2 \
		gobject-2.0 gthread-2.0 gtk-x11-2.0 m pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png popt \
		pthread ssl startup-notification-1 util xkbfile \
		xklavier xml2 z avahi-client avahi-common avahi-glib \
		pthread-stubs xcb
d40 1
a40 1
AUTOCONF_VERSION= 2.61
@


1.12
log
@sync wantlib, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/06/11 18:38:17 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p10
d26 2
a27 1
		xklavier xml2 z avahi-client avahi-common avahi-glib
@


1.11
log
@Bump after recent gconf2 MODULE change.
gconf2 MODULE was tricky to get right for *all* ports. I think I finally
got it, if you see any fallout, please contact me asap.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/06/08 17:59:15 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p9
d26 1
a26 1
		xklavier xml2 z
@


1.10
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/06/07 10:46:41 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p8
@


1.9
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/06/04 00:45:39 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p7
@


1.8
log
@- implement bsd_auth(3) support for gnome-screensaver
successfully tested with kerberos and passwd

looked over by and ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/05/03 19:51:42 landry Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p6
d20 1
a20 1
		freetype gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 \
d29 2
a30 1
		x11/gnome
d45 1
a49 1
		--disable-schemas-install \
a54 1
		--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gnome-screensaver \
@


1.7
log
@Add xfce4-notifyd as an alternative to other notification daemons in
RUN_DEPENDS, and bump PKGNAMEs.
prodded by ajacoutot@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/02/11 15:47:51 jasper Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p5
d42 3
a51 1
		--enable-authentication-scheme=pwent \
d53 1
a60 1
		--with-shadow=yes \
d71 3
@


1.6
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/02/11 15:33:52 jasper Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
d40 1
a40 1
		:notification-daemon-*|notification-daemon-xfce-*:sysutils/notification-daemon
@


1.5
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/01/20 23:13:31 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
@


1.4
log
@- regen WANTLIB after libgnome esound support removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/12/02 09:04:25 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.3
log
@- run_depends on either one of the in-tree notification-daemons
(i.e. notification-daemon or notification-daemon-xfce) with a preference
on notification-daemon if none are installed since this is GNOME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/11/29 12:11:19 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d18 2
a19 2
		audiofile bonobo-2 bonobo-activation bonoboui-2 c \
		cairo crypto dbus-1 dbus-glib-1 esd expat fontconfig \
@


1.2
log
@- user switching does not work under OpenBSD, so remove corresponding
button
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/11/29 11:34:51 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d40 1
a40 1
		::sysutils/notification-daemon
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@Import gnome-screensaver-2.24.1

gnome-screensaver is a screen saver and locker that aims to have simple,
sane, secure defaults and be well integrated with the desktop.
<...>
@
text
@@
