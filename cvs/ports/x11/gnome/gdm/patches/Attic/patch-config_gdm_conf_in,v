head	1.10;
access;
symbols
	OPENBSD_5_0:1.9.0.6
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.4
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.9.0.2
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.8.0.6
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.4
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.2
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.7.0.4
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.6.0.2
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.5.0.8
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.6
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.5.0.4
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.5.0.2
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.2.0.2
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.1.1.1.0.2
	OPENBSD_3_5_BASE:1.1.1.1
	marcm_2003-oct-08:1.1.1.1
	marcm:1.1.1;
locks; strict;
comment	@# @;


1.10
date	2011.09.12.07.39.21;	author ajacoutot;	state dead;
branches;
next	1.9;

1.9
date	2010.04.17.05.41.02;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2008.11.21.17.43.02;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2007.11.27.20.26.13;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2007.05.18.17.20.40;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2005.05.26.03.39.31;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2004.12.10.20.36.43;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2004.09.15.04.15.25;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2004.06.24.23.58.34;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.10.08.15.57.01;	author marcm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.10.08.15.57.01;	author marcm;	state Exp;
branches;
next	;


desc
@@


1.10
log
@Update to gdm-3.0.4 but mark BROKEN for now.
@
text
@$OpenBSD: patch-config_gdm_conf_in,v 1.9 2010/04/17 05:41:02 ajacoutot Exp $
--- config/gdm.conf.in.orig	Thu Mar 19 05:59:27 2009
+++ config/gdm.conf.in	Sat Apr 17 07:39:30 2010
@@@@ -99,8 +99,8 @@@@ TimedLoginDelay=30
 # User and group used for running GDM GUI applications.  By default this is set
 # to user "gdm" and group "gdm".  This user/group should have very limited
 # permissions and access to only the gdm directories and files.
-User=gdm
-Group=gdm
+User=_x11
+Group=_x11
 
 # To try to kill all clients started at greeter time or in the Init script.
 # does not always work, only if those clients have a window of their own.
@@@@ -204,6 +204,7 @@@@ XnestUnscaledFontPath=@@X_XNEST_UNSCALED_FONTPATH@@
 # problems.
 #FirstVT=7
 #VTAllocation=true
+VTAllocation=false
 # Should double login be treated with a warning (and possibility to change VT's
 # on Linux and FreeBSD systems for console logins)
 #DoubleLoginWarning=true
@@@@ -237,7 +238,7 @@@@ XnestUnscaledFontPath=@@X_XNEST_UNSCALED_FONTPATH@@
 
 # How long gdm should wait before it assumes a started Xserver is defunct and
 # kills it.  10 seconds should be long enough for X, but Xgl may need 20 or 25. 
-GdmXserverTimeout=10
+GdmXserverTimeout=30
 
 [security]
 # Allow root to login.  It makes sense to turn this off for kiosk use, when
@@@@ -397,7 +398,7 @@@@ Browser=false
 # User ID's less than the MinimalUID value will not be included in the face
 # browser or in the gdmselection list for Automatic/Timed login.  They will not
 # be displayed regardless of the settings for Include and Exclude.
-#MinimalUID=100
+MinimalUID=1000
 # Users listed in Include will be included in the face browser and in the
 # gdmsetup selection list for Automatic/Timed login.  Users should be separated
 # by commas.
@


1.9
log
@Increase GdmXserverTimeout to give a change to GDM to start on low-end
configurations.

idea from Casey Allen Shobe on ports@@
@
text
@d1 1
a1 1
$OpenBSD: patch-config_gdm_conf_in,v 1.8 2008/11/21 17:43:02 jasper Exp $
@


1.8
log
@- update gdm to 2.20.7
* note there is a 2.24.x version of gdm, but newer versions require
policykit and all that kind of scary dbus shitz

feedback and ok ajacoutot@@
@
text
@d1 3
a3 3
$OpenBSD: patch-config_gdm_conf_in,v 1.7 2007/11/27 20:26:13 jasper Exp $
--- config/gdm.conf.in.orig	Tue Nov 18 22:53:51 2008
+++ config/gdm.conf.in	Tue Nov 18 22:54:45 2008
d23 9
@


1.7
log
@- update gdm to 2.20.1
- make the *beep* sounds work
- install the Xsession script with the executable bit, so gdm won't
  try to start gnome in failsafe mode. as reported by several users.

tested by fkr@@
@
text
@d1 3
a3 3
$OpenBSD: patch-config_gdm_conf_in,v 1.6 2007/05/18 17:20:40 jasper Exp $
--- config/gdm.conf.in.orig	Sat Oct 27 16:58:34 2007
+++ config/gdm.conf.in	Sat Oct 27 16:59:42 2007
d15 1
a15 2
@@@@ -203,7 +203,7 @@@@ XnestUnscaledFontPath=@@X_XNEST_UNSCALED_FONTPATH@@
 # X to use specific vts.  Turn VTAllocation to false if this is causing
d18 1
a18 1
-#VTAllocation=true
d23 1
a23 1
@@@@ -397,7 +397,7 @@@@ Browser=false
@


1.6
log
@update gdm to 2.18.1

lots of help, and ok martynas@@
@
text
@d1 3
a3 3
$OpenBSD$
--- config/gdm.conf.in.orig	Mon Apr  9 08:15:16 2007
+++ config/gdm.conf.in	Fri May 18 19:34:41 2007
d5 1
a5 1
 # User and group used for running GDM GUI applicaitons.  By default this is set
d7 1
a7 1
 # permissions and access to ony the gdm directories and files.
d15 2
a16 2
@@@@ -178,7 +178,7 @@@@ XnestUnscaledFontPath=@@X_XNEST_UNSCALED_FONTPATH@@
 # X to use specific vts.  turn VTAllocation to false if this is causing
d24 1
a24 1
@@@@ -353,7 +353,7 @@@@ Browser=false
@


1.5
log
@Gnome 2.10.0/2.10.1
@
text
@d1 7
a7 6
--- config/gdm.conf.in.orig	Mon Feb 14 14:49:35 2005
+++ config/gdm.conf.in	Wed May 18 21:04:11 2005
@@@@ -71,8 +71,8 @@@@ TimedLoginDelay=30
 # User and group used for running gdm GUI applicaitons.  By default this
 # is set to user gdm and group gdm.  This user/group should have very
 # limited permissions and access to ony the gdm directories and files.
d12 1
d14 4
a17 5
 # doesn't always work, only if those clients have a window of their own
 #KillInitClients=true
@@@@ -135,7 +135,7 @@@@ Xnest=@@X_XNEST_PATH@@/Xnest @@X_XNEST_CONF
 # we force X to use specific vts.  turn VTAllocation to false if this
 # is causing problems.
d21 2
a22 2
 # Should double login be treated with a warning (and possibility to change
 # vts on linux and freebsd systems for console logins)
d24 9
@


1.4
log
@Update to Gnome 2.8 (.1).

Work done primarily by Francois Briere, thanks Francois.
@
text
@d1 3
a3 3
--- config/gdm.conf.in.orig	Thu Dec  2 12:40:35 2004
+++ config/gdm.conf.in	Thu Dec  2 12:42:19 2004
@@@@ -71,8 +71,8 @@@@
d14 1
a14 12
@@@@ -95,8 +95,8 @@@@
 XKeepsCrashing=@@EXPANDED_SYSCONFDIR@@/gdm/XKeepsCrashing
 # Reboot, Halt and suspend commands, you can add different commands
 # separated by a semicolon and gdm will use the first one it can find
-#RebootCommand=/usr/bin/reboot;/sbin/reboot;/sbin/shutdown -r now;/usr/sbin/shutdown -r now
-#HaltCommand=/usr/bin/poweroff;/sbin/poweroff;/sbin/shutdown -h now;/usr/sbin/shutdown -h now
+RebootCommand=/sbin/reboot
+HaltCommand=/sbin/halt -p
 #SuspendCommand=
 # Probably should not touch the below this is the standard setup
 ServAuthDir=@@EXPANDED_AUTHDIR@@
@@@@ -135,7 +135,7 @@@@
@


1.3
log
@Update to 2.6.0.4.  Yes, a 0.0.0.1 update that brings regeneration of
almost all the diffs.  Hmmm.

Also new plist goodness and ridding of the install scripts.
@
text
@d1 6
a6 7
$OpenBSD: patch-config_gdm_conf_in,v 1.2 2004/06/24 23:58:34 marcm Exp $
--- config/gdm.conf.in.orig	Mon Aug  2 15:20:59 2004
+++ config/gdm.conf.in	Fri Sep 10 20:42:41 2004
@@@@ -72,8 +72,8 @@@@ TimedLoginDelay=30
 # you should create these user and group.  Anyone found running this as
 # someone too privilaged will get a kick in the ass.  This should have
 # access to only the gdm directories and files.
d14 1
a14 1
@@@@ -96,8 +96,8 @@@@ DisplayInitDir=@@EXPANDED_SYSCONFDIR@@/gdm
d25 1
a25 1
@@@@ -136,7 +136,7 @@@@ Xnest=@@X_SERVER_PATH@@/Xnest -audit 0 -na
d32 1
a32 1
 # vts on linux systems for console logins)
@


1.2
log
@Update to 2.6.0.3 in sync with Gnome 2.6.
@
text
@d1 3
a3 3
$OpenBSD: patch-config_gdm_conf_in,v 1.1.1.1 2003/10/08 15:57:01 marcm Exp $
--- config/gdm.conf.in.orig	Wed May 26 18:59:56 2004
+++ config/gdm.conf.in	Thu Jun 24 17:07:36 2004
a34 9
@@@@ -421,7 +421,7 @@@@ Enable=false
 # Definition of the standard X server.
 [server-Standard]
 name=Standard server
-command=@@X_SERVER@@ -audit 0
+command=@@X_SERVER@@ -audit 0 vt5
 flexible=true
 
 # To use this server type you should add -query host or -indirect host
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- config/gdm.conf.in.orig	2003-08-20 10:40:45.000000000 -0700
+++ config/gdm.conf.in	2003-08-20 21:04:36.000000000 -0700
@@@@ -68,8 +68,8 @@@@ TimedLoginDelay=30
d15 29
@


1.1.1.1
log
@GDM is the Gnome Display Manager.
@
text
@@
