head	1.21;
access;
symbols
	OPENBSD_6_0:1.21.0.4
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.21.0.2
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.19.0.6
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.19.0.2
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.16.0.4
	OPENBSD_5_6_BASE:1.16
	OPENBSD_5_5:1.16.0.2
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.15.0.2
	OPENBSD_5_4_BASE:1.15
	OPENBSD_4_2:1.8.0.10
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.8
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.8.0.6
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.8.0.4
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.8.0.2
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	todd_20030131:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.21
date	2015.12.02.09.24.44;	author ajacoutot;	state Exp;
branches;
next	1.20;
commitid	LWYBfS52HA0S6Cgn;

1.20
date	2015.08.12.06.19.22;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	wdNKoBg8Kd33uFxx;

1.19
date	2015.02.16.16.03.31;	author ajacoutot;	state Exp;
branches;
next	1.18;
commitid	LDvKPIL50UrD1rho;

1.18
date	2014.12.03.11.40.32;	author ajacoutot;	state Exp;
branches;
next	1.17;
commitid	MbW6PQpB3AjtdTvu;

1.17
date	2014.08.19.06.39.48;	author ajacoutot;	state Exp;
branches;
next	1.16;
commitid	CkJDAzRclWRhvPBl;

1.16
date	2013.10.15.07.40.42;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2013.04.05.08.21.45;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2013.04.05.07.32.15;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2012.12.28.09.54.47;	author ajacoutot;	state dead;
branches;
next	1.12;

1.12
date	2012.12.27.18.56.59;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2011.04.05.14.42.04;	author ajacoutot;	state dead;
branches;
next	1.10;

1.10
date	2011.04.04.06.26.03;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.19.13.09.54;	author martynas;	state dead;
branches;
next	1.8;

1.8
date	2005.05.26.03.39.31;	author marcm;	state Exp;
branches;
next	1.7;

1.7
date	2004.12.23.05.03.09;	author marcm;	state Exp;
branches;
next	1.6;

1.6
date	2004.06.23.03.26.17;	author marcm;	state Exp;
branches;
next	1.5;

1.5
date	2004.01.03.05.53.38;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.10.07.05.48.55;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.08.06.20.45.05;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.12.20.01.29;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.31.19.00.10;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.31.19.00.10;	author todd;	state Exp;
branches;
next	;


desc
@@


1.21
log
@Update to librsvg-2.40.12.
@
text
@$OpenBSD: patch-configure,v 1.20 2015/08/12 06:19:22 ajacoutot Exp $

https://bugzilla.gnome.org/show_bug.cgi?id=653323

--- configure.orig	Wed Dec  2 02:00:08 2015
+++ configure	Wed Dec  2 10:22:12 2015
@@@@ -13994,6 +13994,8 @@@@ fi
 
 GTK3_BINARY_VERSION=
 
+have_gtk_3=no
+
 if test "$have_gtk_3" = "yes"; then
     GTK3_BINARY_VERSION="`$PKG_CONFIG --variable=gtk_binary_version gtk+-3.0`"
 fi
@


1.20
log
@Update to librsvg-2.40.10.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.19 2015/02/16 16:03:31 ajacoutot Exp $
d5 3
a7 3
--- configure.orig	Fri Jul  3 01:38:49 2015
+++ configure	Sat Aug  8 11:56:13 2015
@@@@ -13939,6 +13939,8 @@@@ fi
@


1.19
log
@Update to librsvg-2.40.7.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.18 2014/12/03 11:40:32 ajacoutot Exp $
d5 3
a7 3
--- configure.orig	Fri Feb 13 21:53:47 2015
+++ configure	Mon Feb 16 16:59:08 2015
@@@@ -13930,6 +13930,8 @@@@ fi
@


1.18
log
@Update to librsvg-2.40.6.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.17 2014/08/19 06:39:48 ajacoutot Exp $
d5 3
a7 3
--- configure.orig	Wed Dec  3 10:31:54 2014
+++ configure	Wed Dec  3 11:45:56 2014
@@@@ -13977,6 +13977,8 @@@@ fi
@


1.17
log
@Update to librsvg-2.40.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.16 2013/10/15 07:40:42 ajacoutot Exp $
d5 3
a7 3
--- configure.orig	Wed Jun 18 19:54:56 2014
+++ configure	Tue Aug 19 08:21:32 2014
@@@@ -13836,6 +13836,8 @@@@ fi
@


1.16
log
@Update to librsvg-2.40.0.
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- configure.orig	Tue Oct 15 09:11:58 2013
+++ configure	Tue Oct 15 09:12:34 2013
@@@@ -13733,6 +13733,8 @@@@ fi
@


1.15
log
@Drop comment, no pkg change.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.14 2013/04/05 07:32:15 ajacoutot Exp $
d5 4
a8 4
--- configure.orig	Fri Apr  5 09:23:01 2013
+++ configure	Fri Apr  5 09:24:04 2013
@@@@ -13736,6 +13736,9 @@@@ fi
 GTK2_BINARY_VERSION=
a10 1
+have_gtk_2=no
d13 2
a14 2
 if test "$have_gtk_2" = "yes"; then
     GTK2_BINARY_VERSION="`$PKG_CONFIG --variable=gtk_binary_version gtk+-2.0`"
@


1.14
log
@Greatly simplify the way we disable gtk.
@
text
@d1 1
a1 1
$OpenBSD$
a3 3
(disable all gtk+ support; uneeded and would add a dep loop:
gnome-icon-theme-symbolic -> gnome-icon-theme -> librsvg -> gtk-doc
-> yelp -> webkit -> gtk+3 -> gnome-icon-theme-symbolic)
@


1.13
log
@Add some autohell goo to disable gtk support.
Enable vala bindings.
@
text
@d1 12
a12 6
$OpenBSD: patch-configure,v 1.12 2012/12/27 18:56:59 espie Exp $
--- configure.orig	Tue Oct 16 00:57:17 2012
+++ configure	Thu Dec 27 19:39:34 2012
@@@@ -13733,6 +13733,8 @@@@ $as_echo "yes" >&6; }
 	have_gtk_3=yes
 fi
d16 4
a19 3
 GTK2_BINARY_VERSION=
 GTK3_BINARY_VERSION=
 
@


1.12
log
@make darn sure we don't use gtk+2/gtk+3, as these CAN disappear during
build.

okay ajacoutot@@, hoping he gets time for a more permanent solution...
@
text
@d1 1
a1 1
$OpenBSD$
@


1.11
log
@Build with --disable-gtk-theme so that we don't have to depend on both
gtk+2 and gtk+3.
This removes the dependency on gtk+2 and gtk2-engines.

tested in a bulk by landry, thanks!
ok dcoppa@@
@
text
@d1 5
a5 5
$OpenBSD: patch-configure,v 1.10 2011/04/04 06:26:03 ajacoutot Exp $
--- configure.orig	Mon Apr  4 08:08:14 2011
+++ configure	Mon Apr  4 08:09:08 2011
@@@@ -13014,7 +13014,8 @@@@ fi
   fi
d8 1
a8 2
-
+# XXX force disable gtk+3
d10 2
a12 2
 
  if test "$enable_gtk_theme" = "yes"; then
@


1.10
log
@Bugfix update to librsvg-2.34.0.
Force disable gtk+3 support for now.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.9
log
@update to 2.18.1;  ok jasper@@
@
text
@d1 13
a13 12
$OpenBSD: patch-configure,v 1.8 2005/05/26 03:39:31 marcm Exp $
--- configure.orig	Tue Jan 18 17:14:43 2005
+++ configure	Thu Apr  7 22:26:32 2005
@@@@ -9222,7 +9222,7 @@@@ nto-qnx*)
 openbsd*)
   version_type=sunos
   need_lib_prefix=no
-  need_version=yes
+  need_version=no
   library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
   finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
   shlibpath_var=LD_LIBRARY_PATH
@


1.8
log
@Gnome 2.10.0/2.10.1
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.7 2004/12/23 05:03:09 marcm Exp $
@


1.7
log
@Unf**k the LIB_DEPENDS.  With 2.8 librsvg started picking up a whole lot
more GNOME than before.  And for added debugging fun, if you disable the
additional GNOME support - you still pick it up!

Regen the patches while I'm here.  Add better libtool patching.  Bump
package version.

Noticed by sturm@@ and wa1ter at myrealbox dot com
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.6 2004/06/23 03:26:17 marcm Exp $
--- configure.orig	Sun Sep 12 12:16:43 2004
+++ configure	Wed Dec 22 18:57:52 2004
@@@@ -9246,7 +9246,7 @@@@ nto-qnx*)
@


1.6
log
@Monster update to Gnome 2.6.  See, I am not slacking, really!

Change info on a Gnome mirror near you.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.5 2004/01/03 05:53:38 marcm Exp $
--- configure.orig	2004-04-30 22:59:38.000000000 -0600
+++ configure	2004-06-20 14:43:09.000000000 -0600
@@@@ -7984,7 +7984,7 @@@@ nto-qnx*)
@


1.5
log
@Despite the 2.5.0 version number, this is a bugfix update for 2.4 series.
@
text
@d1 12
a12 21
$OpenBSD$
--- configure.orig	2003-12-08 21:44:03.000000000 -0800
+++ configure	2003-12-08 21:44:34.000000000 -0800
@@@@ -5857,7 +5857,7 @@@@ else
     hardcode_direct=yes
     hardcode_shlibpath_var=no
     if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
-      archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
+      archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
       hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
       export_dynamic_flag_spec='${wl}-E'
     else
@@@@ -5867,7 +5867,7 @@@@ else
 	hardcode_libdir_flag_spec='-R$libdir'
         ;;
       *)
-        archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
+        archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
         hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
         ;;
       esac
@


1.4
log
@Update to Gnome 2.4.0.
Release notes available at: http://www.gnome.org/start/2.4/notes/

Please note that x11/gnome/bonobo-activation is now part of libbonobo
@
text
@d1 21
a21 84
$OpenBSD: patch-configure,v 1.2 2003/06/12 20:01:29 marcm Exp $
--- configure.orig	2003-09-08 05:35:23.000000000 -0700
+++ configure	2003-09-10 08:27:54.000000000 -0700
@@@@ -8793,21 +8793,21 @@@@ fi
 	gdk-pixbuf-2.0 >= $GDK_PIXBUF_REQUIRED \
 	glib-2.0 >= $GLIB_REQUIRED \
 	libart-2.0 >= $LIBART_REQUIRED \
-	libxml-2.0 >= $LIBXML_REQUIRED \
-	pangoft2 >= $PANGOFT2_REQUIRED" >&5
+	pangoft2 >= $PANGOFT2_REQUIRED \
+	libxml-2.0 >= $LIBXML_REQUIRED" >&5
 echo $ECHO_N "checking for \
 	gdk-pixbuf-2.0 >= $GDK_PIXBUF_REQUIRED \
 	glib-2.0 >= $GLIB_REQUIRED \
 	libart-2.0 >= $LIBART_REQUIRED \
-	libxml-2.0 >= $LIBXML_REQUIRED \
-	pangoft2 >= $PANGOFT2_REQUIRED... $ECHO_C" >&6
+	pangoft2 >= $PANGOFT2_REQUIRED \
+	libxml-2.0 >= $LIBXML_REQUIRED... $ECHO_C" >&6
 
         if $PKG_CONFIG --exists "\
 	gdk-pixbuf-2.0 >= $GDK_PIXBUF_REQUIRED \
 	glib-2.0 >= $GLIB_REQUIRED \
 	libart-2.0 >= $LIBART_REQUIRED \
-	libxml-2.0 >= $LIBXML_REQUIRED \
-	pangoft2 >= $PANGOFT2_REQUIRED" ; then
+	pangoft2 >= $PANGOFT2_REQUIRED \
+	libxml-2.0 >= $LIBXML_REQUIRED" ; then
             echo "$as_me:$LINENO: result: yes" >&5
 echo "${ECHO_T}yes" >&6
             succeeded=yes
@@@@ -8815,10 +8815,10 @@@@ echo "${ECHO_T}yes" >&6
             echo "$as_me:$LINENO: checking LIBRSVG_CFLAGS" >&5
 echo $ECHO_N "checking LIBRSVG_CFLAGS... $ECHO_C" >&6
             LIBRSVG_CFLAGS=`$PKG_CONFIG --cflags "\
+	libxml-2.0 >= $LIBXML_REQUIRED \
 	gdk-pixbuf-2.0 >= $GDK_PIXBUF_REQUIRED \
 	glib-2.0 >= $GLIB_REQUIRED \
 	libart-2.0 >= $LIBART_REQUIRED \
-	libxml-2.0 >= $LIBXML_REQUIRED \
 	pangoft2 >= $PANGOFT2_REQUIRED"`
             echo "$as_me:$LINENO: result: $LIBRSVG_CFLAGS" >&5
 echo "${ECHO_T}$LIBRSVG_CFLAGS" >&6
@@@@ -8829,8 +8829,8 @@@@ echo $ECHO_N "checking LIBRSVG_LIBS... $
 	gdk-pixbuf-2.0 >= $GDK_PIXBUF_REQUIRED \
 	glib-2.0 >= $GLIB_REQUIRED \
 	libart-2.0 >= $LIBART_REQUIRED \
-	libxml-2.0 >= $LIBXML_REQUIRED \
-	pangoft2 >= $PANGOFT2_REQUIRED"`
+	pangoft2 >= $PANGOFT2_REQUIRED \
+	libxml-2.0 >= $LIBXML_REQUIRED"`
             echo "$as_me:$LINENO: result: $LIBRSVG_LIBS" >&5
 echo "${ECHO_T}$LIBRSVG_LIBS" >&6
         else
@@@@ -8842,8 +8842,8 @@@@ echo "${ECHO_T}$LIBRSVG_LIBS" >&6
 	gdk-pixbuf-2.0 >= $GDK_PIXBUF_REQUIRED \
 	glib-2.0 >= $GLIB_REQUIRED \
 	libart-2.0 >= $LIBART_REQUIRED \
-	libxml-2.0 >= $LIBXML_REQUIRED \
-	pangoft2 >= $PANGOFT2_REQUIRED"`
+	pangoft2 >= $PANGOFT2_REQUIRED \
+	libxml-2.0 >= $LIBXML_REQUIRED"`
             echo $LIBRSVG_PKG_ERRORS
         fi
 
@@@@ -8862,14 +8862,14 @@@@ echo "${ECHO_T}$LIBRSVG_LIBS" >&6
 	gdk-pixbuf-2.0 >= $GDK_PIXBUF_REQUIRED \
 	glib-2.0 >= $GLIB_REQUIRED \
 	libart-2.0 >= $LIBART_REQUIRED \
-	libxml-2.0 >= $LIBXML_REQUIRED \
-	pangoft2 >= $PANGOFT2_REQUIRED) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them." >&5
+	pangoft2 >= $PANGOFT2_REQUIRED \
+	libxml-2.0 >= $LIBXML_REQUIRED) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them." >&5
 echo "$as_me: error: Library requirements (\
 	gdk-pixbuf-2.0 >= $GDK_PIXBUF_REQUIRED \
 	glib-2.0 >= $GLIB_REQUIRED \
 	libart-2.0 >= $LIBART_REQUIRED \
-	libxml-2.0 >= $LIBXML_REQUIRED \
-	pangoft2 >= $PANGOFT2_REQUIRED) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them." >&2;}
+	pangoft2 >= $PANGOFT2_REQUIRED \
+	libxml-2.0 >= $LIBXML_REQUIRED) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them." >&2;}
    { (exit 1); exit 1; }; }
   fi
 
@


1.3
log
@Update to GNOME 2.2.2.
@
text
@d2 3
a4 25
--- configure.orig	2003-03-18 08:23:59.000000000 -0800
+++ configure	2003-07-31 21:30:12.000000000 -0700
@@@@ -5856,8 +5856,8 @@@@ else
     hardcode_direct=yes
     hardcode_shlibpath_var=no
     if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
-      archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
-      hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+      archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
+      hardcode_libdir_flag_spec='${wl}-R$libdir'
       export_dynamic_flag_spec='${wl}-E'
     else
       case "$host_os" in
@@@@ -5866,8 +5866,8 @@@@ else
 	hardcode_libdir_flag_spec='-R$libdir'
         ;;
       *)
-        archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
-        hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+        archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
+        hardcode_libdir_flag_spec='${wl}-R$libdir'
         ;;
       esac
     fi
@@@@ -8212,21 +8212,21 @@@@ fi
d32 1
a32 1
@@@@ -8234,10 +8234,10 @@@@ echo "${ECHO_T}yes" >&6
d44 1
a44 1
@@@@ -8248,8 +8248,8 @@@@ echo $ECHO_N "checking LIBRSVG_LIBS... $
d55 1
a55 1
@@@@ -8261,8 +8261,8 @@@@ echo "${ECHO_T}$LIBRSVG_LIBS" >&6
d66 1
a66 1
@@@@ -8281,14 +8281,14 @@@@ echo "${ECHO_T}$LIBRSVG_LIBS" >&6
@


1.2
log
@Update to 2.2.4 for Gnome 2.2.1.

ok jolan@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.1.1.1 2003/01/31 19:00:10 todd Exp $
--- configure.orig	Mon Mar 10 11:24:24 2003
+++ configure	Mon May 12 11:12:55 2003
@@@@ -5855,8 +5855,8 @@@@ else
d15 1
a15 1
@@@@ -5865,8 +5865,8 @@@@ else
d26 1
a26 1
@@@@ -8292,21 +8292,21 @@@@ fi
d54 1
a54 1
@@@@ -8314,10 +8314,10 @@@@ echo "${ECHO_T}yes" >&6
d66 1
a66 1
@@@@ -8328,8 +8328,8 @@@@ echo $ECHO_N "checking LIBRSVG_LIBS... $
d77 1
a77 1
@@@@ -8341,8 +8341,8 @@@@ echo "${ECHO_T}$LIBRSVG_LIBS" >&6
d88 1
a88 1
@@@@ -8361,14 +8361,14 @@@@ echo "${ECHO_T}$LIBRSVG_LIBS" >&6
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.orig	Mon Jul 22 11:20:16 2002
+++ configure	Fri Dec 27 01:48:27 2002
@@@@ -5109,8 +5109,8 @@@@ else
d15 1
a15 1
@@@@ -5119,8 +5119,8 @@@@ else
d26 1
a26 1
@@@@ -7339,21 +7339,21 @@@@ fi
d51 1
a51 1
             echo "$as_me:7357: result: yes" >&5
d54 2
a55 2
@@@@ -7361,10 +7361,10 @@@@ echo "${ECHO_T}yes" >&6
             echo "$as_me:7361: checking LIBRSVG_CFLAGS" >&5
d64 1
a64 1
             echo "$as_me:7369: result: $LIBRSVG_CFLAGS" >&5
d66 1
a66 1
@@@@ -7375,8 +7375,8 @@@@ echo $ECHO_N "checking LIBRSVG_LIBS... $
d74 1
a74 1
             echo "$as_me:7380: result: $LIBRSVG_LIBS" >&5
d77 1
a77 1
@@@@ -7388,8 +7388,8 @@@@ echo "${ECHO_T}$LIBRSVG_LIBS" >&6
d88 1
a88 1
@@@@ -7406,14 +7406,14 @@@@ echo "${ECHO_T}$LIBRSVG_LIBS" >&6
@


1.1.1.1
log
@Import librsvg-2.0.1
--
The librsvg library is a lightweight library for parsing and rendering
vector-graphic files in SVG format (like the ones made by sodipodi). It also
includes functions that render anti-aliased fonts using freetype, including
caching of glyphs. It's used by Nautilus for drawing vector icons and
anti-aliased type.

From marcm for gnome2
@
text
@@
