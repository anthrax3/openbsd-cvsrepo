head	1.2;
access;
symbols
	OPENBSD_5_4:1.1.0.2
	OPENBSD_5_4_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2013.10.15.07.40.43;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2013.03.30.20.07.23;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to librsvg-2.40.0.
@
text
@$OpenBSD: patch-gdk-pixbuf-loader_io-svg_c,v 1.1 2013/03/30 20:07:23 ajacoutot Exp $

From 4e1b6d2bb7779ad3c61a532905a88cf7a662df5e Mon Sep 17 00:00:00 2001
From: Matthias Clasen <mclasen@@redhat.com>
Date: Thu, 03 Jan 2013 13:13:56 +0000
Subject: Mark the pixbuf loader as thread-safe

--- gdk-pixbuf-loader/io-svg.c.orig	Sat Mar 30 21:02:36 2013
+++ gdk-pixbuf-loader/io-svg.c	Sat Mar 30 21:02:59 2013
@@@@ -256,6 +256,6 @@@@ fill_info (GdkPixbufFormat *info)
         info->description = _("Scalable Vector Graphics");
         info->mime_types  = mime_types;
         info->extensions  = extensions;
-        info->flags       = GDK_PIXBUF_FORMAT_SCALABLE;
+        info->flags       = GDK_PIXBUF_FORMAT_SCALABLE | GDK_PIXBUF_FORMAT_THREADSAFE;
         info->license     = "LGPL";
 }
@


1.1
log
@Bring a couple of patches from upstream:
* Mark the pixbuf loader as thread-safe
gdk-pixbuf 2.28 will ignore loaders that are not marked as thread-safe.
* Fix typo, AM_CFLASG -> AM_CFLAGS

Regen WANTLIB while here.
@
text
@d1 1
a1 1
$OpenBSD$
@

