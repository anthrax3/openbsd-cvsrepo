head	1.32;
access;
symbols
	OPENBSD_6_1:1.31.0.2
	OPENBSD_6_1_BASE:1.31
	OPENBSD_6_0:1.26.0.2
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.24.0.2
	OPENBSD_5_9_BASE:1.24
	OPENBSD_5_8:1.20.0.4
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.14.0.2
	OPENBSD_5_7_BASE:1.14
	OPENBSD_5_6:1.10.0.2
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	ajacoutot_20100926:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.32
date	2017.04.13.07.38.45;	author ajacoutot;	state Exp;
branches;
next	1.31;
commitid	lvCz8KVE6EBCyLTt;

1.31
date	2016.11.08.08.50.21;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	Hn9BMFtcB8FbdKLO;

1.30
date	2016.10.31.11.55.52;	author ajacoutot;	state Exp;
branches;
next	1.29;
commitid	G6lemwBR1MXTCrEC;

1.29
date	2016.09.07.12.18.58;	author ajacoutot;	state Exp;
branches;
next	1.28;
commitid	Bq4TdSoqwK9GwWUD;

1.28
date	2016.08.23.07.43.50;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	6iQtIoqIILfsVgdm;

1.27
date	2016.07.31.06.15.57;	author ajacoutot;	state Exp;
branches;
next	1.26;
commitid	rVI8rf88ZIFhWKuc;

1.26
date	2016.07.13.07.48.42;	author ajacoutot;	state Exp;
branches;
next	1.25;
commitid	hewOEDRBrj6aSsHF;

1.25
date	2016.04.25.18.49.11;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	VNxONdC1xRSYySdW;

1.24
date	2015.11.10.06.58.25;	author ajacoutot;	state Exp;
branches;
next	1.23;
commitid	XAZz3nAobrtagwPq;

1.23
date	2015.10.11.08.15.00;	author ajacoutot;	state Exp;
branches;
next	1.22;
commitid	i648wF5OQRyZ888Q;

1.22
date	2015.10.05.06.00.48;	author ajacoutot;	state Exp;
branches;
next	1.21;
commitid	knzonjEexXRbZ52g;

1.21
date	2015.09.24.10.39.32;	author ajacoutot;	state Exp;
branches;
next	1.20;
commitid	g92BchHVbJTfQlSi;

1.20
date	2015.05.12.22.35.18;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	RHBt1AsKlbTCBYzO;

1.19
date	2015.04.15.09.40.53;	author ajacoutot;	state Exp;
branches;
next	1.18;
commitid	dfR1rb9OtImYnGFF;

1.18
date	2015.04.14.05.50.08;	author ajacoutot;	state Exp;
branches;
next	1.17;
commitid	y3hc5Md7cTyiLnjh;

1.17
date	2015.04.04.09.21.07;	author ajacoutot;	state Exp;
branches;
next	1.16;
commitid	kS3kwKZogsvzYmEY;

1.16
date	2015.04.03.16.27.28;	author ajacoutot;	state Exp;
branches;
next	1.15;
commitid	C33yUqIRQ72IpycP;

1.15
date	2015.03.27.08.16.17;	author ajacoutot;	state Exp;
branches;
next	1.14;
commitid	BUhOiEl2FUSRKwq7;

1.14
date	2014.11.13.17.28.27;	author ajacoutot;	state Exp;
branches;
next	1.13;
commitid	NWORquIGcdGeNlAv;

1.13
date	2014.10.13.15.33.53;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	qr9LtuyNtgLiEjLL;

1.12
date	2014.10.10.18.18.21;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	93FRjk4OdOJGS2I8;

1.11
date	2014.10.06.09.16.17;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	Nt8VyPNLFA6foy2O;

1.10
date	2014.05.13.14.00.44;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2014.05.13.06.27.40;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2014.04.15.06.20.53;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2014.04.02.09.36.13;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2014.04.01.18.38.53;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2014.03.27.15.42.26;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2013.11.13.13.37.29;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2013.09.28.08.51.24;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2013.09.26.17.21.13;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.09.26.15.49.33;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.09.26.15.49.33;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.32
log
@Stop setting CONFIGURE_STYLE in Makefile.inc but explicitely add it to ports
that need it; in the future more and more ports will move to meson build anyway.
I first though I'd set CONFIGURE_STYLE in gnome.port.mk but it's too fragile
(MODULES list must be sorted very carefully).
Less magic is good.

discussed with jasper@@
@
text
@# $OpenBSD: Makefile,v 1.31 2016/11/08 08:50:21 ajacoutot Exp $

COMMENT=		map application for GNOME

GNOME_PROJECT=		gnome-maps
GNOME_VERSION=		3.22.2

SHARED_LIBS +=  gnome-maps                0.0 # 0.0

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += EGL X11 X11-xcb Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 cairo cairo-gobject
WANTLIB += champlain-0.12 clutter-1.0 cogl cogl-pango cogl-path
WANTLIB += drm epoxy expat ffi folks fontconfig freetype gbm gdk-3
WANTLIB += gdk_pixbuf-2.0 gee-0.8 geocode-glib gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 graphite2 gthread-2.0 harfbuzz
WANTLIB += iconv intl json-glib-1.0 lzma m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += rest-0.7 soup-2.4 soup-gnome-2.4 sqlite3 xcb xcb-dri2
WANTLIB += xcb-render xcb-shm xcb-xfixes xml2 z

MODULES=		devel/dconf \
			x11/gnome

MODGNOME_TOOLS=		desktop-file-utils gobject-introspection \
			gtk-update-icon-cache

LIB_DEPENDS=		geo/geocode-glib \
			geo/libchamplain \
			net/telepathy/folks

BUILD_DEPENDS +=	geo/geoclue2 \
			x11/gnome/gjs
RUN_DEPENDS +=		geo/geoclue2 \
			x11/gnome/gjs

CONFIGURE_STYLE=	gnu

.include <bsd.port.mk>
@


1.31
log
@Update to gnome-maps-3.22.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/10/31 11:55:52 ajacoutot Exp $
d38 2
@


1.30
log
@Update to gnome-maps-3.22.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/09/07 12:18:58 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.22.1
@


1.29
log
@Update to gnome-maps-3.20.3.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2016/08/23 07:43:50 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.20.3.1
d31 1
a31 1
			geo/libchamplain>=0.12.14 \
@


1.28
log
@Update to gnome-maps-3.20.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2016/07/31 06:15:57 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.20.3
d22 1
a22 1
WANTLIB += xcb-render xcb-shape xcb-shm xcb-xfixes xml2 z
d31 1
a31 1
			geo/libchamplain \
@


1.27
log
@Update to gnome-maps-3.20.2 and unbreak: now uses the Mapbox API instead of
MapQuest.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2016/07/13 07:48:42 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.20.2
@


1.26
log
@Set gnome-maps as BROKEN; MapQuest changed its usage policy and it's not longer
possible to use it as a tile provider, making the application totally useless.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.25 2016/04/25 18:49:11 ajacoutot Exp $

BROKEN=			https://bugzilla.gnome.org/show_bug.cgi?id=764841
d6 1
a6 1
GNOME_VERSION=		3.20.1
@


1.25
log
@Update to gnome-maps-3.20.1.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.24 2015/11/10 06:58:25 ajacoutot Exp $
@


1.24
log
@Update to gnome-maps-3.18.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/10/11 08:15:00 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.18.2
d13 7
a19 7
WANTLIB += EGL X11 X11-xcb Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender atk-1.0 cairo
WANTLIB += cairo-gobject champlain-0.12 clutter-1.0 cogl cogl-pango
WANTLIB += cogl-path drm epoxy expat ffi folks fontconfig freetype
WANTLIB += gbm gdk-3 gdk_pixbuf-2.0 gee-0.8 geocode-glib gio-2.0
WANTLIB += glapi glib-2.0 gmodule-2.0 gobject-2.0 graphite2 gthread-2.0
WANTLIB += harfbuzz json-glib-1.0 lzma m pango-1.0 pangocairo-1.0
d21 2
a22 2
WANTLIB += soup-2.4 sqlite3 xcb xcb-dri2 xcb-render xcb-shape
WANTLIB += xcb-shm xcb-xfixes xml2 z
a24 1
			devel/gettext \
@


1.23
log
@Update to gnome-maps-3.18.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/10/05 06:00:48 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.18.1
@


1.22
log
@Update to gnome-maps-3.18.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/09/24 10:39:32 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.18.0.1
@


1.21
log
@Unbreak the build with new GLib (from upstream):
- Do not use intltool to translate GSettings schema
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/05/12 22:35:18 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.16.2
REVISION=		0
a34 1
# loads JS from an included GResource
a38 12

# patch-*
AUTOCONF_VERSION=	2.68
AUTOMAKE_VERSION=	1.15
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/libtool
pre-configure:
	cd ${WRKSRC} && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		autoreconf -fi
@


1.20
log
@Update to gnome-maps-3.16.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/04/15 09:40:53 ajacoutot Exp $
d7 1
d41 12
@


1.19
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/04/14 05:50:08 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.16.1
REVISION=		0
@


1.18
log
@Update to gnome-maps-3.16.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/04/04 09:21:07 ajacoutot Exp $
d7 1
@


1.17
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2015/04/03 16:27:28 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.16.0
REVISION=		0
@


1.16
log
@Update to gnome-maps-3.16.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/03/27 08:16:17 ajacoutot Exp $
d7 1
@


1.15
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/11/13 17:28:27 ajacoutot Exp $
d6 3
a8 2
GNOME_VERSION=		3.14.2
REVISION=		0
d13 7
a19 6
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += c cairo cairo-gobject dbus-1 expat ffi fontconfig freetype
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0 gjs glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 graphite2 gthread-2.0 gtk-3
WANTLIB += harfbuzz m mozjs-24 ncursesw pango-1.0 pangocairo-1.0
d21 2
a22 7
WANTLIB += readline xcb xcb-render xcb-shm z

MODULES=		x11/gnome \
			devel/dconf \
			devel/gettext

MODGNOME_TOOLS=		desktop-file-utils gtk-update-icon-cache
d24 10
a33 1
LIB_DEPENDS=		x11/gnome/gjs
d36 4
a39 3
RUN_DEPENDS=		geo/geocode-glib \
			geo/geoclue2 \
			geo/libchamplain
@


1.14
log
@Update to gnome-maps-3.14.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2014/10/13 15:33:53 ajacoutot Exp $
d7 1
@


1.13
log
@Update to gnome-maps-3.14.1.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/10/10 18:18:21 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.1.2
@


1.12
log
@Update to gnome-maps-3.14.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2014/10/06 09:16:17 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.1
@


1.11
log
@Update to gnome-maps-3.14.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2014/05/13 14:00:44 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.0
@


1.10
log
@Use the devel/gettext MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2014/05/13 06:27:40 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.12.2
REVISION=		0
@


1.9
log
@Update to gnome-maps-3.12.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2014/04/15 06:20:53 ajacoutot Exp $
d7 1
d17 1
a17 1
WANTLIB += harfbuzz iconv intl m mozjs-24 ncursesw pango-1.0 pangocairo-1.0
d22 2
a23 1
			devel/dconf
d25 1
a25 1
MODGNOME_TOOLS += desktop-file-utils gtk-update-icon-cache
@


1.8
log
@Update to gnome-maps-3.12.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2014/04/02 09:36:13 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.12.1
@


1.7
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2014/04/01 18:38:53 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.12.0
@


1.6
log
@switch over port to MODGNOME_TOOLS that didnt have it yet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/03/27 15:42:26 ajacoutot Exp $
d23 1
a23 1
MODGNOME_TOOLS=		desktop-file-utils gtk-update-icon-cache
@


1.5
log
@Update to gnome-maps-3.12.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/11/13 13:37:29 ajacoutot Exp $
d23 1
a23 2
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
@


1.4
log
@Update to gnome-maps-3.10.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/09/28 08:51:24 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.10.2
d11 9
d26 1
a26 1
BUILD_DEPENDS=		x11/gnome/gjs
d28 2
a29 2
RUN_DEPENDS=		devel/py-gobject3 \
			geo/geocode-glib \
d31 1
a31 3
			geo/libchamplain \
			graphics/clutter/clutter-gtk \
			x11/gnome/gjs
@


1.3
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/09/26 17:21:13 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.10.0
REVISION=		0
@


1.2
log
@No need for gi.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/09/26 15:49:33 ajacoutot Exp $
d7 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/09/26 08:05:30 ajacoutot Exp $
a13 1
MODGNOME_TOOLS=		gi
@


1.1.1.1
log
@Import gnome-maps-3.10.0.

Maps is a map application for GNOME.

ok jasper@@
@
text
@@
