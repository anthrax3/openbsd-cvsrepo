head	1.149;
access;
symbols
	OPENBSD_5_7:1.144.0.2
	OPENBSD_5_7_BASE:1.144
	OPENBSD_5_6:1.135.0.2
	OPENBSD_5_6_BASE:1.135
	OPENBSD_5_5:1.120.0.2
	OPENBSD_5_5_BASE:1.120
	OPENBSD_5_4:1.107.0.2
	OPENBSD_5_4_BASE:1.107
	OPENBSD_5_3:1.83.0.2
	OPENBSD_5_3_BASE:1.83
	OPENBSD_5_2:1.69.0.2
	OPENBSD_5_2_BASE:1.69
	OPENBSD_5_1_BASE:1.56
	OPENBSD_5_1:1.56.0.2
	ajacoutot_20110912:1.1.1.2
	ajacoutot:1.1.1
	OPENBSD_4_1:1.25.0.6
	OPENBSD_4_1_BASE:1.25
	OPENBSD_4_0:1.25.0.4
	OPENBSD_4_0_BASE:1.25
	OPENBSD_3_9:1.25.0.2
	OPENBSD_3_9_BASE:1.25
	OPENBSD_3_8:1.22.0.4
	OPENBSD_3_8_BASE:1.22
	OPENBSD_3_7:1.22.0.2
	OPENBSD_3_7_BASE:1.22
	OPENBSD_3_6:1.21.0.6
	OPENBSD_3_6_BASE:1.21
	OPENBSD_3_5:1.21.0.4
	OPENBSD_3_5_BASE:1.21
	OPENBSD_3_4:1.21.0.2
	OPENBSD_3_4_BASE:1.21
	OPENBSD_3_3:1.20.0.2
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.18.0.2
	OPENBSD_3_2_BASE:1.18
	OPENBSD_3_1:1.15.0.2
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.11.0.2
	OPENBSD_3_0_BASE:1.11
	controlcenter-1_4_0_1:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.149
date	2015.04.03.11.45.46;	author ajacoutot;	state dead;
branches;
next	1.148;
commitid	OF1FUg33manwmeG3;

1.148
date	2015.04.03.11.42.41;	author ajacoutot;	state Exp;
branches;
next	1.147;
commitid	dGrJpdq11U5BfWU0;

1.147
date	2015.03.27.08.16.16;	author ajacoutot;	state Exp;
branches;
next	1.146;
commitid	BUhOiEl2FUSRKwq7;

1.146
date	2015.03.20.15.52.03;	author ajacoutot;	state Exp;
branches;
next	1.145;
commitid	VMmzkQ6rN5IzZgCC;

1.145
date	2015.03.15.08.35.12;	author ajacoutot;	state Exp;
branches;
next	1.144;
commitid	G3OxwFaj4YDFeXzv;

1.144
date	2014.12.09.15.55.45;	author ajacoutot;	state Exp;
branches;
next	1.143;
commitid	efgd0QjDlvrQ0eJk;

1.143
date	2014.11.13.17.32.17;	author ajacoutot;	state Exp;
branches;
next	1.142;
commitid	a8DqHiPzvYoX2H2i;

1.142
date	2014.11.01.18.35.35;	author ajacoutot;	state Exp;
branches;
next	1.141;
commitid	zc37YjXUKTHzJSru;

1.141
date	2014.10.29.14.48.05;	author ajacoutot;	state Exp;
branches;
next	1.140;
commitid	vtJsHaxm2ySoKONP;

1.140
date	2014.10.25.14.04.30;	author ajacoutot;	state Exp;
branches;
next	1.139;
commitid	tLDVzbWImuJ4KXc8;

1.139
date	2014.10.14.15.52.38;	author ajacoutot;	state Exp;
branches;
next	1.138;
commitid	1GgzcdQ0PJHKaUFa;

1.138
date	2014.10.14.08.40.28;	author ajacoutot;	state Exp;
branches;
next	1.137;
commitid	wRHAqHCTJ5hJdKF8;

1.137
date	2014.10.06.08.27.34;	author ajacoutot;	state Exp;
branches;
next	1.136;
commitid	VhPh8bykLi1uau0u;

1.136
date	2014.08.15.09.27.28;	author ajacoutot;	state Exp;
branches;
next	1.135;
commitid	alNq7rhYD9oVmsnj;

1.135
date	2014.04.25.09.58.30;	author ajacoutot;	state Exp;
branches;
next	1.134;

1.134
date	2014.04.24.13.19.39;	author ajacoutot;	state Exp;
branches;
next	1.133;

1.133
date	2014.04.21.15.07.52;	author ajacoutot;	state Exp;
branches;
next	1.132;

1.132
date	2014.04.16.14.33.48;	author ajacoutot;	state Exp;
branches;
next	1.131;

1.131
date	2014.04.11.19.12.10;	author ajacoutot;	state Exp;
branches;
next	1.130;

1.130
date	2014.04.08.15.24.00;	author ajacoutot;	state Exp;
branches;
next	1.129;

1.129
date	2014.04.02.09.36.12;	author jasper;	state Exp;
branches;
next	1.128;

1.128
date	2014.04.01.18.06.30;	author jasper;	state Exp;
branches;
next	1.127;

1.127
date	2014.04.01.17.03.14;	author jasper;	state Exp;
branches;
next	1.126;

1.126
date	2014.04.01.13.21.46;	author ajacoutot;	state Exp;
branches;
next	1.125;

1.125
date	2014.03.28.09.30.34;	author ajacoutot;	state Exp;
branches;
next	1.124;

1.124
date	2014.03.28.08.48.41;	author ajacoutot;	state Exp;
branches;
next	1.123;

1.123
date	2014.03.27.12.41.07;	author ajacoutot;	state Exp;
branches;
next	1.122;

1.122
date	2014.03.16.08.55.30;	author ajacoutot;	state Exp;
branches;
next	1.121;

1.121
date	2014.03.09.21.59.33;	author ajacoutot;	state Exp;
branches;
next	1.120;

1.120
date	2014.02.09.08.48.33;	author ajacoutot;	state Exp;
branches;
next	1.119;

1.119
date	2014.02.04.14.49.53;	author ajacoutot;	state Exp;
branches;
next	1.118;

1.118
date	2014.02.03.18.23.54;	author ajacoutot;	state Exp;
branches;
next	1.117;

1.117
date	2013.11.13.07.24.52;	author ajacoutot;	state Exp;
branches;
next	1.116;

1.116
date	2013.10.31.17.54.06;	author ajacoutot;	state Exp;
branches;
next	1.115;

1.115
date	2013.10.17.17.20.52;	author stsp;	state Exp;
branches;
next	1.114;

1.114
date	2013.10.06.09.08.54;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2013.09.28.08.51.13;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2013.09.26.17.14.16;	author ajacoutot;	state Exp;
branches;
next	1.111;

1.111
date	2013.09.26.12.48.02;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2013.09.24.18.53.30;	author ajacoutot;	state Exp;
branches;
next	1.109;

1.109
date	2013.09.13.14.12.52;	author ajacoutot;	state Exp;
branches;
next	1.108;

1.108
date	2013.08.06.19.09.09;	author ajacoutot;	state Exp;
branches;
next	1.107;

1.107
date	2013.06.20.06.54.37;	author ajacoutot;	state Exp;
branches;
next	1.106;

1.106
date	2013.06.18.07.11.27;	author ajacoutot;	state Exp;
branches;
next	1.105;

1.105
date	2013.06.17.19.31.32;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2013.06.09.15.26.50;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2013.06.09.13.55.51;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2013.06.08.11.53.53;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2013.06.04.15.32.15;	author ajacoutot;	state Exp;
branches;
next	1.100;

1.100
date	2013.05.31.15.35.00;	author ajacoutot;	state Exp;
branches;
next	1.99;

1.99
date	2013.05.14.12.26.00;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2013.05.08.09.03.41;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2013.04.28.07.08.42;	author ajacoutot;	state Exp;
branches;
next	1.96;

1.96
date	2013.04.17.10.13.19;	author jasper;	state Exp;
branches;
next	1.95;

1.95
date	2013.04.16.12.16.21;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2013.04.13.09.14.06;	author landry;	state Exp;
branches;
next	1.93;

1.93
date	2013.04.10.09.40.59;	author ajacoutot;	state Exp;
branches;
next	1.92;

1.92
date	2013.04.06.08.16.53;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2013.03.31.16.00.19;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2013.03.31.06.37.50;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2013.03.30.13.03.45;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2013.03.29.19.21.30;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2013.03.29.18.18.43;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2013.03.26.17.08.19;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2013.03.11.11.46.10;	author espie;	state Exp;
branches;
next	1.84;

1.84
date	2013.03.08.07.01.51;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2013.01.18.07.31.15;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2013.01.05.12.53.09;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2013.01.01.14.23.25;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2012.11.14.14.35.38;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2012.10.22.14.44.22;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2012.10.17.11.49.37;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2012.10.15.12.13.52;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2012.10.08.17.19.42;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2012.10.05.11.25.54;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2012.10.02.20.51.18;	author sthen;	state Exp;
branches;
next	1.73;

1.73
date	2012.09.28.09.40.30;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2012.09.28.09.34.33;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2012.08.04.15.35.09;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2012.08.04.14.49.51;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2012.07.08.11.19.23;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2012.06.18.11.30.50;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2012.06.15.08.30.19;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2012.05.28.15.55.12;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2012.05.24.07.58.20;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2012.05.15.14.31.18;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2012.05.14.17.46.22;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2012.04.17.11.02.32;	author jasper;	state Exp;
branches;
next	1.61;

1.61
date	2012.04.07.10.25.55;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2012.04.05.08.07.21;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2012.03.29.06.57.02;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2012.03.19.11.09.10;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2012.02.16.22.25.47;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2011.12.03.22.17.15;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2011.11.14.13.28.04;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2011.11.13.10.28.19;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2011.11.09.09.01.59;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2011.11.07.12.38.33;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2011.11.06.17.37.12;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2011.11.06.09.00.31;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2011.11.05.14.07.43;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2011.11.02.17.48.29;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2011.11.02.16.43.00;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2011.10.29.08.12.33;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2011.10.18.14.53.25;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2011.10.17.15.33.28;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2011.10.11.09.35.31;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2011.10.03.13.49.32;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2011.10.03.12.11.30;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2011.10.02.13.31.33;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2011.09.28.09.47.46;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2011.09.27.17.17.37;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2011.09.27.12.15.23;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2011.09.26.07.33.25;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2011.09.25.12.53.55;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2011.09.25.12.47.49;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2011.09.20.21.10.00;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2011.09.20.20.52.45;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2011.09.19.07.44.58;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2011.09.13.06.39.11;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2011.09.12.12.04.16;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2011.09.12.07.33.03;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2007.06.01.15.28.06;	author jasper;	state dead;
branches;
next	1.26;

1.26
date	2007.05.30.09.56.29;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2006.02.12.01.22.00;	author steven;	state Exp;
branches;
next	1.24;

1.24
date	2006.01.10.05.45.54;	author bernd;	state Exp;
branches;
next	1.23;

1.23
date	2005.09.05.20.05.02;	author marcm;	state Exp;
branches;
next	1.22;

1.22
date	2004.12.15.13.57.56;	author alek;	state Exp;
branches;
next	1.21;

1.21
date	2003.07.12.06.27.12;	author marcm;	state Exp;
branches;
next	1.20;

1.20
date	2003.01.02.03.37.19;	author marcm;	state Exp;
branches;
next	1.19;

1.19
date	2002.11.30.04.51.38;	author marcm;	state Exp;
branches;
next	1.18;

1.18
date	2002.09.20.08.15.16;	author nino;	state Exp;
branches;
next	1.17;

1.17
date	2002.05.31.10.15.40;	author nino;	state Exp;
branches;
next	1.16;

1.16
date	2002.05.15.18.05.19;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2002.03.23.06.24.49;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2002.03.02.15.45.50;	author nino;	state Exp;
branches;
next	1.13;

1.13
date	2002.02.15.19.17.54;	author nino;	state Exp;
branches;
next	1.12;

1.12
date	2001.11.30.09.18.42;	author wilfried;	state Exp;
branches;
next	1.11;

1.11
date	2001.10.17.13.17.00;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2001.10.16.17.01.44;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2001.10.09.16.28.44;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2001.10.07.20.55.11;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2001.09.20.18.53.54;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2001.09.20.18.39.13;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2001.09.20.01.32.03;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.19.11.43.53;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2001.09.18.20.28.53;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.14.14.41.30;	author todd;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.13.21.38.02;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.09.13.21.38.02;	author todd;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2011.09.12.07.29.31;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.149
log
@controlcenter -> control-center to match the package name.

discussed with jasper@@
not bumping the 2 dependent ports because they are part of the GNOME 3.16
update in progress.
@
text
@# $OpenBSD: Makefile,v 1.148 2015/04/03 11:42:41 ajacoutot Exp $

# XXX remove hostnames-test.txt hack in pre-configure when updating to 3.12.0
# https://git.gnome.org/browse/gnome-control-center/commit/?id=4736b03ed9e2ae9214117454f70811dbacd78739

# XXX change proxy settings without network-manager?

SHARED_ONLY=		Yes

COMMENT=		GNOME control center

GNOME_PROJECT=		gnome-control-center
GNOME_VERSION=		3.16.0

CATEGORIES=		x11

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += EGL FLAC GL ICE SM X11 X11-xcb Xau Xcomposite Xcursor
WANTLIB += Xdamage Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xtst
WANTLIB += accountsservice atk-1.0 atk-bridge-2.0 atspi avahi-common
WANTLIB += c cairo cairo-gobject canberra canberra-gtk3 colord
WANTLIB += colord-gtk colordprivate com_err crack crypto cups
WANTLIB += dbus-1 dbus-glib-1 enchant epoxy execinfo expat ffi
WANTLIB += fontconfig freetype gbm gcrypt gdbm gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gmp gnome-desktop-3 goa-1.0
WANTLIB += goa-backend-1.0 gobject-2.0 gpg-error graphite2 grilo-0.2
WANTLIB += gstapp-1.0 gstaudio-1.0 gstbase-1.0 gstfft-1.0 gstpbutils-1.0
WANTLIB += gstreamer-1.0 gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3
WANTLIB += gtop-2.0 harfbuzz harfbuzz-icu hogweed ibus-1.0 icudata
WANTLIB += icui18n icuuc javascriptcoregtk-3.0 jpeg json-c json-glib-1.0
WANTLIB += kvm lcms2 ltdl lzma m nettle ogg orc-0.4 p11-kit pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png polkit-gobject-1
WANTLIB += pthread pthread-stubs pulse pulse-mainloop-glib pwquality
WANTLIB += rest-0.7 secret-1 smbclient sndfile soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 stdc++ tasn1 telepathy-glib upower-glib vorbis
WANTLIB += vorbisenc vorbisfile webkitgtk-3.0 webp xcb xcb-render
WANTLIB += xcb-shm xml2 xslt z
WANTLIB += heimdal/lib/heimsqlite

MODULES=		devel/gettext \
			security/heimdal \
			x11/gnome

LIB_DEPENDS=		audio/pulseaudio \
			audio/libcanberra,-gtk3 \
			devel/libgtop2 \
			graphics/colord-gtk \
			net/samba \
			print/cups,-libs \
			security/libpwquality \
			sysutils/accountsservice \
			sysutils/upower \
			x11/gnome/desktop \
			x11/gnome/grilo \
			x11/gnome/online-accounts

BUILD_DEPENDS=		x11/gnome/settings-daemon \
			devel/iso-codes \
			devel/gsettings-desktop-schemas

RUN_DEPENDS=		x11/gnome/settings-daemon \
			devel/iso-codes \
			devel/gsettings-desktop-schemas

# NOTE that a11y dependencies (e.g. mousetweaks, caribou...) are not
# enforced on purpose.

# polkit(8) almost always needs to know the "active" session
RUN_DEPENDS +=	sysutils/consolekit

# needed for gnome-color-panel
RUN_DEPENDS +=		x11/gnome/color-manager

# needed for gnome-power-panel+gnome-screen-panel
RUN_DEPENDS +=		x11/gnome/power-manager

# needed for gnome-printers-panel
RUN_DEPENDS +=		print/cups-pk-helper

# gkbd-keyboard-display
RUN_DEPENDS +=		x11/gnome/libgnomekbd

# calls grl_registry_load...plugin
RUN_DEPENDS +=		x11/gnome/grilo-plugins

# needed for gnome-region-panel; optional and would create a cyclic dep:
# gnome-session -> gnome-shell -> gnome-control-center -> gnome-session
#RUN_DEPENDS +=		x11/gnome/session

MODGNOME_TOOLS += desktop-file-utils docbook gtk-update-icon-cache yelp
MODGNOME_CPPFLAGS=	-I${X11BASE}/include
MODGNOME_LDFLAGS=	-L${X11BASE}/lib

FAKE_FLAGS=		sysconfdir=${PREFIX}/share/examples/gnome-control-center

.include <bsd.port.mk>
@


1.148
log
@Update to gnome-control-center-3.16.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2015/03/27 08:16:16 ajacoutot Exp $
@


1.147
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2015/03/20 15:52:03 ajacoutot Exp $
d13 1
a13 2
GNOME_VERSION=		3.14.4
REVISION=		0
d25 5
a29 5
WANTLIB += dbus-1 dbus-glib-1 enchant execinfo expat ffi fontconfig
WANTLIB += freetype gbm gcrypt gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gmp gnome-desktop-3 goa-1.0 goa-backend-1.0
WANTLIB += gobject-2.0 gpg-error graphite2 grilo-0.2 gstapp-1.0
WANTLIB += gstaudio-1.0 gstbase-1.0 gstfft-1.0 gstpbutils-1.0
@


1.146
log
@Update to gnome-control-center-3.14.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2015/03/15 08:35:12 ajacoutot Exp $
d14 1
@


1.145
log
@Update to gnome-control-center-3.14.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2014/12/09 15:55:45 ajacoutot Exp $
d13 1
a13 1
GNOME_VERSION=		3.14.3
d24 4
a27 4
WANTLIB += colord-gtk colordprivate crack cups dbus-1
WANTLIB += enchant execinfo expat ffi fontconfig freetype gcrypt
WANTLIB += gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnome-desktop-3 goa-1.0 goa-backend-1.0
d31 9
a39 10
WANTLIB += gtop-2.0 harfbuzz harfbuzz-icu ibus-1.0 icudata icui18n
WANTLIB += icuuc javascriptcoregtk-3.0 jpeg json-c json-glib-1.0
WANTLIB += kvm lcms2 ltdl m ogg orc-0.4 pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png polkit-gobject-1 pthread
WANTLIB += pthread-stubs pulse pulse-mainloop-glib pwquality rest-0.7
WANTLIB += secret-1 smbclient sndfile soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 stdc++ telepathy-glib upower-glib vorbis vorbisenc
WANTLIB += vorbisfile webkitgtk-3.0 webp xcb xcb-render xcb-shm
WANTLIB += xml2 xslt z gbm dbus-glib-1 lzma com_err crypto gmp
WANTLIB += hogweed nettle p11-kit tasn1
@


1.144
log
@Regen wantlib after recent heimdal module change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2014/11/13 17:32:17 ajacoutot Exp $
d13 1
a13 2
GNOME_VERSION=		3.14.2
REVISION=		0
@


1.143
log
@Update to gnome-control-center-3.14.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2014/11/01 18:35:35 ajacoutot Exp $
d14 1
d40 3
a42 1
WANTLIB += xml2 xslt z gbm dbus-glib-1 lzma
@


1.142
log
@Add dependency on x11/gnome/libgnomekbd.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2014/10/29 14:48:05 ajacoutot Exp $
d13 1
a13 2
GNOME_VERSION=		3.14.1
REVISION=		2
d39 1
a39 1
WANTLIB += xml2 xslt z gbm
@


1.141
log
@Merge with what has been committed upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2014/10/25 14:04:30 ajacoutot Exp $
d14 1
a14 1
REVISION=		1
d74 1
a74 1
RUN_DEPENDS+=		x11/gnome/color-manager
d77 1
a77 1
RUN_DEPENDS+=		x11/gnome/power-manager
d80 4
a83 1
RUN_DEPENDS+=		print/cups-pk-helper
d90 1
a90 1
#RUN_DEPENDS+=		x11/gnome/session
@


1.140
log
@Regen WANTLIB to unbreak after recent webkit update. There are more ports
following but they need a bit more work.

breakage reported by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2014/10/14 15:52:38 ajacoutot Exp $
d14 1
a14 1
REVISION=		0
@


1.139
log
@Update to gnome-control-center-3.14.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2014/10/14 08:40:28 ajacoutot Exp $
d14 1
d25 1
a25 1
WANTLIB += colord-gtk colordprivate crack cups dbus-1 dbus-glib-1
d27 1
a27 1
WANTLIB += gdbm gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0 glib-2.0
@


1.138
log
@Do not display the bluetooth power button.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2014/10/06 08:27:34 ajacoutot Exp $
d13 1
a13 2
GNOME_VERSION=		3.14.0
REVISION=		0
@


1.137
log
@Update to gnome-control-center-3.14.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2014/08/15 09:27:28 ajacoutot Exp $
d14 1
@


1.136
log
@Enable heimdal since it's a hard dependency for the users panel.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2014/04/25 09:58:30 ajacoutot Exp $
d13 1
a13 2
GNOME_VERSION=		3.12.1
REVISION=		2
d27 1
a27 1
WANTLIB += gmodule-2.0 gnome-desktop-3 gnome-menu-3 goa-1.0 goa-backend-1.0
a55 1
			x11/gnome/menus \
@


1.135
log
@Missing BUILD_DEPENDS.

spotted by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2014/04/24 13:19:39 ajacoutot Exp $
d14 1
a14 1
REVISION=		1
d40 1
a40 1
WANTLIB += xml2 xslt z
d43 1
a94 19

CONFIGURE_ARGS=		--without-kerberos

### XXX
# patches/patch-configure_ac
# patches/patch-panels_user-accounts_Makefile_am
# patches/patch-panels_user-accounts_um-account-dialog_c
AUTOCONF_VERSION=	2.69
AUTOMAKE_VERSION=	1.14
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/libtool \
			x11/gnome/common
pre-configure:
	cd ${WRKSRC} && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		autoreconf -i
### END XXX
@


1.134
log
@Make it possible to build the user-account panel without kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2014/04/21 15:07:52 ajacoutot Exp $
d103 3
a105 1
BUILD_DEPENDS +=	devel/libtool \
@


1.133
log
@Axe the user-accounts panel for now since it cannot build without kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2014/04/16 14:33:48 ajacoutot Exp $
d14 1
a14 1
REVISION=		0
d25 4
a28 4
WANTLIB += colord-gtk colordprivate cups dbus-1 dbus-glib-1 enchant
WANTLIB += execinfo expat ffi fontconfig freetype gcrypt gdbm
WANTLIB += gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-desktop-3 gnome-menu-3 goa-1.0 goa-backend-1.0
d36 5
a40 5
WANTLIB += pthread-stubs pulse pulse-mainloop-glib rest-0.7 secret-1
WANTLIB += smbclient sndfile soup-2.4 soup-gnome-2.4 sqlite3 stdc++
WANTLIB += telepathy-glib upower-glib vorbis vorbisenc vorbisfile
WANTLIB += webkitgtk-3.0 webp xcb xcb-render xcb-shm xml2 xslt
WANTLIB += z
d51 1
d95 10
d106 5
a110 4
# disable user account panel (requires kerberos)
# patch-panels_Makefile_in, patch-shell_Makefile_in, patch-shell_cc-panel-loader_c
	ln -sf /usr/bin/true ${WRKDIR}/bin/krb5-config
	echo >${WRKSRC}/shell/hostnames-test.txt
@


1.132
log
@Update to gnome-control-center-3.12.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2014/04/11 19:12:10 ajacoutot Exp $
d3 1
a3 1
# XXX remove pre-configure when updating to 3.12.0
d14 1
d23 1
a23 1
WANTLIB += accountsservice asn1 atk-1.0 atk-bridge-2.0 atspi avahi-common
d25 5
a29 5
WANTLIB += colord-gtk colordprivate com_err crack crypto cups
WANTLIB += dbus-1 dbus-glib-1 enchant execinfo expat ffi fontconfig
WANTLIB += freetype gcrypt gdbm gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-desktop-3 gnome-menu-3 goa-1.0
WANTLIB += goa-backend-1.0 gobject-2.0 gpg-error graphite2 gstapp-1.0
d32 3
a34 3
WANTLIB += gtop-2.0 harfbuzz harfbuzz-icu heimbase ibus-1.0 icudata
WANTLIB += icui18n icuuc javascriptcoregtk-3.0 jpeg json-c json-glib-1.0
WANTLIB += krb5 kvm lcms2 ltdl m ogg orc-0.4 pango-1.0 pangocairo-1.0
d36 5
a40 5
WANTLIB += pthread-stubs pulse pulse-mainloop-glib pwquality rest-0.7
WANTLIB += roken secret-1 smbclient sndfile soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 stdc++ telepathy-glib upower-glib vorbis vorbisenc
WANTLIB += vorbisfile webkitgtk-3.0 webp wind xcb xcb-render xcb-shm
WANTLIB += xml2 xslt z grilo-0.2
a50 1
			security/libpwquality \
d95 3
@


1.131
log
@Better locale patch (GNOME BZ #710412).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2014/04/08 15:24:00 ajacoutot Exp $
d13 1
a13 2
GNOME_VERSION=		3.12.0
REVISION=		3
@


1.130
log
@Do not display the "Check for updates" button; it makes no sense for us.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2014/04/02 09:36:12 jasper Exp $
d14 1
a14 1
REVISION=		2
@


1.129
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2014/04/01 18:06:30 jasper Exp $
d14 1
a14 1
REVISION=		1
@


1.128
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2014/04/01 17:03:14 jasper Exp $
d89 1
a89 1
MODGNOME_TOOLS +=  docbook yelp  desktop-file-utils  gtk-update-icon-cache
@


1.127
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2014/04/01 13:21:46 ajacoutot Exp $
d89 1
a89 4
MODGNOME_TOOLS= 	docbook yelp
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS +=	gtk-update-icon-cache

@


1.126
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 2/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2014/03/28 09:30:34 ajacoutot Exp $
d90 2
a91 2
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
@


1.125
log
@Consistency in the x11/gnome/grilo-plugins dependency and add where missing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2014/03/28 08:48:41 ajacoutot Exp $
d14 1
a14 1
REVISION=		0
a91 4

LIBTOOL_FLAGS=		--tag=disable-static

CONFIGURE_ARGS=		--disable-static
@


1.124
log
@Move to the new MODGNOME_TOOLS docbook option.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2014/03/27 12:41:07 ajacoutot Exp $
d14 1
d81 3
@


1.123
log
@Update to gnome-control-center-3.12.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2014/03/16 08:55:30 ajacoutot Exp $
a65 3
# man pages
BUILD_DEPENDS += textproc/docbook-xsl

d85 1
a85 1
MODGNOME_TOOLS= 	yelp
@


1.122
log
@tyop in comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2014/03/09 21:59:33 ajacoutot Exp $
d13 1
a13 1
GNOME_VERSION=		3.10.3
d39 1
a39 1
WANTLIB += xkbfile xml2 xslt z
d54 1
@


1.121
log
@Add BZ URL.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2014/02/09 08:48:33 ajacoutot Exp $
d83 1
a83 1
# needed for gnome-region-panel; optionnal and would create a cyclic dep:
@


1.120
log
@Save ourselves a patch, our locales are of no use.
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.119 2014/02/04 14:49:53 ajacoutot Exp $
d13 1
a13 2
GNOME_VERSION=		3.10.2
REVISION=		1
a99 1
# XXX https://bugzilla.gnome.org/show_bug.cgi?id=650342
@


1.119
log
@Sync with what was committed usptream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2014/02/03 18:23:54 ajacoutot Exp $
d97 4
@


1.118
log
@Fix a possible segfault in the Region panel.

reported ages ago by pea@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2013/11/13 07:24:52 ajacoutot Exp $
d11 1
a11 1
REVISION=		0
@


1.117
log
@Update to gnome-control-center-3.10.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2013/10/31 17:54:06 ajacoutot Exp $
d11 1
@


1.116
log
@Update to gnome-control-center-3.10.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2013/10/17 17:20:52 stsp Exp $
d10 1
a10 1
GNOME_VERSION=		3.10.1
@


1.115
log
@In gnome-control-center, don't append ".utf8" to locale names.
Unportable behaviour which breaks on !Linux, and should not be
needed because the codeset part of a locale name is optional.
gnome-desktop should still be able to handle the locale name.
fix requested by and ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2013/10/06 09:08:54 ajacoutot Exp $
d10 1
a10 2
GNOME_VERSION=		3.10.0
REVISION=		2
d23 14
a36 15
WANTLIB += freetype gailutil-3 gcrypt gdbm gdk-3 gdk_pixbuf-2.0
WANTLIB += geoclue gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3
WANTLIB += gnome-menu-3 goa-1.0 goa-backend-1.0 gobject-2.0 gpg-error
WANTLIB += graphite2 gstapp-1.0 gstaudio-1.0 gstbase-1.0 gstfft-1.0
WANTLIB += gstpbutils-1.0 gstreamer-1.0 gsttag-1.0 gstvideo-1.0
WANTLIB += gthread-2.0 gtk-3 gtop-2.0 harfbuzz harfbuzz-icu heimbase
WANTLIB += ibus-1.0 icudata icui18n icuuc javascriptcoregtk-3.0
WANTLIB += jpeg json-c json-glib-1.0 krb5 kvm lcms2 ltdl m ogg orc-0.4
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png polkit-gobject-1 pthread pthread-stubs
WANTLIB += pulse pulse-mainloop-glib pwquality rest-0.7 roken
WANTLIB += secret-1 smbclient sndfile soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 stdc++ upower-glib vorbis vorbisenc vorbisfile
WANTLIB += webkitgtk-3.0 webp wind xcb xcb-render xcb-shm xkbfile
WANTLIB += xml2 xslt z telepathy-glib
@


1.114
log
@Regen WANTLIB after orc got put back into gstreamer1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2013/09/28 08:51:13 ajacoutot Exp $
d11 1
a11 1
REVISION=		1
@


1.113
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2013/09/26 17:14:16 ajacoutot Exp $
d11 1
a11 1
REVISION=		0
d31 1
a31 1
WANTLIB += jpeg json-c json-glib-1.0 krb5 kvm lcms2 ltdl m ogg
@


1.112
log
@Update to gnome-control-center-3.10.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2013/09/26 12:48:02 ajacoutot Exp $
d11 1
@


1.111
log
@Add some longstanding issues with an XXX that jasper and I used to
maintain in a separate file. It will make it easier for people who want to
help to just 'grep -r XXX' under x11/gnome/ etc...

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2013/09/24 18:53:30 ajacoutot Exp $
d10 1
a10 2
GNOME_VERSION=		3.8.5
REVISION=		0
d37 1
a37 1
WANTLIB += xml2 xslt z
@


1.110
log
@Fix WANTLIB after recent gstreamer1 update.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.109 2013/09/13 14:12:52 ajacoutot Exp $
@


1.109
log
@update to gnome-control-center-3.8.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2013/08/06 19:09:09 ajacoutot Exp $
d9 1
d30 1
a30 1
WANTLIB += orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
@


1.108
log
@Update to gnome-control-center 3.8.4.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2013/06/20 06:54:37 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.8.4.1
d15 7
a21 6
WANTLIB += FLAC GL ICE SM X11 X11-xcb Xau Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xtst accountsservice
WANTLIB += atk-1.0 atk-bridge-2.0 atspi avahi-common c cairo cairo-gobject
WANTLIB += canberra canberra-gtk3 colord colord-gtk colordprivate
WANTLIB += cups dbus-1 dbus-glib-1 enchant execinfo expat ffi
WANTLIB += fontconfig freetype gailutil-3 gcrypt gdbm gdk-3 gdk_pixbuf-2.0
d26 6
a31 5
WANTLIB += gthread-2.0 gtk-3 gtop-2.0 harfbuzz harfbuzz-icu ibus-1.0
WANTLIB += icudata icui18n icuuc javascriptcoregtk-3.0 jpeg json-c
WANTLIB += json-glib-1.0 kvm lcms2 ltdl m ogg orc-0.4 pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png polkit-gobject-1
WANTLIB += pthread pthread-stubs pulse pulse-mainloop-glib rest-0.7
d34 2
a35 3
WANTLIB += webkitgtk-3.0 webp xcb xcb-render xcb-shm xkbfile xml2
WANTLIB += asn1 com_err crack crypto heimbase krb5 pwquality
WANTLIB += roken wind xslt z
d51 1
a51 1
			x11/gnome/online-accounts>=3.8.1
@


1.107
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2013/06/18 07:11:27 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.8.3
REVISION=		5
@


1.106
log
@Enable user account panel.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2013/06/17 19:31:32 ajacoutot Exp $
d9 1
a9 1
REVISION=		4
d34 1
a34 1
WANTLIB += asn1 com_err crack crypto heimbase hx509 krb5 pwquality
@


1.105
log
@Unbreak with new Heimdal; get rid of self-cooked krb5-config since we
have it in base now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2013/06/09 15:26:50 ajacoutot Exp $
d9 1
a9 1
REVISION=		3
d34 2
a35 1
WANTLIB += xslt z
d46 1
d64 3
a69 7
# XXX when the user account panel is re-enabled
BUILD_DEPENDS +=	security/libpwquality
#LIB_DEPENDS +=		security/libpwquality

# NOTE that a11y dependencies (e.g. mousetweaks, caribou...) are not
# enforced on purpose.

d80 1
a80 1
# gnome-session -> gnome-control-center -> gnome-session
a94 15

AUTOCONF_VERSION=	2.68
AUTOMAKE_VERSION=	1.11
AUTOTOOLS_ENV +=	AUTOCONF_VERSION=${AUTOCONF_VERSION} \
			AUTOMAKE_VERSION=${AUTOMAKE_VERSION}
MAKE_ENV +=		${AUTOTOOLS_ENV}
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/libtool \
			x11/gnome/common

pre-configure:
	@@cd ${WRKSRC} && \
		${AUTOTOOLS_ENV} \
		autoreconf -i
@


1.104
log
@s/png16/png/ in WANTLIB now that graphics/png got patched.

prodded by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2013/06/09 13:55:51 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d26 2
a27 2
WANTLIB += gthread-2.0 gtk-3 gtop-2.0 harfbuzz ibus-1.0
WANTLIB += icui18n javascriptcoregtk-3.0 jpeg json-c
d29 1
a29 1
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 polkit-gobject-1
d34 1
a34 1
WANTLIB += harfbuzz-icu icudata icuuc png xslt z
a106 3

post-extract:
	${INSTALL} -m 555 ${FILESDIR}/krb5-config ${WRKDIR}/bin
@


1.103
log
@Unbreak with new libpng -- until we find a solution for png vs pngXX.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2013/06/08 11:53:53 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d34 1
a34 1
WANTLIB += harfbuzz-icu icudata icuuc png16 xslt z
@


1.102
log
@Update to gnome-control-center-3.8.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2013/06/04 15:32:15 ajacoutot Exp $
d9 1
d34 1
a34 1
WANTLIB += harfbuzz-icu icudata icuuc png15 xslt z
@


1.101
log
@Bump after the pulseaudio update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2013/05/31 15:35:00 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.8.2
REVISION=		1
d28 1
a28 1
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png polkit-gobject-1
d33 1
a33 1
WANTLIB += xslt z
@


1.100
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2013/05/14 12:26:00 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
@


1.99
log
@Update to gnome-control-center-3.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2013/05/08 09:03:41 ajacoutot Exp $
d9 1
d26 2
a27 2
WANTLIB += gthread-2.0 gtk-3 gtop-2.0 harfbuzz ibus-1.0 icudata
WANTLIB += icui18n icule icuuc javascriptcoregtk-3.0 jpeg json-c
@


1.98
log
@Don't try to access /proc/cmdline
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2013/04/28 07:08:42 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.8.1
REVISION=		1
d26 1
a26 1
WANTLIB += icui18n icule icuuc javascriptcoregtk-3.0 jpeg json
@


1.97
log
@Simplify patching.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2013/04/17 10:13:19 jasper Exp $
d9 1
a9 1
REVISION=		0
@


1.96
log
@drop some bogus configure args.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2013/04/16 12:16:21 ajacoutot Exp $
d9 1
@


1.95
log
@Update to gnome-control-center-3.8.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2013/04/13 09:14:06 landry Exp $
d90 1
a90 3
CONFIGURE_ARGS=		--disable-static \
			--disable-update-mimedb \
			--disable-systemd
@


1.94
log
@Tweak WANTLIB after webkit update (mostly s/gst*-0.10/gst*-1.0/ + removing
gstinterfaces-0.10) and bump some REVISIONs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2013/04/10 09:40:59 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.8.0
REVISION=		5
d22 12
a33 12
WANTLIB += gnome-keyring gnome-menu-3 goa-1.0 goa-backend-1.0
WANTLIB += gobject-2.0 gpg-error graphite2 gstapp-1.0 gstaudio-1.0
WANTLIB += gstbase-1.0 gstfft-1.0 gstpbutils-1.0
WANTLIB += gstreamer-1.0 gstvideo-1.0 gthread-2.0 gtk-3 gtop-2.0
WANTLIB += harfbuzz ibus-1.0 icudata icui18n icule icuuc javascriptcoregtk-3.0
WANTLIB += jpeg json json-glib-1.0 kvm lcms2 ltdl m notify ogg
WANTLIB += orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png polkit-gobject-1 pthread pthread-stubs
WANTLIB += pulse pulse-mainloop-glib rest-0.7 secret-1 sndfile
WANTLIB += soup-2.4 soup-gnome-2.4 sqlite3 stdc++ upower-glib
WANTLIB += vorbis vorbisenc vorbisfile webkitgtk-3.0 xcb xcb-render
WANTLIB += xcb-shm xkbfile xml2 xslt z smbclient
d48 1
a48 1
			x11/gnome/online-accounts
d53 1
d101 3
d114 1
a114 2
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
@


1.93
log
@FILE_SHARING_SCHEMA_ID -> FILE_SHARING_BLUETOOTH_SCHEMA_ID where needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2013/04/06 08:16:53 ajacoutot Exp $
d9 1
a9 1
REVISION=		4
d24 3
a26 3
WANTLIB += gobject-2.0 gpg-error graphite2 gstapp-0.10 gstaudio-0.10
WANTLIB += gstbase-0.10 gstfft-0.10 gstinterfaces-0.10 gstpbutils-0.10
WANTLIB += gstreamer-0.10 gstvideo-0.10 gthread-2.0 gtk-3 gtop-2.0
@


1.92
log
@Do not display the bluetooth sharing panel when bluetooth is disabled.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/03/31 16:00:19 ajacoutot Exp $
d9 1
a9 1
REVISION=		3
@


1.91
log
@Add a comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/03/31 06:37:50 ajacoutot Exp $
d9 1
a9 1
REVISION=		2
@


1.90
log
@accountsservice is actually a wantlib/lib_depends; from rpe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/03/30 13:03:45 ajacoutot Exp $
d79 4
@


1.89
log
@Anything that uses polkit should really RUN_DEPENDS on consolekit;
otherwise we have no way to know the active session.

discussed/agreed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/03/29 19:21:30 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d39 2
a40 4
LIB_DEPENDS=		x11/gnome/desktop \
			x11/gnome/menus \
			x11/gnome/online-accounts \
			sysutils/upower \
d42 2
d45 5
a49 4
			audio/pulseaudio \
			audio/libcanberra,-gtk3 \
			graphics/colord-gtk \
			net/samba>=3.6.13p0
a78 3

# needed for gnome-user-accounts-panel
RUN_DEPENDS+=		sysutils/accountsservice
@


1.88
log
@Fix lib depends; spotted by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2013/03/29 18:18:43 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d59 3
@


1.87
log
@Update to gnome-control-center-3.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2013/03/26 17:08:19 ajacoutot Exp $
d9 1
d47 1
a47 1
			graphics/colord \
@


1.86
log
@Use MODGNU_AUTO*_DEPENDS instead of hardcoding the path.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2013/03/11 11:46:10 espie Exp $
d8 1
a8 2
GNOME_VERSION=		3.6.3
REVISION=		3
d16 18
a33 19
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xtst asn1
WANTLIB += atk-1.0 atk-bridge-2.0 atspi avahi-client avahi-common
WANTLIB += c cairo cairo-gobject canberra canberra-gtk3 colord
WANTLIB += colordprivate crypto cups dbus-1 dbus-glib-1 enchant
WANTLIB += execinfo expat ffi fontconfig freetype gailutil-3 gcrypt
WANTLIB += gdbm gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnome-desktop-3 gnome-keyring gnome-menu-3
WANTLIB += goa-1.0 goa-backend-1.0 gobject-2.0 gpg-error gssapi
WANTLIB += gstapp-0.10 gstaudio-0.10 gstbase-0.10 gstfft-0.10
WANTLIB += gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10
WANTLIB += gthread-2.0 gtk-3 gtop-2.0 harfbuzz ibus-1.0 icudata
WANTLIB += icui18n icule icuuc javascriptcoregtk-3.0 jpeg json
WANTLIB += json-glib-1.0 krb5 kvm lcms2 ltdl m notify ogg orc-0.4
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png polkit-gobject-1 pthread pthread-stubs pulse pulse-mainloop-glib
WANTLIB += rest-0.7 secret-1 sndfile soup-2.4 soup-gnome-2.4 sqlite3
WANTLIB += ssl stdc++ upower-glib vorbis vorbisenc vorbisfile
WANTLIB += webkitgtk-3.0 xcb xcb-render xcb-shm xkbfile xml2 xslt
WANTLIB += z
d38 3
a40 3
LIB_DEPENDS=		x11/gnome/desktop>=3.6.0 \
			x11/gnome/menus>=3.6.0 \
			x11/gnome/online-accounts>=3.6.0 \
d44 1
a44 1
			audio/pulseaudio>=2.1 \
d46 2
a47 1
			graphics/colord
d49 1
a49 1
BUILD_DEPENDS=		x11/gnome/settings-daemon>=3.6.4 \
d52 1
a52 1
RUN_DEPENDS=		x11/gnome/settings-daemon>=3.6.4 \
a74 6
# needed for gnome-screen-panel
RUN_DEPENDS+=		x11/gnome/screensaver

# needed for gnome-sound-applet
RUN_DEPENDS+=		x11/gnome/icon-theme-symbolic

a77 3
# share/polkit-1/actions/org.gnome.controlcenter.datetime.policy
RUN_DEPENDS +=  sysutils/polkit

a81 4
# Language code is synced with gdm but gnome-control-center does not
# provide a --with-incomplete-locales configure switch.
CFLAGS += 	      -DWITH_INCOMPLETE_LOCALES

d86 1
a86 4
			--disable-systemd \
			--without-cheese \
			--with-x \
			--enable-cups
d100 3
a107 4
	${SUBST_CMD} ${WRKSRC}/panels/printers/cc-printers-panel.c

post-install:
	rm ${PREFIX}/lib/control-center-1/panels/*.la
@


1.85
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2013/03/08 07:01:51 ajacoutot Exp $
d94 1
a94 1
CFLAGS +=       -DWITH_INCOMPLETE_LOCALES
d96 1
a96 1
LIBTOOL_FLAGS=	--tag=disable-static
d98 6
a103 6
CONFIGURE_ARGS=	--disable-static \
		--disable-update-mimedb \
		--disable-systemd \
		--without-cheese \
		--with-x \
		--enable-cups
d108 1
a108 1
FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples/gnome-control-center
d112 4
a115 4
BUILD_DEPENDS +=devel/autoconf/${AUTOCONF_VERSION} \
		devel/automake/${AUTOMAKE_VERSION} \
		devel/libtool \
		x11/gnome/common
@


1.84
log
@Sync WANTLIB after colord update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2013/01/18 07:31:15 ajacoutot Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.83
log
@Enable ibus support; depends on the latest gnome-settings-daemon.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2013/01/05 12:53:09 ajacoutot Exp $
d9 1
a9 1
REVISION=		2
d19 3
a21 3
WANTLIB += GL ICE SM X11 X11-xcb Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xtst
WANTLIB += asn1 atk-1.0 atk-bridge-2.0 atspi avahi-client avahi-common
d23 16
a38 15
WANTLIB += crypto cups dbus-1 dbus-glib-1 enchant execinfo expat
WANTLIB += ffi fontconfig freetype gailutil-3 gcrypt gdbm gdk-3
WANTLIB += gdk_pixbuf-2.0 geoclue gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-desktop-3 gnome-keyring gnome-menu-3 goa-1.0
WANTLIB += goa-backend-1.0 gobject-2.0 gpg-error gssapi gstapp-0.10
WANTLIB += gstaudio-0.10 gstbase-0.10 gstfft-0.10 gstinterfaces-0.10
WANTLIB += gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10 gthread-2.0
WANTLIB += gtk-3 gtop-2.0 harfbuzz ibus-1.0 icudata icui18n icule
WANTLIB += icuuc javascriptcoregtk-3.0 jpeg json json-glib-1.0
WANTLIB += krb5 kvm lcms2 ltdl m notify ogg orc-0.4 pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png polkit-gobject-1
WANTLIB += pthread pthread-stubs pulse pulse-mainloop-glib rest-0.7
WANTLIB += secret-1 sndfile soup-2.4 soup-gnome-2.4 sqlite3 ssl
WANTLIB += stdc++ upower-glib vorbis vorbisfile webkitgtk-3.0
WANTLIB += xcb xcb-render xcb-shm xkbfile xml2 xslt z
@


1.82
log
@Adapt dependencies after recent print/cups change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2013/01/01 14:23:25 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d19 13
a31 12
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm asn1
WANTLIB += atk-1.0 atk-bridge-2.0 atspi c cairo cairo-gobject
WANTLIB += canberra canberra-gtk3 colord crypto cups dbus-1 dbus-glib-1
WANTLIB += drm enchant execinfo expat ffi fontconfig freetype
WANTLIB += gailutil-3 gcrypt gdbm gdk-3 gdk_pixbuf-2.0 geoclue
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3 gnome-keyring
WANTLIB += gnome-menu-3 goa-1.0 goa-backend-1.0 gobject-2.0 gpg-error
WANTLIB += gssapi gstapp-0.10 gstaudio-0.10 gstbase-0.10 gstfft-0.10
WANTLIB += gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10
WANTLIB += gthread-2.0 gtk-3 gtop-2.0 harfbuzz icudata icui18n
WANTLIB += icule icuuc javascriptcoregtk-3.0 jpeg json json-glib-1.0
a37 1
WANTLIB += X11-xcb Xtst avahi-client avahi-common
d52 1
a52 1
BUILD_DEPENDS=		x11/gnome/settings-daemon>=3.6.1 \
d55 1
a55 1
RUN_DEPENDS=		x11/gnome/settings-daemon>=3.6.1 \
a105 3

# XXX requires ibus >= 1.4.99
CONFIGURE_ARGS += --disable-ibus
@


1.81
log
@Bump after the pulseaudio update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2012/11/14 14:35:38 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d37 1
@


1.80
log
@Bugfix update to gnome-control-center-3.6.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2012/10/22 14:44:22 ajacoutot Exp $
d9 1
@


1.79
log
@Bugfix update to gnome-control-center-3.6.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2012/10/17 11:49:37 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.6.2
@


1.78
log
@Bump pulseaudio requirements.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2012/10/15 12:13:52 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.6.1
REVISION=		1
@


1.77
log
@Remove pulseaudio -rpath hack.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2012/10/08 17:19:42 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d47 1
a47 1
			audio/pulseaudio \
@


1.76
log
@Update to gnome-control-center-3.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2012/10/05 11:25:54 ajacoutot Exp $
d9 1
d110 1
a110 1
MODGNOME_LDFLAGS=	-L${X11BASE}/lib -Wl,-rpath,${LOCALBASE}/lib/pulseaudio
@


1.75
log
@Missing build depends on textproc/docbook-xsl.

spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2012/10/02 20:51:18 sthen Exp $
d8 1
a8 1
GNOME_VERSION=		3.6.0
d50 1
a50 1
BUILD_DEPENDS=		x11/gnome/settings-daemon>=3.6.0 \
d53 1
a53 1
RUN_DEPENDS=		x11/gnome/settings-daemon>=3.6.0 \
@


1.74
log
@BUILD_DEPENDS += textproc/docbook-xsl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2012/09/28 09:40:30 ajacoutot Exp $
a50 1
			textproc/docbook-xsl \
d56 3
@


1.73
log
@Don't override BUILD_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2012/09/28 09:34:33 ajacoutot Exp $
d51 1
@


1.72
log
@Update to gnome-control-center-3.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2012/08/04 15:35:09 ajacoutot Exp $
a49 4
# XXX when the user account panel is re-enabled
BUILD_DEPENDS +=	security/libpwquality
#LIB_DEPENDS +=		security/libpwquality

d56 4
@


1.71
log
@DIFF_ARGS is not needed anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2012/08/04 14:49:51 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.4.2
REVISION=		6
d20 6
a25 6
WANTLIB += atk-1.0 c cairo cairo-gobject canberra canberra-gtk3
WANTLIB += colord crypto cups dbus-1 dbus-glib-1 drm enchant execinfo
WANTLIB += expat ffi fontconfig freetype gailutil-3 gcrypt gdbm
WANTLIB += gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-desktop-3 gnome-keyring gnome-menu-3 gnomekbd
WANTLIB += gnomekbdui goa-1.0 goa-backend-1.0 gobject-2.0 gpg-error
d28 8
a35 8
WANTLIB += gthread-2.0 gtk-3 gtop-2.0 icudata icui18n icuuc javascriptcoregtk-3.0
WANTLIB += jpeg json json-glib-1.0 krb5 kvm ltdl m notify ogg
WANTLIB += orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png polkit-gobject-1 pthread pthread-stubs
WANTLIB += pulse pulse-mainloop-glib rest-0.7 sndfile soup-2.4
WANTLIB += soup-gnome-2.4 sqlite3 ssl stdc++ upower-glib vorbis
WANTLIB += vorbisfile webkitgtk-3.0 xcb xcb-render xcb-shm xkbfile
WANTLIB += xklavier xml2 xslt z lcms2
d40 3
a42 4
LIB_DEPENDS=		x11/gnome/desktop \
			x11/gnome/menus>=3.2.0 \
			x11/gnome/libgnomekbd \
			x11/gnome/online-accounts \
d50 5
a54 1
BUILD_DEPENDS=		x11/gnome/settings-daemon>=3.4.2 \
d57 1
a57 1
RUN_DEPENDS=		x11/gnome/settings-daemon>=3.4.2 \
d80 1
a80 2
RUN_DEPENDS+=		sysutils/accountsservice \
			security/apg
d102 2
a103 2
# Disable libsocialweb support until Flickr integration is fixed upstream.
CONFIGURE_ARGS+=--without-libsocialweb
d123 3
@


1.70
log
@Fix build with cups >= 1.6.
@
text
@d1 1
a1 5
# $OpenBSD: Makefile,v 1.69 2012/07/08 11:19:23 ajacoutot Exp $

# XXX Binary files patch-panels_info_hostnames-test_txt and
# patch-panels_info_hostnames-test_txt.new differ
DIFF_ARGS=	-a
d9 1
a9 1
REVISION=		5
@


1.69
log
@Depends on devel/iso-codes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2012/06/18 11:30:50 ajacoutot Exp $
d13 1
a13 1
REVISION=		4
d51 1
a51 1
			print/cups \
@


1.68
log
@Unbreak, reported by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2012/06/15 08:30:19 ajacoutot Exp $
d13 1
a13 1
REVISION=		3
d57 1
d60 1
@


1.67
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2012/05/28 15:55:12 ajacoutot Exp $
d13 1
a13 1
REVISION=		2
d40 1
a40 1
WANTLIB += xklavier xml2 xslt z
@


1.66
log
@colord pkgpath changed, so bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2012/05/24 07:58:20 ajacoutot Exp $
d13 1
a13 1
REVISION=		1
@


1.65
log
@Properly disable the wacom panel.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2012/05/15 14:31:18 ajacoutot Exp $
d13 1
a13 1
REVISION=		0
@


1.64
log
@Bugfix update to gnome-control-center-3.4.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2012/05/14 17:46:22 ajacoutot Exp $
d13 1
d111 7
d119 4
@


1.63
log
@Add -rpath after pulseaudio update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2012/04/17 11:02:32 jasper Exp $
d12 1
a12 2
GNOME_VERSION=		3.4.1
REVISION=		0
d55 1
a55 1
BUILD_DEPENDS=		x11/gnome/settings-daemon>=3.4.1p1 \
d57 1
a57 1
RUN_DEPENDS=		x11/gnome/settings-daemon>=3.4.1p1 \
@


1.62
log
@- update to 3.4.1
* bug fixes and translation updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2012/04/07 10:25:55 ajacoutot Exp $
d13 1
d56 4
a59 4
BUILD_DEPENDS=		x11/gnome/settings-daemon>=3.2.0p1 \
			devel/gsettings-desktop-schemas>=3.0.2
RUN_DEPENDS=		x11/gnome/settings-daemon>=3.2.0p1 \
			devel/gsettings-desktop-schemas>=3.0.2
d107 1
a107 1
MODGNOME_LDFLAGS=	-L${X11BASE}/lib
@


1.61
log
@Remove timed patch; this needs to be reimplemented externaly anyway
(thank you so much systemd).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/04/05 08:07:21 ajacoutot Exp $
d12 1
a12 2
GNOME_VERSION=		3.4.0
REVISION=		1
@


1.60
log
@Sync WANTLIB/DEPENDS which was a mess.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2012/03/29 06:57:02 ajacoutot Exp $
d13 1
a13 1
REVISION=		0
@


1.59
log
@Update to gnome-control-center-3.4.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2012/03/19 11:09:10 ajacoutot Exp $
d13 1
d28 13
a40 12
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3
WANTLIB += gnome-keyring gnome-menu-3 gnomekbd gnomekbdui goa-1.0
WANTLIB += goa-backend-1.0 gobject-2.0 gpg-error gssapi gstapp-0.10
WANTLIB += gstbase-0.10 gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10
WANTLIB += gstvideo-0.10 gthread-2.0 gtk-3 gtop-2.0 icudata icui18n
WANTLIB += icuuc javascriptcoregtk-3.0 jpeg json json-glib-1.0
WANTLIB += krb5 kvm ltdl m notify ogg orc-0.4 pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png polkit-gobject-1 pthread
WANTLIB += pthread-stubs pulse pulse-mainloop-glib rest-0.7 sndfile
WANTLIB += soup-2.4 soup-gnome-2.4 sqlite3 ssl stdc++ upower-glib
WANTLIB += vorbis vorbisfile webkitgtk-3.0 xcb xcb-render xcb-shm
WANTLIB += xkbfile xklavier xml2 xslt z
d53 1
@


1.58
log
@Forgot this one.
Our pkg-config(1) can now cope with files under share/pkgconfig, so
remove these now unneeded hacks/patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2012/02/16 22:25:47 ajacoutot Exp $
d12 1
a12 4
GNOME_VERSION=		3.2.2
REVISION=		4

SHARED_LIBS +=  gnome-control-center      0.0 # 1.0
d26 13
a38 13
WANTLIB += expat ffi fontconfig freetype gailutil-3 gconf-2 gcrypt
WANTLIB += gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-desktop-3 gnome-keyring gnome-menu-3 gnomekbd
WANTLIB += gnomekbdui goa-1.0 goa-backend-1.0 gobject-2.0 gpg-error
WANTLIB += gssapi gstapp-0.10 gstbase-0.10 gstinterfaces-0.10
WANTLIB += gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10 gthread-2.0
WANTLIB += gtk-3 gtop-2.0 icudata icui18n icuuc javascriptcoregtk-3.0
WANTLIB += jpeg json json-glib-1.0 krb5 kvm ltdl m notify ogg
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png polkit-gobject-1 pthread pthread-stubs pulse pulse-mainloop-glib
WANTLIB += rest-0.7 sndfile soup-2.4 soup-gnome-2.4 sqlite3 ssl
WANTLIB += stdc++ upower-glib vorbis vorbisfile webkitgtk-3.0
WANTLIB += xcb xcb-render xcb-shm xkbfile xklavier xml2 xslt z orc-0.4
d80 3
d95 1
d97 1
a107 7
# XXX plugins that are not fully working yet:
# * gnome-media-panel needs udev to take appropriate action on device
#   plug (see patch-schemas_org_gnome_desktop_media-handling_gschema_xml_in_in
#   in devel/gsettings-desktop-schemas).
# * gnome-wacom-panel needs device detection support and gnome-bluetooth
DISABLED_PLUGINS= media wacom

a109 8

post-install:
.for i in ${DISABLED_PLUGINS}
	cd ${PREFIX} && \
		rm lib/control-center-1/panels/lib$i* ;\
		rm share/applications/gnome-$i-panel.desktop ;\
		rm share/gnome-control-center/ui/*$i*.ui
.endfor
@


1.57
log
@Implement user passwd change by admin users.
Prevent a couple of implicit declarations.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/12/03 22:17:15 ajacoutot Exp $
d13 1
a13 2

REVISION=		3
d41 1
a41 1
WANTLIB += xcb xcb-render xcb-shm xkbfile xklavier xml2 xslt z
d104 1
a104 2
FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples/gnome-control-center \
		pkgconfigdir=${PREFIX}/lib/pkgconfig/
@


1.56
log
@Use MODGNOME_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/11/14 13:28:04 ajacoutot Exp $
d14 1
a14 1
REVISION=		2
@


1.55
log
@Don't try to link with -lcrypt.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/11/13 10:28:19 ajacoutot Exp $
d14 1
a14 1
REVISION=		1
d86 1
@


1.54
log
@Drop the gtk+3-cups dependency, it'll go to meta gnome.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/11/09 09:01:59 ajacoutot Exp $
d14 1
a14 1
REVISION=		0
@


1.53
log
@Minor update to gnome-control-center-3.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/11/07 12:38:33 ajacoutot Exp $
d14 2
d72 1
a72 3
# (and it would make no sense not to have gtk+3-cups in this case)
RUN_DEPENDS+=		print/cups-pk-helper \
			x11/gtk+3,-cups
@


1.52
log
@Move the dependency on graphics/argyll from gnome-control-center to
gnome-color-manager where it really belongs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/11/06 17:37:12 ajacoutot Exp $
d12 1
a12 2
GNOME_VERSION=		3.2.1
REVISION=		7
@


1.51
log
@Add dependency on argyll.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/11/06 09:00:31 ajacoutot Exp $
d13 1
a13 1
REVISION=		6
d65 1
a65 2
RUN_DEPENDS+=		x11/gnome/color-manager \
			graphics/argyll
@


1.50
log
@Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/11/05 14:07:43 ajacoutot Exp $
d13 1
a13 1
REVISION=		5
d65 2
a66 1
RUN_DEPENDS+=		x11/gnome/color-manager
@


1.49
log
@Resurrect gnome-power-panel.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/11/02 17:48:29 ajacoutot Exp $
d13 1
a13 1
REVISION=		4
d40 2
a41 2
WANTLIB += stdc++ vorbis vorbisfile webkitgtk-3.0 xcb xcb-render
WANTLIB += xcb-shm xkbfile xklavier xml2 xslt z upower-glib
@


1.48
log
@Add a RUN_DEPENDS on gnome-color-manager.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/11/02 16:43:00 ajacoutot Exp $
d13 1
a13 1
REVISION=		3
d41 1
a41 1
WANTLIB += xcb-shm xkbfile xklavier xml2 xslt z
a111 2
# * gnome-power-panel needs a fully working gnome-power-manager
#   (userland cannot be made aware of power/button events yet).
d113 1
a113 1
DISABLED_PLUGINS= media power wacom
@


1.47
log
@Enable colord support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/10/29 08:12:33 ajacoutot Exp $
d13 1
a13 1
REVISION=		2
d63 3
@


1.46
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/10/18 14:53:25 sthen Exp $
d13 1
a13 1
REVISION=		1
d25 17
a41 17
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor
WANTLIB += Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender
WANTLIB += Xt Xxf86vm asn1 atk-1.0 c cairo cairo-gobject
WANTLIB += canberra canberra-gtk3 crypto cups dbus-1 dbus-glib-1
WANTLIB += drm enchant execinfo expat ffi fontconfig freetype
WANTLIB += gailutil-3 gconf-2 gcrypt gdbm gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3 gnome-keyring
WANTLIB += gnome-menu-3 gnomekbd gnomekbdui goa-1.0 goa-backend-1.0
WANTLIB += gobject-2.0 gpg-error gssapi gstapp-0.10 gstbase-0.10
WANTLIB += gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10
WANTLIB += gthread-2.0 gtk-3 gtop-2.0 icudata icui18n icuuc jpeg
WANTLIB += json-glib-1.0 krb5 kvm ltdl m notify ogg pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png polkit-gobject-1
WANTLIB += pthread pthread-stubs pulse pulse-mainloop-glib rest-0.7
WANTLIB += sndfile soup-2.4 soup-gnome-2.4 sqlite3 ssl stdc++
WANTLIB += vorbis vorbisfile webkitgtk-3.0 xcb xcb-render xcb-shm
WANTLIB += xkbfile xklavier xml2 xslt z javascriptcoregtk-3.0 json
d53 2
a54 1
			audio/pulseaudio
d56 1
a56 1
BUILD_DEPENDS=		x11/gnome/settings-daemon>=3.2.0 \
d58 1
a58 1
RUN_DEPENDS=		x11/gnome/settings-daemon>=3.2.0 \
@


1.45
log
@mark a conflict with old gdm. ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/10/17 15:33:28 ajacoutot Exp $
d13 1
a13 1
REVISION=		0
d25 1
a25 1
WANTLIB += GL ICE ORBit-2 SM X11 Xau Xcomposite Xcursor
@


1.44
log
@Update to gnome-control-center-3.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/10/11 09:35:31 ajacoutot Exp $
d13 1
@


1.43
log
@Extend comment about gnome-wacom-panel.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/10/03 13:49:32 ajacoutot Exp $
d12 1
a12 2
GNOME_VERSION=		3.2.0
REVISION=		3
d24 1
a24 1
WANTLIB += GL ICE ORBit-2 SM X11 X11-xcb Xau Xcomposite Xcursor
d26 1
a26 1
WANTLIB += Xt Xtst Xxf86vm asn1 atk-1.0 c cairo cairo-gobject
d40 1
a40 1
WANTLIB += xkbfile xklavier xml2 xslt z
@


1.42
log
@Align the example dates in the display panel, from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/10/03 12:11:30 ajacoutot Exp $
d110 1
a110 1
# * gnome-wacom-panel needs device detection support
@


1.41
log
@Also use gtk_paper_size_get_default in here, from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/10/02 13:31:33 ajacoutot Exp $
d13 1
a13 1
REVISION=		2
@


1.40
log
@Better LC_* patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/09/28 09:47:46 jasper Exp $
d13 1
a13 1
REVISION=		1
@


1.39
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.38 2011/09/27 17:17:37 jasper Exp $
d13 1
a13 1
REVISION=		0
@


1.38
log
@tighten dependency on gsettings-desktop-schemas
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/09/27 12:15:23 ajacoutot Exp $
d94 2
a95 2
CONFIGURE_ENV= 	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"
@


1.37
log
@Update to gnome-control-center-3.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/09/26 07:33:25 ajacoutot Exp $
d9 1
d52 1
a52 1
			devel/gsettings-desktop-schemas
d54 1
a54 1
			devel/gsettings-desktop-schemas
@


1.36
log
@Regen WANTLIB to unbreak.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/09/25 12:53:55 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.0.2
REVISION=		4
d22 15
a36 12
WANTLIB += Xtst Xxf86vm asn1 atk-1.0 c cairo cairo-gobject canberra
WANTLIB += canberra-gtk3 crypto cups dbus-1 dbus-glib-1 drm execinfo
WANTLIB += expat ffi fontconfig freetype gconf-2 gdbm gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3 gnome-menu
WANTLIB += gnomekbd gnomekbdui gobject-2.0 gssapi gthread-2.0
WANTLIB += gtk-3 gtop-2.0 krb5 kvm ltdl m ogg pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png polkit-gobject-1 pthread
WANTLIB += pthread-stubs pulse pulse-mainloop-glib sndfile ssl
WANTLIB += vorbis vorbisfile xcb
WANTLIB += xcb-render xcb-shm xkbfile xklavier xml2 z

EXTRACT_SUFX=		.tar.bz2
d42 1
a42 1
			x11/gnome/menus \
d44 1
d50 1
a50 1
BUILD_DEPENDS=		x11/gnome/settings-daemon \
d52 1
a52 1
RUN_DEPENDS=		x11/gnome/settings-daemon \
d99 1
a99 1
# Plugins that are not fully working yet:
d105 2
a106 1
DISABLED_PLUGINS= media power
d114 1
a114 1
		rm lib/control-center-1/panels/lib$i.* ;\
@


1.35
log
@Tighten PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/09/25 12:47:49 ajacoutot Exp $
d9 1
a9 1
REVISION=		3
d31 1
a31 1
WANTLIB += startup-notification-1 vorbis vorbisfile xcb xcb-aux
@


1.34
log
@Enable gnome-sound-applet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/09/20 21:10:00 jasper Exp $
d9 1
a9 1
REVISION=		2
@


1.33
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/09/20 20:52:45 jasper Exp $
d9 1
a9 1
REVISION=		1
d21 12
a32 10
WANTLIB += GL ORBit-2 X11 X11-xcb Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm
WANTLIB += asn1 atk-1.0 c cairo cairo-gobject crypto cups dbus-1
WANTLIB += dbus-glib-1 drm execinfo expat fontconfig freetype
WANTLIB += gconf-2 gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-desktop-3 gnome-menu gnomekbd gnomekbdui gobject-2.0
WANTLIB += gssapi gthread-2.0 gtk-3 gtop-2.0 krb5 kvm m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png polkit-gobject-1
WANTLIB += pthread pthread-stubs ssl startup-notification-1 xcb
WANTLIB += xcb-aux xcb-render xcb-shm xkbfile xklavier xml2 z
d44 2
a45 1
			print/cups
d66 3
d74 1
a74 1
MODGNOME_DESKTOP_FILE=		Yes
d80 4
a83 1
CONFIGURE_ARGS=	--disable-update-mimedb \
@


1.32
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/09/19 07:44:58 ajacoutot Exp $
d74 1
a74 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-update-mimedb \
@


1.31
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/09/13 06:39:11 ajacoutot Exp $
d67 1
a67 1
MODGNOME_HELP_FILES=	Yes
@


1.30
log
@No need to check for libcanberra-gtk3; sound support is disabled because
we don't have pulseaudio.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/09/12 12:04:16 jasper Exp $
d68 1
a68 1
DESKTOP_FILES=		Yes
@


1.29
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/09/12 07:33:03 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d21 4
a24 6
EXTRACT_SUFX=		.tar.bz2

WANTLIB += GL ICE ORBit-2 SM X11 X11-xcb Xau Xcomposite Xcursor
WANTLIB += Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender
WANTLIB += Xxf86vm asn1 atk-1.0 c cairo cairo-gobject crypto cups
WANTLIB += dbus-1 dbus-glib-1 drm execinfo expat fontconfig freetype
d29 4
a32 3
WANTLIB += pthread pthread-stubs ssl startup-notification-1 upower-glib
WANTLIB += xcb xcb-atom xcb-aux xcb-event xcb-render xcb-shm xkbfile
WANTLIB += xklavier xml2 z
@


1.28
log
@Missing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/07/01 23:30:33 ajacoutot Exp $
d20 2
@


1.27
log
@remove obsolete gnome1 stuff.

gnome1 removal ok'd by naddy@@ todd@@ and others
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/05/30 09:56:29 jasper Exp $
d3 1
a3 1
COMMENT=		"GNOME control center"
d5 1
a5 4
DISTNAME=		control-center-1.4.0.5
PKGNAME=		${DISTNAME}p1
SHARED_LIBS=		capplet 0.0
CATEGORIES=		x11 x11/gnome
d7 3
a9 2
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/control-center/1.4/}
EXTRACT_SUFX=		.tar.bz2
d11 1
a11 3
LIB_DEPENDS=		gdk_pixbuf::graphics/gdk-pixbuf \
			gnorba,gtkxmhtml::x11/gnome/libs \
			gnomevfs.::x11/gnome/vfs
d13 1
a13 3
BUILD_DEPENDS=		:scrollkeeper->=0.3.12:textproc/scrollkeeper
RUN_DEPENDS=		:scrollkeeper->=0.3.12:textproc/scrollkeeper \
			:gtk-engines->=0.12:x11/gtk-engines
d15 1
a15 1
# GPL
a19 14
WANTLIB=		ICE IIOP Imlib ORBit ORBitCosNaming ORBitutil SM X11 \
			Xext Xi Xpm Xxf86misc art_lgpl audiofile c esd \
			gconf-1 gconf-gtk-1 gdk gdk_imlib glib gmodule gnome \
			gnomesupport gnomeui gthread gtk jpeg m \
			oaf png popt pthread tiff ungif wrap xml z

MODULES=		devel/gettext

USE_X11=		Yes
USE_LIBTOOL=		Yes
CONFIGURE_STYLE= 	gnu
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}
CONFIGURE_ENV=  	CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
d21 76
a96 2
pre-build:
	@@cd ${WRKSRC}/control-center; ../xml-i18n-merge ../po gnomecc.desktop.in gnomecc.desktop -d -p
d99 6
a104 2
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/control-center; \
	cp -Rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/control-center/
@


1.26
log
@HOMEPAGE is taken care of via Makefile.inc, so no need to have it defined
twice when the homepage is http://www.gnome.org/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/02/12 01:22:00 steven Exp $
@


1.25
log
@- add missing library in WANTLIB
- move iconv intl into MODULES=devel/gettext
- sync PLIST with new gettext
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2006/01/10 05:45:54 bernd Exp $
a8 2

HOMEPAGE=		http://www.gnome.org/
@


1.24
log
@SHARED_LIBS, USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/09/05 20:05:02 marcm Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d31 4
a34 2
			gnomesupport gnomeui gthread gtk iconv intl jpeg m \
			oaf png pthread tiff ungif wrap xml z
@


1.23
log
@Gnome1 can be maintained by ports@@ too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/12/15 13:57:56 alek Exp $
d6 2
d35 1
@


1.22
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/07/12 06:27:12 marcm Exp $
a8 1
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
@


1.21
log
@Don't try to use the custom scrollkeeper catalog anymore.  It's gone :).

Update *_DEPENDS version accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/01/02 03:37:19 marcm Exp $
d27 5
@


1.20
log
@Minor update to control-center.  The biggest change is the removal of
the screensaver capplet in favor of using xscreensaver-demo directly.
Also, some UI tweaks from the Hand of Ximian.

Take MAINTAINER as well.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/11/30 04:51:38 marcm Exp $
d18 2
a19 2
BUILD_DEPENDS=		:scrollkeeper->=0.3.11:textproc/scrollkeeper
RUN_DEPENDS=		:scrollkeeper->=0.3.11:textproc/scrollkeeper \
@


1.19
log
@Add -q flag to suppress warnings about XML validation, these apps don't
really use scrollkeeper anyway.

Also add support for local a XML catalog file so the new scrollkeeper
doesn't go off on the 'net to find the DTDs it needs.

ok nino@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/09/20 08:15:16 nino Exp $
d5 1
a5 1
DISTNAME=		control-center-1.4.0.4
d9 1
a9 1
MAINTAINER=		Nils Nordman <nino@@openbsd.org>
d15 1
a15 2
			gnomecanvaspixbuf::graphics/gdk-pixbuf,-gnome \
			gnome.36,gnorba,gtkxmhtml::x11/gnome/libs \
@


1.18
log
@Update email and MASTER_SITES, zap NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/05/31 10:15:40 nino Exp $
d19 2
a20 2
BUILD_DEPENDS=		:scrollkeeper-*:textproc/scrollkeeper
RUN_DEPENDS=		:scrollkeeper-*:textproc/scrollkeeper \
@


1.17
log
@The --local-statedirs was inconsistent for these ports, spotted by
Jolan Luff <jolan@@encryptedemail.net>. They are not used right now
anyhow, zap them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/05/15 18:05:19 espie Exp $
d7 1
a7 1
NEED_VERSION=   	1.504
d9 1
d11 1
a11 3
MAINTAINER=		Nils Nordman <nino@@nforced.com>

MASTER_SITES=		${MASTER_SITE_GNOME:=stable/sources/control-center/}
@


1.16
log
@kill some MASTER_SITE_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/03/23 06:24:49 brad Exp $
a32 1
CONFIGURE_ARGS+= 	--localstatedir=/var/gnome
@


1.15
log
@adjust for the change of GNOME Canvas being a FLAVOR of gdk-pixbuf to a sub-package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/03/02 15:45:50 nino Exp $
d12 1
a12 2
MASTER_SITES=		${MASTER_SITE_GNOME}
MASTER_SITE_SUBDIR= 	stable/sources/control-center
@


1.14
log
@Remove the workarounds for the bug in our sh since that has been fixed.

Ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/02/15 19:17:54 nino Exp $
d16 2
a17 1
LIB_DEPENDS=		gnomecanvaspixbuf,gdk_pixbuf::graphics/gdk-pixbuf,gnome \
@


1.13
log
@Update to control-center (1.4.0.1 -> 1.4.0.4)

* sort themes case-insensitively, select newly installed theme by
default, portability/compile/warning fixes, let sound-capplet restore
gmix mixer levels at startup, fix crash in theme-switcher on Solaris,
crash in theme-switcher on all platforms, don't truncate Debian name
in the splash screen.

Ok naddy@@, with additional testing by fries@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/11/30 09:18:42 wilfried Exp $
a18 1
BUILD_DEPENDS=		:zsh-*:shells/zsh/stable
a30 1
MAKE_FLAGS+=		LIBTOOL='$(WRKBUILD)/sh $(WRKBUILD)/libtool'
d38 1
a38 3
	@@ln -sf $(LOCALBASE)/bin/zsh ${WRKBUILD}/sh; \
	cd ${WRKSRC}/control-center; ../xml-i18n-merge ../po gnomecc.desktop.in gnomecc.desktop -d -p

@


1.12
log
@- Better RUN_DEPENDS/BUILD_DEPENDS
- md5 -> distinfo
- Bump NEED_VERSION
from maintainer Nils Nordman <nino@@nforced.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/10/17 13:17:00 espie Exp $
d4 2
a5 2
V=			1.4.0.1
DISTNAME=		control-center-${V}
d7 3
a9 2
NEED_VERSION=   	1.498
HOMEPAGE=		http://www.gnome.org
d14 1
a14 4

PATCH_LIST=             ${PORTSDIR}/infrastructure/patches/patch-lt1.3.5-ltconfig \
                        ${PORTSDIR}/infrastructure/patches/patch-lt1.3.5-ltmain_sh \
                        patch-*
d19 1
d25 1
d32 1
d37 5
a41 1
			LDFLAGS="-L${LOCALBASE}/lib -loaf"
a42 3
post-extract:
	@@mv ${WRKSRC}/capplets/screensaver-properties/screensaver-desktops/Superquadrics.desktop.i \
	    ${WRKSRC}/capplets/screensaver-properties/screensaver-desktops/Superquadrics.desktop.in;
d46 1
a46 1
	cp -pR ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/control-center/
@


1.11
log
@dependency fix-up, after looking more closely.
I want to put the full dependencies in on these two because it becomes
too hairy to sort through otherwise...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/10/16 17:01:44 espie Exp $
d7 1
a7 1
NEED_VERSION=   	1.473
d22 3
a24 3
BUILD_DEPENDS=		::textproc/scrollkeeper
RUN_DEPENDS=		::textproc/scrollkeeper \
			::x11/gtk-engines
@


1.10
log
@Wants Imlib. I'm not sure it's controlcenter specifically, but I don't
want to track it down more precisely.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/10/09 16:28:44 naddy Exp $
d18 1
a18 1
LIB_DEPENDS=		gnomecanvaspixbuf.::graphics/gdk-pixbuf,gnome \
d20 1
a20 2
			gnomevfs.::x11/gnome/vfs \
			Imlib,gdk_pixbuf::graphics/imlib
@


1.9
log
@Depend on x11/gtk-engines; from maintainer Nils Nordman <nino@@nforced.com>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/10/07 20:55:11 naddy Exp $
d19 3
a21 2
			gnome.36::x11/gnome/libs \
			gnomevfs.::x11/gnome/vfs
@


1.8
log
@* Use in-tree libtool patches
* Bump NEED_VERSION
* Fix and improve CATEGORIES
Submitted by maintainer Nils Nordman <nino@@nforced.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/09/20 18:53:54 naddy Exp $
d22 3
a24 2
BUILD_DEPENDS=		scrollkeeper-config::textproc/scrollkeeper
RUN_DEPENDS=		scrollkeeper-config::textproc/scrollkeeper
d44 1
a44 1
	cp -rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/control-center/
@


1.7
log
@* Use variables instead of hardcoded prefixes.
* Take care to set a sane PATH.
* Add set -e
* Copy example files into ${PREFIX}/share/examples/PORTNAME.
* Replace PKGNAME with P_NAME in INSTALL/DEINSTALL scripts, unclear
  since it already exists in the Makefile with a different value.
* Change output of INSTALL/DEINSTALL to be more like other scripts
  found in the tree (suggested by heko@@).
* Move scrollkeeper-update stuff to PLIST
* Remove non-owned entries from PLIST

Submitted by maintainer Nils Nordman <nino@@nforced.com>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/09/20 18:39:13 naddy Exp $
d6 2
a7 2
CATEGORIES=		x11 gnome
NEED_VERSION=   	1.455
d14 4
d21 1
@


1.6
log
@remove gratuitous gmake dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/09/20 01:32:03 naddy Exp $
d37 2
a38 2
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/control-center; \
	cp -r ${PREFIX}/../../etc/* ${PREFIX}/share/control-center/
@


1.5
log
@fix configure script directly, not worth running autoconf
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/09/19 11:43:53 naddy Exp $
a25 1
USE_GMAKE=		Yes
@


1.4
log
@oops, restore correct RUN_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/09/18 20:28:53 naddy Exp $
d27 1
a27 1
CONFIGURE_STYLE= 	autoconf
@


1.3
log
@- gettext fixes
- sync libtool patches
- miscellaneous clean-ups
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/09/14 14:41:30 todd Exp $
d18 1
a18 1
RUN_DEPENDS=		${BUILD_DEPENDS}
@


1.2
log
@crank NEED_VERSION= because these require current
use ${HOMEPAGE} in pkg/DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/09/13 21:38:02 todd Exp $
d3 1
a3 1
COMMENT=		"the GNOME control center"
d17 2
a18 2
BUILD_DEPENDS=          scrollkeeper-config::textproc/scrollkeeper
RUN_DEPENDS=            scrollkeeper-config::textproc/scrollkeeper
d27 1
a27 1
CONFIGURE_STYLE= 	gnu
d38 1
a38 1
	@@install -d ${PREFIX}/share/control-center; \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
NEED_VERSION=   	1.384
@


1.1.1.1
log
@the GNOME control center
@
text
@@


1.1.1.2
log
@Re-import an updated gnome-control-center-3.0.2 from x11/gnome3 under
x11/gnome/controlcenter.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/07/01 23:30:33 ajacoutot Exp $
d3 16
a18 1
SHARED_ONLY=		Yes
a19 11
COMMENT=		GNOME control center

GNOME_PROJECT=		gnome-control-center
GNOME_VERSION=		3.0.2
REVISION=		0

SHARED_LIBS +=  gnome-control-center      0.0 # 1.0

CATEGORIES=		x11

# GPLv2
d25 11
a35 76
WANTLIB += GL ICE ORBit-2 SM X11 X11-xcb Xau Xcomposite Xcursor
WANTLIB += Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender
WANTLIB += Xxf86vm asn1 atk-1.0 c cairo cairo-gobject crypto cups
WANTLIB += dbus-1 dbus-glib-1 drm execinfo expat fontconfig freetype
WANTLIB += gconf-2 gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-desktop-3 gnome-menu gnomekbd gnomekbdui gobject-2.0
WANTLIB += gssapi gthread-2.0 gtk-3 gtop-2.0 krb5 kvm m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png polkit-gobject-1
WANTLIB += pthread pthread-stubs ssl startup-notification-1 upower-glib
WANTLIB += xcb xcb-atom xcb-aux xcb-event xcb-render xcb-shm xkbfile
WANTLIB += xklavier xml2 z

MODULES=		devel/gettext \
			x11/gnome

LIB_DEPENDS=		x11/gnome/desktop \
			x11/gnome/menus \
			x11/gnome/libgnomekbd \
			sysutils/upower \
			devel/libgtop2 \
			print/cups

BUILD_DEPENDS=		x11/gnome/settings-daemon \
			devel/gsettings-desktop-schemas
RUN_DEPENDS=		x11/gnome/settings-daemon \
			devel/gsettings-desktop-schemas

# NOTE that a11y dependencies (e.g. mousetweaks, caribou...) are not
# enforced on purpose.

# needed for gnome-power-panel+gnome-screen-panel
RUN_DEPENDS+=		x11/gnome/power-manager

# needed for gnome-printers-panel
# (and it would make no sense not to have gtk+3-cups in this case)
RUN_DEPENDS+=		print/cups-pk-helper \
			x11/gtk+3,-cups

# needed for gnome-screen-panel
RUN_DEPENDS+=		x11/gnome/screensaver

# needed for gnome-user-accounts-panel
RUN_DEPENDS+=		sysutils/accountsservice \
			security/apg

MODGNOME_HELP_FILES=	Yes
DESKTOP_FILES=		Yes

# Language code is synced with gdm but gnome-control-center does not
# provide a --with-incomplete-locales configure switch.
CFLAGS +=       -DWITH_INCOMPLETE_LOCALES

CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-update-mimedb \
		--without-cheese \
		--enable-cups

# Disable libsocialweb support until Flickr integration is fixed upstream.
CONFIGURE_ARGS+=--without-libsocialweb

CONFIGURE_ENV= 	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"

FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples/gnome-control-center \
		pkgconfigdir=${PREFIX}/lib/pkgconfig/

# Plugins that are not fully working yet:
# * gnome-media-panel needs udev to take appropriate action on device
#   plug (see patch-schemas_org_gnome_desktop_media-handling_gschema_xml_in_in
#   in devel/gsettings-desktop-schemas).
# * gnome-power-panel needs a fully working gnome-power-manager
#   (userland cannot be made aware of power/button events yet).
DISABLED_PLUGINS= media power

pre-configure:
	${SUBST_CMD} ${WRKSRC}/panels/printers/cc-printers-panel.c
d38 2
a39 6
.for i in ${DISABLED_PLUGINS}
	cd ${PREFIX} && \
		rm lib/control-center-1/panels/lib$i.* ;\
		rm share/applications/gnome-$i-panel.desktop ;\
		rm share/gnome-control-center/ui/*$i*.ui
.endfor
@

