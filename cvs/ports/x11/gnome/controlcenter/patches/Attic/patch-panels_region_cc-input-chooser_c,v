head	1.6;
access;
symbols
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2015.04.03.11.42.41;	author ajacoutot;	state dead;
branches;
next	1.5;
commitid	dGrJpdq11U5BfWU0;

1.5
date	2015.03.20.15.52.03;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	VMmzkQ6rN5IzZgCC;

1.4
date	2014.11.13.17.32.17;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	a8DqHiPzvYoX2H2i;

1.3
date	2014.10.29.14.48.05;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	vtJsHaxm2ySoKONP;

1.2
date	2014.10.06.08.27.34;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	VhPh8bykLi1uau0u;

1.1
date	2014.04.11.19.12.10;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to gnome-control-center-3.16.0.
@
text
@$OpenBSD: patch-panels_region_cc-input-chooser_c,v 1.5 2015/03/20 15:52:03 ajacoutot Exp $

From 880f9f147531e0b21b2566ff96c905dd19ec19dd Mon Sep 17 00:00:00 2001
From: Rui Matos <tiagomatos@@gmail.com>
Date: Mon, 20 Jan 2014 22:42:56 +0100
Subject: Use 'UTF-8' instead of 'utf8' as locale codeset suffix

--- panels/region/cc-input-chooser.c.orig	Thu Mar 19 19:36:58 2015
+++ panels/region/cc-input-chooser.c	Fri Mar 20 16:30:33 2015
@@@@ -898,7 +898,7 @@@@ get_ibus_locale_infos (GtkWidget *chooser)
           lang_code != NULL &&
           country_code != NULL)
         {
-          gchar *locale = g_strdup_printf ("%s_%s.utf8", lang_code, country_code);
+          gchar *locale = g_strdup_printf ("%s_%s.UTF-8", lang_code, country_code);
 
           info = g_hash_table_lookup (priv->locales, locale);
           if (info)
@@@@ -1024,9 +1024,9 @@@@ get_locale_infos (GtkWidget *chooser)
         continue;
 
       if (country_code != NULL)
-	simple_locale = g_strdup_printf ("%s_%s.utf8", lang_code, country_code);
+	simple_locale = g_strdup_printf ("%s_%s.UTF-8", lang_code, country_code);
       else
-	simple_locale = g_strdup_printf ("%s.utf8", lang_code);
+	simple_locale = g_strdup_printf ("%s.UTF-8", lang_code);
 
       if (g_hash_table_contains (priv->locales, simple_locale))
         {
@


1.5
log
@Update to gnome-control-center-3.14.4.
@
text
@d1 1
a1 1
$OpenBSD: patch-panels_region_cc-input-chooser_c,v 1.4 2014/11/13 17:32:17 ajacoutot Exp $
@


1.4
log
@Update to gnome-control-center-3.14.2.
@
text
@d1 1
a1 1
$OpenBSD: patch-panels_region_cc-input-chooser_c,v 1.3 2014/10/29 14:48:05 ajacoutot Exp $
d8 3
a10 3
--- panels/region/cc-input-chooser.c.orig	Tue Nov 11 17:17:51 2014
+++ panels/region/cc-input-chooser.c	Wed Nov 12 10:00:36 2014
@@@@ -897,7 +897,7 @@@@ get_ibus_locale_infos (GtkWidget *chooser)
d19 1
a19 1
@@@@ -1023,9 +1023,9 @@@@ get_locale_infos (GtkWidget *chooser)
@


1.3
log
@Merge with what has been committed upstream.
@
text
@d1 1
a1 1
$OpenBSD: patch-panels_region_cc-input-chooser_c,v 1.2 2014/10/06 08:27:34 ajacoutot Exp $
d8 2
a9 2
--- panels/region/cc-input-chooser.c.orig	Fri Jul 18 16:05:33 2014
+++ panels/region/cc-input-chooser.c	Mon Oct  6 09:42:44 2014
d19 1
a19 2
@@@@ -1022,7 +1022,7 @@@@ get_locale_infos (GtkWidget *chooser)
       if (!gnome_parse_locale (*locale, &lang_code, &country_code, NULL, NULL))
d22 7
a28 2
-      simple_locale = g_strdup_printf ("%s_%s.utf8", lang_code, country_code);
+      simple_locale = g_strdup_printf ("%s_%s.UTF-8", lang_code, country_code);
a30 1
           g_free (simple_locale);
@


1.2
log
@Update to gnome-control-center-3.14.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-panels_region_cc-input-chooser_c,v 1.1 2014/04/11 19:12:10 ajacoutot Exp $
d3 4
a6 1
https://bugzilla.gnome.org/show_bug.cgi?id=710412
@


1.1
log
@Better locale patch (GNOME BZ #710412).
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- panels/region/cc-input-chooser.c.orig	Mon Mar  3 12:55:25 2014
+++ panels/region/cc-input-chooser.c	Fri Apr 11 20:38:17 2014
@@@@ -889,7 +889,7 @@@@ get_ibus_locale_infos (GtkWidget *chooser)
d16 1
a16 1
@@@@ -1014,7 +1014,7 @@@@ get_locale_infos (GtkWidget *chooser)
@

