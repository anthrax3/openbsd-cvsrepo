head	1.38;
access;
symbols
	OPENBSD_6_2:1.38.0.2
	OPENBSD_6_2_BASE:1.38
	OPENBSD_6_1:1.37.0.8
	OPENBSD_6_1_BASE:1.37
	OPENBSD_6_0:1.37.0.6
	OPENBSD_6_0_BASE:1.37
	OPENBSD_5_9:1.37.0.2
	OPENBSD_5_9_BASE:1.37
	OPENBSD_5_8:1.37.0.4
	OPENBSD_5_8_BASE:1.37
	OPENBSD_5_7:1.36.0.6
	OPENBSD_5_7_BASE:1.36
	OPENBSD_5_6:1.36.0.4
	OPENBSD_5_6_BASE:1.36
	OPENBSD_5_5:1.36.0.2
	OPENBSD_5_5_BASE:1.36
	OPENBSD_5_4:1.35.0.2
	OPENBSD_5_4_BASE:1.35
	OPENBSD_5_3:1.32.0.2
	OPENBSD_5_3_BASE:1.32
	OPENBSD_5_2:1.31.0.2
	OPENBSD_5_2_BASE:1.31
	OPENBSD_5_1_BASE:1.30
	OPENBSD_5_1:1.30.0.2
	OPENBSD_5_0:1.28.0.4
	OPENBSD_5_0_BASE:1.28
	OPENBSD_4_9:1.28.0.2
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.24.0.2
	OPENBSD_4_8_BASE:1.24
	OPENBSD_4_7:1.23.0.2
	OPENBSD_4_7_BASE:1.23
	OPENBSD_4_6:1.22.0.4
	OPENBSD_4_6_BASE:1.22
	OPENBSD_4_5:1.22.0.2
	OPENBSD_4_5_BASE:1.22
	OPENBSD_4_4:1.19.0.4
	OPENBSD_4_4_BASE:1.19
	OPENBSD_4_3:1.19.0.2
	OPENBSD_4_3_BASE:1.19
	OPENBSD_4_2:1.18.0.2
	OPENBSD_4_2_BASE:1.18
	OPENBSD_4_1:1.14.0.2
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.13.0.6
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.4
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.2
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.12.0.2
	OPENBSD_3_7_BASE:1.12
	OPENBSD_3_6:1.9.0.4
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.9.0.2
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.7.0.2
	OPENBSD_3_4_BASE:1.7
	OPENBSD_3_3:1.5.0.2
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.4.0.2
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.1.1.1.0.2
	OPENBSD_3_1_BASE:1.1.1.1
	start:1.1.1.1
	nino:1.1.1;
locks; strict;
comment	@# @;


1.38
date	2017.04.13.07.38.45;	author ajacoutot;	state Exp;
branches;
next	1.37;
commitid	lvCz8KVE6EBCyLTt;

1.37
date	2015.05.22.11.36.16;	author ajacoutot;	state Exp;
branches;
next	1.36;
commitid	xOFjcZcFz55vTZ3d;

1.36
date	2013.09.28.08.51.24;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2013.06.01.20.23.15;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2013.06.01.19.43.39;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2013.03.11.11.46.11;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2012.11.17.09.40.42;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2012.03.19.10.28.48;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2011.09.28.09.47.47;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2011.09.12.12.04.17;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2011.01.18.20.08.24;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2011.01.18.20.03.07;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2010.10.19.15.21.04;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2010.10.18.13.18.15;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2010.07.13.20.37.03;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.10.15.15.55.16;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2009.02.11.15.50.30;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2009.02.11.15.47.51;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2009.02.11.15.33.52;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2008.02.04.17.55.19;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2007.07.11.19.46.58;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2007.07.05.22.50.11;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2007.05.30.09.56.30;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2007.03.17.14.17.58;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2007.01.18.21.48.54;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2005.05.26.03.39.32;	author marcm;	state Exp;
branches;
next	1.12;

1.12
date	2004.12.20.07.28.00;	author alek;	state Exp;
branches;
next	1.11;

1.11
date	2004.12.14.01.14.44;	author marcm;	state Exp;
branches;
next	1.10;

1.10
date	2004.10.17.04.41.20;	author marcm;	state Exp;
branches;
next	1.9;

1.9
date	2004.02.22.05.33.53;	author marcm;	state Exp;
branches;
next	1.8;

1.8
date	2003.10.07.05.48.55;	author marcm;	state Exp;
branches;
next	1.7;

1.7
date	2003.08.06.20.45.05;	author marcm;	state Exp;
branches;
next	1.6;

1.6
date	2003.06.12.19.52.11;	author marcm;	state Exp;
branches;
next	1.5;

1.5
date	2002.12.01.19.59.31;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2002.09.20.08.15.16;	author nino;	state Exp;
branches;
next	1.3;

1.3
date	2002.08.08.20.01.36;	author nino;	state Exp;
branches;
next	1.2;

1.2
date	2002.05.15.18.05.18;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.02.15.19.12.21;	author nino;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.02.15.19.12.21;	author nino;	state Exp;
branches;
next	;


desc
@@


1.38
log
@Stop setting CONFIGURE_STYLE in Makefile.inc but explicitely add it to ports
that need it; in the future more and more ports will move to meson build anyway.
I first though I'd set CONFIGURE_STYLE in gnome.port.mk but it's too fragile
(MODULES list must be sorted very carefully).
Less magic is good.

discussed with jasper@@
@
text
@# $OpenBSD: Makefile,v 1.37 2015/05/22 11:36:16 ajacoutot Exp $

COMMENT=		MIME and application database for GNOME

GNOME_PROJECT=		gnome-mime-data
GNOME_VERSION=		2.18.0
CATEGORIES=		x11
REVISION=		8

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

EXTRACT_SUFX=		.tar.bz2

MODULES=		x11/gnome

FAKE_FLAGS=		sysconfdir=${PREFIX}/share/examples/gnome-mime-data/

CONFIGURE_STYLE=	gnu

.include <bsd.port.mk>
@


1.37
log
@"/usr/local/share/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/09/28 08:51:24 ajacoutot Exp $
d18 2
@


1.36
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/06/01 20:23:15 ajacoutot Exp $
d8 1
a8 1
REVISION=		7
@


1.35
log
@Drop uneeded CONFIGURE_STYLE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/06/01 19:43:39 ajacoutot Exp $
d8 1
a8 1
REVISION=		6
@


1.34
log
@Not needed anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/03/11 11:46:11 espie Exp $
a15 2

CONFIGURE_STYLE= 	gnu old
@


1.33
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2012/11/17 09:40:42 ajacoutot Exp $
d8 1
a8 1
REVISION=		5
@


1.32
log
@Default libtool(1) is in base now so there is no point in settings
USE_LIBTOOL to no since this has no implication on the build for these
particular ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2012/03/19 10:28:48 ajacoutot Exp $
a11 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.31
log
@Our pkg-config(1) can now cope with files under share/pkgconfig, so
remove these now unneeded hacks/patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/09/28 09:47:47 jasper Exp $
a19 1
USE_LIBTOOL=		No
@


1.30
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/09/12 12:04:17 jasper Exp $
d8 1
a8 1
REVISION=		4
d23 1
a23 2
FAKE_FLAGS=		pkgconfigdir=${PREFIX}/lib/pkgconfig/ \
			sysconfdir=${PREFIX}/share/examples/gnome-mime-data/
@


1.29
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/01/18 20:08:24 ajacoutot Exp $
a21 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.28
log
@Remove the post-install target and use FAKE_FLAGS instead.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/01/18 20:03:07 ajacoutot Exp $
d15 2
@


1.27
log
@Remove the need for ${SYSCONFDIR}/gnome and use ${SYSCONFDIR} instead.
Discussed with landry@@ and jasper@@

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/10/19 15:21:04 ajacoutot Exp $
d3 1
a3 1
COMMENT=		MIME and Application database for GNOME
d8 1
a8 1
REVISION=		3
d23 2
a24 5
FAKE_FLAGS+=		pkgconfigdir=${PREFIX}/lib/pkgconfig/

post-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnome-mime-data; \
	cp -Rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/gnome-mime-data/
@


1.26
log
@Remove USE_X11=No, it's no needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/10/18 13:18:15 jasper Exp $
d8 1
a8 1
REVISION=		2
a21 1
CONFIGURE_ARGS+=	--sysconfdir="${SYSCONFDIR}/gnome"
d27 1
a27 1
	cp -Rp ${WRKINST}/${SYSCONFDIR}/gnome/* ${PREFIX}/share/examples/gnome-mime-data/
@


1.25
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/07/13 20:37:03 ajacoutot Exp $
a17 1
USE_X11=		No
@


1.24
log
@Use REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/10/15 15:55:16 jasper Exp $
d18 1
@


1.23
log
@- less patches, the better
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/02/11 15:50:30 jasper Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p2
@


1.22
log
@- add missing license markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/02/11 15:47:51 jasper Exp $
d23 2
@


1.21
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/02/11 15:33:52 jasper Exp $
d10 1
a10 1
# GPL
@


1.20
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/02/04 17:55:19 jasper Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p1
@


1.19
log
@let's face it....add myself as maintainer

requested by and ok ajacoutot@@, ok fkr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/07/11 19:46:58 jasper Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p0
@


1.18
log
@update gnome-mime-data to 2.18.0

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/07/05 22:50:11 jasper Exp $
d8 1
@


1.17
log
@convert these gnome ports to use the new x11/gnome module.

this module is now mature enough to be used in new ports too.

feedback and ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/05/30 09:56:30 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		2.4.3
PKGNAME=		${DISTNAME}p0
@


1.16
log
@HOMEPAGE is taken care of via Makefile.inc, so no need to have it defined
twice when the homepage is http://www.gnome.org/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/03/17 14:17:58 jasper Exp $
d3 1
a3 1
COMMENT=		"MIME and Application database for GNOME"
d5 2
a6 1
DISTNAME=		gnome-mime-data-2.4.3
d8 1
a8 4
CATEGORIES=		x11 x11/gnome

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-mime-data/2.4/}
EXTRACT_SUFX=		.tar.bz2
d16 1
a16 1
BUILD_DEPENDS=		:p5-XML-Parser-*:textproc/p5-XML-Parser
d18 1
a18 1
USE_GMAKE=		Yes
@


1.15
log
@fix location of `locale',
bump PKGNAME.

from Mikolaj Kucharski <mikolaj.kucharski@@gmail.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/01/18 21:48:54 jasper Exp $
a7 1
HOMEPAGE=		http://www.gnome.org/
@


1.14
log
@update gnome-mime-data to 2.4.3

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2005/05/26 03:39:32 marcm Exp $
d6 1
d19 1
a19 2
BUILD_DEPENDS=		::devel/gettext \
			:p5-XML-Parser-*:textproc/p5-XML-Parser
d23 2
a25 1
CONFIGURE_ENV=		GMSGFMT="${LOCALBASE}/bin/msgfmt"
@


1.13
log
@Gnome 2.10.0/2.10.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/12/20 07:28:00 alek Exp $
d5 1
a5 1
DISTNAME=		gnome-mime-data-2.4.2
d18 2
a19 1
BUILD_DEPENDS=		:p5-XML-Parser-*:textproc/p5-XML-Parser
d21 1
d24 1
@


1.12
log
@Add missing BUILD_DEPENDS (textproc/p5-XML-Parser)

ok marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/12/14 01:14:44 marcm Exp $
a7 2

MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
@


1.11
log
@Update to their GNOME 2.8.2 versions:

metacity        2.8.6 -> 2.8.8
gnome-mime-data 2.4.1 -> 2.4.2
nautilus        2.8.1 -> 2.8.2
gnome-panel     2.8.1 -> 2.8.2
gnome-terminal  2.8.0 -> 2.8.2
gnome-vfs2      2.8.2 -> 2.8.3
yelp            2.6.4 -> 2.6.5

GNOME 2.8.2 was announced right before I committed 2.8.1, sheesh.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/10/17 04:41:20 marcm Exp $
d19 2
@


1.10
log
@Simplify Gnome config file handling.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/02/22 05:33:53 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-mime-data-2.4.1
@


1.9
log
@Update to Gnome 2.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2003/10/07 05:48:55 marcm Exp $
a19 2
CONFDIR=		${SYSCONFDIR}/gnome
SEPARATE_BUILD=		concurrent
d21 1
a21 2
CONFIGURE_ARGS+=	--sysconfdir="${CONFDIR}"
SUBST_VARS=		CONFDIR
d25 1
a25 1
	cp -Rp ${WRKINST}/${CONFDIR}/* ${PREFIX}/share/examples/gnome-mime-data/
@


1.8
log
@Update to Gnome 2.4.0.
Release notes available at: http://www.gnome.org/start/2.4/notes/

Please note that x11/gnome/bonobo-activation is now part of libbonobo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/06/12 19:52:11 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-mime-data-2.4.0
@


1.7
log
@Update to GNOME 2.2.2.
@
text
@d5 1
a5 1
DISTNAME=		gnome-mime-data-2.2.1
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-mime-data/2.2/}
@


1.6
log
@Update to 2.2.0 in support of Gnome 2.2.1.

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/12/01 19:59:31 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-mime-data-2.2.0
@


1.5
log
@Take maintainership.

ok nino@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/09/20 08:15:16 nino Exp $
d5 1
a5 1
DISTNAME=		gnome-mime-data-2.0.0
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-mime-data/2.0/}
d20 1
d22 3
a24 1
CONFIGURE_STYLE= 	gnu
d28 1
a28 1
	cp -Rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/gnome-mime-data/
@


1.4
log
@Update email and MASTER_SITES, zap NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/08/08 20:01:36 nino Exp $
d9 1
a9 1
MAINTAINER=		Nils Nordman <nino@@openbsd.org>
@


1.3
log
@Update to 2.0.0.

Slightly adapted from a patch from Marc Matteo <marcm@@lectroid.net>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/05/15 18:05:18 espie Exp $
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=2.0.0/sources/gnome-mime-data/}
@


1.2
log
@kill some MASTER_SITE_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/02/15 19:12:21 nino Exp $
d5 1
a5 1
DISTNAME=		gnome-mime-data-1.0.1
a6 1
NEED_VERSION=   	1.504
d9 1
a9 1
MAINTAINER=		Nils Nordman <nino@@nforced.com>
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=stable/sources/gnome-mime-data/}
a12 1
CONFIGURE_STYLE= 	gnu
d19 3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/01/22 15:34:59 naddy Exp $
d12 1
a12 2
MASTER_SITES=		${MASTER_SITE_GNOME}
MASTER_SITE_SUBDIR= 	stable/sources/gnome-mime-data
@


1.1.1.1
log
@Import mime-data 1.0.1

mime-data contains the base MIME and Application database for GNOME.
It is meant to be accessed through the MIME functions in GnomeVFS.
@
text
@@
