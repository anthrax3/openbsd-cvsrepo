head	1.72;
access;
symbols
	OPENBSD_6_0:1.72.0.2
	OPENBSD_6_0_BASE:1.72
	OPENBSD_5_9:1.70.0.2
	OPENBSD_5_9_BASE:1.70
	OPENBSD_5_8:1.70.0.4
	OPENBSD_5_8_BASE:1.70
	OPENBSD_5_7:1.66.0.4
	OPENBSD_5_7_BASE:1.66
	OPENBSD_5_6:1.66.0.2
	OPENBSD_5_6_BASE:1.66
	OPENBSD_5_5:1.63.0.2
	OPENBSD_5_5_BASE:1.63
	OPENBSD_5_4:1.59.0.2
	OPENBSD_5_4_BASE:1.59
	OPENBSD_5_3:1.53.0.2
	OPENBSD_5_3_BASE:1.53
	OPENBSD_5_2:1.51.0.2
	OPENBSD_5_2_BASE:1.51
	OPENBSD_5_1_BASE:1.50
	OPENBSD_5_1:1.50.0.2
	OPENBSD_5_0:1.41.0.2
	OPENBSD_5_0_BASE:1.41
	OPENBSD_4_9:1.38.0.2
	OPENBSD_4_9_BASE:1.38
	OPENBSD_4_8:1.30.0.2
	OPENBSD_4_8_BASE:1.30
	OPENBSD_4_7:1.27.0.2
	OPENBSD_4_7_BASE:1.27
	OPENBSD_4_6:1.23.0.2
	OPENBSD_4_6_BASE:1.23
	OPENBSD_4_5:1.14.0.2
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.9.0.2
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	jasper_20070916:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.72
date	2016.04.28.09.37.23;	author jasper;	state Exp;
branches;
next	1.71;
commitid	UJeQrGEEpoU9WMQg;

1.71
date	2016.04.27.09.47.44;	author jasper;	state Exp;
branches;
next	1.70;
commitid	U2eRFSfZh3zZ3JkS;

1.70
date	2015.05.22.11.31.19;	author ajacoutot;	state Exp;
branches;
next	1.69;
commitid	2khjHXfpTaOuNVcx;

1.69
date	2015.04.21.18.51.26;	author sthen;	state Exp;
branches;
next	1.68;
commitid	ptMCPiyuhL0JiHRZ;

1.68
date	2015.04.04.09.21.07;	author ajacoutot;	state Exp;
branches;
next	1.67;
commitid	kS3kwKZogsvzYmEY;

1.67
date	2015.03.27.08.16.17;	author ajacoutot;	state Exp;
branches;
next	1.66;
commitid	BUhOiEl2FUSRKwq7;

1.66
date	2014.04.02.09.36.14;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2014.04.01.18.06.32;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2014.04.01.17.03.15;	author jasper;	state Exp;
branches;
next	1.63;

1.63
date	2013.10.15.09.43.55;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2013.09.28.08.51.27;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2013.09.27.17.49.11;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2013.09.27.12.37.20;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2013.05.31.15.35.08;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2013.04.03.06.42.28;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2013.03.31.06.44.21;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2013.03.29.13.20.12;	author jasper;	state Exp;
branches;
next	1.55;

1.55
date	2013.03.29.13.19.36;	author jasper;	state Exp;
branches;
next	1.54;

1.54
date	2013.03.11.11.46.11;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2013.02.06.14.23.07;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2012.09.29.10.52.28;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2012.06.15.08.30.20;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2011.12.25.09.55.12;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2011.12.03.22.17.16;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2011.10.29.08.12.33;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2011.09.28.09.47.47;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2011.09.20.21.10.01;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2011.09.20.20.52.46;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2011.09.19.07.44.59;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2011.09.16.12.29.14;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2011.09.12.12.04.17;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2011.07.26.15.36.27;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2011.07.05.07.48.52;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2011.06.08.17.41.57;	author rpointel;	state Exp;
branches;
next	1.38;

1.38
date	2011.01.18.20.03.07;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2010.11.22.08.36.58;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2010.10.24.15.53.56;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.19.08.13.57;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.18.13.18.15;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2010.10.11.08.19.20;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2010.10.01.12.12.24;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2010.08.30.21.53.59;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2010.07.25.08.15.33;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.07.13.20.37.03;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2010.04.24.17.00.35;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.12.21.18.03.19;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2009.11.18.14.08.31;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2009.09.02.07.44.16;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2009.08.11.08.39.39;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.06.25.00.38.37;	author sthen;	state Exp;
branches;
next	1.22;

1.22
date	2009.06.11.18.38.17;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.06.08.17.59.15;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.06.07.10.46.41;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2009.04.26.11.01.05;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2009.04.15.21.12.59;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.04.06.10.05.21;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2009.03.14.11.36.25;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.03.14.10.40.53;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.02.11.15.47.51;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2009.02.11.15.33.52;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2009.01.22.18.40.14;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2009.01.20.23.13.31;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2008.12.17.18.47.58;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2008.07.18.12.06.42;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2008.05.26.10.28.46;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2008.04.17.08.46.48;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.02.16.19.46.03;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2008.02.04.17.55.19;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2008.01.04.17.41.31;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2007.12.16.11.44.29;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2007.10.08.08.22.43;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2007.09.16.19.51.52;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.09.16.19.51.52;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.72
log
@remaining bumps, sorry 'bout that
@
text
@# $OpenBSD: Makefile,v 1.71 2016/04/27 09:47:44 jasper Exp $

COMMENT=		project management application

GNOME_PROJECT=		planner
GNOME_VERSION=		0.14.6
EPOCH=			0
REVISION=		7

# Fedora patches as of 2013-08-04 04:26:11 (GMT)
MASTER_SITES0=		http://pkgs.fedoraproject.org/cgit/planner.git/plain/
PATCH_DIST_STRIP=	-p1
FEDORA_PATCHES=		planner-gnome596173-xdg \
			planner-gnome596966-editoninsert \
			planner-gnome550559-fitzoom \
			planner-gnome603693-planner-calendar-for-edittask \
			planner-gnome604169-comboboxentry \
			planner-gnome604510.calcolors \
			planner-gnome604531-tooltips \
			planner-gnome581282-printpreview \
			planner-gnome606824-notecolumn \
			planner-gnome341504-paste.tasks \
			planner-gnome615641-multiselect \
			planner-gnome655803-bad-LC_TIME \
			planner-desktop-warnings
.for p in ${FEDORA_PATCHES}
PATCHFILES +=		$p.patch:0
.endfor

CATEGORIES=		productivity

SHARED_LIBS +=  planner-1            0.0      # .0.0

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE ORBit-2 ORBitCosNaming-2 SM X11 Xcomposite Xcursor
WANTLIB += Xdamage Xext Xfixes Xi Xinerama Xrandr Xrender art_lgpl_2
WANTLIB += atk-1.0 bonobo-2 bonobo-activation bonoboui-2 c cairo
WANTLIB += canberra crypto dbus-1 dbus-glib-1 expat exslt ffi fontconfig
WANTLIB += freetype gailutil gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glade-2.0 glib-2.0 gmodule-2.0 gnome-2 gnome-keyring
WANTLIB += gnomecanvas-2 gnomeui-2 gnomevfs-2 gobject-2.0 gpg-error
WANTLIB += graphite2 gthread-2.0 gtk-x11-2.0 harfbuzz ltdl lzma m ogg
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png popt
WANTLIB += pthread pthread-stubs ssl util vorbis vorbisfile xcb
WANTLIB += xcb-render xcb-shm xml2 xslt z iconv intl

MODULES=		x11/gnome \
			devel/gconf2

LIB_DEPENDS=		security/libgcrypt \
			textproc/libxslt \
			x11/gnome/libgnomecanvas \
			x11/gnome/libgnomeui

MODGNOME_TOOLS += desktop-file-utils gtk-update-icon-cache shared-mime-info yelp

MODGCONF2_SCHEMAS_DIR=	planner

CONFIGURE_ARGS= 	--disable-python \
			--disable-eds \
			--disable-eds-backend \
			--without-database

post-install:
	rm ${PREFIX}/lib/planner/{file-modules,plugins,storage-modules}/*.{a,la}

.include <bsd.port.mk>
@


1.71
log
@drop gettext module and sync WANTLIB where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2015/05/22 11:31:19 ajacoutot Exp $
d8 1
a8 1
REVISION=		6
@


1.70
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2015/04/21 18:51:26 sthen Exp $
d47 1
a47 1
WANTLIB += xcb-render xcb-shm xml2 xslt z
d49 1
a49 2
MODULES=		devel/gettext \
			x11/gnome \
@


1.69
log
@add some simple missing lzma WANTLIBs (crept in via libxml)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2015/04/04 09:21:07 ajacoutot Exp $
d8 1
a8 1
REVISION=		5
@


1.68
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2015/03/27 08:16:17 ajacoutot Exp $
d8 1
a8 1
REVISION=		4
d40 3
a42 3
WANTLIB += canberra crypto dbus-1 dbus-glib-1 expat exslt ffi
WANTLIB += fontconfig freetype gailutil gcrypt gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glade-2.0 glib-2.0 gmodule-2.0 gnome-2 gnome-keyring
d44 4
a47 4
WANTLIB += graphite2 gthread-2.0 gtk-x11-2.0 harfbuzz ltdl m ogg
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png popt pthread pthread-stubs ssl util vorbis vorbisfile
WANTLIB += xcb xcb-render xcb-shm xml2 xslt z
@


1.67
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2014/04/02 09:36:14 jasper Exp $
d8 1
a8 1
REVISION=		3
@


1.66
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2014/04/01 18:06:32 jasper Exp $
d8 1
a8 1
REVISION=		2
@


1.65
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2014/04/01 17:03:15 jasper Exp $
d58 2
a59 1
MODGNOME_TOOLS += yelp desktop-file-utils gtk-update-icon-cache shared-mime-info
@


1.64
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/10/15 09:43:55 ajacoutot Exp $
d58 1
a58 4
MODGNOME_TOOLS= 	yelp
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS +=	gtk-update-icon-cache
MODGNOME_TOOLS +=	shared-mime-info
@


1.63
log
@Use MODGNOME_MIME_FILE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/09/28 08:51:27 ajacoutot Exp $
d59 3
a61 3
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
MODGNOME_MIME_FILE=	Yes
@


1.62
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/09/27 17:49:11 ajacoutot Exp $
d8 1
a8 1
REVISION=		1
a52 2
RUN_DEPENDS=		misc/shared-mime-info

d61 1
a67 2

CONFIGURE_ARGS +=	--disable-update-mimedb
@


1.61
log
@Bump after devel/gconf2,-main is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/09/27 12:37:20 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
a32 2

HOMEPAGE=		http://live.gnome.org/Planner
@


1.60
log
@Use a regular release and bring all patches from Fedora.
Unbreak by fixing DEPENDS/WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/05/31 15:35:08 ajacoutot Exp $
d8 1
@


1.59
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/04/03 06:42:28 ajacoutot Exp $
a4 1
# git clone of 75d160197d687c0d3b27dd53ba02d98b2a09d582
d6 22
a27 2
GNOME_VERSION=		0.14.6.1
REVISION=		1
d38 11
a48 9
WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender art_lgpl_2 atk-1.0 c cairo dbus-1 dbus-glib-1
WANTLIB += expat exslt ffi fontconfig freetype gailutil gcrypt
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glade-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnomecanvas-2 gobject-2.0 gpg-error graphite2
WANTLIB += gthread-2.0 gtk-x11-2.0 harfbuzz
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs xcb xcb-render xcb-shm xml2
WANTLIB += xslt z
d58 2
a59 1
			x11/gnome/libgnomecanvas
d66 6
a71 27
CONFIGURE_ARGS= 	--disable-update-mimedb \
			--disable-python \
			--enable-eds=no \
			--enable-eds-backend=no \
			--with-database=no

CONFIGURE_ENV=		UPDATE_DESKTOP_DATABASE="/usr/bin/false"

############################################################
# XXX: Remove the following when updating to a real release.
MASTER_SITES=		http://distfiles.nl/
BUILD_DEPENDS +=	x11/gnome/common \
			${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/libtool \
			textproc/gtk-doc

AUTOMAKE_VERSION =	1.9
AUTOCONF_VERSION =	2.68

do-configure:
	cd ${WRKSRC} && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		env ${CONFIGURE_ENV} \
		./autogen.sh ${CONFIGURE_ARGS}
############################################################
@


1.58
log
@Drop BUILD_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/03/31 06:44:21 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
d24 1
a24 1
WANTLIB += gthread-2.0 gtk-x11-2.0 harfbuzz icudata icule icuuc
@


1.57
log
@Needs textproc/gtk-doc to build for now; from rpe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/03/29 13:20:12 jasper Exp $
a32 1
BUILD_DEPENDS=		misc/shared-mime-info
@


1.56
log
@make it clear which git revision was used.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/03/29 13:19:36 jasper Exp $
d8 1
d33 2
a34 2
BUILD_DEPENDS=		${RUN_DEPENDS}
RUN_DEPENDS=		misc/shared-mime-info>=0.21
d45 1
a45 1
CONFIGURE_ARGS+= 	--disable-update-mimedb \
d59 2
a60 1
			devel/libtool
@


1.55
log
@- update to a recent git clone which fixes loads of deprecation warnings
and drops the user of two deprecated libs.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/03/11 11:46:11 espie Exp $
d5 1
@


1.54
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/02/06 14:23:07 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		0.14.6
REVISION=		2
d17 3
a19 5
WANTLIB += GL ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender Xxf86vm art_lgpl_2 atk-1.0 bonobo-2 bonobo-activation
WANTLIB += bonoboui-2 c cairo canberra crypto dbus-1 dbus-glib-1
WANTLIB += drm expat exslt fontconfig freetype gailutil gcrypt
d21 5
a25 6
WANTLIB += gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2 gnomeui-2
WANTLIB += gnomevfs-2 gobject-2.0 gpg-error gthread-2.0 gtk-x11-2.0
WANTLIB += ltdl m ogg pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png popt pthread pthread-stubs ssl util vorbis
WANTLIB += vorbisfile xcb xcb-render xcb-shm xml2 xslt z ffi stdc++
WANTLIB += ${MODPY_WANTLIB}
a27 1
			lang/python \
d32 1
a32 2
RUN_DEPENDS=		x11/py-gtk2 \
			misc/shared-mime-info>=0.21
d34 3
a36 3
LIB_DEPENDS=		x11/gnome/libbonoboui \
			x11/gnome/libgnomeui \
			${MODPY_LIB_DEPENDS}
d44 1
a44 2
			--enable-python \
			--enable-python-plugin=yes \
d51 19
a71 1
	rm ${PREFIX}/lib/python${MODPY_VERSION}/site-packages/*.{a,la}
@


1.53
log
@Quiet gconftool-2:
gconf_ping() will try to shutdown gconfd, but since installing pkg is
done as root, there is not gconfd nor dbus that can be started when
DISPLAY isn't set and an annoying warning is issued.

discussed with espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/09/29 10:52:28 ajacoutot Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.52
log
@@@comment -> post-install rm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/06/15 08:30:20 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.51
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/12/25 09:55:12 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
d60 4
@


1.50
log
@Bugfix update to planner-0.14.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/12/03 22:17:16 ajacoutot Exp $
d7 1
@


1.49
log
@Use MODGNOME_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/10/29 08:12:33 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		0.14.5
REVISION=		3
@


1.48
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/09/28 09:47:47 jasper Exp $
d7 1
a7 1
REVISION=		2
d48 2
a49 1
MODGNOME_DESKTOP_FILE=		Yes
@


1.47
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/09/20 21:10:01 jasper Exp $
d7 1
a7 1
REVISION=		1
d31 1
a31 1
WANTLIB += vorbisfile xcb xcb-render xcb-shm xml2 xslt z
@


1.46
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/09/20 20:52:46 jasper Exp $
d58 1
a58 3
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib" \
			UPDATE_DESKTOP_DATABASE="/usr/bin/false"
@


1.45
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/09/19 07:44:59 ajacoutot Exp $
d51 1
a51 2
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED} \
			--disable-update-mimedb \
@


1.44
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/09/16 12:29:14 espie Exp $
d47 1
a47 1
MODGNOME_HELP_FILES=	Yes
a52 1
			--enable-gtk-doc=no \
@


1.43
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/09/12 12:04:17 jasper Exp $
d48 1
a48 1
DESKTOP_FILES=		Yes
@


1.42
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/07/26 15:36:27 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
@


1.41
log
@Don't install libtool files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/07/05 07:48:52 jasper Exp $
a19 2

EXTRACT_SUFX=		.tar.xz
@


1.40
log
@- major bugfix update to 0.14.5
- fix category
- zap use_groff

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/06/08 17:41:57 rpointel Exp $
d7 1
@


1.39
log
@bump after default python version switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/01/18 20:03:07 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		0.14.4
REVISION=		14
d8 1
a8 1
CATEGORIES=		x11
d20 3
a22 1
WANTLIB += ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite
d24 9
a32 9
WANTLIB += Xrender art_lgpl_2 atk-1.0 bonobo-2 bonobo-activation
WANTLIB += c cairo crypto dbus-1 dbus-glib-1 expat exslt fontconfig
WANTLIB += freetype gailutil gcrypt gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glade-2.0 glib-2.0 gmodule-2.0 gnome-2
WANTLIB += gnome-keyring gnomecanvas-2 gnomevfs-2 gobject-2.0 gnomeui-2
WANTLIB += gpg-error gthread-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png popt pthread ssl util
WANTLIB += xml2 xslt z bonoboui-2
WANTLIB += pthread-stubs xcb xcb-render xcb-render-util
a63 1
USE_GROFF =		Yes
@


1.38
log
@Remove the need for ${SYSCONFDIR}/gnome and use ${SYSCONFDIR} instead.
Discussed with landry@@ and jasper@@

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/11/22 08:36:58 espie Exp $
d7 1
a7 1
REVISION=		13
@


1.37
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/10/24 15:53:56 sthen Exp $
d7 1
a7 1
REVISION=		12
a65 2

CONFIGURE_ARGS+=	--sysconfdir="${SYSCONFDIR}/gnome"
@


1.36
log
@Add MODPY_WANTLIB, adjust MODPY_LIB_DEPENDS to new-style LIB_DEPENDS,
update all ports to match. Plists don't change -> no bump.
Looks ok to jasper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/10/19 08:13:57 espie Exp $
d40 2
a41 2
RUN_DEPENDS=		:py-gtk2-*:x11/py-gtk2 \
			:shared-mime-info->=0.21:misc/shared-mime-info
d43 2
a44 2
LIB_DEPENDS=		::x11/gnome/libbonoboui \
			::x11/gnome/libgnomeui \
d63 1
a63 1
USE_GROFF =	Yes
@


1.35
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/18 13:18:15 jasper Exp $
d32 1
@


1.34
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/10/11 08:19:20 jasper Exp $
d62 1
@


1.33
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/10/01 12:12:24 ajacoutot Exp $
a45 1
USE_X11=		Yes
@


1.32
log
@Unbreak: fix WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/08/30 21:53:59 sthen Exp $
d7 1
a7 1
REVISION=		11
d26 1
a26 1
WANTLIB += gio-2.0 glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2
@


1.31
log
@python bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/07/25 08:15:33 ajacoutot Exp $
d7 1
a7 1
REVISION=		10
d30 2
a31 2
WANTLIB += xml2 xslt z avahi-client avahi-common avahi-glib bonoboui-2
WANTLIB += pthread-stubs xcb eggdbus-1 xcb-render xcb-render-util
@


1.30
log
@Switch to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/07/13 20:37:03 ajacoutot Exp $
d7 1
a7 1
REVISION=		9
@


1.29
log
@Use REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/04/24 17:00:35 ajacoutot Exp $
d7 1
a7 1
REVISION=		8
d27 1
a27 1
WANTLIB += gnome-keyring gnomecanvas-2 gnomevfs-2 gobject-2.0
d30 1
a30 1
WANTLIB += xml2 xslt z avahi-client avahi-common avahi-glib
d42 2
a43 2
LIB_DEPENDS=		bonoboui-2::x11/gnome/libbonoboui \
			gnomeui-2::x11/gnome/libgnomeui \
@


1.28
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/12/21 18:03:19 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p8
@


1.27
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/11/18 14:08:31 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p7
d31 1
a31 1
WANTLIB += pthread-stubs xcb
@


1.26
log
@Fix crash when using zoom-to-fit (bug #550559).
Merged from upstream git.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/09/02 07:44:16 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p6
@


1.25
log
@Fix calendar calculation: UTC cannot have DST ; from pkgsrc.
This fixes the 'today' button which was defaulting to the epoch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/08/11 08:39:39 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p5
@


1.24
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/06/25 00:38:37 sthen Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p4
@


1.23
log
@sync wantlib, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/06/11 18:38:17 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
d31 1
@


1.22
log
@Bump after recent gconf2 MODULE change.
gconf2 MODULE was tricky to get right for *all* ports. I think I finally
got it, if you see any fallout, please contact me asap.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/06/08 17:59:15 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
d30 1
a30 1
WANTLIB += xml2 xslt z
@


1.21
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/06/07 10:46:41 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.20
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/04/26 11:01:05 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.19
log
@CONFIGURE_ENV += PYTHON="${MODPY_BIN}" is inherited from the python module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/04/15 21:12:59 ajacoutot Exp $
d7 1
d25 1
a25 1
WANTLIB += freetype gailutil gconf-2 gcrypt gdk-x11-2.0 gdk_pixbuf-2.0
d34 2
a35 1
			x11/gnome
d48 2
a50 2
			--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/planner \
			--disable-schemas-install \
@


1.18
log
@- update to planner-0.14.4
several bug fixes
uses the GTK printing API now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/04/06 10:05:21 ajacoutot Exp $
a58 1
			PYTHON="${MODPY_BIN}" \
@


1.17
log
@Rework the way we handle build_depends with the gnome MODULE when
MODGNOME_HELP_FILES is set to yes.

* add a build_depends on gnome-doc-utils if MODGNOME_HELP_FILES is set
to yes
* add rarian as a run_depends for gnome-doc-utils (will help with older
ports that will never be updated from using deprecated scrollkeeper)
* remove build+run_depends on gnome-doc-utils and rarian for ports that
have MODGNOME_HELP_FILES as they are now implied.
* bump where needed

This should help in having all required build dependencies for
gnome-related ports and it greatly simplifies things.

"thanks for cleaning this mess" and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/03/14 11:36:25 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		0.14.3
PKGNAME=		${DISTNAME}p6
d19 11
a29 10
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcursor Xdmcp \
		Xext Xfixes Xi Xinerama Xrandr Xrender art_lgpl_2 atk-1.0 \
		bonobo-2 bonobo-activation c cairo crypto \
		dbus-1 dbus-glib-1 expat fontconfig freetype gconf-2 \
		gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0 glib-2.0 \
		glitz gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2 \
		gnomeprint-2-2 gnomevfs-2 gobject-2.0 gpg-error gthread-2.0 \
		gtk-x11-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
		png popt pthread ssl util xml2 z Xcomposite Xdamage gailutil \
		gio-2.0 pcre pixman-1
a39 1
			gnomeprintui-2-2::x11/gnome/libgnomeprintui \
d41 1
a41 1
    			exslt,xslt::textproc/libxslt
d50 1
d52 4
a55 1
			--enable-eds=no
a60 2
post-patch:
			@@ln -s /usr/bin/true ${WRKDIR}/bin/scrollkeeper-update
@


1.16
log
@- nothing should have to run_depends on rarian anymore
- explicitely add build_depends on rarian where gnome-doc-utils is also a
build dependency as it does not itself run_depends on rarian anymore

This was the 2nd and hopefully last pass of rarian/scrollkeeper cleaning.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/03/14 10:40:53 ajacoutot Exp $
d35 1
a35 2
BUILD_DEPENDS=		:rarian-*:textproc/rarian \
			:py-gtk2-*:x11/py-gtk2
@


1.15
log
@- first pass at cleaning rarian/scrollkeeper handling
remove rarian-sk-update from PLIST ; it is only a wrapper that does
noting: librarian takes care of everything now.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/02/11 15:47:51 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p5
a37 1
    			:rarian-*:textproc/rarian  \
@


1.14
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/02/11 15:33:52 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p4
@


1.13
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/01/22 18:40:14 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
@


1.12
log
@- merge PFRAG.shared into PLIST for ports that are SHARED_ONLY=Yes

agreed by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/01/20 23:13:31 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.11
log
@- regen WANTLIB after libgnome esound support removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/12/17 18:47:58 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.10
log
@- switch remaining ports to rarian instead of scrollkeeper
- regen PLIST

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/07/18 12:06:42 jasper Exp $
d7 2
a8 1
PKGNAME=		${DISTNAME}p0
d22 2
a23 2
		audiofile bonobo-2 bonobo-activation c cairo crypto \
		dbus-1 dbus-glib-1 esd expat fontconfig freetype gconf-2 \
d27 3
a29 2
		gtk-x11-2.0 jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
		png popt pthread ssl util xml2 z
@


1.9
log
@- update planner to 0.14.3 (lots of bugfixes)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/05/26 10:28:46 ajacoutot Exp $
d7 1
d33 1
a33 1
BUILD_DEPENDS=		:scrollkeeper-*:textproc/scrollkeeper \
d36 1
a36 1
    			:scrollkeeper-*:textproc/scrollkeeper  \
@


1.8
log
@- use MODGNOME_HELP_FILES instead of RUN_DEPENDS=::x11/gnome/yelp
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/04/17 08:46:48 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		0.14.2
PKGNAME=		${DISTNAME}p4
d13 1
a13 1
# LGPL
d50 2
a51 1
			--enable-python
@


1.7
log
@- make gtk-update-icon-cache call consistent with the rest of the tree
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/02/16 19:46:03 jasper Exp $
d37 1
a37 2
			:shared-mime-info->=0.21:misc/shared-mime-info \
			:yelp-*:x11/gnome/yelp
d45 1
@


1.6
log
@- remove unneeded CONFIGURE_STYLE, it's taken care of by Makefile.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/02/04 17:55:19 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
@


1.5
log
@let's face it....add myself as maintainer

requested by and ok ajacoutot@@, ok fkr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/01/04 17:41:31 jasper Exp $
a46 1
CONFIGURE_STYLE= 	gnu
@


1.4
log
@- remove explicit dependency on desktop-file-utils, gnome.port.mk already
  adds it for us.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/12/16 11:44:29 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.3
log
@- add missing gtk-update-icon-cache goo

if people need a reference, this is the father of all goos...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/10/08 08:22:43 steven Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d35 1
a35 2
RUN_DEPENDS=		:desktop-file-utils-*:devel/desktop-file-utils \
			:py-gtk2-*:x11/py-gtk2 \
@


1.2
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/09/16 19:51:52 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@import planner 0.14.2

Planner is a Project Management application that supports Gantt charts,
resource allocation and integration with other GNOME applications.

ok martynas@@
@
text
@@
