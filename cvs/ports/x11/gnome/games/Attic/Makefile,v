head	1.69;
access;
symbols
	OPENBSD_5_3:1.67.0.2
	OPENBSD_5_3_BASE:1.67
	OPENBSD_5_2:1.62.0.2
	OPENBSD_5_2_BASE:1.62
	OPENBSD_5_1_BASE:1.58
	OPENBSD_5_1:1.58.0.2
	OPENBSD_5_0:1.47.0.2
	OPENBSD_5_0_BASE:1.47
	OPENBSD_4_9:1.43.0.2
	OPENBSD_4_9_BASE:1.43
	OPENBSD_4_8:1.34.0.2
	OPENBSD_4_8_BASE:1.34
	OPENBSD_4_7:1.28.0.2
	OPENBSD_4_7_BASE:1.28
	OPENBSD_4_6:1.20.0.2
	OPENBSD_4_6_BASE:1.20
	OPENBSD_4_5:1.10.0.2
	OPENBSD_4_5_BASE:1.10
	jasper_20081122:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.69
date	2013.03.27.14.50.48;	author ajacoutot;	state dead;
branches;
next	1.68;

1.68
date	2013.03.11.11.46.10;	author espie;	state Exp;
branches;
next	1.67;

1.67
date	2012.10.17.10.30.47;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2012.10.17.10.03.22;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2012.09.28.11.24.45;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2012.09.01.14.36.59;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2012.08.18.21.58.13;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2012.07.08.10.05.05;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2012.07.08.08.17.08;	author jasper;	state Exp;
branches;
next	1.60;

1.60
date	2012.06.15.08.30.19;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2012.04.28.10.52.09;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2011.12.03.22.17.15;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2011.11.17.11.42.31;	author jasper;	state Exp;
branches;
next	1.56;

1.56
date	2011.10.29.08.12.32;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2011.09.28.09.47.46;	author jasper;	state Exp;
branches;
next	1.54;

1.54
date	2011.09.20.21.10.00;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2011.09.20.20.52.46;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2011.09.19.07.44.58;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2011.09.16.12.29.13;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2011.09.15.20.36.56;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2011.09.12.12.04.16;	author jasper;	state Exp;
branches;
next	1.48;

1.48
date	2011.09.12.07.49.42;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2011.06.08.17.41.57;	author rpointel;	state Exp;
branches;
next	1.46;

1.46
date	2011.05.17.11.14.53;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2011.04.21.09.32.21;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2011.04.07.12.00.13;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2011.01.14.22.15.41;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2010.11.22.08.36.57;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2010.11.15.22.16.19;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.10.19.08.13.57;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2010.10.18.13.18.14;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2010.10.11.08.19.19;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2010.09.30.15.20.50;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.09.27.07.01.50;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2010.08.30.21.53.59;	author sthen;	state Exp;
branches;
next	1.34;

1.34
date	2010.07.25.08.15.32;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2010.06.26.04.42.51;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2010.05.17.16.35.42;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2010.04.27.12.32.01;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2010.04.23.18.02.11;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2010.04.23.17.39.02;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2009.12.21.18.03.18;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.12.17.17.20.14;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2009.12.17.09.10.02;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2009.10.20.09.18.49;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2009.10.13.00.00.41;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2009.10.11.19.02.08;	author kili;	state Exp;
branches;
next	1.22;

1.22
date	2009.09.06.10.46.25;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.08.11.08.39.38;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.06.28.10.54.04;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2009.06.11.18.38.16;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2009.06.08.17.59.14;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.06.07.09.27.37;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2009.04.26.11.01.05;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.04.16.08.11.13;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.04.06.10.05.21;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.03.22.20.56.52;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2009.03.14.11.36.25;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.03.14.10.40.53;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2009.02.16.12.24.29;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2009.02.11.15.47.50;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2009.02.11.15.33.51;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2009.01.20.23.13.30;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2009.01.13.09.18.12;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2008.12.19.09.58.29;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.11.25.09.52.57;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2008.11.23.12.52.32;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.11.23.11.08.07;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2008.11.22.23.42.54;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.11.22.23.42.54;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.69
log
@Remove the games; new GNOME release has splited this into 10 or so
different projects and it's just a maintenance nightmare for the hobbits.
If we get *really* bored one day may be some will end up being imported
into ports/games/gnome but for now it's just not worth the hassle.

discussed with and ok myself^jasper@@
@
text
@# $OpenBSD: Makefile,v 1.68 2013/03/11 11:46:10 espie Exp $

COMMENT=		collection of games for the GNOME desktop

GNOME_PROJECT=		gnome-games
GNOME_VERSION=		3.6.1
REVISION=		0

CATEGORIES=		games

HOMEPAGE=		http://live.gnome.org/GnomeGames/

# GPLv2/GDFLv1.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += GL GLU X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c
WANTLIB += cairo cairo-gobject canberra canberra-gtk3 clutter-1.0
WANTLIB += clutter-gtk-1.0 cogl cogl-pango croco-0.6 drm expat
WANTLIB += ffi fontconfig freetype gdk-3 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 gtk-3
WANTLIB += json-glib-1.0 ltdl m ogg pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs rsvg-2 sqlite3
WANTLIB += stdc++ vorbis vorbisfile xcb xcb-render xcb-shm xml2
WANTLIB += ICE SM atk-bridge-2.0 atspi dbus-1 harfbuzz icudata
WANTLIB += icule icuuc z

MODULES=		devel/dconf \
			devel/gettext \
			lang/python \
			x11/gnome

BUILD_DEPENDS=		devel/py-gobject3
LIB_DEPENDS=		audio/libcanberra,-gtk3 \
			graphics/clutter/clutter-gtk \
			x11/gnome/librsvg
RUN_DEPENDS=		games/gnuchess \
			devel/py-gobject3

MODGNOME_TOOLS= 	yelp

MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes

MODPY_ADJ_FILES=	gnome-sudoku/src/gnome-sudoku

CONFIGURE_ARGS= 	--with-scores-user=root \
			--with-scores-group="games"

TEST_IS_INTERACTIVE= x11

FAKE_FLAGS=		scoredir=${PREFIX}/share/gnome-games/scores/

.include <bsd.port.mk>
@


1.68
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2012/10/17 10:30:47 ajacoutot Exp $
@


1.67
log
@Remove bogus RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2012/10/17 10:03:22 jasper Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d50 1
a50 1
REGRESS_IS_INTERACTIVE= x11
@


1.66
log
@- update to gnome-games-3.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2012/09/28 11:24:45 jasper Exp $
d7 1
a40 1
			multimedia/gstreamer-0.10/plugins-good \
@


1.65
log
@- update to gnome-games-3.6.0.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2012/09/01 14:36:59 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.6.0.2
d43 1
a43 1
MODGNOME_TOOLS= 	goi yelp
@


1.64
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2012/08/18 21:58:13 ajacoutot Exp $
d6 1
a6 4
GNOME_VERSION=		3.4.2
REVISION=		2

SHARED_LIBS +=  games-support-gi          1.0 # 0.0
d27 2
a28 1
WANTLIB += z
a41 1
REGRESS_DEPENDS=	devel/check
@


1.63
log
@Missing dependency on devel/py-gobject3

spotted by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2012/07/08 10:05:05 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.62
log
@Don't run lightsoff as setgid games; gtk does not like this.
Remove uneeded patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2012/07/08 08:17:08 jasper Exp $
d7 1
a7 1
REVISION=		0
d37 1
d42 2
a43 1
			multimedia/gstreamer-0.10/plugins-good
@


1.61
log
@long overdue update of gnome-games to 3.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/06/15 08:30:19 ajacoutot Exp $
d7 1
d49 1
a49 1
MODPY_ADJ_FILES+=	gnome-sudoku/src/gnome-sudoku
d51 2
a52 1
CONFIGURE_ARGS+= 	--with-scores-group="games"
@


1.60
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.59 2012/04/28 10:52:09 ajacoutot Exp $

BROKEN= 		update needs fixed clutter/Mesa
d6 1
a6 3
GNOME_VERSION=		2.32.1

REVISION=		8
d8 1
a8 1
SHARED_LIBS +=  games-support-gi          0.0 # 0.0
d20 10
a29 1
EXTRACT_SUFX=		.tar.bz2
d31 1
a31 11
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage rsvg-2
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm guile
WANTLIB += atk-1.0 c cairo canberra canberra-gtk clutter-glx-1.0
WANTLIB += croco-0.6 xcb-shm drm expat fontconfig freetype
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gmp gobject-2.0 gthread-2.0 gtk-x11-2.0 json-glib-1.0
WANTLIB += ltdl m ogg pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png pthread pthread-stubs stdc++ vorbis vorbisfile
WANTLIB += xcb xcb-render xml2 z clutter-gtk-0.10

MODULES=		devel/gconf2 \
d36 5
a40 8
BUILD_DEPENDS=		devel/gobject-introspection
#			x11/gnome/py-gnome-desktop
LIB_DEPENDS=		graphics/clutter/clutter-gtk \
			lang/guile \
			x11/gnome/librsvg \
			audio/libcanberra,-gtk
RUN_DEPENDS=		multimedia/gstreamer-0.10/plugins-good
#			x11/gnome/py-gnome-desktop
d47 2
a48 1
MODGCONF2_SCHEMAS_DIR=	gnome-games
a51 6
# XXX
# lightsoff and swell-foop need seed
CONFIGURE_ARGS+=	--enable-omitgames=lightsoff,swell-foop

USE_GROFF =		Yes

a54 5

pre-configure:
	${SUBST_CMD} ${WRKSRC}/configure ${WRKSRC}/glchess/src/glchess.in.in \
		${WRKSRC}/gnome-sudoku/src/gnome-sudoku.in.in \
		${WRKSRC}/glchess/gnuchess/book.h
@


1.59
log
@--localstatedir=/var is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/12/03 22:17:15 ajacoutot Exp $
d10 1
a10 1
REVISION=		7
@


1.58
log
@Use MODGNOME_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2011/11/17 11:42:31 jasper Exp $
d57 1
a57 2
CONFIGURE_ARGS+= 	--localstatedir="/var" \
			--with-scores-group="games"
@


1.57
log
@- move away from gnu libtool now that gobject-introspection has been fixed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/10/29 08:12:32 ajacoutot Exp $
d10 1
a10 1
REVISION=		6
d53 2
a54 1
MODGNOME_DESKTOP_FILE=		Yes
@


1.56
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/09/28 09:47:46 jasper Exp $
a49 4

# XXX: the libtool wrapper script is passed as argument to g-ir-scanner,
# instead of the actual library
USE_LIBTOOL=    	gnu
@


1.55
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/09/20 21:10:00 jasper Exp $
d10 1
a10 1
REVISION=		5
d26 1
a26 1
WANTLIB += GL ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage rsvg-2
@


1.54
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/09/20 20:52:46 jasper Exp $
a66 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.53
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/09/19 07:44:58 ajacoutot Exp $
d60 1
a60 2
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED} \
			--localstatedir="/var" \
@


1.52
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/09/16 12:29:13 espie Exp $
d55 2
a57 1
MODGNOME_HELP_FILES=	Yes
d62 1
a62 2
			--with-scores-group="games" \
			--enable-introspection
@


1.51
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/09/15 20:36:56 espie Exp $
d55 1
a55 1
DESKTOP_FILES=		Yes
@


1.50
log
@comment out missing dependencies of broken ports so I can still compute
properties through the full tree
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/09/12 12:04:16 jasper Exp $
d10 1
a10 1
REVISION=		4
@


1.49
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/09/12 07:49:42 jasper Exp $
d41 2
a42 2
BUILD_DEPENDS=		devel/gobject-introspection \
			x11/gnome/py-gnome-desktop
d47 2
a48 2
RUN_DEPENDS=		x11/gnome/py-gnome-desktop \
			multimedia/gstreamer-0.10/plugins-good
@


1.48
log
@mark these broken for now, untill clutter can be updated.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/06/08 17:41:57 rpointel Exp $
d23 2
@


1.47
log
@bump after default python version switch.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.46 2011/05/17 11:14:53 ajacoutot Exp $
@


1.46
log
@Satisfy all lib dependencies using LIB_DEPENDS, relying on RUN_DEPENDS just
breaks the dep chain.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/04/21 09:32:21 ajacoutot Exp $
d8 1
a8 1
REVISION=		3
@


1.45
log
@Fix path to gnuchess/book.dat.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/04/07 12:00:13 jasper Exp $
d8 1
a8 1
REVISION=		2
d41 2
a42 1
			x11/gnome/librsvg
@


1.44
log
@Add introspection support (needed for on-going GNOME 3 work).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/01/14 22:15:41 ajacoutot Exp $
d8 1
a8 1
REVISION=		1
d73 2
a74 1
		${WRKSRC}/gnome-sudoku/src/gnome-sudoku.in.in
@


1.43
log
@Re-enable gnome-sudoku now that we have python 2.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/11/22 08:36:57 espie Exp $
d8 3
a10 1
REVISION=		0
d37 2
a38 1
BUILD_DEPENDS=		x11/gnome/py-gnome-desktop
d46 4
d57 1
a57 1
			--disable-introspection
d60 1
a60 1
# lightsoff and swell-foop needs seed
@


1.42
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/11/15 22:16:19 ajacoutot Exp $
d8 2
a52 1
# gnome-sudoku needs python-2.6
d54 1
a54 1
CONFIGURE_ARGS+=	--enable-omitgames=gnome-sudoku,lightsoff,swell-foop
@


1.41
log
@Bugfix update to gnome-games-2.32.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/10/19 08:13:57 espie Exp $
d33 7
a39 7
BUILD_DEPENDS=		::x11/gnome/py-gnome-desktop
LIB_DEPENDS=		::graphics/clutter/clutter-gtk \
			::lang/guile \
			::x11/gnome/librsvg
RUN_DEPENDS=		::x11/gnome/py-gnome-desktop \
			::multimedia/gstreamer-0.10/plugins-good
REGRESS_DEPENDS=	::devel/check
d57 1
a57 1
USE_GROFF =	Yes
@


1.40
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/10/18 13:18:14 jasper Exp $
d6 1
a6 3
GNOME_VERSION=		2.32.0

REVISION=		1
d21 1
a21 1
WANTLIB += croco-0.6 dbus-1 dbus-glib-1 drm expat fontconfig freetype
d26 1
a26 1
WANTLIB += xcb xcb-render xcb-render-util xml2 z clutter-gtk-0.10
@


1.39
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/10/11 08:19:19 jasper Exp $
d59 1
@


1.38
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/09/30 15:20:50 ajacoutot Exp $
a42 1
USE_X11=		Yes
@


1.37
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/09/27 07:01:50 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
d24 1
a24 1
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0 glitz gmodule-2.0
@


1.36
log
@Update to gnome-games-2.32.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/08/30 21:53:59 sthen Exp $
d7 2
@


1.35
log
@python bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/07/25 08:15:32 ajacoutot Exp $
d6 1
a6 3
GNOME_VERSION=		2.30.2

REVISION=		1
d20 1
a20 1
WANTLIB += atk-1.0 bz2 c cairo canberra canberra-gtk clutter-glx-1.0
d23 1
a23 1
WANTLIB += gmp gobject-2.0 gsf-1 gthread-2.0 gtk-x11-2.0 json-glib-1.0
d49 1
a49 1
			--enable-introspection="no"
a64 1
		${WRKSRC}/glchess/src/lib/scene/opengl/png.py \
@


1.34
log
@Switch to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/06/26 04:42:51 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
@


1.33
log
@Update to gnome-games-2.30.2.
* minor fix-ups and translation updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/05/17 16:35:42 ajacoutot Exp $
d8 2
d20 2
a21 2
WANTLIB += GL ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm
d28 1
a28 1
WANTLIB += xcb xcb-render xcb-render-util xml2 z
d36 3
a38 3
LIB_DEPENDS=		clutter-gtk-0.10::graphics/clutter/clutter-gtk \
			guile::lang/guile \
			rsvg-2.>=18.0::x11/gnome/librsvg
@


1.32
log
@Don't ship Lights Off nor Swell Foop, they need the "seed" embeddable
javascript engine which we don't have.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/04/27 12:32:01 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.30.1
PKGNAME=		${DISTNAME}p0
@


1.31
log
@Update to gnome-games-2.30.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/04/23 18:02:11 jasper Exp $
d7 1
d52 4
a55 2
# XXX needs python-2.6
CONFIGURE_ARGS+=	--enable-omitgames=gnome-sudoku
@


1.30
log
@- simplify the patches a bit so updating would be a bit less painfull
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/04/23 17:39:02 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.30.0
d50 4
@


1.29
log
@Major update to gnome-games-2.30.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/12/21 18:03:18 ajacoutot Exp $
d54 2
@


1.28
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/12/17 17:20:14 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.28.2
PKGNAME=		${DISTNAME}p1
d20 7
a26 7
WANTLIB += atk-1.0 bz2 c cairo clutter-glx-1.0 croco-0.6 crypto
WANTLIB += dbus-1 dbus-glib-1 drm expat fontconfig freetype gcrypt
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 ggz gio-2.0 glib-2.0 glitz
WANTLIB += gmodule-2.0 gmp gobject-2.0 gpg-error gsf-1 gthread-2.0
WANTLIB += gtk-x11-2.0 json-glib-1.0 ltdl m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += ssl stdc++ xcb xml2 z
d34 1
a34 2
LIB_DEPENDS=		ggzcore,ggzmod::games/ggz/ggz-client-libs \
			clutter-gtk-0.10::graphics/clutter/clutter-gtk \
a46 3
			--disable-scrollkeeper \
			--disable-update-mimedb \
			--disable-sdl-mixer \
a47 6
			--with-tls="OpenSSL" \
			--enable-sound=yes \
			--with-sound=gstreamer \
			--enable-scalable \
			--without-ggz-server \
			--with-gcrypt \
d49 1
a49 2
			--enable-introspection="no" \
			--disable-tests
a58 5

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnome-games/
	mv ${WRKINST}/${SYSCONFDIR}/ggz.modules \
		${PREFIX}/share/examples/gnome-games
@


1.27
log
@Oh noes, ze sudoku was broken!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/12/17 09:10:02 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.26
log
@Maintenance update to gnome-games-2.28.2.
Some bugfixes and several translation updates.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/10/20 09:18:49 ajacoutot Exp $
d7 1
@


1.25
log
@Small update to gnome-games-2.28.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/10/13 00:00:41 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		2.28.1
d59 2
a60 1
			--enable-introspection="no"
@


1.24
log
@- update gnome-games to 2.28.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/10/11 19:02:08 kili Exp $
d6 1
a6 1
GNOME_VERSION=		2.28.0
@


1.23
log
@Fix after guile update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/09/06 10:46:25 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.24.3.1
PKGNAME=		${DISTNAME}p5
d18 9
a26 11
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite \
		Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender art_lgpl_2 atk-1.0 avahi-client avahi-common \
		avahi-glib bonobo-2 bonobo-activation bonoboui-2 bz2 c cairo \
		croco-0.6 crypto dbus-1 dbus-glib-1 expat fontconfig freetype \
		gailutil gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 ggz gio-2.0 \
		glib-2.0 glitz gmodule-2.0 gmp gnome-2 gnome-keyring \
		gnomecanvas-2 gnomevfs-2 gobject-2.0 gpg-error gsf-1 \
		gstreamer-0.10 gthread-2.0 gtk-x11-2.0 ltdl m pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png popt pthread \
		pthread-stubs ssl stdc++ util xcb xml2 z
d28 2
a29 1
MODULES=		devel/gettext \
d31 1
a31 2
			x11/gnome \
			devel/gconf2
d33 1
a33 2
BUILD_DEPENDS=		::x11/gnome/py-gnome-desktop \
			::lang/guile
d35 1
a36 1
			gnomeui-2::x11/gnome/libgnomeui \
d58 2
a59 1
			--with-scores-group="games"
@


1.22
log
@Make use of REGRESS_IS_INTERACTIVE=x11

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/08/11 08:39:38 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p4
d21 9
a29 9
		Xrender art_lgpl_2 atk-1.0 bonobo-2 bonobo-activation \
		bonoboui-2 bz2 c cairo croco-0.6 crypto dbus-1 dbus-glib-1 \
		expat fontconfig freetype gailutil gcrypt \
		gdk-x11-2.0 gdk_pixbuf-2.0 ggz gio-2.0 glib-2.0 glitz \
		gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2 gnomevfs-2 \
		gobject-2.0 gpg-error gsf-1 gthread-2.0 gtk-x11-2.0 \
		m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 \
		png popt pthread ssl stdc++ util xml2 z gstreamer-0.10 \
		avahi-client avahi-common avahi-glib pthread-stubs xcb
d39 1
a39 1
			guile-ltdl,guile::lang/guile \
@


1.21
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/06/28 10:54:04 sthen Exp $
d66 1
a66 5
# The regression tests require a running instance of X.
# You will also need to set the XAUTHORITY environment variable to point 
# to the appropriate .Xauthority file. 
REGRESS_IS_INTERACTIVE= Yes
REGRESS_FLAGS=		DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
@


1.20
log
@sync WANTLIB, bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/06/11 18:38:16 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
d29 1
a29 1
		avahi-client avahi-common avahi-glib
@


1.19
log
@Bump after recent gconf2 MODULE change.
gconf2 MODULE was tricky to get right for *all* ports. I think I finally
got it, if you see any fallout, please contact me asap.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/06/08 17:59:14 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
d28 2
a29 1
		png popt pthread ssl stdc++ util xml2 z gstreamer-0.10
@


1.18
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/06/07 09:27:37 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.17
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/04/26 11:01:05 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.16
log
@CONFIGURE_ENV += PYTHON="${MODPY_BIN}" is inherited from the python module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/04/16 08:11:13 ajacoutot Exp $
d7 1
d23 1
a23 1
		expat fontconfig freetype gailutil gconf-2 gcrypt \
d32 2
a33 1
			x11/gnome
d48 1
a50 2
			--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gnome-games \
			--disable-schemas-install \
@


1.15
log
@- now that we have rarian, the 'scrollkeeper-update -> /bin/true' hack
is not needed as the legacy scrollkeeper-update provided by rarian does
not do anything anymore

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/04/06 10:05:21 ajacoutot Exp $
d62 1
a62 2
			LDFLAGS="-L${LOCALBASE}/lib" \
			PYTHON="${MODPY_BIN}"
@


1.14
log
@Rework the way we handle build_depends with the gnome MODULE when
MODGNOME_HELP_FILES is set to yes.

* add a build_depends on gnome-doc-utils if MODGNOME_HELP_FILES is set
to yes
* add rarian as a run_depends for gnome-doc-utils (will help with older
ports that will never be updated from using deprecated scrollkeeper)
* remove build+run_depends on gnome-doc-utils and rarian for ports that
have MODGNOME_HELP_FILES as they are now implied.
* bump where needed

This should help in having all required build dependencies for
gnome-related ports and it greatly simplifies things.

"thanks for cleaning this mess" and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/03/22 20:56:52 jasper Exp $
a69 4


post-patch:
	@@ln -s /usr/bin/true ${WRKDIR}/bin/scrollkeeper-update
@


1.13
log
@- update gnome-games to 2.24.3.1
* bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/03/14 11:36:25 ajacoutot Exp $
d33 2
a34 4
BUILD_DEPENDS=		::x11/gnome/doc-utils \
			::x11/gnome/py-gnome-desktop \
			::lang/guile \
			::textproc/rarian
@


1.12
log
@- nothing should have to run_depends on rarian anymore
- explicitely add build_depends on rarian where gnome-doc-utils is also a
build dependency as it does not itself run_depends on rarian anymore

This was the 2nd and hopefully last pass of rarian/scrollkeeper cleaning.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/03/14 10:40:53 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.24.3
PKGNAME=		${DISTNAME}p4
@


1.11
log
@- first pass at cleaning rarian/scrollkeeper handling
remove rarian-sk-update from PLIST ; it is only a wrapper that does
noting: librarian takes care of everything now.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/02/16 12:24:29 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
d36 2
a37 1
			::lang/guile
d43 1
a43 2
			::multimedia/gstreamer-0.10/plugins-good \
			::textproc/rarian
@


1.10
log
@- add CATEGORIES= games

jasper@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/02/11 15:47:50 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.9
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/02/11 15:33:51 jasper Exp $
d8 2
@


1.8
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/01/20 23:13:30 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.7
log
@- regen WANTLIB after libgnome esound support removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/01/13 09:18:12 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.6
log
@- update gnoem-games to 2.24.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/12/19 09:58:29 ajacoutot Exp $
d7 1
d19 1
a19 1
		Xrender art_lgpl_2 atk-1.0 audiofile bonobo-2 bonobo-activation \
d21 1
a21 1
		esd expat fontconfig freetype gailutil gconf-2 gcrypt \
@


1.5
log
@- convert from scrollkeeper to rarian
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/11/25 09:52:57 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		2.24.2
PKGNAME=		${DISTNAME}p0
@


1.4
log
@- update gnome-games to 2.24.2
* mostly gnome-sudoku fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/11/23 12:52:32 ajacoutot Exp $
d7 1
d40 2
a41 1
			::multimedia/gstreamer-0.10/plugins-good
@


1.3
log
@- enable sound and install ogg files
- use gstreamer for sound and make sure sdl/sdl_mixer isn't picked up
- explicitely disable ggz-server support
- add missing run_depends on py-gnome-desktop

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/11/23 11:08:07 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		2.24.1
PKGNAME=		${DISTNAME}p1
@


1.2
log
@- fix a file outside of every prefix
- better modes for the binaries

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/11/22 23:42:54 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d26 1
a26 1
		png popt pthread ssl stdc++ util xml2 z
d39 2
d52 1
d55 2
a56 1
			--enable-sound="gstreamer" \
d58 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
d74 5
@


1.1.1.1
log
@import gnome-games 2.24.1

GNOME Games is a collection of seventeen small "five-minute" games in a
variety of styles and genres for the GNOME desktop.

there may be an issue with the score files left to sort out, hence i'm
not hooking it up yet.

@
text
@@
