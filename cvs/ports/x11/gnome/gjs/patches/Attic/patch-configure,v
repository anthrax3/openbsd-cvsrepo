head	1.3;
access;
symbols
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	jasper_20111204:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2012.04.07.13.48.31;	author ajacoutot;	state dead;
branches;
next	1.2;

1.2
date	2011.09.21.14.00.19;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.04.12.06.30.06;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.04.12.06.30.06;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to gjs-1.32.0.

ok jasper@@
@
text
@$OpenBSD: patch-configure,v 1.2 2011/09/21 14:00:19 jasper Exp $
--- configure.orig	Wed Sep 21 01:07:22 2011
+++ configure	Wed Sep 21 01:07:33 2011
@@@@ -15983,6 +15983,7 @@@@ fi
         ## some flavors of Firefox .pc only set sdkdir, not libdir
         FIREFOX_JS_SDKDIR=`$PKG_CONFIG --variable=sdkdir $JS_PACKAGE`
         FIREFOX_JS_LIBDIR=`$PKG_CONFIG --variable=libdir $JS_PACKAGE`
+	FIREFOX_JS_LIBDIR="${LOCALBASE}/lib"
 
         ## Ubuntu does not set libdir in mozilla-js.pc
         if test x"$FIREFOX_JS_LIBDIR" = x; then
@


1.2
log
@- update to 1.29.17
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Initial revision
@
text
@d2 7
a8 12

We know what the Mozilla JavaScript package is called, so just set it and
prevent configure from not recognizing it.

--- configure.orig	Mon Apr 11 20:32:48 2011
+++ configure	Mon Apr 11 20:32:54 2011
@@@@ -15786,7 +15786,7 @@@@ if test -n "$JS_CONFIG"; then
     JS_CFLAGS="$($JS_CONFIG --cflags)"
     JS_LIBS="$($JS_CONFIG --libs)"
     FIREFOX_JS_LIBDIR="$($JS_CONFIG --libdir)"
-    JS_PACKAGE=
+    JS_PACKAGE=mozilla-js
d10 2
a11 2
     # js-config gives almost usable CFLAGS, we must define one of XP_BEOS,
     # XP_OS2, XP_WIN or XP_UNIX
@


1.1.1.1
log
@import gjs 0.7.14

Gjs is a Javascript binding for GNOME. It's mainly based on Spidermonkey
javascript engine and the GObject introspection framework.

ok aja@@
@
text
@@
