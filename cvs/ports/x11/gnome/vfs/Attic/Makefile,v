head	1.28;
access;
symbols
	OPENBSD_4_1:1.26.0.2
	OPENBSD_4_1_BASE:1.26
	OPENBSD_4_0:1.23.0.4
	OPENBSD_4_0_BASE:1.23
	OPENBSD_3_9:1.23.0.2
	OPENBSD_3_9_BASE:1.23
	OPENBSD_3_8:1.20.0.4
	OPENBSD_3_8_BASE:1.20
	OPENBSD_3_7:1.20.0.2
	OPENBSD_3_7_BASE:1.20
	OPENBSD_3_6:1.17.0.8
	OPENBSD_3_6_BASE:1.17
	OPENBSD_3_5:1.17.0.6
	OPENBSD_3_5_BASE:1.17
	OPENBSD_3_4:1.17.0.4
	OPENBSD_3_4_BASE:1.17
	OPENBSD_3_3:1.17.0.2
	OPENBSD_3_3_BASE:1.17
	OPENBSD_3_2:1.15.0.2
	OPENBSD_3_2_BASE:1.15
	OPENBSD_3_1:1.13.0.2
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.9.0.2
	OPENBSD_3_0_BASE:1.9
	gnome-vfs-1_0_1:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.28
date	2007.06.01.15.28.07;	author jasper;	state dead;
branches;
next	1.27;

1.27
date	2007.05.30.09.56.30;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2006.12.16.12.22.36;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2006.11.20.08.07.40;	author steven;	state Exp;
branches;
next	1.24;

1.24
date	2006.09.18.09.40.32;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2006.02.12.01.22.00;	author steven;	state Exp;
branches;
next	1.22;

1.22
date	2006.01.08.21.44.11;	author alek;	state Exp;
branches;
next	1.21;

1.21
date	2005.09.05.20.05.03;	author marcm;	state Exp;
branches;
next	1.20;

1.20
date	2005.01.27.19.41.16;	author alek;	state Exp;
branches;
next	1.19;

1.19
date	2005.01.02.09.23.11;	author sturm;	state Exp;
branches;
next	1.18;

1.18
date	2004.12.15.13.57.57;	author alek;	state Exp;
branches;
next	1.17;

1.17
date	2002.12.01.19.59.31;	author marcm;	state Exp;
branches
	1.17.6.1
	1.17.8.1;
next	1.16;

1.16
date	2002.10.21.05.55.16;	author marcm;	state Exp;
branches;
next	1.15;

1.15
date	2002.07.31.12.59.44;	author nino;	state Exp;
branches;
next	1.14;

1.14
date	2002.05.15.18.05.18;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2002.04.04.03.53.27;	author pvalchev;	state Exp;
branches;
next	1.12;

1.12
date	2002.02.15.19.11.16;	author nino;	state Exp;
branches;
next	1.11;

1.11
date	2001.10.29.17.45.44;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2001.10.24.12.50.10;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2001.10.09.15.33.35;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2001.10.07.20.55.11;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2001.09.20.18.39.13;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2001.09.20.01.32.03;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2001.09.18.22.03.43;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.18.15.18.52;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2001.09.16.22.18.59;	author heko;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.14.14.41.30;	author todd;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.13.21.25.11;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.09.13.21.25.11;	author todd;	state Exp;
branches;
next	;

1.17.6.1
date	2005.01.02.15.18.16;	author sturm;	state Exp;
branches;
next	;

1.17.8.1
date	2005.01.02.15.16.18;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.28
log
@remove obsolete gnome1 stuff.

gnome1 removal ok'd by naddy@@ todd@@ and others
@
text
@# $OpenBSD: Makefile,v 1.27 2007/05/30 09:56:30 jasper Exp $

COMMENT=		"GNOME Virtual File System"

DISTNAME=		gnome-vfs-1.0.5
PKGNAME=		${DISTNAME}p2
SHARED_LIBS=		gnomevfs 0.2
CATEGORIES=		devel x11/gnome

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-vfs/1.0/}

LIB_DEPENDS=		gnome.>=36::x11/gnome/libs \
			xml.>=9::textproc/libxml1 \
			gconf-1,gconf-gtk-1::devel/gconf \
			cdda_paranoia,cdda_interface::audio/cdparanoia \
			bz2::archivers/bzip2 \
			gthread::devel/glib

BUILD_DEPENDS=		:gnome-mime-data-*:x11/gnome/mime-data
RUN_DEPENDS=		:gnome-mime-data-*:x11/gnome/mime-data

# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		IIOP ORBit ORBitCosNaming ORBitutil X11 Xext Xi gdk \
			glib gmodule gtk m oaf popt pthread wrap z

MODULES=		devel/gettext

CONFIGURE_STYLE= 	gnu
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}
CONFIGURE_ENV= 		LDFLAGS="-L${LOCALBASE}/lib" LIBS="-pthread" \
			CPPFLAGS="${CFLAGS} -I${LOCALBASE}/include"

USE_X11=		Yes
USE_LIBTOOL=		Yes

# writes to $HOME and other brokenness
NO_REGRESS=		Yes

post-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnome-vfs; \
	cp -Rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/gnome-vfs/

.include <bsd.port.mk>
@


1.27
log
@HOMEPAGE is taken care of via Makefile.inc, so no need to have it defined
twice when the homepage is http://www.gnome.org/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2006/12/16 12:22:36 espie Exp $
@


1.26
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/11/20 08:07:40 steven Exp $
a8 1
HOMEPAGE=		http://www.gnome.org/
@


1.25
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2006/09/18 09:40:32 espie Exp $
d20 1
a20 2
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig \
			:gnome-mime-data-*:x11/gnome/mime-data
@


1.24
log
@new style lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2006/02/12 01:22:00 steven Exp $
d39 1
@


1.23
log
@- add missing library in WANTLIB
- move iconv intl into MODULES=devel/gettext
- sync PLIST with new gettext
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2006/01/08 21:44:11 alek Exp $
d13 2
a14 2
LIB_DEPENDS=		gnome.36::x11/gnome/libs \
			xml.9::textproc/libxml1 \
@


1.22
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2005/09/05 20:05:03 marcm Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d30 3
a32 1
			glib gmodule gtk iconv intl m oaf pthread wrap z
@


1.21
log
@Gnome1 can be maintained by ports@@ too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2005/01/27 19:41:16 alek Exp $
d7 1
d36 2
@


1.20
log
@- Fix cddb support
- Bump PKGNAME

ok marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2005/01/02 09:23:11 sturm Exp $
a8 2

MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
@


1.19
log
@disable extfs-support, as it is broken and prone to security problems
see
http://www.vuxml.org/openbsd/f009a996-5c98-11d9-b1e2-080020f8e4df.html
for details

while here set NO_REGRESS, as tests don't work and will likely not
be fixed before this port is removed

ok maintainer marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2004/12/15 13:57:57 alek Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d35 2
a36 1
CONFIGURE_ENV= 		LDFLAGS="-L${LOCALBASE}/lib" LIBS="-pthread"
@


1.18
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/12/01 19:59:31 marcm Exp $
d6 1
d36 3
@


1.17
log
@Take maintainership.

ok nino@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/10/21 05:55:16 marcm Exp $
d29 2
@


1.17.6.1
log
@MFC:

disable extfs-support, as it is broken and prone to security problems
see
http://www.vuxml.org/openbsd/f009a996-5c98-11d9-b1e2-080020f8e4df.html
for details

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/12/01 19:59:31 marcm Exp $
a5 1
PKGNAME=		${DISTNAME}p0
@


1.17.8.1
log
@MFC:

disable extfs-support, as it is broken and prone to security problems
see
http://www.vuxml.org/openbsd/f009a996-5c98-11d9-b1e2-080020f8e4df.html
for details

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/12/01 19:59:31 marcm Exp $
a5 1
PKGNAME=		${DISTNAME}p0
@


1.16
log
@Update to 1.0.5.  A minor bugfix release, required nonetheless by most
newer Gnome 1 packages.

ok nino@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/07/31 12:59:44 nino Exp $
d9 1
a9 1
MAINTAINER=		Nils Nordman <nino@@nforced.com>
@


1.15
log
@Remove erroneous USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/05/15 18:05:18 espie Exp $
d5 1
a5 1
DISTNAME=		gnome-vfs-1.0.4
a6 1
NEED_VERSION=   	1.504
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=stable/sources/gnome-vfs/}
@


1.14
log
@kill some MASTER_SITE_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/04/04 03:53:27 pvalchev Exp $
a30 1
USE_X11=		Yes
@


1.13
log
@add missing libs that allow this to link w/ new binutils ld
XXX this is a workaround, a more beautiful solution is to be found later
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/02/15 19:11:16 nino Exp $
d12 1
a12 2
MASTER_SITES=		${MASTER_SITE_GNOME}
MASTER_SITE_SUBDIR= 	stable/sources/gnome-vfs
@


1.12
log
@Update to gnome-vfs 1.0.4

* portability fixes, fixes for FTP directory loading, detect Koffice
MIME-types, random crash and leak fixes, SSL and https support, fix NFS
method, fix buffer overflow, nntp module.

Ok naddy@@, with additional testing by fries@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/10/29 17:45:44 naddy Exp $
d35 1
a35 1
CONFIGURE_ENV= 		LDFLAGS="-L${LOCALBASE}/lib"
@


1.11
log
@Remove db3 dependency.  From maintainer Nils Nordman <nino@@nforced.com>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/10/24 12:50:10 espie Exp $
d4 2
a5 2
V=			1.0.1
DISTNAME=		gnome-vfs-${V}
d7 3
a9 2
NEED_VERSION=   	1.473
HOMEPAGE=		http://www.gnome.org
a14 4
PATCH_LIST=             ${PORTSDIR}/infrastructure/patches/patch-lt1.3.5-ltconfig \
                        ${PORTSDIR}/infrastructure/patches/patch-lt1.3.5-ltmain_sh \
                        patch-*

d22 3
d26 1
d35 1
a35 2
CONFIGURE_ENV=  	CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/gtk-1.2 -D_POSIX_THREAD_SYSCALL_SOFT=1" \
			LDFLAGS="-L${LOCALBASE}/lib"
d39 1
a39 1
	cp -rp ${PREFIX}/../../etc/* ${PREFIX}/share/examples/gnome-vfs/
@


1.10
log
@more lib depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/10/09 15:33:35 naddy Exp $
d20 1
a20 1
			gconf-1,gconf-gtk-1::devel/gconf,db3 \
@


1.9
log
@add category x11/gnome; from maintainer Nils Nordman <nino@@nforced.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/10/07 20:55:11 naddy Exp $
d20 5
a24 3
			gconf-1::devel/gconf,db3 \
			cdda_paranoia.::audio/cdparanoia \
			bz2.::archivers/bzip2
@


1.8
log
@* Use in-tree libtool patches
* Bump NEED_VERSION
* Fix and improve CATEGORIES
Submitted by maintainer Nils Nordman <nino@@nforced.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/09/20 18:39:13 naddy Exp $
d6 1
a6 1
CATEGORIES=		devel
@


1.7
log
@remove gratuitous gmake dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/09/20 01:32:03 naddy Exp $
d7 1
a7 1
NEED_VERSION=   	1.455
d13 4
@


1.6
log
@fix configure script directly, not worth running autoconf
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/09/18 22:03:43 naddy Exp $
a25 1
USE_GMAKE=		Yes
@


1.5
log
@* Use variables instead of hardcoded prefixes.
* Take care to set a sane PATH.
* Add set -e
* Copy example files into ${PREFIX}/share/examples/PORTNAME.
* Replace PKGNAME with P_NAME in INSTALL/DEINSTALL scripts, unclear
  since it already exists in the Makefile with a different value.
* Change output of INSTALL/DEINSTALL to be more like other scripts
  found in the tree(suggested by heko@@).
* add missing bzip2 dependency (spotted by heko@@)
* fix error in install invocation in INSTALL.
* remove un-needed entries from PLIST (spotted by heko@@)
* Install missing configuration file

Submitted by maintainer Nils Nordman <nino@@nforced.com>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/09/18 15:18:52 naddy Exp $
d27 1
a27 1
CONFIGURE_STYLE= 	autoconf
@


1.4
log
@install message catalogs at proper location, cleanup
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/09/16 22:18:59 heko Exp $
d17 2
a18 1
			cdda_paranoia.::audio/cdparanoia
d33 2
a34 2
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/gnome-vfs; \
        cp -r ${PREFIX}/../../etc/* ${PREFIX}/share/gnome-vfs/
@


1.3
log
@From maintainer:
o PFRAG.gnome.shared for libglade
o Add a missing lib_depend to gnome/vfs, noticed by
  Ibrahim Khalifa <ibo@@toontown.org>
ok lebel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/09/14 14:41:30 todd Exp $
d3 1
a3 1
COMMENT=		"the GNOME Virtual File System"
d26 1
a26 1
CONFIGURE_STYLE= 	gnu
d32 1
a32 1
	@@install -d ${PREFIX}/share/gnome-vfs; \
@


1.2
log
@crank NEED_VERSION= because these require current
use ${HOMEPAGE} in pkg/DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/09/13 21:25:11 todd Exp $
d16 2
a17 1
			gconf-1::devel/gconf,db3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
NEED_VERSION=   	1.384
@


1.1.1.1
log
@the GNOME Virtual File System
@
text
@@
