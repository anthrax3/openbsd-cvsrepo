head	1.139;
access;
symbols
	OPENBSD_6_1:1.139.0.2
	OPENBSD_6_1_BASE:1.139
	OPENBSD_6_0:1.130.0.2
	OPENBSD_6_0_BASE:1.130
	OPENBSD_5_9:1.125.0.2
	OPENBSD_5_9_BASE:1.125
	OPENBSD_5_8:1.121.0.4
	OPENBSD_5_8_BASE:1.121
	OPENBSD_5_7:1.106.0.2
	OPENBSD_5_7_BASE:1.106
	OPENBSD_5_6:1.95.0.2
	OPENBSD_5_6_BASE:1.95
	OPENBSD_5_5:1.69.0.2
	OPENBSD_5_5_BASE:1.69
	OPENBSD_5_4:1.56.0.2
	OPENBSD_5_4_BASE:1.56
	OPENBSD_5_3:1.30.0.2
	OPENBSD_5_3_BASE:1.30
	OPENBSD_5_2:1.7.0.2
	OPENBSD_5_2_BASE:1.7
	jasper_20120807:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.139
date	2017.02.25.15.05.40;	author jasper;	state Exp;
branches;
next	1.138;
commitid	edyk0iTqEfMI1oXX;

1.138
date	2017.02.21.08.46.48;	author ajacoutot;	state Exp;
branches;
next	1.137;
commitid	0OCINVqT7CCSWi1e;

1.137
date	2017.01.20.13.43.47;	author ajacoutot;	state Exp;
branches;
next	1.136;
commitid	38OgWpHDBnHEjePk;

1.136
date	2017.01.03.19.29.36;	author landry;	state Exp;
branches;
next	1.135;
commitid	FAKLTaNEcdKqwguF;

1.135
date	2016.11.10.19.28.13;	author jasper;	state Exp;
branches;
next	1.134;
commitid	odOtyS8aXJHm7DDc;

1.134
date	2016.11.04.10.11.02;	author ajacoutot;	state Exp;
branches;
next	1.133;
commitid	6sXkc2esPiHHuFGK;

1.133
date	2016.10.31.16.15.08;	author jasper;	state Exp;
branches;
next	1.132;
commitid	qS83CxPWE9UbPuo1;

1.132
date	2016.08.30.10.33.01;	author ajacoutot;	state Exp;
branches;
next	1.131;
commitid	ZaSChud58RsWGKLx;

1.131
date	2016.08.20.11.39.56;	author jasper;	state Exp;
branches;
next	1.130;
commitid	aTGQzYHXEk1BXGzb;

1.130
date	2016.06.29.19.20.58;	author jasper;	state Exp;
branches;
next	1.129;
commitid	tiIns7RCvAZdhjmE;

1.129
date	2016.05.12.09.44.22;	author jasper;	state Exp;
branches;
next	1.128;
commitid	qADyWFbkIHxEVdUB;

1.128
date	2016.04.28.09.32.08;	author jasper;	state Exp;
branches;
next	1.127;
commitid	EjCl2AvfsBJJrKKu;

1.127
date	2016.04.26.07.42.21;	author jasper;	state Exp;
branches;
next	1.126;
commitid	MYge6Kf1IKsIKFeI;

1.126
date	2016.03.04.10.21.40;	author jasper;	state Exp;
branches;
next	1.125;
commitid	zHEMamRL7KrMt8Df;

1.125
date	2015.11.18.10.19.10;	author jasper;	state Exp;
branches;
next	1.124;
commitid	But7sfw3fejjXFp2;

1.124
date	2015.11.12.18.00.27;	author jasper;	state Exp;
branches;
next	1.123;
commitid	TRb9OGPXII0HDTY0;

1.123
date	2015.10.24.14.07.29;	author jasper;	state Exp;
branches;
next	1.122;
commitid	cXIN0ti7SG6dXcDc;

1.122
date	2015.08.15.11.13.42;	author ajacoutot;	state Exp;
branches;
next	1.121;
commitid	AXPeqyjAAuMdtb7k;

1.121
date	2015.07.02.18.02.38;	author jasper;	state Exp;
branches;
next	1.120;
commitid	hCdiEbriIhh8t85A;

1.120
date	2015.05.28.10.17.25;	author pascal;	state Exp;
branches;
next	1.119;
commitid	020U4lCPk8wUkCOz;

1.119
date	2015.05.14.18.32.22;	author jasper;	state Exp;
branches;
next	1.118;
commitid	vSkoyxt3OwcpTB4c;

1.118
date	2015.04.15.10.09.12;	author jasper;	state Exp;
branches;
next	1.117;
commitid	6kfXvfEXQDpOzVNH;

1.117
date	2015.04.15.09.40.54;	author ajacoutot;	state Exp;
branches;
next	1.116;
commitid	dfR1rb9OtImYnGFF;

1.116
date	2015.04.06.09.34.48;	author ajacoutot;	state Exp;
branches;
next	1.115;
commitid	DVMr2qErR9imAc5W;

1.115
date	2015.04.06.09.19.07;	author ajacoutot;	state Exp;
branches;
next	1.114;
commitid	QHeH72N7phvI8y9Z;

1.114
date	2015.04.06.08.48.54;	author ajacoutot;	state Exp;
branches;
next	1.113;
commitid	NRHjNkqiNIW4UrBU;

1.113
date	2015.04.06.08.46.00;	author ajacoutot;	state Exp;
branches;
next	1.112;
commitid	UWCzdBIh7kkdOWzP;

1.112
date	2015.04.05.23.28.57;	author ajacoutot;	state Exp;
branches;
next	1.111;
commitid	uORBNOlOCls4Uqde;

1.111
date	2015.04.04.09.21.07;	author ajacoutot;	state Exp;
branches;
next	1.110;
commitid	kS3kwKZogsvzYmEY;

1.110
date	2015.04.03.18.14.41;	author ajacoutot;	state Exp;
branches;
next	1.109;
commitid	XagizMK18UwaVu1l;

1.109
date	2015.04.03.16.47.44;	author jasper;	state Exp;
branches;
next	1.108;
commitid	tTrowsvUBcNhIa72;

1.108
date	2015.03.24.13.36.09;	author jasper;	state Exp;
branches;
next	1.107;
commitid	Bh0blQ41potbez47;

1.107
date	2015.03.20.18.06.14;	author ajacoutot;	state Exp;
branches;
next	1.106;
commitid	r4EeYr9Wf5aUiwux;

1.106
date	2014.12.22.09.23.44;	author jasper;	state Exp;
branches;
next	1.105;
commitid	JxkJu026lXnJerV7;

1.105
date	2014.11.16.14.00.12;	author jasper;	state Exp;
branches;
next	1.104;
commitid	tMgjBg7f9nkaP4ql;

1.104
date	2014.11.01.18.44.10;	author ajacoutot;	state Exp;
branches;
next	1.103;
commitid	Jy2Q3X5ESz7L4qWw;

1.103
date	2014.10.30.15.55.51;	author jasper;	state Exp;
branches;
next	1.102;
commitid	qaGs0gjFn0tkQrhm;

1.102
date	2014.10.21.13.11.03;	author ajacoutot;	state Exp;
branches;
next	1.101;
commitid	POd27gW2X0jVtpbK;

1.101
date	2014.10.15.13.50.50;	author ajacoutot;	state Exp;
branches;
next	1.100;
commitid	wJZ3qsj5rXLzcHpz;

1.100
date	2014.10.15.13.35.36;	author jasper;	state Exp;
branches;
next	1.99;
commitid	UxheblLA47SbPqSL;

1.99
date	2014.10.15.08.27.48;	author jasper;	state Exp;
branches;
next	1.98;
commitid	0JIIrejk3WNIJUpd;

1.98
date	2014.10.07.06.44.42;	author ajacoutot;	state Exp;
branches;
next	1.97;
commitid	RABLsaoEnnbfy74n;

1.97
date	2014.10.05.19.52.59;	author jasper;	state Exp;
branches;
next	1.96;
commitid	MGehpDF4EDD6BlBO;

1.96
date	2014.10.02.14.39.50;	author ajacoutot;	state Exp;
branches;
next	1.95;
commitid	3NSQTWFrksP8zwF9;

1.95
date	2014.05.30.09.29.38;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2014.05.23.06.55.45;	author ajacoutot;	state Exp;
branches;
next	1.93;

1.93
date	2014.05.14.09.26.00;	author jasper;	state Exp;
branches;
next	1.92;

1.92
date	2014.05.08.09.45.07;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2014.05.08.09.33.17;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2014.04.25.16.31.49;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2014.04.22.21.23.52;	author naddy;	state Exp;
branches;
next	1.88;

1.88
date	2014.04.21.15.28.42;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2014.04.16.07.28.34;	author jasper;	state Exp;
branches;
next	1.86;

1.86
date	2014.04.14.19.52.44;	author matthieu;	state Exp;
branches;
next	1.85;

1.85
date	2014.04.12.07.10.43;	author ajacoutot;	state Exp;
branches;
next	1.84;

1.84
date	2014.04.08.15.24.21;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2014.04.07.15.38.25;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2014.04.02.09.36.14;	author jasper;	state Exp;
branches;
next	1.81;

1.81
date	2014.04.01.18.06.32;	author jasper;	state Exp;
branches;
next	1.80;

1.80
date	2014.04.01.17.03.15;	author jasper;	state Exp;
branches;
next	1.79;

1.79
date	2014.04.01.15.31.47;	author jasper;	state Exp;
branches;
next	1.78;

1.78
date	2014.04.01.13.21.46;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2014.04.01.07.40.45;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2014.03.29.08.47.21;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2014.03.28.15.54.15;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2014.03.28.08.48.41;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2014.03.28.08.25.13;	author jasper;	state Exp;
branches;
next	1.72;

1.72
date	2014.03.27.19.05.31;	author jasper;	state Exp;
branches;
next	1.71;

1.71
date	2014.03.26.16.05.38;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2014.03.26.11.05.20;	author jasper;	state Exp;
branches;
next	1.69;

1.69
date	2014.02.20.17.55.45;	author jasper;	state Exp;
branches;
next	1.68;

1.68
date	2014.01.16.10.22.47;	author jasper;	state Exp;
branches;
next	1.67;

1.67
date	2013.12.14.09.53.18;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2013.11.15.13.52.45;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2013.11.14.14.12.46;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2013.10.16.09.03.55;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2013.10.11.12.24.36;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2013.10.10.15.07.47;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2013.10.07.14.27.15;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2013.09.28.08.51.29;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2013.09.27.14.04.46;	author jasper;	state Exp;
branches;
next	1.58;

1.58
date	2013.08.10.12.48.33;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2013.08.06.18.09.20;	author jasper;	state Exp;
branches;
next	1.56;

1.56
date	2013.06.23.10.10.11;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2013.06.20.06.54.38;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2013.06.17.19.28.37;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2013.06.10.15.21.06;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2013.06.04.15.32.17;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2013.06.01.18.56.08;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2013.05.31.15.35.10;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2013.05.18.17.27.42;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2013.05.14.08.59.45;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2013.04.17.11.04.28;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2013.04.16.13.17.02;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2013.04.16.10.21.58;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2013.04.12.16.41.06;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2013.04.04.12.17.22;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2013.04.03.12.32.42;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2013.04.02.14.08.43;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2013.03.31.15.56.00;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2013.03.31.08.23.24;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2013.03.30.16.07.50;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2013.03.30.15.18.58;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2013.03.30.13.03.45;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2013.03.30.10.03.08;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2013.03.30.08.04.19;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2013.03.27.18.02.21;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2013.03.11.11.46.12;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2013.03.04.18.07.06;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2013.02.06.07.14.48;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2013.01.25.07.56.17;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2013.01.18.07.10.58;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2013.01.01.14.23.25;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2012.12.03.17.15.11;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2012.11.17.12.43.04;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2012.11.15.08.32.36;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2012.11.13.18.19.13;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2012.10.17.11.49.37;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2012.10.16.14.20.19;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2012.10.16.13.25.37;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2012.10.16.11.56.12;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.10.10.08.42.40;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2012.10.08.17.16.20;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2012.10.08.11.33.21;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2012.10.03.15.56.49;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2012.10.01.06.44.11;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2012.09.30.14.45.23;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2012.09.29.10.52.28;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2012.09.07.07.19.36;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2012.09.01.14.36.59;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2012.08.29.12.20.22;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2012.08.29.11.56.27;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2012.07.13.16.35.26;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2012.07.13.12.01.35;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.07.13.08.03.53;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2012.07.09.18.01.16;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.07.08.15.45.35;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.07.08.15.39.11;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.07.08.14.53.14;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.07.08.14.53.14;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.139
log
@update to gnome-shell-3.22.3
@
text
@# $OpenBSD: Makefile,v 1.138 2017/02/21 08:46:48 ajacoutot Exp $

USE_WXNEEDED=		Yes

COMMENT=		next generation GNOME shell

GNOME_PROJECT=		gnome-shell
GNOME_VERSION=		3.22.3

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += EGL FLAC ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xtst Xxf86vm
WANTLIB += atk-1.0 atk-bridge-2.0 atspi c cairo cairo-gobject
WANTLIB += camel-1.2 canberra canberra-gtk3 croco-0.6 dbus-1 dbus-glib-1
WANTLIB += drm ecal-1.2 edataserver-1.2 epoxy execinfo expat ffi
WANTLIB += fontconfig freetype gbm gck-1 gcr-base-3 gcrypt gdbm
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0 gjs glapi
WANTLIB += glib-2.0 gmodule-2.0 gmp gnome-desktop-3 gobject-2.0
WANTLIB += gpg-error graphite2 gstaudio-1.0 gstbase-1.0 gstreamer-1.0
WANTLIB += gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 harfbuzz
WANTLIB += hogweed ical icalss icalvcal iconv icudata icui18n
WANTLIB += icuuc idn2 intl javascriptcoregtk-4.0 json-glib-1.0
WANTLIB += ltdl lzma m mozjs-24 mutter ncurses ncursesw nettle
WANTLIB += nspr4 nss3 ogg orc-0.4 p11-kit pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 plc4 plds4 png polkit-agent-1
WANTLIB += polkit-gobject-1 pthread pthread-stubs pulse pulse-mainloop-glib
WANTLIB += readline secret-1 smime3 sndfile softokn3 soup-2.4
WANTLIB += sqlite3 ssl3 startup-notification-1 stdc++ tasn1 telepathy-glib
WANTLIB += upower-glib vorbis vorbisenc vorbisfile webkit2gtk-4.0
WANTLIB += xcb xcb-dri2 xcb-glx xcb-randr xcb-render xcb-res xcb-shm
WANTLIB += xcb-util xcb-xfixes xcb-xkb xkbcommon xkbcommon-x11
WANTLIB += xkbfile xml2 z unistring

MODULES=		devel/dconf \
			lang/python \
			x11/gnome

# sync with devel/spidermonkey
MODULES +=		gcc4
MODGCC4_ARCHS=		*
MODGCC4_LANGS=		c c++

MODPY_VERSION =		${MODPY_DEFAULT_VERSION_3}

MODGNOME_TOOLS +=	desktop-file-utils docbook gobject-introspection

BUILD_DEPENDS +=	devel/gsettings-desktop-schemas
RUN_DEPENDS +=		devel/gsettings-desktop-schemas

LIB_DEPENDS=		audio/pulseaudio \
			databases/evolution-data-server \
			multimedia/gstreamer1/core \
			net/telepathy/telepathy-glib \
			sysutils/polkit \
			www/libcroco \
			x11/gnome/gcr \
			x11/gnome/gjs \
			x11/gnome/mutter>=3.22.0

# configure looks for gnome-keybindings.pc;
# system.js, backgroundMenu.js, network.js, remoteSearch.js
BUILD_DEPENDS +=	x11/gnome/control-center
RUN_DEPENDS +=		x11/gnome/control-center

# onscreen keyboard
BUILD_DEPENDS +=	x11/gnome/caribou
RUN_DEPENDS +=		x11/gnome/caribou

# polkit(8) almost always needs to know the "active" session
RUN_DEPENDS +=		sysutils/consolekit

# gnome-shell-extension-tool, gnome-shell-perf-tool
RUN_DEPENDS +=		devel/py-gobject3,python3

# Don't depend on evolution to lower down the amount of dependencies and
# because most users want to be able to choose their PIM. Evolution can
# be installed separately or as part of the "gnome-extra" meta-package.
#RUN_DEPENDS +=		mail/evolution

# polkitAgent.js, endSessionDialog.js, screenShield.js, status/system.js,
# unlockDialog.js, userWidget.js
RUN_DEPENDS +=		sysutils/accountsservice

# dateMenu.js
RUN_DEPENDS +=		x11/gnome/clocks

# telepathyClient.js
RUN_DEPENDS +=		net/telepathy/telepathy-logger

# yelp.desktop menu entry (from yelp: OnlyShowIn=GNOME;Unity;)
# prevents => The URI "help:gnome-help/index" does not point to a valid page.
RUN_DEPENDS +=		x11/gnome/user-docs

# gkbd-keyboard-display
RUN_DEPENDS +=		x11/gnome/libgnomekbd

# add required introspection libs that are not in the dependency chain
RUN_DEPENDS +=		inputmethods/ibus \
			x11/gnome/gdm

CONFIGURE_ARGS=		--disable-systemd

# disable -Werror:
#     shell-glsl-quad.c:86:35: error: implicit conversion from enumeration type 'ShellSnippetHook'
#     to different enumeration type 'CoglSnippetHook' [-Werror,-Wenum-conversion]
CONFIGURE_ARGS +=	--enable-compile-warnings

# /gnome-shell-3.18.4_writes_to_HOME
PORTHOME=		${WRKDIR}

post-install:
	rm ${PREFIX}/lib/gnome-shell/*.{a,la}
	rm ${PREFIX}/lib/mozilla/plugins/*.{a,la}

.include <bsd.port.mk>
@


1.138
log
@idn -> idn2 to unbreak (reported by naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2017/01/20 13:43:47 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.22.2
REVISION=		2
@


1.137
log
@Regen WANTLIB to unbreak after pulseaudio lost its dependency on json-c.

reported by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2017/01/03 19:29:36 landry Exp $
d9 1
a9 1
REVISION=		1
d25 1
a25 1
WANTLIB += icuuc idn intl javascriptcoregtk-4.0 json-glib-1.0
@


1.136
log
@bump ports depending on python3 in x11, thanks portbump(1) for the heavy lifting !
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2016/11/10 19:28:13 jasper Exp $
d9 1
a9 1
REVISION=		0
d25 1
a25 1
WANTLIB += icuuc idn intl javascriptcoregtk-4.0 json-c json-glib-1.0
d35 1
a35 1
WANTLIB += xkbfile xml2 z
@


1.135
log
@update to gnome-shell-3.22.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2016/11/04 10:11:02 ajacoutot Exp $
d9 1
@


1.134
log
@Drop a systemd specific function that's in the way.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2016/10/31 16:15:08 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		3.22.1
REVISION=		0
@


1.133
log
@update to gnome-shell-3.22.1

there may be some runtime issues that will be dealt with shortly,
as discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2016/08/30 10:33:01 ajacoutot Exp $
d9 1
@


1.132
log
@Needs USE_WXNEEDED.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2016/08/20 11:39:56 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		3.20.4
REVISION=		0
d13 22
a34 24
WANTLIB += FLAC ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xtst atk-1.0
WANTLIB += atk-bridge-2.0 atspi c cairo cairo-gobject camel-1.2
WANTLIB += canberra canberra-gtk3 clutter-1.0 cogl cogl-pango
WANTLIB += cogl-path croco-0.6 dbus-1 dbus-glib-1 ecal-1.2 edataserver-1.2
WANTLIB += execinfo expat ffi fontconfig freetype gck-1 gcr-base-3
WANTLIB += gcrypt gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0
WANTLIB += gjs glib-2.0 gmodule-2.0 gnome-desktop-3 gobject-2.0
WANTLIB += gpg-error graphite2 gstbase-1.0 gstreamer-1.0 gthread-2.0
WANTLIB += gtk-3 harfbuzz ical icalss icalvcal icudata icui18n
WANTLIB += icuuc json-c json-glib-1.0 ltdl m mozjs-24 mutter ncurses
WANTLIB += ncursesw nspr4 nss3 nssutil3 ogg p11-kit pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4
WANTLIB += png polkit-agent-1 polkit-gobject-1 pthread pthread-stubs
WANTLIB += pulse pulse-mainloop-glib readline secret-1 smime3
WANTLIB += sndfile softokn3 soup-2.4 sqlite3 ssl3 startup-notification-1
WANTLIB += telepathy-glib upower-glib vorbis vorbisenc
WANTLIB += vorbisfile xcb xcb-util xcb-render xcb-shm xml2 z epoxy
WANTLIB += EGL drm gbm xcb-dri2 xcb-randr xcb-shape iconv intl
WANTLIB += xcb-xfixes xcb-xkb xkbcommon xkbcommon-x11 xkbfile lzma
WANTLIB += GL Xt Xxf86vm enchant glapi gstapp-1.0 gstaudio-1.0
WANTLIB += gstfft-1.0 gstpbutils-1.0 gsttag-1.0 gstvideo-1.0 harfbuzz-icu
WANTLIB += javascriptcoregtk-3.0 jpeg orc-0.4 stdc++ webkitgtk-3.0
WANTLIB += webp xcb-glx xslt
d60 1
a60 1
			x11/gnome/mutter>=3.20.2
@


1.131
log
@update to gnome-shell-3.20.4
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.130 2016/06/29 19:20:58 jasper Exp $
d9 1
@


1.130
log
@update to gnome-shell-3.20.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2016/05/12 09:44:22 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.20.3
@


1.129
log
@update to gnome-shell-3.20.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2016/04/28 09:32:08 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.20.2
@


1.128
log
@some more bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2016/04/26 07:42:21 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.20.1
d60 1
a60 1
			x11/gnome/mutter>=3.18.2
@


1.127
log
@update to gnome-shell-3.20.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2016/03/04 10:21:40 jasper Exp $
d110 1
a110 1
# XXX: gnome-shell-3.18.4_writes_to_HOME
@


1.126
log
@update to gnome-shell-3.18.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2015/11/18 10:19:10 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.18.4
d29 1
a29 1
WANTLIB += EGL drm gbm xcb-dri2 xcb-randr xcb-shape
d31 4
a36 1
			devel/gettext \
d109 3
@


1.125
log
@update to gnome-shell-3.18.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2015/11/12 18:00:27 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.18.3
d29 1
a29 1
WANTLIB += EGL Xau Xdmcp drm gbm glapi xcb-dri2 xcb-randr xcb-shape
@


1.124
log
@update to gnome-shell-3.18.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2015/10/24 14:07:29 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.18.2
@


1.123
log
@update to gnome-shell-3.18.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2015/08/15 11:13:42 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.18.1
d57 1
a57 1
			x11/gnome/mutter>=3.18.1
@


1.122
log
@Bump after the consolekit->consolekit2 renaming.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2015/07/02 18:02:38 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.16.3
REVISION=		0
d57 1
a57 1
			x11/gnome/mutter>=3.16.2
@


1.121
log
@update to gnome-shell-3.16.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2015/05/28 10:17:25 pascal Exp $
d7 1
@


1.120
log
@gcc4 bumps, reminded by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2015/05/14 18:32:22 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.16.2
REVISION=		0
@


1.119
log
@update to gnome-shell-3.16.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2015/04/15 10:09:12 jasper Exp $
d7 1
@


1.118
log
@update to gnome-shell-3.16.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2015/04/15 09:40:54 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.16.1
d57 1
a57 1
			x11/gnome/mutter>=3.16.1
@


1.117
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2015/04/06 09:34:48 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.16.0
REVISION=		4
d57 1
a57 1
			x11/gnome/mutter>=3.16.0
@


1.116
log
@Revert, I am stupid -- c++ *is* needed for gnome-shell.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2015/04/06 09:19:07 ajacoutot Exp $
d7 1
a7 1
REVISION=		3
@


1.115
log
@Reword a bit; gnome-shell does not need c++.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2015/04/06 08:48:54 ajacoutot Exp $
d38 1
a38 1
# devel/spidermonkey headers requires gcc>=4.4
d41 1
@


1.114
log
@Keep in sync.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2015/04/06 08:46:00 ajacoutot Exp $
d38 1
a38 1
# sync with devel/spidermonkey
a40 1
MODGCC4_LANGS=		c c++
@


1.113
log
@Fix GDM blur.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2015/04/05 23:28:57 ajacoutot Exp $
d38 1
d40 2
a41 2
MODGCC4_ARCHS =		*
MODGCC4_LANGS =		c c++
@


1.112
log
@Sync with devel/spidermonkey.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2015/04/04 09:21:07 ajacoutot Exp $
d7 1
a7 1
REVISION=		2
@


1.111
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2015/04/03 18:14:41 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
d28 1
a28 1
WANTLIB += stdc++ telepathy-glib upower-glib vorbis vorbisenc
d38 2
a39 3
# sync with devel/spidermonkey
MODULES +=		gcc4 lang/clang
MODGCC4_ARCHS =		powerpc sparc64 alpha i386 hppa
a40 2
MODCLANG_ARCHS =	amd64
MODCLANG_LANGS =	c c++
@


1.110
log
@Cope with the gnome-control-center move.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2015/04/03 16:47:44 jasper Exp $
d7 1
a7 1
REVISION=		0
@


1.109
log
@update to gnome-shell-3.16.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2015/03/24 13:36:09 jasper Exp $
d7 1
d64 2
a65 2
BUILD_DEPENDS +=	x11/gnome/controlcenter
RUN_DEPENDS +=		x11/gnome/controlcenter
@


1.108
log
@update to gedit-code-assistance-3.14.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2015/03/20 18:06:14 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.4
d28 1
a28 1
WANTLIB += vorbisfile xcb xcb-util xcb-render xcb-shm xml2 z
d44 2
d59 1
a59 1
			x11/gnome/mutter>=3.14.4
d74 1
a74 1
RUN_DEPENDS +=		devel/py-gobject3
@


1.107
log
@Keep list in sync.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2014/12/22 09:23:44 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.3
d57 1
a57 1
			x11/gnome/mutter>=3.14.3
@


1.106
log
@update to gnome-shell-3.14.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2014/11/16 14:00:12 jasper Exp $
d39 1
a39 1
MODGCC4_ARCHS =		powerpc sparc64 alpha i386
@


1.105
log
@update to gnome-shell-3.14.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2014/11/01 18:44:10 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.2
d57 1
a57 1
			x11/gnome/mutter>=3.14.1
@


1.104
log
@x11/gnome/libgnomekbd needed here as well.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2014/10/30 15:55:51 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.14.1.5
REVISION=		0
d30 1
a30 2
WANTLIB += xcb-xfixes xcb-xkb xkbcommon xkbcommon-x11 xkbfile

@


1.103
log
@update to gnome-shell-3.14.1.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2014/10/21 13:11:03 ajacoutot Exp $
d7 1
d94 3
@


1.102
log
@Revert "loginManager: Kill ConsoleKit support" to unbreak GDM login screen.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2014/10/15 13:50:50 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.14.1
REVISION=		1
@


1.101
log
@Explicit RUN_DEPENDS on  sysutils/accountsservice.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2014/10/15 13:35:36 jasper Exp $
d7 1
a7 1
REVISION=		0
@


1.100
log
@update to gnome-shell-3.14.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2014/10/15 08:27:48 jasper Exp $
d7 1
d61 1
a61 1
# configure looks for gnome-keybindings.pc
a62 1
# brings accountsservice and gnome-menus introspection libs
d80 4
@


1.99
log
@remove double clang module inclusion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2014/10/07 06:44:42 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.0
d58 1
a58 1
			x11/gnome/mutter>=3.14.0
@


1.98
log
@Unbreak build with clang by disabling -Werror.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2014/10/05 19:52:59 jasper Exp $
a34 1
			lang/clang \
@


1.97
log
@update to gnome-shell-3.14.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2014/10/02 14:39:50 ajacoutot Exp $
d97 5
@


1.96
log
@Drop uneeded dep.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2014/05/30 09:29:38 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.12.2
REVISION=		2
d29 3
d46 1
a46 1
MODGNOME_TOOLS += desktop-file-utils docbook gobject-introspection
d59 1
a59 1
			x11/gnome/mutter>=3.12.1
@


1.95
log
@Pushed upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2014/05/23 06:55:45 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
a88 3

# panel icons (power, sound...)
RUN_DEPENDS +=		x11/gnome/icon-theme-symbolic
@


1.94
log
@Sync patch with BZ.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2014/05/14 09:26:00 jasper Exp $
d7 1
a7 1
REVISION=		0
@


1.93
log
@update to gnome-shell-3.12.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2014/05/08 09:45:07 ajacoutot Exp $
d7 1
@


1.92
log
@Don't append blank args.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2014/05/08 09:33:17 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.12.1
REVISION=		3
@


1.91
log
@Fix segfault.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2014/04/25 16:31:49 ajacoutot Exp $
d7 1
a7 1
REVISION=		2
@


1.90
log
@Drop useless header and simplify shell_global_reexec_self().
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2014/04/22 21:23:52 naddy Exp $
d7 1
a7 1
REVISION=		1
@


1.89
log
@Restore the xcb-aux to xcb-util move.
Do not regenerate WANTLIB on a system that isn't up-to-date!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2014/04/21 15:28:42 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
@


1.88
log
@Regen wantlib for kerberos removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2014/04/16 07:28:34 jasper Exp $
d29 1
a29 1
WANTLIB += vorbisfile xcb xcb-aux xcb-render xcb-shm xml2 z
@


1.87
log
@update to gnome-shell-3.12.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2014/04/14 19:52:44 matthieu Exp $
d7 1
d13 1
a13 1
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xtst asn1 atk-1.0
d16 14
a29 15
WANTLIB += com_err croco-0.6 crypto dbus-1 dbus-glib-1 ecal-1.2
WANTLIB += edataserver-1.2 execinfo expat ffi fontconfig freetype
WANTLIB += gck-1 gcr-base-3 gcrypt gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0
WANTLIB += girepository-1.0 gjs glib-2.0 gmodule-2.0 cogl-path
WANTLIB += gobject-2.0 gpg-error graphite2 gssapi gstbase-1.0
WANTLIB += gstreamer-1.0 gthread-2.0 gtk-3 harfbuzz heimbase
WANTLIB += ical icalss icalvcal json-c json-glib-1.0 krb5
WANTLIB += ltdl m mozjs-24 mutter ncurses ncursesw nspr4 nss3
WANTLIB += nssutil3 ogg p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png polkit-agent-1 polkit-gobject-1
WANTLIB += pthread pthread-stubs pulse pulse-mainloop-glib readline
WANTLIB += roken secret-1 smime3 sndfile softokn3 soup-2.4 sqlite3
WANTLIB += ssl3 startup-notification-1 stdc++ telepathy-glib vorbis
WANTLIB += vorbisenc vorbisfile wind xcb xcb-util xcb-render xcb-shm
WANTLIB += xml2 z gnome-desktop-3 upower-glib icudata icui18n icuuc
@


1.86
log
@WANTLIB updates and patches for new xcb-util libs. tested by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2014/04/12 07:10:43 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.12.0
REVISION=		6
d57 1
a57 1
			x11/gnome/mutter>=3.10.4
@


1.85
log
@Sync with BZ patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2014/04/08 15:24:21 ajacoutot Exp $
d7 1
a7 1
REVISION=		5
d29 1
a29 1
WANTLIB += vorbisenc vorbisfile wind xcb xcb-aux xcb-render xcb-shm
@


1.84
log
@Sync patch with the one on BZ.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2014/04/07 15:38:25 ajacoutot Exp $
d7 1
a7 1
REVISION=		4
@


1.83
log
@Fix shell_global_reexec_self() on OpenBSD.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2014/04/02 09:36:14 jasper Exp $
d7 1
a7 1
REVISION=		3
@


1.82
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2014/04/01 18:06:32 jasper Exp $
d7 1
a7 1
REVISION=		2
@


1.81
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2014/04/01 17:03:15 jasper Exp $
d45 2
a46 1
MODGNOME_TOOLS +=	desktop-file-utils docbook gobject-introspection
@


1.80
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2014/04/01 15:31:47 jasper Exp $
d45 1
a45 3
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS=		docbook gobject-introspection

@


1.79
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2014/04/01 13:21:46 ajacoutot Exp $
d45 1
a45 1
MODGNOME_DESKTOP_FILE=	Yes
@


1.78
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 2/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2014/04/01 07:40:45 ajacoutot Exp $
d46 1
a46 1
MODGNOME_TOOLS=		docbook gi
@


1.77
log
@Explicitely disable udev, gudev, systemd and systemd-journal so we know
where they are used.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2014/03/29 08:47:21 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
d99 1
a99 4
LIBTOOL_FLAGS= 		--tag=disable-static

CONFIGURE_ARGS=		--disable-static \
			--disable-systemd
d102 2
a103 2
	rm ${PREFIX}/lib/gnome-shell/*.la
	rm ${PREFIX}/lib/mozilla/plugins/*.la
@


1.76
log
@Extend comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2014/03/28 15:54:15 ajacoutot Exp $
d101 2
a102 1
CONFIGURE_ARGS=		--disable-static
@


1.75
log
@Tweak deps now that js files are bundled into the binary.
net/telepathy/telepathy-mission-control not needed anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2014/03/28 08:48:41 ajacoutot Exp $
d63 1
a63 1
# brings sysutils/accountsservice introspection libs
@


1.74
log
@Move to the new MODGNOME_TOOLS docbook option.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2014/03/28 08:25:13 jasper Exp $
d7 1
a7 1
REVISION=		0
a50 8
# gnome-keybindings.pc, sysutils/accountsservice (unlockDialog.js...)
BUILD_DEPENDS +=	x11/gnome/controlcenter
RUN_DEPENDS +=		x11/gnome/controlcenter

# onscreen keyboard
BUILD_DEPENDS +=	x11/gnome/caribou
RUN_DEPENDS +=		x11/gnome/caribou

d61 10
d85 2
a86 3
# telepathyClient.js, userMenu.js (AccountManager)
RUN_DEPENDS +=		net/telepathy/telepathy-logger \
			net/telepathy/telepathy-mission-control
@


1.73
log
@unbreak browsing applications with cursor keys by ensuring the focused
icon is viewable. also fix a buglet with search results while here.

from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2014/03/27 19:05:31 jasper Exp $
d45 2
a46 1
MODGNOME_TOOLS=		gi
a50 3
# man pages
BUILD_DEPENDS +=	textproc/docbook-xsl

a96 2

MODGNOME_DESKTOP_FILE=	Yes
@


1.72
log
@update to gnome-shell-3.12.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2014/03/26 16:05:38 ajacoutot Exp $
d7 1
a7 1
REVISION=1
@


1.71
log
@These 3 need to be in sync wrt to compiler MODULE.
Add missing MODGCC4_LANGS to the gnome ports while here.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2014/03/26 11:05:20 jasper Exp $
d6 2
a7 2
GNOME_VERSION=		3.10.4
REVISION=		0
d19 1
a19 1
WANTLIB += girepository-1.0 gjs glib-2.0 gmodule-2.0 gnome-menu-3
d30 1
a30 1
WANTLIB += xml2 z gnome-desktop-3 upower-glib xkbfile
a68 1
			x11/gnome/menus \
a104 19

AUTOCONF_VERSION=	2.69
AUTOMAKE_VERSION=	1.11
BUILD_DEPENDS +=	${MODGNU_AUTOMAKE_DEPENDS} \
			${MODGNU_AUTOCONF_DEPENDS} \
			devel/libtool \
			x11/gnome/common

pre-configure:
	# XXX: Remove when updating to 3.12.0
	mv ${WRKSRC}/src/shell-js.c ${WRKSRC}/src/shell-js.cpp
	cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} aclocal -I m4
	cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} autoconf
	cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} autoheader
	cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} automake
@


1.70
log
@add varous patches from upstream to unbreak with new spidermonkey/gjs.

they'll be removed once gnome-shell is updated to 3.12.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2014/02/20 17:55:45 jasper Exp $
d38 6
a43 5
# Needed by (gjs -> spidermonkey)
MODULES +=              gcc4 lang/clang
MODGCC4_ARCHS =         powerpc sparc64 alpha i386
MODCLANG_ARCHS =        amd64
MODCLANG_LANGS =        c c++
@


1.69
log
@update to gnome-shell-3.10.4, fixing a host of issues

ok aja@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2014/01/16 10:22:47 jasper Exp $
d7 1
d23 1
a23 1
WANTLIB += ltdl m mozjs-17.0 mutter ncurses ncursesw nspr4 nss3
d34 1
d38 6
d114 2
@


1.68
log
@update to gnome-shell-3.10.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/12/14 09:53:18 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.10.3
d61 1
a61 1
			x11/gnome/mutter>=3.10.2
@


1.67
log
@Sync patch, libsecret is not needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/11/15 13:52:45 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.10.2.1
REVISION=		0
@


1.66
log
@update to gnome-shell-3.10.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/11/14 14:12:46 jasper Exp $
d7 1
@


1.65
log
@update to gnome-shell-3.10.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2013/10/16 09:03:55 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.10.2
@


1.64
log
@Update to gnome-shell-3.10.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/10/11 12:24:36 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.10.1
d61 1
a61 1
			x11/gnome/mutter>=3.8.3
@


1.63
log
@Sync NM patch with Gentoo/Debian.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/10/10 15:07:47 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.10.0.1
REVISION=		2
@


1.62
log
@Add comment about sysutils/accountsservice.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/10/07 14:27:15 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.61
log
@Implement shell_global_reexec_self() so that alt-f2 + 'r' properly
re-execture the shell (one of the brazillions "no /proc here" patches).
Remove non-existent CONFIGURE_ARGS while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/09/28 08:51:29 ajacoutot Exp $
d45 1
a45 1
# gnome-keybindings.pc
@


1.60
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/09/27 14:04:46 jasper Exp $
d7 1
a7 1
REVISION=		0
d97 1
a97 2
CONFIGURE_ARGS=		--disable-static \
			--without-systemd
@


1.59
log
@update to gnome-shell-3.10.0.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/08/10 12:48:33 ajacoutot Exp $
d7 1
a7 2

HOMEPAGE=		http://live.gnome.org/GnomeShell
@


1.58
log
@Regen dependencies and fix with updated mozjs-17.0 (devel/spidermonkey).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/08/06 18:09:20 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.8.4
REVISION=		0
d31 1
a31 1
WANTLIB += xml2 z
@


1.57
log
@update to gnome-shell-3.8.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/06/23 10:10:11 ajacoutot Exp $
d7 1
d25 1
a25 1
WANTLIB += ltdl m mozjs185 mutter ncurses ncursesw nspr4 nss3
@


1.56
log
@Drop unused patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/06/20 06:54:38 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.8.3
REVISION=		2
@


1.55
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/06/17 19:28:37 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.54
log
@Some trivial WANTLIB and tweaks to unbreak after the Heimdal update.
Stop hardcoding the Kerberos libs and use krb5-config(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/06/10 15:21:06 jasper Exp $
d7 1
a7 1
REVISION=		0
d23 2
a24 2
WANTLIB += gstreamer-1.0 gthread-2.0 gtk-3 harfbuzz heimbase heimntlm
WANTLIB += hx509 ical icalss icalvcal json-c json-glib-1.0 krb5
@


1.53
log
@update to gnome-shell-3.8.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/06/04 15:32:17 ajacoutot Exp $
d7 1
d14 4
a17 4
WANTLIB += FLAC ICE SM X11 X11-xcb Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xtst asn1
WANTLIB += atk-1.0 atk-bridge-2.0 atspi c cairo cairo-gobject
WANTLIB += camel-1.2 canberra canberra-gtk3 clutter-1.0 cogl cogl-pango
d20 2
a21 2
WANTLIB += gck-1 gcr-3 gcr-base-3 gcrypt gdbm gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 girepository-1.0 gjs glib-2.0 gmodule-2.0 gnome-menu-3
d23 2
a24 2
WANTLIB += gstreamer-1.0 gthread-2.0 gtk-3 harfbuzz ical icalss
WANTLIB += icalvcal json-c json-glib-1.0 krb5
d29 3
a31 3
WANTLIB += secret-1 smime3 sndfile softokn3 soup-2.4 sqlite3 ssl3
WANTLIB += startup-notification-1 stdc++ telepathy-glib vorbis
WANTLIB += vorbisenc vorbisfile xcb xcb-aux xcb-render xcb-shm
@


1.52
log
@Bump after the pulseaudio update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/06/01 18:56:08 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.8.2
REVISION=		2
d63 1
a63 1
			x11/gnome/mutter>=3.8.1
@


1.51
log
@Drop now uneeded patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/05/31 15:35:10 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.50
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/05/18 17:27:42 ajacoutot Exp $
a98 1
CONFIGURE_STYLE=	gnu
@


1.49
log
@Missing dependency on telepathy-mission-control.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/05/14 08:59:45 jasper Exp $
d7 1
a7 1
REVISION=		0
d24 1
a24 1
WANTLIB += icalvcal icudata icule icuuc json-c json-glib-1.0 krb5
@


1.48
log
@update to gnome-shell-3.8.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/04/17 11:04:28 jasper Exp $
d7 1
d24 1
a24 1
WANTLIB += icalvcal icudata icule icuuc json json-glib-1.0 krb5
d80 3
a82 2
# telepathyClient.js
RUN_DEPENDS +=		net/telepathy/telepathy-logger
@


1.47
log
@update to gnome-shell-3.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/04/16 13:17:02 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.8.1
@


1.46
log
@goi -> gi (gnome MODULE change).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/04/16 10:21:58 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.8.0.1
REVISION=		8
d63 1
a63 1
			x11/gnome/mutter
@


1.45
log
@Bump after py-gobject3 change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/04/12 16:41:06 ajacoutot Exp $
d39 1
a39 1
MODGNOME_TOOLS=		goi
@


1.44
log
@Missing RUN_DEPENDS on net/telepathy/telepathy-logger.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/04/04 12:17:22 ajacoutot Exp $
d7 1
a7 1
REVISION=		7
@


1.43
log
@Fix devel/py-gobject3 dependency. Sometimes it's needed at run time, or
for the regression tests...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/04/03 12:32:42 ajacoutot Exp $
d7 1
a7 1
REVISION=		6
d79 3
@


1.42
log
@Depends on x11/gnome/clocks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/04/02 14:08:43 ajacoutot Exp $
d69 1
a69 1
# gnome-shell-extension-tool
@


1.41
log
@Switch the icon-theme-symbolic dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/03/31 15:56:00 ajacoutot Exp $
d7 1
a7 1
REVISION=		5
d76 3
@


1.40
log
@Also needs to run depends on x11/gnome/controlcenter.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2013/03/31 08:23:24 ajacoutot Exp $
d7 1
a7 1
REVISION=		4
d42 1
d45 1
a45 1
BUILD_DEPENDS += textproc/docbook-xsl
d48 2
a49 2
BUILD_DEPENDS += x11/gnome/controlcenter
RUN_DEPENDS += x11/gnome/controlcenter
d53 1
d55 2
a56 2
LIB_DEPENDS=		audio/pulseaudio>=2.1 \
			databases/evolution-data-server>=3.6.0p3 \
d64 1
a64 1
			x11/gnome/mutter>=3.6.1
d66 2
a67 3
RUN_DEPENDS=		devel/gsettings-desktop-schemas \
			devel/py-gobject3 \
			x11/gnome/caribou
d69 2
a70 2
# polkit(8) almost always needs to know the "active" session
RUN_DEPENDS +=	sysutils/consolekit
d80 3
@


1.39
log
@Missing dependency on gsettings-desktop-schemas.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/03/30 16:07:50 ajacoutot Exp $
d7 1
a7 1
REVISION=		3
d48 1
@


1.38
log
@Tweak the yelp comment; no pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/03/30 15:18:58 ajacoutot Exp $
d7 1
a7 1
REVISION=		2
d41 2
d63 2
a64 1
RUN_DEPENDS=		devel/py-gobject3 \
@


1.37
log
@Add conflict/pkgpath with gnome-screensaver and notification-daemon to
provide a smooth upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/03/30 13:03:45 ajacoutot Exp $
d60 1
d72 2
a73 1
# yelp.desktop menu entry (from yelp: OnlyShowIn=GNOME;)
@


1.36
log
@Anything that uses polkit should really RUN_DEPENDS on consolekit;
otherwise we have no way to know the active session.

discussed/agreed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/03/30 10:03:08 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.35
log
@Add a conflict/pkgpath marker with gnome-panel so that it gets removed
on update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/03/30 08:04:19 jasper Exp $
d7 1
a7 1
REVISION=		0
d62 3
@


1.34
log
@- update to gnome-shell-3.8.0.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/03/27 18:02:21 ajacoutot Exp $
d7 1
@


1.33
log
@Fix build with glib2>=2.36.0.
Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/03/11 11:46:12 espie Exp $
d6 1
a6 2
GNOME_VERSION=		3.6.3.1
REVISION=		0
d13 3
a15 3
WANTLIB += GL ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm
WANTLIB += asn1 atk-1.0 atk-bridge-2.0 atspi c cairo cairo-gobject
d17 15
a31 15
WANTLIB += com_err croco-0.6 crypto dbus-1 dbus-glib-1 drm
WANTLIB += ecal-1.2 edataserver-1.2 xkbfile xml2 z graphite2
WANTLIB += execinfo expat ffi fontconfig freetype gck-1 gcr-3
WANTLIB += gcr-base-3 gcrypt gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0
WANTLIB += girepository-1.0 gjs glib-2.0 gmodule-2.0 gnome-desktop-3
WANTLIB += gnome-keyring gnome-menu-3 gobject-2.0 gpg-error gssapi
WANTLIB += gstbase-1.0 gstreamer-1.0 gthread-2.0 gtk-3 harfbuzz
WANTLIB += ical icalss icalvcal icudata icule icuuc json json-glib-1.0
WANTLIB += krb5 ltdl m mozjs185 mutter ncurses nspr4 nss3 nssutil3
WANTLIB += ogg p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 plc4 plds4 png polkit-agent-1 polkit-gobject-1
WANTLIB += pthread pthread-stubs pulse pulse-mainloop-glib smime3
WANTLIB += sndfile softokn3 soup-2.4 sqlite3 ssl3 startup-notification-1
WANTLIB += stdc++ telepathy-glib telepathy-logger vorbis vorbisfile
WANTLIB += xcb xcb-aux xcb-render xcb-shm FLAC Xtst vorbisenc
d46 3
d52 1
a52 1
			net/telepathy/telepathy-logger \
a54 1
			x11/gnome/desktop \
@


1.32
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/03/04 18:07:06 jasper Exp $
d7 1
d19 1
a19 1
WANTLIB += ecal-1.2 edataserver-1.2 xkbfile xml2 z
@


1.31
log
@- update to gnome-shell-3.6.3.1

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/02/06 07:14:48 ajacoutot Exp $
a11 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.30
log
@Use MODGNU_AUTO*_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/01/25 07:56:17 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.6.2
REVISION=		5
@


1.29
log
@move x11/gnome/user-docs dependency from meta to shell.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/01/18 07:10:58 ajacoutot Exp $
d7 1
a7 1
REVISION=		4
d17 2
a18 2
WANTLIB += GL ICE SM X11 X11-xcb Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm
d35 1
a35 1
WANTLIB += xcb xcb-aux xcb-render xcb-shm
d80 1
a80 1
CONFIGURE_STYLE=	autoconf
d86 2
a87 2
BUILD_DEPENDS +=	devel/autoconf/${AUTOCONF_VERSION} \
			devel/automake/${AUTOMAKE_VERSION} \
@


1.28
log
@bump after recent ibus update; input method are now properly handled.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/01/01 14:23:25 ajacoutot Exp $
d7 1
a7 1
REVISION=		3
d69 3
d73 2
a74 2
RUN_DEPENDS +=	inputmethods/ibus \
		x11/gnome/gdm
@


1.27
log
@Bump after the pulseaudio update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/12/03 17:15:11 ajacoutot Exp $
d7 1
a7 1
REVISION=		2
@


1.26
log
@Drop useless RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/11/17 12:43:04 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.25
log
@Missing dependency on textproc/docbook-xsl.

spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/11/15 08:32:36 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
a61 1
			x11/dbus-python \
@


1.24
log
@Handle calendar-server errors, from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/11/13 18:19:13 jasper Exp $
d44 3
d48 1
a48 1
BUILD_DEPENDS +=	x11/gnome/controlcenter
@


1.23
log
@- update to gnome-shell-3.6.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/10/17 11:49:37 ajacoutot Exp $
d7 1
@


1.22
log
@Bump pulseaudio requirements.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/10/16 14:20:19 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.6.1
REVISION=		1
d20 2
a21 2
WANTLIB += com_err croco-0.6 crypto db dbus-1 dbus-glib-1 drm
WANTLIB += ebackend-1.2 ebook-1.2 ecal-1.2 edataserver-1.2 edataserverui-3.0
d34 1
a34 1
WANTLIB += xcb xcb-aux xcb-render xcb-shm xkbfile xml2 z
@


1.21
log
@WANTLIB: revert previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/10/16 13:25:37 jasper Exp $
d7 1
a7 1
REVISION=		0
d47 1
a47 1
LIB_DEPENDS=		audio/pulseaudio \
@


1.20
log
@- update to gnome-shell-3.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/10/16 11:56:12 ajacoutot Exp $
d7 1
d35 1
a35 1
WANTLIB += xcb xcb-aux xcb-render xcb-shm xkbfile xml2 z secret-1
@


1.19
log
@Fix dependencies after e-d-s moved back to using libgnome-keyring.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/10/10 08:42:40 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.6.0
REVISION=		4
d34 1
a34 1
WANTLIB += xcb xcb-aux xcb-render xcb-shm xkbfile xml2 z
d56 1
a56 1
			x11/gnome/mutter
@


1.18
log
@Add required introspection libs that are not in the dependency chain.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/10/03 15:56:49 ajacoutot Exp $
d7 1
a7 1
REVISION=		3
d35 1
a35 1
WANTLIB += xcb xcb-aux xcb-render xcb-shm xkbfile xml2 z secret-1
@


1.17
log
@Remove non existent CONFIGURE_ARGS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/10/08 11:33:21 ajacoutot Exp $
d7 1
a7 1
REVISION=		2
d66 4
@


1.16
log
@Upstream:
extensionUtils: don't log verbosely on missing extension directory

Don't try and start the networkAgent component since we have no network
manager support. Jasper will work on making this committable upstream...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/10/03 15:56:49 ajacoutot Exp $
a72 1
			--with-ca-certificates=/etc/ssl/cert.pem \
@


1.15
log
@Missing BUILD_DEPENDS and missing files in PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/10/01 06:44:11 jasper Exp $
d7 1
a7 1
REVISION=		1
@


1.14
log
@tweak LIB_DEPENDS/WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/09/30 14:45:23 jasper Exp $
d7 1
a7 1
REVISION=		0
d35 1
a35 1
WANTLIB += xcb xcb-aux xcb-render xcb-shm xkbfile xml2 z
d44 3
d48 1
a48 1
			databases/evolution-data-server \
@


1.13
log
@- update to gnome-shell-3.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/09/29 10:52:28 ajacoutot Exp $
d7 1
d20 16
a35 14
WANTLIB += canberra canberra-gtk3 clutter-1.0 cogl cogl-pango
WANTLIB += com_err croco-0.6 crypto dbus-1 dbus-glib-1 drm execinfo
WANTLIB += expat ffi fontconfig freetype gck-1 gcr-3 gcr-base-3
WANTLIB += gcrypt gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0
WANTLIB += gjs glib-2.0 gmodule-2.0 gnome-keyring gnome-menu-3
WANTLIB += gobject-2.0 gpg-error gssapi gthread-2.0 gtk-3 harfbuzz
WANTLIB += icudata icule icuuc json json-glib-1.0 krb5 ltdl m
WANTLIB += mozjs185 mutter ncurses nspr4 ogg p11-kit pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4
WANTLIB += png polkit-agent-1 polkit-gobject-1 pthread pthread-stubs
WANTLIB += pulse pulse-mainloop-glib sndfile soup-2.4 sqlite3
WANTLIB += startup-notification-1 stdc++ telepathy-glib telepathy-logger
WANTLIB += vorbis vorbisfile xcb xcb-aux xcb-render xcb-shm xkbfile
WANTLIB += xml2 z
d45 2
d50 1
@


1.12
log
@@@comment -> post-install rm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/09/07 07:19:36 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.4.2
REVISION=		2
d18 15
a32 16
WANTLIB += asn1 atk-1.0 c cairo cairo-gobject camel-1.2 canberra
WANTLIB += canberra-gtk3 clutter-1.0 cogl cogl-pango com_err croco-0.6
WANTLIB += crypto dbus-1 dbus-glib-1 drm ebook-1.2 ecal-1.2 edataserver-1.2
WANTLIB += edataserverui-3.0 execinfo expat ffi folks fontconfig
WANTLIB += freetype gck-1 gconf-2 gcr-3 gcr-base-3 gcrypt gdbm
WANTLIB += gdk-3 gdk_pixbuf-2.0 gee gio-2.0 girepository-1.0 gjs
WANTLIB += glib-2.0 gmodule-2.0 gnome-keyring gnome-menu-3 gobject-2.0
WANTLIB += gpg-error gssapi gstbase-0.10 gstreamer-0.10 gthread-2.0
WANTLIB += gtk-3 ical icalss icalvcal json json-glib-1.0 krb5
WANTLIB += ltdl m mozjs185 mutter ncurses nspr4 nss3 ogg p11-kit
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += plc4 plds4 png polkit-agent-1 polkit-gobject-1 pthread
WANTLIB += pthread-stubs pulse pulse-mainloop-glib smime3 sndfile
WANTLIB += softokn3 soup-2.4 sqlite3 ssl3 startup-notification-1
WANTLIB += stdc++ telepathy-glib telepathy-logger vorbis vorbisfile
WANTLIB += xcb xcb-aux xcb-render xcb-shm xml2 z
a41 1
			net/telepathy/folks \
d86 1
a86 1
	rm ${PREFIX}/mozilla/plugins/*.la
@


1.11
log
@Missing LIB_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2012/09/01 14:36:59 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
d86 4
@


1.10
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/08/29 12:20:22 jasper Exp $
d7 1
a7 1
REVISION=	0
d47 1
@


1.9
log
@- update to 3.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/08/29 11:56:27 jasper Exp $
d7 1
@


1.8
log
@Make NetworkManager support optional; this is a cleaner approach than
what we previously had in tree.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/07/13 16:35:26 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.4.1
REVISION=		5
d68 1
a68 1
AUTOCONF_VERSION=	2.68
@


1.7
log
@--disable-static
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/07/13 12:01:35 ajacoutot Exp $
d7 1
a7 1
REVISION=		4
a63 1
AUTOCONF_VERSION=	2.68
d68 17
@


1.6
log
@Fix gnome-shell-extension-prefs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/07/13 08:03:53 ajacoutot Exp $
d66 2
a67 1
CONFIGURE_ARGS=		--with-ca-certificates=/etc/ssl/cert.pem \
@


1.5
log
@So, our linker does not hide private symbols... which results in a big
amount of crashes because gcr, libgnome-keyring and gnome-keyring share
some common (private) symbol names.
Miod says there is no workaround...

For gnome-shell, just stop linking to libgnome-keyring which we don't
need anyway since it is only needed by the network-manager functionnality
that is obviously disabled for us.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/07/09 18:01:16 ajacoutot Exp $
d7 1
a7 1
REVISION=		3
@


1.4
log
@Don't be mad and dump a big core if evolution is not installed.
From upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/07/08 15:45:35 ajacoutot Exp $
d7 1
a7 1
REVISION=		2
@


1.3
log
@Missing dependency on x11/dbus-python.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/07/08 15:39:11 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.2
log
@Activate the browser plugin to be able to install gnome-shell extensions.
Comment the libtool modules la files.
Missing update-desktop-database goo.
Explicitely disable systemd.
Don't RUN_DEPENDS on evolution, it's technically not required.
Add a comment in the patches that they need to be pushed upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/07/08 14:53:14 jasper Exp $
d7 1
a7 1
REVISION=		0
d52 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a51 1
			mail/evolution \
d54 8
a61 1
LIBTOOL_FLAGS+= 	--tag=disable-static
d65 2
a66 1
CONFIGURE_ARGS+=	--with-ca-certificates=/etc/ssl/cert.pem
@


1.1.1.1
log
@*finally* import gnome-shell, the last component that was missing for gnome-3.

The GNOME Shell redefines user interactions with the GNOME desktop. In
particular, it offers new paradigms for launching applications,
accessing documents, and organizing open windows in GNOME. Later, it
will introduce a new applets eco-system and offer new solutions for
other desktop features, such as notifications and contacts management.
The GNOME Shell is intended to replace functions handled by the GNOME
Panel and by the window manager in previous versions of GNOME. The GNOME
Shell has rich visual effects enabled by new graphical technologies.

still has a few rough edges, but this will be dealt with in-tree.

ok aja@@
@
text
@@
