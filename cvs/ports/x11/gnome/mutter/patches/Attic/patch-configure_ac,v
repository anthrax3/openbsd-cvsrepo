head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2014.11.13.18.26.38;	author jasper;	state dead;
branches;
next	1.2;
commitid	Q4vACqwcvRHo2tUv;

1.2
date	2014.10.16.08.21.38;	author jasper;	state Exp;
branches;
next	1.1;
commitid	NcmqpjbBi2FtYqZk;

1.1
date	2014.10.15.19.32.49;	author jasper;	state Exp;
branches;
next	;
commitid	4J2MwM4uj8Q5cI7Y;


desc
@@


1.3
log
@update to mutter-3.14.2
@
text
@$OpenBSD: patch-configure_ac,v 1.2 2014/10/16 08:21:38 jasper Exp $

From 60cbb41f4237e1bf53cdf95ef5a8aef449ad1797 Mon Sep 17 00:00:00 2001
From: "Jasper St. Pierre" <jstpierre@@mecheye.net>
Date: Wed, 15 Oct 2014 11:13:21 -0700
Subject: configure: Actually make gbm optional

From d88c8d9ced0e0b1cb570007e7857928e8d1046b6 Mon Sep 17 00:00:00 2001
From: "Jasper St. Pierre" <jstpierre@@mecheye.net>
Date: Wed, 15 Oct 2014 10:35:53 -0700
Subject: Make gbm optional

--- configure.ac.orig	Tue Oct 14 20:26:29 2014
+++ configure.ac	Wed Oct 15 21:24:53 2014
@@@@ -78,7 +78,6 @@@@ MUTTER_PC_MODULES="
    gsettings-desktop-schemas >= 3.7.3
    $CLUTTER_PACKAGE >= 1.19.5
    cogl-1.0 >= 1.17.1
-   gbm >= 10.3
    upower-glib >= 0.99.0
    gnome-desktop-3.0
    xcomposite >= 0.2
@@@@ -201,7 +200,7 @@@@ AC_SUBST(XWAYLAND_PATH)
 
 PKG_CHECK_MODULES(MUTTER, $MUTTER_PC_MODULES)
 
-PKG_CHECK_MODULES(MUTTER_NATIVE_BACKEND, [clutter-egl-1.0 libdrm libsystemd libinput], [have_native_backend=yes], [have_native_backend=no])
+PKG_CHECK_MODULES(MUTTER_NATIVE_BACKEND, [clutter-egl-1.0 libdrm libsystemd libinput gbm >= 10.3], [have_native_backend=yes], [have_native_backend=no])
 if test $have_native_backend = yes; then
    AC_DEFINE([HAVE_NATIVE_BACKEND],[1],[Define if you want to enable the native (KMS) backend based on systemd])
 fi
@


1.2
log
@- cvs decided patch-src_backends_meta-cursor_c wasn't needed; i beg to differ.
- while here apply a fix from upstream to fix a logic issue in changing
  grab behaviour

no bump since it didn't build,
spotted by aja@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_ac,v 1.1 2014/10/15 19:32:49 jasper Exp $
@


1.1
log
@apply fix from upstream to make gbm optional
@
text
@d1 1
a1 1
$OpenBSD$
a11 5

From 60ab11ecbfa0d30f7a750af48782b48c686375f1 Mon Sep 17 00:00:00 2001
From: "Jasper St. Pierre" <jstpierre@@mecheye.net>
Date: Wed, 15 Oct 2014 10:36:42 -0700
Subject: cursor: Clean up code flow slightly
@

