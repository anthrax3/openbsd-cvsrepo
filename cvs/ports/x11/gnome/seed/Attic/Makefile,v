head	1.19;
access;
symbols
	OPENBSD_5_2:1.18.0.2
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.2
	OPENBSD_5_0:1.7.0.2
	OPENBSD_5_0_BASE:1.7
	jasper_20111305:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2012.09.28.14.51.11;	author jasper;	state dead;
branches;
next	1.18;

1.18
date	2012.05.28.13.04.27;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2012.04.05.10.22.29;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2011.11.02.19.48.26;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2011.11.02.19.21.36;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2011.10.16.19.23.35;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2011.10.13.06.55.58;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.28.09.47.47;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2011.09.22.08.03.12;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.21.20.27.30;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.20.22.54.25;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.09.12.12.04.18;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2011.07.26.15.36.27;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2011.05.27.21.03.03;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.05.27.13.12.34;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.05.15.14.35.58;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2011.05.15.14.11.52;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.05.13.10.11.41;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.05.13.09.59.35;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.05.13.09.59.35;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.19
log
@remove seed, it's been superseded by gjs and wasn't really picked up by any projects.
@
text
@# $OpenBSD: Makefile,v 1.18 2012/05/28 13:04:27 jasper Exp $

COMMENT=		GObject JavaScriptCore bridge

GNOME_PROJECT=		seed
GNOME_VERSION=		3.2.0
REVISION=		3

SHARED_LIBS +=  seed-gtk3                 0.0 # 0.0

CATEGORIES=		devel www

# Seed: LGPLv3
# Examples: BSD
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes

HOMEPAGE=		http://live.gnome.org/Seed

MODULES=		devel/gettext \
			x11/gnome

WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm atk-1.0
WANTLIB += c cairo cairo-gobject dbus-1 dbus-glib-1 drm enchant
WANTLIB += expat ffi fontconfig freetype gailutil-3 gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 girepository-1.0 glib-2.0 gmodule-2.0 gmp gobject-2.0
WANTLIB += gstapp-0.10 gstbase-0.10 gstinterfaces-0.10 gstpbutils-0.10
WANTLIB += gstreamer-0.10 gstvideo-0.10 gthread-2.0 gtk-3 icudata
WANTLIB += icui18n icuuc jpeg m mpfr pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += readline soup-2.4 sqlite3 stdc++ termcap util webkitgtk-3.0
WANTLIB += xcb xcb-render xcb-shm xml2 xslt z javascriptcoregtk-3.0
WANTLIB += geoclue gstaudio-0.10 gstfft-0.10 orc-0.4

BUILD_DEPENDS=		${RUN_DEPENDS}
RUN_DEPENDS=		x11/gnome/js-common
LIB_DEPENDS=		devel/gobject-introspection>=1.30.0 \
			devel/mpfr>=3.0.1 \
			www/webkit,gtk3>=1.6.1v0

# warning: libXxf86vm.so.5.0, needed by /usr/local/lib/libwebkitgtk-3.0.so.3.0, not found
MODGNOME_LDFLAGS=	-pthread -L${X11BASE}/lib

CONFIGURE_ARGS+=	--enable-readline-module \
			--enable-multiprocessing-module \
			--enable-sqlite-module \
			--enable-example-module \
			--enable-dbus-module \
			--enable-os-module \
			--enable-ffi-module \
			--enable-libxml-module \
			--enable-gtkbuilder-module \
			--enable-cairo-module \
			--enable-gettext-module \
			--enable-mpfr-module

REGRESS_IS_INTERACTIVE= x11
REGRESS_DEPENDS=	${BASE_PKGPATH}

.include <bsd.port.mk>
@


1.18
log
@remove BROKEN-sparc64; it works with webkit > 1.8 on sparc64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/04/05 10:22:29 ajacoutot Exp $
@


1.17
log
@Properly link with JSContextGroupCreate in configure.
Regen WANTLIB.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.16 2011/11/02 19:48:26 jasper Exp $

BROKEN-sparc64= 	bus error webkit's JSC::Lexer::lex()
@


1.16
log
@mark this broken on sparc64 now as it gets a sigbus through webkit..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/11/02 19:21:36 jasper Exp $
d9 2
a10 1
REVISION=		2
d38 1
d45 3
@


1.15
log
@don't overwrite CFLAGS unconditionally
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.14 2011/10/16 19:23:35 ajacoutot Exp $
@


1.14
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/10/13 06:55:58 jasper Exp $
d7 1
a7 1
REVISION=		1
@


1.13
log
@- fix WANTLIB/LIB_DEPENDS after webkit update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/28 09:47:47 jasper Exp $
d7 1
a7 1
REVISION=		0
d30 1
a30 1
WANTLIB += gstreamer-0.10 gstvideo-0.10 gthread-2.0 gtk-3 kvm icudata
@


1.12
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/09/22 08:03:12 ajacoutot Exp $
d7 1
d34 1
a34 1
WANTLIB += xcb xcb-render xcb-shm xml2 xslt z
d40 1
a40 1
			www/webkit,gtk3
@


1.11
log
@Update to stable seed-3.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/21 20:27:30 jasper Exp $
a52 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.10
log
@- update seed to 3.1.1.1 (git master as of today)
* unbreaks after recent gobject-introspection update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/20 22:54:25 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.1.1.1 # XXX: git master as of 21-09-2011
a39 3

# When updating, put back patch-*-Makefile_in
MASTER_SITES=		http://distfiles.nl/
@


1.9
log
@remove a few more implied CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/09/12 12:04:18 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.0.0
REVISION=		5
a17 2
EXTRACT_SUFX=		.tar.bz2

d29 1
a29 1
WANTLIB += gstreamer-0.10 gstvideo-0.10 gthread-2.0 gtk-3 icudata
d37 1
a37 1
LIB_DEPENDS=		devel/gobject-introspection \
d40 3
@


1.8
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/07/26 15:36:27 ajacoutot Exp $
d44 1
a44 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--enable-readline-module \
@


1.7
log
@Don't install libtool files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/05/27 21:03:03 jasper Exp $
d18 2
@


1.6
log
@- enable mpfr module now that it's updated
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/05/27 13:12:34 jasper Exp $
d7 1
a7 1
REVISION=		4
@


1.5
log
@fix implicit declaration
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/05/15 14:35:58 jasper Exp $
d7 1
a7 1
REVISION=		3
d28 1
a28 1
WANTLIB += gio-2.0 girepository-1.0 glib-2.0 gmodule-2.0 gobject-2.0
d31 1
a31 1
WANTLIB += icui18n icuuc jpeg m pango-1.0 pangocairo-1.0
d39 1
d53 2
a54 3
			--enable-gettext-module
# MPFR module needs mpfr 3.x, so disable it for now.
CONFIGURE_ARGS+=	--disable-mpfr-module
@


1.4
log
@- disable mpfr module, this needs mpfr 3.x after all.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/05/15 14:11:52 jasper Exp $
d7 1
a7 1
REVISION=		2
@


1.3
log
@- fix REPL by linking with termcap where we link with readline
- regen WANTLIB accordingly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/05/13 10:11:41 jasper Exp $
d7 1
a7 1
REVISION=		1
d28 1
a28 1
WANTLIB += gio-2.0 girepository-1.0 glib-2.0 gmodule-2.0 gmp gobject-2.0
d31 1
a31 1
WANTLIB += icui18n icuuc jpeg m mpfr pango-1.0 pangocairo-1.0
a38 1
			devel/mpfr \
d52 3
a54 2
			--enable-gettext-module \
			--enable-mpfr-module
@


1.2
log
@this needs gnome-js-common
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/05/13 09:59:35 jasper Exp $
d7 1
a7 1
REVISION=		0
d33 1
a33 1
WANTLIB += readline soup-2.4 sqlite3 stdc++ util webkitgtk-3.0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
d36 2
@


1.1.1.1
log
@import seed 3.0.0

Seed is a library and interpreter, dynamically bridging (through
gobject-introspection) the WebKit JavaScriptCore engine with the GObject
type system. In a more concrete sense, Seed enables you to immediately
write applications around a significant portion of the GNOME platform,
and easily embed JavaScript as a scripting language in your GObject
library.

ok aja@@
@
text
@@
