head	1.4;
access;
symbols
	OPENBSD_3_4:1.3.0.8
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.6
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.4
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.2.0.2
	OPENBSD_3_0_BASE:1.2
	gnome:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2003.09.26.05.04.05;	author marcm;	state dead;
branches;
next	1.3;

1.3
date	2002.02.15.19.18.53;	author nino;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.20.18.58.42;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.13.20.33.28;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.09.13.20.33.28;	author todd;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Remove Gnome 1 core and applets.

Gnome 1, as a standalone environment, has left the building.  Applications
that use the remaining Gnome 1 ports (bonobo, bonobo-conf, controlcenter,
libs, oaf, print and vfs) will still work, but the Gnome 1 desktop itself
is no more.

This is a first step at Gnome 1 removal.  Other Gnome 1 bits will be
removed as their dependent ports get updated.

This also removes the Gnome 1 vs Gnome 2 conflicts so it should make the
package builders happy.
@
text
@#!/bin/sh
#
# $OpenBSD: INSTALL,v 1.3 2002/02/15 19:18:53 nino Exp $

set -e
PATH=/bin:/usr/bin:/sbin:/usr/sbin
PREFIX=${PKG_PREFIX:-/usr/local}
P_NAME=gnome-core
DEST_PFX=${SYSCONFDIR}
SOURCE_PFX=${PREFIX}/share/examples/${P_NAME}

FILES='
CORBA/servers/deskguide_applet.gnorba
CORBA/servers/fish_applet.gnorba
CORBA/servers/gen_util.gnorba
CORBA/servers/gnome-terminal.gnorba
CORBA/servers/help-browser.gnorba
CORBA/servers/panel.gnorba
CORBA/servers/tasklist_applet.gnorba
gnome/panel-config/panel
gnome/panel-config/panel.d/default/Applet_Config
gnome/panel-config/panel.d/default/panel
sound/events/mailcheck.soundlist
sound/events/panel.soundlist
'

do_post() {

    echo 
    echo "+--------------- ${P_NAME}"

    # install dirs if neccesary
    install -d ${DEST_PFX}/gnome/panel-config/panel.d/default
            
    # install or take note of existing config files
    for f in ${FILES}; do
	if [ -f "${DEST_PFX}/$f" ]; then
	    OLD_CONFS="${OLD_CONFS} $f"
	else
	    if ! install -m 644 ${SOURCE_PFX}/$f ${DEST_PFX}/$f; then
		echo "| ERROR: The following file could not be installed, exiting: ${DEST_PFX}/$f"
		exit 1
	    fi
	    NEW_CONFS="${NEW_CONFS} $f"
	fi
    done
    
    # print status report
    if [ -n "${NEW_CONFS}" ]; then
	echo "| The following NEW configuration files have been installed:"
	echo "|"
	for f in ${NEW_CONFS}; do
	    echo "| ${DEST_PFX}/$f"
	done 
    fi
    
    if [ -n "${OLD_CONFS}" ]; then
	if [ -n "${NEW_CONFS}" ]; then
	    echo "|"
	fi
	echo "| The following OLD configuration files was found and have NOT been overwritten:"
	echo "| You should however manually compare them to their equivalents in "
        echo "|"
        echo "| ${SOURCE_PFX}"
        echo "|"
	echo "| and update your configuration if needed." 
	echo "|"
	for f in ${OLD_CONFS}; do
	    echo "| ${DEST_PFX}/$f"
	done 
    fi
    echo "+--------------- ${P_NAME}"
    echo 
}

# verify proper execution
#
if [ $# -ne 2 ]; then
    echo "usage: $0 distname { PRE-INSTALL | POST-INSTALL }" >&2
    exit 1
fi

# Verify/process the command
#
case $2 in
    PRE-INSTALL)
        ;;
    POST-INSTALL)
        do_post
        ;;
    *)
        echo "usage: $0 distname { PRE-INSTALL | POST-INSTALL }" >&2
        exit 1
        ;;
esac

exit 0
@


1.3
log
@Update to gnome-core 1.4.0.6

* many fixes to session management, translucent panel, fixes for crashes
in panel on startup, screenshot functionality added, support multiple
mailboxes in mailcheck applet, support multiline output from imap
servers in mailcheck applet, compile/warning/robustness fixes, multibyte
support in gnome-terminal, copy menu item added in gnome-terminal, fixes
for underlining of urls in gnome-terminal, paste the clipboard - not the
selection in gnome-terminal, disable remote browsing in
gnome-help-browser, fix crashes in help-browser, fix leaks in the panel,
fix crashes in the panel when running programs in a terminal from the
run dialog, plus a lot of other minor fixes.

Ok naddy@@, with additional testing by fries@@.
@
text
@d3 1
a3 1
# $OpenBSD: INSTALL,v 1.2 2001/09/20 18:58:42 naddy Exp $
@


1.2
log
@* Use variables instead of hardcoded prefixes.
* Take care to set a sane PATH.
* Add set -e
* Copy example files into ${PREFIX}/share/examples/PORTNAME.
* Replace PKGNAME with P_NAME in INSTALL/DEINSTALL scripts, unclear
  since it already exists in the Makefile with a different value.
* Change output of INSTALL/DEINSTALL to be more like other scripts
  found in the tree(suggested by heko@@).
* Move scrollkeeper stuff into PLIST

From maintainer Nils Nordman <nino@@nforced.com>.
@
text
@d3 1
a3 1
# $OpenBSD$
d12 14
d31 4
a34 1
    
d36 1
a36 11
    for f in \
	CORBA/servers/deskguide_applet.gnorba \
	CORBA/servers/fish_applet.gnorba \
	CORBA/servers/gen_util.gnorba \
	CORBA/servers/gnome-terminal.gnorba \
	CORBA/servers/help-browser.gnorba \
	CORBA/servers/panel.gnorba \
	CORBA/servers/tasklist_applet.gnorba \
	sound/events/mailcheck.soundlist \
	sound/events/panel.soundlist
    do
d62 4
a65 1
	echo "| You should however manually compare it to it's equivalent in ${SOURCE_PFX}"
@


1.1
log
@Initial revision
@
text
@d5 2
d8 3
a10 3
PKGNAME=gnome-core
DEST_PFX=/etc
SOURCE_PFX=${PREFIX}/share/${PKGNAME}
d16 1
a16 7
    echo "*=================[ ${PKGNAME}"
    
    # scrollkeeper
    echo "*"
    echo "* Running scrollkeeper-update..."
    /usr/local/bin/scrollkeeper-update -p $(/usr/local/bin/scrollkeeper-config --pkglocalstatedir)
    echo "*"
d34 1
a34 1
		echo "* ERROR: The following file could not be installed, exiting: ${DEST_PFX}/$f"
d43 2
a44 2
	echo "* The following NEW configuration files have been installed:"
	echo "*"
d46 1
a46 1
	    echo "* ${DEST_PFX}/$f"
d52 1
a52 1
	    echo "*"
d54 4
a57 4
	echo "* The following OLD configuration files was found and have NOT been overwritten:"
	echo "* You should however manually compare it to it's equivalent in ${SOURCE_PFX}"
	echo "* and update your configuration if needed." 
	echo "*"
d59 1
a59 1
	    echo "* ${DEST_PFX}/$f"
d62 1
a62 1
    echo "*================= ${PKGNAME} ]"
@


1.1.1.1
log
@the core GNOME system
@
text
@@
