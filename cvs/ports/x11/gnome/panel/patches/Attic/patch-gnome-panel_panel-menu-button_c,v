head	1.3;
access;
symbols
	OPENBSD_5_0:1.1.0.8
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.6
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.4
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2011.12.28.08.56.57;	author ajacoutot;	state dead;
branches;
next	1.2;

1.2
date	2011.09.12.07.28.54;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2009.11.15.17.36.38;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Our gnome-session already exports XDG_MENU_PREFIX in the environment, so
no need to play with get/setenv.
gnome-panel is not supposed to be started by anything than gnome-session
anyway and it will ease future updates.
@
text
@$OpenBSD: patch-gnome-panel_panel-menu-button_c,v 1.2 2011/09/12 07:28:54 jasper Exp $
--- gnome-panel/panel-menu-button.c.orig	Wed May 18 11:08:41 2011
+++ gnome-panel/panel-menu-button.c	Wed May 18 11:09:10 2011
@@@@ -74,7 +74,7 @@@@ typedef struct {
 } MenuPathRootItem;
 
 static MenuPathRootItem root_items [] = {
-	{ APPLICATIONS_MENU, "applications", "applications.menu" },
+	{ APPLICATIONS_MENU, "applications", "gnome-applications.menu" },
 	{ GNOMECC_MENU,      "gnomecc",      "gnomecc.menu"      }
 };
 
@


1.2
log
@Moar GNOME3 merge
@
text
@d1 1
a1 1
$OpenBSD: patch-gnome-panel_panel-menu-button_c,v 1.1.1.1 2011/05/18 15:32:45 jasper Exp $
@


1.1
log
@Respect XDG_MENU_PREFIX.
Set default menu file to gnome-applications.menu.
@
text
@d1 3
a3 3
$OpenBSD$
--- gnome-panel/panel-menu-button.c.orig	Sun Nov 15 18:33:13 2009
+++ gnome-panel/panel-menu-button.c	Sun Nov 15 18:34:53 2009
d10 1
a10 1
 	{ SETTINGS_MENU,     "settings",     "settings.menu"     }
@

