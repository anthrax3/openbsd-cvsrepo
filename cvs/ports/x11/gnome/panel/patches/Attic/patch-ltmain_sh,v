head	1.6;
access;
symbols
	OPENBSD_3_8:1.5.0.4
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.2
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.4.0.2
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.3.0.4
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	todd_20030131:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2005.11.13.06.29.05;	author marcm;	state dead;
branches;
next	1.5;

1.5
date	2004.12.14.01.14.44;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2004.06.23.03.26.18;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.08.06.20.45.05;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.12.20.09.35;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.31.19.05.23;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.31.19.05.23;	author todd;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Monster Gnome update primarily for the new GTK+2 WANTLIBS.

Also includes several Gnome 2.6.2 updates.  Version numbers bumped
accordingly.
@
text
@$OpenBSD: patch-ltmain_sh,v 1.5 2004/12/14 01:14:44 marcm Exp $
--- ltmain.sh.orig	Sun Dec  5 08:46:55 2004
+++ ltmain.sh	Sun Dec 12 15:41:59 2004
@@@@ -1975,9 +1975,12 @@@@ EOF
 	  if test "$linkmode,$pass" = "prog,link"; then
 	    compile_deplibs="$deplib $compile_deplibs"
 	    finalize_deplibs="$deplib $finalize_deplibs"
-	  else
-	    deplibs="$deplib $deplibs"
+	    continue
 	  fi
+	  if test "$linkmode" = "lib"; then
+	    newdependency_libs="$deplib $newdependency_libs"
+	  fi
+	  deplibs="$deplib $deplibs"
 	  continue
 	  ;;
 	-l*)
@@@@ -2410,10 +2413,6 @@@@ EOF
 	link_static=no # Whether the deplib will be linked statically
 	if test -n "$library_names" &&
 	   { test "$prefer_static_libs" = no || test -z "$old_library"; }; then
-	  if test "$installed" = no; then
-	    notinst_deplibs="$notinst_deplibs $lib"
-	    need_relink=yes
-	  fi
 	  # This is a shared library
 
 	  # Warn about portability, can't link against -module's on
@@@@ -5800,40 +5799,6 @@@@ relink_command=\"$relink_command\""
     # Exit here if they wanted silent mode.
     test "$show" = : && exit $EXIT_SUCCESS
 
-    $echo "----------------------------------------------------------------------"
-    $echo "Libraries have been installed in:"
-    for libdir in $libdirs; do
-      $echo "   $libdir"
-    done
-    $echo
-    $echo "If you ever happen to want to link against installed libraries"
-    $echo "in a given directory, LIBDIR, you must either use libtool, and"
-    $echo "specify the full pathname of the library, or use the \`-LLIBDIR'"
-    $echo "flag during linking and do at least one of the following:"
-    if test -n "$shlibpath_var"; then
-      $echo "   - add LIBDIR to the \`$shlibpath_var' environment variable"
-      $echo "     during execution"
-    fi
-    if test -n "$runpath_var"; then
-      $echo "   - add LIBDIR to the \`$runpath_var' environment variable"
-      $echo "     during linking"
-    fi
-    if test -n "$hardcode_libdir_flag_spec"; then
-      libdir=LIBDIR
-      eval flag=\"$hardcode_libdir_flag_spec\"
-
-      $echo "   - use the \`$flag' linker flag"
-    fi
-    if test -n "$admincmds"; then
-      $echo "   - have your system administrator run these commands:$admincmds"
-    fi
-    if test -f /etc/ld.so.conf; then
-      $echo "   - have your system administrator add LIBDIR to \`/etc/ld.so.conf'"
-    fi
-    $echo
-    $echo "See any operating system documentation about shared libraries for"
-    $echo "more information, such as the ld(1) and ld.so(8) manual pages."
-    $echo "----------------------------------------------------------------------"
     exit $EXIT_SUCCESS
     ;;
 
@


1.5
log
@Update to their GNOME 2.8.2 versions:

metacity        2.8.6 -> 2.8.8
gnome-mime-data 2.4.1 -> 2.4.2
nautilus        2.8.1 -> 2.8.2
gnome-panel     2.8.1 -> 2.8.2
gnome-terminal  2.8.0 -> 2.8.2
gnome-vfs2      2.8.2 -> 2.8.3
yelp            2.6.4 -> 2.6.5

GNOME 2.8.2 was announced right before I committed 2.8.1, sheesh.
@
text
@d1 1
a1 1
$OpenBSD: patch-ltmain_sh,v 1.4 2004/06/23 03:26:18 marcm Exp $
@


1.4
log
@Monster update to Gnome 2.6.  See, I am not slacking, really!

Change info on a Gnome mirror near you.
@
text
@d1 4
a4 4
$OpenBSD: patch-ltmain_sh,v 1.5 2004/05/06 06:02:31 marcm Exp $
--- ltmain.sh.orig	2004-05-19 10:14:48.000000000 -0600
+++ ltmain.sh	2004-06-21 13:22:49.000000000 -0600
@@@@ -1857,9 +1857,12 @@@@ EOF
d19 1
a19 1
@@@@ -2274,10 +2277,6 @@@@ EOF
d30 1
a30 1
@@@@ -5827,40 +5826,6 @@@@ relink_command=\"$relink_command\""
@


1.3
log
@Update to GNOME 2.2.2.
@
text
@d1 10
a10 22
$OpenBSD: patch-ltmain_sh,v 1.2 2003/06/12 20:09:35 marcm Exp $
--- ltmain.sh.orig	2003-07-10 04:51:44.000000000 -0700
+++ ltmain.sh	2003-08-01 20:57:49.000000000 -0700
@@@@ -1290,6 +1290,17 @@@@ EOF
 	continue
 	;;
 
+      -pthread)
+	case $host in
+	*-*-openbsd*)
+	  deplibs="$deplibs $arg"
+	  ;;
+	*)
+	  continue
+	  ;;
+	esac
+	;;
+
       -module)
 	module=yes
 	continue
@@@@ -1961,6 +1972,19 @@@@ EOF
d12 4
d18 2
a19 17
+	-pthread)
+	  case $linkmode in
+	  lib)
+	    deplibs="$deplib $deplibs"
+	    newdependency_libs="$deplib $newdependency_libs"
+	    ;;
+	  prog)
+	    compile_deplibs="$deplib $compile_deplibs"
+	    finalize_deplibs="$deplib $finalize_deplibs"
+	    ;;
+	  esac
+	  continue
+	  ;;
 	%DEPLIBS%)
 	  alldeplibs=yes
 	  continue
@@@@ -2209,10 +2233,6 @@@@ EOF
d28 3
a30 3
 	
       # Warn about portability, can't link against -module's on some systems (darwin)
@@@@ -5699,40 +5719,6 @@@@ relink_command=\"$relink_command\""
d32 1
a32 1
     test "$show" = : && exit 0
d68 1
a68 1
     exit 0
@


1.2
log
@Update to 2.2.1 for Gnome 2.2.1.

ok jolan@@
@
text
@d1 4
a4 4
$OpenBSD: patch-ltmain_sh,v 1.1.1.1 2003/01/31 19:05:23 todd Exp $
--- ltmain.sh.orig	Tue Feb 25 18:13:53 2003
+++ ltmain.sh	Mon May 26 19:25:36 2003
@@@@ -1071,6 +1071,17 @@@@ compiler."
d22 1
a22 1
@@@@ -1511,6 +1522,9 @@@@ compiler."
d26 13
a38 3
+       -pthread)
+         continue
+         ;;
d42 4
a45 4
@@@@ -1756,11 +1770,6 @@@@ compiler."
 	    continue
 	  fi
 
d50 4
a53 5
-
 	  if test -n "$old_archive_from_expsyms_cmds"; then
 	    # figure out the soname
 	    set dummy $library_names
@@@@ -4524,40 +4533,6 @@@@ relink_command=\"$relink_command\""
d55 1
a55 1
     test "$show" = ":" && exit 0
d57 2
a58 2
-    echo "----------------------------------------------------------------------"
-    echo "Libraries have been installed in:"
d60 1
a60 1
-      echo "   $libdir"
d62 5
a66 5
-    echo
-    echo "If you ever happen to want to link against installed libraries"
-    echo "in a given directory, LIBDIR, you must either use libtool, and"
-    echo "specify the full pathname of the library, or use the \`-LLIBDIR'"
-    echo "flag during linking and do at least one of the following:"
d68 2
a69 2
-      echo "   - add LIBDIR to the \`$shlibpath_var' environment variable"
-      echo "     during execution"
d72 2
a73 2
-      echo "   - add LIBDIR to the \`$runpath_var' environment variable"
-      echo "     during linking"
d79 1
a79 1
-      echo "   - use the \`$flag' linker flag"
d82 1
a82 1
-      echo "   - have your system administrator run these commands:$admincmds"
d85 1
a85 1
-      echo "   - have your system administrator add LIBDIR to \`/etc/ld.so.conf'"
d87 4
a90 4
-    echo
-    echo "See any operating system documentation about shared libraries for"
-    echo "more information, such as the ld(1) and ld.so(8) manual pages."
-    echo "----------------------------------------------------------------------"
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD: patch-ltmain_sh,v 1.1 2002/02/01 04:25:31 lebel Exp $
--- ltmain.sh.orig	Thu Nov 14 19:35:15 2002
+++ ltmain.sh	Thu Nov 28 22:01:28 2002
@@@@ -1060,6 +1060,17 @@@@ compiler."
d22 1
a22 1
@@@@ -1496,6 +1507,9 @@@@ compiler."
d32 1
a32 1
@@@@ -1737,11 +1751,6 @@@@ compiler."
d44 1
a44 1
@@@@ -4446,40 +4455,6 @@@@ relink_command=\"$relink_command\""
@


1.1.1.1
log
@Import gnome-panel-2.0.11
--
This package contains the GNOME panel which the area on your desktop
from which you can run applications and applets, and perform other
tasks.

The libpanel-applet library is also in this package. This library allows
one to develop small applications which may be embedded in the panel.
These are called applets. Several applets are also supplied - the
Workspace Switcher, the Window List, the Inbox Monitor, the Clock and
the infamous 'Wanda the Fish'.

From marcm for gnome2
@
text
@@
