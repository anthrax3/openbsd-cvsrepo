head	1.130;
access;
symbols
	OPENBSD_5_3:1.128.0.2
	OPENBSD_5_3_BASE:1.128
	OPENBSD_5_2:1.120.0.2
	OPENBSD_5_2_BASE:1.120
	OPENBSD_5_1_BASE:1.112
	OPENBSD_5_1:1.112.0.2
	OPENBSD_5_0:1.92.0.2
	OPENBSD_5_0_BASE:1.92
	OPENBSD_4_9:1.85.0.2
	OPENBSD_4_9_BASE:1.85
	OPENBSD_4_8:1.76.0.2
	OPENBSD_4_8_BASE:1.76
	OPENBSD_4_7:1.69.0.2
	OPENBSD_4_7_BASE:1.69
	OPENBSD_4_6:1.59.0.2
	OPENBSD_4_6_BASE:1.59
	OPENBSD_4_5:1.51.0.2
	OPENBSD_4_5_BASE:1.51
	OPENBSD_4_4:1.38.0.2
	OPENBSD_4_4_BASE:1.38
	OPENBSD_4_3:1.33.0.2
	OPENBSD_4_3_BASE:1.33
	OPENBSD_4_2:1.28.0.2
	OPENBSD_4_2_BASE:1.28
	OPENBSD_4_1:1.24.0.2
	OPENBSD_4_1_BASE:1.24
	OPENBSD_4_0:1.21.0.2
	OPENBSD_4_0_BASE:1.21
	OPENBSD_3_9:1.20.0.2
	OPENBSD_3_9_BASE:1.20
	OPENBSD_3_8:1.17.0.2
	OPENBSD_3_8_BASE:1.17
	OPENBSD_3_7:1.15.0.2
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.9.0.2
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.7.0.2
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.4.0.2
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	todd_20030131:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.130
date	2013.03.29.16.30.48;	author ajacoutot;	state dead;
branches;
next	1.129;

1.129
date	2013.03.11.11.46.11;	author espie;	state Exp;
branches;
next	1.128;

1.128
date	2013.01.24.10.40.56;	author ajacoutot;	state Exp;
branches;
next	1.127;

1.127
date	2013.01.24.10.39.02;	author ajacoutot;	state Exp;
branches;
next	1.126;

1.126
date	2012.11.14.08.09.48;	author jasper;	state Exp;
branches;
next	1.125;

1.125
date	2012.10.16.11.56.11;	author ajacoutot;	state Exp;
branches;
next	1.124;

1.124
date	2012.10.03.15.57.18;	author ajacoutot;	state Exp;
branches;
next	1.123;

1.123
date	2012.10.01.15.01.14;	author ajacoutot;	state Exp;
branches;
next	1.122;

1.122
date	2012.09.28.08.38.39;	author jasper;	state Exp;
branches;
next	1.121;

1.121
date	2012.09.01.14.36.59;	author ajacoutot;	state Exp;
branches;
next	1.120;

1.120
date	2012.06.15.08.30.20;	author ajacoutot;	state Exp;
branches;
next	1.119;

1.119
date	2012.05.14.18.28.00;	author jasper;	state Exp;
branches;
next	1.118;

1.118
date	2012.05.14.14.30.32;	author jasper;	state Exp;
branches;
next	1.117;

1.117
date	2012.04.18.08.25.59;	author jasper;	state Exp;
branches;
next	1.116;

1.116
date	2012.04.07.12.19.40;	author ajacoutot;	state Exp;
branches;
next	1.115;

1.115
date	2012.04.05.07.50.26;	author ajacoutot;	state Exp;
branches;
next	1.114;

1.114
date	2012.03.30.14.09.59;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2012.03.29.06.53.15;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2012.01.25.18.18.13;	author ajacoutot;	state Exp;
branches;
next	1.111;

1.111
date	2012.01.04.10.47.01;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2011.12.28.16.02.02;	author ajacoutot;	state Exp;
branches;
next	1.109;

1.109
date	2011.12.28.08.56.57;	author ajacoutot;	state Exp;
branches;
next	1.108;

1.108
date	2011.12.03.22.17.16;	author ajacoutot;	state Exp;
branches;
next	1.107;

1.107
date	2011.11.04.09.56.29;	author jasper;	state Exp;
branches;
next	1.106;

1.106
date	2011.10.29.08.12.33;	author ajacoutot;	state Exp;
branches;
next	1.105;

1.105
date	2011.10.16.19.23.34;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2011.10.16.15.11.26;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2011.10.13.16.59.09;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2011.09.28.09.47.47;	author jasper;	state Exp;
branches;
next	1.101;

1.101
date	2011.09.26.11.14.36;	author jasper;	state Exp;
branches;
next	1.100;

1.100
date	2011.09.26.07.53.09;	author ajacoutot;	state Exp;
branches;
next	1.99;

1.99
date	2011.09.20.21.10.01;	author jasper;	state Exp;
branches;
next	1.98;

1.98
date	2011.09.20.20.52.46;	author jasper;	state Exp;
branches;
next	1.97;

1.97
date	2011.09.19.07.44.59;	author ajacoutot;	state Exp;
branches;
next	1.96;

1.96
date	2011.09.16.12.29.14;	author espie;	state Exp;
branches;
next	1.95;

1.95
date	2011.09.13.08.07.22;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2011.09.12.12.04.17;	author jasper;	state Exp;
branches;
next	1.93;

1.93
date	2011.09.12.07.28.54;	author jasper;	state Exp;
branches;
next	1.92;

1.92
date	2011.07.26.15.36.27;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2011.06.24.08.01.43;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2011.06.08.17.41.57;	author rpointel;	state Exp;
branches;
next	1.89;

1.89
date	2011.06.03.15.41.14;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2011.05.18.15.50.37;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2011.04.13.06.47.42;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2011.04.07.09.29.51;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2010.11.17.12.24.47;	author jasper;	state Exp;
branches;
next	1.84;

1.84
date	2010.10.19.08.13.57;	author espie;	state Exp;
branches;
next	1.83;

1.83
date	2010.10.18.13.18.15;	author jasper;	state Exp;
branches;
next	1.82;

1.82
date	2010.10.11.08.19.20;	author jasper;	state Exp;
branches;
next	1.81;

1.81
date	2010.09.30.17.04.17;	author jasper;	state Exp;
branches;
next	1.80;

1.80
date	2010.09.30.07.36.27;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2010.09.28.08.20.01;	author landry;	state Exp;
branches;
next	1.78;

1.78
date	2010.09.01.11.36.47;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2010.08.31.21.18.19;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2010.07.25.08.15.33;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2010.07.13.20.37.03;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2010.07.07.16.38.27;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2010.07.01.18.41.11;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2010.06.22.18.22.57;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2010.04.22.22.54.35;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2010.04.22.18.36.32;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2009.12.21.18.03.19;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2009.11.16.15.21.25;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2009.11.16.11.50.34;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2009.11.15.17.36.38;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2009.10.14.08.02.52;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2009.10.13.20.08.47;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2009.10.11.22.38.04;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2009.10.11.21.26.03;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2009.08.11.08.39.39;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2009.08.01.16.07.34;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2009.06.11.18.38.17;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2009.06.10.20.27.09;	author kili;	state Exp;
branches;
next	1.57;

1.57
date	2009.06.08.17.59.15;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2009.06.07.10.46.40;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2009.04.16.08.11.13;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2009.04.06.10.05.21;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2009.03.14.11.36.25;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2009.03.14.10.40.53;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2009.02.11.15.47.51;	author jasper;	state Exp;
branches;
next	1.50;

1.50
date	2009.02.11.15.33.52;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2009.01.30.20.49.41;	author sturm;	state Exp;
branches;
next	1.48;

1.48
date	2009.01.28.16.36.41;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2009.01.20.23.13.31;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2009.01.13.08.57.19;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2008.12.17.18.47.58;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2008.12.12.12.50.48;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2008.11.29.16.14.38;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2008.11.26.11.58.40;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2008.11.25.13.46.14;	author jasper;	state Exp;
branches;
next	1.40;

1.40
date	2008.11.23.10.30.36;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2008.11.21.18.15.45;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2008.06.02.14.10.06;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2008.05.26.16.29.27;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2008.05.26.08.32.57;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2008.05.20.11.08.14;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2008.04.17.08.46.48;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2008.02.28.17.20.28;	author bernd;	state Exp;
branches;
next	1.32;

1.32
date	2008.02.04.17.55.19;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2007.12.19.13.08.12;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2007.12.15.18.10.48;	author martynas;	state Exp;
branches;
next	1.29;

1.29
date	2007.11.10.15.25.42;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2007.07.05.22.50.11;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2007.06.26.22.26.05;	author martynas;	state Exp;
branches;
next	1.26;

1.26
date	2007.05.30.09.56.30;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2007.05.13.14.08.43;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2006.12.16.12.22.35;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2006.09.18.12.19.40;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2006.09.18.09.40.32;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2006.06.13.13.36.44;	author bernd;	state Exp;
branches;
next	1.20;

1.20
date	2006.01.19.08.41.09;	author steven;	state Exp;
branches;
next	1.19;

1.19
date	2006.01.09.06.53.41;	author alek;	state Exp;
branches;
next	1.18;

1.18
date	2005.11.13.06.29.05;	author marcm;	state Exp;
branches;
next	1.17;

1.17
date	2005.08.15.22.56.44;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2005.05.26.03.39.32;	author marcm;	state Exp;
branches;
next	1.15;

1.15
date	2004.12.30.04.25.06;	author marcm;	state Exp;
branches;
next	1.14;

1.14
date	2004.12.15.13.57.57;	author alek;	state Exp;
branches;
next	1.13;

1.13
date	2004.12.14.01.14.44;	author marcm;	state Exp;
branches;
next	1.12;

1.12
date	2004.12.10.20.36.45;	author marcm;	state Exp;
branches;
next	1.11;

1.11
date	2004.10.16.21.40.59;	author marcm;	state Exp;
branches;
next	1.10;

1.10
date	2004.10.10.16.44.12;	author sturm;	state Exp;
branches;
next	1.9;

1.9
date	2004.08.10.10.56.43;	author xsa;	state Exp;
branches;
next	1.8;

1.8
date	2004.06.23.03.26.18;	author marcm;	state Exp;
branches;
next	1.7;

1.7
date	2004.02.22.05.33.54;	author marcm;	state Exp;
branches;
next	1.6;

1.6
date	2003.12.01.04.13.06;	author marcm;	state Exp;
branches;
next	1.5;

1.5
date	2003.10.07.05.48.55;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.08.06.20.45.05;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.07.12.06.27.12;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.12.20.09.35;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.31.19.05.23;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.31.19.05.23;	author todd;	state Exp;
branches;
next	;


desc
@@


1.130
log
@Bye bye gnome-panel.
@
text
@# $OpenBSD: Makefile,v 1.129 2013/03/11 11:46:11 espie Exp $

SHARED_ONLY=	Yes

COMMENT=	GNOME panel

GNOME_PROJECT=	gnome-panel
GNOME_VERSION=	3.6.2
REVISION=	1

SHARED_LIBS=	panel-applet-4            1.1 # 1.1

CATEGORIES=	x11

HOMEPAGE=	https://live.gnome.org/GnomePanel

# GPLv2/LGPLv2/GFDLv1.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += GL ICE SM X11 X11-xcb XRes Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm
WANTLIB += asn1 atk-1.0 c cairo cairo-gobject camel-1.2 com_err
WANTLIB += croco-0.6 crypto dbus-1 dbus-glib-1 dconf drm
WANTLIB += ecal-1.2 edataserver-1.2 expat ffi
WANTLIB += fontconfig freetype gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-desktop-3 gnome-keyring
WANTLIB += gnome-menu-3 gobject-2.0 gpg-error gssapi gthread-2.0
WANTLIB += gtk-3 gweather-3 ical icalss icalvcal krb5 m nspr4
WANTLIB += nss3 pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += plc4 plds4 png polkit-gobject-1 pthread pthread-stubs
WANTLIB += rsvg-2 smime3 softokn3 soup-2.4 soup-gnome-2.4 sqlite3
WANTLIB += ssl3 startup-notification-1 stdc++ telepathy-glib wnck-3
WANTLIB += xcb xcb-aux xcb-render xcb-shm xml2 z
WANTLIB += atk-bridge-2.0 atspi gck-1 gconf-2 gcr-base-3 harfbuzz
WANTLIB += icudata icule icuuc nssutil3 p11-kit xkbfile

MODULES=	devel/dconf \
		devel/gettext \
		x11/gnome

# py-gnome is needed to load the old applets (gnome-panel-add) but we
# are trying to get away from the bonobo dependency for now.
MODULES+=	lang/python
MODPY_RUNDEP=	No

BUILD_DEPENDS=	devel/gobject-introspection
LIB_DEPENDS=	databases/evolution-data-server>=3.6.0p3 \
		devel/gconf2 \
		devel/libwnck3 \
		net/telepathy/telepathy-glib \
		sysutils/polkit \
		x11/gnome/desktop \
		x11/gnome/libgweather>=3.6.0 \
		x11/gnome/menus>=3.2.0 \
		x11/gnome/librsvg

# notification-area-applet
RUN_DEPENDS +=	sysutils/notification-daemon

# "Lock Screen"
RUN_DEPENDS+=	x11/gnome/screensaver

MODGNOME_TOOLS= goi yelp
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes

FAKE_FLAGS=	dbus_confdir=${PREFIX}/share/examples/gnome-panel/dbus-1/system.d

CONFIGURE_ARGS=	--disable-network-manager \
		--enable-telepathy-glib
MODGNOME_CPPFLAGS=	-I${LOCALBASE}/include/libpng

USE_GROFF =	Yes

.include <bsd.port.mk>
@


1.129
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2013/01/24 10:40:56 ajacoutot Exp $
@


1.128
log
@No need for icon-theme-symbolic, dependencies will bring it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2013/01/24 10:39:02 ajacoutot Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.127
log
@x11/gnome/user-docs dependency will move to the gnome meta pkg since
gnome-panel is scheduled for removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2012/11/14 08:09:48 jasper Exp $
d9 1
a9 1
REVISION=	0
a58 1
RUN_DEPENDS=	x11/gnome/icon-theme-symbolic
@


1.126
log
@- update to gnome-panel-3.6.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2012/10/16 11:56:11 ajacoutot Exp $
d9 1
a65 3

# yelp.desktop menu entry (from yelp: OnlyShowIn=GNOME;)
RUN_DEPENDS+=	x11/gnome/user-docs
@


1.125
log
@Fix dependencies after e-d-s moved back to using libgnome-keyring.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2012/10/03 15:57:18 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.6.0
REVISION=	2
@


1.124
log
@Fix depends after e-d-s move to libsecret.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2012/10/01 15:01:14 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
d27 1
a27 1
WANTLIB += ecal-1.2 edataserver-1.2 expat ffi secret-1
@


1.123
log
@Sync wantlib afer e-d-s migration to libsecret.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2012/09/28 08:38:39 jasper Exp $
d9 1
a9 1
REVISION=	0
d50 2
a51 1
LIB_DEPENDS=	databases/evolution-data-server>=3.6.0 \
@


1.122
log
@- update to gnome-panel-3.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2012/09/01 14:36:59 ajacoutot Exp $
d9 1
d27 1
a27 1
WANTLIB += ecal-1.2 edataserver-1.2 expat ffi
@


1.121
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2012/06/15 08:30:20 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.4.2.1
REVISION=	1
d10 1
a10 1
SHARED_LIBS=	panel-applet-4            1.0 # 0.0
d25 2
a26 2
WANTLIB += croco-0.6 crypto dbus-1 dbus-glib-1 dconf drm ebook-1.2
WANTLIB += ecal-1.2 edataserver-1.2 edataserverui-3.0 expat ffi
d36 2
a39 1
		devel/gconf2 \
d49 1
a49 1
LIB_DEPENDS=	databases/evolution-data-server \
d54 1
a54 1
		x11/gnome/libgweather \
a70 1
MODGCONF2_SCHEMAS_DIR=	gnome-panel
@


1.120
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2012/05/14 18:28:00 jasper Exp $
d9 1
a9 1
REVISION=	0
@


1.119
log
@- update to 3.4.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2012/05/14 14:30:32 jasper Exp $
d9 1
@


1.118
log
@- update to 3.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2012/04/18 08:25:59 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.4.2
@


1.117
log
@- update to 3.4.1
* translation updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2012/04/07 12:19:40 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.4.1
@


1.116
log
@Remove uneeded patches.
The "Switch User" policy will be set by gsettings-desktop-schemas.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2012/04/05 07:50:26 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.4.0
REVISION=	2
@


1.115
log
@Needs an explicit dependency on sysutils/polkit.

spotted by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2012/03/30 14:09:59 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.114
log
@Add HOMEPAGE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2012/03/29 06:53:15 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d52 1
@


1.113
log
@Update to gnome-panel-3.4.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2012/01/25 18:18:13 ajacoutot Exp $
d9 1
d14 2
@


1.112
log
@From Ubuntu: disable help buttons since gnome-panel help is no longer in
the GNOME user guide.
(https://bugs.launchpad.net/ubuntu/+source/gnome-panel/+bug/885959)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2012/01/04 10:47:01 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.2.1
REVISION=	7
d20 1
a20 1
WANTLIB += GL ICE SM X11 XRes Xau Xcomposite Xcursor Xdamage
d24 3
a26 3
WANTLIB += ecal-1.2 edataserver-1.2 edataserverui-3.0 softokn3
WANTLIB += expat fontconfig freetype gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3 gnome-keyring
d29 5
a33 5
WANTLIB += nss3 nssutil3 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += rsvg-2 smime3 soup-2.4 soup-gnome-2.4 sqlite3 ssl3
WANTLIB += startup-notification-1 telepathy-glib wnck-3 xcb
WANTLIB += xcb-aux xcb-render xcb-shm xml2 z X11-xcb ffi stdc++
@


1.111
log
@GNOME 3 only works with sysutils/notification-daemon and not the xfce ones.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2011/12/28 16:02:02 ajacoutot Exp $
d9 1
a9 1
REVISION=	6
@


1.110
log
@Add a comment regarding the notification-area-applet dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2011/12/28 08:56:57 ajacoutot Exp $
d9 1
a9 1
REVISION=	5
d57 1
a57 1
RUN_DEPENDS +=	notification-daemon-*|notification-daemon-xfce-*|xfce4-notifyd-*:sysutils/notification-daemon
@


1.109
log
@Our gnome-session already exports XDG_MENU_PREFIX in the environment, so
no need to play with get/setenv.
gnome-panel is not supposed to be started by anything than gnome-session
anyway and it will ease future updates.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2011/12/03 22:17:16 ajacoutot Exp $
d9 1
a9 1
REVISION=	4
d54 4
a57 2
RUN_DEPENDS=	notification-daemon-*|notification-daemon-xfce-*|xfce4-notifyd-*:sysutils/notification-daemon \
		x11/gnome/icon-theme-symbolic
@


1.108
log
@Use MODGNOME_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2011/11/04 09:56:29 jasper Exp $
d9 1
a9 1
REVISION=	3
@


1.107
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2011/10/29 08:12:33 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
d64 2
a65 1
MODGNOME_DESKTOP_FILE=		Yes
@


1.106
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2011/10/16 19:23:34 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
d34 1
a34 1
WANTLIB += xcb-aux xcb-render xcb-shm xml2 z X11-xcb ffi
@


1.105
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2011/10/16 15:11:26 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d21 1
a21 1
WANTLIB += GL ICE ORBit-2 SM X11 XRes Xau Xcomposite Xcursor Xdamage
@


1.104
log
@Update to gnome-panel-3.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2011/10/13 16:59:09 ajacoutot Exp $
d9 1
d34 1
a34 1
WANTLIB += xcb-aux xcb-render xcb-shm xml2 z X11-xcb ffi kvm
@


1.103
log
@Fix configure output when evolution-data-server is picked up.
Regen WANTLIB while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2011/09/28 09:47:47 jasper Exp $
d8 1
a8 2
GNOME_VERSION=	3.2.0
REVISION=	0
@


1.102
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2011/09/26 11:14:36 jasper Exp $
d9 1
d25 1
a25 1
WANTLIB += ecal-1.2 edataserver-1.2 edataserverui-3.0 execinfo
a69 1
		--enable-eds \
@


1.101
log
@- update to 3.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2011/09/26 07:53:09 ajacoutot Exp $
d71 1
a71 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.100
log
@Regen WANTLIB here as well to unbreak.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2011/09/20 21:10:01 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.0.2
d10 1
a10 3
REVISION=	7

SHARED_LIBS=	panel-applet-4            0.0 # 0.0
a19 2
EXTRACT_SUFX=		.tar.bz2

d27 1
a27 1
WANTLIB += gnome-menu gobject-2.0 gpg-error gssapi gthread-2.0
d51 1
a51 1
		x11/gnome/menus \
@


1.99
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2011/09/20 20:52:46 jasper Exp $
d10 1
a10 1
REVISION=	6
d36 2
a37 2
WANTLIB += startup-notification-1 telepathy-glib wnck-3 xcb xcb-atom
WANTLIB += xcb-aux xcb-event xcb-render xcb-shm xml2 z
@


1.98
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2011/09/19 07:44:59 ajacoutot Exp $
d72 1
a72 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-network-manager \
@


1.97
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2011/09/16 12:29:14 espie Exp $
d66 1
a66 1
MODGNOME_HELP_FILES= 	Yes
a72 1
		--disable-gtk-doc \
a73 1
		--enable-introspection \
@


1.96
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2011/09/13 08:07:22 ajacoutot Exp $
d67 1
a67 1
DESKTOP_FILES=		Yes
@


1.95
log
@Tweak RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2011/09/12 12:04:17 jasper Exp $
d10 1
a10 1
REVISION=	5
@


1.94
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2011/09/12 07:28:54 jasper Exp $
d10 1
a10 1
REVISION=	4
d58 4
a61 2
		x11/gnome/icon-theme-symbolic \
		x11/gnome/screensaver # "Lock Screen"
@


1.93
log
@Moar GNOME3 merge
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/06/24 08:02:56 ajacoutot Exp $
d21 2
@


1.92
log
@Don't install libtool files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2011/06/24 08:01:43 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	2.32.1
d10 1
a10 1
REVISION=	5
d12 1
a12 2
SHARED_LIBS=	panel-applet-2            4.0 # .2.67
SHARED_LIBS +=  panel-applet-3            0.0 # 0.5
d22 24
a45 21
WANTLIB += GL ICE ORBit-2 ORBitCosNaming-2 SM X11 X11-xcb XRes
WANTLIB += Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender Xxf86vm art_lgpl_2 asn1 atk-1.0
WANTLIB += bonobo-2 bonobo-activation bonoboui-2 c cairo camel-1.2
WANTLIB += canberra canberra-gtk com_err croco-0.6 crypto dbus-1
WANTLIB += dbus-glib-1 drm ebook-1.2 ecal-1.2 edataserver-1.2
WANTLIB += edataserverui-1.2 execinfo expat fontconfig freetype
WANTLIB += gailutil gcrypt gdata gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-2 gnome-desktop-2 gnome-keyring
WANTLIB += gnome-menu gnomecanvas-2 gnomevfs-2 gobject-2.0 gpg-error
WANTLIB += gssapi gthread-2.0 gtk-x11-2.0 gweather ical icalss
WANTLIB += icalvcal krb5 ltdl m nspr4 nss3 nssutil3 ogg pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4
WANTLIB += png popt pthread pthread-stubs rsvg-2 smime3 soup-2.4
WANTLIB += soup-gnome-2.4 sqlite3 ssl ssl3 startup-notification-1
WANTLIB += util vorbis vorbisfile wnck-1 xcb xcb-aux xcb-render
WANTLIB += xcb-shm xml2 z

MODULES=	devel/gettext \
		x11/gnome \
		devel/gconf2
d48 3
a50 5

LIB_DEPENDS= 	databases/evolution-data-server \
		audio/libcanberra,-gtk \
		devel/libtool,-ltdl \
		devel/libwnck \
d52 1
d54 1
a54 4
		x11/gnome/libgweather \
		x11/gnome/librsvg \
		devel/libsoup,-gnome \
		x11/gnome/libbonoboui
d56 5
a60 1
		x11/gnome/user-docs
d71 3
a73 1
		--enable-introspection
a76 6
# XXX configure script looks for python but it is not used at all.
# We don't add python to build depends because it is needed by some of
# the dependencies anyway, so it'll be there already.
MODULES+=	lang/python
MODPY_BUILDDEP=	No
MODPY_RUNDEP=	No
@


1.91
log
@Yelp does not really need to RUN_DEPENDS on gnome-user-docs. Non GNOME
applications use it and they don't care about the GNOME Desktop help.
We can now convert gnome-user-docs to MODGNOME_HELP_FILES.
Add a RUN_DEPENDS on gnome-user-docs to gnome-panel since this is where
the link to the GNOME Desktop help gets displayed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2011/06/08 17:41:57 rpointel Exp $
d10 1
a10 1
REVISION=	4
@


1.90
log
@bump after default python version switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2011/06/03 15:41:14 ajacoutot Exp $
d10 1
a10 1
REVISION=	3
d57 2
a58 1
RUN_DEPENDS=	notification-daemon-*|notification-daemon-xfce-*|xfce4-notifyd-*:sysutils/notification-daemon
@


1.89
log
@Regen dependencies after recent gnome-desktop commit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2011/05/18 15:50:37 ajacoutot Exp $
d10 1
a10 1
REVISION=	2
@


1.88
log
@Let's not complicate things, remove the xsltproc tweak, it's not really
needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2011/04/13 06:47:42 ajacoutot Exp $
d10 1
a10 1
REVISION=	1
d23 17
a39 18
WANTLIB += ICE ORBit-2 ORBitCosNaming-2 SM X11 XRes Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr ltdl
WANTLIB += Xrender art_lgpl_2 asn1 atk-1.0
WANTLIB += bonobo-2 bonobo-activation bonoboui-2 wnck-1
WANTLIB += c cairo com_err croco-0.6 crypto dbus-1 dbus-glib-1
WANTLIB += execinfo expat fontconfig freetype gailutil
WANTLIB += gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2 rsvg-2
WANTLIB += gnomevfs-2 gnutls gobject-2.0 gpg-error gssapi
WANTLIB += gthread-2.0 gtk-x11-2.0 ical icalss icalvcal krb5 m
WANTLIB += nspr4 nss3 ogg pango-1.0 pangocairo-1.0 pangoft2-1.0 gweather
WANTLIB += pcre pixman-1 plc4 plds4 png popt proxy pthread pthread-stubs
WANTLIB += smime3 soup-2.4 sqlite3 ssl ssl3 startup-notification-1
WANTLIB += tasn1 util vorbis vorbisfile xcb xcb-atom xcb-aux xcb-event
WANTLIB += xcb-render xml2 z camel-1.2 ebook-1.2
WANTLIB += ecal-1.2 edataserver-1.2 edataserverui-1.2 canberra-gtk
WANTLIB += canberra gnome-desktop-2 gnome-menu soup-gnome-2.4
WANTLIB += gdata nssutil3 GL Xxf86vm drm xcb-shm
d55 2
a56 1
		devel/libsoup,-gnome
@


1.87
log
@Cope with recent libcanberra subpackaging.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2011/04/07 09:29:51 ajacoutot Exp $
a78 5

pre-configure:
	perl -pi -e 's,xsltproc -o,xsltproc --nonet -o,g' \
		${WRKSRC}/help/clock/Makefile.in \
		${WRKSRC}/help/fish/Makefile.in
@


1.86
log
@Add introspection support (needed for on-going GNOME 3 work).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2010/11/17 12:24:47 jasper Exp $
d10 1
a10 1
REVISION=	0
d49 1
a49 1
		audio/libcanberra \
@


1.85
log
@- update gnome-panel to 2.32.1
- new DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2010/10/19 08:13:57 espie Exp $
d10 2
d46 2
d67 2
a68 2
		--disable-introspection \
		--disable-network-manager
@


1.84
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2010/10/18 13:18:15 jasper Exp $
d8 1
a8 2
GNOME_VERSION=	2.32.0.2
REVISION=	1
d23 2
a24 2
WANTLIB += Xrender art_lgpl_2 asn1 atk-1.0 avahi-client avahi-common
WANTLIB += avahi-glib bonobo-2 bonobo-activation bonoboui-2 wnck-1
d26 1
a26 1
WANTLIB += eggdbus-1 execinfo expat fontconfig freetype gailutil
d35 1
a35 1
WANTLIB += xcb-render xcb-render-util xml2 z camel-1.2 ebook-1.2
d38 1
a38 1
WANTLIB += gdata nssutil3
d44 10
a53 11
LIB_DEPENDS= 	::databases/evolution-data-server \
		::audio/libcanberra \
		::devel/libtool,-ltdl \
		::devel/libwnck \
		::x11/gnome/desktop \
		::x11/gnome/menus \
		::x11/gnome/libgweather \
		::x11/gnome/librsvg \
		::devel/libsoup,-gnome \
		::devel/eggdbus
RUN_DEPENDS=	:notification-daemon-*|notification-daemon-xfce-*|xfce4-notifyd-*:sysutils/notification-daemon
d55 2
a56 2
MODGNOME_HELP_FILES= Yes
DESKTOP_FILES=	Yes
@


1.83
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2010/10/11 08:19:20 jasper Exp $
d76 1
@


1.82
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2010/09/30 17:04:17 jasper Exp $
a57 1
USE_X11=	Yes
@


1.81
log
@- merge into PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2010/09/30 07:36:27 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d29 1
a29 1
WANTLIB += glitz gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2 rsvg-2
@


1.80
log
@Update to gnome-panel-2.32.0.2.

ok jasper@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.79 2010/09/28 08:20:01 landry Exp $
d9 1
@


1.79
log
@Fix WANTLIB after librsvg update, remove bz2/gsf-1. Package now
installable again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2010/09/01 11:36:47 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.30.2
d8 2
a9 3
REVISION=	4

SHARED_LIBS=	panel-applet-2       4.0      # .2.67
d36 1
a36 1
WANTLIB += polkit-gobject-1
d51 1
a51 1
		::sysutils/polkit
a61 1
		--enable-polkit \
d63 1
@


1.78
log
@Tweak XXX.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2010/08/31 21:18:19 ajacoutot Exp $
d8 1
a8 1
REVISION=	3
d23 1
a23 1
WANTLIB += avahi-glib bonobo-2 bonobo-activation bonoboui-2 bz2 wnck-1
d28 1
a28 1
WANTLIB += gnomevfs-2 gnutls gobject-2.0 gpg-error gsf-1 gssapi
@


1.77
log
@Quick hack to unbreak build after python 2.6 switch.
configure looks for python but it isn't used anywhere... I'll revisit
this later.
Regen PLIST while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2010/07/25 08:15:33 ajacoutot Exp $
d69 3
a71 1
# XXX configure script looks for python but it is not used at all
@


1.76
log
@Switch to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2010/07/13 20:37:03 ajacoutot Exp $
d7 2
a8 1
REVISION=	2
d68 5
@


1.75
log
@Use REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2010/07/07 16:38:27 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
d20 1
a20 1
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
d22 1
a22 1
WANTLIB += avahi-glib bonobo-2 bonobo-activation bonoboui-2 bz2
d26 1
a26 1
WANTLIB += glitz gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2
d29 1
a29 1
WANTLIB += nspr4 nss3 ogg pango-1.0 pangocairo-1.0 pangoft2-1.0
d33 4
a36 1
WANTLIB += xcb-render xcb-render-util xml2 z
d42 10
a51 10
LIB_DEPENDS= 	camel-1.2,ebook-1.2,ecal-1.2,edataserver-1.2,edataserverui-1.2::databases/evolution-data-server \
		canberra-gtk.>=1,canberra::audio/libcanberra \
		ltdl.>=4::devel/libtool,-ltdl \
		wnck-1.>=21::devel/libwnck \
		gnome-desktop-2.>=5::x11/gnome/desktop \
		gnome-menu::x11/gnome/menus \
		gweather::x11/gnome/libgweather \
		rsvg-2::x11/gnome/librsvg \
		soup-gnome-2.4.>=1::devel/libsoup,-gnome \
		polkit-gobject-1::sysutils/polkit
@


1.74
log
@Enable polkit support.

ok jasper@@ robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2010/07/01 18:41:11 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.73
log
@Remove this patch, it's not needed anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2010/06/22 18:22:57 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
a12 7
# OpenBSD does not have consolekit/policykit, so we fall back to the
# previous behaviour, bypassing gnome-session. Only if GDM is running,
# shutdown/restart is allowed.
#MASTER_SITES0=	http://www.bsdfrog.org/OpenBSD/distfiles/
#PATCHFILES=	gnome-panel-2.28.0-1.logout.patch:0
#PATCH_DIST_STRIP= -p1

d47 2
a48 1
		soup-gnome-2.4.>=1::devel/libsoup,-gnome
d56 2
d59 2
a60 2
		--enable-gtk-doc=no \
		--disable-polkit \
@


1.72
log
@Bugfix update to gnome-panel-2.30.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2010/04/22 22:54:35 ajacoutot Exp $
d7 1
@


1.71
log
@Fix substitution.

spotted by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2010/04/22 18:36:32 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	2.30.0
PKGNAME=	${DISTNAME}p0
@


1.70
log
@Update to gnome-panel-2.30.0.
Without the shutdown patch for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2009/12/21 18:03:19 ajacoutot Exp $
d7 1
d70 1
a70 1
	perl -pi -e 's,'s,xsltproc -o,xsltproc --nonet -o,g' \
@


1.69
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2009/11/16 15:21:25 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	2.28.0
PKGNAME=	${DISTNAME}p6
d8 1
a8 1
SHARED_LIBS=	panel-applet-2       3.0      # .2.28
d15 3
a17 3
MASTER_SITES0=	http://www.bsdfrog.org/OpenBSD/distfiles/
PATCHFILES=	gnome-panel-2.28.0-1.logout.patch:0
PATCH_DIST_STRIP= -p1
d30 2
a31 2
WANTLIB += execinfo expat fontconfig freetype gailutil gcrypt
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glade-2.0 glib-2.0
d33 3
a35 3
WANTLIB += gnomeui-2 gnomevfs-2 gnutls gobject-2.0 gpg-error gsf-1
WANTLIB += gssapi gthread-2.0 gtk-x11-2.0 ical icalss icalvcal
WANTLIB += krb5 m nspr4 nss3 pango-1.0 pangocairo-1.0 pangoft2-1.0
d37 3
a39 2
WANTLIB += smime3 softokn3 soup-2.4 sqlite3 ssl ssl3 startup-notification-1
WANTLIB += tasn1 util xcb xcb-atom xcb-aux xcb-event xml2 z
d46 2
d62 1
a62 1
		--enable-eds \
d64 1
a64 2
		--disable-network-manager \
		--disable-scrollkeeper
d67 5
@


1.68
log
@Fix small regression from previous commit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2009/11/16 11:50:34 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p5
@


1.67
log
@Fall back to the old 2.20 behaviour, bypassing gnome-session (and
consolekit): only if GDM is running shutdown/restart is allowed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2009/11/15 17:36:38 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
d17 1
a17 1
PATCHFILES=	gnome-panel-2.28.0.logout.patch:0
@


1.66
log
@Respect XDG_MENU_PREFIX.
Set default menu file to gnome-applications.menu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2009/10/14 08:02:52 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
d13 3
a15 2
# OpenBSD does not have policykit, so we need to fall back on the
# previous gnome-panel and gdm interaction (bypassing gnome-session)
d17 2
a18 1
#PATCHFILES=	gnome-panel_nopolkit.diff:0
@


1.65
log
@Make this run_depends on a notification daemon so that the notification
area can be used ouf ot the box.
Discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2009/10/13 20:08:47 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.64
log
@Remove the dependency on gnome-settings-daemon after all.
All GNOME components use it and there won't be any point in adding it to
all GNOME ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2009/10/11 22:38:04 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d50 1
@


1.63
log
@Make it depend on gnome-settings-daemon so that it actually looks usable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2009/10/11 21:26:03 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
a49 3

# looks broken otherwise (no icons, default fonts, no theme...)
RUN_DEPENDS=	::x11/gnome/settings-daemon
@


1.62
log
@gnome-panel 2.28.0.

It compiles, let's ship it... seriously, several things are not behaving
correctly right now, but as agreed with jasper@@ let's import it and work on
it in tree.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2009/08/11 08:39:39 ajacoutot Exp $
d7 1
d50 3
@


1.61
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2009/08/01 16:07:34 ajacoutot Exp $
d3 1
a3 1
COMMENT=		GNOME panel
d5 2
a6 3
GNOME_PROJECT=		gnome-panel
GNOME_VERSION=		2.24.3
PKGNAME=		${DISTNAME}p12
d8 3
a10 2
SHARED_LIBS=	panel-applet-2       2.24      # .2.26
CATEGORIES=		x11
d15 1
a15 1
PATCHFILES=	gnome-panel_nopolkit.diff:0
d23 30
a52 29
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 XRes Xau Xcomposite \
		Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender art_lgpl_2 asn1 atk-1.0 avahi-client \
		avahi-common avahi-glib bonobo-2 \
		bonobo-activation bonoboui-2 bz2 c cairo com_err croco-0.6 \
		crypto dbus-1 dbus-glib-1 expat fontconfig freetype \
		gailutil gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 \
		glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2 gnome-keyring \
		gnomecanvas-2 gnomeui-2 gnomevfs-2 gnutls gobject-2.0 \
		gpg-error gsf-1 gssapi gthread-2.0 gtk-x11-2.0 krb5 m \
		nspr4 nss3 pango-1.0 pthread-stubs xcb \
		pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4 \
		png popt pthread smime3 softokn3 soup-2.4 sqlite3 ssl \
		ssl3 startup-notification-1 tasn1 util xml2 z

MODULES=		devel/gettext \
			x11/gnome \
			devel/gconf2

LIB_DEPENDS= 		camel-1.2,ebook-1.2,ecal-1.2,edataserver-1.2,edataserverui-1.2::databases/evolution-data-server \
			wnck-1.>=21::devel/libwnck \
			gnome-desktop-2.>=5::x11/gnome/desktop \
			gnome-menu::x11/gnome/menus \
			gweather::x11/gnome/libgweather \
			rsvg-2::x11/gnome/librsvg

MODGNOME_HELP_FILES=	Yes
USE_X11=		Yes
DESKTOP_FILES=		Yes
d55 7
a61 4
CONFIGURE_ARGS+= 	--enable-eds \
			--disable-scrollkeeper
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.60
log
@Remove workaround now that update-desktop-database fixes desktop files
modes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2009/06/11 18:38:17 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p11
d33 1
a33 1
		nspr4 nss3 pango-1.0 \
@


1.59
log
@Bump after recent gconf2 MODULE change.
gconf2 MODULE was tricky to get right for *all* ports. I think I finally
got it, if you see any fallout, please contact me asap.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2009/06/10 20:27:09 kili Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p10
@


1.58
log
@
WANTLIB changes due to avahi dependency. Bump affected PKGNAMEs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2009/06/08 17:59:15 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p9
@


1.57
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/06/07 10:46:40 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p8
d25 2
a26 1
		Xrender art_lgpl_2 asn1 atk-1.0 bonobo-2 \
@


1.56
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2009/04/16 08:11:13 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p7
@


1.55
log
@- now that we have rarian, the 'scrollkeeper-update -> /bin/true' hack
is not needed as the legacy scrollkeeper-update provided by rarian does
not do anything anymore

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2009/04/06 10:05:21 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p6
d28 1
a28 1
		gailutil gconf-2 gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 \
d38 2
a39 1
			x11/gnome
d51 2
a53 2
			--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gnome-panel \
			--disable-schemas-install \
@


1.54
log
@Rework the way we handle build_depends with the gnome MODULE when
MODGNOME_HELP_FILES is set to yes.

* add a build_depends on gnome-doc-utils if MODGNOME_HELP_FILES is set
to yes
* add rarian as a run_depends for gnome-doc-utils (will help with older
ports that will never be updated from using deprecated scrollkeeper)
* remove build+run_depends on gnome-doc-utils and rarian for ports that
have MODGNOME_HELP_FILES as they are now implied.
* bump where needed

This should help in having all required build dependencies for
gnome-related ports and it greatly simplifies things.

"thanks for cleaning this mess" and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2009/03/14 11:36:25 ajacoutot Exp $
a55 3

post-patch:
	@@ln -s /usr/bin/true ${WRKDIR}/bin/scrollkeeper-update
@


1.53
log
@- nothing should have to run_depends on rarian anymore
- explicitely add build_depends on rarian where gnome-doc-utils is also a
build dependency as it does not itself run_depends on rarian anymore

This was the 2nd and hopefully last pass of rarian/scrollkeeper cleaning.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/03/14 10:40:53 ajacoutot Exp $
a39 2
BUILD_DEPENDS=		:gnome-doc-utils->=0.3.2:x11/gnome/doc-utils \
			::textproc/rarian
@


1.52
log
@- first pass at cleaning rarian/scrollkeeper handling
remove rarian-sk-update from PLIST ; it is only a wrapper that does
noting: librarian takes care of everything now.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/02/11 15:47:51 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p5
d40 2
a41 2
BUILD_DEPENDS=		:gnome-doc-utils->=0.3.2:x11/gnome/doc-utils
RUN_DEPENDS=		::textproc/rarian
@


1.51
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/02/11 15:33:52 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p4
@


1.50
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/01/30 20:49:41 sturm Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
@


1.49
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/01/28 16:36:41 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.48
log
@- don't add a "Shut Down..." button on the panel when GDM is not running;
this complies with old behaviour (that's for you sthen@@) which we want
because we don't use dbus+polkit+consolekit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2009/01/20 23:13:31 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d28 1
a28 1
		gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 \
d30 3
a32 2
		gnomecanvas-2 gnomeui-2 gnomevfs-2 gobject-2.0 gsf-1 \
		gssapi gthread-2.0 gtk-x11-2.0 krb5 m nspr4 nss3 pango-1.0 \
d35 1
a35 1
		ssl3 startup-notification-1 util xml2 z
@


1.47
log
@- regen WANTLIB after libgnome esound support removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/01/13 08:57:19 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.46
log
@- update gnome-panel to 2.24.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2008/12/17 18:47:58 jasper Exp $
d7 2
d25 1
a25 1
		Xrender art_lgpl_2 asn1 atk-1.0 audiofile bonobo-2 \
d27 1
a27 1
		crypto dbus-1 dbus-glib-1 esd expat fontconfig freetype \
@


1.45
log
@- switch remaining ports to rarian instead of scrollkeeper
- regen PLIST

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2008/12/12 12:50:48 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.24.2
PKGNAME=		${DISTNAME}p3
@


1.44
log
@- user switching does not work under OpenBSD, so disable the button
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2008/11/29 16:14:38 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
d39 1
a39 1
RUN_DEPENDS=		:scrollkeeper->=0.3.12:textproc/scrollkeeper
@


1.43
log
@- add a workaround to install desktop launchers in 644 mode whatever the
original file mode from the system applications directory is
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2008/11/26 11:58:40 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.42
log
@- adapt a patch from Gentoo to fix "Restart" and "Shut Down" buttons.

We do not support policykit yet and latest gnome-panel requires it
for restart/shutdown support, so just backport the old way in which
the panel will talk directly to GDM bypassing gnome-session
dbus/polycikit.

"commit it" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2008/11/25 13:46:14 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.41
log
@- update gnome-panel to 2.24.2
* translation updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2008/11/23 10:30:36 jasper Exp $
d7 1
d10 5
@


1.40
log
@- fix LIB_DEPENDS and re-order them
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2008/11/21 18:15:45 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		2.24.1
PKGNAME=		${DISTNAME}p0
@


1.39
log
@- update gnome-panel to 2.24.1
* this needs some work wrt the clock applet
- specify licenses and their versions

feedback and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/06/02 14:10:06 ajacoutot Exp $
d7 1
d35 3
a37 1
LIB_DEPENDS= 		gnome-desktop-2.>=5::x11/gnome/desktop \
a38 1
			wnck-1.>=21::devel/libwnck \
@


1.38
log
@- remove support for MODGNOME_DEVHELP_FILES from the gnome MODULE ;
it makes more sense to add devhelp as run_depends for gnome-session and
leave it to the user to install it manually for other packages

"if you're as happy as a pig in poop, commit it" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2008/05/26 16:29:27 ajacoutot Exp $
d6 2
a7 3
GNOME_VERSION=		2.20.2
PKGNAME=		${DISTNAME}p7
SHARED_LIBS=	panel-applet-2       2.18      # .2.26
d10 1
a10 1
# GPL/LGPL
d15 13
a27 10
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 XRes Xau Xcursor \
		Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender art_lgpl_2 \
		atk-1.0 audiofile bonobo-2 bonobo-activation bonoboui-2 \
		c cairo crypto dbus-1 dbus-glib-1 esd expat fam fontconfig \
		freetype gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0 \
		glib-2.0 glitz gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2 \
		gnomeui-2 gnomevfs-2 gobject-2.0 gthread-2.0 gtk-x11-2.0 \
		jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre png popt \
		pthread rpcsvc ssl startup-notification-1 stdc++ util xml2 z \
		Xcomposite Xdamage gailutil
d36 3
a38 1
			wnck-1.>=21::devel/libwnck
d43 1
a43 1
CONFIGURE_ARGS+= 	--disable-eds \
d46 1
a46 2
			--disable-scrollkeeper \
			--disable-eds
@


1.37
log
@- make help available by adding MODGNOME_HELP_FILES / ::x11/gnome/yelp
to RUN_DEPENDS

"mkay" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/05/26 08:32:57 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p6
a35 1
MODGNOME_DEVHELP_FILES=	Yes
@


1.36
log
@- since devhelp files are provided, make it run_depends on devhelp so
that we can actually see them

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2008/05/20 11:08:14 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p5
d37 1
@


1.35
log
@- don't display the "Switch User" button, this needs fast-user-switch-applet.
this applet will only work if we run with securelevel -1 (and start another
X server). as found out by ajacoutot@@ and confirmed by matthieu@@

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2008/04/17 08:46:48 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p4
d36 1
@


1.34
log
@- make gtk-update-icon-cache call consistent with the rest of the tree
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2008/02/28 17:20:28 bernd Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
@


1.33
log
@Bring back a '@@exec gconftool-2 ...' invocation to unbreak the panel.
This has been deleted by mistake in a previous commit.

ok naddy@@, ajacoutot@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2008/02/04 17:55:19 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.32
log
@let's face it....add myself as maintainer

requested by and ok ajacoutot@@, ok fkr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2007/12/19 13:08:12 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.31
log
@- fix gconftool-2 foo

"yo..okido!" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2007/12/15 18:10:48 martynas Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.30
log
@update to gnome-panel-2.20.2;  ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/11/10 15:25:42 jasper Exp $
d7 1
@


1.29
log
@- update gnome-panel to 2.20.1
- fix license marker

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/07/05 22:50:11 jasper Exp $
d6 2
a7 2
GNOME_VERSION=		2.20.1
SHARED_LIBS=	panel-applet-2       2.17      # .2.17
d23 2
a24 1
		pthread rpcsvc ssl startup-notification-1 stdc++ util xml2 z
@


1.28
log
@convert these gnome ports to use the new x11/gnome module.

this module is now mature enough to be used in new ports too.

feedback and ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/06/26 22:26:05 martynas Exp $
d6 1
a6 1
GNOME_VERSION=		2.18.2
d10 1
a10 1
# LGPL
d22 1
a22 1
		jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 png popt \
d32 1
a32 1
			wnck-1.>=20::devel/libwnck
d39 2
a40 1
			--disable-scrollkeeper
@


1.27
log
@update to gnome-panel-2.18.2; ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/05/30 09:56:30 jasper Exp $
d3 1
a3 1
COMMENT=		"GNOME panel"
d5 2
a6 1
DISTNAME=		gnome-panel-2.18.2
d8 1
a8 4
CATEGORIES=		x11 x11/gnome

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-panel/2.18/}
EXTRACT_SUFX=           .tar.bz2
d25 2
a26 1
MODULES=		devel/gettext
d28 2
a29 4
BUILD_DEPENDS=		:p5-XML-Parser-*:textproc/p5-XML-Parser \
			:gnome-doc-utils->=0.3.2:x11/gnome/doc-utils
RUN_DEPENDS=		:scrollkeeper->=0.3.12:textproc/scrollkeeper \
			::devel/desktop-file-utils
d35 1
a35 3
USE_GMAKE=		Yes
USE_LIBTOOL=		Yes
CONFIGURE_STYLE= 	gnu
@


1.26
log
@HOMEPAGE is taken care of via Makefile.inc, so no need to have it defined
twice when the homepage is http://www.gnome.org/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2007/05/13 14:08:43 jasper Exp $
d5 1
a5 1
DISTNAME=		gnome-panel-2.18.1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.25
log
@update gnome-panel to 2.18.1

feedback and ok alek@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2006/12/16 12:22:35 espie Exp $
d7 1
a8 2

HOMEPAGE=		http://www.gnome.org
@


1.24
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2006/09/18 12:19:40 espie Exp $
d5 2
a6 4
VERSION=		2.10.2
DISTNAME=		gnome-panel-${VERSION}
PKGNAME=		${DISTNAME}p2
SHARED_LIBS=		panel-applet-2 1.5
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-panel/2.10/}
d19 9
a27 9
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 XRes Xext \
		Xrender art_lgpl_2 atk-1.0 audiofile bonobo-2 \
		bonobo-activation bonoboui-2 c crypto esd fontconfig freetype \
		gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0 \
		glib-2.0 gmodule-2.0 gnome-2 gnome-keyring \
		gnomecanvas-2 gnomeui-2 gnomevfs-2 gobject-2.0 \
		gthread-2.0 gtk-x11-2.0 jpeg m pango-1.0 \
		pangoft2-1.0 pangocairo-1.0 popt cairo glitz png \
		pthread ssl startup-notification-1 xml2 z
d31 5
a35 4
BUILD_DEPENDS= 		:p5-XML-Parser-*:textproc/p5-XML-Parser \
			:scrollkeeper->=0.3.12:textproc/scrollkeeper
RUN_DEPENDS=		:scrollkeeper->=0.3.12:textproc/scrollkeeper
LIB_DEPENDS= 		gnome-desktop-2::x11/gnome/desktop \
d37 1
a37 1
			wnck-1.>=4::devel/libwnck
d43 4
a46 3
CONFIGURE_ARGS+= 	--disable-gtk-doc
CONFIGURE_ARGS+= 	--disable-eds
CONFIGURE_ARGS+= 	--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gnome-panel
@


1.23
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2006/09/18 09:40:32 espie Exp $
d33 1
a33 2
BUILD_DEPENDS= 		:pkgconfig-*:devel/pkgconfig \
			:p5-XML-Parser-*:textproc/p5-XML-Parser \
@


1.22
log
@new style lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/06/13 13:36:44 bernd Exp $
d22 1
a22 1
		Xrender art_lgpl_2 atk-1.0.0.0 audiofile bonobo-2 \
d24 5
a28 5
		gconf-2 gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 glade-2.0.0.0 \
		glib-2.0.0.0 gmodule-2.0.0.0 gnome-2 gnome-keyring \
		gnomecanvas-2 gnomeui-2 gnomevfs-2 gobject-2.0.0.0 \
		gthread-2.0.0.0 gtk-x11-2.0.0.0 jpeg m pango-1.0.0.0 \
		pangoft2-1.0.0.0 pangocairo-1.0.0.0 popt cairo glitz png \
@


1.21
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/01/19 08:41:09 steven Exp $
d37 1
a37 1
LIB_DEPENDS= 		gnome-desktop-2.0::x11/gnome/desktop \
d39 1
a39 1
			wnck-1.4::devel/libwnck
@


1.20
log
@- fix WANTLIB after gtk+2 downgrade
- sync PLISTs
- add MODULES=devel/gettext where appropriate
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/01/09 06:53:41 alek Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d21 1
a21 1
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 XRes Xext Xft \
d28 1
a28 1
		pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 popt \
@


1.19
log
@- SHARED_LIBS
- Regen plists
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2005/11/13 06:29:05 marcm Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d21 1
a21 1
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 XRes Xext \
d28 2
a29 2
		pangoft2-1.0.0.0 pangocairo-1.0.1000.0 cairo glitz popt \
		pthread ssl startup-notification-1 xml2 z png
@


1.18
log
@Monster Gnome update primarily for the new GTK+2 WANTLIBS.

Also includes several Gnome 2.6.2 updates.  Version numbers bumped
accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2005/08/15 22:56:44 espie Exp $
d7 2
a8 1
#PKGNAME=		${DISTNAME}p0
@


1.17
log
@some shared dirs, okay pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2005/05/26 03:39:32 marcm Exp $
d5 1
a5 1
VERSION=		2.10.1
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d20 1
a20 1
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 XRes Xext Xft \
d27 2
a28 2
		pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 popt \
		pthread ssl startup-notification-1 xml2 z
d42 1
@


1.16
log
@Gnome 2.10.0/2.10.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/12/30 04:25:06 marcm Exp $
d7 1
@


1.15
log
@Better handle the weird way this installs its configs and silence the
meaningless warning on pkg_add.  Also, lose the po Makefile patch as
it's no longer needed.  Bump the package name.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/12/15 13:57:57 alek Exp $
d5 1
a5 1
VERSION=		2.8.2
a6 1
PKGNAME=		${DISTNAME}p0
a9 1
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-panel/2.8/}
d19 2
a20 2
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 XRes Xcursor Xext Xft \
		Xinerama Xrender art_lgpl_2 atk-1.0.0.0 audiofile bonobo-2 \
d26 1
a26 1
		pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 png popt \
d34 1
a34 2
RUN_DEPENDS=		:scrollkeeper->=0.3.12:textproc/scrollkeeper \
			:control-center2-*:x11/gnome/controlcenter2
d36 1
@


1.14
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/12/14 01:14:44 marcm Exp $
d5 3
a7 1
DISTNAME=		gnome-panel-2.8.2
@


1.13
log
@Update to their GNOME 2.8.2 versions:

metacity        2.8.6 -> 2.8.8
gnome-mime-data 2.4.1 -> 2.4.2
nautilus        2.8.1 -> 2.8.2
gnome-panel     2.8.1 -> 2.8.2
gnome-terminal  2.8.0 -> 2.8.2
gnome-vfs2      2.8.2 -> 2.8.3
yelp            2.6.4 -> 2.6.5

GNOME 2.8.2 was announced right before I committed 2.8.1, sheesh.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/12/10 20:36:45 marcm Exp $
d19 9
@


1.12
log
@Update to Gnome 2.8 (.1).

Work done primarily by Francois Briere, thanks Francois.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/10/16 21:40:59 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-panel-2.8.1
@


1.11
log
@Don't detect evolution-data-server unless I tell you you can.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/10/10 16:44:12 sturm Exp $
d5 1
a5 1
DISTNAME=		gnome-panel-2.6.2
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-panel/2.6/}
@


1.10
log
@fix BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/08/10 10:56:43 xsa Exp $
a29 1
SEPARATE_BUILD=		concurrent
d34 1
@


1.9
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/06/23 03:26:18 marcm Exp $
d23 1
@


1.8
log
@Monster update to Gnome 2.6.  See, I am not slacking, really!

Change info on a Gnome mirror near you.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/02/22 05:33:54 marcm Exp $
d20 1
a20 1
MODULES=		gettext
@


1.7
log
@Update to Gnome 2.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/12/01 04:13:06 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-panel-2.4.2
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-panel/2.4/}
@


1.6
log
@Gnome 2.4.1.

Sync versions with the Gnome 2.4.1 release.  Mostly bugfixes, too numerous
to list :).

This also addresses systrace issues and some config file issues from
sturm@@, and wireless applet support from djm@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/10/07 05:48:55 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-panel-2.4.1
@


1.5
log
@Update to Gnome 2.4.0.
Release notes available at: http://www.gnome.org/start/2.4/notes/

Please note that x11/gnome/bonobo-activation is now part of libbonobo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/08/06 20:45:05 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-panel-2.4.0
@


1.4
log
@Update to GNOME 2.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/07/12 06:27:12 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-panel-2.2.2.2
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-panel/2.2/}
a28 1
CONFDIR=		${SYSCONFDIR}/gnome
d32 1
a32 3
CONFIGURE_STYLE= 	gnu old
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--sysconfdir="${CONFDIR}"
a36 1
SUBST_VARS=		CONFDIR
a39 4

post-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnome-panel; \
	cp -Rp ${WRKINST}/${CONFDIR}/* ${PREFIX}/share/examples/gnome-panel/
@


1.3
log
@Don't try to use the custom scrollkeeper catalog anymore.  It's gone :).

Update *_DEPENDS version accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/06/12 20:09:35 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-panel-2.2.1
d22 1
a22 1
BUILD_DEPENDS= 		:pkgconfig->=0.12.0p1:devel/pkgconfig \
a36 1
CONFIGURE_ARGS+= 	--disable-rebuilds
@


1.2
log
@Update to 2.2.1 for Gnome 2.2.1.

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/01/31 19:05:23 todd Exp $
d23 2
a24 2
			:scrollkeeper->=0.3.11:textproc/scrollkeeper
RUN_DEPENDS=		:scrollkeeper->=0.3.11:textproc/scrollkeeper \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=		gnome-panel-2.0.11
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-panel/2.0/}
d29 1
d33 1
a33 1
CONFIGURE_STYLE= 	gnu
d35 1
d41 1
d48 1
a48 1
	cp -Rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/gnome-panel/
@


1.1.1.1
log
@Import gnome-panel-2.0.11
--
This package contains the GNOME panel which the area on your desktop
from which you can run applications and applets, and perform other
tasks.

The libpanel-applet library is also in this package. This library allows
one to develop small applications which may be embedded in the panel.
These are called applets. Several applets are also supplied - the
Workspace Switcher, the Window List, the Inbox Monitor, the Clock and
the infamous 'Wanda the Fish'.

From marcm for gnome2
@
text
@@
