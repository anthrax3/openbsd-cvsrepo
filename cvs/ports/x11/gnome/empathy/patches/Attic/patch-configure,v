head	1.10;
access;
symbols
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2;
locks; strict;
comment	@# @;


1.10
date	2014.04.03.12.23.33;	author jasper;	state dead;
branches;
next	1.9;

1.9
date	2014.03.27.19.04.23;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2013.06.01.18.56.08;	author ajacoutot;	state dead;
branches;
next	1.7;

1.7
date	2013.04.15.19.11.36;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2013.01.09.11.29.52;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2012.09.30.19.17.52;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2012.09.11.08.29.33;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.04.05.18.58.09;	author jasper;	state dead;
branches;
next	1.2;

1.2
date	2010.11.15.14.52.31;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.25.12.42.02;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.10
log
@it's been long enough that PkgConfig.pm was fixed
@
text
@$OpenBSD: patch-configure,v 1.9 2014/03/27 19:04:23 jasper Exp $

XXX: Workaround bug in pkg-config(1) where nothing is returned and it eats cpu.

--- configure.orig	Thu Mar 27 17:16:21 2014
+++ configure	Thu Mar 27 17:16:55 2014
@@@@ -16640,7 +16640,7 @@@@ fi
 if test "x$have_uoa" = "xyes" -o "x$have_goa" = "xyes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking Mission Control plugins dir" >&5
 $as_echo_n "checking Mission Control plugins dir... " >&6; }
-   MISSION_CONTROL_PLUGINS_DIR=`pkg-config --define-variable=libdir='${libdir}' --variable=plugindir mission-control-plugins`
+   MISSION_CONTROL_PLUGINS_DIR=`pkg-config --variable=plugindir mission-control-plugins`
 
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $MISSION_CONTROL_PLUGINS_DIR" >&5
 $as_echo "$MISSION_CONTROL_PLUGINS_DIR" >&6; }
@


1.9
log
@- update to empathy-3.12.0
- drop unneeded CONFIGURE_ARGS
- add workaround to bug in pkg-config(1) which would cause it to eat all the cpu
  (to be investigated)
@
text
@d1 1
a1 1
$OpenBSD$
@


1.8
log
@Drop now uneeded patches.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.7 2013/04/15 19:11:36 jasper Exp $
d3 1
a3 1
Fix DATADIRNAME: see LOCALBASE/share/aclocal/{glib-gettext.m4,intltool.m4}
d5 8
a12 4
--- configure.orig	Mon Apr 15 17:06:22 2013
+++ configure	Mon Apr 15 21:02:08 2013
@@@@ -15581,6 +15581,9 @@@@ else
 fi
d14 2
a15 7
     ;;
+    *-*-openbsd*)
+    DATADIRNAME=share
+    ;;
     *)
     DATADIRNAME=lib
     ;;
@


1.7
log
@- update to empathy-3.8.1
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.6 2013/01/09 11:29:52 jasper Exp $
@


1.6
log
@- update to empathy-3.6.3
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.5 2012/09/30 19:17:52 jasper Exp $
d5 3
a7 3
--- configure.orig	Wed Jan  9 11:23:43 2013
+++ configure	Wed Jan  9 12:11:22 2013
@@@@ -15565,6 +15565,9 @@@@ else
@


1.5
log
@- update to empathy-3.6.0
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.4 2012/09/11 08:29:33 ajacoutot Exp $
d5 3
a7 3
--- configure.orig	Tue Sep 25 08:56:54 2012
+++ configure	Sun Sep 30 19:00:36 2012
@@@@ -15521,6 +15521,9 @@@@ else
@


1.4
log
@Explicitely patch for DATADIRNAME; the hack from the gnome MODULE will
be removed soon.
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- configure.orig	Mon May 14 13:24:27 2012
+++ configure	Tue Sep 11 10:15:36 2012
@@@@ -15148,6 +15148,9 @@@@ else
@


1.3
log
@- update empathy to 2.34.0
- explicitly disable call support
- tighten dependencies after telepathy updates
- adjust to the libnotify we have intree, instead of forcing usage of the latest

ok aja@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.2 2010/11/15 14:52:31 ajacoutot Exp $
d3 1
a3 2
Bug 627126 - gsettings schema files don't get installed on FreeBSD
glib commit 136e705e8383ff8848e425ac01278102d7badc52
d5 4
a8 3
--- configure.orig	Mon Nov 15 14:34:05 2010
+++ configure	Mon Nov 15 15:07:49 2010
@@@@ -13387,22 +13387,10 @@@@ install-data-am: install-gsettings-schemas
d10 7
a16 23
 .SECONDARY: $(gsettings_SCHEMAS)
 
-gsettings__base_list = \
-  sed "$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\n/ /g" | \
-  sed "$$!N;$$!N;$$!N;$$!N;s/\n/ /g"
-
-install-gsettings-schemas: $(gsettings_SCHEMAS:.xml=.valid)
+install-gsettings-schemas: $(gsettings_SCHEMAS) $(gsettings__enum_file)
 	@@$(NORMAL_INSTALL)
 	test -z "$(gsettingsschemadir)" || $(MKDIR_P) "$(DESTDIR)$(gsettingsschemadir)"
-	@@list='\''$(gsettings_SCHEMAS)'\''; test -n "$(gsettingsschemadir)" || list=; \
-	for p in $$list; do \
-	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
-	  echo "$$d$$p"; \
-	done | $(gsettings__base_list) | \
-	while read files; do \
-	  echo " $(INSTALL_DATA) $$files '\''$(DESTDIR)$(gsettingsschemadir)'\''"; \
-	  $(INSTALL_DATA) $$files "$(DESTDIR)$(gsettingsschemadir)" || exit $$?; \
-	done
+	$(INSTALL_DATA) $^ "$(DESTDIR)$(gsettingsschemadir)"
 	test -n "$(GSETTINGS_DISABLE_SCHEMAS_COMPILE)$(DESTDIR)" || $(GLIB_COMPILE_SCHEMAS) $(gsettingsschemadir)
 
 uninstall-gsettings-schemas:
@


1.2
log
@Bugfix update to empathy-2.32.1.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.1 2010/10/25 12:42:02 jasper Exp $
@


1.1
log
@- WIP update empathy to 2.32.0.1
- re-enable logger

feedback/ok aja@@
@
text
@d1 1
a1 1
$OpenBSD$
d6 3
a8 3
--- configure.orig	Sun Oct 24 19:32:08 2010
+++ configure	Sun Oct 24 19:32:44 2010
@@@@ -13422,22 +13422,10 @@@@ install-data-am: install-gsettings-schemas
@

