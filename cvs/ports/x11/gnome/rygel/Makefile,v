head	1.73;
access;
symbols
	OPENBSD_6_0:1.73.0.2
	OPENBSD_6_0_BASE:1.73
	OPENBSD_5_9:1.68.0.2
	OPENBSD_5_9_BASE:1.68
	OPENBSD_5_8:1.66.0.4
	OPENBSD_5_8_BASE:1.66
	OPENBSD_5_7:1.59.0.2
	OPENBSD_5_7_BASE:1.59
	OPENBSD_5_6:1.57.0.2
	OPENBSD_5_6_BASE:1.57
	OPENBSD_5_5:1.48.0.2
	OPENBSD_5_5_BASE:1.48
	OPENBSD_5_4:1.37.0.2
	OPENBSD_5_4_BASE:1.37
	OPENBSD_5_3:1.30.0.2
	OPENBSD_5_3_BASE:1.30
	OPENBSD_5_2:1.19.0.2
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.2
	jasper_20112009:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.73
date	2016.05.25.07.00.52;	author jasper;	state Exp;
branches;
next	1.72;
commitid	S8TsPwu6ToqY9wH1;

1.72
date	2016.05.09.18.39.45;	author jasper;	state Exp;
branches;
next	1.71;
commitid	ILfzrLNwA2Xv5O6l;

1.71
date	2016.04.25.15.20.32;	author jasper;	state Exp;
branches;
next	1.70;
commitid	4OjSGLIAr6FMJEwq;

1.70
date	2016.03.18.23.12.21;	author naddy;	state Exp;
branches;
next	1.69;
commitid	KZAl4KEiw6a3Jixw;

1.69
date	2016.03.02.09.15.56;	author jasper;	state Exp;
branches;
next	1.68;
commitid	povMhrozIYGFqCFt;

1.68
date	2015.12.17.18.31.46;	author jasper;	state Exp;
branches;
next	1.67;
commitid	U1DJOxIdEFX9EiOm;

1.67
date	2015.10.26.12.09.27;	author jasper;	state Exp;
branches;
next	1.66;
commitid	9mds6Tui4QtzF2Rb;

1.66
date	2015.05.11.07.20.27;	author jasper;	state Exp;
branches;
next	1.65;
commitid	8wpWr42rlB3swq36;

1.65
date	2015.04.15.09.40.54;	author ajacoutot;	state Exp;
branches;
next	1.64;
commitid	dfR1rb9OtImYnGFF;

1.64
date	2015.04.04.09.21.07;	author ajacoutot;	state Exp;
branches;
next	1.63;
commitid	kS3kwKZogsvzYmEY;

1.63
date	2015.04.03.17.22.44;	author jasper;	state Exp;
branches;
next	1.62;
commitid	DhSNMzqYYGPh9Z5F;

1.62
date	2015.03.28.18.04.49;	author ajacoutot;	state Exp;
branches;
next	1.61;
commitid	QNzrP1PS6qVTyXoF;

1.61
date	2015.03.27.08.16.17;	author ajacoutot;	state Exp;
branches;
next	1.60;
commitid	BUhOiEl2FUSRKwq7;

1.60
date	2015.03.19.15.06.48;	author jasper;	state Exp;
branches;
next	1.59;
commitid	hBl2rlxQYqsj8oIB;

1.59
date	2014.10.06.10.58.51;	author ajacoutot;	state Exp;
branches;
next	1.58;
commitid	SgasrybgQdqRWmzd;

1.58
date	2014.08.14.06.28.32;	author jasper;	state Exp;
branches;
next	1.57;
commitid	tUlyTRdlLEUjZoDJ;

1.57
date	2014.06.02.08.20.22;	author jasper;	state Exp;
branches;
next	1.56;
commitid	YHdHE1XSJ6kB4lxU;

1.56
date	2014.04.15.07.01.15;	author jasper;	state Exp;
branches;
next	1.55;

1.55
date	2014.04.02.09.36.14;	author jasper;	state Exp;
branches;
next	1.54;

1.54
date	2014.04.01.18.06.32;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2014.04.01.17.03.15;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2014.04.01.13.21.14;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2014.03.31.14.57.25;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2014.03.27.16.08.53;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2014.03.27.15.12.47;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2013.12.22.14.09.05;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2013.11.14.15.05.26;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2013.10.21.17.28.20;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2013.10.06.09.08.55;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2013.09.28.08.51.27;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2013.09.27.12.46.14;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2013.09.27.12.40.27;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2013.09.27.07.30.27;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2013.09.24.18.53.31;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2013.08.26.09.02.07;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2013.08.06.18.11.12;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2013.06.21.22.38.34;	author sthen;	state Exp;
branches;
next	1.36;

1.36
date	2013.05.31.15.35.08;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2013.05.13.10.39.37;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2013.04.17.13.39.21;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2013.04.12.11.37.46;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2013.03.29.16.24.00;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2013.03.11.11.46.11;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2013.02.06.15.55.09;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2012.12.22.16.56.37;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2012.11.30.12.54.45;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2012.11.30.12.13.04;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2012.11.13.16.16.28;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2012.11.13.10.17.35;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2012.10.25.14.22.03;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2012.10.12.14.40.04;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2012.09.29.10.52.28;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2012.09.28.17.21.29;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2012.08.12.20.51.02;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2012.06.15.08.30.20;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.06.14.17.32.38;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2012.06.14.07.06.41;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2012.04.29.15.26.21;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2012.03.29.07.01.07;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2012.02.23.09.40.47;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2012.02.23.08.32.46;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2012.01.19.10.48.33;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2011.12.12.15.55.54;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.12.03.22.17.16;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2011.11.04.09.56.29;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.10.22.08.06.47;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2011.10.16.19.23.35;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2011.10.09.10.11.26;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.09.28.09.47.47;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.09.27.12.57.07;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2011.09.26.18.54.58;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.09.26.18.28.16;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.09.20.21.14.49;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.09.20.21.14.49;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.73
log
@update to rygel-0.30.3
@
text
@# $OpenBSD: Makefile,v 1.72 2016/05/09 18:39:45 jasper Exp $

TRACKER_API=		1.0

COMMENT=		home media solution that allows easy media sharing

GNOME_PROJECT=		rygel
GNOME_VERSION=		0.30.3
API_V=			2.6

SHARED_LIBS +=  rygel-core-${API_V}         1.0      # .2.4
SHARED_LIBS +=  rygel-db-${API_V}           0.0      # .2.4
SHARED_LIBS +=  rygel-renderer-${API_V}     0.1      # .2.4
SHARED_LIBS +=  rygel-server-${API_V}       0.1      # .2.4
SHARED_LIBS +=  rygel-renderer-gst-${API_V} 0.0      # .2.4
SHARED_LIBS +=  rygel-ruih-2.0              0.0      # 1.0

CATEGORIES=		multimedia

# LGPLv2.1
PERMIT_PACKAGE_CDROM= 	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += c cairo cairo-gobject dbus-1 epoxy expat ffi fontconfig
WANTLIB += freetype gdk-3 gdk_pixbuf-2.0 gee-0.8 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 graphite2 gssdp-1.0 gstapp-1.0
WANTLIB += gstaudio-1.0 gstbase-1.0 gstpbutils-1.0 gstreamer-1.0
WANTLIB += gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 gupnp-1.0
WANTLIB += gupnp-av-1.0 gupnp-dlna-2.0 gupnp-dlna-gst-2.0 harfbuzz
WANTLIB += icudata icui18n icuuc kvm lzma m mediaart-2.0 orc-0.4
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs soup-2.4 sqlite3 unistring
WANTLIB += uuid xcb xcb-render xcb-shm xml2 z intl iconv
WANTLIB += tracker-sparql-${TRACKER_API}
WANTLIB += lib/tracker-${TRACKER_API}/tracker-common
WANTLIB += lib/tracker-${TRACKER_API}/tracker-data

MODULES=		x11/gnome

LIB_DEPENDS=		converters/libunistring \
			devel/libgee \
			net/gupnp/av \
			net/gupnp/dlna \
			x11/gnome/tracker>=${TRACKER_API}

MODGNOME_TOOLS= 	desktop-file-utils gobject-introspection \
			gtk-update-icon-cache vala

CONFIGURE_ARGS=		--with-media-engine=gstreamer \
			--enable-gst-launch-plugin \
			--enable-debug

FAKE_FLAGS=		sysconfdir=${PREFIX}/share/examples/rygel/

SUBST_VARS +=		API_V

post-install:
	rm ${PREFIX}/lib/rygel-${API_V}/{engines,plugins}/*.{a,la}
	chown -R ${SHAREOWN}:${SHAREGRP} ${PREFIX}/share/gtk-doc/html/

.include <bsd.port.mk>
@


1.72
log
@update to rygel-0.30.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2016/04/25 15:20:32 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.30.2
@


1.71
log
@update to rygel-0.30.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2016/03/18 23:12:21 naddy Exp $
d8 1
a8 1
GNOME_VERSION=		0.30.1
@


1.70
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2016/03/02 09:15:56 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.28.3
d34 1
a34 1
WANTLIB += uuid xcb xcb-render xcb-shm xml2 z
d39 1
a39 2
MODULES=		devel/gettext \
			x11/gnome
@


1.69
log
@update to rygel-0.28.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2015/12/17 18:31:46 jasper Exp $
a3 2

SHARED_ONLY=		Yes
@


1.68
log
@update to rygel-0.28.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2015/10/26 12:09:27 jasper Exp $
d10 1
a10 1
GNOME_VERSION=		0.28.2
@


1.67
log
@update to rygel-0.28.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2015/05/11 07:20:27 jasper Exp $
d10 1
a10 1
GNOME_VERSION=		0.28.1
@


1.66
log
@update to rygel-0.26.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2015/04/15 09:40:54 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		0.26.1
d13 6
a18 5
SHARED_LIBS +=  rygel-core-${API_V}         0.0      # .2.6
SHARED_LIBS +=  rygel-renderer-${API_V}     0.0      # .2.6
SHARED_LIBS +=  rygel-server-${API_V}       0.0      # .2.6
SHARED_LIBS +=  rygel-renderer-gst-${API_V} 0.0      # .2.6
SHARED_LIBS +=  rygel-ruih-2.0            0.0 # 1.0
@


1.65
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2015/04/04 09:21:07 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		0.26.0
a11 1
REVISION=		1
@


1.64
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2015/04/03 17:22:44 jasper Exp $
d12 1
a12 1
REVISION=		0
@


1.63
log
@update to rygel-0.26.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2015/03/28 18:04:49 ajacoutot Exp $
d12 1
@


1.62
log
@Build with mediaart-2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2015/03/27 08:16:17 ajacoutot Exp $
d10 2
a11 3
GNOME_VERSION=		0.24.3
API_V=			2.4
REVISION=		1
d13 5
a17 4
SHARED_LIBS +=  rygel-core-${API_V}         0.0      # .2.4
SHARED_LIBS +=  rygel-renderer-${API_V}     0.0      # .2.4
SHARED_LIBS +=  rygel-server-${API_V}       0.0      # .2.4
SHARED_LIBS +=  rygel-renderer-gst-${API_V} 0.0      # .2.4
@


1.61
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2015/03/19 15:06:48 jasper Exp $
d12 1
a12 1
REVISION=		0
d26 10
a35 9
WANTLIB += c cairo cairo-gobject dbus-1 expat ffi fontconfig freetype
WANTLIB += gdk-3 gdk_pixbuf-2.0 gee-0.8 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 graphite2 gssdp-1.0 gstapp-1.0 gstaudio-1.0
WANTLIB += gstbase-1.0 gstpbutils-1.0 gstreamer-1.0 gsttag-1.0
WANTLIB += gstvideo-1.0 gthread-2.0 gtk-3 gupnp-1.0 gupnp-av-1.0
WANTLIB += gupnp-dlna-2.0 gupnp-dlna-gst-2.0 harfbuzz icui18n lzma
WANTLIB += icuuc kvm m orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs soup-2.4 sqlite3
WANTLIB += unistring uuid xcb xcb-render xcb-shm xml2 z icudata mediaart-1.0
d52 1
a52 1
CONFIGURE_ARGS+=	--with-media-engine=gstreamer \
@


1.60
log
@update to rygel-0.24.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/10/06 10:58:51 ajacoutot Exp $
d12 1
@


1.59
log
@TRACKER_VERSION -> TRACKER_API
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/08/14 06:28:32 jasper Exp $
d10 2
a11 2
GNOME_VERSION=		0.22.3
API_V=			2.2
d13 4
a16 4
SHARED_LIBS +=  rygel-core-${API_V}         0.0      # .2.2
SHARED_LIBS +=  rygel-renderer-${API_V}     0.0      # .2.2
SHARED_LIBS +=  rygel-server-${API_V}       0.0      # .2.2
SHARED_LIBS +=  rygel-renderer-gst-${API_V} 0.0      # .2.2
d30 1
a30 1
WANTLIB += gupnp-dlna-2.0 gupnp-dlna-gst-2.0 harfbuzz icui18n
d33 1
a33 1
WANTLIB += unistring uuid xcb xcb-render xcb-shm xml2 z icudata
d47 6
a52 1
MODGNOME_TOOLS= 	desktop-file-utils gtk-update-icon-cache vala
@


1.58
log
@update to 0.22.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2014/06/02 08:20:22 jasper Exp $
d3 1
a3 1
TRACKER_VERSION=	1.0
d34 3
a36 3
WANTLIB += tracker-sparql-${TRACKER_VERSION}
WANTLIB += lib/tracker-${TRACKER_VERSION}/tracker-common
WANTLIB += lib/tracker-${TRACKER_VERSION}/tracker-data
d45 1
a45 1
			x11/gnome/tracker>=${TRACKER_VERSION}
d47 1
a47 1
MODGNOME_TOOLS += 	desktop-file-utils gtk-update-icon-cache vala
@


1.57
log
@update to rygel-0.22.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2014/04/15 07:01:15 jasper Exp $
d10 1
a10 1
GNOME_VERSION=		0.22.2
@


1.56
log
@update to rygel-0.22.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/04/02 09:36:14 jasper Exp $
d10 1
a10 1
GNOME_VERSION=		0.22.1
@


1.55
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/04/01 18:06:32 jasper Exp $
d10 1
a10 1
GNOME_VERSION=		0.22.0
a11 1
REVISION=		1
@


1.54
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/04/01 17:03:15 jasper Exp $
d48 2
a49 1
MODGNOME_TOOLS += desktop-file-utils  gtk-update-icon-cache vala
@


1.53
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2014/04/01 13:21:14 ajacoutot Exp $
d48 1
a48 4
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS +=	gtk-update-icon-cache
MODGNOME_TOOLS=		vala

@


1.52
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 1/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2014/03/31 14:57:25 ajacoutot Exp $
d48 2
a49 2
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
@


1.51
log
@Make it use our libtool(1) so that with the recent rpath fix it can properly
load tracker libs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2014/03/27 16:08:53 jasper Exp $
d12 1
a12 1
REVISION=		0
a51 4
LIBTOOL_FLAGS=		--tag=disable-static

CONFIGURE_ARGS+=	--disable-static

d57 1
a57 1
	rm ${PREFIX}/lib/rygel-${API_V}/{engines,plugins}/*.la
@


1.50
log
@update to rygel-0.22.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2014/03/27 15:12:47 ajacoutot Exp $
d12 1
a50 3

# XXX undefined reference to `memset'
USE_LIBTOOL=		gnu
@


1.49
log
@Bump TRACKER_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/12/22 14:09:05 jasper Exp $
d10 2
a11 2
GNOME_VERSION=		0.20.3
REVISION=		0
d13 4
a16 4
SHARED_LIBS +=  rygel-core-2.0         0.0      # .1.0
SHARED_LIBS +=  rygel-renderer-2.0     0.0      # .1.0
SHARED_LIBS +=  rygel-server-2.0       0.0      # .1.0
SHARED_LIBS +=  rygel-renderer-gst-2.0 0.0      # .1.0
d60 2
d63 2
a64 1
	rm ${PREFIX}/lib/rygel-2.0/{engines,plugins}/*.la
@


1.48
log
@update to rygel-0.20.3
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.47 2013/11/14 15:05:26 jasper Exp $
d11 1
a16 2

TRACKER_VERSION=	0.16
@


1.47
log
@update to rygel-0.20.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/10/21 17:28:20 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		0.20.2
@


1.46
log
@update to rygel-0.20.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/10/06 09:08:55 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.20.1
d32 1
a32 1
WANTLIB += unistring uuid xcb xcb-render xcb-shm xml2 z
@


1.45
log
@Regen WANTLIB after orc got put back into gstreamer1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/09/28 08:51:27 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		0.20.0
REVISION=		1
@


1.44
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/09/27 12:46:14 jasper Exp $
d9 1
a9 1
REVISION=		0
d31 1
a31 1
WANTLIB += icuuc kvm m pango-1.0 pangocairo-1.0 pangoft2-1.0
@


1.43
log
@cvs eated my Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/09/27 12:40:27 jasper Exp $
d9 1
a18 2

HOMEPAGE=		http://live.gnome.org/Rygel
@


1.42
log
@tweak
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/09/27 07:30:27 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		0.18.4
REVISION=		0
@


1.41
log
@Remove SUBST_VARS when not needed.
Move the dependant ports versions at the top.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.40 2013/09/24 18:53:31 ajacoutot Exp $

TRACKER_VERSION=	0.16
d15 2
@


1.40
log
@Fix WANTLIB after recent gstreamer1 update.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.39 2013/08/26 09:02:07 ajacoutot Exp $
a16 2

TRACKER_VERSION=	0.16
@


1.39
log
@Update to rygel-0.18.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/08/06 18:11:12 jasper Exp $
d9 1
d33 1
a33 1
WANTLIB += icuuc kvm m orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0
@


1.38
log
@update to rygel-0.18.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/06/21 22:38:34 sthen Exp $
d8 1
a8 1
GNOME_VERSION=		0.18.3
d26 10
a35 10
WANTLIB += c cairo cairo-gobject dbus-1 uuid expat ffi fontconfig
WANTLIB += freetype gdk-3 gdk_pixbuf-2.0 gee-0.8 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 graphite2 gssdp-1.0 gstapp-1.0
WANTLIB += gstaudio-1.0 gstbase-1.0 gstpbutils-1.0 gstreamer-1.0
WANTLIB += gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 gupnp-1.0
WANTLIB += gupnp-av-1.0 gupnp-dlna-2.0 gupnp-dlna-gst-2.0 harfbuzz
WANTLIB += icui18n kvm m orc-0.4 pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs soup-2.4 sqlite3 tracker-sparql-${TRACKER_VERSION}
WANTLIB += unistring xcb xcb-render xcb-shm xml2 z
@


1.37
log
@sync WANTLIB and remove patches to handle e2fsprogs/libuuid changes. ok aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/05/31 15:35:08 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		0.18.2
REVISION=		1
@


1.36
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/05/13 10:39:37 jasper Exp $
d9 1
a9 1
REVISION=		0
d27 1
a27 1
WANTLIB += c cairo cairo-gobject dbus-1 e2fs-uuid expat ffi fontconfig
@


1.35
log
@update to rygel 0.18.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/04/17 13:39:21 jasper Exp $
d9 1
d33 1
a33 1
WANTLIB += icudata icui18n icule icuuc kvm m orc-0.4 pango-1.0
@


1.34
log
@update to rygel-0.18.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/04/12 11:37:46 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.18.1
@


1.33
log
@Update to rygel-0.18.0 and unbreak.
Use a working libtool(1), i.e. the GNU one.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/03/29 16:24:00 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.18.0
@


1.32
log
@Mark broken for now.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.31 2013/03/11 11:46:11 espie Exp $

BROKEN=			needs an update
d8 1
a8 2
GNOME_VERSION=		0.16.4
REVISION=		0
d10 4
a13 3
SHARED_LIBS +=	rygel-core-1.0            0.0 # 0.0
SHARED_LIBS +=	rygel-renderer-1.0        0.0 # 0.0
SHARED_LIBS +=	rygel-server-1.0          0.0 # 0.0
d15 1
a15 1
TRACKER_VERSION=	0.14
d24 12
a35 12
WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 c cairo
WANTLIB += cairo-gobject e2fs-uuid expat ffi fontconfig freetype
WANTLIB += gdk-3 gdk_pixbuf-2.0 gee gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gssdp-1.0 gstapp-0.10 gstbase-0.10 gstpbutils-0.10
WANTLIB += gstreamer-0.10 gsttag-0.10 gstvideo-0.10 gthread-2.0
WANTLIB += gtk-3 gupnp-1.0 gupnp-av-1.0 gupnp-dlna-1.0 m orc-0.4
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs soup-2.4 sqlite3
WANTLIB += xcb xcb-render xcb-shm xml2 z unistring icui18n
WANTLIB += ICE SM atk-bridge-2.0 atspi dbus-1 harfbuzz icudata
WANTLIB += icule icuuc kvm tracker-sparql-${TRACKER_VERSION}
d43 1
a43 1
			devel/libgee06 \
a45 1
			x11/gtk+3 \
d50 4
a53 1
#MODGNOME_TOOLS=	vala
d57 1
a57 7
CONFIGURE_ARGS+=	--disable-static \
			--enable-mpris-plugin \
			--enable-media-export-plugin \
			--enable-gst-launch-plugin \
			--enable-external-plugin \
			--enable-tracker-plugin \
			--disable-mediathek-plugin
d59 1
a59 1
FAKE_FLAGS+=		sysconfdir=${PREFIX}/share/examples/rygel/
d62 1
a62 1
	rm ${PREFIX}/lib/rygel-1.0/*.la
@


1.31
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.30 2013/02/06 15:55:09 ajacoutot Exp $
@


1.30
log
@Sync depends after recent meta-tracker update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2012/12/22 16:56:37 jasper Exp $
a22 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.29
log
@- update to rygel-0.16.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/11/30 12:54:45 ajacoutot Exp $
d9 1
d27 3
a29 3
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c cairo
WANTLIB += cairo-gobject drm e2fs-uuid expat ffi fontconfig freetype
d35 1
a35 1
WANTLIB += png pthread pthread-stubs soup-2.4 sqlite3 stdc++
@


1.28
log
@Add commented MODGNOME_TOOLS since it'll be needed on next release... so
that we don't forget.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2012/11/30 12:13:04 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		0.16.3
REVISION=		0
@


1.27
log
@- no need for vala here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/11/13 16:16:28 jasper Exp $
d54 1
@


1.26
log
@- update to rygel-0.16.3

ok lajoie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/11/13 10:17:35 jasper Exp $
d9 1
a44 2
BUILD_DEPENDS=		net/gupnp/vala>=0.10.0
RUN_DEPENDS=		net/gupnp/vala>=0.10.0
a53 1
MODGNOME_TOOLS= 	vala
@


1.25
log
@- update to rygel-0.16.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/10/25 14:22:03 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.16.2
@


1.24
log
@Unbreak: sync WANTLIB after meta-tracker lost its dependency on libunistring.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/10/12 14:40:04 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		0.16.1
REVISION=		0
@


1.23
log
@- update to rygel-0.16.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/09/29 10:52:28 ajacoutot Exp $
d9 1
d35 2
a36 2
WANTLIB += png pthread pthread-stubs soup-2.4 sqlite3 stdc++ unistring
WANTLIB += xcb xcb-render xcb-shm xml2 z
@


1.22
log
@@@comment -> post-install rm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/09/28 17:21:29 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		0.16.0
REVISION=		1
@


1.21
log
@- update to rygel-0.16.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/08/12 20:51:02 jasper Exp $
d9 1
d69 3
@


1.20
log
@- update to 0.14.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/06/15 08:30:20 ajacoutot Exp $
d8 7
a14 1
GNOME_VERSION=		0.14.3
d36 4
d50 2
a51 1
			x11/gtk+3
@


1.19
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/06/14 17:32:38 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		0.14.2
REVISION=		1
@


1.18
log
@- use libunistring now that it's available
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/06/14 07:06:41 jasper Exp $
d9 1
a9 1
REVISION=		0
@


1.17
log
@- update to 0.14.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/04/29 15:26:21 jasper Exp $
d9 1
d29 2
a30 2
WANTLIB += png pthread pthread-stubs soup-2.4 sqlite3 stdc++ xcb
WANTLIB += xcb-render xcb-shm xml2 z
d37 2
a38 1
LIB_DEPENDS=		devel/libgee06 \
@


1.16
log
@- update to 0.14.1
* various bugfixes and translation updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/03/29 07:01:07 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.14.1
@


1.15
log
@Update to rygel-0.14.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/02/23 09:40:47 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.14.0
@


1.14
log
@Actually merge the tracker plugin; it doesn't bring any dependency on
meta-tracker since it uses DBus to activate tracker-store and if it's
not there, then it will automatically disable the plugin.
It's way simpler this way, my fault...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/02/23 08:32:46 ajacoutot Exp $
d8 1
a8 3
GNOME_VERSION=		0.12.7

REVISION=		1
d36 1
a36 1
LIB_DEPENDS=		devel/libgee \
@


1.13
log
@Add a subpackage for the (meta-)tracker plugin.
Set SHARED_ONLY.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/01/19 10:48:33 ajacoutot Exp $
d5 1
a5 2
COMMENT-main=		home media solution that allows easy media sharing
COMMENT-tracker=	(meta-)tracker plugin for rygel(1)
d10 1
a10 4
PKGNAME-main=		${DISTNAME}
PKGNAME-tracker=	${GNOME_PROJECT}-meta-tracker-${GNOME_VERSION}

REVISION-main=		0
d22 11
a35 10
WANTLIB += e2fs-uuid ffi gee gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gssdp-1.0 gstbase-0.10 gstpbutils-0.10 gstreamer-0.10
WANTLIB += gstvideo-0.10 gthread-2.0 gupnp-1.0 gupnp-av-1.0 gupnp-dlna-1.0
WANTLIB += m orc-0.4 pcre soup-2.4 xml2 z

MULTI_PACKAGES=		-main

PSEUDO_FLAVORS=		no_tracker
FLAVOR ?=

d37 1
d40 1
a40 11
			net/gupnp/dlna

WANTLIB-main += ${WANTLIB}
WANTLIB-main += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB-main += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c cairo
WANTLIB-main += cairo-gobject drm expat fontconfig freetype gdk-3 gdk_pixbuf-2.0
WANTLIB-main += gstapp-0.10 gsttag-0.10 gtk-3 pango-1.0 pangocairo-1.0
WANTLIB-main += pangoft2-1.0 pixman-1 png pthread pthread-stubs sqlite3
WANTLIB-main += stdc++ xcb xcb-render xcb-shm

LIB_DEPENDS-main=	${LIB_DEPENDS} \
a41 3
RUN_DEPENDS-main=	${MODGETTEXT_RUN_DEPENDS} \
			${MODGNOME_RUN_DEPENDS} \
			net/gupnp/vala>=0.10.0
d54 2
a55 2
			--disable-mediathek-plugin \
			--disable-tracker-plugin
a57 11

.if ${FLAVOR:Mno_tracker}
CONFIGURE_ARGS +=	--disable-tracker-plugin
.else
MULTI_PACKAGES +=	-tracker
CONFIGURE_ARGS +=	--enable-tracker-plugin
LIB_DEPENDS-tracker +=	${LIB_DEPENDS}
RUN_DEPENDS-tracker=	${MODGETTEXT_RUN_DEPENDS} \
			x11/gnome/tracker # org.freedesktop.Tracker
WANTLIB-tracker += ${WANTLIB}
.endif
@


1.12
log
@Bugfix update to rygel-0.12.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/12/12 15:55:54 jasper Exp $
d3 4
a6 1
COMMENT=		home media solution that allows easy media sharing
d11 5
d29 9
a37 10
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c cairo
WANTLIB += cairo-gobject drm e2fs-uuid expat ffi fontconfig freetype
WANTLIB += gdk-3 gdk_pixbuf-2.0 gee gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gssdp-1.0 gstapp-0.10 gstbase-0.10 gstpbutils-0.10
WANTLIB += gstreamer-0.10 gsttag-0.10 gstvideo-0.10 gthread-2.0
WANTLIB += gtk-3 gupnp-1.0 gupnp-av-1.0 gupnp-dlna-1.0 m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs soup-2.4 sqlite3 xcb xcb-render xcb-shm
WANTLIB += xml2 z stdc++
d39 1
d42 11
a52 1
			net/gupnp/dlna \
d54 3
a56 2
BUILD_DEPENDS=		${RUN_DEPENDS}
RUN_DEPENDS=		net/gupnp/vala>=0.10.0
d62 4
a65 1
CONFIGURE_ARGS+=	--enable-mpris-plugin \
d73 11
@


1.11
log
@- update to 0.12.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/12/03 22:17:16 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		0.12.6
@


1.10
log
@Use MODGNOME_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/11/04 09:56:29 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		0.12.5
REVISION=		1
@


1.9
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/10/22 08:06:47 jasper Exp $
d7 1
a7 1
REVISION=		0
d41 1
@


1.8
log
@- update to 0.12.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/10/16 19:23:35 ajacoutot Exp $
d7 1
d31 1
a31 1
WANTLIB += xml2 z
@


1.7
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/10/09 10:11:26 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		0.12.4
REVISION=		0
@


1.6
log
@- update to 0.12.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/09/28 09:47:47 jasper Exp $
d7 1
d28 1
a28 1
WANTLIB += gtk-3 gupnp-1.0 gupnp-av-1.0 gupnp-dlna-1.0 kvm m pango-1.0
@


1.5
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/09/27 12:57:07 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		0.12.3
@


1.4
log
@- update to 0.12.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/09/26 18:54:58 jasper Exp $
a47 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.3
log
@regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/09/26 18:28:16 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		0.12.2
REVISION=		1
@


1.2
log
@- enable mediaexport plugin so rygel can act as a media server. in addition
  to merely (dis)playing media it can now stream to dlna clients too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/09/20 21:14:49 jasper Exp $
d7 1
a7 1
REVISION=		0
d24 1
a24 1
WANTLIB += cairo-gobject drm e2fs-uuid expat fontconfig freetype
d26 6
a31 5
WANTLIB += gobject-2.0 gssdp-1.0 gstbase-0.10 gstpbutils-0.10
WANTLIB += gstreamer-0.10 gstvideo-0.10 gthread-2.0 gtk-3 gupnp-1.0
WANTLIB += gupnp-av-1.0 gupnp-dlna-1.0 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += soup-2.4 stdc++ xcb xcb-render xcb-shm xml2 z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
d43 1
a43 1
			--disable-media-export-plugin \
@


1.1.1.1
log
@import rygel 0.12.2

Rygel is a home media solution that allows you to easily share audio,
video and pictures, and control of media player on your home network. In
technical terms it is both a UPnP AV MediaServer and MediaRenderer
implemented through a plug-in mechanism. Interoperability with other
devices in the market is achieved by conformance to very strict
requirements of DLNA and on the fly conversion of media to format that
client devices are capable of handling.

succesfully tested with streaming to and from (and looping) with android and
rygel and rhythmbox

ok aja@@
@
text
@@
