head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2012.05.30.12.52.48;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2012.05.18.15.29.26;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Remove this patch; it's not needed anymore.
@
text
@$OpenBSD: patch-eel_eel-editable-label_c,v 1.1 2012/05/18 15:29:26 ajacoutot Exp $

https://bugzilla.gnome.org/show_bug.cgi?id=676171

--- eel/eel-editable-label.c.orig	Mon May 14 21:37:55 2012
+++ eel/eel-editable-label.c	Fri May 18 15:39:09 2012
@@@@ -1598,8 +1598,9 @@@@ eel_editable_label_draw (GtkWidget *widget,
 	  gdk_cairo_region (cr, clip);
 	  cairo_clip (cr);
 
-          state = gtk_widget_get_state_flags (widget);
-	  state |= GTK_STATE_FLAG_SELECTED;
+	  state = GTK_STATE_FLAG_SELECTED;
+	  if (!gtk_widget_has_focus (widget))
+	    state = GTK_STATE_FLAG_ACTIVE;
 
           gtk_style_context_get_background_color (style, state, &background_color);
 	  gdk_cairo_set_source_rgba (cr, &background_color);
@


1.1
log
@Revert upstream commit:
"editable-label: fix selection color in backdrop state
Don't set the ACTIVE flag if we don't have focus, it just doesn't make
sense."

It actually makes sense when nautilus is used to draw the Desktop when
running in fallback mode (we probably are the only ones running this
way...).
@
text
@d1 1
a1 1
$OpenBSD$
@

