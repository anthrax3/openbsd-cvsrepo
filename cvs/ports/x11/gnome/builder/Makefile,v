head	1.53;
access;
symbols
	OPENBSD_6_1:1.43.0.2
	OPENBSD_6_1_BASE:1.43
	OPENBSD_6_0:1.23.0.2
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.15.0.2
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.11.0.4
	OPENBSD_5_8_BASE:1.11
	ajacoutot_20150406:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.53
date	2017.07.26.22.45.32;	author sthen;	state Exp;
branches;
next	1.52;
commitid	tD4MFrpYYDDL2UFT;

1.52
date	2017.05.31.08.08.17;	author espie;	state Exp;
branches;
next	1.51;
commitid	ij92FtFXiSiT1ani;

1.51
date	2017.05.28.18.58.11;	author espie;	state Exp;
branches;
next	1.50;
commitid	DQ5oOx53ySq71Dm0;

1.50
date	2017.05.16.07.43.48;	author ajacoutot;	state Exp;
branches;
next	1.49;
commitid	Jm7mEaaLdNHDFetQ;

1.49
date	2017.05.13.17.55.01;	author espie;	state Exp;
branches;
next	1.48;
commitid	7QCIYShJqW6ZBJGL;

1.48
date	2017.05.09.08.35.56;	author ajacoutot;	state Exp;
branches;
next	1.47;
commitid	ZnxRkerLRWuCu0rs;

1.47
date	2017.04.17.14.45.58;	author ajacoutot;	state Exp;
branches;
next	1.46;
commitid	53e7ZrI1QZeuIRTe;

1.46
date	2017.04.13.07.38.44;	author ajacoutot;	state Exp;
branches;
next	1.45;
commitid	lvCz8KVE6EBCyLTt;

1.45
date	2017.04.13.07.07.44;	author jasper;	state Exp;
branches;
next	1.44;
commitid	24xvI2AjxU2PIFfg;

1.44
date	2017.04.10.11.46.35;	author sthen;	state Exp;
branches;
next	1.43;
commitid	HY6VNZxjJWzKQFDV;

1.43
date	2017.03.29.13.27.12;	author ajacoutot;	state Exp;
branches;
next	1.42;
commitid	fUFr8G3En9VWAQry;

1.42
date	2017.02.18.17.33.51;	author ajacoutot;	state Exp;
branches;
next	1.41;
commitid	kjw4RQ4AAUYktD89;

1.41
date	2017.02.18.17.32.37;	author ajacoutot;	state Exp;
branches;
next	1.40;
commitid	bw6Y0vDo3oixdVWL;

1.40
date	2017.01.08.01.59.49;	author bluhm;	state Exp;
branches;
next	1.39;
commitid	efHcaUYSnTGDJXAL;

1.39
date	2017.01.03.18.54.48;	author shadchin;	state Exp;
branches;
next	1.38;
commitid	4wXCEmNOFtHPEQ29;

1.38
date	2016.12.22.09.02.49;	author ajacoutot;	state Exp;
branches;
next	1.37;
commitid	PRVACtHm0yVqOyMU;

1.37
date	2016.12.17.09.51.37;	author ajacoutot;	state Exp;
branches;
next	1.36;
commitid	y40lCpBVsSrWmab7;

1.36
date	2016.11.29.09.10.49;	author ajacoutot;	state Exp;
branches;
next	1.35;
commitid	DPyL8LWKmuy0lDH0;

1.35
date	2016.11.15.08.48.28;	author ajacoutot;	state Exp;
branches;
next	1.34;
commitid	pQrNIzXPARznScTh;

1.34
date	2016.11.12.16.27.58;	author ajacoutot;	state Exp;
branches;
next	1.33;
commitid	kJASZfETZfVYifbv;

1.33
date	2016.11.08.14.38.55;	author sthen;	state Exp;
branches;
next	1.32;
commitid	4jMmnWqLI4QHPBZh;

1.32
date	2016.11.05.17.42.53;	author ajacoutot;	state Exp;
branches;
next	1.31;
commitid	B6nMilV92Hngn3Qc;

1.31
date	2016.11.04.11.35.21;	author sthen;	state Exp;
branches;
next	1.30;
commitid	Gg5LRcnQlqj5M3F7;

1.30
date	2016.11.03.10.37.34;	author ajacoutot;	state Exp;
branches;
next	1.29;
commitid	dU5kkmXmG4bXiaNi;

1.29
date	2016.11.02.08.13.58;	author ajacoutot;	state Exp;
branches;
next	1.28;
commitid	Tvyrlx5LMsat6ijc;

1.28
date	2016.11.02.07.36.52;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	oxYdQXvbEPr2VsbE;

1.27
date	2016.11.01.22.26.34;	author ajacoutot;	state Exp;
branches;
next	1.26;
commitid	IRXsn9v4hAPIghJr;

1.26
date	2016.10.31.15.02.09;	author ajacoutot;	state Exp;
branches;
next	1.25;
commitid	ENJnbICg1uCpQaeS;

1.25
date	2016.10.29.11.55.28;	author jasper;	state Exp;
branches;
next	1.24;
commitid	xMBDYBobMImhkPwp;

1.24
date	2016.10.29.08.26.11;	author jasper;	state Exp;
branches;
next	1.23;
commitid	rzTHI6nx0ckrgaMa;

1.23
date	2016.05.06.16.26.20;	author ajacoutot;	state Exp;
branches;
next	1.22;
commitid	TOSRJkgd1viLmKW8;

1.22
date	2016.05.05.09.31.41;	author ajacoutot;	state Exp;
branches;
next	1.21;
commitid	pqsY2ybxmHFVXIfz;

1.21
date	2016.05.03.06.16.17;	author ajacoutot;	state Exp;
branches;
next	1.20;
commitid	LVHdWOmiY3YebzZd;

1.20
date	2016.04.28.11.18.10;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	JKezImRd6scnbbaZ;

1.19
date	2016.04.27.14.32.28;	author ajacoutot;	state Exp;
branches;
next	1.18;
commitid	p5oGN0WDOAMwXzvi;

1.18
date	2016.04.27.14.22.19;	author sthen;	state Exp;
branches;
next	1.17;
commitid	cIcDO7QWjM5BCvp3;

1.17
date	2016.04.26.09.53.54;	author ajacoutot;	state Exp;
branches;
next	1.16;
commitid	b5smzb3FJr9JACvc;

1.16
date	2016.03.20.16.12.26;	author naddy;	state Exp;
branches;
next	1.15;
commitid	guiZq8cnNbVyyHzx;

1.15
date	2015.10.30.12.59.17;	author sthen;	state Exp;
branches;
next	1.14;
commitid	vVZOehVa6DiEPxJL;

1.14
date	2015.10.17.08.35.49;	author ajacoutot;	state Exp;
branches;
next	1.13;
commitid	se34YdjY0uDqLtM9;

1.13
date	2015.10.16.20.36.34;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	oQJKYB0twk0v8YPU;

1.12
date	2015.10.14.19.08.08;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	buMRRtF1OBYx94Ew;

1.11
date	2015.06.29.06.51.31;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	PhsXgkw4dEgn2ee6;

1.10
date	2015.05.28.10.17.25;	author pascal;	state Exp;
branches;
next	1.9;
commitid	020U4lCPk8wUkCOz;

1.9
date	2015.05.20.13.35.30;	author sthen;	state Exp;
branches;
next	1.8;
commitid	83jcLfnUnV2qtyJK;

1.8
date	2015.05.18.21.07.24;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	KFDR6JY6FUEsLnFT;

1.7
date	2015.05.18.10.06.45;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	CYevjixZkhHkXTp3;

1.6
date	2015.05.15.13.54.27;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	cr7WWFSpVXOteDKM;

1.5
date	2015.05.15.13.48.09;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	KU9XybLySarHeLvr;

1.4
date	2015.04.17.04.30.49;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	IJFp4nzwJKRmfnf3;

1.3
date	2015.04.15.09.40.53;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	dfR1rb9OtImYnGFF;

1.2
date	2015.04.14.07.52.24;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	lx5MU8quQSAu9fQT;

1.1
date	2015.04.06.10.06.09;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;
commitid	Tgfz9PuAlrWIkstX;

1.1.1.1
date	2015.04.06.10.06.09;	author ajacoutot;	state Exp;
branches;
next	;
commitid	Tgfz9PuAlrWIkstX;


desc
@@


1.53
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.52 2017/05/31 08:08:17 espie Exp $

COMMENT=		IDE for GNOME

GNOME_PROJECT=		gnome-builder
GNOME_VERSION=		3.24.2
REVISION=		1

SHARED_LIBS +=	egg-private               0.0 # 0.0
SHARED_LIBS +=  panel-gtk                 0.0 # 0.0
SHARED_LIBS +=	rg                        0.0 # 0.0
SHARED_LIBS +=	search                    0.0 # 0.0
SHARED_LIBS +=  template-glib-1.0         0.0 # 0.0
SHARED_LIBS +=  gstyle-private            0.0 # 0.0
SHARED_LIBS +=  gd-private                0.0 # 0.0
SHARED_LIBS +=  jsonrpc-glib              0.0 # 0.0
SHARED_LIBS +=  xml-private               0.0 # 0.0

CATEGORIES=		devel

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += EGL GL ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm atk-1.0
WANTLIB += atk-bridge-2.0 atspi c cairo cairo-gobject clang crypto
WANTLIB += curl dbus-1 devhelp-3 drm enchant epoxy expat ffi fontconfig
WANTLIB += freetype gbm gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0
WANTLIB += git2 git2-glib-1.0 glapi glib-2.0 gmodule-2.0 gmp gnutls
WANTLIB += gobject-2.0 gpg-error graphite2 gspell-1 gstapp-1.0
WANTLIB += gstaudio-1.0 gstbase-1.0 gstfft-1.0 gstpbutils-1.0
WANTLIB += gstreamer-1.0 gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3
WANTLIB += gtksourceview-3.0 harfbuzz harfbuzz-icu hogweed hyphen
WANTLIB += iconv icudata icui18n icuuc idn2 intl javascriptcoregtk-4.0
WANTLIB += jpeg json-glib-1.0 lzma m nettle nghttp2 notify orc-0.4
WANTLIB += p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pcre2-8 peas-1.0 pixman-1 png pthread pthread-stubs
WANTLIB += secret-1 soup-2.4 sqlite3 ssh2 ssl ${LIBCXX} tasn1
WANTLIB += unistring vala-0.36 vte-2.91 webkit2gtk-4.0 webp xcb
WANTLIB += xcb-dri2 xcb-glx xcb-render xcb-shm xcb-xfixes xml2
WANTLIB += xslt z

MODULES=		devel/dconf \
			lang/python \
			x11/gnome

# sync with devel/spidermonkey
COMPILER =		gcc

MODPY_VERSION=		${MODPY_DEFAULT_VERSION_3}

MODGNOME_TOOLS=		desktop-file-utils gobject-introspection \
			gtk-update-icon-cache vala yelp

BUILD_DEPENDS=		devel/ectags \
			devel/mm-common

RUN_DEPENDS=		devel/ectags

# python auto-completion
RUN_DEPENDS +=		devel/py-jedi${MODPY_FLAVOR}

# python documentation auto-completion
RUN_DEPENDS +=		textproc/py-lxml${MODPY_FLAVOR}

# XXX patch-plugins_todo_todo_plugin___init___py
RUN_DEPENDS +=		sysutils/ggrep

LIB_DEPENDS=		devel/libgit2/libgit2-glib \
			devel/libpeas \
			devel/llvm \
			devel/vte3 \
			lang/vala \
			textproc/gspell \
			x11/gnome/devhelp \
			x11/gtksourceview3

CONFIGURE_STYLE=	gnu

CONFIGURE_ENV=		ac_cv_path_PYTHON3_CONFIG=python${MODPY_VERSION}-config

# xdg-app is linux-specific (sandboxed apps)
CONFIGURE_ARGS +=	--disable-xdg-app-plugin

.include <bsd.port.arch.mk>
.if ${ARCH:Mi386} # needs 64-bit atomic ops
CFLAGS+=		-march=i586
CXXFLAGS+=		-march=i586
.endif

post-install:
	rm ${PREFIX}/lib/gnome-builder/plugins/*.{a,la}

.include <bsd.port.mk>
@


1.52
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2017/05/28 18:58:11 espie Exp $
d7 1
a7 1
REVISION=		0
@


1.51
log
@a bit more WANT_CXX tidy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2017/05/16 07:43:48 ajacoutot Exp $
d48 1
a48 1
WANT_CXX =		base gcc
@


1.50
log
@Needs GNU grep(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2017/05/13 17:55:01 espie Exp $
a48 1
MODGCC4_LANGS=		c c++
@


1.49
log
@WANT_CXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2017/05/09 08:35:56 ajacoutot Exp $
d7 1
d66 3
@


1.48
log
@Update to gnome-builder-3.24.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2017/04/17 14:45:58 ajacoutot Exp $
d47 1
a47 2
MODULES +=		gcc4
MODGCC4_ARCHS=		*
@


1.47
log
@Update to gnome-builder-3.24.1 to unbreak.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2017/04/13 07:38:44 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.24.1
@


1.46
log
@Stop setting CONFIGURE_STYLE in Makefile.inc but explicitely add it to ports
that need it; in the future more and more ports will move to meson build anyway.
I first though I'd set CONFIGURE_STYLE in gnome.port.mk but it's too fragile
(MODULES list must be sorted very carefully).
Less magic is good.

discussed with jasper@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.45 2017/04/13 07:07:44 jasper Exp $

BROKEN=			broken after vala 0.36 update
d6 1
a6 2
GNOME_VERSION=		3.22.4
REVISION =		3
d14 3
a16 1
SHARED_LIBS +=  idemm-1.0                 0.0 # 0.0
d23 7
a29 9
WANTLIB += ${MODPY_WANTLIB}
WANTLIB += EGL GL ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm atk-1.0
WANTLIB += atk-bridge-2.0 atkmm-1.6 atspi c cairo cairo-gobject
WANTLIB += cairomm-1.0 clang crypto curl dbus-1 devhelp-3 drm enchant
WANTLIB += epoxy expat ffi fontconfig freetype gbm gcrypt gdk-3
WANTLIB += gdk_pixbuf-2.0 gdkmm-3.0 gio-2.0 giomm-2.4 girepository-1.0
WANTLIB += git2 git2-glib-1.0 glapi glib-2.0 glibmm-2.4 gmodule-2.0 gmp
WANTLIB += gnutls gobject-2.0 gpg-error graphite2 gstapp-1.0
d32 2
a33 2
WANTLIB += gtkmm-3.0 gtksourceview-3.0 harfbuzz harfbuzz-icu hogweed
WANTLIB += hyphen iconv icudata icui18n icuuc idn2 intl javascriptcoregtk-4.0
d35 6
a40 5
WANTLIB += p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0 pangomm-1.4
WANTLIB += pcre pcre2-8 peas-1.0 pixman-1 png pthread pthread-stubs
WANTLIB += secret-1 sigc-2.0 soup-2.4 sqlite3 ssh2 ssl ${LIBCXX} tasn1 util
WANTLIB += vala-0.34 vte-2.91 webkit2gtk-4.0 webp xcb xcb-dri2 xcb-glx
WANTLIB += xcb-render xcb-shm xcb-xfixes xml2 xslt z unistring
d67 1
a67 2
LIB_DEPENDS=		${MODPY_LIB_DEPENDS} \
			devel/libgit2/libgit2-glib \
d72 1
d74 1
a74 2
			x11/gtksourceview3 \
			x11/gtk3mm
@


1.45
log
@mark this BROKEN, too many fixes required for vala 0.36. It will be updated
next week anyway.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2017/04/10 11:46:35 sthen Exp $
d78 2
@


1.44
log
@use LIBCXX
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.43 2017/03/29 13:27:12 ajacoutot Exp $
@


1.43
log
@Sync WANTLIB after recent www/webkitgtk4 update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2017/02/18 17:33:51 ajacoutot Exp $
d38 1
a38 1
WANTLIB += secret-1 sigc-2.0 soup-2.4 sqlite3 ssh2 ssl stdc++ tasn1 util
@


1.42
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2017/02/18 17:32:37 ajacoutot Exp $
d7 1
a7 1
REVISION =		2
d40 1
a40 1
WANTLIB += xcb-render xcb-shm xcb-xfixes xml2 xslt z
@


1.41
log
@idn -> idn2 after gnutls WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2017/01/08 01:59:49 bluhm Exp $
d7 1
a7 1
REVISION =		1
@


1.40
log
@Create subpackage py-llvm that contains the Python bindings for Clang.
Bump revision of llvm main package and x11/gnome/builder.
OK Brad Smith (maintainer) ajacoutot@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2017/01/03 18:54:48 shadchin Exp $
d34 1
a34 1
WANTLIB += hyphen iconv icudata icui18n icuuc idn intl javascriptcoregtk-4.0
@


1.39
log
@Add a MODPY_PYOEXTENSION variable.
Beginning with Python 3.5 .pyo files are no longer used and
have been replaced by a more flexible scheme that includes
the optimization level explicitly in .pyc name (See PEP-488).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2016/12/22 09:02:49 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
@


1.38
log
@Update to gnome-builder-3.22.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2016/12/17 09:51:37 ajacoutot Exp $
d7 1
@


1.37
log
@Add dependency on py3-jedi and py3-lxml for Python auto-completion.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2016/11/29 09:10:49 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.22.3
REVISION=		0
@


1.36
log
@Update to gnome-builder-3.22.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2016/11/15 08:48:28 ajacoutot Exp $
d7 1
d58 1
d60 6
@


1.35
log
@Finally fix the terminal applet; from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2016/11/12 16:27:58 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.22.2
REVISION=		5
@


1.34
log
@Sync with what's been committed upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2016/11/08 14:38:55 sthen Exp $
d7 1
a7 1
REVISION=		4
@


1.33
log
@re-add idn to WANTLIB for a few where it didn't just come from curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2016/11/05 17:42:53 ajacoutot Exp $
d7 1
a7 1
REVISION=		3
@


1.32
log
@Sync with BZ.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2016/11/04 11:35:21 sthen Exp $
d7 1
a7 1
REVISION=		2
d34 1
a34 1
WANTLIB += hyphen iconv icudata icui18n icuuc intl javascriptcoregtk-4.0
@


1.31
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/11/03 10:37:34 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.30
log
@Add BZ link.
Drop no-uneeded patch (requires a new libtool(1)).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/11/02 08:13:58 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
d23 2
a24 2
WANTLIB += EGL GL ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm atk-1.0
d26 5
a30 5
WANTLIB += cairomm-1.0 clang crypto curl dbus-1 devhelp-3 drm
WANTLIB += enchant epoxy expat ffi fontconfig freetype gbm gcrypt
WANTLIB += gdk-3 gdk_pixbuf-2.0 gdkmm-3.0 gio-2.0 giomm-2.4 girepository-1.0
WANTLIB += git2 git2-glib-1.0 glapi glib-2.0 glibmm-2.4 gmodule-2.0
WANTLIB += gmp gnutls gobject-2.0 gpg-error graphite2 gstapp-1.0
d34 1
a34 1
WANTLIB += hyphen iconv icudata icui18n icuuc idn intl javascriptcoregtk-4.0
d38 3
a40 4
WANTLIB += secret-1 sigc-2.0 soup-2.4 sqlite3 ssh2 ssl stdc++
WANTLIB += tasn1 util vala-0.34 vte-2.91 webkit2gtk-4.0 webp xcb
WANTLIB += xcb-dri2 xcb-glx xcb-render xcb-shm xcb-xfixes xml2
WANTLIB += xslt z
@


1.29
log
@Update to gnome-builder-3.22.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2016/11/02 07:36:52 ajacoutot Exp $
d7 1
@


1.28
log
@We don't have ptsname_r.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2016/11/01 22:26:34 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.22.1
REVISION=		1
d34 7
a40 6
WANTLIB += jpeg lzma m nettle nghttp2 notify orc-0.4 p11-kit pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pangomm-1.4 pcre pcre2-8
WANTLIB += peas-1.0 pixman-1 png pthread pthread-stubs secret-1
WANTLIB += sigc-2.0 soup-2.4 sqlite3 ssh2 ssl stdc++ tasn1 util
WANTLIB += vala-0.34 vte-2.91 webkit2gtk-4.0 webp xcb xcb-dri2
WANTLIB += xcb-glx xcb-render xcb-shm xcb-xfixes xml2 xslt z
d60 2
a61 1
LIB_DEPENDS=		devel/libgit2/libgit2-glib \
@


1.27
log
@Bump GNOME ports that have pcre2 in WANTLIB so that they get updated.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2016/10/31 15:02:09 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
@


1.26
log
@Update to gnome-builder-3.22.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2016/10/29 11:55:28 jasper Exp $
d7 1
@


1.25
log
@add patches partly based on upstream commits that will be part of 3.22.1 to
actually build with vala 0.34
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2016/10/29 08:26:11 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.20.4
REVISION=		1
d13 2
d24 14
a37 12
WANTLIB += atk-bridge-2.0 atspi c cairo cairo-gobject clang crypto
WANTLIB += curl dbus-1 devhelp-3 drm enchant epoxy expat ffi fontconfig
WANTLIB += freetype gbm gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0
WANTLIB += git2 git2-glib-1.0 glapi glib-2.0 gmodule-2.0 gmp gnutls
WANTLIB += gobject-2.0 gpg-error graphite2 gstapp-1.0 gstaudio-1.0
WANTLIB += gstbase-1.0 gstfft-1.0 gstpbutils-1.0 gstreamer-1.0
WANTLIB += gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 gtksourceview-3.0
WANTLIB += harfbuzz harfbuzz-icu hogweed hyphen iconv icudata
WANTLIB += icui18n icuuc idn intl javascriptcoregtk-4.0 jpeg lzma
WANTLIB += m nettle nghttp2 notify orc-0.4 p11-kit pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre peas-1.0 pixman-1 png pthread pthread-stubs
WANTLIB += secret-1 soup-2.4 sqlite3 ssh2 ssl stdc++ tasn1 util
d39 1
a39 2
WANTLIB += xcb-glx xcb-render xcb-shape xcb-shm xcb-xfixes xml2
WANTLIB += xslt z
d55 2
a56 1
BUILD_DEPENDS=		devel/ectags
d65 2
a66 1
			x11/gtksourceview3
@


1.24
log
@sync WANTLIB after vala update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2016/05/06 16:26:20 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
@


1.23
log
@Update to gnome-builder-3.20.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2016/05/05 09:31:41 ajacoutot Exp $
d7 1
d35 1
a35 1
WANTLIB += vala-0.32 vte-2.91 webkit2gtk-4.0 webp xcb xcb-dri2
@


1.22
log
@Merge a few patches from upstream to fix a crasher.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/05/03 06:16:17 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.20.2
REVISION=		1
a14 17

MASTER_SITES0=		https://git.gnome.org/browse/gnome-builder/patch/?id=
PATCH_DIST_STRIP=	-p1
PATCHFILES=		d727ec719028f8272d73878d9269b68bbf884ab8:0 \
			aaa997737bf3ede474ddd1deb57cc7986f030109:0 \
			517650712643245ba4b0599f8746528714c580f8:0 \
			ba32a12fd952705e9ca15daa13b78080fa726164:0 \
			3108388e0f80fe9a0d65fc15d3e4e266b557c388:0 \
			3831a7981925ca682835e1e9a38bd8eaab76a6bf:0 \
			256b4617ef81a540cddddf46c2267503a421bce9:0 \
			6e81ce4fd5ec64a4cfd3e6da2d995a7dd1e0153a:0 \
			726bfc788b03b33717dfae733f5615b8fa4809c6:0 \
			fede61d482fb782c0eb4dd96e177c4dea554858e:0 \
			35e3814a2e3898990de2dead02cb50fb69730635:0 \
			fbfa709313a28345b06a523895c54f5179d5c1da:0 \
			346912a3f873169c7eb226ffc4b7a4b42a248958:0 \
			b3d894fed81e9d28dce06bc947cbc5fd67e75d04:0
@


1.21
log
@Bring a few fixes from upstream stable branch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/04/28 11:18:10 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
d16 17
@


1.20
log
@Update to gnome-builder-3.20.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2016/04/27 14:32:28 ajacoutot Exp $
d7 1
@


1.19
log
@Revert previous and use MODGNOME_TOOLS += yelp instead.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2016/04/27 14:22:19 sthen Exp $
d6 1
a6 2
GNOME_VERSION=		3.20.0
REVISION=		0
a12 1
SHARED_LIBS +=  terminal                  0.0 # 0.0
@


1.18
log
@add a BDEP on itstool.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2016/04/26 09:53:54 ajacoutot Exp $
d7 1
d52 1
a52 1
			gtk-update-icon-cache vala
d54 1
a54 2
BUILD_DEPENDS=		devel/ectags \
			textproc/itstool
@


1.17
log
@Update to gnome-builder-3.20.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2016/03/20 16:12:26 naddy Exp $
d53 2
a54 1
BUILD_DEPENDS=		devel/ectags
@


1.16
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/10/30 12:59:17 sthen Exp $
d6 1
a6 2
GNOME_VERSION=		3.18.1
REVISION=		1
d9 1
a9 1
SHARED_LIBS +=	gnome-builder             0.0 # 0.0
d12 2
d21 15
a35 16
WANTLIB += EGL GL ICE SM X11 X11-xcb Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm
WANTLIB += atk-1.0 atk-bridge-2.0 atspi c cairo cairo-gobject
WANTLIB += clang crypto curl dbus-1 devhelp-3 drm enchant epoxy
WANTLIB += expat ffi fontconfig freetype gbm gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 girepository-1.0 git2 git2-glib-1.0 gjs glapi
WANTLIB += glib-2.0 gmodule-2.0 gmp gnutls gobject-2.0 gpg-error
WANTLIB += graphite2 gstapp-1.0 gstaudio-1.0 gstbase-1.0 gstfft-1.0
WANTLIB += gstpbutils-1.0 gstreamer-1.0 gsttag-1.0 gstvideo-1.0
WANTLIB += gthread-2.0 gtk-3 gtksourceview-3.0 harfbuzz harfbuzz-icu
WANTLIB += hogweed hyphen icudata icui18n icuuc idn javascriptcoregtk-4.0
WANTLIB += jpeg lzma m mozjs-24 ncurses ncursesw nettle nghttp2 notify
WANTLIB += nspr4 orc-0.4 p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre peas-1.0 pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += readline secret-1 soup-2.4 sqlite3 ssh2 ssl stdc++
WANTLIB += tasn1 util vte-2.91 webkit2gtk-4.0 webp xcb xcb-dri2
a39 1
			devel/gettext \
d51 4
a54 1
			gtk-update-icon-cache
d60 1
a61 1
			x11/gnome/gjs \
d65 3
@


1.15
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.14 2015/10/17 08:35:49 ajacoutot Exp $

SHARED_ONLY=		Yes
@


1.14
log
@Do not hardcode solib version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2015/10/16 20:36:34 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d33 1
a33 1
WANTLIB += jpeg lzma m mozjs-24 ncurses ncursesw nettle notify
@


1.13
log
@Update to gnome-builder-3.18.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2015/10/14 19:08:08 ajacoutot Exp $
d9 1
@


1.12
log
@Update to gnome-builder-3.18.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2015/06/29 06:51:31 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.18.0
@


1.11
log
@Unbreak runtime.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2015/05/28 10:17:25 pascal Exp $
d8 6
a13 2
GNOME_VERSION=		3.16.3
REVISION=		2
d24 2
a25 2
WANTLIB += clang crypto dbus-1 devhelp-3 drm enchant epoxy expat
WANTLIB += ffi fontconfig freetype gbm gcrypt gdk-3 gdk_pixbuf-2.0
d31 1
a31 1
WANTLIB += hogweed icudata icui18n icuuc javascriptcoregtk-4.0
d34 1
a34 1
WANTLIB += pcre pixman-1 plc4 plds4 png pthread pthread-stubs
d36 3
a38 2
WANTLIB += tasn1 util webkit2gtk-4.0 webp xcb xcb-dri2 xcb-glx
WANTLIB += xcb-render xcb-shape xcb-shm xcb-xfixes xml2 xslt z
d56 1
d58 1
d70 3
@


1.10
log
@gcc4 bumps, reminded by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2015/05/20 13:35:30 sthen Exp $
d9 1
a9 1
REVISION=		1
@


1.9
log
@gnome/builder needs 64-bit atomic ops, build with -march=i586 on i386 so it
can use them
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/05/18 21:07:24 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
@


1.8
log
@Upstream rerolled their tarball; noticed by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/05/18 10:06:45 ajacoutot Exp $
d57 6
@


1.7
log
@Update to gnome-builder-3.16.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/05/15 13:54:27 ajacoutot Exp $
d9 1
a56 13

AUTOCONF_VERSION=	2.69
AUTOMAKE_VERSION=	1.15
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/libtool

pre-configure:
	cd ${WRKSRC} && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		NOCONFIGURE=1 \
		./autogen.sh
@


1.6
log
@Oops, that particular part was not meant to be committed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/05/15 13:48:09 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.16.2
REVISION=		1
d56 13
@


1.5
log
@Drop patch; sofile will go under a subdirectory at next release anyway.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/04/17 04:30:49 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
a56 3

post-install:
	rm ${PREFIX}/lib/*.{a,la}
@


1.4
log
@Update to gnome-builder-3.16.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/04/15 09:40:53 ajacoutot Exp $
d9 1
a9 2

SHARED_LIBS +=  ide-1.0              0.0      # unknown
d50 1
a50 1
LIB_DEPENDS=		devel/libgit2/libgit2-glib>=0.22.6 \
d54 1
a54 1
			x11/gtksourceview3>=3.16.1
d57 3
@


1.3
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2015/04/14 07:52:24 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.16.1
REVISION=		0
@


1.2
log
@Update to gnome-builder-3.16.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2015/04/06 10:06:09 ajacoutot Exp $
d9 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2015/04/04 09:21:05 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.16.0
d51 1
a51 1
LIB_DEPENDS=		devel/libgit2/libgit2-glib \
d55 1
a55 1
			x11/gtksourceview3
@


1.1.1.1
log
@Import gnome-builder-3.16.0.

Builder attempts to be an IDE for writing software for GNOME. It does not try
to be a generic IDE, but one specialized for writing GNOME software

ok jasper@@
@
text
@@
