head	1.40;
access;
symbols
	OPENBSD_5_4:1.37.0.2
	OPENBSD_5_4_BASE:1.37
	OPENBSD_5_3:1.31.0.2
	OPENBSD_5_3_BASE:1.31
	OPENBSD_5_2:1.25.0.2
	OPENBSD_5_2_BASE:1.25
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.2
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	jasper_20110605:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.40
date	2013.10.21.15.09.35;	author jasper;	state dead;
branches;
next	1.39;

1.39
date	2013.10.15.09.21.22;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2013.09.28.08.51.19;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2013.06.23.11.41.14;	author landry;	state Exp;
branches;
next	1.36;

1.36
date	2013.06.21.22.38.34;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2013.05.31.15.35.04;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2013.05.12.15.09.41;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2013.03.29.08.27.50;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2013.03.11.11.46.10;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2013.01.20.20.25.11;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2013.01.11.13.44.25;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2012.10.28.17.42.07;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2012.09.28.21.35.38;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2012.09.16.10.47.05;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2012.09.01.14.36.59;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2012.06.15.08.30.19;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2012.04.15.15.16.52;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2011.12.19.23.08.52;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2011.12.03.22.17.16;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2011.11.04.09.59.09;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2011.10.29.08.12.33;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2011.10.23.16.52.24;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2011.10.16.19.23.34;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.09.28.09.47.47;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2011.09.25.21.15.20;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2011.09.25.21.12.58;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2011.09.25.19.23.47;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2011.09.25.18.47.28;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.25.17.33.14;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2011.09.20.21.10.00;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.20.20.52.46;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.19.07.44.58;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2011.09.16.12.29.14;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2011.09.12.12.04.16;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2011.07.30.18.22.11;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2011.07.06.07.23.20;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.05.12.06.14.54;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2011.05.12.06.05.16;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.05.08.20.39.34;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.05.06.11.25.46;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.05.06.11.25.46;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.40
log
@remove bulky gnote; one may give bijiben a try for an application providing
similar behaviour.

ok aja@@
@
text
@# $OpenBSD: Makefile,v 1.39 2013/10/15 09:21:22 ajacoutot Exp $

SHARED_ONLY=		Yes

COMMENT=		desktop note-taking application written in C++

GNOME_PROJECT=		gnote
GNOME_VERSION=		3.8.1
REVISION=		2

SHARED_LIBS +=	gnote-3.8                 0.0 # 0.0
SHARED_LIBS +=	gnote                     0.0 # 0.0

SUBST_VARS=		GNOME_VERSION

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atkmm-1.6
WANTLIB += atspi c cairo cairo-gobject cairomm-1.0 dbus-1 uuid
WANTLIB += expat ffi fontconfig freetype gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += gdkmm-3.0 gio-2.0 giomm-2.4 glib-2.0 glibmm-2.4 gmodule-2.0
WANTLIB += gobject-2.0 gpg-error graphite2 gthread-2.0 gtk-3 gtkmm-3.0
WANTLIB += harfbuzz m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pangomm-1.4 pcre pixman-1 png pthread
WANTLIB += pthread-stubs secret-1 sigc-2.0 stdc++ xcb xcb-render
WANTLIB += xcb-shm xml2 xslt z

MODULES=		devel/dconf \
			devel/gettext \
			x11/gnome

BUILD_DEPENDS=		devel/boost>=1.42.0p6
LIB_DEPENDS=		sysutils/e2fsprogs>=1.42.7 \
			textproc/libxslt \
			x11/gnome/libsecret>=0.10 \
			x11/gtk3mm

MODGNOME_TOOLS= 	yelp
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes

LIBTOOL_FLAGS+= 	--tag=disable-static

CONFIGURE_ARGS+=	--disable-static

post-install:
	rm ${PREFIX}/lib/gnote/addins/${GNOME_VERSION}/*.la

.include <bsd.port.mk>
@


1.39
log
@No need to BDEP on desktop-file-utils.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/09/28 08:51:19 ajacoutot Exp $
@


1.38
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/06/23 11:41:14 landry Exp $
d34 1
a34 2
BUILD_DEPENDS=		devel/boost>=1.42.0p6 \
			devel/desktop-file-utils
@


1.37
log
@Add BDEP on desktop-file-utils, configure looks for desktop-file-validate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/06/21 22:38:34 sthen Exp $
d9 1
a9 1
REVISION=		1
a14 2

HOMEPAGE=		http://live.gnome.org/Gnote
@


1.36
log
@sync WANTLIB and remove patches to handle e2fsprogs/libuuid changes. ok aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/05/31 15:35:04 ajacoutot Exp $
d36 2
a37 1
BUILD_DEPENDS=		devel/boost>=1.42.0p6
@


1.35
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/05/12 15:09:41 jasper Exp $
d9 1
a9 1
REVISION=		0
d23 1
a23 1
WANTLIB += atspi c cairo cairo-gobject cairomm-1.0 dbus-1 e2fs-uuid
d37 1
a37 1
LIB_DEPENDS=		sysutils/e2fsprogs>=1.41.4p5 \
@


1.34
log
@update to gnote-3.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/03/29 08:27:50 jasper Exp $
d9 1
d27 1
a27 1
WANTLIB += harfbuzz icudata icule icuuc m pango-1.0 pangocairo-1.0
@


1.33
log
@- update to gnote-3.8.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/03/11 11:46:10 espie Exp $
d8 1
a8 1
GNOME_VERSION=		3.8.0
@


1.32
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/01/20 20:25:11 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		3.6.2
d10 1
a10 1
SHARED_LIBS +=	gnote-3.6                 0.0 # 0.0
d20 9
a28 8
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 atkmm-1.6
WANTLIB += c cairo cairo-gobject cairomm-1.0 drm e2fs-uuid expat
WANTLIB += ffi fontconfig freetype gdk-3 gdk_pixbuf-2.0 gdkmm-3.0
WANTLIB += gio-2.0 giomm-2.4 glib-2.0 glibmm-2.4 gmodule-2.0 gobject-2.0
WANTLIB += gthread-2.0 gtk-3 gtkmm-3.0 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pangomm-1.4 pcre pixman-1 png
WANTLIB += pthread pthread-stubs sigc-2.0 stdc++ xcb xcb-render
a29 2
WANTLIB += ICE SM atk-bridge-2.0 atspi dbus-1 gcrypt gpg-error
WANTLIB += harfbuzz icudata icule icuuc secret-1
@


1.31
log
@- update to gnote-3.6.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/01/11 13:44:25 ajacoutot Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.30
log
@Bump after libsigc++-2 -docs => -main merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2012/10/28 17:42:07 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		3.6.1
REVISION=		0
@


1.29
log
@- update to gnote-3.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/09/28 21:35:38 jasper Exp $
d9 1
@


1.28
log
@- update to gnote-3.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2012/09/16 10:47:05 jasper Exp $
d8 1
a8 1
GNOME_VERSION=		3.6.0
@


1.27
log
@- update to 0.8.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/09/01 14:36:59 ajacoutot Exp $
d8 4
a11 1
GNOME_VERSION=		0.8.4
d29 1
a29 1
WANTLIB += pangoft2-1.0 pangomm-1.4 pcre pcrecpp pixman-1 png
d32 2
d42 1
d51 4
a54 2
CONFIGURE_ARGS+=	--disable-static \
			--disable-applet
@


1.26
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/06/15 08:30:19 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		0.8.3
REVISION=		1
@


1.25
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/04/15 15:16:52 jasper Exp $
d9 1
a9 1
REVISION=		0
@


1.24
log
@- update to 0.8.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/12/19 23:08:52 ajacoutot Exp $
d9 1
@


1.23
log
@Bugfix update to gnote-0.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/12/03 22:17:16 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		0.8.2
@


1.22
log
@Use MODGNOME_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/11/04 09:59:09 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		0.8.1
REVISION=		2
@


1.21
log
@Disable applet: it crashes half the time and will be the default upstream
setting for next release anyway.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/10/29 08:12:33 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d42 1
@


1.20
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/10/23 16:52:24 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d21 10
a34 11
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0
WANTLIB += atkmm-1.6 c cairo cairo-gobject cairomm-1.0 drm e2fs-uuid
WANTLIB += expat ffi fontconfig freetype gconf-2 gdk-3 gdk_pixbuf-2.0
WANTLIB += gdkmm-3.0 gio-2.0 giomm-2.4 glib-2.0 glibmm-2.4 gmodule-2.0
WANTLIB += gobject-2.0 gthread-2.0 gtk-3 gtkmm-3.0 m panel-applet-4
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pangomm-1.4 pcre
WANTLIB += pcrecpp pixman-1 png pthread pthread-stubs sigc-2.0
WANTLIB += stdc++ xcb xcb-render xcb-shm xml2 xslt z
WANTLIB += dbus-1 dbus-glib-1

a37 1
			x11/gnome/panel \
d45 2
a46 1
CONFIGURE_ARGS+=	--disable-static
@


1.19
log
@Minor update to gnote-0.8.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/10/16 19:23:34 ajacoutot Exp $
d9 1
d25 1
a25 1
WANTLIB += GL ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp
@


1.18
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/09/28 09:47:47 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		0.8.0
REVISION=		4
d33 1
@


1.17
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/09/25 21:15:20 ajacoutot Exp $
d9 1
a9 1
REVISION=		3
d30 1
a30 1
WANTLIB += gobject-2.0 gthread-2.0 gtk-3 gtkmm-3.0 kvm m panel-applet-4
@


1.16
log
@Remove bogus depends.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/09/25 21:12:58 ajacoutot Exp $
a46 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.15
log
@Fix segfault at runtime by adding missing glib-compile-schemas goo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/09/25 19:23:47 ajacoutot Exp $
d9 1
a9 1
REVISION=		2
d35 1
a35 3
BUILD_DEPENDS=		devel/boost>=1.42.0p6 \
			devel/gsettings-desktop-schemas
RUN_DEPENDS=		devel/gsettings-desktop-schemas
@


1.14
log
@Regen ze plist.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/09/25 18:47:28 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
@


1.13
log
@Remove bogus dependency on gtkspell.
Don't shave the build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/25 17:33:14 jasper Exp $
d9 1
a9 1
REVISION=		0
@


1.12
log
@- update to 0.8.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/09/20 21:10:00 jasper Exp $
d9 1
a38 1
			textproc/gtkspell \
@


1.11
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/20 20:52:46 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		0.7.5
REVISION=	0
d20 1
a20 1
MODULES=		devel/gconf2 \
d26 6
a31 6
WANTLIB += atkmm-1.6 c cairo cairomm-1.0 drm e2fs-uuid enchant
WANTLIB += expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gdkmm-2.4 gio-2.0 giomm-2.4 glib-2.0 glibmm-2.4 gmodule-2.0
WANTLIB += gobject-2.0 gthread-2.0 gtk-x11-2.0 gtkmm-2.4 gtkspell
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pangomm-1.4
WANTLIB += pcre pcrecpp pixman-1 png pthread pthread-stubs sigc-2.0
d34 3
a36 1
BUILD_DEPENDS=		devel/boost>=1.42.0p6
d40 2
a41 1
			x11/gtk2mm
d44 1
a44 2
MODGNOME_DESKTOP_FILE=		Yes
MODGCONF2_SCHEMAS_DIR=	gnote
a47 3
AUTOCONF_VERSION=	2.68

CONFIGURE_STYLE=	autoconf gnu
a48 3
# needs libpanelappletmm and dbus-c++
CONFIGURE_ARGS+=	--disable-applet \
			--disable-dbus
@


1.10
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/19 07:44:58 ajacoutot Exp $
d50 1
a50 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--disable-static
@


1.9
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/09/16 12:29:14 espie Exp $
d41 1
a41 1
MODGNOME_HELP_FILES=	Yes
@


1.8
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/09/12 12:04:16 jasper Exp $
d42 1
a42 1
DESKTOP_FILES=		Yes
@


1.7
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/07/30 18:22:11 ajacoutot Exp $
d9 1
@


1.6
log
@Bugfix update to gnote-0.7.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/07/06 07:23:20 jasper Exp $
a10 1
EXTRACT_SUFX=		.tar.xz
@


1.5
log
@- adjust after uuid changes
- explicitly depend on latest e2fsprogs revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/05/12 06:14:54 jasper Exp $
d8 4
a11 2
GNOME_VERSION=		0.7.4
REVISION=		2
d47 1
a47 2
# Should be 2.66
AUTOCONF_VERSION=	2.65
@


1.4
log
@tweak patch and add commit hash
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/05/12 06:05:16 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d34 1
a34 1
LIB_DEPENDS=		sysutils/e2fsprogs \
@


1.3
log
@Comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/05/08 20:39:34 jasper Exp $
d9 1
a9 1
REVISION=		0
@


1.2
log
@more complete fix for the problem, with upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/05/06 11:25:46 jasper Exp $
d45 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d9 1
@


1.1.1.1
log
@import gnote 0.7.4

Gnote is a port of Tomboy to C++.
It is the same note taking application, including most of the add-ins
(more are to come). Synchronization support is being worked on.

This will replace tomboy in our tree, users can sync their tomboy notes
with the TomboyImport addin.

feedback/ok aja@@

@
text
@@
