head	1.2;
access;
symbols
	OPENBSD_5_0:1.1.0.4
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.09.12.07.56.47;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2010.09.30.12.16.35;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Remove gnome2 oldies and some other stuffs that never worked quite well.
Better start on a cleaner base.
@
text
@$OpenBSD: patch-src_hamster_i18n_py,v 1.1 2010/09/30 12:16:35 jasper Exp $
--- src/hamster/i18n.py.orig	Thu Sep 30 11:00:31 2010
+++ src/hamster/i18n.py	Thu Sep 30 11:05:56 2010
@@@@ -16,19 +16,7 @@@@ def setup_i18n():
     # localedir/language/LC_MESSAGES/domain.mo format, but we have
     # localedir/language.mo at it's best (after build)
     # and there does not seem to be any way to run straight from sources
-    if defs:
-        locale_dir = os.path.realpath(os.path.join(defs.DATA_DIR, "locale"))
-
-        for module in (locale,gettext):
-            module.bindtextdomain('hamster-applet', locale_dir)
-            module.textdomain('hamster-applet')
-
-            module.bind_textdomain_codeset('hamster-applet','utf8')
-
-        gettext.install("hamster-applet", locale_dir, unicode = True)
-
-    else:
-        gettext.install("hamster-applet-uninstalled")
+    gettext.install("hamster-applet-uninstalled")
 
 
 def C_(ctx, s):
@


1.1
log
@- update hamster-applet to 2.32.0
@
text
@d1 1
a1 1
$OpenBSD$
@

