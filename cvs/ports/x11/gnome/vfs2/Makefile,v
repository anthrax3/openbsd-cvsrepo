head	1.85;
access;
symbols
	OPENBSD_6_0:1.85.0.2
	OPENBSD_6_0_BASE:1.85
	OPENBSD_5_9:1.82.0.2
	OPENBSD_5_9_BASE:1.82
	OPENBSD_5_8:1.82.0.4
	OPENBSD_5_8_BASE:1.82
	OPENBSD_5_7:1.80.0.4
	OPENBSD_5_7_BASE:1.80
	OPENBSD_5_6:1.80.0.2
	OPENBSD_5_6_BASE:1.80
	OPENBSD_5_5:1.79.0.2
	OPENBSD_5_5_BASE:1.79
	OPENBSD_5_4:1.77.0.2
	OPENBSD_5_4_BASE:1.77
	OPENBSD_5_3:1.73.0.2
	OPENBSD_5_3_BASE:1.73
	OPENBSD_5_2:1.71.0.4
	OPENBSD_5_2_BASE:1.71
	OPENBSD_5_1_BASE:1.71
	OPENBSD_5_1:1.71.0.2
	OPENBSD_5_0:1.64.0.4
	OPENBSD_5_0_BASE:1.64
	OPENBSD_4_9:1.64.0.2
	OPENBSD_4_9_BASE:1.64
	OPENBSD_4_8:1.59.0.2
	OPENBSD_4_8_BASE:1.59
	OPENBSD_4_7:1.54.0.2
	OPENBSD_4_7_BASE:1.54
	OPENBSD_4_6:1.49.0.2
	OPENBSD_4_6_BASE:1.49
	OPENBSD_4_5:1.41.0.2
	OPENBSD_4_5_BASE:1.41
	OPENBSD_4_4:1.36.0.2
	OPENBSD_4_4_BASE:1.36
	OPENBSD_4_3:1.29.0.2
	OPENBSD_4_3_BASE:1.29
	OPENBSD_4_2:1.24.0.2
	OPENBSD_4_2_BASE:1.24
	OPENBSD_4_1:1.20.0.2
	OPENBSD_4_1_BASE:1.20
	OPENBSD_4_0:1.18.0.4
	OPENBSD_4_0_BASE:1.18
	OPENBSD_3_9:1.18.0.2
	OPENBSD_3_9_BASE:1.18
	OPENBSD_3_8:1.16.0.2
	OPENBSD_3_8_BASE:1.16
	OPENBSD_3_7:1.15.0.2
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.10.0.2
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.8.0.2
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	todd_20030131:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.85
date	2016.04.28.09.32.08;	author jasper;	state Exp;
branches;
next	1.84;
commitid	EjCl2AvfsBJJrKKu;

1.84
date	2016.04.27.09.47.45;	author jasper;	state Exp;
branches;
next	1.83;
commitid	U2eRFSfZh3zZ3JkS;

1.83
date	2016.03.18.23.12.21;	author naddy;	state Exp;
branches;
next	1.82;
commitid	KZAl4KEiw6a3Jixw;

1.82
date	2015.04.21.18.51.26;	author sthen;	state Exp;
branches;
next	1.81;
commitid	ptMCPiyuhL0JiHRZ;

1.81
date	2015.04.04.09.21.07;	author ajacoutot;	state Exp;
branches;
next	1.80;
commitid	kS3kwKZogsvzYmEY;

1.80
date	2014.04.21.13.56.50;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2013.09.28.08.51.32;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2013.09.27.17.49.12;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2013.06.20.06.54.38;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2013.06.17.19.31.32;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2013.03.27.17.59.31;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2013.03.11.11.46.12;	author espie;	state Exp;
branches;
next	1.73;

1.73
date	2013.02.06.14.23.07;	author ajacoutot;	state Exp;
branches
	1.73.2.1;
next	1.72;

1.72
date	2012.09.29.10.52.28;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2012.01.01.09.03.20;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2011.10.29.08.12.32;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2011.09.28.09.47.48;	author jasper;	state Exp;
branches;
next	1.68;

1.68
date	2011.09.20.21.10.01;	author jasper;	state Exp;
branches;
next	1.67;

1.67
date	2011.09.20.20.52.47;	author jasper;	state Exp;
branches;
next	1.66;

1.66
date	2011.09.16.12.29.15;	author espie;	state Exp;
branches;
next	1.65;

1.65
date	2011.09.12.12.04.19;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2011.01.18.20.03.07;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2010.11.22.08.36.58;	author espie;	state Exp;
branches;
next	1.62;

1.62
date	2010.10.18.13.18.16;	author jasper;	state Exp;
branches;
next	1.61;

1.61
date	2010.09.30.07.40.37;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2010.08.26.09.19.39;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2010.07.25.13.07.16;	author kili;	state Exp;
branches;
next	1.58;

1.58
date	2010.07.25.08.15.33;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2010.05.19.09.36.59;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2010.03.30.15.07.06;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2010.03.29.07.53.52;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2009.12.08.18.55.29;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2009.12.04.08.08.50;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2009.10.10.12.39.29;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2009.10.10.09.28.32;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2009.10.09.17.39.38;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2009.06.11.18.38.17;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2009.06.10.15.23.54;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2009.06.08.18.24.41;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2009.06.08.17.59.15;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2009.06.07.11.03.21;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2009.06.04.22.01.26;	author sthen;	state Exp;
branches;
next	1.43;

1.43
date	2009.06.03.17.17.47;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2009.03.17.15.53.37;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2009.02.11.15.47.52;	author jasper;	state Exp;
branches;
next	1.40;

1.40
date	2009.02.11.15.33.53;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2008.11.21.18.25.49;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2008.10.18.07.39.57;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2008.10.17.14.19.25;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2008.06.28.11.42.27;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2008.06.23.12.20.16;	author deanna;	state Exp;
branches;
next	1.34;

1.34
date	2008.06.13.21.37.37;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2008.06.02.14.10.07;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2008.05.26.08.32.57;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2008.05.04.14.36.44;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2008.04.09.13.26.15;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2008.02.04.17.55.19;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2008.01.22.18.27.02;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2007.12.16.00.03.34;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2007.11.14.14.59.21;	author martynas;	state Exp;
branches;
next	1.25;

1.25
date	2007.11.10.14.39.26;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2007.07.05.22.50.11;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2007.06.11.13.12.51;	author martynas;	state Exp;
branches;
next	1.22;

1.22
date	2007.05.30.09.56.30;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2007.04.27.22.06.37;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2006.12.16.12.22.36;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2006.09.18.12.19.40;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2006.01.08.15.25.49;	author alek;	state Exp;
branches;
next	1.17;

1.17
date	2005.11.08.14.28.41;	author mbalmer;	state Exp;
branches;
next	1.16;

1.16
date	2005.05.24.21.50.12;	author marcm;	state Exp;
branches;
next	1.15;

1.15
date	2005.03.09.14.19.56;	author alek;	state Exp;
branches;
next	1.14;

1.14
date	2004.12.15.13.57.57;	author alek;	state Exp;
branches;
next	1.13;

1.13
date	2004.12.14.01.14.44;	author marcm;	state Exp;
branches;
next	1.12;

1.12
date	2004.12.10.20.36.46;	author marcm;	state Exp;
branches;
next	1.11;

1.11
date	2004.10.17.04.41.20;	author marcm;	state Exp;
branches;
next	1.10;

1.10
date	2004.08.10.10.56.43;	author xsa;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2004.06.23.03.26.21;	author marcm;	state Exp;
branches;
next	1.8;

1.8
date	2004.02.22.05.34.26;	author marcm;	state Exp;
branches
	1.8.2.1;
next	1.7;

1.7
date	2004.01.29.18.23.40;	author sturm;	state Exp;
branches;
next	1.6;

1.6
date	2003.12.01.04.13.07;	author marcm;	state Exp;
branches;
next	1.5;

1.5
date	2003.10.08.19.56.59;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.10.07.05.48.56;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.08.06.20.45.06;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.12.19.53.49;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.31.19.08.33;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.31.19.08.33;	author todd;	state Exp;
branches;
next	;

1.8.2.1
date	2005.01.02.15.18.16;	author sturm;	state Exp;
branches;
next	;

1.10.2.1
date	2005.01.02.15.16.18;	author sturm;	state Exp;
branches;
next	;

1.73.2.1
date	2013.05.01.07.02.48;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.85
log
@some more bumps
@
text
@# $OpenBSD: Makefile,v 1.84 2016/04/27 09:47:45 jasper Exp $

COMMENT=		GNOME Virtual File System

GNOME_PROJECT=		gnome-vfs
GNOME_VERSION=		2.24.4
EXTRACT_SUFX=		.tar.bz2
PKGNAME=		gnome-vfs2-${VERSION}

REVISION=		14

SHARED_LIBS +=	gnomevfs-2           2400.0   # .2400.0

# GPLv2/LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += bz2 c crypto dbus-1 dbus-glib-1 fam ffi gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 lzma m pcre pthread ssl
WANTLIB += util xml2 z iconv intl

MODULES=		x11/gnome \
			devel/gconf2

BUILD_DEPENDS=		${RUN_DEPENDS}
RUN_DEPENDS=		x11/gnome/mime-data

LIB_DEPENDS=		archivers/bzip2 \
			sysutils/gamin

MODGCONF2_SCHEMAS_DIR=	gnome-vfs2

CONFIGURE_ARGS+= 	--disable-cdda \
			--disable-avahi \
			--disable-howl \
			--disable-samba
CONFIGURE_ENV=		ac_cv_header_sys_mount_h=yes

FAKE_FLAGS=		sysconfdir=${PREFIX}/share/examples/gnome-vfs2

pre-configure:
	${SUBST_CMD} ${WRKSRC}/libgnomevfs/xdgmime.c

post-install:
	rm ${PREFIX}/lib/gnome-vfs-2.0/modules/*.{a,la}

.include <bsd.port.mk>
@


1.84
log
@drop gettext module and sync WANTLIB where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2016/03/18 23:12:21 naddy Exp $
d10 1
a10 1
REVISION=		13
@


1.83
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2015/04/21 18:51:26 sthen Exp $
d19 1
a19 1
WANTLIB += util xml2 z
d21 1
a21 2
MODULES=		devel/gettext \
			x11/gnome \
@


1.82
log
@add some simple missing lzma WANTLIBs (crept in via libxml)
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.81 2015/04/04 09:21:07 ajacoutot Exp $

SHARED_ONLY=		Yes
@


1.81
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2014/04/21 13:56:50 ajacoutot Exp $
d12 1
a12 1
REVISION=		12
d20 2
a21 2
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 m pcre pthread
WANTLIB += ssl util xml2 z
@


1.80
log
@Sync wantlib after kerberos removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2013/09/28 08:51:32 ajacoutot Exp $
d12 1
a12 1
REVISION=		11
@


1.79
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2013/09/27 17:49:12 ajacoutot Exp $
d12 1
a12 1
REVISION=		10
d19 3
a21 4
WANTLIB += asn1 bz2 c com_err crypto dbus-1 dbus-glib-1 fam ffi
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gssapi gthread-2.0
WANTLIB += heimbase krb5 m pcre pthread roken ssl
WANTLIB += util wind xml2 z
@


1.78
log
@Bump after devel/gconf2,-main is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2013/06/20 06:54:38 ajacoutot Exp $
d12 1
a12 1
REVISION=		9
@


1.77
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2013/06/17 19:31:32 ajacoutot Exp $
d12 1
a12 1
REVISION=		8
@


1.76
log
@Unbreak with new Heimdal; get rid of self-cooked krb5-config since we
have it in base now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2013/03/27 17:59:31 ajacoutot Exp $
d12 1
a12 1
REVISION=		7
d21 1
a21 1
WANTLIB += heimbase heimntlm hx509 krb5 m pcre pthread roken ssl
@


1.75
log
@SECURITY fix for CVE-2009-2473.
Drop useless MODGNOME_LDFLAGS.
Fix build with glib2>=2.36.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2013/03/11 11:46:12 espie Exp $
d12 1
a12 1
REVISION=		6
d19 4
a22 3
WANTLIB += asn1 bz2 c crypto dbus-1 dbus-glib-1 fam ffi gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gssapi gthread-2.0
WANTLIB += krb5 m pcre pthread ssl util xml2 z
d29 1
a29 1
RUN_DEPENDS=		x11/gnome/mime-data>=2.0.0
a42 3

post-extract:
	${INSTALL} -m 555 ${FILESDIR}/krb5-config ${WRKDIR}/bin
@


1.74
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2013/02/06 14:23:07 ajacoutot Exp $
d9 1
d12 1
a12 1
REVISION=		5
a22 2
EXTRACT_SUFX=		.tar.bz2

a38 1
MODGNOME_LDFLAGS=	-pthread
@


1.73
log
@Quiet gconftool-2:
gconf_ping() will try to shutdown gconfd, but since installing pkg is
done as root, there is not gconfd nor dbus that can be started when
DISPLAY isn't set and an annoying warning is issued.

discussed with espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2012/09/29 10:52:28 ajacoutot Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.73.2.1
log
@Security fix for CVE-2009-2473 neon: billion laughs DoS attack
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2013/02/06 14:23:07 ajacoutot Exp $
d11 1
a11 1
REVISION=		6
@


1.72
log
@@@comment -> post-install rm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2012/01/01 09:03:20 ajacoutot Exp $
d11 1
a11 1
REVISION=		4
@


1.71
log
@Bump after sysutils/gamin -main subpackage changed PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/10/29 08:12:32 ajacoutot Exp $
a8 1

d11 1
a11 1
REVISION=		3
d53 3
@


1.70
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/09/28 09:47:48 jasper Exp $
d12 1
a12 1
REVISION=		2
@


1.69
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/09/20 21:10:01 jasper Exp $
d12 1
a12 1
REVISION=		1
d22 4
a26 4

WANTLIB += crypto dbus-1 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += m pcre ssl util z ORBit-2 xml2 dbus-glib-1 c asn1 gssapi krb5
WANTLIB += pthread gio-2.0 bz2 fam
@


1.68
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/09/20 20:52:47 jasper Exp $
d44 2
a45 3
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -pthread" \
			ac_cv_header_sys_mount_h=yes
@


1.67
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/09/16 12:29:15 espie Exp $
d40 1
a40 2
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED} \
			--disable-cdda \
@


1.66
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/09/12 12:04:19 jasper Exp $
a40 1
			--disable-gtk-doc \
@


1.65
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/01/18 20:03:07 ajacoutot Exp $
d12 1
a12 1
REVISION=		0
@


1.64
log
@Remove the need for ${SYSCONFDIR}/gnome and use ${SYSCONFDIR} instead.
Discussed with landry@@ and jasper@@

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/11/22 08:36:58 espie Exp $
d21 2
@


1.63
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/10/18 13:18:16 jasper Exp $
d12 2
a56 2

CONFIGURE_ARGS+=	--sysconfdir="${SYSCONFDIR}/gnome"
@


1.62
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/09/30 07:40:37 ajacoutot Exp $
d29 1
a29 1
RUN_DEPENDS=		:gnome-mime-data->=2.0.0:x11/gnome/mime-data
d31 2
a32 2
LIB_DEPENDS=		::archivers/bzip2 \
			::sysutils/gamin
@


1.61
log
@Update to gnome-vfs2-2.24.4.
Remove support for avahi and cdda -- gnomevfs is deprected and shouldn't
be used.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/08/26 09:19:39 ajacoutot Exp $
a33 1
USE_X11=		Yes
@


1.60
log
@We are about to deprecate gnomevfs within the tree as it has been
superseded by gio/gvfs long time ago and isn't maintained anymore.
First move is to remove the -smb subpackage which is of no use.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/07/25 13:07:16 kili Exp $
d8 1
a8 1
GNOME_VERSION=		2.24.3
a11 2
REVISION=		1

d20 3
a22 4
WANTLIB=	crypto dbus-1 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 \
		m pcre ssl util z avahi-client avahi-common avahi-glib \
		ORBit-2 xml2 dbus-glib-1 c asn1 gssapi krb5 pthread \
		cdda_interface cdda_paranoia bz2 fam
d31 1
a31 4
LIB_DEPENDS=		::net/avahi \
			::x11/dbus-glib \
			::audio/cdparanoia \
			::archivers/bzip2 \
d38 3
a40 2
			--enable-cdda \
			--enable-avahi \
d44 2
a45 1
			LDFLAGS="-L${LOCALBASE}/lib -pthread"
@


1.59
log
@Fix WANTLIB-smb and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/07/25 08:15:33 ajacoutot Exp $
d5 1
a5 2
COMMENT-main=		GNOME Virtual File System
COMMENT-smb=		samba module for gnome-vfs2
d10 1
a10 2
PKGNAME-main=		gnome-vfs2-${VERSION}
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}
d12 1
a12 2
REVISION-main=		0
REVISION-smb=		1
d24 2
a25 1
		ORBit-2 xml2 dbus-glib-1
d31 1
a31 5
BUILD_DEPENDS=		:gnome-mime-data->=2.0.0:x11/gnome/mime-data
LIB_DEPENDS=		::devel/ORBit2 \
			::textproc/libxml \
			::x11/dbus-glib
LIB_DEPENDS+=		::net/avahi
d34 2
a35 3
WANTLIB-main=		${WANTLIB} c asn1 gssapi krb5 pthread \
			cdda_interface cdda_paranoia bz2 fam.>=1
LIB_DEPENDS-main=	${LIB_DEPENDS} \
a39 6
WANTLIB-smb+=		${WANTLIB} smbclient gnomevfs-2
LIB_DEPENDS-smb=	${LIB_DEPENDS} \
			::net/samba \
			::x11/gnome/vfs2
RUN_DEPENDS-smb=	${RUN_DEPENDS}

d46 2
a47 1
			--disable-howl
d49 1
a49 1
			LDFLAGS="-L${LOCALBASE}/lib"
a51 10

MULTI_PACKAGES=		-main
PSEUDO_FLAVORS=		no_smb
FLAVOR?=

.if ${FLAVOR:L:Mno_smb}
CONFIGURE_ARGS+=	--disable-samba
.else
MULTI_PACKAGES+=	-smb
.endif
@


1.58
log
@Switch to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/05/19 09:36:59 ajacoutot Exp $
d15 1
a15 1
REVISION-smb=		0
d47 1
a47 1
WANTLIB-smb+=		smbclient gnomevfs-2
@


1.57
log
@Add a no_smb PSEUDO_FLAVOR to be able to build this without the need for
samba and the gang.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/03/30 15:07:06 ajacoutot Exp $
d14 3
d26 2
a27 1
		m pcre ssl util z
d34 4
a37 4
LIB_DEPENDS=		ORBit-2.>=2::devel/ORBit2 \
			xml2.>=9::textproc/libxml \
			dbus-glib-1.>=3::x11/dbus-glib
LIB_DEPENDS+=		avahi-client,avahi-common,avahi-glib::net/avahi
d40 2
a41 1
WANTLIB-main=		${WANTLIB} c asn1 gssapi krb5 pthread
d43 3
a45 3
			cdda_interface,cdda_paranoia::audio/cdparanoia \
			bz2.>=10::archivers/bzip2 \
			fam.>=1::sysutils/gamin
d47 1
d49 2
a50 2
			smbclient::net/samba \
			gnomevfs-2.>=2400::x11/gnome/vfs2
@


1.56
log
@Maintainance update to gnome-vfs2-2.24.3.
* Don't crash if we get a NULL symlink.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/03/29 07:53:52 ajacoutot Exp $
a13 2
MULTI_PACKAGES=		-main -smb

d58 10
@


1.55
log
@No need to specify the no_* FLAVOR for avahi, this is the default now.
naddy thinks there may be some gratuitous bumps but let's be safe.

reads good to sthen@@, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2009/12/08 18:55:29 ajacoutot Exp $
d9 3
a11 2
GNOME_VERSION=		2.24.2
PKGNAME-main=		gnome-vfs2-${VERSION}p3
@


1.54
log
@No need to link with libm after the fam -> gamin move.

spotted by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2009/12/04 08:08:50 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main=		gnome-vfs2-${VERSION}p2
d34 1
a34 2
# only build the -main subpackage to prevent cyclic dependency
LIB_DEPENDS+=		avahi-client,avahi-common,avahi-glib::net/avahi,no_gtk,no_mono,no_qt3,no_qt4
@


1.53
log
@Use gamin instead of fam.

ok landry@@ jasper
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/10/10 12:39:29 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main=		gnome-vfs2-${VERSION}p1
@


1.52
log
@Missed bump...

pointed out by jasper@@
cvs: ----------------------------------------------------------------------
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/10/10 09:28:32 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main=		gnome-vfs2-${VERSION}p0
d38 1
a38 1
WANTLIB-main=		${WANTLIB} c asn1 gssapi krb5 pthread rpcsvc stdc++
d42 1
a42 1
			fam::sysutils/fam
@


1.51
log
@Add no_mono PSEUDO_FLAVOR on the avahi dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/10/09 17:39:38 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main=		gnome-vfs2-${VERSION}
d12 1
@


1.50
log
@Minor update to gnome-vfs2-2.24.2

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/06/11 18:38:17 ajacoutot Exp $
d34 1
a34 1
LIB_DEPENDS+=		avahi-client,avahi-common,avahi-glib::net/avahi,no_gtk,no_qt3,no_qt4
@


1.49
log
@Bump after recent gconf2 MODULE change.
gconf2 MODULE was tricky to get right for *all* ports. I think I finally
got it, if you see any fallout, please contact me asap.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/06/10 15:23:54 ajacoutot Exp $
d9 3
a11 3
GNOME_VERSION=		2.24.1
PKGNAME-main=		gnome-vfs2-${VERSION}p5
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}p4
@


1.48
log
@Some wantlib cleanups.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2009/06/08 18:24:41 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main=		gnome-vfs2-${VERSION}p4
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}p3
@


1.47
log
@Reorder dependencies.
While here, remove PKGNAME which made kili@@ confused ;-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/06/08 17:59:15 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main=		gnome-vfs2-${VERSION}p3
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}p2
a38 1
			${MODGCONF2_LIB_DEPENDS} \
a42 1
WANTLIB-smb=		${WANTLIB} gconf-2
a49 2
MODGCONF2_LIBDEP=	No
MODGCONF2_RUNDEP=	No
@


1.46
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/06/07 11:03:21 ajacoutot Exp $
d10 2
a11 3
PKGNAME=		gnome-vfs2-${VERSION}
PKGNAME-main=		gnome-vfs2-${VERSION}p2
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}p1
d39 1
d44 1
a44 1
WANTLIB-smb=		${WANTLIB}
d52 2
@


1.45
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/06/04 22:01:26 sthen Exp $
d11 2
a12 2
PKGNAME-main=		gnome-vfs2-${VERSION}p1
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}p0
@


1.44
log
@unbreak the avahi/qt4/gstreamer-base/vfs2/avahi circle; ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/06/03 17:17:47 ajacoutot Exp $
d11 1
a11 1
PKGNAME-main=		gnome-vfs2-${VERSION}p0
d27 3
a29 1
			x11/gnome
a31 1
			gconf-2.>=5::devel/gconf2 \
d51 2
a53 2
			--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gnome-vfs2 \
			--disable-schemas-install \
@


1.43
log
@- add avahi support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2009/03/17 15:53:37 ajacoutot Exp $
d32 3
a34 2
			dbus-glib-1.>=3::x11/dbus-glib \
			avahi-client,avahi-common,avahi-glib::net/avahi
@


1.42
log
@- minor update to gnome-vfs2-2.24.1
* Fix memory leaks
* Updated translations
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/02/11 15:47:52 jasper Exp $
d11 2
a12 2
PKGNAME-main=		gnome-vfs2-${VERSION}
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}
d32 2
a33 1
			dbus-glib-1.>=3::x11/dbus-glib
d53 1
a53 1
			--disable-avahi \
@


1.41
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2009/02/11 15:33:53 jasper Exp $
d9 4
a12 4
GNOME_VERSION=		2.24.0
PKGNAME=		gnome-vfs2-${VERSION}p1
PKGNAME-main=		gnome-vfs2-${VERSION}p1
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}p1
@


1.40
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2008/11/21 18:25:49 jasper Exp $
d10 3
a12 3
PKGNAME=		gnome-vfs2-${VERSION}p0
PKGNAME-main=		gnome-vfs2-${VERSION}p0
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}p0
@


1.39
log
@- update gnome-vfs2 to 2.24.0

feedback and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/10/18 07:39:57 ajacoutot Exp $
d10 3
a12 3
PKGNAME=		gnome-vfs2-${VERSION}
PKGNAME-main=		gnome-vfs2-${VERSION}
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}
@


1.38
log
@- revert; stupid configure args never mean the same
spotted by viq on silc, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2008/10/17 14:19:25 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=		2.20.1
d11 2
a12 2
PKGNAME-main=		gnome-vfs2-${VERSION}p9
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}p9
d15 1
a15 1
SHARED_LIBS +=	gnomevfs-2       2000.0       # .2000.0
d44 1
a44 1
			gnomevfs-2.>=2000::x11/gnome/vfs2
@


1.37
log
@- explicitely disable afs support
no pkg change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/06/28 11:42:27 jasper Exp $
a49 1
			--without-afs \
@


1.36
log
@- fix change of file permissions, instead of error'ing, just works now :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2008/06/23 12:20:16 deanna Exp $
d50 1
@


1.35
log
@Don't use ranged GETs for broken servers, such as youtube.  From
gnome-vfs svn.

ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2008/06/13 21:37:37 ajacoutot Exp $
d11 2
a12 2
PKGNAME-main=		gnome-vfs2-${VERSION}p8
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}p2
@


1.34
log
@- fix typo in substitution: unbreak mime-type detection
- use SUBST_CMD and regen PLIST while here
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2008/06/02 14:10:07 ajacoutot Exp $
d11 1
a11 1
PKGNAME-main=		gnome-vfs2-${VERSION}p7
@


1.33
log
@- remove support for MODGNOME_DEVHELP_FILES from the gnome MODULE ;
it makes more sense to add devhelp as run_depends for gnome-session and
leave it to the user to install it manually for other packages

"if you're as happy as a pig in poop, commit it" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2008/05/26 08:32:57 ajacoutot Exp $
d11 1
a11 1
PKGNAME-main=		gnome-vfs2-${VERSION}p6
d62 2
a63 2
pre-build:
	@@perl -pi -e "s,/usr/local,${LOCALBASE},g" ${WRKSRC}/libgnomevfs/xdgmime.c
@


1.32
log
@- since devhelp files are provided, make it run_depends on devhelp so
that we can actually see them

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2008/05/04 14:36:44 ajacoutot Exp $
d11 1
a11 1
PKGNAME-main=		gnome-vfs2-${VERSION}p5
a39 2
RUN_DEPENDS-main=	${RUN_DEPENDS} \
			:devhelp-*:x11/gnome/devhelp
@


1.31
log
@* gnome-vfs2 cleanups and fixes:
- fix webdav(s) browsing
- don't hardcode /usr/local
- fix some XDG conflicting symbols (from FreeBSD)
- enable gssapi

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/04/09 13:26:15 jasper Exp $
d11 1
a11 1
PKGNAME-main=		gnome-vfs2-${VERSION}p4
d40 2
a41 1
RUN_DEPENDS-main=	${RUN_DEPENDS}
@


1.30
log
@- unbreak after recent glib2 update

testing and ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2008/02/04 17:55:19 jasper Exp $
d11 1
a11 1
PKGNAME-main=		gnome-vfs2-${VERSION}p3
d17 1
a17 1
# GPL/LGPL
d22 1
d35 1
a35 1
WANTLIB-main=		${WANTLIB} c pthread rpcsvc stdc++
d58 5
d64 1
a64 5
	perl -pi -e "s,/usr/local,${LOCALBASE},g" ${WRKSRC}/libgnomevfs/xdgmime.c

post-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnome-vfs2; \
	cp -Rp ${WRKINST}/${SYSCONFDIR}/gnome/* ${PREFIX}/share/examples/gnome-vfs2/
@


1.29
log
@let's face it....add myself as maintainer

requested by and ok ajacoutot@@, ok fkr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2008/01/22 18:27:02 ajacoutot Exp $
d11 2
a12 2
PKGNAME-main=		gnome-vfs2-${VERSION}p2
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}p1
@


1.28
log
@- remove undeeded patch now that mimeinfo.cache is installed in the
right place

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/12/16 00:03:34 jasper Exp $
d11 2
a12 2
PKGNAME-main=		gnome-vfs2-${VERSION}p1
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}p0
@


1.27
log
@- plug some mem leaks

from gnome-vfs svn
ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/11/14 14:59:21 martynas Exp $
d10 2
a11 2
PKGNAME=		gnome-vfs2-${VERSION}p0
PKGNAME-main=		gnome-vfs2-${VERSION}p0
@


1.26
log
@- update to gnome-vfs2-2.20.1;
- fix LIB_DEPENDS;
looks good to jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2007/11/10 14:39:26 jasper Exp $
d10 3
a12 3
PKGNAME=		gnome-vfs2-${VERSION}
PKGNAME-main=		gnome-vfs2-${VERSION}
PKGNAME-smb=		gnome-vfs2-smb-${VERSION}
@


1.25
log
@- update gnome-vfs2 to 2.20.0
- add a samba subpackage (from brad walker <bradmwalker at cableone.net>)
- fix license marker

feedback and ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/07/05 22:50:11 jasper Exp $
d9 1
a9 1
GNOME_VERSION=		2.20.0
d28 1
a28 2
LIB_DEPENDS=		cdda_interface,cdda_paranoia::audio/cdparanoia \
			ORBit-2.>=2::devel/ORBit2 \
d36 1
@


1.24
log
@convert these gnome ports to use the new x11/gnome module.

this module is now mature enough to be used in new ports too.

feedback and ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/06/11 13:12:51 martynas Exp $
d5 2
a6 1
COMMENT=		GNOME Virtual File System
d9 5
a13 3
GNOME_VERSION=		2.18.1
PKGNAME=		gnome-vfs2-${VERSION}p0
SHARED_LIBS +=	gnomevfs-2       1800.1       # .1800.1
d15 3
a17 1
# GPL
d22 2
a23 2
WANTLIB += c crypto dbus-1 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += m pthread rpcsvc ssl stdc++ util z
d28 3
a30 2
LIB_DEPENDS=		dbus-glib-1.>=3::x11/dbus-glib \
			fam::sysutils/fam \
d32 5
a36 2
			gconf-2.>=5::devel/gconf2 \
			cdda_interface,cdda_paranoia::audio/cdparanoia \
d38 8
a45 2
			ORBit-2.>=2::devel/ORBit2
RUN_DEPENDS=		:gnome-mime-data->=2.0.0:x11/gnome/mime-data
a50 1
			--enable-openssl \
d53 1
a53 2
			--disable-howl \
			--disable-samba
@


1.23
log
@workaround Illegal instruction bug (aka famous nautilus network
problem); ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/05/30 09:56:30 jasper Exp $
d5 1
a5 1
COMMENT=		"GNOME Virtual File System"
d7 2
a8 2
VERSION=		2.18.1
DISTNAME=		gnome-vfs-${VERSION}
a10 1
CATEGORIES=		x11/gnome
d20 3
a22 6
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-vfs/2.18/}
EXTRACT_SUFX=		.tar.bz2

MODULES=		devel/gettext
BUILD_DEPENDS=		:p5-XML-Parser-*:textproc/p5-XML-Parser \
			:gnome-mime-data->=2.0.0:x11/gnome/mime-data
a32 3
USE_GMAKE=		Yes
USE_LIBTOOL=		Yes
CONFIGURE_STYLE= 	gnu
@


1.22
log
@HOMEPAGE is taken care of via Makefile.inc, so no need to have it defined
twice when the homepage is http://www.gnome.org/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2007/04/27 22:06:37 jasper Exp $
d9 1
a9 1
PKGNAME=		gnome-vfs2-${VERSION}
@


1.21
log
@update gnome-vfs2 to 2.18.1

based on diffs by alek@@
testing by Mikolaj Kucharski

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD$
a11 2

HOMEPAGE=		http://www.gnome.org/
@


1.20
log
@say goodbye to GNU land.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.19 2006/09/18 12:19:40 espie Exp $
d7 1
a7 1
VERSION=		2.10.1
d9 4
a12 3
PKGNAME=		gnome-vfs2-${VERSION}p0
SHARED_LIBS=		gnomevfs-2 1000.1
CATEGORIES=		devel x11/gnome
a14 14
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-vfs/2.10/}

MODULES=		devel/gettext

LIB_DEPENDS=		bonobo-2,bonobo-activation::x11/gnome/libbonobo \
			bz2::archivers/bzip2 \
			cdda_paranoia,cdda_interface::audio/cdparanoia \
			gconf-2::devel/gconf2

BUILD_DEPENDS=		:p5-XML-Parser-*:textproc/p5-XML-Parser \
			:gnome-mime-data->=2.0.0:x11/gnome/mime-data
RUN_DEPENDS=		:gnome-mime-data->=2.0.0:x11/gnome/mime-data \
			:shared-mime-info-*:misc/shared-mime-info

d20 17
a36 3
WANTLIB=		ORBit-2 ORBitCosNaming-2 glib-2.0 \
			gmodule-2.0 gobject-2.0 gthread-2.0 popt \
			xml2 c crypto m pthread ssl z
d41 7
a47 6
CONFIGURE_STYLE= 	gnu old
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--sysconfdir="${SYSCONFDIR}/gnome"
CONFIGURE_ARGS+=	--disable-gtk-doc
CONFIGURE_ARGS+=	--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gnome-vfs2
CONFIGURE_ARGS+=	--disable-ipv6 \
a52 1
# This port has "/usr/local" hardcoded, we prefer ${LOCALBASE}
d54 1
a54 4
	for i in gnome-vfs-mime-info.c xdgmime.c; do \
		perl -pi -e "s,/usr/local,${LOCALBASE},g" \
			${WRKSRC}/libgnomevfs/$$i; \
	done
d61 2
@


1.19
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/01/08 15:25:49 alek Exp $
d21 1
a21 2
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig \
			:p5-XML-Parser-*:textproc/p5-XML-Parser \
@


1.18
log
@- SHARED_LIBS
- Regen PLIST
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2005/11/08 14:28:41 mbalmer Exp $
d32 2
a33 2
WANTLIB=		ORBit-2 ORBitCosNaming-2 glib-2.0.0.0 \
			gmodule-2.0.0.0 gobject-2.0.0.0 gthread-2.0.0.0 popt \
@


1.17
log
@Disable the use of samba.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2005/05/24 21:50:12 marcm Exp $
d7 2
a8 1
PKGNAME=		gnome-vfs2-${VERSION}
@


1.16
log
@Update for Gnome 2.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2005/03/09 14:19:56 alek Exp $
d44 2
a45 1
			--disable-howl
@


1.15
log
@- Don't pick up net/howl automatically
- Bump PKGNAME

MAINTAINER timeout

ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/12/15 13:57:57 alek Exp $
d5 1
a5 1
VERSION=		2.8.3
d7 1
a7 1
PKGNAME=		gnome-vfs2-${VERSION}p0
d11 1
a11 3
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-vfs/2.8/}
d47 7
@


1.14
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/12/14 01:14:44 marcm Exp $
d7 1
a7 1
PKGNAME=		gnome-vfs2-${VERSION}
d45 2
a46 1
CONFIGURE_ARGS+=	--disable-ipv6
@


1.13
log
@Update to their GNOME 2.8.2 versions:

metacity        2.8.6 -> 2.8.8
gnome-mime-data 2.4.1 -> 2.4.2
nautilus        2.8.1 -> 2.8.2
gnome-panel     2.8.1 -> 2.8.2
gnome-terminal  2.8.0 -> 2.8.2
gnome-vfs2      2.8.2 -> 2.8.3
yelp            2.6.4 -> 2.6.5

GNOME 2.8.2 was announced right before I committed 2.8.1, sheesh.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/12/10 20:36:46 marcm Exp $
d33 3
@


1.12
log
@Update to Gnome 2.8 (.1).

Work done primarily by Francois Briere, thanks Francois.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/10/17 04:41:20 marcm Exp $
d5 1
a5 1
VERSION=		2.8.2
@


1.11
log
@Simplify Gnome config file handling.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/08/10 10:56:43 xsa Exp $
d5 1
a5 1
VERSION=		2.6.1.1
d13 1
a13 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-vfs/2.6/}
d36 1
@


1.10
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/06/23 03:26:21 marcm Exp $
a33 1
CONFDIR=		${SYSCONFDIR}/gnome
d38 1
a38 1
CONFIGURE_ARGS+=	--sysconfdir="${CONFDIR}"
a43 1
SUBST_VARS=		CONFDIR
d47 1
a47 1
	cp -Rp ${WRKINST}/${CONFDIR}/* ${PREFIX}/share/examples/gnome-vfs2/
@


1.10.2.1
log
@MFC:

disable extfs-support, as it is broken and prone to security problems
see
http://www.vuxml.org/openbsd/f009a996-5c98-11d9-b1e2-080020f8e4df.html
for details

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/08/10 10:56:43 xsa Exp $
d7 1
a7 1
PKGNAME=		gnome-vfs2-${VERSION}p0
@


1.9
log
@Monster update to Gnome 2.6.  See, I am not slacking, really!

Change info on a Gnome mirror near you.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/02/22 05:34:26 marcm Exp $
d15 1
a15 1
MODULES=		gettext
@


1.8
log
@This gets updated to Gnome 2.4.2 too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/01/29 18:23:40 sturm Exp $
d5 1
a5 1
VERSION=		2.4.2
d13 1
a13 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-vfs/2.4/}
d25 2
a26 1
RUN_DEPENDS=		:gnome-mime-data->=2.0.0:x11/gnome/mime-data
@


1.8.2.1
log
@MFC:

disable extfs-support, as it is broken and prone to security problems
see
http://www.vuxml.org/openbsd/f009a996-5c98-11d9-b1e2-080020f8e4df.html
for details

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/02/22 05:34:26 marcm Exp $
d7 1
a7 1
PKGNAME=		gnome-vfs2-${VERSION}p0
@


1.7
log
@actually this builds fine with systrace
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/12/01 04:13:07 marcm Exp $
d5 1
a5 1
VERSION=		2.4.1
d23 1
@


1.6
log
@Gnome 2.4.1.

Sync versions with the Gnome 2.4.1 release.  Mostly bugfixes, too numerous
to list :).

This also addresses systrace issues and some config file issues from
sturm@@, and wireless applet support from djm@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/10/08 19:56:59 marcm Exp $
a43 2

NO_SYSTRACE=		"Sig 9 error on linking"
@


1.5
log
@Disable systrace here 'til we figure out what it's doing (or not doing
as the case may be).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/10/07 05:48:56 marcm Exp $
d5 1
a5 1
VERSION=		2.4.0
@


1.4
log
@Update to Gnome 2.4.0.
Release notes available at: http://www.gnome.org/start/2.4/notes/

Please note that x11/gnome/bonobo-activation is now part of libbonobo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/06/12 19:53:49 marcm Exp $
d44 2
@


1.3
log
@Update to GNOME 2.2.2.
@
text
@d5 1
a5 1
VERSION=		2.2.5
d13 1
a13 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-vfs/2.2/}
d15 3
a17 1
LIB_DEPENDS=		bonobo-2::x11/gnome/libbonobo \
d22 1
a22 1
BUILD_DEPENDS=		:pkgconfig->=0.8.0:devel/pkgconfig \
d40 1
@


1.2
log
@Update to 2.2.3 in support of Gnome 2.2.1.

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/01/31 19:08:33 todd Exp $
d5 1
a5 1
VERSION=		2.2.3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/05/15 18:05:18 espie Exp $
d5 1
a5 1
VERSION=		2.0.4.1
d13 1
a13 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-vfs/2.0/}
d30 1
d33 1
a33 1
CONFIGURE_STYLE= 	gnu
d35 2
d40 1
d44 1
a44 1
	cp -Rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/gnome-vfs2/
@


1.1.1.1
log
@Import gnome-vfs2-2.0.4.1
--
This is the GNOME Virtual File System.

GNOME VFS is currently used as one of the foundations of the Nautilus
file manager.

From marcm for gnome2
@
text
@@
