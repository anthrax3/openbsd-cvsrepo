head	1.75;
access;
symbols
	OPENBSD_6_2:1.75.0.2
	OPENBSD_6_2_BASE:1.75
	OPENBSD_6_1:1.74.0.8
	OPENBSD_6_1_BASE:1.74
	OPENBSD_6_0:1.74.0.6
	OPENBSD_6_0_BASE:1.74
	OPENBSD_5_9:1.74.0.2
	OPENBSD_5_9_BASE:1.74
	OPENBSD_5_8:1.74.0.4
	OPENBSD_5_8_BASE:1.74
	OPENBSD_5_7:1.72.0.2
	OPENBSD_5_7_BASE:1.72
	OPENBSD_5_6:1.70.0.2
	OPENBSD_5_6_BASE:1.70
	OPENBSD_5_5:1.67.0.2
	OPENBSD_5_5_BASE:1.67
	OPENBSD_5_4:1.62.0.2
	OPENBSD_5_4_BASE:1.62
	OPENBSD_5_3:1.57.0.2
	OPENBSD_5_3_BASE:1.57
	OPENBSD_5_2:1.52.0.2
	OPENBSD_5_2_BASE:1.52
	OPENBSD_5_1_BASE:1.48
	OPENBSD_5_1:1.48.0.2
	OPENBSD_5_0:1.39.0.2
	OPENBSD_5_0_BASE:1.39
	OPENBSD_4_9:1.36.0.2
	OPENBSD_4_9_BASE:1.36
	OPENBSD_4_8:1.33.0.2
	OPENBSD_4_8_BASE:1.33
	OPENBSD_4_7:1.28.0.2
	OPENBSD_4_7_BASE:1.28
	OPENBSD_4_6:1.25.0.2
	OPENBSD_4_6_BASE:1.25
	OPENBSD_4_5:1.24.0.2
	OPENBSD_4_5_BASE:1.24
	OPENBSD_4_4:1.18.0.2
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.16.0.2
	OPENBSD_4_3_BASE:1.16
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.9.0.2
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.8.0.6
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.8.0.4
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.8.0.2
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2
	marcm_2003-jun-12:1.1.1.1
	marcm:1.1.1;
locks; strict;
comment	@# @;


1.75
date	2017.04.13.07.38.45;	author ajacoutot;	state Exp;
branches;
next	1.74;
commitid	lvCz8KVE6EBCyLTt;

1.74
date	2015.05.22.11.36.15;	author ajacoutot;	state Exp;
branches;
next	1.73;
commitid	xOFjcZcFz55vTZ3d;

1.73
date	2015.03.27.08.16.16;	author ajacoutot;	state Exp;
branches;
next	1.72;
commitid	BUhOiEl2FUSRKwq7;

1.72
date	2014.10.02.19.50.37;	author ajacoutot;	state Exp;
branches;
next	1.71;
commitid	0gBoB9LrG0Q2oWle;

1.71
date	2014.10.02.19.25.18;	author ajacoutot;	state Exp;
branches;
next	1.70;
commitid	YZBrR5DCjLWCfa8J;

1.70
date	2014.04.01.18.38.53;	author jasper;	state Exp;
branches;
next	1.69;

1.69
date	2014.04.01.08.14.17;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2014.03.26.13.31.46;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2013.10.11.15.01.42;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2013.10.11.14.42.17;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2013.09.28.08.51.20;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2013.09.26.06.26.51;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2013.08.06.19.07.37;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2013.05.14.06.20.28;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2013.04.03.07.41.15;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2013.04.03.07.13.19;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2013.03.29.07.49.30;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2013.03.11.11.46.11;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2012.11.17.09.40.42;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2012.11.14.07.04.27;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2012.10.17.08.50.40;	author dcoppa;	state Exp;
branches;
next	1.54;

1.54
date	2012.09.27.07.40.09;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2012.09.27.07.18.51;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2012.06.15.08.30.19;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2012.06.15.07.21.58;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2012.03.29.06.35.37;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2012.03.19.10.28.48;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2011.12.03.18.45.02;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2011.10.19.12.59.07;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2011.10.19.12.44.40;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2011.10.18.15.17.20;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2011.09.28.09.47.47;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2011.09.27.13.02.00;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2011.09.16.12.29.14;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2011.09.12.12.04.17;	author jasper;	state Exp;
branches;
next	1.40;

1.40
date	2011.09.12.07.28.52;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2011.05.19.14.43.16;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2011.05.19.07.50.37;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2011.05.11.08.03.23;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.11.22.08.36.57;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.18.13.18.14;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.06.13.51.58;	author dcoppa;	state Exp;
branches;
next	1.33;

1.33
date	2010.05.26.14.52.35;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2010.05.01.22.22.00;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2010.04.29.15.26.43;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2010.04.27.14.44.09;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.04.20.17.49.51;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2009.12.21.18.03.18;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.10.14.16.57.15;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2009.10.10.13.45.31;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2009.03.05.19.41.14;	author landry;	state Exp;
branches;
next	1.24;

1.24
date	2009.02.11.15.47.50;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2009.02.11.15.33.52;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2008.11.21.18.04.45;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2008.10.08.13.00.00;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2008.10.08.12.43.38;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2008.10.08.11.41.52;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2008.07.11.08.05.35;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2008.04.17.08.35.16;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2008.03.05.17.22.27;	author bernd;	state Exp;
branches;
next	1.15;

1.15
date	2008.02.19.14.57.34;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2008.02.04.17.55.18;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2007.10.24.15.50.41;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2007.07.05.22.50.10;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2007.05.30.09.56.30;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2007.04.24.19.46.24;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2007.01.18.21.52.52;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2005.05.24.22.06.27;	author marcm;	state Exp;
branches;
next	1.7;

1.7
date	2004.12.10.20.36.43;	author marcm;	state Exp;
branches;
next	1.6;

1.6
date	2004.07.07.14.32.10;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2004.06.23.03.26.13;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.10.11.02.38.58;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.10.07.05.48.54;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.08.06.06.32.51;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.06.12.20.16.58;	author marcm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.06.12.20.16.58;	author marcm;	state Exp;
branches;
next	;


desc
@@


1.75
log
@Stop setting CONFIGURE_STYLE in Makefile.inc but explicitely add it to ports
that need it; in the future more and more ports will move to meson build anyway.
I first though I'd set CONFIGURE_STYLE in gnome.port.mk but it's too fragile
(MODULES list must be sorted very carefully).
Less magic is good.

discussed with jasper@@
@
text
@# $OpenBSD: Makefile,v 1.74 2015/05/22 11:36:15 ajacoutot Exp $

PKG_ARCH=	*

COMMENT=	base icon theme for GNOME

GNOME_PROJECT=	gnome-icon-theme
GNOME_VERSION=	3.12.0
REVISION=	3

CATEGORIES=	x11

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

MODULES=	x11/gnome

BUILD_DEPENDS=	x11/icon-naming-utils

# gnome-icon-theme is the inherited theme for most icon themes so we
# make sure we have gtk-update-icon-cache and can display svg icons.
MODGNOME_TOOLS +=	gtk-update-icon-cache
RUN_DEPENDS +=		x11/gnome/librsvg

CONFIGURE_STYLE=	gnu

# do not enforce build dependency on gtk-update-icon-cache
CONFIGURE_ENV +=	ac_cv_path_GTK_UPDATE_ICON_CACHE=/usr/bin/true

# installs empty share/locale/... directories
CONFIGURE_ARGS +=	--disable-nls

.include <bsd.port.mk>
@


1.74
log
@"/usr/local/share/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2015/03/27 08:16:16 ajacoutot Exp $
d24 2
@


1.73
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2014/10/02 19:50:37 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
@


1.72
log
@Revert after symbolic re-add.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2014/10/02 19:25:18 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.71
log
@Provide an upgrade path for theme-extras and theme-symbolic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2014/04/01 18:38:53 jasper Exp $
d9 1
a9 1
REVISION=	0
@


1.70
log
@switch over port to MODGNOME_TOOLS that didnt have it yet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2014/04/01 08:14:17 ajacoutot Exp $
d9 1
@


1.69
log
@Use CONFIGURE_ENV instead of a hackish link.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2014/03/26 13:31:46 ajacoutot Exp $
d21 1
a21 1
MODGNOME_ICON_CACHE=	Yes
@


1.68
log
@Update to gnome-icon-theme-3.12.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/10/11 15:01:42 ajacoutot Exp $
d24 2
a25 2
CONFIGURE_ARGS=	--enable-icon-mapping \
		--disable-nls
d27 2
a28 4
# gtk-update-icon-cache is checked by configure but do not enforce the
# dependency: we don't need to run it, the package takes care of that
pre-configure:
	ln -s /usr/bin/true ${WRKDIR}/bin/gtk-update-icon-cache
@


1.67
log
@Actually do previous from gtk+ itself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/10/11 14:42:17 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.10.0
REVISION=	2
@


1.66
log
@Install default gtkrc under PREFIX/share/gtk-2.0/ instead of SYSCONFDIR.
This makes it easier to do local changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/09/28 08:51:20 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
d18 1
a18 1
BUILD_DEPENDS=	x11/icon-naming-utils>=0.8.90
a27 3
# don't run gtk-update-icon-cache, the package takes care of it
CONFIGURE_ENV += ac_cv_path_GTK_UPDATE_ICON_CACHE=/usr/bin/true

a31 11

# Unbreak GTK+ applications that use gnome-icon-theme, when executed outside
# of a Desktop Environment
EXAMPLEDIR=	${PREFIX}/share/examples/${GNOME_PROJECT}
post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/gtk-2.0
	@@echo 'gtk-icon-theme-name = "gnome"' > \
		${PREFIX}/share/gtk-2.0/gtkrc
	${INSTALL_DATA_DIR} ${EXAMPLEDIR}/gtk-3.0
	@@printf "[Settings]\ngtk-icon-theme-name = gnome\n" > \
		${EXAMPLEDIR}/gtk-3.0/settings.ini
@


1.65
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2013/09/26 06:26:51 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
a30 2
EXAMPLEDIR=	${PREFIX}/share/examples/${GNOME_PROJECT}

d38 1
d40 3
a42 1
	${INSTALL_DATA_DIR} ${EXAMPLEDIR}/gtk-2.0
a43 2
	@@echo 'gtk-icon-theme-name = "gnome"' > \
		${EXAMPLEDIR}/gtk-2.0/gtkrc
@


1.64
log
@Update to gnome-icon-theme-3.10.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/08/06 19:07:37 ajacoutot Exp $
d9 1
@


1.63
log
@Update to gnome-icon-theme 3.8.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/05/14 06:20:28 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.8.3
@


1.62
log
@Update to gnome-icon-theme-3.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/04/03 07:41:15 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.8.2
@


1.61
log
@Remove deprecated comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/04/03 07:13:19 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.8.0
@


1.60
log
@We can get away with the gtk-update-icon-cache build dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/03/29 07:49:30 ajacoutot Exp $
a18 2
# If we have svg icons without their png counterpart and librsvg is not
# part of the dependency chain then we explicitely add it.
@


1.59
log
@Update to gnome-icon-theme-3.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/03/11 11:46:11 espie Exp $
a18 3
# gtk-update-icon-cache is used at build time
BUILD_DEPENDS +=x11/gtk+2,-guic

d33 5
@


1.58
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2012/11/17 09:40:42 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.6.2
@


1.57
log
@Default libtool(1) is in base now so there is no point in settings
USE_LIBTOOL to no since this has no implication on the build for these
particular ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/11/14 07:04:27 ajacoutot Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.56
log
@Update to gnome-icon-theme-3.6.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/10/17 08:50:40 dcoppa Exp $
a31 1
USE_LIBTOOL=	No
@


1.55
log
@Unbreak GTK+3 applications that use gnome-icon-theme, when executed
outside of a Desktop Environment.
Basically, it's the same trick I did for GTK+2, applied to GTK+3.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/09/27 07:40:09 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.6.0
REVISION=	1
@


1.54
log
@Unbreak updating.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/09/27 07:18:51 jasper Exp $
d9 1
a9 1
REVISION=	0
d42 1
a42 1
# Unbreak gtk+2 applications that use gnome-icon-theme, when executed outside
d46 1
d49 2
@


1.53
log
@- update to gnome-icon-theme-3.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/06/15 08:30:19 ajacoutot Exp $
d9 1
d36 3
@


1.52
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.51 2012/06/15 07:21:58 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.4.0
REVISION=	0
a31 2
PKG_ARCH=	*

d38 2
a40 2
# Unbreak gtk+2 applications that use gnome-icon-theme, when 
# executed outside of a Desktop Environment
@


1.51
log
@BUILD_DEPENDS on gtk-update-icon-cache.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/03/29 06:35:37 ajacoutot Exp $
d7 1
@


1.50
log
@Update to gnome-icon-theme-3.4.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/03/19 10:28:48 ajacoutot Exp $
d20 3
a36 5

# no need to build_depends on gtk+2|gtk+3, we run gtk-update-icon-cache
# at pkg_add time if it is available
post-extract:
	ln -sf /usr/bin/true ${WRKDIR}/bin/gtk-update-icon-cache
@


1.49
log
@Our pkg-config(1) can now cope with files under share/pkgconfig, so
remove these now unneeded hacks/patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/12/03 18:45:02 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	3.2.1.1
REVISION=	2
@


1.48
log
@Use MODGNOME_ICON_CACHE and fix gtk-update-icon-cache calls.
I will commit gtk-update-icon-cache by batch now, but I needed this
example to be in.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/10/19 12:59:07 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
a34 2

FAKE_FLAGS=	pkgconfigdir=${PREFIX}/lib/pkgconfig
@


1.47
log
@@@unexec-delete -> @@unexec, to prevent pkg_add -u from whining.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/10/19 12:44:40 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
d21 2
a22 5
# Rational: except for QT/KDE ports, gtk+2 should already be in the
# dependency chain for ports installing share/icons/ files (i.e. no need
# to explicitely add it) and if we have svg icons without their png
# counterpart and librsvg is not part of the dependency chain then we
# explicitely add it.
d25 2
a26 2
RUN_DEPENDS +=	x11/gtk+2 \
		x11/gnome/librsvg
@


1.46
log
@Update to gnome-icon-theme-3.2.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/10/18 15:17:20 ajacoutot Exp $
d7 1
@


1.45
log
@Update to gnome-icon-theme-3.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/09/28 09:47:47 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.2.1
@


1.44
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/09/27 13:02:00 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.2.0
@


1.43
log
@- update to 3.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/09/16 12:29:14 espie Exp $
a32 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.42
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/09/12 12:04:17 jasper Exp $
d6 1
a6 2
GNOME_VERSION=	3.0.0
REVISION=	3
a14 2

EXTRACT_SUFX=		.tar.bz2
@


1.41
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/09/12 07:28:52 jasper Exp $
d7 1
a7 1
REVISION=	2
@


1.40
log
@Moar GNOME3 merge
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/05/19 14:43:16 ajacoutot Exp $
d16 2
@


1.39
log
@We want to use @@unexec here and not @@unexec-delete.
The reason is that if a theme is removed after updating to a new version,
then we are left over with a useless cache file because we are using
pkg_add -u and not pkg_delete.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/05/19 07:50:37 ajacoutot Exp $
d6 2
a7 2
GNOME_VERSION=	2.30.3
REVISION=	3
d19 1
a19 2
BUILD_DEPENDS=	devel/gettext \
		x11/icon-naming-utils>=0.8.90
d21 1
a21 1
# Rational: except for QT/KDE ports, gtk+ should already be in the
d35 3
a37 4
		LDFLAGS="-L${LOCALBASE}/lib" \
		ac_cv_path_GIT=false \
		ac_cv_path_INKSCAPE=false \
		ac_cv_path_ICONTOOL_RENDER=false
d40 7
@


1.38
log
@Add gtk+2 and librsvg to RUN_DEPENDS.

Rational: except for QT/KDE ports, gtk+2 should already be in the
dependency chain for ports installing share/icons/ files (i.e. no need
to explicitely add it) and if we have svg icons without their png
counterpart and librsvg is not part of the dependency chain then we
explicitely add it.
gnome-icon-theme is the inherited theme for most icon themes so we
make sure we have gtk-update-icon-cache and can display svg icons.

landry@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/05/11 08:03:23 ajacoutot Exp $
d7 1
a7 1
REVISION=	2
@


1.37
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/11/22 08:36:57 espie Exp $
d7 1
a7 1
REVISION=	1
d21 10
@


1.36
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/10/18 13:18:14 jasper Exp $
d7 1
a7 1
REVISION=	0
@


1.35
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/06 13:51:58 dcoppa Exp $
d19 2
a20 2
BUILD_DEPENDS=	:gettext-*:devel/gettext \
		:icon-naming-utils->=0.8.90:x11/icon-naming-utils
@


1.34
log
@gtk+2-2.22.0 is more picky about missing icons.
Work around this by installing, alongside gnome-icon-theme, a system-wide
gtkrc containing the line:

gtk-icon-theme-name="gnome"

This avoids assertion failures regarding missing icons with GTK+
applications when executed outside of a Desktop Environment like GNOME
or XFCE.

Also remove x11/gtk+2/pkg/MESSAGE-main which is no longer needed.

Problem noticed by Patrick Keshishian

Discussed with and OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/05/26 14:52:35 ajacoutot Exp $
a23 1
USE_X11=	Yes
@


1.33
log
@Minor update to gnome-icon-theme-2.30.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/05/01 22:22:00 ajacoutot Exp $
d7 1
d31 9
@


1.32
log
@Set PKG_ARCH=*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/04/29 15:26:43 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	2.30.2.1
PKGNAME=	${DISTNAME}p0
@


1.31
log
@Update to gnome-icon-theme-2.30.2.1.
* fix some icons names
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/04/27 14:44:09 ajacoutot Exp $
d7 1
d21 2
@


1.30
log
@Update to gnome-icon-theme-2.30.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/04/20 17:49:51 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	2.30.2
@


1.29
log
@- update gnome-icon-theme to 2.30.1
* for unknown reason, upstream decided to remove the .svg icons....
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/12/21 18:03:18 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.30.1
@


1.28
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/10/14 16:57:15 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	2.28.0
PKGNAME=	${DISTNAME}p1
a19 1
RUN_DEPENDS=	::x11/gnome/librsvg
d24 4
a27 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.27
log
@Add a run_dependency on rsvg. Most icons are svg now so instead of
wondering why some icons seem missing, make sure we are actually able to
display theme.
Idea from Debian.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/10/10 13:45:31 jasper Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
@


1.26
log
@- update gnome-icon-theme to 2.28.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/03/05 19:41:14 landry Exp $
d3 1
a3 1
COMMENT=		base icon theme for GNOME
d5 5
a9 3
GNOME_PROJECT=		gnome-icon-theme
GNOME_VERSION=		2.28.0
CATEGORIES=		x11
d17 1
a17 4
MODULES=		x11/gnome

BUILD_DEPENDS=		:gettext-*:devel/gettext \
			:icon-naming-utils->=0.8.90:x11/icon-naming-utils
d19 8
a26 4
USE_X11=		Yes
USE_LIBTOOL=		No
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.25
log
@Update PLIST after icon-naming-utils update & bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/02/11 15:47:50 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		2.24.0
PKGNAME=		${DISTNAME}p2
@


1.24
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/02/11 15:33:52 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d19 1
a19 1
			:icon-naming-utils->=0.8.7:x11/icon-naming-utils
@


1.23
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/11/21 18:04:45 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.22
log
@- update gnome-icon-theme to 2.24.0

feedback and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/10/08 13:00:00 ajacoutot Exp $
d7 1
@


1.21
log
@- fuck me, move @@unexec-delete at the end of the PLIST as under some
circumstances the icon-cache file would be recreated by @@unexec

spotted by Mikolaj Kucharski, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/10/08 12:43:38 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.22.0
PKGNAME=		${DISTNAME}p2
@


1.20
log
@- oops, missing %D in PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/10/08 11:41:52 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.19
log
@- remove cache file on pkg_delete

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/07/11 08:05:35 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.18
log
@- update gnome-icon-theme to 2.22.0
(unbreak after recent icon-naming-utils update, spotted by sturm@@, thanks!)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/04/17 08:35:16 ajacoutot Exp $
d7 1
@


1.17
log
@- don't depend on gtk+2 just for running gtk-update-icon-cache
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/03/05 17:22:27 bernd Exp $
d6 1
a6 1
GNOME_VERSION=		2.20.0
a7 1
PKGNAME=		${DISTNAME}p3
d18 1
a18 1
			:icon-naming-utils->=0.8.1:x11/icon-naming-utils
@


1.16
log
@Add gtk+2 to RUN_DEPENDS so gtk-update-icon-cache(1) can run correctly.

ok naddy@@, pvalchev@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/02/19 14:57:34 ajacoutot Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p2
a19 3

# Needed to run gtk-update-icon-cache(1) at install time.
RUN_DEPENDS=		::x11/gtk+2
@


1.15
log
@- add missing gtk-update-icon-cache goos to speed up icons loading

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/02/04 17:55:18 jasper Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p1
d20 3
@


1.14
log
@let's face it....add myself as maintainer

requested by and ok ajacoutot@@, ok fkr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/10/24 15:50:41 jasper Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p0
d10 1
a10 1
# GPL
@


1.13
log
@update gnome-icon-theme to 2.20

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/07/05 22:50:10 jasper Exp $
d8 1
@


1.12
log
@convert these gnome ports to use the new x11/gnome module.

this module is now mature enough to be used in new ports too.

feedback and ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/05/30 09:56:30 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		2.18.0
PKGNAME=		${DISTNAME}p0
d9 1
a9 1
# LGPL
@


1.11
log
@HOMEPAGE is taken care of via Makefile.inc, so no need to have it defined
twice when the homepage is http://www.gnome.org/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/04/24 19:46:24 jasper Exp $
d3 1
a3 1
COMMENT=		"base icon theme for GNOME"
d5 2
a6 1
DISTNAME=		gnome-icon-theme-2.18.0
d8 1
a8 4
CATEGORIES=		x11 x11/gnome

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-icon-theme/2.18/}
EXTRACT_SUFX=           .tar.bz2
d16 2
a18 1
			::textproc/p5-XML-Parser \
d22 1
a22 2
USE_GMAKE=		Yes
CONFIGURE_STYLE= 	gnu
@


1.10
log
@update gnome-icon-theme to 2.18.0

ok martynas@@, feedback from steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/01/18 21:52:52 jasper Exp $
d6 1
a7 2

HOMEPAGE=		http://www.gnome.org
@


1.9
log
@update gnome-icon-theme to 2.16.1

based on work by Alexander Wirt <alexander.wirt@@credativ.de>

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/05/24 22:06:27 marcm Exp $
d3 1
a3 1
COMMENT=		"the base GNOME icon theme"
d5 1
a5 1
DISTNAME=		gnome-icon-theme-2.16.1
d10 1
a10 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-icon-theme/2.16/}
d19 1
a19 1
BUILD_DEPENDS=		::devel/gettext \
a20 2
			::textproc/intltool \
			::x11/hicolor-icon-theme \
a21 1
RUN_DEPENDS=		::x11/hicolor-icon-theme
@


1.8
log
@Update for GNome 2.10 so there are new pretty icons.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/12/10 20:36:43 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-icon-theme-2.10.1
d10 1
a10 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-icon-theme/2.10/}
d19 3
a21 1
BUILD_DEPENDS=		:gettext->=0.10.38:devel/gettext \
d23 1
a23 1
			::textproc/p5-XML-Parser
@


1.7
log
@Update to Gnome 2.8 (.1).

Work done primarily by Francois Briere, thanks Francois.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/07/07 14:32:10 sturm Exp $
d5 1
a5 1
DISTNAME=		gnome-icon-theme-2.8.0
a8 1
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
d10 1
a10 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-icon-theme/2.8/}
d20 1
a20 1
			:hicolor-icon-theme-*:x11/hicolor-icon-theme \
d22 1
a22 1
RUN_DEPENDS=		:hicolor-icon-theme-*:x11/hicolor-icon-theme
a28 4

# Fix ogg icon
post-install:
#	@@mv ${PREFIX}/share/icons/gnome/48x48/mimetypes/gnome-mime-application-x-ogg.png ${PREFIX}/share/icons/gnome/48x48/mimetypes/gnome-mime-application-ogg.png
@


1.6
log
@this needs p5-XML-Parser to build

ok marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/06/23 03:26:13 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-icon-theme-1.2.3
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-icon-theme/1.2/}
@


1.5
log
@Monster update to Gnome 2.6.  See, I am not slacking, really!

Change info on a Gnome mirror near you.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/10/11 02:38:58 marcm Exp $
d21 2
a22 1
			:hicolor-icon-theme-*:x11/hicolor-icon-theme
@


1.4
log
@Make the ogg icon match the right ogg mime type.  Now my oggs have
pretty icons :).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/10/07 05:48:54 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-icon-theme-1.0.9
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-icon-theme/1.0/}
d20 3
a22 1
BUILD_DEPENDS=		:gettext->=0.10.38:devel/gettext
d32 1
a32 1
	@@mv ${PREFIX}/share/icons/gnome/48x48/mimetypes/gnome-mime-application-x-ogg.png ${PREFIX}/share/icons/gnome/48x48/mimetypes/gnome-mime-application-ogg.png
@


1.3
log
@Update to Gnome 2.4.0.
Release notes available at: http://www.gnome.org/start/2.4/notes/

Please note that x11/gnome/bonobo-activation is now part of libbonobo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/08/06 06:32:51 marcm Exp $
d27 4
@


1.2
log
@Update to 1.0.6.  Lots of shiny new icons for GNOME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/06/12 20:16:58 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-icon-theme-1.0.6
d20 2
d23 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/02/18 07:14:46 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-icon-theme-1.0.1
@


1.1.1.1
log
@The default icons for Gnome 2.2.

ok jolan@@
@
text
@@
