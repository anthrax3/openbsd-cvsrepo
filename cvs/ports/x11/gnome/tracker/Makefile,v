head	1.222;
access;
symbols
	OPENBSD_6_2:1.222.0.2
	OPENBSD_6_2_BASE:1.222
	OPENBSD_6_1:1.212.0.2
	OPENBSD_6_1_BASE:1.212
	OPENBSD_6_0:1.204.0.2
	OPENBSD_6_0_BASE:1.204
	OPENBSD_5_9:1.198.0.2
	OPENBSD_5_9_BASE:1.198
	OPENBSD_5_8:1.193.0.4
	OPENBSD_5_8_BASE:1.193
	OPENBSD_5_7:1.181.0.2
	OPENBSD_5_7_BASE:1.181
	OPENBSD_5_6:1.172.0.2
	OPENBSD_5_6_BASE:1.172
	OPENBSD_5_5:1.160.0.2
	OPENBSD_5_5_BASE:1.160
	OPENBSD_5_4:1.147.0.2
	OPENBSD_5_4_BASE:1.147
	OPENBSD_5_3:1.126.0.2
	OPENBSD_5_3_BASE:1.126
	OPENBSD_5_2:1.110.0.2
	OPENBSD_5_2_BASE:1.110
	OPENBSD_5_1_BASE:1.94
	OPENBSD_5_1:1.94.0.2
	OPENBSD_5_0:1.63.0.2
	OPENBSD_5_0_BASE:1.63
	OPENBSD_4_9:1.57.0.2
	OPENBSD_4_9_BASE:1.57
	OPENBSD_4_8:1.44.0.2
	OPENBSD_4_8_BASE:1.44
	OPENBSD_4_7:1.21.0.2
	OPENBSD_4_7_BASE:1.21
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	jasper_20090421:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.222
date	2017.09.28.23.39.53;	author naddy;	state Exp;
branches;
next	1.221;
commitid	NLHVXiOyd2fLsPAj;

1.221
date	2017.08.24.09.45.23;	author sthen;	state Exp;
branches;
next	1.220;
commitid	PnxiRKB45Z5BPng8;

1.220
date	2017.08.24.07.19.09;	author ajacoutot;	state Exp;
branches;
next	1.219;
commitid	dXpn9Zm3rq3JBu4M;

1.219
date	2017.08.17.09.46.04;	author ajacoutot;	state Exp;
branches;
next	1.218;
commitid	pIJdLmOrdgvOXpld;

1.218
date	2017.07.26.22.45.33;	author sthen;	state Exp;
branches;
next	1.217;
commitid	tD4MFrpYYDDL2UFT;

1.217
date	2017.07.16.19.19.04;	author espie;	state Exp;
branches;
next	1.216;
commitid	tt0GhWK5c4uf9ILG;

1.216
date	2017.06.29.08.38.36;	author ajacoutot;	state Exp;
branches;
next	1.215;
commitid	TcQFR4dq2ESSkCQI;

1.215
date	2017.04.17.10.24.27;	author ajacoutot;	state Exp;
branches;
next	1.214;
commitid	QVTzWFi2wmoqjSpI;

1.214
date	2017.04.12.09.27.31;	author ajacoutot;	state Exp;
branches;
next	1.213;
commitid	4tc7BxBiQTFHrATh;

1.213
date	2017.04.10.11.46.36;	author sthen;	state Exp;
branches;
next	1.212;
commitid	HY6VNZxjJWzKQFDV;

1.212
date	2017.02.23.13.16.55;	author ajacoutot;	state Exp;
branches;
next	1.211;
commitid	PmuQ0CtQTJbfNfMQ;

1.211
date	2017.01.19.23.26.07;	author ajacoutot;	state Exp;
branches;
next	1.210;
commitid	RPzI3eFFXKvGb5UU;

1.210
date	2016.12.17.16.23.54;	author zhuk;	state Exp;
branches;
next	1.209;
commitid	hRdkrcEVuCK2eRh0;

1.209
date	2016.12.16.13.59.38;	author ajacoutot;	state Exp;
branches;
next	1.208;
commitid	iytNE7qhwWGjAWH4;

1.208
date	2016.12.09.09.12.01;	author ajacoutot;	state Exp;
branches;
next	1.207;
commitid	ByFYtkuIG57019Ia;

1.207
date	2016.10.31.11.07.25;	author ajacoutot;	state Exp;
branches;
next	1.206;
commitid	o8C2Cq9tgeqnfRHA;

1.206
date	2016.10.09.15.26.59;	author ajacoutot;	state Exp;
branches;
next	1.205;
commitid	zeHbN1732OyxgwZc;

1.205
date	2016.09.06.13.29.37;	author ajacoutot;	state Exp;
branches;
next	1.204;
commitid	1BoZrQVrLnPLxqnx;

1.204
date	2016.05.10.05.55.19;	author ajacoutot;	state Exp;
branches;
next	1.203;
commitid	O6gkeQZTcZGevqWL;

1.203
date	2016.05.08.13.45.55;	author ajacoutot;	state Exp;
branches;
next	1.202;
commitid	gCObjnuxrhEpEGNz;

1.202
date	2016.04.28.12.59.38;	author ajacoutot;	state Exp;
branches;
next	1.201;
commitid	3UEBOGVsabH4RJPy;

1.201
date	2016.04.25.16.40.38;	author ajacoutot;	state Exp;
branches;
next	1.200;
commitid	TYq3ggjcpEgrABNO;

1.200
date	2016.03.20.16.12.27;	author naddy;	state Exp;
branches;
next	1.199;
commitid	guiZq8cnNbVyyHzx;

1.199
date	2016.03.02.07.22.38;	author ajacoutot;	state Exp;
branches;
next	1.198;
commitid	EQseXEDJqGO38H8I;

1.198
date	2015.12.01.16.43.29;	author sthen;	state Exp;
branches;
next	1.197;
commitid	J2UA92s6AZASV2rR;

1.197
date	2015.11.26.07.12.03;	author ajacoutot;	state Exp;
branches;
next	1.196;
commitid	eouRxek0J7xo6NQY;

1.196
date	2015.10.11.17.33.33;	author ajacoutot;	state Exp;
branches;
next	1.195;
commitid	uN67pBGPYaAqS4zI;

1.195
date	2015.10.06.16.20.53;	author ajacoutot;	state Exp;
branches;
next	1.194;
commitid	i9l4DMYYLaY8Z0YT;

1.194
date	2015.09.25.06.56.02;	author ajacoutot;	state Exp;
branches;
next	1.193;
commitid	Zbe10pp7FD0CXth8;

1.193
date	2015.07.31.18.39.30;	author ajacoutot;	state Exp;
branches;
next	1.192;
commitid	Gf5ugkSIpCkUvGcE;

1.192
date	2015.07.18.22.34.53;	author ajacoutot;	state Exp;
branches;
next	1.191;
commitid	vFz4VQKHAUwVg9Gu;

1.191
date	2015.05.15.14.50.19;	author ajacoutot;	state Exp;
branches;
next	1.190;
commitid	3kIKYdiyRCMX48Di;

1.190
date	2015.05.15.14.38.36;	author ajacoutot;	state Exp;
branches;
next	1.189;
commitid	A3ipLtKiCMS05Hv1;

1.189
date	2015.05.05.17.00.20;	author sthen;	state Exp;
branches;
next	1.188;
commitid	ukCYGVBlglFzny8e;

1.188
date	2015.05.04.11.37.08;	author ajacoutot;	state Exp;
branches;
next	1.187;
commitid	LYohCJXsX950PGrt;

1.187
date	2015.04.15.09.40.54;	author ajacoutot;	state Exp;
branches;
next	1.186;
commitid	dfR1rb9OtImYnGFF;

1.186
date	2015.04.13.07.45.20;	author ajacoutot;	state Exp;
branches;
next	1.185;
commitid	a33ZNC5W5Orqh8kE;

1.185
date	2015.04.04.09.21.07;	author ajacoutot;	state Exp;
branches;
next	1.184;
commitid	kS3kwKZogsvzYmEY;

1.184
date	2015.04.03.17.08.05;	author ajacoutot;	state Exp;
branches;
next	1.183;
commitid	KowPEmMHYzfYe0nh;

1.183
date	2015.03.28.18.04.06;	author ajacoutot;	state Exp;
branches;
next	1.182;
commitid	5exa8fUjjKm8PFv6;

1.182
date	2015.03.27.08.16.17;	author ajacoutot;	state Exp;
branches;
next	1.181;
commitid	BUhOiEl2FUSRKwq7;

1.181
date	2014.12.10.12.36.13;	author ajacoutot;	state Exp;
branches;
next	1.180;
commitid	FDUMSaIKPGOxDRFU;

1.180
date	2014.11.24.10.48.59;	author sthen;	state Exp;
branches;
next	1.179;
commitid	lZsEmLvIe9UCDwQ4;

1.179
date	2014.11.06.10.53.05;	author ajacoutot;	state Exp;
branches;
next	1.178;
commitid	A97TSNwAM6u2gK7b;

1.178
date	2014.10.17.12.54.17;	author ajacoutot;	state Exp;
branches;
next	1.177;
commitid	aKqDmjcK1vE8wRoV;

1.177
date	2014.10.06.10.58.51;	author ajacoutot;	state Exp;
branches;
next	1.176;
commitid	SgasrybgQdqRWmzd;

1.176
date	2014.10.06.08.28.26;	author ajacoutot;	state Exp;
branches;
next	1.175;
commitid	znFnQQb4hZ5sOmTB;

1.175
date	2014.09.02.15.36.27;	author ajacoutot;	state Exp;
branches;
next	1.174;
commitid	5Ddry8670f0OfbCi;

1.174
date	2014.08.22.12.39.41;	author ajacoutot;	state Exp;
branches;
next	1.173;
commitid	i7ec28802dTMGUec;

1.173
date	2014.08.20.07.39.32;	author ajacoutot;	state Exp;
branches;
next	1.172;
commitid	rmMzGpiDjKr6OyR8;

1.172
date	2014.07.10.14.18.52;	author ajacoutot;	state Exp;
branches;
next	1.171;
commitid	SZRFjevvM2b134ij;

1.171
date	2014.05.09.09.16.10;	author ajacoutot;	state Exp;
branches;
next	1.170;

1.170
date	2014.04.02.09.36.14;	author jasper;	state Exp;
branches;
next	1.169;

1.169
date	2014.04.01.18.06.32;	author jasper;	state Exp;
branches;
next	1.168;

1.168
date	2014.04.01.17.03.15;	author jasper;	state Exp;
branches;
next	1.167;

1.167
date	2014.04.01.15.31.47;	author jasper;	state Exp;
branches;
next	1.166;

1.166
date	2014.04.01.13.21.14;	author ajacoutot;	state Exp;
branches;
next	1.165;

1.165
date	2014.03.29.19.31.06;	author ajacoutot;	state Exp;
branches;
next	1.164;

1.164
date	2014.03.27.15.12.29;	author ajacoutot;	state Exp;
branches;
next	1.163;

1.163
date	2014.03.27.14.18.49;	author ajacoutot;	state Exp;
branches;
next	1.162;

1.162
date	2014.03.27.13.54.07;	author ajacoutot;	state Exp;
branches;
next	1.161;

1.161
date	2014.03.16.15.58.48;	author ajacoutot;	state Exp;
branches;
next	1.160;

1.160
date	2013.12.19.18.06.58;	author ajacoutot;	state Exp;
branches;
next	1.159;

1.159
date	2013.11.23.10.23.16;	author ajacoutot;	state Exp;
branches;
next	1.158;

1.158
date	2013.11.15.05.26.06;	author ajacoutot;	state Exp;
branches;
next	1.157;

1.157
date	2013.11.01.18.28.59;	author ajacoutot;	state Exp;
branches;
next	1.156;

1.156
date	2013.10.06.09.08.56;	author ajacoutot;	state Exp;
branches;
next	1.155;

1.155
date	2013.09.28.08.51.31;	author ajacoutot;	state Exp;
branches;
next	1.154;

1.154
date	2013.09.27.07.47.54;	author ajacoutot;	state Exp;
branches;
next	1.153;

1.153
date	2013.09.27.07.39.34;	author ajacoutot;	state Exp;
branches;
next	1.152;

1.152
date	2013.09.26.18.51.52;	author ajacoutot;	state Exp;
branches;
next	1.151;

1.151
date	2013.09.26.12.48.02;	author ajacoutot;	state Exp;
branches;
next	1.150;

1.150
date	2013.09.25.07.58.48;	author sthen;	state Exp;
branches;
next	1.149;

1.149
date	2013.09.24.18.53.31;	author ajacoutot;	state Exp;
branches;
next	1.148;

1.148
date	2013.08.06.19.06.13;	author ajacoutot;	state Exp;
branches;
next	1.147;

1.147
date	2013.06.21.22.38.34;	author sthen;	state Exp;
branches;
next	1.146;

1.146
date	2013.06.01.18.56.09;	author ajacoutot;	state Exp;
branches;
next	1.145;

1.145
date	2013.05.31.15.35.11;	author ajacoutot;	state Exp;
branches;
next	1.144;

1.144
date	2013.05.13.10.38.36;	author ajacoutot;	state Exp;
branches;
next	1.143;

1.143
date	2013.05.01.12.40.18;	author ajacoutot;	state Exp;
branches;
next	1.142;

1.142
date	2013.05.01.06.57.50;	author ajacoutot;	state Exp;
branches;
next	1.141;

1.141
date	2013.04.30.08.35.44;	author ajacoutot;	state Exp;
branches;
next	1.140;

1.140
date	2013.04.20.13.55.34;	author ajacoutot;	state Exp;
branches;
next	1.139;

1.139
date	2013.04.16.13.17.02;	author ajacoutot;	state Exp;
branches;
next	1.138;

1.138
date	2013.04.10.15.41.47;	author ajacoutot;	state Exp;
branches;
next	1.137;

1.137
date	2013.04.10.14.30.43;	author ajacoutot;	state Exp;
branches;
next	1.136;

1.136
date	2013.04.10.14.13.53;	author ajacoutot;	state Exp;
branches;
next	1.135;

1.135
date	2013.04.06.11.30.12;	author ajacoutot;	state Exp;
branches;
next	1.134;

1.134
date	2013.04.04.12.18.34;	author ajacoutot;	state Exp;
branches;
next	1.133;

1.133
date	2013.04.03.14.30.40;	author ajacoutot;	state Exp;
branches;
next	1.132;

1.132
date	2013.04.03.13.37.41;	author ajacoutot;	state Exp;
branches;
next	1.131;

1.131
date	2013.03.31.06.35.31;	author ajacoutot;	state Exp;
branches;
next	1.130;

1.130
date	2013.03.29.16.28.27;	author ajacoutot;	state Exp;
branches;
next	1.129;

1.129
date	2013.03.29.09.09.25;	author ajacoutot;	state Exp;
branches;
next	1.128;

1.128
date	2013.03.28.13.38.23;	author ajacoutot;	state Exp;
branches;
next	1.127;

1.127
date	2013.03.11.11.46.12;	author espie;	state Exp;
branches;
next	1.126;

1.126
date	2013.02.06.15.54.46;	author ajacoutot;	state Exp;
branches;
next	1.125;

1.125
date	2012.11.16.07.22.51;	author ajacoutot;	state Exp;
branches;
next	1.124;

1.124
date	2012.11.15.08.38.03;	author ajacoutot;	state Exp;
branches;
next	1.123;

1.123
date	2012.11.10.11.10.41;	author espie;	state Exp;
branches;
next	1.122;

1.122
date	2012.11.01.18.26.01;	author ajacoutot;	state Exp;
branches;
next	1.121;

1.121
date	2012.10.28.11.33.11;	author ajacoutot;	state Exp;
branches;
next	1.120;

1.120
date	2012.10.28.11.13.51;	author ajacoutot;	state Exp;
branches;
next	1.119;

1.119
date	2012.10.24.17.39.29;	author ajacoutot;	state Exp;
branches;
next	1.118;

1.118
date	2012.10.15.13.26.05;	author ajacoutot;	state Exp;
branches;
next	1.117;

1.117
date	2012.10.04.07.21.57;	author ajacoutot;	state Exp;
branches;
next	1.116;

1.116
date	2012.09.28.16.02.21;	author ajacoutot;	state Exp;
branches;
next	1.115;

1.115
date	2012.09.28.15.57.27;	author ajacoutot;	state Exp;
branches;
next	1.114;

1.114
date	2012.09.11.06.03.27;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2012.09.07.06.11.18;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2012.09.01.14.36.59;	author ajacoutot;	state Exp;
branches;
next	1.111;

1.111
date	2012.08.04.15.36.11;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2012.07.16.07.19.25;	author ajacoutot;	state Exp;
branches;
next	1.109;

1.109
date	2012.07.12.12.18.53;	author jasper;	state Exp;
branches;
next	1.108;

1.108
date	2012.07.08.09.09.43;	author ajacoutot;	state Exp;
branches;
next	1.107;

1.107
date	2012.07.08.07.10.17;	author ajacoutot;	state Exp;
branches;
next	1.106;

1.106
date	2012.07.05.17.46.12;	author ajacoutot;	state Exp;
branches;
next	1.105;

1.105
date	2012.06.15.08.30.21;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2012.05.04.09.16.04;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2012.05.03.18.52.11;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2012.04.11.07.39.37;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2012.03.29.07.28.05;	author ajacoutot;	state Exp;
branches;
next	1.100;

1.100
date	2012.03.08.14.14.10;	author ajacoutot;	state Exp;
branches;
next	1.99;

1.99
date	2012.02.23.11.30.58;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2012.02.22.14.20.32;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2012.02.21.11.29.43;	author ajacoutot;	state Exp;
branches;
next	1.96;

1.96
date	2012.02.18.18.40.18;	author ajacoutot;	state Exp;
branches;
next	1.95;

1.95
date	2012.02.16.22.20.02;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2012.02.02.07.12.23;	author ajacoutot;	state Exp;
branches;
next	1.93;

1.93
date	2012.01.22.15.13.23;	author ajacoutot;	state Exp;
branches;
next	1.92;

1.92
date	2012.01.02.14.11.21;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2012.01.01.11.21.16;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2012.01.01.09.02.11;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2011.12.16.17.36.55;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2011.12.05.12.50.24;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2011.12.03.22.17.17;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2011.11.25.18.13.25;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2011.10.29.08.12.33;	author ajacoutot;	state Exp;
branches;
next	1.84;

1.84
date	2011.10.27.15.39.00;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2011.10.21.14.26.56;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2011.10.16.08.54.53;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2011.10.06.20.26.47;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2011.09.28.09.47.48;	author jasper;	state Exp;
branches;
next	1.79;

1.79
date	2011.09.26.12.31.40;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2011.09.26.10.20.13;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2011.09.22.18.34.24;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2011.09.22.08.53.05;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2011.09.21.13.28.47;	author jasper;	state Exp;
branches;
next	1.74;

1.74
date	2011.09.20.21.10.01;	author jasper;	state Exp;
branches;
next	1.73;

1.73
date	2011.09.20.20.52.47;	author jasper;	state Exp;
branches;
next	1.72;

1.72
date	2011.09.20.17.00.14;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2011.09.19.07.44.59;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2011.09.18.10.27.02;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2011.09.18.09.21.34;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2011.09.18.08.36.56;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2011.09.16.12.29.14;	author espie;	state Exp;
branches;
next	1.66;

1.66
date	2011.09.12.12.04.19;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2011.09.12.08.02.55;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2011.08.30.06.52.57;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2011.07.06.14.01.51;	author jasper;	state Exp;
branches;
next	1.62;

1.62
date	2011.07.06.07.23.20;	author jasper;	state Exp;
branches;
next	1.61;

1.61
date	2011.07.05.17.54.07;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2011.06.08.17.41.57;	author rpointel;	state Exp;
branches;
next	1.59;

1.59
date	2011.05.07.16.17.26;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2011.04.27.11.09.50;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2011.01.15.21.01.57;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2011.01.15.19.51.08;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2010.12.14.09.54.17;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2010.11.22.08.36.58;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2010.11.17.20.40.16;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2010.10.19.08.13.57;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2010.10.11.08.19.20;	author jasper;	state Exp;
branches;
next	1.50;

1.50
date	2010.10.07.14.31.36;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2010.09.30.08.39.50;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2010.09.28.11.52.36;	author landry;	state Exp;
branches;
next	1.47;

1.47
date	2010.09.02.15.33.33;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2010.08.30.21.53.59;	author sthen;	state Exp;
branches;
next	1.45;

1.45
date	2010.08.22.12.02.53;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2010.07.23.07.57.12;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2010.07.20.09.38.34;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2010.07.16.11.56.15;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2010.07.13.14.52.26;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.07.01.17.25.21;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.06.26.04.15.19;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2010.06.18.06.23.45;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2010.06.10.15.02.03;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.06.03.15.15.44;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2010.05.27.16.29.40;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2010.05.21.11.58.36;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2010.05.20.17.55.42;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2010.05.13.15.31.08;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2010.05.07.07.22.47;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2010.04.29.17.06.39;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.04.29.15.46.30;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2010.04.28.09.51.09;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2010.04.24.00.35.20;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2010.04.23.09.57.25;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2010.04.16.06.36.50;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.04.13.14.33.27;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2010.04.09.09.00.31;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.03.21.10.41.37;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.12.21.18.03.20;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.12.04.08.11.07;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2009.11.29.09.28.28;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2009.10.28.20.28.18;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2009.10.14.09.26.58;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2009.10.13.10.41.03;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.10.12.17.42.55;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.10.09.17.40.12;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.08.30.11.46.14;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.08.11.08.39.39;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.07.28.16.00.00;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2009.06.10.20.27.09;	author kili;	state Exp;
branches;
next	1.9;

1.9
date	2009.05.22.10.18.14;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2009.05.03.17.13.26;	author kili;	state Exp;
branches;
next	1.7;

1.7
date	2009.04.24.14.25.07;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2009.04.23.22.30.41;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2009.04.22.11.44.09;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2009.04.22.07.06.04;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2009.04.21.23.39.43;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2009.04.21.22.48.21;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2009.04.21.21.34.46;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.04.21.21.34.46;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.222
log
@Unbreak autoconf checks with clang by not using nested functions
@
text
@# $OpenBSD: Makefile,v 1.221 2017/08/24 09:45:23 sthen Exp $

COMMENT=		powerful desktop search tool and indexer

GNOME_PROJECT=		tracker
GNOME_VERSION=		1.12.3
REVISION=		1

# there is already audio/tracker, so this port has to live
# as meta-tracker
PKGNAME=		meta-tracker-${VERSION}

# NOTE: when TRACKER_API changes, increment accordingly and bump:
# x11/gnome/documents
# x11/gnome/grilo-plugins
# x11/gnome/nautilus
# x11/gnome/online-miners
# x11/gnome/photos
TRACKER_API=		1.0
SUBST_VARS=		TRACKER_API

SHARED_LIBS +=  tracker-common       3.3      # unknown
SHARED_LIBS +=  tracker-data         3.3      # unknown
SHARED_LIBS +=  tracker-sparql-1.0   1.2      # 1201.0
SHARED_LIBS +=  tracker-extract      0.1      # unknown
SHARED_LIBS +=  tracker-miner-1.0    1.1      # 1201.0
SHARED_LIBS +=  tracker-control-1.0  1.1      # 1201.0

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender archive assuan atk-1.0 atk-bridge-2.0
WANTLIB += atspi bz2 c cairo cairo-gobject crypto cue dbus-1 enca
WANTLIB += epoxy exempi exif expat ffi fontconfig freetype gcrypt
WANTLIB += gdk-3 gdk_pixbuf-2.0 gif gio-2.0 glib-2.0 gmime-2.6
WANTLIB += gmodule-2.0 gobject-2.0 gpg-error gpgme-pthread graphite2
WANTLIB += gsf-1 gstaudio-1.0 gstbase-1.0 gstpbutils-1.0 gstreamer-1.0
WANTLIB += gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 gxps harfbuzz
WANTLIB += iconv icudata icui18n icuuc intl iptcdata jpeg json-glib-1.0
WANTLIB += kvm lcms2 lz4 lzma m mediaart-2.0 openjp2 orc-0.4 osinfo-1.0
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png poppler poppler-glib pthread pthread-stubs soup-2.4
WANTLIB += sqlite3>=37.1 ${COMPILER_LIBCXX} tag tag_c tiff totem-plparser upower-glib
WANTLIB += util uuid xcb xcb-render xcb-shm xml2 xslt z

MODULES=		devel/dconf \
			lang/python \
			x11/gnome

LIB_DEPENDS=		audio/libcue \
			audio/taglib \
			converters/enca \
			devel/json-glib \
			devel/libgsf \
			graphics/giflib \
			graphics/libexif \
			graphics/libgxps \
			graphics/libiptcdata \
			misc/osinfo/libosinfo \
			multimedia/gstreamer1/plugins-base \
			print/poppler \
			sysutils/e2fsprogs \
			sysutils/upower \
			textproc/exempi \
			textproc/icu4c \
			x11/gnome/libmediaart \
			x11/gnome/totem-pl-parser

TEST_DEPENDS=		${MODPY_RUN_DEPENDS} \
			x11/dbus-python

MODGNOME_TOOLS +=	desktop-file-utils gobject-introspection vala
MODGNOME_TOOLS +=	gtk-update-icon-cache

MODPY_BUILDDEP=		No
MODPY_RUNDEP=		No

MODPY_ADJ_FILES=	tests/tracker-writeback/01-writeback.py \
			utils/data-generators/cc/generate

CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.69

CONFIGURE_ARGS=		--disable-miner-thunderbird \
			--disable-miner-firefox \
			--disable-network-manager

# needs libgrss
CONFIGURE_ARGS +=	--disable-miner-rss

# needs libstemmer
CONFIGURE_ARGS +=	--disable-libstemmer

# cyclic dependency with x11/gnome/nautilus
CONFIGURE_ARGS +=	--disable-nautilus-extension

# XXX disable evolution miner which does not build with evo >= 3.6.0
CONFIGURE_ARGS +=	--disable-miner-evolution

FAKE_FLAGS=		sysconfdir=${PREFIX}/share/examples/meta-tracker/

pre-configure:
	sed -i 's,/usr/bin,${LOCALBASE}/bin,' \
		${WRKSRC}/src/tracker-needle/tracker-utils.vala

post-install:
	rm ${PREFIX}/lib/tracker-${TRACKER_API}/extract-modules/*.{a,la}
	rm ${PREFIX}/lib/tracker-${TRACKER_API}/writeback-modules/*.{a,la}

do-test:
	cd ${WRKBUILD}/tests/functional-tests && ${MAKE_PROGRAM}

.include <bsd.port.mk>
@


1.221
log
@bump; textproc/icu4c now uses multi-packages for -wwwdata
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.220 2017/08/24 07:19:09 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
d82 2
a83 1
CONFIGURE_STYLE=	gnu
a105 3
# XXX LDFLAGS are reset in the configure script when checking for:
# png, gif, jpeg and tiff
	${SUBST_CMD} ${WRKSRC}/configure
@


1.220
log
@Update to meta-tracker-1.12.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.219 2017/08/17 09:46:04 ajacoutot Exp $
d7 1
@


1.219
log
@Update to meta-tracker-1.12.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.218 2017/07/26 22:45:33 sthen Exp $
d6 1
a6 1
GNOME_VERSION=		1.12.2
d43 1
a43 1
WANTLIB += sqlite3 ${COMPILER_LIBCXX} tag tag_c tiff totem-plparser upower-glib
@


1.218
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.217 2017/07/16 19:19:04 espie Exp $
d6 1
a6 1
GNOME_VERSION=		1.12.1
a10 1
REVISION=		0
@


1.217
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.216 2017/06/29 08:38:36 ajacoutot Exp $
d11 1
@


1.216
log
@Update to meta-tracker-1.12.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.215 2017/04/17 10:24:27 ajacoutot Exp $
d43 1
a43 1
WANTLIB += sqlite3 ${LIBCXX} tag tag_c tiff totem-plparser upower-glib
@


1.215
log
@Update to meta-tracker-1.12.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.214 2017/04/12 09:27:31 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		1.12.0
d23 1
a23 1
SHARED_LIBS +=  tracker-sparql-1.0   1.2      # 1200.0
d25 2
a26 2
SHARED_LIBS +=  tracker-miner-1.0    1.1      # 1200.0
SHARED_LIBS +=  tracker-control-1.0  1.1      # 1200.0
@


1.214
log
@Allow building with older and newer vala (from upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.213 2017/04/10 11:46:36 sthen Exp $
d6 1
a6 2
GNOME_VERSION=		1.10.5
REVISION=		0
d23 1
a23 1
SHARED_LIBS +=  tracker-sparql-1.0   1.1      # 1001.0
d25 2
a26 2
SHARED_LIBS +=  tracker-miner-1.0    1.1      # 1001.0
SHARED_LIBS +=  tracker-control-1.0  1.1      # 1001.0
d39 2
a40 2
WANTLIB += iconv icudata icui18n icuuc intl iptcdata jpeg kvm
WANTLIB += lcms2 lz4 lzma m mediaart-2.0 openjp2 orc-0.4 osinfo-1.0
d53 1
a68 5
# picked up by configure to build the resdump tool. it is not installed,
# but when dpb removes libgee during a running build, causes tracker build
# to fail.
BUILD_DEPENDS +=	devel/libgee

d89 3
@


1.213
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.212 2017/02/23 13:16:55 ajacoutot Exp $
d7 1
d33 1
a33 1
WANTLIB += Xinerama Xrandr Xrender archive atk-1.0 atk-bridge-2.0
d37 5
a41 5
WANTLIB += gmodule-2.0 gobject-2.0 gpg-error graphite2 gsf-1 gstaudio-1.0
WANTLIB += gstbase-1.0 gstpbutils-1.0 gstreamer-1.0 gsttag-1.0
WANTLIB += gstvideo-1.0 gthread-2.0 gtk-3 gxps harfbuzz iconv
WANTLIB += icudata icui18n icuuc intl iptcdata jpeg kvm lcms2
WANTLIB += lz4 lzma lzo2 m mediaart-2.0 openjp2 orc-0.4 osinfo-1.0
d45 1
a45 2
WANTLIB += util uuid xcb xcb-render xcb-shm xml2 xslt z assuan
WANTLIB += gpgme-pthread
d85 2
@


1.212
log
@Update to meta-tracker-1.10.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.211 2017/01/19 23:26:07 ajacoutot Exp $
d43 1
a43 1
WANTLIB += sqlite3 stdc++ tag tag_c tiff totem-plparser upower-glib
@


1.211
log
@Update to meta-tracker-1.10.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.210 2016/12/17 16:23:54 zhuk Exp $
d6 1
a6 1
GNOME_VERSION=		1.10.4
@


1.210
log
@Unbreak after poppler switch from openjpeg to openjp2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.209 2016/12/16 13:59:38 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		1.10.3
a10 1
REVISION=		0
d44 2
a45 1
WANTLIB += util uuid xcb xcb-render xcb-shm xml2 xslt z
@


1.209
log
@Update to meta-tracker-1.10.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.208 2016/12/09 09:12:01 ajacoutot Exp $
d11 1
d41 1
a41 1
WANTLIB += lz4 lzma lzo2 m mediaart-2.0 openjpeg orc-0.4 osinfo-1.0
@


1.208
log
@Update to meta-tracker-1.10.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.207 2016/10/31 11:07:25 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		1.10.2
@


1.207
log
@Update to meta-tracker-1.10.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.206 2016/10/09 15:26:59 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		1.10.1
@


1.206
log
@Fix dependency after libosinfo move.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.205 2016/09/06 13:29:37 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		1.8.0
REVISION=		3
d21 3
a23 3
SHARED_LIBS +=  tracker-common       3.2      # unknown
SHARED_LIBS +=  tracker-data         3.2      # unknown
SHARED_LIBS +=  tracker-sparql-1.0   1.1      # 800.0
d25 2
a26 2
SHARED_LIBS +=  tracker-miner-1.0    1.1      # 800.0
SHARED_LIBS +=  tracker-control-1.0  1.1      # 800.0
@


1.205
log
@x11/gnome/rygel is no more.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.204 2016/05/10 05:55:19 ajacoutot Exp $
d7 1
a7 1
REVISION=		2
d34 4
a37 4
WANTLIB += atspi bz2 c cairo cairo-gobject cue dbus-1 enca epoxy
WANTLIB += exempi exif expat ffi fontconfig freetype gcrypt gdk-3
WANTLIB += gdk_pixbuf-2.0 gif gio-2.0 glib-2.0 gmime-2.6 gmodule-2.0
WANTLIB += gobject-2.0 gpg-error graphite2 gsf-1 gstaudio-1.0
d41 1
a41 1
WANTLIB += lzma lzo2 m mediaart-2.0 openjpeg orc-0.4 osinfo-1.0
d59 1
a59 1
			misc/libosinfo \
@


1.204
log
@Pushed upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.203 2016/05/08 13:45:55 ajacoutot Exp $
a18 1
# x11/gnome/rygel
@


1.203
log
@Properly compute database partition remaining space.
With hint from otto@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.202 2016/04/28 12:59:38 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.202
log
@Plug a memory leak (upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.201 2016/04/25 16:40:38 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
@


1.201
log
@Update to meta-tracker-1.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.200 2016/03/20 16:12:27 naddy Exp $
d7 1
@


1.200
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.199 2016/03/02 07:22:38 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		1.6.2
d22 6
a27 6
SHARED_LIBS +=  tracker-common       3.1      # unknown
SHARED_LIBS +=  tracker-data         3.1      # unknown
SHARED_LIBS +=  tracker-sparql-1.0   1.0      # 600.0
SHARED_LIBS +=  tracker-extract      0.0      # unknown
SHARED_LIBS +=  tracker-miner-1.0    1.0      # 600.0
SHARED_LIBS +=  tracker-control-1.0  1.0      # 600.0
d32 14
a45 13
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender archive atk-1.0 atk-bridge-2.0 atspi bz2 c
WANTLIB += cairo cairo-gobject cue dbus-1 enca epoxy exempi exif expat
WANTLIB += ffi fontconfig freetype gcrypt gdk-3 gdk_pixbuf-2.0 gif
WANTLIB += gio-2.0 glib-2.0 gmime-2.6 gmodule-2.0 gobject-2.0 gpg-error
WANTLIB += graphite2 gsf-1 gstaudio-1.0 gstbase-1.0 gstpbutils-1.0
WANTLIB += gstreamer-1.0 gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 gxps
WANTLIB += harfbuzz icudata icui18n icuuc iptcdata jpeg kvm lcms2 lzma
WANTLIB += lzo2 m mediaart-2.0 openjpeg orc-0.4 osinfo-1.0 pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png poppler
WANTLIB += poppler-glib pthread pthread-stubs soup-2.4 sqlite3 stdc++
WANTLIB += tag tag_c tiff totem-plparser upower-glib util uuid xcb
WANTLIB += xcb-render xcb-shm xml2 xslt z
a47 1
			devel/gettext \
d66 1
a66 1
			x11/gnome/libmediaart>=1.9.0 \
@


1.199
log
@Update to meta-tracker-1.6.2.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.198 2015/12/01 16:43:29 sthen Exp $

SHARED_ONLY=		Yes
@


1.198
log
@Bump REVISION to make sure tracker gets updated to a version built with
fixed binutils. (No other ports show --enable-new-dtags in logs from bulk
builds).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.197 2015/11/26 07:12:03 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		1.6.1
REVISION=		0
@


1.197
log
@Update to meta-tracker-1.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.196 2015/10/11 17:33:33 ajacoutot Exp $
d9 1
@


1.196
log
@Cope with GKqueue Monitor change in newer GLib.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.195 2015/10/06 16:20:53 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		1.6.0
REVISION=		1
@


1.195
log
@Don't hardcode upstream solib version in the introspection files; otherwise
they will fail to load.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.194 2015/09/25 06:56:02 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
@


1.194
log
@Update to meta-tracker-1.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.193 2015/07/31 18:39:30 ajacoutot Exp $
d9 1
@


1.193
log
@Bugfix update to (meta-)tracker-1.4.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.192 2015/07/18 22:34:53 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		1.4.1
d26 1
a26 1
SHARED_LIBS +=  tracker-sparql-1.0   0.0      # 400.0
d28 2
a29 2
SHARED_LIBS +=  tracker-miner-1.0    0.0      # 400.0
SHARED_LIBS +=  tracker-control-1.0  0.0      # 400.0
d106 3
@


1.192
log
@Bit more sed -i...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.191 2015/05/15 14:50:19 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		1.4.0
a12 1
REVISION=		4
@


1.191
log
@Use patch from upstream to install files with executable mode.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.190 2015/05/15 14:38:36 ajacoutot Exp $
d105 1
a105 1
	perl -pi -e 's,/usr/bin,${LOCALBASE}/bin,' \
@


1.190
log
@Remove some XXX.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.189 2015/05/05 17:00:20 sthen Exp $
d13 1
a13 1
REVISION=		3
a110 3

# XXX https://bugzilla.gnome.org/show_bug.cgi?id=746939
	find ${PREFIX}/bin -type f ! -perm 0755 -exec chmod 0755 '{}' +
@


1.189
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.188 2015/05/04 11:37:08 ajacoutot Exp $
a76 5
# XXX should be a LIB_DEPENDS+WANTLIB but check-lib-depends(1) does not
# work with unversioned solibs (LOCALBASE/lib/evolution/*.so).
#BUILD_DEPENDS +=	mail/evolution
#RUN_DEPENDS +=		mail/evolution

d99 1
a99 5
# XXX re-enable evolution plugins when fixed upstream
# temporarily disable evolution miner which does not build with evo >= 3.6.0
# when fixed:
#  uncomment BUILD_DEPENDS on evolution
#  uncomment the rm call in post-install
a110 1
#	rm ${PREFIX}/lib/evolution/plugins/*.{a,la}
@


1.188
log
@Register conflict with audio/tracker.
reported by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.187 2015/04/15 09:40:54 ajacoutot Exp $
d13 1
a13 1
REVISION=		2
d35 13
a47 14
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender archive atk-1.0 atk-bridge-2.0
WANTLIB += atspi bz2 c cairo cairo-gobject cue dbus-1 enca epoxy
WANTLIB += exempi exif expat ffi fontconfig freetype gcrypt gdk-3
WANTLIB += gdk_pixbuf-2.0 gif gio-2.0 glib-2.0 gmime-2.6 gmodule-2.0
WANTLIB += gobject-2.0 gpg-error graphite2 gsf-1 gstaudio-1.0
WANTLIB += gstbase-1.0 gstpbutils-1.0 gstreamer-1.0 gsttag-1.0
WANTLIB += gstvideo-1.0 gthread-2.0 gtk-3 gxps harfbuzz icudata
WANTLIB += icui18n icuuc iptcdata jpeg kvm lcms2 lzma m mediaart-2.0
WANTLIB += openjpeg orc-0.4 osinfo-1.0 pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png poppler poppler-glib
WANTLIB += pthread pthread-stubs soup-2.4 sqlite3 stdc++ tag tag_c
WANTLIB += tiff totem-plparser upower-glib util uuid xcb xcb-render
WANTLIB += xcb-shm xml2 xslt z
@


1.187
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.186 2015/04/13 07:45:20 ajacoutot Exp $
d13 1
a13 1
REVISION=		1
@


1.186
log
@Fix comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.185 2015/04/04 09:21:07 ajacoutot Exp $
d13 1
a13 1
REVISION=		0
@


1.185
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.184 2015/04/03 17:08:05 ajacoutot Exp $
d79 1
a79 1
# work with unversioned solibs (LOCALBASE/lib/evolution/*/*.so).
@


1.184
log
@No more EVO_VERSION -- no pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.183 2015/03/28 18:04:06 ajacoutot Exp $
d13 1
@


1.183
log
@Update to meta-tracker-1.4.0.
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.182 2015/03/27 08:16:17 ajacoutot Exp $

EVO_VERSION=		3.12
SUBST_VARS +=		EVO_VERSION
d120 1
a120 1
#	rm ${PREFIX}/lib/evolution/${EVO_VERSION}/plugins/*.{a,la}
@


1.182
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.181 2014/12/10 12:36:13 ajacoutot Exp $
d11 1
a11 1
GNOME_VERSION=		1.2.5
d14 1
a14 1
# as meta-tracker.
a15 1
REVISION=		0
d24 1
a24 1
TRACKER_API=	1.0
d27 3
a29 3
SHARED_LIBS +=  tracker-common       3.0      # unknown
SHARED_LIBS +=  tracker-data         3.0      # unknown
SHARED_LIBS +=  tracker-sparql-1.0   0.0      # 202.0
d31 2
a32 2
SHARED_LIBS +=  tracker-miner-1.0    0.0      # 202.0
SHARED_LIBS +=  tracker-control-1.0  0.0      # 202.0
d39 17
a55 16
WANTLIB += atspi bz2 c cairo cairo-gobject cue dbus-1 enca exempi
WANTLIB += exif expat ffi fontconfig freetype gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += gif gio-2.0 glib-2.0 gmime-2.6 gmodule-2.0 gobject-2.0
WANTLIB += gpg-error graphite2 gsf-1 gstaudio-1.0 gstbase-1.0
WANTLIB += gstpbutils-1.0 gstreamer-1.0 gsttag-1.0 gstvideo-1.0
WANTLIB += gthread-2.0 gtk-3 harfbuzz icudata icui18n icuuc jpeg
WANTLIB += kvm lcms2 lzma m mediaart-1.0 openjpeg orc-0.4 osinfo-1.0
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png poppler poppler-glib pthread pthread-stubs soup-2.4
WANTLIB += sqlite3 stdc++ tag tag_c tiff totem-plparser upower-glib
WANTLIB += uuid xcb xcb-render xcb-shm xml2 xslt z

MODULES=		devel/gettext \
			x11/gnome \
			devel/dconf \
			lang/python
d63 2
d72 1
a72 1
			x11/gnome/libmediaart>=0.6.0 \
a100 3
# needs libgxps
CONFIGURE_ARGS +=	--disable-libgxps

a103 3
# needs libiptcdata
CONFIGURE_ARGS +=	--disable-libiptcdata

a116 1
	${SUBST_CMD} ${WRKSRC}/src/tracker-needle/tracker-utils.vala
d124 3
@


1.181
log
@Update to meta-tracker-1.2.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.180 2014/11/24 10:48:59 sthen Exp $
d16 1
@


1.180
log
@Add a bdep on devel/libgee. Doesn't affect the package as it's only used
to build a (non-installed) tool, but if dpb uninstalls libgee during build,
it causes a failure. ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.179 2014/11/06 10:53:05 ajacoutot Exp $
d11 1
a11 1
GNOME_VERSION=		1.2.4
@


1.179
log
@Update to (meta-)tracker-1.2.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.178 2014/10/17 12:54:17 ajacoutot Exp $
d71 5
@


1.178
log
@Update to meta-tracker-1.2.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.177 2014/10/06 10:58:51 ajacoutot Exp $
d11 1
a11 1
GNOME_VERSION=		1.2.3
@


1.177
log
@TRACKER_VERSION -> TRACKER_API
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.176 2014/10/06 08:28:26 ajacoutot Exp $
d11 1
a11 1
GNOME_VERSION=		1.2.2
@


1.176
log
@Update to (meta-)tracker-1.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.175 2014/09/02 15:36:27 ajacoutot Exp $
d17 1
a17 1
# NOTE: when TRACKER_VERSION changes, increment accordingly and bump:
d24 2
a25 2
TRACKER_VERSION=	1.0
SUBST_VARS=		TRACKER_VERSION
d120 2
a121 2
	rm ${PREFIX}/lib/tracker-${TRACKER_VERSION}/extract-modules/*.{a,la}
	rm ${PREFIX}/lib/tracker-${TRACKER_VERSION}/writeback-modules/*.{a,la}
@


1.175
log
@Update to meta-tracker-1.0.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.174 2014/08/22 12:39:41 ajacoutot Exp $
d11 1
a11 1
GNOME_VERSION=		1.0.4
d24 1
a24 1
TRACKER_VERSION=	${GNOME_VERSION:C/^([0-9]+\.[0-9]+).*/\1/}
a27 1
SHARED_LIBS +=  tracker-control-1.0  0.0      # 0.0
d29 1
a29 1
SHARED_LIBS +=  tracker-sparql-1.0   0.0      # 0.0
d31 2
a32 1
SHARED_LIBS +=  tracker-miner-1.0    0.0      # 0.0
a87 4

# XXX libmediaart >=0.6.0; remove at next major upgrade
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.69
@


1.174
log
@Update to meta-tracker-1.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.173 2014/08/20 07:39:32 ajacoutot Exp $
d11 1
a11 1
GNOME_VERSION=		1.0.3
@


1.173
log
@Merge code from upstream to support new libmediaart.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.172 2014/07/10 14:18:52 ajacoutot Exp $
d11 1
a11 2
GNOME_VERSION=		1.0.2
REVISION=		0
@


1.172
log
@Update to meta-tracker-1.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.171 2014/05/09 09:16:10 ajacoutot Exp $
d12 1
d66 1
a66 1
			sysutils/e2fsprogs>=1.42.7 \
d70 1
a70 1
			x11/gnome/libmediaart \
d89 4
@


1.171
log
@Update to meta-tracker-1.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.170 2014/04/02 09:36:14 jasper Exp $
d11 1
a11 1
GNOME_VERSION=		1.0.1
d80 1
a80 1
MODGNOME_TOOLS += 	desktop-file-utils gobject-introspection vala
@


1.170
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.169 2014/04/01 18:06:32 jasper Exp $
d11 1
a11 2
GNOME_VERSION=		1.0.0
REVISION=		1
d39 11
a49 11
WANTLIB += atspi bz2 c cairo cairo-gobject cue dbus-1 mediaart-1.0
WANTLIB += enca exempi exif expat ffi fontconfig freetype gcrypt
WANTLIB += gdk-3 gdk_pixbuf-2.0 gif gio-2.0 glib-2.0 gmime-2.6
WANTLIB += gmodule-2.0 gobject-2.0 gpg-error graphite2 gsf-1 gstaudio-1.0
WANTLIB += gstbase-1.0 gstpbutils-1.0 gstreamer-1.0 gsttag-1.0
WANTLIB += gstvideo-1.0 gthread-2.0 gtk-3 harfbuzz icudata icui18n
WANTLIB += icuuc jpeg kvm lcms2 lzma m openjpeg
WANTLIB += orc-0.4 osinfo-1.0 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png poppler poppler-glib pthread pthread-stubs
WANTLIB += soup-2.4 sqlite3 stdc++ tag tag_c tiff totem-plparser
WANTLIB += upower-glib uuid xcb xcb-render xcb-shm xml2 xslt z
@


1.169
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.168 2014/04/01 17:03:15 jasper Exp $
d81 3
a83 2
MODGNOME_TOOLS += gobject-introspection vala desktop-file-utils
MODGNOME_TOOLS += gtk-update-icon-cache
@


1.168
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.167 2014/04/01 15:31:47 jasper Exp $
d81 2
a82 3
MODGNOME_TOOLS= 	gobject-introspection vala
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS +=	gtk-update-icon-cache
@


1.167
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.166 2014/04/01 13:21:14 ajacoutot Exp $
d82 2
a83 2
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
@


1.166
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 1/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.165 2014/03/29 19:31:06 ajacoutot Exp $
d81 1
a81 1
MODGNOME_TOOLS= 	gi vala
@


1.165
log
@Reverse the nautilus <-> tracker dependency. It makes more sense nowadays.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.164 2014/03/27 15:12:29 ajacoutot Exp $
d12 1
a12 1
REVISION=		0
a80 2
LIBTOOL_FLAGS=		--tag=disable-static

d90 1
a90 2
CONFIGURE_ARGS=		--disable-static \
			--disable-miner-thunderbird \
d121 3
a123 3
	rm ${PREFIX}/lib/tracker-${TRACKER_VERSION}/extract-modules/*.la
	rm ${PREFIX}/lib/tracker-${TRACKER_VERSION}/writeback-modules/*.la
#	rm ${PREFIX}/lib/evolution/${EVO_VERSION}/plugins/*.la
@


1.164
log
@Update to (meta-)tracker-1.0.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.163 2014/03/27 14:18:49 ajacoutot Exp $
d12 1
d21 1
d46 1
a46 1
WANTLIB += icuuc jpeg kvm lcms2 lzma m nautilus-extension openjpeg
a70 1
			x11/gnome/nautilus \
d106 3
a115 2
MODGNOME_LDFLAGS=	-Wl,-rpath,${TRUEPREFIX}/lib/tracker-${TRACKER_VERSION}

a126 1
	rm ${PREFIX}/lib/nautilus/extensions-3.0/*.la
@


1.163
log
@Bump EVO_VERSION; unnused for now, so no pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.162 2014/03/27 13:54:07 ajacoutot Exp $
d11 1
a11 2
GNOME_VERSION=		0.16.4
REVISION=		1
d26 6
a31 5
SHARED_LIBS +=  tracker-common       3.0      # 1600.0
SHARED_LIBS +=  tracker-data         3.0      # 1600.0
SHARED_LIBS +=  tracker-sparql-0.16  0.0      # 1600.0
SHARED_LIBS +=  tracker-extract-0.16 0.0      # 1600.0
SHARED_LIBS +=  tracker-miner-0.16   0.0      # 1600.0
d38 1
a38 1
WANTLIB += atspi bz2 c cairo cairo-gobject cue dbus-1 dbus-glib-1
d47 1
a47 1
WANTLIB += secret-1 soup-2.4 sqlite3 stdc++ tag tag_c tiff totem-plparser
d68 1
d94 1
a94 2
			--disable-network-manager \
			--disable-qt
a110 3

# XXX make it build until we figure out the full extent of the brain-damage
CONFIGURE_ARGS +=	--disable-unit-tests
@


1.162
log
@mail/evolution,-main is going to merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.161 2014/03/16 15:58:48 ajacoutot Exp $
d3 1
a3 1
EVO_VERSION=		3.8
@


1.161
log
@Missing textproc/icu4c.

spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.160 2013/12/19 18:06:58 ajacoutot Exp $
d73 2
a74 2
#BUILD_DEPENDS +=	mail/evolution,-main
#RUN_DEPENDS +=		mail/evolution,-main
@


1.160
log
@Add libosinfo support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.159 2013/11/23 10:23:16 ajacoutot Exp $
d12 1
a12 1
REVISION=		0
d67 1
@


1.159
log
@Update to meta-tracker-0.16.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2013/11/15 05:26:06 ajacoutot Exp $
d12 1
d45 2
a46 2
WANTLIB += orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png poppler poppler-glib pthread pthread-stubs
d48 1
a48 1
WANTLIB += upower-glib uuid xcb xcb-render xcb-shm xml2 z
d55 8
a62 1
LIB_DEPENDS=		x11/gnome/totem-pl-parser \
d64 1
a64 1
			devel/libgsf \
d67 2
a68 8
			sysutils/e2fsprogs>=1.42.7 \
			graphics/libexif \
			graphics/giflib \
			audio/libcue \
			converters/enca \
			audio/taglib \
			multimedia/gstreamer1/plugins-base \
			x11/gnome/nautilus
a96 3

# needs libosinfo
CONFIGURE_ARGS +=	--disable-libosinfo
@


1.158
log
@Base the monitor limits on max NOFILE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.157 2013/11/01 18:28:59 ajacoutot Exp $
d11 1
a11 2
GNOME_VERSION=		0.16.3
REVISION=		0
@


1.157
log
@Update to (meta-)tracker-0.16.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.156 2013/10/06 09:08:56 ajacoutot Exp $
d12 1
@


1.156
log
@Regen WANTLIB after orc got put back into gstreamer1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2013/09/28 08:51:31 ajacoutot Exp $
d4 1
d11 1
a11 2
GNOME_VERSION=		0.16.2
REVISION=		5
d43 4
a46 4
WANTLIB += icuuc jpeg kvm lcms2 lzma m nautilus-extension openjpeg orc-0.4
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png poppler poppler-glib pthread pthread-stubs secret-1
WANTLIB += soup-2.4 sqlite3 stdc++ tag tag_c tiff totem-plparser
@


1.155
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2013/09/27 07:47:54 ajacoutot Exp $
d11 1
a11 1
REVISION=		4
d43 1
a43 1
WANTLIB += icuuc jpeg kvm lcms2 lzma m nautilus-extension openjpeg
@


1.154
log
@Forgot in previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2013/09/27 07:39:34 ajacoutot Exp $
d11 1
a11 1
REVISION=		3
a30 2

HOMEPAGE=		http://projects.gnome.org/tracker/
@


1.153
log
@Unmess variable names, and subst_vars.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2013/09/26 18:51:52 ajacoutot Exp $
d117 1
a117 1
MODGNOME_LDFLAGS=	-Wl,-rpath,${TRUEPREFIX}/lib/tracker-${MAJ_V}
d127 2
a128 2
	rm ${PREFIX}/lib/tracker-${MAJ_V}/extract-modules/*.la
	rm ${PREFIX}/lib/tracker-${MAJ_V}/writeback-modules/*.la
@


1.152
log
@Regen WANTLIB to unbreak.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.151 2013/09/26 12:48:02 ajacoutot Exp $
d11 1
a11 1
REVISION=		2
d17 1
a17 2
# Only get the first x.y which is needed in the PLIST.
# NOTE: when MAJ_V changes, increment TRACKER_VERSION accordingly and bump:
d23 2
a24 4
MAJ_V=			${GNOME_VERSION:C/^([0-9]+\.[0-9]+).*/\1/}

EVO_VERSION=		3.4
SUBST_VARS=		MAJ_V EVO_VERSION
@


1.151
log
@Add some longstanding issues with an XXX that jasper and I used to
maintain in a separate file. It will make it easier for people who want to
help to just 'grep -r XXX' under x11/gnome/ etc...

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.150 2013/09/25 07:58:48 sthen Exp $
d9 1
a9 1
REVISION=		1
d19 1
d40 3
a42 3
WANTLIB += atspi bz2 c cairo cairo-gobject crypto cue curl dbus-1
WANTLIB += dbus-glib-1 enca exempi exif expat ffi fontconfig freetype
WANTLIB += gcrypt gdk-3 gdk_pixbuf-2.0 gif gio-2.0 glib-2.0 gmime-2.6
d46 5
a50 6
WANTLIB += icuuc idn jpeg kvm lcms2 lua5.1 lzma m nautilus-extension
WANTLIB += openjpeg pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png poppler poppler-glib pthread pthread-stubs
WANTLIB += quvi secret-1 soup-2.4 soup-gnome-2.4 sqlite3 ssl stdc++
WANTLIB += tag tag_c tiff totem-plparser upower-glib uuid xcb
WANTLIB += xcb-render xcb-shm xml2 z
@


1.150
log
@libungif->giflib and patch where necessary, ok jasper@@ aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.149 2013/09/24 18:53:31 ajacoutot Exp $
d108 2
a109 1
# XXX temporarily disable evolution miner which does not build with evo >= 3.6.0
@


1.149
log
@Fix WANTLIB after recent gstreamer1 update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.148 2013/08/06 19:06:13 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d64 1
a64 1
			graphics/libungif \
@


1.148
log
@Update to meta-tracker 0.16.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2013/06/21 22:38:34 sthen Exp $
d9 1
d46 1
a46 1
WANTLIB += openjpeg orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0
@


1.147
log
@sync WANTLIB and remove patches to handle e2fsprogs/libuuid changes. ok aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2013/06/01 18:56:09 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		0.16.1
REVISION=		2
d39 11
a49 11
WANTLIB += dbus-glib-1 uuid enca exempi exif expat ffi fontconfig
WANTLIB += freetype gcrypt gdk-3 gdk_pixbuf-2.0 gif gio-2.0 glib-2.0
WANTLIB += gmime-2.6 gmodule-2.0 gobject-2.0 gpg-error
WANTLIB += graphite2 gsf-1 gstaudio-1.0 gstbase-1.0 gstpbutils-1.0
WANTLIB += gstreamer-1.0 gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3
WANTLIB += harfbuzz icui18n idn jpeg kvm lcms2
WANTLIB += lua5.1 lzma m nautilus-extension openjpeg orc-0.4 pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png poppler
WANTLIB += poppler-glib pthread pthread-stubs quvi secret-1 soup-2.4
WANTLIB += soup-gnome-2.4 sqlite3 ssl stdc++ tag tag_c tiff totem-plparser
WANTLIB += upower-glib xcb xcb-render xcb-shm xml2 z
@


1.146
log
@Drop now uneeded patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2013/05/31 15:35:11 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d40 1
a40 1
WANTLIB += dbus-glib-1 e2fs-uuid enca exempi exif expat ffi fontconfig
d62 1
a62 1
			sysutils/e2fsprogs \
@


1.145
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2013/05/13 10:38:36 ajacoutot Exp $
a88 3

AUTOCONF_VERSION=	2.69
CONFIGURE_STYLE=	autoconf
@


1.144
log
@Remove broken alternative memmem() patch -- requires a current libc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2013/05/01 12:40:18 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d45 1
a45 1
WANTLIB += harfbuzz icudata icui18n icule icuuc idn jpeg kvm lcms2
@


1.143
log
@Update to (meta-)tracker-0.16.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2013/05/01 06:57:50 ajacoutot Exp $
d9 1
@


1.142
log
@Fix an abort() due to the way mutex were handled.
from upstream with help from kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2013/04/30 08:35:44 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		0.16.0
REVISION=		7
a122 4
# XXX rm when patch-src_libtracker-sparql-backend_tracker-backend_vala is removed
post-patch:
	find ${WRKSRC} -name '*_vala.stamp' -exec rm {} \;

d125 2
@


1.141
log
@Committed upstream with a tweak.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2013/04/20 13:55:34 ajacoutot Exp $
d9 1
a9 1
REVISION=		6
d123 4
@


1.140
log
@Tweak patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2013/04/16 13:17:02 ajacoutot Exp $
d9 1
a9 1
REVISION=		5
@


1.139
log
@goi -> gi (gnome MODULE change).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2013/04/10 15:41:47 ajacoutot Exp $
d9 1
a9 1
REVISION=		4
@


1.138
log
@Fix another implicit declaration.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2013/04/10 14:30:43 ajacoutot Exp $
d81 1
a81 1
MODGNOME_TOOLS= 	goi vala
@


1.137
log
@cvs(1) missed those...???
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2013/04/10 14:13:53 ajacoutot Exp $
d9 1
a9 1
REVISION=		3
d125 1
a125 1
	${SUBST_CMD} ${WRKSRC}/src/tracker-needle/tracker-utils.c
@


1.136
log
@Rework all kvm(3) patches to a state closer to being commitable upstream.
Fix a few implicit declarations.
Remove patch-src_libtracker-miner_tracker-password-provider_c which is not
needed anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2013/04/06 11:30:12 ajacoutot Exp $
d9 1
a9 1
REVISION=		2
@


1.135
log
@Remove bogus chunck from the pkgconfig patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2013/04/04 12:18:34 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
a56 2
BUILD_DEPENDS=		lang/vala

d79 1
a79 1
LIBTOOL_FLAGS=	--tag=disable-static
d81 1
a81 1
MODGNOME_TOOLS= 	goi
d90 3
d125 1
a125 1
	${SUBST_CMD} ${WRKSRC}/src/tracker-needle/tracker-utils.vala
@


1.134
log
@Regression tests need dbus-python.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2013/04/03 14:30:40 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d20 1
@


1.133
log
@Add a do-test target.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2013/04/03 13:37:41 ajacoutot Exp $
d77 2
a78 1
TEST_DEPENDS=		${MODPY_RUN_DEPENDS}
@


1.132
log
@Python is needed for the tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2013/03/31 06:35:31 ajacoutot Exp $
d87 2
a88 1
MODPY_ADJ_FILES=	tests/tracker-writeback/01-writeback.py
a90 1
			--disable-functional-tests \
d129 3
@


1.131
log
@Regen WANTLIB to build on a clean tree; from rpe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2013/03/29 16:28:27 ajacoutot Exp $
d76 2
@


1.130
log
@Update to (meta-)tracker-0.16.0.
Merge -nautilus into -main.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2013/03/29 09:09:25 ajacoutot Exp $
d9 1
d41 1
a41 1
WANTLIB += gmime-2.6 gmodule-2.0 gnome-keyring gobject-2.0 gpg-error
@


1.129
log
@Remove mention of folks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2013/03/28 13:38:23 ajacoutot Exp $
d3 1
a3 1
SHARED_ONLY=	Yes
d5 1
a5 3
COMMENT-main=		powerful desktop search tool and indexer
COMMENT-evolution=	(meta-)tracker indexer plugin for evolution
COMMENT-nautilus=	(meta-)tracker tagging plugin for nautilus
d7 2
a8 2
GNOME_PROJECT=	tracker
GNOME_VERSION=	0.14.5
d12 1
a12 5
PKGNAME=	meta-tracker-${VERSION}

PKGNAME-main=		meta-tracker-${VERSION}
PKGNAME-evolution=	evolution-meta-tracker-${VERSION}
PKGNAME-nautilus=	nautilus-meta-tracker-${VERSION}
d19 1
a19 1
MAJ_V=		${GNOME_VERSION:C/^([0-9]+\.[0-9]+).*/\1/}
d21 2
a22 2
EVO_VERSION=	3.4
SUBST_VARS=	MAJ_V EVO_VERSION
d24 5
a28 5
SHARED_LIBS +=  tracker-common       2.0      # 1400.0
SHARED_LIBS +=  tracker-data         2.0      # 1400.0
SHARED_LIBS +=  tracker-sparql-0.14  0.0      # 1400.0
SHARED_LIBS +=  tracker-extract-0.14 0.0      # 1400.0
SHARED_LIBS +=  tracker-miner-0.14   0.0      # 1400.0
d30 1
a30 1
HOMEPAGE=	http://projects.gnome.org/tracker/
d35 19
a53 45
MODULES=	devel/gettext \
		x11/gnome \
		devel/dconf \
		lang/python

MULTI_PACKAGES=	-main -nautilus

WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes z icui18n
WANTLIB += Xi Xinerama Xrandr Xrender expat ffi fontconfig pthread
WANTLIB += freetype gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += kvm m pcre pixman-1 pthread-stubs xcb xcb-render xcb-shm
WANTLIB += ICE SM atk-bridge-2.0 atspi harfbuzz icudata icule icuuc

WANTLIB-main += ${WANTLIB}
WANTLIB-main += archive atk-1.0 bz2 c cairo cairo-gobject
WANTLIB-main += dbus-1 dbus-glib-1 e2fs-uuid enca exempi exif gconf-2
WANTLIB-main += gcrypt gdk-3 gdk_pixbuf-2.0 gee-0.8 gif gmime-2.6
WANTLIB-main += gnome-keyring gpg-error gsf-1 gtk-3 Xau
WANTLIB-main += jpeg lcms2 lzma openjpeg panel-applet-4 cue
WANTLIB-main += pango-1.0 pangocairo-1.0 pangoft2-1.0 png poppler poppler-glib
WANTLIB-main += rest-0.7 soup-2.4 soup-gnome-2.4 sqlite3 stdc++
WANTLIB-main += tag tag_c tiff totem-plparser upower-glib xml2
WANTLIB-main += gstbase-0.10 gstpbutils-0.10 gstreamer-0.10 gsttag-0.10
WANTLIB-main += crypto curl idn lua5.1 quvi ssl

WANTLIB-evolution += ${WANTLIB}
WANTLIB-evolution += asn1 atk-1.0 cairo cairo-gobject camel-1.2
WANTLIB-evolution += com_err crypto dbus-1 e2fs-uuid
WANTLIB-evolution += ebook-1.2 ecal-1.2 edataserver-1.2 edataserverui-3.0
WANTLIB-evolution += enchant gailutil-3 gconf-2 gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB-evolution += gnome-keyring gpg-error gssapi gtk-3
WANTLIB-evolution += gtkhtml-4.0 gtkhtml-editor-4.0 ical icalss icalvcal
WANTLIB-evolution += krb5 nspr4 nss3 nssutil3 pango-1.0 pangocairo-1.0
WANTLIB-evolution += pangoft2-1.0 plc4 plds4 png smime3 softokn3 soup-2.4
WANTLIB-evolution += sqlite3 ssl3 stdc++ tracker-miner-0.14 tracker-sparql-0.14
WANTLIB-evolution += xml2 dbus-glib-1 ICE SM db ebackend-1.2 gnome-desktop-3
WANTLIB-evolution += lib/tracker-${MAJ_V}/tracker-common
WANTLIB-evolution += lib/tracker-${MAJ_V}/tracker-data

WANTLIB-nautilus += ${WANTLIB}
WANTLIB-nautilus += lib/tracker-${MAJ_V}/tracker-common
WANTLIB-nautilus += lib/tracker-${MAJ_V}/tracker-data
WANTLIB-nautilus += atk-1.0 cairo cairo-gobject e2fs-uuid gdk-3 gdk_pixbuf-2.0
WANTLIB-nautilus += gtk-3 nautilus-extension pango-1.0 pangocairo-1.0 dbus-1
WANTLIB-nautilus += pangoft2-1.0 png sqlite3 tracker-sparql-0.14
d57 1
a57 3
LIB_DEPENDS-main=	${LIB_DEPENDS} \
			x11/gnome/panel \
			x11/gnome/totem-pl-parser \
a59 2
			devel/libgee \
			net/librest \
d67 3
a69 1
			audio/taglib
a70 1
RUN_DEPENDS-evolution=	${MODGETTEXT_RUN_DEPENDS}
d74 1
a74 8
RUN_DEPENDS-evolution +=mail/evolution,-main
LIB_DEPENDS-evolution=	${LIB_DEPENDS} \
			x11/gnome/tracker,-main=${GNOME_VERSION}

RUN_DEPENDS-nautilus=	${MODGETTEXT_RUN_DEPENDS}
LIB_DEPENDS-nautilus=	${LIB_DEPENDS} \
			x11/gnome/tracker,-main=${GNOME_VERSION} \
			x11/gnome/nautilus>=3.0.0
d86 6
a91 6
CONFIGURE_ARGS=	--disable-static \
		--disable-functional-tests \
		--disable-miner-thunderbird \
		--disable-miner-firefox \
		--disable-network-manager \
		--disable-qt
d94 1
a94 1
CONFIGURE_ARGS += --disable-libgxps
d97 1
a97 1
CONFIGURE_ARGS += --disable-libosinfo
d100 1
a100 1
CONFIGURE_ARGS += --disable-miner-rss
d103 1
a103 1
CONFIGURE_ARGS += --disable-libiptcdata
d105 1
a105 1
# XXX temporarily disable tracker,-evolution which does not build with evo >= 3.6.0
d109 1
a109 3
#  add -evolution to MULTI_PACKAGES
#  add x11/gnome/tracker,-evolution to RUN_DEPENDS-extra in meta/gnome
CONFIGURE_ARGS += --disable-miner-evolution
d116 1
a116 1
FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples/meta-tracker/
@


1.128
log
@Add x11/gnome/photos to the watch list.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2013/03/11 11:46:12 espie Exp $
a21 1
# net/telepathy/folks
@


1.127
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2013/02/06 15:54:46 ajacoutot Exp $
d25 1
@


1.126
log
@Update to meta-tracker-0.14.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2012/11/16 07:22:51 ajacoutot Exp $
a39 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.125
log
@tracker-monitor: add support for GKqueueDirectoryMonitor ; pushed upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2012/11/15 08:38:03 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=	0.14.4
a19 3
REVISION-main =		2
REVISION-nautilus =	1

d51 2
a52 2
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm drm expat ffi fontconfig
d55 1
a55 2
WANTLIB += ICE SM atk-bridge-2.0 atspi harfbuzz icudata icule
WANTLIB += z icui18n pthread icuuc
d60 2
a61 2
WANTLIB-main += gcrypt gdk-3 gdk_pixbuf-2.0 gee gif gmime-2.6
WANTLIB-main += gnome-keyring gpg-error gsf-1 gtk-3
d88 1
a88 1
WANTLIB-nautilus += pangoft2-1.0 png sqlite3 tracker-sparql-0.14 stdc++
d97 1
a97 1
			devel/libgee06 \
@


1.124
log
@Better kqueue integration with tracker_monitor_init.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2012/11/10 11:10:41 espie Exp $
d20 2
a21 1
REVISION-main =		1
@


1.123
log
@keep fixing unit tests linking, but disable them for now.
bump main accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2012/11/01 18:26:01 ajacoutot Exp $
a7 1
REVISION-main =		0
d19 2
@


1.122
log
@Update to (meta-)tracker-0.14.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2012/10/28 11:33:11 ajacoutot Exp $
d8 1
d159 3
@


1.121
log
@Fix comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2012/10/28 11:13:51 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=	0.14.3
d112 1
a112 1
BUILD_DEPENDS +=	mail/evolution,-main
d139 3
d153 1
@


1.120
log
@check-lib-depends(1) does not work with unversioned solibs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2012/10/24 17:39:29 ajacoutot Exp $
d110 2
a111 2
# XXX should be a LIB_DEPENDS but check-lib-depends(1) does not work
# with unversioned solibs (LOCALBASE/lib/evolution/*/*.so).
@


1.119
log
@Bugfix update to (meta-)tracker-0.14.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2012/10/15 13:26:05 ajacoutot Exp $
a82 11
WANTLIB-evolution += lib/evolution/${EVO_VERSION}/emiscwidgets
WANTLIB-evolution += lib/evolution/${EVO_VERSION}/email-engine
WANTLIB-evolution += lib/evolution/${EVO_VERSION}/email-utils
WANTLIB-evolution += lib/evolution/${EVO_VERSION}/eshell
WANTLIB-evolution += lib/evolution/${EVO_VERSION}/etable
WANTLIB-evolution += lib/evolution/${EVO_VERSION}/etext
WANTLIB-evolution += lib/evolution/${EVO_VERSION}/eutil
WANTLIB-evolution += lib/evolution/${EVO_VERSION}/evolution-a11y
WANTLIB-evolution += lib/evolution/${EVO_VERSION}/filter
WANTLIB-evolution += lib/evolution/${EVO_VERSION}/gnomecanvas
WANTLIB-evolution += lib/evolution/${EVO_VERSION}/menus
d110 4
d115 1
a115 2
			x11/gnome/tracker,-main=${GNOME_VERSION} \
			mail/evolution,-main>=3.4.0
@


1.118
log
@Add -rpath to the pkg-config files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2012/10/04 07:21:57 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=	0.14.2
a19 4
REVISION-main=		8
REVISION-evolution=	4
REVISION-nautilus=	5

d56 1
a56 1
WANTLIB += z unistring pthread icuuc
a102 2

LIB_DEPENDS=		converters/libunistring
@


1.117
log
@Unbreak after recent webkit RUN_DEPENDS changes -- explicitely add
audio/taglib to LIB_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2012/09/28 16:02:21 ajacoutot Exp $
d20 1
a20 1
REVISION-main=		7
d22 1
a22 1
REVISION-nautilus=	4
@


1.116
log
@Fix the lang/vala dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2012/09/28 15:57:27 ajacoutot Exp $
d20 1
a20 1
REVISION-main=		6
d123 2
a124 1
			converters/enca
@


1.115
log
@Disable the evolution subpackage until upstream fixes it to support the new
evolution.
Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2012/09/11 06:03:27 ajacoutot Exp $
d106 2
d137 1
a137 1
MODGNOME_TOOLS= 	goi vala
@


1.114
log
@Explicitely patch for DATADIRNAME; the hack from the gnome MODULE will
be removed soon.
Tighten deps while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2012/09/07 06:11:18 ajacoutot Exp $
d20 3
a22 3
REVISION-main=		5
REVISION-evolution=	3
REVISION-nautilus=	3
d53 1
a53 1
MULTI_PACKAGES=	-main -evolution -nautilus
d59 2
a60 1
WANTLIB += z unistring pthread
d103 1
a103 1
WANTLIB-nautilus += gtk-3 nautilus-extension pango-1.0 pangocairo-1.0
d150 3
d159 7
d172 6
@


1.113
log
@Missing LIB_DEPENDS and regen WANTLIB to unbreak.
spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2012/09/01 14:36:59 ajacoutot Exp $
d21 2
a22 2
REVISION-evolution=	2
REVISION-nautilus=	2
d124 1
a124 1
			x11/gnome/tracker,-main \
d129 1
a129 1
			x11/gnome/tracker,-main \
@


1.112
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2012/08/04 15:36:11 ajacoutot Exp $
d20 3
a22 3
REVISION-main=		4
REVISION-evolution=	1
REVISION-nautilus=	1
d59 1
a59 1
WANTLIB += z unistring
d68 1
a68 1
WANTLIB-main += pthread rest-0.7 soup-2.4 soup-gnome-2.4 sqlite3 stdc++
d119 2
a120 1
			audio/libcue
@


1.111
log
@DIFF_ARGS is not needed anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2012/07/16 07:19:25 ajacoutot Exp $
d20 3
a22 3
REVISION-main=		3
REVISION-evolution=	0
REVISION-nautilus=	0
@


1.110
log
@Regen WANTLIB to unbreak.

spotted by naddy@@
@
text
@d1 1
a1 5
# $OpenBSD: Makefile,v 1.109 2012/07/12 12:18:53 jasper Exp $

# XXX Binary files patch-src_tracker-control_tracker-control-general_c
# and patch-src_tracker-control_tracker-control-general_c.new differ
DIFF_ARGS=	-a
d20 1
a20 1
REVISION-main=		2
@


1.109
log
@sigh, forgot another one
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2012/07/08 09:09:43 ajacoutot Exp $
d24 1
a24 1
REVISION-main=		1
d70 1
a70 1
WANTLIB-main += jpeg lcms lzma openjpeg panel-applet-4 cue
d103 2
a107 2
WANTLIB-nautilus += lib/tracker-${MAJ_V}/tracker-common
WANTLIB-nautilus += lib/tracker-${MAJ_V}/tracker-data
@


1.108
log
@Add x11/gnome/documents to the watch list.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2012/07/08 07:10:17 ajacoutot Exp $
d24 1
a24 1
REVISION-main=		0
d75 1
a75 1
WANTLIB-main += crypto curl idn lua quvi ssl
@


1.107
log
@New HOMEPAGE.

from Sergey Bronnikov
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2012/07/05 17:46:12 ajacoutot Exp $
d31 1
@


1.106
log
@Update to (meta-)tracker-0.14.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2012/06/15 08:30:21 ajacoutot Exp $
d24 4
d43 1
a43 1
HOMEPAGE=	http://tracker-project.org/
@


1.105
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2012/05/04 09:16:04 ajacoutot Exp $
d14 1
a14 1
GNOME_VERSION=	0.14.1
a23 3
REVISION-main=		0
REVISION-evolution=	0

d58 1
a58 1
WANTLIB += z
d64 2
a65 2
WANTLIB-main += gnome-keyring gpg-error gsf-1 gtk-3 icudata
WANTLIB-main += icui18n icuuc jpeg lcms lzma openjpeg panel-applet-4 cue
d79 1
a79 1
WANTLIB-evolution += icui18n icuuc krb5 nspr4 nss3 nssutil3 pango-1.0 pangocairo-1.0
d99 1
a99 1
WANTLIB-nautilus += gtk-3 icui18n icuuc nautilus-extension pango-1.0 pangocairo-1.0
d103 2
@


1.104
log
@Properly load the evolution plugin.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2012/05/03 18:52:11 ajacoutot Exp $
d24 1
@


1.103
log
@Update to meta-tracker-0.14.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2012/04/11 07:39:37 ajacoutot Exp $
d23 2
@


1.102
log
@Adapt monitor_limit after the recent nofiles limit bump in login.conf(5).
Fix WANTLIB-evolution.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2012/03/29 07:28:05 ajacoutot Exp $
d14 1
a14 1
GNOME_VERSION=	0.14.0
a22 4

REVISION-main=		1
REVISION-evolution=	1
REVISION-nautilus=	0
@


1.101
log
@WANTLIB, DEPENDS... after evolution update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2012/03/08 14:14:10 ajacoutot Exp $
d24 2
a25 2
REVISION-main=		0
REVISION-evolution=	0
d90 2
@


1.100
log
@Update to (meta)-tracker-0.14.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2012/02/23 11:30:58 ajacoutot Exp $
d24 4
d34 1
a34 1
EVO_VERSION=	3.2
d74 1
d77 3
a79 5
WANTLIB-evolution += lib/tracker-${MAJ_V}/tracker-common
WANTLIB-evolution += lib/tracker-${MAJ_V}/tracker-data
WANTLIB-evolution += ICE SM asn1 atk-1.0 cairo cairo-gobject camel-1.2
WANTLIB-evolution += camel-provider-1.2 com_err crypto db dbus-1 e2fs-uuid
WANTLIB-evolution += ebackend-1.2 ebook-1.2 ecal-1.2 edataserver-1.2 edataserverui-3.0
d81 1
a81 1
WANTLIB-evolution += gnome-desktop-3 gnome-keyring gpg-error gssapi gtk-3
d86 3
a88 1
WANTLIB-evolution += xml2 dbus-glib-1 pthread
a99 2
WANTLIB-nautilus += lib/tracker-${MAJ_V}/tracker-common
WANTLIB-nautilus += lib/tracker-${MAJ_V}/tracker-data
d103 2
d111 1
a111 1
			devel/libgee \
d123 1
a123 1
			mail/evolution>=3.0.0
@


1.99
log
@Add x11/gnome/grilo-plugins to the list of ports to watch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2012/02/22 14:20:32 ajacoutot Exp $
d14 1
a14 1
GNOME_VERSION=	0.12.10
a23 2
REVISION-main=		1

d33 5
a37 5
SHARED_LIBS +=  tracker-common       2.0      # 1201.0
SHARED_LIBS +=  tracker-data         2.0      # 1201.0
SHARED_LIBS +=  tracker-sparql-0.12  0.0      # 1201.0
SHARED_LIBS +=  tracker-extract-0.12 0.0      # 1201.0
SHARED_LIBS +=  tracker-miner-0.12   0.0      # 1201.0
d68 1
a68 1
WANTLIB-main += tag tag_c tiff totem-plparser upower-glib xml2 gstvideo-0.10
d82 1
a82 1
WANTLIB-evolution += sqlite3 ssl3 stdc++ tracker-miner-0.12 tracker-sparql-0.12
d99 1
a99 1
WANTLIB-nautilus += pangoft2-1.0 png sqlite3 tracker-sparql-0.12 stdc++
@


1.98
log
@Based the number of monitors on RLIMIT_NOFILE and max it to 2048.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2012/02/21 11:29:43 ajacoutot Exp $
d29 1
@


1.97
log
@Sync WANTLIB after gmime update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2012/02/18 18:40:18 ajacoutot Exp $
d24 1
a24 1
REVISION-main=		0
@


1.96
log
@Extend+sync comment about VERSION sync.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2012/02/16 22:20:02 ajacoutot Exp $
d24 2
d62 1
a62 1
WANTLIB-main += archive assuan atk-1.0 bz2 c cairo cairo-gobject
d65 1
a65 1
WANTLIB-main += gnome-keyring gpg-error gpgme-pthread gsf-1 gtk-3 icudata
@


1.95
log
@Update to version 0.12.10.
Missing @@pkgpath marker, spotted by Mikolaj Kucharski.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2012/02/02 07:12:23 ajacoutot Exp $
d24 3
d28 1
@


1.94
log
@Bring a patch from upstream to fix a hard crash with the -evolution
subpackage.
Sync the tracker_file_open_fd patches with upstream.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2012/01/22 15:13:23 ajacoutot Exp $
d14 1
a14 1
GNOME_VERSION=	0.12.9
a22 3

REVISION-main=	5
REVISION-evolution=0
@


1.93
log
@open(2) with the NOATIME flag is only available on Linux. Instead of
duplicating the same code all over with ifdef, factorize into a function
that opens file descriptors in a portable way.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2012/01/02 14:11:21 ajacoutot Exp $
d24 2
a25 1
REVISION-main=	4
@


1.92
log
@Implement get_memory_total().
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2012/01/01 11:21:16 ajacoutot Exp $
d24 1
a24 1
REVISION-main=	3
@


1.91
log
@Use getrlimit(2) to set the maximum number of monitors instead of an
harcoded value.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2012/01/01 09:02:11 ajacoutot Exp $
d24 1
a24 1
REVISION-main=	2
@


1.90
log
@Recognize GKqueueDirectoryMonitor.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2011/12/16 17:36:55 ajacoutot Exp $
d24 1
a24 1
REVISION-main=	1
@


1.89
log
@Bugfix update to meta-tracker-0.12.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2011/12/05 12:50:24 ajacoutot Exp $
d23 2
@


1.88
log
@Remove bogus WANTLIB... not sure how it ended up there.

noticed by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2011/12/03 22:17:17 ajacoutot Exp $
d14 1
a14 1
GNOME_VERSION=	0.12.8
a22 2

REVISION-main=	1
@


1.87
log
@Use MODGNOME_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2011/11/25 18:13:25 ajacoutot Exp $
d24 1
a24 1
REVISION-main=	0
d60 1
a60 1
WANTLIB-main += gcrypt gdk-3 gdk-x11-2.0 gdk_pixbuf-2.0 gee gif gmime-2.6
@


1.86
log
@Update to meta-tracker-0.12.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2011/10/29 08:12:33 ajacoutot Exp $
d24 2
d126 1
@


1.85
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2011/10/27 15:39:00 ajacoutot Exp $
d14 1
a14 1
GNOME_VERSION=	0.12.7
a22 3

REVISION-main=		0
REVISION-evolution=	0
@


1.84
log
@Update to meta-tracker-0.12.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2011/10/21 14:26:56 ajacoutot Exp $
d24 3
d59 1
a59 1
WANTLIB-main += ORBit-2 archive assuan atk-1.0 bz2 c cairo cairo-gobject
d72 1
a72 1
WANTLIB-evolution += ICE ORBit-2 SM asn1 atk-1.0 cairo cairo-gobject camel-1.2
@


1.83
log
@Update to (meta-)tracker-0.12.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2011/10/16 08:54:53 ajacoutot Exp $
d14 1
a14 1
GNOME_VERSION=	0.12.6
d94 1
a94 1
WANTLIB-nautilus += pangoft2-1.0 png sqlite3 tracker-sparql-0.12
@


1.82
log
@Update to meta-tracker-0.12.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2011/10/06 20:26:47 ajacoutot Exp $
d14 1
a14 1
GNOME_VERSION=	0.12.5
@


1.81
log
@Update to meta-tracker-0.12.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2011/09/28 09:47:48 jasper Exp $
d14 1
a14 1
GNOME_VERSION=	0.12.4
d50 1
a50 1
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm drm expat fontconfig
d53 1
a53 1
WANTLIB += z ffi
d67 2
@


1.80
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2011/09/26 12:31:40 ajacoutot Exp $
d14 1
a14 1
GNOME_VERSION=	0.12.3
d44 2
a45 1
		devel/dconf
d60 1
a60 1
WANTLIB-main += icui18n icuuc jpeg lcms lzma openjpeg panel-applet-4
d76 1
a76 1
WANTLIB-evolution += xml2
d105 2
a106 1
			graphics/libungif
d122 4
d145 1
a145 1
	${SUBST_CMD} ${WRKSRC}/src/tracker-needle/tracker-needle.vala
@


1.79
log
@Update to (meta-)tracker-0.12.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2011/09/26 10:20:13 ajacoutot Exp $
d134 1
a134 3
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib \
			-Wl,-rpath,${TRUEPREFIX}/lib/tracker-${MAJ_V}"
@


1.78
log
@Regen WANTLIB to unbreak.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2011/09/22 18:34:24 ajacoutot Exp $
d14 1
a14 1
GNOME_VERSION=	0.12.2
a23 2
REVISION-evolution=	0

d62 2
a63 1
WANTLIB-main += tag tag_c tiff totem-plparser upower-glib xml2
a122 1
		--enable-generic-media-extractor=gtsreamer \
d126 1
a126 2
		--disable-qt \
		--with-gstreamer-backend=decodebin2
@


1.77
log
@Update to tracker-0.12.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2011/09/22 08:53:05 ajacoutot Exp $
d24 2
d67 4
a70 7
WANTLIB-evolution += lib/tracker-${MAJ_V}/tracker-common
WANTLIB-evolution += lib/tracker-${MAJ_V}/tracker-data
WANTLIB-evolution += ICE ORBit-2 SM X11-xcb asn1 atk-1.0 cairo cairo-gobject
WANTLIB-evolution += camel-1.2 camel-provider-1.2 com_err crypto db dbus-1
WANTLIB-evolution += e2fs-uuid ebackend-1.2 ebook-1.2 ecal-1.2
WANTLIB-evolution += edataserver-1.2 edataserverui-3.0 enchant
WANTLIB-evolution += execinfo gailutil-3 gconf-2 gcrypt gdk-3 gdk_pixbuf-2.0
d75 2
a76 2
WANTLIB-evolution += sqlite3 ssl3 startup-notification-1 stdc++ tracker-miner-0.12
WANTLIB-evolution += tracker-sparql-0.12 xcb-aux xml2
@


1.76
log
@Unbreak after evolution update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2011/09/21 13:28:47 jasper Exp $
d14 1
a14 1
GNOME_VERSION=	0.12.1
a23 4
REVISION-main=	3
REVISION-evolution=1
REVISION-nautilus=0

d69 1
a69 1
WANTLIB-evolution += dbus-glib-1 e2fs-uuid ebackend-1.2 ebook-1.2 ecal-1.2
d77 1
a77 1
WANTLIB-evolution += tracker-sparql-0.12 unique-3.0 xcb-aux xml2
@


1.75
log
@bump after recent evolution update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2011/09/20 21:10:01 jasper Exp $
d24 3
a26 2
REVISION-main=	2
REVISION-evolution=0
d56 1
a56 1
WANTLIB += z
d74 1
a74 1
WANTLIB-evolution += edataserver-1.2 edataserverui-3.0 egroupwise-1.2 enchant
@


1.74
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2011/09/20 20:52:47 jasper Exp $
d24 2
a25 1
REVISION-main=	1
d28 1
a28 1
EVO_VERSION=	3.0
@


1.73
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2011/09/20 17:00:14 ajacoutot Exp $
d125 1
a125 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-static \
@


1.72
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2011/09/19 07:44:59 ajacoutot Exp $
a96 3
BUILD_DEPENDS=	lang/vala \
		devel/gobject-introspection

d122 1
a126 1
		--disable-gtk-doc \
a127 1
		--enable-introspection \
@


1.71
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/09/18 10:27:02 ajacoutot Exp $
d24 1
a24 1
REVISION-main=	0
@


1.70
log
@Missing BUILD_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/09/18 09:21:34 ajacoutot Exp $
d125 1
a125 1
DESKTOP_FILES=	Yes
@


1.69
log
@Re-introduce some sane defaults:
* set default indexing speed to 10 (i.e. medium value 0->20)
* don't index removable devices
* stop indexing if available space is =< 5%
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/09/18 08:36:56 ajacoutot Exp $
d97 2
a98 1
BUILD_DEPENDS=	lang/vala
@


1.68
log
@Unbreak this port: major update to meta-tracker-0.12.1.
Introducing 3 subpackages:
-main (tracker itself)
-evolution (mail indexing)
-nautilus (tag editing from within nautilus)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/09/16 12:29:14 espie Exp $
d23 2
@


1.67
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/09/12 12:04:19 jasper Exp $
d3 3
a5 1
BROKEN=		needs an update (GNOME3)
d7 5
a11 1
COMMENT=	powerful desktop search tool and indexer
d14 1
a14 1
GNOME_VERSION=	0.8.18
d20 13
a32 34
REVISION=	6

EVO_VERSION=	2.32
SUBST_VARS=	EVO_VERSION

SHARED_LIBS +=  tracker-common       1.0      # .800.0
SHARED_LIBS +=  tracker-client-0.8   0.0      # .800.0
SHARED_LIBS +=  tracker-data         1.0      # .800.0
SHARED_LIBS +=  tracker-extract-0.8  0.0      # .800.0
SHARED_LIBS +=  tracker-miner-0.8    0.0      # .800.0

WANTLIB += ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender art_lgpl_2 asn1 atk-1.0 assuan gpgme-pthread
WANTLIB += bonobo-2 bonobo-activation bonoboui-2 bz2
WANTLIB += c cairo camel-1.2 camel-provider-1.2 com_err crypto
WANTLIB += dbus-1 dbus-glib-1 ebook-1.2 edataserver-1.2 edataserverui-1.2
WANTLIB += enchant execinfo exif expat fontconfig freetype
WANTLIB += gailutil gconf-2 gcrypt gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmime-2.6 gmodule-2.0 gnome-2
WANTLIB += gnome-desktop-2 gnome-keyring gnomecanvas-2 gnomevfs-2
WANTLIB += gobject-2.0 gpg-error gsf-1 gssapi gstbase-0.10
WANTLIB += gstreamer-0.10 gthread-2.0 gtk-x11-2.0 gtkhtml-3.14
WANTLIB += jpeg krb5 lcms m nspr4 nss3 ogg pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4
WANTLIB += png popt pthread pthread-stubs smime3 soup-2.4 sqlite3
WANTLIB += ssl ssl3 startup-notification-1 stdc++ tiff unique-1.0
WANTLIB += util xcb xcb-atom xcb-aux xcb-event xcb-render
WANTLIB += xml2 z openjpeg soup-gnome-2.4 kvm
WANTLIB += vorbis vorbisfile lib/evolution/${EVO_VERSION}/eutil exempi
WANTLIB += gsttag-0.10 poppler-glib poppler panel-applet-2
WANTLIB += nautilus-extension totem-plparser e2fs-uuid gee
WANTLIB += canberra gtkhtml-editor-3.14 ltdl nssutil3
WANTLIB += GL Xxf86vm drm xcb-shm
d42 3
a44 1
EXTRACT_SUFX=		.tar.bz2
d46 73
a118 3
MODULES=	devel/gettext \
		lang/python \
		x11/gnome
d120 1
a120 16
LIB_DEPENDS=	audio/libvorbis \
		devel/libgsf \
		mail/evolution \
		textproc/exempi>=2.1.1 \
		multimedia/gstreamer-0.10/plugins-base>=0.10.25 \
		print/poppler \
		x11/gnome/panel \
		x11/gnome/nautilus>=2.28.4p1 \
		x11/gnome/totem-pl-parser>=2.28.1 \
		sysutils/e2fsprogs>=1.41.4p5 \
		devel/libgee
BUILD_DEPENDS=	devel/xdg-utils \
		lang/vala
RUN_DEPENDS=	sysutils/gamin,-server \
		devel/xdg-utils \
		textproc/odt2txt
a122 1
MODPY_RUNDEP=	No
d125 13
a137 35
		--enable-video-extractor=gstreamer \
		--enable-gdkpixbuf \
		--enable-gnome-keyring \
		--enable-miner-evolution \
		--enable-miner-kmail \
		--enable-tracker-status-icon \
		--enable-tracker-search-bar \
		--enable-tracker-preferences \
		--enable-exempi \
		--enable-playlist \
		--enable-nautilus-extension \
		--enable-poppler-glib \
		--enable-libexif \
		--enable-libgsf \
		--enable-libjpeg \
		--enable-libtiff \
		--enable-libxml2 \
		--enable-libvorbis \
		--enable-tracker-search-tool \
		--enable-tracker-explorer \
		--disable-unit-tests \
		--disable-miner-rss \
		--disable-libstreamanalyzer \
		--disable-gcov \
		--disable-maemo \
		--disable-gstreamer-tagreadbin \
		--disable-devkit-power \
		--disable-hal \
		--disable-libinotify \
		--disable-quill \
		--disable-gstreamer-helix \
		--disable-unac \
		--without-enca \
		--disable-libiptcdata \
		--disable-libflac
d139 2
a140 2
# there is a check in configure, but no id3 plugin whatsoever in source
CONFIGURE_ARGS+= --disable-id3lib
d142 1
a142 1
CONFIGURE_ENV+=	CPPFLAGS="-I${LOCALBASE}/include" \
d144 1
a144 3
			-Wl,-rpath,${TRUEPREFIX}/lib/tracker-${GNOME_VERSION:C/^([0-9]+\.[0-9]+).*/\1/}" \
		EXEMPI_LIBS="`pkg-config --libs exempi-2.0` -lstdc++"
USE_GROFF =	Yes
d146 1
a146 1
FAKE_FLAGS+=	sysconfdir=${PREFIX}/share/examples/meta-tracker/
d149 1
a149 1
	${SUBST_CMD} ${WRKSRC}/src/miners/fs/tracker-miner-applications.c
@


1.66
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/09/12 08:02:55 ajacoutot Exp $
d14 1
a14 1
REVISION=	5
@


1.65
log
@Temporarily mark these broken until we can update them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/08/30 06:52:57 ajacoutot Exp $
d56 2
@


1.64
log
@Fix WANTLIB after gmime/gpgme update.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.63 2011/07/06 14:01:51 jasper Exp $
@


1.63
log
@- move away from old kinfo_proc2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/07/06 07:23:20 jasper Exp $
d12 1
a12 1
REVISION=	4
d25 1
a25 1
WANTLIB += Xrender art_lgpl_2 asn1 atk-1.0
d31 1
a31 1
WANTLIB += gio-2.0 glib-2.0 gmime-2.4 gmodule-2.0 gnome-2
@


1.62
log
@- adjust after uuid changes
- explicitly depend on latest e2fsprogs revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2011/07/05 17:54:07 ajacoutot Exp $
d12 1
a12 1
REVISION=	3
@


1.61
log
@Fix a crasher spotted by zinke@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2011/06/08 17:41:57 rpointel Exp $
d12 1
a12 1
REVISION=	2
d68 1
a68 1
		sysutils/e2fsprogs>=1.41.4p3 \
@


1.60
log
@bump after default python version switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/05/07 16:17:26 ajacoutot Exp $
d12 1
a12 1
REVISION=	1
@


1.59
log
@Don't use /proc to get the process name.

from robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/04/27 11:09:50 ajacoutot Exp $
d12 1
a12 1
REVISION=	0
@


1.58
log
@Small update to meta-tracker-0.8.18.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2011/01/15 21:01:57 ajacoutot Exp $
d11 2
@


1.57
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/01/15 19:51:08 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.17
a10 1
REVISION=	7
d31 1
a31 1
WANTLIB += gnutls gobject-2.0 gpg-error gsf-1 gssapi gstbase-0.10
d36 1
a36 1
WANTLIB += ssl ssl3 startup-notification-1 stdc++ tasn1 tiff unique-1.0
d38 1
a38 1
WANTLIB += xml2 z openjpeg proxy soup-gnome-2.4 kvm
@


1.56
log
@Use kvm(3) instead of trying to get PIDs from /proc.

from and ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/12/14 09:54:17 ajacoutot Exp $
d11 1
a11 1
REVISION=	6
d38 2
a39 2
WANTLIB += util xcb xcb-atom xcb-aux xcb-event xcb-render xcb-render-util
WANTLIB += xml2 z openjpeg proxy soup-gnome-2.4
d43 2
a44 2
WANTLIB += canberra gdata gtkhtml-editor-3.14 ltdl nssutil3
WANTLIB += GL X11-xcb Xxf86vm drm xcb-shm
@


1.55
log
@Fix DESCR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/11/22 08:36:58 espie Exp $
d11 1
a11 1
REVISION=	5
@


1.54
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/11/17 20:40:16 ajacoutot Exp $
d11 1
a11 1
REVISION=	4
@


1.53
log
@Rename tracker-search to meta-tracker as it's what it is and even
upstream refers to it as such.

jasper@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/10/19 08:13:57 espie Exp $
d58 16
a73 16
LIB_DEPENDS=	::audio/libvorbis \
		::devel/libgsf \
		::mail/evolution \
		:exempi->=2.1.1:textproc/exempi \
		:gstreamer-plugins-base->=0.10.25:multimedia/gstreamer-0.10/plugins-base \
		::print/poppler \
		::x11/gnome/panel \
		:nautilus->=2.28.4p1:x11/gnome/nautilus \
		:totem-pl-parser->=2.28.1:x11/gnome/totem-pl-parser \
		:e2fsprogs->=1.41.4p3:sysutils/e2fsprogs \
		::devel/libgee
BUILD_DEPENDS=	::devel/xdg-utils \
		::lang/vala
RUN_DEPENDS=	:gamin-*:sysutils/gamin,-server \
		::devel/xdg-utils \
		::textproc/odt2txt
@


1.52
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/10/11 08:19:20 jasper Exp $
d9 3
a11 3
# as tracker-search.
PKGNAME=	tracker-search-${VERSION}
REVISION=	3
d124 1
a124 1
FAKE_FLAGS+=	sysconfdir=${PREFIX}/share/examples/tracker-search/
@


1.51
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/10/07 14:31:36 ajacoutot Exp $
d122 1
@


1.50
log
@Fix tracker evolution plugin loading.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/09/30 08:39:50 ajacoutot Exp $
d11 1
a11 1
REVISION=	2
d30 1
a30 1
WANTLIB += gio-2.0 glib-2.0 glitz gmime-2.4 gmodule-2.0 gnome-2
@


1.49
log
@Fix build and bump after evolution update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/09/28 11:52:36 landry Exp $
d11 1
a11 1
REVISION=	1
d24 2
a25 2
WANTLIB += Xrender art_lgpl_2 asn1 atk-1.0 avahi-client avahi-common
WANTLIB += avahi-glib bonobo-2 bonobo-activation bonoboui-2 bz2
d28 1
a28 1
WANTLIB += eggdbus-1 enchant execinfo exif expat fontconfig freetype
d44 1
d119 2
a120 1
		LDFLAGS="-L${LOCALBASE}/lib" \
@


1.48
log
@Add devel/libgsf to LIB_DEPENDS, following librsvg update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/09/02 15:33:33 ajacoutot Exp $
d11 1
a11 1
REVISION=	0
d13 1
a13 1
EVO_VERSION=	2.30
d34 1
a34 1
WANTLIB += gtkhtml-editor jpeg krb5 lcms m nspr4 nss3 ogg pango-1.0
d43 1
@


1.47
log
@Minor update to tracker-search-0.8.17.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/08/30 21:53:59 sthen Exp $
d11 1
d57 1
@


1.46
log
@python bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/08/22 12:02:53 ajacoutot Exp $
d6 1
a6 3
GNOME_VERSION=	0.8.16

REVISION=	0
@


1.45
log
@Update to tracker-search-0.8.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/07/23 07:57:12 ajacoutot Exp $
d7 2
@


1.44
log
@Tracker can be *very* hard on ressources, so let's set some sane
defaults (which can be changed in the preferences):
* disable monitoring (gamin uses kqueue(2) and will run out of fds very
fast on a default GNOME system so it will fall back to polling which is
very ressource intensive)
* stop indexing if available space is =< 5%
* set default indexing speed to 10 (i.e. medium value 0->20)
* don't index removable devices

I will revisit this later when/if tracker behaves nicer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/07/20 09:38:34 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	0.8.15
REVISION=	1
d38 1
a38 1
WANTLIB += xml2 z openjpeg
@


1.43
log
@Make sure we don't end up with the same entry listed several times in the
default configuration. This fixes crawling on systems where XDG_* special
directories are set to HOME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/07/16 11:56:15 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
@


1.42
log
@Bugfix update to tracker-search-0.8.15.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/07/13 14:52:26 ajacoutot Exp $
d7 1
@


1.41
log
@Fix CONFIGURE_ARGS, no binary change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/07/01 17:25:21 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.14
d39 3
d55 10
a64 10
LIB_DEPENDS=	vorbis,vorbisfile.>=6::audio/libvorbis \
		lib/evolution/${EVO_VERSION}/eutil.>=5::mail/evolution \
		exempi.>=1:exempi->=2.1.1:textproc/exempi \
		gsttag-0.10:gstreamer-plugins-base->=0.10.25:multimedia/gstreamer-0.10/plugins-base \
		poppler-glib,poppler::print/poppler \
		panel-applet-2::x11/gnome/panel \
		nautilus-extension:nautilus->=2.28.4p1:x11/gnome/nautilus \
		totem-plparser.>=2:totem-pl-parser->=2.28.1:x11/gnome/totem-pl-parser \
		e2fs-uuid:e2fsprogs->=1.41.4p3:sysutils/e2fsprogs \
		gee::devel/libgee
@


1.40
log
@Bugfix update to tracker-search-0.8.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/06/26 04:15:19 ajacoutot Exp $
d75 2
a76 2
		--enable-evolution-miner \
		--enable-kmail-miner \
@


1.39
log
@Bugfix update to tracker-search-0.8.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/06/18 06:23:45 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.13
@


1.38
log
@Bugfix update to tracker-search-0.8.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/06/10 15:02:03 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.12
@


1.37
log
@Update to tracker-search-0.8.11, yet another bugfix release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/06/03 15:15:44 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.11
@


1.36
log
@Bugfix update to tracker-search-0.8.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/05/27 16:29:40 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.10
@


1.35
log
@Bugfix update to tracker-search-0.8.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/05/21 11:58:36 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.9
@


1.34
log
@We have strndup(3) and strnlen(3) now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/05/20 17:55:42 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	0.8.7
PKGNAME=	${DISTNAME}p0
@


1.33
log
@Bugfix update to tracker-search-0.8.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/05/13 15:31:08 ajacoutot Exp $
d7 1
@


1.32
log
@Bugfix update to tracker-search-0.8.6.
* fixes several mem leaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/05/07 07:22:47 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.6
d38 1
a38 1
WANTLIB += xml2 z
@


1.31
log
@Maintainance update to tracker-search-0.8.5.
* lots (!) of bugfixes

Our default GStreamer package now comes with much more useful plugins
than it used to, so no need for pkg/MESSAGE anymore, output is already
chatty enough.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/04/29 17:06:39 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.5
@


1.30
log
@Fix build on an immaculate box.

spotted by jasper@@ (my boxes are brown and dirty...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/04/29 15:46:30 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.4
d10 1
a10 1
PKGNAME=	tracker-search-${VERSION}p0
@


1.29
log
@Bugfix update to tracker-search-0.8.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/04/28 09:51:09 ajacoutot Exp $
d10 1
a10 1
PKGNAME=	tracker-search-${VERSION}
a71 1
		--enable-id3lib \
d107 3
@


1.28
log
@Don't spam xsession-errors with features we don't use.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/04/24 00:35:20 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.3
d10 1
a10 1
PKGNAME=	tracker-search-${VERSION}p1
@


1.27
log
@Enable tracker-search-tool and tracker-explorer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/04/23 09:57:25 ajacoutot Exp $
d10 1
a10 1
PKGNAME=	tracker-search-${VERSION}p0
@


1.26
log
@Update to tracker-search-0.8.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/04/16 06:36:50 ajacoutot Exp $
d10 1
a10 1
PKGNAME=	tracker-search-${VERSION}
d60 2
a61 1
		e2fs-uuid:e2fsprogs->=1.41.4p3:sysutils/e2fsprogs
d91 2
a107 4

# needs libgee
CONFIGURE_ARGS+= --disable-tracker-search-tool \
		--disable-tracker-explorer
@


1.25
log
@Update to tracker-search-0.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/04/13 14:33:27 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.8.2
d12 1
a12 1
EVO_VERSION=	2.28
d27 12
a38 11
WANTLIB += execinfo exif expat fontconfig freetype gailutil gconf-2
WANTLIB += gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glade-2.0
WANTLIB += glib-2.0 glitz gmime-2.4 gmodule-2.0 gnome-2 gnome-desktop-2
WANTLIB += gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2 gnutls
WANTLIB += gobject-2.0 gpg-error gsf-1 gssapi gstbase-0.10 gstreamer-0.10
WANTLIB += gthread-2.0 gtk-x11-2.0 jpeg krb5 lcms m nspr4 nss3 ogg
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += plc4 plds4 png popt pthread pthread-stubs smime3 softokn3
WANTLIB += soup-2.4 sqlite3 ssl ssl3 startup-notification-1 stdc++
WANTLIB += tasn1 tiff util xcb xcb-atom xcb-aux xcb-event xml2
WANTLIB += z xcb-render xcb-render-util
d103 2
a104 1
		--disable-libiptcdata
@


1.24
log
@Simplify patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/04/09 09:00:31 ajacoutot Exp $
d5 3
d10 1
a10 3
GNOME_PROJECT=	tracker
GNOME_VERSION=	0.8.1
PKGNAME=	tracker-search-${VERSION}p0
@


1.23
log
@Major update to tracker-search-0.8.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/03/21 10:41:37 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}
@


1.22
log
@Update tracker to version 0.6.96.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/12/21 18:03:20 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	0.6.96
d11 8
a18 7
SHARED_LIBS +=	stemmer              0.1      # .695.0
SHARED_LIBS +=	tracker-common       0.1      # .695.0
SHARED_LIBS +=	tracker-db           0.1      # .695.0
SHARED_LIBS +=	tracker-data         0.1      # .695.0
SHARED_LIBS +=	trackerclient        0.1      # .695.0
SHARED_LIBS +=	tracker-module       0.0      # .0.0
SHARED_LIBS +=	tracker-gtk          0.1      # .695.0
d22 1
a22 1
WANTLIB += Xrender art_lgpl_2 atk-1.0 avahi-client avahi-common
d24 13
a36 9
WANTLIB += c cairo crypto curl dbus-1 dbus-glib-1 execinfo expat
WANTLIB += fontconfig freetype gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glade-2.0 glib-2.0 glitz gmime-2.4 gmodule-2.0
WANTLIB += gnome-2 gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2
WANTLIB += gobject-2.0 gstbase-0.10 gstreamer-0.10 gthread-2.0
WANTLIB += gtk-x11-2.0 idn jpeg lcms m ogg pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png popt pthread pthread-stubs
WANTLIB += ssl startup-notification-1 tiff util xcb xcb-atom xcb-aux
WANTLIB += xcb-event xml2 xslt z
d50 3
a52 7
LIB_DEPENDS=	vorbis::audio/libvorbis \
		qdbm::databases/qdbm \
		sqlite3::databases/sqlite3 \
		gsf-1::devel/libgsf \
		notify::devel/libnotify \
		exif::graphics/libexif \
		exempi.>=1::textproc/exempi \
d55 6
a60 4
		raptor::textproc/raptor \
		gnome-desktop-2::x11/gnome/desktop \
		totem-plparser.>=2:totem-pl-parser->=2.28.1:x11/gnome/totem-pl-parser
BUILD_DEPENDS=	::devel/xdg-utils
d69 1
a69 1
		--enable-external-qdbm \
d71 11
a81 2
		--disable-unac \
		--disable-hal \
d86 1
d88 19
a106 2
		--enable-gdkpixbuf \
		--with-deskbar_applet_dir=${PREFIX}/libexec/deskbar-applet/modules-2.20-compatible
d108 2
a109 4
		LDFLAGS="-L${LOCALBASE}/lib"

# see patch-configure
CONFIGURE_ENV+=	have_deskbar_applet="module"
d114 1
a114 1
	${SUBST_CMD} ${WRKSRC}/data/modules/applications.module
@


1.21
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/12/04 08:11:07 ajacoutot Exp $
d8 2
a9 2
GNOME_VERSION=	0.6.95
PKGNAME=	tracker-search-${VERSION}p5
d51 1
a51 1
		gmime-2.0:gmime->=2.2,<2.4:mail/gmime \
d67 1
a67 1
		--enable-video-extractor="gstreamer" \
a68 1
		--disable-xmp \
d76 1
a76 3
		--enable-deskbar-applet \
		--with-deskbar_applet_dir=${PREFIX}/libexec/deskbar-applet/modules-2.20-compatible \
		--with-deskbar-applet-handler-dir="${LOCALBASE}/lib/python${MODPY_VERSION}/site-packages/deskbar/handlers/"
@


1.20
log
@Use gamin instead of fam.

ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/11/29 09:28:28 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p4
@


1.19
log
@Make use of newer gstreamer and totem-pl-parser.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/10/28 20:28:18 jasper Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p3
d58 1
a58 1
RUN_DEPENDS=	::devel/glib2,-fam \
@


1.18
log
@- when there is no monitor running, don't crash. just exit. it's nicer.
issue found in budapest, but the spa made me forget about it.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/10/14 09:26:58 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p2
d21 1
a21 1
WANTLIB += Xrender art_lgpl_2 asn1 atk-1.0 avahi-client avahi-common
d23 9
a31 11
WANTLIB += c cairo camel-1.2 com_err crypto curl dbus-1 dbus-glib-1
WANTLIB += edataserver-1.2 execinfo expat fontconfig freetype
WANTLIB += gailutil gconf-2 gcrypt gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2
WANTLIB += gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2 gnutls
WANTLIB += gobject-2.0 gpg-error gssapi gstbase-0.10 gstreamer-0.10
WANTLIB += gthread-2.0 gtk-x11-2.0 idn jpeg krb5 m nspr4 nss3
WANTLIB += ogg pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += plc4 plds4 png popt pthread pthread-stubs smime3 softokn3
WANTLIB += soup-2.4 ssl ssl3 startup-notification-1 tasn1 tiff
WANTLIB += util xcb xcb-atom xcb-aux xcb-event xml2 xslt z lcms
d52 1
a52 1
		gsttag-0.10::multimedia/gstreamer-0.10/plugins-base \
d56 1
a56 1
		totem-plparser.>=1::x11/gnome/totem-pl-parser
@


1.17
log
@New deskbar-applet modules directory will move on next update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/10/13 10:41:03 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p1
@


1.16
log
@Regen WANTLIB after poppler update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/10/12 17:42:55 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p0
d80 1
@


1.15
log
@New evince will introduce a cyclic dependency:
evince -> nautilus -> tracker -> deskbar-applet -> py-gnome-desktop -> evince

Prevent this by removing the build_depends on deskbar-applet since it is
actually not needed even to get tracker functionnality in deskbar-applet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/10/09 17:40:12 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}
d33 1
a33 1
WANTLIB += util xcb xcb-atom xcb-aux xcb-event xml2 xslt z
@


1.14
log
@Update to tracker-search-0.6.95

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/08/30 11:46:14 ajacoutot Exp $
d43 40
a82 41
MODULES=		devel/gettext \
			lang/python \
			x11/gnome

LIB_DEPENDS=		vorbis::audio/libvorbis \
			qdbm::databases/qdbm \
			sqlite3::databases/sqlite3 \
			gsf-1::devel/libgsf \
			notify::devel/libnotify \
			exif::graphics/libexif \
			gmime-2.0:gmime->=2.2,<2.4:mail/gmime \
			gsttag-0.10::multimedia/gstreamer-0.10/plugins-base \
			poppler-glib,poppler::print/poppler \
			raptor::textproc/raptor \
			gnome-desktop-2::x11/gnome/desktop \
			totem-plparser.>=1::x11/gnome/totem-pl-parser
BUILD_DEPENDS=		::devel/xdg-utils \
			::x11/gnome/deskbar-applet
RUN_DEPENDS=		::devel/glib2,-fam \
			::devel/xdg-utils \
			::textproc/odt2txt

DESKTOP_FILES=		Yes
MODPY_RUNDEP=		No

CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--enable-external-qdbm \
			--enable-video-extractor="gstreamer" \
			--disable-unac \
			--disable-xmp \
			--disable-hal \
			--enable-libexif \
			--enable-libgsf \
			--enable-libjpeg \
			--enable-libtiff \
			--enable-libvorbis \
			--enable-gdkpixbuf \
			--enable-deskbar-applet \
			--with-deskbar-applet-handler-dir="${LOCALBASE}/lib/python${MODPY_VERSION}/site-packages/deskbar/handlers/"
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
d84 4
a87 1
FAKE_FLAGS+=		sysconfdir=${PREFIX}/share/examples/tracker-search/
@


1.13
log
@Remove run dependency on deskbar-applet.
While here, recreate the dependency chain from scratch as it was bogus.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/08/11 08:39:39 ajacoutot Exp $
d8 2
a9 2
GNOME_VERSION=	0.6.94
PKGNAME=	tracker-search-${VERSION}p5
d11 5
a15 5
SHARED_LIBS +=	stemmer              0.0      # .694.0
SHARED_LIBS +=	tracker-common       0.0      # .694.0
SHARED_LIBS +=	tracker-db           0.0      # .694.0
SHARED_LIBS +=	tracker-data         0.0      # .694.0
SHARED_LIBS +=	trackerclient        0.0      # .694.0
d17 1
a17 1
SHARED_LIBS +=	tracker-gtk          0.0      # .694.0
@


1.12
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/07/28 16:00:00 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p4
d19 16
a46 16
WANTLIB += ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender art_lgpl_2 asn1 atk-1.0 bonobo-2 bonobo-activation
WANTLIB += bonoboui-2 bz2 c cairo camel-1.2 com_err crypto curl
WANTLIB += dbus-1 dbus-glib-1 edataserver-1.2 expat fontconfig
WANTLIB += freetype gailutil gconf-2 gcrypt gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2
WANTLIB += gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2 gnutls
WANTLIB += gobject-2.0 gpg-error gssapi gsttag-0.10 gthread-2.0
WANTLIB += gtk-x11-2.0 idn jpeg krb5 m nspr4 nss3 ogg pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4
WANTLIB += png popt pthread smime3 softokn3 soup-2.4 ssl ssl3
WANTLIB += startup-notification-1 tasn1 tiff totem-plparser util
WANTLIB += xml2 xslt z pthread-stubs xcb
WANTLIB += avahi-client avahi-common avahi-glib

d54 1
a54 1
			gstbase-0.10,gstreamer-0.10::multimedia/gstreamer-0.10/core \
d57 2
a58 1
			gnome-desktop-2::x11/gnome/desktop
d63 1
a63 2
			::textproc/odt2txt \
			::x11/gnome/deskbar-applet
@


1.11
log
@Fix gmime pkgspec.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/06/10 20:27:09 kili Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p3
d44 1
a44 1
WANTLIB += xml2 xslt z
@


1.10
log
@
WANTLIB changes due to avahi dependency. Bump affected PKGNAMEs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/05/22 10:18:14 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p2
d53 1
a53 1
			gmime-2.0::mail/gmime \
@


1.9
log
@- use lynx(1) instead of w3m for indexing html contents
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/05/03 17:13:26 kili Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p1
d45 1
@


1.8
log
@
Fix WANTLIB and bump.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/04/24 14:25:07 jasper Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p0
a61 1
			::www/w3m \
@


1.7
log
@- update tracker to 0.6.94
* bugfixes and minor improvements

jaja aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/04/23 22:30:41 jasper Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}
d36 1
a36 1
WANTLIB += freetype gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0
@


1.6
log
@Don't display "Power Management" options, this requires HAL and will
only confuse users.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/04/22 11:44:09 jasper Exp $
d8 2
a9 2
GNOME_VERSION=	0.6.93
PKGNAME=	tracker-search-${VERSION}p2
d11 5
a15 5
SHARED_LIBS +=	stemmer              0.0      # .693.0
SHARED_LIBS +=	tracker-common       0.0      # .693.0
SHARED_LIBS +=	tracker-db           0.0      # .693.0
SHARED_LIBS +=	tracker-data         0.0      # .693.0
SHARED_LIBS +=	trackerclient        0.0      # .693.0
d17 1
a17 1
SHARED_LIBS +=	tracker-gtk          0.0      # .693.0
@


1.5
log
@- install autostart file for tracker-applet
- fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/04/22 07:06:04 jasper Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p1
@


1.4
log
@- make trackerd auto-start upon login
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/04/21 23:39:43 jasper Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}p0
d36 1
a36 1
WANTLIB += freetype gailutil gconf-2 gcrypt gdk-x11-2.0 gdk_pixbuf-2.0
d44 1
a44 1
WANTLIB += vorbis xml2 xslt z
d46 2
a47 1
LIB_DEPENDS=		qdbm::databases/qdbm \
@


1.3
log
@- bring back tracker-processes, as some may have /proc actually
- fix a path
- rename to tracker-search, as pointed out by espie@@, there is already audio/tracker

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/04/21 22:48:21 jasper Exp $
d9 1
a9 1
PKGNAME=	tracker-search-${VERSION}
d83 2
@


1.2
log
@- Don't build tracker-processes, which depends on /proc being present.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/04/21 21:34:46 jasper Exp $
d5 2
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
a63 10
# Allow tracker to index the media files these gstreamer packages
# can grok. To not force a huge pile of dependencies on the user
# only install a base set.
RUN_DEPENDS+=	:gstreamer-vorbis-*:multimedia/gstreamer-0.10/plugins-base,-vorbis \
		:gstreamer-ogg-*:multimedia/gstreamer-0.10/plugins-base,-ogg \
		:gstreamer-theora-*:multimedia/gstreamer-0.10/plugins-base,-theora \
		:gstreamer-jpeg-*:multimedia/gstreamer-0.10/plugins-good,-jpeg \
		:gstreamer-png-*:multimedia/gstreamer-0.10/plugins-good,-png \
		:gstreamer-confelements-*:multimedia/gstreamer-0.10/plugins-good,-gconf

d83 3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@import tracker 0.6.93

Tracker is a powerful desktop-neutral first class object database,
tag/metadata database, search tool and indexer.

Tracker is also extremely fast and super efficient with your systems
memory when compared with some other competing frameworks and is by far
the fastest and most memory efficient Nautilus search and Deskbar
backends currently availble.

It consists of a common object database that allows entities to have an
almost infinte number of properties, metadata (both embedded/harvested
as well as user definable), a comprehensive database of keywords/tags
and links to other entities.

NB: most patches have already been committed upstream by now.

based on initial work by bernd@@
feedback and ok ajacoutot@@

@
text
@@
