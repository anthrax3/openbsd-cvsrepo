head	1.3;
access;
symbols
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2;
locks; strict;
comment	@# @;


1.3
date	2012.02.16.22.20.02;	author ajacoutot;	state dead;
branches;
next	1.2;

1.2
date	2012.02.02.07.12.23;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.01.22.15.13.23;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to version 0.12.10.
Missing @@pkgpath marker, spotted by Mikolaj Kucharski.
@
text
@$OpenBSD: patch-src_libtracker-common_tracker-file-utils_h,v 1.2 2012/02/02 07:12:23 ajacoutot Exp $

From a6ae1d90385b7eb9c4a5bd6a9ca17eb32b666b04 Mon Sep 17 00:00:00 2001
From: Antoine Jacoutot <ajacoutot@@openbsd.org>
Date: Tue, 10 Jan 2012 11:45:29 +0000
Subject: libtracker-common: Add new function tracker_file_open_fd()

--- src/libtracker-common/tracker-file-utils.h.orig	Fri Dec 16 16:24:23 2011
+++ src/libtracker-common/tracker-file-utils.h	Mon Jan 30 17:34:23 2012
@@@@ -32,6 +32,7 @@@@ G_BEGIN_DECLS
 #endif
 
 /* File utils */
+int      tracker_file_open_fd                               (const gchar *path);
 FILE*    tracker_file_open                                  (const gchar *path);
 void     tracker_file_close                                 (FILE        *file,
                                                              gboolean     need_again_soon);
@


1.2
log
@Bring a patch from upstream to fix a hard crash with the -evolution
subpackage.
Sync the tracker_file_open_fd patches with upstream.

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@open(2) with the NOATIME flag is only available on Linux. Instead of
duplicating the same code all over with ifdef, factorize into a function
that opens file descriptors in a portable way.
@
text
@d2 8
a9 2
--- src/libtracker-common/tracker-file-utils.h.orig	Tue Jan 10 09:16:39 2012
+++ src/libtracker-common/tracker-file-utils.h	Tue Jan 10 09:17:10 2012
d14 1
a14 1
+gint     tracker_file_open_fd                               (const gchar *path);
@

