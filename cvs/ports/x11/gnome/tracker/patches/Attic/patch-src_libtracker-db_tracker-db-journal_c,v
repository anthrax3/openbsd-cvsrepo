head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2010.05.21.11.58.36;	author ajacoutot;	state dead;
branches;
next	1.3;

1.3
date	2010.05.07.07.22.47;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.04.23.09.57.25;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.04.09.09.00.31;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.4
log
@We have strndup(3) and strnlen(3) now.
@
text
@$OpenBSD: patch-src_libtracker-db_tracker-db-journal_c,v 1.3 2010/05/07 07:22:47 ajacoutot Exp $
--- src/libtracker-db/tracker-db-journal.c.orig	Thu May  6 14:27:57 2010
+++ src/libtracker-db/tracker-db-journal.c	Fri May  7 08:49:44 2010
@@@@ -797,6 +797,15 @@@@ tracker_db_journal_reader_verify_last (GError **error)
 	return success;
 }
 
+#ifdef __OpenBSD__
+size_t
+strnlen (const char *string, size_t maxlen)
+{
+	const char *end = memchr (string, '\0', maxlen);
+	return end ? (size_t) (end - string) : maxlen;
+}
+#endif // __OpenBSD__
+
 gboolean
 tracker_db_journal_reader_next (GError **error)
 {
@


1.3
log
@Maintainance update to tracker-search-0.8.5.
* lots (!) of bugfixes

Our default GStreamer package now comes with much more useful plugins
than it used to, so no need for pkg/MESSAGE anymore, output is already
chatty enough.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_libtracker-db_tracker-db-journal_c,v 1.2 2010/04/23 09:57:25 ajacoutot Exp $
@


1.2
log
@Update to tracker-search-0.8.3.
@
text
@d1 4
a4 4
$OpenBSD: patch-src_libtracker-db_tracker-db-journal_c,v 1.1 2010/04/09 09:00:31 ajacoutot Exp $
--- src/libtracker-db/tracker-db-journal.c.orig	Thu Apr 22 12:24:04 2010
+++ src/libtracker-db/tracker-db-journal.c	Fri Apr 23 10:04:21 2010
@@@@ -796,6 +796,15 @@@@ tracker_db_journal_reader_verify_last (GError **error)
@


1.1
log
@Major update to tracker-search-0.8.1.
@
text
@d1 4
a4 4
$OpenBSD$
--- src/libtracker-db/tracker-db-journal.c.orig	Fri Apr  2 19:33:55 2010
+++ src/libtracker-db/tracker-db-journal.c	Fri Apr  2 19:34:40 2010
@@@@ -792,6 +792,15 @@@@ tracker_db_journal_reader_verify_last (GError **error)
@

