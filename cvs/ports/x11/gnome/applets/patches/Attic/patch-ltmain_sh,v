head	1.3;
access;
symbols
	OPENBSD_3_4:1.2.0.8
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.6
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2003.09.26.05.04.04;	author marcm;	state dead;
branches;
next	1.2;

1.2
date	2002.02.15.19.13.15;	author nino;	state Exp;
branches;
next	1.1;

1.1
date	2001.11.13.09.24.56;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Remove Gnome 1 core and applets.

Gnome 1, as a standalone environment, has left the building.  Applications
that use the remaining Gnome 1 ports (bonobo, bonobo-conf, controlcenter,
libs, oaf, print and vfs) will still work, but the Gnome 1 desktop itself
is no more.

This is a first step at Gnome 1 removal.  Other Gnome 1 bits will be
removed as their dependent ports get updated.

This also removes the Gnome 1 vs Gnome 2 conflicts so it should make the
package builders happy.
@
text
@$OpenBSD: patch-ltmain_sh,v 1.2 2002/02/15 19:13:15 nino Exp $
--- ltmain.sh.orig	Sun Feb  3 00:54:30 2002
+++ ltmain.sh	Wed Feb 13 09:11:30 2002
@@@@ -1060,6 +1060,17 @@@@ compiler."
 	continue
 	;;
 
+      -pthread)
+	case $host in
+	*-*-openbsd*)
+	  deplibs="$deplibs $arg"
+	  ;;
+	*)
+	  continue
+	  ;;
+	esac
+	;;
+
       -module)
 	module=yes
 	continue
@@@@ -1496,6 +1507,9 @@@@ compiler."
 	  fi
 	  continue
 	  ;;
+    -pthread)
+      continue
+      ;;
 	%DEPLIBS%)
 	  alldeplibs=yes
 	  continue
@@@@ -4457,40 +4471,6 @@@@ relink_command=\"$relink_command\""
     # Exit here if they wanted silent mode.
     test "$show" = : && exit 0
 
-    echo "----------------------------------------------------------------------"
-    echo "Libraries have been installed in:"
-    for libdir in $libdirs; do
-      echo "   $libdir"
-    done
-    echo
-    echo "If you ever happen to want to link against installed libraries"
-    echo "in a given directory, LIBDIR, you must either use libtool, and"
-    echo "specify the full pathname of the library, or use the \`-LLIBDIR'"
-    echo "flag during linking and do at least one of the following:"
-    if test -n "$shlibpath_var"; then
-      echo "   - add LIBDIR to the \`$shlibpath_var' environment variable"
-      echo "     during execution"
-    fi
-    if test -n "$runpath_var"; then
-      echo "   - add LIBDIR to the \`$runpath_var' environment variable"
-      echo "     during linking"
-    fi
-    if test -n "$hardcode_libdir_flag_spec"; then
-      libdir=LIBDIR
-      eval flag=\"$hardcode_libdir_flag_spec\"
-
-      echo "   - use the \`$flag' linker flag"
-    fi
-    if test -n "$admincmds"; then
-      echo "   - have your system administrator run these commands:$admincmds"
-    fi
-    if test -f /etc/ld.so.conf; then
-      echo "   - have your system administrator add LIBDIR to \`/etc/ld.so.conf'"
-    fi
-    echo
-    echo "See any operating system documentation about shared libraries for"
-    echo "more information, such as the ld(1) and ld.so(8) manual pages."
-    echo "----------------------------------------------------------------------"
     exit 0
     ;;
 
@


1.2
log
@Update to gnome-applets 1.4.0.5

* man pages, make gtik use gnome-vfs, fix crashes in gtik, fix gtik font
selection dialog, made gnotes more robust, better multibyte handling in
gnotes, gkb remembers its configuration, make timezone handling work in
asclock (needs xearth)

Ok naddy@@, with additional testing by fries@@.
@
text
@d1 1
a1 1
$OpenBSD: patch-ltmain_sh,v 1.1 2002/02/01 04:25:31 lebel Exp $
@


1.1
log
@update to gnome-applets-1.4.0.4, from maintainer
* Portability fixes
* Added and updated translation
* Bugfixes for the gtik, mini-commander, multiload and slashapp applets
* New theme for the clockmail applet
@
text
@d1 32
a32 32
$OpenBSD$
--- ltmain.sh.orig	Mon Sep  3 21:46:50 2001
+++ ltmain.sh	Sun Nov 11 16:27:06 2001
@@@@ -1031,6 +1031,17 @@@@ compiler."
 	    # These systems don't actually have a C library (as such)
 	    test "X$arg" = "X-lc" && continue
 	    ;;
+	  *-*-openbsd*)
+	    # Do not include libc due to us having libc/libc_r.
+	    test "X$arg" = "X-lc" && continue
+	    ;;
+	  esac
+	elif test "$arg" = "-lc_r"; then
+	  case "$host" in
+	  *-*-openbsd*)
+	    # Do not include libc_r directly, use -pthread flag.
+	    continue
+	    ;;
 	  esac
 	fi
 	deplibs="$deplibs $arg"
@@@@ -2412,6 +2423,9 @@@@ compiler."
 	  *-*-netbsd*)
 	    # Don't link with libc until the a.out ld.so is fixed.
 	    ;;
+	  *-*-openbsd*)
+            # Do not include libc due to us having libc/libc_r.
+            ;;
 	  *)
 	    # Add libc to deplibs on all other systems if necessary.
 	    if test "$build_libtool_need_lc" = "yes"; then
@@@@ -4416,40 +4430,6 @@@@ relink_command=\"$relink_command\""
d34 1
a34 1
     test "$show" = ":" && exit 0
@

