head	1.5;
access;
symbols
	OPENBSD_3_4:1.4.0.8
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.6
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.4.0.4
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.4.0.2
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3
	applets-1_4_0_1:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2003.09.26.05.04.04;	author marcm;	state dead;
branches;
next	1.4;

1.4
date	2002.02.15.19.16.58;	author nino;	state Exp;
branches;
next	1.3;

1.3
date	2001.09.20.18.56.27;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.18.21.45.30;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.13.21.23.08;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.09.13.21.23.08;	author todd;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Remove Gnome 1 core and applets.

Gnome 1, as a standalone environment, has left the building.  Applications
that use the remaining Gnome 1 ports (bonobo, bonobo-conf, controlcenter,
libs, oaf, print and vfs) will still work, but the Gnome 1 desktop itself
is no more.

This is a first step at Gnome 1 removal.  Other Gnome 1 bits will be
removed as their dependent ports get updated.

This also removes the Gnome 1 vs Gnome 2 conflicts so it should make the
package builders happy.
@
text
@#!/bin/sh
#
# $OpenBSD: INSTALL,v 1.4 2002/02/15 19:16:58 nino Exp $

set -e
PREFIX=${PKG_PREFIX:-/usr/local}
PATH=/bin:/usr/bin:/sbin:/usr/sbin
P_NAME=gnome-applets
DEST_PFX=${SYSCONFDIR}
SOURCE_PFX=${PREFIX}/share/examples/${P_NAME}

FILES='
CORBA/servers/another_clock_applet.gnorba
CORBA/servers/asclock_applet.gnorba
CORBA/servers/battery_applet.gnorba
CORBA/servers/charpick_applet.gnorba
CORBA/servers/clockmail_applet.gnorba
CORBA/servers/cpumemusage_applet.gnorba
CORBA/servers/diskusage_applet.gnorba
CORBA/servers/drivemount_applet.gnorba
CORBA/servers/fifteen_applet.gnorba
CORBA/servers/geyes_applet.gnorba
CORBA/servers/gkb_applet.gnorba
CORBA/servers/gnotes_applet.gnorba
CORBA/servers/gtik2_applet.gnorba
CORBA/servers/gweather.gnorba
CORBA/servers/jbc_applet.gnorba
CORBA/servers/life_applet.gnorba
CORBA/servers/mini-commander_applet.gnorba
CORBA/servers/mixer_applet.gnorba
CORBA/servers/modemlights_applet.gnorba
CORBA/servers/multiload_applet.gnorba
CORBA/servers/odometer_applet.gnorba
CORBA/servers/quicklaunch_applet.gnorba
CORBA/servers/slash_applet.gnorba
CORBA/servers/sound-monitor_applet.gnorba
CORBA/servers/tickastat_applet.gnorba
CORBA/servers/webcontrol_applet.gnorba
CORBA/servers/whereami_applet.gnorba
'

do_post() {

    echo 
    echo "+--------------- ${P_NAME}"

    # install or take note of existing config files
    for f in ${FILES}; do
	if [ -f "${DEST_PFX}/$f" ]; then
	    OLD_CONFS="${OLD_CONFS} $f"
	else
	    if ! install -m 644 ${SOURCE_PFX}/$f ${DEST_PFX}/$f; then
		echo "| ERROR: The following file could not be installed, exiting: ${DEST_PFX}/$f"
		exit 1
	    fi
	    NEW_CONFS="${NEW_CONFS} $f"
	fi
    done
    
    # print status report
    if [ -n "${NEW_CONFS}" ]; then
	echo "| The following NEW configuration files have been installed:"
	echo "|"
	for f in ${NEW_CONFS}; do
	    echo "| ${DEST_PFX}/$f"
	done 
    fi
    
    if [ -n "${OLD_CONFS}" ]; then
	if [ -n "${NEW_CONFS}" ]; then
	    echo "|"
	fi
	echo "| The following OLD configuration files was found and have NOT been overwritten:"
	echo "| You should however manually compare them to their equivalents in "
        echo "|"
        echo "| ${SOURCE_PFX}"
        echo "|"
	echo "| and update your configuration if needed." 
	echo "|"
	for f in ${OLD_CONFS}; do
	    echo "| ${DEST_PFX}/$f"
	done 
    fi
    echo "+--------------- ${P_NAME}"
    echo 
}

# verify proper execution
#
if [ $# -ne 2 ]; then
    echo "usage: $0 distname { PRE-INSTALL | POST-INSTALL }" >&2
    exit 1
fi

# Verify/process the command
#
case $2 in
    PRE-INSTALL)
        ;;
    POST-INSTALL)
        do_post
        ;;
    *)
        echo "usage: $0 distname { PRE-INSTALL | POST-INSTALL }" >&2
        exit 1
        ;;
esac

exit 0
@


1.4
log
@Update to gnome-applets 1.4.0.5

* man pages, make gtik use gnome-vfs, fix crashes in gtik, fix gtik font
selection dialog, made gnotes more robust, better multibyte handling in
gnotes, gkb remembers its configuration, make timezone handling work in
asclock (needs xearth)

Ok naddy@@, with additional testing by fries@@.
@
text
@d3 1
a3 1
# $OpenBSD: INSTALL,v 1.3 2001/09/20 18:56:27 naddy Exp $
@


1.3
log
@Minor fixup for gnome/applets:
* Don't assume a specific depth for prefix and don't hardcode sysconfdir either.
* Move scrollkeeper stuff into PLIST

From maintainer Nils Nordman <nino@@nforced.com>.
@
text
@d3 1
a3 1
# $OpenBSD: INSTALL,v 1.2 2001/09/18 21:45:30 naddy Exp $
d12 30
d48 1
a48 29
    for f in \
       	CORBA/servers/another_clock_applet.gnorba \
	CORBA/servers/asclock_applet.gnorba \
	CORBA/servers/battery_applet.gnorba \
	CORBA/servers/charpick_applet.gnorba \
	CORBA/servers/clockmail_applet.gnorba \
	CORBA/servers/drivemount_applet.gnorba \
	CORBA/servers/fifteen_applet.gnorba \
	CORBA/servers/geyes_applet.gnorba \
	CORBA/servers/gkb_applet.gnorba \
	CORBA/servers/jbc_applet.gnorba \
	CORBA/servers/life_applet.gnorba \
	CORBA/servers/mini-commander_applet.gnorba \
	CORBA/servers/quicklaunch_applet.gnorba \
	CORBA/servers/tickastat_applet.gnorba \
	CORBA/servers/webcontrol_applet.gnorba \
	CORBA/servers/whereami_applet.gnorba \
	CORBA/servers/odometer_applet.gnorba \
	CORBA/servers/cpumemusage_applet.gnorba \
	CORBA/servers/diskusage_applet.gnorba \
	CORBA/servers/multiload_applet.gnorba \
	CORBA/servers/gweather.gnorba \
	CORBA/servers/gtik2_applet.gnorba \
	CORBA/servers/slash_applet.gnorba \
	CORBA/servers/mixer_applet.gnorba \
	CORBA/servers/modemlights_applet.gnorba \
	CORBA/servers/sound-monitor_applet.gnorba \
	CORBA/servers/gnotes_applet.gnorba
    do
d74 4
a77 1
	echo "| You should however manually compare it to it's equivalent in ${SOURCE_PFX}"
@


1.2
log
@* Use variables instead of hardcoded prefixes.
* Take care to set a sane PATH.
* Add set -e
* Copy example files into ${PREFIX}/share/examples/PORTNAME.
* Replace PKGNAME with P_NAME in INSTALL/DEINSTALL scripts, unclear
  since it already exists in the Makefile with a different value.
* Change output of INSTALL/DEINSTALL to be more like other scripts
  found in the tree(suggested by heko@@).
* Fix PLIST, remove unneeded entry and actually remove the example
  configuration files.

Submitted by maintainer Nils Nordman <nino@@nforced.com>.
@
text
@d3 1
a3 1
# $OpenBSD: INSTALL,v 1.1.1.1 2001/09/13 21:23:08 todd Exp $
d7 1
a7 1
PATH=/bin:/usr/bin:/sbin:/usr/sbin:${PREFIX}/bin
a15 6

    # scrollkeeper
    echo "|"
    echo "| Running scrollkeeper-update..."
    ${PREFIX}/bin/scrollkeeper-update -p $(${PREFIX}/bin/scrollkeeper-config --pkglocalstatedir)
    echo "|"
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
# $OpenBSD$
d5 1
d7 4
a10 3
PKGNAME=gnome-applets
DEST_PFX=/etc
SOURCE_PFX=${PREFIX}/share/${PKGNAME}
d15 1
a15 1
    echo "*=================[ ${PKGNAME}"
d18 4
a21 4
    echo "*"
    echo "* Running scrollkeeper-update..."
    /usr/local/bin/scrollkeeper-update -p $(/usr/local/bin/scrollkeeper-config --pkglocalstatedir)
    echo "*"
d57 1
a57 1
		echo "* ERROR: The following file could not be installed, exiting: ${DEST_PFX}/$f"
d66 2
a67 2
	echo "* The following NEW configuration files have been installed:"
	echo "*"
d69 1
a69 1
	    echo "* ${DEST_PFX}/$f"
d75 1
a75 1
	    echo "*"
d77 4
a80 4
	echo "* The following OLD configuration files was found and have NOT been overwritten:"
	echo "* You should however manually compare it to it's equivalent in ${SOURCE_PFX}"
	echo "* and update your configuration if needed." 
	echo "*"
d82 1
a82 1
	    echo "* ${DEST_PFX}/$f"
d85 1
a85 1
    echo "*================= ${PKGNAME} ]"
@


1.1.1.1
log
@applets for use with the GNOME panel
@
text
@@
