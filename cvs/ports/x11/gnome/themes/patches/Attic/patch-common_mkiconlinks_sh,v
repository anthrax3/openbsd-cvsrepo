head	1.3;
access;
symbols
	OPENBSD_5_0:1.2.0.8
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.6
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.4
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.1.0.4
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2011.09.12.14.36.27;	author ajacoutot;	state dead;
branches;
next	1.2;

1.2
date	2009.09.26.19.13.29;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.11.21.18.22.38;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Remove GNOME 2 themes.

ok jasper@@
@
text
@$OpenBSD: patch-common_mkiconlinks_sh,v 1.2 2009/09/26 19:13:29 ajacoutot Exp $

Fix unsupported substitution.

--- common/mkiconlinks.sh.orig	Fri Nov 14 18:31:18 2008
+++ common/mkiconlinks.sh	Fri Nov 14 18:34:45 2008
@@@@ -16,7 +16,7 @@@@ read NEXTLINE 
 while [ ! -z "$NEXTLINE" ] ; do
 
 	# Skip lines beginning with '#'
-	if [ ! "${NEXTLINE:0:1}" == '#' ]; then
+	if ! echo ${NEXTLINE} | grep -q "^#" ; then
 		#Extract first field, minus its trailing colon
 		ORIG_FILE=`echo $NEXTLINE | awk '/:/{print $1}' | sed -e 's/://'`
 
@


1.2
log
@Use better substitution patch and regen PLIST accordingly.
From FreeBSD.
@
text
@d1 1
a1 1
$OpenBSD: patch-common_mkiconlinks_sh,v 1.1 2008/11/21 18:22:38 jasper Exp $
@


1.1
log
@- update gnome-themes to 2.24.1
- specify license version

feedback and ok ajacoutot@@
@
text
@d1 4
a4 1
$OpenBSD$
d12 1
a12 1
+	if [ ! X"`echo ${NEXTLINE} | head -1`" = X'#' ]; then
@

