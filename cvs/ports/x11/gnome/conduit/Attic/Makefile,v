head	1.33;
access;
symbols
	OPENBSD_5_0:1.32.0.2
	OPENBSD_5_0_BASE:1.32
	OPENBSD_4_9:1.30.0.2
	OPENBSD_4_9_BASE:1.30
	OPENBSD_4_8:1.26.0.2
	OPENBSD_4_8_BASE:1.26
	OPENBSD_4_7:1.23.0.2
	OPENBSD_4_7_BASE:1.23
	OPENBSD_4_6:1.19.0.2
	OPENBSD_4_6_BASE:1.19
	OPENBSD_4_5:1.11.0.2
	OPENBSD_4_5_BASE:1.11
	jasper_20081112:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.33
date	2011.09.12.07.56.47;	author ajacoutot;	state dead;
branches;
next	1.32;

1.32
date	2011.06.08.17.41.57;	author rpointel;	state Exp;
branches;
next	1.31;

1.31
date	2011.04.05.16.37.59;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2011.01.11.12.41.38;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.11.22.08.36.57;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2010.10.18.13.18.14;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2010.08.30.21.53.59;	author sthen;	state Exp;
branches;
next	1.26;

1.26
date	2010.07.13.20.37.02;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2010.03.26.13.58.39;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.03.21.10.45.34;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.12.21.18.03.18;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.12.09.11.57.37;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.11.23.12.10.00;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.07.12.19.56.38;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2009.06.03.16.31.13;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2009.06.02.00.08.29;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.04.26.17.10.53;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2009.04.26.11.01.05;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.04.06.10.05.20;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.03.14.11.36.25;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.03.14.10.40.52;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.03.12.14.45.55;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2009.02.11.15.47.49;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2009.02.11.15.33.51;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2009.01.06.10.48.57;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2009.01.02.13.07.37;	author djm;	state Exp;
branches;
next	1.7;

1.7
date	2008.12.21.13.58.57;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.12.20.17.41.01;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.12.19.09.58.29;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.12.12.09.15.45;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.12.12.08.40.27;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.12.11.23.05.26;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2008.12.11.23.03.11;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.12.11.23.03.11;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.33
log
@Remove gnome2 oldies and some other stuffs that never worked quite well.
Better start on a cleaner base.
@
text
@# $OpenBSD: Makefile,v 1.32 2011/06/08 17:41:57 rpointel Exp $

# XXX the following modules are commented in PLIST
# N800Module ===> needs HAL which we don't provide
# iPodModule ===> needs HAL which we don't provide
# FlickrModule ===> needs flickrapi which we don't provide
#     (RUN_DEPENDS += audio/libgpod,-python)

COMMENT=		synchronization application for GNOME

GNOME_PROJECT=		conduit
GNOME_VERSION=		0.3.17
REVISION=		2

HOMEPAGE=		http://www.conduit-project.org/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes

MODULES=		lang/python \
			x11/gnome

BUILD_DEPENDS=		${RUN_DEPENDS}
RUN_DEPENDS=		devel/gettext \
			devel/xdg-utils \
			graphics/py-goocanvas \
			textproc/py-vobject \
			x11/dbus-python \
			multimedia/gstreamer-0.10/py-gstreamer \
			net/avahi \
			devel/py-gdata

MODGNOME_HELP_FILES=	Yes
DESKTOP_FILES=		Yes

CONFIGURE_ARGS+=	--enable-totem-plugin \
			--with-totem-plugin-dir="${LOCALBASE}/lib/totem/plugins/" \
# This currently doesn't install anything.
CONFIGURE_ARGS+=	--disable-nautilus-extension \
			--disable-eog-plugin

CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

pre-configure:
	find ${WRKDIST} -name \*.py | \
		xargs perl -pi -e 's,/usr/bin/env python2.5,${MODPY_BIN},g;' \
			-e 's,/usr/bin/env python,${MODPY_BIN},g;' \
			-e 's,/usr/bin/python,${MODPY_BIN},g'
	${SUBST_CMD} ${WRKSRC}/conduit/conduit ${WRKSRC}/conduit/conduit.real \
		${WRKSRC}/tools/conduit-client ${WRKSRC}/conduit/gtkui/UI.py

.include <bsd.port.mk>
@


1.32
log
@bump after default python version switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/04/05 16:37:59 ajacoutot Exp $
@


1.31
log
@--disable-scrollkeeper is not needed when rarian is in the dependency
chain (scrollkeer is a compatility wrapper that does nothing).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/01/11 12:41:38 ajacoutot Exp $
d13 1
a13 1
REVISION=		1
@


1.30
log
@Remove some non existent CONFIGURE_ARGS, no pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/11/22 08:36:57 espie Exp $
d39 1
a39 2
CONFIGURE_ARGS+=	--disable-scrollkeeper \
			--enable-totem-plugin \
@


1.29
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/10/18 13:18:14 jasper Exp $
d39 1
a39 3
CONFIGURE_ARGS+= 	--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/conduit \
			--disable-schemas-install \
			--disable-scrollkeeper \
@


1.28
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/08/30 21:53:59 sthen Exp $
d27 8
a34 8
RUN_DEPENDS=		::devel/gettext \
			::devel/xdg-utils \
			::graphics/py-goocanvas \
			::textproc/py-vobject \
			::x11/dbus-python \
			::multimedia/gstreamer-0.10/py-gstreamer \
			::net/avahi \
			::devel/py-gdata
@


1.27
log
@python bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/07/13 20:37:02 ajacoutot Exp $
a35 1
USE_X11=		Yes
@


1.26
log
@Use REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/03/26 13:58:39 ajacoutot Exp $
d13 1
a13 1
REVISION=		0
@


1.25
log
@Re-enable FspotModule.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/03/21 10:45:34 ajacoutot Exp $
d13 1
a13 1
PKGNAME=		${DISTNAME}p0
@


1.24
log
@Update to conduit-0.3.17.
Remove flicker and fspot modules (no support for them yet).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/12/21 18:03:18 ajacoutot Exp $
a6 1
# FspotModule ===> needs F-spot which we don't provide
d13 1
@


1.23
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/12/09 11:57:37 ajacoutot Exp $
d6 2
d13 1
a13 2
GNOME_VERSION=		0.3.16
PKGNAME=		${DISTNAME}p2
d33 2
a34 1
			::net/avahi
@


1.22
log
@There is no point in dependending on py-gpod since we commented the
module (as it needs HAL).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/11/23 12:10:00 ajacoutot Exp $
d12 1
a12 1
PKGNAME=		${DISTNAME}p1
@


1.21
log
@Disable iPodModule, it needs HAL.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/07/12 19:56:38 ajacoutot Exp $
d6 1
d12 1
a12 1
PKGNAME=		${DISTNAME}p0
d26 1
a26 2
RUN_DEPENDS=		::audio/libgpod,-python \
			::devel/gettext \
@


1.20
log
@- update to conduit-0.3.16

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/06/03 16:31:13 ajacoutot Exp $
d3 1
a3 1
# XXX the following module is commented in PLIST
d5 1
d11 1
@


1.19
log
@- network plugin needs avahi
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/06/02 00:08:29 ajacoutot Exp $
d9 1
a9 2
GNOME_VERSION=		0.3.15
PKGNAME=		${DISTNAME}p13
@


1.18
log
@- fix comment
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/04/26 17:10:53 jasper Exp $
d10 1
a10 1
PKGNAME=		${DISTNAME}p12
d30 2
a31 1
			::multimedia/gstreamer-0.10/py-gstreamer
@


1.17
log
@- uncomment some stuff that should work now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/04/06 10:05:20 ajacoutot Exp $
d3 1
a3 1
# XXX the following modules are commented in PLIST
a4 1
# Network sync ===> needs avahi
@


1.16
log
@CONFIGURE_ENV += PYTHON="${MODPY_BIN}" is inherited from the python module
@
text
@a3 1
# iPodModule ===> needs py-gpod which we don't provide
d5 1
d11 1
a11 1
PKGNAME=		${DISTNAME}p11
d25 2
a26 2
# XXX needs avahi for network sync
RUN_DEPENDS=		::devel/gettext \
@


1.15
log
@Rework the way we handle build_depends with the gnome MODULE when
MODGNOME_HELP_FILES is set to yes.

* add a build_depends on gnome-doc-utils if MODGNOME_HELP_FILES is set
to yes
* add rarian as a run_depends for gnome-doc-utils (will help with older
ports that will never be updated from using deprecated scrollkeeper)
* remove build+run_depends on gnome-doc-utils and rarian for ports that
have MODGNOME_HELP_FILES as they are now implied.
* bump where needed

This should help in having all required build dependencies for
gnome-related ports and it greatly simplifies things.

"thanks for cleaning this mess" and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/03/14 11:36:25 ajacoutot Exp $
d47 1
a47 2
			LDFLAGS="-L${LOCALBASE}/lib" \
			PYTHON="${MODPY_BIN}"
@


1.14
log
@- nothing should have to run_depends on rarian anymore
- explicitely add build_depends on rarian where gnome-doc-utils is also a
build dependency as it does not itself run_depends on rarian anymore

This was the 2nd and hopefully last pass of rarian/scrollkeeper cleaning.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/03/14 10:40:52 ajacoutot Exp $
d24 1
a24 3
BUILD_DEPENDS=		::x11/gnome/doc-utils \
			::textproc/rarian \
			${RUN_DEPENDS}
@


1.13
log
@- first pass at cleaning rarian/scrollkeeper handling
remove rarian-sk-update from PLIST ; it is only a wrapper that does
noting: librarian takes care of everything now.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/03/12 14:45:55 jasper Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}p10
d25 1
a32 1
			::textproc/rarian \
@


1.12
log
@- missing HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/02/11 15:47:49 jasper Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}p9
@


1.11
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/02/11 15:33:51 jasper Exp $
d11 3
a13 1
PKGNAME=		${DISTNAME}p8
@


1.10
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/01/06 10:48:57 ajacoutot Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}p7
@


1.9
log
@- unbreak helper start script so that it works when firefox is not
installed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/01/02 13:07:37 djm Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}p6
@


1.8
log
@remove dependencies on removed python subpackages; prodded by sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/12/21 13:58:57 ajacoutot Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}p5
@


1.7
log
@- add run_depends on py-gstreamer
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/12/20 17:41:01 ajacoutot Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}p4
a27 1
			:python-sqlite-${MODPY_VERSION}*:lang/python/${MODPY_VERSION},-sqlite \
@


1.6
log
@- remove modules which need packages we don't provide (i.e. HAL); it makes
the output much less chatty
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/12/19 09:58:29 ajacoutot Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}p3
d31 2
a32 1
			::textproc/rarian
@


1.5
log
@- convert from scrollkeeper to rarian
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.4 2008/12/12 09:15:45 ajacoutot Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}p2
@


1.4
log
@- fix help menu
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/12/12 08:40:27 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d26 2
a27 1
			::x11/dbus-python
@


1.3
log
@- totem and tomboy are not *needed* dependencies for proper operation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/12/11 23:05:26 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d20 1
d51 1
a51 1
		${WRKSRC}/tools/conduit-client
@


1.2
log
@- fix to make it package, not bumping as it's only been around for < 2 minutes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/12/11 23:03:11 jasper Exp $
d7 1
d25 1
a25 3
			::x11/dbus-python \
			::x11/gnome/tomboy \
			::x11/gnome/totem
d30 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d26 1
a26 1
#			::x11/gnome/totem
@


1.1.1.1
log
@import conduit 0.3.15

Conduit is a synchronization application for GNOME. It allows you to
synchronize your files, photos, emails, contacts, notes, calendar data
and any other type of personal information and synchronize that data
with another computer, and online service.

(don't hook it up yet, as it needs some more tweaking, which'll help having
it in-tree) 
@
text
@@
