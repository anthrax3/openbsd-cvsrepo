head	1.6;
access;
symbols
	OPENBSD_5_2:1.5.0.2
	OPENBSD_5_2_BASE:1.5
	jasper_20112909:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2012.11.07.14.04.18;	author jasper;	state dead;
branches;
next	1.5;

1.5
date	2012.04.12.08.14.56;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2012.04.11.15.32.24;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.10.10.20.14.17;	author jasper;	state dead;
branches;
next	1.2;

1.2
date	2011.09.29.20.57.45;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.09.29.17.19.28;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.09.29.17.19.28;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.6
log
@- update to glom-1.22.1
@
text
@$OpenBSD: patch-glom_main_cc,v 1.5 2012/04/12 08:14:56 ajacoutot Exp $

From 6d5db9687e9aa5bd8fc324b5fa6adea3faae5fb0 Mon Sep 17 00:00:00 2001
From: Antoine Jacoutot <ajacoutot@@gnome.org>
Date: Wed, 11 Apr 2012 14:56:38 +0000
Subject: build: std:cerr needs <iostream>

--- glom/main.cc.orig	Wed Apr 11 16:38:05 2012
+++ glom/main.cc	Wed Apr 11 16:38:13 2012
@@@@ -20,6 +20,8 @@@@
 
 #include "config.h"
 
+#include <iostream>
+
 //We use Python for calculated fields.
 //#include <Python.h> //Include it before anything else to avoid "_POSIX_C_SOURCE redefined".
 #include <boost/python.hpp>
@


1.5
log
@Sync after upstream commit.
@
text
@d1 1
a1 1
$OpenBSD: patch-glom_main_cc,v 1.4 2012/04/11 15:32:24 ajacoutot Exp $
@


1.4
log
@Update to glom-1.22.0.
@
text
@d1 1
a1 1
$OpenBSD$
d3 4
a6 1
https://bugzilla.gnome.org/show_bug.cgi?id=673914
@


1.3
log
@- update to 1.19.12
@
text
@d1 1
a1 1
$OpenBSD: patch-glom_main_cc,v 1.2 2011/09/29 20:57:45 jasper Exp $
d3 1
a3 4
From bf111b2f3d39fa8aa27a6b3e6778ae8f987cad8f Mon Sep 17 00:00:00 2001
From: Jasper Lievisse Adriaanse <jasper@@humppa.nl>
Date: Thu, 29 Sep 2011 20:54:56 +0000
Subject: Hide __libc_freeres on system which don't have glibc.
d5 3
a7 12
https://bugzilla.gnome.org/show_bug.cgi?id=660496

--- glom/main.cc.orig	Thu Sep 29 14:32:56 2011
+++ glom/main.cc	Thu Sep 29 14:33:56 2011
@@@@ -373,18 +373,19 @@@@ bool check_pygda_is_available_with_warning()
 
 } //namespace Glom
 
-#ifndef G_OS_WIN32
+#ifdef __linux__
 extern "C" void __libc_freeres(void);
 #endif
d9 1
a9 19
 int
 main(int argc, char* argv[])
 {
-#ifndef G_OS_WIN32
+#ifdef __linux__
   //Force some cleanup at exit,
   //to help valgrind to detect memory leaks:
   atexit(__libc_freeres);
 #else
+#  ifdef G_OS_WIN32
   WSADATA data;
   int errcode = WSAStartup(MAKEWORD(2, 0), &data);
   if(errcode != 0)
@@@@ -396,6 +397,7 @@@@ main(int argc, char* argv[])
   gchar* installation_dir_c = g_win32_get_package_installation_directory_of_module(0);
   const std::string installation_dir(installation_dir_c);
   g_free(installation_dir_c);
+#  endif
 #endif
d11 5
a15 1
   // TODO: I am not sure why, but this does not work. PYTHONPATH is set
@


1.2
log
@sync, no pkg change
@
text
@d1 1
a1 1
$OpenBSD: patch-glom_main_cc,v 1.1.1.1 2011/09/29 17:19:28 jasper Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 6
a8 1
Don't call __libc_freeres which is GLIBC-only.
@


1.1.1.1
log
@import glom 1.19.11

With Glom you can design database systems - the database and the user
interface.
*  Glom has high-level features such as relationships, lookups, related
   fields, related records, calculated fields, drop-down choices,
   searching, reports, users and groups.
*  Glom keeps things simple. It has Numeric, Text, Date, Time, Boolean,
   and Image field types.
*  Glom systems require almost no programming, but you may use Python
   for calculated fields or buttons.
*  Each Glom system can be translated for multiple languages and
   countries.

ok aja@@
@
text
@@
