head	1.50;
access;
symbols
	OPENBSD_6_0:1.48.0.2
	OPENBSD_6_0_BASE:1.48
	OPENBSD_5_9:1.47.0.2
	OPENBSD_5_9_BASE:1.47
	OPENBSD_5_8:1.46.0.4
	OPENBSD_5_8_BASE:1.46
	OPENBSD_5_7:1.39.0.2
	OPENBSD_5_7_BASE:1.39
	OPENBSD_5_6:1.37.0.2
	OPENBSD_5_6_BASE:1.37
	OPENBSD_5_5:1.32.0.2
	OPENBSD_5_5_BASE:1.32
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.23.0.2
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.21.0.2
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.2
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	landry_20110523:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.50
date	2016.11.07.10.53.39;	author ajacoutot;	state Exp;
branches;
next	1.49;
commitid	DLdeqwJxtjszwIr1;

1.49
date	2016.10.31.10.31.13;	author ajacoutot;	state Exp;
branches;
next	1.48;
commitid	DSIKQWWAQid3j9YH;

1.48
date	2016.04.25.15.17.25;	author ajacoutot;	state Exp;
branches;
next	1.47;
commitid	2wb0pXnZ9W8k7BJP;

1.47
date	2015.10.12.05.46.00;	author ajacoutot;	state Exp;
branches;
next	1.46;
commitid	gDOGLDkwMxw2ib8I;

1.46
date	2015.04.28.07.06.21;	author ajacoutot;	state Exp;
branches;
next	1.45;
commitid	2dqop8dOfJc3pBRz;

1.45
date	2015.04.16.09.34.33;	author jasper;	state Exp;
branches;
next	1.44;
commitid	i4nWbN8YvEhMC3uZ;

1.44
date	2015.04.15.09.40.54;	author ajacoutot;	state Exp;
branches;
next	1.43;
commitid	dfR1rb9OtImYnGFF;

1.43
date	2015.04.04.09.21.07;	author ajacoutot;	state Exp;
branches;
next	1.42;
commitid	kS3kwKZogsvzYmEY;

1.42
date	2015.04.03.22.37.19;	author ajacoutot;	state Exp;
branches;
next	1.41;
commitid	pmqtwYplodZnvhzf;

1.41
date	2015.04.03.11.49.35;	author ajacoutot;	state Exp;
branches;
next	1.40;
commitid	553DNvOuBgXKbxgo;

1.40
date	2015.03.27.08.16.17;	author ajacoutot;	state Exp;
branches;
next	1.39;
commitid	BUhOiEl2FUSRKwq7;

1.39
date	2014.10.12.09.52.01;	author ajacoutot;	state Exp;
branches;
next	1.38;
commitid	cVvwKU7vm2BP0rEU;

1.38
date	2014.10.06.08.30.54;	author ajacoutot;	state Exp;
branches;
next	1.37;
commitid	ObDj7zav03sYmwaX;

1.37
date	2014.05.12.13.39.23;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2014.04.02.09.36.14;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2014.04.01.18.38.53;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2014.03.27.09.41.42;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2014.03.26.14.44.13;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2013.10.14.11.27.12;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2013.09.28.08.51.27;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2013.09.26.16.32.05;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2013.09.26.12.48.01;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2013.05.31.15.35.08;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2013.05.13.09.03.22;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2013.04.15.09.16.05;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.29.18.24.04;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2013.03.11.11.46.11;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2012.09.28.16.06.19;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2012.09.01.14.36.59;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2012.06.15.08.30.20;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2012.04.12.06.23.23;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2012.03.29.06.58.42;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2011.12.03.22.17.16;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.11.04.09.56.29;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2011.11.02.17.51.32;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2011.10.17.11.24.10;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2011.10.16.21.24.04;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2011.10.16.19.23.34;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.28.09.47.47;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2011.09.26.16.57.06;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.20.21.10.01;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.20.20.52.46;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.09.19.07.44.59;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2011.09.16.12.29.14;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2011.09.12.12.04.17;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.09.12.07.28.54;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.05.24.18.14.52;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.05.24.10.41.58;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.05.24.09.21.00;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.05.23.19.12.51;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.05.23.19.12.51;	author landry;	state Exp;
branches;
next	;


desc
@@


1.50
log
@Update to gnome-power-manager-3.22.2.
@
text
@# $OpenBSD: Makefile,v 1.49 2016/10/31 10:31:13 ajacoutot Exp $

COMMENT=		GNOME power manager

GNOME_PROJECT=		gnome-power-manager
GNOME_VERSION=		3.22.2

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += c cairo cairo-gobject dbus-1 epoxy expat ffi fontconfig
WANTLIB += freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 graphite2 gthread-2.0 gtk-3 harfbuzz iconv
WANTLIB += intl m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs upower-glib xcb xcb-render
WANTLIB += xcb-shm z

MODULES=		devel/dconf \
			x11/gnome

MODGNOME_TOOLS=		desktop-file-utils gtk-update-icon-cache

LIB_DEPENDS=		sysutils/upower \
			x11/gtk+3

MODGNOME_CPPFLAGS=	-I${X11BASE}/include
MODGNOME_LDFLAGS=	-L${X11BASE}/lib

# gnome-power-statistics.sgml:1: parser error : StartTag: invalid element name
CONFIGURE_ENV=		ac_cv_path_DOCBOOK2MAN=no

# our old gcc does not handle some of the warning flags
MAKE_FLAGS=		WARNINGFLAGS=

.include <bsd.port.mk>
@


1.49
log
@Update to gnome-power-manager-3.22.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2016/04/25 15:17:25 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.22.1
@


1.48
log
@Update to gnome-power-manager-3.20.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2015/10/12 05:46:00 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.20.0
@


1.47
log
@Update to gnome-power-manager-3.18.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2015/04/28 07:06:21 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.18.0
d15 2
a16 2
WANTLIB += gobject-2.0 graphite2 gthread-2.0 gtk-3 harfbuzz m
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
a20 1
			devel/gettext \
d31 1
@


1.46
log
@Update to gnome-power-manager-3.16.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2015/04/16 09:34:33 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.16.1
@


1.45
log
@remove unneeded CONFIGURE_ENV line (doesn't use xmlto anymore)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2015/04/15 09:40:54 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.16.0
REVISION=		1
@


1.44
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2015/04/04 09:21:07 ajacoutot Exp $
d33 1
a33 2
CONFIGURE_ENV=		ac_cv_path_DOCBOOK2MAN=no \
			ac_cv_path_XMLTO=no
@


1.43
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2015/04/03 22:37:19 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
@


1.42
log
@No need for --disable-appstream-util anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2015/04/03 11:49:35 ajacoutot Exp $
d7 1
@


1.41
log
@Update to gnome-power-manager-3.16.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2015/03/27 08:16:17 ajacoutot Exp $
a36 4

# configure checks for "appstream-util"; this is only needed for the "check"
# target and we don't want to enforce a BUILD_DEPENDS
CONFIGURE_ARGS +=	--disable-appstream-util
@


1.40
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2014/10/12 09:52:01 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.14.1
REVISION=		0
d13 10
a22 10
WANTLIB += c cairo cairo-gobject dbus-1 expat ffi
WANTLIB += fontconfig freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 graphite2 gthread-2.0 gtk-3
WANTLIB += harfbuzz m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png pthread pthread-stubs upower-glib xcb
WANTLIB += xcb-render xcb-shm z

MODULES=	devel/dconf \
		devel/gettext \
		x11/gnome
d24 1
a24 1
MODGNOME_TOOLS=	desktop-file-utils gtk-update-icon-cache
d26 2
a27 2
LIB_DEPENDS=	sysutils/upower \
		x11/gtk+3
d32 2
a33 2
CONFIGURE_ENV=	ac_cv_path_DOCBOOK2MAN=no \
		ac_cv_path_XMLTO=no
d36 5
a40 1
MAKE_FLAGS=	WARNINGFLAGS=
@


1.39
log
@Update to gnome-power-manager-3.14.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2014/10/06 08:30:54 ajacoutot Exp $
d7 1
@


1.38
log
@Update to gnome-power-manager-3.14.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2014/05/12 13:39:23 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.14.0
@


1.37
log
@Update to gnome-power-manager-3.12.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2014/04/02 09:36:14 jasper Exp $
d6 1
a6 1
GNOME_VERSION=		3.12.2
d24 1
a24 1
MODGNOME_TOOLS += desktop-file-utils gtk-update-icon-cache
@


1.36
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2014/04/01 18:38:53 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.12.0
REVISION=		0
@


1.35
log
@switch over port to MODGNOME_TOOLS that didnt have it yet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2014/03/27 09:41:42 ajacoutot Exp $
d25 1
a25 1
MODGNOME_TOOLS=		gtk-update-icon-cache desktop-file-utils
@


1.34
log
@Unbreak by syncing wantlib after upower update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2014/03/26 14:44:13 ajacoutot Exp $
d25 1
a25 2
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
@


1.33
log
@Update to gnome-power-manager-3.12.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/10/14 11:27:12 ajacoutot Exp $
d7 1
d14 1
a14 1
WANTLIB += c cairo cairo-gobject dbus-1 dbus-glib-1 expat ffi
@


1.32
log
@Update to gnome-power-manager-3.10.1.
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.31 2013/09/28 08:51:27 ajacoutot Exp $

# XXX find a way to catch button press events
# (and check gsd and gcc power support)
d6 1
a6 1
GNOME_VERSION=		3.10.1
d36 2
a37 8
# Remove a few compiler options GCC 4.2.1 doesn't understand.
pre-configure:
	perl -pi -e 's,-Wclobbered,,g;' \
		-e 's,-Wempty-body,,g;' \
		-e 's,-Wignored-qualifiers,,g;' \
		-e 's,-Wtype-limits,,g;' \
		-e 's,-Wmissing-parameter-type,,g' \
		${WRKSRC}/configure
@


1.31
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/09/26 16:32:05 ajacoutot Exp $
d9 1
a9 2
GNOME_VERSION=		3.10.0
REVISION=		0
@


1.30
log
@Update to gnome-power-manager-3.10.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/09/26 12:48:01 ajacoutot Exp $
d10 1
a10 2

HOMEPAGE=		http://projects.gnome.org/gnome-power-manager/
@


1.29
log
@Add some longstanding issues with an XXX that jasper and I used to
maintain in a separate file. It will make it easier for people who want to
help to just 'grep -r XXX' under x11/gnome/ etc...

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/05/31 15:35:08 ajacoutot Exp $
d9 1
a9 2
GNOME_VERSION=		3.8.2
REVISION=		0
d21 3
a23 3
WANTLIB += harfbuzz m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += upower-glib xcb xcb-render xcb-shm z
@


1.28
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.27 2013/05/13 09:03:22 ajacoutot Exp $
@


1.27
log
@Update to gnome-power-manager-3.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/04/15 09:16:05 ajacoutot Exp $
d7 1
d19 1
a19 1
WANTLIB += harfbuzz icudata icule icuuc m pango-1.0 pangocairo-1.0
@


1.26
log
@Minor update to gnome-power-manager-3.8.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/29 18:24:04 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.8.1
@


1.25
log
@Update to gnome-power-manager-3.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/03/11 11:46:11 espie Exp $
d6 1
a6 1
GNOME_VERSION=		3.8.0
@


1.24
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/09/28 16:06:19 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.6.0
d13 6
a18 5
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c cairo
WANTLIB += cairo-gobject dbus-1 dbus-glib-1 drm expat ffi fontconfig
WANTLIB += freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gthread-2.0 gtk-3 m pango-1.0 pangocairo-1.0
d20 1
a20 3
WANTLIB += upower-glib xcb xcb-render xcb-shm z stdc++
WANTLIB += ICE SM atk-bridge-2.0 atspi harfbuzz icudata icule
WANTLIB += icuuc
@


1.23
log
@Update to gnome-power-manager-3.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/09/01 14:36:59 ajacoutot Exp $
a11 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.22
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/06/15 08:30:20 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.4.0
REVISION=		2
a15 7
MODULES=	devel/dconf \
		devel/gettext \
		x11/gnome

MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes

d23 9
d38 1
@


1.21
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/04/12 06:23:23 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.20
log
@No need for autoconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/03/29 06:58:42 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
@


1.19
log
@Update to gnome-power-manager-3.4.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/12/03 22:17:16 ajacoutot Exp $
d7 1
a33 4

AUTOCONF_VERSION=	2.68

CONFIGURE_STYLE=	autoconf
@


1.18
log
@Use MODGNOME_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/11/04 09:56:29 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.2.1
REVISION=		1
@


1.17
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/11/02 17:51:32 jasper Exp $
d7 1
a7 1
REVISION=		0
d22 1
@


1.16
log
@
- shrink and drop a patch by using a pre-configure target instead.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/10/17 11:24:10 ajacoutot Exp $
d7 1
d29 1
a29 1
WANTLIB += upower-glib xcb xcb-render xcb-shm z
@


1.15
log
@Update to gnome-power-manager-3.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/10/16 21:24:04 jasper Exp $
d41 9
@


1.14
log
@Remove check for gnome-doc-utils as there are no docs anymore to build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/10/16 19:23:34 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.2.0
REVISION=		0
d28 1
a28 1
WANTLIB += stdc++ upower-glib xcb xcb-render xcb-shm z
@


1.13
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/28 09:47:47 jasper Exp $
d33 4
@


1.12
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/09/26 16:57:06 jasper Exp $
d7 1
d27 1
a27 1
WANTLIB += gobject-2.0 gthread-2.0 gtk-3 kvm m pango-1.0 pangocairo-1.0
@


1.11
log
@- update to 3.2.0 (note that some bits were moved to gnome-settings-daemon)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/20 21:10:01 jasper Exp $
d33 3
a35 3
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
		ac_cv_path_DOCBOOK2MAN=no \
@


1.10
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/20 20:52:46 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.0.2
REVISION=	0
a15 12
EXTRACT_SUFX=		.tar.bz2

WANTLIB += GL ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0
WANTLIB += c cairo cairo-gobject canberra canberra-gtk3 dbus-1
WANTLIB += dbus-glib-1 drm expat fontconfig freetype gconf-2 gcrypt
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gnome-keyring
WANTLIB += gobject-2.0 gpg-error gthread-2.0 gtk-3 ltdl m notify
WANTLIB += ogg pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs upower-glib vorbis vorbisfile
WANTLIB += xcb xcb-render xcb-shm z

d20 9
a28 2
MODGNOME_TOOLS= yelp
MODGNOME_DESKTOP_FILE=		Yes
d31 1
a31 7
		devel/libnotify \
		audio/libcanberra,-gtk3 \
		x11/gnome/libgnome-keyring \
		devel/gconf2

FAKE_FLAGS=	autostartdir=${PREFIX}/share/examples/gnome-power-manager/xdg/autostart \
		script_SCRIPTS=""
a36 5

pre-configure:
	cd ${WRKSRC}/data/ && \
		perl -pi -e 's,X-GNOME-Bugzilla-ExtraInfoScript.*\n,,g' \
		gnome-power-manager.desktop.in.in
@


1.9
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/09/19 07:44:59 ajacoutot Exp $
a44 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
@


1.8
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/09/16 12:29:14 espie Exp $
d33 1
a33 1
MODGNOME_HELP_FILES=	Yes
@


1.7
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/09/12 12:04:17 jasper Exp $
d34 1
a34 1
DESKTOP_FILES=		Yes
@


1.6
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/09/12 07:28:54 jasper Exp $
d7 1
@


1.5
log
@Moar GNOME3 merge
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/06/01 05:37:58 ajacoutot Exp $
d15 2
@


1.4
log
@Make gnome-power-backlight-helper do nothing and return 0 as it requires
the linux-only sysfs(2).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/05/24 10:41:58 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.32.0
REVISION=		2
d16 11
a26 1
MODULES=	devel/gconf2 \
a31 1
MODGCONF2_SCHEMAS_DIR=	gnome-power-manager
d33 1
a33 2
LIB_DEPENDS=	devel/libunique \
		sysutils/upower \
d35 3
a37 16
		x11/gnome/panel \
		x11/gnome/libgnome

WANTLIB += GL ICE ORBit-2 ORBitCosNaming-2 SM X11 XRes Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender Xxf86vm art_lgpl_2 atk-1.0 bonobo-2 bonobo-activation
WANTLIB += bonoboui-2 c cairo canberra canberra-gtk crypto dbus-1
WANTLIB += dbus-glib-1 drm execinfo expat fontconfig freetype
WANTLIB += gailutil gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2
WANTLIB += gnomevfs-2 gobject-2.0 gpg-error gthread-2.0 gtk-x11-2.0
WANTLIB += ltdl m notify ogg panel-applet-2 pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png popt pthread pthread-stubs
WANTLIB += ssl startup-notification-1 unique-1.0 upower-glib util
WANTLIB += vorbis vorbisfile wnck-1 xcb xcb-atom xcb-aux xcb-event
WANTLIB += xcb-render xcb-shm xml2 z
a39 1
		schemadir=${PREFIX}/${SCHEMAS_INSTDIR} \
d42 5
a46 5
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
			ac_cv_path_DOCBOOK2MAN=no \
			ac_cv_path_XMLTO=no
d51 1
a51 1
		gnome-power-{manager,preferences}.desktop.in.in
@


1.3
log
@Fix segfault.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/05/24 09:21:00 jasper Exp $
d7 1
a7 1
REVISION=		1
@


1.2
log
@don't install bogus gnome-power-bugreport.sh, it's infested with HAL crap.

ok myself aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/05/23 19:12:51 landry Exp $
d7 1
a7 1
REVISION=		0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/11/22 08:36:57 espie Exp $
d7 3
a10 1
HOMEPAGE=	http://projects.gnome.org/gnome-power-manager/
d46 2
a47 1
		schemadir=${PREFIX}/${SCHEMAS_INSTDIR}
d54 5
@


1.1.1.1
log
@Import gnome-power-manager 2.32.0.

GNOME Power Manager is a GNOME session daemon that acts as a policy
agent on top of UPower. It listens for system events and responds with
user-configurable actions.
GNOME Power Manager comes in three main parts:
- gnome-power-manager:      the manager daemon itself
- gnome-power-preferences:  the control panel program, for configuration
- gnome-power-statistics:   the statistics graphing program

with tweaks and ok ajacoutot@@
@
text
@@
