head	1.109;
access;
symbols
	OPENBSD_5_0:1.108.0.2
	OPENBSD_5_0_BASE:1.108
	OPENBSD_4_9:1.104.0.2
	OPENBSD_4_9_BASE:1.104
	OPENBSD_4_8:1.94.0.2
	OPENBSD_4_8_BASE:1.94
	OPENBSD_4_7:1.85.0.2
	OPENBSD_4_7_BASE:1.85
	OPENBSD_4_6:1.73.0.2
	OPENBSD_4_6_BASE:1.73
	OPENBSD_4_5:1.65.0.2
	OPENBSD_4_5_BASE:1.65
	OPENBSD_4_4:1.46.0.2
	OPENBSD_4_4_BASE:1.46
	OPENBSD_4_3:1.39.0.2
	OPENBSD_4_3_BASE:1.39
	OPENBSD_4_2:1.34.0.2
	OPENBSD_4_2_BASE:1.34
	OPENBSD_4_1:1.29.0.2
	OPENBSD_4_1_BASE:1.29
	OPENBSD_4_0:1.25.0.2
	OPENBSD_4_0_BASE:1.25
	OPENBSD_3_9:1.24.0.2
	OPENBSD_3_9_BASE:1.24
	OPENBSD_3_8:1.21.0.2
	OPENBSD_3_8_BASE:1.21
	OPENBSD_3_7:1.19.0.2
	OPENBSD_3_7_BASE:1.19
	OPENBSD_3_6:1.13.0.2
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.9.0.2
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.6.0.2
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	todd_20030131:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.109
date	2011.09.12.07.56.46;	author ajacoutot;	state dead;
branches;
next	1.108;

1.108
date	2011.06.08.17.41.57;	author rpointel;	state Exp;
branches;
next	1.107;

1.107
date	2011.05.30.12.50.53;	author ajacoutot;	state Exp;
branches;
next	1.106;

1.106
date	2011.05.15.09.23.01;	author jasper;	state Exp;
branches;
next	1.105;

1.105
date	2011.04.21.07.07.52;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2011.01.18.20.03.07;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2010.11.22.18.16.03;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2010.11.22.08.36.56;	author espie;	state Exp;
branches;
next	1.101;

1.101
date	2010.10.11.08.19.19;	author jasper;	state Exp;
branches;
next	1.100;

1.100
date	2010.10.02.09.25.11;	author jasper;	state Exp;
branches;
next	1.99;

1.99
date	2010.10.02.09.17.47;	author jasper;	state Exp;
branches;
next	1.98;

1.98
date	2010.10.01.16.16.41;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2010.09.30.09.01.51;	author jasper;	state Exp;
branches;
next	1.96;

1.96
date	2010.09.30.07.33.16;	author ajacoutot;	state Exp;
branches;
next	1.95;

1.95
date	2010.08.30.21.53.59;	author sthen;	state Exp;
branches;
next	1.94;

1.94
date	2010.07.25.08.15.32;	author ajacoutot;	state Exp;
branches;
next	1.93;

1.93
date	2010.07.13.20.37.02;	author ajacoutot;	state Exp;
branches;
next	1.92;

1.92
date	2010.07.06.13.02.14;	author espie;	state Exp;
branches;
next	1.91;

1.91
date	2010.07.01.17.56.31;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2010.04.24.17.50.50;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2010.04.24.16.37.18;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2010.04.23.13.58.34;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2010.04.04.10.50.21;	author sthen;	state Exp;
branches;
next	1.86;

1.86
date	2010.03.21.11.35.26;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2010.02.28.19.31.54;	author matthieu;	state Exp;
branches;
next	1.84;

1.84
date	2009.12.21.18.03.17;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2009.12.09.10.48.25;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2009.12.07.11.39.46;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2009.11.30.07.31.34;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2009.11.29.09.21.32;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2009.11.10.17.56.24;	author jasper;	state Exp;
branches;
next	1.78;

1.78
date	2009.10.20.21.52.51;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2009.10.13.22.53.47;	author jasper;	state Exp;
branches;
next	1.76;

1.76
date	2009.10.12.12.03.27;	author jasper;	state Exp;
branches;
next	1.75;

1.75
date	2009.10.12.11.38.11;	author jasper;	state Exp;
branches;
next	1.74;

1.74
date	2009.08.11.08.39.38;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2009.06.28.10.54.04;	author sthen;	state Exp;
branches;
next	1.72;

1.72
date	2009.06.11.18.38.16;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2009.06.08.17.59.14;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2009.06.07.08.40.58;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2009.04.14.21.07.44;	author merdely;	state Exp;
branches;
next	1.68;

1.68
date	2009.04.06.10.05.20;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2009.03.14.11.36.25;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2009.03.14.10.40.52;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2009.02.11.15.47.49;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2009.02.11.15.33.51;	author jasper;	state Exp;
branches;
next	1.63;

1.63
date	2009.02.06.19.06.09;	author sturm;	state Exp;
branches;
next	1.62;

1.62
date	2009.01.31.16.06.26;	author jasper;	state Exp;
branches;
next	1.61;

1.61
date	2009.01.30.11.30.41;	author sturm;	state Exp;
branches;
next	1.60;

1.60
date	2009.01.25.18.57.00;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2009.01.20.23.13.30;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2009.01.15.07.24.29;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2009.01.14.22.38.51;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2009.01.13.10.07.08;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2009.01.10.17.20.06;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2008.12.17.20.28.11;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2008.12.17.18.47.57;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2008.12.13.09.58.47;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2008.11.27.13.42.19;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2008.11.25.08.19.43;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2008.11.21.17.50.05;	author jasper;	state Exp;
branches;
next	1.48;

1.48
date	2008.10.29.12.01.19;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2008.08.21.07.30.16;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2008.07.30.19.47.10;	author martynas;	state Exp;
branches;
next	1.45;

1.45
date	2008.07.23.09.50.06;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2008.07.11.17.46.56;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2008.06.02.17.58.23;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2008.05.26.16.29.27;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2008.05.01.08.52.31;	author bernd;	state Exp;
branches;
next	1.40;

1.40
date	2008.04.14.14.02.40;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2008.02.04.17.55.18;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2007.11.22.20.38.39;	author sturm;	state Exp;
branches;
next	1.37;

1.37
date	2007.11.10.15.38.17;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2007.11.02.10.32.21;	author sturm;	state Exp;
branches;
next	1.35;

1.35
date	2007.10.24.22.46.13;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2007.07.05.22.50.10;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2007.05.30.09.56.29;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2007.05.17.14.12.20;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2007.05.16.22.18.38;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2007.04.14.17.39.56;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2006.12.16.12.22.35;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2006.11.26.11.35.12;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2006.09.18.12.19.39;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2006.09.18.09.40.31;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2006.06.13.13.36.44;	author bernd;	state Exp;
branches;
next	1.24;

1.24
date	2006.01.19.17.22.42;	author steven;	state Exp;
branches;
next	1.23;

1.23
date	2005.11.15.21.17.02;	author wilfried;	state Exp;
branches;
next	1.22;

1.22
date	2005.09.16.09.51.28;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2005.07.11.04.28.58;	author marcm;	state Exp;
branches;
next	1.20;

1.20
date	2005.05.26.03.39.30;	author marcm;	state Exp;
branches;
next	1.19;

1.19
date	2004.12.25.19.58.21;	author marcm;	state Exp;
branches;
next	1.18;

1.18
date	2004.12.15.13.57.55;	author alek;	state Exp;
branches;
next	1.17;

1.17
date	2004.12.10.20.36.42;	author marcm;	state Exp;
branches;
next	1.16;

1.16
date	2004.11.21.10.34.59;	author alek;	state Exp;
branches;
next	1.15;

1.15
date	2004.10.17.04.41.19;	author marcm;	state Exp;
branches;
next	1.14;

1.14
date	2004.09.15.04.12.55;	author marcm;	state Exp;
branches;
next	1.13;

1.13
date	2004.08.10.10.56.42;	author xsa;	state Exp;
branches;
next	1.12;

1.12
date	2004.08.01.06.12.42;	author marcm;	state Exp;
branches;
next	1.11;

1.11
date	2004.07.08.17.09.38;	author marcm;	state Exp;
branches;
next	1.10;

1.10
date	2004.06.23.03.26.11;	author marcm;	state Exp;
branches;
next	1.9;

1.9
date	2004.02.22.05.33.52;	author marcm;	state Exp;
branches;
next	1.8;

1.8
date	2003.10.19.06.43.06;	author marcm;	state Exp;
branches;
next	1.7;

1.7
date	2003.10.07.05.48.53;	author marcm;	state Exp;
branches;
next	1.6;

1.6
date	2003.08.07.14.20.34;	author marcm;	state Exp;
branches;
next	1.5;

1.5
date	2003.08.06.06.20.16;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.07.12.06.27.12;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.07.06.18.19.20;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.12.20.12.55;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.31.18.42.04;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.31.18.42.04;	author todd;	state Exp;
branches;
next	;


desc
@@


1.109
log
@Remove gnome2 oldies and some other stuffs that never worked quite well.
Better start on a cleaner base.
@
text
@# $OpenBSD: Makefile,v 1.108 2011/06/08 17:41:57 rpointel Exp $

COMMENT-main=		applets for use with the GNOME panel
COMMENT-battstat=	GNOME applet for monitoring battery level

GNOME_PROJECT=		gnome-applets
GNOME_VERSION=		2.32.1.1

PKGNAME-main=		gnome-applets2-${VERSION}
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}

REVISION-main=		4
REVISION-battstat=	2

CATEGORIES=		x11

# LGPLv2/GFDLv1.1
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

WANTLIB += ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 c cairo dbus-1 dbus-glib-1
WANTLIB += expat fontconfig notify freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += gtk-x11-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png pthread pthread-stubs xcb z xcb-render
WANTLIB += panel-applet-3 GL Xxf86vm drm xcb-shm

MODULES=		devel/gettext \
			lang/python \
			x11/gnome \
			devel/gconf2

MODGNOME_HELP_FILES=	Yes

BUILD_DEPENDS= 		${RUN_DEPENDS}
RUN_DEPENDS=		x11/gnome/icon-theme>=2.15.91 \
			x11/gnome/py-gnome-desktop>=2.32.0
MODPY_RUNDEP=		No
LIB_DEPENDS=		devel/libnotify>=0.7.2 \
			x11/gnome/panel>=2.32.0.2
LIB_DEPENDS-main=	${LIB_DEPENDS} \
			multimedia/gstreamer-0.10/core \
			multimedia/gstreamer-0.10/plugins-base \
			devel/libgtop2 \
			STEM-*-gtk2:x11/gnome/gucharmap,gtk2

# clicking on the multiload-applet will attempt to start gnome-system-monitor
RUN_DEPENDS+=		x11/gnome/system-monitor

MULTI_PACKAGES=		-main -battstat
ONLY_FOR_ARCHS-battstat = ${APM_ARCHS}
RUN_DEPENDS-battstat=	${BUILD_PKGPATH},-main


MODGCONF2_SCHEMAS_DIR=	gnome-applets2

CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--enable-mixer-applet \
			--disable-networkmanager
# polkit support is only for cpufreq which we don't support
CONFIGURE_ARGS+=	--disable-frequency-selector \
			--disable-suid \
			--disable-polkit

CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

WANTLIB-main += ${WANTLIB} gstbase-0.10 gstreamer-0.10 gucharmap XRes
WANTLIB-main += kvm gcrypt gnome-desktop-2 gnutls gpg-error gweather
WANTLIB-main += execinfo xcb-atom xcb-aux xcb-event soup-2.4
WANTLIB-main += startup-notification-1 tasn1 wnck-1 gnome-keyring proxy
WANTLIB-main += soup-gnome-2.4 sqlite3 gstaudio-0.10 art_lgpl_2
WANTLIB-main += gstinterfaces-0.10 gtop-2.0 ICE ORBitCosNaming-2 SM
WANTLIB-main += bonobo-2 bonobo-activation bonoboui-2 canberra crypto
WANTLIB-main += gailutil gnome-2 gnomecanvas-2 gnomevfs-2 ltdl ogg
WANTLIB-main += panel-applet-2 popt ssl util vorbis vorbisfile xml2

FAKE_FLAGS=		sysconfdir=${PREFIX}/share/examples/gnome-applets2

pre-configure:
	${SUBST_CMD} ${WRKSRC}/configure \
		${WRKSRC}/invest-applet/invest/invest-chart \
		${WRKSRC}/invest-applet/invest/invest-applet.py

.include <bsd.port.mk>

.for m in ${MACHINE_ARCH} ${MACHINE}
.  if ${APM_ARCHS:L:M$m}
ENABLE_BATTSTAT=Yes
.  endif
.endfor
.if !defined(ENABLE_BATTSTAT)
CONFIGURE_ARGS+=	--disable-battstat
.endif
@


1.108
log
@bump after default python version switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2011/05/30 12:50:53 ajacoutot Exp $
@


1.107
log
@Enforce dependency on gucharmap,gtk2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2011/05/15 09:23:01 jasper Exp $
d12 2
a13 2
REVISION-main=		3
REVISION-battstat=	1
@


1.106
log
@depend on gucharmap,gtk2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2011/04/21 07:07:52 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		2
d48 1
a48 1
			x11/gnome/gucharmap,gtk2
@


1.105
log
@Fix build/run with new libnotify.

tested in a bulk by landry, thanks!
ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2011/01/18 20:03:07 ajacoutot Exp $
d12 1
a12 1
REVISION-main=		1
d48 1
a48 1
			x11/gnome/gucharmap>=1.8
@


1.104
log
@Remove the need for ${SYSCONFDIR}/gnome and use ${SYSCONFDIR} instead.
Discussed with landry@@ and jasper@@

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2010/11/22 18:16:03 ajacoutot Exp $
d12 2
a13 2
REVISION-main=		0
REVISION-battstat=	0
d42 1
a42 1
LIB_DEPENDS=		devel/libnotify \
@


1.103
log
@Bugfix update to gnome-applets2-2.32.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2010/11/22 08:36:56 espie Exp $
d12 3
a97 1
CONFIGURE_ARGS+=	--sysconfdir="${SYSCONFDIR}/gnome"
@


1.102
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2010/10/11 08:19:19 jasper Exp $
d7 1
a7 1
GNOME_VERSION=		2.32.0
a11 3
REVISION-main=		2
REVISION-battstat=	1

d26 1
a26 1
WANTLIB += xcb-render-util panel-applet-3
d72 1
a72 1
WANTLIB-main += soup-gnome-2.4 sqlite3 eggdbus-1 gstaudio-0.10
a73 1
WANTLIB-main += art_lgpl_2 avahi-client avahi-common avahi-glib
@


1.101
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2010/10/02 09:25:11 jasper Exp $
d39 2
a40 2
RUN_DEPENDS=		:gnome-icon-theme->=2.15.91:x11/gnome/icon-theme \
			:py-gnome-desktop->=2.32.0:x11/gnome/py-gnome-desktop
d42 2
a43 2
LIB_DEPENDS=		::devel/libnotify \
			:gnome-panel->=2.32.0.2:x11/gnome/panel
d45 4
a48 4
			::multimedia/gstreamer-0.10/core \
			::multimedia/gstreamer-0.10/plugins-base \
			::devel/libgtop2 \
			:gucharmap->=1.8:x11/gnome/gucharmap
d51 1
a51 1
RUN_DEPENDS+=		::x11/gnome/system-monitor
d55 1
a55 1
RUN_DEPENDS-battstat=	::${BUILD_PKGPATH},-main
@


1.100
log
@- remove XXX'd quirk after fixing py-gobject

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2010/10/02 09:17:47 jasper Exp $
d12 2
a13 2
REVISION-main=		1
REVISION-battstat=	0
d26 1
a26 1
WANTLIB += gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 gthread-2.0
@


1.99
log
@- tighten dependency on gnome-panel
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2010/10/01 16:16:41 ajacoutot Exp $
a69 3

# XXX hangs forever on configure during gnomeapplet check
CONFIGURE_ENV+=		py_cv_mod_gnomeapplet_=yes
@


1.98
log
@Add RUN_DEPENDS on gnome-system-monitor.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2010/09/30 09:01:51 jasper Exp $
d12 2
a13 1
REVISION-main=		0
d43 1
a43 1
			::x11/gnome/panel
@


1.97
log
@- uncomment needed CONFIGURE_ENV line
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2010/09/30 07:33:16 ajacoutot Exp $
d12 2
d48 3
@


1.96
log
@Update to gnome-applets2-2.32.0.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2010/08/30 21:53:59 sthen Exp $
d66 1
a66 1
#CONFIGURE_ENV+=		py_cv_mod_gnomeapplet_=yes
@


1.95
log
@python bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2010/07/25 08:15:32 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		2.30.0
a11 3
REVISION-main=		3
REVISION-battstat=	1

d20 7
a26 10
WANTLIB += ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender art_lgpl_2 atk-1.0 avahi-client avahi-common
WANTLIB += avahi-glib bonobo-2 bonobo-activation bonoboui-2 c
WANTLIB += cairo crypto dbus-1 dbus-glib-1 expat fontconfig notify
WANTLIB += freetype gailutil gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 glitz gmodule-2.0 gnome-2 gnomecanvas-2 gnomevfs-2
WANTLIB += gobject-2.0 gthread-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png popt pthread pthread-stubs
WANTLIB += ssl util xcb xml2 z xcb-render xcb-render-util panel-applet-2
d37 1
a37 1
			::x11/gnome/py-gnome-desktop
d62 1
a62 1
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
d65 13
a77 6
WANTLIB-main=		${WANTLIB} gstbase-0.10 gstreamer-0.10 gucharmap \
			XRes kvm gcrypt gnome-desktop-2 gnutls \
			gpg-error gweather execinfo xcb-atom xcb-aux xcb-event \
			soup-2.4 startup-notification-1 tasn1 wnck-1 \
			gnome-keyring proxy soup-gnome-2.4 sqlite3 eggdbus-1 \
			gstaudio-0.10 gstinterfaces-0.10 gtop-2.0
@


1.94
log
@Switch to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2010/07/13 20:37:02 ajacoutot Exp $
d12 2
a13 2
REVISION-main=		2
REVISION-battstat=	0
@


1.93
log
@Use REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2010/07/06 13:02:14 espie Exp $
a9 1
REVISION-main=		1
d12 3
d27 1
a27 1
WANTLIB += cairo crypto dbus-1 dbus-glib-1 expat fontconfig
d32 1
a32 1
WANTLIB += ssl util xcb xml2 z xcb-render xcb-render-util
d45 2
a46 2
LIB_DEPENDS=		notify::devel/libnotify \
			panel-applet-2::x11/gnome/panel
d48 4
a51 4
			gstbase-0.10,gstreamer-0.10::multimedia/gstreamer-0.10/core \
			gstaudio-0.10.>=0.1,gstinterfaces-0.10.>=0.1::multimedia/gstreamer-0.10/plugins-base \
			gtop-2.0.>=3.0::devel/libgtop2 \
			gucharmap:gucharmap->=1.8:x11/gnome/gucharmap
d71 1
a71 1
WANTLIB-main=		${WANTLIB} \
d75 2
a76 1
			gnome-keyring proxy soup-gnome-2.4 sqlite3 eggdbus-1
@


1.92
log
@use new subpackage-dependent ONLY_FOR_ARCHS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2010/07/01 17:56:31 ajacoutot Exp $
d9 2
a10 1
PKGNAME-main=		gnome-applets2-${VERSION}p1
@


1.91
log
@Explicitely disable polkit and the cpufreq selector here (they were not
built before anyway). These don't bring any needed features.
No pkg change, no bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2010/04/24 17:50:50 ajacoutot Exp $
d50 3
a52 2
PSEUDO_FLAVORS=		no_battstat
FLAVOR?=
a53 7
MULTI_PACKAGES=		-main
.if ${FLAVOR:L:Mno_battstat}
CONFIGURE_ARGS+=	--disable-battstat
.else
MULTI_PACKAGES+=	-battstat
RUN_DEPENDS-battstat=	::${BUILD_PKGPATH},-main
.endif
a82 2
CONFIGURE_ARGS+=	--sysconfdir="${SYSCONFDIR}/gnome"

d84 6
a89 2
.if ${APM_ARCHS:L:M$m}
FLAVOR+=	no_battstat
d91 1
a91 1
.endfor
@


1.90
log
@Fix the invest applet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2010/04/24 16:37:18 ajacoutot Exp $
d65 6
a70 1
			--enable-networkmanager=no
@


1.89
log
@We have gnome-system-monitor now, so remove these patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2010/04/23 13:58:34 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p0
@


1.88
log
@Update to gnome-applets2-2.30.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2010/04/04 10:50:21 sthen Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}
@


1.87
log
@sync WANTLIB, bump PKGNAMEs. ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2010/03/21 11:35:26 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		2.28.0
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p7
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p1
d29 1
a29 1
WANTLIB += ssl util xcb xml2 z
d48 1
a48 3
			xklavier::x11/gnome/libxklavier \
			gucharmap:gucharmap->=1.8:x11/gnome/gucharmap \
			gnomekbd,gnomekbdui::x11/gnome/libgnomekbd
d63 3
a65 2
CONFIGURE_ARGS+=	--enable-mixer-applet \
			--disable-scrollkeeper
d70 1
a70 1
			XRes kvm xkbfile gcrypt gnome-desktop-2 gnutls \
d73 1
a73 1
			gnome-keyring proxy soup-gnome-2.4 sqlite3
@


1.86
log
@Make use of the new APM_ARCHS.

"looks good" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2010/02/28 19:31:54 matthieu Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p6
d73 2
a74 1
			soup-2.4 startup-notification-1 tasn1 wnck-1
@


1.85
log
@loongson has apm(4) now. ok jasper@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2009/12/21 18:03:17 ajacoutot Exp $
a54 8
# not all powerpc support apm(4), hence the use of ${MACHINE} and macppc
.if ${MACHINE_ARCH} != "amd64" && ${MACHINE_ARCH} != "arm" \
 && ${MACHINE_ARCH} != "i386" && ${MACHINE} != "macppc" \
 && ${MACHINE} != "loongson" && ${MACHINE_ARCH} != "sparc" \
 && ${MACHINE_ARCH} != "sparc64"
FLAVOR+=		no_battstat
.endif

d85 6
@


1.84
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2009/12/09 10:48:25 ajacoutot Exp $
d58 2
a59 1
 && ${MACHINE_ARCH} != "sparc" && ${MACHINE_ARCH} != "sparc64"
@


1.83
log
@Oops.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2009/12/07 11:39:46 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p5
@


1.82
log
@-battstat needs to run_depends on -main.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2009/11/30 07:31:34 ajacoutot Exp $
d67 1
a67 1
RUN_DEPENDS-battstat=	${BUILD_PKGPATH},-main
@


1.81
log
@Remove gnome-system-monitor from the multiload applet menu, since we don't
provide it yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2009/11/29 09:21:32 ajacoutot Exp $
d10 1
a10 1
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p0
d67 1
@


1.80
log
@Do not hide the volume monitor button now that gnome-media has been fixed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2009/11/10 17:56:24 jasper Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p4
@


1.79
log
@- fix sticky notes, it was crashing when a new note was created

patch from opensolaris
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2009/10/20 21:52:51 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p3
@


1.78
log
@Don't spawn an error when double-clicking on the system-monitor-applet:
gnome-system-monitor is not available on OpenBSD currently.

issue reported by Stephan A. Rickauer, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2009/10/13 22:53:47 jasper Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p2
@


1.77
log
@- really remove that button now... ETOOMUCHGUENTHER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2009/10/12 12:03:27 jasper Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p1
@


1.76
log
@- don't display gnome volume mixer button, it's not there.
- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2009/10/12 11:38:11 jasper Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p0
@


1.75
log
@- update gnome-applets2 to 2.28.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2009/08/11 08:39:38 ajacoutot Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}
d24 1
a24 1
WANTLIB += cairo crypto dbus-1 dbus-glib-1 execinfo expat fontconfig
d29 1
a29 1
WANTLIB += ssl util xcb xcb-atom xcb-aux xcb-event xml2 z
d78 1
a78 1
			gpg-error gweather \
@


1.74
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2009/06/28 10:54:04 sthen Exp $
d7 1
a7 1
GNOME_VERSION=		2.24.3.1
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p14
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p11
d20 10
a29 10
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite \
		Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender art_lgpl_2 atk-1.0 bonobo-2 bonobo-activation \
		bonoboui-2 c cairo crypto dbus-1 dbus-glib-1 expat \
		fontconfig freetype gailutil gdk-x11-2.0 gdk_pixbuf-2.0 \
		gio-2.0 glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2 \
		gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2 gobject-2.0 \
		gthread-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
		pcre pixman-1 png popt pthread ssl util xml2 z \
		avahi-client avahi-common avahi-glib pthread-stubs xcb
d71 2
a72 1
CONFIGURE_ARGS+=	--disable-scrollkeeper
@


1.73
log
@sync WANTLIB, bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2009/06/11 18:38:16 ajacoutot Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p13
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p10
d29 1
a29 1
		avahi-client avahi-common avahi-glib
@


1.72
log
@Bump after recent gconf2 MODULE change.
gconf2 MODULE was tricky to get right for *all* ports. I think I finally
got it, if you see any fallout, please contact me asap.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2009/06/08 17:59:14 ajacoutot Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p12
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p9
d28 2
a29 1
		pcre pixman-1 png popt pthread ssl util xml2 z
@


1.71
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2009/06/07 08:40:58 ajacoutot Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p11
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p8
@


1.70
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2009/04/14 21:07:44 merdely Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p10
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p7
@


1.69
log
@Move battstat_applet.ui to PLIST-battstat to fix build on alpha
(and probably others)

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2009/04/06 10:05:20 ajacoutot Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p9
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p6
d24 1
a24 1
		fontconfig freetype gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 \
d32 2
a33 1
			x11/gnome
d68 3
a70 3
CONFIGURE_ARGS+=	--disable-schemas-install \
			--disable-scrollkeeper \
			--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gnome-applets2
@


1.68
log
@Rework the way we handle build_depends with the gnome MODULE when
MODGNOME_HELP_FILES is set to yes.

* add a build_depends on gnome-doc-utils if MODGNOME_HELP_FILES is set
to yes
* add rarian as a run_depends for gnome-doc-utils (will help with older
ports that will never be updated from using deprecated scrollkeeper)
* remove build+run_depends on gnome-doc-utils and rarian for ports that
have MODGNOME_HELP_FILES as they are now implied.
* bump where needed

This should help in having all required build dependencies for
gnome-related ports and it greatly simplifies things.

"thanks for cleaning this mess" and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2009/03/14 11:36:25 ajacoutot Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p8
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p5
@


1.67
log
@- nothing should have to run_depends on rarian anymore
- explicitely add build_depends on rarian where gnome-doc-utils is also a
build dependency as it does not itself run_depends on rarian anymore

This was the 2nd and hopefully last pass of rarian/scrollkeeper cleaning.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2009/03/14 10:40:52 ajacoutot Exp $
d36 1
a36 2
BUILD_DEPENDS= 		${RUN_DEPENDS} \
			::textproc/rarian
@


1.66
log
@- first pass at cleaning rarian/scrollkeeper handling
remove rarian-sk-update from PLIST ; it is only a wrapper that does
noting: librarian takes care of everything now.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2009/02/11 15:47:49 jasper Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p7
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p4
d36 3
a38 3
BUILD_DEPENDS= 		${RUN_DEPENDS}
RUN_DEPENDS=		::textproc/rarian \
			:gnome-icon-theme->=2.15.91:x11/gnome/icon-theme \
@


1.65
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2009/02/11 15:33:51 jasper Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p6
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p3
@


1.64
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2009/02/06 19:06:09 sturm Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p5
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p2
@


1.63
log
@fix bad WANTLIB changes after libsoup,ssl removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2009/01/31 16:06:26 jasper Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p4
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p1
@


1.62
log
@- don't build and install the drivemount applet, it won't work on openbsd

agreed by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2009/01/30 11:30:41 sturm Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p3
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p0
d24 1
a24 1
		fontconfig freetype gailutil gconf-2 gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 \
d26 1
a26 1
		gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2 gnutls gobject-2.0 gpg-error \
d28 1
a28 1
		pcre pixman-1 png popt pthread ssl tasn1 util xml2 z
d75 3
a77 2
			XRes kvm xkbfile gnome-desktop-2 gweather \
			soup-2.4 startup-notification-1 wnck-1
@


1.61
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2009/01/25 18:57:00 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p2
@


1.60
log
@- better audio mixer device name
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2009/01/20 23:13:30 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p1
d24 1
a24 1
		fontconfig freetype gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 \
d26 1
a26 1
		gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2 gobject-2.0 \
d28 1
a28 1
		pcre pixman-1 png popt pthread ssl util xml2 z
@


1.59
log
@- regen WANTLIB after libgnome esound support removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2009/01/15 07:24:29 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p0
@


1.58
log
@- bugfix update to gnome-applets2-2.24.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2009/01/14 22:38:51 ajacoutot Exp $
d9 3
a11 2
PKGNAME-main=		gnome-applets2-${VERSION}
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}
d22 2
a23 2
		Xrender art_lgpl_2 atk-1.0 audiofile bonobo-2 bonobo-activation \
		bonoboui-2 c cairo crypto dbus-1 dbus-glib-1 esd expat \
d28 1
a28 1
		pcre pixman-1 png popt pthread ssl util xml2 z sndio
@


1.57
log
@- remove some bogus extraunexec entries
- add missing @@sample dirs

first commit from my new lappy :)
"a small step for a new laptop, but a large step for gnome" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/01/13 10:07:08 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		2.24.3
d10 1
a10 1
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p0
@


1.56
log
@- gnome-applets 2.24.3
* translations and documentations updates
* geometry and update fixes backported from 2.25
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2009/01/10 17:20:06 ajacoutot Exp $
d10 1
a10 1
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}
@


1.55
log
@- remove the post-install dance and use FAKE_FLAGS
- add sndio to WANTLIB while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2008/12/17 20:28:11 jasper Exp $
d7 1
a7 1
GNOME_VERSION=		2.24.2
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p3
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p2
@


1.54
log
@- missing bump after py-gnome-desktop dependency was added
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2008/12/17 18:47:57 jasper Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p2
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p1
d27 1
a27 1
		pcre pixman-1 png popt pthread ssl util xml2 z
d77 2
a82 6

.if !${FLAVOR:L:Mno_battstat}
post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnome-applets2
	cp -Rp ${WRKINST}/${SYSCONFDIR}/gnome/* ${PREFIX}/share/examples/gnome-applets2/
.endif
@


1.53
log
@- switch remaining ports to rarian instead of scrollkeeper
- regen PLIST

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2008/12/13 09:58:47 ajacoutot Exp $
d10 1
a10 1
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p0
@


1.52
log
@- add missing build+run_depends on py-gnome-desktop
fix packaging, noticed by Alexey Suslikov
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2008/11/27 13:42:19 ajacoutot Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p1
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}
d36 1
a36 1
RUN_DEPENDS=		:scrollkeeper-*:textproc/scrollkeeper \
@


1.51
log
@- fix the invest applet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2008/11/25 08:19:43 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p0
d35 1
a35 2
BUILD_DEPENDS= 		:scrollkeeper-*:textproc/scrollkeeper \
			:gnome-icon-theme->=2.15.91:x11/gnome/icon-theme
d37 2
a38 1
			:gnome-icon-theme->=2.15.91:x11/gnome/icon-theme
@


1.50
log
@- minor update to gnome-applets-2.24.2
one mem leak fix and some translations updates
- add missing gtk-update-icon-cache goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2008/11/21 17:50:05 jasper Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}
d79 2
a80 1
		${WRKSRC}/invest-applet/invest/invest-chart
@


1.49
log
@- update gnome-applets to 2.24.1
- fix and specify license versions

with and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2008/10/29 12:01:19 jasper Exp $
d7 1
a7 1
GNOME_VERSION=		2.24.1
d78 2
a79 1
	${SUBST_CMD} ${WRKSRC}/configure
@


1.48
log
@- add a conflict marker with libgweather.
the gweather lib was put into it's own package for 2.24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2008/08/21 07:30:16 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		2.20.0
d9 2
a10 3
PKGNAME-main=		gnome-applets2-${VERSION}p6
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p6
SHARED_LIBS +=	gweather             1.0      # .0.0
d13 1
a13 1
# LGPL
d24 3
a26 3
		glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2 gnome-keyring \
		gnomecanvas-2 gnomeui-2 gnomevfs-2 gobject-2.0 gthread-2.0 \
		gtk-x11-2.0 jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
d74 5
a78 1
			XRes kvm xkbfile gnome-desktop-2 startup-notification-1 wnck-1
@


1.47
log
@- add sparc64 to the list of apm(4) capable arches (needs -current)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2008/07/30 19:47:10 martynas Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p5
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p5
@


1.46
log
@last round of library bumps due to libc/libm changes.  from sthen@@
double-checked & ok naddy@@, go for it pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2008/07/23 09:50:06 ajacoutot Exp $
d57 1
a57 1
 && ${MACHINE_ARCH} != "sparc"
@


1.45
log
@- use MACHINE instead of ARCH (so we don't need to add stuffs beneath
the bsd.port.mk include)
- unbreak sparc64 and other non apm(4) archs in the process

spotted by, discussed with and ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2008/07/11 17:46:56 ajacoutot Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p4
d11 1
a11 1
SHARED_LIBS +=	gweather             0.0      # .0.0
@


1.44
log
@- use ARCH instead of MACHINE_ARCH for macppc test
- regen PLIST while here
- bump

ok sthen@@ (on a previous diff)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2008/06/02 17:58:23 jasper Exp $
d54 7
a85 8

# not all powerpc support apm(4), hence the use of ${ARCH} and macppc
.if ${MACHINE_ARCH} != "amd64" && ${MACHINE_ARCH} != "arm" \
 && ${MACHINE_ARCH} != "i386" && ${ARCH} != "macppc" \
 && ${MACHINE_ARCH} != "sparc"
FLAVOR+=		no_battstat
.endif

@


1.43
log
@sync WANTLIB, bump package version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2008/05/26 16:29:27 ajacoutot Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p3
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p4
a53 7
# We use "macppc" and not "powerpc" on purpose here ; i.e. apm(4) needed
.if ${MACHINE_ARCH} != "amd64" && ${MACHINE_ARCH} != "arm" \
 && ${MACHINE_ARCH} != "i386" && ${MACHINE_ARCH} != "macppc" \
 && ${MACHINE_ARCH} != "sparc"
FLAVOR+=		no_battstat
.endif

d79 8
@


1.42
log
@- make help available by adding MODGNOME_HELP_FILES / ::x11/gnome/yelp
to RUN_DEPENDS

"mkay" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2008/05/01 08:52:31 bernd Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p2
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p3
d28 1
a28 1
		pcre png popt pthread ssl util xml2 z
@


1.41
log
@Fix broken MACHINE_ARCH conditional so the -battstat subpackage will be
build again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2008/04/14 14:02:40 jasper Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p1
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p2
d33 2
@


1.40
log
@- build this on all arches that have apm(4) support.

spotted by Michiel van Baak <michiel at vanbaak.info>

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2008/02/04 17:55:18 jasper Exp $
d53 3
a55 3
.if ${MACHINE_ARCH} != "amd64" || ${MACHINE_ARCH} != "arm" \
 || ${MACHINE_ARCH} != "i386" || ${MACHINE_ARCH} != "macppc" \
 || ${MACHINE_ARCH} != "sparc"
@


1.39
log
@let's face it....add myself as maintainer

requested by and ok ajacoutot@@, ok fkr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2007/11/22 20:38:39 sturm Exp $
d10 1
a10 1
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p1
d52 4
a55 2
# Only i386 and macppc have the headers for the battstat applet
.if ${MACHINE_ARCH} != "i386" && ${MACHINE_ARCH} != "powerpc"
@


1.38
log
@move a file to its proper location and bump PKGNAMEs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2007/11/10 15:38:17 jasper Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p0
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p0
@


1.37
log
@- update gnome-applets2 to 2.20.0
- cleanup Makefile a bit

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2007/11/02 10:32:21 sturm Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}
@


1.36
log
@build depends on python, no PKGNAME bump needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2007/10/24 22:46:13 jasper Exp $
d7 1
a7 1
GNOME_VERSION=		2.18.0
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p2
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p2
d19 10
a28 9
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcursor Xdmcp Xext \
		Xfixes Xi Xinerama Xrandr Xrender art_lgpl_2 atk-1.0 \
		audiofile bonobo-2 bonobo-activation bonoboui-2 c cairo \
		crypto dbus-1 dbus-glib-1 esd expat fontconfig freetype \
		gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0 glib-2.0 \
		glitz gmodule-2.0 gnome-2 gnome-keyring \
		gnomecanvas-2 gnomeui-2 gnomevfs-2 gobject-2.0 \
		gthread-2.0 gtk-x11-2.0 jpeg m pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 png popt pthread ssl util xml2 z
d64 3
a66 3
CONFIGURE_ARGS+=	--disable-schemas-install
CONFIGURE_ARGS+=	--disable-scrollkeeper
CONFIGURE_ARGS+=	--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gnome-applets2
d75 1
a75 1
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnome-applets2; \
@


1.35
log
@unbreak after recent gtk update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2007/07/05 22:50:10 jasper Exp $
d30 1
d37 1
@


1.34
log
@convert these gnome ports to use the new x11/gnome module.

this module is now mature enough to be used in new ports too.

feedback and ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/05/30 09:56:29 jasper Exp $
d9 2
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p1
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p1
@


1.33
log
@HOMEPAGE is taken care of via Makefile.inc, so no need to have it defined
twice when the homepage is http://www.gnome.org/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/05/17 14:12:20 jasper Exp $
d3 5
a7 2
COMMENT-main=		"applets for use with the GNOME panel"
COMMENT-battstat=	"GNOME applet for monitoring battery level"
a8 2
VERSION=		2.18.0
DISTNAME=		gnome-applets-${VERSION}
d12 1
a12 4
CATEGORIES=		x11 x11/gnome

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-applets/2.18/}
EXTRACT_SUFX=           .tar.bz2
d29 2
a30 1
MODULES=		devel/gettext
d33 1
a33 2
			:gnome-icon-theme->=2.15.91:x11/gnome/icon-theme \
			:p5-XML-Parser-*:textproc/p5-XML-Parser
a60 4
USE_X11=		Yes
USE_GMAKE=		Yes
USE_LIBTOOL=		Yes
CONFIGURE_STYLE= 	gnu
@


1.32
log
@- force skip gnome-setting-deamon detection, to not depend on control-center2.
it's just not needed.
- regen patches while here


from Mikolaj
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2007/05/16 22:18:38 jasper Exp $
d8 2
a9 2
PKGNAME-main=		gnome-applets2-${VERSION}p0
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p0
a11 2

HOMEPAGE=		http://www.gnome.org
@


1.31
log
@update gnome-applets2 to 2.18.0

with feedback from Mikolaj Kucharski
ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2007/04/14 17:39:56 naddy Exp $
d8 2
a9 2
PKGNAME-main=		gnome-applets2-${VERSION}
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}
a62 1
WANTLIB+=		Xau
@


1.30
log
@Do not depend on a special pseudo-flavor and prevent double building
during bulk builds.  ok espie@@, sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2006/12/16 12:22:35 espie Exp $
d6 1
a6 2
VERSION=		2.10.1
SUBVERS=		p1
d8 3
a10 2
PKGNAME-main=		gnome-applets2-${VERSION}p6
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}${SUBVERS}p1
d15 1
a15 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-applets/2.10/}
d23 9
a31 9
WANTLIB=		ICE ORBit-2 ORBitCosNaming-2 SM X11 Xext \
			Xrender art_lgpl_2 atk-1.0 audiofile bonobo-2 \
			bonobo-activation bonoboui-2 c crypto esd fontconfig \
			freetype gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 \
			glade-2.0 glib-2.0 gmodule-2.0 gnome-2 \
			gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2 \
			gobject-2.0 gthread-2.0 gtk-x11-2.0 jpeg \
			m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
			popt pthread ssl xml2 z cairo glitz png
d36 1
d39 3
a41 1
			:hicolor-icon-theme-*:x11/hicolor-icon-theme
d43 2
a44 3
			panel-applet-2::x11/gnome/panel \
			gailutil.>=17::x11/gnome/gail \
			gstinterfaces-0.8.>=1.0::devel/gstreamer-plugins \
d46 3
a48 1
			xklavier::x11/gnome/libxklavier
d63 1
d69 1
a69 2
CONFIGURE_STYLE= 	gnu old
CONFIGURE_ARGS+=	--sysconfdir="${SYSCONFDIR}/gnome"
d71 1
a75 1
LIB_DEPENDS-battstat=	${LIB_DEPENDS} panel-applet-2::x11/gnome/panel
d77 1
a77 5
			Xau XRes kvm xkbfile gstreamer-0.8.>=5.0 \
			startup-notification-1 wnck-1

post-patch:
	@@ln -s /usr/bin/true ${WRKDIR}/bin/scrollkeeper-update
d86 2
@


1.29
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2006/11/26 11:35:12 espie Exp $
d9 1
a9 1
PKGNAME-main=		gnome-applets2-${VERSION}p5
d42 1
a42 1
			gstinterfaces-0.8.>=1.0::devel/gstreamer-plugins,minimal \
@


1.28
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2006/09/18 12:19:39 espie Exp $
d35 1
a35 2
BUILD_DEPENDS= 		:pkgconfig-*:devel/pkgconfig \
			:scrollkeeper-*:textproc/scrollkeeper \
@


1.27
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2006/09/18 09:40:31 espie Exp $
d3 1
a3 1
COMMENT=		"applets for use with the GNOME panel"
d9 1
a9 1
PKGNAME=		gnome-applets2-${VERSION}p4
d40 2
a41 1
LIB_DEPENDS=		panel-applet-2::x11/gnome/panel \
d55 1
a55 1
MULTI_PACKAGES=
a60 1
SUBPACKAGE?=
d72 3
a74 6
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-battstat"
ONLY_FOR_ARCHS=		i386 powerpc
LIB_DEPENDS=		panel-applet-2::x11/gnome/panel
. else
WANTLIB+=		Xau XRes kvm xkbfile gstreamer-0.8.>=5.0 \
a75 2
. endif
.endif
@


1.26
log
@new style lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/06/13 13:36:44 bernd Exp $
d24 1
a24 1
			Xrender art_lgpl_2 atk-1.0.0.0 audiofile bonobo-2 \
d26 2
a27 2
			freetype gconf-2 gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 \
			glade-2.0.0.0 glib-2.0.0.0 gmodule-2.0.0.0 gnome-2 \
d29 2
a30 2
			gobject-2.0.0.0 gthread-2.0.0.0 gtk-x11-2.0.0.0 jpeg \
			m pango-1.0.0.0 pangocairo-1.0.0.0 pangoft2-1.0.0.0 \
@


1.25
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2006/01/19 17:22:42 steven Exp $
d40 4
a43 4
LIB_DEPENDS=		panel-applet-2.0::x11/gnome/panel \
			gailutil.17::x11/gnome/gail \
			gstinterfaces-0.8.1.0::devel/gstreamer-plugins,minimal \
			gtop-2.0.3.0::devel/libgtop2 \
d75 1
a75 1
LIB_DEPENDS=		panel-applet-2.0::x11/gnome/panel
d77 1
a77 1
WANTLIB+=		Xau XRes kvm xkbfile gstreamer-0.8.5.0 \
@


1.24
log
@- fix WANTLIB after gtk+2 downgrade
- MODULES=devel/gettext where appropriate
- sync PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/11/15 21:17:02 wilfried Exp $
d9 2
a10 2
PKGNAME=		gnome-applets2-${VERSION}p3
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}${SUBVERS}p0
d23 1
a23 1
WANTLIB=		ICE ORBit-2 ORBitCosNaming-2 SM X11 Xext Xft \
d30 2
a31 2
			m pango-1.0.0.0 pangox-1.0.0.0 pangoft2-1.0.0.0 \
			pangoxft-1.0.0.0 popt pthread ssl xml2 z
@


1.23
log
@fix wantlib + bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2005/09/16 09:51:28 espie Exp $
d9 2
a10 2
PKGNAME=		gnome-applets2-${VERSION}p2
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}${SUBVERS}
d23 1
a23 1
WANTLIB=		ICE ORBit-2 ORBitCosNaming-2 SM X11 Xext \
d30 2
a31 2
			m pango-1.0.0.0 pangocairo-1.0.0.0 pangoft2-1.0.0.0 \
			cairo glitz png popt pthread ssl xml2 z
d77 2
a78 1
WANTLIB+=		XRes kvm xkbfile gstreamer-0.8.5.0 startup-notification-1 wnck-1
@


1.22
log
@Fix a buglet in bsd.port.mk where the PSEUDO_FLAVORS get encoded into
the FULLPKGPATH, thus providing changes to packing-lists which shouldn't
happen, and making update more difficult.

Accordingly, bump all pkgnames with PSEUDO_FLAVORS, and provide an
update @@pkgpath for the bug for most of them (left out the ones with 3
or 4 pseudo flavors for space constraints...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2005/07/11 04:28:58 marcm Exp $
d7 1
a7 1
SUBVERS=		p0
d9 1
a9 1
PKGNAME=		gnome-applets2-${VERSION}p1
d23 1
a23 1
WANTLIB=		ICE ORBit-2 ORBitCosNaming-2 SM X11 Xft \
d29 3
a31 3
			gobject-2.0.0.0 gthread-2.0.0.0 gtk-x11-2.0.0.0 \
			jpeg m pango-1.0.0.0 pangoft2-1.0.0.0 pangox-1.0.0.0 \
			pangoxft-1.0.0.0 popt pthread ssl xml2 z
d77 1
a77 1
WANTLIB+=		Xext XRes kvm xkbfile gstreamer-0.8.5.0 startup-notification-1 wnck-1
@


1.21
log
@Make this install on sparc64 - now that I own one.  Also fix some stupid
scrollkeeper warnings and add a RUN_DEPENDS on hicolor-icon-theme.

Bump package name.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2005/05/26 03:39:30 marcm Exp $
d9 1
a9 1
PKGNAME=		gnome-applets2-${VERSION}${SUBVERS}
@


1.20
log
@Gnome 2.10.0/2.10.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2004/12/25 19:58:21 marcm Exp $
d7 1
a7 1
SUBVERS=		
d38 2
a39 1
RUN_DEPENDS=		:scrollkeeper-*:textproc/scrollkeeper
d84 1
d88 1
@


1.19
log
@Fix this on arches w/o apm support.

Noticed by naddy@@ sturm@@, tested by sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2004/12/15 13:57:55 alek Exp $
d6 2
a7 1
VERSION=		2.8.2
d9 2
a10 2
PKGNAME=		gnome-applets2-${VERSION}p0
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}p0
a13 1
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
d15 1
a15 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-applets/2.8/}
d23 2
a24 2
WANTLIB=		ICE ORBit-2 ORBitCosNaming-2 SM X11 Xcursor Xext Xft \
			Xinerama Xrender art_lgpl_2 atk-1.0.0.0 audiofile bonobo-2 \
d29 3
a31 3
			gobject-2.0.0.0 gstreamer-0.8.5.0 gthread-2.0.0.0 gtk-x11-2.0.0.0 \
			jpeg kvm m pango-1.0.0.0 pangoft2-1.0.0.0 pangox-1.0.0.0 \
			pangoxft-1.0.0.0 popt pthread ssl xkbfile xml2 z
d41 1
a41 1
			gstinterfaces-0.8.1.0::devel/gstreamer-plugins \
d63 1
d75 2
@


1.18
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2004/12/10 20:36:42 marcm Exp $
d8 1
a8 1
PKGNAME=		gnome-applets2-${VERSION}
d23 9
a31 9
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xcursor Xext Xft \
		Xinerama Xrender art_lgpl_2 atk-1.0.0.0 audiofile bonobo-2 \
		bonobo-activation bonoboui-2 c crypto esd fontconfig \
		freetype gconf-2 gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 \
		glade-2.0.0.0 glib-2.0.0.0 gmodule-2.0.0.0 gnome-2 \
		gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2 \
		gobject-2.0.0.0 gthread-2.0.0.0 gtk-x11-2.0.0.0 jpeg kvm m \
		ossaudio pango-1.0.0.0 pangoft2-1.0.0.0 pangox-1.0.0.0 \
		pangoxft-1.0.0.0 popt pthread ssl xkbfile xml2 z
d41 1
d46 2
d50 1
a50 3
FLAVOR?=		no_battstat
.else
FLAVOR?=
d54 3
a56 1
.if !${FLAVOR:L:Mno_battstat}
a66 1
CONFIGURE_ARGS+=	--disable-gstreamer
@


1.17
log
@Update to Gnome 2.8 (.1).

Work done primarily by Francois Briere, thanks Francois.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2004/11/21 10:34:59 alek Exp $
d23 9
@


1.16
log
@- Replace (DE)INSTALL script with @@sample
- Bump PKGNAME

ok marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/10/17 04:41:19 marcm Exp $
d6 1
a6 1
VERSION=		2.6.2
d15 1
a15 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-applets/2.6/}
@


1.15
log
@Simplify Gnome config file handling.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/09/15 04:12:55 marcm Exp $
d9 1
a9 1
PKGNAME-battstat=	gnome-applets2-battstat-${VERSION}
@


1.14
log
@New plist and buh-bye to install/deinstall for GNOME 2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/08/10 10:56:42 xsa Exp $
a48 1
CONFDIR=		${SYSCONFDIR}/gnome
d52 1
a52 1
CONFIGURE_ARGS+=	--sysconfdir="${CONFDIR}"
a57 1
SUBST_VARS=		CONFDIR
d71 1
a71 1
	cp -Rp ${WRKINST}/${CONFDIR}/* ${PREFIX}/share/examples/gnome-applets2/
@


1.13
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/08/01 06:12:42 marcm Exp $
d27 2
a28 1
			:scrollkeeper-*:textproc/scrollkeeper
@


1.12
log
@Use the new libgtop2 and minor port cleanups.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/07/08 17:09:38 marcm Exp $
d24 1
a24 1
MODULES=		gettext
@


1.11
log
@Add patch from nikolay@@ to make this compile again on sparc64 and update
to 2.6.2 while I'm here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/06/23 03:26:11 marcm Exp $
d26 3
a28 3
BUILD_DEPENDS= 		:pkgconfig->=0.12.0p1:devel/pkgconfig \
			:scrollkeeper->=0.3.12p1:textproc/scrollkeeper
RUN_DEPENDS=		:scrollkeeper->=0.3.12p1:textproc/scrollkeeper
d30 3
a32 3
			gailutil.17::x11/gnome/gail 

#			gtop-2.0.0.0,gtop_common-2.0.0.0,gtop_sysdeps-2.0.0.0,gtop_suid_common-2.0.0.0,gtop_sysdeps_suid-2.0.0.0::devel/libgtop2
d55 1
@


1.10
log
@Monster update to Gnome 2.6.  See, I am not slacking, really!

Change info on a Gnome mirror near you.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/02/22 05:33:52 marcm Exp $
d6 1
a6 1
VERSION=		2.6.1
@


1.9
log
@Update to Gnome 2.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2003/10/19 06:43:06 marcm Exp $
d6 1
a6 1
VERSION=		2.4.2
d15 1
a15 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-applets/2.4/}
d30 3
a32 2
			gailutil.17::x11/gnome/gail \
			gtop-2.0.0.0,gtop_common-2.0.0.0,gtop_sysdeps-2.0.0.0,gtop_suid_common-2.0.0.0,gtop_sysdeps_suid-2.0.0.0::devel/libgtop2
d53 1
@


1.8
log
@Unbreak this on arches that don't have APM support (like sparc64)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2003/10/07 05:48:53 marcm Exp $
d6 1
a6 1
VERSION=		2.4.1
@


1.7
log
@Update to Gnome 2.4.0.
Release notes available at: http://www.gnome.org/start/2.4/notes/

Please note that x11/gnome/bonobo-activation is now part of libbonobo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/08/07 14:20:34 marcm Exp $
a66 1
.if !${FLAVOR:L:Mno_battstat}
a69 1
.endif
@


1.6
log
@Nitpicks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/08/06 06:20:16 marcm Exp $
d6 1
a6 1
VERSION=		2.2.2
d15 1
a15 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-applets/2.2/}
d27 2
a28 2
			:scrollkeeper->=0.3.12:textproc/scrollkeeper
RUN_DEPENDS=		:scrollkeeper->=0.3.12:textproc/scrollkeeper
@


1.5
log
@Update to GNOME 2.2.2.

Part of a monster commit that updates a number of GNOME and GNOME related
ports to their versions under the GNOME Desktop 2.2.2 umbrella.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/07/12 06:27:12 marcm Exp $
d3 2
a4 2
COMMENT=		"applets for use with the GNOME2 panel"
COMMENT-battstat=	"Gnome2 applet for monitoring battery level"
@


1.4
log
@Don't try to use the custom scrollkeeper catalog anymore.  It's gone :).

Update *_DEPENDS version accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/07/06 18:19:20 marcm Exp $
d6 1
a6 1
VERSION=		2.2.1
@


1.3
log
@Stop gconf from creating directories under $HOME.

Noticed by sturm@@ and systrace
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/06/12 20:12:55 marcm Exp $
d27 2
a28 2
			:scrollkeeper->=0.3.11:textproc/scrollkeeper
RUN_DEPENDS=		:scrollkeeper->=0.3.11:textproc/scrollkeeper
@


1.2
log
@Update to 2.2.1 for Gnome 2.2.1.

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/01/31 18:42:04 todd Exp $
a31 2

MAKE_ENV+=		GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL=1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
VERSION=		2.0.4
d15 1
a15 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-applets/2.0/}
d31 1
a31 1
			gtop-2.0.0.0,gtop_common-2.0.0.0,gtop_sysdeps-2.0.0.0::devel/libgtop2
d49 1
d52 2
a53 1
CONFIGURE_STYLE= 	gnu
d57 1
d72 1
a72 1
	cp -Rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/gnome-applets2/
@


1.1.1.1
log
@Import gnome-applets2-2.0.4
--
The gnome-applets package provides panel applets which enhance your
GNOME experience.

From marcm for gnome2
@
text
@@
