head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2009.11.29.09.21.32;	author ajacoutot;	state dead;
branches;
next	1.3;

1.3
date	2009.10.12.12.03.27;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2007.11.10.15.38.17;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2007.10.24.22.46.13;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Do not hide the volume monitor button now that gnome-media has been fixed.
@
text
@$OpenBSD: patch-mixer_applet_c,v 1.3 2009/10/12 12:03:27 jasper Exp $

gnome-volume-control doesn't get build currently (see gnome/media/Makefile)

--- mixer/applet.c.orig	Fri May 22 05:35:48 2009
+++ mixer/applet.c	Mon Oct 12 13:48:55 2009
@@@@ -385,7 +385,6 @@@@ gnome_volume_applet_setup (GnomeVolumeApplet *applet,
   GtkObject *adj;
   BonoboUIComponent *component;
   static const BonoboUIVerb verbs[] = {
-    BONOBO_UI_UNSAFE_VERB ("RunMixer", cb_verb),
     BONOBO_UI_UNSAFE_VERB ("Mute",     cb_verb),
     BONOBO_UI_UNSAFE_VERB ("Help",     cb_verb),
     BONOBO_UI_UNSAFE_VERB ("About",    cb_verb),
@@@@ -846,10 +845,6 @@@@ gnome_volume_applet_key (GtkWidget   *widget,
       }
       break;
     case GDK_o:
-      if (event->state == GDK_CONTROL_MASK) {
-        gnome_volume_applet_run_mixer (applet);
-        return TRUE;
-      }
       break;
     case GDK_Escape:
       gnome_volume_applet_popdown_dock (applet);
@@@@ -1390,9 +1385,7 @@@@ cb_verb (BonoboUIComponent *uic,
 {
   GnomeVolumeApplet *applet = GNOME_VOLUME_APPLET (data);
 
-  if (!strcmp (verbname, "RunMixer")) {
-    gnome_volume_applet_run_mixer (applet);
-  } else if (!strcmp (verbname, "Help")) {
+  if (!strcmp (verbname, "Help")) {
     GError *error = NULL;
 
     gtk_show_uri (gtk_widget_get_screen (GTK_WIDGET (applet)),
@


1.3
log
@- don't display gnome volume mixer button, it's not there.
- regen WANTLIB
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@- update gnome-applets2 to 2.20.0
- cleanup Makefile a bit

ok martynas@@
@
text
@d1 28
a28 10
$OpenBSD: patch-mixer_applet_c,v 1.1 2007/10/24 22:46:13 jasper Exp $
--- mixer/applet.c.orig	Tue Oct 16 15:43:28 2007
+++ mixer/applet.c	Tue Oct 16 15:47:04 2007
@@@@ -38,7 +38,7 @@@@
 #include <gtk/gtkmain.h>
 #include <gtk/gtkmessagedialog.h>
 #include <gtk/gtkrange.h>
-#include <gtk/gtktooltips.h>
+#include <gtk/gtktooltip.h>
 #include <gtk/gtkwidget.h>
d30 5
a34 20
 #include <gconf/gconf-client.h>
@@@@ -219,8 +219,8 @@@@ gnome_volume_applet_init (GnomeVolumeApplet *applet)
   applet->pop = FALSE;
 
   /* tooltip over applet */
-  applet->tooltips = gtk_tooltips_new ();
-  gtk_tooltips_set_tip (applet->tooltips, GTK_WIDGET (applet),
+  applet->tooltip = gtk_tooltips_new ();
+  gtk_tooltips_set_tip (applet->tooltip, GTK_WIDGET (applet),
 			_("Volume Control"), NULL);
 
   /* prevent scroll events from reaching the tooltip */
@@@@ -1138,7 +1138,7 @@@@ gnome_volume_applet_refresh (GnomeVolumeApplet *applet
   }
   g_string_free (track_names, TRUE);
 
-  gtk_tooltips_set_tip (applet->tooltips, GTK_WIDGET (applet),
+  gtk_tooltips_set_tip (applet->tooltip, GTK_WIDGET (applet),
 			tooltip_str, NULL);
   g_free (tooltip_str);
d36 1
@


1.1
log
@unbreak after recent gtk update
@
text
@d1 1
a1 1
$OpenBSD$
@

