head	1.36;
access;
symbols
	OPENBSD_4_4:1.35.0.4
	OPENBSD_4_4_BASE:1.35
	OPENBSD_4_3:1.35.0.2
	OPENBSD_4_3_BASE:1.35
	OPENBSD_4_2:1.34.0.2
	OPENBSD_4_2_BASE:1.34
	OPENBSD_4_1:1.30.0.2
	OPENBSD_4_1_BASE:1.30
	OPENBSD_4_0:1.29.0.2
	OPENBSD_4_0_BASE:1.29
	OPENBSD_3_9:1.28.0.2
	OPENBSD_3_9_BASE:1.28
	OPENBSD_3_8:1.25.0.2
	OPENBSD_3_8_BASE:1.25
	OPENBSD_3_7:1.24.0.2
	OPENBSD_3_7_BASE:1.24
	OPENBSD_3_6:1.21.0.6
	OPENBSD_3_6_BASE:1.21
	OPENBSD_3_5:1.21.0.4
	OPENBSD_3_5_BASE:1.21
	OPENBSD_3_4:1.21.0.2
	OPENBSD_3_4_BASE:1.21
	OPENBSD_3_3:1.20.0.2
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.19.0.2
	OPENBSD_3_2_BASE:1.19
	OPENBSD_3_1:1.13.0.2
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.11.0.2
	OPENBSD_3_0_BASE:1.11
	gnome:1.1.1.1
	todd:1.1.1;
locks; strict;
comment	@# @;


1.36
date	2008.08.27.07.41.59;	author jasper;	state dead;
branches;
next	1.35;

1.35
date	2008.02.04.17.55.18;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2007.07.05.22.50.11;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2007.06.01.17.17.18;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2007.06.01.15.28.06;	author jasper;	state dead;
branches;
next	1.31;

1.31
date	2007.05.30.09.56.30;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2006.10.03.19.46.08;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2006.08.01.10.50.19;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2006.01.08.12.44.10;	author steven;	state Exp;
branches;
next	1.27;

1.27
date	2005.11.03.18.28.56;	author naddy;	state Exp;
branches;
next	1.26;

1.26
date	2005.09.05.20.05.02;	author marcm;	state Exp;
branches;
next	1.25;

1.25
date	2005.05.11.19.05.20;	author alek;	state Exp;
branches;
next	1.24;

1.24
date	2005.01.25.09.45.58;	author alek;	state Exp;
branches;
next	1.23;

1.23
date	2004.12.15.13.57.56;	author alek;	state Exp;
branches;
next	1.22;

1.22
date	2004.11.09.22.56.43;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2003.06.23.18.57.07;	author marcm;	state Exp;
branches;
next	1.20;

1.20
date	2003.01.02.03.32.25;	author marcm;	state Exp;
branches;
next	1.19;

1.19
date	2002.09.20.08.15.16;	author nino;	state Exp;
branches;
next	1.18;

1.18
date	2002.09.16.05.15.23;	author marcm;	state Exp;
branches;
next	1.17;

1.17
date	2002.07.22.20.08.05;	author nino;	state Exp;
branches;
next	1.16;

1.16
date	2002.05.31.10.15.40;	author nino;	state Exp;
branches;
next	1.15;

1.15
date	2002.05.15.18.05.18;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2002.04.19.14.43.36;	author pvalchev;	state Exp;
branches;
next	1.13;

1.13
date	2002.02.15.19.19.33;	author nino;	state Exp;
branches;
next	1.12;

1.12
date	2001.10.29.17.45.44;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2001.10.17.13.17.00;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2001.10.11.21.47.12;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2001.10.07.20.55.11;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2001.09.20.19.26.32;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2001.09.20.18.39.13;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2001.09.18.21.42.04;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2001.09.17.23.01.00;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.14.18.50.20;	author heko;	state Exp;
branches;
next	1.3;

1.3
date	2001.09.14.14.41.30;	author todd;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.13.21.07.28;	author todd;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.13.20.27.19;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.09.13.20.27.19;	author todd;	state Exp;
branches;
next	;


desc
@@


1.36
log
@- remove old, unused and unneeded gtk+1 cruft

ok ajacoutot@@
agreed by mbalmer@@
@
text
@# $OpenBSD: Makefile,v 1.35 2008/02/04 17:55:18 jasper Exp $

COMMENT=		libraries for the GNOME project

GNOME_PROJECT=		gnome-libs
GNOME_VERSION=		1.4.2
PKGNAME=		${DISTNAME}p5
SHARED_LIBS=		art_lgpl	4.0	\
			gnome		36.3	\
			gnomesupport	0.0	\
			gnomeui		47.0	\
			gnorba		28.8	\
			gnorbagtk	0.0	\
			gtkxmhtml	1.1	\
			zvt		6.0

CATEGORIES=		x11

LIB_DEPENDS=		gdk_imlib.>=19::graphics/imlib \
			esd.>=2::audio/esound \
			ORBit.>=5,ORBitutil.>=5,IIOP.>=5,ORBitCosNaming.>=5::devel/ORBit \
			gdk.>=1.2::x11/gtk+

# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		ICE SM X11 Xext Xi Xpm audiofile c glib gmodule gtk \
			iconv intl jpeg m png tiff ungif util wrap z

MODULES=		x11/gnome

USE_X11=		Yes
AUTOCONF_VERSION=	2.13
CONFIGURE_STYLE= 	autoconf

CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}
CONFIGURE_ARGS+= 	--enable-prefer-db1
CONFIGURE_ARGS+= 	--with-kde-datadir=${LOCALBASE}/share
CONFIGURE_ARGS+= 	--disable-test-gnome
CONFIGURE_ARGS+=	--disable-gtk-doc

CONFIGURE_ENV=  	CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
			LDFLAGS="-L${LOCALBASE}/lib"

pre-build:
	@@if pkg dependencies check gnome-libs-\*; then \
		if pkg dependencies check ${DISTNAME}; then \
			:; \
		else \
			echo 1>&2 "Error: you must remove your old gnome-libs first"; \
			exit 1; \
		fi; \
	fi;

post-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnome-libs; \
	cp -Rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/gnome-libs/
# Fix conflict with Gnome 2
	@@mv ${PREFIX}/share/pixmaps/gnome-default-dlg.png ${PREFIX}/share/pixmaps/gnome-default-dlg1.png
	@@mv ${PREFIX}/share/pixmaps/gnome-error.png ${PREFIX}/share/pixmaps/gnome-error1.png
	@@mv ${PREFIX}/share/pixmaps/gnome-info.png ${PREFIX}/share/pixmaps/gnome-info1.png
	@@mv ${PREFIX}/share/pixmaps/gnome-question.png ${PREFIX}/share/pixmaps/gnome-question1.png
	@@mv ${PREFIX}/share/pixmaps/gnome-warning.png ${PREFIX}/share/pixmaps/gnome-warning1.png


.include <bsd.port.mk>
@


1.35
log
@let's face it....add myself as maintainer

requested by and ok ajacoutot@@, ok fkr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2007/07/05 22:50:11 jasper Exp $
@


1.34
log
@convert these gnome ports to use the new x11/gnome module.

this module is now mature enough to be used in new ports too.

feedback and ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/06/01 17:17:18 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p4
@


1.33
log
@ahum...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2007/05/30 09:56:30 jasper Exp $
d3 1
a3 1
COMMENT=		"libraries for the GNOME project"
d5 2
a6 1
DISTNAME=		gnome-libs-1.4.2
d17 1
a17 3
CATEGORIES=		x11 x11/gnome

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gnome-libs/1.4/}
d32 2
a33 1
USE_LIBTOOL=		Yes
a34 1
USE_GMAKE=		Yes
@


1.32
log
@remove obsolete gnome1 stuff.

gnome1 removal ok'd by naddy@@ todd@@ and others
@
text
@d6 1
a6 1
PKGNAME=		${DISTNAME}p3
@


1.31
log
@HOMEPAGE is taken care of via Makefile.inc, so no need to have it defined
twice when the homepage is http://www.gnome.org/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2006/10/03 19:46:08 naddy Exp $
@


1.30
log
@remove alpha workarounds as suggested by brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2006/08/01 10:50:19 espie Exp $
a16 2

HOMEPAGE=		http://www.gnome.org/
@


1.29
log
@convert a few libspecs to new style.

Note: no package bump, those are only BUILD dependencies,
the pkg_create code will create the correct wantlib specs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2006/01/08 12:44:10 steven Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
a20 5

# fix for Alpha
.if (${MACHINE_ARCH} == "alpha")
PATCH_LIST+=		patch-* sup-alpha-*
.endif
@


1.28
log
@SHARED_LIBS and USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2005/11/03 18:28:56 naddy Exp $
d27 4
a30 4
LIB_DEPENDS=		gdk_imlib.19::graphics/imlib \
			esd.2::audio/esound \
			ORBit.5,ORBitutil.5,IIOP.5,ORBitCosNaming.5::devel/ORBit \
			gdk.1.2::x11/gtk+
@


1.27
log
@Always explicitly set the AUTOCONF_VERSION to use.  In some cases
the default was not appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2005/09/05 20:05:02 marcm Exp $
d6 10
a15 1
PKGNAME=		${DISTNAME}p1
d40 1
@


1.26
log
@Gnome1 can be maintained by ports@@ too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2005/05/11 19:05:20 alek Exp $
d33 1
@


1.25
log
@- Bump lib major after recent libc changes
- Bump PKGNAME
- Regen PLIST

go ahead espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/01/25 09:45:58 alek Exp $
a9 1
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
@


1.24
log
@Adjust LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2004/12/15 13:57:56 alek Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.23
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/11/09 22:56:43 espie Exp $
d19 1
a19 1
LIB_DEPENDS=		Imlib,gdk_imlib.19::graphics/imlib \
@


1.22
log
@bump pkgname belatedly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/06/23 18:57:07 marcm Exp $
d29 2
@


1.21
log
@Work around a conflict with Gnome 2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/01/02 03:32:25 marcm Exp $
d6 1
@


1.20
log
@Update to latest (and probably last) stable version.  Take MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/09/20 08:15:16 nino Exp $
d55 7
@


1.19
log
@Update email and MASTER_SITES, zap NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/09/16 05:15:23 marcm Exp $
d5 1
a5 1
DISTNAME=		gnome-libs-1.4.1.4
d9 1
a9 1
MAINTAINER=		Nils Nordman <nino@@openbsd.org>
a12 4
PATCH_LIST=		${PORTSDIR}/infrastructure/patches/patch-lt1.3.5-ltconfig \
			${PORTSDIR}/infrastructure/patches/patch-lt1.3.5-ltmain_sh \
			patch-*

d15 1
a15 1
PATCH_LIST+=		sup-alpha-*
d30 1
d43 8
a50 8
        @@if pkg dependencies check gnome-libs-\*; then \
                if pkg dependencies check ${DISTNAME}; then \
                        :; \
                else \
                        echo 1>&2 "Error: you must remove your old gnome-libs first"; \
                        exit 1; \
                fi; \
        fi;
@


1.18
log
@Add a fix to compile gnome-name-service statically on Alpha so it actually
works.

ok nino@@ pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/07/22 20:08:05 nino Exp $
d7 1
d9 1
a9 1
MAINTAINER=		Nils Nordman <nino@@nforced.com>
d11 1
a11 1
MASTER_SITES=		${MASTER_SITE_GNOME:=stable/sources/gnome-libs/}
@


1.17
log
@This also needed to be updated for the new png header path change.
Fixes weird png display problem in gnome.

From Marc Matteo <marcm@@lectroid.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/05/31 10:15:40 nino Exp $
a6 1
NEED_VERSION=   	1.504
d15 5
@


1.16
log
@The --local-statedirs was inconsistent for these ports, spotted by
Jolan Luff <jolan@@encryptedemail.net>. They are not used right now
anyhow, zap them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/05/15 18:05:18 espie Exp $
d37 1
a37 1
CONFIGURE_ENV=  	CPPFLAGS="-I${LOCALBASE}/include" \
@


1.15
log
@kill some MASTER_SITE_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/04/19 14:43:36 pvalchev Exp $
a33 1
CONFIGURE_ARGS+= 	--localstatedir=/var/run
@


1.14
log
@full library dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/02/15 19:19:33 nino Exp $
d11 1
a11 2
MASTER_SITES=		${MASTER_SITE_GNOME}
MASTER_SITE_SUBDIR= 	stable/sources/gnome-libs
@


1.13
log
@Update to gnome-libs 1.4.1.4

* man pages, fix compilation with db1 (to some degree at least), fix
crashes in gtk-xmhtml (for help browser), mem leaks plugged in
gnome-mime, compiler/warning fixes, better multibyte handling in zvt,
report mousewheel events correctly to apps in zvt, fix crashes in
gnome-mdi, work with KDE session management, plus more.

Ok naddy@@, with additional testing by fries@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/10/29 17:45:44 naddy Exp $
d20 2
a21 1
			ORBit.5,ORBitutil.5,IIOP.5,ORBitCosNaming.5::devel/ORBit
@


1.12
log
@Remove db3 dependency.  From maintainer Nils Nordman <nino@@nforced.com>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/10/17 13:17:00 espie Exp $
d4 2
a5 2
V=			1.2.13
DISTNAME=		gnome-libs-${V}
d7 2
a8 2
NEED_VERSION=   	1.473
HOMEPAGE=		http://www.gnome.org
d14 3
a16 3
PATCH_LIST=             ${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltconfig \
                        ${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltmain_sh \
                        patch-*
d22 1
d40 10
@


1.11
log
@dependency fix-up, after looking more closely.
I want to put the full dependencies in on these two because it becomes
too hairy to sort through otherwise...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/10/11 21:47:12 espie Exp $
a19 1
			db::databases/db \
d31 1
d38 1
a38 2
			LDFLAGS="-L${LOCALBASE}/lib" \
			DB_LIB="-ldb"
d42 1
a42 1
	cp -rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/gnome-libs/
@


1.10
log
@Fix that as a conflict between libgtop-*-!gnome and gnome-libs-*
(note that we can't write libgtop-*-!gnome as a pkgcfl, but it doesn't
matter, because the check is done at gnome-libs-* install time, at which
point libgtop-*-gnome is definitely not going to be around yet).

Thanks to naddy@@ for setting me straight.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/10/07 20:55:11 naddy Exp $
d18 1
a18 1
LIB_DEPENDS=		gdk_imlib.19::graphics/imlib \
@


1.9
log
@* Use in-tree libtool patches
* Bump NEED_VERSION
* Fix and improve CATEGORIES
Submitted by maintainer Nils Nordman <nino@@nforced.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/09/20 19:26:32 naddy Exp $
d21 1
a21 1
			ORBit.5::devel/ORBit
@


1.8
log
@Don't assume a specific depth for prefix and don't hardcode paths either.
From maintainer Nils Nordman <nino@@nforced.com>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/09/20 18:39:13 naddy Exp $
d6 2
a7 2
CATEGORIES=		x11
NEED_VERSION=   	1.455
d13 4
@


1.7
log
@remove gratuitous gmake dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/09/18 21:42:04 naddy Exp $
d39 1
a39 1
	cp -rp ${PREFIX}/../../etc/* ${PREFIX}/share/examples/gnome-libs/
@


1.6
log
@* Use variables instead of hardcoded prefixes.
* Take care to set a sane PATH.
* Add set -e
* Copy example files into ${PREFIX}/share/examples/PORTNAME.
* Replace PKGNAME with P_NAME in INSTALL/DEINSTALL scripts, unclear
  since it already exists in the Makefile with a different value.
* Change output of INSTALL/DEINSTALL to be more like other scripts
  found in the tree(suggested by heko@@).

Submitted by maintainer Nils Nordman <nino@@nforced.com>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/09/17 23:01:00 naddy Exp $
a24 1
USE_GMAKE=		Yes
@


1.5
log
@install message catalogs, and in the correct place
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/09/14 18:50:20 heko Exp $
d39 2
a40 2
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/gnome-libs; \
	cp -r ${PREFIX}/../../etc/* ${PREFIX}/share/gnome-libs/
@


1.4
log
@The subdirectory at master site is gnome-libs although we have the port
in gnome/libs.
Noticed by maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/09/14 14:41:30 todd Exp $
d26 1
a26 1
CONFIGURE_STYLE= 	gnu
d39 1
a39 1
	@@install -d ${PREFIX}/share/gnome-libs; \
@


1.3
log
@crank NEED_VERSION= because these require current
use ${HOMEPAGE} in pkg/DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/09/13 21:07:28 todd Exp $
d12 1
a12 1
MASTER_SITE_SUBDIR= 	stable/sources/gnome/libs
@


1.2
log
@update from maint, remove ignored compile errors re gtk doc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/09/13 20:27:19 todd Exp $
d7 1
a7 1
NEED_VERSION=   	1.384
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d32 1
@


1.1.1.1
log
@libraries for the GNOME project
@
text
@@
