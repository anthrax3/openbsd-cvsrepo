head	1.19;
access;
symbols
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.2
	OPENBSD_5_0:1.7.0.2
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.6.0.2
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	jasper_20100501:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2012.04.17.13.15.23;	author jasper;	state dead;
branches;
next	1.18;

1.18
date	2012.04.17.10.51.11;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2011.12.03.22.17.15;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2011.11.04.09.56.28;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2011.10.29.08.12.32;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2011.09.28.09.47.46;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2011.09.28.08.39.50;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.20.22.54.25;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2011.09.18.10.09.48;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.16.12.29.13;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.12.14.48.15;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.09.12.12.04.16;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2011.03.02.15.00.45;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2010.12.14.09.33.03;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.22.08.36.57;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.19.08.13.56;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2010.10.11.08.19.19;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2010.07.25.08.15.32;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.05.01.07.39.04;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.05.01.07.39.04;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.19
log
@remove byzanz, this hasn't seen a real release in a while
  and recordmydesktop does a better job at it anyway.

  prompted by and ok aja@@
@
text
@# $OpenBSD: Makefile,v 1.18 2012/04/17 10:51:11 jasper Exp $

COMMENT=		simple desktop recording tool

# git clone of b362a1af7cd50f5752ec1114311fe24a188b31d1
GNOME_VERSION=		0.2.3.2
GNOME_PROJECT=		byzanz

CATEGORIES=		multimedia

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes

MASTER_SITES=		http://distfiles.nl/

MODULES=		devel/gconf2 \
			devel/gettext \
			x11/gnome

WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0
WANTLIB += c cairo cairo-gobject drm expat fontconfig freetype
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gstapp-0.10 gstbase-0.10 gstreamer-0.10 gthread-2.0
WANTLIB += gtk-3 m panel-applet-4 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs xcb xcb-render
WANTLIB += xcb-shm xml2 z dbus-1 dbus-glib-1 ffi stdc++

LIB_DEPENDS=		x11/gnome/panel>=3.0.0 \
			multimedia/gstreamer-0.10/plugins-base

MODGCONF2_SCHEMAS_DIR=	byzanz
MODGNOME_ICON_CACHE=	Yes

#
# Remove this and patch-configure_ac when updating to
# a real release:
#

AUTOCONF_VERSION=	2.68
AUTOMAKE_VERSION=	1.11

BUILD_DEPENDS+=		${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/libtool \
			x11/gnome/common

pre-configure:
	cd ${WRKSRC} && ${SETENV} ${CONFIGURE_ENV} \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} ./autogen.sh

.include <bsd.port.mk>
@


1.18
log
@- update to a newer git clone, which includes fixes for various deprecations.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/12/03 22:17:15 ajacoutot Exp $
@


1.17
log
@Use MODGNOME_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/11/04 09:56:28 jasper Exp $
d5 2
a6 2
# git clone of b5a46ddca3b2b207f7f6ba444f9e0f02dc23128e
GNOME_VERSION=		0.2.3.1
a7 1
REVISION=		3
@


1.16
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/10/29 08:12:32 ajacoutot Exp $
d8 1
a8 1
REVISION=		2
d37 1
@


1.15
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/09/28 09:47:46 jasper Exp $
d8 1
a8 1
REVISION=		1
d31 1
a31 1
WANTLIB += xcb-shm xml2 z
@


1.14
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/09/28 08:39:50 jasper Exp $
d8 1
a8 1
REVISION=	0
d24 1
a24 1
WANTLIB += GL ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp
@


1.13
log
@CONFIGURE_STYLE=gnu is already set by Makefile.inc, so zap it here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/20 22:54:25 jasper Exp $
a36 3

CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.12
log
@remove a few more implied CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/09/18 10:09:48 jasper Exp $
a37 1
CONFIGURE_STYLE=	gnu
@


1.11
log
@-add missing build depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/16 12:29:13 espie Exp $
a38 1
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
@


1.10
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/12 14:48:15 jasper Exp $
d51 3
a53 1
BUILD_DEPENDS+=		devel/libtool \
@


1.9
log
@bump to a git checkout that uses gtk3 and new panel-applet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/09/12 12:04:16 jasper Exp $
d8 1
@


1.8
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/03/02 15:00:45 jasper Exp $
d5 2
a6 1
GNOME_VERSION=		0.2.3
d17 1
a17 1
EXTRACT_SUFX=		.tar.bz2
d23 4
a26 7
WANTLIB += ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender art_lgpl_2 atk-1.0 GL Xxf86vm canberra drm
WANTLIB += bonobo-2 bonobo-activation bonoboui-2 c gnome-2 ltdl ogg
WANTLIB += cairo crypto dbus-1 dbus-glib-1 expat fontconfig freetype
WANTLIB += gailutil gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnomecanvas-2 gnomevfs-2 gobject-2.0
d28 3
a30 4
WANTLIB += gtk-x11-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png popt pthread pthread-stubs ssl util
WANTLIB += xcb xcb-render xml2 z panel-applet-2
WANTLIB += xcb-shm vorbis vorbisfile
d32 1
a32 1
LIB_DEPENDS=		x11/gnome/panel \
d37 1
d41 16
a56 1
USE_GROFF =		Yes
@


1.7
log
@- update byzanz to 0.2.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/12/14 09:33:03 ajacoutot Exp $
d15 2
@


1.6
log
@Fix LIB_DEPENDS and WANTLIB to unbreak installation.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/22 08:36:57 espie Exp $
d5 1
a5 1
GNOME_VERSION=		0.2.2
a6 1
REVISION=		1
@


1.5
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/10/19 08:13:56 espie Exp $
d7 1
a7 1
REVISION=		0
d23 2
a24 2
WANTLIB += Xrender art_lgpl_2 atk-1.0 avahi-client avahi-common
WANTLIB += avahi-glib bonobo-2 bonobo-activation bonoboui-2 c
d31 2
a32 1
WANTLIB += xcb xcb-render xcb-render-util xml2 z panel-applet-2
d34 2
a35 1
LIB_DEPENDS=		x11/gnome/panel
@


1.4
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/10/11 08:19:19 jasper Exp $
d33 1
a33 1
LIB_DEPENDS=		::x11/gnome/panel
d40 1
a40 1
USE_GROFF =	Yes
@


1.3
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/07/25 08:15:32 ajacoutot Exp $
d40 1
@


1.2
log
@Switch to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/05/01 07:39:04 jasper Exp $
d7 1
d27 1
a27 1
WANTLIB += glitz gmodule-2.0 gnomecanvas-2 gnomevfs-2 gobject-2.0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d30 1
a30 1
WANTLIB += xcb xcb-render xcb-render-util xml2 z
d32 1
a32 1
LIB_DEPENDS=		panel-applet-2::x11/gnome/panel
@


1.1.1.1
log
@import byzanz 0.2.2

Byzanz is a simple tool to record a running X desktop to an animation suitable
for presentation in a web browser.

ok aja@@

@
text
@@
