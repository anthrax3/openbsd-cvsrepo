head	1.4;
access;
symbols
	OPENBSD_3_8:1.3.0.12
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.10
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.8
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.6
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.4
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.1.1.1.0.2
	OPENBSD_3_2_BASE:1.1.1.1
	nino_020530:1.1.1.1
	nino:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2006.01.09.16.31.52;	author naddy;	state dead;
branches;
next	1.3;

1.3
date	2003.02.19.18.37.57;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2002.11.14.20.52.57;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2002.05.30.09.45.37;	author nino;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.05.30.09.45.37;	author nino;	state Exp;
branches;
next	;


desc
@@


1.4
log
@SHARED_LIBS and USE_LIBTOOL
@
text
@$OpenBSD: patch-ltmain_sh,v 1.3 2003/02/19 18:37:57 marcm Exp $
--- ltmain.sh.orig	Sat Nov 30 18:32:08 2002
+++ ltmain.sh	Fri Jan 24 15:02:58 2003
@@@@ -1037,6 +1037,17 @@@@ compiler."
 	continue
 	;;
 
+      -pthread)
+	case $host in
+	*-*-openbsd*)
+	  deplibs="$deplibs $arg"
+	  ;;
+	*)
+	  continue
+	  ;;
+	esac
+	;;
+
       -module)
 	module=yes
 	continue
@@@@ -1473,6 +1484,9 @@@@ compiler."
 	  fi
 	  continue
 	  ;;
+	-pthread)
+	  continue
+	  ;;
 	%DEPLIBS%)
 	  alldeplibs=yes
 	  continue
@@@@ -1714,11 +1728,6 @@@@ compiler."
 	    continue
 	  fi
 
-	  if test "$installed" = no; then
-	    notinst_deplibs="$notinst_deplibs $lib"
-	    need_relink=yes
-	  fi
-
 	  if test -n "$old_archive_from_expsyms_cmds"; then
 	    # figure out the soname
 	    set dummy $library_names
@@@@ -4412,40 +4421,6 @@@@ relink_command=\"$relink_command\""
     # Exit here if they wanted silent mode.
     test "$show" = ":" && exit 0
 
-    echo "----------------------------------------------------------------------"
-    echo "Libraries have been installed in:"
-    for libdir in $libdirs; do
-      echo "   $libdir"
-    done
-    echo
-    echo "If you ever happen to want to link against installed libraries"
-    echo "in a given directory, LIBDIR, you must either use libtool, and"
-    echo "specify the full pathname of the library, or use the \`-LLIBDIR'"
-    echo "flag during linking and do at least one of the following:"
-    if test -n "$shlibpath_var"; then
-      echo "   - add LIBDIR to the \`$shlibpath_var' environment variable"
-      echo "     during execution"
-    fi
-    if test -n "$runpath_var"; then
-      echo "   - add LIBDIR to the \`$runpath_var' environment variable"
-      echo "     during linking"
-    fi
-    if test -n "$hardcode_libdir_flag_spec"; then
-      libdir=LIBDIR
-      eval flag=\"$hardcode_libdir_flag_spec\"
-
-      echo "   - use the \`$flag' linker flag"
-    fi
-    if test -n "$admincmds"; then
-      echo "   - have your system administrator run these commands:$admincmds"
-    fi
-    if test -f /etc/ld.so.conf; then
-      echo "   - have your system administrator add LIBDIR to \`/etc/ld.so.conf'"
-    fi
-    echo
-    echo "See any operating system documentation about shared libraries for"
-    echo "more information, such as the ld(1) and ld.so(8) manual pages."
-    echo "----------------------------------------------------------------------"
     exit 0
     ;;
 
@


1.3
log
@Update to 1.0.22, which eliminates leaking of toolbar widgets.  Backported
from Bonobo 2.

As usual, an itty-bitty fix generates a huge port update because the
autoconf version was changed too.
@
text
@d1 1
a1 1
$OpenBSD: patch-ltmain_sh,v 1.2 2002/11/14 20:52:57 marcm Exp $
@


1.2
log
@Update to 1.0.21.  Minor bugfix release.

ok todd@@
@
text
@d1 4
a4 4
$OpenBSD$
--- ltmain.sh.orig	Sun Oct  6 12:24:35 2002
+++ ltmain.sh	Tue Oct  8 13:39:20 2002
@@@@ -1249,6 +1249,17 @@@@ EOF
d22 1
a22 1
@@@@ -1836,6 +1847,9 @@@@ EOF
d32 4
a35 4
@@@@ -2079,10 +2093,6 @@@@ EOF
 	link_static=no # Whether the deplib will be linked statically
 	if test -n "$library_names" &&
 	   { test "$prefer_static_libs" = no || test -z "$old_library"; }; then
d40 5
a44 4
 	  # This is a shared library
 	  if test "$linkmode" = lib &&
 	     test "$hardcode_into_libs" = yes; then
@@@@ -4951,40 +4961,6 @@@@ relink_command=\"$relink_command\""
d46 1
a46 1
     test "$show" = : && exit 0
@


1.1
log
@Initial revision
@
text
@d2 3
a4 4
Patch for version 1.4 of libtool
--- ltmain.sh.orig	Thu Apr 11 08:10:55 2002
+++ ltmain.sh	Fri Apr 26 17:13:56 2002
@@@@ -1048,6 +1048,17 @@@@ compiler."
d22 1
a22 1
@@@@ -1484,6 +1495,10 @@@@ compiler."
a28 1
+
d32 4
a35 4
@@@@ -1725,11 +1740,6 @@@@ compiler."
 	    continue
 	  fi
 
d40 4
a43 5
-
 	  if test -n "$old_archive_from_expsyms_cmds"; then
 	    # figure out the soname
 	    set dummy $library_names
@@@@ -4464,40 +4474,6 @@@@ relink_command=\"$relink_command\""
d45 1
a45 1
     test "$show" = ":" && exit 0
@


1.1.1.1
log
@Import bonobo 1.0.20:

Bonobo is the GNOME foundation for writing and implementing reusable
software Components.  Components are pieces of software that provide
a well-defined interface and are designed to be used in cooperation
with other components.  In the Bonobo universe, CORBA is used as
the communication layer that binds components together.

Submitted by Marc Matteo <marcm@@lectroid.net>.
@
text
@@
