head	1.27;
access;
symbols
	OPENBSD_6_1:1.27.0.2
	OPENBSD_6_1_BASE:1.27
	OPENBSD_6_0:1.23.0.2
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.19.0.2
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.18.0.4
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.13.0.2
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.7.0.2
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	jasper_20131611:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2017.01.08.09.06.50;	author ajacoutot;	state Exp;
branches;
next	1.26;
commitid	1yW7o341PkkFkhHI;

1.26
date	2017.01.03.18.54.48;	author shadchin;	state Exp;
branches;
next	1.25;
commitid	4wXCEmNOFtHPEQ29;

1.25
date	2016.10.29.08.26.11;	author jasper;	state Exp;
branches;
next	1.24;
commitid	rzTHI6nx0ckrgaMa;

1.24
date	2016.09.06.15.37.53;	author jeremy;	state Exp;
branches;
next	1.23;
commitid	f4e36rZiISVWq78c;

1.23
date	2016.07.05.06.30.39;	author jasper;	state Exp;
branches;
next	1.22;
commitid	EUpu01CXOSNijgC5;

1.22
date	2016.04.28.09.32.08;	author jasper;	state Exp;
branches;
next	1.21;
commitid	EjCl2AvfsBJJrKKu;

1.21
date	2016.04.20.06.22.34;	author jasper;	state Exp;
branches;
next	1.20;
commitid	SwJsmWvrQga0e6T4;

1.20
date	2016.03.05.16.04.07;	author pascal;	state Exp;
branches;
next	1.19;
commitid	EJSWd5DpdfEFGBlM;

1.19
date	2015.09.19.12.46.29;	author jasper;	state Exp;
branches;
next	1.18;
commitid	zv4Z5I1xjEzmidAh;

1.18
date	2015.07.18.22.29.56;	author ajacoutot;	state Exp;
branches;
next	1.17;
commitid	XyOP5eJxW8KTLfgy;

1.17
date	2015.07.16.17.27.09;	author jeremy;	state Exp;
branches;
next	1.16;
commitid	wGOk1Dw0Jh0UvwX9;

1.16
date	2015.05.03.14.16.46;	author jasper;	state Exp;
branches;
next	1.15;
commitid	4kx15E50EIU6sIif;

1.15
date	2015.04.04.09.21.05;	author ajacoutot;	state Exp;
branches;
next	1.14;
commitid	kS3kwKZogsvzYmEY;

1.14
date	2015.03.31.06.43.45;	author jasper;	state Exp;
branches;
next	1.13;
commitid	ERDwAfNggEyCZr8S;

1.13
date	2014.12.09.09.16.12;	author jasper;	state Exp;
branches;
next	1.12;
commitid	6TpsqKzoyFWTIbWM;

1.12
date	2014.12.07.13.04.56;	author jasper;	state Exp;
branches;
next	1.11;
commitid	9uMgV67uQP2oZMw3;

1.11
date	2014.10.01.08.53.49;	author jasper;	state Exp;
branches;
next	1.10;
commitid	pCvg0d9fwlVlE8IU;

1.10
date	2014.09.24.16.16.29;	author jeremy;	state Exp;
branches;
next	1.9;
commitid	CmcOfuRovtGilHQC;

1.9
date	2014.09.24.15.21.58;	author jeremy;	state Exp;
branches;
next	1.8;
commitid	nRFXbfJTzKmLZJm2;

1.8
date	2014.09.24.09.36.15;	author espie;	state Exp;
branches;
next	1.7;
commitid	hCUtBnvgdiEgreAv;

1.7
date	2014.06.03.11.37.56;	author rpointel;	state Exp;
branches;
next	1.6;
commitid	mhCvjOjZfYKCMljb;

1.6
date	2014.04.02.09.36.12;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2014.04.01.18.06.30;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2014.03.27.13.56.19;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2014.03.25.09.00.47;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2013.11.16.09.42.42;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2013.11.16.09.30.16;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.11.16.09.30.16;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.27
log
@Bump here as well after the devel/llvm subpackaging.
@
text
@# $OpenBSD: Makefile,v 1.26 2017/01/03 18:54:48 shadchin Exp $

COMMENT=		code assistance services for GNOME

GNOME_PROJECT=		gnome-code-assistance
GNOME_VERSION=		3.16.1
REVISION=		3

CATEGORIES=		devel

# LGPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c ffi gee-0.8 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += iconv intl pcre pthread vala-0.34 z

MODULES=		devel/dconf \
			lang/clang \
			lang/python \
			lang/ruby \
			x11/gnome

MODGNOME_TOOLS +=	vala
MODPY_VERSION=		${MODPY_DEFAULT_VERSION_3}

BUILD_DEPENDS=		${RUN_DEPENDS}
RUN_DEPENDS=		devel/llvm>=${MODCLANG_VERSION} \
			devel/py-gobject3${MODPY_FLAVOR} \
			x11/ruby-dbus,${MODRUBY_FLAVOR}>=0.11.0 \
			x11/dbus-python${MODPY_FLAVOR} \
			x11/gnome/gjs

LIB_DEPENDS=		devel/libgee \
			lang/vala

CONFIGURE_ENV=		RUBY="${RUBY}"

# deps/src/github.com/guelfey/go.dbus/transport_unixcred.go:12: undefined: syscall.Ucred
# deps/src/github.com/guelfey/go.dbus/transport_unixcred.go:13: undefined: syscall.UnixCredentials
CONFIGURE_ARGS +=	--disable-go

# python3 vs. python3.3
post-extract:
	sed -i 's,PYTHON_VERSION_MAJOR,PYTHON_VERSION,g' ${WRKSRC}/backends/*/*.in

.include <bsd.port.mk>
@


1.26
log
@Add a MODPY_PYOEXTENSION variable.
Beginning with Python 3.5 .pyo files are no longer used and
have been replaced by a more flexible scheme that includes
the optimization level explicitly in .pyc name (See PEP-488).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2016/10/29 08:26:11 jasper Exp $
d7 1
a7 1
REVISION=		2
@


1.25
log
@sync WANTLIB after vala update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2016/09/06 15:37:53 jeremy Exp $
d7 1
a7 1
REVISION=		1
@


1.24
log
@Bump ruby dependent ports after default ruby version switch from ruby
2.2 to ruby 2.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2016/07/05 06:30:39 jasper Exp $
d7 1
a7 1
REVISION=		0
d15 1
a15 1
WANTLIB += iconv intl pcre pthread vala-0.32 z
@


1.23
log
@bugfix update to gnome-code-assistance-3.16.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2016/04/28 09:32:08 jasper Exp $
d7 1
@


1.22
log
@some more bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/04/20 06:22:34 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.16.0
REVISION=		4
@


1.21
log
@unbreak after vala update to 0.32.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/03/05 16:04:07 pascal Exp $
d7 1
a7 1
REVISION=		3
@


1.20
log
@Bump REVISION for lang/clang MODULE changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/09/19 12:46:29 jasper Exp $
d7 1
a7 1
REVISION=		2
d15 1
a15 1
WANTLIB += pcre pthread vala-0.30 z
a17 1
			devel/gettext \
@


1.19
log
@handle vala 0.30.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/07/18 22:29:56 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
@


1.18
log
@Move to sed -i.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/07/16 17:27:09 jeremy Exp $
d7 1
a7 1
REVISION=		0
d15 1
a15 1
WANTLIB += pcre pthread vala-0.28 z
@


1.17
log
@Switch the default ruby version from ruby 2.1 to 2.2, and bump affected
ports.

OK jcs@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2015/05/03 14:16:46 jasper Exp $
d45 1
a45 1
	perl -pi -e 's,PYTHON_VERSION_MAJOR,PYTHON_VERSION,g' ${WRKSRC}/backends/*/*.in
@


1.16
log
@update to gnome-code-assistance-3.16.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/04/04 09:21:05 ajacoutot Exp $
d7 1
@


1.15
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2015/03/31 06:43:45 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		3.14.0
REVISION=		2
@


1.14
log
@- recognize vala 0.28 and sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2014/12/09 09:16:12 jasper Exp $
d7 1
a7 1
REVISION=		1
@


1.13
log
@explicitly depend on latest version of ruby-dbus as this unbreaks the
ruby code assistance feature
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/12/07 13:04:56 jasper Exp $
d7 1
a7 1
REVISION=		0
d15 1
a15 1
WANTLIB += pcre pthread vala-0.26 z
@


1.12
log
@- update to gnome-code-assistance-3.14.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2014/10/01 08:53:49 jasper Exp $
d7 1
d30 1
a30 1
			x11/ruby-dbus>=0.2.1p0 \
@


1.11
log
@unbreak after recent vala update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2014/09/24 16:16:29 jeremy Exp $
d6 1
a6 3
GNOME_VERSION=		0.3.1

REVISION =		2
a44 4

# XXX: Remove when updating
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.69
@


1.10
log
@Remove setting of MODRUBY_REV explicitly, just use the default ruby

discussed with aja@@ and espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2014/09/24 15:21:58 jeremy Exp $
d8 1
a8 1
REVISION = 1
d16 1
a16 1
WANTLIB += pcre pthread vala-0.24 z
d47 4
@


1.9
log
@Set MODRUBY_REV explicitly, instead of relying on default ruby version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2014/09/24 09:36:15 espie Exp $
a26 1
MODRUBY_REV=		2.1
@


1.8
log
@jeremy didn't bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2014/06/03 11:37:56 rpointel Exp $
d27 1
@


1.7
log
@changed python3 default version so bump revision.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2014/04/02 09:36:12 jasper Exp $
d8 1
a8 1
REVISION = 0
@


1.6
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/04/01 18:06:30 jasper Exp $
d7 2
@


1.5
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2014/03/27 13:56:19 jasper Exp $
d23 1
a23 1
MODGNOME_TOOLS +=		vala
@


1.4
log
@update to gnome-code-assistance-0.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2014/03/25 09:00:47 jasper Exp $
d23 1
a23 1
MODGNOME_TOOLS=		vala
@


1.3
log
@fix for vala-0.24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/11/16 09:42:42 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		0.3.0
REVISION=		1
@


1.2
log
@unbreak js backend; from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/11/16 09:30:16 jasper Exp $
d7 1
a7 1
REVISION=		0
d15 1
a15 1
WANTLIB += pcre pthread vala-0.22 z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@import gnome-code-assistance-0.3.0

gnome-code-assistance is a project which aims to provide common code
assistance services for code editors (simple editors as well as IDEs).
It is an effort to provide a centralized code-assistance as a service
for the GNOME platform instead of having every editor implement their
own solution.

with and ok aja@@
@
text
@@
