head	1.3;
access;
symbols
	OPENBSD_5_4:1.2.0.20
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.18
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.16
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.14
	OPENBSD_5_0:1.2.0.12
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.10
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.1.0.2
	OPENBSD_4_4_BASE:1.1.1.1
	jasper_20080416:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2013.09.17.10.45.37;	author ajacoutot;	state dead;
branches;
next	1.2;

1.2
date	2008.08.19.22.37.40;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2008.04.16.16.05.36;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.04.16.16.05.36;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Remove gnomebaker -- it's an old and unmaintained GNOME2 application.

ok jasper@@
@
text
@$OpenBSD: patch-src_prefsdlg_c,v 1.2 2008/08/19 22:37:40 jasper Exp $
--- src/prefsdlg.c.orig	Mon Aug  4 10:29:47 2008
+++ src/prefsdlg.c	Mon Aug  4 10:33:29 2008
@@@@ -25,6 +25,7 @@@@
 #include "filebrowser.h"
 #include "devices.h"
 
+#define DEVICELIST_COL_ID	DEVICELIST_COL_NODE
 
 /* Prefs dialog glade widget names */
 static const gchar *const widget_prefsdlg = "prefsDlg";
@@@@ -41,7 +42,6 @@@@ static const gchar *const widget_prefsdlg_backend = "c
 
 static const gint DEVICELIST_COL_ICON = 0;
 static const gint DEVICELIST_COL_NAME = 1;
-static const gint DEVICELIST_COL_ID = 2;
 static const gint DEVICELIST_COL_NODE = 3;
 static const gint DEVICELIST_COL_MOUNT = 4;
 static const gint DEVICELIST_WRITE_CDR = 5;
@@@@ -150,15 +150,6 @@@@ prefsdlg_create_device_list()
     gtk_tree_view_column_set_attributes(col, renderer, "text", DEVICELIST_COL_NAME, NULL);
     gtk_tree_view_append_column(GTK_TREE_VIEW(device_list), col);
 
-	/* Second column to display the device id */
-	renderer = gtk_cell_renderer_text_new();
-	col = gtk_tree_view_column_new_with_attributes(_("Id"), renderer,
-            "text", DEVICELIST_COL_ID, NULL);
-	g_object_set_property(G_OBJECT(renderer), "editable", &value);
-	g_signal_connect(renderer, "edited", (GCallback)prefsdlg_device_cell_edited,
-            (gpointer)&DEVICELIST_COL_ID);
-	gtk_tree_view_append_column(GTK_TREE_VIEW(device_list), col);
-
 	/* Third column to display the device node */
 	renderer = gtk_cell_renderer_text_new();
 	col = gtk_tree_view_column_new_with_attributes(_("Node"), renderer,
@@@@ -469,8 +460,13 @@@@ prefsdlg_on_add(GtkButton  *button, gpointer user_data
 	gtk_list_store_set(device_model, &iter,
     		DEVICELIST_COL_ICON, GNOME_STOCK_PIXMAP_CDROM,
     		DEVICELIST_COL_NAME, "New CD Burner",
+#if defined(__OpenBSD__)
+    		DEVICELIST_COL_ID, "",
+    		DEVICELIST_COL_NODE, "/dev/rcd0c",
+#else
     		DEVICELIST_COL_ID, "1,0,0",
     		DEVICELIST_COL_NODE, "/dev/cdrom",
+#endif
     		DEVICELIST_COL_MOUNT, "/mnt/cdrom", -1);
 }
 
@


1.2
log
@- update gnomebaker to 0.6.4
(all our patches are accepted upstream)
- set a default device via gconf (from antoine)

ok ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_prefsdlg_c,v 1.1.1.1 2008/04/16 16:05:36 jasper Exp $
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- src/prefsdlg.c.orig	Sun Sep 16 18:36:33 2007
+++ src/prefsdlg.c	Tue Apr 15 11:24:55 2008
d12 1
a12 1
@@@@ -40,7 +41,6 @@@@ static const gchar *const widget_prefsdlg_backend = "c
d20 1
a20 1
@@@@ -149,15 +149,6 @@@@ prefsdlg_create_device_list()
d36 1
a36 1
@@@@ -465,8 +456,8 @@@@ prefsdlg_on_add(GtkButton  *button, gpointer user_data
d40 1
a40 2
-    		DEVICELIST_COL_ID, "1,0,0",
-    		DEVICELIST_COL_NODE, "/dev/cdrom",
d43 4
@


1.1.1.1
log
@import gnomebaker 0.6.2

GnomeBaker is a free CD/DVD authoring application Unix-like operating systems.

It features:
* Create data CDs.
* Blank RW disks.
* Burn DVDs.
* Copy data CDs.
* Copy audio CDs.
* Support multisession burning.
* Record to and burn from existing CD ISO images.
* Drag and drop to create data CDs (including drag and drop to/from the Nautilus
  file manager).
* Create audio CDs from existing WAV, MP3, FLAC, and Ogg files.
* Integrate with GConf for storage of application settings.

lots of help and ok ajacoutot@@, thanks!
@
text
@@
