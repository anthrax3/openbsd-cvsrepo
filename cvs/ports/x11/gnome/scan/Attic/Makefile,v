head	1.19;
access;
symbols
	OPENBSD_4_8:1.18.0.2
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.15.0.2
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.11.0.2
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.9.0.2
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	ajacoutot_20080414:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2010.09.23.13.21.42;	author ajacoutot;	state dead;
branches;
next	1.18;

1.18
date	2010.07.25.08.15.33;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2010.04.24.22.42.47;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2010.04.24.18.21.48;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.12.21.18.03.19;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.10.15.15.18.14;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.08.11.08.39.39;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.07.12.20.32.02;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.06.25.00.38.37;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2009.03.05.07.50.52;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2009.02.11.15.47.51;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2009.02.11.15.33.52;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2009.01.03.15.00.24;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.11.19.14.18.51;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.10.03.10.15.45;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.06.02.17.58.24;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2008.06.02.14.10.07;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.05.26.08.32.57;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.04.14.12.38.02;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.04.14.12.38.02;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.19
log
@Remove. It doesn't work, hangs my scanner completely, crashes on !gcc4
arches, is not maintained and has been marked as BROKEN for months.

"it's still intree?" jasper@@
@
text
@# $OpenBSD: Makefile,v 1.18 2010/07/25 08:15:33 ajacoutot Exp $

BROKEN=		sigsegv on startup

SHARED_ONLY=	Yes

COMMENT-main=	easy-to-use scanning application for GNOME
COMMENT-gimp=	flegita GIMP plugin for gnome-scan

GNOME_PROJECT=	gnome-scan
GNOME_VERSION=	0.7.2
CATEGORIES=	graphics

PKGNAME-main=	${DISTNAME}
PKGNAME-gimp=	${GNOME_PROJECT}-gimp-${GNOME_VERSION}

REVISION-main=	0
REVISION-gimp=	0

SHARED_LIBS=	gnome-scan	0.0 # .0.0

EXTRACT_SUFX=	.tar.gz

HOMEPAGE=	http://projects.gnome.org/gnome-scan/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

WANTLIB += ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender atk-1.0 babl-0.1
WANTLIB += c cairo dbus-1 dbus-glib-1 execinfo expat fontconfig
WANTLIB += freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += glitz gmodule-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs xcb xcb-render xcb-render-util
WANTLIB += z

MULTI_PACKAGES=	-main # -gimp

MODULES=	devel/gettext \
		x11/gnome

WANTLIB-main=	${WANTLIB} exif gphoto2 gphoto2_port jpeg ltdl tiff usb \
		avahi-client avahi-common sane gegl-0.1 gconf-2

BUILD_DEPENDS=	::lang/vala

LIB_DEPENDS-main= ${LIB_DEPENDS} \
		::graphics/sane-backends \
		::graphics/gegl \
		::devel/gconf2

WANTLIB-gimp=	${WANTLIB} gconf-2 gegl-0.0 gnomescan gimp-2.0 \
		gimpbase-2.0 gimpcolor-2.0 gimpconfig-2.0 gimpmath-2.0 \
		gimpmodule-2.0 gimpui-2.0 gimpwidgets-2.0
LIB_DEPENDS-gimp= ${LIB_DEPENDS} \
		::${BUILD_PKGPATH},-main \
		::graphics/gimp/stable

USE_X11=	Yes
DESKTOP_FILES=	Yes
LIBTOOL_FLAGS=	--tag=disable-static

AUTOCONF_VERSION= 2.64

CONFIGURE_STYLE= autoconf
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-static \
		--disable-gtk-doc
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

.ifndef DEBUG
CONFIGURE_ARGS+=--enable-debug=no
MAKE_FLAGS=	AM_CFLAGS=""
.endif

.include <bsd.port.mk>
@


1.18
log
@Switch to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/04/24 22:42:47 ajacoutot Exp $
@


1.17
log
@Needs vala to build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/04/24 18:21:48 ajacoutot Exp $
d17 3
d47 1
a47 1
		avahi-client avahi-common
d52 7
a58 5
		sane.>=1::graphics/sane-backends \
		gegl-0.1::graphics/gegl \
		gconf-2.>=6::devel/gconf2

WANTLIB-gimp=	${WANTLIB} gconf-2 gegl-0.0
d60 2
a61 2
		gnomescan::${BUILD_PKGPATH},-main \
		gimp-2.0.>=245,gimpbase-2.0,gimpcolor-2.0,gimpconfig-2.0,gimpmath-2.0,gimpmodule-2.0,gimpui-2.0,gimpwidgets-2.0::graphics/gimp/stable
@


1.16
log
@Update to gnome-scan-0.7.2.
It now builds at last... but is still marked as broken as it crashes right
on start. I'm looking into it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/12/21 18:03:19 ajacoutot Exp $
d45 2
@


1.15
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/10/15 15:18:14 ajacoutot Exp $
d3 1
a3 1
BROKEN=		dereferencing pointer (babl/gegl)
d11 1
a11 1
GNOME_VERSION=	0.6.2
d14 2
a15 2
PKGNAME-main=	${DISTNAME}p3
PKGNAME-gimp=	${GNOME_PROJECT}-gimp-${GNOME_VERSION}p1
d17 1
a17 1
SHARED_LIBS=	gnomescan	0.0 # .0.0
d29 8
a36 7
WANTLIB=	ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext \
		Xfixes Xi Xinerama Xrandr Xrender atk-1.0 babl-0.0 c \
		cairo expat fontconfig freetype gdk-x11-2.0 \
		gdk_pixbuf-2.0  glib-2.0 glitz gmodule-2.0 gobject-2.0 \
		gthread-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre pixman-1 png pthread z gio-2.0 \
		dbus-1 dbus-glib-1 pthread-stubs xcb
d38 1
a38 1
MULTI_PACKAGES=	-main -gimp
d48 1
a48 1
		gegl-0.0::graphics/gegl \
d60 3
@


1.14
log
@Mark as BROKEN. It is not compatible with newer babl/gegl and upstream
look more or less unresponsive for now and there hasn't been any new
release for a while.
Add a patch that helps getting the build a bit further.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/08/11 08:39:39 ajacoutot Exp $
d14 1
a14 1
PKGNAME-main=	${DISTNAME}p2
@


1.13
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.12 2009/07/12 20:32:02 ajacoutot Exp $
@


1.12
log
@- better homepage

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/06/25 00:38:37 sthen Exp $
d12 2
a13 2
PKGNAME-main=	${DISTNAME}p1
PKGNAME-gimp=	${GNOME_PROJECT}-gimp-${GNOME_VERSION}p0
d33 1
a33 1
		dbus-1 dbus-glib-1
@


1.11
log
@sync wantlib, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/03/05 07:50:52 ajacoutot Exp $
d12 2
a13 2
PKGNAME-main=	${DISTNAME}p0
PKGNAME-gimp=	${GNOME_PROJECT}-gimp-${GNOME_VERSION}
d19 1
a19 1
HOMEPAGE=	http://www.gnome.org/projects/gnome-scan/
@


1.10
log
@- minor update to gnome-scan 0.6.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/02/11 15:47:51 jasper Exp $
d12 1
a12 1
PKGNAME-main=	${DISTNAME}
d40 3
a42 1
WANTLIB-main=	${WANTLIB} exif gphoto2 gphoto2_port jpeg ltdl tiff usb
@


1.9
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/02/11 15:33:52 jasper Exp $
d9 1
a9 1
GNOME_VERSION=	0.6.1
d12 2
a13 2
PKGNAME-main=	${DISTNAME}p1
PKGNAME-gimp=	${GNOME_PROJECT}-gimp-${GNOME_VERSION}p1
@


1.8
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/01/03 15:00:24 ajacoutot Exp $
d12 2
a13 2
PKGNAME-main=	${DISTNAME}p0
PKGNAME-gimp=	${GNOME_PROJECT}-gimp-${GNOME_VERSION}p0
a19 2

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
@


1.7
log
@- update to gnome-scan-0.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/11/19 14:18:51 ajacoutot Exp $
d12 2
a13 2
PKGNAME-main=	${DISTNAME}
PKGNAME-gimp=	${GNOME_PROJECT}-gimp-${GNOME_VERSION}
@


1.6
log
@- fix dependencies after recent librsvg update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/10/03 10:15:45 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	0.6
d12 2
a13 2
PKGNAME-main=	${DISTNAME}p4
PKGNAME-gimp=	${GNOME_PROJECT}-gimp-${GNOME_VERSION}p2
a28 2
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/${GNOME_PROJECT}/${GNOME_VERSION}/}

d48 1
a48 1
WANTLIB-gimp=	${WANTLIB} gegl-0.0
@


1.5
log
@- fix WANTLIB
- regen PLIST while here
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/06/02 17:58:24 jasper Exp $
d12 2
a13 2
PKGNAME-main=	${DISTNAME}p3
PKGNAME-gimp=	${GNOME_PROJECT}-gimp-${GNOME_VERSION}p1
d33 1
a33 1
		cairo expat fontconfig freetype gconf-2 gdk-x11-2.0 \
d36 2
a37 1
		pangoft2-1.0 pcre pixman-1 png pthread z gio-2.0
d47 2
a48 1
		gegl-0.0::graphics/gegl
@


1.4
log
@sync WANTLIB, bump package version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/06/02 14:10:07 ajacoutot Exp $
d12 2
a13 2
PKGNAME-main=	${DISTNAME}p2
PKGNAME-gimp=	${GNOME_PROJECT}-gimp-${GNOME_VERSION}p0
d36 1
a36 1
		pangoft2-1.0 pcre pixman-1 png pthread z
@


1.3
log
@- remove support for MODGNOME_DEVHELP_FILES from the gnome MODULE ;
it makes more sense to add devhelp as run_depends for gnome-session and
leave it to the user to install it manually for other packages

"if you're as happy as a pig in poop, commit it" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/05/26 08:32:57 ajacoutot Exp $
d12 2
a13 2
PKGNAME-main=	${DISTNAME}p1
PKGNAME-gimp=	${GNOME_PROJECT}-gimp-${GNOME_VERSION}
d36 1
a36 1
		pangoft2-1.0 pcre png pthread z
@


1.2
log
@- since devhelp files are provided, make it run_depends on devhelp so
that we can actually see them

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/04/14 12:38:02 ajacoutot Exp $
d12 1
a12 1
PKGNAME-main=	${DISTNAME}p0
a51 3

RUN_DEPENDS-main=${RUN_DEPENDS} \
		:devhelp-*:x11/gnome/devhelp
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d12 1
a12 1
PKGNAME-main=	${GNOME_PROJECT}-${GNOME_VERSION}
d52 3
@


1.1.1.1
log
@Import gnome-scan-0.6

The GNOME Scan project aims to provide scanning features integrated
throughout the GNOME desktop, similar to printing.  The GNOME Scan
project consists of a C/GObject library upon which are built standalone
applications and plugins for various programs.
The application and plugins are called flegita.


Note:
gnome-scan is still in its early stage. It is not a drop-in
replacement for xsane or alikes (yet); it more suited for for mass
acquisition and ADF scanners.
There's an issue with image enhancement which is being worked on
upstream and the gsane backend may not give good results on all
scanners.

ok jasper@@
@
text
@@
