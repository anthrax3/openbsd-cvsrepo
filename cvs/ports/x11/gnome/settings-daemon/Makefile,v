head	1.167;
access;
symbols
	OPENBSD_6_1:1.161.0.2
	OPENBSD_6_1_BASE:1.161
	OPENBSD_6_0:1.154.0.2
	OPENBSD_6_0_BASE:1.154
	OPENBSD_5_9:1.151.0.2
	OPENBSD_5_9_BASE:1.151
	OPENBSD_5_8:1.148.0.4
	OPENBSD_5_8_BASE:1.148
	OPENBSD_5_7:1.139.0.2
	OPENBSD_5_7_BASE:1.139
	OPENBSD_5_6:1.134.0.2
	OPENBSD_5_6_BASE:1.134
	OPENBSD_5_5:1.122.0.2
	OPENBSD_5_5_BASE:1.122
	OPENBSD_5_4:1.113.0.2
	OPENBSD_5_4_BASE:1.113
	OPENBSD_5_3:1.91.0.2
	OPENBSD_5_3_BASE:1.91
	OPENBSD_5_2:1.77.0.2
	OPENBSD_5_2_BASE:1.77
	OPENBSD_5_1_BASE:1.69
	OPENBSD_5_1:1.69.0.2
	OPENBSD_5_0:1.45.0.2
	OPENBSD_5_0_BASE:1.45
	OPENBSD_4_9:1.39.0.2
	OPENBSD_4_9_BASE:1.39
	OPENBSD_4_8:1.33.0.2
	OPENBSD_4_8_BASE:1.33
	OPENBSD_4_7:1.27.0.2
	OPENBSD_4_7_BASE:1.27
	OPENBSD_4_6:1.20.0.2
	OPENBSD_4_6_BASE:1.20
	OPENBSD_4_5:1.14.0.2
	OPENBSD_4_5_BASE:1.14
	jasper_20081111:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.167
date	2017.07.22.18.25.31;	author ajacoutot;	state Exp;
branches;
next	1.166;
commitid	431CDnnUrNrRb2D2;

1.166
date	2017.05.09.17.25.50;	author ajacoutot;	state Exp;
branches;
next	1.165;
commitid	w9r9fbg8SGSVd46F;

1.165
date	2017.04.22.12.09.05;	author ajacoutot;	state Exp;
branches;
next	1.164;
commitid	7yvGWOu3MU0nF1A8;

1.164
date	2017.04.22.09.18.03;	author ajacoutot;	state Exp;
branches;
next	1.163;
commitid	vlqKaskAVqtbL4V9;

1.163
date	2017.04.17.10.40.28;	author ajacoutot;	state Exp;
branches;
next	1.162;
commitid	Gn9bbOrMLN6Hvd8f;

1.162
date	2017.04.13.07.38.45;	author ajacoutot;	state Exp;
branches;
next	1.161;
commitid	lvCz8KVE6EBCyLTt;

1.161
date	2017.03.15.10.14.40;	author ajacoutot;	state Exp;
branches;
next	1.160;
commitid	yM8BRNqT3GauhEWa;

1.160
date	2017.02.18.17.33.52;	author ajacoutot;	state Exp;
branches;
next	1.159;
commitid	kjw4RQ4AAUYktD89;

1.159
date	2017.02.18.17.32.37;	author ajacoutot;	state Exp;
branches;
next	1.158;
commitid	bw6Y0vDo3oixdVWL;

1.158
date	2017.01.20.13.43.47;	author ajacoutot;	state Exp;
branches;
next	1.157;
commitid	38OgWpHDBnHEjePk;

1.157
date	2016.10.31.10.38.35;	author ajacoutot;	state Exp;
branches;
next	1.156;
commitid	jrSsWhChJHTA5L35;

1.156
date	2016.10.31.10.19.02;	author ajacoutot;	state Exp;
branches;
next	1.155;
commitid	v7CYYS8kKXTJZ3Hg;

1.155
date	2016.10.12.08.17.52;	author ajacoutot;	state Exp;
branches;
next	1.154;
commitid	oSuD4a80NwM1Ua52;

1.154
date	2016.04.25.14.53.50;	author ajacoutot;	state Exp;
branches;
next	1.153;
commitid	TV8IE77XpD3TJR3v;

1.153
date	2016.03.19.11.50.46;	author ajacoutot;	state Exp;
branches;
next	1.152;
commitid	qNKBGZFrdnE0p5hF;

1.152
date	2016.03.18.23.12.21;	author naddy;	state Exp;
branches;
next	1.151;
commitid	KZAl4KEiw6a3Jixw;

1.151
date	2015.11.10.13.44.14;	author ajacoutot;	state Exp;
branches;
next	1.150;
commitid	h9cS70li7128T9Ck;

1.150
date	2015.10.18.13.23.35;	author ajacoutot;	state Exp;
branches;
next	1.149;
commitid	awXeCLuixIkk0VLp;

1.149
date	2015.08.15.11.13.42;	author ajacoutot;	state Exp;
branches;
next	1.148;
commitid	AXPeqyjAAuMdtb7k;

1.148
date	2015.07.21.15.46.32;	author ajacoutot;	state Exp;
branches;
next	1.147;
commitid	qEQsMnvMVxxZNxcD;

1.147
date	2015.07.18.22.29.56;	author ajacoutot;	state Exp;
branches;
next	1.146;
commitid	XyOP5eJxW8KTLfgy;

1.146
date	2015.05.12.15.30.37;	author ajacoutot;	state Exp;
branches;
next	1.145;
commitid	8xhU8BjB0ipsfPjm;

1.145
date	2015.04.15.09.40.54;	author ajacoutot;	state Exp;
branches;
next	1.144;
commitid	dfR1rb9OtImYnGFF;

1.144
date	2015.04.14.11.23.54;	author ajacoutot;	state Exp;
branches;
next	1.143;
commitid	HHgLEA5iF0NNkRhX;

1.143
date	2015.04.04.09.21.07;	author ajacoutot;	state Exp;
branches;
next	1.142;
commitid	kS3kwKZogsvzYmEY;

1.142
date	2015.04.03.11.24.16;	author ajacoutot;	state Exp;
branches;
next	1.141;
commitid	b6BsAV2hp25PCdMR;

1.141
date	2015.03.27.08.16.17;	author ajacoutot;	state Exp;
branches;
next	1.140;
commitid	BUhOiEl2FUSRKwq7;

1.140
date	2015.03.24.13.33.22;	author ajacoutot;	state Exp;
branches;
next	1.139;
commitid	f8ZZsRScYpxuskpH;

1.139
date	2014.11.13.17.31.55;	author ajacoutot;	state Exp;
branches;
next	1.138;
commitid	VjEK5ujMksb4NDTk;

1.138
date	2014.10.14.15.52.07;	author ajacoutot;	state Exp;
branches;
next	1.137;
commitid	Db8sgbHduDrExfUT;

1.137
date	2014.10.06.11.15.03;	author ajacoutot;	state Exp;
branches;
next	1.136;
commitid	jiZifYCI4ivSct01;

1.136
date	2014.10.05.15.51.24;	author ajacoutot;	state Exp;
branches;
next	1.135;
commitid	r2aX1M1pOp3g4Zi5;

1.135
date	2014.09.22.16.38.07;	author ajacoutot;	state Exp;
branches;
next	1.134;
commitid	6Qxxet7mv2eXpSpI;

1.134
date	2014.05.08.17.51.57;	author zhuk;	state Exp;
branches;
next	1.133;

1.133
date	2014.05.05.16.28.18;	author ajacoutot;	state Exp;
branches;
next	1.132;

1.132
date	2014.04.21.13.40.51;	author ajacoutot;	state Exp;
branches;
next	1.131;

1.131
date	2014.04.16.13.24.51;	author ajacoutot;	state Exp;
branches;
next	1.130;

1.130
date	2014.04.08.13.42.35;	author ajacoutot;	state Exp;
branches;
next	1.129;

1.129
date	2014.04.02.09.36.14;	author jasper;	state Exp;
branches;
next	1.128;

1.128
date	2014.04.01.18.06.32;	author jasper;	state Exp;
branches;
next	1.127;

1.127
date	2014.04.01.17.03.15;	author jasper;	state Exp;
branches;
next	1.126;

1.126
date	2014.04.01.13.21.46;	author ajacoutot;	state Exp;
branches;
next	1.125;

1.125
date	2014.04.01.07.40.45;	author ajacoutot;	state Exp;
branches;
next	1.124;

1.124
date	2014.03.28.08.48.41;	author ajacoutot;	state Exp;
branches;
next	1.123;

1.123
date	2014.03.27.11.41.04;	author ajacoutot;	state Exp;
branches;
next	1.122;

1.122
date	2013.11.13.07.10.00;	author ajacoutot;	state Exp;
branches;
next	1.121;

1.121
date	2013.10.16.08.24.11;	author ajacoutot;	state Exp;
branches;
next	1.120;

1.120
date	2013.09.28.08.51.28;	author ajacoutot;	state Exp;
branches;
next	1.119;

1.119
date	2013.09.27.16.03.49;	author ajacoutot;	state Exp;
branches;
next	1.118;

1.118
date	2013.09.27.06.32.53;	author ajacoutot;	state Exp;
branches;
next	1.117;

1.117
date	2013.09.27.06.31.13;	author ajacoutot;	state Exp;
branches;
next	1.116;

1.116
date	2013.09.26.14.51.42;	author ajacoutot;	state Exp;
branches;
next	1.115;

1.115
date	2013.09.26.12.48.01;	author ajacoutot;	state Exp;
branches;
next	1.114;

1.114
date	2013.09.06.14.15.05;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2013.07.20.12.33.11;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2013.06.20.06.54.37;	author ajacoutot;	state Exp;
branches;
next	1.111;

1.111
date	2013.06.17.19.28.37;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2013.06.09.15.26.50;	author ajacoutot;	state Exp;
branches;
next	1.109;

1.109
date	2013.06.09.13.55.52;	author ajacoutot;	state Exp;
branches;
next	1.108;

1.108
date	2013.06.08.11.16.24;	author ajacoutot;	state Exp;
branches;
next	1.107;

1.107
date	2013.06.04.15.32.17;	author ajacoutot;	state Exp;
branches;
next	1.106;

1.106
date	2013.05.31.15.35.10;	author ajacoutot;	state Exp;
branches;
next	1.105;

1.105
date	2013.05.17.15.08.04;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2013.05.14.12.07.12;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2013.04.16.11.40.58;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2013.04.10.14.29.53;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2013.04.04.13.51.30;	author ajacoutot;	state Exp;
branches;
next	1.100;

1.100
date	2013.04.02.16.16.47;	author ajacoutot;	state Exp;
branches;
next	1.99;

1.99
date	2013.04.02.07.22.31;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2013.04.01.19.29.16;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2013.03.30.13.03.45;	author ajacoutot;	state Exp;
branches;
next	1.96;

1.96
date	2013.03.29.16.58.30;	author ajacoutot;	state Exp;
branches;
next	1.95;

1.95
date	2013.03.29.16.04.14;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2013.03.29.14.17.25;	author ajacoutot;	state Exp;
branches;
next	1.93;

1.93
date	2013.03.11.11.46.12;	author espie;	state Exp;
branches;
next	1.92;

1.92
date	2013.03.08.07.01.51;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2013.01.23.19.02.15;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2013.01.18.07.22.27;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2013.01.05.12.53.09;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2013.01.01.14.23.25;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2012.11.14.13.43.30;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2012.11.08.13.17.46;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2012.10.17.11.49.37;	author ajacoutot;	state Exp;
branches;
next	1.84;

1.84
date	2012.10.15.12.13.52;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2012.10.10.12.56.32;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2012.10.08.17.12.55;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2012.10.05.11.25.54;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2012.09.28.08.28.02;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2012.09.28.07.09.22;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2012.08.04.14.50.19;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2012.06.15.08.30.20;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2012.05.28.15.55.12;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2012.05.15.14.21.55;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2012.05.14.17.46.22;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2012.04.28.10.52.09;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2012.04.27.10.59.31;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2012.04.17.10.48.00;	author jasper;	state Exp;
branches;
next	1.70;

1.70
date	2012.03.29.06.47.51;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2011.12.16.11.26.34;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2011.12.03.22.17.17;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2011.11.16.19.25.51;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2011.11.11.09.32.07;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2011.11.09.07.51.32;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2011.11.02.16.42.21;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2011.10.29.08.12.33;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2011.10.17.14.52.00;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2011.10.16.19.23.35;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2011.10.03.10.39.22;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2011.09.30.12.13.24;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2011.09.30.08.48.00;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2011.09.28.09.47.48;	author jasper;	state Exp;
branches;
next	1.56;

1.56
date	2011.09.28.08.39.50;	author jasper;	state Exp;
branches;
next	1.55;

1.55
date	2011.09.27.09.35.06;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2011.09.26.13.23.15;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2011.09.26.10.53.41;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2011.09.26.07.12.11;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2011.09.25.13.13.05;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2011.09.20.22.54.25;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2011.09.19.07.44.59;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2011.09.13.05.55.00;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2011.09.12.12.04.18;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2011.09.12.07.28.54;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2011.05.13.20.37.17;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2011.05.08.17.45.48;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2011.05.04.05.12.23;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2011.04.28.13.10.57;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2011.04.21.07.07.53;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2011.04.06.19.04.50;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.11.22.08.36.58;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2010.11.15.14.04.52;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2010.10.26.14.38.55;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2010.10.18.13.18.15;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.11.08.19.20;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2010.09.30.07.37.26;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2010.07.22.11.26.29;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2010.07.21.20.01.10;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2010.06.22.18.03.23;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2010.04.26.13.28.02;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.04.20.22.55.41;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2010.03.21.10.37.47;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.12.21.18.03.19;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2009.11.12.00.14.53;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2009.10.19.16.35.35;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2009.10.11.22.54.31;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.10.11.22.53.22;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.08.11.08.39.39;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.07.21.12.35.54;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.06.11.18.38.17;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2009.06.10.20.27.09;	author kili;	state Exp;
branches;
next	1.18;

1.18
date	2009.06.08.17.59.15;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.06.07.10.46.41;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2009.04.16.08.17.49;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.04.16.08.11.13;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.02.11.15.47.51;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2009.02.11.15.33.52;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2009.02.02.15.13.08;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.01.20.23.12.28;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2009.01.18.18.05.32;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2008.12.31.15.40.28;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2008.12.31.14.56.47;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2008.12.14.18.46.46;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.11.25.07.43.13;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.11.22.20.38.46;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.11.22.19.45.50;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2008.11.22.10.57.26;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2008.11.21.18.39.58;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.11.11.22.22.41;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.11.11.22.22.41;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.167
log
@Update to gnome-settings-daemon-3.24.3.
@
text
@# $OpenBSD: Makefile,v 1.166 2017/05/09 17:25:50 ajacoutot Exp $

# XXX gcm-dmi.c:141:2: warning: #warning Please add dmi support for your OS

COMMENT=		GNOME settings daemon

GNOME_PROJECT=		gnome-settings-daemon
GNOME_VERSION=		3.24.3

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += FLAC ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xtst atk-1.0
WANTLIB += atk-bridge-2.0 atspi avahi-client avahi-common c cairo
WANTLIB += cairo-gobject canberra canberra-gtk3 colord colordprivate
WANTLIB += cups dbus-1 epoxy execinfo expat ffi fontconfig freetype
WANTLIB += gdbm gdk-3 gdk_pixbuf-2.0 geoclue-2 geocode-glib gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gmp gnome-desktop-3 gnutls gobject-2.0
WANTLIB += graphite2 gthread-2.0 gtk-3 gweather-3 harfbuzz hogweed
WANTLIB += iconv idn2 intl json-glib-1.0 lcms2 ltdl lzma unistring
WANTLIB += m nettle notify nspr4 nss3 nssutil3 ogg p11-kit pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4
WANTLIB += png polkit-gobject-1 pthread pthread-stubs pulse pulse-mainloop-glib
WANTLIB += smime3 sndfile softokn3 soup-2.4 sqlite3 ssl3 tasn1
WANTLIB += upower-glib vorbis vorbisenc vorbisfile xcb xcb-render
WANTLIB += xcb-shm xml2 z

MODULES=		devel/dconf \
			x11/gnome

LIB_DEPENDS=		audio/libcanberra,-gtk3 \
			audio/pulseaudio \
			devel/libnotify \
			geo/geocode-glib \
			graphics/colord \
			print/cups,-libs \
			security/nss \
			sysutils/upower \
			x11/gnome/desktop \
			x11/gnome/libgweather

BUILD_DEPENDS=		devel/gsettings-desktop-schemas
RUN_DEPENDS=		devel/gsettings-desktop-schemas

# share/polkit-1/actions/org.gnome.settings-daemon.plugins.power.policy
RUN_DEPENDS +=		sysutils/polkit

# polkit(8) almost always needs to know the "active" session
RUN_DEPENDS +=		sysutils/consolekit

# plugins/mouse/gsd-mouse-manager.c
RUN_DEPENDS +=		x11/gnome/mousetweaks

# plugins/datetime/geoclue.c
BUILD_DEPENDS +=	geo/geoclue2
RUN_DEPENDS +=		geo/geoclue2

# libexec/gnome-settings-daemon-localeexec
RUN_DEPENDS +=		inputmethods/ibus

# plugins/power/gsd-power-manager.c; optional dependency
# cyclic dep: gnome-session -> gnome-settings-daemon -> gnome-session
#RUN_DEPENDS +=		x11/gnome/session

MODGNOME_TOOLS=		docbook gtk-update-icon-cache

MODGNOME_CPPFLAGS=	-I${X11BASE}/include
MODGNOME_LDFLAGS=	-L${X11BASE}/lib

CONFIGURE_STYLE=	gnu

CONFIGURE_ARGS= 	--disable-gudev \
			--disable-rfkill \
			--disable-network-manager

FAKE_FLAGS=		desktopdir=${PREFIX}/share/examples/gnome-settings-daemon/xdg/autostart \
			sysconfdir=${PREFIX}/share/examples/gnome-settings-daemon \
			DBUS_SYS_DIR=${PREFIX}/share/examples/gnome-settings-daemon/dbus-1/system.d

###
AUTOCONF_VERSION=	2.69
AUTOMAKE_VERSION=	1.15
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/libtool # libtoolize

pre-configure:
	cd ${WRKSRC} && ${SETENV} \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		autoreconf -fi
###

post-install:
	rm ${PREFIX}/lib/gnome-settings-daemon-3.0/*.{a,la}

.include <bsd.port.mk>
@


1.166
log
@Update to gnome-settings-daemon-3.24.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.165 2017/04/22 12:09:05 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.24.2
@


1.165
log
@Don't build the sharing plugin and make that a dummy instead.
We don't support anything from that plugin so... (systemd, network manager,
bluetooth).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.164 2017/04/22 09:18:03 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.24.1
REVISION=		1
@


1.164
log
@No need for the overrides anymore since it's not possible to disable
individual plugins.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.163 2017/04/17 10:40:28 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d81 14
@


1.163
log
@Update to gnome-settings-daemon-3.24.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.162 2017/04/13 07:38:45 ajacoutot Exp $
d9 1
a82 2
	${INSTALL_DATA} ${FILESDIR}/*.gschema.override \
		${PREFIX}/share/glib-2.0/schemas
@


1.162
log
@Stop setting CONFIGURE_STYLE in Makefile.inc but explicitely add it to ports
that need it; in the future more and more ports will move to meson build anyway.
I first though I'd set CONFIGURE_STYLE in gnome.port.mk but it's too fragile
(MODULES list must be sorted very carefully).
Less magic is good.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.161 2017/03/15 10:14:40 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.22.2
a79 5

pre-configure:
	sed -i -e 's,/etc/xdg,${SYSCONFDIR}/xdg,g' \
		-e 's,/usr/share,${LOCALBASE}/share,g' \
		${WRKSRC}/man/gnome-settings-daemon.xml
@


1.161
log
@Update to gnome-settings-daemon-3.22.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.160 2017/02/18 17:33:52 ajacoutot Exp $
d70 2
@


1.160
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.159 2017/02/18 17:32:37 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.22.1
REVISION=		2
@


1.159
log
@idn -> idn2 after gnutls WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2017/01/20 13:43:47 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
@


1.158
log
@Regen WANTLIB to unbreak after pulseaudio lost its dependency on json-c.

reported by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.157 2016/10/31 10:38:35 ajacoutot Exp $
d22 1
a22 1
WANTLIB += iconv idn intl json-glib-1.0 lcms2 ltdl lzma unistring
@


1.157
log
@Re-add sharing for now; it won't work without systemd but it's better to
hide it from the user in gnome-c-c.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.156 2016/10/31 10:19:02 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d22 1
a22 1
WANTLIB += iconv idn intl json-c json-glib-1.0 lcms2 ltdl lzma
@


1.156
log
@Update to gnome-settings-daemon-3.22.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2016/10/12 08:17:52 ajacoutot Exp $
d9 1
a88 8
# XXX
# http://permalink.gmane.org/gmane.comp.gnome.desktop/51950
# https://bugzilla.gnome.org/show_bug.cgi?id=770758#c3
# https://bugzilla.gnome.org/show_bug.cgi?id=766329
# https://bugzilla.gnome.org/show_bug.cgi?id=772736 (systemd --user)
	rm -rf ${PREFIX}/lib/gnome-settings-daemon-3.0/libsharing.so \
		${PREFIX}/lib/gnome-settings-daemon-3.0/sharing.gnome-settings-plugin \
		${PREFIX}/share/glib-2.0/schemas/org.gnome.settings-daemon.plugins.sharing.gschema.xml
@


1.155
log
@Update to gnome-settings-daemon-3.20.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2016/04/25 14:53:50 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.20.2
d88 8
@


1.154
log
@Update to gnome-settings-daemon-3.20.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2016/03/19 11:50:46 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.20.1
@


1.153
log
@Update to gnome-settings-daemon-3.18.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2016/03/18 23:12:21 naddy Exp $
d8 1
a8 1
GNOME_VERSION=		3.18.3
d18 2
a19 2
WANTLIB += gdbm gdk-3 gdk_pixbuf-2.0 geocode-glib gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gmp gnome-desktop-3 gnutls gobject-2.0
d21 7
a27 7
WANTLIB += idn json-c json-glib-1.0 lcms2 ltdl lzma m nettle notify
WANTLIB += nspr4 nss3 nssutil3 ogg p11-kit pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 plc4 plds4 png polkit-gobject-1
WANTLIB += pthread pthread-stubs pulse pulse-mainloop-glib smime3
WANTLIB += sndfile softokn3 soup-2.4 sqlite3 ssl3 tasn1 upower-glib
WANTLIB += vorbis vorbisenc vorbisfile xcb xcb-render xcb-shm
WANTLIB += xml2 z
a29 1
			devel/gettext \
@


1.152
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2015/11/10 13:44:14 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.18.2
d21 1
a21 1
WANTLIB += json-c json-glib-1.0 lcms2 ltdl lzma m nettle notify
@


1.151
log
@Update to gnome-settings-daemon-3.18.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.150 2015/10/18 13:23:35 ajacoutot Exp $
a3 2

SHARED_ONLY=		Yes
@


1.150
log
@Update to gnome-settings-daemon-3.18.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.149 2015/08/15 11:13:42 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		3.18.1
@


1.149
log
@Bump after the consolekit->consolekit2 renaming.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.148 2015/07/21 15:46:32 ajacoutot Exp $
d10 1
a10 2
GNOME_VERSION=		3.16.3
REVISION=		0
@


1.148
log
@Update to gnome-settings-daemon-3.16.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2015/07/18 22:29:56 ajacoutot Exp $
d11 1
@


1.147
log
@Move to sed -i.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2015/05/12 15:30:37 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		3.16.2
@


1.146
log
@Update to gnome-settings-daemon-3.16.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2015/04/15 09:40:54 ajacoutot Exp $
d83 1
a83 1
	perl -pi -e 's,/etc/xdg,${SYSCONFDIR}/xdg,g;' \
@


1.145
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2015/04/14 11:23:54 ajacoutot Exp $
d10 1
a10 2
GNOME_VERSION=		3.16.1
REVISION=		0
@


1.144
log
@Update to gnome-settings-daemon-3.16.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2015/04/04 09:21:07 ajacoutot Exp $
d11 1
@


1.143
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2015/04/03 11:24:16 ajacoutot Exp $
d10 1
a10 2
GNOME_VERSION=		3.16.0
REVISION=		0
@


1.142
log
@Update to gnome-settings-daemon-3.16.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2015/03/27 08:16:17 ajacoutot Exp $
d11 1
@


1.141
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2015/03/24 13:33:22 ajacoutot Exp $
d10 1
a10 2
GNOME_VERSION=		3.14.3
REVISION=		0
d19 1
a19 1
WANTLIB += cups dbus-1 execinfo expat ffi fontconfig freetype
@


1.140
log
@Update to gnome-settings-daemon-3.14.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2014/11/13 17:31:55 ajacoutot Exp $
d11 1
@


1.139
log
@Update to gnome-settings-daemon-3.14.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2014/10/14 15:52:07 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		3.14.2
d19 1
a19 1
WANTLIB += crypto cups dbus-1 execinfo expat ffi fontconfig freetype
d21 4
a24 3
WANTLIB += gmodule-2.0 gnome-desktop-3 gobject-2.0 graphite2 gthread-2.0
WANTLIB += gtk-3 gweather-3 harfbuzz json-c json-glib-1.0 lcms2
WANTLIB += ltdl m notify nspr4 nss3 nssutil3 ogg pango-1.0 pangocairo-1.0
d27 1
a27 1
WANTLIB += sndfile softokn3 soup-2.4 sqlite3 ssl ssl3 upower-glib
d29 1
a29 1
WANTLIB += xml2 z lzma
@


1.138
log
@Update to gnome-settings-daemon-3.14.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2014/10/06 11:15:03 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		3.14.1
d28 1
a28 1
WANTLIB += xml2 z
@


1.137
log
@No need for update-desktop-database.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2014/10/05 15:51:24 ajacoutot Exp $
d10 1
a10 2
GNOME_VERSION=		3.14.0
REVISION=		0
@


1.136
log
@Update to gnome-settings-daemon-3.14.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2014/09/22 16:38:07 ajacoutot Exp $
d11 1
d69 1
a69 1
MODGNOME_TOOLS=		desktop-file-utils docbook gtk-update-icon-cache
@


1.135
log
@Update to gnome-settings-daemon-3.12.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2014/05/08 17:51:57 zhuk Exp $
d10 1
a10 1
GNOME_VERSION=		3.12.3
d22 5
a26 5
WANTLIB += gtk-3 gweather-3 harfbuzz ibus-1.0 json-c json-glib-1.0
WANTLIB += lcms2 ltdl m notify nspr4 nss3 nssutil3 ogg pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4
WANTLIB += png polkit-gobject-1 pthread pthread-stubs pulse pulse-mainloop-glib
WANTLIB += smime3 sndfile softokn3 soup-2.4 sqlite3 ssl ssl3 upower-glib
d28 1
a28 1
WANTLIB += xkbfile xml2 z
a36 1
			inputmethods/ibus \
d61 3
d68 1
a68 1
MODGNOME_TOOLS += desktop-file-utils docbook gtk-update-icon-cache
d74 2
a75 1
			--disable-rfkill
@


1.134
log
@Missing devel/dconf in MODULES. Packaging checked on i386.
Spotted while testing portcheck improvements.
okay ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2014/05/05 16:28:18 ajacoutot Exp $
d10 1
a10 2
GNOME_VERSION=		3.12.2
REVISION=		0
@


1.133
log
@Update to gnome-settings-daemon-3.12.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2014/04/21 13:40:51 ajacoutot Exp $
d11 1
d31 2
a32 1
MODULES=		devel/gettext \
@


1.132
log
@Sync wantlib for kerberos removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2014/04/16 13:24:51 ajacoutot Exp $
d10 1
a10 2
GNOME_VERSION=		3.12.1
REVISION=		0
@


1.131
log
@Update to gnome-settings-daemon-3.12.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2014/04/08 13:42:35 ajacoutot Exp $
d11 1
d17 1
a17 1
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xtst asn1 atk-1.0
d20 7
a26 8
WANTLIB += com_err crypto cups dbus-1 execinfo expat
WANTLIB += ffi fontconfig freetype gdbm gdk-3 gdk_pixbuf-2.0 geocode-glib
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3 gobject-2.0
WANTLIB += graphite2 gssapi gthread-2.0 gtk-3 gweather-3 harfbuzz
WANTLIB += heimbase ibus-1.0 json-c json-glib-1.0 krb5 lcms2 ltdl
WANTLIB += m notify nspr4 nss3 nssutil3 ogg pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 plc4 plds4 png polkit-gobject-1
WANTLIB += pthread pthread-stubs pulse pulse-mainloop-glib roken
d28 1
a28 1
WANTLIB += vorbis vorbisenc vorbisfile wind xcb xcb-render xcb-shm
@


1.130
log
@Bring a couple of bugfixes from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2014/04/02 09:36:14 jasper Exp $
d10 1
a10 2
GNOME_VERSION=		3.12.0.1
REVISION=		1
@


1.129
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2014/04/01 18:06:32 jasper Exp $
d11 1
a11 1
REVISION=		0
@


1.128
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2014/04/01 17:03:15 jasper Exp $
d67 2
a68 1
MODGNOME_TOOLS += docbook  desktop-file-utils  gtk-update-icon-cache
@


1.127
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2014/04/01 13:21:46 ajacoutot Exp $
d67 1
a67 4
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS +=	gtk-update-icon-cache
MODGNOME_TOOLS=		docbook

@


1.126
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 2/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2014/04/01 07:40:45 ajacoutot Exp $
d67 2
a68 2
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
@


1.125
log
@Explicitely disable udev, gudev, systemd and systemd-journal so we know
where they are used.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2014/03/28 08:48:41 ajacoutot Exp $
d11 1
a70 2
LIBTOOL_FLAGS=		--tag=disable-static

d74 1
a74 2
CONFIGURE_ARGS= 	--disable-static \
			--disable-gudev \
d89 1
a89 1
	rm ${PREFIX}/lib/gnome-settings-daemon-3.0/*.la
@


1.124
log
@Move to the new MODGNOME_TOOLS docbook option.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2014/03/27 11:41:04 ajacoutot Exp $
d75 2
a76 4
CONFIGURE_ARGS= 	--disable-static

# Linux stuffs
CONFIGURE_ARGS +=	--disable-gudev \
@


1.123
log
@Update to gnome-settings-daemon-3.12.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2013/11/13 07:10:00 ajacoutot Exp $
a48 3
# man pages
BUILD_DEPENDS +=	textproc/docbook-xsl

d68 1
@


1.122
log
@Update to gnome-settings-daemon-3.10.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2013/10/16 08:24:11 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		3.10.2
d19 1
a19 1
WANTLIB += com_err crypto cups dbus-1 dbus-glib-1 execinfo expat
@


1.121
log
@Update to gnome-settings-daemon-3.10.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2013/09/28 08:51:28 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=		3.10.1
@


1.120
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2013/09/27 16:03:49 ajacoutot Exp $
d10 1
a10 2
GNOME_VERSION=		3.10.0
REVISION=		1
@


1.119
log
@Add comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2013/09/27 06:32:53 ajacoutot Exp $
d11 1
a11 1
REVISION=		0
@


1.118
log
@Human-being readable -- no pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2013/09/27 06:31:13 ajacoutot Exp $
a52 4
# datetime
BUILD_DEPENDS +=	geo/geoclue2
RUN_DEPENDS +=		geo/geoclue2

d61 4
@


1.117
log
@Missing build+run depend on geoclue2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2013/09/26 14:51:42 ajacoutot Exp $
d5 1
a5 1
SHARED_ONLY=	Yes
d7 1
a7 1
COMMENT=	GNOME settings daemon
d9 3
a11 3
GNOME_PROJECT=	gnome-settings-daemon
GNOME_VERSION=	3.10.0
REVISION=	0
d32 2
a33 2
MODULES=	devel/gettext \
		x11/gnome
d35 11
a45 11
LIB_DEPENDS=	audio/libcanberra,-gtk3 \
		audio/pulseaudio \
		devel/libnotify \
		inputmethods/ibus \
		geo/geocode-glib \
		graphics/colord \
		print/cups,-libs \
		security/nss \
		sysutils/upower \
		x11/gnome/desktop \
		x11/gnome/libgweather
d47 2
a48 2
BUILD_DEPENDS=	devel/gsettings-desktop-schemas
RUN_DEPENDS=	devel/gsettings-desktop-schemas
d51 1
a51 1
BUILD_DEPENDS += textproc/docbook-xsl
d54 2
a55 2
BUILD_DEPENDS += geo/geoclue2
RUN_DEPENDS +=	 geo/geoclue2
d58 1
a58 1
RUN_DEPENDS +=	sysutils/polkit
d61 1
a61 1
RUN_DEPENDS +=	sysutils/consolekit
d64 1
a64 1
RUN_DEPENDS += x11/gnome/mousetweaks
d68 1
a68 1
#RUN_DEPENDS +=	x11/gnome/session
d73 1
a73 1
LIBTOOL_FLAGS=	--tag=disable-static
d78 1
a78 1
CONFIGURE_ARGS=	--disable-static
d84 3
a86 3
FAKE_FLAGS=	desktopdir=${PREFIX}/share/examples/gnome-settings-daemon/xdg/autostart \
		sysconfdir=${PREFIX}/share/examples/gnome-settings-daemon \
		DBUS_SYS_DIR=${PREFIX}/share/examples/gnome-settings-daemon/dbus-1/system.d
@


1.116
log
@Update to gnome-settings-daemon-3.10.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2013/09/26 12:48:01 ajacoutot Exp $
d11 1
d52 4
@


1.115
log
@Add some longstanding issues with an XXX that jasper and I used to
maintain in a separate file. It will make it easier for people who want to
help to just 'grep -r XXX' under x11/gnome/ etc...

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2013/09/06 14:15:05 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=	3.8.5
d20 8
a27 6
WANTLIB += ffi fontconfig freetype gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-desktop-3 gobject-2.0 graphite2
WANTLIB += gssapi gthread-2.0 gtk-3 harfbuzz heimbase ibus-1.0
WANTLIB += json-c krb5 lcms2 ltdl m notify ogg pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += pulse pulse-mainloop-glib roken sndfile ssl upower-glib
d29 1
a29 1
WANTLIB += xkbfile z
d34 6
a39 2
LIB_DEPENDS=	devel/libnotify \
		x11/gnome/desktop \
d41 1
a41 2
		audio/pulseaudio \
		audio/libcanberra,-gtk3 \
d43 2
a44 2
		graphics/colord \
		inputmethods/ibus
d73 5
a77 2
CONFIGURE_ARGS=	--disable-static \
		--disable-gudev
@


1.114
log
@Update to gnome-settings-daemon-3.8.5.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.113 2013/07/20 12:33:11 ajacoutot Exp $
@


1.113
log
@Update to gnome-settings-daemon-3.8.4.

ok jasper@@ espie@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2013/06/20 06:54:37 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.8.4
d17 4
a20 4
WANTLIB += crypto cups dbus-1 dbus-glib-1 execinfo expat ffi fontconfig
WANTLIB += freetype gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnome-desktop-3 gobject-2.0 graphite2 gssapi
WANTLIB += gthread-2.0 gtk-3 harfbuzz ibus-1.0 z
d23 3
a25 3
WANTLIB += pulse pulse-mainloop-glib sndfile ssl upower-glib vorbis
WANTLIB += vorbisenc vorbisfile xcb xcb-render xcb-shm xkbfile
WANTLIB += com_err heimbase roken wind
@


1.112
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2013/06/17 19:28:37 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.8.3
REVISION=	3
@


1.111
log
@Some trivial WANTLIB and tweaks to unbreak after the Heimdal update.
Stop hardcoding the Kerberos libs and use krb5-config(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2013/06/09 15:26:50 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
d26 1
a26 1
WANTLIB += com_err heimbase heimntlm hx509 roken wind
@


1.110
log
@s/png16/png/ in WANTLIB now that graphics/png got patched.

prodded by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2013/06/09 13:55:52 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
d21 1
a21 1
WANTLIB += gthread-2.0 gtk-3 harfbuzz ibus-1.0
d26 1
a26 1
WANTLIB += z
@


1.109
log
@Unbreak with new libpng -- until we find a solution for png vs pngXX.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2013/06/08 11:16:24 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d23 1
a23 1
WANTLIB += pangoft2-1.0 pcre pixman-1 png16 pthread pthread-stubs
@


1.108
log
@Update to gnome-settings-daemon-3.8.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2013/06/04 15:32:17 ajacoutot Exp $
d9 1
d23 1
a23 1
WANTLIB += pangoft2-1.0 pcre pixman-1 png15 pthread pthread-stubs
@


1.107
log
@Bump after the pulseaudio update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2013/05/31 15:35:10 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.8.2
REVISION=	2
d22 1
a22 1
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
@


1.106
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2013/05/17 15:08:04 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.105
log
@Fix a crash in the media-keys plugin (upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2013/05/14 12:07:12 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d21 1
a21 1
WANTLIB += gthread-2.0 gtk-3 harfbuzz ibus-1.0 icudata icule icuuc
@


1.104
log
@Update to gnome-settings-daemon-3.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2013/04/16 11:40:58 ajacoutot Exp $
d9 1
@


1.103
log
@Update to gnome-settings-daemon-3.8.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2013/04/10 14:29:53 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.8.1
d21 1
a21 1
WANTLIB += json krb5 lcms2 ltdl m notify ogg pango-1.0 pangocairo-1.0
@


1.102
log
@Fix a race condition that could lead to a crash (upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2013/04/04 13:51:30 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.8.0
REVISION=	6
@


1.101
log
@Better patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2013/04/02 16:16:47 ajacoutot Exp $
d9 1
a9 1
REVISION=	5
@


1.100
log
@No need to explicitely depend on gnome-icon-theme anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2013/04/02 07:22:31 ajacoutot Exp $
d9 1
a9 1
REVISION=	4
@


1.99
log
@Fix a warning.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2013/04/01 19:29:16 ajacoutot Exp $
d9 1
a9 1
REVISION=	3
a53 3

# otherwise we end up without icons on minimal install
RUN_DEPENDS +=	x11/gnome/icon-theme
@


1.98
log
@Fix a runtime crash due to our old xserver.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2013/03/30 13:03:45 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
@


1.97
log
@Anything that uses polkit should really RUN_DEPENDS on consolekit;
otherwise we have no way to know the active session.

discussed/agreed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2013/03/29 16:58:30 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.96
log
@Drop uneeded CONFIGURE_ARGS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2013/03/29 16:04:14 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d48 3
@


1.95
log
@Document the x11/gnome/session cyclic dep.
Fix hardcoded path in man page.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2013/03/29 14:17:25 ajacoutot Exp $
a67 1
		--disable-packagekit \
@


1.94
log
@Update to gnome-settings-daemon-3.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2013/03/11 11:46:12 espie Exp $
d9 1
d55 4
d74 5
@


1.93
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2013/03/08 07:01:51 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.6.4
REVISION=	1
d19 7
a25 8
WANTLIB += gmodule-2.0 gnome-desktop-3 gobject-2.0 gssapi gthread-2.0
WANTLIB += gtk-3 harfbuzz ibus-1.0 icudata icule icuuc json krb5
WANTLIB += lcms2 ltdl m notify nspr4 nss3 nssutil3 ogg pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4
WANTLIB += png pthread pthread-stubs pulse pulse-mainloop-glib
WANTLIB += smime3 sndfile softokn3 sqlite3 ssl ssl3 upower-glib
WANTLIB += vorbis vorbisenc vorbisfile xcb xcb-render xcb-shm
WANTLIB += xkbfile z
d31 1
a31 2
		x11/gnome/desktop>=3.6.0 \
		security/nss \
d33 1
a33 1
		audio/pulseaudio>=2.1 \
d37 1
a37 1
		inputmethods/ibus>=1.5.1
d39 2
a40 2
BUILD_DEPENDS=	devel/gsettings-desktop-schemas>=3.6.0
RUN_DEPENDS=	devel/gsettings-desktop-schemas>=3.6.0
d64 1
a64 2
		--disable-gudev \
		--disable-systemd
@


1.92
log
@Sync WANTLIB after colord update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/01/23 19:02:15 ajacoutot Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.91
log
@xrandr: Don't operate on a NULL object.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/01/18 07:22:27 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d17 4
a20 4
WANTLIB += ICE SM X11 X11-xcb Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xtst asn1
WANTLIB += atk-1.0 atk-bridge-2.0 atspi avahi-client avahi-common
WANTLIB += c cairo cairo-gobject canberra canberra-gtk3 colord
d29 2
a30 1
WANTLIB += vorbis vorbisfile xcb xcb-render xcb-shm xkbfile z
@


1.90
log
@Update to gnome-settings-daemon-3.6.4.
- add schemas overrides instead of patching the schemas themselves
- support for inputmethods with the new ibus
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/01/05 12:53:09 ajacoutot Exp $
d9 1
d17 1
a17 1
WANTLIB += GL ICE SM X11 X11-xcb Xau Xcomposite Xcursor Xdamage
@


1.89
log
@Adapt dependencies after recent print/cups change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/01/01 14:23:25 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.6.3
REVISION=	2
d16 13
a28 13
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm asn1
WANTLIB += atk-1.0 atk-bridge-2.0 atspi c cairo cairo-gobject
WANTLIB += canberra canberra-gtk3 colord crypto cups dbus-1 dbus-glib-1
WANTLIB += drm execinfo expat ffi fontconfig freetype gdbm gdk-3
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3
WANTLIB += gobject-2.0 gssapi gthread-2.0 gtk-3 harfbuzz icudata
WANTLIB += icule icuuc json krb5 lcms2 ltdl m notify nspr4 nss3
WANTLIB += nssutil3 ogg pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += pulse pulse-mainloop-glib smime3 sndfile softokn3 sqlite3
WANTLIB += ssl ssl3 stdc++ upower-glib vorbis vorbisfile xcb xcb-render
WANTLIB += xcb-shm xkbfile z X11-xcb Xtst avahi-client avahi-common
d40 2
a41 1
		graphics/colord
a70 3
# XXX requires ibus >= 1.4.99
CONFIGURE_ARGS += --disable-ibus

d76 2
@


1.88
log
@Bump after the pulseaudio update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2012/11/14 13:43:30 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d29 1
a29 1
WANTLIB += xcb-shm xkbfile z
@


1.87
log
@Bugfix update to gnome-settings-daemon-3.6.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2012/11/08 13:17:46 ajacoutot Exp $
d9 1
@


1.86
log
@Bugfix update to gnome-settings-daemon-3.6.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2012/10/17 11:49:37 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.6.2
@


1.85
log
@Bump pulseaudio requirements.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2012/10/15 12:13:52 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.6.1
REVISION=	2
@


1.84
log
@Remove pulseaudio -rpath hack.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2012/10/10 12:56:32 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
d38 1
a38 1
		audio/pulseaudio \
@


1.83
log
@The mouse applet can make use of "mousetweaks", so add it as a dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2012/10/08 17:12:55 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d64 1
a64 1
MODGNOME_LDFLAGS=	-L${X11BASE}/lib -Wl,-rpath,${LOCALBASE}/lib/pulseaudio
@


1.82
log
@Update to gnome-settings-daemon-3.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2012/10/05 11:25:54 ajacoutot Exp $
d9 1
d51 3
@


1.81
log
@Missing build depends on textproc/docbook-xsl.

spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2012/09/28 08:28:02 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.6.0
REVISION=	0
d16 9
a24 8
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm asn1 atk-1.0 c cairo
WANTLIB += cairo-gobject canberra canberra-gtk3 colord crypto
WANTLIB += cups dbus-1 dbus-glib-1 drm execinfo expat ffi fontconfig
WANTLIB += freetype gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnome-desktop-3 gnomekbd gnomekbdui gobject-2.0
WANTLIB += gssapi gthread-2.0 gtk-3 json krb5 lcms2 ltdl m notify
WANTLIB += nspr4 nss3 nssutil3 ogg pango-1.0 pangocairo-1.0 pangoft2-1.0
d28 1
a28 2
WANTLIB += xcb-shm xkbfile xklavier xml2 z icuuc
WANTLIB += ICE SM atk-bridge-2.0 atspi harfbuzz icudata icule
a34 1
		x11/gnome/libgnomekbd>=3.6.0 \
@


1.80
log
@Remove libtool archives from modules.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2012/09/28 07:09:22 ajacoutot Exp $
d46 3
@


1.79
log
@Update to gnome-settings-daemon-3.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2012/08/04 14:50:19 ajacoutot Exp $
d9 1
d72 3
@


1.78
log
@Fix build with cups >= 1.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2012/06/15 08:30:20 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.4.2
REVISION=	2
d27 2
a28 1
WANTLIB += xcb-shm xkbfile xklavier xml2 z
d33 3
a35 3
LIB_DEPENDS=	devel/libnotify>=0.7.2 \
		x11/gnome/desktop \
		x11/gnome/libgnomekbd \
d43 2
a44 2
BUILD_DEPENDS=	devel/gsettings-desktop-schemas
RUN_DEPENDS=	devel/gsettings-desktop-schemas
d50 1
a50 1
RUN_DEPENDS+=	x11/gnome/icon-theme
d65 4
a68 1
FAKE_FLAGS+=	desktopdir=${PREFIX}/share/examples/gnome-settings-daemon/xdg/autostart \
a70 12

AUTOCONF_VERSION=	2.68
AUTOMAKE_VERSION=	1.11
BUILD_DEPENDS +=devel/autoconf/${AUTOCONF_VERSION} \
		devel/automake/${AUTOMAKE_VERSION} \
		devel/libtool

pre-configure:
	@@cd ${WRKSRC} && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		autoreconf -i
@


1.77
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2012/05/28 15:55:12 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
d37 2
a38 2
		print/cups \
		audio/pulseaudio>=2.0 \
@


1.76
log
@colord pkgpath changed, so bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2012/05/15 14:21:55 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
@


1.75
log
@Bugfix update to gnome-settings-daemon-3.4.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2012/05/14 17:46:22 ajacoutot Exp $
d9 1
@


1.74
log
@Add -rpath after pulseaudio update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2012/04/28 10:52:09 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.4.1
REVISION=	1
@


1.73
log
@--localstatedir=/var is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2012/04/27 10:59:31 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d38 1
a38 1
		audio/pulseaudio \
d58 1
a58 1
MODGNOME_LDFLAGS=	-L${X11BASE}/lib
@


1.72
log
@Properly disable wacom support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2012/04/17 10:48:00 jasper Exp $
a60 1
		--localstatedir=/var \
@


1.71
log
@- update to 3.4.1
* bug fixes and translation updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2012/03/29 06:47:51 ajacoutot Exp $
d9 1
d69 12
@


1.70
log
@Update to gnome-settings-daemon-3.4.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/12/16 11:26:34 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.4.0
@


1.69
log
@Sync patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/12/03 22:17:17 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.2.2
REVISION=	3
d20 8
a27 9
WANTLIB += freetype gconf-2 gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-desktop-3 gnomekbd gnomekbdui
WANTLIB += gobject-2.0 gssapi gthread-2.0 gtk-3 json krb5 lcms2
WANTLIB += ltdl m notify nspr4 nss3 nssutil3 ogg pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 plc4 plds4 png polkit-gobject-1
WANTLIB += pthread pthread-stubs pulse pulse-mainloop-glib smime3
WANTLIB += sndfile softokn3 sqlite3 ssl ssl3 stdc++ upower-glib
WANTLIB += vorbis vorbisfile xcb xcb-render xcb-shm xkbfile xklavier
WANTLIB += xml2 z
a34 1
		sysutils/polkit \
d45 3
d58 1
d60 1
d63 1
a63 1
		--with-pnpids=${LOCALBASE}/share/libgnome-desktop-3.0/pnp.ids
@


1.68
log
@Use MODGNOME_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/11/16 19:25:51 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
@


1.67
log
@Remove this patch; it's wrong and introduced a segfault at logout.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/11/11 09:32:07 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
d52 1
@


1.66
log
@Don't try to get values from sysfs, that's linux-only.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/11/09 07:51:32 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
@


1.65
log
@Bugfix update to gnome-settings-daemon-3.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/11/02 16:42:21 ajacoutot Exp $
d9 1
@


1.64
log
@Enable colord.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/10/29 08:12:33 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.2.1
REVISION=	1
@


1.63
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/10/17 14:52:00 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d17 13
a29 13
WANTLIB += GL X11 Xau Xcomposite Xcursor json
WANTLIB += Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender
WANTLIB += Xxf86vm asn1 atk-1.0 c cairo cairo-gobject
WANTLIB += canberra canberra-gtk3 crypto cups dbus-1 dbus-glib-1
WANTLIB += drm execinfo expat ffi fontconfig freetype gconf-2
WANTLIB += gdbm gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-desktop-3 gnomekbd gnomekbdui gobject-2.0 gssapi
WANTLIB += gthread-2.0 gtk-3 krb5 ltdl m notify nspr4 nss3
WANTLIB += nssutil3 ogg pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png polkit-gobject-1 pthread
WANTLIB += pthread-stubs pulse pulse-mainloop-glib smime3 sndfile
WANTLIB += softokn3 sqlite3 ssl ssl3 vorbis vorbisfile xcb xcb-render
WANTLIB += xcb-shm xkbfile xklavier xml2 z upower-glib
d42 2
a43 1
		sysutils/upower
@


1.62
log
@Update to gnome-settings-daemon-3.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2011/10/16 19:23:35 ajacoutot Exp $
d9 1
d17 1
a17 1
WANTLIB += GL ORBit-2 X11 Xau Xcomposite Xcursor json
@


1.61
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2011/10/03 10:39:22 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.2.0
REVISION=	3
d16 1
a16 1
WANTLIB += GL ICE ORBit-2 SM X11 X11-xcb Xau Xcomposite Xcursor
d18 1
a18 1
WANTLIB += Xtst Xxf86vm asn1 atk-1.0 c cairo cairo-gobject
@


1.60
log
@Use gtk_paper_size_get_default, from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/09/30 12:13:24 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
d24 1
a24 1
WANTLIB += gthread-2.0 gtk-3 krb5 kvm ltdl m notify nspr4 nss3
@


1.59
log
@Revert previous. Setting this env var shouldn't have any bad effects.
The issue I've been seeing with locales and glom comes from elsewhere.
(currently being worked on)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/09/30 08:48:00 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.58
log
@Do not set LC_MEASUREMENT in the environment, we do not support that
locale definition.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2011/09/28 09:47:48 jasper Exp $
d9 1
a9 1
REVISION=	0
@


1.57
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/09/28 08:39:50 jasper Exp $
d9 1
@


1.56
log
@CONFIGURE_STYLE=gnu is already set by Makefile.inc, so zap it here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/09/27 09:35:06 ajacoutot Exp $
d53 2
a54 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"
@


1.55
log
@Update to gnome-settings-daemon-3.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/09/26 13:23:15 ajacoutot Exp $
a52 1
CONFIGURE_STYLE=gnu
@


1.54
log
@Missing BUILD+RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/09/26 10:53:41 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.0.3
REVISION=	3
d18 1
a18 1
WANTLIB += Xtst Xxf86misc Xxf86vm asn1 atk-1.0 c cairo cairo-gobject
d28 1
a28 1
WANTLIB += xcb-shm xkbfile xklavier xml2 z
d40 2
a41 1
		audio/libcanberra,-gtk3
d58 2
a59 1
		--disable-gudev
@


1.53
log
@Fix the xrandr @@sample dir path.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/09/26 07:12:11 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
d43 3
d47 1
a47 1
RUN_DEPENDS=	x11/gnome/icon-theme
@


1.52
log
@No need for startup-notification anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/09/25 13:13:05 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.51
log
@Enable media keys support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/09/20 22:54:25 jasper Exp $
d9 1
a9 1
REVISION=	0
d28 2
a29 3
WANTLIB += softokn3 sqlite3 ssl ssl3 startup-notification-1 vorbis
WANTLIB += vorbisfile xcb xcb-aux xcb-render xcb-shm xkbfile xklavier
WANTLIB += xml2 z
@


1.50
log
@remove a few more implied CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/09/19 07:44:59 ajacoutot Exp $
d9 1
d17 6
a22 5
WANTLIB += GL ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86misc
WANTLIB += Xxf86vm asn1 atk-1.0 c cairo cairo-gobject crypto cups
WANTLIB += dbus-1 dbus-glib-1 drm execinfo expat fontconfig freetype
WANTLIB += gconf-2 gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
d24 7
a30 6
WANTLIB += gthread-2.0 gtk-3 krb5 m notify nspr4 nss3 nssutil3
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += plc4 plds4 png polkit-gobject-1 pthread pthread-stubs
WANTLIB += smime3 softokn3 sqlite3 ssl ssl3 startup-notification-1
WANTLIB += xcb xcb-aux xcb-render xcb-shm xkbfile
WANTLIB += xklavier xml2 z X11-xcb
d40 3
a42 1
		print/cups
a54 1
		--disable-pulse \
@


1.49
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/09/13 05:55:00 ajacoutot Exp $
d49 1
a49 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-static \
@


1.48
log
@Do not force EXTRACT_SUFX.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/09/12 12:04:18 jasper Exp $
d42 1
a42 1
DESKTOP_FILES=	Yes
@


1.47
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/09/12 07:28:54 jasper Exp $
a14 2

EXTRACT_SUFX=		.tar.bz2
@


1.46
log
@Moar GNOME3 merge
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/08/25 11:42:59 ajacoutot Exp $
d15 2
@


1.45
log
@Remove obsolete pre-configure target (no pkg change).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/05/08 17:45:48 jasper Exp $
d8 1
a8 3
GNOME_VERSION=	2.32.1

REVISION=	4
d18 10
a27 9
WANTLIB += Xxf86vm atk-1.0 c cairo dbus-1 dbus-glib-1 drm execinfo
WANTLIB += expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-2 gnomekbd
WANTLIB += gnomekbdui gobject-2.0 gthread-2.0 gtk-x11-2.0 m notify
WANTLIB += nspr4 nss3 nssutil3 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png polkit-gobject-1 pthread
WANTLIB += pthread-stubs smime3 softokn3 sqlite3 ssl3 startup-notification-1
WANTLIB += xcb xcb-atom xcb-aux xcb-event xcb-render xcb-shm xkbfile
WANTLIB += xklavier xml2 z
d30 1
a30 2
		x11/gnome \
		devel/gconf2
a31 1
BUILD_DEPENDS=	textproc/rarian
d36 2
a37 1
		security/nss
d43 2
a44 1
MODGCONF2_SCHEMAS_DIR= control-center2
d49 5
a53 2
CONFIGURE_ARGS=	${CONFIUGRE_SHARED} \
		--disable-pulse
@


1.44
log
@fix WANTLIB

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/05/04 05:12:23 ajacoutot Exp $
a55 3

pre-configure:
	${SUBST_CMD} ${WRKSRC}/gnome-settings-daemon/gnome-settings-module.c
@


1.43
log
@deamon -> daemon, from richardtoohey.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/04/28 13:10:57 ajacoutot Exp $
d10 1
a10 1
REVISION=	3
d38 2
a39 1
		sysutils/polkit
@


1.42
log
@Regen dependencies after recent updates: drop eggdbus dependency.
(this will also fix a symbol conflict between libeggdbus and glib2)

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/04/21 07:07:53 ajacoutot Exp $
d10 1
a10 1
REVISION=	2
@


1.41
log
@Fix build/run with new libnotify.

tested in a bulk by landry, thanks!
ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/04/06 19:04:50 ajacoutot Exp $
d10 1
a10 1
REVISION=	1
d18 11
a28 11
WANTLIB += ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86misc atk-1.0
WANTLIB += c cairo dbus-1 dbus-glib-1 execinfo expat fontconfig
WANTLIB += freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs startup-notification-1 xcb
WANTLIB += xcb-atom xcb-aux xcb-event xkbfile xklavier xml2 z
WANTLIB += xcb-render GL Xxf86vm drm xcb-shm notify gnome-desktop-2
WANTLIB += gnomekbd gnomekbdui ssl3 polkit-gobject-1 sqlite3
WANTLIB += eggdbus-1 nspr4 nss3 nssutil3 plc4 plds4 smime3 softokn3
@


1.40
log
@Remove now unneeded patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/11/22 08:36:58 espie Exp $
d10 1
a10 1
REVISION=	0
d35 1
a35 1
LIB_DEPENDS=	devel/libnotify \
@


1.39
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/11/15 14:04:52 ajacoutot Exp $
d9 2
@


1.38
log
@Bugfix update to gnome-settings-daemon 2.32.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/10/26 14:38:55 jasper Exp $
d32 5
a36 5
BUILD_DEPENDS=	::textproc/rarian
LIB_DEPENDS=	::devel/libnotify \
		::x11/gnome/desktop \
		::x11/gnome/libgnomekbd \
		::sysutils/polkit
d39 1
a39 1
RUN_DEPENDS=	::x11/gnome/icon-theme
@


1.37
log
@- set SHARED_ONLY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/10/18 13:18:15 jasper Exp $
d8 1
a8 2
GNOME_VERSION=	2.32.0
REVISION=	1
d24 1
a24 1
WANTLIB += xcb-render xcb-render-util notify gnome-desktop-2
@


1.36
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.35 2010/10/11 08:19:20 jasper Exp $
d9 1
a9 1
REVISION=	0
@


1.35
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/09/30 07:37:26 ajacoutot Exp $
a39 1
USE_X11=	Yes
@


1.34
log
@Update to gnome-settings-daemon-2.32.0.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/07/22 11:26:29 ajacoutot Exp $
d7 1
d19 1
a19 1
WANTLIB += glitz gmodule-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0
@


1.33
log
@Restore media-keys functionnality. From GNOME perspective, binding a key
to an action requires pulseaudio... yeah right...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/07/21 20:01:10 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	2.30.2
REVISION=	1
d23 2
a24 1
WANTLIB += gnomekbd gnomekbdui
d33 2
a34 1
		::x11/gnome/libgnomekbd
d49 3
a51 1
FAKE_FLAGS+=	desktopdir=${PREFIX}/share/gnome-settings-daemon/autostart
@


1.32
log
@Remove non existent configure args.
Move to new DEPENDS while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/06/22 18:03:23 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
@


1.31
log
@Bugfix update to gnome-settings-daemon-2.30.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/04/26 13:28:02 ajacoutot Exp $
d7 1
d23 2
a24 1
WANTLIB += xcb-render xcb-render-util
d31 3
a33 3
LIB_DEPENDS=	notify::devel/libnotify \
		gnome-desktop-2.>=6::x11/gnome/desktop \
		gnomekbd,gnomekbdui.>=4::x11/gnome/libgnomekbd
a45 2
		--disable-alsa \
		--disable-esd \
@


1.30
log
@Bugfix update to gnome-settings-daemon-2.30.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/04/20 22:55:41 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.30.1
@


1.29
log
@Update to gnome-settings-daemon-2.30.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/03/21 10:37:47 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.30.0
@


1.28
log
@Update to gnome-settings-daemon-2.28.2.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/12/21 18:03:19 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.28.2
d22 1
d31 1
a31 1
		gnomekbd::x11/gnome/libgnomekbd
@


1.27
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/11/12 00:14:53 jasper Exp $
d6 1
a6 2
GNOME_VERSION=	2.28.1
PKGNAME=	${DISTNAME}p1
@


1.26
log
@- minor cleanups:
* regen PLIST
* use FAKE_FLAGS
* add a comment to patch-gnome-settings-daemon_gnome-settings-module_c
* remove bogus chunk from patch-plugins_media-keys_gsd-media-keys-manager_c
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/10/19 16:35:35 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
@


1.25
log
@Bugfix update to gnome-settings-daemon-2.28.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/10/11 22:54:31 ajacoutot Exp $
d7 1
d47 2
@


1.24
log
@I have a goldfish memory, so add a small comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/10/11 22:53:22 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.28.0
@


1.23
log
@Major update to gnome-settings-daemon-2.28.0.
Make this run_depends on gnome-icon-theme so that we have a minimal
working configuration.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/08/11 08:39:39 ajacoutot Exp $
d31 2
@


1.22
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/07/21 12:35:54 ajacoutot Exp $
d3 1
a3 1
COMMENT=		GNOME settings daemon
d5 2
a6 3
GNOME_PROJECT=		gnome-settings-daemon
GNOME_VERSION=		2.24.1
PKGNAME=		${DISTNAME}p13
d14 30
a43 37
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite \
		Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender Xxf86misc art_lgpl_2 atk-1.0 \
		avahi-client avahi-common avahi-glib \
		bonobo-2 bonobo-activation bonoboui-2 c cairo crypto \
		dbus-1 dbus-glib-1 expat fontconfig freetype \
		gailutil gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 \
		glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2 \
		gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2 \
		gobject-2.0 gstbase-0.10 gstreamer-0.10 gthread-2.0 \
		gtk-x11-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
		pcre pixman-1 png popt pthread ssl pthread-stubs xcb \
		startup-notification-1 util xkbfile xklavier xml2 z

MODULES=		devel/gettext \
			x11/gnome \
			devel/gconf2

BUILD_DEPENDS=		::textproc/rarian
LIB_DEPENDS=		notify::devel/libnotify \
			gnome-desktop-2.>=6::x11/gnome/desktop \
			gnomekbd::x11/gnome/libgnomekbd \
			gstinterfaces-0.10,gstaudio-0.10::multimedia/gstreamer-0.10/plugins-base

USE_X11=		Yes
DESKTOP_FILES=		Yes
MODGCONF2_SCHEMAS_DIR=	control-center2

CONFIGURE_STYLE=	gnu
CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"
CONFIGURE_ARGS+=	--disable-alsa \
			--disable-esd

# We can't have both OSS and GStreamer support for the media-keys plugin.
# We choose for GStreamer.
CONFIGURE_ARGS+=	--enable-gstreamer
@


1.21
log
@Fix device insertion command.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/06/11 18:38:17 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p12
d26 1
a26 1
		pcre pixman-1 png popt pthread ssl \
@


1.20
log
@Bump after recent gconf2 MODULE change.
gconf2 MODULE was tricky to get right for *all* ports. I think I finally
got it, if you see any fallout, please contact me asap.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/06/10 20:27:09 kili Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p11
@


1.19
log
@
WANTLIB changes due to avahi dependency. Bump affected PKGNAMEs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/06/08 17:59:15 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p10
@


1.18
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/06/07 10:46:41 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p9
d18 1
@


1.17
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/04/16 08:17:49 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p8
@


1.16
log
@- really remove the scrollkeeper-update hack
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/04/16 08:11:13 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p7
d20 1
a20 1
		gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 \
d29 2
a30 1
			x11/gnome
d40 1
d45 1
a45 3
CONFIGURE_ARGS+=	--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/control-center2 \
			--disable-schemas-install \
			--disable-alsa \
@


1.15
log
@- now that we have rarian, the 'scrollkeeper-update -> /bin/true' hack
is not needed as the legacy scrollkeeper-update provided by rarian does
not do anything anymore

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/02/11 15:47:51 jasper Exp $
a50 3

post-patch:
	@@ln -s /usr/bin/true ${WRKDIR}/bin/scrollkeeper-update
@


1.14
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/02/11 15:33:52 jasper Exp $
d31 1
@


1.13
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/02/02 15:13:08 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p6
@


1.12
log
@- fix 2 crashes under VNC displays:
* patch-plugins_mouse_gsd-mouse-manager_c is from upstream SVN: fix crash
with X servers that don't provide XInput
* patch-gnome-settings-daemon_gnome-settings-module_c: disable loading of
the keyboard plugin under VNC-like displays

"commit it" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/01/20 23:12:28 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p5
@


1.11
log
@- disable esound support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/01/18 18:05:32 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p4
d53 3
@


1.10
log
@- set the gconftool-2 @@exec the same way as others ; we want to see the
warnings if there are some
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/12/31 15:40:28 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
d17 1
a17 1
		Xrender Xxf86misc art_lgpl_2 atk-1.0 audiofile \
d19 1
a19 1
		dbus-1 dbus-glib-1 esd expat fontconfig freetype \
d25 1
a25 1
		pcre pixman-1 png popt pthread sndio ssl \
d45 1
a45 1
			--enable-esd
@


1.9
log
@- bah, fix previous fix...
*sigh* I'm happy this year will be over soon
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/12/31 14:56:47 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.8
log
@- fix typo that would prevent smooth upgrade

from Mikolaj Kucharski, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/12/14 18:46:46 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.7
log
@- remove all run_depends, there are not needed (control-center2 already
references these)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/11/25 07:43:13 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.6
log
@- bugfix update to gnome-settings-daemon-2.24.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/11/22 20:38:46 ajacoutot Exp $
d7 1
d17 10
a26 10
		Xrender Xxf86misc art_lgpl_2 atk-1.0 audiofile bonobo-2 \
		bonobo-activation bonoboui-2 c cairo crypto dbus-1 \
		dbus-glib-1 esd expat fontconfig freetype gailutil \
		gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glade-2.0 \
		glib-2.0 glitz gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2 \
		gnomeui-2 gnomevfs-2 gobject-2.0 gstaudio-0.10 gstbase-0.10 \
		gstinterfaces-0.10 gstreamer-0.10 gthread-2.0 gtk-x11-2.0 \
		m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 \
		png popt pthread ssl startup-notification-1 util xkbfile \
		xklavier xml2 z
d33 2
a34 6
			gnomekbd::x11/gnome/libgnomekbd
BUILD_DEPENDS=		::multimedia/gstreamer-0.10/plugins-base,-gnome
RUN_DEPENDS=		:shared-mime-info->=0.21:misc/shared-mime-info \
			::multimedia/gstreamer-0.10/plugins-base,-gnome \
			::multimedia/gstreamer-0.10/plugins-good,-esd \
			::multimedia/gstreamer-0.10/plugins-good,-gconf
d38 1
d46 3
a48 1
# We can't have both OSS and GStreamer support. We choose for GStreamer.
@


1.5
log
@- quiet up gconftool-2 until x11/gnome/controlcenter2 is fixed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/11/22 19:45:50 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		2.24.0
PKGNAME=		${DISTNAME}p3
@


1.4
log
@- fix build on an empty box

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/11/22 10:57:26 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.3
log
@- remove some bogus configure switches
- make it more clear why we choose gstreamer and not oss (we can't have both)
- explicitly disable pulseaudio

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/11/21 18:39:58 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d34 1
d36 1
@


1.2
log
@- explicitely disable pulseaudio

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/11/11 22:22:41 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d45 4
a48 6
			--disable-scrollkeeper \
                        --disable-hal \
                        --disable-alsa \
                        --enable-esd \
                        --enable-gstreamer \
			--disable-pulseaudio
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
d49 2
a50 1
                        --enable-gstreamer
@


1.1.1.1
log
@import gnome-settings-daemon 2.24.0 (not linked to the builds yet)

GNOME settings deamon to control settings and preferences throughout the
desktop.

this used to be part of gnome-control-center, but it was split of.
it depends on some stuff not committed yet (e.g. gnome-desktop update),
but having it in tree allows the gtk-frogs to test it more easily. 

@
text
@@
