head	1.67;
access;
symbols
	OPENBSD_6_1:1.67.0.4
	OPENBSD_6_1_BASE:1.67
	OPENBSD_6_0:1.67.0.2
	OPENBSD_6_0_BASE:1.67
	OPENBSD_5_9:1.66.0.2
	OPENBSD_5_9_BASE:1.66
	OPENBSD_5_8:1.66.0.4
	OPENBSD_5_8_BASE:1.66
	OPENBSD_5_7:1.65.0.2
	OPENBSD_5_7_BASE:1.65
	OPENBSD_5_6:1.64.0.4
	OPENBSD_5_6_BASE:1.64
	OPENBSD_5_5:1.64.0.2
	OPENBSD_5_5_BASE:1.64
	OPENBSD_5_4:1.63.0.2
	OPENBSD_5_4_BASE:1.63
	OPENBSD_5_3:1.57.0.2
	OPENBSD_5_3_BASE:1.57
	OPENBSD_5_2:1.56.0.2
	OPENBSD_5_2_BASE:1.56
	OPENBSD_5_1_BASE:1.51
	OPENBSD_5_1:1.51.0.2
	OPENBSD_5_0:1.46.0.2
	OPENBSD_5_0_BASE:1.46
	OPENBSD_4_9:1.41.0.2
	OPENBSD_4_9_BASE:1.41
	OPENBSD_4_8:1.31.0.2
	OPENBSD_4_8_BASE:1.31
	OPENBSD_4_7:1.29.0.2
	OPENBSD_4_7_BASE:1.29
	OPENBSD_4_6:1.24.0.2
	OPENBSD_4_6_BASE:1.24
	OPENBSD_4_5:1.19.0.2
	OPENBSD_4_5_BASE:1.19
	OPENBSD_4_4:1.15.0.2
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.12.0.2
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.10.0.2
	OPENBSD_4_2_BASE:1.10
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2
	alek_20060617:1.1.1.1
	alek:1.1.1;
locks; strict;
comment	@# @;


1.67
date	2016.04.28.14.14.45;	author ajacoutot;	state Exp;
branches;
next	1.66;
commitid	uVWpVxmoarkBLhFz;

1.66
date	2015.05.22.11.36.15;	author ajacoutot;	state Exp;
branches;
next	1.65;
commitid	xOFjcZcFz55vTZ3d;

1.65
date	2014.09.10.11.55.24;	author naddy;	state Exp;
branches;
next	1.64;
commitid	ykaX8YALW2BrZ3kB;

1.64
date	2013.09.28.08.51.15;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2013.04.05.11.21.26;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2013.04.05.11.17.23;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2013.04.04.19.26.41;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2013.04.04.19.18.14;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2013.03.29.10.45.48;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2013.03.11.11.46.10;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2012.11.17.09.40.41;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2012.03.26.23.19.36;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2012.03.20.06.59.25;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2012.03.19.10.28.48;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2012.03.19.07.36.27;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2012.03.03.10.30.56;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2011.09.28.09.47.46;	author jasper;	state Exp;
branches;
next	1.50;

1.50
date	2011.09.20.20.52.46;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2011.09.16.12.29.13;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2011.09.12.13.21.59;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2011.09.12.12.04.16;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2011.06.08.17.41.57;	author rpointel;	state Exp;
branches;
next	1.45;

1.45
date	2011.04.25.05.58.14;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2011.04.05.16.37.59;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2011.03.22.15.48.18;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2011.03.08.14.41.15;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2011.01.10.21.48.11;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.12.20.15.04.50;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2010.12.07.06.31.24;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2010.11.22.08.36.57;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2010.10.19.15.21.04;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.10.19.08.13.56;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.18.13.18.14;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2010.09.30.07.34.19;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2010.09.02.07.50.51;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2010.08.30.21.53.59;	author sthen;	state Exp;
branches;
next	1.31;

1.31
date	2010.04.26.15.26.36;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2010.04.20.22.01.26;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2009.11.19.17.28.36;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2009.10.15.15.28.23;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2009.10.11.15.32.11;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2009.10.11.10.23.46;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2009.10.10.13.49.57;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2009.04.26.11.01.05;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.04.06.10.05.21;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.03.14.11.36.25;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.03.14.10.40.52;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.03.10.23.24.09;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2009.02.11.15.47.50;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2009.02.11.15.33.51;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2009.01.12.17.36.28;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2008.12.17.18.47.57;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2008.05.28.12.44.18;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2008.05.26.16.29.27;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2008.04.14.19.06.25;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2008.02.04.17.55.18;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2007.10.08.08.22.43;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2007.07.05.22.50.10;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2007.06.08.19.12.29;	author martynas;	state Exp;
branches;
next	1.8;

1.8
date	2007.05.30.09.56.30;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2007.04.25.09.53.10;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2007.04.24.20.49.04;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2007.01.18.19.09.03;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2006.12.16.12.22.35;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2006.10.30.11.21.53;	author bernd;	state Exp;
branches;
next	1.2;

1.2
date	2006.06.19.05.06.11;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2006.06.17.16.49.40;	author alek;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.06.17.16.49.40;	author alek;	state Exp;
branches;
next	;


desc
@@


1.67
log
@intltool is enough.
@
text
@# $OpenBSD: Makefile,v 1.66 2015/05/22 11:36:15 ajacoutot Exp $

# This port does set MODGNOME_TOOLS=yelp on purpose: it would create a
# dependency on itself. We do not enforce dependency on x11/gnome/yelp
# either because it would bring lots of other dependencies.

COMMENT=	collection of documentation utilities for the GNOME project

GNOME_PROJECT=	gnome-doc-utils
GNOME_VERSION=	0.20.10
REVISION=	5

CATEGORIES=	textproc

# (L)GPLv2
PERMIT_PACKAGE_CDROM=	Yes

MODULES=	lang/python \
		x11/gnome

BUILD_DEPENDS=	textproc/docbook \
		textproc/libxml,-python \
		textproc/libxslt \
		textproc/rarian

RUN_DEPENDS=	textproc/docbook \
		textproc/libxml,-python \
		textproc/libxslt \
		misc/gnugetopt

# convenient dependency: provides the scrollkeeper-* tools
RUN_DEPENDS +=	textproc/rarian

AUTOCONF_VERSION=2.67
CONFIGURE_STYLE=autoconf no-autoheader

pre-configure:
	${SUBST_CMD} ${WRKSRC}/xml2po/xml2po.1

post-install:
	${MODPY_BIN} ${MODPY_LIBDIR}/compileall.py \
		${PREFIX}/lib/python${MODPY_VERSION}/site-packages/xml2po/

.include <bsd.port.mk>
@


1.66
log
@"/usr/local/share/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2014/09/10 11:55:24 naddy Exp $
d11 1
a11 1
REVISION=	4
d21 1
a21 2
BUILD_DEPENDS=	devel/gettext \
		textproc/docbook \
d26 1
a26 2
RUN_DEPENDS=	devel/gettext \
		textproc/docbook \
@


1.65
log
@* regcomp (and thus grep) now supports \<word\>
* drop misplaced GNU grep dependency

ok ajacoutot@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2013/09/28 08:51:15 ajacoutot Exp $
d11 1
a11 1
REVISION=	3
@


1.64
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/04/05 11:21:26 ajacoutot Exp $
d11 1
a11 1
REVISION=	2
d31 1
a31 2
		misc/gnugetopt \
		sysutils/ggrep
@


1.63
log
@And another one...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/04/05 11:17:23 ajacoutot Exp $
d11 1
a11 1
REVISION=	1
@


1.62
log
@Missing BUILD_DEPENDS, spotted by nigel.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/04/04 19:26:41 ajacoutot Exp $
d24 1
d30 1
d32 1
a32 2
		sysutils/ggrep \
		textproc/libxslt
@


1.61
log
@Rework dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/04/04 19:18:14 ajacoutot Exp $
d23 1
d28 1
a30 1
		textproc/libxml,-python \
@


1.60
log
@Add comment about rarian/scrollkeeper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/03/29 10:45:48 ajacoutot Exp $
d11 1
a11 1
REVISION=	0
d21 1
a21 1
BUILD_DEPENDS=	${RUN_DEPENDS} \
a22 1
		sysutils/ggrep \
d26 1
d28 1
@


1.59
log
@Fix creation of symlinks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/03/11 11:46:10 espie Exp $
d25 1
d29 4
a32 2
		textproc/libxslt \
		textproc/rarian
@


1.58
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2012/11/17 09:40:41 ajacoutot Exp $
d11 1
d31 2
a32 1
USE_GROFF=	Yes
@


1.57
log
@Default libtool(1) is in base now so there is no point in settings
USE_LIBTOOL to no since this has no implication on the build for these
particular ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/03/26 23:19:36 ajacoutot Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.56
log
@Update to gnome-doc-utils-0.20.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/03/20 06:59:25 ajacoutot Exp $
a32 1
USE_LIBTOOL=	No
@


1.55
log
@Minor update to gnome-doc-utils-0.20.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/03/19 10:28:48 ajacoutot Exp $
d10 1
a10 1
GNOME_VERSION=	0.20.9
@


1.54
log
@Our pkg-config(1) can now cope with files under share/pkgconfig, so
remove these now unneeded hacks/patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/03/19 07:36:27 ajacoutot Exp $
d10 1
a10 2
GNOME_VERSION=	0.20.8
REVISION=	0
@


1.53
log
@Bugfix update to gnome-doc-utils-0.20.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/03/03 10:30:56 ajacoutot Exp $
d11 1
a35 2

FAKE_FLAGS+=	pkgconfigdir="${PREFIX}/lib/pkgconfig/"
@


1.52
log
@Update to gnome-doc-utils-0.20.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/09/28 09:47:46 jasper Exp $
d10 1
a10 1
GNOME_VERSION=	0.20.7
@


1.51
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/09/20 20:52:46 jasper Exp $
d10 1
a10 2
GNOME_VERSION=	0.20.6
REVISION=	1
a19 2
EXTRACT_SUFX=		.tar.bz2

d30 1
a30 1
		textproc/libxslt,-python \
a34 1
MODGNOME_CPPFLAGS=${CFLAGS}
d37 3
@


1.50
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/09/16 12:29:13 espie Exp $
d38 1
a38 2
CONFIGURE_ENV=	CPPFLAGS="${CFLAGS} -I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.49
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/09/12 13:21:59 ajacoutot Exp $
d3 1
a3 1
# This port does set MODGNOME_HELP_FILES on purpose: it would create a
@


1.48
log
@Add a small comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/09/12 12:04:16 jasper Exp $
d11 1
a11 1
REVISION=	0
@


1.47
log
@
switch to using .tar.xz by default
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.46 2011/06/08 17:41:57 rpointel Exp $
@


1.46
log
@bump after default python version switch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/04/25 05:58:14 ajacoutot Exp $
d16 2
@


1.45
log
@Minor update to gnome-doc-utils-0.20.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/04/05 16:37:59 ajacoutot Exp $
d7 1
@


1.44
log
@--disable-scrollkeeper is not needed when rarian is in the dependency
chain (scrollkeer is a compatility wrapper that does nothing).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/03/22 15:48:18 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.20.5
@


1.43
log
@Minor update to gnome-doc-utils-0.20.5.
* translations update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/03/08 14:41:15 ajacoutot Exp $
a30 1
CONFIGURE_ARGS=	--disable-scrollkeeper
@


1.42
log
@Unbreak gnome-doc-tool again... (my bad).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/01/10 21:48:11 ajacoutot Exp $
d6 1
a6 3
GNOME_VERSION=	0.20.4

REVISION=	0
@


1.41
log
@Minor update to gnome-doc-utils-0.20.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/12/20 15:04:50 jasper Exp $
d8 2
d26 1
a26 1
		shells/bash \
d32 1
a32 1
USE_GROFF =	Yes
a37 3

pre-configure:
	${SUBST_CMD} ${WRKSRC}/tools/gnome-doc-tool.in
@


1.40
log
@- bugfix update of gnome-doc-utils to 0.20.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/12/07 06:31:24 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.20.3
d24 1
a24 1
		misc/gnugetopt \
d36 3
@


1.39
log
@This wants gnugetopt(1), from David Cantrell.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/11/22 08:36:57 espie Exp $
d6 1
a6 3
GNOME_VERSION=	0.20.2

REVISION=	0
@


1.38
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/10/19 15:21:04 ajacoutot Exp $
d8 2
d26 1
@


1.37
log
@Remove USE_X11=No, it's no needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/10/19 08:13:56 espie Exp $
d20 7
a26 7
		:docbook-*:textproc/docbook \
		::sysutils/ggrep \
		::textproc/rarian
RUN_DEPENDS=	::devel/gettext \
		:py-libxml-*:textproc/libxml,-python \
		:py-libxslt-*:textproc/libxslt,-python \
		::textproc/rarian
@


1.36
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/10/18 13:18:14 jasper Exp $
a27 1
USE_X11=	No
@


1.35
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/09/30 07:34:19 ajacoutot Exp $
d30 1
@


1.34
log
@Update to gnome-doc-utils-0.20.2.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/09/02 07:50:51 jasper Exp $
d28 1
@


1.33
log
@- fix dependency on libxslt. as it would pull in -main, instead of the
desired -python.

spotted by markus lude
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/08/30 21:53:59 sthen Exp $
d6 1
a6 2
GNOME_VERSION=	0.20.1
REVISION=	1
@


1.32
log
@python bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/04/26 15:26:36 jasper Exp $
d7 1
a7 1
REVISION=	0
d26 1
a26 1
		:libxslt-*:textproc/libxslt,-python \
@


1.31
log
@- update gnome-doc-utils to 0.20.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/04/20 22:01:26 ajacoutot Exp $
d7 1
@


1.30
log
@Update to gnome-doc-utils-0.20.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/11/19 17:28:36 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	0.20.0
@


1.29
log
@Update to gnome-doc-utils-0.18.1.
Only some translation updates.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/10/15 15:28:23 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	0.18.1
@


1.28
log
@- remove unneeded patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/10/11 15:32:11 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	0.18.0
PKGNAME=	${DISTNAME}p1
@


1.27
log
@Really generate Python bytecode as first intended.
Fix systrace warnings from packages using gnome-doc-utils.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/10/11 10:23:46 jasper Exp $
d33 2
@


1.26
log
@- unbreak, install pkgconfig file into the correct file
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/10/10 13:49:57 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d35 2
a36 1
	${MODPY_BIN} ${MODPY_LIBDIR}/compileall.py ${PREFIX}/share/xml2po
@


1.25
log
@Major update to gnome-doc-utils-0.18.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/04/26 11:01:05 ajacoutot Exp $
d7 1
@


1.24
log
@CONFIGURE_ENV += PYTHON="${MODPY_BIN}" is inherited from the python module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/04/06 10:05:21 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	0.14.2
PKGNAME=	${DISTNAME}p5
@


1.23
log
@Rework the way we handle build_depends with the gnome MODULE when
MODGNOME_HELP_FILES is set to yes.

* add a build_depends on gnome-doc-utils if MODGNOME_HELP_FILES is set
to yes
* add rarian as a run_depends for gnome-doc-utils (will help with older
ports that will never be updated from using deprecated scrollkeeper)
* remove build+run_depends on gnome-doc-utils and rarian for ports that
have MODGNOME_HELP_FILES as they are now implied.
* bump where needed

This should help in having all required build dependencies for
gnome-related ports and it greatly simplifies things.

"thanks for cleaning this mess" and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/03/14 11:36:25 ajacoutot Exp $
d31 1
a31 2
CONFIGURE_ENV=	PYTHON=${MODPY_BIN} \
		CPPFLAGS="${CFLAGS} -I${LOCALBASE}/include" \
@


1.22
log
@- nothing should have to run_depends on rarian anymore
- explicitely add build_depends on rarian where gnome-doc-utils is also a
build dependency as it does not itself run_depends on rarian anymore

This was the 2nd and hopefully last pass of rarian/scrollkeeper cleaning.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/03/14 10:40:52 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
d26 2
a27 1
		:libxslt-*:textproc/libxslt,-python
@


1.21
log
@- first pass at cleaning rarian/scrollkeeper handling
remove rarian-sk-update from PLIST ; it is only a wrapper that does
noting: librarian takes care of everything now.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/03/10 23:24:09 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
d22 2
a23 1
		::sysutils/ggrep
d26 1
a26 2
		:libxslt-*:textproc/libxslt,-python \
		::textproc/rarian
@


1.20
log
@bump for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/02/11 15:47:50 jasper Exp $
d7 2
a8 1
PKGNAME=	${DISTNAME}p2
@


1.19
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/02/11 15:33:51 jasper Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.18
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/01/12 17:36:28 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
@


1.17
log
@- long overdue update to gnome-doc-utils-0.14.2

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/12/17 18:47:57 jasper Exp $
d7 1
@


1.16
log
@- switch remaining ports to rarian instead of scrollkeeper
- regen PLIST

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/05/28 12:44:18 jasper Exp $
d6 1
a6 2
GNOME_VERSION=	0.10.3
PKGNAME=	${DISTNAME}p7
d18 6
a23 5
BUILD_DEPENDS=	:py-libxml-*:textproc/libxml,-python \
		:libxslt-*:textproc/libxslt \
		:docbook-*:textproc/docbook
RUN_DEPENDS=	:py-libxml-*:textproc/libxml,-python \
		:libxslt-*:textproc/libxslt \
@


1.15
log
@- don't use MODGNOME_HELP_FILES here, it causes doc-utils to depend on yelp
which depends on doc-utils, which ....

spotted by markpeloquin AT gmail.com, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/05/26 16:29:27 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p6
d24 1
a24 1
		:scrollkeeper-*:textproc/scrollkeeper
@


1.14
log
@- make help available by adding MODGNOME_HELP_FILES / ::x11/gnome/yelp
to RUN_DEPENDS

"mkay" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/04/14 19:06:25 jasper Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p5
a24 2

MODGNOME_HELP_FILES=	Yes
@


1.13
log
@- datarootdir wasn't set in the pkgconfig files; set it to a sane default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/02/04 17:55:18 jasper Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
d25 2
@


1.12
log
@let's face it....add myself as maintainer

requested by and ok ajacoutot@@, ok fkr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/10/08 08:22:43 steven Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
d10 1
a10 1
# LGPL
@


1.11
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/07/05 22:50:10 jasper Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.10
log
@convert these gnome ports to use the new x11/gnome module.

this module is now mature enough to be used in new ports too.

feedback and ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/06/08 19:12:29 martynas Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.9
log
@give it a chance to build -- add textproc/docbook to BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/05/30 09:56:30 jasper Exp $
d3 1
a3 1
COMMENT=	"collection of documentation utilities for the GNOME project"
d5 2
a6 1
DISTNAME=	gnome-doc-utils-0.10.3
d8 1
a8 1
CATEGORIES=	x11/gnome textproc
d16 2
a17 2
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/gnome-doc-utils/0.10/}
EXTRACT_SUFX=	.tar.bz2
d19 1
a19 3
MODULES=	lang/python
BUILD_DEPENDS=	:p5-XML-Parser-*:textproc/p5-XML-Parser \
		:py-libxml-*:textproc/libxml,-python \
d26 1
a26 2
USE_GMAKE=	Yes
CONFIGURE_STYLE=gnu
@


1.8
log
@HOMEPAGE is taken care of via Makefile.inc, so no need to have it defined
twice when the homepage is http://www.gnome.org/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/04/25 09:53:10 jasper Exp $
d21 2
a22 1
		:libxslt-*:textproc/libxslt
@


1.7
log
@we didn't need gawk after all, also @@comment some ubuntu-specific files in PLIST

from Mikolaj Kucharski <mikolaj.kucharski@@gmail.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/04/24 20:49:04 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
a7 2

HOMEPAGE=	http://www.gnome.org
@


1.6
log
@update gnome-doc-utils to 0.10.3

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/01/18 19:09:03 jasper Exp $
d6 1
d23 1
a23 2
		:libxslt-*:textproc/libxslt \
		:gawk-*:lang/gawk
a33 1
MAKE_FLAGS=	AWK=${LOCALBASE}/bin/gawk
@


1.5
log
@update gnome-doc-utils to 0.6.1
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	gnome-doc-utils-0.6.1
d16 1
a16 1
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/gnome-doc-utils/0.6/}
d22 2
a23 1
		:libxslt-*:textproc/libxslt
d25 2
a26 1
		:libxslt-*:textproc/libxslt
d28 1
d30 5
a34 1
CONFIGURE_ENV=	PYTHON=${MODPY_BIN}
@


1.4
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/10/30 11:21:53 bernd Exp $
d5 1
a5 2
DISTNAME=	gnome-doc-utils-0.6.0
PKGNAME=	${DISTNAME}p1
@


1.3
log
@Adjust *_DEPENDS after latest libxml changes. Bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/06/19 05:06:11 sturm Exp $
a21 1
		:pkgconfig-*:devel/pkgconfig \
@


1.2
log
@dependencies shall not end in slashes as this breake mirror-maker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/06/17 16:49:40 alek Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d23 1
a23 1
		:py-libxml-*:textproc/libxml,python,-python \
d25 1
a25 1
RUN_DEPENDS=	:py-libxml-*:textproc/libxml,python,-python \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d24 1
a24 1
		:libxslt-*:textproc/libxslt/
d26 1
a26 1
		:libxslt-*:textproc/libxslt/
@


1.1.1.1
log
@Import gnome-doc-utils 0.6

The GNOME Doc Utils is a collection of documentation utilities for the GNOME
project. Notably, it contains utilities for building documentation and all
auxiliary files in the source tree, and it contains the DocBook XSLT
stylesheets that were once distributed with Yelp.
@
text
@@
