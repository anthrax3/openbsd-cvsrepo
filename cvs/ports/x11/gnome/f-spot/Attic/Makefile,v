head	1.57;
access;
symbols
	OPENBSD_5_2:1.55.0.2
	OPENBSD_5_2_BASE:1.55
	OPENBSD_5_1_BASE:1.53
	OPENBSD_5_1:1.53.0.2
	OPENBSD_5_0:1.45.0.2
	OPENBSD_5_0_BASE:1.45
	OPENBSD_4_9:1.44.0.2
	OPENBSD_4_9_BASE:1.44
	OPENBSD_4_8:1.35.0.2
	OPENBSD_4_8_BASE:1.35
	OPENBSD_4_7:1.22.0.2
	OPENBSD_4_7_BASE:1.22
	OPENBSD_4_6:1.15.0.2
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.13.0.2
	OPENBSD_4_5_BASE:1.13
	jasper_20081017:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.57
date	2012.10.03.08.06.06;	author ajacoutot;	state dead;
branches;
next	1.56;

1.56
date	2012.09.29.10.10.45;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2012.07.13.16.57.39;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2012.06.15.08.30.19;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2011.12.03.22.17.15;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2011.11.04.09.56.28;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2011.09.28.09.47.46;	author jasper;	state Exp;
branches;
next	1.50;

1.50
date	2011.09.20.21.10.00;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2011.09.20.20.52.46;	author jasper;	state Exp;
branches;
next	1.48;

1.48
date	2011.09.19.07.44.58;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2011.09.16.12.29.13;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2011.09.12.12.04.16;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2011.04.21.09.10.23;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2010.12.19.18.13.44;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2010.11.22.08.36.57;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2010.10.18.13.18.14;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2010.10.15.16.22.43;	author robert;	state Exp;
branches;
next	1.40;

1.40
date	2010.10.11.08.19.19;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2010.10.01.12.16.01;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2010.09.15.15.41.38;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2010.09.09.09.41.21;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.08.21.20.34.34;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2010.07.14.10.58.35;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2010.07.13.20.37.03;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2010.07.09.06.50.59;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2010.07.05.09.44.02;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2010.06.30.19.08.37;	author robert;	state Exp;
branches;
next	1.30;

1.30
date	2010.05.17.11.30.23;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.05.15.10.07.46;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2010.04.24.16.50.20;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2010.04.05.10.52.50;	author robert;	state Exp;
branches;
next	1.26;

1.26
date	2010.03.26.14.51.14;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2010.03.24.22.53.55;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.03.24.21.56.18;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2010.03.24.12.18.44;	author robert;	state Exp;
branches;
next	1.22;

1.22
date	2009.12.21.18.03.18;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.11.05.05.15.05;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.11.04.18.17.58;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2009.09.28.20.40.28;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2009.09.17.20.07.17;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.08.26.15.30.01;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2009.08.15.17.40.05;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.04.06.10.05.21;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.03.14.10.40.52;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.02.11.15.47.50;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2009.02.11.15.33.51;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2009.01.31.11.07.59;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2009.01.31.09.15.33;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2009.01.26.14.40.58;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2009.01.24.19.55.00;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2008.12.19.09.58.29;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.11.29.11.31.45;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.11.23.22.59.08;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2008.10.18.18.17.05;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2008.10.17.20.05.47;	author ian;	state Exp;
branches;
next	1.2;

1.2
date	2008.10.17.11.02.16;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2008.10.17.10.39.17;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.10.17.10.39.17;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.57
log
@Remove crashing oldies which still depend on old gnome 2 interfaces.
graphics/shotwell is a _much_ better alternative.

ok jasper@@
@
text
@# $OpenBSD: Makefile,v 1.56 2012/09/29 10:10:45 ajacoutot Exp $

SHARED_ONLY=		Yes

COMMENT=		personal photo management application for GNOME

GNOME_VERSION=		0.8.2
GNOME_PROJECT=		f-spot
REVISION=		5

CATEGORIES=		graphics

HOMEPAGE=		http://www.f-spot.org/

# GPLv2
# gio-sharp: LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

EXTRACT_SUFX=		.tar.bz2

WANTLIB += ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender art_lgpl_2 atk-1.0
WANTLIB += bonobo-2 bonobo-activation bonoboui-2 cairo
WANTLIB += crypto dbus-1 dbus-glib-1 expat fontconfig
WANTLIB += freetype gailutil gcrypt gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-2 gnome-keyring
WANTLIB += gnomecanvas-2 gnomeui-2 gnomevfs-2 gobject-2.0 gpg-error
WANTLIB += gthread-2.0 gtk-x11-2.0 jpeg m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png popt pthread-stubs ssl
WANTLIB += util xcb xcb-render xml2 z lcms xcb-shm ffi stdc++
WANTLIB += GL Xxf86vm canberra drm ltdl ogg pthread vorbis vorbisfile

MODULES=		devel/gettext \
			lang/mono \
			x11/gnome \
			devel/gconf2

MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
MODGNOME_TOOLS= 	yelp

BUILD_DEPENDS=		${RUN_DEPENDS} \
			shells/bash \
			x11/gnome/screensaver
RUN_DEPENDS=		devel/mono-addins \
			x11/gnome/mono-gnome \
			sysutils/ndesk-dbus-glib \
			devel/mono-flickrnet \
			x11/gnome/mono-keyring \
			devel/libunique
LIB_DEPENDS+=		graphics/lcms

MODGCONF2_SCHEMAS_DIR=	f-spot

LIBTOOL_FLAGS=		--tag=disable-static

CONFIGURE_ARGS+=	--disable-shave \
			--disable-static

DLLMAP_FILES=		lib/unique-sharp/unique/unique-sharp.dll.config \
			lib/gtk-sharp-beans/gtk-sharp-beans.dll.config \
			lib/gio-sharp/gio/gio-sharp.dll.config \
			lib/Hyena/Hyena.Gui/Hyena.Gui.dll.config \
			lib/Hyena/Hyena/Hyena.dll.config \
			src/Clients/MainApp/f-spot.exe.config \
			src/Core/FSpot.Cms/FSpot.Cms.dll.config \
			src/Core/FSpot.Gui/FSpot.Gui.dll.config \
			src/Core/FSpot.Core/FSpot.Core.dll.config \
			src/Core/FSpot.Utils/FSpot.Utils.dll.config

FAKE_FLAGS=		schemadir=${PREFIX}/${SCHEMAS_INSTDIR}

pre-configure:
	${SUBST_CMD} ${WRKSRC}/icon-theme-installer \
		${WRKSRC}/src/Clients/MainApp/f-spot.in \
		${WRKSRC}/src/Clients/MainApp/FSpot/ColorManagement.cs \
		${WRKSRC}/src/Clients/MainApp/FSpot.UI.Dialog/PreferenceDialog.cs

post-install:
	rm ${PREFIX}/lib/f-spot/*.la

.include <bsd.port.mk>
@


1.56
log
@make plist has been broken long enough that I don't want to deal with it
anymore; instead of using @@comment markers in PLIST, use a post-install
target to remove what we don't want.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/07/13 16:57:39 ajacoutot Exp $
@


1.55
log
@--enable-*=no => --disable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/06/15 08:30:19 ajacoutot Exp $
d9 1
a9 2

REVISION=		4
d82 3
@


1.54
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/12/03 22:17:15 ajacoutot Exp $
d62 1
a62 1
CONFIGURE_ARGS+=	--enable-shave=no \
@


1.53
log
@Use MODGNOME_ICON_CACHE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/11/04 09:56:28 jasper Exp $
d10 1
a10 1
REVISION=		3
@


1.52
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/09/28 09:47:46 jasper Exp $
d10 1
a10 1
REVISION=		2
d43 2
a44 1
MODGNOME_DESKTOP_FILE=		Yes
@


1.51
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/09/20 21:10:00 jasper Exp $
d10 1
a10 1
REVISION=		1
d35 1
a35 1
WANTLIB += util xcb xcb-render xml2 z lcms xcb-shm
@


1.50
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/09/20 20:52:46 jasper Exp $
a62 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.49
log
@- switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/09/19 07:44:58 ajacoutot Exp $
d61 1
a61 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--enable-shave=no \
@


1.48
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/09/16 12:29:13 espie Exp $
d44 1
a44 1
MODGNOME_HELP_FILES=	Yes
@


1.47
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/09/12 12:04:16 jasper Exp $
d43 1
a43 1
DESKTOP_FILES=		Yes
@


1.46
log
@
switch to using .tar.xz by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/04/21 09:10:23 ajacoutot Exp $
d10 1
a10 1
REVISION=		0
@


1.45
log
@Fix some hardcoded /usr/share paths to ${LOCALBASE}/share/paths.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/12/19 18:13:44 ajacoutot Exp $
d22 2
@


1.44
log
@Bugfix update to f-spot-0.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/11/22 08:36:57 espie Exp $
d10 2
d80 3
a82 1
		${WRKSRC}/src/Clients/MainApp/f-spot.in
@


1.43
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/10/18 13:18:14 jasper Exp $
d7 1
a7 1
GNOME_VERSION=		0.8.0
a9 2
REVISION=		2

d31 2
a32 1
WANTLIB += util xcb xcb-render xcb-render-util xml2 z lcms
@


1.42
log
@- remove USE_X11=Yes where needed (can't we fully get rid of it?)
and set USE_X11=No where needed

agreed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/10/15 16:22:43 robert Exp $
d44 9
a52 9
			::shells/bash \
			::x11/gnome/screensaver
RUN_DEPENDS=		::devel/mono-addins \
			::x11/gnome/mono-gnome \
			::sysutils/ndesk-dbus-glib \
			::devel/mono-flickrnet \
			::x11/gnome/mono-keyring \
			::devel/libunique
LIB_DEPENDS+=		::graphics/lcms
@


1.41
log
@Fix build after the update to mono 2.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/10/11 08:19:19 jasper Exp $
a38 2

USE_X11=		Yes
@


1.40
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/10/01 12:16:01 ajacoutot Exp $
d10 1
a10 1
REVISION=		1
@


1.39
log
@Unbreak: fix WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/09/15 15:41:38 ajacoutot Exp $
d10 1
a10 1
REVISION=		0
d29 1
a29 1
WANTLIB += gio-2.0 glib-2.0 glitz gmodule-2.0 gnome-2 gnome-keyring
@


1.38
log
@Update to f-spot-0.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/09/09 09:41:21 ajacoutot Exp $
d10 2
d25 3
a27 3
WANTLIB += Xrender art_lgpl_2 atk-1.0 avahi-client avahi-common
WANTLIB += avahi-glib bonobo-2 bonobo-activation bonoboui-2 cairo
WANTLIB += crypto dbus-1 dbus-glib-1 eggdbus-1 expat fontconfig
@


1.37
log
@Minor update to f-spot-0.7.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/08/21 20:34:34 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		0.7.3
@


1.36
log
@update to f-spot-0.7.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/07/14 10:58:35 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		0.7.2
@


1.35
log
@Update to f-spot-0.7.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/07/13 20:37:03 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		0.7.1
d67 7
a73 6
			lib/Hyena/src/Hyena.Gui/Hyena.Gui.dll.config \
			src/Core/FSpot.Core.dll.config \
			src/Widgets/FSpot.Widgets.dll.config \
			src/Utils/FSpot.Utils.dll.config \
			src/f-spot.exe.config \
			src/Cms/FSpot.Cms.dll.config
d79 1
a79 1
		${WRKSRC}/src/f-spot.in
@


1.34
log
@Use REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/07/09 06:50:59 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		0.7.0
a8 1
REVISION=		1
d31 1
a31 1
WANTLIB += util xcb xcb-render xcb-render-util xml2 z
d52 1
a52 2
LIB_DEPENDS+=		exif::graphics/libexif \
			lcms::graphics/lcms
@


1.33
log
@Fix depends:
one mono-addins is enough
missing libunique (spotted by landry@@)

Remove bogus DLL_MAP_FILES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/07/05 09:44:02 espie Exp $
d9 1
a9 1
PKGNAME=		${GNOME_PROJECT}-${GNOME_VERSION}p1
@


1.32
log
@missing depend
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/06/30 19:08:37 robert Exp $
d9 1
a9 1
PKGNAME=		${GNOME_PROJECT}-${GNOME_VERSION}p0
a49 1
			::devel/mono-addins \
d51 2
a52 1
			::x11/gnome/mono-keyring
d74 1
a74 8
			src/Cms/FSpot.Cms.dll.config \
			bin/Hyena.Gui.dll.config \
			bin/FSpot.Cms.dll.config \
			bin/FSpot.Utils.dll.config \
			bin/FSpot.Core.dll.config \
			bin/FSpot.Widgets.dll.config \
			bin/f-spot.exe.config

@


1.31
log
@Update to f-spot 0.7.0; ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/05/17 11:30:23 ajacoutot Exp $
d9 1
d51 2
a52 1
			::devel/mono-flickrnet
@


1.30
log
@Add missing dependencies, prodded by robert@@
Fix crash on startup by setting a proper LD_LIBRARY_PATH.

ok robert@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/05/15 10:07:46 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		0.6.2
a8 1
PKGNAME=		${DISTNAME}p0
a11 2
SHARED_LIBS +=  gphoto2glue 0.0 # .0.0

d29 1
a29 1
WANTLIB += gthread-2.0 gtk-x11-2.0 jpeg ltdl m pango-1.0 pangocairo-1.0
d31 1
a31 1
WANTLIB += usb util xcb xcb-render xcb-render-util xml2 z
d46 1
a46 1
RUN_DEPENDS=		::graphics/libgphoto2 \
d50 1
a50 1
			::devel/libunique
d52 1
a52 2
			lcms::graphics/lcms \
			gphoto2.>=3,gphoto2_port.>=6::graphics/libgphoto2
d65 1
d67 13
a79 6
			lib/gtk-sharp-beans/gtk-sharp-beans.dll.config \
			lib/libgphoto2-sharp/libgphoto2-sharp.dll.config \
			src/Cms.dll.config \
			src/FSpot.Utils.dll.config \
			src/FSpot.Widgets.dll.config \
			src/f-spot.exe.config
@


1.29
log
@Update to f-spot-0.6.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/04/24 16:50:20 ajacoutot Exp $
d9 1
d51 3
a53 1
			::sysutils/ndesk-dbus-glib
d80 2
a81 1
	${SUBST_CMD} ${WRKSRC}/icon-theme-installer
@


1.28
log
@First part in wasting my youth updating wantlib...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/04/05 10:52:50 robert Exp $
d7 1
a7 1
GNOME_VERSION=		0.6.1.5
a8 1
PKGNAME=		${DISTNAME}p4
d12 2
d27 7
a33 7
WANTLIB += crypto dbus-1 dbus-glib-1 expat fontconfig freetype
WANTLIB += gailutil gc gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += glitz gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2
WANTLIB += gnomeui-2 gnomevfs-2 gobject-2.0 gthread-2.0 gtk-x11-2.0
WANTLIB += jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png popt pthread-stubs ssl util xcb xml2 z
WANTLIB += eggdbus-1 gcrypt gpg-error xcb-render xcb-render-util
d49 2
a50 1
			::x11/gnome/mono-gnome
d53 1
a53 1
			mono::lang/mono
d60 1
a60 1
			--disable-scrollkeeper \
d65 1
a65 2
DLLMAP_FILES=		lib/dbus-sharp-glib/NDesk.DBus.GLib.dll.config \
			lib/dbus-sharp-glib/NDesk.DBus.GLib.dll.config \
d69 1
a69 1
			src/Cms.dll.config.in \
d71 4
a74 2
			src/FSpot.Widgets.dll.config.in \
			src/f-spot.exe.config.in
@


1.27
log
@the mono module handles some dependencies now, so remove the ones that
are not needed anymore and bump pkgname everywhere
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/03/26 14:51:14 ajacoutot Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p3
d32 1
@


1.26
log
@Remove BROKEN now that our mono has been fixed.
Loosen up run_depends on gnome-screensaver.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/03/24 22:53:55 ajacoutot Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p2
@


1.25
log
@Fix icons display.
Few tweaks...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/03/24 21:56:18 ajacoutot Exp $
a4 2
BROKEN=			waiting for ajacoutot@@

d9 1
a9 1
PKGNAME=		${DISTNAME}p1
d44 2
a45 1
			::shells/bash
d47 1
a47 2
			::x11/gnome/mono-gnome \
			::x11/gnome/screensaver
@


1.24
log
@Add more libtool love. Set SHARED_ONLY.

f-spot now starts and works fine (very small testing).
However, some icons do not show up correctly yet and it cores dump on exit
so I'm leaving it broken for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/03/24 12:18:44 robert Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}p0
d45 2
a46 1
BUILD_DEPENDS=		${RUN_DEPENDS}
a55 1
USE_LIBTOOL=		Yes
d73 3
@


1.23
log
@Try to unbreak by using the internal dbus-sharp
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/12/21 18:03:18 ajacoutot Exp $
d3 3
a5 1
BROKEN=			waiting for antoine@@
d11 1
d55 3
d59 2
a60 1
			--disable-scrollkeeper
@


1.22
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos and remove
@@unexec for theme ports.

prodded by espie@@ after me whining at the ports system ;)
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/11/05 05:15:05 ajacoutot Exp $
d3 1
a3 1
BROKEN=			segfault on startup
a8 4
PKGNAME=		${DISTNAME}p0

SHARED_LIBS +=	fspotjpegtran        0.0      # .0.0
SHARED_LIBS +=	fspot                0.0      # .0.0
a43 1
			::sysutils/ndesk-dbus-glib \
d54 2
a55 2
CONFIGURE_ENV=          CPPFLAGS="-I${LOCALBASE}/include" \
                        LDFLAGS="-L${LOCALBASE}/lib"
d57 9
a65 9
DLLMAP_FILES=	lib/libgphoto2-sharp/libgphoto2-sharp.dll.config \
		lib/dbus-sharp-glib/NDesk.DBus.GLib.dll.config \
		lib/gtk-sharp-beans/gtk-sharp-beans.dll.config \
		lib/gio-sharp/gio/gio-sharp.dll.config \
		lib/mono-addins/Mono.Addins/Mono.Addins.dll.config \
		src/FSpot.Widgets.dll.config \
		src/FSpot.Utils.dll.config \
		src/f-spot.exe.config \
		src/Cms.dll.config
@


1.21
log
@Bring f-spot up to version 0.6.1.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/11/04 18:17:58 ajacoutot Exp $
d9 1
@


1.20
log
@Update to f-spot-0.6.1.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/09/28 20:40:28 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		0.6.1.4
@


1.19
log
@f-spot 0.6.1.3.
Yes, it is still broken, yes I am working on that and yes I will fix it ;-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/09/17 20:07:17 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		0.6.1.3
@


1.18
log
@f-spot-0.6.1.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/08/26 15:30:01 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		0.6.1.2
@


1.17
log
@Update to 0.6.1.1.
Tweak DLLMAP_FILES in the process.
This is still broken... but I'm working on a large mono update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/08/15 17:40:05 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		0.6.1.1
@


1.16
log
@Update to f-spot-0.6.0.0.
This is just so that it does not rot forever outdated into the tree, it is
still broken and I haven't found time to look into it yet...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/04/06 10:05:21 ajacoutot Exp $
d3 1
a3 1
BROKEN=		segfault on startup
d7 1
a7 1
GNOME_VERSION=		0.6.0.0
d9 1
d12 1
d61 1
a61 4
DLLMAP_FILES=	lib/Tao/Tao.OpenGl.Glu/Tao.OpenGl.Glu.dll.config \
		lib/Tao/Tao.OpenGl.ExtensionLoader/Tao.OpenGl.ExtensionLoader.dll.config \
		lib/Tao/Tao.OpenGl/Tao.OpenGl.dll.config \
		lib/libgphoto2-sharp/libgphoto2-sharp.dll.config \
d63 4
d68 2
a69 4
		src/f-spot.exe.config.in \
		src/Cms.dll.config.in \
		lib/gio-sharp/gio/gio-sharp.dll.config \
		lib/mono-addins/Mono.Addins/Mono.Addins.dll.config
@


1.15
log
@Rework the way we handle build_depends with the gnome MODULE when
MODGNOME_HELP_FILES is set to yes.

* add a build_depends on gnome-doc-utils if MODGNOME_HELP_FILES is set
to yes
* add rarian as a run_depends for gnome-doc-utils (will help with older
ports that will never be updated from using deprecated scrollkeeper)
* remove build+run_depends on gnome-doc-utils and rarian for ports that
have MODGNOME_HELP_FILES as they are now implied.
* bump where needed

This should help in having all required build dependencies for
gnome-related ports and it greatly simplifies things.

"thanks for cleaning this mess" and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/03/14 10:40:52 ajacoutot Exp $
d3 1
a3 1
BROKEN=			segfault on startup
d7 1
a7 1
GNOME_VERSION=		0.5.0.3
a8 2
PKGNAME=		${DISTNAME}p5
SHARED_LIBS +=	fspoteog             0.0      # .0.0
d22 11
d35 2
a36 1
			x11/gnome
a42 10
WANTLIB += ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender art_lgpl_2 atk-1.0 bonobo-2 bonobo-activation
WANTLIB += bonoboui-2 cairo crypto dbus-1 dbus-glib-1 expat fontconfig
WANTLIB += freetype gailutil gc gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 glitz gmodule-2.0 gnome-2 gnome-keyring
WANTLIB += gnomecanvas-2 gnomeui-2 gnomevfs-2 gobject-2.0 gthread-2.0
WANTLIB += gtk-x11-2.0 jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png popt ssl util xml2 z

d52 2
d55 1
a55 4
			--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/f-spot \
			--disable-schemas-install \
			--disable-scrollkeeper \
			--disable-unit
d59 5
a63 5
DLLMAP_FILES=	Tao/Tao.OpenGl.Glu/Tao.OpenGl.Glu.dll.config \
		Tao/Tao.OpenGl.ExtensionLoader/Tao.OpenGl.ExtensionLoader.dll.config \
		Tao/Tao.OpenGl/Tao.OpenGl.dll.config \
		libgphoto2-sharp/libgphoto2-sharp.dll.config \
		dbus-sharp-glib/NDesk.DBus.GLib.dll.config \
d67 2
a68 2
		gio-sharp/gio/gio-sharp.dll.config.in \
		mono-addins/Mono.Addins/Mono.Addins.dll.config
@


1.14
log
@- first pass at cleaning rarian/scrollkeeper handling
remove rarian-sk-update from PLIST ; it is only a wrapper that does
noting: librarian takes care of everything now.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/02/11 15:47:50 jasper Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p4
a45 1
			::x11/gnome/doc-utils \
@


1.13
log
@- bah...missing '>' :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/02/11 15:33:51 jasper Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p3
@


1.12
log
@- add another tadpole as maintainer of this hobbit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/01/31 11:07:59 jasper Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p2
@


1.11
log
@- fix linking a bit more
- specify license for gio-sharp
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/01/31 09:15:33 jasper Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p1
@


1.10
log
@- set missing MODGNOME_HELP_FILES
- re-order dependencies
- don't install f-spot-import (needs HAL)
(still doesn't work though)

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/01/26 14:40:58 ajacoutot Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p0
d18 1
d33 9
a41 1
WANTLIB=		jpeg m
a43 1

a44 1
			::lang/mono \
d50 2
a51 1
			lcms::graphics/lcms
@


1.9
log
@- update to version 0.5.0.3
- mark it as BROKEN (I doubt is actually ever worked...); I'll work on
it but there's no need to give false hope for now

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/01/24 19:55:00 ajacoutot Exp $
d9 1
d30 1
d36 2
a37 1
RUN_DEPENDS=		::lang/mono \
a38 1
			::x11/gnome/screensaver \
d41 1
a41 1
			::graphics/libgphoto2
@


1.8
log
@- fix and patch DLLMAP_FILES
doesn't make f-spot work yet but at least, obvious mistake is corrected
- regen PLIST while here
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.7 2008/12/19 09:58:29 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=		0.5.0.2
a8 1
PKGNAME=		${DISTNAME}p4
@


1.7
log
@- convert from scrollkeeper to rarian
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/11/29 11:31:45 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
d50 10
a59 3
DLLMAP_FILES=		src/f-spot.exe.config \
			src/Cms.dll.config \
			src/FSpot.Utils.dll.config
@


1.6
log
@- this needs gnome-screensaver, not xscreensaver
- regen PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/11/23 22:59:08 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
d31 1
a31 2
BUILD_DEPENDS=		::lang/mono
RUN_DEPENDS=		${BUILD_DEPENDS}
d33 2
a34 1
BUILD_DEPENDS+=		::sysutils/ndesk-dbus-glib \
@


1.5
log
@- remove XXX'd MASTER_SITES now gnome.port.mk can finally take care of that properly

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/10/18 18:17:05 robert Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d35 1
a35 1
			::x11/xscreensaver \
@


1.4
log
@add the needed files to DLLMAP_FILES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/10/17 20:05:47 ian Exp $
a19 3

# XXX: To be fixed
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/${GNOME_PROJECT}/0.5/}
@


1.3
log
@Replace first sentence of DESCR with something more sensible, OK jasper@@
While at it wrap a few lines and fix typo. Bump pkg.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/10/17 11:02:16 robert Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d52 4
@


1.2
log
@f-spot cries for libgphoto2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/10/17 10:39:17 jasper Exp $
d7 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d39 2
a40 1
			::x11/gnome/mono-gnome
@


1.1.1.1
log
@import f-spot 0.5.0.2

The main F-Spot user interface in Browse mode is shown. F-Spot supports
16 common files types, including JPEG, GIF, TIFF, RAW, and others.
Import your photos from your hard drive, camera (including PTP type), or
iPod.
Photos can be tagged for searching and grouping, and the timeline gives
quick sense of temporal location, and quanity of photos taken. F-Spot
can view and export EXIF and XMP metadata in your images.
Other features include fullscreen and slideshow modes.

it needs some more tweaking, hence it's not hooked to the builds yet.
@
text
@@
