head	1.5;
access;
symbols
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3;
locks; strict;
comment	@# @;


1.5
date	2013.06.01.18.56.09;	author ajacoutot;	state dead;
branches;
next	1.4;

1.4
date	2013.03.26.09.44.47;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.09.21.13.23.23;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.09.10.08.08.49;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.09.09.21.39.35;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Drop now uneeded patches.
@
text
@$OpenBSD: patch-configure,v 1.4 2013/03/26 09:44:47 ajacoutot Exp $

Fix DATADIRNAME: see LOCALBASE/share/aclocal/{glib-gettext.m4,intltool.m4}
(and move the check _after_ $host is actually set...)

--- configure.orig	Tue Mar 26 09:00:17 2013
+++ configure	Tue Mar 26 10:14:01 2013
@@@@ -5148,48 +5148,12 @@@@ fi
 # Substitute ALL_LINGUAS so we can use it in po/Makefile
 
 
-# Set DATADIRNAME correctly if it is not set yet
-# (copied from glib-gettext.m4)
-if test -z "$DATADIRNAME"; then
-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
 
-int
-main ()
-{
-extern int _nl_msg_cat_cntr;
-                       return _nl_msg_cat_cntr
-  ;
-  return 0;
-}
-_ACEOF
-if ac_fn_c_try_link "$LINENO"; then :
-  DATADIRNAME=share
-else
-  case $host in
-    *-*-solaris*)
-                        ac_fn_c_check_func "$LINENO" "bind_textdomain_codeset" "ac_cv_func_bind_textdomain_codeset"
-if test "x$ac_cv_func_bind_textdomain_codeset" = xyes; then :
-  DATADIRNAME=share
-else
-  DATADIRNAME=lib
-fi
 
-    ;;
-    *)
-    DATADIRNAME=lib
-    ;;
-    esac
-fi
-rm -f core conftest.err conftest.$ac_objext \
-    conftest$ac_exeext conftest.$ac_ext
-fi
 
 
 
 
-
-
 ac_ext=cpp
 ac_cpp='$CXXCPP $CPPFLAGS'
 ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
@@@@ -5856,6 +5820,45 @@@@ $as_echo "print -r" >&6; } ;;
 $as_echo "cat" >&6; } ;;
 esac
 
+# Set DATADIRNAME correctly if it is not set yet
+# (copied from glib-gettext.m4)
+if test -z "$DATADIRNAME"; then
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+
+int
+main ()
+{
+extern int _nl_msg_cat_cntr;
+                       return _nl_msg_cat_cntr
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_link "$LINENO"; then :
+  DATADIRNAME=share
+else
+  case $host in
+    *-*-solaris*)
+                        ac_fn_c_check_func "$LINENO" "bind_textdomain_codeset" "ac_cv_func_bind_textdomain_codeset"
+if test "x$ac_cv_func_bind_textdomain_codeset" = xyes; then :
+  DATADIRNAME=share
+else
+  DATADIRNAME=lib
+fi
+
+    ;;
+    *-*-openbsd*)
+    DATADIRNAME=share
+    ;;
+    *)
+    DATADIRNAME=share
+    ;;
+    esac
+fi
+rm -f core conftest.err conftest.$ac_objext \
+    conftest$ac_exeext conftest.$ac_ext
+fi
 
 
 
@


1.4
log
@Update to totem-pl-parser-3.4.4.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.3 2012/09/21 13:23:23 ajacoutot Exp $
@


1.3
log
@Update to totem-pl-parser-3.4.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.2 2012/09/10 08:08:49 ajacoutot Exp $
d6 3
a8 3
--- configure.orig	Tue Sep 18 11:45:37 2012
+++ configure	Thu Sep 20 18:32:28 2012
@@@@ -5110,48 +5110,12 @@@@ fi
d57 1
a57 1
@@@@ -5815,6 +5779,45 @@@@ $as_echo "print -r" >&6; } ;;
@


1.2
log
@Sync comment; no pkg change.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.1 2012/09/09 21:39:35 ajacoutot Exp $
d6 3
a8 3
--- configure.orig	Tue May 15 16:12:17 2012
+++ configure	Sun Sep  9 23:33:19 2012
@@@@ -5065,48 +5065,12 @@@@ fi
d57 1
a57 1
@@@@ -5770,6 +5734,45 @@@@ $as_echo "print -r" >&6; } ;;
@


1.1
log
@Explicitely patch for DATADIRNAME; the hack from the gnome MODULE will
be removed soon.
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
Fix DATADIRNAME: see LOCALBASE/share/aclocal/glib-gettext.m4
@

