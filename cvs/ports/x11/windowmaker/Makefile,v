head	1.101;
access;
symbols
	OPENBSD_6_1:1.101.0.2
	OPENBSD_6_1_BASE:1.101
	OPENBSD_6_0:1.97.0.2
	OPENBSD_6_0_BASE:1.97
	OPENBSD_5_9:1.92.0.2
	OPENBSD_5_9_BASE:1.92
	OPENBSD_5_8:1.91.0.4
	OPENBSD_5_8_BASE:1.91
	OPENBSD_5_7:1.90.0.6
	OPENBSD_5_7_BASE:1.90
	OPENBSD_5_6:1.90.0.4
	OPENBSD_5_6_BASE:1.90
	OPENBSD_5_5:1.90.0.2
	OPENBSD_5_5_BASE:1.90
	OPENBSD_5_4:1.88.0.2
	OPENBSD_5_4_BASE:1.88
	OPENBSD_5_3:1.85.0.2
	OPENBSD_5_3_BASE:1.85
	OPENBSD_5_2:1.83.0.2
	OPENBSD_5_2_BASE:1.83
	OPENBSD_5_1_BASE:1.81
	OPENBSD_5_1:1.81.0.2
	OPENBSD_5_0:1.80.0.4
	OPENBSD_5_0_BASE:1.80
	OPENBSD_4_9:1.80.0.2
	OPENBSD_4_9_BASE:1.80
	OPENBSD_4_8:1.77.0.2
	OPENBSD_4_8_BASE:1.77
	OPENBSD_4_7:1.75.0.2
	OPENBSD_4_7_BASE:1.75
	OPENBSD_4_6:1.74.0.4
	OPENBSD_4_6_BASE:1.74
	OPENBSD_4_5:1.74.0.2
	OPENBSD_4_5_BASE:1.74
	OPENBSD_4_4:1.73.0.4
	OPENBSD_4_4_BASE:1.73
	OPENBSD_4_3:1.73.0.2
	OPENBSD_4_3_BASE:1.73
	OPENBSD_4_2:1.71.0.2
	OPENBSD_4_2_BASE:1.71
	OPENBSD_4_1:1.69.0.2
	OPENBSD_4_1_BASE:1.69
	OPENBSD_4_0:1.66.0.2
	OPENBSD_4_0_BASE:1.66
	OPENBSD_3_9:1.64.0.2
	OPENBSD_3_9_BASE:1.64
	OPENBSD_3_8:1.59.0.4
	OPENBSD_3_8_BASE:1.59
	OPENBSD_3_7:1.59.0.2
	OPENBSD_3_7_BASE:1.59
	OPENBSD_3_6:1.58.0.2
	OPENBSD_3_6_BASE:1.58
	OPENBSD_3_5:1.57.0.4
	OPENBSD_3_5_BASE:1.57
	OPENBSD_3_4:1.57.0.2
	OPENBSD_3_4_BASE:1.57
	OPENBSD_3_3:1.55.0.2
	OPENBSD_3_3_BASE:1.55
	OPENBSD_3_2:1.54.0.2
	OPENBSD_3_2_BASE:1.54
	OPENBSD_3_1:1.50.0.2
	OPENBSD_3_1_BASE:1.50
	OPENBSD_3_0:1.47.0.2
	OPENBSD_3_0_BASE:1.47
	OPENBSD_2_9_TRACKING_SWITCH:1.42
	OPENBSD_2_9:1.38.0.2
	OPENBSD_2_9_BASE:1.38
	OPENBSD_2_8:1.33.0.2
	OPENBSD_2_8_BASE:1.33
	OPENBSD_2_7:1.28.0.2
	OPENBSD_2_7_BASE:1.28
	OPENBSD_2_6:1.16.0.2
	OPENBSD_2_6_BASE:1.16
	OPENBSD_2_5:1.13.0.2
	OPENBSD_2_5_BASE:1.13
	jasoni_1998_DEC_3:1.1.1.1
	jasoni:1.1.1;
locks; strict;
comment	@# @;


1.101
date	2017.03.29.08.51.24;	author dcoppa;	state Exp;
branches;
next	1.100;
commitid	iJiUbsOxTMGevHa4;

1.100
date	2016.08.27.17.21.30;	author jca;	state Exp;
branches;
next	1.99;
commitid	O5A8SbuOhWMqRCQi;

1.99
date	2016.08.05.13.55.33;	author dcoppa;	state Exp;
branches;
next	1.98;
commitid	SwYd49o0l4sRgZwG;

1.98
date	2016.08.05.13.23.09;	author dcoppa;	state Exp;
branches;
next	1.97;
commitid	x1ewle6AlHNngFmJ;

1.97
date	2016.06.24.09.53.54;	author dcoppa;	state Exp;
branches;
next	1.96;
commitid	cP5Ra5MGniKVJ4TD;

1.96
date	2016.06.23.20.25.33;	author sebastia;	state Exp;
branches;
next	1.95;
commitid	tWUrJNsyE67Di3LP;

1.95
date	2016.06.22.10.05.28;	author dcoppa;	state Exp;
branches;
next	1.94;
commitid	by5a0yeT6phIUcVT;

1.94
date	2016.06.17.11.49.33;	author dcoppa;	state Exp;
branches;
next	1.93;
commitid	PIMSZ7WSwFcoJPlR;

1.93
date	2016.03.11.20.28.33;	author naddy;	state Exp;
branches;
next	1.92;
commitid	UYLP8TE6V7RS2GhJ;

1.92
date	2015.12.07.18.24.11;	author jasper;	state Exp;
branches;
next	1.91;
commitid	jJ73BIDOKTAUDfpE;

1.91
date	2015.05.22.11.31.20;	author ajacoutot;	state Exp;
branches;
next	1.90;
commitid	2khjHXfpTaOuNVcx;

1.90
date	2013.09.25.07.58.50;	author sthen;	state Exp;
branches;
next	1.89;

1.89
date	2013.08.22.23.03.20;	author sthen;	state Exp;
branches;
next	1.88;

1.88
date	2013.06.04.18.42.00;	author naddy;	state Exp;
branches;
next	1.87;

1.87
date	2013.03.21.08.48.57;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2013.03.11.11.46.16;	author espie;	state Exp;
branches;
next	1.85;

1.85
date	2012.12.13.16.34.48;	author naddy;	state Exp;
branches;
next	1.84;

1.84
date	2012.08.09.09.30.27;	author dcoppa;	state Exp;
branches;
next	1.83;

1.83
date	2012.03.29.13.39.01;	author sthen;	state Exp;
branches;
next	1.82;

1.82
date	2012.03.17.17.32.28;	author dcoppa;	state Exp;
branches;
next	1.81;

1.81
date	2011.09.16.12.29.17;	author espie;	state Exp;
branches;
next	1.80;

1.80
date	2010.11.22.08.37.05;	author espie;	state Exp;
branches;
next	1.79;

1.79
date	2010.10.24.21.15.35;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2010.10.19.08.13.59;	author espie;	state Exp;
branches;
next	1.77;

1.77
date	2010.07.30.08.02.59;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2010.07.30.06.59.00;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2009.08.11.08.42.09;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2009.02.15.20.12.17;	author wilfried;	state Exp;
branches;
next	1.73;

1.73
date	2007.09.15.20.04.25;	author merdely;	state Exp;
branches;
next	1.72;

1.72
date	2007.08.25.09.27.12;	author mglocker;	state Exp;
branches;
next	1.71;

1.71
date	2007.04.25.11.47.52;	author wilfried;	state Exp;
branches;
next	1.70;

1.70
date	2007.04.08.16.33.41;	author sturm;	state Exp;
branches;
next	1.69;

1.69
date	2006.11.21.22.07.07;	author espie;	state Exp;
branches;
next	1.68;

1.68
date	2006.10.17.12.14.50;	author wilfried;	state Exp;
branches;
next	1.67;

1.67
date	2006.09.18.10.21.49;	author espie;	state Exp;
branches;
next	1.66;

1.66
date	2006.04.14.20.12.34;	author sturm;	state Exp;
branches;
next	1.65;

1.65
date	2006.04.05.04.37.00;	author sturm;	state Exp;
branches;
next	1.64;

1.64
date	2006.01.12.01.05.23;	author naddy;	state Exp;
branches;
next	1.63;

1.63
date	2005.12.27.23.12.24;	author naddy;	state Exp;
branches;
next	1.62;

1.62
date	2005.11.13.08.49.19;	author sturm;	state Exp;
branches;
next	1.61;

1.61
date	2005.11.05.23.32.44;	author wilfried;	state Exp;
branches;
next	1.60;

1.60
date	2005.11.01.17.28.34;	author wilfried;	state Exp;
branches;
next	1.59;

1.59
date	2004.12.19.17.27.02;	author alek;	state Exp;
branches;
next	1.58;

1.58
date	2004.08.10.11.16.44;	author xsa;	state Exp;
branches;
next	1.57;

1.57
date	2003.08.16.19.06.07;	author tedu;	state Exp;
branches;
next	1.56;

1.56
date	2003.05.13.22.53.59;	author sturm;	state Exp;
branches;
next	1.55;

1.55
date	2002.11.22.11.53.58;	author wilfried;	state Exp;
branches;
next	1.54;

1.54
date	2002.07.23.07.58.04;	author wilfried;	state Exp;
branches
	1.54.2.1;
next	1.53;

1.53
date	2002.05.13.08.18.20;	author wilfried;	state Exp;
branches;
next	1.52;

1.52
date	2002.04.30.13.05.04;	author brad;	state Exp;
branches;
next	1.51;

1.51
date	2002.04.29.09.00.59;	author wilfried;	state Exp;
branches;
next	1.50;

1.50
date	2002.01.04.22.40.02;	author wilfried;	state Exp;
branches
	1.50.2.1;
next	1.49;

1.49
date	2001.11.10.11.13.49;	author heko;	state Exp;
branches;
next	1.48;

1.48
date	2001.10.24.13.54.38;	author wilfried;	state Exp;
branches;
next	1.47;

1.47
date	2001.10.05.19.28.50;	author wilfried;	state Exp;
branches;
next	1.46;

1.46
date	2001.09.28.14.37.06;	author wilfried;	state Exp;
branches;
next	1.45;

1.45
date	2001.09.24.09.34.35;	author wilfried;	state Exp;
branches;
next	1.44;

1.44
date	2001.09.14.16.13.05;	author lebel;	state Exp;
branches;
next	1.43;

1.43
date	2001.09.14.15.37.13;	author lebel;	state Exp;
branches;
next	1.42;

1.42
date	2001.08.01.09.04.41;	author wilfried;	state Exp;
branches;
next	1.41;

1.41
date	2001.06.05.09.22.56;	author wilfried;	state Exp;
branches;
next	1.40;

1.40
date	2001.05.24.02.28.35;	author kevlo;	state Exp;
branches;
next	1.39;

1.39
date	2001.05.21.14.05.58;	author wilfried;	state Exp;
branches;
next	1.38;

1.38
date	2001.03.28.10.08.43;	author wilfried;	state Exp;
branches;
next	1.37;

1.37
date	2001.03.09.14.28.52;	author wilfried;	state Exp;
branches;
next	1.36;

1.36
date	2001.02.15.17.57.54;	author wilfried;	state Exp;
branches;
next	1.35;

1.35
date	2001.02.07.13.17.04;	author wilfried;	state Exp;
branches;
next	1.34;

1.34
date	2001.01.19.03.45.58;	author jasoni;	state Exp;
branches;
next	1.33;

1.33
date	2000.10.22.14.03.58;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2000.08.18.16.19.03;	author brad;	state Exp;
branches;
next	1.31;

1.31
date	2000.07.20.06.02.02;	author brad;	state Exp;
branches;
next	1.30;

1.30
date	2000.06.25.22.50.19;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2000.05.21.12.39.01;	author fgsch;	state Exp;
branches;
next	1.28;

1.28
date	2000.04.07.18.46.50;	author jasoni;	state Exp;
branches
	1.28.2.1;
next	1.27;

1.27
date	2000.04.03.03.03.31;	author jasoni;	state Exp;
branches;
next	1.26;

1.26
date	2000.03.24.23.28.41;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2000.03.12.19.59.49;	author jasoni;	state Exp;
branches;
next	1.24;

1.24
date	2000.03.05.18.30.47;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2000.02.15.18.42.43;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	2000.02.15.05.05.32;	author turan;	state Exp;
branches;
next	1.21;

1.21
date	2000.02.12.08.02.34;	author turan;	state Exp;
branches;
next	1.20;

1.20
date	99.12.10.20.52.33;	author jasoni;	state Exp;
branches;
next	1.19;

1.19
date	99.12.09.00.03.19;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	99.10.27.04.57.22;	author jasoni;	state Exp;
branches;
next	1.17;

1.17
date	99.10.26.21.48.16;	author jasoni;	state Exp;
branches;
next	1.16;

1.16
date	99.09.21.02.55.03;	author jasoni;	state Exp;
branches;
next	1.15;

1.15
date	99.06.08.02.52.52;	author jasoni;	state Exp;
branches;
next	1.14;

1.14
date	99.04.22.01.07.46;	author jasoni;	state Exp;
branches;
next	1.13;

1.13
date	99.03.28.21.51.48;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	99.03.27.21.11.31;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	99.03.27.21.04.00;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	99.03.27.02.49.31;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.03.15.06.36.38;	author jasoni;	state Exp;
branches;
next	1.8;

1.8
date	99.03.09.04.13.58;	author jasoni;	state Exp;
branches;
next	1.7;

1.7
date	99.03.08.05.17.59;	author jasoni;	state Exp;
branches;
next	1.6;

1.6
date	99.02.08.03.59.15;	author jasoni;	state Exp;
branches;
next	1.5;

1.5
date	99.02.07.18.46.18;	author jasoni;	state Exp;
branches;
next	1.4;

1.4
date	99.02.07.02.32.37;	author jasoni;	state Exp;
branches;
next	1.3;

1.3
date	98.12.28.22.51.48;	author jasoni;	state Exp;
branches;
next	1.2;

1.2
date	98.12.18.08.13.40;	author jasoni;	state Exp;
branches;
next	1.1;

1.1
date	98.12.04.00.29.20;	author jasoni;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.12.04.00.29.20;	author jasoni;	state Exp;
branches;
next	;

1.28.2.1
date	2000.09.15.05.25.34;	author marc;	state Exp;
branches;
next	;

1.50.2.1
date	2003.01.04.12.48.48;	author wilfried;	state Exp;
branches;
next	;

1.54.2.1
date	2003.01.04.12.49.09;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.101
log
@
Update to windowmaker-0.95.8
@
text
@# $OpenBSD: Makefile,v 1.100 2016/08/27 17:21:30 jca Exp $

COMMENT-main=		window manager that emulates NEXTSTEP(tm)
COMMENT-lang=		language subpackage for Window Maker

V =			0.95.8
DISTNAME=		WindowMaker-${V}
PKGNAME-main=		${DISTNAME:L}
FULLPKGNAME-lang=	windowmaker-lang-${V}

SHARED_LIBS +=  WINGs                     1.0 # 4.0
SHARED_LIBS +=  WMaker                    0.0 # 1.1
SHARED_LIBS +=  WUtil                     0.0 # 5.0
SHARED_LIBS +=  wraster                   6.0 # 6.0

CATEGORIES=		x11 x11/windowmaker

HOMEPAGE=		http://windowmaker.org/

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xext Xft Xinerama Xmu Xpm Xrandr Xrender
WANTLIB += Xt c expat fontconfig freetype gif iconv intl jpeg
WANTLIB += kvm m png pthread pthread-stubs tiff xcb z

MASTER_SITES=		${MASTER_SITE_WINDOWMAKER:=source/release/}

NO_TEST=		Yes
SEPARATE_BUILD=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--disable-magick \
			--disable-webp \
			--enable-randr \
			--enable-static \
			--enable-xinerama \
			--localedir="${LOCALBASE}/share/locale"

CONFIGURE_ENV=		CPPFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include" \
			LIBS="-L${X11BASE}/lib -L${LOCALBASE}/lib" \
			LINGUAS='*' \
			ac_cv_lib_exif_exif_data_new_from_file=no \
			wm_cv_func_secure_getenv=no

MULTI_PACKAGES=		-main -lang

BUILD_DEPENDS=		devel/gettext-tools
LIB_DEPENDS=		devel/gettext \
			graphics/tiff \
			graphics/png \
			graphics/giflib

RUN_DEPENDS-lang =	x11/windowmaker>=${V}
LIB_DEPENDS-lang=
WANTLIB-lang=

WMAKER_SHARE =		${PREFIX}/share/WindowMaker

pre-configure:
	@@touch ${WRKSRC}/configure.ac ${WRKSRC}/aclocal.m4 \
		${WRKSRC}/configure ${WRKSRC}/Makefile.am \
		${WRKSRC}/Makefile.in
	${SUBST_CMD} ${WRKSRC}/WindowMaker/Makefile.in \
		${WRKSRC}/WindowMaker/plmenu.in \
		${WRKSRC}/WindowMaker/Defaults/Makefile.in \
		${WRKSRC}/WindowMaker/Defaults/WMWindowAttributes.in

post-install:
	mv ${WRKINST}/${SYSCONFDIR}/WindowMaker ${PREFIX}/share/examples/
	${INSTALL_DATA_DIR} ${PREFIX}/share/WindowMaker/Sounds
	${INSTALL_DATA_DIR} ${PREFIX}/GNUstep/Applications
	ln -s ${LOCALBASE}/share/WPrefs ${PREFIX}/GNUstep/Applications/WPrefs.app
# Rename wrongly named locale files
	@@mv ${WMAKER_SHARE}/menu.cz ${WMAKER_SHARE}/menu.cs
	@@mv ${WMAKER_SHARE}/menu.se ${WMAKER_SHARE}/menu.sv

.include <bsd.port.mk>
@


1.100
log
@Drop the gettext module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2016/08/05 13:55:33 dcoppa Exp $
d6 1
a6 1
V =			0.95.7
d11 1
a11 3
REVISION-main=		5

SHARED_LIBS +=  WINGs                     0.0 # 2.1
d13 2
a14 2
SHARED_LIBS +=  WUtil                     0.0 # 3.0
SHARED_LIBS +=  wraster                   5.1 # 4.1
d63 3
a65 2
	${SUBST_CMD} ${WRKSRC}/WindowMaker/menu \
		${WRKSRC}/WindowMaker/plmenu \
@


1.99
log
@
Merge commit 5561199c871293cca0b3dc2c6feff0d7783111c6 from upstream.

Allow alt+tabbed windows over fullscreen

Fullscreen windows should only be on top when they are in focus. Change
the stacking level temporarily back to WMNormalLevel if the fullscreen
window loses focus due to an alt+tab operation.

Change the stacking level back to WMFullscreenLevel if the fullscreen
window receives the focus again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2016/08/05 13:23:09 dcoppa Exp $
d11 1
a11 1
REVISION-main=		4
d25 3
a27 3
WANTLIB += ICE SM X11 Xmu Xext Xft Xinerama Xpm Xrandr Xrender
WANTLIB += Xt c expat fontconfig freetype gif jpeg kvm m png
WANTLIB += pthread pthread-stubs tiff xcb z
d49 3
a51 2
MODULES=		devel/gettext
LIB_DEPENDS=		graphics/tiff \
@


1.98
log
@
Merge fix from upstream:

Fix stacking order of dock and fullscreen.

This reverts the commits:
 311ab6b08ccf ("Raise fullscreened window")
 a504370f3b27 ("Remove WMFullscreenLevel")

Removing WMFullscreenLevel had the side effect that a dock or panel
having the _NET_WM_WINDOW_TYPE_DOCK type would stack on top of
fullscreen windows, obscuring part of them.  This is unwanted. No
other window should cover a focused fullscreen window.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2016/06/24 09:53:54 dcoppa Exp $
d11 1
a11 1
REVISION-main=		3
@


1.97
log
@
Sebastian's commit still wasn't sufficient, unfortunately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2016/06/23 20:25:33 sebastia Exp $
d11 1
a11 1
REVISION-main=		2
@


1.96
log
@Load WMRootMenu properly

feeback and OK dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2016/06/22 10:05:28 dcoppa Exp $
d11 1
a11 1
REVISION-main=		1
d65 2
a66 1
		${WRKSRC}/WindowMaker/plmenu
@


1.95
log
@
Merge multiple fixes from upstream:

Avoid create again a docked application cache icon
Avoid recreate Cached Icon moving between docks
Fix infinite loop in switching within group
Maintain sorting of windows by workspace in switch menu
New applications do not create Cached Icon
Remove cache icon when detached
Save the icon filename instead of the full path
Use window placement settings on other workspaces
create_appicon_from_dock checks if no_appicon flag is set
getstyle: fix wcopy_file paths
wmmenugen: Fix segfault; argv[argc] doesn't exist
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2016/06/17 11:49:33 dcoppa Exp $
d11 1
a11 1
REVISION-main=		0
d64 2
@


1.94
log
@
Update to WindowMaker-0.95.7

OK reyk@@, sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2016/03/11 20:28:33 naddy Exp $
d10 2
@


1.93
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2015/12/07 18:24:11 jasper Exp $
d6 1
a6 1
V=			0.92.0
a8 1
REVISION-main=		56
a9 1
REVISION-lang=		5
d11 4
a14 1
SHARED_LIBS +=	wraster              5.0      # 4.0
d23 3
a25 2
WANTLIB += X11 Xext Xft Xinerama Xpm Xrender c expat fontconfig
WANTLIB += freetype jpeg m png pthread-stubs tiff gif xcb z
a27 1
EXTRACT_SUFX=		.tar.bz2
d32 4
a35 1
CONFIGURE_ARGS+=	--enable-static \
d37 1
a37 2
			--with-datadir="${LOCALBASE}/share/WindowMaker" \
			--with-nlsdir="${LOCALBASE}/share/locale"
d39 5
a43 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" LIBS="-L${LOCALBASE}/lib" \
			LINGUAS='be bg bs ca cs da de el es et fi fr gl hr hu it ja ko ms nl no pl pt ro ru sk sv tr zh_CN zh_TW'
d52 1
a52 1
RUN_DEPENDS-lang=	x11/windowmaker>=0.90.0
d56 1
a56 4
post-patch:
# Rename wrongly named locale files
	@@mv ${WRKSRC}/WindowMaker/menu.cz ${WRKSRC}/WindowMaker/menu.cs
	@@mv ${WRKSRC}/WindowMaker/menu.se ${WRKSRC}/WindowMaker/menu.sv
d59 3
a61 6
	@@perl -pi -e "s|%%PREFIX%%|${PREFIX}|g" \
	${WRKSRC}/WINGs/wapplication.c \
	${WRKSRC}/WPrefs.app/Menu.c \
	${WRKSRC}/WPrefs.app/Paths.c \
	${WRKSRC}/WindowMaker/Defaults/WMWindowAttributes.in \
	${WRKSRC}/WindowMaker/Defaults/WindowMaker.in
d68 3
@


1.92
log
@update HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2015/05/22 11:31:20 ajacoutot Exp $
d31 1
a31 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--enable-static \
@


1.91
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/09/25 07:58:50 sthen Exp $
d9 1
a9 1
REVISION-main=		55
d11 1
a11 1
REVISION-lang=		4
d17 1
a17 1
HOMEPAGE=		http://www.windowmaker.info/
@


1.90
log
@libungif->giflib and patch where necessary, ok jasper@@ aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/08/22 23:03:20 sthen Exp $
d9 1
a9 1
REVISION-main=		54
d11 1
a11 1
REVISION-lang=		3
@


1.89
log
@- Add upstream patch to fix java/netbeans menu problem after
resize, maximize. From Christian Schulte on ports@@.

- While there: tidy Makefile, regen PLIST and merge PFRAG.shared,
don't USE_GROFF.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/06/04 18:42:00 naddy Exp $
d9 1
a9 1
REVISION-main=		14
d23 1
a23 1
WANTLIB += freetype jpeg m png pthread-stubs tiff ungif xcb z
d45 1
a45 1
			graphics/libungif
@


1.88
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2013/03/21 08:48:57 ajacoutot Exp $
d9 2
a10 2
REVISION-main=		13
FULLPKGNAME-lang=       windowmaker-lang-${V}
d12 3
a14 1
SHARED_LIBS=		wraster 5.0
d19 1
a19 1
# GPL
d22 3
a29 1
USE_GROFF =		Yes
d40 1
a40 1
MULTI_PACKAGES=         -main -lang
a45 3
WANTLIB=		X11 Xau Xdmcp Xext Xft Xinerama Xpm Xrender c expat \
	 		fontconfig freetype m z pthread-stubs xcb jpeg \
			tiff png ungif
@


1.87
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2013/03/11 11:46:16 espie Exp $
d33 1
a33 1
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" LIBS="-L${LOCALBASE}/lib" \
@


1.86
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2012/12/13 16:34:48 naddy Exp $
a24 1
USE_LIBTOOL=		Yes
@


1.85
log
@remove Peter Stromberg as maintainer:
"I haven't used any of those ports myself for a long time, so I think it's
best you remove me as maintainer."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2012/08/09 09:30:27 dcoppa Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d23 1
a23 1
NO_REGRESS=		Yes
@


1.84
log
@
Fix attributes of WPrefs app, so that it has the right icon in the
dock, instead of a broken one.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2012/03/29 13:39:01 sthen Exp $
d9 1
a9 1
REVISION-main=		12
d11 1
a11 1
REVISION-lang=		2
a15 2

MAINTAINER=		Peter Stromberg <wilfried@@openbsd.org>
@


1.83
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2012/03/17 17:32:28 dcoppa Exp $
d9 1
a9 1
REVISION-main=		11
d66 1
@


1.82
log
@Fix the "periodic focus bug" described at:
http://repo.or.cz/w/wmaker-crm.git/commitdiff/c91bb1ba1360006c568db37438779e525868cf17

From upstream git via Bryan Linton (bl AT shoshoni DOT info)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2011/09/16 12:29:17 espie Exp $
d29 1
a29 1
SEPARATE_BUILD=		simple
@


1.81
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2010/11/22 08:37:05 espie Exp $
d9 1
a9 1
REVISION-main=		10
@


1.80
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2010/10/24 21:15:35 ajacoutot Exp $
d11 1
a11 1
REVISION-lang=		1
@


1.79
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2010/10/19 08:13:59 espie Exp $
d31 1
a31 1
USE_GROFF =	Yes
d45 3
a47 3
LIB_DEPENDS=		::graphics/tiff \
			::graphics/png \
			::graphics/libungif
d52 1
a52 1
RUN_DEPENDS-lang=	:windowmaker->=0.90.0:x11/windowmaker
@


1.78
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2010/07/30 08:02:59 ajacoutot Exp $
a29 1
USE_X11=		Yes
@


1.77
log
@Move move to new DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2010/07/30 06:59:00 ajacoutot Exp $
d32 1
@


1.76
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2009/08/11 08:42:09 ajacoutot Exp $
d9 1
a9 1
REVISION-main=		9
d45 3
a47 4
LIB_DEPENDS=		jpeg.>=62::graphics/jpeg \
			tiff.>=35::graphics/tiff \
			png.>=2::graphics/png \
			ungif.>=5::graphics/libungif
d49 2
a50 1
	 		fontconfig freetype m z pthread-stubs xcb
@


1.75
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2009/02/15 20:12:17 wilfried Exp $
d8 4
a11 2
PKGNAME-main=		${DISTNAME:L}p9
FULLPKGNAME-lang=       windowmaker-lang-${V}p1
@


1.74
log
@make wmaker.inst know where WPrefs is
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2007/09/15 20:04:25 merdely Exp $
d8 1
a8 1
PKGNAME-main=		${DISTNAME:L}p8
d48 1
a48 1
			fontconfig freetype m z
@


1.73
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2007/08/25 09:27:12 mglocker Exp $
d8 1
a8 1
PKGNAME-main=		${DISTNAME:L}p7
@


1.72
log
@Fixes WPrefs crash when choosing WPrefs Menu Definition.  Patch from
Pedro Martelletto:

Revision 1.4 of x11/windowmaker/patches/patch-WINGs_string_c uncovered
a bug in WPrefs, WindowMaker's configuration tool. The bug can be easily
triggered by choosing the 'Applications Menu Definition' dialogue.

The problem is that WPrefs code relied on the fact that the first token
in the array would not be free'd by wtokenfree(), a misbehaviour which
was correctly addressed in the aforementioned change.

Tested by some, and OK jasper@@ before ports tree lock.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2007/04/25 11:47:52 wilfried Exp $
d3 2
a4 2
COMMENT-main=		'window manager that emulates NEXTSTEP(tm)'
COMMENT-lang=		"language subpackage for Window Maker"
@


1.71
log
@bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2007/04/08 16:33:41 sturm Exp $
d8 1
a8 1
PKGNAME-main=		${DISTNAME:L}p6
@


1.70
log
@more WANTLIB fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2006/11/21 22:07:07 espie Exp $
d8 1
a8 1
PKGNAME-main=		${DISTNAME:L}p5
@


1.69
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2006/10/17 12:14:50 wilfried Exp $
d8 1
a8 1
PKGNAME-main=		${DISTNAME:L}p4
d47 2
a48 1
WANTLIB=		X11 Xext Xft Xinerama Xpm Xrender c fontconfig freetype m z
@


1.68
log
@build with xinerama by default (and remove the flavor)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2006/09/18 10:21:49 espie Exp $
d3 1
a3 1
COMMENT=		'window manager that emulates NEXTSTEP(tm)'
d8 1
a8 1
PKGNAME=		${DISTNAME:L}p3
d40 1
a40 2
SUBPACKAGE?=
MULTI_PACKAGES=         -lang
a41 3
.if defined(PACKAGING) && !empty(SUBPACKAGE)
RUN_DEPENDS=		:windowmaker->=0.90.0:x11/windowmaker
.else
d48 4
a51 1
.endif
@


1.67
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2006/04/14 20:12:34 sturm Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME:L}p2
a25 4
FLAVORS=		xinerama
FLAVOR?=


d33 1
a35 3
.if ${FLAVOR:L:Mxinerama}
CONFIGURE_ARGS+=	--enable-xinerama
.endif
d51 1
a51 4
WANTLIB=		X11 Xext Xft Xpm Xrender c fontconfig freetype m z
. if ${FLAVOR:L:Mxinerama}
WANTLIB+=		Xinerama
. endif
@


1.66
log
@bump all PKGNAMEs after HOMEPAGE change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2006/04/05 04:37:00 sturm Exp $
d53 4
a56 4
LIB_DEPENDS=		jpeg.62::graphics/jpeg \
			tiff.35::graphics/tiff \
			png.2::graphics/png \
			ungif.5::graphics/libungif
@


1.65
log
@fix urls for windowmaker ports

from jim razmus
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2006/01/12 01:05:23 naddy Exp $
d9 1
a9 1
FULLPKGNAME-lang=       windowmaker-lang-${V}p0
@


1.64
log
@remove MODGNU_SHARED_LIBS and related hacks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2005/12/27 23:12:24 naddy Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME:L}p1
d13 1
a13 1
HOMEPAGE=		http://www.windowmaker.org/
@


1.63
log
@SHARED_LIBS, USE_LIBTOOL, a little cleanup
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2005/11/13 08:49:19 sturm Exp $
a10 1
MODGNU_SHARED_LIBS=	wraster ''
@


1.62
log
@/etc -> ${SYSCONFDIR}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2005/11/05 23:32:44 wilfried Exp $
d8 4
a11 1
PKGNAME=		${DISTNAME:L}p0
d32 1
a32 1
SEPARATE_BUILD=		concurrent
d34 1
a48 1
FULLPKGNAME-lang=       windowmaker-lang-${V}
@


1.61
log
@Some 64bits patches from matthieu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2005/11/01 17:28:34 wilfried Exp $
d74 1
a74 1
	mv ${WRKINST}/etc/WindowMaker ${PREFIX}/share/examples/
@


1.60
log
@update to 0.92.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2004/12/19 17:27:02 alek Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME:L}
@


1.59
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2004/08/10 11:16:44 xsa Exp $
d6 1
a6 1
V=			0.80.2
d8 1
a8 1
PKGNAME=		${DISTNAME:L}p1
d24 4
d31 1
a31 1
CONFIGURE_STYLE=	gnu old
d34 8
a41 16
			--with-pixmapdir="${PREFIX}/share/WindowMaker/Pixmaps" \
			--with-nlsdir="${LOCALBASE}/share/locale" \
			--disable-dependency-tracking \
			--enable-gnome \
			--enable-kde \
			--sysconfdir="${CONFDIR}"
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include/libpng" LIBS="-L${LOCALBASE}/lib" \
			LINGUAS='bg cs da de el es et fi fr gl hr hu it ja ko ms nl no pl pt ro ru sk sv tr zh_CN zh_TW.Big5'

CONFDIR=		${PREFIX}/share/WindowMaker/Defaults

MULTI_PACKAGES= 	-lang

.for i in ${MULTI_PACKAGES}
PKGNAME$i=      	windowmaker${i}-${V}
.endfor
d44 2
d48 1
a48 1
RUN_DEPENDS=		:windowmaker->=0.80.1:x11/windowmaker
d55 4
a58 1
WANTLIB=		X11 Xext Xpm c m z
a61 4
	@@perl -pi -e "s|%%PREFIX%%|${PREFIX}|g" \
		${WRKSRC}/WINGs/wapplication.c \
		${WRKSRC}/WPrefs.app/Menu.c \
		${WRKSRC}/WPrefs.app/Paths.c
d66 7
d74 1
d76 2
@


1.58
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2003/08/16 19:06:07 tedu Exp $
d57 1
@


1.57
log
@bump package name to p1 with patches.  reminded by fgsch and ok wilfried
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2003/05/13 22:53:59 sturm Exp $
d52 1
a52 1
MODULES=		gettext
@


1.56
log
@don't change SYSCONFDIR, use CONFDIR instead
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2002/11/22 11:53:58 wilfried Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME:L}
@


1.55
log
@update to WindowMaker-0.80.2

Fixed buffer overflow in libwraster
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2002/07/23 07:58:04 wilfried Exp $
d27 1
a27 1
CONFIGURE_STYLE=	gnu
d34 2
a35 1
			--enable-kde
d39 1
a39 1
SYSCONFDIR=		${PREFIX}/share/WindowMaker/Defaults
@


1.54
log
@update to Window Maker-0.80.1, lots of bugfixes
removed 'i18n' flavor and added a 'lang' subpackage instead
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2002/05/13 08:18:20 wilfried Exp $
d6 1
a6 1
V=			0.80.1
@


1.54.2.1
log
@MFC: update to WindowMaker-0.80.2

Fixed buffer overflow in libwraster
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2002/07/23 07:58:04 wilfried Exp $
d6 1
a6 1
V=			0.80.2
@


1.53
log
@bye MASTER_SITES_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2002/04/30 13:05:04 brad Exp $
d4 1
d6 2
a7 1
DISTNAME=		WindowMaker-0.80.0
a9 1
NEED_VERSION=		1.528
a23 5
LIB_DEPENDS=		jpeg.62::graphics/jpeg \
			tiff.35::graphics/tiff \
			png.2::graphics/png \
			ungif.5::graphics/libungif

d35 6
a40 1
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include/libpng"
d42 3
a44 2
FLAVORS=		i18n
FLAVOR?=
d46 5
a50 1
.if ${FLAVOR:L:Mi18n}
d52 4
a55 2
CONFIGURE_ENV+=		LIBS="-L${LOCALBASE}/lib"
CONFIGURE_ENV+=		LINGUAS='bg cs da de el es et fi fr gl hr hu it ja ko nl no pl pt ro ru sk sv tr zh_CN zh_TW.Big5'
a56 2

SYSCONFDIR=		${PREFIX}/share/WindowMaker/Defaults
@


1.52
log
@CPPFLAGS is empty by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2002/04/29 09:00:59 wilfried Exp $
d8 1
a8 1
NEED_VERSION=		1.481
d20 1
a20 2
MASTER_SITES=		${MASTER_SITE_WINDOWMAKER}
MASTER_SITE_SUBDIR=	source/release
@


1.51
log
@png include path
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2002/01/04 22:40:02 wilfried Exp $
d40 1
a40 1
CONFIGURE_ENV=		CPPFLAGS="${CPPFLAGS} -I${LOCALBASE}/include/libpng"
@


1.50
log
@update to WindowMaker-0.80.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2001/11/10 11:13:49 heko Exp $
d14 1
d40 1
@


1.50.2.1
log
@MFC: update to WindowMaker-0.80.2

Fixed buffer overflow in libwraster
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2002/01/04 22:40:02 wilfried Exp $
d5 1
a5 1
DISTNAME=		WindowMaker-0.80.2
d46 1
a46 1
CONFIGURE_ENV+=		LINGUAS='bg cs da de el es et fi fr gl hr hu it ja ko ms nl no pl pt ro ru sk sv tr zh_CN zh_TW.Big5'
@


1.49
log
@Use libungif instead of libgif.
brad@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2001/10/05 19:28:50 wilfried Exp $
d5 1
a5 1
DISTNAME=		WindowMaker-0.70.0
@


1.48
log
@update Window Maker to 0.70.0
@
text
@d26 1
a26 1
			gif.4.1::graphics/giflib
@


1.47
log
@use ports in-tree libtool patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2001/09/28 14:37:06 wilfried Exp $
d5 1
a5 1
DISTNAME=		WindowMaker-0.65.1
d8 1
a8 1
NEED_VERSION=		1.460
d23 1
a23 6
PATCH_LIST=		${PORTSDIR}/infrastructure/patches/patch-lt1.3.5-ltconfig \
			${PORTSDIR}/infrastructure/patches/patch-lt1.3.5-ltmain_sh \
			patch-*

LIB_DEPENDS=		PropList.2::devel/libproplist \
			jpeg.62::graphics/jpeg \
d28 1
d36 3
a38 1
			--enable-gnome
@


1.46
log
@no more beta/srcs, use source/release instead, noted by tobias@@paprotta.de
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2001/09/24 09:34:35 wilfried Exp $
d22 4
@


1.45
log
@use gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2001/09/14 16:13:05 lebel Exp $
d20 1
a20 1
MASTER_SITE_SUBDIR=	beta/srcs
@


1.44
log
@well, as agreed on icb, we decided to support gnome by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2001/09/14 15:37:13 lebel Exp $
d8 1
a8 1
NEED_VERSION=		1.433
d42 1
a42 1
LIB_DEPENDS+=		intl::devel/gettext
@


1.43
log
@add gnome flavour to x11/windowmaker.
o since WindowMaker doesn't link against any gnome libs, I didn't
add any dependencies to gnome.
o gnome FLAVOR adds hints to support Gnome applications like the Panel.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2001/08/01 09:04:41 wilfried Exp $
d35 2
a36 1
			--with-nlsdir="${LOCALBASE}/share/locale"
d38 1
a38 1
FLAVORS=		i18n gnome
a39 6

.if ${FLAVOR:L:Mgnome}
CONFIGURE_ARGS+=	--enable-gnome
.else
CONFIGURE_ARGS+=	--disable-gnome
.endif
@


1.42
log
@update Window Maker to 0.65.1

- Fixed crash with long titles in the window list menu (buffer overflow)
- fixed crash when removing menu entry for Window List or Workspace submenu
- Replaced almost all sprintf() calls with snprintf()
- Fixed some non-portable shell constructs used in installed scripts
- removed FocusFollowMouse from wmaker and WPrefs
- fixed problem with alpha images showing a blue tint on big endian machines
- fixed problem with WINGs based apps exiting with a "X_RotateProperties"
  related error when text was selected in a textfiled (including WPrefs.app
  and Window Maker itself).
- fixed bug with maximization of windows with fixed resize increments
- added None geometry display type
- fixed window enumeration bug
- removed GNUisms from wsetfont
- added slovakian translations
- added WINGs i18n patch
- fixed wmsetbg.c to work in servers capable of multiple depths (overlay)
- added HMaximizeKey
- fixed bad SIGPIPE handling setup across forks
- added workaround for bug in locale handling on font set creation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2001/06/05 09:22:56 wilfried Exp $
d37 1
a37 1
FLAVORS=		i18n
d39 6
@


1.41
log
@USE_BZIP2 is deprecated, use EXTRACT_SUFX instead.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2001/05/24 02:28:35 kevlo Exp $
d5 1
a5 1
DISTNAME=		WindowMaker-0.65.0
d8 1
a8 1
NEED_VERSION=		1.409
@


1.40
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2001/05/21 14:05:58 wilfried Exp $
d21 1
a30 1
USE_BZIP2=		Yes
@


1.39
log
@upgrade to 0.65.0
add i18n flavor && fix po-files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2001/03/28 10:08:43 wilfried Exp $
d25 1
a25 1
			png.1::graphics/png \
@


1.38
log
@- integrate COMMENT
- bump NEED_VERSION
- run ispell & fmt on DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2001/03/09 14:28:52 wilfried Exp $
d5 1
a5 1
DISTNAME=		WindowMaker-0.64.0
d8 1
a8 1
NEED_VERSION=		1.364
d28 1
d30 1
d34 11
a44 2
			--disable-debug \
			--with-pixmapdir="${PREFIX}/share/WindowMaker/Pixmaps"
d53 3
@


1.37
log
@-clean up (match Makefile.template)
-add USE_X11 where forgotten
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.36 2001/02/15 17:57:54 wilfried Exp $
d8 1
a8 1
NEED_VERSION=		1.340
@


1.36
log
@Update to 0.64.0
Split windowmaker-extra to its own port
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2001/02/07 13:17:04 wilfried Exp $
d3 4
a6 13
DISTNAME=	WindowMaker-0.64.0
PKGNAME=	${DISTNAME:L}
CATEGORIES=	x11 x11/windowmaker
NEED_VERSION=	1.340
HOMEPAGE=	http://www.windowmaker.org/
MASTER_SITES=	${MASTER_SITE_WINDOWMAKER}
MASTER_SITE_SUBDIR= beta/srcs

LIB_DEPENDS=	PropList.2::devel/libproplist \
		jpeg.62::graphics/jpeg \
		tiff.35::graphics/tiff \
		png.1::graphics/png \
		gif.4.1::graphics/giflib
d8 1
a8 1
MAINTAINER=	Peter Stromberg <wilfried@@openbsd.org>
d10 3
d14 1
a14 1
PERMIT_PACKAGE_CDROM=	Yes
a15 1
PERMIT_DISTFILES_CDROM=	Yes
d17 17
a33 6
SYSCONFDIR=	${PREFIX}/share/WindowMaker/Defaults
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS= ${CONFIGURE_SHARED} \
		--enable-static \
		--disable-debug \
		--with-pixmapdir="${PREFIX}/share/WindowMaker/Pixmaps"
@


1.35
log
@Take over port, ok jasoni@@
Add x11/windowmaker to CATEGORIES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2001/01/19 03:45:58 jasoni Exp $
d3 2
a4 2
DISTNAME=	WindowMaker-0.63.1
PKGNAME=	windowmaker-0.63.1
d6 2
a7 1
NEED_VERSION=	1.310
a9 4
DATAFILES=	WindowMaker-extra-0.1.tar.gz
DISTFILES=	${DISTNAME}.tar.gz ${DATAFILES}

HOMEPAGE=	http://www.windowmaker.org/
d26 10
a35 10
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+=--enable-static --with-pixmapdir="${PREFIX}/share/WindowMaker/Pixmaps" \
		--with-incs-from="-I${PREFIX}/include -I${PREFIX}/include/giflib" \
		--with-libs-from="-L${PREFIX}/lib" --disable-debug 
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

post-configure:
	@@cd ${WRKDIR}/WindowMaker-extra-0.1; \
		./configure --prefix="${PREFIX}"
d38 1
a38 3
	@@cd ${WRKDIR}/WindowMaker-extra-0.1 && \
		${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} \
		${FAKE_FLAGS} -f ${MAKE_FILE} install
@


1.34
log
@missed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2000/10/22 14:03:58 espie Exp $
d5 1
a5 1
CATEGORIES=	x11
d20 1
a20 1
MAINTAINER=	Jason Ish <jasoni@@openbsd.org>
@


1.33
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2000/08/18 16:19:03 brad Exp $
d3 2
a4 2
DISTNAME=	WindowMaker-0.62.1
PKGNAME=	windowmaker-0.62.1
@


1.32
log
@fix installation problem with the WindowMaker-extra part of the install
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2000/07/20 06:02:02 brad Exp $
d20 1
a20 1
MAINTAINER=	jasoni@@openbsd.org
@


1.31
log
@- add HOMEPAGE to DESCR
- remove FAKE=Yes
- GNU_CONFIGURE -> CONFIGURE_STYLE
- use better filename for patch
- use new framework for PLISTs
- add @@comment with RCS id to PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2000/06/25 22:50:19 brad Exp $
d38 1
a38 1
		./configure --prefix="${WRKINST}${PREFIX}"
d41 3
a43 1
	@@cd ${WRKDIR}/WindowMaker-extra-0.1; make install
@


1.30
log
@change dependency, png.1.6 -> png.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2000/05/21 12:39:01 fgsch Exp $
d6 1
a6 1
NEED_VERSION=	 1.230
d14 6
a26 8
LIB_DEPENDS=	PropList.2::devel/libproplist \
		jpeg.62::graphics/jpeg \
		tiff.35::graphics/tiff \
		png.1::graphics/png \
		gif.4.1::graphics/giflib

GNU_CONFIGURE=	Yes
FAKE=		Yes
d28 1
d38 2
a39 1
		./configure --prefix=${WRKINST}${PREFIX}
@


1.29
log
@update libpng dependency since minor changed; sigh sigh.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2000/04/07 18:46:50 jasoni Exp $
d24 1
a24 1
		png.1.6::graphics/png \
@


1.28
log
@Update to 0.62.1 - bugfix.
One point against me for not letting the new release mature enough!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2000/04/03 03:03:31 jasoni Exp $
d24 1
a24 1
		png.1.3::graphics/png \
@


1.28.2.1
log
@bring x11 as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2000/07/20 06:02:02 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.310
a13 6
LIB_DEPENDS=	PropList.2::devel/libproplist \
		jpeg.62::graphics/jpeg \
		tiff.35::graphics/tiff \
		png.1::graphics/png \
		gif.4.1::graphics/giflib

d21 8
a29 1
CONFIGURE_STYLE= gnu
d39 1
a39 2
		./configure --prefix="${WRKINST}${PREFIX}"

@


1.27
log
@Upgrade to 0.62.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2000/03/24 23:28:41 espie Exp $
d3 2
a4 2
DISTNAME=	WindowMaker-0.62.0
PKGNAME=	windowmaker-0.62.0
@


1.26
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2000/03/12 19:59:49 jasoni Exp $
d3 2
a4 2
DISTNAME=	WindowMaker-0.61.1
PKGNAME=	windowmaker-0.61.1
d11 2
@


1.25
log
@Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/03/05 18:30:47 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.223
d19 5
a23 5
LIB_DEPENDS=	PropList.2:devel/libproplist \
		jpeg.62:graphics/jpeg \
		tiff.35:graphics/tiff \
		png.1.3:graphics/png \
		gif.4.1:graphics/giflib
@


1.24
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/02/15 18:42:43 brad Exp $
a13 1
LICENSE_TYPE=	GPL
d25 2
a26 1
# The files placed in $SYSCONFDIR are better placed in $PREFIX/share/WindowMaker
a27 1
GNU_CONFIGURE=	Yes
d37 1
a37 2
		./configure --prefix="${PREFIX}"

a39 1
	@@PKG_PREFIX="${PREFIX}" sh ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL
@


1.23
log
@style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 1999/12/10 20:52:33 jasoni Exp $
d6 1
a11 2
NEED_VERSION=	1.73

d20 5
a24 5
LIB_DEPENDS=	PropList.2:${PORTSDIR}/devel/libproplist \
		jpeg.62:${PORTSDIR}/graphics/jpeg \
		tiff.35:${PORTSDIR}/graphics/tiff \
		png.1.3:${PORTSDIR}/graphics/png \
		gif.4.1:${PORTSDIR}/graphics/giflib
@


1.22
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/02/12 08:02:34 turan Exp $
d15 5
a19 5
LICENSE_TYPE=		GPL
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d29 1
a29 1
GNU_CONFIGURE=	yes
d31 1
a31 1
CONFIGURE_ARGS+=--enable-static --with-pixmapdir=${PREFIX}/share/WindowMaker/Pixmaps \
d34 2
a35 2
CONFIGURE_ENV=	CPPFLAGS="-I${PREFIX}/include" \
		LDFLAGS="-L${PREFIX}/lib"
d39 1
a39 1
		./configure --prefix=${PREFIX}
@


1.21
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 1999/12/10 20:52:33 jasoni Exp $
d16 4
a19 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.20
log
@Add a missing closing quote.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 1999/12/09 00:03:19 brad Exp $
d14 6
@


1.19
log
@- change master dist site to ${MASTER_SITE_WINDOWMAKER}
- remove deprecated variables
- cleanup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 1999/10/26 21:48:16 jasoni Exp $
d37 1
a37 1
	@@PKG_PREFIX="${PREFIX} sh ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL
@


1.18
log
@Add lib versions, use new tiff: brad@@
@
text
@d6 2
a7 2
MASTER_SITES=	ftp://ftp.windowmaker.org/pub/beta/srcs/ \
		ftp://ftp.io.com/pub/mirror/windowmaker/beta/srcs/
d9 1
a9 1
DISTFILES=	${DISTNAME}${EXTRACT_SUFX} ${DATAFILES}
d15 1
a15 1
LIB_DEPENDS=	PropList.2.0:${PORTSDIR}/devel/libproplist \
d22 8
a29 8
SYSCONFDIR=		${PREFIX}/share/WindowMaker/Defaults
GNU_CONFIGURE=		yes
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}
CONFIGURE_ARGS+= 	--enable-static --with-pixmapdir=${PREFIX}/share/WindowMaker/Pixmaps \
			--with-incs-from="-I${PREFIX}/include -I${PREFIX}/include/giflib" \
			--with-libs-from="-L${PREFIX}/lib" --disable-debug 
CONFIGURE_ENV=		CPPFLAGS="-I${PREFIX}/include" \
			LDFLAGS="-L${PREFIX}/lib"
d36 2
a37 3
	@@cd ${WRKDIR}/WindowMaker-extra-0.1; \
		${MAKE} install
	@@${SH} ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL
@


1.17
log
@Update to WindowMaker-0.61.1; package tested.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 1999/09/21 02:55:03 jasoni Exp $
d15 5
a19 5
LIB_DEPENDS=	PropList:${PORTSDIR}/devel/libproplist \
		jpeg:${PORTSDIR}/graphics/jpeg \
		tiff:${PORTSDIR}/graphics/tiff34 \
		png:${PORTSDIR}/graphics/png \
		gif:${PORTSDIR}/graphics/giflib
@


1.16
log
@Update to v0.61.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 1999/06/08 02:52:52 jasoni Exp $
d3 2
a4 1
DISTNAME=	WindowMaker-0.61.0
d38 1
a38 7
	@@if [ -d /etc/WindowMaker ] ; then \
	  ${ECHO} " "; \
	  ${ECHO} "***"; \
	  ${ECHO} "The directory /etc/WindowMaker may be removed."; \
	  ${ECHO} "***"; \
	  ${ECHO} " "; \
	fi
@


1.15
log
@force Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/04/22 01:07:46 jasoni Exp $
d3 1
a3 1
DISTNAME=	WindowMaker-0.60.0
d21 8
a28 8
SYSCONFDIR=	${PREFIX}/share/WindowMaker/Defaults
GNU_CONFIGURE=	yes
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --enable-static --with-pixmapdir=${PREFIX}/share/WindowMaker/Pixmaps \
		--with-incs-from="-I${PREFIX}/include -I${PREFIX}/include/giflib" \
		--with-libs-from="-L${PREFIX}/lib" --disable-debug 
CONFIGURE_ENV=	CPPFLAGS="-I${PREFIX}/include" \
		LDFLAGS="-L${PREFIX}/lib"
@


1.14
log
@commit this time..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/03/28 21:51:48 brad Exp $
d3 1
a3 1
DISTNAME=	WindowMaker-0.53.0
@


1.13
log
@fixup configure env's
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/03/27 21:11:31 brad Exp $
d3 1
a3 1
DISTNAME=	WindowMaker-0.51.2
d7 1
a7 1
DATAFILES=	WindowMaker-data.tar.gz
d20 2
d26 1
a26 1
		--with-libs-from="-L${PREFIX}/lib" --disable-debug
d30 14
a43 8
post-install:	
		@@${INSTALL_DATA} ${WRKDIR}/WindowMaker-data/pixmaps/* \
		${PREFIX}/share/WindowMaker/Pixmaps
		@@${LDCONFIG} -m ${PREFIX}/lib
		@@echo
		@@echo "Note: Every user must run /usr/local/bin/wmaker.inst"
		@@echo "      before running Window Maker"
		@@echo
@


1.12
log
@fixup Makefile and add missing PLIST.noshared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/03/27 21:04:00 brad Exp $
a4 1

d25 2
a26 4
CONFIGURE_ENV=	CFLAGS="-I${PREFIX}/include" \
		LDFLAGS="-L${PREFIX}/lib" \
		CPPFLAGS="-I${PREFIX}/include"

@


1.11
log
@fixup Makefile and remove pkgdep's from PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/03/27 02:49:31 brad Exp $
d11 1
a11 1
NEED_VERSION=	1.67
d17 2
a18 2
                tiff:${PORTSDIR}/graphics/tiff34 \
                png:${PORTSDIR}/graphics/png \
d22 4
d29 1
a29 4
CONFIGURE_ARGS=	--with-pixmapdir=${PREFIX}/share/WindowMaker/Pixmaps \
		--with-incs-from="-I${PREFIX}/include -I${PREFIX}/include/giflib" \
		--with-libs-from="-L${PREFIX}/lib" \
		--disable-debug
@


1.10
log
@fix dependency list; Kenneth R Westerback <krw@@tcn.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/03/15 06:36:38 jasoni Exp $
d8 1
a9 1
DATAFILES=	WindowMaker-data.tar.gz
@


1.9
log
@update to 0.51.2
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.8 1999/03/09 04:13:58 jasoni Exp $
#
a5 2
MAINTAINER=	jasoni@@openbsd.org

d13 1
a13 5
LIB_DEPENDS=	PropList\\.1\\.:${PORTSDIR}/devel/libproplist \
		jpeg\\.62\\.:${PORTSDIR}/graphics/jpeg \
                tiff\\.3\\.4:${PORTSDIR}/graphics/tiff34 \
                png\\.1\\.:${PORTSDIR}/graphics/png \
		gif\\.3\\.:${PORTSDIR}/graphics/giflib
d15 7
a21 1
GNU_CONFIGURE=	YES
a39 2
		

@


1.8
log
@Update to 0.51.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/03/08 05:17:59 jasoni Exp $
d4 1
a4 1
DISTNAME=	WindowMaker-0.51.1
@


1.7
log
@needs version >= 1.67 of bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/02/08 03:59:15 jasoni Exp $
d4 1
a4 1
DISTNAME=	WindowMaker-0.51.0
d21 1
d23 2
a24 1
CONFIGURE_ENV=	CFLAGS="-I${PREFIX}/include" LDFLAGS="-L${PREFIX}/lib" \
d27 2
a28 2
		--with-gfx-incs="-I${PREFIX}/include -I${PREFIX}/include/giflib" \
		--with-gfx-libs=-L${PREFIX}/lib \
@


1.6
log
@fix ENV: krw@@tcn.net
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/02/07 18:46:18 jasoni Exp $
d13 2
@


1.5
log
@fix prefix
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/02/07 02:32:37 jasoni Exp $
d20 2
@


1.4
log
@Update to 0.51.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1998/12/28 22:51:48 jasoni Exp $
a18 1
USE_X11=	YES
d30 1
a30 1
		@@echo "Note: Every user must run /usr/X11R6/bin/wmaker.inst"
@


1.3
log
@Some cleanup: krw@@tcn.net
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1998/12/18 08:13:40 jasoni Exp $
d4 1
a4 1
DISTNAME=	WindowMaker-0.20.3
d14 2
a15 1
LIB_DEPENDS=	jpeg\\.62\\.:${PORTSDIR}/graphics/jpeg \
d19 1
d31 1
a31 1
		@@echo "Note: Every user must run /usr/local/bin/wmaker.inst"
@


1.2
log
@New patch: apollo@@slcnet.net
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/12/04 00:29:20 jasoni Exp $
d19 4
a22 3
CONFIGURE_ENV=	INSTALL="/usr/bin/install -c"
CONFIGURE_ARGS=	--with-gfx-incs=-I/usr/local/include \
		--with-gfx-libs=-L/usr/local/lib 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a21 4

post-configure:
		@@cd ${WRKSRC}/libPropList && \
		INSTALL="/usr/bin/install -c" ./configure
@


1.1.1.1
log
@Add WindowMaker window manager to ports.
@
text
@@
