head	1.2;
access;
symbols
	OPENBSD_4_8:1.1.0.10
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.8
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.6
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.4
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2010.10.26.16.57.57;	author naddy;	state dead;
branches;
next	1.1;

1.1
date	2008.07.21.17.58.44;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to Debian revision 16.1 (minor bug fixes)
@
text
@$OpenBSD: patch-root_c,v 1.1 2008/07/21 17:58:44 naddy Exp $
--- root.c.orig	Mon Jul 21 19:47:22 2008
+++ root.c	Mon Jul 21 19:48:18 2008
@@@@ -68,16 +68,16 @@@@ freePrevious(dpy, w)
   Pixmap *pm;			
   Atom	actual_type;		/* NOTUSED */
   int	format;
-  int	nitems;
-  int	bytes_after;
+  long	nitems;
+  long	bytes_after;
 
   /* intern the property name */
   Atom atom = XInternAtom(dpy, RETAIN_PROP_NAME, 0);
 
   /* look for existing resource allocation */
   if ((XGetWindowProperty(dpy, w, atom, 0, 1, 1/*delete*/,
-			  AnyPropertyType, &actual_type, &format, (unsigned long *)&nitems,
-			  (unsigned long *)&bytes_after, (unsigned char **)&pm) == Success) &&
+			  AnyPropertyType, &actual_type, &format, &nitems,
+			  &bytes_after, (unsigned char **)&pm) == Success) &&
       nitems == 1) {
     if ((actual_type == XA_PIXMAP) && (format == 32) &&
 	(nitems == 1) && (bytes_after == 0)) {
@


1.1
log
@Fix an egregious LP64 error.
From Debian bug #394366, submitted by Stephen McCamant.
@
text
@d1 1
a1 1
$OpenBSD$
@

