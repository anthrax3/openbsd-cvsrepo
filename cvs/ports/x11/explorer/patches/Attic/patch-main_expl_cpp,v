head	1.3;
access;
symbols
	OPENBSD_4_4:1.1.0.20
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.18
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.16
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.14
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.12
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.10
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.8
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.6
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.4
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.2
	OPENBSD_3_5_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2008.09.08.08.40.42;	author brad;	state dead;
branches;
next	1.2;

1.2
date	2008.08.19.22.25.29;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2004.01.01.16.23.56;	author espie;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Remove explorer. The last port left using Qt. Imported 10 years ago
with no updates since and no official homepage or distsite.

"I'm all in favor of dropping old unmaintained stuffs" ajacoutot@@
"I can only fully agree to antoine and you wrt ditching the old stuff" jasper@@
@
text
@$OpenBSD: patch-main_expl_cpp,v 1.2 2008/08/19 22:25:29 jasper Exp $
--- main_expl.cpp.orig	Fri Jul 11 16:32:27 1997
+++ main_expl.cpp	Fri Aug 15 16:41:55 2008
@@@@ -70,6 +70,10 @@@@ static const char rcs_id[] = "$Id: main_expl.cpp,v 1.3
 #include <stdlib.h>
 
 
+#if defined(__GNUC__) && __GNUC__ >= 3
+#include <new>
+
+#else
 #ifdef HAVE_NEW_H
 #include <new.h>  
 #else
@@@@ -79,6 +83,7 @@@@ extern "C" new_handler set_new_handler (new_handler);
 }
 #endif
 
+#endif
 
 #include <qmsgbox.h>
 
@@@@ -102,7 +107,11 @@@@ int     main(int argc, char **argv)
 	int c;
 	char *env=NULL, *bgname=NULL;
 	
+#if defined(__GNUC__) && __GNUC__ >= 3
+	std::set_new_handler(&lowmem_handler);	
+#else
 	set_new_handler(&lowmem_handler);	
+#endif
 	
 	while ((c = getopt(argc,argv,szOpts)) != EOF)
 	{
@


1.2
log
@- don't unconditionally strip the binary
- rename and regen patches
- bump pkgname
@
text
@d1 1
a1 1
$OpenBSD: patch-main_expl_cpp,v 1.1 2004/01/01 16:23:56 espie Exp $
@


1.1
log
@include correct header and find std::set_new_handler if gcc3.
@
text
@d1 4
a4 4
$OpenBSD$
--- main_expl.cpp.orig	2004-01-01 17:15:17.000000000 +0100
+++ main_expl.cpp	2004-01-01 17:16:32.000000000 +0100
@@@@ -70,6 +70,10 @@@@ static const char rcs_id[] = "$Id: main_
d15 1
a15 1
@@@@ -79,6 +83,7 @@@@ extern "C" new_handler set_new_handler (
@

