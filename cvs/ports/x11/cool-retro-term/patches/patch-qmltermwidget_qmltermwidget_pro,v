head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.8
	OPENBSD_6_2_BASE:1.1
	OPENBSD_6_1:1.1.0.6
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.4
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2015.12.28.18.29.03;	author zhuk;	state Exp;
branches;
next	;
commitid	lGx1IyoVheZXB386;


desc
@@


1.1
log
@Make sure build doesn't break on (upcoming) Qt 5.5.

This doesn't affect actual files, only Makefiles generated, so no bump.
@
text
@$OpenBSD$
Adapt to modern Qt versions.
See pull request: https://github.com/Swordfish90/qmltermwidget/pull/10
--- qmltermwidget/qmltermwidget.pro.orig	Fri Jan 30 22:30:12 2015
+++ qmltermwidget/qmltermwidget.pro	Mon Dec 28 21:11:44 2015
@@@@ -25,12 +25,6 @@@@ OTHER_FILES += \
     test-app/test-app.qml \
     src/qmldir
 
-# Copy the files useful to the plugin in DESTDIR
-QMAKE_POST_LINK = $(COPY_DIR) $$PWD/lib/color-schemes $$DESTDIR && \
-    $(COPY_DIR) $$PWD/lib/kb-layouts $$DESTDIR && \
-    $$QMAKE_COPY $$PWD/src/qmldir $$DESTDIR && \
-    $$QMAKE_COPY $$PWD/src/QMLTermScrollbar.qml $$DESTDIR
-
 #########################################
 ## INTALLS
 #########################################
@@@@ -49,4 +43,17 @@@@ assets.path += $$INSTALL_DIR/$$PLUGIN_IMPORT_PATH
 qmldir.files += $$PWD/src/qmldir
 qmldir.path += $$INSTALL_DIR/$$PLUGIN_IMPORT_PATH
 
-INSTALLS += target qmldir assets
+colorschemes.files = $$PWD/lib/color-schemes/*
+colorschemes.path = $$INSTALL_DIR/$$PLUGIN_IMPORT_PATH/color-schemes
+colorschemes2.files = $$PWD/lib/color-schemes/historic/*
+colorschemes2.path = $$INSTALL_DIR/$$PLUGIN_IMPORT_PATH/color-schemes/historic
+
+kblayouts.files = $$PWD/lib/kb-layouts/*
+kblayouts.path = $$INSTALL_DIR/$$PLUGIN_IMPORT_PATH/kb-layouts
+kblayouts2.files = $$PWD/lib/kb-layouts/historic/*
+kblayouts2.path = $$INSTALL_DIR/$$PLUGIN_IMPORT_PATH/kb-layouts/historic
+
+scrollbar.files = $$PWD/src/QMLTermScrollbar.qml
+scrollbar.path = $$INSTALL_DIR/$$PLUGIN_IMPORT_PATH
+
+INSTALLS += target qmldir assets colorschemes colorschemes2 kblayouts kblayouts2 scrollbar
@
