head	1.27;
access;
symbols
	OPENBSD_5_9:1.26.0.2
	OPENBSD_5_9_BASE:1.26
	OPENBSD_5_8:1.25.0.4
	OPENBSD_5_8_BASE:1.25
	OPENBSD_5_7:1.19.0.4
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.19.0.2
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.18.0.2
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.15.0.2
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.11.0.2
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.2
	OPENBSD_5_0:1.8.0.4
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.6.0.2
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.2.0.6
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.4
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	ajacoutot_20080318:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2016.04.29.21.10.24;	author zhuk;	state dead;
branches;
next	1.26;
commitid	u9TvebbKy1wgQMr9;

1.26
date	2016.01.17.17.29.12;	author sthen;	state Exp;
branches;
next	1.25;
commitid	bS2FIbTCCkF3XjOq;

1.25
date	2015.07.10.16.38.50;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	PCTCbHLTGvdYzFRw;

1.24
date	2015.06.27.11.40.54;	author ajacoutot;	state Exp;
branches;
next	1.23;
commitid	uH72kgXkD3HvD8nR;

1.23
date	2015.06.26.09.20.06;	author ajacoutot;	state Exp;
branches;
next	1.22;
commitid	GEhdXHuGTQPg33Qz;

1.22
date	2015.06.26.09.19.24;	author ajacoutot;	state Exp;
branches;
next	1.21;
commitid	M0KU0LYeJHW8e1Tr;

1.21
date	2015.05.05.17.00.21;	author sthen;	state Exp;
branches;
next	1.20;
commitid	ukCYGVBlglFzny8e;

1.20
date	2015.03.27.08.16.25;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	BUhOiEl2FUSRKwq7;

1.19
date	2014.07.09.16.49.35;	author jasper;	state Exp;
branches;
next	1.18;
commitid	DrFfqEFlhFyZpgej;

1.18
date	2013.12.22.19.24.35;	author zhuk;	state Exp;
branches;
next	1.17;

1.17
date	2013.10.22.11.34.27;	author zhuk;	state Exp;
branches;
next	1.16;

1.16
date	2013.10.05.07.34.43;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2013.06.24.15.53.39;	author zhuk;	state Exp;
branches;
next	1.14;

1.14
date	2013.03.11.11.46.19;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2013.02.01.08.39.34;	author rpe;	state Exp;
branches;
next	1.12;

1.12
date	2013.01.31.18.58.18;	author zhuk;	state Exp;
branches;
next	1.11;

1.11
date	2012.06.15.08.30.25;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2011.12.03.23.34.04;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.16.12.29.18;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.22.08.37.06;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2010.10.24.21.15.37;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2010.07.30.08.03.00;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.07.30.06.59.02;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2009.12.21.20.46.03;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2009.08.11.08.42.09;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.04.17.08.35.16;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.03.18.09.15.16;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.03.18.09.15.16;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.27
log
@Remove KDE3 applications that have well-working KDE4+ counterparts.
@
text
@# $OpenBSD: Makefile,v 1.26 2016/01/17 17:29:12 sthen Exp $

PORTROACH=	limit:^2\.8

COMMENT=	yet another kuake KDE terminal emulator

DISTNAME=	yakuake-2.8.1
REVISION=	14
CATEGORIES=	x11 x11/kde
EPOCH=		0

EXTRACT_SUFX=	.tar.bz2

HOMEPAGE=	http://yakuake.kde.org/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ${KDE}/DCOP ${KDE}/kdecore ${KDE}/kdefx ${KDE}/kdesu
WANTLIB += ${KDE}/kdeui ${KDE}/kio ${KDE}/kwalletclient
WANTLIB += X11-xcb Xdamage Xxf86vm drm glapi xcb-dri2 xcb-glx
WANTLIB += ICE SM X11 Xext Xfixes Xrender Xt art_lgpl_2 c expat fam
WANTLIB += fontconfig freetype idn m png pthread pthread-stubs stdc++
WANTLIB += util xcb z

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=yakuake.berlios/}

MODULES=	devel/gettext \
		x11/kde

RUN_DEPENDS=	devel/desktop-file-utils \
		x11/gtk+3,-guic

# for Konsole KPart
RUN_DEPENDS+=	x11/kde/base3

LIB_DEPENDS=	x11/kde/libs3

PORTHOME?=	${WRKDIR}
MODKDE_VERSION=	3.5.8
AUTOCONF_VERSION=2.61

CONFIGURE_STYLE=autoconf
CONFIGURE_ARGS=	${MODKDE_CONFIGURE_ARGS}
CONFIGURE_ENV=	${MODKDE_CONFIGURE_ENV} \
		CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

.include <bsd.port.mk>
@


1.26
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/07/10 16:38:50 ajacoutot Exp $
@


1.25
log
@tyop
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/06/27 11:40:54 ajacoutot Exp $
d8 1
a8 1
REVISION=	13
d21 1
@


1.24
log
@Revert previous update; there was already yakuake-kde4 port which I missed
because for some reason, it is not connected to the build...

breakage reported by nigel@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/05/05 17:00:21 sthen Exp $
d3 1
a3 1
PORTRAOCH=	limit:^2\.8
@


1.23
log
@Drop XXX.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.22 2015/06/26 09:19:24 ajacoutot Exp $
d7 2
a8 2
V=		2.9.9
DISTNAME=	yakuake-${V}
d10 1
d19 5
a23 3
WANTLIB += QtDBus QtGui QtNetwork QtSvg QtXml X11 c kdeui kio
WANTLIB += knewstuff3 knotifyconfig kparts m nepomuk nepomukutils
WANTLIB += pthread soprano
d25 1
a25 2
MASTER_SITES=	${MASTER_SITE_KDE:=/stable/yakuake/${V}/src/}
EXTRACT_SUFX=	.tar.xz
d28 1
a28 1
		x11/kde4
d33 4
a36 2
# for konsole4-part
RUN_DEPENDS+=	x11/kde4/konsole
d38 9
a46 1
LIB_DEPENDS=	x11/kde4/libs
@


1.22
log
@Update to yakuake-2.9.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/05/05 17:00:21 sthen Exp $
a19 1
# XXX should use MASTER_SITE_KDE?
@


1.21
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/03/27 08:16:25 ajacoutot Exp $
d5 2
a6 2
DISTNAME=	yakuake-2.8.1
REVISION=	13
d16 7
a22 7
WANTLIB += ${KDE}/DCOP ${KDE}/kdecore ${KDE}/kdefx ${KDE}/kdesu
WANTLIB += ${KDE}/kdeui ${KDE}/kio ${KDE}/kwalletclient
WANTLIB += ICE SM X11 Xext Xfixes Xrender Xt art_lgpl_2 c expat fam
WANTLIB += fontconfig freetype idn m png pthread pthread-stubs stdc++
WANTLIB += util xcb z

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=yakuake.berlios/}
d25 1
a25 1
		x11/kde
d30 2
a31 4
# for Konsole KPart
RUN_DEPENDS+=	x11/kde/base3

LIB_DEPENDS=	x11/kde/libs3
d33 1
a33 9
PORTHOME?=	${WRKDIR}
MODKDE_VERSION=	3.5.8
AUTOCONF_VERSION=2.61

CONFIGURE_STYLE=autoconf
CONFIGURE_ARGS=	${MODKDE_CONFIGURE_ARGS}
CONFIGURE_ENV=	${MODKDE_CONFIGURE_ENV} \
		CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.20
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/07/09 16:49:35 jasper Exp $
d6 1
a6 1
REVISION=	12
a15 4
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=yakuake.berlios/}

WANTLIB =  ICE SM X11 Xext Xfixes Xrender Xt art_lgpl_2 c expat fam
WANTLIB += fontconfig freetype idn m png pthread stdc++ util xcb z
d18 5
@


1.19
log
@- remove unreachable homepages on berlios and add a working one where applicable
- move master sites to the berliosbot created sourceforge projects
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/12/22 19:24:35 zhuk Exp $
d6 1
a6 1
REVISION=	11
d27 1
a27 1
		x11/gtk+2,-guic
@


1.18
log
@Next KDE deconflicting step: rename share/config/ to share/config.kde3/ and
share/config.kcfg/ to share/config.kcfg.kde3/. Tested on i386, including
run-time tests (not for all apps, though).

After this commit, there are only two conflicting files in kdelibs 3.x and
4.x packages left - to be solved soon.

spurring from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/10/22 11:34:27 zhuk Exp $
d16 1
a16 1
MASTER_SITES=	${MASTER_SITE_BERLIOS:=yakuake/}
@


1.17
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/10/05 07:34:43 espie Exp $
d6 1
a6 1
REVISION=	10
@


1.16
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/06/24 15:53:39 zhuk Exp $
d6 1
a6 1
REVISION=	9
@


1.15
log
@Massive cleanup for KDE3. Main point is in changing WANTLIB from "foo" to
"lib/kde3/foo" where appropirate, but also many missing desktop goo items
added, some PFRAG.shared removed and so on.

input and okay landry@@ and ajacoutot@@, also okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/03/11 11:46:19 espie Exp $
d6 1
a6 1
REVISION=	8
@


1.14
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/02/01 08:39:34 rpe Exp $
d6 1
a6 1
REVISION=	7
d18 4
a21 3
WANTLIB=	ICE SM X11 Xext Xfixes Xrender Xt art_lgpl_2 c expat fam \
		fontconfig freetype idn m png pthread stdc++ util z xcb \
		kdecore kdefx kdesu kdeui kio kwalletclient DCOP
@


1.13
log
@missing space in WANTLIB

ok sthen@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/01/31 18:58:18 zhuk Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.12
log
@Cleanup a bit:
  * Add missing RUN_DEPENDS on kdebase for Konsole KPart;
  * Remove USE_GMAKE, not needed anymore;
  * Update WANTLIB and PLIST.

Input from and okay ajacoutot@@, landry@@ and espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/06/15 08:30:25 ajacoutot Exp $
d22 1
a22 1
		fontconfig freetypeidn m png pthread stdc++ util z xcb \
@


1.11
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/12/03 23:34:04 ajacoutot Exp $
d6 1
a6 1
REVISION=	6
d21 2
a22 2
WANTLIB=	ICE SM X11 Xau Xdmcp Xext Xrender art_lgpl_2 c fam idn \
		jpeg m png pthread rpcsvc stdc++ util z pthread-stubs xcb \
d30 4
a34 2

USE_GMAKE=	Yes
@


1.10
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/16 12:29:18 espie Exp $
d6 1
a6 1
REVISION=	5
@


1.9
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/22 08:37:06 espie Exp $
d6 1
a6 1
REVISION=	4
d28 2
a29 1
RUN_DEPENDS=	devel/desktop-file-utils
@


1.8
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/10/24 21:15:37 ajacoutot Exp $
d6 1
a6 1
REVISION=	3
@


1.7
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/07/30 08:03:00 ajacoutot Exp $
d28 2
a29 2
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS=	::x11/kde/libs3
@


1.6
log
@Move move to new DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/07/30 06:59:02 ajacoutot Exp $
a30 1
USE_X11=	Yes
@


1.5
log
@First pass at new REVISION/DEPENDS... not finished yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/12/21 20:46:03 ajacoutot Exp $
d6 1
a6 1
REVISION=	2
d22 2
a23 1
		jpeg m png pthread rpcsvc stdc++ util z pthread-stubs xcb
d29 1
a29 1
LIB_DEPENDS=	kdecore.>=7,kdefx,kdesu,kdeui,kio,kwalletclient,DCOP::x11/kde/libs3
@


1.4
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/08/11 08:42:09 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.3
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/04/17 08:35:16 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.2
log
@- don't depend on gtk+2 just for running gtk-update-icon-cache
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/03/18 09:15:16 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d22 1
a22 1
		jpeg m png pthread rpcsvc stdc++ util z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d27 1
a27 2
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils \
		::x11/gtk+2 # gtk-update-icon-cache(1)
@


1.1.1.1
log
@Import yakuake-2.8.1

Yakuake is a drop-down terminal emulator based on KDE Konsole
technology.
Features:
 * smoothly rolls down from the top of your screen
 * tabbed interface
 * configurable dimensions and animation speed
 * skinnable
 * sophisticated DCOP interface


based on a submission from Aaron S. <openbsd-ports at x96 dot org>
@
text
@@
