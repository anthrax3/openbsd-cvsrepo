head	1.4;
access;
symbols
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2012.01.09.12.10.22;	author dcoppa;	state dead;
branches;
next	1.3;

1.3
date	2011.10.17.13.50.34;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2011.09.21.13.10.36;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2011.07.12.08.12.29;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to gnome-mplayer-1.0.5
@
text
@$OpenBSD: patch-src_libgmtk_gmtk_media_player_h,v 1.3 2011/10/17 13:50:34 dcoppa Exp $

Raise event on incomplete QuickTime file, and mark it for retry
(fix apple.com/trailers) - upstream svn revision r2152

Fix speed multipliers and speed reset (upstream svn revisions r54
and r55 of gmtk)

--- src/libgmtk/gmtk_media_player.h.orig	Tue Jun 28 15:29:18 2011
+++ src/libgmtk/gmtk_media_player.h	Mon Oct 17 14:43:23 2011
@@@@ -170,7 +170,9 @@@@ typedef enum {
     ATTRIBUTE_ENABLE_FRAME_DROP,
     ATTRIBUTE_TITLE,
     ATTRIBUTE_ARTIST,
-    ATTRIBUTE_ALBUM
+    ATTRIBUTE_ALBUM,
+    ATTRIBUTE_RETRY_ON_FULL_CACHE,
+    ATTRIBUTE_SPEED_SET
 } GmtkMediaPlayerMediaAttributes;
 
 typedef enum {
@@@@ -201,6 +203,13 @@@@ typedef enum {
     COMMAND_SWITCH_FRAME_DROP
 } GmtkMediaPlayerCommand;
 
+typedef enum {
+    EVENT_TYPE_INT,
+    EVENT_TYPE_DOUBLE,
+    EVENT_TYPE_BOOLEAN,
+    EVENT_TYPE_ALLOCATION
+} GmtkMediaPlayerEventType;
+
 typedef struct _GmtkMediaPlayer GmtkMediaPlayer;
 typedef struct _GmtkMediaPlayerClass GmtkMediaPlayerClass;
 
@@@@ -222,9 +231,11 @@@@ typedef struct _GmtkMediaPlayerAudioTrack {
 
 typedef struct _GmtkMediaPlayerEvent {
     GmtkMediaPlayer *player;
+    GmtkMediaPlayerEventType type;
     gchar *event_name;
     gint event_data_int;
     gdouble event_data_double;
+    gboolean event_data_boolean;
     GtkAllocation *event_allocation;
 } GmtkMediaPlayerEvent;
 
@@@@ -304,6 +315,7 @@@@ struct _GmtkMediaPlayer {
     gchar *album;
     gboolean enable_divx;
     gboolean disable_xvmc;
+    gboolean retry_on_full_cache;
 
     gboolean deinterlace;
     gboolean frame_drop;
@


1.3
log
@Even more bugfixes backported from upstream svn:

fix speed multipliers and speed reset
fix segfaults in gmtk_media_player when defining a specific font
@
text
@d1 1
a1 1
$OpenBSD: patch-src_libgmtk_gmtk_media_player_h,v 1.2 2011/09/21 13:10:36 dcoppa Exp $
@


1.2
log
@fix spacing; no binary changes
@
text
@d1 1
a1 1
$OpenBSD: patch-src_libgmtk_gmtk_media_player_h,v 1.1 2011/07/12 08:12:29 dcoppa Exp $
d6 3
d10 2
a11 2
+++ src/libgmtk/gmtk_media_player.h	Wed Sep 21 14:48:22 2011
@@@@ -170,7 +170,8 @@@@ typedef enum {
d17 2
a18 1
+    ATTRIBUTE_RETRY_ON_FULL_CACHE
d22 1
a22 1
@@@@ -201,6 +202,13 @@@@ typedef enum {
d36 1
a36 1
@@@@ -222,9 +230,11 @@@@ typedef struct _GmtkMediaPlayerAudioTrack {
d48 1
a48 1
@@@@ -304,6 +314,7 @@@@ struct _GmtkMediaPlayer {
@


1.1
log
@Fix trailers.apple.com. It works well now (yay!)

From upstream svn
@
text
@d1 1
a1 1
$OpenBSD$
d7 1
a7 1
+++ src/libgmtk/gmtk_media_player.h	Mon Jul 11 10:19:19 2011
d14 1
a14 1
+	ATTRIBUTE_RETRY_ON_FULL_CACHE
d23 4
a26 4
+	EVENT_TYPE_INT,
+	EVENT_TYPE_DOUBLE,
+	EVENT_TYPE_BOOLEAN,
+	EVENT_TYPE_ALLOCATION
d36 1
a36 1
+	GmtkMediaPlayerEventType type;
d40 1
a40 1
+	gboolean event_data_boolean;
d48 1
a48 1
+	gboolean retry_on_full_cache;
@

