head	1.4;
access;
symbols
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2013.05.24.08.31.38;	author dcoppa;	state dead;
branches;
next	1.3;

1.3
date	2013.01.11.13.20.50;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2010.11.08.15.04.15;	author dcoppa;	state dead;
branches;
next	1.1;

1.1
date	2010.07.08.06.29.12;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to gnome-mplayer-1.0.8
@
text
@$OpenBSD: patch-src_playlist_c,v 1.3 2013/01/11 13:20:50 dcoppa Exp $

Fix some layout issues when playing audio only files
(upstream svn revision r2390)

--- src/playlist.c.orig	Fri Jan 11 11:28:40 2013
+++ src/playlist.c	Fri Jan 11 11:29:10 2013
@@@@ -825,7 +825,7 @@@@ void menuitem_view_playlist_callback(GtkMenuItem * men
 
     if (remember_loc)
         use_remember_loc = TRUE;
-    adjust_layout();
+    g_idle_add(set_adjust_layout, idledata);
 }
 
 void undo_playlist_sort(GtkWidget * widget, void *data)
@


1.3
log
@Fix some layout issues when playing audio only files
(upstream svn revision r2390)

Resize player when on 'videopresent' event
(upstream svn revision r2391)
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@Update to gnome-mplayer 1.0.0 and drop GConf dependency.

Suggestions about volume defaults by landry@@

OK landry@@
"go ahead" jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_playlist_c,v 1.1 2010/07/08 06:29:12 dcoppa Exp $
d3 2
a4 2
fix from upstream svn:
fix video playback problems when loading a folder from playlist
d6 3
a8 7
--- src/playlist.c.orig	Tue Jul  6 22:15:05 2010
+++ src/playlist.c	Tue Jul  6 22:17:35 2010
@@@@ -549,7 +549,10 @@@@ void add_folder_to_playlist(GtkWidget * widget, void *
     GSList *uris;
     gchar *last_dir;
     gchar *message;
+    gint count;
d10 5
a14 8
+    count = gtk_tree_model_iter_n_children(GTK_TREE_MODEL(playliststore), NULL);
+
     dialog = gtk_file_chooser_dialog_new(_("Choose Directory"),
                                          GTK_WINDOW(window),
                                          GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER,
@@@@ -594,7 +597,7 @@@@ void add_folder_to_playlist(GtkWidget * widget, void *
     g_free(message);
     g_idle_add(set_media_label, idledata);
d16 1
a16 5
-    if (data != NULL) {
+    if (count == 0 && filecount > 0) {
         gtk_tree_model_get_iter_first(GTK_TREE_MODEL(playliststore), &iter);
         play_iter(&iter, 0);
         dontplaynext = FALSE;
@


1.1
log
@Apply some small bugfixes from upstream: see patches for descriptions.
@
text
@d1 1
a1 1
$OpenBSD$
@

