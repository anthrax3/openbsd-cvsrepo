head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2012.01.09.12.10.22;	author dcoppa;	state dead;
branches;
next	1.2;

1.2
date	2011.12.06.16.05.44;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2011.09.29.11.03.19;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to gnome-mplayer-1.0.5
@
text
@$OpenBSD: patch-src_libgmtk_gmtk_media_tracker_c,v 1.2 2011/12/06 16:05:44 dcoppa Exp $

Fix seeking in the media_tracker when the mouse button is released
(upstream svn revision r66 of gmtk)

Fix problem with seeking in the tracker
(upstream svn revision r48 of gmtk)

--- src/libgmtk/gmtk_media_tracker.c.orig	Tue Jun  7 21:26:37 2011
+++ src/libgmtk/gmtk_media_tracker.c	Tue Dec  6 15:55:41 2011
@@@@ -168,9 +168,6 @@@@ static gboolean gmtk_media_tracker_button_release(GtkW
         gtk_range_set_value(GTK_RANGE(GMTK_MEDIA_TRACKER(tracker)->scale), position);
         g_signal_emit_by_name(tracker, "value-changed", (gint) (100 * position));
 
-        difference = (GMTK_MEDIA_TRACKER(tracker)->length * position) - GMTK_MEDIA_TRACKER(tracker)->position;
-        g_signal_emit_by_name(tracker, "difference-changed", difference);
-
         GMTK_MEDIA_TRACKER(tracker)->mouse_down = FALSE;
 
         if (GMTK_MEDIA_TRACKER(tracker)->length > 0.0) {
@@@@ -196,9 +193,6 @@@@ static gboolean gmtk_media_tracker_motion_notify(GtkWi
         gtk_range_set_value(GTK_RANGE(GMTK_MEDIA_TRACKER(tracker)->scale), position);
         g_signal_emit_by_name(tracker, "value-changed", (gint) (100 * position));
         difference = (GMTK_MEDIA_TRACKER(tracker)->length * position) - GMTK_MEDIA_TRACKER(tracker)->position;
-        if (ABS(position) > 15)
-            g_signal_emit_by_name(tracker, "difference-changed", difference);
-
     } else {
         if (GMTK_MEDIA_TRACKER(tracker)->length > 0.0) {
             tip = gm_seconds_to_string(GMTK_MEDIA_TRACKER(tracker)->length * ((gdouble) event->x / alloc.width));
@


1.2
log
@
Add 50% larger display of video
(upstream svn revision r2187)

Fix seeking in the media_tracker when the mouse button is released
(upstream svn revision r66 of gmtk)
@
text
@d1 1
a1 1
$OpenBSD: patch-src_libgmtk_gmtk_media_tracker_c,v 1.1 2011/09/29 11:03:19 dcoppa Exp $
@


1.1
log
@More bugfixes backported from upstream svn:

fix issue with not being able to play media off an SFTP share

when mplayer reports that it has video, resize the media
window so that mplayer has something to draw to

fix problem with seeking in the tracker

While here, regen WANTLIB.
@
text
@d1 4
a4 1
$OpenBSD$
d9 13
a21 3
--- src/libgmtk/gmtk_media_tracker.c.orig	Wed Sep 28 14:55:12 2011
+++ src/libgmtk/gmtk_media_tracker.c	Wed Sep 28 14:56:17 2011
@@@@ -196,9 +196,6 @@@@ static gboolean gmtk_media_tracker_motion_notify(GtkWi
@

