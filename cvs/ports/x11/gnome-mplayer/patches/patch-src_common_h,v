head	1.12;
access;
symbols
	OPENBSD_6_2:1.12.0.16
	OPENBSD_6_2_BASE:1.12
	OPENBSD_6_1:1.12.0.14
	OPENBSD_6_1_BASE:1.12
	OPENBSD_6_0:1.12.0.12
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.12.0.8
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.12.0.10
	OPENBSD_5_8_BASE:1.12
	OPENBSD_5_7:1.12.0.6
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.12.0.4
	OPENBSD_5_6_BASE:1.12
	OPENBSD_5_5:1.12.0.2
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_3:1.8.0.2
	OPENBSD_5_3_BASE:1.8
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.12
date	2014.01.13.11.28.03;	author dcoppa;	state Exp;
branches;
next	1.11;

1.11
date	2013.11.06.07.29.30;	author dcoppa;	state Exp;
branches;
next	1.10;

1.10
date	2013.05.27.11.43.08;	author dcoppa;	state dead;
branches;
next	1.9;

1.9
date	2013.05.24.08.31.37;	author dcoppa;	state Exp;
branches;
next	1.8;

1.8
date	2012.12.19.15.04.36;	author dcoppa;	state Exp;
branches;
next	1.7;

1.7
date	2012.04.10.13.30.37;	author dcoppa;	state dead;
branches;
next	1.6;

1.6
date	2012.04.06.10.14.44;	author dcoppa;	state Exp;
branches;
next	1.5;

1.5
date	2012.04.06.07.01.38;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2011.04.28.11.47.48;	author dcoppa;	state dead;
branches;
next	1.3;

1.3
date	2010.11.15.11.11.34;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2010.03.29.12.16.07;	author dcoppa;	state dead;
branches;
next	1.1;

1.1
date	2009.11.06.17.01.56;	author edd;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Update to 1.0.9b
@
text
@$OpenBSD: patch-src_common_h,v 1.11 2013/11/06 07:29:30 dcoppa Exp $

Fix problem with remembered softvol not being loaded

--- src/common.h.orig	Tue Jul 23 22:36:58 2013
+++ src/common.h	Wed Nov  6 08:15:39 2013
@@@@ -317,7 +317,6 @@@@ gboolean softvol;
 gboolean remember_softvol;
 gdouble volume_softvol;
 gint volume_gain;
-gint pref_volume;
 gint verbose;
 gint autostart;
 //gint actual_x, actual_y;
@


1.11
log
@Set window properties to be common for all the created windows
(upstream svn revision r2461)
@
text
@d1 4
a4 1
$OpenBSD$
@


1.10
log
@I've changed my mind: disable cover art support, it's fubar.

While here, simplify volume-related patches.
@
text
@d1 4
a4 8
$OpenBSD: patch-src_common_h,v 1.9 2013/05/24 08:31:37 dcoppa Exp $

Make --volume work with and without softvol enabled
(upstream svn revision r2426)

--- src/common.h.orig	Mon Feb 18 15:58:47 2013
+++ src/common.h	Thu May 23 15:20:45 2013
@@@@ -310,6 +310,7 @@@@ gboolean softvol;
d8 1
a8 1
+gint pref_volume;
@


1.9
log
@Update to gnome-mplayer-1.0.8
@
text
@d1 1
a1 1
$OpenBSD: patch-src_common_h,v 1.8 2012/12/19 15:04:36 dcoppa Exp $
@


1.8
log
@Some improvements in the audio department:

Fix some problems on initial volume setup
(upstream svn revision r2378)

Don't monitor system volume when running in softvol mode
(upstream svn revision r2377)
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
Fix some problems on initial volume setup
(upstream svn revision r2378)
d6 10
a15 10
--- src/common.h.orig	Wed Dec 19 13:38:32 2012
+++ src/common.h	Wed Dec 19 13:39:30 2012
@@@@ -459,6 +459,7 @@@@ gboolean set_next(void *data);
 gboolean set_quit(void *data);
 gboolean set_kill_mplayer(void *data);
 gboolean set_position(void *data);
+gboolean hookup_volume(void *data);
 gboolean set_volume(void *data);
 gboolean set_fullscreen(void *data);
 gboolean set_show_controls(void *data);
@


1.7
log
@Update to 1.0.6
@
text
@d1 1
a1 1
$OpenBSD: patch-src_common_h,v 1.6 2012/04/06 10:14:44 dcoppa Exp $
d3 2
a4 2
Remove deprecated slide_away code to unbreak with glib-2.32
(upstream svn revision r2234)
d6 10
a15 12
--- src/common.h.orig	Fri Apr  6 08:48:38 2012
+++ src/common.h	Fri Apr  6 08:49:16 2012
@@@@ -432,9 +432,6 @@@@ gint tv_width;
 gint tv_height;
 gint tv_fps;
 
-GMutex *slide_away;
-GCond *mplayer_complete_cond;
-
 GThreadPool *retrieve_metadata_pool;
 
 gboolean use_mediakeys;
@


1.6
log
@Bugfixes from upstream
@
text
@d1 1
a1 1
$OpenBSD: patch-src_common_h,v 1.5 2012/04/06 07:01:38 dcoppa Exp $
@


1.5
log
@Remove deprecated slide_away code to unbreak with glib-2.32

committed upstream
@
text
@d1 1
a1 1
$OpenBSD$
d4 1
@


1.4
log
@Update to gnome-mplayer-1.0.3.
This now uses gsettings/dconf configuration system.
Most of my local patches have been merged upstream.

dconf clue stick by ajacoutot@@

Tested by Antti Harri on YouTube using the flashvideoreplacer
extension for firefox (thanks!)

please go ahead fgsch@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_common_h,v 1.3 2010/11/15 11:11:34 dcoppa Exp $
d3 1
a3 2
fix from upstream: don't hide controls and mouse in fullscreen mode
when mouse is over controls
d5 12
a16 10
--- src/common.h.orig	Tue Oct 19 18:33:40 2010
+++ src/common.h	Mon Nov 15 08:35:10 2010
@@@@ -369,6 +369,7 @@@@ gboolean disable_embeddedfonts;
 gboolean disable_animation;
 gint auto_hide_timeout;
 gboolean always_hide_after_timeout;
+gboolean mouse_over_controls;
 gchar *subtitlefont;
 gdouble subtitle_scale;
 gdouble subtitle_delay;
@


1.3
log
@Backport a fix from upstream: don't hide controls and mouse in
fullscreen mode when mouse is over controls.

While here, make our defaults really work as it was intended.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@update to 0.9.9.2

OK landry@@, ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_common_h,v 1.1 2009/11/06 17:01:56 edd Exp $
d3 2
a4 1
fix from upstream svn (update volume control)
d6 10
a15 10
--- src/common.h.orig	Fri Nov  6 05:49:24 2009
+++ src/common.h	Fri Nov  6 05:50:06 2009
@@@@ -486,6 +486,7 @@@@ void dbus_disable_screensaver();
 void menuitem_edit_random_callback(GtkMenuItem * menuitem, void *data);
 
 gboolean update_audio_meter(gpointer data);
+gboolean update_volume(gpointer data);
 
 void mplayer_shutdown();
 gpointer launch_player(gpointer data);
@


1.1
log
@add a patch which was supposed to be a part of the previous commit.
@
text
@d1 1
a1 1
$OpenBSD$
@

