head	1.2;
access;
symbols
	OPENBSD_3_1:1.1.0.2
	OPENBSD_3_1_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2002.05.31.17.13.58;	author couderc;	state dead;
branches;
next	1.1;

1.1
date	2002.03.24.22.23.06;	author couderc;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to 0.0.5
@
text
@$OpenBSD: patch-src_focus_c,v 1.1 2002/03/24 22:23:06 couderc Exp $
--- src/focus.c.orig	Sun Mar 24 13:11:26 2002
+++ src/focus.c	Sun Mar 24 13:11:57 2002
@@@@ -138,8 +138,7 @@@@ void focus_client(client_t *client) {
 	/* prepare this client to recieve the focus */
 	if (options.focus == FOCUS_CLICK) {
 		XUngrabButton(display, AnyButton, AnyModifier, client->frame);
-		XGrabButton(display, AnyButton, options.mouse_modifier, client->frame,
-			1, ButtonPressMask, GrabModeAsync, GrabModeAsync, None, None);
+		buttongrabhack(client->frame, AnyButton, options.mouse_modifier);
 	}
 
 	/* now we actually focus it */
@


1.1
log
@Fix keygrab with *Lock on.
@
text
@d1 1
a1 1
$OpenBSD$
@

