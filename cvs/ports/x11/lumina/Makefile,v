head	1.25;
access;
symbols
	OPENBSD_6_1:1.22.0.2
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.19.0.4
	OPENBSD_6_0_BASE:1.19
	OPENBSD_5_9:1.19.0.2
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.18.0.4
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.13.0.2
	OPENBSD_5_7_BASE:1.13
	ajacoutot_20140913:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2017.07.30.14.40.08;	author espie;	state Exp;
branches;
next	1.24;
commitid	mKwIUqUrvMAgMrHz;

1.24
date	2017.07.27.10.15.29;	author sthen;	state Exp;
branches;
next	1.23;
commitid	PsrWOVPIFbDYJl8Z;

1.23
date	2017.07.10.14.49.33;	author ajacoutot;	state Exp;
branches;
next	1.22;
commitid	JEk5cl9kQbHPhX4U;

1.22
date	2017.01.09.10.10.20;	author sthen;	state Exp;
branches;
next	1.21;
commitid	ktr00kPvyfFRBMJu;

1.21
date	2016.12.25.14.34.40;	author zhuk;	state Exp;
branches;
next	1.20;
commitid	l6KSNN1DfB6ABkhu;

1.20
date	2016.10.31.17.49.30;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	FHsDX3NYxwJoPC0v;

1.19
date	2015.08.12.06.26.34;	author ajacoutot;	state Exp;
branches;
next	1.18;
commitid	AxNNrMZ0Ua77wzc8;

1.18
date	2015.05.28.10.17.31;	author pascal;	state Exp;
branches;
next	1.17;
commitid	020U4lCPk8wUkCOz;

1.17
date	2015.05.23.16.34.41;	author czarkoff;	state Exp;
branches;
next	1.16;
commitid	fN1tzgTYNQ8m6FN4;

1.16
date	2015.05.05.05.53.54;	author zhuk;	state Exp;
branches;
next	1.15;
commitid	qXw2HfX366iPQ0eo;

1.15
date	2015.05.02.07.39.02;	author ajacoutot;	state Exp;
branches;
next	1.14;
commitid	sG2LKF7ByuCL3T7z;

1.14
date	2015.04.01.13.45.47;	author ajacoutot;	state Exp;
branches;
next	1.13;
commitid	j6Z3fR9UnvUqNtxl;

1.13
date	2015.02.21.05.14.58;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	TIT7ZXyCLA3n1Hn6;

1.12
date	2015.01.23.09.31.10;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	rtHgoS5EPZppgWCq;

1.11
date	2015.01.06.10.07.01;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	vRitjkhro4q2CNKM;

1.10
date	2014.11.20.16.17.58;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	tkZXFsNavZ3jrbxB;

1.9
date	2014.11.01.21.33.53;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	hPLbKhwYMYf3TUjd;

1.8
date	2014.10.30.09.39.04;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	eRvDIpSuOAI0falX;

1.7
date	2014.10.22.09.30.38;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	MPriMLbeT57dFZ8H;

1.6
date	2014.10.16.15.16.36;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	y1ERCZersnbsrAVv;

1.5
date	2014.10.15.14.32.06;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	xNB90a6Beot8LQrA;

1.4
date	2014.10.15.07.30.45;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	U263sZcAbuA26YIQ;

1.3
date	2014.09.23.06.43.54;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	Ju3d7p6GOuBGWO9A;

1.2
date	2014.09.14.06.58.02;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	UFeg2gBSES4u1PRx;

1.1
date	2014.09.13.10.10.24;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;
commitid	mMYpHr5wqoHhZD8P;

1.1.1.1
date	2014.09.13.10.10.24;	author ajacoutot;	state Exp;
branches;
next	;
commitid	mMYpHr5wqoHhZD8P;


desc
@@


1.25
log
@missed bumps from qt churnage
@
text
@# $OpenBSD: Makefile,v 1.24 2017/07/27 10:15:29 sthen Exp $

COMMENT=		Lumina Desktop Environment

GH_ACCOUNT=		trueos
GH_PROJECT=		lumina
GH_TAGNAME=		v1.3.0-p1
PKGNAME=		lumina-1.3.0pl1
REVISION =		1

CATEGORIES=		x11

HOMEPAGE=		http://lumina-desktop.org/

MAINTAINER=		Bryan C. Everly <bryan@@bceassociates.com>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ${COMPILER_LIBCXX}
WANTLIB += GL Qt5Concurrent Qt5Core Qt5Gui Qt5Multimedia Qt5MultimediaWidgets
WANTLIB += Qt5Network Qt5Svg Qt5Widgets Qt5X11Extras Xdamage c
WANTLIB += m pthread xcb xcb-composite xcb-damage xcb-ewmh xcb-icccm
WANTLIB += xcb-image xcb-util

MODULES=		x11/qt5

RUN_DEPENDS=		devel/desktop-file-utils \
			devel/kf5/oxygen-icons \
			multimedia/gstreamer1/plugins-base \
			x11/fluxbox \
			x11/numlockx \
			x11/xscreensaver \
			x11/gtk+3,-guic

LIB_DEPENDS=		x11/qt5/qtmultimedia \
			x11/qt5/qtsvg \
			x11/qt5/qtx11extras

MAKE_FLAGS=		LIBLuminaUtils_VERSION=${LIBLuminaUtils_VERSION}
FAKE_FLAGS=		INSTALL_ROOT=${DESTDIR}/

NO_TEST=		Yes

pre-configure:
	sed -i -e "s,!!LOCALBASE!!,${LOCALBASE}," \
		-e "s,!!SYSCONFDIR!!,${SYSCONFDIR}," \
		${WRKSRC}/src-qt5/OS-detect.pri

do-configure:
	cd ${WRKSRC} && ${LOCALBASE}/bin/qmake-qt5 \
		CONFIG+="configure WITH_I18N NO_XINPUT"

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/lumina
	mv ${WRKINST}/etc/luminaDesktop.conf.dist \
		${PREFIX}/share/examples/lumina/luminaDesktop.conf
	gunzip ${PREFIX}/man/man{1,8}/*.gz

.include <bsd.port.mk>
@


1.24
log
@add COMPILER_LIBCXX to WANTLIB and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2017/07/10 14:49:33 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
@


1.23
log
@Update to lumina-1.3.0pl1.

from Bryan C. Everly (maintainer) with tweaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2017/01/09 10:10:20 sthen Exp $
d9 1
d20 1
@


1.22
log
@update to lumina-1.2.0-p1, from maintainer Bryan C. Everly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/12/25 14:34:40 zhuk Exp $
d7 2
a8 2
GH_TAGNAME=		v1.2.0-p1
PKGNAME=		lumina-1.2.0pl1
d31 2
a32 1
			x11/xscreensaver
d56 1
@


1.21
log
@Adapt to new x11/qt5 layout, mostly REVISION bumps due to changed deps.

The devel/kf5 to be handled separately, please wait.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/10/31 17:49:30 ajacoutot Exp $
d7 2
a8 2
GH_TAGNAME=		v1.1.0
REVISION=		0
d10 3
a12 1
SHARED_LIBS +=  	LuminaUtils		1.1 # 1.1
a13 1
CATEGORIES=		x11
d15 3
a17 1
HOMEPAGE=		http://lumina-desktop.org/
a23 4
# BSD
PERMIT_PACKAGE_CDROM=	Yes
NO_TEST=		Yes

d40 2
d48 2
a49 1
	cd ${WRKSRC} && ${LOCALBASE}/bin/qmake-qt5 CONFIG+="configure WITH_I18N"
@


1.20
log
@Update to lumina-1.1.0.
- i18n merged into lumina

from Bryan C. Everly (maintainer) with a few tweaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/08/12 06:26:34 ajacoutot Exp $
d8 1
d28 1
a29 1
			x11/kde4/oxygen-icons \
d33 4
@


1.19
log
@Update to lumina-0.8.6.
Split between lumina and lumina-i18n as done upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2014/04/29 11:10:06 ajacoutot Exp $
d3 1
a3 3
     SUBDIR =
     SUBDIR += i18n
     SUBDIR += lumina
d5 45
a49 1
.include <bsd.port.subdir.mk>
@


1.18
log
@gcc4 bumps, reminded by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/05/23 16:34:41 czarkoff Exp $
d3 3
a5 1
COMMENT=	Lumina Desktop Environment
d7 1
a7 53

V=		0.8.4
GH_ACCOUNT=	pcbsd
GH_PROJECT=	lumina
GH_TAGNAME=	v${V}-Release-P1
DISTNAME=	lumina-${V}
REVISION=	1

SHARED_LIBS +=  LuminaUtils               1.0 # 1.0

CATEGORIES=	x11

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM =   Yes

WANTLIB += GL Qt5Core Qt5Gui Qt5Multimedia Qt5MultimediaWidgets
WANTLIB += Qt5Network Qt5Widgets Qt5X11Extras X11 Xcomposite Xdamage
WANTLIB += Xrender c m pthread xcb xcb-composite xcb-damage xcb-ewmh
WANTLIB += xcb-icccm xcb-image

MODULES=	x11/qt5

RUN_DEPENDS=	devel/desktop-file-utils \
		x11/kde4/oxygen-icons \
		x11/fluxbox \
		x11/numlockx \
		x11/xscreensaver

NO_TEST=	Yes

MAKE_FLAGS=	LIBLuminaUtils_VERSION=${LIBLuminaUtils_VERSION}
FAKE_FLAGS=	INSTALL_ROOT=${DESTDIR}

pre-configure:
	perl -pi -e 's,/usr/local,${LOCALBASE},g' \
		${WRKSRC}/libLumina/LuminaXDG.cpp \
		${WRKSRC}/lumina-config/mainUI.cpp \
		${WRKSRC}/lumina-desktop/SettingsMenu.cpp
	perl -pi -e 's,/etc/luminaDesktop.conf,${SYSCONFDIR}/luminaDesktop.conf,g' \
		${WRKSRC}/libLumina/LuminaUtils.cpp

do-configure:
	cd ${WRKSRC} && ${LOCALBASE}/bin/qmake-qt5

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/lumina
	mv ${PREFIX}/etc/luminaDesktop.conf.dist \
		${PREFIX}/share/examples/lumina/
	rmdir ${PREFIX}/etc

.include <bsd.port.mk>
@


1.17
log
@Remove HOMEPAGE for ports where the one auto-generated from GH_* variables is
completely identical.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2015/05/05 05:53:54 zhuk Exp $
d11 1
a11 1
REVISION=	0
@


1.16
log
@Fix obvious bug spotted by GCC: https://github.com/pcbsd/lumina/pull/110

okay aja@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/05/02 07:39:02 ajacoutot Exp $
a15 2

HOMEPAGE=	https://github.com/pcbsd/lumina
@


1.15
log
@Update to lumina-0.8.4.
prodded by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2015/04/01 13:45:47 ajacoutot Exp $
d11 1
@


1.14
log
@Update to lumina-0.8.3.1427733141.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2015/02/21 05:14:58 ajacoutot Exp $
d5 6
a10 5
GITV=		1427733141
DISTNAME=	lumina-${GITV}
PKGNAME=	lumina-0.8.3.${GITV}
EXTRACT_SUFX=	.tar.bz2
WRKDIST=	${WRKDIR}/lumina
a26 3

MASTER_SITES=	http://www.pcbsd.org/~kris/software/ \
		ftp://ftp.pcbsd.org/pub/software/
@


1.13
log
@Update to lumina-0.8.2.1424293520.
- fix a crash with Desktop plugins on OpenBSD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2015/01/23 09:31:10 ajacoutot Exp $
d5 1
a5 1
GITV=		1424293520
d7 1
a7 1
PKGNAME=	lumina-0.8.2.${GITV}
d22 1
a22 1
WANTLIB += GL Qt5Core Qt5DBus Qt5Gui Qt5Multimedia Qt5MultimediaWidgets
d24 2
a25 1
WANTLIB += Xrender c m pthread xcb xcb-damage xcb-ewmh xcb-icccm
@


1.12
log
@Update to lumina-0.8.1.1421890927.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2015/01/06 10:07:01 ajacoutot Exp $
d5 1
a5 1
GITV=		1421890927
d7 1
a7 1
PKGNAME=	lumina-0.8.1.${GITV}
@


1.11
log
@Update to lumina-0.8.0.1420494806.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2014/11/20 16:17:58 ajacoutot Exp $
d5 1
a5 1
GITV=		1420494806
d7 1
a7 1
PKGNAME=	lumina-0.8.0.${GITV}
d22 1
a22 1
WANTLIB += GL Qt5Core Qt5Gui Qt5Multimedia Qt5MultimediaWidgets
d47 2
d52 6
@


1.10
log
@Update to lumina-0.7.2.1416412720.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2014/11/01 21:33:53 ajacoutot Exp $
d5 1
a5 1
GITV=		1416412720
d7 1
a7 1
PKGNAME=	lumina-0.7.2.${GITV}
d11 1
a11 1
SHARED_LIBS +=  LuminaUtils               0.0 # 1.0
d22 3
a24 3
WANTLIB += ICE QtDBus QtGui QtNetwork QtSolutions_SingleApplication-head
WANTLIB += QtXml SM X11 Xcomposite Xdamage Xext Xi Xinerama Xrender
WANTLIB += c fontconfig freetype m phonon pthread stdc++
d29 1
a29 5
MODULES=	x11/qt4

BUILD_DEPENDS=	multimedia/phonon

LIB_DEPENDS=	devel/qt4-qtsolutions-singleinstance
a31 1
		phonon-gstreamer-*|phonon-vlc-*:multimedia/phonon-backend/gstreamer \
d39 1
a39 5
MAKE_FLAGS=	CXXFLAGS="${CXXFLAGS} \
			-I${X11BASE}/include \
			-I${LOCALBASE}/include/kde4/KDE" \
		LIBLuminaUtils_VERSION=${LIBLuminaUtils_VERSION}

d49 1
a49 1
	cd ${WRKSRC} && ${LOCALBASE}/bin/qmake4
@


1.9
log
@No need to depend on gstreamer-0.10 now that phonon moved to gstreamer1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2014/10/30 09:39:04 ajacoutot Exp $
d5 1
a5 1
GITV=		1414614312
d7 1
a7 1
PKGNAME=	lumina-0.7.1.${GITV}
a9 1
REVISION=	0
@


1.8
log
@Update to lumina-0.7.1.1414614312.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2014/10/22 09:30:38 ajacoutot Exp $
d10 1
a41 3

# sndio(7)
RUN_DEPENDS +=	multimedia/gstreamer-0.10/plugins-good
@


1.7
log
@Update to lumina-0.7.0.1413916751.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2014/10/16 15:16:36 ajacoutot Exp $
d5 1
a5 1
GITV=		1413916751
d7 1
a7 1
PKGNAME=	lumina-0.7.0.${GITV}
@


1.6
log
@Update to lumina-0.7.0.1413399783.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/10/15 14:32:06 ajacoutot Exp $
d5 1
a5 1
GITV=		1413399783
@


1.5
log
@Update to lumina-0.7.0.1413376519.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2014/10/15 07:30:45 ajacoutot Exp $
d5 1
a5 1
GITV=		1413376519
@


1.4
log
@Update to lumina-0.6.3.1413320101.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2014/09/23 06:43:54 ajacoutot Exp $
d5 1
a5 1
GITV=		1413320101
d7 1
a7 1
PKGNAME=	lumina-0.6.3.${GITV}
@


1.3
log
@Update to lumina-0.6.3.1411413020.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/09/14 06:58:02 ajacoutot Exp $
d5 1
a5 1
GITV=		1411413020
@


1.2
log
@Fix path to lrelease.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2014/09/13 10:10:24 ajacoutot Exp $
d5 1
a5 1
GITV=		1409847349
d7 1
a7 1
PKGNAME=	lumina-0.6.2.${GITV}
a54 3
# https://github.com/pcbsd/lumina/commit/9a7351a0199ff91f34e876fedb66c2b4d6121009
	cp ${FILESDIR}/LuminaOS-OpenBSD.cpp \
		${WRKSRC}/libLumina/LuminaOS-OpenBSD.cpp
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d55 1
a61 3
.for i in lumina-config lumina-desktop lumina-fm lumina-open lumina-screenshot
	perl -pi -e 's,lrelease-qt4,lrelease4,g' ${WRKSRC}/$i/$i.pro
.endfor
@


1.1.1.1
log
@Import lumina-0.6.2.1409847349

Lumina-DE is a lightweight, BSD licensed desktop environment.

ok jasper@@
@
text
@@
