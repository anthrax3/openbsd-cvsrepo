head	1.3;
access;
symbols
	OPENBSD_4_1:1.2.0.10
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.8
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.6
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.4
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.2
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.1.0.4
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.2
	OPENBSD_3_5_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2007.06.01.18.26.33;	author matthieu;	state dead;
branches;
next	1.2;

1.2
date	2004.11.06.16.15.08;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2004.02.12.01.32.03;	author kevlo;	state Exp;
branches;
next	;


desc
@@


1.3
log
@This port was only useful with xfstt. Since then truetype font support
in X has improved. ok steven@@ ajacoutot@@ naddy@@
@
text
@$OpenBSD: patch-encoding_cpp,v 1.2 2004/11/06 16:15:08 naddy Exp $
--- encoding.cpp.orig	Thu Nov  7 06:28:44 2002
+++ encoding.cpp	Sat Nov  6 16:49:09 2004
@@@@ -2,7 +2,8 @@@@
 #include <cstdio>
 #include <cstdlib>
 #include <cstring>
-#include "freetype/freetype.h"
+#include <ft2build.h>
+#include FT_FREETYPE_H
 
 #include "ttmkfdir.h"
 #include "encoding.h"
@@@@ -44,7 +45,7 @@@@ namespace {
 	
 	    strcat (name, file_name);
 
-	    sprintf (command, "exec %s < %s", (toupper(name[strlen (name) - 1]) == 'Z')
+	    snprintf (command, sizeof(command), "exec %s < %s", (toupper(name[strlen (name) - 1]) == 'Z')
 		     ? "gzip -d" : "cat", name);
 	    return popen (command, "r");
 	}
@


1.2
log
@update freetype includes
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@update to the latest version. Ok'd by maintainer.
@
text
@d1 14
a14 3
--- encoding.cpp.orig	2002-11-07 05:28:44.000000000 +0000
+++ encoding.cpp	2004-02-11 17:04:21.000000000 +0000
@@@@ -44,7 +44,7 @@@@ namespace {
@

