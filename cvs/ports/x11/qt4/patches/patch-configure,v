head	1.27;
access;
symbols
	OPENBSD_6_1:1.27.0.8
	OPENBSD_6_1_BASE:1.27
	OPENBSD_6_0:1.27.0.6
	OPENBSD_6_0_BASE:1.27
	OPENBSD_5_9:1.27.0.2
	OPENBSD_5_9_BASE:1.27
	OPENBSD_5_8:1.27.0.4
	OPENBSD_5_8_BASE:1.27
	OPENBSD_5_7:1.26.0.4
	OPENBSD_5_7_BASE:1.26
	OPENBSD_5_6:1.26.0.2
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.25.0.2
	OPENBSD_5_5_BASE:1.25
	OPENBSD_5_4:1.24.0.6
	OPENBSD_5_4_BASE:1.24
	OPENBSD_5_3:1.24.0.4
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.24.0.2
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.2
	OPENBSD_5_0:1.21.0.2
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.20.0.2
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.19.0.2
	OPENBSD_4_8_BASE:1.19
	OPENBSD_4_7:1.16.0.2
	OPENBSD_4_7_BASE:1.16
	OPENBSD_4_6:1.14.0.2
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.12.0.2
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.11.0.4
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.11.0.2
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.7.0.2
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	espie:1.1.1.1
	trolltech:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2015.06.03.07.28.01;	author dcoppa;	state Exp;
branches;
next	1.26;
commitid	oaVrPQqHD3DHzE8M;

1.26
date	2014.07.12.11.10.14;	author dcoppa;	state Exp;
branches;
next	1.25;
commitid	u1HNNgYLVo9RYshW;

1.25
date	2013.10.04.13.15.40;	author dcoppa;	state Exp;
branches;
next	1.24;

1.24
date	2012.06.14.09.38.35;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2011.12.26.15.51.55;	author kili;	state Exp;
branches;
next	1.22;

1.22
date	2011.09.07.09.54.07;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2011.04.03.13.35.31;	author dcoppa;	state Exp;
branches;
next	1.20;

1.20
date	2010.10.28.14.55.47;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.06.21.16.40.52;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.05.23.10.36.49;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.04.19.09.36.30;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2009.10.11.09.43.08;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2009.09.01.18.24.28;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2009.06.08.13.55.28;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2009.04.18.17.25.43;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2008.10.21.22.20.00;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2007.10.22.15.36.59;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2007.08.29.12.30.58;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2007.05.22.09.09.32;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2007.03.17.17.58.17;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.10.08.21.43.50;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2006.06.04.09.37.43;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2006.03.05.21.58.07;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2005.12.31.15.59.50;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2005.09.19.20.40.16;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2005.07.04.11.32.50;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2005.07.04.11.10.15;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.07.04.11.10.15;	author espie;	state Exp;
branches;
next	;


desc
@@


1.27
log
@
Bugfixing update to qt-4.8.7.
And use the new "qt.io" for HOMEPAGE / MASTER_SITES.

No fallout in a bulk build (ajacoutot@@)

OK espie@@ (maintainer)
@
text
@$OpenBSD: patch-configure,v 1.26 2014/07/12 11:10:14 dcoppa Exp $
--- configure.orig	Thu May  7 16:14:56 2015
+++ configure	Sun May 31 13:28:28 2015
@@@@ -918,7 +918,7 @@@@ CFG_SILENT=no
 CFG_GRAPHICS_SYSTEM=default
 CFG_RUNTIME_SYSTEM=
 CFG_ALSA=auto
-CFG_PULSEAUDIO=auto
+CFG_PULSEAUDIO=no
 CFG_COREWLAN=auto
 CFG_ICD=auto
 CFG_NOPROCESS=no
@@@@ -2412,7 +2412,7 @@@@ while [ "$#" -gt 0 ]; do
     v|verbose)
         if [ "$VAL" = "yes" ]; then
             if [ "$OPT_VERBOSE" = "$VAL" ]; then            # takes two verboses to turn on qmake debugs
-                QMAKE_SWITCHES="$QMAKE_SWITCHES -d"
+                : # QMAKE_SWITCHES="$QMAKE_SWITCHES -d"
             else
                 OPT_VERBOSE=yes
             fi
@@@@ -4969,7 +4969,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
         EXTRA_OBJS=
         EXTRA_SRCS=
         EXTRA_CFLAGS="\$(QMAKE_CFLAGS)"
-        EXTRA_CXXFLAGS="\$(QMAKE_CXXFLAGS)"
+        EXTRA_CXXFLAGS="\$(QMAKE_CXXFLAGS) -DLOCALBASE=\\\\\"${LOCALBASE}\\\\\" -DX11BASE=\\\\\"${X11BASE}\\\\\""
         EXTRA_LFLAGS="\$(QMAKE_LFLAGS)"
 
         if [ "$PLATFORM" = "irix-cc" ] || [ "$PLATFORM" = "irix-cc-64" ]; then
@@@@ -5078,7 +5078,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
     done
 
     QMAKE_BUILD_ERROR=no
-    (cd "$outpath/qmake"; "$MAKE") || QMAKE_BUILD_ERROR=yes
+    (cd "$outpath/qmake"; "$MAKE" $BOOTSTRAP_MAKE_FLAGS) || QMAKE_BUILD_ERROR=yes
     [ '!' -z "$QCONFIG_H" ] && mv -f "$QCONFIG_H" "$QMAKE_QCONFIG_H" #move qmake's qconfig.h to qconfig.h.qmake
     [ '!' -z "$OLD_QCONFIG_H" ] && mv -f "${OLD_QCONFIG_H}.old" "$OLD_QCONFIG_H" #put back qconfig.h
     [ "$QMAKE_BUILD_ERROR" = "yes" ] && exit 2
@


1.26
log
@
Update qt4 to version 4.8.6.

OK espie@@, jasper@@, bcallah@@ some time ago
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.25 2013/10/04 13:15:40 dcoppa Exp $
--- configure.orig	Thu Apr 10 20:37:08 2014
+++ configure	Tue May 13 11:25:23 2014
@@@@ -917,7 +917,7 @@@@ CFG_SILENT=no
d13 1
a13 1
@@@@ -2408,7 +2408,7 @@@@ while [ "$#" -gt 0 ]; do
d22 1
a22 1
@@@@ -4965,7 +4965,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
d31 1
a31 1
@@@@ -5074,7 +5074,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
@


1.25
log
@Maintenance update to qt-4.8.5 (plus three bugfixes from upstream
via Arch Linux).
Feedback from zhuk@@, espie@@, and Amit Kulkarni.
ABI/API compatibility analysis done with abi-compliance-checker.

ok espie@@ (MAINTAINER)
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.24 2012/06/14 09:38:35 espie Exp $
--- configure.orig	Fri Jun  7 07:16:41 2013
+++ configure	Fri Sep 27 10:10:55 2013
d22 1
a22 1
@@@@ -4958,7 +4958,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
d31 1
a31 1
@@@@ -5058,7 +5058,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
@


1.24
log
@update to 4.8.2
- since we no longer have GCC3_ARCHES, simplify, no way it's gonna compile
on a GCC2_ARCH anyways (size matters)
- so, we have only SHARED_ONLY arches, remove those frags as well.
- fold back qt4-sqlite since sqlite is part of core now.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.23 2011/12/26 15:51:55 kili Exp $
--- configure.orig	Thu Apr 26 21:46:24 2012
+++ configure	Sun Jun 10 13:25:08 2012
@@@@ -890,7 +890,7 @@@@ CFG_SILENT=no
d13 1
a13 1
@@@@ -2347,7 +2347,7 @@@@ while [ "$#" -gt 0 ]; do
d22 1
a22 1
@@@@ -4897,7 +4897,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
d31 1
a31 1
@@@@ -4997,7 +4997,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
@


1.23
log
@Don't silently pull in a dependency on pulseaudio.

I had a diff adding proper LIB_DEPENDS-* and WANTLIB- entries,
but espie@@ prefers to just disable pulseaudio support for now,
because he's working on a qt4 update.

ok espie@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.22 2011/09/07 09:54:07 espie Exp $
--- configure.orig	Mon Sep 12 08:49:28 2011
+++ configure	Mon Dec 26 16:47:31 2011
@@@@ -776,7 +776,7 @@@@ CFG_SILENT=no
d13 1
a13 1
@@@@ -2138,7 +2138,7 @@@@ while [ "$#" -gt 0 ]; do
d22 1
a22 1
@@@@ -4618,7 +4618,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
d31 1
a31 1
@@@@ -4722,7 +4722,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
@


1.22
log
@minor update to 4.7.4 (mostly bugfixes)
while there, clean up WANTLIBs
@
text
@d1 12
a12 3
$OpenBSD: patch-configure,v 1.21 2011/04/03 13:35:31 dcoppa Exp $
--- configure.orig	Tue Aug 23 14:02:27 2011
+++ configure	Mon Sep  5 11:19:02 2011
@


1.21
log
@Bug-fix update to qt-4.7.2.

Tested in a bulk build by landry@@
OK espie@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.20 2010/10/28 14:55:47 espie Exp $
--- configure.orig	Tue Feb 22 13:02:53 2011
+++ configure	Tue Mar 29 14:02:17 2011
@@@@ -2168,7 +2168,7 @@@@ while [ "$#" -gt 0 ]; do
d13 1
a13 1
@@@@ -4651,7 +4651,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
d22 1
a22 1
@@@@ -4755,7 +4755,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
@


1.20
log
@qt 4.7.0
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.19 2010/06/21 16:40:52 espie Exp $
--- configure.orig	Fri Sep 10 11:04:46 2010
+++ configure	Sun Oct 24 12:32:06 2010
@@@@ -2085,7 +2085,7 @@@@ while [ "$#" -gt 0 ]; do
d13 1
a13 1
@@@@ -4516,7 +4516,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
d22 1
a22 1
@@@@ -4620,7 +4620,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
@


1.19
log
@minor update to 4.6.3
while there, clean up wantlibs.
- fix bug with new phonon (pick up ours and not it)
- fix a bug in qdbuscpp2xml (timeout)
- more patches for gcc3: sse code ICES, new demo doesn't compile.

spectrum not installed, seems to be macosX or something ? I can't get
a thing out of it.

Tested on gcc4 and gcc3...
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.18 2010/05/23 10:36:49 espie Exp $
--- configure.orig	Wed Jun  2 04:03:10 2010
+++ configure	Mon Jun 21 11:32:32 2010
@@@@ -2015,7 +2015,7 @@@@ while [ "$#" -gt 0 ]; do
d13 10
a22 1
@@@@ -4445,7 +4445,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
@


1.18
log
@misc fixes
- for gcc4, insist on -fno-wrapv, since it breaks things.
- use atomic builtins as they are available (on i386 at least)
- remove a few reasons why gmake is required (but not all)
- pass MAKE_JOBS to configure step.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.17 2010/04/19 09:36:30 espie Exp $
--- configure.orig	Thu Feb 11 16:55:17 2010
+++ configure	Mon May 17 22:38:44 2010
@@@@ -2013,7 +2013,7 @@@@ while [ "$#" -gt 0 ]; do
d13 1
a13 1
@@@@ -4455,7 +4455,7 @@@@ if true; then ###[ '!' -f "$outpath/bin/qmake" ];
@


1.17
log
@update to 4.6.2. things work apart from eventsview...
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.16 2009/10/11 09:43:08 espie Exp $
d3 1
a3 1
+++ configure	Mon Mar  8 13:27:00 2010
d13 9
@


1.16
log
@minor update to 4.5.3, some patches folded upstring.
Diff was painful to look at, mainly because nokia added their (c) notice
all over the place...
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.15 2009/09/01 18:24:28 espie Exp $
--- configure.orig	Tue Sep 29 13:01:31 2009
+++ configure	Sat Oct 10 13:19:31 2009
@@@@ -1896,7 +1896,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.15
log
@4.5.2
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.14 2009/06/08 13:55:28 espie Exp $
--- configure.orig	Sat Jun 20 06:57:50 2009
+++ configure	Sun Aug 30 15:55:35 2009
@@@@ -1857,7 +1857,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.14
log
@update to 4.5.1, including gcc4 build.
fix packaging in that case, since I botched the "extended" WANTLIB
(if stuff comes from the main package, it *has* to be in LIB_DEPENDS,
because WANTLIB are checked at build time).
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.13 2009/04/18 17:25:43 espie Exp $
--- configure.orig	Wed Apr 22 01:57:35 2009
+++ configure	Sun Jun  7 12:40:52 2009
@@@@ -1856,7 +1856,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.13
log
@update to 4.5.0
(ready for a gcc4 switch to enable webkit)

notice -phonon got scraped, because it becomes too hard to keep phonon out
of main qt tools way (like assistant on top of qtconfig)
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.12 2008/10/21 22:20:00 espie Exp $
--- configure.orig	Wed Feb 25 22:09:13 2009
+++ configure	Tue Mar  3 19:37:56 2009
@@@@ -1771,7 +1771,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.12
log
@qt 4.4.3
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.11 2007/10/22 15:36:59 espie Exp $
--- configure.orig	Sat Sep 27 10:58:41 2008
+++ configure	Mon Oct 20 14:57:36 2008
@@@@ -1666,7 +1666,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.11
log
@minor update to 4.3.2
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.10 2007/08/29 12:30:58 espie Exp $
--- configure.orig	Mon Oct  1 15:06:03 2007
+++ configure	Thu Oct 18 00:45:00 2007
@@@@ -1571,7 +1571,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.10
log
@minor update to 4.3.1. Had this in my tree for a while, totally forgot about
it...
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.9 2007/05/22 09:09:32 espie Exp $
--- configure.orig	Tue Aug  7 15:08:41 2007
+++ configure	Tue Aug 14 20:45:05 2007
@@@@ -1557,7 +1557,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.9
log
@update to 4.3.0rc1.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.8 2007/03/17 17:58:17 espie Exp $
--- configure.orig	Sun May  6 17:54:53 2007
+++ configure	Sun May 13 16:27:00 2007
@@@@ -1556,7 +1556,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.8
log
@update to 4.2.3
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.7 2006/10/08 21:43:50 espie Exp $
--- configure.orig	Wed Feb 21 10:59:17 2007
+++ configure	Sat Mar 17 10:47:27 2007
@@@@ -1402,7 +1402,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.7
log
@qt 4.2.0, lots of improvements.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.6 2006/06/04 09:37:43 espie Exp $
--- configure.orig	Fri Sep 29 16:45:28 2006
+++ configure	Sat Oct  7 13:10:23 2006
@@@@ -1401,7 +1401,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.6
log
@qt 4.1.3
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.5 2006/03/05 21:58:07 espie Exp $
--- configure.orig	Sun May 14 12:47:04 2006
+++ configure	Sun May 21 22:58:19 2006
@@@@ -1218,7 +1218,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.5
log
@update to qt 4.1.1
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.4 2005/12/31 15:59:50 espie Exp $
--- configure.orig	Thu Feb 16 11:51:17 2006
+++ configure	Sun Mar  5 12:10:37 2006
@@@@ -1152,7 +1152,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.4
log
@update to qt 4.1.0, heavily patch qmake to handle SHARED_LIBS.
patch a lot of Makefiles to avoid debug stuff entirely.
fix a few tests so that libmng gets picked up, and some various NIS
and IPv6 stuff.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.3 2005/09/19 20:40:16 espie Exp $
--- configure.orig	Fri Dec 16 12:52:06 2005
+++ configure	Thu Dec 29 15:06:25 2005
@@@@ -1147,7 +1147,7 @@@@ while [ "$#" -gt 0 ]; do
@


1.3
log
@Update to 4.0.1
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.2 2005/07/04 11:32:50 espie Exp $
--- configure.orig	Tue Aug 16 10:41:15 2005
+++ configure	Sun Sep 18 15:42:26 2005
@@@@ -1065,7 +1065,7 @@@@ while [ "$#" -gt 0 ]; do
a12 9
@@@@ -1774,7 +1774,7 @@@@ fi
 MYSQL_REQ="-lmysqlclient mysql.h"
 OCI_REQ="-lclntsh oci.h"
 PSQL_REQ="-lpq libpq-fe.h"
-ODBC_REQ="-lodbc sql.h sqlext.h"
+ODBC_REQ="-liodbc sql.h sqlext.h"
 TDS_REQ="-lsybdb sybfront.h sybdb.h"
 DB2_REQ="-ldb2 sqlcli.h sqlcli1.h"
 IBASE_REQ="-lgds ibase.h"
@


1.2
log
@forgot to install default file for qt3to4.
Also fix a few typos in trolltech's sources...
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.1.1.1 2005/07/04 11:10:15 espie Exp $
--- configure.orig	Fri Jun 24 15:54:49 2005
+++ configure	Mon Jul  4 13:18:02 2005
@@@@ -1033,7 +1033,7 @@@@ while [ "$#" -gt 0 ]; do
d13 1
a13 1
@@@@ -1801,7 +1801,7 @@@@ fi
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.orig	Mon Jun 13 12:35:26 2005
+++ configure	Mon Jun 13 12:37:24 2005
@@@@ -1016,7 +1016,7 @@@@ while [ "$#" -gt 0 ]; do
d13 1
a13 1
@@@@ -1784,7 +1784,7 @@@@ fi
@


1.1.1.1
log
@new version of qt. nothing much uses it yet, but it looks nicer
than the old ones.
@
text
@@
