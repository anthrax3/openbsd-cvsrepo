head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2014.07.12.11.33.32;	author dcoppa;	state dead;
branches;
next	1.1;
commitid	A8cDOzOj3heP0Rw0;

1.1
date	2014.05.26.19.24.28;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@
Ooops! Unbreak.
@
text
@$OpenBSD: patch-mkspecs_features_unix_gdb_dwarf_index_prf,v 1.1 2014/05/26 19:24:28 naddy Exp $

\+ in basic regular expressions is a GNU extension.

--- mkspecs/features/unix/gdb_dwarf_index.prf.orig	Fri Jun  7 07:17:00 2013
+++ mkspecs/features/unix/gdb_dwarf_index.prf	Sun May 25 00:38:46 2014
@@@@ -9,7 +9,7 @@@@
     }
 
     QMAKE_GDB_INDEX += \
-      test \$\$(gdb --version | sed -e \'s,[^0-9]\\+\\([0-9]\\)\\.\\([0-9]\\).*,\\1\\2,;q\') -gt 72 && \
+      test \$\$(gdb --version | sed -e \'s,[^0-9][^0-9]*\\([0-9]\\)\\.\\([0-9]\\).*,\\1\\2,;q\') -gt 72 && \
       gdb --nx --batch --quiet -ex \'set confirm off\' -ex \"save gdb-index $$QMAKE_GDB_DIR\" -ex quit \'$(TARGET)\'  && \
       test -f $(TARGET).gdb-index && \
       $$QMAKE_OBJCOPY --add-section \'.gdb_index=$(TARGET).gdb-index\' --set-section-flags \'.gdb_index=readonly\' \'$(TARGET)\' \'$(TARGET)\' && \
@


1.1
log
@Fix a GNU-ism in a sed expression that gets copied into generated Makefiles.
@
text
@d1 1
a1 1
$OpenBSD$
@

