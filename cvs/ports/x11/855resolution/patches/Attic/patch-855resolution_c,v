head	1.2;
access;
symbols
	OPENBSD_4_0:1.1.1.1.0.6
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.4
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.2
	OPENBSD_3_8_BASE:1.1.1.1
	sturm_20050809:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2006.10.29.18.32.09;	author sturm;	state dead;
branches;
next	1.1;

1.1
date	2005.08.09.20.14.27;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.08.09.20.14.27;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@IGNOREd for 5 month, remove it
@
text
@$OpenBSD: patch-855resolution_c,v 1.1 2005/08/09 20:14:27 sturm Exp $
--- 855resolution.c.orig	Wed Aug  3 17:47:56 2005
+++ 855resolution.c	Wed Aug  3 17:52:10 2005
@@@@ -15,7 +15,13 @@@@
 #include <stdlib.h>
 #include <string.h>
 #include <unistd.h>
+#if defined(__OpenBSD__)
+#include <i386/sysarch.h>
+#define IOPL(x) i386_iopl(x)
+#else
 #include <sys/io.h>
+#define IOPL(x) iopl(x)
+#endif
 
 #include "vbios.h"
 #include "plugin.h"
@@@@ -157,7 +163,7 @@@@ int list, plugins, mode, x, y;
 		display_plugins();
 	}
 	
-    if(iopl(3) < 0) {
+    if(IOPL(3) < 0) {
         perror("Unable to obtain the proper IO permissions");
         return 2;
     }
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Initial import of 855resolution 0.4

This software changes the resolution of an available vbios mode.
It is reported to work on several i855 / i865 / i915 chipset based
laptops. This is needed on certain laptops in order to get the full
native resolution of the LCD.

@
text
@@
