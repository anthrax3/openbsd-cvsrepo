head	1.3;
access;
symbols
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2011.11.16.13.33.15;	author phessler;	state dead;
branches;
next	1.2;

1.2
date	2011.04.12.22.40.20;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2011.02.02.09.34.23;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to VLC 1.1.12

Most of the bits from Brad, a minor runtime fix by me.

Tested on amd64, i386, macppc

OK dhill@@, rpointel@@, sthen@@, jasper@@
@
text
@$OpenBSD: patch-modules_demux_mkv_matroska_segment_parse_cpp,v 1.2 2011/04/12 22:40:20 sthen Exp $

Insufficient input validation in MKV demuxer. CVE-2011-0531

--- modules/demux/mkv/matroska_segment_parse.cpp.orig	Tue Feb  1 20:03:56 2011
+++ modules/demux/mkv/matroska_segment_parse.cpp	Tue Feb  1 20:04:53 2011
@@@@ -538,7 +538,7 @@@@ void matroska_segment_c::ParseTrackEntry( KaxTrackEntr
                     tk->f_fps = float( vfps );
                     msg_Dbg( &sys.demuxer, "   |   |   |   + fps=%f", float( vfps ) );
                 }
-                else if( EbmlId( *l ) == KaxVideoDisplayUnit::ClassInfos.GlobalId )
+                else if( MKV_IS_ID( l, KaxVideoDisplayUnit ) )
                 {
                     KaxVideoDisplayUnit &vdmode = *(KaxVideoDisplayUnit*)l;
 
@


1.2
log
@Update comments in patch headers to include CVE details (no change to
actual code). from Brad.
@
text
@d1 1
a1 1
$OpenBSD: patch-modules_demux_mkv_matroska_segment_parse_cpp,v 1.1 2011/02/02 09:34:23 ajacoutot Exp $
@


1.1
log
@SECURITY: fix a remote code execution vulnerability issue with the
          Mastroska container support (VideoLAN-SA-1102).

from Brad (maintainer)
ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
Insufficient input validation in MKV demuxer (VideoLAN-SA-1102).
@

