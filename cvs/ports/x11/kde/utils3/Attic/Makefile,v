head	1.80;
access;
symbols
	OPENBSD_5_9:1.79.0.2
	OPENBSD_5_9_BASE:1.79
	OPENBSD_5_8:1.79.0.4
	OPENBSD_5_8_BASE:1.79
	OPENBSD_5_7:1.77.0.6
	OPENBSD_5_7_BASE:1.77
	OPENBSD_5_6:1.77.0.4
	OPENBSD_5_6_BASE:1.77
	OPENBSD_5_5:1.77.0.2
	OPENBSD_5_5_BASE:1.77
	OPENBSD_5_4:1.74.0.2
	OPENBSD_5_4_BASE:1.74
	OPENBSD_5_3:1.71.0.2
	OPENBSD_5_3_BASE:1.71
	OPENBSD_5_2:1.70.0.2
	OPENBSD_5_2_BASE:1.70
	OPENBSD_5_1_BASE:1.69
	OPENBSD_5_1:1.69.0.2
	OPENBSD_5_0:1.67.0.4
	OPENBSD_5_0_BASE:1.67
	OPENBSD_4_9:1.67.0.2
	OPENBSD_4_9_BASE:1.67
	OPENBSD_4_8:1.65.0.2
	OPENBSD_4_8_BASE:1.65
	OPENBSD_4_7:1.61.0.2
	OPENBSD_4_7_BASE:1.61
	OPENBSD_4_6:1.58.0.2
	OPENBSD_4_6_BASE:1.58
	OPENBSD_4_5:1.57.0.2
	OPENBSD_4_5_BASE:1.57
	OPENBSD_4_4:1.56.0.2
	OPENBSD_4_4_BASE:1.56
	OPENBSD_4_3:1.54.0.2
	OPENBSD_4_3_BASE:1.54
	OPENBSD_4_2:1.50.0.2
	OPENBSD_4_2_BASE:1.50
	OPENBSD_4_1:1.47.0.2
	OPENBSD_4_1_BASE:1.47
	OPENBSD_4_0:1.41.0.2
	OPENBSD_4_0_BASE:1.41
	OPENBSD_3_9:1.38.0.2
	OPENBSD_3_9_BASE:1.38
	OPENBSD_3_8:1.30.0.2
	OPENBSD_3_8_BASE:1.30
	OPENBSD_3_7:1.26.0.2
	OPENBSD_3_7_BASE:1.26
	OPENBSD_3_6:1.21.0.2
	OPENBSD_3_6_BASE:1.21
	OPENBSD_3_5:1.18.0.2
	OPENBSD_3_5_BASE:1.18
	OPENBSD_3_4:1.14.0.2
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.12.0.2
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.7.0.2
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.80
date	2016.04.29.21.10.24;	author zhuk;	state dead;
branches;
next	1.79;
commitid	u9TvebbKy1wgQMr9;

1.79
date	2015.05.05.17.00.20;	author sthen;	state Exp;
branches;
next	1.78;
commitid	ukCYGVBlglFzny8e;

1.78
date	2015.03.27.08.16.18;	author ajacoutot;	state Exp;
branches;
next	1.77;
commitid	BUhOiEl2FUSRKwq7;

1.77
date	2013.12.22.19.24.35;	author zhuk;	state Exp;
branches;
next	1.76;

1.76
date	2013.10.22.11.34.11;	author zhuk;	state Exp;
branches;
next	1.75;

1.75
date	2013.10.05.07.34.41;	author espie;	state Exp;
branches;
next	1.74;

1.74
date	2013.07.08.14.03.30;	author zhuk;	state Exp;
branches;
next	1.73;

1.73
date	2013.06.03.20.07.39;	author zhuk;	state Exp;
branches;
next	1.72;

1.72
date	2013.03.19.13.07.14;	author nigel;	state Exp;
branches;
next	1.71;

1.71
date	2013.01.23.21.10.38;	author zhuk;	state Exp;
branches;
next	1.70;

1.70
date	2012.06.15.08.30.23;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2011.12.03.23.34.05;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2011.09.16.12.29.16;	author espie;	state Exp;
branches;
next	1.67;

1.67
date	2010.11.22.08.37.02;	author espie;	state Exp;
branches;
next	1.66;

1.66
date	2010.08.30.21.49.54;	author sthen;	state Exp;
branches;
next	1.65;

1.65
date	2010.07.10.12.44.30;	author espie;	state Exp;
branches;
next	1.64;

1.64
date	2010.07.08.21.28.49;	author espie;	state Exp;
branches;
next	1.63;

1.63
date	2010.05.15.08.48.02;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2010.04.15.14.34.12;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2009.12.21.20.46.02;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2009.08.27.19.44.39;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2009.08.11.08.40.40;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2009.03.16.12.53.03;	author sthen;	state Exp;
branches;
next	1.57;

1.57
date	2008.08.27.13.39.27;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2008.07.25.23.09.44;	author martynas;	state Exp;
branches;
next	1.55;

1.55
date	2008.03.26.11.11.42;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2007.12.15.23.47.41;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2007.10.24.21.52.18;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2007.10.08.08.22.43;	author steven;	state Exp;
branches;
next	1.51;

1.51
date	2007.09.15.20.04.21;	author merdely;	state Exp;
branches;
next	1.50;

1.50
date	2007.08.10.16.07.28;	author kurt;	state Exp;
branches;
next	1.49;

1.49
date	2007.05.25.09.49.56;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2007.05.09.11.31.44;	author bernd;	state Exp;
branches;
next	1.47;

1.47
date	2007.02.02.12.09.36;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2007.01.28.13.18.51;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2006.11.20.08.07.41;	author steven;	state Exp;
branches;
next	1.44;

1.44
date	2006.11.05.13.02.30;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2006.10.12.23.12.19;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2006.09.18.12.19.40;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2006.08.03.10.53.36;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2006.06.03.12.47.31;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2006.04.01.10.49.22;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2006.02.18.14.17.23;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2006.02.18.13.56.26;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2006.02.03.13.31.33;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2006.01.13.22.49.57;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2006.01.06.09.28.32;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2005.12.03.21.12.50;	author naddy;	state Exp;
branches;
next	1.32;

1.32
date	2005.11.30.23.37.39;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2005.10.17.11.28.27;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2005.08.16.09.49.54;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2005.07.28.08.47.41;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2005.06.02.14.01.27;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2005.03.29.21.18.37;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2004.12.30.21.10.04;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2004.12.16.07.25.26;	author alek;	state Exp;
branches;
next	1.24;

1.24
date	2004.12.12.11.33.25;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2004.10.19.00.25.30;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2004.09.18.09.36.45;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2004.07.24.12.47.16;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2004.04.13.04.22.37;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2004.04.10.12.55.44;	author sturm;	state Exp;
branches;
next	1.18;

1.18
date	2004.03.07.21.08.45;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2004.02.07.12.30.50;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2004.02.02.10.53.21;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2003.12.07.20.19.15;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2003.07.30.12.59.24;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2003.06.12.19.16.17;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2003.01.27.20.05.50;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2003.01.07.15.36.35;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2002.12.23.14.22.33;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2002.12.02.16.27.22;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2002.10.28.21.44.32;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2002.09.18.02.53.12;	author brad;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2002.09.01.08.25.26;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2002.07.16.12.20.43;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2002.05.23.14.37.22;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.04.10.01.24.40;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.04.04.14.27.32;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.04.04.14.23.48;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.04.04.14.23.48;	author espie;	state Exp;
branches;
next	;

1.7.2.1
date	2002.12.26.22.28.19;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.80
log
@Remove KDE3 applications that have well-working KDE4+ counterparts.
@
text
@# $OpenBSD: Makefile,v 1.79 2015/05/05 17:00:20 sthen Exp $

COMMENT = 		K Desktop Environment, utilities
CATEGORIES =		x11 x11/kde
VERSION =		3.5.10
DISTNAME =		kdeutils-${VERSION}
MODKDE_VERSION =	3.5.8
REVISION =		18

SHARED_LIBS +=	khexeditcommon       1.0      # .0.0
SHARED_LIBS +=	kcmlaptop            1.0      # .0.0
SHARED_LIBS +=	kmilo                2.0      # .1.0
SHARED_LIBS +=	kregexpeditorcommon  2.0      # .1.0
SHARED_LIBS +=	ksimcore             2.0      # .1.0

MODULES =	x11/kde devel/gettext lang/python

RUN_DEPENDS =	devel/desktop-file-utils \
		x11/gtk+3,-guic

LIB_DEPENDS =	audio/xmms \
		devel/gmp \
		net/net-snmp \
		x11/kde/libs3 \
		${MODPY_LIB_DEPENDS}

SEPARATE_BUILD =	flavored

WANTLIB += ${MODPY_WANTLIB}
WANTLIB += GL ICE SM X11 X11-xcb Xau Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xft Xi Xinerama Xmu Xrandr Xrender Xss Xt Xtst Xxf86vm
WANTLIB += art_lgpl_2 c crypto drm expat fam fontconfig freetype gdk
WANTLIB += glapi glib gmodule gmp gtk idn jpeg knewstuff kvm lcms
WANTLIB += lib/kde3/DCOP lib/kde3/kabc lib/kde3/kdecore>=6
WANTLIB += lib/kde3/kdefx lib/kde3/kdeprint lib/kde3/kdesu
WANTLIB += lib/kde3/kdeui lib/kde3/kio lib/kde3/kparts
WANTLIB += lib/kde3/kresources lib/kde3/kutils lib/kde3/kwalletclient
WANTLIB += lib/kde3/vcard m mng netsnmp png pthread pthread-stubs stdc++
WANTLIB += util xcb xcb-dri2 xcb-glx xmms z

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/${MODKDE_HTML_SUBDIR}/en/common

.include <bsd.port.mk>
@


1.79
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2015/03/27 08:16:18 ajacoutot Exp $
@


1.78
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2013/12/22 19:24:35 zhuk Exp $
d8 1
a8 1
REVISION =		17
d29 11
a39 9
WANTLIB =	GL ICE SM X11 Xcursor Xdamage Xext Xfixes Xft Xi
WANTLIB +=	Xinerama Xmu Xrandr Xrender Xss Xt Xtst Xxf86vm art_lgpl_2 c
WANTLIB +=	crypto drm expat fam fontconfig freetype gdk glib gmodule
WANTLIB +=	gmp gtk idn jpeg knewstuff kvm lcms lib/kde3/DCOP
WANTLIB +=	lib/kde3/kabc lib/kde3/kdecore>=6 lib/kde3/kdefx
WANTLIB +=	lib/kde3/kdeprint lib/kde3/kdesu lib/kde3/kdeui lib/kde3/kio
WANTLIB +=	lib/kde3/kparts lib/kde3/kresources lib/kde3/kutils
WANTLIB +=	lib/kde3/kwalletclient lib/kde3/vcard m mng netsnmp png
WANTLIB +=	pthread pthread-stubs stdc++ util xcb xmms z ${MODPY_WANTLIB}
@


1.77
log
@Next KDE deconflicting step: rename share/config/ to share/config.kde3/ and
share/config.kcfg/ to share/config.kcfg.kde3/. Tested on i386, including
run-time tests (not for all apps, though).

After this commit, there are only two conflicting files in kdelibs 3.x and
4.x packages left - to be solved soon.

spurring from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2013/10/22 11:34:11 zhuk Exp $
d8 1
a8 1
REVISION =		16
d19 1
a19 1
		x11/gtk+2,-guic
@


1.76
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2013/10/05 07:34:41 espie Exp $
d8 1
a8 1
REVISION =		15
@


1.75
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2013/07/08 14:03:30 zhuk Exp $
d8 1
a8 1
REVISION =		14
d40 1
a40 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/HTML/en/common
@


1.74
log
@Replace ${post_install_libs} in Makefile.inc with MODKDE_LIB_LINKS
(see analog in kde4.port.mk). Some stuff outside x11/kde will need this
functionality, too, as it was merged into KDE4 SC.

okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2013/06/03 20:07:39 zhuk Exp $
d8 1
a8 1
REVISION =		13
@


1.73
log
@Move last users of Python 2.5 to the old new (or new old?) Python 2.7 land.

A few iterations with testing done by and ok landry@@
Also prodding from ajacoutot@@, fgsch@@ and others
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2013/03/19 13:07:14 nigel Exp $
a40 1
	@@${post_install_libs}
@


1.72
log
@WANTLIB updates for fontconfig and other libraries.

Ok sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2013/01/23 21:10:38 zhuk Exp $
d7 3
a9 1
MODKDE_VERSION =		3.5.8
d16 1
a16 1
MODULES =	x11/kde devel/gettext
d18 1
a18 1
RUN_DEPENDS +=	devel/desktop-file-utils \
d20 3
a22 1
LIB_DEPENDS =	x11/kde/libs3 \
d24 2
a25 5
		devel/gmp \
		python->=2.5,<2.6:lang/python/2.5 \
		audio/xmms \
		x11/gtk+

a28 1
REVISION = 12
d37 1
a37 1
WANTLIB +=	pthread pthread-stubs python2.5 stdc++ util xcb xmms z
@


1.71
log
@Move KDE 3 headers from ${PREFIX}/include to ${PREFIX}/include/kde.
Updates to dependant ports to follow.

Tested in a bulk, input and okay by landry@@
Reviewed by aja@@ too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2012/06/15 08:30:23 ajacoutot Exp $
d28 10
a37 7
REVISION = 11
WANTLIB = ICE SM X11 Xau Xdmcp Xext Xi Xrender Xss Xtst art_lgpl_2 c crypto \
	fam gdk glib gmodule gmp gtk idn jpeg kvm lib/kde3/DCOP lib/kde3/kabc \
	lib/kde3/kdecore>=6 lib/kde3/kdefx lib/kde3/kdeprint lib/kde3/kdesu \
	lib/kde3/kdeui lib/kde3/kio lib/kde3/kparts lib/kde3/kresources \
	lib/kde3/kutils lib/kde3/kwalletclient lib/kde3/vcard m netsnmp png \
	pthread pthread-stubs python2.5 stdc++ util xcb xmms z
@


1.70
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/12/03 23:34:05 ajacoutot Exp $
d28 1
a28 1
REVISION = 10
@


1.69
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/09/16 12:29:16 espie Exp $
d28 1
a28 1
REVISION = 9
@


1.68
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2010/11/22 08:37:02 espie Exp $
d16 2
a17 1
RUN_DEPENDS +=	devel/desktop-file-utils
d28 1
a28 1
REVISION = 8
@


1.67
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2010/08/30 21:49:54 sthen Exp $
d27 1
a27 1
REVISION = 7
@


1.66
log
@bump for new python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2010/07/10 12:44:30 espie Exp $
d16 7
a22 7
RUN_DEPENDS +=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS =	::x11/kde/libs3 \
		::net/net-snmp \
		::devel/gmp \
		:python->=2.5,<2.6:lang/python/2.5 \
		::audio/xmms \
		::x11/gtk+
d30 1
a30 1
	lib/kde3/kdecore.>=6 lib/kde3/kdefx lib/kde3/kdeprint lib/kde3/kdesu \
@


1.65
log
@use REVISION instead of hardcoding p-numbers.

Note the way REVISION and WANTLIB are defined.
This is (more or less) the Makefile portion that lib-depends-check is supposed
to handle eventually...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2010/07/08 21:28:49 espie Exp $
d27 1
a27 1
REVISION = 6
@


1.64
log
@clean-up AND small changes:
- copy libs over to lib/kde3 (to prepare coexistence with kde4, eventually)
- move lib depends over to WANTLIB
- update WANTLIB for recent changes
- create links to avoid pkg_create protests over non existing links
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/05/15 08:48:02 ajacoutot Exp $
a6 1
PKGNAME =		${DISTNAME}p6
d27 1
@


1.63
log
@Add missing gtk-update-icon-cache goos.

ok landry@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/04/15 14:34:12 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p5
d18 6
a23 6
LIB_DEPENDS =	DCOP,kabc,kdecore.>=6,kdefx,kdeprint,kdesu,kdeui,kio,kparts,kresources,kutils,kwalletclient,vcard::x11/kde/libs3 \
		netsnmp::net/net-snmp \
		gmp::devel/gmp \
		python2.5:python->=2.5,<2.6:lang/python/2.5 \
		xmms::audio/xmms \
		gtk,gdk::x11/gtk+
d28 10
a37 4
WANTLIB =	ICE SM X11 Xext Xrender Xtst art_lgpl_2 c crypto jpeg m \
		png pthread stdc++ util z gmodule Xi kvm glib \
		idn Xau Xdmcp fam rpcsvc Xss pthread-stubs xcb

@


1.62
log
@Consistency: remove the 1, 2 or even 3 empty blank lines.

sthen@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2009/12/21 20:46:02 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p4
@


1.61
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2009/08/27 19:44:39 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p3
@


1.60
log
@Use the gettext module.

ok landry@@ on an earlier diff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2009/08/11 08:40:40 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p2
@


1.59
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2009/03/16 12:53:03 sthen Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p1
d15 2
d29 1
a29 1
		png pthread stdc++ util z gmodule intl iconv Xi kvm glib \
@


1.58
log
@python depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2008/08/27 13:39:27 espie Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p0
d28 1
a28 1
		idn Xau Xdmcp fam rpcsvc Xss
@


1.57
log
@3.5.10 update...
as for sdk, recognize svn, and create an extra package for it...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2008/07/25 23:09:44 martynas Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}
d19 1
a19 1
		python2.5:python-2.5.*:lang/python/2.5 \
@


1.56
log
@proper NAN definition is now in math.h.  ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2008/03/26 11:11:42 espie Exp $
d3 6
a8 6
COMMENT= 		K Desktop Environment, utilities
CATEGORIES=		x11 x11/kde
VERSION=		3.5.9
DISTNAME=		kdeutils-${VERSION}
PKGNAME=		${DISTNAME}p0
MODKDE_VERSION=		3.5.8
d15 2
a16 2
RUN_DEPENDS+=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS=	DCOP,kabc,kdecore.>=6,kdefx,kdeprint,kdesu,kdeui,kio,knewstuff,kparts,kresources,kutils,kwalletclient,vcard::x11/kde/libs3 \
d24 1
a24 1
SEPARATE_BUILD=flavored
d26 1
a26 1
WANTLIB=	ICE SM X11 Xext Xrender Xtst art_lgpl_2 c crypto jpeg m \
@


1.55
log
@3.5.9
tweak for statvfs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2007/12/15 23:47:41 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
@


1.54
log
@- add update-desktop-database goo

"looks ok" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2007/10/24 21:52:18 espie Exp $
d5 1
a5 1
VERSION=		3.5.8
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.53
log
@update to 3.5.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2007/10/08 08:22:43 steven Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
d15 1
@


1.52
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2007/09/15 20:04:21 merdely Exp $
d5 1
a5 1
VERSION=		3.5.7
d7 2
a8 2
PKGNAME=		${DISTNAME}p1
MODKDE_VERSION=		3.5.7
d27 1
a27 1
		idn Xau Xdmcp fam rpcsvc
@


1.51
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2007/08/10 16:07:28 kurt Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d18 1
a18 1
		python2.4:python-2.4.*:lang/python/2.4 \
@


1.50
log
@fix kded startup crash when launched from start_kdeinit due to undefined
symbols. okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2007/05/25 09:49:56 espie Exp $
d3 1
a3 1
COMMENT= 		"K Desktop Environment, utilities"
@


1.49
log
@update a large subset of kde 3 to 3.5.7.
Simplify the infrastructure a bit, and let it compile with libfam, now...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2007/05/09 11:31:44 bernd Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
@


1.48
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2007/02/02 12:09:36 espie Exp $
d5 1
a5 1
VERSION=		3.5.6
d7 2
a8 2
PKGNAME=		${DISTNAME}p1
MODKDE_VERSION=		3.5.3
d27 2
a28 1
		idn
a29 3
USE_X11=	Yes
USE_LIBTOOL=	Yes
LIBTOOL_FLAGS+=	--tag=disable-static
@


1.47
log
@remove gtar dependency, fix ark.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2007/01/28 13:18:51 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.46
log
@kde 3.5.6 update, missing bindings and l10n.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2006/11/20 08:07:41 steven Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
@


1.45
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2006/11/05 13:02:30 espie Exp $
d5 1
a5 1
VERSION=		3.5.5
@


1.44
log
@SHARED_LIBS reformat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2006/10/12 23:12:19 espie Exp $
d29 1
@


1.43
log
@Update to 3.5.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2006/09/18 12:19:40 espie Exp $
d9 5
a13 5
SHARED_LIBS=		kcmlaptop		1.0 \
			khexeditcommon		1.0 \
			kmilo			2.0 \
			kregexpeditorcommon	2.0 \
			ksimcore		2.0
@


1.42
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2006/08/03 10:53:36 espie Exp $
d5 1
a5 1
VERSION=		3.5.4
@


1.41
log
@update to 3.5.4 first part.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/06/03 12:47:31 espie Exp $
d18 1
a18 1
		python2.4.0.0:python-2.4.*:lang/python/2.4 \
@


1.40
log
@minor update to 3.5.3, integrate libidn support (some more changes to come
to WANTLIB in packages dependent on KDE).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2006/04/01 10:49:22 espie Exp $
d5 1
a5 1
VERSION=		3.5.3
d15 1
a15 1
LIB_DEPENDS=	DCOP,kabc,kdecore.6,kdefx,kdeprint,kdesu,kdeui,kio,knewstuff,kparts,kresources,kutils,kwalletclient,vcard::x11/kde/libs3 \
@


1.39
log
@update to 3.5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2006/02/18 14:17:23 espie Exp $
d5 1
a5 1
VERSION=		3.5.2
d8 1
a8 1
MODKDE_VERSION=		3.5.2
d26 2
a27 1
		png pthread stdc++ util z gmodule intl iconv Xi kvm glib
@


1.38
log
@prevent kinfocenter from crashing on pcmcia
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2006/02/18 13:56:26 espie Exp $
d5 1
a5 1
VERSION=		3.5.1
d7 2
a8 2
PKGNAME=		${DISTNAME}p1
MODKDE_VERSION=		3.5
@


1.37
log
@minimal fixes for the klaptop_daemon, now kcenter no longer crashes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2006/02/03 13:31:33 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.36
log
@3.5.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2006/01/13 22:49:57 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
@


1.35
log
@bump SHARED_LIBS for kde (all C++, no brainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2006/01/06 09:28:32 espie Exp $
d5 1
a5 1
VERSION=		3.5.0
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.34
log
@SHARED_LIBS, USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2005/12/03 21:12:50 naddy Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d9 5
a13 5
SHARED_LIBS=		kcmlaptop		0.0 \
			khexeditcommon		0.0 \
			kmilo			1.0 \
			kregexpeditorcommon	1.0 \
			ksimcore		1.0
@


1.33
log
@fix dependency: libpython2.4 will only be found in python-2.4.*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2005/11/30 23:37:39 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d9 5
d28 2
@


1.32
log
@3.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2005/10/17 11:28:27 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
d13 1
a13 1
		python2.4.0.0::lang/python/2.4 \
@


1.31
log
@Minor update to kde 3.4.3, mostly zap qt 3.3.5 patches that have been
integrated, recognize theora in multimedia.
i18n3 to come...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2005/08/16 09:49:54 espie Exp $
d5 1
a5 1
VERSION=		3.4.3
d8 1
a8 1
MODKDE_VERSION=		3.4
d10 6
a15 2
LIB_DEPENDS=	DCOP,kabc,kdecore.6,kdefx,kdeprint,kdesu,kdeui,kio,kparts,kresources,kutils,kwalletclient,vcard::x11/kde/libs3 \
		netsnmp::net/net-snmp
d21 1
a21 1
		png pthread stdc++ util z
@


1.30
log
@conflicts from the past: history since 3.7.

As noted on ports@@ recently, pkg_add -r relies on conflicts, and the
sheer existence of updates means we MUST take the past into account in
conflicts now.

Note the renaming of hugs98 to valid package names where versions are
concerned.

This commit shows clearly the renaming of the xfce4 plugin packages, the
ditching of eclipse flavors, the splitting of nessus into subpackages,
the splitting of various other software documentations, some packaging bugs
in kdeedu, and a lot of files moving around...

okay pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/07/28 08:47:41 espie Exp $
d5 1
a5 1
VERSION=		3.4.2
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.29
log
@KDE 3.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/06/02 14:01:27 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
@


1.28
log
@update to 3.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2005/03/29 21:18:37 espie Exp $
d5 1
a5 1
VERSION=		3.4.1
@


1.27
log
@most of kde 3.4, will finish getting fixed in tree... ;-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/12/30 21:10:04 espie Exp $
d5 1
a5 1
VERSION=		3.4.0
@


1.26
log
@alek found a netsnmp there, and he's right, so add  it as a dependency
as I don't feel like figuring it out further right now...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/12/16 07:25:26 alek Exp $
d5 1
a5 1
VERSION=		3.3.2
d7 2
a8 2
PKGNAME=		${DISTNAME}p0
MODKDE_VERSION=		3.3.0
a10 1
		konq::x11/kde/base3 \
@


1.25
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/12/12 11:33:25 espie Exp $
d7 1
d11 3
a13 1
		konq::x11/kde/base3
d18 1
a18 1
		netsnmp png pthread stdc++ util z
@


1.24
log
@3.3.2 is out, rejoice.
minor update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2004/10/19 00:25:30 espie Exp $
d13 4
@


1.23
log
@minor update to 3.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/09/18 09:36:45 espie Exp $
d5 1
a5 1
VERSION=		3.3.1
@


1.22
log
@update to kde 3.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/07/24 12:47:16 espie Exp $
d5 1
a5 1
VERSION=		3.3.0
@


1.21
log
@basic update to kde 3.2.3.
A few files to remove/add yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/04/13 04:22:37 brad Exp $
d5 1
a5 1
VERSION=		3.2.3
d7 1
a7 1
MODKDE_VERSION=		3.2.3
@


1.20
log
@better COMMENTs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2004/03/07 21:08:45 espie Exp $
d5 1
a5 1
VERSION=		3.2.1
d7 1
a7 1
MODKDE_VERSION=		3.2
@


1.19
log
@- fix LIB_DEPENDS
- unsigned int -> size_t
@
text
@d3 1
a3 1
COMMENT= 		"X11 toolkit, utilities"
d9 2
a10 2
LIB_DEPENDS= DCOP,kabc,kdecore.6,kdefx,kdeprint,kdesu,kdeui,kio,kparts,kresources,kutils,kwalletclient,vcard::x11/kde/libs3 \
	     konq::x11/kde/base3
@


1.18
log
@update to kde 3.2.1, as agreed with pvalchev@@.
The distfiles should be publically available shortly.
this fixes a few nits: build accessibility, move cvscheck to avoid conflicts.

i18n files missing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2004/02/07 12:30:50 espie Exp $
d9 2
a10 1
LIB_DEPENDS= DCOP,kabc,kdecore.6,kdefx,kdeprint,kdesu,kdeui,kio,konq,kparts,kresources,kutils,kwalletclient,vcard::x11/kde/libs3
@


1.17
log
@3.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2004/02/02 10:53:21 espie Exp $
d5 1
a5 1
VERSION=		3.2.0
@


1.16
log
@compile 3.1.95.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2003/12/07 20:19:15 espie Exp $
d5 1
a5 1
VERSION=		3.1.95
@


1.15
log
@update to 3.1.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2003/07/30 12:59:24 espie Exp $
d5 1
a5 1
VERSION=		3.1.4
d7 1
d9 1
a9 1
LIB_DEPENDS= kdecore.4,DCOP,kabc,kdefakes,kdefx,kdeprint,kdesu,kdeui,kio,kparts,kspell,vcard::x11/kde/libs3
@


1.14
log
@Update to kde 3.1.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2003/06/12 19:16:17 espie Exp $
d5 1
a5 1
VERSION=		3.1.3
@


1.13
log
@Update to kde 3.1.2 (requires recent autoconf).
Fix some build issues, mainly in kdebindings and kdemultimedia.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2003/01/27 20:05:50 espie Exp $
d5 1
a5 1
VERSION=		3.1.2
@


1.12
log
@update to 3.1
klaptop daemon code mostly from Ian Darwin.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/01/07 15:36:35 espie Exp $
d5 1
a5 1
VERSION=		3.1
@


1.11
log
@Add missing SEPARATE_BUILDs, turn them into flavored
Trim old commented cruft
Add debug flavor, and --disable-dependency-tracking if !debug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/12/23 14:22:33 espie Exp $
d5 1
a5 1
VERSION=		3.0.5a
a8 1
RUN_DEPENDS= ::comms/efax
@


1.10
log
@Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/12/02 16:27:22 espie Exp $
d11 1
@


1.9
log
@Update to 3.0.5
i18n not checked yet...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/10/28 21:44:32 espie Exp $
d5 1
a5 1
VERSION=		3.0.5
@


1.8
log
@3.0.4 update, most of it.
i18n packlists to check yet...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/09/18 02:53:12 brad Exp $
d5 1
a5 1
VERSION=		3.0.4
@


1.7
log
@don't build or install the included efax, instead add a dependency on
the efax port.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/09/01 08:25:26 espie Exp $
d5 1
a5 1
VERSION=		3.0.3
@


1.7.2.1
log
@MFC:
Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/12/23 14:22:33 espie Exp $
d5 1
a5 1
VERSION=		3.0.5a
@


1.6
log
@kde 3.0.3, incorporated kssl changes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/07/16 12:20:43 espie Exp $
d9 1
@


1.5
log
@Update to 3.0.2, somewhat lately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/05/23 14:37:22 espie Exp $
d5 1
a5 1
VERSION=		3.0.2
@


1.4
log
@Update to kde 3.0.1.
Mostly remove integrated patches, and adapt a few plists.
There may be minor pieces yet to do...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/04/10 01:24:40 espie Exp $
d5 1
a5 2
NEED_VERSION=		1.504
VERSION=		3.0.1
@


1.3
log
@Use a common Makefile.inc to remove lots of common parts in all kde dirs.
Remove lame stuff in base3, since run-time auto-detection is working now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/04/04 14:27:32 espie Exp $
d6 1
a6 1
VERSION=		3.0
@


1.2
log
@... and forgotten dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/04/04 14:23:48 espie Exp $
a7 13
DIST_SUBDIR=		kde

HOMEPAGE=		http://www.kde.org
MASTER_SITES=	${MASTER_SITE_KDE}
MASTER_SITE_SUBDIR=	stable/${VERSION}/src
EXTRACT_SUFX=		.tar.bz2

# Parts of kde want shared libraries to work, as some symbols are
# duplicated over the place.
NOT_FOR_ARCHS=${NO_SHARED_ARCHS}

MODULES=qt3

a9 41

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/admin
CONFIGURE_ARGS=		${MODQT_CONFIGURE_ARGS}
CONFIGURE_ARGS+=	--with-extra-libs=${LOCALBASE}/lib
CONFIGURE_ARGS+=	--with-extra-includes=${LOCALBASE}/include
CONFIGURE_ARGS+=	--with-xdmdir=/var/X11/kdm
CONFIGURE_ARGS+=	--disable-mt
CONFIGURE_ARGS+=	--disable-threading
CONFIGURE_ARGS+=	--disable-debug
CONFIGURE_ARGS+=	--enable-final
#CONFIGURE_ARGS+=	--enable-debug
#CONFIGURE_ARGS+=	--without-motif
#CONFIGURE_ARGS+=--enable-static --enable-debug --disable-shared

PATCH_LIST=${PORTSDIR}/x11/kde/arts3/patches/p-* patch-*

# Not yet, too much time to compile
#CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}

USE_GMAKE=		Yes
CONFIGURE_ENV=		RUN_KAPPFINDER=no KDEDIR=${LOCALBASE}
CONFIGURE_ENV+=		ac_aux_files=''
MAKE_ENV=		${CONFIGURE_ENV}
PORTHOME=${WRKDIR}

# Ensure qt will always be at the front
MAKE_FLAGS=CXXLD='--tag CXX ${CXX} -L${MODQT_LIBDIR}'
MAKE_FLAGS+=LAMEDIR='${LAMEDIR}'
FAKE_FLAGS=DESTDIR=${WRKINST} TAR=tar

# GPL
# Note that lame is not a problem, since kdebase is packaged with a
# stub lame library which does nothing, and can be overriden with a
# live one later.
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/04/02 17:01:54 espie Exp $
d22 1
a22 5
#LIB_DEPENDS= kdecore.4,DCOP,kabc,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kjava,kparts,kspell,vcard::x11/kde/libs3
#BUILD_DEPENDS=	::audio/lame

# for kaddressbook
#RUN_DEPENDS+=	::x11/kde/base3
@


1.1.1.1
log
@kdeutils compiles as well...
@
text
@@
