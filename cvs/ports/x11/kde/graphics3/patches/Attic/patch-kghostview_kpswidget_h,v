head	1.1;
access;
symbols
	OPENBSD_3_3:1.1.0.4
	OPENBSD_3_2:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2003.04.10.18.59.40;	author brad;	state dead;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2003.04.10.18.59.40;	author brad;	state Exp;
branches;
next	;

1.1.4.1
date	2003.05.02.18.49.29;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file patch-kghostview_kpswidget_h was initially added on branch OPENBSD_3_2.
@
text
@@


1.1.4.1
log
@Fix security issue mentioned in this advisory
http://www.kde.org/info/security/advisory-20030409-1.txt
@
text
@a0 26
$OpenBSD$
--- kghostview/kpswidget.h.orig	Sun Sep 15 23:12:40 2002
+++ kghostview/kpswidget.h	Wed Apr 23 18:01:11 2003
@@@@ -134,10 +134,11 @@@@ public:
     bool sendPS( FILE*, unsigned int begin, unsigned int end );
    
     /**
-     * Sets the filename of the ghostscript input. Usually we use a pipe for
-     * communication and no filename will be needed.
+     * Sets the filename of the ghostscript input. 
+     * @@p usePipe indicates whether we use a pipe for
+     * communication or let ghoscript read the file itself.
      */
-    void setFileName( const QString& );
+    void setFileName( const QString&, bool usePipe );
 
     /**
      * Set the bounding box of the drawable. See my comment in the source
@@@@ -243,6 +244,7 @@@@ private:
     QString     _ghostscriptPath;
     QStringList _ghostscriptArguments;
     QString     _fileName;
+    bool        _usePipe;
 
     /**
      * Flag set when one of the properties _ghostscriptPath, 
@


1.1.2.1
log
@Fix security issue mentioned in this advisory

http://www.kde.org/info/security/advisory-20030409-1.txt

as well as applying the other security related fixes from KDE 3.0.5b.
@
text
@a0 26
$OpenBSD$
--- kghostview/kpswidget.h.orig	Sun Feb 17 12:38:24 2002
+++ kghostview/kpswidget.h	Thu Apr 10 02:05:05 2003
@@@@ -134,10 +134,11 @@@@ public:
     bool sendPS( FILE*, unsigned int begin, unsigned int end );
    
     /**
-     * Sets the filename of the ghostscript input. Usually we use a pipe for
-     * communication and no filename will be needed.
+     * Sets the filename of the ghostscript input. 
+     * @@p usePipe indicates whether we use a pipe for
+     * communication or let ghoscript read the file itself.
      */
-    void setFileName( const QString& );
+    void setFileName( const QString&, bool usePipe );
 
     /**
      * Set the bounding box of the drawable. See my comment in the source
@@@@ -249,6 +250,7 @@@@ private:
     QString     _ghostscriptPath;
     QStringList _ghostscriptArguments;
     QString     _fileName;
+    bool        _usePipe;
 
     /**
      * Flag set when one of the properties _ghostscriptPath, 
@

