head	1.120;
access;
symbols
	OPENBSD_5_9:1.119.0.2
	OPENBSD_5_9_BASE:1.119
	OPENBSD_5_8:1.115.0.4
	OPENBSD_5_8_BASE:1.115
	OPENBSD_5_7:1.114.0.6
	OPENBSD_5_7_BASE:1.114
	OPENBSD_5_6:1.114.0.4
	OPENBSD_5_6_BASE:1.114
	OPENBSD_5_5:1.114.0.2
	OPENBSD_5_5_BASE:1.114
	OPENBSD_5_4:1.109.0.2
	OPENBSD_5_4_BASE:1.109
	OPENBSD_5_3:1.108.0.2
	OPENBSD_5_3_BASE:1.108
	OPENBSD_5_2:1.103.0.2
	OPENBSD_5_2_BASE:1.103
	OPENBSD_5_1_BASE:1.100
	OPENBSD_5_1:1.100.0.2
	OPENBSD_5_0:1.96.0.2
	OPENBSD_5_0_BASE:1.96
	OPENBSD_4_9:1.95.0.2
	OPENBSD_4_9_BASE:1.95
	OPENBSD_4_8:1.93.0.2
	OPENBSD_4_8_BASE:1.93
	OPENBSD_4_7:1.89.0.2
	OPENBSD_4_7_BASE:1.89
	OPENBSD_4_6:1.83.0.2
	OPENBSD_4_6_BASE:1.83
	OPENBSD_4_5:1.82.0.2
	OPENBSD_4_5_BASE:1.82
	OPENBSD_4_4:1.81.0.2
	OPENBSD_4_4_BASE:1.81
	OPENBSD_4_3:1.78.0.2
	OPENBSD_4_3_BASE:1.78
	OPENBSD_4_2:1.72.0.2
	OPENBSD_4_2_BASE:1.72
	OPENBSD_4_1:1.69.0.2
	OPENBSD_4_1_BASE:1.69
	OPENBSD_4_0:1.61.0.2
	OPENBSD_4_0_BASE:1.61
	OPENBSD_3_9:1.57.0.2
	OPENBSD_3_9_BASE:1.57
	OPENBSD_3_8:1.50.0.2
	OPENBSD_3_8_BASE:1.50
	OPENBSD_3_7:1.45.0.2
	OPENBSD_3_7_BASE:1.45
	OPENBSD_3_6:1.37.0.2
	OPENBSD_3_6_BASE:1.37
	OPENBSD_3_5:1.33.0.2
	OPENBSD_3_5_BASE:1.33
	OPENBSD_3_4:1.23.0.2
	OPENBSD_3_4_BASE:1.23
	OPENBSD_3_3:1.17.0.2
	OPENBSD_3_3_BASE:1.17
	OPENBSD_3_2:1.11.0.2
	OPENBSD_3_2_BASE:1.11
	OPENBSD_3_1:1.5.0.2
	OPENBSD_3_1_BASE:1.5
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.120
date	2016.04.29.21.10.23;	author zhuk;	state dead;
branches;
next	1.119;
commitid	u9TvebbKy1wgQMr9;

1.119
date	2016.01.17.17.29.11;	author sthen;	state Exp;
branches;
next	1.118;
commitid	bS2FIbTCCkF3XjOq;

1.118
date	2015.10.11.14.52.52;	author ajacoutot;	state Exp;
branches;
next	1.117;
commitid	oa5zSmwNSolMTZG2;

1.117
date	2015.08.17.20.34.20;	author sthen;	state Exp;
branches;
next	1.116;
commitid	60BvOqUl7gD2yB7y;

1.116
date	2015.08.17.20.04.16;	author sthen;	state Exp;
branches;
next	1.115;
commitid	Yxo2r3gGS2UtmrOy;

1.115
date	2015.03.27.08.16.18;	author ajacoutot;	state Exp;
branches;
next	1.114;
commitid	BUhOiEl2FUSRKwq7;

1.114
date	2013.12.22.19.24.34;	author zhuk;	state Exp;
branches;
next	1.113;

1.113
date	2013.10.22.11.33.59;	author zhuk;	state Exp;
branches;
next	1.112;

1.112
date	2013.10.05.07.34.39;	author espie;	state Exp;
branches;
next	1.111;

1.111
date	2013.09.26.09.16.52;	author sthen;	state Exp;
branches;
next	1.110;

1.110
date	2013.09.25.07.58.49;	author sthen;	state Exp;
branches;
next	1.109;

1.109
date	2013.07.08.14.03.30;	author zhuk;	state Exp;
branches;
next	1.108;

1.108
date	2013.01.23.21.10.37;	author zhuk;	state Exp;
branches;
next	1.107;

1.107
date	2013.01.19.11.28.00;	author zhuk;	state Exp;
branches;
next	1.106;

1.106
date	2013.01.14.12.09.59;	author zhuk;	state Exp;
branches;
next	1.105;

1.105
date	2013.01.12.11.21.10;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2012.08.28.19.13.12;	author espie;	state Exp;
branches;
next	1.103;

1.103
date	2012.07.09.09.03.00;	author pascal;	state Exp;
branches;
next	1.102;

1.102
date	2012.06.15.08.30.23;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2012.02.16.22.33.41;	author ajacoutot;	state Exp;
branches;
next	1.100;

1.100
date	2011.12.03.23.43.04;	author ajacoutot;	state Exp;
branches;
next	1.99;

1.99
date	2011.12.03.23.37.39;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2011.11.07.09.17.07;	author dcoppa;	state Exp;
branches;
next	1.97;

1.97
date	2011.09.16.12.29.16;	author espie;	state Exp;
branches;
next	1.96;

1.96
date	2011.06.16.10.16.43;	author ajacoutot;	state Exp;
branches;
next	1.95;

1.95
date	2010.11.22.08.37.02;	author espie;	state Exp;
branches;
next	1.94;

1.94
date	2010.11.07.19.50.10;	author jasper;	state Exp;
branches;
next	1.93;

1.93
date	2010.07.10.12.44.30;	author espie;	state Exp;
branches;
next	1.92;

1.92
date	2010.07.08.21.28.49;	author espie;	state Exp;
branches;
next	1.91;

1.91
date	2010.06.12.14.33.01;	author landry;	state Exp;
branches;
next	1.90;

1.90
date	2010.05.15.08.48.01;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2009.12.21.20.46.01;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2009.10.25.12.45.53;	author kili;	state Exp;
branches;
next	1.87;

1.87
date	2009.10.15.15.50.25;	author kili;	state Exp;
branches;
next	1.86;

1.86
date	2009.08.31.18.51.02;	author kili;	state Exp;
branches;
next	1.85;

1.85
date	2009.08.27.19.44.38;	author ajacoutot;	state Exp;
branches;
next	1.84;

1.84
date	2009.08.11.08.40.40;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2009.06.24.20.40.23;	author sthen;	state Exp;
branches
	1.83.2.1;
next	1.82;

1.82
date	2008.08.26.16.52.29;	author espie;	state Exp;
branches;
next	1.81;

1.81
date	2008.05.21.09.46.18;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2008.04.11.11.24.03;	author jasper;	state Exp;
branches;
next	1.79;

1.79
date	2008.03.25.21.22.52;	author espie;	state Exp;
branches;
next	1.78;

1.78
date	2007.12.18.16.00.12;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2007.12.15.23.47.40;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2007.12.07.20.12.02;	author kili;	state Exp;
branches;
next	1.75;

1.75
date	2007.11.12.21.01.05;	author kili;	state Exp;
branches;
next	1.74;

1.74
date	2007.10.24.21.52.17;	author espie;	state Exp;
branches;
next	1.73;

1.73
date	2007.10.01.11.42.30;	author steven;	state Exp;
branches;
next	1.72;

1.72
date	2007.08.03.00.46.29;	author kili;	state Exp;
branches;
next	1.71;

1.71
date	2007.05.25.09.49.54;	author espie;	state Exp;
branches;
next	1.70;

1.70
date	2007.05.09.11.31.43;	author bernd;	state Exp;
branches;
next	1.69;

1.69
date	2007.01.28.13.18.51;	author espie;	state Exp;
branches
	1.69.2.1;
next	1.68;

1.68
date	2006.12.16.12.22.36;	author espie;	state Exp;
branches;
next	1.67;

1.67
date	2006.12.04.13.44.04;	author bernd;	state Exp;
branches;
next	1.66;

1.66
date	2006.11.20.16.23.22;	author espie;	state Exp;
branches;
next	1.65;

1.65
date	2006.11.20.08.07.41;	author steven;	state Exp;
branches;
next	1.64;

1.64
date	2006.11.05.13.02.30;	author espie;	state Exp;
branches;
next	1.63;

1.63
date	2006.10.12.23.12.18;	author espie;	state Exp;
branches;
next	1.62;

1.62
date	2006.09.18.10.21.48;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2006.08.03.10.53.36;	author espie;	state Exp;
branches
	1.61.2.1;
next	1.60;

1.60
date	2006.06.03.12.47.30;	author espie;	state Exp;
branches;
next	1.59;

1.59
date	2006.05.21.17.29.21;	author steven;	state Exp;
branches;
next	1.58;

1.58
date	2006.04.01.10.49.20;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2006.02.04.13.25.36;	author espie;	state Exp;
branches
	1.57.2.1;
next	1.56;

1.56
date	2006.02.03.18.42.01;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2006.01.13.22.49.56;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2006.01.03.14.10.51;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2005.12.19.09.54.29;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2005.11.30.11.22.09;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2005.10.17.11.28.25;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2005.08.16.09.49.53;	author espie;	state Exp;
branches
	1.50.2.1;
next	1.49;

1.49
date	2005.08.11.14.21.46;	author naddy;	state Exp;
branches;
next	1.48;

1.48
date	2005.07.28.08.47.40;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2005.06.02.14.01.26;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2005.03.29.21.18.36;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2005.02.27.08.20.34;	author brad;	state Exp;
branches
	1.45.2.1;
next	1.44;

1.44
date	2005.01.31.10.16.45;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2004.12.30.15.55.14;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2004.12.16.07.25.25;	author alek;	state Exp;
branches;
next	1.41;

1.41
date	2004.12.12.11.33.24;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2004.10.19.00.25.26;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2004.10.09.14.50.45;	author sturm;	state Exp;
branches;
next	1.38;

1.38
date	2004.09.18.09.36.44;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2004.08.01.16.20.01;	author naddy;	state Exp;
branches;
next	1.36;

1.36
date	2004.07.24.12.47.14;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2004.04.13.04.22.37;	author brad;	state Exp;
branches;
next	1.34;

1.34
date	2004.04.10.13.00.16;	author sturm;	state Exp;
branches;
next	1.33;

1.33
date	2004.03.23.22.14.59;	author pvalchev;	state Exp;
branches;
next	1.32;

1.32
date	2004.03.21.19.43.47;	author sturm;	state Exp;
branches;
next	1.31;

1.31
date	2004.03.07.21.08.44;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2004.02.07.01.46.23;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2004.02.04.09.13.58;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2004.02.02.00.47.20;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2004.02.01.23.55.49;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2004.02.01.14.59.23;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2003.12.08.02.17.43;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2003.12.07.20.19.14;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2003.08.28.05.13.30;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	2003.07.30.12.59.22;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2003.06.12.19.16.15;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2003.04.12.15.37.01;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2003.04.10.00.00.23;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2003.04.05.14.53.39;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2003.01.27.19.42.21;	author espie;	state Exp;
branches
	1.17.2.1;
next	1.16;

1.16
date	2003.01.07.15.36.35;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2002.12.23.14.22.32;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2002.12.02.16.27.21;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2002.10.29.01.46.57;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2002.10.28.21.44.32;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2002.09.29.02.10.55;	author brad;	state Exp;
branches
	1.11.2.1;
next	1.10;

1.10
date	2002.09.28.22.50.29;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2002.09.01.08.25.25;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2002.07.16.12.20.42;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2002.05.28.17.18.46;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2002.05.23.14.37.22;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2002.04.10.01.24.39;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2002.04.04.12.13.02;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.04.02.17.06.23;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.23.17.12.10;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.23.17.00.12;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.23.17.00.12;	author espie;	state Exp;
branches;
next	;

1.11.2.1
date	2002.12.26.22.28.18;	author pvalchev;	state Exp;
branches;
next	1.11.2.2;

1.11.2.2
date	2003.04.10.18.59.40;	author brad;	state Exp;
branches;
next	1.11.2.3;

1.11.2.3
date	2003.04.11.17.21.27;	author brad;	state Exp;
branches;
next	;

1.17.2.1
date	2003.05.02.18.49.29;	author naddy;	state Exp;
branches;
next	;

1.45.2.1
date	2005.08.17.18.40.07;	author sturm;	state Exp;
branches;
next	1.45.2.2;

1.45.2.2
date	2005.08.31.19.51.41;	author sturm;	state Exp;
branches;
next	;

1.50.2.1
date	2006.02.05.19.04.54;	author sturm;	state Exp;
branches;
next	;

1.57.2.1
date	2006.12.05.07.12.39;	author sturm;	state Exp;
branches;
next	;

1.61.2.1
date	2006.12.05.19.07.05;	author sturm;	state Exp;
branches;
next	1.61.2.2;

1.61.2.2
date	2007.08.15.08.17.37;	author sturm;	state Exp;
branches;
next	;

1.69.2.1
date	2007.08.07.06.03.11;	author ajacoutot;	state Exp;
branches;
next	;

1.83.2.1
date	2009.11.12.02.23.53;	author william;	state Exp;
branches;
next	;


desc
@@


1.120
log
@Remove KDE3 applications that have well-working KDE4+ counterparts.
@
text
@# $OpenBSD: Makefile,v 1.119 2016/01/17 17:29:11 sthen Exp $

COMMENT-main =		K Desktop Environment, graphic applications
COMMENT-kamera =	KDE interface to digital cameras
COMMENT-kpov =		KDE modeller for povray
COMMENT-sane =		KDE interface to scanners
CATEGORIES =		x11 x11/kde
VERSION =		3.5.10
DISTNAME =		kdegraphics-${VERSION}
MODKDE_VERSION =	3.5.8

REVISION-main =		25
REVISION-kamera =	15
REVISION-kpov =		13
REVISION-sane =		19

SEPARATE_BUILD =	flavored
MULTI_PACKAGES =	-main -kpov -kamera -sane

PKGNAME-main =		${DISTNAME}
PKGNAME-kamera =	kamera-${VERSION}
PKGNAME-kpov =		kpovmodeller-${VERSION}
PKGNAME-sane =		ksane-${VERSION}

SHARED_LIBS +=	kghostviewlib        1.0      # .0.0
SHARED_LIBS +=	kpovmodeler          1.0      # .0.0
SHARED_LIBS +=	text2path            1.0      # .0.0
SHARED_LIBS +=	ksvg                 1.0      # .0.1
SHARED_LIBS +=	kimageviewer         1.0      # .0.0
SHARED_LIBS +=	kmultipage           1.0      # .0.0
SHARED_LIBS +=	kscan                2.0      # .1.0

MODULES =		x11/kde devel/gettext

BUILD_DEPENDS =		print/texlive/base
WANTLIB = ICE SM X11 Xext art_lgpl_2 idn jpeg lib/kde3/DCOP \
	lib/kde3/kdecore>=6 lib/kde3/kdefx lib/kde3/kdesu lib/kde3/kdeui \
	lib/kde3/kio m png qt-mt stdc++ util xcb z
LIB_DEPENDS =		${MODGETTEXT_LIB_DEPENDS} \
			x11/kde/libs3

RUN_DEPENDS-main =	${RUN_DEPENDS} \
			print/ghostscript/gnu \
			devel/desktop-file-utils \
			x11/gtk+3,-guic
LIB_DEPENDS-main = 	${LIB_DEPENDS} \
			graphics/imlib \
			graphics/giflib \
			devel/fribidi>=0.19.2 \
			print/poppler, \
			print/poppler,,-qt

LIB_DEPENDS-kpov =	${LIB_DEPENDS}
RUN_DEPENDS-kpov =	${RUN_DEPENDS} \
			graphics/povray \
			devel/desktop-file-utils \
			x11/gtk+3,-guic

LIB_DEPENDS-kamera = 	${LIB_DEPENDS} \
			graphics/libgphoto2>=2.5
RUN_DEPENDS-kamera =	${RUN_DEPENDS} \
			devel/desktop-file-utils

RUN_DEPENDS-sane =	${RUN_DEPENDS} \
			devel/desktop-file-utils \
			x11/gtk+3,-guic
LIB_DEPENDS-sane =	${LIB_DEPENDS} \
			graphics/sane-backends

WANTLIB-main = 		${WANTLIB} IexMath
WANTLIB-kpov =		${WANTLIB} X11-xcb Xau Xdmcp fam glapi pthread-stubs \
			xcb-dri2 xcb-glx
WANTLIB-kamera =	${WANTLIB} fam pthread-stubs
WANTLIB-kamera += X11-xcb Xdamage Xxf86vm drm glapi xcb-dri2 xcb-glx
WANTLIB-sane =		${WANTLIB} fam pthread-stubs
WANTLIB-sane += X11-xcb Xdamage Xxf86vm drm glapi v4l1 v4l2 v4lconvert
WANTLIB-sane += xcb-dri2 xcb-glx

WANTLIB-main +=	 GL Half ICE Iex IlmImf IlmThread Imath Imlib SM \
	Xcursor Xdamage Xext Xfixes Xft Xi Xinerama Xmu Xrandr Xrender Xt \
	Xxf86vm c drm expat fontconfig freetype fribidi lcms lib/kde3/kdeprint \
	lib/kde3/khtml lib/kde3/kjs lib/kde3/kparts lib/kde3/kutils \
	lib/kde3/kwalletclient mng openjpeg pcre pcreposix poppler \
	poppler-qt pthread tiff gif X11-xcb Xau Xdmcp fam glapi lcms2 \
	pthread-stubs xcb-dri2 xcb-glx

WANTLIB-kpov += GL GLU Xdamage Xfixes Xi Xmu Xrender Xt Xxf86vm c \
	drm freetype lib/kde3/kparts lib/kde3/kwalletclient pthread \
	expat fontconfig

WANTLIB-kamera +=  Xrender exif gphoto2 gphoto2_port pthread \
	lib/kde3/kwalletclient Xfixes Xt expat fontconfig freetype ltdl

WANTLIB-sane +=	c Xfixes Xrender Xt expat fontconfig freetype lib/kde3/kwalletclient \
	lib/kde3/kabc lib/kde3/kdeprint lib/kde3/kparts lib/kde3/kresources \
	lib/kde3/kspell lib/kde3/ktexteditor lib/kde3/vcard pthread sane \
	tiff usb usb-1.0

post-patch:
	@@cp ${FILESDIR}/part_init.cpp ${WRKSRC}/kghostview

CONFIGURE_ENV +=	TIFF_LIBS='-L${LOCALBASE}/lib -ltiff -ljpeg -lz' \
			TIFF_CFLAGS='-I${LOCALBASE}/include'

# no need to depend on libpaper
CONFIGURE_ENV +=	ac_cv_header_paper_h=no

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/${MODKDE_HTML_SUBDIR}/en/common

.include <bsd.port.mk>
@


1.119
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2015/10/11 14:52:52 ajacoutot Exp $
@


1.118
log
@Regen WANTLIB-sane to unbreak.

breakage reported by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2015/08/17 20:34:20 sthen Exp $
d12 2
a13 2
REVISION-main =		24
REVISION-kamera =	14
d15 1
a15 1
REVISION-sane =		18
d70 1
a70 1
WANTLIB-main = 		${WANTLIB}
d74 1
d76 2
@


1.117
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2015/08/17 20:04:16 sthen Exp $
d15 1
a15 1
REVISION-sane =		17
d74 1
a74 2
WANTLIB-sane =		${WANTLIB} avahi-common cups dbus-1 fam ffi gmp \
			hogweed nettle p11-kit pthread-stubs tasn1
@


1.116
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2015/03/27 08:16:18 ajacoutot Exp $
d14 2
a15 2
REVISION-kpov =		12
REVISION-sane =		16
d71 2
a72 1
WANTLIB-kpov =		${WANTLIB}
d74 2
a75 1
WANTLIB-sane =		${WANTLIB}
@


1.115
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2013/12/22 19:24:34 zhuk Exp $
d12 2
a13 2
REVISION-main =		23
REVISION-kamera =	13
d72 1
a72 1
WANTLIB-kamera =	${WANTLIB}
d80 2
a81 1
	poppler-qt pthread tiff gif
@


1.114
log
@Next KDE deconflicting step: rename share/config/ to share/config.kde3/ and
share/config.kcfg/ to share/config.kcfg.kde3/. Tested on i386, including
run-time tests (not for all apps, though).

After this commit, there are only two conflicting files in kdelibs 3.x and
4.x packages left - to be solved soon.

spurring from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2013/10/22 11:33:59 zhuk Exp $
d12 4
a15 4
REVISION-main =		22
REVISION-kamera =	12
REVISION-kpov =		11
REVISION-sane =		15
d45 1
a45 1
			x11/gtk+2,-guic
d57 1
a57 1
			x11/gtk+2,-guic
d66 1
a66 1
			x11/gtk+2,-guic
@


1.113
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2013/10/05 07:34:39 espie Exp $
d12 4
a15 4
REVISION-main =		21
REVISION-kamera =	11
REVISION-kpov =		10
REVISION-sane =		14
@


1.112
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2013/09/26 09:16:52 sthen Exp $
d12 4
a15 4
REVISION-main =		20
REVISION-kamera =	10
REVISION-kpov =		9
REVISION-sane =		13
d104 1
a104 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/HTML/en/common
@


1.111
log
@put REVISION-* block into a place where it's visible, and actually bump
REVISION-main.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2013/09/25 07:58:49 sthen Exp $
d12 4
a15 4
REVISION-main =		19
REVISION-kamera =	9
REVISION-kpov =		8
REVISION-sane =		12
@


1.110
log
@libungif->giflib and patch where necessary, ok jasper@@ aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2013/07/08 14:03:30 zhuk Exp $
d12 5
a20 1
REVISION-main =		0
a73 5

REVISION-main = 18
REVISION-kamera = 9
REVISION-kpov = 8
REVISION-sane = 12
@


1.109
log
@Replace ${post_install_libs} in Makefile.inc with MODKDE_LIB_LINKS
(see analog in kde4.port.mk). Some stuff outside x11/kde will need this
functionality, too, as it was merged into KDE4 SC.

okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2013/01/23 21:10:37 zhuk Exp $
d16 1
d44 1
a44 1
			graphics/libungif \
d81 1
a81 1
	poppler-qt pthread tiff ungif
@


1.108
log
@Move KDE 3 headers from ${PREFIX}/include to ${PREFIX}/include/kde.
Updates to dependant ports to follow.

Tested in a bulk, input and okay by landry@@
Reviewed by aja@@ too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2013/01/19 11:28:00 zhuk Exp $
a104 1
	@@${post_install_libs}
@


1.107
log
@Fix build after recent gphoto2 update.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2013/01/14 12:09:59 zhuk Exp $
d70 1
a70 1
REVISION-main = 17
@


1.106
log
@Move more stuff to subpackages of kdegraphics-3.5.10 and fix a few
RUN_DEPENDS-* while there.

input and ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2013/01/12 11:21:10 ajacoutot Exp $
d55 1
a55 1
			graphics/libgphoto2
d71 1
a71 1
REVISION-kamera = 8
@


1.105
log
@Fix crystalsvg icon path in @@unexec-delete
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2012/08/28 19:13:12 espie Exp $
d47 1
d49 4
a52 3

RUN_DEPENDS-kpov =	graphics/povray \
			devel/desktop-file-utils 
d56 2
d59 2
a60 1
RUN_DEPENDS-sane =	devel/desktop-file-utils \
d70 4
a73 4
REVISION-main = 16
REVISION-kamera = 7
REVISION-kpov = 7
REVISION-sane = 11
@


1.104
log
@switch default poppler flavor to no_qt,no_qt4,boostrap, as naddy@@ now
sees bulk builds with a critical path sequentially building qt4, poppler,
libreoffice...

passes a full bulk

agreed with kili@@, aja@@, naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2012/07/09 09:03:00 pascal Exp $
d65 1
a65 1
REVISION-main = 15
@


1.103
log
@pdfinfo is now in poppler-utils.

ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2012/06/15 08:30:23 ajacoutot Exp $
d45 2
a46 2
			print/poppler \
			print/poppler,-qt
@


1.102
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2012/02/16 22:33:41 ajacoutot Exp $
d65 1
a65 1
REVISION-main = 14
@


1.101
log
@Drop dependency on libpaper (which is really a Debian thing).
Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2011/12/03 23:43:04 ajacoutot Exp $
d65 1
a65 1
REVISION-main = 13
d68 1
a68 1
REVISION-sane = 10
@


1.100
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2011/12/03 23:37:39 ajacoutot Exp $
d31 1
a31 1
WANTLIB = ICE SM X11 Xau Xdmcp Xext art_lgpl_2 idn jpeg lib/kde3/DCOP \
d33 1
a33 1
	lib/kde3/kio m png pthread-stubs qt-mt stdc++ util xcb z
a44 1
			print/libpaper \
d65 4
a68 4
REVISION-main = 12
REVISION-kamera = 6
REVISION-kpov = 6
REVISION-sane = 9
d74 2
a75 2
	lib/kde3/kwalletclient mng openjpeg paper pcre pcreposix poppler \
	poppler-qt pthread tiff ungif xml2
d81 1
a81 1
WANTLIB-kamera +=  Xrender exif gphoto2 gphoto2_port \
d87 1
a87 1
	tiff usb
d94 3
@


1.99
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2011/11/07 09:17:07 dcoppa Exp $
d56 2
a57 1
RUN_DEPENDS-sane =	devel/desktop-file-utils
d69 1
a69 1
REVISION-sane = 8
@


1.98
log
@Cope with fribidi update

from Brad

OK edd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2011/09/16 12:29:16 espie Exp $
d39 2
a40 1
			devel/desktop-file-utils
d65 1
a65 1
REVISION-main = 11
@


1.97
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2011/06/16 10:16:43 ajacoutot Exp $
d43 1
a43 1
			devel/fribidi \
d64 1
a64 1
REVISION-main = 10
@


1.96
log
@Regen all dependencies after sane-backend recent changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2010/11/22 08:37:02 espie Exp $
a11 1
FLAVORS =		debug
d64 4
a67 4
REVISION-main = 9
REVISION-kamera = 5
REVISION-kpov = 5
REVISION-sane = 7
@


1.95
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2010/11/07 19:50:10 jasper Exp $
d32 1
a32 1
WANTLIB = ICE SM X11 Xau Xdmcp Xext art_lgpl_2 fam idn jpeg lib/kde3/DCOP \
d63 1
a63 1
WANTLIB-sane =		${WANTLIB-kamera}
d65 4
a68 4
REVISION-main = 8
REVISION-kamera = 4
REVISION-kpov = 4
REVISION-sane = 6
d78 2
a79 1
	drm freetype lib/kde3/kparts lib/kde3/kwalletclient pthread
d82 3
a84 2
	lib/kde3/kwalletclient ltdl
WANTLIB-sane +=	avahi-client avahi-common c dbus-1 \
d86 1
a86 1
	lib/kde3/kspell lib/kde3/ktexteditor lib/kde3/vcard ltdl pthread sane \
@


1.94
log
@- ${LOCALBASE}/lib/pkgconfig and ${X11BASE}/lib/pkgconfig are default search
directories for pkg-config(1) nowadays. so remove these quirks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2010/07/10 12:44:30 espie Exp $
d31 1
a31 1
BUILD_DEPENDS =		::print/texlive/base
d33 1
a33 1
	lib/kde3/kdecore.>=6 lib/kde3/kdefx lib/kde3/kdesu lib/kde3/kdeui \
d36 1
a36 1
			::x11/kde/libs3
d39 2
a40 2
			:ghostscript-*:print/ghostscript/gnu \
			:desktop-file-utils-*:devel/desktop-file-utils
d42 6
a47 6
			::graphics/imlib \
			::graphics/libungif \
			::devel/fribidi \
			::print/libpaper \
			::print/poppler \
			::print/poppler,-qt
d50 2
a51 2
RUN_DEPENDS-kpov =	::graphics/povray \
			:desktop-file-utils-*:devel/desktop-file-utils 
d54 1
a54 1
			::graphics/libgphoto2
d56 1
a56 1
RUN_DEPENDS-sane =	:desktop-file-utils-*:devel/desktop-file-utils
d58 1
a58 1
			::graphics/sane-backends
@


1.93
log
@use REVISION instead of hardcoding p-numbers.

Note the way REVISION and WANTLIB are defined.
This is (more or less) the Makefile portion that lib-depends-check is supposed
to handle eventually...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2010/07/08 21:28:49 espie Exp $
a85 6

			


CONFIGURE_ENV +=	\
	PKG_CONFIG_PATH="${LOCALBASE}/lib/pkgconfig:${X11BASE}/lib/pkgconfig"
@


1.92
log
@clean-up AND small changes:
- copy libs over to lib/kde3 (to prepare coexistence with kde4, eventually)
- move lib depends over to WANTLIB
- update WANTLIB for recent changes
- create links to avoid pkg_create protests over non existing links
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2010/06/12 14:33:01 landry Exp $
a14 1
PKGNAME =		${DISTNAME}
d16 4
a19 4
PKGNAME-main =		${DISTNAME}p8
PKGNAME-kamera =	kamera-${VERSION}p4
PKGNAME-kpov =		kpovmodeller-${VERSION}p4
PKGNAME-sane =		ksane-${VERSION}p6
a47 9
WANTLIB-main =	 ${WANTLIB} GL Half ICE Iex IlmImf IlmThread Imath Imlib SM \
	Xcursor Xdamage Xext Xfixes Xft Xi Xinerama Xmu Xrandr Xrender Xt \
	Xxf86vm c drm expat fontconfig freetype fribidi lcms lib/kde3/kdeprint \
	lib/kde3/khtml lib/kde3/kjs lib/kde3/kparts lib/kde3/kutils \
	lib/kde3/kwalletclient mng openjpeg paper pcre pcreposix poppler \
	poppler-qt pthread tiff ungif xml2



a52 3
WANTLIB-kpov = ${WANTLIB} GL GLU Xdamage Xfixes Xi Xmu Xrender Xt Xxf86vm c \
	drm freetype lib/kde3/kparts lib/kde3/kwalletclient pthread

a54 2
WANTLIB-kamera = ${WANTLIB} Xrender exif gphoto2 gphoto2_port \
	lib/kde3/kwalletclient ltdl
d59 24
a82 1
WANTLIB-sane =	 ${WANTLIB-kamera} avahi-client avahi-common c dbus-1 \
@


1.91
log
@Remove sparc64-specific patch now that it switched to gcc4.
From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2010/05/15 08:48:01 ajacoutot Exp $
d17 4
a20 4
PKGNAME-main =		${DISTNAME}p7
PKGNAME-kamera =	kamera-${VERSION}p3
PKGNAME-kpov =		kpovmodeller-${VERSION}p3
PKGNAME-sane =		ksane-${VERSION}p5
d33 5
a37 4
WANTLIB =		X11 art_lgpl_2 ICE png util jpeg z SM Xext \
			m idn Xau Xdmcp fam rpcsvc stdc++ \
			pthread-stubs qt-mt xcb

d42 14
a55 13
LIB_DEPENDS-main = 	${MODGETTEXT_LIB_DEPENDS} \
			kdecore.>=6,DCOP,kio,kwalletclient,kdefx,kdeui,kdesu,kdeprint,khtml,kjs,kparts,kutils::x11/kde/libs3 \
			Imlib::graphics/imlib \
			ungif::graphics/libungif \
			fribidi::devel/fribidi \
			paper::print/libpaper \
			poppler::print/poppler \
			poppler-qt::print/poppler,-qt
WANTLIB-main =		${WANTLIB} \
			Half Iex IlmImf IlmThread Imath \
			tiff fontconfig lcms Xrender ICE c \
			freetype pcreposix pcre Xxf86vm SM Xext Xft \
			expat xml2 pthread
d58 2
a59 2
LIB_DEPENDS-kpov =	${MODGETTEXT_LIB_DEPENDS} \
			kdecore.>=6,DCOP,kio,kwalletclient,kdefx,kdeui,kdesu,kparts::x11/kde/libs3
d61 4
a64 3
			:desktop-file-utils-*:devel/desktop-file-utils
WANTLIB-kpov =		${WANTLIB} GL freetype Xrender Xmu GLU c Xi \
			Xt pthread
d66 4
a69 4
LIB_DEPENDS-kamera = 	${MODGETTEXT_LIB_DEPENDS} \
			gphoto2,gphoto2_port::graphics/libgphoto2 \
			kdecore.>=6,DCOP,kio,kwalletclient,kdefx,kdeui,kdesu::x11/kde/libs3
WANTLIB-kamera =	${WANTLIB} exif Xrender ltdl
d72 8
a79 5
LIB_DEPENDS-sane =	${MODGETTEXT_LIB_DEPENDS} \
			kdecore.>=6,DCOP,kio,kwalletclient,kdefx,kdeui,kdesu,ktexteditor,vcard,kabc,kparts,kresources,kspell,kdeprint::x11/kde/libs3 \
			sane::graphics/sane-backends
WANTLIB-sane =		${WANTLIB-kamera} usb tiff c ltdl pthread avahi-client avahi-common dbus-1 \
			gphoto2 gphoto2_port 
d90 4
@


1.90
log
@Add missing gtk-update-icon-cache goos.

ok landry@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2009/12/21 20:46:01 ajacoutot Exp $
d17 1
a17 1
PKGNAME-main =		${DISTNAME}p6
a80 4

.if ${MACHINE_ARCH} == "sparc64"
SUP_PATCH_LIST =	gcc-*
.endif
@


1.89
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2009/10/25 12:45:53 kili Exp $
d17 1
a17 1
PKGNAME-main =		${DISTNAME}p5
d20 1
a20 1
PKGNAME-sane =		ksane-${VERSION}p4
@


1.88
log
@Bring back okTo{Print,Change,Copy,AddNotes} diffs, which I
dropped by accident.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2009/10/15 15:50:25 kili Exp $
d17 1
a17 1
PKGNAME-main =		${DISTNAME}p4
d19 2
a20 2
PKGNAME-kpov =		kpovmodeller-${VERSION}p2
PKGNAME-sane =		ksane-${VERSION}p3
@


1.87
log
@Add tons of xpdf-related security fixes.

"reads fine" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2009/08/31 18:51:02 kili Exp $
d17 1
a17 1
PKGNAME-main =		${DISTNAME}p3
@


1.86
log
@Fix some WANTLIB and LIB_DEPENDS typos, unbreaking this and saving
ajacoutot's mailbox beeing flooded with complaints. Bump all, because
I'm lazy.

Tweaks and ok, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2009/08/27 19:44:38 ajacoutot Exp $
d17 1
a17 1
PKGNAME-main =		${DISTNAME}p2
@


1.85
log
@Use the gettext module.

ok landry@@ on an earlier diff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2009/08/11 08:40:40 ajacoutot Exp $
d17 4
a20 4
PKGNAME-main =		${DISTNAME}p1
PKGNAME-kamera =	kamera-${VERSION}p1
PKGNAME-kpov =		kpovmodeller-${VERSION}p1
PKGNAME-sane =		ksane-${VERSION}p2
a30 2
# only needed for the -sane subpackage
MODULES +=		converters/libiconv
d35 1
a35 1
			pthread-stubs xcb
d64 1
d69 1
a69 1
LIB_DEPENDS-sane =	${MODLIBICONV_LIB_DEPENDS} \
d73 1
a73 1
			gphoto2,gphoto2_port
@


1.84
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2009/06/24 20:40:23 sthen Exp $
d15 1
a15 1
PKGNAME=${DISTNAME}
d17 4
a20 4
PKGNAME-main =		${DISTNAME}p0
PKGNAME-kamera =	kamera-${VERSION}p0
PKGNAME-kpov =		kpovmodeller-${VERSION}p0
PKGNAME-sane =		ksane-${VERSION}p1
d30 4
a34 1
LIB_DEPENDS =		kdecore.>=6,DCOP,kio,kwalletclient,kdefx,kdeui,kdesu::x11/kde/libs3
d36 1
a36 1
			m idn iconv Xau Xdmcp fam rpcsvc stdc++ \
d43 2
a44 2
LIB_DEPENDS-main = 	${LIB_DEPENDS} \
			kdeprint,khtml,kjs,kparts,kutils::x11/kde/libs3 \
d55 1
a55 1
			expat intl xml2 pthread
d58 2
a59 2
LIB_DEPENDS-kpov =	${LIB_DEPENDS} \
			kparts::x11/kde/libs3
d63 1
a63 1
			Xt intl pthread
d65 3
a67 3
LIB_DEPENDS-kamera = 	${LIB_DEPENDS} \
			gphoto2,gphoto2_port::graphics/libgphoto2
WANTLIB-kamera =	${WANTLIB} exif Xrender intl ltdl
d70 2
a71 2
LIB_DEPENDS-sane = 	${LIB_DEPENDS-kamera} \
			ktexteditor,vcard,kabc,kparts,kresources,kspell,kdeprint::x11/kde/libs3 \
d73 2
a74 1
WANTLIB-sane =		${WANTLIB-kamera} usb tiff c ltdl pthread avahi-client avahi-common dbus-1
@


1.83
log
@sync WANTLIB-sane, bump PKGNAME-sane.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2008/08/26 16:52:29 espie Exp $
d17 4
a20 4
PKGNAME-main =		${DISTNAME}
PKGNAME-kamera =	kamera-${VERSION}
PKGNAME-kpov =		kpovmodeller-${VERSION}
PKGNAME-sane =		ksane-${VERSION}p0
d33 2
a34 1
			m idn iconv Xau Xdmcp fam rpcsvc stdc++
@


1.83.2.1
log
@SECURITY FIX

xpdf patches, from kili@@, thanks!

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2009/06/24 20:40:23 sthen Exp $
d17 1
a17 1
PKGNAME-main =		${DISTNAME}p0
@


1.82
log
@start updating to kde 3.5.10

style issues, regen with new make plist.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2008/05/21 09:46:18 ajacoutot Exp $
d20 1
a20 1
PKGNAME-sane =		ksane-${VERSION}
d69 1
a69 1
WANTLIB-sane =		${WANTLIB-kamera} usb tiff c ltdl pthread
@


1.81
log
@- disable the DRM bits from KPDF like it was done for xpdf

from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2008/04/11 11:24:03 jasper Exp $
d3 12
a14 12
COMMENT-main=		K Desktop Environment, graphic applications
COMMENT-kamera=		KDE interface to digital cameras
COMMENT-kpov=		KDE modeller for povray
COMMENT-sane=		KDE interface to scanners
CATEGORIES=		x11 x11/kde
VERSION=		3.5.9
DISTNAME=		kdegraphics-${VERSION}
MODKDE_VERSION=		3.5.8

FLAVORS=debug
SEPARATE_BUILD=flavored
MULTI_PACKAGES=-main -kpov -kamera -sane
d17 4
a20 4
PKGNAME-main=	${DISTNAME}p1
PKGNAME-kamera=	kamera-${VERSION}
PKGNAME-kpov=	kpovmodeller-${VERSION}
PKGNAME-sane=	ksane-${VERSION}
d30 3
a32 3
BUILD_DEPENDS=		::print/texlive/base
LIB_DEPENDS=		kdecore.>=6,DCOP,kio,kwalletclient,kdefx,kdeui,kdesu::x11/kde/libs3
WANTLIB=		X11 art_lgpl_2 ICE png util jpeg z SM Xext \
d36 4
a39 4
RUN_DEPENDS-main=${RUN_DEPENDS} \
		:ghostscript-*:print/ghostscript/gnu \
		:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS-main= 	${LIB_DEPENDS} \
d47 1
a47 1
WANTLIB-main=		${WANTLIB} \
d54 1
a54 1
LIB_DEPENDS-kpov=	${LIB_DEPENDS} \
d56 3
a58 3
RUN_DEPENDS-kpov=	::graphics/povray \
		:desktop-file-utils-*:devel/desktop-file-utils
WANTLIB-kpov=		${WANTLIB} GL freetype Xrender Xmu GLU c Xi \
d61 1
a61 1
LIB_DEPENDS-kamera= 	${LIB_DEPENDS} \
d63 1
a63 1
WANTLIB-kamera=		${WANTLIB} exif Xrender intl ltdl
d65 2
a66 2
RUN_DEPENDS-sane=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS-sane= 	${LIB_DEPENDS-kamera} \
d69 1
a69 1
WANTLIB-sane=		${WANTLIB-kamera} usb tiff c ltdl pthread
d72 1
a72 1
CONFIGURE_ENV+=	\
d79 1
a79 1
SUP_PATCH_LIST=	gcc-*
d82 2
a83 2
CONFIGURE_ENV+=	TIFF_LIBS='-L${LOCALBASE}/lib -ltiff -ljpeg -lz' \
		TIFF_CFLAGS='-I${LOCALBASE}/include'
@


1.80
log
@- fix WANTLIB/LIB_DEPENDS after recent openexr update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2008/03/25 21:22:52 espie Exp $
d17 1
a17 1
PKGNAME-main=	${DISTNAME}p0
@


1.79
log
@3.5.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2007/12/18 16:00:12 ajacoutot Exp $
d17 1
a17 1
PKGNAME-main=	${DISTNAME}
a42 1
			Iex,Half,Imath,IlmImf::graphics/openexr \
d48 1
@


1.78
log
@- make sure RUN_DEPENDS-main inherits RUN_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2007/12/15 23:47:40 ajacoutot Exp $
d8 1
a8 1
VERSION=		3.5.8
d17 1
a17 1
PKGNAME-main=	${DISTNAME}p3
d19 2
a20 5
PKGNAME-kpov=	kpovmodeller-${VERSION}p0
PKGNAME-sane=	ksane-${VERSION}p0

MASTER_SITES0=		ftp://ftp.kde.org/pub/kde/security_patches/
PATCHFILES=		post-3.5.8-kdegraphics-kpdf.diff:0
d32 1
a32 1
WANTLIB=		X11 art_lgpl_2 pthread ICE png util jpeg z SM Xext \
d51 1
a51 1
			expat intl xml2
d58 2
a59 2
WANTLIB-kpov=		${WANTLIB} GL freetype Xrender Xmu GLU c Xi  Xt intl

d69 1
a69 1
WANTLIB-sane=		${WANTLIB-kamera} usb tiff c ltdl
@


1.77
log
@- add update-desktop-database goo

"looks ok" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2007/12/07 20:12:02 kili Exp $
d17 1
a17 1
PKGNAME-main=	${DISTNAME}p2
d39 3
a41 2
RUN_DEPENDS-main=	:ghostscript-*:print/ghostscript/gnu \
			:desktop-file-utils-*:devel/desktop-file-utils
@


1.76
log
@
WANTLIB change after poppler update.
Bump pkgname.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2007/11/12 21:01:05 kili Exp $
d17 1
a17 1
PKGNAME-main=	${DISTNAME}p1
d19 2
a20 2
PKGNAME-kpov=	kpovmodeller-${VERSION}
PKGNAME-sane=	ksane-${VERSION}
d39 2
a40 1
RUN_DEPENDS-main=	:ghostscript-*:print/ghostscript/gnu
d58 2
a59 1
RUN_DEPENDS-kpov=	::graphics/povray
d67 1
a67 1

@


1.75
log
@
SECURITY: CVE-2007-4352, CVE-2007-5392 and CVE-2007-5393.

ok simon@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2007/10/24 21:52:17 espie Exp $
d17 1
a17 1
PKGNAME-main=	${DISTNAME}p0
d52 1
a52 1
			cairo expat glitz intl
@


1.74
log
@update to 3.5.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2007/10/01 11:42:30 steven Exp $
d17 1
a17 1
PKGNAME-main=	${DISTNAME}
d22 2
a23 2
#MASTER_SITES0=		ftp://ftp.kde.org/pub/kde/security_patches/
#PATCHFILES=		post-3.5.7-kdegraphics-CVE-2007-3387.diff:0
@


1.73
log
@switch teTeX -> texlive

discussed with sturm and mbalmer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2007/08/03 00:46:29 kili Exp $
d8 1
a8 1
VERSION=		3.5.7
d10 1
a10 1
MODKDE_VERSION=		3.5.7
d17 1
a17 1
PKGNAME-main=	${DISTNAME}p0
d22 2
a23 2
MASTER_SITES0=		ftp://ftp.kde.org/pub/kde/security_patches/
PATCHFILES=		post-3.5.7-kdegraphics-CVE-2007-3387.diff:0
d52 1
a52 1
			cairo expat glitz
d58 1
a58 1
WANTLIB-kpov=		${WANTLIB} GL freetype Xrender Xmu GLU c Xi  Xt
d63 1
a63 1
WANTLIB-kamera=		${WANTLIB} exif Xrender intl
d69 1
a69 1
WANTLIB-sane=		${WANTLIB-kamera} usb tiff c
@


1.72
log
@
SECURITY: CVE-2007-3387.

While here, tweak WANTLIB (+print/libpaper) and remove quotes from
COMMENT.

go for it, espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2007/05/25 09:49:54 espie Exp $
d33 1
a33 1
BUILD_DEPENDS=		::print/teTeX/base
@


1.71
log
@update a large subset of kde 3 to 3.5.7.
Simplify the infrastructure a bit, and let it compile with libfam, now...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2007/05/09 11:31:43 bernd Exp $
d3 4
a6 4
COMMENT-main=		"K Desktop Environment, graphic applications"
COMMENT-kamera=		"KDE interface to digital cameras"
COMMENT-kpov=		"KDE modeller for povray"
COMMENT-sane=		"KDE interface to scanners"
d17 1
a17 1
PKGNAME-main=	${DISTNAME}
d22 3
d46 1
@


1.70
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2007/01/28 13:18:51 espie Exp $
d8 1
a8 1
VERSION=		3.5.6
d10 1
a10 1
MODKDE_VERSION=		3.5.3
d17 4
a20 4
PKGNAME-main=	${DISTNAME}p0
PKGNAME-kamera=	kamera-${VERSION}p0
PKGNAME-kpov=	kpovmodeller-${VERSION}p0
PKGNAME-sane=	ksane-${VERSION}p0
d33 1
a33 1
			m idn iconv
d47 2
a48 1
			freetype stdc++ pcreposix pcre Xxf86vm SM Xext Xft
d54 1
a54 1
WANTLIB-kpov=		${WANTLIB} GL stdc++ freetype Xrender Xmu GLU c Xi 
d65 1
a65 1
WANTLIB-sane=		${WANTLIB-kamera} usb tiff stdc++ c
a77 3
USE_X11=	Yes
USE_LIBTOOL=	Yes
LIBTOOL_FLAGS=	--tag=disable-static
@


1.69
log
@kde 3.5.6 update, missing bindings and l10n.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2006/12/16 12:22:36 espie Exp $
d17 4
a20 4
PKGNAME-main=	${DISTNAME}
PKGNAME-kamera=	kamera-${VERSION}
PKGNAME-kpov=	kpovmodeller-${VERSION}
PKGNAME-sane=	ksane-${VERSION}
@


1.69.2.1
log
@MFC (original commit kili@@):
- fixes CVE-2007-3387

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2007/01/28 13:18:51 espie Exp $
d17 1
a17 1
PKGNAME-main=	${DISTNAME}p0
@


1.68
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2006/12/04 13:44:04 bernd Exp $
d8 1
a8 1
VERSION=		3.5.5
d17 1
a17 1
PKGNAME-main=	${DISTNAME}p1
d20 1
a20 1
PKGNAME-sane=	ksane-${VERSION}p0
d42 3
a44 1
			fribidi::devel/fribidi
@


1.67
log
@Security fix for a JPEG-EXIF meta information vulnerability.

http://www.kde.org/info/security/advisory-20061129-1.txt

'go ahead' espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2006/11/20 16:23:22 espie Exp $
d30 1
a30 2
BUILD_DEPENDS=		::print/teTeX/base \
			:pkgconfig-*:devel/pkgconfig
@


1.66
log
@new MULTI_PACKAGES framework
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2006/11/20 08:07:41 steven Exp $
d17 1
a17 1
PKGNAME-main=	${DISTNAME}p0
@


1.65
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2006/11/05 13:02:30 espie Exp $
d3 1
a3 1
COMMENT=		"K Desktop Environment, graphic applications"
d14 1
a14 1
MULTI_PACKAGES=-kpov -kamera -sane
d16 6
a21 3
PKGNAME-kamera=kamera-${VERSION}
PKGNAME-kpov=kpovmodeller-${VERSION}
PKGNAME-sane=ksane-${VERSION}
a28 5
SUBPACKAGE?=

BUILD_DEPENDS+=	::print/teTeX/base \
		:pkgconfig-*:devel/pkgconfig

d30 34
a63 1
WANTLIB+=	X11 art_lgpl_2 pthread ICE png util jpeg z SM Xext m idn
a64 33
LIB_DEPENDS+=	
	

.if !defined(PACKAGING) || ${SUBPACKAGE:L} == ""
RUN_DEPENDS+=	:ghostscript-*:print/ghostscript/gnu
LIB_DEPENDS+= \
	kdecore.>=6,DCOP,kdefx,kdeprint,kdesu,kdeui,khtml,kjs,kio,kparts,kutils,kwalletclient::x11/kde/libs3
LIB_DEPENDS+=	Imlib::graphics/imlib \
		ungif::graphics/libungif \
		Iex,Half,Imath,IlmImf::graphics/openexr \
		fribidi::devel/fribidi

WANTLIB+=	tiff fontconfig lcms Xrender ICE c iconv \
		freetype stdc++ pcreposix pcre Xxf86vm SM Xext Xft
.endif

.if !defined(PACKAGING) || ${SUBPACKAGE:L} == "-kpov"
LIB_DEPENDS+= kwalletclient,DCOP,kdecore.>=6,kio,kparts,kdeui,kdefx,kdesu::x11/kde/libs3
RUN_DEPENDS+=	::graphics/povray
WANTLIB+=	GL stdc++ freetype Xrender Xmu GLU c Xi iconv
.endif

.if !defined(PACKAGING) || ${SUBPACKAGE:L} == "-kamera"
LIB_DEPENDS+= kwalletclient,DCOP,kdecore.>=6,kio,kdeui,kdefx,kdesu::x11/kde/libs3
LIB_DEPENDS+=	gphoto2,gphoto2_port::graphics/libgphoto2
WANTLIB+=	iconv exif Xrender intl 
.endif

.if !defined(PACKAGING) || ${SUBPACKAGE:L} == "-sane"
LIB_DEPENDS+= kwalletclient,ktexteditor,DCOP,vcard,kabc,kparts,kdeui,kdesu,kdecore.>=6,kio,kresources,kdefx,kspell,kdeprint::x11/kde/libs3
LIB_DEPENDS+=	sane::graphics/sane-backends
WANTLIB+=	usb tiff stdc++ c Xrender gphoto2 intl iconv gphoto2_port exif
.endif
d77 3
a79 3
USE_LIBTOOL=Yes
LIBTOOL_FLAGS=--tag=disable-static
CONFIGURE_ENV+=TIFF_LIBS='-L${LOCALBASE}/lib -ltiff -ljpeg -lz' \
@


1.64
log
@SHARED_LIBS reformat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2006/10/12 23:12:18 espie Exp $
d78 1
@


1.63
log
@Update to 3.5.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2006/09/18 10:21:48 espie Exp $
d19 7
a25 7
SHARED_LIBS=		kghostviewlib	1.0 \
			kimageviewer	1.0 \
			kmultipage	1.0 \
			ksvg		1.0 \
			text2path	1.0 \
			kpovmodeler	1.0 \
			kscan		2.0
@


1.62
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2006/08/03 10:53:36 espie Exp $
d8 1
a8 1
VERSION=		3.5.4
@


1.61
log
@update to 3.5.4 first part.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2006/06/03 12:47:30 espie Exp $
d51 1
a51 1
LIB_DEPENDS+= kwalletclient,DCOP,kdecore.6,kio,kparts,kdeui,kdefx,kdesu::x11/kde/libs3
@


1.61.2.1
log
@MFC:
Security fix for a JPEG-EXIF meta information vulnerability.

http://www.kde.org/info/security/advisory-20061129-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2006/08/03 10:53:36 espie Exp $
d15 1
a15 1
PKGNAME=${DISTNAME}p0
@


1.61.2.2
log
@MFC (original commit kili@@):
- fixes CVE-2007-3387
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61.2.1 2006/12/05 19:07:05 sturm Exp $
d15 1
a15 1
PKGNAME=${DISTNAME}p1
@


1.60
log
@minor update to 3.5.3, integrate libidn support (some more changes to come
to WANTLIB in packages dependent on KDE).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2006/05/21 17:29:21 steven Exp $
d8 1
a8 1
VERSION=		3.5.3
d18 1
a18 1
PKGNAME-sane=ksane-${VERSION}p0
d40 1
a40 1
	kdecore.6,DCOP,kdefx,kdeprint,kdesu,kdeui,khtml,kjs,kio,kparts,kutils,kwalletclient::x11/kde/libs3
d57 1
a57 1
LIB_DEPENDS+= kwalletclient,DCOP,kdecore.6,kio,kdeui,kdefx,kdesu::x11/kde/libs3
d63 1
a63 1
LIB_DEPENDS+= kwalletclient,ktexteditor,DCOP,vcard,kabc,kparts,kdeui,kdesu,kdecore.6,kio,kresources,kdefx,kspell,kdeprint::x11/kde/libs3
@


1.59
log
@adjust WANTLIB for the ksane subpackage as well, since sane-backends
switched to use libgphoto2 by default.  bump PKGNAME-sane.
hint by Antoine Jacoutot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2006/04/01 10:49:20 espie Exp $
d8 1
a8 1
VERSION=		3.5.2
d10 1
a10 1
MODKDE_VERSION=		3.5.2
d32 1
a32 1
WANTLIB+=	X11 art_lgpl_2 pthread ICE png util jpeg z SM Xext m
d46 1
a46 1
WANTLIB+=	tiff fontconfig lcms Xrender ICE c \
d53 1
a53 1
WANTLIB+=	GL stdc++ freetype Xrender Xmu GLU c Xi
d65 1
a65 1
WANTLIB+=	usb tiff stdc++ c Xrender exif gphoto2 gphoto2_port iconv intl
@


1.58
log
@update to 3.5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2006/02/04 13:25:36 espie Exp $
d18 1
a18 1
PKGNAME-sane=ksane-${VERSION}
d65 1
a65 1
WANTLIB+=	usb tiff stdc++ c Xrender
@


1.57
log
@KDE Security Advisory: kpdf/xpdf heap based buffer overflow
http://www.kde.org/info/security/advisory-20060202-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2006/02/03 18:42:01 espie Exp $
d8 1
a8 1
VERSION=		3.5.1
d10 1
a10 1
MODKDE_VERSION=		3.5
d15 1
a15 1
PKGNAME=${DISTNAME}p0
@


1.57.2.1
log
@MFC:
Security fix for a JPEG-EXIF meta information vulnerability.

http://www.kde.org/info/security/advisory-20061129-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2006/02/04 13:25:36 espie Exp $
d15 1
a15 1
PKGNAME=${DISTNAME}p1
@


1.56
log
@3.5.1 update, patch pending...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2006/01/13 22:49:56 espie Exp $
d15 1
a15 1
PKGNAME=${DISTNAME}
@


1.55
log
@bump SHARED_LIBS for kde (all C++, no brainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2006/01/03 14:10:51 espie Exp $
d8 1
a8 1
VERSION=		3.5.0
d15 4
a18 4
PKGNAME=${DISTNAME}p1
PKGNAME-kamera=kamera-${VERSION}p0
PKGNAME-kpov=kpovmodeller-${VERSION}p1
PKGNAME-sane=ksane-${VERSION}p1
@


1.54
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2005/12/19 09:54:29 espie Exp $
d15 1
a15 1
PKGNAME=${DISTNAME}p0
d17 9
a25 9
PKGNAME-kpov=kpovmodeller-${VERSION}p0
PKGNAME-sane=ksane-${VERSION}p0
SHARED_LIBS=		kghostviewlib	0.0 \
			kimageviewer	0.0 \
			kmultipage	0.0 \
			ksvg		0.1 \
			text2path	0.0 \
			kpovmodeler	0.0 \
			kscan		1.0
@


1.53
log
@more use of system libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2005/11/30 11:22:09 espie Exp $
d19 7
@


1.52
log
@kde 3.5, split off scanner handling, and fix library dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2005/10/17 11:28:25 espie Exp $
d15 4
a18 4
PKGNAME=${DISTNAME}
PKGNAME-kamera=kamera-${VERSION}
PKGNAME-kpov=kpovmodeller-${VERSION}
PKGNAME-sane=ksane-${VERSION}
d71 2
@


1.51
log
@Minor update to kde 3.4.3, mostly zap qt 3.3.5 patches that have been
integrated, recognize theora in multimedia.
i18n3 to come...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2005/08/16 09:49:53 espie Exp $
d6 1
d8 1
a8 1
VERSION=		3.4.3
d10 1
a10 1
MODKDE_VERSION=		3.4
d14 1
a14 1
MULTI_PACKAGES=-kpov -kamera
d16 3
a18 2
FULLPKGNAME-kamera=kamera-${VERSION}
FULLPKGNAME-kpov=kpovmodeller-${VERSION}
d21 3
a23 5
LIB_DEPENDS= \
	kdecore.6,DCOP,kdefx,kdeprint,kdesu,kdeui,khtml,kjs,kio,kparts,kutils,kwalletclient::x11/kde/libs3 \
	fribidi::devel/fribidi \
	t1.5::devel/t1lib
WANTLIB=	X11 art_lgpl_2 pthread ICE png util jpeg z SM Xext m Xft
d25 6
a30 8
.if defined(PACKAGING)
.  if ${SUBPACKAGE} == "-kamera"
LIB_DEPENDS+=	gphoto2,gphoto2_port::graphics/libgphoto2
WANTLIB+=	iconv exif Xrender intl
.  elif ${SUBPACKAGE} == "-kpov"
RUN_DEPENDS+=	::graphics/povray
WANTLIB+=	GL stdc++ freetype Xrender Xmu GLU c Xi
.  elif ${SUBPACKAGE} == ""
d32 2
d36 3
a38 1
		Iex,Half,Imath,IlmImf::graphics/openexr
d40 19
a58 6
		freetype stdc++ pcreposix pcre Xxf86vm SM Xext
.  endif
.else
LIB_DEPENDS+=Imlib::graphics/imlib \
	ungif::graphics/libungif \
	gphoto2,gphoto2_port::graphics/libgphoto2
a59 2
BUILD_DEPENDS+=	::print/teTeX/base \
		:pkgconfig-*:devel/pkgconfig
d70 3
@


1.50
log
@conflicts from the past: history since 3.7.

As noted on ports@@ recently, pkg_add -r relies on conflicts, and the
sheer existence of updates means we MUST take the past into account in
conflicts now.

Note the renaming of hugs98 to valid package names where versions are
concerned.

This commit shows clearly the renaming of the xfce4 plugin packages, the
ditching of eclipse flavors, the splitting of nessus into subpackages,
the splitting of various other software documentations, some packaging bugs
in kdeedu, and a lot of files moving around...

okay pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2005/08/11 14:21:46 naddy Exp $
d7 1
a7 1
VERSION=		3.4.2
d14 1
a14 1
PKGNAME=${DISTNAME}p0
d16 1
a16 1
FULLPKGNAME-kpov=kpovmodeller-${VERSION}p0
@


1.50.2.1
log
@MFC:
KDE Security Advisory: kpdf/xpdf heap based buffer overflow
http://www.kde.org/info/security/advisory-20060202-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2005/08/16 09:49:53 espie Exp $
d14 1
a14 1
PKGNAME=${DISTNAME}p1
@


1.49
log
@Fix denial of service vulnerability.
Check sanity of the TrueType "loca" table.  Specially crafted broken
tables caused disk space exhaustion due to very large generated glyph
descriptions when attempting to fix the table.  CAN-2005-2097.

http://www.kde.org/info/security/advisory-20050809-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2005/07/28 08:47:40 espie Exp $
d16 1
a16 1
FULLPKGNAME-kpov=kpovmodeller-${VERSION}
@


1.48
log
@KDE 3.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2005/06/02 14:01:26 espie Exp $
d14 1
a14 1
PKGNAME=${DISTNAME}
@


1.47
log
@update to 3.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2005/03/29 21:18:36 espie Exp $
d7 1
a7 1
VERSION=		3.4.1
@


1.46
log
@most of kde 3.4, will finish getting fixed in tree... ;-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2005/02/27 08:20:34 brad Exp $
d7 1
a7 1
VERSION=		3.4.0
@


1.45
log
@post-3.3.2-kdegraphics.diff
post-3.3.2-kdegraphics-3.diff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2005/01/31 10:16:45 espie Exp $
d7 1
a7 1
VERSION=		3.3.2
d9 1
a9 1
MODKDE_VERSION=		3.3.0
d14 3
a16 3
PKGNAME=${DISTNAME}p2
FULLPKGNAME-kamera=kamera-${VERSION}p0
FULLPKGNAME-kpov=kpovmodeller-${VERSION}p0
d23 1
a23 1
WANTLIB=	X11 art_lgpl_2 pthread ICE png util jpeg z SM Xext m
@


1.45.2.1
log
@MFC:
Fix denial of service vulnerability.
Check sanity of the TrueType "loca" table.  Specially crafted broken
tables caused disk space exhaustion due to very large generated glyph
descriptions when attempting to fix the table.  CAN-2005-2097.

http://www.kde.org/info/security/advisory-20050809-1.txt

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2005/02/27 08:20:34 brad Exp $
d14 1
a14 1
PKGNAME=${DISTNAME}p3
@


1.45.2.2
log
@updated packages for these ports where not build in a sane environment
bump PKGNAME for fixed packages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45.2.1 2005/08/17 18:40:07 sturm Exp $
d14 1
a14 1
PKGNAME=${DISTNAME}p4
@


1.44
log
@put an explicit dependency on openexr libraries.
bump package name, obviously...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2004/12/30 15:55:14 espie Exp $
d14 1
a14 1
PKGNAME=${DISTNAME}p1
@


1.43
log
@fix multi-packages WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2004/12/16 07:25:25 alek Exp $
d14 1
a14 1
PKGNAME=${DISTNAME}p0
d35 2
a36 1
		ungif::graphics/libungif
d38 1
a38 2
		freetype stdc++ pcreposix pcre Xxf86vm SM Xext \
		
@


1.42
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2004/12/12 11:33:24 espie Exp $
d14 3
a16 2
FULLPKGNAME-kamera=kamera-${VERSION}
FULLPKGNAME-kpov=kpovmodeller-${VERSION}
d23 1
d28 1
d31 1
d36 3
a56 4

WANTLIB=	GL GLU ICE SM X11 Xext Xi Xmu Xrender Xxf86vm art_lgpl_2 c \
		exif fontconfig freetype iconv intl jpeg lcms m pcre pcreposix \
		png pthread stdc++ tiff util z
@


1.41
log
@3.3.2 is out, rejoice.
minor update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2004/10/19 00:25:26 espie Exp $
d50 4
@


1.40
log
@minor update to 3.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2004/10/09 14:50:45 sturm Exp $
d7 1
a7 1
VERSION=		3.3.1
@


1.39
log
@pkgconfig missing in BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2004/09/18 09:36:44 espie Exp $
d7 1
a7 1
VERSION=		3.3.0
d20 2
a21 1
	fribidi::devel/fribidi
@


1.38
log
@update to kde 3.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2004/08/01 16:20:01 naddy Exp $
d37 2
a38 1
BUILD_DEPENDS+=::print/teTeX/base
@


1.37
log
@Fixes from Aleksander.Piotrowski@@nic.com.pl:
- Help configure find fontconfig.
- Include shared library components.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2004/07/24 12:47:14 espie Exp $
d7 1
a7 1
VERSION=		3.2.3
d9 1
a9 1
MODKDE_VERSION=		3.2.3
@


1.36
log
@basic update to kde 3.2.3.
A few files to remove/add yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2004/04/13 04:22:37 brad Exp $
d38 3
@


1.35
log
@better COMMENTs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2004/04/10 13:00:16 sturm Exp $
d7 1
a7 1
VERSION=		3.2.1
d9 1
a9 1
MODKDE_VERSION=		3.2
@


1.34
log
@fix patchfiles for sparc64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/03/23 22:14:59 pvalchev Exp $
d3 3
a5 3
COMMENT=		"X11 toolkit, graphic applications"
COMMENT-kamera=		"kde interface to digital cameras"
COMMENT-kpov=		"modeller for povray"
@


1.33
log
@fix kghostview; from KDE CVS via Robert Nagy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/03/21 19:43:47 sturm Exp $
d43 1
a43 1
PATCH_LIST=	patch-* gcc-*
@


1.32
log
@compile on sparc64

ok pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2004/03/07 21:08:44 espie Exp $
d38 3
@


1.31
log
@update to kde 3.2.1, as agreed with pvalchev@@.
The distfiles should be publically available shortly.
this fixes a few nits: build accessibility, move cvscheck to avoid conflicts.

i18n files missing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2004/02/07 01:46:23 espie Exp $
d38 4
@


1.30
log
@start updating to 3.2.0, the actual release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2004/02/04 09:13:58 espie Exp $
d7 1
a7 1
VERSION=		3.2.0
@


1.29
log
@recognize FriBiDi and build ksvg support too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2004/02/02 00:47:20 espie Exp $
d7 1
a7 1
VERSION=		3.1.95
@


1.28
log
@extra \, thx naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/02/01 23:55:49 espie Exp $
d19 2
a20 1
	kdecore.6,DCOP,kdefx,kdeprint,kdesu,kdeui,kio,kparts,kutils::x11/kde/libs3
@


1.27
log
@adjust dependencies, we no longer need glut to build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/02/01 14:59:23 espie Exp $
d29 1
a29 1
		ungif::graphics/libungif \
@


1.26
log
@basic import of kde 3.1.95, still missing a few parts.

TODO:
- compile the missing packages.
- redo konsole fixes for our ttys.
- figure out why kuickshow is broken.
- make sure we get all dependencies.
- repair kscd.
- find out why nsplugins does not like the native jdk.
- figure out how to get kvim to work.
- change filenames or adjust check-lib-depends to cope.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2003/12/08 02:17:43 brad Exp $
d19 1
a19 1
	kdecore.4,DCOP,kdefx,kdeprint,kdesu,kdeui,kio,kparts::x11/kde/libs3
a24 1
LIB_DEPENDS+=	glut::graphics/glut
a29 1
		glut::graphics/glut
a33 1
	glut::graphics/glut \
@


1.25
log
@- tab
- remove useless commented out option
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/08/28 05:13:30 brad Exp $
d7 1
a7 1
VERSION=		3.1.4
d9 1
d11 1
d39 1
@


1.24
log
@update to 3.1.4
@
text
@d26 1
a26 1
RUN_DEPENDS+= :ghostscript-*:print/ghostscript/gnu
a36 4



#CONFIGURE_ARGS+=--without-kamera
@


1.23
log
@fix espie's reckless update for KDE 3.1.2, now kamera will build.
--
Pointed out by: Jeff Nathan
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/07/30 12:59:22 espie Exp $
d7 1
a7 1
VERSION=		3.1.3
@


1.22
log
@Update to kde 3.1.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/06/12 19:16:15 espie Exp $
d34 2
a35 2
	glut::graphics/glut
#	gphoto2,gphoto2_port::graphics/libgphoto2
@


1.21
log
@Update to kde 3.1.2 (requires recent autoconf).
Fix some build issues, mainly in kdebindings and kdemultimedia.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/04/12 15:37:01 espie Exp $
d7 1
a7 1
VERSION=		3.1.2
@


1.20
log
@security update: invoke ghostscript with safe flags, to disable
pdf/postscript possible holes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/04/10 00:00:23 espie Exp $
d7 1
a7 1
VERSION=		3.1.1a
d11 1
a11 1
MULTI_PACKAGES=-kamera -kpov
a33 1
	gphoto2,gphoto2_port::graphics/libgphoto2 \
d35 1
@


1.19
log
@activate gphoto support.
pull stuff that requires specific dependencies into subpackages:
kamera (libgphoto2, exif) and kpovmodeller (glut, povray)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2003/04/05 14:53:39 espie Exp $
d7 1
a7 1
VERSION=		3.1.1
@


1.18
log
@Update most of kde to 3.1.1.
Needs rebuild to check against XFree 4.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2003/01/27 19:42:21 espie Exp $
d4 2
d10 23
a32 1
LIB_DEPENDS=Imlib::graphics/imlib \
d34 1
a34 1
	kdecore.4,DCOP,kdefx,kdeprint,kdesu,kdeui,kio,kparts::x11/kde/libs3 \
d36 1
a37 1
RUN_DEPENDS= :ghostscript-*:print/ghostscript/gnu
a38 1
SEPARATE_BUILD=flavored
d40 1
a40 1
CONFIGURE_ARGS+=--without-kamera
@


1.17
log
@simple 3.1 updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2003/01/07 15:36:35 espie Exp $
d5 1
a5 1
VERSION=		3.1
d16 2
@


1.17.2.1
log
@Fix security issue mentioned in this advisory
http://www.kde.org/info/security/advisory-20030409-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2003/01/27 19:42:21 espie Exp $
a6 1
PKGNAME=		${DISTNAME}p0
@


1.16
log
@Add missing SEPARATE_BUILDs, turn them into flavored
Trim old commented cruft
Add debug flavor, and --disable-dependency-tracking if !debug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/12/23 14:22:32 espie Exp $
d5 1
a5 1
VERSION=		3.0.5a
d10 2
a11 1
	kdecore.4,DCOP,kdefx,kdeprint,kdesu,kdeui,kio,kparts::x11/kde/libs3
@


1.15
log
@Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/12/02 16:27:21 espie Exp $
d14 1
a14 1
SEPARATE_BUILD=simple
@


1.14
log
@Update to 3.0.5
i18n not checked yet...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/10/29 01:46:57 brad Exp $
d5 1
a5 1
VERSION=		3.0.5
@


1.13
log
@we don't need PKGNAME here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/10/28 21:44:32 espie Exp $
d5 1
a5 1
VERSION=		3.0.4
@


1.12
log
@3.0.4 update, most of it.
i18n packlists to check yet...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/09/29 02:10:55 brad Exp $
a6 1
PKGNAME=		${DISTNAME}
@


1.11
log
@add run time dependency on ghostscript to be used by kghostview.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/09/28 22:50:29 brad Exp $
d5 1
a5 1
VERSION=		3.0.3
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.11.2.1
log
@MFC:
Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/12/23 14:22:32 espie Exp $
d5 1
a5 1
VERSION=		3.0.5a
d7 1
@


1.11.2.2
log
@Fix security issue mentioned in this advisory

http://www.kde.org/info/security/advisory-20030409-1.txt

as well as applying the other security related fixes from KDE 3.0.5b.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11.2.1 2002/12/26 22:28:18 pvalchev Exp $
a6 1
PKGNAME=		${DISTNAME}p1
@


1.11.2.3
log
@Fix a bug in the previous patch for kghostview which could cause
rendering of files to fail under certain circumstances.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11.2.2 2003/04/10 18:59:40 brad Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.10
log
@fix buffer overflow issue with kghostview.
--
Patch from: Dirk Mueller <mueller@@kde.org> via espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/09/01 08:25:25 espie Exp $
d12 2
@


1.9
log
@kde 3.0.3, incorporated kssl changes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/07/16 12:20:42 espie Exp $
d7 1
a8 3
#LIB_DEPENDS= kdecore.4,DCOP,artskde,kdeui,khtml,kio,kparts::x11/kde/libs3 \
#	kateinterfaces,konq,konqsidebarplugin::x11/kde/base3 \
#	kmedia2_idl,qtmcop,soundserver_idl::x11/kde/arts3
@


1.8
log
@Update to 3.0.2, somewhat lately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/05/28 17:18:46 espie Exp $
d5 1
a5 1
VERSION=		3.0.2
@


1.7
log
@seems that kde is happy with SEPARATE_BUILD.
I should have checked this ages ago.
Will switch the other dirs after I've checked that they're okay too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/05/23 14:37:22 espie Exp $
d5 1
a5 2
NEED_VERSION=		1.504
VERSION=		3.0.1
@


1.6
log
@Update to kde 3.0.1.
Mostly remove integrated patches, and adapt a few plists.
There may be minor pieces yet to do...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/04/10 01:24:39 espie Exp $
d15 2
@


1.5
log
@Use a common Makefile.inc to remove lots of common parts in all kde dirs.
Remove lame stuff in base3, since run-time auto-detection is working now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/04/04 12:13:02 espie Exp $
d6 1
a6 1
VERSION=		3.0
@


1.4
log
@Real 3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/04/02 17:06:23 espie Exp $
a7 12
DIST_SUBDIR=		kde

HOMEPAGE=		http://www.kde.org
MASTER_SITES=	${MASTER_SITE_KDE}
MASTER_SITE_SUBDIR=	stable/${VERSION}/src
EXTRACT_SUFX=		.tar.bz2

# Parts of kde want shared libraries to work, as some symbols are
# duplicated over the place.
NOT_FOR_ARCHS=${NO_SHARED_ARCHS}

MODULES=	qt3
a14 41

# glib2.0 
# qt docs
# CUPS

MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/admin

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
CONFIGURE_ARGS=		${MODQT_CONFIGURE_ARGS}
CONFIGURE_ARGS+=	--with-extra-libs=${LOCALBASE}/lib
CONFIGURE_ARGS+=	--with-extra-includes=${LOCALBASE}/include
CONFIGURE_ARGS+=	--disable-threading
CONFIGURE_ARGS+=	--enable-mitshm
CONFIGURE_ARGS+=	--disable-debug
CONFIGURE_ARGS+=	--enable-final
PATCH_LIST=		${PORTSDIR}/x11/kde/arts3/patches/p-* patch-*
#CONFIGURE_ARGS+=	--enable-debug
#CONFIGURE_ARGS+=--enable-static --enable-debug --disable-shared

#CONFIGURE_ARGS+=	--enable-static --disable-shared

CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}

USE_GMAKE=		Yes

# you don't want to know...
CONFIGURE_ENV+=		ac_aux_files=''

MAKE_ENV=		${CONFIGURE_ENV}
PORTHOME=${WRKDIR}

# Ensure qt will always be at the front
MAKE_FLAGS=CXXLD='--tag CXX ${CXX} -L${MODQT_LIBDIR}'

# GPL
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

@


1.3
log
@found a mirror that carries RC3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/03/23 17:12:10 espie Exp $
d6 1
a6 1
VERSION=		3.0rc3
d11 2
a12 2
MASTER_SITES= http://gd.tuwien.ac.at/pub/kde/%SUBDIR%/
MASTER_SITE_SUBDIR=	unstable/kde-${VERSION}/src
@


1.2
log
@Fix lib depends.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/03/23 17:00:12 espie Exp $
d11 1
a11 1
MASTER_SITES=ftp://ftp.kde.org/pub/kde/%SUBDIR%/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/03/23 16:26:56 espie Exp $
d21 6
a26 3
LIB_DEPENDS= kdecore.4,DCOP,artskde,kdeui,khtml,kio,kparts::x11/kde/libs3 \
	kateinterfaces,konq,konqsidebarplugin::x11/kde/base3 \
	kmedia2_idl,qtmcop,soundserver_idl::x11/kde/arts3
@


1.1.1.1
log
@kde 3, release candidate 3
@
text
@@
