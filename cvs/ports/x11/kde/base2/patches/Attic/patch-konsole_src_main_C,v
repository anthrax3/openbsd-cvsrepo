head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2001.04.22.13.23.39;	author espie;	state dead;
branches;
next	1.2;

1.2
date	2001.03.12.16.18.34;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2000.11.24.16.55.28;	author espie;	state Exp;
branches;
next	;


desc
@@


1.3
log
@same fixes as libs2.
Plus:
- do the login/logout in konsole_grantpty. It's just a question of opening
the tty slave so that login() won't get confused.
@
text
@--- konsole/src/main.C.orig	Sun Feb 18 16:28:29 2001
+++ konsole/src/main.C	Tue Mar  6 21:52:42 2001
@@@@ -67,7 +67,9 @@@@ public:
 /* --| main |------------------------------------------------------ */
 int main(int argc, char* argv[])
 {
+#ifndef __OpenBSD__
   setuid(getuid()); setgid(getgid()); // drop privileges
+#endif
 
   // deal with shell/command ////////////////////////////
   bool login_shell = false;
@


1.2
log
@Update to kde 2.1
@
text
@@


1.1
log
@Fix infamous bug that prevented konsole to run from xdm.
@
text
@d1 3
a3 3
--- konsole/src/main.C.orig	Fri Nov 24 17:06:12 2000
+++ konsole/src/main.C	Fri Nov 24 17:05:40 2000
@@@@ -46,7 +46,9 @@@@ static KCmdLineOptions options[] =
@

