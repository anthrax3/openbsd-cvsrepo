head	1.1;
access;
symbols
	OPENBSD_3_1:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2003.01.07.00.12.39;	author brad;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2003.01.07.00.12.39;	author brad;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file patch-kioslave_finger_kio_finger_pl was initially added on branch OPENBSD_3_1.
@
text
@@


1.1.2.1
log
@- add patches from auditing effort for KDE 2.2
- bump PKGNAME's

http://www.kde.org/info/security/advisory-20021220-1.txt
@
text
@a0 15
$OpenBSD$
--- kioslave/finger/kio_finger.pl.orig	Mon Jul 30 18:12:43 2001
+++ kioslave/finger/kio_finger.pl	Sun Jan  5 18:22:16 2003
@@@@ -65,8 +65,9 @@@@ HTMLHeader
 
 # Run finger command and save it into a buffer
 
-$buffer = `$FINGERCMD $USER\@@$HOST`;
-@@lines = split /^/m, $buffer;
+open(F, "-|") || exec $FINGERCMD, "$USER\@@$HOST";
+@@lines = <F>;
+close(F);
 
 # Do highlighting using perl regular expressions on every line received.
 # Order is important here.
@

