head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2006.06.03.12.47.31;	author espie;	state dead;
branches;
next	1.1;

1.1
date	2006.04.29.01.02.24;	author brad;	state Exp;
branches;
next	;


desc
@@


1.2
log
@minor update to 3.5.3, integrate libidn support (some more changes to come
to WANTLIB in packages dependent on KDE).
@
text
@$OpenBSD: patch-kopete_libkopete_avdevice_videodevicepool_h,v 1.1 2006/04/29 01:02:24 brad Exp $
--- kopete/libkopete/avdevice/videodevicepool.h.orig	Fri Mar 17 05:12:32 2006
+++ kopete/libkopete/avdevice/videodevicepool.h	Fri Apr 28 15:50:23 2006
@@@@ -27,6 +27,7 @@@@
 #include <qstring.h>
 #include <qimage.h>
 #include <qvaluevector.h>
+#include <qmutex.h>
 #include <kcombobox.h>
 #include "videodevice.h"
 #include "kopete_export.h"
@@@@ -78,6 +79,7 @@@@ public:
 	VideoDeviceModelPool m_modelvector;  // Vector to be filled with unique device models
 	int fillDeviceKComboBox(KComboBox *combobox);
 	int fillInputKComboBox(KComboBox *combobox);
+	int fillStandardKComboBox(KComboBox *combobox);
 	unsigned int currentDevice();
 	int currentInput();
 	unsigned int inputs();
@@@@ -92,12 +94,16 @@@@ public:
 	float setWhiteness(float whiteness);
 	float getHue();
 	float setHue(float hue);
+
 	bool getAutoBrightnessContrast();
 	bool setAutoBrightnessContrast(bool brightnesscontrast);
 	bool getAutoColorCorrection();
 	bool setAutoColorCorrection(bool colorcorrection);
 	bool getImageAsMirror();
 	bool setImageAsMirror(bool imageasmirror);
+
+	bool getDisableMMap();
+	bool setDisableMMap(bool disablemmap);
 	bool getWorkaroundBrokenDriver();
 	bool setWorkaroundBrokenDriver(bool workaroundbrokendriver);
 
@@@@ -111,9 +117,12 @@@@ protected:
 	void guessDriver();
 	unsigned int m_current_device;
 	struct imagebuffer m_buffer; // only used when no devices were found
+
+	QMutex m_ready;
 private:
 	VideoDevicePool();
 	static VideoDevicePool* s_self;
+	static __u64 m_clients; // Number of instances
 };
 
 }
@


1.1
log
@Backport for the 120117 fix and some other bugs.

http://bugs.kde.org/show_bug.cgi?id=120117

From KDE SVN.
@
text
@d1 1
a1 1
$OpenBSD$
@

