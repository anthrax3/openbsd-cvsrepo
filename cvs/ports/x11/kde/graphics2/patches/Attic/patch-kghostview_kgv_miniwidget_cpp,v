head	1.1;
access;
symbols
	OPENBSD_3_1:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2002.10.06.18.07.47;	author brad;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2002.10.06.18.07.47;	author brad;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file patch-kghostview_kgv_miniwidget_cpp was initially added on branch OPENBSD_3_1.
@
text
@@


1.1.2.1
log
@fix buffer overflow issue with kghostview.
--
Patch from: Dirk Mueller <mueller@@kde.org> via kde-packager
@
text
@a0 13
$OpenBSD$
--- kghostview/kgv_miniwidget.cpp.orig	Sat Nov 10 00:20:18 2001
+++ kghostview/kgv_miniwidget.cpp	Sat Oct  5 11:32:21 2002
@@@@ -529,7 +529,8 @@@@ bool KGVMiniWidget::psCopyDoc( const QSt
 	    free( comment );
 	    continue;
 	}
-	sscanf( comment + length("%%Pages:" ), "%s", text );
+	sscanf( comment + length("%%Pages:" ), "%256s", text );
+        text[256] = 0;
 	if( strcmp( text, "(atend)" ) == 0 ) {
 	    fputs( comment, to );
 	    pages_atend = true;
@

