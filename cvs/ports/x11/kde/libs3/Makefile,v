head	1.155;
access;
symbols
	OPENBSD_6_2:1.155.0.2
	OPENBSD_6_2_BASE:1.155
	OPENBSD_6_1:1.151.0.2
	OPENBSD_6_1_BASE:1.151
	OPENBSD_6_0:1.149.0.2
	OPENBSD_6_0_BASE:1.149
	OPENBSD_5_9:1.147.0.2
	OPENBSD_5_9_BASE:1.147
	OPENBSD_5_8:1.146.0.4
	OPENBSD_5_8_BASE:1.146
	OPENBSD_5_7:1.143.0.4
	OPENBSD_5_7_BASE:1.143
	OPENBSD_5_6:1.143.0.2
	OPENBSD_5_6_BASE:1.143
	OPENBSD_5_5:1.140.0.2
	OPENBSD_5_5_BASE:1.140
	OPENBSD_5_4:1.128.0.2
	OPENBSD_5_4_BASE:1.128
	OPENBSD_5_3:1.125.0.2
	OPENBSD_5_3_BASE:1.125
	OPENBSD_5_2:1.119.0.2
	OPENBSD_5_2_BASE:1.119
	OPENBSD_5_1_BASE:1.118
	OPENBSD_5_1:1.118.0.2
	OPENBSD_5_0:1.113.0.2
	OPENBSD_5_0_BASE:1.113
	OPENBSD_4_9:1.111.0.2
	OPENBSD_4_9_BASE:1.111
	OPENBSD_4_8:1.109.0.2
	OPENBSD_4_8_BASE:1.109
	OPENBSD_4_7:1.106.0.2
	OPENBSD_4_7_BASE:1.106
	OPENBSD_4_6:1.97.0.2
	OPENBSD_4_6_BASE:1.97
	OPENBSD_4_5:1.96.0.2
	OPENBSD_4_5_BASE:1.96
	OPENBSD_4_4:1.94.0.2
	OPENBSD_4_4_BASE:1.94
	OPENBSD_4_3:1.90.0.2
	OPENBSD_4_3_BASE:1.90
	OPENBSD_4_2:1.81.0.2
	OPENBSD_4_2_BASE:1.81
	OPENBSD_4_1:1.77.0.2
	OPENBSD_4_1_BASE:1.77
	OPENBSD_4_0:1.69.0.2
	OPENBSD_4_0_BASE:1.69
	OPENBSD_3_9:1.65.0.2
	OPENBSD_3_9_BASE:1.65
	OPENBSD_3_8:1.57.0.2
	OPENBSD_3_8_BASE:1.57
	OPENBSD_3_7:1.48.0.2
	OPENBSD_3_7_BASE:1.48
	OPENBSD_3_6:1.39.0.2
	OPENBSD_3_6_BASE:1.39
	OPENBSD_3_5:1.36.0.2
	OPENBSD_3_5_BASE:1.36
	OPENBSD_3_4:1.28.0.2
	OPENBSD_3_4_BASE:1.28
	OPENBSD_3_3:1.23.0.2
	OPENBSD_3_3_BASE:1.23
	OPENBSD_3_2:1.16.0.2
	OPENBSD_3_2_BASE:1.16
	OPENBSD_3_1:1.7.0.2
	OPENBSD_3_1_BASE:1.7
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.155
date	2017.07.26.22.45.33;	author sthen;	state Exp;
branches;
next	1.154;
commitid	tD4MFrpYYDDL2UFT;

1.154
date	2017.07.16.19.19.05;	author espie;	state Exp;
branches;
next	1.153;
commitid	tt0GhWK5c4uf9ILG;

1.153
date	2017.04.19.13.23.24;	author espie;	state Exp;
branches;
next	1.152;
commitid	H2n6r1WkkTmPH91m;

1.152
date	2017.04.10.11.46.36;	author sthen;	state Exp;
branches;
next	1.151;
commitid	HY6VNZxjJWzKQFDV;

1.151
date	2017.01.26.06.19.58;	author zhuk;	state Exp;
branches;
next	1.150;
commitid	QQeHF8dsa1OFrEJF;

1.150
date	2017.01.25.11.55.47;	author zhuk;	state Exp;
branches;
next	1.149;
commitid	Y4N5rVItGZUxPMNe;

1.149
date	2016.06.29.16.14.45;	author espie;	state Exp;
branches;
next	1.148;
commitid	c1yQMbJbfo0CFBcL;

1.148
date	2016.04.15.00.04.45;	author sthen;	state Exp;
branches;
next	1.147;
commitid	bI9FSiH9q68E0gjm;

1.147
date	2015.09.22.18.47.52;	author pascal;	state Exp;
branches;
next	1.146;
commitid	rLFV4JCgkelUH8yf;

1.146
date	2015.06.10.21.42.26;	author sthen;	state Exp;
branches;
next	1.145;
commitid	KAX1WKnTNUH3EZBA;

1.145
date	2015.04.04.09.21.08;	author ajacoutot;	state Exp;
branches;
next	1.144;
commitid	kS3kwKZogsvzYmEY;

1.144
date	2015.03.27.08.16.18;	author ajacoutot;	state Exp;
branches;
next	1.143;
commitid	BUhOiEl2FUSRKwq7;

1.143
date	2014.04.29.22.02.18;	author zhuk;	state Exp;
branches;
next	1.142;

1.142
date	2014.04.21.23.15.23;	author sthen;	state Exp;
branches;
next	1.141;

1.141
date	2014.04.21.19.21.54;	author sthen;	state Exp;
branches;
next	1.140;

1.140
date	2013.12.25.15.47.30;	author zhuk;	state Exp;
branches;
next	1.139;

1.139
date	2013.12.23.19.23.01;	author zhuk;	state Exp;
branches;
next	1.138;

1.138
date	2013.12.23.12.36.50;	author zhuk;	state Exp;
branches;
next	1.137;

1.137
date	2013.12.22.19.34.05;	author zhuk;	state Exp;
branches;
next	1.136;

1.136
date	2013.12.22.19.29.40;	author zhuk;	state Exp;
branches;
next	1.135;

1.135
date	2013.11.25.14.16.23;	author sthen;	state Exp;
branches;
next	1.134;

1.134
date	2013.11.24.19.56.30;	author zhuk;	state Exp;
branches;
next	1.133;

1.133
date	2013.10.30.21.02.30;	author zhuk;	state Exp;
branches;
next	1.132;

1.132
date	2013.10.22.11.34.05;	author zhuk;	state Exp;
branches;
next	1.131;

1.131
date	2013.10.16.16.35.15;	author jasper;	state Exp;
branches;
next	1.130;

1.130
date	2013.10.05.07.34.39;	author espie;	state Exp;
branches;
next	1.129;

1.129
date	2013.09.04.18.17.54;	author landry;	state Exp;
branches;
next	1.128;

1.128
date	2013.06.20.06.54.38;	author ajacoutot;	state Exp;
branches;
next	1.127;

1.127
date	2013.06.17.19.31.32;	author ajacoutot;	state Exp;
branches;
next	1.126;

1.126
date	2013.03.19.13.07.14;	author nigel;	state Exp;
branches;
next	1.125;

1.125
date	2013.01.23.21.10.38;	author zhuk;	state Exp;
branches;
next	1.124;

1.124
date	2013.01.21.19.12.21;	author zhuk;	state Exp;
branches;
next	1.123;

1.123
date	2013.01.14.12.35.19;	author zhuk;	state Exp;
branches;
next	1.122;

1.122
date	2013.01.13.19.35.42;	author zhuk;	state Exp;
branches;
next	1.121;

1.121
date	2013.01.11.16.20.00;	author zhuk;	state Exp;
branches;
next	1.120;

1.120
date	2012.08.04.14.51.38;	author ajacoutot;	state Exp;
branches;
next	1.119;

1.119
date	2012.06.15.08.30.23;	author ajacoutot;	state Exp;
branches;
next	1.118;

1.118
date	2012.01.01.09.03.20;	author ajacoutot;	state Exp;
branches;
next	1.117;

1.117
date	2011.12.03.18.46.30;	author ajacoutot;	state Exp;
branches;
next	1.116;

1.116
date	2011.12.03.18.35.11;	author ajacoutot;	state Exp;
branches;
next	1.115;

1.115
date	2011.09.16.12.29.16;	author espie;	state Exp;
branches;
next	1.114;

1.114
date	2011.09.08.10.34.43;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2011.05.19.14.43.17;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2011.05.11.08.03.24;	author ajacoutot;	state Exp;
branches;
next	1.111;

1.111
date	2010.11.22.08.37.02;	author espie;	state Exp;
branches;
next	1.110;

1.110
date	2010.10.06.08.13.31;	author landry;	state Exp;
branches;
next	1.109;

1.109
date	2010.07.10.12.44.30;	author espie;	state Exp;
branches;
next	1.108;

1.108
date	2010.07.08.21.28.49;	author espie;	state Exp;
branches;
next	1.107;

1.107
date	2010.05.15.08.48.01;	author ajacoutot;	state Exp;
branches;
next	1.106;

1.106
date	2009.12.21.20.46.01;	author ajacoutot;	state Exp;
branches;
next	1.105;

1.105
date	2009.12.04.16.05.57;	author pea;	state Exp;
branches;
next	1.104;

1.104
date	2009.12.04.08.09.57;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2009.12.02.15.39.39;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2009.11.23.08.20.45;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2009.11.14.16.41.03;	author ajacoutot;	state Exp;
branches;
next	1.100;

1.100
date	2009.10.27.14.38.15;	author jasper;	state Exp;
branches;
next	1.99;

1.99
date	2009.08.27.19.44.38;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2009.08.11.08.40.40;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2009.06.12.20.01.09;	author kili;	state Exp;
branches;
next	1.96;

1.96
date	2009.01.29.22.28.58;	author jakemsr;	state Exp;
branches;
next	1.95;

1.95
date	2008.08.26.16.52.29;	author espie;	state Exp;
branches;
next	1.94;

1.94
date	2008.07.25.20.25.59;	author sthen;	state Exp;
branches;
next	1.93;

1.93
date	2008.04.11.16.16.55;	author jasper;	state Exp;
branches;
next	1.92;

1.92
date	2008.04.11.11.24.03;	author jasper;	state Exp;
branches;
next	1.91;

1.91
date	2008.03.25.11.45.08;	author espie;	state Exp;
branches;
next	1.90;

1.90
date	2008.02.14.18.02.10;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2008.01.25.17.36.17;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2008.01.04.17.48.38;	author espie;	state Exp;
branches;
next	1.87;

1.87
date	2007.12.18.16.00.12;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2007.12.15.23.47.41;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2007.10.24.21.52.17;	author espie;	state Exp;
branches;
next	1.84;

1.84
date	2007.10.06.12.47.20;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2007.09.15.20.04.21;	author merdely;	state Exp;
branches;
next	1.82;

1.82
date	2007.08.25.08.03.02;	author espie;	state Exp;
branches;
next	1.81;

1.81
date	2007.05.25.09.49.54;	author espie;	state Exp;
branches;
next	1.80;

1.80
date	2007.05.09.11.31.43;	author bernd;	state Exp;
branches;
next	1.79;

1.79
date	2007.03.31.23.33.34;	author espie;	state Exp;
branches;
next	1.78;

1.78
date	2007.03.28.00.21.06;	author espie;	state Exp;
branches;
next	1.77;

1.77
date	2007.02.02.13.18.30;	author espie;	state Exp;
branches
	1.77.2.1;
next	1.76;

1.76
date	2007.01.28.13.18.51;	author espie;	state Exp;
branches;
next	1.75;

1.75
date	2006.12.16.12.22.36;	author espie;	state Exp;
branches;
next	1.74;

1.74
date	2006.11.20.23.48.04;	author espie;	state Exp;
branches;
next	1.73;

1.73
date	2006.11.20.08.07.41;	author steven;	state Exp;
branches;
next	1.72;

1.72
date	2006.10.28.11.52.13;	author espie;	state Exp;
branches;
next	1.71;

1.71
date	2006.10.12.23.12.19;	author espie;	state Exp;
branches;
next	1.70;

1.70
date	2006.09.18.12.19.40;	author espie;	state Exp;
branches;
next	1.69;

1.69
date	2006.08.03.10.53.36;	author espie;	state Exp;
branches
	1.69.2.1;
next	1.68;

1.68
date	2006.06.03.12.47.30;	author espie;	state Exp;
branches;
next	1.67;

1.67
date	2006.05.02.12.35.42;	author steven;	state Exp;
branches;
next	1.66;

1.66
date	2006.04.01.10.49.20;	author espie;	state Exp;
branches;
next	1.65;

1.65
date	2006.02.11.18.22.35;	author bernd;	state Exp;
branches;
next	1.64;

1.64
date	2006.02.03.12.23.14;	author espie;	state Exp;
branches;
next	1.63;

1.63
date	2006.01.23.09.19.36;	author espie;	state Exp;
branches;
next	1.62;

1.62
date	2006.01.13.22.49.56;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2006.01.03.09.10.55;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2005.12.17.11.27.44;	author espie;	state Exp;
branches;
next	1.59;

1.59
date	2005.11.29.14.00.12;	author espie;	state Exp;
branches;
next	1.58;

1.58
date	2005.10.17.11.28.25;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2005.08.16.09.49.54;	author espie;	state Exp;
branches
	1.57.2.1;
next	1.56;

1.56
date	2005.07.28.08.47.41;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2005.06.14.02.01.25;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2005.06.02.21.41.13;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2005.06.02.14.01.26;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2005.04.27.15.49.55;	author drahn;	state Exp;
branches;
next	1.51;

1.51
date	2005.04.08.20.47.01;	author sturm;	state Exp;
branches;
next	1.50;

1.50
date	2005.03.30.10.34.33;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2005.03.29.21.18.36;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2005.02.27.07.25.50;	author brad;	state Exp;
branches
	1.48.2.1;
next	1.47;

1.47
date	2005.02.14.14.10.30;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2005.02.07.11.30.05;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2005.01.31.09.12.02;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2005.01.28.09.40.30;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2004.12.16.07.25.25;	author alek;	state Exp;
branches;
next	1.42;

1.42
date	2004.12.12.11.33.24;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2004.10.19.00.25.27;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2004.09.18.09.36.44;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2004.08.10.22.08.03;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2004.07.24.12.47.15;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2004.04.13.04.22.37;	author brad;	state Exp;
branches;
next	1.36;

1.36
date	2004.03.07.21.08.44;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2004.02.07.01.46.23;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2004.02.03.00.58.29;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2004.02.02.14.59.57;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2004.02.01.22.41.23;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2004.02.01.14.59.23;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2003.12.08.02.19.43;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2003.12.07.20.19.14;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2003.08.05.08.39.49;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2003.07.30.12.59.23;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2003.06.12.19.16.16;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2003.04.12.15.37.01;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2003.04.05.14.53.39;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2003.01.27.19.16.47;	author espie;	state Exp;
branches
	1.23.2.1;
next	1.22;

1.22
date	2003.01.07.15.36.35;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2003.01.06.23.31.31;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2002.12.23.14.22.32;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2002.12.02.16.27.21;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2002.11.29.05.13.37;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2002.10.28.21.44.32;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2002.09.10.22.37.32;	author espie;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2002.09.01.08.25.26;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2002.08.16.19.49.27;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2002.07.16.12.20.42;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2002.06.03.10.06.19;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2002.05.28.17.18.46;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2002.05.23.14.37.22;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2002.05.06.12.28.57;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2002.04.15.06.53.53;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2002.04.10.01.24.39;	author espie;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2002.04.04.18.29.21;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2002.04.04.16.43.14;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2002.04.04.12.13.02;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.04.04.09.31.01;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.04.02.17.06.23;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.23.15.01.20;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.23.15.01.20;	author espie;	state Exp;
branches;
next	;

1.7.2.1
date	2002.08.16.20.05.08;	author brad;	state Exp;
branches;
next	;

1.16.2.1
date	2002.12.26.22.28.18;	author pvalchev;	state Exp;
branches;
next	1.16.2.2;

1.16.2.2
date	2003.01.06.23.29.24;	author espie;	state Exp;
branches;
next	1.16.2.3;

1.16.2.3
date	2003.04.10.18.59.40;	author brad;	state Exp;
branches;
next	1.16.2.4;

1.16.2.4
date	2003.08.03.22.28.17;	author brad;	state Exp;
branches;
next	;

1.23.2.1
date	2003.05.02.18.49.29;	author naddy;	state Exp;
branches;
next	1.23.2.2;

1.23.2.2
date	2003.08.06.14.23.02;	author brad;	state Exp;
branches;
next	;

1.48.2.1
date	2006.01.23.21.27.05;	author sturm;	state Exp;
branches;
next	;

1.57.2.1
date	2006.01.23.21.52.32;	author sturm;	state Exp;
branches;
next	;

1.69.2.1
date	2007.09.01.17.51.17;	author ajacoutot;	state Exp;
branches;
next	;

1.77.2.1
date	2007.09.01.17.49.30;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.155
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.154 2017/07/16 19:19:05 espie Exp $

BROKEN-alpha =		.got subsegment exceeds 64K
BROKEN-mips64 =		.got subsegment exceeds 64K

COMMENT-main =		K Desktop Environment, libraries
COMMENT-langlist =	list of languages supported by KDE
CATEGORIES =		x11 x11/kde
VERSION =		3.5.10
DISTNAME =		kdelibs-${VERSION}
PKGNAME-main =		${DISTNAME}
PKGSPEC-main =		kdelibs->=3,<4
PKGNAME-langlist =	kde3-langlist-${VERSION}
PKG_ARCH-langlist =	*
REVISION-main =		43
REVISION-langlist =	2

MODKDE_VERSION =	3.5.8

SHARED_LIBS +=	DCOP                 7.0      # .6.0
SHARED_LIBS +=	kdefx                7.0      # .6.0
SHARED_LIBS +=	kdefakes             7.0      # .6.0
SHARED_LIBS +=	kdecore              7.0      # .6.0
SHARED_LIBS +=	kunittest            2.0      # .1.0
SHARED_LIBS +=	kdeui                8.0      # .6.0
SHARED_LIBS +=	kspell               7.0      # .6.0
SHARED_LIBS +=	kdesu                7.0      # .6.0
SHARED_LIBS +=	kjs                  5.0      # .3.0
SHARED_LIBS +=	kwalletclient        2.0      # .1.1
SHARED_LIBS +=	kwalletbackend       2.0      # .1.0
SHARED_LIBS +=	kio                  7.0      # .6.0
SHARED_LIBS +=	kdesasl              4.0      # .3.0
SHARED_LIBS +=	kntlm                1.0      # .0.0
SHARED_LIBS +=	artskde              4.0      # .3.0
SHARED_LIBS +=	kdnssd               2.0      # .1.0
SHARED_LIBS +=	knewstuff            2.0      # .1.0
SHARED_LIBS +=	kparts               4.0      # .3.0
SHARED_LIBS +=	kresources           4.0      # .3.0
SHARED_LIBS +=	kutils               4.0      # .3.0
SHARED_LIBS +=	kmid                 1.0      # .0.95
SHARED_LIBS +=	kscreensaver         7.0      # .6.0
SHARED_LIBS +=	kdeprint             7.0      # .6.0
SHARED_LIBS +=	kdeprint_management  7.0      # .6.0
SHARED_LIBS +=	vcard                1.0      # .0.0
SHARED_LIBS +=	kabc                 4.0      # .3.0
SHARED_LIBS +=	kabc_file            2.0      # .1.0
SHARED_LIBS +=	kabc_dir             2.0      # .1.0
SHARED_LIBS +=	kabc_ldapkio         2.0      # .1.0
SHARED_LIBS +=	kspell2              2.0      # .1.0
SHARED_LIBS +=	kmdi2                2.0      # .1.0
SHARED_LIBS +=	kmdi                 2.0      # .1.0
SHARED_LIBS +=	kjava                2.0      # .1.0
SHARED_LIBS +=	khtml                7.0      # .6.0
SHARED_LIBS +=	ktexteditor          1.0      # .0.0
SHARED_LIBS +=	kscript              1.0      # .0.0
SHARED_LIBS +=	kmediaplayer         1.0      # .0.0
SHARED_LIBS +=	kimproxy             1.0      # .0.0
SHARED_LIBS +=	katepartinterfaces   1.0      # .0.0

WANTLIB-main += ${MODGETTEXT_WANTLIB}
WANTLIB-main += FLAC GL ICE SM X11
WANTLIB-main += X11-xcb Xau Xcursor Xdamage Xdmcp Xext Xfixes Xft Xi
WANTLIB-main += Xinerama Xmu Xrandr Xrender Xt Xxf86vm art_lgpl_2 artsflow
WANTLIB-main += artsflow_idl aspell audiofile avahi-client avahi-common
WANTLIB-main += bz2 c dbus-1 dns_sd drm expat fam fontconfig
WANTLIB-main += freetype glapi glib-2.0 gmodule-2.0 gthread-2.0
WANTLIB-main += idn jasper jpeg kmedia2_idl lcms lzma m mad
WANTLIB-main += mcop mng ogg pcre pcreposix png pthread pthread-stubs
WANTLIB-main += qt-mt qtmcop sndio soundserver_idl ${COMPILER_LIBCXX} tiff
WANTLIB-main += util vorbis vorbisenc vorbisfile xcb xcb-dri2
WANTLIB-main += xcb-glx xml2 xslt z
WANTLIB-langlist =

MULTI_PACKAGES =	-main -langlist

MODULES =		x11/kde devel/gettext

RUN_DEPENDS-langlist =
RUN_DEPENDS-main =	${RUN_DEPENDS} \
			kde3-langlist-*|kde4-langlist-*:${BUILD_PKGPATH},-langlist \
			devel/desktop-file-utils \
			x11/gtk+3,-guic

LIB_DEPENDS-langlist =
LIB_DEPENDS-main =	${LIB_DEPENDS} \
			archivers/bzip2 \
			devel/libidn \
			devel/pcre \
			graphics/jasper \
			graphics/libart \
			graphics/tiff \
			net/avahi \
			sysutils/gamin \
			textproc/aspell/core \
			textproc/libxslt>=1.0.10 \
			x11/kde/arts3

TEST_IS_INTERACTIVE =	X11

SEPARATE_BUILD =	flavored

# broken with cups>=1.6.0
CONFIGURE_ARGS =	--disable-cups \
			--without-lua \
			--without-gssapi \
			--without-openexr

MODGNU_AUTOCONF_FILES +=	dcop/dcop-path.h.in

pre-configure:
	@@perl -pi -e 's,!!LOCALBASE!!,${LOCALBASE},g' \
		${WRKSRC}/kdeprint/cups/kmcupsmanager.cpp

.include <bsd.port.mk>
@


1.154
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2017/04/19 13:23:24 espie Exp $
d15 2
a16 2
REVISION-main =		42
REVISION-langlist =	1
@


1.153
log
@clang is rightfully annoyed at exr having throw() in its API and
qt/kde being compiled -fno-exceptions.

this can't really work at runtime anyway. Remove openexr there.
Eventually, exceptions might be better behaved and working these
days.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2017/04/10 11:46:36 sthen Exp $
d69 1
a69 1
WANTLIB-main += qt-mt qtmcop sndio soundserver_idl ${LIBCXX} tiff
@


1.152
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2017/01/26 06:19:58 zhuk Exp $
d15 1
a15 1
REVISION-main =		41
d61 1
a61 1
WANTLIB-main += FLAC GL Half ICE Iex IexMath IlmImf IlmThread Imath SM X11
a90 1
			graphics/openexr \
d105 2
a106 1
			--without-gssapi
@


1.151
log
@Unbreak after recent LibreSSL changes. Please keep LibreSSL devs out!

(I hope beck@@ have a good ophthalmologist, because medical maintenance
is required after looking in that code)

prodded by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.150 2017/01/25 11:55:47 zhuk Exp $
d69 1
a69 1
WANTLIB-main += qt-mt qtmcop sndio soundserver_idl stdc++ tiff
@


1.150
log
@Mark KDE3 as broken until build issues (after recent LibreSSL changes)
are resolved.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.149 2016/06/29 16:14:45 espie Exp $
a2 1
BROKEN =		fallout after changes in LibreSSL
d15 1
a15 1
REVISION-main =		40
@


1.149
log
@add is-branch to all trivial ports that exist as multiple branches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.148 2016/04/15 00:04:45 sthen Exp $
d3 1
@


1.148
log
@perl 5.22 fix
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2015/09/22 18:47:52 pascal Exp $
d15 1
a15 1
REVISION-main =		39
@


1.147
log
@sync WANTLIB after openexr update

ok zhuk@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2015/06/10 21:42:26 sthen Exp $
d15 1
a15 1
REVISION-main =		38
@


1.146
log
@sync wantlib, mostly lzma (from xml2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2015/04/04 09:21:08 ajacoutot Exp $
d15 1
a15 1
REVISION-main =		37
d61 1
a61 1
WANTLIB-main += FLAC GL Half ICE Iex IlmImf IlmThread Imath SM X11
@


1.145
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2015/03/27 08:16:18 ajacoutot Exp $
d15 1
a15 1
REVISION-main =		36
d67 1
a67 1
WANTLIB-main += idn jasper jpeg kmedia2_idl lcms m mad
@


1.144
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2014/04/29 22:02:18 zhuk Exp $
d15 2
a16 2
REVISION-main =		35
REVISION-langlist =	0
@


1.143
log
@Fix tests, no package change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2014/04/21 23:15:23 sthen Exp $
d15 2
a16 1
REVISION-main =		34
d82 1
a82 1
			x11/gtk+2,-guic
@


1.142
log
@sync wantlib and disable gssapi
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2014/04/21 19:21:54 sthen Exp $
d97 2
@


1.141
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2013/12/25 15:47:30 zhuk Exp $
d15 1
a15 1
REVISION-main =		33
d63 4
a66 4
WANTLIB-main += artsflow_idl asn1 aspell audiofile avahi-client avahi-common
WANTLIB-main += bz2 c com_err crypto dbus-1 dns_sd drm expat fam fontconfig
WANTLIB-main += freetype glapi glib-2.0 gmodule-2.0 gssapi gthread-2.0
WANTLIB-main += heimbase idn jasper jpeg kmedia2_idl krb5 lcms m mad
d68 2
a69 2
WANTLIB-main += qt-mt qtmcop roken sndio soundserver_idl stdc++ tiff
WANTLIB-main += util vorbis vorbisenc vorbisfile wind xcb xcb-dri2
d102 2
a103 1
			--without-lua
@


1.140
log
@Allow installation side-by-side with kdelibs-4.x. Yes, you've read it right.

Please note: the build tags are NOT removed because some ports have problems
still. They will be fixed as soon as possible, but actual deconflicting has
higher priority now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2013/12/23 19:23:01 zhuk Exp $
d15 1
a15 1
REVISION-main =		32
d59 12
a70 12
WANTLIB-main =  asn1 crypto gssapi util jpeg krb5 m FLAC X11
WANTLIB-main += ICE Xrender c SM pthread stdc++ Xext z png
WANTLIB-main += Xau Xdmcp pthread-stubs xcb art_lgpl_2 idn
WANTLIB-main += fam>=1
WANTLIB-main +=	GL Half Iex IlmImf>=4 IlmThread Imath Xcursor Xdamage Xfixes
WANTLIB-main +=	Xft Xi Xinerama Xmu Xrandr Xt Xxf86vm artsflow>=1
WANTLIB-main +=	artsflow_idl aspell audiofile avahi-client avahi-common bz2
WANTLIB-main +=	dbus-1 dns_sd drm expat fontconfig freetype glib-2.0
WANTLIB-main +=	gmodule-2.0 gthread-2.0 jasper kmedia2_idl lcms mad mcop mng
WANTLIB-main +=	ogg pcre pcreposix qtmcop sndio soundserver_idl tiff>=35
WANTLIB-main +=	vorbis vorbisenc vorbisfile xml2 xslt>=1.10
WANTLIB-main += com_err heimbase roken wind
@


1.139
log
@Make KDE 3 apps look for *.kde3 folders for resources before traditional ones.
This is required to make KDE 3 and 4 co-exist.

Tested on i386 with fat KDE3 profile on many apps, found no regressions.
If you see any (like losing configuration parameters or app data), please,
report immediately. Don't worry, your data is likely to be fine, it's just
the app who cannot find them now. Unfortunately, there is no other way.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2013/12/23 12:36:50 zhuk Exp $
d15 1
a15 1
REVISION-main =		31
@


1.138
log
@preparetips is only used during KDE development. It's unlikely someone will
ever continue development of localized KDE 3 apps. So comment out this entry
in PLIST.

Now we have no conflicting items between kdelibs-3.x and kdelibs-4.x, but
two more steps need to be done before removing dpb tags from them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2013/12/22 19:34:05 zhuk Exp $
d15 1
a15 1
REVISION-main =		30
@


1.137
log
@I never committed the splitting -colors diff, actually, so put them back in
the -main.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2013/12/22 19:29:40 zhuk Exp $
d15 1
a15 1
REVISION-main =		29
@


1.136
log
@Oops, missed the main part of previous commit:

Next KDE deconflicting step: rename share/config/ to share/config.kde3/ and
share/config.kcfg/ to share/config.kcfg.kde3/. Tested on i386, including
run-time tests (not for all apps, though).

After this commit, there are only two conflicting files in kdelibs 3.x and
4.x packages left - to be solved soon.

spurring from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2013/11/25 14:16:23 sthen Exp $
d15 1
a15 1
REVISION-main =		28
@


1.135
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2013/11/24 19:56:30 zhuk Exp $
d15 1
a15 1
REVISION-main =		27
@


1.134
log
@Split some locale-specific files out of kdelibs, kdebase and kde-runtime
into some sort of interchangeable subpackages. The idea is that each version
of KDE being installed picks up it's own version of locale-specific package
by default, and KDE4's one doesn't update to KDE3's one automatically, but
can replace it on explicit pkg_add call.

Most of the Makefiles are bumps needed after splitting x11/kde4/libs.

This is a part of KDE3/4 deconflicting work.

hardly tested by landry@@ in a bulk build
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2013/10/30 21:02:30 zhuk Exp $
a57 2

VMEM_WARNING =	Yes
@


1.133
log
@Zap -cups completely, and cleanup Makefile while there. Needed to make
upcoming diff readable.

okay landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2013/10/22 11:34:05 zhuk Exp $
d7 1
d13 3
a15 1
REVISION-main =		26
d73 1
d75 1
a75 1
MULTI_PACKAGES =	-main
d79 1
d81 1
d85 1
@


1.132
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2013/10/16 16:35:15 jasper Exp $
a6 1
COMMENT-cups =		K Desktop Environment, cups support
a9 2
MASTER_SITES0 =  	ftp://ftp.kde.org/pub/kde/security_patches/

d12 1
a12 1
PKGNAME-cups =		kdecups-${VERSION}
d58 4
a61 45

MULTI_PACKAGES =	-main # -cups
# broken with cups>=1.6.0
CONFIGURE_ARGS += 	--disable-cups \
			--without-lua

MODULES =	x11/kde devel/gettext

LIB_DEPENDS =	graphics/libart \
		devel/libidn \
		sysutils/gamin 

WANTLIB =	asn1 crypto gssapi util jpeg krb5 m FLAC X11 \
		ICE Xrender c SM pthread stdc++ Xext z png \
		Xau Xdmcp pthread-stubs xcb art_lgpl_2 idn \
		fam>=1

LIB_DEPENDS-main =	\
	${LIB_DEPENDS} \
	x11/kde/arts3 \
	devel/pcre \
	textproc/libxslt>=1.0.10 \
	archivers/bzip2 \
	graphics/tiff \
	graphics/jasper \
	graphics/openexr \
	textproc/aspell/core \
	net/avahi


RUN_DEPENDS-main = \
	${RUN_DEPENDS} \
	x11/gtk+2,-guic \
	devel/desktop-file-utils

LIB_DEPENDS-cups = \
	${LIB_DEPENDS} \
	x11/kde/libs3 \
	print/cups,-libs


REVISION-main = 25
REVISION-cups = 13

WANTLIB-main =	${WANTLIB} 
d71 1
a71 5
WANTLIB-cups = ${WANTLIB}
WANTLIB-cups += DCOP cups lib/kde3/kdecore>=6 lib/kde3/kdefakes \
	lib/kde3/kdefx lib/kde3/kdeprint lib/kde3/kdeprint_management \
	lib/kde3/kdesu lib/kde3/kdeui lib/kde3/kio lib/kde3/kparts \
	lib/kde3/kwalletclient ssl
d73 19
d95 6
a105 2

MODGNU_AUTOCONF_FILES +=	dcop/dcop-path.h.in
@


1.131
log
@don't bother trying to build these on sgi only to fail; same reason as alpha
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2013/10/05 07:34:39 espie Exp $
d16 3
a18 1
MODKDE_VERSION =		3.5.8
d102 2
a103 2
REVISION-main = 24
REVISION-cups = 12
a122 4
SAMPLECONFDIR =		${TRUEPREFIX}/share/apps/kde-conf-sample
EXTRA_CONFIG =		xdg/menus/applications.menu

FAKE_FLAGS =		sysconfdir=${SAMPLECONFDIR}
@


1.130
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2013/09/04 18:17:54 landry Exp $
d4 1
@


1.129
log
@Mark as BROKEN-alpha: .got subsegment exceeds 64K
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2013/06/20 06:54:38 ajacoutot Exp $
d13 1
d100 1
a100 1
REVISION-cups = 11
@


1.128
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.127 2013/06/17 19:31:32 ajacoutot Exp $
@


1.127
log
@Unbreak with new Heimdal; get rid of self-cooked krb5-config since we
have it in base now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2013/03/19 13:07:14 nigel Exp $
d96 2
a97 2
REVISION-main = 23
REVISION-cups = 10
d107 1
a107 1
WANTLIB-main += com_err heimbase heimntlm hx509 roken wind
@


1.126
log
@WANTLIB updates for fontconfig and other libraries.

Ok sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2013/01/23 21:10:38 zhuk Exp $
d96 1
a96 1
REVISION-main = 22
d107 1
a120 4

post-extract:
	cp ${FILESDIR}/krb5-config ${WRKDIR}/bin
	chmod a+x ${WRKDIR}/bin/krb5-config
@


1.125
log
@Move KDE 3 headers from ${PREFIX}/include to ${PREFIX}/include/kde.
Updates to dependant ports to follow.

Tested in a bulk, input and okay by landry@@
Reviewed by aja@@ too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2013/01/21 19:12:21 zhuk Exp $
d67 1
a67 1
WANTLIB =	asn1 crypto gssapi util jpeg krb5 m X11 \
a83 1
WANTLIB-main =	${WANTLIB} avahi-client avahi-common dbus-1 dns_sd
a94 1
WANTLIB-cups = ${WANTLIB}
d96 1
a96 1
REVISION-main = 21
d98 11
a108 4
WANTLIB-main += Half Iex IlmImf>=4 IlmThread Imath artsflow>=1 \
	artsflow_idl aspell audiofile bz2 glib-2.0 gmodule-2.0 gthread-2.0 \
	jasper kmedia2_idl mad mcop ogg pcre pcreposix qtmcop sndio \
	soundserver_idl tiff>=35 vorbis vorbisenc vorbisfile xml2 xslt>=1.10
@


1.124
log
@Fix a decade old KDE bug regarding cross-domain cookies handling:
http://paritynews.com/software/item/569-decade-old-kde-bug-fixed

"sure" ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2013/01/14 12:35:19 zhuk Exp $
d98 1
a98 1
REVISION-main = 20
@


1.123
log
@Unbreak FLAVORs for KDE 3.

ok by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2013/01/13 19:35:42 zhuk Exp $
d98 1
a98 1
REVISION-main = 19
@


1.122
log
@Enable Avahi support in KDE 3. Tested in a bulk build by landry@@.
okay by espie@@ and ajacoutot@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2013/01/11 16:20:00 zhuk Exp $
a52 1
FLAVORS =	debug
@


1.121
log
@Force disabling of Lua, kdelibs-3.5 tries to detect it otherwise.
Lua was used for scripts in Kate and nobody missed it until now.

okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2012/08/04 14:51:38 ajacoutot Exp $
d82 2
a83 1
	textproc/aspell/core
d85 1
a85 1
WANTLIB-main = ${WANTLIB}
d99 1
a99 1
REVISION-main = 18
@


1.120
log
@Don't build kdecups for now; it is broken with cups >= 1.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2012/06/15 08:30:23 ajacoutot Exp $
d59 2
a60 1
CONFIGURE_ARGS += 	--disable-cups
@


1.119
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2012/01/01 09:03:20 ajacoutot Exp $
d57 3
a59 2
MULTI_PACKAGES =	-main -cups
CONFIGURE_ARGS += 	--enable-cups
d93 1
a93 1
	print/cups>=1.5
@


1.118
log
@Bump after sysutils/gamin -main subpackage changed PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2011/12/03 18:46:30 ajacoutot Exp $
d96 2
a97 2
REVISION-main = 17
REVISION-cups = 9
@


1.117
log
@We want @@unexec-delete here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2011/12/03 18:35:11 ajacoutot Exp $
d96 2
a97 2
REVISION-main = 16
REVISION-cups = 8
@


1.116
log
@Adapt after gtk+2,-guic split.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2011/09/16 12:29:16 espie Exp $
d96 1
a96 1
REVISION-main = 15
@


1.115
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2011/09/08 10:34:43 ajacoutot Exp $
d86 1
a86 1
	x11/hicolor-icon-theme \
d96 1
a96 1
REVISION-main = 14
@


1.114
log
@Fix build fix cups >=1.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2011/05/19 14:43:17 ajacoutot Exp $
d96 2
a97 2
REVISION-main = 13
REVISION-cups = 7
@


1.113
log
@We want to use @@unexec here and not @@unexec-delete.
The reason is that if a theme is removed after updating to a new version,
then we are left over with a useless cache file because we are using
pkg_add -u and not pkg_delete.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2011/05/11 08:03:24 ajacoutot Exp $
d92 1
a92 1
	print/cups
d97 1
a97 1
REVISION-cups = 6
@


1.112
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2010/11/22 08:37:02 espie Exp $
d96 1
a96 1
REVISION-main = 12
@


1.111
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2010/10/06 08:13:31 landry Exp $
d96 1
a96 1
REVISION-main = 11
@


1.110
log
@Unbreak after openssl update, diff from kili@@, commiting on his behalf.
Similar diff from benoit@@ on ports..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2010/07/10 12:44:30 espie Exp $
d62 3
a64 3
LIB_DEPENDS =	::graphics/libart \
		::devel/libidn \
		::sysutils/gamin 
d69 1
a69 1
		fam.>=1
d73 8
a80 8
	::x11/kde/arts3 \
	::devel/pcre \
	:libxslt->=1.0.10:textproc/libxslt \
	::archivers/bzip2 \
	::graphics/tiff \
	::graphics/jasper \
	::graphics/openexr \
	::textproc/aspell/core
d86 2
a87 2
	::x11/hicolor-icon-theme \
	:desktop-file-utils-*:devel/desktop-file-utils
d91 2
a92 2
	::x11/kde/libs3 \
	::print/cups
d98 1
a98 1
WANTLIB-main += Half Iex IlmImf.>=4 IlmThread Imath artsflow.>=1.0 \
d101 2
a102 2
	soundserver_idl tiff.>=35 vorbis vorbisenc vorbisfile xml2 xslt.>=1.10
WANTLIB-cups += DCOP cups lib/kde3/kdecore.>=6 lib/kde3/kdefakes \
@


1.109
log
@use REVISION instead of hardcoding p-numbers.

Note the way REVISION and WANTLIB are defined.
This is (more or less) the Makefile portion that lib-depends-check is supposed
to handle eventually...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2010/07/08 21:28:49 espie Exp $
d96 1
a96 1
REVISION-main = 10
@


1.108
log
@clean-up AND small changes:
- copy libs over to lib/kde3 (to prepare coexistence with kde4, eventually)
- move lib depends over to WANTLIB
- update WANTLIB for recent changes
- create links to avoid pkg_create protests over non existing links
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2010/05/15 08:48:01 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main =		${DISTNAME}p10
PKGNAME-cups =		kdecups-${VERSION}p6
d82 1
a82 5
WANTLIB-main = ${WANTLIB} Half Iex IlmImf.>=4 IlmThread Imath artsflow.>=1.0 \
	artsflow_idl aspell audiofile bz2 glib-2.0 gmodule-2.0 gthread-2.0 \
	jasper kmedia2_idl mad mcop ogg pcre pcreposix qtmcop sndio \
	soundserver_idl tiff.>=35 vorbis vorbisenc vorbisfile xml2 xslt.>=1.10

d94 9
a102 1
WANTLIB-cups = ${WANTLIB} DCOP cups lib/kde3/kdecore.>=6 lib/kde3/kdefakes \
@


1.107
log
@Add missing gtk-update-icon-cache goos.

ok landry@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2009/12/21 20:46:01 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main =		${DISTNAME}p9
PKGNAME-cups =		kdecups-${VERSION}p5
a40 1
SHARED_LIBS +=	kabc_net             2.0      # .1.0
d62 4
a65 3
LIB_DEPENDS =	art_lgpl_2::graphics/libart \
		idn::devel/libidn \
		fam.>=1::sysutils/gamin 
d68 2
a69 1
		Xau Xdmcp pthread-stubs xcb
d73 13
a85 15
	artsflow.>=1.0,artsflow_idl,qtmcop,soundserver_idl,mcop,kmedia2_idl::x11/kde/arts3 \
	pcreposix,pcre::devel/pcre \
	xslt.>=1.10:libxslt->=1.0.10:textproc/libxslt \
	bz2::archivers/bzip2 \
	tiff.>=35::graphics/tiff \
	jasper::graphics/jasper \
	IlmImf.>=4::graphics/openexr \
	aspell::textproc/aspell/core

WANTLIB-main =	${WANTLIB} \
		Half Iex IlmThread Imath \
		audiofile glib-2.0 \
		gmodule-2.0 gthread-2.0 mad ogg \
		sndio vorbisenc vorbis vorbisfile \
		xml2
d95 2
a96 2
	kdecore.>=6,kwalletclient,kdefakes,kdefx,kdeprint,kio,kparts,kdeui,kdesu,kdeprint_management,DCOP::x11/kde/libs3 \
	cups::print/cups
d98 4
a101 2
WANTLIB-cups =	${WANTLIB} \
		ssl
d118 1
a118 2
post-install:
	${INSTALL_SCRIPT} ${WRKBUILD}/libtool ${PREFIX}/bin/kdelibtool
a119 1
.include <bsd.port.mk>
@


1.106
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2009/12/04 16:05:57 pea Exp $
d10 1
a10 1
PKGNAME-main =		${DISTNAME}p7
@


1.105
log
@Fix LIB_DEPENDS

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2009/12/04 08:09:57 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main =		${DISTNAME}p6
@


1.104
log
@Use gamin instead of fam.

ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2009/12/02 15:39:39 ajacoutot Exp $
d65 1
a65 1
		fam.>=1::sysutils/gamin \
@


1.103
log
@Fix merged menu directory location.
The way it works is the following:
* all desktops install their main menu as blah-applications.menu
(e.g. kde3-applications.menu)
* however, we do not want the merged directory name to be constructed
from the menu name, because we want all applications and desktops to
install merged files into the same directory: applications-merged, so
that everyone benefit from it.

Issue reported by Daniel LEVAI on ports@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2009/11/23 08:20:45 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main =		${DISTNAME}p5
PKGNAME-cups =		kdecups-${VERSION}p4
d65 1
a65 1
		fam::sysutils/fam
d67 1
a67 1
		ICE Xrender c SM pthread stdc++ Xext z png rpcsvc \
@


1.102
log
@Unbreak packaging: regen WANTLIB after CUPS gnutls -> openssl move.

spotted by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2009/11/14 16:41:03 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main =		${DISTNAME}p4
@


1.101
log
@Respect XDG_MENU_PREFIX instead of using the hardcoded applications.menu
and remove the symlink hack.

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2009/10/27 14:38:15 jasper Exp $
d11 1
a11 1
PKGNAME-cups =		kdecups-${VERSION}p3
d100 1
a100 1
		gcrypt gnutls gpg-error tasn1
@


1.100
log
@- adapt patch now that we have ENOTSUP defined
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2009/08/27 19:44:38 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main =		${DISTNAME}p3
@


1.99
log
@Use the gettext module.

ok landry@@ on an earlier diff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2009/08/11 08:40:40 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main =		${DISTNAME}p2
PKGNAME-cups =		kdecups-${VERSION}p2
@


1.98
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2009/06/12 20:01:09 kili Exp $
d10 2
a11 2
PKGNAME-main =		${DISTNAME}p1
PKGNAME-cups =		kdecups-${VERSION}p1
d61 2
d66 1
a66 1
WANTLIB =	asn1 crypto gssapi iconv intl util jpeg krb5 m X11 \
@


1.97
log
@
Move dependencies common to  -main and -cups to WANTLIB.
Fix WANTLIB-cups  and bump (no change for -main).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2009/01/29 22:28:58 jakemsr Exp $
d10 2
a11 2
PKGNAME-main =		${DISTNAME}p0
PKGNAME-cups =		kdecups-${VERSION}p0
d66 1
a66 1
		Xau Xdmcp
@


1.96
log
@* add sndio backend for artsd
* use audio(4) instead of ossaudio(3) in kdemultimedia3 as much as
  possible
* sync WANTLIB in dependant ports

testing/prodding from todd@@.  briefly discussed with naddy@@, ajacoutot@@
and jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2008/08/26 16:52:29 espie Exp $
d11 1
a11 1
PKGNAME-cups =		kdecups-${VERSION}
d64 3
a66 2
WANTLIB =	iconv intl util jpeg m X11 ICE Xrender c SM pthread \
		stdc++ Xext z png rpcsvc Xau Xdmcp
d84 1
a84 1
		xml2 krb5 gssapi crypto asn1
d98 1
a98 1
		crypto ssl
@


1.95
log
@start updating to kde 3.5.10

style issues, regen with new make plist.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2008/07/25 20:25:59 sthen Exp $
d10 1
a10 1
PKGNAME-main =		${DISTNAME}
d80 1
a80 1
		audiofile esd glib-2.0 \
d82 1
a82 1
		ossaudio vorbisenc vorbis vorbisfile \
@


1.94
log
@shared library and PKGNAME bumps due to use of isinf/isnan/nan
following libc/libm changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2008/04/11 16:16:55 jasper Exp $
d3 10
a12 10
COMMENT-main=		K Desktop Environment, libraries
COMMENT-cups=		K Desktop Environment, cups support
CATEGORIES=		x11 x11/kde
VERSION=		3.5.9
DISTNAME=		kdelibs-${VERSION}
MASTER_SITES0=  ftp://ftp.kde.org/pub/kde/security_patches/

PKGNAME-main=		${DISTNAME}p1
PKGNAME-cups=		kdecups-${VERSION}
MODKDE_VERSION=		3.5.8
d54 2
a55 2
FLAVORS=debug
VMEM_WARNING=	Yes
d58 2
a59 2
MULTI_PACKAGES=	-main -cups
CONFIGURE_ARGS+= --enable-cups
d61 1
a61 1
LIB_DEPENDS=	art_lgpl_2::graphics/libart \
d64 1
a64 1
WANTLIB=	iconv intl util jpeg m X11 ICE Xrender c SM pthread \
d67 10
a76 9
LIB_DEPENDS-main=${LIB_DEPENDS} \
		artsflow.>=1.0,artsflow_idl,qtmcop,soundserver_idl,mcop,kmedia2_idl::x11/kde/arts3 \
		pcreposix,pcre::devel/pcre \
		xslt.>=1.10:libxslt->=1.0.10:textproc/libxslt \
		bz2::archivers/bzip2 \
		tiff.>=35::graphics/tiff \
		jasper::graphics/jasper \
		IlmImf.>=4::graphics/openexr \
		aspell::textproc/aspell/core
d78 1
a78 1
WANTLIB-main=	${WANTLIB} \
d86 9
a94 7
RUN_DEPENDS-main=${RUN_DEPENDS} \
		::x11/hicolor-icon-theme \
		:desktop-file-utils-*:devel/desktop-file-utils

LIB_DEPENDS-cups=${LIB_DEPENDS} \
		kdecore.>=6,kwalletclient,kdefakes,kdefx,kdeprint,kio,kparts,kdeui,kdesu,kdeprint_management,DCOP::x11/kde/libs3 \
		cups::print/cups
d96 1
a96 1
WANTLIB-cups=	${WANTLIB} \
d100 3
a102 3
SEPARATE_BUILD=	flavored
SAMPLECONFDIR=${TRUEPREFIX}/share/apps/kde-conf-sample
EXTRA_CONFIG=xdg/menus/applications.menu
d104 1
a104 1
FAKE_FLAGS=	sysconfdir=${SAMPLECONFDIR}
d118 1
a118 1
MODGNU_AUTOCONF_FILES+= dcop/dcop-path.h.in
@


1.93
log
@- bumping distnames makes no sense :)

spotted by naddy@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2008/04/11 11:24:03 jasper Exp $
d10 1
a10 1
PKGNAME-main=		${DISTNAME}p0
d18 1
a18 1
SHARED_LIBS +=	kdeui                7.0      # .6.0
d21 1
a21 1
SHARED_LIBS +=	kjs                  4.0      # .3.0
@


1.92
log
@- fix WANTLIB/LIB_DEPENDS after recent openexr update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2008/03/25 11:45:08 espie Exp $
d7 1
a7 1
DISTNAME=		kdelibs-${VERSION}p0
d10 1
a10 1
PKGNAME-main=		${DISTNAME}
@


1.91
log
@start updating to 3.5.9, small piece by small piece
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2008/02/14 18:02:10 ajacoutot Exp $
d7 1
a7 1
DISTNAME=		kdelibs-${VERSION}
d74 1
a74 1
		Half,Iex,Imath,IlmImf::graphics/openexr	\
d78 1
@


1.90
log
@- make it possible to choose between different menu layouts (kde3, gnome)
using symlinks instead of being stuck with whatever was installed first

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2008/01/25 17:36:17 ajacoutot Exp $
d6 1
a6 1
VERSION=		3.5.8
d10 1
a10 1
PKGNAME-main=		${DISTNAME}p3
@


1.89
log
@- bin/fileshareset is commented in PLIST-main; since bin/filesharelist
is a symlink to bin/fileshareset, @@comment it too

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2008/01/04 17:48:38 espie Exp $
d10 1
a10 1
PKGNAME-main=		${DISTNAME}p2
@


1.88
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2007/12/18 16:00:12 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main=		${DISTNAME}p1
@


1.87
log
@- make sure RUN_DEPENDS-main inherits RUN_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2007/12/15 23:47:41 ajacoutot Exp $
d100 1
a100 1
FAKE_FLAGS=DESTDIR=${WRKINST} sysconfdir=${SAMPLECONFDIR}
@


1.86
log
@- add update-desktop-database goo

"looks ok" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2007/10/24 21:52:17 espie Exp $
d10 1
a10 1
PKGNAME-main=		${DISTNAME}p0
d84 2
a85 1
RUN_DEPENDS-main=::x11/hicolor-icon-theme \
@


1.85
log
@update to 3.5.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2007/10/06 12:47:20 ajacoutot Exp $
d10 1
a10 1
PKGNAME-main=		${DISTNAME}
d84 2
a85 1
RUN_DEPENDS-main=::x11/hicolor-icon-theme
@


1.84
log
@- enhance CUPS support:
 * correct PATH for foomatic db files (asked by ian@@)
 * make it possible to restart the server from kcontrol (using pgreg
 instead of /proc - from FreeBSD)
 * fix WANTLIB
This changes make it possible to use kcontrol to easily
add/change/configure your printers when using CUPS.

- while here, don't try to strip the kdelibtool script
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2007/09/15 20:04:21 merdely Exp $
d6 1
a6 1
VERSION=		3.5.7
a8 1
#PATCHFILES=	post-3.4.3-kdelibs-kjs.diff:0
d10 3
a12 3
PKGNAME-main=		${DISTNAME}p1
PKGNAME-cups=		kdecups-${VERSION}p0
MODKDE_VERSION=		3.5.7
d64 1
a64 1
WANTLIB=	iconv util jpeg m X11 ICE Xrender c SM pthread \
d77 1
a77 1
WANTLIB-main=	${WANTLIB} intl \
@


1.83
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2007/08/25 08:03:02 espie Exp $
d11 2
a12 2
PKGNAME-main=		${DISTNAME}p0
PKGNAME-cups=		kdecups-${VERSION}
d65 1
a65 1
WANTLIB=	intl iconv util jpeg m X11 ICE Xrender c SM pthread \
d78 1
a78 1
WANTLIB-main=	${WANTLIB} \
d100 1
a100 1
	
d105 4
d110 1
a110 1
	${INSTALL_PROGRAM} ${WRKBUILD}/libtool ${PREFIX}/bin/kdelibtool
@


1.82
log
@CVE-2007-4224
CVE-2007-3820
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2007/05/25 09:49:54 espie Exp $
d3 2
a4 2
COMMENT-main=		"K Desktop Environment, libraries"
COMMENT-cups=		"K Desktop Environment, cups support"
@


1.81
log
@update a large subset of kde 3 to 3.5.7.
Simplify the infrastructure a bit, and let it compile with libfam, now...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2007/05/09 11:31:43 bernd Exp $
d11 1
a11 1
PKGNAME-main=		${DISTNAME}
@


1.80
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2007/03/31 23:33:34 espie Exp $
d6 1
a6 1
VERSION=		3.5.6
d11 3
a13 3
PKGNAME-main=		${DISTNAME}p2
PKGNAME-cups=		kdecups-${VERSION}p1
MODKDE_VERSION?=	3.5.3
d63 2
a64 1
		idn::devel/libidn
d66 1
a66 1
		stdc++ Xext z png
a94 1
USE_X11=	Yes
a107 2
USE_LIBTOOL=Yes
LIBTOOL_FLAGS=--tag=disable-static
@


1.79
log
@regen patches. fix long character decode.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2007/03/28 00:21:06 espie Exp $
d11 2
a12 2
PKGNAME-main=		${DISTNAME}p1
PKGNAME-cups=		kdecups-${VERSION}p0
@


1.78
log
@adjust for cups change (there is still stuff to do wrt xenocara and WANTLIB)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2007/02/02 13:18:30 espie Exp $
d11 1
a11 1
PKGNAME-main=		${DISTNAME}p0
@


1.77
log
@revert minor fix for khtml that breaks a lot of stuff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2007/01/28 13:18:51 espie Exp $
d12 1
a12 1
PKGNAME-cups=		kdecups-${VERSION}
d91 1
a91 1
		gcrypt gnutls gpg-error
@


1.77.2.1
log
@- backport security fixes
CVE-2007-4224
CVE-2007-3820

input and ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2007/02/02 13:18:30 espie Exp $
d11 1
a11 1
PKGNAME-main=		${DISTNAME}p3
@


1.76
log
@kde 3.5.6 update, missing bindings and l10n.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2006/12/16 12:22:36 espie Exp $
d11 1
a11 1
PKGNAME-main=		${DISTNAME}
@


1.75
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2006/11/20 23:48:04 espie Exp $
d6 1
a6 1
VERSION=		3.5.5
d11 1
a11 1
PKGNAME-main=		${DISTNAME}p0
@


1.74
log
@switch to new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2006/11/20 08:07:41 steven Exp $
a60 2

BUILD_DEPENDS= ::devel/pkgconfig
@


1.73
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2006/10/28 11:52:13 espie Exp $
d3 1
a3 1
COMMENT=		"K Desktop Environment, libraries"
d11 1
a11 1
PKGNAME=		${DISTNAME}
d59 1
a59 1
MULTI_PACKAGES=	-cups
d62 1
a62 1
SUBPACKAGE?=
d64 3
a66 4
BUILD_DEPENDS+= ::devel/pkgconfig
LIB_DEPENDS+=	art_lgpl_2::graphics/libart
LIB_DEPENDS+=	idn::devel/libidn
WANTLIB+=	intl iconv util jpeg m X11 ICE Xrender c SM pthread \
d69 2
a70 5
USE_X11=	Yes

.if !defined(PACKAGING) || ${SUBPACKAGE:L} == ""

LIB_DEPENDS+=	artsflow.>=1.0,artsflow_idl,qtmcop,soundserver_idl,mcop,kmedia2_idl::x11/kde/arts3 \
d75 3
a77 1
		jasper::graphics/jasper
d79 2
a80 1
WANTLIB+=	audiofile esd glib-2.0 \
d86 8
a93 4
LIB_DEPENDS+=	Half,Iex,Imath,IlmImf::graphics/openexr	\
		aspell::textproc/aspell/core
RUN_DEPENDS+=	::x11/hicolor-icon-theme
.endif
a94 8
.if !defined(PACKAGING) || ${SUBPACKAGE:L} == "-cups"
LIB_DEPENDS+=	cups::print/cups
WANTLIB+=	gcrypt gnutls gpg-error
.endif

.if defined(PACKAGING) && ${SUBPACKAGE:L} == "-cups"
LIB_DEPENDS+=	kdecore.>=6,kwalletclient,kdefakes,kdefx,kdeprint,kio,kparts,kdeui,kdesu,kdeprint_management,DCOP::x11/kde/libs3
.endif
d96 1
@


1.72
log
@new format for SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2006/10/12 23:12:19 espie Exp $
d69 2
@


1.71
log
@Update to 3.5.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2006/09/18 12:19:40 espie Exp $
d14 40
a53 40
SHARED_LIBS=		DCOP			7.0 \
			artskde			4.0 \
			kabc			4.0 \
			kabc_dir		2.0 \
			kabc_file		2.0 \
			kabc_ldapkio		2.0 \
			kabc_net		2.0 \
			katepartinterfaces	1.0 \
			kdecore			7.0 \
			kdefakes		7.0 \
			kdefx			7.0 \
			kdeprint		7.0 \
			kdeprint_management	7.0 \
			kdesasl			4.0 \
			kdesu			7.0 \
			kdeui			7.0 \
			kdnssd			2.0 \
			khtml			7.0 \
			kimproxy		1.0 \
			kio			7.0 \
			kjava			2.0 \
			kjs			4.0 \
			kmdi			2.0 \
			kmdi2			2.0 \
			kmediaplayer		1.0 \
			kmid			1.0 \
			knewstuff		2.0 \
			kntlm			1.0 \
			kparts			4.0 \
			kresources		4.0 \
			kscreensaver		7.0 \
			kscript			1.0 \
			kspell			7.0 \
			kspell2			2.0 \
			ktexteditor		1.0 \
			kunittest		2.0 \
			kutils			4.0 \
			kwalletbackend		2.0 \
			kwalletclient		2.0 \
			vcard			1.0
@


1.70
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2006/08/03 10:53:36 espie Exp $
d6 1
a6 1
VERSION=		3.5.4
@


1.69
log
@update to 3.5.4 first part.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2006/06/03 12:47:30 espie Exp $
d79 2
a80 2
WANTLIB+=	audiofile esd glib-2.0.0.0 \
		gmodule-2.0.0.0 gthread-2.0.0.0 mad ogg \
@


1.69.2.1
log
@- backport security fixes
CVE-2007-4224
CVE-2007-3820

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2006/08/03 10:53:36 espie Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}p0
@


1.68
log
@minor update to 3.5.3, integrate libidn support (some more changes to come
to WANTLIB in packages dependent on KDE).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2006/05/02 12:35:42 steven Exp $
d6 1
a6 1
VERSION=		3.5.3
d72 1
a72 1
LIB_DEPENDS+=	artsflow.1.0,artsflow_idl,qtmcop,soundserver_idl,mcop,kmedia2_idl::x11/kde/arts3 \
d74 1
a74 1
		xslt.1.10:libxslt->=1.0.10:textproc/libxslt \
d76 1
a76 1
		tiff.35::graphics/tiff \
d96 1
a96 1
LIB_DEPENDS+=	kdecore.6,kwalletclient,kdefakes,kdefx,kdeprint,kio,kparts,kdeui,kdesu,kdeprint_management,DCOP::x11/kde/libs3
@


1.67
log
@make the kspell library use aspell instead of ispell by default, since the
port already depends on aspell. prevents "cannot find ispell" errors.

go ahead espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2006/04/01 10:49:20 espie Exp $
d6 1
a6 1
VERSION=		3.5.2
d11 1
a11 1
PKGNAME=		${DISTNAME}p0
d13 1
a13 1
MODKDE_VERSION?=	3.5.2
d66 1
@


1.66
log
@update to 3.5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2006/02/11 18:22:35 bernd Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}
@


1.65
log
@Depend on x11/hicolor-icon-theme. Bump PKGNAME.

This fixes some KDE icon problems. Reported on ports@@ by some people.

"go ahead" espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2006/02/03 12:23:14 espie Exp $
d6 1
a6 1
VERSION=		3.5.1
d11 1
a11 1
PKGNAME=		${DISTNAME}p0
d13 1
a13 1
MODKDE_VERSION?=	3.5
d64 1
a64 2
BUILD_DEPENDS+= ::textproc/docbook-to-man \
		::devel/pkgconfig
a103 12
# Stuff provided that debian, trimmed down of non-existent stuff.

EXTRA_MANPAGES= artsmessage cupsdconf dcop \
    dcopfind dcopserver \
    dcopserver_shutdown imagetops kaddprinterwizard \
    kbuildsycoca kconf_update kcookiejar kde-config kded kdeinit \
    kdeinit_shutdown kdeinit_wrapper kdontchangethehostname \
    kfile kinstalltheme kio_http_cache_cleaner \
    kio_uiserver kmailservice \
    ksendbugmail ksvgtopng ktelnetservice \
    meinproc 

a107 6
post-build:
	@@mkdir -p ${WRKBUILD}/man/man1
	@@for i in ${EXTRA_MANPAGES}; do \
	    ${LOCALBASE}/bin/docbook-to-man ${WRKDIST}/debian/man/$$i.sgml >${WRKBUILD}/man/man1/$$i.1; \
	done

a108 3
	@@for i in ${EXTRA_MANPAGES}; do \
		${INSTALL_MAN} ${WRKBUILD}/man/man1/$$i.1 ${PREFIX}/man/man1; \
	done
@


1.64
log
@Update to 3.5.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2006/01/23 09:19:36 espie Exp $
d11 1
a11 1
PKGNAME=		${DISTNAME}
d87 1
@


1.63
log
@javascript utf8 security patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2006/01/13 22:49:56 espie Exp $
d6 1
a6 1
VERSION=		3.5.0
d9 1
a9 1
PATCHFILES=	post-3.4.3-kdelibs-kjs.diff:0
d11 2
a12 2
PKGNAME=		${DISTNAME}p2
PKGNAME-cups=		kdecups-${VERSION}p0
@


1.62
log
@bump SHARED_LIBS for kde (all C++, no brainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2006/01/03 09:10:55 espie Exp $
d8 4
a11 1
PKGNAME=		${DISTNAME}p1
@


1.61
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2005/12/17 11:27:44 espie Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p0
d11 40
a50 40
SHARED_LIBS=		DCOP			6.0 \
			artskde			3.0 \
			kabc			3.0 \
			kabc_dir		1.0 \
			kabc_file		1.0 \
			kabc_ldapkio		1.0 \
			kabc_net		1.0 \
			katepartinterfaces	0.0 \
			kdecore			6.0 \
			kdefakes		6.0 \
			kdefx			6.0 \
			kdeprint		6.0 \
			kdeprint_management	6.0 \
			kdesasl			3.0 \
			kdesu			6.0 \
			kdeui			6.0 \
			kdnssd			1.0 \
			khtml			6.0 \
			kimproxy		0.0 \
			kio			6.0 \
			kjava			1.0 \
			kjs			3.0 \
			kmdi			1.0 \
			kmdi2			1.0 \
			kmediaplayer		0.0 \
			kmid			0.95 \
			knewstuff		1.0 \
			kntlm			0.0 \
			kparts			3.0 \
			kresources		3.0 \
			kscreensaver		6.0 \
			kscript			0.0 \
			kspell			6.0 \
			kspell2			1.0 \
			ktexteditor		0.0 \
			kunittest		1.0 \
			kutils			3.0 \
			kwalletbackend		1.0 \
			kwalletclient		1.1 \
			vcard			0.0
@


1.60
log
@start using fixed system libtool.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2005/11/29 14:00:12 espie Exp $
d11 40
@


1.59
log
@KDE 3.5.0, the beginning...

(samba/cups subpackages to fix library issues)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2005/10/17 11:28:25 espie Exp $
d8 2
a9 2
PKGNAME=		${DISTNAME}
PKGNAME-cups=		kdecups-${VERSION}
d89 2
@


1.58
log
@Minor update to kde 3.4.3, mostly zap qt 3.3.5 patches that have been
integrated, recognize theora in multimedia.
i18n3 to come...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2005/08/16 09:49:54 espie Exp $
d4 1
d6 1
a6 1
VERSION=		3.4.3
d9 2
a10 1
MODKDE_VERSION?=	3.4
d14 16
a29 2
LIB_DEPENDS=	art_lgpl_2::graphics/libart \
		artsflow.1.0,artsflow_idl,qtmcop,soundserver_idl,mcop,kmedia2_idl::x11/kde/arts3 \
d36 4
a39 4
WANTLIB=	c ICE SM X11 Xext Xrender audiofile esd glib-2.0.0.0 \
		gmodule-2.0.0.0 gthread-2.0.0.0 iconv intl jpeg m mad ogg \
		ossaudio png pthread stdc++ util vorbis vorbisenc vorbisfile \
		xml2 z krb5 gssapi ssl crypto asn1
a40 1
CONFIGURE_ARGS+= --enable-cups
a41 3
BUILD_DEPENDS+=	::print/cups # crypto,ssl,cups
BUILD_DEPENDS+= ::textproc/docbook-to-man \
		::devel/pkgconfig
d44 10
@


1.57
log
@conflicts from the past: history since 3.7.

As noted on ports@@ recently, pkg_add -r relies on conflicts, and the
sheer existence of updates means we MUST take the past into account in
conflicts now.

Note the renaming of hugs98 to valid package names where versions are
concerned.

This commit shows clearly the renaming of the xfce4 plugin packages, the
ditching of eclipse flavors, the splitting of nessus into subpackages,
the splitting of various other software documentations, some packaging bugs
in kdeedu, and a lot of files moving around...

okay pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2005/07/28 08:47:41 espie Exp $
d5 1
a5 1
VERSION=		3.4.2
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.57.2.1
log
@MFC:
javascript utf8 security patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2005/08/16 09:49:54 espie Exp $
d7 1
a7 3
MASTER_SITES0=		ftp://ftp.kde.org/pub/kde/security_patches/
PATCHFILES=		post-3.4.3-kdelibs-kjs.diff:0
PKGNAME=		${DISTNAME}p1
@


1.56
log
@KDE 3.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2005/06/14 02:01:25 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
@


1.55
log
@can't believe no-one noticed printing was foobar'ed.
dyslexia in memset, sigh...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2005/06/02 21:41:13 espie Exp $
d5 1
a5 1
VERSION=		3.4.1
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.54
log
@oops. Thanks Laurence Tratt.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2005/06/02 14:01:26 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
@


1.53
log
@update to 3.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2005/04/27 15:49:55 drahn Exp $
a66 2
MAKE_FLAGS=LIBTOOL='/home/espie/bin/sh ${WRKBUILD}/libtool' \
	PROFDIR=/tmp/ksh
@


1.52
log
@Print the symbol name when a dlsym fails, bump packagename.
kdecore (KLibLoader): WARNING: KLibrary: Unable to resolve symbol [<name>]
ok espie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2005/04/08 20:47:01 sturm Exp $
d5 1
a5 1
VERSION=		3.4.0
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d67 2
@


1.51
log
@missing BUILD_DEPENDS on pkgconfig
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2005/03/30 10:34:33 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.50
log
@let kde see krb5 and activate gssapi.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2005/03/29 21:18:36 espie Exp $
d28 2
a29 1
BUILD_DEPENDS+= ::textproc/docbook-to-man
@


1.49
log
@most of kde 3.4, will finish getting fixed in tree... ;-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2005/02/27 07:25:50 brad Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
d23 2
a24 1
		xml2 z
d49 4
@


1.48
log
@- sync signal race fix
- disable IDN support by default

From: KDE CVS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2005/02/14 14:10:30 espie Exp $
d5 1
a5 1
VERSION=		3.3.2
d7 2
a8 2
PKGNAME=		${DISTNAME}p4
MODKDE_VERSION?=	3.3.0
d59 1
@


1.48.2.1
log
@MFC:
javascript utf8 security patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2005/02/27 07:25:50 brad Exp $
d7 1
a7 3
MASTER_SITES0=		ftp://ftp.kde.org/pub/kde/security_patches/
PATCHFILES=		post-3.2.3-kdelibs-kjs.diff:0
PKGNAME=		${DISTNAME}p5
@


1.47
log
@some documentation, courtesy of debian
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2005/02/07 11:30:05 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
@


1.46
log
@explicitly set LIBRESOLV to nothing, so that we don't link with a dummy
lib (throws libtool since we don't have a shared version).
zap -g I used to debug.
better directories in network.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2005/01/31 09:12:02 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
d27 1
d37 23
@


1.45
log
@Fix aspell test. Aspell is required for koffice anyways, so this doesn't
change the CD list.
Compile with cups support. If cups is not installed, printing still works.
Add OpenEXR support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2005/01/28 09:40:30 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.44
log
@do setup_handlers AFTER creating theKProcessController, so that if
the childhandler is called right away, it will not crash.
Fixes kded crashes on start.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2004/12/16 07:25:25 alek Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d24 5
a28 1
CONFIGURE_ARGS+= --disable-cups
@


1.43
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2004/12/12 11:33:24 espie Exp $
d7 1
@


1.42
log
@3.3.2 is out, rejoice.
minor update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2004/10/19 00:25:27 espie Exp $
d19 4
a22 1
WANTLIB=c
@


1.41
log
@minor update to 3.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2004/09/18 09:36:44 espie Exp $
d5 1
a5 1
VERSION=		3.3.1
d19 1
@


1.40
log
@update to kde 3.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2004/08/10 22:08:03 espie Exp $
d5 1
a5 1
VERSION=		3.3.0
@


1.39
log
@new plist: use sample, put everything into PLIST since we're
SHARED_ONLY.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2004/07/24 12:47:15 espie Exp $
d5 1
a5 1
VERSION=		3.2.3
d7 1
a7 1
MODKDE_VERSION?=	3.2.3
@


1.38
log
@basic update to kde 3.2.3.
A few files to remove/add yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2004/04/13 04:22:37 brad Exp $
a23 1
SUBST_VARS=EXTRA_CONFIG SAMPLECONFDIR
@


1.37
log
@better COMMENTs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2004/03/07 21:08:44 espie Exp $
d5 1
a5 1
VERSION=		3.2.1
d7 1
a7 1
MODKDE_VERSION?=	3.2
d16 2
a17 1
		tiff.35::graphics/tiff
@


1.36
log
@update to kde 3.2.1, as agreed with pvalchev@@.
The distfiles should be publically available shortly.
this fixes a few nits: build accessibility, move cvscheck to avoid conflicts.

i18n files missing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2004/02/07 01:46:23 espie Exp $
d3 1
a3 1
COMMENT=		"X11 toolkit, libraries"
@


1.35
log
@start updating to 3.2.0, the actual release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2004/02/03 00:58:29 espie Exp $
d5 1
a5 1
VERSION=		3.2.0
d28 1
@


1.34
log
@make sure we don't grab CUPS by mistake.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/02/02 14:59:57 espie Exp $
d5 1
a5 1
VERSION=		3.1.95
@


1.33
log
@add VMEM_WARNING=Yes
problem noticed by Robert Nagy.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/02/01 22:41:23 espie Exp $
d17 2
@


1.32
log
@streamline depends. we get jpeg and png from qt, xml from xslt...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2004/02/01 14:59:23 espie Exp $
d10 1
@


1.31
log
@basic import of kde 3.1.95, still missing a few parts.

TODO:
- compile the missing packages.
- redo konsole fixes for our ttys.
- figure out why kuickshow is broken.
- make sure we get all dependencies.
- repair kscd.
- find out why nsplugins does not like the native jdk.
- figure out how to get kvim to work.
- change filenames or adjust check-lib-depends to cope.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2003/12/08 02:19:43 brad Exp $
d10 2
a11 4
LIB_DEPENDS= 	png.2::graphics/png \
		jpeg.62::graphics/jpeg \
		tiff.35::graphics/tiff \
		audiofile::devel/libaudiofile \
a12 1
		xml2.6:libxml->=2.4.8:textproc/libxml \
d15 1
a15 3
		art_lgpl_2::graphics/libart \
		lber,ldap.2:openldap-client-2.*:databases/openldap \
		artsflow.1.0,artsflow_idl.1.0,kmedia2_idl.1.0,mcop.1.0,qtmcop.1.0,soundserver_idl.1.0::x11/kde/arts3
a17 2
# To investigate
#CONFIGURE_ARGS=--enable-fast-malloc=full
@


1.30
log
@clean
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2003/08/05 08:39:49 espie Exp $
d5 1
a5 1
VERSION=		3.1.4
d7 1
d25 3
d29 2
a30 47
EXTRA_DIRECTORIES= \
	share/applnk/Editors \
	share/applnk/Edutainment \
	share/applnk/Games/Arcade \
	share/applnk/Games/Board \
	share/applnk/Games/Card \
	share/applnk/Games/TacticStrategy \
	share/applnk/Games/Kidsgames \
	share/applnk/Graphics/More \
	share/applnk/Office \
	share/applnk/Settings/Information \
	share/applnk/Settings/PowerControl \
	share/applnk/Settings/System \
	share/applnk/System/ScreenSavers \
	share/applnk/Toys \
	share/applnk/Utilities \
	share/apps/kdesktop/programs \
	share/apps/kicker/applets \
	share/apps/knewsticker \
	share/apps/konqueror/servicemenus \
	share/apps/kscreensaver \
	share/apps/kthememgr/Themes \
	share/apps/kwin/icewm-themes \
	share/apps/kworldclock/maps/depths \
	share/doc/HTML/en \
	share/icons/hicolor/22x22/apps \
	share/icons/hicolor/32x32/apps \
	share/icons/hicolor/48x48/apps \
	share/icons/locolor/16x16/apps \
	share/icons/locolor/32x32/apps \
	share/icons/crystalsvg/128x128/apps \
	share/icons/crystalsvg/64x64/apps \
	share/icons/crystalsvg/64x64/apps \
	share/icons/crystalsvg/48x48/apps \
	share/icons/crystalsvg/32x32/apps \
	share/icons/crystalsvg/16x16/apps \
	share/apps/konqueror/servicemenus \
	share/locale \
	share/sounds \
	share/templates/.source \
	share/wallpapers

post-install:
.for i in ${EXTRA_DIRECTORIES}
	@@${INSTALL_DATA_DIR} ${PREFIX}/$i
.endfor

@


1.29
log
@update to 3.1.4
@
text
@a24 2
#BUILD_DEPENDS=	:qt3-html-*:x11/qt3,-html

@


1.28
log
@Extra official patch, pending kdelibs-3.1.3a
(bad backporting of a fix from kdelibs-current)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2003/07/30 12:59:23 espie Exp $
d5 1
a5 1
VERSION=		3.1.3
a6 1
PKGNAME=		kdelibs-${VERSION}p0
@


1.27
log
@Update to kde 3.1.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2003/06/12 19:16:16 espie Exp $
d7 1
@


1.26
log
@Update to kde 3.1.2 (requires recent autoconf).
Fix some build issues, mainly in kdebindings and kdemultimedia.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2003/04/12 15:37:01 espie Exp $
d5 1
a5 1
VERSION=		3.1.2
d8 1
@


1.25
log
@security update: invoke ghostscript with safe flags, to disable
pdf/postscript possible holes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2003/04/05 14:53:39 espie Exp $
d5 1
a5 1
VERSION=		3.1.1a
@


1.24
log
@Update most of kde to 3.1.1.
Needs rebuild to check against XFree 4.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/01/27 19:16:47 espie Exp $
d5 1
a5 1
VERSION=		3.1.1
@


1.23
log
@kdelibs-3.1: getaddrinfo is marked as non thread-safe in main archive now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/01/07 15:36:35 espie Exp $
d5 1
a5 1
VERSION=		3.1
@


1.23.2.1
log
@Fix security issue mentioned in this advisory
http://www.kde.org/info/security/advisory-20030409-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/01/27 19:16:47 espie Exp $
a6 1
PKGNAME=		${DISTNAME}p0
@


1.23.2.2
log
@Fix Konqueror Referer Leaking Website Authentication Credentials issue

http://marc.theaimsgroup.com/?l=bugtraq&m=105949563522672&w=2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23.2.1 2003/05/02 18:49:29 naddy Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.22
log
@Add missing SEPARATE_BUILDs, turn them into flavored
Trim old commented cruft
Add debug flavor, and --disable-dependency-tracking if !debug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/01/06 23:31:31 espie Exp $
d5 1
a5 1
VERSION=		3.0.5a
a6 1
PKGNAME=		${DISTNAME}p0
d16 2
d33 2
a34 1
	share/applnk/Graphics \
d38 1
d45 1
a45 1
	share/apps/konqueror \
d50 1
d56 7
@


1.21
log
@kdesu fix is an important reliability fix. bump package name.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2002/12/23 14:22:32 espie Exp $
d19 1
a19 1
SEPARATE_BUILD=	simple
@


1.20
log
@Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/12/02 16:27:21 espie Exp $
d7 1
a7 1
#PKGNAME=		${DISTNAME}p1
@


1.19
log
@Update to 3.0.5
i18n not checked yet...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/11/29 05:13:37 brad Exp $
d5 1
a5 1
VERSION=		3.0.5
@


1.18
log
@Fix a vulnerability which would potentially allow a carefully crafted
URL in an HTML page, HTML email or other KIO-enabled application to
execute arbitrary commands on the system using the victim's account on
the vulnerable machine.

http://www.kde.org/info/security/advisory-20021111-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/10/28 21:44:32 espie Exp $
d5 1
a5 1
VERSION=		3.0.4
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.17
log
@3.0.4 update, most of it.
i18n packlists to check yet...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/09/10 22:37:32 espie Exp $
d7 1
@


1.16
log
@Bump to 3.0.3a
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/09/01 08:25:26 espie Exp $
d5 2
a6 2
VERSION=		3.0.3
DISTNAME=		kdelibs-${VERSION}a
@


1.16.2.1
log
@MFC:
Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2002/12/23 14:22:32 espie Exp $
d5 2
a6 3
VERSION=		3.0.5a
DISTNAME=		kdelibs-${VERSION}
#PKGNAME=		${DISTNAME}p1
@


1.16.2.2
log
@Reliability fix: let kdesu work with 3.2's su.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16.2.1 2002/12/26 22:28:18 pvalchev Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.16.2.3
log
@Fix security issue mentioned in this advisory

http://www.kde.org/info/security/advisory-20030409-1.txt

as well as applying the other security related fixes from KDE 3.0.5b.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16.2.2 2003/01/06 23:29:24 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.16.2.4
log
@Fix Konqueror Referer Leaking Website Authentication Credentials issue

http://marc.theaimsgroup.com/?l=bugtraq&m=105949563522672&w=2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16.2.3 2003/04/10 18:59:40 brad Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.15
log
@kde 3.0.3, incorporated kssl changes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/08/16 19:49:27 brad Exp $
d6 1
a6 1
DISTNAME=		kdelibs-${VERSION}
@


1.14
log
@Bring in fix for KSSL sub-system.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/07/16 12:20:42 espie Exp $
d5 1
a5 1
VERSION=		3.0.2
a6 1
PKGNAME=		${DISTNAME}p1
d22 1
a22 1
BUILD_DEPENDS=	:qt3-html-*:x11/qt3,-html
@


1.13
log
@Update to 3.0.2, somewhat lately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/06/03 10:06:19 espie Exp $
d7 1
@


1.12
log
@show something more specific in automatic upload mode than
`about to submit form' to a more specific upload message.

From the kde project.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/05/28 17:18:46 espie Exp $
d5 1
a5 2
NEED_VERSION=		1.504
VERSION=		3.0.1
a6 1
PKGNAME=		kdelibs-${VERSION}p0
@


1.11
log
@seems that kde is happy with SEPARATE_BUILD.
I should have checked this ages ago.
Will switch the other dirs after I've checked that they're okay too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/05/23 14:37:22 espie Exp $
d8 1
@


1.10
log
@Update to kde 3.0.1.
Mostly remove integrated patches, and adapt a few plists.
There may be minor pieces yet to do...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/05/06 12:28:57 espie Exp $
d19 1
@


1.9
log
@typo, Jacob Meuser.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/04/15 06:53:53 espie Exp $
d6 1
a6 1
VERSION=		3.0
@


1.8
log
@Use KDE in pkg lists.
Remove less shared directories.
Do not install duplicate files from koffice.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/04/10 01:24:39 espie Exp $
d15 1
a15 1
		xslt.1.10:libxsl->=1.0.10:textproc/libxslt \
@


1.7
log
@Use a common Makefile.inc to remove lots of common parts in all kde dirs.
Remove lame stuff in base3, since run-time auto-detection is working now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/04/04 18:29:21 espie Exp $
d19 3
d32 1
d51 1
d53 1
@


1.7.2.1
log
@MFC:
Bring in fix for KSSL sub-system.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/04/10 01:24:39 espie Exp $
a7 1
PKGNAME=		${DISTNAME}p1
@


1.6
log
@yet a few dirrm conflicts vanish
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/04/04 16:43:14 espie Exp $
a7 1
DIST_SUBDIR=		kde
a8 13
HOMEPAGE=		http://www.kde.org
MASTER_SITES=	${MASTER_SITE_KDE}
MASTER_SITE_SUBDIR=	stable/${VERSION}/src
EXTRACT_SUFX=		.tar.bz2

# Parts of kde want shared libraries to work, as some symbols are
# duplicated over the place.
NOT_FOR_ARCHS=${NO_SHARED_ARCHS}

# our linker is insane, at least on some arches
VMEM_WARNING=Yes

MODULES=	qt3
a19 40

# glib2.0 
# qt docs
# CUPS

MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/admin

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
CONFIGURE_ARGS=		${MODQT_CONFIGURE_ARGS}
CONFIGURE_ARGS+=	--with-extra-libs=${LOCALBASE}/lib
CONFIGURE_ARGS+=	--with-extra-includes=${LOCALBASE}/include
CONFIGURE_ARGS+=	--disable-threading
CONFIGURE_ARGS+=	--enable-mitshm
CONFIGURE_ARGS+=	--disable-debug
CONFIGURE_ARGS+=	--enable-final
PATCH_LIST=	${PORTSDIR}/x11/kde/arts3/patches/p-* patch-*
#CONFIGURE_ARGS+=	--enable-debug
#CONFIGURE_ARGS+=--enable-static --enable-debug --disable-shared

#CONFIGURE_ARGS+=	--enable-static --disable-shared

CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}

USE_GMAKE=		Yes
CONFIGURE_ENV=		QTDOCDIR=${LOCALBASE}/share/doc/qt2/html

# you don't want to know...
CONFIGURE_ENV+=		ac_aux_files=''

MAKE_ENV=		${CONFIGURE_ENV}

# Ensure qt will always be at the front
MAKE_FLAGS=CXXLD='--tag CXX ${CXX} -L${MODQT_LIBDIR}'

# GPL
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
@


1.5
log
@Add directories common to some subpackages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/04/04 12:13:02 espie Exp $
d76 1
d83 2
d87 1
d90 2
@


1.4
log
@Real 3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/04/04 09:31:01 espie Exp $
d75 27
@


1.3
log
@kde3, real thing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/04/02 17:06:23 espie Exp $
d12 1
a12 1
MASTER_SITE_SUBDIR=	stable/kde-${VERSION}/src
@


1.2
log
@found a mirror that carries RC3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/03/23 15:01:20 espie Exp $
d6 1
a6 1
VERSION=		3.0rc3
d11 2
a12 2
MASTER_SITES= http://gd.tuwien.ac.at/pub/kde/%SUBDIR%/
MASTER_SITE_SUBDIR=	unstable/kde-${VERSION}/src
d19 3
d29 1
a29 1
		xslt.1.6::textproc/libxslt \
a64 10

pre-build:
	@@if pkg dependencies check kdelibs-\*; then \
		if pkg dependencies check ${DISTNAME}; then \
			:; \
		else \
			echo 1>&2 "Error: you must remove your old kdelibs first"; \
			exit 1; \
		fi; \
    	fi
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2002/03/02 23:59:52 espie Exp $
d11 1
a11 2
#MASTER_SITES=	${MASTER_SITE_KDE}
MASTER_SITES=ftp://ftp.kde.org/pub/kde/%SUBDIR%/
@


1.1.1.1
log
@kde3, release candidate 3
@
text
@@
