head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.28
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.26
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.24
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.20
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.22
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.18
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.16
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.14
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.12
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.10
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.8
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.6
	OPENBSD_5_0:1.3.0.4
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_3_1:1.1.0.2;
locks; strict;
comment	@# @;


1.3
date	2010.10.06.08.13.32;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2002.09.01.08.25.26;	author espie;	state dead;
branches;
next	1.1;

1.1
date	2002.08.16.19.49.27;	author brad;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2002.08.16.20.05.08;	author brad;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2002.08.16.23.21.45;	author brad;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Unbreak after openssl update, diff from kili@@, commiting on his behalf.
Similar diff from benoit@@ on ports..
@
text
@$OpenBSD$
--- kio/kssl/kopenssl.h.orig	Sat Jul 22 10:16:39 2006
+++ kio/kssl/kopenssl.h	Sun Oct  3 19:53:42 2010
@@@@ -48,6 +48,7 @@@@ class KOpenSSLProxyPrivate;
 #include <openssl/stack.h>
 #include <openssl/bn.h>
 #undef crypt
+#define STACK _STACK
 #endif
 
 #include <kstaticdeleter.h>
@@@@ -448,12 +449,6 @@@@ friend class KStaticDeleter<KOpenSSLProxy>; (public)
 
 
    /*
-    *   X509_asn1_meth - used for netscape output
-    */
-   ASN1_METHOD *X509_asn1_meth();
-
-
-   /*
     *   ASN1_i2d_fp - used for netscape output
     */
    int ASN1_i2d_fp(FILE *out, unsigned char *x);
@@@@ -531,6 +526,7 @@@@ friend class KStaticDeleter<KOpenSSLProxy>; (public)
     */
    void sk_free(STACK *s);
 
+   void sk_free(void *s) { return sk_free(reinterpret_cast<STACK*>(s)); }
 
    /* 
     *  Number of elements in the stack
@@@@ -543,6 +539,7 @@@@ friend class KStaticDeleter<KOpenSSLProxy>; (public)
     */
    char *sk_value(STACK *s, int n);
 
+   char *sk_value(void *s, int n) { return sk_value(reinterpret_cast<STACK*>(s), n); }
 
    /* 
     *  Create a new stack
@@@@ -555,6 +552,7 @@@@ friend class KStaticDeleter<KOpenSSLProxy>; (public)
     */
    int sk_push(STACK *s, char *d);
 
+   int sk_push(void *s, void *d) { return sk_push(reinterpret_cast<STACK*>(s), reinterpret_cast<char*>(d)); }
 
    /* 
     *  Duplicate the stack
@


1.2
log
@kde 3.0.3, incorporated kssl changes...
@
text
@d1 41
a41 4
$OpenBSD: patch-kio_kssl_kopenssl_h,v 1.1 2002/08/16 19:49:27 brad Exp $
--- kio/kssl/kopenssl.h.orig	Wed Apr 10 18:00:44 2002
+++ kio/kssl/kopenssl.h	Wed Aug 14 13:05:38 2002
@@@@ -309,6 +309,10 @@@@ public:
d43 1
a43 1
    void X509_STORE_CTX_set_chain(X509_STORE_CTX *v, STACK_OF(X509)* x);
d45 1
a45 4
+   /*
+    *   X509_STORE_CTX_set_purpose - set the purpose of the certificate 
+    */
+   void X509_STORE_CTX_set_purpose(X509_STORE_CTX *v, int purpose);
d47 2
a48 2
    /*
     *   X509_verify_cert - verify the certificate
@


1.1
log
@Bring in fix for KSSL sub-system.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@MFC:
Bring in fix for KSSL sub-system.
@
text
@@


1.1.2.2
log
@fix offsets
@
text
@d1 4
a4 4
$OpenBSD: patch-kio_kssl_kopenssl_h,v 1.1.2.1 2002/08/16 20:05:08 brad Exp $
--- kio/kssl/kopenssl.h.orig	Thu Mar  7 20:18:20 2002
+++ kio/kssl/kopenssl.h	Fri Aug 16 19:19:55 2002
@@@@ -304,6 +304,10 @@@@ public:
@


