head	1.32;
access;
symbols
	OPENBSD_6_1:1.32.0.12
	OPENBSD_6_1_BASE:1.32
	OPENBSD_6_0:1.32.0.10
	OPENBSD_6_0_BASE:1.32
	OPENBSD_5_9:1.32.0.6
	OPENBSD_5_9_BASE:1.32
	OPENBSD_5_8:1.32.0.8
	OPENBSD_5_8_BASE:1.32
	OPENBSD_5_7:1.32.0.4
	OPENBSD_5_7_BASE:1.32
	OPENBSD_5_6:1.32.0.2
	OPENBSD_5_6_BASE:1.32
	OPENBSD_5_5:1.31.0.24
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.31.0.22
	OPENBSD_5_4_BASE:1.31
	OPENBSD_5_3:1.31.0.20
	OPENBSD_5_3_BASE:1.31
	OPENBSD_5_2:1.31.0.18
	OPENBSD_5_2_BASE:1.31
	OPENBSD_5_1_BASE:1.31
	OPENBSD_5_1:1.31.0.16
	OPENBSD_5_0:1.31.0.14
	OPENBSD_5_0_BASE:1.31
	OPENBSD_4_9:1.31.0.12
	OPENBSD_4_9_BASE:1.31
	OPENBSD_4_8:1.31.0.10
	OPENBSD_4_8_BASE:1.31
	OPENBSD_4_7:1.31.0.8
	OPENBSD_4_7_BASE:1.31
	OPENBSD_4_6:1.31.0.6
	OPENBSD_4_6_BASE:1.31
	OPENBSD_4_5:1.31.0.4
	OPENBSD_4_5_BASE:1.31
	OPENBSD_4_4:1.31.0.2
	OPENBSD_4_4_BASE:1.31
	OPENBSD_4_3:1.30.0.2
	OPENBSD_4_3_BASE:1.30
	OPENBSD_4_2:1.28.0.2
	OPENBSD_4_2_BASE:1.28
	OPENBSD_4_1:1.26.0.2
	OPENBSD_4_1_BASE:1.26
	OPENBSD_4_0:1.25.0.2
	OPENBSD_4_0_BASE:1.25
	OPENBSD_3_9:1.23.0.2
	OPENBSD_3_9_BASE:1.23
	OPENBSD_3_8:1.20.0.2
	OPENBSD_3_8_BASE:1.20
	OPENBSD_3_7:1.17.0.2
	OPENBSD_3_7_BASE:1.17
	OPENBSD_3_6:1.13.0.4
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.13.0.2
	OPENBSD_3_5_BASE:1.13
	OPENBSD_3_4:1.10.0.2
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.9.0.2
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.5.0.2
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.1.0.2
	OPENBSD_3_1_BASE:1.1;
locks; strict;
comment	@# @;


1.32
date	2014.04.29.22.02.18;	author zhuk;	state Exp;
branches;
next	1.31;

1.31
date	2008.03.25.11.45.08;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2007.12.11.07.55.05;	author jakemsr;	state Exp;
branches;
next	1.29;

1.29
date	2007.10.24.21.52.18;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2007.05.25.09.49.54;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2007.03.31.23.33.34;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2006.10.12.23.12.19;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2006.06.03.12.47.30;	author espie;	state Exp;
branches
	1.25.2.1;
next	1.24;

1.24
date	2006.04.01.10.49.20;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2006.02.03.12.23.14;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2005.11.29.14.00.12;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2005.10.17.11.28.25;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2005.07.28.08.47.41;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2005.06.02.14.01.26;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2005.03.29.21.18.36;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2005.01.31.09.12.03;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2004.12.12.11.33.24;	author espie;	state dead;
branches;
next	1.15;

1.15
date	2004.10.19.00.25.27;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2004.09.18.09.36.44;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2004.03.02.03.24.25;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2004.02.01.14.59.23;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2003.12.07.20.19.14;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2003.04.05.14.53.39;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2003.02.25.15.03.12;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2003.01.27.19.16.47;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2003.01.13.20.50.04;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2002.11.29.05.13.37;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2002.07.16.22.27.51;	author espie;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2002.05.28.03.56.03;	author todd;	state Exp;
branches;
next	1.3;

1.3
date	2002.05.23.14.37.22;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.04.15.06.45.43;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.04.09.22.29.15;	author espie;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2002.08.16.23.23.00;	author brad;	state Exp;
branches;
next	;

1.5.2.1
date	2002.12.26.22.28.18;	author pvalchev;	state Exp;
branches;
next	;

1.25.2.1
date	2007.09.01.17.51.17;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.32
log
@Fix tests, no package change.
@
text
@$OpenBSD: patch-configure_in,v 1.31 2008/03/25 11:45:08 espie Exp $
--- configure.in.orig	Wed Aug 20 20:05:03 2008
+++ configure.in	Sat Jan 11 16:30:01 2014
@@@@ -502,7 +502,10 @@@@ fi
 AC_DEFINE_UNQUOTED(DCOP_PATH, ["${dcop_prefix}/bin"], [Define where your dcop binary is])
 AM_CONFIG_HEADER([dcop/dcop-path.h])
 
-AC_PATH_PROGS(MD5SUM, [md5sum gmd5sum], [md5sum])
+AC_PATH_PROGS(MD5SUM, [md5 md5sum gmd5sum], [md5sum])
+if test "${MD5SUM}" = "md5"; then
+     MD5SUM="${MD5SUM} -r"
+fi
 dnl =======================================================
 dnl FILE: ./dnssd/configure.in.in
 dnl =======================================================
@@@@ -1145,7 +1148,7 @@@@ if test "$ac_use_cups" = "yes"; then
   else
     AC_MSG_RESULT(cups-config not found, using default libraries: $kde_cups_libs. You should consider upgrading CUPS)
   fi
-  KDE_CHECK_LIB(cups,cupsServer,[ac_cups_libs=1],[ac_cups_libs=0],[$LIBDL $LIBSOCKET])
+  KDE_CHECK_LIB(cups,cupsServer,[ac_cups_libs=1],[ac_cups_libs=0],[$kde_cups_libs $LIBDL $LIBSOCKET])
   if test "$ac_cups_libs" = "0"; then
     AC_MSG_WARN(CUPS library not found. CUPS support disabled)
     ac_use_cups="no"
@@@@ -2011,7 +2014,7 @@@@ dnl ==================================================
        AC_LANG_SAVE
        AC_LANG_C
        dnl Check for aspell library
-       KDE_CHECK_LIB(aspell, new_aspell_config, [LIBASPELL="-laspell"])
+       KDE_CHECK_LIB(aspell, new_aspell_config, [LIBASPELL="-laspell"],, -lstdc++ -lm)
        KDE_CHECK_HEADER(aspell.h)
        if test -z "$ac_cv_header_aspell_h"; then
            echo ""
@


1.31
log
@start updating to 3.5.9, small piece by small piece
@
text
@d1 16
a16 4
$OpenBSD: patch-configure_in,v 1.30 2007/12/11 07:55:05 jakemsr Exp $
--- configure.in.orig	Wed Feb 13 16:26:31 2008
+++ configure.in	Thu Feb 14 21:09:53 2008
@@@@ -1145,7 +1145,7 @@@@ if test "$ac_use_cups" = "yes"; then
d25 1
a25 1
@@@@ -2011,7 +2011,7 @@@@ dnl ==================================================
@


1.30
log
@
use -pthread instead of -lpthread for pthreads linkage

fix some WANTLIB/LIB_DEPENDS in akode and amarok while here

bulk build tested by steven@@, "go ahead" espie@@ a while ago
@
text
@d1 3
a3 3
$OpenBSD: patch-configure_in,v 1.28 2007/05/25 09:49:54 espie Exp $
--- configure.in.orig	Thu May 17 00:09:47 2007
+++ configure.in	Sun Oct 21 13:56:57 2007
d13 1
a13 1
@@@@ -2009,7 +2009,7 @@@@ dnl ==================================================
@


1.29
log
@update to 3.5.8
@
text
@d2 12
a13 3
--- configure.in.orig	Mon Oct  8 16:41:26 2007
+++ configure.in	Mon Oct 22 23:35:14 2007
@@@@ -2011,7 +2011,7 @@@@ dnl ==================================================
@


1.28
log
@update a large subset of kde 3 to 3.5.7.
Simplify the infrastructure a bit, and let it compile with libfam, now...
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.27 2007/03/31 23:33:34 espie Exp $
--- configure.in.orig	Mon May 14 13:58:16 2007
+++ configure.in	Mon May 14 16:19:00 2007
@@@@ -2009,7 +2009,7 @@@@ dnl ==================================================
@


1.27
log
@regen patches. fix long character decode.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.26 2006/10/12 23:12:19 espie Exp $
--- configure.in.orig	Wed Jan 24 09:52:48 2007
+++ configure.in	Sat Mar 31 15:11:02 2007
@@@@ -1979,7 +1979,7 @@@@ dnl ==================================================
@


1.26
log
@Update to 3.5.5
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.25 2006/06/03 12:47:30 espie Exp $
--- configure.in.orig	Thu Oct  5 18:27:59 2006
+++ configure.in	Fri Oct  6 09:23:43 2006
@@@@ -1979,7 +1979,7 @@@@ dnl ====================================
@


1.25
log
@minor update to 3.5.3, integrate libidn support (some more changes to come
to WANTLIB in packages dependent on KDE).
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.24 2006/04/01 10:49:20 espie Exp $
--- configure.in.orig	Tue May 23 23:12:58 2006
+++ configure.in	Sun May 28 13:22:11 2006
@@@@ -1998,7 +1998,7 @@@@ dnl ====================================
@


1.25.2.1
log
@- backport security fixes
CVE-2007-4224
CVE-2007-3820

ok sturm@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.25 2006/06/03 12:47:30 espie Exp $
--- configure.in.orig	Mon Jul 24 17:59:51 2006
+++ configure.in	Thu Aug 30 10:01:15 2007
@@@@ -1932,7 +1932,7 @@@@ dnl ====================================
@


1.24
log
@update to 3.5.2
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.23 2006/02/03 12:23:14 espie Exp $
--- configure.in.orig	Sat Mar 18 15:31:25 2006
+++ configure.in	Mon Mar 20 11:33:50 2006
@@@@ -1984,7 +1984,7 @@@@ dnl ====================================
@


1.23
log
@Update to 3.5.1
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.22 2005/11/29 14:00:12 espie Exp $
--- configure.in.orig	Sat Jan 21 13:39:30 2006
+++ configure.in	Mon Jan 23 18:56:54 2006
@@@@ -1983,7 +1983,7 @@@@ dnl ====================================
@


1.22
log
@KDE 3.5.0, the beginning...

(samba/cups subpackages to fix library issues)
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.21 2005/10/17 11:28:25 espie Exp $
--- configure.in.orig	Mon Nov 21 10:06:55 2005
+++ configure.in	Mon Nov 21 12:00:07 2005
@@@@ -1938,7 +1938,7 @@@@ dnl ====================================
@


1.21
log
@Minor update to kde 3.4.3, mostly zap qt 3.3.5 patches that have been
integrated, recognize theora in multimedia.
i18n3 to come...
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.20 2005/07/28 08:47:41 espie Exp $
--- configure.in.orig	Wed Oct  5 23:49:43 2005
+++ configure.in	Mon Oct 17 12:27:07 2005
@@@@ -1796,7 +1796,7 @@@@ dnl ====================================
@


1.20
log
@KDE 3.4.2
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.19 2005/06/02 14:01:26 espie Exp $
--- configure.in.orig	Wed Jul 20 23:15:30 2005
+++ configure.in	Sat Jul 23 12:41:42 2005
@@@@ -1795,7 +1795,7 @@@@ dnl ====================================
@


1.19
log
@update to 3.4.1
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.18 2005/03/29 21:18:36 espie Exp $
--- configure.in.orig	Mon May 23 17:26:25 2005
+++ configure.in	Wed May 25 20:39:36 2005
@@@@ -1788,7 +1788,7 @@@@ dnl ====================================
@


1.18
log
@most of kde 3.4, will finish getting fixed in tree... ;-)
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.17 2005/01/31 09:12:03 espie Exp $
--- configure.in.orig	Tue Mar  8 16:04:45 2005
+++ configure.in	Wed Mar 23 09:37:08 2005
@@@@ -1780,7 +1780,7 @@@@ dnl ====================================
@


1.17
log
@Fix aspell test. Aspell is required for koffice anyways, so this doesn't
change the CD list.
Compile with cups support. If cups is not installed, printing still works.
Add OpenEXR support.
@
text
@d1 12
a12 12
$OpenBSD$
--- configure.in.orig	Fri Jan 28 10:48:35 2005
+++ configure.in	Fri Jan 28 10:50:57 2005
@@@@ -1674,7 +1674,7 @@@@ dnl ====================================
    AC_LANG_SAVE
    AC_LANG_C
    dnl Check for aspell library
-   KDE_CHECK_LIB(aspell, new_aspell_config, [LIBASPELL="-laspell"])
+   KDE_CHECK_LIB(aspell, new_aspell_config, [LIBASPELL="-laspell"],, -lstdc++ -lm)
    KDE_CHECK_HEADER(aspell.h)
    if test -z "$ac_cv_header_aspell_h"; then
        echo ""
@


1.16
log
@3.3.2 is out, rejoice.
minor update.
@
text
@d1 12
a12 26
$OpenBSD: patch-configure_in,v 1.15 2004/10/19 00:25:27 espie Exp $
--- configure.in.orig	Fri Oct  8 15:52:11 2004
+++ configure.in	Wed Oct 13 15:40:52 2004
@@@@ -500,7 +500,7 @@@@ dnl --------
 
 kde_safe_LIBS="$LIBS"
 LIBS="$LIBS $all_libraries $X_EXTRA_LIBS"
-AC_CHECK_FUNCS([inet_ntop inet_pton getpeername getsockname getsockopt gethostbyname2_r gethostbyname_r gethostbyname2 if_nametoindex getprotobyname_r getservbyname_r])
+AC_CHECK_FUNCS([inet_ntop inet_pton getpeername getsockname getsockopt gethostbyname2_r gethostbyname_r gethostbyname2 if_nametoindex getprotobyname_r getservbyname_r getservbyport_r])
 LIBS="$kde_safe_LIBS"
 AC_CHECK_HEADERS([netinet/in.h net/if.h],,,
 [#include <sys/types.h>
@@@@ -984,6 +984,13 @@@@ if test "$path_su" = "no"; then
     AC_MSG_WARN(su was not found)
 else
     AC_DEFINE_UNQUOTED(__PATH_SU, "$path_su", [path to su])
+fi
+dnl Check for sudo
+AC_PATH_PROG(path_sudo, "sudo", "no")
+if test "$path_sudo" = "no"; then
+    AC_MSG_WARN(sudo was not found)
+else
+    AC_DEFINE_UNQUOTED(__PATH_SUDO, "$path_sudo", [path to sudo])
 fi
 
 dnl Check for POSIX.1b scheduling
@


1.15
log
@minor update to 3.3.1
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.14 2004/09/18 09:36:44 espie Exp $
@


1.14
log
@update to kde 3.3.0.
@
text
@d1 14
a14 4
$OpenBSD: patch-configure_in,v 1.13 2004/03/02 03:24:25 naddy Exp $
--- configure.in.orig	Sat Aug 14 02:23:21 2004
+++ configure.in	Mon Sep  6 02:37:01 2004
@@@@ -988,6 +988,13 @@@@ if test "$path_su" = "no"; then
d17 1
a17 1
 fi
d24 1
a24 1
+fi
a26 1
 AC_MSG_CHECKING([POSIX.1b scheduling])
@


1.13
log
@fix PACKAGE make variable
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.12 2004/02/01 14:59:23 espie Exp $
--- configure.in.orig	2004-01-18 14:21:10.000000000 +0100
+++ configure.in	2004-01-19 13:40:55.000000000 +0100
@@@@ -1176,6 +1176,13 @@@@ if test "$path_su" = "no"; then
@


1.12
log
@basic import of kde 3.1.95, still missing a few parts.

TODO:
- compile the missing packages.
- redo konsole fixes for our ttys.
- figure out why kuickshow is broken.
- make sure we get all dependencies.
- repair kscd.
- find out why nsplugins does not like the native jdk.
- figure out how to get kvim to work.
- change filenames or adjust check-lib-depends to cope.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.11 2003/12/07 20:19:14 espie Exp $
a3 9
@@@@ -18,7 +18,7 @@@@ AC_CANONICAL_SYSTEM
 AC_ARG_PROGRAM
 
 dnl Automake doc recommends to do this only here. (Janos)
-AM_INIT_AUTOMAKE(kdelibs, "3.2.0") dnl searches for some needed programs
+AM_INIT_AUTOMAKE(kdelibs-3.1.95, "3.2.0") dnl searches for some needed programs
 
 AC_PROG_INSTALL
 
@


1.11
log
@update to 3.1.4
@
text
@d1 14
a14 4
$OpenBSD: patch-configure_in,v 1.10 2003/04/05 14:53:39 espie Exp $
--- configure.in.orig	2003-09-10 03:55:38.000000000 +0200
+++ configure.in	2003-12-04 02:08:43.000000000 +0100
@@@@ -1054,6 +1054,14 @@@@ else
a16 1
 
d24 1
a24 1
+
a26 1
 AC_TRY_LINK([
@


1.10
log
@Update most of kde to 3.1.1.
Needs rebuild to check against XFree 4.3.0.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.9 2003/02/25 15:03:12 espie Exp $
--- configure.in.orig	Tue Mar 11 06:42:35 2003
+++ configure.in	Sun Mar 30 16:24:08 2003
@@@@ -1050,6 +1050,14 @@@@ else
@


1.9
log
@Remove work-arounds for threads bugs that have been fixed since.
@
text
@d1 4
a4 15
$OpenBSD: patch-configure_in,v 1.8 2003/01/27 19:16:47 espie Exp $
--- configure.in.orig	Thu Jan 23 00:29:31 2003
+++ configure.in	Tue Feb 25 12:53:48 2003
@@@@ -628,7 +628,7 @@@@ AC_CHECK_FUNC(getaddrinfo,
   ]
 )
 case "$target" in
-  *-*-openbsd*)
+  *-*-openbsd2.*|*-*-openbsd3.[0-2])
     dnl OpenBSD's getaddrinfo is not thread-safe up to 3.2
     AC_DEFINE(HAVE_BROKEN_GETADDRINFO, 1, [Define if getaddrinfo is broken and should be replaced])
     ;;
@@@@ -1049,6 +1049,14 @@@@ if test "$path_su" = "no"; then
     AC_MSG_WARN(su was not found)
 else
d6 2
a7 2
+fi
+
d14 2
a15 2
 fi
 
d17 2
@


1.8
log
@kdelibs-3.1: getaddrinfo is marked as non thread-safe in main archive now.
@
text
@d1 15
a15 4
$OpenBSD: patch-configure_in,v 1.6 2002/11/29 05:13:37 brad Exp $
--- configure.in.orig	Tue Jan 14 14:01:29 2003
+++ configure.in	Tue Jan 14 16:31:26 2003
@@@@ -1051,6 +1051,14 @@@@ else
d17 2
a18 2
 fi
 
d25 2
a26 2
+fi
+
a27 2
 AC_MSG_CHECKING([POSIX.1b scheduling])
 AC_TRY_LINK([
@


1.7
log
@Don't use OpenBSD's getaddrinfo, as it is not thread-safe.
@
text
@d1 6
a6 14
$OpenBSD$
--- configure.in.orig	Tue Dec 17 11:42:55 2002
+++ configure.in	Mon Jan 13 21:45:03 2003
@@@@ -585,6 +585,12 @@@@ AC_CHECK_FUNC(getaddrinfo,
     AC_DEFINE(GETADDRINFO_RETURNS_UNIX, 1, [Define if getaddrinfo returns AF_UNIX sockets])
   ]
 )
+case "$target" in
+	  *-*-openbsd*)
+	  dnl our getaddrinfo is not thread-safe yet
+      AC_DEFINE(HAVE_BROKEN_GETADDRINFO, 1, [Define if getaddrinfo is broken and should be replaced])
+	    ;;
+esac
 LIBS="$my_LIBS"
a7 7
 AC_MSG_CHECKING([if struct sockaddr has member sa_len])
@@@@ -912,6 +918,14 @@@@ if test "$path_su" = "no"; then
     AC_MSG_WARN(su was not found)
 else
     AC_DEFINE_UNQUOTED(__PATH_SU, "$path_su", [path to su])
+fi
+
d14 2
a15 2
 fi
 
d17 2
@


1.6
log
@Fix a vulnerability which would potentially allow a carefully crafted
URL in an HTML page, HTML email or other KIO-enabled application to
execute arbitrary commands on the system using the victim's account on
the vulnerable machine.

http://www.kde.org/info/security/advisory-20021111-1.txt
@
text
@d1 19
a19 4
$OpenBSD: patch-configure_in,v 1.5 2002/07/16 22:27:51 espie Exp $
--- configure.in.orig	Wed Oct  2 15:23:54 2002
+++ configure.in	Sun Nov 24 04:18:55 2002
@@@@ -914,6 +914,14 @@@@ else
d21 2
a22 2
 fi
 
d29 2
a30 2
+fi
+
a31 2
 AC_MSG_CHECKING([POSIX.1b scheduling])
 AC_TRY_LINK([
@


1.5
log
@Groan, cvs playing games of `not up-to-date' with me.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.3 2002/05/23 14:37:22 espie Exp $
--- configure.in.orig	Tue May 14 02:33:04 2002
+++ configure.in	Thu May 16 18:36:21 2002
@@@@ -910,6 +910,14 @@@@ else
@


1.5.2.1
log
@MFC:
Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.6 2002/11/29 05:13:37 brad Exp $
--- configure.in.orig	Wed Oct  2 15:23:54 2002
+++ configure.in	Sun Nov 24 04:18:55 2002
@@@@ -914,6 +914,14 @@@@ else
@


1.4
log
@I've just verified I see the dancing kame (www.kame.net via ipv6)
patch by itojun@@, ok espie@@
@
text
@d2 3
a4 21
--- configure.in.orig	Tue May 21 09:40:54 2002
+++ configure.in	Sat May 25 11:28:20 2002
@@@@ -510,6 +510,7 @@@@ AC_CHECK_FUNC(getaddrinfo,
       {
         struct addrinfo hint, *res;
         int err;
+	memset(&hint, 0, sizeof hint);
         hint.ai_family = AF_INET;
         hint.ai_protocol = 0;
         hint.ai_socktype = SOCK_STREAM;
@@@@ -545,6 +546,7 @@@@ AC_CHECK_FUNC(getaddrinfo,
 	{
 	  struct addrinfo hint, *res;
 	  int err;
+	  memset(&hint, 0, sizeof hint);
 	  hint.ai_family = AF_UNSPEC;
 	  hint.ai_protocol = 0;
 	  hint.ai_socktype = SOCK_STREAM;
@@@@ -908,6 +910,14 @@@@ if test "$path_su" = "no"; then
     AC_MSG_WARN(su was not found)
 else
d6 2
a7 2
+fi
+
d14 2
a15 2
 fi
 
d17 2
@


1.3
log
@Update to kde 3.0.1.
Mostly remove integrated patches, and adapt a few plists.
There may be minor pieces yet to do...
@
text
@d1 22
a22 4
$OpenBSD: patch-configure_in,v 1.2 2002/04/15 06:45:43 espie Exp $
--- configure.in.orig	Tue May 14 02:33:04 2002
+++ configure.in	Thu May 16 18:36:21 2002
@@@@ -910,6 +910,14 @@@@ else
d24 2
a25 2
 fi
 
d32 2
a33 2
+fi
+
a34 2
 AC_MSG_CHECKING([POSIX.1b scheduling])
 AC_TRY_LINK([
@


1.2
log
@test for sudo. Do not use that yet.
@
text
@d1 4
a4 13
$OpenBSD: patch-configure_in,v 1.1 2002/04/09 22:29:15 espie Exp $
--- configure.in.orig	Tue Mar 26 01:59:17 2002
+++ configure.in	Sat Apr 13 21:47:15 2002
@@@@ -14,7 +14,7 @@@@ AC_CANONICAL_SYSTEM
 AC_ARG_PROGRAM
 
 dnl Automake doc recommends to do this only here. (Janos)
-AM_INIT_AUTOMAKE(kdelibs, "3.0") dnl searches for some needed programs
+AM_INIT_AUTOMAKE(kdelibs-3.0, "3.0") dnl searches for some needed programs
 
 AC_PROG_INSTALL
 
@@@@ -856,6 +856,14 @@@@ else
a18 8
@@@@ -906,6 +914,7 @@@@ AC_MSG_RESULT($kde_cv_have_struct_ucred)
 if test "$kde_cv_have_struct_ucred" = yes; then
    AC_DEFINE(HAVE_STRUCT_UCRED,1, [Define if struct ucred is present from sys/socket.h])
 fi
+AC_CHECK_FUNCS(getpeereid)
 
 # don't use it yet
 HELP_SUBDIR=kdoctools
@


1.1
log
@use getpeereid (same patch as kdelibs2)
@
text
@d1 28
a28 4
$OpenBSD$
--- configure.in.orig	Tue Apr  9 03:16:46 2002
+++ configure.in	Tue Apr  9 03:16:59 2002
@@@@ -906,6 +906,7 @@@@ AC_MSG_RESULT($kde_cv_have_struct_ucred)
@


1.1.2.1
log
@MFC:
fix IPv6 getaddrinfo test
@
text
@d1 4
a4 20
$OpenBSD: patch-configure_in,v 1.1 2002/04/09 22:29:15 espie Exp $
--- configure.in.orig	Mon Mar 25 19:59:17 2002
+++ configure.in	Fri Aug 16 19:22:56 2002
@@@@ -510,6 +510,7 @@@@ AC_CHECK_FUNC(getaddrinfo,
       {
         struct addrinfo hint, *res;
         int err;
+	memset(&hint, 0, sizeof hint);
         hint.ai_family = AF_INET;
         hint.ai_protocol = 0;
         hint.ai_socktype = SOCK_STREAM;
@@@@ -545,6 +546,7 @@@@ AC_CHECK_FUNC(getaddrinfo,
 	{
 	  struct addrinfo hint, *res;
 	  int err;
+	  memset(&hint, 0, sizeof hint);
 	  hint.ai_family = AF_UNSPEC;
 	  hint.ai_protocol = 0;
 	  hint.ai_socktype = SOCK_STREAM;
@@@@ -906,6 +908,7 @@@@ AC_MSG_RESULT($kde_cv_have_struct_ucred)
@


