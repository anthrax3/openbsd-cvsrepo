head	1.2;
access;
symbols
	OPENBSD_3_6:1.1.0.2
	OPENBSD_3_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2004.09.18.09.46.36;	author espie;	state dead;
branches;
next	1.1;

1.1
date	2004.08.25.21.48.39;	author robert;	state Exp;
branches;
next	;


desc
@@


1.2
log
@removed patches, better synched global patches.
@
text
@$OpenBSD: patch-kioslave_http_kcookiejar_kcookiejar_h,v 1.1 2004/08/25 21:48:39 robert Exp $
--- kioslave/http/kcookiejar/kcookiejar.h.orig	Sun Nov 30 10:47:10 2003
+++ kioslave/http/kcookiejar/kcookiejar.h	Tue Aug 24 00:15:39 2004
@@@@ -306,8 +306,8 @@@@
     /**
      * Returns a list of domains (_domainList) relevant for this host.
      */
-    static void extractDomains(const QString &_fqdn,
-                               QStringList &_domainList);
+    void extractDomains(const QString &_fqdn,
+                        QStringList &_domainList);
 
     static QString adviceToStr(KCookieAdvice _advice);
     static KCookieAdvice strToAdvice(const QString &_str);
@@@@ -329,11 +329,15 @@@@
       */
      void setShowCookieDetails (bool value) { m_showCookieDetails = value; }
 
+protected:
+     void stripDomain(const QString &_fqdn, QString &_domain);
+     QString stripDomain( KHttpCookiePtr cookiePtr);
 
 protected:
     QStringList m_domainList;
     KCookieAdvice m_globalAdvice;
     QDict<KHttpCookieList> m_cookieDomains;
+    QDict<int> m_twoLevelTLD;
 
     bool m_configChanged;
     bool m_cookiesChanged;
@


1.1
log
@SECURITY:
Web sites operating under the affected domains can set HTTP
cookies in such a way that the Konqueror web browser will send them
to all other web sites operating under the same domain.
A malicious website can use this as part of a session fixation attack.
http://www.kde.org/info/security/advisory-20040823-1.txt

ok pvalchev@@
@
text
@d1 1
a1 1
$OpenBSD$
@

