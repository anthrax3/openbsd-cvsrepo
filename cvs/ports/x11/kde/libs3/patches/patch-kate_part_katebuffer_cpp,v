head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.04.19.13.21.23;	author espie;	state Exp;
branches;
next	;
commitid	Tb3pL0YZO7h4JIlA;


desc
@@


1.1
log
@foldingList is made of uint, taking abs is non-sensical
@
text
@$OpenBSD$
--- kate/part/katebuffer.cpp.orig	Tue Apr 18 16:35:12 2017
+++ kate/part/katebuffer.cpp	Tue Apr 18 16:38:02 2017
@@@@ -917,7 +917,7 @@@@ void KateBuffer::updatePreviousNotEmptyLine(KateBufBlo
   } while (textLine->firstChar()==-1);
   kdDebug(13020)<<"updatePreviousNotEmptyLine: updating line:"<<(blk->startLine()+current_line)<<endl;
   QMemArray<uint> foldingList=textLine->foldingListArray();
-  while ( (foldingList.size()>0)  && ( abs(foldingList[foldingList.size()-2])==1)) {
+  while ( (foldingList.size()>0)  && ( foldingList[foldingList.size()-2]==1)) {
     foldingList.resize(foldingList.size()-2,QGArray::SpeedOptim);
   }
   addIndentBasedFoldingInformation(foldingList,addindent,deindent);
@
