head	1.4;
access;
symbols
	OPENBSD_4_4:1.3.0.24
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.22
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.20
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.18
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.16
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.14
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.12
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.10
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.8
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.6
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.4
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.2.0.2
	OPENBSD_3_2_BASE:1.2
	kde:1.1.1.1
	espie:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2009.01.29.22.37.21;	author jakemsr;	state dead;
branches;
next	1.3;

1.3
date	2003.01.27.19.53.58;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.04.30.19.01.52;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.04.20.17.08.42;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.04.20.17.08.42;	author espie;	state Exp;
branches;
next	;


desc
@@


1.4
log
@*sigh* more stuff that got missed in the previous commit
@
text
@$OpenBSD: patch-mpeglib_lib_util_audio_audioIO_Linux_cpp,v 1.3 2003/01/27 19:53:58 espie Exp $
--- mpeglib/lib/util/audio/audioIO_Linux.cpp.orig	Sun Oct 27 00:20:37 2002
+++ mpeglib/lib/util/audio/audioIO_Linux.cpp	Fri Jan  3 14:41:49 2003
@@@@ -30,6 +30,9 @@@@
 #elif defined(HAVE_MACHINE_SOUNDCARD_H) 
 	#undef AUSIZ
 	#include <machine/soundcard.h>
+#elif defined(HAVE_SOUNDCARD_H)
+	#undef AUSIZ
+	#include <soundcard.h>
 #elif defined(__NetBSD__)
 	#undef AUSIZ
 	#include <soundcard.h>
@@@@ -37,6 +40,9 @@@@
 	// fallback:
 	#include <linux/soundcard.h>
 #endif
+#ifdef __OpenBSD__
+#define AUDIO_DEVICE_NAME "/dev/audio"
+#endif
 
 
 /* optimal fragment size */
@@@@ -68,7 +74,7 @@@@ void audioDestruct() {
    should open the audio device, perform any special initialization	
 */
 int  audioOpen() {
-  audio_fd = open ("/dev/dsp", O_WRONLY, 0);
+  audio_fd = open (AUDIO_DEVICE_NAME, O_WRONLY, 0);
   if (audio_fd < 0)  {
     perror("Unable to open the audio");
   }
@


1.3
log
@kdemultimedia 3.1, with fixes for kaudiocdcreator that used to be in
kdebase...
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@oops.
@
text
@d1 16
a16 15
$OpenBSD: patch-mpeglib_lib_util_audio_audioIO_Linux_cpp,v 1.1.1.1 2002/04/20 17:08:42 espie Exp $
--- mpeglib/lib/util/audio/audioIO_Linux.cpp.orig	Tue Jun  5 20:55:39 2001
+++ mpeglib/lib/util/audio/audioIO_Linux.cpp	Mon Apr 29 23:03:54 2002
@@@@ -39,11 +39,21 @@@@
 #undef AUSIZ
 #include <sys/soundcard.h>
 #else
+#if defined(HAVE_SOUNDCARD_H)
+#undef AUSIZ
+#include <soundcard.h>
+#else
 // fallback:
 #include <linux/soundcard.h>
 
 #endif
a17 1
+#endif
a19 2
+#else
+#define AUDIO_DEVICE_NAME "/dev/dsp"
d24 1
a24 1
@@@@ -75,7 +85,7 @@@@ void audioDestruct() {
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- mpeglib/lib/util/audio/audioIO_Linux.cpp.orig	Sat Apr 20 16:42:26 2002
+++ mpeglib/lib/util/audio/audioIO_Linux.cpp	Sat Apr 20 16:46:08 2002
@@@@ -39,11 +39,20 @@@@
d9 1
d26 1
a26 1
@@@@ -75,7 +84,7 @@@@ void audioDestruct() {
@


1.1.1.1
log
@initial attempt at a kdemultimedia package.
enough patches to make everything compiles, lots of patches to
rename the internal mpeglib and workman libraries to something that
doesn't conflict with the rest of the ports tree.

kscd works, noatun and skins as well.

mpeglib seems to have some threads issue yet, but it compiles.
@
text
@@
