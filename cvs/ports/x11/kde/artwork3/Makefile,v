head	1.75;
access;
symbols
	OPENBSD_6_1:1.75.0.6
	OPENBSD_6_1_BASE:1.75
	OPENBSD_6_0:1.75.0.4
	OPENBSD_6_0_BASE:1.75
	OPENBSD_5_9:1.75.0.2
	OPENBSD_5_9_BASE:1.75
	OPENBSD_5_8:1.74.0.4
	OPENBSD_5_8_BASE:1.74
	OPENBSD_5_7:1.73.0.6
	OPENBSD_5_7_BASE:1.73
	OPENBSD_5_6:1.73.0.4
	OPENBSD_5_6_BASE:1.73
	OPENBSD_5_5:1.73.0.2
	OPENBSD_5_5_BASE:1.73
	OPENBSD_5_4:1.70.0.2
	OPENBSD_5_4_BASE:1.70
	OPENBSD_5_3:1.69.0.2
	OPENBSD_5_3_BASE:1.69
	OPENBSD_5_2:1.67.0.2
	OPENBSD_5_2_BASE:1.67
	OPENBSD_5_1_BASE:1.66
	OPENBSD_5_1:1.66.0.2
	OPENBSD_5_0:1.64.0.2
	OPENBSD_5_0_BASE:1.64
	OPENBSD_4_9:1.62.0.2
	OPENBSD_4_9_BASE:1.62
	OPENBSD_4_8:1.61.0.2
	OPENBSD_4_8_BASE:1.61
	OPENBSD_4_7:1.58.0.2
	OPENBSD_4_7_BASE:1.58
	OPENBSD_4_6:1.56.0.4
	OPENBSD_4_6_BASE:1.56
	OPENBSD_4_5:1.56.0.2
	OPENBSD_4_5_BASE:1.56
	OPENBSD_4_4:1.52.0.2
	OPENBSD_4_4_BASE:1.52
	OPENBSD_4_3:1.51.0.2
	OPENBSD_4_3_BASE:1.51
	OPENBSD_4_2:1.49.0.2
	OPENBSD_4_2_BASE:1.49
	OPENBSD_4_1:1.47.0.2
	OPENBSD_4_1_BASE:1.47
	OPENBSD_4_0:1.42.0.2
	OPENBSD_4_0_BASE:1.42
	OPENBSD_3_9:1.39.0.2
	OPENBSD_3_9_BASE:1.39
	OPENBSD_3_8:1.35.0.2
	OPENBSD_3_8_BASE:1.35
	OPENBSD_3_7:1.32.0.2
	OPENBSD_3_7_BASE:1.32
	OPENBSD_3_6:1.28.0.2
	OPENBSD_3_6_BASE:1.28
	OPENBSD_3_5:1.26.0.2
	OPENBSD_3_5_BASE:1.26
	OPENBSD_3_4:1.18.0.2
	OPENBSD_3_4_BASE:1.18
	OPENBSD_3_3:1.15.0.2
	OPENBSD_3_3_BASE:1.15
	OPENBSD_3_2:1.10.0.2
	OPENBSD_3_2_BASE:1.10
	OPENBSD_3_1:1.6.0.2
	OPENBSD_3_1_BASE:1.6
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.75
date	2015.08.17.20.04.16;	author sthen;	state Exp;
branches;
next	1.74;
commitid	Yxo2r3gGS2UtmrOy;

1.74
date	2015.03.27.08.16.18;	author ajacoutot;	state Exp;
branches;
next	1.73;
commitid	BUhOiEl2FUSRKwq7;

1.73
date	2013.10.28.12.16.22;	author zhuk;	state Exp;
branches;
next	1.72;

1.72
date	2013.10.22.11.33.57;	author zhuk;	state Exp;
branches;
next	1.71;

1.71
date	2013.10.05.07.34.38;	author espie;	state Exp;
branches;
next	1.70;

1.70
date	2013.03.19.13.07.14;	author nigel;	state Exp;
branches;
next	1.69;

1.69
date	2013.01.18.15.30.46;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2012.09.02.11.23.19;	author naddy;	state Exp;
branches;
next	1.67;

1.67
date	2012.06.15.08.30.22;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2011.12.03.19.13.19;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2011.09.16.12.29.15;	author espie;	state Exp;
branches;
next	1.64;

1.64
date	2011.05.19.14.43.17;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2011.05.11.08.03.24;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2010.11.22.08.37.02;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2010.07.10.12.44.30;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2010.07.08.21.28.49;	author espie;	state Exp;
branches;
next	1.59;

1.59
date	2010.05.15.08.48.01;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2009.08.27.19.44.38;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2009.08.11.08.40.40;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2009.01.29.22.28.58;	author jakemsr;	state Exp;
branches;
next	1.55;

1.55
date	2008.11.29.11.30.46;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2008.08.29.10.54.06;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2008.08.27.13.39.27;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2008.03.27.09.35.01;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2007.10.24.21.52.16;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2007.09.15.20.04.21;	author merdely;	state Exp;
branches;
next	1.49;

1.49
date	2007.05.25.09.49.54;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2007.05.09.11.31.43;	author bernd;	state Exp;
branches;
next	1.47;

1.47
date	2007.01.28.13.18.50;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2006.11.20.08.07.40;	author steven;	state Exp;
branches;
next	1.45;

1.45
date	2006.11.06.12.40.19;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2006.10.12.23.12.18;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2006.09.18.12.19.40;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2006.08.03.10.53.35;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2006.06.03.12.47.30;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2006.04.01.10.49.18;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2006.02.03.13.31.32;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2005.12.19.09.54.29;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2005.11.29.14.12.59;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2005.10.17.11.28.24;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2005.07.28.08.47.39;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2005.06.02.14.01.25;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2005.03.29.21.18.34;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2004.12.16.07.25.25;	author alek;	state Exp;
branches;
next	1.31;

1.31
date	2004.12.12.11.33.24;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2004.10.19.00.25.24;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2004.09.22.21.22.27;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2004.07.24.12.47.13;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2004.04.13.04.22.37;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2004.03.07.21.08.43;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2004.02.23.21.35.04;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2004.02.07.01.46.23;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2004.02.04.01.09.45;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2004.02.02.00.55.15;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2004.02.01.14.59.21;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2003.12.08.02.08.23;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2003.12.07.20.19.13;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2003.07.30.12.59.22;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2003.06.12.19.16.15;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2003.04.05.14.53.38;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2003.01.27.19.42.20;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2003.01.07.15.36.35;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2002.12.23.14.22.32;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2002.12.02.16.27.21;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2002.10.28.21.44.32;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2002.09.01.08.25.25;	author espie;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2002.07.16.12.20.42;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2002.05.28.17.18.46;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2002.05.23.14.37.21;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2002.04.10.01.24.39;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2002.04.07.01.47.11;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2002.04.07.00.17.42;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.04.04.12.13.02;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.04.02.17.06.23;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.23.15.09.35;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.23.15.09.35;	author espie;	state Exp;
branches;
next	;

1.10.2.1
date	2002.12.26.22.28.17;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.75
log
@sync WANTLIB
@
text
@# $OpenBSD: Makefile,v 1.74 2015/03/27 08:16:18 ajacoutot Exp $

COMMENT-main = 		K Desktop Environment, additional artwork
COMMENT-emoticons =	KDE emoticons
CATEGORIES =		x11 x11/kde
VERSION =		3.5.10
DISTNAME =		kdeartwork-${VERSION}
PKGNAME-main =		${DISTNAME}
PKGNAME-emoticons =	kde-emoticons-${VERSION}
PKGSPEC-main =		kdeartwork->=3,<4
REVISION-main =		18
REVISION-emoticons =	0

MODULES =		x11/kde devel/gettext
MODKDE_VERSION =	3.5.8

MULTI_PACKAGES =	-main -emoticons

BUILD_DEPENDS =		x11/xscreensaver

RUN_DEPENDS-emoticons =
RUN_DEPENDS =		x11/xscreensaver \
			x11/gtk+3,-guic

LIB_DEPENDS-emoticons =
LIB_DEPENDS =		x11/kde/libs3 \
			x11/kde/base3

SEPARATE_BUILD =	flavored
CONFIGURE_ENV +=	XSCREENSAVER=${LOCALBASE}/libexec/xscreensaver

WANTLIB-emoticons =
WANTLIB =	FLAC GL GLU ICE SM X11 Xdamage Xext Xfixes Xrender Xt
WANTLIB +=	Xxf86vm art_lgpl_2 artsflow artsflow_idl artskde audiofile c
WANTLIB +=	drm expat fam fontconfig freetype glib-2.0 gmodule-2.0 
WANTLIB +=	gthread-2.0 idn kmedia2_idl kwalletclient lib/kde3/DCOP
WANTLIB +=	lib/kde3/kdecorations lib/kde3/kdecore>=6 lib/kde3/kdefx
WANTLIB +=	lib/kde3/kdesu lib/kde3/kdeui lib/kde3/kio lib/kde3/kparts
WANTLIB +=	lib/kde3/kscreensaver m mad mcop ogg pcre png pthread
WANTLIB +=	pthread-stubs qtmcop sndio soundserver_idl stdc++
WANTLIB +=	util vorbis vorbisenc vorbisfile xcb z
WANTLIB +=	X11-xcb Xau Xdmcp glapi xcb-dri2 xcb-glx

.include <bsd.port.mk>
@


1.74
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2013/10/28 12:16:22 zhuk Exp $
d11 1
a11 1
REVISION-main =		17
d42 1
a42 1

@


1.73
log
@Extract emoticons off kdeartwork into the kde-emoticons-* packages.
This is a part of KDE3 and KDE4 deconflicting work.

okay landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2013/10/22 11:33:57 zhuk Exp $
d11 2
a12 1
REVISION-main =		16
d23 1
a23 1
			x11/gtk+2,-guic
@


1.72
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2013/10/05 07:34:38 espie Exp $
d3 2
a4 1
COMMENT = 		K Desktop Environment, additional artwork
d8 4
a11 2
MODKDE_VERSION =	3.5.8
PKGSPEC =		kdeartwork->=3,<4
d14 1
d16 1
a16 3
LIB_DEPENDS =		x11/kde/libs3 \
			x11/kde/base3
SEPARATE_BUILD =	flavored
d18 1
a18 1
CONFIGURE_ENV +=	XSCREENSAVER=${LOCALBASE}/libexec/xscreensaver
d20 1
a20 1
BUILD_DEPENDS =		x11/xscreensaver
d24 6
a29 1
REVISION =		15
d31 1
@


1.71
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2013/03/19 13:07:14 nigel Exp $
d22 1
a22 1
REVISION =		14
@


1.70
log
@WANTLIB updates for fontconfig and other libraries.

Ok sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/01/18 15:30:46 ajacoutot Exp $
d8 1
d22 1
a22 1
REVISION =		13
@


1.69
log
@Fix depends after recent xscreensaver merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2012/09/02 11:23:19 naddy Exp $
d21 1
a21 1
REVISION =		12
d23 9
a31 8
WANTLIB = GL GLU ICE SM X11 Xau Xdamage Xdmcp Xext Xfixes Xrender Xt Xxf86vm \
	art_lgpl_2 artsflow artsflow_idl artskde audiofile c drm fam glib-2.0 \
	gmodule-2.0 gthread-2.0 idn jpeg kmedia2_idl kwalletclient \
	lib/kde3/DCOP lib/kde3/kdecorations lib/kde3/kdecore>=6 \
	lib/kde3/kdefx lib/kde3/kdesu lib/kde3/kdeui lib/kde3/kio \
	lib/kde3/kparts lib/kde3/kscreensaver m mad mcop ogg pcre png pthread \
	pthread-stubs qtmcop rpcsvc sndio soundserver_idl stdc++ util vorbis \
	vorbisenc vorbisfile xcb z
@


1.68
log
@remove xscreensaver's no_gle flavor here as well
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2012/06/15 08:30:22 ajacoutot Exp $
d17 2
a18 2
BUILD_DEPENDS =		x11/xscreensaver,-data
RUN_DEPENDS =		x11/xscreensaver,-data \
d21 1
a21 1
REVISION =		11
@


1.67
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/12/03 19:13:19 ajacoutot Exp $
d17 2
a18 2
BUILD_DEPENDS =		x11/xscreensaver,-data,no_gle
RUN_DEPENDS =		x11/xscreensaver,-data,no_gle \
@


1.66
log
@Move all icons themes to x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/09/16 12:29:15 espie Exp $
d21 1
a21 1
REVISION =		10
@


1.65
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/05/19 14:43:17 ajacoutot Exp $
d18 2
a19 1
RUN_DEPENDS =		x11/xscreensaver,-data,no_gle
d21 1
a21 1
REVISION =	9
@


1.64
log
@We want to use @@unexec here and not @@unexec-delete.
The reason is that if a theme is removed after updating to a new version,
then we are left over with a useless cache file because we are using
pkg_add -u and not pkg_delete.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/05/11 08:03:24 ajacoutot Exp $
d20 1
a20 1
REVISION =	8
@


1.63
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/11/22 08:37:02 espie Exp $
d20 1
a20 1
REVISION =	7
@


1.62
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/07/10 12:44:30 espie Exp $
d20 2
a21 1
REVISION =	6
@


1.61
log
@use REVISION instead of hardcoding p-numbers.

Note the way REVISION and WANTLIB are defined.
This is (more or less) the Makefile portion that lib-depends-check is supposed
to handle eventually...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/07/08 21:28:49 espie Exp $
d11 2
a12 2
LIB_DEPENDS =		::x11/kde/libs3 \
			::x11/kde/base3
d17 2
a18 2
BUILD_DEPENDS =		:xscreensaver-data-*:x11/xscreensaver,-data,no_gle
RUN_DEPENDS =		:xscreensaver-data-*:x11/xscreensaver,-data,no_gle
d24 1
a24 1
	lib/kde3/DCOP lib/kde3/kdecorations lib/kde3/kdecore.>=6 \
@


1.60
log
@clean-up AND small changes:
- copy libs over to lib/kde3 (to prepare coexistence with kde4, eventually)
- move lib depends over to WANTLIB
- update WANTLIB for recent changes
- create links to avoid pkg_create protests over non existing links
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/05/15 08:48:01 ajacoutot Exp $
a6 1
PKGNAME =		${DISTNAME}p6
d20 1
@


1.59
log
@Add missing gtk-update-icon-cache goos.

ok landry@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2009/08/27 19:44:38 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p5
d12 2
a13 2
LIB_DEPENDS =		kdecore.>=6,DCOP,kdefx,kdesu,kdeui,kio,kparts,kscreensaver::x11/kde/libs3 \
			kdecorations::x11/kde/base3
d21 8
a28 6
WANTLIB =	GL GLU ICE SM X11 Xext Xrender Xt art_lgpl_2 artsflow \
		artsflow_idl artskde audiofile c glib-2.0 \
		gmodule-2.0 gthread-2.0 jpeg kmedia2_idl \
		kwalletclient m mad mcop ogg png pthread qtmcop sndio \
		soundserver_idl stdc++ util vorbis vorbisenc vorbisfile z \
		idn Xau Xdmcp fam rpcsvc pcre pthread-stubs xcb
@


1.58
log
@Use the gettext module.

ok landry@@ on an earlier diff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2009/08/11 08:40:40 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p4
@


1.57
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/01/29 22:28:58 jakemsr Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p3
d10 2
d23 1
a23 1
		gmodule-2.0 gthread-2.0 iconv intl jpeg kmedia2_idl \
@


1.56
log
@* add sndio backend for artsd
* use audio(4) instead of ossaudio(3) in kdemultimedia3 as much as
  possible
* sync WANTLIB in dependant ports

testing/prodding from todd@@.  briefly discussed with naddy@@, ajacoutot@@
and jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2008/11/29 11:30:46 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p2
d24 1
a24 1
		idn Xau Xdmcp fam rpcsvc pcre
@


1.55
log
@- this only needs to build/run_depends on xscreensaver-data
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2008/08/29 10:54:06 espie Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p1
d20 1
a20 1
		artsflow_idl artskde audiofile c esd glib-2.0 \
d22 1
a22 1
		kwalletclient m mad mcop ogg ossaudio png pthread qtmcop \
@


1.54
log
@stop depending on the exact screensaver modules being installed,
just put all the desktop files in, it's simpler.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2008/08/27 13:39:27 espie Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p0
d16 2
a17 2
BUILD_DEPENDS =		::x11/xscreensaver,no_gle
RUN_DEPENDS =		:xscreensaver-*:x11/xscreensaver,no_gle
@


1.53
log
@3.5.10 update...
as for sdk, recognize svn, and create an extra package for it...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2008/03/27 09:35:01 espie Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}
@


1.52
log
@3.5.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2007/10/24 21:52:16 espie Exp $
d3 6
a8 6
COMMENT= 		K Desktop Environment, additional artwork
CATEGORIES=		x11 x11/kde
VERSION=		3.5.9
DISTNAME=		kdeartwork-${VERSION}
PKGNAME=		${DISTNAME}
MODKDE_VERSION=		3.5.8
d10 3
a12 3
LIB_DEPENDS=kdecore.>=6,DCOP,kdefx,kdesu,kdeui,kio,kparts,kscreensaver::x11/kde/libs3 \
	kdecorations::x11/kde/base3
SEPARATE_BUILD=flavored
d14 1
a14 1
CONFIGURE_ENV+=XSCREENSAVER=${LOCALBASE}/libexec/xscreensaver
d16 2
a17 2
BUILD_DEPENDS=::x11/xscreensaver,no_gle
RUN_DEPENDS=:xscreensaver-*:x11/xscreensaver,no_gle
d19 1
a19 1
WANTLIB=	GL GLU ICE SM X11 Xext Xrender Xt art_lgpl_2 artsflow \
@


1.51
log
@update to 3.5.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2007/09/15 20:04:21 merdely Exp $
d5 1
a5 1
VERSION=		3.5.8
d24 1
a24 1
		idn Xau Xdmcp fam rpcsvc
@


1.50
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2007/05/25 09:49:54 espie Exp $
d5 1
a5 1
VERSION=		3.5.7
d8 1
a8 1
MODKDE_VERSION=		3.5.7
@


1.49
log
@update a large subset of kde 3 to 3.5.7.
Simplify the infrastructure a bit, and let it compile with libfam, now...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2007/05/09 11:31:43 bernd Exp $
d3 1
a3 1
COMMENT= 		"K Desktop Environment, additional artwork"
@


1.48
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2007/01/28 13:18:50 espie Exp $
d5 1
a5 1
VERSION=		3.5.6
d7 2
a8 2
PKGNAME=		${DISTNAME}p0
MODKDE_VERSION=		3.5.3
d24 2
a25 1
		idn
a26 3
USE_X11=	Yes
USE_LIBTOOL=Yes
LIBTOOL_FLAGS=--tag=disable-static
@


1.47
log
@kde 3.5.6 update, missing bindings and l10n.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2006/11/20 08:07:40 steven Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
@


1.46
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2006/11/06 12:40:19 jasper Exp $
d5 1
a5 1
VERSION=		3.5.5
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.45
log
@regen plist after xscreensaver update
bump pkgname

noticed by viq <vicviq at gmail.com>

ok espie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2006/10/12 23:12:18 espie Exp $
d26 1
@


1.44
log
@Update to 3.5.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2006/09/18 12:19:40 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
@


1.43
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2006/08/03 10:53:35 espie Exp $
d5 1
a5 1
VERSION=		3.5.4
@


1.42
log
@update to 3.5.4 first part.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2006/06/03 12:47:30 espie Exp $
d20 2
a21 2
		artsflow_idl artskde audiofile c esd glib-2.0.0.0 \
		gmodule-2.0.0.0 gthread-2.0.0.0 iconv intl jpeg kmedia2_idl \
@


1.41
log
@minor update to 3.5.3, integrate libidn support (some more changes to come
to WANTLIB in packages dependent on KDE).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/04/01 10:49:18 espie Exp $
d5 1
a5 1
VERSION=		3.5.3
d10 1
a10 1
LIB_DEPENDS=kdecore.6,DCOP,kdefx,kdesu,kdeui,kio,kparts,kscreensaver::x11/kde/libs3 \
@


1.40
log
@update to 3.5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2006/02/03 13:31:32 espie Exp $
d5 1
a5 1
VERSION=		3.5.2
d8 1
a8 1
MODKDE_VERSION=		3.5.2
d23 2
a24 1
		soundserver_idl stdc++ util vorbis vorbisenc vorbisfile z
@


1.39
log
@3.5.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2005/12/19 09:54:29 espie Exp $
d5 1
a5 1
VERSION=		3.5.1
d8 1
a8 1
MODKDE_VERSION=		3.5
@


1.38
log
@more use of system libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2005/11/29 14:12:59 espie Exp $
d5 1
a5 1
VERSION=		3.5.0
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.37
log
@more KDE 3.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2005/10/17 11:28:24 espie Exp $
d7 1
d25 2
@


1.36
log
@Minor update to kde 3.4.3, mostly zap qt 3.3.5 patches that have been
integrated, recognize theora in multimedia.
i18n3 to come...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2005/07/28 08:47:39 espie Exp $
d5 1
a5 1
VERSION=		3.4.3
d7 1
a7 1
MODKDE_VERSION=		3.4
@


1.35
log
@KDE 3.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2005/06/02 14:01:25 espie Exp $
d5 1
a5 1
VERSION=		3.4.2
@


1.34
log
@update to 3.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2005/03/29 21:18:34 espie Exp $
d5 1
a5 1
VERSION=		3.4.1
@


1.33
log
@most of kde 3.4, will finish getting fixed in tree... ;-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/12/16 07:25:25 alek Exp $
d5 1
a5 1
VERSION=		3.4.0
@


1.32
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2004/12/12 11:33:24 espie Exp $
d5 1
a5 1
VERSION=		3.3.2
d7 1
a7 1
MODKDE_VERSION=		3.3.0
@


1.31
log
@3.3.2 is out, rejoice.
minor update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2004/10/19 00:25:24 espie Exp $
d17 6
@


1.30
log
@minor update to 3.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2004/09/22 21:22:27 espie Exp $
d5 1
a5 1
VERSION=		3.3.1
@


1.29
log
@update to 3.3.0, needs patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2004/07/24 12:47:13 espie Exp $
d5 1
a5 1
VERSION=		3.3.0
@


1.28
log
@basic update to kde 3.2.3.
A few files to remove/add yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/04/13 04:22:37 brad Exp $
d5 1
a5 1
VERSION=		3.2.3
d7 1
a7 1
MODKDE_VERSION=		3.2.3
@


1.27
log
@better COMMENTs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/03/07 21:08:43 espie Exp $
d5 1
a5 1
VERSION=		3.2.1
d7 1
a7 1
MODKDE_VERSION=		3.2
@


1.26
log
@update to kde 3.2.1, as agreed with pvalchev@@.
The distfiles should be publically available shortly.
this fixes a few nits: build accessibility, move cvscheck to avoid conflicts.

i18n files missing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/02/23 21:35:04 espie Exp $
d3 1
a3 1
COMMENT= 		"X11 toolkit, additional artwork"
@


1.25
log
@licence issues, depend on a suitable xscreensaver by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/02/07 01:46:23 espie Exp $
d5 1
a5 1
VERSION=		3.2.0
@


1.24
log
@start updating to 3.2.0, the actual release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2004/02/04 01:09:45 espie Exp $
d15 2
a16 2
BUILD_DEPENDS=::x11/xscreensaver
RUN_DEPENDS=::x11/xscreensaver
@


1.23
log
@kscreensaver looks much better when it borrows from xscreensaver...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/02/02 00:55:15 espie Exp $
d5 1
a5 1
VERSION=		3.1.95
@


1.22
log
@dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/02/01 14:59:21 espie Exp $
d13 4
@


1.21
log
@basic import of kde 3.1.95, still missing a few parts.

TODO:
- compile the missing packages.
- redo konsole fixes for our ttys.
- figure out why kuickshow is broken.
- make sure we get all dependencies.
- repair kscd.
- find out why nsplugins does not like the native jdk.
- figure out how to get kvim to work.
- change filenames or adjust check-lib-depends to cope.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/12/08 02:08:23 brad Exp $
d9 1
a9 1
LIB_DEPENDS=kdecore.4,DCOP,kdefx,kdesu,kdeui,kio,kparts,kscreensaver::x11/kde/libs3 \
@


1.20
log
@don't need this pre-fake target
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2003/07/30 12:59:22 espie Exp $
d5 1
a5 1
VERSION=		3.1.4
d7 1
d9 2
a10 2
LIB_DEPENDS=kdecore.4,DCOP,kdefx,kdesu,kdeui,kio,kscreensaver::x11/kde/libs3 \
    kwin::x11/kde/base3
@


1.19
log
@update to 3.1.4
@
text
@a11 2
pre-fake:
	${INSTALL_DATA_DIR} ${PREFIX}/share/apps/kthememgr/Themes
@


1.18
log
@Update to kde 3.1.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2003/06/12 19:16:15 espie Exp $
d5 1
a5 1
VERSION=		3.1.3
@


1.17
log
@Update to kde 3.1.2 (requires recent autoconf).
Fix some build issues, mainly in kdebindings and kdemultimedia.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2003/04/05 14:53:38 espie Exp $
d5 1
a5 1
VERSION=		3.1.2
@


1.16
log
@Update most of kde to 3.1.1.
Needs rebuild to check against XFree 4.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2003/01/27 19:42:20 espie Exp $
d5 1
a5 1
VERSION=		3.1.1
@


1.15
log
@simple 3.1 updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2003/01/07 15:36:35 espie Exp $
d5 1
a5 1
VERSION=		3.1
@


1.14
log
@Add missing SEPARATE_BUILDs, turn them into flavored
Trim old commented cruft
Add debug flavor, and --disable-dependency-tracking if !debug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/12/23 14:22:32 espie Exp $
d5 1
a5 1
VERSION=		3.0.5a
@


1.13
log
@Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/12/02 16:27:21 espie Exp $
d10 1
a10 1
SEPARATE_BUILD=simple
@


1.12
log
@Update to 3.0.5
i18n not checked yet...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/10/28 21:44:32 espie Exp $
d5 1
a5 1
VERSION=		3.0.5
@


1.11
log
@3.0.4 update, most of it.
i18n packlists to check yet...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/09/01 08:25:25 espie Exp $
d5 1
a5 1
VERSION=		3.0.4
@


1.10
log
@kde 3.0.3, incorporated kssl changes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/07/16 12:20:42 espie Exp $
d5 1
a5 1
VERSION=		3.0.3
@


1.10.2.1
log
@MFC:
Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/12/23 14:22:32 espie Exp $
d5 1
a5 1
VERSION=		3.0.5a
@


1.9
log
@Update to 3.0.2, somewhat lately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/05/28 17:18:46 espie Exp $
d5 1
a5 1
VERSION=		3.0.2
@


1.8
log
@seems that kde is happy with SEPARATE_BUILD.
I should have checked this ages ago.
Will switch the other dirs after I've checked that they're okay too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/05/23 14:37:21 espie Exp $
d5 1
a5 2
NEED_VERSION=		1.504
VERSION=		3.0.1
@


1.7
log
@Update to kde 3.0.1.
Mostly remove integrated patches, and adapt a few plists.
There may be minor pieces yet to do...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/04/10 01:24:39 espie Exp $
d11 1
@


1.6
log
@Use a common Makefile.inc to remove lots of common parts in all kde dirs.
Remove lame stuff in base3, since run-time auto-detection is working now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/04/07 01:47:11 espie Exp $
d6 1
a6 1
VERSION=		3.0
@


1.5
log
@vim word-wrapping... thx Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/04/07 00:17:42 espie Exp $
a7 12
DIST_SUBDIR=		kde

HOMEPAGE=		http://www.kde.org
MASTER_SITES=	${MASTER_SITE_KDE}
MASTER_SITE_SUBDIR=	stable/${VERSION}/src
EXTRACT_SUFX=		.tar.bz2

# Parts of kde want shared libraries to work, as some symbols are
# duplicated over the place.
NOT_FOR_ARCHS=${NO_SHARED_ARCHS}

MODULES=qt3
a10 40

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/admin
CONFIGURE_ARGS=		${MODQT_CONFIGURE_ARGS}
CONFIGURE_ARGS+=	--with-extra-libs=${LOCALBASE}/lib
CONFIGURE_ARGS+=	--with-extra-includes=${LOCALBASE}/include
CONFIGURE_ARGS+=	--with-xdmdir=/var/X11/kdm
CONFIGURE_ARGS+=	--disable-debug
CONFIGURE_ARGS+=	--enable-final
CONFIGURE_ARGS+=	--disable-threading
CONFIGURE_ARGS+=	--disable-mt
#CONFIGURE_ARGS+=	--enable-debug
#CONFIGURE_ARGS+=	--without-motif
#CONFIGURE_ARGS+=--enable-static --enable-debug --disable-shared

PATCH_LIST=${PORTSDIR}/x11/kde/arts3/patches/p-* patch-*

# Not yet, too much time to compile
#CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}

USE_GMAKE=		Yes
CONFIGURE_ENV=		RUN_KAPPFINDER=no KDEDIR=${LOCALBASE}
CONFIGURE_ENV+=		ac_aux_files=''
MAKE_ENV=		${CONFIGURE_ENV}


# Ensure qt2 will always be at the front
MAKE_FLAGS=CXXLD='--tag CXX ${CXX} -L${MODQT_LIBDIR}'
FAKE_FLAGS=TAR=${TAR} DESTDIR=${WRKINST}

# GPL
# Note that lame is not a problem, since kdebase is packaged with a
# stub lame library which does nothing, and can be overriden with a
# live one later.
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
@


1.4
log
@kwin's in base. Thx naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/04/04 12:13:02 espie Exp $
d21 2
a22 2
LIB_DEPENDS=	kdecore.4,DCOP,kdefx,kdesu,kdeui,kio,kscreensaver::x11/kde/libs3
 kwin::x11/kde/base3
@


1.3
log
@Real 3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/04/02 17:06:23 espie Exp $
d21 2
a22 1
LIB_DEPENDS=	kdecore.4,DCOP,kdefx,kdesu,kdeui,kio,kscreensaver,kwin::x11/kde/libs3
@


1.2
log
@found a mirror that carries RC3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/03/23 15:09:35 espie Exp $
d6 1
a6 1
VERSION=		3.0rc3
d11 2
a12 3
#MASTER_SITES=	${MASTER_SITE_KDE}
MASTER_SITES= http://gd.tuwien.ac.at/pub/kde/%SUBDIR%/
MASTER_SITE_SUBDIR=	unstable/kde-${VERSION}/src
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/03/05 14:09:00 espie Exp $
d12 1
a12 1
MASTER_SITES=ftp://ftp.kde.org/pub/kde/%SUBDIR%/
@


1.1.1.1
log
@kde3, release candidate 3
@
text
@@
