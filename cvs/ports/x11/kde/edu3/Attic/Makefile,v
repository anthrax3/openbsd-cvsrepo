head	1.75;
access;
symbols
	OPENBSD_5_9:1.74.0.2
	OPENBSD_5_9_BASE:1.74
	OPENBSD_5_8:1.73.0.4
	OPENBSD_5_8_BASE:1.73
	OPENBSD_5_7:1.72.0.2
	OPENBSD_5_7_BASE:1.72
	OPENBSD_5_6:1.71.0.4
	OPENBSD_5_6_BASE:1.71
	OPENBSD_5_5:1.71.0.2
	OPENBSD_5_5_BASE:1.71
	OPENBSD_5_4:1.67.0.2
	OPENBSD_5_4_BASE:1.67
	OPENBSD_5_3:1.66.0.2
	OPENBSD_5_3_BASE:1.66
	OPENBSD_5_2:1.64.0.2
	OPENBSD_5_2_BASE:1.64
	OPENBSD_5_1_BASE:1.63
	OPENBSD_5_1:1.63.0.2
	OPENBSD_5_0:1.61.0.4
	OPENBSD_5_0_BASE:1.61
	OPENBSD_4_9:1.61.0.2
	OPENBSD_4_9_BASE:1.61
	OPENBSD_4_8:1.60.0.2
	OPENBSD_4_8_BASE:1.60
	OPENBSD_4_7:1.57.0.2
	OPENBSD_4_7_BASE:1.57
	OPENBSD_4_6:1.54.0.4
	OPENBSD_4_6_BASE:1.54
	OPENBSD_4_5:1.54.0.2
	OPENBSD_4_5_BASE:1.54
	OPENBSD_4_4:1.52.0.2
	OPENBSD_4_4_BASE:1.52
	OPENBSD_4_3:1.51.0.2
	OPENBSD_4_3_BASE:1.51
	OPENBSD_4_2:1.48.0.2
	OPENBSD_4_2_BASE:1.48
	OPENBSD_4_1:1.46.0.2
	OPENBSD_4_1_BASE:1.46
	OPENBSD_4_0:1.42.0.2
	OPENBSD_4_0_BASE:1.42
	OPENBSD_3_9:1.39.0.2
	OPENBSD_3_9_BASE:1.39
	OPENBSD_3_8:1.33.0.2
	OPENBSD_3_8_BASE:1.33
	OPENBSD_3_7:1.30.0.2
	OPENBSD_3_7_BASE:1.30
	OPENBSD_3_6:1.25.0.2
	OPENBSD_3_6_BASE:1.25
	OPENBSD_3_5:1.23.0.2
	OPENBSD_3_5_BASE:1.23
	OPENBSD_3_4:1.17.0.2
	OPENBSD_3_4_BASE:1.17
	OPENBSD_3_3:1.14.0.2
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.9.0.2
	OPENBSD_3_2_BASE:1.9
	OPENBSD_3_1:1.4.0.2
	OPENBSD_3_1_BASE:1.4
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.75
date	2016.04.29.21.10.23;	author zhuk;	state dead;
branches;
next	1.74;
commitid	u9TvebbKy1wgQMr9;

1.74
date	2016.01.17.17.29.11;	author sthen;	state Exp;
branches;
next	1.73;
commitid	bS2FIbTCCkF3XjOq;

1.73
date	2015.03.27.08.16.18;	author ajacoutot;	state Exp;
branches;
next	1.72;
commitid	BUhOiEl2FUSRKwq7;

1.72
date	2014.12.31.08.42.27;	author landry;	state Exp;
branches;
next	1.71;
commitid	vf8MnqY339W3vwfX;

1.71
date	2013.12.25.16.32.22;	author zhuk;	state Exp;
branches;
next	1.70;

1.70
date	2013.12.22.19.24.34;	author zhuk;	state Exp;
branches;
next	1.69;

1.69
date	2013.10.22.11.33.59;	author zhuk;	state Exp;
branches;
next	1.68;

1.68
date	2013.10.05.07.34.38;	author espie;	state Exp;
branches;
next	1.67;

1.67
date	2013.07.08.14.03.29;	author zhuk;	state Exp;
branches;
next	1.66;

1.66
date	2013.01.23.21.10.37;	author zhuk;	state Exp;
branches;
next	1.65;

1.65
date	2013.01.14.12.35.19;	author zhuk;	state Exp;
branches;
next	1.64;

1.64
date	2012.06.15.08.30.23;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2011.12.03.23.34.05;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2011.09.16.12.29.16;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2010.11.22.08.37.02;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2010.07.10.12.44.30;	author espie;	state Exp;
branches;
next	1.59;

1.59
date	2010.07.08.21.28.49;	author espie;	state Exp;
branches;
next	1.58;

1.58
date	2010.05.15.08.48.01;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2009.12.21.20.46.01;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2009.08.27.19.44.38;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2009.08.11.08.40.40;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2009.01.29.22.28.58;	author jakemsr;	state Exp;
branches;
next	1.53;

1.53
date	2008.08.26.16.52.29;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2008.03.25.12.26.02;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2007.12.15.23.47.40;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2007.10.24.21.52.16;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2007.09.15.20.04.21;	author merdely;	state Exp;
branches;
next	1.48;

1.48
date	2007.05.25.09.49.54;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2007.05.09.11.31.43;	author bernd;	state Exp;
branches;
next	1.46;

1.46
date	2007.01.28.13.18.51;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2006.11.20.08.07.41;	author steven;	state Exp;
branches;
next	1.44;

1.44
date	2006.11.05.13.02.30;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2006.10.12.23.12.18;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2006.08.03.10.53.36;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2006.06.03.12.47.30;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2006.04.01.10.49.20;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2006.02.03.12.23.15;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2006.01.13.22.49.55;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2006.01.03.12.27.24;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2005.12.19.09.54.29;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2005.11.29.14.11.33;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2005.10.17.11.28.24;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2005.07.28.08.47.40;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2005.06.02.14.01.26;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2005.03.29.21.18.35;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2005.02.27.09.09.13;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2004.12.16.07.25.25;	author alek;	state Exp;
branches;
next	1.28;

1.28
date	2004.12.12.11.33.24;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2004.10.19.00.25.26;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2004.09.18.09.36.43;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2004.07.24.12.47.14;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2004.04.13.04.22.37;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2004.03.07.21.08.44;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2004.02.07.01.46.23;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2004.02.03.23.36.05;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2004.02.01.23.24.39;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2004.02.01.14.59.22;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2003.12.07.20.19.14;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2003.07.30.12.59.22;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2003.06.12.19.16.15;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2003.04.05.14.53.39;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2003.01.27.19.42.20;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2003.01.07.15.36.35;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2002.12.23.14.22.32;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2002.12.02.16.27.21;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2002.10.28.21.44.32;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2002.09.01.08.25.25;	author espie;	state Exp;
branches
	1.9.2.1;
next	1.8;

1.8
date	2002.07.16.12.20.42;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2002.05.28.17.18.46;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2002.05.23.14.37.22;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2002.04.15.18.05.26;	author todd;	state Exp;
branches;
next	1.4;

1.4
date	2002.04.10.01.24.39;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.04.04.14.07.48;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.04.02.17.06.23;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.25.16.00.55;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.25.16.00.55;	author espie;	state Exp;
branches;
next	;

1.9.2.1
date	2002.12.26.22.28.18;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.75
log
@Remove KDE3 applications that have well-working KDE4+ counterparts.
@
text
@# $OpenBSD: Makefile,v 1.74 2016/01/17 17:29:11 sthen Exp $

BROKEN-hppa =	kstars/kstars/tools/scriptbuilder.cpp:103: internal compiler error: Segmentation fault
COMMENT =		K Desktop Environment, edutainment
CATEGORIES =		x11 x11/kde
VERSION =		3.5.10
DISTNAME =		kdeedu-${VERSION}
MODKDE_VERSION =	3.5.8
REVISION =		15

SHARED_LIBS +=	kdeeducore           4.0      # .3.0
SHARED_LIBS +=	kdeeduui             4.0      # .3.5
SHARED_LIBS +=	kdeeduplot           4.0      # .3.0
SHARED_LIBS +=	extdate              4.0      # .3.0
SHARED_LIBS +=	kiten                2.0      # .1.0
SHARED_LIBS +=	kvoctraincore        1.0      # .0.0

WANTLIB =  c expat m pthread pthread-stubs sndio stdc++ util z
WANTLIB += ICE SM X11 Xext Xfixes Xrender Xt fontconfig freetype xcb
WANTLIB += ${KDE}/DCOP ${KDE}/artsflow ${KDE}/artsflow_idl
WANTLIB += ${KDE}/artskde ${KDE}/kabc ${KDE}/katepartinterfaces
WANTLIB += ${KDE}/kdecore ${KDE}/kdefx ${KDE}/kdeprint ${KDE}/kdesu
WANTLIB += ${KDE}/kdeui ${KDE}/khtml ${KDE}/kio ${KDE}/kjs
WANTLIB += ${KDE}/kmedia2_idl ${KDE}/knewstuff ${KDE}/kparts
WANTLIB += ${KDE}/kresources ${KDE}/ktexteditor
WANTLIB += ${KDE}/kutils ${KDE}/kwalletclient ${KDE}/mcop
WANTLIB += ${KDE}/qtmcop ${KDE}/soundserver_idl ${KDE}/vcard
WANTLIB += FLAC art_lgpl_2 audiofile fam glib-2.0 gmodule-2.0
WANTLIB += gthread-2.0 idn jpeg mad ogg pcre pcreposix png vorbis
WANTLIB += vorbisenc vorbisfile
WANTLIB += X11-xcb Xdamage Xxf86vm drm glapi xcb-dri2 xcb-glx

MODULES =	x11/kde devel/gettext

RUN_DEPENDS +=	devel/desktop-file-utils \
		x11/gtk+3,-guic
LIB_DEPENDS = 	x11/kde/libs3
SEPARATE_BUILD =	flavored

# XXX Probably OCaml support could be added?
CONFIGURE_ARGS +=	--disable-kig-python-scripting \
			--disable-ocamlsolver

# picks up KDE4 libraries otherwise
USE_LIBTOOL =	gnu

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/${MODKDE_HTML_SUBDIR}/en/common

.include <bsd.port.mk>
@


1.74
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2015/03/27 08:16:18 ajacoutot Exp $
@


1.73
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2014/12/31 08:42:27 landry Exp $
d9 1
a9 1
REVISION =		14
d31 1
@


1.72
log
@Yet another bunch of ports that reliably fail to build on hppa.

BROKEN-hppa =	SIGILL when running lilypond
BROKEN-hppa =	libjson-c.so.0.0: undefined reference to __sync_val_compare_and_swap_4
BROKEN-hppa=	missing atomic ops
BROKEN-hppa=	./iodev/hdimage/hdimage.cc:807: error: 'bx_bswap32' was not declared in this scope
BROKEN-hppa =	cc1plus: error: unrecognized command line option '-std=c++11'
BROKEN-hppa =	src/bin/jp2/convert.c:192: error: expected identifier or '(' before '__extension__'
BROKEN-hppa=	libpt.so.7.0: undefined reference to __sync_fetch_and_or_4
BROKEN-hppa=	ykpers-json.c:42: error: redefinition of typedef 'json_bool'
BROKEN-hppa=	OOM on src/lxml/lxml.etree.c
BROKEN-hppa =	undefined reference to `__sync_val_compare_and_swap_4' in libjson-c
BROKEN-hppa =	rake fails when linking PassengerHelperAgent
BROKEN-hppa =	kstars/kstars/tools/scriptbuilder.cpp:103: internal compiler error: Segmentation fault
BROKEN-hppa=	build stuck on virt-viewer-window.c

See http://build-failures.rhaalovely.net/hppa/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2013/12/25 16:32:22 zhuk Exp $
d9 1
a9 1
REVISION =		13
d35 1
a35 1
		x11/gtk+2,-guic
@


1.71
log
@Clean up and add USE_LIBTOOL=gnu, that avoids picking up KDE4 libraries.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2013/12/22 19:24:34 zhuk Exp $
d3 1
@


1.70
log
@Next KDE deconflicting step: rename share/config/ to share/config.kde3/ and
share/config.kcfg/ to share/config.kcfg.kde3/. Tested on i386, including
run-time tests (not for all apps, though).

After this commit, there are only two conflicting files in kdelibs 3.x and
4.x packages left - to be solved soon.

spurring from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/10/22 11:33:59 zhuk Exp $
d7 3
a9 1
MODKDE_VERSION ?=	3.5.8
d17 14
d42 2
a43 12
REVISION =	12
WANTLIB = GL ICE SM X11 Xau Xcursor Xdamage Xdmcp Xext Xfixes Xft Xi Xinerama \
	Xmu Xrandr Xrender Xt Xxf86vm art_lgpl_2 artsflow artsflow_idl artskde \
	audiofile c drm expat fam fontconfig freetype glib-2.0>=800 \
	gmodule-2.0>=800 gthread-2.0>=800 idn jpeg katepartinterfaces \
	kmedia2_idl knewstuff ktexteditor lcms lib/kde3/DCOP lib/kde3/kabc \
	lib/kde3/kdecore>=6 lib/kde3/kdefx lib/kde3/kdeprint lib/kde3/kdesu \
	lib/kde3/kdeui lib/kde3/khtml lib/kde3/kio lib/kde3/kjs \
	lib/kde3/kparts lib/kde3/kresources lib/kde3/kutils \
	lib/kde3/kwalletclient lib/kde3/vcard m mad mcop mng ogg pcre \
	pcreposix png pthread pthread-stubs qtmcop sndio \
	soundserver_idl stdc++ util vorbis vorbisenc vorbisfile xcb z
@


1.69
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/10/05 07:34:38 espie Exp $
d26 1
a26 1
REVISION =	11
@


1.68
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/07/08 14:03:29 zhuk Exp $
d22 3
a24 1
CONFIGURE_ARGS +=	--disable-kig-python-scripting
d26 1
a26 1
REVISION =	10
d40 1
a40 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/HTML/en/common
@


1.67
log
@Replace ${post_install_libs} in Makefile.inc with MODKDE_LIB_LINKS
(see analog in kde4.port.mk). Some stuff outside x11/kde will need this
functionality, too, as it was merged into KDE4 SC.

okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/01/23 21:10:37 zhuk Exp $
d24 1
a24 1
REVISION =	9
@


1.66
log
@Move KDE 3 headers from ${PREFIX}/include to ${PREFIX}/include/kde.
Updates to dependant ports to follow.

Tested in a bulk, input and okay by landry@@
Reviewed by aja@@ too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/01/14 12:35:19 zhuk Exp $
a38 1
	@@${post_install_libs}
@


1.65
log
@Unbreak FLAVORs for KDE 3.

ok by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2012/06/15 08:30:23 ajacoutot Exp $
d24 1
a24 1
REVISION =	8
@


1.64
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/12/03 23:34:05 ajacoutot Exp $
a7 1
FLAVORS =	debug
@


1.63
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/09/16 12:29:16 espie Exp $
d25 1
a25 1
REVISION =	7
@


1.62
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/11/22 08:37:02 espie Exp $
d18 2
a19 1
RUN_DEPENDS +=	devel/desktop-file-utils
d25 1
a25 1
REVISION =	6
@


1.61
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/07/10 12:44:30 espie Exp $
d24 1
a24 1
REVISION =	5
@


1.60
log
@use REVISION instead of hardcoding p-numbers.

Note the way REVISION and WANTLIB are defined.
This is (more or less) the Makefile portion that lib-depends-check is supposed
to handle eventually...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/07/08 21:28:49 espie Exp $
d18 2
a19 2
RUN_DEPENDS +=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS = 	::x11/kde/libs3
d27 2
a28 2
	audiofile c drm expat fam fontconfig freetype glib-2.0.>=800.0 \
	gmodule-2.0.>=800.0 gthread-2.0.>=800.0 idn jpeg katepartinterfaces \
d30 1
a30 1
	lib/kde3/kdecore.>=6 lib/kde3/kdefx lib/kde3/kdeprint lib/kde3/kdesu \
@


1.59
log
@clean-up AND small changes:
- copy libs over to lib/kde3 (to prepare coexistence with kde4, eventually)
- move lib depends over to WANTLIB
- update WANTLIB for recent changes
- create links to avoid pkg_create protests over non existing links
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/05/15 08:48:01 ajacoutot Exp $
a6 1
PKGNAME =		${DISTNAME}p5
d24 1
@


1.58
log
@Add missing gtk-update-icon-cache goos.

ok landry@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2009/12/21 20:46:01 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p4
d20 1
a20 1
LIB_DEPENDS = 	kdecore.>=6,DCOP,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kparts,kutils,kjs,kwalletclient,vcard,kabc,kresources::x11/kde/libs3
d25 15
a39 8
WANTLIB =	ICE SM X11 Xext Xrender art_lgpl_2 c jpeg katepartinterfaces \
		knewstuff ktexteditor m pcre pcreposix png pthread stdc++ util \
		z qtmcop soundserver_idl artskde kmedia2_idl \
		artsflow vorbis ogg mcop pthread-stubs xcb \
		artsflow_idl audiofile mad vorbisfile vorbisenc \
		gthread-2.0.>=800.0 gmodule-2.0.>=800.0 glib-2.0.>=800.0 idn \
		Xau Xdmcp fam rpcsvc sndio

@


1.57
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/08/27 19:44:38 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p3
@


1.56
log
@Use the gettext module.

ok landry@@ on an earlier diff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2009/08/11 08:40:40 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p2
@


1.55
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2009/01/29 22:28:58 jakemsr Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p1
d17 2
d29 1
a29 1
		intl iconv artsflow_idl audiofile mad vorbisfile vorbisenc \
@


1.54
log
@* add sndio backend for artsd
* use audio(4) instead of ossaudio(3) in kdemultimedia3 as much as
  possible
* sync WANTLIB in dependant ports

testing/prodding from todd@@.  briefly discussed with naddy@@, ajacoutot@@
and jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2008/08/26 16:52:29 espie Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p0
d26 1
a26 1
		artsflow vorbis ogg mcop \
@


1.53
log
@start updating to kde 3.5.10

style issues, regen with new make plist.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2008/03/25 12:26:02 espie Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}
d25 2
a26 2
		z ossaudio qtmcop soundserver_idl artskde kmedia2_idl \
		artsflow vorbis ogg esd mcop \
d29 1
a29 1
		Xau Xdmcp fam rpcsvc
@


1.52
log
@3.5.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2007/12/15 23:47:40 ajacoutot Exp $
d3 7
a9 7
COMMENT=		K Desktop Environment, edutainment
CATEGORIES=		x11 x11/kde
VERSION=		3.5.9
DISTNAME=		kdeedu-${VERSION}
PKGNAME=		${DISTNAME}
MODKDE_VERSION?=	3.5.8
FLAVORS=debug
d17 3
a19 3
RUN_DEPENDS+=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS= kdecore.>=6,DCOP,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kparts,kutils,kjs,kwalletclient,vcard,kabc,kresources::x11/kde/libs3
SEPARATE_BUILD=flavored
d21 1
a21 1
CONFIGURE_ARGS+=--disable-kig-python-scripting
d23 1
a23 1
WANTLIB=	ICE SM X11 Xext Xrender art_lgpl_2 c jpeg katepartinterfaces \
@


1.51
log
@- add update-desktop-database goo

"looks ok" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2007/10/24 21:52:16 espie Exp $
d5 1
a5 1
VERSION=		3.5.8
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.50
log
@update to 3.5.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2007/09/15 20:04:21 merdely Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
d17 1
@


1.49
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2007/05/25 09:49:54 espie Exp $
d5 1
a5 1
VERSION=		3.5.7
d8 1
a8 1
MODKDE_VERSION?=	3.5.7
@


1.48
log
@update a large subset of kde 3 to 3.5.7.
Simplify the infrastructure a bit, and let it compile with libfam, now...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2007/05/09 11:31:43 bernd Exp $
d3 1
a3 1
COMMENT=		"K Desktop Environment, edutainment"
@


1.47
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2007/01/28 13:18:51 espie Exp $
d5 1
a5 1
VERSION=		3.5.6
d7 2
a8 2
PKGNAME=		${DISTNAME}p0
MODKDE_VERSION?=	3.5.3
d27 2
a28 1
		gthread-2.0.>=800.0 gmodule-2.0.>=800.0 glib-2.0.>=800.0 idn
a29 3
USE_X11=	Yes
USE_LIBTOOL=Yes
LIBTOOL_FLAGS=--tag=disable-static
@


1.46
log
@kde 3.5.6 update, missing bindings and l10n.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2006/11/20 08:07:41 steven Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
@


1.45
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2006/11/05 13:02:30 espie Exp $
d5 1
a5 1
VERSION=		3.5.5
@


1.44
log
@SHARED_LIBS reformat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2006/10/12 23:12:18 espie Exp $
d29 1
@


1.43
log
@Update to 3.5.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2006/08/03 10:53:36 espie Exp $
d10 6
a15 6
SHARED_LIBS=		extdate		4.0 \
			kdeeducore	4.0 \
			kdeeduplot	4.0 \
			kdeeduui	4.0 \
			kiten		2.0 \
			kvoctraincore	1.0
@


1.42
log
@update to 3.5.4 first part.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2006/06/03 12:47:30 espie Exp $
d5 1
a5 1
VERSION=		3.5.4
@


1.41
log
@minor update to 3.5.3, integrate libidn support (some more changes to come
to WANTLIB in packages dependent on KDE).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/04/01 10:49:20 espie Exp $
d5 1
a5 1
VERSION=		3.5.3
d17 1
a17 1
LIB_DEPENDS= kdecore.6,DCOP,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kparts,kutils,kjs,kwalletclient,vcard,kabc,kresources::x11/kde/libs3
d27 1
a27 1
		gthread-2.0.800.0 gmodule-2.0.800.0 glib-2.0.800.0 idn
@


1.40
log
@update to 3.5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2006/02/03 12:23:15 espie Exp $
d5 1
a5 1
VERSION=		3.5.2
d8 1
a8 1
MODKDE_VERSION?=	3.5.2
d27 1
a27 1
		gthread-2.0.800.0 gmodule-2.0.800.0 glib-2.0.800.0
@


1.39
log
@Update to 3.5.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2006/01/13 22:49:55 espie Exp $
d5 1
a5 1
VERSION=		3.5.1
d8 1
a8 1
MODKDE_VERSION?=	3.5
@


1.38
log
@bump SHARED_LIBS for kde (all C++, no brainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2006/01/03 12:27:24 espie Exp $
d5 1
a5 1
VERSION=		3.5.0
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.37
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2005/12/19 09:54:29 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d10 6
a15 6
SHARED_LIBS=		extdate		3.0 \
			kdeeducore	3.0 \
			kdeeduplot	3.0 \
			kdeeduui	3.5 \
			kiten		1.0 \
			kvoctraincore	0.0
@


1.36
log
@more use of system libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2005/11/29 14:11:33 espie Exp $
d10 6
@


1.35
log
@more kde 3.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2005/10/17 11:28:24 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
d22 3
@


1.34
log
@Minor update to kde 3.4.3, mostly zap qt 3.3.5 patches that have been
integrated, recognize theora in multimedia.
i18n3 to come...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2005/07/28 08:47:40 espie Exp $
d5 1
a5 1
VERSION=		3.4.3
d8 1
a8 1
MODKDE_VERSION?=	3.4
d17 5
a21 1
		knewstuff ktexteditor m pcre pcreposix png pthread stdc++ util z
@


1.33
log
@KDE 3.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2005/06/02 14:01:26 espie Exp $
d5 1
a5 1
VERSION=		3.4.2
@


1.32
log
@update to 3.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2005/03/29 21:18:35 espie Exp $
d5 1
a5 1
VERSION=		3.4.1
@


1.31
log
@most of kde 3.4, will finish getting fixed in tree... ;-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2005/02/27 09:09:13 brad Exp $
d5 1
a5 1
VERSION=		3.4.0
@


1.30
log
@post-3.3.2-kdeedu-kstars.diff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2004/12/16 07:25:25 alek Exp $
d5 1
a5 1
VERSION=		3.3.2
d7 2
a8 2
PKGNAME=		${DISTNAME}p1
MODKDE_VERSION?=	3.3.0
d11 1
a11 1
LIB_DEPENDS= kdecore.6,DCOP,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kparts,kutils,kjs,kwalletclient::x11/kde/libs3
@


1.29
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2004/12/12 11:33:24 espie Exp $
d7 1
@


1.28
log
@3.3.2 is out, rejoice.
minor update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/10/19 00:25:26 espie Exp $
d14 3
@


1.27
log
@minor update to 3.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/09/18 09:36:43 espie Exp $
d5 1
a5 1
VERSION=		3.3.1
@


1.26
log
@update to kde 3.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/07/24 12:47:14 espie Exp $
d5 1
a5 1
VERSION=		3.3.0
@


1.25
log
@basic update to kde 3.2.3.
A few files to remove/add yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/04/13 04:22:37 brad Exp $
d5 1
a5 1
VERSION=		3.2.3
d7 1
a7 1
MODKDE_VERSION?=	3.2.3
@


1.24
log
@better COMMENTs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2004/03/07 21:08:44 espie Exp $
d5 1
a5 1
VERSION=		3.2.1
d7 1
a7 1
MODKDE_VERSION?=	3.2
@


1.23
log
@update to kde 3.2.1, as agreed with pvalchev@@.
The distfiles should be publically available shortly.
this fixes a few nits: build accessibility, move cvscheck to avoid conflicts.

i18n files missing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/02/07 01:46:23 espie Exp $
d3 1
a3 1
COMMENT=		"X11 toolkit, edutainment"
@


1.22
log
@start updating to 3.2.0, the actual release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/02/03 23:36:05 espie Exp $
d5 1
a5 1
VERSION=		3.2.0
@


1.21
log
@make sure kig scripting doesn't get build (we don't have python boost
right now)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/02/01 23:24:39 espie Exp $
d5 1
a5 1
VERSION=		3.1.95
@


1.20
log
@fix dependencies.
use flavored build now that it works.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2004/02/01 14:59:22 espie Exp $
d12 2
@


1.19
log
@basic import of kde 3.1.95, still missing a few parts.

TODO:
- compile the missing packages.
- redo konsole fixes for our ttys.
- figure out why kuickshow is broken.
- make sure we get all dependencies.
- repair kscd.
- find out why nsplugins does not like the native jdk.
- figure out how to get kvim to work.
- change filenames or adjust check-lib-depends to cope.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2003/12/07 20:19:14 espie Exp $
d10 2
a11 2
LIB_DEPENDS= kdecore.4,DCOP,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kparts,kutils::x11/kde/libs3
#SEPARATE_BUILD=no
@


1.18
log
@update to 3.1.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2003/07/30 12:59:22 espie Exp $
d5 1
a5 1
VERSION=		3.1.4
d7 2
@


1.17
log
@Update to kde 3.1.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2003/06/12 19:16:15 espie Exp $
d5 1
a5 1
VERSION=		3.1.3
@


1.16
log
@Update to kde 3.1.2 (requires recent autoconf).
Fix some build issues, mainly in kdebindings and kdemultimedia.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2003/04/05 14:53:39 espie Exp $
d5 1
a5 1
VERSION=		3.1.2
@


1.15
log
@Update most of kde to 3.1.1.
Needs rebuild to check against XFree 4.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2003/01/27 19:42:20 espie Exp $
d5 1
a5 1
VERSION=		3.1.1
d9 1
a9 1
SEPARATE_BUILD=flavored
@


1.14
log
@simple 3.1 updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2003/01/07 15:36:35 espie Exp $
d5 1
a5 1
VERSION=		3.1
@


1.13
log
@Add missing SEPARATE_BUILDs, turn them into flavored
Trim old commented cruft
Add debug flavor, and --disable-dependency-tracking if !debug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/12/23 14:22:32 espie Exp $
d5 1
a5 1
VERSION=		3.0.5a
d8 1
a8 1
LIB_DEPENDS= kdecore.4,DCOP,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kjava,kparts::x11/kde/libs3
@


1.12
log
@Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/12/02 16:27:21 espie Exp $
d9 1
a9 1
SEPARATE_BUILD=simple
@


1.11
log
@Update to 3.0.5
i18n not checked yet...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/10/28 21:44:32 espie Exp $
d5 1
a5 1
VERSION=		3.0.5
@


1.10
log
@3.0.4 update, most of it.
i18n packlists to check yet...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/09/01 08:25:25 espie Exp $
d5 1
a5 1
VERSION=		3.0.4
@


1.9
log
@kde 3.0.3, incorporated kssl changes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/07/16 12:20:42 espie Exp $
d5 1
a5 1
VERSION=		3.0.3
@


1.9.2.1
log
@MFC:
Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/12/23 14:22:32 espie Exp $
d5 1
a5 1
VERSION=		3.0.5a
@


1.8
log
@Update to 3.0.2, somewhat lately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/05/28 17:18:46 espie Exp $
d5 1
a5 1
VERSION=		3.0.2
@


1.7
log
@seems that kde is happy with SEPARATE_BUILD.
I should have checked this ages ago.
Will switch the other dirs after I've checked that they're okay too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/05/23 14:37:22 espie Exp $
d5 1
a5 2
NEED_VERSION=		1.504
VERSION=		3.0.1
@


1.6
log
@Update to kde 3.0.1.
Mostly remove integrated patches, and adapt a few plists.
There may be minor pieces yet to do...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/04/15 18:05:26 todd Exp $
d10 1
@


1.5
log
@proper COMMENT, ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/04/10 01:24:39 espie Exp $
d6 1
a6 1
VERSION=		3.0
@


1.4
log
@Use a common Makefile.inc to remove lots of common parts in all kde dirs.
Remove lame stuff in base3, since run-time auto-detection is working now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/04/04 14:07:48 espie Exp $
d3 1
a3 1
COMMENT=		"X11 toolkit, addons"
@


1.3
log
@Real edu3, network3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/04/02 17:06:23 espie Exp $
a7 12
DIST_SUBDIR=		kde

HOMEPAGE=		http://www.kde.org
MASTER_SITES=	${MASTER_SITE_KDE}
MASTER_SITE_SUBDIR=	stable/${VERSION}/src
EXTRACT_SUFX=		.tar.bz2

# Parts of kde want shared libraries to work, as some symbols are
# duplicated over the place.
NOT_FOR_ARCHS=${NO_SHARED_ARCHS}

MODULES=	qt3
a9 41

# glib2.0 
# qt docs
# CUPS

MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/admin

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
CONFIGURE_ARGS=		${MODQT_CONFIGURE_ARGS}
CONFIGURE_ARGS+=	--with-extra-libs=${LOCALBASE}/lib
CONFIGURE_ARGS+=	--with-extra-includes=${LOCALBASE}/include
CONFIGURE_ARGS+=	--disable-threading
CONFIGURE_ARGS+=	--enable-mitshm
CONFIGURE_ARGS+=	--disable-debug
CONFIGURE_ARGS+=	--enable-final
PATCH_LIST=		${PORTSDIR}/x11/kde/arts3/patches/p-* patch-*
#CONFIGURE_ARGS+=	--enable-debug
#CONFIGURE_ARGS+=--enable-static --enable-debug --disable-shared

#CONFIGURE_ARGS+=	--enable-static --disable-shared

CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}

USE_GMAKE=		Yes

# you don't want to know...
CONFIGURE_ENV+=		ac_aux_files=''

MAKE_ENV=		${CONFIGURE_ENV}
PORTHOME=${WRKDIR}

# Ensure qt will always be at the front
MAKE_FLAGS=CXXLD='--tag CXX ${CXX} -L${MODQT_LIBDIR}'

# GPL
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes

@


1.2
log
@found a mirror that carries RC3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/03/25 16:00:55 espie Exp $
d6 1
a6 1
VERSION=		3.0rc3
d11 2
a12 2
MASTER_SITES= http://gd.tuwien.ac.at/pub/kde/%SUBDIR%/
MASTER_SITE_SUBDIR=	unstable/kde-${VERSION}/src
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/03/23 16:26:56 espie Exp $
d11 1
a11 1
MASTER_SITES=ftp://ftp.kde.org/pub/kde/%SUBDIR%/
@


1.1.1.1
log
@yet another kde3, rc 3 port.
@
text
@@
