head	1.4;
access;
symbols
	OPENBSD_3_6:1.3.0.4
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.2.0.4
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2004.09.18.09.46.36;	author espie;	state dead;
branches;
next	1.3;

1.3
date	2004.02.01.14.59.22;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2003.01.27.19.22.50;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.07.00.19.34;	author espie;	state Exp;
branches;
next	;


desc
@@


1.4
log
@removed patches, better synched global patches.
@
text
@$OpenBSD: patch-kcontrol_passwords_passwords_cpp,v 1.3 2004/02/01 14:59:22 espie Exp $
--- kcontrol/passwords/passwords.cpp.orig	2003-11-30 10:42:31.000000000 +0100
+++ kcontrol/passwords/passwords.cpp	2004-01-21 01:20:49.000000000 +0100
@@@@ -50,6 +50,11 @@@@ KPasswordConfig::KPasswordConfig(QWidget
     new QRadioButton(i18n("&3 stars"), m_EMGroup);
     new QRadioButton(i18n("&No echo"), m_EMGroup);
     connect(m_EMGroup, SIGNAL(clicked(int)), SLOT(slotEchoMode(int)));
+    m_SudoBut = new QCheckBox(i18n("&Use sudo"), this);
+    QWhatsThis::add( m_SudoBut, i18n("You can choose to use <em>sudo</em> instead of <em>su</em><p>"
+    "See <em>sudo</em>'s documentation for details") );
+    connect(m_SudoBut, SIGNAL(toggled(bool)), SLOT(slotSudo(bool)));
+    top->addWidget(m_SudoBut);
 
     // Keep password
 
@@@@ -107,6 +112,7 @@@@ void KPasswordConfig::load()
 
     m_bKeep = m_pConfig->readBoolEntry("Keep", defKeep);
     m_Timeout = m_pConfig->readNumEntry("Timeout", defTimeout);
+    m_bSudo = m_pConfig->readBoolEntry("Sudo", defSudo);
     slotKeep(m_bKeep);
 
     apply();
@@@@ -130,6 +136,7 @@@@ void KPasswordConfig::save()
     m_pConfig->writeEntry("Keep", m_bKeep, true, true);
     m_Timeout = m_TimeoutEdit->value()*60;
     m_pConfig->writeEntry("Timeout", m_Timeout, true, true);
+    m_pConfig->writeEntry("Sudo", m_bSudo, true, true);
 
     m_pConfig->sync();
 
@@@@ -148,6 +155,7 @@@@ void KPasswordConfig::defaults()
     m_Echo = defEchoMode;
     m_bKeep = defKeep;
     m_Timeout = defTimeout;
+    m_bSudo = defSudo;
 
     apply();
     emit changed(true);
@@@@ -158,6 +166,7 @@@@ void KPasswordConfig::apply()
 {
     m_EMGroup->setButton(m_Echo);
     m_KeepBut->setChecked(m_bKeep);
+    m_SudoBut->setChecked(m_bSudo);
 
     m_TimeoutEdit->setValue(m_Timeout/60);
     m_TimeoutEdit->setEnabled(m_bKeep);
@@@@ -178,6 +187,11 @@@@ void KPasswordConfig::slotKeep(bool keep
     emit changed(true);
 }
 
+void KPasswordConfig::slotSudo(bool sudo)
+{
+    m_bSudo = sudo;
+    emit changed(true);
+}
 
 int KPasswordConfig::buttons()
 {
@


1.3
log
@basic import of kde 3.1.95, still missing a few parts.

TODO:
- compile the missing packages.
- redo konsole fixes for our ttys.
- figure out why kuickshow is broken.
- make sure we get all dependencies.
- repair kscd.
- find out why nsplugins does not like the native jdk.
- figure out how to get kvim to work.
- change filenames or adjust check-lib-depends to cope.
@
text
@d1 1
a1 1
$OpenBSD: patch-kcontrol_passwords_passwords_cpp,v 1.2 2003/01/27 19:22:50 espie Exp $
@


1.2
log
@kdebase 3.1:
- use kcontrol/nics/nic.cpp from kde-current to access getifaddrs...
IPv4 masks are not printed properly yet.
- konsole fixes for utmp
- ksysguardd mostly working. Should unify with Net/FreeBSD
- clock and timezone fixes mostly from Flinn Mueller.
- uses kxkb_pic lib, thanks to Matthieu.
@
text
@d1 4
a4 4
$OpenBSD: patch-kcontrol_passwords_passwords_cpp,v 1.1 2003/01/07 00:19:34 espie Exp $
--- kcontrol/passwords/passwords.cpp.orig	Sun Sep 15 23:08:44 2002
+++ kcontrol/passwords/passwords.cpp	Thu Jan  9 23:26:17 2003
@@@@ -57,6 +57,11 @@@@ KPasswordConfig::KPasswordConfig(QWidget
d16 1
a16 1
@@@@ -114,6 +119,7 @@@@ void KPasswordConfig::load()
d24 1
a24 1
@@@@ -137,6 +143,7 @@@@ void KPasswordConfig::save()
d32 1
a32 1
@@@@ -155,6 +162,7 @@@@ void KPasswordConfig::defaults()
d40 1
a40 1
@@@@ -165,6 +173,7 @@@@ void KPasswordConfig::apply()
d48 1
a48 1
@@@@ -185,6 +194,11 @@@@ void KPasswordConfig::slotKeep(bool keep
@


1.1
log
@Full support for sudo in kcontrol
@
text
@d1 6
a6 6
$OpenBSD$
--- kcontrol/passwords/passwords.cpp.orig	Tue Jan  7 00:39:16 2003
+++ kcontrol/passwords/passwords.cpp	Tue Jan  7 01:08:33 2003
@@@@ -56,6 +56,11 @@@@ KPasswordConfig::KPasswordConfig(QWidget
     new QRadioButton(i18n("3 stars"), m_EMGroup);
     new QRadioButton(i18n("no echo"), m_EMGroup);
d16 1
a16 1
@@@@ -119,6 +124,7 @@@@ void KPasswordConfig::load()
d21 1
d24 1
a24 2
     emit changed(false);
@@@@ -141,6 +147,7 @@@@ void KPasswordConfig::save()
d32 1
a32 1
@@@@ -159,6 +166,7 @@@@ void KPasswordConfig::defaults()
d40 1
a40 1
@@@@ -169,6 +177,7 @@@@ void KPasswordConfig::apply()
d48 1
a48 1
@@@@ -189,6 +198,11 @@@@ void KPasswordConfig::slotKeep(bool keep
@

