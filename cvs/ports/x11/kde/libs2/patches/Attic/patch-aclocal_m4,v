head	1.4;
access;
symbols
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2001.09.27.10.52.15;	author espie;	state dead;
branches;
next	1.3;

1.3
date	2001.08.20.23.40.18;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.04.22.13.20.46;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.04.19.01.35.22;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Rename the libtool patches prior to reusing them
@
text
@$OpenBSD: patch-aclocal_m4,v 1.3 2001/08/20 23:40:18 espie Exp $
--- aclocal.m4.orig	Mon Aug  6 03:26:32 2001
+++ aclocal.m4	Mon Aug 20 01:09:01 2001
@@@@ -1,4 +1,4 @@@@
-dnl aclocal.m4 generated automatically by aclocal 1.4
+dnl aclocal.m4 generated automatically by aclocal 1.4-p4
 
 dnl Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
@@@@ -4722,19 +4722,7 @@@@ netbsd*)
   ;;
 
 openbsd* )
-  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then
-    case "$host_cpu" in
-    i*86 )
-      changequote(,)dnl
-      lt_cv_deplibs_check_method='file_magic OpenBSD/i[3-9]86 demand paged shared library'
-      changequote([, ])dnl
-      lt_cv_file_magic_cmd=/usr/bin/file
-      lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
-      ;;
-    esac
-  else
-    lt_cv_deplibs_check_method=pass_all
-  fi
+  lt_cv_deplibs_check_method=pass_all
   ;;
 
 newsos6)
@


1.3
log
@Update to 2.2. Not all parts done yet.
kssl hack is a gross kludge.
@
text
@d1 1
a1 1
$OpenBSD: patch-aclocal_m4,v 1.2 2001/04/22 13:20:46 espie Exp $
@


1.2
log
@Some brute-force fixes.
- insist on using pass_all systematically everywhere on OpenBSD.
libtool can't be trusted with that, the darn stupid thing wants a shared
libgcc half the time.
- acknowledge that build won't even work without shared libraries. There
are symbol collisions all over the place.
- disable debugging messages, so that the result looks sane.
- remove the konsole kludge, it didn't work anyways, and I figured out how
to do it from konsole_grantpty.
- insist on using zsh in sh compatibility mode instead of our somewhat
buggy ksh.
@
text
@d1 10
a10 4
$OpenBSD: patch-aclocal_m4,v 1.1 2001/04/19 01:35:22 naddy Exp $
--- aclocal.m4.orig	Sat Apr 21 18:03:55 2001
+++ aclocal.m4	Sat Apr 21 18:04:15 2001
@@@@ -4638,19 +4638,7 @@@@ netbsd*)
@


1.1
log
@Lowest impact patch to make this build on sparc.
@
text
@d1 5
a5 4
$OpenBSD$
--- aclocal.m4.orig	Sun Apr 15 20:58:52 2001
+++ aclocal.m4	Sun Apr 15 21:01:01 2001
@@@@ -4639,15 +4639,11 @@@@ netbsd*)
d8 1
a8 1
   if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then
d18 7
a24 8
+    changequote(,)dnl
+    lt_cv_deplibs_check_method="file_magic OpenBSD/$host_cpu demand paged shared library"
+    changequote([, ])dnl
+    lt_cv_file_magic_cmd=/usr/bin/file
+    lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
   else
     lt_cv_deplibs_check_method=pass_all
   fi
@

