head	1.13;
access;
symbols
	OPENBSD_3_1:1.11.0.2
	OPENBSD_3_1_BASE:1.11
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.13
date	2002.09.11.17.43.42;	author espie;	state dead;
branches;
next	1.12;

1.12
date	2002.07.16.12.20.42;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2002.04.10.01.24.39;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2002.04.03.02.25.06;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2002.03.05.14.09.00;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2002.01.01.18.27.11;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2001.10.28.12.30.14;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2001.10.24.12.52.42;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2001.10.18.14.02.40;	author pvalchev;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.28.06.02.15;	author pvalchev;	state Exp;
branches;
next	1.3;

1.3
date	2001.09.27.10.54.59;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.19.15.20.11;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.27.14.38.24;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.08.27.14.38.24;	author espie;	state Exp;
branches;
next	;


desc
@@


1.13
log
@ditch the files.
@
text
@# $OpenBSD: Makefile,v 1.12 2002/07/16 12:20:42 espie Exp $

COMMENT= 		"X11 toolkit, additional artwork"
CATEGORIES=		x11 x11/kde
VERSION=		2.2.2
DISTNAME=		kdeartwork-${VERSION}

LIB_DEPENDS=	kdecore.3,kdeui::x11/kde/libs2

BUILD_DEPENDS+=	::x11/qt2-designer

pre-fake:
	${INSTALL_DATA_DIR} ${PREFIX}/share/apps/kthememgr/Themes

.include <bsd.port.mk>
@


1.12
log
@Update to 3.0.2, somewhat lately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/04/10 01:24:39 espie Exp $
@


1.11
log
@Use a common Makefile.inc to remove lots of common parts in all kde dirs.
Remove lame stuff in base3, since run-time auto-detection is working now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/04/03 02:25:06 espie Exp $
a4 1
NEED_VERSION=		1.504
@


1.10
log
@fix all of kde2 internal dirrm conflicts, except for koffice.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/03/05 14:09:00 espie Exp $
a7 12
DIST_SUBDIR=		kde

HOMEPAGE=		http://www.kde.org
MASTER_SITES=		${MASTER_SITE_KDE}
MASTER_SITE_SUBDIR=	stable/${VERSION}/src/
EXTRACT_SUFX=		.tar.bz2

# Parts of kde want shared libraries to work, as some symbols are
# duplicated over the place.
NOT_FOR_ARCHS=${NO_SHARED_ARCHS}

MODULES=qt2
a11 38

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/admin
CONFIGURE_ARGS=		${MODQT_CONFIGURE_ARGS}
CONFIGURE_ARGS+=	--with-extra-libs=${LOCALBASE}/lib
CONFIGURE_ARGS+=	--with-extra-includes=${LOCALBASE}/include
CONFIGURE_ARGS+=	--with-xdmdir=/var/X11/kdm
CONFIGURE_ARGS+=	--disable-debug
CONFIGURE_ARGS+=	--enable-final
#CONFIGURE_ARGS+=	--enable-debug
#CONFIGURE_ARGS+=	--without-motif
#CONFIGURE_ARGS+=--enable-static --enable-debug --disable-shared

PATCH_LIST=${PORTSDIR}/x11/kde/libs2/patches/p-* patch-*

# Not yet, too much time to compile
#CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}

USE_GMAKE=		Yes
CONFIGURE_ENV=		RUN_KAPPFINDER=no KDEDIR=${LOCALBASE}
CONFIGURE_ENV+=		ac_aux_files=''
MAKE_ENV=		${CONFIGURE_ENV}


# Ensure qt2 will always be at the front
MAKE_FLAGS=CXXLD='--tag CXX ${CXX} -L${MODQT_LIBDIR}'
FAKE_FLAGS=TAR=${TAR} DESTDIR=${WRKINST}

# GPL
# Note that lame is not a problem, since kdebase is packaged with a
# stub lame library which does nothing, and can be overriden with a
# live one later.
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
@


1.9
log
@Remove zsh work-around.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/01/01 18:27:11 espie Exp $
a61 2

MTREE_FILE=${PORTSDIR}/x11/kde/libs2/files/mtree
@


1.8
log
@2.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/10/28 12:30:14 espie Exp $
d23 1
a23 1
BUILD_DEPENDS+=	:zsh-*:shells/zsh/stable ::x11/qt2-designer
a48 4
pre-build:
	# Let zsh act as an sh replacement
	ln -sf $(LOCALBASE)/bin/zsh ${WRKBUILD}/sh

a51 1
MAKE_FLAGS+=LIBTOOL='$(WRKBUILD)/sh $(WRKBUILD)/libtool'
@


1.7
log
@Use full path for libqt and libqt2
Bump need version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/10/24 12:52:42 espie Exp $
d5 2
a6 2
NEED_VERSION=		1.483
VERSION=		2.2.1
d26 1
@


1.6
log
@Okay, so the kde lib dependencies are somewhat crazier than everything
else...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/10/18 14:02:40 pvalchev Exp $
d5 1
a5 1
NEED_VERSION=		1.461
@


1.5
log
@add missing qt2-designer BUILD_DEPENDS.  ok espie, naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/09/28 06:02:15 pvalchev Exp $
d21 1
a21 1
LIB_DEPENDS=	kdecore.3::x11/kde/libs2
@


1.4
log
@CONFIGURE_STYLE=gnu w/ proper MODGNU_CONFIG_GUESS_DIRS
needed for the powerpc -> macppc name change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/09/27 10:54:59 espie Exp $
d23 1
a23 1
BUILD_DEPENDS+=	:zsh-*:shells/zsh/stable
@


1.3
log
@Reuse libs patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/09/19 15:20:11 espie Exp $
d26 1
@


1.2
log
@Dependencies update.
A bit of documentation.
Some other update (artwork, kdoc, mosfet-liquid)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/08/27 14:38:24 espie Exp $
d5 1
a5 1
NEED_VERSION=		1.458
d35 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/08/27 12:11:17 espie Exp $
d5 2
a6 2
NEED_VERSION=		1.447
VERSION=		2.2
d21 1
a21 1
LIB_DEPENDS=	kdecore.3.::x11/kde/libs2
d23 1
a23 1
BUILD_DEPENDS+=	zsh:zsh-*:shells/zsh/stable
d42 1
@


1.1.1.1
log
@Supplementary kde artwork
@
text
@@
