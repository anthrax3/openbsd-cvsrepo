head	1.9;
access;
symbols
	OPENBSD_3_1:1.7.0.2
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.2.0.2
	OPENBSD_3_0_BASE:1.2
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2002.09.11.17.43.44;	author espie;	state dead;
branches;
next	1.8;

1.8
date	2002.07.16.12.20.43;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2002.04.10.01.24.39;	author espie;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2002.04.03.02.25.07;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2002.03.05.00.09.49;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2001.12.31.15.05.09;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2001.10.28.12.30.14;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.10.11.00.51.38;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.27.10.58.36;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.09.27.10.58.36;	author espie;	state Exp;
branches;
next	;

1.7.2.1
date	2003.01.07.00.12.40;	author brad;	state Exp;
branches;
next	;


desc
@@


1.9
log
@ditch the files.
@
text
@# $OpenBSD: Makefile,v 1.8 2002/07/16 12:20:43 espie Exp $

COMMENT= 		"X11 toolkit, network applications"
CATEGORIES=		x11 x11/kde
VERSION=		2.2.2
DISTNAME=		kdenetwork-${VERSION}

LIB_DEPENDS=	kdecore.3,kdeui::x11/kde/libs2

BUILD_DEPENDS=	::x11/qt2-designer 

# for kaddressbook
RUN_DEPENDS+=	::x11/kde/base2

.include <bsd.port.mk>
@


1.8
log
@Update to 3.0.2, somewhat lately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/04/10 01:24:39 espie Exp $
@


1.7
log
@Use a common Makefile.inc to remove lots of common parts in all kde dirs.
Remove lame stuff in base3, since run-time auto-detection is working now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/04/03 02:25:07 espie Exp $
a4 1
NEED_VERSION=		1.504
@


1.7.2.1
log
@- add patches from auditing effort for KDE 2.2
- bump PKGNAME's

http://www.kde.org/info/security/advisory-20021220-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/04/10 01:24:39 espie Exp $
d5 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.6
log
@fix all of kde2 internal dirrm conflicts, except for koffice.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/03/05 00:09:49 espie Exp $
a7 12
DIST_SUBDIR=		kde

HOMEPAGE=		http://www.kde.org
MASTER_SITES=		${MASTER_SITE_KDE}
MASTER_SITE_SUBDIR=	stable/${VERSION}/src/
EXTRACT_SUFX=		.tar.bz2

# Parts of kde want shared libraries to work, as some symbols are
# duplicated over the place.
NOT_FOR_ARCHS=${NO_SHARED_ARCHS}

MODULES=qt2
a14 32

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
CONFIGURE_ARGS=		${MODQT_CONFIGURE_ARGS}
CONFIGURE_ARGS+=	--with-extra-libs=${LOCALBASE}/lib
CONFIGURE_ARGS+=	--with-extra-includes=${LOCALBASE}/include
CONFIGURE_ARGS+=	--disable-debug
CONFIGURE_ARGS+=	--enable-final
#CONFIGURE_ARGS+=	--enable-debug
#CONFIGURE_ARGS+=	--without-motif
#CONFIGURE_ARGS+=--enable-static --enable-debug --disable-shared
PATCH_LIST=${PORTSDIR}/x11/kde/libs2/patches/p-* patch-*

# Not yet, too much time to compile
#CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}

USE_GMAKE=		Yes
CONFIGURE_ENV=		RUN_KAPPFINDER=no KDEDIR=${LOCALBASE}
MAKE_ENV=		${CONFIGURE_ENV}

# Ensure qt2 will always be at the front
MAKE_FLAGS=CXXLD='--tag CXX ${CXX} -L${MODQT_LIBDIR}'

# GPL
# Note that lame is not a problem, since kdebase is packaged with a
# stub lame library which does nothing, and can be overriden with a
# live one later.
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
@


1.5
log
@Remove zsh work-around.
Add patch to compile with current.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/12/31 15:05:09 espie Exp $
a58 2

MTREE_FILE=${PORTSDIR}/x11/kde/libs2/files/mtree
@


1.4
log
@bump to 2.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/10/28 12:30:14 espie Exp $
d23 1
a23 1
BUILD_DEPENDS=	::x11/qt2-designer :zsh-*:shells/zsh/stable
a47 4
pre-build:
	# Let zsh act as an sh replacement
	ln -sf $(LOCALBASE)/bin/zsh ${WRKBUILD}/sh

a49 1
MAKE_FLAGS+=LIBTOOL='$(WRKBUILD)/sh $(WRKBUILD)/libtool'
@


1.3
log
@Use full path for libqt and libqt2
Bump need version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/10/11 00:51:38 naddy Exp $
d5 2
a6 2
NEED_VERSION=		1.483
VERSION=		2.2.1
d29 1
@


1.2
log
@typo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/09/27 10:58:36 espie Exp $
d5 1
a5 1
NEED_VERSION=		1.461
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/09/19 15:20:11 espie Exp $
d37 1
a37 1
PATCH_LIST=${PORTSDIR}/x11/kde/libs2/p-* patch-*
@


1.1.1.1
log
@initial port. A few details to figure out yet.
@
text
@@
