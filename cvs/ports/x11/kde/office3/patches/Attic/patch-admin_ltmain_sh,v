head	1.4;
access;
symbols
	OPENBSD_3_7:1.1.0.6
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.4
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.2
	OPENBSD_3_5_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2006.06.04.09.15.36;	author espie;	state dead;
branches;
next	1.3;

1.3
date	2006.04.17.10.56.49;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2005.08.05.10.49.18;	author espie;	state dead;
branches;
next	1.1;

1.1
date	2003.12.31.07.13.20;	author brad;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to 1.5.1 + some important patches.
@
text
@$OpenBSD: patch-admin_ltmain_sh,v 1.3 2006/04/17 10:56:49 espie Exp $
--- admin/ltmain.sh.orig	Mon Apr  3 19:17:01 2006
+++ admin/ltmain.sh	Sun Apr 16 17:52:44 2006
@@@@ -1301,6 +1301,17 @@@@ EOF
 	continue
 	;;
 
+      -pthread)
+        case $host in
+	*-*-openbsd*)
+	  deplibs="$deplibs $arg"
+	  ;;
+	*)
+	  continue
+	  ;;
+	esac
+	;;
+
       -module)
 	module=yes
 	continue
@@@@ -1997,6 +2008,30 @@@@ EOF
 	  fi
 	  continue
 	  ;;
+	-pthread)
+	  case $linkmode in
+	  lib)
+	    deplibs="$deplib $deplibs"
+	    test "$pass" = conv && continue
+	    newdependency_libs="$deplib $newdependency_libs"
+	    ;;
+	  prog)
+	    if test "$pass" = conv; then
+	      deplibs="$deplib $deplibs"
+	      continue
+	    fi
+	    if test "$pass" = scan; then
+	      deplibs="$deplib $deplibs"
+	    else
+	      compile_deplibs="$deplib $compile_deplibs"
+	      finalize_deplibs="$deplib $finalize_deplibs"
+	    fi
+	    ;;
+	  *)
+	    ;;
+	  esac # linkmode
+	  continue
+	  ;; # -pthread
 	%DEPLIBS%)
 	  alldeplibs=yes
 	  continue
@


1.3
log
@update to real 1.5.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@koffice 1.4.1
does not enable all kexi plugins yet.
karbon does not work (bug in ld.so)
@
text
@d1 4
a4 4
$OpenBSD: patch-admin_ltmain_sh,v 1.1 2003/12/31 07:13:20 brad Exp $
--- admin/ltmain.sh.orig	2003-09-24 07:51:34.000000000 -0400
+++ admin/ltmain.sh	2003-12-14 15:29:22.000000000 -0500
@@@@ -1294,6 +1294,17 @@@@ EOF
d10 8
a17 8
+        *-*-openbsd*)
+          deplibs="$deplibs $arg"
+          ;;
+        *)
+          continue
+          ;;
+        esac
+        ;;
d22 1
a22 1
@@@@ -1973,6 +1984,20 @@@@ EOF
d26 24
a49 14
+        -pthread)
+          case $linkmode in
+          lib)
+            deplibs="$deplib $deplibs"
+            newdependency_libs="$deplib $newdependency_libs"
+            ;;
+          prog)
+            compile_deplibs="$deplib $compile_deplibs"
+            finalize_deplibs="$deplib $finalize_deplibs"
+            ;;
+          esac
+          continue
+          ;;
+
@


1.1
log
@upgrade to KOffice 1.3RC2, final is just around the corner
and this is much better than 1.2.
@
text
@d1 1
a1 1
$OpenBSD$
@

