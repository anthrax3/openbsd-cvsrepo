head	1.6;
access;
symbols
	OPENBSD_5_5:1.5.0.26
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.24
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.22
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.20
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.18
	OPENBSD_5_0:1.5.0.16
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.14
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.12
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.10
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.8
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.6
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.4
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.4.0.2
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.1.0.2
	OPENBSD_4_0_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2014.07.11.13.50.21;	author zhuk;	state dead;
branches;
next	1.5;
commitid	7STAl57prz3S8TiW;

1.5
date	2007.11.03.08.04.40;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2007.06.09.23.10.45;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2006.12.03.11.00.34;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2006.10.29.22.55.57;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2006.04.17.10.56.49;	author espie;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Remove KOffice. Unlike KDE3 itself, this one has no use; at least,
there is no support for modern document formats while using own one.

Also, Calligra should hit CVS soon. And this one stands before it
and updating libpqxx.

no objections from espie@@
@
text
@$OpenBSD: patch-acinclude_m4,v 1.5 2007/11/03 08:04:40 steven Exp $
--- acinclude.m4.orig	Wed May 30 23:53:52 2007
+++ acinclude.m4	Fri Jun  1 00:53:23 2007
@@@@ -6644,6 +6642,19 @@@@ AC_CACHE_VAL([lt_cv_sys_max_cmd_len], [dnl
     lt_cv_sys_max_cmd_len=8192;
     ;;
 
+  netbsd* | freebsd* | openbsd* | darwin* )
+    # This has been around since 386BSD, at least.  Likely further.
+    if test -x /sbin/sysctl; then
+      lt_cv_sys_max_cmd_len=`/sbin/sysctl -n kern.argmax`
+    elif test -x /usr/sbin/sysctl; then
+      lt_cv_sys_max_cmd_len=`/usr/sbin/sysctl -n kern.argmax`
+    else
+      lt_cv_sys_max_cmd_len=65536 # usable default for *BSD
+    fi
+    # And add a safety zone
+    lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \/ 4`
+    ;;
+
  *)
     # If test is not a shell built-in, we'll probably end up computing a
     # maximum length that is only half of the actual maximum length, but
@@@@ -8184,13 +8195,7 @@@@ nto-qnx*)
   ;;
 
 openbsd*)
-  lt_cv_file_magic_cmd=/usr/bin/file
-  lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
-  if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
-    lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB shared object'
-  else
-    lt_cv_deplibs_check_method='file_magic OpenBSD.* shared library'
-  fi
+  lt_cv_deplibs_check_method=pass_all
   ;;
 
 osf3* | osf4* | osf5*)
@@@@ -9164,6 +9169,22 @@@@ case $host_os in
     # Workaround some broken pre-1.5 toolchains
     output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2>&1 | grep conftest.$objext | $SED -e "s:-lgcc -lc -lgcc::"'
     ;;
+  openbsd2*)
+      # C++ shared libraries are fairly broken
+      _LT_AC_TAGVAR(ld_shlibs, $1)=no
+      ;;
+  openbsd*)
+      _LT_AC_TAGVAR(hardcode_direct, $1)=yes
+      _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
+      _LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $lib'
+      _LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
+      if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
+       _LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-retain-symbols-file,$export_symbols -o $lib'
+       _LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
+       _LT_AC_TAGVAR(whole_archive_flag_spec, $1)="$wlarc"'--whole-archive$convenience '"$wlarc"'--no-whole-archive'
+      fi
+      output_verbose_link_cmd='echo'
+      ;;
   osf3*)
     case $cc_basename in
       KCC)
@@@@ -11492,6 +11513,7 @@@@ EOF
       _LT_AC_TAGVAR(hardcode_shlibpath_var, $1)=no
       if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
 	_LT_AC_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag -o $lib $compiler_flags $libobjs $deplibs'
+	_LT_AC_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-retain-symbols-file,$export_symbols'
 	_LT_AC_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'
 	_LT_AC_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'
       else
@


1.5
log
@really use python 2.5
@
text
@d1 1
a1 1
$OpenBSD: patch-acinclude_m4,v 1.4 2007/06/09 23:10:45 espie Exp $
@


1.4
log
@1.6.3
@
text
@d1 1
a1 1
$OpenBSD: patch-acinclude_m4,v 1.3 2006/12/03 11:00:34 espie Exp $
a3 18
@@@@ -4624,8 +4624,7 @@@@ fi
 
 AC_DEFUN([KDE_CHECK_PYTHON],
 [
-  KDE_CHECK_PYTHON_INTERN("2.5",
-    [KDE_CHECK_PYTHON_INTERN("2.4",
+    KDE_CHECK_PYTHON_INTERN("2.4",
      [KDE_CHECK_PYTHON_INTERN("2.3", 
        [KDE_CHECK_PYTHON_INTERN("2.2", 
          [KDE_CHECK_PYTHON_INTERN("2.1", 
@@@@ -4635,7 +4634,6 @@@@ AC_DEFUN([KDE_CHECK_PYTHON],
          ])
        ])
      ])
-  ])
 ])
 
 AC_DEFUN([KDE_CHECK_STL],
@


1.3
log
@update to 1.6.1
@
text
@d1 3
a3 3
$OpenBSD: patch-acinclude_m4,v 1.2 2006/10/29 22:55:57 espie Exp $
--- acinclude.m4.orig	Tue Nov  7 09:25:08 2006
+++ acinclude.m4	Tue Nov  7 11:46:56 2006
d22 1
a22 1
@@@@ -6643,6 +6641,19 @@@@ AC_CACHE_VAL([lt_cv_sys_max_cmd_len], [d
d42 1
a42 1
@@@@ -8183,13 +8194,7 @@@@ nto-qnx*)
d57 1
a57 1
@@@@ -9163,6 +9168,22 @@@@ case $host_os in
d80 1
a80 1
@@@@ -11491,6 +11512,7 @@@@ EOF
@


1.2
log
@koffice 1.6.0
@
text
@d1 22
a22 4
$OpenBSD: patch-acinclude_m4,v 1.1 2006/04/17 10:56:49 espie Exp $
--- acinclude.m4.orig	Sun Oct  8 01:05:46 2006
+++ acinclude.m4	Sat Oct 28 16:12:11 2006
@@@@ -6643,6 +6643,19 @@@@ AC_CACHE_VAL([lt_cv_sys_max_cmd_len], [d
d42 1
a42 1
@@@@ -8183,13 +8196,7 @@@@ nto-qnx*)
d57 1
a57 1
@@@@ -9163,6 +9170,22 @@@@ case $host_os in
d80 1
a80 1
@@@@ -11491,6 +11514,7 @@@@ EOF
@


1.1
log
@update to real 1.5.
@
text
@d1 4
a4 4
$OpenBSD$
--- acinclude.m4.orig	Mon Apr  3 19:27:40 2006
+++ acinclude.m4	Sun Apr 16 17:53:21 2006
@@@@ -6646,6 +6646,19 @@@@ AC_CACHE_VAL([lt_cv_sys_max_cmd_len], [d
d24 1
a24 1
@@@@ -8186,13 +8199,7 @@@@ nto-qnx*)
d39 1
a39 1
@@@@ -9166,6 +9173,22 @@@@ case $host_os in
d62 1
a62 1
@@@@ -11494,6 +11517,7 @@@@ EOF
@

