head	1.90;
access;
symbols
	OPENBSD_5_5:1.89.0.2
	OPENBSD_5_5_BASE:1.89
	OPENBSD_5_4:1.85.0.2
	OPENBSD_5_4_BASE:1.85
	OPENBSD_5_3:1.79.0.2
	OPENBSD_5_3_BASE:1.79
	OPENBSD_5_2:1.75.0.2
	OPENBSD_5_2_BASE:1.75
	OPENBSD_5_1_BASE:1.72
	OPENBSD_5_1:1.72.0.2
	OPENBSD_5_0:1.70.0.4
	OPENBSD_5_0_BASE:1.70
	OPENBSD_4_9:1.70.0.2
	OPENBSD_4_9_BASE:1.70
	OPENBSD_4_8:1.63.0.2
	OPENBSD_4_8_BASE:1.63
	OPENBSD_4_7:1.59.0.2
	OPENBSD_4_7_BASE:1.59
	OPENBSD_4_6:1.56.0.2
	OPENBSD_4_6_BASE:1.56
	OPENBSD_4_5:1.55.0.2
	OPENBSD_4_5_BASE:1.55
	OPENBSD_4_4:1.52.0.4
	OPENBSD_4_4_BASE:1.52
	OPENBSD_4_3:1.52.0.2
	OPENBSD_4_3_BASE:1.52
	OPENBSD_4_2:1.47.0.2
	OPENBSD_4_2_BASE:1.47
	OPENBSD_4_1:1.44.0.2
	OPENBSD_4_1_BASE:1.44
	OPENBSD_4_0:1.35.0.2
	OPENBSD_4_0_BASE:1.35
	OPENBSD_3_9:1.29.0.2
	OPENBSD_3_9_BASE:1.29
	OPENBSD_3_8:1.24.0.2
	OPENBSD_3_8_BASE:1.24
	OPENBSD_3_7:1.23.0.2
	OPENBSD_3_7_BASE:1.23
	OPENBSD_3_6:1.16.0.4
	OPENBSD_3_6_BASE:1.16
	OPENBSD_3_5:1.16.0.2
	OPENBSD_3_5_BASE:1.16
	OPENBSD_3_4:1.14.0.2
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.13.0.2
	OPENBSD_3_3_BASE:1.13
	OPENBSD_3_2:1.9.0.2
	OPENBSD_3_2_BASE:1.9
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.90
date	2014.07.11.13.50.21;	author zhuk;	state dead;
branches;
next	1.89;
commitid	7STAl57prz3S8TiW;

1.89
date	2013.12.22.19.24.35;	author zhuk;	state Exp;
branches;
next	1.88;

1.88
date	2013.11.25.14.16.24;	author sthen;	state Exp;
branches;
next	1.87;

1.87
date	2013.10.22.11.34.08;	author zhuk;	state Exp;
branches;
next	1.86;

1.86
date	2013.10.05.07.34.40;	author espie;	state Exp;
branches;
next	1.85;

1.85
date	2013.07.08.14.03.30;	author zhuk;	state Exp;
branches;
next	1.84;

1.84
date	2013.06.12.20.36.34;	author brad;	state Exp;
branches;
next	1.83;

1.83
date	2013.06.03.20.07.39;	author zhuk;	state Exp;
branches;
next	1.82;

1.82
date	2013.05.25.00.33.10;	author brad;	state Exp;
branches;
next	1.81;

1.81
date	2013.04.13.08.54.19;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2013.03.20.19.13.50;	author jeremy;	state Exp;
branches;
next	1.79;

1.79
date	2013.01.23.21.10.38;	author zhuk;	state Exp;
branches;
next	1.78;

1.78
date	2013.01.12.11.21.10;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2012.12.03.22.30.26;	author brad;	state Exp;
branches;
next	1.76;

1.76
date	2012.08.28.19.13.12;	author espie;	state Exp;
branches;
next	1.75;

1.75
date	2012.07.03.13.37.14;	author okan;	state Exp;
branches;
next	1.74;

1.74
date	2012.06.15.08.30.23;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2012.02.16.22.33.41;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2011.12.03.23.34.05;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2011.09.16.12.29.16;	author espie;	state Exp;
branches;
next	1.70;

1.70
date	2011.01.15.19.09.00;	author jasper;	state Exp;
branches;
next	1.69;

1.69
date	2010.11.24.21.35.16;	author jeremy;	state Exp;
branches;
next	1.68;

1.68
date	2010.11.22.08.37.02;	author espie;	state Exp;
branches;
next	1.67;

1.67
date	2010.11.09.16.27.04;	author naddy;	state Exp;
branches;
next	1.66;

1.66
date	2010.10.26.21.42.14;	author jeremy;	state Exp;
branches;
next	1.65;

1.65
date	2010.09.23.22.25.37;	author jeremy;	state Exp;
branches;
next	1.64;

1.64
date	2010.08.30.21.49.54;	author sthen;	state Exp;
branches;
next	1.63;

1.63
date	2010.07.13.09.28.07;	author kili;	state Exp;
branches;
next	1.62;

1.62
date	2010.07.10.12.44.30;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2010.07.08.21.28.49;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2010.05.15.08.48.01;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2009.12.21.20.46.02;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2009.08.27.19.44.38;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2009.08.11.08.40.40;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2009.03.14.17.51.10;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2009.01.29.22.28.58;	author jakemsr;	state Exp;
branches;
next	1.54;

1.54
date	2009.01.08.19.57.49;	author kili;	state Exp;
branches;
next	1.53;

1.53
date	2008.11.20.13.40.48;	author okan;	state Exp;
branches;
next	1.52;

1.52
date	2008.01.04.17.48.38;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2007.12.15.23.47.41;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2007.11.12.21.02.03;	author kili;	state Exp;
branches;
next	1.49;

1.49
date	2007.11.03.08.04.40;	author steven;	state Exp;
branches;
next	1.48;

1.48
date	2007.10.08.08.22.43;	author steven;	state Exp;
branches;
next	1.47;

1.47
date	2007.08.03.00.37.55;	author kili;	state Exp;
branches;
next	1.46;

1.46
date	2007.06.09.23.10.45;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2007.05.09.11.31.43;	author bernd;	state Exp;
branches;
next	1.44;

1.44
date	2007.02.23.21.46.30;	author espie;	state Exp;
branches
	1.44.2.1;
next	1.43;

1.43
date	2006.12.16.12.22.36;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2006.12.03.11.00.34;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2006.11.20.08.07.41;	author steven;	state Exp;
branches;
next	1.40;

1.40
date	2006.10.29.22.55.57;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2006.10.20.11.07.58;	author pvalchev;	state Exp;
branches;
next	1.38;

1.38
date	2006.10.12.23.12.19;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2006.09.18.12.19.40;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2006.09.18.10.21.49;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2006.08.04.10.35.19;	author espie;	state Exp;
branches
	1.35.2.1;
next	1.34;

1.34
date	2006.06.15.09.13.45;	author bernd;	state Exp;
branches;
next	1.33;

1.33
date	2006.06.04.23.10.21;	author brad;	state Exp;
branches;
next	1.32;

1.32
date	2006.06.04.09.15.36;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2006.04.17.10.56.49;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2006.04.02.09.44.31;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2006.02.14.23.35.15;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2006.01.13.22.49.56;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2006.01.06.12.07.26;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2005.10.17.15.15.40;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2005.09.20.18.04.29;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2005.08.05.10.49.18;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2004.12.30.21.14.27;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2004.12.21.11.38.43;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2004.12.16.07.25.25;	author alek;	state Exp;
branches;
next	1.20;

1.20
date	2004.10.26.09.13.38;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2004.10.08.05.20.41;	author sturm;	state Exp;
branches;
next	1.18;

1.18
date	2004.09.18.21.25.24;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2004.09.18.09.37.27;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2004.02.26.09.52.58;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2003.12.31.07.13.19;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2003.06.12.19.16.17;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2003.01.28.12.37.16;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2003.01.07.15.36.35;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2002.12.15.13.08.12;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2002.11.20.11.45.12;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2002.09.26.15.49.58;	author naddy;	state Exp;
branches
	1.9.2.1;
next	1.8;

1.8
date	2002.09.11.12.02.50;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2002.09.01.08.25.26;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2002.07.16.12.20.43;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2002.05.15.18.17.59;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2002.04.19.00.14.27;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.04.15.06.54.44;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.04.10.01.24.40;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.04.05.16.04.24;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.04.05.16.04.24;	author espie;	state Exp;
branches;
next	;

1.9.2.1
date	2002.12.26.22.28.18;	author pvalchev;	state Exp;
branches;
next	;

1.35.2.1
date	2007.08.15.08.05.47;	author sturm;	state Exp;
branches;
next	;

1.44.2.1
date	2007.08.07.06.04.10;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.90
log
@Remove KOffice. Unlike KDE3 itself, this one has no use; at least,
there is no support for modern document formats while using own one.

Also, Calligra should hit CVS soon. And this one stands before it
and updating libpqxx.

no objections from espie@@
@
text
@# $OpenBSD: Makefile,v 1.89 2013/12/22 19:24:35 zhuk Exp $

COMMENT=		office suite for KDE

VERSION=		1.6.3
REVISION =		34
CATEGORIES=		x11 x11/kde productivity
MASTER_SITES?=		${MASTER_SITE_KDE:S@@$@@stable/koffice-${VERSION}/src/@@}

DISTNAME=	koffice-${VERSION}

MASTER_SITES0=		ftp://ftp.kde.org/pub/kde/security_patches/
PATCHFILES=		koffice-xpdf-CVE-2007-3387.diff:0 \
			koffice-1.6.3-xpdf2-CVE-2007-4352-5392-5393.diff:0

SHARED_LIBS +=	kstore               3.0      # .3.0
SHARED_LIBS +=	kwmf                 3.0      # .3.0
SHARED_LIBS +=	kowmf                2.0      # .2.0
SHARED_LIBS +=	kofficecore          3.0      # .3.0
SHARED_LIBS +=	kofficeui            3.0      # .3.0
SHARED_LIBS +=	kotext               3.0      # .3.0
SHARED_LIBS +=	kopainter            2.0      # .2.0
SHARED_LIBS +=	kformulalib          4.0      # .4.0
SHARED_LIBS +=	koproperty           1.0      # .2.0
SHARED_LIBS +=	kopalette            1.0      # .1.0
SHARED_LIBS +=	krossapi             1.0      # .1.0
SHARED_LIBS +=	krossmain            1.0      # .1.0
SHARED_LIBS +=	kochart              2.0      # .1.0
SHARED_LIBS +=	karboncommon         1.0      # .0.0
SHARED_LIBS +=	kdchart              1.0      # .0.0
SHARED_LIBS +=	kchartcommon         3.0      # .2.0
SHARED_LIBS +=	kiviocommon          1.0      # .0.0
SHARED_LIBS +=	kpresenterprivate    4.0      # .4.0
SHARED_LIBS +=	kritacolor           1.0      # .1.0
SHARED_LIBS +=	kritaimage           1.0      # .1.0
SHARED_LIBS +=	kritaui              1.0      # .1.0
SHARED_LIBS +=	kritacommon          2.0      # .1.0
SHARED_LIBS +=	kritargb             0.0      # .0.0
SHARED_LIBS +=	krita_rgb_u16        0.0      # .0.0
SHARED_LIBS +=	krita_rgb_f32        0.0      # .0.0
SHARED_LIBS +=	kritagrayscale       0.0      # .0.0
SHARED_LIBS +=	krita_gray_u16       0.0      # .0.0
SHARED_LIBS +=	krita_cmyk_u16       0.0      # .0.0
SHARED_LIBS +=	krita_lms_f32        0.0      # .0.0
SHARED_LIBS +=	krita_ycbcr_u8       0.0      # .0.0
SHARED_LIBS +=	krita_ycbcr_u16      0.0      # .0.0
SHARED_LIBS +=	krita_rgb_f16half    0.0      # .0.0
SHARED_LIBS +=	kritascripting       0.0      # .0.0
SHARED_LIBS +=	kspreadcommon        1.0      # .0.0
SHARED_LIBS +=	kugarlib             2.0      # .1.2
SHARED_LIBS +=	kwmailmerge_interface 5.0      # .4.0
SHARED_LIBS +=	kwordprivate         4.0      # .4.0
SHARED_LIBS +=	kexisql3             4.1      # .3.2
SHARED_LIBS +=	kexisql2             3.0      # .2.8
SHARED_LIBS +=	kexiutils            2.0      # .2.0
SHARED_LIBS +=	kexidb               2.0      # .2.0
SHARED_LIBS +=	kexidbparser         2.0      # .2.0
SHARED_LIBS +=	kexicore             2.0      # .2.0
SHARED_LIBS +=	kexiguiutils         2.0      # .2.0
SHARED_LIBS +=	kexidatatable        2.0      # .2.0
SHARED_LIBS +=	kexiextendedwidgets  2.0      # .2.0
SHARED_LIBS +=	kexirelationsview    2.0      # .2.0
SHARED_LIBS +=	kformdesigner        2.0      # .2.0
SHARED_LIBS +=	keximain             2.0      # .2.0
SHARED_LIBS +=	keximigrate          2.0      # .2.0
SHARED_LIBS +=	kexiformutils        2.0      # .2.0
SHARED_LIBS +=	kchartimageexport    4.0      # .4.0
SHARED_LIBS +=	kwordexportfilters   2.0      # .1.1
SHARED_LIBS +=	kpresenterimageexport 4.0      # .4.0

FAKE_FLAGS=	TAR=tar

SEPARATE_BUILD=	flavored

MODKDE_VERSION=	3.5.7
AUTOCONF_VERSION=2.61

MODULES =	x11/kde devel/gettext lang/python lang/ruby
MODRUBY_REV=	1.8

RUN_DEPENDS=	devel/desktop-file-utils \
		x11/gtk+2,-guic

LIB_DEPENDS=	x11/kde/libs3 \
		graphics/libart \
		converters/wv2>=0.4.2 \
		graphics/ImageMagick \
		graphics/jbigkit \
		databases/mysql \
		graphics/libexif \
		print/poppler,,-qt \
		graphics/GraphicsMagick \
		textproc/libwpd \
		databases/libpqxx \
		databases/postgresql \
		${MODPY_LIB_DEPENDS} \
		${MODRUBY_LIB_DEPENDS}

WANTLIB= GL GLU GraphicsMagick>=1 Half ICE Iex IlmImf IlmThread Imath \
	MagickCore>=1 SM X11 Xcursor Xdamage Xext FLAC fam pthread-stubs \
	Xfixes Xft Xi Xinerama Xmu Xrandr Xrender Xt Xxf86vm art_lgpl_2>=5 \
	artsflow artsflow_idl audiofile bz2 c crypto drm exif>=12 expat \
	fontconfig freetype gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gsf-1 \
	gthread-2.0 idn jasper jbig jpeg kmedia2_idl lcms ltdl lib/kde3/DCOP \
	lib/kde3/artskde lib/kde3/kabc lib/kde3/kdecore>=4 lib/kde3/kdefx \
	lib/kde3/kdeprint lib/kde3/kdesu lib/kde3/kdeui lib/kde3/khtml \
	lib/kde3/kio lib/kde3/kjs lib/kde3/kmdi lib/kde3/knewstuff \
	lib/kde3/kparts lib/kde3/kresources lib/kde3/kspell lib/kde3/kspell2 \
	lib/kde3/ktexteditor lib/kde3/kutils lib/kde3/kwalletclient \
	lib/kde3/vcard m mad mcop mng mysqlclient ogg openjpeg pcre \
	pcreposix png poppler poppler-qt pq pqxx pthread \
	qtmcop readline sndio soundserver_idl ssl stdc++ \
	termcap tiff util vorbis vorbisenc vorbisfile wpd-0.8 \
	wv2 xcb xml2 xslt z djvulibre ffi fftw3 lcms2 lzma wmf-0.2 wmflite-0.2 \
	${MODPY_WANTLIB} ${MODRUBY_WANTLIB}

CONFIGURE_ARGS+= --with-pgsqlincdir=${LOCALBASE}/include/postgresql

# no need to depend on libpaper
CONFIGURE_ENV +=	ac_cv_header_paper_h=no \
			ac_cv_lib_paper_paperinit=no

post-patch:
	find ${WRKSRC} -name Makefile.in | xargs perl -pi -e 's@@share/apps/@@${MODKDE_DATA_SUBDIR}/@@'

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/${MODKDE_HTML_SUBDIR}/en/common

.include <bsd.port.mk>
@


1.89
log
@Next KDE deconflicting step: rename share/config/ to share/config.kde3/ and
share/config.kcfg/ to share/config.kcfg.kde3/. Tested on i386, including
run-time tests (not for all apps, though).

After this commit, there are only two conflicting files in kdelibs 3.x and
4.x packages left - to be solved soon.

spurring from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/11/25 14:16:24 sthen Exp $
@


1.88
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2013/10/22 11:34:08 zhuk Exp $
d6 1
a6 1
REVISION =		33
@


1.87
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2013/10/05 07:34:40 espie Exp $
a7 1
VMEM_WARNING=		Yes
@


1.86
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2013/07/08 14:03:30 zhuk Exp $
d6 1
a6 1
REVISION =		32
d124 3
d128 1
a128 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/HTML/en/common
@


1.85
log
@Replace ${post_install_libs} in Makefile.inc with MODKDE_LIB_LINKS
(see analog in kde4.port.mk). Some stuff outside x11/kde will need this
functionality, too, as it was merged into KDE4 SC.

okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2013/06/12 20:36:34 brad Exp $
d6 1
a6 1
REVISION =		31
@


1.84
log
@Revert back to using MySQL 5.1 for the time being. MariaDB 5.5 introduces
a new libmysqlclient non-blocking API which utilizes co-routines. The X86
specific GCC ASM co-routine support hid the fact that there was an issue.
The only fallback code so far is POSIX user contexts which OpenBSD does not
support.

Input from and Ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2013/06/03 20:07:39 zhuk Exp $
a125 1
	@@${post_install_libs}
@


1.83
log
@Move last users of Python 2.5 to the old new (or new old?) Python 2.7 land.

A few iterations with testing done by and ok landry@@
Also prodding from ajacoutot@@, fgsch@@ and others
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2013/05/25 00:33:10 brad Exp $
d6 1
a6 1
REVISION =		30
d90 1
a90 1
		databases/mariadb \
@


1.82
log
@Switch from using MySQL to using MariaDB. MariaDB is a drop-in replacement.


ok sthen aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2013/04/13 08:54:19 ajacoutot Exp $
d6 1
a6 1
REVISION =		29
d79 1
a79 1
MODULES =	x11/kde devel/gettext lang/ruby
d82 1
a82 1
RUN_DEPENDS+=	devel/desktop-file-utils \
d84 1
a85 1
		python->=2.5,<2.6:lang/python/2.5 \
d97 1
d113 1
a113 1
	python2.5 qtmcop readline sndio soundserver_idl ssl stdc++ \
d116 1
a116 2
	${MODRUBY_WANTLIB}

a126 1

@


1.81
log
@Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2013/03/20 19:13:50 jeremy Exp $
d6 1
a6 1
REVISION =		28
d90 1
a90 1
		databases/mysql \
@


1.80
log
@Make ruby 1.9 the default ruby for non-gem/extconf ports,
for consistency with the gem/extconf ports.

Update non-gem/extconf ports that relied on the previous
default of ruby 1.8 to explicitly specify it.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2013/01/23 21:10:38 zhuk Exp $
d6 1
a6 1
REVISION =		27
d100 1
a100 1
	MagickCore>=1 SM X11 Xcursor Xdamage Xext \
@


1.79
log
@Move KDE 3 headers from ${PREFIX}/include to ${PREFIX}/include/kde.
Updates to dependant ports to follow.

Tested in a bulk, input and okay by landry@@
Reviewed by aja@@ too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2013/01/12 11:21:10 ajacoutot Exp $
d80 1
@


1.78
log
@Fix crystalsvg icon path in @@unexec-delete
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2012/12/03 22:30:26 brad Exp $
d6 1
a6 1
REVISION =		26
@


1.77
log
@Further tweaks for Pacal's sloppy wv2 update.

ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2012/08/28 19:13:12 espie Exp $
d6 1
a6 1
REVISION =		25
@


1.76
log
@switch default poppler flavor to no_qt,no_qt4,boostrap, as naddy@@ now
sees bulk builds with a critical path sequentially building qt4, poppler,
libreoffice...

passes a full bulk

agreed with kili@@, aja@@, naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2012/07/03 13:37:14 okan Exp $
d6 1
a6 1
REVISION =		24
d86 1
a86 1
		converters/wv2 \
@


1.75
log
@sync WANTLIB after ImageMagick update; ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2012/06/15 08:30:23 ajacoutot Exp $
d91 1
a91 1
		print/poppler,-qt \
@


1.74
log
@Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2012/02/16 22:33:41 ajacoutot Exp $
d6 1
a6 1
REVISION =		23
d113 2
a114 1
	wv2 xcb xml2 xslt z djvulibre ffi fftw3 lcms2 lzma ${MODRUBY_WANTLIB}
@


1.73
log
@Drop dependency on libpaper (which is really a Debian thing).
Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2011/12/03 23:34:05 ajacoutot Exp $
d6 1
a6 1
REVISION =		22
@


1.72
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2011/09/16 12:29:16 espie Exp $
d6 1
a6 1
REVISION =		21
a90 1
		print/libpaper \
d99 1
a99 1
	MagickCore>=1 MagickWand>=1 SM X11 Xau Xcursor Xdamage Xdmcp Xext \
d109 2
a110 2
	lib/kde3/vcard m mad mcop mng mysqlclient ogg openjpeg paper pcre \
	pcreposix png poppler poppler-qt pq pqxx pthread pthread-stubs \
d112 2
a113 2
	termcap tiff util vorbis vorbisenc vorbisfile wmflite-0.2 wpd-0.8 \
	wv2 xcb xml2 xslt z ${MODRUBY_WANTLIB}
d117 4
@


1.71
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/01/15 19:09:00 jasper Exp $
d6 1
a6 1
REVISION =		20
d81 2
a82 1
RUN_DEPENDS+=	devel/desktop-file-utils
@


1.70
log
@sync wantlib

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2010/11/24 21:35:16 jeremy Exp $
d6 1
a6 1
REVISION =		19
@


1.69
log
@REVISION bump all ruby ports due to a change in the pkgspec.
Previously, we were using ruby->=1.8,<=1.9, instead of
ruby->=1.8,<1.9.  While this wouldn't cause an issue, since
our ruby-1.9.2 package isn't included in ruby->=1.8,<=1.9,
it's still wrong and should be fixed.  This also fixes the
following minor issues:

Switch from using FLAVOR to MODRUBY_FLAVOR for *_DEPENDS.
Currently we don't have a ruby port that uses FLAVORs that
would differ from MODRUBY_FLAVOR, but it's possible we will
in the future.

Switch from BASE_PKGPATH to BUILD_PKGPATH in a few cases in
REGRESS_DEPENDS.  This probably is not strictly necessary, but
BUILD_PKGPATH is used in more cases, so it is good for
consistency.

Switch to new style *_DEPENDS, with the version specification
at the end.  The remaining cases where this is not done is
because a specific version is used.

Some FULLPKGNAME added to REGRESS_DEPENDS, to make sure that if
the old version is installed when you run a regress test, it
will install the new version first.

Some conversion of spaces to tabs for consistency.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2010/11/22 08:37:02 espie Exp $
d6 1
a6 1
REVISION =		18
d101 1
a101 1
	artsflow artsflow_idl audiofile bz2 c crypto drm exif>=12 expat fam \
d103 1
a103 1
	gthread-2.0 idn jasper jbig jpeg kmedia2_idl lcms lib/kde3/DCOP \
d112 1
a112 1
	termcap tiff util vorbis vorbisenc vorbisfile wmflite wpd-0.8 \
@


1.68
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2010/11/09 16:27:04 naddy Exp $
d6 1
a6 1
REVISION =		17
@


1.67
log
@cope with the libwpd -> libwpd-0.8 re-renaming
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2010/10/26 21:42:14 jeremy Exp $
d81 15
a95 15
RUN_DEPENDS+=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS=	::x11/kde/libs3 \
		:python->=2.5,<2.6:lang/python/2.5 \
		::graphics/libart \
		::converters/wv2 \
		::graphics/ImageMagick \
		::graphics/jbigkit \
		::databases/mysql \
		::graphics/libexif \
		::print/libpaper \
		::print/poppler,-qt \
		::graphics/GraphicsMagick \
		::textproc/libwpd \
		::databases/libpqxx \
		::databases/postgresql \
d98 4
a101 4
WANTLIB= GL GLU GraphicsMagick.>=1 Half ICE Iex IlmImf IlmThread Imath \
	MagickCore.>=1 MagickWand.>=1 SM X11 Xau Xcursor Xdamage Xdmcp Xext \
	Xfixes Xft Xi Xinerama Xmu Xrandr Xrender Xt Xxf86vm art_lgpl_2.>=5 \
	artsflow artsflow_idl audiofile bz2 c crypto drm exif.>=12 expat fam \
d104 1
a104 1
	lib/kde3/artskde lib/kde3/kabc lib/kde3/kdecore.>=4 lib/kde3/kdefx \
@


1.66
log
@Handle the rest of the fallout from the splitting of MODRUBY_LIB_DEPENDS
into MODRUBY_WANTLIB and using CONFIGURE_STYLE = ruby gem ext.  Use the
lang/ruby module for all dependent ports, setting
MODRUBY_{BUILD,RUN}DEP=No if necessary.

ok landry, phessler, sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2010/09/23 22:25:37 jeremy Exp $
d6 1
a97 2

REVISION =	16
d112 1
a112 1
	termcap tiff util vorbis vorbisenc vorbisfile wmflite wpd \
@


1.65
log
@Handle changes caused by splitting the ruby port and bump

OK jcs@@, landry@@, jasper@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2010/08/30 21:49:54 sthen Exp $
d78 1
a78 1
MODULES =	x11/kde devel/gettext
a87 1
		:ruby->=1.8,<=1.9:lang/ruby/1.8,-main \
d94 2
a95 1
		::databases/postgresql
d112 1
a112 1
	python2.5 qtmcop readline ruby18 sndio soundserver_idl ssl stdc++ \
d114 1
a114 1
	wv2 xcb xml2 xslt z
@


1.64
log
@bump for new python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/07/13 09:28:07 kili Exp $
d88 1
a88 1
		::lang/ruby \
d98 1
a98 1
REVISION =	15
d112 1
a112 1
	python2.5 qtmcop readline ruby sndio soundserver_idl ssl stdc++ \
@


1.63
log
@Fix WANTLIB (s/wmflite-0.2/wmflite/) and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/07/10 12:44:30 espie Exp $
d98 1
a98 1
REVISION =	14
@


1.62
log
@use REVISION instead of hardcoding p-numbers.

Note the way REVISION and WANTLIB are defined.
This is (more or less) the Makefile portion that lib-depends-check is supposed
to handle eventually...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/07/08 21:28:49 espie Exp $
d98 1
a98 1
REVISION =	13
d113 1
a113 1
	termcap tiff util vorbis vorbisenc vorbisfile wmflite-0.2 wpd \
@


1.61
log
@clean-up AND small changes:
- copy libs over to lib/kde3 (to prepare coexistence with kde4, eventually)
- move lib depends over to WANTLIB
- update WANTLIB for recent changes
- create links to avoid pkg_create protests over non existing links
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/05/15 08:48:01 ajacoutot Exp $
a10 1
PKGNAME=	${DISTNAME}p13
d98 1
@


1.60
log
@Add missing gtk-update-icon-cache goos.

ok landry@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2009/12/21 20:46:02 ajacoutot Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p12
d82 33
a114 23
LIB_DEPENDS=	kdecore.>=4,DCOP,artskde,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kparts,kspell,kabc,kjs,kresources,ktexteditor,kutils,kwalletclient,vcard,kspell2,knewstuff,kmdi::x11/kde/libs3 \
		python2.5:python->=2.5,<2.6:lang/python/2.5 \
		art_lgpl_2.>=5::graphics/libart \
		wv2::converters/wv2 \
		MagickCore.>=1,MagickWand.>=1::graphics/ImageMagick \
		jbig::graphics/jbigkit \
		mysqlclient::databases/mysql \
		ruby::lang/ruby \
		exif.>=12::graphics/libexif \
		paper::print/libpaper \
		poppler-qt::print/poppler,-qt \
		GraphicsMagick.>=1::graphics/GraphicsMagick \
		wpd::textproc/libwpd


WANTLIB=	ICE SM X11 Xext Xrender artsflow artsflow_idl audiofile bz2 c \
		freetype glib-2.0 gmodule-2.0 gobject-2.0 \
		gsf-1 gthread-2.0 jasper jpeg kmedia2_idl lcms \
		m mad mcop ogg pcre pcreposix png pthread qtmcop sndio \
		soundserver_idl stdc++ tiff util vorbis vorbisenc vorbisfile \
		xml2 xslt z Xt termcap Xi fontconfig crypto readline ssl \
		IlmImf Half Imath Iex idn GL GLU poppler pthread-stubs xcb \
		Xau Xdmcp expat fam rpcsvc IlmThread gio-2.0 wmflite
d118 5
a122 2
LIB_DEPENDS+=	pqxx::databases/libpqxx \
		pq::databases/postgresql
@


1.59
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2009/08/27 19:44:38 ajacoutot Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p11
@


1.58
log
@Use the gettext module.

ok landry@@ on an earlier diff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2009/08/11 08:40:40 ajacoutot Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p10
@


1.57
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/03/14 17:51:10 ajacoutot Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p9
d79 2
d99 1
a99 1
		gsf-1 gthread-2.0 iconv intl jasper jpeg kmedia2_idl lcms \
@


1.56
log
@- fix lib_depends spec
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2009/01/29 22:28:58 jakemsr Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p8
d101 1
a101 1
		IlmImf Half Imath Iex idn GL GLU poppler \
@


1.55
log
@* add sndio backend for artsd
* use audio(4) instead of ossaudio(3) in kdemultimedia3 as much as
  possible
* sync WANTLIB in dependant ports

testing/prodding from todd@@.  briefly discussed with naddy@@, ajacoutot@@
and jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2009/01/08 19:57:49 kili Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p7
d81 1
a81 1
		python2.5:python-2.5.*:lang/python/2.5 \
@


1.54
log
@
Fix after update of GraphicsMagick.

Test feedback from Vadim Zhukov <persgray@@gmail.com>.

ok okan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2008/11/20 13:40:48 okan Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p6
d96 1
a96 1
		esd freetype glib-2.0 gmodule-2.0 gobject-2.0 \
d98 1
a98 1
		m mad mcop ogg ossaudio pcre pcreposix png pthread qtmcop \
@


1.53
log
@- adapt for updated ImageMagick
- sync PLIST (@@bin markers)
- fixup WANTLIB

ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2008/01/04 17:48:38 espie Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p5
d91 1
a91 1
		GraphicsMagick::graphics/GraphicsMagick \
@


1.52
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2007/12/15 23:47:41 ajacoutot Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p4
d84 1
a84 1
		Magick,Wand::graphics/ImageMagick \
d102 1
a102 2
		Xau Xdmcp cairo expat fam glitz rpcsvc

@


1.51
log
@- add update-desktop-database goo

"looks ok" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2007/11/12 21:02:03 kili Exp $
d72 1
a72 1
FAKE_FLAGS=	${MAKE_FLAGS} TAR=tar DESTDIR=${WRKINST}
@


1.50
log
@
SECURITY: CVE-2007-4352, CVE-2007-5392 and CVE-2007-5393.

(with the correct pkg bump, i.e. to p3)

ok simon@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2007/11/03 08:04:40 steven Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p3
d79 1
@


1.49
log
@really use python 2.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2007/10/08 08:22:43 steven Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p2
d14 2
a15 1
PATCHFILES=		koffice-xpdf-CVE-2007-3387.diff:0
@


1.48
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2007/08/03 00:37:55 kili Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p1
@


1.47
log
@
SECURITY: CVE-2007-3387.

While here, tweak WANTLIB (+print/libpaper) and remove quotes from
COMMENT.

go for it, espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2007/06/09 23:10:45 espie Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p0
d79 1
a79 1
		python2.4:python-2.4.*:lang/python/2.4 \
@


1.46
log
@1.6.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2007/05/09 11:31:43 bernd Exp $
d3 1
a3 1
COMMENT=		"office suite for KDE"
d11 4
a14 1
PKGNAME=	${DISTNAME}
d87 1
@


1.45
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2007/02/23 21:46:30 espie Exp $
d5 1
a5 1
VERSION=		1.6.2
d11 1
a11 1
PKGNAME=	${DISTNAME}p0
a67 1
FLAVORS=debug
d72 2
a73 3
MODKDE_VERSION=	3.5.3
AUTOCONF?=	/bin/sh ${WRKDIST}/admin/cvs.sh configure
AUTOCONF_VERSION=2.59
d85 2
a86 1
		GraphicsMagick::graphics/GraphicsMagick
d95 3
a97 1
		IlmImf Half Imath Iex idn GL GLU poppler
a103 3
USE_X11=	Yes
USE_LIBTOOL=Yes
LIBTOOL_FLAGS=--tag=disable-static
@


1.44
log
@1.6.2 minor update, includes some pdf read fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2006/12/16 12:22:36 espie Exp $
d11 1
@


1.44.2.1
log
@MFC (original commit kili@@):
- fixes CVE-2007-3387

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2007/02/23 21:46:30 espie Exp $
a10 4
PKGNAME=	${DISTNAME}p0

MASTER_SITES0=	ftp://ftp.kde.org/pub/kde/security_patches/
PATCHFILES=	koffice-xpdf-CVE-2007-3387.diff:0
@


1.43
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2006/12/03 11:00:34 espie Exp $
d5 1
a5 1
VERSION=		1.6.1
@


1.42
log
@update to 1.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2006/11/20 08:07:41 steven Exp $
a70 1
BUILD_DEPENDS+=	::devel/pkgconfig
@


1.41
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2006/10/29 22:55:57 espie Exp $
d5 1
a5 1
VERSION=		1.6.0
d81 1
a81 1
		Magick::graphics/ImageMagick \
@


1.40
log
@koffice 1.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2006/10/20 11:07:58 pvalchev Exp $
d103 1
a103 1

@


1.39
log
@revert incomplete update accidentially committed by espie, ok w/ him
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2006/09/18 12:19:40 espie Exp $
d5 1
a5 1
VERSION=		1.5.2
d12 54
a65 59
#SHARED_LIBS=	karbonbase		3.0 \
#		kexipropertyeditor	1.0 \
#		koscript		3.0 \

SHARED_LIBS=	kchartimageexport	4.0 \
		kexiutils		1.0 \
		kopalette		1.0 \
		koproperty		0.0 \
		kpresenterimageexport	4.0 \
		kpresenterprivate	4.0 \
		krita_cmyk_u16		0.0 \
		krita_gray_u16		0.0 \
		krita_lms_f32		0.0 \
		krita_rgb_f16half	0.0 \
		krita_rgb_f32		0.0 \
		krita_rgb_u16		0.0 \
		kritacolor		1.0 \
		kritagrayscale		0.0 \
		kritaimage		1.0 \
		kritargb		0.0 \
		kritascripting		0.0 \
		kritaui			1.0 \
		krossapi		1.0 \
		krossmain		1.0 \
		kwordprivate		4.0

# need to check version of these
SHARED_LIBS+=				    \
		karboncommon		1.0 \
		kchartcommon		3.0 \
		kdchart			1.0 \
		kexicore		1.0 \
		kexidatatable		1.0 \
		kexidb			1.0 \
		kexidbparser		1.0 \
		kexiextendedwidgets	1.0 \
		kexiformutils		1.0 \
		kexiguiutils		1.0 \
		keximain		1.0 \
		keximigrate		1.0 \
		kexirelationsview	1.0 \
		kexisql2		3.0 \
		kexisql3		4.0 \
		kformdesigner		1.0 \
		kformulalib		4.0 \
		kiviocommon		1.0 \
		kochart			2.0 \
		kofficecore		3.0 \
		kofficeui		3.0 \
		kopainter		2.0 \
		kotext			3.0 \
		kowmf			2.0 \
		kritacommon		2.0 \
		kspreadcommon		1.0 \
		kstore			3.0 \
		kugarlib		2.0 \
		kwmailmerge_interface	5.0 \
		kwmf			3.0 \
		kwordexportfilters	2.0
d85 3
a87 1
		exif.>=12::graphics/libexif
d96 1
a96 1
		IlmImf Half Imath Iex idn GL GLU
@


1.38
log
@Update to 3.5.5
@
text
@d5 1
a5 1
VERSION=		1.5.92
d8 1
a8 1
MASTER_SITES?=		${MASTER_SITE_KDE:S@@$@@unstable/koffice-1.6-rc1/src/@@}
@


1.37
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2006/09/18 10:21:49 espie Exp $
d5 1
a5 1
VERSION=		1.5.2
d8 1
a8 1
MASTER_SITES?=		${MASTER_SITE_KDE:S@@$@@stable/koffice-${VERSION}/src/@@}
@


1.36
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2006/08/04 10:35:19 espie Exp $
d83 1
a83 1
		python2.4.0.0:python-2.4.*:lang/python/2.4 \
d94 2
a95 2
		esd freetype glib-2.0.0.0 gmodule-2.0.0.0 gobject-2.0.0.0 \
		gsf-1 gthread-2.0.0.0 iconv intl jasper jpeg kmedia2_idl lcms \
@


1.35
log
@koffice 1.5.2, update from bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2006/06/15 09:13:45 bernd Exp $
d82 1
a82 1
LIB_DEPENDS=	kdecore.4,DCOP,artskde,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kparts,kspell,kabc,kjs,kresources,ktexteditor,kutils,kwalletclient,vcard,kspell2,knewstuff,kmdi::x11/kde/libs3 \
d84 1
a84 1
		art_lgpl_2.5::graphics/libart \
d90 1
a90 1
		exif.12::graphics/libexif
@


1.35.2.1
log
@MFC (original commit kili@@):
- fixes CVE-2007-3387
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2006/08/04 10:35:19 espie Exp $
a10 4
PKGNAME=	${DISTNAME}p0

MASTER_SITES0=	ftp://ftp.kde.org/pub/kde/security_patches/
PATCHFILES=	koffice-xpdf-CVE-2007-3387.diff:0
@


1.34
log
@Fix WANTLIB. "go ahead" espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2006/06/04 23:10:21 brad Exp $
d5 1
d8 1
a8 1
MASTER_SITES?=		${MASTER_SITE_KDE:S@@$@@stable/koffice-1.5.1/src/@@}
d10 1
a10 3
DISTNAME=	koffice-1.5.1
PATCHFILES=	koffice-1.5.1-kexi-checkbox-data-saving.patch \
		koffice-1.5.1-kexi-form-plugins.patch
a11 5
do-distpatch:
	cd ${WRKDIST} && ${PATCH} ${PATCH_DIST_ARGS} <${FULLDISTDIR}/koffice-1.5.1-kexi-checkbox-data-saving.patch
	cd ${WRKDIST}/kexi && ${PATCH} -z .bak.orig --forward --quiet -E -p0 <${FULLDISTDIR}/koffice-1.5.1-kexi-form-plugins.patch

PKGNAME=	koffice-1.5.1p2
d89 2
a90 1
		ruby::lang/ruby
@


1.33
log
@the 1.5.1 tarball available from the distribution sites
seems to have the kword/kpresenter crash diff integrated.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2006/06/04 09:15:36 espie Exp $
d17 1
a17 1
PKGNAME=	koffice-1.5.1p1
d104 1
a104 1
		IlmImf Half Imath Iex idn
@


1.32
log
@update to 1.5.1 + some important patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2006/04/17 10:56:49 espie Exp $
d17 1
a17 1
PKGNAME=	koffice-1.5.1
@


1.31
log
@update to real 1.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2006/04/02 09:44:31 espie Exp $
d7 1
a7 1
MASTER_SITES?=		${MASTER_SITE_KDE:S@@$@@stable/koffice-1.5.0/src/@@}
d9 9
a17 2
DISTNAME=	koffice-1.5.0
PKGNAME=	koffice-1.5.0
d84 1
a84 1
MODKDE_VERSION=	
d104 1
a104 1
		IlmImf Half Imath GLU GL Iex
d110 1
@


1.30
log
@1.5.0 release candidate 1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2006/02/14 23:35:15 espie Exp $
d7 1
a7 1
MASTER_SITES?=		${MASTER_SITE_KDE:S@@$@@unstable/koffice-1.5-rc1/src/@@}
d9 2
a10 2
DISTNAME=	koffice-1.5.0-rc1
PKGNAME=	koffice-1.5.0rc1
d77 1
a77 1
MODKDE_VERSION=	3.5.2
@


1.29
log
@fix installation of karboncommon
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2006/01/13 22:49:56 espie Exp $
d7 1
a7 1
MASTER_SITES?=		${MASTER_SITE_KDE:S@@$@@stable/koffice-1.4.2/src/@@}
d9 30
a38 3
DISTNAME=	koffice-1.4.2
PKGNAME=	${DISTNAME}p2
SHARED_LIBS=	karbonbase		3.0 \
a50 1
		kexipropertyeditor	1.0 \
a60 1
		koscript		3.0 \
d75 1
d77 1
a77 1
MODKDE_VERSION=	3.4
d82 1
a82 1
		python2.3.0.0:python-2.3.*:lang/python/2.3 \
d87 2
a88 1
		mysqlclient::databases/mysql
d96 3
a98 1
		xml2 xslt z Xt termcap Xi fontconfig crypto readline ssl
@


1.28
log
@bump SHARED_LIBS for kde (all C++, no brainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2006/01/06 12:07:26 espie Exp $
d10 1
a10 1
PKGNAME=	${DISTNAME}p1
d12 1
@


1.27
log
@libtool, shared libs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2005/10/17 15:15:40 espie Exp $
d10 34
a43 34
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	karbonbase		2.0 \
		kchartcommon		2.0 \
		kdchart			0.0 \
		kexicore		0.8 \
		kexidatatable		0.8 \
		kexidb			0.0 \
		kexidbparser		0.8 \
		kexiextendedwidgets	0.8 \
		kexiformutils		0.8 \
		kexiguiutils		0.8 \
		keximain		0.8 \
		keximigrate		0.8 \
		kexipropertyeditor	0.8 \
		kexirelationsview	0.8 \
		kexisql2		2.8 \
		kexisql3		3.0 \
		kformdesigner		0.8 \
		kformulalib		3.0 \
		kiviocommon		0.0 \
		kochart			1.0 \
		kofficecore		2.0 \
		kofficeui		2.0 \
		kopainter		1.0 \
		koscript		2.0 \
		kotext			2.0 \
		kowmf			1.0 \
		kritacommon		1.0 \
		kspreadcommon		0.0 \
		kstore			2.0 \
		kugarlib		1.2 \
		kwmailmerge_interface	4.0 \
		kwmf			2.0 \
		kwordexportfilters	1.1
@


1.26
log
@update to 1.4.2, and finally activate the pgsql kexi support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2005/09/20 18:04:29 espie Exp $
d10 34
a43 1
PKGNAME=	${DISTNAME}
a53 1
MODKDE_LIBTOOL=Yes
d73 3
@


1.25
log
@fix a very obvious stack smash in karbon.

With the recent ld.so changes, karbon now apparently works more or less...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/08/05 10:49:18 espie Exp $
d7 1
a7 1
MASTER_SITES?=		${MASTER_SITE_KDE:S@@$@@stable/koffice-1.4.1/src/@@}
d9 2
a10 2
DISTNAME=	koffice-1.4.1
PKGNAME=	${DISTNAME}p0
d38 3
a40 2
CONFIGURE_ARGS+= --disable-pgsql
# --with-pgsqlincdir=${LOCALBASE}/include/postgresql
@


1.24
log
@koffice 1.4.1
does not enable all kexi plugins yet.
karbon does not work (bug in ld.so)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2004/12/30 21:14:27 espie Exp $
d10 1
a10 1
PKGNAME=	koffice-1.4.1
d12 1
@


1.23
log
@minor update to 1.3.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/12/21 11:38:43 espie Exp $
a5 1
VERSION=		3.1.4
d7 1
a7 1
MASTER_SITES?=		${MASTER_SITE_KDE:S@@$@@stable/${DISTNAME}/src/@@}
d9 2
a10 2
DISTNAME=	koffice-1.3.5
PKGNAME=	${DISTNAME}
d16 1
a16 1
MODKDE_VERSION=
d18 1
a18 1
AUTOCONF_VERSION=2.58
d20 2
a21 1
LIB_DEPENDS=	kdecore.4,DCOP,artskde,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kjava,kparts,kspell,kabc,kjs,kresources,kutils,kwalletclient,vcard::x11/kde/libs3 \
a24 1
		aspell::textproc/aspell/core \
d26 3
a28 1
		jbig::graphics/jbigkit
d35 1
a35 1
		xml2 xslt z
d37 2
@


1.22
log
@fix pkgspec
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/12/16 07:25:25 alek Exp $
d10 2
a11 2
DISTNAME=	koffice-1.3.4
PKGNAME=	${DISTNAME}p0
@


1.21
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/10/26 09:13:38 espie Exp $
d11 1
d22 1
a22 1
		python2.3.0.0::lang/python/2.3 \
@


1.20
log
@update to 1.3.4
fix issue with aspell (configure test bogus, wants C++ to link)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2004/10/08 05:20:41 sturm Exp $
d27 7
@


1.19
log
@this actually wants autoconf 2.58
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2004/09/18 21:25:24 espie Exp $
d10 1
a10 1
DISTNAME=	koffice-1.3.3
@


1.18
log
@bump to 1.3.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2004/09/18 09:37:27 espie Exp $
d18 1
a18 1
AUTOCONF_VERSION=2.59
@


1.17
log
@update to koffice 1.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2004/02/26 09:52:58 brad Exp $
d10 1
a10 1
DISTNAME=	koffice-1.3.2
d20 1
a20 1
LIB_DEPENDS=	kdecore.4,DCOP,artskde,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kjava,kparts,kspell::x11/kde/libs3 \
@


1.16
log
@upgrade to KOffice 1.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2003/12/31 07:13:19 brad Exp $
d10 1
a10 1
DISTNAME=	koffice-1.3
d17 2
d24 3
a26 1
		aspell::textproc/aspell/core
@


1.15
log
@upgrade to KOffice 1.3RC2, final is just around the corner
and this is much better than 1.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2003/06/12 19:16:17 espie Exp $
d8 1
a8 1
MASTER_SITES?=		${MASTER_SITE_KDE:S@@$@@unstable/${DISTNAME}/src/@@}
d10 1
a10 1
DISTNAME=	koffice-1.2.95
d19 1
a19 1
		python2.2.0.0:python-2.2*:lang/python/2.2 \
d21 2
a22 5
		wv2::converters/wv2

post-extract:
	ln -s /usr/bin/true ${WRKDIR}/bin/automake-1.7
	ln -s /usr/bin/true ${WRKDIR}/bin/aclocal-1.7
@


1.14
log
@Update to kde 3.1.2 (requires recent autoconf).
Fix some build issues, mainly in kdebindings and kdemultimedia.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.13 2003/01/28 12:37:16 espie Exp $
a4 1
COMMENT=		"office applications for kde"
d6 1
a6 1
VERSION=		3.0
d8 3
a10 1
MASTER_SITES?=	${MASTER_SITE_KDE:S@@$@@stable/${DISTNAME}/src/@@}
d12 1
a12 2
DISTNAME=	koffice-1.2.1
PKGNAME=	koffice-1.2.1p0
d14 3
a16 1
FAKE_FLAGS=${MAKE_FLAGS} TAR=tar DESTDIR=${WRKINST}
a17 1
AUTOCONF_VERSION=	2.52
d20 2
a21 1
		art_lgpl_2.5::graphics/libart
d24 2
a25 5
	ln -s /usr/bin/true ${WRKDIR}/bin/automake-1.6
	ln -s /usr/bin/true ${WRKDIR}/bin/aclocal-1.6

#PATCHORIG=	.bsdorig
#PATCH_LIST=	p-* patch-*
a26 2
SEPARATE_BUILD=flavored
#KDE=lib/kde3
@


1.13
log
@and bump the pkgname.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2003/01/07 15:36:35 espie Exp $
d14 1
d21 1
@


1.12
log
@Add missing SEPARATE_BUILDs, turn them into flavored
Trim old commented cruft
Add debug flavor, and --disable-dependency-tracking if !debug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/12/15 13:08:12 espie Exp $
d10 1
a10 1
PKGNAME=	koffice-1.2.1
@


1.11
log
@Update to koffice-1.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/11/20 11:45:12 naddy Exp $
a11 2
# kill docs for now, they don't compile yet.
#MAKE_FLAGS=TOPSUBDIRS="autocorrect karbon kchart kformula kivio kontour koshell kounavail kpresenter kspread kugar kword pics plugins servicetypes templates tools"
d24 1
@


1.10
log
@KDE requires gcc3 on sparc64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/09/26 15:49:58 naddy Exp $
d9 2
a10 2
DISTNAME=	koffice-1.2
PKGNAME=	koffice-1.2
d19 3
@


1.9
log
@- Add libart dependency.
- Include karbon and kontour.

XXX  karbon and kspread are still broken.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/09/11 12:02:50 espie Exp $
a20 1
MODULES=	qt3
@


1.9.2.1
log
@MFC:
Security update: 3.0.5a. Fixes numerous vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/12/15 13:08:12 espie Exp $
d9 2
a10 2
DISTNAME=	koffice-1.2.1
PKGNAME=	koffice-1.2.1
a19 3
post-extract:
	ln -s /usr/bin/true ${WRKDIR}/bin/automake-1.6

d21 1
@


1.8
log
@koffice 1.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/04/19 00:14:27 espie Exp $
d16 3
a18 1
LIB_DEPENDS=kdecore.4,DCOP,artskde,kdefx,kdeprint,kdesu,kdeui,khtml,kio,kjava,kparts,kspell::x11/kde/libs3 python2.2.0.0:python-2.2*:lang/python/2.2
@


1.7
log
@kde 3.0.3, incorporated kssl changes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/07/16 12:20:43 espie Exp $
d5 1
a5 2
VERSION=		1.1.1
DISTNAME=		koffice-${VERSION}
d7 1
d9 2
a10 3
FULLPKGNAME=	koffice-${VERSION}-kde3
MASTER_SITES=	${MASTER_SITE_KDE:=koffice-1.1.1-kde3/src/}
DISTFILES=	koffice-${VERSION}-kde3.tar.bz2
d12 3
a14 2
#BUILD_DEPENDS=	::x11/qt2-designer
LIB_DEPENDS= kdecore.3,DCOP,kdefx,kdeprint,kdesu,kdeui,kio,kparts,kspell::x11/kde/libs3 python2.2.0.0:python-2.2*:lang/python/2.2
d16 3
a18 1
PATCHORIG=	.bsdorig
d20 1
a20 1
PATCH_LIST=	p-* patch-*
d22 1
a22 1
KDE=lib/kde3
@


1.6
log
@Update to 3.0.2, somewhat lately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/05/15 18:17:59 espie Exp $
d10 1
a10 1
MASTER_SITES=	${MASTER_SITE_KDE:=stable/3.0/src/}
@


1.5
log
@kill MASTER_SITE_SUBDIR there too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/04/19 00:14:27 espie Exp $
a4 1
NEED_VERSION=		1.483
@


1.4
log
@except for koffice, which is still fairly big.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/04/15 06:54:44 espie Exp $
d11 1
a11 1
MASTER_SITE_SUBDIR=	stable/3.0/src/
@


1.3
log
@don't forget that
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/04/10 01:24:40 espie Exp $
d8 1
@


1.2
log
@Use a common Makefile.inc to remove lots of common parts in all kde dirs.
Remove lame stuff in base3, since run-time auto-detection is working now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/04/05 16:04:24 espie Exp $
d20 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/04/03 16:32:14 espie Exp $
a7 1
DIST_SUBDIR=		kde
a9 1
MASTER_SITES=	${MASTER_SITE_KDE}
a12 2
NOT_FOR_ARCHS=${NO_SHARED_ARCHS}

d16 1
a16 1
PATCHORIG=.bsdorig
a17 10
CONFIGURE_STYLE=	autoconf
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/admin
CONFIGURE_ARGS=		${MODQT_CONFIGURE_ARGS}
CONFIGURE_ARGS+=	--with-extra-libs=${LOCALBASE}/lib
CONFIGURE_ARGS+=	--with-extra-includes=${LOCALBASE}/include
CONFIGURE_ARGS+=	--disable-mt
CONFIGURE_ARGS+=	--disable-threading
CONFIGURE_ARGS+=	--disable-debug
CONFIGURE_ARGS+=	--enable-final
#CONFIGURE_ARGS+=--enable-static --enable-debug --disable-shared
a18 18

# Not yet, too much time to compile
#CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}

USE_GMAKE=		Yes
CONFIGURE_ENV+=		RUN_KAPPFINDER=no KDEDIR=${LOCALBASE}
CONFIGURE_ENV+=		ac_aux_files=''
MAKE_ENV=		${CONFIGURE_ENV}

# Ensure qt will always be at the front
MAKE_FLAGS=CXXLD='--tag CXX ${CXX} -L${MODQT_LIBDIR}'

# GPL
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
@


1.1.1.1
log
@same thing, but for kde3.
@
text
@@
