head	1.1;
access;
symbols
	OPENBSD_3_1:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2003.01.07.00.12.39;	author brad;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2003.01.07.00.12.39;	author brad;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file patch-kmahjongg_kmahjongg_cpp was initially added on branch OPENBSD_3_1.
@
text
@@


1.1.2.1
log
@- add patches from auditing effort for KDE 2.2
- bump PKGNAME's

http://www.kde.org/info/security/advisory-20021220-1.txt
@
text
@a0 21
$OpenBSD$
--- kmahjongg/kmahjongg.cpp.orig	Mon Nov  5 21:44:08 2001
+++ kmahjongg/kmahjongg.cpp	Sun Jan  5 21:20:49 2003
@@@@ -774,7 +774,7 @@@@ void KMahjonggWidget::loadGame(void) {
     }
 
     // verify the magic
-    fscanf(outFile, "%s\n", buffer);
+    fscanf(outFile, "%1023s\n", buffer);
     if (buffer != gameMagic) {
 	KMessageBox::sorry(this,
 		i18n("File format not recognised."));
@@@@ -783,7 +783,7 @@@@ void KMahjonggWidget::loadGame(void) {
     }
 
     //ed the elapsed time
-    fscanf(outFile, "%s\n", buffer);
+    fscanf(outFile, "%1023s\n", buffer);
     gameTimer->fromString(buffer);
 
     // suck out all the game data
@

