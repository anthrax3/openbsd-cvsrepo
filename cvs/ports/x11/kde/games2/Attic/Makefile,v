head	1.27;
access;
symbols
	OPENBSD_3_1:1.25.0.2
	OPENBSD_3_1_BASE:1.25
	OPENBSD_3_0:1.18.0.2
	OPENBSD_3_0_BASE:1.18
	OPENBSD_2_9_TRACKING_SWITCH:1.12
	OPENBSD_2_9:1.10.0.2
	OPENBSD_2_9_BASE:1.10
	espie:1.1.1.1
	kdegames2:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2002.09.11.17.43.42;	author espie;	state dead;
branches;
next	1.26;

1.26
date	2002.07.16.12.20.42;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2002.04.10.01.24.39;	author espie;	state Exp;
branches
	1.25.2.1;
next	1.24;

1.24
date	2002.04.03.02.25.06;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2002.03.24.16.24.36;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2002.03.21.16.36.58;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2002.03.05.14.09.00;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2001.12.31.12.30.54;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2001.10.24.12.52.42;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2001.09.28.06.02.15;	author pvalchev;	state Exp;
branches;
next	1.17;

1.17
date	2001.09.27.10.54.59;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2001.09.19.15.20.12;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2001.09.19.14.13.29;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2001.08.21.10.59.38;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2001.08.20.23.44.17;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2001.08.02.14.08.58;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2001.05.10.19.44.54;	author lebel;	state Exp;
branches;
next	1.10;

1.10
date	2001.04.23.21.19.29;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2001.03.30.12.34.50;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2001.03.26.13.29.54;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2001.03.16.15.07.44;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2001.03.12.16.20.07;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2001.03.11.16.13.48;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2001.01.18.14.58.49;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2000.12.19.15.31.23;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2000.12.17.21.53.01;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2000.11.19.20.22.45;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.11.19.20.22.45;	author espie;	state Exp;
branches;
next	;

1.25.2.1
date	2003.01.07.00.12.39;	author brad;	state Exp;
branches;
next	;


desc
@@


1.27
log
@ditch the files.
@
text
@# $OpenBSD: Makefile,v 1.26 2002/07/16 12:20:42 espie Exp $

COMMENT=		games for KDE
COMMENT-cards=		faces for kde card games
COMMENT-kabalone=	board game for kde
COMMENT-kasteroids=	asteroids clone for kde
COMMENT-katomic=	game similar to sokoban for kde
COMMENT-kbackgammon=	backgammon for kde
COMMENT-kblackbox=	graphical logic game for kde
COMMENT-kfouleggs=	PuyoPuyo clone for kde
COMMENT-kjezz=		games for kde
COMMENT-kjumpingcube=	tactical board game for kde
COMMENT-kmahjongg=	mahjongg game for kde
COMMENT-kmines=		minesweeper game for kde
COMMENT-konquest=	game of galactic conquest for kde 
COMMENT-kpat=		solitaire games for kde
COMMENT-kpoker=		video poker for kde
COMMENT-kreversi=	strategy boardgame for kde
COMMENT-ksame=		ball-matching game for kde
COMMENT-kshisen=	tile matching game for kde
COMMENT-ksirtet=	tetris clone for kde
COMMENT-ksmiletris=	tetris-like game for kde
COMMENT-ksnake=		snake racing game for kde
COMMENT-ksokoban=	japanese strategy game for kde 
COMMENT-kspaceduel=	space arcade game for kde
COMMENT-ktron=		classic tron game for kde
COMMENT-ktuberling=	virtual potato-head for kde
COMMENT-kwin4=		4 in a rows game for kde
COMMENT-lskat=		card game for two players, based on Skat

CATEGORIES=		x11 x11/kde games
VERSION=		2.2.2
DISTNAME=		kdegames-${VERSION}

LIB_DEPENDS= kdecore.3,DCOP,artsflow,artsflow_idl,kdeprint,kdesu,kdeui,kfile,kio,kmedia2_idl,kparts,kssl,ksycoca,mcop,qtmcop,soundserver_idl::x11/kde/libs2
BUILD_DEPENDS=	::x11/qt2-designer

.for i in kabalone kasteroids katomic kbackgammon kblackbox kfouleggs \
kjezz kjumpingcube kmahjongg kmines konquest kpat kpoker kreversi ksame \
kshisen ksirtet ksmiletris ksnake ksokoban kspaceduel ktron ktuberling \
kwin4 lskat
#MULTI_PACKAGES+= -$i
PKGNAME-$i=$i-${VERSION}
.endfor
#MULTI_PACKAGES+= -cards
PKGNAME-cards=kdecardgames-${VERSION}
SUBST_VARS=VERSION

.if defined(PACKAGING)
.  if (${SUBPACKAGE} == "-kpat" || ${SUBPACKAGE} == "-kpoker" || ${SUBPACKAGE} == "-lskat")
RUN_DEPENDS+=	::x11/kde/games2,-cards
.  endif
.endif

.include <bsd.port.mk>
@


1.26
log
@Update to 3.0.2, somewhat lately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/04/10 01:24:39 espie Exp $
@


1.25
log
@Use a common Makefile.inc to remove lots of common parts in all kde dirs.
Remove lame stuff in base3, since run-time auto-detection is working now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/04/03 02:25:06 espie Exp $
a31 1
NEED_VERSION=		1.504
@


1.25.2.1
log
@- add patches from auditing effort for KDE 2.2
- bump PKGNAME's

http://www.kde.org/info/security/advisory-20021220-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/04/10 01:24:39 espie Exp $
d32 1
a34 1
PKGNAME=		${DISTNAME}p1
d43 2
a44 1
PKGNAME-$i=$i-${VERSION}p1
d46 2
a47 1
PKGNAME-cards=kdecardgames-${VERSION}p1
@


1.24
log
@fix all of kde2 internal dirrm conflicts, except for koffice.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/03/24 16:24:36 espie Exp $
a34 9
DIST_SUBDIR=		kde

MASTER_SITES=	${MASTER_SITE_KDE}
MASTER_SITE_SUBDIR=	stable/${VERSION}/src/
EXTRACT_SUFX=		.tar.bz2

# Parts of kde want shared libraries to work, as some symbols are
# duplicated over the place.
NOT_FOR_ARCHS=${NO_SHARED_ARCHS}
a38 12
MODULES=qt2

CONFIGURE_STYLE=	autoconf
AUTOCONF_NEW=		Yes
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/admin
CONFIGURE_ARGS=		${MODQT_CONFIGURE_ARGS}
CONFIGURE_ARGS+=	--with-extra-libs=${LOCALBASE}/lib
CONFIGURE_ARGS+=	--with-extra-includes=${LOCALBASE}/include
CONFIGURE_ARGS+=	--without-motif

PATCH_LIST=${PORTSDIR}/x11/kde/libs2/patches/p-* patch-*

a54 20

# Not yet, too much time to compile
#CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ARGS+= 	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--disable-debug

USE_GMAKE=		Yes
CONFIGURE_ENV=		RUN_KAPPFINDER=no KDEDIR=${LOCALBASE}

CONFIGURE_ENV+=		ac_aux_files=''
MAKE_ENV=		${CONFIGURE_ENV}

# Ensure qt2 will always be at the front
MAKE_FLAGS=CXXLD='--tag CXX ${CXX} -L${MODQT_LIBDIR}'

# GPL
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
@


1.23
log
@typo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2002/03/21 16:36:58 espie Exp $
a95 2

MTREE_FILE=${PORTSDIR}/x11/kde/libs2/files/mtree
@


1.22
log
@forgot to use module qt2 there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2002/03/05 14:09:00 espie Exp $
d89 1
a89 1
MAKE_FLAGS=CXXLD='--tag CXX ${CXX} -L${MODQT_LIBDIR}"
@


1.21
log
@Remove zsh work-around.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/12/31 12:30:54 espie Exp $
d48 2
d53 1
a53 2
CONFIGURE_ARGS=		--with-qt-includes=${LOCALBASE}/include/X11/qt2
CONFIGURE_ARGS+=	--with-qt-libraries=${LOCALBASE}/lib/qt2
d83 1
a83 2
CONFIGURE_ENV=		MOC=${LOCALBASE}/bin/moc2 \
	RUN_KAPPFINDER=no KDEDIR=${LOCALBASE}
d89 1
a89 1
MAKE_FLAGS=CXXLD='--tag CXX ${CXX} -L${LOCALBASE}/lib/qt2'
@


1.20
log
@Update basic kde packages to 2.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/10/24 12:52:42 espie Exp $
d46 1
a46 1
BUILD_DEPENDS=	::x11/qt2-designer :zsh-*:shells/zsh/stable
a87 4
pre-build:
	# Let zsh act as an sh replacement
	ln -sf $(LOCALBASE)/bin/zsh ${WRKBUILD}/sh

a89 1
MAKE_FLAGS+=LIBTOOL='$(WRKBUILD)/sh $(WRKBUILD)/libtool'
@


1.19
log
@Okay, so the kde lib dependencies are somewhat crazier than everything
else...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/09/28 06:02:15 pvalchev Exp $
d32 2
a33 2
NEED_VERSION=		1.461
VERSION=		2.2.1
d49 1
@


1.18
log
@CONFIGURE_STYLE=gnu w/ proper MODGNU_CONFIG_GUESS_DIRS
needed for the powerpc -> macppc name change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/09/27 10:54:59 espie Exp $
d45 1
a45 1
LIB_DEPENDS=	kdecore.3::x11/kde/libs2
@


1.17
log
@Reuse libs patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/09/19 15:20:12 espie Exp $
d49 1
@


1.16
log
@Dependencies update.
A bit of documentation.
Some other update (artwork, kdoc, mosfet-liquid)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/09/19 14:13:29 espie Exp $
d32 1
a32 1
NEED_VERSION=		1.458
d54 2
@


1.15
log
@Update to 2.2.1.
Some patches folded back.
ksysguardd from Sebastian Stark. Doesn't work squeaky-clean yet, but at
least some people can look at it now...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/08/21 10:59:38 espie Exp $
d32 1
a32 1
NEED_VERSION=		1.404
d45 2
a46 3
LIB_DEPENDS=	kdecore.3.::x11/kde/libs2
BUILD_DEPENDS=	uic::x11/qt2-designer
BUILD_DEPENDS+=	zsh:zsh-*:shells/zsh/stable
d68 1
a68 1
RUN_DEPENDS+=	${LOCALBASE}/lib/libkdegames.la::x11/kde/games2,-cards
@


1.14
log
@Fix some distribution problems, and more dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/08/20 23:44:17 espie Exp $
d33 1
a33 1
VERSION=		2.2
d81 2
@


1.13
log
@Bump to 2.2, disable MULTI_PACKAGES until packing lists has been checked.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/08/02 14:08:58 espie Exp $
d38 1
a38 1
MASTER_SITE_SUBDIR=	stable/${VERSION}/distribution/tar/generic/src/
@


1.12
log
@PREFIX->LOCALBASE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/05/10 19:44:54 lebel Exp $
d33 1
a33 1
VERSION=		2.1.1
d60 1
a60 1
MULTI_PACKAGES+= -$i
d63 1
a63 1
MULTI_PACKAGES+= -cards
@


1.11
log
@shells/zsh is now shells/zsh/stable, so fix BUILD_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/04/23 21:19:29 espie Exp $
d80 1
a80 1
	RUN_KAPPFINDER=no KDEDIR=/usr/local
@


1.10
log
@Bring patches in line with the rest of kde.

Also, fix run depends for subpackages...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/03/30 12:34:50 espie Exp $
d47 1
a47 1
BUILD_DEPENDS+=	zsh:zsh-*:shells/zsh
@


1.9
log
@kdegames 2.1.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/03/26 13:29:54 espie Exp $
d32 1
a32 1
NEED_VERSION=		1.361
d41 4
d47 1
d49 1
a49 1
CONFIGURE_STYLE=	gnu
d67 6
d76 1
d83 4
d89 1
@


1.8
log
@Remove COMMENTS.
Update dependencies for uic, and pcre (needed for javascript among other
things).

Update PLIST.

Thanks to all the guys who told me about uic. I just wanted to make sure my
changes were compiling before committing.

Note that brain-dead libs2 will complain that it can't find uic, as all
the kde ports configure are cloned from each other, but in fact it doesn't
require uic, which is very fortunate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/03/16 15:07:44 espie Exp $
d33 1
a33 1
VERSION=		2.1
@


1.7
log
@Revamped MULTI_PACKAGES, using new framework
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/03/12 16:20:07 espie Exp $
d42 1
@


1.6
log
@games 2.1 update.
Disable MULTI_PACKAGES temporarily, need to figure out the card games
setup.
@
text
@d1 29
a29 1
# $OpenBSD: Makefile,v 1.5 2001/03/11 16:13:48 espie Exp $
d32 1
a32 1
NEED_VERSION=		1.305
d50 10
a59 4
#MULTI_PACKAGES=		-kabalone -kasteroids -katomic -kbackgammon \
#-kblackbox -kfouleggs -kjezz -kjumpingcube -kmahjongg -kmines -konquest \
#-kpat -kpoker -kreversi -ksame -kshisen -ksirtet -ksmiletris -ksnake \
#-ksokoban -kspaceduel -ktron -ktuberling -kwin4 -lskat
a77 4

.if defined(SUBPACKAGE)
PKGNAME=${SUBPACKAGE:S/^-//}-${VERSION}
.endif
@


1.5
log
@Depending on circumstances, the framework may rerun automake and autoconf.
This is not really a problem, as long as we do make sure the environment is
set up correctly...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/01/18 14:58:49 espie Exp $
d5 1
a5 1
VERSION=		2.0.1
d22 4
a25 4
MULTI_PACKAGES=		-kabalone -kasteroids -katomic -kblackbox \
-kfouleggs -kjumpingcube -kmahjongg -kmines -konquest -kpat -kpoker \
-kreversi -ksame -kshisen -ksirtet -ksmiletris -ksnake -ksokoban \
-kspaceduel -ktron -ktuberling -lskat
d49 1
a49 3
pre-fake:
	${SUDO} /usr/sbin/mtree -U -e -d -n -p ${PREFIX} \
	    -f ${PORTSDIR}/x11/kde/libs2/files/mtree >/dev/null
@


1.4
log
@Work-around to avoid qt1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/12/19 15:31:23 espie Exp $
d34 1
@


1.3
log
@categories+= games
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/12/17 21:53:01 espie Exp $
d34 3
@


1.2
log
@Update to kdegames 2.0.1, multi package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/11/19 20:22:45 espie Exp $
d3 1
a3 1
CATEGORIES=		x11 x11/kde
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/11/02 00:02:34 espie Exp $
d5 1
a5 1
VERSION=		2.0
d22 5
d41 7
@


1.1.1.1
log
@kde games2, compiling flawlessly.
Missing subpackages yet.
@
text
@@
