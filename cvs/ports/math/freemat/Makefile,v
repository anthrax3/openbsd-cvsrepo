head	1.34;
access;
symbols
	OPENBSD_6_1:1.31.0.8
	OPENBSD_6_1_BASE:1.31
	OPENBSD_6_0:1.31.0.6
	OPENBSD_6_0_BASE:1.31
	OPENBSD_5_9:1.31.0.2
	OPENBSD_5_9_BASE:1.31
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.30.0.8
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.30.0.6
	OPENBSD_5_6_BASE:1.30
	OPENBSD_5_5:1.30.0.4
	OPENBSD_5_5_BASE:1.30
	OPENBSD_5_4:1.30.0.2
	OPENBSD_5_4_BASE:1.30
	OPENBSD_5_3:1.29.0.2
	OPENBSD_5_3_BASE:1.29
	OPENBSD_5_2:1.28.0.2
	OPENBSD_5_2_BASE:1.28
	OPENBSD_5_1_BASE:1.27
	OPENBSD_5_1:1.27.0.2
	OPENBSD_5_0:1.26.0.4
	OPENBSD_5_0_BASE:1.26
	OPENBSD_4_9:1.26.0.2
	OPENBSD_4_9_BASE:1.26
	OPENBSD_4_8:1.22.0.2
	OPENBSD_4_8_BASE:1.22
	OPENBSD_4_7:1.16.0.4
	OPENBSD_4_7_BASE:1.16
	OPENBSD_4_6:1.16.0.2
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.15.0.4
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.15.0.2
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.14.0.2
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.11.0.2
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	steven-20061028:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.34
date	2017.07.26.22.45.26;	author sthen;	state Exp;
branches;
next	1.33;
commitid	tD4MFrpYYDDL2UFT;

1.33
date	2017.07.16.19.19.00;	author espie;	state Exp;
branches;
next	1.32;
commitid	tt0GhWK5c4uf9ILG;

1.32
date	2017.04.10.11.46.22;	author sthen;	state Exp;
branches;
next	1.31;
commitid	BLsh88fJB8thZTwY;

1.31
date	2015.07.20.23.13.59;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	XghS2RMPYgLX56ES;

1.30
date	2013.03.11.11.23.54;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2012.12.21.18.25.03;	author landry;	state Exp;
branches;
next	1.28;

1.28
date	2012.06.13.09.45.11;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2011.09.16.10.31.22;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.11.19.07.23.10;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2010.10.24.21.25.50;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.10.24.19.28.50;	author steven;	state Exp;
branches;
next	1.23;

1.23
date	2010.10.23.15.09.57;	author steven;	state Exp;
branches;
next	1.22;

1.22
date	2010.07.26.09.31.48;	author jakemsr;	state Exp;
branches;
next	1.21;

1.21
date	2010.07.18.17.19.49;	author steven;	state Exp;
branches;
next	1.20;

1.20
date	2010.07.18.14.33.39;	author steven;	state Exp;
branches;
next	1.19;

1.19
date	2010.07.18.10.30.41;	author steven;	state Exp;
branches;
next	1.18;

1.18
date	2010.05.28.22.41.43;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2010.03.26.12.00.17;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2009.06.25.00.11.19;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2008.06.11.21.09.06;	author martynas;	state Exp;
branches;
next	1.14;

1.14
date	2007.09.29.06.53.39;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2007.09.15.18.44.36;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2007.09.07.15.55.25;	author steven;	state Exp;
branches;
next	1.11;

1.11
date	2007.05.22.09.10.22;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2007.05.21.16.48.33;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2007.04.22.14.43.41;	author martynas;	state Exp;
branches;
next	1.8;

1.8
date	2007.04.20.19.11.51;	author martynas;	state Exp;
branches;
next	1.7;

1.7
date	2007.03.27.20.12.59;	author martynas;	state Exp;
branches;
next	1.6;

1.6
date	2007.03.24.14.14.50;	author martynas;	state Exp;
branches;
next	1.5;

1.5
date	2006.12.16.12.22.34;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2006.11.17.23.31.45;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2006.10.30.09.57.20;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2006.10.29.11.03.30;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2006.10.28.19.53.04;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.10.28.19.53.04;	author steven;	state Exp;
branches;
next	;


desc
@@


1.34
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.33 2017/07/16 19:19:00 espie Exp $

COMMENT=	environment for rapid engineering and scientific processing
BROKEN-hppa =	undefined reference to lapack funcs

V=		4.0
DISTNAME=	FreeMat-${V}-Source
REVISION=	3
PKGNAME=	freemat-${V}

CATEGORIES=	graphics math

HOMEPAGE=	http://freemat.sourceforge.net/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += GL GLU QtGui QtNetwork QtOpenGL QtSvg QtXml amd c fftw3
WANTLIB += fftw3f m ncurses pcre portaudio pthread ${COMPILER_LIBCXX} umfpack
WANTLIB += z

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=freemat/}

MODULES=	x11/qt4 devel/cmake

LIB_DEPENDS=	audio/portaudio-svn \
		devel/pcre \
		math/suitesparse \
		math/fftw3,double \
		math/fftw3,float

NO_TEST=	Yes

SUBST_VARS=	V

CONFIGURE_ARGS=	-DUSE_LLVM:BOOL=FALSE

WRKDIST=	${WRKDIR}/FreeMat-${V}.1-Source

post-extract:
	@@cd ${WRKSRC} && find . -name \*.moc.cpp | xargs rm

pre-configure:
	@@rm ${WRKSRC}/CMakeCache.txt

post-install:
	@@mv ${PREFIX}/bin/FreeMat ${PREFIX}/bin/freemat

.include <bsd.port.mk>
@


1.33
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2017/04/10 11:46:22 sthen Exp $
d8 1
a8 1
REVISION=	2
@


1.32
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/07/20 23:13:59 ajacoutot Exp $
d19 1
a19 1
WANTLIB += fftw3f m ncurses pcre portaudio pthread ${LIBCXX} umfpack
@


1.31
log
@Fix dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/03/11 11:23:54 espie Exp $
d19 1
a19 1
WANTLIB += fftw3f m ncurses pcre portaudio pthread stdc++ umfpack
@


1.30
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2012/12/21 18:25:03 landry Exp $
d8 1
a8 1
REVISION=		1
d15 1
a15 1
# GPL
d18 3
a20 3
WANTLIB += GL GLU ICE SM X11 Xext c m ncurses pcre pthread stdc++
WANTLIB += z amd fftw3 fftw3f portaudio umfpack
WANTLIB += QtGui QtNetwork QtOpenGL QtSvg QtXml
d28 1
a28 1
		math/amd \
d30 1
a30 3
		math/fftw3,float \
		math/umfpack

@


1.29
log
@Mark as BROKEN-hppa: never built there.
libumfpack.so has undefined refs to a bunch of lapack funcs ?
dgemm, zgemm, dtrsm, ztrsv, dger, zgemv, dgemv, ztrsm, dtrsv, zgeru
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/06/13 09:45:11 espie Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d34 1
a34 1
NO_REGRESS=	Yes
@


1.28
log
@apparently, qt GL no longer relies on glu, so to get the right prototypes,
we must ask for them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/09/16 10:31:22 espie Exp $
d4 1
@


1.27
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/11/19 07:23:10 espie Exp $
d7 1
a7 1
REVISION=		0
@


1.26
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/10/24 21:25:50 ajacoutot Exp $
d7 1
@


1.25
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/10/24 19:28:50 steven Exp $
d27 6
a32 7
LIB_DEPENDS=	::audio/portaudio-svn \
		::devel/pcre \
		::math/amd \
		::math/fftw3,double \
		::math/fftw3,float \
		::math/umfpack \
		::x11/qt4
@


1.24
log
@update to 4.0
switch to cmake

from Alexandr Shadchin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/10/23 15:09:57 steven Exp $
a34 1
USE_X11=	Yes
@


1.23
log
@replace MODFORTRAN_WANTG77 with MODFORTRAN_COMPILER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/07/18 17:19:49 steven Exp $
d5 2
a6 2
V=		3.6
DISTNAME=	FreeMat-${V}
a7 1
REVISION=	4
d19 3
a21 4
WANTLIB= 	GL GLU amd c curses m pthread stdc++ z \
		${MODFORTRAN_WANTLIB} \
		avcall arpack.>=1 blas.>=1 fftw3.>=4 fftw3f.>=4 lapack.>=1 \
		pcre portaudio umfpack QtGui QtNetwork QtOpenGL QtSvg QtXml
d25 1
a25 2
MODULES=	x11/qt4 devel/gettext fortran
MODFORTRAN_COMPILER = g77
d27 2
a28 2
BUILD_DEPENDS=	${MODFORTRAN_BUILD_DEPENDS}
LIB_DEPENDS=	::devel/ffcall \
a29 2
		::math/arpack \
		::math/blas \
a31 3
		::math/lapack \
		::devel/pcre \
		::audio/portaudio-svn \
d33 1
a33 2
		::x11/qt4 \
		${MODFORTRAN_LIB_DEPENDS}
d36 2
a37 10
USE_LIBTOOL=	Yes
USE_GMAKE=	Yes
AUTOCONF_VERSION= 2.61
CONFIGURE_STYLE=  autoconf no-autoheader

CONFIGURE_ENV=	F77=${FC} \
		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/amd -I${LOCALBASE}/include/umfpack -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
		PKG_CONFIG_LIBDIR="${LOCALBASE}/lib/qt4/pkgconfig:${LOCALBASE}/lib/qt4" \
		ac_cv_path_LLVM_CONFIG=
d40 10
@


1.22
log
@this was linking with libossaudio for portaudio, however portaudio hasn't
used libossaudio for a while.  quit linking with libossaudio.
@
text
@d28 1
a28 1
MODFORTRAN_WANTG77= Yes
@


1.21
log
@add explicit depends on amd, since it does not come in via umfpack anymore
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/03/26 12:00:17 espie Exp $
d8 1
a8 1
REVISION=	3
d20 1
a20 1
WANTLIB= 	GL GLU amd c curses m ossaudio pthread stdc++ z \
@


1.20
log
@new WANTLIB/LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/07/18 10:30:41 steven Exp $
d8 1
a8 1
REVISION=	2
d32 1
@


1.19
log
@REVISION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/03/26 12:00:17 espie Exp $
d21 3
a23 1
		${MODFORTRAN_WANTLIB}
d31 10
a40 10
LIB_DEPENDS=	avcall::devel/ffcall \
		arpack.>=1::math/arpack \
		blas.>=1::math/blas \
		fftw3.>=4::math/fftw3,double \
		fftw3f.>=4::math/fftw3,float \
		lapack.>=1::math/lapack \
		pcre::devel/pcre \
		portaudio::audio/portaudio-svn \
		umfpack::math/umfpack \
		QtGui,QtNetwork,QtOpenGL,QtSvg,QtXml::x11/qt4 \
@


1.18
log
@use fortran module
@
text
@d7 2
a8 1
PKGNAME=	freemat-${V}p2
@


1.17
log
@prepare for qt 4.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/06/25 00:11:19 sthen Exp $
d7 1
a7 1
PKGNAME=	freemat-${V}p1
d19 2
a20 1
WANTLIB += GL GLU amd c curses g2c m ossaudio pthread stdc++ z
d24 2
a25 1
MODULES=	x11/qt4 devel/gettext
d27 1
d37 2
a38 2
		QtGui,QtNetwork,QtOpenGL,QtSvg,QtXml::x11/qt4

@


1.16
log
@- Workaround qt4 linking problem (pthread moved to Libs.private).
This is a temporary fix pending a change to qt4's installed pkg-config
files at a suitable point in the release cycle.

- Don't let autoconf pick up LLVM yet.

- regen PLIST, sync WANTLIB, bump PKGNAME.

With martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/06/11 21:09:06 martynas Exp $
d7 1
a7 1
PKGNAME=	freemat-${V}p0
@


1.15
log
@- freemat-3.6 is now possible
- make use of portaudio
- remove what i got in upstream
steven@@ and Wiktor Izdebski say regression tests pass on amd64, i386
ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/09/29 06:53:39 steven Exp $
d7 1
a7 1
PKGNAME=	freemat-${V}
d19 1
a19 3
WANTLIB=	GL GLU ICE SM X11 Xcursor Xext Xfixes Xi Xinerama Xrandr \
		Xrender c curses fontconfig freetype g2c glib-2.0 \
		m ossaudio png pthread stdc++ z amd gthread-2.0 ssl crypto
d46 2
a47 1
		PKG_CONFIG_LIBDIR="${LOCALBASE}/lib/qt4/pkgconfig:${LOCALBASE}/lib/qt4"
@


1.14
log
@update to 3.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/09/15 18:44:36 steven Exp $
d5 1
a5 1
V=		3.5
d21 1
a21 1
		m png pthread stdc++ z amd gthread-2.0 ssl crypto
d34 1
d36 1
a36 1
		QtGui,QtNetwork,QtOpenGL,QtXml::x11/qt4
d42 2
a43 1
CONFIGURE_STYLE=  gnu
@


1.13
log
@remove quotes from COMMENT/PERMIT*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/09/07 15:55:25 steven Exp $
d5 1
a5 1
V=		3.4
@


1.12
log
@update to freemat 3.4

looks ok to martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/05/22 09:10:22 espie Exp $
d3 1
a3 1
COMMENT=	"environment for rapid engineering and scientific processing"
@


1.11
log
@reorder helper next/previous to match common browser behavior.
add WANTLIBs for qt4.3

okay steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/05/21 16:48:33 espie Exp $
d5 1
a5 1
V=		3.2
d7 1
a7 1
PKGNAME=	freemat-${V}p0
@


1.10
log
@tell freemat to look in both pkgconfig locations so that it will find newer
qt4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/04/22 14:43:41 martynas Exp $
d7 1
a7 1
PKGNAME=	freemat-${V}
d21 1
a21 1
		m png pthread stdc++ z amd gthread-2.0
d36 1
@


1.9
log
@3.2 is a re-release of 3.1 with my RESOURCEDIR diff
also, add patch-libs_libCore_IO_cpp (which was ok steven@@ some time ago)
if you are using freemat3 on amd64 make sure you've got the latest current
with floorf() fix
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/04/20 19:11:51 martynas Exp $
d45 1
a45 1
		PKG_CONFIG_LIBDIR="${LOCALBASE}/lib/qt4"
@


1.8
log
@update to 3.1, which includes our all patches (and introduces some new
ones);

3.1 is a bugfix release, but also includes new threading api, perl-style
regular expressions, and the regression test suite (use run_tests).

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/03/27 20:12:59 martynas Exp $
d5 1
a5 1
V=		3.1
a45 1
MAKE_FLAGS=	resourcedir="${LOCALBASE}/share/FreeMat-${V}"
@


1.7
log
@- fix ceil for amd64;
- fix (hidden) measuring bug on non-64bit;
- fix crashes in save and copy operations;
"go ahead" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/03/24 14:14:50 martynas Exp $
d5 1
a5 1
V=		3.0
d7 1
a7 1
PKGNAME=	freemat-${V}p0
d21 1
a21 1
		m png pthread stdc++ z amd
d33 1
d35 1
a35 1
		QtGui,QtOpenGL::x11/qt4
d40 1
a40 2
CONFIGURE_STYLE=  autoconf no-autoheader
AUTOCONF_VERSION= 2.59
d46 1
@


1.6
log
@update to freemat 3.0
you need at least 9 days old current system for it (correct
_POSIX_THREAD_ATTR_STACKSIZE define for qt4).
all the patches already got committed upstream.
"please commit!" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/12/16 12:22:34 espie Exp $
d7 1
a7 1
PKGNAME=	freemat-${V}
@


1.5
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/11/17 23:31:45 steven Exp $
d5 3
a7 3
VERSION=	2.0
DISTNAME=	FreeMat-${VERSION}
PKGNAME=	freemat-${VERSION}p1
d9 1
a9 1
CATEGORIES=	math
a32 1
		matio::math/matio \
d38 4
a41 1
CONFIGURE_STYLE=gnu
d46 2
a47 1
MAKE_FLAGS=	MYDEFS="-DBASEPATH=\\\"../share/${DISTNAME}\\\""
d50 1
a50 3
	@@rm -f ${PREFIX}/share/${DISTNAME}/mfiles
	@@cd ${PREFIX}/share/${DISTNAME} && ln -sf help/MFiles mfiles
	@@cd ${PREFIX}/bin && mv FreeMat freemat
@


1.4
log
@prevent an out of bounds access when pasting text.

problem hunted down and fix suggested by Deanna Phillips, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/10/30 09:57:20 steven Exp $
a26 1
BUILD_DEPENDS=	::devel/pkgconfig
@


1.3
log
@add a few missing qt4 libraries

spotted by Deanna Phillips
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/10/29 11:03:30 steven Exp $
d7 1
a7 1
PKGNAME=	freemat-${VERSION}p0
@


1.2
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/10/28 19:53:04 steven Exp $
d7 1
a7 1
PKGNAME=	freemat-${VERSION}
d35 2
a36 1
		umfpack::math/umfpack
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d37 1
@


1.1.1.1
log
@import FreeMat 2.0

FreeMat is a free environment for rapid engineering and scientific
prototyping and data processing. It is similar to commercial systems
such as MATLAB from Mathworks, and IDL from Research Systems, but is
Open Source. FreeMat includes several novel features such as a codeless
interface to external C/C++/FORTRAN code, parallel/distributed
algorithm development (via MPI), and plotting and visualization
capabilities.
@
text
@@
