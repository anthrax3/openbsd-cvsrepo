head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.4
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	czarkoff_20150527:1.1.1.1
	czarkoff:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2017.02.27.19.53.23;	author jca;	state Exp;
branches;
next	1.5;
commitid	rA61N9by2EdY1DQz;

1.5
date	2016.03.04.10.38.48;	author czarkoff;	state Exp;
branches;
next	1.4;
commitid	wKDvGi7LkUQmKF8U;

1.4
date	2015.12.03.21.24.30;	author sthen;	state Exp;
branches;
next	1.3;
commitid	qh8BBe4z9PLvLPKf;

1.3
date	2015.09.11.11.44.03;	author czarkoff;	state Exp;
branches;
next	1.2;
commitid	20fefiUzUVDzWPwH;

1.2
date	2015.06.16.07.47.47;	author czarkoff;	state Exp;
branches;
next	1.1;
commitid	AZlxmp6ggddfXEcD;

1.1
date	2015.05.27.16.30.37;	author czarkoff;	state Exp;
branches
	1.1.1.1;
next	;
commitid	UZQ8iZa2tIl9Fpxs;

1.1.1.1
date	2015.05.27.16.30.37;	author czarkoff;	state Exp;
branches;
next	;
commitid	UZQ8iZa2tIl9Fpxs;


desc
@@


1.6
log
@Respect CC
@
text
@# $OpenBSD: Makefile,v 1.5 2016/03/04 10:38:48 czarkoff Exp $

COMMENT =		number theoretic multiple-precision integer library
CATEGORIES =		math
HOMEPAGE =		http://libtom.net/

MAINTAINER =		Dmitrij D. Czarkoff <czarkoff@@openbsd.org>

GH_ACCOUNT =		libtom
GH_PROJECT =		libtommath
GH_TAGNAME =		v1.0

# WTFPL
PERMIT_PACKAGE_CDROM =	Yes

MAKE_FLAGS =		CC="${CC}" \
			IGNORE_SPEED=Yes \
			V=1 \
			PREFIX=
FAKE_FLAGS =		DESTDIR=${WRKINST}${PREFIX} \
			LIBPATH=/lib \
			INCPATH=/include
USE_GMAKE =		Yes
MAKE_FILE =		makefile

ALL_TARGET =		default
TEST_TARGET =		coverage

CFLAGS +=		-fPIC

.include <bsd.port.mk>
@


1.5
log
@update to libtommath-1.0

License changed from public domain to WTFPL

Upsteam code changes are mostly bug fixes.  Port changes are:

 * switch to GH_* infrastructure (-bzip2 bdep, no WRKDIST fixing)
 * drop PDF manual (which doesn't add much to comments in headers)
 * tests are no longer interactive

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/12/03 21:24:30 sthen Exp $
d16 2
a17 1
MAKE_FLAGS =		IGNORE_SPEED=Yes \
@


1.4
log
@switch my distfiles mirror to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/09/11 11:44:03 czarkoff Exp $
a3 3
V =			0.42.0
REVISION =		0
DISTNAME =		libtommath-$V
d9 3
a11 3
MASTER_SITES0 =		http://libtom.net/files/
MASTER_SITES1 =		https://spacehopper.org/mirrors/
DISTFILES +=		ltm-$V.tar.bz2:0 ltm-manual-$V.pdf.gz:1
d13 1
a13 1
# Public Domain
d16 3
a18 1
MAKE_FLAGS =		IGNORE_SPEED=Yes
a23 1
WRKDIST =		${WRKDIR}/${PKGNAME}
d26 1
a26 2
TEST_TARGET =		mtest
TEST_IS_INTERACTIVE =	Yes
a28 10

DOCPATH=${PREFIX}/share/doc/libtommath

post-test:
	@@echo "\n\n\tThe test will run until interrupted (eg. by Control-C).\n"
	${WRKBUILD}/mtest/mtest | ${WRKBUILD}/test

post-install:
	${INSTALL_DATA_DIR} ${DOCPATH}
	${INSTALL_DATA} ${WRKDIR}/ltm-manual-$V.pdf ${DOCPATH}/manual.pdf
@


1.3
log
@Build with -fPIC, drop texlive dependency

New MASTER_SITES as a consequence, and buildtime bzip2 dependency. While at it,
change my email address.

Original patch by pascal@@, OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2015/06/16 07:47:47 czarkoff Exp $
d13 1
a13 1
MASTER_SITES1 =		http://spacehopper.org/mirrors/
@


1.2
log
@PORTROACH annotation

OK ajacoutot@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.1.1.1 2015/05/27 16:30:37 czarkoff Exp $

PORTROACH =		skipv:semver
d5 1
d10 1
a10 1
MAINTAINER =		Dmitrij D. Czarkoff <czarkoff@@gmail.com>
d12 3
a14 3
GH_ACCOUNT =		libtom
GH_PROJECT =		libtommath
GH_TAGNAME =		v${V}
a18 2
BUILD_DEPENDS =		print/texlive/base

d27 1
a27 1
ALL_TARGET =		default docs manual
d31 2
d41 1
a41 2
	${INSTALL_DATA} ${WRKDIST}/bn.pdf ${DOCPATH}/manual.pdf
	${INSTALL_DATA} ${WRKDIST}/tommath.pdf ${DOCPATH}/tommath.pdf
@


1.1
log
@Initial revision
@
text
@d1 3
a3 1
# $OpenBSD$
@


1.1.1.1
log
@LibTomMath is a free open source portable number theoretic multiple-precision
integer library written entirely in C. The library is designed to provide a
simple to work with API to fairly efficient routines from various branches of
number theory.

OK sthen@@
@
text
@@
