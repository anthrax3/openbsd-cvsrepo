head	1.25;
access;
symbols
	OPENBSD_6_0:1.25.0.4
	OPENBSD_6_0_BASE:1.25
	OPENBSD_5_9:1.25.0.2
	OPENBSD_5_9_BASE:1.25
	OPENBSD_5_8:1.24.0.4
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.22.0.8
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.22.0.6
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.22.0.4
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.22.0.2
	OPENBSD_5_4_BASE:1.22
	OPENBSD_5_3:1.21.0.2
	OPENBSD_5_3_BASE:1.21
	OPENBSD_5_2:1.20.0.4
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.2
	OPENBSD_5_0:1.19.0.2
	OPENBSD_5_0_BASE:1.19
	OPENBSD_4_9:1.17.0.2
	OPENBSD_4_9_BASE:1.17
	OPENBSD_4_8:1.14.0.2
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.11.0.2
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.8.0.8
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.6
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.4
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.2
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.6.0.4
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.6.0.2
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.4.0.2
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.3.0.2
	OPENBSD_3_9_BASE:1.3
	steven-20051203:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2015.12.03.21.24.30;	author sthen;	state Exp;
branches;
next	1.24;
commitid	qh8BBe4z9PLvLPKf;

1.24
date	2015.05.25.07.54.27;	author jasper;	state Exp;
branches;
next	1.23;
commitid	jsaRAQWqOGFN8HTC;

1.23
date	2015.03.16.18.07.49;	author naddy;	state Exp;
branches;
next	1.22;
commitid	IJdm3Zowcdkcxp5X;

1.22
date	2013.03.11.11.23.54;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2012.09.01.12.02.27;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2011.11.18.11.16.24;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2011.05.13.14.52.27;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2011.05.01.13.43.04;	author steven;	state Exp;
branches;
next	1.17;

1.17
date	2010.10.23.15.09.57;	author steven;	state Exp;
branches;
next	1.16;

1.16
date	2010.10.18.20.52.05;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.08.19.21.23.29;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2010.07.18.10.30.41;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2010.06.12.18.00.13;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2010.05.26.16.15.27;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2010.02.09.12.23.59;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2009.11.22.16.19.56;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2009.08.05.20.40.46;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2007.09.15.18.44.36;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2007.09.05.15.32.19;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2006.11.03.08.29.00;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2006.10.03.06.00.03;	author ckuethe;	state Exp;
branches;
next	1.4;

1.4
date	2006.04.01.19.02.23;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2005.12.24.14.46.37;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2005.12.04.12.10.12;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2005.12.03.21.56.25;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.12.03.21.56.25;	author steven;	state Exp;
branches;
next	;


desc
@@


1.25
log
@switch my distfiles mirror to https
@
text
@# $OpenBSD: Makefile,v 1.24 2015/05/25 07:54:27 jasper Exp $

COMMENT=	Basic Linear Algebra Subprograms

VERSION=	1.0
DISTNAME=	blas
PKGNAME=	${DISTNAME}-${VERSION}
REVISION=	7
SHARED_LIBS=	blas	2.0

CATEGORIES=	math
DISTFILES=	blas.tgz manpages.tgz:0

HOMEPAGE=	http://www.netlib.org/blas/

# freely available
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	https://spacehopper.org/mirrors/blas-20110419/ \
		ftp://ftp.netlib.org/blas/ \
		ftp://netlib.bell-labs.com/netlib/blas/ \
		http://www.netlib.no/netlib/blas/
MASTER_SITES0=	${MASTER_SITES:S/blas/lapack/}
EXTRACT_SUFX=	.tgz
DIST_SUBDIR=	${DISTNAME}-${VERSION}
WRKDIST=	${WRKDIR}/BLAS

MODULES=	fortran
MODFORTRAN_COMPILER = g77
BUILD_DEPENDS=	${MODFORTRAN_BUILD_DEPENDS}

MAKE_FILE=	${FILESDIR}/Makefile
MAKE_ENV=	SHLIB_MAJOR=${LIBblas_VERSION:R} \
		SHLIB_MINOR=${LIBblas_VERSION:E} \
		FC=${FC}
FAKE_FLAGS=	LIBDIR=${LOCALBASE}/lib DEBUGLIBS=no
USE_GROFF =	Yes

MANSRC=		${WRKDIR}/manpages/blas/man/manl

post-build:
	rm ${MANSRC}/{lsame,xerbla}.l
	@@perl -pi -e 's/(\.TH\s+\w+)\s+l(.*)/\1 3f\2/' ${MANSRC}/*.l
	@@cd ${MANSRC} && for m in *.l; do mv $$m $${m%\.l}.3f; done

post-install:
	${INSTALL_MAN} ${MANSRC}/*.3f ${PREFIX}/man/man3f

.include <bsd.port.mk>
@


1.24
log
@remove a whole bunch more @@rm -f cases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/03/16 18:07:49 naddy Exp $
d19 1
a19 1
MASTER_SITES=	http://spacehopper.org/mirrors/blas-20110419/ \
@


1.23
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/03/11 11:23:54 espie Exp $
d42 1
a42 1
	@@rm -f ${MANSRC}/{lsame,xerbla}.l
@


1.22
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/09/01 12:02:27 naddy Exp $
d8 1
a8 1
REVISION=	6
@


1.21
log
@bsd.lib.mk does not build _pic.a libraries any longer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/11/18 11:16:24 espie Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.20
log
@shrink, this lives in bsd.port.mk itself now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/05/13 14:52:27 sthen Exp $
d8 1
a8 1
REVISION=	5
@


1.19
log
@mirror the distfiles, upstream keeps changing them.
problems reported by Vijay Sankar on ports@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/05/01 13:43:04 steven Exp $
a42 7

# See bsd.lib.mk:162
.if ${MACHINE_ARCH:Mmips64*}
PKG_ARGS+=	-Dno_mips64=0
.else
PKG_ARGS+=	-Dno_mips64=1
.endif
@


1.18
log
@distfiles were re-rolled, man page dir changed, etc.

spotted by Skylar Hawk, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/08/19 21:23:29 steven Exp $
d22 2
a23 1
MASTER_SITES=	ftp://ftp.netlib.org/blas/ \
@


1.17
log
@replace MODFORTRAN_WANTG77 with MODFORTRAN_COMPILER
@
text
@d8 1
a8 1
REVISION=	4
d41 1
a41 1
MANSRC=		${WRKDIR}/lapack-3.2.0/manpages/blas/man/manl
@


1.16
log
@USE_GROFF=Yes
@
text
@d31 1
a31 1
MODFORTRAN_WANTG77=	Yes
@


1.15
log
@- distfiles were silently rerolled.
- makes man pages more complete
- add missing file to SRCS, bump lib version

distfile update noticed by and initial patch from Thomas de Grivel
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/07/18 10:30:41 steven Exp $
d39 1
@


1.14
log
@REVISION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/06/12 18:00:13 steven Exp $
d8 2
a9 2
REVISION=	3
SHARED_LIBS=	blas	1.0
d28 1
a28 1
WRKDIST=	${WRKDIR}
d40 1
a40 1
MANSRC=		${WRKDIR}/${DISTNAME}/man/manl
@


1.13
log
@pass FC via the environment; will ease use of gfortran later
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/02/09 12:23:59 jasper Exp $
d7 2
a8 1
PKGNAME=	${DISTNAME}-${VERSION}p3
@


1.12
log
@needs f77
@
text
@d35 2
a36 1
		SHLIB_MINOR=${LIBblas_VERSION:E}
@


1.11
log
@- extend archtecture tests for mips64el

ok naddy@@ phessler@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/11/22 16:19:56 jasper Exp $
d28 4
@


1.10
log
@- fix build on mips64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/08/05 20:40:46 steven Exp $
d37 1
a37 1
.if ${MACHINE_ARCH} == "mips64"
@


1.9
log
@drop maintainership for this stuff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/09/15 18:44:36 steven Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}-${VERSION}p2
d35 7
@


1.8
log
@remove quotes from COMMENT/PERMIT*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/09/05 15:32:19 steven Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}-${VERSION}p1
a13 2

MAINTAINER=	Steven Mestdagh <steven@@openbsd.org>
@


1.7
log
@move man pages to section 3f
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/11/03 08:29:00 steven Exp $
d3 1
a3 1
COMMENT=	"Basic Linear Algebra Subprograms"
@


1.6
log
@do not reference PKGNAME in other vars
pointed out by naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/10/03 06:00:03 ckuethe Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}-${VERSION}p0
d40 2
a41 2
	@@perl -pi -e 's/(\.TH\s+\w+)\s+l(.*)/\1 3\2/' ${MANSRC}/*.l
	@@cd ${MANSRC} && for m in *.l; do mv $$m $${m%\.l}.3; done
d44 1
a44 1
	${INSTALL_MAN} ${MANSRC}/*.3 ${PREFIX}/man/man3
@


1.5
log
@Process manpages after compiling source. This makes it possible to
interrupt and restart the build of this port.
ok steven
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/04/01 19:02:23 steven Exp $
d5 1
d7 1
a7 1
PKGNAME=	${DISTNAME}-${LIBblas_VERSION}p0
d28 1
a28 1
DIST_SUBDIR=	${PKGNAME}
@


1.4
log
@install manual pages for the BLAS library; bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/12/24 14:46:37 steven Exp $
d37 1
a37 1
pre-build:
@


1.3
log
@SHARED_LIBS
ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/12/04 12:10:12 alek Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}-${LIBblas_VERSION}
a7 2
SHLIB_MAJOR=	${LIBblas_VERSION:R}
SHLIB_MINOR=	${LIBblas_VERSION:E}
d10 1
d25 1
d31 2
a32 1
MAKE_ENV=	SHLIB_MAJOR=${SHLIB_MAJOR} SHLIB_MINOR=${SHLIB_MINOR}
d34 10
@


1.2
log
@Empty WANTLIB is not needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/12/03 21:56:25 steven Exp $
d6 5
a10 1
PKGNAME=	blas-${SHLIB_VER}
a22 3
SHLIB_MAJOR=	1
SHLIB_MINOR=	0

a32 4

# need shared library version for machines which support shared libraries.
SHLIB_VER=	${SHLIB_MAJOR}.${SHLIB_MINOR}
SUBST_VARS=	SHLIB_VER
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a17 2

WANTLIB=
@


1.1.1.1
log
@import BLAS

The BLAS (Basic Linear Algebra Subprograms) are routines that provide
standard building blocks for performing basic vector and matrix
operations.

help and ok alek@@
@
text
@@
