head	1.32;
access;
symbols
	OPENBSD_6_2:1.32.0.6
	OPENBSD_6_2_BASE:1.32
	OPENBSD_6_1:1.32.0.4
	OPENBSD_6_1_BASE:1.32
	OPENBSD_6_0:1.32.0.2
	OPENBSD_6_0_BASE:1.32
	OPENBSD_5_9:1.30.0.2
	OPENBSD_5_9_BASE:1.30
	OPENBSD_5_8:1.29.0.4
	OPENBSD_5_8_BASE:1.29
	OPENBSD_5_7:1.27.0.2
	OPENBSD_5_7_BASE:1.27
	OPENBSD_5_6:1.26.0.6
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.26.0.4
	OPENBSD_5_5_BASE:1.26
	OPENBSD_5_4:1.26.0.2
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.24.0.2
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.22.0.2
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.21
	OPENBSD_5_1:1.21.0.2
	OPENBSD_5_0:1.20.0.4
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.20.0.2
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.18.0.4
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.2
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.15.0.2
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.14.0.2
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.13.0.2
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.11.0.2
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.10.0.4
	OPENBSD_4_2_BASE:1.10
	OPENBSD_4_1:1.10.0.2
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4
	alek_20051003:1.1.1.1
	alek:1.1.1;
locks; strict;
comment	@# @;


1.32
date	2016.03.23.21.14.58;	author naddy;	state Exp;
branches;
next	1.31;
commitid	DZpfXM2g7fjlMdeS;

1.31
date	2016.03.11.20.28.27;	author naddy;	state Exp;
branches;
next	1.30;
commitid	UYLP8TE6V7RS2GhJ;

1.30
date	2015.08.14.19.51.26;	author steven;	state Exp;
branches;
next	1.29;
commitid	jZE3Mmi6ElQAok0I;

1.29
date	2015.06.18.07.13.04;	author bentley;	state Exp;
branches;
next	1.28;
commitid	YzWLQFaALww2mz3z;

1.28
date	2015.05.22.11.31.17;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	2khjHXfpTaOuNVcx;

1.27
date	2015.02.16.22.57.09;	author naddy;	state Exp;
branches;
next	1.26;
commitid	0dx3c9ckf7dE4tx1;

1.26
date	2013.03.21.08.46.32;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.11.11.23.54;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2012.11.14.19.56.53;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2012.10.23.20.44.03;	author kirby;	state Exp;
branches;
next	1.22;

1.22
date	2012.03.29.13.38.40;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2011.09.08.14.47.31;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.19.07.23.10;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.18.20.52.05;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.02.26.18.50.32;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.02.26.18.47.04;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2009.07.26.20.54.32;	author steven;	state Exp;
branches;
next	1.15;

1.15
date	2009.03.26.18.37.47;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2008.10.08.22.27.22;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2008.04.22.21.19.59;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2008.04.21.00.38.19;	author jakemsr;	state Exp;
branches;
next	1.11;

1.11
date	2007.09.15.18.44.36;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2006.12.01.14.24.55;	author steven;	state Exp;
branches;
next	1.9;

1.9
date	2006.11.21.20.42.30;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2006.10.28.23.23.29;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2006.10.18.17.40.38;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2006.07.14.14.37.40;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2006.03.05.23.17.29;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2006.02.18.21.14.42;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2006.01.06.18.30.40;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2005.12.23.19.56.50;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2005.10.03.21.41.52;	author alek;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.10.03.21.41.52;	author alek;	state Exp;
branches;
next	;


desc
@@


1.32
log
@g/c PFRAG.shared
@
text
@# $OpenBSD: Makefile,v 1.31 2016/03/11 20:28:27 naddy Exp $

COMMENT-main=	C routines for computing the Discrete Fourier Transform
COMMENT-common=	common files for the fftw3 packages

V=		3.3.4
DISTNAME=	fftw-${V}
PKGNAME=	fftw3-${V}
REVISION=	0
FULLPKGNAME-main=	fftw3-${V}
# XXX set it to its default value so that bsd.port.mk won't whine
FULLPKGPATH-main=	math/fftw3,-main${FLAVOR_EXT:S/-/,/g}
FULLPKGNAME-common=	fftw3-common-${V}
SHARED_LIBS=	fftw3	7.0 \
		fftw3f	7.0 \
		fftw3_threads	1.0 \
		fftw3f_threads	1.0
CATEGORIES=	math

HOMEPAGE=	http://www.fftw.org/

# GPL
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	http://fftw.org/ \
		ftp://ftp.fftw.org/pub/fftw/ \
		ftp://ftp.fftw.org/pub/fftw/old/

SEPARATE_BUILD=	Yes

MULTI_PACKAGES=	-main -common

FLAVORS=	double float
FLAVOR?=	double

USE_GMAKE=	Yes
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--enable-portable-binary \
		--enable-threads

.if ${FLAVOR} == "float"
CONFIGURE_ARGS+=--enable-float
FULLPKGNAME-main=	fftw3-float-${V}
.endif

FULLPKGPATH-common=	math/fftw3,-common
RUN_DEPENDS-main=	${FULLPKGPATH-common}
WANTLIB-main=		c m pthread
PKG_ARCH-common=	*

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/fftw3
	${INSTALL_DATA} ${WRKSRC}/doc/fftw3.pdf ${PREFIX}/share/doc/fftw3

.include <bsd.port.mk>
@


1.31
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/08/14 19:51:26 steven Exp $
d9 1
@


1.30
log
@update to 3.3.4

ok feinerer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/06/18 07:13:04 bentley Exp $
d37 1
a37 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--enable-portable-binary \
@


1.29
log
@Update mirrors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/05/22 11:31:17 ajacoutot Exp $
d6 1
a6 1
V=		3.2.2
d13 4
a16 6
REVISION-main=	3
REVISION-common=1
SHARED_LIBS=	fftw3	6.0 \
		fftw3f	6.0 \
		fftw3_threads	0.0 \
		fftw3f_threads	0.0
@


1.28
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/02/16 22:57:09 naddy Exp $
d26 2
a27 2
MASTER_SITES=	ftp://ftp.fftw.org/pub/fftw/ \
		http://fftw.mirror.fr/ \
@


1.27
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/21 08:46:32 ajacoutot Exp $
d13 2
a14 2
REVISION-main=	2
REVISION-common=0
@


1.26
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/11 11:23:54 espie Exp $
a37 1
USE_GROFF =	Yes
@


1.25
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/11/14 19:56:53 naddy Exp $
a37 1
USE_LIBTOOL=	Yes
@


1.24
log
@access to %tick on sparc64 is no longer privileged
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/10/23 20:44:03 kirby Exp $
a24 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.23
log
@Enable threaded libs.
OK pirofti@@
library bump prodded by steven@@, yes please by sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/03/29 13:38:40 sthen Exp $
d13 1
a13 1
REVISION-main=	1
@


1.22
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/09/08 14:47:31 naddy Exp $
d13 1
a13 1
REVISION-main=	0
d15 4
a18 2
SHARED_LIBS=	fftw3	5.0 \
		fftw3f	5.0
d45 2
a46 1
		--enable-portable-binary
d55 1
a55 1
WANTLIB-main=		c m
@


1.21
log
@* Don't try to read the %tick cycle counter on sparc64.
  Access to %tick remains privileged on OpenBSD.  ok steven@@

* Remove steven@@ as maintainer as per his request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/19 07:23:10 espie Exp $
d31 1
a31 1
SEPARATE_BUILD=	concurrent
@


1.20
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/18 20:52:05 espie Exp $
d13 2
a19 2

MAINTAINER=	Steven Mestdagh <steven@@openbsd.org>
@


1.19
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/02/26 18:50:32 espie Exp $
d51 1
a51 1
RUN_DEPENDS-main=	::${FULLPKGPATH-common}
@


1.18
log
@oops
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/02/26 18:47:04 espie Exp $
d40 1
@


1.17
log
@explicitly set FULLPKGPATH to avoid warnings
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/07/26 20:54:32 steven Exp $
d11 1
a11 1
FULLPKGPATH-main=	math/fftw3,-main,${FLAVOR_EXT}
@


1.16
log
@maintenance update to 3.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/03/26 18:37:47 steven Exp $
d10 2
@


1.15
log
@update to 3.2.1

ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/10/08 22:27:22 steven Exp $
d6 1
a6 1
V=		3.2.1
@


1.14
log
@update to 3.1.3, bugfix release
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/04/22 21:19:59 steven Exp $
d6 1
a6 1
V=		3.1.3
d11 2
a12 2
SHARED_LIBS=	fftw3	4.3 \
		fftw3f	4.3
d40 1
a40 1
		--with-portable-binary
@


1.13
log
@drop --disable-fortran workaround for sgi.
miod@@ fixed g77 and confirmed fftw3 now builds.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/04/21 00:38:19 jakemsr Exp $
d6 1
a6 1
V=		3.1.2
d9 4
a12 4
FULLPKGNAME-main=	fftw3-${V}p3
FULLPKGNAME-common=	fftw3-common-${V}p1
SHARED_LIBS=	fftw3	4.2 \
		fftw3f	4.2
d44 1
a44 1
FULLPKGNAME-main=	fftw3-float-${V}p1
@


1.12
log
@
g77 throws ICEs on sgi, so disable fortran support there.  lets this
build on sgi.

discussed with steven@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/09/15 18:44:36 steven Exp $
d9 2
a10 2
FULLPKGNAME-main=	fftw3-${V}p2
FULLPKGNAME-common=	fftw3-common-${V}p0
a41 5
# g77 fails to compile (ICE) test programs on sgi
.if ${MACHINE_ARCH} == "mips64"
CONFIGURE_ARGS+=--disable-fortran
.endif

d44 1
a44 1
FULLPKGNAME-main=	fftw3-float-${V}p0
@


1.11
log
@remove quotes from COMMENT/PERMIT*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/12/01 14:24:55 steven Exp $
d41 5
@


1.10
log
@build the same -common package regardless of FLAVOR.
this keeps PLIST_DB consistent, requested by sturm@@

solution discussed with espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/11/21 20:42:30 steven Exp $
d3 2
a4 2
COMMENT-main=	"C routines for computing the Discrete Fourier Transform"
COMMENT-common=	"common files for the fftw3 packages"
@


1.9
log
@new MULTI_PACKAGES

looks good espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/10/28 23:23:29 steven Exp $
d10 1
a10 1
FULLPKGNAME-common=	fftw3-common-${V}
d47 2
a48 1
RUN_DEPENDS-main=	::math/fftw3,-common
@


1.8
log
@ensure that older packages get updated to the new default flavor

"go ahead" bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/10/18 17:40:38 steven Exp $
d3 1
a3 1
COMMENT=	"C routines for computing the Discrete Fourier Transform"
d9 1
a9 1
FULLPKGNAME=	fftw3-${V}p1
a23 1
WANTLIB=		c m
d31 1
a31 2
MULTI_PACKAGES=	-common
SUBPACKAGE?=
d44 1
a44 1
FULLPKGNAME=	fftw3-float-${V}
d47 3
a49 8
.if defined(PACKAGING)
.  if empty(SUBPACKAGE)
RUN_DEPENDS=	::math/fftw3,-common
.  elif ${SUBPACKAGE} == "-common"
PKG_ARCH=	*
WANTLIB=
.  endif
.endif
@


1.7
log
@add flavors for single and double precision.
a bit complex, but doesn't work well with SUBST_VARS for now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/07/14 14:37:40 steven Exp $
d9 1
a9 1
FULLPKGNAME=	fftw3-${V}p0
@


1.6
log
@maintenance update to fftw 3.1.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/03/05 23:17:29 steven Exp $
d4 1
d9 4
a12 1
SHARED_LIBS=	fftw3	4.2
d32 6
d42 15
a56 3
		--with-portable-binary \
		--infodir=${LOCALBASE}/info \
		--mandir=${LOCALBASE}/man
@


1.5
log
@update to fftw 3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/01/06 18:30:40 steven Exp $
d5 1
a5 1
V=		3.1
d8 1
a8 1
SHARED_LIBS=	fftw3	4.0
d32 3
a34 1
		--with-portable-binary
@


1.4
log
@add working master site
@
text
@d5 1
a5 1
V=		3.0.1
d8 1
a8 1
SHARED_LIBS=	fftw3	3.1
d13 1
a13 1
MAINTAINER=	Steven Mestdagh <steven.mestdagh@@esat.kuleuven.be>
d31 2
a32 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
@


1.3
log
@remove MODGNU_SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/12/23 19:56:50 steven Exp $
d23 2
a24 1
		http://fftw.mirror.fr/
@


1.2
log
@SHARED_LIBS.
looks ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/10/03 21:41:52 alek Exp $
a8 1
MODGNU_SHARED_LIBS=	fftw3	''
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 2
@


1.1.1.1
log
@Import fftw3 3.0.1

FFTW is a C subroutine library for computing the discrete Fourier
transform (DFT) in one or more dimensions, of arbitrary input size,
and of both real and complex data (as well as of even/odd data, i.e.
the discrete cosine/sine transforms or DCT/DST).

From Steven Mestdagh <steven.mestdagh@@esat.kuleuven.be>
@
text
@@
