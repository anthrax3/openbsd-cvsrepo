head	1.15;
access;
symbols
	OPENBSD_6_0:1.14.0.2
	OPENBSD_6_0_BASE:1.14
	OPENBSD_5_9:1.13.0.2
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.4
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.11.0.2
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.10.0.6
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.10.0.4
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.10.0.2
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.8.0.10
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.8.0.8
	OPENBSD_5_2_BASE:1.8
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.6
	OPENBSD_5_0:1.8.0.4
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.4.0.10
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.8
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.4
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	steven-20061019:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2016.12.30.12.12.28;	author shadchin;	state Exp;
branches;
next	1.14;
commitid	dtCbcKWN9fCfPnvG;

1.14
date	2016.03.11.20.28.27;	author naddy;	state Exp;
branches;
next	1.13;
commitid	UYLP8TE6V7RS2GhJ;

1.13
date	2015.05.25.07.54.27;	author jasper;	state Exp;
branches;
next	1.12;
commitid	jsaRAQWqOGFN8HTC;

1.12
date	2015.03.16.18.07.50;	author naddy;	state Exp;
branches;
next	1.11;
commitid	IJdm3Zowcdkcxp5X;

1.11
date	2014.11.08.13.56.21;	author espie;	state Exp;
branches;
next	1.10;
commitid	roLxCZ8M9Man7CYY;

1.10
date	2013.03.21.08.46.33;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2013.03.11.11.23.55;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.23.15.09.57;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2010.07.18.10.50.12;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2010.05.28.14.18.50;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2010.05.23.13.29.32;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.15.18.44.36;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2006.12.02.00.19.11;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2006.10.29.18.05.50;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2006.10.19.10.51.01;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.10.19.10.51.01;	author steven;	state Exp;
branches;
next	;


desc
@@


1.15
log
@Update to matio 1.5.9. Changed licensing to BSD.
@
text
@# $OpenBSD: Makefile,v 1.14 2016/03/11 20:28:27 naddy Exp $

COMMENT=	library for reading and writing Matlab MAT files

DISTNAME=	matio-1.5.9
SHARED_LIBS=	matio	2.0      # 6.0
CATEGORIES=	math

HOMEPAGE=	http://sourceforge.net/projects/matio/

# BSD
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=matio/}

WANTLIB =		c hdf5 m z

LIB_DEPENDS=		math/hdf5

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--enable-mat73 \
			--with-hdf5=${LOCALBASE}

.include <bsd.port.mk>
@


1.14
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2015/05/25 07:54:27 jasper Exp $
d5 2
a6 3
DISTNAME=	matio-1.3.2
REVISION=	1
SHARED_LIBS=	matio	1.0
d11 1
a11 1
# LGPL
d14 1
a14 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=matio/}
EXTRACT_SUFX=	.tar.bz2
d16 7
a22 26
MODULES=	fortran
MODFORTRAN_COMPILER = g77
WANTLIB=	${MODFORTRAN_WANTLIB} m
BUILD_DEPENDS=	${MODFORTRAN_BUILD_DEPENDS}
LIB_DEPENDS=	${MODFORTRAN_LIB_DEPENDS}

CONFIGURE_STYLE=gnu
CONFIGURE_ENV += FC=${MODFORTRAN_COMPILER}
CONFIGURE_ARGS=	--enable-fortran=no \
		--enable-test=yes

TESTS=	copy write writecompressed writecell readslab \
	writeslab writesparse writenan writeinf readslab4 ind2sub sub2ind \
	write_compressed_cell write_compressed_sparse

do-test:
.for t in ${TESTS}
	@@echo "Testing ${t}"
	@@cd ${WRKBUILD}/test && ./test_mat ${t}
.endfor

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/matio
	${INSTALL_DATA} ${WRKSRC}/libmatio.pdf ${PREFIX}/share/doc/matio
	rm -r ${PREFIX}/share/matio
	rm -r ${PREFIX}/bin/test_*
@


1.13
log
@remove a whole bunch more @@rm -f cases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2015/03/16 18:07:50 naddy Exp $
d26 1
a26 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--enable-fortran=no \
@


1.12
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2014/11/08 13:56:21 espie Exp $
d43 2
a44 2
	@@rm -rf ${PREFIX}/share/matio
	@@rm -rf ${PREFIX}/bin/test_*
@


1.11
log
@hidden dependency, will pick up gfortran if it's installed.
Enforce same fortran compiler in configure.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/03/21 08:46:33 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
@


1.10
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/03/11 11:23:55 espie Exp $
d25 1
@


1.9
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/23 15:09:57 steven Exp $
a23 1
USE_LIBTOOL=	Yes
@


1.8
log
@replace MODFORTRAN_WANTG77 with MODFORTRAN_COMPILER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/05/23 13:29:32 espie Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d34 1
a34 1
do-regress:
@


1.7
log
@REVISION
@
text
@d22 1
a22 1
MODFORTRAN_WANTG77=Yes
@


1.6
log
@bump after libf2c move to ports
@
text
@d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.5
log
@fix dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/09/15 18:44:36 steven Exp $
d6 1
@


1.4
log
@remove quotes from COMMENT/PERMIT*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/12/02 00:19:11 steven Exp $
d20 5
a24 1
WANTLIB=	g2c m
@


1.3
log
@update to matio 1.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/10/29 18:05:50 steven Exp $
d3 1
a3 1
COMMENT=	"library for reading and writing Matlab MAT files"
@


1.2
log
@WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/10/19 10:51:01 steven Exp $
d5 2
a6 3
DISTNAME=	matio-1.3.1
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	matio	0.0
d18 1
d28 3
a30 2
TESTS=	copy write writecompressed writestruct writecell readslab \
	writeslab writesparse writenan writeinf readslab4 ind2sub sub2ind
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d19 2
@


1.1.1.1
log
@import matio 1.3.1

library for reading and writing Matlab MAT files
@
text
@@
