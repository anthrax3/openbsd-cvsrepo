head	1.91;
access;
symbols
	OPENBSD_6_1:1.91.0.2
	OPENBSD_6_1_BASE:1.91
	OPENBSD_6_0:1.88.0.2
	OPENBSD_6_0_BASE:1.88
	OPENBSD_5_9:1.81.0.2
	OPENBSD_5_9_BASE:1.81
	OPENBSD_5_8:1.75.0.4
	OPENBSD_5_8_BASE:1.75
	OPENBSD_5_7:1.69.0.2
	OPENBSD_5_7_BASE:1.69
	OPENBSD_5_6:1.67.0.2
	OPENBSD_5_6_BASE:1.67
	OPENBSD_5_5:1.66.0.2
	OPENBSD_5_5_BASE:1.66
	OPENBSD_5_4:1.64.0.2
	OPENBSD_5_4_BASE:1.64
	OPENBSD_5_3:1.61.0.2
	OPENBSD_5_3_BASE:1.61
	OPENBSD_5_2:1.60.0.2
	OPENBSD_5_2_BASE:1.60
	OPENBSD_5_1_BASE:1.57
	OPENBSD_5_1:1.57.0.2
	OPENBSD_5_0:1.55.0.2
	OPENBSD_5_0_BASE:1.55
	OPENBSD_4_9:1.54.0.2
	OPENBSD_4_9_BASE:1.54
	OPENBSD_4_8:1.50.0.2
	OPENBSD_4_8_BASE:1.50
	OPENBSD_4_7:1.45.0.2
	OPENBSD_4_7_BASE:1.45
	OPENBSD_4_6:1.43.0.2
	OPENBSD_4_6_BASE:1.43
	OPENBSD_4_5:1.41.0.2
	OPENBSD_4_5_BASE:1.41
	OPENBSD_4_4:1.37.0.2
	OPENBSD_4_4_BASE:1.37
	OPENBSD_4_3:1.34.0.2
	OPENBSD_4_3_BASE:1.34
	OPENBSD_4_2:1.27.0.2
	OPENBSD_4_2_BASE:1.27
	OPENBSD_4_1:1.23.0.2
	OPENBSD_4_1_BASE:1.23
	OPENBSD_4_0:1.20.0.2
	OPENBSD_4_0_BASE:1.20
	OPENBSD_3_9:1.13.0.2
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.8.0.4
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.7.0.2
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.6.0.6
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.4
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.6.0.2
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.5.0.2
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.4.0.4
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	naddy_20010715:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.91
date	2017.03.04.21.59.56;	author sthen;	state Exp;
branches;
next	1.90;
commitid	nhvOH4eNwFCqyURR;

1.90
date	2016.11.04.11.35.19;	author sthen;	state Exp;
branches;
next	1.89;
commitid	Gg5LRcnQlqj5M3F7;

1.89
date	2016.09.01.10.53.27;	author jasper;	state Exp;
branches;
next	1.88;
commitid	LdsIxWmxagN2Kq33;

1.88
date	2016.06.13.17.42.36;	author jca;	state Exp;
branches;
next	1.87;
commitid	yXkdePJlP7DNvdnx;

1.87
date	2016.05.12.01.17.13;	author naddy;	state Exp;
branches;
next	1.86;
commitid	yWplpZyyaU1NC3LP;

1.86
date	2016.04.23.21.16.30;	author sthen;	state Exp;
branches;
next	1.85;
commitid	pwPihdHFbm6HbzR1;

1.85
date	2016.04.23.12.44.14;	author steven;	state Exp;
branches;
next	1.84;
commitid	wWx9uDpuiA0PInZn;

1.84
date	2016.04.19.05.55.44;	author steven;	state Exp;
branches;
next	1.83;
commitid	qgev3kZJXHKTRdvN;

1.83
date	2016.03.11.20.28.27;	author naddy;	state Exp;
branches;
next	1.82;
commitid	UYLP8TE6V7RS2GhJ;

1.82
date	2016.03.09.18.31.36;	author jasper;	state Exp;
branches;
next	1.81;
commitid	FOh2GJIkzOkUqaxn;

1.81
date	2015.12.20.00.16.27;	author naddy;	state Exp;
branches;
next	1.80;
commitid	7FwUBfDRx93p0qtP;

1.80
date	2015.11.07.21.40.37;	author sthen;	state Exp;
branches;
next	1.79;
commitid	OWy7a0VdW3Sm4Vtm;

1.79
date	2015.11.06.20.37.34;	author sthen;	state Exp;
branches;
next	1.78;
commitid	PjPpZyw8X2OGSgMF;

1.78
date	2015.11.05.12.49.26;	author pirofti;	state Exp;
branches;
next	1.77;
commitid	6WqMjXr9qm2pdfPF;

1.77
date	2015.10.30.12.47.40;	author sthen;	state Exp;
branches;
next	1.76;
commitid	IIzCiS5xiW9Dmxlk;

1.76
date	2015.08.20.21.58.22;	author juanfra;	state Exp;
branches;
next	1.75;
commitid	qGUyyR2hDB4Jhg1c;

1.75
date	2015.07.26.06.56.51;	author steven;	state Exp;
branches;
next	1.74;
commitid	57B0aZW834CdGVIL;

1.74
date	2015.07.24.14.54.01;	author feinerer;	state Exp;
branches;
next	1.73;
commitid	KEVgC6HRTlaH2X9L;

1.73
date	2015.07.20.23.14.58;	author ajacoutot;	state Exp;
branches;
next	1.72;
commitid	cy9k66Gl58oL8KgV;

1.72
date	2015.06.17.20.03.11;	author sthen;	state Exp;
branches;
next	1.71;
commitid	ASHe8W1wzY7eB3KC;

1.71
date	2015.04.21.18.24.22;	author sthen;	state Exp;
branches;
next	1.70;
commitid	aorv38MSXkwQIPuw;

1.70
date	2015.03.16.18.07.50;	author naddy;	state Exp;
branches;
next	1.69;
commitid	IJdm3Zowcdkcxp5X;

1.69
date	2015.02.16.22.57.09;	author naddy;	state Exp;
branches;
next	1.68;
commitid	0dx3c9ckf7dE4tx1;

1.68
date	2015.01.02.14.26.12;	author sthen;	state Exp;
branches;
next	1.67;
commitid	opt64GLzbD0TGQDJ;

1.67
date	2014.07.16.14.35.38;	author naddy;	state Exp;
branches;
next	1.66;
commitid	ggJpOpSoHu6RJsj1;

1.66
date	2014.01.12.14.58.30;	author naddy;	state Exp;
branches;
next	1.65;

1.65
date	2013.11.09.23.19.03;	author naddy;	state Exp;
branches;
next	1.64;

1.64
date	2013.07.07.21.25.31;	author naddy;	state Exp;
branches;
next	1.63;

1.63
date	2013.04.03.07.01.32;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2013.03.11.11.23.55;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2013.02.01.16.34.36;	author naddy;	state Exp;
branches;
next	1.60;

1.60
date	2012.06.30.07.44.34;	author steven;	state Exp;
branches;
next	1.59;

1.59
date	2012.06.21.13.56.57;	author sthen;	state Exp;
branches;
next	1.58;

1.58
date	2012.03.29.13.38.40;	author sthen;	state Exp;
branches;
next	1.57;

1.57
date	2012.01.13.00.55.14;	author naddy;	state Exp;
branches;
next	1.56;

1.56
date	2011.09.16.10.31.22;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2011.07.18.19.06.37;	author naddy;	state Exp;
branches;
next	1.54;

1.54
date	2011.01.15.01.09.43;	author naddy;	state Exp;
branches;
next	1.53;

1.53
date	2010.11.19.07.23.10;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2010.10.23.15.09.57;	author steven;	state Exp;
branches;
next	1.51;

1.51
date	2010.10.18.20.52.06;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2010.07.24.23.05.08;	author naddy;	state Exp;
branches;
next	1.49;

1.49
date	2010.07.18.18.49.01;	author naddy;	state Exp;
branches;
next	1.48;

1.48
date	2010.07.18.14.33.39;	author steven;	state Exp;
branches;
next	1.47;

1.47
date	2010.07.18.10.50.12;	author steven;	state Exp;
branches;
next	1.46;

1.46
date	2010.05.29.15.28.18;	author naddy;	state Exp;
branches;
next	1.45;

1.45
date	2010.01.27.21.43.28;	author naddy;	state Exp;
branches;
next	1.44;

1.44
date	2009.12.21.22.07.57;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2009.06.22.17.00.24;	author naddy;	state Exp;
branches;
next	1.42;

1.42
date	2009.04.14.18.22.59;	author steven;	state Exp;
branches;
next	1.41;

1.41
date	2009.02.09.20.48.23;	author naddy;	state Exp;
branches;
next	1.40;

1.40
date	2008.11.04.22.41.59;	author steven;	state Exp;
branches;
next	1.39;

1.39
date	2008.10.05.16.22.04;	author steven;	state Exp;
branches;
next	1.38;

1.38
date	2008.10.01.05.16.07;	author steven;	state Exp;
branches;
next	1.37;

1.37
date	2008.07.30.19.47.09;	author martynas;	state Exp;
branches;
next	1.36;

1.36
date	2008.07.04.16.35.26;	author naddy;	state Exp;
branches;
next	1.35;

1.35
date	2008.04.25.18.26.29;	author steven;	state Exp;
branches;
next	1.34;

1.34
date	2008.02.22.22.32.07;	author naddy;	state Exp;
branches;
next	1.33;

1.33
date	2008.02.12.14.44.06;	author merdely;	state Exp;
branches;
next	1.32;

1.32
date	2008.01.21.18.30.13;	author steven;	state Exp;
branches;
next	1.31;

1.31
date	2007.12.15.20.54.19;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2007.11.10.11.15.05;	author steven;	state Exp;
branches;
next	1.29;

1.29
date	2007.09.23.08.06.59;	author steven;	state Exp;
branches;
next	1.28;

1.28
date	2007.09.15.18.44.36;	author steven;	state Exp;
branches;
next	1.27;

1.27
date	2007.08.05.22.27.53;	author naddy;	state Exp;
branches;
next	1.26;

1.26
date	2007.07.28.07.09.19;	author steven;	state Exp;
branches;
next	1.25;

1.25
date	2007.06.28.08.03.06;	author steven;	state Exp;
branches;
next	1.24;

1.24
date	2007.06.20.08.51.42;	author steven;	state Exp;
branches;
next	1.23;

1.23
date	2007.02.14.11.51.07;	author steven;	state Exp;
branches;
next	1.22;

1.22
date	2006.10.01.23.18.07;	author steven;	state Exp;
branches;
next	1.21;

1.21
date	2006.10.01.22.23.47;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2006.08.03.20.04.51;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2006.07.28.06.29.34;	author steven;	state Exp;
branches;
next	1.18;

1.18
date	2006.07.18.06.51.25;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2006.05.24.05.03.51;	author steven;	state Exp;
branches;
next	1.16;

1.16
date	2006.04.24.22.30.27;	author steven;	state Exp;
branches;
next	1.15;

1.15
date	2006.04.01.19.21.57;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2006.03.31.16.50.44;	author sturm;	state Exp;
branches;
next	1.13;

1.13
date	2006.01.22.23.21.47;	author sturm;	state Exp;
branches;
next	1.12;

1.12
date	2006.01.14.00.28.45;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2005.12.24.20.05.27;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2005.11.20.17.44.20;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2005.11.02.18.20.58;	author alek;	state Exp;
branches;
next	1.8;

1.8
date	2004.12.27.07.16.44;	author alek;	state Exp;
branches;
next	1.7;

1.7
date	2004.08.02.12.48.13;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2002.12.29.19.43.50;	author fgsch;	state Exp;
branches;
next	1.5;

1.5
date	2002.05.13.23.31.26;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2001.10.02.12.27.11;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2001.09.28.06.02.14;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.12.23.59.20;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.07.15.18.07.15;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.07.15.18.07.15;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.91
log
@bump ports with openbsd version number in filenames
@
text
@# $OpenBSD: Makefile,v 1.90 2016/11/04 11:35:19 sthen Exp $

COMMENT =	high-level language for numerical computations

VERSION =	4.0.2
DISTNAME =	octave-${VERSION}
REVISION =	2
CATEGORIES =	math

SHARED_LIBS +=	octave		7.0 # 3.0
SHARED_LIBS +=	octgui		1.0 # 1.0
SHARED_LIBS +=	octinterp	6.0 # 3.0

HOMEPAGE =	https://www.gnu.org/software/octave/

MAINTAINER =	Steven Mestdagh <steven@@openbsd.org>

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += ${MODFORTRAN_WANTLIB}
WANTLIB += FLAC GL GLU GraphicsMagick GraphicsMagick++ ICE OSMesa QtGui
WANTLIB += QtNetwork QtOpenGL SM X11 X11-xcb Xau Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xft Xi Xinerama Xmu Xrandr Xrender Xt Xxf86vm amd
WANTLIB += arpack blas bz2 c camd ccolamd cholmod colamd crypto curl
WANTLIB += cxsparse drm ereadline expat fftw3 fftw3_threads fftw3f
WANTLIB += fftw3f_threads fltk fltk_gl fontconfig freetype gl2ps glapi
WANTLIB += glpk glut gmp hdf5 lapack lcms2 ltdl lzma m ncurses nghttp2
WANTLIB += ogg pcre png portaudio pthread pthread-stubs qhull qrupdate
WANTLIB += qscintilla2 sndfile sndio ssl stdc++ suitesparseconfig
WANTLIB += umfpack usbhid util vorbis vorbisenc xcb xcb-dri2 xcb-glx z

MASTER_SITES =	${MASTER_SITE_GNU:=octave/}

MODULES =	devel/gettext \
		fortran \
		x11/qt4

BUILD_DEPENDS =	${MODFORTRAN_BUILD_DEPENDS} \
		print/texinfo \
		textproc/gsed \
		math/gnuplot

# configure checks for desktop-file-install(1)
BUILD_DEPENDS +=devel/desktop-file-utils

RUN_DEPENDS =	devel/desktop-file-utils

LIB_DEPENDS =	${MODFORTRAN_LIB_DEPENDS} \
		audio/libsndfile \
		audio/portaudio-svn \
		devel/glpk \
		devel/pcre \
		devel/readline \
		editors/qscintilla \
		graphics/GraphicsMagick \
		math/arpack \
		math/fftw3 \
		math/fftw3,float \
		math/hdf5 \
		math/qhull \
		math/qrupdate \
		math/suitesparse \
		net/curl \
		print/gl2ps \
		x11/fltk

SEPARATE_BUILD =	Yes
USE_GMAKE =		Yes
CONFIGURE_STYLE =	gnu
# --disable-readline: needs GNU readline
CONFIGURE_ARGS	=	--disable-java
CONFIGURE_ENV =	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include \
		-I${LOCALBASE}/include/ereadline" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
		LRELEASE="${MODQT_LRELEASE}" \
		F77=${FC}

# needed to build on amd64
GCC_ARCH =	${MACHINE_ARCH}-unknown-openbsd${OSREV}
GNU_ARCH =	${GCC_ARCH:S/amd64/x86_64/}
SUBST_VARS =	GNU_ARCH VERSION

post-extract:
.for i in makeinfo texi2dvi texi2pdf
	ln -s ${LOCALBASE}/bin/g$i ${WRKDIR}/bin/$i
.endfor

.include <bsd.port.mk>
@


1.90
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2016/09/01 10:53:27 jasper Exp $
d7 1
a7 1
REVISION =	1
@


1.89
log
@retire sparc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2016/06/13 17:42:36 jca Exp $
d7 1
a7 1
REVISION =	0
d23 9
a31 10
WANTLIB += QtNetwork QtOpenGL SM X11 X11-xcb Xau Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xft Xi Xinerama Xmu Xrandr Xrender
WANTLIB += Xt Xxf86vm amd arpack blas bz2 c camd ccolamd cholmod
WANTLIB += colamd crypto curl cxsparse drm ereadline expat fftw3 fftw3_threads
WANTLIB += fftw3f fftw3f_threads fltk fltk_gl fontconfig freetype
WANTLIB += gl2ps glapi glpk glut gmp hdf5 idn lapack lcms2
WANTLIB += ltdl lzma m ncurses nghttp2 ogg pcre png portaudio pthread
WANTLIB += pthread-stubs qhull qrupdate qscintilla2 sndfile sndio
WANTLIB += ssl stdc++ suitesparseconfig umfpack usbhid util vorbis
WANTLIB += vorbisenc xcb xcb-dri2 xcb-glx z
@


1.88
log
@s/lrelease4/MODQT_LRELEASE

ok steven@@ (maintainer)
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.87 2016/05/12 01:17:13 naddy Exp $

# sparc: fPIC version of libgcc.a needed but not available
NOT_FOR_ARCHS =	sparc
@


1.87
log
@bump for plist changes 5.9 -> 6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2016/04/23 21:16:30 sthen Exp $
d80 1
a80 1
		LRELEASE="lrelease4" \
@


1.86
log
@use texinfo from ports for math/octave, somewhere in the Makefiles it's
trying to regenerate the files (at least for naddy and myself, but not
steven!), despite the fact that the tarball contains pregenerated ones,
and this doesn't work with the old version of texinfo from base.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2016/04/23 12:44:14 steven Exp $
d10 1
@


1.85
log
@update to 4.0.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2016/03/11 20:28:27 naddy Exp $
d43 1
d86 5
@


1.84
log
@maintenance update to 4.0.1
@
text
@d8 1
a8 1
VERSION =	4.0.1
@


1.83
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2016/03/09 18:31:36 jasper Exp $
d8 1
a8 2
VERSION =	4.0.0
REVISION =	3
d12 3
a14 3
SHARED_LIBS +=	octave		6.0 # 3.0
SHARED_LIBS +=	octgui		0.0 # 1.0
SHARED_LIBS +=	octinterp	5.0 # 3.0
@


1.82
log
@remove vax workarounds/tentacles, reword where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2015/12/20 00:16:27 naddy Exp $
d75 1
a75 2
CONFIGURE_ARGS	=	${CONFIGURE_SHARED} \
			--disable-java
@


1.81
log
@bump for plist changes 5.8 -> 5.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2015/11/07 21:40:37 sthen Exp $
a2 1
# vax:   no IEEE arithmetic
d4 1
a4 1
NOT_FOR_ARCHS =	vax sparc
@


1.80
log
@revert previous, I mixed up ImageMagick and GraphicsMagick with this one
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2015/11/05 12:49:26 pirofti Exp $
d10 1
a10 1
REVISION =	2
@


1.79
log
@fix following ImageMagick update
@
text
@d10 1
a10 1
REVISION =	3
d25 2
a26 2
WANTLIB += ${MODFORTRAN_WANTLIB} FLAC GL GLU
WANTLIB += GraphicsMagick-6.Q16 GraphicsMagick++-6.Q16 ICE OSMesa QtGui
@


1.78
log
@Enable readline for Octave.

Makes the command line sane again.

Okay feinerer@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2015/10/30 12:47:40 sthen Exp $
d10 1
a10 1
REVISION =	2
d25 2
a26 2
WANTLIB += ${MODFORTRAN_WANTLIB}
WANTLIB += FLAC GL GLU GraphicsMagick GraphicsMagick++ ICE OSMesa QtGui
@


1.77
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2015/08/20 21:58:22 juanfra Exp $
d10 1
a10 1
REVISION =	1
d30 1
a30 1
WANTLIB += colamd crypto curl cxsparse drm expat fftw3 fftw3_threads
d58 1
a76 1
			--disable-readline \
d78 2
a79 1
CONFIGURE_ENV =	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
@


1.76
log
@Enable OSMesa. Change tested by feinerer@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2015/07/26 06:56:51 steven Exp $
d10 1
a10 1
REVISION =	0
d33 1
a33 1
WANTLIB += ltdl lzma m ncurses ogg pcre png portaudio pthread
@


1.75
log
@needs gnuplot to build the documentation

noticed by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2015/07/20 23:14:58 ajacoutot Exp $
d10 1
d26 1
a26 1
WANTLIB += FLAC GL GLU GraphicsMagick GraphicsMagick++ ICE QtGui
a74 1
# --without-OSMesa: "OSMesa library not found.  Offscreen rendering with OpenGL will be disabled."
d77 1
a77 2
			--disable-java \
			--without-OSMesa
@


1.74
log
@Update to Octave 4.0.0

OK aja@@
@
text
@d44 2
a45 1
		textproc/gsed
@


1.73
log
@Temporarily mark BROKEN; update is in the work.

ok pirofti@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.72 2015/06/17 20:03:11 sthen Exp $

BROKEN=		update is needed
d9 1
a9 1
VERSION =	3.0.5
a10 1
REVISION =	18
d13 3
a15 3
SHARED_LIBS =	cruft		5.0 \
		octave		5.0 \
		octinterp	4.0
d21 1
a21 1
# GPL v3
d25 11
a35 2
WANTLIB += amd blas c curl fftw3 lapack m ncurses pcre
WANTLIB += pthread readline stdc++ umfpack z
d39 3
a41 2
MODULES =	fortran
MODFORTRAN_COMPILER = g77
d43 2
a44 1
BUILD_DEPENDS =	${MODFORTRAN_BUILD_DEPENDS}
d49 1
a49 2
RUN_DEPENDS =	devel/gmake \
		devel/desktop-file-utils
d52 7
d60 4
d65 3
a67 4
		devel/pcre \
		net/curl

USE_GMAKE =	Yes
d70 4
a73 2
CONFIGURE_STYLE =	autoconf
AUTOCONF_VERSION =	2.61
d75 7
a81 14
		--with-fftw \
		--without-mpi \
		--without-hdf5
CONFIGURE_ENV =	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		F77=${FC} \
		SED=/usr/bin/sed
MAKE_ENV =	LIBcruft_VERSION=${LIBcruft_VERSION} \
		LIBoctave_VERSION=${LIBoctave_VERSION} \
		LIBoctinterp_VERSION=${LIBoctinterp_VERSION}

.if ${MACHINE_ARCH} == "alpha"
CONFIGURE_ENV +=	FFLAGS="${FFLAGS}"
.endif
a86 28

# need to use fpic version of libgcc.a
post-configure:
	@@perl -pi -e 's#(gcc-lib/${GCC_ARCH}/[\d.]+)\s#\1/fpic #' \
		${WRKBUILD}/Makeconf

.ifmake test
# some tests need HOME to be writable
PORTHOME =	/tmp
# define some user for tilde expansion test
MAKE_ENV +=	USER=nobody
.endif

post-test:
	@@rm -f /tmp/oct-*

# fix ls-R and install HTML documentation
HTMLDOCS =	interpreter liboctave
post-install:
	@@cd ${PREFIX}/share/octave && \
		perl -pi -e "s,${PREFIX},${TRUEPREFIX}," ls-R
	@@cd ${PREFIX}/libexec/octave && \
		perl -pi -e "s,${PREFIX},${TRUEPREFIX}," ls-R
.for d in ${HTMLDOCS}
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/octave/${d}
	${INSTALL_DATA} ${WRKBUILD}/doc/${d}/HTML/*.html \
		${PREFIX}/share/doc/octave/${d}
.endfor
@


1.72
log
@port REVISION bumps as base has moved to 5.8
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.71 2015/04/21 18:24:22 sthen Exp $
d28 1
a28 1
WANTLIB += amd blas>=1 c curl>=6 fftw3>=3 lapack>=3 m ncurses pcre>=1
d46 1
a46 4
		math/lapack \
		math/blas \
		math/amd \
		math/umfpack \
@


1.71
log
@add some missing pthread to WANTLIB
(using modified portbump, thanks zhuk@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2015/03/16 18:07:50 naddy Exp $
d11 1
a11 1
REVISION =	17
@


1.70
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2015/02/16 22:57:09 naddy Exp $
d11 1
a11 1
REVISION =	16
d25 3
a27 2
WANTLIB=	c m ncurses readline stdc++ z ${MODFORTRAN_WANTLIB} \
		fftw3>=3 lapack>=3 blas>=1 amd umfpack pcre>=1 curl>=6
@


1.69
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2015/01/02 14:26:12 sthen Exp $
d11 1
a11 1
REVISION =	15
@


1.68
log
@bump REVISION for 5.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2014/07/16 14:35:38 naddy Exp $
a50 1
USE_GROFF =	Yes
@


1.67
log
@bump for plist changes 5.5 -> 5.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2014/01/12 14:58:30 naddy Exp $
d11 1
a11 1
REVISION =	14
@


1.66
log
@bump for plist changes 5.4 -> 5.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/11/09 23:19:03 naddy Exp $
d11 1
a11 1
REVISION =	13
@


1.65
log
@move http://www.gnu.org to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2013/07/07 21:25:31 naddy Exp $
d11 1
a11 1
REVISION =	12
@


1.64
log
@bump for plist changes 5.3 -> 5.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/04/03 07:01:32 ajacoutot Exp $
d11 1
a11 1
REVISION =	11
d18 1
a18 1
HOMEPAGE =	http://www.gnu.org/software/octave/
@


1.63
log
@Add comment about desktop-file-install(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/03/11 11:23:55 espie Exp $
d11 1
a11 1
REVISION =	10
@


1.62
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/02/01 16:34:36 naddy Exp $
d33 5
a37 2
BUILD_DEPENDS =	${MODFORTRAN_BUILD_DEPENDS} \
		devel/desktop-file-utils
d40 1
@


1.61
log
@bump for plist changes 5.2 -> 5.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/06/30 07:44:34 steven Exp $
a23 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =	Yes
d78 1
a78 1
.ifmake regress
d85 1
a85 1
post-regress:
@


1.60
log
@fix MASTER_SITES, some spacing adjustments
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2012/03/29 13:38:40 sthen Exp $
d11 1
a11 1
REVISION =	9
@


1.59
log
@bump for plist changes 5.1 -> 5.2
@
text
@d5 1
a5 1
NOT_FOR_ARCHS=	vax sparc
d7 1
a7 1
COMMENT=	high-level language for numerical computations
d9 4
a12 4
VERSION=	3.0.5
DISTNAME=	octave-${VERSION}
REVISION=	9
CATEGORIES=	math
d14 1
a14 1
SHARED_LIBS=	cruft		5.0 \
d18 1
a18 1
HOMEPAGE=	http://www.gnu.org/software/octave/
d20 1
a20 1
MAINTAINER=	Steven Mestdagh <steven@@openbsd.org>
d23 4
a26 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d31 1
a31 3
MASTER_SITES=	ftp://ftp.octave.org/pub/octave/ \
		ftp://ftp.u-aizu.ac.jp/pub/SciEng/numanal/Octave/ \
		ftp://neacm.fe.up.pt/pub/octave/
d33 1
a33 1
MODULES=	fortran
d36 1
a36 1
BUILD_DEPENDS=	${MODFORTRAN_BUILD_DEPENDS} \
d38 1
a38 1
RUN_DEPENDS=	devel/gmake \
d40 1
a40 1
LIB_DEPENDS=	${MODFORTRAN_LIB_DEPENDS} \
d49 1
a49 1
USE_GMAKE=	Yes
d52 4
a55 4
SEPARATE_BUILD=	Yes
CONFIGURE_STYLE=autoconf
AUTOCONF_VERSION=2.61
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
d59 1
a59 1
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
d63 1
a63 1
MAKE_ENV=	LIBcruft_VERSION=${LIBcruft_VERSION} \
d68 1
a68 1
CONFIGURE_ENV+=	FFLAGS="${FFLAGS}"
d72 3
a74 3
GCC_ARCH=	${MACHINE_ARCH}-unknown-openbsd${OSREV}
GNU_ARCH=	${GCC_ARCH:S/amd64/x86_64/}
SUBST_VARS=	GNU_ARCH VERSION
d83 1
a83 1
PORTHOME=	/tmp
d85 1
a85 1
MAKE_ENV+=	USER=nobody
d92 1
a92 1
HTMLDOCS=	interpreter liboctave
@


1.58
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2012/01/13 00:55:14 naddy Exp $
d11 1
a11 1
REVISION=	8
@


1.57
log
@bump revision for plist changes 5.0 -> 5.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/09/16 10:31:22 espie Exp $
d54 1
a54 1
SEPARATE_BUILD=	simple
@


1.56
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/07/18 19:06:37 naddy Exp $
d11 1
a11 1
REVISION=	7
@


1.55
log
@bump revision for plist changes 4.9 -> 5.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/01/15 01:09:43 naddy Exp $
d11 1
a11 1
REVISION=	6
@


1.54
log
@bump revision for plist changes 4.8 -> 4.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/11/19 07:23:10 espie Exp $
d11 1
a11 1
REVISION=	5
@


1.53
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/10/23 15:09:57 steven Exp $
d11 1
a11 1
REVISION=	4
@


1.52
log
@replace MODFORTRAN_WANTG77 with MODFORTRAN_COMPILER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/10/18 20:52:06 espie Exp $
d29 1
a29 1
		fftw3.>=3 lapack.>=3 blas.>=1 amd umfpack pcre.>=1 curl.>=6
d39 3
a41 3
		::devel/desktop-file-utils
RUN_DEPENDS=	::devel/gmake \
		:desktop-file-utils-*:devel/desktop-file-utils
d43 7
a49 7
		::math/fftw3 \
		::math/lapack \
		::math/blas \
		::math/amd \
		::math/umfpack \
		::devel/pcre \
		::net/curl
@


1.51
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/07/24 23:05:08 naddy Exp $
d36 1
a36 1
MODFORTRAN_WANTG77=Yes
@


1.50
log
@bump PKGNAME for PLIST changes 4.7 -> 4.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/07/18 18:49:01 naddy Exp $
d52 1
@


1.49
log
@Remove redundant variables OPSYS and OPSYS_VER.
OPSYS was always "OpenBSD", the ports tree doesn't cover other
operating systems.
OPSYS_VER was the same as OSREV.

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/07/18 14:33:39 steven Exp $
d11 1
a11 1
REVISION=	3
@


1.48
log
@new WANTLIB/LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/07/18 10:50:12 steven Exp $
d73 1
a73 1
GCC_ARCH=	${MACHINE_ARCH}-unknown-openbsd${OPSYS_VER}
@


1.47
log
@REVISION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/01/27 21:43:28 naddy Exp $
d28 2
a29 1
WANTLIB=	c m ncurses readline stdc++ z ${MODFORTRAN_WANTLIB}
d43 7
a49 7
		fftw3.>=3::math/fftw3 \
		lapack.>=3::math/lapack \
		blas.>=1::math/blas \
		amd::math/amd \
		umfpack::math/umfpack \
		pcre.>=1::devel/pcre \
		curl.>=6::net/curl
@


1.46
log
@- Use fortran module.
- Add a dependency on umfpack.

ok steven@@
@
text
@d11 1
a11 1
PKGNAME=	${DISTNAME}p3
@


1.45
log
@bump PKGNAME for PLIST changes 4.6 -> 4.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/12/21 22:07:57 ajacoutot Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p2
d28 1
a28 1
WANTLIB=	c g2c m ncurses readline stdc++ z
d34 5
a38 1
BUILD_DEPENDS=	::devel/desktop-file-utils
d41 2
a42 1
LIB_DEPENDS=	fftw3.>=3::math/fftw3 \
d46 1
@


1.44
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/06/22 17:00:24 naddy Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p1
@


1.43
log
@bump PKGNAME for PLIST changes 4.5 -> 4.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2009/04/14 18:22:59 steven Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p0
@


1.42
log
@update to 3.0.5

with testing by J.C. Roberts
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2008/11/04 22:41:59 steven Exp $
d11 1
@


1.41
log
@bump PKGNAME for PLIST changes 4.4 -> 4.5
@
text
@d9 1
a9 1
VERSION=	3.0.3
a10 1
PKGNAME=	${DISTNAME}p0
d29 3
a31 3
MASTER_SITES=	ftp://ftp.octave.org/pub/octave/bleeding-edge/ \
		ftp://neacm.fe.up.pt/pub/octave/bleeding-edge/ \
		ftp://ftp.u-aizu.ac.jp/pub/SciEng/numanal/Octave/bleeding-edge/
@


1.40
log
@update to 3.0.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/10/01 05:16:07 steven Exp $
d11 1
@


1.39
log
@update to 3.0.2
@
text
@d9 1
a9 1
VERSION=	3.0.2
@


1.38
log
@homepage changed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/07/04 16:35:26 naddy Exp $
d9 1
a9 1
VERSION=	3.0.1
a10 1
PKGNAME=	${DISTNAME}p2
@


1.37
log
@last round of library bumps due to libc/libm changes.  from sthen@@
double-checked & ok naddy@@, go for it pval@@
@
text
@d11 1
a11 1
PKGNAME=	${DISTNAME}p1
d18 1
a18 1
HOMEPAGE=	http://www.octave.org/
@


1.36
log
@bump PKGNAME for PLIST changes 4.3 -> 4.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2008/04/25 18:26:29 steven Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p0
d15 1
a15 1
		octave		4.0 \
@


1.35
log
@maintenance update to octave 3.0.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2008/02/12 14:44:06 merdely Exp $
d11 1
@


1.34
log
@bump PKGNAME for PLIST changes 4.2 -> 4.3
@
text
@d9 1
a9 1
VERSION=	3.0.0
a10 1
PKGNAME=	${DISTNAME}p0
@


1.33
log
@Set FFLAGS="${FFLAGS}" in CONFIGURE_ENV for alpha so octave will build
on alpha.  Wrap in .if ${MACHINE_ARCH} == "alpha" as it caused
regressions on other archs.

No bump since it didn't build on alpha before and only alpha is
affected.

Discussed with steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2008/01/21 18:30:13 steven Exp $
d11 1
@


1.32
log
@update to octave 3.0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2007/12/15 20:54:19 ajacoutot Exp $
d59 4
@


1.31
log
@- add update-desktop-database goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2007/11/10 11:15:05 steven Exp $
d9 1
a9 1
VERSION=	2.9.14
a10 1
PKGNAME=	${DISTNAME}p1
d21 1
a21 1
# GPL
d54 2
a55 1
		F77=${FC}
@


1.30
log
@- in the unpack function, add missing -f argument to tar invocations
- in the pkg function, use gmake instead of make, since all the octave-forge
stuff uses it; add corresponding runtime dependency on gmake

based on a diff from Paul Irofti (bulibuta at gmail)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/09/23 08:06:59 steven Exp $
d11 1
a11 1
PKGNAME=	${DISTNAME}p0
d35 2
a36 1
RUN_DEPENDS=	::devel/gmake
@


1.29
log
@update to 2.9.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/09/15 18:44:36 steven Exp $
d11 1
d35 1
@


1.28
log
@remove quotes from COMMENT/PERMIT*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/08/05 22:27:53 naddy Exp $
d9 1
a9 1
VERSION=	2.9.13
@


1.27
log
@missing build dependency; from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/07/28 07:09:19 steven Exp $
d7 1
a7 1
COMMENT=	"high-level language for numerical computations"
@


1.26
log
@update to octave 2.9.13
add a few missing LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2007/06/28 08:03:06 steven Exp $
d33 1
@


1.25
log
@fix plist
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/06/20 08:51:42 steven Exp $
d9 1
a9 1
VERSION=	2.9.12
a10 1
PKGNAME=	${DISTNAME}p0
d36 3
a38 1
		pcre.>=1::devel/pcre
@


1.24
log
@major update to octave 2.9.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/02/14 11:51:07 steven Exp $
d11 1
@


1.23
log
@bump PKGNAME due to PLIST changes after 4.0 -> 4.1

"feel free to bump whatever is needed" espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2006/10/01 23:18:07 steven Exp $
d9 1
a9 1
VERSION=	2.1.72
a10 1
PKGNAME=	$(DISTNAME)p6
d13 3
a15 3
SHARED_LIBS=	cruft		4.0 \
		octave		3.0 \
		octinterp	3.0
d21 1
a21 1
# GNU GPL
d27 1
a27 1
WANTLIB=	c g2c m ncurses readline stdc++
d35 2
a36 2
		blas.>=1::math/blas
REGRESS_DEPENDS=::devel/dejagnu
d42 1
a42 1
AUTOCONF_VERSION=2.59
d75 1
a75 1
HTMLDOCS=	interpreter liboctave faq
@


1.22
log
@skip MODGCC3, since it does not build on sparc anyway.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/10/01 22:23:47 brad Exp $
d11 1
a11 1
PKGNAME=	$(DISTNAME)p5
@


1.21
log
@stop using the gcc3 module on the alpha architecture.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/08/03 20:04:51 espie Exp $
a32 4

MODULES=	gcc3
MODGCC3_ARCHES=	sparc
MODGCC3_LANGS=	c++ g77
@


1.20
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/07/28 06:29:34 steven Exp $
d11 1
a11 1
PKGNAME=	$(DISTNAME)p4
d35 1
a35 1
MODGCC3_ARCHES=	alpha sparc
@


1.19
log
@bump PKGNAME due to PLIST changes after 3.9 -> 4.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/07/18 06:51:25 espie Exp $
d38 3
a40 3
LIB_DEPENDS=	fftw3.3::math/fftw3 \
		lapack.3::math/lapack \
		blas.1::math/blas
@


1.18
log
@adjust for new texinfo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/05/24 05:03:51 steven Exp $
d11 1
a11 1
PKGNAME=	$(DISTNAME)p3
@


1.17
log
@- make it build on alpha by using g77 from gcc3, use FC while here
- not for sparc, added some comments in Makefile

ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/04/24 22:30:27 steven Exp $
d11 1
a11 1
PKGNAME=	$(DISTNAME)p2
@


1.16
log
@use master sites path that contains all releases, not just the last one.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/04/01 19:21:57 steven Exp $
d3 3
a5 1
NOT_FOR_ARCHS=	vax
d36 1
a36 1
MODGCC3_LANGS=	C++
d53 2
a54 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.15
log
@- depend on blas and lapack libraries
- bump major for libcruft since blas/lapack code won't be built into it
- change my e-mail address while here
- bump PKGNAME

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/03/31 16:50:44 sturm Exp $
d28 3
a30 3
MASTER_SITES=	ftp://ftp.octave.org/pub/octave/ \
		ftp://neacm.fe.up.pt/pub/octave/ \
		ftp://ftp.u-aizu.ac.jp/pub/SciEng/numanal/Octave/
@


1.14
log
@remove dead MASTER_SITES

from Jim Razmus <jim at bonetruck.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/01/22 23:21:47 sturm Exp $
d9 1
a9 1
PKGNAME=	$(DISTNAME)p1
d12 1
a12 1
SHARED_LIBS=	cruft		3.0 \
d18 1
a18 1
MAINTAINER=	Steven Mestdagh <steven.mestdagh@@esat.kuleuven.be>
d36 3
a38 1
LIB_DEPENDS=	fftw3.3::math/fftw3
@


1.13
log
@bump PKGNAME due to PLIST changes after 3.8 -> 3.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/01/14 00:28:45 espie Exp $
a28 1
		ftp://ftp.eos.hokudai.ac.jp/pub/GNU/misc/octave/ \
@


1.12
log
@SHARED_LIBS bump for C++, math -> multimedia
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/12/24 20:05:27 steven Exp $
d9 1
a9 1
PKGNAME=	$(DISTNAME)p0
@


1.11
log
@SHARED_LIBS
tested and ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/11/20 17:44:20 naddy Exp $
d9 1
d12 3
a14 3
SHARED_LIBS=	cruft		2.0 \
		octave		2.0 \
		octinterp	2.0
@


1.10
log
@update to 2.1.72

other port changes:
- use math/fftw3 library
- fix MASTER_SITES
- add a few patches to include correct headers
- build all HTML documentation and adjust BUILD_DEPENDS accordingly

From: maintainer Steven Mestdagh
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/11/02 18:20:58 alek Exp $
d11 4
d50 3
a52 1
MAKE_ENV=	SHLIB_VER=${SHLIB_VER}
d54 1
a54 2
# need shared library version for machines which support shared libraries.
SHLIB_VER=	2.0
d57 1
a57 1
SUBST_VARS=	GNU_ARCH VERSION SHLIB_VER
@


1.9
log
@Update to 2.1.71

From new maintainer Steven Mestdagh <steven.mestdagh@@esat.kuleuven.be>
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
VERSION=	2.1.71
d24 1
a24 1
		ftp://ftp.eos.hokudai.ac.jp/pub/GNU/misc/octave \
d26 1
a26 1
		ftp://ftp.u-aizu.ac.jp/pub/SciEng/numanal/Octave
d31 2
a32 2
BUILD_DEPENDS=	::print/teTeX/base \
		::textproc/texi2html
d40 6
a45 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
d70 1
d76 5
a80 3
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/octave
	${INSTALL_DATA} ${WRKBUILD}/doc/interpreter/octave*.html \
		${PREFIX}/share/doc/octave
@


1.8
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/08/02 12:48:13 espie Exp $
d3 5
a7 2
COMMENT=	"High-level language for numerical computations"
VERSION=	2.0.16
d9 1
a9 1
CATEGORIES=    	math
d11 1
a11 1
HOMEPAGE=	http://www.che.wisc.edu/octave/
d13 1
a13 1
MAINTAINER=	Sungman Cho <smcho@@tsp.korea.ac.kr>
d15 1
a15 1
# Licensing:  GPL
a19 1
WANTLIB=		c g2c m ncurses readline stdc++
d21 1
a21 1
MASTER_SITES=		${MASTER_SITE_GNU:=octave/}
d23 10
d37 5
a41 4
CONFIGURE_STYLE=	gnu dest
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/kpathsea ${WRKSRC}/readline ${WRKSRC}/readline/support
CONFIGURE_ARGS=		${CONFIGURE_SHARED} ${GCCARCH}
CONFIGURE_ENV= 		FFLAGS="${FFLAGS}" SOREV="${SHLIB_VER}"
d44 16
a59 3
SHLIB_VER=	1.0
GCCARCH=	${MACHINE_ARCH}-unknown-openbsd${OPSYS_VER}
SUBST_VARS=	GCCARCH VERSION SHLIB_VER
d61 2
a62 2
pre-build:
	@@rm -f ${WRKSRC}/doc/liboctave/liboctave.info*
d64 1
a64 1
# fix ls-R
d67 1
a67 2
	    sed -e "s,${PREFIX},${TRUEPREFIX}," ls-R > ls-R.new && \
	    mv -f ls-R.new ls-R
d69 4
a72 2
	    sed -e "s,${PREFIX},${TRUEPREFIX}," ls-R > ls-R.new && \
	    mv -f ls-R.new ls-R
a74 5

# if we can use shared libraries, make octave use modules.
.if !(defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:L} == "yes")
CONFIGURE_ARGS+=	--enable-lite-kernel
.endif
@


1.7
log
@NO_SHARED_LIBS always defined.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/12/29 19:43:50 fgsch Exp $
d17 1
@


1.6
log
@byebye NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/05/13 23:31:26 espie Exp $
d49 1
a49 1
.if !defined (NO_SHARED_LIBS)
@


1.5
log
@More MASTER_SITES_SUBDIR out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/10/02 12:27:11 espie Exp $
a6 1
NEED_VERSION=	1.402
@


1.4
log
@Remove dependency on gnuplot: it's trivial to fake it for building,
and octave is useful even without gnuplot installed.

Remind user in pkg/DESCR that gnuplot might be useful.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/09/28 06:02:14 pvalchev Exp $
d19 1
a19 2
MASTER_SITES=		${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR=	octave
@


1.3
log
@CONFIGURE_STYLE=gnu w/ proper MODGNU_CONFIG_GUESS_DIRS
needed for the powerpc -> macppc name change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/09/12 23:59:20 naddy Exp $
d22 1
a22 2
BUILD_DEPENDS=	gnuplot:gnuplot-*:math/gnuplot
RUN_DEPENDS=	gnuplot:gnuplot-*:math/gnuplot
@


1.2
log
@use FFLAGS; from maintainer Sungman Cho <smcho@@tsp.korea.ac.kr>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/07/15 18:07:15 naddy Exp $
d28 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d29 1
a29 1
CONFIGURE_ENV= 		FFLAGS="${CFLAGS}" SOREV="${SHLIB_VER}"
@


1.1.1.1
log
@Import of octave-2.0.16; submitted by Sungman Cho <smcho@@tsp.korea.ac.kr>.

GNU Octave is a high-level language, primarily intended for numerical
computations.  It provides a convenient command line interface for
solving linear and nonlinear problems numerically, and for performing
other numerical experiments using a language that is mostly compatible
with Matlab.  It may also be used as a batch-oriented language. 
@
text
@@
