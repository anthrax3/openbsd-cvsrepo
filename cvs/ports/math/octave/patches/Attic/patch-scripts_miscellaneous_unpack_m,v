head	1.3;
access;
symbols
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2008.04.25.18.26.29;	author steven;	state dead;
branches;
next	1.2;

1.2
date	2008.01.21.18.30.13;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2007.11.10.11.15.05;	author steven;	state Exp;
branches;
next	;


desc
@@


1.3
log
@maintenance update to octave 3.0.1
@
text
@$OpenBSD: patch-scripts_miscellaneous_unpack_m,v 1.2 2008/01/21 18:30:13 steven Exp $
--- scripts/miscellaneous/unpack.m.orig	Fri Oct 12 23:27:23 2007
+++ scripts/miscellaneous/unpack.m	Sat Dec 29 17:13:51 2007
@@@@ -124,12 +124,12 @@@@ function filelist = unpack (file, directory, filetype)
     commandlist.tar = {"tar -x -v -f \"%s\"", ...
 		       "tar -x -f \"%s\"", ...
 		       @@__parse_tar__, false};
-    commandlist.targz = {"gzip -d -c \"%s\" | tar -x -v", ...
-			 "gzip -d -c \"%s\" | tar -x", ...
+    commandlist.targz = {"gzip -d -c \"%s\" | tar -x -v -f -", ...
+			 "gzip -d -c \"%s\" | tar -x -f -", ...
 			 @@__parse_tar__, false};
     commandlist.tgz = commandlist.targz;
-    commandlist.tarbz2 = {"bzip2 -d -c \"%s\" | tar -x -v", ...
-			  "bzip2 -d -c \"%s\" | tar -x", ...
+    commandlist.tarbz2 = {"bzip2 -d -c \"%s\" | tar -x -v -f -", ...
+			  "bzip2 -d -c \"%s\" | tar -x -f -", ...
 			  @@__parse_tar__, false};
     commandlist.tarbz = commandlist.tarbz2;
     commandlist.tbz2 = commandlist.tarbz2;
@


1.2
log
@update to octave 3.0.0
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_miscellaneous_unpack_m,v 1.1 2007/11/10 11:15:05 steven Exp $
@


1.1
log
@- in the unpack function, add missing -f argument to tar invocations
- in the pkg function, use gmake instead of make, since all the octave-forge
stuff uses it; add corresponding runtime dependency on gmake

based on a diff from Paul Irofti (bulibuta at gmail)
@
text
@d1 4
a4 4
$OpenBSD$
--- scripts/miscellaneous/unpack.m.orig	Sat Nov 10 12:11:03 2007
+++ scripts/miscellaneous/unpack.m	Sat Nov 10 12:11:10 2007
@@@@ -125,12 +125,12 @@@@ function filelist = unpack (file, directory, filetype)
@

