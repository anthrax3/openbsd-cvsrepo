head	1.26;
access;
symbols
	OPENBSD_6_0:1.25.0.2
	OPENBSD_6_0_BASE:1.25
	OPENBSD_5_9:1.24.0.2
	OPENBSD_5_9_BASE:1.24
	OPENBSD_5_8:1.24.0.4
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.23.0.8
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.23.0.6
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.23.0.4
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.21.0.2
	OPENBSD_5_3_BASE:1.21
	OPENBSD_5_2:1.18.0.2
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.2
	OPENBSD_5_0:1.16.0.4
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.13.0.2
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.12.0.10
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.12.0.8
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.12.0.6
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.12.0.4
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.12.0.2
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.10.0.6
	OPENBSD_4_2_BASE:1.10
	OPENBSD_4_1:1.10.0.4
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.10.0.2
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.9.0.2
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.6.0.4
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.2
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.5.0.4
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.4.0.2
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.2.0.6
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.4
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.2
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.1.1.1.0.2
	OPENBSD_2_9_BASE:1.1.1.1
	tom_20001226:1.1.1.1
	reinhard:1.1.1;
locks; strict;
comment	@# @;


1.26
date	2016.12.18.13.58.21;	author kirby;	state Exp;
branches;
next	1.25;
commitid	7ItimkpLv4G5bekT;

1.25
date	2016.03.10.11.50.13;	author naddy;	state Exp;
branches;
next	1.24;
commitid	jyYyxI4cQA4JapGp;

1.24
date	2015.03.16.18.07.50;	author naddy;	state Exp;
branches;
next	1.23;
commitid	IJdm3Zowcdkcxp5X;

1.23
date	2013.03.21.08.46.33;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2013.03.11.11.23.55;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2012.12.21.18.27.00;	author landry;	state Exp;
branches;
next	1.20;

1.20
date	2012.10.11.15.14.02;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2012.08.18.12.41.38;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.03.29.13.38.40;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2011.11.03.20.28.09;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2010.11.19.07.23.10;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.10.23.15.09.57;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.18.20.52.06;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.05.23.10.22.33;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2007.11.29.13.43.08;	author okan;	state Exp;
branches;
next	1.11;

1.11
date	2007.09.15.18.44.36;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2006.07.11.11.30.06;	author steven;	state Exp;
branches;
next	1.9;

1.9
date	2006.01.14.00.28.45;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2005.12.29.21.14.48;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2005.12.24.14.45.38;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2004.12.27.07.16.44;	author alek;	state Exp;
branches;
next	1.5;

1.5
date	2004.02.01.12.22.05;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2003.07.16.19.24.25;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2002.12.29.19.43.50;	author fgsch;	state Exp;
branches;
next	1.2;

1.2
date	2001.05.06.01.59.01;	author lebel;	state Exp;
branches;
next	1.1;

1.1
date	2000.12.26.12.22.53;	author reinhard;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.12.26.12.22.53;	author reinhard;	state Exp;
branches;
next	;


desc
@@


1.26
log
@Update homepage and remove trailing whitespace while here.
@
text
@# $OpenBSD: Makefile,v 1.25 2016/03/10 11:50:13 naddy Exp $ 

BROKEN-powerpc=	fails to build
BROKEN-hppa =	fails to configure

COMMENT=	library for machine-independent, array-oriented data access

DISTNAME=	netcdf-3.6.2
REVISION=	2
CATEGORIES=	math

SHARED_LIBS=	netcdf		4.0 \
		netcdff		4.0 \
		netcdf_c++	4.0

HOMEPAGE=	http://www.unidata.ucar.edu/software/netcdf/

MAINTAINER=	Tom Knienieder <tom@@knienieder.com>
MODULES =	fortran
MODFORTRAN_COMPILER = g77
BUILD_DEPENDS =	${MODFORTRAN_BUILD_DEPENDS}

# BSD-like
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c m stdc++

MASTER_SITES=		ftp://ftp.unidata.ucar.edu/pub/netcdf/

CONFIGURE_STYLE= 	gnu
CONFIGURE_ENV=		CPPFLAGS="-Df2cFortran"
CONFIGURE_ARGS+=	--enable-shared \
			--disable-f90

USE_GMAKE=		Yes
USE_GROFF =		Yes
SEPARATE_BUILD=		Yes

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/netcdf
	@@cd ${WRKSRC}/man && ${INSTALL_DATA} *.txt *.pdf \
		${PREFIX}/share/doc/netcdf

.include <bsd.port.mk>
@


1.25
log
@requires --enable-shared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/03/16 18:07:50 naddy Exp $ 
d9 1
a9 1
REVISION=	1
d16 1
a16 1
HOMEPAGE=	http://www.unidata.ucar.edu/packages/netcdf/
d21 1
a21 1
BUILD_DEPENDS =	${MODFORTRAN_BUILD_DEPENDS} 
@


1.24
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/21 08:46:33 ajacoutot Exp $ 
d32 1
a32 1
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
@


1.23
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/03/11 11:23:55 espie Exp $ 
d9 1
a9 1
REVISION=	0
@


1.22
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/12/21 18:27:00 landry Exp $ 
a35 1
USE_LIBTOOL=		Yes
@


1.21
log
@Mark as BROKEN-hppa, doesnt pass configure since the PIE switch.
checking if Fortran "byte" is C "signed char"... configure: error: Could not link conftestf.o and conftest.o
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/10/11 15:14:02 ajacoutot Exp $ 
a24 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.20
log
@Mark BROKEN on powerpc, it fails to build there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/08/18 12:41:38 ajacoutot Exp $ 
d4 1
@


1.19
log
@Remove irrelevant $FreeBSD RCS ids.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.18 2012/03/29 13:38:40 sthen Exp $ 
@


1.18
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.17 2011/11/03 20:28:09 jasper Exp $ 
# $FreeBSD: ports/math/netcdf/Makefile,v 1.7 2000/06/16 21:51:39 asami Exp $
@


1.17
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/11/19 07:23:10 espie Exp $ 
d39 1
a39 1
SEPARATE_BUILD=		concurrent
@


1.16
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/10/23 15:09:57 steven Exp $ 
d7 1
d27 1
a27 1
WANTLIB=		c m
@


1.15
log
@replace MODFORTRAN_WANTG77 with MODFORTRAN_COMPILER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/05/23 10:22:33 espie Exp $ 
d37 1
a37 1
USE_GROFF =	Yes
@


1.14
log
@USE_GROFF=Yes
@
text
@d17 1
a17 1
MODFORTRAN_WANTG77 =	Yes
@


1.13
log
@use fortran module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/11/29 13:43:08 okan Exp $ 
d37 1
@


1.12
log
@maintenance update to 3.6.2 from Carlos Valiente

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/09/15 18:44:36 steven Exp $ 
d16 3
@


1.11
log
@remove quotes from COMMENT/PERMIT*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/07/11 11:30:06 steven Exp $ 
d6 1
a6 2
DISTNAME=	netcdf-3.5.0
PKGNAME=	${DISTNAME}p1
d9 3
a11 2
SHARED_LIBS=	netcdf		1.0 \
		netcdf_c++	2.0
d18 17
a34 24
PERMIT_PACKAGE_CDROM=   Yes
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
WANTLIB=		c

MASTER_SITES=	ftp://ftp.unidata.ucar.edu/pub/netcdf/ \
		ftp://ftp.unidata.ucar.edu/pub/netcdf/old/
EXTRACT_SUFX=	.tar.Z

WRKSRC=			${WRKDIST}/src

CONFIGURE_STYLE= 	gnu dest
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}

MAKE_FLAGS=     	CPPFLAGS="-fPIC -DPIC -Df2cFortran -I${WRKSRC}/libsrc"

REGRESS_DEPENDS=	::math/netcdf

post-build:
	@@(cd ${WRKSRC}/libsrc && \
		${SETENV} ${MAKE_ENV} ${MAKE} LIBVER=${LIBnetcdf_VERSION} shared_library)
	@@(cd ${WRKSRC}/cxx && \
		${SETENV} ${MAKE_ENV} ${MAKE} LIBVER=${LIBnetcdf_c++_VERSION} shared_library)
d37 3
a39 4
	${INSTALL_DATA} \
		${WRKSRC}/libsrc/libnetcdf.so.${LIBnetcdf_VERSION} \
		${WRKSRC}/cxx/libnetcdf_c++.so.${LIBnetcdf_c++_VERSION} \
		${PREFIX}/lib
@


1.10
log
@better master sites
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/01/14 00:28:45 espie Exp $ 
a2 1
#
d4 1
a4 1
COMMENT=	"library for machine-independent, array-oriented data access"
@


1.9
log
@SHARED_LIBS bump for C++, math -> multimedia
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/12/29 21:14:48 naddy Exp $ 
d25 2
a26 1
MASTER_SITES=	ftp://unidata.ucar.edu/pub/netcdf/
@


1.8
log
@The plist was changed, so bump the pkgname.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/12/24 14:45:38 steven Exp $ 
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d12 1
a12 1
		netcdf_c++	1.0
@


1.7
log
@SHARED_LIBS
ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/12/27 07:16:44 alek Exp $ 
d8 1
@


1.6
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/02/01 12:22:05 sturm Exp $ 
d10 3
d38 1
a38 1
		${SETENV} ${MAKE_ENV} ${MAKE} linux_shared_library)
d40 1
a40 1
		${SETENV} ${MAKE_ENV} ${MAKE} linux_shared_library)
d43 4
a46 4
	test -f ${WRKSRC}/libsrc/libnetcdf.so && ${INSTALL_DATA} \
		${WRKSRC}/libsrc/libnetcdf.so ${PREFIX}/lib/libnetcdf.so.1.0
	test -f ${WRKSRC}/cxx/libnetcdf_c++.so && ${INSTALL_DATA} \
		${WRKSRC}/cxx/libnetcdf_c++.so ${PREFIX}/lib/libnetcdf_c++.so.1.0
@


1.5
log
@- update to netcdf 3.5.0
- cleanup
- pull in patches from netcdf-current to build with gcc3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/07/16 19:24:25 naddy Exp $ 
d19 1
@


1.4
log
@remove MANx and MANLANG cruft
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/12/29 19:43:50 fgsch Exp $ 
d7 1
a7 1
DISTNAME=	netcdf-3.5b3
a8 3
DISTFILES=	netcdf-3.5-beta3.tar.Z

MASTER_SITES=	ftp://unidata.ucar.edu/pub/netcdf/
d14 1
d20 4
a23 1
WRKSRC=			${WRKDIR}/netcdf-3.5-beta3/src
a24 1
INSTALLS_SHLIB=		yes
d26 1
a27 1
FAKE_FLAGS=     	DESTDIR="${WRKINST}"
d30 1
d39 4
a42 4
	${INSTALL_DATA} ${WRKSRC}/libsrc/libnetcdf.so ${PREFIX}/lib/libnetcdf.so.1.0
	ln -sf libnetcdf.so.1.0 ${PREFIX}/lib/libnetcdf.so
	${INSTALL_DATA} ${WRKSRC}/cxx/libnetcdf_c++.so ${PREFIX}/lib/libnetcdf_c++.so.1.0
	ln -sf libnetcdf_c++.so.1.0 ${PREFIX}/lib/libnetcdf_c++.so
@


1.3
log
@byebye NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/05/06 01:59:01 lebel Exp $ 
a29 3

MAN1=	ncdump.1 ncgen.1
MAN3=	netcdf.3
@


1.2
log
@math: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/12/26 12:22:53 reinhard Exp $ 
a8 1
NEED_VERSION=	1.402
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$ 
d5 2
d9 1
a9 1
NEED_VERSION=	1.346
@


1.1.1.1
log
@NetCDF (network Common Data Form) is an interface for array-oriented 
data access and a library that provides an implementation of the
interface. The netCDF library also defines a machine-independent
format for representing scientific data. Together, the interface,
library, and format support the creation, access, and sharing of
scientific data. The netCDF software was developed at the Unidata
Program Center in Boulder, Colorado.

From: Tom Knienieder <tom@@knienieder.com>
@
text
@@
