head	1.30;
access;
symbols
	OPENBSD_6_1:1.27.0.2
	OPENBSD_6_1_BASE:1.27
	OPENBSD_6_0:1.26.0.2
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.25.0.2
	OPENBSD_5_9_BASE:1.25
	OPENBSD_5_8:1.24.0.4
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.22.0.2
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.21.0.4
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.21.0.2
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.19.0.2
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.18.0.2
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.16.0.4
	OPENBSD_5_2_BASE:1.16
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.2
	OPENBSD_5_0:1.14.0.2
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	eric_2009_Feb_16:1.1.1.1
	eric:1.1.1;
locks; strict;
comment	@# @;


1.30
date	2017.07.26.22.45.26;	author sthen;	state Exp;
branches;
next	1.29;
commitid	tD4MFrpYYDDL2UFT;

1.29
date	2017.07.16.19.19.00;	author espie;	state Exp;
branches;
next	1.28;
commitid	tt0GhWK5c4uf9ILG;

1.28
date	2017.04.10.11.46.23;	author sthen;	state Exp;
branches;
next	1.27;
commitid	BLsh88fJB8thZTwY;

1.27
date	2017.01.03.19.23.48;	author landry;	state Exp;
branches;
next	1.26;
commitid	UIdF62x2zabAFZjG;

1.26
date	2016.04.25.08.33.23;	author daniel;	state Exp;
branches;
next	1.25;
commitid	sR7NZSobppnKEugi;

1.25
date	2015.09.29.10.52.28;	author sthen;	state Exp;
branches;
next	1.24;
commitid	kK00TsVxnVFlTJwI;

1.24
date	2015.07.20.23.08.19;	author ajacoutot;	state Exp;
branches;
next	1.23;
commitid	3USJMB8vV8OCbDNj;

1.23
date	2015.04.21.18.24.22;	author sthen;	state Exp;
branches;
next	1.22;
commitid	aorv38MSXkwQIPuw;

1.22
date	2015.01.09.14.40.27;	author daniel;	state Exp;
branches;
next	1.21;
commitid	3nVFl9yURe99NxhG;

1.21
date	2013.10.03.16.37.17;	author dcoppa;	state Exp;
branches;
next	1.20;

1.20
date	2013.09.04.18.40.21;	author landry;	state Exp;
branches;
next	1.19;

1.19
date	2013.03.11.11.23.56;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2012.09.29.07.23.11;	author landry;	state Exp;
branches;
next	1.17;

1.17
date	2012.09.27.17.42.16;	author landry;	state Exp;
branches;
next	1.16;

1.16
date	2011.11.15.14.45.46;	author rpointel;	state Exp;
branches;
next	1.15;

1.15
date	2011.09.16.10.31.23;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2011.06.08.17.36.01;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2011.06.07.07.33.24;	author rpointel;	state Exp;
branches;
next	1.12;

1.12
date	2011.05.27.10.10.19;	author eric;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.19.07.23.11;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.10.23.15.09.57;	author steven;	state Exp;
branches;
next	1.9;

1.9
date	2010.09.14.12.07.53;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2010.08.30.17.11.35;	author fgsch;	state Exp;
branches;
next	1.7;

1.7
date	2010.07.18.10.50.12;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2010.05.28.15.11.51;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2010.05.23.15.51.45;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.03.01.12.06.02;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2009.06.29.10.10.03;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.04.05.18.08.34;	author eric;	state Exp;
branches;
next	1.1;

1.1
date	2009.02.16.14.42.37;	author eric;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.02.16.14.42.37;	author eric;	state Exp;
branches;
next	;


desc
@@


1.30
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.29 2017/07/16 19:19:00 espie Exp $

BROKEN-sparc64 =	ICE in scipy/optimize/minpack/qrsolv.f:189
BROKEN-hppa =		ICE in scipy/special/specfun/specfun.f:5151
BROKEN-alpha =		ICE in scipy/optimize/minpack/lmstr.f:462

COMMENT=		maths, science and engineering modules for Python

MODPY_EGG_VERSION=	0.16.1
DISTNAME=		scipy-${MODPY_EGG_VERSION}
PKGNAME=		py-${DISTNAME}
CATEGORIES=		math devel
REVISION=		1

MAINTAINER=		Daniel Dickman <daniel@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ${MODFORTRAN_WANTLIB} ${MODPY_WANTLIB}
WANTLIB += blas lapack m pthread ${COMPILER_LIBCXX} util

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=scipy/}
HOMEPAGE=		http://numeric.scipy.org/

MODULES=		lang/python fortran

FLAVORS=		python3
FLAVOR?=

MODFORTRAN_COMPILER =	g77
MODPY_SETUPTOOLS=       Yes
MODPY_SETUP=            setupegg.py

BUILD_DEPENDS=		${RUN_DEPENDS} \
			${MODFORTRAN_BUILD_DEPENDS}
LIB_DEPENDS=		${MODFORTRAN_LIB_DEPENDS}
RUN_DEPENDS=		math/py-numpy${MODPY_FLAVOR}>=1.6.0 \
			devel/swig

TEST_DEPENDS=		devel/py-nose${MODPY_FLAVOR}

MAKE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include/amd -I${LOCALBASE}/include"
MAKE_ENV+=		LDFLAGS="-shared -L${LOCALBASE}/lib -pthread -lutil"

# scipy.weave is only packaged under python2
.if ${FLAVOR:Mpython3}
MODPY_COMMENT3 = "@@comment "
.else
MODPY_COMMENT3 =
.endif
SUBST_VARS += MODPY_COMMENT3

# fix perms
post-extract:
	find ${WRKSRC} -type d | xargs chmod 755
	find ${WRKSRC} -type f | xargs chmod 644

do-test: fake
	${MAKE_ENV} PYTHONPATH=${WRKINST}${MODPY_SITEPKG} ${MODPY_BIN} -c \
		'import scipy ; scipy.test("full")'

.include <bsd.port.mk>
@


1.29
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2017/04/10 11:46:23 sthen Exp $
d13 1
a13 1
REVISION=		0
@


1.28
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2017/01/03 19:23:48 landry Exp $
d21 1
a21 1
WANTLIB += blas lapack m pthread ${LIBCXX} util
@


1.27
log
@bump ports depending on python3 in math, misc and multimedia
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2016/04/25 08:33:23 daniel Exp $
d21 1
a21 1
WANTLIB += blas lapack m pthread stdc++ util
@


1.26
log
@Update py-scipy to 0.16.1. Many thanks to Anton Kasimov for testing.

ok shadchin@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/09/29 10:52:28 sthen Exp $
d13 1
@


1.25
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/07/20 23:08:19 ajacoutot Exp $
d9 1
a9 1
MODPY_EGG_VERSION=	0.14.1
a12 1
REVISION=		2
d26 4
d37 1
a37 1
RUN_DEPENDS=		math/py-numpy>=1.6.0 \
d40 1
a40 1
TEST_DEPENDS=	devel/py-nose
d44 8
@


1.24
log
@umfpack, arpack and amd are not needed.

ok pirofti@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/04/21 18:24:22 sthen Exp $
d13 1
a13 1
REVISION=		1
@


1.23
log
@add some missing pthread to WANTLIB
(using modified portbump, thanks zhuk@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/01/09 14:40:27 daniel Exp $
d13 1
a13 1
REVISION=		0
d21 1
a21 1
WANTLIB += amd arpack blas lapack m pthread stdc++ umfpack util
d33 1
a33 4
LIB_DEPENDS=		math/umfpack \
			math/arpack \
			math/amd \
			${MODFORTRAN_LIB_DEPENDS}
@


1.22
log
@Update py-scipy to 0.14.1 and take over maintainer from eric@@ with his
permission.

ok benoit@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/10/03 16:37:17 dcoppa Exp $
d13 1
d20 2
a21 2
WANTLIB += amd arpack blas stdc++ lapack m umfpack util
WANTLIB += ${MODPY_WANTLIB} ${MODFORTRAN_WANTLIB}
@


1.21
log
@Bye bye MODPY_BADEGGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/09/04 18:40:21 landry Exp $
d9 1
a9 1
MODPY_EGG_VERSION=	0.10.0
d14 1
a14 1
MAINTAINER=		Eric Faurot <eric@@openbsd.org>
d43 5
@


1.20
log
@Mark as BROKEN-alpha: ICE in scipy/optimize/minpack/lmstr.f:462
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/03/11 11:23:56 espie Exp $
a28 1
MODPY_BADEGGS=		scipy
@


1.19
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/09/29 07:23:11 landry Exp $
d5 1
@


1.18
log
@Mark as BROKEN-hppa, triggers ICE in scipy/special/specfun/specfun.f:5151
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/09/27 17:42:16 landry Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d39 1
a39 1
REGRESS_DEPENDS=	devel/py-nose
d44 1
a44 1
do-regress: fake
@


1.17
log
@Mark as BROKEN on sparc64 since it never built there in ages; Triggers
an internal compiler error in scipy/optimize/minpack/qrsolv.f:189
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/11/15 14:45:46 rpointel Exp $
d4 1
@


1.16
log
@update scipy to 0.10.0.
ok eric@@ (maintainer).
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.15 2011/09/16 10:31:23 espie Exp $
@


1.15
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/06/08 17:36:01 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	0.9.0
a7 1
REVISION=		2
@


1.14
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/06/07 07:33:24 rpointel Exp $
d8 1
a8 1
REVISION=		1
@


1.13
log
@Unbreak after recent commit of Python.
ok landry@@ jasper@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/05/27 10:10:19 eric Exp $
d8 1
a8 1
REVISION=		0
@


1.12
log
@update to 0.9.0

ok rpointel@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/11/19 07:23:11 espie Exp $
d8 1
d19 2
a20 1
WANTLIB += amd arpack blas stdc++ lapack m umfpack ${MODFORTRAN_WANTLIB}
a41 1
MAKE_ENV+=		LDSHARED="${CC} -shared -fPIC"
d43 1
a47 1

@


1.11
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/10/23 15:09:57 steven Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	0.7.0
a7 1
REVISION =		5
d35 1
a35 1
RUN_DEPENDS=		math/py-numpy \
@


1.10
log
@replace MODFORTRAN_WANTG77 with MODFORTRAN_COMPILER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/08/30 17:11:35 fgsch Exp $
d32 3
a34 3
LIB_DEPENDS=		::math/umfpack \
			::math/arpack \
			::math/amd \
d36 2
a37 2
RUN_DEPENDS=		::math/py-numpy \
			::devel/swig
d39 1
a39 1
REGRESS_DEPENDS=	::devel/py-nose
@


1.9
log
@- fix LIB_DEPENDS; math/amd should have been a LIB_DEPENDS here.
the scipy package used to work as umfpack also had math/amd as
LIB_DEPENDS but this was removed from umfpack and py-scipy wasn't
changed to match.

- sync WANTLIB, bump REVISION

broken packages noticed by thib@@
@
text
@d25 1
a25 1
MODFORTRAN_WANTG77=	Yes
@


1.8
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/07/18 10:50:12 steven Exp $
d8 1
a8 1
REVISION =		4
d19 1
a19 1
WANTLIB=		amd blas lapack m ${MODFORTRAN_WANTLIB}
d32 3
a34 2
LIB_DEPENDS=		umfpack::math/umfpack \
			arpack::math/arpack \
@


1.7
log
@REVISION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/05/23 15:51:45 espie Exp $
d8 1
a8 1
REVISION=		3
@


1.6
log
@bump after fortran move to ports and don't put the compiler into run depends
@
text
@d7 2
a8 1
PKGNAME=		py-${DISTNAME}p3
@


1.5
log
@use fortran module
make sure we pick the amd includes (appear to affect gcc3 also)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/03/01 12:06:02 espie Exp $
d7 1
a7 1
PKGNAME=		py-${DISTNAME}p2
d29 1
a29 2
BUILD_DEPENDS=		::math/py-numpy \
			::devel/swig \
d34 2
a35 1
RUN_DEPENDS=		${BUILD_DEPENDS}
@


1.4
log
@a few more rotten eggs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/06/29 10:10:03 sthen Exp $
d7 1
a7 1
PKGNAME=		py-${DISTNAME}p1
d18 1
a18 1
WANTLIB=		amd blas g2c lapack m
d23 2
a24 1
MODULES=		lang/python
d30 2
a31 1
			::devel/swig
d33 2
a34 1
			arpack::math/arpack
d40 1
a40 1
MAKE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include/amd"
@


1.3
log
@the ARPACK library gets pulled in by the configure scripts if present;
record it as a LIB_DEPENDS and bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/04/05 18:08:34 eric Exp $
d26 1
@


1.2
log
@Add dependency on math/umfpack to avoid it being accidently detected
at build time. Also fix a build issue. Breakage spotted by naddy@@.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/02/16 14:42:37 eric Exp $
d7 1
a7 1
PKGNAME=		py-${DISTNAME}p0
d29 2
a30 1
LIB_DEPENDS=		umfpack::math/umfpack
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/07/30 17:49:32 martynas Exp $
d7 1
a7 1
PKGNAME=		py-${DISTNAME}
d18 1
a18 1
WANTLIB=		blas g2c lapack m
d27 3
a29 1
BUILD_DEPENDS=		::math/py-numpy
d35 1
@


1.1.1.1
log
@SciPy (pronounced "Sigh Pie") is open-source software for mathematics,
science, and engineering.  It includes modules for statistics,
optimization, integration, linear algebra, Fourier transforms, signal
and image processing, genetic algorithms, ODE solvers, and more.  It
is also the name of a very popular conference on scientific
programming with Python. 

The SciPy library depends on NumPy, which provides convenient and fast
N-dimensional array manipulation. The SciPy library is built to work
with NumPy arrays, and provides many user-friendly and efficient
numerical routines such as routines for numerical integration and
optimization. Together, they run on all popular operating systems, are
quick to install, and are free of charge. NumPy and SciPy are easy to
use, but powerful enough to be depended upon by some of the world's
leading scientists and engineers. If you need to manipulate numbers on
a computer and display or publish the results, give SciPy a try! 


ok ajacoutot@@
@
text
@@
