head	1.15;
access;
symbols
	OPENBSD_6_0:1.15.0.6
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.15.0.2
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.15.0.4
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.14.0.8
	OPENBSD_5_7_BASE:1.14
	OPENBSD_5_6:1.14.0.6
	OPENBSD_5_6_BASE:1.14
	OPENBSD_5_5:1.14.0.4
	OPENBSD_5_5_BASE:1.14
	OPENBSD_5_4:1.14.0.2
	OPENBSD_5_4_BASE:1.14
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.12.0.4
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.2
	OPENBSD_5_0:1.11.0.4
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.8.0.2
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.8
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.6
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.1.1.0.4
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	steven-20061019:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2015.03.16.18.07.49;	author naddy;	state Exp;
branches;
next	1.14;
commitid	IJdm3Zowcdkcxp5X;

1.14
date	2013.03.11.11.23.54;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2012.09.01.12.02.27;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2011.11.18.11.16.24;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.19.07.23.10;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.07.20.33.58;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.10.23.15.09.57;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2010.07.18.10.30.41;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2010.06.12.18.00.13;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2010.06.07.09.50.25;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2010.04.14.15.43.23;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2010.04.05.20.29.18;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2009.08.05.20.40.46;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2007.09.15.18.44.36;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2006.10.19.16.19.54;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.10.19.16.19.54;	author steven;	state Exp;
branches;
next	;


desc
@@


1.15
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@# $OpenBSD: Makefile,v 1.14 2013/03/11 11:23:54 espie Exp $

COMMENT=	solve large scale eigenvalue problems

DISTNAME=	arpack96
PKGNAME=	arpack-96
REVISION=	4
SHARED_LIBS=	arpack 1.0
CATEGORIES=	math

HOMEPAGE=	http://www.caam.rice.edu/software/ARPACK/

# BSD license (not in distfile)
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${HOMEPAGE}SRC/
DISTFILES=	${DISTNAME}.tar.gz patch.tar.gz ug.ps.gz
DIST_SUBDIR=	arpack

MODULES=		fortran
MODFORTRAN_COMPILER =	g77
BUILD_DEPENDS=		${MODFORTRAN_BUILD_DEPENDS}

LIB_DEPENDS =	math/lapack \
		math/blas
WANTLIB =	lapack>=1 blas>=1

WRKDIST=	${WRKDIR}/ARPACK
WRKSRC=		${WRKDIST}/SRC
MAKE_FILE=	${FILESDIR}/Makefile
MAKE_ENV=	SHLIB_MAJOR=${LIBarpack_VERSION:R} \
		SHLIB_MINOR=${LIBarpack_VERSION:E} \
		FC=${FC}
FAKE_FLAGS=	LIBDIR=${LOCALBASE}/lib DEBUGLIBS=no

post-extract:
	@@cd ${WRKDIST}/UTIL && mv *.f ${WRKSRC}

post-install:
.for i in BAND COMPLEX NONSYM SIMPLE SVD SYM
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/arpack/$i
	${INSTALL_DATA} ${WRKDIST}/EXAMPLES/$i/* \
		${PREFIX}/share/examples/arpack/$i
.endfor
	${INSTALL_DATA} ${WRKDIST}/EXAMPLES/README \
		${PREFIX}/share/examples/arpack
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/arpack
	${INSTALL_DATA} ${WRKDIST}/DOCUMENTS/* ${PREFIX}/share/doc/arpack
	${INSTALL_DATA} ${WRKDIR}/ug.ps ${PREFIX}/share/doc/arpack
	${INSTALL_DATA} ${FILESDIR}/LICENSE ${PREFIX}/share/doc/arpack

.include <bsd.port.mk>
@


1.14
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/09/01 12:02:27 naddy Exp $
d7 1
a7 1
REVISION=	3
@


1.13
log
@bsd.lib.mk does not build _pic.a libraries any longer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/11/18 11:16:24 espie Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.12
log
@shrink, this lives in bsd.port.mk itself now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/11/19 07:23:10 espie Exp $
d7 1
a7 1
REVISION=	2
@


1.11
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/07 20:33:58 espie Exp $
a25 7

# See bsd.lib.mk:162
.if ${MACHINE_ARCH:Mmips64*}
PKG_ARGS+=	-Dno_mips64=0
.else
PKG_ARGS+=	-Dno_mips64=1
.endif
@


1.10
log
@WANTLIB for math
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/10/23 15:09:57 steven Exp $
d34 3
a36 3
LIB_DEPENDS =	::math/lapack \
		::math/blas
WANTLIB =	lapack.>=1 blas.>=1
@


1.9
log
@replace MODFORTRAN_WANTG77 with MODFORTRAN_COMPILER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/06/12 18:00:13 steven Exp $
d34 3
a36 2
LIB_DEPENDS=	lapack.>=1::math/lapack \
		blas.>=1::math/blas
@


1.8
log
@REVISION
@
text
@d24 1
a24 1
MODFORTRAN_WANTG77=	Yes
@


1.7
log
@pass FC via the environment; will ease use of gfortran later
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/04/14 15:43:23 jasper Exp $
d6 2
a7 1
PKGNAME=	arpack-96p2
@


1.6
log
@BUILD_DEPENDS on Fortran; feedback from steven@@
@
text
@d40 2
a41 1
		SHLIB_MINOR=${LIBarpack_VERSION:E}
@


1.5
log
@- fix build on mips64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/04/05 20:29:18 steven Exp $
d21 4
@


1.4
log
@update with some bugfixes which are included in an extra distfile

from alexandr.shadchin at gmail, with some tweaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/08/05 20:40:46 steven Exp $
d6 1
a6 1
PKGNAME=	arpack-96p1
d21 7
@


1.3
log
@drop maintainership for this stuff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/09/15 18:44:36 steven Exp $
d6 1
a6 1
PKGNAME=	arpack-96p0
d12 1
a12 1
# Rice BSD license (not in distfile)
d19 2
a20 1
DISTFILES=	${DISTNAME}.tar.gz ug.ps.gz
@


1.2
log
@remove quotes from COMMENT/PERMIT*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/10/19 16:19:54 steven Exp $
d6 1
a6 1
PKGNAME=	arpack-96
a10 2

MAINTAINER=	Steven Mestdagh <steven@@openbsd.org>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
COMMENT=	"solve large scale eigenvalue problems"
@


1.1.1.1
log
@import arpack96 library

ARPACK is a collection of Fortran77 subroutines designed to solve large
scale eigenvalue problems.
@
text
@@
