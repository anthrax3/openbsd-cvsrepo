head	1.91;
access;
symbols
	OPENBSD_6_0:1.84.0.2
	OPENBSD_6_0_BASE:1.84
	OPENBSD_5_9:1.77.0.2
	OPENBSD_5_9_BASE:1.77
	OPENBSD_5_8:1.73.0.4
	OPENBSD_5_8_BASE:1.73
	OPENBSD_5_7:1.64.0.2
	OPENBSD_5_7_BASE:1.64
	OPENBSD_5_6:1.62.0.2
	OPENBSD_5_6_BASE:1.62
	OPENBSD_5_5:1.58.0.2
	OPENBSD_5_5_BASE:1.58
	OPENBSD_5_4:1.56.0.2
	OPENBSD_5_4_BASE:1.56
	OPENBSD_5_3:1.54.0.2
	OPENBSD_5_3_BASE:1.54
	OPENBSD_5_2:1.47.0.2
	OPENBSD_5_2_BASE:1.47
	OPENBSD_5_1_BASE:1.45
	OPENBSD_5_1:1.45.0.2
	OPENBSD_5_0:1.42.0.4
	OPENBSD_5_0_BASE:1.42
	OPENBSD_4_9:1.42.0.2
	OPENBSD_4_9_BASE:1.42
	OPENBSD_4_8:1.36.0.2
	OPENBSD_4_8_BASE:1.36
	OPENBSD_4_7:1.34.0.2
	OPENBSD_4_7_BASE:1.34
	OPENBSD_4_6:1.32.0.2
	OPENBSD_4_6_BASE:1.32
	OPENBSD_4_5:1.30.0.2
	OPENBSD_4_5_BASE:1.30
	OPENBSD_4_4:1.28.0.2
	OPENBSD_4_4_BASE:1.28
	OPENBSD_4_3:1.25.0.2
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.20.0.2
	OPENBSD_4_2_BASE:1.20
	OPENBSD_4_1:1.18.0.2
	OPENBSD_4_1_BASE:1.18
	OPENBSD_4_0:1.16.0.2
	OPENBSD_4_0_BASE:1.16
	OPENBSD_3_9:1.14.0.2
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.12.0.4
	OPENBSD_3_8_BASE:1.12
	OPENBSD_3_7:1.12.0.2
	OPENBSD_3_7_BASE:1.12
	OPENBSD_3_6:1.9.0.2
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.7.0.4
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.7.0.2
	OPENBSD_3_4_BASE:1.7
	OPENBSD_3_3:1.6.0.2
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.5.0.4
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.5.0.2
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	ian_2001_03_21:1.1.1.1
	ian:1.1.1;
locks; strict;
comment	@# @;


1.91
date	2017.03.09.10.10.41;	author feinerer;	state Exp;
branches;
next	1.90;
commitid	jCVF51Bz70hfH8py;

1.90
date	2017.03.09.05.18.44;	author feinerer;	state Exp;
branches;
next	1.89;
commitid	Toh6xhmrMKmRvGcA;

1.89
date	2016.11.04.11.35.19;	author sthen;	state Exp;
branches;
next	1.88;
commitid	Gg5LRcnQlqj5M3F7;

1.88
date	2016.11.01.16.55.13;	author feinerer;	state Exp;
branches;
next	1.87;
commitid	KbHauZXMJgIHW2B0;

1.87
date	2016.09.02.13.02.24;	author dcoppa;	state Exp;
branches;
next	1.86;
commitid	36n1b9dLzNOCc0g0;

1.86
date	2016.08.19.13.54.40;	author dcoppa;	state Exp;
branches;
next	1.85;
commitid	YFVSmxf7OR2nOA2U;

1.85
date	2016.08.19.07.02.47;	author dcoppa;	state Exp;
branches;
next	1.84;
commitid	RmU6GJWja8Is3rv5;

1.84
date	2016.06.21.18.21.52;	author feinerer;	state Exp;
branches;
next	1.83;
commitid	IIBU1TiziHZZ1Rqa;

1.83
date	2016.05.06.08.52.28;	author feinerer;	state Exp;
branches;
next	1.82;
commitid	LdhaE2ya6Mzf4BMY;

1.82
date	2016.04.16.10.04.36;	author feinerer;	state Exp;
branches;
next	1.81;
commitid	AgC1jr9qwdpCOjWG;

1.81
date	2016.03.19.11.42.57;	author feinerer;	state Exp;
branches;
next	1.80;
commitid	gpHPuyIA6CnsTF3u;

1.80
date	2016.03.18.23.12.18;	author naddy;	state Exp;
branches;
next	1.79;
commitid	KZAl4KEiw6a3Jixw;

1.79
date	2016.03.11.20.28.27;	author naddy;	state Exp;
branches;
next	1.78;
commitid	UYLP8TE6V7RS2GhJ;

1.78
date	2016.03.01.17.57.06;	author feinerer;	state Exp;
branches;
next	1.77;
commitid	tcDgE7RByAD26Ung;

1.77
date	2015.12.14.16.49.02;	author feinerer;	state Exp;
branches;
next	1.76;
commitid	XPK7TWoEXDFsxGxW;

1.76
date	2015.10.30.12.47.40;	author sthen;	state Exp;
branches;
next	1.75;
commitid	IIzCiS5xiW9Dmxlk;

1.75
date	2015.09.28.07.32.19;	author dcoppa;	state Exp;
branches;
next	1.74;
commitid	E6BJ92Tg3NWqDaxE;

1.74
date	2015.08.17.15.33.04;	author feinerer;	state Exp;
branches;
next	1.73;
commitid	W22H0ZtVFOuY2o1d;

1.73
date	2015.06.26.18.54.47;	author feinerer;	state Exp;
branches;
next	1.72;
commitid	G6eGsdpClkdLuxFt;

1.72
date	2015.06.23.15.14.52;	author feinerer;	state Exp;
branches;
next	1.71;
commitid	LE46fvySfQbFtARE;

1.71
date	2015.05.28.08.09.46;	author pascal;	state Exp;
branches;
next	1.70;
commitid	La83eXMhy8REUV45;

1.70
date	2015.05.02.09.10.04;	author zhuk;	state Exp;
branches;
next	1.69;
commitid	Chq9ZbSlanRtkuGF;

1.69
date	2015.04.29.21.53.43;	author zhuk;	state Exp;
branches;
next	1.68;
commitid	bp8KkM4JqrASCIam;

1.68
date	2015.04.13.10.41.13;	author zhuk;	state Exp;
branches;
next	1.67;
commitid	5twjHl0rbYb2UW9Q;

1.67
date	2015.04.13.07.20.07;	author zhuk;	state Exp;
branches;
next	1.66;
commitid	TMdLt0cvlrn4Uauq;

1.66
date	2015.04.12.18.29.11;	author zhuk;	state Exp;
branches;
next	1.65;
commitid	ds1DJ0TOJtR3bRf1;

1.65
date	2015.03.25.18.09.56;	author dcoppa;	state Exp;
branches;
next	1.64;
commitid	bx7tFY0979Qex4cm;

1.64
date	2015.01.08.14.14.11;	author dcoppa;	state Exp;
branches;
next	1.63;
commitid	a49l1LyhybbFTMD2;

1.63
date	2014.09.02.14.55.37;	author dcoppa;	state Exp;
branches;
next	1.62;
commitid	LyeDPQdptFuD2sHf;

1.62
date	2014.05.20.11.02.12;	author dcoppa;	state Exp;
branches;
next	1.61;

1.61
date	2014.03.24.09.08.46;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2014.03.12.11.04.41;	author dcoppa;	state Exp;
branches;
next	1.59;

1.59
date	2014.03.09.23.01.41;	author espie;	state Exp;
branches;
next	1.58;

1.58
date	2014.01.20.17.09.52;	author edd;	state Exp;
branches;
next	1.57;

1.57
date	2013.11.25.14.16.23;	author sthen;	state Exp;
branches;
next	1.56;

1.56
date	2013.06.03.10.46.45;	author dcoppa;	state Exp;
branches;
next	1.55;

1.55
date	2013.03.11.11.23.54;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2012.10.29.11.07.29;	author dcoppa;	state Exp;
branches;
next	1.53;

1.53
date	2012.10.25.11.59.30;	author dcoppa;	state Exp;
branches;
next	1.52;

1.52
date	2012.10.12.14.23.13;	author jeremy;	state Exp;
branches;
next	1.51;

1.51
date	2012.09.21.08.10.44;	author dcoppa;	state Exp;
branches;
next	1.50;

1.50
date	2012.09.01.14.36.57;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2012.08.29.07.07.24;	author dcoppa;	state Exp;
branches;
next	1.48;

1.48
date	2012.08.13.14.39.11;	author dcoppa;	state Exp;
branches;
next	1.47;

1.47
date	2012.07.04.12.38.05;	author dcoppa;	state Exp;
branches;
next	1.46;

1.46
date	2012.02.17.08.56.21;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2012.01.23.10.34.27;	author dcoppa;	state Exp;
branches;
next	1.44;

1.44
date	2011.11.03.20.28.09;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2011.09.16.10.31.22;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2010.11.19.07.23.10;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2010.11.06.22.06.59;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2010.10.24.21.25.50;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.10.24.15.05.49;	author sthen;	state Exp;
branches;
next	1.38;

1.38
date	2010.10.23.15.09.57;	author steven;	state Exp;
branches;
next	1.37;

1.37
date	2010.10.18.20.52.05;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2010.07.18.10.30.41;	author steven;	state Exp;
branches;
next	1.35;

1.35
date	2010.05.28.21.01.03;	author naddy;	state Exp;
branches;
next	1.34;

1.34
date	2009.09.15.17.37.22;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2009.08.10.06.32.43;	author kili;	state Exp;
branches;
next	1.32;

1.32
date	2009.03.11.21.38.06;	author sthen;	state Exp;
branches;
next	1.31;

1.31
date	2009.03.11.08.21.33;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2008.10.26.23.04.00;	author mbalmer;	state Exp;
branches;
next	1.29;

1.29
date	2008.09.10.20.50.31;	author martynas;	state Exp;
branches;
next	1.28;

1.28
date	2008.07.26.14.59.45;	author martynas;	state Exp;
branches;
next	1.27;

1.27
date	2008.05.15.15.20.17;	author naddy;	state Exp;
branches;
next	1.26;

1.26
date	2008.05.08.01.35.43;	author deanna;	state Exp;
branches;
next	1.25;

1.25
date	2008.02.08.12.58.57;	author mbalmer;	state Exp;
branches;
next	1.24;

1.24
date	2008.01.04.17.48.36;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2007.12.14.15.08.18;	author mbalmer;	state Exp;
branches;
next	1.22;

1.22
date	2007.10.07.17.54.54;	author mbalmer;	state Exp;
branches;
next	1.21;

1.21
date	2007.09.15.18.44.36;	author steven;	state Exp;
branches;
next	1.20;

1.20
date	2007.08.09.22.22.17;	author steven;	state Exp;
branches;
next	1.19;

1.19
date	2007.04.26.20.26.12;	author mbalmer;	state Exp;
branches;
next	1.18;

1.18
date	2007.01.23.12.06.02;	author mbalmer;	state Exp;
branches;
next	1.17;

1.17
date	2006.11.11.18.52.12;	author mbalmer;	state Exp;
branches;
next	1.16;

1.16
date	2006.08.03.20.04.51;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2006.07.07.22.34.47;	author sturm;	state Exp;
branches;
next	1.14;

1.14
date	2006.01.06.17.42.01;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2005.10.08.09.47.36;	author mbalmer;	state Exp;
branches;
next	1.12;

1.12
date	2004.12.27.07.41.44;	author alek;	state Exp;
branches;
next	1.11;

1.11
date	2004.10.11.13.01.05;	author avsm;	state Exp;
branches;
next	1.10;

1.10
date	2004.09.15.09.11.58;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2004.08.08.15.06.23;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2004.04.28.21.40.31;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2003.05.17.04.46.04;	author ian;	state Exp;
branches;
next	1.6;

1.6
date	2002.12.29.19.43.50;	author fgsch;	state Exp;
branches;
next	1.5;

1.5
date	2002.02.06.13.44.37;	author ian;	state Exp;
branches;
next	1.4;

1.4
date	2001.12.09.06.25.32;	author pvalchev;	state Exp;
branches;
next	1.3;

1.3
date	2001.10.14.23.34.23;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.04.05.13.00.21;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.03.22.03.26.23;	author ian;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.03.22.03.26.23;	author ian;	state Exp;
branches;
next	;


desc
@@


1.91
log
@Remove devel/libidn from LIB_DEPENDS.

OK sthen@@
@
text
@# $OpenBSD: Makefile,v 1.90 2017/03/09 05:18:44 feinerer Exp $

COMMENT=	powerful math/statistics/graphics language
DISTNAME=	R-3.3.3

SO_VERSION=	32.0
.for _lib in R Rblas Rlapack
SHARED_LIBS +=	${_lib} ${SO_VERSION}
.endfor

CATEGORIES=	math
HOMEPAGE=	https://www.r-project.org/

MAINTAINER=	Ingo Feinerer <feinerer@@logic.at>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ${MODTK_WANTLIB}
WANTLIB += ICE SM X11 Xext Xmu Xss Xt bz2 c cairo crypto curl glib-2.0
WANTLIB += gobject-2.0 iconv icui18n icuuc intl jpeg lzma m ncurses
WANTLIB += nghttp2 pango-1.0 pangocairo-1.0 pcre png readline ssl tiff z

MASTER_SITES=	https://cran.r-project.org/src/base/R-3/ \
		http://cran.at.r-project.org/src/base/R-3/ \
		http://cran.br.r-project.org/src/base/R-3/ \
		http://cran.ch.r-project.org/src/base/R-3/ \
		http://cran.dk.r-project.org/src/base/R-3/ \
		http://cran.es.r-project.org/src/base/R-3/ \
		http://cran.stat.ucla.edu/src/base/R-3/ \
		http://cran.uk.r-project.org/src/base/R-3/ \
		http://cran.us.r-project.org/src/base/R-3/ \
		http://probability.ca/cran/src/base/R-3/

MODULES=	fortran \
		x11/tk

MODFORTRAN_COMPILER = gfortran

BUILD_DEPENDS=	${MODFORTRAN_BUILD_DEPENDS} \
		archivers/gtar \
		archivers/unzip \
		archivers/zip \
		devel/xdg-utils \
		print/texinfo \
		print/texlive/base>=2014p1

LIB_DEPENDS=	${MODTK_LIB_DEPENDS} \
		archivers/bzip2 \
		archivers/xz \
		devel/glib2 \
		devel/pango \
		graphics/cairo \
		graphics/jpeg \
		graphics/png \
		graphics/tiff \
		net/curl \
		textproc/icu4c

RUN_DEPENDS=	${MODFORTRAN_BUILD_DEPENDS} \
		archivers/gtar \
		archivers/unzip \
		archivers/zip \
		devel/gmake \
		devel/xdg-utils \
		print/texinfo \
		print/texlive/base>=2014p1

CONFIGURE_STYLE=gnu

MODGNU_CONFIG_GUESS_DIRS=${WRKSRC}/tools

CONFIGURE_ARGS= --disable-java \
		--enable-BLAS-shlib \
		--enable-R-shlib \
		--with-tcl-config=${MODTCL_CONFIG} \
		--with-tk-config=${MODTK_CONFIG}

CONFIGURE_ENV=	F77="${MODFORTRAN_COMPILER}" \
		FC="${MODFORTRAN_COMPILER}" \
		FFLAGS="${FFLAGS}" \
		CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -Wl,-R${LOCALBASE}/lib/R/lib" \
		LIBnn=lib \
		MAKEINFO="${LOCALBASE}/bin/gtexi2any" \
		R_DYLIB_VERSION=${SO_VERSION} \
		TEXI2DVI="${LOCALBASE}/bin/gtexi2dvi" \
		rdocdir="${PREFIX}/share/doc/R"

SEPARATE_BUILD=	Yes

USE_GMAKE=	Yes

TEXMFLOCAL=	${PREFIX}/share/texmf-local

post-install:
	mv ${WRKINST}/${LOCALBASE}/lib/R/share/texmf ${TEXMFLOCAL}
	sed -i 's:^R_HOME_DIR=.*:R_HOME_DIR=${TRUEPREFIX}/lib/R:' \
		${PREFIX}/bin/R

.include <bsd.port.mk>
@


1.90
log
@Update to R 3.3.3

OK pirofti@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2016/11/04 11:35:19 sthen Exp $
a51 1
		devel/libidn \
@


1.89
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2016/11/01 16:55:13 feinerer Exp $
d4 1
a4 2
DISTNAME=	R-3.3.2
REVISION=	0
@


1.88
log
@Update to R 3.3.2

ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2016/09/02 13:02:24 dcoppa Exp $
d5 1
d20 4
a23 4
WANTLIB += ICE SM X11 Xext Xmu Xss Xt bz2 c cairo crypto curl
WANTLIB += glib-2.0 gobject-2.0 iconv icui18n icuuc idn intl jpeg
WANTLIB += lzma m ncurses nghttp2 pango-1.0 pangocairo-1.0 pcre
WANTLIB += png readline ssl tiff z ${MODTK_WANTLIB}
@


1.87
log
@
Switch back to the fortran module, now that all the right bits are
in place
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2016/08/19 13:54:40 dcoppa Exp $
d4 1
a4 2
DISTNAME=	R-3.3.1
REVISION=	1
a24 2
		ftp://cran.r-project.org/pub/R/src/base/R-3/ \
		ftp://ftp.u-aizu.ac.jp/pub/lang/R/CRAN/src/base/R-3/ \
d67 1
@


1.86
log
@
Zap bogus "${MODFORTRAN_LIB_DEPENDS}"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2016/08/19 07:02:47 dcoppa Exp $
d5 1
a5 1
REVISION=	0
d38 1
a38 1
MODULES=	gcc4 \
d41 1
a41 2
MODGCC4_ARCHS=	*
MODGCC4_LANGS=	fortran
d43 2
a44 1
BUILD_DEPENDS=	archivers/gtar \
d64 2
a65 1
RUN_DEPENDS=	archivers/gtar \
a69 1
		lang/gcc/4.9,-f95 \
d82 2
a83 2
CONFIGURE_ENV=	F77="${LOCALBASE}/bin/egfortran" \
		FC="${LOCALBASE}/bin/egfortran" \
@


1.85
log
@
Use egfortran by default

OK feinerer@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2016/06/21 18:21:52 feinerer Exp $
d51 1
a51 2
LIB_DEPENDS=	${MODFORTRAN_LIB_DEPENDS} \
		${MODTK_LIB_DEPENDS} \
@


1.84
log
@Update to R 3.3.1

OK dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2016/05/06 08:52:28 feinerer Exp $
d5 1
d70 1
d83 3
a85 1
CONFIGURE_ENV=	FFLAGS="${FFLAGS}" \
@


1.83
log
@Update to R 3.3.0

"Go ahead" pirofti@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2016/04/16 10:04:36 feinerer Exp $
d4 1
a4 1
DISTNAME=	R-3.3.0
@


1.82
log
@Update to R 3.2.5 and eliminate use of devel/gettext module

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2016/03/19 11:42:57 feinerer Exp $
d4 1
a4 1
DISTNAME=	R-3.2.5
d6 1
a6 1
SO_VERSION=	31.2
@


1.81
log
@Update to R 3.2.4

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2016/03/18 23:12:18 naddy Exp $
d4 1
a4 1
DISTNAME=	R-3.2.4
d19 4
a22 6
WANTLIB=	ICE SM X11 Xext Xmu Xss Xt bz2 c crypto curl \
		cairo readline glib-2.0 \
		gobject-2.0 icui18n icuuc idn jpeg lzma m \
		ncurses nghttp2 pango-1.0 pangocairo-1.0 \
		pcre png pthread ssl tiff z \
		${MODTK_WANTLIB}
a37 1
		devel/gettext \
@


1.80
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2016/03/11 20:28:27 naddy Exp $
d4 1
a4 2
DISTNAME=	R-3.2.3
REVISION=	0
@


1.79
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.78 2016/03/01 17:57:06 feinerer Exp $

SHARED_ONLY=	Yes
@


1.78
log
@Fix build after texinfo 6.1 update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2015/12/14 16:49:02 feinerer Exp $
d81 1
a81 2
CONFIGURE_ARGS= ${CONFIGURE_SHARED} \
		--disable-java \
@


1.77
log
@Update to R 3.2.3

Feedback by Rafael Sadowski, ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2015/10/30 12:47:40 sthen Exp $
d7 1
@


1.76
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2015/09/28 07:32:19 dcoppa Exp $
d6 1
a6 2
DISTNAME=	R-3.2.2
REVISION=	1
d8 4
a11 3
SHARED_LIBS=	R	3.1
SHARED_LIBS+=	Rlapack	31.2 	# 31.2
SHARED_LIBS+=	Rblas	31.2 	# 31.2
d14 1
a14 1
HOMEPAGE=	http://www.r-project.org/
d22 1
a22 1
		cairo readline fontconfig freetype glib-2.0 \
d25 1
a25 1
		pangoft2-1.0 pcre png pthread ssl tiff z \
d28 1
a28 1
MASTER_SITES=	http://cran.r-project.org/src/base/R-3/ \
a38 1
		http://lib.stat.cmu.edu/R/CRAN/src/base/R-3/ \
d81 1
d92 1
a94 4

MAKE_FLAGS=	DYLIB_EXT=".so.${LIBR_VERSION}" \
		Rblas_la="libRblas.so.${LIBRblas_VERSION}" \
		Rlapack_la="libRlapack.so.$(LIBRlapack_VERSION)"
@


1.75
log
@
Now that texlive_texmf-buildset contains the inconsolata LaTeX
package, we can build the full documentation for math/R.

While here, regen patches/patch-configure

Suggestions and OK feinerer@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2015/08/17 15:33:04 feinerer Exp $
d7 1
a7 1
REVISION=	0
d24 1
a24 1
		ncurses pango-1.0 pangocairo-1.0 \
@


1.74
log
@Update to R 3.2.2

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2015/06/26 18:54:47 feinerer Exp $
d7 1
d52 3
a54 1
		devel/xdg-utils
d75 1
a75 1
		print/texlive/base
d91 2
a92 1
		ac_cv_path_PDFLATEX="" \
@


1.73
log
@Re-add patches to fix linking with external libintl
(https://marc.info/?l=openbsd-ports&m=143526271406832&w=2)

Noticed by naddy@@, requested by dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2015/06/23 15:14:52 feinerer Exp $
d6 1
a6 2
DISTNAME=	R-3.2.1
REVISION=	0
d52 1
a80 1
		--enable-prebuilt-html \
d103 1
a103 1
	@@perl -i -pe 's:^R_HOME_DIR=.*:R_HOME_DIR=${TRUEPREFIX}/lib/R:' \
@


1.72
log
@Update to R 3.2.1

ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2015/05/28 08:09:46 pascal Exp $
d7 1
@


1.71
log
@Switch over all three ports using lang/gfortran to lang/gcc/x.y,-f95 in
preparation for the 4.9 switch.

discussed with/ok espie@@ pirofti@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2015/05/02 09:10:04 zhuk Exp $
d6 1
a6 2
DISTNAME=	R-3.2.0
REVISION=	1
d21 1
a21 1
		cairo ereadline fontconfig freetype glib-2.0 \
a58 1
		devel/readline \
d85 1
a85 1
		CPPFLAGS="-I${LOCALBASE}/include/ereadline -I${LOCALBASE}/include" \
@


1.70
log
@Unbreak linking to R library (defintion instead of declaration in header file).

Breakage noticed by aja@@. Committing now until (if) MAINTAINER will come
with a better fix.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2015/04/29 21:53:43 zhuk Exp $
d7 1
a7 1
REVISION=	0
d18 1
a18 1
# GPL
d26 1
a26 1
		${MODFORTRAN_WANTLIB} ${MODTK_WANTLIB}
d42 1
a42 1
MODULES=	fortran \
d46 2
a47 1
MODFORTRAN_COMPILER= gfortran
d49 1
a49 2
BUILD_DEPENDS=	${MODFORTRAN_BUILD_DEPENDS} \
		archivers/gtar \
a52 1

@


1.69
log
@Update R to 3.2.0, from Ingo Feinerer (new MAINTAINER).

Includes some input from dcoppa@@, Rafael Sadowski (old MAINTAINER) and me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2015/04/13 10:41:13 zhuk Exp $
d7 1
@


1.68
log
@More patches to be removed; now it's clear that webmail should be blamed
instead of CVS. Webmail, not me, no!

Again, from Ingo Feinerer, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2015/04/13 07:20:07 zhuk Exp $
d6 1
a6 2
DISTNAME=	R-3.1.3
REVISION=	1
d8 1
a8 1
SHARED_LIBS=	R	3.0
d15 1
a15 1
MAINTAINER=	Rafael Sadowski <rafael@@sizeofvoid.org>
d20 3
a22 3
WANTLIB=	ICE SM X11 Xext Xmu Xss Xt bz2 c cairo \
		ereadline fontconfig freetype glib-2.0 \
		gobject-2.0 icui18n icuuc jpeg lzma m \
d24 1
a24 1
		pangoft2-1.0 pcre png pthread tiff z \
a30 1
		http://cran.au.r-project.org/src/base/R-3/ \
a34 1
		http://cran.hu.r-project.org/src/base/R-3/ \
a37 1
		http://cran.za.r-project.org/src/base/R-3/ \
d58 1
d65 1
a82 9
		--with-ICU \
		--with-cairo \
		--with-jpeglib \
		--with-libpng \
		--with-libtiff \
		--with-readline \
		--with-system-bzlib \
		--with-system-pcre \
		--with-system-xz \
a83 1
		--with-tcltk \
a90 1
		ac_cv_path_TAR="${LOCALBASE}/bin/gtar" \
d93 1
a93 4
MAKE_FLAGS=	INSTALL_DATA='install -c -m 644' \
		INSTALL_PROGRAM='install -c -s -m 555' \
		INSTALL_SCRIPT='install -c -m 555' \
		DYLIB_EXT=".so.${LIBR_VERSION}" \
a95 6

FAKE_FLAGS=	PREFIX=${PREFIX} \
		INSTALL="${INSTALL_DATA}" \
		INSTALL_DATA="${INSTALL_DATA}" \
		INSTALL_PROGRAM="${INSTALL_PROGRAM}" \
		INSTALL_SCRIPT="${INSTALL_SCRIPT}"
@


1.67
log
@Actually remove files that should be, err, removed.

Something fishy happened here in CVS, but Ingo Feinerer is on guard! :)

Bump for safety.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2015/04/12 18:29:11 zhuk Exp $
d7 1
a7 1
REVISION=	0
@


1.66
log
@Update R to 3.1.3. Some patches got incorporated or not needed anymore;
hard work done by Ingo Feinerer - thanks!

Input from dcoppa@@, sthen@@ and me.

okay Rafael Sadowski (MAINTAINER).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2015/03/25 18:09:56 dcoppa Exp $
d7 1
@


1.65
log
@
Remove obsolete/useless patch: our sigaltstack() implementation
does the right thing since we switched to rthreads, as confirmed
by miod@@

Spotted by Ingo Feinerer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2015/01/08 14:14:11 dcoppa Exp $
d6 1
a6 2
DISTNAME=	R-3.1.2
REVISION=	0
d101 1
d108 3
a110 3
		LIBR_VERSION=${LIBR_VERSION} \
		LIBRlapack_VERSION=${LIBRlapack_VERSION} \
		LIBRblas_VERSION=${LIBRblas_VERSION}
@


1.64
log
@
Update to R-3.1.2

From maintainer Rafael Sadowski, with some tweaks by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2014/09/02 14:55:37 dcoppa Exp $
d7 1
@


1.63
log
@
Update to R-3.1.1

From maintainer Rafael Sadowski with a patch by zhuk@@ to please
-Wbounded checks.

Also, I patched Makefile.in to not check for java during the build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2014/05/20 11:02:12 dcoppa Exp $
d6 1
a6 1
DISTNAME=	R-3.1.1
d8 1
a8 1
SHARED_LIBS=	R	2.1 	# 2.1
d10 1
a10 1
SHARED_LIBS+=	Rblas	31.1 	# 31.1
d29 1
d34 1
a35 1
		http://cran.dk.r-project.org/src/base/R-3/ \
d37 1
a40 1
		ftp://ftp.u-aizu.ac.jp/pub/lang/R/CRAN/src/base/R-3/ \
a41 1
		http://cran.stat.ucla.edu/src/base/R-3/ \
d55 1
d68 1
d73 2
a74 1
		devel/xdg-utils
d77 1
d79 1
d93 1
a94 1
		--with-tcl-config=${MODTCL_CONFIG} \
d100 3
a102 1
		ac_cv_path_TAR="${LOCALBASE}/bin/gtar"
@


1.62
log
@Update to R-3.1.0.

From maintainer Rafael Sadowski, with tweaks by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2014/03/24 09:08:46 espie Exp $
d6 1
a6 1
DISTNAME=	R-3.1.0
d8 3
a10 3
SHARED_LIBS=	R	2.1 	# 2.0
SHARED_LIBS+=	Rlapack	31.2 	# 31.1
SHARED_LIBS+=	Rblas	31.1 	# 31.0
@


1.61
log
@fix bulk builds: move includes out of the way as well as the library,
so that other ports don't fail randomly when they find gnu-readline.

okay sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/03/12 11:04:41 dcoppa Exp $
d6 1
a6 1
DISTNAME=	R-3.0.3
d8 3
a10 3
SHARED_LIBS=	R	2.0  \
		Rlapack	31.1 \
		Rblas	31.0
d44 4
a47 1
MODULES=	fortran devel/gettext x11/tk
a117 1
	rm -rf ${WRKINST}/${LOCALBASE}/lib/R/share/texmf
@


1.60
log
@
Long overdue update of R to version 3.0.3.
Tests and feedback: Ze Loff and Rafael Sadowski (maintainer)
OK Rafael Sadowski (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/03/09 23:01:41 espie Exp $
d90 2
a91 1
		LDFLAGS="-L${PREFIX}/lib -Wl,-R${PREFIX}/lib/R/lib" \
@


1.59
log
@R would pick up readline if it was around, so let's use it anyways
somehow requires gmake ;(
(problem found by me, patch from maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/01/20 17:09:52 edd Exp $
d6 1
a6 2
DISTNAME=	R-2.15.3
REVISION= 	1
d8 2
a9 2
SHARED_LIBS=	R	1.1  \
		Rlapack	31.0 \
d21 22
a42 21
		fontconfig freetype glib-2.0 gobject-2.0 \
		icui18n icuuc jpeg lzma m ncurses pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pcre png readline \
		tiff z ${MODFORTRAN_WANTLIB} ${MODTK_WANTLIB}

MASTER_SITES=	http://cran.r-project.org/src/base/R-2/ \
		ftp://cran.r-project.org/pub/R/src/base/R-2/ \
		http://cran.at.r-project.org/src/base/R-2/ \
		http://cran.au.r-project.org/src/base/R-2/ \
		http://cran.br.r-project.org/src/base/R-2/ \
		http://cran.ch.r-project.org/src/base/R-2/ \
		http://cran.es.r-project.org/src/base/R-2/ \
		http://cran.dk.r-project.org/src/base/R-2/ \
		http://cran.hu.r-project.org/src/base/R-2/ \
		http://cran.uk.r-project.org/src/base/R-2/ \
		http://cran.us.r-project.org/src/base/R-2/ \
		http://cran.za.r-project.org/src/base/R-2/ \
		ftp://ftp.u-aizu.ac.jp/pub/lang/R/CRAN/src/base/R-2/ \
		http://lib.stat.cmu.edu/R/CRAN/src/base/R-2/ \
		http://cran.stat.ucla.edu/src/base/R-2/ \
		http://probability.ca/cran/src/base/R-2/
d48 4
a51 1
		${RUN_DEPENDS}
a55 2
		graphics/cairo \
		graphics/jpeg \
d59 2
d67 1
d73 2
a75 2
		--enable-R-shlib \
		--enable-BLAS-shlib \
a76 2
		--with-readline \
		--with-tcltk \
d81 1
a81 1
		--with-system-zlib \
d84 2
d110 1
a110 2

TEXMFLOCAL = ${PREFIX}/share/texmf-local
a112 1
	${INSTALL_DATA_DIR} ${TEXMFLOCAL}
@


1.58
log
@R should install TeX macros in TEXMFLOCAL not TEXMFMAIN.

From Rafael Sadowski (maintainer), with a few tweaks from me (missing hashing, sort PLIST).

OK naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/11/25 14:16:23 sthen Exp $
d7 1
a7 1
REVISION= 	0
d57 1
d103 3
@


1.57
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/06/03 10:46:45 dcoppa Exp $
d7 1
d103 2
d106 3
@


1.56
log
@Bugfix update to R-2.15.3.

Until someone understand what is wrong with R-3.0.x and we can move
to the R-3 branch...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/03/11 11:23:54 espie Exp $
a100 2

VMEM_WARNING=	Yes
@


1.55
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/10/29 11:07:29 dcoppa Exp $
d6 1
a6 1
DISTNAME=	R-2.15.2
d8 1
a8 1
SHARED_LIBS=	R	1.0  \
d20 5
a24 7
WANTLIB=	GL ICE SM X11 Xext Xmu Xrender Xss Xt \
		bz2 c cairo expat fontconfig freetype glib-2.0 \
		gobject-2.0 icui18n icuuc jpeg lzma m ncurses \
		pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre \
		pixman-1 png pthread-stubs readline tiff \
		xcb xcb-render xcb-shm z \
		${MODFORTRAN_WANTLIB} ${MODTK_WANTLIB}
d60 2
@


1.54
log
@Update to R-2.15.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/10/25 11:59:30 dcoppa Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.53
log
@Remove pthread patching.
I'm doing this now to ease an upcoming update to R-2.15.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/10/12 14:23:13 jeremy Exp $
d6 1
a6 2
DISTNAME=	R-2.15.1
REVISION=	5
d8 3
a10 3
SHARED_LIBS=	R	0.0  \
		Rlapack	30.0 \
		Rblas	30.0
d27 2
a28 2
		pixman-1 png pthread pthread-stubs readline \
		tiff xcb xcb-render xcb-shm z \
d49 1
a49 1
MODFORTRAN_COMPILER= g77
d79 1
@


1.52
log
@Link libR and other libraries with RPATH in the ELF header, so that
other libraries can link to them with RPATH and work correctly
without modifying the ld.so search path.

OK dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/09/21 08:10:44 dcoppa Exp $
d7 1
a7 1
REVISION=	4
@


1.51
log
@Fix hidden dependency on icu4c, needed for Unicode collation.

Spotted by David Hoskin <root (at) davidrhoskin (dot) com>, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/09/01 14:36:57 ajacoutot Exp $
d7 1
a7 1
REVISION=	3
d87 1
@


1.50
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/08/29 07:07:24 dcoppa Exp $
d7 1
a7 1
REVISION=	2
d26 5
a30 5
		gobject-2.0 jpeg lzma m ncurses pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png \
		pthread pthread-stubs readline tiff xcb \
		xcb-render xcb-shm z ${MODFORTRAN_WANTLIB} \
		${MODTK_WANTLIB}
d63 2
a64 1
		graphics/tiff
d74 1
@


1.49
log
@Better fix for the ppc breakage.

Tested by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/08/13 14:39:11 dcoppa Exp $
d7 1
a7 1
REVISION=	1
@


1.48
log
@Add "CFLAGS+=-fPIC": unbreak the build on ppc.

Breakage reported by, and ok, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2012/07/04 12:38:05 dcoppa Exp $
d7 1
a7 1
REVISION=	0
a98 2

CFLAGS+=	-fPIC
@


1.47
log
@Update to R-2.15.1.

Initial diff by Rafael Sadowski.
Patch to allow building with USE_SYSTRACE=Yes by lum@@.
Tested by Amit Kulkarni, Benjamin Nadland and Stefan Unterweger.

Portswise OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/02/17 08:56:21 ajacoutot Exp $
d7 1
d99 2
@


1.46
log
@Fix build with pcre >= 8.30
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/01/23 10:34:27 dcoppa Exp $
d5 2
a6 5
COMMENT=	clone of S, a powerful math/statistics/graphics language
DISTNAME=	R-2.8.1
REVISION=	8
SHARED_LIBS=	Rlapack 29.0 \
		Rblas	29.0
d8 5
a12 1
CATEGORIES=    	math
d15 2
d23 1
a23 1
WANTLIB= 	GL ICE SM X11 Xext Xmu Xrender Xss Xt \
d25 5
a29 4
		gmodule-2.0 gobject-2.0 gthread-2.0 jpeg m ncurses pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread \
		pthread-stubs readline tiff xcb xcb-render xcb-shm z \
		${MODFORTRAN_WANTLIB} ${MODTK_WANTLIB}
d32 8
d42 5
a46 1
		http://cran.dk.r-project.org/src/base/R-2/
d49 1
a49 1
MODFORTRAN_COMPILER = g77
d51 2
a52 1
BUILD_DEPENDS=	${MODFORTRAN_BUILD_DEPENDS}
d56 1
d63 2
d68 12
a79 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-readline --with-tcltk \
d81 4
a84 3
		--with-tk-config=${MODTK_CONFIG} \
		--with-system-zlib --with-system-bzlib --with-system-pcre
CONFIGURE_ENV=	FFLAGS="${FFLAGS}"
d86 1
a86 2
MAKE_FLAGS=	INSTALL='install -c' \
		INSTALL_DATA='install -c -m 644' \
d89 1
a92 1
DESTDIRNAME=	DESTDIR
d94 8
a101 1
		LIBRlapack_VERSION=${LIBRlapack_VERSION}
@


1.45
log
@Fix runtime errors caused by pthread undefined symbols, as reported
here:

http://marc.info/?l=openbsd-ports&m=132196919327917

While here:

fix libpthread linkage (-lpthread -> -pthread)

fix incorrect usage of the "--export-dynamic" linker flag (it's
'-Wl,--export-dynamic', not '-Wl,-export-dynamic')

fix warning "failed to set alternate signal stack"

zap USE_GROFF

Ok ajacoutot@@
OP is happy too...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/11/03 20:28:09 jasper Exp $
d7 1
a7 1
REVISION=	7
@


1.44
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/09/16 10:31:22 espie Exp $
d7 1
a7 1
REVISION=	6
d23 2
a24 2
		pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png  pthread-stubs \
		readline tiff xcb xcb-render xcb-shm z \
a31 1
USE_GROFF=	Yes
@


1.43
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/11/19 07:23:10 espie Exp $
d7 1
a7 1
REVISION=	5
d20 2
a21 2
WANTLIB= 	GL ICE SM X11 Xau Xdamage Xdmcp Xext Xfixes Xmu Xrender Xss Xt \
		Xxf86vm bz2 c cairo drm expat fontconfig freetype glib-2.0 \
@


1.42
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/11/06 22:06:59 espie Exp $
d7 1
a7 1
REVISION=	4
@


1.41
log
@tk/tcl wantlib conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/10/24 21:25:50 ajacoutot Exp $
d39 7
a45 7
		::archivers/bzip2 \
		::graphics/cairo \
		::graphics/jpeg \
		::devel/glib2 \
		::devel/pango \
		::graphics/png \
		::graphics/tiff
@


1.40
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/10/24 15:05:49 sthen Exp $
d25 1
a25 1
		${MODFORTRAN_WANTLIB}
@


1.39
log
@Fix LIB_DEPENDS (remove bogus dep on glitz), move to new-style LIB_DEPENDS.
From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/10/23 15:09:57 steven Exp $
a31 1
USE_X11=	Yes
@


1.38
log
@replace MODFORTRAN_WANTG77 with MODFORTRAN_COMPILER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/07/18 10:30:41 steven Exp $
d7 1
a7 1
REVISION=	3
d20 5
a24 3
WANTLIB= 	ICE SM X11 Xau Xdmcp Xext Xmu Xrender Xss Xt c expat \
		fontconfig freetype m ncurses pixman-1 pthread-stubs \
		readline xcb xcb-render xcb-render-util z \
d33 1
a33 1
USE_GROFF =	Yes
d40 7
a46 9
		bz2::archivers/bzip2 \
		cairo::graphics/cairo \
		jpeg.>=60::graphics/jpeg \
		glitz::graphics/glitz \
		glib-2.0,gmodule-2.0,gobject-2.0,gthread-2.0::devel/glib2 \
		pango-1.0,pangocairo-1.0,pangoft2-1.0::devel/pango \
		pcre:pcre->=4:devel/pcre \
		png::graphics/png \
		tiff::graphics/tiff
d69 1
a69 1
	perl -i -pe 's:^R_HOME_DIR=.*:R_HOME_DIR=${TRUEPREFIX}/lib/R:' \
@


1.37
log
@USE_GROFF=Yes
@
text
@d33 1
a33 1
MODFORTRAN_WANTG77=Yes
@


1.36
log
@REVISION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/09/15 17:37:22 jasper Exp $
d31 1
@


1.35
log
@use fortran module
@
text
@d7 1
a7 1
PKGNAME=	${DISTNAME}p3
@


1.34
log
@remove marc balmer as maintainer of all of his ports, to take away the
illusion marc still maintains them. as requested by himself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/08/10 06:32:43 kili Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
d21 3
a23 2
		fontconfig freetype g2c m ncurses pixman-1 pthread-stubs \
		readline xcb z
d31 6
a36 2
MODULES=	devel/gettext x11/tk
LIB_DEPENDS=	${MODTK_LIB_DEPENDS} \
d41 1
a41 1
		gmodule-2.0,gobject-2.0,glib-2.0::devel/glib2 \
@


1.33
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/03/11 21:38:06 sthen Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
a12 2

MAINTAINER=	Marc Balmer <mbalmer@@openbsd.org>
@


1.32
log
@bump following tk dep changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/03/11 08:21:33 sthen Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d23 2
a24 1
		fontconfig freetype g2c m ncurses pixman-1 readline z
@


1.31
log
@update R to 2.8.1, use Tcl/Tk MODULEs, add optional dependencies to
LIB_DEPENDS (autoconf picks them up if installed sometimes resulting
in bad packages), sync WANTLIB.  ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/10/26 23:04:00 mbalmer Exp $
d7 1
@


1.30
log
@Update R to version 2.8.0.  Diff from Daniel Dickman <didickman@@gmail.com>
with some tweaks from me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2008/09/10 20:50:31 martynas Exp $
d6 3
a8 3
DISTNAME=	R-2.8.0
SHARED_LIBS=	Rlapack 28.0 \
		Rblas	28.0
d20 3
a22 1
WANTLIB=		ICE SM X11 Xt c g2c m ncurses readline tcl84 Xmu z
d30 2
a31 3
MODULES=	devel/gettext
LIB_DEPENDS=	jpeg.>=62::graphics/jpeg \
		tk84.>=1:tk-8.4.*:x11/tk/8.4 \
d33 8
a40 1
		pcre:pcre->=4:devel/pcre
d46 2
a47 2
		--with-tcl-config=${LOCALBASE}/lib/tcl8.4/tclConfig.sh \
		--with-tk-config=${LOCALBASE}/lib/tk8.4/tkConfig.sh \
d55 2
a56 1
		LIBRlapack_VERSION=${LIBRlapack_VERSION}
@


1.29
log
@don't round to double-precision anymore, since libc got extended-precision
functions now.  ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2008/07/26 14:59:45 martynas Exp $
d6 3
a8 4
DISTNAME=	R-2.6.2
PKGNAME=	${DISTNAME}p3
SHARED_LIBS=	Rlapack 26.2 \
		Rblas	26.2
@


1.28
log
@we don't yet have extended-precision version of isfinite, this is
what will be added post-release
for now __isinf will do, relying on the ieee 754 fact that long
infinity assigned to double infinity will be infinity
XXX: remove post-release
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2008/05/15 15:20:17 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.27
log
@bump package because the description changed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2008/05/08 01:35:43 deanna Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.26
log
@Use Tcl/Tk 8.4 even if 8.5 is available.  Fixes packaging errors
spotted by naddy@@.

Ok naddy@@, mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/02/08 12:58:57 mbalmer Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
@


1.25
log
@Maintenance update to R 2.6.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/01/04 17:48:36 espie Exp $
d7 1
d39 2
@


1.24
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/12/14 15:08:18 mbalmer Exp $
d6 3
a8 3
DISTNAME=	R-2.6.1
SHARED_LIBS=	Rlapack 26.1 \
		Rblas	26.1
@


1.23
log
@Update R to version 2.6.1 and use zlib, bzlip, pcre from the ports tree
instead of building a built-in version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/10/07 17:54:54 mbalmer Exp $
d47 2
a48 1
FAKE_FLAGS=	PREFIX=${PREFIX} DESTDIR=${WRKINST} \
@


1.22
log
@Update to R-2.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2007/09/15 18:44:36 steven Exp $
d6 3
a8 3
DISTNAME=	R-2.6.0
SHARED_LIBS=	Rlapack 26.0 \
		Rblas	26.0
d20 1
a20 1
WANTLIB=		ICE SM X11 Xt c g2c m ncurses readline tcl84 Xmu
d30 3
a32 1
		tk84.>=1:tk-8.4.*:x11/tk/8.4
d38 1
a38 1
		--with-zlib --with-bzlib --with-pcre
@


1.21
log
@remove quotes from COMMENT/PERMIT*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2007/08/09 22:22:17 steven Exp $
d6 3
a8 4
DISTNAME=	R-2.5.0
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	Rlapack 25.0 \
		Rblas	25.0
d32 1
a32 1
CONFIGURE_STYLE=gnu dest
@


1.20
log
@link correctly against libintl, and adapt MODULES. update patches while here.

ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/04/26 20:26:12 mbalmer Exp $
d5 1
a5 1
COMMENT=	"clone of S, a powerful math/statistics/graphics language"
@


1.19
log
@R-2.5.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/01/23 12:06:02 mbalmer Exp $
d7 1
d29 1
a29 1
#MODULES=	devel/gettext
@


1.18
log
@Update to R-2.4.1.  See http://cran.r-project.org/src/base/NEWS for a detailed
list of all changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/11/11 18:52:12 mbalmer Exp $
d6 3
a8 3
DISTNAME=	R-2.4.1
SHARED_LIBS=	Rlapack 24.0 \
		Rblas	24.1
d20 1
a20 1
WANTLIB=		ICE SM X11 Xt c g2c m ncurses readline tcl84
d28 1
a28 1
MODULES=	devel/gettext
@


1.17
log
@Update to R 2.4.0, a clone of S.  Written in C.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/08/03 20:04:51 espie Exp $
d6 1
a6 1
DISTNAME=	R-2.4.0
d8 1
a8 1
		Rblas	24.0
@


1.16
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/07/07 22:34:47 sturm Exp $
d6 4
a9 3
DISTNAME=	R-2.1.1
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	Rlapack 21.1
d20 1
a20 1
WANTLIB=		ICE SM X11 c g2c m ncurses readline tcl84 z
d29 1
a29 3
LIB_DEPENDS=	bz2.>=10::archivers/bzip2 \
		jpeg.>=62::graphics/jpeg \
		pcre::devel/pcre \
@


1.15
log
@fix tcl/tk dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/01/06 17:42:01 steven Exp $
d28 4
a31 4
LIB_DEPENDS=	bz2.10::archivers/bzip2 \
		jpeg.62::graphics/jpeg \
		pcre.0::devel/pcre \
		tk84.1:tk-8.4.*:x11/tk/8.4
@


1.14
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2005/10/08 09:47:36 mbalmer Exp $
d7 1
d19 1
a19 1
WANTLIB=		ICE SM X11 c g2c m ncurses readline z
d31 1
a31 2
		tcl84.1::lang/tcl/8.4 \
		tk84.1::x11/tk/8.4
@


1.13
log
@Update to version 2.1.1 and take maintainership.

For more information, see release information on
http://www.r-project.org/

with help from bernd@@ and ok robert@@,bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/12/27 07:41:44 alek Exp $
d7 1
d43 2
a44 1
		INSTALL_SCRIPT='install -c -m 555'
d46 2
a47 1
FAKE_FLAGS=	PREFIX=${PREFIX} DESTDIR=${WRKINST}
@


1.12
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/10/11 13:01:05 avsm Exp $
d6 1
a6 1
DISTNAME=	R-1.9.1
d10 2
d19 4
a22 5
MASTER_SITES=	http://cran.r-project.org/src/base/R-1/ \
		http://cran.uk.r-project.org/src/base/R-1/ \
		http://cran.us.r-project.org/src/base/R-1/ \
		http://cran.dk.r-project.org/src/base/R-1/
EXTRACT_SUFX=	.tgz
d25 1
d28 3
a30 2
		png.2::graphics/png \
		pcre.0::devel/pcre
d35 1
a35 1
		--with-readline --without-tcltk \
@


1.11
log
@new distfile location
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/09/15 09:11:58 espie Exp $
d15 1
@


1.10
log
@new style PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/08/08 15:06:23 naddy Exp $
d16 4
a19 4
MASTER_SITES=	http://cran.r-project.org/src/base/ \
		http://cran.uk.r-project.org/src/base/ \
		http://cran.us.r-project.org/src/base/ \
		http://cran.dk.r-project.org/src/base/
@


1.9
log
@update to 1.9.1; from Chris Kuethe <ckuethe@@ualberta.ca>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/04/28 21:40:31 naddy Exp $
d3 1
a3 1
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
@


1.8
log
@Update to 1.9.0.
Revised from a submission by Chris Kuethe <ckuethe@@ualberta.ca>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2003/05/17 04:46:04 ian Exp $
d6 1
a6 1
DISTNAME=	R-1.9.0
@


1.7
log
@Mark BROKEN: all versions seem to be broken on ELF.
Upgrade to 1.7.0. Suggested by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/12/29 19:43:50 fgsch Exp $
d3 1
a3 1
# R, a clone of the S-Plus (based on AT&T S) statistical package 
d6 3
a8 2
DISTNAME=		R-1.7.0
CATEGORIES=     	math
d10 1
a10 7
HOMEPAGE=		http://www.r-project.org/

MAINTAINER=		Ian Darwin <ian@@openbsd.org>

BROKEN=		Problems with dynamic loading

# Licensing:  GPL
d16 25
a40 22
MASTER_SITES=		http://cran.r-project.org/src/base/ \
			http://cran.uk.r-project.org/src/base/ \
			http://cran.us.r-project.org/src/base/ \
			http://cran.dk.r-project.org/src/base/
EXTRACT_SUFX=		.tgz

FAKE_FLAGS=PREFIX=${PREFIX} DESTDIR=${WRKINST}

MAKE_ENV+=		CC=${CC} CXX=${CXX} SUDO=${SUDO}
USE_X11=		Yes
CONFIGURE_STYLE=	gnu dest
CONFIGURE_ARGS+=	--with-readline
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
#CONFIGURE_ENV+=		LDFLAGS="-Wl,-E"
MODGNU_CONFIG_GUESS_DIRS=${WRKSRC} ${WRKSRC}/tools

FLAVOR?=
.if ${FLAVOR:L:Mno-x11}
CONFGURE_ARGS+=--without-x
.else
LIB_DEPENDS+=	jpeg.62::graphics/jpeg png.2::graphics/png
.endif
d43 2
a44 3
	cd ${PREFIX}/bin && \
		sed -e "s@@^R_HOME_DIR=.*@@R_HOME_DIR=${TRUEPREFIX}/lib/R@@" R > R.new && \
		rm -f R && ${INSTALL_PROGRAM} R.new R
@


1.6
log
@byebye NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/02/06 13:44:37 ian Exp $
d6 1
a6 1
DISTNAME=		R-1.4.1
d13 2
a26 2
LIB_DEPENDS=	jpeg.62::graphics/jpeg png.2::graphics/png

d29 1
a29 1
MAKE_ENV+=		SUDO=${SUDO}
d34 1
d36 7
@


1.5
log
@Update R to 1.4.1, removing patches that are now incorporated into R
and a few which are not really needed due to autoconfig.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/12/09 06:25:32 pvalchev Exp $
a7 1
NEED_VERSION=		1.359
@


1.4
log
@fix MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/10/14 23:34:23 espie Exp $
d6 1
a6 1
DISTNAME=		R-1.2.2
@


1.3
log
@Hidden dependencies...
R detects and uses jpeg and png.

Probably will be flavored after unfreeze. Right now, we want
dependable builds.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/04/05 13:00:21 espie Exp $
d35 1
@


1.2
log
@Misc. minor fixes:

COMMENTS don't end with .
HOMEPAGE is there for a reason.
Only bsd.port.mk uses tabspaces set to 4.
pre-package does not run as root, post-install does.
copying files is not good enough to make them executable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/03/22 03:26:23 ian Exp $
d25 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
d21 3
a23 3
					http://cran.uk.r-project.org/src/base/ \
					http://cran.us.r-project.org/src/base/ \
					http://cran.dk.r-project.org/src/base/
d34 4
a37 4
pre-package:
	cd ${WRKINST}${PREFIX}/bin && \
		sed -e "s@@^R_HOME_DIR=.*@@R_HOME_DIR=${PREFIX}/lib/R@@" R > R.new && \
		cp R.new R && rm R.new
@


1.1.1.1
log
@Initial import of "R" math/stats/graphics package
@
text
@@
