head	1.9;
access;
symbols
	OPENBSD_5_8:1.8.0.4
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.2.0.6
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.4
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2015.12.14.16.49.02;	author feinerer;	state dead;
branches;
next	1.8;
commitid	XPK7TWoEXDFsxGxW;

1.8
date	2015.06.23.15.14.52;	author feinerer;	state Exp;
branches;
next	1.7;
commitid	LE46fvySfQbFtARE;

1.7
date	2015.05.02.09.22.58;	author zhuk;	state Exp;
branches;
next	1.6;
commitid	3wJjFP7EgdzEOGUG;

1.6
date	2015.04.12.18.29.11;	author zhuk;	state Exp;
branches;
next	1.5;
commitid	ds1DJ0TOJtR3bRf1;

1.5
date	2014.09.02.14.55.37;	author dcoppa;	state Exp;
branches;
next	1.4;
commitid	LyeDPQdptFuD2sHf;

1.4
date	2014.05.20.11.02.12;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2014.03.12.11.04.41;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2012.10.29.11.07.29;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2012.07.04.12.38.05;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Update to R 3.2.3

Feedback by Rafael Sadowski, ok dcoppa@@
@
text
@$OpenBSD: patch-Makefile_in,v 1.8 2015/06/23 15:14:52 feinerer Exp $

--- Makefile.in.orig	Thu Mar 19 02:02:06 2015
+++ Makefile.in	Sat May  2 11:47:48 2015
@@@@ -82,8 +82,6 @@@@ vignettes: stamp-recommended
 ## This needs packages built, hence 'R' dependence on 'javaconf'
 ## javareconf gets remade often.
 stamp-java : etc/javaconf $(srcdir)/src/scripts/javareconf.in
-	@@$(ECHO) "configuring Java ..."
-	@@-bin/R CMD javareconf
 	@@touch stamp-java
 
 javaconf: R
@


1.8
log
@Update to R 3.2.1

ok dcoppa@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.7 2015/05/02 09:22:58 zhuk Exp $
@


1.7
log
@Sync patches, doesn't affect package.
@
text
@d1 1
a1 3
$OpenBSD: patch-Makefile_in,v 1.6 2015/04/12 18:29:11 zhuk Exp $

Do not build PDF versions of the R manuals
@


1.6
log
@Update R to 3.1.3. Some patches got incorporated or not needed anymore;
hard work done by Ingo Feinerer - thanks!

Input from dcoppa@@, sthen@@ and me.

okay Rafael Sadowski (MAINTAINER).
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.5 2014/09/02 14:55:37 dcoppa Exp $
d5 3
a7 3
--- Makefile.in.orig	Wed May 21 00:15:03 2014
+++ Makefile.in	Tue Sep  2 16:24:02 2014
@@@@ -80,8 +80,6 @@@@ vignettes: stamp-recommended
@


1.5
log
@
Update to R-3.1.1

From maintainer Rafael Sadowski with a patch by zhuk@@ to please
-Wbounded checks.

Also, I patched Makefile.in to not check for java during the build.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.4 2014/05/20 11:02:12 dcoppa Exp $
a15 23
@@@@ -121,7 +119,7 @@@@ svnonly:
 	  fi \
 	fi
 
-@@WANT_R_STATIC_FALSE@@libR_la = libR$(DYLIB_EXT)
+@@WANT_R_STATIC_FALSE@@libR_la = libR.so.$(LIBR_VERSION)
 @@WANT_R_STATIC_TRUE@@libR_la = libR.a
 install-libR:
 	@@if test -f lib$(R_ARCH)/$(libR_la); then $(MAKE) install-libR-exists; fi
@@@@ -216,13 +214,6 @@@@ distdir: $(DISTFILES) vignettes
 	  cp library/$${d}/doc/*.pdf $(distdir)/src/library/$${d}/inst/doc; \
 	done
 	@@(cd $(distdir); tools/link-recommended)
-
-info pdf:
-	-@@(cd doc && $(MAKE) $@@)
-install-info install-pdf:
-	-@@(cd doc/manual && $(MAKE) $@@)
-uninstall-info uninstall-pdf:
-	-@@(cd doc/manual && $(MAKE) $@@)
 
 install-tests:
 	-@@(cd tests && $(MAKE) $@@)
@


1.4
log
@Update to R-3.1.0.

From maintainer Rafael Sadowski, with tweaks by me.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.3 2014/03/12 11:04:41 dcoppa Exp $
d5 12
a16 3
--- Makefile.in.orig	Thu Mar 13 00:02:06 2014
+++ Makefile.in	Tue May 20 10:42:46 2014
@@@@ -121,7 +121,7 @@@@ svnonly:
d20 3
a22 2
-libR_la = lib/libR$(DYLIB_EXT)
+libR_la = lib/libR.so.$(LIBR_VERSION)
d24 2
a25 3
 	@@if test -f $(libR_la); then $(MAKE) install-libR-exists; fi
 install-libR-exists:
@@@@ -213,13 +213,6 @@@@ distdir: $(DISTFILES) vignettes
@


1.3
log
@
Long overdue update of R to version 3.0.3.
Tests and feedback: Ze Loff and Rafael Sadowski (maintainer)
OK Rafael Sadowski (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.2 2012/10/29 11:07:29 dcoppa Exp $
d5 2
a6 11
--- Makefile.in.orig	Tue Sep 10 00:05:05 2013
+++ Makefile.in	Tue Feb  4 09:15:53 2014
@@@@ -95,7 +95,7 @@@@ install install-strip: installdirs svnonly
 	@@for f in $(INSTFILES); do \
 	  $(INSTALL_DATA) $(srcdir)/$${f} "$(DESTDIR)$(rhome)"; \
 	done
-	@@for f in NEWS NEWS.pdf $(NON_SVN_INSTFILES); do \
+	@@for f in NEWS $(NON_SVN_INSTFILES); do \
 	  $(INSTALL_DATA) $${f} "$(DESTDIR)$(rhome)"; \
 	done
 @@WANT_R_FRAMEWORK_TRUE@@		$(MAKE) -f $(srcdir)/Makefile.fw top_srcdir=$(top_srcdir) $@@
d16 2
a17 39
@@@@ -133,13 +133,13 @@@@ installdirs:
 uninstall:
 	@@(for d in $(SUBDIRS); do rsd="$${d} $${rsd}"; done; \
 	  for d in $${rsd}; do (cd $${d} && $(MAKE) $@@); done)
-	@@for f in NEWS NEWS.pdf $(INSTFILES) $(NON_SVN_INSTFILES); do \
+	@@for f in NEWS  $(INSTFILES) $(NON_SVN_INSTFILES); do \
 	  rm -f "$(DESTDIR)$(rhome)/$${f}"; \
 	done
 	@@rm -rf "$(DESTDIR)$(Rexecbindir)" "$(DESTDIR)$(rhome)/lib"
 	@@rmdir "$(DESTDIR)$(rhome)" 2>/dev/null \
           || $(ECHO) "  dir $(DESTDIR)$(rhome) not removed"
-	@@rm -f "$(DESTDIR)${libdir}/libR$(DYLIB_EXT)"
+	@@rm -f "$(DESTDIR)${libdir}/libR.so.$(LIBR_VERSION)"
 
 mostlyclean: clean
 clean:
@@@@ -154,7 +154,7 @@@@ distclean: clean
 	@@rm -f po/Makefile
 	-@@rm -rf bin include lib library modules gnome
 	@@if test -f non-tarball ; then \
-	  rm -f $(NON_SVN_INSTFILES) NEWS NEWS.pdf non-tarball doc/FAQ doc/RESOURCES doc/html/resources.html doc/html/NEWS.html; \
+	  rm -f $(NON_SVN_INSTFILES) NEWS non-tarball doc/FAQ doc/RESOURCES doc/html/resources.html doc/html/NEWS.html; \
 	fi
 	@@if test "$(BUILDDIR_IS_SRCDIR)" = no ; then \
 	  rm -f $(NON_SVN_INSTFILES); \
@@@@ -192,7 +192,7 @@@@ distdir: $(DISTFILES) vignettes
 	    || ln $(srcdir)/$${f} $(distdir)/$${f} 2>/dev/null \
 	    || cp -p $(srcdir)/$${f} $(distdir)/$${f}; \
 	done
-	@@for f in NEWS NEWS.pdf $(NON_SVN_INSTFILES) ; do \
+	@@for f in NEWS  $(NON_SVN_INSTFILES) ; do \
 	  cp -p $${f} $(distdir)/$${f}; \
 	done
 	@@for d in $(SUBDIRS); do \
@@@@ -210,16 +210,8 @@@@ distdir: $(DISTFILES) vignettes
 	done
 	@@for d in grid parallel utils; do \
 	  mkdir -p $(distdir)/src/library/$${d}/inst/doc; \
-	  cp library/$${d}/doc/*.pdf $(distdir)/src/library/$${d}/inst/doc; \
@


1.2
log
@Update to R-2.15.2
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.1 2012/07/04 12:38:05 dcoppa Exp $
d5 3
a7 3
--- Makefile.in.orig	Sun Aug  5 00:05:10 2012
+++ Makefile.in	Fri Oct 26 10:05:44 2012
@@@@ -85,7 +85,7 @@@@ install install-strip: installdirs svnonly
d16 1
a16 1
@@@@ -107,7 +107,7 @@@@ svnonly:
d25 1
a25 1
@@@@ -119,13 +119,13 @@@@ installdirs:
d41 2
a42 2
@@@@ -139,7 +139,7 @@@@ distclean: clean
 	  for d in $${rsd}; do (cd $${d} && $(MAKE) $@@); done)
d50 1
a50 1
@@@@ -176,7 +176,7 @@@@ distdir: $(DISTFILES) vignettes
d59 1
a59 1
@@@@ -194,16 +194,8 @@@@ distdir: $(DISTFILES) vignettes
@


1.1
log
@Update to R-2.15.1.

Initial diff by Rafael Sadowski.
Patch to allow building with USE_SYSTRACE=Yes by lum@@.
Tested by Amit Kulkarni, Benjamin Nadland and Stefan Unterweger.

Portswise OK sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- Makefile.in.orig	Mon Oct  3 00:02:39 2011
+++ Makefile.in	Thu Jun 28 12:57:12 2012
@@@@ -90,7 +90,7 @@@@ install install-strip: installdirs svnonly
d16 1
a16 1
@@@@ -112,7 +112,7 @@@@ svnonly:
d25 1
a25 1
@@@@ -124,13 +124,13 @@@@ installdirs:
d41 1
a41 1
@@@@ -144,7 +144,7 @@@@ distclean: clean
d50 1
a50 1
@@@@ -181,7 +181,7 @@@@ distdir: $(DISTFILES) vignettes
d59 1
a59 1
@@@@ -199,16 +199,8 @@@@ distdir: $(DISTFILES) vignettes
@

