head	1.37;
access;
symbols
	OPENBSD_6_2:1.37.0.2
	OPENBSD_6_2_BASE:1.37
	OPENBSD_6_1:1.36.0.2
	OPENBSD_6_1_BASE:1.36
	OPENBSD_6_0:1.35.0.2
	OPENBSD_6_0_BASE:1.35
	OPENBSD_5_9:1.33.0.2
	OPENBSD_5_9_BASE:1.33
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.29.0.6
	OPENBSD_5_7_BASE:1.29
	OPENBSD_5_6:1.29.0.4
	OPENBSD_5_6_BASE:1.29
	OPENBSD_5_5:1.29.0.2
	OPENBSD_5_5_BASE:1.29
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.27.0.2
	OPENBSD_5_3_BASE:1.27
	OPENBSD_5_2:1.24.0.2
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.2
	OPENBSD_5_0:1.16.0.4
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.13.0.2
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.11.0.2
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.8.0.2
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.7.0.4
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.5.0.12
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.10
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.8
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.5.0.6
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.5.0.4
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.2
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.1.1.1.0.2
	OPENBSD_3_4_BASE:1.1.1.1
	cannings_20030320:1.1.1.1
	pvalchev:1.1.1;
locks; strict;
comment	@# @;


1.37
date	2017.06.02.10.13.25;	author feinerer;	state Exp;
branches;
next	1.36;
commitid	szYq9qPfs4c8wUEh;

1.36
date	2016.12.21.14.16.30;	author feinerer;	state Exp;
branches;
next	1.35;
commitid	nPp13mkOj1FOm1Ko;

1.35
date	2016.05.21.17.31.23;	author feinerer;	state Exp;
branches;
next	1.34;
commitid	k0wtJpLzJRDTiNW3;

1.34
date	2016.04.10.10.26.50;	author feinerer;	state Exp;
branches;
next	1.33;
commitid	YWPSx4vrOldHSoea;

1.33
date	2015.11.11.21.10.17;	author feinerer;	state Exp;
branches;
next	1.32;
commitid	VytbwXVtivWeH6qr;

1.32
date	2015.09.20.06.50.26;	author feinerer;	state Exp;
branches;
next	1.31;
commitid	SXbfSVteeD57hpgV;

1.31
date	2015.06.16.05.04.43;	author feinerer;	state Exp;
branches;
next	1.30;
commitid	wouSUGAqB3lXidZP;

1.30
date	2015.05.05.17.00.18;	author sthen;	state Exp;
branches;
next	1.29;
commitid	ukCYGVBlglFzny8e;

1.29
date	2014.01.01.20.46.28;	author naddy;	state Exp;
branches;
next	1.28;

1.28
date	2013.03.11.11.23.55;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.26;

1.26
date	2013.01.04.14.05.41;	author edd;	state Exp;
branches;
next	1.25;

1.25
date	2012.10.15.15.18.32;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2012.05.10.11.13.34;	author edd;	state Exp;
branches;
next	1.23;

1.23
date	2012.01.23.09.28.33;	author edd;	state Exp;
branches;
next	1.22;

1.22
date	2012.01.04.16.14.42;	author edd;	state Exp;
branches;
next	1.21;

1.21
date	2011.11.23.19.20.15;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2011.11.22.11.36.55;	author edd;	state Exp;
branches;
next	1.19;

1.19
date	2011.11.15.13.02.58;	author shadchin;	state Exp;
branches;
next	1.18;

1.18
date	2011.11.14.21.35.35;	author edd;	state Exp;
branches;
next	1.17;

1.17
date	2011.11.14.20.48.43;	author edd;	state Exp;
branches;
next	1.16;

1.16
date	2010.12.04.14.37.19;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.19.07.23.10;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.18.20.52.06;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.07.26.16.48.25;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2010.07.18.10.50.12;	author steven;	state Exp;
branches;
next	1.11;

1.11
date	2009.09.21.22.42.32;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2009.06.17.23.27.49;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2009.03.16.11.20.16;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2008.08.20.20.36.45;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2007.11.25.14.56.09;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.15.18.44.36;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2005.02.25.14.31.50;	author alek;	state Exp;
branches;
next	1.4;

1.4
date	2004.12.30.12.06.22;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2004.06.26.07.35.07;	author xsa;	state Exp;
branches;
next	1.2;

1.2
date	2003.12.27.23.31.39;	author jose;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.31.04.33.59;	author pvalchev;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.03.31.04.33.59;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.37
log
@Update to Maxima 5.40.0

OK pirofti@@
@
text
@# $OpenBSD: Makefile,v 1.36 2016/12/21 14:16:30 feinerer Exp $

COMMENT=		GPL computer algebra system based on DOE Macsyma

VERSION=		5.40.0
DISTNAME=		maxima-${VERSION}
CATEGORIES=		math

HOMEPAGE=		http://maxima.sourceforge.net/
MAINTAINER=		Ingo Feinerer <feinerer@@logic.at>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c ecl ffi gc gmp m pthread

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=maxima/}

USE_GMAKE=		yes

# Python is not needed for building but configure fails without it.
# Instead of patching just add the lang/python dependency.
# http://sourceforge.net/p/maxima/mailman/message/34462954/
MODULES =		lang/python
MODPY_RUNDEP =		No

BUILD_DEPENDS =		print/texinfo
LIB_DEPENDS=		lang/ecl
RUN_DEPENDS =		devel/desktop-file-utils \
			misc/rlwrap \
			misc/shared-mime-info

SUBST_VARS=		VERSION

MAKE_FLAGS =		MAKEINFO="${LOCALBASE}/bin/gtexi2any" \
			TEXI2DVI="${LOCALBASE}/bin/gtexi2dvi"

CONFIGURE_ARGS+=	--enable-ecl
CONFIGURE_STYLE=	gnu

FLAVORS=		no_x11
FLAVOR?=

.if !${FLAVOR:Mno_x11}
MODULES+=		x11/tk
RUN_DEPENDS +=		${MODTK_RUN_DEPENDS} \
			math/gnuplot
BUILD_DEPENDS +=	${MODTK_BUILD_DEPENDS}
CONFIGURE_ARGS +=	--with-wish=${MODTK_BIN}
.endif

.include <bsd.port.mk>
@


1.36
log
@Update to Maxima 5.39.0

OK pirofti@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2016/05/21 17:31:23 feinerer Exp $
d5 1
a5 1
VERSION=		5.39.0
d29 2
a30 1
RUN_DEPENDS =		misc/rlwrap \
@


1.35
log
@Update to Maxima 5.38.1

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2016/04/10 10:26:50 feinerer Exp $
d5 1
a5 1
VERSION=		5.38.1
d27 1
d33 3
@


1.34
log
@Update to Maxima 5.38.0

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/11/11 21:10:17 feinerer Exp $
d5 1
a5 1
VERSION=		5.38.0
@


1.33
log
@Update to Maxima 5.37.3

"go ahead" pirofti@@, OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/09/20 06:50:26 feinerer Exp $
d5 1
a5 1
VERSION=		5.37.3
d28 2
a29 1
RUN_DEPENDS =		misc/rlwrap
@


1.32
log
@Update to Maxima 5.37.2

OK daniel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/06/16 05:04:43 feinerer Exp $
d5 1
a5 1
VERSION=		5.37.2
@


1.31
log
@Update to Maxima 5.36.1, take MAINTAINER

OK edd@@ (old MAINTAINER), pirofti@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/05/05 17:00:18 sthen Exp $
d5 1
a5 1
VERSION=		5.36.1
d21 6
d42 1
a42 1
BUILD_DEPENDS +=	${MODTK_RUN_DEPENDS}
@


1.30
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/01/01 20:46:28 naddy Exp $
d5 1
a5 1
VERSION=		5.29.1
a7 1
REVISION=		0
d10 1
a10 1
MAINTAINER =		Edd Barrett <edd@@openbsd.org>
a38 3

pre-configure:
	${SUBST_CMD} ${WRKSRC}/configure
@


1.29
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/03/11 11:23:55 espie Exp $
d8 1
d16 2
a23 1
WANTLIB +=		c gc gmp m pthread ecl
@


1.28
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/02/09 14:49:51 sthen Exp $
a26 1
USE_GROFF =		Yes
@


1.27
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/01/04 14:05:41 edd Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.26
log
@update to maxima-5.29.1

OK shadchin@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/10/15 15:18:32 sthen Exp $
d35 1
a35 1
.if !${FLAVOR:L:Mno_x11}
@


1.25
log
@zap trailing whitespace in files where it's present on PERMIT_* lines
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/05/10 11:13:34 edd Exp $
d5 1
a5 1
VERSION=		5.27.0
@


1.24
log
@Update to maxima-5.27.0. OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/01/23 09:28:33 edd Exp $
d13 2
a14 2
PERMIT_PACKAGE_CDROM=	Yes 
PERMIT_PACKAGE_FTP=	Yes 
d16 1
a16 1
PERMIT_DISTFILES_FTP=	Yes 
@


1.23
log
@Update to maxima-5.26.0

OK dcoppa@@, shadchin@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/01/04 16:14:42 edd Exp $
d5 1
a5 1
VERSION=		5.26.0
@


1.22
log
@Maxima bugfix:
Plot surface when it is part of the frontier of the region.
http://sourceforge.net/tracker/index.php?func=detail&aid=3459556&group_id=4933&atid=104933

reads OK, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/11/23 19:20:15 naddy Exp $
d5 1
a5 2
VERSION=		5.25.1
REVISION =		3
@


1.21
log
@MAINTAINER change requires a bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/11/22 11:36:55 edd Exp $
d6 1
a6 1
REVISION =		2
@


1.20
log
@As discussed with espie@@, I don't mind taking MAINTAINER on the maxima related stuff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/11/15 13:02:58 shadchin Exp $
d6 1
a6 1
REVISION =		1
@


1.19
log
@Fix RUN_DEPENDS

ok edd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/11/14 21:35:35 edd Exp $
d11 1
@


1.18
log
@Only depend upon gnuplot if x11 is enabled (as noted by shadchin@@).

This was supposed to be part of my previous commit, so OK shadchin@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/11/14 20:48:43 edd Exp $
d6 1
a6 1
REVISION =		0
a35 1
RUN_DEPENDS =		math/gnuplot
d37 2
a38 1
RUN_DEPENDS+=		${MODTK_RUN_DEPENDS}
@


1.17
log
@Update to maxima-5.25.1. OK stu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/12/04 14:37:19 espie Exp $
d6 1
d23 1
a23 2
RUN_DEPENDS =		math/gnuplot \
			misc/rlwrap
d36 1
@


1.16
log
@update so it builds with new ecl. passes most regression.
(requires a chunk of Makefile.in out, otherwise, will whine for automake)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/11/19 07:23:10 espie Exp $
d5 1
a5 1
VERSION=		5.22.1
d22 2
a35 1
MODTK_VERSION=		8.4
d38 2
a39 2
BUILD_DEPENDS=		${RUN_DEPENDS}
CONFIGURE_ARGS+=	--with-wish=${MODTCL_BIN}
d42 2
@


1.15
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/10/18 20:52:06 espie Exp $
d5 1
a5 1
VERSION=		5.16.1
a6 1
REVISION=		3
d40 1
@


1.14
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/07/26 16:48:25 ajacoutot Exp $
d22 1
a22 1
LIB_DEPENDS=		::lang/ecl
d29 1
a29 1
USE_GROFF =	Yes
@


1.13
log
@No need to use MODGCC4 on powerpc anymore, from Brad.
While here, move to new DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/07/18 10:50:12 steven Exp $
d29 1
@


1.12
log
@REVISION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/06/17 23:27:49 sthen Exp $
d7 1
a7 1
REVISION=		2
d22 2
a23 2
LIB_DEPENDS=		ecl::lang/ecl
WANTLIB +=		c gc gmp m pthread
a28 4

MODULES+=	gcc4
MODGCC4_ARCHES=	powerpc
MODGCC4_LANGS=	c
@


1.11
log
@powerpc needs gcc4 to build this.
@
text
@d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.10
log
@ecl should be LIB_DEPENDS; adjust & bump. while there, convert to tk.port.mk.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/03/16 11:20:16 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
a20 1
CONFIGURE_STYLE=	gnu
d27 7
a36 1
CONFIGURE_ARGS+=	--enable-ecl
d39 1
a39 1
MODULES=		x11/tk
@


1.9
log
@fix deps (checked with new ecl)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/08/20 20:36:45 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d12 1
a12 1
# GPL
d23 1
a23 2
RUN_DEPENDS=		::lang/ecl
BUILD_DEPENDS=		::lang/ecl
d33 3
a35 3
USE_X11=		Yes
RUN_DEPENDS+= 		:tcl->=8.4,<8.5:lang/tcl/8.4 \
			:tk->=8.4,<8.5:x11/tk/8.4 
d37 1
a37 1
CONFIGURE_ARGS+=	--with-wish=${LOCALBASE}/bin/wish8.4
@


1.8
log
@update to 5.16.1.
Most useful change is that this does now build with ecl.

Thus it should build on !i386. Most arches untested yet, but ecl
is vastly more portable.

(discussed with jasper and pvalchev)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/11/25 14:56:09 jasper Exp $
d7 1
d35 2
a36 2
RUN_DEPENDS+= 		:tcl-8.4.*:lang/tcl/8.4 \
			:tk-8.4.*:x11/tk/8.4 
@


1.7
log
@- update maxima to 5.13.0

from pedro martelletto with some tweaks by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/09/15 18:44:36 steven Exp $
d5 1
a5 1
VERSION=		5.13.0
d22 3
a24 3
RUN_DEPENDS=		:clisp->=2.42:lang/clisp 
BUILD_DEPENDS=		${RUN_DEPENDS}
WANTLIB +=		c m ncurses readline sigsegv
d31 1
a31 1
CONFIGURE_ARGS+=	--enable-clisp 
@


1.6
log
@remove quotes from COMMENT/PERMIT*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/02/25 14:31:50 alek Exp $
d5 1
a5 1
VERSION=		5.9.0
a6 1
PKGNAME=		maxima-${VERSION}p1
d19 1
d22 1
a22 1
RUN_DEPENDS=		:clisp-*:lang/clisp 
d24 1
@


1.5
log
@- Adjust *DEPENDS
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/12/30 12:06:22 espie Exp $
d3 1
a3 1
COMMENT=		"GPL computer algebra system based on DOE Macsyma"
@


1.4
log
@repair some dependency paths.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/06/26 07:35:07 xsa Exp $
d7 1
a7 1
PKGNAME=		maxima-${VERSION}p0
d33 3
a35 2
LIB_DEPENDS+= 		tcl84:tcl-8.4.*:lang/tcl/8.4 \
			tk84:tk-8.4.*:x11/tk/8.4 
@


1.3
log
@
set BUILD_DEPENDS= ${RUN_DEPENDS} not the opposite .. for obvious
reasons... okay pvalchev@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/12/27 23:31:39 jose Exp $
d7 1
d33 2
a34 2
LIB_DEPENDS+= 		tcl84::lang/tcl/8.4 \
			tk84::x11/tk/8.4 
@


1.2
log
@
update to tcl/tk 8.4
ok brad@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/03/31 04:33:59 pvalchev Exp $
d21 2
a22 2
BUILD_DEPENDS=		:clisp-*:lang/clisp 
RUN_DEPENDS=		${BUILD_DEPENDS}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d32 3
a34 3
LIB_DEPENDS+= 		tcl83.1.3::lang/tcl/8.3 \
			tk83.1.3::x11/tk/8.3 
CONFIGURE_ARGS+=	--with-wish=${LOCALBASE}/bin/wish8.3
@


1.1.1.1
log
@Initial import of maxima-5.9.0

Maxima is a descendant of DOE Macsyma, which had its origins in the
late 1960s at MIT. It is the only system based on that effort still
publicly available and with an active user community, thanks to its
open source nature. Macsyma was the first of a new breed of computer
algebra systems, leading the way for programs such as Maple and
Mathematica. Maxima itself is reasonably feature complete at this
stage, with abilities such as symbolic integration, 3D plotting, and
an ODE solver, but there is a lot of work yet to be done in terms of
bug fixing, cleanup, and documentation.

WWW: http://maxima.sourceforge.net/

Submitted by rich@@cannings.org with minor tweaks by me
@
text
@@
