head	1.12;
access;
symbols
	OPENBSD_6_1:1.12.0.4
	OPENBSD_6_1_BASE:1.12
	OPENBSD_6_0:1.12.0.2
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.11.0.2
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.10.0.6
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.10.0.2
	OPENBSD_5_7_BASE:1.10
	OPENBSD_5_6:1.9.0.12
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.9.0.10
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.9.0.8
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.9.0.6
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.9.0.4
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.2
	OPENBSD_5_0:1.8.0.4
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.7.0.10
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.8
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.6
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.4
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.2
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.6.0.4
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.6.0.2
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.4.0.4
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.3.0.2
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.2.0.4
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.2
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.1.1.1.0.4
	OPENBSD_3_5_BASE:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.2
	OPENBSD_3_4_BASE:1.1.1.1
	sturm_2003-Aug-14:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2016.03.11.18.13.19;	author naddy;	state Exp;
branches;
next	1.11;
commitid	Mg9tFa8Hyu6kCvoX;

1.11
date	2015.09.24.04.33.06;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	myzfsw3zF1Bkv2Kk;

1.10
date	2015.01.17.05.06.12;	author jeremy;	state Exp;
branches;
next	1.9;
commitid	a1dznqDpRxTMWnTB;

1.9
date	2011.11.15.19.13.39;	author jeremy;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.03.18.09.01;	author jeremy;	state Exp;
branches;
next	1.7;

1.7
date	2008.03.22.11.44.42;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2007.08.01.09.21.06;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2007.01.18.10.56.27;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2005.12.27.12.36.50;	author aanriot;	state Exp;
branches;
next	1.3;

1.3
date	2005.05.11.19.18.18;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2004.06.13.05.22.37;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2003.08.14.18.24.30;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.08.14.18.24.30;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.12
log
@remove NO_SHARED_LIBS
@
text
@$OpenBSD: patch-gtk_makefile,v 1.11 2015/09/24 04:33:06 ajacoutot Exp $

Drop `-pedantic'
/usr/local/include/gtk-3.0/gdk/gdktypes.h:318: error: comma at end of enumerator list

--- gtk/makefile.orig	Thu Nov 27 21:47:24 2014
+++ gtk/makefile	Fri Mar 11 18:05:48 2016
@@@@ -6,15 +6,8 @@@@
 # Builds for GTK+ 2 and no longer supports GTK+ 1.
 # Also works with ming32-make on Windows.
 
-.SUFFIXES: .cxx .c .o .h .a
-ifdef CLANG
-CXX = clang++ -Wno-deprecated-register
-CC = clang
-# Can choose aspect to sanitize: address and undefined can simply change SANITIZE but for
-# thread also need to create Position Independent Executable -> search online documentation
-SANITIZE = address
-#SANITIZE = undefined
-endif
+.SUFFIXES: .cxx .c .o .h .a .so
+AR = ar
 RANLIB = touch
 
 ifdef GTK3
@@@@ -36,17 +29,20 @@@@ DEL = del /q
 COMPLIB=..\bin\scintilla.a
 else
 DEL = rm -f
-COMPLIB=../bin/scintilla.a
+COMPLIB=../bin/libscintilla.a
+LEXERLIB=../bin/libscintilla_lexers.a
+SHAREDLIB=../bin/libscintilla.so.${LIBscintilla_VERSION}
+SHAREDLEXER=../bin/libscintilla_lexers.so.${LIBscintilla_lexers_VERSION}
 endif
 
 vpath %.h ../src ../include ../lexlib
 vpath %.cxx ../src ../lexlib ../lexers
 
-INCLUDEDIRS=-I ../include -I ../src -I ../lexlib
+INCLUDEDIRS=-I ../include -I ../src -I ../lexlib  -I${LOCALBASE}/include
 ifdef CHECK_DEPRECATED
 DEPRECATED=-DGDK_PIXBUF_DISABLE_DEPRECATED -DGDK_DISABLE_DEPRECATED -DGTK_DISABLE_DEPRECATED -DDISABLE_GDK_FONT
 endif
-CXXBASEFLAGS=-Wall -pedantic -DGTK -DSCI_LEXER $(INCLUDEDIRS) $(DEPRECATED)
+CXXBASEFLAGS=-Wall -DGTK -DSCI_LEXER -Dunix $(INCLUDEDIRS) $(DEPRECATED)
 
 ifdef NOTHREADS
 THREADFLAGS=-DG_THREADS_IMPL_NONE
@@@@ -65,24 +61,35 @@@@ else
 CTFLAGS=-DDEBUG -g $(CXXBASEFLAGS) $(THREADFLAGS)
 endif
 else
-CTFLAGS=-DNDEBUG -Os $(CXXBASEFLAGS) $(THREADFLAGS)
+CTFLAGS+=-DNDEBUG $(CXXBASEFLAGS) $(THREADFLAGS)
 endif
 
 CFLAGS:=$(CTFLAGS)
-CXXTFLAGS:=--std=c++0x $(CTFLAGS) $(REFLAGS)
+CXXTFLAGS:=$(CTFLAGS) $(REFLAGS)
 
 CONFIGFLAGS:=$(shell pkg-config --cflags $(GTKVERSION))
 MARSHALLER=scintilla-marshal.o
 
 .cxx.o:
 	$(CXX) $(CONFIGFLAGS) $(CXXTFLAGS) $(CXXFLAGS) -c $<
+.cxx.so:
+	$(CXX) -fPIC $(CONFIGFLAGS) $(CXXTFLAGS) $(CXXFLAGS) -o $@@ -c $<
 .c.o:
 	$(CC) $(CONFIGFLAGS) $(CFLAGS) -w -c $<
+.c.so:
+	$(CC) -fPIC $(CONFIGFLAGS) $(CFLAGS) -w -o $@@ -c $<
+ 
 
 LEXOBJS:=$(addsuffix .o,$(basename $(notdir $(wildcard ../lexers/Lex*.cxx))))
 
-all: $(COMPLIB)
+all: $(COMPLIB) $(SHAREDLIB) $(LEXERLIB) $(SHAREDLEXER)
 
+install:
+	mkdir -p ${PREFIX}/include/scintilla
+	install -m 444 ../include/*.h ${PREFIX}/include/scintilla
+	install -m 444 ${COMPLIB} ${LEXERLIB} ${PREFIX}/lib
+	install -m 444 ${SHAREDLIB} ${SHAREDLEXER} ${PREFIX}/lib
+
 clean:
 	$(DEL) *.o $(COMPLIB) *.plist
 
@@@@ -92,15 +99,26 @@@@ analyze:
 deps:
 	$(CXX) -MM $(CONFIGFLAGS) $(CXXTFLAGS) *.cxx ../src/*.cxx ../lexlib/*.cxx ../lexers/*.cxx | sed -e 's/\/usr.* //' | grep [a-zA-Z] >deps.mak
 
-$(COMPLIB): Accessor.o CharacterSet.o LexerBase.o LexerModule.o LexerSimple.o StyleContext.o WordList.o \
+LIBOBJS = Accessor.o CharacterSet.o LexerBase.o LexerModule.o LexerSimple.o StyleContext.o WordList.o \
 	CharClassify.o Decoration.o Document.o PerLine.o Catalogue.o CallTip.o CaseConvert.o CaseFolder.o \
 	ScintillaBase.o ContractionState.o EditModel.o Editor.o EditView.o ExternalLexer.o MarginView.o \
 	PropSetSimple.o PlatGTK.o \
 	KeyMap.o LineMarker.o PositionCache.o ScintillaGTK.o CellBuffer.o CharacterCategory.o ViewStyle.o \
 	RESearch.o RunStyles.o Selection.o Style.o Indicator.o AutoComplete.o UniConversion.o XPM.o \
 	$(MARSHALLER) $(LEXOBJS)
+
+$(COMPLIB): $(LIBOBJS)
 	$(AR) rc $@@ $^
 	$(RANLIB) $@@
+
+$(LEXERLIB): $(LEXOBJS)
+	$(AR) rc $@@ $^
+	$(RANLIB) $@@
+
+$(SHAREDLIB): $(addsuffix .so,$(basename $(LIBOBJS)))
+	$(CXX) -shared -fPIC -o $@@ -Wl,-soname,$(notdir $(SHAREDLIB)) $^
+$(SHAREDLEXER): $(addsuffix .so,$(basename $(LEXOBJS)))
+	$(CXX) -shared -fPIC -o $@@ -Wl,-soname,$(notdir $(SHAREDLEXER)) $^
 
 # Automatically generate header dependencies with "make deps"
 include deps.mak
@


1.11
log
@Drop `-pedantic' for the time being; it will break when we upgrade to the
new gtk+3.
@
text
@d1 1
a1 1
$OpenBSD: patch-gtk_makefile,v 1.10 2015/01/17 05:06:12 jeremy Exp $
d7 1
a7 1
+++ gtk/makefile	Thu Sep 24 06:30:19 2015
d50 1
a50 1
@@@@ -65,24 +61,48 @@@@ else
d78 1
a78 8
+ifeq (${NO_SHARED_LIBS},"yes")
+all: static
+else
+all: static shared
+endif
+ 
+static: $(COMPLIB) $(LEXERLIB)
+shared: $(SHAREDLIB) $(SHAREDLEXER)
d80 1
a80 1
+install: install-shared
a83 5
+
+ifeq (${NO_SHARED_LIBS},"yes")
+install-shared:
+else
+install-shared:
a84 1
+endif
d89 1
a89 1
@@@@ -92,15 +112,26 @@@@ analyze:
@


1.10
log
@Update to scintilla/scite 3.5.2

Drop MAINTAINER as I rarely use SciTE anymore.

Diff mostly from Michael Warmuth-Uhl <michael.warmuth-uhl@@suljee.de>,
small changes by me.
@
text
@d1 5
a5 1
$OpenBSD: patch-gtk_makefile,v 1.9 2011/11/15 19:13:39 jeremy Exp $
d7 1
a7 1
+++ gtk/makefile	Mon Dec 22 23:52:04 2014
d26 1
a26 1
@@@@ -36,17 +29,20 @@@@
d46 1
a46 1
+CXXBASEFLAGS=-Wall -pedantic -DGTK -DSCI_LEXER -Dunix $(INCLUDEDIRS) $(DEPRECATED)
d50 1
a50 1
@@@@ -65,24 +61,48 @@@@
d102 1
a102 1
@@@@ -92,15 +112,26 @@@@
@


1.9
log
@Update to 3.0.0, switch to GTK+3 now that scintilla supports it. Since
libscintilla no longer links directly against GTK, switch from
LIB_DEPENDS to BUILD_DEPENDS (for includes) and RUN_DEPENDS (since
anything linking against scintilla also needs to link against GTK+3),
thanks to ajacoutot@@ for pointing that out.  Respect CC environment
variable when building.

OK ajacoutot@@ on an earlier version
@
text
@d1 4
a4 4
$OpenBSD: patch-gtk_makefile,v 1.8 2010/10/03 18:09:01 jeremy Exp $
--- gtk/makefile.orig	Mon Aug  1 04:49:04 2011
+++ gtk/makefile	Tue Nov 15 19:33:22 2011
@@@@ -6,14 +6,7 @@@@
d10 1
d12 4
a15 4
-CCOMP = clang
-else
-CC = g++
-CCOMP = gcc
d18 1
a18 1
 AR = ar
d21 2
a22 1
@@@@ -36,17 +29,20 @@@@ DEL = del /q
d37 1
a37 1
+INCLUDEDIRS=-I ../include -I ../src -I ../lexlib -I${LOCALBASE}/include
d41 2
a42 2
-CXXBASEFLAGS=-Wall -Wno-missing-braces -Wno-char-subscripts -Wno-long-long -pedantic -DGTK -DSCI_LEXER $(INCLUDEDIRS) $(DEPRECATED)
+CXXBASEFLAGS=-Wall -Wno-missing-braces -Wno-char-subscripts -Wno-long-long -pedantic -DGTK -DSCI_LEXER -Dunix $(INCLUDEDIRS) $(DEPRECATED)
d46 3
a48 3
@@@@ -57,7 +53,7 @@@@ endif
 ifdef DEBUG
 CXXFLAGS=-DDEBUG -g $(CXXBASEFLAGS) $(THREADFLAGS)
d50 2
a51 2
-CXXFLAGS=-DNDEBUG -Os $(CXXBASEFLAGS) $(THREADFLAGS)
+CXXFLAGS+=-DNDEBUG $(CXXBASEFLAGS) $(THREADFLAGS)
d54 5
a58 2
 CFLAGS:=$(CXXFLAGS)
@@@@ -66,28 +62,62 @@@@ CONFIGFLAGS:=$(shell pkg-config --cflags $(GTKVERSION)
d62 1
a62 2
-	$(CC) $(CONFIGFLAGS) $(CXXFLAGS) -c $<
+	$(CXX) $(CONFIGFLAGS) $(CXXFLAGS) -c $<
d64 1
a64 1
+	$(CXX) -fPIC $(CONFIGFLAGS) $(CXXFLAGS) -o $@@ -c $<
d66 1
a66 2
-	$(CCOMP) $(CONFIGFLAGS) $(CFLAGS) -w -c $<
+	$(CC) $(CONFIGFLAGS) $(CFLAGS) -w -c $<
d69 1
d79 1
a79 1
 
d82 1
a82 1
+
d96 1
a96 1
 	$(DEL) *.o $(COMPLIB)
d98 1
d100 1
a100 2
-	$(CC) -MM $(CONFIGFLAGS) $(CXXFLAGS) *.cxx ../src/*.cxx | sed -e 's/\/usr.* //' | grep [a-zA-Z] >deps.mak
+	$(CXX) -MM $(CONFIGFLAGS) $(CXXFLAGS) *.cxx ../src/*.cxx | sed -e 's/\/usr.* //' | grep [a-zA-Z] >deps.mak
d104 4
a107 3
 	CharClassify.o Decoration.o Document.o PerLine.o Catalogue.o CallTip.o \
 	ScintillaBase.o ContractionState.o Editor.o ExternalLexer.o PropSetSimple.o PlatGTK.o \
 	KeyMap.o LineMarker.o PositionCache.o ScintillaGTK.o CellBuffer.o ViewStyle.o \
@


1.8
log
@Fairly simple version update, lots of new features, see
http://www.scintilla.org/ScintillaHistory.html.

OK landry@@
@
text
@d1 4
a4 4
$OpenBSD$
--- gtk/makefile.orig	Tue Aug 17 20:03:30 2010
+++ gtk/makefile	Sat Oct  2 20:04:57 2010
@@@@ -6,7 +6,7 @@@@
d9 7
d17 2
a18 6
 ifdef CLANG
 CC = clang
 CCOMP = clang
@@@@ -23,14 +23,17 @@@@ RANLIB = ranlib
 endif
 endif
d20 4
d29 1
d35 4
a38 2
+INCLUDEDIRS=-I ../include -I ../src -I ../lexlib -I /usr/local/include
 #~ DEPRECATED=-DGDK_PIXBUF_DISABLE_DEPRECATED -DGDK_DISABLE_DEPRECATED -DGTK_DISABLE_DEPRECATED -DDISABLE_GDK_FONT
d44 1
a44 1
@@@@ -41,35 +44,70 @@@@ endif
d52 2
a53 1
 CONFIGFLAGS:=$(shell pkg-config --cflags gtk+-2.0)
d62 2
a63 1
 	$(CCOMP) $(CONFIGFLAGS) $(CXXFLAGS) -w -c $<
d65 1
a65 1
+	$(CCOMP) -fPIC $(CONFIGFLAGS) $(CXXFLAGS) -w -o $@@ -c $<
d92 1
a92 1
 	rm -f *.o $(COMPLIB)
a108 1
+
@


1.7
log
@update to 1.76

from Jeremy Evans (maintainer)
@
text
@d1 6
a6 6
$OpenBSD: patch-gtk_makefile,v 1.6 2007/08/01 09:21:06 steven Exp $
--- gtk/makefile.orig	Fri Jan 18 23:18:13 2008
+++ gtk/makefile	Sat Mar 22 12:30:08 2008
@@@@ -7,7 +7,7 @@@@
 # To force GTK+ 2 build, define GTK2 on the make command line.
 # To force GTK+ 1 build, define GTK1 on the make command line.
d10 5
a14 5
 CC = g++
 CCOMP = gcc
 AR = ar
@@@@ -17,13 +17,16 @@@@ ifeq ($(shell uname),Darwin)
 RANLIB = ranlib
d23 2
a24 2
 vpath %.h ../src ../include
 vpath %.cxx ../src
d26 5
a30 4
-INCLUDEDIRS=-I ../include -I ../src
-CXXBASEFLAGS=-Wall -Wno-missing-braces -Wno-char-subscripts -pedantic -Os -DGTK -DSCI_LEXER $(INCLUDEDIRS)
+INCLUDEDIRS=-I ../include -I ../src -I /usr/local/include
+CXXBASEFLAGS=-Wall -Wno-missing-braces -Wno-char-subscripts -pedantic -DGTK -DSCI_LEXER -Dunix $(INCLUDEDIRS)
d34 1
a34 1
@@@@ -34,7 +37,7 @@@@ endif
d42 2
a43 3
 # If explicit setting of GTK1 or GTK2 then use that else look for
@@@@ -56,9 +59,13 @@@@ endif
 endif
d55 1
a55 5
 #++Autogenerated -- run src/LexGen.py to regenerate
 #**LEXOBJS=\\\n\(\*.o \)
@@@@ -75,22 +82,52 @@@@ LexRuby.o LexScriptol.o LexSmalltalk.o LexSpecman.o Le
 LexTADS3.o LexTCL.o LexTeX.o LexVB.o LexVerilog.o LexVHDL.o LexYAML.o
 #--Autogenerated -- end of automatically generated section
d86 4
a89 4
-$(COMPLIB): DocumentAccessor.o WindowAccessor.o KeyWords.o StyleContext.o \
+LIBOBJS = DocumentAccessor.o WindowAccessor.o KeyWords.o StyleContext.o \
 	CharClassify.o Decoration.o Document.o CallTip.o \
 	ScintillaBase.o ContractionState.o Editor.o ExternalLexer.o PropSet.o PlatGTK.o \
d91 1
a91 1
 	RESearch.o RunStyles.o Style.o Indicator.o AutoComplete.o UniConversion.o XPM.o \
d97 1
@


1.6
log
@update to 1.74
remove strc*/sprintf patches

from maintainer Jeremy Evans <openbsd@@jeremyevans.net>
@
text
@d1 3
a3 3
$OpenBSD: patch-gtk_makefile,v 1.5 2007/01/18 10:56:27 steven Exp $
--- gtk/makefile.orig	Mon Jun 11 20:57:30 2007
+++ gtk/makefile	Wed Jun 20 13:47:02 2007
d57 2
a58 2
@@@@ -75,22 +82,52 @@@@ LexSpice.o LexSQL.o LexTADS3.o LexTCL.o LexTeX.o LexVB
 LexVHDL.o LexYAML.o
@


1.5
log
@upgrade to 1.72

based on diffs from new maintainer Jeremy Evans <jeremyevans0 at gmail.com>
@
text
@d1 3
a3 3
$OpenBSD$
--- gtk/makefile.orig	Wed Dec 13 01:19:17 2006
+++ gtk/makefile	Thu Jan 18 08:46:52 2007
d13 1
a13 1
@@@@ -17,14 +17,18 @@@@ ifeq ($(shell uname),Darwin)
a30 1
+
d33 1
a33 2
 else
@@@@ -34,7 +38,7 @@@@ endif
d42 1
a42 1
@@@@ -56,9 +60,13 @@@@ endif
d46 2
a47 2
-	$(CC) `$(CONFIGFLAGS)` $(CXXFLAGS) -c $<
+	$(CXX) `$(CONFIGFLAGS)` $(CXXFLAGS) -c $<
d49 1
a49 1
+	$(CXX) -fPIC `$(CONFIGFLAGS)` $(CXXFLAGS) -o $@@ -c $<
d51 1
a51 1
 	$(CCOMP) `$(CONFIGFLAGS)` $(CXXFLAGS) -w -c $<
d53 1
a53 1
+	$(CCOMP) -fPIC `$(CONFIGFLAGS)` $(CXXFLAGS) -w -o $@@ -c $<
d57 2
a58 2
@@@@ -74,22 +82,52 @@@@ LexSpecman.o LexSpice.o LexSQL.o LexTADS
 LexVerilog.o LexVHDL.o LexYAML.o
d87 2
a88 2
-	$(CC) -MM `$(CONFIGFLAGS)` $(CXXFLAGS) *.cxx ../src/*.cxx >deps.mak
+	$(CXX) -MM `$(CONFIGFLAGS)` $(CXXFLAGS) *.cxx ../src/*.cxx >deps.mak
d92 1
a92 1
 	CharClassify.o Document.o CallTip.o \
d94 2
a95 2
 	KeyMap.o LineMarker.o ScintillaGTK.o CellBuffer.o ViewStyle.o \
 	RESearch.o Style.o Indicator.o AutoComplete.o UniConversion.o XPM.o \
@


1.4
log
@- SHARED_LIBS.

ok espie@@
@
text
@d1 6
a6 5
--- gtk/makefile.orig	2003-08-10 04:55:54.000000000 -0600
+++ gtk/makefile	2004-06-12 23:19:17.000000000 -0600
@@@@ -5,7 +5,7 @@@@
 # GNU make does not like \r\n line endings so should be saved to CVS in binary form.
 # To build for GTK+ 2, define GTK2 on the make command line.
d8 2
a9 2
-.SUFFIXES: .cxx .o .h .a
+.SUFFIXES: .cxx .o .h .a .so
d11 1
d13 1
a13 2
 RANLIB = touch
@@@@ -16,13 +16,16 @@@@ AR = ar
d26 4
a29 3
 INCLUDEDIRS=-I ../include -I ../src
-CXXBASEFLAGS=-W -Wall -DGTK -DSCI_LEXER $(INCLUDEDIRS)
+CXXBASEFLAGS=-W -Wall -DGTK -DSCI_LEXER -Dunix $(INCLUDEDIRS)
d31 1
d34 2
a35 1
@@@@ -33,7 +36,7 @@@@ endif
d43 2
a44 2
 ifdef GTK2
@@@@ -43,7 +46,9 @@@@ CONFIGFLAGS=gtk-config --cflags
d52 4
d59 3
a61 3
@@@@ -57,20 +62,50 @@@@ LexSQL.o LexVB.o 
 
 # The LEXOBJS have to be treated specially as the functions in them are not called from external code
d63 1
a63 1
-all: $(COMPLIB) $(LEXOBJS)
d69 1
a69 1
+
d84 1
a84 1
 
d92 3
a94 2
-$(COMPLIB): DocumentAccessor.o WindowAccessor.o KeyWords.o StyleContext.o Document.o CallTip.o \
+LIBOBJS = DocumentAccessor.o WindowAccessor.o KeyWords.o StyleContext.o Document.o CallTip.o \
d97 2
a98 1
 	RESearch.o Style.o Indicator.o AutoComplete.o UniConversion.o XPM.o
d101 4
a107 4
+$(LEXERLIB): $(LEXOBJS)
 	$(AR) rc $@@ $^
 	$(RANLIB) $@@
 
d109 1
a109 1
+	$(CC) -shared -fPIC -o $@@ -Wl,-soname,$(notdir $(SHAREDLIB)) $^
d111 2
a112 2
+	$(CC) -shared -fPIC -o $@@ -Wl,-soname,$(notdir $(SHAREDLEXER)) $^
+
@


1.3
log
@- Bump lib major after recent libc changes
- Bump PKGNAME

go ahead espie@@
@
text
@d19 2
a20 2
+SHAREDLIB=../bin/libscintilla.so.2.0
+SHAREDLEXER=../bin/libscintilla_lexers.so.2.0
@


1.2
log
@another cute piece of software that forgets -fPIC
@
text
@d19 2
a20 2
+SHAREDLIB=../bin/libscintilla.so.1.0
+SHAREDLEXER=../bin/libscintilla_lexers.so.1.0
@


1.1
log
@Initial revision
@
text
@d1 2
a2 2
--- gtk/makefile.orig	2003-08-10 12:55:54.000000000 +0200
+++ gtk/makefile	2003-08-14 17:35:32.000000000 +0200
d12 1
a12 1
@@@@ -16,13 +16,16 @@@@
d31 1
a31 1
@@@@ -33,7 +36,7 @@@@
d40 1
a40 1
@@@@ -43,7 +46,9 @@@@
d47 1
a47 1
+	$(CXX) -fpic `$(CONFIGFLAGS)` $(CXXFLAGS) -o $@@ -c $<
d51 1
a51 1
@@@@ -57,20 +62,50 @@@@
d99 1
a99 1
+	$(CC) -shared -o $@@ -Wl,-soname,$(notdir $(SHAREDLIB)) $^
d101 1
a101 1
+	$(CC) -shared -o $@@ -Wl,-soname,$(notdir $(SHAREDLEXER)) $^
@


1.1.1.1
log
@Initial import of scintilla 1.54

Scintilla is a free source code editing component. As well as features
found in standard text editing components, Scintilla includes features
especially useful when editing and debugging source code. These include
support for syntax styling, error indicators, code completion and call
tips. The selection margin can contain markers like those used in debuggers
to indicate breakpoints and the current line. Styling choices are more open
than with many editors, allowing the use of proportional fonts, bold and
italics, multiple foreground and background colours and multiple fonts.

WWW: http://www.scintilla.org/

from Joerg Sonnenberger <joerg@@bec.de> with patches from Andrew Dalgleisch
@
text
@@
