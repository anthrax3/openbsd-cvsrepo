head	1.78;
access;
symbols
	OPENBSD_5_0:1.75.0.2
	OPENBSD_5_0_BASE:1.75
	OPENBSD_4_9:1.74.0.2
	OPENBSD_4_9_BASE:1.74
	OPENBSD_4_8:1.46.0.2
	OPENBSD_4_8_BASE:1.46
	OPENBSD_4_7:1.35.0.2
	OPENBSD_4_7_BASE:1.35
	OPENBSD_4_6:1.23.0.2
	OPENBSD_4_6_BASE:1.23
	OPENBSD_4_5:1.9.0.2
	OPENBSD_4_5_BASE:1.9
	robert_20081030:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.78
date	2011.11.16.13.38.22;	author robert;	state dead;
branches;
next	1.77;

1.77
date	2011.10.07.13.54.31;	author kurt;	state Exp;
branches;
next	1.76;

1.76
date	2011.08.30.17.16.36;	author jasper;	state Exp;
branches;
next	1.75;

1.75
date	2011.07.06.18.29.00;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2011.01.15.11.13.49;	author robert;	state Exp;
branches;
next	1.73;

1.73
date	2010.12.23.10.21.20;	author espie;	state Exp;
branches;
next	1.72;

1.72
date	2010.12.17.09.26.03;	author robert;	state Exp;
branches;
next	1.71;

1.71
date	2010.12.10.23.25.35;	author robert;	state Exp;
branches;
next	1.70;

1.70
date	2010.12.02.09.29.25;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2010.11.30.18.19.33;	author robert;	state Exp;
branches;
next	1.68;

1.68
date	2010.11.30.16.18.07;	author robert;	state Exp;
branches;
next	1.67;

1.67
date	2010.11.29.10.01.02;	author robert;	state Exp;
branches;
next	1.66;

1.66
date	2010.11.29.09.48.40;	author robert;	state Exp;
branches;
next	1.65;

1.65
date	2010.11.26.14.50.10;	author espie;	state Exp;
branches;
next	1.64;

1.64
date	2010.11.22.16.20.32;	author robert;	state Exp;
branches;
next	1.63;

1.63
date	2010.11.16.17.31.19;	author robert;	state Exp;
branches;
next	1.62;

1.62
date	2010.11.15.23.22.07;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2010.11.14.23.37.41;	author robert;	state Exp;
branches;
next	1.60;

1.60
date	2010.11.14.12.20.27;	author robert;	state Exp;
branches;
next	1.59;

1.59
date	2010.11.10.15.09.47;	author robert;	state Exp;
branches;
next	1.58;

1.58
date	2010.11.10.08.19.30;	author robert;	state Exp;
branches;
next	1.57;

1.57
date	2010.11.09.18.40.04;	author robert;	state Exp;
branches;
next	1.56;

1.56
date	2010.11.07.19.04.41;	author robert;	state Exp;
branches;
next	1.55;

1.55
date	2010.11.06.20.48.11;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2010.11.05.10.06.44;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2010.10.24.21.16.25;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2010.10.24.15.53.55;	author sthen;	state Exp;
branches;
next	1.51;

1.51
date	2010.10.11.08.12.44;	author jasper;	state Exp;
branches;
next	1.50;

1.50
date	2010.09.30.07.21.18;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2010.09.29.15.46.29;	author landry;	state Exp;
branches;
next	1.48;

1.48
date	2010.09.26.15.26.54;	author fgsch;	state Exp;
branches;
next	1.47;

1.47
date	2010.08.30.22.23.28;	author sthen;	state Exp;
branches;
next	1.46;

1.46
date	2010.07.09.18.48.22;	author naddy;	state Exp;
branches;
next	1.45;

1.45
date	2010.06.26.15.48.11;	author robert;	state Exp;
branches;
next	1.44;

1.44
date	2010.06.09.12.50.23;	author robert;	state Exp;
branches;
next	1.43;

1.43
date	2010.05.26.20.36.31;	author robert;	state Exp;
branches;
next	1.42;

1.42
date	2010.04.21.13.53.01;	author robert;	state Exp;
branches;
next	1.41;

1.41
date	2010.04.15.14.58.25;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.04.12.18.45.27;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2010.04.06.21.56.31;	author robert;	state Exp;
branches;
next	1.38;

1.38
date	2010.04.02.15.53.26;	author robert;	state Exp;
branches;
next	1.37;

1.37
date	2010.04.02.08.25.33;	author robert;	state Exp;
branches;
next	1.36;

1.36
date	2010.03.30.11.03.07;	author robert;	state Exp;
branches;
next	1.35;

1.35
date	2010.02.02.12.32.42;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2010.01.26.01.33.52;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2009.12.22.15.08.35;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2009.12.22.10.38.55;	author robert;	state Exp;
branches;
next	1.31;

1.31
date	2009.12.21.16.13.02;	author robert;	state Exp;
branches;
next	1.30;

1.30
date	2009.11.28.18.33.57;	author kili;	state Exp;
branches;
next	1.29;

1.29
date	2009.11.18.00.49.09;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2009.11.09.11.03.26;	author sthen;	state Exp;
branches;
next	1.27;

1.27
date	2009.09.22.17.53.42;	author robert;	state Exp;
branches;
next	1.26;

1.26
date	2009.08.19.04.44.37;	author jolan;	state Exp;
branches;
next	1.25;

1.25
date	2009.08.10.14.07.43;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2009.08.10.06.31.08;	author kili;	state Exp;
branches;
next	1.23;

1.23
date	2009.07.06.23.33.36;	author naddy;	state Exp;
branches
	1.23.2.1;
next	1.22;

1.22
date	2009.07.01.13.05.54;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2009.06.09.08.18.00;	author robert;	state Exp;
branches;
next	1.20;

1.20
date	2009.06.04.18.32.17;	author kurt;	state Exp;
branches;
next	1.19;

1.19
date	2009.05.26.23.26.32;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2009.05.26.11.01.47;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.05.17.09.41.05;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2009.05.08.15.47.32;	author robert;	state Exp;
branches;
next	1.15;

1.15
date	2009.05.08.15.43.50;	author robert;	state Exp;
branches;
next	1.14;

1.14
date	2009.04.26.11.01.04;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.04.26.09.38.25;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2009.04.24.09.33.07;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2009.03.15.13.25.09;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2009.03.11.23.22.01;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2009.02.22.14.10.30;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2009.02.15.08.57.27;	author robert;	state Exp;
branches;
next	1.7;

1.7
date	2009.02.09.20.36.02;	author ian;	state Exp;
branches;
next	1.6;

1.6
date	2009.02.06.23.06.27;	author robert;	state Exp;
branches;
next	1.5;

1.5
date	2009.02.01.17.35.26;	author robert;	state Exp;
branches;
next	1.4;

1.4
date	2009.02.01.12.56.30;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2009.01.31.01.06.20;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2009.01.22.17.44.38;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2008.10.30.18.51.05;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.10.30.18.51.05;	author robert;	state Exp;
branches;
next	;

1.23.2.1
date	2009.12.28.02.11.22;	author william;	state Exp;
branches;
next	;


desc
@@


1.78
log
@remove the dead openoffice ports
@
text
@# $OpenBSD: Makefile,v 1.77 2011/10/07 13:54:31 kurt Exp $

ONLY_FOR_ARCHS= amd64 i386

COMMENT-main=	multi-platform productivity suite
COMMENT-kde=	optional integration of OpenOffice to the KDE environment
COMMENT-java=	optional integration of OpenOffice java features

MR=		3.3
VERSION=	${MR}.0rc9
EPOCH = 	0
RCDATE=		20110110
DISTNAME=	OOo_${VERSION}
WRKDIST=	${WRKDIR}/OOO330_m19
PKGNAME=	openoffice-${VERSION}
PKGNAME-main=	openoffice-${VERSION}
PKGNAME-kde=	openoffice-kde-${VERSION}
PKGNAME-java=	openoffice-java-${VERSION}
REVISION-main=	0
REVISION-kde=	0
REVISION-java=	1
CATEGORIES=	editors productivity

REVISION-main=	0

MAINTAINER=	Robert Nagy <robert@@openbsd.org>

HOMEPAGE=	http://www.openoffice.org/
MASTER_SITES=	http://www.bsd.hu/~robert/ooo/ \
		http://vlaai.snt.utwente.nl/pub/software/openoffice/extended/${VERSION}/ \
		http://vlaai.snt.utwente.nl/pub/software/openoffice/stable/${VERSION}/ \
		http://humppa.hu/ooo/ \
		http://ftp.linux.cz/pub/localization/OpenOffice.org/devel/build/Sources/ \
		ftp://ftp.ussg.iu.edu/pub/openoffice/stable/${VERSION}/ \
		ftp://sunsite.informatik.rwth-aachen.de/pub/mirror/OpenOffice/stable/${VERSION}/ \
		ftp://ftp.tu-chemnitz.de/pub/openoffice/stable/${VERSION}/ \
		ftp://ftp.nluug.nl/pub/office/openoffice/stable/${VERSION}/ \
		http://vlaai.snt.utwente.nl/pub/software/openoffice/stable/${VERSION}/ \
		ftp://openoffice.mirror.cygnal.ca/openoffice/stable/${VERSION}/
MASTER_SITES0=	http://www.bsd.hu/~robert/ooo/ \
		http://humppa.hu/ooo/
MASTER_SITES1=	http://hg.services.openoffice.org/binaries/ \
		http://humppa.hu/ooo/

EDISTFILES=	ooo-desktop-0.2.tar.gz:0
.for dfile in binfilter core extensions l10n system
EDISTFILES+=	${DISTNAME}_${RCDATE}_src_${dfile}.tar.bz2
.endfor
EXTRACT_ONLY=	${EDISTFILES:C/:[0-9]$//}

DISTFILES+=	${EDISTFILES} \
		067201ea8b126597670b5eff72e1f66c-mythes-1.2.0.tar.gz:1 \
		128cfc86ed5953e57fe0f5ae98b62c2e-libtextcat-2.2.tar.gz:1 \
		17410483b5b5f267aa18b7e00b65e6e0-hsqldb_1_8_0.zip:1 \
		1756c4fa6c616ae15973c104cd8cb256-Adobe-Core35_AFMs-314.tar.gz:1 \
		26b3e95ddf3d9c077c480ea45874b3b8-lp_solve_5.5.tar.gz:1 \
		2a177023f9ea8ec8bd00837605c5df1b-jakarta-tomcat-5.0.30-src.tar.gz:1 \
		2ae988b339daec234019a7066f96733e-commons-lang-2.3-src.tar.gz:1 \
		2c9b0f83ed5890af02c0df1c1776f39b-commons-httpclient-3.1-src.tar.gz:1 \
		35c94d2df8893241173de1d16b6034c0-swingExSrc.zip:1 \
		35efabc239af896dfb79be7ebdd6e6b9-gentiumbasic-fonts-1.10.zip:1 \
		37282537d0ed1a087b1c8f050dc812d9-dejavu-fonts-ttf-2.32.zip:1 \
		39bb3fcea1514f1369fcfc87542390fd-sacjava-1.3.zip:1 \
		3c219630e4302863a9a83d0efde889db-commons-logging-1.1.1-src.tar.gz:1 \
		48d8169acc35f97e05d8dcdfd45be7f2-lucene-2.3.2.tar.gz:1 \
		5aba06ede2daa9f2c11892fbd7bc3057-libserializer.zip:1 \
		67b42915c8432abf0a922438f00860a2-libxml.zip:1 \
		79600e696a98ff95c2eba976f7a8dfbb-liblayout.zip:1 \
		798b2ffdc8bcfe7bca2cf92b62caf685-rhino1_5R5.zip:1 \
		8294d6c42e3553229af9934c5c0ed997-stax-api-1.0-2-sources.jar:1 \
		8ea307d71d11140574bfb9fcc2487e33-libbase.zip:1 \
		a06a496d7a43cbdc35e69dbe678efadb-libloader.zip:1 \
		a7983f859eafb2677d7ff386a023bc40-xsltml_2.1.2.zip:1 \
		ada24d37d8d638b3d8a9985e80bc2978-source-9.0.0.7-bj.zip:1 \
		af3c3acf618de6108d65fcdc92b492e1-commons-codec-1.3-src.tar.gz:1 \
		bd30e9cf5523cdfc019b94f5e1d7fd19-cppunit-1.12.1.tar.gz:1 \
		ca4870d899fd7e943ffc310a5421ad4d-liberation-fonts-ttf-1.06.0.20100721.tar.gz:1 \
		cf8a6967f7de535ae257fa411c98eb88-mdds_0.3.0.tar.bz2:1 \
		d0b5af6e408b8d2958f3d83b5244f5e8-hyphen-2.4.tar.gz:1 \
		d1a3205871c3c52e8a50c9f18510ae12-libformula.zip:1 \
		d4c4d91ab3a8e52a2e69d48d34ef4df4-core.zip:1 \
		dbb3757275dc5cc80820c0b4dd24ed95-librepository.zip:1 \
		ea570af93c284aa9e5621cd563f54f4d-bsh-2.0b1-src.tar.gz:1 \
		ea91f2fb4212a21d708aced277e6e85a-vigra1.4.0.tar.gz:1 \
		f3e2febd267c8e4b13df00dac211dd6d-flute.zip:1 \
		f7925ba8491fe570e5164d2c72791358-libfonts.zip:1 \
		fdb27bfe2dbe2e7b57ae194d9bf36bab-SampleICC-1.3.2.tar.gz:1 \
		fe5b3e2b7c4577f30dc001054365653e-dejavu-fonts-ttf-2.30.zip:1 \
		599dc4cc65a07ee868cf92a667a913d2-xpdf-3.02.tar.gz:1 \
		3ade8cfe7e59ca8e65052644fed9fca4-epm-3.7.tar.gz:1

DIST_SUBDIR=	openoffice

# See http://www.openoffice.org/about.html#licenses
# and http://www.openoffice.org/license.html
# and http://www.openoffice.org/FAQs/faq-licensing.html
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MULTI_PACKAGES=		-main -kde

PSEUDO_FLAVORS=	normal_build parallel no_lang
FLAVORS=	debug no_java
FLAVOR?=

.if !${FLAVOR:L:Mno_java}
MULTI_PACKAGES+=	-java
.endif

.if !${FLAVOR:L:Mno_lang}
LANGS=			bg ca de es fa fi fr hu it ja ko \
			lt lv nl pl pt-BR ru sl sv

.for l in ${LANGS:L}
MULTI_PACKAGES+=	-i18n-$l
PKGNAME-i18n-$l=	openoffice-i18n-$l-${VERSION}
COMMENT-i18n-$l=	$l language pack for OpenOffice.Org
RUN_DEPENDS-i18n-$l=	editors/openoffice3
WANTLIB-i18n-$l=
LIB_DEPENDS-i18n-$l=
.endfor
.endif

BUILD_DEPENDS+=	archivers/zip \
		archivers/unzip \
		archivers/gtar \
		devel/bison \
		shells/bash \
		archivers/p5-Archive-Zip \
		print/cups \
		boost->=1.41.0:devel/boost \
		misc/fileutils \
		misc/findutils \
		textproc/textutils

MODULES+=	lang/python \
		devel/gconf2
MODGCONF2_LIBDEP=No
LIB_DEPENDS-main=x11/gtk+2 \
		${MODPY_LIB_DEPENDS} \
		databases/db/v4 \
		textproc/libxslt \
		net/curl \
		net/neon \
		textproc/libwpd \
		textproc/icu4c \
		devel/gperf \
		textproc/raptor \
		textproc/redland \
		textproc/hunspell \
		devel/cppunit \
		${MODGCONF2_LIB_DEPENDS}
WANTLIB-main=	gdk-x11-2.0>=400.14 gtk-x11-2.0>=400.14 \
		db>=4 xslt>=3 curl>=7 neon>=24 \
		icuuc>=0 icudata>=0 icui18n icule \
		raptor>=2 rasqal rdf>=0
WANTLIB-main+=	ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
		Xext Xfixes Xi Xinerama Xrandr Xrender atk-1.0 c cairo \
		crypto expat fontconfig freetype gio-2.0 glib-2.0 \
		gmodule-2.0 gobject-2.0 gthread-2.0 \
		jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 \
		png pthread pthread-stubs ssl util xcb xml2 z gdk_pixbuf-2.0 \
		${MODGCONF2_WANTLIB} ${MODGETTEXT_WANTLIB}
WANTLIB-main+=	GL Xxf86vm drm python2.6 stdc++ xcb-render xcb-shm
WANTLIB-main+=	${MODPY_WANTLIB}

RUN_DEPENDS-main=	devel/desktop-file-utils

.include <bsd.own.mk>

MODULES+=		x11/qt3
RUN_DEPENDS-kde=	editors/openoffice3
LIB_DEPENDS-kde=	${MODQT_LIB_DEPENDS} \
			x11/kde/libs3
WANTLIB-kde=		${MODQT_WANTLIB} \
			X11 Xau Xdmcp Xext Xrandr Xrender stdc++ m \
			pthread-stubs xcb kabc kdecore kdeui kio

.if !${FLAVOR:L:Mno_java}
MODULES+=		java
MODJAVA_VER=		1.4+
MODJAVA_JRERUN=		Yes
.endif
LIB_DEPENDS-java=	db-java->=4,<5:databases/db/v4,-java,java \
			devel/apache-ant
RUN_DEPENDS-java=	${MODJAVA_RUN_DEPENDS} \
			editors/openoffice3 \
			java/javaPathHelper
WANTLIB-java=		c stdc++ m pthread

USE_GMAKE=	Yes
NO_REGRESS=	Yes
VMEM_WARNING=	Yes

PATCHORIG=	.orig.port

MODULES+=	gcc4
MODGCC4_ARCHES=	*
MODGCC4_LANGS=	c c++

CONFIGURE_STYLE=	autoconf no-autoheader
AUTOCONF_VERSION=	2.61
AUTOCONF_DIR=		${WRKCONF}

CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
		QTINC="${MODQT_INCDIR}" QTDIR="${MODQT_LIBDIR}"

CONFIGURE_ARGS=	--disable-gnome-vfs \
		--disable-mozilla \
		--disable-odk \
		--disable-pasf \
		--enable-cairo \
		--enable-kde \
		--enable-hids \
		--with-system-cppunit \
		--with-system-jpeg \
		--with-system-python \
		--with-system-libxml \
		--with-system-stdlibs \
		--with-system-freetype \
		--with-system-curl \
		--with-system-zlib \
		--with-system-expat \
		--with-system-neon \
		--with-system-db \
		--with-system-boost \
		--with-system-libwpd \
		--with-system-openssl \
		--with-system-icu \
		--with-system-redland \
		--with-system-hunspell \
		--with-epm=internal \
		--with-alloc=system \
		--with-vba-package-format="builtin" \
		--with-lang="en-US ${LANGS}" \
		--with-use-shell=bash \
		--without-junit \
		--disable-fetch-external \
		--with-gnu-cp=/usr/local/bin/gcp \
		--with-external-tar=${DISTDIR}/openoffice

.if !${FLAVOR:L:Mno_java}
CONFIGURE_ARGS+=--with-java \
		--with-jdk-home=${JAVA_HOME} \
		--with-ant-home=${LOCALBASE}/ant/lib \
		--with-db-jar=${LOCALBASE}/lib/db4/db.jar \
		--enable-report-builder \
		--enable-wiki-publisher
EXTENSIONS =	swext/wiki-publisher.oxt \
		report-builder.oxt
.else
CONFIGURE_ARGS+=--without-java \
		--without-ant
.endif

# Some cool OpenOffice.Org extensions
CONFIGURE_ARGS+=	--enable-minimizer \
			--enable-presenter-console \
			--enable-pdfimport
EXTENSIONS +=		minimizer/presentation-minimizer.oxt \
			presenter/presenter-screen.oxt \
			pdfimport/pdfimport.oxt

.if ${FLAVOR:L:Mdebug}
CONFIGURE_ARGS+=	--enable-symbols \
			--enable-debug
.endif

MAKE_ENV+=	LOCALBASE="${LOCALBASE}"
MAKE_ENV+=	TMP=${WRKSRC} PYTHON="${MODPY_BIN}"

# kludge
BASH=		${LOCALBASE}/bin/bash

.if !${FLAVOR:L:Mno_java}
JAVAFIX=	export LD_LIBRARY_PATH=${JAVA_HOME}/jre/lib/${ARCH}:${JAVA_HOME}/jre/lib/${ARCH}/client:${JAVA_HOME}/jre/lib/${ARCH}/server
.else
JAVAFIX=	true
.endif

.if ${FLAVOR:L:Mparallel}
NCPU!=		echo $$((`sysctl -n hw.ncpu`+1))
NCPUFLAG=	-P ${NCPU}
.endif

.if ${FLAVOR:L:Mnormal_build}
BUILD_CMD=	cd instsetoo_native && build.pl ${NCPUFLAG} --all && \
		cd util && dmake ooolanguagepack
.else
BUILD_CMD=	cd instsetoo_native && build.pl ${NCPUFLAG} --all --dlv_switch -link && \
		cd util && dmake ooolanguagepack
.endif

SUBST_VARS+=	MR

pre-patch:
	@@ln -fs ${LOCALBASE}/bin/gcat ${WRKDIR}/bin/cat
	@@ln -fs ${LOCALBASE}/bin/gcp ${WRKDIR}/bin/cp
	@@ln -fs ${LOCALBASE}/bin/gfind ${WRKDIR}/bin/find

do-build:
	@@cd ${WRKBUILD} && \
		./bootstrap && \
		${SETENV} ${MAKE_ENV} ${BASH} -c 'ulimit -n 256 && source OpenBSDEnv.Set.sh && ${JAVAFIX} && ${BUILD_CMD}'

do-install:
	@@rm -Rf ${WRKDIR}/tmp
	@@mkdir ${WRKDIR}/tmp

	${INSTALL_DATA_DIR} ${PREFIX}/share/applications/openoffice
	${INSTALL_DATA_DIR} ${PREFIX}/share/icons/hicolor/48x48/apps

	cd ${WRKDIR}/ooo-desktop && \
		for DFILE in `ls -1 *.desktop`; do \
			${INSTALL_DATA} $$DFILE \
				${PREFIX}/share/applications/openoffice; \
		done && \
		for ICONS in `ls -1 *.png`; do \
			${INSTALL_DATA} $$ICONS ${PREFIX}/share/icons/hicolor/48x48/apps; \
		done

	cd ${WRKSRC}/instsetoo_native/unxobsd.pro/OpenOffice/portable/install/en-US/openbsd && \
		for SW in `ls -1 *.sw`; do \
			${TAR} xf $$SW -C ${WRKDIR}/tmp; \
		done

.for l in ${LANGS}
	cd ${WRKSRC}/instsetoo_native/unxobsd.pro/OpenOffice_languagepack/portable/install/$l/openbsd && \
		for SW in `ls -1 *.sw`; do \
			${TAR} xf $$SW -C ${WRKDIR}/tmp; \
		done
.endfor

	cd ${WRKDIR}/tmp/opt ; ${TAR} cf - -C . . | ${TAR} xf - -C ${PREFIX}

	cd ${WRKSRC}/solver/330/unxobsd.pro/bin && \
		${INSTALL_DATA}	${EXTENSIONS} ${PREFIX}/openoffice.org3/share/extensions/

	${INSTALL_SCRIPT} ${FILESDIR}/soffice.sh ${PREFIX}/bin/soffice
	perl -pi -e "s,%%LOCALBASE%%,${LOCALBASE},g; \
		s,%%X11BASE%%,${X11BASE},g" \
                ${PREFIX}/bin/soffice \

	cd ${PREFIX}/bin && \
	for app in sbase scalc sdraw simpress smath setofficelang spadmin swriter openoffice.org3; do \
		ln -sf soffice $$app ; done

.include <bsd.port.mk>
@


1.77
log
@- remove devel/jdk/1.5 and lang/kaffe
- adjust java.port.mk for their removal
- bump affected packages
okay jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2011/08/30 17:16:36 jasper Exp $
@


1.76
log
@- bump REVISION after recent java.port.mk change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2011/07/06 18:29:00 ajacoutot Exp $
d21 1
a21 1
REVISION-java=	0
@


1.75
log
@Use the gettext MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2011/01/15 11:13:49 robert Exp $
d19 3
@


1.74
log
@update to 3.3.0rc9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2010/12/23 10:21:20 espie Exp $
d21 2
d159 1
a159 1
		gmodule-2.0 gobject-2.0 gthread-2.0 iconv intl \
d162 1
a162 1
		${MODGCONF2_WANTLIB}
@


1.73
log
@welcome to EPOCH, since version handling got fucked
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2010/12/17 09:26:03 robert Exp $
d10 1
a10 1
VERSION=	${MR}.0rc8
d12 1
a12 1
RCDATE=		20101214
d14 1
a14 1
WRKDIST=	${WRKDIR}/OOO330_m18
a117 1
REVISION-i18n-$l=	0
@


1.72
log
@Updato to 3.3.0rc8 and do not set envcflags="${CFLAGS}" in the environment
because that will overwrite -O0 set by NOOPTFILES in the build system.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2010/12/10 23:25:35 robert Exp $
d11 1
d27 1
a28 1
		http://humppa.hu/ooo/ \
@


1.71
log
@merge the libreoffice i386 bridges code
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2010/12/02 09:29:25 ajacoutot Exp $
d10 2
a11 1
VERSION=	${MR}.0rc7_20101126
d13 1
a13 1
WRKDIST=	${WRKDIR}/OOO330_m17
a19 4
REVISION-main=	3
REVISION-kde=	0
REVISION-java=	0

d24 1
a24 1
		http://vlaai.snt.utwente.nl/pub/software/openoffice/extended/3.3.0rc7/ \
d41 1
a41 1
EDISTFILES+=	${DISTNAME}_src_${dfile}.tar.bz2
a85 4
.for dfile in binfilter core extensions l10n system
DISTFILES+=	${DISTNAME}_src_${dfile}.tar.bz2
.endfor

d267 1
a267 1
MAKE_ENV+=	envcflags="${CFLAGS}" LOCALBASE="${LOCALBASE}"
@


1.70
log
@Fix link, it's openoffice.org3 (not openffice3).

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2010/11/30 18:19:33 robert Exp $
d19 1
a19 1
REVISION-main=	2
a108 6
.if ${FLAVOR:L:Mparallel}
EDISTFILES+=	nbcat-0.1.tar.gz:0
.else
SUPDISTFILES+=	nbcat-0.1.tar.gz:0
.endif

d136 3
a138 1
		misc/fileutils
d302 3
a304 4
	ln -fs ${LOCALBASE}/bin/gcp ${WRKDIR}/bin/cp
.if ${FLAVOR:L:Mparallel}
	ln -fs ${WRKDIR}/cat.${ARCH} ${WRKDIR}/bin/cat
.endif
@


1.69
log
@fix parallel build and conflict with libreoffice
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2010/11/30 16:18:07 robert Exp $
d19 1
a19 1
REVISION-main=	1
d355 1
a355 1
	for app in sbase scalc sdraw simpress smath setofficelang spadmin swriter openoffice3; do \
@


1.68
log
@fix a typo in the parallel build check
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2010/11/29 10:01:02 robert Exp $
d19 3
a21 1
REVISION-main=	0
d110 1
a110 1
DISTFILES+=	nbcat-0.1.tar.gz:0
d130 1
@


1.67
log
@Add a bin/openoffice3 link to make some stuff work out of the box,
and there might be more needing this.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2010/11/29 09:48:40 robert Exp $
d287 1
a287 1
.if ${FLAVOR:L:Mpparallel}
@


1.66
log
@Update to 3.3.0rc7 and add more mirrors
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2010/11/26 14:50:10 espie Exp $
d19 2
d352 1
a352 1
	for app in sbase scalc sdraw simpress smath setofficelang spadmin swriter; do \
@


1.65
log
@since db/v4 has db->=4,<5 as default, no need to specify it explicitly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2010/11/22 16:20:32 robert Exp $
d10 1
a10 1
VERSION=	${MR}.0rc6_20101120
d12 1
a12 1
WRKDIST=	${WRKDIR}/OOO330_m16
d22 2
a23 1
MASTER_SITES=	http://vlaai.snt.utwente.nl/pub/software/openoffice/extended/3.3.0rc6/ \
@


1.64
log
@update to rc6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/11/16 17:31:19 robert Exp $
d143 1
a143 1
		db->=4,<5:databases/db/v4 \
@


1.63
log
@update to OOo 3.3rc5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/11/15 23:22:07 espie Exp $
d10 1
a10 1
VERSION=	${MR}.0rc5_20101115
d12 1
a12 1
WRKDIST=	${WRKDIR}/OOO330_m15
d22 1
a22 1
MASTER_SITES=	http://vlaai.snt.utwente.nl/pub/software/openoffice/extended/3.3.0rc5/ \
@


1.62
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/11/14 23:37:41 robert Exp $
d10 1
a10 1
VERSION=	${MR}.0rc4_20101108
d12 1
a12 1
WRKDIST=	${WRKDIR}/OOO330_m14
d22 1
a22 1
MASTER_SITES=	http://vlaai.snt.utwente.nl/pub/software/openoffice/extended/3.3.0rc4/ \
@


1.61
log
@make sure to remove :[0-9]$ from DISTFILES to extract
noticed by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/11/14 12:20:27 robert Exp $
d122 1
a122 1
RUN_DEPENDS-i18n-$l=	::editors/openoffice3
d128 9
a136 9
BUILD_DEPENDS+=	:zip-*:archivers/zip \
		:unzip-*:archivers/unzip \
		:gtar-*:archivers/gtar \
		:bison-*:devel/bison \
		:bash-*:shells/bash \
		:p5-Archive-Zip-*:archivers/p5-Archive-Zip \
		::print/cups \
		:boost->=1.41.0:devel/boost \
		::misc/fileutils
d141 1
a141 1
LIB_DEPENDS-main=::x11/gtk+2 \
d143 11
a153 11
		:db->=4,<5:databases/db/v4 \
		::textproc/libxslt \
		::net/curl \
		::net/neon \
		::textproc/libwpd \
		::textproc/icu4c \
		::devel/gperf \
		::textproc/raptor \
		::textproc/redland \
		::textproc/hunspell \
		::devel/cppunit \
d155 4
a158 4
WANTLIB-main=	gdk-x11-2.0.>=400.14 gtk-x11-2.0.>=400.14 \
		db.>=4 xslt.>=3 curl.>=7 neon.>=24 \
		icuuc.>=0 icudata.>=0 icui18n icule \
		raptor.>=2 rasqal rdf.>=0
d169 1
a169 1
RUN_DEPENDS-main=	:desktop-file-utils-*:devel/desktop-file-utils
d174 1
a174 1
RUN_DEPENDS-kde=	::editors/openoffice3
d176 1
a176 1
			::x11/kde/libs3
d186 2
a187 2
LIB_DEPENDS-java=	:db-java->=4,<5:databases/db/v4,-java,java \
			::devel/apache-ant
d189 2
a190 2
			::editors/openoffice3 \
			::java/javaPathHelper
@


1.60
log
@Make sure that we donwnload all distfiles and extract only the ones that
needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/11/10 15:09:47 robert Exp $
d41 1
a41 1
EXTRACT_ONLY=	${EDISTFILES}
@


1.59
log
@add a new mirror
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/11/10 08:19:30 robert Exp $
d37 8
a44 2
DISTFILES=	ooo-desktop-0.2.tar.gz:0
SUPDISTFILES=	067201ea8b126597670b5eff72e1f66c-mythes-1.2.0.tar.gz:1 \
@


1.58
log
@update to OOo_3.3.0rc4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/11/09 18:40:04 robert Exp $
d34 2
a35 1
MASTER_SITES1=	http://hg.services.openoffice.org/binaries/
@


1.57
log
@- update to openoffice.org 3.3rc3
- rework a port a little bit to be sync in the openoffice linux
  code and remove some hacks that we don't need anymore
- also use --as-needed while linking (which results in at least a 50% speed
  improovement)
- depend on more libraries from the system instead of using the internal
  ones
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/10/11 08:12:44 jasper Exp $
d10 1
a10 1
VERSION=	${MR}.0rc3_20101029
d12 1
a12 1
WRKDIST=	${WRKDIR}/OOO330_m13
@


1.56
log
@Adapt to the libwpd library named change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/11/06 20:48:11 espie Exp $
d9 2
a10 1
VERSION=	3.2.1
d12 1
a12 1
WRKDIST=	${WRKDIR}/OOO320_m19
a16 3
REVISION-main=	5
REVISION-kde=	1
REVISION-java=	2
d22 2
a23 1
MASTER_SITES=	http://vlaai.snt.utwente.nl/pub/software/openoffice/stable/${VERSION}/ \
d34 1
d37 39
a113 1
REVISION-i18n-$l=	0
a124 1
		:tcsh-*:shells/tcsh \
d129 1
a129 1
		:xpdf-3.02:textproc/xpdf:patch
d145 2
d148 2
a149 2
WANTLIB-main =	gdk-x11-2.0.>=400.14 gtk-x11-2.0.>=400.14 \
		db.>=4 xslt.>=3 curl.>=7 neon.>=24 wpd-0.8.>=8 \
d152 1
a152 1
WANTLIB-main +=	ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
d159 3
a161 2
WANTLIB-main += GL Xxf86vm drm stdc++ xcb-render xcb-shm
WANTLIB-main += ${MODPY_WANTLIB}
a164 7
.if ${COMPILER_VERSION:L:Mgcc4}
STDLIB=			stdc++
.else
STDLIB=			estdc++
LIB_DEPENDS-main +=	:libstdc++->=4.2,<4.3|libstdc++->=4.2v0,<4.3v0:lang/gcc/4.2,-estdc
WANTLIB-main +=		estdc++.>=11
.endif
d171 1
a171 1
			X11 Xau Xdmcp Xext Xrandr Xrender ${STDLIB} m \
d184 1
a184 1
WANTLIB-java=		c ${STDLIB} m pthread
d211 1
d227 1
d231 6
a236 1
		--with-lang="en-US ${LANGS}"
d248 2
a249 1
CONFIGURE_ARGS+=--without-java
a265 3
.if !${FLAVOR:L:Mno_java}
MAKE_ENV+=	LD_LIBRARY_PATH=${JAVA_HOME}/jre/lib/${ARCH}:${JAVA_HOME}/jre/lib/${ARCH}/client:${JAVA_HOME}/jre/lib/${ARCH}/server
.endif
d269 7
a275 1
TCSH=		${LOCALBASE}/bin/tcsh
d277 1
a277 1
.if ${FLAVOR:L:Mparallel}
d290 1
a290 4
post-extract:
	@@mkdir -p ${WRKDIST}/xpdf/unxobsd.pro/misc
	@@mv ${WRKDIR}/textproc/xpdf/xpdf-3.02 ${WRKDIST}/xpdf/unxobsd.pro/misc/ > \
		${WRKDIST}/xpdf/unxobsd.pro/misc/so_unpacked_xpdflib
d293 1
a296 11
.for arch in intel x86-64
	@@cd ${WRKSRC}/bridges/source/cpp_uno && \
		cp -R gcc3_freebsd_${arch} gcc3_openbsd_${arch} && \
		perl -pi -e "s,FREEBSD,OPENBSD,g" gcc3_openbsd_${arch}/makefile.mk
.endfor

post-patch:
.for f in external/gcc3_specific/makefile.mk solenv/inc/unxobsd.mk
	@@cd ${WRKSRC} && \
		perl -pi -e "s,%%STDLIB%%,${STDLIB},g" ${f}
.endfor
d301 1
a301 1
		${SETENV} ${MAKE_ENV} ${TCSH} -c 'limit descriptors 256 && source OpenBSDEnv.Set && ${BUILD_CMD}'
d333 2
a334 2
	cd ${WRKSRC}/solver/320/unxobsd.pro/bin && \
		${INSTALL_DATA}	${EXTENSIONS} ${PREFIX}/openoffice.org3/share/extension/install
@


1.55
log
@gconf2 module goes wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/11/05 10:06:44 espie Exp $
d16 1
a16 1
REVISION-main=	4
d110 1
a110 1
		db.>=4 xslt.>=3 curl.>=7 neon.>=24 wpd.>=8 \
d115 1
a115 1
		crypto dbus-1 expat fontconfig freetype gio-2.0 glib-2.0 \
d120 1
@


1.54
log
@convert qt3 to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/10/24 21:16:25 ajacoutot Exp $
d97 1
a97 1
LIB_DEPENDS-main=gdk-x11-2.0.>=400.14,gtk-x11-2.0.>=400.14::x11/gtk+2 \
d99 6
a104 6
		db.>=4:db->=4,<5:databases/db/v4 \
		xslt.>=3::textproc/libxslt \
		curl.>=7::net/curl \
		neon.>=24::net/neon \
		wpd.>=8::textproc/libwpd \
		icuuc.>=0,icudata.>=0,icui18n,icule::textproc/icu4c \
d106 2
a107 2
		raptor.>=2::textproc/raptor \
		rasqal,rdf.>=0::textproc/redland \
d109 5
a113 1
WANTLIB-main=	ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
d118 2
a119 1
		png pthread pthread-stubs ssl util xcb xml2 z gdk_pixbuf-2.0
d128 2
a129 1
LIB_DEPENDS-main+=	estdc++.>=11:libstdc++->=4.2,<4.3|libstdc++->=4.2v0,<4.3v0:lang/gcc/4.2,-estdc
d135 1
a135 1
			kabc,kdecore,kdeui,kio::x11/kde/libs3
d138 1
a138 1
			pthread-stubs xcb
@


1.53
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/10/24 15:53:55 sthen Exp $
d130 2
a131 1
WANTLIB-kde=		X11 Xau Xdmcp Xext Xrandr Xrender ${STDLIB} m \
@


1.52
log
@Add MODPY_WANTLIB, adjust MODPY_LIB_DEPENDS to new-style LIB_DEPENDS,
update all ports to match. Plists don't change -> no bump.
Looks ok to jasper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/10/11 08:12:44 jasper Exp $
a144 1
USE_X11=	Yes
@


1.51
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/09/30 07:21:18 ajacoutot Exp $
d115 1
@


1.50
log
@Fix DEPENDS after gtk+2 and gdk-pixbuf split.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/09/29 15:46:29 landry Exp $
d16 1
a16 1
REVISION-main=	3
d112 1
a112 1
		glitz gmodule-2.0 gobject-2.0 gthread-2.0 iconv intl \
@


1.49
log
@Oops. Bump REVISION-i18n-* after last commit and PLIST-i18n-* change.
spotted by naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/09/26 15:26:54 fgsch Exp $
d16 1
a16 1
REVISION-main=	2
d97 1
a97 1
LIB_DEPENDS-main=gdk-x11-2.0.>=400.14,gdk_pixbuf-2.0.>=400.14,gtk-x11-2.0.>=400.14::x11/gtk+2 \
d114 1
a114 1
		png pthread pthread-stubs ssl util xcb xml2 z
@


1.48
log
@Don't hardcode the python version and fix plist for no_java.  Bump.
Full build tested by landry@@, no_java by myself.  landry@@ robert@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/08/30 22:23:28 sthen Exp $
d75 1
@


1.47
log
@bump for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/07/09 18:48:22 naddy Exp $
d16 1
a16 1
REVISION-main=	1
d18 1
a18 1
REVISION-java=	1
d193 5
a197 1
		--with-db-jar=${LOCALBASE}/lib/db4/db.jar
d205 2
a206 4
			--enable-pdfimport \
			--enable-report-builder \
			--enable-wiki-publisher
EXTENSIONS=		minimizer/presentation-minimizer.oxt \
d208 1
a208 4
			pdfimport/pdfimport.oxt \
			swext/wiki-publisher.oxt \
			report-builder.oxt

d219 1
a219 1
MAKE_ENV+=	TMP=${WRKSRC}
@


1.46
log
@bump for plist changes due to gcc3->gcc4 transition
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/06/26 15:48:11 robert Exp $
d13 6
a18 3
PKGNAME-main=	openoffice-${VERSION}p0
PKGNAME-kde=	openoffice-kde-${VERSION}p0
PKGNAME-java=	openoffice-java-${VERSION}p0
@


1.45
log
@Update to OpenOffice.Org 3.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/06/09 12:50:23 robert Exp $
d13 3
a15 3
PKGNAME-main=	openoffice-${VERSION}
PKGNAME-kde=	openoffice-kde-${VERSION}
PKGNAME-java=	openoffice-java-${VERSION}
@


1.44
log
@fix duplicate files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/05/26 20:36:31 robert Exp $
d9 1
a9 1
VERSION=	3.2.0
d11 5
a15 5
WRKDIST=	${WRKDIR}/OOO320_m12
PKGNAME=	openoffice-${VERSION}p1
PKGNAME-main=	openoffice-${VERSION}p4
PKGNAME-kde=	openoffice-kde-${VERSION}p1
PKGNAME-java=	openoffice-java-${VERSION}p2
d71 1
a71 1
PKGNAME-i18n-$l=	openoffice-i18n-$l-${VERSION}p0
d201 1
a201 1
EXTENSIONS=		minimizer/sun-presentation-minimizer.oxt \
d205 1
a205 1
			sun-report-builder.oxt
d237 2
a238 1
	@@echo mv ${WRKDIR}/textproc/xpdf/xpdf-3.02 . > ${WRKDIST}/xpdf/unxobsd.pro/misc/xpdf-3.02.unpack
@


1.43
log
@Handle the difference between gcc4 and other arches. Use the correct stdc++
library for them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/04/21 13:53:01 robert Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p3
@


1.42
log
@Fix stuff that update-plist did not catch correctly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/04/15 14:58:25 ajacoutot Exp $
d12 4
a15 4
PKGNAME=	openoffice-${VERSION}p0
PKGNAME-main=	openoffice-${VERSION}p2
PKGNAME-kde=	openoffice-kde-${VERSION}p0
PKGNAME-java=	openoffice-java-${VERSION}p1
a94 1
		estdc++.>=11:libstdc++->=4.2,<4.3|libstdc++->=4.2v0,<4.3v0:lang/gcc/4.2,-estdc \
d113 8
d125 1
a125 1
WANTLIB-kde=		X11 Xau Xdmcp Xext Xrandr Xrender estdc++ m \
d138 1
a138 1
WANTLIB-java=		c estdc++ m pthread
d247 6
@


1.41
log
@Stupid poor blank lines, stupid poor blank lines...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/04/12 18:45:27 jasper Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p1
d71 1
a71 1
PKGNAME-i18n-$l=	openoffice-i18n-$l-${VERSION}
@


1.40
log
@- add missing build dependency

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/04/06 21:56:31 robert Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p0
@


1.39
log
@Explicitly define what version of boost is needed.
requested by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/04/02 15:53:26 robert Exp $
d81 1
@


1.38
log
@fix -java lib depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/04/02 08:25:33 robert Exp $
d12 4
a15 4
PKGNAME=	openoffice-${VERSION}
PKGNAME-main=	openoffice-${VERSION}
PKGNAME-kde=	openoffice-kde-${VERSION}
PKGNAME-java=	openoffice-java-${VERSION}p0
d86 1
a86 1
		::devel/boost \
@


1.37
log
@disable html build output
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/03/30 11:03:07 robert Exp $
d15 1
a15 1
PKGNAME-java=	openoffice-java-${VERSION}
d130 1
a130 1
WANTLIB-java=		c estdc++ m pthread xml2
@


1.36
log
@Update to openoffice 3.2;
this is a major update that introduced many cool stuff and it's
speed is awesome compared to the previous versions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/12/22 15:08:35 ajacoutot Exp $
d220 1
a220 1
BUILD_CMD=	cd instsetoo_native && build.pl ${NCPUFLAG} --all --html --dontgraboutput && \
d223 1
a223 1
BUILD_CMD=	cd instsetoo_native && build.pl ${NCPUFLAG} --all --html --dontgraboutput --dlv_switch -link && \
@


1.35
log
@Make sure @@exec/@@unexec always returns true. This is needed as one can
use unopkg to (de-)activate extensions which would cause the exec calls
to fail.

ok espie@@ robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/01/26 01:33:52 espie Exp $
d9 1
a9 1
VERSION=	3.1.1
d11 5
a15 5
WRKDIST=	${WRKDIR}/OOO310_m19
PKGNAME=	openoffice-${VERSION}p1
PKGNAME-main=	openoffice-${VERSION}p6
PKGNAME-kde=	openoffice-kde-${VERSION}p0
PKGNAME-java=	openoffice-java-${VERSION}p1
d71 1
a71 1
PKGNAME-i18n-$l=	openoffice-i18n-$l-${VERSION}p0
d157 1
d190 3
a192 1
			--enable-pdfimport
d195 4
a198 1
			pdfimport/pdfimport.oxt
d206 4
d216 1
a216 2
.else
NCPU=		1
d220 1
a220 1
BUILD_CMD=	cd instsetoo_native && build.pl -P ${NCPU} --all && \
d223 1
a223 1
BUILD_CMD=	cd instsetoo_native && build.pl -P ${NCPU} --all --dlv_switch -link && \
d262 1
a262 1
	cd ${WRKSRC}/instsetoo_native/unxobsd.pro/OpenOffice/portable/install/en-US*/openbsd-* && \
d268 1
a268 1
	cd ${WRKSRC}/instsetoo_native/unxobsd.pro/OpenOffice_languagepack/portable/install/$l/openbsd-* && \
d276 1
a276 1
	cd ${WRKSRC}/solver/310/unxobsd.pro/bin && \
@


1.34
log
@actually allow update from openoffice 2....
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/12/22 15:08:35 ajacoutot Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p5
@


1.33
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/12/22 10:38:55 robert Exp $
d12 4
a15 4
PKGNAME=	openoffice-${VERSION}p0
PKGNAME-main=	openoffice-${VERSION}p4
PKGNAME-kde=	openoffice-kde-${VERSION}
PKGNAME-java=	openoffice-java-${VERSION}p0
d71 1
a71 1
PKGNAME-i18n-$l=	openoffice-i18n-$l-${VERSION}
@


1.32
log
@Update the desktop files to support .docx formats.
idea from antoine@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/12/21 16:13:02 robert Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p3
@


1.31
log
@Add full path for unopkg in MESSAGE-main and install the english dictionary
by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/11/28 18:33:57 kili Exp $
d12 2
a13 2
PKGNAME=	openoffice-${VERSION}
PKGNAME-main=	openoffice-${VERSION}p2
d33 1
a33 1
DISTFILES=	ooo-desktop-0.1.tar.gz:0
@


1.30
log
@Security fix: Use the xpdf version from our portstree for the pdf
importer. This basically updates the xpdf version used by the
importer from xpdf-3.02pl3 to xpdf-3.02pl4 and probably addresses
CVE-2009-3603, CVE-2009-3604, CVE-2009-3605, CVE-2009-3606,
CVE-2009-3608, and CVE-2009-3609.

I tried to build the pdf importer with poppler, but it failed badly
on PDF files containing any graphics.

While here, disable the (snake oil) DRM "feature", like we already
do in xpdf and poppler, and pass the correct flags to the xpdf
build.

Note: the extension concept of this software is stupid^W"enterprise
ready". If you ever enabled the pdf importing extension, you will
have to disable and re-enable it to get the new extension installed
(somewhere under ~/.openoffice.org or similar).

"just fucking commit you slacker ;)" robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/11/18 00:49:09 sthen Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p1
@


1.29
log
@- fix dependencies following libstdc++ bump from 4.2.4p3 to 4.2.4v0
- bump relevant PKGNAMEs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/11/09 11:03:26 sthen Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p0
d86 2
a87 1
		::devel/boost
d199 1
a199 1
MAKE_ENV+=	envcflags="${CFLAGS}"
d217 4
@


1.28
log
@bump following java.port.mk change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/09/22 17:53:42 robert Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}
d93 1
a93 1
		estdc++.>=11:libstdc++->=4.2,<4.3:lang/gcc/4.2,-estdc \
@


1.27
log
@update to version 3.1.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/08/19 04:44:37 jolan Exp $
d15 1
a15 1
PKGNAME-java=	openoffice-java-${VERSION}
@


1.26
log
@remove non-existent mirror
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/08/10 14:07:43 sthen Exp $
d9 1
a9 1
VERSION=	3.1.0
d11 1
a11 1
WRKDIST=	${WRKDIR}/OOO310_m11
d13 3
a15 3
PKGNAME-main=	openoffice-${VERSION}p8
PKGNAME-kde=	openoffice-kde-${VERSION}p0
PKGNAME-java=	openoffice-java-${VERSION}p1
@


1.25
log
@- gconf is needed to build on a clean machine

- full regen of WANTLIB-main identified some WANTLIB which should
now be LIB_DEPENDS

- zap trailing whitespace in Makefile

similar diff ok robert@@, ajacoutot@@ (minor conflicts resolved
following xcb/pthread-stubs sync since then).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/08/10 06:31:08 kili Exp $
d29 1
a29 2
		ftp://openoffice.mirror.cygnal.ca/openoffice/stable/${VERSION}/ \
		http://mirrors.protection.cx/~jolan/
@


1.24
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/07/06 23:33:36 naddy Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p7
d44 1
a44 1
# and http://www.openoffice.org/FAQs/faq-licensing.html 
d89 3
a91 1
MODULES+=	lang/python
d100 1
a100 1
		icuuc.>=0,icudata.>=0::textproc/icu4c \
d103 8
a110 7
		rdf.>=0::textproc/redland
WANTLIB-main=	ICE SM X11 Xau Xcomposite Xdamage Xdmcp Xext Xrender Xcursor \
		Xfixes Xi Xinerama Xrandr atk-1.0 c cairo crypto expat \
		fontconfig freetype gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 \
		gthread-2.0 iconv intl jpeg m pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pixman-1 png pthread rasqal ssl util xml2 z icui18n icule \
		pthread-stubs xcb
d231 1
a231 1
		${SETENV} ${MAKE_ENV} ${TCSH} -c 'limit descriptors 256 && source OpenBSDEnv.Set && ${BUILD_CMD}' 
@


1.23
log
@libjvm* is required in the -main package; from sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/07/01 13:05:54 naddy Exp $
d13 2
a14 2
PKGNAME-main=	openoffice-${VERSION}p6
PKGNAME-kde=	openoffice-kde-${VERSION}
d106 2
a107 1
		pangoft2-1.0 pixman-1 png pthread rasqal ssl util xml2 z icui18n icule 
d114 2
a115 1
WANTLIB-kde=		X11 Xau Xdmcp Xext Xrandr Xrender estdc++ m
@


1.23.2.1
log
@MFC of most patches to use the xpdf-3.02pl4 from the ports tree.

SECURITY FIX

Probably addresses CVE-2009-3603, CVE-2009-3604, CVE-2009-3605,
CVE-2009-3606, CVE-2009-3608, and CVE-2009-3609

from kili@@

ok robert@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/07/06 23:33:36 naddy Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p7
d87 1
a87 2
		::devel/boost \
		:xpdf-3.02:textproc/xpdf:patch
d194 1
a194 1
MAKE_ENV+=	envcflags="${CFLAGS}" LOCALBASE="${LOCALBASE}"
a211 4

post-extract:
	@@mkdir -p ${WRKDIST}/xpdf/unxobsd.pro/misc
	@@echo mv ${WRKDIR}/textproc/xpdf/xpdf-3.02 . > ${WRKDIST}/xpdf/unxobsd.pro/misc/xpdf-3.02.unpack
@


1.22
log
@fix java subpackage; from robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/06/09 08:18:00 robert Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p5
d15 1
a15 1
PKGNAME-java=	openoffice-java-${VERSION}p0
@


1.21
log
@kurt forgot to add his patch:
- fix 64-bit segfault in recently_used_file_handler.cxx/set_timestamp()
  caused by sscanf "%ld" -> time_t sized var.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/06/04 18:32:17 kurt Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p4
d15 1
a15 1
PKGNAME-java=	openoffice-java-${VERSION}
d125 1
a125 1
WANTLIB-java=		c m pthread
@


1.20
log
@- fix 64-bit segfault in recently_used_file_handler.cxx/set_timestamp()
  caused by sscanf "%ld" -> time_t sized var.
- remove -fno-stack-protector since gcc/4.2 doesn't have that on by
  default yet
- depend on estdc++.>=11 (with dwarf2 exceptions)
okay robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/05/26 23:26:32 sthen Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p3
@


1.19
log
@estdc++ does indeed need copying from gcc4.port.mk to LIB_DEPENDS-main
because it's not inherited from LIB_DEPENDS here; reinstate (and bump
PKGNAME), fixing problem found by James Turner. no cookie for me :(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/05/26 11:01:47 ajacoutot Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p2
d92 1
a92 1
		estdc++.>=7:libstdc++->=4.2,<4.3:lang/gcc/4.2,-estdc \
@


1.18
log
@- tweak MESSAGE

"sure" robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/05/17 09:41:05 sthen Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p1
d92 1
@


1.17
log
@remove workaround and bump for gcc4.port.mk LIB_DEPENDS change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/05/08 15:47:32 robert Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p0
@


1.16
log
@oops fix some no_java flavor ifdefs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/05/08 15:43:50 robert Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}
a91 1
		estdc++.>=7:libstdc++->=4.2,<4.3:lang/gcc/4.2,-estdc \
@


1.15
log
@update to openoffice-3.1.0

- introduce a no_java flavor because now we can build OOo w/o having jdk and
  other java dependencies installed
- introduce a parallel flavor that allows people to build OOo with parallel
  processes. to achieve this we use a so called "non-blocking" cat, so
  another distfile has been added in order two provide to pre-built static
  binaries with the needed modifications (for amd64 and i386)
  By default we run a parallel build with NCPU+1 processes.
- remove unneccessary patch files
- fix some dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/04/26 11:01:04 ajacoutot Exp $
d62 1
a62 1
.if ${FLAVOR:L:Mjava}
d115 1
a115 1
.if ${FLAVOR:L:Mjava}
d172 1
a172 1
.if ${FLAVOR:L:Mjava}
@


1.14
log
@CONFIGURE_ENV += PYTHON="${MODPY_BIN}" is inherited from the python module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/04/26 09:38:25 sthen Exp $
d9 1
a9 1
VERSION=	3.0.1
d11 1
a11 1
WRKDIST=	${WRKDIR}/OOO300_m15
d13 3
a15 3
PKGNAME-main=	openoffice-${VERSION}p4
PKGNAME-kde=	openoffice-kde-${VERSION}p1
PKGNAME-java=	openoffice-java-${VERSION}p4
d35 1
d50 1
a50 1
MULTI_PACKAGES=		-main -kde -java
d52 2
a53 2
PSEUDO_FLAVORS=	normal_build no_lang
FLAVORS=	debug
d56 10
d72 1
a72 1
PKGNAME-i18n-$l=	openoffice-i18n-$l-${VERSION}p2
a86 2
		::devel/apache-ant \
		:db-java->=4,<5:databases/db/v4,-java,java \
d98 1
a98 1
		icuuc.>=0::textproc/icu4c \
d107 1
a107 2
RUN_DEPENDS-main=	::java/javaPathHelper \
			:desktop-file-utils-*:devel/desktop-file-utils
d113 1
a113 1
WANTLIB-kde=		X11 Xau Xdmcp Xext Xrandr Xrender m
d115 1
d119 3
a121 1
LIB_DEPENDS-java=
d124 1
a124 1
			:db-java->=4,<5:databases/db/v4,-java,java
a132 1
WRKCONF=	${WRKSRC}/config_office
d169 5
a173 1
		--with-java \
d176 4
a179 3
		--with-db-jar=${LOCALBASE}/lib/db4/db.jar \
		--with-vba-package-format="builtin" \
		--with-lang="en-US ${LANGS}"
d199 6
d206 2
a207 1
BUILD_CMD=	dmake && cd instsetoo_native/util && dmake ooolanguagepack
d209 1
a209 1
BUILD_CMD=	cd instsetoo_native && build.pl --all --dlv_switch -link && \
d214 3
d258 1
a258 1
	cd ${WRKSRC}/solver/300/unxobsd.pro/bin && \
@


1.13
log
@pkgname bumps following java.port.mk r1.18, pointed out by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/04/24 09:33:07 sthen Exp $
d134 1
a134 2
		QTINC="${MODQT_INCDIR}" QTDIR="${MODQT_LIBDIR}" \
		PYTHON="${MODPY_BIN}"
@


1.12
log
@be explicit with packages-specs(7) in the LIB_DEPENDS for libstdc++ and
bump PKGNAME-main. avoids asking which version of libstdc++ you would like
to use when you pkg_add -u.  ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/03/15 13:25:09 espie Exp $
d15 1
a15 1
PKGNAME-java=	openoffice-java-${VERSION}p3
@


1.11
log
@fix depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/03/11 23:22:01 sthen Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p3
d83 1
a83 1
		estdc++.>=7::lang/gcc/4.2,-estdc \
@


1.10
log
@bump pkgname following java dep change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/02/22 14:10:30 naddy Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p2
d15 1
a15 1
PKGNAME-java=	openoffice-java-${VERSION}p2
d77 1
a77 1
		:db-java-4.*:databases/db/v4,-java,java \
d84 1
a84 1
		db.>=4:db-4.*:databases/db/v4 \
d113 1
a113 1
			:db-java-4.*:databases/db/v4,-java,java
@


1.9
log
@forgotten bump for -i18n packages; ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/02/15 08:57:27 robert Exp $
d15 1
a15 1
PKGNAME-java=	openoffice-java-${VERSION}p1
@


1.8
log
@put some files from the main plist to their places. this fixes
the no_lang flavour. noted by ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/02/09 20:36:02 ian Exp $
d61 1
a61 1
PKGNAME-i18n-$l=	openoffice-i18n-$l-${VERSION}p1
@


1.7
log
@Update dependencies for dependent packages, bump dependent pkgs.
ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/02/06 23:06:27 robert Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p1
@


1.6
log
@we need bash to complete a build at the moment. this is being worked on,
but for now, add it to the build dependencies.
noted by simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/02/01 17:35:26 robert Exp $
d14 2
a15 2
PKGNAME-kde=	openoffice-kde-${VERSION}
PKGNAME-java=	openoffice-java-${VERSION}
d61 1
a61 1
PKGNAME-i18n-$l=	openoffice-i18n-$l-${VERSION}
d63 1
a63 1
RUN_DEPENDS-i18n-$l=	::editors/openoffice
d102 1
a102 1
RUN_DEPENDS-kde=	::editors/openoffice
d112 1
a112 1
			::editors/openoffice \
@


1.5
log
@Add libestdc++ to LIB_DEPENDS-main and remove some garbage from the Makefile;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/02/01 12:56:30 robert Exp $
d73 1
@


1.4
log
@Tell the user about the extenions and a way of installing them;
bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/01/31 01:06:20 robert Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}p0
a78 4
LIB_DEPENDS:   raptor.2 from raptor-1.4.18 (/usr/local/openoffice.org/basis3.0/program/libunordf.so)
LIB_DEPENDS:   rasqal.1 from redland-1.0.8 (/usr/local/openoffice.org/basis3.0/program/libunordf.so)
LIB_DEPENDS:   rdf.0 from redland-1.0.8 (/usr/local/openoffice.org/basis3.0/program/libunordf.so)

d82 1
@


1.3
log
@Update to OpenOffice.Org 3.0.1, and finally make it work.
Some extensions have been added by default like the PDF Importer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/01/22 17:44:38 robert Exp $
d13 1
a13 1
PKGNAME-main=	openoffice-${VERSION}
a16 2

SHARED_LIBS=	stlport_gcc	4.5
@


1.2
log
@update to openoffice 3.0.1rc1;

this now builds with gcc4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/10/30 18:51:05 robert Exp $
d9 1
a9 1
VERSION=	3.0.1rc1
d11 1
a11 1
WRKDIST=	${WRKDIR}/ooo_OOO300_m15_src
d23 2
a24 1
MASTER_SITES=	http://ftp.linux.cz/pub/localization/OpenOffice.org/devel/build/Sources/ \
d37 3
a39 4
#.for dfile in binfilter core extensions l10n system
#DISTFILES+=	${DISTNAME}_src_${dfile}.tar.bz2
#.endfor
DISTFILES+=	OOo_OOO300_m15_source.tar.gz
d81 4
d95 2
a96 2
		::textproc/raptor \
		::textproc/redland
d99 1
a99 1
		fontconfig freetype glib-2.0 glitz gmodule-2.0 gobject-2.0 \
d101 1
a101 1
		pangoft2-1.0 png pthread stdc++ ssl util xml2 z icui18n icule 
d109 1
a109 1
WANTLIB-kde=		X11 Xext m
d118 1
a118 1
WANTLIB-java=		c m pthread stdc++
a124 2
#PATCHFILES=	build-java-target-2.4.0.diff:0

a164 1
		--with-java-target-version=1.4 \
d168 1
d172 6
a177 6
#CONFIGURE_ARGS+=	--enable-minimizer \
#			--enable-presenter-console \
#			--enable-pdfimport
#EXTENSIONS=		minimizer/sun-presentation-minimizer.oxt \
#			presenter/presenter-screen.oxt \
#			pdfimport/pdfimport.oxt
d209 3
d226 1
a226 1
			${TAR} xf $$SW -C ${PREFIX}; \
d232 1
a232 1
			${TAR} xf $$SW -C ${PREFIX}; \
d236 4
a239 5
	cd ${WRKSRC}/bridges/unxobsd.pro/lib && \
		for UNOLIB in `ls -1 *.so`; do \
			${INSTALL_DATA} $$UNOLIB \
				${PREFIX}/openoffice/program; \
		done
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2008/06/27 13:11:11 kurt Exp $
d9 1
a9 1
VERSION=	3.0.0
d11 1
a11 1
WRKDIST=	${WRKDIR}/OOO300_m9
d36 4
a39 3
.for dfile in binfilter core extensions l10n system
DISTFILES+=	${DISTNAME}_src_${dfile}.tar.bz2
.endfor
d90 3
a92 1
		::devel/gperf
d159 1
d168 8
@


1.1.1.1
log
@Import of OpenOffice 3.0;

Currently it is a different port because it still needs a lot of work
and there are a lot of differences from openoffice2. It is not connected
to the build, and it's going to be merged with the openoffice2 port whenever
it's ready for use.
@
text
@@
