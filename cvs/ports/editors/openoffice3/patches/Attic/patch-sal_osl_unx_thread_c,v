head	1.5;
access;
symbols
	OPENBSD_5_0:1.4.0.6
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.4
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.2
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.4
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	robert_20081030:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2011.11.16.13.38.22;	author robert;	state dead;
branches;
next	1.4;

1.4
date	2010.06.26.15.48.12;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2009.05.08.15.43.50;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2009.01.22.17.44.39;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2008.10.30.18.51.06;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.10.30.18.51.06;	author robert;	state Exp;
branches;
next	;


desc
@@


1.5
log
@remove the dead openoffice ports
@
text
@--- sal/osl/unx/thread.c.orig.port	Wed May 26 20:28:29 2010
+++ sal/osl/unx/thread.c	Fri Jun 25 23:56:14 2010
@@@@ -27,6 +27,7 @@@@
 
 #include "system.h"
 #include <string.h>
+#include <sched.h>
 #include <osl/diagnose.h>
 #include <osl/thread.h>
 #include <osl/nlsupport.h>
@@@@ -281,6 +282,7 @@@@ static oslThread osl_thread_create_Impl (
 {
 	Thread_Impl* pImpl;
     int nRet=0;
+    pthread_attr_t attr;
 
 	pImpl = osl_thread_construct_Impl();
     if (!pImpl)
@@@@ -292,9 +294,18 @@@@ static oslThread osl_thread_create_Impl (
 
     pthread_mutex_lock (&(pImpl->m_Lock));
 
+
+	if (pthread_attr_init(&attr) != 0)
+		 return (0);
+
+	if (pthread_attr_setstacksize(&attr, 262144) != 0) {
+		pthread_attr_destroy(&attr);
+		return(0);
+	}
+
 	if ((nRet = pthread_create (
 		&(pImpl->m_hThread),
-		PTHREAD_ATTR_DEFAULT,
+		&attr,
 		osl_thread_start_Impl,
 		(void*)(pImpl))) != 0)
 	{
@@@@ -306,6 +317,8 @@@@ static oslThread osl_thread_create_Impl (
 
 		return (0);
 	}
+
+	pthread_attr_destroy(&attr);
 
 	/* wait for change from STARTUP to ACTIVE state */
 	while (pImpl->m_Flags & THREADIMPL_FLAGS_STARTUP)
@


1.4
log
@Update to OpenOffice.Org 3.2.1
@
text
@@


1.3
log
@update to openoffice-3.1.0

- introduce a no_java flavor because now we can build OOo w/o having jdk and
  other java dependencies installed
- introduce a parallel flavor that allows people to build OOo with parallel
  processes. to achieve this we use a so called "non-blocking" cat, so
  another distfile has been added in order two provide to pre-built static
  binaries with the needed modifications (for amd64 and i386)
  By default we run a parallel build with NCPU+1 processes.
- remove unneccessary patch files
- fix some dependencies
@
text
@d1 3
a3 3
--- sal/osl/unx/thread.c.orig.port	Wed Oct  1 12:04:58 2008
+++ sal/osl/unx/thread.c	Thu May  7 23:14:17 2009
@@@@ -30,6 +30,7 @@@@
d11 1
a11 1
@@@@ -284,6 +285,7 @@@@ static oslThread osl_thread_create_Impl (
d19 1
a19 1
@@@@ -295,9 +297,18 @@@@ static oslThread osl_thread_create_Impl (
d39 1
a39 1
@@@@ -309,6 +320,8 @@@@ static oslThread osl_thread_create_Impl (
@


1.2
log
@update to openoffice 3.0.1rc1;

this now builds with gcc4
@
text
@d1 2
a2 2
--- sal/osl/unx/thread.c.orig.port	Fri Aug  1 07:32:17 2008
+++ sal/osl/unx/thread.c	Thu Jan 15 14:47:50 2009
d11 1
a11 1
@@@@ -281,6 +282,7 @@@@ static oslThread osl_thread_create_Impl (
d19 1
a19 1
@@@@ -292,9 +294,18 @@@@ static oslThread osl_thread_create_Impl (
d39 1
a39 1
@@@@ -306,6 +317,8 @@@@ static oslThread osl_thread_create_Impl (
@


1.1
log
@Initial revision
@
text
@d1 2
a2 2
--- sal/osl/unx/thread.c.orig.port	Thu Apr 10 13:14:27 2008
+++ sal/osl/unx/thread.c	Sat Oct 25 15:09:22 2008
d11 1
a11 1
@@@@ -281,6 +282,7 @@@@
d19 1
a19 1
@@@@ -292,9 +294,18 @@@@
d39 1
a39 1
@@@@ -306,6 +317,8 @@@@
@


1.1.1.1
log
@Import of OpenOffice 3.0;

Currently it is a different port because it still needs a lot of work
and there are a lot of differences from openoffice2. It is not connected
to the build, and it's going to be merged with the openoffice2 port whenever
it's ready for use.
@
text
@@
