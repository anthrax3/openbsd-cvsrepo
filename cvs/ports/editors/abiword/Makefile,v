head	1.109;
access;
symbols
	OPENBSD_6_0:1.106.0.2
	OPENBSD_6_0_BASE:1.106
	OPENBSD_5_9:1.104.0.2
	OPENBSD_5_9_BASE:1.104
	OPENBSD_5_8:1.103.0.4
	OPENBSD_5_8_BASE:1.103
	OPENBSD_5_7:1.98.0.2
	OPENBSD_5_7_BASE:1.98
	OPENBSD_5_6:1.96.0.2
	OPENBSD_5_6_BASE:1.96
	OPENBSD_5_5:1.95.0.2
	OPENBSD_5_5_BASE:1.95
	OPENBSD_5_4:1.91.0.2
	OPENBSD_5_4_BASE:1.91
	OPENBSD_5_3:1.87.0.2
	OPENBSD_5_3_BASE:1.87
	OPENBSD_5_2:1.86.0.2
	OPENBSD_5_2_BASE:1.86
	OPENBSD_5_1_BASE:1.85
	OPENBSD_5_1:1.85.0.2
	OPENBSD_5_0:1.83.0.2
	OPENBSD_5_0_BASE:1.83
	OPENBSD_4_9:1.81.0.2
	OPENBSD_4_9_BASE:1.81
	OPENBSD_4_8:1.75.0.2
	OPENBSD_4_8_BASE:1.75
	OPENBSD_4_7:1.73.0.2
	OPENBSD_4_7_BASE:1.73
	OPENBSD_4_6:1.70.0.2
	OPENBSD_4_6_BASE:1.70
	OPENBSD_4_5:1.68.0.4
	OPENBSD_4_5_BASE:1.68
	OPENBSD_4_4:1.68.0.2
	OPENBSD_4_4_BASE:1.68
	OPENBSD_4_3:1.66.0.2
	OPENBSD_4_3_BASE:1.66
	OPENBSD_4_2:1.62.0.4
	OPENBSD_4_2_BASE:1.62
	OPENBSD_4_1:1.62.0.2
	OPENBSD_4_1_BASE:1.62
	OPENBSD_4_0:1.57.0.2
	OPENBSD_4_0_BASE:1.57
	OPENBSD_3_9:1.52.0.2
	OPENBSD_3_9_BASE:1.52
	OPENBSD_3_8:1.43.0.2
	OPENBSD_3_8_BASE:1.43
	OPENBSD_3_7:1.37.0.2
	OPENBSD_3_7_BASE:1.37
	OPENBSD_3_6:1.34.0.2
	OPENBSD_3_6_BASE:1.34
	OPENBSD_3_5:1.32.0.2
	OPENBSD_3_5_BASE:1.32
	OPENBSD_3_4:1.30.0.2
	OPENBSD_3_4_BASE:1.30
	OPENBSD_3_3:1.29.0.2
	OPENBSD_3_3_BASE:1.29
	OPENBSD_3_2:1.21.0.4
	OPENBSD_3_2_BASE:1.21
	OPENBSD_3_1:1.21.0.2
	OPENBSD_3_1_BASE:1.21
	OPENBSD_3_0:1.20.0.2
	OPENBSD_3_0_BASE:1.20
	OPENBSD_2_9_TRACKING_SWITCH:1.20
	OPENBSD_2_9:1.17.0.2
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.14.0.2
	OPENBSD_2_8_BASE:1.14
	OPENBSD_2_7:1.8.0.2
	OPENBSD_2_7_BASE:1.8
	dugsong_1999-Nov-08:1.1.1.1
	dugsong:1.1.1;
locks; strict;
comment	@# @;


1.109
date	2017.02.21.09.44.37;	author ajacoutot;	state Exp;
branches;
next	1.108;
commitid	kgXXP4OLy7PYtkk5;

1.108
date	2016.11.07.10.51.36;	author sthen;	state Exp;
branches;
next	1.107;
commitid	bXhLeQYbQdffqUSF;

1.107
date	2016.11.04.11.35.18;	author sthen;	state Exp;
branches;
next	1.106;
commitid	Gg5LRcnQlqj5M3F7;

1.106
date	2016.03.20.16.12.24;	author naddy;	state Exp;
branches;
next	1.105;
commitid	guiZq8cnNbVyyHzx;

1.105
date	2016.03.11.20.28.25;	author naddy;	state Exp;
branches;
next	1.104;
commitid	UYLP8TE6V7RS2GhJ;

1.104
date	2015.10.30.12.47.39;	author sthen;	state Exp;
branches;
next	1.103;
commitid	IIzCiS5xiW9Dmxlk;

1.103
date	2015.05.28.10.17.23;	author pascal;	state Exp;
branches;
next	1.102;
commitid	020U4lCPk8wUkCOz;

1.102
date	2015.05.05.17.00.17;	author sthen;	state Exp;
branches;
next	1.101;
commitid	ukCYGVBlglFzny8e;

1.101
date	2015.04.04.09.21.01;	author ajacoutot;	state Exp;
branches;
next	1.100;
commitid	kS3kwKZogsvzYmEY;

1.100
date	2015.03.27.08.11.26;	author ajacoutot;	state Exp;
branches;
next	1.99;
commitid	mHt3hIg3nxq5XDcy;

1.99
date	2015.03.16.21.45.18;	author landry;	state Exp;
branches;
next	1.98;
commitid	0kO4bBfyFU6lAIz5;

1.98
date	2015.01.21.17.25.50;	author ajacoutot;	state Exp;
branches;
next	1.97;
commitid	336NyrqN0INXzQfl;

1.97
date	2014.11.05.11.43.59;	author sthen;	state Exp;
branches;
next	1.96;
commitid	RB64hioD1zIM5GcO;

1.96
date	2014.03.09.22.11.05;	author ajacoutot;	state Exp;
branches;
next	1.95;

1.95
date	2013.12.22.10.41.26;	author landry;	state Exp;
branches;
next	1.94;

1.94
date	2013.11.29.08.51.52;	author ajacoutot;	state Exp;
branches;
next	1.93;

1.93
date	2013.10.26.11.27.21;	author ajacoutot;	state Exp;
branches;
next	1.92;

1.92
date	2013.10.01.09.07.18;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2013.06.04.18.41.40;	author naddy;	state Exp;
branches;
next	1.90;

1.90
date	2013.05.31.15.34.44;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2013.03.21.08.45.16;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2013.03.11.11.02.49;	author espie;	state Exp;
branches;
next	1.87;

1.87
date	2012.12.21.12.13.35;	author sthen;	state Exp;
branches;
next	1.86;

1.86
date	2012.04.23.06.40.22;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2011.12.08.11.02.30;	author ajacoutot;	state Exp;
branches;
next	1.84;

1.84
date	2011.09.16.09.48.08;	author espie;	state Exp;
branches;
next	1.83;

1.83
date	2011.04.05.14.42.39;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2011.04.02.16.56.42;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2010.11.15.23.22.07;	author espie;	state Exp;
branches;
next	1.80;

1.80
date	2010.10.24.21.16.25;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2010.10.18.18.00.15;	author espie;	state Exp;
branches;
next	1.78;

1.78
date	2010.10.11.08.12.44;	author jasper;	state Exp;
branches;
next	1.77;

1.77
date	2010.10.01.17.43.41;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2010.08.22.10.09.54;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2010.05.10.12.31.51;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2010.03.21.10.55.04;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2009.12.22.15.08.35;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2009.10.10.09.51.52;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2009.08.10.06.31.08;	author kili;	state Exp;
branches;
next	1.70;

1.70
date	2009.06.16.19.57.50;	author sthen;	state Exp;
branches;
next	1.69;

1.69
date	2009.05.17.18.32.04;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2008.06.15.00.06.52;	author sthen;	state Exp;
branches;
next	1.67;

1.67
date	2008.05.28.20.05.14;	author naddy;	state Exp;
branches;
next	1.66;

1.66
date	2008.02.20.01.17.53;	author merdely;	state Exp;
branches;
next	1.65;

1.65
date	2007.12.15.20.32.57;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2007.11.13.14.06.21;	author steven;	state Exp;
branches;
next	1.63;

1.63
date	2007.09.16.00.44.00;	author merdely;	state Exp;
branches;
next	1.62;

1.62
date	2007.01.04.20.19.53;	author steven;	state Exp;
branches;
next	1.61;

1.61
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2006.12.02.11.14.20;	author steven;	state Exp;
branches;
next	1.59;

1.59
date	2006.11.11.21.04.27;	author steven;	state Exp;
branches;
next	1.58;

1.58
date	2006.09.18.11.50.39;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2006.08.02.09.36.20;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2006.08.01.23.39.08;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2006.07.15.19.21.24;	author brad;	state Exp;
branches;
next	1.54;

1.54
date	2006.06.13.13.22.36;	author bernd;	state Exp;
branches;
next	1.53;

1.53
date	2006.04.19.13.36.50;	author jsg;	state Exp;
branches;
next	1.52;

1.52
date	2006.01.30.19.20.24;	author fgsch;	state Exp;
branches;
next	1.51;

1.51
date	2006.01.17.18.21.58;	author steven;	state Exp;
branches;
next	1.50;

1.50
date	2006.01.07.02.17.47;	author pvalchev;	state Exp;
branches;
next	1.49;

1.49
date	2005.11.15.09.21.51;	author wilfried;	state Exp;
branches;
next	1.48;

1.48
date	2005.11.14.16.02.24;	author wilfried;	state Exp;
branches;
next	1.47;

1.47
date	2005.10.19.22.24.11;	author fgsch;	state Exp;
branches;
next	1.46;

1.46
date	2005.10.14.16.55.23;	author fgsch;	state Exp;
branches;
next	1.45;

1.45
date	2005.10.07.15.42.06;	author fgsch;	state Exp;
branches;
next	1.44;

1.44
date	2005.09.27.05.19.38;	author fgsch;	state Exp;
branches;
next	1.43;

1.43
date	2005.07.29.17.33.56;	author fgsch;	state Exp;
branches
	1.43.2.1;
next	1.42;

1.42
date	2005.07.04.18.02.48;	author aanriot;	state Exp;
branches;
next	1.41;

1.41
date	2005.07.01.17.46.02;	author aanriot;	state Exp;
branches;
next	1.40;

1.40
date	2005.06.30.04.52.23;	author fgsch;	state Exp;
branches;
next	1.39;

1.39
date	2005.06.29.06.45.23;	author fgsch;	state Exp;
branches;
next	1.38;

1.38
date	2005.06.23.10.01.21;	author fgsch;	state Exp;
branches;
next	1.37;

1.37
date	2005.02.21.13.41.37;	author couderc;	state Exp;
branches
	1.37.2.1;
next	1.36;

1.36
date	2004.12.25.21.51.00;	author alek;	state Exp;
branches;
next	1.35;

1.35
date	2004.11.24.11.08.02;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2004.08.10.08.32.35;	author xsa;	state Exp;
branches;
next	1.33;

1.33
date	2004.06.25.06.14.08;	author marcm;	state Exp;
branches;
next	1.32;

1.32
date	2004.01.10.22.51.14;	author couderc;	state Exp;
branches;
next	1.31;

1.31
date	2003.12.16.18.32.32;	author sturm;	state Exp;
branches;
next	1.30;

1.30
date	2003.08.16.16.32.58;	author couderc;	state Exp;
branches;
next	1.29;

1.29
date	2003.03.06.00.49.08;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	2003.02.20.05.50.34;	author marcm;	state Exp;
branches;
next	1.27;

1.27
date	2003.02.11.19.47.34;	author couderc;	state Exp;
branches;
next	1.26;

1.26
date	2003.02.11.18.50.22;	author marcm;	state Exp;
branches;
next	1.25;

1.25
date	2003.02.03.15.13.10;	author couderc;	state Exp;
branches;
next	1.24;

1.24
date	2003.01.24.22.29.52;	author couderc;	state Exp;
branches;
next	1.23;

1.23
date	2002.11.14.20.16.27;	author marcm;	state Exp;
branches;
next	1.22;

1.22
date	2002.10.17.18.37.13;	author couderc;	state Exp;
branches;
next	1.21;

1.21
date	2001.11.13.22.13.23;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2001.06.15.15.27.36;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2001.05.24.02.27.13;	author kevlo;	state Exp;
branches;
next	1.18;

1.18
date	2001.05.06.00.28.54;	author lebel;	state Exp;
branches;
next	1.17;

1.17
date	2001.02.18.23.58.37;	author dugsong;	state Exp;
branches;
next	1.16;

1.16
date	2001.02.18.18.44.57;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2001.01.18.05.04.00;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.10.22.14.03.09;	author espie;	state Exp;
branches
	1.14.2.1;
next	1.13;

1.13
date	2000.09.27.21.26.45;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2000.07.17.07.34.57;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2000.06.25.22.50.18;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2000.06.12.10.05.19;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	2000.05.21.12.38.59;	author fgsch;	state Exp;
branches;
next	1.8;

1.8
date	2000.04.09.17.36.22;	author espie;	state Exp;
branches
	1.8.2.1;
next	1.7;

1.7
date	2000.03.24.23.28.06;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.16.22.32.35;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.05.18.30.26;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.11.00.37.22;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2000.01.13.22.25.34;	author fgsch;	state Exp;
branches;
next	1.2;

1.2
date	99.11.08.14.08.48;	author dugsong;	state Exp;
branches;
next	1.1;

1.1
date	99.11.08.14.05.52;	author dugsong;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.11.08.14.05.52;	author dugsong;	state Exp;
branches;
next	;

1.8.2.1
date	2000.09.15.04.50.12;	author marc;	state Exp;
branches;
next	;

1.14.2.1
date	2001.01.18.05.05.49;	author brad;	state Exp;
branches;
next	;

1.37.2.1
date	2005.10.13.20.27.37;	author robert;	state Exp;
branches;
next	1.37.2.2;

1.37.2.2
date	2005.10.21.14.45.09;	author sturm;	state Exp;
branches;
next	;

1.43.2.1
date	2005.11.01.11.26.35;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.109
log
@Sync WANTLIB to unbreak (reported by naddy@@).
@
text
@# $OpenBSD: Makefile,v 1.108 2016/11/07 10:51:36 sthen Exp $

BROKEN-alpha=	gr_RenderInfo.cpp:426:1: internal compiler error: Segmentation fault

COMMENT=	free cross-platform WYSIWYG word processor

VERSION=	3.0.1
DISTNAME=	abiword-${VERSION}
REVISION=	7

MAJORVER=	${VERSION:C/..$//}
SUBST_VARS=	MAJORVER

SHARED_LIBS +=  abiword-3.0               0.0 # 0.0

CATEGORIES=	editors

HOMEPAGE=	http://www.abisource.com/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += avahi-common bz2 c cairo cairo-gobject croco-0.6 crypto
WANTLIB += curl dbus-1 enchant epoxy expat ffi fontconfig freetype
WANTLIB += fribidi gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gmp gobject-2.0 goffice-0.10 gpg-error
WANTLIB += graphite2 gs gsf-1 gthread-2.0 gtk-3 harfbuzz hogweed
WANTLIB += idn2 jpeg ltdl lzma m mpfr nettle nghttp2 p11-kit pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs raptor2 rasqal rdf rsvg-2 spectre ssl
WANTLIB += stdc++ tasn1 unistring uuid wmf-0.2 wmflite-0.2 wv-1.2
WANTLIB += xcb xcb-render xcb-shm xml2 xslt yajl z

MASTER_SITES=   http://www.abisource.com/downloads/abiword/${VERSION}/source/

MODULES=	devel/gettext \
		lang/python

MODULES +=	gcc4
MODGCC4_ARCHS=	*
MODGCC4_LANGS=	c++

.if ${MACHINE_ARCH} == "hppa"
CFLAGS +=	-O0
.endif   

MODPY_RUNDEP=	No

USE_GMAKE=	Yes

BUILD_DEPENDS=	devel/gobject-introspection

# plugins/openxml.so
BUILD_DEPENDS +=devel/boost

RUN_DEPENDS=	devel/desktop-file-utils \
		x11/gtk+3,-guic

LIB_DEPENDS=	devel/fribidi \
		converters/wv \
		devel/goffice \
		textproc/enchant \
		textproc/redland

# src/af/util/xp/ut_go_file.cpp
RUN_DEPENDS +=	devel/xdg-utils

PLUGINS=	goffice opendocument openwriter openxml pdf

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--enable-introspection \
		--enable-plugins="${PLUGINS}" \
		--enable-clipart \
		--enable-templates

# let's try to keep this package small-ish
CONFIGURE_ARGS += \
		--without-evolution-data-server \
		--without-gnomevfs \
		--without-libical \
		--without-champlain \
		--without-inter7eps \
		--without-libtidy

CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

post-install:
	rm ${PREFIX}/lib/abiword-${MAJORVER}/plugins/*.a
	rm ${PREFIX}/lib/abiword-${MAJORVER}/plugins/*.la

.include <bsd.port.mk>
@


1.108
log
@sync WANTLIB (readding idn to some where I was overzealous, plus some lzma/pthread)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2016/11/04 11:35:18 sthen Exp $
d9 1
a9 1
REVISION=	6
d23 12
a34 11
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi avahi-common bz2
WANTLIB += c cairo cairo-gobject croco-0.6 crypto curl dbus-1 enchant
WANTLIB += epoxy expat ffi fontconfig freetype fribidi gcrypt gdk-3
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gmp gobject-2.0
WANTLIB += goffice-0.10 gpg-error graphite2 gs gsf-1 gthread-2.0 gtk-3
WANTLIB += harfbuzz hogweed idn jpeg ltdl lzma m mpfr nettle nghttp2
WANTLIB += p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png
WANTLIB += pthread pthread-stubs raptor2 rasqal rdf rsvg-2 spectre ssl
WANTLIB += stdc++ tasn1 uuid wmf-0.2 wmflite-0.2 wv-1.2 xcb xcb-render
WANTLIB += xcb-shm xml2 xslt yajl z
@


1.107
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2016/03/20 16:12:24 naddy Exp $
d9 1
a9 1
REVISION=	5
d29 2
a30 2
WANTLIB += harfbuzz hogweed jpeg ltdl lzma m mpfr nettle nghttp2 p11-kit
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png
@


1.106
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2016/03/11 20:28:25 naddy Exp $
d9 1
a9 1
REVISION=	4
d29 1
a29 1
WANTLIB += harfbuzz hogweed idn jpeg ltdl lzma m mpfr nettle nghttp2 p11-kit
@


1.105
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2015/10/30 12:47:39 sthen Exp $
a3 2

SHARED_ONLY=	Yes
@


1.104
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2015/05/28 10:17:23 pascal Exp $
d74 1
a74 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--enable-introspection \
@


1.103
log
@gcc4 bumps, reminded by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2015/05/05 17:00:17 sthen Exp $
d11 1
a11 1
REVISION=	3
d31 1
a31 1
WANTLIB += harfbuzz hogweed idn jpeg ltdl lzma m mpfr nettle p11-kit
@


1.102
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2015/04/04 09:21:01 ajacoutot Exp $
d11 1
a11 1
REVISION=	2
@


1.101
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2015/03/27 08:11:26 ajacoutot Exp $
d11 1
a11 1
REVISION=	1
d25 11
a35 12
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += avahi-common bz2 c cairo cairo-gobject croco-0.6 crypto
WANTLIB += curl dbus-1 enchant expat ffi fontconfig freetype fribidi
WANTLIB += gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gmp gobject-2.0 goffice-0.10 gpg-error graphite2 gs
WANTLIB += gsf-1 gthread-2.0 gtk-3 harfbuzz hogweed idn jpeg ltdl
WANTLIB += lzma m mpfr nettle p11-kit pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += raptor2 rasqal rdf rsvg-2 spectre ssl stdc++ tasn1
WANTLIB += uuid wmf-0.2 wmflite-0.2 wv-1.2 xcb xcb-render xcb-shm
WANTLIB += xml2 xslt yajl z
@


1.100
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2015/03/16 21:45:18 landry Exp $
d11 1
a11 1
REVISION=	0
@


1.99
log
@Use -O0 on hppa, otherwise gcc 4.8 does an ICE on
"internal compiler error: in expand_expr_addr_expr_1, at expr.c:7656"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2015/01/21 17:25:50 ajacoutot Exp $
d11 1
d61 1
a61 1
		x11/gtk+2,-guic
@


1.98
log
@Update to abiword-3.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2014/11/05 11:43:59 sthen Exp $
d45 4
@


1.97
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2014/03/09 22:11:05 ajacoutot Exp $
d9 1
a9 1
VERSION=	3.0.0
a10 1
REVISION=	2
d30 6
a35 5
WANTLIB += gsf-1 gthread-2.0 gtk-3 harfbuzz idn jpeg ltdl lzma m mpfr
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs raptor2 rasqal rdf rsvg-2
WANTLIB += spectre ssl stdc++ uuid wmf-0.2 wmflite-0.2 wv-1.2 xcb xcb-render
WANTLIB += xcb-shm xml2 xslt yajl z
d55 2
a56 1
RUN_DEPENDS=	devel/desktop-file-utils
@


1.96
log
@Sync WANTLIB after goffice update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2013/12/22 10:41:26 landry Exp $
d11 1
a11 1
REVISION=	1
d31 1
a31 1
WANTLIB += gsf-1 gthread-2.0 gtk-3 harfbuzz idn jpeg ltdl m mpfr
d34 1
a34 1
WANTLIB += spectre ssl stdc++ wmf-0.2 wmflite-0.2 wv-1.2 xcb xcb-render
@


1.95
log
@BROKEN-alpha since update to 3.0.0 (2.8.6 was fine)
gr_RenderInfo.cpp:426:1: internal compiler error: Segmentation fault
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2013/11/29 08:51:52 ajacoutot Exp $
d11 1
a11 1
REVISION=	0
d31 5
a35 5
WANTLIB += gsf-1 gthread-2.0 gtk-3 harfbuzz idn jpeg lasem-0.4
WANTLIB += ltdl m mpfr pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png pthread pthread-stubs raptor2 rasqal rdf
WANTLIB += rsvg-2 spectre ssl stdc++ wmf-0.2 wmflite-0.2 wv-1.2
WANTLIB += xcb xcb-render xcb-shm xml2 xslt yajl z
@


1.94
log
@Loosen up the dependency on devel/goffice version.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.93 2013/10/26 11:27:21 ajacoutot Exp $
@


1.93
log
@Update to abiword-3.0.0.
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.92 2013/10/01 09:07:18 ajacoutot Exp $

GOFFICE_API_VERSION=	0.10
GOFFICE_VERSION=	0.10.8
d9 1
d57 1
a57 1
		devel/goffice=${GOFFICE_VERSION} \
@


1.92
log
@distfiles.bsdfrog.org: http -> https
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.91 2013/06/04 18:41:40 naddy Exp $
d10 1
a10 2
VERSION=	2.8.6
MAJORVER=	${VERSION:C/..$//}
d13 2
a14 7
REVISION=	7

# Merge a patch from Fedora to change default font from Times Roman to
# DejaVu Serif.: fixes font corruption issue on machines where
# msttcorefonts are not installed.
PATCHFILES=	abiword-dejavu.patch:0
MASTER_SITES0=	https://distfiles.bsdfrog.org/
d16 1
a16 1
SHARED_LIBS +=	abiword-2.8 0.0 # .0.0
a21 9
MODULES=	devel/gettext

RUN_DEPENDS=	devel/desktop-file-utils
LIB_DEPENDS=	devel/fribidi \
		converters/wv \
		textproc/enchant \
		x11/gnome/librsvg \
		x11/gtk+2

d25 20
a44 9
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 bz2 c cairo
WANTLIB += croco-0.6 drm enchant expat ffi fontconfig freetype
WANTLIB += fribidi gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gsf-1 gthread-2.0 gtk-x11-2.0
WANTLIB += jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs rsvg-2 stdc++ wmf-0.2 wmflite-0.2
WANTLIB += wv-1.2 xcb xcb-render xcb-shm xml2 z
WANTLIB += harfbuzz
d46 1
a46 1
MASTER_SITES=   ${HOMEPAGE}/downloads/abiword/${VERSION}/source/
d49 2
a50 1
USE_GROFF=	Yes
d53 14
a66 1
BUILD_DEPENDS=	devel/boost
d70 2
a71 1
		--enable-templates \
d73 10
a82 11
		--enable-plugins=openxml \
		--disable-collab-backend-fake \
		--disable-collab-backend-telepathy \
		--disable-collab-record-always \
		--enable-collab-backend-xmpp \
		--enable-collab-backend-sugar \
		--without-goffice \
		--without-gnomevfs
# broken configure checks (i.e. "no" makes it think we want to enable them)
#		--disable-collab-backend-tcp
#		--disable-collab-backend-service
a85 5

SUBST_VARS=	MAJORVER

pre-configure:
	@@perl -pi -e "s|libpng12|libpng|g" ${WRKSRC}/configure
@


1.91
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/05/31 15:34:44 ajacoutot Exp $
d17 1
a17 1
MASTER_SITES0=	http://distfiles.bsdfrog.org/
@


1.90
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/03/21 08:45:16 ajacoutot Exp $
d71 1
a71 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include \
			-I${LOCALBASE}/include/libpng" \
@


1.89
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/03/11 11:02:49 espie Exp $
d11 1
a11 1
REVISION=	6
d45 1
a45 1
WANTLIB += harfbuzz icudata icule icuuc
@


1.88
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2012/12/21 12:13:35 sthen Exp $
a48 1
USE_LIBTOOL=	Yes
@


1.87
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2012/04/23 06:40:22 ajacoutot Exp $
a35 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.86
log
@Mark this port SHARED_ONLY and merge PLISTs.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2011/12/08 11:02:30 ajacoutot Exp $
d11 1
a11 1
REVISION=	5
d48 1
@


1.85
log
@Enable support for docx files; req. by "Brett"
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.84 2011/09/16 09:48:08 espie Exp $
d11 1
a11 1
REVISION=	4
d82 4
@


1.84
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2011/04/05 14:42:39 ajacoutot Exp $
d9 1
a9 1
REVISION=	3
d38 8
a45 8
WANTLIB += X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender atk-1.0 bz2 c cairo
WANTLIB += croco-0.6 expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gsf-1
WANTLIB += gthread-2.0 gtk-x11-2.0 jpeg m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += stdc++ xcb xml2 z xcb-render wmf-0.2 wmflite-0.2
WANTLIB += fribidi enchant rsvg-2 wv-1.2 GL Xxf86vm drm xcb-shm
d51 4
a54 1
USE_GROFF =	Yes
d60 2
a61 1
		--enable-collab-backend-fake=no \
d67 1
a67 2
		--without-gnomevfs \
		--without-gucharmap
@


1.83
log
@Tweaks depends after recent librsvg commit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2011/04/02 16:56:42 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
@


1.82
log
@Simplify: use my distfiles subdomain.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2010/11/15 23:22:07 espie Exp $
d9 1
a9 1
REVISION=	1
d29 2
a30 1
		x11/gnome/librsvg
d38 1
a38 1
WANTLIB += ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
d44 2
a45 2
WANTLIB += stdc++ xcb xml2 z xcb-render xcb-render-util wmf-0.2 wmflite-0.2
WANTLIB += fribidi enchant rsvg-2 wv-1.2
@


1.81
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2010/10/24 21:16:25 ajacoutot Exp $
d15 1
a15 1
MASTER_SITES0=	http://www.bsdfrog.org/OpenBSD/distfiles/
@


1.80
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2010/10/18 18:00:15 espie Exp $
d25 5
a29 5
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS=	::devel/fribidi \
		::converters/wv \
		::textproc/enchant \
		::x11/gnome/librsvg
@


1.79
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2010/10/11 08:12:44 jasper Exp $
a49 1
USE_X11=	Yes
@


1.78
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2010/10/01 17:43:41 ajacoutot Exp $
d51 1
@


1.77
log
@Fix WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2010/08/22 10:09:54 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d40 1
a40 1
WANTLIB += gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 gsf-1
@


1.76
log
@Maintainance update to abiword-2.8.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2010/05/10 12:31:51 ajacoutot Exp $
d9 2
d43 2
a44 2
WANTLIB += stdc++ wmf wmflite xcb xml2 z xcb-render xcb-render-util
WANTLIB += fribidi wv enchant rsvg-2
@


1.75
log
@Maintainance update to abiword-2.8.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2010/03/21 10:55:04 ajacoutot Exp $
d5 1
a5 1
VERSION=	2.8.4
d24 4
a27 4
LIB_DEPENDS=	fribidi::devel/fribidi \
		wv.>=1::converters/wv \
		enchant.>=5::textproc/enchant \
		rsvg-2.>=28::x11/gnome/librsvg
d42 1
@


1.74
log
@Major update to abiword-2.8.1.
Remove the gnome FLAVOR as it does not bring anything worthwhile.
(add pkgpath marker accordingly)

Merge a patch from Fedora to change default font from Times Roman to
DejaVu Serif that fixes font corruption issue on machines where
msttcorefonts are not installed.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2009/12/22 15:08:35 ajacoutot Exp $
d5 1
a5 1
VERSION=	2.8.1
d41 1
a41 1
WANTLIB += stdc++ wmf wmflite xcb xml2 z
@


1.73
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2009/10/10 09:51:52 ajacoutot Exp $
d5 1
a5 1
VERSION=	2.6.8
d8 8
a15 1
PKGNAME=	${DISTNAME}p0
d25 3
a27 5
		popt::devel/popt \
		gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0,gailutil::x11/gtk+2 \
		gnomeprintui-2-2::x11/gnome/libgnomeprintui \
		wmf.>=8,wmflite,wv::converters/wv \
		enchant.>=5::textproc/enchant
d36 6
a41 6
WANTLIB += Xfixes Xft Xi Xinerama Xrandr Xrender art_lgpl_2 atk-1.0
WANTLIB += c cairo expat fontconfig freetype gio-2.0 glade-2.0
WANTLIB += glib-2.0 glitz gmodule-2.0 gnomecanvas-2 gnomeprint-2-2
WANTLIB += gobject-2.0 gthread-2.0 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pangoxft-1.0 pixman-1 png pthread stdc++
WANTLIB += xml2 z pthread-stubs xcb gio-2.0 gsf-1 jpeg
d45 1
d51 16
a66 2
		--enable-printing
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -DMAXSTRINGCHARS=512" \
a67 19

FLAVORS=	gnome
FLAVOR?=

.if ${FLAVOR:L:Mgnome}
LIB_DEPENDS+=	gnomeui-2::x11/gnome/libgnomeui \
		gsf-gnome-1.>=114:libgsf-gnome-*:devel/libgsf,-gnome
WANTLIB+=	ORBit-2 bonobo-2 bonobo-activation bonoboui-2 \
		gconf-2 gnome-2 gnomeui-2 gnomevfs-2 dbus-1 gnome-keyring
CONFIGURE_ARGS+= --enable-gnomevfs \
		--enable-gnomeui \
		--enable-gucharmap
.else
CONFIGURE_ARGS+= --disable-gnomevfs \
		--disable-gnomeui \
		--disable-gucharmap
.endif

MAKE_FILE=	GNUmakefile
@


1.72
log
@Major update to abiword-2.6.8.
Add a patch from FreeBSD to fix utf8 display on ruler.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2009/08/10 06:31:08 kili Exp $
d8 2
@


1.71
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2009/06/16 19:57:50 sthen Exp $
d5 1
a5 1
VERSION=	2.4.6
a7 1
PKGNAME=	${DISTNAME}p8
d19 1
d22 1
a22 1
# GPL
d34 1
a34 1
WANTLIB += xml2 z pthread-stubs xcb
d42 2
a43 1
CONFIGURE_ARGS=	--disable-gucharmap --enable-enchant --without-pspell
d52 1
a52 1
		ORBit-2::devel/ORBit2
d54 8
a61 2
		gconf-2 gnome-2 gnomeui-2 gnomevfs-2
CONFIGURE_ARGS+= --enable-gnome
a65 3
WRKDIST=	${WRKDIR}/abiword-${VERSION}
WRKSRC=		${WRKDIST}/abi

a69 10

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/abiword/Manual
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/abiword/Tutorials
	${INSTALL_MAN} ${WRKDIST}/abiword-docs/man/abiword.1 \
	    ${PREFIX}/man/man1
	${INSTALL_DATA} ${WRKDIST}/abiword-docs/Manual/en/Abiword_Manual.abw \
	    ${PREFIX}/share/doc/abiword/Manual
	cd ${WRKDIST}/abiword-docs/Tutorials && tar cf - jmp klw | \
	    tar xf - -C ${PREFIX}/share/doc/abiword/Tutorials
@


1.70
log
@enchant was pulled in all the time, but only added to LIB_DEPENDS for
the gnome flavor. fix. while there, fix LIB_DEPENDS (+gailutil). bump.
from Tobias Ulmer, ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2009/05/17 18:32:04 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p7
d34 1
a34 1
WANTLIB += xml2 z
@


1.69
log
@- add enchant support ; should fix spell checking reported on ports@@ by
punosevac72 at gmail dot com
- regen WANTLIB and PLIST while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2008/06/15 00:06:52 sthen Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p6
d18 3
a20 2
		gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2 \
		gnomeprintui-2-2::x11/gnome/libgnomeprintui
d51 1
a51 2
		ORBit-2::devel/ORBit2 \
		enchant.>=5::textproc/enchant
d53 1
a53 1
		gconf-2 gnome-2 gnomeui-2 gnomevfs-2 
@


1.68
log
@sync wantlib and bump packages. ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2008/05/28 20:05:14 naddy Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p5
d27 7
a33 7
WANTLIB=	ICE SM X11 Xext Xft Xrender art_lgpl_2 atk-1.0 c Xrandr \
		Xau Xcomposite Xcursor Xdamage Xdmcp Xfixes Xi Xinerama \
		expat fontconfig freetype gailutil glade-2.0 glib-2.0 \
		gmodule-2.0 gnomecanvas-2 gnomeprint-2-2 gobject-2.0 glitz \
		gthread-2.0 m pango-1.0 pangocairo-1.0 cairo \
		pangoft2-1.0 pangoxft-1.0 pixman-1 png pthread stdc++ \
		xml2.>=9 z
d41 1
a41 1
CONFIGURE_ARGS=	--disable-gucharmap --disable-enchant --without-pspell
d50 2
a51 1
		ORBit-2::devel/ORBit2
@


1.67
log
@fix build after libiconv 1.12 update; ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2008/02/20 01:17:53 merdely Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p4
d32 1
a32 1
		pangoft2-1.0 pangoxft-1.0 png pthread stdc++ \
@


1.66
log
@Unbreak abiword since x11/gnome/libgnomeprint no longer depends on
devel/popt. It also adds gailutil to WANTLIB.
Regen PLIST.

From Tim van der Molen on ports@@

ok jasper@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2007/12/15 20:32:57 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p3
@


1.65
log
@- add update-desktop-database goo

"it's ok" jasper@@ (who needed some eyes resting)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2007/11/13 14:06:21 steven Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p2
d17 1
d29 2
a30 2
		expat fontconfig freetype glade-2.0 glib-2.0 gmodule-2.0 \
		gnomecanvas-2 gnomeprint-2-2 gobject-2.0 glitz \
d32 1
a32 1
		pangoft2-1.0 pangoxft-1.0 png popt pthread stdc++ \
@


1.64
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2007/09/16 00:44:00 merdely Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
d15 1
@


1.63
log
@Removed surrounding quotes in COMMENT*/PERMIT_*

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2007/01/04 20:19:53 steven Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d25 3
a27 2
WANTLIB=	ICE SM X11 Xext Xft Xrender art_lgpl_2 atk-1.0 c \
		fontconfig freetype glade-2.0 glib-2.0 gmodule-2.0 \
@


1.62
log
@fix WANTLIB of ports using gtk, needed after switch to our own pkg-config
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2006/12/16 12:22:33 espie Exp $
d3 1
a3 1
COMMENT=	"free cross-platform WYSIWYG word processor"
@


1.61
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2006/12/02 11:14:20 steven Exp $
d8 1
d27 1
a27 1
		gnomecanvas-2 gnomeprint-2-2 gobject-2.0 \
@


1.60
log
@maintenance update to abiword 2.4.6

from brad@@, tested by ckuethe@@ and me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2006/11/11 21:04:27 steven Exp $
a12 2

BUILD_DEPENDS=	:pkgconfig-*:devel/pkgconfig
@


1.59
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2006/09/18 11:50:39 espie Exp $
d5 1
a5 1
VERSION=	2.4.5
@


1.58
log
@zap unneeded 0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2006/08/02 09:36:20 espie Exp $
d36 1
@


1.57
log
@more newstyle lib-depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2006/08/01 23:39:08 espie Exp $
d17 1
a17 1
		gdk-x11-2.0.0.0,gdk_pixbuf-2.0.0.0,gtk-x11-2.0.0.0::x11/gtk+2 \
d26 5
a30 5
WANTLIB=	ICE SM X11 Xext Xft Xrender art_lgpl_2.0.0 atk-1.0.0.0 c \
		fontconfig freetype glade-2.0.0.0 glib-2.0.0.0 gmodule-2.0.0.0 \
		gnomecanvas-2.0.0 gnomeprint-2-2.0.0 gobject-2.0.0.0 \
		gthread-2.0.0.0 m pango-1.0.0.0 pangocairo-1.0.0.0 cairo \
		pangoft2-1.0.0.0 pangoxft-1.0.0.0 png popt pthread stdc++ \
d48 2
a49 2
WANTLIB+=	ORBit-2.0.0 bonobo-2.0.0 bonobo-activation bonoboui-2.0.0 \
		gconf-2.0.0 gnome-2.0.0 gnomeui-2.0.0 gnomevfs-2.0.0 
@


1.56
log
@new libspecs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2006/07/15 19:21:24 brad Exp $
d30 1
a30 1
		pangoft2-1.0.0.0 pangoxft-1.0.0.0 png popt.0 pthread stdc++ \
@


1.55
log
@upgrade to abiword 2.4.5

testing by ckuethe@@ and steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2006/06/13 13:22:36 bernd Exp $
d31 1
a31 1
		xml2.9 z
@


1.54
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2006/04/19 13:36:50 jsg Exp $
d5 1
a5 1
VERSION=	2.4.4
a7 1
PKGNAME=	${DISTNAME}p0
@


1.53
log
@Update to 2.4.4, ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2006/01/30 19:20:24 fgsch Exp $
d8 1
d30 1
a30 1
		gthread-2.0.0.0 m pango-1.0.0.0 pangox-1.0.0.0 \
@


1.52
log
@update to abiword 2.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2006/01/17 18:21:58 steven Exp $
d5 1
a5 1
VERSION=	2.4.2
@


1.51
log
@fix WANTLIB after gtk+2 downgrade
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2006/01/07 02:17:47 pvalchev Exp $
d5 1
a5 1
VERSION=	2.4.1
a7 1
PKGNAME=	${DISTNAME}p3
@


1.50
log
@use va_copy() on all architectures (fixes many)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2005/11/15 09:21:51 wilfried Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p2
d27 1
a27 1
WANTLIB=	ICE SM X11 Xft Xrender art_lgpl_2.0.0 atk-1.0.0.0 c cairo \
d30 1
a30 1
		gthread-2.0.0.0 m pango-1.0.0.0 pangocairo-1.0.0.0 \
@


1.49
log
@fix packages-specs brain fart from yesterday and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2005/11/14 16:02:24 wilfried Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
@


1.48
log
@fix wantlib + bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2005/10/19 22:24:11 fgsch Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d15 1
a15 1
BUILD_DEPENDS=	::devel/pkgconfig
@


1.47
log
@abiword only ships with 32bit dictionary versions and they won't fix this.
furthermore, external ispell dictionaries cannot be used since the included
ispell support has MAXSTRINCHARS defined to 128 when ispell switched to
512 5 years ago, which means they're not compatible.
therefore do not install bundled dictionaries and bump MAXSTRINGCHARS so
external dictionaries can be used. bad abiword!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2005/10/14 16:55:23 fgsch Exp $
d15 1
a15 1
BUILD_DEPENDS=	:pkgconfig-*:devel/pkgconfig
d27 6
a32 6
WANTLIB=	ICE SM X11 Xft Xrender art_lgpl_2.0.0 atk-1.0.0.0 c \
		fontconfig freetype glade-2.0.0.0 glib-2.0.0.0 \
		gmodule-2.0.0.0 gnomecanvas-2.0.0 gnomeprint-2-2.0.0 \
		gobject-2.0.0.0 gthread-2.0.0.0 m pango-1.0.0.0 \
		pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 png \
		popt.0 pthread stdc++ xml2.9 z
@


1.46
log
@Update to 2.4.1. See http://www.abisource.com/changelogs/2.4.1.phtml for
details.

SECURITY: Fix several stack-based buffer overflows in the RTF importer -
CAN-2005-2972
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2005/10/07 15:42:06 fgsch Exp $
d8 1
d40 1
a40 1
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
@


1.45
log
@Update to abiword 2.4.0 and unbroke gnome flavor.
aanriot@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2005/09/27 05:19:38 fgsch Exp $
d5 1
a5 1
VERSION=	2.4.0
@


1.44
log
@update to 2.2.10. see http://www.abisource.com/changelogs/2.2.10.phtml
for details.

SECURITY: RTF import stack-based buffer overflow / CESA-2005-004 - rev 1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2005/07/29 17:33:56 fgsch Exp $
d3 1
a3 1
COMMENT=	"open-source, cross-platform WYSIWYG word processor"
d5 2
a6 1
VERSION=	2.2.10
a16 1
		gthread-2.0.0.0::devel/glib2 \
d18 1
a18 3
		glade-2.0.0.0::devel/libglade2 \
		xml2.9::textproc/libxml \
		popt::devel/popt
d26 6
a31 3
WANTLIB=	ICE SM X11 Xft Xrender atk-1.0.0.0 c fontconfig freetype \
		glib-2.0.0.0 gmodule-2.0.0.0 gobject-2.0.0.0 m pango-1.0.0.0 \
		pangox-1.0.0.0 pangoxft-1.0.0.0 png pthread stdc++ z
d46 1
a46 4
BROKEN=		"Crash when exiting (canvas)"

LIB_DEPENDS+=	gnomeprintui-2-2::x11/gnome/libgnomeprintui \
		gnomeui-2::x11/gnome/libgnomeui \
d48 2
a49 4
WANTLIB+=	ORBit-2.0.0 art_lgpl_2.0.0 bonobo-2.0.0	\
		bonobo-activation bonoboui-2.0.0 gconf-2.0.0 \
		gnome-2.0.0 gnomecanvas-2.0.0 gnomeprint-2-2.0.0 \
		gnomeui-2.0.0 gnomevfs-2.0.0 pangoft2-1.0.0.0
d57 2
@


1.43
log
@update to abiword 2.2.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2005/07/04 18:02:48 aanriot Exp $
d5 1
a5 1
VERSION=	2.2.9
@


1.43.2.1
log
@update to abiword 2.2.11
RTF import stack-based buffer overflow / CESA-2005-004 - rev 1.
CAN-2005-2972: Fix several stack-based buffer overflows in the RTF importer
reported by Chris Evans

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2005/07/29 17:33:56 fgsch Exp $
d5 1
a5 1
VERSION=	2.2.11
@


1.42
log
@- add missing dependencies.
- mark gnome flavor as broken, since we haven't solved the problem.

inputs and ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2005/07/01 17:46:02 aanriot Exp $
d5 1
a5 1
VERSION=	2.2.8
a67 1

d69 1
a69 1
		${PREFIX}/man/man1/
d71 3
a73 3
		${PREFIX}/share/doc/abiword/Manual
	cd ${WRKDIST}/abiword-docs/Tutorials/ && $(TAR) cf - jmp klw | \
		$(TAR) xf - -C ${PREFIX}/share/doc/abiword/Tutorials/
@


1.41
log
@add man and docs to installation.

ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2005/06/30 04:52:23 fgsch Exp $
d19 1
a19 1
		xml2.6::textproc/libxml \
d45 5
a49 1
LIB_DEPENDS+=	gnomeprintui-2-2::x11/gnome/libgnomeprintui
d53 1
a53 1
		gnomeui-2.0.0 gnomevfs-2.0.0
@


1.40
log
@go figure, ldd and objdump -p return different libraries. update wantlib
to follow objdump output.  mentioned by jolan@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2005/06/29 06:45:23 fgsch Exp $
d60 11
@


1.39
log
@fix wantlib. maybe the gnome flavor works now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2005/06/23 10:01:21 fgsch Exp $
d28 3
a30 5
WANTLIB=	ICE SM X11 Xcursor Xext Xft Xinerama Xrender \
		atk-1.0.0.0 c fontconfig freetype glib-2.0.0.0 \
		gmodule-2.0.0.0 gobject-2.0.0.0 m pango-1.0.0.0 \
		pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 \
		png pthread stdc++ z
@


1.38
log
@update to abiword 2.2.8. gnome flavor untested. if anyone can give
it a try, i'd appreciate it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2005/02/21 13:41:37 couderc Exp $
d28 1
a28 1
WANTLIB=	ICE SM X11 Xext Xft Xinerama Xrender \
d31 2
a32 2
		pangox-1.0.0.0 pangoxft-1.0.0.0 png pthread \
		stdc++ z Xcursor
d47 5
a51 8
LIB_DEPENDS+=	gnomeprintui-2-2::x11/gnome/libgnomeprintui \
		nautilus::x11/gnome/nautilus
WANTLIB+=	ORBit-2.0.0 art_lgpl_2.0.0 bonobo-2.0.0 \
		bonobo-activation bonoboui-2.0.0 eel-2.0.0 \
		gailutil gconf-2.0.0 gnome-2.0.0 gnomecanvas-2.0.0 \
		gnomeprint-2-2.0.0 gnomeui-2.0.0 gnomevfs-2.0.0 \
		pangoft2-1.0.0.0

@


1.37
log
@dropping maintainership for Abiword, vsftpd and Waimea.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2004/12/25 21:51:00 alek Exp $
d3 1
a3 1
COMMENT=		"open-source, cross-platform WYSIWYG word processor"
d5 3
a7 3
VERSION=		2.0.7
DISTNAME=		abiword-${VERSION}
CATEGORIES=		editors
d9 1
a9 1
HOMEPAGE=		http://www.abisource.com/
d11 1
a11 1
MODULES=		devel/gettext
d13 1
a13 1
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig
d15 6
a20 5
LIB_DEPENDS=		fribidi::devel/fribidi \
			gthread-2.0.0.0::devel/glib2 \
			gdk-x11-2.0.0.0,gdk_pixbuf-2.0.0.0,gtk-x11-2.0.0.0::x11/gtk+2 \
			glade-2.0.0.0::devel/libglade2 \
			popt::devel/popt
a26 16
WANTLIB=		ICE SM X11 Xext Xft Xinerama Xrender \
			atk-1.0.0.0 c fontconfig freetype glib-2.0.0.0 \
			gmodule-2.0.0.0 gobject-2.0.0.0 m pango-1.0.0.0 \
			pangox-1.0.0.0 pangoxft-1.0.0.0 png pthread \
			stdc++ xml2.0.0 z Xcursor

MASTER_SITES=   	${MASTER_SITE_SOURCEFORGE:=abiword/}
EXTRACT_SUFX=		.tar.bz2

USE_GMAKE=		Yes

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--without-pspell
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
			LDFLAGS="-L${LOCALBASE}/lib" \
			PKG_CONFIG_PATH="${LOCALBASE}/lib/pkgconfig:${X11BASE}/lib/pkgconfig"
d28 16
a43 1
FLAVORS=		gnome
d47 7
a53 7
LIB_DEPENDS+=		gnomeprintui-2-2::x11/gnome/libgnomeprintui \
			nautilus::x11/gnome/nautilus
WANTLIB+=		ORBit-2.0.0 art_lgpl_2.0.0 bonobo-2.0.0 \
			bonobo-activation bonoboui-2.0.0 eel-2.0.0 \
			gailutil gconf-2.0.0 gnome-2.0.0 gnomecanvas-2.0.0 \
			gnomeprint-2-2.0.0 gnomeui-2.0.0 gnomevfs-2.0.0 \
			pangoft2-1.0.0.0
d55 1
a55 1
CONFIGURE_ARGS+=	--enable-gnome
d58 1
a58 1
MAKE_FILE=		GNUmakefile
d60 2
a61 2
WRKDIST=		${WRKDIR}/abiword-${VERSION}
WRKSRC=			${WRKDIST}/abi
d63 2
a64 3
post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/applications
	${INSTALL_DATA} ${WRKSRC}/src/pkg/linux/rpm/data/abiword.desktop ${PREFIX}/share/applications/
@


1.37.2.1
log
@SECURITY:
update to 2.2.10. see http://www.abisource.com/changelogs/2.2.10.phtml
for details.
RTF import stack-based buffer overflow / CESA-2005-004 - rev 1.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2005/02/21 13:41:37 couderc Exp $
d5 1
a5 1
VERSION=		2.2.10
d32 2
a33 1
MASTER_SITES=		${HOMEPAGE}/downloads/abiword/${VERSION}/source/
d38 1
a38 1
CONFIGURE_ARGS=		--without-pspell --disable-gucharmap --disable-enchant
a62 3
pre-configure:
		@@perl -pi -e "s|libpng12|libpng|g" ${WRKSRC}/configure

d64 2
a65 8
		${INSTALL_DATA_DIR} ${PREFIX}/share/doc/abiword/Manual
		${INSTALL_DATA_DIR} ${PREFIX}/share/doc/abiword/Tutorials
		${INSTALL_MAN} ${WRKDIST}/abiword-docs/man/abiword.1 \
			${PREFIX}/man/man1
		${INSTALL_DATA} ${WRKDIST}/abiword-docs/Manual/en/Abiword_Manual.abw \
			${PREFIX}/share/doc/abiword/Manual
		cd ${WRKDIST}/abiword-docs/Tutorials && tar cf - jmp klw | \
			tar xf - -C ${PREFIX}/share/doc/abiword/Tutorials
@


1.37.2.2
log
@update to abiword 2.2.11
CAN-2005-2972: Fix several stack-based buffer overflows in the RTF importer
reported by Chris Evans

ok brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37.2.1 2005/10/13 20:27:37 robert Exp $
d5 1
a5 1
VERSION=		2.2.11
a45 2
BROKEN=			"Crash when exiting (canvas)"

@


1.36
log
@Fix WANTLIB marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2004/11/24 11:08:02 espie Exp $
a9 2

MAINTAINER=		Damien Couderc <couderc@@openbsd.org>
@


1.35
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2004/08/10 08:32:35 xsa Exp $
d32 1
a32 1
			stdc++ xml2.0.0 z
@


1.34
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/06/25 06:14:08 marcm Exp $
d28 5
d51 5
@


1.33
log
@Update to 2.0.7.  GTK 2.4 fixes and build fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/01/10 22:51:14 couderc Exp $
d13 1
a13 1
MODULES=		gettext
@


1.32
log
@update to 2.0.2
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
VERSION=		2.0.2
d15 1
a15 1
BUILD_DEPENDS=		:pkgconfig->=0.14.0:devel/pkgconfig
@


1.31
log
@- license marker
- allow building if LOCALBASE is not in PATH

ok couderc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2003/08/16 16:32:58 couderc Exp $
d3 1
a3 1
COMMENT=	"open-source, cross-platform WYSIWYG word processor"
d5 3
a7 3
VERSION=	1.0.6
DISTNAME=	abiword-${VERSION}
CATEGORIES=	editors
d9 1
a9 1
HOMEPAGE=	http://www.abisource.com/
d11 1
a11 1
MAINTAINER=	Damien Couderc <couderc@@openbsd.org>
d13 1
a13 2
BUILD_DEPENDS=	::devel/autoconf/${AUTOCONF_VERSION} \
		::devel/metaauto
d15 1
a15 4
LIB_DEPENDS=	png.2::graphics/png \
		jpeg.62::graphics/jpeg \
		gtk.1.2,gdk.1.2::x11/gtk+
RUN_DEPENDS=	ispell::textproc/ispell
d17 7
a23 1
# GPL and compatible
d29 2
a30 1
MASTER_SITES=   ${MASTER_SITE_SOURCEFORGE:=abiword/}
d32 1
a32 1
USE_GMAKE=	Yes
d34 2
a35 5
CONFIGURE_STYLE=	automake
AUTOCONF_VERSION=	2.52
CONFIGURE_ARGS=		--with-libpng=${LOCALBASE}/lib \
			--without-pspell \
			--disable-debug
d37 2
a38 8
			LDFLAGS="-L${LOCALBASE}/lib"

MAKE_FLAGS=	prefix="${PREFIX}"
FAKE_FLAGS=	prefix="${WRKINST}${PREFIX}"

MAKE_FILE=	GNUmakefile

WRKSRC=		${WRKDIST}/abi
d40 1
a40 1
FLAVORS=	gnome
d44 3
a47 7
LIB_DEPENDS+=		bonobo.2,bonobo-print.2,bonobox.2::x11/gnome/bonobo \
			gal.19::devel/gal \
			glade.5,glade-gnome.5::devel/libglade,gnome \
			gnomevfs::x11/gnome/vfs
.else
CONFIGURE_ARGS+=	--disable-gnome --with-libxml2
LIB_DEPENDS+=		xml2::textproc/libxml
d50 4
a53 3
pre-configure:
	@@cd ${WRKSRC} && PATH=${PORTPATH} AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		 sh autogen.sh
a54 1
.if ${FLAVOR:L:Mgnome}
d56 2
a57 5
	${INSTALL_DATA_DIR} ${PREFIX}/share/gnome/apps/Applications
	${INSTALL_DATA} ${WRKSRC}/src/pkg/linux/rpm/data/abiword.desktop ${PREFIX}/share/gnome/apps/Applications
	${INSTALL_DATA_DIR} ${PREFIX}/share/pixmaps
	${INSTALL_DATA} ${PREFIX}/share/AbiSuite/icons/abiword_48.png ${PREFIX}/share/pixmaps
.endif
@


1.30
log
@update to 1.0.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2003/03/06 00:49:08 brad Exp $
d13 2
a14 1
AUTOCONF_VERSION=	2.52
a15 3
BUILD_DEPENDS=	::devel/autoconf/${AUTOCONF_VERSION} \
		::devel/metaauto \
		::devel/automake
d21 1
d31 2
a32 1
CONFIGURE_STYLE=	gnu
d61 2
a62 1
	@@cd ${WRKSRC} && AUTOCONF_VERSION=${AUTOCONF_VERSION} sh autogen.sh
@


1.29
log
@don't pick up pspell if it happens to be installed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2003/02/20 05:50:34 marcm Exp $
d5 1
a5 1
VERSION=	1.0.4
d13 5
a43 1
WRKDIST=	${WRKDIR}/abiword-${VERSION}
d59 3
@


1.28
log
@WRKSRC, WRKDIST, it's all the same thing :)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2003/02/11 19:47:34 couderc Exp $
d29 1
@


1.27
log
@Cosmetic changes, now use regular process for patching.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2003/02/11 18:50:22 marcm Exp $
d58 1
a58 1
	${INSTALL_DATA} ${WRKDIST}/src/pkg/linux/rpm/data/abiword.desktop ${PREFIX}/share/gnome/apps/Applications
@


1.26
log
@Don't compile against libxml2 when using the 'gnome' flavor.  Causes
conflicts with Gnome's libxml1 and bad things happen.

This fixes the segfault when trying to print with the 'gnome' flavor.

ok couderc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2003/02/03 15:13:10 couderc Exp $
d38 2
a39 3
WRKDIST=	${WRKDIR}/abiword-${VERSION}/abi

PFILE=		${WRKDIR}/abiword-${VERSION}/wv/generic.c
d51 1
a51 2
CONFIGURE_ARGS+=	--disable-gnome
CONFIGURE_ARGS+=	--with-libxml2
a53 7

post-patch:
	@@mv ${PFILE} ${PFILE}.orig
	@@sed -e s/tmpnam/mkstemp/ ${PFILE}.orig > ${PFILE}
	@@cd ${WRKDIR}/abiword-${VERSION}; \
	patch -s < ${FILESDIR}/patch-wv_libole2_Makefile_in; \
	patch -s < ${FILESDIR}/patch-psiconf_configure
@


1.25
log
@Update to 1.0.4 with some ttf patches from Jim Geovedi.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2003/01/24 22:29:52 couderc Exp $
a14 1
		xml2::textproc/libxml \
a28 1
			--with-libxml2 \
d53 2
d61 2
a62 2
	patch < ${FILESDIR}/patch-wv_libole2_Makefile_in; \
	patch < ${FILESDIR}/patch-psiconf_configure
@


1.24
log
@Update to 1.0.3 from marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/11/14 20:16:27 marcm Exp $
d5 1
a5 1
VERSION=	1.0.3
@


1.23
log
@Added gnome flavor and fixed some verbage in MESSAGE file.

ok couderc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2002/10/17 18:37:13 couderc Exp $
d5 1
a5 1
VERSION=	1.0.2
d28 1
a28 1
CONFIGURE_STYLE=	gnu autoconf
d61 2
a62 1
	patch < ${FILESDIR}/patch-wv_libole2_Makefile_in
@


1.22
log
@Update to 1.0.2, ok todd@@
@
text
@d1 1
a1 1
# $OpenBSD$
d31 1
a31 1
			--disable-debug --disable-gnome
d44 13
d60 10
@


1.21
log
@Kill remaining RUN_DEPENDS/BUILD_DEPENDS first parters.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.20 2001/06/15 15:27:36 brad Exp $

BROKEN=		"Needs upgrade to newer version"
d5 2
a6 2
VERSION=	0.7.12
PKGNAME=	abiword-${VERSION}
a7 1
NEED_VERSION=	1.496
d9 1
a9 3
MASTER_SITES=	http://www.abisource.com/downloads/Version-${VERSION}/lf/
DISTFILES=	abi-${VERSION}.tar.gz abidistfiles.tar.gz expat.tar.gz \
		libiconv.tar.gz unixfonts.tar.gz wv.tar.gz
d11 1
a11 3
DIST_SUBDIR=	abiword

HOMEPAGE=	http://www.abisource.com/
d14 4
a17 4
		gtk.1.2::x11/gtk+
RUN_DEPENDS=	::textproc/ispell

MAINTAINER=	Dug Song <dugsong@@monkey.org>
d24 11
d38 1
a38 1
USE_GMAKE=	Yes
d40 1
a40 1
ALL_TARGET=	compile
d42 1
a42 1
WRKDIST=	${WRKDIR}/abi-${VERSION}
d44 3
a46 10
post-install:
	@@cd ${PREFIX}/bin && \
	  (ln -sf ${TRUEPREFIX}/AbiSuite/bin/AbiWord AbiWord; \
	   ln -sf ${TRUEPREFIX}/AbiSuite/bin/AbiWord abiword)
	@@strip ${PREFIX}/AbiSuite/bin/AbiWord_d
	@@sed \
	 -e s#ABISUITE_HOME=${PREFIX}/AbiSuite#ABISUITE_HOME=${TRUEPREFIX}/AbiSuite# \
	 -e s#ABISUITE_LIBEXEC=${PREFIX}/AbiSuite#ABISUITE_LIBEXEC=${TRUEPREFIX}/AbiSuite# \
	 ${PREFIX}/AbiSuite/bin/AbiWord > ${WRKDIR}/AbiWord
	${INSTALL_SCRIPT} ${WRKDIR}/AbiWord ${PREFIX}/AbiSuite/bin
@


1.20
log
@mark this as BROKEN for now, needs an upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/05/24 02:27:13 kevlo Exp $
d10 1
a10 1
NEED_VERSION=	1.402
d22 1
a22 1
RUN_DEPENDS=	ispell::textproc/ispell
@


1.19
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.18 2001/05/06 00:28:54 lebel Exp $
@


1.18
log
@editors: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/02/18 23:58:37 dugsong Exp $
d18 1
a18 1
LIB_DEPENDS=	png.1::graphics/png \
@


1.17
log
@update to version 0.7.12
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.16 2001/02/18 18:44:57 brad Exp $
d8 1
@


1.16
log
@mark BROKEN, *needs* to be updated because this port doesn't like our
updated expat.
--
Pointed out quite awhile ago by: marc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/01/18 05:04:00 brad Exp $
d3 1
a3 3
BROKEN=		"needs to be updated"

VERSION=	0.7.10
d6 1
a6 1
NEED_VERSION=	1.336
d8 3
a10 3
DISTFILES=	abi-${VERSION}.tar.gz abidistfiles-${VERSION}.tar.gz \
		libiconv-${VERSION}.tar.gz unixfonts-${VERSION}.tar.gz \
		wv-${VERSION}.tar.gz
d15 1
a15 2
LIB_DEPENDS=	expat.1::textproc/expat \
		png.1::graphics/png \
a33 4

do-configure:
	@@cd ${WRKDIR}/wv; ${CONFIGURE_ENV} ./configure ${CONFIGURE_ARGS} \
		--without-Magick --without-png --without-ttf
@


1.15
log
@use a working distsite; From: Brian <cazz@@wezl.org>
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.14 2000/10/22 14:03:09 espie Exp $
@


1.14
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/09/27 21:26:45 brad Exp $
d6 2
a7 2
NEED_VERSION=	1.330
MASTER_SITES=	http://download.abisource.com/releases/${VERSION}/src/lf/
@


1.14.2.1
log
@MFC:
use a working distsite; From: Brian <cazz@@wezl.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/01/18 05:04:00 brad Exp $
d6 2
a7 2
NEED_VERSION=	1.336
MASTER_SITES=	http://www.abisource.com/downloads/Version-${VERSION}/lf/
@


1.13
log
@expat creates a shared library now, BUILD_DEPENDS -> LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/07/17 07:34:57 brad Exp $
d20 1
a20 1
MAINTAINER=	dugsong@@monkey.org
@


1.12
log
@upgrade to AbiWord 0.7.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/06/25 22:50:18 brad Exp $
d3 2
a4 2
VER=		0.7.10
PKGNAME=	abiword-${VER}
d6 5
a10 5
NEED_VERSION=	1.310
MASTER_SITES=	http://download.abisource.com/releases/${VER}/src/lf/
DISTFILES=	abi-${VER}.tar.gz abidistfiles-${VER}.tar.gz \
		libiconv-${VER}.tar.gz unixfonts-${VER}.tar.gz \
		wv-${VER}.tar.gz
d15 2
a16 2
BUILD_DEPENDS=	${PREFIX}/lib/libexpat.a::textproc/expat
LIB_DEPENDS=	png.1::graphics/png \
a26 4
USE_GMAKE=	Yes

CONFIGURE_ARGS=	--without-Magick --without-png --without-ttf

d30 1
a30 1
WRKDIST=	${WRKDIR}/abi-${VER}
d34 2
d37 2
a38 1
	@@cd ${WRKDIR}/wv; ${CONFIGURE_ENV} ./configure ${CONFIGURE_ARGS}
@


1.11
log
@change dependency, png.1.6 -> png.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/06/12 10:05:19 fgsch Exp $
d3 2
a4 2
VERS=		0.7.9
PKGNAME=	abiword-${VERS}
d6 13
a18 3
NEED_VERSION=	1.302
MASTER_SITES=	http://www.abisource.com/downloads/Version-${VERS}/lf/
DIST_SUBDIR=	${PKGNAME}
d27 1
a27 5
DISTFILES=	abi-${VERS}${EXTRACT_SUFX} \
		abidistfiles-${VERS}${EXTRACT_SUFX} \
		libiconv-${VERS}${EXTRACT_SUFX} \
		unixfonts-${VERS}${EXTRACT_SUFX} \
		wv-${VERS}${EXTRACT_SUFX}
d29 4
a32 4
BUILD_DEPENDS=	${PREFIX}/lib/libexpat.a::textproc/expat
LIB_DEPENDS=	gtk.1.2::x11/gtk+ \
		png.1::graphics/png
RUN_DEPENDS=	ispell::textproc/ispell
d34 1
a34 1
WRKDIST=	${WRKDIR}/abi-${VERS}
a35 2
USE_GMAKE=	Yes
CONFIGURE_STYLE=	gnu
d39 1
a39 1
	cd ${WRKDIR}/wv ; ${CONFIGURE_ENV} ./configure ${CONFIGURE_ARGS}
d42 1
a42 1
	cd ${PREFIX}/bin && \
d45 6
a50 2
	strip ${PREFIX}/AbiSuite/bin/AbiWord_d
	rm -f ${PREFIX}/AbiSuite/bin/AbiWord_s
@


1.10
log
@Update to 0.7.9; fake; add CONFIGURE_STYLE and NEED_VERSION as well
as comment to PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/05/21 12:38:59 fgsch Exp $
d25 1
a25 1
		png.1.6::graphics/png
@


1.9
log
@update libpng dependency since minor changed; sigh sigh.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/04/09 17:36:22 espie Exp $
d3 1
a3 1
VERS=		0.7.7
d6 1
a6 2
NEED_VERSION=	 1.230
FAKE=No
d19 1
d28 1
a28 1
WRKDIST=		${WRKDIR}/abi-${VERS}
a29 1
GNU_CONFIGURE=	Yes
d31 1
d38 4
a42 8

# Developer packing list generation target
makeplist:
	cd ${PREFIX} ; \
	find bin -name "[Aa]bi[Ww]ord*" | sort > ${PKGDIR}/PLIST ; \
	find AbiSuite -type f | sort >> ${PKGDIR}/PLIST ; \
	find AbiSuite -type d -exec echo @@dirrm {} \; | \
	sort -r >> ${PKGDIR}/PLIST
@


1.8
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/03/24 23:28:06 espie Exp $
d25 1
a25 1
		png.1.3::graphics/png
@


1.8.2.1
log
@bring editors as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/07/17 07:34:57 brad Exp $
d3 2
a4 2
VER=		0.7.10
PKGNAME=	abiword-${VER}
d6 4
a9 13
NEED_VERSION=	1.310
MASTER_SITES=	http://download.abisource.com/releases/${VER}/src/lf/
DISTFILES=	abi-${VER}.tar.gz abidistfiles-${VER}.tar.gz \
		libiconv-${VER}.tar.gz unixfonts-${VER}.tar.gz \
		wv-${VER}.tar.gz
DIST_SUBDIR=	abiword

HOMEPAGE=	http://www.abisource.com/

BUILD_DEPENDS=	${PREFIX}/lib/libexpat.a::textproc/expat
LIB_DEPENDS=	png.1::graphics/png \
		gtk.1.2::x11/gtk+
RUN_DEPENDS=	ispell::textproc/ispell
d18 4
a21 3
USE_GMAKE=	Yes

CONFIGURE_ARGS=	--without-Magick --without-png --without-ttf
d23 4
a26 2
MAKE_FLAGS=	prefix="${PREFIX}"
FAKE_FLAGS=	prefix="${WRKINST}${PREFIX}"
d28 1
a28 1
WRKDIST=	${WRKDIR}/abi-${VER}
d30 2
d35 1
a35 1
	@@cd ${WRKDIR}/wv; ${CONFIGURE_ENV} ./configure ${CONFIGURE_ARGS}
d38 9
a46 9
	@@cd ${PREFIX}/bin && \
	  (ln -sf ${TRUEPREFIX}/AbiSuite/bin/AbiWord AbiWord; \
	   ln -sf ${TRUEPREFIX}/AbiSuite/bin/AbiWord abiword)
	@@strip ${PREFIX}/AbiSuite/bin/AbiWord_d
	@@sed \
	 -e s#ABISUITE_HOME=${PREFIX}/AbiSuite#ABISUITE_HOME=${TRUEPREFIX}/AbiSuite# \
	 -e s#ABISUITE_LIBEXEC=${PREFIX}/AbiSuite#ABISUITE_LIBEXEC=${TRUEPREFIX}/AbiSuite# \
	 ${PREFIX}/AbiSuite/bin/AbiWord > ${WRKDIR}/AbiWord
	${INSTALL_SCRIPT} ${WRKDIR}/AbiWord ${PREFIX}/AbiSuite/bin
@


1.7
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/03/16 22:32:35 turan Exp $
d7 1
@


1.6
log
@license
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/03/05 18:30:26 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.223
d22 4
a25 4
BUILD_DEPENDS=	${PREFIX}/lib/libexpat.a:textproc/expat
LIB_DEPENDS=	gtk.1.2:x11/gtk+ \
		png.1.3:graphics/png
RUN_DEPENDS=	ispell:textproc/ispell
@


1.5
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/11 00:37:22 espie Exp $
d11 5
@


1.4
log
@Use WRKDIST where appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/01/13 22:25:34 fgsch Exp $
d6 1
a8 1
NEED_VERSION=	1.191
d17 4
a20 4
BUILD_DEPENDS=	${PREFIX}/lib/libexpat.a:${PORTSDIR}/textproc/expat
LIB_DEPENDS=	gtk.1.2:${PORTSDIR}/x11/gtk+ \
		png.1.3:${PORTSDIR}/graphics/png
RUN_DEPENDS=	ispell:${PORTSDIR}/textproc/ispell
d24 2
a25 2
GNU_CONFIGURE=	yes
USE_GMAKE=	yes
d29 1
a29 1
	(cd ${WRKDIR}/wv ; ${CONFIGURE_ENV} ./configure ${CONFIGURE_ARGS})
d36 1
a36 1
	(cd ${PREFIX} ; \
d40 1
a40 1
	sort -r >> ${PKGDIR}/PLIST)
@


1.3
log
@Update to release 0.7.7; rearrange
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/11/08 14:08:48 dugsong Exp $
d8 1
d22 1
a22 1
WRKSRC=		${WRKDIR}/abi-${VERS}
@


1.2
log
@correct port category
@
text
@d1 1
a1 8
# Makefile for:		abiword
# Version required:	0.7.6
# Date created:		6 Nov 1999
# Whom:			dugsong@@monkey.org
#
# $OpenBSD: Makefile,v 1.1.1.1 1999/11/08 14:05:52 dugsong Exp $

PKGNAME=	abiword-0.7.6
d3 2
d6 2
a10 4
DIST_SUBDIR=	${PKGNAME}

VERS=		0.7.6

a15 2
MASTER_SITES=	http://www.abisource.com/downloads/Version-${VERS}/lf/

a16 1

a18 1

a23 1

a24 1

@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1999/06/02 02:12:34 dugsong Exp $
d10 1
a10 1
CATEGORIES=	security
@


1.1.1.1
log
@abiword port - see www.abiword.com
@
text
@@
