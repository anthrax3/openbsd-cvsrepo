head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2006.11.03.05.11.09;	author kurt;	state dead;
branches;
next	1.2;

1.2
date	2006.10.19.15.16.50;	author kurt;	state Exp;
branches;
next	1.1;

1.1
date	2006.09.20.09.06.19;	author robert;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- enable KDE integration and add openoffice-kde subpackge for this
optional feature
- enable building with java and add openoffice-java subpackage for this
optional feature. this corrects the "save as" problem and provides help
files in the base package. so now java is needed to build OOo but not to
run it. some OOo features require java to run, so install the
openoffice-java subpackage for that.
- make sbase, smath, setofficelang and spadmin applications available
via wrapper script.
- tweak configure to find versioned Qt shared libs.
- adjust include and lib search order again - sigh. put /usr/local
before jdk but after OOo dirs. this allows system libjpeg to be used
over jdk libjpeg and still avoids build conflicts with things like cppunit.
- remove extra patch to readlicense_oo/util/makefile.pmk

some testing and input ian@@ okay robert@@
@
text
@$OpenBSD: patch-readlicense_oo_util_makefile_pmk,v 1.2 2006/10/19 15:16:50 kurt Exp $
--- readlicense_oo/util/makefile.pmk.orig.port	Wed Apr 19 11:06:24 2006
+++ readlicense_oo/util/makefile.pmk	Thu Oct 19 10:47:53 2006
@@@@ -70,7 +70,7 @@@@ $(MISC)$/$(GUI)$/readme% : $(MISC)$/read
 $(MISC)$/readme%.html :
     @@+-$(MKDIR) $(@@:d)
 .IF "$(XSLTPROC)"=="NO_XSLTPROC"
-	$(JAVAI) $(JAVACPS) $(SOLARBINDIR)$/xt.jar$(PATH_SEPERATOR)$(XERCES_JAR) -Dcom.jclark.xsl.sax.parser=org.apache.xerces.parsers.SAXParser com.jclark.xsl.sax.Driver $(subst,_$(@@:b:s/_/./:e:s/.//), $(COMMONMISC)$/$(TARGET)$/$(@@:b).xrm) ..$/readme.xsl os1=$(OS) gui1=$(GUI) cp1=$(CPUNAME) com1=$(COM) lang1=$(@@:b:s/_/./:e:s/.//) type=html file=$@@
+	$(JAVAI) $(JAVACPS) $(XT_JAR)$(PATH_SEPERATOR)$(XML_APIS_JAR)$(PATH_SEPERATOR)$(XERCES_JAR) -Dcom.jclark.xsl.sax.parser=org.apache.xerces.parsers.SAXParser com.jclark.xsl.sax.Driver $(subst,_$(@@:b:s/_/./:e:s/.//), $(COMMONMISC)$/$(TARGET)$/$(@@:b).xrm) ..$/readme.xsl os1=$(OS) gui1=$(GUI) cp1=$(CPUNAME) com1=$(COM) lang1=$(@@:b:s/_/./:e:s/.//) type=html file=$@@
 .ELSE
 	sed 's|xmlns:xt="http://www.jclark.com/xt"||;s|extension-element-prefixes="xt"||;s|.*xt:document.*||;s|<xsl:output method = "HTML" doctype-public = "-//W3C//DTD HTML 3.2//EN" />|<xsl:output method="html" doctype-public="-//W3C//DTD HTML 3.2//EN" />|' < ..$/readme.xsl | xsltproc -o $@@ \
 	         --stringparam os1 $(OS) \
@@@@ -86,7 +86,7 @@@@ $(MISC)$/readme%.html :
 $(MISC)$/readme%.txt :
     @@+-$(MKDIR) $(@@:d)
 .IF "$(XSLTPROC)"=="NO_XSLTPROC"
-	$(JAVAI) $(JAVACPS) $(SOLARBINDIR)$/xt.jar$(PATH_SEPERATOR)$(XERCES_JAR) -Dcom.jclark.xsl.sax.parser=org.apache.xerces.parsers.SAXParser com.jclark.xsl.sax.Driver $(subst,_$(@@:b:s/_/./:e:s/.//), $(COMMONMISC)$/$(TARGET)$/$(@@:b).xrm) ..$/readme.xsl os1=$(OS) gui1=$(GUI) cp1=$(CPUNAME) com1=$(COM) lang1=$(@@:b:s/_/./:e:s/.//) type=text file=$@@
+	$(JAVAI) $(JAVACPS) $(XT_JAR)$(PATH_SEPERATOR)$(XML_APIS_JAR)$(PATH_SEPERATOR)$(XERCES_JAR) -Dcom.jclark.xsl.sax.parser=org.apache.xerces.parsers.SAXParser com.jclark.xsl.sax.Driver $(subst,_$(@@:b:s/_/./:e:s/.//), $(COMMONMISC)$/$(TARGET)$/$(@@:b).xrm) ..$/readme.xsl os1=$(OS) gui1=$(GUI) cp1=$(CPUNAME) com1=$(COM) lang1=$(@@:b:s/_/./:e:s/.//) type=text file=$@@
 .ELSE
 	sed 's|xmlns:xt="http://www.jclark.com/xt"||;s|extension-element-prefixes="xt"||;s|.*xt:document.*||;s|<xsl:output method = "HTML" doctype-public = "-//W3C//DTD HTML 3.2//EN" />|<xsl:output method="text" />|' < ..$/readme.xsl | xsltproc -o $@@ \
 	         --stringparam os1 $(OS) \
@


1.2
log
@- sync patches
- no need to patch and search and replace on packagelist.txt when a
simple patch will do
- fix name of the epm patch
- disable parallel builds. Our user-land pthreads lib converts fd's to be
non-blocking which causes intermittent build failures when a parallel
process can't deal with non-blocking fd's. For example cat and stdout.
parallel builds will need to wait for rthreads.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@update to version 2.0.4m4;

- more optimizations;
- use autoconf;
- remove hardcoded paths from unxobsdi.mk;
- zap .0.0 from WANTLIB;
- add a new MASTER_SITE;
- enable sndfile support;
@
text
@d2 3
a4 3
--- readlicense_oo/util/makefile.pmk.orig	Fri Sep  1 09:56:11 2006
+++ readlicense_oo/util/makefile.pmk	Fri Sep  1 09:57:53 2006
@@@@ -70,7 +70,7 @@@@
d13 1
a13 1
@@@@ -86,7 +86,7 @@@@
@

