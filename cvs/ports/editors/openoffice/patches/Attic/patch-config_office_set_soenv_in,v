head	1.15;
access;
symbols
	OPENBSD_4_6:1.14.0.6
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.4
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.14.0.2
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.13.0.2
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.11.0.2
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.9.0.2
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2
	robert_20060817:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2009.11.12.15.26.26;	author sturm;	state dead;
branches;
next	1.14;

1.14
date	2008.04.28.11.18.46;	author robert;	state Exp;
branches;
next	1.13;

1.13
date	2007.12.07.11.30.55;	author robert;	state Exp;
branches;
next	1.12;

1.12
date	2007.11.13.09.46.28;	author robert;	state Exp;
branches;
next	1.11;

1.11
date	2007.04.18.13.20.48;	author kurt;	state Exp;
branches;
next	1.10;

1.10
date	2007.03.17.15.27.45;	author robert;	state Exp;
branches;
next	1.9;

1.9
date	2006.12.13.10.25.14;	author robert;	state Exp;
branches;
next	1.8;

1.8
date	2006.11.09.15.18.01;	author kurt;	state Exp;
branches;
next	1.7;

1.7
date	2006.11.09.08.31.29;	author robert;	state Exp;
branches;
next	1.6;

1.6
date	2006.11.08.09.34.03;	author robert;	state Exp;
branches;
next	1.5;

1.5
date	2006.11.03.05.11.09;	author kurt;	state Exp;
branches;
next	1.4;

1.4
date	2006.10.27.16.02.02;	author kurt;	state Exp;
branches;
next	1.3;

1.3
date	2006.10.19.15.16.50;	author kurt;	state Exp;
branches;
next	1.2;

1.2
date	2006.08.20.03.36.52;	author kurt;	state Exp;
branches;
next	1.1;

1.1
date	2006.08.17.14.56.22;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.08.17.14.56.22;	author robert;	state Exp;
branches;
next	;


desc
@@


1.15
log
@remove OO2 which has been unlinked from builds since april

ok sthen, msf
@
text
@--- config_office/set_soenv.in.orig.port	Wed Jan 23 18:07:28 2008
+++ config_office/set_soenv.in	Wed Apr 23 15:24:05 2008
@@@@ -380,7 +380,47 @@@@ elsif ( $platform =~ m/freebsd/ ) 
    }
       $INPATH         = $OUTPATH.$PROEXT;
       $GVERDIR        = $INPATH;
-} 
+}
+elsif ( $platform =~ m/openbsd/ )
+{     print "Setting OpenBSD specific values... ";
+      $outfile        = "OpenBSDEnv.Set";
+      $BIG_SVX        = "TRUE";
+      $COM            = "GCC";
+      $COMPATH        = '@@COMPATH@@';
+      if ( $platform =~ m/^i386/ )
+      {
+         $CPU            = "I";
+         $CPUNAME        = "INTEL";
+         $JRELIBDIR      = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."i386";
+         $JRETOOLKITDIR  = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."i386".$ds."client";
+         $JRETHREADDIR   = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."i386".$ds."native_threads";
+         $JREEXTRALIBDIR = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."i386".$ds."xawt";
+      }
+      elsif ( $platform =~ m/^x86_64/ )
+      {
+         $CPU            = "X";
+         $CPUNAME        = "X86_64";
+         $JRELIBDIR      = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."amd64";
+         $JRETOOLKITDIR  = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."amd64".$ds."server";
+         $JRETHREADDIR   = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."amd64".$ds."native_threads";
+         $JREEXTRALIBDIR = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."amd64".$ds."xawt";
+      }
+      $CVER           = "C300";
+      $GUI            = "UNX";
+      $GUIBASE        = "unx";
+      $GUIENV         = "sal";
+      $GVER           = "VCL";
+      $OUTPATH        = "unxobsd";
+      $INPATH         = $OUTPATH.$PROEXT;
+      $GVERDIR        = $INPATH;
+      $OS             = "OPENBSD";
+      $PATH_SEPERATOR = $ps;
+      $XPVERSION      = "3";
+      $OSVERSION      = '@@OSVERSION@@';
+      if( @@GCCVER@@ >= 30401 ) {
+         $CVER        = "C341";
+      }
+}
 elsif ( $platform =~ m/linux-gnu/ ) 
 {
 # General Linux settings:
@@@@ -1095,7 +1135,7 @@@@ if ($platform =~ m/solaris/) 
                         $ps.$JRETHREADDIR.
                         $ps.'$SOLARVER'.$ds.'$INPATH'.$LIB;
 }
-elsif ($platform =~ m/linux-gnu|netbsd|osf1|freebsd|aix/)
+elsif ($platform =~ m/linux-gnu|netbsd|osf1|freebsd|aix|openbsd/)
 {  $LD_LIBRARY_PATH   = $cur_dir.
                         $ps.'$SOLARENV'.$ds.'$INPATH'.$LIB.
                         $ps.$JRELIBDIR.
@@@@ -1137,7 +1177,7 @@@@ if ($platform =~ m/solaris/) 
                         $L.$USR_DT.$LIB.
                         $L.$USR_OPENWIN.$LIB;
 }
-elsif ($platform =~ m/linux-gnu|netbsd|osf1|irix|freebsd|aix/)
+elsif ($platform =~ m/linux-gnu|netbsd|osf1|irix|freebsd|aix|openbsd/)
 {
    $SOLAREXTRALIB     = $L.$par_dir.$LIB64;
 }
@@@@ -1200,7 +1240,7 @@@@ if ($platform =~ m/cygwin|os2/)
 }
      
 # The general environment path.
-if ($platform =~ m/linux-gnu|netbsd|odf1|irix|freebsd|aix|solaris/)
+if ($platform =~ m/linux-gnu|netbsd|odf1|irix|freebsd|aix|solaris|openbsd/)
 {  $PATH              = $cur_dir.
                         $ps.'$SOLARVER'.$ds.'$INPATH'.$BIN.
                         $ps.'$SOLARENV'.$ds.'$OUTPATH'.$BIN.
@@@@ -1389,11 +1429,12 @@@@ if ($platform =~ m/solaris/) 
                         $L_STLPORT_LIB.
                         $L.$XLIB;
 }
-elsif ($platform =~ m/linux-gnu|netbasd|osf1|irix|aix|freebsd/)
+elsif ($platform =~ m/linux-gnu|netbasd|osf1|irix|aix|freebsd|openbsd/)
 {  $SOLARLIB          = $L.$par_dir.$LIB.
                         $L.'$SOLARENV'.$ds.'$OUTPATH'.$LIB.
                         $L.'$SOLARVER'.$ds.'$INPATH'.$LIB.
                         $L.'$SOLARENV'.$ds.'$OUTPATH'.$LIB.
+			$L.$USR_LOCAL.$LIB.
                         $L.'$JAVA_HOME'.$LIB64.
                         $L.$JRELIBDIR.
                         $L.$JRETOOLKITDIR.
@@@@ -1417,7 +1458,19 @@@@ elsif ($platform =~ m/darwin/) 
     }
 
 }
-
+elsif ($platform =~ m/openbsd/)
+{  $SOLARLIB          = $L.$par_dir.$LIB.
+                        $L.'$SOLARENV'.$ds.'$OUTPATH'.$LIB.
+                        $L.'$SOLARVER'.$ds.'$INPATH'.$LIB.
+                        $L.'$SOLARENV'.$ds.'$OUTPATH'.$LIB.
+                        $L.$USR_LOCAL.$LIB.
+                        $L.'$JAVA_HOME'.$LIB64.
+                        $L.$JRELIBDIR.
+                        $L.$JRETOOLKITDIR.
+                        $L.$JRETHREADDIR.
+                        $L_STLPORT_LIB.
+                        $L.$XLIB;
+}
 if ($SYSTEM_MOZILLA eq "YES")
 {
        $SOLARLIB .= $L."@@MOZ_LIB@@"
@@@@ -1432,10 +1485,10 @@@@ $SOLARINC             = $I.$cur_dir.
                         $I.'$SOLARENV'.$INC.
                         $I.'$SRC_ROOT'.$ds."res";
 
-if ($platform =~ m/solaris|linux-gnu|osf1|freebsd|netbsd|irix/)
+if ($platform =~ m/solaris|linux-gnu|osf1|freebsd|netbsd|irix|openbsd/)
 {
 $SOLARINC	     .= $STLPORT_stlport;
-if ($platform =~ m/linux|freebsd|netbsd/)
+if ($platform =~ m/linux|freebsd|netbsd|openbsd/)
 {
 # This simply adds an include path, so even cases that break the FHS work
 $SOLARINC            .= $STLPORT_inc_stlport;
@@@@ -1457,9 +1510,15 @@@@ if ($platform =~ m/linux-gnu/)
 }
 
 
-   	$SOLARINC      .= $I.'$SOLARENV'.$INC.$ds."Xp31".
-                     $I.'$JAVA_HOME'.$INCLUDE;
+	$SOLARINC      .= $I.'$SOLARENV'.$INC.$ds."Xp31";
 
+	# pickup system jpeg over java jpeg
+	if ($platform =~ m/openbsd/)
+	{  $SOLARINC  .= $I.$USR_LOCAL.$INCLUDE;
+	}
+
+        $SOLARINC      .= $I.'$JAVA_HOME'.$INCLUDE;
+
 	#include system dependent Java include directory
 	if (!($JDK eq "gcj"))
 	{
@@@@ -1481,13 +1540,16 @@@@ if ($platform =~ m/linux-gnu/)
    		elsif ($platform =~ m/irix/)
    		{  $SOLARINC   .=$I.'$JAVA_HOME'.$INCLUDE.$ds."irix";
    		}
+		elsif ($platform =~ m/openbsd/)
+		{  $SOLARINC   .=$I.'$JAVA_HOME'.$INCLUDE.$ds."openbsd";
+		}
 
    		#java threads include path
 
    		$SOLARINC .=$I.'$JAVA_HOME'.$INCLUDE.$ds."native_threads".$ds."include";
 	}
     #The tail, if needed
-    if ($platform =~ m/linux-gnu|freebsd|netbsd/)
+    if ($platform =~ m/linux-gnu|freebsd|netbsd|openbsd/)
     {  $SOLARINC  .= $I.$XINC;
     }
     elsif ($platform =~ m/osf1/)
@


1.14
log
@update to OpenOffice.org 2.4.0;
 - rename the br-pt subpackage to pt-br because of an i18n change
   in openoffice
 - regen some patches
 - fix WANTLIB and LIB_DEPENDS
@
text
@@


1.13
log
@update to version 2.3.1;

This is a minor bug fix release with no new features for users.
However, as this release also fixes a security vulnerability with
database files.
@
text
@d1 4
a4 3
--- config_office/set_soenv.in.orig.port	Thu Dec  6 16:36:06 2007
+++ config_office/set_soenv.in	Thu Dec  6 16:36:08 2007
@@@@ -368,6 +368,46 @@@@ elsif ( $platform =~ m/freebsd/ ) 
d7 2
a8 1
 } 
d52 1
a52 1
@@@@ -974,7 +1014,7 @@@@ if ($platform =~ m/solaris/) 
d57 1
a57 1
+elsif ($platform =~ m/linux-gnu|netbsd|osf1|freebsd|openbsd|aix/)
d61 1
a61 1
@@@@ -1016,7 +1056,7 @@@@ if ($platform =~ m/solaris/) 
d66 1
a66 1
+elsif ($platform =~ m/linux-gnu|netbsd|osf1|irix|freebsd|openbsd|aix/)
d70 1
a70 1
@@@@ -1066,7 +1106,7 @@@@ if ($platform =~ m/cygwin/)
d79 1
a79 1
@@@@ -1246,11 +1286,12 @@@@ if ($platform =~ m/solaris/) 
d93 3
a95 3
@@@@ -1258,6 +1299,19 @@@@ elsif ($platform =~ m/linux-gnu|netbasd|osf1|irix|aix|
                         $L_STLPORT_LIB.
                         $L.$XLIB;
d97 1
d111 4
a114 4
 elsif ($platform =~ m/cygwin/)
 {  $SOLARLIB          = $L.'$SOLARVER'.$ds.'$INPATH'.$LIB.
                         $L.$par_dir.$LIB.
@@@@ -1289,10 +1343,10 @@@@ $SOLARINC             = $I.$cur_dir.
d119 1
a119 1
+if ($platform =~ m/solaris|linux-gnu|osf1|freebsd|netbsd|openbsd|irix/)
d127 1
a127 2
@@@@ -1313,9 +1367,14 @@@@ if ($platform =~ m/linux-gnu/)
    $SOLARINC         .= $STLPORT_inc_stlport;
a129 1
+	$SOLARINC      .= $I.'$SOLARENV'.$INC.$ds."Xp31";
d133 7
a139 5
+        # pickup system jpeg over java jpeg
+        if ($platform =~ m/openbsd/)
+        {  $SOLARINC  .= $I.$USR_LOCAL.$INCLUDE;
+        }
+ 
d141 1
a141 1
 
d144 4
a147 3
@@@@ -1332,6 +1391,10 @@@@ if ($platform =~ m/linux-gnu/)
       		$SOLARINC   .=$I.'$JAVA_HOME'.$INCLUDE.$ds."bsd";
       		$SOLARINC   .=$I.'$JAVA_HOME'.$INCLUDE.$ds."linux";
d149 6
a154 8
+                elsif ($platform =~ m/openbsd/)
+                {
+                $SOLARINC   .=$I.'$JAVA_HOME'.$INCLUDE.$ds."openbsd";
+                }
    		elsif ($platform =~ m/netbsd/)
    		{  $SOLARINC   .=$I.'$JAVA_HOME'.$INCLUDE.$ds."netbsd";
    		}
@@@@ -1344,7 +1407,7 @@@@ if ($platform =~ m/linux-gnu/)
@


1.12
log
@- update to openoffice 2.3 that has many new features
  and a lot of speedup.
- fix the debug flavor
- rearrange the PLISTs so the no_lang flavor won't try to
  include some language files
@
text
@d1 2
a2 2
--- config_office/set_soenv.in.orig.port	Thu Oct 25 16:21:59 2007
+++ config_office/set_soenv.in	Thu Oct 25 16:23:46 2007
d50 1
a50 1
@@@@ -973,7 +1013,7 @@@@ if ($platform =~ m/solaris/) 
d59 1
a59 1
@@@@ -1015,7 +1055,7 @@@@ if ($platform =~ m/solaris/) 
d68 1
a68 1
@@@@ -1065,7 +1105,7 @@@@ if ($platform =~ m/cygwin/)
d77 1
a77 1
@@@@ -1245,11 +1285,12 @@@@ if ($platform =~ m/solaris/) 
d91 1
a91 1
@@@@ -1257,6 +1298,19 @@@@ elsif ($platform =~ m/linux-gnu|netbasd|osf1|irix|aix|
d111 1
a111 1
@@@@ -1288,10 +1342,10 @@@@ $SOLARINC             = $I.$cur_dir.
d124 1
a124 1
@@@@ -1312,9 +1366,14 @@@@ if ($platform =~ m/linux-gnu/)
d141 1
a141 1
@@@@ -1331,6 +1390,10 @@@@ if ($platform =~ m/linux-gnu/)
d152 1
a152 1
@@@@ -1343,7 +1406,7 @@@@ if ($platform =~ m/linux-gnu/)
@


1.11
log
@sync patches with -current diff. no functional changes. okay robert@@
@
text
@d1 2
a2 3
$OpenBSD: patch-config_office_set_soenv_in,v 1.10 2007/03/17 15:27:45 robert Exp $
--- config_office/set_soenv.in.orig.port	Wed Apr 18 03:46:23 2007
+++ config_office/set_soenv.in	Wed Apr 18 03:46:24 2007
d50 1
a50 1
@@@@ -969,7 +1009,7 @@@@ if ($platform =~ m/solaris/) 
d55 1
a55 1
+elsif ($platform =~ m/linux-gnu|netbsd|osf1|openbsd|freebsd|aix/)
d59 1
a59 10
@@@@ -1018,7 +1058,7 @@@@ if ($platform =~ m/solaris/) 
                         $D."SUPD=$UPD".
                         $D."UPDVER=".'""'."'".'"'."'".'"'."SV$UPD".'"'."'".'"'."'".'"'.'"';
 }
-elsif ($platform =~ m/linux-gnu|netbsd|freebsd|osf1|irix|aix/)
+elsif ($platform =~ m/linux-gnu|netbsd|openbsd|freebsd|osf1|irix|aix/)
 {  $SOLARDEF          = $D."UNX".
                         $D.$COM.
                         $D.$CVER.
@@@@ -1055,7 +1095,7 @@@@ if ($platform =~ m/solaris/) 
d64 1
a64 1
+elsif ($platform =~ m/linux-gnu|netbsd|osf1|irix|openbsd|freebsd|aix/)
d68 1
a68 1
@@@@ -1091,7 +1131,7 @@@@ if ($platform =~ m/cygwin/)
d73 1
a73 1
+if ($platform =~ m/linux-gnu|netbsd|odf1|irix|openbsd|freebsd|aix|solaris/)
d77 7
a83 1
@@@@ -1260,6 +1300,7 @@@@ elsif ($platform =~ m/linux-gnu|netbasd|osf1|irix|aix|
d91 1
a91 1
@@@@ -1267,6 +1308,19 @@@@ elsif ($platform =~ m/linux-gnu|netbasd|osf1|irix|aix|
d111 1
a111 1
@@@@ -1298,10 +1352,10 @@@@ $SOLARINC             = $I.$cur_dir.
d116 1
a116 1
+if ($platform =~ m/solaris|linux-gnu|osf1|openbsd|freebsd|netbsd|irix/)
d120 1
a120 1
+if ($platform =~ m/linux|openbsd|freebsd|netbsd/)
d124 1
a124 1
@@@@ -1322,10 +1376,15 @@@@ if ($platform =~ m/linux-gnu/)
d128 1
a128 1
+   	$SOLARINC      .= $I.'$SOLARENV'.$INC.$ds."Xp31";
d136 2
a138 2
+        $SOLARINC      .= $I.'$JAVA_HOME'.$INCLUDE;
+
d141 1
a141 2
 	{
@@@@ -1341,6 +1400,10 @@@@ if ($platform =~ m/linux-gnu/)
d145 4
a148 4
+		elsif ($platform =~ m/openbsd/)
+		{
+		$SOLARINC   .=$I.'$JAVA_HOME'.$INCLUDE.$ds."openbsd";
+		}
d152 1
a152 1
@@@@ -1353,7 +1416,7 @@@@ if ($platform =~ m/linux-gnu/)
d157 1
a157 1
+    if ($platform =~ m/linux-gnu|freebsd|openbsd|netbsd/)
@


1.10
log
@update to version 2.2.0m18;

- fix the PLIST of the bg, de and es and language so they
can be used again: from Daniel Gruber <daniel@@tydirium.org>

this has been tested by many people.
@
text
@d1 3
a3 3
$OpenBSD: patch-config_office_set_soenv_in,v 1.9 2006/12/13 10:25:14 robert Exp $
--- config_office/set_soenv.in.orig.port	Wed Jan 17 09:39:29 2007
+++ config_office/set_soenv.in	Wed Jan 17 09:51:17 2007
d87 1
a87 1
@@@@ -1260,6 +1300,7 @@@@ elsif ($platform =~ m/linux-gnu|netbasd|
d95 1
a95 1
@@@@ -1267,6 +1308,19 @@@@ elsif ($platform =~ m/linux-gnu|netbasd|
@


1.9
log
@- update to version 2.1.0 which includes many bugfixes and improvements

- remove some unnecessary patches and add a no_lang
pseudo flavor which allows people to do a build w/o language packs
(requested by kurt@@)

- from now on we set the file descriptor limit to a higher value (256)
in the OpenOffice build environment to prevent build failures

- point explicitly to the licensing FAQ instead of pointing to the contents
of the FAQ
@
text
@d1 3
a3 3
$OpenBSD: patch-config_office_set_soenv_in,v 1.8 2006/11/09 15:18:01 kurt Exp $
--- config_office/set_soenv.in.orig.port	Fri Dec  1 18:52:35 2006
+++ config_office/set_soenv.in	Mon Dec 11 22:27:36 2006
d53 1
a53 1
                         $ps.'$SOLARVER'.$ds.'$UPD'.$ds.'$INPATH'.$LIB;
d85 1
a85 1
                         $ps.'$SOLARVER'.$ds.'$UPD'.$ds.'$INPATH'.$BIN.
d87 9
a95 1
@@@@ -1277,6 +1317,19 @@@@ elsif ($platform =~ m/linux-gnu|netbasd|
d102 1
a102 1
+                        $L.'$SOLARVER'.$ds.'$UPD'.$ds.'$INPATH'.$LIB.
a103 1
+                        $L_STLPORT_LIB.
d109 1
d113 1
a113 1
 {  $SOLARLIB          = $L.'$SOLARVER'.$ds.'$UPD'.$ds.'$INPATH'.$LIB.
d115 1
a115 1
@@@@ -1308,10 +1361,10 @@@@ $SOLARINC             = $I.$cur_dir.
d128 1
a128 1
@@@@ -1332,10 +1385,15 @@@@ if ($platform =~ m/linux-gnu/)
d146 1
a146 1
@@@@ -1351,6 +1409,10 @@@@ if ($platform =~ m/linux-gnu/)
d157 1
a157 1
@@@@ -1363,7 +1425,7 @@@@ if ($platform =~ m/linux-gnu/)
@


1.8
log
@- apply go-ooo patch build-java-target.diff (adjusted to apply cleanly).
this patch enables javac arguments -source & -target which will allow us to
build with 1.5 but run with 1.4 or 1.5. building with 1.5 will be enabled
in java.port.mk later.
- sync patches (line numbers/-p)
@
text
@d1 3
a3 3
$OpenBSD: patch-config_office_set_soenv_in,v 1.7 2006/11/09 08:31:29 robert Exp $
--- config_office/set_soenv.in.orig.port	Thu Nov  9 08:55:33 2006
+++ config_office/set_soenv.in	Thu Nov  9 08:55:34 2006
d51 1
a51 1
@@@@ -943,7 +983,7 @@@@ if ($platform =~ m/solaris/) 
d60 1
a60 1
@@@@ -992,7 +1032,7 @@@@ if ($platform =~ m/solaris/) 
d69 1
a69 1
@@@@ -1029,7 +1069,7 @@@@ if ($platform =~ m/solaris/) 
d78 1
a78 1
@@@@ -1070,7 +1110,7 @@@@ if ($platform =~ m/cygwin/)
d87 1
a87 1
@@@@ -1260,6 +1300,19 @@@@ elsif ($platform =~ m/linux-gnu|netbasd|
d107 1
a107 1
@@@@ -1291,10 +1344,10 @@@@ $SOLARINC             = $I.$cur_dir.
d120 1
a120 1
@@@@ -1315,10 +1368,15 @@@@ if ($platform =~ m/linux-gnu/)
d138 1
a138 1
@@@@ -1334,6 +1392,10 @@@@ if ($platform =~ m/linux-gnu/)
d149 1
a149 1
@@@@ -1346,7 +1408,7 @@@@ if ($platform =~ m/linux-gnu/)
@


1.7
log
@- use the jdk server vm on amd64 because it does not have a client
- re-enable the library check for bean now that the server vm is used
- fix an if statement (OPEBBSD->OPENBSD)

jdk problem noticed by kurt@@
@
text
@d1 4
a4 4
$OpenBSD: patch-config_office_set_soenv_in,v 1.6 2006/11/08 09:34:03 robert Exp $
--- config_office/set_soenv.in.orig.port	Mon Aug 28 10:37:34 2006
+++ config_office/set_soenv.in	Fri Nov  3 18:29:03 2006
@@@@ -368,6 +368,46 @@@@
d51 1
a51 1
@@@@ -943,7 +983,7 @@@@
d60 1
a60 1
@@@@ -992,7 +1032,7 @@@@
d69 1
a69 1
@@@@ -1029,7 +1069,7 @@@@
d78 1
a78 1
@@@@ -1070,7 +1110,7 @@@@
d87 1
a87 1
@@@@ -1260,6 +1300,19 @@@@
d107 1
a107 1
@@@@ -1291,10 +1344,10 @@@@
d120 1
a120 1
@@@@ -1315,10 +1368,15 @@@@
d138 1
a138 1
@@@@ -1334,6 +1392,10 @@@@
d149 1
a149 1
@@@@ -1346,7 +1408,7 @@@@
@


1.6
log
@- add amd64 support
- use unxobsd.mk instead of different makefiles for every
  architecture
- use devel/boost now that we have it instead of the bundled
  one. (this is also needed to build openoffice on amd64)
- start using some patches from http://go-ooo.org/.
  (disable the startup wizard and some online registration menu points)
  (the patch is generated by my after applying the patches that's why
   i provide the mirror for it.)
- allow the openoffice build infrastructure to override our CFLAGS in
  some cases. this is needed because some of the files have to be compiled
  with -O0 instead of -02 which we use by default.
@
text
@d1 1
a1 1
$OpenBSD$
d28 1
a28 1
+         $JRETOOLKITDIR  = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."amd64".$ds."client";
@


1.5
log
@- enable KDE integration and add openoffice-kde subpackge for this
optional feature
- enable building with java and add openoffice-java subpackage for this
optional feature. this corrects the "save as" problem and provides help
files in the base package. so now java is needed to build OOo but not to
run it. some OOo features require java to run, so install the
openoffice-java subpackage for that.
- make sbase, smath, setofficelang and spadmin applications available
via wrapper script.
- tweak configure to find versioned Qt shared libs.
- adjust include and lib search order again - sigh. put /usr/local
before jdk but after OOo dirs. this allows system libjpeg to be used
over jdk libjpeg and still avoids build conflicts with things like cppunit.
- remove extra patch to readlicense_oo/util/makefile.pmk

some testing and input ian@@ okay robert@@
@
text
@d1 4
a4 4
$OpenBSD: patch-config_office_set_soenv_in,v 1.4 2006/10/27 16:02:02 kurt Exp $
--- config_office/set_soenv.in.orig.port	Mon Aug 28 04:37:34 2006
+++ config_office/set_soenv.in	Tue Oct 31 12:56:11 2006
@@@@ -368,6 +368,34 @@@@ elsif ( $platform =~ m/freebsd/ ) 
d14 18
a31 2
+      $CPU            = "I";
+      $CPUNAME        = "INTEL";
a43 4
+      $JRELIBDIR      = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."i386";
+      $JRETOOLKITDIR  = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."i386".$ds."client";
+      $JRETHREADDIR   = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."i386".$ds."native_threads";
+      $JREEXTRALIBDIR = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."i386".$ds."xawt";
d51 1
a51 1
@@@@ -943,7 +971,7 @@@@ if ($platform =~ m/solaris/) 
d60 1
a60 1
@@@@ -992,7 +1020,7 @@@@ if ($platform =~ m/solaris/) 
d69 1
a69 1
@@@@ -1029,7 +1057,7 @@@@ if ($platform =~ m/solaris/) 
d78 1
a78 1
@@@@ -1070,7 +1098,7 @@@@ if ($platform =~ m/cygwin/)
d87 1
a87 1
@@@@ -1260,6 +1288,19 @@@@ elsif ($platform =~ m/linux-gnu|netbasd|
d107 1
a107 1
@@@@ -1291,10 +1332,10 @@@@ $SOLARINC             = $I.$cur_dir.
d120 1
a120 1
@@@@ -1315,10 +1356,15 @@@@ if ($platform =~ m/linux-gnu/)
d138 1
a138 1
@@@@ -1334,6 +1380,10 @@@@ if ($platform =~ m/linux-gnu/)
d149 1
a149 1
@@@@ -1346,7 +1396,7 @@@@ if ($platform =~ m/linux-gnu/)
@


1.4
log
@- libxslt is a BUILD_DEPEND not a LIB_DEPEND
- enable cairo support
- enable portaudio/sendfile - audio not working yet, revisit later
- adjust include and lib search order again. put /usr/local before
/usr/X11R6 so we link to ports expat and not the one that comes with X11R6
- add -pthread to PTHREAD_CFLAGS in odk subproject
- integrate audacity portaudio patches and link to ossaudio
- strip Linux shlib major version numbers from dlopen()'ed lib names
- link stlport with stdc++ to resolve some undefined symbols
- remove getpwuid_r workaround in sal/osl/unx/security.c since a suitable
one already exits in sal/osl/unx/system.c
@
text
@d1 1
a1 1
$OpenBSD: patch-config_office_set_soenv_in,v 1.3 2006/10/19 15:16:50 kurt Exp $
d3 1
a3 1
+++ config_office/set_soenv.in	Thu Oct 26 08:51:45 2006
d84 2
a89 2
+                        $L_STLPORT_LIB.
+                        $L.$USR_LOCAL.$LIB.
d108 19
a126 1
@@@@ -1334,6 +1375,10 @@@@ if ($platform =~ m/linux-gnu/)
d137 3
a139 1
@@@@ -1348,6 +1393,10 @@@@ if ($platform =~ m/linux-gnu/)
d141 2
a142 1
     if ($platform =~ m/linux-gnu|freebsd|netbsd/)
a143 4
+    }
+    elsif ($platform =~ m/openbsd/)
+    {  $SOLARINC  .= $I.$USR_LOCAL.$INCLUDE.
+                     $I.$XINC;
a145 1
     {  $SOLARINC  .= $I.$XINC.
@


1.3
log
@- sync patches
- no need to patch and search and replace on packagelist.txt when a
simple patch will do
- fix name of the epm patch
- disable parallel builds. Our user-land pthreads lib converts fd's to be
non-blocking which causes intermittent build failures when a parallel
process can't deal with non-blocking fd's. For example cat and stdout.
parallel builds will need to wait for rthreads.
@
text
@d1 1
a1 1
$OpenBSD: patch-config_office_set_soenv_in,v 1.2 2006/08/20 03:36:52 kurt Exp $
d3 1
a3 1
+++ config_office/set_soenv.in	Thu Oct 19 10:47:52 2006
d75 1
a75 1
@@@@ -1248,7 +1276,7 @@@@ if ($platform =~ m/solaris/) 
d79 17
a95 6
-elsif ($platform =~ m/linux-gnu|netbasd|osf1|irix|aix|freebsd/)
+elsif ($platform =~ m/linux-gnu|netbasd|osf1|irix|aix|openbsd|freebsd/)
 {  $SOLARLIB          = $L.$par_dir.$LIB.
                         $L.'$SOLARENV'.$ds.'$OUTPATH'.$LIB.
                         $L.'$SOLARVER'.$ds.'$UPD'.$ds.'$INPATH'.$LIB.
@@@@ -1291,10 +1319,10 @@@@ $SOLARINC             = $I.$cur_dir.
d108 1
a108 1
@@@@ -1334,6 +1362,11 @@@@ if ($platform =~ m/linux-gnu/)
a114 1
+		$SOLARINC   .=$I.'$JAVA_HOME'.$INCLUDE.$ds."bsd";
d119 1
a119 3
@@@@ -1346,7 +1379,7 @@@@ if ($platform =~ m/linux-gnu/)
    		$SOLARINC .=$I.'$JAVA_HOME'.$INCLUDE.$ds."native_threads".$ds."include";
 	}
d121 1
a121 2
-    if ($platform =~ m/linux-gnu|freebsd|netbsd/)
+    if ($platform =~ m/linux-gnu|openbsd|freebsd|netbsd/)
d123 4
d129 1
@


1.2
log
@Fix debug FLAVOR so it builds and installs binaries with symbols:
- add -dontstrip to packaging script to get useful debug binaries
installed
- remove --enable-debug since that makes the debug build too big (>18G)
for me to build. Add back later as a possible verbose_debug flavor.

Use PATCHORIG so that update-patches doesn't pickup internal .orig files.
Idea from espie@@

Add a mutex to make the call to getpwuid thread safe.
@
text
@d1 3
a3 3
$OpenBSD$
--- config_office/set_soenv.in.orig.port	Wed Jul 19 05:52:27 2006
+++ config_office/set_soenv.in	Fri Aug 18 15:47:46 2006
d39 1
a39 1
@@@@ -935,7 +963,7 @@@@ if ($platform =~ m/solaris/) 
d48 1
a48 1
@@@@ -984,7 +1012,7 @@@@ if ($platform =~ m/solaris/) 
d57 1
a57 1
@@@@ -1021,7 +1049,7 @@@@ if ($platform =~ m/solaris/) 
d66 1
a66 1
@@@@ -1062,7 +1090,7 @@@@ if ($platform =~ m/cygwin/)
d75 1
a75 1
@@@@ -1240,7 +1268,7 @@@@ if ($platform =~ m/solaris/) 
d84 1
a84 1
@@@@ -1283,10 +1311,10 @@@@ $SOLARINC             = $I.$cur_dir.
d97 1
a97 1
@@@@ -1326,6 +1354,11 @@@@ if ($platform =~ m/linux-gnu/)
d109 1
a109 1
@@@@ -1338,7 +1371,7 @@@@ if ($platform =~ m/linux-gnu/)
@


1.1
log
@Initial revision
@
text
@d2 2
a3 2
--- config_office/set_soenv.in.orig	Wed Jul 19 11:52:27 2006
+++ config_office/set_soenv.in	Tue Aug 15 14:05:56 2006
@


1.1.1.1
log
@Import of OpenOffice.Org version 2.0.3m179.  
 
OpenOffice is an Open Source, community-developed, multi-platform office
productivity suite. It includes the key desktop applications, such as a
word processor, spreadsheet, presentation manager, and drawing program,
with a user interface and feature set similar to other office suites.
 
I would like to thank everyone who helped porting:
Peter Valchev, Kurt Miller, Dale Rahn, Ian Darwin and the OpenOffice.Org team.
 
This import is an explicit request by pvalchev@@ and espie@@.
This means that the current ports lock is still in effect and this import
is only a planned exception by the release managers.

This port is not yet connected to the builds.
 
okay pvalchev@@, espie@@
@
text
@@
