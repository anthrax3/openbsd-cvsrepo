head	1.2;
access;
symbols
	OPENBSD_4_6:1.1.0.12
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.10
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.8
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.6
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.4
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.2
	OPENBSD_4_1_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2009.11.12.15.26.27;	author sturm;	state dead;
branches;
next	1.1;

1.1
date	2006.10.25.22.49.50;	author kurt;	state Exp;
branches;
next	;


desc
@@


1.2
log
@remove OO2 which has been unlinked from builds since april

ok sthen, msf
@
text
@$OpenBSD: patch-sal_typesconfig_typesconfig_c,v 1.1 2006/10/25 22:49:50 kurt Exp $
--- sal/typesconfig/typesconfig.c.orig.port	Thu Sep  8 12:49:50 2005
+++ sal/typesconfig/typesconfig.c	Tue Oct 24 17:12:30 2006
@@@@ -167,6 +167,16 @@@@ void SignalHdl( int sig )
 int check( TestFunc func, Type eT, void* p )
 {
 #ifdef USE_FORK_TO_CHECK
+
+#ifdef OPENBSD
+  /* avoid generating a core file (probably for other OS too?! */
+#include <sys/types.h>
+#include <sys/time.h>
+#include <sys/resource.h>
+  struct rlimit rl;
+  memset(&rl, 0, sizeof(rl));
+  setrlimit(RLIMIT_CORE, &rl);
+#endif
   pid_t nChild = fork();
   if ( nChild )
   {
@


1.1
log
@- protect against null pointer dereference in hi_ary.cxx
- use new style C++ includes
- clean up some patches
- use __alignof__ for OpenBSD too
- fix destpath in packagelist.txt for sdkoo and ure
- don't generate core file on intentional segfault test in typesconfig.c
- add missing unxobsdi section in stand.lst
- num_put_float.cpp fix in STLport
- add sysconfig.get_config_var('LIBS') to PYTHON_LIBS
- don't hardcode Linux path to 'sum' let path find it

All corrections submitted by or inspired by patches from Fritz Elfert
<fritz at fritz-elfert.de>
@
text
@d1 1
a1 1
$OpenBSD$
@

