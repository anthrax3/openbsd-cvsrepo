head	1.8;
access;
symbols
	OPENBSD_6_2:1.8.0.2
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.1.1.1.0.2
	OPENBSD_6_0_BASE:1.1.1.1
	jca_20160406:1.1.1.1
	jca:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2017.09.29.16.48.50;	author jca;	state Exp;
branches;
next	1.7;
commitid	uStp8kLM3AQdeVRh;

1.7
date	2017.09.27.20.36.17;	author jca;	state Exp;
branches;
next	1.6;
commitid	veD5c8S8QsX9QmHq;

1.6
date	2017.07.26.22.45.19;	author sthen;	state Exp;
branches;
next	1.5;
commitid	tD4MFrpYYDDL2UFT;

1.5
date	2017.07.16.19.18.52;	author espie;	state Exp;
branches;
next	1.4;
commitid	tt0GhWK5c4uf9ILG;

1.4
date	2017.07.10.14.44.05;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	sPvfLVUzsVEGCq2q;

1.3
date	2017.04.10.11.45.27;	author sthen;	state Exp;
branches;
next	1.2;
commitid	XDh1zlSBq0boKsHk;

1.2
date	2016.09.11.20.54.12;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	9aCynzSLedE7m3mA;

1.1
date	2016.04.05.23.30.46;	author jca;	state Exp;
branches
	1.1.1.1;
next	;
commitid	DoyxCzaf25ub8Acv;

1.1.1.1
date	2016.04.05.23.30.46;	author jca;	state Exp;
branches;
next	;
commitid	DoyxCzaf25ub8Acv;


desc
@@


1.8
log
@Use COMPILER=base-gcc, for consistency.  Requested by sthen@@
@
text
@# $OpenBSD: Makefile,v 1.7 2017/09/27 20:36:17 jca Exp $

# XXX base clang: lots of undefined references to Qt functions
COMPILER=	base-gcc

COMMENT=	wysiwyw (what you see is what you want) editing platform

DISTNAME=	TeXmacs-1.99.4-src
PKGNAME=	${DISTNAME:S/-src//}
CATEGORIES=	editors print x11
REVISION=	2

HOMEPAGE=	http://texmacs.org/

MASTER_SITES=	${HOMEPAGE}/Download/ftp/tmftp/source/

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB+=	ICE QtGui SM X11 Xext Xi Xinerama Xrender c fontconfig
WANTLIB+=	freetype gmp guile ltdl m pthread ${COMPILER_LIBCXX} util z

MODULES=	x11/qt4
BUILD_DEPENDS=	print/ghostscript/gnu
RUN_DEPENDS=	devel/desktop-file-utils \
		misc/shared-mime-info \
		print/ghostscript/gnu \
		x11/gtk+3,-guic
LIB_DEPENDS=	lang/guile

USE_GMAKE=	Yes
CONFIGURE_STYLE=autoconf
CONFIGURE_ARGS=	--with-qt=${MODQT4_QTDIR}/bin
AUTOCONF_VERSION=	2.69

NO_TEST=	Yes
ALL_TARGET=

post-extract:
	rm -f ${WRKDIST}/plugins/mathematica/bin/realpath.py

post-install:
	gunzip ${PREFIX}/man/man1/*.gz

.include <bsd.port.mk>
@


1.7
log
@Disable ports that don't build on clang archs; ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2017/07/26 22:45:19 sthen Exp $
d3 2
a4 2
# XXX lots of undefined references to Qt functions
NOT_FOR_ARCHS =		${CLANG_ARCHS}
@


1.6
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.5 2017/07/16 19:18:52 espie Exp $
@


1.5
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2017/07/10 14:44:05 ajacoutot Exp $
d8 1
a8 1
REVISION=	1
@


1.4
log
@Don't ship compressed man pages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2017/04/10 11:45:27 sthen Exp $
d18 1
a18 1
WANTLIB+=	freetype gmp guile ltdl m pthread ${LIBCXX} util z
@


1.3
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2016/09/11 20:54:12 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
d38 3
@


1.2
log
@Second and last pass at pre-entively fixing ports that would break once
guenther's header pollution cleanup diff is in.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2016/04/05 23:30:46 jca Exp $
d18 1
a18 1
WANTLIB+=	freetype gmp guile ltdl m pthread stdc++ util z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
@


1.1.1.1
log
@Import gnu TeXmacs, a LaTeX editor.

From Ray Lai, input from and ok sthen@@

cat pkg/DESCR:
GNU TeXmacs is a free wysiwyw (what you see is what you want) editing
platform with special features for scientists. The software aims
to provide a unified and user friendly framework for editing
structured documents with different types of content (text, graphics,
mathematics, interactive content, etc.). The rendering engine uses
high-quality typesetting algorithms so as to produce professionally
looking documents, which can either be printed out or presented
from a laptop.

@
text
@@
