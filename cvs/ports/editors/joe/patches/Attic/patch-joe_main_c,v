head	1.2;
access;
symbols
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2016.03.26.17.04.17;	author danj;	state dead;
branches;
next	1.1;
commitid	vMWf0rSVhYVFs1gN;

1.1
date	2015.10.03.17.58.07;	author jca;	state Exp;
branches;
next	;
commitid	tTAFXqYervSbNfGr;


desc
@@


1.2
log
@update to joe-4.2

ok jca@@ jung@@ benoit@@
@
text
@$OpenBSD: patch-joe_main_c,v 1.1 2015/10/03 17:58:07 jca Exp $

Committed upstream

  http://sourceforge.net/p/joe-editor/mercurial/ci/e26894707ac52a56d02c55af6e412d8fd96df94d/#diff-2

--- joe/main.c.orig	Mon Aug 31 04:59:43 2015
+++ joe/main.c	Sat Oct  3 18:09:12 2015
@@@@ -211,7 +211,7 @@@@ int edloop(int flg)
 		}
 
 		/* Restore modes */
-		if (maint->curwin->watom->what & TYPETW) {
+		if (!leave && maint->curwin->watom->what & TYPETW) {
 			bw = (BW *)maint->curwin->object;
 
 			if (auto_off) {
@


1.1
log
@Update to joe-4.1

From Daniel Jakots, patch to fix a use after free by Quentin Rameau,
input from sthen@@

NEWS file at http://sourceforge.net/p/joe-editor/mercurial/ci/default/tree/NEWS.md
@
text
@d1 1
a1 1
$OpenBSD$
@

