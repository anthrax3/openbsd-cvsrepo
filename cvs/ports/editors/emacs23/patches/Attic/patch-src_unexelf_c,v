head	1.3;
access;
symbols
	OPENBSD_5_2:1.2.0.6
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.4
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	jasper_20112803:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2013.01.14.08.14.34;	author jasper;	state dead;
branches;
next	1.2;

1.2
date	2011.03.29.19.59.58;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.28.15.18.56;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.03.28.15.18.56;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Remove Emacs 22/23, we've got 21 and 24 already, and there's no need for four
different Emacsen.

as discussed with deraadt@@ and several others.
ok aja@@ gsoares@@ eric@@ (emacs 22 maintainer)
@
text
@$OpenBSD: patch-src_unexelf_c,v 1.2 2011/03/29 19:59:58 jasper Exp $

Fix build on OpenBSD/alpha, which is an ELF platform.

--- src/unexelf.c.orig	Sat Jan  8 18:45:14 2011
+++ src/unexelf.c	Tue Mar 29 21:55:24 2011
@@@@ -1082,7 +1082,7 @@@@ temacs:
       memcpy (NEW_SECTION_H (nn).sh_offset + new_base, src,
 	      NEW_SECTION_H (nn).sh_size);
 
-#ifdef __alpha__
+#if defined(__alpha__) && !defined(__OpenBSD__)
       /* Update Alpha COFF symbol table: */
       if (strcmp (old_section_names + OLD_SECTION_H (n).sh_name, ".mdebug")
 	  == 0)
@


1.2
log
@regen patch
@
text
@d1 1
a1 1
$OpenBSD: patch-src_unexelf_c,v 1.1.1.1 2011/03/28 15:18:56 jasper Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- src/unexelf.c.orig	Thu Sep  9 19:27:28 2010
+++ src/unexelf.c	Thu Sep  9 19:28:00 2010
@@@@ -1079,7 +1079,7 @@@@ unexec (new_name, old_name, data_start, bss_start, ent
@


1.1.1.1
log
@import emacs 23.3

joint work with, and ok dcoppa@@ mikeb@@ sthen@@, as well as Manuel Giraud
@
text
@@
