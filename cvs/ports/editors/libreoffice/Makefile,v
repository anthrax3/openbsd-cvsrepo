head	1.172;
access;
symbols
	OPENBSD_6_1:1.155.0.2
	OPENBSD_6_1_BASE:1.155
	OPENBSD_6_0:1.147.0.2
	OPENBSD_6_0_BASE:1.147
	OPENBSD_5_9:1.140.0.2
	OPENBSD_5_9_BASE:1.140
	OPENBSD_5_8:1.133.0.4
	OPENBSD_5_8_BASE:1.133
	OPENBSD_5_7:1.123.0.2
	OPENBSD_5_7_BASE:1.123
	OPENBSD_5_6:1.117.0.2
	OPENBSD_5_6_BASE:1.117
	OPENBSD_5_5:1.104.0.2
	OPENBSD_5_5_BASE:1.104
	OPENBSD_5_4:1.90.0.2
	OPENBSD_5_4_BASE:1.90
	OPENBSD_5_3:1.84.0.2
	OPENBSD_5_3_BASE:1.84
	OPENBSD_5_2:1.70.0.2
	OPENBSD_5_2_BASE:1.70
	OPENBSD_5_1_BASE:1.57
	OPENBSD_5_1:1.57.0.2
	OPENBSD_5_0:1.40.0.2
	OPENBSD_5_0_BASE:1.40
	OPENBSD_4_9:1.21.0.2
	OPENBSD_4_9_BASE:1.21
	robert_20101114:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.172
date	2017.08.24.09.45.23;	author sthen;	state Exp;
branches;
next	1.171;
commitid	PnxiRKB45Z5BPng8;

1.171
date	2017.08.13.17.12.48;	author robert;	state Exp;
branches;
next	1.170;
commitid	0qi6BnjTpkWQGxIO;

1.170
date	2017.08.10.15.55.03;	author sthen;	state Exp;
branches;
next	1.169;
commitid	7av1UuXkA4SDHK0B;

1.169
date	2017.07.31.21.45.37;	author robert;	state Exp;
branches;
next	1.168;
commitid	LyVZqJg3ZEhm0Q49;

1.168
date	2017.07.31.15.39.05;	author robert;	state Exp;
branches;
next	1.167;
commitid	k2KXDKoUbWB1HfyC;

1.167
date	2017.07.30.19.39.18;	author robert;	state Exp;
branches;
next	1.166;
commitid	WqKI70PKdN2sMhgj;

1.166
date	2017.07.28.11.21.01;	author naddy;	state Exp;
branches;
next	1.165;
commitid	7JcgdXht5Hsrm0Wo;

1.165
date	2017.07.26.22.45.19;	author sthen;	state Exp;
branches;
next	1.164;
commitid	tD4MFrpYYDDL2UFT;

1.164
date	2017.07.23.18.54.01;	author robert;	state Exp;
branches;
next	1.163;
commitid	NmNSZolUxdv6gFLy;

1.163
date	2017.07.18.21.06.48;	author espie;	state Exp;
branches;
next	1.162;
commitid	TCNTP3oWOIr4GPsx;

1.162
date	2017.07.16.19.18.52;	author espie;	state Exp;
branches;
next	1.161;
commitid	tt0GhWK5c4uf9ILG;

1.161
date	2017.07.04.08.17.55;	author robert;	state Exp;
branches;
next	1.160;
commitid	BrmO53jPoIX1m2xO;

1.160
date	2017.07.03.08.32.10;	author robert;	state Exp;
branches;
next	1.159;
commitid	VC0zQYFTN1h5GWkt;

1.159
date	2017.05.31.08.08.15;	author espie;	state Exp;
branches;
next	1.158;
commitid	ij92FtFXiSiT1ani;

1.158
date	2017.04.23.13.42.25;	author naddy;	state Exp;
branches;
next	1.157;
commitid	FrjO2M5B5PBi4isK;

1.157
date	2017.04.21.13.27.46;	author kurt;	state Exp;
branches;
next	1.156;
commitid	lfz5IYSiUvvvq1Ub;

1.156
date	2017.04.12.18.12.33;	author landry;	state Exp;
branches;
next	1.155;
commitid	obesxEciJRtUmDBz;

1.155
date	2017.01.03.19.30.57;	author landry;	state Exp;
branches;
next	1.154;
commitid	HVmTfB1WaWgvLMOx;

1.154
date	2016.12.26.19.04.31;	author robert;	state Exp;
branches;
next	1.153;
commitid	iikE1jHMdkEiT6vV;

1.153
date	2016.12.05.16.17.37;	author ajacoutot;	state Exp;
branches;
next	1.152;
commitid	ABvQ3NV9h6SaqMuz;

1.152
date	2016.11.01.11.56.29;	author robert;	state Exp;
branches;
next	1.151;
commitid	ZjyaL9JTaAbas20t;

1.151
date	2016.09.08.16.47.21;	author robert;	state Exp;
branches;
next	1.150;
commitid	eGz0KlKJWTh3QhE4;

1.150
date	2016.09.04.14.55.52;	author robert;	state Exp;
branches;
next	1.149;
commitid	aaG5QVMIFOAd40T8;

1.149
date	2016.09.04.12.02.49;	author robert;	state Exp;
branches;
next	1.148;
commitid	qpyFfh6x78Txxvcd;

1.148
date	2016.08.22.23.56.41;	author sthen;	state Exp;
branches;
next	1.147;
commitid	Gf8qpCaXXdTcn9iB;

1.147
date	2016.07.09.09.09.08;	author sthen;	state Exp;
branches;
next	1.146;
commitid	6UTy3AiMgjyDIiRL;

1.146
date	2016.06.24.14.06.27;	author robert;	state Exp;
branches;
next	1.145;
commitid	cF5dWKcLeHe70qj1;

1.145
date	2016.04.08.20.42.14;	author robert;	state Exp;
branches;
next	1.144;
commitid	TT9y2uVCWzRNFt60;

1.144
date	2016.03.13.19.20.02;	author robert;	state Exp;
branches;
next	1.143;
commitid	dMbRE179BlUo72y8;

1.143
date	2016.03.13.10.31.16;	author robert;	state Exp;
branches;
next	1.142;
commitid	v19jrwLJxmrtDRRA;

1.142
date	2016.03.03.10.17.38;	author robert;	state Exp;
branches;
next	1.141;
commitid	C4qARBinV8J0NFVv;

1.141
date	2016.03.01.21.39.58;	author robert;	state Exp;
branches;
next	1.140;
commitid	rpVPLNVMzZTn1g3L;

1.140
date	2015.12.18.13.31.56;	author robert;	state Exp;
branches;
next	1.139;
commitid	VfpPn4mvMqj6bUDh;

1.139
date	2015.11.20.17.17.50;	author sthen;	state Exp;
branches;
next	1.138;
commitid	5jJ7D9qeiviUpxXN;

1.138
date	2015.11.07.09.22.54;	author robert;	state Exp;
branches;
next	1.137;
commitid	N8QROhO9RlTvTJ5a;

1.137
date	2015.09.29.16.10.48;	author robert;	state Exp;
branches;
next	1.136;
commitid	Mrayb86LYCo3vnpd;

1.136
date	2015.08.18.08.15.40;	author kirby;	state Exp;
branches;
next	1.135;
commitid	2WurgQRmzUXUhMxh;

1.135
date	2015.08.13.08.38.36;	author robert;	state Exp;
branches;
next	1.134;
commitid	BbdsLUyAX1o2QriP;

1.134
date	2015.08.11.21.43.03;	author jasper;	state Exp;
branches;
next	1.133;
commitid	jJigjrb16bGNPG9W;

1.133
date	2015.07.19.16.25.35;	author jasper;	state Exp;
branches;
next	1.132;
commitid	7unvx8xRiedBrvJS;

1.132
date	2015.07.09.17.05.14;	author robert;	state Exp;
branches;
next	1.131;
commitid	bXkdKNkypMGoZAOW;

1.131
date	2015.05.28.10.26.12;	author ajacoutot;	state Exp;
branches;
next	1.130;
commitid	RhEsqCqX0GxGhwJX;

1.130
date	2015.05.26.08.44.58;	author robert;	state Exp;
branches;
next	1.129;
commitid	rkUQdKOqJhLT7pLw;

1.129
date	2015.05.20.19.06.42;	author sthen;	state Exp;
branches;
next	1.128;
commitid	KCR9NZFlh3ReHXmD;

1.128
date	2015.05.16.09.06.38;	author robert;	state Exp;
branches;
next	1.127;
commitid	qs2sD3kZ8uYFopok;

1.127
date	2015.05.03.11.30.33;	author robert;	state Exp;
branches;
next	1.126;
commitid	WPdYnqreDPO7Dhqy;

1.126
date	2015.04.05.09.33.42;	author ajacoutot;	state Exp;
branches;
next	1.125;
commitid	Khzy9ou7zrfBiX50;

1.125
date	2015.03.27.08.11.27;	author ajacoutot;	state Exp;
branches;
next	1.124;
commitid	mHt3hIg3nxq5XDcy;

1.124
date	2015.03.20.22.47.41;	author naddy;	state Exp;
branches;
next	1.123;
commitid	QOpUQJ8BomkHfmKe;

1.123
date	2014.12.23.09.23.47;	author robert;	state Exp;
branches;
next	1.122;
commitid	qRfvY1IImTU7A6y4;

1.122
date	2014.11.15.13.44.40;	author robert;	state Exp;
branches;
next	1.121;
commitid	dCKOKQJtUVZDQ2p1;

1.121
date	2014.11.09.12.33.18;	author robert;	state Exp;
branches;
next	1.120;
commitid	gIKVOxpXaR3xBtdf;

1.120
date	2014.11.08.11.14.23;	author robert;	state Exp;
branches;
next	1.119;
commitid	2wtXFy5XLrtYGmBL;

1.119
date	2014.10.12.17.43.31;	author robert;	state Exp;
branches;
next	1.118;
commitid	qHWGx2d52mUJHX0P;

1.118
date	2014.10.10.17.13.10;	author robert;	state Exp;
branches;
next	1.117;
commitid	NKi5qWgOiGUBhZUs;

1.117
date	2014.07.14.21.31.05;	author zhuk;	state Exp;
branches;
next	1.116;
commitid	4zm9Kq0qVoPm9T5Q;

1.116
date	2014.07.13.08.28.24;	author robert;	state Exp;
branches;
next	1.115;
commitid	uPoe7XeiZ5FAvROn;

1.115
date	2014.06.20.10.49.11;	author sthen;	state Exp;
branches;
next	1.114;
commitid	cI4aKdN6aBVdLy5e;

1.114
date	2014.06.16.11.54.44;	author sthen;	state Exp;
branches;
next	1.113;
commitid	UwKek5ngvP1AwsFw;

1.113
date	2014.06.05.11.11.01;	author sthen;	state Exp;
branches;
next	1.112;
commitid	J6YdHGsa7pRG0asu;

1.112
date	2014.05.15.16.21.19;	author robert;	state Exp;
branches;
next	1.111;

1.111
date	2014.05.15.08.52.19;	author robert;	state Exp;
branches;
next	1.110;

1.110
date	2014.05.12.08.15.25;	author sthen;	state Exp;
branches;
next	1.109;

1.109
date	2014.05.11.16.42.18;	author kurt;	state Exp;
branches;
next	1.108;

1.108
date	2014.05.07.15.42.15;	author kurt;	state Exp;
branches;
next	1.107;

1.107
date	2014.05.07.15.34.08;	author sthen;	state Exp;
branches;
next	1.106;

1.106
date	2014.03.26.07.27.17;	author robert;	state Exp;
branches;
next	1.105;

1.105
date	2014.03.10.20.27.25;	author landry;	state Exp;
branches;
next	1.104;

1.104
date	2014.01.14.15.38.23;	author robert;	state Exp;
branches;
next	1.103;

1.103
date	2014.01.11.15.00.23;	author sthen;	state Exp;
branches;
next	1.102;

1.102
date	2013.12.16.23.07.06;	author stsp;	state Exp;
branches;
next	1.101;

1.101
date	2013.12.07.20.43.00;	author naddy;	state Exp;
branches;
next	1.100;

1.100
date	2013.12.07.19.42.40;	author robert;	state Exp;
branches;
next	1.99;

1.99
date	2013.12.03.10.15.17;	author sthen;	state Exp;
branches;
next	1.98;

1.98
date	2013.11.25.14.16.22;	author sthen;	state Exp;
branches;
next	1.97;

1.97
date	2013.11.17.11.45.52;	author robert;	state Exp;
branches;
next	1.96;

1.96
date	2013.11.12.07.57.22;	author robert;	state Exp;
branches;
next	1.95;

1.95
date	2013.11.06.20.52.01;	author sthen;	state Exp;
branches;
next	1.94;

1.94
date	2013.10.24.07.58.05;	author sthen;	state Exp;
branches;
next	1.93;

1.93
date	2013.10.13.08.11.21;	author espie;	state Exp;
branches;
next	1.92;

1.92
date	2013.10.05.07.34.31;	author espie;	state Exp;
branches;
next	1.91;

1.91
date	2013.08.20.22.05.51;	author zhuk;	state Exp;
branches;
next	1.90;

1.90
date	2013.06.21.06.07.58;	author robert;	state Exp;
branches;
next	1.89;

1.89
date	2013.06.07.09.07.50;	author sthen;	state Exp;
branches;
next	1.88;

1.88
date	2013.05.31.14.50.11;	author robert;	state Exp;
branches;
next	1.87;

1.87
date	2013.04.02.16.41.21;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2013.03.21.08.59.29;	author fgsch;	state Exp;
branches;
next	1.85;

1.85
date	2013.03.11.11.02.50;	author espie;	state Exp;
branches;
next	1.84;

1.84
date	2013.02.07.19.13.49;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2013.02.07.18.39.58;	author robert;	state Exp;
branches;
next	1.82;

1.82
date	2013.02.05.10.39.29;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2013.01.24.08.46.36;	author zhuk;	state Exp;
branches;
next	1.80;

1.80
date	2013.01.23.21.21.45;	author zhuk;	state Exp;
branches;
next	1.79;

1.79
date	2013.01.03.21.03.14;	author robert;	state Exp;
branches;
next	1.78;

1.78
date	2012.11.12.13.38.20;	author sthen;	state Exp;
branches;
next	1.77;

1.77
date	2012.11.02.07.59.00;	author robert;	state Exp;
branches;
next	1.76;

1.76
date	2012.11.01.19.01.32;	author robert;	state Exp;
branches;
next	1.75;

1.75
date	2012.10.31.16.23.53;	author kili;	state Exp;
branches;
next	1.74;

1.74
date	2012.10.31.08.34.12;	author robert;	state Exp;
branches;
next	1.73;

1.73
date	2012.09.26.17.36.46;	author naddy;	state Exp;
branches;
next	1.72;

1.72
date	2012.09.18.13.05.21;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2012.08.04.15.05.35;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2012.07.13.12.36.18;	author robert;	state Exp;
branches;
next	1.69;

1.69
date	2012.07.09.08.08.53;	author espie;	state Exp;
branches;
next	1.68;

1.68
date	2012.06.22.21.04.19;	author sthen;	state Exp;
branches;
next	1.67;

1.67
date	2012.06.15.08.32.15;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2012.06.05.08.24.17;	author robert;	state Exp;
branches;
next	1.65;

1.65
date	2012.05.07.09.52.56;	author robert;	state Exp;
branches;
next	1.64;

1.64
date	2012.05.07.07.17.15;	author robert;	state Exp;
branches;
next	1.63;

1.63
date	2012.04.10.13.34.13;	author robert;	state Exp;
branches;
next	1.62;

1.62
date	2012.04.05.07.44.14;	author robert;	state Exp;
branches;
next	1.61;

1.61
date	2012.04.03.09.27.15;	author robert;	state Exp;
branches;
next	1.60;

1.60
date	2012.04.03.08.56.50;	author robert;	state Exp;
branches;
next	1.59;

1.59
date	2012.03.20.16.36.16;	author naddy;	state Exp;
branches;
next	1.58;

1.58
date	2012.02.18.22.22.41;	author robert;	state Exp;
branches;
next	1.57;

1.57
date	2012.01.23.14.43.42;	author robert;	state Exp;
branches;
next	1.56;

1.56
date	2011.12.18.10.21.01;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2011.12.12.22.54.30;	author nigel;	state Exp;
branches;
next	1.54;

1.54
date	2011.12.12.09.38.03;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2011.12.03.19.49.45;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2011.11.12.10.51.10;	author robert;	state Exp;
branches;
next	1.51;

1.51
date	2011.11.11.17.36.43;	author robert;	state Exp;
branches;
next	1.50;

1.50
date	2011.10.29.08.12.31;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2011.10.17.10.10.59;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2011.10.10.09.01.42;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2011.10.07.13.54.31;	author kurt;	state Exp;
branches;
next	1.46;

1.46
date	2011.09.20.08.32.16;	author robert;	state Exp;
branches;
next	1.45;

1.45
date	2011.09.16.09.48.09;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2011.09.14.19.12.18;	author naddy;	state Exp;
branches;
next	1.43;

1.43
date	2011.09.12.10.16.57;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2011.08.30.17.16.36;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2011.08.16.08.11.51;	author robert;	state Exp;
branches;
next	1.40;

1.40
date	2011.07.19.09.09.22;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2011.07.06.18.29.00;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2011.07.02.15.22.39;	author robert;	state Exp;
branches;
next	1.37;

1.37
date	2011.07.01.21.52.04;	author robert;	state Exp;
branches;
next	1.36;

1.36
date	2011.06.23.16.38.51;	author robert;	state Exp;
branches;
next	1.35;

1.35
date	2011.06.22.15.39.31;	author robert;	state Exp;
branches;
next	1.34;

1.34
date	2011.06.20.13.29.34;	author robert;	state Exp;
branches;
next	1.33;

1.33
date	2011.06.08.17.34.19;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2011.06.07.19.41.39;	author naddy;	state Exp;
branches;
next	1.31;

1.31
date	2011.06.04.11.29.52;	author robert;	state Exp;
branches;
next	1.30;

1.30
date	2011.06.04.11.28.55;	author robert;	state Exp;
branches;
next	1.29;

1.29
date	2011.05.18.16.31.07;	author robert;	state Exp;
branches;
next	1.28;

1.28
date	2011.05.18.07.42.29;	author robert;	state Exp;
branches;
next	1.27;

1.27
date	2011.05.17.07.57.31;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2011.05.03.09.35.56;	author landry;	state Exp;
branches;
next	1.25;

1.25
date	2011.05.02.07.26.20;	author landry;	state Exp;
branches;
next	1.24;

1.24
date	2011.04.14.19.45.22;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2011.03.24.07.24.04;	author robert;	state Exp;
branches;
next	1.22;

1.22
date	2011.03.04.07.57.36;	author robert;	state Exp;
branches;
next	1.21;

1.21
date	2011.01.26.10.49.02;	author robert;	state Exp;
branches;
next	1.20;

1.20
date	2011.01.23.13.31.11;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2011.01.14.19.55.55;	author robert;	state Exp;
branches;
next	1.18;

1.18
date	2011.01.09.18.19.42;	author robert;	state Exp;
branches;
next	1.17;

1.17
date	2011.01.03.13.24.42;	author robert;	state Exp;
branches;
next	1.16;

1.16
date	2010.12.31.08.35.47;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2010.12.30.16.49.23;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2010.12.20.09.07.48;	author robert;	state Exp;
branches;
next	1.13;

1.13
date	2010.12.13.14.16.46;	author robert;	state Exp;
branches;
next	1.12;

1.12
date	2010.12.12.18.03.05;	author robert;	state Exp;
branches;
next	1.11;

1.11
date	2010.12.09.20.13.30;	author robert;	state Exp;
branches;
next	1.10;

1.10
date	2010.12.07.21.53.05;	author robert;	state Exp;
branches;
next	1.9;

1.9
date	2010.12.03.10.54.05;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2010.12.02.21.43.59;	author robert;	state Exp;
branches;
next	1.7;

1.7
date	2010.12.02.09.23.37;	author robert;	state Exp;
branches;
next	1.6;

1.6
date	2010.12.01.14.32.49;	author robert;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.30.18.17.55;	author robert;	state Exp;
branches;
next	1.4;

1.4
date	2010.11.18.19.17.33;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2010.11.17.14.14.42;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2010.11.17.13.30.58;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2010.11.14.23.46.34;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.11.14.23.46.34;	author robert;	state Exp;
branches;
next	;


desc
@@


1.172
log
@bump; textproc/icu4c now uses multi-packages for -wwwdata
@
text
@# $OpenBSD: Makefile,v 1.171 2017/08/13 17:12:48 robert Exp $

USE_WXNEEDED=	Yes

ONLY_FOR_ARCHS= amd64 i386

COMMENT-main=	multi-platform productivity suite
COMMENT-kde=	optional integration of LibreOffice to the KDE environment
COMMENT-java=	optional integration of LibreOffice java features

BV=		5.2
VERSION=	${BV}.7.2
REVISION=	1
REVISION-main=	6
DISTNAME=	libreoffice-${VERSION}
WRKDIST=	${WRKDIR}/libreoffice-${VERSION}
PKGNAME=	libreoffice-${VERSION}
PKGNAME-main=	libreoffice-${VERSION}
PKGNAME-kde=	libreoffice-kde-${VERSION}
PKGNAME-java=	libreoffice-java-${VERSION}
CATEGORIES=	editors productivity
DPB_PROPERTIES=	parallel tag:kde4

EPOCH=		0

MAINTAINER=	Robert Nagy <robert@@openbsd.org>

HOMEPAGE=	http://www.libreoffice.org/

MASTER_SITES=	http://download.documentfoundation.org/libreoffice/src/${VERSION:C/^([0-9]+\.[0-9]+\.[0-9]+).*/\1/}/ \
		http://humppa.hu/libreoffice/ \
		http://download.go-oo.org/src/
MASTER_SITES0=	http://dev-www.libreoffice.org/src/ \
		http://hg.services.openoffice.org/binaries/ \
		http://download.go-oo.org/src/ \
		http://download.go-oo.org/extern/ \
		http://www.numbertext.org/linux/ \
		http://ooo.itc.hu/oxygenoffice/download/libreoffice/
MASTER_SITES1=	http://dev-www.libreoffice.org/src/libgltf/

TAR=		${LOCALBASE}/bin/gtar
EDISTFILES=	libreoffice-${VERSION}.tar.xz

COMPONENTS=	dictionaries help translations

.for _dfile in ${COMPONENTS}
EDISTFILES+=	libreoffice-${_dfile}-${VERSION}.tar.xz
.endfor
EXTRACT_ONLY=	${EDISTFILES:C/:[0-9]$//}

DISTFILES+=	${EDISTFILES} \
		boost_1_60_0.tar.bz2:0 \
		0168229624cfac409e766913506961a8-ucpp-1.3.2.tar.gz:0 \
		0279a21fab6f245e85a6f85fea54f511-source-code-font-1.009.tar.gz:0 \
		907d6e99f241876695c19ff3db0b8923-source-code-pro-2.030R-ro-1.050R-it.tar.gz:0 \
		048751f3271906db5126ab76870444c4-commons-codec-1.9-src.zip:0 \
		134d8262145fc793c6af494dcace3e71-liberation-fonts-ttf-1.07.4.tar.gz:0 \
		17410483b5b5f267aa18b7e00b65e6e0-hsqldb_1_8_0.zip:0 \
		ce12af00283eb90d9281956524250d6e-xmlsec1-1.2.20.tar.gz:0 \
		libcmis-0.5.1.tar.gz:0 \
		26b3e95ddf3d9c077c480ea45874b3b8-lp_solve_5.5.tar.gz:0 \
		2c9b0f83ed5890af02c0df1c1776f39b-commons-httpclient-3.1-src.tar.gz:0 \
		3404ab6b1792ae5f16bbd603bd1e1d03-libformula-1.1.7.zip:0 \
		35c94d2df8893241173de1d16b6034c0-swingExSrc.zip:0 \
		35efabc239af896dfb79be7ebdd6e6b9-gentiumbasic-fonts-1.10.zip:0 \
		368f114c078f94214a308a74c7e991bc-crosextrafonts-20130214.tar.gz:0 \
		39bb3fcea1514f1369fcfc87542390fd-sacjava-1.3.zip:0 \
		3bdf40c0d199af31923e900d082ca2dd-libfonts-1.1.6.zip:0 \
		a8c2c5b8f09e7ede322d5c602ff6a4b6-mythes-1.2.4.tar.gz:0 \
		5c781723a0d9ed6188960defba8e91cf-liberation-fonts-ttf-2.00.1.tar.gz:0 \
		7681383be6ce489d84c1c74f4e7f9643-liborcus-0.7.0.tar.bz2:0 \
		798b2ffdc8bcfe7bca2cf92b62caf685-rhino1_5R5.zip:0 \
		7a15edea7d415ac5150ea403e27401fd-open-sans-font-ttf-1.10.tar.gz:0 \
		8ab049135b2d15313da5d9f0656894a1-commons-lang3-3.3.1-src.tar.gz:0 \
		8ce2fcd72becf06c41f7201d15373ed9-librepository-1.1.6.zip:0 \
		97b2d4dba862397f446b217e2b623e71-libloader-1.1.6.zip:0 \
		5ade6ae2a99bc1e9e57031ca88d36dad-hyphen-2.8.8.tar.gz:0 \
		d8b5214d35bcd2bfcb2cffa7795b351d-dejavu-fonts-ttf-2.35.zip:0 \
		a7983f859eafb2677d7ff386a023bc40-xsltml_2.1.2.zip:0 \
		mdds-1.2.2.tar.bz2:0 \
		aa899eff126216dafe721149fbdb511b-liblangtag-0.5.8.tar.bz2:0 \
		language-subtag-registry-2016-07-19.tar.bz2:0 \
		cb4207cb913c7a5a8bfa5b91234618ee-mdds_0.11.2.tar.bz2:0 \
		ace6ab49184e329db254e454a010f56d-libxml-1.1.7.zip:0 \
		10d61fbaa6a06348823651b1bd7940fe-libexttextcat-3.4.4.tar.bz2:0 \
		ba2930200c9f019c2d93a8c88c651a0f-flow-engine-0.9.4.zip:0 \
		bae83fa5dc7f081768daace6e199adc3-glm-0.9.4.6-libreoffice.zip:0 \
		c3c1a8ba7452950636e871d25020ce0d-pt-serif-font-1.0000W.tar.gz:0 \
		c74b7223abe75949b4af367942d96c7a-crosextrafonts-carlito-20130920.tar.gz:0 \
		d62650a6f908e85643e557a236ea989c-vigra1.6.0.tar.gz:0 \
		d8bd5eed178db6e2b18eeed243f85aa8-flute-1.1.6.zip:0 \
		db60e4fde8dd6d6807523deb71ee34dc-liblayout-0.2.10.zip:0 \
		e7a384790b13c29113e22e596ade9687-LinLibertineG-20120116.zip:0 \
		commons-logging-1.2-src.tar.gz:0 \
		beeca87be45ec87d241ddd0e1bad80c1-bsh-2.0b6-src.zip:0 \
		edc4d741888bc0d38e32dbaa17149596-source-sans-pro-2.010R-ro-1.065R-it.tar.gz:0 \
		eeb2c7ddf0d302fba4bfc6e97eac9624-libbase-1.1.6.zip:0 \
		f94d9870737518e3b597f9265f4e9803-libserializer-1.1.6.zip:0 \
		4311dd9ace498b57c85f611e0670df64-graphite2-minimal-1.3.8.tgz:0 \
		libabw-0.1.1.tar.bz2:0 \
		libcdr-0.1.2.tar.bz2:0 \
		libe-book-0.1.2.tar.bz2:0 \
		libetonyek-0.1.6.tar.bz2:0 \
		libfreehand-0.1.1.tar.bz2:0 \
		libgltf-0.0.2.tar.bz2:1 \
		libmspub-0.1.2.tar.bz2:0 \
		libmwaw-0.3.7.tar.bz2:0 \
		libodfgen-0.1.6.tar.bz2:0 \
		libpagemaker-0.0.3.tar.bz2:0 \
		librevenge-0.0.4.tar.bz2:0 \
		libvisio-0.1.5.tar.bz2:0 \
		libwpd-0.10.0.tar.bz2:0 \
		libwpd-0.10.1.tar.bz2:0 \
		libwpg-0.3.1.tar.bz2:0 \
		libwps-0.4.3.tar.bz2:0

DIST_SUBDIR=	libreoffice

PERMIT_PACKAGE_CDROM=	Yes

MULTI_PACKAGES=		-main -java -kde

PSEUDO_FLAVORS=	parallel no_lang
FLAVORS=	debug no_java
FLAVOR?=

.if !${FLAVOR:Mno_lang}
LANGS=			ar bg ca de es fa fi fr hu it \
			kk lt lv nl pl pt-BR ru sl sv

CONFIGURE_ARGS+=	--with-lang="en-US ${LANGS}"
.for l in ${LANGS:L}
MULTI_PACKAGES+=	-i18n-$l
PKGNAME-i18n-$l=	libreoffice-i18n-$l-${VERSION}
COMMENT-i18n-$l=	$l language pack for LibreOffice
RUN_DEPENDS-i18n-$l=	editors/libreoffice
WANTLIB-i18n-$l=
LIB_DEPENDS-i18n-$l=
.endfor
.endif

BUILD_DEPENDS+=	archivers/zip \
		archivers/unzip \
		archivers/gtar \
		databases/db/v4 \
		devel/bison \
		devel/cppunit \
		devel/gpatch \
		devel/gperf \
		devel/libexecinfo \
		graphics/glew \
		shells/bash \
		archivers/p5-Archive-Zip \
		misc/findutils \
		print/poppler \
		security/nss \
		sysutils/coreutils \
		textproc/clucene \
		x11/gtk+3 \
		${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}

# configure checks for librsvg support; no LIB/RUN_DEPENDS because libcups
# and librsvg is only dlopen()ed if found
BUILD_DEPENDS +=	x11/gnome/librsvg

COMPILER =	gcc

MODULES+=	lang/python \
		devel/gettext

# XXX can't use ${MODPY_DEFAULT_VERSION_3}, it specifically wants 3.3 and
# will try (and fail) to build its own copy if not available.
MODPY_VERSION=	${MODPY_DEFAULT_VERSION_3}


LIB_DEPENDS-main=x11/gtk+2 \
		${MODPY_LIB_DEPENDS} \
		databases/openldap \
		databases/postgresql \
		devel/harfbuzz,-icu \
		graphics/lcms2 \
		${MODGCC4_CPPLIBDEP} \
		print/cups,-libs \
		print/poppler \
		textproc/libxslt \
		textproc/raptor \
		net/curl \
		net/neon \
		textproc/icu4c \
		textproc/redland \
		textproc/hunspell

WANTLIB-main=	${COMPILER_LIBCXX} gdk-x11-2.0>=400.14 gtk-x11-2.0>=400.14 \
		xslt>=3 curl>=7 neon>=24 pq>=2 \
		icuuc>=0 icui18n \
		rdf>=0
WANTLIB-main+=	ICE SM X11 Xcomposite Xcursor Xdamage \
		Xext Xfixes Xi Xinerama Xrandr Xrender atk-1.0 c cairo \
		crypto expat fontconfig freetype gio-2.0 glib-2.0 \
		gobject-2.0 gthread-2.0 \
		jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
		pthread ssl xml2 z gdk_pixbuf-2.0 \
		util ${MODGETTEXT_WANTLIB}
WANTLIB-main+=	hunspell-1.6
WANTLIB-main+=	${MODPY_WANTLIB}
WANTLIB-main+=	clucene-contribs-lib clucene-core clucene-shared
WANTLIB-main+=	cups exslt lcms2
WANTLIB-main+=	nspr4 nss3 plc4 plds4 smime3 softokn3 ssl3
WANTLIB-main+=	png raptor2
WANTLIB-main+=	lber ldap
WANTLIB-main+=	GLEW
WANTLIB-main+=	GL GLU harfbuzz harfbuzz-icu
WANTLIB-main+=	lzma
WANTLIB-main+=	cairo-gobject gmodule-2.0
WANTLIB-main+=	dconf gdk-3 gtk-3
WANTLIB-main+=	poppler

RUN_DEPENDS-main=	devel/desktop-file-utils \
			devel/libexecinfo \
			devel/xdg-utils \
			graphics/glew \
			misc/shared-mime-info \
			security/nss \
			textproc/clucene \
			x11/gtk+3 \
			x11/gtk+3,-guic

MODULES+=		x11/qt4
RUN_DEPENDS-kde=	editors/libreoffice
LIB_DEPENDS-kde=	x11/kde4/libs \
			${MODQT_LIB_DEPENDS} \
			${MODGCC4_CPPLIBDEP}
WANTLIB-kde+=		ICE SM Xext icuuc
WANTLIB-kde+=		GL GLEW GLU
WANTLIB-kde+=		X11 ${COMPILER_LIBCXX} glib-2.0 intl m pthread
WANTLIB-kde+=		QtCore QtGui QtNetwork kdecore kdeui kfile kio

.include <bsd.port.arch.mk>

.if ${BUILD_PACKAGES:M-java}
MODULES+=		java
MODJAVA_VER=		1.7+
MODJAVA_JRERUN=		Yes
.endif
LIB_DEPENDS-java=	${MODGCC4_CPPLIBDEP}
RUN_DEPENDS-java=	${MODJAVA_RUN_DEPENDS} \
			databases/db/v4,-java \
			editors/libreoffice \
			java/javaPathHelper
WANTLIB-java=		c ${COMPILER_LIBCXX} m pthread

USE_GMAKE=	Yes
NO_TEST=	Yes

PATCHORIG=	.orig.port

CONFIGURE_STYLE=	gnu

AUTOCONF_VERSION=	2.68
AUTOMAKE_VERSION=	1.12

CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
		KDE4INC="${LOCALBASE}/include/kde4" KDE4LIB="${LOCALBASE}/lib/kde4/libs"\
		QT4DIR="${LOCALBASE}/lib/qt4" QT4LIB="${LOCALBASE}/qt4" \
		QT4INC="${LOCALBASE}/include/X11/qt4"

CONFIGURE_ARGS+=\
		--disable-coinmp \
		--disable-collada \
		--disable-ccache \
		--disable-dbus \
		--disable-epm \
		--disable-fetch-external \
		--disable-odk \
		--disable-firebird-sdbc \
		--disable-mergelibs \
		--disable-dependency-tracking \
		--disable-online-update \
		--disable-orcus \
		--enable-gio \
		--enable-kde4 \
		--enable-systray \
		--enable-release-build \
		--enable-cairo-canvas \
		--with-alloc=system \
		--with-compat-oowrappers \
		--with-external-tar=${DISTDIR}/libreoffice \
		--with-fonts \
		--with-myspell-dicts \
		--with-system-harfbuzz \
		--with-system-glew \
		--with-system-clucene \
		--with-system-libxml \
		--without-system-boost \
		--with-system-cairo \
		--with-system-curl \
		--with-system-expat \
		--with-system-hunspell \
		--with-system-icu \
		--with-system-jars \
		--with-system-jpeg \
		--with-system-lcms2 \
		--with-system-libpng \
		--with-system-neon \
		--with-system-nss \
		--with-system-openldap \
		--with-system-openssl \
		--with-system-poppler \
		--with-system-postgresql \
		--with-system-redland \
		--with-system-zlib \
		--with-vendor="The OpenBSD project" \
		--without-junit \
		--without-krb5 \
		--without-gssapi \
		--without-system-apache-commons \
		--without-system-beanshell \
		--with-system-cppunit \
		--without-system-hsqldb \
		--without-system-jfreereport \
		--without-system-libwpd

.if ${BUILD_PACKAGES:M-java}
BUILD_DEPENDS+=	devel/apache-ant

CONFIGURE_ARGS+=--enable-ext-wiki-publisher \
		--with-java \
		--with-jdk-home=${JAVA_HOME} \
		--with-ant-home=${LOCALBASE}/ant
.else
CONFIGURE_ARGS+=--without-java
.endif

# XXX libreoffice has its own way to build things in parallel
PARALLEL_BUILD = No
.if defined(MAKE_JOBS)
NCPU=		${MAKE_JOBS}
.elif ${FLAVOR:Mparallel}
NCPU!=		echo $$((`sysctl -n hw.ncpu` + 1))
.else
NCPU=		1
.endif
CONFIGURE_ARGS+=--with-parallelism=${NCPU}

.if ${FLAVOR:Mdebug}
CONFIGURE_ARGS+=--enable-debug
.endif

MAKE_ENV+=	PYTHON="${MODPY_BIN}" verbose=f \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION}

.if ${MACHINE_ARCH} == "i386"
OA=		x86
.elif ${MACHINE_ARCH} == "amd64"
OA=		x86_64
.endif

SUBST_VARS+=	BV OA MODPY_DEFAULT_VERSION_3

pre-patch:
	@@ln -fs /bin/md5 ${WRKDIR}/bin/md5sum
	@@ln -fs /usr/local/bin/gfind ${WRKDIR}/bin/find
	@@ln -fs /usr/local/bin/gpatch ${WRKDIR}/bin/patch
	@@ln -fs /usr/local/bin/gcat ${WRKDIR}/bin/cat
	@@ln -fs /usr/local/bin/gtouch ${WRKDIR}/bin/touch
	touch ${WRKSRC}/src.downloaded ${WRKSRC}/autogen.lastrun

pre-configure:
	${SUBST_CMD} ${WRKSRC}/configure ${WRKSRC}/shell/source/unix/exec/shellexec.cxx \
		${WRKSRC}/shell/source/unix/misc/senddoc.sh

post-install:
	${INSTALL_SCRIPT} ${FILESDIR}/soffice.sh ${PREFIX}/bin/soffice
	${SUBST_CMD} ${PREFIX}/bin/soffice
	rm ${PREFIX}/bin/soffice.beforesubst

	cd ${PREFIX}/bin && \
	for _a in sbase scalc sdraw simpress smath swriter \
		lobase localc lodraw loimpress lomath lowriter \
		oobase oocalc oodraw ooimpress oomath oowriter \
		libreoffice libreoffice${BV} soffice${BV} unopkg; do \
		ln -sf soffice $${_a}; done

	${INSTALL_DATA_DIR} ${PREFIX}/share/applications \
				${PREFIX}/share/icons \
				${PREFIX}/share/mime/packages

	for _d in calc draw impress math \
		qstart startcenter writer; do \
		sed -i "s,Icon=libreoffice${BV}-,Icon=libreoffice-,g" \
			${PREFIX}/lib/libreoffice/share/xdg/$${_d}.desktop && \
		ln -sf ${TRUEPREFIX}/lib/libreoffice/share/xdg/$${_d}.desktop \
			${PREFIX}/share/applications/$${_d}.desktop; done

	cp -R ${WRKSRC}/sysui/desktop/icons/hicolor ${PREFIX}/share/icons
	for _f in `find ${PREFIX}/share/icons/*/*/apps -type f`; \
		do mv $${_f} `echo $${_f} | sed "s,apps/,apps/libreoffice-,g"`; done

	${INSTALL_DATA} ${WRKSRC}/workdir/CustomTarget/sysui/share/libreoffice/openoffice.org.xml \
		${PREFIX}/share/mime/packages

# If the -java package does not get build use stub libraries for
# libjvmaccesslo.so and libjvmfwklo.so so that they can get included
# in the -main package because they are needed even if the -java
# subpackage is not installed.
.if !${BUILD_PACKAGES:M-java}
	echo "int main(void) { return 0; }" > ${WRKSRC}/stub.c
	${CC} -shared -o ${WRKBUILD}/stub.o ${WRKSRC}/stub.c
.  for i in jvmaccess jvmfwk
	${INSTALL_PROGRAM} ${WRKBUILD}/stub.o \
		${PREFIX}/lib/libreoffice/ure/lib/lib${i}lo.so
.  endfor
.endif

.include <bsd.port.mk>
@


1.171
log
@unbreak build on i386
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.170 2017/08/10 15:55:03 sthen Exp $
d14 1
a14 1
REVISION-main=	5
@


1.170
log
@mark BROKEN-i386 to save half an hour of build time. current failure:

/usr/obj/ports/libreoffice-5.2.7.2/libreoffice-5.2.7.2/bridges/source/cpp_uno/gcc3_linux_intel/except.cxx:164:32: error: unknown type name '__si_class_type_info'
/usr/obj/ports/libreoffice-5.2.7.2/libreoffice-5.2.7.2/bridges/source/cpp_uno/gcc3_linux_intel/except.cxx:170:32: error: unknown type name '__class_type_info'

previously failed with segfaults during build.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.169 2017/07/31 21:45:37 robert Exp $

BROKEN-i386=	build fails
@


1.169
log
@add another boost include path fix and link the internal libhyphen statically as well
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.168 2017/07/31 15:39:05 robert Exp $
@


1.168
log
@multiple clang fixes:

- make sure to link with the static libmythes in the build to avoid a runtime
  crash

- since libreoffice uses a bundled boost, let's make sure we don't pick
  up anything from the one installed on the system by using the proper
  include directory order
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.167 2017/07/30 19:39:18 robert Exp $
d14 1
a14 1
REVISION-main=	4
@


1.167
log
@revert upstream commit 07157e644fa9666850767ff6bd54c1511167a0a2 which added
thread_local usage which we don't have yet to avoid __cxa_thread_atexit
problems on c++11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.166 2017/07/28 11:21:01 naddy Exp $
d14 1
a14 1
REVISION-main=	3
@


1.166
log
@bump; ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.165 2017/07/26 22:45:19 sthen Exp $
d14 1
a14 1
REVISION-main=	2
@


1.165
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.164 2017/07/23 18:54:01 robert Exp $
d13 2
a14 2
REVISION=	0
DISTNAME=	libreoffice-${VERSION}
a22 2

REVISION-main=	1
@


1.164
log
@allow build with system clang
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.163 2017/07/18 21:06:48 espie Exp $
d13 1
@


1.163
log
@oops, my editor killed one line
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.162 2017/07/16 19:18:52 espie Exp $
d23 1
a23 1
REVISION-main=	0
@


1.162
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.161 2017/07/04 08:17:55 robert Exp $
d21 1
@


1.161
log
@fix path to xdg-open and friends and add run dependency for devel/xdg-utils
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.160 2017/07/03 08:32:10 robert Exp $
a20 1
DPB_PROPERTIES=	parallel tag:kde4
d194 1
a194 1
WANTLIB-main=	${LIBECXX} gdk-x11-2.0>=400.14 gtk-x11-2.0>=400.14 \
d236 1
a236 1
WANTLIB-kde+=		X11 ${LIBECXX} glib-2.0 intl m pthread
d251 1
a251 1
WANTLIB-java=		c ${LIBECXX} m pthread
@


1.160
log
@update to 5.2.7.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.159 2017/05/31 08:08:15 espie Exp $
d23 2
d222 1
d373 2
a374 1
	${SUBST_CMD} ${WRKSRC}/configure
@


1.159
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2017/04/23 13:42:25 naddy Exp $
d12 1
a12 1
VERSION=	${BV}.4.2
a21 2
REVISION=	1
REVISION-java=	2
d207 1
a207 1
WANTLIB-main+=	cups exslt gcrypt gpg-error lcms2
a273 3
		--disable-gconf \
		--disable-gnome-vfs \
		--disable-lockdown \
a274 1
		--disable-randr-link \
a276 1
		--disable-packagekit \
a303 1
		--with-system-mesa-headers \
@


1.158
log
@proper bump after jdk 1.7 -> 1.8 change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.157 2017/04/21 13:27:46 kurt Exp $
d168 1
a168 3
MODULES+=	gcc4
MODGCC4_ARCHS=	*
MODGCC4_LANGS=	c++
d195 1
a195 1
WANTLIB-main=	estdc++ gdk-x11-2.0>=400.14 gtk-x11-2.0>=400.14 \
d236 1
a236 1
WANTLIB-kde+=		X11 estdc++ glib-2.0 intl m pthread
d251 1
a251 1
WANTLIB-java=		c estdc++ m pthread
@


1.157
log
@- disconnect devel/jdk/1.7 from the build
- adjust java.port.mk so all 1.7 and lower ports now build with 1.8
- bump revision on affected ports
okay sthen@@, ian@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.156 2017/04/12 18:12:33 landry Exp $
d23 1
a23 1
REVISION-java=	1
@


1.156
log
@Fix WANTLIB and bump REVISION for all ports depending on hunspell.

While here enforce dependency on hunspell 1.6 in mozilla.port.mk, as
it's a requirement for 53.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2017/01/03 19:30:57 landry Exp $
d23 1
@


1.155
log
@Use MODPY_DEFAULT_VERSION_3 via SUBST_VARS and SUBST_CMD in
patch-configure, so that this builds fine with python 3.6 instead of
hardcoding 3.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2016/12/26 19:04:31 robert Exp $
d22 1
a22 1
REVISION=	0
d207 1
a207 1
WANTLIB-main+=	hunspell-1.3
@


1.154
log
@update to 5.2.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2016/12/05 16:17:37 ajacoutot Exp $
d22 1
d368 1
a368 1
SUBST_VARS+=	BV OA
d377 3
@


1.153
log
@Fix build with ICU 58.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2016/11/01 11:56:29 robert Exp $
d12 1
a12 1
VERSION=	${BV}.2.2
a22 3
REVISION-main=	0
REVISION-kde=	0

d54 1
d79 1
a79 1
		mdds-1.2.0.tar.bz2:0 \
@


1.152
log
@update to 5.2.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2016/09/08 16:47:21 robert Exp $
d22 3
@


1.151
log
@update to 5.2.1.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.150 2016/09/04 14:55:52 robert Exp $
d12 1
a12 1
VERSION=	${BV}.1.2
@


1.150
log
@update wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.149 2016/09/04 12:02:49 robert Exp $
d12 1
a12 1
VERSION=	${BV}.0.4
a22 2
REVISION-main=	0

d80 1
a80 1
		language-subtag-registry-2016-02-10.tar.bz2:0 \
@


1.149
log
@update to 5.2.0.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2016/07/09 09:09:08 sthen Exp $
d23 2
d209 1
a209 1
WANTLIB-main+=	Xt clucene-contribs-lib clucene-core clucene-shared
@


1.148
log
@mark libreoffice as USE_WXNEEDED; working now that gcc4 can see the ld wrapper
@
text
@d11 2
a12 2
BV=		5.1
VERSION=	${BV}.4.2
a23 3
REVISION-main=	1
REVISION-kde=	0
REVISION-java=	0
d51 1
a51 1
		boost_1_59_0.tar.bz2:0 \
d57 2
a58 2
		1f24ab1d39f4a51faf22244c94a6203f-xmlsec1-1.2.14.tar.gz:0 \
		5821b806a98e6c38370970e682ce76e8-libcmis-0.5.0.tar.gz:0 \
d78 1
a78 1
		mdds_0.12.1.tar.bz2:0 \
d93 1
a93 1
		ec1941a74d3ef513c4ce57a9092b74e1-bsh-2.0b5-src.zip:0 \
d97 1
a97 1
		17df8301bcc459e83f8a8f3aca6183b2-graphite-minimal-1.3.6.tgz:0 \
d107 1
a107 1
		libpagemaker-0.0.2.tar.bz2:0 \
d113 1
a113 1
		libwps-0.4.2.tar.bz2:0
@


1.147
log
@sync WANTLIB
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.146 2016/06/24 14:06:27 robert Exp $
d24 3
a26 1
REVISION-main=	0
@


1.146
log
@update to 5.1.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2016/04/08 20:42:14 robert Exp $
d22 1
d184 1
d216 1
a222 1
			print/poppler \
@


1.145
log
@update to 5.1.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2016/03/13 19:20:02 robert Exp $
d10 1
a10 1
VERSION=	${BV}.2.2
d151 1
a186 1
		print/poppler \
a208 1
WANTLIB-main+=	poppler
d220 1
@


1.144
log
@add missing dependency for gtk+3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2016/03/13 10:31:16 robert Exp $
d10 1
a10 1
VERSION=	${BV}.1.3
a19 1
REVISION-main=	0
d78 1
a78 1
		language-subtag-registry-2015-08-04.tar.bz2:0 \
d214 1
@


1.143
log
@update to 5.1.1.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2016/03/03 10:17:38 robert Exp $
d20 1
d155 1
d222 1
@


1.142
log
@change the dpb property from kde3 to kde4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2016/03/01 21:39:58 robert Exp $
d10 1
a10 1
VERSION=	${BV}.0.3
d95 1
a95 1
		5c0c9ac0996fbb4a0e17780ff5441959-graphite2-minimal-1.3.4.tgz:0 \
@


1.141
log
@update to 5.1.0.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2015/12/18 13:31:56 robert Exp $
d19 1
a19 1
DPB_PROPERTIES=	parallel tag:kde3
@


1.140
log
@update to 5.0.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2015/11/20 17:17:50 sthen Exp $
d9 2
a10 2
BV=		5.0
VERSION=	${BV}.4.2
d49 1
a49 1
		d6eef4b4cacb2183f2bf265a5a03a354-boost_1_55_0.tar.bz2:0 \
d74 1
a74 1
		a4e565e220b5de082c23995e256e3c12-dejavu-fonts-ttf-2.34.zip:0 \
d77 2
d95 1
a95 1
		graphite2-1.2.4.tgz:0 \
d97 1
a97 1
		libcdr-0.1.1.tar.bz2:0 \
d99 1
a99 1
		libetonyek-0.1.3.tar.bz2:0 \
d103 2
a104 2
		libmwaw-0.3.5.tar.bz2:0 \
		libodfgen-0.1.4.tar.bz2:0 \
d106 2
a107 2
		librevenge-0.0.2.tar.bz2:0 \
		libvisio-0.1.1.tar.bz2:0 \
d109 3
a111 2
		libwpg-0.3.0.tar.bz2:0 \
		libwps-0.4.0.tar.bz2:0
d211 2
a212 1
WANTLIB-main+= lzma
d222 1
a222 1
MODULES+=		x11/qt3
d224 3
a226 8
LIB_DEPENDS-kde=	${MODQT_LIB_DEPENDS} \
			${MODGCC4_CPPLIBDEP} \
			x11/kde/libs3
WANTLIB-kde=		${MODQT_WANTLIB} \
			X11 c estdc++ m pthread \
			lib/kde3/kdecore \
			lib/kde3/kdeui lib/kde3/kio \
			lib/kde3/kabc
a227 1
WANTLIB-kde+=		Xrender
d229 2
d258 3
a260 2
		QTINC="${MODQT_INCDIR}" QTDIR="${MODQT_LIBDIR}" \
		KDEDIR="${LOCALBASE}"
a270 1
		--disable-kde4 \
a274 1
		--disable-liblangtag \
d281 1
a281 1
		--enable-kde \
@


1.139
log
@remove the remaining devel/flex build deps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2015/11/07 09:22:54 robert Exp $
d10 1
a10 1
VERSION=	${BV}.3.2
@


1.138
log
@update to 5.0.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2015/09/29 16:10:48 robert Exp $
a140 1
		devel/flex \
a364 1
	@@ln -fs /usr/local/bin/gflex ${WRKDIR}/bin/flex
@


1.137
log
@update to 5.0.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2015/08/18 08:15:40 kirby Exp $
d10 1
a10 1
VERSION=	${BV}.2.2
@


1.136
log
@Add Kazakh language support. Requested by Baurzhan Muftakhidinov on ports@@
long time ago.
OK robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2015/08/13 08:38:36 robert Exp $
d9 2
a10 2
BV=		4.4
VERSION=	${BV}.5.2
a17 1
REVISION-java=	0
d76 1
a76 1
		896272c1a9e396b871cb4dffbd694503-mdds_0.11.1.tar.bz2:0 \
d89 1
a89 1
		ea570af93c284aa9e5621cd563f54f4d-bsh-2.0b1-src.tar.gz:0 \
d97 2
a98 2
		libetonyek-0.1.1.tar.bz2:0 \
		libfreehand-0.1.0.tar.bz2:0 \
d101 2
a102 2
		libmwaw-0.3.4.tar.bz2:0 \
		libodfgen-0.1.3.tar.bz2:0 \
d108 1
a108 1
		libwps-0.3.1.tar.bz2:0
a131 2
REVISION-i18n-hu=	0
REVISION-i18n-ru=	0
d209 1
d281 1
@


1.135
log
@update to 4.4.5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2015/08/11 21:43:03 jasper Exp $
d18 1
d123 1
a123 1
			lt lv nl pl pt-BR ru sl sv
d133 2
@


1.134
log
@use sed -i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2015/07/19 16:25:35 jasper Exp $
d10 1
a10 1
VERSION=	${BV}.4.3
@


1.133
log
@no need anymore for gsed; confirmed by/ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2015/07/09 17:05:14 robert Exp $
d389 1
a389 1
		perl -pi -e "s,Icon=libreoffice${BV}-,Icon=libreoffice-,g" \
@


1.132
log
@update to 4.4.4.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2015/05/28 10:26:12 ajacoutot Exp $
a150 1
		textproc/gsed \
a367 1
	@@ln -fs /usr/local/bin/gsed ${WRKDIR}/bin/sed
@


1.131
log
@No need for MODGCC4_VERSION; 4.9 is the default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2015/05/26 08:44:58 robert Exp $
d10 1
a10 1
VERSION=	4.4.3.2
a21 1
REVISION=	0
d196 1
a196 1
		gmodule-2.0 gobject-2.0 gthread-2.0 \
d200 1
a200 1
WANTLIB-main+=	hunspell-1.3 gdk_pixbuf_xlib-2.0
@


1.130
log
@unbreak build with binutils-2.17 by adding the necessary {C,LD}FLAGS and
by switching to build with gcc 4.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2015/05/20 19:06:42 sthen Exp $
a163 1
MODGCC4_VERSION=4.9
@


1.129
log
@Reenable libreoffice,java on i386. Might be tempting fate, but jdk hasn't
failed very much recently, and this change fixes packaging problems I've
been seeing in LO.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2015/05/16 09:06:38 robert Exp $
d22 1
d164 1
@


1.128
log
@update to 4.4.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2015/05/03 11:30:33 robert Exp $
a117 6
.if ${MACHINE_ARCH:Mi386}
# XXX java build frequently fail on i386; since libreoffice is a huge build
# itself, these failures give an unacceptable bulk build time, so disable
# for now.  N.B. no_java is a *flavour* not a pseudo-flavour
FLAVOR?=	no_java
.else
a118 1
.endif
@


1.127
log
@update to 4.4.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2015/03/27 08:11:27 ajacoutot Exp $
d10 1
a10 1
VERSION=	4.4.2.2
@


1.126
log
@print/cups,-libs needs to be a LIB_DEPENDS; breakage reported by naddy@@
@
text
@d9 2
a10 2
BV=		4.3
VERSION=	4.3.5.2
a20 3
REVISION-main=	2
REVISION-kde=	0
REVISION-java=	0
d49 1
d56 1
a56 1
		22f8a85daf4a012180322e1f52a7563b-libcmis-0.4.1.tar.gz:0 \
d65 1
a65 1
		46e92b68e31e858512b680b3b61dc4c1-mythes-1.2.3.tar.gz:0 \
d73 1
a73 1
		a2f6010987e1c601274ab5d63b72c944-hyphen-2.8.4.tar.gz:0 \
d77 1
d79 1
a79 1
		ae330b9493bd4503ac390106ff6060d7-libexttextcat-3.4.3.tar.bz2:0 \
d88 1
a88 1
		e8e197d628436490886d17cffa108fe3-commons-logging-1.1.3-src.tar.gz:0 \
d94 3
a96 3
		libabw-0.1.0.tar.bz2:0 \
		libcdr-0.1.0.tar.bz2:0 \
		libe-book-0.1.1.tar.bz2:0 \
d100 6
a105 5
		libmspub-0.1.1.tar.bz2:0 \
		libmwaw-0.3.1.tar.bz2:0 \
		libodfgen-0.1.1.tar.bz2:0 \
		librevenge-0.0.1.tar.bz2:0 \
		libvisio-0.1.0.tar.bz2:0 \
d108 1
a108 1
		libwps-0.3.0.tar.bz2:0
d163 2
a164 2
# configure checks for librsvg support; no LIB/RUN_DEPENDS because librsvg
# is only dlopen()ed if found
a180 1
		boost->=1.41.0:devel/boost \
d186 1
a190 1
		print/cups,-libs \
a212 1
WANTLIB-main+=	boost_date_time-mt
d216 1
a216 1
WANTLIB-main+=	GL GLU boost_iostreams-mt bz2 harfbuzz harfbuzz-icu
d238 1
a280 1
		--disable-opengl \
a288 1
		--enable-gstreamer \
a289 1
		--enable-ext-presenter-minimizer \
d302 1
a302 1
		--with-system-boost \
d330 1
a330 2
		--without-system-libwpd \
		--without-system-servlet-api
@


1.125
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2015/03/20 22:47:41 naddy Exp $
d21 1
a21 1
REVISION-main=	1
d163 3
a165 4
# configure checks for cups, librsvg support; no LIB/RUN_DEPENDS because libcups
# and librsvg is only dlopen()ed if found
BUILD_DEPENDS +=	print/cups,-libs \
			x11/gnome/librsvg
d191 1
@


1.124
log
@fold PFRAG.shared into PLIST for SHARED_ONLY ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2014/12/23 09:23:47 robert Exp $
d21 1
a21 1
REVISION-main=	0
d226 1
a226 1
			x11/gtk+2,-guic
@


1.123
log
@update to 4.3.5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2014/11/15 13:44:40 robert Exp $
d21 3
@


1.122
log
@update to 4.3.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2014/11/09 12:33:18 robert Exp $
d10 1
a10 1
VERSION=	4.3.4.1
@


1.121
log
@update to 4.3.3.2 and disable compiler optimizations in the svx module (for now) to allow saving ODF documents
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2014/11/08 11:14:23 robert Exp $
d10 1
a10 1
VERSION=	4.3.3.2
@


1.120
log
@use system cppunit to avoid problems during bulk builds
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2014/10/12 17:43:31 robert Exp $
d10 1
a10 1
VERSION=	4.3.2.2
a20 2
REVISION-main=	1

d75 1
a75 1
		aa5ca9d1ed1082890835afab26400a39-mdds_0.10.3.tar.bz2:0 \
a90 1
		CoinMP-1.7.6.tgz:0 \
d97 1
a97 1
		libgltf-0.0.1.tar.bz2:1 \
d268 1
d283 4
d293 1
@


1.119
log
@use the system harfbuzz library and fix dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2014/10/10 17:13:10 robert Exp $
d21 1
a21 1
REVISION-main=	0
a77 1
		ac4781e01619be13461bb2d562b94a7b-cppunit-1.13.1.tar.gz:0 \
d147 1
d325 1
a325 1
		--without-system-cppunit \
@


1.118
log
@update to 4.3.2.2 and use the default python3 version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2014/07/14 21:31:05 zhuk Exp $
d21 2
a95 1
		harfbuzz-0.9.23.tar.bz2:0 \
d185 1
d218 1
a218 1
WANTLIB-main+=	GL GLU boost_iostreams-mt bz2 harfbuzz
d296 1
@


1.117
log
@Fix and simplify the "sysctl hw.ncpu" call. Affects only building of
"parallel" FLAVOR, so not a problem for normal builds with using != here.

okay robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2014/07/13 08:28:24 robert Exp $
d9 3
a11 2
BV=		4.1
VERSION=	4.1.6.2
a20 3
REVISION-main=	2
REVISION-kde=	0

d36 1
d51 2
a52 1
		0be45d54cc5e1c2e3102e32b8c190346-liberation-fonts-ttf-1.07.1.tar.gz:0 \
a53 2
		1756c4fa6c616ae15973c104cd8cb256-Adobe-Core35_AFMs-314.tar.gz:0 \
		1e9ddfe25ac9577da709d7b2ea36f939-source-sans-font-1.036.tar.gz:0 \
d55 1
a56 2
		2a177023f9ea8ec8bd00837605c5df1b-jakarta-tomcat-5.0.30-src.tar.gz:0 \
		625ff5f2f968dd908bca43c9469d6e6b-commons-lang-2.4-src.tar.gz:0 \
d61 1
a63 1
		3c219630e4302863a9a83d0efde889db-commons-logging-1.1.1-src.tar.gz:0 \
a64 1
		36271d3fa0d9dec1632029b6d7aac925-liblangtag-0.5.1.tar.bz2:0 \
d66 1
d69 1
a69 1
		ea2acaf140ae40a87a952caa75184f4d-liborcus-0.5.1.tar.bz2:0 \
a71 2
		b85436266b2ac91d351ab5684b181151-libwpg-0.2.2.tar.bz2:0 \
		08c85a6d6d793daee14e10e22eefdc4b-mdds_0.8.1.tar.bz2:0 \
d73 1
d75 2
d78 1
a78 1
		2e482c7567908d334785ce7d69ddfff7-commons-codec-1.6-src.tar.gz:0 \
d80 1
a80 1
		b2371dc7cf4811c9d32146eec913d296-libcmis-0.3.0.tar.gz:0 \
d82 3
a84 1
		46eb0e7f213ad61bd5dee0c494132cb0-libwps-0.2.9.tar.bz2:0 \
a85 2
		dc3d21a3921931096d6e80f6701f6763-libexttextcat-3.4.0.tar.bz2:0 \
		d8bd5eed178db6e2b18eeed243f85aa8-flute-1.1.6.zip:0 \
d87 1
a87 1
		a3dcac551fae5ebbec16e844810828c4-libwpd-0.9.9.tar.bz2:0 \
d89 1
a89 1
		ea91f2fb4212a21d708aced277e6e85a-vigra1.4.0.tar.gz:0 \
a90 2
		ac4781e01619be13461bb2d562b94a7b-cppunit-1.13.1.tar.gz:0 \
		f872f4ac066433d8ff92f5e316b36ff9-dejavu-fonts-ttf-2.33.zip:0 \
d92 17
a108 8
		c48827713e93539dc7285f9e86ffbdc5-harfbuzz-0.9.17.tar.bz2:0 \
		8473296c671b6e3dd8197f4145e0854b-libodfgen-0.0.2.tar.bz2:0 \
		368f114c078f94214a308a74c7e991bc-crosextrafonts-20130214.tar.gz:0 \
		c74b7223abe75949b4af367942d96c7a-crosextrafonts-carlito-20130920.tar.gz:0 \
		libcdr-0.0.14.tar.bz2:0 \
		libmspub-0.0.6.tar.bz2:0 \
		libmwaw-0.1.11.tar.bz2:0 \
		libvisio-0.0.31.tar.bz2:0
d147 1
d151 1
d176 1
a176 1
MODPY_VERSION=	3.3
d197 1
a197 1
		icuuc>=0 icui18n icule \
a206 1
WANTLIB-main+=	idn
d209 1
a209 1
WANTLIB-main+=	cups exslt gcrypt gpg-error icudata lcms2
d212 1
a212 1
WANTLIB-main+=	boost_date_time-mt boost_system
d215 2
d220 1
d236 1
a236 1
WANTLIB-kde+=		ICE SM Xext icule icuuc
d259 1
a259 1
CONFIGURE_SCRIPT=	autogen.sh
d266 1
a266 7
		KDEDIR="${LOCALBASE}" \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION}

MAKE_ENV+=	AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		NOCONFIGURE=1
d269 1
d281 2
d294 1
d354 3
a356 1
MAKE_ENV+=	PYTHON="${MODPY_BIN}" verbose=f
d368 1
d403 1
a403 1
	${INSTALL_DATA} ${WRKSRC}/workdir/unxobsd.pro/CustomTarget/sysui/share/libreoffice/openoffice.org.xml \
@


1.116
log
@fix the debug flavor's configure_args
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2014/06/20 10:49:11 sthen Exp $
d337 1
a337 1
NCPU=		$$(expr $$(sysctl hw.ncpu + 1))
@


1.115
log
@Revert previous and add XXX comment.

libreoffice can't use ${MODPY_DEFAULT_VERSION_3}, it specifically wants 3.3,
will search for an installed copy if available, otherwise will try (and fail)
to build its own copy if not available...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2014/06/16 11:54:44 sthen Exp $
d344 1
a344 2
CONFIGURE_ARGS+=--enable-debug \
		--enable-symbols
@


1.114
log
@use MODPY_DEFAULT_VERSION_3 rather than hardcoding; ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2014/06/05 11:11:01 sthen Exp $
d20 1
a20 1
REVISION-main=	1
d167 4
a170 1
MODPY_VERSION=	${MODPY_DEFAULT_VERSION_3}
@


1.113
log
@move the default flavour back to no_java on i386; libreoffice
build is too slow to have it relying on jdk build which typically
needs restarting 5-6x before it builds successfully.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2014/05/15 16:21:19 robert Exp $
d20 1
a20 1
REVISION-main=	0
d167 1
a167 1
MODPY_VERSION=	3.3
@


1.112
log
@wantlib and lib depends fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2014/05/15 08:52:19 robert Exp $
d113 6
d120 1
a120 1
# N.B. no_java is a *flavour* not a pseudo-flavour
@


1.111
log
@update to 4.1.6.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2014/05/12 08:15:25 sthen Exp $
d20 3
a134 1
		databases/openldap \
a140 1
		boost->=1.41.0:devel/boost \
d165 2
d174 1
d177 1
a177 2
		textproc/hunspell \
		print/poppler
d182 1
a182 1
		rdf>=0 poppler
d197 3
d216 2
a217 1
			lib/kde3/kdeui lib/kde3/kio
@


1.110
log
@libreoffice has some internal patches, at least one of which doesn't get
applied correctly when using /usr/bin/patch, as worked-around in the previous
commit (by patching the patch). Since gnu patch does apply these successfully,
revert previous and switch to this instead, it should give fewer surprises
in the future.  ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2014/05/07 15:42:15 kurt Exp $
d10 1
a10 1
VERSION=	4.1.5.3
a18 1
REVISION-java=	0
@


1.109
log
@- Fix build with jdk/1.7 by allowing jdbc-4.1 to be used and add a work-
around for a patch(1) issue. okay sthen@@, robert@@
@
text
@d135 1
d346 1
@


1.108
log
@- Unlink jdk/1.6 and make jdk/1.7 the default jdk for all java ports
- Adjust java.port.mk and cmake to use 1.7
- Adjust jdk/1.7 for pkg_add upgrades
okay sthen@@, jasper@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2014/05/07 15:34:08 sthen Exp $
d218 1
a218 1
MODJAVA_VER=		1.6
@


1.107
log
@remove java workaround for i386
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2014/03/26 07:27:17 robert Exp $
d19 1
@


1.106
log
@update to 4.1.5.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2014/03/10 20:27:25 landry Exp $
a109 5
.if ${MACHINE_ARCH:Mi386}
# XXX hack to fix i386 builds for now which don't have working java
# XXX N.B. no_java is a *flavour* not a pseudo-flavour
FLAVOR?=	no_java
.else
d111 1
a111 1
.endif
@


1.105
log
@Bump ports using gcc4 module.
(not: mozilla ports not bumped since they're going to be updated in a few)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2014/01/14 15:38:23 robert Exp $
d10 1
a10 1
VERSION=	4.1.4.2
a19 3
REVISION-main=	0
REVISION-kde=	0
REVISION-java=	0
d216 1
@


1.104
log
@update to 4.1.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2014/01/11 15:00:23 sthen Exp $
d20 3
@


1.103
log
@default to no_java flavour on i386 for now (with an XXX comment); this
lets it package. much hair pulling involved until I worked out that no_java
is a flavour not a pseudo-flavour...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2013/12/16 23:07:06 stsp Exp $
d10 1
a10 1
VERSION=	4.1.3.2
a19 3
REVISION-main=	3
REVISION-java=	1

d95 2
@


1.102
log
@Fix libreoffice's configure script to properly detect boost system libraries.
The script was relying on a 'tac' command which doesn't exist on OpenBSD.
Use tail -r instead. Unbreaks libreoffice build on i386.
Also, allow the -java subpackage on i386 again, per sthen's request.
ok sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2013/12/07 20:43:00 naddy Exp $
d111 5
d117 1
@


1.101
log
@do not include sys/time.h in the included copy of lpsolve
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2013/12/07 19:42:40 robert Exp $
a3 1
BROKEN-i386=	undefined symbol _ZN5boost6system15system_categoryEv in libscfiltlo.so (CppunitTest_sc_filters_test)
d20 1
a20 1
REVISION-main=	2
a111 3

# jdk is unreliable on i386.
NOT_FOR_ARCHS-java = i386
@


1.100
log
@move libjvmaccesslo.so and libjvmfwklo.so to -main and build
stub libraries if no_java is being used so that the plist
can pick them up in -main
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2013/12/03 10:15:17 sthen Exp $
d21 1
a21 1
REVISION-main=	1
@


1.99
log
@mark BROKEN on i386 to save ~5 hours in a bulk build before it fails
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2013/11/25 14:16:22 sthen Exp $
d21 2
a22 2
REVISION-main=	0
REVISION-java=	0
d381 13
@


1.98
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2013/11/17 11:45:52 robert Exp $
d4 1
@


1.97
log
@add boost_system to LDFLAGS for liborcus to avoid cppunit tests failing
do the undefined symbols and fix up some plist entries
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2013/11/12 07:57:22 robert Exp $
a230 1
VMEM_WARNING=	Yes
@


1.96
log
@update to 4.1.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2013/10/13 08:11:21 espie Exp $
d19 3
@


1.95
log
@move ".include <bsd.port.arch.mk>" below definition of all MULTI_PACKAGES,
to fix a lack of i18n packages, reported by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2013/10/24 07:58:05 sthen Exp $
d9 2
a10 2
BV=		4.0
VERSION=	4.0.4.2
a19 2
REVISION-main=	0
REVISION-kde =	0
d56 1
a56 1
		2ae988b339daec234019a7066f96733e-commons-lang-2.3-src.tar.gz:0 \
d65 1
a65 1
		54e578c91b1b68e69c72be22adcb2195-liblangtag-0.4.0.tar.bz2:0 \
d69 1
a69 1
		8755aac23317494a9028569374dc87b2-liborcus_0.3.0.tar.bz2:0 \
d72 2
a73 2
		9d283e02441d8cebdcd1e5d9df227d67-libwpg-0.2.1.tar.bz2:0 \
		9f9e15966b5624834157fe3d748312bc-mdds_0.6.1.tar.bz2:0 \
d77 1
a77 1
		af3c3acf618de6108d65fcdc92b492e1-commons-codec-1.3-src.tar.gz:0 \
d81 1
a81 1
		d197bd6211669a2fa4ca648faf04bcb1-libwps-0.2.7.tar.bz2:0 \
d86 1
a86 1
		972afb8fdf02d9e7517e258b7fa7f0eb-libwpd-0.9.8.tar.bz2:0 \
d90 1
a90 1
		fa9aa839145cdf860bf596532bb8af97-cppunit-1.13.1.tar.gz:0 \
d93 2
d97 2
a98 1
		libvisio-0.0.28.tar.bz2:0
d167 1
d191 2
a192 1
WANTLIB-main+=	nspr4 nss3 nssutil3 plc4 plds4 smime3 softokn3 ssl3
d210 1
a259 1
		--disable-unix-qstart-libpng \
a263 1
		--enable-ext-report-builder \
d265 1
d282 1
d302 1
a302 3
		--without-system-mozilla \
		--without-system-servlet-api \
		--without-unix-wrapper
d376 1
a376 1
	${INSTALL_DATA} ${WRKSRC}/sysui/unxobsd.pro/misc/libreoffice/openoffice.org.xml \
@


1.94
log
@disable the java subpackage on i386 until javac is less unreliable.
looks good to espie.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2013/10/13 08:11:21 espie Exp $
a111 2
.include <bsd.port.arch.mk>

d207 2
@


1.93
log
@Make darn sure MAKE_JOBS is heeded correctly, so that
DPB_PROPERTIES=parallel actually does something.
as checked by landry@@, florian@@, me.

Keep the parallel pseudo_flavor untouched.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2013/10/05 07:34:31 espie Exp $
d103 1
a103 1
MULTI_PACKAGES=		-main -kde
d109 4
a112 3
.if !${FLAVOR:Mno_java}
MULTI_PACKAGES+=	-java
.endif
d210 1
a210 1
.if !${FLAVOR:Mno_java}
d302 1
a302 1
.if !${FLAVOR:Mno_java}
@


1.92
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/08/20 22:05:51 zhuk Exp $
d312 6
a317 2
.if ${FLAVOR:Mparallel}
NCPU!=		echo $$((`sysctl -n hw.ncpu`+1))
@


1.91
log
@Fixup handling of FreeDesktop goo: desktop-file-utils, gtk-update-icon-cache
and shared-mime-info. Found by portcheck.

A lot of input from and okay ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/06/21 06:07:58 robert Exp $
d18 1
a18 1
DPB_PROPERTIES=	parallel
d21 1
@


1.90
log
@update to 4.0.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/06/07 09:07:50 sthen Exp $
d20 1
@


1.89
log
@use MODGCC4_CPPLIBDEP rather than hardcoding, this is a noop with the current
tree but allows builds with an alternative MODGCC4_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/05/31 14:50:11 robert Exp $
d10 1
a10 1
VERSION=	4.0.3.3
d86 1
a86 1
		e7f84e3199dfee9122949448cab3823f-libwpd-0.9.6.tar.bz2:0 \
d93 3
a95 3
		libcdr-0.0.12.tar.bz2:0 \
		libmspub-0.0.5.tar.bz2:0 \
		libvisio-0.0.26.tar.bz2:0
d288 1
@


1.88
log
@update to 4.0.3.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2013/04/02 16:41:21 ajacoutot Exp $
d163 1
a163 1
		lang/gcc/4.6,-estdc>=4.6,<4.7 \
d200 1
a200 1
			lang/gcc/4.6,-estdc>=4.6,<4.7 \
d212 1
a212 1
LIB_DEPENDS-java=	lang/gcc/4.6,-estdc>=4.6,<4.7
@


1.87
log
@Remove the librsvg dependency from the gtk ports, _except_ when it's a
build or lib depends... i.e. just remove the RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2013/03/21 08:59:29 fgsch Exp $
d9 2
a10 2
BV=		3.6
VERSION=	3.6.5.2
d12 1
a12 1
WRKDIST=	${WRKDIR}/libreoffice-core-${VERSION}
a19 4
REVISION-main =	1

SHARED_LIBS +=  lcms2                     2.3 # 2.3

d29 2
a30 1
MASTER_SITES0=	http://hg.services.openoffice.org/binaries/ \
d34 1
a34 2
		http://ooo.itc.hu/oxygenoffice/download/libreoffice/ \
		http://dev-www.libreoffice.org/src/
d37 1
a37 1
EDISTFILES=	libreoffice-core-${VERSION}.tar.xz
d39 1
a39 1
COMPONENTS=	binfilter dictionaries help translations
d47 2
a48 6
		327348d67c979c88c2dec59a23a17d85-lcms2-2.3.tar.gz:0 \
		86261f06c097d3e425a2f6d0b0635380-hyphen-2.8.3.tar.gz:0 \
		6097739c841f671cb21332b9cc593ae7-libexttextcat-3.3.1.tar.bz2:0 \
		e7a384790b13c29113e22e596ade9687-LinLibertineG-20120116.zip:0 \
		35efabc239af896dfb79be7ebdd6e6b9-gentiumbasic-fonts-1.10.zip:0 \
		cfbf1ac6f61bf6cf45342a0cc9381be5-liberation-fonts-ttf-2.00.0.tar.gz:0 \
d50 1
a50 9
		f872f4ac066433d8ff92f5e316b36ff9-dejavu-fonts-ttf-2.33.zip:0 \
		bd30e9cf5523cdfc019b94f5e1d7fd19-cppunit-1.12.1.tar.gz:0 \
		e1e255dc43dbcbb34cb19e8a0eba90ae-mythes-1.2.2.tar.gz:0 \
		ea91f2fb4212a21d708aced277e6e85a-vigra1.4.0.tar.gz:0 \
		c01351d7db2b205de755d58769288224-libwpd-0.9.4.tar.bz2:0 \
		d197bd6211669a2fa4ca648faf04bcb1-libwps-0.2.7.tar.bz2:0 \
		9d283e02441d8cebdcd1e5d9df227d67-libwpg-0.2.1.tar.bz2:0 \
		94e7f271e38c976462558b4278590178-libvisio-0.0.19.tar.bz2:0 \
		3c0037fb07dea2f0bbae8386fa7c6a9a-libcdr-0.0.9.tar.bz2:0 \
d52 2
a53 1
		9f9e15966b5624834157fe3d748312bc-mdds_0.6.1.tar.bz2:0 \
a54 1
		17410483b5b5f267aa18b7e00b65e6e0-hsqldb_1_8_0.zip:0 \
a55 5
		a7983f859eafb2677d7ff386a023bc40-xsltml_2.1.2.zip:0 \
		ada24d37d8d638b3d8a9985e80bc2978-source-9.0.0.7-bj.zip:0 \
		0d2dcdfbf28d6208751b33057f5361f0-libcmis-0.2.3.tar.gz:0 \
		af3c3acf618de6108d65fcdc92b492e1-commons-codec-1.3-src.tar.gz:0 \
		3c219630e4302863a9a83d0efde889db-commons-logging-1.1.1-src.tar.gz:0 \
d58 3
a60 1
		eeb2c7ddf0d302fba4bfc6e97eac9624-libbase-1.1.6.zip:0 \
d62 8
a70 3
		3404ab6b1792ae5f16bbd603bd1e1d03-libformula-1.1.7.zip:0 \
		f94d9870737518e3b597f9265f4e9803-libserializer-1.1.6.zip:0 \
		d8bd5eed178db6e2b18eeed243f85aa8-flute-1.1.6.zip:0 \
d72 10
a81 1
		3bdf40c0d199af31923e900d082ca2dd-libfonts-1.1.6.zip:0 \
d83 13
a95 2
		ba2930200c9f019c2d93a8c88c651a0f-flow-engine-0.9.4.zip:0 \
		ace6ab49184e329db254e454a010f56d-libxml-1.1.7.zip:0
d129 2
d133 1
d138 1
d157 2
d162 1
a162 1
		databases/db/v4 \
a167 1
		textproc/raptor \
d173 1
a173 1
		db>=4 xslt>=3 curl>=7 neon>=24 pq>=2 \
d175 1
a175 1
		raptor2 rasqal rdf>=0 poppler
d180 2
a181 2
		jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 \
		png pthread pthread-stubs ssl xcb xml2 z gdk_pixbuf-2.0 \
a182 1
WANTLIB-main+=	GL xcb-render xcb-shm
d186 3
d191 1
d193 1
d204 1
a204 1
			lib/kde3/kabc lib/kde3/kdecore \
a205 1
WANTLIB-kde+=		ICE SM Xext icule icuuc
d241 1
a241 1
CONFIGURE_ARGS+=--disable-build-mozilla \
a248 1
		--disable-mozilla \
a253 3
		--disable-xmlsec \
		--enable-librsvg \
		--enable-binfilter \
a257 2
		--enable-ext-pdfimport \
		--enable-ext-presenter-console \
a269 1
		--with-system-db \
d275 1
d278 2
a283 1
		--with-system-stdlibs \
a287 1
		--without-openldap \
a294 1
		--without-system-saxon \
a302 1
		--with-java-target-version=1.5 \
d312 1
a312 1
NCPU=		0
d314 1
a314 1
CONFIGURE_ARGS+=--with-num-cpus=${NCPU}
d336 1
a336 6
.for _c in ${COMPONENTS}
	rm -rf ${WRKDIR}/libreoffice-${_c}-${VERSION}/git*
	rm -rf ${WRKDIR}/libreoffice-${_c}-${VERSION}/.*
	mv ${WRKDIR}/libreoffice-${_c}-${VERSION}/* ${WRKSRC}
	rmdir ${WRKDIR}/libreoffice-${_c}-${VERSION}
.endfor
@


1.86
log
@sync with hunspell update and bump.
bulk testing by landry@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2013/03/11 11:02:50 espie Exp $
d20 1
a20 1
REVISION-main =	0
a179 1
			x11/gnome/librsvg \
@


1.85
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2013/02/07 19:13:49 ajacoutot Exp $
d20 2
d173 1
a173 1
WANTLIB-main+=	hunspell-1.2 gdk_pixbuf_xlib-2.0
@


1.84
log
@MODGCC4_VERSION default to 4.6 now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2013/02/07 18:39:58 robert Exp $
a91 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d205 1
a205 1
NO_REGRESS=	Yes
@


1.83
log
@update to 3.6.5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2013/02/05 10:39:29 ajacoutot Exp $
a143 1
MODGCC4_VERSION=4.6
@


1.82
log
@Set the full path to gtar and do not hardcode /usr/local.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2013/01/24 08:46:36 zhuk Exp $
d10 1
a10 1
VERSION=	3.6.4.3
d28 1
a28 1
MASTER_SITES=	http://download.documentfoundation.org/libreoffice/src/3.6.4/ \
@


1.81
log
@Fix build breakage caused by missing backslash. No bump needed.
Again, noticed by naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2013/01/23 21:21:45 zhuk Exp $
d38 1
a38 1
TAR=		/usr/local/bin/gtar
@


1.80
log
@Move KDE 3 headers from ${PREFIX}/include to ${PREFIX}/include/kde.
This just unbreaks build of the port, no need to bump REVISION.

Tested in a bulk, input and okay by landry@@
Reviewed by ajacoutot@@ too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2013/01/03 21:03:14 robert Exp $
d222 1
a222 1
		KDEDIR="${LOCALBASE}"
@


1.79
log
@update to 3.6.4.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2012/11/12 13:38:20 sthen Exp $
d222 1
@


1.78
log
@sync wantlib; raptor update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2012/11/02 07:59:00 robert Exp $
d10 1
a10 1
VERSION=	3.6.3.2
a21 1
REVISION=	2
d28 1
a28 1
MASTER_SITES=	http://download.documentfoundation.org/libreoffice/src/3.6.3/ \
@


1.77
log
@fix duplicate entries; noted by Nigel Taylor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2012/11/01 19:01:32 robert Exp $
d22 1
a22 1
REVISION=	1
d167 1
a167 1
		raptor>=2 rasqal rdf>=0 poppler
@


1.76
log
@add missing run dependency of clucene
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2012/10/31 16:23:53 kili Exp $
d22 1
a22 1
REVISION=	0
@


1.75
log
@Add --disable-ccache to CONFIGURE_ARGS to stop configure
from picking up an installed ccache and then failing.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2012/10/31 08:34:12 robert Exp $
d22 1
d182 1
@


1.74
log
@update to 3.6.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2012/09/26 17:36:46 naddy Exp $
d229 1
@


1.73
log
@Add DPB_PROPERTIES=parallel for some big ports.
Required to make full use of the amd64 package building cluster.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2012/09/18 13:05:21 ajacoutot Exp $
d9 2
a10 2
BV=		3.5
VERSION=	3.5.5.3
d20 2
a21 1
REVISION-java=	0
d28 1
a28 1
MASTER_SITES=	http://download.documentfoundation.org/libreoffice/src/3.5.5/ \
d38 1
d49 6
a54 1
		067201ea8b126597670b5eff72e1f66c-mythes-1.2.0.tar.gz:0 \
d56 9
a64 2
		0ff7d225d087793c8c2c680d77aac3e7-mdds_0.5.3.tar.bz2:0 \
		17410483b5b5f267aa18b7e00b65e6e0-hsqldb_1_8_0.zip:0 \
d66 1
d68 1
d70 5
d77 1
a77 5
		a9a1db27688bad49418667b434d29c1f-libvisio-0.0.18.tar.bz2:0 \
		3404ab6b1792ae5f16bbd603bd1e1d03-libformula-1.1.7.zip:0 \
		34dd7951abbda99b7a75a09993a37965-libwps-0.2.4.tar.bz2:0 \
		35c94d2df8893241173de1d16b6034c0-swingExSrc.zip:0 \
		35efabc239af896dfb79be7ebdd6e6b9-gentiumbasic-fonts-1.10.zip:0 \
a78 6
		3bdf40c0d199af31923e900d082ca2dd-libfonts-1.1.6.zip:0 \
		3c219630e4302863a9a83d0efde889db-commons-logging-1.1.1-src.tar.gz:0 \
		48a9f787f43a09c0a9b7b00cd1fddbbf-hyphen-2.7.1.tar.gz:0 \
		48d8169acc35f97e05d8dcdfd45be7f2-lucene-2.3.2.tar.gz:0 \
		798b2ffdc8bcfe7bca2cf92b62caf685-rhino1_5R5.zip:0 \
		7c2549f6b0a8bb604e6c4c729ffdcfe6-libcmis-0.1.0.tar.gz:0 \
d80 3
d84 2
a85 5
		9d283e02441d8cebdcd1e5d9df227d67-libwpg-0.2.1.tar.bz2:0 \
		a7983f859eafb2677d7ff386a023bc40-xsltml_2.1.2.zip:0 \
		ace6ab49184e329db254e454a010f56d-libxml-1.1.7.zip:0 \
		ada24d37d8d638b3d8a9985e80bc2978-source-9.0.0.7-bj.zip:0 \
		af3c3acf618de6108d65fcdc92b492e1-commons-codec-1.3-src.tar.gz:0 \
d87 1
a87 12
		bd30e9cf5523cdfc019b94f5e1d7fd19-cppunit-1.12.1.tar.gz:0 \
		c01351d7db2b205de755d58769288224-libwpd-0.9.4.tar.bz2:0 \
		d8bd5eed178db6e2b18eeed243f85aa8-flute-1.1.6.zip:0 \
		db60e4fde8dd6d6807523deb71ee34dc-liblayout-0.2.10.zip:0 \
		e1c178b18f130b40494561f02bc1a948-libexttextcat-3.2.0.tar.bz2:0 \
		e7a384790b13c29113e22e596ade9687-LinLibertineG-20120116.zip:0 \
		ea570af93c284aa9e5621cd563f54f4d-bsh-2.0b1-src.tar.gz:0 \
		ea91f2fb4212a21d708aced277e6e85a-vigra1.4.0.tar.gz:0 \
		eeb2c7ddf0d302fba4bfc6e97eac9624-libbase-1.1.6.zip:0 \
		f872f4ac066433d8ff92f5e316b36ff9-dejavu-fonts-ttf-2.33.zip:0 \
		f94d9870737518e3b597f9265f4e9803-libserializer-1.1.6.zip:0 \
		fdb27bfe2dbe2e7b57ae194d9bf36bab-SampleICC-1.3.2.tar.gz:0
d107 1
a107 1
LANGS=			ar bg ca de es fa fi fr hu it ja ko \
d131 9
a139 5
		textproc/gsed

# configure checks for cups support; no LIB/RUN_DEPENDS because libcups
# is only dlopen()ed if found
BUILD_DEPENDS +=	print/cups,-libs
d176 1
d181 1
d213 2
a214 1
CONFIGURE_STYLE=	autoconf no-autoheader
d216 1
a216 1
AUTOMAKE_VERSION=	1.9
d242 1
a242 1
		--enable-librsvg=no \
d257 1
d278 1
a285 1
		--without-system-lucene \
d356 1
a356 1
		perl -pi -e "s,Icon=libreoffice3.5-,Icon=libreoffice-,g" \
@


1.72
log
@Missing fragment in PLIST-java.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2012/08/04 15:05:35 ajacoutot Exp $
d18 1
@


1.71
log
@cups -> cups-,-libs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2012/07/13 12:36:18 robert Exp $
d19 1
@


1.70
log
@update to 3.5.5.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2012/07/09 08:08:53 espie Exp $
a125 1
		print/cups \
d130 4
@


1.69
log
@make build predictable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2012/06/22 21:04:19 sthen Exp $
d10 1
a10 1
VERSION=	3.5.4.2
a18 2
REVISION-main=	0

d25 1
a25 1
MASTER_SITES=	http://download.documentfoundation.org/libreoffice/src/3.5.4/ \
d54 1
a54 1
		2fa6028324347860e684e75310818d43-libvisio-0.0.16.tar.bz2:0 \
@


1.68
log
@Add a build dep on textproc/gsed, hopefully this fixes a problem seen
since the icu4c update, and it's obviously intended to be there as it's
symlinked into ${WRKDIR}/bin already. ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2012/06/15 08:32:15 ajacoutot Exp $
d232 1
@


1.67
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2012/06/05 08:24:17 robert Exp $
d131 2
a132 1
		sysutils/coreutils
@


1.66
log
@update to 3.5.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2012/05/07 09:52:56 robert Exp $
d18 2
@


1.65
log
@fix the apache-ant build dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2012/05/07 07:17:15 robert Exp $
d10 1
a10 1
VERSION=	3.5.3.2
d25 1
a25 1
MASTER_SITES=	http://download.documentfoundation.org/libreoffice/src/3.5.3/ \
@


1.64
log
@update to 3.5.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2012/04/10 13:34:13 robert Exp $
a187 1
BUILD_DEPENDS-java=	devel/apache-ant>=1.8.2
d277 2
@


1.63
log
@fix icon handling by re-adding the removed @@exec lines, and also remove
the base desktop file because the startcenter one is basically the same
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2012/04/05 07:44:14 robert Exp $
d10 1
a10 1
VERSION=	3.5.2.2
a18 1
REVISION-main=	1
d25 1
a25 2
MASTER_SITES=	http://dev-builds.libreoffice.org/pre-releases/src/ \
		http://download.documentfoundation.org/libreoffice/src/3.5.1/ \
d46 2
a47 1
		128cfc86ed5953e57fe0f5ae98b62c2e-libtextcat-2.2.tar.gz:0 \
d54 3
a58 1
		f872f4ac066433d8ff92f5e316b36ff9-dejavu-fonts-ttf-2.33.zip:0 \
d60 1
d62 1
a63 3
		f94d9870737518e3b597f9265f4e9803-libserializer-1.1.6.zip:0 \
		ace6ab49184e329db254e454a010f56d-libxml-1.1.7.zip:0 \
		db60e4fde8dd6d6807523deb71ee34dc-liblayout-0.2.10.zip:0 \
d65 2
a66 3
		34dd7951abbda99b7a75a09993a37965-libwps-0.2.4.tar.bz2:0 \
		8294d6c42e3553229af9934c5c0ed997-stax-api-1.0-2-sources.jar:0 \
		eeb2c7ddf0d302fba4bfc6e97eac9624-libbase-1.1.6.zip:0 \
d68 1
d70 1
d73 6
a79 7
		0be45d54cc5e1c2e3102e32b8c190346-liberation-fonts-ttf-1.07.1.tar.gz:0 \
		0ff7d225d087793c8c2c680d77aac3e7-mdds_0.5.3.tar.bz2:0 \
		48a9f787f43a09c0a9b7b00cd1fddbbf-hyphen-2.7.1.tar.gz:0 \
		3404ab6b1792ae5f16bbd603bd1e1d03-libformula-1.1.7.zip:0 \
		d4c4d91ab3a8e52a2e69d48d34ef4df4-core.zip:0 \
		9d283e02441d8cebdcd1e5d9df227d67-libwpg-0.2.1.tar.bz2:0 \
		8ce2fcd72becf06c41f7201d15373ed9-librepository-1.1.6.zip:0 \
d82 4
a85 14
		d8bd5eed178db6e2b18eeed243f85aa8-flute-1.1.6.zip:0 \
		3bdf40c0d199af31923e900d082ca2dd-libfonts-1.1.6.zip:0 \
		fdb27bfe2dbe2e7b57ae194d9bf36bab-SampleICC-1.3.2.tar.gz:0 \
		fe5b3e2b7c4577f30dc001054365653e-dejavu-fonts-ttf-2.30.zip:0 \
		c01351d7db2b205de755d58769288224-libwpd-0.9.4.tar.bz2:0 \
		b4cae0700aa1c2aef7eb7f345365e6f1-translate-toolkit-1.8.1.tar.bz2:0 \
		7a0dcb3fe1e8c7229ab4fb868b7325e6-mdds_0.5.2.tar.bz2:0 \
		ba2930200c9f019c2d93a8c88c651a0f-flow-engine-0.9.4.zip:0 \
		e1c178b18f130b40494561f02bc1a948-libexttextcat-3.2.0.tar.bz2:0 \
		7c2549f6b0a8bb604e6c4c729ffdcfe6-libcmis-0.1.0.tar.gz:0 \
		d28864eb2b59bb57b034c0d4662a3cee-libvisio-0.0.15.tar.bz2:0 \
		1f24ab1d39f4a51faf22244c94a6203f-xmlsec1-1.2.14.tar.gz:0 \
		d7a242ca43e33e1b63d3073f9d46a6a8-librsvg-2.32.1.tar.gz:0 \
		bd30e9cf5523cdfc019b94f5e1d7fd19-cppunit-1.12.1.tar.gz:0
d188 2
a189 3
LIB_DEPENDS-java=	databases/db/v4,-java \
			devel/apache-ant>=1.8.2 \
			lang/gcc/4.6,-estdc>=4.6,<4.7
d191 1
d282 1
a282 2
		--with-ant-home=${LOCALBASE}/ant \
		--with-db-jar=${LOCALBASE}/lib/db4/db.jar
@


1.62
log
@fix icons
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2012/04/03 09:27:15 robert Exp $
d19 1
a19 1
REVISION-main=	0
d349 1
a349 1
	for _d in base calc draw impress math \
@


1.61
log
@add missing distfile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/04/03 08:56:50 robert Exp $
d19 1
d351 1
a351 1
		perl -pi -e "s,Icon=libreoffice34-,Icon=libreoffice-,g" \
@


1.60
log
@update to 3.5.2.2; requires gcc 4.6 from now on
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2012/02/18 22:22:41 robert Exp $
d93 2
a94 1
		d7a242ca43e33e1b63d3073f9d46a6a8-librsvg-2.32.1.tar.gz:0
@


1.59
log
@fileutils, sh-utils, textutils are superseded by coreutils.
From: Antti Harri
@
text
@d9 2
a10 2
BV=		3.4
VERSION=	3.4.5.2
d12 1
a12 1
WRKDIST=	${WRKDIR}/libreoffice-bootstrap-${VERSION}
d25 2
a26 1
MASTER_SITES=	http://download.documentfoundation.org/libreoffice/src/3.4.5/ \
d36 1
a36 1
EDISTFILES=	libreoffice-bootstrap-${VERSION}.tar.bz2
d38 1
a38 3
COMPONENTS=	artwork base calc components extensions extras \
		filters help impress libs-core libs-extern libs-extern-sys \
		libs-gui postprocess sdk testing translations ure writer
d41 1
a41 1
EDISTFILES+=	libreoffice-${_dfile}-${VERSION}.tar.bz2
d64 1
a64 1
		83d4029aebf290c0a9a8fee9c99638d3-libwps-0.2.1.tar.bz2:0 \
d71 1
a71 1
		881af2b7dca9b8259abbca00bbbc004d-LinLibertineG-20110101.zip:0 \
d77 1
a77 1
		5ba6a61a2f66dfd5fee8cdd4cd262a37-libwpg-0.2.0.tar.bz2:0 \
d85 1
a85 1
		8d265a592619166f29c4672ea54812b7-libwpd-0.9.2.tar.bz2:0 \
d88 6
a93 1
		ba2930200c9f019c2d93a8c88c651a0f-flow-engine-0.9.4.zip:0
d116 1
a123 1
REVISION-i18n-$l =	1
d131 1
d139 5
d149 1
d151 1
a155 1
		devel/gperf \
a158 1
		devel/cppunit \
d160 4
a163 3
WANTLIB-main=	gdk-x11-2.0>=400.14 gtk-x11-2.0>=400.14 \
		db>=4 xslt>=3 curl>=7 neon>=24 \
		icuuc>=0 icudata>=0 icui18n icule \
d165 1
a165 1
WANTLIB-main+=	ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
d172 1
a172 1
WANTLIB-main+=	GL GLU Xxf86vm drm stdc++ xcb-render xcb-shm
d183 1
d186 1
a186 1
			X11 c m pthread stdc++ \
d189 1
d197 2
a198 1
			devel/apache-ant>=1.8.2
d202 1
a202 1
WANTLIB-java=		c stdc++ m pthread
d216 7
a222 1
		QTINC="${MODQT_INCDIR}" QTDIR="${MODQT_LIBDIR}"
d224 1
a224 1
CONFIGURE_ARGS=	--disable-build-mozilla \
a232 1
		--disable-nss-module \
a234 1
		--disable-post-install-scripts \
d237 1
a237 1
		--disable-xrender-link \
a238 1
		--enable-cairo \
a248 1
		--with-extension-integration \
a249 1
		--with-docdir=${PREFIX}/share/doc/libreoffice \
a250 3
		--with-gnu-tar=${LOCALBASE}/bin/gtar \
		--with-installed-ooo-dirname=libreoffice \
		--with-lang="en-US ${LANGS}" \
d252 1
a252 1
		--with-ooo-builddir=${WRKSRC}/build/libreoffice \
a254 1
		--with-system-cppunit \
a261 2
		--with-system-libxml \
		--with-system-libxslt \
d266 1
a266 1
		--with-system-python \
a268 1
		--with-system-xrender-headers \
d273 5
d279 1
d281 2
d304 2
a305 2
CONFIGURE_ARGS+=--enable-symbols \
		--enable-debug
d308 1
a308 1
MAKE_ENV+=	TMP=${WRKSRC} PYTHON="${MODPY_BIN}" verbose=t
d322 1
d324 4
a327 2
	@@mv ${WRKDIR}/libreoffice-${_c}-${VERSION}/* ${WRKSRC}
	@@rmdir ${WRKDIR}/libreoffice-${_c}-${VERSION}
d329 1
@


1.58
log
@set ncpu to 0 in a non-parallel build
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2012/01/23 14:43:42 robert Exp $
a130 1
		misc/fileutils \
d132 1
a132 1
		textproc/textutils
@


1.57
log
@update to 3.4.5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/12/18 10:21:01 ajacoutot Exp $
d284 1
a284 1
NCPU=		1
@


1.56
log
@Tighten dependency on the jdk|jre version for the -java subpackage.

ok rpbert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/12/12 22:54:30 nigel Exp $
d10 1
a10 1
VERSION=	3.4.4.2
a18 3
REVISION-main=	1
REVISION-java=	0

d25 1
a25 1
MASTER_SITES=	http://download.documentfoundation.org/libreoffice/src/3.4.4/ \
d32 2
a33 1
		http://ooo.itc.hu/oxygenoffice/download/libreoffice/
d57 1
a57 1
		37282537d0ed1a087b1c8f050dc812d9-dejavu-fonts-ttf-2.32.zip:0 \
d73 1
a73 1
		ca4870d899fd7e943ffc310a5421ad4d-liberation-fonts-ttf-1.06.0.20100721.tar.gz:0 \
@


1.55
log
@Remove duplicate revison and bump revision.

Ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/12/12 09:38:03 ajacoutot Exp $
d20 1
d183 1
a183 1
MODJAVA_VER=		1.4+
@


1.54
log
@Remove gconf support and replace it with gio. This allows us to go away
from ORBit.

FLAVOR:L -> FLAVOR.

from espie@@ and myself
built tested and ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/12/03 19:49:45 ajacoutot Exp $
a17 1
REVISION-main =	0
d19 1
a19 1
REVISION-main=	0
@


1.53
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/11/12 10:51:10 robert Exp $
d18 1
d106 1
a106 1
.if !${FLAVOR:L:Mno_java}
d110 1
a110 1
.if !${FLAVOR:L:Mno_lang}
a137 1
		devel/gconf2 \
a139 1
MODGCONF2_LIBDEP=No
d152 1
a152 2
		print/poppler \
		${MODGCONF2_LIB_DEPENDS}
d163 1
a163 1
		util ${MODGCONF2_WANTLIB} ${MODGETTEXT_WANTLIB}
d181 1
a181 1
.if !${FLAVOR:L:Mno_java}
d211 1
d215 1
d225 1
a227 1
		--enable-lockdown \
d272 1
a272 1
.if !${FLAVOR:L:Mno_java}
d283 1
a283 1
.if ${FLAVOR:L:Mparallel}
d290 1
a290 1
.if ${FLAVOR:L:Mdebug}
@


1.52
log
@update to 3.4.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/11/11 17:36:43 robert Exp $
d19 2
d171 2
a172 1
			misc/shared-mime-info
@


1.51
log
@Add arabic language pack
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/10/29 08:12:31 ajacoutot Exp $
d10 1
a10 1
VERSION=	3.4.3.2
a16 2
REVISION-main=	0
REVISION-java=	0
d25 1
a25 1
MASTER_SITES=	http://download.documentfoundation.org/libreoffice/src/3.4.3/ \
d37 2
a38 3
		filters help impress translations libs-core libs-extern \
		libs-extern-sys libs-gui postprocess sdk testing \
		ure writer
@


1.50
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/10/17 10:10:59 espie Exp $
d111 1
a111 1
LANGS=			bg ca de es fa fi fr hu it ja ko \
@


1.49
log
@convert databases/db to bsd.port.arch.mk, a bit more complicated since
there is a Makefile.inc.

Since the BUILD_PACKAGES tests have to happen there, put the java one there
as well, it won't trigger for db/v3, obviously.

Allows the removal of the ,java pseudo-flavor, since the ONLY_FOR_ARCH-* part
will take care of it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/10/10 09:01:42 ajacoutot Exp $
d17 1
d160 1
a160 1
WANTLIB-main+=	ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
@


1.48
log
@Make it clear the language packs are not only for the UI but also for
spell checking.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/10/07 13:54:31 kurt Exp $
d187 1
a187 1
LIB_DEPENDS-java=	databases/db/v4,-java,java \
@


1.47
log
@- remove devel/jdk/1.5 and lang/kaffe
- adjust java.port.mk for their removal
- bump affected packages
okay jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/09/20 08:32:16 robert Exp $
d120 1
a120 1
REVISION-i18n-$l =	0
@


1.46
log
@update to 3.4.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/09/16 09:48:09 espie Exp $
d17 1
@


1.45
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/09/14 19:12:18 naddy Exp $
d10 1
a10 1
VERSION=	3.4.2.3
a16 3
REVISION-main=	2
REVISION-kde=	1
REVISION-java=	2
d24 2
a25 1
MASTER_SITES=	http://download.documentfoundation.org/libreoffice/src/ \
@


1.44
log
@Also bump EPOCH for the db4 -java and -tcl subpackages to deal with
an old screwup when REVISION was introduced.

Bump their dependent packages as well.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/09/12 10:16:57 espie Exp $
d17 3
a19 3
REVISION-main=	1
REVISION-kde=	0
REVISION-java=	1
d121 1
@


1.43
log
@fallout from db/v4, clean-up libreoffice port
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/08/30 17:16:36 jasper Exp $
d19 1
a19 1
REVISION-java=	0
@


1.42
log
@- bump REVISION after recent java.port.mk change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/08/16 08:11:51 robert Exp $
d17 1
a17 1
REVISION-main=	0
d143 1
a143 1
		db->=4,<5:databases/db/v4 \
d187 1
a187 1
LIB_DEPENDS-java=	db-java->=4,<5:databases/db/v4,-java,java \
@


1.41
log
@update to 3.4.2.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/07/19 09:09:22 ajacoutot Exp $
d17 3
@


1.40
log
@Don't install soffice.beforesubst.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/07/06 18:29:00 ajacoutot Exp $
d10 1
a10 1
VERSION=	3.4.1.3
a18 2
REVISION-main=	1

d73 1
a73 2
		cf8a6967f7de535ae257fa411c98eb88-mdds_0.3.0.tar.bz2:0 \
		d0b5af6e408b8d2958f3d83b5244f5e8-hyphen-2.4.tar.gz:0 \
@


1.39
log
@Use the gettext MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/07/02 15:22:39 robert Exp $
d19 1
a19 1
REVISION-main=	0
d316 1
@


1.38
log
@update to 3.4.1.3 and remove the printeradmin desktop file
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/07/01 21:52:04 robert Exp $
d19 2
d137 3
a139 1
		devel/gconf2
d162 1
a162 1
		gmodule-2.0 gobject-2.0 gthread-2.0 iconv intl \
d165 1
a165 1
		util ${MODGCONF2_WANTLIB}
@


1.37
log
@remove some leftover turd
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/06/23 16:38:51 robert Exp $
d10 1
a10 1
VERSION=	3.4.0.2
a19 1
REVISION=	2
d324 1
a324 1
	for _d in base calc draw impress math printeradmin \
@


1.36
log
@add missing wantlib (hunspell)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/06/22 15:39:31 robert Exp $
a22 6

http://hg.services.openoffice.org/binaries
http://download.go-oo.org/src
http://download.go-oo.org/extern
http://www.numbertext.org/linux
http://ooo.itc.hu/oxygenoffice/download/libreoffice/
@


1.35
log
@make sure to disable gnome-vfs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/06/20 13:29:34 robert Exp $
d20 1
a20 1
REVISION=	1
d170 1
@


1.34
log
@update to 3.4.0.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/06/04 11:29:52 robert Exp $
d20 1
a225 1
		--enable-gnome-vfs \
@


1.33
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/06/07 19:41:39 naddy Exp $
d9 2
a10 2
BV=		3.3
VERSION=	3.3.2.2
d12 1
a12 1
WRKDIST=	${WRKDIR}/libreoffice-build-${VERSION}
d21 1
a21 1
REVISION=	4
d23 5
a27 1
MAINTAINER=	Robert Nagy <robert@@openbsd.org>
a31 1
		http://download.go-oo.org/3.3/ \
d33 5
a37 1
MASTER_SITES0=	http://www.numbertext.org/linux/
d39 1
a39 1
EDISTFILES=	libreoffice-build-${VERSION}.tar.gz
d41 2
a42 2
COMPONENTS=	artwork base bootstrap calc components extensions extras \
		filters help impress l10n libs-core libs-extern \
d52 25
a76 25
		067201ea8b126597670b5eff72e1f66c-mythes-1.2.0.tar.gz \
		128cfc86ed5953e57fe0f5ae98b62c2e-libtextcat-2.2.tar.gz \
		17410483b5b5f267aa18b7e00b65e6e0-hsqldb_1_8_0.zip \
		1756c4fa6c616ae15973c104cd8cb256-Adobe-Core35_AFMs-314.tar.gz \
		26b3e95ddf3d9c077c480ea45874b3b8-lp_solve_5.5.tar.gz \
		2a177023f9ea8ec8bd00837605c5df1b-jakarta-tomcat-5.0.30-src.tar.gz \
		2ae988b339daec234019a7066f96733e-commons-lang-2.3-src.tar.gz \
		2c9b0f83ed5890af02c0df1c1776f39b-commons-httpclient-3.1-src.tar.gz \
		35c94d2df8893241173de1d16b6034c0-swingExSrc.zip \
		35efabc239af896dfb79be7ebdd6e6b9-gentiumbasic-fonts-1.10.zip \
		37282537d0ed1a087b1c8f050dc812d9-dejavu-fonts-ttf-2.32.zip \
		39bb3fcea1514f1369fcfc87542390fd-sacjava-1.3.zip \
		3c219630e4302863a9a83d0efde889db-commons-logging-1.1.1-src.tar.gz \
		48d8169acc35f97e05d8dcdfd45be7f2-lucene-2.3.2.tar.gz \
		5aba06ede2daa9f2c11892fbd7bc3057-libserializer.zip \
		67b42915c8432abf0a922438f00860a2-libxml.zip \
		79600e696a98ff95c2eba976f7a8dfbb-liblayout.zip \
		798b2ffdc8bcfe7bca2cf92b62caf685-rhino1_5R5.zip \
		9e436bff44c60dc8b97cba0c7fc11a5c-libwps-0.2.0.tar.bz2 \
		8294d6c42e3553229af9934c5c0ed997-stax-api-1.0-2-sources.jar \
		8ea307d71d11140574bfb9fcc2487e33-libbase.zip \
		a06a496d7a43cbdc35e69dbe678efadb-libloader.zip \
		a7983f859eafb2677d7ff386a023bc40-xsltml_2.1.2.zip \
		ada24d37d8d638b3d8a9985e80bc2978-source-9.0.0.7-bj.zip \
		af3c3acf618de6108d65fcdc92b492e1-commons-codec-1.3-src.tar.gz \
d78 18
a95 14
		ca4870d899fd7e943ffc310a5421ad4d-liberation-fonts-ttf-1.06.0.20100721.tar.gz \
		cf8a6967f7de535ae257fa411c98eb88-mdds_0.3.0.tar.bz2 \
		d0b5af6e408b8d2958f3d83b5244f5e8-hyphen-2.4.tar.gz \
		d1a3205871c3c52e8a50c9f18510ae12-libformula.zip \
		d4c4d91ab3a8e52a2e69d48d34ef4df4-core.zip \
		5ba6a61a2f66dfd5fee8cdd4cd262a37-libwpg-0.2.0.tar.bz2 \
		dbb3757275dc5cc80820c0b4dd24ed95-librepository.zip \
		ea570af93c284aa9e5621cd563f54f4d-bsh-2.0b1-src.tar.gz \
		ea91f2fb4212a21d708aced277e6e85a-vigra1.4.0.tar.gz \
		f3e2febd267c8e4b13df00dac211dd6d-flute.zip \
		f7925ba8491fe570e5164d2c72791358-libfonts.zip \
		fdb27bfe2dbe2e7b57ae194d9bf36bab-SampleICC-1.3.2.tar.gz \
		fe5b3e2b7c4577f30dc001054365653e-dejavu-fonts-ttf-2.30.zip \
		5ff846847dab351604ad859e2fd4ed3c-libwpd-0.9.1.tar.bz2
a107 3
.if ${MACHINE_ARCH} == "amd64"
FLAVOR?=	no_java
.else
a108 1
.endif
d201 2
a202 2
CONFIGURE_STYLE=	autoconf automake no-autoheader
AUTOCONF_VERSION=	2.61
d209 18
a226 1
CONFIGURE_ARGS=	--disable-post-install-scripts \
d228 10
a237 1
		--with-distro=LibreOfficeOpenBSD \
d239 1
d243 1
d245 24
a268 2
		--with-srcdir=${DISTDIR}/libreoffice \
		--without-git \
d270 2
a271 2
		--with-compat-oowrappers \
		--disable-gnome-vfs
d274 3
a276 1
CONFIGURE_ARGS+=--with-java \
d286 3
a289 1
.endif
d296 1
a296 1
MAKE_ENV+=	TMP=${WRKSRC} PYTHON="${MODPY_BIN}" VERBOSE=true
a309 2
	@@mkdir -p ${WRKSRC}/build/libreoffice
	@@mkdir -p ${WRKSRC}/clone
d311 1
a311 1
	@@mv ${WRKDIR}/libreoffice-${_c}-${VERSION}/* ${WRKSRC}/build/libreoffice/
a313 2
	@@touch ${WRKSRC}/build/libreoffice/unpack
	@@touch ${WRKSRC}/clone/repos_changed
d316 3
d320 23
a342 3
	ln -sf ${TRUEPREFIX}/bin/libreoffice${BV} libreoffice && \
	for _a in soffice soffice${BV}; do \
		ln -sf ${TRUEPREFIX}/lib/libreoffice/program/soffice $$_a; done
@


1.32
log
@remove duplicate libpython from WANTLIB; ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/06/04 11:29:52 robert Exp $
d21 1
a21 1
REVISION=	3
@


1.31
log
@do the previous on amd64 only
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/06/04 11:28:55 robert Exp $
d161 1
a161 1
WANTLIB-main+=	GL GLU Xxf86vm drm python2.6 stdc++ xcb-render xcb-shm
@


1.30
log
@Use the no_java flavor by default until jdk gets fixed on amd64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/05/18 16:31:07 robert Exp $
d97 1
d99 3
@


1.29
log
@fix plist
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/05/18 07:42:29 robert Exp $
d97 1
a97 1
FLAVOR?=
@


1.28
log
@remove bogus wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/05/17 07:57:31 jasper Exp $
d21 1
a21 1
REVISION=	2
@


1.27
log
@- drop dependency on anciet/deprecated gnomed-vfs.

ok robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/05/03 09:35:56 landry Exp $
d149 1
a149 1
		raptor>=2 rasqal rdf>=0 poppler hunspell
@


1.26
log
@Duh. devel/apache-ant->=1.8.2 is not a valid pkgpath dependency spec,
devel/apache-ant>=1.8.2 is.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/05/02 07:26:20 landry Exp $
d21 1
a21 1
REVISION=	1
a144 1
		x11/gnome/vfs2 \
d149 1
a149 1
		raptor>=2 rasqal rdf>=0 poppler
d209 2
a210 1
		--with-compat-oowrappers
@


1.25
log
@Tighten dependency on apache-ant->=1.8.2, fix ant home configure arg,
bump REVISION. From Daniel Dickman, tested by robert@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/04/14 19:45:22 ajacoutot Exp $
d179 1
a179 1
			devel/apache-ant->=1.8.2
@


1.24
log
@Add @@pkgpath markers. Should fix the failed upgrade path that claudio@@
reported.

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/03/24 07:24:04 robert Exp $
d21 1
a21 1
REVISION=	0
d179 1
a179 1
			devel/apache-ant
d215 1
a215 1
		--with-ant-home=${LOCALBASE}/ant/lib \
@


1.23
log
@update to 3.3.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/03/04 07:57:36 robert Exp $
d20 2
@


1.22
log
@update to 3.3.1.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/01/26 10:49:02 robert Exp $
d10 1
a10 1
VERSION=	3.3.1.2
@


1.21
log
@Update to 3.3.0.4 which is the stable release of LibreOffice.
This has been discussed to be commited before the lock.

ok espie@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/01/23 13:31:11 espie Exp $
d10 1
a10 1
VERSION=	3.3.0.4
d82 1
a82 1
		86e390f015e505dd71a66f0123c62f09-libwpd-0.9.0.tar.bz2
d229 1
a229 1
MAKE_ENV+=	TMP=${WRKSRC} PYTHON="${MODPY_BIN}"
d245 1
a245 1
.for _c in ${COMPONENTS} 
@


1.20
log
@register directories properly for check-common-dirs
common work with robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/01/14 19:55:55 robert Exp $
d10 1
a10 2
OV=		${VERSION:C/\.3$/rc3/}
VERSION=	3.3.0.3
d13 4
a16 4
PKGNAME=	libreoffice-${OV}
PKGNAME-main=	libreoffice-${OV}
PKGNAME-kde=	libreoffice-kde-${OV}
PKGNAME-java=	libreoffice-java-${OV}
a18 3
REVISION-main=	0
REVISION-java=	0

d107 1
a107 1
PKGNAME-i18n-$l=	libreoffice-i18n-$l-${OV}
@


1.19
log
@Update to 3.3.0rc3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/01/09 18:19:42 robert Exp $
d19 3
@


1.18
log
@add EPOCH
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/01/03 13:24:42 robert Exp $
d10 2
a11 2
OV=		${VERSION:C/\.2$/rc2/}
VERSION=	3.3.0.2
a20 1
REVISION-main=	2
d29 1
d38 1
a38 1
.for _dfile in ${COMPONENTS} 
d69 1
a69 1
		c8fc33ad1efb77155f61e0e4ba8d3e9e-LinLibertineG-20101021.zip \
d156 1
a156 1
		${MODGCONF2_WANTLIB}
d208 2
a209 1
		--without-system-libwpd
d255 1
a255 1
	ln -sf ${TRUEPREFIX}/bin/ooffice${BV} libreoffice && \
@


1.17
log
@Antoine and I got annoyed with the *huge* icons in LO, so let's do what
they do on Mac OS X and use small icons up to 160 dpi.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/12/31 08:35:47 ajacoutot Exp $
d20 1
@


1.16
log
@Add missing dep on misc/shared-mime-info.

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/12/30 16:49:23 ajacoutot Exp $
d20 1
a20 1
REVISION-main=	1
@


1.15
log
@Move the goos where they belong and add missing update-mime-database one
while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/12/20 09:07:48 robert Exp $
d20 1
a20 1
REVISION-main=	0
d159 2
a160 1
RUN_DEPENDS-main=	devel/desktop-file-utils
@


1.14
log
@Update to 3.3.0rc2 and remove all patches, they are all commited upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/12/13 14:16:46 robert Exp $
d19 2
@


1.13
log
@Call it 3.3.0rc1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/12/12 18:03:05 robert Exp $
d10 2
a11 2
OV=		${VERSION:C/\.1$/rc1/}
VERSION=	3.3.0.1
a235 1
	@@mkdir -p ${WRKSRC}/build/libreoffice
d239 2
d246 1
@


1.12
log
@add poppler wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/12/09 20:13:30 robert Exp $
d10 1
d14 4
a17 4
PKGNAME=	libreoffice-${VERSION}
PKGNAME-main=	libreoffice-${VERSION}
PKGNAME-kde=	libreoffice-kde-${VERSION}
PKGNAME-java=	libreoffice-java-${VERSION}
a19 2
REVISION-main=	2

d105 1
a105 1
PKGNAME-i18n-$l=	libreoffice-i18n-$l-${VERSION}
@


1.11
log
@- fix the libreoffice symlink
- fix the linux i386 bridge code
- use the correct fix for regcomp
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/12/07 21:53:05 robert Exp $
d19 1
a19 1
REVISION-main=	1
d147 1
a147 1
		raptor>=2 rasqal rdf>=0
@


1.10
log
@Use gcat for all builds because that's easier and it makes
the parallel build work just fine
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/12/03 10:54:05 ajacoutot Exp $
d19 1
a19 1
REVISION-main=	0
d249 2
a250 1
	for _a in libreoffice soffice soffice${BV}; do \
@


1.9
log
@Add a link to libreoffice too. Needed by the qstart.desktop file and
maybe other stuffs.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/12/02 21:43:59 robert Exp $
a95 6
.if ${FLAVOR:L:Mparallel}
EDISTFILES+=	nbcat-0.1.tar.gz
.else
SUPDISTFILES+=	nbcat-0.1.tar.gz
.endif

d123 2
a124 1
		misc/findutils
d240 1
a240 3
.if ${FLAVOR:L:Mparallel}
	@@ln -fs ${WRKDIR}/cat.${ARCH} ${WRKDIR}/bin/cat
.endif
@


1.8
log
@disable verbose build
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/12/02 09:23:37 robert Exp $
d19 2
d256 1
a256 1
	for _a in soffice soffice${BV}; do \
@


1.7
log
@update to 3.3.0.1 (rc1)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/12/01 14:32:49 robert Exp $
d229 1
a229 1
MAKE_ENV+=	TMP=${WRKSRC} PYTHON="${MODPY_BIN}" VERBOSE=true
@


1.6
log
@add two missing dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/30 18:17:55 robert Exp $
d10 1
a10 1
VERSION=	3.2.99.3
a18 2
REVISION-main=	0

d23 3
a25 1
		http://humppa.hu/libreoffice/
d58 1
a58 1
		799fc3b835a79adce8c88a3fee0150c1-libwps-0.1.2.tar.gz \
d71 1
a71 1
		db556b750bf3eac8481a4cc5e29e5af1-libwpg-0.1.3.tar.gz \
d78 2
a79 1
		fe5b3e2b7c4577f30dc001054365653e-dejavu-fonts-ttf-2.30.zip
a137 1
		textproc/libwpd \
a199 1
		--enable-opengl \
d207 2
a208 1
		--without-git
@


1.5
log
@fix parallel build
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/11/18 19:17:33 robert Exp $
d19 2
d144 2
@


1.4
log
@Enable opengl support and fix some wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/11/17 14:14:42 robert Exp $
d92 1
a92 1
DISTFILES+=	nbcat-0.1.tar.gz
d213 5
@


1.3
log
@move to new style depends and fix plist
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/11/17 13:30:58 robert Exp $
d154 1
a154 1
WANTLIB-main+=	GL Xxf86vm drm python2.6 stdc++ xcb-render xcb-shm
d164 3
a166 1
			m stdc++
d196 1
d220 1
a220 1
MAKE_ENV+=	TMP=${WRKSRC} PYTHON="${MODPY_BIN}"
@


1.2
log
@Use ${OA} which is either x86 or x86_64
@
text
@d1 1
a1 1
# $OpenBSD$
d109 1
a109 1
RUN_DEPENDS-i18n-$l=	::editors/libreoffice
d115 10
a124 10
BUILD_DEPENDS+=	:zip-*:archivers/zip \
		:unzip-*:archivers/unzip \
		:gtar-*:archivers/gtar \
		:bison-*:devel/bison \
		:bash-*:shells/bash \
		:p5-Archive-Zip-*:archivers/p5-Archive-Zip \
		::print/cups \
		:boost->=1.41.0:devel/boost \
		::misc/fileutils \
		::misc/findutils
d129 1
a129 1
LIB_DEPENDS-main=::x11/gtk+2 \
d131 11
a141 11
		:db->=4,<5:databases/db/v4 \
		::textproc/libxslt \
		::net/curl \
		::net/neon \
		::textproc/libwpd \
		::textproc/icu4c \
		::devel/gperf \
		::textproc/raptor \
		::textproc/redland \
		::textproc/hunspell \
		::devel/cppunit \
d143 4
a146 4
WANTLIB-main=	gdk-x11-2.0.>=400.14 gtk-x11-2.0.>=400.14 \
		db.>=4 xslt.>=3 curl.>=7 neon.>=24 \
		icuuc.>=0 icudata.>=0 icui18n icule \
		raptor.>=2 rasqal rdf.>=0
d152 1
a152 1
		png pthread pthread-stubs ssl util xcb xml2 z gdk_pixbuf-2.0 \
d157 1
a157 1
RUN_DEPENDS-main=	:desktop-file-utils-*:devel/desktop-file-utils
d160 1
a160 1
RUN_DEPENDS-kde=	::editors/libreoffice
d162 1
a162 1
			::x11/kde/libs3
d164 1
a164 2
			X11 Xau Xdmcp Xext Xrandr Xrender stdc++ m \
			pthread-stubs xcb kabc kdecore kdeui kio
d171 2
a172 2
LIB_DEPENDS-java=	:db-java->=4,<5:databases/db/v4,-java,java \
			::devel/apache-ant
d174 2
a175 2
			::editors/libreoffice \
			::java/javaPathHelper
@


1.1
log
@Initial revision
@
text
@d220 7
a226 1
SUBST_VARS+=	BV
@


1.1.1.1
log
@Initial import of LibreOffice 3.3rc3;

LibreOffice is a productivity suite that is
compatible with other major office suites,
and available on a variety of platforms.
It is free software and therefore free to
download, use and distribute. 

The port is not yet ready and not linked
to the build yet, but it builds and works
fine. All of the OpenBSD specific patches
have been commited to upstream already.
@
text
@@
