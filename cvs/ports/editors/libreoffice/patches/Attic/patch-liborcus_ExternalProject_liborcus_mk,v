head	1.4;
access;
symbols
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.1.0.2
	OPENBSD_5_4_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2014.10.10.17.13.10;	author robert;	state dead;
branches;
next	1.3;
commitid	NKi5qWgOiGUBhZUs;

1.3
date	2013.11.17.11.45.52;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2013.11.12.07.57.23;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2013.05.31.14.50.13;	author robert;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to 4.3.2.2 and use the default python3 version
@
text
@$OpenBSD: patch-liborcus_ExternalProject_liborcus_mk,v 1.3 2013/11/17 11:45:52 robert Exp $
--- liborcus/ExternalProject_liborcus.mk.orig.port	Tue Oct 22 19:49:23 2013
+++ liborcus/ExternalProject_liborcus.mk	Sun Nov 17 11:44:19 2013
@@@@ -69,7 +69,7 @@@@ endif
 ifeq ($(SYSTEM_BOOST),NO)
 liborcus_CXXFLAGS+=-I$(WORKDIR)/UnpackedTarball/boost
 else
-liborcus_LDFLAGS+=$(BOOST_LDFLAGS)
+liborcus_LDFLAGS+=$(BOOST_LDFLAGS) -lboost_system
 endif
 ifneq (,$(PTHREAD_LIBS))
 liborcus_LDFLAGS+=$(PTHREAD_LIBS)
@@@@ -88,7 +88,9 @@@@ $(call gb_ExternalProject_get_state_target,liborcus,bu
 			--disable-debug \
 			--disable-spreadsheet-model \
 			--disable-werror \
+			--with-boost-system=boost_system  \
 			$(if $(filter YES,$(CROSS_COMPILING)),--build=$(BUILD_PLATFORM) --host=$(HOST_PLATFORM)) \
+			$(if $(filter OPENBSD,$(OS)),LDFLAGS=-lpthread CPPFLAGS='-DBOOST_SYSTEM_NO_DEPRECATED -pthread') \
 		&& $(MAKE) \
 	)
 
@


1.3
log
@add boost_system to LDFLAGS for liborcus to avoid cppunit tests failing
do the undefined symbols and fix up some plist entries
@
text
@d1 1
a1 1
$OpenBSD: patch-liborcus_ExternalProject_liborcus_mk,v 1.2 2013/11/12 07:57:23 robert Exp $
@


1.2
log
@update to 4.1.3.2
@
text
@d1 12
a12 3
$OpenBSD$
--- liborcus/ExternalProject_liborcus.mk.orig.port	Sat Nov  2 19:45:01 2013
+++ liborcus/ExternalProject_liborcus.mk	Sun Nov  3 16:33:51 2013
@


1.1
log
@update to 4.0.3.3
@
text
@d2 12
a13 12
--- liborcus/ExternalProject_liborcus.mk.orig.port	Thu May  2 17:55:29 2013
+++ liborcus/ExternalProject_liborcus.mk	Sun May 19 19:54:37 2013
@@@@ -52,7 +52,9 @@@@ $(call gb_ExternalProject_get_state_target,liborcus,bu
 		--disable-debug \
 		--disable-spreadsheet-model \
 		--disable-werror \
+		--with-boost-system=boost_system \
 		$(if $(filter LINUX FREEBSD OPENBSD NETBSD DRAGONFLY ANDROID,$(OS)),$(if $(gb_ENABLE_DBGUTIL),CPPFLAGS=-D_GLIBCXX_DEBUG)) \
+		$(if $(filter OPENBSD,$(OS)),LDFLAGS=-lpthread CPPFLAGS='-DBOOST_SYSTEM_NO_DEPRECATED -pthread') \
 		$(if $(filter NO,$(SYSTEM_BOOST)),CXXFLAGS=-I$(OUTDIR)/inc/external) \
 		$(if $(filter YES,$(CROSS_COMPILING)),--build=$(BUILD_PLATFORM) --host=$(HOST_PLATFORM)) \
 	&& $(MAKE) \
@

