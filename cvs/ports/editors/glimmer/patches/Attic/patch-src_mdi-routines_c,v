head	1.2;
access;
symbols
	OPENBSD_4_1:1.1.0.18
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.16
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.14
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.12
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.10
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.8
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.6
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.4
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.2
	OPENBSD_3_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2007.06.01.15.17.37;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2002.10.11.18.40.46;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@remove obsolete gnome1 stuff
@
text
@$OpenBSD: patch-src_mdi-routines_c,v 1.1 2002/10/11 18:40:46 naddy Exp $
--- src/mdi-routines.c.orig	Fri Oct 11 18:04:32 2002
+++ src/mdi-routines.c	Fri Oct 11 18:05:54 2002
@@@@ -150,7 +150,7 @@@@ file_pos_changed (GtkWidget * widget, gi
         length = text->length;
         line = text->line_number + 1;
         lines = GTK_EXTEXT (cur_file->text)->line_count + 1;
-        if (pos >= 0 && pos <= text->length && text->length > 0)
+        if (pos >= 0 && pos < text->length && text->length > 0)
             cur_char = GTK_EXTEXT_INDEX (text, pos);
         else
             cur_char = 0;
@@@@ -167,6 +167,10 @@@@ file_pos_changed (GtkWidget * widget, gi
                 gtk_widget_set_sensitive (search_menu_match, TRUE);
 
             cur_char = GTK_EXTEXT_INDEX (text, pos);
+	    if (pos < text->length)
+		cur_char = GTK_EXTEXT_INDEX (text, pos);
+	    else
+		cur_char = 0;
             if (cur_char < 1 || !strchr ("{[()]}", cur_char) || length < 1)
                 gtk_widget_set_sensitive (search_menu_select, FALSE);
             else
@


1.1
log
@- Fix dependencies.
- Clean-up, bug fixes.
From: Jim Geovedi <jim@@corebsd.or.id>
@
text
@d1 1
a1 1
$OpenBSD$
@

