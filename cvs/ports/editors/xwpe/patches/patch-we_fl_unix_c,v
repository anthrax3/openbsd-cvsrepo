head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.12
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.10
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.8
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.4
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.6
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.2.0.24
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.22
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.20
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.18
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.16
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.14
	OPENBSD_5_0:1.2.0.12
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.10
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.0.4
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2014.10.13.19.04.46;	author sthen;	state Exp;
branches;
next	1.2;
commitid	ICnRS5F0qdRw0drg;

1.2
date	2008.12.09.10.46.35;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2007.10.26.20.49.32;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@param.h not needed
@
text
@$OpenBSD: patch-we_fl_unix_c,v 1.2 2008/12/09 10:46:35 jasper Exp $
--- we_fl_unix.c.orig	Tue Dec  9 11:35:46 2008
+++ we_fl_unix.c	Tue Dec  9 11:36:54 2008
@@@@ -3532,7 +3532,12 @@@@ struct dirfile *e_make_funct(char *man)
  }
  if ((!manpath) || (manpath[0] == '\0'))
  {
-  manpath = strdup("/usr/man:/usr/share/man:/usr/X11R6/man:/usr/local/man");
+  manpath = strdup(
+#if (defined(BSD) && (BSD >= 199306)) || (defined(sun) && defined(__svr4__))
+               "/usr/share/man:/usr/local/man");
+#else
+               "/usr/man:/usr/local/man");
+#endif
  }
  /* Allocate the maximum possible rather than continually realloc. */
  sustr = malloc(strlen(manpath) + 10);
@


1.2
log
@- update xwpe to 1.5.30a
- specify license version
- re-format DESCR
@
text
@d1 1
a1 1
$OpenBSD: patch-we_fl_unix_c,v 1.1 2007/10/26 20:49:32 ajacoutot Exp $
d4 1
a4 11
@@@@ -12,6 +12,9 @@@@
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <errno.h>
+#if (defined(__unix__) || defined(unix)) && !defined(USG)
+#include <sys/param.h>
+#endif
 
 struct dirfile *e_make_win_list(FENSTER * f);
 extern char    *e_tmp_dir;
@@@@ -3532,7 +3535,12 @@@@ struct dirfile *e_make_funct(char *man)
@


1.1
log
@- use our naming scheme for patches
@
text
@d1 3
a3 3
$OpenBSD$
--- we_fl_unix.c.orig	Mon Dec 27 00:11:38 1999
+++ we_fl_unix.c	Fri Oct 26 22:47:35 2007
d14 6
a19 6
@@@@ -3546,7 +3549,13 @@@@ struct dirfile *e_make_funct(char *man)
   if(getenv("MANPATH"))
     strcpy(manpath, getenv("MANPATH"));
   if(manpath[0] == '\0')
-    strcpy(manpath, "/usr/man:/usr/local/man");
+    strcpy(manpath,
d25 3
a27 4
+         
   while(manpath[i])
   {
     for(n = 0; (subpath[n] = manpath[i]) && manpath[i] != PTHD; i++, n++);
@

