head	1.27;
access;
symbols
	OPENBSD_6_1:1.27.0.4
	OPENBSD_6_1_BASE:1.27
	OPENBSD_6_0:1.27.0.2
	OPENBSD_6_0_BASE:1.27
	OPENBSD_5_9:1.25.0.10
	OPENBSD_5_9_BASE:1.25
	OPENBSD_5_8:1.25.0.12
	OPENBSD_5_8_BASE:1.25
	OPENBSD_5_7:1.25.0.8
	OPENBSD_5_7_BASE:1.25
	OPENBSD_5_6:1.25.0.6
	OPENBSD_5_6_BASE:1.25
	OPENBSD_5_5:1.25.0.4
	OPENBSD_5_5_BASE:1.25
	OPENBSD_5_4:1.25.0.2
	OPENBSD_5_4_BASE:1.25
	OPENBSD_5_3:1.24.0.6
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.24.0.4
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.24
	OPENBSD_5_1:1.24.0.2
	OPENBSD_5_0:1.23.0.2
	OPENBSD_5_0_BASE:1.23
	OPENBSD_4_9:1.22.0.2
	OPENBSD_4_9_BASE:1.22
	OPENBSD_4_8:1.19.0.2
	OPENBSD_4_8_BASE:1.19
	OPENBSD_4_7:1.18.0.2
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.17.0.8
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.17.0.6
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.17.0.4
	OPENBSD_4_4_BASE:1.17
	OPENBSD_4_3:1.17.0.2
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.16.0.2
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.15.0.2
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.14.0.2
	OPENBSD_4_0_BASE:1.14
	OPENBSD_3_9:1.13.0.2
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.12.0.4
	OPENBSD_3_8_BASE:1.12
	OPENBSD_3_7:1.12.0.2
	OPENBSD_3_7_BASE:1.12
	OPENBSD_3_6:1.10.0.6
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.10.0.4
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.10.0.2
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.9.0.2
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.8.0.2
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.7.0.2
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9_TRACKING_SWITCH:1.4
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	espie:1.1.1.1
	ted:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2016.05.05.19.52.28;	author naddy;	state Exp;
branches;
next	1.26;
commitid	KG9Yn10TjXY3Xr6m;

1.26
date	2016.03.16.16.46.32;	author naddy;	state Exp;
branches;
next	1.25;
commitid	4Ekn8nPgVVHWLTwe;

1.25
date	2013.03.11.11.02.50;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2011.09.16.09.48.09;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2011.04.10.18.01.13;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2010.11.15.23.22.07;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.10.24.21.16.25;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2010.10.23.18.26.20;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2010.04.24.20.18.39;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2009.08.10.06.31.09;	author kili;	state Exp;
branches;
next	1.17;

1.17
date	2007.09.16.00.44.00;	author merdely;	state Exp;
branches;
next	1.16;

1.16
date	2007.07.04.19.18.46;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2006.11.11.21.04.27;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2006.08.01.23.39.08;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2006.02.08.04.54.49;	author david;	state Exp;
branches;
next	1.12;

1.12
date	2005.02.15.10.20.24;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2004.11.24.11.08.03;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2003.05.24.15.30.52;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2002.10.26.00.39.15;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2002.07.20.00.21.22;	author pvalchev;	state Exp;
branches;
next	1.7;

1.7
date	2002.03.25.20.21.54;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2002.03.21.20.46.26;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2001.10.12.10.09.01;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2001.07.13.13.26.11;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2001.05.24.02.27.19;	author kevlo;	state Exp;
branches;
next	1.2;

1.2
date	2001.04.18.17.51.25;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.04.18.15.02.45;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.04.18.15.02.45;	author espie;	state Exp;
branches;
next	;


desc
@@


1.27
log
@x11/openmotif -> x11/motif
@
text
@# $OpenBSD: Makefile,v 1.26 2016/03/16 16:46:32 naddy Exp $


COMMENT =	X11 based RTF editor
V =		2.17
DISTNAME =	ted-$V
REVISION =	4
CATEGORIES =	editors textproc print
HOMEPAGE =	http://www.nllgg.nl/Ted/
MASTER_SITES =	ftp://ftp.nluug.nl/pub/editors/ted/

DISTFILES =	ted-$V.src.tar.gz
# GPL
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += ICE SM X11 Xext Xmu Xpm Xt c m pthread-stubs xcb z
WANTLIB += png jpeg tiff Xm

MAINTAINER =	Marc Espie <espie@@openbsd.org>

WRKDIST =	${WRKDIR}/Ted-$V
LIB_DEPENDS =	graphics/png \
		graphics/jpeg \
		graphics/tiff \
		x11/motif
MAKE_ENV+=MOTIFLIB='-L${LOCALBASE}/lib -lXm'

ALL_TARGET =	compile.shared
NO_TEST =	Yes

AFMDIR =	${PREFIX}/share/Ted/afm
INDDIR =	${PREFIX}/share/Ted/ind
INFODIR =	${PREFIX}/share/doc/Ted

post-extract:
	cd ${WRKDIST}/tedPackage && tar xf TedBindist.tar

pre-configure:
	cd ${WRKDIST}/tedPackage/Ted && \
	    sed -e 's,/usr/local/afm,${AFMDIR},' \
		-e 's,/usr/local/ind,${INDDIR},' \
		-e 's,/usr/local/info,${INFODIR},' \
		-e 's,/usr/local/Ted/TedDocument-en_US.rtf,${INFODIR}/TedDocument-en_US.rtf,' \
		Ted.ad.sample >Ted
	for d in ${WRKSRC}/Ted ${WRKSRC}/appFrame; do \
    	cd $$d && \
		touch config.h.in && mv -f config.h.in config.h.in.bak && \
		echo '#define PREFIX "${PREFIX}"' >config.h.in && \
		echo '#define INFODIR "${INFODIR}"' >>config.h.in && \
		echo '#define INDDIR "${INDDIR}"' >>config.h.in && \
		echo '#define AFMDIR "${AFMDIR}"' >>config.h.in && \
		cat config.h.in.bak >>config.h.in; \
	done

#CFLAGS += -DAFMDIR=${AFMDIR} -DINDDIR=${INDDIR} -DINFODIR=${INFODIR}

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/Ted/Ted ${PREFIX}/bin/Ted
	${INSTALL_DATA_DIR} ${AFMDIR}
	${INSTALL_DATA} ${WRKDIST}/tedPackage/afm/* ${AFMDIR}
	${INSTALL_DATA_DIR} ${INDDIR}
	${INSTALL_DATA_DIR} ${INFODIR}
	${INSTALL_DATA} ${WRKDIST}/tedPackage/Ted/TedDocument-en_US.rtf ${INFODIR}
	${INSTALL_DATA} ${WRKDIST}/tedPackage/Ted/Ted ${PREFIX}/lib/X11/app-defaults

.include <bsd.port.mk>
@


1.26
log
@remove SHARED_ONLY from ports that don't use any MODULES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/11 11:02:50 espie Exp $
d7 1
a7 1
REVISION =	3
d25 1
a25 1
		x11/openmotif
@


1.25
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/09/16 09:48:09 espie Exp $
a28 1
SHARED_ONLY =	Yes
@


1.24
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/04/10 18:01:13 jasper Exp $
a13 2
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_FTP =	Yes
a14 1
PERMIT_DISTFILES_CDROM =Yes
d30 1
a30 1
NO_REGRESS =	Yes
@


1.23
log
@adjust after recent lesstif removal

ok aja@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/11/15 23:22:07 espie Exp $
d7 1
a7 1
REVISION =	2
@


1.22
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/10/24 21:16:25 ajacoutot Exp $
d7 1
a7 1
REVISION =	1
d20 1
a20 1
WANTLIB += png jpeg tiff
d27 3
a29 1
		graphics/tiff
a30 1
USE_MOTIF =	openmotif
@


1.21
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/10/23 18:26:20 sthen Exp $
d4 7
a10 7
COMMENT=	X11 based RTF editor
V=		2.17
DISTNAME=	ted-$V
REVISION=	1
CATEGORIES=	editors textproc print
HOMEPAGE=	http://www.nllgg.nl/Ted/
MASTER_SITES=	ftp://ftp.nluug.nl/pub/editors/ted/
d12 1
a12 1
DISTFILES=	ted-$V.src.tar.gz
d14 4
a17 4
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_DISTFILES_CDROM=	Yes
d22 1
a22 1
MAINTAINER=	Marc Espie <espie@@openbsd.org>
d24 13
a36 13
WRKDIST=	${WRKDIR}/Ted-$V
LIB_DEPENDS=	::graphics/png \
		::graphics/jpeg \
		::graphics/tiff

USE_MOTIF=	openmotif
ALL_TARGET=	compile.shared
SHARED_ONLY=	Yes
NO_REGRESS=	Yes

AFMDIR=		${PREFIX}/share/Ted/afm
INDDIR=		${PREFIX}/share/Ted/ind
INFODIR=	${PREFIX}/share/doc/Ted
d58 1
a58 1
#CFLAGS+=-DAFMDIR=${AFMDIR} -DINDDIR=${INDDIR} -DINFODIR=${INFODIR}
@


1.20
log
@revision/new lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/04/24 20:18:39 naddy Exp $
a28 1
USE_X11=	Yes
@


1.19
log
@fix build and WANTLIB after libXp removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/08/10 06:31:09 kili Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d18 3
a20 1
WANTLIB=		ICE SM X11 Xext Xmu Xpm Xt c m pthread-stubs xcb z
d25 3
a27 3
LIB_DEPENDS=	png.>=2.::graphics/png \
		jpeg.>=62::graphics/jpeg \
		tiff.>=35::graphics/tiff
@


1.18
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/09/16 00:44:00 merdely Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d18 1
a18 1
WANTLIB=		ICE SM X11 Xext Xmu Xpm Xp Xt c m pthread-stubs xcb z
@


1.17
log
@Removed surrounding quotes in COMMENT*/PERMIT_*

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/07/04 19:18:46 jasper Exp $
d7 1
d18 1
a18 1
WANTLIB=		ICE SM X11 Xext Xmu Xpm Xp Xt c m z
@


1.16
log
@-NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
+SHARED_ONLY=	Yes

ok ajacoutot@@, simon@@, mbalmer@@ (for the postgresql bits)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/11/11 21:04:27 steven Exp $
d4 1
a4 1
COMMENT=	"X11 based RTF editor"
@


1.15
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/08/01 23:39:08 espie Exp $
d29 1
a29 1
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
@


1.14
log
@new libspecs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/02/08 04:54:49 david Exp $
d26 1
@


1.13
log
@move any perl or sed substitutions from post-patch to pre-configure
(fixes make update-patches)
ok sturm@@; "looks reasonable" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/02/15 10:20:24 espie Exp $
d22 3
a24 3
LIB_DEPENDS=	png.2.::graphics/png \
		jpeg.62::graphics/jpeg \
		tiff.35::graphics/tiff
@


1.12
log
@newer version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/11/24 11:08:03 espie Exp $
d38 1
a38 1
post-patch:
@


1.11
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/05/24 15:30:52 naddy Exp $
d5 1
a5 1
V=		2.14
d17 1
a17 1
WANTLIB=		ICE SM X11 Xext Xmu Xpm Xt c m z
@


1.10
log
@add homepage, update to 2.14; maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/10/26 00:39:15 naddy Exp $
d17 2
@


1.9
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/07/20 00:21:22 pvalchev Exp $
d5 1
a5 1
V=2.11
d8 2
a9 1
MASTER_SITES=ftp://ftp.nluug.nl/pub/editors/ted/
@


1.8
log
@new png header path
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/03/25 20:21:54 espie Exp $
d26 1
@


1.7
log
@Version 2.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/03/21 20:46:26 espie Exp $
a7 1
NEED_VERSION=	1.515
@


1.6
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/10/12 10:09:01 espie Exp $
d5 1
a5 1
V=2.10
d36 1
a36 1
	cd ${WRKDIST}/tedPackage/info && \
d40 1
d44 1
a44 1
		mv -f config.h.in config.h.in.bak && \
d60 2
a61 2
	${INSTALL_DATA} ${WRKDIST}/tedPackage/info/TedDocument.rtf ${INFODIR}
	${INSTALL_DATA} ${WRKDIST}/tedPackage/info/Ted ${PREFIX}/lib/X11/app-defaults
@


1.5
log
@Fix dependency, let it build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/07/13 13:26:11 espie Exp $
d8 1
a8 1
NEED_VERSION=	1.400
@


1.4
log
@Fix
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/05/24 02:27:19 kevlo Exp $
d21 1
a21 1
		jpeg.6::graphics/jpeg \
@


1.3
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/04/18 17:51:25 espie Exp $
d5 1
a5 1
V=2.9
d20 1
a20 1
LIB_DEPENDS=	png.2::graphics/png \
@


1.2
log
@wrong version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/04/18 15:02:45 espie Exp $
d20 1
a20 1
LIB_DEPENDS=	png.1::graphics/png \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
V=2.8
@


1.1.1.1
log
@RTF editor
@
text
@@
