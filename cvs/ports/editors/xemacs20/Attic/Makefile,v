head	1.27;
access;
symbols
	OPENBSD_3_3:1.26.0.2
	OPENBSD_3_3_BASE:1.26
	OPENBSD_3_2:1.25.0.2
	OPENBSD_3_2_BASE:1.25
	OPENBSD_3_1:1.23.0.4
	OPENBSD_3_1_BASE:1.23
	OPENBSD_3_0:1.23.0.2
	OPENBSD_3_0_BASE:1.23
	OPENBSD_2_9_TRACKING_SWITCH:1.23
	OPENBSD_2_9:1.20.0.4
	OPENBSD_2_9_BASE:1.20
	OPENBSD_2_8:1.20.0.2
	OPENBSD_2_8_BASE:1.20
	OPENBSD_2_7:1.15.0.2
	OPENBSD_2_7_BASE:1.15
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	marc_1999-Jan-17:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2003.07.06.18.51.45;	author naddy;	state dead;
branches;
next	1.26;

1.26
date	2002.12.29.19.43.50;	author fgsch;	state Exp;
branches;
next	1.25;

1.25
date	2002.06.09.05.36.32;	author wilfried;	state Exp;
branches;
next	1.24;

1.24
date	2002.06.09.04.32.55;	author wilfried;	state Exp;
branches;
next	1.23;

1.23
date	2001.07.13.11.24.06;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2001.05.24.02.27.16;	author kevlo;	state Exp;
branches;
next	1.21;

1.21
date	2001.05.06.00.29.24;	author lebel;	state Exp;
branches;
next	1.20;

1.20
date	2000.10.23.21.45.30;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2000.10.22.15.41.54;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2000.06.28.13.20.51;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2000.06.25.22.50.17;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2000.05.21.12.38.59;	author fgsch;	state Exp;
branches;
next	1.15;

1.15
date	2000.04.11.01.38.41;	author espie;	state Exp;
branches
	1.15.2.1;
next	1.14;

1.14
date	2000.04.09.17.36.24;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.04.09.14.12.30;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.04.09.13.18.17;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.24.23.28.08;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.16.22.32.35;	author turan;	state Exp;
branches;
next	1.9;

1.9
date	2000.03.05.18.30.27;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.10.13.55.00;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	99.12.10.19.31.36;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.10.29.09.40.16;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	99.05.26.00.52.35;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.04.01.06.20.12;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.03.30.03.59.52;	author fgsch;	state Exp;
branches;
next	1.2;

1.2
date	99.01.31.04.37.03;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	99.01.18.04.42.41;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.01.18.04.42.41;	author marc;	state Exp;
branches;
next	;

1.15.2.1
date	2000.09.15.04.50.22;	author marc;	state Exp;
branches;
next	;


desc
@@


1.27
log
@Remove obsolete XEmacs 20 port which has been excluded from bulk
builds for 2 years, 9 months.
@
text
@# $OpenBSD: Makefile,v 1.26 2002/12/29 19:43:50 fgsch Exp $

COMMENT=	"extensible, customizable real-time display editor"

# use flavors for mule and compface support
# e.g., make FLAVOR=mule

DISTNAME=	xemacs-20.4
CATEGORIES=	editors
FAKE=		No
MASTER_SITES=	ftp://ftp.xemacs.org/pub/xemacs/${DISTNAME}/ \
		ftp://ftp.mpi-sb.mpg.de/pub/gnu/mirror/ftp.xemacs.org/xemacs/${DISTNAME}/ \
      		ftp://ftp.usyd.edu.au/pub/Xemacs/${DISTNAME}/ \
		ftp://ftp.lab.kdd.co.jp/xemacs/${DISTNAME}/ \
		ftp://ftp.th-darmstadt.de/pub/editors/xemacs/${DISTNAME}/ \
      		ftp://ftp.funet.fi/pub/mirrors/ftp.xemacs.org/pub/tux/xemacs/Attic/releases/
DISTFILES=	${DISTNAME}${EXTRACT_SUFX} 

MAINTAINER=	Hans-Guenter Weigand <hgw@@d1906.inka.de>

PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

FLAVORS=mule compface
FLAVOR?=

.if ${FLAVOR:L:Mcompface}
PERMIT_PACKAGE_CDROM=	No
BUILD_DEPENDS=	${PREFIX}/lib/libcompface.a:compface-*:graphics/compface
CONFIGURE_ARGS+=--with-xface
.else
PERMIT_PACKAGE_CDROM=	Yes
CONFIGURE_ARGS+=--with-xface=no
.endif

.if ${FLAVOR:L:Mmule}
DISTFILES+=${DISTNAME}-mule${EXTRACT_SUFX}
CONFIGURE_ARGS+=--with-mule
.endif
SUPDISTFILES=${DISTNAME}-mule${EXTRACT_SUFX}

LIB_DEPENDS=	jpeg.62::graphics/jpeg \
		png.2::graphics/png

USE_GMAKE=	Yes
CONFIGURE_STYLE=simple

# Figure out our '${arch}-unknown-openbsd${vers}' string as xemacs
# expects it to be.  Call it GCCARCH.
#
.if ${MACHINE} == "arc" || ${MACHINE} == "pmax" || ${MACHINE} == "wgrisc"
M_ARCH=		mipsel
.elif ${MACHINE} == "hkmips" || ${MACHINE} == "sgi"
M_ARCH=		mips
.else
M_ARCH=		${MACHINE_ARCH}
.endif
GCCARCH=	${M_ARCH}-unknown-openbsd${OSREV}
SED_PLIST=	|sed -e 's,@@GCCARCH@@,${GCCARCH},'

# Note: x11 includes and libs need NOT be added to --site-{includes,libraries}
CONFIGURE_ARGS+= ${GCCARCH} \
		--prefix='$${DESTDIR}${PREFIX}' \
		--with-gnu-make \
		--with-ncurses \
		--with-dialogs="athena" \
		--with-database="berkdb" \
		--statedir="/var/run" \
		--site-includes="/usr/include:${LOCALBASE}/include" \
		--site-libraries="/usr/lib:${LOCALBASE}/lib" \
		--infopath="${LOCALBASE}/info:/usr/share/info:${PREFIX}/lib/${DISTNAME}/info" \
		--rel-alloc

# Do NOT strip on install.  We will strip those things that can be
# stripped after install. (XEmacs crashes if stripped on an alpha)
INSTALL_STRIP=
STRIP_PROGS=	b2m ctags etags gnuclient

.if (${MACHINE_ARCH} != "alpha")
STRIP_PROGS+=	${DISTNAME}
.endif
STRIP_EXECS=	cvtmail digest-doc fakemail gnuserv hexl make-docfile \
		make-path mmencode movemail profile sorted-doc wakeup yow

post-install:
.for file in ${STRIP_PROGS}
	strip ${PREFIX}/bin/${file}
.endfor
.for file in ${STRIP_EXECS}
	strip ${PREFIX}/lib/${DISTNAME}/${GCCARCH}/${file}
.endfor

# Don't install send-pr for everyone, only for XEmacs' private use.
	@@rm -f ${PREFIX}/bin/send-pr
	@@rm -f ${PREFIX}/bin/install-sid

.include <bsd.port.mk>
@


1.26
log
@byebye NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/06/09 05:36:32 wilfried Exp $
@


1.25
log
@add specifier to RUN_DEPENDS and BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/06/09 04:32:55 wilfried Exp $
a9 1
NEED_VERSION=	1.402
@


1.24
log
@use correct urls
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/07/13 11:24:06 naddy Exp $
d31 1
a31 1
BUILD_DEPENDS=	${PREFIX}/lib/libcompface.a::graphics/compface
@


1.23
log
@MASTER_SITES fix by Heikki Korpela <heko@@saitti.net>:
- Add ftp.funet.fi and ftp.sunet.se mirrors where available.
- Remove broken ftp.funet.fi references.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/05/24 02:27:16 kevlo Exp $
d14 1
a14 1
      		ftp://ftp.usyd.edu.au:/pub/Xemacs/${DISTNAME}/ \
d16 1
a16 1
		ftp://ftp.th-darmstadt.de:/pub/editors/xemacs/${DISTNAME}/ \
@


1.22
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/05/06 00:29:24 lebel Exp $
d14 1
a14 1
                ftp://ftp.usyd.edu.au:/pub/Xemacs/${DISTNAME}/ \
d16 2
a17 1
		ftp://ftp.th-darmstadt.de:/pub/editors/xemacs/${DISTNAME}/
@


1.21
log
@editors: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/10/23 21:45:30 naddy Exp $
d44 1
a44 1
		png.1::graphics/png
@


1.20
log
@Fix maintainer mail address; requested by maintainer.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.19 2000/10/22 15:41:54 espie Exp $
d10 1
a10 1
NEED_VERSION=	1.305
@


1.19
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/06/28 13:20:51 espie Exp $
d17 1
a17 1
MAINTAINER=	hgweigand@@wiesbaden.netsurf.de
@


1.18
log
@Kill PLIST.sed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/06/25 22:50:17 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.302
d45 1
a45 1
HAS_CONFIGURE=	Yes
@


1.17
log
@change dependency, png.1.6 -> png.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/05/21 12:38:59 fgsch Exp $
d8 2
a9 2
NEED_VERSION=	1.255
FAKE=No
@


1.16
log
@update libpng dependency since minor changed; sigh sigh.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/04/11 01:38:41 espie Exp $
d42 1
a42 1
		png.1.6::graphics/png
@


1.15
log
@Typo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/04/09 17:36:24 espie Exp $
d42 1
a42 1
		png.1.3::graphics/png
@


1.15.2.1
log
@bring editors as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/06/28 13:20:51 espie Exp $
d8 2
a9 2
NEED_VERSION=	1.302
FAKE=		No
d42 1
a42 1
		png.1::graphics/png
@


1.14
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/04/09 14:12:30 espie Exp $
d39 1
a39 1
SUPDISTFILES=${DISTNAME}-mulet${EXTRACT_SUFX}
@


1.13
log
@Fix GCCARCH, partial fake.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/04/09 13:18:17 espie Exp $
d9 1
@


1.12
log
@Flavors for mule and compface.
PLIST.sed is flexible enough to handle that...
Add emacs conflict.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/03/24 23:28:08 espie Exp $
d56 1
a56 1
GCCARCH=	${M_ARCH}-unknown-${OPSYS}${OSREV}
d61 1
a61 1
		--prefix='${PREFIX}' \
@


1.11
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/03/16 22:32:35 turan Exp $
d3 2
a4 2
# If MULE extensions are desired use
# make USE_MULE=YES
d8 1
a8 1
NEED_VERSION=	 1.230
d14 1
a17 1
PERMIT_PACKAGE_CDROM=	Yes
d22 5
d28 12
a45 3
# Put generated PLIST into WRKDIR to avoid collisions in a shared ports tree.
PLIST=		${WRKDIR}/PLIST

d56 2
a57 3
SYS_REL!=	uname -r

GCCARCH=	${M_ARCH}-unknown-openbsd${SYS_REL}
d60 2
a61 3
CONFIGURE_ARGS= ${GCCARCH} \
		${CONFIG_MULE} \
		--prefix="${PREFIX}" \
d67 3
a69 3
		--site-includes="/usr/include:${PREFIX}/include" \
		--site-libraries="/usr/lib:${PREFIX}/lib" \
		--infopath="${PREFIX}/info:/usr/share/info:${PREFIX}/lib/${DISTNAME}/info" \
a71 13
#
# handle MULE extensions here
#
.if defined(USE_MULE)
DISTFILES=	${DISTNAME}${EXTRACT_SUFX} ${DISTNAME}-mule${EXTRACT_SUFX}
CONFIG_MULE=	--with-mule
PLIST_TEMPLATE=	${FILESDIR}/PLIST.template.mule
PKGNAME=	${DISTNAME}-mule
.else
PLIST_TEMPLATE=	${FILESDIR}/PLIST.template
SUPDISTFILES=	${DISTNAME}-mule${EXTRACT_SUFX}
.endif

a81 14

pre-fetch:
.if !defined(NO_WARNINGS)
	@@echo ""
	@@echo "*** If MULE extensions are desired use the command line"
	@@echo "***	make USE_MULE=YES"
	@@echo ""
.endif

# Generate platform specific PLIST from template
pre-install pre-package:
	@@rm -f ${WRKDIR}/PLIST
	@@sed -e 's/||GCCARCH||/${GCCARCH}/' \
		${PLIST_TEMPLATE} >${WRKDIR}/PLIST
@


1.10
log
@license
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/03/05 18:30:27 espie Exp $
d8 1
a8 1
NEED_VERSION=	1.223
d22 3
a24 3
BUILD_DEPENDS=	${PREFIX}/lib/libcompface.a:graphics/compface
LIB_DEPENDS=	jpeg.62:graphics/jpeg \
		png.1.3:graphics/png
@


1.9
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/10 13:55:00 espie Exp $
d16 5
@


1.8
log
@Flavor-fix: mule as SUPDISTFILES, tweak PKGNAME accordingly.
Interactive port ? where ? didn't ask any questions...

*mule checksum was false, checked on two sites. Maybe it was updated ?
I would expect so, since it has only xemacs's version number.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/12/10 19:31:36 brad Exp $
d8 1
d17 3
a19 3
BUILD_DEPENDS=	${PREFIX}/lib/libcompface.a:${PORTSDIR}/graphics/compface
LIB_DEPENDS=	jpeg.62:${PORTSDIR}/graphics/jpeg \
		png.1.3:${PORTSDIR}/graphics/png
d21 2
a22 2
USE_GMAKE=	yes
HAS_CONFIGURE=	yes
@


1.7
log
@- force usage of Athena widgets and Berkeley DB instead of randomly picking
up Motif/GNU dbm if they're installed
- remove some deprecated variables
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/10/29 09:40:16 turan Exp $
a21 2
IS_INTERACTIVE= yes
NO_PACKAGE=	interactive port
d61 1
d64 1
@


1.6
log
@these ports are interactive.  mark NO_PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/05/26 00:52:35 brad Exp $
d18 1
a18 1
		png.1:${PORTSDIR}/graphics/png
a42 1
#
d45 1
a45 1
		--prefix=${PREFIX} \
d48 5
a52 3
		--statedir=/var/run \
		--site-includes=/usr/include:${PREFIX}/include \
		--site-libraries=/usr/lib:${PREFIX}/lib \
d78 1
d80 4
a83 5
pre-fetch:
	@@${ECHO} ""
	@@${ECHO} "*** If MULE extensions are desired use the command line"
	@@${ECHO} "***	make USE_MULE=YES"
	@@${ECHO} ""
d88 2
a89 2
	@@${RM} -f ${WRKDIR}/PLIST
	@@${SED} -e 's/||GCCARCH||/${GCCARCH}/' \
d101 2
a102 2
	@@${RM} -f ${PREFIX}/bin/send-pr
	@@${RM} -f ${PREFIX}/bin/install-sid
@


1.5
log
@"This patch should fix the XEmacs 20.4 port. It adds support for
ncurses and brings back usable oparation on terminals.";

Hans-Guenter Weigand <hgweigand@@wiesbaden.netsurf.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/04/01 06:20:12 brad Exp $
d23 1
@


1.4
log
@fix dependency lists, fix email address's and remove unnecessary comments
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/03/30 03:59:52 fgsch Exp $
a7 3

MAINTAINER=	hgweigand@@wiesbaden.netsurf.de

d14 2
a15 2
LIB_DEPENDS=	jpeg.62.:${PORTSDIR}/graphics/jpeg \
		png.1.:${PORTSDIR}/graphics/png
d17 2
d20 2
a22 2
HAS_CONFIGURE=	yes
USE_GMAKE=	yes
d47 1
@


1.3
log
@Fix problem introduced after the CONFIGURE_ARGS modification.
Add missing sha1/rmd160 checksums for mule extension.
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.2 1999/01/31 04:37:03 marc Exp $
#
d4 1
a4 2
#
#	make USE_MULE=YES
a19 1
#RUN_DEPENDS=	pgmtopbm:${PORTSDIR}/graphics/netpbm
@


1.2
log
@put working PLIST in WRKDIR so concurrent builds won't clobber
each other; hgweigand@@wiesbaden.netsurf.de (Hans-Guenter Weigand)
@
text
@d1 1
a1 4
# OpenBSD Makefile for:	XEmacs
# Version required:	20.4
# Date created:		3 January 1999
# Whom:			Hans Guenter Weigand
a2 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/01/18 04:42:41 marc Exp $
d25 1
a25 1
GNU_CONFIGURE=	yes
d49 1
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d32 3
a59 2
#		--site-runtime-libraries=/usr/lib:${PREFIX}/lib \

d90 1
a90 3
pre-clean:
	@@${RM} -f ${PKGDIR}/PLIST

d92 1
a92 1
	@@${RM} -f ${PKGDIR}/PLIST
d94 1
a94 1
		${PLIST_TEMPLATE} >${PKGDIR}/PLIST
@


1.1.1.1
log
@xemacs 20.4; hgweigand@@wiesbaden.netsurf.de (Hans-Guenter Weigand)
@
text
@@
