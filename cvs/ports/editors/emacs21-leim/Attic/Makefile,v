head	1.7;
access;
symbols
	OPENBSD_3_3:1.5.0.2
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.4.0.2
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	mark_2002-Mar-02:1.1.1.1
	mark:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2003.07.06.12.46.45;	author naddy;	state dead;
branches;
next	1.6;

1.6
date	2003.07.05.00.27.08;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2002.10.26.00.39.15;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2002.05.13.12.37.37;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2002.04.28.00.33.38;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.28.00.19.40;	author mark;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.03.07.08.36;	author mark;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.03.07.08.36;	author mark;	state Exp;
branches;
next	;


desc
@@


1.7
log
@- Fold LEIM back into the parent Emacs port.
- Split LEIM and Elisp sources out into subpackages.

From: Han Boetes <han@@linux-mandrake.com>
@
text
@# $OpenBSD: Makefile,v 1.6 2003/07/05 00:27:08 naddy Exp $

COMMENT=	"Library of Emacs Input Method"

VERSION=	21.3
PKGNAME=	emacs-leim-${VERSION}
DISTNAME=	leim-${VERSION}
CATEGORIES=	editors

MASTER_SITES=	${MASTER_SITE_GNU:=emacs/}

MAINTAINER=	Yozo TODA <yozo@@v007.vaio.ne.jp>

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

USE_GMAKE=	Yes
BUILD_DEPENDS=	:emacs-${VERSION}*:editors/emacs21
RUN_DEPENDS=	:emacs-${VERSION}*:editors/emacs21

SUBST_VARS=	VERSION

WRKSRC=		${WRKDIR}/emacs-${VERSION}/leim
DATASUBDIR=	share/emacs/${VERSION}

NO_REGRESS=	Yes

# this is what GNU configure script does plus two lines of patch to make it
# work with the installed emacs.
do-configure:
	@@cd ${WRKSRC} && cat Makefile.in | sed -e 's|@@version@@|${VERSION}|' \
	-e 's|@@prefix@@|$${DESTDIR}${PREFIX}|' \
	-e 's|@@datadir@@|$${prefix}/share|' \
	-e 's|@@srcdir@@|${WRKSRC}|' \
	-e 's|^BUILT-EMACS.*|BUILT-EMACS = ${PREFIX}/bin/emacs|' \
	-e 's|buildlisppath=.*|buildlisppath=${PREFIX}/${DATASUBDIR}/lisp|' \
	> Makefile

# leim assumes that the target directory exists already.
pre-install:
	@@mkdir -p ${PREFIX}/${DATASUBDIR}/leim

.include <bsd.port.mk>
@


1.6
log
@* Update to 21.3.
* Major cleaning and pruning of excessive FLAVORs.

From: Han Boetes <han@@linux-mandrake.com>, contributions by cannings@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/10/26 00:39:15 naddy Exp $
@


1.5
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/05/13 12:37:37 naddy Exp $
d5 1
a5 1
VERSION=	21.2
@


1.4
log
@bye MASTER_SITE_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/04/28 00:33:38 pvalchev Exp $
d9 1
a9 1
NEED_VERSION=	1.528
d27 2
@


1.3
log
@Update to emacs21-leim-21.2; from maintainer yozo@@v007.vaio.ne.jp
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/03/28 00:19:40 mark Exp $
d9 2
a10 3
NEED_VERSION=	1.525
MASTER_SITES=	${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR= emacs
@


1.2
log
@Force dependencies check of emacs21 port specifically.  Solves i386 (and
others) conflict between emacs20 and emacs21-leim.  ok, naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/03/03 07:08:36 mark Exp $
d5 1
a5 1
VERSION=	21.1
d9 1
a9 1
NEED_VERSION=	1.507
d13 1
a13 1
MAINTAINER=	 Yozo TODA <yozo@@v007.vaio.ne.jp>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d21 2
a22 2
BUILD_DEPENDS=	:emacs-*:editors/emacs21
RUN_DEPENDS=	:emacs-*:editors/emacs21
@


1.1.1.1
log
@emacs21-leim import

Library of Emacs Input Method for GNU Emacs 21.1

Thanks to Yozo TODA <yozo@@v007.vaio.ne.jp> for the port, made changes
for depends to accept any Emacs flavor.

@
text
@@
