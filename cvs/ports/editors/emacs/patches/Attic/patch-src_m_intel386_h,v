head	1.2;
access;
symbols
	OPENBSD_3_4:1.1.0.2
	OPENBSD_3_4_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2003.12.03.17.28.02;	author sturm;	state dead;
branches;
next	1.1;

1.1
date	2003.04.17.08.06.44;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.2
log
@remove emacs 20 port as 21 is in-tree and works on all platforms that have
a working emacs 20, besides that emacs 20 was broken on sparc64, vax, hppa

emacs21 tested on most archs by pval (thanks!), rest by me
@
text
@$OpenBSD: patch-src_m_intel386_h,v 1.1 2003/04/17 08:06:44 pvalchev Exp $
--- src/m/intel386.h.orig	Thu Apr 17 00:14:29 2003
+++ src/m/intel386.h	Thu Apr 17 00:15:04 2003
@@@@ -232,6 +232,12 @@@@ NOTE-END */
 #define NO_ARG_ARRAY
 #endif
 
+#ifdef __ELF__
+#define HAVE_TEXT_START
+#define UNEXEC unexelf.o
+#define ORDINARY_LINK
+#endif
+
 #ifdef linux
 /* libc-linux/sysdeps/linux/i386/ulimit.c says that due to shared library, */
 /* we cannot get the maximum address for brk */
@


1.1
log
@elf fixens/workarounds, part from NetBSD so this works on i386/ELF
XXX note that sparc64 and possibly other ELF arches are still broken
@
text
@d1 1
a1 1
$OpenBSD$
@

