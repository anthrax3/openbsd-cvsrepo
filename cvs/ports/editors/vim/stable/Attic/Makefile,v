head	1.95;
access;
symbols
	OPENBSD_3_5:1.90.0.2
	OPENBSD_3_5_BASE:1.90
	OPENBSD_3_4:1.75.0.2
	OPENBSD_3_4_BASE:1.75
	OPENBSD_3_3:1.68.0.2
	OPENBSD_3_3_BASE:1.68
	OPENBSD_3_2:1.60.0.2
	OPENBSD_3_2_BASE:1.60
	OPENBSD_3_1:1.46.0.2
	OPENBSD_3_1_BASE:1.46
	OPENBSD_3_0:1.11.0.2
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9_TRACKING_SWITCH:1.9
	OPENBSD_2_9:1.4.0.2
	OPENBSD_2_9_BASE:1.4
	jasoni:1.1.1.1
	vim:1.1.1;
locks; strict;
comment	@# @;


1.95
date	2004.07.12.19.32.59;	author lebel;	state dead;
branches;
next	1.94;

1.94
date	2004.07.03.22.09.08;	author jolan;	state Exp;
branches;
next	1.93;

1.93
date	2004.06.09.18.43.16;	author lebel;	state Exp;
branches;
next	1.92;

1.92
date	2004.05.12.13.53.44;	author lebel;	state Exp;
branches;
next	1.91;

1.91
date	2004.04.05.17.01.54;	author lebel;	state Exp;
branches;
next	1.90;

1.90
date	2004.03.05.16.43.25;	author lebel;	state Exp;
branches;
next	1.89;

1.89
date	2004.03.02.14.45.56;	author lebel;	state Exp;
branches;
next	1.88;

1.88
date	2004.03.01.21.21.45;	author lebel;	state Exp;
branches;
next	1.87;

1.87
date	2004.02.21.22.30.35;	author marcm;	state Exp;
branches;
next	1.86;

1.86
date	2004.02.18.19.30.55;	author lebel;	state Exp;
branches;
next	1.85;

1.85
date	2004.02.04.14.29.38;	author lebel;	state Exp;
branches;
next	1.84;

1.84
date	2004.02.04.07.39.18;	author sturm;	state Exp;
branches;
next	1.83;

1.83
date	2004.02.03.15.08.23;	author lebel;	state Exp;
branches;
next	1.82;

1.82
date	2004.01.28.16.47.21;	author lebel;	state Exp;
branches;
next	1.81;

1.81
date	2004.01.22.19.30.24;	author lebel;	state Exp;
branches;
next	1.80;

1.80
date	2004.01.09.16.30.19;	author lebel;	state Exp;
branches;
next	1.79;

1.79
date	2003.12.22.16.09.29;	author lebel;	state Exp;
branches;
next	1.78;

1.78
date	2003.11.12.20.04.06;	author lebel;	state Exp;
branches;
next	1.77;

1.77
date	2003.10.20.15.58.39;	author lebel;	state Exp;
branches;
next	1.76;

1.76
date	2003.09.23.14.44.48;	author lebel;	state Exp;
branches;
next	1.75;

1.75
date	2003.08.11.15.56.30;	author lebel;	state Exp;
branches;
next	1.74;

1.74
date	2003.07.28.16.27.46;	author lebel;	state Exp;
branches;
next	1.73;

1.73
date	2003.07.08.16.06.16;	author lebel;	state Exp;
branches;
next	1.72;

1.72
date	2003.06.27.17.57.52;	author lebel;	state Exp;
branches;
next	1.71;

1.71
date	2003.04.23.18.23.40;	author lebel;	state Exp;
branches;
next	1.70;

1.70
date	2003.04.10.16.36.38;	author lebel;	state Exp;
branches;
next	1.69;

1.69
date	2003.03.29.02.00.48;	author lebel;	state Exp;
branches;
next	1.68;

1.68
date	2003.02.21.15.02.56;	author lebel;	state Exp;
branches;
next	1.67;

1.67
date	2003.02.06.17.55.07;	author lebel;	state Exp;
branches;
next	1.66;

1.66
date	2003.01.10.15.31.20;	author lebel;	state Exp;
branches;
next	1.65;

1.65
date	2002.12.14.08.21.56;	author couderc;	state Exp;
branches;
next	1.64;

1.64
date	2002.12.13.14.54.37;	author lebel;	state Exp;
branches;
next	1.63;

1.63
date	2002.12.02.23.13.04;	author pvalchev;	state Exp;
branches;
next	1.62;

1.62
date	2002.11.02.02.11.23;	author lebel;	state Exp;
branches;
next	1.61;

1.61
date	2002.10.27.14.30.01;	author lebel;	state Exp;
branches;
next	1.60;

1.60
date	2002.09.16.20.23.07;	author lebel;	state Exp;
branches
	1.60.2.1;
next	1.59;

1.59
date	2002.08.31.00.38.11;	author lebel;	state Exp;
branches;
next	1.58;

1.58
date	2002.08.08.14.44.56;	author lebel;	state Exp;
branches;
next	1.57;

1.57
date	2002.07.31.15.52.33;	author lebel;	state Exp;
branches;
next	1.56;

1.56
date	2002.07.21.20.47.44;	author lebel;	state Exp;
branches;
next	1.55;

1.55
date	2002.07.07.02.54.37;	author lebel;	state Exp;
branches;
next	1.54;

1.54
date	2002.06.25.00.41.40;	author lebel;	state Exp;
branches;
next	1.53;

1.53
date	2002.06.19.14.27.13;	author lebel;	state Exp;
branches;
next	1.52;

1.52
date	2002.06.03.13.37.06;	author lebel;	state Exp;
branches;
next	1.51;

1.51
date	2002.05.18.14.47.06;	author lebel;	state Exp;
branches;
next	1.50;

1.50
date	2002.05.06.15.03.40;	author lebel;	state Exp;
branches;
next	1.49;

1.49
date	2002.04.30.15.12.42;	author lebel;	state Exp;
branches;
next	1.48;

1.48
date	2002.04.24.15.08.24;	author lebel;	state Exp;
branches;
next	1.47;

1.47
date	2002.04.16.16.49.02;	author lebel;	state Exp;
branches;
next	1.46;

1.46
date	2002.03.28.16.50.02;	author lebel;	state Exp;
branches
	1.46.2.1;
next	1.45;

1.45
date	2002.03.24.20.26.24;	author lebel;	state Exp;
branches;
next	1.44;

1.44
date	2002.03.23.03.17.42;	author lebel;	state Exp;
branches;
next	1.43;

1.43
date	2002.03.17.23.40.00;	author lebel;	state Exp;
branches;
next	1.42;

1.42
date	2002.02.24.21.41.08;	author lebel;	state Exp;
branches;
next	1.41;

1.41
date	2002.02.21.03.07.48;	author lebel;	state Exp;
branches;
next	1.40;

1.40
date	2002.02.16.15.23.16;	author lebel;	state Exp;
branches;
next	1.39;

1.39
date	2002.02.14.19.03.51;	author lebel;	state Exp;
branches;
next	1.38;

1.38
date	2002.02.11.16.06.17;	author lebel;	state Exp;
branches;
next	1.37;

1.37
date	2002.02.03.21.14.27;	author lebel;	state Exp;
branches;
next	1.36;

1.36
date	2002.01.29.17.53.33;	author lebel;	state Exp;
branches;
next	1.35;

1.35
date	2002.01.26.04.20.59;	author lebel;	state Exp;
branches;
next	1.34;

1.34
date	2002.01.18.13.56.51;	author lebel;	state Exp;
branches;
next	1.33;

1.33
date	2002.01.15.16.28.51;	author lebel;	state Exp;
branches;
next	1.32;

1.32
date	2002.01.11.21.04.57;	author lebel;	state Exp;
branches;
next	1.31;

1.31
date	2002.01.09.02.42.18;	author lebel;	state Exp;
branches;
next	1.30;

1.30
date	2002.01.03.18.35.14;	author lebel;	state Exp;
branches;
next	1.29;

1.29
date	2001.12.19.19.27.12;	author lebel;	state Exp;
branches;
next	1.28;

1.28
date	2001.12.15.16.22.00;	author lebel;	state Exp;
branches;
next	1.27;

1.27
date	2001.12.14.16.03.49;	author lebel;	state Exp;
branches;
next	1.26;

1.26
date	2001.11.26.00.13.43;	author lebel;	state Exp;
branches;
next	1.25;

1.25
date	2001.11.08.03.24.18;	author lebel;	state Exp;
branches;
next	1.24;

1.24
date	2001.11.04.17.20.14;	author lebel;	state Exp;
branches;
next	1.23;

1.23
date	2001.11.01.22.29.55;	author lebel;	state Exp;
branches;
next	1.22;

1.22
date	2001.11.01.17.36.35;	author lebel;	state Exp;
branches;
next	1.21;

1.21
date	2001.11.01.16.08.49;	author lebel;	state Exp;
branches;
next	1.20;

1.20
date	2001.11.01.01.49.15;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2001.10.31.00.02.10;	author lebel;	state Exp;
branches;
next	1.18;

1.18
date	2001.10.30.20.17.43;	author lebel;	state Exp;
branches;
next	1.17;

1.17
date	2001.10.29.00.28.56;	author lebel;	state Exp;
branches;
next	1.16;

1.16
date	2001.10.26.02.17.24;	author lebel;	state Exp;
branches;
next	1.15;

1.15
date	2001.10.25.15.10.44;	author lebel;	state Exp;
branches;
next	1.14;

1.14
date	2001.10.25.01.25.27;	author lebel;	state Exp;
branches;
next	1.13;

1.13
date	2001.10.24.13.44.03;	author lebel;	state Exp;
branches;
next	1.12;

1.12
date	2001.10.24.12.14.50;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2001.09.30.18.59.40;	author lebel;	state Exp;
branches;
next	1.10;

1.10
date	2001.09.27.19.39.14;	author lebel;	state Exp;
branches;
next	1.9;

1.9
date	2001.08.02.03.10.17;	author jasoni;	state Exp;
branches;
next	1.8;

1.8
date	2001.07.03.22.12.24;	author jasoni;	state Exp;
branches;
next	1.7;

1.7
date	2001.06.22.18.45.33;	author jasoni;	state Exp;
branches;
next	1.6;

1.6
date	2001.06.03.17.52.12;	author jasoni;	state Exp;
branches;
next	1.5;

1.5
date	2001.05.06.07.09.33;	author jasoni;	state Exp;
branches;
next	1.4;

1.4
date	2001.04.18.15.01.10;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2001.04.10.08.23.33;	author jasoni;	state Exp;
branches;
next	1.2;

1.2
date	2001.04.08.22.26.44;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.04.02.15.47.07;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.04.02.15.47.07;	author espie;	state Exp;
branches;
next	;

1.46.2.1
date	2003.02.06.20.38.00;	author lebel;	state Exp;
branches;
next	;

1.60.2.1
date	2003.02.06.18.01.59;	author lebel;	state Exp;
branches;
next	1.60.2.2;

1.60.2.2
date	2003.02.07.17.10.51;	author lebel;	state Exp;
branches;
next	;


desc
@@


1.95
log
@update editors/vim to 6.3.13:
- nuke stable and snapshot branches after some discussions with a few people.
@
text
@# $OpenBSD: Makefile,v 1.94 2004/07/03 22:09:08 jolan Exp $

COMMENT=	"vi clone, many additional features"
COMMENT-lang=	"vi clone, NLS subpackage"

DISTNAME=	vim-6.3
REVISION=	1
VERSION=	6.3.${REVISION}
PKGNAME=	vim-${VERSION}
P=		${DISTNAME:C/[-\.]//g}
CATEGORIES=	editors
MASTER_SITES=   ftp://ftp.vim.org/pub/vim/unix/ \
	        ftp://ftp.home.vim.org/pub/vim/unix/ \
	        ftp://ftp.berlin.de.vim.org/unix/
MASTER_SITES0=  ${MASTER_SITES:S/unix/patches\/6.3/}
MASTER_SITES1=	${MASTER_SITES:S/unix/extra/}
DISTFILES=	${DISTNAME}.tar.bz2 \
	        ${DISTNAME}-extra.tar.gz:1 \
		${DISTNAME}-lang.tar.gz:1 
DIST_SUBDIR=	vim6

HOMEPAGE=	http://www.vim.org/

MAINTAINER=	David Lebel <lebel@@openbsd.org>

PATCHFILES=	#
_patches!=	jot -w%03d - 1 ${REVISION} 1
.for p in ${_patches}
PATCHFILES+=	6.3.${p}:0
.endfor

# allow vim to build on m68k and vax
.if (${MACHINE_ARCH} == "m68k")
PATCH_LIST=     patch-* sup-m68k-*
.elif (${MACHINE_ARCH} == "vax")
PATCH_LIST=     patch-* sup-vax-*
.endif

# donation-ware
PERMIT_PACKAGE_CDROM=   Yes
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes

MODULES=	gettext iconv

MULTI_PACKAGES= -lang
SUBPACKAGE?=
.if defined(PACKAGING) && ${SUBPACKAGE} == "-lang"
.  for i in ${FLAVOR:L}
_flavor:=${_flavor},$i
.  endfor
RUN_DEPENDS=::editors/vim/stable${_flavor}
PKG_ARCH=*
.endif

.for i in ${MULTI_PACKAGES}
PKGNAME$i=      vim$i-${VERSION}
.endfor

FLAVORS=	huge gtk gtk2 athena motif no_x11 perl python ruby
FLAVOR?=	gtk

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+=--with-tlib="curses" --enable-multibyte

.if ${FLAVOR:L:Mhuge}
CONFIGURE_ARGS+=--with-features=huge
.endif

.if ${FLAVOR:L:Mperl}
CONFIGURE_ARGS+=--enable-perlinterp
.endif

.if ${FLAVOR:L:Mpython}
PYTHON_VER=     2.3
CONFIGURE_ENV+=	vi_cv_path_python=${LOCALBASE}/bin/python${PYTHON_VER}
CONFIGURE_ARGS+=--enable-pythoninterp \
	--with-python-config-dir=${LOCALBASE}/lib/python${PYTHON_VER}/config
LIB_DEPENDS+=	python${PYTHON_VER}.0.0:python-${PYTHON_VER}*:lang/python/${PYTHON_VER}
.endif

.if ${FLAVOR:L:Mruby}
CONFIGURE_ARGS+=--enable-rubyinterp
MAKE_ENV+=	RUBY="${LOCALBASE}/bin/ruby"
LIB_DEPENDS+=	ruby::lang/ruby
.endif

.if ${FLAVOR:L:Mno_x11} && \
	!${FLAVOR:L:Mgtk} && !${FLAVOR:L:Mmotif} && !${FLAVOR:L:Mathena} && !${FLAVOR:L:Mgtk2}
CONFIGURE_ARGS+=--disable-gui --without-x
.elif ${FLAVOR:L:Mmotif} && \
	!${FLAVOR:L:Mgtk} && !${FLAVOR:L:Mno_x11} && !${FLAVOR:L:Mathena} && !${FLAVOR:L:Mgtk2}
CONFIGURE_ARGS+=--enable-gui="motif" --with-x --enable-fontset --enable-xim
CONFIGURE_ENV+=	MOTIFHOME=${X11BASE}
USE_MOTIF=any
.elif ${FLAVOR:L:Mathena} && \
	!${FLAVOR:L:Mgtk} && !${FLAVOR:L:Mno_x11} && !${FLAVOR:L:Mmotif} && !${FLAVOR:L:Mgtk2}
CONFIGURE_ARGS+=--enable-gui="athena" --with-x --enable-fontset --enable-xim
.elif ${FLAVOR:L:Mgtk} && \
	!${FLAVOR:L:Mmotif} && !${FLAVOR:L:Mno_x11} && !${FLAVOR:L:Mathena} && !${FLAVOR:L:Mgtk2}
LIB_DEPENDS+=	gtk.1.2,gdk.1.2::x11/gtk+
CONFIGURE_ARGS+=--enable-gui="gtk" --with-x --enable-fontset --enable-xim --disable-gtk2-check
.elif ${FLAVOR:L:Mgtk2} && \
	        !${FLAVOR:L:Mmotif} && !${FLAVOR:L:Mno_x11} && !${FLAVOR:L:Mathena} && !${FLAVOR:L:Mgtk}
LIB_DEPENDS+=   gdk-x11-2.0.0.11,gdk_pixbuf-2.0.0.11,gtk-x11-2.0.0.11::x11/gtk+2
CONFIGURE_ARGS+=--enable-gui="gtk2" --with-x --enable-fontset --enable-xim --disable-gtk-check --enable-gtk2-check
.else
ERRORS+="Fatal: You must select one GUI interface: no_x11, gtk, athena or motif"
.endif

WRKDIST=		${WRKDIR}/${P}
WRKSRC=			${WRKDIST}/src

SUBST_VARS=     	P

.include <bsd.own.mk>

# don't try to regenerate the configure script. Works around the fact that
# auto/configure.in is newer than auto/configure.
post-patch:
	touch ${WRKBUILD}/auto/configure

post-configure:
	touch ${WRKBUILD}/auto/config.mk

post-install:
	${INSTALL_DATA} ${FILESDIR}/pf.vim ${PREFIX}/share/vim/${P}/syntax

.include <bsd.port.mk>
@


1.94
log
@hppa workaround no longer needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2004/06/09 18:43:16 lebel Exp $
@


1.93
log
@update vim/stable to 6.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2004/05/12 13:53:44 lebel Exp $
a36 2
.elif (${MACHINE_ARCH} == "hppa")
PATCH_LIST=     patch-* sup-hppa-*
@


1.92
log
@update vim/stable to 6.2.532
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2004/04/05 17:01:54 lebel Exp $
d6 3
a8 3
DISTNAME=	vim-6.2
REVISION=	532
VERSION=	6.2.${REVISION}
d15 1
a15 1
MASTER_SITES0=  ${MASTER_SITES:S/unix/patches/}
d26 2
a27 2
PATCHFILES=	6.2.001-100.gz:0 6.2.101-200.gz:0 6.2.201-300.gz:0 6.2.301-400.gz:0 6.2.401-500.gz:0
_patches!=	jot -w%03d - 501 ${REVISION} 1
d29 1
a29 1
PATCHFILES+=	6.2.${p}:0
@


1.91
log
@update vim/stable to 6.2.447
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2004/03/05 16:43:25 lebel Exp $
d7 1
a7 1
REVISION=	447
d26 2
a27 2
PATCHFILES=	6.2.001-100.gz:0 6.2.101-200.gz:0 6.2.201-300.gz:0 6.2.301-400.gz:0
_patches!=	jot -w%03d - 401 ${REVISION} 1
@


1.90
log
@update vim/stable to 6.2.318; fixes build issues and some
other bugs; pvalchev@@ don't mind :)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2004/03/02 14:45:56 lebel Exp $
d7 1
a7 1
REVISION=	318
d26 2
a27 2
PATCHFILES=	6.2.001-100.gz:0 6.2.101-200.gz:0 6.2.201-300.gz:0
_patches!=	jot -w%03d - 301 ${REVISION} 1
@


1.89
log
@update to vim/stable 6.2.310; fixes a rather nasty undo level bug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2004/03/01 21:21:45 lebel Exp $
d7 1
a7 1
REVISION=	310
@


1.88
log
@update vim/stable to 6.2.307; uses newly released .gziped patches;
uses Python 2.3 for python flavour
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2004/02/21 22:30:35 marcm Exp $
d7 1
a7 1
REVISION=	307
@


1.87
log
@Make vim compile on hppa

'Yep. Go.' lebel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2004/02/18 19:30:55 lebel Exp $
d7 1
a7 1
REVISION=	270
d26 2
a27 2
PATCHFILES=	6.2.001-100.gz:0 6.2.101-200.gz:0
_patches!=	jot -w%03d - 201 ${REVISION} 1
d78 1
a78 1
PYTHON_VER=     2.2
@


1.86
log
@update vim/stable to 6.2.270
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2004/02/04 14:29:38 lebel Exp $
d37 2
@


1.85
log
@add support in c.vim for OpenBSD specific printf\'s %b gcc extension;
while at it, upgrade vim/stable to 6.2.233; thanks to grange@@ for the patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2004/02/04 07:39:18 sturm Exp $
d7 1
a7 1
REVISION=	233
@


1.84
log
@mark some subpackages arch independent

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2004/02/03 15:08:23 lebel Exp $
d7 1
a7 1
REVISION=	225
@


1.83
log
@update vim/stable to 6.2.225
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2004/01/28 16:47:21 lebel Exp $
d54 1
@


1.82
log
@update vim/stable to 6.2.214; uses gzip'ed patches now that they are available
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2004/01/22 19:30:24 lebel Exp $
d7 1
a7 1
REVISION=	214
@


1.81
log
@update vim/stable to 6.2.195
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2004/01/09 16:30:19 lebel Exp $
d7 1
a7 1
REVISION=	195
d26 2
a27 2
#PATCHFILES=
_patches!=	jot -w%03d - 1 ${REVISION} 1
@


1.80
log
@update vim/stable to 6.2.177
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2003/12/22 16:09:29 lebel Exp $
d7 1
a7 1
REVISION=	177
@


1.79
log
@update vim/stable to 6.2.154 and fix an issue with configure
wanting to recheck at build phase under certain conditions.

Pointed out by jcs@@rt.fm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2003/11/12 20:04:06 lebel Exp $
d7 1
a7 1
REVISION=	154
@


1.78
log
@update to vim/stable 6.2.153
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2003/10/20 15:58:39 lebel Exp $
d7 1
a7 1
REVISION=	153
d123 3
d128 1
@


1.77
log
@upgrade vim/stable to 6.2.127
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2003/09/23 14:44:48 lebel Exp $
d7 1
a7 1
REVISION=	127
@


1.76
log
@update vim/stable to 6.2.98
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2003/08/11 15:56:30 lebel Exp $
d7 1
a7 1
REVISION=	98
@


1.75
log
@update vim/stable to 6.2.68
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2003/07/28 16:27:46 lebel Exp $
d7 1
a7 1
REVISION=	68
@


1.74
log
@update vim/stable to 6.2.57
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2003/07/08 16:06:16 lebel Exp $
d7 1
a7 1
REVISION=	57
@


1.73
log
@update vim/stable to 6.2.21
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2003/06/27 17:57:52 lebel Exp $
d7 1
a7 1
REVISION=	21
@


1.72
log
@update vim/stable to 6.2.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2003/04/23 18:23:40 lebel Exp $
d7 1
a7 1
REVISION=	14
@


1.71
log
@update vim/stable to 6.1.474
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2003/04/10 16:36:38 lebel Exp $
d6 3
a8 3
DISTNAME=	vim-6.1
REVISION=	474
VERSION=	6.1.${REVISION}
d10 1
d12 3
a14 5
MASTER_SITES=	ftp://ftp.vim.org/pub/vim/unix/ \
		ftp://ftp.home.vim.org/pub/vim/unix/ \
		ftp://ftp.berlin.de.vim.org/misc/editors/vim/unix/ \
		ftp://ftp.is.co.za/applications/editors/vim/unix/ \
		ftp://ftp.progsoc.uts.edu.au/pub/vim/unix/
d26 2
a27 3
PATCHFILES=	6.1.1-100.gz:0 6.1.101-200.gz:0 6.1.201-300.gz:0 \
		6.1.301-400.gz:0
_patches!=	jot -w%03d - 401 ${REVISION} 1
d29 1
a29 1
PATCHFILES+=	6.1.${p}:0
d60 1
a60 1
FLAVORS=	huge gtk athena motif no_x11 perl python ruby
d89 1
a89 1
	!${FLAVOR:L:Mgtk} && !${FLAVOR:L:Mmotif} && !${FLAVOR:L:Mathena}
d92 1
a92 1
	!${FLAVOR:L:Mgtk} && !${FLAVOR:L:Mno_x11} && !${FLAVOR:L:Mathena}
d97 1
a97 1
	!${FLAVOR:L:Mgtk} && !${FLAVOR:L:Mno_x11} && !${FLAVOR:L:Mmotif}
d100 1
a100 1
	!${FLAVOR:L:Mmotif} && !${FLAVOR:L:Mno_x11} && !${FLAVOR:L:Mathena}
d102 5
a106 1
CONFIGURE_ARGS+=--enable-gui="gtk" --with-x --enable-fontset --enable-xim
d111 1
a111 1
WRKDIST=		${WRKDIR}/vim61
d114 1
a114 1
SUBST_VARS=     	VERSION
d124 1
a124 1
	${INSTALL_DATA} ${FILESDIR}/pf.vim ${PREFIX}/share/vim/vim61/syntax
@


1.70
log
@update vim/stable to 6.1.453
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2003/03/29 02:00:48 lebel Exp $
d7 1
a7 1
REVISION=	453
@


1.69
log
@update vim/stable to 6.1.423
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2003/02/21 15:02:56 lebel Exp $
d7 1
a7 1
REVISION=	423
@


1.68
log
@update vim/stable to 6.1.350
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2003/02/06 17:55:07 lebel Exp $
d7 1
a7 1
REVISION=	350
d27 3
a29 2
PATCHFILES=	6.1.1-100.gz:0 6.1.101-200.gz:0 6.1.201-300.gz:0
_patches!=	jot -w%03d - 301 ${REVISION} 1
d41 1
@


1.67
log
@update vim/stable to 6.1.320; did ya know that patch 265 fixed
an arbitrary command execution vulnerability?  I sure didn't. So, expect a
MFC to at least OPENBSD_3_2 branch soon.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2003/01/10 15:31:20 lebel Exp $
d7 1
a7 1
REVISION=	320
@


1.66
log
@update vim/stable to 6.1.287
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2002/12/14 08:21:56 couderc Exp $
d7 1
a7 1
REVISION=	287
d27 2
a28 2
PATCHFILES=	6.1.1-100.gz:0 6.1.101-200.gz:0
_patches!=	jot -w%03d - 201 ${REVISION} 1
@


1.65
log
@Fix LOCALBASE, noticed by Jim Geovedi.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2002/12/13 14:54:37 lebel Exp $
d7 1
a7 1
REVISION=	263
@


1.64
log
@update vim/stable to 6.1.263;
implements a new 'ruby' FLAVOR; thanks to Jim Geovedi <jim@@corebsd.or.id>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2002/12/02 23:13:04 pvalchev Exp $
d84 1
a84 1
MAKE_ENV+=	RUBY="${LOCABASE}/bin/ruby"
@


1.63
log
@remove binutils workaround; bug has been found
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2002/11/02 02:11:23 lebel Exp $
d7 1
a7 1
REVISION=	247
d60 1
a60 1
FLAVORS=	huge gtk athena motif no_x11 perl python
d80 6
@


1.62
log
@update vim/stable to 6.1.247; adds pf.vim to the syntax dir
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2002/10/27 14:30:01 lebel Exp $
a111 4
# link.sh messes up the final executables when linking under ELF
.if ${ELF_TOOLCHAIN} == yes
	touch ${WRKBUILD}/auto/link.sed
.endif
@


1.61
log
@update vim/stable to version 6.1.234
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2002/09/16 20:23:07 lebel Exp $
d7 1
a7 1
REVISION=	234
d117 2
@


1.60
log
@update vim/stable to 6.1.184
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2002/08/31 00:38:11 lebel Exp $
d7 1
a7 1
REVISION=	184
d27 2
a28 2
PATCHFILES=	6.1.1-100.gz:0
_patches!=	jot -w%03d - 101 ${REVISION} 1
@


1.60.2.1
log
@MFC: update vim/stable to 6.1.320 in OPENBSD_3_2; this update fixes
an arbitrary command execution vulnerability. Well, patch 265 did fix it, but
being a lazy bum, I didn't catch the announcement
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2003/02/06 17:55:07 lebel Exp $
d7 1
a7 1
REVISION=	320
d27 2
a28 2
PATCHFILES=	6.1.1-100.gz:0 6.1.101-200.gz:0 6.1.201-300.gz:0
_patches!=	jot -w%03d - 301 ${REVISION} 1
d60 1
a60 1
FLAVORS=	huge gtk athena motif no_x11 perl python ruby
a81 6
.if ${FLAVOR:L:Mruby}
CONFIGURE_ARGS+=--enable-rubyinterp
MAKE_ENV+=	RUBY="${LOCALBASE}/bin/ruby"
LIB_DEPENDS+=	ruby::lang/ruby
.endif

d112 4
a116 2
post-install:
	${INSTALL_DATA} ${FILESDIR}/pf.vim ${PREFIX}/share/vim/vim61/syntax
@


1.60.2.2
log
@vim had a problem on ELF archs, with it unable to find crtend.o; bring the fix back
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60.2.1 2003/02/06 18:01:59 lebel Exp $
d114 1
a117 6
# link.sh messes up the final executables when linking under ELF
.if ${ELF_TOOLCHAIN} == yes
	touch ${WRKBUILD}/auto/link.sed
.endif

# don't try to regenerate the configure script. Works around the fact that
@


1.59
log
@update vim/stable to 6.1.171
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2002/08/08 14:44:56 lebel Exp $
d7 1
a7 1
REVISION=	171
@


1.58
log
@update vim/stable to 6.1.151
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2002/07/31 15:52:33 lebel Exp $
d7 1
a7 1
REVISION=	151
@


1.57
log
@fixes a problem with vim's link.sh under ELF that result in a
can't load library 'crtend.o' when running vim; thanks drahn@@ and
Marc Matteo <marcm@@lectroid.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2002/07/21 20:47:44 lebel Exp $
d7 1
a7 1
REVISION=	141
@


1.56
log
@update vim/stable to 6.1.141
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2002/07/07 02:54:37 lebel Exp $
d106 2
d112 4
@


1.55
log
@update vim/stable to 6.1.125
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2002/06/25 00:41:40 lebel Exp $
d7 1
a7 1
REVISION=	125
@


1.54
log
@update vim/stable to 6.1.112
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2002/06/19 14:27:13 lebel Exp $
d7 1
a7 1
REVISION=	112
a10 1
NEED_VERSION=	1.487
@


1.53
log
@update vim/stable to 6.1.100; uses the mega patch file instead of
100 individual patch files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2002/06/03 13:37:06 lebel Exp $
d7 1
a7 1
REVISION=	100
d29 4
a32 4
#_patches!=	jot -w%03d - 1 ${REVISION} 1
#.for p in ${_patches}
#PATCHFILES+=	6.1.${p}:0
#.endfor
@


1.52
log
@update vim/stable to 6.1.84
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2002/05/18 14:47:06 lebel Exp $
d7 1
a7 1
REVISION=	84
d28 5
a32 4
_patches!=	jot -w%03d - 1 ${REVISION} 1
.for p in ${_patches}
PATCHFILES+=	6.1.${p}:0
.endfor
@


1.51
log
@update vim/stable to 6.1.76
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2002/05/06 15:03:40 lebel Exp $
d7 1
a7 1
REVISION=	76
@


1.50
log
@update vim/stable to 6.1.54
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2002/04/30 15:12:42 lebel Exp $
d7 1
a7 1
REVISION=	54
@


1.49
log
@update vim/stable to 6.1.42
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2002/04/24 15:08:24 lebel Exp $
d7 1
a7 1
REVISION=	42
@


1.48
log
@update vim/stable to 6.1.32
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2002/04/16 16:49:02 lebel Exp $
d7 1
a7 1
REVISION=	32
@


1.47
log
@update vim/stable to 6.1.18
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2002/03/28 16:50:02 lebel Exp $
d7 1
a7 1
REVISION=	18
@


1.46
log
@fix the dependencies for the -lang subpackage; thanks espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2002/03/24 20:26:24 lebel Exp $
d7 2
a8 3
#REVISION=	0
#VERSION=	6.1.${REVISION}
VERSION=	6.1
d28 4
a31 4
#_patches!=	jot -w%03d - 1 ${REVISION} 1
#.for p in ${_patches}
#PATCHFILES+=	6.0.${p}:0
#.endfor
@


1.46.2.1
log
@MFC: update vim/stable to 6.1.320 in OPENBSD_3_1; this update fixes
an arbitrary command execution vulnerability. Well, patch 265 did fix it, but
being a lazy bum, I didn't catch the announcement; brad@@ OKed this one.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2003/02/06 17:55:07 lebel Exp $
d7 3
a9 2
REVISION=	320
VERSION=	6.1.${REVISION}
d12 1
d29 4
a32 5
PATCHFILES=	6.1.1-100.gz:0 6.1.101-200.gz:0 6.1.201-300.gz:0
_patches!=	jot -w%03d - 301 ${REVISION} 1
.for p in ${_patches}
PATCHFILES+=	6.1.${p}:0
.endfor
d61 1
a61 1
FLAVORS=	huge gtk athena motif no_x11 perl python ruby
a82 6
.if ${FLAVOR:L:Mruby}
CONFIGURE_ARGS+=--enable-rubyinterp
MAKE_ENV+=	RUBY="${LOCALBASE}/bin/ruby"
LIB_DEPENDS+=	ruby::lang/ruby
.endif

a106 2
.include <bsd.own.mk>

a111 2
post-install:
	${INSTALL_DATA} ${FILESDIR}/pf.vim ${PREFIX}/share/vim/vim61/syntax
@


1.45
log
@update vim/stable to 6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2002/03/23 03:17:42 lebel Exp $
d51 4
a54 1
RUN_DEPENDS=::editors/vim/stable
@


1.44
log
@sync RUN_DEPENDS change from vim/snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2002/03/17 23:40:00 lebel Exp $
d6 4
a9 3
DISTNAME=	vim-6.0
REVISION=	270
VERSION=	6.0.${REVISION}
d29 4
a32 5
PATCHFILES+=	6.0.1-200.gz:0
_patches!=	jot -w%03d - 201 ${REVISION} 1
.for p in ${_patches}
PATCHFILES+=	6.0.${p}:0
.endfor
d99 1
a99 1
WRKDIST=		${WRKDIR}/vim60${V}
@


1.43
log
@change the python depends from 2.1.* to 2.2.  Thanks to matt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2002/02/24 21:41:08 lebel Exp $
d50 4
@


1.42
log
@update vim/stable to 6.0.270
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2002/02/21 03:07:48 lebel Exp $
d69 2
a70 1
PYTHON_VER=     2.1
d73 1
a73 2
RUN_DEPENDS+=   :python-${PYTHON_VER}*:lang/python/${PYTHON_VER}
BUILD_DEPENDS=  ${RUN_DEPENDS}
@


1.41
log
@update vim/stable to 6.0.241
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2002/02/16 15:23:16 lebel Exp $
d7 1
a7 1
REVISION=	241
@


1.40
log
@update vim's python dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2002/02/14 19:03:51 lebel Exp $
d7 1
a7 1
REVISION=	222
@


1.39
log
@update to vim/stable 6.0.222
- now, the first 200 patches in available as a single compressed patch file.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2002/02/11 16:06:17 lebel Exp $
d72 1
a72 1
RUN_DEPENDS+=   python${PYTHON_VER}::lang/python
@


1.38
log
@update vim/stable to 6.0.215
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2002/02/03 21:14:27 lebel Exp $
d7 1
a7 1
REVISION=	215
d28 2
a29 1
_patches!=	jot -w%03d ${REVISION}
@


1.37
log
@update vim/stable to 6.0.169
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2002/01/29 17:53:33 lebel Exp $
d7 1
a7 1
REVISION=	169
@


1.36
log
@update vim/stable to 6.0.156
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/01/26 04:20:59 lebel Exp $
d7 1
a7 1
REVISION=	156
@


1.35
log
@update vim/stable to 6.0.152
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2002/01/18 13:56:51 lebel Exp $
d7 1
a7 1
REVISION=	152
@


1.34
log
@update vim/stable to 6.0.143
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2002/01/15 16:28:51 lebel Exp $
d7 1
a7 1
REVISION=	143
a12 1
		ftp://ftp.nuxi.com/pub/vim/unix/ \
@


1.33
log
@update vim/stable to 6.0.134:
also, replace perl call to build the list of patch by a (simpler) call to jot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2002/01/11 21:04:57 lebel Exp $
d7 1
a7 1
REVISION=	134
@


1.32
log
@update vim/stable to 6.0.127
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2002/01/09 02:42:18 lebel Exp $
d7 1
a7 1
REVISION=	127
d29 1
a29 1
_patches!=	perl -e 'foreach(1..${REVISION}) { printf ("%03d ",$$_) };'
@


1.31
log
@update vim/stable to 6.0.120.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2002/01/03 18:35:14 lebel Exp $
d7 1
a7 1
REVISION=	120
@


1.30
log
@update vim/stable to 6.0.118
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2001/12/19 19:27:12 lebel Exp $
d7 1
a7 1
REVISION=	118
@


1.29
log
@update vim/stable to 6.0.101
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/12/15 16:22:00 lebel Exp $
d7 1
a7 1
REVISION=	101
@


1.28
log
@update vim/stable to 6.0.99
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/12/14 16:03:49 lebel Exp $
d7 2
a8 1
VERSION=	6.0.99
d29 3
a31 6
.for p in 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 18 19 20 21 22 23 \
	  24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 \
	  47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 \
	  70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 \
          93 94 95 96 97 98 99
PATCHFILES+=   6.0.0${p}:0
@


1.27
log
@fix typo when FLAVOR athena is selected; Sean Cavanaugh <seanc@@unixgeeks.ca>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/11/26 00:13:43 lebel Exp $
d7 1
a7 1
VERSION=	6.0.93
d32 1
a32 1
          93
@


1.26
log
@major OOPS.  This is not .94, it's .93
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/11/08 03:24:18 lebel Exp $
d87 1
a87 1
	!${FLAVOR:L:Mgtk} && !${FLAVOR:L:Mno_x11} && ${FLAVOR:L:Mmotif}
@


1.25
log
@update vim/stable to 6.0.94:
--
- add -lang subpackage to add NLS languages files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/11/04 17:20:14 lebel Exp $
d7 1
a7 1
VERSION=	6.0.94
@


1.24
log
@update vim/stable to 6.0.70.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/11/01 22:29:55 lebel Exp $
d4 1
d7 2
a8 1
PKGNAME=	${DISTNAME}.70
d20 2
a21 2
	        ${DISTNAME}-extra.tar.gz:1
#	   	${DISTNAME}-lang.tar.gz:1 
d28 5
a32 4
.for p in 01 02 03 04 05 06 07 08 09 10 11 13 14 15 16 17 18 19 20 21 22 23 \
	  24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 \
	  46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 \
	  68 69 70
d49 7
d99 2
@


1.23
log
@update vim/stable to 6.0.64:
--
- fix the problem with patch 6.0.046 by touching the src/auto/configure file
so the Makefile doesn't try to regenerate the configure script since
configure.in is newer than the configure script since that patch was applied.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/10/31 00:02:10 lebel Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}.64
d28 2
a29 1
	  46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64
@


1.22
log
@hmmm. patch 6.0.046 breaks FLAVOR no_x11. Revert back to 6.0.45.
@
text
@d6 1
a6 1
PKGNAME=	${DISTNAME}.45
d27 2
a28 2
	  24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45
#	  46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61
d88 5
@


1.21
log
@update vim/stable to 6.0.61.
Matt Sauve-Frankel <baud@@philosophiebleue.com> for the heads up.
@
text
@d6 1
a6 1
PKGNAME=	${DISTNAME}.61
d27 2
a28 2
	  24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 \
	  46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 
@


1.20
log
@revert commit for gtk module.
@
text
@d6 1
a6 1
PKGNAME=	${DISTNAME}.42
d27 2
a28 1
	  24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42
@


1.19
log
@patch 6.0.035 has been modified on the master site, update the checksum.
While at it, update to 6.0.42.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/10/30 20:17:43 lebel Exp $
d79 1
a79 1
MODULES+=	gtk
@


1.18
log
@update to vim/stable 6.0.40.
- download vim-6.0-extra.tar.gz so some of the newest patches
work correctly.
- eventually, I'll add support for vim's NLS language files in a
subpackage.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/10/29 00:28:56 lebel Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}.40
d27 1
a27 1
	  24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40
@


1.17
log
@update vim/stable to 6.0.31.
use gtk module with FLAVOR contains gtk.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/10/26 02:17:24 lebel Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}.31
d16 4
a19 1
DISTFILES=	${DISTNAME}.tar.bz2
d27 1
a27 1
	  24 25 26 28 29 30 31
@


1.16
log
@be clearer when no GUI interface are selected.
pointed out by fries@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/10/25 15:10:44 lebel Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}.26
d8 1
a8 1
NEED_VERSION=	1.474
d24 1
a24 1
	  24 25 26
d76 1
a76 1
LIB_DEPENDS=	gtk.1.2,gdk.1.2::x11/gtk+
@


1.15
log
@allow vim to build on vax and m68k.  I did test this on one of
miod@@ sloooow VAX and it works.  Could someone with a m68k test this out?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/10/25 01:25:27 lebel Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}.25
d24 1
a24 1
	  24 25
d79 1
a79 1
ERRORS+="Fatal: Conflicting flavor: ${FLAVOR}"
@


1.14
log
@update vim/stable to 6.0.25
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/10/24 13:44:03 lebel Exp $
d27 7
@


1.13
log
@update vim/stable to 6.0.23
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/10/24 12:14:50 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}.23
d23 2
a24 1
.for p in 01 02 03 04 05 06 07 08 09 10 11 13 14 15 16 17 18 19 20 21 22 23
@


1.12
log
@Complete lib dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/09/30 18:59:40 lebel Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}.11
d23 1
a23 1
.for p in 01 02 03 04 05 06 07 08 09 10 11
@


1.11
log
@update vim/stable to 6.0.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/09/27 19:39:14 lebel Exp $
d8 1
a8 1
NEED_VERSION=	1.460
d68 1
a68 1
LIB_DEPENDS=	gtk.1.2::x11/gtk+
@


1.10
log
@. update vim/stable to the latest stable version, which is the new 6.0.
. take over as maintainer of vim/stable.  jasoni@@ OK'ed.
. too many new features to resume in this commit;  check out
  http://wwwv.vim.org.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2001/09/24 17:38:00 lebel Exp $
d5 2
a6 3
V=		
DISTNAME=	vim-6.0${V}
PKGNAME=	${DISTNAME}
d15 1
d17 1
d23 4
a37 2

SUBST_VARS=	V
@


1.9
log
@update to 5.8.8 (bug fix)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/07/03 22:12:24 jasoni Exp $
d3 1
a3 1
COMMENT= 	"vi clone, many additional features"
d5 3
a7 2
PKGNAME=	vim-5.8.8
DISTNAME=	vim-5.8
d9 3
a11 2
NEED_VERSION=	1.400
MASTER_SITES=	ftp://nuxi.ucdavis.edu/pub/vim/unix/ \
d14 3
a16 5
		ftp://ftp.is.co.za/applications/editors/vim/ \
		ftp://ftp.progsoc.uts.edu.au/pub/vim/
MASTER_SITES0=	${MASTER_SITES:S/unix/patches/}
DISTFILES=	${DISTNAME}-src.tar.gz ${DISTNAME}-rt.tar.gz
DIST_SUBDIR=	vim
d20 1
a20 5
MAINTAINER=	Jason Ish <jasoni@@openbsd.org>

.for p in 02 03 04 05 06 07 08
PATCHFILES+=	5.8.0${p}:0
.endfor
d27 2
a28 1
FLAVORS=	gtk athena motif no_x11
d31 8
a38 2
CONFIGURE_STYLE= gnu dest
CONFIGURE_ARGS+=--with-tliba="curses"
d40 2
a41 5
# Internal Compiler Error
.if (${MACHINE_ARCH} == "m68k")
PATCH_LIST=	patch-* sup-m68k
.elif (${MACHINE_ARCH} == "vax")
PATCH_LIST=	patch-* sup-vax
d44 6
a49 2
.if ${FLAVOR:L} == "light"
FLAVOR=no_x11
d51 3
a53 1
.if ${FLAVOR:L} == "no_x11"
d55 3
a57 2
.elif ${FLAVOR:L} == "motif" || ${FLAVOR:L} == "lesstif"
CONFIGURE_ARGS+=--enable-gui="motif"
d60 5
a64 3
.elif ${FLAVOR:L} == "athena"
CONFIGURE_ARGS+=--enable-gui="athena"
.elif ${FLAVOR:L} == "gtk"
d66 3
a68 1
CONFIGURE_ARGS+=--enable-gui="gtk"
d70 3
@


1.8
log
@Update to patch level 07 (Vim 5.8.7)
Fixes:
  - GTK GUI: Vim may exit if 'shell' is not a valid program
  - defining a highlight link overruled existing GUI highlighting
  - Synchronizing on a C comment failed after "//*/"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/06/22 18:45:33 jasoni Exp $
d5 1
a5 1
PKGNAME=	vim-5.8.7
d22 1
a22 1
.for p in 02 03 04 05 06 07
@


1.7
log
@- Update to 5.8.4.
- Remove dead master site.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/06/03 17:52:12 jasoni Exp $
d5 1
a5 1
PKGNAME=	vim-5.8.4
d22 1
a22 1
.for p in 02 03 04 
@


1.6
log
@Update to v5.8.
 - bug fixes
 - more syntax files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/05/06 07:09:33 jasoni Exp $
d5 1
a5 1
PKGNAME=	vim-5.8
a9 1
		ftp://ftp.nuxi.com/pub/vim/unix/ \
d22 3
a24 4
#.for p in 01 02 03 04 05 06 07 08 10 12 13 14 15 16 17 18 19 21 22 23 24 25 \
#	  27 28 29 30
#PATCHFILES+=	5.7.0${p}:0
#.endfor
@


1.5
log
@- Update to patch level 30.
- Clean up.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/04/18 15:01:10 espie Exp $
d5 2
a6 2
PKGNAME=	vim-5.7.30
DISTNAME=	vim-5.7
d23 4
a26 4
.for p in 01 02 03 04 05 06 07 08 10 12 13 14 15 16 17 18 19 21 22 23 24 25 \
	  27 28 29 30
PATCHFILES+=	5.7.0${p}:0
.endfor
@


1.4
log
@Fix USE_MOTIF, especially for those ports with `motif' flavors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/04/10 08:23:33 jasoni Exp $
d5 1
a5 1
PKGNAME=	vim-5.7.27
d11 1
a11 1
		ftp://ftp.home.vim.org/pub/vim/unix/  \
d13 2
a14 2
		ftp://ftp.is.co.za/applications/editors/vim/  \
		ftp://ftp.progsoc.uts.edu.au/pub/vim/ 
d19 1
a19 1
HOMEPAGE=	http://www.vim.org
d21 4
a24 1
.for p in 01 02 03 04 05 06 07 08 10 12 13 14 15 16 17 18 19 21 22 23 24 25 27 28
a26 8
.if defined(PATCH_DEBUG)
PATCH_DIST_ARGS=-d ${WRKDIR}/${DISTNAME} -E ${PATCH_DIST_STRIP}
.else
PATCH_DIST_ARGS=-d ${WRKDIR}/${DISTNAME} --forward --quiet -E ${PATCH_DIST_STRIP}
.endif


MAINTAINER=	Jason Ish <jasoni@@openbsd.org>
d59 1
a59 1
CONFIGURE_ARGS+=--enable-gui="gtk" 
a60 2

WRKDIST=		${WRKDIR}/${DISTNAME}/src
@


1.3
log
@update to patch level 27
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/04/08 22:26:44 naddy Exp $
d8 1
a8 1
NEED_VERSION=	1.361
d56 1
a56 1
.elif ${FLAVOR:L} == "motif"
d59 1
a59 1
USE_MOTIF=Yes
@


1.2
log
@MASTER_SITES: ftp.oce.nl -> ftp.home.vim.org
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/04/02 15:47:07 espie Exp $
d5 1
a5 1
PKGNAME=	vim-5.7.25
d21 1
a21 1
.for p in 01 02 03 04 05 06 07 08 10 12 13 14 15 16 17 18 19 21 22 23 24 25
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2001/03/29 16:54:04 jasoni Exp $
d11 1
a11 1
		ftp://ftp.oce.nl/pub/vim/unix/  \
@


1.1.1.1
log
@vim->vim-stable
@
text
@@
