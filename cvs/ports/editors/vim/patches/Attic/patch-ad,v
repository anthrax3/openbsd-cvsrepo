head	1.2;
access;
symbols
	OPENBSD_2_5:1.1.0.2
	OPENBSD_2_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	99.07.28.05.59.18;	author jasoni;	state dead;
branches;
next	1.1;

1.1
date	98.11.24.04.02.13;	author jasoni;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to v5.4
@
text
@--- ctags/main.c.orig	Mon Nov 23 21:50:56 1998
+++ ctags/main.c	Mon Nov 23 21:51:31 1998
@@@@ -684,7 +684,7 @@@@
      */
     if (toStdout)
     {
-	TagFile.name = tmpnam(tempName);
+	TagFile.name = mkstemp(tempName);
 	TagFile.fp = fopen(TagFile.name, "w");
     }
     else
@@@@ -779,7 +779,7 @@@@
     char tempName[L_tmpnam];
     int result = -1;
 
-    if (tmpnam(tempName) != NULL)
+    if (mkstemp(tempName) != NULL)
     {
 	result = copyFile(name, tempName, size);
 	if (result == 0)
@@@@ -834,7 +834,7 @@@@
 
 static void beginEtagsFile()
 {
-    tmpnam(TagFile.etags.name);
+    mkstemp(TagFile.etags.name);
     TagFile.etags.fp = fopen(TagFile.etags.name, "w+b");
     if (TagFile.etags.fp == NULL)
 	error(FATAL | PERROR, "cannot open \"%s\"", TagFile.etags.name);
@


1.1
log
@fix mktemp
@
text
@@

