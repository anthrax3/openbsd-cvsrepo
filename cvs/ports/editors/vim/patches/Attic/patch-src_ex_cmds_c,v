head	1.1;
access;
symbols
	OPENBSD_4_1:1.1.0.4
	OPENBSD_4_0:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2007.09.01.17.44.19;	author ajacoutot;	state dead;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2007.09.01.17.44.19;	author ajacoutot;	state Exp;
branches;
next	;

1.1.4.1
date	2007.09.01.17.44.46;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file patch-src_ex_cmds_c was initially added on branch OPENBSD_4_0.
@
text
@@


1.1.4.1
log
@- backport patch #7.1.039 to fix a security issue
SA25941
@
text
@a0 15
$OpenBSD$
--- src/ex_cmds.c.orig	Thu Aug 30 10:36:17 2007
+++ src/ex_cmds.c	Thu Aug 30 10:37:01 2007
@@@@ -6336,9 +6336,9 @@@@ helptags_one(dir, ext, tagfname)
 	for (i = 0; i < ga.ga_len; ++i)
 	{
 	    s = ((char_u **)ga.ga_data)[i];
-	    if (STRNCMP(s, "help-tags", 9) == 0)
+	    if (STRNCMP(s, "help-tags\t", 10) == 0)
 		/* help-tags entry was added in formatted form */
-		fprintf(fd_tags, (char *)s);
+		fputs((char *)s, fd_tags);
 	    else
 	    {
 		fprintf(fd_tags, "%s\t/*", s);
@


1.1.2.1
log
@- backport patch #7.1.039 to fix a security issue
SA25941
@
text
@a0 15
$OpenBSD$
--- src/ex_cmds.c.orig	Sat Apr 22 20:56:56 2006
+++ src/ex_cmds.c	Thu Aug 30 10:29:50 2007
@@@@ -6329,9 +6329,9 @@@@ helptags_one(dir, ext, tagfname)
 	for (i = 0; i < ga.ga_len; ++i)
 	{
 	    s = ((char_u **)ga.ga_data)[i];
-	    if (STRNCMP(s, "help-tags", 9) == 0)
+	    if (STRNCMP(s, "help-tags\t", 10) == 0)
 		/* help-tags entry was added in formatted form */
-		fprintf(fd_tags, (char *)s);
+		fputs((char *)s, fd_tags);
 	    else
 	    {
 		fprintf(fd_tags, "%s\t/*", s);
@

