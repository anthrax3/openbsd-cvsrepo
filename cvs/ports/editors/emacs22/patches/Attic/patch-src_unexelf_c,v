head	1.2;
access;
symbols
	OPENBSD_5_2:1.1.0.8
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.6
	OPENBSD_5_0:1.1.0.4
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2013.01.14.08.14.34;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2010.09.09.19.14.23;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Remove Emacs 22/23, we've got 21 and 24 already, and there's no need for four
different Emacsen.

as discussed with deraadt@@ and several others.
ok aja@@ gsoares@@ eric@@ (emacs 22 maintainer)
@
text
@$OpenBSD: patch-src_unexelf_c,v 1.1 2010/09/09 19:14:23 jasper Exp $

Fix build on OpenBSD/alpha, which is an ELF platform.

--- src/unexelf.c.orig	Thu Sep  9 19:27:28 2010
+++ src/unexelf.c	Thu Sep  9 19:28:00 2010
@@@@ -1079,7 +1079,7 @@@@ unexec (new_name, old_name, data_start, bss_start, ent
       memcpy (NEW_SECTION_H (nn).sh_offset + new_base, src,
 	      NEW_SECTION_H (nn).sh_size);
 
-#ifdef __alpha__
+#if defined(__alpha__) && !defined(__OpenBSD__)
       /* Update Alpha COFF symbol table: */
       if (strcmp (old_section_names + OLD_SECTION_H (n).sh_name, ".mdebug")
 	  == 0)
@


1.1
log
@- fix build on alpha

ok eric@@ (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD$
@

