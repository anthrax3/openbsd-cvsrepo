head	1.3;
access;
symbols
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.1.1.1.0.14
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.12
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.10
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.8
	OPENBSD_3_7_BASE:1.1.1.1
	OPENBSD_3_6:1.1.1.1.0.6
	OPENBSD_3_6_BASE:1.1.1.1
	OPENBSD_3_5:1.1.1.1.0.4
	OPENBSD_3_5_BASE:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.2
	OPENBSD_3_4_BASE:1.1.1.1
	sturm_2003-Aug-14:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2007.08.01.09.21.07;	author steven;	state dead;
branches;
next	1.2;

1.2
date	2007.01.18.10.56.27;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2003.08.14.18.27.25;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.08.14.18.27.25;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to 1.74
remove strc*/sprintf patches

from maintainer Jeremy Evans <openbsd@@jeremyevans.net>
@
text
@$OpenBSD: patch-gtk_DirectorExtension_cxx,v 1.2 2007/01/18 10:56:27 steven Exp $
--- gtk/DirectorExtension.cxx.orig	Fri Mar 31 21:45:37 2006
+++ gtk/DirectorExtension.cxx	Fri Mar 31 21:45:37 2006
@@@@ -238,6 +238,7 @@@@ bool DirectorExtension::CreatePipe(bool 
 	bool tryStandardPipeCreation = false;
 	SString pipeFilename = host->Property("ipc.scite.name");
 	gchar* pipeName = NULL;
+	size_t	pipeName_size = 0;
 	fdReceiver = -1;
 	inputWatcher = -1;
 
@@@@ -247,6 +248,7 @@@@ bool DirectorExtension::CreatePipe(bool 
 		//fprintf(fdDebug, "CreatePipe: if (pipeFilename.size() > 0): %s\n", pipeFilename.c_str());
 		//snprintf(pipeName, CHAR_MAX - 1, "%s", pipeFilename.c_str());
 		pipeName = g_strdup(pipeFilename.c_str());
+		pipeName_size = strlen(pipeName) + 1;
 		fdReceiver = open(pipeName, O_RDWR | O_NONBLOCK);
 		if (fdReceiver == -1 && errno == EACCES) {
 			//fprintf(fdDebug, "CreatePipe: No access\n");
@@@@ -294,7 +296,7 @@@@ bool DirectorExtension::CreatePipe(bool 
 
 			//create the pipe name - we use a number as well just incase multiple people have pipes open
 			//or we are forceing a new instance of scite (even if there is already one)
-			sprintf(pipeName, "/tmp/.SciTE.%d.ipc", i);
+			snprintf(pipeName, pipeName_size, "/tmp/.SciTE.%d.ipc", i);
 
 			//fprintf(fdDebug, "Trying pipe %s\n", pipeName);
 			//check to see if there is already one
@


1.2
log
@upgrade to 1.72

based on diffs from new maintainer Jeremy Evans <jeremyevans0 at gmail.com>
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Initial revision
@
text
@d2 3
a4 3
--- gtk/DirectorExtension.cxx.orig	2003-08-13 17:49:48.000000000 +1000
+++ gtk/DirectorExtension.cxx	2003-08-13 18:15:11.000000000 +1000
@@@@ -240,6 +240,7 @@@@ bool DirectorExtension::CreatePipe(bool 
d12 2
a13 2
@@@@ -249,6 +250,7 @@@@ bool DirectorExtension::CreatePipe(bool 
 		printf("CreatePipe: if (pipeFilename.size() > 0): %s\n", pipeFilename.c_str());
d20 2
a21 2
@@@@ -296,7 +298,7 @@@@ bool DirectorExtension::CreatePipe(bool 
 	
d26 1
a26 1
 	
@


1.1.1.1
log
@Initial import of scite 1.54

SciTE is short for SCIntillla based Text Editor. It is a very
flexible but still small and fast editor providing block folding,
syntax highlighting, regular expression search & replace etc.

WWW: http://www.scintilla.org/SciTE.html

from Joerg Sonnenberger <joerg@@bec.de> with patches from Andrew Dalgleish
@
text
@@
