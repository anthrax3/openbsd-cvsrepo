head	1.3;
access;
symbols
	OPENBSD_4_9:1.2.0.8
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.6
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.4
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2011.07.06.23.35.13;	author ariane;	state dead;
branches;
next	1.2;

1.2
date	2009.05.26.17.10.53;	author pirofti;	state Exp;
branches;
next	1.1;

1.1
date	2009.05.25.15.33.10;	author ariane;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Remove the wine port.

Development has stalled and both pirofti@@ and I have no intention to work
on it. Port was unlinked and didn't function anyways.

ok pirofti@@
@
text
@--- libs/wine/Makefile.in.orig	Fri May  8 20:33:02 2009
+++ libs/wine/Makefile.in	Tue May 26 18:51:31 2009
@@@@ -9,8 +9,8 @@@@ VERSCRIPT = $(SRCDIR)/wine.map
 EXTRALIBS = $(LIBPORT) @@LIBDL@@ @@CRTLIBS@@
 DEFS      = -D__WINESRC__ -DWINE_UNICODE_API=""
 
-VERSION   = 1.0
-SOVERSION = 1
+VERSION   = 0.0
+SOVERSION = 0.0
 SONAME    = libwine.so.$(SOVERSION)
 DYNAME    = libwine.$(SOVERSION).dylib
 
@@@@ -122,12 +122,8 @@@@ config.o: config.c $(RELPATH)
 libwine.so.$(VERSION): $(OBJS) $(VERSCRIPT) Makefile.in
 	$(LDSHARED) $(OBJS) $(EXTRALIBS) $(LDFLAGS) $(LIBS) -o $@@
 
-libwine.so.$(SOVERSION): libwine.so.$(VERSION)
-	$(RM) $@@ && $(LN_S) libwine.so.$(VERSION) $@@
+libwine.so: libwine.so.$(VERSION)
 
-libwine.so: libwine.so.$(SOVERSION)
-	$(RM) $@@ && $(LN_S) libwine.so.$(SOVERSION) $@@
-
 libwine.a: wine.def
 	$(DLLTOOL) -l $@@ -d $(SRCDIR)/wine.def
 
@@@@ -151,23 +147,19 @@@@ libwine.dylib: libwine.$(SOVERSION).dylib
 
 install-lib-so: libwine.so.$(VERSION) $(DESTDIR)$(libdir) dummy
 	$(INSTALL_PROGRAM) libwine.so.$(VERSION) $(DESTDIR)$(libdir)/libwine.so.$(VERSION)
-	cd $(DESTDIR)$(libdir) && $(RM) libwine.so.$(SOVERSION) && $(LN_S) libwine.so.$(VERSION) libwine.so.$(SOVERSION)
 
 install-lib-dll: libwine.dll $(DESTDIR)$(libdir) dummy
 	$(INSTALL_DATA) libwine.dll $(DESTDIR)$(libdir)/libwine.dll
 
 install-lib-dylib: libwine.$(VERSION).dylib $(DESTDIR)$(libdir) dummy
 	$(INSTALL_PROGRAM) libwine.$(VERSION).dylib $(DESTDIR)$(libdir)/libwine.$(VERSION).dylib
-	cd $(DESTDIR)$(libdir) && $(RM) libwine.$(SOVERSION).dylib && $(LN_S) libwine.$(VERSION).dylib libwine.$(SOVERSION).dylib
 
-install-dev-so: $(DESTDIR)$(libdir) dummy
-	cd $(DESTDIR)$(libdir) && $(RM) libwine.so && $(LN_S) libwine.so.$(VERSION) libwine.so
+install-dev-so: install-lib-so
 
 install-dev-dll: libwine.a $(DESTDIR)$(libdir) dummy
 	$(INSTALL_DATA) libwine.a $(DESTDIR)$(libdir)/libwine.a
 
 install-dev-dylib: $(DESTDIR)$(libdir) dummy
-	cd $(DESTDIR)$(libdir) && $(RM) libwine.dylib && $(LN_S) libwine.$(VERSION).dylib libwine.dylib
 
 install install-lib:: $(LIBEXT:%=install-lib-%)
 install install-dev:: $(LIBEXT:%=install-dev-%)
@


1.2
log
@Fix lib-depends-check. Okay ariane@@.
@
text
@@


1.1
log
@Create libwine.so.0.0 instead of libwine.so.1.0.
Don't symlink libwine.so.1 or libwine.so.
Set WINEPREFIX for regress.
Configure flags: s/without-also/without-alsa/, remove --without-esd, since
that is handled by esd flavor.

(Port is still in wip status, this just makes the port package properly and
exposes the general failure of the regress in this port.)

'Its good if wine.0.0. is created. Let's ask porters.' pirofti@@
@
text
@d1 2
a2 2
--- libs/wine/Makefile.in.orig	Fri May  8 19:33:02 2009
+++ libs/wine/Makefile.in	Sat May 23 22:45:15 2009
d10 1
a10 1
+SOVERSION = 0
d14 15
a28 1
@@@@ -151,7 +151,6 @@@@ libwine.dylib: libwine.$(SOVERSION).dylib
d36 2
a37 1
@@@@ -160,8 +159,7 @@@@ install-lib-dylib: libwine.$(VERSION).dylib $(DESTDIR)
d39 1
a39 1
 	cd $(DESTDIR)$(libdir) && $(RM) libwine.$(SOVERSION).dylib && $(LN_S) libwine.$(VERSION).dylib libwine.$(SOVERSION).dylib
d47 6
@

