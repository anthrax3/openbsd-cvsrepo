head	1.7;
access;
symbols
	OPENBSD_5_9:1.6.0.8
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.10
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.6
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.4
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.2
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.5.0.4
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.2
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2;
locks; strict;
comment	@# @;


1.7
date	2016.03.01.16.09.38;	author naddy;	state dead;
branches;
next	1.6;
commitid	o7dgXeDn7iTsv39S;

1.6
date	2014.01.27.14.12.29;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.11.12.18.02.34;	author gsoares;	state Exp;
branches;
next	1.4;

1.4
date	2012.10.11.12.02.42;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.10.11.10.16.29;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2010.11.15.23.22.08;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2010.11.09.13.23.21;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Linux emulation is gone, remove the Fedora userland and the last
port depending on it
@
text
@# $OpenBSD: Makefile,v 1.6 2014/01/27 14:12:29 ajacoutot Exp $

COMMENT=	Linux CUPS package based on Fedora Core ${FEDORA_V}

PKGNAME=	fedora_cups-${FEDORA_V}.0
REVISION=	1

SHARED_LIBS +=  des425                    3.0
SHARED_LIBS +=  gssapi_krb5               2.2
SHARED_LIBS +=  gssrpc                    4.0
SHARED_LIBS +=  k5crypto                  3.1
SHARED_LIBS +=  kadm5clnt                 5.1
SHARED_LIBS +=  kadm5srv                  5.1
SHARED_LIBS +=  kdb5                      4.0
SHARED_LIBS +=  krb4                      2.0
SHARED_LIBS +=  krb5                      3.3
SHARED_LIBS +=  krb5support               0.1

RUN_DEPENDS=	emulators/fedora/base

RPMS=		audit-libs-1.7.13-1.fc10.i386.rpm:0 \
		cups-libs-1.3.11-4.fc10.i386.rpm:0 \
		gnutls-2.4.2-5.fc10.i386.rpm:0 \
		krb5-libs-1.6.3-18.fc10.i386.rpm:0 \
		libgcrypt-1.4.4-1.fc10.i386.rpm:0 \
		libgpg-error-1.6-2.i386.rpm \
		libtasn1-1.5-1.fc10.i386.rpm

REMOVE_DIRS=	usr/kerberos usr/share/man usr/share/doc

.include <bsd.port.mk>
@


1.6
log
@"picky" modes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/11/12 18:02:34 gsoares Exp $
@


1.5
log
@use ${FEDORA_V} here; no package change

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/10/11 12:02:42 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
@


1.4
log
@Remove some uneeded RPMs.
Remove stuffs that are now taken care by Makefile.inc.
Update to the latest version of all Fedora 10 RPMs.
Remove @@lib markers from PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/10/11 10:16:29 robert Exp $
d3 1
a3 1
COMMENT=	Linux CUPS package based on Fedora Core 10
@


1.3
log
@update fedora_base and fedora_cups to fedora 10 packages to allow us to run up-to-date opera
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/11/15 23:22:08 espie Exp $
d5 2
a6 3
PKGNAME=	fedora_cups-10.0

MASTER_SITES=	${MASTER_SITE_FEDORA0:=10/Fedora/i386/os/Packages/}
d21 5
a25 9
DISTFILES=	${RPMS}

RPMDIR=		${FULLDISTDIR}

RPMS=		audit-libs-1.7.8-6.fc10.i386.rpm \
		cups-libs-1.3.9-2.fc10.i386.rpm \
		gnutls-2.4.2-2.fc10.i386.rpm \
		krb5-libs-1.6.3-16.fc10.i386.rpm \
		libgcrypt-1.4.3-2.fc10.i386.rpm \
a29 16

do-install:
	${INSTALL_DATA_DIR} ${FEDORADIR}
.for rpm in ${RPMS:S/:0//}
	cd ${FEDORADIR}; rpm2cpio ${RPMDIR}/${rpm} | ${LOCALBASE}/bin/gcpio -id
.endfor

# get rid of some unnecessary directories
.for D in ${REMOVE_DIRS}
	rm -rf ${FEDORADIR}/${D}
.endfor

# better safe than sorry
	find ${FEDORADIR} -perm -4000 | xargs -r chmod u-s
	find ${FEDORADIR} \( -user 37 -o -user 5041 -o -group 37 \) -print | \
		xargs -r chown -h root:wheel
@


1.2
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2010/11/09 13:23:21 sthen Exp $
d3 1
a3 1
COMMENT=	Linux CUPS package based on Fedora Core 4
d5 1
a5 9
PKGNAME=	fedora_cups-4.0
# clean up after make plist:
#	- perl -pi -e "s,^\@@lib ,," pkg/PLIST

SHARED_LIBS=	com_err	2.1 \
		gssapi_krb5 2.2 \
		k5crypto 3.0 \
		krb5	3.2 \
		krb5support 0.0
d7 12
a18 2
MASTER_SITES=	${MASTER_SITE_FEDORA:=4/i386/os/Fedora/RPMS/}
MASTER_SITES0=	${MASTER_SITE_FEDORA:=updates/4/i386/}
d26 9
a34 14
RPMS=		cups-libs-1.1.23-15.4.i386.rpm:0 \
		e2fsprogs-1.37-4.i386.rpm \
		krb5-libs-1.4-3.i386.rpm \
		openssl-0.9.7f-7.10.i386.rpm:0 \

REMOVE_DIRS=	/usr/share/doc /usr/share/man etc/pki usr/kerberos
REMOVE_FILES=	sbin/*e2* sbin/*fs sbin/*ext[23]* \
		usr/sbin/ext2online usr/bin/*attr usr/bin/uuidgen \
		usr/sbin/filefrag usr/sbin/mklost+found sbin/badblocks \
		sbin/blkid sbin/fsck sbin/logsave \
		usr/share/locale/*/LC_MESSAGES/e2fsprogs.mo \
		${REMOVE_LIB:=lib/%} ${REMOVE_USRLIB:=usr/lib/%}
REMOVE_LIB=	libuuid* libss.so* libe2p* libblkid* libext2fs*
REMOVE_USRLIB=	libdes425* libgssrpc* libkrb4* libkdb5* libkadm5*
d39 1
a39 1
	cd ${FEDORADIR}; rpm2cpio ${RPMDIR}/${rpm} | cpio -id
d42 1
a42 1
# get rid of some unnecessary files and directories
a44 3
.endfor
.for F in ${REMOVE_FILES}
	rm -f ${FEDORADIR}/${F}
@


1.1
log
@Add a package for the cups runtime libraries for Linux emulation.
This lets Textmaker 2010 run.  ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/06/07 09:18:38 ajacoutot Exp $
d18 1
a18 1
RUN_DEPENDS=	::emulators/fedora/base
@

