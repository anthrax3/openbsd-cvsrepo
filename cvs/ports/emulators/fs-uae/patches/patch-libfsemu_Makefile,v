head	1.5;
access;
symbols
	OPENBSD_6_0:1.5.0.10
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.6
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.8
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.4
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.2
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	edd_20121122:1.1.1.1
	edd:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2014.03.15.13.04.16;	author edd;	state Exp;
branches;
next	1.4;

1.4
date	2013.09.10.10.23.37;	author edd;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.31.20.16.10;	author edd;	state Exp;
branches;
next	1.2;

1.2
date	2012.12.20.22.29.32;	author edd;	state Exp;
branches;
next	1.1;

1.1
date	2012.11.22.23.45.20;	author edd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.11.22.23.45.20;	author edd;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to fs-uae-2.4.0.

Joystick and hardfile support tested.

Note that the launcher has moved out of the main fs-uae source tree. A
commit adding the launcher as a new port will follow.

OK bcallah@@
@
text
@$OpenBSD: patch-libfsemu_Makefile,v 1.4 2013/09/10 10:23:37 edd Exp $

Remove custom optimisation flags.

--- libfsemu/Makefile.orig	Sun Feb 16 14:58:48 2014
+++ libfsemu/Makefile	Thu Mar 13 15:21:24 2014
@@@@ -121,12 +121,6 @@@@ ifeq ($(devel), 1)
 	#-Werror=implicit-function-declaration
 endif
 
-ifeq ($(debug), 1)
-	cflags += -g -O0 -fno-inline
-else ifneq ($(noflags), 1)
-	cflags += -g -O2
-endif
-
 ifeq ($(os), windows)
 	cppflags += -DWINDOWS -DWIN32
 	cppflags += -D$(use_sdl)
@


1.4
log
@Unbreak "real device" passthrough in fs-uae.

Allows a real hard disk (or other) device node to be used as an Amiga disk.
Most of these patches have been discussed with upstream and have been
accepted.

Also add comments to existing patches.

ok bcallah@@
@
text
@d1 1
a1 1
$OpenBSD: patch-libfsemu_Makefile,v 1.3 2013/03/31 20:16:10 edd Exp $
d5 3
a7 3
--- libfsemu/Makefile.orig	Sun Mar 24 23:51:27 2013
+++ libfsemu/Makefile	Sun Mar 24 23:52:30 2013
@@@@ -104,12 +104,6 @@@@ ifeq ($(devel), 1)
d19 1
a19 1
 	cppflags += -DUSE_SDL
@


1.3
log
@Update fs-uae to 2.2.0.

Upstream took most of our patches, they mostly have gone.

There is one remaining -O0 in the top level Makefile, which works
around an optimiser bug. Yay.

OK bcallah@@
@
text
@d1 4
a4 1
$OpenBSD$
@


1.2
log
@Make fs-uae listen to CFLAGS and CXXFLAGS.

OK sthen@@
@
text
@d1 6
a6 16
$OpenBSD: patch-libfsemu_Makefile,v 1.1.1.1 2012/11/22 23:45:20 edd Exp $

Missing libpng flags. Strip hardcoded CFLAGS

--- libfsemu/Makefile.orig	Fri Oct 26 17:28:39 2012
+++ libfsemu/Makefile	Tue Dec 18 21:28:36 2012
@@@@ -36,7 +36,7 @@@@ warnings = -Wall
 errors = -Werror=implicit-function-declaration
 cppflags = $(CXXFLAGS)
 cflags = -std=c99 $(warnings) $(errors) -Iinclude \
-		`sdl-config --cflags` `pkg-config --cflags glib-2.0` \
+		`sdl-config --cflags` `pkg-config --cflags glib-2.0 libpng` \
 		$(CFLAGS) -D_FILE_OFFSET_BITS=64
 objects = obj/emu_emu.o obj/emu_video.o obj/emu_audio.o obj/emu_input.o \
 		obj/emu_menu.o obj/emu_texture.o obj/emu_font.o \
@@@@ -53,12 +53,6 @@@@ objects = obj/emu_emu.o obj/emu_video.o obj/emu_audio.
a7 3
 ldflags = $(LDFLAGS)
 libs =
-
d13 1
a13 1
 
d15 2
a16 1
 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
Missing libpng flags
d5 2
a6 2
--- libfsemu/Makefile.orig	Tue Nov 20 00:28:32 2012
+++ libfsemu/Makefile	Tue Nov 20 00:28:44 2012
d16 13
@


1.1.1.1
log
@Import fs-uae-2.0.1; a modern Amiga emulator based on the windows
version of UAE.

OK sthen@@, gonzalo@@

@
text
@@
