head	1.8;
access;
symbols
	OPENBSD_5_8:1.7.0.42
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.38
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.36
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.34
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.32
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.30
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.28
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.26
	OPENBSD_5_0:1.7.0.24
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.22
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.20
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.18
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.16
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.14
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.12
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.10
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.7.0.8
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.6
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.4
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.2
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.6.0.10
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.8
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.6.0.6
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.6.0.4
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.2
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.3.0.4
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.1.1.1.0.2
	OPENBSD_3_1_BASE:1.1.1.1
	naddy_20020304:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2016.01.17.19.52.30;	author bentley;	state dead;
branches;
next	1.7;
commitid	EqQueVKYqkA6zI8d;

1.7
date	2005.10.21.18.07.10;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2003.04.26.02.25.36;	author wcobb;	state Exp;
branches;
next	1.5;

1.5
date	2003.04.22.00.04.45;	author wcobb;	state Exp;
branches;
next	1.4;

1.4
date	2003.04.17.07.47.23;	author pvalchev;	state Exp;
branches;
next	1.3;

1.3
date	2002.07.17.21.29.06;	author wcobb;	state Exp;
branches;
next	1.2;

1.2
date	2002.06.25.16.14.51;	author wcobb;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.04.00.58.00;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.04.00.58.00;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Remove zsnes.

Ancient, unmaintained, insecure, non-portable software, with multiple
alternatives in-tree.

ok sthen@@ benoit@@
@
text
@$OpenBSD: patch-src_configure_in,v 1.7 2005/10/21 18:07:10 naddy Exp $
--- src/configure.in.orig	Mon Oct  3 23:11:56 2005
+++ src/configure.in	Mon Oct  3 23:14:21 2005
@@@@ -39,7 +39,7 @@@@ case "$target" in
 		;;
 	*-*-*openbsd*)
 		CFLAGS="$CFLAGS -D__LINUX__ -D__FreeBSD__"
-		NFLAGS="$NFLAGS -D__LINUX__ -D__FreeBSD__ -D__OpenBSD__ -f aoutb"
+		NFLAGS="$NFLAGS -D__LINUX__ -D__FreeBSD__ -D__OpenBSD__ -DELF -f elf"
 		;;
 	*-*-*bsd*)
 		CFLAGS="$CFLAGS -D__LINUX__ -D__FreeBSD__"
@@@@ -118,34 +118,9 @@@@ if test x$debug = xyes; then
 else
 	AC_MSG_RESULT(no)
 	
-	CFLAGS="$CFLAGS -O3 -ffast-math -fomit-frame-pointer -fexpensive-optimizations -s"
+	CFLAGS="$CFLAGS -O3 -ffast-math -fomit-frame-pointer -fexpensive-optimizations"
 	NFLAGS="$NFLAGS -O1"
 	ZSNESEXE="zsnes"
-fi
-
-AC_MSG_CHECKING(which processor class to optimize for)
-if test x$debug != xyes; then
-	case "$target" in
-		i486-*-*)
-			CFLAGS="$CFLAGS -march=i486"
-			AC_MSG_RESULT(486)
-			;;
-		i586-*-*)
-			CFLAGS="$CFLAGS -march=pentium"
-			AC_MSG_RESULT(586)
-			;;
-		i686-*-*)
-			CFLAGS="$CFLAGS -march=pentiumpro"
-			dnl CFLAGS="$CFLAGS -march=pentium3 -mmmx -msse -mfpmath=sse,387"
-			AC_MSG_RESULT(686)
-			;;
-		*)
-			AC_MSG_RESULT(386)
-			AC_MSG_WARN(*** This is probably not what you want use --target)
-			;;
-	esac
-else
-	AC_MSG_RESULT(no optimization because debug enabled)
 fi
 
 dnl Checks for header files.
@


1.7
log
@update to 1.42 by new maintainer Jonathan Schleifer <js@@h3c.de>
@
text
@d1 1
a1 1
$OpenBSD$
@


1.6
log
@don't strip the zsnes executable.
@
text
@d1 4
a4 12
--- src/configure.in.orig	Thu May 23 10:11:18 2002
+++ src/configure.in	Fri Apr 25 22:46:33 2003
@@@@ -16,7 +16,7 @@@@ dnl See also: remarks supplied in the de
 AC_INIT(init.asm)
 AC_CONFIG_HEADER(config.h)	
 dnl -- Where is our compiler, and who are we compiling for?
-CFLAGS="-pipe -I. -Wall"
+CFLAGS="$CFLAGS -I. -Wall"
 AC_PROG_CC
 AC_PATH_PROG(NASMPATH,nasm,[AC_MSG_ERROR(nasm 0.98 is required)])
 NFLAGS="$NFLAGS -w-orphan-labels"
@@@@ -29,7 +29,7 @@@@ case "$target" in
d13 3
a15 3
@@@@ -143,33 +143,8 @@@@ else
 	dnl zsnes more easily deal with small instruction caches, and more
 	dnl effectivly use branch prediction.
d17 3
a19 2
-	CFLAGS="$CFLAGS -Os -ffast-math -fomit-frame-pointer -fschedule-insns2 -s"
+	CFLAGS="$CFLAGS -Os -ffast-math -fomit-frame-pointer -fschedule-insns2"
d25 19
a43 19
-			case "$target" in
-				i486-*-*)
-					CFLAGS="$CFLAGS -march=i486"
-					AC_MSG_RESULT(486)
-					;;
-				i586-*-*)
-					CFLAGS="$CFLAGS -march=pentium"
-					AC_MSG_RESULT(Pentium)
-					;;
-				i686-*-*)
-					CFLAGS="$CFLAGS -march=pentiumpro"
-					AC_MSG_RESULT(PPro/P2)
-					;;
-				*)
-					AC_MSG_RESULT(386)
-					AC_MSG_WARN(*** This is probably not what you want use --target)
-					;;
-			esac
-
@


1.5
log
@link properly on i386/ELF.
@
text
@d1 2
a2 2
--- src/configure.in.orig	Thu May 23 07:11:18 2002
+++ src/configure.in	Mon Apr  7 18:15:18 2003
d21 3
a23 1
@@@@ -145,31 +145,6 @@@@ else
d25 2
a26 1
 	CFLAGS="$CFLAGS -Os -ffast-math -fomit-frame-pointer -fschedule-insns2 -s"
@


1.4
log
@nasm -f elf
@
text
@d17 1
a17 1
+		NFLAGS="$NFLAGS -D__LINUX__ -D__FreeBSD__ -D__OpenBSD__ -f elf"
@


1.3
log
@update to 1.36; ok naddy@@.
@
text
@d1 2
a2 2
--- src/configure.in.orig	Thu May 23 10:11:18 2002
+++ src/configure.in	Wed Jul 17 05:17:37 2002
d12 9
@


1.2
log
@zsnes 1.35 update; ok naddy@@
@
text
@d1 3
a3 3
--- src/configure.in.orig	Tue Jun 25 05:20:59 2002
+++ src/configure.in	Tue Jun 25 05:22:20 2002
@@@@ -16,7 +16,7 @@@@
d12 1
a12 1
@@@@ -145,31 +145,6 @@@@
@


1.1
log
@Initial revision
@
text
@d1 3
a3 4
$OpenBSD$
--- src/configure.in.orig	Wed Sep 19 22:32:16 2001
+++ src/configure.in	Sun Mar  3 09:47:11 2002
@@@@ -16,7 +16,7 @@@@ dnl See also: remarks supplied in the de
d6 1
a6 1
 echo -- Where is our compiler, and who are we compiling for?
a8 1
 CXXFLAGS=$CFLAGS
d10 3
a12 13
 AC_PROG_CXX
@@@@ -29,6 +29,10 @@@@ case "$target" in
 		CFLAGS="$CFLAGS -D__LINUX__"
         	NFLAGS="$NFLAGS -D__LINUX__ -f elf"
 		;;
+	*-*-*openbsd*)
+		CFLAGS="$CFLAGS -D__LINUX__ -D__FreeBSD__"
+		NFLAGS="$NFLAGS -D__LINUX__ -D__FreeBSD__ -f aoutb"
+		;;
 	*-*-*bsd*)
 		CFLAGS="$CFLAGS -D__LINUX__ -D__FreeBSD__"
 		NFLAGS="$NFLAGS -D__LINUX__ -D__FreeBSD__ -f elf"
@@@@ -139,31 +143,6 @@@@ else
@


1.1.1.1
log
@Import zsnes 1.337; submitted by Wilbern Cobb <vedge@@csoft.org>.

ZSNES is a complete, featureful and highly optimized Super Nintendo
emulator written mostly in x86 assembler. It requires a CPU which
understands MMX instructions.
@
text
@@
