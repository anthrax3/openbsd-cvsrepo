head	1.3;
access;
symbols
	OPENBSD_3_0:1.2.0.8
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.6
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.4
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.2
	OPENBSD_2_7_BASE:1.2
	OPENBSD_2_6:1.1.1.1.0.4
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.2
	OPENBSD_2_5_BASE:1.1.1.1
	form_19981112:1.1.1.1
	form:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2002.02.04.05.10.29;	author form;	state dead;
branches;
next	1.2;

1.2
date	2000.01.26.13.52.39;	author form;	state Exp;
branches;
next	1.1;

1.1
date	98.11.12.13.13.09;	author form;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.11.12.13.13.09;	author form;	state Exp;
branches;
next	;


desc
@@


1.3
log
@upgrade to 2.8.5
@
text
@# $FreeBSD: ports/emulators/sim/files/Makefile,v 1.2 1999/12/22 22:14:11 jedgar Exp $
# $OpenBSD: Makefile,v 1.2 2000/01/26 13:52:39 form Exp $

CONTROL_FILES=	scp.c scp_tty.c

I1401_FILES=	i1401_cd.c i1401_cpu.c i1401_iq.c i1401_lp.c \
		i1401_mt.c i1401_sys.c

NOVA_FILES=	nova_clk.c nova_cpu.c nova_dkp.c nova_dsk.c \
		nova_lp.c nova_mta.c nova_pt.c nova_sys.c nova_tt.c

PDP11_FILES=	pdp11_cpu.c pdp11_fp.c pdp11_lp.c pdp11_rk.c pdp11_rl.c \
		pdp11_rp.c pdp11_rx.c pdp11_stddev.c pdp11_sys.c pdp11_tm.c \
		pdp11_cis.c

PDP18B_FILES=	pdp18b_cpu.c pdp18b_drm.c pdp18b_lp.c pdp18b_mt.c \
		pdp18b_rf.c pdp18b_rp.c pdp18b_stddev.c pdp18b_sys.c

PDP1_FILES=	pdp1_cpu.c pdp1_lp.c pdp1_stddev.c pdp1_sys.c

PDP8_FILES=	pdp8_clk.c pdp8_cpu.c pdp8_lp.c pdp8_mt.c pdp8_pt.c \
		pdp8_rf.c pdp8_rk.c pdp8_rx.c pdp8_sys.c pdp8_tt.c

all:	i1401 nova pdp1 pdp4 pdp7 pdp8 pdp9 pdp11 pdp15

i1401:	$(I1401_FILES) i1401_defs.h
	$(CC) $(CFLAGS) $(I1401_FILES) $(CONTROL_FILES) -o i1401

nova:	$(NOVA_FILES) nova_defs.h
	$(CC) $(CFLAGS) $(NOVA_FILES) $(CONTROL_FILES) -lm -o nova

pdp1:	$(PDP1_FILES) pdp1_defs.h
	$(CC) $(CFLAGS) $(PDP1_FILES) $(CONTROL_FILES) -o pdp1

pdp4:	$(PDP18B_FILES) pdp18b_defs.h
	$(CC) $(CFLAGS) -DPDP4 $(PDP18B_FILES) $(CONTROL_FILES) -lm -o pdp4

pdp7:	$(PDP18B_FILES) pdp18b_defs.h
	$(CC) $(CFLAGS) -DPDP7 $(PDP18B_FILES) $(CONTROL_FILES) -lm -o pdp7

pdp8:	$(PDP8_FILES) pdp8_defs.h
	$(CC) $(CFLAGS) $(PDP8_FILES) $(CONTROL_FILES) -lm -o pdp8

pdp9:	$(PDP18B_FILES) pdp18b_defs.h
	$(CC) $(CFLAGS) -DPDP9 $(PDP18B_FILES) $(CONTROL_FILES) -lm -o pdp9

pdp11:	$(PDP11_FILES) pdp11_defs.h
	$(CC) $(CFLAGS) $(PDP11_FILES) $(CONTROL_FILES) -lm -o pdp11

pdp15:	$(PDP18B_FILES) pdp18b_defs.h
	$(CC) $(CFLAGS) -DPDP15 $(PDP18B_FILES) $(CONTROL_FILES) -lm -o pdp15

clean:
	rm -f *.o i1401 nova pdp1 pdp4 pdp7 pdp8 pdp9 pdp11 pdp15

#.include <bsd.prog.mk>
@


1.2
log
@Update to 2.3d
@
text
@d2 1
a2 1
# $OpenBSD: $
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
PRGS=i1401 nova pdp1 pdp4 pdp7 pdp8 pdp9 pdp11 pdp15
d4 1
a4 1
all: ${PRGS}
d6 51
a56 52
install:
	@@for file in ${PRGS}; do \
		${BSD_INSTALL_PROGRAM} $$file ${PREFIX}/bin/simh-$$file; \
	done
	${BSD_INSTALL_DATA} simh_doc.txt ${PREFIX}/share/doc/

.SUFFIXES: .4o .7o .9o .15o
.c.4o:
	${COMPILE.c} -o $@@ -DPDP4 $<
.c.7o:
	${COMPILE.c} -o $@@ -DPDP7 $<
.c.9o:
	${COMPILE.c} -o $@@ -DPDP9 $<
.c.15o:
	${COMPILE.c} -o $@@ -DPDP15 $<

SCP=scp.o scp_tty.o

i1401: i1401_cd.o i1401_cpu.o i1401_iq.o i1401_lp.o i1401_mt.o i1401_sys.o \
       ${SCP}
	${LINK.c} -o $@@ $>

nova: nova_clk.o nova_cpu.o nova_dkp.o nova_dsk.o nova_lp.o nova_mta.o \
      nova_pt.o nova_sys.o nova_tt.o ${SCP}
	${LINK.c} -o $@@ $> -lm

pdp1: pdp1_cpu.o pdp1_lp.o pdp1_stddev.o pdp1_sys.o ${SCP}
	${LINK.c} -o $@@ $>

pdp4: pdp18b_cpu.4o pdp18b_drm.4o pdp18b_lp.4o pdp18b_mt.4o pdp18b_rf.4o \
      pdp18b_rp.4o pdp18b_stddev.4o pdp18b_sys.4o ${SCP}
	${LINK.c} -o $@@ $> -lm

pdp7: pdp18b_cpu.7o pdp18b_drm.7o pdp18b_lp.7o pdp18b_mt.7o pdp18b_rf.7o \
      pdp18b_rp.7o pdp18b_stddev.7o pdp18b_sys.7o ${SCP}
	${LINK.c} -o $@@ $> -lm

pdp8: pdp8_clk.o pdp8_cpu.o pdp8_lp.o pdp8_mt.o pdp8_pt.o pdp8_rf.o \
      pdp8_rk.o pdp8_rx.o pdp8_sys.o pdp8_tt.o ${SCP}
	${LINK.c} -o $@@ $> -lm

pdp9: pdp18b_cpu.9o pdp18b_drm.9o pdp18b_lp.9o pdp18b_mt.9o pdp18b_rf.9o \
      pdp18b_rp.9o pdp18b_stddev.9o pdp18b_sys.9o ${SCP}
	${LINK.c} -o $@@ $> -lm

pdp11: pdp11_cpu.o pdp11_fp.o pdp11_lp.o pdp11_rk.o pdp11_rl.o pdp11_rp.o \
       pdp11_rx.o pdp11_stddev.o pdp11_sys.o pdp11_tm.o ${SCP}
	${LINK.c} -o $@@ $> -lm

pdp15: pdp18b_cpu.15o pdp18b_drm.15o pdp18b_lp.15o pdp18b_mt.15o pdp18b_rf.15o \
       pdp18b_rp.15o pdp18b_stddev.15o pdp18b_sys.15o ${SCP}
	${LINK.c} -o $@@ $> -lm
@


1.1.1.1
log
@A PDP, IBM 1401, and Nova CPU simulator
@
text
@@
