head	1.78;
access;
symbols
	OPENBSD_6_1:1.77.0.14
	OPENBSD_6_1_BASE:1.77
	OPENBSD_6_0:1.77.0.12
	OPENBSD_6_0_BASE:1.77
	OPENBSD_5_9:1.77.0.8
	OPENBSD_5_9_BASE:1.77
	OPENBSD_5_8:1.77.0.10
	OPENBSD_5_8_BASE:1.77
	OPENBSD_5_7:1.77.0.6
	OPENBSD_5_7_BASE:1.77
	OPENBSD_5_6:1.77.0.4
	OPENBSD_5_6_BASE:1.77
	OPENBSD_5_5:1.77.0.2
	OPENBSD_5_5_BASE:1.77
	OPENBSD_5_4:1.76.0.2
	OPENBSD_5_4_BASE:1.76
	OPENBSD_5_3:1.75.0.2
	OPENBSD_5_3_BASE:1.75
	OPENBSD_5_2:1.73.0.2
	OPENBSD_5_2_BASE:1.73
	OPENBSD_5_1_BASE:1.72
	OPENBSD_5_1:1.72.0.2
	OPENBSD_5_0:1.69.0.2
	OPENBSD_5_0_BASE:1.69
	OPENBSD_4_9:1.68.0.2
	OPENBSD_4_9_BASE:1.68
	OPENBSD_4_8:1.67.0.2
	OPENBSD_4_8_BASE:1.67
	OPENBSD_4_7:1.66.0.2
	OPENBSD_4_7_BASE:1.66
	OPENBSD_4_6:1.63.0.2
	OPENBSD_4_6_BASE:1.63
	OPENBSD_4_5:1.62.0.2
	OPENBSD_4_5_BASE:1.62
	OPENBSD_4_4:1.60.0.4
	OPENBSD_4_4_BASE:1.60
	OPENBSD_4_3:1.60.0.2
	OPENBSD_4_3_BASE:1.60
	OPENBSD_4_2:1.58.0.2
	OPENBSD_4_2_BASE:1.58
	OPENBSD_4_1:1.56.0.2
	OPENBSD_4_1_BASE:1.56
	OPENBSD_4_0:1.55.0.2
	OPENBSD_4_0_BASE:1.55
	OPENBSD_3_9:1.53.0.2
	OPENBSD_3_9_BASE:1.53
	OPENBSD_3_8:1.48.0.2
	OPENBSD_3_8_BASE:1.48
	OPENBSD_3_7:1.47.0.2
	OPENBSD_3_7_BASE:1.47
	OPENBSD_3_6:1.45.0.2
	OPENBSD_3_6_BASE:1.45
	OPENBSD_3_5:1.44.0.2
	OPENBSD_3_5_BASE:1.44
	OPENBSD_3_4:1.39.0.2
	OPENBSD_3_4_BASE:1.39
	OPENBSD_3_3:1.36.0.2
	OPENBSD_3_3_BASE:1.36
	OPENBSD_3_2:1.28.0.2
	OPENBSD_3_2_BASE:1.28
	OPENBSD_3_1:1.20.0.2
	OPENBSD_3_1_BASE:1.20
	OPENBSD_3_0:1.12.0.4
	OPENBSD_3_0_BASE:1.12
	OPENBSD_2_9_TRACKING_SWITCH:1.12
	OPENBSD_2_9:1.12.0.2
	OPENBSD_2_9_BASE:1.12
	OPENBSD_2_8:1.11.0.2
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.8.0.2
	OPENBSD_2_7_BASE:1.8
	OPENBSD_2_6:1.2.0.4
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	form_19981112:1.1.1.1
	form:1.1.1;
locks; strict;
comment	@# @;


1.78
date	2017.05.13.20.11.24;	author espie;	state Exp;
branches;
next	1.77;
commitid	2zFfuy80LHsYvbWR;

1.77
date	2013.11.25.14.16.22;	author sthen;	state Exp;
branches;
next	1.76;

1.76
date	2013.03.11.11.06.04;	author espie;	state Exp;
branches;
next	1.75;

1.75
date	2012.10.27.23.58.41;	author okan;	state Exp;
branches;
next	1.74;

1.74
date	2012.08.19.21.20.52;	author jasper;	state Exp;
branches;
next	1.73;

1.73
date	2012.07.10.00.07.44;	author sthen;	state Exp;
branches;
next	1.72;

1.72
date	2011.12.24.12.57.10;	author sthen;	state Exp;
branches;
next	1.71;

1.71
date	2011.10.16.15.03.24;	author naddy;	state Exp;
branches;
next	1.70;

1.70
date	2011.10.07.19.39.09;	author sthen;	state Exp;
branches;
next	1.69;

1.69
date	2011.04.20.05.16.33;	author form;	state Exp;
branches;
next	1.68;

1.68
date	2010.10.23.22.01.30;	author sthen;	state Exp;
branches;
next	1.67;

1.67
date	2010.03.21.09.26.49;	author jasper;	state Exp;
branches;
next	1.66;

1.66
date	2009.10.29.10.09.14;	author form;	state Exp;
branches;
next	1.65;

1.65
date	2009.10.29.09.07.38;	author form;	state Exp;
branches;
next	1.64;

1.64
date	2009.10.03.01.57.33;	author form;	state Exp;
branches;
next	1.63;

1.63
date	2009.03.06.10.33.23;	author form;	state Exp;
branches;
next	1.62;

1.62
date	2009.02.06.09.39.02;	author form;	state Exp;
branches;
next	1.61;

1.61
date	2008.11.04.22.13.30;	author sthen;	state Exp;
branches;
next	1.60;

1.60
date	2007.09.23.02.27.39;	author fgsch;	state Exp;
branches;
next	1.59;

1.59
date	2007.09.16.00.45.13;	author merdely;	state Exp;
branches;
next	1.58;

1.58
date	2007.07.24.20.45.41;	author kili;	state Exp;
branches;
next	1.57;

1.57
date	2007.05.10.21.01.15;	author matthieu;	state Exp;
branches;
next	1.56;

1.56
date	2006.09.25.11.21.26;	author fgsch;	state Exp;
branches;
next	1.55;

1.55
date	2006.07.10.17.55.44;	author fgsch;	state Exp;
branches;
next	1.54;

1.54
date	2006.07.08.11.19.41;	author fgsch;	state Exp;
branches;
next	1.53;

1.53
date	2006.02.09.11.31.11;	author fgsch;	state Exp;
branches;
next	1.52;

1.52
date	2006.01.12.11.40.13;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2005.12.21.02.24.55;	author fgsch;	state Exp;
branches;
next	1.50;

1.50
date	2005.12.21.01.32.28;	author fgsch;	state Exp;
branches;
next	1.49;

1.49
date	2005.10.24.15.53.26;	author fgsch;	state Exp;
branches;
next	1.48;

1.48
date	2005.06.19.03.47.25;	author david;	state Exp;
branches;
next	1.47;

1.47
date	2004.11.27.10.39.14;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2004.10.26.19.52.32;	author pvalchev;	state Exp;
branches;
next	1.45;

1.45
date	2004.04.08.06.25.17;	author brad;	state Exp;
branches;
next	1.44;

1.44
date	2003.12.04.05.46.31;	author pvalchev;	state Exp;
branches;
next	1.43;

1.43
date	2003.09.30.14.46.45;	author fgsch;	state Exp;
branches;
next	1.42;

1.42
date	2003.09.23.06.57.37;	author grange;	state Exp;
branches;
next	1.41;

1.41
date	2003.09.22.19.20.16;	author pvalchev;	state Exp;
branches;
next	1.40;

1.40
date	2003.09.22.13.47.55;	author grange;	state Exp;
branches;
next	1.39;

1.39
date	2003.08.19.04.47.59;	author fgsch;	state Exp;
branches;
next	1.38;

1.38
date	2003.07.04.16.18.05;	author fgsch;	state Exp;
branches;
next	1.37;

1.37
date	2003.05.28.16.31.07;	author fgsch;	state Exp;
branches;
next	1.36;

1.36
date	2003.02.03.08.34.32;	author fgsch;	state Exp;
branches;
next	1.35;

1.35
date	2003.02.03.08.20.19;	author fgsch;	state Exp;
branches;
next	1.34;

1.34
date	2003.02.02.20.19.56;	author fgsch;	state Exp;
branches;
next	1.33;

1.33
date	2002.11.28.17.02.12;	author fgsch;	state Exp;
branches;
next	1.32;

1.32
date	2002.11.28.16.47.46;	author fgsch;	state Exp;
branches;
next	1.31;

1.31
date	2002.11.28.16.41.11;	author fgsch;	state Exp;
branches;
next	1.30;

1.30
date	2002.10.29.23.55.01;	author fgsch;	state Exp;
branches;
next	1.29;

1.29
date	2002.10.26.12.52.48;	author naddy;	state Exp;
branches;
next	1.28;

1.28
date	2002.09.01.18.49.01;	author mpech;	state Exp;
branches;
next	1.27;

1.27
date	2002.06.10.02.37.10;	author form;	state Exp;
branches;
next	1.26;

1.26
date	2002.05.06.06.27.53;	author form;	state Exp;
branches;
next	1.25;

1.25
date	2002.05.06.06.23.08;	author form;	state Exp;
branches;
next	1.24;

1.24
date	2002.05.06.06.17.02;	author form;	state Exp;
branches;
next	1.23;

1.23
date	2002.05.06.04.09.52;	author form;	state Exp;
branches;
next	1.22;

1.22
date	2002.04.29.02.25.39;	author form;	state Exp;
branches;
next	1.21;

1.21
date	2002.04.24.10.51.46;	author form;	state Exp;
branches;
next	1.20;

1.20
date	2002.04.08.02.47.41;	author form;	state Exp;
branches;
next	1.19;

1.19
date	2002.03.26.08.20.19;	author form;	state Exp;
branches;
next	1.18;

1.18
date	2002.03.26.07.37.21;	author form;	state Exp;
branches;
next	1.17;

1.17
date	2002.03.21.20.46.26;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2002.03.07.05.19.35;	author form;	state Exp;
branches;
next	1.15;

1.15
date	2002.02.18.07.45.59;	author form;	state Exp;
branches;
next	1.14;

1.14
date	2002.02.04.10.56.39;	author form;	state Exp;
branches;
next	1.13;

1.13
date	2002.02.04.05.10.29;	author form;	state Exp;
branches;
next	1.12;

1.12
date	2001.03.29.10.05.39;	author form;	state Exp;
branches;
next	1.11;

1.11
date	2000.10.22.14.03.11;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.06.14.16.50.19;	author form;	state Exp;
branches;
next	1.9;

1.9
date	2000.05.31.15.35.01;	author form;	state Exp;
branches;
next	1.8;

1.8
date	2000.04.09.17.36.26;	author espie;	state Exp;
branches
	1.8.2.1;
next	1.7;

1.7
date	2000.03.24.22.11.41;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.16.22.26.18;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.22.17.08.39;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.10.23.14.30;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2000.01.26.13.52.39;	author form;	state Exp;
branches;
next	1.2;

1.2
date	99.04.01.06.20.12;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	98.11.12.13.13.09;	author form;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.11.12.13.13.09;	author form;	state Exp;
branches;
next	;

1.8.2.1
date	2000.09.15.04.50.45;	author marc;	state Exp;
branches;
next	;


desc
@@


1.78
log
@clang just does not do lto in our configuration
@
text
@# $OpenBSD: Makefile,v 1.77 2013/11/25 14:16:22 sthen Exp $

COMMENT=		PDP, IBM 1401, Nova and other CPUs simulator

DISTNAME=		simhv39-0
PKGNAME=		simh-3.9.0
REVISION=		1
CATEGORIES=		emulators
MASTER_SITES=		${HOMEPAGE}/sources/
EXTRACT_SUFX=		.zip

HOMEPAGE=		http://simh.trailing-edge.com/

# MIT
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c m pcap pthread

WRKDIST=		${WRKDIR}

UNZIP=			unzip -a -o

CFLAGS+=		-DPATH_KA655X_BIN=\"${PREFIX}/lib/simh/vax/ka655x.bin\" \
			-DPATH_VMB_EXE=\"${PREFIX}/lib/simh/vax/vmb.exe\"

USE_GMAKE=		Yes
MAKE_FILE=		makefile

MAKE_FLAGS=		GCC="${CC}" USE_NETWORK=1

# makefile magic detects clang does lto, but we don't have the linker
MAKE_FLAGS +=		NO_LTO=1

NO_TEST=		Yes

pre-build:
	@@mkdir -p ${WRKBUILD}/BIN

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/lib/simh/vax
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/simh
	@@cd ${WRKBUILD}/BIN && for f in `echo *`; do \
	    ${INSTALL_PROGRAM} $${f} ${PREFIX}/bin/simh-$${f}; \
	done;
	${INSTALL_DATA} ${WRKDIST}/VAX/ka655x.bin ${PREFIX}/lib/simh/vax
	${INSTALL_DATA} ${WRKDIST}/VAX/vmb.exe ${PREFIX}/lib/simh/vax
	${INSTALL_DATA} ${WRKBUILD}/*.txt ${WRKBUILD}/*/*.txt \
	    ${PREFIX}/share/doc/simh

.include <bsd.port.mk>
@


1.77
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2013/03/11 11:06:04 espie Exp $
d28 1
d30 3
@


1.76
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2012/10/27 23:58:41 okan Exp $
a30 1
VMEM_WARNING=		Yes
@


1.75
log
@bump the default ram for KA665X from 16mb to 128mb, based on various
feedback/bikesheding for what a reasonable default could be for an
emulated vax.  this doesn't stop one from lowering the default via
a config file.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2012/08/19 21:20:52 jasper Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d30 1
a30 1
NO_REGRESS=		Yes
@


1.74
log
@- remove now unneeded -lpthread/-pthread patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2012/07/10 00:07:44 sthen Exp $
d7 1
a7 1
REVISION=		0
@


1.73
log
@update to simh 3.9.0, from Brad, tested by me and william@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2011/12/24 12:57:10 sthen Exp $
d7 1
@


1.72
log
@- Fix up the compiler flags and enable the extended file support
to allow for more sane hard drive sizes.  From Brad.

- Honour CC.
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.71 2011/10/16 15:03:24 naddy Exp $
# $NetBSD: Makefile,v 1.2 1998/08/23 20:48:03 frueauf Exp $
d5 2
a6 3
PKGNAME=		simh-3.8.1
DISTNAME=		simhv38-1
REVISION=		6
d9 1
d19 1
a19 1
WANTLIB=		c m pcap
a21 4
EXTRACT_SUFX=		.zip
MASTER_SITES0=		http://spacehopper.org/mirrors/
# Files from http://simh.trailing-edge.com/interim.html repackaged as a diff
PATCHFILES=		simh-3.8.1-interim.diff:0
d25 2
a26 2
COPTS+=		-DPATH_KA655X_BIN=\"${PREFIX}/lib/simh/vax/ka655x.bin\" \
		-DPATH_VMB_EXE=\"${PREFIX}/lib/simh/vax/vmb.exe\"
d28 1
d30 1
a30 1
MAKE_FLAGS=		CC="${CC}"
d39 2
a43 1
	${INSTALL_DATA_DIR} ${PREFIX}/lib/simh/vax
a45 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/simh
@


1.71
log
@remove maintainer by his request (as forwarded by mikeb@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/10/07 19:39:09 sthen Exp $
d8 1
a8 1
REVISION=		5
d34 1
@


1.70
log
@add some fixes from upstream, found by dcoppa@@

normalize DISTNAME handling while there (allowing the above to be done
as a PATCHFILES).

maintainer's email bounces. ok dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/04/20 05:16:33 form Exp $
d8 1
a8 1
REVISION=		4
a10 2

MAINTAINER=		Oleg Safiullin <form@@openbsd.org>
@


1.69
log
@fix RK06/RK07 write operation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2010/10/23 22:01:30 sthen Exp $
d6 3
a8 2
DISTNAME=		simh-3.8.1
REVISION=		3
a10 1
DISTFILES=		simhv38-1.zip
d25 4
@


1.68
log
@revision/lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2010/03/21 09:26:49 jasper Exp $
d7 1
a7 1
REVISION=		2
@


1.67
log
@- tweak master sites
- set license version
- honor cflags
- regen patches

maintainer timed-out.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2009/10/29 10:09:14 form Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
d21 1
@


1.66
log
@set direction filter
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2009/10/29 09:07:38 form Exp $
d9 1
a9 1
MASTER_SITES=		http://simh.trailing-edge.com/sources/
d16 1
@


1.65
log
@bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2009/10/03 01:57:33 form Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
@


1.64
log
@allow `set console wru=0' command to completely
disable interrupt character
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2009/03/06 10:33:23 form Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.63
log
@update to 3.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2009/02/06 09:39:02 form Exp $
d7 1
@


1.62
log
@o take maintainership
o bump PKGNAMEs

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2008/11/04 22:13:30 sthen Exp $
d6 1
a6 2
DISTNAME=		simh-3.8.0
PKGNAME=		${DISTNAME}p0
d9 1
a9 1
DISTFILES=		simhv38-0.zip
@


1.61
log
@update to 3.8.0, based on a diff from Sergey Prysiazhnyi.
tweaked by Giovanni Bechis and myself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2007/09/23 02:27:39 fgsch Exp $
d7 1
d11 2
@


1.60
log
@update to 3.7.3. patch to enable "set cpu idle" from
Oleg Safiullin <form at pdp-11 dot org dot ru>. kurt@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2007/09/16 00:45:13 merdely Exp $
d6 1
a6 2
DISTNAME=		simh-3.7.3
PKGNAME=		${DISTNAME}
d9 1
a9 1
DISTFILES=		simhv37-3.zip
@


1.59
log
@Removed surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2007/07/24 20:45:41 kili Exp $
d6 1
a6 1
DISTNAME=		simh-3.7.2
d10 1
a10 1
DISTFILES=		simhv37-2.zip
a12 2

MAINTAINER=		Federico G. Schwindt <fgsch@@openbsd.org>
@


1.58
log
@
Update to 3.7.2.

ok, fgsch (maintainer), kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2007/05/10 21:01:15 matthieu Exp $
d4 1
a4 1
COMMENT=		"PDP, IBM 1401, Nova and other CPUs simulator"
@


1.57
log
@Update to 3.7. todd@@ sent me an almost identical patch. Tested and ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2006/09/25 11:21:26 fgsch Exp $
d6 1
a6 1
DISTNAME=		simh-3.7
d10 1
a10 1
DISTFILES=		simhv37-0.zip
@


1.56
log
@update to 3.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2006/07/10 17:55:44 fgsch Exp $
d6 1
a6 1
DISTNAME=		simh-3.6.1
d10 1
a10 1
DISTFILES=		simhv36-1.zip
@


1.55
log
@o install bootrom code for VAX780
o use installed bootrom code on VAX780 emulator
o adds support for 16-line DHU/DHV interfaces (vh). Checked on
  RSX-11M-PLUS 4.0 w/ 4 DHx multiplexers.
from Oleg Safiullin (form at pdp-11 dot org dot ru)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2006/07/08 11:19:41 fgsch Exp $
d6 2
a7 2
DISTNAME=		simh-3.6.0
PKGNAME=		${DISTNAME}p0
d10 1
a10 1
DISTFILES=		simhv36-0.zip
@


1.54
log
@Update to 3.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2006/02/09 11:31:11 fgsch Exp $
d7 1
d26 3
a28 1
COPTS+=			-DPATH_KA655X_BIN=\"${PREFIX}/lib/simh/vax/ka655x.bin\"
d43 1
@


1.53
log
@Update to 3.5.2; see http://simh.trailing-edge.com/changes35.html
for changelog.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2006/01/12 11:40:13 espie Exp $
d6 1
a6 1
DISTNAME=		simh-3.5.2
d9 1
a9 1
DISTFILES=		simhv35-2.zip
@


1.52
log
@fix pkgname according to packages-specs(7)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2005/12/21 02:24:55 fgsch Exp $
d6 1
a6 2
DISTNAME=		simh-3.5.1
PKGNAME=		$(DISTNAME)p1
d9 1
a9 1
DISTFILES=		simhv35-1.zip
a38 1
	${INSTALL_DATA} ${WRKDIST}/VAX/ka655.bin ${PREFIX}/lib/simh/vax
@


1.51
log
@and make this backwards compatible regarding interface names; found the
hard way by matthieu@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2005/12/21 01:32:28 fgsch Exp $
d6 2
a7 2
DISTNAME=		simh-3.5-1
PKGNAME=		${DISTNAME}p1
@


1.50
log
@remove unneeded patches; pcap now includes these functions.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2005/10/24 15:53:26 fgsch Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.49
log
@update to simh 3.5-1. mentioned by pedro@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2005/06/19 03:47:25 david Exp $
d7 1
@


1.48
log
@update to simh-3.4-0; ok fgsch@@ kettenis@@
adds extended memory support for VAX allowing up to 512MB of memory
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2004/11/27 10:39:14 espie Exp $
d6 1
a6 1
DISTNAME=		simh-3.4-0
d9 1
a9 1
DISTFILES=		simhv34-0.zip
d25 1
a25 2
COPTS+=			-DUSE_SOCKLEN_T \
			-DPATH_KA655X_BIN=\"${PREFIX}/lib/simh/vax/ka655x.bin\"
@


1.47
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2004/10/26 19:52:32 pvalchev Exp $
d6 1
a6 1
DISTNAME=		simh-3.0-2
d9 1
a9 1
DISTFILES=		simhv30-2.zip
d26 1
a26 1
			-DPATH_KA655_BIN=\"${PREFIX}/lib/simh/vax/ka655.bin\"
d41 1
@


1.46
log
@remove alpha/sparc64 workaround for a gcc bug that no longer seems to exist
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2004/04/08 06:25:17 brad Exp $
d19 1
@


1.45
log
@ugh, use -p flag with mkdir
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2003/12/04 05:46:31 pvalchev Exp $
a26 4

.if ${MACHINE_ARCH} == "alpha" || ${MACHINE_ARCH} == "sparc64"
COPTS+=			-O0
.endif
@


1.44
log
@COPTS+=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2003/09/30 14:46:45 fgsch Exp $
d36 1
a36 1
	@@mkdir ${WRKBUILD}/BIN
@


1.43
log
@update to simh 3.0-2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2003/09/23 06:57:37 grange Exp $
d24 1
a24 1
COPTS=			-DUSE_SOCKLEN_T \
@


1.42
log
@Better vax cpu boot handling; from form@@pdp11.org.ru
fgsch@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2003/09/22 19:20:16 pvalchev Exp $
d6 1
a6 1
DISTNAME=		simh-3.0-1
d9 1
a9 1
DISTFILES=		simhv30-1.zip
@


1.41
log
@back out unapproved commit during tree lock
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2003/08/19 04:47:59 fgsch Exp $
d24 2
a25 1
COPTS=			-DUSE_SOCKLEN_T
@


1.40
log
@Better VAX boot handling; from form@@
ok fgsch@@ before lock
@
text
@d24 1
a24 2
COPTS=			-DUSE_SOCKLEN_T \
			-DPATH_KA655_BIN=\"${PREFIX}/lib/simh/vax/ka655.bin\"
@


1.39
log
@update to simh 3.0-1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2003/07/04 16:18:05 fgsch Exp $
d24 2
a25 1
COPTS=			-DUSE_SOCKLEN_T
@


1.38
log
@update to simh 3.0 and put myself as maintainer.
more updates to come.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2003/05/28 16:31:07 fgsch Exp $
d6 1
a6 1
DISTNAME=		simh-3.0
d9 1
a9 1
DISTFILES=		simhv30-0.zip
@


1.37
log
@update to simh 2.10-4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2003/02/03 08:34:32 fgsch Exp $
d6 1
a6 2
VER=			2.10-4
DISTNAME=		simh-${VER}
d9 1
a9 1
DISTFILES=		simhv${VER:S/.//}.zip
d12 2
@


1.36
log
@simplify even more.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2003/02/03 08:20:19 fgsch Exp $
d6 1
a6 1
VER=			2.10-2
@


1.35
log
@simplify a bit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2003/02/02 20:19:56 fgsch Exp $
d38 1
a38 1
	    ${INSTALL_PROGRAM} ${WRKBUILD}/BIN/$${f} ${PREFIX}/bin/simh-$${f}; \
@


1.34
log
@simh 2.10-2. see http://simh.trailing-edge.com/changes210.html for details.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2002/11/28 17:02:12 fgsch Exp $
a30 5

SIMS=			altair altairz80 eclipse gri h316 hp2100 i1401 i1620 \
			ibm1130 id16 id32 nova pdp1 pdp10 pdp11 pdp15 pdp4 \
			pdp7 pdp8 pdp9 s3 sds vax

d37 3
a39 3
.for f in ${SIMS}
	${INSTALL_PROGRAM} ${WRKBUILD}/BIN/${f} ${PREFIX}/bin/simh-${f}
.endfor
d44 1
a44 1
		${PREFIX}/share/doc/simh
@


1.33
log
@some simulators were not installed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2002/11/28 16:47:46 fgsch Exp $
d6 2
a7 1
DISTNAME=		simh-2.10-1
d10 1
a10 1
DISTFILES=		simhv210-1.zip
d24 1
a24 1
MAKE_FILE=		makefile_ether
d33 2
a34 2
			ibm1130 nova pdp1 pdp10 pdp11 pdp15 pdp4 pdp7 pdp8 \
			pdp9 s3 vax
@


1.32
log
@ops, forgot to update this.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2002/11/28 16:41:11 fgsch Exp $
d31 3
a33 2
SIMS=			altair altairz80 eclipse h316 hp2100 i1401 nova pdp1 \
			pdp10 pdp11 pdp15 pdp4 pdp7 pdp8 pdp9 s3 vax
@


1.31
log
@Update to simh 2.10-1; interdata and sds simulators are not included.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2002/10/29 23:55:01 fgsch Exp $
a37 2
#	@@cp ${WRKDIST}/AltairZ80/altairZ80_defs.h \
#	    ${WRKDIR}/AltairZ80/altairz80_defs.h
@


1.30
log
@o update to simh 2.10b3.
o include DELQA and DEQNA ethernet support for vax and pdp11.

some diffs have been submited for future inclusion.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2002/10/26 12:52:48 naddy Exp $
d6 1
a6 1
DISTNAME=		simh-2.10b3
d9 1
a9 1
DISTFILES=		simhv210-0b3.zip xq_beta5.zip
d23 1
a23 1
MAKE_FILE=		makefile
d38 2
a39 2
	@@cp ${WRKDIST}/AltairZ80/altairZ80_defs.h \
	    ${WRKDIR}/AltairZ80/altairz80_defs.h
a44 1
	${INSTALL_DATA_DIR} ${PREFIX}/lib/simh
@


1.29
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2002/09/01 18:49:01 mpech Exp $
d6 1
a6 1
DISTNAME=		simh-2.9.10
a7 1

d9 1
a9 1
DISTFILES=		simhv29-10.zip
d20 1
a20 1
UNZIP=			unzip -a
d23 1
d34 2
d37 3
a39 1
	@@mkdir ${WRKDIST}/BIN
@


1.28
log
@Remove Oleg Safiullin from MAINTAINERS.

form@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2002/06/10 02:37:10 form Exp $
d8 1
a8 1
NEED_VERSION=		1.515
d28 2
@


1.27
log
@update to 2.9.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2002/05/06 06:27:53 form Exp $
a12 2

MAINTAINER=		Oleg Safiullin <form@@openbsd.org>
@


1.26
log
@#$%&! I need sleep more :)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/05/06 06:23:08 form Exp $
d6 1
a6 1
DISTNAME=		simh-2.9.9
d10 1
a10 1
DISTFILES=		simhv29-9.zip
@


1.25
log
@oops
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/05/06 06:17:02 form Exp $
d43 1
a43 1
	${INSTALL_DATA} ${WRKDIST}/VAX/ka655.bin ${PREFIX}/share/lib/simh/vax
@


1.24
log
@install KA655 boot ROM image for simh-vax
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/05/06 04:09:52 form Exp $
d41 2
a42 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/lib/simh
	${INSTALL_DATA_DIR} ${PREFIX}/share/lib/simh/vax
@


1.23
log
@update to 2.9.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2002/04/29 02:25:39 form Exp $
d41 3
@


1.22
log
@update to 2.9.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2002/04/24 10:51:46 form Exp $
d6 1
a6 1
DISTNAME=		simh-2.9.7
d10 1
a10 1
DISTFILES=		simhv29.zip
@


1.21
log
@upgrade to 2.9.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2002/04/08 02:47:41 form Exp $
d6 1
a6 1
DISTNAME=		simh-2.9.6
@


1.20
log
@version changed (2.9.4)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/03/26 08:20:19 form Exp $
d6 1
a6 1
DISTNAME=		simh-2.9.4
d10 1
a10 1
DISTFILES=		simhv29.zip vaxpre.zip
@


1.19
log
@Fix distinfo, add VAX support.
Thanks to Federico G. Schwindt <fgsch@@olimpo.com.br>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/03/26 07:37:21 form Exp $
d6 1
a6 1
DISTNAME=		simh-2.9.3
@


1.18
log
@Upgrade to 2.9.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/03/21 20:46:26 espie Exp $
d9 2
a10 3
MASTER_SITES=		ftp://ftp.openbsd.ru/pub/PDP-11/Emulators/SIMH/2.9.2/ \
			http://simh.trailing-edge.com/sources/
DISTFILES=		simhv29.zip
d23 2
d32 1
a32 1
			pdp10 pdp11 pdp15 pdp4 pdp7 pdp8 pdp9 s3
d34 2
a35 4
post-extract:
	@@cd ${WRKDIST} && mkdir BIN && \
		find . -type f -exec \
		sh -c 'tr -d \\015 < {} > {}.TMP && mv -f {}.TMP {}' \;
@


1.17
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/03/07 05:19:35 form Exp $
d6 1
a6 1
DISTNAME=		simh-2.9.2
d23 6
@


1.16
log
@update to 2.9.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/02/18 07:45:59 form Exp $
d8 1
@


1.15
log
@upgrade to 2.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/02/04 10:56:39 form Exp $
d6 1
a6 1
DISTNAME=		simh-2.9.1
d8 1
a8 1
MASTER_SITES=		ftp://ftp.openbsd.ru/pub/OpenBSD/distfiles/ \
@


1.14
log
@upgrade to 2.9.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/02/04 05:10:29 form Exp $
d6 1
a6 1
DISTNAME=		simh-2.9.0
@


1.13
log
@upgrade to 2.8.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/03/29 10:05:39 form Exp $
d6 1
a6 1
DISTNAME=		simh-2.8.5
d8 3
a10 2
MASTER_SITES=		http://simh.trailing-edge.com/sources/
DISTFILES=		simhv28.zip
d23 2
a24 4
MAKE_FILE=		makefile

SIMS=			altair eclipse h316 hp2100 i1401 nova pdp1 pdp10 \
			pdp11 pdp15 pdp4 pdp7 pdp8 pdp9 s3
d27 1
a27 1
	@@cd ${WRKDIST} && \
@


1.12
log
@editors/net
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/10/22 14:03:11 espie Exp $
d4 1
a4 1
COMMENT=	"PDP, IBM 1401, and Nova CPU simulator"
d6 4
a9 5
DISTNAME=	sim_2.3d
PKGNAME=	simh-2.3d
CATEGORIES=	emulators
NEED_VERSION=	1.210
MASTER_SITES=	ftp://minnie.cs.adfa.oz.au/pub/PDP-11/Sims/Supnik_2.3/sources/
d11 1
a11 1
MAINTAINER=	Oleg Safiullin <form@@openbsd.org>
d13 3
a15 1
PERMIT_PACKAGE_CDROM=	No
d17 1
a17 1
PERMIT_DISTFILES_CDROM=	No
d20 6
a25 1
WRKDIST=	${WRKDIR}
d27 4
a30 1
MAKE_FILE=	${FILESDIR}/Makefile
d33 2
a34 2
.for f in i1401 nova pdp1 pdp4 pdp7 pdp8 pdp9 pdp11 pdp15
	${INSTALL_PROGRAM} ${WRKDIR}/${f} ${PREFIX}/bin/simh-${f}
d37 2
a38 1
	${INSTALL_DATA} ${WRKDIR}/simh_doc.txt ${PREFIX}/share/doc/simh
@


1.11
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/06/14 16:50:19 form Exp $
d3 2
@


1.10
log
@remove FAKE=yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/05/31 15:35:01 form Exp $
d10 1
a10 1
MAINTAINER=	form@@openbsd.org
@


1.9
log
@fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/04/09 17:36:26 espie Exp $
a7 1
FAKE=		Yes
@


1.8
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/03/24 22:11:41 espie Exp $
d8 1
a8 1
FAKE=No
@


1.8.2.1
log
@bring emulators as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/06/14 16:50:19 form Exp $
d8 1
@


1.7
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/03/16 22:26:18 turan Exp $
d8 1
@


1.6
log
@license
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/02/22 17:08:39 espie Exp $
d7 1
a8 1
NEED_VERSION=	1.210
@


1.5
log
@MAKEFILE-> MAKE_FILE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/10 23:14:30 espie Exp $
d11 5
@


1.4
log
@Kill NO_WRKSUBDIR.
Clean up a few deprecated variables on the fly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/01/26 13:52:39 form Exp $
d8 1
a8 1
NEED_VERSION=	1.191
d14 1
a14 1
MAKEFILE=	${FILESDIR}/Makefile
@


1.3
log
@Update to 2.3d
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/04/01 06:20:12 brad Exp $
d8 1
d12 1
a12 1
NO_WRKSUBDIR=	yes
@


1.2
log
@fix dependency lists, fix email address's and remove unnecessary comments
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/11/12 13:13:09 form Exp $
d4 2
a5 2
DISTNAME=	sim_2.3c
PKGNAME=	simh-2.3c
d9 1
a9 1
MAINTAINER=	ports@@openbsd.org
d14 7
@


1.1
log
@Initial revision
@
text
@d1 2
a2 3
# $OpenBSD: Makefile,v 1.0 1998/08/23 20:48:03 form Exp $
# NetBSD: Makefile,v 1.2 1998/08/23 20:48:03 frueauf Exp
#
d9 1
a9 1
MAINTAINER=	form@@OpenBSD.ORG
@


1.1.1.1
log
@A PDP, IBM 1401, and Nova CPU simulator
@
text
@@
