head	1.2;
access;
symbols
	OPENBSD_5_2:1.1.1.1.0.4
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.2
	stsp_20111226:1.1.1.1
	stsp:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2012.08.13.06.53.56;	author bentley;	state dead;
branches;
next	1.1;

1.1
date	2011.12.26.13.38.27;	author stsp;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.12.26.13.38.27;	author stsp;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update all emulators/mupen64plus plugins to 1.99.5.

This makes the emulator actually playable on i386, and removes all patches
(which had been taken from upstream).

ok stsp@@
@
text
@$OpenBSD: patch-source_mupen64plus-rsp-hle_src_ucode3_cpp,v 1.1 2011/12/26 13:38:27 stsp Exp $
--- src/ucode3.cpp.orig	Mon Dec 19 00:02:57 2011
+++ src/ucode3.cpp	Mon Dec 19 00:05:06 2011
@@@@ -534,17 +534,17 @@@@ static void LOADADPCM3 (void) { // Loads an ADPCM tabl
     //assert ((inst1&0xffff) <= 0x80);
     u16 *table = (u16 *)(rsp.RDRAM+v0);
     for (u32 x = 0; x < ((inst1&0xffff)>>0x4); x++) {
-        adpcmtable[0x0+(x<<3)^S] = table[0];
-        adpcmtable[0x1+(x<<3)^S] = table[1];
+        adpcmtable[(0x0+(x<<3))^S] = table[0];
+        adpcmtable[(0x1+(x<<3))^S] = table[1];
 
-        adpcmtable[0x2+(x<<3)^S] = table[2];
-        adpcmtable[0x3+(x<<3)^S] = table[3];
+        adpcmtable[(0x2+(x<<3))^S] = table[2];
+        adpcmtable[(0x3+(x<<3))^S] = table[3];
 
-        adpcmtable[0x4+(x<<3)^S] = table[4];
-        adpcmtable[0x5+(x<<3)^S] = table[5];
+        adpcmtable[(0x4+(x<<3))^S] = table[4];
+        adpcmtable[(0x5+(x<<3))^S] = table[5];
 
-        adpcmtable[0x6+(x<<3)^S] = table[6];
-        adpcmtable[0x7+(x<<3)^S] = table[7];
+        adpcmtable[(0x6+(x<<3))^S] = table[6];
+        adpcmtable[(0x7+(x<<3))^S] = table[7];
         table += 8;
     }
 }
@@@@ -939,7 +939,7 @@@@ static void INTERLEAVE3 (void) { // Needs accuracy ver
         Left2=*(inSrcL++);
         Right2=*(inSrcR++);
 
-#ifdef _BIG_ENDIAN
+#ifdef M64P_BIG_ENDIAN
         *(outbuff++)=Right;
         *(outbuff++)=Left;
         *(outbuff++)=Right2;
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Import port of mupen64plus, a Nintendo 64 emulator; ok bentley@@
@
text
@@
