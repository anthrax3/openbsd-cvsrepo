head	1.10;
access;
symbols
	OPENBSD_6_2:1.10.0.4
	OPENBSD_6_2_BASE:1.10
	OPENBSD_6_1:1.10.0.2
	OPENBSD_6_1_BASE:1.10
	OPENBSD_6_0:1.9.0.6
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.4
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.8.0.4
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.8.0.2
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.6
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.4
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.1.1.1.0.4
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.2
	OPENBSD_4_6_BASE:1.1.1.1
	landry_20090317:1.1.1.1
	priteau:1.1.1;
locks; strict;
comment	@# @;


1.10
date	2017.02.27.21.54.20;	author naddy;	state Exp;
branches;
next	1.9;
commitid	DRbLV9OSM4rIRby7;

1.9
date	2015.04.18.15.13.35;	author bcallah;	state Exp;
branches;
next	1.8;
commitid	IVgHV3Jyn4mkXHiG;

1.8
date	2014.05.14.23.32.50;	author bcallah;	state Exp;
branches;
next	1.7;

1.7
date	2013.09.29.19.36.09;	author bcallah;	state Exp;
branches;
next	1.6;

1.6
date	2013.08.07.03.40.25;	author bcallah;	state Exp;
branches;
next	1.5;

1.5
date	2013.06.15.00.00.24;	author bcallah;	state Exp;
branches;
next	1.4;

1.4
date	2013.01.31.22.27.36;	author fgsch;	state Exp;
branches;
next	1.3;

1.3
date	2011.11.27.12.42.28;	author fgsch;	state Exp;
branches;
next	1.2;

1.2
date	2010.05.23.09.19.45;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.17.19.55.09;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.03.17.19.55.09;	author landry;	state Exp;
branches;
next	;


desc
@@


1.10
log
@honor CXX for linking
@
text
@$OpenBSD: patch-makefile,v 1.9 2015/04/18 15:13:35 bcallah Exp $
--- makefile.orig	Mon Feb 27 22:21:09 2017
+++ makefile	Mon Feb 27 22:21:38 2017
@@@@ -227,10 +227,10 @@@@ endif
 # BIGENDIAN = 1
 
 # uncomment next line to build expat as part of MAME build
-BUILD_EXPAT = 1
+# BUILD_EXPAT = 1
 
 # uncomment next line to build zlib as part of MAME build
-BUILD_ZLIB = 1
+# BUILD_ZLIB = 1
 
 # uncomment next line to build libflac as part of MAME build
 BUILD_FLAC = 1
@@@@ -364,8 +364,8 @@@@ endif
 # compiler, linker and utilities
 ifneq ($(TARGETOS),emscripten)
 AR = @@ar
-CC = @@gcc
-LD = @@g++
+CC ?= @@gcc
+LD ?= @@g++
 endif
 MD = -mkdir$(BUILD_EXE)
 RM = @@rm -f
@@@@ -417,7 +417,7 @@@@ NAME = $(TARGET)$(SUBTARGET)
 endif
 
 # fullname is prefix+name+suffix+suffix64+suffixdebug
-FULLNAME ?= $(BIN)$(PREFIX)$(PREFIXSDL)$(NAME)$(SUFFIX)$(SUFFIX64)$(SUFFIXDEBUG)$(SUFFIXPROFILE)
+FULLNAME = $(PREFIXSDL)$(NAME)$(SUFFIX)$(SUFFIXDEBUG)$(SUFFIXPROFILE)
 
 # add an EXE suffix to get the final emulator name
 EMULATOR = $(FULLNAME)$(EXE)
@@@@ -520,7 +520,7 @@@@ CPPONLYFLAGS =
 
 # CFLAGS is defined based on C or C++ targets
 # (remember, expansion only happens when used, so doing it here is ok)
-CFLAGS = $(CCOMFLAGS) $(CPPONLYFLAGS) $(INCPATH)
+CFLAGS += $(CCOMFLAGS) $(CPPONLYFLAGS) $(INCPATH)
 
 # we compile C-only to C89 standard with GNU extensions
 # we compile C++ code to C++98 standard with GNU extensions
@@@@ -562,7 +562,7 @@@@ CCOMFLAGS += -pg
 endif
 
 # add the optimization flag
-CCOMFLAGS += -O$(OPTIMIZE)
+# CCOMFLAGS += -O$(OPTIMIZE)
 
 # add the error warning flag
 ifndef NOWERROR
@


1.9
log
@Update MAME to 0.160.
License location change noticed by benoit@@
MAME is no longer offered as a package. There has been a bit of a license
mess and it's no longer clear if we can distribute anything. Sorry, if you
want MAME you'll have to build the port. Originally brought up by bentley@@
ok benoit@@
@
text
@d1 3
a3 3
$OpenBSD: patch-makefile,v 1.8 2014/05/14 23:32:50 bcallah Exp $
--- makefile.orig	Sat Apr  4 10:18:57 2015
+++ makefile	Sat Apr  4 10:20:57 2015
d17 1
a17 1
@@@@ -364,7 +364,7 @@@@ endif
d22 1
d24 1
a24 1
 LD = @@g++
d27 1
@


1.8
log
@Update MAME to 0.153
"move along" landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-makefile,v 1.7 2013/09/29 19:36:09 bcallah Exp $
--- makefile.orig	Wed Apr 16 23:16:03 2014
+++ makefile	Wed Apr 16 23:16:03 2014
@@@@ -217,10 +217,10 @@@@ endif
d17 1
a17 1
@@@@ -337,7 +337,7 @@@@ endif
d25 2
a26 2
 MD = -mkdir$(EXE)
@@@@ -387,7 +387,7 @@@@ NAME = $(TARGET)$(SUBTARGET)
d30 1
a30 1
-FULLNAME ?= $(PREFIX)$(PREFIXSDL)$(NAME)$(SUFFIX)$(SUFFIX64)$(SUFFIXDEBUG)$(SUFFIXPROFILE)
d35 1
a35 1
@@@@ -486,7 +486,7 @@@@ CPPONLYFLAGS =
d39 2
a40 2
-CFLAGS = $(CCOMFLAGS) $(CPPONLYFLAGS)
+CFLAGS += $(CCOMFLAGS) $(CPPONLYFLAGS)
d44 1
a44 1
@@@@ -519,7 +519,7 @@@@ CCOMFLAGS += -pg
d49 1
a49 1
+#CCOMFLAGS += -O$(OPTIMIZE)
@


1.7
log
@Update to MAME 0.150.
@
text
@d1 3
a3 3
$OpenBSD: patch-makefile,v 1.6 2013/08/07 03:40:25 bcallah Exp $
--- makefile.orig	Fri Sep 20 12:15:22 2013
+++ makefile	Fri Sep 20 12:15:23 2013
d17 1
a17 2
@@@@ -330,7 +330,7 @@@@ endif
 
d19 1
d24 1
d26 1
a26 2
 RM = @@rm -f
@@@@ -379,7 +379,7 @@@@ NAME = $(TARGET)$(SUBTARGET)
d35 1
a35 1
@@@@ -473,7 +473,7 @@@@ CPPONLYFLAGS =
d44 1
a44 1
@@@@ -506,7 +506,7 @@@@ CCOMFLAGS += -pg
@


1.6
log
@Update MAME to 0.149u1.
@
text
@d1 4
a4 4
$OpenBSD: patch-makefile,v 1.5 2013/06/15 00:00:24 bcallah Exp $
--- makefile.orig	Tue Jun 11 09:47:45 2013
+++ makefile	Tue Jun 11 09:47:46 2013
@@@@ -214,10 +214,10 @@@@ endif
d17 1
a17 1
@@@@ -318,7 +318,7 @@@@ endif
d26 1
a26 1
@@@@ -367,7 +367,7 @@@@ NAME = $(TARGET)$(SUBTARGET)
d35 1
a35 1
@@@@ -458,7 +458,7 @@@@ CPPONLYFLAGS =
d44 1
a44 1
@@@@ -485,7 +485,7 @@@@ CCOMFLAGS += -pg
@


1.5
log
@Update emulators/sdlmame to 0149
Like sdlmess, landry@@ read ok'd a diff, and then I remembered to regen
patches (eliminate fuzz)
@
text
@d1 1
a1 1
$OpenBSD: patch-makefile,v 1.4 2013/01/31 22:27:36 fgsch Exp $
d30 1
a30 1
-FULLNAME = $(PREFIX)$(PREFIXSDL)$(NAME)$(SUFFIX)$(SUFFIX64)$(SUFFIXDEBUG)$(SUFFIXPROFILE)
@


1.4
log
@Update to sdlmame 0.148.
With help and comments from dcoppa@@ and benoit@@.
Please note this requires a kernel with the MAXTSIZ bump committed earlier.
@
text
@d1 3
a3 3
$OpenBSD: patch-makefile,v 1.3 2011/11/27 12:42:28 fgsch Exp $
--- makefile.orig	Sun Jan 20 20:15:29 2013
+++ makefile	Sun Jan 20 20:15:29 2013
d17 1
a17 1
@@@@ -315,7 +315,7 @@@@ endif
d26 1
a26 1
@@@@ -364,7 +364,7 @@@@ NAME = $(TARGET)$(SUBTARGET)
d35 1
a35 1
@@@@ -455,7 +455,7 @@@@ CPPONLYFLAGS =
d44 1
a44 1
@@@@ -482,7 +482,7 @@@@ CCOMFLAGS += -pg
@


1.3
log
@Update to sdlmame 0.144.
with input from sthen@@. previous updates tested by edd@@.
@
text
@d1 4
a4 4
$OpenBSD$
--- makefile.orig	Sat Feb 12 15:17:48 2011
+++ makefile	Thu Jun  2 12:18:06 2011
@@@@ -206,10 +206,10 @@@@ endif
d15 3
a17 3
 # uncomment next line to include the symbols
 # SYMBOLS = 1
@@@@ -298,7 +298,7 @@@@ endif
d26 1
a26 1
@@@@ -347,7 +347,7 @@@@ NAME = $(TARGET)$(SUBTARGET)
d35 1
a35 1
@@@@ -423,7 +423,7 @@@@ CPPONLYFLAGS =
d44 1
a44 1
@@@@ -450,7 +450,7 @@@@ CCOMFLAGS += -pg
d51 2
a52 2
 # if we are optimizing, include optimization options
 # and make all errors into warnings
@


1.2
log
@GLU has some unsafe prototypes. Either that or -isystem /usr/X11R6/include...
@
text
@d1 4
a4 4
$OpenBSD: patch-makefile,v 1.1.1.1 2009/03/17 19:55:09 landry Exp $
--- makefile.orig	Sun Mar 29 01:50:01 2009
+++ makefile	Mon May 17 21:55:57 2010
@@@@ -125,10 +125,10 @@@@ endif
d17 1
a17 1
@@@@ -197,8 +197,8 @@@@ endif
a21 1
-LD = @@gcc
d23 1
a23 1
+LD ?= @@gcc
d26 1
a26 2
 
@@@@ -227,7 +227,7 @@@@ NAME = $(TARGET)$(SUBTARGET)
d29 3
a31 3
 # fullname is prefix+name+suffix+debugsuffix
-FULLNAME = $(PREFIX)$(NAME)$(CPPSUFFIX)$(SUFFIX)$(DEBUGSUFFIX)
+FULLNAME = $(NAME)$(CPPSUFFIX)$(SUFFIX)$(DEBUGSUFFIX)
d35 2
a36 1
@@@@ -302,9 +302,9 @@@@ CPPONLYFLAGS =
a38 1
 ifdef CPP_COMPILE
a40 4
 else
-CFLAGS = $(CCOMFLAGS) $(CONLYFLAGS)
+CFLAGS += $(CCOMFLAGS) $(CONLYFLAGS)
 endif
d43 2
a44 1
@@@@ -331,7 +331,7 @@@@ CCOMFLAGS += -pg
a52 10
@@@@ -355,8 +355,7 @@@@ CCOMFLAGS += \
 # warnings only applicable to C compiles
 CONLYFLAGS += \
 	-Wpointer-arith \
-	-Wbad-function-cast \
-	-Wstrict-prototypes
+	-Wbad-function-cast
 
 # this warning is not supported on the os2 compilers
 ifneq ($(TARGETOS),os2)
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- makefile.orig	Thu Mar  5 15:16:35 2009
+++ makefile	Sun Mar 15 15:05:18 2009
d58 10
@


1.1.1.1
log
@Import sdlmame 0.130 :
MAME stands for Multi Arcade Machine Emulator. As the name suggests, it
is a program that emulates the hardware (and low-level firmware) of a
massive variety of arcade machines.
SDLMAME is a port of MAME using the SDL library.

After many submissions and updates by Pierre Riteau (at gmail), thanks!
@
text
@@
