head	1.35;
access;
symbols
	OPENBSD_4_9:1.34.0.2
	OPENBSD_4_9_BASE:1.34
	OPENBSD_4_8:1.33.0.12
	OPENBSD_4_8_BASE:1.33
	OPENBSD_4_7:1.33.0.10
	OPENBSD_4_7_BASE:1.33
	OPENBSD_4_6:1.33.0.8
	OPENBSD_4_6_BASE:1.33
	OPENBSD_4_5:1.33.0.6
	OPENBSD_4_5_BASE:1.33
	OPENBSD_4_4:1.33.0.4
	OPENBSD_4_4_BASE:1.33
	OPENBSD_4_3:1.33.0.2
	OPENBSD_4_3_BASE:1.33
	OPENBSD_4_2:1.32.0.2
	OPENBSD_4_2_BASE:1.32
	OPENBSD_4_1:1.31.0.6
	OPENBSD_4_1_BASE:1.31
	OPENBSD_4_0:1.31.0.4
	OPENBSD_4_0_BASE:1.31
	OPENBSD_3_9:1.31.0.2
	OPENBSD_3_9_BASE:1.31
	OPENBSD_3_8:1.30.0.2
	OPENBSD_3_8_BASE:1.30
	OPENBSD_3_7:1.29.0.2
	OPENBSD_3_7_BASE:1.29
	OPENBSD_3_6:1.28.0.4
	OPENBSD_3_6_BASE:1.28
	OPENBSD_3_5:1.28.0.2
	OPENBSD_3_5_BASE:1.28
	OPENBSD_3_4:1.25.0.4
	OPENBSD_3_4_BASE:1.25
	OPENBSD_3_3:1.25.0.2
	OPENBSD_3_3_BASE:1.25
	OPENBSD_3_2:1.24.0.2
	OPENBSD_3_2_BASE:1.24
	OPENBSD_3_1:1.23.0.2
	OPENBSD_3_1_BASE:1.23
	OPENBSD_3_0:1.21.0.2
	OPENBSD_3_0_BASE:1.21
	OPENBSD_2_9_TRACKING_SWITCH:1.21
	OPENBSD_2_9:1.20.0.2
	OPENBSD_2_9_BASE:1.20
	OPENBSD_2_8:1.15.0.2
	OPENBSD_2_8_BASE:1.15
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	brad_1999-12-20:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.35
date	2011.04.05.15.28.24;	author naddy;	state dead;
branches;
next	1.34;

1.34
date	2010.10.23.22.01.30;	author sthen;	state Exp;
branches;
next	1.33;

1.33
date	2007.09.16.00.45.13;	author merdely;	state Exp;
branches;
next	1.32;

1.32
date	2007.05.30.15.29.43;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2006.02.12.21.34.45;	author brad;	state Exp;
branches;
next	1.30;

1.30
date	2005.07.14.06.56.24;	author aanriot;	state Exp;
branches;
next	1.29;

1.29
date	2004.11.19.22.12.28;	author sturm;	state Exp;
branches;
next	1.28;

1.28
date	2004.01.18.08.01.28;	author sturm;	state Exp;
branches;
next	1.27;

1.27
date	2004.01.09.19.08.34;	author sturm;	state Exp;
branches;
next	1.26;

1.26
date	2003.10.26.23.49.36;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2002.10.26.12.52.48;	author naddy;	state Exp;
branches;
next	1.24;

1.24
date	2002.08.25.23.05.49;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2002.03.21.20.46.26;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2001.10.28.13.05.46;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2001.07.01.15.29.49;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2001.04.10.11.45.08;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2001.04.10.11.44.04;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2001.02.16.16.40.57;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2001.02.08.15.32.33;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2001.01.21.18.52.16;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2000.10.01.03.41.14;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.09.24.07.04.05;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2000.06.22.19.49.43;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2000.06.20.18.14.12;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2000.06.16.23.06.05;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.04.27.11.35.13;	author jakob;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2000.04.16.00.29.06;	author turan;	state Exp;
branches;
next	1.8;

1.8
date	2000.04.09.17.36.26;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.24.22.11.41;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.24.10.08.56;	author kevlo;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.24.01.06.44;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.20.03.24.24;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2000.02.20.00.35.43;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2000.02.10.23.14.30;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	99.12.20.20.00.39;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.12.20.20.00.39;	author brad;	state Exp;
branches;
next	;

1.10.2.1
date	2000.09.15.04.50.45;	author marc;	state Exp;
branches;
next	;


desc
@@


1.35
log
@COMPAT_FREEBSD is gone, remove ports that depend on it; ok ajacoutot@@ jasper@@
@
text
@# $OpenBSD: Makefile,v 1.34 2010/10/23 22:01:30 sthen Exp $

ONLY_FOR_ARCHS=	i386

COMMENT=	libraries necessary for FreeBSD compatibility

DISTNAME=	freebsd_lib-4.11
REVISION=	0
CATEGORIES=	emulators
MASTER_SITES=	http://comstyle.com/source/
EXTRACT_ONLY=

HOMEPAGE=	http://www.freebsd.org/

# BSD
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

NO_BUILD=	Yes
NO_REGRESS=	Yes

BASE=	${PREFIX}/emul/freebsd
TRUEBASE=${TRUEPREFIX}/emul/freebsd

SYSTRACE_SUBST_VARS=	TRUEBASE

pre-install:
	${INSTALL_DATA_DIR} ${BASE}
	${INSTALL_DATA_DIR} ${WRKINST}/emul
	@@ln -sf ${TRUEBASE} ${WRKINST}/emul/freebsd

do-install:
	@@zcat ${FULLDISTDIR}/${DISTNAME}${EXTRACT_SUFX} | (cd ${BASE}; pax -r)

post-install:
	@@sysctl -n kern.emul.freebsd > ${WRKDIR}/.emul_freebsd
	@@${SUDO} sysctl -w kern.emul.freebsd=1
	${INSTALL_DATA_DIR} ${BASE}/var/run
	-chroot ${WRKINST} ${TRUEBASE}/sbin/ldconfig -aout \
	  -f ${TRUEBASE}/var/run/ld.so.hints \
		/usr/lib/compat/aout /usr/X11R6/lib/aout
	-chroot ${WRKINST} ${TRUEBASE}/sbin/ldconfig -elf \
	  -f ${TRUEBASE}/var/run/ld-elf.so.hints \
		/usr/lib/compat /usr/X11R6/lib
	@@${SUDO} sysctl -w kern.emul.freebsd=`cat ${WRKDIR}/.emul_freebsd`

.include <bsd.port.mk>
@


1.34
log
@revision/lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/09/16 00:45:13 merdely Exp $
@


1.33
log
@Removed surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/05/30 15:29:43 espie Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
@


1.32
log
@use the exact same technics used by linux emulation to setup/remove
their symlinks. This gets rid of the INSTALL/DEINSTALL script.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2006/02/12 21:34:45 brad Exp $
d5 1
a5 1
COMMENT=	"libraries necessary for FreeBSD compatibility"
@


1.31
log
@upgrade freebsd_lib to libraries from FreeBSD 4.11.
with this upgrade FreeBSD 1.x, 2.0.x and 2.1.x
libraries were removed.

Resolves PR # 4949

ok aanriot@@ nikolay@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2005/07/14 06:56:24 aanriot Exp $
d8 1
d24 2
a25 1
PREFIX?=	${LOCALBASE}/emul/freebsd
d27 1
a27 1
SYSTRACE_SUBST_VARS=	TRUEPREFIX
d30 1
a30 1
	${INSTALL_DATA_DIR} ${PREFIX}
d32 1
a32 1
	@@ln -sf ${TRUEPREFIX} ${WRKINST}/emul/freebsd
d35 1
a35 1
	@@zcat ${FULLDISTDIR}/${DISTNAME}${EXTRACT_SUFX} | (cd ${PREFIX}; pax -r)
d40 3
a42 3
	${INSTALL_DATA_DIR} ${PREFIX}/var/run
	-chroot ${WRKINST} ${TRUEPREFIX}/sbin/ldconfig -aout \
	  -f ${TRUEPREFIX}/var/run/ld.so.hints \
d44 2
a45 2
	-chroot ${WRKINST} ${TRUEPREFIX}/sbin/ldconfig -elf \
	  -f ${TRUEPREFIX}/var/run/ld-elf.so.hints \
@


1.30
log
@fix MASTER_SITES.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2004/11/19 22:12:28 sturm Exp $
d7 1
a7 1
DISTNAME=	freebsd_lib-4.0
d9 1
a9 1
MASTER_SITES=	ftp://ftp.dqc.org/pub/brad/source/
d14 1
a14 1
# XXX no license, but obviously bsd licensed
@


1.29
log
@use TRUEPREFIX locally
sort SYSTRACE_SUBST_VARS while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2004/01/18 08:01:28 sturm Exp $
d9 1
a9 1
MASTER_SITES=	ftp://openbsd.comstyle.com/pub/brad/source/
@


1.28
log
@build with systrace
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/01/09 19:08:34 sturm Exp $
d24 2
@


1.27
log
@emulation sysctl handling added
NO_SYSTRACE for now, will be dealt with later
license marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2003/10/26 23:49:36 naddy Exp $
a21 1
NO_SYSTRACE=	"creates .../emul/freebsd/var/run/ld.so.hints"
@


1.26
log
@Use FULLDISTDIR to refer to distribution file location.
From: Xavier Santolaria <xavier@@santolaria.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/10/26 12:52:48 naddy Exp $
d14 1
d22 1
d35 2
d44 1
@


1.25
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/08/25 23:05:49 brad Exp $
d30 1
a30 1
	@@zcat ${DISTDIR}/${DISTNAME}.tar.gz | (cd ${PREFIX}; pax -r)
@


1.24
log
@remove bad dqc.org distsite.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/03/21 20:46:26 espie Exp $
d20 1
@


1.23
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/10/28 13:05:46 espie Exp $
d9 1
a9 3
NEED_VERSION=	1.515
MASTER_SITES=	ftp://openbsd.comstyle.com/pub/brad/source/ \
		ftp://ftp.dqc.org/pub/brad/source/
@


1.22
log
@Zap default MAINTAINER from Makefile.
Especially now that the default line is more verbose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/07/01 15:29:49 brad Exp $
d9 1
a9 1
NEED_VERSION=	1.413
@


1.21
log
@add another local dist site.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/04/10 11:45:08 brad Exp $
a14 2

MAINTAINER=	ports@@openbsd.org
@


1.20
log
@add HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/04/10 11:44:04 brad Exp $
d9 3
a11 2
NEED_VERSION=	1.384
MASTER_SITES=	ftp://ftp.dqc.org/pub/brad/source/
@


1.19
log
@- integrate COMMENT
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/02/16 16:40:57 brad Exp $
d12 2
@


1.18
log
@upgrade freebsd_lib to libraries from FreeBSD 4.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/02/08 15:32:33 brad Exp $
d5 2
d9 1
a9 1
NEED_VERSION=	1.336
@


1.17
log
@hardcoded /usr/local -> ${LOCALBASE}
--
Pointed out by: wilfried@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/01/21 18:52:16 brad Exp $
d5 1
a5 1
DISTNAME=	freebsd_lib-2.2.8
d7 1
a7 1
NEED_VERSION=	1.330
d32 6
a37 2
	-chroot ${WRKINST} ${TRUEPREFIX}/sbin/ldconfig \
	 -f ${TRUEPREFIX}/var/run/ld.so.hints /usr/lib/compat /usr/X11R6/lib
@


1.16
log
@remove myself as maintainer of these ports, I'm getting bugged too much
about these and I don't have any time to dedicate to them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/10/01 03:41:14 brad Exp $
d20 1
a20 1
PREFIX=		/usr/local/emul/freebsd
@


1.15
log
@mkdir -> INSTALL_DATA_DIR/install
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/09/24 07:04:05 brad Exp $
d11 1
a11 1
MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.14
log
@add name to MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/06/22 19:49:43 brad Exp $
d23 2
a24 2
	@@mkdir -p ${PREFIX}
	@@mkdir ${WRKINST}/emul
@


1.13
log
@distfile has been moved on the distsite, symlink still provided for users
with an older ports tree.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.12 2000/06/20 18:14:12 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.301
d11 1
a11 3
ONLY_FOR_ARCHS=	i386

MAINTAINER=	brad@@openbsd.org
@


1.12
log
@Install under /usr/local, use Fake.
Link /usr/local/emul/freebsd -> /emul/freebsd
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/04/27 11:35:13 jakob Exp $
d6 1
a6 1
MASTER_SITES=	ftp://ftp.dqc.org/pub/brad/
@


1.11
log
@Remove NO_CONFIGURE/NO_PATCH/NO_EXTRACT/NO_MTREE

Kill corresponding FAKE=Yes and switch to CONFIGURE_STYLE while I'm at it.
@
text
@d5 1
a5 2
NEED_VERSION=	1.191
FAKE=		No
a12 1
LICENSE_TYPE=		BSD
a17 2
PREFIX=		/emul/freebsd

a18 1
NO_PACKAGE=	Yes
d20 1
a20 1
WRKDIST=	${WRKDIR}
d23 3
a25 1
	${INSTALL_DATA_DIR} ${PREFIX}
d28 1
a28 1
	@@cd ${PREFIX} && tar -zpxf ${DISTDIR}/${DISTNAME}.tar.gz
d32 2
a33 2
	@@${PREFIX}/sbin/ldconfig -f ${PREFIX}/var/run/ld.so.hints \
	 /usr/lib/compat /usr/X11R6/lib
@


1.10
log
@marked unbroken (ldconfig fixed using -f argument); <martin@@crt.se>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/04/16 00:29:06 turan Exp $
a22 2
NO_CONFIGURE=	Yes
NO_MTREE=	Yes
a23 1
NO_PATCH=	Yes
@


1.10.2.1
log
@bring emulators as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/06/22 19:49:43 brad Exp $
d5 3
a7 2
NEED_VERSION=	1.301
MASTER_SITES=	ftp://ftp.dqc.org/pub/brad/source/
d14 1
d20 2
d23 4
d28 1
a28 1
PREFIX=		/usr/local/emul/freebsd
d31 1
a31 3
	@@mkdir -p ${PREFIX}
	@@mkdir ${WRKINST}/emul
	@@ln -sf ${TRUEPREFIX} ${WRKINST}/emul/freebsd
d34 1
a34 1
	@@zcat ${DISTDIR}/${DISTNAME}.tar.gz | (cd ${PREFIX}; pax -r)
d38 2
a39 2
	-chroot ${WRKINST} ${TRUEPREFIX}/sbin/ldconfig \
	 -f ${TRUEPREFIX}/var/run/ld.so.hints /usr/lib/compat /usr/X11R6/lib
@


1.9
log
@Mark this port as broken.  There is a horrible bug in it that clobbers
/var/run/ld.so.hints.  Mark it broken so that no one stumbles onto it
and damages their system in the process.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.8 2000/04/09 17:36:26 espie Exp $

BROKEN=		horrible bug.  clobbers ld.so.hints.
d6 1
a6 1
FAKE=No
a9 1

d38 2
a39 1
	@@${PREFIX}/sbin/ldconfig /usr/lib/compat /usr/X11R6/lib
@


1.8
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.7 2000/03/24 22:11:41 espie Exp $
@


1.7
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/02/24 10:08:56 kevlo Exp $
d6 1
@


1.6
log
@Fix checksum error. Mark it unbroken.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/02/24 01:06:44 turan Exp $
d5 1
a8 1
NEED_VERSION=	1.191
@


1.5
log
@broken, checksum mismatch.  maintainer needs to update port.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.4 2000/02/20 03:24:24 brad Exp $

BROKEN=		checksum mismatch, port needs to be updated
@


1.4
log
@style
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.3 2000/02/20 00:35:43 brad Exp $
@


1.3
log
@- add license info
- yes -> Yes
- mkdir -> ${INSTALL_DATA_DIR}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/02/10 23:14:30 espie Exp $
d14 1
a14 1
LICENSE_TYPE=	BSD
@


1.2
log
@Kill NO_WRKSUBDIR.
Clean up a few deprecated variables on the fly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/12/20 20:00:39 brad Exp $
d7 1
d14 6
d22 6
a27 5
NO_BUILD=	yes
NO_CONFIGURE=	yes
NO_MTREE=	yes
NO_PACKAGE=	yes
NO_PATCH=	yes
d31 1
a31 1
	@@mkdir -p ${PREFIX}
d37 1
a37 1
	@@mkdir -p ${PREFIX}/var/run
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
d20 1
a20 1
NO_WRKSUBDIR=	yes
@


1.1.1.1
log
@add freebsd_lib port;

These libraries are part of the FreeBSD compatibility options
for OpenBSD. These libraries provide support for binaries built
on FreeBSD 2.0.x, 2.1.x and 2.2.x systems.
@
text
@@
