head	1.5;
access;
symbols
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.0.8
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.6
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.4
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2012.08.13.14.18.15;	author gsoares;	state dead;
branches;
next	1.4;

1.4
date	2012.06.08.09.16.32;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2011.12.12.11.04.04;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2011.03.03.16.29.29;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2009.04.05.13.31.38;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.5
log
@update to 0.8.3
add support for qemu
pkg/DESCR bits from sthen@@

ok sthen@@
@
text
@$OpenBSD: patch-src_GNS3_Application_py,v 1.4 2012/06/08 09:16:32 sthen Exp $
--- src/GNS3/Application.py.orig	Wed Mar 14 02:12:51 2012
+++ src/GNS3/Application.py	Wed May 23 00:23:28 2012
@@@@ -423,8 +423,8 @@@@ class Application(QApplication, Singleton):
         confo = self.systconf['qemu']
         confo.qemuwrapper_path = ConfDB().get('Qemu/qemuwrapper_path', Defaults.QEMUWRAPPER_DEFAULT_PATH)
         confo.qemuwrapper_workdir = ConfDB().get('Qemu/qemuwrapper_working_directory', Defaults.QEMUWRAPPER_DEFAULT_WORKDIR)
-        confo.qemu_path = ConfDB().get('Qemu/qemu_path', unicode('qemu'))
-        confo.qemu_img_path = ConfDB().get('Qemu/qemu_img_path', unicode('qemu-img'))
+        confo.qemu_path = ConfDB().get('Qemu/qemu_path', unicode('${LOCALBASE}/bin/qemu-system-i386'))
+        confo.qemu_img_path = ConfDB().get('Qemu/qemu_img_path', unicode('${LOCALBASE}/bin/qemu-img'))
         confo.external_hosts = ConfDB().get('Qemu/external_hosts', unicode('localhost:10525')).split(',')
         confo.enable_QemuWrapperAdvOptions = ConfDB().value("Qemu/enable_QemuWrapperAdvOptions", QVariant(False)).toBool()
         confo.enable_QemuManager = ConfDB().value("Qemu/enable_QemuManager", QVariant(True)).toBool()
@


1.4
log
@update gns3 to 0.8.2, and remove armani@@ as maintainer at his request.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_GNS3_Application_py,v 1.3 2011/12/12 11:04:04 sthen Exp $
@


1.3
log
@qemu binary name change
@
text
@d1 4
a4 15
$OpenBSD: patch-src_GNS3_Application_py,v 1.2 2011/03/03 16:29:29 sthen Exp $
--- src/GNS3/Application.py.orig	Tue Dec 14 17:52:57 2010
+++ src/GNS3/Application.py	Sat Jan 29 11:33:08 2011
@@@@ -319,7 +319,7 @@@@ class Application(QApplication, Singleton):
 
         self.systconf['dynamips'] = systemDynamipsConf()
         confo = self.systconf['dynamips']
-        confo.path = ConfDB().get('Dynamips/hypervisor_path', unicode(''))
+        confo.path = ConfDB().get('Dynamips/hypervisor_path', unicode('${LOCALBASE}/bin/dynamips'))
         confo.port = int(ConfDB().get('Dynamips/hypervisor_port', 7200))
         confo.baseUDP = int(ConfDB().get('Dynamips/hypervisor_baseUDP', 10000))
         confo.baseConsole = int(ConfDB().get('Dynamips/hypervisor_baseConsole', 2000))
@@@@ -348,10 +348,10 @@@@ class Application(QApplication, Singleton):
         # Qemu config
         self.systconf['qemu'] = systemQemuConf()
d6 2
a7 3
-        confo.qemuwrapper_path = ConfDB().get('Qemu/qemuwrapper_path', unicode(''))
+        confo.qemuwrapper_path = ConfDB().get('Qemu/qemuwrapper_path', unicode('${PREFIX}/libexec/gns3/qemuwrapper.py'))
         confo.qemuwrapper_workdir = ConfDB().get('Qemu/qemuwrapper_working_directory', unicode(''))
d13 1
a14 1
         confo.import_use_QemuManager = ConfDB().value("Qemu/qemu_manager_import", QVariant(True)).toBool()
@


1.2
log
@- update gns3 to 0.7.3

- patch some hardcoded paths and binary names

- initial support for running qemu instances from gns3
(note that to work fully and connect qemu to network interfaces
on dynamips instances currently requires a qemu patched to support
udp unicast networking; see qemu-0.13.0-patches.zip in
http://sourceforge.net/projects/gns-3/files/Qemu/).

ok armani@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-src_GNS3_Application_py,v 1.1 2009/04/05 13:31:38 sthen Exp $
d22 1
a22 1
+        confo.qemu_path = ConfDB().get('Qemu/qemu_path', unicode('${LOCALBASE}/bin/qemu'))
@


1.1
log
@- preset the default dynamips hypervisor path to the location where
it's installed by our dynamips port. bump package.

- remove NO_BUILD, it does actually carry out some steps in the build
stage. if they're left until fake-install, root-owned files in the work
directory prevent "make clean" from working.

ok Jonathan Armani (maintainer).
@
text
@d1 4
a4 4
$OpenBSD$
--- src/GNS3/Application.py.orig	Sun Apr  5 11:28:42 2009
+++ src/GNS3/Application.py	Sun Apr  5 11:28:46 2009
@@@@ -259,7 +259,7 @@@@ class Application(QApplication, Singleton):
d9 1
a9 1
+        confo.path = ConfDB().get('Dynamips/hypervisor_path', unicode('${PREFIX}/bin/dynamips'))
d13 14
@

