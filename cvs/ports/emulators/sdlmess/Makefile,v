head	1.40;
access;
symbols
	OPENBSD_6_1:1.40.0.2
	OPENBSD_6_1_BASE:1.40
	OPENBSD_6_0:1.39.0.4
	OPENBSD_6_0_BASE:1.39
	OPENBSD_5_9:1.39.0.2
	OPENBSD_5_9_BASE:1.39
	OPENBSD_5_8:1.38.0.4
	OPENBSD_5_8_BASE:1.38
	OPENBSD_5_7:1.35.0.2
	OPENBSD_5_7_BASE:1.35
	OPENBSD_5_6:1.33.0.2
	OPENBSD_5_6_BASE:1.33
	OPENBSD_5_5:1.32.0.2
	OPENBSD_5_5_BASE:1.32
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.19.0.6
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.19.0.4
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.2
	OPENBSD_5_0:1.16.0.2
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.15.0.2
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.8.0.2
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.6.0.2
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.4.0.2
	OPENBSD_4_6_BASE:1.4
	landry_20090317:1.1.1.1
	priteau:1.1.1;
locks; strict;
comment	@# @;


1.40
date	2017.02.27.21.54.20;	author naddy;	state Exp;
branches;
next	1.39;
commitid	DRbLV9OSM4rIRby7;

1.39
date	2015.08.11.21.43.02;	author jasper;	state Exp;
branches;
next	1.38;
commitid	jJigjrb16bGNPG9W;

1.38
date	2015.05.02.18.22.23;	author bcallah;	state Exp;
branches;
next	1.37;
commitid	KPwO9PQpga9hS0Lu;

1.37
date	2015.04.21.01.43.06;	author bcallah;	state Exp;
branches;
next	1.36;
commitid	jx6szm0wn1zLLkFS;

1.36
date	2015.04.19.16.20.26;	author bcallah;	state Exp;
branches;
next	1.35;
commitid	rB1bDIdnOUPf0unq;

1.35
date	2014.12.01.15.13.52;	author naddy;	state Exp;
branches;
next	1.34;
commitid	NqwOhZjHdEm45gDR;

1.34
date	2014.08.10.09.58.05;	author espie;	state Exp;
branches;
next	1.33;
commitid	jyyOLTDxRdjpw44n;

1.33
date	2014.05.14.23.11.41;	author bcallah;	state Exp;
branches;
next	1.32;

1.32
date	2013.11.25.14.16.22;	author sthen;	state Exp;
branches;
next	1.31;

1.31
date	2013.09.29.19.37.17;	author bcallah;	state Exp;
branches;
next	1.30;

1.30
date	2013.09.27.17.49.03;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2013.08.07.03.42.06;	author bcallah;	state Exp;
branches;
next	1.28;

1.28
date	2013.06.15.23.54.52;	author bcallah;	state Exp;
branches;
next	1.27;

1.27
date	2013.06.14.23.59.03;	author bcallah;	state Exp;
branches;
next	1.26;

1.26
date	2013.05.27.10.48.06;	author bcallah;	state Exp;
branches;
next	1.25;

1.25
date	2013.05.08.14.46.10;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2013.05.02.21.05.31;	author bcallah;	state Exp;
branches;
next	1.23;

1.23
date	2013.04.14.13.45.41;	author bcallah;	state Exp;
branches;
next	1.22;

1.22
date	2013.04.08.04.27.42;	author bcallah;	state Exp;
branches;
next	1.21;

1.21
date	2013.04.01.01.23.51;	author bcallah;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.11.11.06.04;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2011.11.13.23.26.32;	author fgsch;	state Exp;
branches;
next	1.18;

1.18
date	2011.10.29.08.12.31;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.09.16.09.48.09;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2011.07.06.18.29.00;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.15.23.22.08;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.07.18.50.57;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.24.21.17.48;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2010.10.23.22.01.30;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.15.10.28.06;	author dcoppa;	state Exp;
branches;
next	1.10;

1.10
date	2010.10.11.08.13.01;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2010.09.30.07.26.05;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2010.05.09.17.45.12;	author jakemsr;	state Exp;
branches;
next	1.7;

1.7
date	2010.04.26.21.02.26;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2009.08.10.06.31.09;	author kili;	state Exp;
branches;
next	1.5;

1.5
date	2009.07.19.11.29.12;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2009.04.24.14.47.16;	author kurt;	state Exp;
branches;
next	1.3;

1.3
date	2009.04.10.13.56.46;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.18.20.23.11;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.17.19.58.21;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.03.17.19.58.21;	author landry;	state Exp;
branches;
next	;


desc
@@


1.40
log
@honor CXX for linking
@
text
@# $OpenBSD: Makefile,v 1.39 2015/08/11 21:43:02 jasper Exp $

# Other archs have not been tested
ONLY_FOR_ARCHS =	amd64

# i386: src/emu/cpu/i386/pentops.inc: error: integer constant is too large for 'long' type

COMMENT =		emulates game consoles and old home computers

V =			160
DISTNAME =		mame0${V}s
PKGNAME =		sdlmess-0.${V}
REVISION =		0

CATEGORIES =		emulators games

HOMEPAGE =		http://messdev.org/

# MAME Distribution License, see http://mamedev.org/legal.html
# history.dat : Creative Commons Attribution 3.0
PERMIT_PACKAGE_CDROM =	unclear license
PERMIT_PACKAGE_FTP =	unclear license
PERMIT_DISTFILES_FTP =	unclear license

WANTLIB += SDL SDL_ttf X11 Xinerama c expat fontconfig freetype
WANTLIB += m pthread stdc++ util z

MASTER_SITES =		http://mamedev.org/downloader.php?file=releases/ \
			http://whiper.com/mame/${V}/
MASTER_SITES0 =		http://mamedev.org/updates/
MASTER_SITES1 = 	http://www.arcade-history.com/dats/

EXTRACT_SUFX =		.zip
DIST_SUBDIR =		mame

# PATCHFILES doesn't work for .zip
DISTFILES =		${DISTNAME}${EXTRACT_SUFX} \
			history${V}.zip:1

MODULES =		devel/gettext \
			lang/python

RUN_DEPENDS-main =	fonts/liberation-fonts
LIB_DEPENDS =		devel/sdl-ttf

MAKE_FLAGS =		OPT_FLAGS='-DINI_PATH="\"${SYSCONFDIR}/mess;\""'
MAKE_ENV =		ARCH=$(ARCH) CC=$(CC) CFLAGS="$(CFLAGS)" LD="${CXX}" \
			TARGETOS=openbsd \
			NO_USE_QTDEBUG=1 \
			NOWERROR=1 \
			SDL_LIBVER=sdl
.if ${MACHINE_ARCH} == "amd64"
MAKE_ENV +=		PTR64=1
.endif
USE_GMAKE =		Yes

CONFIGURE_STYLE =	none

MAKE_FILE =		makefile

NO_TEST =		Yes

post-extract:
	@@${UNZIP} -oq ${WRKDIR}/mame.zip -d ${WRKSRC}

pre-patch:
#.for v in 1
#	${PATCH} ${PATCH_DIST_ARGS} < ${WRKDIR}/0${V}u${v}.diff
#.endfor
	@@sed -i 's|\r\n|\n|g' ${WRKDIST}/makefile \
	    ${WRKDIST}/src/emu/fileio.h \
	    ${WRKDIST}/src/emu/cpu/m68000/m68kmake.c \
	    ${WRKDIST}/src/emu/machine/netlist.h \
	    ${WRKDIST}/src/osd/sdl/sdl.mak
	@@ln -s ${MODPY_BIN} ${WRKDIR}/bin/python

pre-build:
	${SUBST_CMD} ${WRKDIST}/src/osd/sdl/sdl.mak

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/mess ${PREFIX}/bin/sdlmess
.for f in castool floptool imgtool
	${INSTALL_PROGRAM} ${WRKSRC}/${f} ${PREFIX}/bin
.endfor
	${INSTALL_DATA_DIR} ${PREFIX}/share/sdlmess/keymaps
	${INSTALL_DATA} ${WRKSRC}/src/osd/sdl/keymaps/km[-_]??.txt \
	    ${PREFIX}/share/sdlmess/keymaps/
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/sdlmess
.for f in config.txt hlsl.txt license.txt newvideo.txt
	${INSTALL_DATA} ${WRKSRC}/docs/${f} ${PREFIX}/share/doc/sdlmess
.endfor
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/sdlmess
	${SUBST_DATA} ${FILESDIR}/mess.ini \
	    ${PREFIX}/share/examples/sdlmess/mess.ini
	${INSTALL_DATA} ${WRKDIR}/history.dat ${PREFIX}/share/sdlmess

.include <bsd.port.mk>
@


1.39
log
@use sed -i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2015/05/02 18:22:23 bcallah Exp $
d47 1
a47 1
MAKE_ENV =		ARCH=$(ARCH) CC=$(CC) CFLAGS="$(CFLAGS)" \
@


1.38
log
@Drop maintainer of MAME and MESS and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2015/04/21 01:43:06 bcallah Exp $
d70 1
a70 1
	@@perl -pi -e 's|\r\n|\n|g' ${WRKDIST}/makefile \
@


1.37
log
@Sync MESS with MAME (remove i386 from the ONLY_FOR_ARCHS list until I can
sit down and fix it)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2015/04/19 16:20:26 bcallah Exp $
d13 1
a17 2

MAINTAINER =		Brian Callahan <bcallah@@openbsd.org>
@


1.36
log
@Update MESS to 0.160 -- it is simply a sync with MAME.
Like MAME, MESS is no longer going to be packaged due to an unresolved
license mess. Build the port yourself if you want MESS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2014/12/01 15:13:52 naddy Exp $
d4 3
a6 1
ONLY_FOR_ARCHS =	amd64 i386
@


1.35
log
@fix overlapping memcpy; ok bcallah@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2014/08/10 09:58:05 espie Exp $
d8 1
a8 1
V =			153
d18 1
a18 1
# MAME Distribution License, see http://mamedev.org/license.html
d20 3
a22 2
PERMIT_PACKAGE_CDROM =		may not sell
PERMIT_PACKAGE_FTP =		Yes
d24 2
a25 2
WANTLIB += SDL SDL_ttf X11 Xinerama c expat fontconfig m pthread
WANTLIB += stdc++ util z
d49 2
a50 1
			NOWERROR=1
@


1.34
log
@use more specific version of SUBST_* where appropriate
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2014/05/14 23:11:41 bcallah Exp $
d69 1
@


1.33
log
@Update to MESS 0.153
"move along" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/11/25 14:16:22 sthen Exp $
d89 1
a89 1
	${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} -c ${FILESDIR}/mess.ini \
@


1.32
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/09/29 19:37:17 bcallah Exp $
d8 1
a8 1
V =			150
d23 2
a24 5
WANTLIB =	SDL SDL_ttf X11 Xcomposite Xcursor Xdamage Xext \
		Xfixes Xi Xinerama Xrandr Xrender atk-1.0 c cairo expat \
		fontconfig freetype gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 \
		gio-2.0 glib-2.0 gobject-2.0 gtk-x11-2.0 m pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pthread stdc++ util z
d42 1
a42 3
LIB_DEPENDS =		devel/gconf2 \
			devel/sdl-ttf \
			x11/gtk+2
@


1.31
log
@Update to Mess 0.150.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/09/27 17:49:03 ajacoutot Exp $
a63 1
VMEM_WARNING =		Yes
@


1.30
log
@Bump after devel/gconf2,-main is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/08/07 03:42:06 bcallah Exp $
d8 1
a8 1
V =			149
d10 1
a10 2
PKGNAME =		sdlmess-0.${V}pl1
REVISION =		0
d39 1
a39 2
			0${V}u1_diff.zip:0 \
			history${V}a.zip:1
d70 3
a72 3
.for v in 1
	${PATCH} ${PATCH_DIST_ARGS} < ${WRKDIR}/0${V}u${v}.diff
.endfor
@


1.29
log
@Same with MESS, update to 0.149u1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/06/15 23:54:52 bcallah Exp $
d11 1
@


1.28
log
@Same as sdlmame, distinfo needed regen. Bump REVISION.
noted by naddy@@ and rfreeman@@
ok rfreeman@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/06/14 23:59:03 bcallah Exp $
d10 1
a10 2
PKGNAME =		sdlmess-0.${V}
REVISION =		0
d39 2
a40 1
			history${V}.zip:1
d71 3
a73 3
#.for v in 1
#	${PATCH} ${PATCH_DIST_ARGS} < ${WRKDIR}/0${V}u${v}.diff
#.endfor
@


1.27
log
@Update emulators/sdlmame to 0149
landry@@ read ok'd a diff then I remembered to regen patches to elimate fuzz
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/05/27 10:48:06 bcallah Exp $
d11 1
@


1.26
log
@Update emulators/sdlmess to 0.148u5
Tested by rfreeman@@
ok sthen@@ rfreeman@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/05/08 14:46:10 sthen Exp $
d8 1
a8 1
V =			148
d10 1
a10 1
PKGNAME =		sdlmess-0.${V}pl5
d39 1
a39 6
			0${V}u1_diff.zip:0 \
			0${V}u2_diff.zip:0 \
			0${V}u3_diff.zip:0 \
			0${V}u4_diff.zip:0 \
			0${V}u5_diff.zip:0 \
			history${V}i.zip:1
d70 3
a72 3
.for v in 1 2 3 4 5
	${PATCH} ${PATCH_DIST_ARGS} < ${WRKDIR}/0${V}u${v}.diff
.endfor
@


1.25
log
@use ${SUBST_CMD} -c -o ${SHAREOWN} -g ${SHAREGRP} instead of two-step
process with SUBST_CMD / chown.  ok bcallah@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/05/02 21:05:31 bcallah Exp $
d10 1
a10 1
PKGNAME =		sdlmess-0.${V}pl4
d43 1
d75 1
a75 1
.for v in 1 2 3 4
@


1.24
log
@Update emulators/sdlmess to 0.148u4 (sync with sdlmame)
As sdlmame, Makefile tweaks from sthen@@
ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/04/14 13:45:41 bcallah Exp $
d99 1
a99 3
	${SUBST_CMD} -c ${FILESDIR}/mess.ini \
	    ${PREFIX}/share/examples/sdlmess/mess.ini
	chown ${SHAREOWN}:${SHAREGRP} \
@


1.23
log
@Update emulators/sdlmess to 0148u3.
ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/04/08 04:27:42 bcallah Exp $
d8 3
a10 3
V =			0148
DISTNAME =		mame${V}s
PKGNAME =		sdlmess-${V:S/0/0./}pl3
d30 1
a30 1
			http://whiper.com/mame/${V:S/0//}/
d39 5
a43 4
			${V}u1_diff.zip:0 \
			${V}u2_diff.zip:0 \
			${V}u3_diff.zip:0 \
			history${V:S/0//}h.zip:1
d74 2
a75 2
.for v in 1 2 3
	${PATCH} ${PATCH_DIST_ARGS} < ${WRKDIR}/${V}u${v}.diff
@


1.22
log
@Update emulators/sdlmess to 0.148u2 (sync with emulators/sdlmame).
Like sdlmame, disable the Qt-based debugger.
ok rfreeman@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/04/01 01:23:51 bcallah Exp $
d10 1
a10 1
PKGNAME =		sdlmess-${V:S/0/0./}pl2
d41 2
a42 1
			history${V:S/0//}g.zip:1
d73 1
a73 1
.for v in 1 2
@


1.21
log
@Update emulators/sdlmess to 0.148u1 - the same version as emulators/sdlmame
Take MAINTAINER
ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/11 11:06:04 espie Exp $
d10 1
a10 1
PKGNAME =		sdlmess-${V:S/0/0./}pl1
d40 1
d53 3
a55 1
			TARGETOS=openbsd
d72 1
a72 1
.for v in 1
@


1.20
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/11/13 23:26:32 fgsch Exp $
d8 3
a10 4
V =			0.132
DISTNAME =		sdlmess${V:S/.//}
PKGNAME =		sdlmess-${V}
REVISION=		8
d14 3
a16 1
HOMEPAGE =		http://rbelmont.mameworld.info/?page_id=163
d19 1
d23 10
a32 7
WANTLIB +=	X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
WANTLIB +=	Xfixes Xi Xinerama Xrandr Xrender atk-1.0 c cairo dbus-1
WANTLIB +=	expat fontconfig freetype gio-2.0 glib-2.0 gmodule-2.0
WANTLIB +=	gobject-2.0 gthread-2.0 m pango-1.0 pangocairo-1.0
WANTLIB +=	pangoft2-1.0 pixman-1 png pthread pthread-stubs xcb z
WANTLIB +=	xcb-render xcb-render-util gdk_pixbuf-2.0 SDL
WANTLIB +=	gdk-x11-2.0 gtk-x11-2.0 gconf-2>=5
a33 1
MASTER_SITES =		http://rbelmont.mameworld.info/
d35 14
d50 7
a56 1
MODULES =		devel/gettext
d58 1
a58 1
LIB_DEPENDS =		devel/sdl devel/gconf2 x11/gtk+2
d60 1
a60 1
USE_GMAKE =		Yes
d63 1
d65 12
a76 7
MAKE_FLAGS =		OPT_FLAGS='-DINI_PATH="\"${SYSCONFDIR}/mess;\""'
MAKE_ENV =		ARCH=$(ARCH) CC=$(CC) CFLAGS="$(CFLAGS)" LD=$(CC) \
			TARGETOS=openbsd
.if ${MACHINE_ARCH} == "amd64"
MAKE_ENV+=		PTR64=1
.endif
MAKE_FILE =		makefile.sdl
d78 2
a79 4
MESS_EXTBIN=		dat2html imgtool
MESS_DOC=		config.txt credits.htm faq.htm imgtool.txt \
				license.txt mame.txt messnew.txt newvideo.txt
MESS_DATA_DIR =		roms hash samples artwork ctrlr cheat keymaps
d83 2
a84 2
.for i in ${MESS_EXTBIN}
	${INSTALL_PROGRAM} ${WRKSRC}/${i} ${PREFIX}/bin/
d86 3
a88 6
.for i in ${MESS_DATA_DIR}
	${INSTALL_DATA_DIR} ${PREFIX}/share/sdlmess/${i}
.endfor
	${INSTALL_DATA} ${WRKSRC}/keymaps/km[-_]??.txt \
		${PREFIX}/share/sdlmess/keymaps/
	${INSTALL_DATA} ${WRKSRC}/ui.bdf ${PREFIX}/share/sdlmess
d90 2
a91 2
.for i in ${MESS_DOC}
	${INSTALL_DATA} ${WRKSRC}/docs/${i} ${PREFIX}/share/doc/sdlmess/
a92 2
	${INSTALL_DATA} $(WRKSRC)/SDLMESS.txt ${PREFIX}/share/doc/sdlmess/
	${INSTALL_DATA} $(WRKSRC)/sysinfo.dat ${PREFIX}/share/doc/sdlmess/
d95 1
a95 1
		${PREFIX}/share/examples/sdlmess/mess.ini
d97 3
a99 2
		${PREFIX}/share/examples/sdlmess/mess.ini
 
@


1.19
log
@Remove dependency on sdlmame-tools in preparation for sdlmame/sdlmess
update.  sthen@@ ok. While here remove maintainer as per his request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/10/29 08:12:31 ajacoutot Exp $
a19 2
PERMIT_DISTFILES_CDROM =	may not sell
PERMIT_DISTFILES_FTP =		Yes
d38 1
a38 1
NO_REGRESS =		Yes
@


1.18
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/09/16 09:48:09 espie Exp $
d11 1
a11 1
REVISION=		7
a16 2
MAINTAINER =		Pierre Riteau <pierre.riteau@@gmail.com>

a36 1
RUN_DEPENDS =		sdlmame-tools-${V}:emulators/sdlmame,-tools
@


1.17
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/07/06 18:29:00 ajacoutot Exp $
d11 1
a11 1
REVISION=		6
d25 1
a25 1
WANTLIB +=	ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
@


1.16
log
@Use the gettext MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/11/15 23:22:08 espie Exp $
d11 1
a11 1
REVISION=		5
@


1.15
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/11/07 18:50:57 espie Exp $
d11 1
a11 1
REVISION=		4
d28 1
a28 1
WANTLIB +=	gobject-2.0 gthread-2.0 iconv intl m pango-1.0 pangocairo-1.0
d35 2
@


1.14
log
@do LIB_DEPENDS for emulators/editors
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/24 21:17:48 ajacoutot Exp $
d31 1
a31 1
WANTLIB +=	gdk-x11-2.0 gtk-x11-2.0 gconf-2.>=5
d36 2
a37 2
LIB_DEPENDS =		::devel/sdl ::devel/gconf2 ::x11/gtk+2
RUN_DEPENDS =		:sdlmame-tools-${V}:emulators/sdlmame,-tools
@


1.13
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/10/23 22:01:30 sthen Exp $
d31 1
a31 1
WANTLIB +=	gdk-x11-2.0 gtk-x11-2.0
d36 1
a36 2
LIB_DEPENDS =		::devel/sdl gconf-2.>=5::devel/gconf2 \
			::x11/gtk+2
@


1.12
log
@revision/lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/15 10:28:06 dcoppa Exp $
a40 1
USE_X11 =		Yes
@


1.11
log
@Rip out the gcc4 module now that src has gcc4

From Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/10/11 08:13:01 jasper Exp $
d30 2
a31 1
WANTLIB +=	xcb-render xcb-render-util gdk_pixbuf-2.0
d36 2
a37 2
LIB_DEPENDS =		SDL::devel/sdl gconf-2.>=5::devel/gconf2 \
			gdk-x11-2.0.>=0.11,gtk-x11-2.0.>=0.11::x11/gtk+2
@


1.10
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/09/30 07:26:05 ajacoutot Exp $
a33 4

MODULES =		gcc4
MODGCC4_ARCHES =	*
MODGCC4_LANGS =		c
@


1.9
log
@Fix build with new GTK+2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/05/09 17:45:12 jakemsr Exp $
d10 2
a11 1
PKGNAME =		sdlmess-${V}p3
d27 1
a27 1
WANTLIB +=	expat fontconfig freetype gio-2.0 glib-2.0 glitz gmodule-2.0
@


1.8
log
@sdl{mame,mess} supercede x{mame,mess}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/04/26 21:02:26 ajacoutot Exp $
d10 1
a10 1
PKGNAME =		sdlmess-${V}p2
d29 1
a29 1
WANTLIB +=	xcb-render xcb-render-util
d39 1
a39 1
			gdk-x11-2.0.>=0.11,gdk_pixbuf-2.0.>=0.11,gtk-x11-2.0.>=0.11::x11/gtk+2
@


1.7
log
@Fix build with newer gtk versions.

from Pierre Riteau (maintainer)
breakage spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/08/10 06:31:09 kili Exp $
d10 1
a10 1
PKGNAME =		sdlmess-${V}p1
@


1.6
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/07/19 11:29:12 landry Exp $
d10 1
a10 1
PKGNAME =		sdlmess-${V}p0
d29 1
@


1.5
log
@Update to sdlmame 0.132, from MAINTAINER Pierre Riteau. Patches merged
upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/04/24 14:47:16 kurt Exp $
d10 1
a10 1
PKGNAME =		sdlmess-${V}
d28 1
a28 1
WANTLIB +=	pangoft2-1.0 pixman-1 png pthread z
@


1.4
log
@Fix typo in MODGCC4_LANGS. No change in packages so no bumps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/04/10 13:56:46 ajacoutot Exp $
d8 1
a8 1
V =			0.130
d10 1
a10 1
PKGNAME =		sdlmess-${V}p1
@


1.3
log
@Same as recent sdlmame commit:
- install a default mess.ini configuration file under SYSCONFDIR/mess/
- install ui.bdf to get better fonts

from Pierre Riteau (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/03/18 20:23:11 landry Exp $
d35 1
a35 1
MODGCC4_LANG =		c
@


1.2
log
@Add appropriate conflict markers between sdlmame, sdlmess, and the
various flavours of the xmame/xmess/xmame+xmess multipackages.
Tweak ${V} handling and sdlmame RUN_DEPENDS.
Diff from Pierre Riteau, thx!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/03/17 19:58:21 landry Exp $
d10 1
a10 1
PKGNAME =		sdlmess-${V}p0
d46 1
d57 1
d64 3
a66 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/sdlmess/keymaps
d69 1
d76 6
a81 1

@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 3
a10 3
V =			130
DISTNAME =		sdlmess0${V}
PKGNAME =		sdlmess-0.${V}
d39 1
a39 1
RUN_DEPENDS =		:sdlmame-tools-0.${V}:emulators/sdlmame,-tools
@


1.1.1.1
log
@Import sdlmess 0.130:
MESS stands for Multi Emulator Super System. It is an emulator for the
hardware of many different games consoles (e.g. Sega, NES, SNES, etc.)
as well as many different old games-oriented home computers (e.g. C64,
C128, ZX80, etc.)
SDLMESS is a port of MESS using the SDL library.

After many submissions and updates by Pierre Riteau (at gmail), thanks!
@
text
@@
