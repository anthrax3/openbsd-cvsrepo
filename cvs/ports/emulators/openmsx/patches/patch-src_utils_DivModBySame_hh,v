head	1.1;
access;
symbols
	OPENBSD_6_1:1.1.0.2
	OPENBSD_6_1_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.01.03.04.47.42;	author jca;	state Exp;
branches;
next	;
commitid	MR9nfaKOHi9OWMFi;


desc
@@


1.1
log
@Unbreak on arm, disable assembly code.

src/utils/DivModBySame.hh:260: error: can't find a register in class 'GENERAL_REGS' while reloading 'asm'
src/utils/DivModBySame.hh:260: error: 'asm' operand has impossible constraints
@
text
@$OpenBSD$

Disable arm assembly code that asks for too many registers.

--- src/utils/DivModBySame.hh.orig	Mon Jan  2 22:12:14 2017
+++ src/utils/DivModBySame.hh	Mon Jan  2 22:43:46 2017
@@@@ -162,7 +162,7 @@@@ class DivModBySame (public)
 		);
 		return _cl_;
 	#endif
-	#elif defined(__arm__)
+	#elif defined(notdef)
 		unsigned res;
 		unsigned dummy;
 		asm volatile (
@@@@ -223,7 +223,7 @@@@ class DivModBySame (public)
 
 	unsigned mod(uint64 dividend) const
 	{
-	#ifdef __arm__
+	#ifdef notdef
 		unsigned res;
 		unsigned dummy;
 		asm volatile (
@
