head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.04.28.07.37.00;	author fcambus;	state Exp;
branches;
next	;
commitid	j4P743QZzmWcfSem;


desc
@@


1.1
log
@Fix build errors with Clang. Patches from Pkgsrc.

Binary differs so bump REVISION as well.

OK espie@@
@
text
@$OpenBSD$
--- src/include/components/CPUDyntransComponent.h.orig	Sun Aug 17 10:45:13 2014
+++ src/include/components/CPUDyntransComponent.h	Mon Apr 24 15:28:54 2017
@@@@ -47,9 +47,13 @@@@ class CPUDyntransComponent;
  * f points to a function to be executed.
  * arg[] contains arguments, such as pointers to registers, or immediate values.
  */
+class CPUDyntransComponent;
+struct DyntransIC;
+typedef void (*DyntransIC_t)(class CPUDyntransComponent*, struct DyntransIC*);
+
 struct DyntransIC
 {
-	void (*f)(CPUDyntransComponent*, DyntransIC*);
+	DyntransIC_t f;
 
 	union {
 		void* p;
@@@@ -105,7 +109,7 @@@@ class CPUDyntransComponent (public)
 protected:
 	// Implemented by specific CPU families:
 	virtual int GetDyntransICshift() const = 0;
-	virtual void (*GetDyntransToBeTranslated())(CPUDyntransComponent* cpu, DyntransIC* ic) const = 0;
+	virtual DyntransIC_t GetDyntransToBeTranslated() const = 0;
 
 	void DyntransToBeTranslatedBegin(struct DyntransIC*);
 	bool DyntransReadInstruction(uint16_t& iword);
@
