head	1.1;
access;
symbols
	OPENBSD_6_1:1.1.0.18
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.16
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.12
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.14
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.10
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.8
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.6
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.4
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2012.12.11.11.01.31;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.1
log
@- fix unpacking of multiple parts (from Gentoo, possibly via FreeBSD).

- recognise PNG files and set appropriate mime type (from FreeBSD).

- remove botched mkstemp() conversion which broke mpack(1);
a proper mkstemp conversion is intrusive.

- use some additional XXXX in the temporary filename.

- let this build with CLang scan-build.
@
text
@$OpenBSD$

Allow building with CLang's scan-build.

--- uudecode.c.orig	Mon Jul 21 21:46:37 2003
+++ uudecode.c	Tue Dec 11 10:23:21 2012
@@@@ -35,6 +35,7 @@@@ extern FILE *os_createnewfile(char *fname);
 
 static FILE *startDescFile(char *fname);
 
+void uudecodeline(char *line, FILE *outfile);
 
 /* Length of a normal uuencoded line, including newline */
 #define UULENGTH 62
@@@@ -826,7 +827,7 @@@@ uudecodefiles(char *dir, int nparts)
 /*
  * Decode a uuencoded line to 'outfile'
  */
-int uudecodeline(char *line, FILE *outfile)
+void uudecodeline(char *line, FILE *outfile)
 {
     int c, len;
 
@@@@ -845,7 +846,4 @@@@ int uudecodeline(char *line, FILE *outfile)
 	}
 	line += 4;
     }
-    return;
 }
-
-    
@
