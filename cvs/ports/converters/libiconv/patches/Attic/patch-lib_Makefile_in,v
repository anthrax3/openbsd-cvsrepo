head	1.11;
access;
symbols
	OPENBSD_4_3:1.10.0.2
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.9.0.8
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.9.0.6
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.4
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.2
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.8.0.4
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.7.0.2
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.6.0.2
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.5.0.6
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.5.0.4
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.5.0.2
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.4.0.4
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	naddy_20010312:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2008.05.28.20.03.13;	author naddy;	state dead;
branches;
next	1.10;

1.10
date	2007.08.25.13.51.08;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2005.12.24.16.11.52;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2004.09.23.07.07.01;	author pvalchev;	state Exp;
branches;
next	1.7;

1.7
date	2004.06.13.06.47.32;	author pvalchev;	state Exp;
branches;
next	1.6;

1.6
date	2003.12.24.00.08.02;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2002.06.10.04.41.48;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.23.03.08.50;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2001.08.27.13.17.17;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2001.03.15.16.12.37;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.03.12.01.32.04;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.03.12.01.32.04;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.11
log
@overdue maintenance update to 1.12; ok brad@@
@
text
@$OpenBSD: patch-lib_Makefile_in,v 1.10 2007/08/25 13:51:08 naddy Exp $
--- lib/Makefile.in.orig	Sun May 18 16:19:16 2003
+++ lib/Makefile.in	Wed Aug  1 18:35:06 2007
@@@@ -26,7 +26,7 @@@@ LIBTOOL_COMPILE = $(LIBTOOL) --mode=compile
 LIBTOOL_LINK = $(LIBTOOL) --mode=link
 LIBTOOL_INSTALL = $(LIBTOOL) --mode=install
 LIBTOOL_UNINSTALL = $(LIBTOOL) --mode=uninstall
-CP = cp
+CP = @@CP@@
 MV = mv
 LN = @@LN@@
 LN_S = @@LN_S@@
@@@@ -55,8 +55,10 @@@@ OBJECTS = iconv.lo localcharset.lo relocatable.lo
 
 all : @@PLUGLIB@@ libiconv.la
 
+libiconv_la_LDFLAGS=-version-info $(LIBICONV_VERSION_INFO) -no-undefined
+
 libiconv.la : $(OBJECTS)
-	$(LIBTOOL_LINK) $(CC) $(LDFLAGS) -o libiconv.la -rpath $(libdir) -version-info $(LIBICONV_VERSION_INFO) -no-undefined $(OBJECTS)
+	$(LIBTOOL_LINK) $(CC) $(LDFLAGS) -o libiconv.la -rpath $(libdir) $(libiconv_la_LDFLAGS) $(OBJECTS)
 
 libiconv_plug.so : libiconv_plug_@@OS@@.so
 	$(RM) libiconv_plug.so
@@@@ -89,19 +91,19 @@@@ libiconv_plug_osf.so : $(SOURCES)
 	fi
 
 iconv.lo : $(srcdir)/iconv.c $(srcdir)/converters.h $(srcdir)/encodings.def $(srcdir)/encodings_aix.def $(srcdir)/encodings_osf1.def $(srcdir)/encodings_dos.def $(srcdir)/encodings_local.def $(srcdir)/aliases.h $(srcdir)/aliases_aix.h $(srcdir)/aliases_osf1.h $(srcdir)/aliases_dos.h $(srcdir)/flags.h
-	$(LIBTOOL_COMPILE) $(CC) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(DEFS) -c $(srcdir)/iconv.c
+	$(LIBTOOL_COMPILE) $(CC) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(DEFS) $(LIBTOOL_FLAGS) -c $(srcdir)/iconv.c
 
 localcharset.lo : $(srcdir)/../libcharset/lib/localcharset.c $(srcdir)/relocatable.h
-	$(LIBTOOL_COMPILE) $(CC) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(DEFS) -c $(srcdir)/../libcharset/lib/localcharset.c
+	$(LIBTOOL_COMPILE) $(CC) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(DEFS) $(LIBTOOL_FLAGS) -c $(srcdir)/../libcharset/lib/localcharset.c
 
 relocatable.lo : $(srcdir)/relocatable.c $(srcdir)/relocatable.h
-	$(LIBTOOL_COMPILE) $(CC) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(DEFS) -c $(srcdir)/relocatable.c
+	$(LIBTOOL_COMPILE) $(CC) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(DEFS) $(LIBTOOL_FLAGS) -c $(srcdir)/relocatable.c
 
 # Installs the library and include files only. Typically called with only
 # $(libdir) and $(includedir) - don't use $(prefix) and $(exec_prefix) here.
 install-lib : all force
 	if [ ! -d $(libdir) ] ; then $(mkinstalldirs) $(libdir) ; fi
-	$(LIBTOOL_INSTALL) $(INSTALL_DATA) libiconv.la $(libdir)/libiconv.la
+	$(LIBTOOL_INSTALL) $(CP) libiconv.la $(libdir)/libiconv.la
 
 install : all force
 	if [ ! -d $(DESTDIR)$(prefix) ] ; then $(mkinstalldirs) $(DESTDIR)$(prefix) ; fi
@


1.10
log
@strl* fixes corresponding to those in devel/gettext; ok brad
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_Makefile_in,v 1.9 2005/12/24 16:11:52 espie Exp $
@


1.9
log
@SHARED_LIBS
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_Makefile_in,v 1.8 2004/09/23 07:07:01 pvalchev Exp $
d3 2
a4 2
+++ lib/Makefile.in	Sat Dec 24 17:04:04 2005
@@@@ -26,7 +26,7 @@@@ LIBTOOL_COMPILE = $(LIBTOOL) --mode=comp
d13 1
a13 1
@@@@ -55,8 +55,10 @@@@ OBJECTS = iconv.lo localcharset.lo reloc
@


1.8
log
@only do -fPIC on shared architectures where it makes sense.
unbreaks m88k; ok espie
@
text
@d1 3
a3 3
$OpenBSD: patch-lib_Makefile_in,v 1.7 2004/06/13 06:47:32 pvalchev Exp $
--- lib/Makefile.in.orig	2003-05-18 08:19:16.000000000 -0600
+++ lib/Makefile.in	2004-06-13 00:31:54.000000000 -0600
d13 13
a25 1
@@@@ -89,19 +89,19 @@@@ libiconv_plug_osf.so : $(SOURCES)
@


1.7
log
@compile 3 objects that were previously missed for some reason, with -fPIC
this fixes x11/vlc on amd64.
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_Makefile_in,v 1.6 2003/12/24 00:08:02 brad Exp $
d18 1
a18 1
+	$(LIBTOOL_COMPILE) $(CC) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(DEFS) -fPIC -DPIC -c $(srcdir)/iconv.c
d22 1
a22 1
+	$(LIBTOOL_COMPILE) $(CC) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(DEFS) -fPIC -DPIC -c $(srcdir)/../libcharset/lib/localcharset.c
d26 1
a26 1
+	$(LIBTOOL_COMPILE) $(CC) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(DEFS) -fPIC -DPIC -c $(srcdir)/relocatable.c
@


1.6
log
@upgrade to libiconv 1.9.1
@
text
@d1 3
a3 3
$OpenBSD$
--- lib/Makefile.in.orig	2003-05-18 10:19:16.000000000 -0400
+++ lib/Makefile.in	2003-12-21 13:36:54.000000000 -0500
d13 16
a28 1
@@@@ -101,7 +101,7 @@@@ relocatable.lo : $(srcdir)/relocatable.c
@


1.5
log
@upgrade to libiconv 1.8
@
text
@d1 4
a4 4
$OpenBSD: patch-lib_Makefile_in,v 1.4 2001/09/23 03:08:50 brad Exp $
--- lib/Makefile.in.orig	Thu May 23 05:48:42 2002
+++ lib/Makefile.in	Fri Jun  7 17:55:20 2002
@@@@ -22,7 +22,7 @@@@ LIBTOOL_COMPILE = $(LIBTOOL) --mode=comp
d13 1
a13 1
@@@@ -88,7 +88,7 @@@@ iconv.lo : $(srcdir)/iconv.c $(srcdir)/c
d16 1
a16 1
 	if [ ! -d $(libdir) ] ; then mkdir $(libdir) ; fi
d21 1
a21 1
 	if [ ! -d $(DESTDIR)$(prefix) ] ; then mkdir $(DESTDIR)$(prefix) ; fi
@


1.4
log
@- sync libtool patches
- bump NEED_VERSION
@
text
@d1 3
a3 3
$OpenBSD: patch-lib_Makefile_in,v 1.3 2001/08/27 13:17:17 brad Exp $
--- lib/Makefile.in.orig	Wed Jun 27 18:37:49 2001
+++ lib/Makefile.in	Sat Sep 22 13:54:47 2001
d13 1
a13 1
@@@@ -84,7 +84,7 @@@@ iconv.lo : $(srcdir)/iconv.c $(srcdir)/c
@


1.3
log
@upgrade to libiconv 1.7
--
Based on port from maintainer, libtool syncing by me.
@
text
@d1 1
a1 1
$OpenBSD$
d3 10
a12 1
+++ lib/Makefile.in	Sun Aug 26 23:18:26 2001
@


1.2
log
@Update to 1.6.1; from MAINTAINER.
@
text
@d1 4
a4 4
$OpenBSD: update-patches,v 1.3 2000/06/09 17:08:37 espie Exp $
--- lib/Makefile.in.orig	Sun Mar 11 19:37:52 2001
+++ lib/Makefile.in	Thu Mar 15 15:25:22 2001
@@@@ -79,7 +79,7 @@@@ iconv.lo : $(srcdir)/iconv.c $(srcdir)/c
@


1.1
log
@Initial revision
@
text
@d2 2
a3 2
--- lib/Makefile.in.orig	Tue Mar  6 22:25:06 2001
+++ lib/Makefile.in	Wed Mar  7 15:14:43 2001
@


1.1.1.1
log
@Import of libiconv 1.6.
Submitted by Vladimir Popov <pva48@@mail.ru>.

libiconv provides an iconv() implementation, for use on systems which
don't have one, or whose implementation cannot convert from/to Unicode.
It can convert from any of supported encodings to any other, through Unicode
conversion.
@
text
@@
