head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.8
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.40
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.38
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.36
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.34
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.32
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.30
	OPENBSD_5_0:1.1.0.28
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.26
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.24
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.22
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.20
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.18
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.16
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.14
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.12
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.10
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.8
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.6
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.4
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.2
	OPENBSD_3_7_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2014.09.27.21.46.32;	author naddy;	state Exp;
branches;
next	1.1;
commitid	P7g5S4Qj7xR1LANa;

1.1
date	2005.01.28.21.00.28;	author alek;	state Exp;
branches;
next	;


desc
@@


1.2
log
@fix big regression test
@
text
@$OpenBSD: patch-tests_bigauto_py,v 1.1 2005/01/28 21:00:28 alek Exp $
--- tests/bigauto.py.orig	Thu Apr 27 01:16:04 2000
+++ tests/bigauto.py	Sat Sep 27 22:57:00 2014
@@@@ -1,6 +1,6 @@@@
 #!/usr/bin/env python
-# Copyright © 1997, 1999, 2000 Progiciels Bourbeau-Pinard inc.
-# François Pinard <pinard@@iro.umontreal.ca>, 1997.
+# Copyright (c) 1997, 1999, 2000 Progiciels Bourbeau-Pinard inc.
+# Francois Pinard <pinard@@iro.umontreal.ca>, 1997.
 
 """\
 Produce statistics from the results of the bigauto check.
@@@@ -48,7 +48,7 @@@@ def create_data(name, recode_options, charset_options)
         charsets = []
         for line in os.popen('recode -l').readlines():
             charset = string.split(line)[0]
-            if charset[0] in ':/':
+            if charset[0] in ':/' or charset == 'data' or charset == 'tree':
                 continue
             charsets.append(charset)
     # Do the work, calling a subshell once per `before' value.
@@@@ -81,16 +81,20 @@@@ class Report:
         lensep = len(os.linesep)
         line = readline()
         while line:
-            type, request = string.split(line[:-lensep], ':', 1)
+            split = string.split(line[:-lensep], ':', 1)
+            type = split[0]
             if type == 'Request':
+                request = split[1]
                 steps = self.get_steps(request)
                 self.count_original_request(steps, request)
                 line = readline()
                 if line:
                     if len(string.split(line[:-lensep], ':', 1)) != 2:
                         print '*', line,
-                    type, shrunk_to = string.split(line[:-lensep], ':', 1)
+                    split = string.split(line[:-lensep], ':', 1) 
+                    type = split[0]
                     if type == 'Shrunk to':
+                        shrunk_to = split[1] 
                         steps = self.get_steps(shrunk_to)
                         self.count_shrunk_request(steps, shrunk_to)
                         line = readline()
@


1.1
log
@- Fix REGRESS_DEPENDS
- Explicitly link with libiconv
- Fix regression test script
- Bump PKGNAME

ok naddy@@
@
text
@d1 21
a21 3
$OpenBSD$
--- tests/bigauto.py.orig	Mon Jan 17 21:00:16 2005
+++ tests/bigauto.py	Mon Jan 17 21:01:43 2005
@

