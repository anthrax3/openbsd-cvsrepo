head	1.40;
access;
symbols
	OPENBSD_6_1:1.39.0.8
	OPENBSD_6_1_BASE:1.39
	OPENBSD_6_0:1.39.0.6
	OPENBSD_6_0_BASE:1.39
	OPENBSD_5_9:1.39.0.2
	OPENBSD_5_9_BASE:1.39
	OPENBSD_5_8:1.39.0.4
	OPENBSD_5_8_BASE:1.39
	OPENBSD_5_7:1.38.0.2
	OPENBSD_5_7_BASE:1.38
	OPENBSD_5_6:1.36.0.6
	OPENBSD_5_6_BASE:1.36
	OPENBSD_5_5:1.36.0.4
	OPENBSD_5_5_BASE:1.36
	OPENBSD_5_4:1.36.0.2
	OPENBSD_5_4_BASE:1.36
	OPENBSD_5_3:1.34.0.2
	OPENBSD_5_3_BASE:1.34
	OPENBSD_5_2:1.33.0.6
	OPENBSD_5_2_BASE:1.33
	OPENBSD_5_1_BASE:1.33
	OPENBSD_5_1:1.33.0.4
	OPENBSD_5_0:1.33.0.2
	OPENBSD_5_0_BASE:1.33
	OPENBSD_4_9:1.32.0.2
	OPENBSD_4_9_BASE:1.32
	OPENBSD_4_8:1.30.0.6
	OPENBSD_4_8_BASE:1.30
	OPENBSD_4_7:1.30.0.4
	OPENBSD_4_7_BASE:1.30
	OPENBSD_4_6:1.30.0.2
	OPENBSD_4_6_BASE:1.30
	OPENBSD_4_5:1.29.0.6
	OPENBSD_4_5_BASE:1.29
	OPENBSD_4_4:1.29.0.4
	OPENBSD_4_4_BASE:1.29
	OPENBSD_4_3:1.29.0.2
	OPENBSD_4_3_BASE:1.29
	OPENBSD_4_2:1.28.0.4
	OPENBSD_4_2_BASE:1.28
	OPENBSD_4_1:1.28.0.2
	OPENBSD_4_1_BASE:1.28
	OPENBSD_4_0:1.27.0.4
	OPENBSD_4_0_BASE:1.27
	OPENBSD_3_9:1.27.0.2
	OPENBSD_3_9_BASE:1.27
	OPENBSD_3_8:1.25.0.4
	OPENBSD_3_8_BASE:1.25
	OPENBSD_3_7:1.25.0.2
	OPENBSD_3_7_BASE:1.25
	OPENBSD_3_6:1.23.0.2
	OPENBSD_3_6_BASE:1.23
	OPENBSD_3_5:1.22.0.4
	OPENBSD_3_5_BASE:1.22
	OPENBSD_3_4:1.22.0.2
	OPENBSD_3_4_BASE:1.22
	OPENBSD_3_3:1.21.0.2
	OPENBSD_3_3_BASE:1.21
	OPENBSD_3_2:1.20.0.2
	OPENBSD_3_2_BASE:1.20
	OPENBSD_3_1:1.18.0.2
	OPENBSD_3_1_BASE:1.18
	OPENBSD_3_0:1.16.0.2
	OPENBSD_3_0_BASE:1.16
	OPENBSD_2_9_TRACKING_SWITCH:1.15
	OPENBSD_2_9:1.12.0.4
	OPENBSD_2_9_BASE:1.12
	OPENBSD_2_8:1.12.0.2
	OPENBSD_2_8_BASE:1.12
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.5.0.2
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2
	angelos_04291998:1.1.1.1
	recode:1.1.1;
locks; strict;
comment	@# @;


1.40
date	2017.04.18.17.10.05;	author jca;	state Exp;
branches;
next	1.39;
commitid	aP8lDJdrcPeOo1GC;

1.39
date	2015.03.16.18.07.38;	author naddy;	state Exp;
branches;
next	1.38;
commitid	IJdm3Zowcdkcxp5X;

1.38
date	2014.10.02.21.12.48;	author naddy;	state Exp;
branches;
next	1.37;
commitid	2zJGXdVSmNPqkBE0;

1.37
date	2014.09.27.21.46.32;	author naddy;	state Exp;
branches;
next	1.36;
commitid	P7g5S4Qj7xR1LANa;

1.36
date	2013.03.21.08.45.13;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2013.03.11.01.30.28;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2012.08.06.14.10.48;	author naddy;	state Exp;
branches;
next	1.33;

1.33
date	2011.06.08.17.32.05;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2010.10.18.17.06.06;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2010.08.30.17.11.35;	author fgsch;	state Exp;
branches;
next	1.30;

1.30
date	2009.04.25.18.02.58;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2007.09.16.01.40.28;	author merdely;	state Exp;
branches;
next	1.28;

1.28
date	2006.10.28.11.19.20;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2006.01.07.22.26.07;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2005.12.24.15.03.42;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2005.01.28.21.00.28;	author alek;	state Exp;
branches;
next	1.24;

1.24
date	2004.11.21.22.53.59;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2004.08.10.08.12.09;	author xsa;	state Exp;
branches;
next	1.22;

1.22
date	2003.04.27.21.00.21;	author avsm;	state Exp;
branches;
next	1.21;

1.21
date	2002.12.23.00.37.50;	author pvalchev;	state Exp;
branches;
next	1.20;

1.20
date	2002.07.13.23.59.12;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2002.05.13.18.50.38;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2001.10.25.18.59.10;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2001.10.25.01.46.18;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2001.10.07.14.19.54;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2001.08.02.19.00.56;	author angelos;	state Exp;
branches;
next	1.14;

1.14
date	2001.06.20.01.43.14;	author pvalchev;	state Exp;
branches;
next	1.13;

1.13
date	2001.05.05.23.11.51;	author lebel;	state Exp;
branches;
next	1.12;

1.12
date	2000.10.22.15.41.40;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.10.22.14.03.03;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.07.23.49.40;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2000.02.15.05.04.07;	author turan;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.12.08.02.11;	author turan;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.10.10.35.06;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	99.08.18.02.39.59;	author angelos;	state Exp;
branches;
next	1.5;

1.5
date	99.04.05.02.38.09;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.04.01.06.20.05;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.03.07.01.38.59;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	98.10.08.04.05.12;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.04.29.05.09.43;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.04.29.05.09.43;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.40
log
@Two fixes for clang

- don't use a 2 bits bool field (makes no sense, clang errors out)
- switch a function from __inline to __inline static, like the other
  function in this header
@
text
@# $OpenBSD: Makefile,v 1.39 2015/03/16 18:07:38 naddy Exp $

COMMENT=	convert files between character sets and usages

DISTNAME=	recode-3.6
REVISION =	10
SHARED_LIBS +=	recode               0.0      # .0.0

CATEGORIES=	converters textproc

HOMEPAGE=	http://recode.progiciels-bpi.ca

MODULES=	devel/gettext \
		lang/python

# (L)GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	c

# moved to https://github.com/pinard/Recode/
MASTER_SITES=	${MASTER_SITE_GNU:=recode/}

MODPY_RUNDEP=	No

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--without-included-gettext
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

post-extract:
	@@cd ${WRKSRC}/lib && cp -p error.c ../src

post-test:
	@@cd ${WRKBUILD}/tests && ${MAKE_PROGRAM} PYTHON=${MODPY_BIN} bigtest

.include <bsd.port.mk>
@


1.39
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2014/10/02 21:12:48 naddy Exp $
d6 1
a6 1
REVISION =	9
@


1.38
log
@Fix a loop logic error that could lead to internal errors or truncated
output; from Paul Stoeber <plstbr@@gmail.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2014/09/27 21:46:32 naddy Exp $
d6 1
a6 1
REVISION =	8
@


1.37
log
@fix big regression test
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/03/21 08:45:13 ajacoutot Exp $
d6 1
a6 1
REVISION =	7
@


1.36
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/03/11 01:30:28 espie Exp $
d35 1
a35 2
	@@cd ${WRKBUILD}/tests && ${MAKE} \
		PYTHON=${MODPY_BUILD} bigtest
@


1.35
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2012/08/06 14:10:48 naddy Exp $
a23 1
USE_LIBTOOL=	Yes
@


1.34
log
@update home page; no need for groff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/06/08 17:32:05 jasper Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d35 1
a35 1
post-regress:
@


1.33
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/10/18 17:06:06 espie Exp $
d6 1
a6 1
REVISION =	6
d11 1
a11 1
HOMEPAGE=	http://www.gnu.org/software/recode/
d22 1
a22 1
WANTLIB=		c
d24 1
a27 1
USE_GROFF =	Yes
@


1.32
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/08/30 17:11:35 fgsch Exp $
d6 1
a6 1
REVISION =	5
@


1.31
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/04/25 18:02:58 ajacoutot Exp $
d27 1
@


1.30
log
@- give regress a chance to run
- while here, regen PLIST+patches and fix license marker
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/09/16 01:40:28 merdely Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
@


1.29
log
@Remove surrounding quotes in COMMENT*/PERMIT_*

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2006/10/28 11:19:20 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
d13 2
a14 1
MODULES=	devel/gettext
d16 1
a16 1
# GPL
d21 1
d27 2
a33 2
REGRESS_DEPENDS=	:python-2.3*:lang/python/2.3

d39 1
a39 1
		PYTHON=${LOCALBASE}/bin/python bigtest
@


1.28
log
@a few more SHARED_LIBS reformat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2006/01/07 22:26:07 brad Exp $
d3 1
a3 1
COMMENT=	"convert files between character sets and usages"
@


1.27
log
@remove MODGNU_SHARED_LIBS and unused libtool 1.3 patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2005/12/24 15:03:42 espie Exp $
d7 1
a7 1
SHARED_LIBS=	recode	0.0
@


1.26
log
@SHARED_LIBS/USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2005/01/28 21:00:28 alek Exp $
a7 1
MODGNU_SHARED_LIBS=	recode ''
d15 1
a15 1
# License: GPL
a28 4

PATCH_LIST=	${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltconfig \
		${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltmain_sh \
		patch-*
@


1.25
log
@- Fix REGRESS_DEPENDS
- Explicitly link with libiconv
- Fix regression test script
- Bump PKGNAME

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/11/21 22:53:59 espie Exp $
d6 3
a8 1
PKGNAME=	${DISTNAME}p2
d25 1
@


1.24
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2004/08/10 08:12:09 xsa Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d32 1
a32 1
REGRESS_DEPENDS=	:python-*:lang/python
@


1.23
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/04/27 21:00:21 avsm Exp $
d19 1
@


1.22
log
@fix on our current ELF ld, which seems to require all symbols
to be resolved (even unused ones?).  this fixes the php4 build;
pkgname has been bumped.

patch from wilfried@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2002/12/23 00:37:50 pvalchev Exp $
d12 1
a12 1
MODULES=	gettext
@


1.21
log
@Remove Angelos from maintainer per his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2002/07/13 23:59:12 brad Exp $
d6 2
d32 3
@


1.20
log
@add HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/05/13 18:50:38 espie Exp $
a8 2

MAINTAINER=	Angelos D. Keromytis <angelos@@openbsd.org>
@


1.19
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/10/25 18:59:10 brad Exp $
d7 2
a8 1
NEED_VERSION=	1.474
d13 1
a13 1
			
@


1.18
log
@add missing libtool patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/10/25 01:46:18 brad Exp $
d19 1
a19 2
MASTER_SITES=	${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR= recode
@


1.17
log
@use gettext module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/10/07 14:19:54 espie Exp $
d22 8
a29 3
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=--without-included-gettext
CONFIGURE_ENV+=CFLAGS="${CFLAGS} -I${LOCALBASE}/include"
d31 1
a31 1
REGRESS_DEPENDS=:python-*:lang/python
d34 2
a35 1
	cd ${WRKBUILD}/tests && ${MAKE} PYTHON=${LOCALBASE}/bin/python bigtest
@


1.16
log
@Full testsuite, this includes a dependency on python and some looong wait.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/08/02 19:00:56 angelos Exp $
d7 1
a7 1
NEED_VERSION=	1.402
d11 1
a11 1
LIB_DEPENDS=            intl::devel/gettext
@


1.15
log
@Update to 3.6, and use libintl; from heko@@iki.fi
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/06/20 01:43:14 pvalchev Exp $
d25 5
@


1.14
log
@Remove deprecated LICENSE_TYPE and set appropriate # comments
with its contents.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/05/05 23:11:51 lebel Exp $
d5 1
a5 1
DISTNAME=	recode-3.5
d11 2
d23 2
@


1.13
log
@converters: bebye COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/10/22 15:41:40 espie Exp $
d11 1
a11 1
LICENSE_TYPE=		GPL
@


1.12
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.11 2000/10/22 14:03:03 espie Exp $
d7 1
a7 1
NEED_VERSION=	1.305
@


1.11
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/03/07 23:49:40 espie Exp $
d5 1
a5 1
NEED_VERSION=	1.218
a14 1
FAKE=Yes
d18 1
a18 1
GNU_CONFIGURE=	Yes
@


1.10
log
@Fake.
gettext automake fragment is *moronic*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/02/15 05:04:07 turan Exp $
d7 1
a7 1
MAINTAINER=	angelos@@openbsd.org
@


1.9
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/12 08:02:11 turan Exp $
d4 2
a5 1
CATEGORIES=	converters
d10 4
a13 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d15 1
@


1.8
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/10 10:35:06 espie Exp $
d9 4
a12 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.7
log
@USE_AUTOCONF Misuse (USE_AUTOCONF means that the port needs to run autoconf)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/08/18 02:39:59 angelos Exp $
d7 6
@


1.6
log
@Version 3.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/04/05 02:38:09 brad Exp $
d11 1
a11 2
USE_AUTOCONF=	yes
GNU_CONFIGURE=	yes
@


1.5
log
@old configure that doesnt understand --sysconfdir, add USE_AUTOCONF to workaround it
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/04/01 06:20:05 brad Exp $
d3 1
a3 1
DISTNAME=	recode-3.4
@


1.4
log
@fix dependency lists, fix email address's and remove unnecessary comments
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/03/07 01:38:59 brad Exp $
d11 2
a12 1
GNU_CONFIGURE=	YES
@


1.3
log
@add MASTER_SITE_SUBDIR
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.2 1998/10/08 04:05:12 marc Exp $
#
@


1.2
log
@update makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/04/29 05:09:43 angelos Exp $
d10 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 6
# OpenBSD makefile for:	recode
# Version required:	3.4
# Date created:		29 April 1998
# Whom:			Angelos D. Keromytis
#
# $OpenBSD$
a5 1
MASTER_SITES=	${MASTER_SITE_GNU}
d8 2
@


1.1.1.1
log
@recode port.
@
text
@@
