head	1.47;
access;
symbols
	OPENBSD_6_1:1.47.0.2
	OPENBSD_6_1_BASE:1.47
	OPENBSD_6_0:1.42.0.2
	OPENBSD_6_0_BASE:1.42
	OPENBSD_5_9:1.40.0.2
	OPENBSD_5_9_BASE:1.40
	OPENBSD_5_8:1.37.0.4
	OPENBSD_5_8_BASE:1.37
	OPENBSD_5_7:1.36.0.2
	OPENBSD_5_7_BASE:1.36
	OPENBSD_5_6:1.35.0.2
	OPENBSD_5_6_BASE:1.35
	OPENBSD_5_5:1.32.0.2
	OPENBSD_5_5_BASE:1.32
	OPENBSD_5_4:1.29.0.2
	OPENBSD_5_4_BASE:1.29
	OPENBSD_5_3:1.27.0.2
	OPENBSD_5_3_BASE:1.27
	OPENBSD_5_2:1.23.0.2
	OPENBSD_5_2_BASE:1.23
	OPENBSD_5_1_BASE:1.21
	OPENBSD_5_1:1.21.0.2
	OPENBSD_5_0:1.17.0.2
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.8.0.2
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.7.0.2
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	jasper_20090511:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.47
date	2017.02.10.10.06.00;	author ajacoutot;	state Exp;
branches;
next	1.46;
commitid	5sdN2KooiXpKvgjn;

1.46
date	2016.10.31.11.12.04;	author ajacoutot;	state Exp;
branches;
next	1.45;
commitid	LyNisoR16DbBRXVh;

1.45
date	2016.10.08.09.45.13;	author ajacoutot;	state Exp;
branches;
next	1.44;
commitid	vCu6ey76isvqCXFS;

1.44
date	2016.09.01.22.44.39;	author ajacoutot;	state Exp;
branches;
next	1.43;
commitid	ztpxf6rHIMWRVgEZ;

1.43
date	2016.08.04.14.14.41;	author ajacoutot;	state Exp;
branches;
next	1.42;
commitid	r0tR0xeKx9WPqpoY;

1.42
date	2016.04.29.10.57.53;	author naddy;	state Exp;
branches;
next	1.41;
commitid	xPBPI0YceXZYUtIj;

1.41
date	2016.03.11.20.28.23;	author naddy;	state Exp;
branches;
next	1.40;
commitid	UYLP8TE6V7RS2GhJ;

1.40
date	2015.12.30.14.43.30;	author ajacoutot;	state Exp;
branches;
next	1.39;
commitid	Fro9gsXzBTmUVrAH;

1.39
date	2015.11.24.09.11.03;	author jasper;	state Exp;
branches;
next	1.38;
commitid	x9aAifyKiYiivEom;

1.38
date	2015.09.17.22.30.42;	author ajacoutot;	state Exp;
branches;
next	1.37;
commitid	vDMLDreLjsesmBSj;

1.37
date	2015.04.06.16.56.22;	author ajacoutot;	state Exp;
branches;
next	1.36;
commitid	EuyXUO0y40kTVa7o;

1.36
date	2015.01.24.13.46.44;	author schwarze;	state Exp;
branches;
next	1.35;
commitid	r3ywIYD0rT3uuQW8;

1.35
date	2014.03.26.18.36.16;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2014.03.26.18.04.26;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2014.03.17.23.21.26;	author sthen;	state Exp;
branches;
next	1.32;

1.32
date	2014.01.28.14.43.29;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2014.01.27.14.52.56;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2013.09.27.08.09.16;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2013.03.21.08.45.13;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2013.03.11.01.30.27;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2012.09.28.12.22.46;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2012.09.28.11.38.48;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2012.09.11.20.42.21;	author landry;	state Exp;
branches;
next	1.24;

1.24
date	2012.08.26.07.19.55;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2012.05.08.03.00.41;	author okan;	state Exp;
branches;
next	1.22;

1.22
date	2012.04.30.17.04.28;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2012.01.09.18.25.44;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2011.09.16.08.48.02;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2011.09.12.16.47.21;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2011.09.12.16.47.05;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.06.08.17.32.05;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2011.04.18.11.51.07;	author landry;	state Exp;
branches;
next	1.15;

1.15
date	2011.04.15.09.56.22;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.15.00.22.50;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.06.10.18.38;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.10.24.21.06.36;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.18.17.06.06;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.08.30.17.11.35;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	2010.08.26.11.11.54;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2010.04.22.20.21.37;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.02.13.13.10.19;	author landry;	state Exp;
branches;
next	1.6;

1.6
date	2010.01.26.12.58.37;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2009.10.15.11.13.57;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2009.09.17.07.12.05;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2009.09.16.18.05.14;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.06.17.01.03.35;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2009.05.11.09.36.17;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.05.11.09.36.17;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.47
log
@Update to libpst-0.6.70.
@
text
@# $OpenBSD: Makefile,v 1.46 2016/10/31 11:12:04 ajacoutot Exp $

BROKEN-hppa=		linking .libs/python-libpst.o fails

COMMENT-main=		read and convert Microsoft Outlook mail files
COMMENT-python=		python interface to libpst

DISTNAME=		libpst-0.6.70

SHARED_LIBS +=  pst                  3.0      # 5.14

PKGNAME-main=		${DISTNAME}
PKGNAME-python=		py-${DISTNAME}

CATEGORIES=		converters mail

HOMEPAGE=		http://www.five-ten-sg.com/libpst/

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

cWANTLIB += m pthread stdc++

WANTLIB-main += ${cWANTLIB} iconv intl 
WANTLIB-main += bz2 c expat ffi fontconfig freetype gd gio-2.0
WANTLIB-main += glib-2.0 gmodule-2.0 gobject-2.0 gsf-1 jpeg pcre png
WANTLIB-main += pthread-stubs tiff vpx xml2 z m pthread stdc++ lzma

WANTLIB-python += ${cWANTLIB} iconv
WANTLIB-python += pst util boost_python

MASTER_SITES=		${HOMEPAGE}/packages/ \
			https://distfiles.nl/

MULTI_PACKAGES=		-main -python

MODULES=		lang/python

BUILD_DEPENDS=		graphics/ImageMagick
RUN_DEPENDS-main=	graphics/ImageMagick
LIB_DEPENDS-main=	devel/libgsf \
			graphics/gd

LIB_DEPENDS-python=	${BASE_PKGPATH} \
			devel/boost

USE_GMAKE=		Yes

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--enable-pst-debug \
			--disable-static-tools \
			--enable-libpst-shared
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${MODPY_INCDIR}" \
			LDFLAGS="-L${LOCALBASE}/lib" \
			PYTHON_LDFLAGS="-L${LOCALBASE}/lib -lpython${MODPY_VERSION} -lm" \
			PYTHON_BIN="python${MODPY_VERSION}"

# XXX eats all memory
.if ${MACHINE_ARCH} == "sparc64" || ${MACHINE_ARCH} == "hppa"
CFLAGS+=	-O0
.endif

FAKE_FLAGS+=		htmldir="${PREFIX}/share/doc/libpst/" \
			htmldeveldir="${PREFIX}/share/doc/libpst/devel/"

pre-configure:
	${SUBST_CMD} ${WRKSRC}/configure

post-install:
	rm ${PREFIX}/lib/python${MODPY_VERSION}/site-packages/*.{a,la}

.include <bsd.port.mk>
@


1.46
log
@Update to libpst-0.6.69.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2016/10/08 09:45:13 ajacoutot Exp $
d8 1
a8 1
DISTNAME=		libpst-0.6.69
@


1.45
log
@Take MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2016/09/01 22:44:39 ajacoutot Exp $
d8 1
a8 2
REVISION-main=		0
REVISION-python=	0
d10 1
a10 3
DISTNAME=		libpst-0.6.68

SHARED_LIBS +=  pst                  3.0      # 5.13
d41 1
a41 1
BUILD_DEPENDS=		${RUN_DEPENDS-main}
@


1.44
log
@Update to libpst-0.6.68.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2016/08/04 14:14:41 ajacoutot Exp $
d8 3
d21 2
@


1.43
log
@Update to libpst-0.6.67.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2016/04/29 10:57:53 naddy Exp $
d8 1
a8 1
DISTNAME=		libpst-0.6.67
d10 1
a10 1
SHARED_LIBS +=  pst                  3.0      # 5.12
@


1.42
log
@replace libiconv and gettext modules
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2016/03/11 20:28:23 naddy Exp $
d8 1
a8 3
DISTNAME=		libpst-0.6.66
REVISION-main=		0
REVISION-python=	0
d10 1
a10 1
SHARED_LIBS +=  pst                  3.0      # 5.11
@


1.41
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2015/12/30 14:43:30 ajacoutot Exp $
d9 2
d26 1
a26 1
WANTLIB-main += ${cWANTLIB} ${MODGETTEXT_WANTLIB}
d31 1
a31 1
WANTLIB-python += ${cWANTLIB} ${MODLIBICONV_WANTLIB}
d39 1
a39 3
MODULES=		converters/libiconv \
			devel/gettext \
			lang/python
d43 1
a43 2
LIB_DEPENDS-main=	${MODGETTEXT_LIB_DEPENDS} \
			devel/libgsf \
d46 1
a46 2
LIB_DEPENDS-python=	${MODLIBICONV_LIB_DEPENDS} \
			${BASE_PKGPATH} \
@


1.40
log
@Update to libpst-0.6.66.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2015/11/24 09:11:03 jasper Exp $
d54 1
a54 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--enable-pst-debug \
@


1.39
log
@switch distfiles.nl to SSL, setup with security/letsencrypt/client
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2015/09/17 22:30:42 ajacoutot Exp $
d8 1
a8 1
DISTNAME=		libpst-0.6.65
d10 1
a10 1
SHARED_LIBS +=  pst                  3.0      # 5.10
@


1.38
log
@Update to libpst-0.6.65.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2015/04/06 16:56:22 ajacoutot Exp $
d33 1
a33 1
			http://distfiles.nl/
@


1.37
log
@Update to libpst-0.6.64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2015/01/24 13:46:44 schwarze Exp $
d8 1
a8 1
DISTNAME=		libpst-0.6.64
@


1.36
log
@only minor formatting differences; drop USE_GROFF; no bump needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2014/03/26 18:36:16 ajacoutot Exp $
d8 1
a8 3
DISTNAME=		libpst-0.6.63
REVISION-main=		2
REVISION-python=	2
d27 1
a27 1
WANTLIB-main += pthread-stubs tiff vpx xml2 z m pthread stdc++
@


1.35
log
@Cleanup wantlib.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2014/03/26 18:04:26 ajacoutot Exp $
a53 1
USE_GROFF =		Yes
@


1.34
log
@MODLIBICONV_LIB_DEPENDS -> MODGETTEXT_LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2014/03/17 23:21:26 sthen Exp $
d9 2
a10 2
REVISION-main=		1
REVISION-python=	1
d24 1
a24 1
cWANTLIB += m pthread stdc++ ${MODGETTEXT_WANTLIB}
d26 2
a27 2
WANTLIB-main += ${cWANTLIB}
WANTLIB-main += X11 Xpm bz2 c expat ffi fontconfig freetype gd gio-2.0
d29 1
a29 1
WANTLIB-main += pthread-stubs tiff vpx xcb xml2 z
d31 1
a31 1
WANTLIB-python += ${cWANTLIB}
d39 2
a40 1
MODULES=		devel/gettext \
d49 1
a49 1
LIB_DEPENDS-python=	${MODGETTEXT_LIB_DEPENDS} \
@


1.33
log
@sync follow graphics/gd update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2014/01/28 14:43:29 ajacoutot Exp $
d9 2
a10 1
REVISION=		0
d44 1
a44 1
LIB_DEPENDS-main=	${MODLIBICONV_LIB_DEPENDS} \
d48 1
a48 1
LIB_DEPENDS-python=	${MODLIBICONV_LIB_DEPENDS} \
@


1.32
log
@Evil typo spotted by nigel; did not package = no bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2014/01/27 14:52:56 ajacoutot Exp $
d9 1
d23 1
a23 1
cWANTLIB += m pthread stdc++ ${MODLIBICONV_WANTLIB}
d26 3
a28 3
WANTLIB-main += bz2 c expat ffi fontconfig freetype gd gio-2.0 glib-2.0
WANTLIB-main += gmodule-2.0 gobject-2.0 gsf-1 intl jpeg pcre png pthread-stubs
WANTLIB-main += xml2 z
d38 1
a38 1
MODULES=		converters/libiconv \
@


1.31
log
@Update to libpst-0.6.63.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/09/27 08:09:16 ajacoutot Exp $
d10 1
a10 1
HARED_LIBS +=  pst                  3.0      # 5.10
@


1.30
log
@Update to libpst-0.6.61.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/03/21 08:45:13 ajacoutot Exp $
d8 1
a8 1
DISTNAME=		libpst-0.6.61
d10 1
a10 1
SHARED_LIBS +=  pst                  3.0      # 5.9
@


1.29
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/03/11 01:30:27 espie Exp $
d8 3
a10 2
DISTNAME=		libpst-0.6.55
SHARED_LIBS +=  pst                  2.0      # 5.5
d25 3
a27 2
WANTLIB-main += c expat fontconfig freetype jpeg m png pthread stdc++
WANTLIB-main += gd>=20 z
d30 1
a30 1
WANTLIB-python += pst>=1 util boost_python
d43 1
@


1.28
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2012/09/28 12:22:46 ajacoutot Exp $
a46 1
USE_LIBTOOL=		Yes
@


1.27
log
@Update to libpst-0.6.55.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/09/28 11:38:48 jasper Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.26
log
@- use SUBST_CMD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/09/11 20:42:21 landry Exp $
d8 2
a9 2
DISTNAME=		libpst-0.6.54
SHARED_LIBS +=  pst                  2.0      # .4.1
a13 3
REVISION-main=		1
REVISION-python=	0

d57 1
a57 1
			--enable-static-tools=no \
d74 3
@


1.25
log
@Restore CFLAGS+=-O0 on sparc64 and hppa, this is still needed (and was
NOT a gcc3 workaround). Without it the build on sparc64 gobbles all
memory, takes the machine to a halt, and gets killed after a unfinite
amount of time. Brad, next time, please test it at least.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/05/08 03:00:41 okan Exp $
d76 1
a76 3
	perl -pi -e 's,!!MODPY_VERSION!!,${MODPY_VERSION},;' \
		-e 's,!!LOCALBASE!!,${LOCALBASE},' \
		${WRKSRC}/configure
@


1.24
log
@Remove -pthread hack and gcc3 optimizer workarounds for sparc64/hppa.

from Brad
@
text
@d67 5
@


1.23
log
@depend on ImageMagick, as opposed to ImageMagick,no_x11 (which is going
away).

ok ajacoutot@@, ajacoutot@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/04/30 17:04:28 jasper Exp $
d14 2
a15 1
REVISION-main=		0
a65 7

CFLAGS+=		-pthread

# XXX eats all memory
.if ${MACHINE_ARCH} == "sparc64" || ${MACHINE_ARCH} == "hppa"
CFLAGS+=        -O0
.endif
@


1.22
log
@add extra mirror as the original can be quite flaky
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/01/09 18:25:44 ajacoutot Exp $
d14 2
d44 1
a44 1
RUN_DEPENDS-main=	graphics/ImageMagick,no_x11
@


1.21
log
@Update to libpst-0.6.54.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/09/16 08:48:02 espie Exp $
d33 2
a34 1
MASTER_SITES=		${HOMEPAGE}/packages/
@


1.20
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/09/12 16:47:21 ajacoutot Exp $
d8 2
a9 2
DISTNAME=		libpst-0.6.49
SHARED_LIBS +=  pst                  1.0      # .4.1
a13 3
REVISION-main=		0
REVISION-python=	2

d59 1
@


1.19
log
@Meh, missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/09/12 16:47:05 ajacoutot Exp $
d15 1
a15 1
REVISION-python=	1
@


1.18
log
@By default, depend on the no_x11 FLAVOR or ImageMagick.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/06/08 17:32:05 jasper Exp $
d15 1
a15 1
REVISION-python=	0
@


1.17
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/04/18 11:51:07 landry Exp $
d13 2
d34 1
a34 1
WANTLIB-python += pst>=1 boost_python>=1 util
d44 1
a44 1
RUN_DEPENDS-main=	graphics/ImageMagick
@


1.16
log
@Mark as BROKEN-hppa, linking fails with strange messages related to
boost symbols.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/04/15 09:56:22 ajacoutot Exp $
d13 1
@


1.15
log
@Update to libpst-0.6.49.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.14 2010/11/15 00:22:50 espie Exp $
@


1.14
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/06 10:18:38 espie Exp $
d6 1
a6 1
DISTNAME=		libpst-0.6.45
a10 1
REVISION-python =	0
d22 3
d26 1
a26 2
WANTLIB-main += z
WANTLIB-main += gd>=20 ${MODLIBICONV_WANTLIB}
d28 2
a29 1
WANTLIB-python += pst>=1 boost_python>=1 ${MODLIBICONV_WANTLIB}
a56 1
			LDFLAGS="-L${LOCALBASE}/lib -pthread" \
d69 5
@


1.13
log
@convert libiconv to new wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/10/24 21:06:36 ajacoutot Exp $
d25 1
a25 1
WANTLIB-main += gd.>=20 ${MODLIBICONV_WANTLIB}
d27 1
a27 1
WANTLIB-python += pst.>=1 boost_python.>=1 ${MODLIBICONV_WANTLIB}
d37 1
a37 1
RUN_DEPENDS-main=	::graphics/ImageMagick
d39 1
a39 1
			::graphics/gd
d42 2
a43 2
			::${BASE_PKGPATH} \
			::devel/boost
d47 1
a47 1
USE_GROFF =	Yes
@


1.12
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/18 17:06:06 espie Exp $
d25 3
d39 1
a39 1
			gd.>=20::graphics/gd
d42 2
a43 2
			pst.>=1::${BASE_PKGPATH} \
			boost_python.>=1::devel/boost
@


1.11
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/08/30 17:11:35 fgsch Exp $
a41 1
USE_X11=		Yes
@


1.10
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/08/26 11:11:54 jasper Exp $
d45 1
@


1.9
log
@- missing USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/04/22 20:21:37 ajacoutot Exp $
d11 1
@


1.8
log
@Maintainance update to libpst-0.6.45.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/02/13 13:10:19 landry Exp $
d41 1
@


1.7
log
@Use -O0 too on hppa to let this brain^Wmemory-eater build.
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/01/26 12:58:37 landry Exp $
d6 1
a6 1
DISTNAME=		libpst-0.6.43
d9 2
a10 2
PKGNAME-main=		${DISTNAME}p1
PKGNAME-python=		py-${DISTNAME}p1
@


1.6
log
@Use -O0 on sparc64 until someone figures what makes gcc eat all
memory. This allows libpst (and thus evolution) to build on sparc64.
ok jasper@@ sthen@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/10/15 11:13:57 sthen Exp $
d9 2
a10 2
PKGNAME-main=		${DISTNAME}p0
PKGNAME-python=		py-${DISTNAME}p0
d57 1
a57 1
.if ${MACHINE_ARCH} == "sparc64"
@


1.5
log
@Unbreak if the python2.6 binary is present; no bump necessary.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/09/17 07:12:05 ajacoutot Exp $
d9 2
a10 2
PKGNAME-main=		${DISTNAME}
PKGNAME-python=		py-${DISTNAME}
d55 5
@


1.4
log
@Missing build dependency (typo from the subpackaging move).

Spotted by STeve Andre', thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/09/16 18:05:14 ajacoutot Exp $
d51 2
a52 1
			PYTHON_LDFLAGS="-L${LOCALBASE}/lib -lpython${MODPY_VERSION} -lm"
@


1.3
log
@Major update to libpst-0.6.43.

This port comes in 2 packages now: -main and -python. That is to keep
the -main dependencies lighter.

Successfully tested by jasper@@ and myself.
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/06/17 01:03:35 sthen Exp $
d32 1
a32 1
BUILD_DEPENDS=		${RUN_DEPENDS}
@


1.2
log
@fix some slightly questionable dependencies, bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/05/11 09:36:17 jasper Exp $
d3 8
a10 1
COMMENT=		read and convert Microsoft Outlook mail files
a11 3
DISTNAME=		libpst-0.6.37
PKGNAME=		${DISTNAME}p0
SHARED_LIBS +=  pst                  0.0      # .3.0
d22 3
d27 1
a27 1
WANTLIB += c expat fontconfig freetype jpeg m png stdc++ z
d29 2
a30 1
MODULES=		converters/libiconv
d33 7
a39 2
RUN_DEPENDS=		::graphics/ImageMagick
LIB_DEPENDS=		gd::graphics/gd
d49 5
a53 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d20 1
a20 1
WANTLIB += c m stdc++
d25 2
a26 2
RUN_DEPENDS=		::graphics/ImageMagick \
			::graphics/gd
@


1.1.1.1
log
@import libpst 0.6.37

Tools for converting Outlook .pst files to Unix mbox and other formats.

ok ajacoutot@@
@
text
@@
