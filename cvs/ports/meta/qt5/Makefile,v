head	1.4;
access;
symbols
	OPENBSD_6_1:1.1.1.1.0.2
	OPENBSD_6_1_BASE:1.1.1.1
	zhuk_20161225:1.1.1.1
	zhuk:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2017.07.29.00.07.13;	author zhuk;	state Exp;
branches;
next	1.3;
commitid	PLavWrVVGir1L8eQ;

1.3
date	2017.07.17.08.34.37;	author zhuk;	state Exp;
branches;
next	1.2;
commitid	3tUsNizeEEvC87c0;

1.2
date	2017.05.31.07.55.05;	author espie;	state Exp;
branches;
next	1.1;
commitid	7Jy223NIR7ocT7Mf;

1.1
date	2016.12.25.13.34.44;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;
commitid	kXWi4AFCUA20oLfZ;

1.1.1.1
date	2016.12.25.13.34.44;	author zhuk;	state Exp;
branches;
next	;
commitid	kXWi4AFCUA20oLfZ;


desc
@@


1.4
log
@Rework the process of building Qt5 documentation:

Now all documentation is built using a separate port using
the --single-exec option of qdoc. This gaves significant speedup
as well as fixing quiet a few interlinking problems.

All -qch, -html and -docindex subpackages of Qt modules ports are
removed. The qt5-html and qt5-qch are now provided by x11/qt5/docs
instead of meta/qt5, thus REVISION set from the start.

This commit should fix problems with building Qt5 documentation
that people started seeing after switching to Clang. We also could
zap some interdependencies between Qt5 modules as well, but that's
a different story.
@
text
@# $OpenBSD: Makefile,v 1.3 2017/07/17 08:34:37 zhuk Exp $

COMMENT-main =		C++ general-purpose toolkit, meta-package
COMMENT-examples =	examples for Qt5, meta-package

PKGNAME =		qt5-${MODQT5_VERSION}
PKGNAME-main =		${PKGNAME}
PKGNAME-examples =	qt5-examples-${MODQT5_VERSION}

MULTI_PACKAGES =	-main -examples

MODULES =		x11/qt5
MODQT5_DEPS =		No
MODQT5_USE_GCC4_MODULE =No

WANTLIB-main =
LIB_DEPENDS-main =
RUN_DEPENDS-main =	\
			x11/qt5/qt3d,-main=${MODQT5_VERSION} \
			x11/qt5/qtbase,-main=${MODQT5_VERSION} \
			x11/qt5/qtcanvas3d,-main=${MODQT5_VERSION} \
			x11/qt5/qtcharts,-main=${MODQT5_VERSION} \
			x11/qt5/qtdatavis3d,-main=${MODQT5_VERSION} \
			x11/qt5/qtdeclarative,-main=${MODQT5_VERSION} \
			x11/qt5/qtdeclarative,,-xmllistmodel=${MODQT5_VERSION} \
			x11/qt5/qtgamepad,-main=${MODQT5_VERSION} \
			x11/qt5/qtgraphicaleffects,-main=${MODQT5_VERSION} \
			x11/qt5/qtimageformats,-main=${MODQT5_VERSION} \
			x11/qt5/qtlocation,-main=${MODQT5_VERSION} \
			x11/qt5/qtmultimedia,-main=${MODQT5_VERSION} \
			x11/qt5/qtnetworkauth,-main=${MODQT5_VERSION} \
			x11/qt5/qtpurchasing,-main=${MODQT5_VERSION} \
			x11/qt5/qtquickcontrols,-main=${MODQT5_VERSION} \
			x11/qt5/qtquickcontrols2,-main=${MODQT5_VERSION} \
			x11/qt5/qtremoteobjects,-main=${MODQT5_VERSION} \
			x11/qt5/qtscript,-main=${MODQT5_VERSION} \
			x11/qt5/qtscxml,-main=${MODQT5_VERSION} \
			x11/qt5/qtsensors,-main=${MODQT5_VERSION} \
			x11/qt5/qtserialbus,-main=${MODQT5_VERSION} \
			x11/qt5/qtserialport,-main=${MODQT5_VERSION} \
			x11/qt5/qtspeech,-main=${MODQT5_VERSION} \
			x11/qt5/qtsvg,-main=${MODQT5_VERSION} \
			x11/qt5/qttools,-main=${MODQT5_VERSION} \
			x11/qt5/qttranslations=${MODQT5_VERSION} \
			x11/qt5/qtvirtualkeyboard,-main=${MODQT5_VERSION} \
			x11/qt5/qtwebchannel,-main=${MODQT5_VERSION} \
			x11/qt5/qtwebkit,-main=${MODQT5_WEBKIT_VERSION} \
			x11/qt5/qtwebsockets,-main=${MODQT5_VERSION} \
			x11/qt5/qtx11extras,-main=${MODQT5_VERSION} \
			x11/qt5/qtxmlpatterns,-main=${MODQT5_VERSION} \

WANTLIB-examples =
LIB_DEPENDS-examples =
RUN_DEPENDS-examples =	\
			x11/qt5/qt3d,-examples=${MODQT5_VERSION} \
			x11/qt5/qtbase,-examples=${MODQT5_VERSION} \
			x11/qt5/qtcanvas3d,-examples=${MODQT5_VERSION} \
			x11/qt5/qtcharts,-examples=${MODQT5_VERSION} \
			x11/qt5/qtdatavis3d,-examples=${MODQT5_VERSION} \
			x11/qt5/qtdeclarative,,-examples=${MODQT5_VERSION} \
			x11/qt5/qtgamepad,-examples=${MODQT5_VERSION} \
			x11/qt5/qtlocation,-examples=${MODQT5_VERSION} \
			x11/qt5/qtmultimedia,,-examples=${MODQT5_VERSION} \
			x11/qt5/qtnetworkauth,-examples=${MODQT5_VERSION} \
			x11/qt5/qtpurchasing,-examples=${MODQT5_VERSION} \
			x11/qt5/qtquickcontrols,-examples=${MODQT5_VERSION} \
			x11/qt5/qtquickcontrols2,-examples=${MODQT5_VERSION} \
			x11/qt5/qtremoteobjects,-examples=${MODQT5_VERSION} \
			x11/qt5/qtscript,-examples=${MODQT5_VERSION} \
			x11/qt5/qtscxml,-examples=${MODQT5_VERSION} \
			x11/qt5/qtsensors,-examples=${MODQT5_VERSION} \
			x11/qt5/qtserialbus,-examples=${MODQT5_VERSION} \
			x11/qt5/qtserialport,-examples=${MODQT5_VERSION} \
			x11/qt5/qtspeech,-examples=${MODQT5_VERSION} \
			x11/qt5/qtsvg,-examples=${MODQT5_VERSION} \
			x11/qt5/qttools,,-examples=${MODQT5_VERSION} \
			x11/qt5/qtvirtualkeyboard,-examples=${MODQT5_VERSION} \
			x11/qt5/qtwebchannel,-examples=${MODQT5_VERSION} \
			x11/qt5/qtwebkit-examples=${MODQT5_WEBKIT_VERSION} \
			x11/qt5/qtwebsockets,-examples=${MODQT5_VERSION} \
			x11/qt5/qtxmlpatterns,-examples=${MODQT5_VERSION} \

.include <bsd.port.mk>
@


1.3
log
@Update from Qt 5.6.2 (LTS) to Qt 5.9.1 (LTS).

Tested with both GCC and CLang (less through).

This forces updating x11/py-qt5, which forces update of devel/py-sip,
which forces update of x11/py-qt4, but, thankfully, no breakage detected.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2017/05/31 07:55:05 espie Exp $
a4 2
COMMENT-html =		offline HTML documentation for Qt5, meta-package
COMMENT-qch =		offline QCH documentation for Qt5, meta-package
a8 2
PKGNAME-html =		qt5-html-${MODQT5_VERSION}
PKGNAME-qch =		qt5-qch-${MODQT5_VERSION}
d10 1
a10 1
MULTI_PACKAGES =	-main -examples -html -qch
a81 70

WANTLIB-html =
LIB_DEPENDS-html =
RUN_DEPENDS-html =	\
			x11/qt5/qt3d,-html=${MODQT5_VERSION} \
			x11/qt5/qtactiveqt,-html=${MODQT5_VERSION} \
			x11/qt5/qtbase-docs,-html=${MODQT5_VERSION} \
			x11/qt5/qtcanvas3d,-html=${MODQT5_VERSION} \
			x11/qt5/qtcharts,-html=${MODQT5_VERSION} \
			x11/qt5/qtdatavis3d,-html=${MODQT5_VERSION} \
			x11/qt5/qtdeclarative,,-html=${MODQT5_VERSION} \
			x11/qt5/qtdoc,-html=${MODQT5_VERSION} \
			x11/qt5/qtgamepad,-html=${MODQT5_VERSION} \
			x11/qt5/qtgraphicaleffects,-html=${MODQT5_VERSION} \
			x11/qt5/qtimageformats,-html=${MODQT5_VERSION} \
			x11/qt5/qtlocation,-html=${MODQT5_VERSION} \
			x11/qt5/qtmultimedia,,-html=${MODQT5_VERSION} \
			x11/qt5/qtnetworkauth,-html=${MODQT5_VERSION} \
			x11/qt5/qtpurchasing,-html=${MODQT5_VERSION} \
			x11/qt5/qtquickcontrols,-html=${MODQT5_VERSION} \
			x11/qt5/qtquickcontrols2,-html=${MODQT5_VERSION} \
			x11/qt5/qtremoteobjects,-html=${MODQT5_VERSION} \
			x11/qt5/qtscript,-html=${MODQT5_VERSION} \
			x11/qt5/qtscxml,-html=${MODQT5_VERSION} \
			x11/qt5/qtsensors,-html=${MODQT5_VERSION} \
			x11/qt5/qtserialbus,-html=${MODQT5_VERSION} \
			x11/qt5/qtserialport,-html=${MODQT5_VERSION} \
			x11/qt5/qtspeech,-html=${MODQT5_VERSION} \
			x11/qt5/qtsvg,-html=${MODQT5_VERSION} \
			x11/qt5/qtvirtualkeyboard,-html=${MODQT5_VERSION} \
			x11/qt5/qtwebchannel,-html=${MODQT5_VERSION} \
			x11/qt5/qtwebkit,-html=${MODQT5_WEBKIT_VERSION} \
			x11/qt5/qtwebsockets,-html=${MODQT5_VERSION} \
			x11/qt5/qtx11extras,-html=${MODQT5_VERSION} \
			x11/qt5/qtxmlpatterns,-html=${MODQT5_VERSION} \

WANTLIB-qch =
LIB_DEPENDS-qch =
RUN_DEPENDS-qch =	\
			x11/qt5/qt3d,-qch=${MODQT5_VERSION} \
			x11/qt5/qtactiveqt,-qch=${MODQT5_VERSION} \
			x11/qt5/qtbase-docs,-qch=${MODQT5_VERSION} \
			x11/qt5/qtcanvas3d,-qch=${MODQT5_VERSION} \
			x11/qt5/qtcharts,-qch=${MODQT5_VERSION} \
			x11/qt5/qtdatavis3d,-qch=${MODQT5_VERSION} \
			x11/qt5/qtdeclarative,,-qch=${MODQT5_VERSION} \
			x11/qt5/qtdoc,-qch=${MODQT5_VERSION} \
			x11/qt5/qtgamepad,-qch=${MODQT5_VERSION} \
			x11/qt5/qtgraphicaleffects,-qch=${MODQT5_VERSION} \
			x11/qt5/qtimageformats,-qch=${MODQT5_VERSION} \
			x11/qt5/qtlocation,-qch=${MODQT5_VERSION} \
			x11/qt5/qtmultimedia,,-qch=${MODQT5_VERSION} \
			x11/qt5/qtnetworkauth,-qch=${MODQT5_VERSION} \
			x11/qt5/qtpurchasing,-qch=${MODQT5_VERSION} \
			x11/qt5/qtquickcontrols,-qch=${MODQT5_VERSION} \
			x11/qt5/qtquickcontrols2,-qch=${MODQT5_VERSION} \
			x11/qt5/qtremoteobjects,-qch=${MODQT5_VERSION} \
			x11/qt5/qtscript,-qch=${MODQT5_VERSION} \
			x11/qt5/qtscxml,-qch=${MODQT5_VERSION} \
			x11/qt5/qtsensors,-qch=${MODQT5_VERSION} \
			x11/qt5/qtserialbus,-qch=${MODQT5_VERSION} \
			x11/qt5/qtserialport,-qch=${MODQT5_VERSION} \
			x11/qt5/qtspeech,-qch=${MODQT5_VERSION} \
			x11/qt5/qtsvg,-qch=${MODQT5_VERSION} \
			x11/qt5/qtvirtualkeyboard,-qch=${MODQT5_VERSION} \
			x11/qt5/qtwebchannel,-qch=${MODQT5_VERSION} \
			x11/qt5/qtwebkit,-qch=${MODQT5_WEBKIT_VERSION} \
			x11/qt5/qtwebsockets,-qch=${MODQT5_VERSION} \
			x11/qt5/qtx11extras,-qch=${MODQT5_VERSION} \
			x11/qt5/qtxmlpatterns,-qch=${MODQT5_VERSION} \
@


1.2
log
@replace dependencies by stuff that actually exists, as the bootstrap
requires pseudo flavors, which are actually default, and do NOT contain
those subpackages. Somehow no-one noticed those packages haven't been
in snapshots for a while
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2016/12/25 13:34:44 zhuk Exp $
d26 2
d29 2
a30 1
			x11/qt5/qtenginio,-main=${MODQT5_VERSION:C/^[0-9]+/1/} \
d35 2
d39 1
d41 1
d45 1
d49 1
d51 1
a51 1
			x11/qt5/qtwebkit,-main=${MODQT5_VERSION} \
d62 2
d65 1
a65 1
			x11/qt5/qtenginio,-examples=${MODQT5_VERSION:C/^[0-9]+/1/} \
d67 3
a69 1
			x11/qt5/qtmultimedia,-examples=${MODQT5_VERSION} \
d72 1
d74 1
d78 1
d81 1
d83 1
d92 1
d94 2
d98 1
a98 1
			x11/qt5/qtenginio,-html=${MODQT5_VERSION:C/^[0-9]+/1/} \
d102 3
a104 1
			x11/qt5/qtmultimedia,-html=${MODQT5_VERSION} \
d107 1
d109 1
d113 1
d115 1
d117 1
a117 1
			x11/qt5/qtwebkit,-html=${MODQT5_VERSION} \
d127 1
d129 2
d133 1
a133 1
			x11/qt5/qtenginio,-qch=${MODQT5_VERSION:C/^[0-9]+/1/} \
d137 3
a139 1
			x11/qt5/qtmultimedia,-qch=${MODQT5_VERSION} \
d142 1
d144 1
d148 1
d150 1
d152 1
a152 1
			x11/qt5/qtwebkit,-qch=${MODQT5_VERSION} \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d53 1
a53 1
			x11/qt5/qtdeclarative,-examples=${MODQT5_VERSION} \
d64 1
a64 1
			x11/qt5/qttools,-examples=${MODQT5_VERSION} \
d75 1
a75 1
			x11/qt5/qtdeclarative,-html=${MODQT5_VERSION} \
d101 1
a101 1
			x11/qt5/qtdeclarative,-qch=${MODQT5_VERSION} \
@


1.1.1.1
log
@Import meta/qt5, this will replace qt5, qt5-html, qt5-qch
and qt5-examples soon.
@
text
@@
