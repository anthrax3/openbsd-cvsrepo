head	1.20;
access;
symbols
	OPENBSD_2_9:1.17.0.2
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.15.0.2
	OPENBSD_2_8_BASE:1.15
	OPENBSD_2_7:1.13.0.2
	OPENBSD_2_7_BASE:1.13
	OPENBSD_2_6:1.7.0.2
	OPENBSD_2_6_BASE:1.7
	OPENBSD_2_5:1.1.1.1.0.2
	OPENBSD_2_5_BASE:1.1.1.1
	brad_1999-03-14:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.20
date	2001.05.10.19.42.35;	author lebel;	state dead;
branches;
next	1.19;

1.19
date	2001.05.10.18.58.30;	author lebel;	state Exp;
branches;
next	1.18;

1.18
date	2001.05.06.03.49.25;	author lebel;	state Exp;
branches;
next	1.17;

1.17
date	2001.02.11.04.20.10;	author brad;	state Exp;
branches
	1.17.2.1;
next	1.16;

1.16
date	2001.01.03.19.28.16;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2000.07.05.14.50.55;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.07.05.03.51.24;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2000.03.31.16.31.08;	author espie;	state Exp;
branches
	1.13.2.1;
next	1.12;

1.12
date	2000.03.26.02.00.17;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.02.15.05.05.14;	author turan;	state Exp;
branches;
next	1.10;

1.10
date	2000.02.12.06.30.03;	author turan;	state Exp;
branches;
next	1.9;

1.9
date	99.12.10.14.38.56;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	99.12.07.22.48.59;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	99.10.07.19.52.34;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.09.14.10.43.54;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	99.09.10.22.26.14;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.09.10.22.20.21;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.08.05.03.03.29;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.06.23.16.51.10;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.03.14.07.55.31;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.03.14.07.55.31;	author brad;	state Exp;
branches;
next	;

1.13.2.1
date	2000.09.15.05.16.23;	author marc;	state Exp;
branches;
next	;

1.17.2.1
date	2001.06.12.23.49.16;	author lebel;	state Exp;
branches;
next	;


desc
@@


1.20
log
@- reorg shells/zsh and shells/zsh-devel into zsh/stable and zsh/snapshot.
- update shells/Makefile
- OK'ed by naddy@@
@
text
@# $OpenBSD: Makefile,v 1.19 2001/05/10 18:58:30 lebel Exp $

COMMENT=	"the Z shell, Bourne shell-compatible, development flavor"

VERSION=	3.1.9
DISTNAME=	zsh-${VERSION}
CATEGORIES=	shells
NEED_VERSION=	1.402
MASTER_SITES=	ftp://ftp.zsh.org/zsh/ \
		ftp://ftp.sterling.com/zsh/ \
		ftp://ftp.rge.com/pub/zsh/ \
		ftp://ftp.cenatls.cena.dgac.fr/pub/shells/zsh/ \
		ftp://mrrl.lut.ac.uk/zsh/ \
		ftp://ftp.fu-berlin.de/pub/unix/shells/zsh/ \
		ftp://ftp.ips.oz.au/pub/packages/zsh/ \
		ftp://ftp.uit.no/pub/unix/shells/zsh/

HOMEPAGE=	http://www.zsh.org/

MAINTAINER=	David Lebel <lebel@@openbsd.org>

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

SUBST_VARS=	VERSION

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--enable-zsh-mem --enable-zsh-secure-free \
		--enable-fndir='$${datadir}/zsh/functions' \
		--disable-dynamic

FLAVORS=	static
FLAVOR?=

.if ${FLAVOR:L} == "static"
CONFIGURE_ENV=	LDFLAGS="-static"
.endif

.include <bsd.port.mk>
@


1.19
log
@take over MAINTAINERship of shells/zsh and shells/zsh-devel.
naddy@@ agreed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/05/06 03:49:25 lebel Exp $
@


1.18
log
@shells: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/02/11 04:20:10 brad Exp $
d20 1
a20 1
MAINTAINER=	ports@@openbsd.org
@


1.17
log
@VERSION variable
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.16 2001/01/03 19:28:16 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.336
@


1.17.2.1
log
@the distfiles were moved after the release of 4.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/02/11 04:20:10 brad Exp $
d7 8
a14 8
MASTER_SITES=	ftp://ftp.zsh.org/zsh/old/ \
		ftp://ftp.sterling.com/zsh/old/ \
		ftp://ftp.rge.com/pub/zsh/old/ \
		ftp://ftp.cenatls.cena.dgac.fr/pub/shells/zsh/old/ \
		ftp://mrrl.lut.ac.uk/zsh/old/ \
		ftp://ftp.fu-berlin.de/pub/unix/shells/zsh/old/ \
		ftp://ftp.ips.oz.au/pub/packages/zsh/old/ \
		ftp://ftp.uit.no/pub/unix/shells/zsh/old/
@


1.16
log
@- fixup Makefile
- add missing HOMEPAGE
- remove unnecessary FAKE_FLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/07/05 14:50:55 brad Exp $
d3 2
a4 1
DISTNAME=	zsh-3.1.9
d24 2
@


1.15
log
@- use proper FAKE_FLAGS instead of the post-configure hack
- sync and sort PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/07/05 03:51:24 brad Exp $
d3 1
a3 1
DISTNAME=       zsh-3.1.9
d5 1
a5 1
NEED_VERSION=	1.310
d15 2
d29 1
a29 3
FAKE_FLAGS=	MAKEDEFS="DESTDIR=\"${WRKINST}\""

FLAVORS=static
a31 3
.if defined(STATIC) && ${STATIC:U} == YES
FLAVOR=static
.endif
d33 1
a33 1
CONFIGURE_ENV+=	LDFLAGS=-static
@


1.14
log
@upgrade to zsh 3.1.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/03/31 16:31:08 espie Exp $
d23 5
a27 1
CONFIGURE_ARGS=	--enable-zsh-mem --enable-zsh-secure-free --enable-dynamic
a37 5

# zsh-devel REALLY doesn't want DESTDIR where I want it... so coerce it.

post-configure:
	@@perl -pi.bak -e 's,/usr/local,\$${DESTDIR}/usr/local,' ${WRKBUILD}/Makefile
@


1.13
log
@Flavored shells.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/03/26 02:00:17 espie Exp $
d3 1
a3 1
DISTNAME=       zsh-3.1.6
d5 1
a5 1
NEED_VERSION=	1.240
a16 1
LICENSE_TYPE=		BSD
d22 1
a22 1
GNU_CONFIGURE=		Yes
a23 1
FAKE=		Yes
d25 2
a27 6
# zsh-devel REALLY doesn't want DESTDIR where I want it... so coerce it.

post-configure:
	@@perl -pi.bak -e 's,/usr/local,\$${DESTDIR}/usr/local,' ${WRKBUILD}/Makefile

FLAVORS=static
a30 2
FLAVOR?=

d35 4
@


1.13.2.1
log
@bring shells as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/07/05 14:50:55 brad Exp $
d3 1
a3 1
DISTNAME=       zsh-3.1.9
d5 1
a5 1
NEED_VERSION=	1.310
d17 1
d23 3
a25 4
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--enable-zsh-mem --enable-zsh-secure-free \
		--enable-fndir='$${datadir}/zsh/functions' \
		--disable-dynamic
d27 5
a31 1
FAKE_FLAGS=	MAKEDEFS="DESTDIR=\"${WRKINST}\""
a33 2
FLAVOR?=

d37 2
d42 1
@


1.12
log
@Fake, a bit harder than usual...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/02/15 05:05:14 turan Exp $
d5 1
a5 1
NEED_VERSION=	1.233
d33 1
a33 1
# invoke make with STATIC=yes to build a static binary
d35 5
a40 1
PKGNAME=	${DISTNAME}-static
@


1.11
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/02/12 06:30:03 turan Exp $
d5 1
d18 4
a21 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d23 1
a23 1
GNU_CONFIGURE=	yes
d25 7
a38 3
post-install:
	@@install-info ${PREFIX}/info/zsh.info ${PREFIX}/info/dir
	@@PKG_PREFIX="${PREFIX}" sh ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL
@


1.10
log
@bsd licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/12/10 14:38:56 brad Exp $
d17 4
a20 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.9
log
@check to make sure that STATIC is set to yes instead of just being defined
and use :U modifier as well.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/12/07 22:48:59 brad Exp $
d15 6
@


1.8
log
@- remove texinfo install-info workaround
- change maintainer to ports@@
- improve patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/10/07 19:52:34 brad Exp $
d19 2
a20 2
# invoke with -DSTATIC to build a static binary
.if defined(STATIC)
d22 1
a22 1
PKGNAME= ${DISTNAME}-static
@


1.7
log
@move post-installation notice from Makefile to separate INSTALL script so
it is displayed when this port is made into a package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/09/14 10:43:54 espie Exp $
d14 1
a14 1
MAINTAINER=	brad@@openbsd.org
a25 3
	@@if [ ! -f ${PREFIX}/info/dir ]; then \
	  ${SED} -ne '1,/Menu:/p' /usr/share/info/dir > ${PREFIX}/info/dir; \
	fi
d27 1
a27 1
	@@PKG_PREFIX="${PREFIX}" ${SH} ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL
@


1.6
log
@Shell disagrees with extra-quotes.
Don't change Makefile, provide extra tweaking button instead.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/09/10 22:26:14 brad Exp $
d30 1
a30 7
	@@$(ECHO)
	@@$(ECHO) "Finished installing $(DISTNAME)"
	@@$(ECHO) "To complete the install, you should notify the system"
	@@$(ECHO) "that $(PREFIX)/bin/zsh is a valid shell by adding it to"
	@@$(ECHO) "/etc/shells."
	@@$(ECHO) "If you are unfamiliar with this file, consult the shells(5)"
	@@$(ECHO) "manual page."
@


1.5
log
@remove a dist site which seems to have disappeared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/09/10 22:20:21 brad Exp $
d19 5
a23 2
# If you want to build a static binary, uncomment the following line
#CONFIGURE_ENV+=	"LDFLAGS=-static"
@


1.4
log
@building a static binary has been broken. fix it; from FreeBSD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/08/05 03:03:29 brad Exp $
a5 1
		ftp://ftp.math.gatech.edu/pub/zsh/ \
@


1.3
log
@upgrade to zsh-devel 3.1.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/06/23 16:51:10 brad Exp $
d21 1
a21 1
#LDFLAGS+=-static
@


1.2
log
@removed unnecessary MAN tag
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/03/14 07:55:31 brad Exp $
d3 1
a3 1
DISTNAME=       zsh-3.1.5
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a19 3
MAN1=		zsh.1 zshbuiltins.1 zshcompctl.1 zshexpn.1 zshmisc.1 \
		zshoptions.1 zshall.1 zshparam.1 zshzle.1 zshmodules.1

d26 1
a26 1
	 fi
@


1.1.1.1
log
@add zsh-devel port
@
text
@@
