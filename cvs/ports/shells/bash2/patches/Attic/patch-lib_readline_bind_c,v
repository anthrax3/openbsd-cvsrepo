head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2002.09.29.01.31.06;	author naddy;	state dead;
branches;
next	1.1;

1.1
date	2002.08.06.16.27.07;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- Fix coredump on startup for ELF platforms.
- Apply all official patches that have appeared so far.
@
text
@$OpenBSD: patch-lib_readline_bind_c,v 1.1 2002/08/06 16:27:07 naddy Exp $
--- lib/readline/bind.c.orig	Tue Aug  6 17:52:20 2002
+++ lib/readline/bind.c	Tue Aug  6 17:52:52 2002
@@@@ -311,7 +311,7 @@@@ rl_generic_bind (type, keyseq, data, map
 	     mapped to something, `abc' to be mapped to something else,
 	     and the function bound  to `a' to be executed when the user
 	     types `abx', leaving `bx' in the input queue. */
-	  if (k.function /* && k.type == ISFUNC */)
+	  if (k.function && ((k.type == ISFUNC && k.function != rl_do_lowercase_version) || k.type == ISMACR))
 	    {
 	      map[ANYOTHERKEY] = k;
 	      k.function = 0;
@


1.1
log
@Apparently readline dies on some kinds of input.
Fix from Chet Ramey <chet@@po.CWRU.Edu>.
@
text
@d1 1
a1 1
$OpenBSD$
@

