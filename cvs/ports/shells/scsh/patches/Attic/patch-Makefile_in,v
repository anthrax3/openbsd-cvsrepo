head	1.4;
access;
symbols
	OPENBSD_4_0:1.3.0.18
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.16
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.14
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.12
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.10
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.8
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.6
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.4
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2007.02.04.15.54.19;	author steven;	state dead;
branches;
next	1.3;

1.3
date	2002.07.07.05.59.35;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.04.00.24.59;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.04.23.26.31;	author lebel;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to scsh 0.6.7, and mark it not for 64 bit archs

from Martynas Venckus <martynas at altroot.org>
@
text
@$OpenBSD: patch-Makefile_in,v 1.3 2002/07/07 05:59:35 pvalchev Exp $
--- Makefile.in.orig	Fri Jul  5 18:22:29 2002
+++ Makefile.in	Fri Jul  5 18:22:38 2002
@@@@ -31,7 +31,9 @@@@ manext = 1
 mandir = @@mandir@@/man$(manext)
 ### End of `configure' section###
 
-htmldir = $(libdir)/scsh/doc/scsh-manual/html
+sharedir = @@datadir@@/scsh
+docdir = @@datadir@@/doc/scsh
+htmldir = $(docdir)/scsh-manual/html
 
 # HP 9000 series, if you don't have gcc
 #   CC = cc
@@@@ -344,31 +346,31 @@@@ install-cig: cig
 inst-misc:
 	for stub in env big opt misc link srfi; do				\
 		for f in scheme/$$stub/*.scm; do			\
-			$(INSTALL_DATA) $$f $(LIB)/$$stub || exit 1;	\
+			$(INSTALL_DATA) $$f $(sharedir)/$$stub || exit 1;	\
 		done;							\
 	done &&								\
 	for f in scheme/rts/*num.scm scheme/rts/jar-defrecord.scm; do	\
-		$(INSTALL_DATA) $$f $(LIB)/rts || exit 1;		\
+		$(INSTALL_DATA) $$f $(sharedir)/rts || exit 1;		\
 	done 
 
 inst-doc:
 	for f in $(srcdir)/doc/*.txt $(srcdir)/doc/*.ps; do \
-		$(INSTALL_DATA) $$f $(LIB)/doc/; 				\
+		$(INSTALL_DATA) $$f $(docdir)/; 				\
 	done &&									\
 	for f in $(srcdir)/doc/src/*.tex 					\
 		$(srcdir)/doc/src/*.dvi						\
 		$(srcdir)/doc/src/*.ps;						\
-		do $(INSTALL_DATA) $$f $(LIB)/doc/s48-manual/;			\
+		do $(INSTALL_DATA) $$f $(docdir)/s48-manual/;			\
 	done &&									\
 	for f in $(srcdir)/doc/src/manual/*.html;				\
-		do $(INSTALL_DATA) $$f $(LIB)/doc/s48-manual/html/;		\
+		do $(INSTALL_DATA) $$f $(docdir)/s48-manual/html/;		\
 	done &&									\
 	for f in $(srcdir)/doc/scsh-manual/*.tex 				\
 		$(srcdir)/doc/scsh-manual/*.sty 				\
 		$(srcdir)/doc/scsh-manual/*.dvi					\
 		$(srcdir)/doc/scsh-manual/*.ps					\
 		$(srcdir)/doc/scsh-manual/*.pdf;				\
-		do $(INSTALL_DATA) $$f $(LIB)/doc/scsh-manual/;			\
+		do $(INSTALL_DATA) $$f $(docdir)/scsh-manual/;			\
 	done &&									\
 	for f in $(srcdir)/doc/scsh-manual/html/*.html 				\
 		$(srcdir)/doc/scsh-manual/html/*.gif 				\
@@@@ -379,11 +381,11 @@@@ inst-doc:
 		$(srcdir)/doc/scsh-paper/*.sty 					\
 		$(srcdir)/doc/scsh-paper/*.dvi					\
 		$(srcdir)/doc/scsh-paper/*.ps;					\
-		do $(INSTALL_DATA) $$f $(LIB)/doc/scsh-paper/;			\
+		do $(INSTALL_DATA) $$f $(docdir)/scsh-paper/;			\
 	done &&									\
 	for f in $(srcdir)/doc/scsh-paper/html/*.html 				\
 		$(srcdir)/doc/scsh-paper/html/*.css;				\
-		do $(INSTALL_DATA) $$f $(LIB)/doc/scsh-paper/html;		\
+		do $(INSTALL_DATA) $$f $(docdir)/scsh-paper/html;		\
 	done
 
 
@@@@ -406,19 +408,24 @@@@ go:
 	chmod +x $@@
 
 dirs:
-	for dir in $(libdir) $(bindir) $(incdir) $(LIB) $(mandir) $(htmldir); do\
+	for dir in $(libdir) $(bindir) $(incdir) $(LIB) $(mandir) 	\
+			$(sharedir) $(docdir) $(htmldir) $(LIB)/cig; do	\
 		{ mkdir -p $$dir && [ -w $$dir ]; } || {		\
 			echo "$$dir not a writable directory" >&2;	\
 			exit 1;						\
 	}								\
 	done &&								\
-	for dir in								\
-		rts env big opt misc link srfi scsh doc/scsh-manual			\
-		doc/s48-manual/html doc/scsh-paper/html cig; do			\
-		{ mkdir -p $(LIB)/$$dir && [ -w $(LIB)/$$dir ]; } || {		\
-			echo "$(LIB)/$$dir not a writable directory" >&2; 	\
-		exit 1;						  		\
-		};							  	\
+	for dir in scsh-manual s48-manual/html scsh-paper; do		\
+		{ mkdir -p $(docdir)/$$dir && [ -w $(docdir)/$$dir ]; } || {	\
+			echo "$(docdir)/$$dir  not a writable directory" >&2;	\
+			exit 1;							\
+		}								\
+	done &&									\
+	for dir in rts env big opt misc link scsh; do				\
+		{ mkdir -p $(sharedir)/$$dir && [ -w $(sharedir)/$$dir ]; } || {\
+			echo "$(sharedir)/$$dir not a writable directory" >&2;	\
+			exit 1;							\
+		};								\
 	done
 
 configure: configure.in
@@@@ -897,7 +904,7 @@@@ install-scsh: scsh install-scsh-image
 	$(INSTALL_PROGRAM) $(srcdir)/$(LIBSCSH) $(libdir)/$(LIBSCSH)
 	$(RANLIB) $(libdir)/$(LIBSCSH)
 	for f in $(srcdir)/scsh/*.scm $(srcdir)/scsh/*/*.scm; \
-	    do $(INSTALL_DATA) $$f $(LIB)/scsh/; done
+	    do $(INSTALL_DATA) $$f $(sharedir)/scsh/; done
 
 install-scsh-image: $(VM) scsh/scsh.image
 	(	echo ',translate =scheme48 $(LIB)';			\
@


1.3
log
@Update to scsh-0.6.2; from maintainer David Simas <davids@@idiom.com>
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@Update to 0.6.1; submitted by David Simas <davids@@idiom.com>.
@
text
@d2 2
a3 2
--- Makefile.in.orig	Sun Mar  3 09:39:21 2002
+++ Makefile.in	Sun Mar  3 09:39:25 2002
d15 1
a15 1
@@@@ -344,29 +346,29 @@@@ install-cig: cig
d17 1
a17 1
 	for stub in env big opt misc link; do				\
d44 1
d46 2
a47 1
 		$(srcdir)/doc/scsh-manual/*.ps;					\
d53 15
a67 1
@@@@ -393,17 +395,22 @@@@ go:
d80 2
a81 2
-		rts env big opt misc link scsh doc/scsh-manual 			\
-		doc/s48-manual/html cig; do					\
d84 3
a86 1
+	for dir in scsh-manual s48-manual/html; do			\
d94 3
a96 3
+			echo "$(sharedir)/$$dir not a writable directory" >&2; 	\
 		exit 1;						  		\
 		};							  	\
d98 3
a100 1
@@@@ -878,7 +885,7 @@@@ install-scsh: scsh install-scsh-image
@


1.1
log
@update shells/scsh to 0.5.3;
requested and tested by Chad Dougherty <chad@@stalphonsos.com>;
re-generated the patches
@
text
@d2 5
a6 3
--- Makefile.in.orig	Mon Jun  4 01:18:29 2001
+++ Makefile.in	Mon Sep  3 22:28:07 2001
@@@@ -148,7 +148,7 @@@@ CONFIG_FILES = interfaces.scm low-packag
d8 4
a11 4
 # The following is the first rule and therefore the "make" command's
 # default target.
-enough: $(VM) $(IMAGE) script $(LIBCIG) scsh $(LIBSCSH) $(MANPAGE) .notify
+enough: $(VM) $(IMAGE) script $(LIBCIG) scsh $(LIBSCSH) $(MANPAGE)
d13 14
a26 12
 # The developers are curious to know.  Don't be concerned if this fails.
 # You may comment these lines out if you wish to be discourteous.
@@@@ -286,6 +286,7 @@@@ install-dirs:
 	$(RM) -r $(LIB).old
 	if [ -d $(LIB) ] ; then mv $(LIB) $(LIB).old ; fi
 	mkdir $(LIB)
+	mkdir $(LIB)/emacs
 	mkdir $(LIB)/big
 	mkdir $(LIB)/cig
 	mkdir $(LIB)/doc
@@@@ -313,8 +314,8 @@@@ install-inc: scheme48.h
 	$(INSTALL_DATA) $(srcdir)/scheme48.h $(incdir)/
d28 25
a52 7
 install-cig: cig
-	$(INSTALL_PROGRAM) $(srcdir)/$(CIG) $(LIB)/cig
-	$(INSTALL_PROGRAM) $(srcdir)/$(CIG).image $(LIB)/cig
+	$(INSTALL_DATA) $(srcdir)/$(CIG) $(LIB)/cig
+	$(INSTALL_DATA) $(srcdir)/$(CIG).image $(LIB)/cig
 	$(INSTALL_DATA) $(srcdir)/$(LIBCIG) $(LIB)/cig
 	$(INSTALL_DATA) $(srcdir)/cig/libcig.h $(LIB)/cig
d54 28
a81 16
@@@@ -322,6 +323,7 @@@@ install-misc: $(LIB)/rts $(LIB)/env $(LI
 	      $(LIB)/misc $(LIB)/link $(LIB)/vm $(LIB)/doc
 	for f in $(srcdir)/rts/*num.scm; \
 	    do $(INSTALL_DATA) $$f $(LIB)/rts/; done
+	for f in $(srcdir)/emacs/*; do $(INSTALL_DATA) $$f $(LIB)/emacs/; done
 	for f in $(srcdir)/env/*.scm; do $(INSTALL_DATA) $$f $(LIB)/env/; done
 	for f in $(srcdir)/big/*.scm; do $(INSTALL_DATA) $$f $(LIB)/big/; done
 	for f in $(srcdir)/opt/*.scm; do $(INSTALL_DATA) $$f $(LIB)/opt/; done
@@@@ -729,8 +731,8 @@@@ install-scsh: scsh
 	$(RM) $(bindir)/$(RUNNABLE)$(EXEEXT)
 	$(INSTALL_PROGRAM) $(srcdir)/scsh/scsh$(EXEEXT) \
 	    $(bindir)/$(RUNNABLE)$(EXEEXT)
-	$(INSTALL_PROGRAM) $(srcdir)/scsh/scsh.image $(LIB)/scsh.image
-	$(INSTALL_PROGRAM) $(srcdir)/$(LIBSCSH) $(libdir)/$(LIBSCSH)
+	$(INSTALL_DATA) $(srcdir)/scsh/scsh.image $(LIB)/scsh.image
+	$(INSTALL_DATA) $(srcdir)/$(LIBSCSH) $(libdir)/$(LIBSCSH)
d83 6
a88 2
 	for f in $(srcdir)/scsh/*.scm; \
 	    do $(INSTALL_DATA) $$f $(LIB)/scsh/; done
@

