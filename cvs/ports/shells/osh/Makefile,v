head	1.10;
access;
symbols
	OPENBSD_6_0:1.9.0.2
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.4.0.4
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.2.0.4
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.1.1.1.0.4
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.2
	OPENBSD_5_2_BASE:1.1.1.1
	pascal_20122706:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.10
date	2017.01.28.21.54.34;	author pascal;	state Exp;
branches;
next	1.9;
commitid	nwuxNwnSabNtrdWa;

1.9
date	2016.05.18.10.04.31;	author pascal;	state Exp;
branches;
next	1.8;
commitid	T5kWmc9tUOR4mEi3;

1.8
date	2016.05.15.15.34.45;	author pascal;	state Exp;
branches;
next	1.7;
commitid	NlsQJq1LckyLSAOe;

1.7
date	2016.05.07.12.40.58;	author pascal;	state Exp;
branches;
next	1.6;
commitid	Fec0PsLcTwj1Q99H;

1.6
date	2016.01.13.11.36.54;	author pascal;	state Exp;
branches;
next	1.5;
commitid	646423le16xuvy65;

1.5
date	2015.04.08.18.21.48;	author pascal;	state Exp;
branches;
next	1.4;
commitid	7cewhdDFlQ0U2fAX;

1.4
date	2014.04.27.06.35.08;	author benoit;	state Exp;
branches;
next	1.3;

1.3
date	2014.03.09.19.47.41;	author pascal;	state Exp;
branches;
next	1.2;

1.2
date	2013.03.11.11.41.29;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2012.06.26.22.02.32;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.06.26.22.02.32;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.10
log
@Update to osh 4.3.0; enable regression tests.
@
text
@# $OpenBSD: Makefile,v 1.9 2016/05/18 10:04:31 pascal Exp $

COMMENT =		Sixth Edition UNIX Shell

V =			4.3.0
DISTNAME =		osh-$V
EPOCH =			0

SUBST_VARS +=		V

CATEGORIES =		shells

HOMEPAGE =		http://v6shell.org

MAINTAINER =		Pascal Stumpf <pascal@@stumpf.co>

# BSD
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =		c

MASTER_SITES =		${HOMEPAGE}/src/

MAKE_FLAGS =		SYSCONFDIR="${SYSCONFDIR}" PREFIX="${TRUEPREFIX}" \
			BINGRP="-g ${BINGRP}" MANGRP="-g ${MANGRP}" \
			BINMODE="-m ${BINMODE}" MANMODE="-m ${MANMODE}" \
			MANDIR="${PREFIX}/man/man1"

TEST_TARGET =		check

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/osh
	${INSTALL_DATA} ${WRKSRC}/examples/etc.osh.login \
		${PREFIX}/share/examples/osh/osh.login
	${INSTALL_DATA} ${WRKSRC}/examples/etc.osh.logout \
		${PREFIX}/share/examples/osh/osh.logout
	${INSTALL_DATA} ${WRKSRC}/examples/etc.osh.oshrc \
		${PREFIX}/share/examples/osh/osh.oshrc

.include <bsd.port.mk>
@


1.9
log
@Update to 4.2.1, from upstream maintainer J.A. Neitzel.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2016/05/15 15:34:45 pascal Exp $
d5 1
a5 1
V =			4.2.1
d29 1
a29 1
NO_TEST =		Yes
d34 1
a34 1
	${INSTALL_DATA} ${WRKSRC}/examples/OpenBSD/osh.login \
d36 1
a36 1
	${INSTALL_DATA} ${WRKSRC}/examples/OpenBSD/osh.logout \
d38 1
a38 1
	${INSTALL_DATA} ${WRKSRC}/examples/OpenBSD/osh.oshrc \
@


1.8
log
@Update to new upstream version 4.2.0, bump EPOCH.  Fix some nits in DESCR and
PLIST.

Mostly by upstream maintainer J.A. Neitzel, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2016/05/07 12:40:58 pascal Exp $
d5 1
a5 1
V =			4.2.0
d34 1
a34 1
	${INSTALL_DATA} ${WRKSRC}/examples/etc.osh.login \
d36 1
a36 1
	${INSTALL_DATA} ${WRKSRC}/examples/etc.osh.logout \
d38 1
a38 1
	${INSTALL_DATA} ${WRKSRC}/examples/etc.osh.oshrc \
@


1.7
log
@Update my mail address.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/01/13 11:36:54 pascal Exp $
d5 1
a5 1
V =			20160108
d7 1
a7 1
REVISION =		0
d35 1
a35 1
		${PREFIX}/share/examples/osh.login
d37 1
a37 1
		${PREFIX}/share/examples/osh.logout
d39 1
a39 1
		${PREFIX}/share/examples/osh.oshrc
@


1.6
log
@Update to new snapshot 20160108.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/04/08 18:21:48 pascal Exp $
d7 1
d15 1
a15 1
MAINTAINER =		Pascal Stumpf <Pascal.Stumpf@@cubes.de>
@


1.5
log
@Update to new snapshot osh-20150115; use MAKE_FLAGS instead of patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2014/04/27 06:35:08 benoit Exp $
d5 1
a5 1
V =			20150115
@


1.4
log
@Update osh to 20140410.

ok pascal@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2014/03/09 19:47:41 pascal Exp $
d5 4
a8 1
DISTNAME =		osh-20140410
d23 4
a26 1
MAKE_FLAGS =		SYSCONFDIR="${SYSCONFDIR}" PREFIX="${TRUEPREFIX}"
@


1.3
log
@Update to new snapshot osh-20131109.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/03/11 11:41:29 espie Exp $
d5 1
a5 1
DISTNAME =		osh-20131109
@


1.2
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/06/26 22:02:32 pascal Exp $
d5 1
a5 1
DISTNAME =		osh-20120604
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a14 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d22 1
a22 1
NO_REGRESS =		Yes
@


1.1.1.1
log
@Osh(1) is an enhanced, backward-compatible port of the Sixth Edition
Thompson shell. Sh6(1) is an unenhanced port of the shell, and
glob6(1) is a port of its global command. Together, sh6 and glob6
provide a user interface which is backward compatible with that
provided by the Sixth Edition Thompson shell and global command,
but without the obvious enhancements found in osh.

The original Thompson shell was principally written by Ken Thompson
of Bell Labs.

ok landry@@
@
text
@@
