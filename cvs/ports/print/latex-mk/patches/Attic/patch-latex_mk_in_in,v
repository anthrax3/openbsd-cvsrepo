head	1.2;
access;
symbols
	OPENBSD_4_6:1.1.1.1.0.12
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.10
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.8
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.6
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.4
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	steven-20070131:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2009.08.24.07.03.02;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2007.01.31.22.38.03;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.31.22.38.03;	author steven;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update latex-mk to 1.9.1
= regen patches while here

from Andreas Bihlmaier (MAINTAINER), thanks
@
text
@$OpenBSD: patch-latex_mk_in_in,v 1.1 2007/01/31 22:38:03 steven Exp $

adds DVIPS_ENV functionality.

--- latex.mk.in.in.orig	Tue Jan 30 21:38:37 2007
+++ latex.mk.in.in	Tue Jan 30 21:42:32 2007
@@@@ -60,6 +60,7 @@@@
 #  DVIPDFM_ENV  = environment variables set when running the dvipdfm executable
 #  DVIPDFM_FLAGS= flags passed to the dvipdfm executable
 #  DVIPS	= the dvips executable
+#  DVIPS_ENV	= environment variables set when running the dvips executable
 #  DVIPS_FLAGS	= flags passed to the dvips executable
 #  GZIP		= gzip program
 #  GV		= a postscript previewer executable
@@@@ -145,6 +146,7 @@@@ DVIPDFM_ENV?=	
 DVIPDFM_FLAGS+=	
 DVIPDFM_LANDSCAPE_FLAGS?=	-l
 DVIPS?=		@@DVIPS@@
+DVIPS_ENV?=	
 DVIPS_FLAGS+=	-j0
 DVIPS_LANDSCAPE_FLAGS?=	-t landscape
 ECHO?=		@@ECHO@@
@@@@ -473,7 +475,7 @@@@ BMK:DEFAULTVIEWPS_DRAFT?=	viewps_${__tmp
 BMK:ALLVIEWPS_DRAFT+=	viewps_${__tmp__}-draft
 BMK:${__tmp__}-draft.ps: ${__tmp__}.dvi ${DATED_DRAFT_PS}
 BMK:	sed "s;DATE;`date`;g" ${DATED_DRAFT_PS:Q} > ${DRAFT_STAMP_PS:Q}
-BMK:	${DVIPS:Q} -h ${DRAFT_STAMP_PS:Q} ${DVIPS_FLAGS} -o $@@ ${__tmp__}.dvi
+BMK:	${ENV_PROG:Q} ${DVIPS_ENV} ${DVIPS:Q} -h ${DRAFT_STAMP_PS:Q} ${DVIPS_FLAGS} -o $@@ ${__tmp__}.dvi
 BMK:.endfor
 
 GMK:define viewps_template
@@@@ -489,7 +491,7 @@@@ GMK:DEFAULTVIEWPS_DRAFT?=	viewps_$(1)-dr
 GMK:ALLVIEWPS_DRAFT+=	viewps_$(1)-draft
 GMK:$(1)-draft.ps: $(1).dvi ${DATED_DRAFT_PS}
 GMK:	sed "s;DATE;`date`;g" ${DATED_DRAFT_PS} > ${DRAFT_STAMP_PS}
-GMK:	$(DVIPS) -h ${DRAFT_STAMP_PS} $(DVIPS_FLAGS) -o $@@ $(1).dvi
+GMK:	$(ENV_PROG) $(DVIPS_ENV) $(DVIPS) -h ${DRAFT_STAMP_PS} $(DVIPS_FLAGS) -o $@@ $(1).dvi
 GMK:endef
 GMK:$(foreach __tmp__,$(NAME),$(eval $(call viewps_template,$(__tmp__))))
 
@@@@ -960,13 +962,13 @@@@ GMK:endif
 BMK:.if defined(__DRAFT)
 GMK:ifdef __DRAFT
 GMK:	sed "s;DATE;`date`;g" ${DATED_DRAFT_PS} > ${DRAFT_STAMP_PS}
-GMK	$(DVIPS) -h ${DRAFT_STAMP_PS} $(DVIPS_FLAGS) -o $*-draft.ps $<
+GMK:	$(ENV_PROG) $(DVIPS_ENV) $(DVIPS) -h ${DRAFT_STAMP_PS} $(DVIPS_FLAGS) -o $*-draft.ps $<
 BMK:	sed "s;DATE;`date`;g" ${DATED_DRAFT_PS:Q} > ${DRAFT_STAMP_PS:Q}
-BMK:	${DVIPS:Q} -h ${DRAFT_STAMP_PS:Q} ${DVIPS_FLAGS} -o $*-draft.ps $<
+BMK:	${ENV_PROG:Q} ${DVIPS_ENV} ${DVIPS:Q} -h ${DRAFT_STAMP_PS:Q} ${DVIPS_FLAGS} -o $*-draft.ps $<
 BMK:.else
-BMK:	${DVIPS:Q} ${DVIPS_FLAGS} -o $@@ $<
+BMK:	${ENV_PROG:Q} ${DVIPS_ENV} ${DVIPS:Q} ${DVIPS_FLAGS} -o $@@ $<
 GMK:else
-GMK:	$(DVIPS) $(DVIPS_FLAGS) -o $@@ $<
+GMK:	$(ENV_PROG) $(DVIPS_ENV) $(DVIPS) $(DVIPS_FLAGS) -o $@@ $<
 BMK:.endif
 GMK:endif
 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@import latex-mk 1.8

latex-mk is a set of Makefile fragments designed to assist in the
management of LaTeX documents.

based on a submission by andreas.bihlmaier at gmx.de

looks good jasper@@
@
text
@@
