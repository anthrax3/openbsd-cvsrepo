head	1.11;
access;
symbols
	OPENBSD_6_2:1.11.0.2
	OPENBSD_6_2_BASE:1.11
	OPENBSD_6_1:1.10.0.2
	OPENBSD_6_1_BASE:1.10
	OPENBSD_6_0:1.9.0.8
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.4
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.6
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.9.0.2
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.8.0.8
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.8.0.6
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.8.0.4
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.8.0.2
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.6.0.4
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.2
	OPENBSD_5_0:1.5.0.6
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.4
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.2
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.4.0.4
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.2
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.3.0.10
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.8
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.6
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.4
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.1.1.1.0.4
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	cups_20050116:1.1.1.1
	mbalmer:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2017.07.01.11.05.41;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	dWJW5y9BPTDC7yoi;

1.10
date	2016.09.19.09.16.51;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	5ZKBoypll2THXP84;

1.9
date	2014.11.15.10.22.23;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	20oo4Dj2S2v31rH3;

1.8
date	2012.09.28.13.04.20;	author dcoppa;	state Exp;
branches;
next	1.7;

1.7
date	2012.08.04.14.37.04;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2011.09.08.10.33.12;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.03.31.16.20.02;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2009.04.27.08.25.39;	author bernd;	state Exp;
branches;
next	1.3;

1.3
date	2006.10.01.10.43.38;	author mbalmer;	state Exp;
branches;
next	1.2;

1.2
date	2006.02.05.10.20.57;	author mbalmer;	state Exp;
branches;
next	1.1;

1.1
date	2005.01.16.12.36.50;	author mbalmer;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.01.16.12.36.50;	author mbalmer;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Update to cups-2.2.4.
@
text
@$OpenBSD: patch-config-scripts_cups-sharedlibs_m4,v 1.10 2016/09/19 09:16:51 ajacoutot Exp $
Index: config-scripts/cups-sharedlibs.m4
--- config-scripts/cups-sharedlibs.m4.orig
+++ config-scripts/cups-sharedlibs.m4
@@@@ -33,14 +33,14 @@@@ if test x$enable_shared != xno; then
 			DSOFLAGS="$DSOFLAGS -Wl,-h\`basename \$@@\` -G \$(OPTIM)"
 			;;
 		linux* | gnu* | *bsd*)
-			LIBCUPS="lib$cupsbase.so.2"
-			LIBCUPSCGI="libcupscgi.so.1"
-			LIBCUPSIMAGE="libcupsimage.so.2"
-			LIBCUPSMIME="libcupsmime.so.1"
-			LIBCUPSPPDC="libcupsppdc.so.1"
+			LIBCUPS="lib$cupsbase.so.${LIBcups_VERSION}"
+			LIBCUPSCGI="libcupscgi.so.${LIBcupscgi_VERSION}"
+			LIBCUPSIMAGE="libcupsimage.so.${LIBcupsimage_VERSION}"
+			LIBCUPSMIME="libcupsmime.so.${LIBcupsmime_VERSION}"
+			LIBCUPSPPDC="libcupsppdc.so.${LIBcupsppdc_VERSION}"
 			DSO="\$(CC)"
 			DSOXX="\$(CXX)"
-			DSOFLAGS="$DSOFLAGS -Wl,-soname,\`basename \$@@\` -shared \$(OPTIM)"
+			DSOFLAGS="$DSOFLAGS -shared \$(OPTIM)"
 			;;
 		darwin*)
 			LIBCUPS="lib$cupsbase.2.dylib"
@


1.10
log
@Update to cups-2.2.0.
@
text
@d1 4
a4 3
$OpenBSD: patch-config-scripts_cups-sharedlibs_m4,v 1.9 2014/11/15 10:22:23 ajacoutot Exp $
--- config-scripts/cups-sharedlibs.m4.orig	Wed Sep 14 01:39:47 2016
+++ config-scripts/cups-sharedlibs.m4	Sat Sep 17 15:26:03 2016
d8 1
a8 1
 		Linux | GNU | *BSD*)
d24 1
a24 1
 		Darwin*)
@


1.9
log
@Major update to cups-2.0.1.
@
text
@d1 4
a4 4
$OpenBSD: patch-config-scripts_cups-sharedlibs_m4,v 1.8 2012/09/28 13:04:20 dcoppa Exp $
--- config-scripts/cups-sharedlibs.m4.orig	Fri Oct 18 22:36:01 2013
+++ config-scripts/cups-sharedlibs.m4	Fri Oct  3 15:39:38 2014
@@@@ -35,14 +35,14 @@@@ if test x$enable_shared != xno; then
@


1.8
log
@Don't create the shared libs using soname.

No objections from ajacoutot@@ (maintainer)
@
text
@d1 5
a5 5
$OpenBSD: patch-config-scripts_cups-sharedlibs_m4,v 1.7 2012/08/04 14:37:04 ajacoutot Exp $
--- config-scripts/cups-sharedlibs.m4.orig	Fri Jan 20 17:22:58 2012
+++ config-scripts/cups-sharedlibs.m4	Fri Sep 28 13:51:38 2012
@@@@ -79,14 +79,14 @@@@ if test x$enable_shared != xno; then
 			DSOFLAGS="$DSOFLAGS -set_version,sgi2.6,-soname,\`basename \$@@\` -shared \$(OPTIM)"
d7 1
a7 1
 		OSF1* | Linux | GNU | *BSD*)
@


1.7
log
@Major update to CUPS 1.6.1.
This package is now split between -main (the bloat) and -libs (i.e.
cups-libs; which only contains the base libraries which have no
external deps).
Most filters have moved to cups-filters, the split was needed because
cups depends on cups-filters which depends on cups

The nice side-effect is that this will simplify lots of things in tree.
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
+++ config-scripts/cups-sharedlibs.m4	Thu Jul 26 11:15:00 2012
@@@@ -79,11 +79,11 @@@@ if test x$enable_shared != xno; then
d20 5
a24 1
 			DSOFLAGS="$DSOFLAGS -Wl,-soname,\`basename \$@@\` -shared \$(OPTIM)"
@


1.6
log
@Major update to cups-1.5.0.

Thanks to landry@@ for the bulk testing.
@
text
@d1 4
a4 4
$OpenBSD: patch-config-scripts_cups-sharedlibs_m4,v 1.5 2010/03/31 16:20:02 ajacoutot Exp $
--- config-scripts/cups-sharedlibs.m4.orig	Wed Jun 16 02:48:25 2010
+++ config-scripts/cups-sharedlibs.m4	Fri Sep  2 09:35:38 2011
@@@@ -84,12 +84,12 @@@@ if test x$enable_shared != xno; then
a9 1
-			LIBCUPSDRIVER="libcupsdriver.so.1"
a14 1
+			LIBCUPSDRIVER="libcupsdriver.so.${LIBcupsdriver_VERSION}"
@


1.5
log
@Major update to cups-1.4.3.
Changelog is to big to detail here, refer to HOMEPAGE for details.

I have been using 1.4.X for several months.
Versions 1.4.0 and 1.4.2 have been tested in bulks by jasper@@, thanks!

Please contact me directly if you see regressions.
@
text
@d1 4
a4 4
$OpenBSD: patch-config-scripts_cups-sharedlibs_m4,v 1.4 2009/04/27 08:25:39 bernd Exp $
--- config-scripts/cups-sharedlibs.m4.orig	Sat Aug 29 22:45:43 2009
+++ config-scripts/cups-sharedlibs.m4	Sat Aug 29 22:47:18 2009
@@@@ -80,12 +80,12 @@@@ if test x$enable_shared != xno; then
d8 1
a8 1
-			LIBCUPS="libcups.so.2"
d14 1
a14 1
+			LIBCUPS="libcups.so.${LIBcups_VERSION}"
@


1.4
log
@Update to cups-1.3.10. With lots of help from ajacoutot@@.

There's an issue with the admin.cgi which will be fixed
in-tree.

ok ajacoutot@@, jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-config-scripts_cups-sharedlibs_m4,v 1.3 2006/10/01 10:43:38 mbalmer Exp $
--- config-scripts/cups-sharedlibs.m4.orig	Wed Jul 11 23:46:42 2007
+++ config-scripts/cups-sharedlibs.m4	Tue Mar 17 16:21:50 2009
@@@@ -49,8 +49,8 @@@@ if test x$enable_shared != xno; then
d9 2
d12 2
d15 2
d18 2
d21 1
a22 1
 			;;
@


1.3
log
@Update to CUPS 1.2.4, which has lots of improvements over the old version
we had, like better support for foreign languages and the usual plethora
of bugfixes.

tested on various architectures and with various applications that use CUPS
as their printing system.  I verified that all ports that are depending on
CUPS still build.
@
text
@d1 4
a4 4
$OpenBSD$
--- config-scripts/cups-sharedlibs.m4.orig	Wed Sep 20 10:53:05 2006
+++ config-scripts/cups-sharedlibs.m4	Wed Sep 20 10:54:16 2006
@@@@ -48,8 +48,8 @@@@ if test x$enable_shared != xno; then
@


1.2
log
@Make SHARED_LIBS actually work, this was lying around for quite some time,
no idea why I did not get committed...

prodded by bernd.
@
text
@d1 3
a3 2
--- config-scripts/cups-sharedlibs.m4.orig	Wed Aug 11 16:39:26 2004
+++ config-scripts/cups-sharedlibs.m4	Sun Nov  7 15:21:47 2004
d5 1
a5 1
 			DSOFLAGS="$DSOFLAGS -Wl,-rpath,\$(libdir),-set_version,sgi2.5,-soname,\$@@ -shared \$(OPTIM)"
d13 1
a13 1
 			DSOFLAGS="$DSOFLAGS -Wl,-soname,\$@@ -shared \$(OPTIM)"
@


1.1
log
@Initial revision
@
text
@d9 2
a10 2
+			LIBCUPS="libcups.so.2.2"
+			LIBCUPSIMAGE="libcupsimage.so.2.2"
@


1.1.1.1
log
@CUPS, the Common Unix Printing System.

A cross-platform printing solution for Unix environments,
based on the "Internet Printing Protocol, IPP".

ok alek@@
@
text
@@
