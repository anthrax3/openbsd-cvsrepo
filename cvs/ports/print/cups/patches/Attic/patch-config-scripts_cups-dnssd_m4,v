head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2010.04.07.13.55.30;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2010.03.31.16.20.02;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Disable dnssd support for now as it is not yet stable.
@
text
@$OpenBSD: patch-config-scripts_cups-dnssd_m4,v 1.1 2010/03/31 16:20:02 ajacoutot Exp $

Avahi support, from Fedora.

--- config-scripts/cups-dnssd.m4.orig	Sat Aug 29 00:54:34 2009
+++ config-scripts/cups-dnssd.m4	Thu Dec 10 15:48:31 2009
@@@@ -27,6 +27,21 @@@@ AC_ARG_WITH(dnssd-includes, [  --with-dnssd-includes  
 DNSSDLIBS=""
 DNSSD_BACKEND=""
 
+AC_ARG_ENABLE(avahi, [  --enable-avahi          turn on DNS Service Discovery support, default=no],
+	      [if test x$enable_avahi = xyes; then
+		       AC_MSG_CHECKING(for Avahi)
+		       if $PKGCONFIG --exists avahi-client; then
+			       AC_MSG_RESULT(yes)
+			       CFLAGS="$CFLAGS `$PKGCONFIG --cflags avahi-client`"
+			       DNSSDLIBS="`$PKGCONFIG --libs avahi-client`"
+			       DNSSD_BACKEND="dnssd"
+			       AC_DEFINE(HAVE_AVAHI)
+			       enable_dnssd=no
+		       else
+			       AC_MSG_RESULT(no)
+		       fi
+	       fi])
+
 if test x$enable_dnssd != xno; then
 	AC_CHECK_HEADER(dns_sd.h, [
 		case "$uname" in
@


1.1
log
@Major update to cups-1.4.3.
Changelog is to big to detail here, refer to HOMEPAGE for details.

I have been using 1.4.X for several months.
Versions 1.4.0 and 1.4.2 have been tested in bulks by jasper@@, thanks!

Please contact me directly if you see regressions.
@
text
@d1 1
a1 1
$OpenBSD$
@

