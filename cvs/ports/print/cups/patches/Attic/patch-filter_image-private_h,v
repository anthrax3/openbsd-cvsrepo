head	1.1;
access;
symbols
	OPENBSD_4_5:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2009.06.28.03.53.16;	author william;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2009.06.28.03.53.16;	author william;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file patch-filter_image-private_h was initially added on branch OPENBSD_4_5.
@
text
@@


1.1.2.1
log
@SECURITY FIX

Resolve these, from debian:

CVE-2007-4351
CVE-2007-5849
CVE-2007-6358
CVE-2008-0047
CVE-2008-0053
CVE-2008-0882
CVE-2008-1373
CVE-2008-1722, plus integer overflow patch from L2974: _cupsImageReadPNG()
CVE-2008-3639
CVE-2008-3640
CVE-2008-3641, without SP_select_pen() in STR #2911, and fix an
additional off-by-one (STR #2966)
CVE-2009-0163
CVE-2009-0949

ok robert@@
@
text
@a0 17
$OpenBSD$

CVE-2009-0163

--- filter/image-private.h.orig	Sun Feb 26 21:47:56 2006
+++ filter/image-private.h	Sat Jun 20 23:23:52 2009
@@@@ -49,8 +49,8 @@@@
 
 #  define CUPS_IMAGE_MAX_WIDTH	0x07ffffff
 					/* 2^27-1 to allow for 15-channel data */
-#  define CUPS_IMAGE_MAX_HEIGHT	0x7fffffff
-					/* 2^31-1 */
+#  define CUPS_IMAGE_MAX_HEIGHT	0x3fffffff
+					/* 2^30-1 */
 
 #  define CUPS_TILE_SIZE	256	/* 256x256 pixel tiles */
 #  define CUPS_TILE_MINIMUM	10	/* Minimum number of tiles */
@

