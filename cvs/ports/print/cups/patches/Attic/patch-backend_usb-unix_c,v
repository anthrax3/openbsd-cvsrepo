head	1.5;
access;
symbols
	OPENBSD_5_2:1.4.0.4
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.2
	OPENBSD_5_0:1.3.0.4
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3;
locks; strict;
comment	@# @;


1.5
date	2012.08.04.14.37.04;	author ajacoutot;	state dead;
branches;
next	1.4;

1.4
date	2011.09.08.10.33.12;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.01.11.12.13.59;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.12.20.15.53.05;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.20.11.39.48;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Major update to CUPS 1.6.1.
This package is now split between -main (the bloat) and -libs (i.e.
cups-libs; which only contains the base libraries which have no
external deps).
Most filters have moved to cups-filters, the split was needed because
cups depends on cups-filters which depends on cups

The nice side-effect is that this will simplify lots of things in tree.
@
text
@$OpenBSD: patch-backend_usb-unix_c,v 1.4 2011/09/08 10:33:12 ajacoutot Exp $

http://www.cups.org/str.php?L3028

--- backend/usb-unix.c.orig	Fri May 20 05:49:49 2011
+++ backend/usb-unix.c	Fri Sep  2 09:33:11 2011
@@@@ -179,7 +179,7 @@@@ print_device(const char *uri,		/* I - Device URI */
       lseek(print_fd, 0, SEEK_SET);
     }
 
-#ifdef __sun
+#if defined(__sun) || defined(__OpenBSD__)
    /*
     * CUPS STR #3028: Solaris' usbprn driver apparently does not support
     * select() or poll(), so we can't support the sidechannel either...
@


1.4
log
@Major update to cups-1.5.0.

Thanks to landry@@ for the bulk testing.
@
text
@d1 1
a1 1
$OpenBSD: patch-backend_usb-unix_c,v 1.3 2011/01/11 12:13:59 ajacoutot Exp $
@


1.3
log
@Update to cups-1.4.6, this version fixes landscape printing, sharing,
and fax issues.

Also merge a patch from upstream to disable multi-part support as
several browsers (notably webkit based ones) do not support it
correctly, this should fix the web interface with these browsers. See
http://www.cups.org/str.php?L3455 for details.
@
text
@d1 1
a1 1
$OpenBSD: patch-backend_usb-unix_c,v 1.2 2010/12/20 15:53:05 ajacoutot Exp $
d5 3
a7 3
--- backend/usb-unix.c.orig	Tue Jan 11 12:37:38 2011
+++ backend/usb-unix.c	Tue Jan 11 12:37:38 2011
@@@@ -186,7 +186,7 @@@@ print_device_unix(const char *uri,		/* I - Device URI 
@


1.2
log
@Mention bug report in patch, no pkg change.
@
text
@d1 1
a1 1
$OpenBSD: patch-backend_usb-unix_c,v 1.1 2010/12/20 11:39:48 ajacoutot Exp $
d5 3
a7 3
--- backend/usb-unix.c.orig	Mon Dec 20 11:51:35 2010
+++ backend/usb-unix.c	Mon Dec 20 11:51:56 2010
@@@@ -181,7 +181,7 @@@@ print_device(const char *uri,		/* I - Device URI */
@


1.1
log
@Unbreak ulpt(4) printing.

Add libusb support. Bring a patch from upstream bug DB that allows for
both ulpt(4) and libusb based devices to work without the need for
separate packages.

Remove the useless rc patch (we provide our own).

Move MESSAGE to README and extend it.
@
text
@d1 4
a4 1
$OpenBSD$
@

