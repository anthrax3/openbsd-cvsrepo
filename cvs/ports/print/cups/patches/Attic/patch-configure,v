head	1.8;
access;
symbols
	OPENBSD_4_7:1.7.0.4
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.2
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.5.0.6
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.4
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.4.0.2
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.1.1.1.0.4
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	cups_20050116:1.1.1.1
	mbalmer:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2010.03.31.16.20.02;	author ajacoutot;	state dead;
branches;
next	1.7;

1.7
date	2009.04.27.08.25.39;	author bernd;	state Exp;
branches;
next	1.6;

1.6
date	2009.03.23.15.04.41;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2007.12.11.08.00.06;	author jakemsr;	state Exp;
branches;
next	1.4;

1.4
date	2007.05.07.13.58.07;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2006.10.01.10.43.38;	author mbalmer;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2006.02.05.10.20.57;	author mbalmer;	state Exp;
branches;
next	1.1;

1.1
date	2005.01.16.12.36.50;	author mbalmer;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.01.16.12.36.50;	author mbalmer;	state Exp;
branches;
next	;

1.3.2.1
date	2007.08.07.06.05.21;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Major update to cups-1.4.3.
Changelog is to big to detail here, refer to HOMEPAGE for details.

I have been using 1.4.X for several months.
Versions 1.4.0 and 1.4.2 have been tested in bulks by jasper@@, thanks!

Please contact me directly if you see regressions.
@
text
@$OpenBSD: patch-configure,v 1.7 2009/04/27 08:25:39 bernd Exp $
--- configure.orig	Thu Apr 16 22:02:06 2009
+++ configure	Thu Apr 23 12:57:20 2009
@@@@ -9874,8 +9874,8 @@@@ if test x$enable_shared != xno; then
 			DSOFLAGS="$DSOFLAGS -set_version,sgi2.6,-soname,\`basename \$@@\` -shared \$(OPTIM)"
 			;;
 		OSF1* | Linux | GNU | *BSD*)
-			LIBCUPS="libcups.so.2"
-			LIBCUPSIMAGE="libcupsimage.so.2"
+			LIBCUPS="libcups.so.${LIBcups_VERSION}"
+			LIBCUPSIMAGE="libcupsimage.so.${LIBcupsimage_VERSION}"
 			DSO="\$(CC)"
 			DSOFLAGS="$DSOFLAGS -Wl,-soname,\`basename \$@@\` -shared \$(OPTIM)"
 			;;
@@@@ -10141,7 +10141,7 @@@@ if test -n "$GCC"; then
 	if test -z "$OPTIM"; then
 		if test "x$with_optim" = x; then
 			# Default to optimize-for-size and debug
-       			OPTIM="-Os -g"
+       			OPTIM=""
 		else
 			OPTIM="$with_optim $OPTIM"
 		fi
@@@@ -16791,7 +16791,7 @@@@ fi
 
 
 	if test x$ac_cv_header_pthread_h = xyes; then
-				for flag in -lpthreads -lpthread -pthread; do
+				for flag in -pthread -lpthreads -lpthread; do
         		{ echo "$as_me:$LINENO: checking for pthread_create using $flag" >&5
 echo $ECHO_N "checking for pthread_create using $flag... $ECHO_C" >&6; }
 			SAVELIBS="$LIBS"
@@@@ -18877,7 +18877,7 @@@@ cat >>confdefs.h <<_ACEOF
 _ACEOF
 
 cat >>confdefs.h <<_ACEOF
-#define CUPS_GHOSTSCRIPT "$CUPS_GHOSTSCRIPT"
+#define CUPS_GHOSTSCRIPT "$ac_cv_path_CUPS_GHOSTSCRIPT"
 _ACEOF
 
 
@


1.7
log
@Update to cups-1.3.10. With lots of help from ajacoutot@@.

There's an issue with the admin.cgi which will be fixed
in-tree.

ok ajacoutot@@, jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.5 2007/12/11 08:00:06 jakemsr Exp $
@


1.6
log
@- enable dbus support
this adds some nice desktop functionnality when dealing with print
queues, printer notifications...
@
text
@d2 3
a4 12
--- configure.orig	Thu Nov 16 15:51:56 2006
+++ configure	Mon Mar 23 15:38:33 2009
@@@@ -7179,7 +7179,7 @@@@ done
 
                 ;;
 
-	Linux*)
+	*)
 				if test "x$enable_dbus" != xno; then
 			# Extract the first word of "pkg-config", so it can be a program name with args.
 set dummy pkg-config; ac_word=$2
@@@@ -7910,8 +7910,8 @@@@ if test x$enable_shared != xno; then
d15 1
a15 1
@@@@ -8162,7 +8162,7 @@@@ if test -n "$GCC"; then
d24 1
a24 1
@@@@ -12405,7 +12405,7 @@@@ fi
d29 3
a31 3
+				for flag in -pthread -lpthreads -lpthread ; do
         		echo "$as_me:$LINENO: checking for pthread_create using $flag" >&5
 echo $ECHO_N "checking for pthread_create using $flag... $ECHO_C" >&6
d33 9
@


1.5
log
@
use -pthread instead of -lpthread for pthreads linkage in CUPS

bulk build tested by steven@@ (a while ago) "sure" mbalmer@@
@
text
@d1 12
a12 3
$OpenBSD: patch-configure,v 1.4 2007/05/07 13:58:07 ajacoutot Exp $
--- configure.orig	Thu Nov 16 06:51:56 2006
+++ configure	Sun Oct 21 00:41:30 2007
@


1.4
log
@- don't force optimisation nor debug
- regen patches while here
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.3 2006/10/01 10:43:38 mbalmer Exp $
--- configure.orig	Thu Nov 16 15:51:56 2006
+++ configure	Mon May  7 15:49:38 2007
d24 9
@


1.3
log
@Update to CUPS 1.2.4, which has lots of improvements over the old version
we had, like better support for foreign languages and the usual plethora
of bugfixes.

tested on various architectures and with various applications that use CUPS
as their printing system.  I verified that all ports that are depending on
CUPS still build.
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.orig	Wed Sep 20 10:55:26 2006
+++ configure	Wed Sep 20 10:56:29 2006
@@@@ -7772,8 +7772,8 @@@@ if test x$enable_shared != xno; then
d15 9
@


1.3.2.1
log
@MFC (original commit kili@@):
- fixes CVE-2007-3387

ok sturm@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.3 2006/10/01 10:43:38 mbalmer Exp $
--- configure.orig	Thu Nov 16 15:51:56 2006
+++ configure	Sun Aug  5 13:35:53 2007
@@@@ -7910,8 +7910,8 @@@@ if test x$enable_shared != xno; then
@


1.2
log
@Make SHARED_LIBS actually work, this was lying around for quite some time,
no idea why I did not get committed...

prodded by bernd.
@
text
@d1 5
a5 5
$OpenBSD: patch-configure,v 1.1.1.1 2005/01/16 12:36:50 mbalmer Exp $
--- configure.orig	Sun Nov  7 15:35:16 2004
+++ configure	Sun Nov  7 15:35:34 2004
@@@@ -7082,8 +7082,8 @@@@ if test x$enable_shared != xno; then
 			DSOFLAGS="$DSOFLAGS -Wl,-rpath,\$(libdir),-set_version,sgi2.5,-soname,\$@@ -shared \$(OPTIM)"
d13 1
a13 1
 			DSOFLAGS="$DSOFLAGS -Wl,-soname,\$@@ -shared \$(OPTIM)"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d10 2
a11 2
+			LIBCUPS="libcups.so.2.2"
+			LIBCUPSIMAGE="libcupsimage.so.2.2"
@


1.1.1.1
log
@CUPS, the Common Unix Printing System.

A cross-platform printing solution for Unix environments,
based on the "Internet Printing Protocol, IPP".

ok alek@@
@
text
@@
