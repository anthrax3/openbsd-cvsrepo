head	1.35;
access;
symbols
	OPENBSD_6_2:1.35.0.2
	OPENBSD_6_2_BASE:1.35
	OPENBSD_6_1:1.34.0.4
	OPENBSD_6_1_BASE:1.34
	OPENBSD_6_0:1.34.0.2
	OPENBSD_6_0_BASE:1.34
	OPENBSD_5_9:1.33.0.2
	OPENBSD_5_9_BASE:1.33
	OPENBSD_5_8:1.33.0.4
	OPENBSD_5_8_BASE:1.33
	OPENBSD_5_7:1.31.0.6
	OPENBSD_5_7_BASE:1.31
	OPENBSD_5_6:1.31.0.4
	OPENBSD_5_6_BASE:1.31
	OPENBSD_5_5:1.31.0.2
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.30.0.2
	OPENBSD_5_4_BASE:1.30
	OPENBSD_5_3:1.29.0.2
	OPENBSD_5_3_BASE:1.29
	OPENBSD_5_2:1.28.0.8
	OPENBSD_5_2_BASE:1.28
	OPENBSD_5_1_BASE:1.28
	OPENBSD_5_1:1.28.0.6
	OPENBSD_5_0:1.28.0.4
	OPENBSD_5_0_BASE:1.28
	OPENBSD_4_9:1.28.0.2
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.26.0.2
	OPENBSD_4_8_BASE:1.26
	OPENBSD_4_7:1.25.0.6
	OPENBSD_4_7_BASE:1.25
	OPENBSD_4_6:1.25.0.4
	OPENBSD_4_6_BASE:1.25
	OPENBSD_4_5:1.25.0.2
	OPENBSD_4_5_BASE:1.25
	OPENBSD_4_4:1.24.0.4
	OPENBSD_4_4_BASE:1.24
	OPENBSD_4_3:1.24.0.2
	OPENBSD_4_3_BASE:1.24
	OPENBSD_4_2:1.23.0.8
	OPENBSD_4_2_BASE:1.23
	OPENBSD_4_1:1.23.0.6
	OPENBSD_4_1_BASE:1.23
	OPENBSD_4_0:1.23.0.4
	OPENBSD_4_0_BASE:1.23
	OPENBSD_3_9:1.23.0.2
	OPENBSD_3_9_BASE:1.23
	OPENBSD_3_8:1.22.0.4
	OPENBSD_3_8_BASE:1.22
	OPENBSD_3_7:1.22.0.2
	OPENBSD_3_7_BASE:1.22
	OPENBSD_3_6:1.19.0.8
	OPENBSD_3_6_BASE:1.19
	OPENBSD_3_5:1.19.0.6
	OPENBSD_3_5_BASE:1.19
	OPENBSD_3_4:1.19.0.4
	OPENBSD_3_4_BASE:1.19
	OPENBSD_3_3:1.19.0.2
	OPENBSD_3_3_BASE:1.19
	OPENBSD_3_2:1.18.0.2
	OPENBSD_3_2_BASE:1.18
	OPENBSD_3_1:1.15.0.6
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.15.0.4
	OPENBSD_3_0_BASE:1.15
	OPENBSD_2_9_TRACKING_SWITCH:1.15
	OPENBSD_2_9:1.15.0.2
	OPENBSD_2_9_BASE:1.15
	OPENBSD_2_8:1.13.0.2
	OPENBSD_2_8_BASE:1.13
	OPENBSD_2_7:1.9.0.2
	OPENBSD_2_7_BASE:1.9
	OPENBSD_2_6:1.3.0.4
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	marc_1998-Jul-21:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.35
date	2017.05.08.09.46.52;	author schwarze;	state Exp;
branches;
next	1.34;
commitid	fdSQdPLqAB6FGoWi;

1.34
date	2016.04.12.15.19.40;	author naddy;	state Exp;
branches;
next	1.33;
commitid	N3rcp9eNnhmCMrQO;

1.33
date	2015.07.20.00.50.27;	author naddy;	state Exp;
branches;
next	1.32;
commitid	vxISeitLIhDE5xAy;

1.32
date	2015.05.02.09.39.05;	author ajacoutot;	state Exp;
branches;
next	1.31;
commitid	vnua6elpW9Jx6TlJ;

1.31
date	2013.11.02.09.02.56;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2013.03.11.11.37.53;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2013.02.09.14.49.52;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2010.11.20.09.48.39;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2010.10.18.21.25.08;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.07.26.20.07.31;	author edd;	state Exp;
branches;
next	1.25;

1.25
date	2008.12.09.16.00.17;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2007.09.15.21.36.44;	author merdely;	state Exp;
branches;
next	1.23;

1.23
date	2006.02.05.10.15.22;	author steven;	state Exp;
branches;
next	1.22;

1.22
date	2005.02.11.21.18.00;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2005.02.11.19.12.42;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2005.02.11.17.57.30;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2003.01.21.17.12.30;	author avsm;	state Exp;
branches
	1.19.6.1
	1.19.8.1;
next	1.18;

1.18
date	2002.07.10.11.56.35;	author matt;	state Exp;
branches;
next	1.17;

1.17
date	2002.05.14.11.49.22;	author fgsch;	state Exp;
branches;
next	1.16;

1.16
date	2002.05.11.22.31.24;	author matt;	state Exp;
branches;
next	1.15;

1.15
date	2001.03.25.19.17.47;	author matt;	state Exp;
branches;
next	1.14;

1.14
date	2000.12.21.21.20.48;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2000.10.22.16.21.17;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.10.22.15.43.15;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.07.28.10.32.52;	author matt;	state Exp;
branches;
next	1.10;

1.10
date	2000.07.28.03.14.58;	author matt;	state Exp;
branches;
next	1.9;

1.9
date	2000.04.09.17.37.51;	author espie;	state Exp;
branches
	1.9.2.1;
next	1.8;

1.8
date	2000.03.03.13.01.50;	author turan;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.03.11.28.48;	author turan;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.01.10.08.08;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.15.05.05.05;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.12.08.02.29;	author turan;	state Exp;
branches;
next	1.3;

1.3
date	99.04.03.09.12.57;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	99.03.07.01.39.00;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	98.07.22.02.58.28;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.07.22.02.58.28;	author marc;	state Exp;
branches;
next	;

1.9.2.1
date	2000.09.15.05.13.02;	author marc;	state Exp;
branches;
next	;

1.19.6.1
date	2005.02.12.12.13.03;	author robert;	state Exp;
branches;
next	;

1.19.8.1
date	2005.02.12.12.12.26;	author robert;	state Exp;
branches;
next	;


desc
@@


1.35
log
@mandoc(1) now supports .ta and .DT, drop USE_GROFF and bump
@
text
@# $OpenBSD: Makefile,v 1.34 2016/04/12 15:19:40 naddy Exp $

COMMENT=		convert ASCII files to PostScript

DISTNAME=		enscript-1.6.6
CATEGORIES=     	print
REVISION=		1

HOMEPAGE=		https://www.gnu.org/software/enscript/

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=		${MASTER_SITE_GNU:=enscript/}

LIB_DEPENDS=		devel/gettext
WANTLIB=		c iconv intl m

CONFIGURE_STYLE=	gnu

FAKE_FLAGS=		sysconfdir=${TRUEPREFIX}/share/examples/enscript

.include <bsd.port.mk>
@


1.34
log
@replace gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/07/20 00:50:27 naddy Exp $
d7 1
a7 1
REVISION=		0
a19 1
USE_GROFF =		Yes
@


1.33
log
@long overdue maintenance update to 1.6.6; ok jeremy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/05/02 09:39:05 ajacoutot Exp $
d7 1
d16 2
a17 2
MODULES=		devel/gettext
WANTLIB=		c m
@


1.32
log
@Fix implicit declaration of 'strlen'.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/11/02 09:02:56 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		enscript-1.6.3
REVISION=		4
d8 1
a8 1
HOMEPAGE=		http://www.codento.com/people/mtr/genscript/
d10 1
a10 1
# GPLv2
d13 1
a13 1
WANTLIB += c m
d15 2
a16 2
MASTER_SITES=		${HOMEPAGE} \
			${MASTER_SITE_GNU:=enscript/}
a18 2
# gettext detection is broken and the translations are severely lacking
CONFIGURE_ARGS=		--disable-nls
d20 2
@


1.31
log
@Remove the a4 FLAVOR -- no need to hardcode a papersize when it can be
configured on the command line and config file.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/03/11 11:37:53 espie Exp $
d6 1
a6 1
REVISION=		3
@


1.30
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/02/09 14:49:52 sthen Exp $
d6 1
a6 1
REVISION=		2
d14 2
a18 5
FLAVORS=		a4
FLAVOR?=		

WANTLIB=		c m

a22 4

.if !${FLAVOR:Ma4}
CONFIGURE_ARGS+=	--with-media=Letter
.endif
@


1.29
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/11/20 09:48:39 espie Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.28
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/10/18 21:25:08 espie Exp $
d30 1
a30 1
.if !${FLAVOR:L:Ma4}
@


1.27
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/07/26 20:07:31 edd Exp $
d28 1
a28 1
USE_GROFF =	Yes
@


1.26
log
@Convert a whole bunch of ports/print to use new WANTLIB/LIB_DEPENDS/REVISION.
OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/12/09 16:00:17 jasper Exp $
d28 1
@


1.25
log
@- SECURITY FIX for CVE-2008-3863 and CVE-2008-4306 (buffer overflows)
* patch taken from debian's bugreport #506261.

- specify license version and regen PLIST while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/09/15 21:36:44 merdely Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
@


1.24
log
@Remove surrounding quotes in COMMENT/PERMIT_*/ERRORS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2006/02/05 10:15:22 steven Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d11 1
a11 1
# GPL
@


1.23
log
@fix MASTER_SITES and HOMEPAGE, bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2005/02/11 21:18:00 naddy Exp $
d3 1
a3 1
COMMENT=		"convert ASCII files to PostScript"
@


1.22
log
@Disable native language support.
gettext detection is broken and the translations are severely lacking.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2005/02/11 19:12:42 naddy Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d9 1
a9 1
HOMEPAGE=		http://people.ssh.fi/mtr/genscript/
d17 1
a17 1
MASTER_SITES=		http://people.ssh.fi/mtr/genscript/ \
@


1.21
log
@SECURITY:
Erik Sjolund discovered several issues in enscript: it suffers from
several buffer overflows (CAN-2004-1186), quotes and shell escape
characters are insufficiently sanitized in filenames (CAN-2004-1185),
and it supported taking input from an arbitrary command pipe, with
unwanted side effects (CAN-2004-1184).

From/via Gentoo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2005/02/11 17:57:30 naddy Exp $
d26 2
@


1.20
log
@cleanup: add WANTLIB, drop automake dependency, add RCS Id
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/01/21 17:12:30 avsm Exp $
d6 1
@


1.19
log
@add an a4 flavor for enscript
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/07/10 11:56:35 matt Exp $
d22 3
a24 1
CONFIGURE_STYLE=	gnu automake
a30 1

@


1.19.6.1
log
@SECURITY:
Erik Sjolund discovered several issues in enscript: it suffers from
several buffer overflows (CAN-2004-1186), quotes and shell escape
characters are insufficiently sanitized in filenames (CAN-2004-1185),
and it supported taking input from an arbitrary command pipe, with
unwanted side effects (CAN-2004-1184).

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/01/21 17:12:30 avsm Exp $
a5 1
PKGNAME=		${DISTNAME}p0
@


1.19.8.1
log
@SECURITY:
Erik Sjolund discovered several issues in enscript: it suffers from
several buffer overflows (CAN-2004-1186), quotes and shell escape
characters are insufficiently sanitized in filenames (CAN-2004-1185),
and it supported taking input from an arbitrary command pipe, with
unwanted side effects (CAN-2004-1184).

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/01/21 17:12:30 avsm Exp $
a5 1
PKGNAME=		${DISTNAME}p0
@


1.18
log
@release the rest of my ports to ports@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/05/14 11:49:22 fgsch Exp $
d19 3
d23 2
d26 1
@


1.17
log
@kill MASTER_SITE_SUBDIR and bump NEED_VERSIOn.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/05/11 22:31:24 matt Exp $
a5 1
NEED_VERSION=		1.528
a6 2

MAINTAINER=		Matt Behrens <matt@@openbsd.org>
@


1.16
log
@- 1.6.1 -> 1.6.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/03/25 19:17:47 matt Exp $
d6 1
a6 1
NEED_VERSION=		1.527
d20 1
a20 2
			${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR=	enscript
@


1.15
log
@move COMMENTs into Makefiles
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/12/21 21:20:48 naddy Exp $
d5 2
a6 2
DISTNAME=		enscript-1.6.1
NEED_VERSION=		1.361
d19 2
a20 1
MASTER_SITES=		${MASTER_SITE_GNU}
d23 1
a23 1
CONFIGURE_STYLE=	gnu
@


1.14
log
@If HOMEPAGE is defined in Makefile, reference it in DESCR, too.
authorized by espie@@

Fix a few minor cosmetic issues along the way.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.13 2000/10/22 16:21:17 espie Exp $
d6 1
a6 1
NEED_VERSION=		1.319
@


1.13
log
@A few more.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/10/22 15:43:15 espie Exp $
d11 1
a11 1
LICENSE_TYPE=		GPL
@


1.12
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/07/28 10:32:52 matt Exp $
d7 1
a7 1
MAINTAINER=		matt@@openbsd.org
@


1.11
log
@Bump NEED_VERSION (oops).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/07/28 03:14:58 matt Exp $
d12 4
a15 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
@


1.10
log
@- take over as MAINTAINER from ports@@
- FAKE, CONFIGURE_STYLE, HOMEPAGE
- move sample cfg file from lib to share/examples/enscript
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/04/09 17:37:51 espie Exp $
d4 1
@


1.9
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/03/03 13:01:50 turan Exp $
a4 1
FAKE=No
d6 3
a8 1
MAINTAINER=		ports@@openbsd.org
d19 1
a19 1
GNU_CONFIGURE=		yes
d22 1
a22 2
post-install:
	@@PREFIX="${PREFIX}" ${SH} ${PKGDIR}/INSTALL ${DISTNAME} POST-INSTALL
a23 1
.include <bsd.port.mk>
@


1.9.2.1
log
@bring print as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/07/28 10:32:52 matt Exp $
a3 1
NEED_VERSION=		1.319
d5 1
d7 1
a7 3
MAINTAINER=		matt@@openbsd.org

HOMEPAGE=		http://people.ssh.fi/mtr/genscript/
d18 1
a18 1
CONFIGURE_STYLE=	gnu
d21 3
a24 1

@


1.8
log
@these have glue to take care of packaging.  mark unbroken
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/03/03 11:28:48 turan Exp $
d5 1
@


1.7
log
@broken, installs files automatically in /etc
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.6 2000/03/01 10:08:08 turan Exp $

BROKEN=			installs files automatically in /etc
@


1.6
log
@change maintainer to ports@@openbsd.org as requested
@
text
@d1 3
a3 2
# $OpenBSD: Makefile,v 1.5 2000/02/15 05:05:05 turan Exp $
#
@


1.5
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/12 08:02:29 turan Exp $
d7 1
a7 1
MAINTAINER=		marc@@openbsd.org
@


1.4
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/04/03 09:12:57 marc Exp $
d10 4
a13 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.3
log
@Fix side effects of --sysconfdir bsd.port.mk change
o remove ignored CONFIGURE_ARGS+=--sysconfdir=/lib
o add post-install step that calls the INSTALL script
o add install script to copy the sample config file to /etc only
  if there is no existing config in /etc
o add deinstall script to remind the user to remove /etc/enscript.conf
o add patch to install config as /lib/enscript.cfg-sample
  even though the config dir is /etc
o test installation and de-installation from source
o test installation from package
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/03/07 01:39:00 brad Exp $
d8 6
@


1.2
log
@add MASTER_SITE_SUBDIR
@
text
@d1 1
a1 6
# OpenBSD makefile for:	enscript
# Version required:	1.6.1
# Date created:		1998-Jul-21
# Whom:			marc@@OpenBSD.ORG
#
# $OpenBSD: Makefile,v 1.1.1.1 1998/07/22 02:58:28 marc Exp $
d10 1
a10 1
MASTER_SITE_SUBDIR= enscript
a12 1
CONFIGURE_ARGS+=	--sysconfdir=${PREFIX}/lib
d14 3
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD:$
d15 1
@


1.1.1.1
log
@enscript 1.6.1
@
text
@@
