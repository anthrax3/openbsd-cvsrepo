head	1.6;
access;
symbols
	OPENBSD_3_6:1.5.0.6
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.5.0.4
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.4.0.12
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.4.0.10
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.4.0.8
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.6
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.4
	OPENBSD_2_9:1.4.0.4
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.2.0.6
	OPENBSD_2_7_BASE:1.2
	OPENBSD_2_6:1.2.0.4
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2;
locks; strict;
comment	@# @;


1.6
date	2004.09.23.07.12.57;	author espie;	state dead;
branches;
next	1.5;

1.5
date	2003.04.26.14.55.32;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2000.07.30.20.03.31;	author matt;	state Exp;
branches;
next	1.3;

1.3
date	2000.07.28.03.14.59;	author matt;	state Exp;
branches;
next	1.2;

1.2
date	99.04.10.07.14.56;	author marc;	state Exp;
branches
	1.2.6.1;
next	1.1;

1.1
date	99.04.03.09.12.58;	author marc;	state Exp;
branches;
next	;

1.2.6.1
date	2000.09.15.05.13.03;	author marc;	state Exp;
branches;
next	;


desc
@@


1.6
log
@kill INSTALL
@
text
@#!/bin/sh
# $OpenBSD: INSTALL,v 1.5 2003/04/26 14:55:32 sturm Exp $
#
# Pre/post-installation setup of enscript

set -e
PATH=/bin:/usr/bin:/sbin:/usr/sbin
PREFIX=${PKG_PREFIX:-/usr/local}
CONFIG_FILE=${SYSCONFDIR}/enscript.cfg
CONFIG_SAMPLE=${PREFIX}/share/examples/enscript/enscript.cfg-sample

if [ $# -ne 2 ]; then
    echo "usage: $0 distname { PRE-INSTALL | POST-INSTALL }" >&2
    exit 1
fi

# install the configuration files unless an existing configuration
# is found in which case warn the user that it may need to be
# updated.
#
do_configuration()
{
    if [ ! -r ${CONFIG_SAMPLE} ]; then
	echo "-- Can't find configuration sample file: ${CONFIG_SAMPLE}" >&2
	exit 1
    fi

    if [ -r ${CONFIG_FILE} ]; then
        echo
        echo "+---------------"
	echo "| The file ${CONFIG_FILE} exists.  Your existing configuration"
	echo "| has not been changed.  You MAY need to update your"
	echo "| configuration.  See the current configuration sample file"
	echo "| ${CONFIG_SAMPLE}."
        echo "+---------------"
        echo
    else
	cp ${CONFIG_SAMPLE} ${CONFIG_FILE}
    fi
}

case $2 in
    PRE-INSTALL)
	: nothing to pre-install for this port
	;;
    POST-INSTALL)
	do_configuration
	;;
esac

exit 0

@


1.5
log
@don't hardcode /etc but use SYSCONFDIR
@
text
@d2 1
a2 1
# $OpenBSD: INSTALL,v 1.4 2000/07/30 20:03:31 matt Exp $
@


1.4
log
@Missing directory in $CONFIG_SAMPLE.
@
text
@d2 1
a2 1
# $OpenBSD: INSTALL,v 1.3 2000/07/28 03:14:59 matt Exp $
d8 2
a9 2
PREFIX=${PREFIX:-/usr/local}
CONFIG_FILE=/etc/enscript.cfg
@


1.3
log
@- take over as MAINTAINER from ports@@
- FAKE, CONFIGURE_STYLE, HOMEPAGE
- move sample cfg file from lib to share/examples/enscript
@
text
@d2 1
a2 1
# $OpenBSD: INSTALL,v 1.2 1999/04/10 07:14:56 marc Exp $
d10 1
a10 1
CONFIG_SAMPLE=${PREFIX}/share/examples/enscript.cfg-sample
@


1.2
log
@make install/uninstall messages look like the messages from other ports
@
text
@d2 1
a2 1
# $OpenBSD: INSTALL,v 1.1 1999/04/03 09:12:58 marc Exp $
d10 1
a10 1
CONFIG_SAMPLE=${PREFIX}/lib/enscript.cfg-sample
@


1.2.6.1
log
@bring print as of cut-over date into 2.7 branch
@
text
@d2 1
a2 1
# $OpenBSD: INSTALL,v 1.4 2000/07/30 20:03:31 matt Exp $
d10 1
a10 1
CONFIG_SAMPLE=${PREFIX}/share/examples/enscript/enscript.cfg-sample
@


1.1
log
@Fix side effects of --sysconfdir bsd.port.mk change
o remove ignored CONFIGURE_ARGS+=--sysconfdir=/lib
o add post-install step that calls the INSTALL script
o add install script to copy the sample config file to /etc only
  if there is no existing config in /etc
o add deinstall script to remind the user to remove /etc/enscript.conf
o add patch to install config as /lib/enscript.cfg-sample
  even though the config dir is /etc
o test installation and de-installation from source
o test installation from package
@
text
@d2 1
a2 1
# $OpenBSD: INSTALL,v 1.1 1999/01/27 00:22:41 marc Exp $
d29 8
a36 6
        echo ""
	echo "** The file ${CONFIG_FILE} exists.  Your existing configuration"
	echo "** has not been changed.  You MAY need to update your"
	echo "** configuration.  See the current configuration sample file"
	echo "** ${CONFIG_SAMPLE}."
        echo ""
@

