head	1.32;
access;
symbols
	OPENBSD_4_0:1.31.0.2
	OPENBSD_4_0_BASE:1.31
	OPENBSD_3_9:1.30.0.2
	OPENBSD_3_9_BASE:1.30
	OPENBSD_3_8:1.28.0.2
	OPENBSD_3_8_BASE:1.28
	OPENBSD_3_7:1.27.0.2
	OPENBSD_3_7_BASE:1.27
	OPENBSD_3_6:1.22.0.2
	OPENBSD_3_6_BASE:1.22
	OPENBSD_3_5:1.19.0.4
	OPENBSD_3_5_BASE:1.19
	OPENBSD_3_4:1.19.0.2
	OPENBSD_3_4_BASE:1.19
	OPENBSD_3_3:1.18.0.2
	OPENBSD_3_3_BASE:1.18
	OPENBSD_3_2:1.16.0.2
	OPENBSD_3_2_BASE:1.16
	OPENBSD_3_1:1.14.0.2
	OPENBSD_3_1_BASE:1.14
	OPENBSD_3_0:1.11.0.2
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9_TRACKING_SWITCH:1.11
	OPENBSD_2_9:1.4.0.2
	OPENBSD_2_9_BASE:1.4
	espie:1.1.1.1
	afpl:1.1.1;
locks; strict;
comment	@# @;


1.32
date	2006.10.20.15.34.27;	author steven;	state dead;
branches;
next	1.31;

1.31
date	2006.08.03.23.28.11;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2006.01.02.22.43.10;	author sturm;	state Exp;
branches;
next	1.29;

1.29
date	2006.01.02.20.08.42;	author sturm;	state Exp;
branches;
next	1.28;

1.28
date	2005.06.02.17.52.12;	author sturm;	state Exp;
branches;
next	1.27;

1.27
date	2005.01.25.17.19.33;	author alek;	state Exp;
branches;
next	1.26;

1.26
date	2005.01.24.16.00.14;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	2004.10.24.21.53.02;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2004.09.15.18.32.14;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2004.09.15.17.39.04;	author sturm;	state Exp;
branches;
next	1.22;

1.22
date	2004.07.10.18.56.30;	author brad;	state Exp;
branches
	1.22.2.1;
next	1.21;

1.21
date	2004.05.31.16.14.00;	author sturm;	state Exp;
branches;
next	1.20;

1.20
date	2004.05.23.18.51.59;	author sturm;	state Exp;
branches;
next	1.19;

1.19
date	2003.05.31.20.32.16;	author pvalchev;	state Exp;
branches;
next	1.18;

1.18
date	2002.12.03.13.19.39;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2002.10.28.13.40.41;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2002.05.15.18.15.44;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2002.04.24.21.34.48;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2002.03.24.01.08.24;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2002.03.21.21.25.50;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2001.10.28.13.05.49;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2001.08.06.06.25.14;	author pvalchev;	state Exp;
branches;
next	1.10;

1.10
date	2001.07.27.17.46.48;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2001.06.20.01.43.31;	author pvalchev;	state Exp;
branches;
next	1.8;

1.8
date	2001.05.28.15.14.56;	author lebel;	state Exp;
branches;
next	1.7;

1.7
date	2001.05.24.02.28.10;	author kevlo;	state Exp;
branches;
next	1.6;

1.6
date	2001.05.06.03.19.53;	author lebel;	state Exp;
branches;
next	1.5;

1.5
date	2001.05.05.21.05.07;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2001.04.14.22.53.39;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2001.04.14.17.06.30;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.04.14.16.54.04;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.04.14.14.46.10;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.04.14.14.46.10;	author espie;	state Exp;
branches;
next	;

1.22.2.1
date	2004.12.19.19.34.43;	author brad;	state Exp;
branches;
next	1.22.2.2;

1.22.2.2
date	2004.12.20.22.00.40;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.32
log
@remove afpl ghostscript, current code is licensed under gpl

ok sturm, pval
@
text
@# $OpenBSD: Makefile,v 1.31 2006/08/03 23:28:11 espie Exp $

COMMENT=	"AFPL PostScript interpreter"

VERSION=	8.14
DISTNAME=	ghostscript-${VERSION}
PKGNAME=	${DISTNAME}p4
CATEGORIES=	print lang
SHARED_LIBS=	gs	8.14

DIR=		AFPL/gs${VERSION:S/.//}
MASTER_SITES=	${GS_SITES}
MASTER_SITES1=	${PDF_SITES}

HOMEPAGE=	http://www.cs.wisc.edu/~ghost/

DISTFILES=	${GS_SOURCES} pdf_sec.ps:1

SUBST_VARS=		OSREV	VERSION
DIST_SUBDIR=	gs

# Aladdin license 
# License: COPY GPL BSD
PERMIT_DISTFILES_CDROM=	"Aladdin wants fee for commercial redistribution"
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	"Aladdin wants fee for commercial redistribution"
PERMIT_PACKAGE_FTP=	Yes
WANTLIB=		c m z pthread


JPEGDIR=graphics/jpeg
PNGDIR=graphics/png

BUILD_DEPENDS=	::${JPEGDIR}:patch ::${PNGDIR}:patch

RUN_DEPENDS=	:ghostscript-fonts-*:print/ghostscript/gnu-fonts

LIB_DEPENDS=	png.>=2::${PNGDIR}

EXTRACT_ONLY=	${GS_SOURCES}

WRKSRC=		${WRKDIST}/src
WRKBUILD=	${WRKDIST}
BASE_FLAGS=	INSTALL_PROGRAM='${INSTALL_SCRIPT}' \
		INSTALL_DATA='${INSTALL_DATA}' \
		SHARE_LIBPNG=1 \
		SHARE_ZLIB=1 \
		CFLAGS_STANDARD='${CFLAGS}' \
		XLDFLAGS=-L${LOCALBASE}/lib \
		XINCLUDE=-I${X11BASE}/include \
		XLIBS='Xt SM ICE Xext X11' \
		XLIBDIRS=-L${X11BASE}/lib \
		GLOBJDIR=./objects \
		GLGENDIR=./objects \
		PSOBJDIR=./objects \
		PSGENDIR=./objects \
		STDLIBS='-pthread -lm' \
		DEVICE_DEVS= \
		LIBgs_VERSION=${LIBgs_VERSION}

PDFDIR=share/ghostscript/${VERSION}/lib

X11_DEVICE_DEVS1=\
$$(DD)x11.dev $$(DD)x11alpha.dev $$(DD)x11cmyk.dev $$(DD)x11cmyk2.dev \
$$(DD)x11cmyk4.dev $$(DD)x11cmyk8.dev $$(DD)x11gray2.dev $$(DD)x11gray4.dev \
$$(DD)x11mono.dev

BASE_DEVICE_DEVS1=\
$$(DD)cljet5.dev $$(DD)deskjet.dev $$(DD)djet500.dev $$(DD)laserjet.dev \
$$(DD)ljet2p.dev $$(DD)ljet3.dev $$(DD)ljet3d.dev $$(DD)ljet4.dev \
$$(DD)ljetplus.dev $$(DD)lj5mono.dev $$(DD)lj5gray.dev $$(DD)lp2563.dev \
$$(DD)oce9050.dev $$(DD)faxg3.dev $$(DD)faxg32d.dev $$(DD)faxg4.dev \
$$(DD)tiffcrle.dev $$(DD)tiffg3.dev $$(DD)tiffg32d.dev $$(DD)tiffg4.dev \
$$(DD)epswrite.dev $$(DD)pdfwrite.dev $$(DD)pswrite.dev $$(DD)pxlmono.dev \
$$(DD)pxlcolor.dev $$(DD)bit.dev $$(DD)bitrgb.dev $$(DD)bitcmyk.dev \
$$(DD)bmpmono.dev $$(DD)bmp16.dev $$(DD)bmp256.dev $$(DD)bmp16m.dev \
$$(DD)cgmmono.dev $$(DD)cgm8.dev $$(DD)cgm24.dev $$(DD)jpeg.dev \
$$(DD)jpeggray.dev $$(DD)miff24.dev $$(DD)pcxmono.dev $$(DD)pcxgray.dev \
$$(DD)pcx16.dev $$(DD)pcx256.dev $$(DD)pcx24b.dev $$(DD)pcxcmyk.dev \
$$(DD)pbm.dev $$(DD)pbmraw.dev $$(DD)pgm.dev $$(DD)pgmraw.dev $$(DD)pgnm.dev \
$$(DD)pgnmraw.dev $$(DD)pnm.dev $$(DD)pnmraw.dev $$(DD)ppm.dev \
$$(DD)ppmraw.dev $$(DD)pkm.dev $$(DD)pkmraw.dev $$(DD)plan9bm.dev \
$$(DD)pngmono.dev $$(DD)pnggray.dev $$(DD)png16.dev $$(DD)png256.dev \
$$(DD)png16m.dev $$(DD)psmono.dev $$(DD)psgray.dev $$(DD)psrgb.dev \
$$(DD)tiff12nc.dev $$(DD)tiff24nc.dev $$(DD)tifflzw.dev $$(DD)tiffpack.dev \
$$(DD)ap3250.dev $$(DD)appledmp.dev $$(DD)bj10e.dev $$(DD)bj200.dev \
$$(DD)bjc600.dev $$(DD)bjc800.dev $$(DD)cdeskjet.dev $$(DD)cdjcolor.dev \
$$(DD)cdjmono.dev $$(DD)cdj500.dev $$(DD)cdj550.dev $$(DD)declj250.dev \
$$(DD)djet500c.dev $$(DD)dnj650c.dev $$(DD)epson.dev $$(DD)eps9mid.dev \
$$(DD)eps9high.dev $$(DD)epsonc.dev $$(DD)hl7x0.dev $$(DD)ibmpro.dev \
$$(DD)imagen.dev $$(DD)iwhi.dev $$(DD)iwlo.dev $$(DD)iwlq.dev \
$$(DD)jetp3852.dev $$(DD)lbp8.dev $$(DD)lips3.dev $$(DD)lj250.dev \
$$(DD)lj4dith.dev $$(DD)lp8000.dev $$(DD)lq850.dev $$(DD)m8510.dev \
$$(DD)necp6.dev $$(DD)oki182.dev $$(DD)okiibm.dev $$(DD)paintjet.dev \
$$(DD)pj.dev $$(DD)pjetxl.dev $$(DD)pjxl.dev $$(DD)pjxl300.dev $$(DD)r4081.dev \
$$(DD)sj48.dev $$(DD)st800.dev $$(DD)stcolor.dev $$(DD)t4693d2.dev \
$$(DD)t4693d4.dev $$(DD)t4693d8.dev $$(DD)tek4696.dev $$(DD)uniprint.dev \
$$(DD)dfaxhigh.dev $$(DD)dfaxlow.dev $$(DD)cif.dev $$(DD)sgirgb.dev

MAKE_FLAGS=	${BASE_FLAGS} prefix=${PREFIX}
CFLAGS+=	-DSYS_TYPES_HAS_STDINT_TYPES

GS_SOURCES=	ghostscript-${VERSION}.tar.gz

ALL_TARGET=	all
INSTALL_TARGET=	install
# The pdf_sec.ps non-stub version has been moved to a separate package

FLAVORS=	a4 gtk no_x11
FLAVOR?=

.if ${FLAVOR:L:Ma4}
CFLAGS+=	-DA4
.endif

.if ${FLAVOR:L:Mgtk} && ${FLAVOR:L:Mno_x11}
ERRORS+= "Fatal: Conflicting flavors: ${FLAVOR}"
.elif ${FLAVOR:L:Mgtk}
MODULES=	devel/gettext
LIB_DEPENDS+=	gtk.>=1,gdk::x11/gtk+
WANTLIB+=	Xi glib gmodule
ALL_TARGET+=so
INSTALL_TARGET+=soinstall
NOT_FOR_ARCHS=${NO_SHARED_ARCHS}
.else
end_install=
.endif

.if !${FLAVOR:L:Mno_x11}
USE_X11=	Yes
WANTLIB+=	X11 Xt SM ICE Xext
BASE_FLAGS+=	DEVICE_DEVS1='${X11_DEVICE_DEVS1} ${BASE_DEVICE_DEVS1}'
.else
BASE_FLAGS+=	DEVICE_DEVS1='${BASE_DEVICE_DEVS1}'
.endif

NO_REGRESS=	Yes

FAKE_FLAGS=${BASE_FLAGS} prefix=${WRKINST}${PREFIX}

post-extract:
	ln -s ${WRKDIR}/${JPEGDIR}/jpeg* ${WRKDIST}/jpeg
	ln -s ${WRKDIR}/${PNGDIR}/libpng* ${WRKDIST}/libpng

do-configure:
	cd ${WRKBUILD} && ln -s ${WRKSRC}/unix-gcc.mak Makefile

pre-build:
	mkdir -p ${WRKDIST}/objects
	mkdir -p ${WRKDIST}/bin
	mkdir -p ${WRKDIST}/soobj
	mkdir -p ${WRKDIST}/sobin

pre-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/ghostscript 
	@@${INSTALL_PROGRAM_DIR} ${PREFIX}/bin 
	@@${INSTALL_MAN_DIR} ${PREFIX}/man/man1

post-install:
	strip ${PREFIX}/bin/gs
	cd ${PREFIX}/man/man1 && \
		ln -sf ps2ps.1 eps2eps.1 && \
		ln -sf gslp.1 gsbj.1 && \
		ln -sf gslp.1 gsdj.1 && \
		ln -sf gslp.1 gsdj500.1 && \
		ln -sf gslp.1 gslj.1 && \
		ln -sf ps2pdf.1 ps2pdf12.1 && \
		ln -sf ps2pdf.1 ps2pdf13.1 && \
		ln -sf ps2pdf.1 ps2pdf14.1
	cd ${PREFIX}/man/de/man1 && \
		ln -sf ps2pdf.1 ps2pdf12.1 && \
		ln -sf ps2pdf.1 ps2pdf13.1 && \
		ln -sf ps2pdf.1 ps2pdf14.1 && \
		ln -sf ps2ps.1 eps2eps.1
	${INSTALL_DATA} ${FULLDISTDIR}/pdf_sec.ps ${PREFIX}/${PDFDIR}

.include <bsd.port.mk>
@


1.31
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2006/01/02 22:43:10 sturm Exp $
@


1.30
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2006/01/02 20:08:42 sturm Exp $
d38 1
a38 1
LIB_DEPENDS=	png.2::${PNGDIR}
d120 1
a120 1
LIB_DEPENDS+=	gtk.1,gdk::x11/gtk+
@


1.29
log
@linewrap
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/06/02 17:52:12 sturm Exp $
d9 1
d58 2
a59 1
		DEVICE_DEVS=
@


1.28
log
@fix a4 FLAVOR

from Gerardo Santana Gómez Garrido <gerardo.santana at gmail.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2005/01/25 17:19:33 alek Exp $
d62 3
a64 2
$$(DD)x11.dev $$(DD)x11alpha.dev $$(DD)x11cmyk.dev $$(DD)x11cmyk2.dev $$(DD)x11cmyk4.dev \
$$(DD)x11cmyk8.dev $$(DD)x11gray2.dev $$(DD)x11gray4.dev $$(DD)x11mono.dev
d67 26
a92 21
$$(DD)cljet5.dev $$(DD)deskjet.dev $$(DD)djet500.dev $$(DD)laserjet.dev $$(DD)ljet2p.dev \
$$(DD)ljet3.dev $$(DD)ljet3d.dev $$(DD)ljet4.dev $$(DD)ljetplus.dev $$(DD)lj5mono.dev \
$$(DD)lj5gray.dev $$(DD)lp2563.dev $$(DD)oce9050.dev $$(DD)faxg3.dev $$(DD)faxg32d.dev \
$$(DD)faxg4.dev $$(DD)tiffcrle.dev $$(DD)tiffg3.dev $$(DD)tiffg32d.dev $$(DD)tiffg4.dev \
$$(DD)epswrite.dev $$(DD)pdfwrite.dev $$(DD)pswrite.dev $$(DD)pxlmono.dev $$(DD)pxlcolor.dev \
$$(DD)bit.dev $$(DD)bitrgb.dev $$(DD)bitcmyk.dev $$(DD)bmpmono.dev $$(DD)bmp16.dev \
$$(DD)bmp256.dev $$(DD)bmp16m.dev $$(DD)cgmmono.dev $$(DD)cgm8.dev $$(DD)cgm24.dev \
$$(DD)jpeg.dev $$(DD)jpeggray.dev $$(DD)miff24.dev $$(DD)pcxmono.dev $$(DD)pcxgray.dev \
$$(DD)pcx16.dev $$(DD)pcx256.dev $$(DD)pcx24b.dev $$(DD)pcxcmyk.dev $$(DD)pbm.dev \
$$(DD)pbmraw.dev $$(DD)pgm.dev $$(DD)pgmraw.dev $$(DD)pgnm.dev $$(DD)pgnmraw.dev \
$$(DD)pnm.dev $$(DD)pnmraw.dev $$(DD)ppm.dev $$(DD)ppmraw.dev $$(DD)pkm.dev \
$$(DD)pkmraw.dev $$(DD)plan9bm.dev $$(DD)pngmono.dev $$(DD)pnggray.dev $$(DD)png16.dev \
$$(DD)png256.dev $$(DD)png16m.dev $$(DD)psmono.dev $$(DD)psgray.dev $$(DD)psrgb.dev \
$$(DD)tiff12nc.dev $$(DD)tiff24nc.dev $$(DD)tifflzw.dev $$(DD)tiffpack.dev $$(DD)ap3250.dev \
$$(DD)appledmp.dev $$(DD)bj10e.dev $$(DD)bj200.dev $$(DD)bjc600.dev $$(DD)bjc800.dev \
$$(DD)cdeskjet.dev $$(DD)cdjcolor.dev $$(DD)cdjmono.dev $$(DD)cdj500.dev $$(DD)cdj550.dev \
$$(DD)declj250.dev $$(DD)djet500c.dev $$(DD)dnj650c.dev $$(DD)epson.dev $$(DD)eps9mid.dev \
$$(DD)eps9high.dev $$(DD)epsonc.dev $$(DD)hl7x0.dev $$(DD)ibmpro.dev $$(DD)imagen.dev \
$$(DD)iwhi.dev $$(DD)iwlo.dev $$(DD)iwlq.dev $$(DD)jetp3852.dev $$(DD)lbp8.dev \
$$(DD)lips3.dev $$(DD)lj250.dev $$(DD)lj4dith.dev $$(DD)lp8000.dev $$(DD)lq850.dev \
$$(DD)m8510.dev $$(DD)necp6.dev $$(DD)oki182.dev $$(DD)okiibm.dev $$(DD)paintjet.dev \
d94 3
a96 3
$$(DD)sj48.dev $$(DD)st800.dev $$(DD)stcolor.dev $$(DD)t4693d2.dev $$(DD)t4693d4.dev \
$$(DD)t4693d8.dev $$(DD)tek4696.dev $$(DD)uniprint.dev $$(DD)dfaxhigh.dev $$(DD)dfaxlow.dev \
$$(DD)cif.dev $$(DD)sgirgb.dev
@


1.27
log
@- Don't set soname for libs
- Use devel/gettext MODULE
- Add WANTLIB markers
- Bump PKGNAME

go ahead brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2005/01/24 16:00:14 brad Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
d104 1
a104 1
.if ${FLAVOR:U:Ma4}
@


1.26
log
@bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/10/24 21:53:02 brad Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
d27 1
d111 1
d113 1
d123 1
@


1.25
log
@Fix insecure tempfile creation in ps2epsi and pv.sh.

http://marc.theaimsgroup.com/?l=bugtraq&m=109655739113230&w=2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/09/15 18:32:14 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.24
log
@new plists
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2004/09/15 17:39:04 sturm Exp $
d7 1
@


1.23
log
@fix a typo that prevented inclusion of X11-related devices in the
regular package
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/07/10 18:56:30 brad Exp $
d109 1
a109 1
LIB_DEPENDS+=	gtk.1::x11/gtk+
@


1.22
log
@add a no_x11 FLAVOR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/05/31 16:14:00 sturm Exp $
d59 1
a59 1
X11_DEVICE_DEVS=\
@


1.22.2.1
log
@MFC:
Fix by sturm@@

fix a typo that prevented inclusion of X11-related devices in the
regular package
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/07/10 18:56:30 brad Exp $
d59 1
a59 1
X11_DEVICE_DEVS1=\
@


1.22.2.2
log
@bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22.2.1 2004/12/19 19:34:43 brad Exp $
a6 1
PKGNAME=	${DISTNAME}p0
@


1.21
log
@don't overwrite CFLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/05/23 18:51:59 sturm Exp $
d54 2
a55 1
		STDLIBS='-pthread -lm' 
d59 30
a88 37
BASE_FLAGS+=	DEVICE_DEVS1='\
$$(DD)x11.dev $$(DD)x11alpha.dev $$(DD)x11cmyk.dev $$(DD)x11cmyk2.dev \
$$(DD)x11cmyk4.dev $$(DD)x11cmyk8.dev $$(DD)x11gray2.dev \
$$(DD)x11gray4.dev $$(DD)x11mono.dev $$(DD)cljet5.dev $$(DD)deskjet.dev \
$$(DD)djet500.dev $$(DD)laserjet.dev $$(DD)ljet2p.dev $$(DD)ljet3.dev \
$$(DD)ljet3d.dev $$(DD)ljet4.dev $$(DD)ljetplus.dev $$(DD)lj5mono.dev \
$$(DD)lj5gray.dev $$(DD)lp2563.dev $$(DD)oce9050.dev $$(DD)faxg3.dev \
$$(DD)faxg32d.dev $$(DD)faxg4.dev $$(DD)tiffcrle.dev $$(DD)tiffg3.dev \
$$(DD)tiffg32d.dev $$(DD)tiffg4.dev $$(DD)epswrite.dev $$(DD)pdfwrite.dev \
$$(DD)pswrite.dev $$(DD)pxlmono.dev $$(DD)pxlcolor.dev $$(DD)bit.dev \
$$(DD)bitrgb.dev $$(DD)bitcmyk.dev $$(DD)bmpmono.dev $$(DD)bmp16.dev \
$$(DD)bmp256.dev $$(DD)bmp16m.dev $$(DD)cgmmono.dev $$(DD)cgm8.dev \
$$(DD)cgm24.dev $$(DD)jpeg.dev $$(DD)jpeggray.dev $$(DD)miff24.dev \
$$(DD)pcxmono.dev $$(DD)pcxgray.dev $$(DD)pcx16.dev $$(DD)pcx256.dev \
$$(DD)pcx24b.dev $$(DD)pcxcmyk.dev $$(DD)pbm.dev $$(DD)pbmraw.dev \
$$(DD)pgm.dev $$(DD)pgmraw.dev $$(DD)pgnm.dev $$(DD)pgnmraw.dev \
$$(DD)pnm.dev $$(DD)pnmraw.dev $$(DD)ppm.dev $$(DD)ppmraw.dev \
$$(DD)pkm.dev $$(DD)pkmraw.dev $$(DD)plan9bm.dev $$(DD)pngmono.dev \
$$(DD)pnggray.dev $$(DD)png16.dev $$(DD)png256.dev $$(DD)png16m.dev \
$$(DD)psmono.dev $$(DD)psgray.dev $$(DD)psrgb.dev $$(DD)tiff12nc.dev \
$$(DD)tiff24nc.dev $$(DD)tifflzw.dev $$(DD)tiffpack.dev $$(DD)ap3250.dev \
$$(DD)appledmp.dev $$(DD)bj10e.dev $$(DD)bj200.dev $$(DD)bjc600.dev \
$$(DD)bjc800.dev $$(DD)cdeskjet.dev $$(DD)cdjcolor.dev \
$$(DD)cdjmono.dev $$(DD)cdj500.dev $$(DD)cdj550.dev \
$$(DD)declj250.dev $$(DD)djet500c.dev $$(DD)dnj650c.dev $$(DD)epson.dev \
$$(DD)eps9mid.dev $$(DD)eps9high.dev $$(DD)epsonc.dev $$(DD)hl7x0.dev \
$$(DD)ibmpro.dev $$(DD)imagen.dev $$(DD)iwhi.dev $$(DD)iwlo.dev \
$$(DD)iwlq.dev $$(DD)jetp3852.dev \
$$(DD)lbp8.dev $$(DD)lips3.dev \
$$(DD)lj250.dev $$(DD)lj4dith.dev $$(DD)lp8000.dev \
$$(DD)lq850.dev $$(DD)m8510.dev $$(DD)necp6.dev $$(DD)oki182.dev \
$$(DD)okiibm.dev $$(DD)paintjet.dev $$(DD)pj.dev $$(DD)pjetxl.dev \
$$(DD)pjxl.dev $$(DD)pjxl300.dev $$(DD)r4081.dev $$(DD)sj48.dev \
$$(DD)st800.dev $$(DD)stcolor.dev $$(DD)t4693d2.dev $$(DD)t4693d4.dev \
$$(DD)t4693d8.dev $$(DD)tek4696.dev $$(DD)uniprint.dev \
$$(DD)dfaxhigh.dev $$(DD)dfaxlow.dev $$(DD)cif.dev \
$$(DD)sgirgb.dev'
a89 3

# $$(DD)la50.dev $$(DD)la70.dev $$(DD)la75.dev $$(DD)la75plus.dev 
# $$(DD)ln03.dev $$(DD)xes.dev 
a93 5
#  Note: the following two are real files that have symlinks with
#  later version numbers pointing to them.  To avoid unnecessarily
#  downloading distfiles, do not change these when upgrading the port
#  unless the files really change.
GS_FONTS_STD=	ghostscript-fonts-std-6.0.tar.gz
d99 2
a100 1
FLAVORS=A4 gtk
d102 1
a102 2
FLAVOR?=
.if ${FLAVOR:U:MA4}
d106 3
a108 1
.if ${FLAVOR:L:Mgtk}
d115 7
@


1.20
log
@revive this port by updating to afpl ghostscript 8.14

based on a diff from Michael Holcomb <redcat at aracnet.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/05/31 20:32:16 pvalchev Exp $
d100 1
a100 1
CFLAGS=		-DSYS_TYPES_HAS_STDINT_TYPES
@


1.19
log
@more meaningful PERMIT values than "No"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/12/03 13:19:39 espie Exp $
d3 1
a3 1
COMMENT="AFPL PostScript interpreter"
d5 1
a5 2
BROKEN=		"Gnu ghostscript more recent, awaiting new port"
VERSION=	7.00
d15 1
a15 1
DISTFILES=	# ${GS_SOURCES} ${GS_FONTS_STD} pdf_sec.ps:1
d33 2
a38 1
WRKDIST=	${WRKDIR}/gs${VERSION}
d80 1
a80 1
$$(DD)bjc800.dev $$(DD)ccr.dev $$(DD)cdeskjet.dev $$(DD)cdjcolor.dev \
a81 1
$$(DD)cp50.dev \
d93 2
a94 3
$$(DD)dfaxhigh.dev $$(DD)dfaxlow.dev $$(DD)cif.dev $$(DD)inferno.dev \
$$(DD)mgrmono.dev $$(DD)mgrgray2.dev $$(DD)mgrgray4.dev $$(DD)mgrgray8.dev \
$$(DD)mgr4.dev $$(DD)mgr8.dev $$(DD)sgirgb.dev'
d100 1
a100 3


#MAKE_FILE=	src/unix-gcc.mak
a149 2
	cd ${PREFIX}/share/ghostscript  && \
			tar xzf ${FULLDISTDIR}/${GS_FONTS_STD}
d160 2
a161 1
		ln -sf ps2pdf.1 ps2pdf13.1
d165 1
@


1.18
log
@temp removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/10/28 13:40:41 naddy Exp $
d23 1
a23 2
# Aladdin ghostscript wants a fee for redistribution
PERMIT_DISTFILES_CDROM=	No
d25 1
a25 1
PERMIT_PACKAGE_CDROM=	No
@


1.17
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/05/15 18:15:44 espie Exp $
d5 1
d16 1
a16 1
DISTFILES=	${GS_SOURCES} ${GS_FONTS_STD} pdf_sec.ps:1
@


1.16
log
@missed one
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/04/24 21:34:48 espie Exp $
a7 1
NEED_VERSION=	1.525
d132 2
@


1.15
log
@Adjust ports with non-package/install dependencies for the new mechanism.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/03/24 01:08:24 brad Exp $
a15 1
MASTER_SITE_SUBDIR=     ghostscript
@


1.14
log
@- -lc_r -> -pthread
- replace fonts distfile with one that is fetchable.
--
Ok'd by: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/03/21 21:25:50 espie Exp $
d8 1
a8 1
NEED_VERSION=	1.515
d138 2
a139 2
	ln -s `cd ${PORTSDIR} && cd ${JPEGDIR} && FLAVOR='' make show=WRKDIST` ${WRKDIST}/jpeg
	ln -s `cd ${PORTSDIR} && cd ${PNGDIR} && FLAVOR='' make show=WRKDIST` ${WRKDIST}/libpng
@


1.13
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/10/28 13:05:49 espie Exp $
d56 1
a56 1
		STDLIBS='-lc_r -lm' 
@


1.12
log
@Zap default MAINTAINER from Makefile.
Especially now that the default line is more verbose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/08/06 06:25:14 pvalchev Exp $
d8 1
a8 1
NEED_VERSION=	1.396
@


1.11
log
@PREFIX -> LOCALBASE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/07/27 17:46:48 espie Exp $
a30 2
MAINTAINER=	ports@@openbsd.org

d34 1
a34 2
BUILD_DEPENDS=	/nonexistent::${JPEGDIR}:patch \
		/nonexistent::${PNGDIR}:patch
d127 1
a127 1
LIB_DEPENDS+=	gtk.1.::x11/gtk+
@


1.10
log
@Fix a4 build now that flavors checks are better.
From Yozo Toda.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/06/20 01:43:31 pvalchev Exp $
d51 1
a51 1
		XLDFLAGS=-L${PREFIX}/lib \
@


1.9
log
@Remove deprecated LICENSE_TYPE and set appropriate # comments
with its contents.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/05/28 15:14:56 lebel Exp $
d141 2
a142 2
	ln -s `cd ${PORTSDIR} && cd ${JPEGDIR} && make show VARNAME=WRKDIST` ${WRKDIST}/jpeg
	ln -s `cd ${PORTSDIR} && cd ${PNGDIR} && make show VARNAME=WRKDIST` ${WRKDIST}/libpng
@


1.8
log
@during my COMMENT removal sweep the strip of gs was commented
on my local copy and was commited that way.  My error.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/05/24 02:28:10 kevlo Exp $
d23 1
a23 1
LICENSE_TYPE=		COPY GPL BSD
@


1.7
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/05/06 03:19:53 lebel Exp $
d161 1
a161 1
#strip ${PREFIX}/bin/gs
@


1.6
log
@print: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/05/05 21:05:07 espie Exp $
d39 1
a39 1
LIB_DEPENDS=	png.1::${PNGDIR}
@


1.5
log
@There was a confusion wrt `domestic crypto'.
Ghostscript's pdf_sec.ps add-on is not affected, so kill the encrypt
package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/04/14 22:53:39 espie Exp $
d161 1
a161 1
	strip ${PREFIX}/bin/gs
@


1.4
log
@Oops, gsx is installed as gs, in fact.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/04/14 17:06:30 espie Exp $
d12 1
d17 1
a17 1
DISTFILES=	${GS_SOURCES} ${GS_FONTS_STD} 
d174 1
@


1.3
log
@Typo, thanks David.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/04/14 16:54:04 espie Exp $
a131 1
end_install= ${INSTALL_PROGRAM} ${WRKDIST}/sobin/gsx ${PREFIX}/bin
a172 1
	${end_install}
@


1.2
log
@Add a gtk flavor that builds gsx with the new display device.

That device is ways faster than the traditional x11 device, especially
with anti-aliasing turned on. Unfortunately, it requires shared libraries
and does not interface with gv.

Note: I hope all devices are back in. Those of you looking for hp850 &
friends support, the driver has been integrated into the `uniprint' driver.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/04/13 17:01:03 espie Exp $
d129 1
a129 1
LIB_DEPENDS+=	gtk.1.::x11/gtk
@


1.1
log
@Initial revision
@
text
@d8 1
a8 1
NEED_VERSION=	1.395
d62 1
a62 1
BASE_FLAGS+=	DEVICE_DEVS='\
d108 1
a108 1
MAKE_FILE=	src/unixansi.mak
d117 2
a118 3
# Additional driver HP 850, see http://www.erdw.ethz.ch/~bonk/hp850/hp850.html
HP850_DRV=	hp8xxs13.zip

d121 1
a121 1
FLAVORS=A4
d124 1
a124 1
.if ${FLAVOR:U} == "A4"
d128 10
d144 3
d148 4
a151 2
	mkdir -p ${WRKBUILD}/objects
	mkdir -p ${WRKBUILD}/bin
d174 1
a174 1

@


1.1.1.1
log
@Initial import of afpl ghostscript 7.00.
`aladdin' stopped developping ghostscript. What exists is now called
`afpl'.

The 7.00 version offers a whole new set of possibilities. I haven't
even tried for compiling the gtk glue yet, but the most visible one
is the new, much improved aa support in x11 (compare the sample files
with old x11alpha and new x11 with aa options, as per gv).

Rename the directory along, leave aladdin ghostscript alone for now:
in two weeks time, GNU ghostscript 6.51 ships, and this will be just
aladdin ghostscript 6.50 with s/Aladding/GNU/. We want this for the CD.
@
text
@@
