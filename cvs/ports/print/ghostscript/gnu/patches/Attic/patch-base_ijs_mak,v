head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2011.07.06.13.49.17;	author kili;	state dead;
branches;
next	1.1;

1.1
date	2011.06.08.19.15.48;	author kili;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to gs-9.02 to fix the google maps problem with pdf2ps.

Drop gstoraster (formerly known as ps2raster); it is replaced
by the new gstoraster package.

Also Drop pstopxl, it's currently broken (at least since gs-9.00).
If anyone needs it, please let me know (or patch/repair it yourself
and send me a diff). Note that it would need rather heavy patching
or it had to depend on gnu grep.

ok aja@@
@
text
@$OpenBSD: patch-base_ijs_mak,v 1.1 2011/06/08 19:15:48 kili Exp $
--- base/ijs.mak.orig	Wed Jun  6 00:23:38 2007
+++ base/ijs.mak	Fri Sep 14 21:11:40 2007
@@@@ -18,6 +18,8 @@@@
 #		in spawning the server. currently
 #		'unix' and 'win' are supported.
 #	BINDIR - where to put the executible examples
+#	SHARE_IJS - 0 to compile the library, 1 to share
+#	IJS_NAME - if SHARE_IJS = 1, the name of the shared library
 
 # This partial makefile compiles the IJS client library for use in
 # Ghostscript.
@@@@ -51,9 +53,19 @@@@ ijs.config-clean :
 
 IJSDEP=$(AK)
 
+# Define the version of ijslib.dev that we are actually using.
+$(IJSGEN)ijslib.dev : $(TOP_MAKEFILES) $(IJSGEN)ijslib_$(SHARE_IJS).dev
+	$(CP_) $(IJSGEN)ijslib_$(SHARE_IJS).dev $(IJSGEN)ijslib.dev
+
+# Define the shared version of libpng.
+# Note that it requires libz, which must be searched *after* libpng.
+$(IJSGEN)ijslib_1.dev : $(TOP_MAKEFILES) $(IJS_MAK) $(ECHOGS_XE)
+	$(SETMOD) $(IJSGEN)ijslib_1 -lib $(IJS_NAME)
+
+# Define the non-shared version of ijslib.
 ijslib_=$(IJSOBJ)ijs.$(OBJ) $(IJSOBJ)ijs_server.$(OBJ) \
     $(IJSOBJ)ijs_client.$(OBJ) $(IJSOBJ)ijs_exec_$(IJSEXECTYPE).$(OBJ)
-$(IJSGEN)ijslib.dev : $(IJS_MAK) $(ECHOGS_XE) $(ijslib_)
+$(IJSGEN)ijslib_0.dev : $(IJS_MAK) $(ECHOGS_XE) $(ijslib_)
 	$(SETMOD) $(IJSGEN)ijslib $(ijslib_)
 
 ijs_h=$(IJSSRC)ijs.h
@


1.1
log
@Update to ghostscript-9.00.

ok landry@@ (after putting it in a bulk build... thanks)
@
text
@d1 1
a1 1
$OpenBSD$
@

