head	1.8;
access;
symbols
	OPENBSD_4_9:1.7.0.12
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.10
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.8
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.6
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.4
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.2
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.4.0.4
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.2
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.3.0.8
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.6
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.2.0.2
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.1.0.2
	OPENBSD_3_5_BASE:1.1;
locks; strict;
comment	@# @;


1.8
date	2011.06.08.19.15.48;	author kili;	state dead;
branches;
next	1.7;

1.7
date	2008.04.06.15.48.13;	author kili;	state Exp;
branches;
next	1.6;

1.6
date	2008.04.01.20.37.01;	author kili;	state Exp;
branches;
next	1.5;

1.5
date	2007.11.19.20.06.56;	author kili;	state Exp;
branches;
next	1.4;

1.4
date	2006.10.19.13.12.37;	author kili;	state Exp;
branches;
next	1.3;

1.3
date	2005.01.23.01.41.48;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2004.05.31.16.23.25;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2003.12.30.02.29.12;	author espie;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Update to ghostscript-9.00.

ok landry@@ (after putting it in a bulk build... thanks)
@
text
@$OpenBSD: patch-src_unix-gcc_mak,v 1.7 2008/04/06 15:48:13 kili Exp $
--- src/unix-gcc.mak.orig	Fri Feb 29 09:13:08 2008
+++ src/unix-gcc.mak	Fri Apr  4 19:44:50 2008
@@@@ -30,6 +30,7 @@@@ PSLIBDIR=./lib
 PSRESDIR=./Resource
 PSGENDIR=./obj
 PSOBJDIR=./obj
+CONTRIBDIR=./contrib
 
 # Do not edit the next group of lines.
 
@@@@ -68,12 +69,12 @@@@ gsincludedir = $(includedir)/ghostscript/
 
 docdir=$(gsdatadir)/doc
 exdir=$(gsdatadir)/examples
-GS_DOCDIR=$(docdir)
+GS_DOCDIR=$(TRUEPREFIX)/share/ghostscript/$(GS_DOT_VERSION)/doc
 
 # Define the default directory/ies for the runtime
 # initialization, resource and font files.  Separate multiple directories with a :.
 
-GS_LIB_DEFAULT=$(gsdatadir)/lib:$(gsdatadir)/Resource:$(gsdir)/fonts
+GS_LIB_DEFAULT=$(TRUEPREFIX)/share/ghostscript/$(GS_DOT_VERSION)/lib:$(TRUEPREFIX)/share/ghostscript/$(GS_DOT_VERSION)/Resource:$(TRUEPREFIX)/share/ghostscript/fonts
 
 # Define whether or not searching for initialization files should always
 # look in the current directory first.  This leads to well-known security
@@@@ -188,6 +189,9 @@@@ ICCSRCDIR=icclib
 IJSSRCDIR=ijs
 IJSEXECTYPE=unix
 
+SHARED_IJS=0
+IJS_NAME=ijs
+
 # Define how to build the library archives.  (These are not used in any
 # standard configuration.)
 
@@@@ -196,6 +200,11 @@@@ IJSEXECTYPE=unix
 
 IMDISRCDIR=imdi
 
+JPX_LIB=jasper
+JPXSRCDIR=jasper
+SHARE_JPX=0
+JPX_CFLAGS=-DJAS_CONFIGURE
+
 AR=ar
 ARFLAGS=qc
 RANLIB=ranlib
@@@@ -204,7 +213,7 @@@@ RANLIB=ranlib
 
 # Define the name of the C compiler.
 
-CC=gcc
+#CC=gcc
 
 # Define the name of the linker for the final link step.
 # Normally this is the same as the C compiler.
@@@@ -352,8 +361,6 @@@@ DISPLAY_DEV=
 # Choose the device(s) to include.  See devs.mak for details,
 # devs.mak and contrib.mak for the list of available devices.
 
-DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.dev $(DD)x11cmyk.dev $(DD)x11gray2.dev $(DD)x11gray4.dev $(DD)x11mono.dev
-
 #DEVICE_DEVS1=
 #DEVICE_DEVS2=
 #DEVICE_DEVS3=
@@@@ -375,33 +382,13 @@@@ DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.
 #DEVICE_DEVS19=
 #DEVICE_DEVS20=
 
-DEVICE_DEVS1=$(DD)bmpmono.dev $(DD)bmpgray.dev $(DD)bmpsep1.dev $(DD)bmpsep8.dev $(DD)bmp16.dev $(DD)bmp256.dev $(DD)bmp16m.dev $(DD)bmp32b.dev $(DD)stcolor.dev
-DEVICE_DEVS2=$(DD)epson.dev $(DD)eps9high.dev $(DD)eps9mid.dev $(DD)epsonc.dev $(DD)ibmpro.dev
-DEVICE_DEVS3=$(DD)deskjet.dev $(DD)djet500.dev $(DD)laserjet.dev $(DD)ljetplus.dev $(DD)ljet2p.dev $(DD)ljet3.dev $(DD)ljet3d.dev $(DD)ljet4.dev $(DD)ljet4d.dev $(DD)lj5mono.dev $(DD)lj5gray.dev
-DEVICE_DEVS4=$(DD)cdeskjet.dev $(DD)cdjcolor.dev $(DD)cdjmono.dev $(DD)cdj550.dev $(DD)pj.dev $(DD)pjxl.dev $(DD)pjxl300.dev
-DEVICE_DEVS5=$(DD)uniprint.dev $(DD)ijs.dev
-DEVICE_DEVS6=$(DD)bj10e.dev $(DD)bj200.dev $(DD)bjc600.dev $(DD)bjc800.dev
-DEVICE_DEVS7=$(DD)faxg3.dev $(DD)faxg32d.dev $(DD)faxg4.dev
-DEVICE_DEVS8=$(DD)pcxmono.dev $(DD)pcxgray.dev $(DD)pcx16.dev $(DD)pcx256.dev $(DD)pcx24b.dev $(DD)pcxcmyk.dev
-DEVICE_DEVS9=$(DD)pbm.dev $(DD)pbmraw.dev $(DD)pgm.dev $(DD)pgmraw.dev $(DD)pgnm.dev $(DD)pgnmraw.dev $(DD)pnm.dev $(DD)pnmraw.dev $(DD)ppm.dev $(DD)ppmraw.dev $(DD)pkm.dev $(DD)pkmraw.dev $(DD)pksm.dev $(DD)pksmraw.dev
-DEVICE_DEVS10=$(DD)tiffcrle.dev $(DD)tiffg3.dev $(DD)tiffg32d.dev $(DD)tiffg4.dev $(DD)tifflzw.dev $(DD)tiffpack.dev
-DEVICE_DEVS11=$(DD)tiff12nc.dev $(DD)tiff24nc.dev $(DD)tiffgray.dev $(DD)tiff32nc.dev $(DD)tiffsep.dev
-DEVICE_DEVS12=$(DD)psmono.dev $(DD)psgray.dev $(DD)psrgb.dev $(DD)bit.dev $(DD)bitrgb.dev $(DD)bitcmyk.dev
-DEVICE_DEVS13=$(DD)pngmono.dev $(DD)pnggray.dev $(DD)png16.dev $(DD)png256.dev $(DD)png16m.dev $(DD)pngalpha.dev
-DEVICE_DEVS14=$(DD)jpeg.dev $(DD)jpeggray.dev $(DD)jpegcmyk.dev
-DEVICE_DEVS15=$(DD)pdfwrite.dev $(DD)pswrite.dev $(DD)ps2write.dev $(DD)epswrite.dev $(DD)txtwrite.dev $(DD)pxlmono.dev $(DD)pxlcolor.dev
-DEVICE_DEVS16=$(DD)bbox.dev
-
-DEVICE_DEVS17=
-DEVICE_DEVS18=
-DEVICE_DEVS19=
-DEVICE_DEVS20=$(DD)cljet5.dev $(DD)cljet5c.dev
-DEVICE_DEVS21=$(DD)spotcmyk.dev $(DD)devicen.dev $(DD)xcf.dev $(DD)bmpsep1.dev $(DD)bmpsep8.dev $(DD)bmp16m.dev $(DD)bmp32b.dev $(DD)psdcmyk.dev $(DD)psdrgb.dev $(DD)pamcmyk32.dev
-
 # Shared library target to build.
-GS_SHARED_OBJS=$(GLOBJDIR)/X11.so $(GLOBJDIR)/lvga256.so $(GLOBJDIR)/vgalib.so
+#GS_SHARED_OBJS=$(GLOBJDIR)/X11.so $(GLOBJDIR)/lvga256.so $(GLOBJDIR)/vgalib.so
 #GS_SHARED_OBJS=$(GLOBJDIR)/X11.so
 
+# Copied from Makefile.in
+EXTRA_INIT_FILES= Fontmap cidfmap xlatmap FAPI FCOfontmap-PCLPS2 gs_cet.ps
+
 # ---------------------------- End of options --------------------------- #
 
 # Define the name of the partial makefile that specifies options --
@@@@ -440,6 +427,7 @@@@ include $(GLSRCDIR)/jpeg.mak
 include $(GLSRCDIR)/zlib.mak
 include $(GLSRCDIR)/libpng.mak
 include $(GLSRCDIR)/jbig2.mak
+include $(GLSRCDIR)/jasper.mak
 include $(GLSRCDIR)/icclib.mak
 include $(GLSRCDIR)/ijs.mak
 include $(GLSRCDIR)/devs.mak
@@@@ -449,6 +437,8 @@@@ include $(GLSRCDIR)/unixlink.mak
 include $(GLSRCDIR)/unix-dll.mak
 include $(GLSRCDIR)/unix-end.mak
 include $(GLSRCDIR)/unixinst.mak
+include contrib/contrib.mak
+include cups/cups.mak
 
 # This has to come last so it won't be taken as the default target.
 $(AK):
@


1.7
log
@
Re-add some important files dropped with the last update.

Noticed by Onat I. <onatinadresi@@gmail.com>, fix double-checked also
by Onat I. and Giovanni Bechis <bigionews@@snb.it>.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_unix-gcc_mak,v 1.6 2008/04/01 20:37:01 kili Exp $
@


1.6
log
@
Update to 8.62.

NOTE: the cups flavor will probably vanish very soon. See
http://marc.info/?l=openbsd-ports&m=120624299930920&w=2 for
explanation.

"looks ok", and some testing, jakemsr@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_unix-gcc_mak,v 1.5 2007/11/19 20:06:56 kili Exp $
d3 1
a3 1
+++ src/unix-gcc.mak	Sat Mar 22 22:28:54 2008
d67 1
a67 1
@@@@ -375,31 +382,8 @@@@ DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.
d99 3
d103 3
a105 1
@@@@ -440,6 +424,7 @@@@ include $(GLSRCDIR)/jpeg.mak
d113 1
a113 1
@@@@ -449,6 +434,8 @@@@ include $(GLSRCDIR)/unixlink.mak
@


1.5
log
@
Update to 8.60.
Add a cups flavor (for the pstoraster thingy).
Accept the truth and dake maintainership.

Tested by many.
ok simon@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_unix-gcc_mak,v 1.4 2006/10/19 13:12:37 kili Exp $
--- src/unix-gcc.mak.orig	Mon Jul 30 22:13:56 2007
+++ src/unix-gcc.mak	Thu Oct 25 17:37:55 2007
d12 1
a12 1
@@@@ -65,12 +66,12 @@@@ gsdatadir = $(gsdir)/$(GS_DOT_VERSION)
d27 1
a27 1
@@@@ -191,6 +192,9 @@@@ ICCSRCDIR=icclib
d37 1
a37 1
@@@@ -199,6 +203,11 @@@@ IJSEXECTYPE=unix
d49 1
a49 1
@@@@ -207,7 +216,7 @@@@ RANLIB=ranlib
d58 1
a58 1
@@@@ -371,8 +380,6 @@@@ EXTEND_NAMES=0
d67 1
a67 1
@@@@ -394,31 +401,8 @@@@ DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.
d85 1
a85 1
-DEVICE_DEVS15=$(DD)pdfwrite.dev $(DD)pswrite.dev $(DD)ps2write.dev $(DD)epswrite.dev $(DD)pxlmono.dev $(DD)pxlcolor.dev
d92 1
a92 1
-DEVICE_DEVS21=$(DD)spotcmyk.dev $(DD)devicen.dev $(DD)xcf.dev $(DD)bmpsep1.dev $(DD)bmpsep8.dev $(DD)bmp16m.dev $(DD)bmp32b.dev $(DD)psdcmyk.dev $(DD)psdrgb.dev
d100 1
a100 1
@@@@ -457,6 +441,7 @@@@ include $(GLSRCDIR)/jpeg.mak
d108 1
a108 1
@@@@ -466,6 +451,8 @@@@ include $(GLSRCDIR)/unixlink.mak
@


1.4
log
@
Update to 8.54.

Some help by steven@@ and espie@@.

"commit" espie@@
@
text
@d1 12
a12 4
$OpenBSD: patch-src_unix-gcc_mak,v 1.2 2005/01/23 01:41:48 brad Exp $
--- src/unix-gcc.mak.orig	Wed May 10 23:54:27 2006
+++ src/unix-gcc.mak	Sat Sep 30 22:25:32 2006
@@@@ -64,12 +64,12 @@@@ gsdatadir = $(gsdir)/$(GS_DOT_VERSION)
d27 23
a49 1
@@@@ -201,7 +201,7 @@@@ RANLIB=ranlib
d58 59
@


1.3
log
@eliminate the possibility of two paths which are hardcoded
in the ghostscript binary including WRKINST.
@
text
@d1 4
a4 4
$OpenBSD: patch-src_unix-gcc_mak,v 1.2 2004/05/31 16:23:25 sturm Exp $
--- src/unix-gcc.mak.orig	Fri Apr 19 18:23:09 2002
+++ src/unix-gcc.mak	Sat Jan 22 19:01:55 2005
@@@@ -67,12 +67,12 @@@@ gsdatadir = $(gsdir)/$(GS_DOT_VERSION)
d12 1
a12 1
 # initialization and font files.  Separate multiple directories with a :.
d14 2
a15 2
-GS_LIB_DEFAULT=$(gsdatadir)/lib:$(gsdir)/fonts
+GS_LIB_DEFAULT=$(TRUEPREFIX)/share/ghostscript/$(GS_DOT_VERSION)/lib:$(TRUEPREFIX)/share/ghostscript/fonts
d19 1
a19 1
@@@@ -196,7 +196,7 @@@@ RANLIB=ranlib
a27 9
@@@@ -208,7 +208,7 @@@@ CCLD=$(CC)
 # the 2.7.0-2.7.2 optimizer bug, either "-Dconst=" or
 # "-Wcast-qual -Wwrite-strings" is automatically included.
 
-GCFLAGS=-Wall -Wstrict-prototypes -Wmissing-declarations -Wmissing-prototypes -Wtraditional -fno-builtin -fno-common
+GCFLAGS=-Wall -Wstrict-prototypes -Wmissing-declarations -Wmissing-prototypes -fno-builtin -fno-common
 
 # Define the added flags for standard, debugging, profiling 
 # and shared object builds.
@


1.2
log
@honour CC
@
text
@d1 18
a18 3
$OpenBSD: patch-src_unix-gcc_mak,v 1.1 2003/12/30 02:29:12 espie Exp $
--- src/unix-gcc.mak.orig	2002-04-20 00:23:09.000000000 +0200
+++ src/unix-gcc.mak	2004-05-31 18:15:57.000000000 +0200
@


1.1
log
@-Wtraditional warns for functions with ISO C declarations in gcc3.
Loads of useless bogus warnings.
@
text
@d1 12
a12 3
$OpenBSD$
--- src/unix-gcc.mak.orig	2003-12-30 03:22:53.000000000 +0100
+++ src/unix-gcc.mak	2003-12-30 03:23:20.000000000 +0100
@

