head	1.4;
access;
symbols
	OPENBSD_4_9:1.3.0.6
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.4
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.8
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.6
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.0.2
	OPENBSD_4_2_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2011.06.08.19.15.48;	author kili;	state dead;
branches;
next	1.3;

1.3
date	2010.01.04.19.14.52;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2007.11.19.20.06.56;	author kili;	state Exp;
branches
	1.2.8.1;
next	1.1;

1.1
date	2007.05.26.12.25.10;	author kili;	state Exp;
branches;
next	;

1.2.8.1
date	2010.02.16.04.12.47;	author william;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to ghostscript-9.00.

ok landry@@ (after putting it in a bulk build... thanks)
@
text
@$OpenBSD: patch-src_lib_mak,v 1.3 2010/01/04 19:14:52 jasper Exp $
--- src/lib.mak.orig	Thu Jul 24 01:29:39 2008
+++ src/lib.mak	Mon Jan  4 17:00:48 2010
@@@@ -25,12 +25,12 @@@@ GLO_=$(O_)$(GLOBJ)
 GLI_=$(GLGENDIR) $(II)$(GLSRCDIR)
 GLF_=
 GLCCFLAGS=$(I_)$(GLI_)$(_I) $(GLF_)
-GLCC=$(CC_) $(GLCCFLAGS)
+GLCC=$(CC) $(GLCCFLAGS) $(CCFLAGS)
 GLICCCC=$(CC_) $(I_)$(GLI_) $(II)$(ICCI_)$(_I) $(ICCCF_) $(GLF_)
 GLJCC=$(CC_) $(I_)$(GLI_) $(II)$(JI_)$(_I) $(JCF_) $(GLF_)
 GLZCC=$(CC_) $(I_)$(GLI_) $(II)$(ZI_)$(_I) $(ZCF_) $(GLF_)
 GLJBIG2CC=$(CC_) $(I_)$(GLI_) $(II)$(JB2I_)$(_I) $(JB2CF_) $(GLF_)
-GLJASCC=$(CC_) $(I_)$(JPXI_) $(II)$(GLI_)$(_I) $(JPXCF_) $(GLF_)
+GLJASCC=$(CC) $(I_)$(JPXI_) $(II)$(GLI_)$(_I) $(JPXCF_) $(GLF_) ${CCFLAGS}
 GLLDFJB2CC=$(CC_) $(I_)$(LDF_JB2I_) $(II)$(GLI_)$(_I) $(JB2CF_) $(GLF_)
 GLLWFJPXCC=$(CC_) $(I_)$(LWF_JPXI_) $(II)$(GLI_)$(_I) $(JPXCF_) $(GLF_)
 GLCCSHARED=$(CC_SHARED) $(GLCCFLAGS)
@@@@ -246,7 +246,7 @@@@ $(GLOBJ)gsargs.$(OBJ) : $(GLSRC)gsargs.c\
 $(GLOBJ)gsmisc.$(OBJ) : $(GLSRC)gsmisc.c $(GXERR)\
  $(vmsmath_h)\
  $(ctype__h) $(malloc__h) $(math__h) $(memory__h) $(string__h)\
- $(gpcheck_h) $(gserror_h) $(gxfarith_h) $(gxfixed_h) $(stdint__h)
+ $(gpcheck_h) $(gserror_h) $(gxfarith_h) $(gxfixed_h) $(stdint__h) $(stdio__h)
 	$(GLCC) $(GLO_)gsmisc.$(OBJ) $(C_) $(GLSRC)gsmisc.c
 
 $(GLOBJ)gslibctx.$(OBJ) : $(GLSRC)gslibctx.c  $(GXERR)\
@


1.3
log
@SECURITY FIX:
CVE-2009-4270: Ghostscript "errprintf()" Buffer Overflow Vulnerability

ok kili@@ (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD: patch-src_lib_mak,v 1.2 2007/11/19 20:06:56 kili Exp $
@


1.2
log
@
Update to 8.60.
Add a cups flavor (for the pstoraster thingy).
Accept the truth and dake maintainership.

Tested by many.
ok simon@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_lib_mak,v 1.1 2007/05/26 12:25:10 kili Exp $
--- src/lib.mak.orig	Tue Jul 17 11:55:56 2007
+++ src/lib.mak	Mon Sep  3 15:27:31 2007
d19 9
@


1.2.8.1
log
@MFC:

SECURITY FIX

Resolves CVE-2009-4270

ok jasper@@ kili@@
@
text
@d1 3
a3 3
$OpenBSD$
--- src/lib.mak.orig	Thu Jul 24 01:29:39 2008
+++ src/lib.mak	Mon Jan  4 17:00:48 2010
a18 9
@@@@ -246,7 +246,7 @@@@ $(GLOBJ)gsargs.$(OBJ) : $(GLSRC)gsargs.c\
 $(GLOBJ)gsmisc.$(OBJ) : $(GLSRC)gsmisc.c $(GXERR)\
  $(vmsmath_h)\
  $(ctype__h) $(malloc__h) $(math__h) $(memory__h) $(string__h)\
- $(gpcheck_h) $(gserror_h) $(gxfarith_h) $(gxfixed_h) $(stdint__h)
+ $(gpcheck_h) $(gserror_h) $(gxfarith_h) $(gxfixed_h) $(stdint__h) $(stdio__h)
 	$(GLCC) $(GLO_)gsmisc.$(OBJ) $(C_) $(GLSRC)gsmisc.c
 
 $(GLOBJ)gslibctx.$(OBJ) : $(GLSRC)gslibctx.c  $(GXERR)\
@


1.1
log
@
Use the pdf_sec.ps shipped with ghostcript 8.54, which has the minor
advance of actually working.
DIST_SUBDIR and Makefile.inc are obsolete now, so drop them.
Use included (and patched) jasper to simplify the update to gs 8.56.

ok jasper@@, jakemsr@@
"go for it", espie@@
@
text
@d1 4
a4 4
$OpenBSD$
--- src/lib.mak.orig	Mon May 15 21:00:31 2006
+++ src/lib.mak	Sun Apr 22 20:45:37 2007
@@@@ -25,7 +25,7 @@@@ GLO_=$(O_)$(GLOBJ)
d13 6
@

