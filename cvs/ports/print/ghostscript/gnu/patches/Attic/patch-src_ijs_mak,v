head	1.2;
access;
symbols
	OPENBSD_4_9:1.1.0.14
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.12
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.10
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.8
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.6
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.4
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.06.08.19.15.48;	author kili;	state dead;
branches;
next	1.1;

1.1
date	2007.11.19.20.06.56;	author kili;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to ghostscript-9.00.

ok landry@@ (after putting it in a bulk build... thanks)
@
text
@$OpenBSD: patch-src_ijs_mak,v 1.1 2007/11/19 20:06:56 kili Exp $
--- src/ijs.mak.orig	Wed Jun  6 00:23:38 2007
+++ src/ijs.mak	Fri Sep 14 21:11:40 2007
@@@@ -18,6 +18,8 @@@@
 #		in spawning the server. currently
 #		'unix' and 'win' are supported.
 #	BINDIR - where to put the executible examples
+#	SHARE_IJS - 0 to compile the library, 1 to share
+#	IJS_NAME - if SHARE_IJS = 1, the name of the shared library
 
 # This partial makefile compiles the IJS client library for use in
 # Ghostscript.
@@@@ -51,9 +53,19 @@@@ ijs.config-clean :
 
 IJSDEP=$(AK)
 
+# Define the version of ijslib.dev that we are actually using.
+$(IJSGEN)ijslib.dev : $(TOP_MAKEFILES) $(IJSGEN)ijslib_$(SHARE_IJS).dev
+	$(CP_) $(IJSGEN)ijslib_$(SHARE_IJS).dev $(IJSGEN)ijslib.dev
+
+# Define the shared version of libpng.
+# Note that it requires libz, which must be searched *after* libpng.
+$(IJSGEN)ijslib_1.dev : $(TOP_MAKEFILES) $(IJS_MAK) $(ECHOGS_XE)
+	$(SETMOD) $(IJSGEN)ijslib_1 -lib $(IJS_NAME)
+
+# Define the non-shared version of ijslib.
 ijslib_=$(IJSOBJ)ijs.$(OBJ) $(IJSOBJ)ijs_server.$(OBJ) \
     $(IJSOBJ)ijs_client.$(OBJ) $(IJSOBJ)ijs_exec_$(IJSEXECTYPE).$(OBJ)
-$(IJSGEN)ijslib.dev : $(IJS_MAK) $(ECHOGS_XE) $(ijslib_)
+$(IJSGEN)ijslib_0.dev : $(IJS_MAK) $(ECHOGS_XE) $(ijslib_)
 	$(SETMOD) $(IJSGEN)ijslib $(ijslib_)
 
 ijs_h=$(IJSSRC)ijs.h
@


1.1
log
@
Update to 8.60.
Add a cups flavor (for the pstoraster thingy).
Accept the truth and dake maintainership.

Tested by many.
ok simon@@
@
text
@d1 1
a1 1
$OpenBSD$
@

