head	1.9;
access;
symbols
	OPENBSD_6_1:1.9.0.14
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.9.0.12
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.8
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.10
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.9.0.6
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.9.0.4
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.9.0.2
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.6.0.4
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2;
locks; strict;
comment	@# @;


1.9
date	2013.12.24.15.18.38;	author kili;	state Exp;
branches;
next	1.8;

1.8
date	2013.08.22.09.14.32;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2013.08.22.08.02.22;	author ajacoutot;	state dead;
branches;
next	1.6;

1.6
date	2013.02.15.12.40.01;	author kili;	state Exp;
branches;
next	1.5;

1.5
date	2012.08.22.06.24.17;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2012.07.11.10.26.31;	author kili;	state Exp;
branches;
next	1.3;

1.3
date	2011.11.16.12.43.23;	author kili;	state Exp;
branches;
next	1.2;

1.2
date	2011.07.06.13.49.17;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2011.06.08.19.15.48;	author kili;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Intermediate update to ghostscript-9.07.

9.10 will follow in a few days.

Thanks to aja@@ for doing some testing.
@
text
@$OpenBSD: patch-base_devs_mak,v 1.8 2013/08/22 09:14:32 ajacoutot Exp $
--- base/devs.mak.orig	Thu Feb 14 08:58:13 2013
+++ base/devs.mak	Tue Sep 17 19:58:33 2013
@@@@ -1841,14 +1841,11 @@@@ $(DD)plibk.dev : $(DEVS_MAK) $(plib_) $(GLD)page.dev $
 	$(SETPDEV2) $(DD)plibk $(plib_)
 
 ### ------------------------------- CUPS ------------------------------- ###
-lcups_dev=$(LCUPSGENDIR)$(D)lcups.dev
-lcupsi_dev=$(LCUPSIGENDIR)$(D)lcupsi.dev
-
 cups_=$(GLOBJ)gdevcups.$(OBJ)
-$(DD)cups.dev : $(DEVS_MAK) $(lcups_dev) $(lcupsi_dev) $(cups_) $(GDEV)
+$(DD)cups.dev : $(DEVS_MAK) $(cups_) $(GDEV)
 	$(SETPDEV2) $(DD)cups $(cups_)
-	$(ADDMOD) $(DD)cups -include $(lcups_dev)
-	$(ADDMOD) $(DD)cups -include $(lcupsi_dev)
+	$(ADDMOD) $(DD)cups
+	$(ADDMOD) $(DD)cups
 
 $(GLOBJ)gdevcups.$(OBJ) : cups$(D)gdevcups.c $(std_h)
-	$(CUPS_CC) $(GLO_)gdevcups.$(OBJ) $(C_) $(CFLAGS) $(I_)$(GLSRC) $(I_)$(GLOBJ) $(I_)$(LCUPSSRCDIR)$(D)libs $(LCUPSSRCDIR)$(D)gdevcups.c
+	$(CUPS_CC) $(GLO_)gdevcups.$(OBJ) $(C_) $(CCFLAGS) $(I_)$(GLSRC) $(I_)$(GLOBJ) cups$(D)gdevcups.c
@


1.8
log
@While the cups raster tools (gstoraster and gstopxl) are now in cups-filters,
we still need the cups device.
@
text
@d1 4
a4 4
$OpenBSD: patch-base_devs_mak,v 1.6 2013/02/15 12:40:01 kili Exp $
--- base/devs.mak.orig	Wed Aug  8 10:01:36 2012
+++ base/devs.mak	Thu Feb 14 19:52:13 2013
@@@@ -1831,14 +1831,11 @@@@ $(DD)plibk.dev : $(DEVS_MAK) $(plib_) $(GLD)page.dev $
@


1.7
log
@Remove dependency on cups,-libs. gstoraster and friends are moving to
print/cups-filters.

ok kili@@ (maintainer)
@
text
@@


1.6
log
@Ensure that cups/gdevcups.c is compiled with the same flags as
everything else, especially to get the same value for GX_COLOR_INDEX_TYPE
(and the same field sizes and offsets for the gx_device type).

This fixes crashes with the cups driver on 32 bit archs.

Reported and fix tested by Martin Crossley <martin@@crossleys.biz>.

ok aja@@ dcoppa@@ sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-base_devs_mak,v 1.5 2012/08/22 06:24:17 ajacoutot Exp $
@


1.5
log
@Update to ghostscript-9.06.
This fixes a crash when using PDF printing with gtk-print.

ok kili@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-base_devs_mak,v 1.4 2012/07/11 10:26:31 kili Exp $
d3 1
a3 1
+++ base/devs.mak	Fri Aug 17 15:12:56 2012
d22 1
a22 1
+	$(CUPS_CC) $(GLO_)gdevcups.$(OBJ) $(C_) $(CFLAGS) $(I_)$(GLSRC) $(I_)$(GLOBJ) cups$(D)gdevcups.c
@


1.4
log
@Update ghostscript to 9.05.

THe following devices had been added:

        cdnj500, eplcolor, eplmono, inkcov, pamcmyk4, plan, planc,
        plang, plank, planm, tiff48nc, tiff64nc, tiffscaled,
        tiffscaled24, tiffscaled8, tiffsep1, txtwrite

The following devices had been removed:

        cgm24, cgm8, cgmmono, imdi, lx5000, wtscmyk, wtsimdi

No objections from aja@@ two or three days ago.
@
text
@d1 4
a4 4
$OpenBSD: patch-base_devs_mak,v 1.3 2011/11/16 12:43:23 kili Exp $
--- base/devs.mak.orig	Wed Feb  8 09:48:48 2012
+++ base/devs.mak	Sun Jul  8 15:50:17 2012
@@@@ -1828,14 +1828,11 @@@@ $(DD)plibk.dev : $(DEVS_MAK) $(plib_) $(GLD)page.dev $
@


1.3
log
@Update to ghostscript-9.04.

Enable jbig2dec support.

New devices still not enabled (I've to resort the
device list anyway).

ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD: patch-base_devs_mak,v 1.2 2011/07/06 13:49:17 kili Exp $
--- base/devs.mak.orig	Fri Aug  5 13:12:20 2011
+++ base/devs.mak	Mon Nov 14 17:20:40 2011
@@@@ -1899,14 +1899,11 @@@@ $(DD)plibk.dev : $(DEVS_MAK) $(plib_) $(GLD)page.dev $
@


1.2
log
@Update to gs-9.02 to fix the google maps problem with pdf2ps.

Drop gstoraster (formerly known as ps2raster); it is replaced
by the new gstoraster package.

Also Drop pstopxl, it's currently broken (at least since gs-9.00).
If anyone needs it, please let me know (or patch/repair it yourself
and send me a diff). Note that it would need rather heavy patching
or it had to depend on gnu grep.

ok aja@@
@
text
@d1 4
a4 4
$OpenBSD$
--- base/devs.mak.orig	Thu Mar 10 01:58:08 2011
+++ base/devs.mak	Tue Jun 28 16:38:49 2011
@@@@ -1807,14 +1807,11 @@@@ $(DD)plibk.dev : $(DEVS_MAK) $(plib_) $(GLD)page.dev
d12 2
a13 2
-$(DD)cups.dev : $(DEVS_MAK) $(lcups_dev) $(lcupsi_dev) $(cups_) 
+$(DD)cups.dev : $(DEVS_MAK) $(cups_) 
d22 1
a22 1
+	$(GLCC) $(GLO_)gdevcups.$(OBJ) $(C_) $(CFLAGS) $(I_)$(GLSRC) $(I_)$(GLOBJ) cups$(D)gdevcups.c
@


1.1
log
@Update to ghostscript-9.00.

ok landry@@ (after putting it in a bulk build... thanks)
@
text
@d2 4
a5 3
--- base/devs.mak.orig	Thu Sep  9 05:45:12 2010
+++ base/devs.mak	Sun Sep 19 13:17:56 2010
@@@@ -650,14 +650,13 @@@@ $(GLOBJ)gdevlj56.$(OBJ) : $(GLSRC)gdevlj56.c $(PDEVH) 
d7 12
a18 1
 ### -------------------- The ijs client ----------------- ###
d20 3
a22 15
-ijs_=$(GLOBJ)gdevijs.$(OBJ) $(IJSOBJ)ijs.$(OBJ) $(IJSOBJ)ijs_client.$(OBJ) \
- $(IJSOBJ)ijs_exec_$(IJSEXECTYPE).$(OBJ)
+ijs_=$(GLOBJ)gdevijs.$(OBJ) 
 
-$(DD)ijs.dev : $(ijs_) $(GLD)page.dev $(DD)ijslib.dev
+$(DD)ijs.dev : $(ijs_) $(GLD)page.dev
 	$(SETPDEV) $(DD)ijs $(ijs_)
+	$(ADDMOD) $(DD)ijs -lib ijs
 
-$(GLOBJ)gdevijs.$(OBJ) : $(GLSRC)gdevijs.c $(PDEVH) $(unistd__h) $(gp_h)\
- $(ijs_h) $(ijs_client_h)
+$(GLOBJ)gdevijs.$(OBJ) : $(GLSRC)gdevijs.c $(PDEVH) $(unistd__h) $(gp_h)
 	$(CC_) $(I_)$(GLI_) $(II)$(IJSI_)$(_I) $(GLF_) $(GLO_)gdevijs.$(OBJ) $(C_) $(GLSRC)gdevijs.c
 
 # Please see ijs.mak for the Makefile fragment which builds the IJS
@

