head	1.11;
access;
symbols
	OPENBSD_6_1:1.11.0.8
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.11.0.6
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.2
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.11.0.4
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.10.0.6
	OPENBSD_5_7_BASE:1.10
	OPENBSD_5_6:1.10.0.4
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.10.0.2
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.7.0.4
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.2
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.5.0.2
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2;
locks; strict;
comment	@# @;


1.11
date	2015.04.06.21.04.30;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	LH6KScydmg3oKxhj;

1.10
date	2013.12.24.15.18.38;	author kili;	state Exp;
branches;
next	1.9;

1.9
date	2013.08.22.09.14.32;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2013.08.22.08.02.22;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2012.08.22.06.24.17;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2012.08.04.17.51.44;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.07.11.10.26.31;	author kili;	state Exp;
branches;
next	1.4;

1.4
date	2011.11.16.12.43.23;	author kili;	state Exp;
branches;
next	1.3;

1.3
date	2011.11.13.21.18.40;	author kili;	state Exp;
branches;
next	1.2;

1.2
date	2011.07.06.13.49.17;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2011.06.08.19.15.48;	author kili;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Move fonts from share/ghostscript/fonts to share/fonts/ghostscript.

ok kili@@ (maintainer)
@
text
@$OpenBSD: patch-base_unix-gcc_mak,v 1.10 2013/12/24 15:18:38 kili Exp $
--- base/unix-gcc.mak.orig	Thu Feb 14 08:58:13 2013
+++ base/unix-gcc.mak	Tue Sep 17 20:59:54 2013
@@@@ -32,6 +32,7 @@@@ PSLIBDIR=./lib
 PSRESDIR=./Resource
 PSGENDIR=./$(BUILDDIRPREFIX)obj
 PSOBJDIR=./$(BUILDDIRPREFIX)obj
+CONTRIBDIR=./contrib
 
 # Do not edit the next group of lines.
 
@@@@ -70,12 +71,12 @@@@ gsincludedir = $(includedir)/ghostscript/
 
 docdir=$(gsdatadir)/doc
 exdir=$(gsdatadir)/examples
-GS_DOCDIR=$(docdir)
+GS_DOCDIR=$(TRUEPREFIX)/share/ghostscript/$(GS_DOT_VERSION)/doc
 
 # Define the default directory/ies for the runtime
 # initialization, resource and font files.  Separate multiple directories with a :.
 
-GS_LIB_DEFAULT=$(gsdatadir)/Resource/Init:$(gsdatadir)/lib:$(gsdatadir)/Resource/Font:$(gsdir)/fonts
+GS_LIB_DEFAULT=$(TRUEPREFIX)/share/ghostscript/$(GS_DOT_VERSION)/Resource/Init:$(TRUEPREFIX)/share/ghostscript/$(GS_DOT_VERSION)/lib:$(TRUEPREFIX)/share/ghostscript/$(GS_DOT_VERSION)/Resource/Font:$(TRUEPREFIX)/share/fonts/ghostscript
 
 # Define whether or not searching for initialization files should always
 # look in the current directory first.  This leads to well-known security
@@@@ -208,6 +209,9 @@@@ IJS_NAME=
 IJSSRCDIR=ijs
 IJSEXECTYPE=unix
 
+SHARED_IJS=0
+IJS_NAME=ijs
+
 # Define how to build the library archives.  (These are not used in any
 # standard configuration.)
 
@@@@ -219,7 +223,7 @@@@ RANLIB=ranlib
 
 # Define the name of the C compiler.
 
-CC=gcc
+#CC=gcc
 
 # Define the name of the linker for the final link step.
 # Normally this is the same as the C compiler.
@@@@ -231,7 +235,7 @@@@ CCLD=$(CC)
 # the 2.7.0-2.7.2 optimizer bug, either "-Dconst=" or
 # "-Wcast-qual -Wwrite-strings" is automatically included.
 
-GCFLAGS=-Wall -Wstrict-prototypes -Wmissing-declarations -Wmissing-prototypes -fno-builtin -fno-common
+GCFLAGS=-Wall -Wstrict-prototypes -Wmissing-declarations -Wmissing-prototypes -fno-common
 
 # Define the added flags for standard, debugging, profiling 
 # and shared object builds.
@@@@ -333,7 +337,7 @@@@ SOC_LOADER=dxmainc.c
 
 # Choose the language feature(s) to include.  See gs.mak for details.
 
-FEATURE_DEVS=$(PSD)psl3.dev $(PSD)pdf.dev $(PSD)dpsnext.dev $(PSD)ttfont.dev $(PSD)epsf.dev $(GLD)pipe.dev $(PSD)fapi.dev
+FEATURE_DEVS=$(PSD)psl3.dev $(PSD)pdf.dev $(PSD)dpsnext.dev $(PSD)ttfont.dev $(PSD)epsf.dev $(GLD)pipe.dev
 #FEATURE_DEVS=$(PSD)psl3.dev $(PSD)pdf.dev
 # The following is strictly for testing.
 FEATURE_DEVS_ALL=$(PSD)psl3.dev $(PSD)pdf.dev $(PSD)dpsnext.dev $(PSD)ttfont.dev $(PSD)rasterop.dev $(PSD)double.dev $(PSD)trapping.dev $(PSD)stocht.dev $(GLD)pipe.dev
@@@@ -371,8 +375,6 @@@@ DISPLAY_DEV=
 # Choose the device(s) to include.  See devs.mak for details,
 # devs.mak and contrib.mak for the list of available devices.
 
-DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.dev $(DD)x11cmyk.dev $(DD)x11gray2.dev $(DD)x11gray4.dev $(DD)x11mono.dev
-
 #DEVICE_DEVS1=
 #DEVICE_DEVS2=
 #DEVICE_DEVS3=
@@@@ -394,36 +396,18 @@@@ DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.
 #DEVICE_DEVS19=
 #DEVICE_DEVS20=
 
-DEVICE_DEVS1=$(DD)bmpmono.dev $(DD)bmpgray.dev $(DD)bmpsep1.dev $(DD)bmpsep8.dev $(DD)bmp16.dev $(DD)bmp256.dev $(DD)bmp16m.dev $(DD)bmp32b.dev $(DD)stcolor.dev
-DEVICE_DEVS2=$(DD)epson.dev $(DD)eps9high.dev $(DD)eps9mid.dev $(DD)epsonc.dev $(DD)ibmpro.dev
-DEVICE_DEVS3=$(DD)deskjet.dev $(DD)djet500.dev $(DD)laserjet.dev $(DD)ljetplus.dev $(DD)ljet2p.dev $(DD)ljet3.dev $(DD)ljet3d.dev $(DD)ljet4.dev $(DD)ljet4d.dev $(DD)lj5mono.dev $(DD)lj5gray.dev
-DEVICE_DEVS4=$(DD)cdeskjet.dev $(DD)cdjcolor.dev $(DD)cdjmono.dev $(DD)cdj550.dev $(DD)pj.dev $(DD)pjxl.dev $(DD)pjxl300.dev
-DEVICE_DEVS5=$(DD)uniprint.dev $(DD)ijs.dev
-DEVICE_DEVS6=$(DD)bj10e.dev $(DD)bj200.dev $(DD)bjc600.dev $(DD)bjc800.dev
-DEVICE_DEVS7=$(DD)faxg3.dev $(DD)faxg32d.dev $(DD)faxg4.dev
-DEVICE_DEVS8=$(DD)pcxmono.dev $(DD)pcxgray.dev $(DD)pcx16.dev $(DD)pcx256.dev $(DD)pcx24b.dev $(DD)pcxcmyk.dev
-DEVICE_DEVS9=$(DD)pbm.dev $(DD)pbmraw.dev $(DD)pgm.dev $(DD)pgmraw.dev $(DD)pgnm.dev $(DD)pgnmraw.dev $(DD)pnm.dev $(DD)pnmraw.dev $(DD)ppm.dev $(DD)ppmraw.dev $(DD)pkm.dev $(DD)pkmraw.dev $(DD)pksm.dev $(DD)pksmraw.dev
-DEVICE_DEVS10=$(DD)tiffcrle.dev $(DD)tiffg3.dev $(DD)tiffg32d.dev $(DD)tiffg4.dev $(DD)tifflzw.dev $(DD)tiffpack.dev
-DEVICE_DEVS11=$(DD)tiff12nc.dev $(DD)tiff24nc.dev $(DD)tiff48nc.dev $(DD)tiffgray.dev $(DD)tiff32nc.dev $(DD)tiff64nc.dev $(DD)tiffsep.dev $(DD)tiffsep1.dev $(DD)tiffscaled.dev $(DD)tiffscaled8.dev $(DD)tiffscaled24.dev
-DEVICE_DEVS12=$(DD)psmono.dev $(DD)psgray.dev $(DD)psrgb.dev $(DD)bit.dev $(DD)bitrgb.dev $(DD)bitcmyk.dev
-DEVICE_DEVS13=$(DD)pngmono.dev $(DD)pngmonod.dev $(DD)pnggray.dev $(DD)png16.dev $(DD)png256.dev $(DD)png16m.dev $(DD)pngalpha.dev
-DEVICE_DEVS14=$(DD)jpeg.dev $(DD)jpeggray.dev $(DD)jpegcmyk.dev
-DEVICE_DEVS15=$(DD)pdfwrite.dev $(DD)pswrite.dev $(DD)ps2write.dev $(DD)epswrite.dev $(DD)txtwrite.dev $(DD)pxlmono.dev $(DD)pxlcolor.dev
-DEVICE_DEVS16=$(DD)bbox.dev $(DD)inkcov.dev
-
-DEVICE_DEVS17=$(DD)plan.dev $(DD)planm.dev $(DD)plang.dev $(DD)planc.dev $(DD)plank.dev
-
-DEVICE_DEVS18=
-DEVICE_DEVS19=
-DEVICE_DEVS20=$(DD)cljet5.dev $(DD)cljet5c.dev $(DD)pamcmyk32.dev $(DD)pamcmyk4.dev
-DEVICE_DEVS21=$(DD)spotcmyk.dev $(DD)devicen.dev $(DD)xcf.dev $(DD)bmpsep1.dev $(DD)bmpsep8.dev $(DD)bmp16m.dev $(DD)bmp32b.dev $(DD)psdcmyk.dev $(DD)psdrgb.dev
-
 # Shared library target to build.
 # Note that the two vga devices are Linux specific, and requires svgalib
 # We also don't do X modularized because modularization on Mac OS X doesn't work.
 GS_SHARED_OBJS=
 #GS_SHARED_OBJS=$(GLOBJDIR)/X11.so $(GLOBJDIR)/lvga256.so $(GLOBJDIR)/vgalib.so
 
+# Formerly copied from Makefile.in -- still needed?
+EXTRA_INIT_FILES= Fontmap cidfmap xlatmap FAPI FCOfontmap-PCLPS2 gs_cet.ps
+ 
+# Copied from Makefile.in -- still needed?
+CCAUX_=$(CCAUX) $(CFLAGS)
+CUPS_CC=$(CC)
 
 # ---------------------------- End of options --------------------------- #
 
@@@@ -472,7 +456,7 @@@@ include $(GLSRCDIR)/zlib.mak
 include $(GLSRCDIR)/png.mak
 include $(GLSRCDIR)/tiff.mak
 include $(GLSRCDIR)/jbig2.mak
-include $(GLSRCDIR)/lcms.mak
+include $(GLSRCDIR)/lcms2.mak
 include $(GLSRCDIR)/ijs.mak
 include $(GLSRCDIR)/devs.mak
 include $(GLSRCDIR)/contrib.mak
@@@@ -481,6 +465,8 @@@@ include $(GLSRCDIR)/unixlink.mak
 include $(GLSRCDIR)/unix-dll.mak
 include $(GLSRCDIR)/unix-end.mak
 include $(GLSRCDIR)/unixinst.mak
+include contrib/contrib.mak
+include cups/cups.mak
 
 # This has to come last so it won't be taken as the default target.
 $(AK):
@


1.10
log
@Intermediate update to ghostscript-9.07.

9.10 will follow in a few days.

Thanks to aja@@ for doing some testing.
@
text
@d1 1
a1 1
$OpenBSD: patch-base_unix-gcc_mak,v 1.9 2013/08/22 09:14:32 ajacoutot Exp $
d23 1
a23 1
+GS_LIB_DEFAULT=$(TRUEPREFIX)/share/ghostscript/$(GS_DOT_VERSION)/Resource/Init:$(TRUEPREFIX)/share/ghostscript/$(GS_DOT_VERSION)/lib:$(TRUEPREFIX)/share/ghostscript/$(GS_DOT_VERSION)/Resource/Font:$(TRUEPREFIX)/share/ghostscript/fonts
@


1.9
log
@While the cups raster tools (gstoraster and gstopxl) are now in cups-filters,
we still need the cups device.
@
text
@d1 3
a3 3
$OpenBSD: patch-base_unix-gcc_mak,v 1.7 2012/08/22 06:24:17 ajacoutot Exp $
--- base/unix-gcc.mak.orig	Wed Aug  8 10:01:36 2012
+++ base/unix-gcc.mak	Fri Aug 17 15:12:56 2012
d27 1
a27 1
@@@@ -212,9 +213,17 @@@@ IJS_NAME=
d37 1
a37 9
+JPX_LIB=jasper
+JPXSRCDIR=jasper
+SHARE_JPX=0
+JPX_CFLAGS=-DJAS_CONFIGURE
+
 AR=ar
 ARFLAGS=qc
 RANLIB=ranlib
@@@@ -223,7 +232,7 @@@@ RANLIB=ranlib
d46 1
a46 1
@@@@ -235,7 +244,7 @@@@ CCLD=$(CC)
d55 10
a64 1
@@@@ -375,8 +384,6 @@@@ DISPLAY_DEV=
d73 1
a73 1
@@@@ -398,36 +405,18 @@@@ DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.
d116 1
a116 1
@@@@ -476,8 +465,9 @@@@ include $(GLSRCDIR)/zlib.mak
a119 2
+include $(GLSRCDIR)/jasper.mak
 include $(GLSRCDIR)/icclib.mak
d125 1
a125 1
@@@@ -486,6 +476,8 @@@@ include $(GLSRCDIR)/unixlink.mak
@


1.8
log
@Remove dependency on cups,-libs. gstoraster and friends are moving to
print/cups-filters.

ok kili@@ (maintainer)
@
text
@d3 1
a3 1
+++ base/unix-gcc.mak	Wed Aug 21 14:25:09 2013
d72 1
a72 1
@@@@ -398,36 +405,17 @@@@ DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.
d111 1
d115 1
a115 1
@@@@ -476,8 +464,9 @@@@ include $(GLSRCDIR)/zlib.mak
d126 1
a126 1
@@@@ -486,6 +475,7 @@@@ include $(GLSRCDIR)/unixlink.mak
d131 1
@


1.7
log
@Update to ghostscript-9.06.
This fixes a crash when using PDF printing with gtk-print.

ok kili@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-base_unix-gcc_mak,v 1.6 2012/08/04 17:51:44 ajacoutot Exp $
d3 1
a3 1
+++ base/unix-gcc.mak	Fri Aug 17 15:12:56 2012
d72 1
a72 1
@@@@ -398,36 +405,18 @@@@ DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.
a110 1
+CUPS_CC=$(CC)
d114 1
a114 1
@@@@ -476,8 +465,9 @@@@ include $(GLSRCDIR)/zlib.mak
d125 1
a125 1
@@@@ -486,6 +476,8 @@@@ include $(GLSRCDIR)/unixlink.mak
a129 1
+include cups/cups.mak
@


1.6
log
@Compile/install gstoraster and the corresponding convs file.
Link gstoraster to pstoraster in case there are some oldies around that
still try to use pstoraster.
Remove the dlopen libcups hack and link to libcups as upstream intended.
Unconditionally depend on cups,-libs.

with and ok kili@@
@
text
@d1 4
a4 4
$OpenBSD: patch-base_unix-gcc_mak,v 1.5 2012/07/11 10:26:31 kili Exp $
--- base/unix-gcc.mak.orig	Wed Feb  8 09:48:47 2012
+++ base/unix-gcc.mak	Sun Jul 29 21:15:58 2012
@@@@ -31,6 +31,7 @@@@ PSLIBDIR=./lib
d12 1
a12 1
@@@@ -69,12 +70,12 @@@@ gsincludedir = $(includedir)/ghostscript/
d27 1
a27 1
@@@@ -211,9 +212,17 @@@@ IJS_NAME=
d45 1
a45 1
@@@@ -222,7 +231,7 @@@@ RANLIB=ranlib
d54 1
a54 1
@@@@ -234,7 +243,7 @@@@ CCLD=$(CC)
d63 1
a63 1
@@@@ -371,8 +380,6 @@@@ DISPLAY_DEV=
d72 1
a72 1
@@@@ -394,36 +401,18 @@@@ DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.
d115 1
a115 1
@@@@ -472,8 +461,9 @@@@ include $(GLSRCDIR)/zlib.mak
d126 1
a126 1
@@@@ -482,6 +472,8 @@@@ include $(GLSRCDIR)/unixlink.mak
@


1.5
log
@Update ghostscript to 9.05.

THe following devices had been added:

        cdnj500, eplcolor, eplmono, inkcov, pamcmyk4, plan, planc,
        plang, plank, planm, tiff48nc, tiff64nc, tiffscaled,
        tiffscaled24, tiffscaled8, tiffsep1, txtwrite

The following devices had been removed:

        cgm24, cgm8, cgmmono, imdi, lx5000, wtscmyk, wtsimdi

No objections from aja@@ two or three days ago.
@
text
@d1 1
a1 1
$OpenBSD: patch-base_unix-gcc_mak,v 1.4 2011/11/16 12:43:23 kili Exp $
d3 1
a3 1
+++ base/unix-gcc.mak	Sun Jul  8 17:09:59 2012
d126 1
a126 1
@@@@ -482,6 +472,7 @@@@ include $(GLSRCDIR)/unixlink.mak
d131 1
@


1.4
log
@Update to ghostscript-9.04.

Enable jbig2dec support.

New devices still not enabled (I've to resort the
device list anyway).

ok ajacoutot@@
@
text
@d1 3
a3 3
$OpenBSD: patch-base_unix-gcc_mak,v 1.3 2011/11/13 21:18:40 kili Exp $
--- base/unix-gcc.mak.orig	Fri Aug  5 13:12:20 2011
+++ base/unix-gcc.mak	Mon Nov 14 16:38:09 2011
d27 1
a27 1
@@@@ -210,6 +211,9 @@@@ IJS_NAME=
a36 4
@@@@ -218,6 +222,11 @@@@ IJSEXECTYPE=unix
 
 IMDISRCDIR=imdi
 
d45 1
a45 1
@@@@ -226,7 +235,7 @@@@ RANLIB=ranlib
d54 1
a54 1
@@@@ -238,7 +247,7 @@@@ CCLD=$(CC)
d63 1
a63 1
@@@@ -375,8 +384,6 @@@@ DISPLAY_DEV=
d72 1
a72 1
@@@@ -398,37 +405,29 @@@@ DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.
d91 2
a92 2
-DEVICE_DEVS16=$(DD)bbox.dev
 
d103 1
a103 2
-GS_SHARED_OBJS=
+#GS_SHARED_OBJS=
d106 1
a106 1
+# Copied from Makefile.in
d108 2
a109 3
 
+# CCFLAGS=$(GENOPT) $(CAPOPT) $(CFLAGS)
+# CC_=$(CC) $(CCFLAGS)
d112 1
a112 9
+# CC_LEAF=$(CC_)
+# # note gcc can't use -fomit-frame-pointer with -pg.
+# CC_LEAF_PG=$(CC_)
+# # These are the specific warnings we have to turn off to compile those
+# # specific few files that need this.  We may turn off others in the future.
+# CC_NO_WARN=$(CC_)
+# CCAUX_NO_WARN=$(CCAUX_)
+# CC_SHARED=$(CC_) @@DYNAMIC_CFLAGS@@
+
d115 1
a115 2
 # Define the name of the partial makefile that specifies options --
@@@@ -476,6 +475,7 @@@@ include $(GLSRCDIR)/zlib.mak
d121 2
a122 1
 include $(GLSRCDIR)/lcms.mak
d124 3
a126 1
@@@@ -486,6 +486,7 @@@@ include $(GLSRCDIR)/unixlink.mak
@


1.3
log
@Don't build with -fno-builtin.

This was meant to reveal some problems decades ago, but actually it
now hides potential problems (with wrong printf format strings).

Format string problems will be dealt with after the update to gs9.04.

Thanks to espie@@ who noticed that gs uses -fno-builtin.
@
text
@d1 4
a4 4
$OpenBSD: patch-base_unix-gcc_mak,v 1.2 2011/07/06 13:49:17 kili Exp $
--- base/unix-gcc.mak.orig	Thu Mar  3 21:23:43 2011
+++ base/unix-gcc.mak	Sun Nov 13 19:29:43 2011
@@@@ -30,6 +30,7 @@@@ PSLIBDIR=./lib
d6 2
a7 2
 PSGENDIR=./obj
 PSOBJDIR=./obj
d12 1
a12 1
@@@@ -68,12 +69,12 @@@@ gsincludedir = $(includedir)/ghostscript/
d27 1
a27 1
@@@@ -201,6 +202,9 @@@@ IJS_NAME=
d37 1
a37 1
@@@@ -209,6 +213,11 @@@@ IJSEXECTYPE=unix
d49 1
a49 1
@@@@ -217,7 +226,7 @@@@ RANLIB=ranlib
d58 1
a58 1
@@@@ -229,7 +238,7 @@@@ CCLD=$(CC)
d67 1
a67 1
@@@@ -366,8 +375,6 @@@@ DISPLAY_DEV=
d76 1
a76 1
@@@@ -389,35 +396,14 @@@@ DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.
d90 1
a90 1
-DEVICE_DEVS11=$(DD)tiff12nc.dev $(DD)tiff24nc.dev $(DD)tiff48nc.dev $(DD)tiffgray.dev $(DD)tiff32nc.dev $(DD)tiff64nc.dev $(DD)tiffsep.dev $(DD)tiffsep1.dev $(DD)tiffscaled.dev
d92 1
a92 1
-DEVICE_DEVS13=$(DD)pngmono.dev $(DD)pnggray.dev $(DD)png16.dev $(DD)png256.dev $(DD)png16m.dev $(DD)pngalpha.dev
d96 2
a98 1
-DEVICE_DEVS17=
d114 13
d129 2
a130 1
@@@@ -460,6 +446,7 @@@@ include $(GLSRCDIR)/zlib.mak
d138 1
a138 1
@@@@ -470,6 +457,7 @@@@ include $(GLSRCDIR)/unixlink.mak
@


1.2
log
@Update to gs-9.02 to fix the google maps problem with pdf2ps.

Drop gstoraster (formerly known as ps2raster); it is replaced
by the new gstoraster package.

Also Drop pstopxl, it's currently broken (at least since gs-9.00).
If anyone needs it, please let me know (or patch/repair it yourself
and send me a diff). Note that it would need rather heavy patching
or it had to depend on gnu grep.

ok aja@@
@
text
@d1 1
a1 1
$OpenBSD: patch-base_unix-gcc_mak,v 1.1 2011/06/08 19:15:48 kili Exp $
d3 1
a3 1
+++ base/unix-gcc.mak	Mon Jul  4 17:21:25 2011
d58 9
@


1.1
log
@Update to ghostscript-9.00.

ok landry@@ (after putting it in a bulk build... thanks)
@
text
@d1 3
a3 3
$OpenBSD$
--- base/unix-gcc.mak.orig	Wed Jul  7 19:47:09 2010
+++ base/unix-gcc.mak	Sun Sep 19 13:26:55 2010
d27 1
a27 1
@@@@ -199,6 +200,9 @@@@ LCMSSRCDIR=lcms
d37 1
a37 1
@@@@ -207,6 +211,11 @@@@ IJSEXECTYPE=unix
d49 1
a49 1
@@@@ -215,7 +224,7 @@@@ RANLIB=ranlib
d58 1
a58 1
@@@@ -364,8 +373,6 @@@@ DISPLAY_DEV=
d67 1
a67 1
@@@@ -387,35 +394,14 @@@@ DEVICE_DEVS=$(DISPLAY_DEV) $(DD)x11.dev $(DD)x11alpha.
d81 1
a81 1
-DEVICE_DEVS11=$(DD)tiff12nc.dev $(DD)tiff24nc.dev $(DD)tiff48nc.dev $(DD)tiffgray.dev $(DD)tiff32nc.dev $(DD)tiff64nc.dev $(DD)tiffsep.dev $(DD)tiffsep1.dev
d91 2
a92 2
-DEVICE_DEVS20=$(DD)cljet5.dev $(DD)cljet5c.dev
-DEVICE_DEVS21=$(DD)spotcmyk.dev $(DD)devicen.dev $(DD)xcf.dev $(DD)bmpsep1.dev $(DD)bmpsep8.dev $(DD)bmp16m.dev $(DD)bmp32b.dev $(DD)psdcmyk.dev $(DD)psdrgb.dev $(DD)pamcmyk32.dev
d106 3
a108 3
@@@@ -456,6 +442,7 @@@@ include $(GLSRCDIR)/zlib.mak
 include $(GLSRCDIR)/libpng.mak
 include $(GLSRCDIR)/libtiff.mak
d114 1
a114 1
@@@@ -466,6 +453,8 @@@@ include $(GLSRCDIR)/unixlink.mak
a118 1
+include cups/cups.mak
@

