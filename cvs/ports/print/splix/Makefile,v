head	1.19;
access;
symbols
	OPENBSD_6_1:1.18.0.14
	OPENBSD_6_1_BASE:1.18
	OPENBSD_6_0:1.18.0.12
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.18.0.8
	OPENBSD_5_9_BASE:1.18
	OPENBSD_5_8:1.18.0.10
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.18.0.6
	OPENBSD_5_7_BASE:1.18
	OPENBSD_5_6:1.18.0.4
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.18.0.2
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.14.0.2
	OPENBSD_5_4_BASE:1.14
	OPENBSD_5_3:1.11.0.2
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.10.0.6
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.4
	OPENBSD_5_0:1.10.0.2
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.6.0.2
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	ajacoutot_20090317:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2017.04.10.11.46.33;	author sthen;	state Exp;
branches;
next	1.18;
commitid	HY6VNZxjJWzKQFDV;

1.18
date	2014.01.25.09.22.34;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2013.11.22.08.09.16;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.09.13.16.41.46;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2013.08.22.08.04.31;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2013.04.15.07.33.11;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2013.04.07.08.47.33;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2013.03.11.11.37.54;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2012.08.04.14.57.28;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2011.06.02.13.41.40;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.20.09.48.40;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.12.13.54.58;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.11.18.34.59;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2010.03.21.10.14.50;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2009.11.22.16.40.03;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2009.10.27.14.36.44;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2009.05.22.13.51.08;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.04.10.11.59.06;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.17.18.37.20;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.03.17.18.37.20;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.19
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.18 2014/01/25 09:22:34 ajacoutot Exp $

COMMENT=	CUPS drivers for SPL printers

V=		2.0.1.20130902
DISTNAME=	splix-${V}svn
PKGNAME=	splix-${V}
EXTRACT_SUFX=	.tar.bz2
WRKDIST=	${WRKDIR}/splix
REVISION=	0

CATEGORIES=	print

HOMEPAGE=	http://splix.ap2c.org/

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c cups cupsimage jbig85 m pthread ${LIBCXX}

# snapshot of SVN (Fedora tarball)
MASTER_SITES=	http://pkgs.fedoraproject.org/repo/pkgs/splix/${DISTNAME}${EXTRACT_SUFX}/2901e9482dd1a7c44f7b730696868e09/
#MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=splix/}

LIB_DEPENDS=	print/cups,-libs \
		graphics/jbigkit

# gstoraster
RUN_DEPENDS=	print/cups-filters

USE_GMAKE=	Yes
NO_TEST=	Yes
ALL_TARGET=	drv all

MAKE_FLAGS=	V=1 \
		MAKE=${MAKE_PROGRAM} \
		CXX=${CXX} \
		OPTIM_CXXFLAGS="${CXXFLAGS}" \
		PSTORASTER=gstoraster \
		CUPSDRV=${PREFIX}/share/cups/drv/splix \
		DRV_ONLY=1

.include <bsd.port.mk>
@


1.18
log
@Directly install the native CUPS drivers instead of the ppd files which
often get outdated.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/11/22 08:09:16 ajacoutot Exp $
d21 1
a21 1
WANTLIB += c cups cupsimage jbig85 m pthread stdc++
@


1.17
log
@Update to splix-2.0.1.20130902.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/09/13 16:41:46 ajacoutot Exp $
d10 1
d35 1
d41 3
a43 1
		PSTORASTER=gstoraster
@


1.16
log
@"Technically" cups is not needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/08/22 08:04:31 ajacoutot Exp $
d5 5
a9 5
V=		2.0.0
SNV_REV=	308
DISTNAME=	splix-${V}r${SNV_REV}
PKGNAME=	splix-${V}.${SNV_REV}
REVISION=	1
d22 2
a23 2
# snapshot of SVN at revision 308 pending new release
MASTER_SITES=	http://www.zen103022.zen.co.uk/download/
d27 1
a27 1
		graphics/jbigkit>=2.0
@


1.15
log
@gstoraster is in cups-filters now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/04/15 07:33:11 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
a30 3

# package is only useful if cups is installed
RUN_DEPENDS +=	print/cups
@


1.14
log
@Update to splix-2.0.0.308 (svn rev. 308).

from Martin Crossley, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/04/07 08:47:33 ajacoutot Exp $
d9 1
d30 1
a30 1
RUN_DEPENDS=	print/ghostscript/gnu
@


1.13
log
@Fix the pstoqpdl driver: allow printing from iOS devices by inserting a
dummy "%%Creator" line.

from Martin Crossley
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/03/11 11:37:54 espie Exp $
d5 4
a8 3
DISTNAME=	splix-2.0.0
EXTRACT_SUFX=	.tar.bz2
REVISION =	8
d19 1
a19 1
WANTLIB += c cups cupsimage jbig m pthread stdc++
d21 3
a23 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=splix/}
d26 1
a26 1
		graphics/jbigkit
@


1.12
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/08/04 14:57:28 ajacoutot Exp $
d6 3
a8 1
REVISION =	7
a10 2
EXTRACT_SUFX=	.tar.bz2

d18 1
a18 2
WANTLIB += asn1 c crypto cups cupsimage gssapi jbig krb5 m pthread
WANTLIB += ssl stdc++ z
@


1.11
log
@cup -> cups,-libs
Explicitely set our PSTORASTE to gstoraster.
Tweak README.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/06/02 13:41:40 ajacoutot Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d33 1
a33 1
NO_REGRESS=	Yes
@


1.10
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/20 09:48:40 espie Exp $
d6 1
a6 1
REVISION =	6
d21 2
a22 2
WANTLIB += asn1 c crypto gssapi krb5 m pthread ssl stdc++ z
WANTLIB += cups>=3 cupsimage jbig>=2
d26 1
a26 1
LIB_DEPENDS=	print/cups \
d28 2
a29 1
# pstoraster
d32 3
d41 2
a42 1
		OPTIM_CXXFLAGS="${CXXFLAGS}"
@


1.9
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/12 13:54:58 jasper Exp $
d6 1
a6 1
REVISION =	5
@


1.8
log
@switch to pkg-readmes

ok ajacoutot@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/11/11 18:34:59 espie Exp $
d22 1
a22 1
WANTLIB += cups.>=3 cupsimage jbig.>=2
d26 2
a27 2
LIB_DEPENDS=	::print/cups \
		::graphics/jbigkit
d29 1
a29 1
RUN_DEPENDS=	::print/ghostscript/gnu
@


1.7
log
@more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/03/21 10:14:50 ajacoutot Exp $
d6 1
a6 1
REVISION =	4
a37 7

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/splix
	${SUBST_CMD} -c ${FILESDIR}/README.OpenBSD \
		${PREFIX}/share/doc/splix/README.OpenBSD
	chown -R ${SHAREOWN}:${SHAREGRP} \
		${PREFIX}/share/doc/splix/README.OpenBSD
@


1.6
log
@Take maintainership of these print ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/11/22 16:40:03 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
d22 1
d26 2
a27 2
LIB_DEPENDS=	cups.>=3,cupsimage::print/cups \
		jbig.>=2::graphics/jbigkit
@


1.5
log
@Regen WANTLIB after CUPS gnutls -> openssl move.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/10/27 14:36:44 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
d12 2
@


1.4
log
@This needs to run_depends on ghostscript.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/05/22 13:51:08 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d19 2
a21 5

WANTLIB += asn1 c crypto gcrypt gnutls gpg-error gssapi krb5 m
WANTLIB += pthread stdc++ z

MODULES=	devel/gettext
@


1.3
log
@- regen WANTLIB (from cups kerberos support)
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/04/10 11:59:06 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d28 2
@


1.2
log
@- fix WANTLIB after cups update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/03/17 18:37:20 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d21 2
a22 1
WANTLIB += c gcrypt gnutls gpg-error m pthread stdc++ tasn1 z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d21 3
a23 1
WANTLIB += c crypto m pthread ssl stdc++ z
@


1.1.1.1
log
@Import splix-2.0.0

SpliX is a set of CUPS printer drivers for SPL (Samsung Printer
Language) printers.  This driver is usable by all printer devices which
understand the QPDL (Quick Page Description Language) language.  It
covers several Samsung, Xerox, Dell and Ricoh printers.
@
text
@@
