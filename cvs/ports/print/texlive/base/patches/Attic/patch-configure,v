head	1.6;
access;
symbols
	OPENBSD_5_2:1.5.0.4
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.2
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.2.0.4
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.1.0.4
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2012.12.17.20.28.04;	author edd;	state dead;
branches;
next	1.5;

1.5
date	2011.11.23.12.00.45;	author edd;	state Exp;
branches;
next	1.4;

1.4
date	2011.03.08.00.09.42;	author edd;	state Exp;
branches;
next	1.3;

1.3
date	2010.09.14.20.29.56;	author edd;	state Exp;
branches;
next	1.2;

1.2
date	2009.12.12.17.48.34;	author edd;	state Exp;
branches;
next	1.1;

1.1
date	2008.10.21.20.57.57;	author steven;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to TeX Live 2012.

Many people have mailed me successful test reports and matthieu tells me he
has been running this for some time now.

Thanks to those that tested.

OK matthieu@@
@
text
@$OpenBSD: patch-configure,v 1.5 2011/11/23 12:00:45 edd Exp $
--- configure.origy	Mon May  2 14:04:59 2011
+++ configure	Sat Aug 27 14:12:00 2011
@@@@ -19812,9 +19812,10 @@@@ if test "x$with_gd_libdir" != x && test "x$with_gd_lib
 fi
 
 if $PKG_CONFIG poppler --atleast-version=0.10; then
-  POPPLER_VERSION='-DPOPPLER_VERSION=\"'`$PKG_CONFIG poppler --modversion`'\"'
+  POPPLER_VERSION='-DPOPPLER_VERSION="'`$PKG_CONFIG poppler --modversion`'"'
   XPDF_INCLUDES="$POPPLER_VERSION `$PKG_CONFIG poppler --cflags`"
   XPDF_LIBS=`$PKG_CONFIG poppler --libs`
+  XPDF_LIBS="$XPDF_LIBS -pthread"
 elif test "x$need_xpdf:$with_system_xpdf" = xyes:yes; then
   as_fn_error $? "did not find poppler-0.10 or better" "$LINENO" 5
 fi
@


1.5
log
@update to texlive-2011, OK kili@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.4 2011/03/08 00:09:42 edd Exp $
@


1.4
log
@Update to TeX Live 2010.

This year we pre-generate format and maps as requested by kili.

Started adding test cases in the tests/ dir.

Upgrades from 2009 will cause a harmless warning regarding texlinks. Espie is
aware of this, it was not easily fixable.

Uninstalls of texlive 2010 which were previously upgraded from 2009 will make
lots of noise regarding non-empty directories which can not be deleted. This
is due to unregistered package directories in the old texlive 2009 pacakage and
has been fixed in the 2010 package (rblatter script was modified to register
*all* parent dirs in PLISTs).

Installs/uninstalls of texlive 2010 on a fresh system (which has never
seen texlive 2009) are squeaky clean.

This has been in use for a number of months on my work machine, so should be
pretty stable, but I am sure someone will find some obscure bugs. These can be
fixed in tree.

OK espie@@
@
text
@d1 4
a4 13
$OpenBSD: patch-configure,v 1.1.1.1 2010/09/24 15:44:42 edd Exp $
--- configure.origy	Tue Jul 20 15:04:38 2010
+++ configure	Thu Sep 23 15:04:33 2010
@@@@ -18918,7 +18918,7 @@@@ fi
 if test "x$with_libpng_includes" != x && test "x$with_libpng_includes" != xyes; then
   LIBPNG_INCLUDES="-I$with_libpng_includes"
 fi
-LIBPNG_LIBS="-lpng"
+LIBPNG_LIBS="-lpng -lm"
 if test "x$with_libpng_libdir" != x && test "x$with_libpng_libdir" != xyes; then
   LIBPNG_LIBS="-L$with_libpng_libdir $LIBPNG_LIBS"
 fi
@@@@ -19139,9 +19139,10 @@@@ else
d14 1
a14 1
   as_fn_error "did not find poppler-0.10 or better" "$LINENO" 5
@


1.3
log
@Don't link pthread and libm globally.
OK jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.2 2009/12/12 17:48:34 edd Exp $
--- configure.orig	Sat Oct 10 13:05:04 2009
+++ configure	Fri Sep 10 13:42:00 2010
@@@@ -20460,7 +20460,7 @@@@ fi
d13 1
a13 1
@@@@ -20683,9 +20683,9 @@@@ else
d20 5
a24 5
-  XPDF_LIBS=`$PKG_CONFIG poppler --libs`
+  XPDF_LIBS=`$PKG_CONFIG poppler --libs` -pthread
 elif test "x$need_xpdf:$with_system_xpdf" = 'xyes:yes'; then
   { { $as_echo "$as_me:$LINENO: error: did not find poppler-0.10 or better" >&5
 $as_echo "$as_me: error: did not find poppler-0.10 or better" >&2;}
@


1.2
log
@Update to TeX Live 2009.

Requires newest pacakge tools for upgrading from 2008.

OK kili@@
@
text
@d1 13
a13 4
$OpenBSD$
--- configure.orig	Sat Jul  4 17:27:52 2009
+++ configure	Sat Jul  4 17:42:02 2009
@@@@ -20683,7 +20683,7 @@@@ else
d20 2
a21 1
   XPDF_LIBS=`$PKG_CONFIG poppler --libs`
d23 2
@


1.1
log
@update to texlive 2008
reorganize port structure

all from maintainer Edd Barrett
@
text
@d2 4
a5 3
--- configure.orig	Sun Jul  6 02:06:43 2008
+++ configure	Sun Aug 24 12:28:30 2008
@@@@ -8656,7 +8656,7 @@@@ else
d7 6
a12 7
   if test "$with_system_freetype2" = yes; then
     if test "x$with_freetype2_libdir" != x; then
-      EXTRA_FREETYPE2_LIBDIR="-L$with_freetype2_libdir"
+      EXTRA_FREETYPE2_LIBDIR="-L$with_freetype2_libdir -lz" # hack just for the OpenBSD build
     fi
     if test "x$with_freetype2_include" != x; then
       EXTRA_FREETYPE2_INCLUDE="-I$with_freetype2_include -I$with_freetype2_include/freetype2"
@

