head	1.3;
access;
symbols
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.1.0.6
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.4
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	jasper_20070717:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2009.12.12.17.48.34;	author edd;	state dead;
branches;
next	1.2;

1.2
date	2008.10.21.20.57.57;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2007.07.17.21.53.30;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.07.17.21.53.30;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to TeX Live 2009.

Requires newest pacakge tools for upgrading from 2008.

OK kili@@
@
text
@$OpenBSD: patch-texk_texlive_Makefile_in,v 1.2 2008/10/21 20:57:57 steven Exp $
--- texk/texlive/Makefile.in.orig	Wed Aug 27 13:40:05 2008
+++ texk/texlive/Makefile.in	Wed Aug 27 13:43:20 2008
@@@@ -72,7 +72,8 @@@@ install: install-data install-exec
 # Auxiliary files.
 install-data::
 	for p in $(manpgs); do \
-	  $(INSTALL_DATA) $(srcdir)/$$p.man $(man1dir)/$$p.$(manext); \
+	  $(INSTALL_DATA) $(srcdir)/$$p.man \
+	    $(DESTDIR)/$(man1dir)/$$p.$(manext); \
 	done
 
 # The idea is to install the scripts themselves in texmf*/scripts, and
@@@@ -98,27 +99,31 @@@@ install-data::
 # bin/i386-linux, not the texmf*/scripts dir.
 # 
 install-exec:
-	-$(SHELL) $(srcdir)/../mkinstalldirs $(scriptdir)
+	-$(SHELL) $(srcdir)/../mkinstalldirs $(DESTDIR)/$(scriptdir)
 # - link to the basename, removing any extension, of the source.
 # - we downcase for the sake of TeXcount.pl -> texcount.
 # - the purpose of the case..esac is to support both multiplatform and
 #   non-multiplatform builds.
 	for s in $(LINKED_SCRIPTS); do \
-	  target=$(scriptdir)/`basename $$s | sed 's,\.[^/]*$$,,' | tr '[A-Z]' '[a-z]'`; \
+	  target=$(DESTDIR)/$(scriptdir)/`basename $$s | \
+	    sed 's,\.[^/]*$$,,' | tr '[A-Z]' '[a-z]'`; \
 	  target=$$target; \
 	  rm -f $$target; \
-	  case "$(scriptdir)" in \
+	  case "$(DESTDIR)/$(scriptdir)" in \
 	    */bin)   d=..;; \
 	    */bin/*) d=../..;; \
-	    *) echo "$(scriptdir): strange directory for linked scripts" >&2;\
+	    *) echo "$(DESTDIR)/$(scriptdir): \
+	      strange directory for linked scripts" >&2;\
 	      exit 1;; \
 	  esac; \
-	  $(SHELL) $(srcdir)/../mkinstalldirs $(prefix)/`dirname $$s`; \
-	  $(INSTALL_SCRIPT) $(srcdir)/linked_scripts/`basename $$s` $(prefix)/$$s; \
+	  $(SHELL) $(srcdir)/../mkinstalldirs \
+	    $(DESTDIR)/$(prefix)/`dirname $$s`; \
+	  $(INSTALL_SCRIPT) $(srcdir)/linked_scripts/`basename $$s` \
+	    $(DESTDIR)/$(prefix)/$$s; \
 	  ln -s $$d/$$s $$target; \
 	done
-	rm -f $(scriptdir)/getnonfreefonts-sys
-	ln -s getnonfreefonts $(scriptdir)/getnonfreefonts-sys
+	rm -f $(DESTDIR)/$(scriptdir)/getnonfreefonts-sys
+	ln -s getnonfreefonts $(DESTDIR)/$(scriptdir)/getnonfreefonts-sys
 
 kpse_include ../make/clean.mk
 
@


1.2
log
@update to texlive 2008
reorganize port structure

all from maintainer Edd Barrett
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Initial revision
@
text
@d2 3
a4 3
--- texk/texlive/Makefile.in.orig	Sat Apr 21 18:34:02 2007
+++ texk/texlive/Makefile.in	Sat Apr 21 18:34:59 2007
@@@@ -19,17 +19,17 @@@@ install: install-data install-exec
d9 2
a10 1
+	  $(INSTALL_DATA) $(srcdir)/$$p.man ${DESTDIR}$(man1dir)/$$p.$(manext); \
d13 4
d19 27
a45 6
+	-$(SHELL) $(srcdir)/../mkinstalldirs ${DESTDIR}$(scriptdir)
 	for s in $(LIVESCRIPTS); do \
-	  rm -f $(scriptdir)/$$s ; \
-	  $(INSTALL_SCRIPT) $(srcdir)/$$s $(scriptdir)/$$s; \
+	  rm -f ${DESTDIR}$(scriptdir)/$$s ; \
+	  $(INSTALL_SCRIPT) $(srcdir)/$$s ${DESTDIR}$(scriptdir)/$$s; \
d49 2
a50 2
+	rm -f ${DESTDIR}$(scriptdir)/getnonfreefonts-sys
+	ln -s getnonfreefonts ${DESTDIR}$(scriptdir)/getnonfreefonts-sys
@


1.1.1.1
log
@import texlive 2007

TeXLive is an easy way to get up and running with TeX. It provides a
comprehensive TeX system which includes all the major TeX-related
programs, macro packages, and fonts that are free software, including
support for many languages around the world.

from Edd Barrett <vext01@@gmail.com>, with a lot of tweaks by me
input from kili@@
feedback and ok simon@@
@
text
@@
