head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.4
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.2
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.6
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.4
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2016.06.01.12.47.33;	author edd;	state Exp;
branches;
next	1.3;
commitid	UV6MIj5ViZWo7hqx;

1.3
date	2015.05.18.21.38.04;	author edd;	state Exp;
branches;
next	1.2;
commitid	lX1CFagn8LDeCaRV;

1.2
date	2014.01.20.21.34.44;	author edd;	state Exp;
branches;
next	1.1;

1.1
date	2014.01.11.18.46.52;	author edd;	state Exp;
branches;
next	;


desc
@@


1.4
log
@print/texlive: Update to 2015.

OK abieber@@, schwarze@@.

Additional testing by Caspar Schutijser.

Thanks
@
text
@$OpenBSD: patch-texmf-dist_web2c_texmf_cnf,v 1.3 2015/05/18 21:38:04 edd Exp $
--- texmf-dist/web2c/texmf.cnf.origy	Sun Apr 12 16:20:30 2015
+++ texmf-dist/web2c/texmf.cnf	Sun Apr 17 21:46:32 2016
@@@@ -1,6 +1,10 @@@@
 % original texmf.cnf -- runtime path configuration file for kpathsea.
 % Public domain.
 % 
+% ************************
+% HACKED FOR OPENBSD PORTS
+% ************************
+% 
 % If you modify this original file, YOUR CHANGES WILL BE LOST when it is
 % updated.  Instead, put your changes -- and only your changes, not an
 % entire copy! -- in ../../texmf.cnf.  That is, if this file is
@@@@ -48,10 +52,9 @@@@
 % All trees must be organized according to the TeX Directory Structure
 % (http://tug.org/tds), or files may not be found.
 %
-% Redistributors will probably want $SELFAUTODIR/share, i.e., /usr/share.
-% Kpathsea sets SELFAUTOLOC (the directory with the binary),
-% SELFAUTODIR (its parent), and SELFAUTOPARENT (its grandparent).
-TEXMFROOT = $SELFAUTOPARENT
+% We use the old teTeX paths in OpenBSD, respect the legacy.
+OBSD_PREFIX= ${TRUEPREFIX}
+TEXMFROOT = $OBSD_PREFIX/share
 
 % The main tree of distributed packages and programs:
 TEXMFDIST = $TEXMFROOT/texmf-dist
@@@@ -61,7 +64,7 @@@@ TEXMFDIST = $TEXMFROOT/texmf-dist
 TEXMFMAIN = $TEXMFDIST
 
 % Local additions to the distribution trees.
-TEXMFLOCAL = $SELFAUTOGRANDPARENT/texmf-local
+TEXMFLOCAL = $TEXMFROOT/texmf-local
 
 % TEXMFSYSVAR, where *-sys store cached runtime data.
 TEXMFSYSVAR = $TEXMFROOT/texmf-var
@@@@ -440,7 +443,7 @@@@ LUAINPUTS.dvilualatex = .;$TEXMF/scripts/{$progname,$e
 LUAINPUTS = .;$TEXMF/scripts/{$progname,$engine,}/{lua,}//;$TEXMF/tex/{luatex,plain,generic,}//
 
 % Lua needs to look for binary lua libraries distributed with packages.
-CLUAINPUTS = .;$SELFAUTOLOC/lib/{$progname,$engine,}/lua//
+CLUAINPUTS = .;$OBSD_PREFIX/lib/{$progname,$engine,}/lua//
 
 % Architecture independent executables.
 TEXMFSCRIPTS = $TEXMF/scripts/{$progname,$engine,}//
@


1.3
log
@Update to TeX Live 2014.

OK sthen@@, dcoppa@@, giovanni@@, thanks!
@
text
@d1 3
a3 3
$OpenBSD$
--- texmf-dist/web2c/texmf.cnf.origy	Tue Apr 22 22:07:54 2014
+++ texmf-dist/web2c/texmf.cnf	Fri Oct 17 23:40:31 2014
d38 1
a38 1
@@@@ -435,7 +438,7 @@@@ LUAINPUTS.dvilualatex = .;$TEXMF/scripts/{$progname,$e
@


1.2
log
@Remove TEXMFMAIN from our TeX configuration.

Now that the last of the ports which was installing in the deprecated
TEXMFMAIN have been fixed, the TEXMFMAIN texmf tree can dissappear. We do
this by falling in line with the upstream configurations.

OK naddy@@
@
text
@d1 3
a3 6
$OpenBSD: patch-texmf-dist_web2c_texmf_cnf,v 1.1 2014/01/11 18:46:52 edd Exp $

Patch in OpenBSD paths.

--- texmf-dist/web2c/texmf.cnf.origy	Mon Apr 15 17:58:08 2013
+++ texmf-dist/web2c/texmf.cnf	Mon Jan 20 16:27:08 2014
d15 1
a15 1
@@@@ -48,10 +52,8 @@@@
d24 2
a25 1
+TEXMFROOT = ${TRUEPREFIX}/share
d29 1
a29 1
@@@@ -61,7 +63,7 @@@@ TEXMFDIST = $TEXMFROOT/texmf-dist
d33 1
a33 1
-TEXMFLOCAL = $TEXMFROOT/../texmf-local
d38 9
@


1.1
log
@Update to TeX Live 2013.

This incudes the new buildset texmf -- a smaller texmf tree used for
BUILD_DEPENDS. See the package README for more info on this.

OK espie@@
@
text
@d1 1
a1 1
$OpenBSD$
d6 1
a6 1
+++ texmf-dist/web2c/texmf.cnf	Mon Dec  2 16:31:09 2013
d18 1
a18 9
@@@@ -39,7 +43,6 @@@@
 % expands to /usr/local/mytex:/usr/local/othertex.  We make extensive
 % use of this.
 
-
 %  Part 1: Search paths and directories.
 
 % This is the parent directory of our several trees, i.e.,
@@@@ -48,20 +51,19 @@@@
d31 2
a32 6
 
 % We used to have a separate /texmf tree with some core programs and files.
 % Keep the variable name.
-TEXMFMAIN = $TEXMFDIST
+% OpenBSD: Keep this path for now since ports install here.
+TEXMFMAIN = $TEXMFROOT/texmf
a39 18
@@@@ -91,7 +93,7 @@@@ TEXMFCONFIG = ~/.texlive2013/texmf-config
 % should take precedence over distribution files -- although it is
 % generally a source of confusion to have different versions of a
 % package installed, whatever the trees, so try to avoid it.
-TEXMF = {$TEXMFCONFIG,$TEXMFVAR,$TEXMFHOME,!!$TEXMFSYSCONFIG,!!$TEXMFSYSVAR,!!$TEXMFLOCAL,!!$TEXMFDIST}
+TEXMF = {$TEXMFCONFIG,$TEXMFVAR,$TEXMFHOME,!!$TEXMFSYSCONFIG,!!$TEXMFSYSVAR,!!$TEXMFLOCAL,!!$TEXMFDIST,!!$TEXMFMAIN}
 
 % Where to look for ls-R files.  There need not be an ls-R in the
 % directories in this path, but if there is one, Kpathsea will use it.
@@@@ -99,7 +101,7 @@@@ TEXMF = {$TEXMFCONFIG,$TEXMFVAR,$TEXMFHOME,!!$TEXMFSYS
 % does not create ls-R files in the non-!! elements -- because if an
 % ls-R is present, it will be used, and the disk will not be searched.
 % This is arguably a bug in kpathsea.
-TEXMFDBS = {!!$TEXMFSYSCONFIG,!!$TEXMFSYSVAR,!!$TEXMFLOCAL,!!$TEXMFDIST}
+TEXMFDBS = {!!$TEXMFSYSCONFIG,!!$TEXMFSYSVAR,!!$TEXMFLOCAL,!!$TEXMFDIST,!!$TEXMFMAIN}
 
 % The system trees.  These are the trees that are shared by all users.
 % If a tree appears in this list, the mktex* scripts will use
@

