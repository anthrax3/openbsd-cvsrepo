head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.22
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.18
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.20
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.16
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.14
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.12
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.10
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.8
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.6
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.4
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.2.0.12
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.10
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.8
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.6
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	ajacoutot_20070909:1.1.1.1
	jakemsr:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2011.04.15.18.50.06;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2010.08.22.06.57.00;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2007.09.26.08.25.34;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2007.09.09.14.42.02;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.09.09.14.42.02;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to foomatic-db-engine-4.0.7.
@
text
@$OpenBSD: patch-Makefile_in,v 1.3 2010/08/22 06:57:00 ajacoutot Exp $
--- Makefile.in.orig	Fri Feb 18 13:30:22 2011
+++ Makefile.in	Fri Apr 15 20:45:20 2011
@@@@ -187,13 +187,9 @@@@ check-config:
 install-bin: check-config lib/Makefile
 #	This is the only way to get the Perl-generated Makefile using
 #	$(DESTDIR) properly
-	( cd lib && \
-	  $(MAKE) PREFIX=$(PERLPREFIX) && \
-	  $(MAKE) PREFIX=$(PERLPREFIX) DESTDIR=$(DESTDIR) pure_install \
-	)
+	cd lib &&  $(MAKE) PREFIX=$(PERLPREFIX) pure_install
 	${SRC}/mkinstalldirs $(DESTDIR)$(BINDIR)
 	${SRC}/mkinstalldirs $(DESTDIR)$(SBINDIR)
-	${SRC}/mkinstalldirs $(DESTDIR)$(ETCDIR)
 	${SRC}/mkinstalldirs $(DESTDIR)$(LIBDIR)/templates
 	${INSTALL} -m 755 $(BINFILES) $(DESTDIR)$(BINDIR)
 	${INSTALL} -m 755 $(SBINFILES) $(DESTDIR)$(SBINDIR)
@@@@ -204,13 +200,6 @@@@ install-bin: check-config lib/Makefile
 #	Link to allow foomatic-ppdfile be called under the old name
 #	foomatic-datafile
 	ln -sf foomatic-ppdfile $(DESTDIR)$(BINDIR)/foomatic-datafile
-#	Link foomatic-ppdfile to the CUPS 1.2 PPD generator directory,
-#	so that the cups-driverd automatically generates Foomatic PPDs
-#	on demand (/usr/lib/cups/driver).
-	if [ -d $(LIB_CUPS) ]; then \
-	  ${SRC}/mkinstalldirs $(DESTDIR)$(CUPS_DRIVER); \
-	  ln -sf $(BINDIR)/foomatic-ppdfile $(DESTDIR)$(CUPS_DRIVER)/foomatic; \
-	fi
 
 install-man: check-config
 	${SRC}/mkinstalldirs $(DESTDIR)$(MANDIR)
@@@@ -226,6 +215,7 @@@@ build: defaults lib/Makefile foomatic-combo-xml foomat
 	  $(PERL) -p -i -e "s=use lib '.*lib/';\n==s" $$m; \
 	done
 	chmod a+rx $(AC_OUTPUT_FILES) mkinstalldirs
+	cd lib && $(MAKE) PREFIX=$(PERLPREFIX)
 
 lib/Makefile: lib/Makefile.PL
 	( cd lib && $(PERL) Makefile.PL verbose INSTALLDIRS=$(PERL_INSTALLDIRS) )
@


1.3
log
@Update to foomatic-db-engine-4.0.5.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.2 2007/09/26 08:25:34 ajacoutot Exp $
--- Makefile.in.orig	Mon Aug  9 12:07:55 2010
+++ Makefile.in	Sun Aug 22 07:27:13 2010
@@@@ -186,13 +186,9 @@@@ check-config:
d19 1
a19 1
@@@@ -203,13 +199,6 @@@@ install-bin: check-config lib/Makefile
d33 1
a33 1
@@@@ -225,6 +214,7 @@@@ build: defaults lib/Makefile foomatic-combo-xml foomat
@


1.2
log
@- update to foomatic-db-engine-3.0.20070919 for better support of newer
PPDs (also resolve a parsing bug on powerpc)
- use a saner version number
- fix default libdir

ok jakemsr@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.1.1.1 2007/09/09 14:42:02 ajacoutot Exp $
--- Makefile.in.orig	Wed Sep 19 21:49:48 2007
+++ Makefile.in	Tue Sep 25 12:47:05 2007
d10 1
a10 1
-	  $(MAKE) PREFIX=$(DESTDIR)$(PERLPREFIX) pure_install \
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.in.orig	Sat Dec 20 02:01:43 2003
+++ Makefile.in	Thu Apr 26 18:03:07 2007
@@@@ -182,13 +182,9 @@@@ check-config:
d10 1
a10 1
-	  $(MAKE) PREFIX=$(PERLPREFIX) pure_install \
d19 15
a33 1
@@@@ -214,6 +210,7 @@@@ build: defaults lib/Makefile foomatic-combo-xml foomat
@


1.1.1.1
log
@Import foomatic-db-engine-3.0.2

Foomatic's database engine generates PPD files from the data in
Foomatic's XML database. It also contains scripts to directly generate
print queues and handle jobs.


work by and ok jakemsr@@, ok kili@@
@
text
@@
