head	1.57;
access;
symbols
	OPENBSD_6_1:1.57.0.4
	OPENBSD_6_1_BASE:1.57
	OPENBSD_6_0:1.57.0.2
	OPENBSD_6_0_BASE:1.57
	OPENBSD_5_9:1.56.0.2
	OPENBSD_5_9_BASE:1.56
	OPENBSD_5_8:1.53.0.4
	OPENBSD_5_8_BASE:1.53
	OPENBSD_5_7:1.52.0.2
	OPENBSD_5_7_BASE:1.52
	OPENBSD_5_6:1.51.0.2
	OPENBSD_5_6_BASE:1.51
	OPENBSD_5_5:1.50.0.4
	OPENBSD_5_5_BASE:1.50
	OPENBSD_5_4:1.50.0.2
	OPENBSD_5_4_BASE:1.50
	OPENBSD_5_3:1.46.0.2
	OPENBSD_5_3_BASE:1.46
	OPENBSD_5_2:1.43.0.2
	OPENBSD_5_2_BASE:1.43
	OPENBSD_5_1_BASE:1.40
	OPENBSD_5_1:1.40.0.2
	OPENBSD_5_0:1.38.0.2
	OPENBSD_5_0_BASE:1.38
	OPENBSD_4_9:1.36.0.2
	OPENBSD_4_9_BASE:1.36
	OPENBSD_4_8:1.30.0.2
	OPENBSD_4_8_BASE:1.30
	OPENBSD_4_7:1.28.0.2
	OPENBSD_4_7_BASE:1.28
	OPENBSD_4_6:1.23.0.2
	OPENBSD_4_6_BASE:1.23
	OPENBSD_4_5:1.19.0.6
	OPENBSD_4_5_BASE:1.19
	OPENBSD_4_4:1.19.0.4
	OPENBSD_4_4_BASE:1.19
	OPENBSD_4_3:1.19.0.2
	OPENBSD_4_3_BASE:1.19
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.12.0.2
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.7.0.2
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.6.0.2
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.1.1.1.0.4
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	scribus:1.1.1.1
	dts:1.1.1;
locks; strict;
comment	@# @;


1.57
date	2016.03.20.16.12.26;	author naddy;	state Exp;
branches;
next	1.56;
commitid	guiZq8cnNbVyyHzx;

1.56
date	2016.01.05.11.24.05;	author landry;	state Exp;
branches;
next	1.55;
commitid	0OMYD28xW8jckocs;

1.55
date	2015.10.14.22.07.01;	author sthen;	state Exp;
branches;
next	1.54;
commitid	9QDe44CdAEI3vuqK;

1.54
date	2015.09.22.11.17.57;	author ajacoutot;	state Exp;
branches;
next	1.53;
commitid	8GEtx8tTWCdTUKhr;

1.53
date	2015.03.26.12.14.15;	author sthen;	state Exp;
branches;
next	1.52;
commitid	qYDTmzXxLoW0kaEv;

1.52
date	2014.08.14.07.06.00;	author ajacoutot;	state Exp;
branches;
next	1.51;
commitid	Ox5isqCVDwHCpoCU;

1.51
date	2014.04.06.21.10.30;	author sthen;	state Exp;
branches;
next	1.50;

1.50
date	2013.05.10.06.03.30;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2013.04.24.22.40.05;	author landry;	state Exp;
branches;
next	1.48;

1.48
date	2013.03.11.23.04.32;	author fgsch;	state Exp;
branches;
next	1.47;

1.47
date	2013.03.11.11.37.54;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2013.02.09.14.49.52;	author sthen;	state Exp;
branches;
next	1.45;

1.45
date	2012.10.28.12.08.52;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2012.08.04.14.43.37;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2012.06.01.22.00.27;	author landry;	state Exp;
branches;
next	1.42;

1.42
date	2012.05.28.12.32.04;	author landry;	state Exp;
branches;
next	1.41;

1.41
date	2012.02.21.16.21.42;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2011.09.16.11.13.41;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2011.09.08.10.34.25;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2011.06.22.13.50.43;	author sthen;	state Exp;
branches;
next	1.37;

1.37
date	2011.06.08.17.37.37;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2010.11.20.09.48.40;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.11.11.18.34.59;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.24.21.32.39;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2010.10.24.15.53.55;	author sthen;	state Exp;
branches;
next	1.32;

1.32
date	2010.10.18.21.25.09;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2010.08.30.18.29.28;	author fgsch;	state Exp;
branches;
next	1.30;

1.30
date	2010.07.06.22.25.53;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2010.04.13.11.55.30;	author kili;	state Exp;
branches;
next	1.28;

1.28
date	2009.12.22.15.54.32;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.11.22.17.22.07;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2009.09.15.17.37.22;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2009.08.12.21.03.56;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2009.08.10.06.34.09;	author kili;	state Exp;
branches;
next	1.23;

1.23
date	2009.05.22.14.56.37;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.04.10.12.31.00;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.03.23.19.28.22;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.03.17.21.30.14;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2008.01.21.17.13.32;	author ian;	state Exp;
branches;
next	1.18;

1.18
date	2007.12.16.11.30.20;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2007.10.08.08.22.42;	author steven;	state Exp;
branches;
next	1.16;

1.16
date	2007.09.15.21.36.45;	author merdely;	state Exp;
branches;
next	1.15;

1.15
date	2007.08.25.20.16.32;	author mbalmer;	state Exp;
branches;
next	1.14;

1.14
date	2007.04.02.09.27.36;	author kili;	state Exp;
branches;
next	1.13;

1.13
date	2007.03.26.05.57.30;	author mbalmer;	state Exp;
branches;
next	1.12;

1.12
date	2007.01.10.23.33.36;	author mbalmer;	state Exp;
branches;
next	1.11;

1.11
date	2006.11.13.12.51.15;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2006.11.10.17.17.30;	author mbalmer;	state Exp;
branches;
next	1.9;

1.9
date	2006.10.20.22.52.47;	author kili;	state Exp;
branches;
next	1.8;

1.8
date	2006.09.18.11.59.59;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.06.18.15.03.58;	author alek;	state Exp;
branches;
next	1.6;

1.6
date	2006.01.06.08.20.20;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2006.01.05.21.07.45;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2005.11.17.21.06.27;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2005.11.04.14.18.43;	author kurt;	state Exp;
branches;
next	1.2;

1.2
date	2005.09.04.23.48.35;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.07.14.05.59;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.03.07.14.05.59;	author espie;	state Exp;
branches;
next	;


desc
@@


1.57
log
@drop SHARED_ONLY from python and ruby ports
@
text
@# $OpenBSD: Makefile,v 1.56 2016/01/05 11:24:05 landry Exp $

COMMENT=	DTP program
DISTNAME=	scribus-1.4.5
CATEGORIES=	print

HOMEPAGE=	http://www.scribus.net/

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB +=	QtGui QtNetwork QtXml c cairo cups execinfo
WANTLIB +=	fontconfig freetype hyphen jpeg lcms2 m podofo pthread
WANTLIB +=	stdc++ tiff util xml2 z ${MODPY_WANTLIB}

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=scribus/}

EXTRACT_SUFX=	.tar.bz2

MODULES=	x11/qt4 \
		devel/cmake \
		lang/python

MODPY_RUNDEP=	No

BUILD_DEPENDS=	devel/boost
RUN_DEPENDS=	devel/desktop-file-utils \
		graphics/py-Pillow \
		print/ghostscript/gnu \
		textproc/antiword \
		misc/shared-mime-info \
		${MODPY_TKINTER_DEPENDS}
LIB_DEPENDS= 	devel/libexecinfo \
		graphics/lcms2 \
		graphics/tiff \
		print/cups,-libs \
		textproc/hyphen \
		textproc/libxml \
		textproc/podofo \
		graphics/jpeg \
		${MODPY_LIB_DEPENDS}

FLAVORS=	debug
FLAVOR?=

CONFIGURE_ARGS +=	-DCMAKE_SKIP_RPATH:BOOL=1 \
			-DCMAKE_CXX_FLAGS="${CXXFLAGS}" \
			-DCMAKE_C_FLAGS="${CFLAGS}"

.if ${FLAVOR:Mdebug}
CONFIGURE_ARGS+=-DWANT_DEBUG=1
.endif

post-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/applications
	@@${INSTALL_DATA} ${WRKSRC}/scribus.desktop \
		${PREFIX}/share/applications/scribus.desktop

.include <bsd.port.mk>
@


1.56
log
@Update to scribus 1.4.5.

Remove aspell dependency as the plugin was removed upstream (for being
broken)
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.55 2015/10/14 22:07:01 sthen Exp $

SHARED_ONLY=	Yes
@


1.55
log
@scribus has a hidden dep on PoDoFo, found by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2015/09/22 11:17:57 ajacoutot Exp $
d6 1
a6 2
DISTNAME=	scribus-1.4.2
REVISION=	4
d14 1
a14 1
WANTLIB +=	QtGui QtNetwork QtXml aspell c cairo cups execinfo
d20 1
a20 1
EXTRACT_SUFX=	.tar.xz
a38 1
		textproc/aspell/core \
@


1.54
log
@Add hyphen support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2015/03/26 12:14:15 sthen Exp $
d7 1
a7 1
REVISION=	3
d16 1
a16 1
WANTLIB +=	fontconfig freetype hyphen jpeg lcms2 m pthread
d43 1
@


1.53
log
@REVISION bumps for py-Pillow RDEP change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2014/08/14 07:06:00 ajacoutot Exp $
d7 1
a7 1
REVISION=	2
d16 2
a17 2
WANTLIB +=	fontconfig freetype jpeg lcms2 m pthread stdc++
WANTLIB +=	tiff util xml2 z ${MODPY_WANTLIB}
d41 1
@


1.52
log
@Bump after py-Pillow sub-packaging.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2014/04/06 21:10:30 sthen Exp $
d7 1
a7 1
REVISION=	1
@


1.51
log
@switch py-Imaging to py-Pillow, plus some "s/import Image/from PIL import Image/" patches where necessary
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/05/10 06:03:30 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
@


1.50
log
@No need to hardcode MODPY_VERSION; we use the default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/04/24 22:40:05 landry Exp $
d7 1
d31 1
a31 1
		graphics/py-Imaging \
@


1.49
log
@Update to scribus 1.4.2.

From Jiri B, ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/03/11 23:04:32 fgsch Exp $
a25 1
MODPY_VERSION=	2.7
@


1.48
log
@bump after py-Imaging change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/03/11 11:37:54 espie Exp $
d6 1
a6 1
DISTNAME=	scribus-1.4.1
a7 1
REVISION=	2
d20 1
a20 1
EXTRACT_SUFX=	.tar.bz2
a46 2

WRKDIST=	${WRKDIR}/Scribus
@


1.47
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/02/09 14:49:52 sthen Exp $
d8 1
a8 1
REVISION=	1
@


1.46
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/10/28 12:08:52 jasper Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.45
log
@- fix double WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/08/04 14:43:37 ajacoutot Exp $
d58 1
a58 1
.if ${FLAVOR:L:Mdebug}
@


1.44
log
@cups -> cups,-libs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/06/01 22:00:27 landry Exp $
d8 1
a8 1
REVISION=	0
d19 1
a19 1
WANTLIB +=	fontconfig freetype jpeg lcms2 m pthread python2.7 stdc++
d34 3
a36 3
RUN_DEPENDS=	misc/shared-mime-info \
		devel/desktop-file-utils \
		${MODPY_TKINTER_DEPENDS} \
d38 3
a40 3
		print/ghostscript/gnu \
		graphics/py-Imaging
LIB_DEPENDS= graphics/jpeg \
a42 1
		${MODPY_LIB_DEPENDS} \
d44 1
d46 2
a47 2
		textproc/aspell/core \
		devel/libexecinfo
@


1.43
log
@Add missing build_depends on boost, pointed out by nigel@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2012/05/28 12:32:04 landry Exp $
d8 1
d44 1
a44 1
		print/cups \
@


1.42
log
@Major update to scribus 1.4.1, switches from qt3 to qt4.
Based on a diff from Jiri B on ports@@.
@
text
@d1 1
a1 1
# $OpenBSD$
d32 1
@


1.41
log
@CONFIGURE_STYLE autoconf already appends gnu, so no need to explicitely
list it.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/09/16 11:13:41 espie Exp $
d6 1
a6 2
DISTNAME=	scribus-1.3.4
REVISION=	17
a8 5
# These are actually internal modules, not generic shared libs
SHARED_LIBS=	scribus12format		0.0 \
		scribus134format	0.0 \
		scribus13format		0.0

d12 8
a19 9
PERMIT_PACKAGE_CDROM?=	Yes
PERMIT_PACKAGE_FTP?=	Yes
PERMIT_DISTFILES_CDROM?=Yes
PERMIT_DISTFILES_FTP?=	Yes

WANTLIB += ICE SM X11 Xau Xdmcp Xext asn1 c crypto expat fontconfig
WANTLIB += freetype gssapi krb5 m pthread pthread-stubs ssl stdc++
WANTLIB += util xcb z jpeg lcms art_lgpl_2 png tiff cups xml2
WANTLIB += ${MODPY_WANTLIB}
d25 2
a26 2
MODULES=	x11/qt3 \
		converters/libiconv \
d29 3
d33 7
a39 5
		devel/desktop-file-utils
LIB_DEPENDS=	graphics/jpeg \
		graphics/lcms \
		graphics/libart \
		graphics/png \
d42 4
a45 16
		print/cups>=1.5 \
		textproc/libxml

USE_GMAKE=	Yes
USE_LIBTOOL=	Yes
USE_GROFF =	Yes

CONFIGURE_STYLE=autoconf
AUTOCONF_VERSION=2.60
CONFIGURE_ARGS=	${MODQT_CONFIGURE_ARGS} \
		--with-extra-libs=${LOCALBASE}/lib \
		--with-extra-includes=${LOCALBASE}/include/libpng:${LOCALBASE}/include
CONFIGURE_ENV+=	UIC_PATH=${MODQT_UIC} \
		CPPFLAGS='-I${MODQT_INCDIR} -I${LOCALBASE}/include/libpng \
		-I${LOCALBASE}/include' LDFLAGS='-L${MODQT_LIBDIR} \
		-L${LOCALBASE}/lib'
d50 6
d57 1
a57 3
CONFIGURE_ARGS+=--enable-debug=Yes
CFLAGS+=-g
CXXFLAGS+=-g
a59 9
PLUGINS=about charselect csvim fontpreview htmlim importps \
	newfromtemplateplugin odtimplugin oodrawimp pdf postscript preferences \
	preview saveastemplateplugin scribusexportpixmap scribusshortwords \
	scriptplugin svgexplugin svgimplugin sxwimplugin textfilterplugin \
	txtim barcodegenerator colorwheel docim oldscribusformat pdbim
.for _n in ${PLUGINS}
MAKE_FLAGS+=	lib${_n}_la_LDFLAGS='-module -avoid-version'
.endfor

a60 3
	rm -rf ${WRKINST}/usr/local/share/doc/scribus
	mv ${WRKINST}/usr/local/share/doc/${DISTNAME} \
	    ${WRKINST}/usr/local/share/doc/scribus
d62 2
a63 1
	@@${INSTALL_DATA} ${WRKSRC}/scribus.desktop ${PREFIX}/share/applications
@


1.40
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/09/08 10:34:25 ajacoutot Exp $
d51 1
a51 1
CONFIGURE_STYLE=autoconf gnu
@


1.39
log
@Fix build fix cups >=1.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/06/22 13:50:43 sthen Exp $
d7 1
a7 1
REVISION=	16
@


1.38
log
@build with python 2.7; from Pascal Stumpf with tweak from me, ok rpointel@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/06/08 17:37:37 jasper Exp $
d7 1
a7 1
REVISION=	15
d44 1
a44 1
		print/cups \
@


1.37
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/11/20 09:48:40 espie Exp $
d7 1
a7 1
REVISION =	14
a34 1
MODPY_VERSION=	2.6
@


1.36
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/11/11 18:34:59 espie Exp $
d7 1
a7 1
REVISION =	13
@


1.35
log
@more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/24 21:32:39 ajacoutot Exp $
d37 7
a43 7
RUN_DEPENDS=	:shared-mime-info-*:misc/shared-mime-info \
		::devel/desktop-file-utils
LIB_DEPENDS=	::graphics/jpeg \
		::graphics/lcms \
		::graphics/libart \
		::graphics/png \
		::graphics/tiff \
d45 2
a46 2
		::print/cups \
		::textproc/libxml
@


1.34
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/10/24 15:53:55 sthen Exp $
d25 1
a25 1
WANTLIB += util xcb z
d39 5
a43 5
LIB_DEPENDS=	jpeg::graphics/jpeg \
		lcms::graphics/lcms \
		art_lgpl_2::graphics/libart \
		png::graphics/png \
		tiff::graphics/tiff \
d45 2
a46 2
		cups::print/cups \
		xml2::textproc/libxml
@


1.33
log
@Add MODPY_WANTLIB, adjust MODPY_LIB_DEPENDS to new-style LIB_DEPENDS,
update all ports to match. Plists don't change -> no bump.
Looks ok to jasper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/10/18 21:25:09 espie Exp $
a47 1
USE_X11=	Yes
@


1.32
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/08/30 18:29:28 fgsch Exp $
d26 1
@


1.31
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/07/06 22:25:53 espie Exp $
d50 1
@


1.30
log
@zap reeeally old variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/04/13 11:55:30 kili Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p12
@


1.29
log
@Explicitely set MODPY_VERSION to 2.6, otherwise we get a wrong
LIB_DEPENDS.

Not the best solution, but at least it unbreaks the build.

ok ajacoutot@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/12/22 15:54:32 ajacoutot Exp $
a34 1
MODQT_MT=	Yes
@


1.28
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/11/22 17:22:07 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p11
d34 1
@


1.27
log
@Regen WANTLIB after CUPS gnutls -> openssl move.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/09/15 17:37:22 jasper Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p10
@


1.26
log
@remove marc balmer as maintainer of all of his ports, to take away the
illusion marc still maintains them. as requested by himself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/08/12 21:03:56 sthen Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p9
d24 2
a25 2
WANTLIB += freetype gcrypt gnutls gpg-error gssapi krb5 m pthread
WANTLIB += pthread-stubs stdc++ tasn1 util xcb z
d32 1
a32 1
		devel/gettext \
@


1.25
log
@Patch the autoconf input files so they pick up python 2.6 and regenerate
configure. PKGNAME bumped to be safe, but probably not needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/08/10 06:34:09 kili Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p8
a15 2

MAINTAINER=	Marc Balmer <mbalmer@@openbsd.org>
@


1.24
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/05/22 14:56:37 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p7
d53 2
a54 1
CONFIGURE_STYLE=gnu
@


1.23
log
@- regen WANTLIB (from cups kerberos support)
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/04/10 12:31:00 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p6
d27 1
a27 1
WANTLIB += stdc++ tasn1 util z
@


1.22
log
@- fix WANTLIB after cups udate
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/03/23 19:28:22 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p5
d25 3
a27 3
WANTLIB += ICE SM X11 Xau Xdmcp Xext c expat fontconfig freetype
WANTLIB += gcrypt gnutls gpg-error m pthread stdc++ tasn1 util
WANTLIB += z
@


1.21
log
@- regen PLIST to add missing desktop file

spotted by Mikolaj Kucharski, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/03/17 21:30:14 sthen Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
d19 1
a19 1
# GPL
d25 3
a27 3

WANTLIB=	ICE SM X11 Xext c crypto freetype \
		m pthread stdc++ ssl z util fontconfig Xau Xdmcp expat
d33 3
a35 1
MODULES=	x11/qt3 converters/libiconv lang/python
@


1.20
log
@use ${MODPY_LIB_DEPENDS} to fix lib_depends pkgspec, bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/01/21 17:13:32 ian Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
@


1.19
log
@Add desktop goo, ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/12/16 11:30:20 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
d43 1
a43 1
		python${MODPY_VERSION}:python-${MODPY_VERSION}.*:lang/python/${MODPY_VERSION} \
@


1.18
log
@- add update-mime-database goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/10/08 08:22:42 steven Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d36 2
a37 1
RUN_DEPENDS=	:shared-mime-info-*:misc/shared-mime-info
d82 2
@


1.17
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/09/15 21:36:45 merdely Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d36 1
@


1.16
log
@Remove surrounding quotes in COMMENT/PERMIT_*/ERRORS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/08/25 20:16:32 mbalmer Exp $
d7 1
@


1.15
log
@Update to Scribus 1.3.4

Collaborative work with Mathias Kilian (kili@@).

ok kili
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/04/02 09:27:36 kili Exp $
d5 1
a5 1
COMMENT=	"DTP program"
@


1.14
log
@
Fix WANTLIB and MODULES.

ok, mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/03/26 05:57:30 mbalmer Exp $
d6 1
a6 2
DISTNAME=	scribus-1.3.3.8
PKGNAME=	${DISTNAME}p0
d9 5
d23 1
@


1.13
log
@Update to scribus 1.3.3.8.  Mostly bugfixes and some new translations.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/01/10 23:33:36 mbalmer Exp $
d7 1
d20 2
a21 2
WANTLIB=	ICE SM X11 Xext c freetype gcrypt gnutls gpg-error \
		m pthread stdc++ z util fontconfig Xau Xdmcp expat
d27 1
a27 1
MODULES=	x11/qt3 devel/gettext lang/python
@


1.12
log
@maintenance update to scribus 1.3.3.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/11/13 12:51:15 steven Exp $
d6 1
a6 1
DISTNAME=	scribus-1.3.3.7
d20 1
a20 1
		m pthread stdc++ z util fontconfig
@


1.11
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/11/10 17:17:30 mbalmer Exp $
d6 1
a6 1
DISTNAME=	scribus-1.3.3.5
@


1.10
log
@Maintenance update to scribus-1.3.3.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/10/20 22:52:47 kili Exp $
d38 1
@


1.9
log
@
Update to 1.3.3.4, with some patches

o.k. from mbalmer (also new maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/09/18 11:59:59 espie Exp $
d6 1
a6 1
DISTNAME=	scribus-1.3.3.4
@


1.8
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/06/18 15:03:58 alek Exp $
d6 1
a6 2
DISTNAME=	scribus-1.2.2.1
PKGNAME=	${DISTNAME}p3
d9 3
a11 1
HOMEPAGE=	http://www.scribus.org.uk/
d20 1
a20 1
		m pthread stdc++ z
d26 1
a26 1
MODULES=	x11/qt3 devel/gettext
d34 1
a34 1
		python2.4:python-2.4.*:lang/python/2.4 \
a41 1
#AUTOCONF_VERSION=	2.59
d62 2
a63 1
	scriptplugin svgexplugin svgimplugin sxwimplugin textfilterplugin txtim 
d67 5
@


1.7
log
@Switch over to py 2.4; problem noticed by steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/01/06 08:20:20 sturm Exp $
d30 1
a30 1
		art_lgpl_2.0.0::graphics/libart \
d33 1
a33 1
		python2.4.0.0:python-2.4.*:lang/python/2.4 \
@


1.6
log
@these libraries are actually modules, build them as such
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/01/05 21:07:45 sturm Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
d19 1
a19 1
		iconv intl m pthread stdc++ util z
d25 1
a25 1
MODULES=	x11/qt3
d33 1
a33 1
		python2.3.0.0:python-2.3.*:lang/python/2.3 \
@


1.5
log
@pnf
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/11/17 21:06:27 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d58 8
@


1.4
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/11/04 14:18:43 kurt Exp $
d3 1
a3 7
COMMENT=		"DTP program"
CATEGORIES=		print
DISTNAME=		scribus-1.2.2.1
PKGNAME=		${DISTNAME}p1
EXTRACT_SUFX=		.tar.bz2
HOMEPAGE=		http://www.scribus.org.uk/
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=scribus/}
d5 6
a10 10
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
SHARED_ONLY=Yes
MODULES=	x11/qt3
MODQT_MT=Yes
CONFIGURE_STYLE=	gnu
#AUTOCONF_VERSION=	2.59
CONFIGURE_ARGS+=	${MODQT_CONFIGURE_ARGS}
CONFIGURE_ARGS+=	--with-extra-libs=${LOCALBASE}/lib --with-extra-includes=${LOCALBASE}/include/libpng:${LOCALBASE}/include
CONFIGURE_ENV+=		UIC_PATH=${MODQT_UIC}
CONFIGURE_ENV+=		CPPFLAGS='-I${MODQT_INCDIR} -I${LOCALBASE}/include/libpng -I${LOCALBASE}/include' LDFLAGS='-L${MODQT_LIBDIR} -L${LOCALBASE}/lib'
d12 5
a16 1
FLAVORS=		debug
d18 4
a21 1
FLAVOR?=
d23 1
a23 5
.if ${FLAVOR:L:Mdebug}
CONFIGURE_ARGS+=	--enable-debug=Yes
CFLAGS+=-g
CXXFLAGS+=-g
.endif
d25 2
d28 8
a35 9
USE_LIBTOOL=		Yes
LIB_DEPENDS=		lcms::graphics/lcms \
			xml2::textproc/libxml \
			tiff::graphics/tiff \
			python2.3.0.0:python-2.3.*:lang/python/2.3 \
			png::graphics/png \
			jpeg::graphics/jpeg \
			cups::print/cups \
			art_lgpl_2.0.0::graphics/libart
a36 2
WANTLIB=	ICE SM X11 Xext c freetype gcrypt gnutls gpg-error \
		iconv intl m pthread stdc++ util z
d38 1
d40 9
d50 2
d53 5
a57 5
# GPL
PERMIT_DISTFILES_CDROM?=	Yes
PERMIT_DISTFILES_FTP?=		Yes
PERMIT_PACKAGE_CDROM?=		Yes
PERMIT_PACKAGE_FTP?=		Yes
@


1.3
log
@remove dlopen work-around. okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/09/04 23:48:35 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d43 2
a44 1
WANTLIB=	ICE SM freetype Xext pthread stdc++ crypto c X11 util m z ssl
a45 2

WANTLIB+=	iconv
@


1.2
log
@update scribus to latest stable.
add a debug flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/03/07 14:05:59 espie Exp $
d6 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=		scribus-1.2.1
d21 11
d43 1
@


1.1.1.1
log
@scribus is a desktop publishing program.

This is a port of the basic program, it works so far enough to be able
to mix and match PDF/pictures/text and print the result to Encapsulated
PostScript.

I haven't tried out yet with more advanced stuff...
@
text
@@
