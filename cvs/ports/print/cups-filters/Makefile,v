head	1.128;
access;
symbols
	OPENBSD_6_2:1.127.0.2
	OPENBSD_6_2_BASE:1.127
	OPENBSD_6_1:1.106.0.2
	OPENBSD_6_1_BASE:1.106
	OPENBSD_6_0:1.90.0.2
	OPENBSD_6_0_BASE:1.90
	OPENBSD_5_9:1.85.0.2
	OPENBSD_5_9_BASE:1.85
	OPENBSD_5_8:1.72.0.4
	OPENBSD_5_8_BASE:1.72
	OPENBSD_5_7:1.63.0.2
	OPENBSD_5_7_BASE:1.63
	OPENBSD_5_6:1.50.0.2
	OPENBSD_5_6_BASE:1.50
	OPENBSD_5_5:1.36.0.2
	OPENBSD_5_5_BASE:1.36
	OPENBSD_5_4:1.21.0.2
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.9.0.2
	OPENBSD_5_3_BASE:1.9
	ajacoutot_20120804:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.128
date	2017.10.07.14.39.03;	author ajacoutot;	state Exp;
branches;
next	1.127;
commitid	WFXeokCYyKdC7lSA;

1.127
date	2017.09.19.06.04.16;	author ajacoutot;	state Exp;
branches;
next	1.126;
commitid	cLFFeUbIV5sqAVPp;

1.126
date	2017.09.16.06.52.01;	author ajacoutot;	state Exp;
branches;
next	1.125;
commitid	YoOt0EYD7P7EgVUm;

1.125
date	2017.09.14.14.54.30;	author ajacoutot;	state Exp;
branches;
next	1.124;
commitid	smIk0hfG4sJs836o;

1.124
date	2017.09.11.04.44.32;	author ajacoutot;	state Exp;
branches;
next	1.123;
commitid	tVYoSCjdahEJ5Inz;

1.123
date	2017.09.08.07.42.35;	author ajacoutot;	state Exp;
branches;
next	1.122;
commitid	AFSm930MSn4jnfy0;

1.122
date	2017.08.26.10.08.16;	author ajacoutot;	state Exp;
branches;
next	1.121;
commitid	2ATUOmCjFempbJRA;

1.121
date	2017.08.24.07.21.35;	author ajacoutot;	state Exp;
branches;
next	1.120;
commitid	dkMy70frOxXD8KA8;

1.120
date	2017.08.23.07.41.02;	author ajacoutot;	state Exp;
branches;
next	1.119;
commitid	i9C00GR0ekLD1XW1;

1.119
date	2017.08.22.08.23.52;	author ajacoutot;	state Exp;
branches;
next	1.118;
commitid	P6Lk7LabmTn9nGFv;

1.118
date	2017.08.19.11.48.51;	author ajacoutot;	state Exp;
branches;
next	1.117;
commitid	KnHPevnrDqgZXirE;

1.117
date	2017.08.17.12.42.36;	author ajacoutot;	state Exp;
branches;
next	1.116;
commitid	2wty1yweYAD45YG4;

1.116
date	2017.07.28.07.48.56;	author ajacoutot;	state Exp;
branches;
next	1.115;
commitid	xy9RoX6zFPKdggyB;

1.115
date	2017.07.27.10.05.20;	author sthen;	state Exp;
branches;
next	1.114;
commitid	GaeX7RvWvJNgCIJE;

1.114
date	2017.07.25.12.56.33;	author ajacoutot;	state Exp;
branches;
next	1.113;
commitid	62eeoQd9Gx5McrS9;

1.113
date	2017.07.01.11.25.03;	author ajacoutot;	state Exp;
branches;
next	1.112;
commitid	77uoHkzaTozTiXL2;

1.112
date	2017.05.31.08.08.17;	author espie;	state Exp;
branches;
next	1.111;
commitid	ij92FtFXiSiT1ani;

1.111
date	2017.05.27.19.57.06;	author ajacoutot;	state Exp;
branches;
next	1.110;
commitid	H08QxD8pqoInz6Rz;

1.110
date	2017.05.27.13.55.58;	author ajacoutot;	state Exp;
branches;
next	1.109;
commitid	SykG6k6P85X3Gc2i;

1.109
date	2017.05.16.08.00.54;	author ajacoutot;	state Exp;
branches;
next	1.108;
commitid	BQkLLiyiHyIJXZca;

1.108
date	2017.05.13.09.49.50;	author espie;	state Exp;
branches;
next	1.107;
commitid	Qq9CIQtBjFqtn5SM;

1.107
date	2017.04.28.08.13.07;	author ajacoutot;	state Exp;
branches;
next	1.106;
commitid	muEBh5l6zyF7nzrN;

1.106
date	2017.02.18.17.33.51;	author ajacoutot;	state Exp;
branches;
next	1.105;
commitid	kjw4RQ4AAUYktD89;

1.105
date	2017.02.18.17.32.37;	author ajacoutot;	state Exp;
branches;
next	1.104;
commitid	bw6Y0vDo3oixdVWL;

1.104
date	2017.02.18.12.04.57;	author ajacoutot;	state Exp;
branches;
next	1.103;
commitid	pi25rYwo6glpeNKK;

1.103
date	2017.01.19.04.28.47;	author ajacoutot;	state Exp;
branches;
next	1.102;
commitid	42YbSRRrJtJ1fCcD;

1.102
date	2016.12.29.09.59.15;	author ajacoutot;	state Exp;
branches;
next	1.101;
commitid	n9cU6zcwh74D5h38;

1.101
date	2016.12.18.09.36.04;	author ajacoutot;	state Exp;
branches;
next	1.100;
commitid	Slco7tp5iuE6yT8A;

1.100
date	2016.12.17.16.15.35;	author zhuk;	state Exp;
branches;
next	1.99;
commitid	KwDLzDSEVPlzf7Mc;

1.99
date	2016.12.10.07.34.44;	author ajacoutot;	state Exp;
branches;
next	1.98;
commitid	XrdjSjhSlF4qzMwg;

1.98
date	2016.11.28.10.14.23;	author ajacoutot;	state Exp;
branches;
next	1.97;
commitid	KnWYJZL8pL03Itn4;

1.97
date	2016.11.01.07.31.31;	author ajacoutot;	state Exp;
branches;
next	1.96;
commitid	8QACYgWfIj3NmMuh;

1.96
date	2016.10.29.15.35.27;	author ajacoutot;	state Exp;
branches;
next	1.95;
commitid	fStT1o9F96YRJYHf;

1.95
date	2016.09.27.08.00.03;	author ajacoutot;	state Exp;
branches;
next	1.94;
commitid	HN4zVLA7rUqXOdmV;

1.94
date	2016.09.16.08.41.43;	author ajacoutot;	state Exp;
branches;
next	1.93;
commitid	Iey6nGwrbnCjyqzH;

1.93
date	2016.08.29.07.31.31;	author ajacoutot;	state Exp;
branches;
next	1.92;
commitid	M0C5H3yprObiptJE;

1.92
date	2016.08.21.12.58.59;	author ajacoutot;	state Exp;
branches;
next	1.91;
commitid	tZABAM4SidzMqqH8;

1.91
date	2016.07.30.14.18.35;	author ajacoutot;	state Exp;
branches;
next	1.90;
commitid	kdkCyAiFTZ1PwjEK;

1.90
date	2016.07.09.15.39.45;	author kili;	state Exp;
branches;
next	1.89;
commitid	fw9zstpPn8cM6O6D;

1.89
date	2016.06.11.10.06.23;	author ajacoutot;	state Exp;
branches;
next	1.88;
commitid	QAa735DBRMjS5pdh;

1.88
date	2016.03.24.07.30.01;	author ajacoutot;	state Exp;
branches;
next	1.87;
commitid	Xop6oxGlXqIHVChY;

1.87
date	2016.03.11.20.28.30;	author naddy;	state Exp;
branches;
next	1.86;
commitid	UYLP8TE6V7RS2GhJ;

1.86
date	2016.02.25.03.49.41;	author ajacoutot;	state Exp;
branches;
next	1.85;
commitid	M6LXajUvq7Gr3Ei1;

1.85
date	2016.01.22.06.54.56;	author ajacoutot;	state Exp;
branches;
next	1.84;
commitid	59qIsSUa60w3Kk1l;

1.84
date	2016.01.19.06.54.59;	author ajacoutot;	state Exp;
branches;
next	1.83;
commitid	8nQV0rrxYcfkD1fT;

1.83
date	2016.01.15.07.07.00;	author ajacoutot;	state Exp;
branches;
next	1.82;
commitid	Tyb33Ss7MkW6MoVN;

1.82
date	2015.12.24.08.24.12;	author jasper;	state Exp;
branches;
next	1.81;
commitid	A3W4YzrqcsNIBFIJ;

1.81
date	2015.12.18.08.42.21;	author ajacoutot;	state Exp;
branches;
next	1.80;
commitid	bNFjth7aK7Jn6RDZ;

1.80
date	2015.12.10.06.58.39;	author ajacoutot;	state Exp;
branches;
next	1.79;
commitid	H222Fy0euGg1ncrB;

1.79
date	2015.12.04.20.36.48;	author landry;	state Exp;
branches;
next	1.78;
commitid	RzwvH052gGmZrKOm;

1.78
date	2015.11.27.06.35.23;	author ajacoutot;	state Exp;
branches;
next	1.77;
commitid	3KhiCI5t0roxDLgO;

1.77
date	2015.10.28.05.58.50;	author ajacoutot;	state Exp;
branches;
next	1.76;
commitid	Gfv7GmHZBFt5TGX8;

1.76
date	2015.09.13.07.25.39;	author ajacoutot;	state Exp;
branches;
next	1.75;
commitid	HFSMtGUiqsG9Vgsr;

1.75
date	2015.09.08.08.07.15;	author ajacoutot;	state Exp;
branches;
next	1.74;
commitid	FpLeORfDafheakb9;

1.74
date	2015.08.26.09.00.55;	author ajacoutot;	state Exp;
branches;
next	1.73;
commitid	VRfYNSMyvL2il5ux;

1.73
date	2015.08.19.07.45.35;	author ajacoutot;	state Exp;
branches;
next	1.72;
commitid	fNBsQM404JPopwid;

1.72
date	2015.07.03.07.41.51;	author ajacoutot;	state Exp;
branches
	1.72.4.1;
next	1.71;
commitid	xHVXvXkVPm3cqSmA;

1.71
date	2015.06.27.11.00.15;	author ajacoutot;	state Exp;
branches;
next	1.70;
commitid	fCPlZvJWJrN20T8M;

1.70
date	2015.06.12.08.09.16;	author ajacoutot;	state Exp;
branches;
next	1.69;
commitid	KZJYNhaHZVVUyarG;

1.69
date	2015.05.28.10.17.24;	author pascal;	state Exp;
branches;
next	1.68;
commitid	020U4lCPk8wUkCOz;

1.68
date	2015.04.14.05.44.41;	author ajacoutot;	state Exp;
branches;
next	1.67;
commitid	iD8ZtWnP0hsom3Sj;

1.67
date	2015.04.04.09.36.37;	author ajacoutot;	state Exp;
branches;
next	1.66;
commitid	Dga8Cwfbantp8VkD;

1.66
date	2015.04.04.09.21.03;	author ajacoutot;	state Exp;
branches;
next	1.65;
commitid	kS3kwKZogsvzYmEY;

1.65
date	2015.03.16.21.45.18;	author landry;	state Exp;
branches;
next	1.64;
commitid	0kO4bBfyFU6lAIz5;

1.64
date	2015.03.15.08.29.53;	author ajacoutot;	state Exp;
branches;
next	1.63;
commitid	dYlNcjFyVAxKKgU3;

1.63
date	2015.03.01.09.59.23;	author ajacoutot;	state Exp;
branches
	1.63.2.1;
next	1.62;
commitid	8ySZ7xxSnRq52Eor;

1.62
date	2015.02.14.08.00.53;	author ajacoutot;	state Exp;
branches;
next	1.61;
commitid	ZZ8drBN9ql40Jbz1;

1.61
date	2015.02.12.08.27.21;	author ajacoutot;	state Exp;
branches;
next	1.60;
commitid	VWz967H743MSSd8Q;

1.60
date	2015.01.15.08.34.44;	author ajacoutot;	state Exp;
branches;
next	1.59;
commitid	U0ruFPcNh0G6z6qZ;

1.59
date	2014.11.28.10.26.51;	author ajacoutot;	state Exp;
branches;
next	1.58;
commitid	ImygJDn4n31xGbz3;

1.58
date	2014.11.02.14.38.38;	author ajacoutot;	state Exp;
branches;
next	1.57;
commitid	dgqfV75rS4k9h8Bn;

1.57
date	2014.10.31.15.38.22;	author dcoppa;	state Exp;
branches;
next	1.56;
commitid	ALmaKkW5RR89egyb;

1.56
date	2014.10.11.08.50.05;	author ajacoutot;	state Exp;
branches;
next	1.55;
commitid	RZJztxk3uGns8AIK;

1.55
date	2014.10.07.07.16.58;	author ajacoutot;	state Exp;
branches;
next	1.54;
commitid	8ZiUeA2ZKbucLhZj;

1.54
date	2014.09.27.08.04.54;	author ajacoutot;	state Exp;
branches;
next	1.53;
commitid	QQ5Z2T6i7nxefPQN;

1.53
date	2014.08.21.07.30.25;	author ajacoutot;	state Exp;
branches;
next	1.52;
commitid	MziWAPMSB4v2eHTR;

1.52
date	2014.08.14.07.47.14;	author ajacoutot;	state Exp;
branches;
next	1.51;
commitid	LTKmERpElAYXOyp3;

1.51
date	2014.08.14.06.52.06;	author ajacoutot;	state Exp;
branches;
next	1.50;
commitid	3fBFHRrMKQ3gZPdG;

1.50
date	2014.07.12.14.56.45;	author ajacoutot;	state Exp;
branches
	1.50.2.1;
next	1.49;
commitid	14MokEYFIEXs6es3;

1.49
date	2014.07.12.13.41.47;	author ajacoutot;	state Exp;
branches;
next	1.48;
commitid	CC2Szyf2ZEuFbbEs;

1.48
date	2014.07.10.13.09.06;	author ajacoutot;	state Exp;
branches;
next	1.47;
commitid	Xpirey71VpT09196;

1.47
date	2014.06.09.07.10.03;	author ajacoutot;	state Exp;
branches;
next	1.46;
commitid	0teEv3WQpBYIjXrk;

1.46
date	2014.04.27.17.07.24;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2014.04.26.06.31.59;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2014.04.21.11.30.57;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2014.04.08.12.11.37;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2014.04.03.06.42.24;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2014.03.30.09.25.12;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2014.03.25.15.24.54;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2014.03.13.18.29.39;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2014.03.10.20.27.25;	author landry;	state Exp;
branches;
next	1.37;

1.37
date	2014.03.09.21.45.36;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2014.02.08.18.01.00;	author ajacoutot;	state Exp;
branches
	1.36.2.1;
next	1.35;

1.35
date	2014.02.08.13.49.21;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2014.01.20.11.01.42;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2013.12.21.08.57.41;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2013.12.12.14.46.53;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2013.11.03.15.47.04;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2013.10.27.08.45.27;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2013.10.27.08.41.40;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2013.10.04.16.32.52;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2013.09.13.16.58.14;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2013.09.05.06.18.56;	author landry;	state Exp;
branches;
next	1.25;

1.25
date	2013.09.03.10.40.56;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2013.08.22.09.15.35;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2013.08.22.08.03.59;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2013.08.15.18.41.21;	author kili;	state Exp;
branches;
next	1.21;

1.21
date	2013.07.12.07.30.50;	author ajacoutot;	state Exp;
branches
	1.21.2.1;
next	1.20;

1.20
date	2013.06.20.06.54.37;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2013.06.17.19.28.37;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2013.06.04.18.41.55;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2013.05.16.09.16.43;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2013.05.13.08.21.44;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2013.04.10.17.17.23;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2013.04.06.21.51.37;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2013.03.23.08.33.31;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2013.03.21.08.46.35;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2013.03.11.11.37.53;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2013.03.10.08.17.53;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2013.02.07.19.13.49;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2013.02.02.08.55.12;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2013.01.05.12.53.09;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2012.12.30.17.46.54;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.12.12.17.35.02;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2012.09.14.15.36.59;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.09.08.07.55.30;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.09.01.18.35.14;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.08.04.14.36.09;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.08.04.14.36.09;	author ajacoutot;	state Exp;
branches;
next	;

1.21.2.1
date	2014.03.17.08.39.13;	author ajacoutot;	state Exp;
branches;
next	;

1.36.2.1
date	2014.03.17.08.52.46;	author ajacoutot;	state Exp;
branches;
next	1.36.2.2;

1.36.2.2
date	2014.04.03.10.10.50;	author ajacoutot;	state Exp;
branches;
next	;

1.50.2.1
date	2015.03.01.10.00.59;	author ajacoutot;	state Exp;
branches;
next	;
commitid	CkCrJdUmZYGKmywx;

1.63.2.1
date	2015.06.27.12.05.50;	author ajacoutot;	state Exp;
branches;
next	1.63.2.2;
commitid	Zg3HLv3IrSux21Fv;

1.63.2.2
date	2015.07.03.07.57.37;	author ajacoutot;	state Exp;
branches;
next	;
commitid	65EuIqDlxlMTiyTw;

1.72.4.1
date	2015.11.27.06.31.54;	author ajacoutot;	state Exp;
branches;
next	1.72.4.2;
commitid	vS2jamrVbNFP5rmh;

1.72.4.2
date	2015.12.18.08.47.46;	author ajacoutot;	state Exp;
branches;
next	;
commitid	VvZxRrvcsSjIHWQp;


desc
@@


1.128
log
@Update to cups-filters-1.17.9.
@
text
@# $OpenBSD: Makefile,v 1.127 2017/09/19 06:04:16 ajacoutot Exp $

BROKEN-alpha=	ICE in cupsfilters/image-jpeg.c:316
BROKEN-hppa=	ICE on filter/pdftopdf/qpdf_pdftopdf.cc:147

COMMENT=	OpenPrinting CUPS filters

DISTNAME=	cups-filters-1.17.9

CATEGORIES=	print

SHARED_LIBS +=  cupsfilters          1.2      # 1.0
SHARED_LIBS +=  fontembed            1.0      # 1.0

HOMEPAGE=	http://www.linuxfoundation.org/collaborate/workgroups/openprinting

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv3 - LGPLv2 - GPLv2+ - MIT
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += avahi-client avahi-common avahi-glib c cups cupsimage
WANTLIB += dbus-1 expat ffi fontconfig freetype gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gmp gnutls gobject-2.0 hogweed iconv idn2
WANTLIB += ijs intl jpeg lcms2 m nettle openjp2 p11-kit pcre
WANTLIB += png poppler pthread pthread-stubs qpdf tasn1 tiff
WANTLIB += unistring z
WANTLIB += ${COMPILER_LIBCXX}

MASTER_SITES=	http://www.openprinting.org/download/cups-filters/

# cc1plus: error: unrecognized command line option "-std=c++0x"
COMPILER =	gcc

.if ${MACHINE_ARCH} == "hppa"
CFLAGS +=	-O0
.endif

# gs cups driver, pdftocairo, mutool
BUILD_DEPENDS=	print/ghostscript/gnu \
		print/poppler,-utils \
		textproc/mupdf
RUN_DEPENDS=	print/ghostscript/gnu \
		print/poppler,-utils \
		textproc/mupdf

LIB_DEPENDS=	print/cups,-libs \
		print/ijs \
		print/poppler \
		print/qpdf>=7.0beta1

# make it easier for users: bring in foomatic-db and allow the
# regeneration of PPD files from share/foomatic/db/source/*/*.xml
RUN_DEPENDS +=	print/foomatic-db-engine

# don't enforce dependency on colord; it'll be used only if found
#RUN_DEPENDS +=	graphics/colord

FAKE_FLAGS=	pkgfontconfigdir=${PREFIX}/share/examples/cups-filters \
		pkgcupsserverrootdir=${PREFIX}/share/examples/cups-filters/cups

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	CPPFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include" \
		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib"

CONFIGURE_ARGS=	--with-gs-path=${LOCALBASE}/bin/gs \
		--with-test-font-path=${X11BASE}/lib/X11/fonts/TTF/DejaVuSans.ttf \
		--with-shell=/bin/ksh \
		--without-php \
		--disable-braille

# http://bzr.linuxfoundation.org/loggerhead/openprinting/cups-filters/revision/7554
CONFIGURE_ENV +=ac_cv_prog_CUPS_PDFTOPS=${LOCALBASE}/bin/pdftops

FLAVORS=	ldap
FLAVOR?=

.if ${FLAVOR:Mldap}
WANTLIB += crypto lber-2.4 ldap-2.4 sasl2 ssl
LIB_DEPENDS +=		databases/openldap
.else
CONFIGURE_ARGS +=	--disable-ldap
.endif

pre-configure:
	sed -i -e 's,/usr/share/cups,${LOCALBASE}/share/cups,g;' \
		-e 's,/usr/bin,${LOCALBASE}/bin,g' \
		${WRKSRC}/filter/{gstoraster.c,gstopxl}
	sed -i 's,/etc/cups,${SYSCONFDIR}/cups,g' \
		${WRKSRC}/filter/foomatic-rip/spooler.c
	sed -i 's,/usr/local,${LOCALBASE},g' \
		${WRKSRC}/filter/foomatic-rip/foomaticrip.c

post-install:
	rm -rf ${WRKINST}/rc?.d
# handle old filters looking for these
	cd ${PREFIX}/libexec/cups/filter && ln -s gstopxl pstopxl
	cd ${PREFIX}/libexec/cups/filter && ln -s gstoraster pstoraster

.include <bsd.port.mk>
@


1.127
log
@Update to cups-filters-1.17.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2017/09/16 06:52:01 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.17.7
@


1.126
log
@Update to cups-filters-1.17.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2017/09/14 14:54:30 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.17.6
@


1.125
log
@Update to cups-filters-1.17.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2017/09/11 04:44:32 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.17.5
@


1.124
log
@Update to cups-filters-1.17.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2017/09/08 07:42:35 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.17.4
@


1.123
log
@Update to cups-filters-1.17.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2017/08/26 10:08:16 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.17.3
@


1.122
log
@Update to cups-filters-1.17.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2017/08/24 07:21:35 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.17.2
@


1.121
log
@Fix broken synmlinks.

reported by semarie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2017/08/23 07:41:02 ajacoutot Exp $
d8 1
a8 2
DISTNAME=	cups-filters-1.17.0
REVISION=	0
@


1.120
log
@Update to cups-filters-1.17.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2017/08/22 08:23:52 ajacoutot Exp $
d9 2
@


1.119
log
@Update to cups-filters-1.16.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2017/08/19 11:48:51 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.16.3
d11 1
a11 1
SHARED_LIBS +=  cupsfilters          1.1      # 1.0
d49 1
a49 1
		print/qpdf
@


1.118
log
@Update to cups-filters-1.16.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2017/08/17 12:42:36 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.16.2
d12 1
a12 1
SHARED_LIBS +=  fontembed            0.0      # 2.0
@


1.117
log
@Update to cups-filters-1.16.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2017/07/28 07:48:56 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.16.1
d12 1
a12 1
SHARED_LIBS +=  fontembed            0.0      # 1.0
@


1.116
log
@Update to cups-filters-1.16.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2017/07/25 12:56:33 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.16.0
@


1.115
log
@add COMPILER_LIBCXX to WANTLIB and bump
@
text
@d8 1
a8 1
DISTNAME=	cups-filters-1.15.0
a9 1
REVISION=	0
@


1.114
log
@Update to cups-filters-1.15.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2017/07/01 11:25:03 ajacoutot Exp $
d10 1
d28 1
@


1.113
log
@Update to cups-filters-1.14.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2017/05/31 08:08:17 espie Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.14.1
@


1.112
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2017/05/27 19:57:06 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.14.0
a9 1
REVISION=	1
@


1.111
log
@Bring rc_bg back.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2017/05/27 13:55:58 ajacoutot Exp $
d32 1
a32 1
WANT_CXX = base gcc
@


1.110
log
@I forgot the bump commit...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2017/05/16 08:00:54 ajacoutot Exp $
d10 1
a10 1
REVISION=	0
@


1.109
log
@Update to cups-filters-1.14.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2017/05/13 09:49:50 espie Exp $
d10 1
@


1.108
log
@first batch of WANT_CXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2017/04/28 08:13:07 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.13.5
@


1.107
log
@Update to cups-filters-1.13.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2017/02/18 17:33:51 ajacoutot Exp $
d31 1
a31 3
MODULES +=	gcc4
MODGCC4_ARCHS=	*
MODGCC4_LANGS=	c++
@


1.106
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2017/02/18 17:32:37 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.13.4
a9 1
REVISION=	0
@


1.105
log
@idn -> idn2 after gnutls WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2017/02/18 12:04:57 ajacoutot Exp $
d10 1
@


1.104
log
@Update to cups-filters-1.13.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2017/01/19 04:28:47 ajacoutot Exp $
d23 1
a23 1
WANTLIB += gmodule-2.0 gmp gnutls gobject-2.0 hogweed iconv idn
@


1.103
log
@Update to cups-filters-1.13.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2016/12/29 09:59:15 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.13.3
@


1.102
log
@Update to cups-filters-1.13.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2016/12/18 09:36:04 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.13.2
d25 2
a26 1
WANTLIB += png poppler pthread pthread-stubs qpdf tasn1 tiff z
@


1.101
log
@Update to cups-filters-1.13.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2016/12/17 16:15:35 zhuk Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.13.1
@


1.100
log
@Unbreak after poppler switch from openjpeg to openjp2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2016/12/10 07:34:44 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.13.0
a9 1
REVISION=	0
@


1.99
log
@Update to cups-filters-1.13.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2016/11/28 10:14:23 ajacoutot Exp $
d10 1
d25 1
a25 1
WANTLIB += ijs intl jpeg lcms2 m nettle openjpeg p11-kit pcre
@


1.98
log
@Update to cups-filters-1.12.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2016/11/01 07:31:31 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.12.0
@


1.97
log
@Update to cups-filters-1.11.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2016/10/29 15:35:27 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.11.6
d11 1
a11 1
SHARED_LIBS +=  cupsfilters          1.0      # 1.0
@


1.96
log
@Update to cups-filters-1.11.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2016/09/27 08:00:03 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.11.5
d70 3
@


1.95
log
@Update to cups-filters-1.11.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2016/09/16 08:41:43 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.11.4
d38 7
a44 1
BUILD_DEPENDS=	print/ghostscript/gnu
a54 3
# ghostscript cups driver
RUN_DEPENDS +=	print/ghostscript/gnu

a69 5

# prefer pdftops over gs -- see README under ${WRKSRC}
CONFIGURE_ARGS +=	--with-pdftops=pdftops
BUILD_DEPENDS +=	print/poppler,-utils
RUN_DEPENDS +=		print/poppler,-utils
@


1.94
log
@Update to cups-filters-1.11.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2016/08/29 07:31:31 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.11.3
@


1.93
log
@Update to cups-filters-1.11.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2016/08/21 12:58:59 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.11.2
@


1.92
log
@Update to cups-filters-1.11.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2016/07/30 14:18:35 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.11.1
@


1.91
log
@Update to cups-filters-1.10.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2016/07/09 15:39:45 kili Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.10.0
@


1.90
log
@Sync WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2016/06/11 10:06:23 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.9.0
a10 2
REVISION=	0

d23 3
a25 4
WANTLIB += gmodule-2.0 gmp gnutls gobject-2.0 hogweed idn ijs
WANTLIB += jpeg lcms2 m nettle openjpeg p11-kit pcre
WANTLIB += png poppler pthread pthread-stubs qpdf
WANTLIB += tasn1 tiff z
a39 1
MODULES +=	devel/gettext
a90 1
	sed -i 's,/bin/bash,/bin/ksh,g' ${WRKSRC}/filter/textonly
@


1.89
log
@Update to cups-filters-1.9.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2016/03/24 07:30:01 ajacoutot Exp $
d11 2
d26 3
a28 3
WANTLIB += jpeg lcms2 m nettle nspr4 nss3 openjpeg p11-kit pcre
WANTLIB += plc4 plds4 png poppler pthread pthread-stubs qpdf smime3
WANTLIB += softokn3 ssl3 tasn1 tiff z
@


1.88
log
@Update to cups-filters-1.8.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2016/03/11 20:28:30 naddy Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.8.3
d23 4
a26 3
WANTLIB += gmodule-2.0 gmp gnutls gobject-2.0 hogweed ijs jpeg
WANTLIB += lcms2 m nettle openjpeg p11-kit pcre png poppler pthread
WANTLIB += pthread-stubs qpdf tasn1 tiff z idn
@


1.87
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2016/02/25 03:49:41 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.8.2
d25 1
a25 1
WANTLIB += pthread-stubs qpdf tasn1 tiff z
@


1.86
log
@Update to cups-filters-1.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2016/01/22 06:54:56 ajacoutot Exp $
d63 1
a63 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-gs-path=${LOCALBASE}/bin/gs \
@


1.85
log
@Update to cups-filters-1.8.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2016/01/19 06:54:59 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.8.1
@


1.84
log
@Update to cups-filters-1.7.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2016/01/15 07:07:00 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.7.0
@


1.83
log
@Update to cups-filters-1.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2015/12/24 08:24:12 jasper Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.6.0
@


1.82
log
@don't pickup liblouis if it happened to be installed

spotted by nigel@@
ok aja@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2015/12/18 08:42:21 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.5.0
@


1.81
log
@SECURITY update to cups-filters-1.5.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2015/12/10 06:58:39 ajacoutot Exp $
d67 2
a68 1
		--without-php
@


1.80
log
@Update to cups-filters-1.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2015/12/04 20:36:48 landry Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.3.0
@


1.79
log
@BROKEN-hppa=   ICE on filter/pdftopdf/qpdf_pdftopdf.cc:147
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2015/11/27 06:35:23 ajacoutot Exp $
d8 1
a8 1
DISTNAME=	cups-filters-1.2.0
@


1.78
log
@SECURITY update to cups-filters-1.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2015/10/28 05:58:50 ajacoutot Exp $
d4 1
@


1.77
log
@Update to cups-filters-1.1.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2015/09/13 07:25:39 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.1.0
@


1.76
log
@Update to cups-filters-1.0.76.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2015/09/08 08:07:15 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.76
@


1.75
log
@Update to cups-filters-1.0.75.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2015/08/26 09:00:55 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.75
a53 2

USE_GMAKE=	Yes
@


1.74
log
@Update to cups-filters-1.0.74.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2015/08/19 07:45:35 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.74
@


1.73
log
@Update to cups-filters-1.0.73.
Add "ldap" FLAVOR for for browsing remote printer queues via LDAP.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2015/07/03 07:41:51 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.73
@


1.72
log
@SECURITY update to cups-filters-1.0.71.
- texttopdf: Upper-bounds checking (CVE-2015-3259).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2015/06/27 11:00:15 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.71
d75 10
d86 1
a86 1
	perl -pi -e 's,/usr/share/cups,${LOCALBASE}/share/cups,g;' \
d89 1
a89 1
	perl -pi -e 's,/etc/cups,${SYSCONFDIR}/cups,g' \
d91 1
a91 1
	perl -pi -e 's,/usr/local,${LOCALBASE},g' \
d93 1
a93 1
	perl -pi -e 's,/bin/bash,/bin/ksh,g' ${WRKSRC}/filter/textonly
@


1.72.4.1
log
@Fix for CVE-2015-8327: consider the back tick as an illegal shell escape
character.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2015/07/03 07:41:51 ajacoutot Exp $
a8 1
REVISION=	0
@


1.72.4.2
log
@SECURITY FIX: Also consider the semicolon (';') as an illegal shell escape character.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72.4.1 2015/11/27 06:31:54 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.71
log
@SECURITY update to cups-filters-1.0.70.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2015/06/12 08:09:16 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.70
@


1.70
log
@Update to cups-filters-1.0.69.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2015/05/28 10:17:24 pascal Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.69
d65 1
d67 1
a67 1
		--with-gs-path=${LOCALBASE}/bin/gs \
@


1.69
log
@gcc4 bumps, reminded by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2015/04/14 05:44:41 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.68
a8 1
REVISION=	0
@


1.68
log
@Update to cups-filters-1.0.68.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2015/04/04 09:36:37 ajacoutot Exp $
d9 1
@


1.67
log
@dbus_daemon -> messagebus
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2015/04/04 09:21:03 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.67
a8 1
REVISION=	1
@


1.66
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2015/03/16 21:45:18 landry Exp $
d9 1
a9 1
REVISION=	0
@


1.65
log
@Use -O0 on hppa, otherwise gcc 4.8 does an ICE on
"internal compiler error: in expand_expr_addr_expr_1, at expr.c:7656"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2015/03/15 08:29:53 ajacoutot Exp $
d9 1
@


1.64
log
@Update to cups-filters-1.0.67.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2015/03/01 09:59:23 ajacoutot Exp $
d32 4
@


1.63
log
@SECURITY update to cups-filters-1.0.66.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2015/02/14 08:00:53 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.66
@


1.63.2.1
log
@texttopdf: Fixed buffer overflow on size allocation of texttopdf
when working with extremely small line sizes, which causes the size
calculation to result in 0 (CVE-2015-3258, thanks to Stefan
Cornelius from Red Hat for the patch).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2015/03/01 09:59:23 ajacoutot Exp $
a8 1
REVISION=	0
@


1.63.2.2
log
@Fix for texttopdf, upper-bounds checking (CVE-2015-3259).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63.2.1 2015/06/27 12:05:50 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.62
log
@Update to cups-filters-1.0.65.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2015/02/12 08:27:21 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.65
@


1.61
log
@Update to cups-filters-1.0.63.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2015/01/15 08:34:44 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.63
d21 4
a24 3
WANTLIB += dbus-1 expat ffi fontconfig freetype glib-2.0 gmp gnutls
WANTLIB += hogweed ijs jpeg lcms2 m nettle openjpeg p11-kit pcre
WANTLIB += png poppler pthread pthread-stubs qpdf tasn1 tiff z
@


1.60
log
@Update to cups-filters-1.0.62.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/11/28 10:26:51 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.62
a83 3
# put in default PATH for direct printing
	ln -sf ${TRUEPREFIX}/libexec/cups/filter/foomatic-rip \
		${PREFIX}/bin/foomatic-rip
@


1.59
log
@bash -> ksh
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/11/02 14:38:38 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.61
a8 1
REVISION=	2
d20 4
a23 4
WANTLIB += avahi-client avahi-common avahi-glib c crypto cups
WANTLIB += cupsimage dbus-1 expat fontconfig freetype glib-2.0
WANTLIB += ijs jpeg lcms2 m openjpeg pcre png poppler pthread
WANTLIB += pthread-stubs qpdf ssl tiff z
@


1.58
log
@dbus_daemon needed in pkg_scripts.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2014/10/31 15:38:22 dcoppa Exp $
d9 1
a9 1
REVISION=	1
d78 1
@


1.57
log
@
Remove the last vestiges of acroread

spotted by naddy@@
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2014/10/11 08:50:05 ajacoutot Exp $
a7 1
REVISION=	0
d9 1
@


1.56
log
@Update to cups-filters-1.0.61.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/10/07 07:16:58 ajacoutot Exp $
d8 1
a61 1
		--with-acroread-path=${LOCALBASE}/bin/acroread \
@


1.55
log
@Update to cups-filters-1.0.60.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/09/27 08:04:54 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.60
@


1.54
log
@Update to cups-filters-1.0.59.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/08/21 07:30:25 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.59
@


1.53
log
@Update to cups-filters-1.0.58.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2014/08/14 07:47:14 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.58
@


1.52
log
@Update to cups-filters-1.0.57.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2014/08/14 06:52:06 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.57
@


1.51
log
@Update to cups-filters-1.0.55.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2014/07/12 14:56:45 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.55
@


1.50
log
@Tweak.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2014/07/12 13:41:47 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.54
a8 1
REVISION=	2
@


1.50.2.1
log
@Merge uptream SECURITY FIX in remove_bad_chars() (Bug #1265).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2014/07/12 14:56:45 ajacoutot Exp $
d9 1
a9 1
REVISION=	3
@


1.49
log
@pkg_scripts is not a variable anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2014/07/10 13:09:06 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.48
log
@rc.conf.local is in man(1) section 8, at least for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2014/06/09 07:10:03 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
@


1.47
log
@Update to cups-filters-1.0.54.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2014/04/27 17:07:24 ajacoutot Exp $
d9 1
@


1.46
log
@${SYSCONFDIR}/fonts/conf.d -> /etc/fonts/conf.d since this directory is
part of xenocara, not ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2014/04/26 06:31:59 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.53
a8 1
REVISION=	0
@


1.45
log
@SECURITY update to cups-filters-1.0.53.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2014/04/21 11:30:57 ajacoutot Exp $
d9 1
@


1.44
log
@Sync wantlib after kerberos update from cups.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2014/04/08 12:11:37 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.52
a8 1
REVISION=	0
@


1.43
log
@Update to cups-filters-1.0.52.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2014/04/03 06:42:24 ajacoutot Exp $
d9 1
d21 4
a24 5
WANTLIB += asn1 avahi-client avahi-common avahi-glib c com_err
WANTLIB += crypto cups cupsimage dbus-1 expat fontconfig freetype
WANTLIB += glib-2.0 gssapi heimbase ijs jpeg krb5 lcms2 m openjpeg
WANTLIB += pcre png poppler pthread pthread-stubs qpdf roken ssl
WANTLIB += tiff wind z
@


1.42
log
@SECURITY update to cups-filters-1.0.51.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2014/03/30 09:25:12 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.51
@


1.41
log
@Update to cups-filters-1.0.50.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2014/03/25 15:24:54 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.50
@


1.40
log
@Update to cups-filters-1.0.49.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2014/03/13 18:29:39 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.49
@


1.39
log
@SECURITY update to cups-filters-1.0.48.
CVE-2013-6474, CVE-2013-6475, CVE-2013-6473
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2014/03/10 20:27:25 landry Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.48
@


1.38
log
@Bump ports using gcc4 module.
(not: mozilla ports not bumped since they're going to be updated in a few)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2014/03/09 21:45:36 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.46
a8 1
REVISION=	0
@


1.37
log
@Update cups-filters-1.0.46.
Rework documentation.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2014/02/08 18:01:00 ajacoutot Exp $
d9 1
@


1.36
log
@remote printer -> network printer -- to unconfuse things.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2014/02/08 13:49:21 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.44
a8 1
REVISION=	1
@


1.36.2.1
log
@SECURITY FIX for CVE-2013-6474, CVE-2013-6475, and CVE-2013-6476.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2014/02/08 18:01:00 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
@


1.36.2.2
log
@SECURITY FIX to prevent arbitrary code injection.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36.2.1 2014/03/17 08:52:46 ajacoutot Exp $
d9 1
a9 1
REVISION=	3
@


1.35
log
@Better, faster, stronger (tm) steps to setup a local printer with lpd(8).
Mostly from stsp@@ (testing included).

I can't test a networked printer setup, Miod only has a serial banknote
plate available...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2014/01/20 11:01:42 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
@


1.34
log
@Update to cups-filters-1.0.44.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/12/21 08:57:41 ajacoutot Exp $
d9 1
@


1.33
log
@Update to cups-filters-1.0.43.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/12/12 14:46:53 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.43
@


1.32
log
@Major update to cups-filters-1.0.42.
- cups-filters is now the new upstream for foomatic-rip(1)
- create a readme to explain how to use lpd(8) with this since support
for all the non-CUPS printing environments has been discontinued.

Only slighly tested but putting it now to ease^force testing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/11/03 15:47:04 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.42
d10 2
a11 2
SHARED_LIBS +=  cupsfilters               0.0 # 1.0
SHARED_LIBS +=  fontembed                 0.0 # 1.0
@


1.31
log
@Update to cups-filters-1.0.41.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/10/27 08:45:27 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.41
d41 2
a42 2
# make it easier for users: bring in foomatic-filters, ghostscript and
# allow the regeneration of PPD files from share/foomatic/db/source/*/*.xml
d45 6
a60 1
		--with-browseremoteprotocols=DNSSD,CUPS \
d69 1
a69 1
RUN_DEPENDS +=		print/poppler,-utils #print/ghostscript/gnu
d75 4
d82 1
d85 3
@


1.30
log
@grrr @@ make plist
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/10/27 08:41:40 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.40
a8 1
REVISION=	0
@


1.29
log
@Update to cups-filters-1.0.40.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/10/04 16:32:52 ajacoutot Exp $
d9 1
@


1.28
log
@Update to cups-filters-1.0.39.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/09/13 16:58:14 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.39
@


1.27
log
@Update to cups-filters-1.0.38.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/09/05 06:18:56 landry Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.38
@


1.26
log
@Mark as BROKEN-alpha, fully reproducible ICE with gcc 4.6.

cupsfilters/image-jpeg.c: In function '_cupsImageReadJPEG':
cupsfilters/image-jpeg.c:316:1: internal compiler error: Segmentation fault

an alpha / gcc wizard is needed...
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.25 2013/09/03 10:40:56 ajacoutot Exp $
a5 1
BROKEN-alpha=	ICE in cupsfilters/image-jpeg.c:316
d7 1
a7 1
DISTNAME=	cups-filters-1.0.37
@


1.25
log
@Update to cups-filters-1.0.37.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/08/22 09:15:35 ajacoutot Exp $
d4 1
@


1.24
log
@Fix hardcoded path to gs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/08/22 08:03:59 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	cups-filters-1.0.36
a6 1
REVISION=	0
@


1.23
log
@Update to cups-filters-1.0.36.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/08/15 18:41:21 kili Exp $
d7 1
d66 2
a67 1
	perl -pi -e 's,/usr/share/cups,${LOCALBASE}/share/cups,g' \
@


1.22
log
@Fix build with poppler-0.24.

ok ajacoutot@@ (maintainer)
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.21 2013/07/12 07:30:50 ajacoutot Exp $

# XXX remove @@exec-update when we branch 5.4-current
d5 1
a5 2
DISTNAME=	cups-filters-1.0.35
REVISION=	0
d39 2
a40 3
# make it easier for users: bring in foomatic-filters, ghostscript
# (with gstoraster) and allow the regeneration of PPD files from
# share/foomatic/db/source/*/*.xml
a44 2
MAKE_FLAGS=	DLOPEN_LIBS=""

d62 5
a66 1
RUN_DEPENDS +=		print/poppler,-utils # print/ghostscript/gnu
d70 2
@


1.21
log
@Update to cups-filters-1.0.35.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/06/20 06:54:37 ajacoutot Exp $
d8 1
@


1.21.2.1
log
@SECURITY FIX for CVE-2013-6474, CVE-2013-6475, and CVE-2013-6476.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/07/12 07:30:50 ajacoutot Exp $
a8 1
REVISION=	0
@


1.20
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/06/17 19:28:37 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	cups-filters-1.0.34
REVISION=	2
d20 5
a24 5
WANTLIB += asn1 avahi-client avahi-common avahi-glib c crypto
WANTLIB += cups cupsimage dbus-1 expat fontconfig freetype glib-2.0
WANTLIB += gssapi ijs jpeg krb5 lcms2 m openjpeg pcre
WANTLIB += png poppler pthread qpdf ssl stdc++ tiff z pthread-stubs
WANTLIB += com_err heimbase roken wind
@


1.19
log
@Some trivial WANTLIB and tweaks to unbreak after the Heimdal update.
Stop hardcoding the Kerberos libs and use krb5-config(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/06/04 18:41:55 naddy Exp $
d8 1
a8 1
REVISION=	1
d25 1
a25 1
WANTLIB += com_err heimbase heimntlm hx509 roken wind
@


1.18
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/05/16 09:16:43 sthen Exp $
d8 1
a8 1
REVISION=	0
d25 1
@


1.17
log
@use gettext/libiconv MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/05/13 08:21:44 ajacoutot Exp $
d54 1
a54 3
CONFIGURE_ENV=	CPPFLAGS="-I${X11BASE}/include \
			-I${LOCALBASE}/include \
			-I${LOCALBASE}/include/libpng" \
@


1.16
log
@Update to cups-filters-1.0.34.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/04/10 17:17:23 ajacoutot Exp $
d8 1
d23 1
a23 1
WANTLIB += gssapi iconv ijs intl jpeg krb5 lcms2 m openjpeg pcre
d35 1
@


1.15
log
@Forgot to sync the patch in previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/04/06 21:51:37 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.33
a8 1
REVISION=	0
@


1.14
log
@Update to cups-filters-1.0.33.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/03/23 08:33:31 ajacoutot Exp $
d9 1
@


1.13
log
@Update to cups-filters-1.0.31.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/03/21 08:46:35 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.31
@


1.12
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/03/11 11:37:53 espie Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.30
d23 1
a23 1
WANTLIB += png poppler pthread qpdf ssl stdc++ tiff z
@


1.11
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/03/10 08:17:53 ajacoutot Exp $
a44 1
USE_LIBTOOL=	Yes
@


1.10
log
@Update to cups-filters-1.0.30.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/02/07 19:13:49 ajacoutot Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.9
log
@MODGCC4_VERSION default to 4.6 now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/02/02 08:55:12 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.29
d23 4
a26 4
WANTLIB += asn1 avahi-client avahi-common c crypto cups cupsimage
WANTLIB += dbus-1 expat fontconfig freetype gssapi iconv ijs intl
WANTLIB += jpeg krb5 lcms2 m openjpeg pcre png poppler pthread
WANTLIB += qpdf ssl stdc++ tiff z
d52 2
a53 1
FAKE_FLAGS=	pkgfontconfigdir=${PREFIX}/share/examples/cups-filters
d62 1
@


1.8
log
@Update to cups-filters-1.0.29.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/01/05 12:53:09 ajacoutot Exp $
a33 1
MODGCC4_VERSION=4.6
@


1.7
log
@Adapt dependencies after recent print/cups change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/12/30 17:46:54 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.28
a8 1
REVISION=	0
d50 2
@


1.6
log
@Update to cups-filters-1.0.28.
-> adds a cups-browsed daemon that allows browsing for dns-sd/bonjour/avahi
shared printers and creating queues automatically.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/12/12 17:35:02 ajacoutot Exp $
d9 1
d39 1
a39 2
LIB_DEPENDS=	net/avahi \
		print/cups,-libs \
@


1.5
log
@Update to cups-filters-1.0.25.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/09/14 15:36:59 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.25
d23 4
a26 3
WANTLIB += asn1 c crypto cups cupsimage expat fontconfig freetype
WANTLIB += gssapi ijs jpeg krb5 lcms2 m openjpeg png poppler pthread
WANTLIB += ssl stdc++ tiff z pcre qpdf
d38 2
a39 1
LIB_DEPENDS=	print/cups,-libs \
d42 1
a42 1
		print/qpdf>=3.0.2
d70 3
@


1.4
log
@Fix RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/09/08 07:55:30 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.24
a8 1
REVISION=	0
d60 2
@


1.3
log
@Bugfix update to cups-filters-1.0.24.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/09/01 18:35:14 ajacoutot Exp $
d9 1
d46 1
a46 1
RUN_DEPENDS-main +=	print/foomatic-db-engine
@


1.2
log
@Update to cups-filters-1.0.23.

with help from espie@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/08/04 14:36:09 ajacoutot Exp $
d7 1
a7 1
DISTNAME=	cups-filters-1.0.23
d40 1
a40 1
		print/qpdf
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	cups-filters-1.0.20
d15 1
a15 1
# GPLv3 - LGPLv2 - GPLv2 - MIT
d23 1
a23 1
WANTLIB += ssl stdc++ tiff z
d27 6
d37 2
a38 3
		print/poppler

RUN_DEPENDS=	print/ghostscript/gnu
d59 5
@


1.1.1.1
log
@Import cups-filters-1.0.20

This package provides additional CUPS filters which are not provided by
the CUPS project itself. This includes filters for a PDF based printing
workflow.

ok jasper@@
@
text
@@
