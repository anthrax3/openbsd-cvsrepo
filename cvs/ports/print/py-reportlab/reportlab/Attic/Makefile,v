head	1.29;
access;
symbols
	OPENBSD_5_8:1.25.0.4
	OPENBSD_5_8_BASE:1.25
	OPENBSD_5_7:1.24.0.2
	OPENBSD_5_7_BASE:1.24
	OPENBSD_5_6:1.23.0.2
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.22.0.2
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.21.0.2
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.19.0.6
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.19.0.4
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.2
	OPENBSD_5_0:1.17.0.2
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.12.0.4
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.11.0.2
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.10.0.2
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.9.0.4
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.6.0.6
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.6.0.4
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.5.0.2
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.4.0.4
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.2.0.2
	OPENBSD_3_6_BASE:1.2
	xsa_2004-Jul-27:1.1.1.1
	xsa:1.1.1;
locks; strict;
comment	@# @;


1.29
date	2016.01.05.13.21.49;	author ajacoutot;	state dead;
branches;
next	1.28;
commitid	6Aq8FbmuAnxCBKFF;

1.28
date	2016.01.05.13.19.36;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	9Tzf4yGgFU1finfA;

1.27
date	2015.12.19.20.47.03;	author bentley;	state Exp;
branches;
next	1.26;
commitid	gdkdBRphkFrjwqDh;

1.26
date	2015.08.19.20.13.59;	author sthen;	state Exp;
branches;
next	1.25;
commitid	Y50hccQnsBBO4pGq;

1.25
date	2015.03.26.12.14.15;	author sthen;	state Exp;
branches;
next	1.24;
commitid	qYDTmzXxLoW0kaEv;

1.24
date	2014.08.14.07.06.00;	author ajacoutot;	state Exp;
branches;
next	1.23;
commitid	Ox5isqCVDwHCpoCU;

1.23
date	2014.04.06.21.10.30;	author sthen;	state Exp;
branches;
next	1.22;

1.22
date	2013.10.01.09.07.19;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.11.23.04.32;	author fgsch;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.11.11.37.54;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2011.12.20.18.59.42;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2011.09.16.11.13.41;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2011.06.13.15.09.57;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2011.06.08.17.37.37;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2011.04.02.16.56.42;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.20.09.48.40;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.08.30.18.29.28;	author fgsch;	state Exp;
branches;
next	1.12;

1.12
date	2009.10.11.17.51.30;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2009.03.16.22.20.02;	author kili;	state Exp;
branches;
next	1.10;

1.10
date	2009.01.04.16.54.09;	author kili;	state Exp;
branches;
next	1.9;

1.9
date	2007.11.05.09.44.19;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2007.10.08.08.22.42;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2007.09.15.21.36.45;	author merdely;	state Exp;
branches;
next	1.6;

1.6
date	2006.06.03.09.41.20;	author alek;	state Exp;
branches;
next	1.5;

1.5
date	2005.11.20.13.37.48;	author alek;	state Exp;
branches;
next	1.4;

1.4
date	2004.11.02.21.10.04;	author alek;	state Exp;
branches;
next	1.3;

1.3
date	2004.09.15.18.32.15;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2004.08.03.21.31.07;	author xsa;	state Exp;
branches;
next	1.1;

1.1
date	2004.07.27.08.55.21;	author xsa;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.07.27.08.55.21;	author xsa;	state Exp;
branches;
next	;


desc
@@


1.29
log
@Flatten.
@
text
@# $OpenBSD: Makefile,v 1.28 2016/01/05 13:19:36 ajacoutot Exp $

COMMENT=		PDF-generating toolkit for Python

MODPY_EGG_VERSION=	3.2.0
DISTNAME=		reportlab-${MODPY_EGG_VERSION}
PKGNAME=		py-${DISTNAME}
EPOCH=			0

# see patches/patch-setup_py
# grep 'archive =' reportlab-3.2.0/setup.py
PFBFER=			pfbfer-20070710.zip
SUBST_VARS=		FULLDISTDIR PFBFER WRKINST MODPY_SITEPKG
EXTRACT_ONLY=		${DISTNAME}${EXTRACT_SUFX}
DISTFILES=		${DISTNAME}${EXTRACT_SUFX} \
			${PFBFER}

CATEGORIES=		print graphics

HOMEPAGE=		http://www.reportlab.com

# BSD, LGPLv2, MPL1.0, MIT
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ${MODPY_WANTLIB} art_lgpl_2 freetype pthread

MASTER_SITES0=		http://www.reportlab.com/ftp/

MODULES=		lang/python

MODPY_PI=		Yes
MODPY_PI_DIR=		r/reportlab
MODPY_SETUPTOOLS=	Yes

LIB_DEPENDS=		graphics/libart

RUN_DEPENDS=		graphics/py-Pillow${MODPY_FLAVOR}
TEST_DEPENDS=		${RUN_DEPENDS}

# requires network access
TEST_IS_INTERACTIVE=	Yes

FLAVORS=		python3
FLAVOR?=

pre-configure:
	${SUBST_CMD} ${WRKSRC}/setup.py \
		${WRKSRC}/docs/genAll.py \
		${WRKSRC}/docs/userguide/genuserguide.py

post-install:
	cd ${WRKSRC}/docs && ${MODPY_BIN} genAll.py
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/py-reportlab
	${INSTALL_DATA} ${WRKBUILD}/docs/reportlab-userguide.pdf \
		${PREFIX}/share/doc/py-reportlab

do-test: fake
	cd ${WRKSRC}/tests && \
		${MAKE_ENV} PYTHONPATH=${WRKDIST}:${WRKINST}${MODPY_SITEPKG} \
		${MODPY_BIN} ./runAll.py

.include <bsd.port.mk>
@


1.28
log
@Update to py-reportlab-3.2.0.
- remove plugins/renderPM, it's now part of reportlab
- add a python3 FLAVOR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/12/19 20:47:03 bentley Exp $
@


1.27
log
@Update maintainer email.

ok Aleksander Piotrowski (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/08/19 20:13:59 sthen Exp $
d3 1
a3 1
COMMENT=	PDF-generating toolkit for Python
d5 12
a16 6
VERSION=	2.1
DISTNAME=	ReportLab_${VERSION:S/./_/}
PKGNAME=	py-reportlab-${VERSION}
REVISION =	13
EPOCH=		0
CATEGORIES=	print graphics
d18 1
a18 2
DISTFILES=	${DISTNAME}${EXTRACT_SUFX} \
		rl_accel-0.61-daily-unix${EXTRACT_SUFX}:0
d20 1
a20 3
HOMEPAGE=	http://www.reportlab.org/rl_toolkit.html

MAINTAINER=	Aleksander Piotrowski <pelotasplus@@gmail.com>
d25 9
a33 1
WANTLIB += ${MODPY_WANTLIB} pthread
d35 1
a35 3
MASTER_SITES=	http://www.reportlab.org/ftp/
MASTER_SITES0=	https://distfiles.bsdfrog.org/
EXTRACT_SUFX=	.tgz
d37 2
a38 1
MODULES=	lang/python
d40 2
a41 1
RUN_DEPENDS=	graphics/py-Pillow
d43 2
a44 2
WRKDIST=	${WRKDIR}/reportlab_${VERSION:S/./_/}
WRKSRC=		${WRKDIST}/reportlab
d46 4
a49 2
TEST_DEPENDS=${RUN_DEPENDS} \
		print/py-reportlab/plugins/renderPM 
d51 5
a55 2
post-extract:
	@@mv ${WRKDIR}/rl_accel-*/rl_accel ${WRKSRC}/rl_accel
d58 1
a58 1
	@@cd ${WRKSRC}/test && \
@


1.26
log
@take a break from doing this in alphabetic order and sync WANTLIB in some
python things, with a lovely boost_python${MODPY_MAJOR_VERSION:M3}-mt in there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/03/26 12:14:15 sthen Exp $
d8 1
a8 1
REVISION =	12
d17 1
a17 1
MAINTAINER=	Aleksander Piotrowski <alek@@openbsd.org>
@


1.25
log
@REVISION bumps for py-Pillow RDEP change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/08/14 07:06:00 ajacoutot Exp $
d8 1
a8 1
REVISION =	11
d21 2
@


1.24
log
@Bump after py-Pillow sub-packaging.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/04/06 21:10:30 sthen Exp $
d8 1
a8 1
REVISION =	10
@


1.23
log
@switch py-Imaging to py-Pillow, plus some "s/import Image/from PIL import Image/" patches where necessary
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/10/01 09:07:19 ajacoutot Exp $
d8 1
a8 1
REVISION =	9
@


1.22
log
@distfiles.bsdfrog.org: http -> https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/11 23:04:32 fgsch Exp $
d8 1
a8 1
REVISION =	8
d28 1
a28 1
RUN_DEPENDS=	graphics/py-Imaging
@


1.21
log
@bump after py-Imaging change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/11 11:37:54 espie Exp $
d23 1
a23 1
MASTER_SITES0=	http://distfiles.bsdfrog.org/
@


1.20
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/12/20 18:59:42 jasper Exp $
d8 1
a8 1
REVISION =	7
@


1.19
log
@- bump REVISION after several python modules had their flavor dropped.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/09/16 11:13:41 espie Exp $
a20 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d33 1
a33 1
REGRESS_DEPENDS=${RUN_DEPENDS} \
d39 1
a39 1
do-regress: fake
@


1.18
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/06/13 15:09:57 jasper Exp $
d8 1
a8 1
REVISION =	5
@


1.17
log
@bump epoch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/06/08 17:37:37 jasper Exp $
d8 1
a8 1
REVISION =	4
@


1.16
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/04/02 16:56:42 ajacoutot Exp $
d9 1
@


1.15
log
@Simplify: use my distfiles subdomain.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/11/20 09:48:40 espie Exp $
d8 1
a8 1
REVISION =	3
@


1.14
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/08/30 18:29:28 fgsch Exp $
d25 1
a25 1
MASTER_SITES0=	http://www.bsdfrog.org/OpenBSD/distfiles/
@


1.13
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/10/11 17:51:30 jasper Exp $
d30 1
a30 1
RUN_DEPENDS=	:py-Imaging-*:graphics/py-Imaging
d36 1
a36 1
		::print/py-reportlab/plugins/renderPM 
@


1.12
log
@no point in having a PFRAG.shared for python ports.

aja@@ agrees.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/03/16 22:20:02 kili Exp $
d7 2
a8 1
PKGNAME=	py-reportlab-${VERSION}p2
@


1.11
log
@
Bump for python deps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/01/04 16:54:09 kili Exp $
d7 1
a7 1
PKGNAME=	py-reportlab-${VERSION}p1
@


1.10
log
@
Don't use MODPY_EXPAT_DEPENDS.
Update license marker.

With help from fgsch@@ (thanks!)
ok alek@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/11/05 09:44:19 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	py-reportlab-${VERSION}p0
@


1.9
log
@- update to version 2.1
- add conflict with barcode plugin as it's now included in py-reportlab
- rl_accel now comes in a separate tarball

maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/10/08 08:22:42 steven Exp $
d7 1
a7 1
PKGNAME=	py-reportlab-${VERSION}
d17 1
a17 1
# BSD - LGPL
d29 1
a29 2
RUN_DEPENDS=	:py-Imaging-*:graphics/py-Imaging \
		${MODPY_EXPAT_DEPENDS}
@


1.8
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/09/15 21:36:45 merdely Exp $
d5 1
a5 1
VERSION=	1.19
d7 1
a7 1
PKGNAME=	py-reportlab-${VERSION}p2
d10 3
d17 1
a17 1
# BSD
d24 1
d32 1
a32 1
WRKDIST=	${WRKDIR}/reportlab-${VERSION:S/./_/}
d37 3
@


1.7
log
@Remove surrounding quotes in COMMENT/PERMIT_*/ERRORS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/06/03 09:41:20 alek Exp $
d7 1
a7 1
PKGNAME=	py-reportlab-${VERSION}p1
@


1.6
log
@Bump PKGNAMEs after recent python switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/11/20 13:37:48 alek Exp $
d3 1
a3 1
COMMENT=	"PDF-generating toolkit for Python"
@


1.5
log
@- Fix RUN_DEPENDS
- Bump pkgname
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/11/02 21:10:04 alek Exp $
d7 1
a7 1
PKGNAME=	py-reportlab-${VERSION}p0
@


1.4
log
@- update MAINTAINER email address
- new MASTER_SITES

ok xsa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/09/15 18:32:15 espie Exp $
d7 1
a7 1
PKGNAME=	py-reportlab-${VERSION}
d26 1
a26 1
		${MOD_EXPAT_DEPENDS}
@


1.3
log
@new plists
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/08/03 21:31:07 xsa Exp $
d12 1
a12 1
MAINTAINER=	Aleksander Piotrowski <aleksander.piotrowski@@nic.com.pl>
@


1.2
log
@
MODULES= lang/python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/07/27 08:55:21 xsa Exp $
d26 1
a26 1
		::lang/python/${MODPY_VERSION},-expat 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d23 1
a23 1
MODULES=	python
@


1.1.1.1
log
@
Initial import of py-reportlab-1.19 and plugins.

The ReportLab Toolkit is Open Source PDF library. This library
implements a flexible layout engine named Platypus that builds documents
from components like headlines, paragraphs, fonts, tables, bitmap
images, vector graphics, etc. These flowable elements are placed in a
document "story" following a set of templates for frames, pages and the
entire document itself. In addition to the standard 14 PostScript fonts
there is full support for custom embedded Type-1 as well as for Asian
fonts. The included graphics subpackage provides a set of primitive
shapes as well as reusable widgets building on them. Among the sample
collections is a very useful set of business chart diagrams, including
bar charts, line charts and pie charts.  Different renderers can be used
to create vector graphics (in fact, even full document pages) as
individual components not only in PDF, but also in EPS and in a variety
of bitmap formats including JPEG, PNG, GIF, BMP and PICT.

Submitted and maintained by <Aleksander.Piotrowski at nic.com.pl> 
@
text
@@
