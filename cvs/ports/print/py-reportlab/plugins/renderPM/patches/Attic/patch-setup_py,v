head	1.5;
access;
symbols
	OPENBSD_5_8:1.4.0.20
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.16
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.14
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.12
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.10
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.8
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.6
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.4
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.3.0.20
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.18
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.16
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.14
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.12
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.10
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.8
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.6
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.4
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.2
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.1.1.1.0.6
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.4
	OPENBSD_3_7_BASE:1.1.1.1
	OPENBSD_3_6:1.1.1.1.0.2
	OPENBSD_3_6_BASE:1.1.1.1
	xsa_2004-Jul-27:1.1.1.1
	xsa:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2016.01.05.13.19.36;	author ajacoutot;	state dead;
branches;
next	1.4;
commitid	9Tzf4yGgFU1finfA;

1.4
date	2011.07.20.15.35.04;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2006.07.30.12.38.15;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2005.11.20.14.11.54;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2004.07.27.08.55.23;	author xsa;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.07.27.08.55.23;	author xsa;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to py-reportlab-3.2.0.
- remove plugins/renderPM, it's now part of reportlab
- add a python3 FLAVOR
@
text
@$OpenBSD: patch-setup_py,v 1.4 2011/07/20 15:35:04 naddy Exp $
--- setup.py.orig	Sun Aug 25 02:31:36 2002
+++ setup.py	Wed Jul 20 09:33:26 2011
@@@@ -1,9 +1,9 @@@@
 #!/usr/bin/env python
 import os, sys, string
 def libart_version():
-	K = ('LIBART_MAJOR_VERSION','LIBART_MINOR_VERSION','LIBART_MICRO_VERSION')
-	D = {}
-	for l in open('libart_lgpl/configure.in','r').readlines():
+	K = ('version', 'age','revision')
+	D = {'version': '2'}
+	for l in open('!!LOCALBASE!!/lib/libart_lgpl_2.la','r').readlines():
 		l = string.split(string.strip(l),'=')
 		if len(l)>1 and string.strip(l[0]) in K:
 			D[string.strip(l[0])] = string.strip(l[1])
@@@@ -31,12 +31,12 @@@@ if __name__=='__main__': #NO RUNTESTS
 	LIBART_VERSION = libart_version()
 	SOURCES=['_renderPM.c']
 	DEVEL_DIR=os.curdir
-	LIBART_DIR=pJoin(DEVEL_DIR,'libart_lgpl')
+	LIBART_DIR=pJoin('!!LOCALBASE!!/include/libart-2.0/libart_lgpl')
 	LIBART_SRCS=glob(pJoin(LIBART_DIR, 'art_*.c'))
 	GT1_DIR=pJoin(DEVEL_DIR,'gt1')
 	GLIB_DIR=pJoin(DEVEL_DIR,'glib')
-	if sys.platform in ['darwin', 'win32', 'sunos5', 'freebsd4', 'mac', 'linux2','aix4']:
-		LIBS=[]
+	if sys.platform.startswith('openbsd') or sys.platform in ['darwin', 'win32', 'sunos5', 'freebsd4', 'mac', 'linux2','aix4']:
+		LIBS=['art_lgpl_2']
 	else:
 		raise ValueError, "Don't know about other systems"
 
@@@@ -47,16 +47,8 @@@@ if __name__=='__main__': #NO RUNTESTS
 			author_email = "robin@@reportlab.com",
 			url = "http://www.reportlab.com",
 			packages = [],
-			libraries=[('_renderPM_libart',
+			libraries=[('_renderPM_gt1',
 						{
-						'sources':	LIBART_SRCS,
-						'include_dirs': [DEVEL_DIR,LIBART_DIR,],
-						'macros': [('LIBART_COMPILATION',None),]+BIGENDIAN('WORDS_BIGENDIAN')+ROBIN_DEBUG,
-						#'extra_compile_args':['/Z7'],
-						}
-						),
-						('_renderPM_gt1',
-						{
 						'sources':	pfxJoin(GT1_DIR,'gt1-dict.c','gt1-namecontext.c','gt1-parset1.c','gt1-region.c','parseAFM.c'),
 						'include_dirs': [DEVEL_DIR,GT1_DIR,GLIB_DIR,],
 						'macros': ROBIN_DEBUG,
@@@@ -68,7 +60,7 @@@@ if __name__=='__main__': #NO RUNTESTS
 										SOURCES,
 										include_dirs=[DEVEL_DIR,LIBART_DIR,GT1_DIR],
 										define_macros=[('LIBART_COMPILATION',None)]+ROBIN_DEBUG+[('LIBART_VERSION',LIBART_VERSION)],
-										library_dirs=[],
+										library_dirs=['!!LOCALBASE!!/lib'],
 
 										# libraries to link against
 										libraries=LIBS,
@


1.4
log
@fix build for all OpenBSD versions
@
text
@d1 1
a1 1
$OpenBSD: patch-setup_py,v 1.3 2006/07/30 12:38:15 steven Exp $
@


1.3
log
@unbreak build on OpenBSD 4.
@
text
@d1 3
a3 3
$OpenBSD: patch-setup_py,v 1.2 2005/11/20 14:11:54 alek Exp $
--- setup.py.orig	Sun Aug 25 10:31:36 2002
+++ setup.py	Sun Nov 20 00:58:01 2005
d28 1
a28 1
+	if sys.platform in ['openbsd3', 'openbsd4', 'darwin', 'win32', 'sunos5', 'freebsd4', 'mac', 'linux2','aix4']:
@


1.2
log
@- libart_lgpl_2 should be linked in
- Bump pkgname
@
text
@d1 1
a1 1
$OpenBSD: patch-setup_py,v 1.1.1.1 2004/07/27 08:55:23 xsa Exp $
d28 1
a28 1
+	if sys.platform in ['openbsd3', 'darwin', 'win32', 'sunos5', 'freebsd4', 'mac', 'linux2','aix4']:
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ setup.py	Tue Jul 13 20:01:41 2004
d17 1
a17 1
@@@@ -31,11 +31,11 @@@@ if __name__=='__main__': #NO RUNTESTS
d27 1
d29 1
a29 1
 		LIBS=[]
d32 1
@


1.1.1.1
log
@
Initial import of py-reportlab-1.19 and plugins.

The ReportLab Toolkit is Open Source PDF library. This library
implements a flexible layout engine named Platypus that builds documents
from components like headlines, paragraphs, fonts, tables, bitmap
images, vector graphics, etc. These flowable elements are placed in a
document "story" following a set of templates for frames, pages and the
entire document itself. In addition to the standard 14 PostScript fonts
there is full support for custom embedded Type-1 as well as for Asian
fonts. The included graphics subpackage provides a set of primitive
shapes as well as reusable widgets building on them. Among the sample
collections is a very useful set of business chart diagrams, including
bar charts, line charts and pie charts.  Different renderers can be used
to create vector graphics (in fact, even full document pages) as
individual components not only in PDF, but also in EPS and in a variety
of bitmap formats including JPEG, PNG, GIF, BMP and PICT.

Submitted and maintained by <Aleksander.Piotrowski at nic.com.pl> 
@
text
@@
