head	1.2;
access;
symbols
	OPENBSD_4_6:1.1.0.8
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.6
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.4
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2009.08.03.13.10.09;	author giovanni;	state dead;
branches;
next	1.1;

1.1
date	2007.11.04.15.47.45;	author merdely;	state Exp;
branches;
next	;


desc
@@


1.2
log
@
Update to 20090623 version.
ok and help ajacoutot@@
@
text
@$OpenBSD: patch-oakdecode_c,v 1.1 2007/11/04 15:47:45 merdely Exp $
--- oakdecode.c.orig	Sat Nov  3 17:37:58 2007
+++ oakdecode.c	Sat Nov  3 17:38:50 2007
@@@@ -88,19 +88,6 @@@@ usage(void)
     exit(1);
 }
 
-void
-swap32(void *p)
-{
-    char *cp = (char *) p;
-    char tmp;
-    tmp = cp[0];
-    cp[0] = cp[3];
-    cp[3] = tmp;
-    tmp = cp[1];
-    cp[1] = cp[2];
-    cp[2] = tmp;
-}
-
 #if 0
 BIH-style  from foo2zjs/pbmtojbg...
 
@@@@ -489,9 +476,9 @@@@ decode(FILE *fp)
 		// inside the compressed stream itself????
 		if (*cp == 1)
 		{
-		    swap32(&hdr3c.bih.xd);
-		    swap32(&hdr3c.bih.yd);
-		    swap32(&hdr3c.bih.l0);
+		    swap32(hdr3c.bih.xd);
+		    swap32(hdr3c.bih.yd);
+		    swap32(hdr3c.bih.l0);
 		}
 		if (!SupressImage || !ImageRec[plane])
 		    if (first_bih)
@@@@ -501,9 +488,9 @@@@ decode(FILE *fp)
 		    }
 		if (0 && *cp == 1)
 		{
-		    swap32(&hdr3c.bih.xd);
-		    swap32(&hdr3c.bih.yd);
-		    swap32(&hdr3c.bih.l0);
+		    swap32(hdr3c.bih.xd);
+		    swap32(hdr3c.bih.yd);
+		    swap32(hdr3c.bih.l0);
 		}
 		if (FpRaw[plane][subplane])
 		    fwrite(&hdr3c.bih, 1, 20, FpRaw[plane][subplane]);
@


1.1
log
@Foo2zjs updated to latest version, some printers added,
some fixes to make it work with Ghostscript 8.60.

From Giovanni Bechis (MAINTAINER)
ok ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD$
@

