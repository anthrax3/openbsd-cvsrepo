head	1.64;
access;
symbols
	OPENBSD_6_0:1.64.0.4
	OPENBSD_6_0_BASE:1.64
	OPENBSD_5_9:1.64.0.2
	OPENBSD_5_9_BASE:1.64
	OPENBSD_5_8:1.63.0.4
	OPENBSD_5_8_BASE:1.63
	OPENBSD_5_7:1.61.0.4
	OPENBSD_5_7_BASE:1.61
	OPENBSD_5_6:1.61.0.2
	OPENBSD_5_6_BASE:1.61
	OPENBSD_5_5:1.54.0.2
	OPENBSD_5_5_BASE:1.54
	OPENBSD_5_4:1.46.0.2
	OPENBSD_5_4_BASE:1.46
	OPENBSD_5_3:1.39.0.2
	OPENBSD_5_3_BASE:1.39
	OPENBSD_5_2:1.32.0.2
	OPENBSD_5_2_BASE:1.32
	OPENBSD_5_1_BASE:1.31
	OPENBSD_5_1:1.31.0.2
	OPENBSD_5_0:1.29.0.2
	OPENBSD_5_0_BASE:1.29
	OPENBSD_4_9:1.23.0.2
	OPENBSD_4_9_BASE:1.23
	OPENBSD_4_8:1.16.0.2
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.8.0.2
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.5.0.4
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.3.0.4
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	ajacoutot_20070926:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.64
date	2015.08.21.14.50.24;	author jasper;	state Exp;
branches;
next	1.63;
commitid	WQOQHKnr0MzR3JoY;

1.63
date	2015.07.18.21.38.06;	author ajacoutot;	state Exp;
branches;
next	1.62;
commitid	xs95bNzN4o4R0yHU;

1.62
date	2015.07.07.14.33.34;	author ajacoutot;	state Exp;
branches;
next	1.61;
commitid	ICGMqQ1oNDB5Gm5S;

1.61
date	2014.07.10.09.47.21;	author ajacoutot;	state Exp;
branches;
next	1.60;
commitid	27BKR4vdf449aalf;

1.60
date	2014.05.21.18.11.13;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2014.05.08.04.49.56;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2014.04.19.14.30.01;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2014.04.09.15.20.35;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2014.03.21.15.37.15;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2014.03.09.21.53.29;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2014.01.30.11.37.35;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2014.01.23.16.46.59;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2013.12.27.09.59.48;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2013.12.12.14.50.30;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2013.11.22.08.01.48;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2013.10.01.09.07.16;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2013.08.24.09.17.08;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2013.08.10.18.20.09;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2013.07.12.07.34.45;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2013.05.30.17.56.35;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2013.05.13.08.39.05;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2013.03.11.11.37.53;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2013.03.10.08.36.58;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2013.03.10.08.11.05;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2013.03.02.13.51.30;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2013.02.02.09.05.29;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2013.01.30.11.02.47;	author stsp;	state Exp;
branches;
next	1.37;

1.37
date	2013.01.28.17.16.22;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2012.10.19.09.34.48;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2012.10.12.20.00.38;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2012.08.17.13.54.26;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2012.08.04.14.41.07;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2012.04.11.15.54.35;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2011.12.04.17.43.54;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2011.10.22.23.00.31;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2011.07.09.00.36.10;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2011.06.02.13.41.40;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2011.05.11.07.45.53;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2011.04.15.18.40.47;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2011.04.02.16.56.42;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2011.03.03.13.42.16;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2011.01.02.07.38.52;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.12.09.07.04.48;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.20.09.48.39;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.12.16.06.33;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2010.11.12.07.02.24;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2010.10.18.21.25.08;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.08.22.06.58.14;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2010.08.01.06.54.55;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2010.07.31.10.31.58;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2010.07.31.08.18.56;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2010.07.31.05.20.07;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2010.05.08.09.59.23;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2010.04.07.11.37.55;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2010.03.31.16.01.45;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2010.03.21.10.14.50;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2009.12.10.10.59.00;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2009.10.13.09.54.12;	author giovanni;	state Exp;
branches;
next	1.6;

1.6
date	2009.08.03.13.10.09;	author giovanni;	state Exp;
branches;
next	1.5;

1.5
date	2009.02.18.14.06.45;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2008.09.18.13.37.41;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.02.13.04.40.17;	author merdely;	state Exp;
branches;
next	1.2;

1.2
date	2007.11.04.15.47.45;	author merdely;	state Exp;
branches;
next	1.1;

1.1
date	2007.09.26.06.26.19;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.09.26.06.26.19;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.64
log
@sed -i
@
text
@# $OpenBSD: Makefile,v 1.63 2015/07/18 21:38:06 ajacoutot Exp $

COMMENT=	driver for ZjStream wire protocol compatible printers

VERSION=	20140627
DISTNAME=	foo2zjs-${VERSION}
REVISION=	1

CATEGORIES=	print

HOMEPAGE=	http://foo2zjs.rkkda.com/

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c cups m pthread

# unversioned distfile
# http://foo2zjs.rkkda.com/foo2zjs.tar.gz
MASTER_SITES=	https://distfiles.bsdfrog.org/

USE_GMAKE=	Yes

WRKDIST=	${WRKDIR}/foo2zjs

BUILD_DEPENDS=	print/ghostscript/gnu # ps2pdf

LIB_DEPENDS=	print/cups,-libs

# foomatic-rip(1), foomatic-db(-engine)
RUN_DEPENDS +=	print/cups-filters

MAKE_FLAGS+=	CUPS_SERVERBIN=`cups-config --serverbin`

NO_TEST=	Yes

# remove CVS ID
post-extract:
	sed -i "s,^VERSION=.*,VERSION=\'${VERSION}\'," ${WRKSRC}/getweb.in

post-patch:
	ln -sf ${WRKSRC}/modify-ppd ${WRKDIR}/bin/modify-ppd

pre-configure:
	sed -i 's,/usr/bin,${PREFIX}/bin,g' \
		${WRKSRC}/*.1in
	${SUBST_CMD} ${WRKSRC}/getweb.in

post-install:
	${INSTALL_SCRIPT} ${WRKSRC}/{getweb,msexpand} \
		${PREFIX}/share/doc/foo2zjs
	${INSTALL_DATA_DIR} ${PREFIX}/libexec/cups/filter
	ln -sf ${TRUEPREFIX}/bin/command2foo2lava-pjl \
		${WRKINST}/${LOCALBASE}/libexec/cups/filter/

.include <bsd.port.mk>
@


1.63
log
@Drop bogus sudo(8) mention.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2015/07/07 14:33:34 ajacoutot Exp $
d41 1
a41 1
	perl -pi -e "s,^VERSION=.*,VERSION=\'${VERSION}\'," ${WRKSRC}/getweb.in
d47 1
a47 1
	perl -pi -e 's,/usr/bin,${PREFIX}/bin,g' \
@


1.62
log
@Change some obvious sudo usage to '#' in READMEs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2014/07/10 09:47:21 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
@


1.61
log
@Update to foo2zjs-20140627.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/05/21 18:11:13 ajacoutot Exp $
d7 1
@


1.60
log
@Update to foo2zjs-20140519.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/05/08 04:49:56 ajacoutot Exp $
d5 1
a5 1
VERSION=	20140519
@


1.59
log
@Update to foo2zjs-20140504.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/04/19 14:30:01 ajacoutot Exp $
d5 1
a5 1
VERSION=	20140504
@


1.58
log
@Update to foo2zjs-20140417.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2014/04/09 15:20:35 ajacoutot Exp $
d5 1
a5 1
VERSION=	20140417
@


1.57
log
@Update to foo2zjs-20140408.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2014/03/21 15:37:15 ajacoutot Exp $
d5 1
a5 1
VERSION=	20140408
@


1.56
log
@Update to foo2zjs-20140318.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/03/09 21:53:29 ajacoutot Exp $
d5 1
a5 1
VERSION=	20140318
@


1.55
log
@Update to foo2zjs-20140302.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/01/30 11:37:35 ajacoutot Exp $
d5 1
a5 1
VERSION=	20140302
@


1.54
log
@Update to foo2zjs-20140126.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/01/23 16:46:59 ajacoutot Exp $
d5 1
a5 1
VERSION=	20140126
@


1.53
log
@Update to foo2zjs-20140108.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/12/27 09:59:48 ajacoutot Exp $
d5 1
a5 1
VERSION=	20140108
@


1.52
log
@Update to foo2zjs-20131225.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/12/12 14:50:30 ajacoutot Exp $
d5 1
a5 1
VERSION=	20131225
d19 2
@


1.51
log
@Adapt after the recent foomatic-rip move to cups-filters.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/11/22 08:01:48 ajacoutot Exp $
d5 1
a5 1
VERSION=	20131118
a6 1
REVISION=	0
@


1.50
log
@Update to foo2zjs-20131118.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/10/01 09:07:16 ajacoutot Exp $
d7 1
d30 2
a31 2
# share/foomatic/db/source/*/*.xml
RUN_DEPENDS +=	print/foomatic-db-engine
@


1.49
log
@distfiles.bsdfrog.org: http -> https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/08/24 09:17:08 ajacoutot Exp $
d5 1
a5 1
VERSION=	20130813
@


1.48
log
@Update to foo2zjs-20130813.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/08/10 18:20:09 ajacoutot Exp $
d19 1
a19 1
MASTER_SITES=	http://distfiles.bsdfrog.org/
@


1.47
log
@Update to foo2zjs-20130806.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/07/12 07:34:45 ajacoutot Exp $
d5 1
a5 1
VERSION=	20130806
@


1.46
log
@Update to foo2zjs-20130618.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/05/30 17:56:35 ajacoutot Exp $
d5 1
a5 1
VERSION=	20130618
@


1.45
log
@Update to foo2zjs-20130527.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/05/13 08:39:05 ajacoutot Exp $
d5 1
a5 1
VERSION=	20130527
@


1.44
log
@Update to foo2zjs-20130321.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/03/11 11:37:53 espie Exp $
d5 1
a5 1
VERSION=	20130321
@


1.43
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/03/10 08:36:58 ajacoutot Exp $
d5 1
a5 1
VERSION=	20130306
a6 1
REVISION=	0
@


1.42
log
@Remove bogus pre-configure line.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/03/10 08:11:05 ajacoutot Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d35 1
a35 1
NO_REGRESS=	Yes
@


1.41
log
@Update to foo2zjs-20130306.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/03/02 13:51:30 ajacoutot Exp $
d7 1
a49 1
	perl -pi -e 's,\$\(shell ,\$\(,g' ${WRKSRC}/{,icc2ps}/Makefile
@


1.40
log
@Update to foo2zjs-20130220.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2013/02/02 09:05:29 ajacoutot Exp $
d5 1
a5 1
VERSION=	20130220
d38 4
@


1.39
log
@Update to foo2zjs-20130122.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/01/30 11:02:47 stsp Exp $
d5 1
a5 1
VERSION=	20130122
@


1.38
log
@Tweak README, in particular pointing out differences between ugen and ulpt.
ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/01/28 17:16:22 ajacoutot Exp $
d5 1
a5 1
VERSION=	20120909
a6 2

REVISION=	2
@


1.37
log
@Mention sysutils/firmware/ulpt.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2012/10/19 09:34:48 ajacoutot Exp $
d8 1
a8 1
REVISION=	1
@


1.36
log
@Merge -cups into -main since cups,-libs does not depend on anything.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2012/10/12 20:00:38 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
@


1.35
log
@Minor update to foo2zjs-20120909.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2012/08/17 13:54:26 ajacoutot Exp $
d3 1
a3 2
COMMENT-main=	driver for ZjStream wire protocol compatible printers
COMMENT-cups=	Konica-Minolta foo2zjs command filter for CUPS
d8 1
a8 2
PKGNAME-main=	${DISTNAME}
PKGNAME-cups=	foo2zjs-cup-${VERSION}
d22 1
a22 1
WANTLIB += c
d26 1
a26 1
MULTI_PACKAGES=	-main -cups
a27 1
USE_GMAKE=	Yes
d32 1
a32 1
WANTLIB-main += ${WANTLIB} m
d35 1
a35 5
RUN_DEPENDS-main +=	print/foomatic-db-engine

WANTLIB-cups += ${WANTLIB} cups pthread
RUN_DEPENDS-cups=${BASE_PKGPATH},-main
LIB_DEPENDS-cups=print/cups,-libs
@


1.34
log
@Update to foo2zjs-20120601.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2012/08/04 14:41:07 ajacoutot Exp $
d6 1
a6 1
VERSION=	20120601
a45 1
USE_GROFF =	Yes
@


1.33
log
@Depend on print/foomatic-db-engine instead of foomatic-filters.
Adapt to new CUPS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2012/04/11 15:54:35 ajacoutot Exp $
d6 1
a6 1
VERSION=	20120223
a10 3

REVISION-main=	0
REVISION-cups=	0
@


1.32
log
@Update to foo2zjs-20120223.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/12/04 17:43:54 ajacoutot Exp $
d12 3
d39 3
a41 2
RUN_DEPENDS-main=print/foomatic-filters \
		print/foomatic-db-engine
d45 1
a45 1
LIB_DEPENDS-cups=print/cups
@


1.31
log
@Update to foo2zjs-20111202.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/10/22 23:00:31 ajacoutot Exp $
d6 1
a6 1
VERSION=	20111202
@


1.30
log
@Maintenance update to foo2zjs-20111020.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/07/09 00:36:10 ajacoutot Exp $
d6 1
a6 1
VERSION=	20111020
@


1.29
log
@Update to foo2zjs-20110609.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/06/02 13:41:40 ajacoutot Exp $
d6 1
a6 1
VERSION=	20110609
@


1.28
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/05/11 07:45:53 ajacoutot Exp $
d6 1
a6 1
VERSION=	20101222
a10 2

REVISION-main=	3
@


1.27
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/04/15 18:40:47 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	2
@


1.26
log
@Rework the way we handle dependencies in the print ports:
* depends on foomatic-filters when a driver installs:
  share/foomatic/db/source/.../*.ppd{,.gz}
* depends on foomatic-db-engine when a driver installs:
  share/foomatic/db/source/.../*.xml

foomatic-db-engine now depends on foomatic-db (which itself depends on
nothing anymore).

This will ensure all the needed packages are installed for complete
foomatic-* use.
Some packages install both pre-created ppd and xml files, so theorically
it wouldn't need to depend on foomatic-db-engine, but we still do it
because we may want to regen the ppd file.

It's the best compromise I could come up with.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/04/02 16:56:42 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	1
@


1.25
log
@Simplify: use my distfiles subdomain.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/03/03 13:42:16 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	0
d38 2
a39 1
RUN_DEPENDS-main=print/foomatic-filters
@


1.24
log
@Remove from uneeded steps from the README.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/01/02 07:38:52 ajacoutot Exp $
d28 1
a28 1
MASTER_SITES=	http://www.bsdfrog.org/OpenBSD/distfiles/
@


1.23
log
@Maintenance update to foo2zjs-20101222.
Add support for HP LaserJet 1022n and HP LaserJet 1022nw.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/12/09 07:04:48 ajacoutot Exp $
d11 2
@


1.22
log
@Update to foo2zjs-20101208.
* new printer: HP LaserJet Pro CP1025nw (alpha quality)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/11/20 09:48:39 espie Exp $
d6 1
a6 1
VERSION=	20101208
@


1.21
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/12 16:06:33 ajacoutot Exp $
d6 1
a6 1
VERSION=	20101112
@


1.20
log
@Update to foo2zjs-20101112.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/11/12 07:02:24 ajacoutot Exp $
d33 1
a33 1
BUILD_DEPENDS=	::print/ghostscript/gnu # ps2pdf
d36 1
a36 1
RUN_DEPENDS-main=::print/foomatic-filters
d39 2
a40 2
RUN_DEPENDS-cups=::${BASE_PKGPATH},-main
LIB_DEPENDS-cups=::print/cups
@


1.19
log
@Move big MESSAGE to pkg-readmes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/10/18 21:25:08 espie Exp $
d6 1
a6 1
VERSION=	20100817
a10 2

REVISION-main=	0
@


1.18
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/08/22 06:58:14 ajacoutot Exp $
d11 2
@


1.17
log
@Update foo2zjs to the 20100817 rev.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/08/01 06:54:55 ajacoutot Exp $
d44 1
@


1.16
log
@Better HOMEPAGE.

from Bryan Linton
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/07/31 10:31:58 ajacoutot Exp $
d6 1
a6 1
VERSION=	20100728
a10 3

REVISION-main=	0
REVISION-cups=	0
@


1.15
log
@Update to foo2zjs-20100728.
Add a -cups subpackage that contains the command2foo2lava-pjl that
brings support for more features.
Unconditionally enable CUPS commands in the PPD files. Foomatic will
ignore them and CUPS will use them if there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/07/31 08:18:56 ajacoutot Exp $
d12 3
d17 1
a17 1
HOMEPAGE=	http://foo2hp.rkkda.com/
@


1.14
log
@Install xml driver files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/07/31 05:20:07 ajacoutot Exp $
d3 2
a4 1
COMMENT=	driver for ZjStream wire protocol compatible printers
d6 1
a6 1
VERSION=	20100507
d9 2
a10 1
REVISION=	1
d24 1
a24 1
WANTLIB=	c m
d28 2
d34 9
a42 1
RUN_DEPENDS=	::print/foomatic-filters
d46 3
d50 1
a50 1
	@@perl -pi -e 's,/usr/bin,${PREFIX}/bin,g' \
d52 1
d58 3
@


1.13
log
@Correctly parse OPTARG in the foo2hp2600-wrapper script.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/05/08 09:59:23 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
@


1.12
log
@Update to foo2zjs-20100507.
* added support for the HP LaserJet Pro P1102 and P1102w, HP LaserJet
Pro P1566, and HP LaserJet Pro P1606dn.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/04/07 11:37:55 ajacoutot Exp $
d7 2
@


1.11
log
@Enhance MESSAGE with a quick and working howto.
Samsung-CLP315 was successfully tested with this.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/03/31 16:01:45 ajacoutot Exp $
d5 1
a5 1
VERSION=	20100329
a6 1
PKGNAME=	${DISTNAME}p0
@


1.10
log
@Update to foo2zjs-20100329, needed for upcoming CUPS update.

Install icm and firmware directories.
Add a MESSAGE about getting ICM profiles from the net using 'getweb'.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/03/21 10:14:50 ajacoutot Exp $
d7 1
@


1.9
log
@Take maintainership of these print ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/12/10 10:59:00 ajacoutot Exp $
d3 1
a3 1
COMMENT=		driver for ZjStream wire protocol compatible printers
d5 2
a6 4
VERSION=		20090623
DISTNAME=		foo2zjs-${VERSION}
PKGNAME=		${DISTNAME}p2
CATEGORIES=		print
d8 1
a8 1
HOMEPAGE=		http://foo2hp.rkkda.com/
d10 3
a12 1
MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>
d20 1
a20 1
WANTLIB=		c m
d22 1
a22 5
MASTER_SITES=		http://bigio.snb.it/openbsd/distfiles/ \
			http://openbsd.dead-parrot.de/distfiles/ \
			http://spacehopper.org/mirrors/ \
			http://meta-planets.net/~openbsd/ \
			http://www.phxbsd.com/OpenBSD/distfiles/
d24 2
a25 2
USE_GMAKE=		Yes
WRKDIST=		${WRKDIR}/foo2zjs
d27 2
a28 2
BUILD_DEPENDS=		::print/ghostscript/gnu # ps2pdf
RUN_DEPENDS=		::print/foomatic-filters
d30 1
a30 1
NO_REGRESS=		Yes
d35 1
a37 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/foo2zjs/{firmware,icm}
@


1.8
log
@Move PPD files under foo2zjs own directory.
Remove MESSAGE, it is not relevant anymore as the CUPS creates the
symlink automatically for us now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/10/13 09:54:12 giovanni Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d11 2
@


1.7
log
@
I have no more Hp compatible printers,
drop maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/08/03 13:10:09 giovanni Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.6
log
@
Update to 20090623 version.
ok and help ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/02/18 14:06:45 sthen Exp $
d7 1
a10 2

MAINTAINER=		Giovanni Bechis <giovanni@@openbsd.org>
@


1.5
log
@tidy MASTER_SITES for some distfiles I mirror. no bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/09/18 13:37:41 ajacoutot Exp $
d5 1
a5 1
VERSION=		20071102
d11 1
a11 1
MAINTAINER=		Giovanni Bechis <g.bechis@@snb.it>
d13 1
a13 1
# GPL
d19 1
a19 1
WANTLIB=		c
d31 1
a31 1
RUN_DEPENDS=		::print/ghostscript/gnu
@


1.4
log
@- SYSCONFDIR and LOCALBASE are already part of the generic SUBST_VARS

looks good to landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/02/13 04:40:17 merdely Exp $
d23 1
a23 1
			http://spacehopper.org/m/ \
@


1.3
log
@Update phxbsd mirror URL (thanks dwc).  No bump necessary.

ok okan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/11/04 15:47:45 merdely Exp $
a28 1
SUBST_VARS=		LOCALBASE
@


1.2
log
@Foo2zjs updated to latest version, some printers added,
some fixes to make it work with Ghostscript 8.60.

From Giovanni Bechis (MAINTAINER)
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/09/26 06:26:19 ajacoutot Exp $
d25 1
a25 1
			http://www.phxbsd.com/OpenBSD/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
VERSION=		20070901
d19 1
a19 1
WANTLIB=		c m 
@


1.1.1.1
log
@Import foo2zjs-20070901

foo2zjs is an open source printer driver for printers that use the
Zenographics ZjStream wire protocol for their print data, such as the
Minolta/QMS magicolor 2300 DL or Konica Minolta magicolor 2430 DL.
These printers are often erroneously referred to as winprinters or GDI
printers.
However, Microsoft GDI only mandates the API between an application and
the printer driver, not the protocol on the wire between the printer
driver and the printer.
In fact, ZjStream printers are raster printers which happen to use a
very efficient wire protocol which was developed by Zenographics and
licensed by most major printer manufacturers for at least some of their
product lines.


from Giovanni Bechis <g.bechis at snb dot it> (MAINTAINER) with some
tweaks by me
testing and ok merdely@@
@
text
@@
