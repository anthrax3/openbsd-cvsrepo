head	1.3;
access;
symbols
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	edd_20101008:1.1.1.1
	edd:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2011.03.09.10.13.31;	author edd;	state dead;
branches;
next	1.2;

1.2
date	2010.10.20.13.15.55;	author edd;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.08.22.08.06;	author edd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.10.08.22.08.06;	author edd;	state Exp;
branches;
next	;


desc
@@


1.3
log
@texlive 2010 is now under print/texlive, so we axe the old WIP area.

OK jasper@@, sthen@@
@
text
@#!/bin/sh
# $OpenBSD: mk_openbsd_plists.sh,v 1.2 2010/10/20 13:15:55 edd Exp $
#
# This is how the texlive port packing lists were generated.
# Please be aware that a *full* texmf/texmf-dist and tlpdb from the
# texlive svn are required.

if [ "$1" = "" ]; then
	TMF="/usr/local/share";
else
	TMF=$1
fi

if [ -d "sets" ]; then
    echo "sets dir exists"
	exit 1
fi

mkdir sets

echo "\nCalculating PLIST of texlive_texmf-minimal (tetex)..."
./rblatter -d -v -n -t ${TMF} -p share/ -o sets/tetex +scheme-tetex,run
cat sets/tetex/PLIST | sed 's/share\/texmf\/doc\/man/share\/man/g' \
	| sort > sets/tetex/PLIST_final

echo "\nCalculating PLIST of texlive_texmf-full..."
./rblatter -d -v -n -t ${TMF} -p share/ -o sets/full \
	+scheme-full,run:-scheme-tetex,doc,src,run
cat sets/full/PLIST | sed 's/share\/texmf\/doc\/man/share\/man/g' \
	| sort > sets/full/PLIST_final

echo "\nCalculating PLIST of texlive_texmf-docs..."
./rblatter -d -v -n -t ${TMF} -p share/ -o sets/docs +scheme-full,doc
cat sets/docs/PLIST | sed 's/share\/texmf\/doc\/man/share\/man/g' \
	| sort > sets/docs/PLIST_final

# XXX need to figure out how to futher split docs
#grep -ie '\.1$' -e '\.pdf$' -e '\.html$' -e '\.dvi$' -e '\.ps$' \
#	sets/docs/PLIST | sed 's/share\/texmf\/doc\/man/share\/man/g' \
#	| sort > sets/docs/PLIST_final
#grep -ive '\.1$' -e '\.pdf$' -e '\.html$' -e '\.dvi$' -e '\.ps$' \
#	sets/docs/PLIST | sed 's/share\/texmf\/doc\/man/share\/man/g' \
#	| sort > sets/docs/PLIST_final-sources

echo "\ndone - PLISTS in sets/"
echo "now inspect:"
echo "  - share/texmf/scripts/texlive/* probably un-needed"
echo "  - *.exe obviously a waste of space"
echo "  - search for 'win32' and 'w32' and 'windows'"
echo "  - comment out manual pages and include in _base"
echo "  - bibarts is a DOS program"
echo "  - Not all texworks related stuff is needed"
echo "  - make sure no tlpkg/ sneaked in"
echo "  - etc..."
@


1.2
log
@Ensure texmf split script inserts parent directories. Also update shebang to
reflect ruby package version changes.

No OK needed, not linked to build.
@
text
@d2 1
a2 1
# $OpenBSD: mk_openbsd_plists.sh,v 1.1.1.1 2010/10/08 22:08:06 edd Exp $
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# $OpenBSD$
a37 1
# we further split docs
d49 6
a54 1
echo "  = etc..."
@


1.1.1.1
log
@Import modified version of texmf split script.
This time directory entries will be added to keep pkg_check
happy (issue reported by sthen@@).

No OK needed - not linked to build
@
text
@@
