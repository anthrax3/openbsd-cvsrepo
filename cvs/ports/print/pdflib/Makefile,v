head	1.28;
access;
symbols
	OPENBSD_6_2:1.28.0.6
	OPENBSD_6_2_BASE:1.28
	OPENBSD_6_1:1.28.0.4
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.28.0.2
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.26.0.2
	OPENBSD_5_9_BASE:1.26
	OPENBSD_5_8:1.26.0.4
	OPENBSD_5_8_BASE:1.26
	OPENBSD_5_7:1.25.0.6
	OPENBSD_5_7_BASE:1.25
	OPENBSD_5_6:1.25.0.4
	OPENBSD_5_6_BASE:1.25
	OPENBSD_5_5:1.25.0.2
	OPENBSD_5_5_BASE:1.25
	OPENBSD_5_4:1.24.0.2
	OPENBSD_5_4_BASE:1.24
	OPENBSD_5_3:1.20.0.10
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.20.0.8
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.6
	OPENBSD_5_0:1.20.0.4
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.20.0.2
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.18.0.12
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.10
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.18.0.8
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.6
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.4
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.17.0.6
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.17.0.4
	OPENBSD_4_1_BASE:1.17
	OPENBSD_4_0:1.17.0.2
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.16.0.2
	OPENBSD_3_9_BASE:1.16
	OPENBSD_3_8:1.14.0.2
	OPENBSD_3_8_BASE:1.14
	OPENBSD_3_7:1.13.0.4
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.13.0.2
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.11.0.2
	OPENBSD_3_5_BASE:1.11
	OPENBSD_3_4:1.10.0.4
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.10.0.2
	OPENBSD_3_3_BASE:1.10
	OPENBSD_3_2:1.9.0.2
	OPENBSD_3_2_BASE:1.9
	OPENBSD_3_1:1.7.0.2
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.6.0.2
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9_TRACKING_SWITCH:1.4
	OPENBSD_2_9:1.1.1.1.0.4
	OPENBSD_2_9_BASE:1.1.1.1
	OPENBSD_2_8:1.1.1.1.0.2
	OPENBSD_2_8_BASE:1.1.1.1
	jakob_2000-09-28:1.1.1.1
	jakob:1.1.1;
locks; strict;
comment	@# @;


1.28
date	2016.04.25.18.59.11;	author jca;	state Exp;
branches;
next	1.27;
commitid	63s5o8GfQ7V9xMOM;

1.27
date	2016.03.11.20.28.30;	author naddy;	state Exp;
branches;
next	1.26;
commitid	UYLP8TE6V7RS2GhJ;

1.26
date	2015.03.16.18.07.53;	author naddy;	state Exp;
branches;
next	1.25;
commitid	IJdm3Zowcdkcxp5X;

1.25
date	2014.01.11.11.22.43;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2013.07.15.09.31.03;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2013.06.04.18.41.56;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2013.03.21.08.46.35;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.11.11.37.54;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.20.09.48.39;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.11.11.18.34.59;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2007.09.15.21.36.45;	author merdely;	state Exp;
branches;
next	1.17;

1.17
date	2006.08.03.23.28.11;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2006.02.08.23.03.39;	author steven;	state Exp;
branches;
next	1.15;

1.15
date	2006.01.02.20.05.09;	author sturm;	state Exp;
branches;
next	1.14;

1.14
date	2005.04.17.21.36.52;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2004.08.03.19.15.05;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2004.06.19.22.19.33;	author jakob;	state Exp;
branches;
next	1.11;

1.11
date	2003.12.26.17.07.56;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2002.10.28.13.38.53;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2002.07.03.16.36.48;	author jakob;	state Exp;
branches;
next	1.8;

1.8
date	2002.05.27.03.03.23;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2002.04.04.04.06.37;	author pvalchev;	state Exp;
branches;
next	1.6;

1.6
date	2001.09.28.06.02.14;	author pvalchev;	state Exp;
branches;
next	1.5;

1.5
date	2001.09.11.13.54.35;	author jakob;	state Exp;
branches;
next	1.4;

1.4
date	2001.07.16.09.43.54;	author avsm;	state Exp;
branches;
next	1.3;

1.3
date	2001.05.24.02.28.21;	author kevlo;	state Exp;
branches;
next	1.2;

1.2
date	2001.05.06.03.19.58;	author lebel;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.28.20.36.56;	author jakob;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.09.28.20.36.56;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.28
log
@Kill FAKE=... remnants

discussed with espie
@
text
@# $OpenBSD: Makefile,v 1.27 2016/03/11 20:28:30 naddy Exp $

COMMENT=		C library to produce PDF files

DISTNAME=		pdflib-4.0.3
REVISION = 		5
CATEGORIES=     	print
SHARED_LIBS=		pdf	2.3

HOMEPAGE=		http://www.pdflib.com/pdflib/

PERMIT_PACKAGE_CDROM=	No
PERMIT_PACKAGE_FTP=	Yes

MASTER_SITES=		http://www.pdflib.com/pdflib/download/

WANTLIB=		m z jpeg png>=2 tiff>=35

LIB_DEPENDS=		graphics/png \
			graphics/tiff

# XXX !shared archs don't inherit libraries
LIB_DEPENDS +=		graphics/jpeg

CONFIGURE_STYLE=	autoconf dest
AUTOCONF_VERSION=	2.13
MODGNU_CONFIG_GUESS_DIRS=${WRKSRC}/config
CONFIGURE_ARGS=		--with-tifflib \
			--with-pnglib \
			--with-zlib \
			--without-perl \
			--without-java \
			--without-py \
			--without-tcl

CONFIGURE_ENV=		LDFLAGS="-L${LOCALBASE}/lib" \
			CPPFLAGS="-I${LOCALBASE}/include" \
			LIBS="-lm"
MAKE_ENV=		${CONFIGURE_ENV}

TEST_TARGET=		test

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/pdflib
	${INSTALL_DATA} ${WRKSRC}/doc/* ${PREFIX}/share/doc/pdflib

.include <bsd.port.mk>
@


1.27
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/03/16 18:07:53 naddy Exp $
a24 1
FAKE=			lib
@


1.26
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/01/11 11:22:43 espie Exp $
d29 1
a29 2
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--with-tifflib \
@


1.25
log
@scrape @@endfake. I haven't been able to finish this in... ten years.
time to let it go.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/07/15 09:31:03 espie Exp $
d6 1
a6 1
REVISION = 		4
@


1.24
log
@give it a chance on vax
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/06/04 18:41:56 naddy Exp $
d6 1
a6 1
REVISION = 		3
@


1.23
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/03/21 08:46:35 ajacoutot Exp $
d6 1
a6 1
REVISION = 		2
d22 2
@


1.22
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/11 11:37:54 espie Exp $
d36 2
a37 2
CONFIGURE_ENV=		LDFLAGS="-L${DEPBASE}/lib" \
			CPPFLAGS="-I${DEPBASE}/include/libpng -I${DEPBASE}/include" \
@


1.21
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/20 09:48:39 espie Exp $
a21 1
USE_LIBTOOL=		Yes
@


1.20
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/11/11 18:34:59 espie Exp $
a13 2
PERMIT_DISTFILES_CDROM=	No
PERMIT_DISTFILES_FTP=	Yes
d42 1
a42 1
REGRESS_TARGET=		test
@


1.19
log
@more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/09/15 21:36:45 merdely Exp $
d19 1
a19 1
WANTLIB=		m z jpeg png.>=2 tiff.>=35
d21 2
a22 2
LIB_DEPENDS=		::graphics/png \
			::graphics/tiff
@


1.18
log
@Remove surrounding quotes in COMMENT/PERMIT_*/ERRORS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/08/03 23:28:11 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
d19 1
a19 1
WANTLIB=		m z jpeg
d21 2
a22 2
LIB_DEPENDS=		png.>=2::graphics/png \
			tiff.>=35::graphics/tiff
@


1.17
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/02/08 23:03:39 steven Exp $
d3 1
a3 1
COMMENT=		"C library to produce PDF files"
@


1.16
log
@add missing WANTLIB marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/01/02 20:05:09 sturm Exp $
d21 2
a22 2
LIB_DEPENDS=		png.2::graphics/png \
			tiff.35::graphics/tiff
@


1.15
log
@SHARED_LIBS, USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2005/04/17 21:36:52 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d18 2
@


1.14
log
@can build without installing libs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/08/03 19:15:05 naddy Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d8 1
d21 2
@


1.13
log
@fix up MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/06/19 22:19:33 jakob Exp $
d6 1
d21 1
d34 2
a35 2
CONFIGURE_ENV=		LDFLAGS="-L${LOCALBASE}/lib" \
			CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include" \
@


1.12
log
@drop MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/12/26 17:07:56 naddy Exp $
d22 1
a22 1
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC} ${WRKSRC}/config
@


1.11
log
@libtiff requires explicit linking with -ljpeg -lz.

- Use autoconf.
- Move the libtiff check after the libz one.
- Bring libtiff check in line with libpng one (which also needs -lz),
  and insert an inconspicuous check for libjpeg.

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/10/28 13:38:53 naddy Exp $
a8 2

MAINTAINER=		Jakob Schlyter <jakob@@openbsd.org>
@


1.10
log
@Enable regression test.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/07/03 16:36:48 jakob Exp $
d19 1
a19 2
LIB_DEPENDS=		jpeg.62::graphics/jpeg \
			png.2::graphics/png \
d22 2
a23 1
CONFIGURE_STYLE=	gnu dest
@


1.9
log
@update to v4.0.3; submittd by aaron yourk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/05/27 03:03:23 brad Exp $
a6 1
NEED_VERSION=		1.525
d38 2
@


1.8
log
@new png header path.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/04/04 04:06:37 pvalchev Exp $
d5 1
a5 1
DISTNAME=		pdflib-4.0.1
@


1.7
log
@fix linking, add missing -lm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/09/28 06:02:14 pvalchev Exp $
d7 1
a7 1
NEED_VERSION=		1.454
d25 1
a25 1
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/config
d36 1
a36 1
			CPPFLAGS="${CFLAGS} -I${LOCALBASE}/include" \
@


1.6
log
@CONFIGURE_STYLE=gnu w/ proper MODGNU_CONFIG_GUESS_DIRS
needed for the powerpc -> macppc name change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/09/11 13:54:35 jakob Exp $
d36 2
a37 1
			CPPFLAGS="${CFLAGS} -I${LOCALBASE}/include"
@


1.5
log
@update to pdflib 4.0.1; <jakemsr@@clipper.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/07/16 09:43:54 avsm Exp $
d25 1
@


1.4
log
@update to pdflib-3.03 (jakob@@ ok)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/05/24 02:28:21 kevlo Exp $
d5 1
a5 1
DISTNAME=		pdflib-3.03
d7 1
a7 1
NEED_VERSION=		1.402
d24 5
a28 3
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--with-tifflib=${PREFIX} \
			--with-pnglib=${PREFIX} \
d34 5
a38 4
do-install:
	${INSTALL_DATA} ${WRKBUILD}/pdflib/pdflib.h ${PREFIX}/include
	${INSTALL_DATA} ${WRKBUILD}/pdflib/.libs/libpdf.al ${PREFIX}/lib/libpdf.a
	${INSTALL_SCRIPT} ${WRKBUILD}/pdflib-config ${PREFIX}/bin
@


1.3
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/05/06 03:19:58 lebel Exp $
d5 1
a5 1
DISTNAME=		pdflib-3.02
@


1.2
log
@print: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/09/28 20:36:56 jakob Exp $
d21 1
a21 1
			png.1::graphics/png \
@


1.1
log
@Initial revision
@
text
@d1 3
a3 1
# $OpenBSD$
d7 1
a7 1
NEED_VERSION=		1.319
@


1.1.1.1
log
@a C library to produce PDF files
@
text
@@
