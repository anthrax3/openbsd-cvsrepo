head	1.2;
access;
symbols
	OPENBSD_2_6:1.1.1.1.0.8
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.6
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.4
	OPENBSD_2_4_BASE:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	ghostscript5_03:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2000.03.19.16.44.46;	author espie;	state dead;
branches;
next	1.1;

1.1
date	97.12.03.04.54.42;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.03.04.54.42;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Bye, gs 5.10
@
text
@*** gp_unifs.c.orig	Tue Dec  2 23:45:17 1997
--- gp_unifs.c	Tue Dec  2 23:46:26 1997
***************
*** 56,61 ****
--- 56,63 ----
  FILE *
  gp_open_scratch_file(const char *prefix, char *fname, const char *mode)
  {	char *temp;
+ 	int fd;
+ 
  	if ( (temp = getenv("TEMP")) == NULL )
  		strcpy(fname, "/tmp/");
  	else
***************
*** 68,75 ****
  	if ( *fname != 0 && fname[strlen(fname) - 1] == 'X' )
  		strcat(fname, "-");
  	strcat(fname, "XXXXXX");
! 	mktemp(fname);
! 	return fopen(fname, mode);
  }
  
  /* Open a file with the given name, as a stream of uninterpreted bytes. */
--- 70,77 ----
  	if ( *fname != 0 && fname[strlen(fname) - 1] == 'X' )
  		strcat(fname, "-");
  	strcat(fname, "XXXXXX");
! 	fd = mkstemp(fname);
! 	return fdopen(fd, mode);
  }
  
  /* Open a file with the given name, as a stream of uninterpreted bytes. */
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Add ghostscript 5.03 port
@
text
@@
