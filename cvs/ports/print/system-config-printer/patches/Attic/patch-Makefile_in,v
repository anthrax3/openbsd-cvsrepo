head	1.12;
access;
symbols
	OPENBSD_5_3:1.11.0.2
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.9.0.6
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.4
	OPENBSD_5_0:1.9.0.2
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.7.0.8
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.6
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.4
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.2
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.6.0.2
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.3.0.2
	OPENBSD_4_4_BASE:1.3
	jasper_20080410:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2013.05.21.17.19.25;	author ajacoutot;	state dead;
branches;
next	1.11;

1.11
date	2012.10.13.08.57.38;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2012.08.28.19.16.20;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2011.07.16.07.00.04;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2011.05.04.09.10.52;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2009.06.08.19.24.43;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2009.02.10.17.19.42;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2009.01.31.12.37.30;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.09.17.12.00.56;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.07.08.09.33.21;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.06.12.21.51.43;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.04.10.10.23.04;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.04.10.10.23.04;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Remove system-config-printer; newer versions are just too-linux generic
to be worth the maintenance nightmare and there are alternatives in-tree
(the cups web interface being one).

ok jasper@@
@
text
@$OpenBSD: patch-Makefile_in,v 1.11 2012/10/13 08:57:38 ajacoutot Exp $
--- Makefile.in.orig	Fri Oct  5 18:01:02 2012
+++ Makefile.in	Sat Oct 13 10:48:34 2012
@@@@ -485,7 +485,7 @@@@ dbus_DATA = \
 	dbus/com.redhat.NewPrinterNotification.conf		\
 	dbus/com.redhat.PrinterDriversInstaller.conf
 
-dbusdir = $(sysconfdir)/dbus-1/system.d/
+dbusdir = $(datadir)/examples/system-config-printer/
 dbusinterfaces_DATA = \
 	dbus/org.fedoraproject.Config.Printing.xml
 
@@@@ -1677,7 +1677,7 @@@@ update-po: missing-languages
 	$(MAKE) -C po update-po
 
 missing-languages:
-	bash -c '\
+	sh -c '\
 	eval $$(grep ALL_LINGUAS configure.in); \
 	diff -u <(echo $$ALL_LINGUAS | xargs -rn1 echo) \
 		<(cd po; ls -1 *.po | sed -e "s,\.po$$,,")'
@@@@ -1710,7 +1710,7 @@@@ run-dbus-service:	config.py cupshelpers/config.py
 	$(PYTHON) $(top_srcdir)/scp-dbus-service.py --debug
 
 test-xmldriverprefs:	cupshelpers/xmldriverprefs.py xml/preferreddrivers.xml
-	python -c 'from cupshelpers.xmldriverprefs import test; test()' \
+	$(PYTHON) -c 'from cupshelpers.xmldriverprefs import test; test()' \
 		2>&1 | less
 
 help:
@@@@ -1733,12 +1733,12 @@@@ test-ppd-module.sh:	FORCE
 	chmod 755 "$@@"
 
 test-xml-validity.sh:	FORCE
-	echo "#!/bin/bash" > "$@@"
+	echo "#!/bin/sh" > "$@@"
 	echo "set -e" >> "$@@"
 	echo "xmllint --relaxng \\" >> "$@@"
 	echo "    $(top_srcdir)/xml/preferreddrivers.rng \\" >> "$@@"
 	echo "    $(top_srcdir)/xml/preferreddrivers.xml >/dev/null" >> "$@@"
-	echo "python $(top_srcdir)/xml/validate.py \\" >> "$@@"
+	echo "$(PYTHON) $(top_srcdir)/xml/validate.py \\" >> "$@@"
 	echo "    $(top_srcdir)/xml/preferreddrivers.xml" >> "$@@"
 	chmod 755 "$@@"
 
@


1.11
log
@Update to system-config-printer-1.3.12.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.10 2012/08/28 19:16:20 ajacoutot Exp $
@


1.10
log
@Update to system-config-printer-1.3.11.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.9 2011/07/16 07:00:04 ajacoutot Exp $
--- Makefile.in.orig	Fri Aug  3 12:04:49 2012
+++ Makefile.in	Tue Aug 28 21:12:50 2012
@@@@ -459,7 +459,7 @@@@ dbus_DATA = \
d13 1
a13 1
@@@@ -1619,7 +1619,7 @@@@ update-po: missing-languages
d22 1
a22 1
@@@@ -1652,7 +1652,7 @@@@ run-dbus-service:	config.py cupshelpers/config.py
d31 1
a31 1
@@@@ -1675,12 +1675,12 @@@@ test-ppd-module.sh:	FORCE
@


1.9
log
@Bugfix update to system-config-printer-1.3.4.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.8 2011/05/04 09:10:52 ajacoutot Exp $
--- Makefile.in.orig	Thu Jul 14 12:55:22 2011
+++ Makefile.in	Sat Jul 16 08:47:48 2011
@@@@ -441,7 +441,7 @@@@ dbus_DATA = \
d13 1
a13 1
@@@@ -1600,7 +1600,7 @@@@ update-po: missing-languages
d22 1
a22 1
@@@@ -1633,7 +1633,7 @@@@ run-dbus-service:	config.py cupshelpers/config.py
d31 1
a31 1
@@@@ -1656,12 +1656,12 @@@@ test-ppd-module.sh:	FORCE
@


1.8
log
@Long overdue major update to system-config-printer-1.3.2.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.7 2009/06/08 19:24:43 ajacoutot Exp $
--- Makefile.in.orig	Fri Mar 18 17:07:11 2011
+++ Makefile.in	Wed May  4 10:36:00 2011
@@@@ -434,7 +434,7 @@@@ dbus_DATA = \
d13 1
a13 1
@@@@ -1551,7 +1551,7 @@@@ update-po: missing-languages
d22 1
a22 1
@@@@ -1584,7 +1584,7 @@@@ run-dbus-service:	config.py cupshelpers/config.py
d31 1
a31 1
@@@@ -1607,12 +1607,12 @@@@ test-ppd-module.sh:	FORCE
@


1.7
log
@Update to system-config-printer 1.0.15. Tested at c2k9.
@
text
@d1 6
a6 6
$OpenBSD: patch-Makefile_in,v 1.6 2009/02/10 17:19:42 ajacoutot Exp $
--- Makefile.in.orig	Wed Feb 18 17:10:32 2009
+++ Makefile.in	Thu Jun  4 03:22:18 2009
@@@@ -308,7 +308,7 @@@@ man_MANS = \
 dbus_DATA = \
 	newprinternotification.conf
d10 36
a45 56
 desktop_DATA = \
 	system-config-printer.desktop \
 	print-applet.desktop \
@@@@ -1040,35 +1040,31 @@@@ clean-local:
 install-desktopDATA: $(desktop_DATA)
 	mkdir -p $(DESTDIR)$(desktopdir)
 	mkdir -p $(DESTDIR)$(desktopdir)
-	desktop-file-install --vendor redhat	\
+	desktop-file-install 			\
 	  --dir $(DESTDIR)$(desktopdir)		\
-	  --add-category X-Red-Hat-Base		\
 	  --add-category System			\
 	  --add-category Settings		\
 	  --add-category HardwareSettings	\
 	  --add-category Printing		\
 	  --add-category GTK			\
 	  system-config-printer.desktop
-	desktop-file-install --vendor redhat	\
+	desktop-file-install 			\
 	  --dir $(DESTDIR)$(desktopdir)		\
-	  --add-category X-Red-Hat-Base		\
 	  --add-category System			\
 	  --add-category Monitor		\
 	  --add-category GTK			\
 	  manage-print-jobs.desktop
-	desktop-file-install --vendor redhat	\
+	desktop-file-install 			\
 	  --dir $(DESTDIR)$(desktopdir)		\
-	  --add-category X-Red-Hat-Base		\
 	  --add-category Settings		\
 	  --add-category HardwareSettings	\
 	  --add-category GTK			\
 	  my-default-printer.desktop
-	desktop-file-install --vendor redhat	\
-	  --dir $(DESTDIR)$(autostartdir)	\
-	  --add-category X-Red-Hat-Base		\
-	  --add-category System			\
-	  --add-category Monitor		\
-	  --add-category GTK			\
+	desktop-file-install			\
+	  --dir $(DESTDIR)$(autostartdir)       \
+	  --add-category System                 \
+	  --add-category Monitor                \
+	  --add-category GTK                    \
 	  print-applet.desktop
 
 uninstall-desktopDATA:
@@@@ -1120,7 +1116,7 @@@@ help:
 	@@echo " run-applet         Run system-config-printer-applet with local glade file"
 
 test-ppd-module.sh:
-	echo "#!/usr/bin/env python" > "$@@"
+	echo "#!${MODPY_BIN}" > "$@@"
 	echo "import sys; sys.path.append ('$(top_srcdir)')" >> "$@@"
 	echo "from cupshelpers.ppds import _self_test" >> "$@@"
 	echo "_self_test(sys.argv)" >> "$@@"
@


1.6
log
@- make the job viewer work
- remove some unused patched
- remove more redhat branding
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.5 2009/01/31 12:37:30 ajacoutot Exp $
--- Makefile.in.orig	Fri Jan 16 11:37:10 2009
+++ Makefile.in	Tue Feb 10 17:40:25 2009
d57 9
@


1.5
log
@- update to system-config-printer-1.0.13

ok jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.4 2008/09/17 12:00:56 ajacoutot Exp $
d3 1
a3 1
+++ Makefile.in	Sat Jan 31 12:11:42 2009
d13 2
a14 1
@@@@ -1042,7 +1042,6 @@@@ install-desktopDATA: $(desktop_DATA)
d16 3
a18 1
 	desktop-file-install --vendor redhat	\
d24 2
a25 1
@@@@ -1051,25 +1050,16 @@@@ install-desktopDATA: $(desktop_DATA)
d27 2
a28 1
 	desktop-file-install --vendor redhat	\
d35 2
a36 1
 	desktop-file-install --vendor redhat	\
d49 6
a54 1
-	  print-applet.desktop
a56 1
 	rm -f $(DESTDIR)$(desktopdir)/redhat-system-config-printer.desktop
@


1.4
log
@- update to system-config-printer-1.0.7
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.3 2008/07/08 09:33:21 ajacoutot Exp $
--- Makefile.in.orig	Fri Aug 29 12:33:56 2008
+++ Makefile.in	Wed Sep 17 13:46:48 2008
d13 1
a13 1
@@@@ -1033,7 +1033,6 @@@@ install-desktopDATA: $(desktop_DATA)
d21 1
a21 1
@@@@ -1042,25 +1041,16 @@@@ install-desktopDATA: $(desktop_DATA)
@


1.3
log
@- update to system-config-printer-1.0.3

looks fine to jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.2 2008/06/12 21:51:43 ajacoutot Exp $
--- Makefile.in.orig	Mon Jun 30 17:24:28 2008
+++ Makefile.in	Wed Jul  2 16:24:12 2008
@@@@ -309,7 +309,7 @@@@ man_MANS = \
d13 1
a13 1
@@@@ -1018,7 +1018,6 @@@@ install-desktopDATA: $(desktop_DATA)
d21 1
a21 1
@@@@ -1027,25 +1026,16 @@@@ install-desktopDATA: $(desktop_DATA)
@


1.2
log
@- remove X-Red-Hat category for .desktop files (from jasper@@)
- make the manage printer job entry appear (from jasper@@)
- fix path to system-config-printer in applet.py
- use SUBST_FILES

ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.1.1.1 2008/04/10 10:23:04 jasper Exp $
--- Makefile.in.orig	Thu Apr  3 17:54:22 2008
+++ Makefile.in	Thu Jun 12 19:57:58 2008
@@@@ -290,7 +290,7 @@@@ man_MANS = \
d13 1
a13 1
@@@@ -912,7 +912,6 @@@@ install-desktopDATA: $(desktop_DATA)
d21 1
a21 1
@@@@ -921,25 +920,16 @@@@ install-desktopDATA: $(desktop_DATA)
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ Makefile.in	Tue Apr  8 15:23:20 2008
d13 21
a33 1
@@@@ -933,13 +933,6 @@@@ install-desktopDATA: $(desktop_DATA)
@


1.1.1.1
log
@import system-config-printer 0.9.90

CUPS configuration GUI.  Configures a CUPS server. It uses the CUPS API
to do this. The communication with the server is performed using IPP. As
a result, it is equally able to configure a remote CUPS server as a
local one.

help and ok ajacoutot@@
@
text
@@
