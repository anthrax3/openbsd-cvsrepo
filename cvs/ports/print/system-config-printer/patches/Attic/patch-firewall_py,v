head	1.4;
access;
symbols
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.4
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2013.05.21.17.19.25;	author ajacoutot;	state dead;
branches;
next	1.3;

1.3
date	2012.02.26.07.13.26;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.07.29.16.56.32;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2011.05.04.09.10.52;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Remove system-config-printer; newer versions are just too-linux generic
to be worth the maintenance nightmare and there are alternatives in-tree
(the cups web interface being one).

ok jasper@@
@
text
@$OpenBSD: patch-firewall_py,v 1.3 2012/02/26 07:13:26 ajacoutot Exp $

Disable firewall checks.

--- firewall.py.orig	Mon Nov 28 12:52:16 2011
+++ firewall.py	Sun Feb 26 08:09:58 2012
@@@@ -90,26 +90,13 @@@@ class Firewall:
         self._client_error_handler (exc)
 
     def write (self):
-        try:
-            self._firewall.write (json.dumps (self._fw_data[0]))
-        except:
-            pass
+        pass
 
     def _check_any_allowed (self, search):
-        (args, filename) = self._get_fw_data ()
-        if filename == None: return True
-        isect = set (search).intersection (set (args))
-        return len (isect) != 0
+        return True
 
     def add_rule (self, rule):
-        try:
-            (args, filename) = self._fw_data
-        except AttributeError:
-            (args, filename) = self._get_fw_data ()
-        if filename == None: return
-
-        args.append (rule)
-        self._fw_data = (args, filename)
+        pass
 
     def check_ipp_client_allowed (self):
         return self._check_any_allowed (set(["--port=631:udp",
@


1.3
log
@Update to system-config-printer-1.3.8.
@
text
@d1 1
a1 1
$OpenBSD: patch-firewall_py,v 1.2 2011/07/29 16:56:32 ajacoutot Exp $
@


1.2
log
@Bugfix update to system-config-printer-1.3.5.
@
text
@d1 1
a1 1
$OpenBSD: patch-firewall_py,v 1.1 2011/05/04 09:10:52 ajacoutot Exp $
d5 3
a7 3
--- firewall.py.orig	Thu Jul 28 18:04:13 2011
+++ firewall.py	Fri Jul 29 18:49:26 2011
@@@@ -88,26 +88,13 @@@@ class Firewall:
@


1.1
log
@Long overdue major update to system-config-printer-1.3.2.
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- firewall.py.orig	Wed Mar 16 17:44:41 2011
+++ firewall.py	Wed May  4 11:01:26 2011
@@@@ -83,26 +83,13 @@@@ class Firewall:
d12 1
a12 1
-            self._firewall.write (pickle.dumps (self._fw_data[0]))
@

