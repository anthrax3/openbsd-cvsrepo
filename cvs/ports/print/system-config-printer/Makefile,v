head	1.47;
access;
symbols
	OPENBSD_5_3:1.40.0.2
	OPENBSD_5_3_BASE:1.40
	OPENBSD_5_2:1.37.0.2
	OPENBSD_5_2_BASE:1.37
	OPENBSD_5_1_BASE:1.32
	OPENBSD_5_1:1.32.0.2
	OPENBSD_5_0:1.29.0.2
	OPENBSD_5_0_BASE:1.29
	OPENBSD_4_9:1.20.0.2
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.16.0.2
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.15.0.2
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.13.0.2
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.11.0.2
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	jasper_20080410:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.47
date	2017.07.21.13.41.45;	author ajacoutot;	state Exp;
branches;
next	1.46;
commitid	xN9kMrQJnNlbTyA9;

1.46
date	2017.07.14.16.12.00;	author ajacoutot;	state Exp;
branches;
next	1.45;
commitid	fIObdqAYqisX0yLD;

1.45
date	2013.05.21.17.19.25;	author ajacoutot;	state dead;
branches;
next	1.44;

1.44
date	2013.04.10.12.34.27;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2013.04.03.07.53.31;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2013.04.03.06.57.56;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2013.03.11.11.37.54;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2012.10.13.08.57.38;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2012.08.28.19.16.19;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2012.08.04.14.44.25;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2012.05.09.15.24.17;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2012.05.06.07.21.17;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2012.04.22.13.44.09;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2012.04.11.16.04.03;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2012.02.26.07.13.26;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2011.10.06.06.02.10;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2011.09.16.11.13.41;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2011.08.23.06.41.31;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2011.07.29.16.56.32;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2011.07.20.07.20.06;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2011.07.16.07.00.04;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2011.06.08.17.37.37;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2011.06.02.16.16.23;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2011.06.01.18.53.52;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2011.05.22.14.19.42;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2011.05.04.10.17.30;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2011.05.04.09.10.52;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.20.09.48.40;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.18.21.25.09;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.09.22.15.41.15;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2010.08.30.18.29.28;	author fgsch;	state Exp;
branches;
next	1.16;

1.16
date	2010.03.21.10.14.50;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.12.22.15.54.32;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.09.01.08.13.32;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.06.08.19.24.43;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.03.28.18.12.50;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2009.02.10.17.19.42;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2009.02.02.23.10.05;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2009.01.31.12.37.30;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2008.12.21.11.40.40;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2008.10.27.13.29.13;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.10.16.12.52.39;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.09.17.12.00.56;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.07.08.09.33.21;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.06.12.21.51.42;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.05.31.22.24.50;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2008.04.10.10.23.04;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.04.10.10.23.04;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.47
log
@Don't show the menu entry when we are in GNOME since it already comes with
a CUPS configuration tool in gnome-control-center.
While here, don't enforce the dependency on CUPS; while this is a CUPS
configuration tool, it's also a dependency of gnome-control-center and some
users may not want CUPS on their system.
@
text
@# $OpenBSD: Makefile,v 1.46 2017/07/14 16:12:00 ajacoutot Exp $

COMMENT=		printer (CUPS) administration tool

GH_ACCOUNT=		zdohnal
GH_PROJECT=		system-config-printer
GH_TAGNAME=		v1.5.9
REVISION=		0

CATEGORIES=		print sysutils

HOMEPAGE=		http://cyberelk.net/tim/software/system-config-printer/

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

MODULES=		lang/python \
			textproc/intltool

MODPY_VERSION=		${MODPY_DEFAULT_VERSION_3}


BUILD_DEPENDS=		textproc/xmlto

# desktop-file-install(1)
BUILD_DEPENDS +=	devel/desktop-file-utils

RUN_DEPENDS=		devel/desktop-file-utils \
			devel/py-gobject3${MODPY_FLAVOR} \
			graphics/py-cairo${MODPY_FLAVOR} \
			net/py-curl${MODPY_FLAVOR} \
			print/cups-pk-helper \
			print/py-cups${MODPY_FLAVOR} \
			x11/dbus-python${MODPY_FLAVOR} \

# pygobject introspections (not provided by indirect dependencies)
RUN_DEPENDS +=		devel/libnotify \
			x11/gnome/libgnome-keyring \
			x11/gtk+3

# only useful if cups is installed but don't enforce the dependency because
# gnome-control-center requires system-config-printer and we may not want cups
#RUN_DEPENDS +=		print/cups

USE_GMAKE=		Yes

CONFIGURE_STYLE=	gnu
CONFIGURE_ENV+= 	CPPFLAGS=-I${LOCALBASE}/include \
			LDFLAGS=-L${LOCALBASE}/lib

FAKE_FLAGS=		dbusdir=${PREFIX}/share/examples/system-config-printer/dbus-1/system.d/ \
			autostartdir=${PREFIX}/share/examples/system-config-printer/xdg/autostart/ \
			cupshelpersdir=${PREFIX}/share/examples/system-config-printer/cupshelpers/

AUTOCONF_VERSION=	2.69
AUTOMAKE_VERSION=	1.15
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS}

pre-configure:
	cd ${WRKSRC} && sed -i \
		-e "s,/usr/share/system-config-printer,${PREFIX}/share/system-config-printer,g;" \
		-e "s,/usr/local/share/ppd,${LOCALBASE}/share/ppd,g;" \
		-e "s,/usr/share/cups,${LOCALBASE}/share/cups,g;" \
		-e "s,/usr/lib/cups,${LOCALBASE}/libexec/cups,g;" \
		-e "s,/usr/lib64/cups,${LOCALBASE}/libexec/cups,g;" \
		-e "s,/usr/lib/cups,${LOCALBASE}/libexec/cups,g;" \
		-e "s,/usr/bin/cupstestppd,${LOCALBASE}/bin/cupstestppd,g" \
		check-device-ids.py \
		cupshelpers/cupshelpers.py \
		cupshelpers/xmldriverprefs.py \
		newprinter.py \
		probe_printer.py \
		test/test-cups-driver.py \
		udev/udev-configure-printer.c
	grep -rl "/usr/bin/python3" ${WRKSRC} | \
		xargs sed -i "s,/usr/bin/python3,${MODPY_BIN},g"
	cd ${WRKSRC} && touch INSTALL README ChangeLog && ${SETENV} \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		autoreconf -fi
.include <bsd.port.mk>
@


1.46
log
@Resurrect and update to system-config-printer-1.5.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/04/10 12:34:27 ajacoutot Exp $
d8 1
d43 3
a45 2
# package is only useful if cups is installed
RUN_DEPENDS +=		print/cups
@


1.45
log
@Remove system-config-printer; newer versions are just too-linux generic
to be worth the maintenance nightmare and there are alternatives in-tree
(the cups web interface being one).

ok jasper@@
@
text
@d5 3
a7 2
DISTNAME=		system-config-printer-1.3.12
REVISION=		1
a17 3
MASTER_SITES=		http://cyberelk.net/tim/data/system-config-printer/1.3/
EXTRACT_SUFX=		.tar.xz

d21 2
a22 9
COMMON_DEPENDS= 	devel/gettext \
			devel/py-notify \
			net/py-curl \
			net/py-smbc \
			print/py-cups>=1.9.62 \
			textproc/py-xml \
			x11/dbus-python \
			x11/py-gtk2 \
			print/cups-pk-helper
d24 1
a24 2
BUILD_DEPENDS=		${COMMON_DEPENDS} \
			textproc/xmlto
d29 12
a40 2
RUN_DEPENDS=		${COMMON_DEPENDS} \
			devel/desktop-file-utils
a45 1
USE_GROFF =		Yes
d51 8
a58 13
SUBST_FILES=		applet.py cupshelpers/cupshelpers.py \
			probe_printer.py newprinter.py \
			udev/udev-configure-printer.c \
			troubleshoot/CheckSELinux.py \
			troubleshoot/SchedulerNotRunning.py \
			cupshelpers/xmldriverprefs.py \
			dbus/org.fedoraproject.Config.Printing.service \
			check-device-ids.py


FAKE_FLAGS=	dbusdir=${PREFIX}/share/examples/system-config-printer/dbus-1/system.d/ \
		autostartdir=${PREFIX}/share/examples/system-config-printer/xdg/autostart/ \
		cupshelpersdir=${PREFIX}/share/examples/system-config-printer/cupshelpers/
d61 21
a81 7
	find ${WRKDIST} -name \*.py | \
		xargs perl -pi -e 's,/usr/bin/env python,${MODPY_BIN},g;' \
			-e 's,/usr/bin/python,${MODPY_BIN},g'
.for f in ${SUBST_FILES}
	${SUBST_CMD} ${WRKSRC}/$f
.endfor

@


1.44
log
@Missing BUILD_DEPENDS; spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/04/03 07:53:31 ajacoutot Exp $
@


1.43
log
@Fix RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/04/03 06:57:56 ajacoutot Exp $
d35 4
@


1.42
log
@Do not build_depends on devel/desktop-file-utils.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/03/11 11:37:54 espie Exp $
d6 1
a6 1
REVISION=		0
d23 1
a23 2
COMMON_DEPENDS= 	devel/desktop-file-utils \
			devel/gettext \
d35 2
a36 1
RUN_DEPENDS=		${COMMON_DEPENDS}
@


1.41
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2012/10/13 08:57:38 ajacoutot Exp $
d6 1
d23 1
a23 3
BUILD_DEPENDS=		${RUN_DEPENDS} \
			textproc/xmlto
RUN_DEPENDS=		devel/desktop-file-utils \
d34 4
d39 1
a39 1
RUN_DEPENDS +=	print/cups
@


1.40
log
@Update to system-config-printer-1.3.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2012/08/28 19:16:19 ajacoutot Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.39
log
@Update to system-config-printer-1.3.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2012/08/04 14:44:25 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		system-config-printer-1.3.11
@


1.38
log
@Explicitely depends on print/cups; otherwise this package is pretty much
useless.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2012/05/09 15:24:17 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		system-config-printer-1.3.9
REVISION=		3
d32 1
a32 1
			print/py-cups>=1.9.61p0 \
@


1.37
log
@Add missing calls to gtk.gdk.threads_{enter,leave} to fix the abort on
startup.

looks good to kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2012/05/06 07:21:17 ajacoutot Exp $
d6 1
a6 1
REVISION=		2
d32 2
a33 2
			net/py-smbc>=1.0.13 \
			print/py-cups>=1.9.58 \
d38 3
@


1.36
log
@Missing RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2012/04/22 13:44:09 ajacoutot Exp $
d6 1
a6 1
REVISION=		1
@


1.35
log
@/etc/rc.d -> RCDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2012/04/11 16:04:03 ajacoutot Exp $
d6 1
a6 1
REVISION=		0
d31 1
@


1.34
log
@Update to system-config-printer-1.3.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2012/02/26 07:13:26 ajacoutot Exp $
d6 1
d49 1
@


1.33
log
@Update to system-config-printer-1.3.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/10/06 06:02:10 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		system-config-printer-1.3.8
@


1.32
log
@Update to system-config-printer-1.3.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/09/16 11:13:41 espie Exp $
d5 1
a5 1
DISTNAME=		system-config-printer-1.3.7
d30 1
a30 1
			net/py-smbc>=1.0.11 \
@


1.31
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/08/23 06:41:31 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		system-config-printer-1.3.6
REVISION=		0
@


1.30
log
@Minor update to system-config-printer-1.3.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/07/29 16:56:32 ajacoutot Exp $
d6 1
@


1.29
log
@Bugfix update to system-config-printer-1.3.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/07/20 07:20:06 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		system-config-printer-1.3.5
@


1.28
log
@py-gnome-desktop will be deprecated when we move to gnome3, so remove
dependency now. It's only needed for optionnal gnome-keyring support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/07/16 07:00:04 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		system-config-printer-1.3.4
REVISION=		0
d31 1
a31 1
			print/py-cups>=1.9.57 \
@


1.27
log
@Bugfix update to system-config-printer-1.3.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/06/08 17:37:37 jasper Exp $
d6 1
d35 1
a35 1
			x11/gnome/py-gnome-desktop \
@


1.26
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/06/02 16:16:23 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		system-config-printer-1.3.3
REVISION=		0
d30 2
a31 2
			net/py-smbc \
			print/py-cups>=1.9.55 \
@


1.25
log
@Bugfix update to system-config-printer-1.3.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/06/01 18:53:52 jasper Exp $
d6 1
@


1.24
log
@remove EXTRACT_CASES now that .xz is dealt with in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/05/22 14:19:42 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		system-config-printer-1.3.2
REVISION=		0
d34 1
a34 1
			x11/gnome/py-gnome \
@


1.23
log
@Add dependency on cups-pk-helper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/05/04 10:17:30 ajacoutot Exp $
a36 4

BUILD_DEPENDS+=  archivers/xz
EXTRACT_CASES=  *.tar.xz) \
	${LOCALBASE}/bin/xz -dc ${FULLDISTDIR}/$$archive | ${TAR} xf -;;
@


1.22
log
@FIx BUILD_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/05/04 09:10:52 ajacoutot Exp $
d6 1
d35 2
a36 1
			x11/gnome/py-gnome
@


1.21
log
@Long overdue major update to system-config-printer-1.3.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/20 09:48:40 espie Exp $
a21 4
BUILD_DEPENDS=  archivers/xz
EXTRACT_CASES=  *.tar.xz) \
	${LOCALBASE}/bin/xz -dc ${FULLDISTDIR}/$$archive | ${TAR} xf -;;

d35 4
@


1.20
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/18 21:25:09 espie Exp $
d5 1
a5 2
DISTNAME=		system-config-printer-1.0.16
REVISION =		3
d19 6
a24 2
MASTER_SITES=		http://cyberelk.net/tim/data/system-config-printer/1.0.x/
EXTRACT_SUFX=		.tar.bz2
d34 2
a35 1
			print/py-cups \
d47 8
a54 8
SUBST_FILES=		applet.py cupshelpers/cupshelpers.py pysmb.py \
			system-config-printer.py \
			manage-print-jobs.desktop.in \
			my-default-printer.desktop.in \
			print-applet.desktop.in \
			system-config-printer.desktop.in \
			troubleshoot/SchedulerNotRunning.py \
			Makefile.in
d57 2
a58 1
		autostartdir=${PREFIX}/share/examples/system-config-printer/xdg/autostart/
a66 6

# no need for this utility, we can achieve the same from the main program
post-install:
	rm ${PREFIX}/bin/my-default-printer \
		${PREFIX}/share/applications/my-default-printer.desktop \
		${PREFIX}/share/system-config-printer/my-default-printer.py
@


1.19
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/09/22 15:41:15 ajacoutot Exp $
d27 8
a34 8
			::textproc/xmlto
RUN_DEPENDS=		::devel/desktop-file-utils \
			::devel/gettext \
			::devel/py-notify \
			::print/py-cups \
			::textproc/py-xml \
			::x11/dbus-python \
			::x11/gnome/py-gnome
d37 1
a37 1
USE_GROFF =	Yes
@


1.18
log
@Don't bundle the 'my-default-printer' utility, the feature is already
available from the main interface.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/08/30 18:29:28 fgsch Exp $
d37 1
@


1.17
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/03/21 10:14:50 ajacoutot Exp $
d6 1
a6 1
REVISION =		2
d61 6
@


1.16
log
@Take maintainership of these print ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/12/22 15:54:32 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
@


1.15
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/09/01 08:13:32 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d11 2
@


1.14
log
@Update to system-config-printer-1.0.16
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/06/08 19:24:43 ajacoutot Exp $
d6 2
@


1.13
log
@Update to system-config-printer 1.0.15. Tested at c2k9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/03/28 18:12:50 naddy Exp $
d5 1
a5 1
DISTNAME=		system-config-printer-1.0.15
@


1.12
log
@bump for python dependency change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/02/10 17:19:42 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		system-config-printer-1.0.13
PKGNAME=		${DISTNAME}p2
d44 2
a45 1
			troubleshoot/SchedulerNotRunning.py
@


1.11
log
@- make the job viewer work
- remove some unused patched
- remove more redhat branding
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/02/02 23:10:05 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
@


1.10
log
@- add a patch to allow anyone to listen to the new printer notification
dbus signal
from Debian
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/01/31 12:37:30 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d40 1
a40 2
			system-config-printer.py my-default-printer \
			system-config-printer system-config-printer-applet \
d46 3
@


1.9
log
@- update to system-config-printer-1.0.13

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/12/21 11:40:40 ajacoutot Exp $
d6 1
@


1.8
log
@- remove some Fedora specifics
from opensolaris
- while here, regen PLIST
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/10/27 13:29:13 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		system-config-printer-1.0.9
PKGNAME=		${DISTNAME}p0
@


1.7
log
@- update to system-config-printer-1.0.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/10/16 12:52:39 ajacoutot Exp $
d6 1
d45 2
a46 1
			system-config-printer.desktop.in
@


1.6
log
@- xmlto is only a build_depends, not a run_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/09/17 12:00:56 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		system-config-printer-1.0.7
PKGNAME=		${DISTNAME}p0
@


1.5
log
@- update to system-config-printer-1.0.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/07/08 09:33:21 ajacoutot Exp $
d6 1
d23 2
a24 1
BUILD_DEPENDS=		${RUN_DEPENDS}
a29 1
			::textproc/xmlto \
@


1.4
log
@- update to system-config-printer-1.0.3

looks fine to jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/06/12 21:51:42 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		system-config-printer-1.0.3
@


1.3
log
@- remove X-Red-Hat category for .desktop files (from jasper@@)
- make the manage printer job entry appear (from jasper@@)
- fix path to system-config-printer in applet.py
- use SUBST_FILES

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/05/31 22:24:50 jasper Exp $
d5 1
a5 2
DISTNAME=		system-config-printer-0.9.90
PKGNAME=		${DISTNAME}p1
d16 1
a16 1
MASTER_SITES=		http://cyberelk.net/tim/data/system-config-printer/
d38 1
a38 1
SUBST_FILES=		applet.py cupshelpers.py pysmb.py \
@


1.2
log
@- fix path
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/04/10 10:23:04 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d52 1
a52 4
	@@perl -pi -e 's,!!LOCALBASE!!,${LOCALBASE},g;' \
		-e 's,!!PREFIX!!,${PREFIX},g;' \
		-e 's,!!SYSCONFDIR!!,${SYSCONFDIR},g' \
			${WRKSRC}/$f
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
@


1.1.1.1
log
@import system-config-printer 0.9.90

CUPS configuration GUI.  Configures a CUPS server. It uses the CUPS API
to do this. The communication with the server is performed using IPP. As
a result, it is equally able to configure a remote CUPS server as a
local one.

help and ok ajacoutot@@
@
text
@@
