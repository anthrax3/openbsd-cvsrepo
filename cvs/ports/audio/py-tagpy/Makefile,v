head	1.22;
access;
symbols
	OPENBSD_6_1:1.22.0.2
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.21.0.4
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.21.0.2
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.19.0.4
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.18.0.2
	OPENBSD_5_7_BASE:1.18
	OPENBSD_5_6:1.17.0.2
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.16.0.2
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.13.0.2
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.12.0.2
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.10.0.4
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.2
	OPENBSD_5_0:1.8.0.2
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.5.0.2
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.1.1.1.0.2
	OPENBSD_4_7_BASE:1.1.1.1
	landry_20091015:1.1.1.1
	djm:1.1.1;
locks; strict;
comment	@# @;


1.22
date	2017.01.03.19.14.44;	author landry;	state Exp;
branches;
next	1.21;
commitid	J0cxn0ApkivmwaqI;

1.21
date	2015.09.29.10.51.14;	author sthen;	state Exp;
branches;
next	1.20;
commitid	0mMHGyUMEfafRiiY;

1.20
date	2015.08.19.20.14.00;	author sthen;	state Exp;
branches;
next	1.19;
commitid	Y50hccQnsBBO4pGq;

1.19
date	2015.04.02.14.21.13;	author jasper;	state Exp;
branches;
next	1.18;
commitid	4Dkfcsk2uZtFDSwy;

1.18
date	2014.09.29.07.02.02;	author jasper;	state Exp;
branches;
next	1.17;
commitid	HSD3ATzI3n4xDSVx;

1.17
date	2014.06.03.11.31.10;	author rpointel;	state Exp;
branches;
next	1.16;
commitid	6MYfT2Ou9qCxFPW4;

1.16
date	2013.12.25.08.51.24;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2013.12.16.15.45.53;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2013.11.25.14.16.22;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2013.03.10.22.55.05;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2013.01.25.13.56.20;	author dcoppa;	state Exp;
branches;
next	1.11;

1.11
date	2012.10.04.09.17.31;	author dcoppa;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.23.20.17.20;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.16.08.26.11;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2011.06.26.06.34.01;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2011.06.08.17.31.33;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2011.05.04.09.39.52;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.15.00.22.48;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.09.05.22.00.13;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2010.08.30.21.36.14;	author fgsch;	state Exp;
branches;
next	1.2;

1.2
date	2010.06.14.05.49.26;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2009.10.15.08.30.01;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.10.15.08.30.01;	author landry;	state Exp;
branches;
next	;


desc
@@


1.22
log
@bump ports depending on python3 in audio
@
text
@# $OpenBSD: Makefile,v 1.21 2015/09/29 10:51:14 sthen Exp $

COMMENT=		Python bindings to TagLib audio file tag library

MODPY_EGG_VERSION =	2013.1
DISTNAME =		tagpy-${MODPY_EGG_VERSION}
PKGNAME =		py-${DISTNAME}
REVISION =		6

CATEGORIES =		audio devel

HOMEPAGE =		http://mathema.tician.de/software/tagpy

# MIT
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += boost_python${MODPY_MAJOR_VERSION:M3}-mt m pthread stdc++ tag ${MODPY_WANTLIB}

MODPY_PI =		Yes

MODULES =		lang/python
MODPY_SETUPTOOLS =	Yes

FLAVORS=		python3
FLAVOR?=

LIB_DEPENDS =		lang/python/${MODPY_VERSION} \
			audio/taglib \
			devel/boost>=1.53.0p5

CONFIGURE_ARGS +=	--boost-compiler=gcc42 \
			--boost-lib-dir=${LOCALBASE}/lib \
			--boost-inc-dir=${LOCALBASE}/include \
			--taglib-lib-dir=${LOCALBASE}/lib \
			--taglib-inc-dir=${LOCALBASE}/include/taglib \

.if ${FLAVOR:Mpython3}
CONFIGURE_ARGS +=	--boost-python-libname=boost_python${MODPY_MAJOR_VERSION}-mt
.else
CONFIGURE_ARGS +=	--boost-python-libname=boost_python-mt
.endif

do-configure:
		cd ${WRKSRC} && env ${CONFIGURE_ENV} ${MODPY_BIN} ./configure.py ${CONFIGURE_ARGS}

.include <bsd.port.mk>
@


1.21
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/08/19 20:14:00 sthen Exp $
d8 1
a8 1
REVISION =		5
@


1.20
log
@take a break from doing this in alphabetic order and sync WANTLIB in some
python things, with a lovely boost_python${MODPY_MAJOR_VERSION:M3}-mt in there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/04/02 14:21:13 jasper Exp $
d8 1
a8 1
REVISION =		4
@


1.19
log
@- switch to MODPY_PI
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/09/29 07:02:02 jasper Exp $
d8 1
a8 1
REVISION =		3
d17 1
a17 1
WANTLIB += boost_python-mt m pthread stdc++ tag ${MODPY_WANTLIB}
@


1.18
log
@bump after switch from py3-distribute to py3-setuptools

ok rpointel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2014/06/03 11:31:10 rpointel Exp $
d19 1
a19 1
MASTER_SITES =		${MASTER_SITE_PYPI:=t/tagpy/}
@


1.17
log
@changed python3 default version so bump revision.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/12/25 08:51:24 ajacoutot Exp $
d8 1
a8 1
REVISION =		2
@


1.16
log
@Pass the proper boost_python-mt library, according to the FLAVOR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/12/16 15:45:53 ajacoutot Exp $
d8 1
a8 1
REVISION =		1
@


1.15
log
@Add a python3 FLAVOR.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/11/25 14:16:22 sthen Exp $
d8 1
a8 1
REVISION =		0
d29 1
a29 1
			devel/boost
d31 1
a31 2
CONFIGURE_ARGS +=	--boost-python-libname=boost_python-mt \
			--boost-compiler=gcc42 \
d36 6
@


1.14
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/03/10 22:55:05 espie Exp $
d8 1
d17 1
a17 1
WANTLIB += boost_python-mt m pthread stdc++ tag>=10 ${MODPY_WANTLIB}
d24 5
a28 2
LIB_DEPENDS =		${MODPY_LIB_DEPENDS} \
			audio/taglib>=1.8p4 \
@


1.13
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/01/25 13:56:20 dcoppa Exp $
a18 2

VMEM_WARNING=		Yes
@


1.12
log
@maintenance update to tagpy-2013.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/10/04 09:17:31 dcoppa Exp $
a14 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.11
log
@Unbreak build with taglib>=1.8
While here, add pthread to WANTLIB and remove bogus optimizations

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/23 20:17:20 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	0.94.8
a7 1
REVISION =		1
d29 1
a29 1
			audio/taglib>=1.8 \
@


1.10
log
@I like my /etc/mk.conf .poison lines.

"/usr/ports/infrastructure/mk/mk.conf", line 27: Poisoned variable REVSION is already set
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/16 08:26:11 espie Exp $
d8 1
a8 1
REVISION =		0
d20 1
a20 1
WANTLIB += boost_python-mt m stdc++ tag ${MODPY_WANTLIB}
d30 1
a30 1
			audio/taglib \
@


1.9
log
@normalize pkgpath in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/06/26 06:34:01 ajacoutot Exp $
d8 1
a8 1
REVSION =		0
@


1.8
log
@Update to py-tagpy-0.94.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/06/08 17:31:33 jasper Exp $
d8 1
@


1.7
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/05/04 09:39:52 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	0.94.7
a7 1
REVISION =		2
d19 1
a19 1
WANTLIB += boost_python-mt m stdc++ tag
d28 2
a29 1
LIB_DEPENDS =		audio/taglib \
@


1.6
log
@use MASTER_SITE_PYPI
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/15 00:22:48 espie Exp $
d8 1
a8 1
REVISION =		1
@


1.5
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/09/05 22:00:13 sthen Exp $
d22 1
a22 1
MASTER_SITES =		http://pypi.python.org/packages/source/t/tagpy/
@


1.4
log
@new-style LIB_DEPENDS/REVISION, sync WANTLIB, bump where necessary.
checked with check-lib-depends and PLIST_DB "make package".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/08/30 21:36:14 fgsch Exp $
d29 2
a30 2
LIB_DEPENDS =		::audio/taglib \
			::devel/boost
@


1.3
log
@Yet another round of bumps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/06/14 05:49:26 jasper Exp $
d8 1
a8 1
REVISION =		0
d20 2
d29 2
a30 2
LIB_DEPENDS =		tag::audio/taglib \
			boost_python-mt::devel/boost
@


1.2
log
@- cc1plus is quite hungry for memory..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/10/15 08:30:01 landry Exp $
d8 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d20 2
@


1.1.1.1
log
@Import py-tagpy 0.9.7:
TagPy is a set of Python bindings for Scott Wheeler's TagLib.
Just like TagLib, TagPy can read and write ID3 tags in MP3, FLAC and
MPC, access Xiph Comments in Ogg Vorbis Files and Ogg Flac Files and
access APE tags in Musepack and MP3 files.
based on a submission from djm@@ with tweaks by me.
@
text
@@
