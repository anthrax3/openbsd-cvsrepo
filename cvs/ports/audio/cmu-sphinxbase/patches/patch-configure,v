head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.16
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.12
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.14
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.10
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.8
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.6
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.4
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.2.0.10
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.8
	OPENBSD_5_0:1.2.0.6
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.4
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2012.08.22.20.14.05;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2010.04.26.07.12.30;	author eric;	state Exp;
branches;
next	1.1;

1.1
date	2009.07.16.09.05.32;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@remove unneeded -pthread patches
@
text
@$OpenBSD: patch-configure,v 1.2 2010/04/26 07:12:30 eric Exp $
--- configure.orig	Thu Mar 18 21:49:35 2010
+++ configure	Wed Apr 21 14:24:52 2010
@@@@ -7432,11 +7432,18 @@@@ fi
 
                         ;;
                 # FIXME: isn't this the same OSS as on Linux?
-                *-*-freebsd*|*-*-netbsd*|*-*-openbsd*)
+                *-*-freebsd*|*-*-netbsd*)
                         ad_files="ad_oss_bsd.lo"
                         ad_backend="AD_BACKEND_OSS_BSD"
 
 $as_echo "#define AD_BACKEND_OSS_BSD /**/" >>confdefs.h
+
+			;;
+                *-*-openbsd*)
+                        ad_files="ad_sndio.lo"
+                        ad_backend="AD_BACKEND_SNDIO"
+
+$as_echo "#define AD_BACKEND_SNDIO /**/" >>confdefs.h
 
                         ;;
                 *-*-sunos4*)
@


1.2
log
@- update to 0.6
- implement and use sndio backend

help from and ok jakemsr@@ ratchov@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.1 2009/07/16 09:05:32 ajacoutot Exp $
a3 26
@@@@ -7240,13 +7240,13 @@@@ fi
 
 done
 
-	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread_create in -lpthread" >&5
-$as_echo_n "checking for pthread_create in -lpthread... " >&6; }
+	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread_create in -pthread" >&5
+$as_echo_n "checking for pthread_create in -pthread... " >&6; }
 if test "${ac_cv_lib_pthread_pthread_create+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lpthread  $LIBS"
+LIBS="-pthread  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@@@ -7281,7 +7281,7 @@@@ if test "x$ac_cv_lib_pthread_pthread_create" = x""yes;
 #define HAVE_LIBPTHREAD 1
 _ACEOF
 
-  LIBS="-lpthread $LIBS"
+  LIBS="-pthread $LIBS"
 
 fi
 
@


1.1
log
@Link with -pthread, not -lpthread.

ok eric@@ (maintainer) who came up with the same diff
@
text
@d1 5
a5 4
$OpenBSD$
--- configure.orig	Mon Jul 13 13:25:48 2009
+++ configure	Mon Jul 13 13:25:57 2009
@@@@ -8589,13 +8589,13 @@@@ fi
d8 6
a13 7
 
-{ echo "$as_me:$LINENO: checking for pthread_create in -lpthread" >&5
-echo $ECHO_N "checking for pthread_create in -lpthread... $ECHO_C" >&6; }
+{ echo "$as_me:$LINENO: checking for pthread_create in -pthread" >&5
+echo $ECHO_N "checking for pthread_create in -pthread... $ECHO_C" >&6; }
 if test "${ac_cv_lib_pthread_pthread_create+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
d18 4
a21 4
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -8655,7 +8655,7 @@@@ if test $ac_cv_lib_pthread_pthread_create = yes; then
d30 20
@

