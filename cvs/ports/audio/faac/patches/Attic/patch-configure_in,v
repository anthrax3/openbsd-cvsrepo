head	1.7;
access;
symbols
	OPENBSD_5_8:1.6.0.16
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.12
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.10
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.8
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.6
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.4
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.2
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.2
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.2.0.10
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.1.0.10
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.8
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.6
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.4
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.2
	OPENBSD_4_0_BASE:1.1.1.1
	ckuethe_20060713:1.1.1.1
	ckuethe:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2015.09.12.09.42.00;	author ajacoutot;	state dead;
branches;
next	1.6;
commitid	n61bS5LQQya3gIul;

1.6
date	2012.05.08.12.49.45;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2011.10.18.08.40.55;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2011.06.30.07.39.09;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2011.06.29.10.57.17;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2008.09.15.22.00.38;	author jakemsr;	state Exp;
branches;
next	1.1;

1.1
date	2006.07.13.16.18.40;	author ckuethe;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.07.13.16.18.40;	author ckuethe;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Remove audio/faac
- nothing in-tree uses it anymore
- we can't redistribute packages

With work over the last few releases of FFmpeg and especially in the last few
months the native FFmpeg encoder is now actually quite useful as it is bug free
enough.

from Brad
ok sthen@@
@
text
@$OpenBSD: patch-configure_in,v 1.6 2012/05/08 12:49:45 landry Exp $
--- configure.in.orig	Thu Feb  5 01:55:38 2009
+++ configure.in	Wed May  2 16:43:37 2012
@@@@ -1,7 +1,7 @@@@
 AC_PREREQ(2.50)
 AC_INIT(FAAC, 1.28, faac-dev@@lists.sourceforge.net)
 AC_CONFIG_AUX_DIR(.)
-AM_INIT_AUTOMAKE
+AM_INIT_AUTOMAKE(faac, 1.28)
 
 AM_CONFIG_HEADER(config.h)
 
@@@@ -28,14 +28,17 @@@@ AC_CHECK_DECL(strcasecmp, MY_DEFINE(HAVE_STRCASECMP))
 AC_CHECK_LIB(gnugetopt, getopt_long)
 
 AM_CONDITIONAL(WITH_MP4V2, false)
+AM_CONDITIONAL(WITH_EXT_MP4V2, false)
 
 AC_CHECK_DECLS([MP4Create, MP4MetadataDelete],
                AC_CHECK_LIB(mp4v2, MP4MetadataDelete, external_mp4v2=yes,
-                            external_mp4v2=no, -lstdc++),
-               external_mp4v2=no, [#include <mp4.h>])
+                            external_mp4v2=no, -lstdc++ -lm),
+               external_mp4v2=no, [#include <mp4v2/mp4v2.h>])
 
 if test x$external_mp4v2 = xyes; then
   AC_MSG_NOTICE([*** Building with external mp4v2 ***])
+  AM_CONDITIONAL(WITH_EXT_MP4V2, true)
+  MY_DEFINE(HAVE_LIBMP4V2)
 else
   if test x$WITHMP4V2 = xyes; then
      AC_MSG_NOTICE([*** Building with internal mp4v2 ***])
@


1.6
log
@adapt after libmp4v2 update
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.5 2011/10/18 08:40:55 ajacoutot Exp $
@


1.5
log
@One pack/push #pragma's was missed in previous.
Add missing RCS Id.

from Brad.
@
text
@d1 3
a3 3
$OpenBSD$
--- configure.in.orig	Wed Feb  4 19:55:38 2009
+++ configure.in	Wed Jun 29 17:49:41 2011
d22 1
d24 1
a24 1
                external_mp4v2=no, [#include <mp4.h>])
@


1.4
log
@Fix the autoconf/automake macro bits so the external libmp4v2 support
works as expected. Also from brads update.
@
text
@d1 1
@


1.3
log
@- update faac to 1.28
* fixes build issues with newer libtool, among other fixes
@
text
@d1 2
a2 2
--- configure.in.orig	Thu Feb  5 01:55:38 2009
+++ configure.in	Wed Jun 29 11:36:58 2011
d8 1
a8 1
+AM_INIT_AUTOMAKE(faac, 1.25)
d12 2
a13 1
@@@@ -10,8 +10,6 @@@@ AC_ARG_ENABLE( drm,  [  --enable-drm            Digita
d15 2
a16 8
 AC_DEFUN([MY_DEFINE], [ AC_DEFINE($1, 1, [define if needed]) ])
 
-CFLAGS=${CFLAGS:-"-O2 -Wall"}
-
 AC_PROG_CC
 AC_PROG_CXX
 AM_PROG_LIBTOOL
@@@@ -31,7 +29,7 @@@@ AM_CONDITIONAL(WITH_MP4V2, false)
d25 3
a27 1
@@@@ -39,12 +37,17 @@@@ if test x$external_mp4v2 = xyes; then
a30 17
-     AM_CONDITIONAL(WITH_MP4V2, true)
-     AC_CONFIG_LINKS(common/mp4v2/mpeg4ip_config.h:config.h)
-     MY_DEFINE(HAVE_LIBMP4V2)
   else
      AC_MSG_NOTICE([*** Building WITHOUT mp4v2 ***])
   fi
+fi
+
+if test x$external_mp4v2 = xyes -o x$WITHMP4V2 = xyes; then
+     AM_CONDITIONAL(WITH_MP4V2, true)
+    if test x$external_mp4v2 != xyes; then
+     AC_CONFIG_LINKS(common/mp4v2/mpeg4ip_config.h:config.h)
+    fi
+     MY_DEFINE(HAVE_LIBMP4V2)
 fi
 
 dnl Check for DRM mode
@


1.2
log
@- update to faac-1.26
- now uses libmp4v2 from multimedia/libmp4v2 instead of audio/faad

ok brad@@
@
text
@d1 11
a11 2
--- configure.in.orig	Mon Aug 20 11:03:22 2007
+++ configure.in	Thu Jul 10 23:55:40 2008
d14 1
a14 1
 AC_DEFUN(MY_DEFINE, [ AC_DEFINE($1, 1, [define if needed]) ])
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
--- configure.in.orig	Fri Apr 16 03:49:09 2004
+++ configure.in	Thu Jul 13 09:06:22 2006
@@@@ -6,8 +6,6 @@@@ AM_CONFIG_HEADER(config.h)
d10 1
d12 1
d14 5
a18 2
@@@@ -21,12 +19,14 @@@@ AC_CHECK_TYPES(int16_t)
 AC_CHECK_DECL(strcasecmp, MY_DEFINE(HAVE_STRCASECMP))
d20 20
a39 11
 AC_CHECK_LIB(gnugetopt, getopt_long)
+AC_LANG_PUSH(C++)
 AC_CHECK_LIB(mp4v2, MP4MetadataDelete,
 		    [AC_MSG_NOTICE([*** Building with MP4 support ***])
 		     MY_DEFINE([HAVE_LIBMP4V2])
 		     LIBS="$LIBS -lstdc++ -lmp4v2"],
 		     [AC_MSG_NOTICE([*** Building without MP4 support ***])],
-		     -lstdc++)
+		     -lm)
+AC_LANG_POP(C++)
 AC_C_BIGENDIAN
d41 1
a41 1
 dnl Checks for header files required for mp4.h
@


1.1.1.1
log
@importing FAAC, a freeware encoder for MPEG-2 and MPEG-4 AAC.
ok naddy
@
text
@@
