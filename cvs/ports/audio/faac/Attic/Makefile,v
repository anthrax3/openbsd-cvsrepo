head	1.19;
access;
symbols
	OPENBSD_5_8:1.18.0.4
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.17.0.8
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.17.0.6
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.17.0.4
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.15.0.4
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.2
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.2
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.6.0.2
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.5.0.6
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.4
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.4
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2
	ckuethe_20060713:1.1.1.1
	ckuethe:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2015.09.12.09.42.00;	author ajacoutot;	state dead;
branches;
next	1.18;
commitid	n61bS5LQQya3gIul;

1.18
date	2015.03.16.18.07.35;	author naddy;	state Exp;
branches;
next	1.17;
commitid	IJdm3Zowcdkcxp5X;

1.17
date	2013.03.21.08.45.12;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.10.22.55.02;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2012.06.15.12.51.32;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2012.05.08.12.49.45;	author landry;	state Exp;
branches;
next	1.13;

1.13
date	2011.10.18.08.40.55;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2011.08.28.13.19.45;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2011.06.30.07.39.09;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.06.29.20.50.49;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.06.29.10.57.17;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.15.00.22.46;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2010.09.05.10.25.16;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2010.06.23.16.57.30;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2008.09.15.22.00.38;	author jakemsr;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.15.21.26.01;	author simon;	state Exp;
branches;
next	1.3;

1.3
date	2006.10.28.10.30.41;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2006.08.01.11.17.56;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2006.07.13.16.18.40;	author ckuethe;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.07.13.16.18.40;	author ckuethe;	state Exp;
branches;
next	;


desc
@@


1.19
log
@Remove audio/faac
- nothing in-tree uses it anymore
- we can't redistribute packages

With work over the last few releases of FFmpeg and especially in the last few
months the native FFmpeg encoder is now actually quite useful as it is bug free
enough.

from Brad
ok sthen@@
@
text
@# $OpenBSD: Makefile,v 1.18 2015/03/16 18:07:35 naddy Exp $

COMMENT=	MPEG-2 and MPEG-4 AAC encoder

DISTNAME=	faac-1.28
REVISION=	5
CATEGORIES=    	audio
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=faac/}

SHARED_LIBS +=	faac                 1.0      # .0.0

HOMEPAGE=	http://www.audiocoding.com/

# LGPLv2 + MPEG reference (incompatible)
PERMIT_PACKAGE_CDROM=	Cannot distribute
PERMIT_PACKAGE_FTP=	Cannot distribute
PERMIT_DISTFILES_FTP=	Yes

WANTLIB=	c m stdc++ mp4v2>=3

# uses macros from libtool.m4
BUILD_DEPENDS=	${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS} \
		devel/libtool
LIB_DEPENDS=	multimedia/libmp4v2>=1.9.1

USE_GMAKE=	Yes
CONFIGURE_STYLE= gnu
AUTOCONF_VERSION= 2.61
AUTOMAKE_VERSION= 1.9
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

post-patch:
	@@cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} PATH=${PORTPATH} \
		sh bootstrap

.include <bsd.port.mk>
@


1.18
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/21 08:45:12 ajacoutot Exp $
@


1.17
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/10 22:55:02 espie Exp $
d6 1
a6 1
REVISION=	4
@


1.16
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/06/15 12:51:32 ajacoutot Exp $
a26 1
USE_LIBTOOL=	Yes
@


1.15
log
@Fix PERMIT_PACKAGE_CDROM and PERMIT_PACKAGE_FTP since we cannot
distribute a package.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/05/08 12:49:45 landry Exp $
a16 1
PERMIT_DISTFILES_CDROM=	Patents
@


1.14
log
@adapt after libmp4v2 update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/10/18 08:40:55 ajacoutot Exp $
d6 1
a6 1
REVISION=	3
d15 2
a16 2
PERMIT_PACKAGE_CDROM=	Patents
PERMIT_PACKAGE_FTP=	Yes
@


1.13
log
@One pack/push #pragma's was missed in previous.
Add missing RCS Id.

from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/08/28 13:19:45 naddy Exp $
d6 1
a6 1
REVISION=	2
d26 1
a26 1
LIB_DEPENDS=	multimedia/libmp4v2
@


1.12
log
@Do not gratuitously pack (and misalign) internal data structures.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/06/30 07:39:09 jasper Exp $
d6 1
a6 1
REVISION=	1
@


1.11
log
@Fix the autoconf/automake macro bits so the external libmp4v2 support
works as expected. Also from brads update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/06/29 20:50:49 jasper Exp $
d6 1
a6 1
REVISION=	0
@


1.10
log
@- merge in fixes from brads faac update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/06/29 10:57:17 jasper Exp $
d33 1
a33 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--without-mp4v2
@


1.9
log
@- update faac to 1.28
* fixes build issues with newer libtool, among other fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/15 00:22:46 espie Exp $
d4 1
d6 1
d9 1
d14 1
a14 1
# GPL
d20 1
a20 1
WANTLIB=		c m stdc++ mp4v2>=3
d23 2
a24 1
BUILD_DEPENDS+=	${MODGNU_AUTOCONF_DEPENDS} \
d26 2
a29 3

LIB_DEPENDS=	multimedia/libmp4v2

d31 4
a34 2
AUTOCONF_VERSION=2.59
AUTOMAKE_VERSION=1.4
a37 3
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--without-mp4v2

d39 1
a39 2
	@@touch ${WRKSRC}/frontend/dummy.cc
	@@cd ${WRKSRC} && AUTOCONF_VERSION=${AUTOCONF_VERSION} \
a41 9

# XXX: autoconf-voodoo priest could offer their services?
post-configure:
	perl -pi -e 's,(ACLOCAL|AUTOCONF|AUTOMAKE|AUTOHEADER) = ,\1 = AUTOCONF_VERSION=${AUTOCONF_VERSION} ,g' \
		${WRKSRC}/Makefile

# paths in install target are messed up.
post-install:
	${INSTALL_MAN} ${WRKSRC}/docs/faac.1 ${PREFIX}/man/man1
@


1.8
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/09/05 10:25:16 sthen Exp $
d4 1
a4 1
DISTNAME=	faac-1.26
d27 1
a27 2
WRKDIST=	${WRKDIR}/faac
CONFIGURE_STYLE= automake
d41 9
@


1.7
log
@new-style LIB_DEPENDS/REVISION and sync WANTLIB where necessary
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/06/23 16:57:30 landry Exp $
d17 1
a17 1
WANTLIB=		c m stdc++ mp4v2.>=3
d21 1
a21 1
		::devel/libtool
d25 1
a25 1
LIB_DEPENDS=	::multimedia/libmp4v2
@


1.6
log
@Explicitely add libtool to BUILD_DEPENDS as faac bootstrapping checks for
libtoolize and thereafter uses macros from libtool.m4. Builds fine with
ports libtool otherwise.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/09/15 22:00:38 jakemsr Exp $
d16 2
a17 1
WANTLIB=		c m stdc++
d25 1
a25 1
LIB_DEPENDS=	mp4v2.>=3::multimedia/libmp4v2
@


1.5
log
@- update to faac-1.26
- now uses libmp4v2 from multimedia/libmp4v2 instead of audio/faad

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/09/15 21:26:01 simon Exp $
d18 3
a20 1
BUILD_DEPENDS+=	${MODGNU_AUTOCONF_DEPENDS}
@


1.4
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/10/28 10:30:41 espie Exp $
d4 1
a4 1
DISTNAME=	faac-1.24
d7 1
a7 1
SHARED_LIBS +=	faac                 0.0      # .0.0
a18 1
LIB_DEPENDS=	mp4v2.>=1::audio/faad
d20 3
@


1.3
log
@re-format SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/08/01 11:17:56 espie Exp $
d3 1
a3 1
COMMENT=	"MPEG-2 and MPEG-4 AAC encoder"
d12 1
a12 1
PERMIT_PACKAGE_CDROM=	"Patents"
d14 1
a14 1
PERMIT_DISTFILES_CDROM=	"Patents"
@


1.2
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/07/13 16:18:40 ckuethe Exp $
d7 1
a7 1
SHARED_LIBS=	faac	0.0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/03/23 17:21:28 jolan Exp $
d19 1
a19 1
LIB_DEPENDS=	mp4v2.1::audio/faad
@


1.1.1.1
log
@importing FAAC, a freeware encoder for MPEG-2 and MPEG-4 AAC.
ok naddy
@
text
@@
