head	1.7;
access;
symbols
	OPENBSD_4_3:1.6.0.4
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.6.0.2
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.4.0.12
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.10
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.8
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.6
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.4
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.2
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.3.0.8
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.6
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.4
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1;
locks; strict;
comment	@# @;


1.7
date	2008.03.31.01.05.54;	author jakemsr;	state dead;
branches;
next	1.6;

1.6
date	2007.08.11.17.29.36;	author martynas;	state Exp;
branches;
next	1.5;

1.5
date	2007.06.26.17.10.29;	author martynas;	state dead;
branches;
next	1.4;

1.4
date	2004.06.26.04.38.33;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2002.07.26.19.57.23;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.05.15.35.13;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.04.05.03.20;	author brad;	state Exp;
branches;
next	;


desc
@@


1.7
log
@bring back esound-0.2.38.

fix the issues with audio(4) handling that caused this to get
reverted previously.

add an arts flavor.
@
text
@--- configure.in.orig	Tue Mar 16 16:20:39 2004
+++ configure.in	Thu Aug  9 17:02:45 2007
@@@@ -205,6 +205,16 @@@@ if test "x$enable_local_sound" = "xyes"; then
       esac
    fi
 
+   if test "${ac_cv_header_sys_audioio_h}" = "yes"; then
+      case ${host_os} in
+      openbsd* | netbsd*)
+         found_sound=yes
+         DRIVER_SUN=1
+         AC_DEFINE(DRIVER_SUN)
+         ;;
+      esac
+   fi
+
    case ${host_os} in
    os2*)
       found_sound=yes
@@@@ -263,7 +273,9 @@@@ if test "x$enable_local_sound" = "xyes"; then
    echo "---------------------------------------------------------------------"
    echo "--- Checking to see which audio libraries are required for linking.";
    echo "--- Most of these checks should also fail. Do not be alarmed.";
-   AC_CHECK_FUNC(_oss_ioctl,,[AC_CHECK_LIB(ossaudio,_oss_ioctl)])
+   if test ! "$DRIVER_SUN"; then
+     AC_CHECK_FUNC(_oss_ioctl,,[AC_CHECK_LIB(ossaudio,_oss_ioctl)])
+   fi
    AC_CHECK_FUNC(ALnewconfig,,[AC_CHECK_LIB(audio,ALnewconfig)])
    if test "x$enable_alsa" = "xyes"; then
       AC_CHECK_FUNC(snd_cards,,[AC_CHECK_LIB(sound,snd_cards)])
@@@@ -382,7 +394,8 @@@@ if test "x$with_libwrap" = "xyes"; then
 
    wrap_ok=no
    AC_TRY_LINK(
-[#include <tcpd.h>
+[#include <stdio.h>
+#include <tcpd.h>
 #include <syslog.h>
 int allow_severity = LOG_INFO;
 int deny_severity = LOG_WARNING;],
@@@@ -392,7 +405,8 @@@@ int deny_severity = LOG_WARNING;],
        wrap_ok=yes],
       [LIBS="$LIBS -lnsl"
        AC_TRY_LINK(
-[#include <tcpd.h>
+[#include <stdio.h>
+#include <tcpd.h>
 #include <syslog.h>
 int allow_severity = LOG_INFO;
 int deny_severity = LOG_WARNING;],
@


1.6
log
@revert to 0.2.34;  this is known to cause problems for devices with
48kHz sampling rate, originally reported by Gareth <garf at
loveandnature dot co dot za>
testing and patches from jakemsr@@, aanriot@@ and Tim van der Molen
<tbvdm.lists at xs4all dot nl>
ok naddy@@, jakemsr@@, simon@@, jasper@@
@
text
@@


1.5
log
@update to 0.2.38 plus some minor changes and cleanups
steven@@ says it does not break builk build
ok naddy@@, simon@@; "ok ok ok" jasper@@
@
text
@d1 3
a3 3
--- configure.in.orig	Tue Mar 16 07:20:39 2004
+++ configure.in	Thu Jun 24 20:07:12 2004
@@@@ -205,6 +205,16 @@@@ if test "x$enable_local_sound" = "xyes";
d20 1
a20 1
@@@@ -263,7 +273,9 @@@@ if test "x$enable_local_sound" = "xyes";
@


1.4
log
@upgrade to esound 0.2.34
--
Most of the work done by marcm@@
@
text
@@


1.3
log
@upgrade to esound 0.2.28
--
With some testing by: naddy@@
@
text
@d1 3
a3 3
--- configure.in.orig	Wed Jun 19 10:03:32 2002
+++ configure.in	Fri Jul 19 18:08:06 2002
@@@@ -151,6 +151,16 @@@@ if test "x$enable_local_sound" = "xyes";
d20 1
a20 1
@@@@ -203,7 +213,9 @@@@ if test "x$enable_local_sound" = "xyes";
d31 1
a31 1
@@@@ -290,7 +302,8 @@@@ if test "x$with_libwrap" = "xyes"; then
d41 1
a41 1
@@@@ -300,7 +313,8 @@@@ int deny_severity = LOG_WARNING;],
@


1.2
log
@upgrade to esound 0.2.24
--
From: naddy@@
@
text
@d1 2
a2 2
--- configure.in.orig	Fri Mar  1 17:07:05 2002
+++ configure.in	Tue Mar  5 09:21:38 2002
d20 1
a20 1
@@@@ -200,7 +210,9 @@@@ if test "x$enable_local_sound" = "xyes";
d31 1
a31 1
@@@@ -285,7 +297,8 @@@@ if test "x$with_libwrap" = "xyes"; then
d41 1
a41 1
@@@@ -295,7 +308,8 @@@@ int deny_severity = LOG_WARNING;],
@


1.1
log
@replace oss audio API usage with our native audio API.
--
Patches and code for native audio API support from:
Wilbern Cobb <cobb@@vedge.com.ar>
@
text
@d1 3
a3 3
--- configure.in.orig	Tue Nov 28 14:29:37 2000
+++ configure.in	Sun Jul 22 19:56:41 2001
@@@@ -150,6 +150,16 @@@@ if test "x$enable_local_sound" = "xyes";
d20 1
a20 1
@@@@ -199,7 +209,9 @@@@ if test "x$enable_local_sound" = "xyes";
d31 1
a31 1
@@@@ -284,7 +296,8 @@@@ if test "x$with_libwrap" = "xyes"; then
d41 1
a41 1
@@@@ -294,7 +307,8 @@@@ int deny_severity = LOG_WARNING;],
@

