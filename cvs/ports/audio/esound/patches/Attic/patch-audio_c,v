head	1.7;
access;
symbols
	OPENBSD_5_6:1.6.0.24
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.22
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.20
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.18
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.16
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.14
	OPENBSD_5_0:1.6.0.12
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.10
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.6.0.8
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.6.0.6
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.4
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.2
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.4.0.4
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.2
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.2.0.20
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.18
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.16
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.14
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.12
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.10
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.8
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.6
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.4
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.2
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.1.0.4
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1;
locks; strict;
comment	@# @;


1.7
date	2014.11.04.19.12.01;	author armani;	state dead;
branches;
next	1.6;
commitid	s8peMEaWH7EANIc0;

1.6
date	2008.12.20.08.58.32;	author jakemsr;	state Exp;
branches;
next	1.5;

1.5
date	2008.03.31.01.05.54;	author jakemsr;	state Exp;
branches;
next	1.4;

1.4
date	2007.08.11.17.29.36;	author martynas;	state Exp;
branches;
next	1.3;

1.3
date	2007.06.26.17.10.29;	author martynas;	state Exp;
branches;
next	1.2;

1.2
date	2002.07.26.19.57.23;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.04.05.03.20;	author brad;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Remove EsounD / ESD, old and deprecated sound server

ok aja@@, ratchov@@, brad@@
@
text
@$OpenBSD: patch-audio_c,v 1.6 2008/12/20 08:58:32 jakemsr Exp $
--- audio.c.orig	Sat Dec 20 00:19:22 2008
+++ audio.c	Sat Dec 20 00:19:22 2008
@@@@ -31,6 +31,8 @@@@ static int esd_write_size = ESD_BUF_SIZE;
 #  include "audio_alsa.c"
 #elif defined(DRIVER_OSS)
 #  include "audio_oss.c"
+#elif defined(DRIVER_SNDIO)
+#  include "audio_sndio.c"
 #elif defined(DRIVER_AIX)
 #  include "audio_aix.c"
 #elif defined(DRIVER_IRIX)
@


1.6
log
@- update to 0.2.41
- replace audio(4) backend with sio_open(3) (libsndio) backend

update by ajacoutot, new backend from me
@
text
@d1 1
a1 1
$OpenBSD: patch-audio_c,v 1.5 2008/03/31 01:05:54 jakemsr Exp $
@


1.5
log
@bring back esound-0.2.38.

fix the issues with audio(4) handling that caused this to get
reverted previously.

add an arts flavor.
@
text
@d1 12
a12 39
$OpenBSD: patch-audio_c,v 1.3 2007/06/26 17:10:29 martynas Exp $
--- audio.c.orig	Thu Apr 19 17:43:59 2007
+++ audio.c	Sat Jun  2 23:15:49 2007
@@@@ -20,34 +20,7 @@@@ static int esd_audio_fd = -1;
 /*******************************************************************/
 /* returns audio_fd for use by main prog - platform dependent */
 
-/* ALSA before OSS as ALSA is OSS compatible */
-#if defined(DRIVER_ALSA_09)
-#  include "audio_alsa09.c"
-#elif defined(DRIVER_ALSA) || defined(DRIVER_NEWALSA) 
-#  include "audio_alsa.c"
-#elif defined(DRIVER_OSS)
-#  include "audio_oss.c"
-#elif defined(DRIVER_AIX)
-#  include "audio_aix.c"
-#elif defined(DRIVER_IRIX)
-#  include "audio_irix.c"
-#elif defined(DRIVER_HPUX)
-#  include "audio_hpux.c"
-#elif defined(DRIVER_OSF)
-#  include "audio_osf.c"
-#elif defined(DRIVER_SOLARIS)
-#  include "audio_solaris.c"
-#elif defined(DRIVER_MKLINUX)
-#  include "audio_mklinux.c"
-#elif defined(DRIVER_DART)
-#  include "audio_dart.c"
-#elif defined(DRIVER_COREAUDIO)
-#  include "audio_coreaudio.c"
-#elif defined(DRIVER_ARTS)
-#  include "audio_arts.c"
-#else
-#  include "audio_none.c"
-#endif
+#include "audio_sun.c"
 
 /*******************************************************************/
 /* display available devices */
@


1.4
log
@revert to 0.2.34;  this is known to cause problems for devices with
48kHz sampling rate, originally reported by Gareth <garf at
loveandnature dot co dot za>
testing and patches from jakemsr@@, aanriot@@ and Tim van der Molen
<tbvdm.lists at xs4all dot nl>
ok naddy@@, jakemsr@@, simon@@, jasper@@
@
text
@d1 39
a39 11
--- audio.c.orig	Tue Jun  4 10:40:44 2002
+++ audio.c	Fri Jul 19 18:32:52 2002
@@@@ -25,6 +25,8 @@@@ static int esd_audio_fd = -1;
 #  include "audio_alsa.c"
 #elif defined(DRIVER_ALSA_09)
 #include "audio_alsa09.c"
+#elif defined(DRIVER_SUN)
+#  include "audio_sun.c"
 #elif defined(DRIVER_OSS)
 #  include "audio_oss.c"
 #elif defined(DRIVER_AIX)
@


1.3
log
@update to 0.2.38 plus some minor changes and cleanups
steven@@ says it does not break builk build
ok naddy@@, simon@@; "ok ok ok" jasper@@
@
text
@d1 11
a11 39
$OpenBSD$
--- audio.c.orig	Thu Apr 19 17:43:59 2007
+++ audio.c	Sat Jun  2 23:15:49 2007
@@@@ -20,34 +20,7 @@@@ static int esd_audio_fd = -1;
 /*******************************************************************/
 /* returns audio_fd for use by main prog - platform dependent */
 
-/* ALSA before OSS as ALSA is OSS compatible */
-#if defined(DRIVER_ALSA_09)
-#  include "audio_alsa09.c"
-#elif defined(DRIVER_ALSA) || defined(DRIVER_NEWALSA) 
-#  include "audio_alsa.c"
-#elif defined(DRIVER_OSS)
-#  include "audio_oss.c"
-#elif defined(DRIVER_AIX)
-#  include "audio_aix.c"
-#elif defined(DRIVER_IRIX)
-#  include "audio_irix.c"
-#elif defined(DRIVER_HPUX)
-#  include "audio_hpux.c"
-#elif defined(DRIVER_OSF)
-#  include "audio_osf.c"
-#elif defined(DRIVER_SOLARIS)
-#  include "audio_solaris.c"
-#elif defined(DRIVER_MKLINUX)
-#  include "audio_mklinux.c"
-#elif defined(DRIVER_DART)
-#  include "audio_dart.c"
-#elif defined(DRIVER_COREAUDIO)
-#  include "audio_coreaudio.c"
-#elif defined(DRIVER_ARTS)
-#  include "audio_arts.c"
-#else
-#  include "audio_none.c"
-#endif
+#include "audio_sun.c"
 
 /*******************************************************************/
 /* display available devices */
@


1.2
log
@upgrade to esound 0.2.28
--
With some testing by: naddy@@
@
text
@d1 39
a39 11
--- audio.c.orig	Tue Jun  4 10:40:44 2002
+++ audio.c	Fri Jul 19 18:32:52 2002
@@@@ -25,6 +25,8 @@@@ static int esd_audio_fd = -1;
 #  include "audio_alsa.c"
 #elif defined(DRIVER_ALSA_09)
 #include "audio_alsa09.c"
+#elif defined(DRIVER_SUN)
+#  include "audio_sun.c"
 #elif defined(DRIVER_OSS)
 #  include "audio_oss.c"
 #elif defined(DRIVER_AIX)
@


1.1
log
@replace oss audio API usage with our native audio API.
--
Patches and code for native audio API support from:
Wilbern Cobb <cobb@@vedge.com.ar>
@
text
@d1 3
a3 5
--- audio.c.orig	Tue Sep 26 11:56:18 2000
+++ audio.c	Sun Jul 22 17:41:04 2001
@@@@ -23,6 +23,8 @@@@ static int esd_audio_fd = -1;
 /* ALSA before OSS as ALSA is OSS compatible */
 #if defined(DRIVER_ALSA) || defined(DRIVER_NEWALSA) 
d5 2
@

