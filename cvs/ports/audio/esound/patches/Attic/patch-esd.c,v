head	1.10;
access;
symbols
	OPENBSD_4_3:1.9.0.4
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.7.0.12
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.10
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.8
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.7.0.6
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.4
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.7.0.2
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.6.0.8
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.6
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.6.0.4
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.2
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.5.0.2
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.4
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.2.0.2
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.1.0.2;
locks; strict;
comment	@ * @;


1.10
date	2008.03.31.01.05.54;	author jakemsr;	state dead;
branches;
next	1.9;

1.9
date	2007.08.11.17.29.36;	author martynas;	state Exp;
branches;
next	1.8;

1.8
date	2007.06.26.17.10.29;	author martynas;	state dead;
branches;
next	1.7;

1.7
date	2004.06.26.04.38.33;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2002.07.26.19.57.23;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2002.03.05.15.35.13;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2001.08.04.05.03.20;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2001.01.03.15.50.50;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2000.10.06.00.17.46;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2000.08.06.09.24.44;	author brad;	state Exp;
branches;
next	;


desc
@@


1.10
log
@bring back esound-0.2.38.

fix the issues with audio(4) handling that caused this to get
reverted previously.

add an arts flavor.
@
text
@--- esd.c.orig	Wed Jan 14 07:00:46 2004
+++ esd.c	Thu Jun 24 20:07:12 2004
@@@@ -236,12 +236,12 @@@@ struct stat dir_stats;
 
 #if defined(S_ISVTX)
 #define ESD_UNIX_SOCKET_DIR_MODE (S_IRUSR|S_IWUSR|S_IXUSR|\
-				  S_IRGRP|S_IWGRP|S_IXGRP|\
-				  S_IROTH|S_IWOTH|S_IXOTH|S_ISVTX)
+				  S_IRGRP|S_IXGRP|\
+				  S_IROTH|S_IXOTH|S_ISVTX)
 #else
 #define ESD_UNIX_SOCKET_DIR_MODE (S_IRUSR|S_IWUSR|S_IXUSR|\
-				  S_IRGRP|S_IWGRP|S_IXGRP|\
-				  S_IROTH|S_IWOTH|S_IXOTH)
+				  S_IRGRP|S_IXGRP|\
+				  S_IROTH|S_IXOTH)
 #endif
 
   if (mkdir(ESD_UNIX_SOCKET_DIR, ESD_UNIX_SOCKET_DIR_MODE) == 0) {
@


1.9
log
@revert to 0.2.34;  this is known to cause problems for devices with
48kHz sampling rate, originally reported by Gareth <garf at
loveandnature dot co dot za>
testing and patches from jakemsr@@, aanriot@@ and Tim van der Molen
<tbvdm.lists at xs4all dot nl>
ok naddy@@, jakemsr@@, simon@@, jasper@@
@
text
@@


1.8
log
@update to 0.2.38 plus some minor changes and cleanups
steven@@ says it does not break builk build
ok naddy@@, simon@@; "ok ok ok" jasper@@
@
text
@@


1.7
log
@upgrade to esound 0.2.34
--
Most of the work done by marcm@@
@
text
@@


1.6
log
@upgrade to esound 0.2.28
--
With some testing by: naddy@@
@
text
@d1 3
a3 3
--- esd.c.orig	Mon Jun 17 05:33:23 2002
+++ esd.c	Fri Jul 19 18:08:06 2002
@@@@ -221,12 +221,12 @@@@ struct stat dir_stats;
@


1.5
log
@upgrade to esound 0.2.24
--
From: naddy@@
@
text
@d1 3
a3 3
--- esd.c.orig	Fri Jul 13 14:59:50 2001
+++ esd.c	Tue Mar  5 09:21:39 2002
@@@@ -211,12 +211,12 @@@@ struct stat dir_stats;
@


1.4
log
@replace oss audio API usage with our native audio API.
--
Patches and code for native audio API support from:
Wilbern Cobb <cobb@@vedge.com.ar>
@
text
@d1 3
a3 3
--- esd.c.orig	Tue Nov 28 14:27:30 2000
+++ esd.c	Sun Jul 22 17:41:06 2001
@@@@ -210,12 +210,12 @@@@ struct stat dir_stats;
@


1.3
log
@upgrade to esound 0.2.22
@
text
@d1 3
a3 3
--- esd.c.orig	Wed Jan  3 08:56:09 2001
+++ esd.c	Wed Jan  3 08:58:00 2001
@@@@ -210,12 +210,12 @@@@
@


1.2
log
@upgrade to esound 0.2.20
@
text
@d1 19
a19 19
--- esd.c.orig	Mon Oct  2 12:39:17 2000
+++ esd.c	Thu Oct  5 19:39:00 2000
@@@@ -219,12 +219,12 @@@@
 	{	
 	  mkdir(ESD_UNIX_SOCKET_DIR,
 		S_IRUSR|S_IWUSR|S_IXUSR|
-		S_IRGRP|S_IWGRP|S_IXGRP|
-		S_IROTH|S_IWOTH|S_IXOTH);
+		S_IRGRP|S_IXGRP|
+		S_IROTH|S_IXOTH);
 	  chmod(ESD_UNIX_SOCKET_DIR,
 		S_IRUSR|S_IWUSR|S_IXUSR|
-		S_IRGRP|S_IWGRP|S_IXGRP|
-		S_IROTH|S_IWOTH|S_IXOTH);
+		S_IRGRP|S_IXGRP|
+		S_IROTH|S_IXOTH);
 	}
       if (access(ESD_UNIX_SOCKET_NAME, R_OK | W_OK) == -1)
 	{
@


1.1
log
@add patches to fix /tmp races with esound. From: FreeBSD
--
Fix EsounD daemon and library insecurities noted on BugTraq.
Instead of an 0777 chock-full-o-races /tmp/.esd/, use a 0755 ~/.esd/.
Also, the ~/.esd/socket of course needs only be 0644.
@
text
@d1 2
a2 2
--- esd.c.orig	Sun Aug  6 04:43:42 2000
+++ esd.c	Sun Aug  6 04:47:49 2000
a19 13
@@@@ -317,9 +317,9 @@@@
       /* let anyone access esd's socket - but we have authentication so they */
       /* wont get far if they dont have the auth key */
       chmod(ESD_UNIX_SOCKET_NAME, 
-	    S_IRUSR|S_IWUSR|S_IXUSR|
-	    S_IRGRP|S_IWGRP|S_IXGRP|
-	    S_IROTH|S_IWOTH|S_IXOTH);
+	    S_IRUSR|S_IWUSR|
+	    S_IRGRP|
+	    S_IROTH);
     }
     if (listen(socket_listen,16)<0)
     {
@

