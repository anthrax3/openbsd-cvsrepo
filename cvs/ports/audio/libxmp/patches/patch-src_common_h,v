head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.1.0.8
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.4
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.6
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2016.12.02.09.39.07;	author fcambus;	state Exp;
branches;
next	1.1;
commitid	Wzzcd3sWv2963uIk;

1.1
date	2014.12.01.18.03.51;	author miod;	state Exp;
branches;
next	;
commitid	q0ncMb1DIiZ7NNhb;


desc
@@


1.2
log
@Update libxmp to 4.4.1.

This is a bugfix release, no bump needed.

OK ajacoutot@@
@
text
@$OpenBSD$

Disable versioned symbols on platforms using gcc 3.x, for the toolchain does
not support them.

--- src/common.h.orig	Thu Dec  1 22:19:37 2016
+++ src/common.h	Thu Dec  1 22:18:54 2016
@@@@ -9,7 +9,7 @@@@
 #include <string.h>
 #include "xmp.h"
 
-#if defined(__GNUC__) || defined(__clang__)
+#if (defined(__GNUC__) && __GNUC__ >= 4) || defined(__clang__)
 #if !defined(WIN32) && !defined(__ANDROID__) && !defined(__APPLE__) && !defined(__AMIGA__) && !defined(B_BEOS_VERSION) && !defined(__ATHEOS__) && !defined(EMSCRIPTEN) && !defined(__MINT__) 
 #define USE_VERSIONED_SYMBOLS
 #endif
@


1.1
log
@Disable symbol versioning when building on gcc 3 platforms, for the toolchain
does not support this. No change on gcc 4 platforms, therefore no pkg bump.

ok benoit@@
@
text
@d6 2
a7 2
--- src/common.h.orig	Mon Nov 10 22:25:25 2014
+++ src/common.h	Sun Nov 30 15:20:17 2014
d14 1
a14 1
 #if !defined(WIN32) && !defined(ANDROID) && !defined(__APPLE__) && !defined(__AMIGA__) && !defined(B_BEOS_VERSION) && !defined(__ATHEOS__) && !defined(EMSCRIPTEN) && !defined(__MINT__) 
@

