head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.20
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.18
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.14
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.16
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.12
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.10
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.8
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.6
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2012.04.28.09.03.08;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2011.08.17.12.38.35;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to an up to date snapshot of the Tremor decoder.
* fixes a few security related issues and a good number of bugs

from Brad
@
text
@$OpenBSD: patch-configure_in,v 1.1 2011/08/17 12:38:35 jasper Exp $
--- configure.in.orig	Wed Oct  5 01:12:59 2011
+++ configure.in	Wed Oct  5 01:23:43 2011
@@@@ -62,13 +62,13 @@@@ else
         case $host in 
         arm-*-*)
                 DEBUG="-g -Wall -D__NO_MATH_INLINES -fsigned-char -D_ARM_ASSEM_"
-                CFLAGS="-O2 -D_ARM_ASSEM_ -fsigned-char"
-                PROFILE="-W -pg -g -O2 -D_ARM_ASSEM_ -fsigned-char -fno-inline-functions";;
+                CFLAGS="-D_ARM_ASSEM_ -fsigned-char"
+                PROFILE="-W -pg -g -D_ARM_ASSEM_ -fsigned-char -fno-inline-functions";;
 
         *)
                 DEBUG="-g -Wall -D__NO_MATH_INLINES -fsigned-char"
-                CFLAGS="-O2 -Wall -fsigned-char"
-                PROFILE="-Wall -pg -g -O2 -fsigned-char -fno-inline-functions";;
+                CFLAGS="-Wall -fsigned-char"
+                PROFILE="-Wall -pg -g -fsigned-char -fno-inline-functions";;
         esac
 fi
 CFLAGS="$CFLAGS $cflags_save -D_REENTRANT"
@


1.1
log
@- fix a typo in the configure script that would break -Wl,--version-script
- also fix CFLAGS so it's not inserting -O2 unconditionally

from brad
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.in.orig	Tue Mar 25 22:56:24 2008
+++ configure.in	Sat Jul 30 20:33:10 2011
@@@@ -59,13 +59,13 @@@@ else
a21 18
@@@@ -76,16 +76,7 @@@@ LDFLAGS="$LDFLAGS $ldflags_save"
 AC_PROG_LD
 AC_PROG_LD_GNU
 if test "x$lt_cv_prog_gnu_ld" = "xyes"; then
-   SHLIB_VERSION_ARG="Wl,--version-script=Version_script"
-
-   dnl Set extra linker options
-   case "$target_os" in
-  linux* | solaris* )
-    SHLIB_VERSION_ARG="-Wl,--version-script=Version_script"
-    ;;
-  *)
-    ;;
-   esac
+   SHLIB_VERSION_ARG="-Wl,--version-script=Version_script"
    LDFLAGS="$LDFLAGS $SHLIB_VERSION_ARG"
 fi
 
@

