head	1.2;
access;
symbols
	OPENBSD_3_3:1.1.0.6
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.4
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.2
	OPENBSD_3_1_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2003.07.17.20.29.14;	author naddy;	state dead;
branches;
next	1.1;

1.1
date	2002.01.17.00.25.52;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to 12.17.4.  Add flavor to support mp3 encoding/decoding.
@
text
@$OpenBSD: patch-vorbis_c,v 1.1 2002/01/17 00:25:52 naddy Exp $
--- vorbis.c.orig	Sat Dec  1 03:10:35 2001
+++ vorbis.c	Thu Jan 17 00:34:08 2002
@@@@ -337,9 +337,8 @@@@ int st_vorbisstartwrite(ft_t ft) 
 	fprintf(stdout, "Channels: %d  Rate: %ld\n", ft->info.channels,
 		rate);
 
-	/* Set encoding to average bit rate of 128kbps with no min or max */
-	vorbis_encode_init(&ve->vi, ft->info.channels, ft->info.rate,
-			   -1, 128000, -1);
+	/* Set encoding to average bit rate of 112kbps VBR */
+	vorbis_encode_init_vbr(&ve->vi, ft->info.channels, ft->info.rate, 0.3f);
 
 	vorbis_analysis_init(&ve->vd, &ve->vi);
 	vorbis_block_init(&ve->vd, &ve->vb);
@


1.1
log
@* Fix Ogg Vorbis encoding for RC3.
* Radically prune DESCR.
* Update to 12.17.3.  GSM support is now integrated.
@
text
@d1 1
a1 1
$OpenBSD$
@

