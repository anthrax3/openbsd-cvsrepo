head	1.2;
access;
symbols
	OPENBSD_4_2:1.1.0.18
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.16
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.14
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.12
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.10
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.8
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.6
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.4
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.2
	OPENBSD_3_4_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2007.09.20.22.07.50;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2003.04.14.09.47.46;	author avsm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update libcdaudio to 0.99.12; various small fixes.

ok steven@@
@
text
@$OpenBSD: patch-source_cdindex_c,v 1.1 2003/04/14 09:47:46 avsm Exp $
--- source/cdindex.c.orig	Mon Apr 14 10:06:46 2003
+++ source/cdindex.c	Mon Apr 14 10:07:43 2003
@@@@ -878,7 +878,7 @@@@ cdindex_http_submit(int cd_desc, struct 
    strncpy(outbuffer, "Content-Type: text/plain\n", 512);
    write(sock, outbuffer, strlen(outbuffer));
    
-   snprintf(cdindex_file, 512, "%s/.cdindex/%s",
+   snprintf(cdindex_file, sizeof cdindex_file, "%s/.cdindex/%s",
 	    getenv("HOME"), entry.entry_cdindex_id);
    stat(cdindex_file, &st);
    
@


1.1
log
@fix bad static buffer bound - submitted to upsteam author
ok kevlo@@
@
text
@d1 1
a1 1
$OpenBSD$
@

