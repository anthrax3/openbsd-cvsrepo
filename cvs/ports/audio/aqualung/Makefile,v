head	1.44;
access;
symbols
	OPENBSD_6_1:1.43.0.2
	OPENBSD_6_1_BASE:1.43
	OPENBSD_6_0:1.41.0.4
	OPENBSD_6_0_BASE:1.41
	OPENBSD_5_9:1.41.0.2
	OPENBSD_5_9_BASE:1.41
	OPENBSD_5_8:1.40.0.4
	OPENBSD_5_8_BASE:1.40
	OPENBSD_5_7:1.38.0.4
	OPENBSD_5_7_BASE:1.38
	OPENBSD_5_6:1.38.0.2
	OPENBSD_5_6_BASE:1.38
	OPENBSD_5_5:1.37.0.4
	OPENBSD_5_5_BASE:1.37
	OPENBSD_5_4:1.37.0.2
	OPENBSD_5_4_BASE:1.37
	OPENBSD_5_3:1.36.0.2
	OPENBSD_5_3_BASE:1.36
	OPENBSD_5_2:1.32.0.2
	OPENBSD_5_2_BASE:1.32
	OPENBSD_5_1_BASE:1.28
	OPENBSD_5_1:1.28.0.2
	OPENBSD_5_0:1.25.0.2
	OPENBSD_5_0_BASE:1.25
	OPENBSD_4_9:1.23.0.2
	OPENBSD_4_9_BASE:1.23
	OPENBSD_4_8:1.14.0.2
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.13.0.2
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.11.0.4
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.2
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.6.0.2
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.1.1.1.0.2
	OPENBSD_4_3_BASE:1.1.1.1
	jeremy-20070215:1.1.1.1
	jeremy:1.1.1;
locks; strict;
comment	@# @;


1.44
date	2017.04.10.11.45.22;	author sthen;	state Exp;
branches;
next	1.43;
commitid	XDh1zlSBq0boKsHk;

1.43
date	2016.11.19.18.25.53;	author jeremy;	state Exp;
branches;
next	1.42;
commitid	Ls4KOcGtxlL7q41q;

1.42
date	2016.11.03.13.07.06;	author jeremy;	state Exp;
branches;
next	1.41;
commitid	wyIlsn348aNRP5sK;

1.41
date	2015.09.05.14.59.34;	author jeremy;	state Exp;
branches;
next	1.40;
commitid	vYkkgD8QLUUPJeI5;

1.40
date	2015.07.26.05.46.02;	author jeremy;	state Exp;
branches;
next	1.39;
commitid	MFZDGnrrwcGLP7uI;

1.39
date	2015.05.08.09.08.44;	author espie;	state Exp;
branches;
next	1.38;
commitid	8WaxsMNN6opOzn9t;

1.38
date	2014.03.27.21.38.10;	author brad;	state Exp;
branches;
next	1.37;

1.37
date	2013.03.10.22.55.01;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2013.01.19.19.08.33;	author jeremy;	state Exp;
branches;
next	1.35;

1.35
date	2013.01.18.08.15.55;	author brad;	state Exp;
branches;
next	1.34;

1.34
date	2012.09.19.08.15.08;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2012.08.22.20.14.05;	author naddy;	state Exp;
branches;
next	1.32;

1.32
date	2012.07.10.15.22.44;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2012.05.24.18.36.45;	author shadchin;	state Exp;
branches;
next	1.30;

1.30
date	2012.05.15.18.04.13;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2012.04.30.00.54.00;	author jeremy;	state Exp;
branches;
next	1.28;

1.28
date	2012.01.03.07.03.54;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2011.10.12.12.54.30;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2011.09.16.08.26.10;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2011.06.27.13.38.30;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2011.04.14.21.21.56;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2010.11.15.00.22.46;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.11.07.00.50.22;	author jeremy;	state Exp;
branches;
next	1.21;

1.21
date	2010.10.24.21.00.29;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2010.10.24.19.10.15;	author jakemsr;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.18.16.52.44;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.10.11.08.11.16;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2010.09.24.15.27.00;	author jeremy;	state Exp;
branches;
next	1.16;

1.16
date	2010.09.05.10.25.16;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2010.08.31.08.15.44;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2010.06.09.08.32.35;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2009.12.22.15.43.14;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.08.10.06.29.52;	author kili;	state Exp;
branches;
next	1.11;

1.11
date	2009.02.09.22.13.39;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2009.01.28.23.50.47;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2009.01.28.23.18.56;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2009.01.28.00.20.57;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2009.01.23.17.42.14;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2008.07.09.02.07.36;	author jakemsr;	state Exp;
branches;
next	1.5;

1.5
date	2008.06.15.00.04.49;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2008.03.25.18.09.14;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.03.24.03.15.27;	author jakemsr;	state Exp;
branches;
next	1.2;

1.2
date	2008.03.15.11.54.10;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2008.02.15.15.52.02;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.02.15.15.52.02;	author steven;	state Exp;
branches;
next	;


desc
@@


1.44
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.43 2016/11/19 18:25:53 jeremy Exp $

COMMENT=	advanced music player

VERSION=	1.0
DISTNAME=	aqualung-${VERSION}
REVISION=	1
EPOCH=		0
CATEGORIES=	audio

HOMEPAGE=	https://github.com/jeremyevans/aqualung

MAINTAINER=	Jeremy Evans <jeremy@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 bz2 c cairo fontconfig
WANTLIB += freetype gio-2.0 glib-2.0 gobject-2.0
WANTLIB += gthread-2.0 m mp3lame ogg pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pthread samplerate sndfile sndio ${LIBCXX}
WANTLIB += vorbis vorbisenc vorbisfile z gtk-x11-2.0 gdk-x11-2.0
WANTLIB += gdk_pixbuf-2.0 xml2 mac mad mpcdec FLAC avcodec
WANTLIB += avformat avutil wavpack lrdf oggz speex cddb cdio
WANTLIB += cdio_cdda cdio_paranoia modplug ${MODLUA_WANTLIB}

MASTER_SITES=	https://github.com/jeremyevans/aqualung/releases/download/${VERSION}/

MODULES=	devel/gettext \
		lang/lua

MODLUA_SA=	Yes

LIB_DEPENDS=	audio/flac \
		audio/lame \
		audio/libcdio \
		audio/libcddb \
		audio/libmad \
		audio/libmodplug \
		audio/libsamplerate \
		audio/libsndfile \
		audio/libvorbis \
		audio/mac \
		audio/musepack \
		audio/speex \
		audio/wavpack \
		graphics/ffmpeg \
		multimedia/oggz \
		textproc/liblrdf \
		textproc/libxml \
		x11/gtk+2 \
		${MODLUA_LIB_DEPENDS}

RUN_DEPENDS=	devel/desktop-file-utils

CFLAGS+=	-DPTHREAD_MIN_PRIORITY=0 -DPTHREAD_MAX_PRIORITY=31 \
		-I${LOCALBASE}/include -I${MODLUA_INCL_DIR}

CONFIGURE_STYLE= gnu
CONFIGURE_ENV=	LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib " \
		lua_CFLAGS="`pkg-config --cflags ${MODLUA_DEP}`" \
		lua_LIBS="`pkg-config --libs ${MODLUA_DEP}`"

# ifp (requires libifp) - no package
CONFIGURE_ARGS=	--with-cdda \
		--with-cddb \
		--with-flac \
		--with-ladspa \
		--with-lame \
		--with-lavc \
		--with-lua \
		--with-mac \
		--with-mod \
		--with-mpc \
		--with-mpeg \
		--with-sndfile \
		--with-sndio \
		--with-speex \
		--with-src \
		--with-vorbis \
		--with-vorbisenc \
		--with-wavpack \
		--without-alsa \
		--without-ifp \
		--without-jack \
		--without-oss \
		--without-pulse \
		--without-winmm

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/applications
	@@${SUBST_CMD} -m 0644 -c ${FILESDIR}/aqualung.desktop \
		${PREFIX}/share/applications/aqualung.desktop
	@@chown ${SHAREOWN}:${SHAREGRP} ${PREFIX}/share/applications/aqualung.desktop

.include <bsd.port.mk>
@


1.43
log
@Reinitialize sndio in case of an audio(4) error, so you don't need to restart
aqualung in such cases.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2016/11/03 13:07:06 jeremy Exp $
d22 1
a22 1
WANTLIB += pangoft2-1.0 pthread samplerate sndfile sndio stdc++
@


1.42
log
@Simplify and fix patch to mac decoder by just denamespacing
GetUTF16FromANSI, fixes SIGSEGV at runtime.

OK naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2015/09/05 14:59:34 jeremy Exp $
d7 1
a7 1
REVISION=	0
@


1.41
log
@Update to aqualung 1.0

Add patch to the mac decoder as upstream support depends on a newer
version of audio/mac than we have in-tree.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2015/07/26 05:46:02 jeremy Exp $
d7 1
@


1.40
log
@Update to aqualung 1.0-rc1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2015/05/08 09:08:44 espie Exp $
d5 2
a6 2
DISTNAME=	aqualung-1.0-rc1
PKGNAME=	aqualung-1.0rc1
d10 1
a10 1
HOMEPAGE=	http://aqualung.factorial.hu/
d27 1
a27 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=aqualung/}
@


1.39
log
@don't depend on modes in the ports tree being what we want installed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2014/03/27 21:38:10 brad Exp $
d5 2
a6 2
DISTNAME=	aqualung-0.9beta11
REVISION=	13
d24 1
a24 1
WANTLIB += avformat avutil jack wavpack lrdf oggz speex cddb cdio
a33 3
BUILD_DEPENDS=	devel/autoconf/2.63 \
		devel/automake/1.10

a34 1
		audio/jack \
d40 1
a55 3
AUTOCONF_VERSION= 2.63
AUTOMAKE_VERSION= 1.10

d60 3
a62 1
CONFIGURE_ENV=	LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib "
a67 1
		--with-jack \
a70 1
		--with-loop \
a75 2
		--with-ogg \
		--with-podcast \
d80 1
a80 1
		--with-systray \
d85 1
d87 2
a88 5
		--without-pulse

post-patch:
	@@cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} ./autogen.sh
a90 1
	mv ${PREFIX}/share/aqualung/doc ${PREFIX}/share/doc/aqualung
@


1.38
log
@- Update for newer FFmpeg API.
- Add missing dependencies.
- Sync WANTLIBs.

ok jeremy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/03/10 22:55:01 espie Exp $
d103 1
a103 1
	@@${SUBST_CMD} -c ${FILESDIR}/aqualung.desktop \
@


1.37
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/01/19 19:08:33 jeremy Exp $
d6 1
a6 1
REVISION=	12
d18 1
a18 1
WANTLIB += Xrandr Xrender atk-1.0 bz2 c cairo expat fontconfig
a25 1
WANTLIB += GL pixman-1 png pthread-stubs xcb xcb-render xcb-shm
d39 1
d44 2
d62 3
d66 1
a66 4
CONFIGURE_ENV=	LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib " \
		CFLAGS="${CFLAGS} -DOSS_DEVICE='\"/dev/audio\"'  \
		-DPTHREAD_MIN_PRIORITY=0 -DPTHREAD_MAX_PRIORITY=31  \
		-I${LOCALBASE}/include -I${MODLUA_INCL_DIR}"
@


1.36
log
@Add BUILD_DEPENDS on autoconf and automake, pointed out by naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/01/18 08:15:55 brad Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.35
log
@Update for newer FFmpeg API.

ok jeremy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2012/09/19 08:15:08 jasper Exp $
d37 3
@


1.34
log
@sync after recent lua.port.mk change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2012/08/22 20:14:05 naddy Exp $
d6 1
a6 1
REVISION=	11
d57 4
a60 1
CONFIGURE_STYLE=gnu
d93 4
@


1.33
log
@remove unneeded -pthread patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2012/07/10 15:22:44 jasper Exp $
d6 1
a6 1
REVISION=	10
@


1.32
log
@handle multiple lua versions, for now everything builds with the "old" 5.1 in the new location.
use FLAVOR=lua52 to use lua 5.2 with these ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2012/05/24 18:36:45 shadchin Exp $
d58 1
a58 1
CONFIGURE_ENV=	LDFLAGS="-pthread -L${LOCALBASE}/lib -L${X11BASE}/lib " \
@


1.31
log
@Switch ports on musepack, ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2012/05/15 18:04:13 jasper Exp $
d6 1
a6 1
REVISION=	9
d36 2
d58 1
a58 1
CONFIGURE_ENV=	LDFLAGS="-pthread -L${LOCALBASE}/lib -L${X11BASE}/lib" \
d61 1
a61 1
		-I${LOCALBASE}/include"
@


1.30
log
@- switch to lua module
- regen WANTLIB while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2012/04/30 00:54:00 jeremy Exp $
d6 1
a6 1
REVISION=	8
a41 1
		audio/libmpcdec \
d43 1
@


1.29
log
@Update to newer FFmpeg API.

From brad@@comstyle.com, OK @@ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/01/03 07:03:54 ajacoutot Exp $
d6 1
a6 1
REVISION=	7
d22 1
a22 1
WANTLIB += freetype gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
d26 1
a26 1
WANTLIB += gdk_pixbuf-2.0 xml2 lua mac mad mpcdec FLAC avcodec
d28 1
a28 1
WANTLIB += cdio_cdda cdio_paranoia modplug
d33 2
a34 1
MODULES=	devel/gettext
a46 1
		lang/lua \
d50 2
a51 1
		x11/gtk+2
@


1.28
log
@Clean up the use of USE_GROFF for ports where mandoc doesn't have any
ERRORs and formatting looks Ok.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/10/12 12:54:30 jasper Exp $
d6 1
a6 1
REVISION=	6
@


1.27
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/09/16 08:26:10 espie Exp $
a53 1
USE_GROFF =	Yes
@


1.26
log
@normalize pkgpath in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/06/27 13:38:30 sthen Exp $
d6 1
a6 1
REVISION=	5
d29 1
@


1.25
log
@sync WANTLIB and bump.
zap a few stray space-tabs while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/04/14 21:21:56 naddy Exp $
d6 1
a6 1
REVISION=	4
@


1.24
log
@EPOCH bumps to keep package versions from going back.
Turned up by a bulk build with a year-old plist database.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/11/15 00:22:46 espie Exp $
d6 1
a6 1
REVISION=	3
d16 1
a16 1
PERMIT_PACKAGE_FTP=	Yes  
d20 9
a28 11
WANTLIB=	X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
		Xi Xinerama Xrandr Xrender atk-1.0 bz2 c cairo expat \
		fontconfig freetype gio-2.0 glib-2.0 gmodule-2.0 \
		gobject-2.0 gthread-2.0 m mp3lame ogg pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pixman-1 png pthread \
		pthread-stubs samplerate sndfile sndio stdc++ vorbis \
		vorbisenc vorbisfile xcb xcb-render xcb-shm z \
		gtk-x11-2.0 gdk-x11-2.0 gdk_pixbuf-2.0 xml2 lua mac mad \
		mpcdec FLAC avcodec avformat avutil jack wavpack \
		lrdf GL Xxf86vm drm oggz speex cddb cdio cdio_cdda \
		cdio_paranoia modplug
d52 1
a52 1
		
@


1.23
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/11/07 00:50:22 jeremy Exp $
d7 1
@


1.22
log
@Enable speex, mod, cdda, and cddb support, now that all related
libraries have been imported.  These all appear to work correctly,
except that CD audio playback has some occassional gaps, but
jakemsr@@ reports that other libcdio users have similar issues.

OK jakemsr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/10/24 21:00:29 ajacoutot Exp $
d35 16
a50 16
LIB_DEPENDS=	::audio/flac \
		::audio/jack \
		::audio/libcdio \
		::audio/libcddb \
		::audio/libmad \
		::audio/libmodplug \
		::audio/libmpcdec \
		::audio/mac \
		::audio/speex \
		::audio/wavpack \
		::graphics/ffmpeg \
		::lang/lua \
		::multimedia/oggz \
		::textproc/liblrdf \
		::textproc/libxml \
		::x11/gtk+2
d52 1
a52 1
RUN_DEPENDS=	::devel/desktop-file-utils
@


1.21
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/10/24 19:10:15 jakemsr Exp $
d6 1
a6 1
REVISION=	2
d28 2
a29 1
		lrdf GL Xxf86vm drm
d37 2
d40 1
d43 1
d47 2
d50 1
a50 2
		::x11/gtk+2 \
		::textproc/liblrdf
d61 4
a64 5
# cddb, ifp (requires lib*) - no package
# cdda (requires libcdio) - no package
# mod (requires libmodplug) - no package
# speex (requires liboggz) - no package
CONFIGURE_ARGS=	--with-flac \
d72 1
d79 1
a84 2
		--without-cdda \
		--without-cddb \
a85 1
		--without-mod \
d87 1
a87 1
		--without-speex
@


1.20
log
@enable ladspa effects via liblrdf and update WANTLIB
while here

ok jeremy@@ (and he already committed the plugin.c patch
upstream!)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/18 16:52:44 espie Exp $
a47 1
USE_X11=	Yes
@


1.19
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/10/11 08:11:16 jasper Exp $
d6 1
a6 1
REVISION=	1
d25 1
a25 1
		vorbisenc vorbisfile xcb xcb-render xcb-render-util z \
d27 2
a28 1
		mpcdec FLAC avcodec avformat avutil jack wavpack
d43 2
a44 1
		::x11/gtk+2
a57 1
# ladspa (requires liblrdf) - no package
d62 1
a81 1
		--without-ladspa \
@


1.18
log
@- fix WANTLIB after cairo update.

these and upcoming fixes test built by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/09/24 15:27:00 jeremy Exp $
d47 1
@


1.17
log
@Update my MAINTAINER email address

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/09/05 10:25:16 sthen Exp $
d6 1
a6 1
REVISION=	0
d21 1
a21 1
		fontconfig freetype gio-2.0 glib-2.0 glitz gmodule-2.0 \
@


1.16
log
@new-style LIB_DEPENDS/REVISION and sync WANTLIB where necessary
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/08/31 08:15:44 ajacoutot Exp $
d6 1
d11 1
a11 1
MAINTAINER=	Jeremy Evans <openbsd@@jeremyevans.net>
@


1.15
log
@Remove PKGNAME=${DISTNAME} constructs where possible, as this is the
default anyway.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/06/09 08:32:35 sthen Exp $
d18 10
d32 10
a41 10
LIB_DEPENDS=	gtk-x11-2.0,gdk-x11-2.0,gdk_pixbuf-2.0::x11/gtk+2 \
		xml2::textproc/libxml \
		lua::lang/lua \
		mac::audio/mac \
		mad::audio/libmad \
		mpcdec::audio/libmpcdec \
		FLAC::audio/flac \
		avcodec,avformat,avutil::graphics/ffmpeg \
		jack::audio/jack \
		wavpack::audio/wavpack
a44 8
WANTLIB=	X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
		Xi Xinerama Xrandr Xrender atk-1.0 bz2 c cairo expat \
		fontconfig freetype gio-2.0 glib-2.0 glitz gmodule-2.0 \
		gobject-2.0 gthread-2.0 m mp3lame ogg pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pixman-1 png pthread \
		pthread-stubs samplerate sndfile sndio stdc++ vorbis \
		vorbisenc vorbisfile xcb xcb-render xcb-render-util z

@


1.14
log
@update this nice music player to 0.9beta11
from maintainer Jeremy Evans
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/12/22 15:43:14 ajacoutot Exp $
a5 1
PKGNAME=	${DISTNAME}
@


1.13
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/08/10 06:29:52 kili Exp $
d5 2
a6 2
DISTNAME=	aqualung-0.9beta10
PKGNAME=	${DISTNAME}p1
d42 1
a42 1
		vorbisenc vorbisfile xcb z
@


1.12
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/02/09 22:13:39 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.11
log
@update Aqualung to 0.9beta10 from maintainer (+ developer) Jeremy Evans,
all patches (including sndio support) went upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/01/28 23:50:47 ajacoutot Exp $
d6 1
d41 2
a42 2
		samplerate sndfile sndio stdc++ vorbis vorbisenc \
		vorbisfile z
@


1.10
log
@- re-add SUBST_CMD back and chown the file so that the .bak file does not
end up in PLIST
- fix the icon PATH in the .desktop file while here
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/01/28 23:18:56 sthen Exp $
d5 1
a5 2
DISTNAME=	aqualung-0.9beta9.1
PKGNAME=	${DISTNAME}p7
d24 1
d60 1
d67 1
@


1.9
log
@ratchov@@ reports that packaging fails, this is when files/aqualung.desktop
is writable by a group other than wheel. fix by using INSTALL_DATA/SUBST_CMD
rather than directly using SUBST_CMD -c.

PLIST remains the same with this fix; package version not bumped.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/01/28 00:20:57 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p6
d82 3
a84 3
	${INSTALL_DATA} ${FILESDIR}/aqualung.desktop \
	    ${PREFIX}/share/applications
	@@${SUBST_CMD} ${PREFIX}/share/applications/aqualung.desktop
@


1.8
log
@add sndio backend, wavpack support, and use SUBST_CMD. From maintainer
Jeremy Evans, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/01/23 17:42:14 jasper Exp $
d82 3
a84 2
	@@${SUBST_CMD} -c ${FILESDIR}/aqualung.desktop \
		${PREFIX}/share/applications/aqualung.desktop
@


1.7
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/07/09 02:07:36 jakemsr Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p5
d30 2
a31 1
		jack::audio/jack
d38 4
a41 3
		gobject-2.0 gthread-2.0 m mp3lame ogg ossaudio \
		pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 png pthread \
		samplerate sndfile stdc++ vorbis vorbisenc vorbisfile z
d50 1
a50 1
# cddb, ifp, wavpack (requires lib*) - no package
a63 1
		--with-oss \
d69 1
d76 2
a77 2
		--without-speex \
		--without-wavpack
d82 1
a82 1
	sed -e 's+%%PREFIX%%+${TRUEPREFIX}+' ${FILESDIR}/aqualung.desktop > \
a83 1

@


1.6
log
@
* FFmpeg headers moved
* FFmpeg LIB_DEPENDS/WANTLIB changes
* add @@bin markers in PLISTs
* bump PKGNAMEs

feedback/ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/06/15 00:04:49 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
d36 1
a36 1
		fontconfig freetype glib-2.0 glitz gmodule-2.0 \
@


1.5
log
@sync wantlib and bump packages. ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/03/25 18:09:14 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.4
log
@- reorder dependencies

ok maintainer Jeremy Evans <openbsd at jeremyevans dot net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/03/24 03:15:27 jakemsr Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d38 1
a38 1
		pango-1.0 pangocairo-1.0 pangoft2-1.0 png pthread \
@


1.3
log
@add jack support

discussed with MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/03/15 11:54:10 landry Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d13 1
a13 1
# GPL v2
a24 2
		samplerate::audio/libsamplerate \
		sndfile::audio/libsndfile \
a28 2
		mp3lame::audio/lame \
		ogg::audio/libogg \
a29 2
		vorbis,vorbisfile,vorbisenc::audio/libvorbis \
		bz2::archivers/bzip2 \
d34 6
a39 5
WANTLIB=	X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes Xi \
		Xinerama Xrandr Xrender c expat freetype fontconfig atk-1.0 \
		glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 cairo glitz png \
		pango-1.0 pthread ossaudio pangocairo-1.0 pangoft2-1.0 \
		m stdc++ z
@


1.2
log
@Add a .desktop file to show aqualung in desktop menu.
Update PLIST, bump PKGNAME and add desktop-database goo.
Based on a diff from Jeremy Evans, with tweaks from ajacoutot@@

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/02/15 15:52:02 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d35 2
a36 1
		bz2::archivers/bzip2
d55 1
a55 2
# jack - package not yet in tree
# ladspa (requires liblrdf) - no package 
d59 1
a76 1
		--without-jack \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d36 2
d84 4
@


1.1.1.1
log
@import aqualung 0.9beta9.1

Aqualung is an advanced music player. It plays audio CDs, internet radio
streams and podcasts as well as soundfiles in just about any audio format
and has the feature of inserting no gaps between adjacent tracks.

from Jeremy Evans <openbsd at jeremyevans.net>, with some tweaks
@
text
@@
