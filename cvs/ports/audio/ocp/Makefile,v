head	1.5;
access;
symbols
	OPENBSD_6_1:1.4.0.2
	OPENBSD_6_1_BASE:1.4
	fcambus_20160926:1.1.1.1
	fcambus:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2017.04.10.11.45.23;	author sthen;	state Exp;
branches;
next	1.4;
commitid	XDh1zlSBq0boKsHk;

1.4
date	2017.02.06.15.33.15;	author fcambus;	state Exp;
branches;
next	1.3;
commitid	u5rJ7QHSCxCuOr3c;

1.3
date	2016.11.11.12.28.07;	author fcambus;	state Exp;
branches;
next	1.2;
commitid	eFHshtcEDw8QgpIv;

1.2
date	2016.09.27.12.42.27;	author fcambus;	state Exp;
branches;
next	1.1;
commitid	U1qR5DQW4f4Fz2tf;

1.1
date	2016.09.26.06.56.57;	author fcambus;	state Exp;
branches
	1.1.1.1;
next	;
commitid	ZeVU7MscPIlZC6DJ;

1.1.1.1
date	2016.09.26.06.56.57;	author fcambus;	state Exp;
branches;
next	;
commitid	ZeVU7MscPIlZC6DJ;


desc
@@


1.5
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.4 2017/02/06 15:33:15 fcambus Exp $

BROKEN-alpha =	arctar.c:384: internal compiler error: in extract_insn, at recog.c:2077

COMMENT =	UNIX port of Open Cubic Player

DISTNAME =	ocp-0.1.21
REVISION =	0
CATEGORIES =	audio

HOMEPAGE =	http://stian.cubic.org/project-ocp.php

MAINTAINER =	Frederic Cambus <fcambus@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB +=	FLAC SDL adplug binio c iconv m mad ncurses ogg pthread
WANTLIB +=	sidplay ${LIBCXX} vorbis vorbisfile z

MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=opencubicplayer/}

BUILD_DEPENDS =	devel/desktop-file-utils

RUN_DEPENDS =	devel/desktop-file-utils

LIB_DEPENDS =	audio/adplug \
		audio/flac \
		audio/libmad \
		audio/libogg \
		audio/libsidplay \
		audio/libvorbis \
		devel/libbinio \
		devel/sdl

CFLAGS +=	-L${LOCALBASE}/lib -I${LOCALBASE}/include
CXXFLAGS +=	${CFLAGS}

CONFIGURE_STYLE = gnu

CONFIGURE_ARGS = --with-dir-suffix="" \
		 --without-alsa \
		 --without-oss \
		 --without-x11

USE_GMAKE =	Yes

NO_TEST =	Yes

post-install:
	gunzip ${PREFIX}/info/ocp.info.gz
	rm ${PREFIX}/bin/ultrafix.sh

.include <bsd.port.mk>
@


1.4
log
@Mark as BROKEN on alpha, it triggers an internal compiler error.

arctar.c:384: internal compiler error: in extract_insn, at recog.c:2077
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/11/11 12:28:07 fcambus Exp $
d19 1
a19 1
WANTLIB +=	sidplay stdc++ vorbis vorbisfile z
@


1.3
log
@Make ocp compile against audio/adplug, which allows playing many OPL2/OPL3 audio formats.

OK landry@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.2 2016/09/27 12:42:27 fcambus Exp $
@


1.2
log
@Add missing BUILD_DEPENDS on desktop-file-utils.

OK naddy@@ (who spotted the issue, thanks!)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2016/09/26 06:56:57 fcambus Exp $
d6 1
d16 2
a17 2
WANTLIB +=	FLAC SDL c iconv m mad ncurses ogg pthread sidplay
WANTLIB +=	stdc++ vorbis vorbisfile z
d25 2
a26 1
LIB_DEPENDS =	audio/flac \
d31 1
a41 1
		 --without-adplug \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: mk.conf.template,v 1.23 2016/04/26 10:57:00 sthen Exp $
d19 2
@


1.1.1.1
log
@Import audio/ocp

Open Cubic Player is a music player which plays a variety of sound formats.
It is derived from Cubic Player 2.0 which was developed by Niklas Beisert
of the legendary Cubic Team demogroup.

The following file formats are supported: MOD/NST/WOW, XM, S3M, DMF, MTM,
ULT, 669, OKT, PTM, AMS, MDL, IT, SID, YM, MPEG 1 audio layer 1/2/3, OGG,
FLAC, WAV.

OK juanfra@@

@
text
@@
