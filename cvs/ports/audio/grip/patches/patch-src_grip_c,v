head	1.6;
access;
symbols
	OPENBSD_6_1:1.6.0.18
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.6.0.16
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.12
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.14
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.10
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.8
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.6
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.4
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.5.0.18
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.16
	OPENBSD_5_0:1.5.0.14
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.12
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.10
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.8
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.6
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.4
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.4.0.12
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.10
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.8
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.6
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.4
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.2
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.1.0.10
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.8
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.6
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.4
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.2
	OPENBSD_3_2_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2013.01.17.13.30.32;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.05.13.14.20.25;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2005.06.30.22.34.29;	author alek;	state Exp;
branches;
next	1.3;

1.3
date	2004.09.26.10.30.45;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2004.09.26.09.23.44;	author sturm;	state dead;
branches;
next	1.1;

1.1
date	2002.05.07.21.05.33;	author lebel;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to grip-3.3.1.
Big clean-up while here.
@
text
@$OpenBSD: patch-src_grip_c,v 1.5 2008/05/13 14:20:25 naddy Exp $

Remove the Help tab, it does not work with newer yelp.
Remove bogus button that opens up a browser to a non existent page.
Don't display a warning about being a development version.

--- src/grip.c.orig	Sat Jun 25 20:00:55 2005
+++ src/grip.c	Thu Jan 17 14:27:54 2013
@@@@ -44,11 +44,8 @@@@
 
 static void ReallyDie(gint reply,gpointer data);
 static void MakeStatusPage(GripInfo *ginfo);
-static void DoHelp(GtkWidget *widget,gpointer data);
-static void MakeHelpPage(GripInfo *ginfo);
 static void MakeAboutPage(GripGUI *uinfo);
 static void MakeStyles(GripGUI *uinfo);
-static void Homepage(void);
 static void LoadImages(GripGUI *uinfo);
 static void DoLoadConfig(GripInfo *ginfo);
 void DoSaveConfig(GripInfo *ginfo);
@@@@ -282,7 +279,6 @@@@ GtkWidget *GripNew(const gchar* geometry,char *device,
   MakeRipPage(ginfo);
   MakeConfigPage(ginfo);
   MakeStatusPage(ginfo);
-  MakeHelpPage(ginfo);
   MakeAboutPage(uinfo);
   ginfo->tray_icon_made = FALSE;
   ginfo->tray_menu_sensitive = TRUE;
@@@@ -317,12 +313,6 @@@@ GtkWidget *GripNew(const gchar* geometry,char *device,
     strcpy(ginfo->version,VERSION);
 
     sscanf(VERSION,"%d.%d.%d",&major,&minor,&point);
-
-    /* Check if we have a dev release */
-    if(minor%2) {
-      gnome_app_warning((GnomeApp *)ginfo->gui_info.app,
-                        _("This is a development version of Grip. If you encounter problems, you are encouraged to revert to the latest stable version."));
-    }
   }
 
   g_signal_connect(app, "window-state-event", G_CALLBACK(AppWindowStateCB), ginfo);
@@@@ -467,72 +457,6 @@@@ void LogStatus(GripInfo *ginfo,char *fmt,...)
   g_free(buf);
 }
 
-static void DoHelp(GtkWidget *widget,gpointer data)
-{
-  char *section;
-
-  section=(char *)data;
-
-  gnome_help_display("grip.xml",section,NULL);
-}
-
-static void MakeHelpPage(GripInfo *ginfo)
-{
-  GtkWidget *help_page;
-  GtkWidget *button;
-  GtkWidget *vbox;
-
-  help_page=MakeNewPage(ginfo->gui_info.notebook,_("Help"));
-
-  vbox=gtk_vbox_new(FALSE,0);
-  gtk_container_border_width(GTK_CONTAINER(vbox),3);
-
-  button=gtk_button_new_with_label(_("Table Of Contents"));
-  gtk_signal_connect(GTK_OBJECT(button),"clicked",
-		     GTK_SIGNAL_FUNC(DoHelp),NULL);
-  gtk_box_pack_start(GTK_BOX(vbox),button,FALSE,FALSE,0);
-  gtk_widget_show(button);
-
-  button=gtk_button_new_with_label(_("Playing CDs"));
-  gtk_signal_connect(GTK_OBJECT(button),"clicked",
-		     GTK_SIGNAL_FUNC(DoHelp),(gpointer)"cdplayer");
-  gtk_box_pack_start(GTK_BOX(vbox),button,FALSE,FALSE,0);
-  gtk_widget_show(button);
-
-  button=gtk_button_new_with_label(_("Ripping CDs"));
-  gtk_signal_connect(GTK_OBJECT(button),"clicked",
-		     GTK_SIGNAL_FUNC(DoHelp),(gpointer)"ripping");
-  gtk_box_pack_start(GTK_BOX(vbox),button,FALSE,FALSE,0);
-  gtk_widget_show(button);
-
-  button=gtk_button_new_with_label(_("Configuring Grip"));
-  gtk_signal_connect(GTK_OBJECT(button),"clicked",
-		     GTK_SIGNAL_FUNC(DoHelp),(gpointer)"configure");
-  gtk_box_pack_start(GTK_BOX(vbox),button,FALSE,FALSE,0);
-  gtk_widget_show(button);
-
-  button=gtk_button_new_with_label(_("FAQ"));
-  gtk_signal_connect(GTK_OBJECT(button),"clicked",
-		     GTK_SIGNAL_FUNC(DoHelp),(gpointer)"faq");
-  gtk_box_pack_start(GTK_BOX(vbox),button,FALSE,FALSE,0);
-  gtk_widget_show(button);
-
-  button=gtk_button_new_with_label(_("Getting More Help"));
-  gtk_signal_connect(GTK_OBJECT(button),"clicked",
-		     GTK_SIGNAL_FUNC(DoHelp),(gpointer)"morehelp");
-  gtk_box_pack_start(GTK_BOX(vbox),button,FALSE,FALSE,0);
-  gtk_widget_show(button);
-
-  button=gtk_button_new_with_label(_("Reporting Bugs"));
-  gtk_signal_connect(GTK_OBJECT(button),"clicked",
-		     GTK_SIGNAL_FUNC(DoHelp),(gpointer)"bugs");
-  gtk_box_pack_start(GTK_BOX(vbox),button,FALSE,FALSE,0);
-  gtk_widget_show(button);
-
-  gtk_container_add(GTK_CONTAINER(help_page),vbox);
-  gtk_widget_show(vbox);
-}
-
 void MakeAboutPage(GripGUI *uinfo)
 {
   GtkWidget *aboutpage;
@@@@ -582,15 +506,6 @@@@ void MakeAboutPage(GripGUI *uinfo)
 
   hbox=gtk_hbox_new(TRUE,0);
 
-  button=gtk_button_new_with_label("http://www.nostatic.org/grip");
-  gtk_widget_set_style(button,uinfo->style_dark_grey);
-  gtk_widget_set_style(GTK_BIN(button)->child,
-		       uinfo->style_dark_grey);
-  gtk_signal_connect(GTK_OBJECT(button),"clicked",
-		     GTK_SIGNAL_FUNC(Homepage),NULL);
-  gtk_box_pack_start(GTK_BOX(hbox),button,FALSE,FALSE,0);
-  gtk_widget_show(button);
-
   gtk_box_pack_start(GTK_BOX(vbox2),hbox,FALSE,FALSE,0);
   gtk_widget_show(hbox);
   
@@@@ -623,11 +538,6 @@@@ static void MakeStyles(GripGUI *uinfo)
   uinfo->style_dark_grey=MakeStyle(&gdkwhite,color_dark_grey,TRUE);
 }
 
-static void Homepage(void)
-{
-  system("gnome-moz-remote http://www.nostatic.org/grip");
-}
-
 static void LoadImages(GripGUI *uinfo)
 {
   uinfo->check_image=Loadxpm(uinfo->app,check_xpm);
@@@@ -762,7 +672,7 @@@@ static void DoLoadConfig(GripInfo *ginfo)
 
   *ginfo->version='\0';
 
-  strcpy(ginfo->cd_device,"/dev/cdrom");
+  strcpy(ginfo->cd_device,"/dev/cd0c");
   *ginfo->force_scsi='\0';
 
   ginfo->local_mode=FALSE;
@


1.5
log
@* LP64 fix from Markus Lude <markus.lude@@gmx.de>
* regen some patches
@
text
@d1 143
a143 4
$OpenBSD: patch-src_grip_c,v 1.4 2005/06/30 22:34:29 alek Exp $
--- src/grip.c.orig	Thu Apr 15 20:23:54 2004
+++ src/grip.c	Tue May 13 16:15:31 2008
@@@@ -732,7 +732,7 @@@@ static void DoLoadConfig(GripInfo *ginfo)
@


1.4
log
@Update to grip 3.2.0

From Bernd Ahlers <b.ahlers@@ba-net.org>

ok aanriot@@
@
text
@d1 4
a4 4
$OpenBSD$
--- src/grip.c.orig	Mon Jun  6 11:06:42 2005
+++ src/grip.c	Mon Jun  6 11:07:30 2005
@@@@ -732,7 +732,7 @@@@ static void DoLoadConfig(GripInfo *ginfo
@


1.3
log
@mistakenly removed
@
text
@d2 3
a4 3
--- src/grip.c.orig	Sun Sep 26 10:37:27 2004
+++ src/grip.c	Sun Sep 26 10:37:36 2004
@@@@ -599,7 +599,7 @@@@ static void DoLoadConfig(GripInfo *ginfo
d6 1
a6 1
   uinfo->id3_genre_item_list=NULL;
@


1.2
log
@update to grip 3.0.7 from new maintainer
Steve Shockley <steve.shockley at shockley.net>
with a little cleanup from me
@
text
@d1 4
a4 13
$OpenBSD: patch-src_grip_c,v 1.1 2002/05/07 21:05:33 lebel Exp $
--- src/grip.c.orig	Sun Mar 10 21:59:44 2002
+++ src/grip.c	Tue May  7 16:44:24 2002
@@@@ -144,7 +144,7 @@@@ GtkWidget *GripNew(const gchar* geometry
 
   app=gnome_app_new(PACKAGE,_("Grip"));
 
-  ginfo=g_new(GripInfo,1);
+  ginfo=g_new0(GripInfo,1);
 
   gtk_object_set_user_data(GTK_OBJECT(app),(gpointer)ginfo);
 
@@@@ -570,7 +570,7 @@@@ static void DoLoadConfig(GripInfo *ginfo
@


1.1
log
@update audio/grip to 3.0.0
@
text
@d1 1
a1 1
$OpenBSD$
@

