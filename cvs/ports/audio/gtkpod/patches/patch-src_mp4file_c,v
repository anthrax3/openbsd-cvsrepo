head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.10
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.6
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.0.10
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.8
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.6
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.4
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2014.07.14.07.49.54;	author espie;	state Exp;
branches;
next	1.1;
commitid	3hHhjYZkbfB6MNXv;

1.1
date	2011.11.15.15.43.52;	author mpi;	state Exp;
branches;
next	;


desc
@@


1.2
log
@one case where endian.h helps! reroll patch, remove #ifdef OpenBSD
@
text
@$OpenBSD$
--- src/mp4file.c.orig	Mon Apr 26 21:30:52 2010
+++ src/mp4file.c	Mon Jul 14 09:48:57 2014
@@@@ -375,11 +375,11 @@@@ static MP4TagsFree_t MP4TagsFreeFunc = NULL;
     
 void mp4_init()
 {
-    mp4v2_handle = dlopen("libmp4v2.so.1", RTLD_LAZY);
+    mp4v2_handle = dlopen("libmp4v2.so", RTLD_LAZY);
 
     if (!mp4v2_handle)
     {
-        mp4v2_handle = dlopen("libmp4v2.so.0", RTLD_LAZY);
+        mp4v2_handle = dlopen("libmp4v2.so", RTLD_LAZY);
         
         if (!mp4v2_handle)
         {
@


1.1
log
@Update to 1.0.0 and add support for flac/ogg

ok sthen@@
@
text
@d2 3
a4 14
--- src/mp4file.c	Sun Nov 13 17:27:50 2011
+++ src/mp4file.c	Sun Nov 13 17:47:00 2011
@@@@ -35,6 +35,10 @@@@
 #  include <endian.h> /* for be32toh () */
 #endif
 
+#ifdef __OpenBSD__
+#define be32toh	betoh32
+#endif
+
 #include "charset.h"
 #include "itdb.h"
 #include "misc.h"
@@@@ -375,11 +379,11 @@@@
@

