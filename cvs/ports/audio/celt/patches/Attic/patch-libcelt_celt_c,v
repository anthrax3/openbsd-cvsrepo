head	1.6;
access;
symbols
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.2
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2012.04.21.13.15.52;	author dcoppa;	state dead;
branches;
next	1.5;

1.5
date	2012.04.20.13.25.34;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2011.08.28.14.13.51;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2011.04.05.14.17.55;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2011.04.04.08.38.35;	author dcoppa;	state dead;
branches;
next	1.1;

1.1
date	2010.12.30.13.36.09;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.6
log
@garbage collect gcc3 patches: gcc3 architectures are history and
celt won't compile with gcc2 anyway.

naddy@@ agrees.
@
text
@$OpenBSD: patch-libcelt_celt_c,v 1.5 2012/04/20 13:25:34 dcoppa Exp $

Allow building with gcc3.

--- libcelt/celt.c.orig	Fri Mar 11 23:38:07 2011
+++ libcelt/celt.c	Wed Apr 18 11:19:35 2012
@@@@ -400,8 +400,8 @@@@ static void compute_mdcts(const CELTMode *mode, int sh
 /** Compute the IMDCT and apply window for all sub-frames and 
     all channels in a frame */
 static void compute_inv_mdcts(const CELTMode *mode, int shortBlocks, celt_sig *X,
-      celt_sig * restrict out_mem[],
-      celt_sig * restrict overlap_mem[], int _C, int LM)
+      celt_sig * restrict * out_mem,
+      celt_sig * restrict * overlap_mem, int _C, int LM)
 {
    int c;
    const int C = CHANNELS(_C);
@


1.5
log
@Update to celt-0.11.3

ok ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD: patch-libcelt_celt_c,v 1.4 2011/08/28 14:13:51 naddy Exp $
@


1.4
log
@allow this to build with gcc3
@
text
@d1 1
a1 1
$OpenBSD: patch-libcelt_celt_c,v 1.3 2011/04/05 14:17:55 dcoppa Exp $
d5 3
a7 5
Missing commas (from upstream git)

--- libcelt/celt.c.orig	Tue Dec 21 03:14:48 2010
+++ libcelt/celt.c	Tue Aug 23 20:59:10 2011
@@@@ -316,8 +316,8 @@@@ static void compute_mdcts(const CELTMode *mode, int sh
a17 13
@@@@ -428,9 +428,9 @@@@ static void comb_filter(celt_word32 *y, celt_word32 *x
 
 static const signed char tf_select_table[4][8] = {
       {0, -1, 0, -1,    0,-1, 0,-1},
-      {0, -1, 0, -2,    1, 0, 1 -1},
-      {0, -2, 0, -3,    2, 0, 1 -1},
-      {0, -2, 0, -3,    2, 0, 1 -1},
+      {0, -1, 0, -2,    1, 0, 1,-1},
+      {0, -2, 0, -3,    2, 0, 1,-1},
+      {0, -2, 0, -3,    2, 0, 1,-1},
 };
 
 static celt_word32 l1_metric(const celt_norm *tmp, int N, int LM, int width)
@


1.3
log
@Revert to celt-0.10.0.
celt 0.11.x is broken in a subtle way.
@
text
@d1 3
a3 1
$OpenBSD$
d8 12
a19 1
+++ libcelt/celt.c	Thu Dec 30 14:11:11 2010
@


1.2
log
@Update to celt-0.11.1
@
text
@d1 1
a1 1
$OpenBSD: patch-libcelt_celt_c,v 1.1 2010/12/30 13:36:09 dcoppa Exp $
@


1.1
log
@Update to celt-0.10.0
@
text
@d1 1
a1 1
$OpenBSD$
@

