head	1.41;
access;
symbols
	OPENBSD_6_1:1.40.0.2
	OPENBSD_6_1_BASE:1.40
	OPENBSD_6_0:1.38.0.2
	OPENBSD_6_0_BASE:1.38
	OPENBSD_5_9:1.37.0.2
	OPENBSD_5_9_BASE:1.37
	OPENBSD_5_8:1.36.0.4
	OPENBSD_5_8_BASE:1.36
	OPENBSD_5_7:1.34.0.2
	OPENBSD_5_7_BASE:1.34
	OPENBSD_5_6:1.32.0.2
	OPENBSD_5_6_BASE:1.32
	OPENBSD_5_5:1.31.0.4
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.31.0.2
	OPENBSD_5_4_BASE:1.31
	OPENBSD_5_3:1.30.0.2
	OPENBSD_5_3_BASE:1.30
	OPENBSD_5_2:1.28.0.2
	OPENBSD_5_2_BASE:1.28
	OPENBSD_5_1_BASE:1.25
	OPENBSD_5_1:1.25.0.2
	OPENBSD_5_0:1.23.0.2
	OPENBSD_5_0_BASE:1.23
	OPENBSD_4_9:1.17.0.2
	OPENBSD_4_9_BASE:1.17
	OPENBSD_4_8:1.8.0.2
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	ajacoutot_20090603:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.41
date	2017.04.10.11.45.24;	author sthen;	state Exp;
branches;
next	1.40;
commitid	XDh1zlSBq0boKsHk;

1.40
date	2016.10.04.12.37.31;	author fcambus;	state Exp;
branches;
next	1.39;
commitid	dOApAnx7xzuVLPgi;

1.39
date	2016.09.23.09.16.52;	author sthen;	state Exp;
branches;
next	1.38;
commitid	XLnI6AbHAmyVU5mO;

1.38
date	2016.03.20.15.33.38;	author naddy;	state Exp;
branches;
next	1.37;
commitid	r5sGAJ036qwY51zi;

1.37
date	2015.08.21.19.17.10;	author sthen;	state Exp;
branches;
next	1.36;
commitid	8EJcWdVX4S7jN0H9;

1.36
date	2015.07.18.14.33.50;	author jasper;	state Exp;
branches;
next	1.35;
commitid	GeHaQG13EBk8leMA;

1.35
date	2015.04.28.06.35.06;	author ajacoutot;	state Exp;
branches;
next	1.34;
commitid	tr3XsOq5EJv6iti7;

1.34
date	2015.01.24.11.07.57;	author schwarze;	state Exp;
branches;
next	1.33;
commitid	7awk5YK2lMTW4w3F;

1.33
date	2014.11.06.09.57.00;	author nigel;	state Exp;
branches;
next	1.32;
commitid	NOByhB9ZcgUn5v8G;

1.32
date	2014.04.06.20.13.11;	author brad;	state Exp;
branches;
next	1.31;

1.31
date	2013.03.10.22.55.06;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2013.01.26.15.53.20;	author bcallah;	state Exp;
branches;
next	1.29;

1.29
date	2012.09.01.14.36.56;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2012.06.09.09.46.18;	author pascal;	state Exp;
branches;
next	1.27;

1.27
date	2012.04.30.06.05.17;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2012.04.23.17.15.17;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2011.09.16.08.26.11;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2011.08.21.16.37.08;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2011.06.27.13.38.30;	author sthen;	state Exp;
branches;
next	1.22;

1.22
date	2011.06.24.11.17.05;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2011.06.08.17.31.33;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2011.04.18.23.39.20;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2011.04.10.18.57.21;	author landry;	state Exp;
branches;
next	1.18;

1.18
date	2011.03.29.23.22.17;	author jakemsr;	state Exp;
branches;
next	1.17;

1.17
date	2011.02.10.03.14.43;	author jakemsr;	state Exp;
branches;
next	1.16;

1.16
date	2010.11.26.07.07.57;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.15.00.22.49;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.24.15.53.55;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.18.22.43.10;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2010.10.18.16.52.48;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.09.24.15.23.06;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2010.08.30.21.36.15;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	2010.08.25.23.27.21;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2010.06.03.16.09.37;	author pea;	state Exp;
branches;
next	1.7;

1.7
date	2010.05.26.21.45.01;	author jakemsr;	state Exp;
branches;
next	1.6;

1.6
date	2010.04.24.17.37.54;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2009.07.19.22.49.12;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2009.07.19.11.22.18;	author kili;	state Exp;
branches;
next	1.3;

1.3
date	2009.07.12.20.25.00;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.06.08.17.08.48;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.06.03.18.25.25;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.06.03.18.25.25;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.41
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.40 2016/10/04 12:37:31 fcambus Exp $

COMMENT =		audio player daemon with library management
BROKEN-sparc64 =	waf build goes into an infinite loop

V =			0.8
DISTNAME =		xmms2-${V}DrO_o
PKGNAME =		xmms2-${V}
REVISION =		6

SHARED_LIBS +=		xmmsclient++		2.0 # 4.0.0
SHARED_LIBS +=		xmmsclient++-glib	1.0 # 1.0.0
SHARED_LIBS +=		xmmsclient-glib		1.0 # 1.0.0
SHARED_LIBS +=		xmmsclient		2.0 # 6.0.0

CATEGORIES =		audio

HOMEPAGE =		https://xmms2.org/

MAINTAINER=		Amaury Gauthier <amaury.gauthier@@etu.unilim.fr>

# LGPLv2.1
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += FLAC ao avahi-client avahi-common avahi-glib avcodec
WANTLIB += avutil c curl gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gthread-2.0 jack m mad ncurses ogg pcre perl pthread readline
WANTLIB += sndfile speex sqlite3 ${LIBCXX} vorbis vorbisfile
WANTLIB += vorbisidec vpx x264 xml2 opus swresample x265 ${MODPY_WANTLIB}

MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=xmms2/}

EXTRACT_SUFX =		.tar.bz2

MODULES =		lang/python \
			devel/gettext \
			perl

NO_TEST =		Yes

BUILD_DEPENDS =		devel/pyrex \
			devel/boost

LIB_DEPENDS =		devel/glib2 \
			databases/sqlite3 \
			graphics/ffmpeg>=20130319 \
			audio/libao \
			audio/jack \
			textproc/libxml \
			net/curl \
			audio/libmad \
			net/avahi \
			audio/libsndfile \
			audio/tremor

WSCRIPT_PATCHES =	src/clients/lib/xmmsclient++/wscript \
			src/clients/lib/xmmsclient++-glib/wscript \
			src/clients/lib/xmmsclient-glib/wscript \
			src/clients/lib/xmmsclient/wscript
pre-configure:
	cd ${WRKSRC} && ${SUBST_CMD} ${WSCRIPT_PATCHES}

# Xmms2 uses its own modified Waf, so we cannot use devel/waf.
# Disable speex and sun because they are broken
# Disable shared memory support for visualization because it requires semtimedop()
do-configure:
	cd ${WRKSRC} && PYTHON=${MODPY_BIN} ${MODPY_BIN} ./waf configure \
		--prefix=${PREFIX} \
		--mandir=${PREFIX}/man \
		--conf-prefix=${PREFIX} \
		--with-default-output-plugin=ao \
		--no-cython \
		--disable-shmvis-server \
		--without-optionals=medialib-updater,tests,xmmsclient-cf,xmmsclient-ecore,ruby \
		--without-plugins=airplay,alsa,cdda,coreaudio,faad,gme,ices,mac,mms,modplug,mpg123,musepack,nms,ofa,oss,pulse,samba,sid,speex,sun,vocoder,waveout,wavpack

post-configure:
	# avoid linking to bogus libraries
	sed -i "s/SONAME_ST.*/SONAME_ST=''/" ${WRKSRC}/_build_/c4che/_cache.py

do-build:
	cd ${WRKSRC} && ${MODPY_BIN} ./waf build

do-install:
	cd ${WRKSRC} && ${MODPY_BIN} ./waf install --without-ldconfig
	/usr/bin/pod2man ${PREFIX}/${P5ARCH}/Audio/XMMSClient.pod > ${WRKDIR}/Audio::XMMSClient.3p
	/usr/bin/pod2man ${PREFIX}/${P5ARCH}/Audio/XMMSClient/Glib.pm > ${WRKDIR}/Audio::XMMSClient::Glib.3p
	/usr/bin/pod2man ${PREFIX}/${P5ARCH}/Audio/XMMSClient/Collection.pod > ${WRKDIR}/Audio::XMMSClient::Collection.3p
	/usr/bin/pod2man ${PREFIX}/${P5ARCH}/Audio/XMMSClient/Playlist.pod > ${WRKDIR}/Audio::XMMSClient::Playlist.3p
	/usr/bin/pod2man ${PREFIX}/${P5ARCH}/Audio/XMMSClient/Result.pod > ${WRKDIR}/Audio::XMMSClient::Result.3p
	${INSTALL_MAN} ${WRKDIR}/*.3p ${PREFIX}/man/man3p/

.include <bsd.port.mk>
@


1.40
log
@Update HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2016/09/23 09:16:52 sthen Exp $
d28 1
a28 1
WANTLIB += sndfile speex sqlite3 stdc++ vorbis vorbisfile
@


1.39
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2016/03/20 15:33:38 naddy Exp $
d9 1
a9 1
REVISION =		5
d18 1
a18 1
HOMEPAGE =		http://wiki.xmms2.xmms.se/
@


1.38
log
@prepare for upcoming SHARED_ONLY removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2015/08/21 19:17:10 sthen Exp $
d9 1
a9 1
REVISION =		4
d45 1
@


1.37
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2015/07/18 14:33:50 jasper Exp $
d27 1
a27 1
WANTLIB += gthread-2.0 jack m mad ncurses ogg pcre pthread readline
@


1.36
log
@use sed instead of perl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2015/04/28 06:35:06 ajacoutot Exp $
d9 1
a9 1
REVISION =		3
d29 1
a29 1
WANTLIB += vorbisidec vpx x264 xml2
@


1.35
log
@Cope with FFmpeg 20150412.

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2015/01/24 11:07:57 schwarze Exp $
d78 1
a78 1
	perl -pi -e "s/SONAME_ST.*/SONAME_ST=''/" ${WRKSRC}/_build_/c4che/_cache.py
@


1.34
log
@only minor formatting differences; drop USE_GROFF; no bump needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2014/11/06 09:57:00 nigel Exp $
d9 1
a9 1
REVISION =		2
d27 3
a29 4
WANTLIB += gthread-2.0 jack m mad ncurses ogg orc-0.4
WANTLIB += pcre pthread readline schroedinger-1.0 sndfile speex
WANTLIB += sqlite3 stdc++ theoradec theoraenc vorbis
WANTLIB += vorbisfile vorbisidec vpx x264 xml2
@


1.33
log
@Disable cython if present, use prebuilt files.
Ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2014/04/06 20:13:11 brad Exp $
a39 1
USE_GROFF =		Yes
@


1.32
log
@Update the avcodec plugin for newer FFmpeg API.

Tested by pascal@@

ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/03/10 22:55:06 espie Exp $
d73 1
@


1.31
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/01/26 15:53:20 bcallah Exp $
d9 1
a9 1
REVISION =		1
d47 1
a47 1
			graphics/ffmpeg>=20080620p10 \
@


1.30
log
@Remove --disable-external-libs from audio/libsndfile. Needed for the import of audio/mscore.
Bump all dependent ports that need a bump.
Assign MAINTAINER of audio/libsamplerate and audio/libsndfile to Jan Stary.

ok landry@@ sthen@@ aja@@ jasper@@ jeremy@@ Jan Stary (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2012/09/01 14:36:56 ajacoutot Exp $
a23 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d41 1
a41 1
NO_REGRESS =		Yes
@


1.29
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/06/09 09:46:18 pascal Exp $
d9 1
a9 1
REVISION=	0
d30 1
a30 1
WANTLIB += gsm gthread-2.0 jack m mad mp3lame ncurses ogg orc-0.4
d32 2
a33 2
WANTLIB += sqlite3 stdc++ theoradec theoraenc vorbis vorbisenc
WANTLIB += vorbisfile vorbisidec vpx x264 xml2 xvidcore z
a53 1
			audio/flac \
@


1.28
log
@Update to xmms2 0.8, with small tweaks from Brad.

ok aja@@, maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2012/04/30 06:05:17 ajacoutot Exp $
d9 1
@


1.27
log
@Update xmms2 for newer libavcodec API.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/04/23 17:15:17 espie Exp $
d6 2
a7 2
V =			0.7
DISTNAME =		xmms2-${V}DrNo
a8 1
REVISION =		14
d10 4
a13 4
SHARED_LIBS +=		xmmsclient++		1.0 # 4.0.0
SHARED_LIBS +=		xmmsclient++-glib	0.0 # 1.0.0
SHARED_LIBS +=		xmmsclient-glib		0.0 # 1.0.0
SHARED_LIBS +=		xmmsclient		1.0 # 6.0.0
d30 3
a32 3
WANTLIB += pthread readline schroedinger-1.0 speex sqlite3 stdc++
WANTLIB += theoradec theoraenc util vorbis vorbisenc vorbisfile
WANTLIB += vorbisidec vpx x264 xml2 z ${MODPY_WANTLIB}
d48 1
a48 2
LIB_DEPENDS =		${MODPY_LIB_DEPENDS} \
			devel/glib2 \
d57 1
d67 1
a67 1
# Xmms2 uses it's own modified Waf, so we cannot use devel/waf.
d71 2
a72 1
	cd ${WRKSRC} && PYTHON=${MODPY_BIN} ${MODPY_BIN} ./waf configure --prefix=${PREFIX} \
d77 1
a77 1
		--without-optionals=dns_sd,medialib-updater,tests,xmmsclient-cf,xmmsclient-ecore,ruby \
d80 4
d88 6
a93 6
	cd ${WRKSRC} && ${MODPY_BIN} ./waf install
# These directories are empty after the fake
	rmdir ${WRKSRC}/_build_/default/src/clients/lib/perl/pm/XMMSClient
	rmdir ${WRKSRC}/_build_/default/src/clients/lib/perl/pm
	/usr/bin/pod2man ${WRKSRC}/src/clients/lib/perl/pm/XMMSClient.pm > ${WRKDIR}/Audio::XMMSClient.3p
	/usr/bin/pod2man ${WRKSRC}/src/clients/lib/perl/pm/XMMSClient/Glib.pm > ${WRKDIR}/Audio::XMMSClient::Glib.3p
@


1.26
log
@first pass at handling sqlite3 move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/09/16 08:26:11 espie Exp $
d9 1
a9 1
REVISION =		13
@


1.25
log
@normalize pkgpath in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/08/21 16:37:08 jasper Exp $
d9 1
a9 1
REVISION =		12
a53 1
			databases/sqlite3 \
@


1.24
log
@- fix libavcodec initialisation

from upstream git via pascal stumpf, maintainer timed-out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/06/27 13:38:30 sthen Exp $
d9 1
a9 1
REVISION =		11
@


1.23
log
@sync WANTLIB and bump.
zap a few stray space-tabs while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/06/24 11:17:05 sthen Exp $
d9 1
a9 1
REVISION =		10
@


1.22
log
@Chase ffmpeg dep changes. Mostly from Brad ok dcoppa@@, plus opencv from me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/06/08 17:31:33 jasper Exp $
d9 1
a9 1
REVISION =		9
d29 2
a30 2
WANTLIB += c curl gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gsm
WANTLIB += gthread-2.0 jack m mad mp3lame ncurses ogg orc-0.4
@


1.21
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/04/18 23:39:20 sthen Exp $
d9 1
a9 1
REVISION =		8
d29 2
a30 2
WANTLIB += avutil c curl faac gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gsm gthread-2.0 jack m mad mp3lame ncurses ogg orc-0.4
@


1.20
log
@sync WANTLIB (re: ffmpeg update), from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/04/10 18:57:21 landry Exp $
d9 1
a9 1
REVISION =		7
@


1.19
log
@Mark as BROKEN-sparc64, waf build keeps triggering an infinite loop
which messes up bulk builds. Anyone interested is welcomed to look into
it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/03/29 23:22:17 jakemsr Exp $
d9 1
a9 1
REVISION =		6
d28 6
a33 6
WANTLIB += c gsm faac m mp3lame ncurses ogg orc-0.4 pthread readline
WANTLIB += schroedinger-1.0 speex stdc++ theora util vorbis vorbisenc
WANTLIB += vorbisfile x264 z gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gthread-2.0 avcodec avutil ao jack sqlite3 xml2 FLAC curl
WANTLIB += mad avahi-client avahi-common avahi-glib vorbisidec
WANTLIB += ${MODPY_WANTLIB}
@


1.18
log
@more ports that need faad removed from WANTLIB after ffmpeg update,
as noted on ports@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/02/10 03:14:43 jakemsr Exp $
d4 1
@


1.17
log
@fix crash in the libao backend.  set the 'matrix' member of struct
ao_sample_format to NULL before passing the structure to libao functions.

ok espie@@, ajacoutot@@, naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/11/26 07:07:57 espie Exp $
d8 1
a8 1
REVISION =		5
d27 1
a27 1
WANTLIB += c gsm faac faad m mp3lame ncurses ogg orc-0.4 pthread readline
@


1.16
log
@redo depends with >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/11/15 00:22:49 espie Exp $
d8 1
a8 1
REVISION =		4
@


1.15
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/10/24 15:53:55 sthen Exp $
d50 1
a50 1
			ffmpeg->=20080620p10:graphics/ffmpeg \
@


1.14
log
@Add MODPY_WANTLIB, adjust MODPY_LIB_DEPENDS to new-style LIB_DEPENDS,
update all ports to match. Plists don't change -> no bump.
Looks ok to jasper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/18 22:43:10 sthen Exp $
d45 2
a46 2
BUILD_DEPENDS =		::devel/pyrex \
			::devel/boost
d49 11
a59 11
			::devel/glib2 \
			:ffmpeg->=20080620p10:graphics/ffmpeg \
			::audio/libao \
			::audio/jack \
			::databases/sqlite3 \
			::textproc/libxml \
			::audio/flac \
			::net/curl \
			::audio/libmad \
			::net/avahi \
			::audio/tremor
@


1.13
log
@new-style WANTLIB/LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/10/18 16:52:48 espie Exp $
d32 1
@


1.12
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/09/24 15:23:06 sthen Exp $
d27 6
d41 1
a41 5
WANTLIB  =		c gsm faac faad m mp3lame ncurses ogg orc-0.4 \
			pthread readline schroedinger-1.0 speex stdc++ \
			theora util vorbis vorbisenc vorbisfile x264 z

USE_GROFF =	Yes
d48 11
a58 11
			gio-2.0.>=1800,glib-2.0,gmodule-2.0,gobject-2.0,gthread-2.0::devel/glib2 \
			avcodec.>=13.1,avutil.>=6:ffmpeg->=20080620p10:graphics/ffmpeg \
			ao.>=3::audio/libao \
			jack.>=0::audio/jack \
			sqlite3.>=13::databases/sqlite3 \
			xml2.>=10::textproc/libxml \
			FLAC.>=9::audio/flac \
			curl.>=13::net/curl \
			mad.>=2::audio/libmad \
			avahi-client,avahi-common,avahi-glib::net/avahi \
			vorbisidec.>=2::audio/tremor
@


1.11
log
@bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/08/30 21:36:15 fgsch Exp $
d39 1
@


1.10
log
@Yet another round of bumps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/08/25 23:27:21 sthen Exp $
d8 1
a8 1
REVISION =		3
@


1.9
log
@- chase the library change in multimedia/schroedinger; oil->orc
- add various other missing WANTLIB (and LIB_DEPENDS in some cases)
- while there move PKGNAME=..pX to REVISION, and move some ports
to new-style LIB_DEPENDS

original diff from Brad, extensive checking by me (clean build of everything
related to liboil).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/06/03 16:09:37 pea Exp $
d8 1
a8 1
REVISION =		2
@


1.8
log
@Fix after recent libao update

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/05/26 21:45:01 jakemsr Exp $
d7 2
a8 1
PKGNAME =		xmms2-${V}p1
d35 3
a37 3
WANTLIB  =		c gsm faac faad m mp3lame ncurses ogg oil-0.3 \
			pthread readline schroedinger-1.0 speex theora \
			util vorbis vorbisenc vorbisfile x264 z
@


1.7
log
@wantlib changes due to ffmpeg changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/04/24 17:37:54 jasper Exp $
d7 1
a7 1
PKGNAME =		xmms2-${V}p0
@


1.6
log
@- update xmms2 to 0.7

from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/07/19 22:49:12 sthen Exp $
d7 1
a7 1
PKGNAME =		xmms2-${V}
d34 2
a35 2
WANTLIB  =		a52 c faac faad m mp3lame ncurses ogg oil-0.3 \
			pthread readline schroedinger-1.0 theora \
@


1.5
log
@set the pkgspec for LIB_DEPENDS on ffmpeg to a version with schroedinger
included, so the tools know that old ffmpeg versions won't satisfy the
dependencies listed in WANTLIB.

this way, attempting to install these packages with old ffmpeg will
no longer give you a cryptic error message as seen by dhill@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/07/19 11:22:18 kili Exp $
d5 3
a7 3
V =			0.6
DISTNAME =		xmms2-${V}DrMattDestruction
PKGNAME =		xmms2-${V}p3
d9 1
a9 1
SHARED_LIBS +=		xmmsclient++		0.0 # 3.0.0
d12 1
a12 1
SHARED_LIBS +=		xmmsclient		0.0 # 5.0.0
d16 1
a16 1
HOMEPAGE =		http://wiki.xmms2.xmms.se
d53 2
a54 1
			avahi-client,avahi-common,avahi-glib::net/avahi
d68 1
a68 1
		--with-mandir=${PREFIX}/man \
a69 1
		--without-plugins=speex,sun \
d73 1
a73 1
		--without-plugins=airplay,alsa,cdda,coreaudio,faad,ices,mac,mms,modplug,mpg123,musepack,nms,ofa,oss,pulse,samba,sid,vocoder,waveout,wavpack
@


1.4
log
@Fix WANTLIB (oil-0.3 and schroedinger-1.0) and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/07/12 20:25:00 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		xmms2-${V}p2
d45 1
a45 1
			avcodec.>=13,avutil.>=6::graphics/ffmpeg \
@


1.3
log
@- add c++ and python bindings

from Amaury Gauthier (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/06/08 17:08:48 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		xmms2-${V}p1
d34 3
a36 2
WANTLIB += a52 c faac faad m mp3lame ncurses ogg pthread readline
WANTLIB += theora util vorbis vorbisenc vorbisfile x264 z
@


1.2
log
@Fix perl modules.

from James Wright via Amaury Gauthier (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/06/03 18:25:25 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		xmms2-${V}p0
d9 1
d35 1
a35 1
WANTLIB += theora vorbis vorbisenc vorbisfile x264 z
a36 1
MODPY_RUNDEP =		No
d39 5
a43 1
LIB_DEPENDS =		gio-2.0.>=1800,glib-2.0,gmodule-2.0,gobject-2.0,gthread-2.0::devel/glib2 \
d54 2
a55 1
WSCRIPT_PATCHES =	src/clients/lib/xmmsclient++-glib/wscript \
d71 1
a71 1
		--without-optionals=dns_sd,medialib-updater,python,tests,xmmsclient++,xmmsclient-cf,xmmsclient-ecore,ruby \
a84 2


@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
PKGNAME =		xmms2-${V}
d30 2
a31 1
			devel/gettext
d77 5
@


1.1.1.1
log
@Import xmms2-0.6

X-platform Music Multiplexing System 2 is a client-server audio player.
Client-server model allows XMMS2 to have various multiple (remote)
interfaces (as clients):
    * Command line interfaces
    * GTK clients (matching GNOME & Xfce4 look and feel)
    * KDE clients (matching KDE look and feel)
It has a wide format support and can play over different media.
It comes with Medialib, a database-driven media library which stores
metadata about songs as they're played, so songs can be quickly recalled
and new playlists easily made. The media library can be easily queried
and managed using Collections.

from Amaury Gauthier (maintainer) with several tweaks by me
@
text
@@
