head	1.20;
access;
symbols
	OPENBSD_6_1:1.18.0.8
	OPENBSD_6_1_BASE:1.18
	OPENBSD_6_0:1.18.0.6
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.18.0.2
	OPENBSD_5_9_BASE:1.18
	OPENBSD_5_8:1.18.0.4
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.17.0.2
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.16.0.6
	OPENBSD_5_6_BASE:1.16
	OPENBSD_5_5:1.16.0.4
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.16.0.2
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.15.0.10
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.8
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.6
	OPENBSD_5_0:1.15.0.4
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.2
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.12.0.4
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.11.0.6
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.4
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.11.0.2
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.10.0.2
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.9.0.6
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.9.0.4
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.2
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.8.0.2
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.7.0.4
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.5.0.4
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.4.0.4
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.2
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	naddy_20020523:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.20
date	2017.04.26.14.58.38;	author naddy;	state Exp;
branches;
next	1.19;
commitid	LXjj8kcmpHJktLmg;

1.19
date	2017.04.10.11.45.23;	author sthen;	state Exp;
branches;
next	1.18;
commitid	XDh1zlSBq0boKsHk;

1.18
date	2015.04.04.14.45.36;	author schwarze;	state Exp;
branches;
next	1.17;
commitid	qab39R7iEQzHIYIJ;

1.17
date	2015.02.18.16.15.37;	author naddy;	state Exp;
branches;
next	1.16;
commitid	tOuGIK3ZRsBrMjbe;

1.16
date	2013.03.10.22.55.03;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.15.00.22.47;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.18.22.43.10;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.18.16.52.45;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.01.11.07.51.26;	author jakemsr;	state Exp;
branches;
next	1.11;

1.11
date	2008.03.20.17.23.04;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2007.09.15.21.26.02;	author simon;	state Exp;
branches;
next	1.9;

1.9
date	2006.08.01.12.13.28;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2006.01.23.17.09.36;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2005.01.24.17.51.36;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2004.11.21.17.51.45;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2003.12.01.19.18.19;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2002.10.23.15.24.34;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2002.07.20.20.15.04;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2002.05.23.16.14.01;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2002.05.23.15.36.06;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.05.23.15.36.06;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.20
log
@don't mix char* and const char*; fixes build with clang
@
text
@# $OpenBSD: Makefile,v 1.19 2017/04/10 11:45:23 sthen Exp $

COMMENT=	text console audio player with an interactive interface

DISTNAME=	mp3blaster-3.2.5
REVISION=	2
CATEGORIES=	audio
HOMEPAGE=	http://mp3blaster.sourceforge.net/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	c m ncurses ogg pthread sidplay sndio ${LIBCXX} vorbis vorbisfile

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=mp3blaster/}

LIB_DEPENDS=	audio/libsidplay \
		audio/libvorbis

AUTOCONF_VERSION=2.61
AUTOMAKE_VERSION=1.9
CONFIGURE_STYLE=autoconf automake
CONFIGURE_ARGS=	--without-esd \
		--without-oss \
		--without-sdl \
		--with-sndio
CONFIGURE_ENV+=	ac_cv_lib_ossaudio_main=no

post-extract:
	@@cp ${FILESDIR}/sndioplayer.cc ${WRKSRC}/mpegsound
	@@cp ${FILESDIR}/sndiomixer.cc ${WRKSRC}/nmixer

AUTO_ENV=	AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION}

post-patch:
	@@echo "Running aclocal-${AUTOMAKE_VERSION} in ${WRKSRC}"
	@@cd ${WRKSRC}; ${AUTO_ENV} aclocal

pre-configure:
	@@echo "Running automake-${AUTOMAKE_VERSION} in ${WRKSRC}"
	@@cd ${WRKSRC}; ${AUTO_ENV} automake --foreign

.include <bsd.port.mk>
@


1.19
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/04/04 14:45:36 schwarze Exp $
d6 1
a6 1
REVISION=	1
@


1.18
log
@Drop USE_GROFF (white space differences only).
While here, fix a markup error in nmixer(1) that loses text.  Bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/02/18 16:15:37 naddy Exp $
d13 1
a13 1
WANTLIB=	c m ncurses ogg pthread sidplay sndio stdc++ vorbis vorbisfile
@


1.17
log
@escape backslashes for roff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/10 22:55:03 espie Exp $
d6 1
a6 1
REVISION=	0
a27 1
USE_GROFF =	Yes
@


1.16
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/11/15 00:22:47 espie Exp $
d6 1
@


1.15
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/10/18 22:43:10 sthen Exp $
a10 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.14
log
@new-style WANTLIB/LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/18 16:52:45 espie Exp $
d19 2
a20 2
LIB_DEPENDS=	::audio/libsidplay \
		::audio/libvorbis
@


1.13
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/01/11 07:51:26 jakemsr Exp $
d15 1
a15 1
WANTLIB=	c m ncurses ogg pthread sndio stdc++
d19 2
a20 2
LIB_DEPENDS=	sidplay.>=1::audio/libsidplay \
		vorbis.>=1,vorbisfile.>=2::audio/libvorbis
@


1.12
log
@- update to mp3blaster-3.2.5
- add sndio audio to mp3blaster and splay programs
- implement nmixer as a generic midi volume controller, that defaults to
using the aucat:0 midi device
- stop using multiple threads for mpeg decoding.  they are poorly
implmented, just spinning and using all available cpu cycles

with feedback from naddy@@ and ratchov@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/03/20 17:23:04 jasper Exp $
d30 1
@


1.11
log
@- update homepage
- remove MAINTAINER (per his request)

ok naddy@@ (former MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/09/15 21:26:02 simon Exp $
d5 1
a5 2
DISTNAME=	mp3blaster-3.2.1
PKGNAME=	${DISTNAME}p0
d9 1
a9 1
# GPL
d15 1
a15 1
WANTLIB=	c m ncurses ogg ossaudio pthread stdc++
d22 23
a44 2
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--with-cxxflags="${CXXFLAGS}"
@


1.10
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/08/01 12:13:28 espie Exp $
d6 1
d8 1
a8 3
HOMEPAGE=	http://www.stack.nl/~brama/mp3blaster/

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>
@


1.9
log
@new-style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/01/23 17:09:36 naddy Exp $
d3 1
a3 1
COMMENT=	"text console audio player with an interactive interface"
@


1.8
log
@maintenance update to 3.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/01/24 17:51:36 naddy Exp $
d21 2
a22 2
LIB_DEPENDS=	sidplay.1::audio/libsidplay \
		vorbis.1,vorbisfile.2::audio/libvorbis
@


1.7
log
@Do not depend on libvorbis/libogg interlibrary dependency.
From: Robbert Haarman <inglorion@@inglorion.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/11/21 17:51:45 espie Exp $
d5 1
a5 2
DISTNAME=	mp3blaster-3.2.0
PKGNAME=	${DISTNAME}p0
d19 1
a19 1
MASTER_SITES=	${HOMEPAGE}src/
@


1.6
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/12/01 19:18:19 naddy Exp $
d6 1
d17 2
a18 1
WANTLIB=		c m ncurses ossaudio pthread stdc++
@


1.5
log
@* Fix playing Ogg Vorbis files on big-endian archs.
* Maintenance update to 3.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/10/23 15:24:34 naddy Exp $
d16 1
@


1.4
log
@Update to 3.1.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/07/20 20:15:04 naddy Exp $
d5 1
a5 1
DISTNAME=	mp3blaster-3.1.3
d22 1
a22 2
CONFIGURE_STYLE= autoconf
AUTOCONF_NEW=	yes
a23 6

post-extract:
	@@cd ${WRKSRC}; touch -r configure.in configure.in.stamp

post-configure:
	@@cd ${WRKSRC}; touch -r configure.in.stamp configure.in
@


1.3
log
@Fix build with gcc3.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/05/23 16:14:01 naddy Exp $
d5 1
a5 1
DISTNAME=	mp3blaster-3.1.1
@


1.2
log
@stealth update; sunsite mirror still holds old distfile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/05/23 15:36:06 naddy Exp $
a6 2
NEED_VERSION=	1.530

@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d19 1
a19 2
MASTER_SITES=	${HOMEPAGE}src/ \
		${MASTER_SITE_SUNSITE:=apps/sound/players/mp3/}
@


1.1.1.1
log
@Import mp3blaster 3.1.1.

Mp3blaster is an audio player with a user-friendly interface that will run
on any text console. The interface is built using ncurses, and features all
common audio player controls. The playlist editor is very flexible and allows
nested groups (albums). Supported audio media: mp3, ogg vorbis, wav, sid and
streaming mp3 over HTTP.
@
text
@@
