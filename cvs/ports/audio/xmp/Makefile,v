head	1.58;
access;
symbols
	OPENBSD_6_2:1.58.0.4
	OPENBSD_6_2_BASE:1.58
	OPENBSD_6_1:1.58.0.2
	OPENBSD_6_1_BASE:1.58
	OPENBSD_6_0:1.57.0.4
	OPENBSD_6_0_BASE:1.57
	OPENBSD_5_9:1.57.0.2
	OPENBSD_5_9_BASE:1.57
	OPENBSD_5_8:1.56.0.6
	OPENBSD_5_8_BASE:1.56
	OPENBSD_5_7:1.56.0.2
	OPENBSD_5_7_BASE:1.56
	OPENBSD_5_6:1.53.0.6
	OPENBSD_5_6_BASE:1.53
	OPENBSD_5_5:1.53.0.4
	OPENBSD_5_5_BASE:1.53
	OPENBSD_5_4:1.53.0.2
	OPENBSD_5_4_BASE:1.53
	OPENBSD_5_3:1.48.0.4
	OPENBSD_5_3_BASE:1.48
	OPENBSD_5_2:1.48.0.2
	OPENBSD_5_2_BASE:1.48
	OPENBSD_5_1_BASE:1.45
	OPENBSD_5_1:1.45.0.2
	OPENBSD_5_0:1.42.0.4
	OPENBSD_5_0_BASE:1.42
	OPENBSD_4_9:1.42.0.2
	OPENBSD_4_9_BASE:1.42
	OPENBSD_4_8:1.32.0.4
	OPENBSD_4_8_BASE:1.32
	OPENBSD_4_7:1.32.0.2
	OPENBSD_4_7_BASE:1.32
	OPENBSD_4_6:1.30.0.6
	OPENBSD_4_6_BASE:1.30
	OPENBSD_4_5:1.30.0.4
	OPENBSD_4_5_BASE:1.30
	OPENBSD_4_4:1.30.0.2
	OPENBSD_4_4_BASE:1.30
	OPENBSD_4_3:1.29.0.2
	OPENBSD_4_3_BASE:1.29
	OPENBSD_4_2:1.28.0.4
	OPENBSD_4_2_BASE:1.28
	OPENBSD_4_1:1.28.0.2
	OPENBSD_4_1_BASE:1.28
	OPENBSD_4_0:1.27.0.2
	OPENBSD_4_0_BASE:1.27
	OPENBSD_3_9:1.26.0.2
	OPENBSD_3_9_BASE:1.26
	OPENBSD_3_8:1.23.0.2
	OPENBSD_3_8_BASE:1.23
	OPENBSD_3_7:1.22.0.2
	OPENBSD_3_7_BASE:1.22
	OPENBSD_3_6:1.21.0.2
	OPENBSD_3_6_BASE:1.21
	OPENBSD_3_5:1.19.0.4
	OPENBSD_3_5_BASE:1.19
	OPENBSD_3_4:1.19.0.2
	OPENBSD_3_4_BASE:1.19
	OPENBSD_3_3:1.16.0.2
	OPENBSD_3_3_BASE:1.16
	OPENBSD_3_2:1.15.0.2
	OPENBSD_3_2_BASE:1.15
	OPENBSD_3_1:1.14.0.2
	OPENBSD_3_1_BASE:1.14
	OPENBSD_3_0:1.13.0.4
	OPENBSD_3_0_BASE:1.13
	OPENBSD_2_9_TRACKING_SWITCH:1.13
	OPENBSD_2_9:1.13.0.2
	OPENBSD_2_9_BASE:1.13
	OPENBSD_2_8:1.12.0.2
	OPENBSD_2_8_BASE:1.12
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2;
locks; strict;
comment	@# @;


1.58
date	2016.09.02.17.42.44;	author fcambus;	state Exp;
branches;
next	1.57;
commitid	tMOFMvWlIqUSJOTz;

1.57
date	2015.08.25.13.18.25;	author sthen;	state Exp;
branches;
next	1.56;
commitid	ezNehs3ayqMPx5Ri;

1.56
date	2015.01.24.11.07.57;	author schwarze;	state Exp;
branches;
next	1.55;
commitid	7awk5YK2lMTW4w3F;

1.55
date	2014.12.08.20.01.33;	author bcallah;	state Exp;
branches;
next	1.54;
commitid	NIwvhER45yNG69f3;

1.54
date	2014.10.06.01.18.53;	author bcallah;	state Exp;
branches;
next	1.53;
commitid	GC18oo6SBciATdD7;

1.53
date	2013.06.19.15.59.12;	author shadchin;	state Exp;
branches;
next	1.52;

1.52
date	2013.04.23.13.10.46;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2013.04.02.14.09.23;	author naddy;	state Exp;
branches;
next	1.50;

1.50
date	2013.04.01.17.16.32;	author rpe;	state Exp;
branches;
next	1.49;

1.49
date	2013.03.10.22.55.06;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2012.03.22.13.32.55;	author dcoppa;	state Exp;
branches;
next	1.47;

1.47
date	2012.03.21.16.13.25;	author dcoppa;	state Exp;
branches;
next	1.46;

1.46
date	2012.02.21.22.19.31;	author sthen;	state Exp;
branches;
next	1.45;

1.45
date	2011.09.19.13.48.15;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2011.09.16.08.26.11;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2011.08.28.19.15.46;	author shadchin;	state Exp;
branches;
next	1.42;

1.42
date	2011.01.03.19.15.38;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2010.12.30.19.09.03;	author landry;	state Exp;
branches;
next	1.40;

1.40
date	2010.12.30.16.32.05;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.12.21.18.06.05;	author shadchin;	state Exp;
branches;
next	1.38;

1.38
date	2010.11.15.00.22.49;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2010.10.24.21.00.30;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.10.18.16.52.48;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.13.15.04.28;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.11.08.11.17;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2010.08.23.18.13.58;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2009.12.16.07.49.29;	author jakemsr;	state Exp;
branches;
next	1.31;

1.31
date	2009.08.10.06.29.53;	author kili;	state Exp;
branches;
next	1.30;

1.30
date	2008.06.18.18.08.06;	author miod;	state Exp;
branches;
next	1.29;

1.29
date	2007.09.15.21.26.04;	author simon;	state Exp;
branches;
next	1.28;

1.28
date	2006.11.20.19.15.09;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2006.08.01.12.13.29;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2005.11.16.19.50.53;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2005.10.04.20.16.04;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2005.09.16.09.51.26;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2005.07.11.06.28.31;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2004.11.21.17.51.48;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2004.07.04.22.53.44;	author jolan;	state Exp;
branches;
next	1.20;

1.20
date	2004.07.03.22.16.42;	author jolan;	state Exp;
branches;
next	1.19;

1.19
date	2003.05.18.07.40.55;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2003.04.27.19.38.16;	author margarida;	state Exp;
branches;
next	1.17;

1.17
date	2003.03.31.15.03.04;	author sturm;	state Exp;
branches;
next	1.16;

1.16
date	2002.12.29.19.29.57;	author fgsch;	state Exp;
branches;
next	1.15;

1.15
date	2002.05.13.18.50.37;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2002.03.09.02.23.53;	author pvalchev;	state Exp;
branches;
next	1.13;

1.13
date	2001.04.05.19.31.41;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.10.22.15.41.31;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.06.10.17.39.29;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.04.08.18.31.17;	author espie;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2000.02.16.10.52.09;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.15.05.04.02;	author turan;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.12.08.02.10;	author turan;	state Exp;
branches;
next	1.6;

1.6
date	99.10.26.11.30.41;	author downsj;	state Exp;
branches;
next	1.5;

1.5
date	99.09.06.19.06.14;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.04.01.02.57.53;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.03.29.18.05.51;	author rohee;	state Exp;
branches;
next	1.2;

1.2
date	98.10.08.23.50.23;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.07.24.03.11.23;	author downsj;	state Exp;
branches;
next	;

1.10.2.1
date	2000.09.15.04.43.12;	author marc;	state Exp;
branches;
next	;


desc
@@


1.58
log
@Update xmp to 4.1.0

OK edd@@
@
text
@# $OpenBSD: Makefile,v 1.57 2015/08/25 13:18:25 sthen Exp $

COMMENT=		extended module player

DISTNAME=		xmp-4.1.0
CATEGORIES=		audio

HOMEPAGE=		http://xmp.sourceforge.net/

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=xmp/}

WANTLIB += c sndio xmp

USE_GMAKE=		Yes

NO_TEST=		Yes

LIB_DEPENDS=		audio/libxmp

CONFIGURE_STYLE=	gnu
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC}/build-aux
CONFIGURE_ARGS+=	--disable-alsa \
			--disable-oss \
			--disable-pulseaudio
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

# disable sun audio detection
CONFIGURE_ENV+=		ac_cv_header_sys_audioio_h=no

MAKE_FLAGS+=		V=1

FAKE_FLAGS=		DESTDIR=${WRKINST} \
			SYSCONFDIR=${PREFIX}/share/examples

.include <bsd.port.mk>
@


1.57
log
@remove bcallah as maintainer of his ports, at his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2015/01/24 11:07:57 schwarze Exp $
d5 1
a5 1
DISTNAME=		xmp-4.0.10
a6 1
REVISION=		0
@


1.56
log
@only minor formatting differences; drop USE_GROFF; no bump needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/12/08 20:01:33 bcallah Exp $
d7 1
a9 1
MAINTAINER=		Brian Callahan <bcallah@@openbsd.org>
@


1.55
log
@Update to 4.0.10 - take MAINTAINER
ok shadchin@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/10/06 01:18:53 bcallah Exp $
a18 1
USE_GROFF=		Yes
@


1.54
log
@Update to 4.0.9
ok shadchin@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/06/19 15:59:12 shadchin Exp $
d5 1
a5 1
DISTNAME=		xmp-4.0.9
d9 1
d11 1
a11 1
# GPLv2
@


1.53
log
@Update to xmp 4.0.6.

ok edd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/04/23 13:10:46 jasper Exp $
d5 1
a5 1
DISTNAME=		xmp-4.0.6
@


1.52
log
@security fix for CVE-2013-1980, libxmp MASI Parsing Buffer Overflow Vulnerability

note that this port could use an update by someone who cares..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/04/02 14:09:23 naddy Exp $
d3 1
a3 1
SHARED_ONLY=		Yes
d5 1
a5 7
COMMENT-main=		extended module player
COMMENT-xmms=		extended module player plugin for XMMS

DISTNAME=		xmp-3.5.0
PKGNAME-main=		${DISTNAME}
REVISION-main=		1
PKGNAME-xmms=		xmms-${DISTNAME}
d15 1
a15 3
MULTI_PACKAGES=		-main -xmms

MODULES=		devel/gettext
d22 1
a22 6
LIB_DEPENDS-main=	# empty
RUN_DEPENDS-main=	# empty
WANTLIB-main=		c m sndio

LIB_DEPENDS-xmms=	audio/xmms
WANTLIB-xmms=		X11 Xext Xi gdk glib gmodule gtk m xmms ${MODGETTEXT_WANTLIB}
d25 1
a25 1
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC}/scripts
a26 3
			--disable-arts \
			--disable-audacious-plugin \
			--disable-esd \
d28 1
a28 2
			--disable-pulseaudio \
			--enable-xmms-plugin
d32 3
d38 1
a38 1
			SYSCONFDIR=${PREFIX}/share/examples/xmp
@


1.51
log
@audio/bmp is gone, so don't try to enable the bmp plugin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/04/01 17:16:32 rpe Exp $
d10 1
a10 1
REVISION-main=		0
@


1.50
log
@remove -bmp subpackage, audio/bmp is gone

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/03/10 22:55:06 espie Exp $
a44 1
			--enable-bmp-plugin \
@


1.49
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/03/22 13:32:55 dcoppa Exp $
a5 1
COMMENT-bmp=		extended module player plugin for BMP
d10 1
a10 1
PKGNAME-bmp=		bmp-${DISTNAME}
d21 1
a21 1
MULTI_PACKAGES=		-main -bmp -xmms
a32 9

LIB_DEPENDS-bmp=	audio/bmp
WANTLIB-bmp=		GL X11 Xcomposite Xcursor Xdamage Xext Xfixes \
			Xi Xinerama Xrandr Xrender atk-1.0 beep cairo \
			expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
			gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 \
			gtk-x11-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
			pixman-1 png pthread-stubs xcb xcb-render xcb-shm z \
			${MODGETTEXT_WANTLIB}
@


1.48
log
@Update to xmp-3.5.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2012/03/21 16:13:25 dcoppa Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d29 1
a29 1
NO_REGRESS=		Yes
@


1.47
log
@
Various fixes following audacious' update.

- For audacious:

devel/mcs is no longer a dependency

"--disable-sse2" configure flag no longer exists

libexecinfo is useless (backtrace() isn't used anywhere)

fix libpthread linkage ("-lpthread" -> "-pthread")

fix WANTLIB

- For audacious-plugins:

zap jack subpackage, since now Jack2>=1.9.7 is required

remove configure flags that no longer exist

do not pick hidden dependencies up if they're installed

fix libpthread linkage ("-lpthread" -> "-pthread")

fix configure failing to correctly detect required libraries due
to undefined references (wrong linking)

pass "--disable-ffaudio" to configure since it wants a ffmpeg newer
than the one we have

fix WANTLIB and CONFIGURE_ENV

- For xmp:

zap audacious subpackage: it's broken beyond any repair with audacious-3.2

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/02/21 22:19:31 sthen Exp $
d9 1
a9 1
DISTNAME=		xmp-3.4.1
a13 3
REVISION-main =		0
REVISION-bmp =		0
REVISION-xmms =		0
d52 5
a56 2
CONFIGURE_ARGS+=	--disable-oss \
			--disable-alsa \
a57 1
			--disable-audacious-plugin \
d61 1
a61 2
			LDFLAGS="-L${LOCALBASE}/lib" \
			LIBS=-lsndio
@


1.46
log
@Remove patches casting NULL when used as a sentinel to a pointer.
These are no longer needed since unistd.h r1.63 et al.  ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/09/19 13:48:15 jasper Exp $
a5 1
COMMENT-audacious=	extended module player plugin for Audacious
a10 1
PKGNAME-audacious=	audacious-${DISTNAME}
a14 1
REVISION-audacious =	0
d28 1
a28 1
MULTI_PACKAGES=		-main -audacious -bmp -xmms
a40 11
BUILD_DEPENDS +=	audio/audacious
RUN_DEPENDS-audacious= audio/audacious ${MODGETTEXT_RUN_DEPENDS}
LIB_DEPENDS-audacious=	x11/gtk+2 devel/mcs x11/dbus-glib
WANTLIB-audacious=	GL X11 Xcomposite Xcursor Xdamage Xext Xfixes \
			Xi Xinerama Xrandr Xrender atk-1.0 audcore audgui cairo \
			dbus-1 dbus-glib-1 expat fontconfig freetype gdk-x11-2.0 \
			gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 \
			gthread-2.0 gtk-x11-2.0 m mcs mowgli pango-1.0 \
			pangocairo-1.0 pangoft2-1.0 pixman-1 png pthread-stubs \
			xcb xcb-render xcb-shm z ${MODGETTEXT_WANTLIB}

d58 1
a58 1
			--enable-audacious-plugin \
@


1.45
log
@explicitly disable pulseaudio in these ports so they won't pick it up
when it becomes available.

thanks to sthen@@ for grepping the sources
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/09/16 08:26:11 espie Exp $
d16 1
@


1.44
log
@normalize pkgpath in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/08/28 19:15:46 shadchin Exp $
d70 1
@


1.43
log
@Update to 3.4.1
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/01/03 19:15:38 ajacoutot Exp $
d16 3
@


1.42
log
@Gah, it's BUILD_DEPENDS, not BUILD_DEPENDS-audacious... stupid me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/12/30 19:09:03 landry Exp $
d10 1
a10 1
DISTNAME=		xmp-3.3.0
a16 5
REVISION-main=		0
REVISION-audacious=	0
REVISION-bmp=		0
REVISION-xmms=		0

d43 3
a45 3
WANTLIB-audacious=	GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
			Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 cairo dbus-1 \
			dbus-glib-1 drm expat fontconfig freetype gdk-x11-2.0 \
d52 3
a54 3
WANTLIB-bmp=		GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
			Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 beep cairo \
			drm expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
@


1.41
log
@fix tyop
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/12/30 16:32:05 ajacoutot Exp $
d45 1
a45 1
BUILD_DEPENDS-audacious= audio/audacious
@


1.40
log
@Unbreak by fixing dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/12/21 18:06:05 shadchin Exp $
d46 1
a46 1
RUN__DEPENDS-audacious= audio/audacious ${MODGETTEXT_RUN_DEPENDS}
@


1.39
log
@Update to 3.3.0.
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/11/15 00:22:49 espie Exp $
d17 5
d34 2
d37 1
a37 1
USE_GROFF =		Yes
d41 2
d45 3
a47 1
LIB_DEPENDS-audacious=	audio/audacious>=2.4.2
d52 1
a52 1
			gthread-2.0 gtk-x11-2.0 iconv intl m mcs mowgli pango-1.0 \
d54 1
a54 1
			xcb xcb-render xcb-shm z
d61 3
a63 2
			gtk-x11-2.0 iconv intl m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
			pixman-1 png pthread-stubs xcb xcb-render xcb-shm z
d66 1
a66 1
WANTLIB-xmms=		X11 Xext Xi gdk glib gmodule gtk iconv intl m xmms
@


1.38
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.37 2010/10/24 21:00:30 ajacoutot Exp $
d9 2
a10 1
DISTNAME=		xmp-3.2.0
a16 3
REVISION-bmp=	0
REVISION-audacious=	0

a26 2
SHARED_ONLY=		Yes

d36 16
a51 21
LIB_DEPENDS-audacious=	audio/audacious \
			devel/pango \
			x11/gtk+2
WANTLIB-audacious=	X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
			Xi Xinerama Xrandr Xrender atk-1.0 cairo dbus-1 dbus-glib-1 \
			expat fontconfig freetype gio-2.0 glib-2.0 gmodule-2.0 \
			gobject-2.0 gthread-2.0 iconv intl m mcs mowgli pixman-1 \
			png pthread-stubs samplerate xcb xcb-render xcb-render-util \
			z audclient>=1 pango-1.0 pangocairo-1.0 pangoft2-1.0 \
			gdk-x11-2.0 gdk_pixbuf-2.0 gtk-x11-2.0

LIB_DEPENDS-bmp=	audio/bmp \
			devel/pango \
			x11/gtk+2
WANTLIB-bmp=		X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
			Xi Xinerama Xrandr Xrender atk-1.0 cairo expat fontconfig \
			freetype gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 \
			gthread-2.0 iconv intl m pixman-1 png pthread-stubs \
			xcb xcb-render xcb-render-util z beep>=2 pango-1.0 \
			pangocairo-1.0 pangoft2-1.0 gdk-x11-2.0 gdk_pixbuf-2.0 \
			gtk-x11-2.0
@


1.37
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/10/18 16:52:48 espie Exp $
d32 1
a32 1
USE_GROFF =	Yes
d38 3
a40 3
LIB_DEPENDS-audacious=	::audio/audacious \
			::devel/pango \
			::x11/gtk+2
d46 1
a46 1
			z audclient.>=1 pango-1.0 pangocairo-1.0 pangoft2-1.0 \
d49 3
a51 3
LIB_DEPENDS-bmp=	::audio/bmp \
			::devel/pango \
			::x11/gtk+2
d56 1
a56 1
			xcb xcb-render xcb-render-util z beep.>=2 pango-1.0 \
d60 1
a60 1
LIB_DEPENDS-xmms=	::audio/xmms
@


1.36
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/10/13 15:04:28 jasper Exp $
a30 1
USE_X11=		Yes
@


1.35
log
@- it helps to set REVISION for an existing subpackage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/11 08:11:17 jasper Exp $
d33 1
@


1.34
log
@- fix WANTLIB after cairo update.

these and upcoming fixes test built by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/08/23 18:13:58 jasper Exp $
d15 1
a15 1
REVISION-audicious=	0
@


1.33
log
@- update xmp to 3.2.0

from Alexandr Shadchin, with some tweaks by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/12/16 07:49:29 jakemsr Exp $
d14 3
d43 1
a43 1
			expat fontconfig freetype gio-2.0 glib-2.0 glitz gmodule-2.0 \
d54 1
a54 1
			freetype gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 \
@


1.32
log
@update to xmp-3.0.0
from Alexandr Shadchin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/08/10 06:29:53 kili Exp $
d7 1
a7 1
DISTNAME=		xmp-3.0.0
d16 1
a16 1
# GPL
d31 1
a31 1
WANTLIB=		m
d33 1
a33 1
WANTLIB-main=		${WANTLIB} c sndio
d35 21
a55 17
LIB_DEPENDS-audacious=	${LIB_DEPENDS} audclient.>=1::audio/audacious
WANTLIB-audacious=	${WANTLIB} X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
			Xext Xfixes Xi Xinerama Xrandr Xrender atk-1.0 cairo \
			dbus-1 dbus-glib-1 expat fontconfig freetype \
			gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0 glitz \
			gmodule-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0 \
			iconv intl mcs mowgli pango-1.0 pangocairo-1.0 \
			pangoft2-1.0 pixman-1 png pthread-stubs samplerate \
			xcb z

LIB_DEPENDS-bmp=	${LIB_DEPENDS} beep.>=2::audio/bmp
WANTLIB-bmp=		${WANTLIB} X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
			Xext Xfixes Xi Xinerama Xrandr Xrender atk-1.0 cairo \
			expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
			gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 \
			gtk-x11-2.0 iconv intl pango-1.0 pangocairo-1.0 \
			pangoft2-1.0 pixman-1 png pthread-stubs xcb z
d57 2
a58 2
LIB_DEPENDS-xmms=	${LIB_DEPENDS} xmms.>=4::audio/xmms
WANTLIB-xmms=		${WANTLIB} X11 Xext Xi gdk glib gmodule gtk iconv intl
@


1.31
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/06/18 18:08:06 miod Exp $
d3 10
a12 6
COMMENT-main=	extended module player
COMMENT-xmms=	extended module player plugin for XMMS
DISTNAME=	xmp-2.0.4
PKGNAME-main=	${DISTNAME}p4
PKGNAME-xmms=	xmms-${DISTNAME}p1
CATEGORIES=	audio
d14 1
a14 1
HOMEPAGE=	http://xmp.sourceforge.net/
d22 1
a22 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=xmp/}
d24 1
a24 18
PSEUDO_FLAVORS=	no_xmms
.if ${MACHINE_ARCH} == "m88k" || ${MACHINE_ARCH} == "vax"
FLAVOR?=	no_xmms
.else
FLAVOR?=
.endif

MULTI_PACKAGES=		-main
.if !${FLAVOR:L:Mno_xmms}
MULTI_PACKAGES+=	-xmms
LIB_DEPENDS=		xmms.>=3::audio/xmms
.else
CONFIGURE_ARGS+= --disable-xmms
.endif

LIB_DEPENDS-xmms=
RUN_DEPENDS-xmms=	::audio/xmms
WANTLIB-xmms=
d26 1
a26 2
LIB_DEPENDS-main=	esd.>=2::audio/esound
WANTLIB-main=		X11 Xext c m pthread-stubs xcb
d28 2
a29 2
USE_X11=	Yes
USE_GMAKE=	Yes
d31 26
a56 1
CONFIGURE_STYLE=gnu
d58 8
a65 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
d67 1
a67 2
FAKE_FLAGS=	DEST_DIR=${WRKINST} \
		SYSCONF_DIR=${PREFIX}/share/examples/xmp
d69 2
a70 3
pre-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/xmp \
		${PREFIX}/lib/xmms/Input
@


1.30
log
@Makefile typo caused xmms to be a dependency even for the no_xmms flavor.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/09/15 21:26:04 simon Exp $
d6 1
a6 1
PKGNAME-main=	${DISTNAME}p3
d40 1
a40 1
WANTLIB-main=		X11 Xext c m
@


1.29
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2006/11/20 19:15:09 espie Exp $
d28 1
a28 1
.if !{FLAVOR:L:Mno_xmms}
@


1.28
log
@new MULTI_PACKAGES style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2006/08/01 12:13:29 espie Exp $
d3 2
a4 2
COMMENT-main=	"extended module player"
COMMENT-xmms=	"extended module player plugin for XMMS"
@


1.27
log
@new-style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2005/11/16 19:50:53 naddy Exp $
d3 1
a3 1
COMMENT=	"extended module player"
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
a16 1
WANTLIB=		X11 Xext c m
d27 1
a27 1
MULTI_PACKAGES=
d29 2
a30 7
MULTI_PACKAGES+= -xmms
.endif
SUBPACKAGE?=

LIB_DEPENDS=	esd.>=2::audio/esound
.if ${MULTI_PACKAGES:M-xmms}
LIB_DEPENDS+=	xmms.>=3::audio/xmms
d35 7
a55 10

.if defined(PACKAGING)
.  if ${SUBPACKAGE} == "-xmms"
WANTLIB=
LIB_DEPENDS=
RUN_DEPENDS=	::audio/xmms
.  else
LIB_DEPENDS=	esd.>=2::audio/esound
.  endif
.endif
@


1.26
log
@fix wantlib for -xmms subpackage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2005/10/04 20:16:04 espie Exp $
d34 1
a34 1
LIB_DEPENDS=	esd.2::audio/esound
d36 1
a36 1
LIB_DEPENDS+=	xmms.3::audio/xmms
d62 1
a62 1
LIB_DEPENDS=	esd.2::audio/esound
@


1.25
log
@re-read parameters after set.
fixes issues with soundcards that can't handle all frequencies or any
number of channels.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/09/16 09:51:26 espie Exp $
d7 1
a7 1
PKGNAME-xmms=	xmms-${DISTNAME}p0
d58 1
@


1.24
log
@Fix a buglet in bsd.port.mk where the PSEUDO_FLAVORS get encoded into
the FULLPKGPATH, thus providing changes to packing-lists which shouldn't
happen, and making update more difficult.

Accordingly, bump all pkgnames with PSEUDO_FLAVORS, and provide an
update @@pkgpath for the bug for most of them (left out the ones with 3
or 4 pseudo flavors for space constraints...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/07/11 06:28:31 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.23
log
@fix buffer underflow
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/11/21 17:51:48 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.22
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/07/04 22:53:44 jolan Exp $
d6 2
a7 1
PKGNAME-xmms=	xmms-${DISTNAME}
@


1.21
log
@revert to previous (working) construct, pointed out by naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/07/03 22:16:42 jolan Exp $
d16 1
@


1.20
log
@use NO_SHARED_LIBS construct
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/05/18 07:40:55 naddy Exp $
d20 1
a20 1
.if defined(NO_SHARED_LIBS)
@


1.19
log
@Update to 2.0.4, add XMMS plugin.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2003/04/27 19:38:16 margarida Exp $
d20 1
a20 1
.if ${MACHINE_ARCH} == "hppa" || ${MACHINE_ARCH} == "vax"
@


1.18
log
@Add HOMEPAGE;
Change to new MASTER_SITES.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2003/03/31 15:03:04 sturm Exp $
d3 4
a6 2
COMMENT=	"extended Module Player; many formats plus an X11 display"
DISTNAME=	xmp-1.1.5
a10 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=xmp/}

d17 24
a40 1
PATCH_DIST_STRIP= -p1
d44 5
a48 2
USE_GMAKE=	Yes
USE_X11=	Yes
d50 12
a61 5
do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/src/main/xmp ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKSRC}/src/main/xxmp ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/docs/xmp.1 ${PREFIX}/man/man1
	@@ln -sf xmp.1 ${PREFIX}/man/man1/xxmp.1
@


1.17
log
@USE_X11=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/12/29 19:29:57 fgsch Exp $
d6 4
a9 1
MASTER_SITES=	${MASTER_SITE_SUNSITE:=apps/sound/players/}
@


1.16
log
@byebye NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/05/13 18:50:37 espie Exp $
d19 1
@


1.15
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/03/09 02:23:53 pvalchev Exp $
a5 1
NEED_VERSION=	1.363
@


1.14
log
@fix MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/04/05 19:31:41 espie Exp $
d7 1
a7 2
MASTER_SITES=	${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR= apps/sound/players
@


1.13
log
@Finally repair xmp. temp race is so obvious to fix, and nobody will move.
Also, make driver more robust, by separating gain control (which often
does not work) from main setup.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/10/22 15:41:31 espie Exp $
d19 1
@


1.12
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/06/10 17:39:29 espie Exp $
d3 1
a3 1
BROKEN=	"Obvious tmp race in api/load.c, to fix"
d6 1
a6 1
NEED_VERSION=	1.305
d10 1
a10 3
MAINTAINER=	ports@@openbsd.org

LICENSE_TYPE=		GPL
a15 1
PATCH_STRIP=	-p1
@


1.11
log
@Various minor clean-ups:
- use new CONFIGURE_STYLE
- use PLIST/DESCR substitution to add HOMEPAGE and various fragments
- add systematic @@comment $OpenBSD$ to PLIST
- remove FAKE=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/04/08 18:31:17 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.300
@


1.10
log
@Fake.
Tsk, tsk, tsk, xmp is using tempnam + system to decompress files.
Bad, *really* bad...
Mark as broken.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/02/16 10:52:09 espie Exp $
d6 1
d21 1
a21 1
GNU_CONFIGURE=	Yes
a22 1
FAKE=		Yes
a30 2


@


1.10.2.1
log
@bring cut-off audio into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/06/10 17:39:29 espie Exp $
a5 1
NEED_VERSION=	1.300
d20 1
a20 1
CONFIGURE_STYLE=gnu
d22 1
d31 2
@


1.9
log
@All the Makefiles cvs missed first time around...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/15 05:04:02 turan Exp $
d3 1
d12 4
a15 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d20 3
a22 2
GNU_CONFIGURE=	yes
USE_GMAKE=	yes
d27 2
a28 2
	${INSTALL_MAN} ${WRKSRC}/docs/xmp.1 ${MANPREFIX}/man/man1
	@@ln -sf ${MANPREFIX}/man/man1/xmp.1 ${MANPREFIX}/man/man1/xxmp.1
@


1.8
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/12 08:02:10 turan Exp $
d26 1
a26 1
	@@${LN} -sf ${MANPREFIX}/man/man1/xmp.1 ${MANPREFIX}/man/man1/xxmp.1
@


1.7
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/10/26 11:30:41 downsj Exp $
d11 4
a14 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.6
log
@Change maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/09/06 19:06:14 brad Exp $
d9 6
@


1.5
log
@re-arrange Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/04/01 02:57:53 brad Exp $
d8 1
a8 1
MAINTAINER=	downsj@@openbsd.org
@


1.4
log
@remove unnecessary comments and fix email address's
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/03/29 18:05:51 rohee Exp $
d3 4
a6 2
DISTNAME=		xmp-1.1.5
CATEGORIES=		audio
d8 1
a8 1
MAINTAINER=		downsj@@openbsd.org
d10 2
a11 4
MASTER_SITES=		${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR=	apps/sound/players
PATCH_STRIP=		-p1
PATCH_DIST_STRIP=	-p1
d13 2
a14 2
GNU_CONFIGURE=		YES
USE_GMAKE=		YES
d20 1
a20 1
	${LN} ${MANPREFIX}/man/man1/xmp.1 ${MANPREFIX}/man/man1/xxmp.1
@


1.3
log
@Adding a man for xxmp
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.2 1998/10/08 23:50:23 marc Exp $
#
@


1.2
log
@update makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 1998/07/24 03:11:23 downsj Exp $
d21 1
d24 2
@


1.1
log
@Add XMP.
@
text
@d1 1
a1 4
# OpenBSD makefile for:			xmp-1.1.5
# Version required:			1.1.5
# Date created:				Thu Jul 23 19:27:58 PDT 1998
# Whom:					downsj@@openbsd.org
a2 7
#	$OpenBSD$
#

DISTNAME=	xmp-1.1.5
CATEGORIES=	audio
MASTER_SITES=	${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR=	apps/sound/players
d4 2
a5 1
MAINTAINER=	downsj@@openbsd.org
d7 1
a7 2
GNU_CONFIGURE=	YES
USE_GMAKE=	YES
d9 3
a11 1
PATCH_STRIP=	-p1
d14 2
a15 1
MAN1=		docs/xmp.1
@

