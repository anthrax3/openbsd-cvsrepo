head	1.28;
access;
symbols
	OPENBSD_6_1:1.28.0.14
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.28.0.12
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.28.0.8
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.28.0.10
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.28.0.6
	OPENBSD_5_7_BASE:1.28
	OPENBSD_5_6:1.28.0.4
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.28.0.2
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.26.0.2
	OPENBSD_5_3_BASE:1.26
	OPENBSD_5_2:1.25.0.4
	OPENBSD_5_2_BASE:1.25
	OPENBSD_5_1_BASE:1.25
	OPENBSD_5_1:1.25.0.2
	OPENBSD_5_0:1.24.0.4
	OPENBSD_5_0_BASE:1.24
	OPENBSD_4_9:1.24.0.2
	OPENBSD_4_9_BASE:1.24
	OPENBSD_4_8:1.20.0.2
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.19.0.2
	OPENBSD_4_7_BASE:1.19
	OPENBSD_4_6:1.17.0.2
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.15.0.2
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.14.0.4
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.14.0.2
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.12.0.6
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.12.0.4
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.12.0.2
	OPENBSD_4_0_BASE:1.12
	OPENBSD_3_9:1.11.0.2
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.9.0.4
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.2
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.8.0.8
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.6
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.4
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.8.0.2
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.7.0.2
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.1.1.1.0.2
	OPENBSD_3_1_BASE:1.1.1.1
	espie:1.1.1.1
	vedge:1.1.1;
locks; strict;
comment	@# @;


1.28
date	2013.09.27.17.49.01;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.10.22.55.05;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2013.01.26.15.53.20;	author bcallah;	state Exp;
branches;
next	1.25;

1.25
date	2011.10.12.12.54.31;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2010.11.15.00.22.48;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2010.10.24.21.00.29;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.10.11.08.11.17;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2010.09.05.22.00.13;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2010.04.08.08.47.09;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2009.12.19.22.59.27;	author jakemsr;	state Exp;
branches;
next	1.18;

1.18
date	2009.08.10.06.29.52;	author kili;	state Exp;
branches;
next	1.17;

1.17
date	2009.06.19.17.50.47;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2009.03.06.21.24.52;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2008.08.21.14.11.14;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2007.10.02.19.09.44;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2007.09.15.21.26.03;	author simon;	state Exp;
branches;
next	1.12;

1.12
date	2006.08.01.12.13.28;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2005.11.28.16.09.52;	author kurt;	state Exp;
branches;
next	1.10;

1.10
date	2005.11.03.18.28.55;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2004.11.21.17.51.46;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2002.12.29.19.29.57;	author fgsch;	state Exp;
branches;
next	1.7;

1.7
date	2002.09.16.03.57.37;	author wcobb;	state Exp;
branches;
next	1.6;

1.6
date	2002.09.14.03.19.01;	author wcobb;	state Exp;
branches;
next	1.5;

1.5
date	2002.05.30.09.08.28;	author wcobb;	state Exp;
branches;
next	1.4;

1.4
date	2002.05.13.18.50.37;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.05.08.19.24.56;	author wcobb;	state Exp;
branches;
next	1.2;

1.2
date	2002.04.15.20.04.44;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2002.02.05.18.04.10;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.02.05.18.04.10;	author espie;	state Exp;
branches;
next	;


desc
@@


1.28
log
@Bump after devel/gconf2,-main is gone.
@
text
@# $OpenBSD: Makefile,v 1.27 2013/03/10 22:55:05 espie Exp $

COMMENT=		music tracking tool for X11

V=			0.6.8
DISTNAME=		soundtracker_$V.gtk2_17092006_1613
PKGNAME=		soundtracker-$V
REVISION=		5
CATEGORIES=		audio
HOMEPAGE=		http://www.shaltev.org/programming.html

MAINTAINER=		Wilbern Cobb <wcobb@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=		http://www.shaltev.org/data/
EXTRACT_SUFX=		.tar.bz2

WANTLIB += ICE ORBit-2 SM X11 Xcomposite Xcursor Xdamage Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender art_lgpl_2 atk-1.0
WANTLIB += bonobo-2 bonobo-activation bonoboui-2 c cairo expat
WANTLIB += fontconfig freetype gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gnome-2 gnomecanvas-2
WANTLIB += gnomeui-2 gnomevfs-2 gobject-2.0 gthread-2.0 gtk-x11-2.0
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 png
WANTLIB += popt pthread pthread-stubs sndfile sndio xcb xcb-render
WANTLIB += xcb-shm z

LIB_DEPENDS=		audio/libsndfile \
			x11/gnome/libgnomeui

MODULES=		devel/gettext

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--disable-alsa \
			--disable-sgi \
			--disable-oss \
			--disable-esd \
			--disable-sun \
			--disable-sdl \
			--disable-jack \
			--disable-splash
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -DDRIVER_SNDIO" \
			LDFLAGS="-L${LOCALBASE}/lib" \
			LIBS="-lsndio"

WRKDIST= 		${WRKDIR}/soundtracker-$V.gtk2

DOCS=			FAQ NEWS README \
			doc/xi.txt doc/xm.txt doc/xp.txt

post-extract:
	@@ln -s ${FILESDIR}/sndio-input.c ${WRKSRC}/app/drivers
	@@ln -s ${FILESDIR}/sndio-output.c ${WRKSRC}/app/drivers

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/soundtracker
	cd ${WRKSRC} && \
	    ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/soundtracker

.include <bsd.port.mk>
@


1.27
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/01/26 15:53:20 bcallah Exp $
d8 1
a8 1
REVISION=		4
@


1.26
log
@Remove --disable-external-libs from audio/libsndfile. Needed for the import of audio/mscore.
Bump all dependent ports that need a bump.
Assign MAINTAINER of audio/libsamplerate and audio/libsndfile to Jan Stary.

ok landry@@ sthen@@ aja@@ jasper@@ jeremy@@ Jan Stary (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/10/12 12:54:31 jasper Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.25
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/11/15 00:22:48 espie Exp $
d8 1
a8 1
REVISION=		3
d23 1
a23 1
WANTLIB += GL ICE ORBit-2 SM X11 Xcomposite Xcursor Xdamage Xext
@


1.24
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/10/24 21:00:29 ajacoutot Exp $
d8 1
a8 1
REVISION=		2
d23 9
a31 10
WANTLIB += ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender art_lgpl_2 atk-1.0
WANTLIB += bonobo-2 bonobo-activation bonoboui-2 c cairo dbus-1
WANTLIB += expat fontconfig freetype gailutil gconf-2 gdk-x11-2.0
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gnome-2
WANTLIB += gnome-keyring gnomecanvas-2 gnomevfs-2 gobject-2.0
WANTLIB += gthread-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pixman-1 png popt pthread pthread-stubs
WANTLIB += sndio xcb xml2 z xcb-render xcb-render-util
WANTLIB += sndfile gnomeui-2
@


1.23
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/10/11 08:11:17 jasper Exp $
d34 2
a35 2
LIB_DEPENDS=		::audio/libsndfile \
			::x11/gnome/libgnomeui
@


1.22
log
@- fix WANTLIB after cairo update.

these and upcoming fixes test built by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/09/05 22:00:13 sthen Exp $
a38 1
USE_X11=		Yes
@


1.21
log
@new-style LIB_DEPENDS/REVISION, sync WANTLIB, bump where necessary.
checked with check-lib-depends and PLIST_DB "make package".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/04/08 08:47:09 jasper Exp $
d8 1
a8 1
REVISION=		1
d27 1
a27 1
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glib-2.0 glitz gmodule-2.0 gnome-2
@


1.20
log
@- update soundtracker to the gtk2 version
* sndio bits by jakemsr, thanks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/12/19 22:59:27 jakemsr Exp $
d7 2
a8 1
PKGNAME=		soundtracker-$Vp0
d31 2
a32 1
WANTLIB += sndio xcb xml2 z
d34 2
a35 2
LIB_DEPENDS=		sndfile::audio/libsndfile \
			gnomeui-2::x11/gnome/libgnomeui
@


1.19
log
@- update to soundtracker-0.6.8
- use sndio for audio, kill esd flavor
- various cleanup

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/08/10 06:29:52 kili Exp $
d5 3
a7 1
DISTNAME=		soundtracker-0.6.8
d9 1
a9 1
HOMEPAGE=		http://www.soundtracker.org/
a17 2
WANTLIB=		X11 Xext Xi c glib gmodule gthread jpeg m png \
			pthread pthread-stubs sndio tiff xcb z
d19 2
a20 1
MASTER_SITES=		http://www.soundtracker.org/dl/v0.6/
d22 12
a33 3
LIB_DEPENDS=		gtk.>=1.2,gdk.>=1.2::x11/gtk+ \
			gdk_pixbuf.>=2::graphics/gdk-pixbuf \
			sndfile::audio/libsndfile
a45 1
			--disable-gnome \
d50 2
@


1.18
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.17 2009/06/19 17:50:47 naddy Exp $
# Uses pthreads
d3 1
a3 1
COMMENT=		Music tracking tool for X11
d5 1
a5 3
VERSION=		0.6.6
DISTNAME=		soundtracker-${VERSION}
PKGNAME=		${DISTNAME}p4
d11 1
a11 1
# GPL
d16 2
a17 1
WANTLIB=		X11 Xext Xi c glib gmodule m pthread pthread-stubs xcb
d19 1
a19 3
V=v0.6
MASTER_SITES=		http://www.soundtracker.org/dl/$V/ \
			http://mirror.csoft.org/soundtracker/
d22 2
a23 1
			audiofile::devel/libaudiofile
a26 3
FLAVORS=		esd
FLAVOR?=

d28 2
a29 4
AUTOCONF_VERSION=	2.52
CONFIGURE_STYLE=	autoconf
CONFIGURE_ARGS=		--with-audiofile-prefix=${LOCALBASE} \
			--disable-alsa \
d32 4
d38 3
a40 13
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

.if ${FLAVOR:L:Mesd}
LIB_DEPENDS+=		esd.>=2::audio/esound
WANTLIB += sndio
.else
CONFIGURE_ARGS+=	--disable-esd
.endif

.if ${MACHINE_ARCH} != "i386"
CONFIGURE_ARGS+=	--disable-assembler
.endif
d43 1
a43 4
			doc/xi.txt doc/xm.txt

post-configure:
	cd ${WRKSRC}/po && cp -f Makefile.in Makefile
d46 2
a47 2
	@@ln -s ${FILESDIR}/sun-input.c ${WRKSRC}/app/drivers
	@@ln -s ${FILESDIR}/sun-output.c ${WRKSRC}/app/drivers
@


1.17
log
@Pick up libintl instead of building a private copy.
This also fixes a file conflict with the gettext package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/03/06 21:24:52 jasper Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p3
d19 1
a19 1
WANTLIB=		X11 Xext Xi c glib gmodule m pthread
@


1.16
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/08/21 14:11:14 jasper Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p2
@


1.15
log
@- remove gnome flavor
- regen patches

ok wcobb@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/10/02 19:09:44 jasper Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p1
d47 1
@


1.14
log
@we prefer the idiom of MODULES=devel/gettext over MODULES=gettext

"looks good" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/09/15 21:26:03 simon Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p0
d30 1
a30 1
FLAVORS=		gnome esd
d39 3
a41 1
			--disable-oss
a43 9

.if ${FLAVOR:L:Mgnome}
LIB_DEPENDS+=	gnome.>=36,gnomesupport,gnomeui.>=46,art_lgpl.>=4::x11/gnome/libs \
		gdk_pixbuf::graphics/gdk-pixbuf
CONFIGURE_ARGS+=--with-gdk-pixbuf-prefix=${LOCALBASE}
WANTLIB+=	ICE SM gdk_imlib jpeg png tiff ungif z
.else
CONFIGURE_ARGS+=--disable-gnome --disable-splash
.endif
@


1.13
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/08/01 12:13:28 espie Exp $
d28 1
a28 1
MODULES=		gettext
@


1.12
log
@new-style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/11/28 16:09:52 kurt Exp $
d4 1
a4 1
COMMENT=		"Music tracking tool for X11"
@


1.11
log
@allow port to use RTLD_NOW now that it is supported. okay wcobb@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/11/03 18:28:55 naddy Exp $
d25 1
a25 1
LIB_DEPENDS=		gtk.1.2,gdk.1.2::x11/gtk+ \
d44 1
a44 1
LIB_DEPENDS+=	gnome.36,gnomesupport.0,gnomeui.46,art_lgpl.4::x11/gnome/libs \
d53 1
a53 1
LIB_DEPENDS+=		esd.2::audio/esound
@


1.10
log
@Always explicitly set the AUTOCONF_VERSION to use.  In some cases
the default was not appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/11/21 17:51:46 espie Exp $
d8 1
@


1.9
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/12/29 19:29:57 fgsch Exp $
d33 1
@


1.8
log
@byebye NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/09/16 03:57:37 wcobb Exp $
d18 1
d45 1
@


1.7
log
@autoconf in CONFIGURE_STYLE implies gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/09/14 03:19:01 wcobb Exp $
a8 1
NEED_VERSION=		1.504
@


1.6
log
@Don't pick up a dependency on gdk_pixbuf, if that happens to be installed.
prompted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/05/30 09:08:28 wcobb Exp $
d33 1
a33 1
CONFIGURE_STYLE=	gnu autoconf
@


1.5
log
@soundtracker 0.6.6 update.
- drop sun flavor.
- don't USE_GMAKE.
- use gettext module.

suggestions from naddy@@.
ok naddy@@, espie@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/05/13 18:50:37 espie Exp $
d34 1
a34 1
CONFIGURE_ARGS+=	--with-audiofile-prefix=${LOCALBASE} \
d42 3
a44 1
LIB_DEPENDS+=	gnome.36,gnomesupport.0,gnomeui.46,art_lgpl.4::x11/gnome/libs
d46 1
a46 1
CONFIGURE_ARGS+=	--disable-gnome
@


1.4
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/05/08 19:24:56 wcobb Exp $
d6 1
a6 1
VERSION=		0.6.4
d22 1
a22 1
			http://mirror.csoft.org/soundtracker/$V/
a24 2
			intl.1::devel/gettext \
			iconv.2::converters/libiconv \
d27 4
a30 2
FLAVORS=		gnome sun esd
FLAVOR?=		sun
a31 1
USE_GMAKE=		Yes
d38 2
a46 4
.if empty(FLAVOR:L:Msun)
CONFIGURE_ARGS+=	--disable-sun
.endif

d57 5
a61 2
DOCS=			FAQ NEWS README TODO \
			doc/hacking.txt doc/xi.txt doc/xm.txt
@


1.3
log
@synch MAINTAINER.
ok espie@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/04/15 20:04:44 pvalchev Exp $
d20 3
a22 3
MASTER_SITE_SUBDIR=	v0.6
MASTER_SITES=		http://www.soundtracker.org/dl/%SUBDIR%/ \
			http://mirror.csoft.org/soundtracker/%SUBDIR%/
@


1.2
log
@repair broken dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/02/05 18:04:10 espie Exp $
d12 1
a12 1
MAINTAINER=		Wilbern Cobb <vedge@@csoft.org>
d22 1
a22 1
			ftp://vedge.com.ar/pub/mirror/soundtracker/%SUBDIR%/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d24 1
a24 1
LIB_DEPENDS=		gtk.1.2::x11/gtk+ \
d50 3
a52 1
.if empty(FLAVOR:L:Mesd)
@


1.1.1.1
log
@soundtracker, from maintainer.
A music editing program, in the grand tradition of amiga tracker programs.

@
text
@@
