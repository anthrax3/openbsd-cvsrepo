head	1.25;
access;
symbols
	OPENBSD_6_1:1.25.0.4
	OPENBSD_6_1_BASE:1.25
	OPENBSD_6_0:1.25.0.2
	OPENBSD_6_0_BASE:1.25
	OPENBSD_5_9:1.24.0.2
	OPENBSD_5_9_BASE:1.24
	OPENBSD_5_8:1.24.0.4
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.23.0.2
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.22.0.6
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.22.0.4
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.22.0.2
	OPENBSD_5_4_BASE:1.22
	OPENBSD_5_3:1.20.0.2
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.18.0.2
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.6
	OPENBSD_5_0:1.16.0.4
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.13.0.12
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.13.0.10
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.13.0.8
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.13.0.6
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.13.0.4
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.2
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.12.0.4
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.12.0.2
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.11.0.4
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.11.0.2
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.8.0.4
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.7.0.2
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.6.0.2
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.4.0.2
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.3.0.4
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.1.1.1.0.2
	OPENBSD_3_0_BASE:1.1.1.1
	espie:1.1.1.1
	liba52:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2016.03.11.19.59.11;	author naddy;	state Exp;
branches;
next	1.24;
commitid	pguKLBEFv33DrgKU;

1.24
date	2015.03.16.18.07.35;	author naddy;	state Exp;
branches;
next	1.23;
commitid	IJdm3Zowcdkcxp5X;

1.23
date	2014.10.26.15.27.03;	author ratchov;	state Exp;
branches;
next	1.22;
commitid	yBOkBLlxDxmBgyh9;

1.22
date	2013.03.21.08.45.12;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.10.22.55.03;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2012.10.15.09.59.50;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2012.09.04.06.17.51;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.05.25.07.15.41;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2012.03.29.13.38.13;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2010.11.15.00.22.47;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.10.18.16.52.45;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.09.06.00.04.28;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2007.09.15.21.26.01;	author simon;	state Exp;
branches;
next	1.12;

1.12
date	2006.10.28.10.30.41;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2006.02.07.07.43.11;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2006.01.10.11.11.54;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2005.12.23.15.03.07;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2004.11.21.17.51.45;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2004.07.31.18.54.24;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2004.02.23.00.33.34;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2003.11.18.21.22.09;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2003.08.16.16.52.09;	author jolan;	state Exp;
branches;
next	1.3;

1.3
date	2002.08.22.12.19.17;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.29.14.43.46;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.10.14.15.17.16;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.10.14.15.17.16;	author espie;	state Exp;
branches;
next	;


desc
@@


1.25
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.24 2015/03/16 18:07:35 naddy Exp $

COMMENT =	free library for decoding ATSC A/52 streams, aka AC-3

V =		0.7.5
# 0.7.5-cvs
DISTNAME =	a52dec-snapshot
PKGNAME =	liba52-${V}
REVISION =	2
CATEGORIES =	audio
MASTER_SITES =	http://comstyle.com/source/

SHARED_LIBS =	a52	1.0

HOMEPAGE =	http://liba52.sourceforge.net/

MAINTAINER =	Marc Espie <espie@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =	c m sndio

WRKDIST =	${WRKDIR}/a52dec-${V}-cvs

SEPARATE_BUILD = Yes
CONFIGURE_STYLE = autoconf
AUTOCONF_VERSION = 2.59
CONFIGURE_ARGS += --disable-oss
MODGNU_CONFIG_GUESS_DIRS =	${WRKSRC}/autotools

post-extract:
	@@cp ${FILESDIR}/audio_out_sndio.c ${WRKSRC}/libao

.include <bsd.port.mk>
@


1.24
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/10/26 15:27:03 ratchov Exp $
a28 1
CONFIGURE_ARGS += ${CONFIGURE_SHARED}
@


1.23
log
@make a52dec use sndio

ok sthen, "looks fine" espie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/03/21 08:45:12 ajacoutot Exp $
d9 1
a9 1
REVISION =	1
@


1.22
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/10 22:55:03 espie Exp $
d9 1
a9 1
REVISION =	0
d22 1
a22 1
WANTLIB =	c m ossaudio
d30 1
d32 3
@


1.21
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/10/15 09:59:50 espie Exp $
a25 1
USE_LIBTOOL =	Yes
@


1.20
log
@no space at end of variable...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/09/04 06:17:51 ajacoutot Exp $
a19 2
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =	Yes
a20 1
PERMIT_PACKAGE_FTP =	Yes
@


1.19
log
@- Fix random crashes caused by invalid 32-bit shifts on 32-bit values (from upstream).
- Add to the pkg-config file the missing libm library for static linking

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/05/25 07:15:41 ajacoutot Exp $
d6 2
a7 1
DISTNAME =	a52dec-snapshot # 0.7.5-cvs
@


1.18
log
@Update liba52 to 0.7.5-cvs snapshot. This was intended to be the 0.7.5
release but uptream project is essentially dead and the fixes and
improvements since 0.7.4 are worth getting in.

from Brad, maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/03/29 13:38:13 sthen Exp $
d8 1
@


1.17
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.16 2010/11/15 00:22:47 espie Exp $
d3 5
d9 3
a12 5
COMMENT =	AC-3 decoding library
DISTNAME =	a52dec-0.7.4
PKGNAME =	liba52-0.7.4
REVISION =	2
MASTER_SITES =	http://liba52.sourceforge.net/files/
a13 1
SHARED_LIBS +=	a52                  0.0      # .0.0
d17 15
a31 2
CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS +=	${CONFIGURE_SHARED}
a32 11
SEPARATE_BUILD =	Yes
USE_LIBTOOL =		Yes
USE_GROFF =	Yes

# GPL
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP = Yes
PERMIT_PACKAGE_CDROM = Yes
PERMIT_PACKAGE_FTP = Yes

WANTLIB =		c m ossaudio
@


1.16
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.15 2010/10/18 16:52:45 espie Exp $
d18 1
a18 1
SEPARATE_BUILD =	simple
@


1.15
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.14 2010/09/06 00:04:28 sthen Exp $
d3 1
a3 1
CATEGORIES=	audio
d5 6
a10 6
COMMENT=	AC-3 decoding library
DISTNAME=	a52dec-0.7.4
PKGNAME=	liba52-0.7.4
REVISION=	2
MASTER_SITES=	http://liba52.sourceforge.net/files/
HOMEPAGE=	http://liba52.sourceforge.net/
d13 1
a13 1
MAINTAINER=	Marc Espie <espie@@openbsd.org>
d15 5
a19 5
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
MODGNU_CONFIG_GUESS_DIRS=${WRKSRC}/autotools
SEPARATE_BUILD=		simple
USE_LIBTOOL=		Yes
d23 4
a26 4
PERMIT_DISTFILES_CDROM=Yes
PERMIT_DISTFILES_FTP=Yes
PERMIT_PACKAGE_CDROM=Yes
PERMIT_PACKAGE_FTP=Yes
d28 1
a28 1
WANTLIB=		c m ossaudio
@


1.14
log
@new-style REVISIONS/LIB_DEPENDS
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.13 2007/09/15 21:26:01 simon Exp $
d20 1
@


1.13
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.12 2006/10/28 10:30:41 espie Exp $
d7 2
a8 1
PKGNAME=	liba52-0.7.4p2
d26 1
@


1.12
log
@re-format SHARED_LIBS
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.11 2006/02/07 07:43:11 steven Exp $
d5 1
a5 1
COMMENT=	'AC-3 decoding library'
@


1.11
log
@don't build with -O3.  ok naddy@@
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.10 2006/01/10 11:11:54 espie Exp $
d10 1
a10 1
SHARED_LIBS=	a52	0.0
@


1.10
log
@belated switch to USE_LIBTOOL
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.9 2005/12/23 15:03:07 espie Exp $
d7 1
a7 1
PKGNAME=	liba52-0.7.4p1
@


1.9
log
@switch a few ports to SHARED_LIBS and USE_LIBTOOL
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.8 2004/11/21 17:51:45 espie Exp $
d7 1
a7 1
PKGNAME=	liba52-0.7.4p0
a10 1
MAKE_FLAGS=	liba52_la_LDFLAGS='-no-undefined -version-info ${LIBa52_VERSION:S/./:/}:0'
d18 1
@


1.8
log
@WANTLIB markers
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.7 2004/07/31 18:54:24 naddy Exp $
d10 2
@


1.7
log
@fix MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.6 2004/02/23 00:33:34 naddy Exp $
d16 1
d23 1
@


1.6
log
@drop workarounds for gcc2.95/sparc64 bugs
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.5 2003/11/18 21:22:09 sturm Exp $
d15 1
@


1.5
log
@on sparc64, compile a few files with -O1 instead of the hardcoded(sic!) -O3
to make this port build again
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.4 2003/08/16 16:52:09 jolan Exp $
a20 4

.if ${MACHINE_ARCH} == "sparc64"
PATCH_LIST=	patch-* gcc-*
.endif
@


1.4
log
@build a shared version too.  gets x11/vlc closer to working on macppc.
bump PKGNAME.

XXX doesn't respect CFLAGS, installing liba52.txt might be useful.

"No accelerated IMDCT transform found", an annoying message I have been
wondering about for awhile, stems from not using an fft library.  Seems
they only support djb's one, which in typical style, is unlicensed.
(http://cr.yp.to/djbfft.html).  Mentioned here as TODO for advocating or
adding support of another fft library.
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.3 2002/08/22 12:19:17 espie Exp $
d21 4
@


1.3
log
@Bump to new version, with small fixes.
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.2 2002/03/29 14:43:46 espie Exp $
d7 1
a7 1
PKGNAME=	liba52-0.7.4
d14 1
@


1.2
log
@Updated version to 0.7.3.
- no longer installs a conflicting libao.
- about twice as fast.
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.1.1.1 2001/10/14 15:17:16 espie Exp $
a3 1
NEED_VERSION=	1.474
d6 2
a7 2
DISTNAME=	a52dec-0.7.3
PKGNAME=	liba52-0.7.3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#$OpenBSD$
d7 2
a8 2
DISTNAME=	a52dec-0.7.1b
PKGNAME=	liba52-0.7.1b
@


1.1.1.1
log
@AC-3 decoding library
@
text
@@
