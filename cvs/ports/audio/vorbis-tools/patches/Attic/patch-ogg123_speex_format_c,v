head	1.2;
access;
symbols
	OPENBSD_4_7:1.1.0.10
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.8
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.6
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.4
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2010.06.03.15.50.28;	author naddy;	state dead;
branches;
next	1.1;

1.1
date	2008.05.11.22.17.28;	author jasper;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2008.06.29.13.20.20;	author robert;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to 1.4.0; mostly from and ok pea@@
@
text
@$OpenBSD: patch-ogg123_speex_format_c,v 1.1 2008/05/11 22:17:28 jasper Exp $
--- ogg123/speex_format.c.orig	Sun May 11 13:26:45 2008
+++ ogg123/speex_format.c	Sun May 11 13:28:22 2008
@@@@ -475,7 +475,7 @@@@ void *process_header(ogg_packet *op, int *frame_size,
            cb->printf_error(callback_arg, ERROR, _("Cannot read header"));
      return NULL;
    }
-   if ((*header)->mode >= SPEEX_NB_MODES) {
+   if ((*header)->mode >= SPEEX_NB_MODES || (*header)->mode < 0) {
      cb->printf_error(callback_arg, ERROR, 
 		      _("Mode number %d does not (any longer) exist in this version"),
 	      (*header)->mode);
@


1.1
log
@SECURITY FIX for SA29727 "Speex Header Processing Vulnerability"

patch from upstream

ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@SECURITY FIX for SA29727 "Speex Header Processing Vulnerability"

from William Yodlowsky
@
text
@d1 4
a4 4
$OpenBSD: patch-ogg123_speex_format_c,v 1.1 2008/05/11 22:17:28 jasper Exp $
--- ogg123/speex_format.c.orig	Mon Jun 20 06:01:34 2005
+++ ogg123/speex_format.c	Sat May 17 20:04:28 2008
@@@@ -471,7 +471,7 @@@@ void *process_header(ogg_packet *op, int *frame_size,
@

