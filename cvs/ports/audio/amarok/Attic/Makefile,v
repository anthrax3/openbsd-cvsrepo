head	1.66;
access;
symbols
	OPENBSD_5_9:1.65.0.2
	OPENBSD_5_9_BASE:1.65
	OPENBSD_5_8:1.65.0.4
	OPENBSD_5_8_BASE:1.65
	OPENBSD_5_7:1.62.0.2
	OPENBSD_5_7_BASE:1.62
	OPENBSD_5_6:1.61.0.4
	OPENBSD_5_6_BASE:1.61
	OPENBSD_5_5:1.61.0.2
	OPENBSD_5_5_BASE:1.61
	OPENBSD_5_4:1.58.0.2
	OPENBSD_5_4_BASE:1.58
	OPENBSD_5_3:1.54.0.2
	OPENBSD_5_3_BASE:1.54
	OPENBSD_5_2:1.52.0.2
	OPENBSD_5_2_BASE:1.52
	OPENBSD_5_1_BASE:1.50
	OPENBSD_5_1:1.50.0.2
	OPENBSD_5_0:1.48.0.4
	OPENBSD_5_0_BASE:1.48
	OPENBSD_4_9:1.48.0.2
	OPENBSD_4_9_BASE:1.48
	OPENBSD_4_8:1.34.0.4
	OPENBSD_4_8_BASE:1.34
	OPENBSD_4_7:1.34.0.2
	OPENBSD_4_7_BASE:1.34
	OPENBSD_4_6:1.32.0.2
	OPENBSD_4_6_BASE:1.32
	OPENBSD_4_5:1.30.0.2
	OPENBSD_4_5_BASE:1.30
	OPENBSD_4_4:1.28.0.2
	OPENBSD_4_4_BASE:1.28
	OPENBSD_4_3:1.25.0.2
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.21.0.2
	OPENBSD_4_2_BASE:1.21
	OPENBSD_4_1:1.15.0.2
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.8.0.2
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.6.0.2
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.66
date	2016.04.29.21.20.36;	author zhuk;	state dead;
branches;
next	1.65;
commitid	jLKJQnZluyuYhQUu;

1.65
date	2015.07.18.14.33.49;	author jasper;	state Exp;
branches;
next	1.64;
commitid	GeHaQG13EBk8leMA;

1.64
date	2015.04.04.09.20.59;	author ajacoutot;	state Exp;
branches;
next	1.63;
commitid	kS3kwKZogsvzYmEY;

1.63
date	2015.03.27.08.43.01;	author ajacoutot;	state Exp;
branches;
next	1.62;
commitid	9SD62DzRZ5qtR5xU;

1.62
date	2014.11.05.11.43.59;	author sthen;	state Exp;
branches;
next	1.61;
commitid	RB64hioD1zIM5GcO;

1.61
date	2013.12.22.19.24.33;	author zhuk;	state Exp;
branches;
next	1.60;

1.60
date	2013.10.22.11.34.12;	author zhuk;	state Exp;
branches;
next	1.59;

1.59
date	2013.10.05.07.34.30;	author espie;	state Exp;
branches;
next	1.58;

1.58
date	2013.06.24.15.53.38;	author zhuk;	state Exp;
branches;
next	1.57;

1.57
date	2013.04.29.06.51.24;	author brad;	state Exp;
branches;
next	1.56;

1.56
date	2013.03.20.19.13.50;	author jeremy;	state Exp;
branches;
next	1.55;

1.55
date	2013.03.10.22.55.01;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2013.01.14.16.28.50;	author zhuk;	state Exp;
branches;
next	1.53;

1.53
date	2012.12.21.12.13.35;	author sthen;	state Exp;
branches;
next	1.52;

1.52
date	2012.04.23.17.15.17;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2012.03.08.12.13.00;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2011.10.12.12.54.30;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2011.09.16.08.26.10;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2010.12.21.18.16.30;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2010.11.26.07.07.56;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2010.11.24.21.35.13;	author jeremy;	state Exp;
branches;
next	1.45;

1.45
date	2010.11.18.12.03.28;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2010.11.15.12.44.20;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2010.11.15.00.22.46;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2010.10.26.21.42.13;	author jeremy;	state Exp;
branches;
next	1.41;

1.41
date	2010.10.24.21.00.29;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.09.30.07.40.53;	author landry;	state Exp;
branches;
next	1.39;

1.39
date	2010.09.26.08.06.16;	author steven;	state Exp;
branches;
next	1.38;

1.38
date	2010.09.23.22.10.28;	author jeremy;	state Exp;
branches;
next	1.37;

1.37
date	2010.09.05.22.00.13;	author sthen;	state Exp;
branches;
next	1.36;

1.36
date	2010.09.05.10.25.16;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2010.08.26.11.17.31;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2009.12.22.15.43.14;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2009.08.10.06.29.52;	author kili;	state Exp;
branches;
next	1.32;

1.32
date	2009.04.04.00.24.02;	author sthen;	state Exp;
branches;
next	1.31;

1.31
date	2009.03.23.00.29.54;	author jakemsr;	state Exp;
branches;
next	1.30;

1.30
date	2009.01.23.17.42.14;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2008.08.26.17.24.38;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2008.05.27.14.39.00;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2008.04.28.00.39.10;	author sthen;	state Exp;
branches;
next	1.26;

1.26
date	2008.03.25.08.23.54;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2008.02.12.10.47.01;	author jakemsr;	state Exp;
branches;
next	1.24;

1.24
date	2007.12.16.00.04.27;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2007.12.11.07.55.05;	author jakemsr;	state Exp;
branches;
next	1.22;

1.22
date	2007.08.25.08.53.28;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2007.06.29.10.22.14;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2007.05.27.21.30.05;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2007.05.27.20.37.58;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2007.05.09.11.39.55;	author bernd;	state Exp;
branches;
next	1.17;

1.17
date	2007.04.12.20.24.29;	author sturm;	state Exp;
branches;
next	1.16;

1.16
date	2007.03.18.11.11.26;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2007.02.14.08.18.25;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2006.12.18.16.05.23;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2006.12.18.09.51.29;	author robert;	state Exp;
branches;
next	1.12;

1.12
date	2006.12.16.12.22.32;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2006.11.13.10.08.12;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2006.10.28.10.30.41;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2006.09.18.09.03.30;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2006.08.01.11.17.55;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.06.11.11.33.52;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2006.01.22.16.07.44;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2005.11.11.14.21.22;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2005.09.18.12.21.41;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2005.09.07.01.27.55;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2005.05.01.20.52.32;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2005.04.15.06.42.39;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.04.15.06.42.39;	author espie;	state Exp;
branches;
next	;


desc
@@


1.66
log
@Remove another bunch of KDE3 ports: outdated, superseded and useless ones.
@
text
@# $OpenBSD: Makefile,v 1.65 2015/07/18 14:33:49 jasper Exp $

CATEGORIES =	audio x11 x11/kde
COMMENT =	music player for KDE

HOMEPAGE =	http://amarok.kde.org/
V =		1.4.10
MASTER_SITES =	${MASTER_SITE_KDE:=stable/amarok/$V/src/}
DISTNAME =	amarok-$V
REVISION =	25
EXTRACT_SUFX =	.tar.bz2

# GPLv2/LGPLv2/GFDL
PERMIT_PACKAGE_CDROM =		Yes

WANTLIB =  GL ICE SM X11 Xcursor Xdamage Xext Xfixes Xft
WANTLIB += Xi Xinerama Xmu Xrandr Xrender Xt Xxf86vm art_lgpl_2
WANTLIB += avahi-client avahi-common avutil c dbus-1 dns_sd drm
WANTLIB += expat fam ffi fontconfig freetype gcrypt gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gpg-error
WANTLIB += gpod idn lcms m mng mtp njb pcre pcreposix plist
WANTLIB += png pthread pthread-stubs sqlite3 stdc++ tag usb
WANTLIB += usb-1.0 util xcb xine xml2 z ${MODRUBY_WANTLIB}
WANTLIB += X11-xcb Xau Xdmcp glapi jpeg lzma xcb-dri2 xcb-glx
WANTLIB += xdg-basedir
WANTLIB += ${KDE}/DCOP ${KDE}/kdecore ${KDE}/kdefx ${KDE}/kdeprint
WANTLIB += ${KDE}/kdesu ${KDE}/kdeui ${KDE}/kdnssd
WANTLIB += ${KDE}/khtml ${KDE}/kio ${KDE}/kjs ${KDE}/knewstuff
WANTLIB += ${KDE}/konqsidebarplugin ${KDE}/kparts ${KDE}/kutils
WANTLIB += ${KDE}/kwalletclient

RUN_DEPENDS =	devel/desktop-file-utils \
		x11/gtk+3,-guic

LIB_DEPENDS =	x11/kde/libs3 \
		x11/kde/base3 \
		x11/gtk+2 \
		audio/taglib>=1.4 \
		multimedia/xine-lib \
		audio/libgpod \
		audio/libnjb \
		devel/libmtp \
		${MODRUBY_LIB_DEPENDS}

SHARED_LIBS +=	amarok               0.0      # .0.0
SHARED_LIBS +=	http11               0.0      # .0.0

MODULES =		x11/kde lang/ruby devel/gettext
MODKDE_VERSION =	3.5.7
MODRUBY_BUILDDEP =	No
MODRUBY_REV =		1.8
CONFIGURE_STYLE =	autoconf
AUTOCONF_VERSION =	2.61
CONFIGURE_ARGS +=	${MODKDE_CONFIGURE_ARGS}
USE_GMAKE =		Yes
CONFIGURE_ENV +=	${MODKDE_CONFIGURE_ENV}
MAKE_ENV =		${CONFIGURE_ENV}
MAKE_FLAGS +=		${MODKDE_MAKE_FLAGS}
PORTHOME =		${WRKDIR}

CONFIGURE_ARGS +=	--with-xine \
			--without-arts \
			--without-gstreamer \
			--without-included-sqlite \
			--without-musicbrainz \
			--without-opengl \
			--without-xmms

pre-configure:
	cd ${WRKSRC} && find . -name '*.rb' -exec \
		sed -i 's,#!/usr/bin/env ruby,#!${RUBY},' {} \;

.include <bsd.port.mk>
@


1.65
log
@use sed instead of perl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2015/04/04 09:20:59 ajacoutot Exp $
@


1.64
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2015/03/27 08:43:01 ajacoutot Exp $
d71 1
a71 1
		perl -pi -e 's,#!/usr/bin/env ruby,#!${RUBY},' {} \;
@


1.63
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2014/11/05 11:43:59 sthen Exp $
d10 1
a10 1
REVISION =	24
@


1.62
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/12/22 19:24:33 zhuk Exp $
d10 1
a10 1
REVISION =	23
d33 1
a33 1
		x11/gtk+2,-guic
@


1.61
log
@Next KDE deconflicting step: rename share/config/ to share/config.kde3/ and
share/config.kcfg/ to share/config.kcfg.kde3/. Tested on i386, including
run-time tests (not for all apps, though).

After this commit, there are only two conflicting files in kdelibs 3.x and
4.x packages left - to be solved soon.

spurring from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/10/22 11:34:12 zhuk Exp $
d10 1
a10 1
REVISION =	22
d24 2
@


1.60
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/10/05 07:34:30 espie Exp $
d10 1
a10 1
REVISION =	21
@


1.59
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/06/24 15:53:38 zhuk Exp $
d10 1
a10 1
REVISION =	20
@


1.58
log
@Massive cleanup for KDE3. Main point is in changing WANTLIB from "foo" to
"lib/kde3/foo" where appropirate, but also many missing desktop goo items
added, some PFRAG.shared removed and so on.

input and okay landry@@ and ajacoutot@@, also okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/04/29 06:51:24 brad Exp $
d10 1
a10 1
REVISION =	19
@


1.57
log
@sync WANTLIBs.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/03/20 19:13:50 jeremy Exp $
d10 1
a10 1
REVISION =	18
d16 1
a16 1
WANTLIB += DCOP GL ICE SM X11 Xcursor Xdamage Xext Xfixes Xft
d21 1
a21 3
WANTLIB += gpod idn kdecore kdefx kdeprint kdesu kdeui kdnssd
WANTLIB += khtml kio kjs knewstuff konqsidebarplugin kparts kutils
WANTLIB += kwalletclient lcms m mng mtp njb pcre pcreposix plist
d24 5
d30 4
a33 2
RUN_DEPENDS =	devel/desktop-file-utils
LIB_DEPENDS +=	x11/kde/libs3 \
@


1.56
log
@Make ruby 1.9 the default ruby for non-gem/extconf ports,
for consistency with the gem/extconf ports.

Update non-gem/extconf ports that relied on the previous
default of ruby 1.8 to explicitly specify it.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/03/10 22:55:01 espie Exp $
d10 1
a10 1
REVISION =	17
d16 10
a25 11
WANTLIB += ICE SM X11 Xext Xrender art_lgpl_2 c expat
WANTLIB += fontconfig freetype gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 idn jpeg m pcre
WANTLIB += pcreposix png pthread stdc++ usb util xml2 z
WANTLIB += xcb lib/qt3/qt-mt>=3.33 konqsidebarplugin
WANTLIB += kdecore>=6 DCOP khtml kwalletclient kdefx kdeprint
WANTLIB += kutils kdeui kparts kio kdesu kjs knewstuff kdnssd tag>=5.0
WANTLIB += xine sqlite3 gpod njb mtp ${MODRUBY_WANTLIB}
WANTLIB += GL Xcursor Xdamage Xfixes Xft Xi Xinerama Xmu Xrandr
WANTLIB += Xt Xxf86vm drm ffi lcms mng
WANTLIB += avutil fam gcrypt gpg-error plist usb-1.0
@


1.55
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/01/14 16:28:50 zhuk Exp $
d44 2
a45 1
MODRUBY_BUILDDEP=	No
@


1.54
log
@Fixup FLAVORS in those ports, too, following recent changes in x11/kde/*3.

okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/12/21 12:13:35 sthen Exp $
a13 3
PERMIT_DISTFILES_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_PACKAGE_FTP =		Yes
@


1.53
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/04/23 17:15:17 espie Exp $
a17 2

FLAVORS =	debug
@


1.52
log
@first pass at handling sqlite3 move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/03/08 12:13:00 ajacoutot Exp $
d10 1
a10 1
REVISION =	16
d31 1
@


1.51
log
@Garbage collect the /dev/arandom patches.

from Brad
ok landry@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/10/12 12:54:30 jasper Exp $
d10 1
a10 1
REVISION =	15
a37 1
		databases/sqlite3 \
@


1.50
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/09/16 08:26:10 espie Exp $
d10 1
a10 1
REVISION =	14
@


1.49
log
@normalize pkgpath in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/12/21 18:16:30 jasper Exp $
d10 1
a10 1
REVISION =	13
d21 1
a21 1
WANTLIB += ICE SM X11 Xau Xdmcp Xext Xrender art_lgpl_2 c expat
d25 1
a25 1
WANTLIB += pthread-stubs xcb lib/qt3/qt-mt>=3.33 konqsidebarplugin
d29 2
@


1.48
log
@- fix after recent libmtp update

ok LEVAI Daniel
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/11/26 07:07:56 espie Exp $
d10 1
a10 1
REVISION =	12
@


1.47
log
@redo depends with >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/11/24 21:35:13 jeremy Exp $
d10 1
a10 1
REVISION =	11
@


1.46
log
@REVISION bump all ruby ports due to a change in the pkgspec.
Previously, we were using ruby->=1.8,<=1.9, instead of
ruby->=1.8,<1.9.  While this wouldn't cause an issue, since
our ruby-1.9.2 package isn't included in ruby->=1.8,<=1.9,
it's still wrong and should be fixed.  This also fixes the
following minor issues:

Switch from using FLAVOR to MODRUBY_FLAVOR for *_DEPENDS.
Currently we don't have a ruby port that uses FLAVORs that
would differ from MODRUBY_FLAVOR, but it's possible we will
in the future.

Switch from BASE_PKGPATH to BUILD_PKGPATH in a few cases in
REGRESS_DEPENDS.  This probably is not strictly necessary, but
BUILD_PKGPATH is used in more cases, so it is good for
consistency.

Switch to new style *_DEPENDS, with the version specification
at the end.  The remaining cases where this is not done is
because a specific version is used.

Some FULLPKGNAME added to REGRESS_DEPENDS, to make sure that if
the old version is installed when you run a regress test, it
will install the new version first.

Some conversion of spaces to tabs for consistency.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/11/18 12:03:28 jasper Exp $
d34 1
a34 1
		taglib->=1.4:audio/taglib \
@


1.45
log
@- missing gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/11/15 12:44:20 espie Exp $
d10 1
a10 1
REVISION =	10
@


1.44
log
@a few depends I missed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/11/15 00:22:46 espie Exp $
d10 1
a10 1
REVISION =	9
d23 1
a23 1
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 iconv idn intl jpeg m pcre
d45 1
a45 1
MODULES =		x11/kde lang/ruby
@


1.43
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/10/26 21:42:13 jeremy Exp $
d30 1
a30 1
RUN_DEPENDS =	:desktop-file-utils-*:devel/desktop-file-utils
@


1.42
log
@Handle the rest of the fallout from the splitting of MODRUBY_LIB_DEPENDS
into MODRUBY_WANTLIB and using CONFIGURE_STYLE = ruby gem ext.  Use the
lang/ruby module for all dependent ports, setting
MODRUBY_{BUILD,RUN}DEP=No if necessary.

ok landry, phessler, sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/10/24 21:00:29 ajacoutot Exp $
d25 3
a27 3
WANTLIB += pthread-stubs xcb lib/qt3/qt-mt.>=3.33 konqsidebarplugin
WANTLIB += kdecore.>=6 DCOP khtml kwalletclient kdefx kdeprint
WANTLIB += kutils kdeui kparts kio kdesu kjs knewstuff kdnssd tag.>=5.0
d31 9
a39 10
LIB_DEPENDS +=	::x11/qt3 \
		::x11/kde/libs3 \
		::x11/kde/base3 \
		::x11/gtk+2 \
		:taglib->=1.4:audio/taglib \
		::multimedia/xine-lib \
		::databases/sqlite3 \
		::audio/libgpod \
		::audio/libnjb \
		::devel/libmtp \
@


1.41
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/09/30 07:40:53 landry Exp $
d28 1
a28 1
WANTLIB += xine sqlite3 gpod njb ruby18 mtp
d40 2
a41 2
		:ruby->=1.8,<=1.9:lang/ruby/1.8 \
		::devel/libmtp
d46 1
a46 1
MODULES =		x11/kde
d48 1
a64 2

RUBY =        ${LOCALBASE}/bin/ruby18
@


1.40
log
@Bump after gtk+2/gdk-pixbuf split, as gtk+2 gets out of the dependency
chain.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/09/26 08:06:16 steven Exp $
a51 1
USE_X11=		Yes
@


1.39
log
@substitute /usr/bin/env ruby by ${LOCALBASE}/bin/ruby18 in ruby scripts.

ok jeremy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/09/05 22:00:13 sthen Exp $
d10 1
a10 1
REVISION =	8
@


1.38
log
@Handle changes caused by splitting the ruby port and bump

OK jcs@@, landry@@, jasper@@, sthen@@
@
text
@d10 1
a10 1
REVISION =	7
d65 6
@


1.37
log
@new-style LIB_DEPENDS/REVISION, sync WANTLIB, bump where necessary.
checked with check-lib-depends and PLIST_DB "make package".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/09/05 10:25:16 sthen Exp $
d10 1
a10 1
REVISION =	6
d28 1
a28 1
WANTLIB += xine sqlite3 gpod njb ruby mtp
d40 1
a40 1
		::lang/ruby \
@


1.36
log
@new-style LIB_DEPENDS/REVISION and sync WANTLIB where necessary
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/08/26 11:17:31 jasper Exp $
d10 1
a10 1
REVISION =	5
d34 1
@


1.35
log
@- missing USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/12/22 15:43:14 ajacoutot Exp $
d10 1
a10 1
PKGNAME =	${DISTNAME}p4
d21 9
d31 10
a40 16
LIB_DEPENDS +=	lib/qt3/qt-mt.>=3.33::x11/qt3 \
		kdecore.>=6,DCOP,khtml,kwalletclient,kdefx,kdeprint,kutils,kdeui,kparts,kio,kdesu,kjs,knewstuff,kdnssd::x11/kde/libs3 \
		konqsidebarplugin::x11/kde/base3 \
		tag.>=5.0:taglib->=1.4:audio/taglib \
		xine::multimedia/xine-lib \
		sqlite3::databases/sqlite3 \
		gpod::audio/libgpod \
		njb::audio/libnjb \
		ruby::lang/ruby \
		mtp::devel/libmtp

WANTLIB += ICE SM X11 Xau Xdmcp Xext Xrender art_lgpl_2 c expat
WANTLIB += fam fontconfig freetype gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 iconv idn intl jpeg m pcre
WANTLIB += pcreposix png pthread rpcsvc stdc++ usb util xml2 z
WANTLIB += pthread-stubs xcb
@


1.34
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/08/10 06:29:52 kili Exp $
d48 1
@


1.33
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/04/04 00:24:02 sthen Exp $
d10 1
a10 1
PKGNAME =	${DISTNAME}p3
@


1.32
log
@sync WANTLIB and bump; xml2 from libgpod
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/03/23 00:29:54 jakemsr Exp $
d10 1
a10 1
PKGNAME =	${DISTNAME}p2
d37 1
@


1.31
log
@use /dev/arandom instead of /dev/urandom.  reading from /dev/urandom
is too slow.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/01/23 17:42:14 jasper Exp $
d10 1
a10 1
PKGNAME =	${DISTNAME}p1
d33 4
a36 6
WANTLIB =	stdc++ Xext Xrender z X11 Xau Xdmcp util m SM c \
		pthread ICE idn expat fontconfig freetype \
		iconv pcre pcreposix \
		jpeg png art_lgpl_2 intl usb \
		gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 \
		fam rpcsvc expat fontconfig
@


1.30
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2008/08/26 17:24:38 espie Exp $
d10 1
a10 1
PKGNAME =	${DISTNAME}p0
@


1.29
log
@minor update (1.4.10)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2008/05/27 14:39:00 ajacoutot Exp $
d10 1
a10 1
PKGNAME =	${DISTNAME}
d37 1
a37 1
		gdk_pixbuf-2.0 glib-2.0 gmodule-2.0 gobject-2.0 \
@


1.28
log
@- enable MTP support ; from brad@@
- move license marker toward beginning of Makefile while here and add
PORTHOME=${WRKDIR} to reduce spam output
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2008/04/28 00:39:10 sthen Exp $
d3 2
a4 2
CATEGORIES=	audio x11 x11/kde
COMMENT=	music player for KDE
d6 6
a11 6
HOMEPAGE=	http://amarok.kde.org/
V=		1.4.9.1
MASTER_SITES=	${MASTER_SITE_KDE:=stable/amarok/$V/src/}
DISTNAME=	amarok-$V
PKGNAME=	${DISTNAME}p0
EXTRACT_SUFX=	.tar.bz2
d14 4
a17 4
PERMIT_DISTFILES_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
d19 1
a19 1
FLAVORS=	debug
d21 2
a22 2
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS+=	lib/qt3/qt-mt.>=3.33::x11/qt3 \
d33 1
a33 1
WANTLIB=	stdc++ Xext Xrender z X11 Xau Xdmcp util m SM c \
d43 10
a52 10
MODULES=		x11/kde
MODKDE_VERSION=		3.5.7
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.61
CONFIGURE_ARGS+=	${MODKDE_CONFIGURE_ARGS}
USE_GMAKE=		Yes
CONFIGURE_ENV+=		${MODKDE_CONFIGURE_ENV}
MAKE_ENV=		${CONFIGURE_ENV}
MAKE_FLAGS+=		${MODKDE_MAKE_FLAGS}
PORTHOME=		${WRKDIR}
d54 1
a54 1
CONFIGURE_ARGS+=	--with-xine \
@


1.27
log
@Maintenance update, including update to fix album art retrieval due
to changed Amazon API. From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2008/03/25 08:23:54 jasper Exp $
d10 1
d13 6
d30 2
a31 1
		ruby::lang/ruby
d43 1
a43 1
MODULES=	x11/kde
d52 1
d54 7
a60 12
CONFIGURE_ARGS+=	--without-arts \
			--without-opengl --without-gstreamer \
			--with-xine --without-included-sqlite \
			--without-xmms \
			--without-libmtp \
			--without-musicbrainz

# GPLv2/LGPL v2/GFDL
PERMIT_DISTFILES_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
@


1.26
log
@- disable musicbrainz so it won't be picked up later.

'of course!' ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/02/12 10:47:01 jakemsr Exp $
d4 1
a4 1
COMMENT=	music player for kde
d7 1
a7 1
V=		1.4.8
d17 1
d22 2
a23 1
		njb::audio/libnjb
a30 2
		
LIB_DEPENDS+=	konqsidebarplugin::x11/kde/base3
a31 1
SHARED_ONLY=	Yes
d40 1
a40 1
USE_GMAKE?=		Yes
a44 3
LIB_DEPENDS+=		ruby::lang/ruby


d52 1
a56 1

@


1.25
log
@maintenence update to amarok-1.4.8

lots of bug fixes, especially in the last.fm cient

ok espie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/12/16 00:04:27 ajacoutot Exp $
d53 2
a54 1
			--without-libmtp
@


1.24
log
@- add update-desktop-database goo
(this should be the last one hopefully)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/12/11 07:55:05 jakemsr Exp $
d7 1
a7 1
V=		1.4.7
a9 1
PKGNAME=	${DISTNAME}p1
@


1.23
log
@
use -pthread instead of -lpthread for pthreads linkage

fix some WANTLIB/LIB_DEPENDS in akode and amarok while here

bulk build tested by steven@@, "go ahead" espie@@ a while ago
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/08/25 08:53:28 espie Exp $
d10 1
a10 1
PKGNAME=	${DISTNAME}p0
d15 1
@


1.22
log
@minor update 1.4.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2007/06/29 10:22:14 espie Exp $
d10 1
a10 1
PKGNAME=	${DISTNAME}
d24 1
a24 1
		pthread ICE idn freetype \
@


1.21
log
@update to 1.4.6, slightly faster wrt sqlite
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2007/05/27 21:30:05 espie Exp $
d4 1
a4 1
COMMENT=	'music player for kde'
d7 1
a7 1
V=		1.4.6
@


1.20
log
@WANTLIB fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/05/27 20:37:58 espie Exp $
d7 1
a7 1
V=		1.4.5
d10 1
a10 1
PKGNAME=	${DISTNAME}p2
d28 1
a28 1
		fam rpcsvc
d39 1
a39 1
AUTOCONF_VERSION=	2.60
a44 1
MAKE_FLAGS+=		LIBRESOLV=
@


1.19
log
@switch to 3.5.7 framework. No package change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/05/09 11:39:55 bernd Exp $
d10 1
a10 1
PKGNAME=	${DISTNAME}p1
d27 2
a28 1
		gdk_pixbuf-2.0 glib-2.0 gmodule-2.0 gobject-2.0
@


1.18
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/04/12 20:24:29 sturm Exp $
d36 1
a36 4
USE_X11=		Yes
USE_LIBTOOL=		Yes
LIBTOOL_FLAGS=		--tag=disable-static
MODKDE_VERSION=		3.5.3
d38 1
a38 1
AUTOCONF_VERSION=	2.59
@


1.17
log
@simple WANTLIB fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/03/18 11:11:26 espie Exp $
d10 1
a10 1
PKGNAME=	${DISTNAME}p0
d15 1
a15 1
LIB_DEPENDS+=	lib/qt3/qt-mt.>=3.33::x11/qt3,mt \
@


1.16
log
@update to 1.4.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/02/14 08:18:25 espie Exp $
d10 1
a10 1
PKGNAME=	${DISTNAME}
d23 1
a23 1
WANTLIB=	stdc++ Xext Xrender z X11 util m SM c \
@


1.15
log
@do not try to build with libtmp, it doesn't work yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/12/18 16:05:23 espie Exp $
d7 1
a7 1
V=		1.4.4
d20 2
a21 1
		gpod::audio/libgpod
d26 1
a26 1
		jpeg png art_lgpl_2 intl \
@


1.14
log
@update to 1.4.4, builds and runs...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/12/16 12:22:32 espie Exp $
d54 2
a55 1
			--without-xmms
@


1.13
log
@revert a part of the last commit that was commited accidentally
while removing the pkgconfig dependency; noticed by viq <vicviq@@gmail.com>
@
text
@d7 1
a7 1
V=		1.4.3
d19 2
a20 1
		sqlite3::databases/sqlite3
d25 2
a26 1
		jpeg png art_lgpl_2 intl
@


1.12
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/11/13 10:08:12 steven Exp $
d7 1
a7 1
V=		1.4.4
d19 1
a19 2
		sqlite3::databases/sqlite3 \
		gpod::audio/libgpod
d24 1
a24 2
		jpeg png art_lgpl_2 intl \
		gdk_pixbuf-2.0 glib-2.0 gmodule-2.0 gobject-2.0
@


1.11
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/10/28 10:30:41 espie Exp $
d7 1
a7 1
V=		1.4.3
d19 2
a20 1
		sqlite3::databases/sqlite3
d25 2
a26 2
		jpeg png art_lgpl_2 intl
		
d30 1
a30 1
SHARED_ONLY=Yes
a47 1
BUILD_DEPENDS=		::devel/pkgconfig
d56 4
a59 4
PERMIT_DISTFILES_FTP=Yes
PERMIT_DISTFILES_CDROM=Yes
PERMIT_PACKAGE_FTP=Yes
PERMIT_PACKAGE_CDROM=Yes
@


1.10
log
@re-format SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/09/18 09:03:30 espie Exp $
d34 1
@


1.9
log
@new amarok, try to keep dependencies in check, though it's getting harder.
Note that new amarok doesn't even try to support akode or gstreamer for
now, so xine-engine it is !
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/08/01 11:17:55 espie Exp $
d30 3
a32 2
SHARED_LIBS=	amarok	0.0 \
		http11	0.0
@


1.8
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/06/11 11:33:52 espie Exp $
d7 3
a9 3
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=amarok/}
DISTNAME=	amarok-1.4.0a
WRKDIST=	${WRKDIR}/amarok-1.4.0
d16 1
a16 1
		kdecore.>=6,DCOP,khtml,kwalletclient,kdefx,kdeprint,kutils,kdeui,kparts,kio,kdesu,kjs,knewstuff::x11/kde/libs3 \
d30 2
a31 1
SHARED_LIBS=	amarok	0.0
d46 1
d51 2
a52 1
			--with-xine --without-included-sqlite
@


1.7
log
@update to 1.4.0a, switch to xine-engine, which supports gapless playback.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/01/22 16:07:44 espie Exp $
d15 3
a17 3
LIB_DEPENDS+=	lib/qt3/qt-mt.3.33::x11/qt3,mt \
		kdecore.6,DCOP,khtml,kwalletclient,kdefx,kdeprint,kutils,kdeui,kparts,kio,kdesu,kjs,knewstuff::x11/kde/libs3 \
		tag.5.0:taglib->=1.4:audio/taglib \
@


1.6
log
@zap USE_KDELIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/11/11 14:21:22 espie Exp $
d8 3
a10 2
DISTNAME=	amarok-1.3.6
PKGNAME=	${DISTNAME}p0
d13 2
d16 1
a16 3
		kdecore.6,DCOP,khtml,kwalletclient,kdefx,kdeprint,kutils,kdeui,kparts,artskde,kio,kdesu,kjs,knewstuff::x11/kde/libs3 \
		artsmodules,artsgui_kde,artsmodulesmixers,artsmodulescommon,artsgui,artsgui_idl,artsmidi_idl,artsmodulessynth,artsmoduleseffects,artsbuilder,::x11/kde/multimedia3 \
		konqsidebarplugin::x11/kde/base3 \
d18 2
a19 2
		xmms::audio/xmms \
		gstreamer-0.8.0.0::devel/gstreamer
d21 5
a25 7
WANTLIB=	stdc++ Xext Xrender z ossaudio X11 util m Xi SM GL c \
		pthread ICE \
		iconv pcre vorbis esd xml2 glib-2.0.0.0 qtmcop mad audiofile \
		jpeg vorbisfile gmodule-2.0.0.0 gthread-2.0.0.0 \
		gobject-2.0.0.0 pcreposix popt vorbisenc kmedia2_idl \
		artsflow ogg mcop png soundserver_idl art_lgpl_2 intl \
		artsflow_idl 
d27 1
a27 3
# These come from xmms
WANTLIB+=	gtk gmodule gdk glib

d30 1
d34 1
a34 1
MODKDE_VERSION=		3.5
d44 2
a45 2
BUILD_DEPENDS=		::devel/pkgconfig \
			::devel/gstreamer-plugins
d47 3
@


1.5
log
@Bump to more recent version
noticed by Xavier Venient
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/09/18 12:21:41 espie Exp $
d9 1
d34 2
a35 1
MODKDE_LIBTOOL=		Yes
@


1.4
log
@the new amarok uses the script versions from future kde 3.5.
no package changes -> no bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/09/07 01:27:55 espie Exp $
d8 1
a8 1
DISTNAME=	amarok-1.3.1
@


1.3
log
@new taglib, required for new amarok.
update amarok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/05/01 20:52:32 espie Exp $
d34 1
a34 1
MODKDE_VERSION=		
a35 2
AUTOCONF=		/bin/sh ${WRKDIST}/admin/cvs.sh configure
LIB_DEPENDS+=		lib/qt3/qt-mt.3.33::x11/qt3,mt
@


1.2
log
@fix build issues
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/04/15 06:42:39 espie Exp $
d8 1
a8 1
DISTNAME=	amarok-1.2.3
d12 2
a13 2
		kdecore.6,DCOP,khtml,kwalletclient,kdefx,kdeprint,kutils,kdeui,kparts,artskde,kio,kdesu,kjs::x11/kde/libs3 \
		akode,artsmodules,artsgui_kde,artsmodulesmixers,artsmodulescommon,artsgui,artsgui_idl,artsmidi_idl,artsmodulessynth,artsmoduleseffects,artsbuilder,::x11/kde/multimedia3 \
d15 1
a15 1
		tag::audio/taglib \
d17 1
a17 2
		gstreamer-0.8.0.0::devel/gstreamer \
		ltdl::devel/libtool,-ltdl
d34 1
a34 1
MODKDE_VERSION=		3.4
d36 2
a38 1
AUTOCONF=		/bin/sh ${WRKDIST}/admin/cvs.sh configure
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d35 1
d46 2
a47 1
BUILD_DEPENDS=		::devel/pkgconfig
@


1.1.1.1
log
@amarok is an `advanced' music player.
Audio works with akode, at least. This needs the new taglib, hence
the basic citrus stuff.
@
text
@@
