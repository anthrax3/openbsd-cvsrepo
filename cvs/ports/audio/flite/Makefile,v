head	1.22;
access;
symbols
	OPENBSD_6_1:1.22.0.2
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.21.0.2
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.20.0.4
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.19.0.2
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.18.0.4
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.18.0.2
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.16.0.2
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.15.0.12
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.10
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.8
	OPENBSD_5_0:1.15.0.6
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.4
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.15.0.2
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.10.0.8
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.6
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.10.0.4
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.10.0.2
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.8.0.4
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.7.0.4
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.2
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.6.0.2
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.5.0.2
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.2.0.4
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2
	FLITE_1_2:1.1.1.1
	FLITE:1.1.1;
locks; strict;
comment	@# @;


1.22
date	2016.08.03.13.06.41;	author ajacoutot;	state Exp;
branches;
next	1.21;
commitid	Ayvq9GseHPYe2ZHi;

1.21
date	2016.03.10.11.50.13;	author naddy;	state Exp;
branches;
next	1.20;
commitid	jyYyxI4cQA4JapGp;

1.20
date	2015.03.16.18.07.35;	author naddy;	state Exp;
branches;
next	1.19;
commitid	IJdm3Zowcdkcxp5X;

1.19
date	2014.09.16.19.56.09;	author miod;	state Exp;
branches;
next	1.18;
commitid	qDBOPrPo8GxXpZDD;

1.18
date	2014.01.30.13.21.43;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2013.11.25.14.16.22;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.10.22.55.02;	author espie;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2010.07.29.18.06.33;	author landry;	state Exp;
branches;
next	1.14;

1.14
date	2010.04.12.16.41.46;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2010.04.12.08.42.34;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2010.02.09.12.23.59;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2009.12.14.00.33.08;	author jakemsr;	state Exp;
branches;
next	1.10;

1.10
date	2008.01.04.17.48.33;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.15.21.26.01;	author simon;	state Exp;
branches;
next	1.8;

1.8
date	2006.12.28.11.47.23;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2005.12.24.16.01.55;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2005.08.17.02.16.03;	author pvalchev;	state Exp;
branches;
next	1.5;

1.5
date	2004.12.22.07.00.14;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2004.11.21.17.51.44;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2004.07.23.17.33.30;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2003.04.23.22.46.13;	author jason;	state Exp;
branches;
next	1.1;

1.1
date	2003.04.23.05.33.19;	author jason;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.04.23.05.33.19;	author jason;	state Exp;
branches;
next	;

1.16.2.1
date	2014.01.30.13.23.42;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Zap trailing spaces at EOL.
@
text
@# $OpenBSD: Makefile,v 1.21 2016/03/10 11:50:13 naddy Exp $

BROKEN-m88k=	out of memory compiling cmu_us_kal_diphone.c
BROKEN-mips64=	GCC hangs compiling cmu_us_kal_diphone.c
BROKEN-mips64el= GCC hangs compiling cmu_us_kal_diphone.c

COMMENT=	text to speech utility

VERSION=	1.2
DISTNAME=	flite-${VERSION}-release
PKGNAME=	flite-${VERSION}
REVISION=	6
SHARED_LIBS=	flite			1.2 \
		flite_cmu_time_awb	1.2 \
		flite_cmu_us_kal	1.2 \
		flite_cmu_us_kal16	1.2 \
		flite_cmulex		1.2 \
		flite_usenglish		1.2

MAKE_FLAGS=	LIBlibflite.so_VERSION=${LIBflite_VERSION} \
	LIBlibflite_cmu_time_awb.so_VERSION=${LIBflite_cmu_time_awb_VERSION} \
	LIBlibflite_cmu_us_kal.so_VERSION=${LIBflite_cmu_us_kal_VERSION} \
	LIBlibflite_cmu_us_kal16.so_VERSION=${LIBflite_cmu_us_kal16_VERSION} \
	LIBlibflite_cmulex.so_VERSION=${LIBflite_cmulex_VERSION} \
	LIBlibflite_usenglish.so_VERSION=${LIBflite_usenglish_VERSION}

CATEGORIES=	audio

HOMEPAGE=	http://www.cmuflite.org/

PERMIT_PACKAGE_CDROM=   Yes
WANTLIB=		c m sndio

MASTER_SITES=	http://www.speech.cs.cmu.edu/flite/packed/flite-${VERSION}/

CONFIGURE_STYLE= gnu dest
CONFIGURE_ARGS= --enable-shared --with-audio=sndio

USE_GMAKE=	Yes
NO_TEST=	Yes

post-extract:
	cp ${FILESDIR}/au_sndio.c ${WRKSRC}/src/audio

.include <bsd.port.mk>
@


1.21
log
@requires --enable-shared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/03/16 18:07:35 naddy Exp $
d12 1
a12 1
REVISION=	5
@


1.20
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/09/16 19:56:09 miod Exp $
d37 1
a37 1
CONFIGURE_ARGS= ${CONFIGURE_SHARED} --with-audio=sndio
@


1.19
log
@Add a bunch of NOT_FOR_ARCHS and BROKEN- annotations, either for all gcc3
platforms (due to compiler deficiencies) or m88k only (due to toolchain
issues leading to libGL not being available).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/01/30 13:21:43 jasper Exp $
d12 1
a12 1
REVISION=	4
@


1.18
log
@Security fix for CVE-2014-0027
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/11/25 14:16:22 sthen Exp $
d3 1
@


1.17
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/10 22:55:02 espie Exp $
d11 1
a11 1
REVISION=	3
@


1.16
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/07/29 18:06:33 landry Exp $
a39 1
VMEM_WARNING=	Yes
@


1.16.2.1
log
@Security fix for CVE-2014-0027
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/10 22:55:02 espie Exp $
d11 1
a11 1
REVISION=	4
@


1.15
log
@Remove BROKEN-hppa. It builds fine now with gcc4.
While here switch to REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/04/12 16:41:46 jasper Exp $
a30 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
d39 1
a39 1
NO_REGRESS=	Yes
@


1.14
log
@- use BROKEN-$arch , prompted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/04/12 08:42:34 jasper Exp $
a2 1
BROKEN-hppa=	GCC hangs compiling cmu_us_kal_diphone.c
d10 2
a11 1
PKGNAME=	flite-${VERSION}p2
@


1.13
log
@- use NOT_FOR_ARCHS instead of BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/02/09 12:23:59 jasper Exp $
d3 3
a5 2
# GCC hangs compiling cmu_us_kal_diphone.c
NOT_FOR_ARCHS=	hppa mips64 mips64el
@


1.12
log
@- extend archtecture tests for mips64el

ok naddy@@ phessler@@
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.11 2009/12/14 00:33:08 jakemsr Exp $
a6 4

.if ${MACHINE_ARCH} == "hppa" || ${MACHINE_ARCH:Mmips64*}
BROKEN=		gcc hang compiling cmu_us_kal_diphone.c
.endif
@


1.11
log
@- sndio instead of audio(4)
- cleanup & modernize:
remove bouncing maintainer contact, remove nop patch, regen patches,
@@bin markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/01/04 17:48:33 espie Exp $
d5 1
a5 1
.if ${MACHINE_ARCH} == "hppa" || ${MACHINE_ARCH} == "mips64"
@


1.10
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/09/15 21:26:01 simon Exp $
d11 1
a11 1
PKGNAME=	flite-${VERSION}p1
a29 2
MAINTAINER=	Jason L. Wright <jason@@openbsd.org>

d34 1
a34 1
WANTLIB=		c m
d39 1
a39 1
CONFIGURE_ARGS= ${CONFIGURE_SHARED}
d44 3
@


1.9
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/12/28 11:47:23 espie Exp $
a24 1
FAKE_FLAGS=${MAKE_FLAGS} DESTDIR=${WRKINST}
@


1.8
log
@allow redistribution, make sure modifications are clearly marked as such
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/12/24 16:01:55 espie Exp $
d3 1
a3 1
COMMENT=	"text to speech utility"
d6 1
a6 1
BROKEN=		"gcc hang compiling cmu_us_kal_diphone.c"
@


1.7
log
@SHARED_LIBS
this one needs more tweaks to work than your average port!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/08/17 02:16:03 pvalchev Exp $
d11 1
a11 1
PKGNAME=	flite-${VERSION}p0
d33 2
a34 2
PERMIT_PACKAGE_CDROM=   No, mods have to be clearly marked
PERMIT_PACKAGE_FTP=     No, mods have to be clearly marked
@


1.6
log
@mark as broken on sgi as well as hppa as it freaks out the machine too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/12/22 07:00:14 espie Exp $
d12 15
@


1.5
log
@don't put soname.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/11/21 17:51:44 espie Exp $
d5 1
a5 1
.if ${MACHINE_ARCH} == "hppa"
@


1.4
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/07/23 17:33:30 pvalchev Exp $
d11 1
a11 2
PKGNAME=	flite-${VERSION}
DISTNAME=	${PKGNAME}-release
@


1.3
log
@mark as broken on hppa: gcc hang compiling cmu_us_kal_diphone.c
happens on any optimization level
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/04/23 22:46:13 jason Exp $
d23 1
@


1.2
log
@Add VMEM_WARNING=Yes (sparc64 requires a bump)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/04/23 05:33:19 jason Exp $
d4 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d27 1
@


1.1.1.1
log
@cmuflite-1.2, text to speech processor; ok naddy
@
text
@@
