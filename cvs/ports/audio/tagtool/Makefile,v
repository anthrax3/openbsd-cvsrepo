head	1.30;
access;
symbols
	OPENBSD_6_1:1.29.0.8
	OPENBSD_6_1_BASE:1.29
	OPENBSD_6_0:1.29.0.6
	OPENBSD_6_0_BASE:1.29
	OPENBSD_5_9:1.29.0.2
	OPENBSD_5_9_BASE:1.29
	OPENBSD_5_8:1.29.0.4
	OPENBSD_5_8_BASE:1.29
	OPENBSD_5_7:1.27.0.8
	OPENBSD_5_7_BASE:1.27
	OPENBSD_5_6:1.27.0.6
	OPENBSD_5_6_BASE:1.27
	OPENBSD_5_5:1.27.0.4
	OPENBSD_5_5_BASE:1.27
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.26.0.4
	OPENBSD_5_3_BASE:1.26
	OPENBSD_5_2:1.26.0.2
	OPENBSD_5_2_BASE:1.26
	OPENBSD_5_1_BASE:1.25
	OPENBSD_5_1:1.25.0.2
	OPENBSD_5_0:1.22.0.2
	OPENBSD_5_0_BASE:1.22
	OPENBSD_4_9:1.21.0.2
	OPENBSD_4_9_BASE:1.21
	OPENBSD_4_8:1.16.0.4
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.16.0.2
	OPENBSD_4_7_BASE:1.16
	OPENBSD_4_6:1.14.0.2
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.13.0.4
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.13.0.2
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	jasper_20061210:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.30
date	2017.04.10.11.45.23;	author sthen;	state Exp;
branches;
next	1.29;
commitid	XDh1zlSBq0boKsHk;

1.29
date	2015.06.05.12.20.39;	author ajacoutot;	state Exp;
branches;
next	1.28;
commitid	EN63WAVsZfWHjAV3;

1.28
date	2015.03.27.08.43.02;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	9SD62DzRZ5qtR5xU;

1.27
date	2013.03.10.22.55.06;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2012.06.15.08.32.14;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2011.12.03.18.55.28;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2011.10.12.12.54.31;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2011.09.16.08.26.11;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2011.04.08.13.38.48;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.26.07.07.56;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.15.00.22.48;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.24.21.00.29;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2010.10.11.08.11.17;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2010.09.05.22.00.13;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2009.12.22.15.43.15;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.08.10.06.29.52;	author kili;	state Exp;
branches;
next	1.14;

1.14
date	2009.03.06.21.24.52;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2008.06.15.00.04.50;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2008.06.03.14.56.09;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2008.04.17.08.10.09;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2008.04.15.20.43.20;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2007.12.15.18.56.35;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2007.11.13.20.05.00;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2007.11.13.12.44.23;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.15.21.26.03;	author simon;	state Exp;
branches;
next	1.5;

1.5
date	2007.06.01.18.48.46;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2007.04.12.20.24.30;	author sturm;	state Exp;
branches;
next	1.3;

1.3
date	2007.01.04.20.19.53;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2006.12.18.22.27.56;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2006.12.10.21.55.11;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.12.10.21.55.11;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.30
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.29 2015/06/05 12:20:39 ajacoutot Exp $

COMMENT=	Ogg Vorbis and MP3 files tagger

DISTNAME=	tagtool-0.12.3
REVISION=	17
CATEGORIES=	audio

MAINTAINER=	Vlad Glagolev <stealth@@sourcemage.org>

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=tagtool/}
EXTRACT_SUFX=	.tar.bz2

# GPL
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 c cairo expat fontconfig
WANTLIB += freetype gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += m ogg pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1
WANTLIB += png pthread-stubs ${LIBCXX} xcb xml2 z gthread-2.0 pthread
WANTLIB += xcb-render id3>=3.8 vorbis>=5
WANTLIB += gtk-x11-2.0 gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0>=0.3
WANTLIB += vorbisfile>=4 GL xcb-shm

MODULES=	devel/gettext \
		textproc/intltool

LIB_DEPENDS=	audio/id3lib \
		audio/libvorbis \
		x11/gtk+2>=2.10 \
		devel/libglade2 \
		audio/libvorbis
RUN_DEPENDS=	devel/desktop-file-utils \
		x11/gtk+3,-guic

CONFIGURE_STYLE=gnu

CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -lm -logg"

USE_GMAKE=	Yes

.include <bsd.port.mk>
@


1.29
log
@Sync PLIST for share/applications/.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/03/27 08:43:02 ajacoutot Exp $
d21 1
a21 1
WANTLIB += png pthread-stubs stdc++ xcb xml2 z gthread-2.0 pthread
@


1.28
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/03/10 22:55:06 espie Exp $
d6 1
a6 1
REVISION=	16
@


1.27
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/06/15 08:32:14 ajacoutot Exp $
d6 1
a6 1
REVISION=	15
d35 1
a35 1
		x11/gtk+2,-guic
@


1.26
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/12/03 18:55:28 ajacoutot Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.25
log
@Depends on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/10/12 12:54:31 jasper Exp $
d6 1
a6 1
REVISION=	14
@


1.24
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/09/16 08:26:11 espie Exp $
d6 1
a6 1
REVISION=	13
d37 2
a38 2
RUN_DEPENDS=	x11/hicolor-icon-theme \
		devel/desktop-file-utils
@


1.23
log
@normalize pkgpath in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/04/08 13:38:48 jasper Exp $
d6 1
a6 1
REVISION=	12
d20 1
a20 1
WANTLIB += X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
d25 1
a25 1
WANTLIB += xcb-render xcb-render-util id3>=3.8 vorbis>=5
d27 1
a27 1
WANTLIB += vorbisfile>=4
@


1.22
log
@homepage is gone
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/11/26 07:07:56 espie Exp $
d6 1
a6 1
REVISION=	11
@


1.21
log
@redo depends with >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/15 00:22:48 espie Exp $
d6 1
a6 1
REVISION=	10
a7 1
HOMEPAGE=	http://pwp.netcabo.pt/paol/tagtool/
@


1.20
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/24 21:00:29 ajacoutot Exp $
d35 1
a35 1
		gtk+2->=2.10:x11/gtk+2 \
@


1.19
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/10/11 08:11:17 jasper Exp $
d26 3
a28 3
WANTLIB += xcb-render xcb-render-util id3.>=3.8 vorbis.>=5.0
WANTLIB += gtk-x11-2.0 gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0.>=0.3
WANTLIB += vorbisfile.>=4
d33 7
a39 7
LIB_DEPENDS=	::audio/id3lib \
		::audio/libvorbis \
		:gtk+2->=2.10:x11/gtk+2 \
		::devel/libglade2 \
		::audio/libvorbis
RUN_DEPENDS=	::x11/hicolor-icon-theme \
		:desktop-file-utils-*:devel/desktop-file-utils
@


1.18
log
@- fix WANTLIB after cairo update.

these and upcoming fixes test built by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/09/05 22:00:13 sthen Exp $
a46 1
USE_X11=	Yes
@


1.17
log
@new-style LIB_DEPENDS/REVISION, sync WANTLIB, bump where necessary.
checked with check-lib-depends and PLIST_DB "make package".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/12/22 15:43:15 ajacoutot Exp $
d6 1
a6 1
REVISION=	9
d23 1
a23 1
WANTLIB += freetype gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0
@


1.16
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/08/10 06:29:52 kili Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p8
d25 4
a28 1
WANTLIB += png pthread-stubs stdc++ xcb xml2 z
d33 5
a37 5
LIB_DEPENDS=	id3.>=3.8::audio/id3lib \
		vorbis.>=5.0::audio/libvorbis \
		gtk-x11-2.0,gdk-x11-2.0,gdk_pixbuf-2.0:gtk+2->=2.10:x11/gtk+2 \
		glade-2.0.>=0.3::devel/libglade2 \
		vorbisfile.>=4::audio/libvorbis
@


1.15
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/03/06 21:24:52 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p7
@


1.14
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/06/15 00:04:50 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p6
d25 1
a25 1
WANTLIB += png stdc++ xml2 z
@


1.13
log
@sync wantlib and bump packages. ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/06/03 14:56:09 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p5
d21 5
a25 5
WANTLIB=	X11 Xau Xdmcp Xrender Xcursor Xext Xfixes Xi Xinerama Xrandr \
		Xcomposite Xdamage \
		atk-1.0 c m z stdc++ ogg fontconfig cairo xml2 \
		freetype expat glib-2.0 gmodule-2.0 glitz png \
		gobject-2.0 pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1
@


1.12
log
@- use the in-tree intltool utilities (textproc/intltool MODULE) instead
of the ones bundled in sources
PLIST_DB seems happy with the change so no bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/04/17 08:10:09 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
d25 1
a25 1
		gobject-2.0 pango-1.0 pangocairo-1.0 pangoft2-1.0
@


1.11
log
@- tweak the way the gtk-update-icon-cache goo is run

gtk-update-icon-cache is part of gtk+2: adding gtk+2 to run_depends just
to update the icon cache (which only gtk apps can use) is overkill to
say the least!
As from now, each time icons are installed under %D/share/icons, we try
to execute gtk-update-icon-cache and if it is not there, we just ignore
the error.
What it means is that if you have gtk+2 installed, then it'll run fine
and your apps will be able to use the cache. Otherwise, it will silently
fails which is fine since it means none of your apps would have been
able to take advantage of the cache anyway.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/04/15 20:43:20 jasper Exp $
d27 2
a28 3
MODULES=	devel/gettext

BUILD_DEPENDS=	:p5-XML-Parser-*:textproc/p5-XML-Parser
@


1.10
log
@- add teeny-tiny accelerator to quit.

"of course!" maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/12/15 18:56:35 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.9
log
@- add missing update-desktop-database goo

"reads fine" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/11/13 20:05:00 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.8
log
@update maintainers email address.
per his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/11/13 12:44:23 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d36 2
a37 1
RUN_DEPENDS=	::x11/hicolor-icon-theme
@


1.7
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/09/15 21:26:03 simon Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d10 1
a10 1
MAINTAINER=	Vlad Glagolev <stelzy@@gmail.com>
@


1.6
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/06/01 18:48:46 jasper Exp $
d6 1
d22 1
@


1.5
log
@update tagtool to 0.12.3

from Vlad Glagolev <stelzy at gmail.com> (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/04/12 20:24:30 sturm Exp $
d3 1
a3 1
COMMENT=	"Ogg Vorbis and MP3 files tagger"
@


1.4
log
@simple WANTLIB fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/01/04 20:19:53 steven Exp $
d5 1
a5 2
DISTNAME=	tagtool-0.12.2
PKGNAME=	${DISTNAME}p1
d12 1
d20 2
a21 1
WANTLIB=	X11 Xau Xdmcp Xrender atk-1.0 c m z stdc++ ogg fontconfig \
d23 1
a23 1
		gobject-2.0 pango-1.0 pangocairo-1.0 pangoft2-1.0 cairo
d31 1
a31 1
		gtk-x11-2.0.>=0.14,gdk-x11-2.0.>=0.14,gdk_pixbuf-2.0.>=0.14::x11/gtk+2 \
d33 2
a34 2
		vorbisfile.>=4::audio/libvorbis \
		xml2.>=9::textproc/libxml
@


1.3
log
@fix WANTLIB of ports using gtk, needed after switch to our own pkg-config
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/12/18 22:27:56 kili Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d20 2
a21 2
WANTLIB=	X11 Xext Xrender atk-1.0 c m z stdc++ ogg fontconfig \
		freetype glib-2.0 gmodule-2.0 glitz png \
@


1.2
log
@
kill remaining devel/pkgconfig dependencies.

reminded by steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/12/10 21:55:11 jasper Exp $
d6 1
d20 2
a21 1
WANTLIB=	X11 atk-1.0 c m z stdc++ ogg fontconfig freetype glib-2.0 gmodule-2.0 \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d24 1
a24 2
BUILD_DEPENDS=	:pkgconfig-*:devel/pkgconfig \
		:p5-XML-Parser-*:textproc/p5-XML-Parser
@


1.1.1.1
log
@import tagtool 0.12.2

Audio Tag Tool is a program to manage the information fields in MP3 and
Ogg Vorbis files, commonly called tags. Tag Tool can be used to edit
tags one by one, but the most useful features are the ability to easily
tag or rename hundreds of files at once, in any desired format. The mass
tag and mass rename features can handle filenames in any format thanks
to an easily configurable format template.

from MAINTAINER Vlad Glagolev <stelzy at gmail.com>
@
text
@@
