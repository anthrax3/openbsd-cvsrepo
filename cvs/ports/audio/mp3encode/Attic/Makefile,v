head	1.24;
access;
symbols
	OPENBSD_5_7:1.23.0.8
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.23.0.6
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.23.0.4
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.22.0.2
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.21.0.8
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.21
	OPENBSD_5_1:1.21.0.6
	OPENBSD_5_0:1.21.0.4
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.21.0.2
	OPENBSD_4_9_BASE:1.21
	OPENBSD_4_8:1.20.0.12
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.20.0.10
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.20.0.8
	OPENBSD_4_6_BASE:1.20
	OPENBSD_4_5:1.20.0.6
	OPENBSD_4_5_BASE:1.20
	OPENBSD_4_4:1.20.0.4
	OPENBSD_4_4_BASE:1.20
	OPENBSD_4_3:1.20.0.2
	OPENBSD_4_3_BASE:1.20
	OPENBSD_4_2:1.19.0.12
	OPENBSD_4_2_BASE:1.19
	OPENBSD_4_1:1.19.0.10
	OPENBSD_4_1_BASE:1.19
	OPENBSD_4_0:1.19.0.8
	OPENBSD_4_0_BASE:1.19
	OPENBSD_3_9:1.19.0.6
	OPENBSD_3_9_BASE:1.19
	OPENBSD_3_8:1.19.0.4
	OPENBSD_3_8_BASE:1.19
	OPENBSD_3_7:1.19.0.2
	OPENBSD_3_7_BASE:1.19
	OPENBSD_3_6:1.18.0.6
	OPENBSD_3_6_BASE:1.18
	OPENBSD_3_5:1.18.0.4
	OPENBSD_3_5_BASE:1.18
	OPENBSD_3_4:1.18.0.2
	OPENBSD_3_4_BASE:1.18
	OPENBSD_3_3:1.16.0.2
	OPENBSD_3_3_BASE:1.16
	OPENBSD_3_2:1.14.0.4
	OPENBSD_3_2_BASE:1.14
	OPENBSD_3_1:1.14.0.2
	OPENBSD_3_1_BASE:1.14
	OPENBSD_3_0:1.13.0.4
	OPENBSD_3_0_BASE:1.13
	OPENBSD_2_9_TRACKING_SWITCH:1.13
	OPENBSD_2_9:1.13.0.2
	OPENBSD_2_9_BASE:1.13
	OPENBSD_2_8:1.12.0.2
	OPENBSD_2_8_BASE:1.12
	OPENBSD_2_7:1.8.0.2
	OPENBSD_2_7_BASE:1.8
	OPENBSD_2_6:1.2.0.2
	OPENBSD_2_6_BASE:1.2
	mp3encode:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.24
date	2015.06.21.20.20.46;	author naddy;	state dead;
branches;
next	1.23;
commitid	Wz7LUfeAVOgOGqRl;

1.23
date	2013.03.10.22.55.03;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2012.10.15.15.18.31;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2010.09.06.00.04.28;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2007.09.15.21.26.02;	author simon;	state Exp;
branches;
next	1.19;

1.19
date	2004.11.21.17.51.45;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2003.04.20.22.40.13;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2003.04.14.09.39.18;	author avsm;	state Exp;
branches;
next	1.16;

1.16
date	2002.12.23.00.37.49;	author pvalchev;	state Exp;
branches;
next	1.15;

1.15
date	2002.10.24.22.20.03;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2002.03.21.20.35.42;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2001.04.13.03.24.08;	author obecian;	state Exp;
branches;
next	1.12;

1.12
date	2000.10.22.15.41.26;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.10.22.14.02.52;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.08.16.16.42.01;	author turan;	state Exp;
branches;
next	1.9;

1.9
date	2000.06.10.17.39.17;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.04.08.15.00.59;	author espie;	state Exp;
branches
	1.8.2.1;
next	1.7;

1.7
date	2000.03.24.22.11.34;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.15.05.03.56;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.12.06.29.50;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.11.00.37.17;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2000.01.27.14.04.54;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.09.06.18.13.21;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.05.23.01.42.34;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.05.23.01.42.34;	author angelos;	state Exp;
branches;
next	;

1.8.2.1
date	2000.09.15.04.42.42;	author marc;	state Exp;
branches;
next	;


desc
@@


1.24
log
@Remove obsolete ports that are no longer useful and that are unmaintained,
abandoned by upstream, and whose master sites are dead or disappearing.
ok jca@@, ajacoutot@@, dcoppa@@
@
text
@# $OpenBSD: Makefile,v 1.23 2013/03/10 22:55:03 espie Exp $

COMMENT=	MPEG layer I, II and III audio file encoder
DISTNAME=	dist10
PKGNAME=	mp3encode-1.10
REVISION=	1
CATEGORIES=	audio
MASTER_SITES=	ftp://ftp.sunet.se/pub/multimedia/Berkeley/mpeg2/conformance-bitstreams/audio/mpeg2/software/technical_report/

PERMIT_PACKAGE_CDROM=	MP3 patent, http://mp3licensing.com/royalty/swenc.html
PERMIT_PACKAGE_FTP=	Yes

WANTLIB=		c m

USE_GMAKE=	Yes
CONFIGURE_STYLE=simple

WRKDIST=	${WRKDIR}/${DISTNAME}/lsf/encoder
NO_TEST=	Yes

# Directories and extra files
TABLE_LIB=	${PREFIX}/lib/mp3encode
TABLE_LIB_SED=	${TABLE_LIB:S/\//\\\//g}
TABLE_FILES=	1cb0 1cb1 1cb2 1cb4 1cb5 1cb6 1th0 1th1 1th2 1th4 1th5 1th6 \
		2cb0 2cb1 2cb2 2cb4 2cb5 2cb6 2th0 2th1 2th2 2th4 2th5 2th6 \
		absthr_0 absthr_1 absthr_2 alloc_0 alloc_1 alloc_2 alloc_3 \
		alloc_4 dewindow enwindow huffcode huffdec psy_data

# fix rights (or fix wrongs ?)
post-extract:
	@@cd ${WRKDIST} && chmod -R a+rX,u+w .

post-configure:
	@@sed -e s,ZAP,${TABLE_LIB_SED}, ${WRKSRC}/common.h > ${WRKSRC}/common.h.sed
	@@mv ${WRKSRC}/common.h.sed ${WRKSRC}/common.h

do-install:
	${INSTALL_DATA_DIR} ${TABLE_LIB}
	${INSTALL_PROGRAM} ${WRKSRC}/encode ${PREFIX}/bin/mp3encode
	cd ${WRKSRC}/tables; ${INSTALL_DATA} ${TABLE_FILES} ${TABLE_LIB}

.include <bsd.port.mk>
@


1.23
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/10/15 15:18:31 sthen Exp $
@


1.22
log
@zap trailing whitespace in files where it's present on PERMIT_* lines
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/09/06 00:04:28 sthen Exp $
a11 2
PERMIT_DISTFILES_CDROM=	MP3 patent, http://mp3licensing.com/royalty/swenc.html
PERMIT_DISTFILES_FTP=	Yes
d19 1
a19 1
NO_REGRESS=	Yes
@


1.21
log
@new-style REVISIONS/LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2007/09/15 21:26:02 simon Exp $
d10 1
a10 1
PERMIT_PACKAGE_CDROM=	MP3 patent, http://mp3licensing.com/royalty/swenc.html 
@


1.20
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2004/11/21 17:51:45 espie Exp $
d5 2
a6 1
PKGNAME=	mp3encode-1.10p1
d14 1
@


1.19
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2003/04/20 22:40:13 naddy Exp $
d3 1
a3 1
COMMENT=	"MPEG layer I, II and III audio file encoder"
@


1.18
log
@fix sloppiness from previous commit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2003/04/14 09:39:18 avsm Exp $
d13 1
@


1.17
log
@- fix a set of buffer overflows in fgets into a wrong sized buffer
- use update-patches
- bump PKGNAME to p1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/12/23 00:37:49 pvalchev Exp $
d32 1
a32 1
post-patch:
@


1.16
log
@Remove Angelos from maintainer per his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/10/24 22:20:03 naddy Exp $
d5 1
a5 1
PKGNAME=	mp3encode-1.10
@


1.15
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/03/21 20:35:42 espie Exp $
a7 2

MAINTAINER=	Angelos D. Keromytis <angelos@@openbsd.org>
@


1.14
log
@bump NEED_VERSION for distinfo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/04/13 03:24:08 obecian Exp $
a6 1
NEED_VERSION=	1.515
d20 1
@


1.13
log
@+ bump NEED_VERSION, add COMMENT to Makefile
+ rm pkg/COMMENT
+ rm deprecated LICENSE_TYPE, add NEED_VERSION,
  spaces->tabs (general update/cleanup, some ports are OLD)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/10/22 15:41:26 espie Exp $
d7 1
a7 1
NEED_VERSION=	1.364
@


1.12
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/10/22 14:02:52 espie Exp $
d3 1
d7 1
a7 1
NEED_VERSION=	1.305
a11 1
LICENSE_TYPE=		BSD
@


1.11
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/08/16 16:42:01 turan Exp $
d6 1
a6 1
NEED_VERSION=	1.300
@


1.10
log
@patents do not allow the sale of mp3 encoders.
http://mp3licensing.com/royalty/swenc.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/06/10 17:39:17 espie Exp $
d9 1
a9 1
MAINTAINER=	angelos@@openbsd.org
@


1.9
log
@Various minor clean-ups:
- use new CONFIGURE_STYLE
- use PLIST/DESCR substitution to add HOMEPAGE and various fragments
- add systematic @@comment $OpenBSD$ to PLIST
- remove FAKE=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/04/08 15:00:59 espie Exp $
d12 1
a12 1
PERMIT_PACKAGE_CDROM=	Yes
d14 1
a14 1
PERMIT_DISTFILES_CDROM=	Yes
@


1.8
log
@Fake, repair.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/03/24 22:11:34 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.191
a15 1
FAKE=			Yes
d18 1
a18 1
HAS_CONFIGURE=	Yes
@


1.8.2.1
log
@bring cut-off audio into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/06/10 17:39:17 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.300
d16 1
d19 1
a19 1
CONFIGURE_STYLE=simple
@


1.7
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/02/15 05:03:56 turan Exp $
d12 5
a16 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d18 2
a19 2
USE_GMAKE=	yes
HAS_CONFIGURE=	yes
d30 4
@


1.6
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/02/12 06:29:50 turan Exp $
d6 1
a7 1
NEED_VERSION=	1.191
@


1.5
log
@bsd licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/11 00:37:17 espie Exp $
d12 4
a15 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.4
log
@Use WRKDIST where appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/01/27 14:04:54 brad Exp $
d10 6
@


1.3
log
@- cleanup Makefile
- add missing RMD160 and SHA1 checksums
- convert patches to unified diffs
- make this port respect CC and CFLAGS
- remove some unnecedsary comments from DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/09/06 18:13:21 brad Exp $
d7 1
d14 1
a14 1
WRKSRC=	${WRKDIR}/${DISTNAME}/lsf/encoder
@


1.2
log
@style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/05/23 01:42:34 angelos Exp $
d13 1
a13 2
WRKSRC=		${WRKDIR}/${DISTNAME}/lsf/encoder
ALL_TARGET=	encode
d24 2
a25 5
	@@${ECHO} "===>  Specifing table path"
	@@${RM} -f ${WRKSRC}/common.h.sed
	@@${SED} "s/ZAP/${TABLE_LIB_SED}/g" < ${WRKSRC}/common.h > ${WRKSRC}/common.h.sed
	@@${RM} -f ${WRKSRC}/common.h
	@@${CP} -f ${WRKSRC}/common.h.sed ${WRKSRC}/common.h
d28 1
a28 1
	@@${ECHO} "===>  Installing binaries"
d30 1
a30 5
	@@${ECHO} "===>  Installing table files"
	-${MKDIR} ${TABLE_LIB}
	@@for file in ${TABLE_FILES} ; do \
		${INSTALL_DATA} ${WRKSRC}/tables/$$file ${TABLE_LIB}/ ;\
	done
@


1.1
log
@Initial revision
@
text
@d1 1
a1 8
# OpenBSD Makefile for: mp3encode
# Version required:	1.10
# Date created:		May 22, 1999
# Whom:			Angelos D. Keromytis
#
# $Id: Makefile,v 1.1.1.1 1998/12/24 06:59:44 steve Exp $
# $OpenBSD$
#
d10 3
a14 2
HAS_CONFIGURE=	yes
USE_GMAKE=	yes
a16 1
#
d25 5
a29 5
	@@${ECHO} "===>  Specifing table path "
	${RM} -f ${WRKSRC}/common.h.sed
	${SED} "s/ZAP/${TABLE_LIB_SED}/g" < ${WRKSRC}/common.h >${WRKSRC}/common.h.sed
	${RM} -f ${WRKSRC}/common.h
	${CP} -f ${WRKSRC}/common.h.sed ${WRKSRC}/common.h
d36 1
a36 1
	for file in ${TABLE_FILES} ; do \
@


1.1.1.1
log
@MP3 encoder software (adapted from FreeBSD)
@
text
@@
