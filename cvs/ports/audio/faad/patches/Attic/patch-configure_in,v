head	1.7;
access;
symbols
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.4
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_4:1.4.0.6
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.4
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.2
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.3.0.10
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.8
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.6
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_5:1.1.0.6
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.4
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.2
	OPENBSD_3_3_BASE:1.1;
locks; strict;
comment	@# @;


1.7
date	2012.05.22.18.38.48;	author ajacoutot;	state dead;
branches;
next	1.6;

1.6
date	2011.07.05.17.37.33;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2008.09.15.21.58.19;	author jakemsr;	state dead;
branches;
next	1.4;

1.4
date	2007.06.29.06.01.42;	author jakemsr;	state Exp;
branches;
next	1.3;

1.3
date	2005.01.05.11.40.04;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2004.04.28.01.30.00;	author jolan;	state dead;
branches;
next	1.1;

1.1
date	2002.12.20.23.40.13;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Update to faad 2.7.

from Brad
@
text
@$OpenBSD: patch-configure_in,v 1.6 2011/07/05 17:37:33 jasper Exp $
--- configure.in.orig	Mon Jul  4 18:33:36 2011
+++ configure.in	Mon Jul  4 18:34:42 2011
@@@@ -16,9 +16,10 @@@@ AC_SUBST(LIBTOOL_DEPS)
 
 dnl Checks for programs.
 AC_PROG_CC
+AM_PROG_CC_C_O
 AC_PROG_CPP
 dnl disable for mpeg4ip plugin
-dnl AC_PROG_CXX
+AC_PROG_CXX
 AC_PROG_INSTALL
 AC_PROG_LN_S
 AC_PROG_MAKE_SET
@


1.6
log
@- Cleaning up the port a bit
- Add missing build dependency on automake
- Update the autoconf version to a more appropriate version
- Add in a fix for the automake issue that came up with newer
  GNU libtool installed which broke the build

  from brad
@
text
@d1 1
a1 1
$OpenBSD$
@


1.5
log
@- update to faad-2.6.1
- greatly simplify type-mismatch-correcting patches.  most of the
  mismatches actually match on size and signedness, so only fix the
  ones that don't match.  tested to work on sparc64 by naddy@@ a
  while back.
- libmp4v2 is no longer part of this package
@
text
@d1 4
a4 14
$OpenBSD: patch-configure_in,v 1.4 2007/06/29 06:01:42 jakemsr Exp $
--- configure.in.orig	Fri Feb  6 08:04:39 2004
+++ configure.in	Thu May 31 14:07:32 2007
@@@@ -67,10 +67,7 @@@@ MY_CHECK_TYPEDEF_FROM_INCLUDE([fpos_t foo; foo.__pos =
         [HAVE_FPOS_T_POS])
 
 
-external_mp4v2=yes
-AC_CHECK_LIB(mp4v2, MP4Create, , external_mp4v2=no, -lstdc++)
-AC_CHECK_LIB(mp4v2, MP4MetadataDelete, , external_mp4v2=no, -lstdc++)
-AC_CHECK_HEADER(mp4.h, , external_mp4v2=no)
+external_mp4v2=no
 
 AM_CONDITIONAL(WITH_MP4V2, false)
d6 10
@


1.4
log
@problem:
libfaad uses data types with machine dependent bit width in
prototypes in its public headers, but in the corresponding library
code, machine independent exact width data types are used.

solution:
change libfaad headers to use the same machine independent exact
width data types in the prototypes as in the library.  since the
prototypes in the library headers are changed, users of libfaad
likely need to be modified to use exact width data types as well.

also:
- bump libfaad major version number
- update plugin code to use exact width data types for libfaad
  interaction, as per new prototypes
- bump package version
- sync patches with update-patches


problem discovered by, solution discussed with, reviewed, tested
and OK naddy@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.3 2005/01/05 11:40:04 alek Exp $
@


1.3
log
@- Use internal libmp4v2 (doesn't build if external libmp4v2 is available)
- Better LIB_DEPENDS
- Fix WANTLIB
- Bump PKGNAME
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.in.orig	Fri Feb  6 17:04:39 2004
+++ configure.in	Wed Jan  5 12:38:10 2005
@@@@ -67,10 +67,7 @@@@ MY_CHECK_TYPEDEF_FROM_INCLUDE([fpos_t fo
@


1.2
log
@update to 2.0
@
text
@d1 5
a5 6
$OpenBSD: patch-configure_in,v 1.1 2002/12/20 23:40:13 naddy Exp $
--- configure.in.orig	Fri Dec 20 23:32:01 2002
+++ configure.in	Fri Dec 20 23:32:24 2002
@@@@ -29,7 +29,7 @@@@ AC_MSG_ERROR([
   ])
 fi
a6 2
-AC_OUTPUT_COMMANDS(,[cd common/mp4v2; aclocal -I .; autoheader; libtoolize --automake; automake --add-missing; autoconf; cd -])
+AC_OUTPUT_COMMANDS(,[cd common/mp4v2; aclocal -I .; autoheader; libtoolize --automake; automake --add-missing --include-deps; autoconf; cd -])
d8 7
a14 1
 AC_CONFIG_SUBDIRS(common/mp4v2)
@


1.1
log
@Fix dependencies, honor CFLAGS/CXXFLAGS throughout, general cleanup.
@
text
@d1 1
a1 1
$OpenBSD$
@

