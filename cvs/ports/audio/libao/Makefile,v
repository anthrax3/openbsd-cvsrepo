head	1.56;
access;
symbols
	OPENBSD_6_2:1.56.0.6
	OPENBSD_6_2_BASE:1.56
	OPENBSD_6_1:1.56.0.4
	OPENBSD_6_1_BASE:1.56
	OPENBSD_6_0:1.56.0.2
	OPENBSD_6_0_BASE:1.56
	OPENBSD_5_9:1.54.0.2
	OPENBSD_5_9_BASE:1.54
	OPENBSD_5_8:1.53.0.4
	OPENBSD_5_8_BASE:1.53
	OPENBSD_5_7:1.52.0.4
	OPENBSD_5_7_BASE:1.52
	OPENBSD_5_6:1.52.0.2
	OPENBSD_5_6_BASE:1.52
	OPENBSD_5_5:1.51.0.4
	OPENBSD_5_5_BASE:1.51
	OPENBSD_5_4:1.51.0.2
	OPENBSD_5_4_BASE:1.51
	OPENBSD_5_3:1.49.0.4
	OPENBSD_5_3_BASE:1.49
	OPENBSD_5_2:1.49.0.2
	OPENBSD_5_2_BASE:1.49
	OPENBSD_5_1_BASE:1.48
	OPENBSD_5_1:1.48.0.4
	OPENBSD_5_0:1.48.0.2
	OPENBSD_5_0_BASE:1.48
	OPENBSD_4_9:1.47.0.2
	OPENBSD_4_9_BASE:1.47
	OPENBSD_4_8:1.45.0.2
	OPENBSD_4_8_BASE:1.45
	OPENBSD_4_7:1.44.0.6
	OPENBSD_4_7_BASE:1.44
	OPENBSD_4_6:1.44.0.4
	OPENBSD_4_6_BASE:1.44
	OPENBSD_4_5:1.44.0.2
	OPENBSD_4_5_BASE:1.44
	OPENBSD_4_4:1.41.0.4
	OPENBSD_4_4_BASE:1.41
	OPENBSD_4_3:1.41.0.2
	OPENBSD_4_3_BASE:1.41
	OPENBSD_4_2:1.39.0.2
	OPENBSD_4_2_BASE:1.39
	OPENBSD_4_1:1.35.0.2
	OPENBSD_4_1_BASE:1.35
	OPENBSD_4_0:1.33.0.2
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.32.0.2
	OPENBSD_3_9_BASE:1.32
	OPENBSD_3_8:1.25.0.4
	OPENBSD_3_8_BASE:1.25
	OPENBSD_3_7:1.25.0.2
	OPENBSD_3_7_BASE:1.25
	OPENBSD_3_6:1.23.0.4
	OPENBSD_3_6_BASE:1.23
	OPENBSD_3_5:1.23.0.2
	OPENBSD_3_5_BASE:1.23
	OPENBSD_3_4:1.21.0.2
	OPENBSD_3_4_BASE:1.21
	OPENBSD_3_3:1.20.0.4
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.20.0.2
	OPENBSD_3_2_BASE:1.20
	OPENBSD_3_1:1.16.0.2
	OPENBSD_3_1_BASE:1.16
	OPENBSD_3_0:1.14.0.2
	OPENBSD_3_0_BASE:1.14
	OPENBSD_2_9_TRACKING_SWITCH:1.12
	OPENBSD_2_9:1.6.0.2
	OPENBSD_2_9_BASE:1.6
	libao_0_6_0:1.1.1.1
	libao:1.1.1;
locks; strict;
comment	@# @;


1.56
date	2016.03.13.22.55.56;	author naddy;	state Exp;
branches;
next	1.55;
commitid	ZF7teAoiJcgFE1ay;

1.55
date	2016.03.11.20.11.39;	author naddy;	state Exp;
branches;
next	1.54;
commitid	jMs3AJibPCpqbdky;

1.54
date	2015.08.11.20.13.39;	author jasper;	state Exp;
branches;
next	1.53;
commitid	iQZS0ThfJykt0QdE;

1.53
date	2015.05.22.11.31.10;	author ajacoutot;	state Exp;
branches;
next	1.52;
commitid	2khjHXfpTaOuNVcx;

1.52
date	2014.05.27.19.44.56;	author naddy;	state Exp;
branches;
next	1.51;

1.51
date	2013.03.21.08.45.12;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2013.03.10.22.55.03;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2012.03.29.13.38.13;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2011.06.08.20.00.47;	author naddy;	state Exp;
branches;
next	1.47;

1.47
date	2010.10.18.16.52.45;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2010.09.14.14.28.21;	author dcoppa;	state Exp;
branches;
next	1.45;

1.45
date	2010.06.03.15.49.37;	author naddy;	state Exp;
branches;
next	1.44;

1.44
date	2009.01.21.15.14.27;	author naddy;	state Exp;
branches;
next	1.43;

1.43
date	2008.12.30.21.59.55;	author naddy;	state Exp;
branches;
next	1.42;

1.42
date	2008.10.30.19.25.31;	author naddy;	state Exp;
branches;
next	1.41;

1.41
date	2007.12.11.22.02.11;	author naddy;	state Exp;
branches;
next	1.40;

1.40
date	2007.09.15.21.26.01;	author simon;	state Exp;
branches;
next	1.39;

1.39
date	2007.07.12.21.10.15;	author naddy;	state Exp;
branches;
next	1.38;

1.38
date	2007.07.06.14.21.05;	author naddy;	state Exp;
branches;
next	1.37;

1.37
date	2007.07.05.14.59.55;	author naddy;	state Exp;
branches;
next	1.36;

1.36
date	2007.03.15.19.12.35;	author naddy;	state Exp;
branches;
next	1.35;

1.35
date	2006.11.24.16.22.21;	author naddy;	state Exp;
branches;
next	1.34;

1.34
date	2006.10.28.10.30.41;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2006.08.01.12.13.28;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2006.02.22.11.05.02;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2006.02.10.18.26.33;	author steven;	state Exp;
branches;
next	1.30;

1.30
date	2006.01.10.11.14.49;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2005.12.23.15.03.08;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2005.10.18.23.24.25;	author naddy;	state Exp;
branches;
next	1.27;

1.27
date	2005.09.18.09.34.50;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2005.09.16.09.51.26;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2004.11.21.17.51.45;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2004.10.22.16.37.07;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2003.10.08.16.01.45;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2003.10.08.12.12.52;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2003.06.08.00.10.06;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2002.08.07.20.40.15;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2002.07.20.12.10.20;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2002.07.20.00.52.44;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2002.05.08.15.52.30;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2002.01.21.15.53.12;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2002.01.16.03.10.21;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2001.10.08.14.57.55;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2001.08.20.21.53.56;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2001.08.09.15.07.31;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2001.07.26.12.31.32;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2001.07.25.18.39.29;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2001.07.22.00.12.55;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2001.07.17.15.23.35;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2001.06.30.13.16.40;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2001.03.28.12.11.18;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2001.03.25.22.04.07;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2001.03.20.15.25.33;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2001.03.17.23.45.46;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.03.16.11.58.43;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.03.14.01.54.08;	author todd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.03.14.01.54.08;	author todd;	state Exp;
branches;
next	;


desc
@@


1.56
log
@regen PLIST
@
text
@# $OpenBSD: Makefile,v 1.55 2016/03/11 20:11:39 naddy Exp $

COMMENT=	portable audio output library

DISTNAME=	libao-1.2.0
CATEGORIES=    	audio
HOMEPAGE=	https://www.xiph.org/ao/
SHARED_LIBS=	ao                   5.0      # 5.0
REVISION=	1

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	http://downloads.xiph.org/releases/ao/

WANTLIB=	sndio

SEPARATE_BUILD=	Yes
CONFIGURE_STYLE=gnu

CONFIGURE_ARGS=	--enable-static \
		--disable-arts \
		--disable-esd \
		--disable-nas \
		--disable-pulse
# disable sun audio detection
CONFIGURE_ENV=	ac_cv_header_sys_audioio_h=no

# do not install
MAKE_FLAGS=	ckport_DATA=""

pre-build:
	@@sed -i 's:/etc/libao.conf:${SYSCONFDIR}/libao.conf:g' \
	    ${WRKDIST}/include/ao/ao_private.h \
	    ${WRKDIST}/libao.conf.5 \
	    ${WRKDIST}/doc/config.html

.include <bsd.port.mk>
@


1.55
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2015/08/11 20:13:39 jasper Exp $
d9 1
a9 1
REVISION=	0
@


1.54
log
@more sed -i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2015/05/22 11:31:10 ajacoutot Exp $
d23 1
a23 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED} --enable-static \
@


1.53
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2014/05/27 19:44:56 naddy Exp $
d35 1
a35 1
	@@perl -i -pe 's:/etc/libao.conf:${SYSCONFDIR}/libao.conf:g' \
@


1.52
log
@Update to 1.2.0.  No user-visible changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/03/21 08:45:12 ajacoutot Exp $
d9 1
@


1.51
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/03/10 22:55:03 espie Exp $
d5 1
a5 1
DISTNAME=	libao-1.1.0
d7 2
a8 2
HOMEPAGE=	http://www.xiph.org/ao/
SHARED_LIBS=	ao                   5.0      # .4.0
d29 3
@


1.50
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/03/29 13:38:13 sthen Exp $
a18 1
USE_LIBTOOL=	Yes
@


1.49
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/06/08 20:00:47 naddy Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.48
log
@maintenance update to 1.1.0; nagged by Brad who sent a similar update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/10/18 16:52:45 espie Exp $
d23 1
a23 1
SEPARATE_BUILD=	simple
@


1.47
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/09/14 14:28:21 dcoppa Exp $
d5 1
a5 2
DISTNAME=	libao-1.0.0
REVISION=	0
d8 1
a8 1
SHARED_LIBS=	ao                   4.0      # .4.0
a22 1
USE_GROFF =	Yes
@


1.46
log
@Fix wrong path in port's Makefile

OK naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/06/03 15:49:37 naddy Exp $
d24 1
@


1.45
log
@update to 1.0.0; ok pea@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/01/21 15:14:27 naddy Exp $
d6 1
d37 1
a37 1
	    ${WRKDIST}/src/include/ao/ao_private.h \
@


1.44
log
@Don't link with -lpthread; spotted by ajacoutot@@
In fact, -pthread isn't needed either, so remove completely.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2008/12/30 21:59:55 naddy Exp $
d5 1
a5 2
DISTNAME=	libao-0.8.8
PKGNAME=	${DISTNAME}p3
d8 1
a8 1
SHARED_LIBS +=	ao                   3.3      # .3.3
d24 1
a24 3
AUTOCONF_VERSION = 2.61
AUTOMAKE_VERSION = 1.9
CONFIGURE_STYLE= no-autoheader automake autoconf
a33 12
post-patch:
	mkdir ${WRKSRC}/src/plugins/sndio
	cp ${FILESDIR}/Makefile.am ${FILESDIR}/ao_sndio.c \
	    ${WRKSRC}/src/plugins/sndio
	cd ${WRKSRC}; AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} aclocal

pre-configure:
	cd ${WRKSRC}; AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} automake \
	    --foreign --add-missing --copy

d36 1
a36 1
	    ${WRKDIST}/src/ao_private.h \
@


1.43
log
@* remove the arts/esound backends and sub-packages
* remove the sun audio backend
* simplify: no more multi-packaging or pseudo flavors

Mostly from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2008/10/30 19:25:31 naddy Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d21 1
a21 1
WANTLIB=	pthread sndio
@


1.42
log
@Add a sndio output module.
From ratchov@@ with some tweaks by yours truly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2007/12/11 22:02:11 naddy Exp $
d3 4
a6 9
COMMENT-main=	portable audio output library
COMMENT-arts=	aRts module for portable audio output library
COMMENT-esd=	ESounD module for portable audio output library

VERSION=	0.8.8
DISTNAME=	libao-${VERSION}
PKGNAME-main=	libao-${VERSION}p1
PKGNAME-arts=	libao-arts-${VERSION}
PKGNAME-esd=	libao-esd-${VERSION}
d13 1
a13 1
# GPL
d21 1
a21 10
PSEUDO_FLAVORS=	no_arts no_esd
FLAVOR?=	no_arts

MULTI_PACKAGES=	-main
.if !${FLAVOR:L:Mno_arts}
MULTI_PACKAGES+=-arts
.endif
.if !${FLAVOR:L:Mno_esd}
MULTI_PACKAGES+=-esd
.endif
d29 4
a32 8
CONFIGURE_ARGS=	${CONFIGURE_SHARED} --enable-static
.if ${FLAVOR:L:Mno_arts}
CONFIGURE_ARGS+=--disable-arts
.endif
.if ${FLAVOR:L:Mno_esd}
CONFIGURE_ARGS+=--disable-esd
.endif
CONFIGURE_ARGS+=--disable-nas \
d34 2
a35 18

.if ${MULTI_PACKAGES:M-arts}
MODULES=	devel/gettext
.endif

LIB_DEPENDS-main=
RUN_DEPENDS-main=
WANTLIB-main=		pthread sndio

LIB_DEPENDS-arts=	${MODGETTEXT_LIB_DEPENDS} \
			artsc::x11/kde/arts3
RUN_DEPENDS-arts=	${MODGETTEXT_RUN_DEPENDS} \
			:libao-${VERSION}:audio/libao
WANTLIB-arts=		glib-2.0 gmodule-2.0 gthread-2.0 pthread

LIB_DEPENDS-esd=	esd.>=2::audio/esound
RUN_DEPENDS-esd=	:libao-${VERSION}:audio/libao
WANTLIB-esd=		audiofile m pthread
@


1.41
log
@use AUMODE_PLAY_ALL instead of AUMODE_PLAY, so /dev/audio won't eat
samples until it catches up to realtime; from jakemsr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2007/09/15 21:26:01 simon Exp $
d9 1
a9 1
PKGNAME-main=	libao-${VERSION}p0
d39 4
a42 1
CONFIGURE_STYLE=gnu
d59 1
a59 1
WANTLIB-main=		pthread
d71 12
d85 3
a87 3
		${WRKDIST}/src/ao_private.h \
		${WRKDIST}/libao.conf.5 \
		${WRKDIST}/doc/config.html
@


1.40
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2007/07/12 21:10:15 naddy Exp $
d9 1
a9 1
PKGNAME-main=	libao-${VERSION}
@


1.39
log
@* maintenance update to 0.8.8
* don't build nonsensical static modules
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2007/07/06 14:21:05 naddy Exp $
d3 3
a5 3
COMMENT-main=	"portable audio output library"
COMMENT-arts=	"aRts module for portable audio output library"
COMMENT-esd=	"ESounD module for portable audio output library"
@


1.38
log
@belated maintenance update to 0.8.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2007/07/05 14:59:55 naddy Exp $
d7 1
a7 1
VERSION=	0.8.6
d48 1
a48 1
		--disable-polyp
d51 1
a51 1
MODULES=		devel/gettext
@


1.37
log
@preferred master site URL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2007/03/15 19:12:35 naddy Exp $
d7 1
a7 1
VERSION=	0.8.5
d9 3
a11 3
PKGNAME-main=	libao-${VERSION}p4
PKGNAME-arts=	libao-arts-${VERSION}p2
PKGNAME-esd=	libao-esd-${VERSION}p3
d14 1
a14 1
SHARED_LIBS +=	ao                   3.2      # .3.2
d42 1
a42 1
CONFIGURE_ARGS+= --disable-arts
d45 1
a45 1
CONFIGURE_ARGS+= --disable-esd
d47 2
a48 1
CONFIGURE_ARGS+= --disable-nas
@


1.36
log
@move libao.conf to SYSCONFDIR instead of hard-coded /etc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2006/11/24 16:22:21 naddy Exp $
d24 1
a24 1
MASTER_SITES=	${HOMEPAGE}src/
@


1.35
log
@switch to new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2006/10/28 10:30:41 espie Exp $
d9 1
a9 1
PKGNAME-main=	libao-${VERSION}p3
d66 6
@


1.34
log
@re-format SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2006/08/01 12:13:28 espie Exp $
d3 1
a3 1
COMMENT=	"portable audio output library"
d9 1
a9 1
FULLPKGNAME=	libao-${VERSION}p2
a22 1
WANTLIB=		pthread
d29 1
a29 1
MULTI_PACKAGES=
d31 1
a31 1
MULTI_PACKAGES+= -arts
d34 1
a34 1
MULTI_PACKAGES+= -esd
a36 2
SUBPACKAGE?=

d39 1
a39 1
CONFIGURE_STYLE= gnu
d49 2
a50 18
.if defined(PACKAGING)
.  if   ${SUBPACKAGE} == "-arts"
LIB_DEPENDS=	artsc::x11/kde/arts3
RUN_DEPENDS=	:libao-${VERSION}:audio/libao
WANTLIB+=	glib-2.0.0.0 gmodule-2.0.0.0 gthread-2.0.0.0
MODULES=	devel/gettext
.  elif ${SUBPACKAGE} == "-esd"
LIB_DEPENDS=	esd.>=2::audio/esound
RUN_DEPENDS=	:libao-${VERSION}:audio/libao
WANTLIB+=	audiofile m
.  endif
.else
.  if ${MULTI_PACKAGES:M-arts}
LIB_DEPENDS+=	artsc::x11/kde/arts3
.  endif
.  if ${MULTI_PACKAGES:M-esd}
LIB_DEPENDS+=	esd.>=2::audio/esound
.  endif
d52 14
@


1.33
log
@new-style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2006/02/22 11:05:02 espie Exp $
d14 1
a14 1
SHARED_LIBS=	ao	3.2
@


1.32
log
@fix update path for libao-esd, problem noticed by steven@@
okay pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2006/02/10 18:26:33 steven Exp $
d54 1
a54 1
LIB_DEPENDS=	artsc.0::x11/kde/arts3
d59 1
a59 1
LIB_DEPENDS=	esd.2::audio/esound
d65 1
a65 1
LIB_DEPENDS+=	artsc.0::x11/kde/arts3
d68 1
a68 1
LIB_DEPENDS+=	esd.2::audio/esound
@


1.31
log
@- move libao from LIB_DEPENDS to RUN_DEPENDS for the -esd and -arts
  subpackages, since no libraries are linked against.
- while here, move iconv intl to MODULES=devel/gettext

with some suggestions from and ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2006/01/10 11:14:49 espie Exp $
d11 1
a11 1
PKGNAME-esd=	libao-esd-${VERSION}p2
@


1.30
log
@zap some MODGNU_SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/12/23 15:03:08 espie Exp $
d10 2
a11 2
PKGNAME-arts=	libao-arts-${VERSION}p1
PKGNAME-esd=	libao-esd-${VERSION}p1
d54 4
a57 4
LIB_DEPENDS=	ao.3::audio/libao \
		artsc.0::x11/kde/arts3
WANTLIB+=	glib-2.0.0.0 gmodule-2.0.0.0 gthread-2.0.0.0 \
		iconv intl
d59 2
a60 2
LIB_DEPENDS=	ao.3::audio/libao \
		esd.2::audio/esound
@


1.29
log
@switch a few ports to SHARED_LIBS and USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/10/18 23:24:25 naddy Exp $
a14 1
MODGNU_SHARED_LIBS=	ao	''
@


1.28
log
@switch over to USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2005/09/18 09:34:50 espie Exp $
d14 2
@


1.27
log
@all subpackages need a bump (belated)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2005/09/16 09:51:26 espie Exp $
d9 3
a11 3
FULLPKGNAME=	libao-${VERSION}p1
PKGNAME-arts=	libao-arts-${VERSION}p0
PKGNAME-esd=	libao-esd-${VERSION}p0
d39 1
@


1.26
log
@Fix a buglet in bsd.port.mk where the PSEUDO_FLAVORS get encoded into
the FULLPKGPATH, thus providing changes to packing-lists which shouldn't
happen, and making update more difficult.

Accordingly, bump all pkgnames with PSEUDO_FLAVORS, and provide an
update @@pkgpath for the bug for most of them (left out the ones with 3
or 4 pseudo flavors for space constraints...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/11/21 17:51:45 espie Exp $
d10 2
a11 2
PKGNAME-arts=	libao-arts-${VERSION}
PKGNAME-esd=	libao-esd-${VERSION}
@


1.25
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/10/22 16:37:07 naddy Exp $
d9 1
@


1.24
log
@Maintenance update to 0.8.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/10/08 16:01:45 naddy Exp $
d21 1
d53 2
d58 1
@


1.23
log
@polish
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/10/08 12:12:52 naddy Exp $
d7 1
a7 1
VERSION=	0.8.4
@


1.22
log
@Maintenance update to 0.8.4; based on a submission by <gtgbr@@gmx.net>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/06/08 00:10:06 naddy Exp $
d37 1
@


1.21
log
@update master sites
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2002/08/07 20:40:15 naddy Exp $
d7 1
a7 1
VERSION=	0.8.3
d12 1
a12 1
HOMEPAGE=	http://www.vorbis.com/
d22 1
a22 4
MASTER_SITES=	http://www.vorbis.com/files/1.0/unix/ \
		ftp://ftp.wiles.org/pub/mirrors/Vorbis/unix/ \
		http://www.casterclub.com/vorbis/unix/ \
		http://www.math.utoledo.edu/~chaese/Vorbis/unix/
d45 1
@


1.20
log
@use PSEUDO_FLAVORS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/07/20 12:10:20 naddy Exp $
d22 1
a22 1
MASTER_SITES=	ftp://ftp.linuxpowered.com/pub/Vorbis/unix/ \
a23 2
		http://xiph.stratius.com/vorbis/unix/ \
		http://www.oddsock.org/vorbis/unix/ \
@


1.19
log
@Add master site, now that it has caught up with its mirrors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/07/20 00:52:44 naddy Exp $
a6 4
FULLPKGNAME=		libao-${VERSION}
FULLPKGNAME-arts=	libao-arts-${VERSION}
FULLPKGNAME-esd=	libao-esd-${VERSION}

d9 2
d29 1
a29 1
FLAVORS=	no_arts no_esd
@


1.18
log
@Welcome to Ogg Vorbis 1.0!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/05/08 15:52:30 espie Exp $
d24 2
a25 1
MASTER_SITES=	ftp://ftp.wiles.org/pub/mirrors/Vorbis/unix/ \
@


1.17
log
@switch arts subpackage to kde3, just checked that it works.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/01/21 15:53:12 naddy Exp $
d11 1
a11 1
VERSION=	0.8.2
a13 1
NEED_VERSION=	1.435
d24 5
a28 3
MASTER_SITES=	http://www.xiph.org/ogg/vorbis/download/ \
		http://www.vorbis.com/files/rc3/unix/ \
		http://www.oddsock.org/vorbisrc3/files/rc3/unix/
@


1.16
log
@fix typo in master site URL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/01/16 03:10:21 naddy Exp $
d54 1
a54 1
		artsc.0::x11/kde/libs2
d61 1
a61 1
LIB_DEPENDS+=	artsc.0::x11/kde/libs2
@


1.15
log
@Upgrade to Ogg Vorbis RC3.

Note: When encoding, use -q for quality and bitrate control.  -b
has deen deprecated and will not do what you expect.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/10/08 14:57:55 naddy Exp $
d26 1
a26 1
		http://www.vorbis.com/files/rc2/unix/ \
@


1.14
log
@use in-tree libtool patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/08/20 21:53:56 naddy Exp $
d11 1
a11 1
VERSION=	0.8.0
d25 3
a27 5
MASTER_SITES=	${HOMEPAGE}files/rc2/unix/

PATCH_LIST=	${PORTSDIR}/infrastructure/patches/patch-lt1.3.5-ltconfig \
		${PORTSDIR}/infrastructure/patches/patch-lt1.3.5-ltmain_sh \
		patch-*
d53 1
a53 1
LIB_DEPENDS=	ao.2::audio/libao \
d56 1
a56 1
LIB_DEPENDS=	ao.2::audio/libao \
@


1.13
log
@Update Ogg Vorbis to 1.0rc2.
Adds channel coupling.
Miscellaneous changes to libao and vorbis-tools.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/07/26 12:31:32 espie Exp $
d26 4
@


1.12
log
@- disable building of esd/arts plugins in accordance with respective flavors
- sync libtool patches
@
text
@d11 1
a11 1
VERSION=	0.7.0
d14 1
a14 1
NEED_VERSION=	1.422
d19 1
d25 1
a25 1
MASTER_SITES=	${HOMEPAGE}files/rc1/unix/
d51 1
a51 1
LIB_DEPENDS=	ao.1::audio/libao \
d54 1
a54 1
LIB_DEPENDS=	ao.1::audio/libao \
@


1.11
log
@no tweak flavor.
defaults to no_arts.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/07/25 18:39:29 naddy Exp $
a6 2
VERSION=	0.7.0
DISTNAME=	libao-${VERSION}
d10 3
d41 6
@


1.10
log
@- introduce pseudo-flavors to limit dependencies; idea cooked up by espie@@
- update description
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/07/22 00:12:55 naddy Exp $
d9 3
a11 2
PKGNAME-arts=	libao-arts-${VERSION}
PKGNAME-esd=	libao-esd-${VERSION}
d26 1
a26 1
FLAVOR?=
d29 1
a29 3
.if ${FLAVOR:L:Mno_arts}
FLAVOR:=	${FLAVOR:L:Nno_arts}
.else
d32 1
a32 3
.if ${FLAVOR:L:Mno_esd}
FLAVOR:=	${FLAVOR:L:Nno_esd}
.else
@


1.9
log
@- change from flavors to multi-package; guided by espie@@
- simplify: switch to unversioned modules
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/07/17 15:23:35 naddy Exp $
d13 1
a13 1
HOMEPAGE=	http://www.vorbis.com
d22 16
a37 1
MASTER_SITES=	${HOMEPAGE}/files/rc1/unix/
a38 1
MULTI_PACKAGES=	-arts -esd
d41 2
a42 4
.if !defined(PACKAGING)
LIB_DEPENDS=	artsc.0::x11/kde/libs2 \
		esd.2::audio/esound
.endif
d44 2
a45 1
.if   defined(PACKAGING) && ${SUBPACKAGE} == "-arts"
d48 1
a48 1
.elif defined(PACKAGING) && ${SUBPACKAGE} == "-esd"
d51 8
a59 3

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	${CONFIGURE_SHARED} --enable-static
@


1.8
log
@various cleanups, reduce dependencies
automake die die die!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/06/30 13:16:40 naddy Exp $
d4 7
a10 1
DISTNAME=	libao-0.7.0
d12 1
a12 1
NEED_VERSION=	1.363
d24 2
a25 15
# no shared libraries?
.if (${MACHINE_ARCH} == "hppa") || (${MACHINE_ARCH} == "mvme88k") || \
    (${MACHINE_ARCH} == "vax")

PLUGINS=

.else

FLAVORS=	arts esd sun
FLAVOR?=	sun
PLUGINS=	${FLAVOR}

.if ${FLAVOR:L:Marts}
LIB_DEPENDS+=	artsc.0::x11/kde/libs2
.endif
d27 3
a29 2
.if ${FLAVOR:L:Mesd}
LIB_DEPENDS+=	esd.2::audio/esound
d32 6
a41 2
MAKE_FLAGS=	PLUGINS='${PLUGINS}'
FAKE_FLAGS=	${MAKE_FLAGS} DESTDIR=${WRKINST}
@


1.7
log
@Update to 0.7.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/03/28 12:11:18 naddy Exp $
d40 1
a40 3
BUILD_DEPENDS=	automake::devel/automake

CONFIGURE_STYLE= autoconf
a43 5

post-patch:
	@@cd ${WRKSRC} && \
		touch aclocal.m4 configure.in && \
		automake -i
@


1.6
log
@Work around hidden libtool dependency.
Problem reported by Charlie Brown <charlie@@c237627-f.moline1.il.home.com>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/03/25 22:04:07 naddy Exp $
d4 1
a4 1
DISTNAME=	libao-0.6.0
d16 1
a16 1
MASTER_SITES=	${HOMEPAGE}/files/beta4/unix/
d19 1
a19 1
.if (${MACHINE_ARCH} == "alpha") || (${MACHINE_ARCH} == "hppa") || \
a35 7
.endif

.if ${FLAVOR:L:Msun}
post-extract:
	@@mkdir ${WRKSRC}/src/plugins/sun
	@@cp ${FILESDIR}/sun_Makefile.am ${WRKSRC}/src/plugins/sun/Makefile.am
	@@cp ${FILESDIR}/ao_sun.c ${WRKSRC}/src/plugins/sun/ao_sun.c
@


1.5
log
@Improve and integrate COMMENTs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/03/20 15:25:33 naddy Exp $
d55 3
a57 1
	@@cd ${WRKSRC} && automake -i
@


1.4
log
@Reflect reality: take over maintainership.  ok todd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/03/17 23:45:46 naddy Exp $
d3 1
d6 1
a6 1
NEED_VERSION=	1.359
@


1.3
log
@Remove OSS plug-in and replace with "sun" one for our native audio API.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/03/16 11:58:43 naddy Exp $
d8 1
a8 1
MAINTAINER=	Todd Fries <todd@@fries.net>
@


1.2
log
@Create arts/esd/oss flavors; defaults to oss.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/03/14 01:54:08 todd Exp $
d25 2
a26 2
FLAVORS=	arts esd oss
FLAVOR?=	oss
d35 7
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/01/01 19:48:42 jakob Exp $
d17 3
a19 2
#FLAVORS=	arts esd
#FLAVOR?=
d21 1
a21 2
#PLUGINS=	oss ${FLAVOR}
PLUGINS=	oss
d23 15
a37 7
#.if ${FLAVOR:L:Marts}
#LIB_DEPENDS+=	artsc.0::x11/kde/libs2
#.endif
#
#.if ${FLAVOR:L:Mesd}
#LIB_DEPENDS+=	esd.2::audio/esound
#.endif
d42 3
a44 3
CONFIGURE_ARGS=	${CONFIGURE_SHARED} --enable-static \
		--disable-esdtest
MAKE_ENV=	PLUGINS='${PLUGINS}'
d47 1
a47 1
	@@cd ${WRKSRC} && automake -i || true
@


1.1.1.1
log
@Libao is a cross-platform audio library that allows programs to output
audio using a simple API on a wide variety of platforms.  It currently
supports:
.   * Null output
.   * WAV files
.   * OSS (Open Sound System)
.   * ESD (ESounD or Enlighten Sound Daemon)
.   * ALSA (Advanced Linux Sound Architecture)
.   * Solaris (untested)
.   * IRIX (untested)

.. thanks to naddy@@ for beating oss into shape!
@
text
@@
