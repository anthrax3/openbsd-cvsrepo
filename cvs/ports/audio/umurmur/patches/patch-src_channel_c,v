head	1.5;
access;
symbols
	OPENBSD_6_0:1.5.0.6
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.3.0.6
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.2.0.8
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.6
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.4
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	dcoppa_20110403:1.1.1.1
	dcoppa:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2015.07.10.17.30.30;	author dcoppa;	state Exp;
branches;
next	1.4;
commitid	HD9hazwsxzJoNgNO;

1.4
date	2015.06.12.09.50.42;	author dcoppa;	state Exp;
branches;
next	1.3;
commitid	ukZdYNNURvb4aoA3;

1.3
date	2014.01.17.10.18.42;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2011.10.30.16.05.35;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2011.04.03.12.04.47;	author dcoppa;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.04.03.12.04.47;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.5
log
@
Bugfixing update to umurmur-0.2.16a
@
text
@$OpenBSD: patch-src_channel_c,v 1.4 2015/06/12 09:50:42 dcoppa Exp $

commit c2eec4582ad6f5f759d8b9a3c7f9bf78aa59f656
Author: Felix Morgner <felix.morgner@@gmail.com>
Date:   Mon Jul 6 11:20:34 2015 +0200

Fixed mutiple possible null-pointer derefences

--- src/channel.c.orig	Sat Jun 20 00:58:46 2015
+++ src/channel.c	Fri Jul 10 19:01:06 2015
@@@@ -195,7 +195,7 @@@@ void Chan_init()
 
 	/* Channel links */
 	for (i = 0; ; i++) {
-		channel_t *ch_src, *ch_dst, *ch_itr = NULL;
+		channel_t *ch_src = NULL, *ch_dst = NULL, *ch_itr = NULL;
 		channellist_t *chl;
 		if (Conf_getNextChannelLink(&chlink, i) < 0) {
 			if (i == 0)
@@@@ -223,6 +223,8 @@@@ void Chan_init()
 			ch_dst = ch_itr;
 		
 		chl = malloc(sizeof(channellist_t));
+		if(!chl)
+			Log_fatal("Out of memory");
 		chl->chan = ch_dst;
 		init_list_entry(&chl->node);
 		list_add_tail(&chl->node, &ch_src->channel_links);
@@@@ -381,6 +383,8 @@@@ void Chan_buildTreeList(channel_t *ch, struct dlist *h
 	channel_t *sub;
 
 	chl = malloc(sizeof(channellist_t));
+	if(!chl)
+		Log_fatal("Out of memory");
 	chl->chan = ch;
 	init_list_entry(&chl->node);
 	list_add_tail(&chl->node, head);
@


1.4
log
@
Update to umurmur-0.2.16
@
text
@d1 10
a10 3
$OpenBSD: patch-src_channel_c,v 1.3 2014/01/17 10:18:42 dcoppa Exp $
--- src/channel.c.orig	Tue Apr  7 12:01:12 2015
+++ src/channel.c	Fri Jun 12 11:10:50 2015
d20 18
@


1.3
log
@Update to umurmur-0.2.14
@
text
@d1 3
a3 3
$OpenBSD: patch-src_channel_c,v 1.2 2011/10/30 16:05:35 dcoppa Exp $
--- src/channel.c.orig	Wed Jan  1 22:40:30 2014
+++ src/channel.c	Fri Jan 17 11:15:54 2014
d10 1
a12 1
 				Log_info("No channel links found in configuration file.");
@


1.2
log
@Update to umurmur-0.2.8

From maintainer Jonathon Sisson, with tweaks by me
@
text
@d1 4
a4 4
$OpenBSD: patch-src_channel_c,v 1.1.1.1 2011/04/03 12:04:47 dcoppa Exp $
--- src/channel.c.orig	Tue Oct 11 12:44:58 2011
+++ src/channel.c	Sun Oct 30 16:33:19 2011
@@@@ -192,7 +192,7 @@@@ void Chan_init()
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- src/channel.c.orig	Wed Mar 30 09:47:47 2011
+++ src/channel.c	Wed Mar 30 09:48:49 2011
@@@@ -187,7 +187,7 @@@@ void Chan_init()
@


1.1.1.1
log
@Import audio/umurmur, a minimalistic Mumble server implementation.

Initial port and manual pages by J Sisson.
Tweaked by myself and ajacoutot@@.

OK ajacoutot@@
@
text
@@
