head	1.2;
access;
symbols
	OPENBSD_5_2:1.1.0.18
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.16
	OPENBSD_5_0:1.1.0.14
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.12
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.10
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.8
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.6
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.4
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2012.09.07.06.19.19;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2008.04.16.02.10.21;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- Disable JACK as it was a means of having audio via a sound server
before sndio but akode has had sndio support for a long time now
- Mark SHARED_ONLY as akode is a set of plugins for KDE and the rest of
KDE is SHARED_ONLY too

from Brad
@
text
@$OpenBSD: patch-akode_plugins_jack_sink_jack_sink_cpp,v 1.1 2008/04/16 02:10:21 jakemsr Exp $
--- akode/plugins/jack_sink/jack_sink.cpp.orig	Mon Mar 24 03:18:18 2008
+++ akode/plugins/jack_sink/jack_sink.cpp	Mon Mar 24 03:54:26 2008
@@@@ -84,7 +84,7 @@@@ static int process (jack_nframes_t nframes, void *arg)
         m_data->pos++;
     }
 
-    return n;
+    return 0;
 }
 
 static void shutdown (void *arg)
@@@@ -147,13 +147,13 @@@@ int JACKSink::setAudioConfiguration(const AudioConfigu
 
     if (config->channel_config != MonoStereo ) return -1;
     m_data->left_port = jack_port_register (m_data->client, "left", JACK_DEFAULT_AUDIO_TYPE, JackPortIsOutput, 0);
-    if (jack_connect (m_data->client, jack_port_name (m_data->left_port), "alsa_pcm:playback_1")) {
+    if (jack_connect (m_data->client, jack_port_name (m_data->left_port), "system:playback_1")) {
         m_data->error = true;
         return -1;
     }
     if (config->channels > 1) {
         m_data->right_port = jack_port_register (m_data->client, "right", JACK_DEFAULT_AUDIO_TYPE, JackPortIsOutput, 0);
-        if (jack_connect (m_data->client, jack_port_name (m_data->right_port), "alsa_pcm:playback_2")) {
+        if (jack_connect (m_data->client, jack_port_name (m_data->right_port), "system:playback_2")) {
             m_data->config.channels = 1;
             res = 1;
         }
@


1.1
log
@- fix automatic resampling
- disable the libsamplerate resampler, it clips and is horribly
inefficient
- fix WANTLIB
- stop ffmpeg decoder from spamming stdout
- enable jack output
@
text
@d1 1
a1 1
$OpenBSD$
@

