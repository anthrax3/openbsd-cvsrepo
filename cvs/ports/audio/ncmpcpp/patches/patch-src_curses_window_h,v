head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2017.09.07.15.11.44;	author dcoppa;	state Exp;
branches;
next	1.1;
commitid	In6gnfeSCHPB1AKd;

1.1
date	2017.09.06.16.42.57;	author dcoppa;	state Exp;
branches;
next	;
commitid	UEPUIuMGE5okOy1s;


desc
@@


1.2
log
@
Add missing comment
@
text
@$OpenBSD: patch-src_curses_window_h,v 1.1 2017/09/06 16:42:57 dcoppa Exp $

Backout commit

---8<---
commit 6b73f0ebe1c05cb2b3b6973662e7b6c95eba4530
Author: Andrzej Rybczak <electricityispower@@gmail.com>
Date:   Mon Nov 14 01:18:06 2016

    window: prevent ncurses from defining macros
---8<---

to fix a problem with text being "invisible" when typing in any
prompt

Index: src/curses/window.h
--- src/curses/window.h.orig
+++ src/curses/window.h
@@@@ -21,8 +21,6 @@@@
 #ifndef NCMPCPP_WINDOW_H
 #define NCMPCPP_WINDOW_H
 
-#define NCURSES_NOMACROS 1
-
 #include "config.h"
 
 #include "curses.h"
@@@@ -40,6 +38,9 @@@@
 #if NCURSES_MOUSE_VERSION == 1
 # define BUTTON5_PRESSED (1U << 27)
 #endif // NCURSES_MOUSE_VERSION == 1
+
+// undefine macro with colliding name
+#undef scroll
 
 /// NC namespace provides set of easy-to-use
 /// wrappers over original curses library.
@


1.1
log
@
- cleanup CPPFLAGS
- remove no longer necessary 'CXXFLAGS += -O1' hack
- unbreak user input in the Find prompts
@
text
@d1 14
a14 1
$OpenBSD$
@

