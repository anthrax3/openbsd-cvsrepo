head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2015.07.06.06.04.57;	author dcoppa;	state dead;
branches;
next	1.1;
commitid	vhkHzVIK0Z2IZapT;

1.1
date	2015.06.19.16.23.33;	author dcoppa;	state Exp;
branches;
next	;
commitid	i7FsZbeWIeuLfNOM;


desc
@@


1.2
log
@
Update to ncmpcpp-0.6.5
@
text
@$OpenBSD: patch-src_song_cpp,v 1.1 2015/06/19 16:23:33 dcoppa Exp $

commit a3d536b4228637067df9697c11bcf3434883a943
Author: Andrzej Rybczak <electricityispower@@gmail.com>
Date:   Sat Jun 13 20:43:36 2015 +0200

song: show name if it's available

--- src/song.cpp.orig	Sat May  2 21:16:11 2015
+++ src/song.cpp	Fri Jun 19 16:31:47 2015
@@@@ -74,7 +74,9 @@@@ std::string Song::getName(unsigned idx) const
 	assert(m_song);
 	mpd_song *s = m_song.get();
 	const char *res = mpd_song_get_tag(s, MPD_TAG_NAME, idx);
-	if (!res && idx > 0)
+	if (res)
+		return res;
+	else if (idx > 0)
 		return "";
 	const char *uri = mpd_song_get_uri(s);
 	const char *name = strrchr(uri, '/');
@


1.1
log
@
Merge several fixes from the '0.6.x' stable branch:

help: correct a typo
(git commit 8a5a0078e9a08f1d792299521da7482a99aba8b6)

actions: respect regular expression config when searching in text
fields
(git commit aa8c47d5782664b7d9786e1195f7950e29ee9a21)

tag editor: when numbering tracks, discard other track tags if
present
(git commit 4d4b7c542fed615cf8699e093fa8b31eacc9f7ce)

tags: remove xiph tag DESCRIPTION as it's parsed as COMMENT by MPD
(git commit d54de65990dbe852762e5292c5b27186d16fcc02)

lastfm: use sink argument and fix possible usage of m_service after
delete
(git commit 20a4e486cc36e40afc202e3794772e402b1d3c0f)

song: show name if it's available
(git commit a3d536b4228637067df9697c11bcf3434883a943)

status: fix assertion failure on window resize without active mpd
connection
(git commit 310d280cef4cc93738412efbd80ada4322df9d17)
@
text
@d1 1
a1 1
$OpenBSD$
@

