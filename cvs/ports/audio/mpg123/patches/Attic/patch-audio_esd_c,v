head	1.3;
access;
symbols
	OPENBSD_4_4:1.2.0.18
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.16
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.14
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.12
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.10
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.8
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.6
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.4
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.2
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.1.0.14
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.12
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.10
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.8
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.6
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.4
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1
	OPENBSD_2_9:1.1.0.2
	OPENBSD_2_9_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2008.11.11.20.35.49;	author naddy;	state dead;
branches;
next	1.2;

1.2
date	2004.04.20.01.45.30;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2001.04.24.00.48.12;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.3
log
@From scratch newly created port of mpg123 1.6.1 with sndio backend.
Help from ratchov@@, tested by many, ok sthen@@
@
text
@$OpenBSD: patch-audio_esd_c,v 1.2 2004/04/20 01:45:30 jolan Exp $
--- audio_esd.c.orig	1999-05-28 10:06:29.000000000 -0500
+++ audio_esd.c	2004-04-19 11:15:34.000000000 -0500
@@@@ -75,7 +75,7 @@@@ int audio_open(struct audio_info_struct 
   else if (ai->rate > esd_rate)
     return -1;
 
-  ai->fn = esd_play_stream_fallback(format, ai->rate, esdserver, "mpg123");
+  ai->fn = esd_play_stream_fallback(format, ai->rate, NULL, "mpg123");
   return (ai->fn);
 }
 
@@@@ -127,17 +127,7 @@@@ int audio_close(struct audio_info_struct
   return 0;
 }
 
-#ifdef SOLARIS
 void audio_queueflush (struct audio_info_struct *ai)
 {
-        ioctl (ai->fn, I_FLUSH, FLUSHRW);
+  return;
 }
-#endif
-
-#ifdef NETBSD
-void audio_queueflush (struct audio_info_struct *ai)
-{
-        ioctl (ai->fn, AUDIO_FLUSH, 0);
-}
-#endif
-
@


1.2
log
@- sync w/update-patches
- respect CFLAGS
- let this at least compile on hppa
@
text
@d1 1
a1 1
$OpenBSD: patch-audio_esd_c,v 1.1 2001/04/24 00:48:12 naddy Exp $
@


1.1
log
@- cleanup, better CFLAGS/COPTS handling
- add esd flavor
- don't clobber xterm title
no response from maintainer; ok espie@@
@
text
@d1 3
a3 3
$OpenBSD$
--- audio_esd.c.orig	Fri May 28 17:06:29 1999
+++ audio_esd.c	Sun Apr 15 00:22:08 2001
d21 2
a22 1
-}
d29 1
a29 2
+  return;
 }
@

