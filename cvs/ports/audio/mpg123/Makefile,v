head	1.86;
access;
symbols
	OPENBSD_6_0:1.84.0.2
	OPENBSD_6_0_BASE:1.84
	OPENBSD_5_9:1.80.0.2
	OPENBSD_5_9_BASE:1.80
	OPENBSD_5_8:1.79.0.4
	OPENBSD_5_8_BASE:1.79
	OPENBSD_5_7:1.76.0.2
	OPENBSD_5_7_BASE:1.76
	OPENBSD_5_6:1.73.0.2
	OPENBSD_5_6_BASE:1.73
	OPENBSD_5_5:1.72.0.2
	OPENBSD_5_5_BASE:1.72
	OPENBSD_5_4:1.70.0.2
	OPENBSD_5_4_BASE:1.70
	OPENBSD_5_3:1.64.0.2
	OPENBSD_5_3_BASE:1.64
	OPENBSD_5_2:1.62.0.2
	OPENBSD_5_2_BASE:1.62
	OPENBSD_5_1_BASE:1.56
	OPENBSD_5_1:1.56.0.2
	OPENBSD_5_0:1.55.0.4
	OPENBSD_5_0_BASE:1.55
	OPENBSD_4_9:1.55.0.2
	OPENBSD_4_9_BASE:1.55
	OPENBSD_4_8:1.48.0.2
	OPENBSD_4_8_BASE:1.48
	OPENBSD_4_7:1.45.0.2
	OPENBSD_4_7_BASE:1.45
	OPENBSD_4_6:1.42.0.2
	OPENBSD_4_6_BASE:1.42
	OPENBSD_4_5:1.41.0.2
	OPENBSD_4_5_BASE:1.41
	OPENBSD_4_4:1.38.0.4
	OPENBSD_4_4_BASE:1.38
	OPENBSD_4_3:1.38.0.2
	OPENBSD_4_3_BASE:1.38
	OPENBSD_4_2:1.37.0.6
	OPENBSD_4_2_BASE:1.37
	OPENBSD_4_1:1.37.0.4
	OPENBSD_4_1_BASE:1.37
	OPENBSD_4_0:1.37.0.2
	OPENBSD_4_0_BASE:1.37
	OPENBSD_3_9:1.35.0.4
	OPENBSD_3_9_BASE:1.35
	OPENBSD_3_8:1.35.0.2
	OPENBSD_3_8_BASE:1.35
	OPENBSD_3_7:1.34.0.2
	OPENBSD_3_7_BASE:1.34
	OPENBSD_3_6:1.32.0.2
	OPENBSD_3_6_BASE:1.32
	OPENBSD_3_5:1.30.0.2
	OPENBSD_3_5_BASE:1.30
	OPENBSD_3_4:1.29.0.2
	OPENBSD_3_4_BASE:1.29
	OPENBSD_3_3:1.27.0.2
	OPENBSD_3_3_BASE:1.27
	OPENBSD_3_2:1.26.0.4
	OPENBSD_3_2_BASE:1.26
	OPENBSD_3_1:1.26.0.2
	OPENBSD_3_1_BASE:1.26
	OPENBSD_3_0:1.23.0.2
	OPENBSD_3_0_BASE:1.23
	OPENBSD_2_9_TRACKING_SWITCH:1.23
	OPENBSD_2_9:1.22.0.2
	OPENBSD_2_9_BASE:1.22
	OPENBSD_2_8:1.20.0.2
	OPENBSD_2_8_BASE:1.20
	OPENBSD_2_7:1.16.0.2
	OPENBSD_2_7_BASE:1.16
	OPENBSD_2_6:1.7.0.2
	OPENBSD_2_6_BASE:1.7
	OPENBSD_2_5:1.5.0.2
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	niels_28041998:1.1.1.1
	mpg123:1.1.1;
locks; strict;
comment	@# @;


1.86
date	2016.11.01.12.27.07;	author naddy;	state Exp;
branches;
next	1.85;
commitid	prQzRd3SYJ8Ih8iK;

1.85
date	2016.07.30.20.48.01;	author naddy;	state Exp;
branches;
next	1.84;
commitid	tNDx0ZbQgC4e8xAl;

1.84
date	2016.05.14.15.17.59;	author naddy;	state Exp;
branches
	1.84.2.1;
next	1.83;
commitid	jUEvh1WSuGXy448N;

1.83
date	2016.03.28.14.50.12;	author naddy;	state Exp;
branches;
next	1.82;
commitid	GY1SuYvVXDi8TNjY;

1.82
date	2016.03.13.22.42.27;	author naddy;	state Exp;
branches;
next	1.81;
commitid	oJ290a9LMt8BLZBC;

1.81
date	2016.03.11.20.11.39;	author naddy;	state Exp;
branches;
next	1.80;
commitid	jMs3AJibPCpqbdky;

1.80
date	2015.08.13.19.09.14;	author naddy;	state Exp;
branches
	1.80.2.1;
next	1.79;
commitid	Zah6gmdIkhJmXyah;

1.79
date	2015.06.13.20.25.07;	author naddy;	state Exp;
branches;
next	1.78;
commitid	n9nfNChXuG03vd1R;

1.78
date	2015.04.03.15.29.05;	author naddy;	state Exp;
branches;
next	1.77;
commitid	QIduvICbfUry6O4N;

1.77
date	2015.03.18.11.58.00;	author naddy;	state Exp;
branches;
next	1.76;
commitid	Ma1KVwL0nrX6ZF4d;

1.76
date	2015.02.09.13.02.29;	author naddy;	state Exp;
branches;
next	1.75;
commitid	8sc714jlJgD1qDxA;

1.75
date	2014.10.16.19.49.02;	author naddy;	state Exp;
branches;
next	1.74;
commitid	BAL840U59LNWRjGz;

1.74
date	2014.09.23.14.14.34;	author naddy;	state Exp;
branches;
next	1.73;
commitid	SZGVuL6GlP87g4Lg;

1.73
date	2014.05.27.21.58.33;	author naddy;	state Exp;
branches;
next	1.72;

1.72
date	2014.01.03.20.47.01;	author naddy;	state Exp;
branches;
next	1.71;

1.71
date	2013.10.13.21.13.03;	author naddy;	state Exp;
branches;
next	1.70;

1.70
date	2013.05.24.15.50.51;	author naddy;	state Exp;
branches;
next	1.69;

1.69
date	2013.04.04.19.57.23;	author naddy;	state Exp;
branches;
next	1.68;

1.68
date	2013.03.25.12.23.41;	author naddy;	state Exp;
branches;
next	1.67;

1.67
date	2013.03.22.16.31.36;	author naddy;	state Exp;
branches;
next	1.66;

1.66
date	2013.03.21.08.45.12;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2013.03.10.22.55.04;	author espie;	state Exp;
branches;
next	1.64;

1.64
date	2012.12.31.16.47.38;	author naddy;	state Exp;
branches;
next	1.63;

1.63
date	2012.08.04.17.38.56;	author naddy;	state Exp;
branches;
next	1.62;

1.62
date	2012.05.13.20.12.17;	author naddy;	state Exp;
branches;
next	1.61;

1.61
date	2012.05.02.19.58.16;	author naddy;	state Exp;
branches;
next	1.60;

1.60
date	2012.04.04.11.32.58;	author naddy;	state Exp;
branches;
next	1.59;

1.59
date	2012.03.29.13.38.13;	author sthen;	state Exp;
branches;
next	1.58;

1.58
date	2012.03.13.22.21.16;	author naddy;	state Exp;
branches;
next	1.57;

1.57
date	2012.03.08.18.05.43;	author naddy;	state Exp;
branches;
next	1.56;

1.56
date	2011.09.16.17.36.48;	author naddy;	state Exp;
branches;
next	1.55;

1.55
date	2011.01.12.21.39.27;	author naddy;	state Exp;
branches;
next	1.54;

1.54
date	2010.12.25.20.51.06;	author naddy;	state Exp;
branches;
next	1.53;

1.53
date	2010.11.15.00.22.47;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2010.10.18.16.52.45;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2010.10.10.18.28.00;	author naddy;	state Exp;
branches;
next	1.50;

1.50
date	2010.09.26.13.40.11;	author naddy;	state Exp;
branches;
next	1.49;

1.49
date	2010.09.23.19.15.51;	author naddy;	state Exp;
branches;
next	1.48;

1.48
date	2010.07.13.16.39.55;	author naddy;	state Exp;
branches;
next	1.47;

1.47
date	2010.04.01.19.00.59;	author naddy;	state Exp;
branches;
next	1.46;

1.46
date	2010.03.22.20.13.39;	author naddy;	state Exp;
branches;
next	1.45;

1.45
date	2009.12.07.17.05.23;	author naddy;	state Exp;
branches;
next	1.44;

1.44
date	2009.11.22.20.21.27;	author naddy;	state Exp;
branches;
next	1.43;

1.43
date	2009.10.12.23.45.21;	author naddy;	state Exp;
branches;
next	1.42;

1.42
date	2009.04.28.19.07.26;	author naddy;	state Exp;
branches;
next	1.41;

1.41
date	2009.01.11.17.36.34;	author naddy;	state Exp;
branches;
next	1.40;

1.40
date	2008.12.22.20.55.49;	author naddy;	state Exp;
branches;
next	1.39;

1.39
date	2008.11.11.20.35.48;	author naddy;	state Exp;
branches;
next	1.38;

1.38
date	2007.09.15.21.26.02;	author simon;	state Exp;
branches;
next	1.37;

1.37
date	2006.08.01.12.13.28;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2006.05.29.19.34.59;	author bernd;	state Exp;
branches;
next	1.35;

1.35
date	2005.08.04.22.04.23;	author robert;	state Exp;
branches
	1.35.2.1
	1.35.4.1;
next	1.34;

1.34
date	2004.11.21.17.51.46;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2004.09.15.20.38.07;	author brad;	state Exp;
branches;
next	1.32;

1.32
date	2004.06.19.23.37.41;	author jolan;	state Exp;
branches;
next	1.31;

1.31
date	2004.04.20.01.45.30;	author jolan;	state Exp;
branches;
next	1.30;

1.30
date	2003.11.13.20.51.50;	author margarida;	state Exp;
branches
	1.30.2.1;
next	1.29;

1.29
date	2003.07.21.20.24.42;	author pvalchev;	state Exp;
branches
	1.29.2.1;
next	1.28;

1.28
date	2003.07.17.23.58.33;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	2002.10.24.22.20.03;	author naddy;	state Exp;
branches
	1.27.2.1;
next	1.26;

1.26
date	2002.03.29.23.29.55;	author pvalchev;	state Exp;
branches
	1.26.4.1;
next	1.25;

1.25
date	2002.03.21.20.35.42;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2001.10.24.21.32.12;	author heko;	state Exp;
branches;
next	1.23;

1.23
date	2001.05.22.11.18.26;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2001.04.24.00.48.12;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2001.04.13.03.24.12;	author obecian;	state Exp;
branches;
next	1.20;

1.20
date	2000.10.22.14.02.53;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2000.08.02.10.33.24;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2000.06.11.17.26.25;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2000.06.10.17.39.18;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2000.03.24.22.11.35;	author espie;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2000.03.20.06.51.48;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.03.11.01.09.01;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.03.03.02.21.54;	author ho;	state Exp;
branches;
next	1.12;

1.12
date	2000.02.23.17.28.06;	author ho;	state Exp;
branches;
next	1.11;

1.11
date	2000.02.18.20.18.00;	author ho;	state Exp;
branches;
next	1.10;

1.10
date	2000.01.12.15.47.13;	author ho;	state Exp;
branches;
next	1.9;

1.9
date	99.12.01.16.22.01;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	99.12.01.15.26.59;	author ho;	state Exp;
branches;
next	1.7;

1.7
date	99.09.07.14.55.21;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.08.17.15.51.21;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	99.03.23.21.33.49;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	99.03.05.14.26.57;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	98.10.09.00.25.27;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.10.06.23.18.44;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.04.28.11.29.58;	author provos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.04.28.11.29.58;	author provos;	state Exp;
branches;
next	;

1.16.2.1
date	2000.09.15.04.42.46;	author marc;	state Exp;
branches;
next	;

1.26.4.1
date	2003.07.18.00.27.53;	author brad;	state Exp;
branches;
next	;

1.27.2.1
date	2003.07.18.00.25.20;	author brad;	state Exp;
branches;
next	1.27.2.2;

1.27.2.2
date	2003.11.13.20.55.52;	author margarida;	state Exp;
branches;
next	;

1.29.2.1
date	2003.11.13.20.53.25;	author margarida;	state Exp;
branches;
next	1.29.2.2;

1.29.2.2
date	2004.09.09.19.55.22;	author robert;	state Exp;
branches;
next	;

1.30.2.1
date	2004.09.09.19.54.34;	author robert;	state Exp;
branches;
next	;

1.35.2.1
date	2006.06.01.16.14.02;	author sturm;	state Exp;
branches;
next	;

1.35.4.1
date	2006.06.01.16.13.45;	author sturm;	state Exp;
branches;
next	;

1.80.2.1
date	2016.11.04.15.48.13;	author naddy;	state Exp;
branches;
next	;
commitid	EJqdBBfHScpPp8ri;

1.84.2.1
date	2016.11.01.13.40.17;	author naddy;	state Exp;
branches;
next	;
commitid	6qnoZQYyg7vtXCgO;


desc
@@


1.86
log
@Security update to 1.23.8:
Fix an out-of-bounds memory read in the ID3v2 parser for tags that claim an
unrealistically small length.
@
text
@# $OpenBSD: Makefile,v 1.85 2016/07/30 20:48:01 naddy Exp $

COMMENT=	fast console MPEG audio player and decoder library

DISTNAME=	mpg123-1.23.8
SHARED_LIBS=	mpg123		6.0	# 42.2
SHARED_LIBS+=	out123		0.1	# 1.4
CATEGORIES=	audio
HOMEPAGE=	http://www.mpg123.de/

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>

# LGPL 2.1
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=mpg123/} \
		http://www.mpg123.de/download/
EXTRACT_SUFX=	.tar.bz2

WANTLIB=	c ltdl m sndio
LIB_DEPENDS=	devel/libtool,-ltdl

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--enable-static \
		--disable-lfs-alias \
		--with-audio=sndio \
		--with-module-suffix=.so \
		--with-optimization=0
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
MODGNU_CONFIG_GUESS_DIRS=${WRKSRC}/build

.if   ${MACHINE_ARCH} == "amd64"
# no support for AVX instructions in as(1)
USE_GMAKE=	Yes
BUILD_DEPENDS+=	devel/yasm

.elif ${MACHINE_ARCH} == "arm"
CONFIGURE_ARGS+=--with-cpu=arm_nofpu

.endif

# Do not build static modules
pre-patch:
	@@cd ${WRKSRC}; mv Makefile.in Makefile.in.bak; sed '\
	    /^src_libout123_modules_.*_la_LINK =/ { \
		N; s/\$$(LIBTOOLFLAGS)/& --tag=disable-static/; \
	    }' Makefile.in.bak >Makefile.in

.include <bsd.port.mk>
@


1.85
log
@update to 1.23.6 for minor regression fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2016/05/14 15:17:59 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.23.6
@


1.84
log
@update to 1.23.4 for a number of bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2016/03/28 14:50:12 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.23.4
d7 1
a7 1
SHARED_LIBS+=	out123		0.0	# 1.3
@


1.84.2.1
log
@Security update to 1.23.8:
Fix an out-of-bounds memory read in the ID3v2 parser for tags that claim an
unrealistically small length.
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	mpg123-1.23.8
d7 1
a7 1
SHARED_LIBS+=	out123		0.1	# 1.4
@


1.83
log
@maintenance update to 1.23.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2016/03/13 22:42:27 naddy Exp $
d5 3
a7 3
DISTNAME=	mpg123-1.23.3
SHARED_LIBS=	mpg123		6.0	# 42.1
SHARED_LIBS+=	out123		0.0	# 1.1
a22 1
SEPARATE_BUILD=	Yes
@


1.82
log
@Update to 1.23.2.
Significant changes include automatic enabling of control keys on ttys
and the addition of libout123.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2016/03/11 20:11:39 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.23.2
SHARED_LIBS=	mpg123		6.0	# 42.0
@


1.81
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2015/08/13 19:09:14 naddy Exp $
d5 3
a7 2
DISTNAME=	mpg123-1.22.4
SHARED_LIBS=	mpg123		5.0	# 41.0
d43 7
@


1.80
log
@maintenance update to 1.22.4 for minor bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2015/06/13 20:25:07 naddy Exp $
d24 1
a24 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED} --enable-static \
@


1.80.2.1
log
@Fix an out-of-bounds memory read in the ID3v2 parser for tags that claim an
unrealistically small length.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2015/08/13 19:09:14 naddy Exp $
a5 1
REVISION=	0
@


1.79
log
@maintenance update to 1.22.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2015/04/03 15:29:05 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.22.2
@


1.78
log
@maintenance update to 1.22.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2015/03/18 11:58:00 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.22.1
@


1.77
log
@maintenance update to 1.22.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2015/02/09 13:02:29 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.22.0
@


1.76
log
@enable building the AVX decoder on amd64; ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2014/10/16 19:49:02 naddy Exp $
d5 2
a6 3
DISTNAME=	mpg123-1.21.0
REVISION=	0
SHARED_LIBS=	mpg123		4.0	# 40.3
@


1.75
log
@maintenance update to 1.21.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2014/09/23 14:14:34 naddy Exp $
d6 1
d35 3
a37 5
## no support for AVX instructions in as(1)
#USE_GMAKE=	Yes
#BUILD_DEPENDS+=	devel/yasm
## no kernel support for AVX
CONFIGURE_ENV+=	YASM=no
@


1.74
log
@maintenance update to 1.20.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2014/05/27 21:58:33 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.20.1
@


1.73
log
@Update to 1.20.0.  Fixes numerous bugs and adds new binary out123
only with the audio output part of mpg123.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2014/01/03 20:47:01 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.20.0
@


1.72
log
@maintenance update to 1.17.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2013/10/13 21:13:03 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.17.0
SHARED_LIBS=	mpg123		3.1	# 38.4
@


1.71
log
@Update to 1.16.0:
* added mpg123-id3dump to extract meta data
* added mpg123-strip to strip dirt out of MPEG streams
* various internal improvements

amd64: AVX decoder not enabled since there is no kernel support yet.

feedback and ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2013/05/24 15:50:51 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.16.0
@


1.70
log
@update to 1.15.4: "It fixes some illustrous bugs"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/04/04 19:57:23 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.15.4
SHARED_LIBS=	mpg123		3.1	# 37.5
d33 8
a40 1
.if ${MACHINE_ARCH} == "arm"
d42 1
@


1.69
log
@update to 1.15.3, which claims to fix corner cases of WAV writing, again
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/03/25 12:23:41 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.15.3
SHARED_LIBS=	mpg123		3.1	# 37.1
@


1.68
log
@update to 1.15.2 (posix-ify configure script, no code changes) and
add fallback master site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/03/22 16:31:36 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.15.2
@


1.67
log
@maintenance update to 1.15.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/03/21 08:45:12 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.15.1
d15 2
a16 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=mpg123/}
@


1.66
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/03/10 22:55:04 espie Exp $
d5 2
a6 3
DISTNAME=	mpg123-1.14.4
REVISION=	0
SHARED_LIBS=	mpg123		3.0	# .36.6
@


1.65
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2012/12/31 16:47:38 naddy Exp $
a21 1
USE_LIBTOOL=	Yes
@


1.64
log
@don't build useless static equivalents of modules
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2012/08/04 17:38:56 naddy Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.63
log
@update to 1.14.4 for some minor bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2012/05/13 20:12:17 naddy Exp $
d6 1
@


1.62
log
@update to 1.14.2 for minor bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2012/05/02 19:58:16 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.14.2
SHARED_LIBS=	mpg123		3.0	# .36.3
@


1.61
log
@maintenance update to 1.14.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/04/04 11:32:58 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.14.0
SHARED_LIBS=	mpg123		3.0	# .36.2
@


1.60
log
@maintenance update to 1.13.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2012/03/29 13:38:13 sthen Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.13.7
SHARED_LIBS=	mpg123		2.3	# .29.9
@


1.59
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2012/03/13 22:21:16 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.13.6
SHARED_LIBS=	mpg123		2.3	# .29.8
@


1.58
log
@maintenance update to 1.13.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2012/03/08 18:05:43 naddy Exp $
d25 1
a25 1
SEPARATE_BUILD=	simple
@


1.57
log
@maintenance update to 1.13.5 for some minor bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/09/16 17:36:48 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.13.5
SHARED_LIBS=	mpg123		2.3	# .29.7
@


1.56
log
@maintenance update to 1.13.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/01/12 21:39:27 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.13.4
SHARED_LIBS=	mpg123		2.3	# .29.0
@


1.55
log
@tiny bugfix update to 1.13.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/12/25 20:51:06 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.13.1
@


1.54
log
@maintenance update to 1.13.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/11/15 00:22:47 espie Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.13.0
@


1.53
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/10/18 16:52:45 espie Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.12.5
SHARED_LIBS=	mpg123	2.2	# .25.0
a24 1
USE_GROFF =	Yes
d30 1
@


1.52
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/10/10 18:28:00 naddy Exp $
d22 1
a22 1
LIB_DEPENDS=	::devel/libtool,-ltdl
@


1.51
log
@Update to 1.12.5:
Fix a buffer overflow issue in the mpg123 frontend application when
printing ID3 data in non-UTF-8 environments.  This was introduced
in version 1.12.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/09/26 13:40:11 naddy Exp $
d25 1
@


1.50
log
@remove -Lxxx/.libs workarounds required with GNU libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/09/23 19:15:51 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.12.4
@


1.49
log
@update to 1.12.4: bugfix release that improves printout of metadata
(ID3) in UTF-8 terminals
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/07/13 16:39:55 naddy Exp $
d32 1
a32 1
		LDFLAGS="-L${WRKBUILD}/src/libmpg123/.libs -L${LOCALBASE}/lib"
@


1.48
log
@update to 1.12.3 for some bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/04/01 19:00:59 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.12.3
@


1.47
log
@maintenance update to 1.12.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/03/22 20:13:39 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.12.0
d21 2
a22 2
WANTLIB=	c m sndio
LIB_DEPENDS=	ltdl::devel/libtool,-ltdl
d28 1
@


1.46
log
@maintenance update to 1.11.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/12/07 17:05:23 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.11.0
SHARED_LIBS=	mpg123	2.1	# .23.0
@


1.45
log
@maintenance update to 1.10.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/11/22 20:21:27 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.10.0
SHARED_LIBS=	mpg123	2.1	# .22.1
@


1.44
log
@* update to 1.9.2
* fix after ltdl change: do not depend on the current directory
  being in the default module search path.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/10/12 23:45:21 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.9.2
SHARED_LIBS=	mpg123	2.0	# .20.3
@


1.43
log
@update to 1.9.1: new optimized amd64 and arm decoders
ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2009/04/28 19:07:26 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.9.1
SHARED_LIBS=	mpg123	2.0	# .20.2
@


1.42
log
@update to 1.7.3; 32-bit audio is now supported
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/01/11 17:36:34 naddy Exp $
d3 1
a3 1
COMMENT=	MPEG-1/2 audio layer 1, 2, and 3 player
d5 2
a6 2
DISTNAME=	mpg123-1.7.3
SHARED_LIBS=	mpg123	1.0	# .14.4
d34 2
a35 6
.if   ${MACHINE_ARCH} == "arm"
CONFIGURE_ARGS+=--with-cpu=generic_nofpu
.elif ${MACHINE_ARCH} == "i386"
CONFIGURE_ARGS+=--with-cpu=x86
.else
CONFIGURE_ARGS+=--with-cpu=generic_fpu
@


1.41
log
@update to 1.6.4, which fixes a resampling bug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2008/12/22 20:55:49 naddy Exp $
d5 2
a6 2
DISTNAME=	mpg123-1.6.4
SHARED_LIBS=	mpg123	0.1	# .11.3
d19 1
d25 2
a26 3
AUTOCONF_VERSION=2.62
AUTOMAKE_VERSION=1.9
CONFIGURE_STYLE=autoconf automake
a40 14

post-extract:
	@@cp ${FILESDIR}/sndio.c ${WRKSRC}/src/output

AUTO_ENV=	AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION}

post-patch:
	@@echo "Running aclocal-${AUTOMAKE_VERSION} in ${WRKSRC}"
	@@cd ${WRKSRC}; ${AUTO_ENV} aclocal

pre-configure:
	@@echo "Running automake-${AUTOMAKE_VERSION} in ${WRKSRC}"
	@@cd ${WRKSRC}; ${AUTO_ENV} automake --foreign
@


1.40
log
@maintenance update to 1.6.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2008/11/11 20:35:48 naddy Exp $
d5 1
a5 1
DISTNAME=	mpg123-1.6.3
@


1.39
log
@From scratch newly created port of mpg123 1.6.1 with sndio backend.
Help from ratchov@@, tested by many, ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD$
d5 2
a6 2
DISTNAME=	mpg123-1.6.1
SHARED_LIBS=	mpg123	0.0	# .11.2
d31 1
a31 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.38
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2006/08/01 12:13:28 espie Exp $
d3 1
a3 2
# mpg123 is unusable without FPU
NOT_FOR_ARCHS=	arm
d5 2
a6 4
COMMENT=	mpeg audio 1/2 layer 1, 2 and 3 player

DISTNAME=	mpg123-0.59r
PKGNAME=	${DISTNAME}p4
d10 4
a13 2
# Long, unclear license in ${WRKSRC}/COPYING.
PERMIT_PACKAGE_CDROM=	No
d15 1
a15 1
PERMIT_DISTFILES_CDROM=	No
a16 1
WANTLIB=		c m
d18 20
a37 16
MASTER_SITES=	http://www.mpg123.de/mpg123/ \
		http://www-ti.informatik.uni-tuebingen.de/~hippm/mpg123/ \
		ftp://ftp.tu-clausthal.de/pub/unix/audio/mpg123/ \
		http://ftp.tu-clausthal.de/pub/unix/audio/mpg123
MASTER_SITES0=	ftp://ftp.kame.net/pub/kame/misc/

PATCHFILES=	mpg123-059r-v6-20000713b.diff.gz:0
PATCH_DIST_STRIP= -p1

FLAVORS=	esd
FLAVOR?=

.if ${FLAVOR:L:Mesd}
LIB_DEPENDS=	esd.>=2::audio/esound
ALL_TARGET=	openbsd-esd
WANTLIB+=	audiofile
d39 1
a39 1
ALL_TARGET=	openbsd
d42 5
a46 1
MAKE_FLAGS=	CC='${CC}'
d49 2
a50 5
	@@cp ${FILESDIR}/audio_openbsd.c ${FILESDIR}/term.c ${WRKSRC}

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/mpg123
	${INSTALL_DATA} ${WRKSRC}/COPYING ${PREFIX}/share/mpg123
d52 3
a54 1
NO_REGRESS=	Yes
@


1.37
log
@new-style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2006/05/29 19:34:59 bernd Exp $
d6 1
a6 1
COMMENT=	"mpeg audio 1/2 layer 1, 2 and 3 player"
@


1.36
log
@Fix a buffer overflow when processing MPEG 2.0 layer 3 files. (CVE-2006-1655)

More information:

http://secunia.com/advisories/20240/

diff from NetBSD pkgsrc

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2005/08/04 22:04:23 robert Exp $
d33 1
a33 1
LIB_DEPENDS=	esd.2::audio/esound
@


1.35
log
@Add the arm to NOT_FOR_ARCHS because mpg123 is quiet unusable
without an FPU. People should use mpg321 instead, or mplayer with the
mad flavor.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2004/11/21 17:51:46 espie Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p3
@


1.35.2.1
log
@MFC:
Fix a buffer overflow when processing MPEG 2.0 layer 3 files. (CVE-2006-1655)

More information:

http://secunia.com/advisories/20240/

diff from NetBSD pkgsrc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2005/08/04 22:04:23 robert Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p4
@


1.35.4.1
log
@MFC:
Fix a buffer overflow when processing MPEG 2.0 layer 3 files. (CVE-2006-1655)

More information:

http://secunia.com/advisories/20240/

diff from NetBSD pkgsrc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2005/08/04 22:04:23 robert Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p4
@


1.34
log
@WANTLIB markers
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.33 2004/09/15 20:38:07 brad Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p2
@


1.33
log
@it's stupid to download a separate diff (l3.diff.gz) to fix mpg123 on alpha
and then modify most of it locally to work on other 64-bit archs so just
merge this tiny diff into patch-layer3_c
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/06/19 23:37:41 jolan Exp $
d15 1
d32 1
@


1.32
log
@remove hppa gcc2 optimization workaround
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2004/04/20 01:45:30 jolan Exp $
a20 1
MASTER_SITES1=	http://www.unix-ag.org/Linux-Alpha/Packages/
d22 1
a22 2
PATCHFILES=	mpg123-059r-v6-20000713b.diff.gz:0 \
		l3.diff.gz:1
@


1.31
log
@- sync w/update-patches
- respect CFLAGS
- let this at least compile on hppa
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2003/11/13 20:51:50 margarida Exp $
a25 4

.if ${MACHINE_ARCH:L:Mhppa}
CFLAGS+=-O1	# XXX compiler bugs
.endif
@


1.30
log
@Security fix:
A problem in the handling of some types of remote files has been reported
in mpg123. Because of this, it may be possible for a remote attacker to
execute arbitrary code with the privileges of the mpg123 user.

ok naddy@@ jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2003/07/21 20:24:42 pvalchev Exp $
d26 4
@


1.30.2.1
log
@SECURITY:
fix buffer overflow, can allow arbitrary code execution by playing an mp3
with specially crafted header; "Davide Del Vecchio" <dante@@alighieri.org>

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2003/11/13 20:51:50 margarida Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.29
log
@sparc64 is 64bit too, let it use code meant for alpha as well (int vs long)
fixes playing issues; found by jason@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2003/07/17 23:58:33 brad Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.29.2.1
log
@Security fix:
A problem in the handling of some types of remote files has been reported
in mpg123. Because of this, it may be possible for a remote attacker to
execute arbitrary code with the privileges of the mpg123 user.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2003/07/21 20:24:42 pvalchev Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.29.2.2
log
@SECURITY:
fix buffer overflow, can allow arbitrary code execution by playing an mp3
with specially crafted header; "Davide Del Vecchio" <dante@@alighieri.org>

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29.2.1 2003/11/13 20:53:25 margarida Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.28
log
@A vulnerability in the way mpg123 handles MP3 files with a bitrate
of zero may allow attackers to execute arbitrary code using a
specially crafted MP3 file.

http://marc.theaimsgroup.com/?l=bugtraq&m=104274357314340&w=2
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.27 2002/10/24 22:20:03 naddy Exp $

NOT_FOR_ARCHS=	sparc64
@


1.27
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2002/03/29 23:29:55 pvalchev Exp $
d8 1
@


1.27.2.1
log
@A vulnerability in the way mpg123 handles MP3 files with a bitrate
of zero may allow attackers to execute arbitrary code using a
specially crafted MP3 file.

http://marc.theaimsgroup.com/?l=bugtraq&m=104274357314340&w=2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2002/10/24 22:20:03 naddy Exp $
a7 1
PKGNAME=	${DISTNAME}p1
@


1.27.2.2
log
@Security fix:
A problem in the handling of some types of remote files has been reported
in mpg123. Because of this, it may be possible for a remote attacker to
execute arbitrary code with the privileges of the mpg123 user.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27.2.1 2003/07/18 00:25:20 brad Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p2
@


1.26
log
@not for sparc64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/03/21 20:35:42 espie Exp $
a8 1
NEED_VERSION=	1.515
d46 2
@


1.26.4.1
log
@A vulnerability in the way mpg123 handles MP3 files with a bitrate
of zero may allow attackers to execute arbitrary code using a
specially crafted MP3 file.

http://marc.theaimsgroup.com/?l=bugtraq&m=104274357314340&w=2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2002/03/29 23:29:55 pvalchev Exp $
a7 1
PKGNAME=	${DISTNAME}p1
d9 1
@


1.25
log
@bump NEED_VERSION for distinfo
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.24 2001/10/24 21:32:12 heko Exp $
@


1.24
log
@deraadt@@ on icb: license is not acceptable for CDROM
Remove ho@@ from maintainer per his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/05/22 11:18:26 naddy Exp $
d7 1
a7 1
NEED_VERSION=	1.364
@


1.23
log
@oops, add esd dependency for respective flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/04/24 00:48:12 naddy Exp $
d10 2
a11 3
MAINTAINER=	Hakan Olsson <ho@@openbsd.org>

PERMIT_PACKAGE_CDROM=	Yes
d13 1
a13 1
PERMIT_DISTFILES_CDROM=	Yes
@


1.22
log
@- cleanup, better CFLAGS/COPTS handling
- add esd flavor
- don't clobber xterm title
no response from maintainer; ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/04/13 03:24:12 obecian Exp $
d32 1
@


1.21
log
@+ bump NEED_VERSION, add COMMENT to Makefile
+ rm pkg/COMMENT
+ rm deprecated LICENSE_TYPE, add NEED_VERSION,
  spaces->tabs (general update/cleanup, some ports are OLD)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/10/22 14:02:53 espie Exp $
d4 1
d8 9
d28 2
a29 3
HOMEPAGE=	http://www.mpg123.de/

MAINTAINER=	Hakan Olsson <ho@@openbsd.org>
d31 3
a33 10
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MAKE_ENV=	USE_INET6=Yes
MAKE_FLAGS=	CC="${CC}"
FAKE_FLAGS=	PREFIX="${WRKINST}${PREFIX}"

.if (${MACHINE_ARCH} != "i386")
a34 2
.else
ALL_TARGET=	openbsd-i386
d37 2
d40 1
a40 1
	@@cp ${FILESDIR}/{audio_openbsd.c,term.c} ${WRKSRC}
@


1.20
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/08/02 10:33:24 brad Exp $
d3 1
d6 1
a6 1
NEED_VERSION=	1.300
@


1.19
log
@- use 07/13/2000 KAME patch
- use better filenames for patches
- respect CFLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/06/11 17:26:25 espie Exp $
d19 1
a19 1
MAINTAINER=	ho@@openbsd.org
@


1.18
log
@Fix problems on alpha,
from Christian Weisgerber <naddy@@unix-ag.uni-kl.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/06/10 17:39:18 espie Exp $
d13 1
a13 2

PATCHFILES=	mpg123-059r-v6-20000217.diff.gz:0 \
d28 1
a28 1
FAKE_FLAGS=	PREFIX=${WRKINST}${PREFIX}
@


1.17
log
@Various minor clean-ups:
- use new CONFIGURE_STYLE
- use PLIST/DESCR substitution to add HOMEPAGE and various fragments
- add systematic @@comment $OpenBSD$ to PLIST
- remove FAKE=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/03/24 22:11:35 espie Exp $
d11 1
d14 2
a15 1
PATCHFILES=	mpg123-059r-v6-20000217.diff.gz:0
@


1.16
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/03/20 06:51:48 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.213
a23 2

FAKE=	Yes
@


1.16.2.1
log
@bring cut-off audio into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/08/02 10:33:24 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.300
a10 1
MASTER_SITES1=	http://www.unix-ag.org/Linux-Alpha/Packages/
d12 2
a13 2
PATCHFILES=	mpg123-059r-v6-20000713b.diff.gz:0 \
		l3.diff.gz:1
d25 2
d29 1
a29 1
FAKE_FLAGS=	PREFIX="${WRKINST}${PREFIX}"
@


1.15
log
@- use 02/17/2000 kame patch
- respect CC
- remove kludge and enable IPv6 support by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/03/11 01:09:01 espie Exp $
d5 1
a11 1
NEED_VERSION=	1.213
@


1.14
log
@Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/03/03 02:21:54 ho Exp $
d9 3
d13 1
a13 2
PATCHFILES=	mpg123-059r-v6-20000111.diff.gz:0
MASTER_SITES0=	ftp://ftp.kame.net/pub/kame/misc/
d16 1
a16 5
LICENSE_TYPE=		COPY
PERMIT_DISTFILES_FTP=	yes
PERMIT_DISTFILES_CDROM=	yes
PERMIT_PACKAGE_FTP=	yes
PERMIT_PACKAGE_CDROM=	yes
d20 10
a29 1
HOMEPAGE=	http://www.mpg123.de/
a36 7
# wrong way to detect IPv6
.if exists(/usr/include/netinet6/in6_ifattach.h)
MAKE_ENV+=     USE_INET6=YES
.endif

FAKE=Yes
FAKE_FLAGS=PREFIX=${WRKINST}${PREFIX}
@


1.13
log
@Add the COPYING file to install & package. Fix licensing info.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/02/23 17:28:06 ho Exp $
d35 2
d41 2
a42 2
	${INSTALL_DATA_DIR} ${LOCALBASE}/share/mpg123
	${INSTALL_DATA} ${WRKSRC}/COPYING ${LOCALBASE}/share/mpg123
@


1.12
log
@Use DISTNAME/PATCHFILES obviously.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/02/18 20:18:00 ho Exp $
d14 6
d37 4
@


1.11
log
@IPv6 patch. (from itojun@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/01/12 15:47:13 ho Exp $
d9 2
d12 1
a12 5
DISTFILES+=	${DISTNAME}${EXTRACT_SUFX} mpg123-059r-v6-20000111.diff.gz:0

PATCHFILES+=	mpg123-059r-v6-20000111.diff.gz
PATCH_DIST_STRIP=	-p1
EXTRACT_ONLY=	${DISTNAME}${EXTRACT_SUFX}
@


1.10
log
@Upgrade to mpg123-0.59r
Tested by niklas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/12/01 16:22:01 espie Exp $
d9 6
d24 5
@


1.9
log
@Restore TERM capability.
Code scavenged from tracker, since it's known to work...
removed all special cases, since it's needed only for OpenBSD.
Tweaks after some ho@@'s comments.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/12/01 15:26:59 ho Exp $
d3 1
a3 1
DISTNAME=	mpg123-0.59q
d5 1
a5 1
MASTER_SITES=	http://www.mpg123.de/mpg123 \
@


1.8
log
@New maintainer. (provos@@ ok)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/09/07 14:55:21 brad Exp $
d21 1
a21 1
	@@${CP} ${FILESDIR}/audio_openbsd.c ${WRKSRC}
@


1.7
log
@new dist site and new homepage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/08/17 15:51:21 brad Exp $
d10 1
a10 1
MAINTAINER=	provos@@openbsd.org
@


1.6
log
@- style
- enable terminal handling support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/03/23 21:33:49 espie Exp $
d5 2
a6 1
MASTER_SITES=	http://www-ti.informatik.uni-tuebingen.de/~hippm/mpg123/ \
d11 2
@


1.5
log
@Reworked from the ground up.

Basically, mpg123 assumptions about audio is broken. It assumes that
audio ioctl that change mode are instantaneous, which they are not, most
often, so that with the old model, start-up was 80 ioctl, which amounts to
~10 seconds with wss.

Added lazyness to basic audio.c so that it won't try to determine whether
we can play @@ 8000Hz mono when 44100Hz stereo is what we want, and it
works...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/03/05 14:26:57 brad Exp $
a4 3

MAINTAINER=	provos@@openbsd.org

d9 2
a10 2
post-patch:
	cp ${FILESDIR}/audio_openbsd.c ${WRKSRC}
d16 3
@


1.4
log
@upgrade to mpg123 0.59q
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1998/10/09 00:25:27 marc Exp $
d12 2
@


1.3
log
@Id -> OpenBSD
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.2 1998/10/06 23:18:44 marc Exp $
#
d3 1
a3 1
DISTNAME=	mpg123-0.59o
d8 3
a10 2
MASTER_SITES=	ftp://ftp.tu-clausthal.de/pub/unix/audio/mpg123/ \
		http://homepages.uni-tuebingen.de/student/michael.hipp/mpg123/
@


1.2
log
@pretty
@
text
@d1 1
a1 1
# $Id: Makefile,v 1.1.1.1 1998/04/28 11:29:58 provos Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 6
# New ports collection makefile for:	mpg123
# Version required:		0.59o
# Date created:			28 April 1998
# Whom:				Niels Provos
#
# $Id: Makefile,v 1.4 1998/02/02 14:29:36 vanilla Exp $
d6 3
a11 2
MAINTAINER=	provos@@openbsd.org

a16 1
MAN1=		mpg123.1
@


1.1.1.1
log
@Import mpg123 audio player (base port from FreeBSD + modifications)
@
text
@@
