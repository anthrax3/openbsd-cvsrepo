head	1.12;
access;
symbols
	OPENBSD_6_0:1.12.0.4
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.12.0.2
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.11.0.10
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.11.0.6
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.11.0.4
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.2
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.10.0.2
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.9.0.2
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.8.0.2
	OPENBSD_5_2_BASE:1.8
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	sebastia_2011_03_12:1.1.1.1
	sebastia:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2015.08.25.12.57.33;	author sthen;	state Exp;
branches;
next	1.11;
commitid	uwqnsxBmJQFSoMQ9;

1.11
date	2013.11.09.18.22.02;	author zhuk;	state Exp;
branches;
next	1.10;

1.10
date	2013.03.10.22.55.05;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2012.10.12.14.57.42;	author rpointel;	state Exp;
branches;
next	1.8;

1.8
date	2012.03.29.13.38.13;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2011.11.15.17.57.59;	author sebastia;	state Exp;
branches;
next	1.6;

1.6
date	2011.11.04.08.42.25;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.10.12.12.54.31;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.09.16.08.26.11;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2011.08.25.12.50.28;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2011.06.08.17.31.33;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.12.08.53.52;	author sebastia;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.03.12.08.53.52;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.12
log
@wantlib
@
text
@# $OpenBSD: Makefile,v 1.11 2013/11/09 18:22:02 zhuk Exp $

COMMENT-main =	Tcl/Tk snack sound toolkit
COMMENT-python = Python bindings for Tcl/Tk snack sound toolkit

MODPY_EGG_VERSION =	2.2.10
DISTNAME =	snack${MODPY_EGG_VERSION}
PKGNAME-main =  snack-${MODPY_EGG_VERSION}
PKGNAME-python = py-snack-${MODPY_EGG_VERSION}
CATEGORIES =	audio

REVISION-main = 5
REVISION-python =1

HOMEPAGE = 	http://www.speech.kth.se/snack
MASTER_SITES =	${HOMEPAGE}/dist/
MAINTAINER =	Sebastian Reitenbach <sebastia@@openbsd.org>

# BSD/GPLv2
PERMIT_PACKAGE_CDROM =		Yes

WANTLIB-main += 	c sndio ossaudio ogg vorbis vorbisenc
WANTLIB-main += 	X11 Xext Xft Xss m fontconfig

LIB_DEPENDS-main =	audio/libvorbis

MULTI_PACKAGES =	-main -python

MODULES =		lang/python x11/tk

BUILD_DEPENDS =		${MODTK_BUILD_DEPENDS}
RUN_DEPENDS-main =	${MODTK_RUN_DEPENDS}
RUN_DEPENDS-python =	${BASE_PKGPATH} \
			lang/python/${MODPY_VERSION},-tkinter

SEPARATE_BUILD =	Yes
CONFIGURE_SCRIPT =	unix/configure
CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS =	--with-tcl=${MODTCL_LIBDIR} \
			--with-tk=${MODTK_LIBDIR} \
			--with-ogg-include=${LOCALBASE}/include \
			--with-ogg-lib=${LOCALBASE}/lib
MAKE_FLAGS +=		SNACK_INSTALL_PATH=${MODTCL_TCLDIR} 	

TEST_TARGET =	test

MODPY_ADJ_FILES = demos/python/*.py

pre-configure:
	cp ${FILESDIR}/jkAudIO_sndio.c ${WRKSRC}/unix/
	${MODTCL_WISH_ADJ} ${WRKSRC}/demos/tcl/compose.tcl \
		${WRKSRC}/demos/tcl/echo.tcl \
		${WRKSRC}/demos/tcl/formant.tcl \
		${WRKSRC}/demos/tcl/fourChan.tcl \
		${WRKSRC}/demos/tcl/mapChan.tcl

post-install:
	cd ${WRKSRC}/python && \
	${MODPY_BIN} ${MODPY_SETUP} ${MODPY_DISTUTILS_INSTALL}
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/snack/tcl
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/snack/python
	${INSTALL_DATA} ${WRKSRC}/demos/tcl/*.plg ${PREFIX}/share/examples/snack/tcl/
	${INSTALL_DATA} ${WRKSRC}/demos/tcl/*.scr ${PREFIX}/share/examples/snack/tcl/
	${INSTALL_DATA} ${WRKSRC}/demos/tcl/*.phn ${PREFIX}/share/examples/snack/tcl/
	${INSTALL_DATA} ${WRKSRC}/demos/tcl/*.wav ${PREFIX}/share/examples/snack/tcl/
	${INSTALL_DATA} ${WRKSRC}/demos/tcl/*.txt ${PREFIX}/share/examples/snack/tcl/
	${INSTALL_SCRIPT} ${WRKSRC}/demos/tcl/*.tcl ${PREFIX}/share/examples/snack/tcl/
	rm ${PREFIX}/share/examples/snack/tcl/wrap.tcl \
		${PREFIX}/share/examples/snack/tcl/SphereTest.tcl
	${INSTALL_SCRIPT} ${WRKSRC}/demos/python/*.py ${PREFIX}/share/examples/snack/python/
	${INSTALL_DATA} ${WRKSRC}/demos/python/*wav ${PREFIX}/share/examples/snack/python/
	${INSTALL_DATA} ${WRKSRC}/demos/python/*txt ${PREFIX}/share/examples/snack/python/
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/snack
	${INSTALL_DATA} ${WRKSRC}/doc/* ${PREFIX}/share/doc/snack

.include <bsd.port.mk>
@


1.11
log
@Fix MODTCL_TCLSH_ADJ and MODTCL_WISH_ADJ.

Review, input, okay and prodding to commit by stu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/03/10 22:55:05 espie Exp $
d12 1
a12 1
REVISION-main = 4
d23 1
a23 1
WANTLIB-main += 	X11 Xext Xft Xss m
@


1.10
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/10/12 14:57:42 rpointel Exp $
d12 1
a12 1
REVISION-main = 3
@


1.9
log
@use MODPY_ADJ_FILES instead of MODPY_BIN_ADJ, to have MODPY_BIN_ADJ internal variable of python.port.mk in the future.
ok sthen@@ and sebastian@@ (maintainer).
no bump because package does not change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/03/29 13:38:13 sthen Exp $
a20 3
PERMIT_PACKAGE_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
d45 1
a45 1
REGRESS_TARGET =	test
@


1.8
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/11/15 17:57:59 sebastia Exp $
d50 2
a53 1
	${MODPY_BIN_ADJ} ${WRKSRC}/demos/python/*.py
@


1.7
log
@Allow to run regression tests.

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/11/04 08:42:25 jasper Exp $
d39 1
a39 1
SEPARATE_BUILD =	simple
@


1.6
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/10/12 12:54:31 jasper Exp $
d47 2
@


1.5
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/09/16 08:26:11 espie Exp $
d12 1
a12 1
REVISION-main = 2
d25 1
a25 1
WANTLIB-main += 	c sndio ossaudio ogg vorbis vorbisenc z
@


1.4
log
@normalize pkgpath in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/08/25 12:50:28 naddy Exp $
d12 1
a12 1
REVISION-main = 1
d26 1
a26 2
WANTLIB-main += 	X11 Xau Xdmcp Xext Xft Xrender Xss expat
WANTLIB-main += 	freetype m pthread-stubs xcb fontconfig 
@


1.3
log
@honor CFLAGS; ok sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/06/08 17:31:33 jasper Exp $
d13 1
a13 1
REVISION-python =0
@


1.2
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/03/12 08:53:52 sebastia Exp $
d12 1
a12 1
REVISION-main = 0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d11 3
@


1.1.1.1
log
@import snack: Tcl/Tk snack sound toolkit, and its python bindings

The Snack Sound Toolkit is designed to be used with a scripting language
such as Tcl/Tk or Python.  Snack has commands for basic sound handling,
such as playback, recording, file and socket I/O.  Snack also provides
primitives for sound visualization, e.g. waveforms and spectrograms.  It
was developed mainly to handle digital recordings of speech, but is just
as useful for general audio.  Snack has also successfully been applied
to other one-dimensional signals.

thanks to jakemsr@@ for making my unsuccessful attempt to port it to sndio working.
many comments from stu@@, landry@@, ajacoutot@@

finally OK ajacoutot@@


@
text
@@
