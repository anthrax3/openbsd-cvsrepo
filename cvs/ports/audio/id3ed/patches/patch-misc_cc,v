head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.30
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.4.0.28
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.26
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.22
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.24
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.20
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.18
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.16
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.14
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.12
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.10
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.8
	OPENBSD_5_0:1.4.0.6
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.4
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.2
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.3.0.30
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.28
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.26
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.24
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.22
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.20
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.18
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.16
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.14
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.12
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.10
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.8
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.6
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.4
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.2.0.2
	OPENBSD_3_2_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2010.05.09.17.32.53;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2003.01.13.12.23.28;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2002.09.28.20.25.23;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2002.09.27.21.57.22;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- make gcc4 happy by removing some weird cast here. gcc3 is fine too.
- regen patches

ok espie@@
@
text
@$OpenBSD: patch-misc_cc,v 1.3 2003/01/13 12:23:28 naddy Exp $
--- misc.cc.orig	Fri Jan 10 03:52:38 2003
+++ misc.cc	Sun May  9 19:28:24 2010
@@@@ -8,7 +8,7 @@@@
 int doread(int handle,void * buf,ssize_t len, const char * name){
    ssize_t i;
    if ((i=read(handle,buf,len))!=len){
-      fprintf(stderr,"Error reading %s (%i/%i): %s\n",name,i,len,strerror(errno));
+      fprintf(stderr,"Error reading %s (%ld/%ld): %s\n",name,(long)i,(long)len,strerror(errno));
       return -1;
    }
    return 0;
@@@@ -16,7 +16,7 @@@@ int doread(int handle,void * buf,ssize_t len, const ch
 int dowrite(int handle, const void * buf, ssize_t len,const char *name,const char *name2){
    ssize_t i;
    if ((i=write(handle,buf,len))!=len){
-      fprintf(stderr,"Error writing %s %s (%i/%i): %s\n",name,name2,i,len,strerror(errno));
+      fprintf(stderr,"Error writing %s %s (%ld/%ld): %s\n",name,name2,(long)i,(long)len,strerror(errno));
       return -1;
    }
    else return 0;
@


1.3
log
@Update to to version 1.10.4.  Makefile patches and gcc3 patches
have been integrated.  From Nick Nauwelaerts <nick@@nauwelaerts.net>.
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ misc.cc	Fri Jan 10 08:34:30 2003
d13 1
a13 1
@@@@ -16,7 +16,7 @@@@ int doread(int handle,void * buf,ssize_t
@


1.2
log
@LP64
@
text
@d1 4
a4 4
$OpenBSD: patch-misc_cc,v 1.1 2002/09/27 21:57:22 naddy Exp $
--- misc.cc.orig	Fri Jun 11 02:25:30 1999
+++ misc.cc	Sat Sep 28 21:31:03 2002
@@@@ -8,20 +8,20 @@@@
d13 2
a14 3
 }
-int dowrite(int handle, const void * buf, ssize_t len,const char *name,const char *name2=""){
+int dowrite(int handle, const void * buf, ssize_t len,const char *name,const char *name2){
a21 6
 }
-int doopen(int &handle,const char * name,int access,int mode=0) {
+int doopen(int &handle,const char * name,int access,int mode) {
    if ((handle=open(name,access,mode))==-1){
       fprintf(stderr,"Error opening %s: %s\n",name,strerror(errno));
       return -1;
@


1.1
log
@C++ fix for compiling with gcc3
@
text
@d1 10
a10 4
$OpenBSD$
--- misc.cc.orig	Fri Sep 27 23:58:04 2002
+++ misc.cc	Fri Sep 27 23:58:20 2002
@@@@ -13,7 +13,7 @@@@ int doread(int handle,void * buf,ssize_t
d18 3
a20 2
       fprintf(stderr,"Error writing %s %s (%i/%i): %s\n",name,name2,i,len,strerror(errno));
@@@@ -21,7 +21,7 @@@@ int dowrite(int handle, const void * buf
@

