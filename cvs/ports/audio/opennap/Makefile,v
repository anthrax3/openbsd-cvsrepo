head	1.22;
access;
symbols
	OPENBSD_6_2:1.22.0.4
	OPENBSD_6_2_BASE:1.22
	OPENBSD_6_1:1.22.0.2
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.21.0.2
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.20.0.10
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.20.0.12
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.20.0.8
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.20.0.6
	OPENBSD_5_6_BASE:1.20
	OPENBSD_5_5:1.20.0.4
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.20.0.2
	OPENBSD_5_4_BASE:1.20
	OPENBSD_5_3:1.19.0.4
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.19.0.2
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.4
	OPENBSD_5_0:1.18.0.2
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.17.0.2
	OPENBSD_4_9_BASE:1.17
	OPENBSD_4_8:1.16.0.8
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.16.0.6
	OPENBSD_4_7_BASE:1.16
	OPENBSD_4_6:1.16.0.4
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.16.0.2
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.15.0.4
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.2
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.14.0.12
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.14.0.10
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.14.0.8
	OPENBSD_4_0_BASE:1.14
	OPENBSD_3_9:1.14.0.6
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.14.0.4
	OPENBSD_3_8_BASE:1.14
	OPENBSD_3_7:1.14.0.2
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.13.0.2
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.12.0.4
	OPENBSD_3_5_BASE:1.12
	OPENBSD_3_4:1.12.0.2
	OPENBSD_3_4_BASE:1.12
	OPENBSD_3_3:1.9.0.4
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.9.0.2
	OPENBSD_3_2_BASE:1.9
	OPENBSD_3_1:1.5.0.4
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9_TRACKING_SWITCH:1.5
	OPENBSD_2_9:1.4.0.2
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.3.0.2
	OPENBSD_2_8_BASE:1.3
	brad_2000-08-23:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.22
date	2016.09.10.13.03.41;	author ajacoutot;	state Exp;
branches;
next	1.21;
commitid	4KcvAK91uGdTLejD;

1.21
date	2016.03.09.18.31.36;	author jasper;	state Exp;
branches;
next	1.20;
commitid	FOh2GJIkzOkUqaxn;

1.20
date	2013.03.10.22.55.04;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2012.03.29.13.38.13;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2011.05.11.06.22.16;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2010.09.06.00.04.28;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2009.02.14.09.46.59;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2007.09.15.21.26.02;	author simon;	state Exp;
branches;
next	1.14;

1.14
date	2004.11.21.17.51.46;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2004.05.22.19.54.10;	author jolan;	state Exp;
branches;
next	1.12;

1.12
date	2003.06.25.00.20.44;	author pvalchev;	state Exp;
branches;
next	1.11;

1.11
date	2003.06.22.10.01.35;	author sturm;	state Exp;
branches;
next	1.10;

1.10
date	2003.05.12.08.23.46;	author jolan;	state Exp;
branches;
next	1.9;

1.9
date	2002.08.23.08.46.19;	author pvalchev;	state Exp;
branches;
next	1.8;

1.8
date	2002.08.10.01.14.04;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2002.07.30.14.36.49;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2002.05.13.18.50.36;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2001.07.11.02.10.03;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2001.03.31.22.41.48;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2000.09.24.07.04.01;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2000.09.03.07.02.06;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2000.08.23.07.04.49;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.08.23.07.04.49;	author brad;	state Exp;
branches;
next	;


desc
@@


1.22
log
@First pass at pre-entively fixing ports that would break once guenther's header
pollution diff is in.

lang/squeak/vm does not build but it's due to the recent audio changes
games/xbattle: also fixes some conflicting implicit decl
print/hplip: also fixes some conflicting implicit decl
@
text
@# $OpenBSD: Makefile,v 1.21 2016/03/09 18:31:36 jasper Exp $

COMMENT=	opensource Napster(tm) server

DISTNAME=	opennap-0.44
REVISION=	3
CATEGORIES=	audio net
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=opennap/}

HOMEPAGE=	http://opennap.sourceforge.net/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c z

SEPARATE_BUILD=	Yes
USE_GMAKE=	Yes
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--enable-email \
		--enable-resume \
		--datadir=${SYSCONFDIR} \
		--with-uid=_opennap \
		--with-gid=_opennap
#		--enable-chroot \  (breaks uid, gid, and ip lookup)

DOCS=	FAQ README manual.html napster.txt

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/opennap
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/opennap
	cd ${WRKSRC}; ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/opennap
	${INSTALL_DATA} ${WRKSRC}/sample.* ${PREFIX}/share/examples/opennap

.include <bsd.port.mk>
@


1.21
log
@remove vax workarounds/tentacles, reword where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/10 22:55:04 espie Exp $
d6 1
a6 1
REVISION=	2
@


1.20
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/03/29 13:38:13 sthen Exp $
a25 4

.if ${MACHINE_ARCH} == "vax"
CFLAGS+=	-O0 # XXX compiler bugs
.endif
@


1.19
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/05/11 06:22:16 ajacoutot Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.18
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and remove remove everything under the @@sample'd directory instead
of the directory itself to prevent a warning from pkg_delete(1) trying
to remove a non existing directory and to help preventing left-over
files and directories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/09/06 00:04:28 sthen Exp $
d20 1
a20 1
SEPARATE_BUILD=	concurrent
@


1.17
log
@new-style REVISIONS/LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/02/14 09:46:59 jasper Exp $
d6 1
a6 1
REVISION=	1
@


1.16
log
@- fix potential 64-bit issue by including a missing header
- regen PLIST
- specify license version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/09/15 21:26:02 simon Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d17 1
@


1.15
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/11/21 17:51:46 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d12 1
a12 1
# GPL
d22 6
a27 7
CONFIGURE_ARGS=	\
	--enable-email \
	--enable-resume \
	--datadir=${SYSCONFDIR} \
	--with-uid=_opennap \
	--with-gid=_opennap
#	--enable-chroot \  (breaks uid, gid, and ip lookup)
@


1.14
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/05/22 19:54:10 jolan Exp $
d3 1
a3 1
COMMENT=	"opensource Napster(tm) server"
@


1.13
log
@drop maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2003/06/25 00:20:44 pvalchev Exp $
d17 1
@


1.12
log
@-O0 on vax, due to gcc bugs. ok maintainer jolan
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/06/22 10:01:35 sturm Exp $
a10 2

MAINTAINER=	Jolan Luff <jolan@@openbsd.org>
@


1.11
log
@new user/group schema

jolan@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/05/12 08:23:46 jolan Exp $
d30 4
@


1.10
log
@update e-mail address, ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/08/23 08:46:19 pvalchev Exp $
d6 1
d26 3
a28 1
	--datadir=${SYSCONFDIR}
@


1.9
log
@missing parenthesis in comment; from maintainer Jolan Luff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/08/10 01:14:04 naddy Exp $
d11 1
a11 1
MAINTAINER=	Jolan Luff <jolan@@cryptonomicon.org>
@


1.8
log
@Update to 0.44 with some patches from CVS.

Notable changes to the port:
- creates opennap user/group to run as
- tons of bugfixes, improved performance
- no longer hardcodes SYSCONFDIR to /etc/opennap

Submitted by Jolan Luff <jolan@@pellaeon.com>.
@
text
@d1 1
a1 1
# $OpenBSD$
d26 1
a26 1
#	--enable-chroot \  (breaks uid, gid, and ip lookup
@


1.7
log
@remove myself as MAINTAINER from a number of ports that I don't use anymore, don't want to maintain, etc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/05/13 18:50:36 espie Exp $
d5 1
a5 1
DISTNAME=	opennap-0.42
d11 3
a18 1
SYSCONFDIR=	/etc/opennap
d21 6
a26 2
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--enable-resume
d28 1
a28 1
DOCS=	README napster.txt
@


1.6
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/07/11 02:10:03 brad Exp $
a6 1
NEED_VERSION=	1.413
a9 2

MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.5
log
@upgrade to opennap 0.42
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/03/31 22:41:48 brad Exp $
d8 1
a8 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR= opennap
@


1.4
log
@upgrade to opennap 0.41
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/09/24 07:04:01 brad Exp $
d3 1
a3 1
COMMENT=	"OpenNAP open-source Napster(tm) server"
d5 1
a5 1
DISTNAME=	opennap-0.41
d7 1
a7 1
NEED_VERSION=	1.364
@


1.3
log
@add name to MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/09/03 07:02:06 brad Exp $
d3 3
a5 1
DISTNAME=	opennap-0.36
d7 1
a7 1
NEED_VERSION=	1.330
d20 2
a28 1
	(echo "${PREFIX}/share/opennap"; echo "admin"; echo "opennap"; echo "") | ${WRKSRC}/setup
a30 1
	@@chown -R nobody:nobody ${PREFIX}/share/opennap
@


1.2
log
@fill in PERMIT_{PACKAGE,DISTFILES}_{CDROM,FTP}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/08/23 07:04:49 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.322
d11 1
a11 1
MAINTAINER=	brad@@openbsd.org
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
NEED_VERSION=	1.310
d13 4
a16 4
PERMIT_PACKAGE_CDROM=	
PERMIT_PACKAGE_FTP=	
PERMIT_DISTFILES_CDROM=	
PERMIT_DISTFILES_FTP=	
@


1.1.1.1
log
@add opennap port;
--
OpenNAP open-source Napster(tm) server
@
text
@@
