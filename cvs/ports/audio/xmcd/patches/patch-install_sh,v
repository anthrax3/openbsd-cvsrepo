head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.12
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.10
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.8
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.4
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.6
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.2.0.24
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.22
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.20
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.18
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.16
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.14
	OPENBSD_5_0:1.2.0.12
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.10
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.0.32
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.30
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.28
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.26
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.24
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.22
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.20
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.18
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.16
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.14
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.12
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.10
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.8
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.6
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.4
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1
	OPENBSD_2_9:1.1.0.2
	OPENBSD_2_9_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2014.09.08.07.33.58;	author espie;	state Exp;
branches;
next	1.2;
commitid	C9KeU0XyZjqMPfOp;

1.2
date	2008.10.28.12.09.05;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2001.01.18.16.41.27;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.3
log
@tell the root check to fuck off
@
text
@$OpenBSD: patch-install_sh,v 1.2 2008/10/28 12:09:05 jasper Exp $
--- install.sh.orig	Sat Feb  5 08:26:20 2000
+++ install.sh	Mon Sep  8 09:32:21 2014
@@@@ -50,11 +50,11 @@@@ XMCD_URL=http://metalab.unc.edu/tkan/xmcd/
 DIRPERM=755
 SCRPERM=755
 FILEPERM=444
-BINPERM=711
-XBINPERM=4711
-OWNER=bin
+BINPERM=555
+XBINPERM=4555
+OWNER=root
 GROUP=bin
-BINOWNER=bin
+BINOWNER=root
 BINGROUP=bin
 XBINOWNER=root
 XBINGROUP=bin
@@@@ -597,7 +597,7 @@@@ $ECHO "\n\t$XMCD_URL"
 
 # Check privilege
 (id | fgrep 'uid=0(root)') >/dev/null 2>&1
-if [ $? != 0 ]
+if false
 then
 	$ECHO "\n\nYou should be the super user to install xmcd."
 
@@@@ -963,80 +963,8 @@@@ then
 fi
 
 
-# Remove old xmcd components
-
-$ECHO "\n\nChecking for old xmcd components..."
-
-# Old binaries
-dirs=`echo "$OPATH" | $AWK -F: '{ for (i = 1; i <= NF; i++) print $i }'`
-for i in $BINTRYDIRS
-do
-	dirs=`$ECHO "$dirs\n$i"`
-done
-dirs=`($ECHO "$dirs" | \
-       sed -e 's/^[ 	]*//' -e '/^$/d' | \
-       sort | uniq) 2>/dev/null`
-
-if [ -n "$dirs" ]
-then
-	for i in $dirs
-	do
-	    if [ "$i" = "$BINDIR" -o "$i" = "." ]
-	    then
-		    continue
-	    fi
-
-	    for j in xmcd cda cddbcmd wm2xmcd dp2xmcd $STARTUP_SCRIPT
-	    do
-		tryfile=${i}/${j}
-		if [ -f $tryfile -a -x $tryfile ]
-		then
-		    if [ -z "$BATCH" ]
-		    then
-			YNDEF=y
-			if get_yn "Remove old executable $tryfile"
-			then
-			    rm -f $tryfile
-			    if [ $? -ne 0 ]
-			    then
-				$ECHO "Cannot remove $tryfile."
-			    fi
-			fi
-		    else
-			rm -f $tryfile
-		    fi
-		fi
-	    done
-	done
-fi
-
-# Old xmcd app-defaults files
-dirs=`for i in $LIBTRYDIRS $LIBDIR; do echo "$i"; done | sort | uniq`
-for i in $dirs
-do
-	tryfile=${i}/app-defaults/XMcd
-	if [ -f "$tryfile" ]
-	then
-		if [ -z "$BATCH" ]
-		then
-		    YNDEF=y
-		    if get_yn "Remove old xmcd resource file $tryfile"
-		    then
-			rm -f $tryfile
-			if [ $? -ne 0 ]
-			then
-			    $ECHO "Cannot remove ${tryfile}."
-			fi
-		    fi
-		else
-		    rm -f $tryfile
-		fi
-	fi
-done
-
-
 # Set architecture-specific binary directory
-ARCHBIN="${XMCDLIB}/bin-${OS_SYS_T}-${OS_MACH_T}"
+ARCHBIN="$XMCDLIB/../../libexec/xmcd"
 
 
 # Make all necessary directories
@


1.2
log
@- homepage moved
- provide a working master site
- tweak DESCR and MESSAGE
- regen patches and plist while here
@
text
@d1 1
a1 1
$OpenBSD: patch-install_sh,v 1.1 2001/01/18 16:41:27 naddy Exp $
d3 1
a3 1
+++ install.sh	Tue Oct 28 13:06:18 2008
d20 9
@


1.1
log
@Entirely new port for xmcd 2.6, largely derived from FreeBSD and Debian.
Once upon a time reviewed by espie@@.
Reported to be unstable with LessTif, fine with OpenMotif.
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
+++ install.sh	Wed Nov  8 14:32:12 2000
@@@@ -50,11 +50,11 @@@@ XMCD_URL=http://metalab.unc.edu/tkan/xmc
@

