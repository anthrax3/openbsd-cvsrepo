head	1.37;
access;
symbols
	OPENBSD_6_1:1.37.0.2
	OPENBSD_6_1_BASE:1.37
	OPENBSD_6_0:1.36.0.2
	OPENBSD_6_0_BASE:1.36
	OPENBSD_5_9:1.35.0.2
	OPENBSD_5_9_BASE:1.35
	OPENBSD_5_8:1.34.0.4
	OPENBSD_5_8_BASE:1.34
	OPENBSD_5_7:1.32.0.2
	OPENBSD_5_7_BASE:1.32
	OPENBSD_5_6:1.31.0.4
	OPENBSD_5_6_BASE:1.31
	OPENBSD_5_5:1.31.0.2
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.23.0.2
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.22.0.4
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.22
	OPENBSD_5_1:1.22.0.2
	OPENBSD_5_0:1.18.0.2
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.11.0.2
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.6.0.2
	OPENBSD_4_6_BASE:1.6
	landry_20090423:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.37
date	2017.01.31.08.46.50;	author ajacoutot;	state Exp;
branches;
next	1.36;
commitid	fd9lkrFt1Y1XDioY;

1.36
date	2016.03.18.23.12.15;	author naddy;	state Exp;
branches;
next	1.35;
commitid	KZAl4KEiw6a3Jixw;

1.35
date	2016.01.17.17.29.07;	author sthen;	state Exp;
branches;
next	1.34;
commitid	bS2FIbTCCkF3XjOq;

1.34
date	2015.05.04.10.08.47;	author ajacoutot;	state Exp;
branches;
next	1.33;
commitid	NrirxzMVO0xNar7W;

1.33
date	2015.04.04.09.21.00;	author ajacoutot;	state Exp;
branches;
next	1.32;
commitid	kS3kwKZogsvzYmEY;

1.32
date	2014.10.25.14.29.24;	author ajacoutot;	state Exp;
branches;
next	1.31;
commitid	wx3F9zOP4ukl5sqV;

1.31
date	2013.10.06.09.08.50;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2013.09.24.18.53.27;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2013.09.20.05.32.57;	author dcoppa;	state Exp;
branches;
next	1.28;

1.28
date	2013.05.31.15.34.40;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2013.04.13.09.14.06;	author landry;	state Exp;
branches;
next	1.26;

1.26
date	2013.04.08.07.19.33;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.21.08.45.12;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2013.03.10.22.55.02;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2013.01.05.13.09.38;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2011.10.17.12.23.53;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2011.10.13.06.55.58;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2011.09.16.08.26.10;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2011.08.23.08.43.48;	author landry;	state Exp;
branches;
next	1.18;

1.18
date	2011.05.16.08.24.31;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.05.11.06.02.15;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2010.11.26.07.07.56;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.15.00.22.46;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.24.21.00.29;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.11.08.11.16;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2010.09.05.22.00.13;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2010.04.09.13.32.57;	author landry;	state Exp;
branches;
next	1.10;

1.10
date	2010.04.03.00.32.55;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2009.09.21.18.33.57;	author landry;	state Exp;
branches;
next	1.8;

1.8
date	2009.09.08.21.56.34;	author landry;	state Exp;
branches;
next	1.7;

1.7
date	2009.08.10.06.29.52;	author kili;	state Exp;
branches;
next	1.6;

1.6
date	2009.06.28.21.58.23;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2009.06.23.19.21.02;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2009.06.06.18.41.41;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2009.06.03.16.34.51;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.06.02.05.20.58;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.04.23.19.26.47;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.04.23.19.26.47;	author landry;	state Exp;
branches;
next	;


desc
@@


1.37
log
@Remove the -wikipedia subpackage; it depends on WebKitGTK+ 2.4 which is
known to have many security vulnerabilities that will NOT be fixed.

ok landry@@ (maintainer)
@
text
@# $OpenBSD: Makefile,v 1.36 2016/03/18 23:12:15 naddy Exp $

COMMENT =		bundle of plugins for gmpc

VERSION =		11.8.16
DISTNAME =		gmpc-plugins-${VERSION}
REVISION =		7

CATEGORIES =		audio

MAINTAINER =		Landry Breuil <landry@@openbsd.org>

HOMEPAGE =		http://gmpclient.org/plugins
MASTER_SITES =		http://www.musicpd.org/download/gmpc-plugins/${VERSION}/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 avahi-client avahi-common avahi-glib
WANTLIB += cairo dbus-1 dbus-glib-1 expat ffi fontconfig freetype
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 graphite2 gthread-2.0 gtk-x11-2.0 harfbuzz
WANTLIB += iconv intl lzma m mpd pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs sqlite3 stdc++
WANTLIB += tag tag_c xcb xcb-render xcb-shm xml2 z

MODULES =		textproc/intltool

LIB_DEPENDS =		audio/taglib \
			x11/dbus-glib

RUN_DEPENDS =		audio/gmpc>=${VERSION} \
			audio/vorbis-tools

BUILD_DEPENDS =		audio/gmpc>=${VERSION} \
			audio/vorbis-tools \
			x11/gob2

USE_GMAKE =		Yes

LIBTOOL_FLAGS =		--tag=disable-static

CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS=		--disable-mserver \
			--disable-mmkeys \
			--disable-lirc \
			--disable-wikipedia

CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -liconv"

post-install:
	rm ${PREFIX}/lib/gmpc/plugins/*.la

.include <bsd.port.mk>
@


1.36
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2016/01/17 17:29:07 sthen Exp $
d3 1
a3 2
COMMENT-main =		bundle of plugins for gmpc
COMMENT-wikipedia =	wikipedia plugin for gmpc
d5 3
a7 6
VERSION =	11.8.16
DISTNAME =	gmpc-plugins-${VERSION}
PKGNAME-main =		${DISTNAME}
PKGNAME-wikipedia =	gmpc-wikipedia-${VERSION}
REVISION-main =		6
REVISION-wikipedia =	9
d9 1
a9 1
CATEGORIES =	audio
d11 1
a11 1
MAINTAINER =	Landry Breuil <landry@@openbsd.org>
d13 2
a14 2
HOMEPAGE =	http://gmpclient.org/plugins
MASTER_SITES =	http://www.musicpd.org/download/gmpc-plugins/${VERSION}/
d19 8
a26 8
# XXX give it a chance to build on systems where webkit is not built
MULTI_PACKAGES =	-main -wikipedia
ONLY_FOR_ARCHS-wikipedia = alpha i386 powerpc amd64 hppa sparc64

.include <bsd.port.arch.mk>
.if !${BUILD_PACKAGES:M-wikipedia}
CONFIGURE_ARGS+=	--disable-wikipedia
.endif
d28 1
a28 2
MODULES =	devel/gettext \
		textproc/intltool
d30 1
a30 2
LIB_DEPENDS-main =	${LIB_DEPENDS} \
			audio/taglib \
a31 2
WANTLIB-main = ${WANTLIB} dbus-1 tag tag_c dbus-glib-1 pthread
WANTLIB-main += avahi-client avahi-common avahi-glib
d33 2
a34 33
LIB_DEPENDS-wikipedia =	${LIB_DEPENDS} \
			www/webkit
WANTLIB-wikipedia =	${WANTLIB} \
			ICE SM Xt enchant gstapp-1.0 gstbase-1.0 icui18n \
			gstpbutils-1.0 gstreamer-1.0 gstvideo-1.0 orc-0.4 \
			jpeg soup-2.4 webkitgtk-1.0 xslt javascriptcoregtk-1.0 \
			gstaudio-1.0 gstfft-1.0 pthread GL \
			gbm gcrypt gpg-error gsttag-1.0 harfbuzz-icu \
			icudata icuuc secret-1 webp EGL \
			X11-xcb Xxf86vm drm glapi xcb-dri2 xcb-glx xcb-shape \
			xcb-xfixes

WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 cairo
WANTLIB += expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += gtk-x11-2.0 m mpd pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread-stubs sqlite3 stdc++ xcb
WANTLIB += xcb-render xcb-shm xml2 z ffi harfbuzz graphite2 lzma

RUN_DEPENDS =	audio/gmpc>=${VERSION} \
		audio/vorbis-tools

BUILD_DEPENDS =	${RUN_DEPENDS} \
		x11/gob2
USE_GMAKE =	Yes

LIBTOOL_FLAGS =	--tag=disable-static

CONFIGURE_STYLE =gnu
CONFIGURE_ARGS+=--disable-mserver \
		--disable-mmkeys \
		--disable-lirc
d36 16
a51 2
CONFIGURE_ENV+=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -liconv"
@


1.35
log
@sync WANTLIB
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.34 2015/05/04 10:08:47 ajacoutot Exp $

SHARED_ONLY =	Yes
@


1.34
log
@Remove libtool files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/04/04 09:21:00 ajacoutot Exp $
d13 1
a13 1
REVISION-wikipedia =	8
d51 3
a53 1
			icudata icuuc secret-1 webp EGL
@


1.33
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2014/10/25 14:29:24 ajacoutot Exp $
d12 2
a13 2
REVISION-main =		5
REVISION-wikipedia =	7
d48 1
a48 1
			jpeg soup-2.4 webkitgtk-1.0 xslt javascriptcoregtk-1.0 dbus-1 \
d68 2
d77 3
@


1.32
log
@Regen WANTLIB to unbreak after recent webkit update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/10/06 09:08:50 ajacoutot Exp $
d12 2
a13 2
REVISION-main =		4
REVISION-wikipedia =	6
@


1.31
log
@Regen WANTLIB after orc got put back into gstreamer1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/09/24 18:53:27 ajacoutot Exp $
d12 2
a13 2
REVISION-main =		3
REVISION-wikipedia =	5
d38 1
a38 1
			audio/taglib>=1.5 \
d44 1
a44 1
			www/webkit>=1.6.1v0
d46 1
a46 1
			ICE SM Xt enchant gailutil gstapp-1.0 gstbase-1.0 icui18n \
d49 3
a51 1
			dbus-glib-1 geoclue gstaudio-1.0 gstfft-1.0 pthread
d53 2
a54 2
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 cairo drm
d59 1
a59 1
WANTLIB += xcb-render xcb-shm xml2 z ffi harfbuzz
@


1.30
log
@Fix WANTLIB after recent gstreamer1 update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/09/20 05:32:57 dcoppa Exp $
d13 1
a13 1
REVISION-wikipedia =	4
d47 1
a47 1
			gstpbutils-1.0 gstreamer-1.0 gstvideo-1.0 \
@


1.29
log
@Switch to new MASTER_SITES.

ok landry@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/05/31 15:34:40 ajacoutot Exp $
d13 1
a13 1
REVISION-wikipedia =	3
d49 1
a49 1
			dbus-glib-1 geoclue gstaudio-1.0 gstfft-1.0 orc-0.4 pthread
@


1.28
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/04/13 09:14:06 landry Exp $
d20 1
a20 1
MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=musicpd/}
@


1.27
log
@Tweak WANTLIB after webkit update (mostly s/gst*-0.10/gst*-1.0/ + removing
gstinterfaces-0.10) and bump some REVISIONs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/04/08 07:19:33 jasper Exp $
d12 2
a13 2
REVISION-main =		2
REVISION-wikipedia =	2
d57 1
a57 2
WANTLIB += xcb-render xcb-shm xml2 z ffi harfbuzz icudata icule
WANTLIB += icuuc
@


1.26
log
@remove bogus configure switch (doesn't do anything)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/21 08:45:12 ajacoutot Exp $
d13 1
a13 1
REVISION-wikipedia =	1
d46 2
a47 2
			ICE SM Xt enchant gailutil gstapp-0.10 gstbase-0.10 icui18n \
			gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10 \
d49 1
a49 1
			dbus-glib-1 geoclue gstaudio-0.10 gstfft-0.10 orc-0.4 pthread
@


1.25
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/03/10 22:55:02 espie Exp $
a69 1
		--disable-libnotify \
@


1.24
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/01/05 13:09:38 ajacoutot Exp $
a64 1
USE_LIBTOOL =	Yes
@


1.23
log
@Adapt LIB_DEPENDS/WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/10/17 12:23:53 espie Exp $
a23 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.22
log
@simpler, more declarative style with bsd.port.arch.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/10/13 06:55:58 jasper Exp $
d12 2
a13 2
REVISION-main =		1
REVISION-wikipedia =	0
d42 1
a42 2
			x11/dbus-glib \
			net/avahi
d49 1
a49 1
			ICE SM Xt enchant gailutil gstapp-0.10 gstbase-0.10 \
d51 2
a52 2
			icudata icui18n icuuc jpeg soup-2.4 webkitgtk-1.0 xslt \
			javascriptcoregtk-1.0
d60 2
a61 1
WANTLIB += xcb-render xcb-shm xml2 z ffi
@


1.21
log
@- fix WANTLIB/LIB_DEPENDS after webkit update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/09/16 08:26:10 espie Exp $
d28 3
a30 1
MULTI_PACKAGES =	-main
d32 2
a33 6
.if ${MACHINE_ARCH} == "alpha" || ${MACHINE_ARCH} == "i386" || \
    ${MACHINE_ARCH} == "powerpc" || ${MACHINE_ARCH} == "amd64" || \
    ${MACHINE_ARCH} == "hppa" || ${MACHINE_ARCH} == "sparc64"
# XXX give it a chance to build on systems where webkit is not built
MULTI_PACKAGES+=	-wikipedia
.else
@


1.20
log
@normalize pkgpath in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/08/23 08:43:48 landry Exp $
d12 2
a13 1
REVISION-main =		0
d50 1
a50 1
			www/webkit>=1.4.0v0
d54 2
a55 1
			icudata icui18n icuuc jpeg soup-2.4 webkitgtk-1.0 xslt
d63 1
a63 1
WANTLIB += xcb-render xcb-shm xml2 z
@


1.19
log
@Update to gmpc-plugins 11.8.16.
Add a patch to fix a crash upon exit, already commited upstream.
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/05/16 08:24:31 ajacoutot Exp $
d12 1
@


1.18
log
@Add the EPOCH to the webkit dependency.

spotted by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/05/11 06:02:15 ajacoutot Exp $
d8 1
a8 1
VERSION =	0.20.0
a10 1
REVISION-main =		2
a11 1
REVISION-wikipedia =	4
d15 1
a15 1
MAINTAINER =	Landry Breuil <gaston@@gcu.info>
d17 1
a17 1
HOMEPAGE =	http://gmpc.wikia.com/wiki/Gnome_Music_Player_Client
d44 1
a44 1
WANTLIB-main = ${WANTLIB} dbus-1 glade-2.0 tag tag_c dbus-glib-1
a50 1
			ICE SM Xt enchant gailutil gstapp-0.10 gstbase-0.10 \
d77 1
a77 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.17
log
@Fix after recent webkit update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/11/26 07:07:56 espie Exp $
d13 1
a13 1
REVISION-wikipedia =	3
d50 1
a50 1
			www/webkit>=1.4.0
@


1.16
log
@redo depends with >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/11/15 00:22:46 espie Exp $
d11 1
a11 1
REVISION-main =		1
d13 1
a13 1
REVISION-wikipedia =	2
d31 2
a32 1
    ${MACHINE_ARCH} == "powerpc" || ${MACHINE_ARCH} == "amd64"
d39 2
a40 1
MODULES =	devel/gettext
d50 14
a63 14
			www/webkit
WANTLIB-wikipedia =	${WANTLIB} ICE SM Xt enchant gcrypt gnutls gpg-error \
			icudata icui18n icuuc jpeg soup-2.4 tasn1 xslt \
			gailutil gstbase-0.10 gstpbutils-0.10 gstreamer-0.10 \
			gstvideo-0.10 webkit-1.0 gstapp-0.10

WANTLIB += X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender atk-1.0 cairo
WANTLIB += expat fontconfig freetype gdk-x11-2.0
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gthread-2.0 gtk-x11-2.0 m mpd pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png
WANTLIB += sqlite3 stdc++ xml2 z
WANTLIB += pthread-stubs xcb xcb-render xcb-render-util
@


1.15
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/10/24 21:00:29 ajacoutot Exp $
d41 1
a41 1
			taglib->=1.5:audio/taglib \
d63 1
a63 1
RUN_DEPENDS =	gmpc->=${VERSION}:audio/gmpc \
@


1.14
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/11 08:11:16 jasper Exp $
d41 3
a43 3
			:taglib->=1.5:audio/taglib \
			::x11/dbus-glib \
			::net/avahi
d48 1
a48 1
			::www/webkit
d63 2
a64 2
RUN_DEPENDS =	:gmpc->=${VERSION}:audio/gmpc \
		::audio/vorbis-tools
d67 1
a67 1
		::x11/gob2
@


1.13
log
@- fix WANTLIB after cairo update.

these and upcoming fixes test built by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/09/05 22:00:13 sthen Exp $
a68 1
USE_X11 =	Yes
@


1.12
log
@new-style LIB_DEPENDS/REVISION, sync WANTLIB, bump where necessary.
checked with check-lib-depends and PLIST_DB "make package".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/04/09 13:32:57 landry Exp $
d11 1
a11 1
REVISION-main =		0
d13 1
a13 1
REVISION-wikipedia =	1
d57 1
a57 1
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glib-2.0 glitz gmodule-2.0
@


1.11
log
@Update to gmpc-plugins 0.20.0.
ok ajacoutot@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/04/03 00:32:55 sthen Exp $
d11 3
a13 1
PKGNAME-wikipedia =	gmpc-wikipedia-${VERSION}p0
d41 5
a45 4
			tag,tag_c:taglib->=1.5:audio/taglib \
			dbus-glib-1::x11/dbus-glib \
			avahi-client,avahi-common,avahi-glib::net/avahi
WANTLIB-main = ${WANTLIB} dbus-1 glade-2.0
d48 1
a48 1
			webkit-1.0::www/webkit
d52 1
a52 1
			gstvideo-0.10
d61 1
a61 1
WANTLIB += pthread-stubs xcb
@


1.10
log
@sync WANTLIB/LIB_DEPENDS, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/09/21 18:33:57 landry Exp $
d8 1
a8 1
VERSION =	0.19.0
d71 1
@


1.9
log
@Update to gmpc-plugins 0.19.0.
ok jasper@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/09/08 21:56:34 landry Exp $
d11 1
a11 1
PKGNAME-wikipedia =	gmpc-wikipedia-${VERSION}
d48 2
a49 1
			gailutil
@


1.8
log
@On archs where webkit doesn't run (say, sparc64), give gmpc-plugins a
chance to build by disabling wikipedia plugin from the build.
While here, patch configure to fix a bunch of typos, already fixed in
upcoming 0.19.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/08/10 06:29:52 kili Exp $
d8 1
a8 1
VERSION =	0.18.0
d10 2
a11 2
PKGNAME-main =		${DISTNAME}p4
PKGNAME-wikipedia =	gmpc-wikipedia-${VERSION}p1
d40 1
a40 1
			xosd::x11/xosd \
d42 1
a42 1
WANTLIB-main = ${WANTLIB} crypto curl dbus-1 glade-2.0 idn pthread ssl
d46 1
a46 1
WANTLIB-wikipedia =	${WANTLIB} enchant gcrypt gnutls gpg-error \
d50 2
a51 2
WANTLIB += ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender Xt atk-1.0 cairo
d72 3
@


1.7
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/06/28 21:58:23 sthen Exp $
d10 1
a10 1
PKGNAME-main =		${DISTNAME}p3
d32 2
d69 1
a69 1
CONFIGURE_ARGS =--disable-mserver \
@


1.6
log
@WANTLIB+=gailutil for new webkit, bump PKGNAME.
found in naddy's lib-depends-check run.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/06/23 19:21:02 landry Exp $
d10 2
a11 2
PKGNAME-main =		${DISTNAME}p2
PKGNAME-wikipedia =	gmpc-wikipedia-${VERSION}p0
d55 1
@


1.5
log
@Enable wikipedia plugin, which fetches artist info from wikipedia.
As it drags webkit as a dependency, subpackage it, and only build it on
archs where webkit builds.
Add a patch from upstream git repo to fix a bug.
Explicitely depend on taglib 1.5 for tagedit plugin while here.
looks good to jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/06/06 18:41:41 landry Exp $
d11 1
a11 1
PKGNAME-wikipedia =	gmpc-wikipedia-${VERSION}
d45 2
a46 1
			icudata icui18n icuuc jpeg soup-2.4 tasn1 xslt
@


1.4
log
@Really enable avahi, --disable-avahi was still in CONFIGURE_ARGS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/06/03 16:34:51 ajacoutot Exp $
d5 2
a6 1
COMMENT =	bundle of plugins for gmpc
d10 2
a11 1
PKGNAME =	${DISTNAME}p1
d26 20
a45 3
LIB_DEPENDS =	tag,tag_c::audio/taglib \
		xosd::x11/xosd \
		avahi-client,avahi-common,avahi-glib::net/avahi
d49 5
a53 5
WANTLIB += crypto curl dbus-1 expat fontconfig freetype gdk-x11-2.0
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glade-2.0 glib-2.0 glitz gmodule-2.0
WANTLIB += gobject-2.0 gthread-2.0 gtk-x11-2.0 idn m mpd pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += sqlite3 ssl stdc++ xml2 z
a54 1
MODULES =	devel/gettext
d64 2
a65 2
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--disable-mserver \
a66 1
		--disable-wikipedia \
@


1.3
log
@- avahi gets picked up when installed, so add it to lib_depends

landry@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/06/02 05:20:58 ajacoutot Exp $
d9 1
a9 1
PKGNAME =	${DISTNAME}p0
d47 1
a47 2
CONFIGURE_ARGS=	--disable-avahi \
		--disable-mserver \
@


1.2
log
@- add missing BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/04/23 19:26:47 landry Exp $
d9 2
d25 2
a26 9
		xosd::x11/xosd

WANTLIB =	ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext \
		Xfixes Xi Xinerama Xrandr Xrender Xt atk-1.0 cairo \
		crypto curl expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
		gio-2.0 glade-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 \
		gthread-2.0 gtk-x11-2.0 idn m mpd pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre pixman-1 png pthread sqlite3 ssl \
		stdc++ xml2 z
d28 7
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/02/02 20:30:48 landry Exp $
d38 2
a39 1
BUILD_DEPENDS =	${RUN_DEPENDS}
@


1.1.1.1
log
@Import gmpc-plugins 0.18.0. Finally, upstream decided to bundle several
plugins altogether, this will clean a bit audio/...
This package provides various cover/metadata/lyrics fetcher plugins,
jamendo and magnatune plugins, osd & shout plugins, and a nice tag editor
plugin. No upgrade path is possible, you'll have to manually remove old
versions of those plugins before installing this package.

ok ajacoutot@@ jasper@@
@
text
@@
