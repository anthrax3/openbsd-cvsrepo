head	1.46;
access;
symbols
	OPENBSD_6_2:1.46.0.2
	OPENBSD_6_2_BASE:1.46
	OPENBSD_6_1:1.43.0.4
	OPENBSD_6_1_BASE:1.43
	OPENBSD_6_0:1.43.0.2
	OPENBSD_6_0_BASE:1.43
	OPENBSD_5_9:1.42.0.2
	OPENBSD_5_9_BASE:1.42
	OPENBSD_5_8:1.40.0.4
	OPENBSD_5_8_BASE:1.40
	OPENBSD_5_7:1.39.0.2
	OPENBSD_5_7_BASE:1.39
	OPENBSD_5_6:1.38.0.6
	OPENBSD_5_6_BASE:1.38
	OPENBSD_5_5:1.38.0.4
	OPENBSD_5_5_BASE:1.38
	OPENBSD_5_4:1.38.0.2
	OPENBSD_5_4_BASE:1.38
	OPENBSD_5_3:1.36.0.2
	OPENBSD_5_3_BASE:1.36
	OPENBSD_5_2:1.34.0.4
	OPENBSD_5_2_BASE:1.34
	OPENBSD_5_1_BASE:1.34
	OPENBSD_5_1:1.34.0.2
	OPENBSD_5_0:1.33.0.2
	OPENBSD_5_0_BASE:1.33
	OPENBSD_4_9:1.31.0.2
	OPENBSD_4_9_BASE:1.31
	OPENBSD_4_8:1.25.0.2
	OPENBSD_4_8_BASE:1.25
	OPENBSD_4_7:1.24.0.2
	OPENBSD_4_7_BASE:1.24
	OPENBSD_4_6:1.20.0.2
	OPENBSD_4_6_BASE:1.20
	OPENBSD_4_5:1.19.0.2
	OPENBSD_4_5_BASE:1.19
	OPENBSD_4_4:1.18.0.2
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.17.0.2
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.1.1.1.0.2
	OPENBSD_3_9_BASE:1.1.1.1
	steven-20060112:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.46
date	2017.07.26.22.45.14;	author sthen;	state Exp;
branches;
next	1.45;
commitid	tD4MFrpYYDDL2UFT;

1.45
date	2017.07.16.19.18.48;	author espie;	state Exp;
branches;
next	1.44;
commitid	tt0GhWK5c4uf9ILG;

1.44
date	2017.04.10.11.45.22;	author sthen;	state Exp;
branches;
next	1.43;
commitid	XDh1zlSBq0boKsHk;

1.43
date	2016.03.11.20.28.21;	author naddy;	state Exp;
branches;
next	1.42;
commitid	UYLP8TE6V7RS2GhJ;

1.42
date	2016.01.12.13.10.44;	author jasper;	state Exp;
branches;
next	1.41;
commitid	sYcRcLxLostH40Lv;

1.41
date	2015.08.12.20.53.15;	author naddy;	state Exp;
branches;
next	1.40;
commitid	vEs6jvaUFGRw5eKg;

1.40
date	2015.04.14.08.38.14;	author bentley;	state Exp;
branches;
next	1.39;
commitid	sLdYcs6vVsBCe2hH;

1.39
date	2014.12.09.20.29.03;	author sthen;	state Exp;
branches;
next	1.38;
commitid	QRoQ4fZKoP1eYVCN;

1.38
date	2013.03.21.08.45.11;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2013.03.10.22.55.01;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2012.12.09.07.29.57;	author brad;	state Exp;
branches;
next	1.35;

1.35
date	2012.09.03.09.09.34;	author stsp;	state Exp;
branches;
next	1.34;

1.34
date	2012.01.03.07.03.54;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2011.04.28.17.51.50;	author kili;	state Exp;
branches;
next	1.32;

1.32
date	2011.04.23.09.08.27;	author kili;	state Exp;
branches;
next	1.31;

1.31
date	2010.11.26.07.07.56;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2010.11.15.13.08.37;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2010.11.15.00.22.46;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2010.10.24.21.00.29;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2010.10.18.16.52.44;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.09.05.10.25.16;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2010.06.13.15.49.10;	author jakemsr;	state Exp;
branches;
next	1.24;

1.24
date	2009.12.22.15.43.14;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.10.28.18.40.13;	author jakemsr;	state Exp;
branches;
next	1.22;

1.22
date	2009.10.05.13.59.56;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2009.10.05.00.12.44;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2009.03.14.03.49.43;	author jakemsr;	state Exp;
branches;
next	1.19;

1.19
date	2009.01.11.09.29.36;	author jakemsr;	state Exp;
branches;
next	1.18;

1.18
date	2008.03.24.05.31.48;	author jakemsr;	state Exp;
branches;
next	1.17;

1.17
date	2008.02.09.15.07.19;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2008.02.02.09.51.04;	author steven;	state Exp;
branches;
next	1.15;

1.15
date	2007.12.16.11.30.20;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2007.12.08.11.08.38;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2007.11.23.10.07.40;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2007.11.13.12.44.22;	author steven;	state Exp;
branches;
next	1.11;

1.11
date	2007.09.18.18.27.00;	author mgrimm;	state Exp;
branches;
next	1.10;

1.10
date	2007.09.15.21.26.00;	author simon;	state Exp;
branches;
next	1.9;

1.9
date	2007.06.06.18.27.17;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2007.06.06.09.35.18;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2007.05.24.09.45.01;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2007.04.30.10.45.37;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2006.12.17.12.12.58;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2006.10.27.12.53.01;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2006.10.12.14.26.03;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2006.08.01.10.50.19;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2006.01.12.08.59.27;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.01.12.08.59.27;	author steven;	state Exp;
branches;
next	;


desc
@@


1.46
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.45 2017/07/16 19:18:48 espie Exp $

COMMENT=	free audio editor

V=		1.3.9
DISTNAME=	audacity-minsrc-${V}
PKGNAME=	audacity-${V}
REVISION=	9
CATEGORIES=	audio

EXTRACT_SUFX=	.tar.bz2

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=audacity/}

HOMEPAGE=	http://audacity.sourceforge.net/

# GPLv2
PERMIT_PACKAGE_CDROM=   Yes

WANTLIB += c expat glib-2.0 gobject-2.0 gtk-x11-2.0 m ogg pthread
WANTLIB += sndfile sndio ${COMPILER_LIBCXX} wx_base_xml wx_base_odbc wx_gtk2_aui
WANTLIB += wx_gtk2_html wx_gtk2_adv wx_gtk2_xrc wx_base_net wx_gtk2_dbgrid
WANTLIB += wx_gtk2_qa wx_base wx_gtk2_core wx_gtk2_richtext samplerate>=1
WANTLIB += FLAC>=8 FLAC++>=7 vorbis>=5 vorbisfile>=4 vorbisenc>=2
WANTLIB += id3tag>=2 mad>=2 portaudio>=1 SoundTouch vamp-hostsdk>=1
WANTLIB += tag

BUILD_DEPENDS=	archivers/zip \
		devel/gettext-tools
LIB_DEPENDS=	x11/wxWidgets>=2.8.6 \
		audio/libsamplerate \
		audio/flac \
		audio/libvorbis \
		audio/libid3tag \
		audio/libmad \
		audio/portaudio-svn>=1406p1 \
		audio/soundtouch \
		audio/vamp-plugin-sdk>=2.2.1p0 \
		audio/taglib
RUN_DEPENDS=	devel/desktop-file-utils \
		misc/shared-mime-info

USE_GMAKE=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		CPPFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include" \
			CFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include" \
			LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib" \
			gl_cv_cc_visibility=no

MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC} \
			${WRKSRC}/lib-src/lib-widget-extra \
			${WRKSRC}/lib-src/portsmf \
			${WRKSRC}/lib-src/FileDialog \
			${WRKSRC}/lib-src/sbsms \
			${WRKSRC}/lib-src/libnyquist

CONFIGURE_ARGS=		--enable-unicode \
			--enable-ladspa \
			--enable-nyquist \
			--with-lib-preferences=system \
			--with-libsndfile=system \
			--with-expat=system \
			--with-libsamplerate=system \
			--without-libresample \
			--with-libvorbis=system \
			--with-libmad=system \
			--with-libflac=system \
			--with-libid3tag=system \
			--with-soundtouch=system \
			--with-libvamp=system \
			--without-libtwolame \
			--without-ffmpeg \
			--without-redland \
			--without-slv2 \
			--without-liblrdf \
			--with-portmixer=no

MAKE_FLAGS=		CC="${CC}"
WRKDIST=		${WRKDIR}/audacity-src-${V}

# Regression tests are in the source tarball but as of 2007, they have
# not been updated for 3 years ; as they're completely out-of-sync with
# the ongoing development, there's no point in running them 
NO_TEST=	Yes

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/pixmaps
	${INSTALL_DATA} ${WRKSRC}/images/AudacityLogo.xpm \
		${PREFIX}/share/pixmaps/audacity.xpm
	${INSTALL_DATA_DIR} ${PREFIX}/share/applications
	${INSTALL_DATA} ${WRKSRC}/src/audacity.desktop \
		${PREFIX}/share/applications/
	${INSTALL_DATA_DIR} ${PREFIX}/share/mime/packages
	${INSTALL_DATA} ${WRKSRC}/src/audacity.xml \
		${PREFIX}/share/mime/packages/

.include <bsd.port.mk>
@


1.45
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2017/04/10 11:45:22 sthen Exp $
d8 1
a8 1
REVISION=	8
@


1.44
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2016/03/11 20:28:21 naddy Exp $
d21 1
a21 1
WANTLIB += sndfile sndio ${LIBCXX} wx_base_xml wx_base_odbc wx_gtk2_aui
@


1.43
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2016/01/12 13:10:44 jasper Exp $
d21 1
a21 1
WANTLIB += sndfile sndio stdc++ wx_base_xml wx_base_odbc wx_gtk2_aui
@


1.42
log
@require fixed vamp-sdk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2015/08/12 20:53:15 naddy Exp $
d57 1
a57 2
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--enable-unicode \
@


1.41
log
@needs devel/gettext-tools
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2015/04/14 08:38:14 bentley Exp $
d8 1
a8 1
REVISION=	7
d38 1
a38 1
		audio/vamp-plugin-sdk \
@


1.40
log
@Cope with the new location of audio/soundtouch's pkg-config file.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2014/12/09 20:29:03 sthen Exp $
d28 2
a29 1
BUILD_DEPENDS=	archivers/zip
@


1.39
log
@change some srand to srand_deterministic, found by deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/03/21 08:45:11 ajacoutot Exp $
d8 1
a8 1
REVISION=	6
@


1.38
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/03/10 22:55:01 espie Exp $
d8 1
a8 1
REVISION=	5
@


1.37
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2012/12/09 07:29:57 brad Exp $
a42 1
USE_LIBTOOL=		Yes
@


1.36
log
@Jacob Meuser disappeared a year and a half ago so remove him as MAINTAINER.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2012/09/03 09:09:34 stsp Exp $
a18 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
d85 1
a85 1
NO_REGRESS=	Yes
@


1.35
log
@fix abort() in pthread_mutex_unlock(); ok aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2012/01/03 07:03:54 ajacoutot Exp $
d8 1
a8 1
REVISION=	4
a15 2

MAINTAINER=	Jacob Meuser <jakemsr@@openbsd.org>
@


1.34
log
@Clean up the use of USE_GROFF for ports where mandoc doesn't have any
ERRORs and formatting looks Ok.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/04/28 17:51:50 kili Exp $
d8 1
a8 1
REVISION=	3
@


1.33
log
@Enable unicode again.

ok landry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/04/23 09:08:27 kili Exp $
a47 1
USE_GROFF =		Yes
a48 1

@


1.32
log
@Disable unicode for now (until we can re-enable it in wxWidgets).

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/11/26 07:07:56 espie Exp $
d8 1
a8 1
REVISION=	2
d65 1
a65 1
			--disable-unicode \
@


1.31
log
@redo depends with >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/11/15 13:08:37 espie Exp $
d8 1
a8 1
REVISION=	1
d65 1
a65 1
			--enable-unicode \
@


1.30
log
@missed libspecs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/11/15 00:22:46 espie Exp $
d34 1
a34 1
LIB_DEPENDS=	wxWidgets-gtk2->=2.8.6:x11/wxWidgets \
d40 1
a40 1
		portaudio-svn->=1406p1:audio/portaudio-svn \
@


1.29
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/10/24 21:00:29 ajacoutot Exp $
d28 1
a28 1
WANTLIB += wx_gtk2_qa wx_base wx_gtk2_core wx_gtk2_richtext samplerate.>=1
@


1.28
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/10/18 16:52:44 espie Exp $
d29 2
a30 2
WANTLIB += FLAC.>=8 FLAC++.>=7 vorbis.>=5 vorbisfile.>=4 vorbisenc.>=2
WANTLIB += id3tag.>=2 mad.>=2 portaudio.>=1 SoundTouch vamp-hostsdk.>=1
d33 13
a45 13
BUILD_DEPENDS=	::archivers/zip
LIB_DEPENDS=	:wxWidgets-gtk2->=2.8.6:x11/wxWidgets \
		::audio/libsamplerate \
		::audio/flac \
		::audio/libvorbis \
		::audio/libid3tag \
		::audio/libmad \
		:portaudio-svn->=1406p1:audio/portaudio-svn \
		::audio/soundtouch \
		::audio/vamp-plugin-sdk \
		::audio/taglib
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils \
		:shared-mime-info-*:misc/shared-mime-info
d48 1
a48 1
USE_GROFF =	Yes
@


1.27
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/09/05 10:25:16 sthen Exp $
a46 1
USE_X11=		Yes
@


1.26
log
@new-style LIB_DEPENDS/REVISION and sync WANTLIB where necessary
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/06/13 15:49:10 jakemsr Exp $
d49 1
@


1.25
log
@don't pull in libjack in portsmf now that we aren't guaranteeing jack
is installed via portaudio.  there is no OpenBSD midi support in jack
anyway ...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/12/22 15:43:14 ajacoutot Exp $
d7 2
a8 1
PKGNAME=	audacity-${V}p1
d25 7
a31 2
WANTLIB=	c expat glib-2.0 gobject-2.0 gtk-x11-2.0 \
		m ogg pthread sndfile sndio stdc++
d34 10
a43 10
LIB_DEPENDS=	wx_base_xml,wx_base_odbc,wx_gtk2_aui,wx_gtk2_html,wx_gtk2_adv,wx_gtk2_xrc,wx_base_net,wx_gtk2_dbgrid,wx_gtk2_qa,wx_base,wx_gtk2_core,wx_gtk2_richtext:wxWidgets-gtk2->=2.8.6:x11/wxWidgets \
		samplerate.>=1::audio/libsamplerate \
		FLAC.>=8,FLAC++.>=7::audio/flac \
		vorbis.>=5,vorbisfile.>=4,vorbisenc.>=2::audio/libvorbis \
		id3tag.>=2::audio/libid3tag \
		mad.>=2::audio/libmad \
		portaudio.>=1:portaudio-svn->=1406p1:audio/portaudio-svn \
		SoundTouch::audio/soundtouch \
		vamp-hostsdk.>=1::audio/vamp-plugin-sdk \
		tag::audio/taglib
@


1.24
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/10/28 18:40:13 jakemsr Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}p0
d25 1
a25 1
		jack m ogg pthread sndfile sndio stdc++
d34 1
a34 1
		portaudio::audio/portaudio-svn \
@


1.23
log
@update to 1.3.9.  mostly bugfixes.
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/10/05 13:59:56 sthen Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}
@


1.22
log
@Revert patch for new glib; as ajacoutot points out, it's not needed
with this version of audacity.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/10/05 00:12:44 sthen Exp $
d5 1
a5 1
V=		1.3.7
d7 1
a7 1
PKGNAME=	audacity-${V}p1
d25 1
a25 1
		m ogg pthread sndfile sndio stdc++
d36 2
a37 1
		vamp-hostsdk.>=1::audio/vamp-plugin-sdk
d55 2
a56 1
			${WRKSRC}/lib-src/portmixer
d78 1
a78 3
			--with-midi=local \
			--with-portmixer=local \
			--with-portaudio=system
@


1.21
log
@Fix build with newer glib2. From gentoo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/03/14 03:49:43 jakemsr Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}p0
@


1.20
log
@update to audacity-1.3.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/01/11 09:29:36 jakemsr Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}
@


1.19
log
@update to audacity-1.3.6
- lots of bugs fixed (though importing Ogg and Flac formats is still
broken)
- now uses external vamp-plugin-sdk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/03/24 05:31:48 jakemsr Exp $
d5 2
a6 2
V=		1.3.6
DISTNAME=	audacity-src-${V}
d24 2
a25 2
WANTLIB=	c m pthread stdc++ ogg expat sndfile glib-2.0 \
		gobject-2.0 gtk-x11-2.0
d36 1
a36 1
		vamp-hostsdk::audio/vamp-plugin-sdk
d81 1
@


1.18
log
@- use the capture parameters argument instead of the playback
  parameters argument with Pa_IsFormatSupported() when checking if
  certain capture parameters are supported.
- take maintainership per former MAINTAINER's suggestion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/02/09 15:07:19 ajacoutot Exp $
d5 1
a5 1
V=		1.3.4
d7 1
a7 1
PKGNAME=	audacity-${V}p3
d24 1
a24 1
WANTLIB=	c m ossaudio pthread stdc++ ogg expat sndfile glib-2.0 \
d35 2
a36 1
		SoundTouch::audio/soundtouch
a43 2
WRKDIST=		${WRKDIR}/${DISTNAME}-beta

d47 8
a54 1
			LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib"
a57 1
			--enable-vamp \
d59 2
a60 4
			--with-id3=system \
			--with-vorbis=system \
			--with-libflac=system \
			--with-libmad=system \
d62 1
d64 5
a68 1
			--with-expat=system \
d70 1
a70 1
			--without-libresample \
d72 7
a78 5
			--with-nyquist=local \
			--with-portmixer \
			--with-portaudio=v19 \
			--with-pa-include=${LOCALBASE}/include \
			--with-help
a86 7
pre-configure:
	@@perl -pi -e 's,!!LOCALBASE!!,${LOCALBASE},g' \
		${WRKSRC}/src/export/ExportMP3.cpp
	@@perl -pi -e 's,!!CXXFLAGS!!,${CXXFLAGS},g' \
		${WRKSRC}/lib-src/libvamp/Makefile.in \
		${WRKSRC}/lib-src/allegro/Makefile.in

d91 6
@


1.17
log
@- respect CXXFLAGS everywhere; spotted by jakemsr@@
- regen PLIST while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/02/02 09:51:04 steven Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}p2
d16 1
a16 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
@


1.16
log
@fix LIB_DEPENDS after wxWidgets update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/12/16 11:30:20 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}p1
d80 3
@


1.15
log
@- add update-mime-database goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/12/08 11:08:38 ajacoutot Exp $
d7 2
a8 2
PKGNAME=	audacity-${V}p0
CATEGORIES=     audio
d28 1
a28 1
LIB_DEPENDS=	wx_base_xml,wx_base_odbc,wx_gtk2_aui,wx_gtk2_html,wx_gtk2_adv,wx_gtk2_xrc,wx_base_net,wx_gtk2_dbgrid,wx_gtk2_qa,wx_base,wx_gtk2_core:wxWidgets-gtk2->=2.8.6:x11/wxWidgets \
@


1.14
log
@- update to 1.3.4

ok jakemsr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/11/23 10:07:40 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}
d36 2
a37 1
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils
@


1.13
log
@- make it use portaudio v19; i.e. full-duplex support!

committing on behalf of jakemsr@@ who did all the work
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/11/13 12:44:22 steven Exp $
d5 1
a5 1
V=		1.3.3
d7 1
a7 1
PKGNAME=	audacity-${V}p3
d10 2
d34 2
a35 1
		portaudio::audio/portaudio-svn
d51 2
d60 1
a63 1
			--with-ladspa \
a64 1
			--with-soundtouch=local \
@


1.12
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/09/18 18:27:00 mgrimm Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}p2
d26 1
a26 1
LIB_DEPENDS=	wx_base_xml,wx_base_odbc,wx_gtk2_html,wx_gtk2_adv,wx_gtk2_xrc,wx_base_net,wx_gtk2_dbgrid,wx_gtk2_qa,wx_base,wx_gtk2_core,wx_gtk2_aui:wxWidgets-gtk2->=2.6.3:x11/wxWidgets \
d31 2
a32 1
		mad.>=2::audio/libmad
d61 2
a62 1
			--with-portaudio=v18 \
@


1.11
log
@Make Audacity work with the audio/flac update:
 - Adjust LIB_DEPENDS,
 - fix configure checks
 - make it build with the API changes in FLAC++

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/09/15 21:26:00 simon Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}p1
d26 1
a26 1
LIB_DEPENDS=	wx_base_xml,wx_base_odbc,wx_gtk2_html,wx_gtk2_adv,wx_gtk2_xrc,wx_base_net,wx_gtk2_dbgrid,wx_gtk2_qa,wx_base,wx_gtk2_core:wxWidgets-gtk2->=2.6.3:x11/wxWidgets \
@


1.10
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/06/06 18:27:17 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}p0
d28 1
a28 1
		FLAC.>=7,FLAC++.>=6::audio/flac \
@


1.9
log
@- revert to using portaudio v18 ; v19 has an endianness pbm which makes
powerpc dore dump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/06/06 09:35:18 ajacoutot Exp $
d3 1
a3 1
COMMENT=	"free audio editor"
@


1.8
log
@- update audacity to latest version: 1.3.3
- add NO_REGRESS since regression tests have not been updated for more
than 3 years and upstream does not seem interested
- add a patch from deanna@@ that makes audacity use portaudio v19 and
make full duplex work (well sort of, but at least it does not hang
anymore)

ok deanna@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/05/24 09:45:01 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}
d60 1
a60 1
			--with-portaudio=v19 \
@


1.7
log
@- some cleaning:
fix .desktop entry and add desktop-file-utils as run_depends
add audacity.xpm
fix lib_depends/WANTLIB
regen and update PLIST accordingly
regen patches while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/04/30 10:45:37 ajacoutot Exp $
d5 1
a5 1
V=		1.3.2
d7 1
a7 1
PKGNAME=	audacity-${V}p1
d22 2
a23 1
WANTLIB=	c m ossaudio pthread stdc++ ogg expat sndfile
d38 2
d55 1
d60 1
a60 1
			--with-portaudio=v18 \
a63 1
WRKDIST=		${WRKDIR}/${DISTNAME}-beta
d65 4
a68 1
REGRESS_FLAGS=		LDFLAGS="-L${X11BASE}/lib"
@


1.6
log
@- use xenocara expat
- USE_X11

ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/12/17 12:12:58 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}p0
d22 1
a22 1
WANTLIB=	c m ossaudio pthread stdc++ ogg expat
a25 1
		sndfile.>=1::audio/libsndfile \
d31 1
d67 5
@


1.5
log
@- update to version 1.3.2
big thanks to Martynas Venckus for his work on regression tests

"go ahead!" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/10/27 12:53:01 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	audacity-${V}
d22 1
a22 1
WANTLIB=	c m ossaudio pthread stdc++ ogg
d31 1
a31 2
		mad.>=2::audio/libmad \
		expat.>=6::textproc/expat
d33 1
d38 3
a40 3
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			CFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"
@


1.4
log
@- update my email address
- bump PKGNAME

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/10/12 14:26:03 alek Exp $
d5 3
a7 2
DISTNAME=	audacity-src-1.3.0b
PKGNAME=	${DISTNAME:S/-src//}p0
d22 1
a22 2
WANTLIB=	c m ossaudio pthread stdc++ \
		FLAC++ ogg vorbisenc
d28 2
a29 2
		FLAC.>=4::audio/flac \
		vorbis.>=0,vorbisfile.>=1::audio/libvorbis \
d31 2
a32 1
		mad.>=2::audio/libmad
d43 1
d50 2
a51 1
			--with-libresample=local \
d65 1
a65 1
	@@perl -pi -e 's,!!LOCALBASE!!,${LOCALBASE},' \
@


1.3
log
@Update to 1.3.0b as previous version doesn't work with new wxWidgtes

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/08/01 10:50:19 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME:S/-src//}
d13 1
a13 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@lphp.org>
@


1.2
log
@convert a few libspecs to new style.

Note: no package bump, those are only BUILD dependencies,
the pkg_create code will create the correct wantlib specs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/01/12 08:59:27 steven Exp $
d5 1
a5 1
DISTNAME=	audacity-src-1.2.4
d25 1
a25 1
LIB_DEPENDS=	wx_gtk.>=2.4::x11/wxWidgets/gtk \
d39 1
a39 2
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
			WXCONFIG="${LOCALBASE}/bin/wxgtk-2.4-config"
d48 2
a49 2
			--with-libresample \
			--with-nyquist \
d52 1
a52 1
			--with-soundtouch \
d57 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d25 7
a31 7
LIB_DEPENDS=	wx_gtk.2.4::x11/wxWidgets/gtk \
		sndfile.1::audio/libsndfile \
		samplerate.1::audio/libsamplerate \
		FLAC.4::audio/flac \
		vorbis.0,vorbisfile.1::audio/libvorbis \
		id3tag.2::audio/libid3tag \
		mad.2::audio/libmad
@


1.1.1.1
log
@initial import of audacity-1.2.4

Audacity is a free audio editor. You can record sounds, play sounds,
import and export WAV, AIFF, Ogg Vorbis, and MP3 files, and more. Use it
to edit your sounds using Cut, Copy and Paste (with unlimited Undo), mix
tracks together, or apply effects to your recordings.

Initial port and many patches by jakemsr@@. Thanks to maintainer
Antoine Jacoutot for persistence and keeping the port alive.

ok jakemsr@@
@
text
@@
