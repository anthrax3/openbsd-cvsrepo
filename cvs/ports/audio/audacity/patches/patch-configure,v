head	1.16;
access;
symbols
	OPENBSD_6_1:1.16.0.8
	OPENBSD_6_1_BASE:1.16
	OPENBSD_6_0:1.16.0.6
	OPENBSD_6_0_BASE:1.16
	OPENBSD_5_9:1.16.0.2
	OPENBSD_5_9_BASE:1.16
	OPENBSD_5_8:1.16.0.4
	OPENBSD_5_8_BASE:1.16
	OPENBSD_5_7:1.13.0.20
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.13.0.18
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.16
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.14
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.13.0.12
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.13.0.10
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.8
	OPENBSD_5_0:1.13.0.6
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.13.0.4
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.13.0.2
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.11.0.2
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.10.0.2
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.9.0.4
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.1.1.1.0.4
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.2
	OPENBSD_3_9_BASE:1.1.1.1
	steven-20060112:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.16
date	2015.07.17.23.11.52;	author jasper;	state Exp;
branches;
next	1.15;
commitid	ELwZCMx5yoAjCJJd;

1.15
date	2015.07.17.22.25.14;	author jasper;	state Exp;
branches;
next	1.14;
commitid	ZtnxuKsFATEEfNyD;

1.14
date	2015.04.14.08.38.14;	author bentley;	state Exp;
branches;
next	1.13;
commitid	sLdYcs6vVsBCe2hH;

1.13
date	2010.06.13.15.49.10;	author jakemsr;	state Exp;
branches;
next	1.12;

1.12
date	2009.10.28.18.40.13;	author jakemsr;	state Exp;
branches;
next	1.11;

1.11
date	2009.03.14.03.49.43;	author jakemsr;	state Exp;
branches;
next	1.10;

1.10
date	2009.01.11.09.29.36;	author jakemsr;	state Exp;
branches;
next	1.9;

1.9
date	2007.12.08.11.08.38;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2007.11.23.10.07.41;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2007.09.18.18.27.00;	author mgrimm;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.12.21.41.23;	author merdely;	state Exp;
branches;
next	1.5;

1.5
date	2007.06.06.09.35.18;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2007.05.24.09.45.01;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2006.12.17.12.12.58;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2006.10.12.14.26.03;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2006.01.12.08.59.27;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.01.12.08.59.27;	author steven;	state Exp;
branches;
next	;


desc
@@


1.16
log
@- add note why we're using ',' as a separator in the sed command
- add missing rcs id while here
@
text
@$OpenBSD$

- last hunk: use ',' as separator, otherwise the paths in $pa_libs get
  interpreted as part of the regex.

--- configure.orig	Mon Aug 31 04:45:37 2009
+++ configure	Fri Jul 17 16:07:12 2015
@@@@ -822,7 +822,6 @@@@ JACK_CFLAGS
 JACK_LIBS'
 ac_subdirs_all='"lib-src/FileDialog"
 $CONFIG_SUBDIRS
-lib-src/portaudio-v19
 lib-src/portmixer'
 
 # Initialize some variables set by options.
@@@@ -6933,7 +6932,7 @@@@ if test "${ac_cv_lib_FLAC_FLAC__stream_decoder_new+set
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lFLAC -lFLAC++ -lFLAC $LIBS"
+LIBS="-lFLAC -lFLAC++ -lFLAC -logg $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -7136,7 +7135,7 @@@@ fi
 
    if test "x$lib_found" = "xyes" && test "x$header_found" = "xyes" ; then
       LIBFLAC_SYSTEM_AVAILABLE="yes"
-      LIBFLAC_SYSTEM_LIBS="-lFLAC++ -lFLAC"
+      LIBFLAC_SYSTEM_LIBS="-lFLAC++ -lFLAC -logg"
       LIBFLAC_SYSTEM_CPPSYMBOLS="USE_LIBFLAC"
       { $as_echo "$as_me:$LINENO: FLAC libraries are available as system libraries" >&5
 $as_echo "$as_me: FLAC libraries are available as system libraries" >&6;}
@@@@ -7684,12 +7683,12 @@@@ if test -n "$SOUNDTOUCH_CFLAGS"; then
     pkg_cv_SOUNDTOUCH_CFLAGS="$SOUNDTOUCH_CFLAGS"
  elif test -n "$PKG_CONFIG"; then
     if test -n "$PKG_CONFIG" && \
-    { ($as_echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"soundtouch-1.0 >= 1.3.0\"") >&5
-  ($PKG_CONFIG --exists --print-errors "soundtouch-1.0 >= 1.3.0") 2>&5
+    { ($as_echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"soundtouch >= 1.3.0\"") >&5
+  ($PKG_CONFIG --exists --print-errors "soundtouch >= 1.3.0") 2>&5
   ac_status=$?
   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-  pkg_cv_SOUNDTOUCH_CFLAGS=`$PKG_CONFIG --cflags "soundtouch-1.0 >= 1.3.0" 2>/dev/null`
+  pkg_cv_SOUNDTOUCH_CFLAGS=`$PKG_CONFIG --cflags "soundtouch >= 1.3.0" 2>/dev/null`
 else
   pkg_failed=yes
 fi
@@@@ -7700,12 +7699,12 @@@@ if test -n "$SOUNDTOUCH_LIBS"; then
     pkg_cv_SOUNDTOUCH_LIBS="$SOUNDTOUCH_LIBS"
  elif test -n "$PKG_CONFIG"; then
     if test -n "$PKG_CONFIG" && \
-    { ($as_echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"soundtouch-1.0 >= 1.3.0\"") >&5
-  ($PKG_CONFIG --exists --print-errors "soundtouch-1.0 >= 1.3.0") 2>&5
+    { ($as_echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"soundtouch >= 1.3.0\"") >&5
+  ($PKG_CONFIG --exists --print-errors "soundtouch >= 1.3.0") 2>&5
   ac_status=$?
   $as_echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-  pkg_cv_SOUNDTOUCH_LIBS=`$PKG_CONFIG --libs "soundtouch-1.0 >= 1.3.0" 2>/dev/null`
+  pkg_cv_SOUNDTOUCH_LIBS=`$PKG_CONFIG --libs "soundtouch >= 1.3.0" 2>/dev/null`
 else
   pkg_failed=yes
 fi
@@@@ -7723,9 +7722,9 @@@@ else
         _pkg_short_errors_supported=no
 fi
         if test $_pkg_short_errors_supported = yes; then
-	        SOUNDTOUCH_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors "soundtouch-1.0 >= 1.3.0" 2>&1`
+	        SOUNDTOUCH_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors "soundtouch >= 1.3.0" 2>&1`
         else
-	        SOUNDTOUCH_PKG_ERRORS=`$PKG_CONFIG --print-errors "soundtouch-1.0 >= 1.3.0" 2>&1`
+	        SOUNDTOUCH_PKG_ERRORS=`$PKG_CONFIG --print-errors "soundtouch >= 1.3.0" 2>&1`
         fi
 	# Put the nasty error message in config.log where it belongs
 	echo "$SOUNDTOUCH_PKG_ERRORS" >&5
@@@@ -9215,13 +9214,8 @@@@ _ACEOF
 esac
 
 
-LOCAL_LIBS="$LOCAL_LIBS portaudio-v19/lib/libportaudio.a"
-EXTRAOBJS="$EXTRAOBJS ../lib-src/portaudio-v19/lib/libportaudio.a"
-CXXFLAGS="-I\$(top_srcdir)/lib-src/portaudio-v19/include $CXXFLAGS"
 
-subdirs="$subdirs lib-src/portaudio-v19"
 
-
 case "${host_os}" in
    darwin* | rhapsody*)
       LIBS="-framework AudioUnit -framework AudioToolbox $LIBS"
@@@@ -9371,9 +9365,7 @@@@ else
 $as_echo "yes" >&6; }
 	have_jack=yes
 fi
-      if [ $have_jack = "yes" ] ; then
-         LIBS="$LIBS $JACK_LIBS"
-      fi
+
       { $as_echo "$as_me:$LINENO: checking for HPI_SubSysCreate in -lhpi" >&5
 $as_echo_n "checking for HPI_SubSysCreate in -lhpi... " >&6; }
 if test "${ac_cv_lib_hpi_HPI_SubSysCreate+set}" = set; then
@@@@ -9637,7 +9629,6 @@@@ _ACEOF
 
    subdirs="$subdirs lib-src/portmixer"
 
-   ac_configure_args="$ac_configure_args --with-pa-include=../portaudio-v19/include"
 fi
 
 { $as_echo "$as_me:$LINENO: checking for lrint" >&5
@@@@ -11255,7 +11246,7 @@@@ $as_echo "$as_me: WARNING: no configuration informatio
       { $as_echo "$as_me:$LINENO: running $SHELL $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&5
 $as_echo "$as_me: running $SHELL $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&6;}
       # The eval makes quoting arguments work.
-      eval "\$SHELL \"\$ac_sub_configure\" $ac_sub_configure_args \
+      eval "\$SHELL \"\$ac_sub_configure\" $ac_sub_configure_args CFLAGS='"$CFLAGS"' CXXFLAGS='"$CXXFLAGS"' LDFLAGS='"$LDFLAGS"' \
 	   --cache-file=\"\$ac_sub_cache_file\" --srcdir=\"\$ac_srcdir\"" ||
 	{ { $as_echo "$as_me:$LINENO: error: $ac_sub_configure failed for $ac_dir" >&5
 $as_echo "$as_me: error: $ac_sub_configure failed for $ac_dir" >&2;}
@@@@ -11271,9 +11262,8 @@@@ $as_echo "$as_me: WARNING: unrecognized options: $ac_u
 fi
 
 
-pa_libs=
-pa_libs=`grep 'Libs:' lib-src/portaudio-v19/portaudio-2.0.pc | sed -e 's/Libs://;s/-L${libdir}//;s/-lportaudio//'`
-sed -i -e "s/@@PA_LIBS@@/$pa_libs/" src/Makefile
+pa_libs=`pkg-config --libs portaudio-2.0`
+sed -i -e "s,@@PA_LIBS@@,$pa_libs," src/Makefile
 
 echo ""
 echo "Finished configure:"
@


1.15
log
@use sed -i
@
text
@d1 5
@


1.14
log
@Cope with the new location of audio/soundtouch's pkg-config file.
@
text
@d1 2
a2 2
--- configure.orig	Mon Aug 31 03:45:37 2009
+++ configure	Sat Apr 11 22:02:36 2015
d123 1
a123 1
+perl -pi -e "s#\@@PA_LIBS\@@#$pa_libs#" src/Makefile
@


1.13
log
@don't pull in libjack in portsmf now that we aren't guaranteeing jack
is installed via portaudio.  there is no OpenBSD midi support in jack
anyway ...
@
text
@a0 1
$OpenBSD: patch-configure,v 1.12 2009/10/28 18:40:13 jakemsr Exp $
d2 1
a2 1
+++ configure	Sun Jun  6 19:19:44 2010
d29 44
@


1.12
log
@update to 1.3.9.  mostly bugfixes.
ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.11 2009/03/14 03:49:43 jakemsr Exp $
d3 1
a3 1
+++ configure	Sat Oct 17 15:08:27 2009
d44 12
a55 1
@@@@ -9637,7 +9631,6 @@@@ _ACEOF
d63 1
a63 1
@@@@ -11255,7 +11248,7 @@@@ $as_echo "$as_me: WARNING: no configuration informatio
d72 1
a72 1
@@@@ -11271,9 +11264,8 @@@@ $as_echo "$as_me: WARNING: unrecognized options: $ac_u
@


1.11
log
@update to audacity-1.3.7
@
text
@d1 12
a12 4
$OpenBSD: patch-configure,v 1.10 2009/01/11 09:29:36 jakemsr Exp $
--- configure.orig	Tue Jan 27 12:50:59 2009
+++ configure	Mon Mar  9 01:17:51 2009
@@@@ -6809,7 +6809,7 @@@@ if test "${ac_cv_lib_FLAC_FLAC__stream_decoder_new+set
d21 1
a21 1
@@@@ -7012,7 +7012,7 @@@@ fi
d30 2
a31 8
@@@@ -8742,7 +8742,7 @@@@ fi
 if test "${with_portaudio+set}" = set; then
   withval=$with_portaudio; use_portaudio=$withval
 else
-  use_portaudio="v19"
+  use_portaudio="system"
 fi
 
a32 26
@@@@ -9290,7 +9290,7 @@@@ done
          ;;
    esac
 
-else
+elif [ "$use_portaudio" = "v18" ] ; then
       CXXFLAGS="-I\$(top_srcdir)/lib-src/portaudio/pa_common $CXXFLAGS"
 
    case "${host_os}" in
@@@@ -9310,6 +9310,18 @@@@ else
          EXTRAOBJS="$EXTRAOBJS ../lib-src/portaudio/pa_unix_oss/portaudio.a"
          ;;
    esac
+else
+    # system pa
+cat >>confdefs.h <<\_ACEOF
+#define USE_PORTAUDIO_V19 1
+_ACEOF
+
+
+   # LOCAL_LIBS="$LOCAL_LIBS portaudio-v19/lib/libportaudio.a"
+   LIBS="$LIBS -lportaudio"
+   # EXTRAOBJS="$EXTRAOBJS ../lib-src/portaudio-v19/lib/libportaudio.a"
+   # CXXFLAGS="-I\$(top_srcdir)/lib-src/portaudio-v19/include $CXXFLAGS"
+
 fi
d34 3
d38 1
a38 2
@@@@ -9328,7 +9340,7 @@@@ _ACEOF
       subdirs="$subdirs lib-src/portmixer"
d40 5
a44 19
       ac_configure_args="$ac_configure_args --with-pa-include=../portaudio-v19/include"
-   else
+   elif [ "$use_portaudio" = "v18" ] ; then
 
       CXXFLAGS="-I\$(top_srcdir)/lib-src/portmixer/px_common $CXXFLAGS"
       case "${host_os}" in
@@@@ -9345,6 +9357,13 @@@@ _ACEOF
             EXTRAOBJS="$EXTRAOBJS ../lib-src/portmixer/px_unix_oss/portmixer.a"
             ;;
       esac
+   else
+     # system pa
+      CXXFLAGS="-I\$(top_srcdir)/lib-src/portmixer/include $CXXFLAGS"
+      LOCAL_LIBS="$LOCAL_LIBS portmixer/libportmixer.a"
+      EXTRAOBJS="$EXTRAOBJS ../lib-src/portmixer/libportmixer.a"
+
+      subdirs="$subdirs lib-src/portmixer"
    fi
 fi
d46 1
a46 2
@@@@ -9536,7 +9555,7 @@@@ if [ "x$LIBEXPAT_USE_LOCAL" = "xyes" ]; then
    ac_config_files="$ac_config_files lib-src/expat/Makefile"
d48 1
a49 3
-if [ "$use_portaudio" != "v19" ]; then
+if [ "$use_portaudio" = "v18" ]; then
    ac_config_files="$ac_config_files lib-src/portaudio/pa_unix_oss/Makefile"
d51 2
a52 2
 fi
@@@@ -10970,7 +10989,7 @@@@ $as_echo "$as_me: WARNING: no configuration informatio
d61 2
a62 1
@@@@ -10988,9 +11007,12 @@@@ fi
d64 3
a66 8
 pa_libs=
 if [ "$use_portaudio" = "v19" ] ; then
-   pa_libs=`grep 'Libs:' lib-src/portaudio-v19/portaudio-2.0.pc | sed -e 's/Libs://;s/-L${libdir}//;s/-lportaudio//'`
+   # pa_libs=`grep 'Libs:' lib-src/portaudio-v19/portaudio-2.0.pc | sed -e 's/Libs://;s/-L${libdir}//;s/-lportaudio//'`
+   pa_libs="`pkg-config --libs portaudio-2.0`"
+elif [ "$use_portaudio" = "system" ] ; then
+   pa_libs="`pkg-config --libs portaudio-2.0`"
 fi
d68 1
a72 12
@@@@ -11031,8 +11053,10 @@@@ case "${host_os}" in
   *)
     if [ "$use_portaudio" = "v19" ] ; then
        echo "portaudio: v19"
-    else
+    elif [ "$use_portaudio" = "v18" ] ; then
        echo "portaudio: v18 (OSS only)"
+    else
+       echo "portaudio: system"
     fi
     ;;
 esac
@


1.10
log
@update to audacity-1.3.6
- lots of bugs fixed (though importing Ogg and Flac formats is still
broken)
- now uses external vamp-plugin-sdk
@
text
@d1 5
a5 5
$OpenBSD: patch-configure,v 1.9 2007/12/08 11:08:38 ajacoutot Exp $
--- configure.orig	Sat Oct 25 05:14:28 2008
+++ configure	Thu Nov 13 20:06:11 2008
@@@@ -6612,7 +6612,7 @@@@ if test "${ac_cv_lib_FLAC_FLAC__stream_decoder_new+set
   echo $ECHO_N "(cached) $ECHO_C" >&6
d13 1
a13 1
@@@@ -6809,7 +6809,7 @@@@ fi
d20 3
a22 3
       { echo "$as_me:$LINENO: FLAC libraries are available as system libraries" >&5
 echo "$as_me: FLAC libraries are available as system libraries" >&6;}
@@@@ -8787,7 +8787,7 @@@@ fi
d31 1
a31 1
@@@@ -9316,7 +9316,7 @@@@ done
d40 1
a40 1
@@@@ -9336,6 +9336,20 @@@@ else
a54 2
+   CFLAGS="$CFLAGS -DUSE_PORTAUDIO_V19"
+   CXXFLAGS="$CXXFLAGS -DUSE_PORTAUDIO_V19"
d59 1
a59 1
@@@@ -9354,7 +9368,7 @@@@ _ACEOF
d68 1
a68 1
@@@@ -9371,6 +9385,13 @@@@ _ACEOF
d82 1
a82 1
@@@@ -9575,7 +9596,7 @@@@ if [ "x$LIBEXPAT_USE_LOCAL" = "xyes" ]; then
d91 3
a93 3
@@@@ -10962,7 +10983,7 @@@@ echo "$as_me: WARNING: no configuration information is
       { echo "$as_me:$LINENO: running $SHELL $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&5
 echo "$as_me: running $SHELL $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&6;}
d98 3
a100 3
 	{ { echo "$as_me:$LINENO: error: $ac_sub_configure failed for $ac_dir" >&5
 echo "$as_me: error: $ac_sub_configure failed for $ac_dir" >&2;}
@@@@ -10976,9 +10997,12 @@@@ fi
d108 1
a108 1
+   pa_libs="-lportaudio"
d115 12
@


1.9
log
@- update to 1.3.4

ok jakemsr@@
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.orig	Sat Nov 24 12:20:58 2007
+++ configure	Sat Nov 24 12:26:30 2007
@@@@ -5541,7 +5541,7 @@@@ if test "${ac_cv_lib_FLAC_FLAC__stream_decoder_new+set
d13 1
a13 1
@@@@ -5738,7 +5738,7 @@@@ fi
d22 7
a28 3
@@@@ -7025,6 +7025,7 @@@@ cat >>confdefs.h <<\_ACEOF
 #define USE_PORTAUDIO_V19 1
 _ACEOF
a29 1
+if [ x"no" = x"yes" ] ; then
d31 1
a31 3
    BUILDLIBS="$BUILDLIBS portaudio-v19/lib/libportaudio.a"
    EXTRAOBJS="$EXTRAOBJS ../lib-src/portaudio-v19/lib/libportaudio.a"
@@@@ -7419,6 +7420,8 @@@@ done
d35 14
a48 1
+fi
d50 9
a58 2
 else
       CXXFLAGS="-I\$(top_srcdir)/lib-src/portaudio/pa_common $CXXFLAGS"
a59 1
@@@@ -7456,7 +7459,7 @@@@ _ACEOF
d61 1
d64 3
a66 3
-      ac_configure_args="$ac_configure_args --with-pa-include=../portaudio-v19/include"
+      # ac_configure_args="$ac_configure_args --with-pa-include=../portaudio-v19/include"
    else
d69 25
a93 1
@@@@ -9165,7 +9168,7 @@@@ echo "$as_me: WARNING: no configuration information is
d102 1
a102 1
@@@@ -9179,9 +9182,10 @@@@ fi
d109 2
@


1.8
log
@- make it use portaudio v19; i.e. full-duplex support!

committing on behalf of jakemsr@@ who did all the work
@
text
@d1 4
a4 13
$OpenBSD: patch-configure,v 1.7 2007/09/18 18:27:00 mgrimm Exp $
--- configure.orig	Thu May 17 21:56:02 2007
+++ configure	Sat Oct 27 03:12:09 2007
@@@@ -4316,13 +4316,13 @@@@ else
 fi;
 
 
-   echo "$as_me:$LINENO: checking for FLAC__file_decoder_new in -lFLAC" >&5
-echo $ECHO_N "checking for FLAC__file_decoder_new in -lFLAC... $ECHO_C" >&6
-if test "${ac_cv_lib_FLAC_FLAC__file_decoder_new+set}" = set; then
+   echo "$as_me:$LINENO: checking for FLAC__stream_decoder_new in -lFLAC" >&5
+echo $ECHO_N "checking for FLAC__stream_decoder_new in -lFLAC... $ECHO_C" >&6
+if test "${ac_cv_lib_FLAC_FLAC__stream_decoder_new+set}" = set; then
d13 1
a13 41
@@@@ -4336,11 +4336,11 @@@@ extern "C"
 #endif
 /* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
-char FLAC__file_decoder_new ();
+char FLAC__stream_decoder_new ();
 int
 main ()
 {
-FLAC__file_decoder_new ();
+FLAC__stream_decoder_new ();
   ;
   return 0;
 }
@@@@ -4367,20 +4367,20 @@@@ if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_FLAC_FLAC__file_decoder_new=yes
+  ac_cv_lib_FLAC_FLAC__stream_decoder_new=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_FLAC_FLAC__file_decoder_new=no
+ac_cv_lib_FLAC_FLAC__stream_decoder_new=no
 fi
 rm -f conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_FLAC_FLAC__file_decoder_new" >&5
-echo "${ECHO_T}$ac_cv_lib_FLAC_FLAC__file_decoder_new" >&6
-if test $ac_cv_lib_FLAC_FLAC__file_decoder_new = yes; then
+echo "$as_me:$LINENO: result: $ac_cv_lib_FLAC_FLAC__stream_decoder_new" >&5
+echo "${ECHO_T}$ac_cv_lib_FLAC_FLAC__stream_decoder_new" >&6
+if test $ac_cv_lib_FLAC_FLAC__stream_decoder_new = yes; then
   lib_found="yes"
 else
   lib_found="no"
@@@@ -4534,7 +4534,7 @@@@ fi
d22 1
a22 1
@@@@ -6293,6 +6293,7 @@@@ cat >>confdefs.h <<\_ACEOF
d30 1
a30 1
@@@@ -6731,6 +6732,9 @@@@ done
a35 1
+
d39 1
a39 1
@@@@ -6786,7 +6790,7 @@@@ _ACEOF
d41 1
a41 1
 subdirs="$subdirs lib-src/portmixer"
d48 3
a50 3
@@@@ -8516,7 +8520,7 @@@@ echo "$as_me: WARNING: no configuration information is
       { echo "$as_me:$LINENO: running $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&5
 echo "$as_me: running $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&6;}
d52 3
a54 3
-      eval $ac_sub_configure $ac_sub_configure_args \
+      eval $ac_sub_configure $ac_sub_configure_args CFLAGS='"$CFLAGS"' CXXFLAGS='"$CXXFLAGS"' LDFLAGS='"$LDFLAGS"' \
 	   --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir ||
d57 1
a57 1
@@@@ -8530,9 +8534,10 @@@@ fi
@


1.7
log
@Make Audacity work with the audio/flac update:
 - Adjust LIB_DEPENDS,
 - fix configure checks
 - make it build with the API changes in FLAC++

ok naddy@@
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.6 2007/09/12 21:41:23 merdely Exp $
--- configure.orig	Fri May 18 06:56:02 2007
+++ configure	Sun Sep 16 10:52:20 2007
d71 28
a98 1
@@@@ -8516,7 +8516,7 @@@@ echo "$as_me: WARNING: no configuration information is
d107 3
a109 1
@@@@ -8532,7 +8532,7 @@@@ pa_libs=
d111 3
a113 1
    pa_libs=`grep 'Libs:' lib-src/portaudio-v19/portaudio-2.0.pc | sed -e 's/Libs://;s/-L${libdir}//;s/-lportaudio//'`
d116 1
a116 1
+perl -pi -e "s/\@@PA_LIBS\@@/$pa_libs/" src/Makefile
@


1.6
log
@Replace "sed -i" with "perl -pi".
No binary change.

ok naddy@@
@
text
@d1 70
a70 3
$OpenBSD: patch-configure,v 1.5 2007/06/06 09:35:18 ajacoutot Exp $
--- configure.orig	Fri May 18 00:56:02 2007
+++ configure	Wed Sep 12 15:29:36 2007
@


1.5
log
@- update audacity to latest version: 1.3.3
- add NO_REGRESS since regression tests have not been updated for more
than 3 years and upstream does not seem interested
- add a patch from deanna@@ that makes audacity use portaudio v19 and
make full duplex work (well sort of, but at least it does not hang
anymore)

ok deanna@@
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.4 2007/05/24 09:45:01 ajacoutot Exp $
--- configure.orig	Fri May 18 06:56:02 2007
+++ configure	Tue Jun  5 10:43:27 2007
d13 9
@


1.4
log
@- some cleaning:
fix .desktop entry and add desktop-file-utils as run_depends
add audacity.xpm
fix lib_depends/WANTLIB
regen and update PLIST accordingly
regen patches while here
@
text
@d1 6
a6 6
$OpenBSD: patch-configure,v 1.3 2006/12/17 12:12:58 ajacoutot Exp $
--- configure.orig	Sun Oct 29 01:05:36 2006
+++ configure	Thu May 24 11:02:16 2007
@@@@ -9402,7 +9402,7 @@@@ echo "$as_me: WARNING: no configuration information is
       { echo "$as_me:$LINENO: running $SHELL $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&5
 echo "$as_me: running $SHELL $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&6;}
d8 3
a10 3
-      eval "\$SHELL \"\$ac_sub_configure\" $ac_sub_configure_args \
+      eval "\$SHELL \"\$ac_sub_configure\" $ac_sub_configure_args CFLAGS='"$CFLAGS"' CXXFLAGS='"$CXXFLAGS"' LDFLAGS='"$LDFLAGS"' \
 	   --cache-file=\"\$ac_sub_cache_file\" --srcdir=\"\$ac_srcdir\"" ||
@


1.3
log
@- update to version 1.3.2
big thanks to Martynas Venckus for his work on regression tests

"go ahead!" jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.2 2006/10/12 14:26:03 alek Exp $
--- configure.orig	Sat Dec  2 11:06:14 2006
+++ configure	Sat Dec  2 11:09:01 2006
@@@@ -9402,7 +9402,7 @@@@ echo "$as_me: WARNING: no configuration 
@


1.2
log
@Update to 1.3.0b as previous version doesn't work with new wxWidgtes

ok ajacoutot@@
@
text
@d1 6
a6 44
$OpenBSD: patch-configure,v 1.1.1.1 2006/01/12 08:59:27 steven Exp $
--- configure.orig	Sun Nov 27 17:47:27 2005
+++ configure	Sun Oct  8 21:14:07 2006
@@@@ -5103,23 +5103,23 @@@@ fi
   else
      PKG_CONFIG_MIN_VERSION=0.9.0
      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then
-        echo "$as_me:$LINENO: checking for samplerate >= 0.15.0" >&5
-echo $ECHO_N "checking for samplerate >= 0.15.0... $ECHO_C" >&6
+        echo "$as_me:$LINENO: checking for samplerate >= 0.0.15" >&5
+echo $ECHO_N "checking for samplerate >= 0.0.15... $ECHO_C" >&6
 
-        if $PKG_CONFIG --exists "samplerate >= 0.15.0" ; then
+        if $PKG_CONFIG --exists "samplerate >= 0.0.15" ; then
             echo "$as_me:$LINENO: result: yes" >&5
 echo "${ECHO_T}yes" >&6
             succeeded=yes
 
             echo "$as_me:$LINENO: checking SAMPLERATE_CFLAGS" >&5
 echo $ECHO_N "checking SAMPLERATE_CFLAGS... $ECHO_C" >&6
-            SAMPLERATE_CFLAGS=`$PKG_CONFIG --cflags "samplerate >= 0.15.0"`
+            SAMPLERATE_CFLAGS=`$PKG_CONFIG --cflags "samplerate >= 0.0.15"`
             echo "$as_me:$LINENO: result: $SAMPLERATE_CFLAGS" >&5
 echo "${ECHO_T}$SAMPLERATE_CFLAGS" >&6
 
             echo "$as_me:$LINENO: checking SAMPLERATE_LIBS" >&5
 echo $ECHO_N "checking SAMPLERATE_LIBS... $ECHO_C" >&6
-            SAMPLERATE_LIBS=`$PKG_CONFIG --libs "samplerate >= 0.15.0"`
+            SAMPLERATE_LIBS=`$PKG_CONFIG --libs "samplerate >= 0.0.15"`
             echo "$as_me:$LINENO: result: $SAMPLERATE_LIBS" >&5
 echo "${ECHO_T}$SAMPLERATE_LIBS" >&6
         else
@@@@ -5127,7 +5127,7 @@@@ echo "${ECHO_T}$SAMPLERATE_LIBS" >&6
             SAMPLERATE_LIBS=""
             ## If we have a custom action on failure, don't print errors, but
             ## do set a variable so people can do so.
-            SAMPLERATE_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "samplerate >= 0.15.0"`
+            SAMPLERATE_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "samplerate >= 0.0.15"`
 
         fi
 
@@@@ -7723,7 +7723,7 @@@@ echo "$as_me: WARNING: no configuration 
       { echo "$as_me:$LINENO: running $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&5
 echo "$as_me: running $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&6;}
d8 3
a10 3
-      eval $ac_sub_configure $ac_sub_configure_args \
+      eval $ac_sub_configure $ac_sub_configure_args CFLAGS='"$CFLAGS"' CXXFLAGS='"$CXXFLAGS"' LDFLAGS='"$LDFLAGS"' \
 	   --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir ||
@


1.1
log
@Initial revision
@
text
@d1 42
a42 4
$OpenBSD$
--- configure.orig	Tue Jan 11 19:37:11 2005
+++ configure	Tue Jan 11 19:42:24 2005
@@@@ -7901,7 +7901,7 @@@@ echo "$as_me: WARNING: no configuration 
@


1.1.1.1
log
@initial import of audacity-1.2.4

Audacity is a free audio editor. You can record sounds, play sounds,
import and export WAV, AIFF, Ogg Vorbis, and MP3 files, and more. Use it
to edit your sounds using Cut, Copy and Paste (with unlimited Undo), mix
tracks together, or apply effects to your recordings.

Initial port and many patches by jakemsr@@. Thanks to maintainer
Antoine Jacoutot for persistence and keeping the port alive.

ok jakemsr@@
@
text
@@
