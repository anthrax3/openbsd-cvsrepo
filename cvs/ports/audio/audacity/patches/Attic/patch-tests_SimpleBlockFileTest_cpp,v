head	1.5;
access;
symbols
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.1.1.1.0.4
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.2
	OPENBSD_3_9_BASE:1.1.1.1
	steven-20060112:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2007.06.06.09.35.18;	author ajacoutot;	state dead;
branches;
next	1.4;

1.4
date	2007.05.24.09.45.01;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2006.12.17.12.12.59;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2006.10.12.14.26.04;	author alek;	state dead;
branches;
next	1.1;

1.1
date	2006.01.12.08.59.27;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.01.12.08.59.27;	author steven;	state Exp;
branches;
next	;


desc
@@


1.5
log
@- update audacity to latest version: 1.3.3
- add NO_REGRESS since regression tests have not been updated for more
than 3 years and upstream does not seem interested
- add a patch from deanna@@ that makes audacity use portaudio v19 and
make full duplex work (well sort of, but at least it does not hang
anymore)

ok deanna@@
@
text
@$OpenBSD: patch-tests_SimpleBlockFileTest_cpp,v 1.4 2007/05/24 09:45:01 ajacoutot Exp $
--- tests/SimpleBlockFileTest.cpp.orig	Sun Oct 29 01:05:36 2006
+++ tests/SimpleBlockFileTest.cpp	Thu May 24 11:02:18 2007
@@@@ -45,13 +45,13 @@@@ class SimpleBlockFileTest { (public)
          floatData[i] = sign*j/((j*j)+1);
       }
 
-      int16BlockFile = new SimpleBlockFile(wxFileName("/tmp/int16"),
+      int16BlockFile = new SimpleBlockFile(wxFileName(_T("/tmp/int16")),
                                            (samplePtr)int16Data, dataLen,
                                            int16Sample);
-      int24BlockFile = new SimpleBlockFile(wxFileName("/tmp/int24"),
+      int24BlockFile = new SimpleBlockFile(wxFileName(_T("/tmp/int24")),
                                            (samplePtr)int24Data, dataLen,
                                            int24Sample);
-      floatBlockFile = new SimpleBlockFile(wxFileName("/tmp/float"),
+      floatBlockFile = new SimpleBlockFile(wxFileName(_T("/tmp/float")),
                                            (samplePtr)floatData, dataLen,
                                            floatSample);
 
@@@@ -82,7 +82,7 @@@@ class SimpleBlockFileTest { (public)
          SF_INFO info;
 
          memset(&info, 0, sizeof(info));
-         SNDFILE *sf = sf_open(bf->GetFileName().GetFullPath(), SFM_READ, &info);
+         SNDFILE *sf = sf_open(bf->GetFileName().GetFullPath().mb_str(), SFM_READ, &info);
 
          assert(sf);
          assert(info.frames == dataLen);
@@@@ -115,9 +115,9 @@@@ class SimpleBlockFileTest { (public)
       memset(&info2, 0, sizeof(info2));
       memset(&info3, 0, sizeof(info3));
 
-      SNDFILE *int16sf = sf_open(int16BlockFile->GetFileName().GetFullPath(), SFM_READ, &info1);
-      SNDFILE *int24sf = sf_open(int24BlockFile->GetFileName().GetFullPath(), SFM_READ, &info2);
-      SNDFILE *floatsf = sf_open(floatBlockFile->GetFileName().GetFullPath(), SFM_READ, &info3);
+      SNDFILE *int16sf = sf_open(int16BlockFile->GetFileName().GetFullPath().mb_str(), SFM_READ, &info1);
+      SNDFILE *int24sf = sf_open(int24BlockFile->GetFileName().GetFullPath().mb_str(), SFM_READ, &info2);
+      SNDFILE *floatsf = sf_open(floatBlockFile->GetFileName().GetFullPath().mb_str(), SFM_READ, &info3);
 
       // First do a read of the entire block
       short int16buf[dataLen];
@


1.4
log
@- some cleaning:
fix .desktop entry and add desktop-file-utils as run_depends
add audacity.xpm
fix lib_depends/WANTLIB
regen and update PLIST accordingly
regen patches while here
@
text
@d1 1
a1 1
$OpenBSD: patch-tests_SimpleBlockFileTest_cpp,v 1.3 2006/12/17 12:12:59 ajacoutot Exp $
@


1.3
log
@- update to version 1.3.2
big thanks to Martynas Venckus for his work on regression tests

"go ahead!" jasper@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
+++ tests/SimpleBlockFileTest.cpp	Wed Dec  6 14:11:41 2006
@@@@ -45,13 +45,13 @@@@ public:
d21 1
a21 1
@@@@ -82,7 +82,7 @@@@ public:
d30 1
a30 1
@@@@ -115,9 +115,9 @@@@ public:
@


1.2
log
@Update to 1.3.0b as previous version doesn't work with new wxWidgtes

ok ajacoutot@@
@
text
@d1 5
a5 13
$OpenBSD: patch-tests_SimpleBlockFileTest_cpp,v 1.1 2006/01/12 08:59:27 steven Exp $
--- tests/SimpleBlockFileTest.cpp.orig	Sat Nov 26 18:33:32 2005
+++ tests/SimpleBlockFileTest.cpp	Mon Dec 26 21:19:17 2005
@@@@ -37,8 +37,8 @@@@ public:
       for(i = 0; i < dataLen; i++)
       {
          // These have no significance, it's just random data
-         int16Data[i] = (i*i);
-         int24Data[i] = (i*i*i) & 0x00FFFFFF;
+         int16Data[i] = ((short)i*i);
+         int24Data[i] = (i*i*i) & 0x000FFFFF;
          float j = (float) i;
          floatData[i] = j/((j*j)+1);
d7 36
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@initial import of audacity-1.2.4

Audacity is a free audio editor. You can record sounds, play sounds,
import and export WAV, AIFF, Ogg Vorbis, and MP3 files, and more. Use it
to edit your sounds using Cut, Copy and Paste (with unlimited Undo), mix
tracks together, or apply effects to your recordings.

Initial port and many patches by jakemsr@@. Thanks to maintainer
Antoine Jacoutot for persistence and keeping the port alive.

ok jakemsr@@
@
text
@@
