head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.28
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.24
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.26
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.22
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.20
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.18
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.16
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.14
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.12
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.10
	OPENBSD_5_0:1.3.0.8
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.6
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.4
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2009.10.28.18.40.13;	author jakemsr;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.14.03.49.43;	author jakemsr;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.11.09.29.36;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to 1.3.9.  mostly bugfixes.
ok sthen@@
@
text
@$OpenBSD: patch-src_FFmpeg_cpp,v 1.2 2009/03/14 03:49:43 jakemsr Exp $
--- src/FFmpeg.cpp.orig	Mon Aug 31 03:45:39 2009
+++ src/FFmpeg.cpp	Sat Oct 17 14:29:54 2009
@@@@ -485,11 +485,13 @@@@ class FindFFmpegDialog : public wxDialog (public)
       }
    }
 
+#if 0
    void OnDownload(wxCommandEvent & event)
    {
       wxString page = wxT("http://www.audacityteam.org/manual/index.php?title=FAQ:Installation_and_Plug-Ins%23installffmpeg");
       ::OpenInDefaultBrowser(page);
    }
+#endif
 
    wxString GetLibPath()
    {
@@@@ -511,7 +513,9 @@@@ class FindFFmpegDialog : public wxDialog (public)
 
 BEGIN_EVENT_TABLE(FindFFmpegDialog, wxDialog)
    EVT_BUTTON(ID_FFMPEG_BROWSE, FindFFmpegDialog::OnBrowse)
+#if 0
    EVT_BUTTON(ID_FFMPEG_DLOAD,  FindFFmpegDialog::OnDownload)
+#endif
 END_EVENT_TABLE()
 
 
@


1.2
log
@update to audacity-1.3.7
@
text
@d1 4
a4 4
$OpenBSD: patch-src_FFmpeg_cpp,v 1.1 2009/01/11 09:29:36 jakemsr Exp $
--- src/FFmpeg.cpp.orig	Tue Jan 27 12:50:58 2009
+++ src/FFmpeg.cpp	Tue Feb 10 03:21:35 2009
@@@@ -249,11 +249,13 @@@@ class FindFFmpegDialog : public wxDialog (public)
d18 1
a18 1
@@@@ -275,7 +277,9 @@@@ class FindFFmpegDialog : public wxDialog (public)
a27 35
@@@@ -565,7 +569,7 @@@@ bool FFmpegLibs::InitLibs(wxString libpath_format, boo
    INITDYN(avformat,av_init_packet);
    INITDYN(avformat,av_codec_get_id);
    INITDYN(avformat,av_codec_get_tag);
-   INITDYN(avformat,avformat_version);
+   // INITDYN(avformat,avformat_version);
 
    INITDYN(codec,avcodec_init);
    INITDYN(codec,avcodec_find_encoder);
@@@@ -611,19 +615,19 @@@@ bool FFmpegLibs::InitLibs(wxString libpath_format, boo
    
    wxLogMessage(wxT("Retrieving library version."));
    int avcver = this->avcodec_version();
-   int avfver = this->avformat_version();
-   int avuver = this->avutil_version();
+   int avfver = this->avcodec_version();
+   int avuver = this->avcodec_version();
    mAVCodecVersion = wxString::Format(wxT("%d.%d.%d"),avcver >> 16 & 0xFF, avcver >> 8 & 0xFF, avcver & 0xFF);
    mAVFormatVersion = wxString::Format(wxT("%d.%d.%d"),avfver >> 16 & 0xFF, avfver >> 8 & 0xFF, avfver & 0xFF);
    mAVUtilVersion = wxString::Format(wxT("%d.%d.%d"),avuver >> 16 & 0xFF, avuver >> 8 & 0xFF, avuver & 0xFF);
 
    wxLogMessage(wxT("AVCodec version 0x%06x - %s (built against 0x%06x - %s)"),avcver,mAVCodecVersion.c_str(),LIBAVCODEC_VERSION_INT,wxString::FromUTF8(AV_STRINGIFY(LIBAVCODEC_VERSION)).c_str());
-   wxLogMessage(wxT("AVFormat version 0x%06x - %s (built against 0x%06x - %s)"),avfver,mAVFormatVersion.c_str(),LIBAVFORMAT_VERSION_INT,wxString::FromUTF8(AV_STRINGIFY(LIBAVFORMAT_VERSION)).c_str());
-   wxLogMessage(wxT("AVUtil version 0x%06x - %s (built against 0x%06x - %s)"),avuver,mAVUtilVersion.c_str(),LIBAVUTIL_VERSION_INT,wxString::FromUTF8(AV_STRINGIFY(LIBAVUTIL_VERSION)).c_str());
+   wxLogMessage(wxT("AVFormat version 0x%06x - %s (built against 0x%06x - %s)"),avfver,mAVFormatVersion.c_str(),LIBAVCODEC_VERSION_INT,wxString::FromUTF8(AV_STRINGIFY(LIBAVCODEC_VERSION)).c_str());
+   wxLogMessage(wxT("AVUtil version 0x%06x - %s (built against 0x%06x - %s)"),avuver,mAVUtilVersion.c_str(),LIBAVCODEC_VERSION_INT,wxString::FromUTF8(AV_STRINGIFY(LIBAVCODEC_VERSION)).c_str());
 
    int avcverdiff = (avcver >> 16 & 0xFF) - int(LIBAVCODEC_VERSION_MAJOR);
-   int avfverdiff = (avfver >> 16 & 0xFF) - int(LIBAVFORMAT_VERSION_MAJOR);
-   int avuverdiff = (avuver >> 16 & 0xFF) - int(LIBAVUTIL_VERSION_MAJOR);
+   int avfverdiff = (avfver >> 16 & 0xFF) - int(LIBAVCODEC_VERSION_MAJOR);
+   int avuverdiff = (avuver >> 16 & 0xFF) - int(LIBAVCODEC_VERSION_MAJOR);
    wxLogMessage(wxT("AVCodec version mismatch is %d"),avcverdiff);
    wxLogMessage(wxT("AVFormat version mismatch is %d"),avfverdiff);
    wxLogMessage(wxT("AVUtil version mismatch is %d"),avuverdiff);
@


1.1
log
@update to audacity-1.3.6
- lots of bugs fixed (though importing Ogg and Flac formats is still
broken)
- now uses external vamp-plugin-sdk
@
text
@d1 4
a4 15
$OpenBSD$
--- src/FFmpeg.cpp.orig	Sat Oct 25 05:14:27 2008
+++ src/FFmpeg.cpp	Thu Nov 13 22:50:45 2008
@@@@ -209,8 +209,10 @@@@ class FindFFmpegDialog : public wxDialog (public)
                mPathText = S.AddTextBox(wxT(""), mLibPath.GetFullPath(), 0);
             }
             S.Id(ID_FFMPEG_BROWSE).AddButton(_("Browse..."), wxALIGN_RIGHT);
+#if 0
             S.AddVariableText(_("To get a free copy of FFmpeg, click here -->"), true);
             S.Id(ID_FFMPEG_DLOAD).AddButton(_("Download..."), wxALIGN_RIGHT);
+#endif
          }
          S.EndMultiColumn();
 
@@@@ -247,11 +249,13 @@@@ class FindFFmpegDialog : public wxDialog (public)
d18 1
a18 1
@@@@ -273,7 +277,9 @@@@ class FindFFmpegDialog : public wxDialog (public)
d28 1
a28 1
@@@@ -596,7 +602,7 @@@@ bool FFmpegLibs::InitLibs(wxString libpath_format, boo
d35 3
a37 12
    INITDYN(avcodec,avcodec_init);
    INITDYN(avcodec,avcodec_find_encoder);
@@@@ -632,7 +638,7 @@@@ bool FFmpegLibs::InitLibs(wxString libpath_format, boo
    INITDYN(avutil,av_malloc);
    INITDYN(avutil,av_freep);
    INITDYN(avutil,av_rescale_q);
-   INITDYN(avutil,avutil_version);
+   // INITDYN(avutil,avutil_version);
 
    //FFmpeg initialization
    wxLogMessage(wxT("All symbols loaded successfully. Initializing the library."));
@@@@ -642,19 +648,19 @@@@ bool FFmpegLibs::InitLibs(wxString libpath_format, boo
@

