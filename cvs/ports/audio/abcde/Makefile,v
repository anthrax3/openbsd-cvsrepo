head	1.25;
access;
symbols
	OPENBSD_6_2:1.25.0.4
	OPENBSD_6_2_BASE:1.25
	OPENBSD_6_1:1.25.0.2
	OPENBSD_6_1_BASE:1.25
	OPENBSD_6_0:1.24.0.4
	OPENBSD_6_0_BASE:1.24
	OPENBSD_5_9:1.24.0.2
	OPENBSD_5_9_BASE:1.24
	OPENBSD_5_8:1.22.0.4
	OPENBSD_5_8_BASE:1.22
	OPENBSD_5_7:1.21.0.6
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.21.0.4
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.21.0.2
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.20.0.2
	OPENBSD_5_4_BASE:1.20
	OPENBSD_5_3:1.19.0.2
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.18.0.4
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.2
	OPENBSD_5_0:1.17.0.4
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.17.0.2
	OPENBSD_4_9_BASE:1.17
	OPENBSD_4_8:1.15.0.4
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.2
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.14.0.8
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.6
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.14.0.4
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.14.0.2
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.13.0.4
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.13.0.2
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.12.0.2
	OPENBSD_4_0_BASE:1.12
	OPENBSD_3_9:1.11.0.2
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.10.0.4
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.10.0.2
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.7.0.2
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.6.0.2
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.4.0.2
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	wilfried_2002-03-18:1.1.1.1
	wilfried:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2016.09.02.22.22.07;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	R63kRpTEPNPsTkSZ;

1.24
date	2015.12.23.19.48.58;	author jca;	state Exp;
branches;
next	1.23;
commitid	QnHmAiY2IzQVnXKP;

1.23
date	2015.08.24.23.19.57;	author bentley;	state Exp;
branches;
next	1.22;
commitid	IJYCLzIrRdWnyXIT;

1.22
date	2015.07.18.14.33.49;	author jasper;	state Exp;
branches;
next	1.21;
commitid	GeHaQG13EBk8leMA;

1.21
date	2013.08.07.21.31.12;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.10.22.55.01;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2012.11.21.20.38.48;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2011.10.17.12.40.44;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.11.15.00.22.46;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.10.18.16.52.44;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2009.08.24.14.38.47;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2007.09.15.21.26.00;	author simon;	state Exp;
branches;
next	1.13;

1.13
date	2006.11.04.19.19.15;	author kili;	state Exp;
branches;
next	1.12;

1.12
date	2006.06.29.01.41.23;	author pvalchev;	state Exp;
branches;
next	1.11;

1.11
date	2006.02.08.04.54.48;	author david;	state Exp;
branches;
next	1.10;

1.10
date	2005.01.01.21.04.48;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2004.11.21.17.51.44;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2004.09.14.23.14.32;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2004.04.13.21.07.48;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2004.02.15.16.25.14;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2003.05.14.22.08.54;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2003.03.02.14.14.35;	author lebel;	state Exp;
branches;
next	1.3;

1.3
date	2002.07.09.10.52.24;	author wilfried;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.25.22.45.42;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.18.15.08.45;	author wilfried;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.18.15.08.45;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.25
log
@Update to abcde-2.7.2.
@
text
@# $OpenBSD: Makefile,v 1.24 2015/12/23 19:48:58 jca Exp $

COMMENT=	command-line utility to rip and encode audio cds

DISTNAME=	abcde-2.7.2
CATEGORIES=	audio

HOMEPAGE=	http://abcde.einval.com/

# Artistic or GPLv2, but "Copyright for this work is to expire
# January 1, 2010, after which it shall be public domain."
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	http://abcde.einval.com/download/
MASTER_SITES0=	http://lly.org/~rcw/id3/ \
		http://lly.org/~rcw/id3/old/

RUN_DEPENDS=	audio/cdparanoia \
		audio/cd-discid \
		audio/id3lib \
		audio/vorbis-tools \
		shells/bash

NO_TEST=	Yes

pre-configure:
	sed -i "s,/bin/bash,/usr/bin/env bash," \
		${WRKSRC}/abcde ${WRKSRC}/cddb-tool
	sed -i "s,/etc/,${SYSCONFDIR}/," ${WRKSRC}/abcde

do-install:
	${INSTALL_SCRIPT} ${WRKSRC}/abcde ${PREFIX}/bin
	${INSTALL_SCRIPT} ${WRKSRC}/cddb-tool ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/abcde.1 ${PREFIX}/man/man1
	${INSTALL_MAN} ${WRKSRC}/cddb-tool.1 ${PREFIX}/man/man1
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/abcde
	${INSTALL_DATA} ${WRKSRC}/abcde.conf ${PREFIX}/share/examples/abcde

.include <bsd.port.mk>
@


1.24
log
@Update to abcde-2.7.1, from Marc Peters.

Tested by and ok chrisz@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/08/24 23:19:57 bentley Exp $
d5 1
a5 1
DISTNAME=	abcde-2.7.1
d26 4
a29 3
do-configure:
	sed -i 's,/etc/,${SYSCONFDIR}/,' ${WRKSRC}/abcde
	${SUBST_CMD} ${WRKSRC}/abcde ${WRKSRC}/cddb-tool
@


1.23
log
@Update homepage/master_sites after migration from Google Code.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/07/18 14:33:49 jasper Exp $
d5 1
a5 2
DISTNAME=	abcde-2.5.4
REVISION=	1
@


1.22
log
@use sed instead of perl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/08/07 21:31:12 naddy Exp $
d6 1
a6 1
REVISION=	0
d9 1
a9 1
HOMEPAGE=	https://code.google.com/p/abcde/
d15 1
a15 1
MASTER_SITES=	https://abcde.googlecode.com/files/
@


1.21
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/10 22:55:01 espie Exp $
d28 1
a28 1
	perl -pi -e 's,/etc/,${SYSCONFDIR}/,' ${WRKSRC}/abcde
@


1.20
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/11/21 20:38:48 sthen Exp $
d6 1
d9 1
a9 1
HOMEPAGE=	http://code.google.com/p/abcde/
d15 1
a15 1
MASTER_SITES=	http://abcde.googlecode.com/files/
@


1.19
log
@update abcde to 2.5.4, tweaks/ok stsp@@, tested by stsp and Lars von den Driesch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/10/17 12:40:44 espie Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d24 1
a24 1
NO_REGRESS=	Yes
@


1.18
log
@zap :L in flavor checks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/11/15 00:22:46 espie Exp $
d5 1
a5 4
V=		2.3.0
# cd-diskid version number
V2=		0.9
DISTNAME=	abcde-$V
d8 1
a8 1
HOMEPAGE=	http://www.hispalinux.es/~data/abcde.php
d10 2
a11 1
# Artistic and GPL
a15 1
WANTLIB=		c
d17 9
a25 13
MS=		http://www.hispalinux.es/~data/files/ \
		http://spacehopper.org/mirrors/
MASTER_SITES=	${MS}
MASTER_SITES0=	${MS:=cd-discid/}
MASTER_SITES1=	http://lly.org/~rcw/id3/old/ \
		http://lly.org/~rcw/id3/
DISTFILES=	${DISTNAME:S,-,_,}.orig.tar.gz \
		cd-discid_${V2}.orig.tar.gz:0

RUN_DEPENDS=	audio/cdparanoia

FLAVORS=	lame
FLAVOR?=	
a27 1
USE_GROFF =	Yes
d29 3
a31 21
.if ${FLAVOR:Mlame}
DISTFILES+=	id3_0.12.orig.tar.gz:1
RUN_DEPENDS+=	audio/lame
.else
RUN_DEPENDS+=	audio/vorbis-tools
.endif
SUPDISTFILES=	id3_0.12.orig.tar.gz:1

pre-configure:
.if ${FLAVOR:Mlame}
	perl -pi -e 's,OUTPUTTYPE=ogg,OUTPUTTYPE=mp3,g' ${WRKSRC}/abcde
.endif

do-build:
	cd ${WRKDIR}/cd-discid-${V2} && \
		${CC} ${CFLAGS} -o cd-discid cd-discid.c
.if ${FLAVOR:Mlame}
	cd ${WRKDIR}/id3-0.12 && \
		perl -pi -e 's,#include <getopt.h>,/*#include <getopt.h>*/,g' id3.c && \
		${CC} ${CFLAGS} -o id3 id3.c
.endif
a35 1
	${INSTALL_PROGRAM} ${WRKDIR}/cd-discid-${V2}/cd-discid ${PREFIX}/bin
a37 1
	${INSTALL_MAN} ${WRKDIR}/cd-discid-${V2}/cd-discid.1 ${PREFIX}/man/man1
a39 4
.if ${FLAVOR:Mlame}
	${INSTALL_PROGRAM} ${WRKDIR}/id3-0.12/id3 ${PREFIX}/bin
	${INSTALL_MAN} ${WRKDIR}/id3-0.12/id3.1 ${PREFIX}/man/man1
.endif
@


1.17
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/10/18 16:52:44 espie Exp $
d37 1
a37 1
.if ${FLAVOR:L:Mlame}
d46 1
a46 1
.if ${FLAVOR:L:Mlame}
d53 1
a53 1
.if ${FLAVOR:L:Mlame}
d68 1
a68 1
.if ${FLAVOR:L:Mlame}
@


1.16
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/08/24 14:38:47 sthen Exp $
d29 1
a29 1
RUN_DEPENDS=	:cdparanoia-*:audio/cdparanoia
d39 1
a39 1
RUN_DEPENDS+=	:lame-*:audio/lame
d41 1
a41 1
RUN_DEPENDS+=	:vorbis-tools-*:audio/vorbis-tools
@


1.15
log
@some distfiles no longer available; I have mirrored them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/09/15 21:26:00 simon Exp $
d35 1
@


1.14
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/11/04 19:19:15 kili Exp $
d20 2
a21 1
MS=		http://www.hispalinux.es/~data/files/
d23 3
a25 2
MASTER_SITES0=	${MS}cd-discid/
MASTER_SITES1=	http://lly.org/~rcw/id3/
@


1.13
log
@Avoid references to PKGNAME.
Remove noops like WRKDIST=${WRKDIR}/${DISTNAME}.
Drop DIST_SUBDIR where appropriate.

Problem mentioned by naddy.
Some simplifications and ok, steven.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/06/29 01:41:23 pvalchev Exp $
d3 1
a3 1
COMMENT=	"command-line utility to rip and encode audio cds"
@


1.12
log
@update to abcde-2.3.0; willmaier@@ml1.net
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/02/08 04:54:48 david Exp $
d8 1
a8 2
DISTNAME=	abcde_$V.orig
PKGNAME=	abcde-$V
d24 1
a24 1
DISTFILES=	${DISTNAME}.tar.gz \
a32 1
WRKDIST=	${WRKDIR}/${PKGNAME}
@


1.11
log
@move any perl or sed substitutions from post-patch to pre-configure
(fixes make update-patches)
ok sturm@@; "looks reasonable" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/01/01 21:04:48 espie Exp $
d5 1
a5 1
V=		2.2.0
@


1.10
log
@new 2.2.0 version, a few more bells & whistles, such as the ability to
skip data tracks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/11/21 17:51:44 espie Exp $
d44 1
a44 1
post-patch:
@


1.9
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/09/14 23:14:32 espie Exp $
d5 1
a5 1
V=		2.1.19
@


1.8
log
@missing SUPDISTFILES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/04/13 21:07:48 brad Exp $
d19 1
@


1.7
log
@upgrade to abcde 2.1.19

- also removes the external dependency on wget by using
ftp(1) instead.

From: Robert Nagy <thuglife at bsd dot hu>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/02/15 16:25:14 sturm Exp $
d41 1
@


1.6
log
@update to abcde 2.1.14

from Waldemar Brodkorb <wbx at openbsd.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/05/14 22:08:54 naddy Exp $
d5 1
a5 1
V=		2.1.14
d27 1
a27 2
RUN_DEPENDS=	:cdparanoia-*:audio/cdparanoia \
		:wget-*:net/wget
@


1.5
log
@remove maintainer by his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/03/02 14:14:35 lebel Exp $
d5 3
a7 1
V=		2.0.3
d12 1
a12 1
HOMEPAGE=	http://frantica.lly.org/~rcw/abcde/page/
d20 4
a23 4
MS=		http://frantica.lly.org/~rcw/
MASTER_SITES=	${MS}abcde/
MASTER_SITES0=	${MS}cd-discid/old/
MASTER_SITES1=	${MS}id3/
d25 1
a25 1
		cd-discid_0.7.orig.tar.gz:0
d49 1
a49 1
	cd ${WRKDIR}/cd-discid-0.7 && \
d60 1
a60 1
	${INSTALL_PROGRAM} ${WRKDIR}/cd-discid-0.7/cd-discid ${PREFIX}/bin
d63 1
a63 1
	${INSTALL_MAN} ${WRKDIR}/cd-discid-0.7/cd-discid.1 ${PREFIX}/man/man1
@


1.4
log
@distfile moved; from MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/07/09 10:52:24 wilfried Exp $
a10 2

MAINTAINER=	Han Boetes <han@@mijncomputer.nl>
@


1.3
log
@clean up the patch, from maintainer Han Boetes <han@@mijncomputer.nl>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/03/25 22:45:42 espie Exp $
d22 1
a22 1
MASTER_SITES0=	${MS}cd-discid/
@


1.2
log
@choice of artistic/gpl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/03/18 15:08:45 wilfried Exp $
a8 1
NEED_VERSION=	1.515
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d15 1
a15 1
# GPL
@


1.1.1.1
log
@Initial import of abcde, from Han Boetes <han@@mijncomputer.nl>
A command-line utility to rip and encode audio cds
@
text
@@
