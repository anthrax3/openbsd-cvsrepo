head	1.57;
access;
symbols
	OPENBSD_6_1:1.57.0.4
	OPENBSD_6_1_BASE:1.57
	OPENBSD_6_0:1.57.0.2
	OPENBSD_6_0_BASE:1.57
	OPENBSD_5_9:1.54.0.2
	OPENBSD_5_9_BASE:1.54
	OPENBSD_5_8:1.54.0.4
	OPENBSD_5_8_BASE:1.54
	OPENBSD_5_7:1.53.0.2
	OPENBSD_5_7_BASE:1.53
	OPENBSD_5_6:1.52.0.6
	OPENBSD_5_6_BASE:1.52
	OPENBSD_5_5:1.52.0.4
	OPENBSD_5_5_BASE:1.52
	OPENBSD_5_4:1.52.0.2
	OPENBSD_5_4_BASE:1.52
	OPENBSD_5_3:1.49.0.4
	OPENBSD_5_3_BASE:1.49
	OPENBSD_5_2:1.49.0.2
	OPENBSD_5_2_BASE:1.49
	OPENBSD_5_1_BASE:1.48
	OPENBSD_5_1:1.48.0.2
	OPENBSD_5_0:1.44.0.4
	OPENBSD_5_0_BASE:1.44
	OPENBSD_4_9:1.44.0.2
	OPENBSD_4_9_BASE:1.44
	OPENBSD_4_8:1.42.0.2
	OPENBSD_4_8_BASE:1.42
	OPENBSD_4_7:1.39.0.2
	OPENBSD_4_7_BASE:1.39
	OPENBSD_4_6:1.38.0.4
	OPENBSD_4_6_BASE:1.38
	OPENBSD_4_5:1.38.0.2
	OPENBSD_4_5_BASE:1.38
	OPENBSD_4_4:1.36.0.2
	OPENBSD_4_4_BASE:1.36
	OPENBSD_4_3:1.34.0.2
	OPENBSD_4_3_BASE:1.34
	OPENBSD_4_2:1.32.0.2
	OPENBSD_4_2_BASE:1.32
	OPENBSD_4_1:1.31.0.2
	OPENBSD_4_1_BASE:1.31
	OPENBSD_4_0:1.28.0.2
	OPENBSD_4_0_BASE:1.28
	OPENBSD_3_9:1.27.0.2
	OPENBSD_3_9_BASE:1.27
	OPENBSD_3_8:1.25.0.2
	OPENBSD_3_8_BASE:1.25
	OPENBSD_3_7:1.24.0.2
	OPENBSD_3_7_BASE:1.24
	OPENBSD_3_6:1.22.0.2
	OPENBSD_3_6_BASE:1.22
	OPENBSD_3_5:1.21.0.4
	OPENBSD_3_5_BASE:1.21
	OPENBSD_3_4:1.21.0.2
	OPENBSD_3_4_BASE:1.21
	OPENBSD_3_3:1.20.0.2
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.18.0.2
	OPENBSD_3_2_BASE:1.18
	OPENBSD_3_1:1.15.0.2
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.12.0.2
	OPENBSD_3_0_BASE:1.12
	OPENBSD_2_9_TRACKING_SWITCH:1.9
	OPENBSD_2_9:1.7.0.2
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_8:1.5.0.2
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.1.0.2
	jakob_2000-07-31:1.1.1.1
	jakob:1.1.1;
locks; strict;
comment	@# @;


1.57
date	2016.04.09.20.14.48;	author naddy;	state Exp;
branches;
next	1.56;
commitid	v3xsXUgHi26KLfAN;

1.56
date	2016.03.11.20.28.22;	author naddy;	state Exp;
branches;
next	1.55;
commitid	UYLP8TE6V7RS2GhJ;

1.55
date	2016.03.09.18.29.10;	author naddy;	state Exp;
branches;
next	1.54;
commitid	EDvzhoInnIZEPAcV;

1.54
date	2015.03.16.18.07.35;	author naddy;	state Exp;
branches;
next	1.53;
commitid	IJdm3Zowcdkcxp5X;

1.53
date	2015.01.24.11.07.57;	author schwarze;	state Exp;
branches;
next	1.52;
commitid	7awk5YK2lMTW4w3F;

1.52
date	2013.07.09.20.01.38;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2013.03.21.08.45.12;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2013.03.10.22.55.03;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2012.03.02.07.14.54;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2012.01.28.09.29.45;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2011.12.03.23.59.55;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2011.11.26.07.49.36;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2011.10.23.09.14.19;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2010.11.15.00.22.47;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2010.10.18.16.52.45;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2010.05.20.09.15.45;	author dcoppa;	state Exp;
branches;
next	1.41;

1.41
date	2010.03.29.07.55.55;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2010.03.21.10.31.05;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2009.08.10.06.29.52;	author kili;	state Exp;
branches;
next	1.38;

1.38
date	2008.09.24.17.29.46;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2008.08.20.09.02.03;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2008.03.25.17.27.27;	author fgsch;	state Exp;
branches;
next	1.35;

1.35
date	2008.03.15.10.10.15;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2008.01.04.17.48.33;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2007.09.15.21.26.01;	author simon;	state Exp;
branches;
next	1.32;

1.32
date	2007.04.12.20.24.30;	author sturm;	state Exp;
branches;
next	1.31;

1.31
date	2006.11.20.13.07.19;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2006.11.11.21.04.27;	author steven;	state Exp;
branches;
next	1.29;

1.29
date	2006.10.28.10.30.41;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2006.08.01.11.17.56;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2006.01.10.11.14.49;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2005.12.23.15.03.07;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2005.03.23.21.02.30;	author alek;	state Exp;
branches;
next	1.24;

1.24
date	2005.01.02.20.33.43;	author jakob;	state Exp;
branches;
next	1.23;

1.23
date	2004.11.21.17.51.45;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2004.04.15.12.40.45;	author jakob;	state Exp;
branches;
next	1.21;

1.21
date	2003.05.26.03.20.29;	author pvalchev;	state Exp;
branches;
next	1.20;

1.20
date	2003.01.26.13.06.51;	author jakob;	state Exp;
branches;
next	1.19;

1.19
date	2002.12.29.19.29.56;	author fgsch;	state Exp;
branches;
next	1.18;

1.18
date	2002.05.13.18.50.36;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2002.05.11.20.42.53;	author jakob;	state Exp;
branches;
next	1.16;

1.16
date	2002.04.19.20.48.48;	author jakob;	state Exp;
branches;
next	1.15;

1.15
date	2001.11.01.02.39.05;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2001.10.29.08.46.29;	author jakob;	state Exp;
branches;
next	1.13;

1.13
date	2001.10.24.12.09.04;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2001.08.27.09.30.31;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2001.08.26.12.00.38;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2001.08.26.11.26.51;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	2001.08.01.19.29.09;	author jakob;	state Exp;
branches;
next	1.8;

1.8
date	2001.07.22.13.48.56;	author jakob;	state Exp;
branches;
next	1.7;

1.7
date	2001.04.13.03.24.04;	author obecian;	state Exp;
branches;
next	1.6;

1.6
date	2001.01.01.19.48.42;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	2000.10.04.21.54.10;	author jakob;	state Exp;
branches;
next	1.4;

1.4
date	2000.09.13.06.10.42;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	2000.08.23.17.19.33;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2000.08.16.16.42.01;	author turan;	state Exp;
branches;
next	1.1;

1.1
date	2000.07.31.09.15.18;	author jakob;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.07.31.09.15.18;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.57
log
@replace libiconv module with library dependency; no bump needed
@
text
@# $OpenBSD: Makefile,v 1.56 2016/03/11 20:28:22 naddy Exp $

COMMENT=	lame ain't an MP3 encoder

DISTNAME=	lame-3.99.5
REVISION=	0

SHARED_LIBS +=  mp3lame              2.1      # 0.1

CATEGORIES=	audio

HOMEPAGE=	http://lame.sourceforge.net/

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2 - patent restriction
PERMIT_PACKAGE_CDROM=	MP3 patent, http://mp3licensing.com/royalty/
PERMIT_PACKAGE_FTP=	Yes

WANTLIB += c iconv m ncurses

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=lame/}

LIB_DEPENDS=	converters/libiconv

USE_GMAKE=	Yes

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--enable-mp3rtp \
		--disable-mp3x \
		--with-fileio=lame

.if ${MACHINE_ARCH} == "i386"
BUILD_DEPENDS+=	devel/nasm
CONFIGURE_ARGS+= --enable-nasm
.else
CONFIGURE_ARGS+= --disable-nasm
.endif

MAKE_FLAGS=	pkghtmldir=${TRUEPREFIX}/share/doc/lame

.include <bsd.port.mk>
@


1.56
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2016/03/09 18:29:10 naddy Exp $
d20 1
a20 1
WANTLIB += c m ncurses
d24 1
a24 1
MODULES=	converters/libiconv
@


1.55
log
@remove LIBM_CHECK for vax
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2015/03/16 18:07:35 naddy Exp $
d29 1
a29 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--enable-mp3rtp \
@


1.54
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2015/01/24 11:07:57 schwarze Exp $
a20 1
LIBM_CHECK = powf log10f
@


1.53
log
@only minor formatting differences; drop USE_GROFF; no bump needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/07/09 20:01:38 espie Exp $
d6 1
@


1.52
log
@these will build when vax gets the functions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/03/21 08:45:12 ajacoutot Exp $
a26 1
USE_GROFF =	Yes
@


1.51
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/03/10 22:55:03 espie Exp $
d20 1
@


1.50
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/03/02 07:14:54 ajacoutot Exp $
a26 1
USE_LIBTOOL=	Yes
@


1.49
log
@Bugfix update to lame-3.99.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/01/28 09:29:45 ajacoutot Exp $
a17 2
PERMIT_DISTFILES_CDROM=	MP3 patent, http://mp3licensing.com/royalty/
PERMIT_DISTFILES_FTP=	Yes
@


1.48
log
@Update to lame-3.99.4 which fixes several crashes.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/12/03 23:59:55 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	lame-3.99.4
@


1.47
log
@Minor update to lame-3.99.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/11/26 07:49:36 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	lame-3.99.3
@


1.46
log
@Update to lame-3.99.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/10/23 09:14:19 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	lame-3.99.2
@


1.45
log
@Bugfix update to lame-3.99.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/11/15 00:22:47 espie Exp $
d5 1
a5 1
DISTNAME=	lame-3.99
d7 1
a7 1
SHARED_LIBS +=  mp3lame              2.0      # 0.0
d15 1
a15 1
# GPLv2 - patent restriction
@


1.44
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/10/18 16:52:45 espie Exp $
d5 1
a5 1
DISTNAME=	lame-3.98.4
d7 1
a7 1
SHARED_LIBS=	mp3lame	2.0	# .0.1
d21 1
a21 1
WANTLIB=	c m ncurses
d24 2
@


1.43
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/05/20 09:15:45 dcoppa Exp $
d36 1
a36 1
BUILD_DEPENDS+=	::devel/nasm
@


1.42
log
@Update to lame 3.98.4

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/03/29 07:55:55 ajacoutot Exp $
d26 1
@


1.41
log
@Remove mp3x. It depends on gtk+1 (which made jasper@@ sad) and it seems
no one uses it.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/03/21 10:31:05 ajacoutot Exp $
d5 1
a5 3
V=		3.98.3
DISTNAME=	lame-${V}
PKGNAME=	${DISTNAME}p0
@


1.40
log
@Update to lame-3.98.3.

Does anyone actually use mp3x subpackage? It uses gtk1 and I'm not sure
how usefull this app actually is nowadays...

"looks good" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/08/10 06:29:52 kili Exp $
d3 1
a3 2
COMMENT-main=	lame ain't an MP3 encoder
COMMENT-mp3x=	gtk frame analyzer
d7 1
a7 2
PKGNAME-main=	${DISTNAME}
PKGNAME-mp3x=	lame-mp3x-${V}
a23 3
WANTLIB-main=	${WANTLIB}
WANTLIB-mp3x=	${WANTLIB} X11 Xau Xdmcp Xext Xi glib gmodule pthread-stubs \
		xcb
a26 21
PSEUDO_FLAVORS=	no_x11
FLAVOR?=

MULTI_PACKAGES= -main

.if !${FLAVOR:Mno_x11}
MULTI_PACKAGES+=	-mp3x
.endif

.if ${MULTI_PACKAGES:M-mp3x}
MODULES=		devel/gettext
.endif

LIB_DEPENDS-main=
RUN_DEPENDS-main=

LIB_DEPENDS-mp3x=	${MODGETTEXT_LIB_DEPENDS} \
			gtk.>=1.2,gdk.>=1.2::x11/gtk+ \
			mp3lame::audio/lame
RUN_DEPENDS-mp3x=	${MODGETTEXT_RUN_DEPENDS}

d33 1
a34 6

.if ${MULTI_PACKAGES:M-mp3x}
USE_X11=		Yes
CONFIGURE_ARGS+=	--enable-mp3x \
			--with-gtk-prefix=${LOCALBASE}
.endif
@


1.39
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/09/24 17:29:46 ajacoutot Exp $
d6 4
a9 4
V=		3.98.2
DISTNAME=	lame-398-2
PKGNAME-main=	lame-${V}
PKGNAME-mp3x=	lame-mp3x-${V}p0
@


1.38
log
@- bugfix update to lame-398-2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2008/08/20 09:02:03 ajacoutot Exp $
d9 1
a9 1
PKGNAME-mp3x=	lame-mp3x-${V}
d27 2
a28 1
WANTLIB-mp3x=	${WANTLIB} X11 Xau Xdmcp Xext Xi glib gmodule
@


1.37
log
@- update lame to version 3.98
(new version heads up from sebastian.rother at jpberlin dot de)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/03/25 17:27:27 fgsch Exp $
d6 2
a7 2
V=		3.98
DISTNAME=	lame-398
@


1.36
log
@switch lame to multi packages, avoiding some long standing headaches with
the normal vs. no_x11 flavors.  with input from espie@@ and ajacoutot@@
ok ajacoutot@@ (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2008/03/15 10:10:15 ajacoutot Exp $
d6 3
a8 3
V=		3.97
DISTNAME=	lame-${V}
PKGNAME-main=	lame-${V}p0
d11 1
a11 1
SHARED_LIBS=	mp3lame	1.0	# .0.1
d56 3
a58 1
CONFIGURE_ARGS=	--enable-mp3rtp
d62 2
a63 1
CONFIGURE_ARGS+=	--enable-mp3x --with-gtk-prefix=${LOCALBASE}
@


1.35
log
@- update to lame-3.97
- take over maintainership (ok jakob@@, former maintainer)

major shared_libs bump reminded by naddy@@
ok jasper@@ merdely@@ landry@@ (before lock)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2008/01/04 17:48:33 espie Exp $
d3 2
a4 1
COMMENT=	lame ain't an MP3 encoder
d6 4
a9 2
DISTNAME=	lame-3.97
CATEGORIES=	audio
d13 2
d26 2
d31 1
a31 1
FLAVORS=	no_x11
d34 18
d58 4
a61 1
MAKE_FLAGS=	pkghtmldir=${TRUEPREFIX}/share/doc/lame
d64 1
a64 1
BUILD_DEPENDS=	::devel/nasm
d70 1
a70 8
.if ${FLAVOR:L} != "no_x11"
USE_X11=	Yes
CONFIGURE_ARGS+=--enable-mp3x \
		--with-gtk-prefix=${LOCALBASE}
LIB_DEPENDS+=	gtk.>=1.2,gdk.>=1.2::x11/gtk+
MODULES+=	devel/gettext
WANTLIB+=	X11 Xau Xdmcp Xext Xi glib gmodule
.endif
@


1.34
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/09/15 21:26:01 simon Exp $
d5 2
a6 1
VERSION=	3.96.1
d8 1
a8 5
DISTNAME=	lame-${VERSION}
PKGNAME=	${DISTNAME}p2
CATEGORIES=	audio
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=lame/}
SHARED_LIBS +=	mp3lame              0.1      # .0.1
d10 1
a10 1
HOMEPAGE=	http://www.mp3dev.org/
d12 1
a12 1
MAINTAINER=	Jakob Schlyter <jakob@@openbsd.org>
d14 2
a15 1
PERMIT_PACKAGE_CDROM=	MP3 patent, http://mp3licensing.com/royalty/swenc.html
d17 1
a17 1
PERMIT_DISTFILES_CDROM=	MP3 patent, http://mp3licensing.com/royalty/swenc.html
a18 1
WANTLIB=		c m ncurses
d20 1
a20 1
USE_GMAKE=	Yes
d22 1
a22 1
CONFIGURE_STYLE=	gnu
d27 6
a32 1
CONFIGURE_ARGS+=	--enable-mp3rtp
a33 1
USE_LIBTOOL=	Yes
d35 1
a35 2
# XXX gcc3/nasm issue
.if (${MACHINE_ARCH} == "i386") && (${CC} != "egcc")
d43 6
a48 5
USE_X11=		Yes
CONFIGURE_ARGS+=	--enable-mp3x \
			--with-gtk-prefix=${LOCALBASE}
LIB_DEPENDS+=		gtk.>=1.2,gdk.>=1.2::x11/gtk+
WANTLIB+=		X11 Xau Xdmcp Xext Xi glib gmodule iconv intl
@


1.33
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/04/12 20:24:30 sturm Exp $
a31 1
FAKE_FLAGS=	${MAKE_FLAGS} DESTDIR=${WRKINST}
@


1.32
log
@simple WANTLIB fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2006/11/20 13:07:19 espie Exp $
d3 1
a3 1
COMMENT=	"lame ain't an MP3 encoder"
@


1.31
log
@fix a few obviously wrong dependencies, and remove extra shells in ghc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2006/11/11 21:04:27 steven Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
d48 1
a48 1
WANTLIB+=		X11 Xext Xi glib gmodule iconv intl
@


1.30
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2006/10/28 10:30:41 espie Exp $
d37 1
a37 1
BUILD_DEPENDS=	nasm::devel/nasm
@


1.29
log
@re-format SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2006/08/01 11:17:56 espie Exp $
d44 1
@


1.28
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2006/01/10 11:14:49 espie Exp $
d11 1
a11 1
SHARED_LIBS=	mp3lame	0.1
@


1.27
log
@zap some MODGNU_SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2005/12/23 15:03:07 espie Exp $
d46 1
a46 1
LIB_DEPENDS+=		gtk.1.2,gdk.1.2::x11/gtk+
@


1.26
log
@switch a few ports to SHARED_LIBS and USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2005/03/23 21:02:30 alek Exp $
a11 1
MODGNU_SHARED_LIBS=	mp3lame	'-no-undefined'
@


1.25
log
@- Fix linking (remove -static flag)
- Bump PKGNAME

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/01/02 20:33:43 jakob Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d11 2
d33 2
a34 1
FAKE_FLAGS=	${MAKE_FLAGS}
@


1.24
log
@update to v3.96.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2004/11/21 17:51:45 espie Exp $
d8 1
@


1.23
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/04/15 12:40:45 jakob Exp $
d5 1
a5 1
VERSION=	3.96
@


1.22
log
@update to v3.96; from Robert Nagy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2003/05/26 03:20:29 pvalchev Exp $
d19 1
d44 1
@


1.21
log
@use nasm on i386 by default, per millert's idea, ok maintainer jakob
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2003/01/26 13:06:51 jakob Exp $
d5 1
a5 1
VERSION=	3.93.1
a19 1
WRKDIST=	${WRKDIR}/lame-${VERSION}
a20 1
USE_LIBTOOL=	Yes
@


1.20
log
@update to v3.93.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/12/29 19:29:56 fgsch Exp $
d32 8
@


1.19
log
@byebye NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/05/13 18:50:36 espie Exp $
d5 1
a5 1
VERSION=	3.92
d34 2
a35 1
CONFIGURE_ARGS+=	--enable-mp3x
@


1.18
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/05/11 20:42:53 jakob Exp $
a8 1
NEED_VERSION=	1.507
@


1.17
log
@update to version 3.92 and fix master_site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/04/19 20:48:48 jakob Exp $
d10 1
a10 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR= lame
@


1.16
log
@update to LAME v3.91
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/11/01 02:39:05 brad Exp $
d5 1
a5 1
VERSION=	3.91
d10 2
a11 2

MASTER_SITES=	http://prdownloads.sourceforge.net/lame/
@


1.15
log
@revert commit for gtk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/10/29 08:46:29 jakob Exp $
d3 1
a3 1
COMMENT=	"Lame Ain't an MP3 Encoder"
d5 1
a5 1
VERSION=	3.89
d7 1
a7 2
DISTNAME=	lame${VERSION}beta
PKGNAME=	lame-${VERSION}b
d9 1
a9 1
NEED_VERSION=	1.487
d11 1
a11 1
MASTER_SITES=	ftp://lame.sourceforge.net/pub/lame/src/
d13 1
a13 1
HOMEPAGE=	http://www.sulaco.org/mp3/
@


1.14
log
@use gtk module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/10/24 12:09:04 espie Exp $
d38 1
a38 1
MODULES+=		gtk
@


1.13
log
@Complete lib dependencies to pass checker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/08/27 09:30:31 espie Exp $
d10 1
a10 1
NEED_VERSION=	1.475
a34 1
  
d38 1
a38 1
LIB_DEPENDS+=		gtk.1.2,gdk.1.2::x11/gtk+
@


1.12
log
@bsd.port.mk now sets USE_LIBTOOL in MAKE_FLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/08/26 12:00:38 espie Exp $
d10 1
a10 1
NEED_VERSION=	1.447
d39 1
a39 1
LIB_DEPENDS+=		gtk.1.2::x11/gtk+
@


1.11
log
@Install the whole thing, including the shared library.
Make sure it's built properly by USE_LIBTOOL.
Use the default install target, just tweak the html files location.

Bump the minor number to leave room for a stub library to put on CDs
to allow for things to depend on lame.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/08/26 11:26:51 fgsch Exp $
d10 1
a10 1
NEED_VERSION=	1.364
a33 1
MAKE_FLAGS+=	LIBTOOL="${LIBTOOL} ${LIBTOOL_FLAGS}"
@


1.10
log
@o Install libmp3lame.a and lame.h.
o Shorten package name so it fits better if no_x11 is used.
o Simplify do-install.
o Add missing html files to package list.

jakob@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/08/01 19:29:09 jakob Exp $
d25 1
d33 4
a41 14

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/frontend/lame \
	  ${WRKBUILD}/frontend/mp3rtp ${PREFIX}/bin
.if ${FLAVOR:L} != "no_x11"
	${INSTALL_PROGRAM} ${WRKBUILD}/frontend/mp3x ${PREFIX}/bin
.endif
	${INSTALL_MAN} ${WRKBUILD}/doc/man/lame.1 ${PREFIX}/man/man1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/lame
	${INSTALL_DATA} ${WRKBUILD}/doc/html/*.html \
	  ${WRKBUILD}/doc/html/*.css ${PREFIX}/share/doc/lame
	${INSTALL_DATA} ${WRKBUILD}/include/lame.h ${PREFIX}/include
	${INSTALL_DATA} ${WRKBUILD}/libmp3lame/.libs/libmp3lame.a \
	  ${WRKBUILD}/libmp3lame/.libs/libmp3lame.la ${PREFIX}/lib
@


1.9
log
@remove redundant ALL_TARGET; heko@@iki.fi
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/07/22 13:48:56 jakob Exp $
d8 1
a8 1
PKGNAME=	lame-${VERSION}beta
d12 1
a12 1
MASTER_SITES=		ftp://lame.sourceforge.net/pub/lame/src/
d39 2
a40 2
	${INSTALL_PROGRAM} ${WRKBUILD}/frontend/lame ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKBUILD}/frontend/mp3rtp ${PREFIX}/bin
d46 5
a50 2
	${INSTALL_DATA} ${WRKBUILD}/doc/html/*.html ${PREFIX}/share/doc/lame
	${INSTALL_DATA} ${WRKBUILD}/doc/html/*.css  ${PREFIX}/share/doc/lame
@


1.8
log
@update to v3.89beta, enable mp3rtp & fix no_x11 flavour
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/04/13 03:24:04 obecian Exp $
a26 1
ALL_TARGET=		all
@


1.7
log
@+ bump NEED_VERSION, add COMMENT to Makefile
+ rm pkg/COMMENT
+ rm deprecated LICENSE_TYPE, add NEED_VERSION,
  spaces->tabs (general update/cleanup, some ports are OLD)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/01/01 19:48:42 jakob Exp $
d4 5
a8 2
DISTNAME=	lame3.87beta
PKGNAME=	lame-3.87beta
d23 1
a23 1
WRKDIST=	${WRKDIR}/lame3.87
d27 1
d32 1
a32 1
ALL_TARGET=	all
d34 3
a36 5
.if ${FLAVOR:L} == "no_x11"
CONFIGURE_ARGS+=	--enable-analyzer=no
.else
CONFIGURE_ARGS+=	--enable-analyzer=yes
LIB_DEPENDS=	gtk.1.2::x11/gtk+
d40 5
a44 1
	${INSTALL_PROGRAM} ${WRKBUILD}/lame ${PREFIX}/bin
@


1.6
log
@update to v3.87, remove standalone analyzer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/10/04 21:54:10 jakob Exp $
d3 5
a7 4
DISTNAME=		lame3.87beta
PKGNAME=		lame-3.87beta
CATEGORIES=     	audio
NEED_VERSION=		1.326
d11 1
a11 1
HOMEPAGE=		http://www.sulaco.org/mp3/
d13 1
a13 1
MAINTAINER=		Jakob Schlyter <jakob@@openbsd.org>
d20 2
a21 2
WRKDIST=		${WRKDIR}/lame3.87
USE_GMAKE=		Yes
d25 1
a25 1
FLAVORS=		no_x11
d28 1
a28 1
ALL_TARGET=		all
d34 1
a34 1
LIB_DEPENDS=		gtk.1.2::x11/gtk+
@


1.5
log
@add fullname to MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/09/13 06:10:42 jakob Exp $
d3 2
a4 2
DISTNAME=		lame3.86beta
PKGNAME=		lame-3.86beta
d8 1
a8 2
MASTER_SITES=		http://www.sulaco.org/mp3/download/beta/ \
			http://lame.sourceforge.net/download/beta/
d19 1
a19 1
WRKDIST=		${WRKDIR}/lame3.86
d22 2
d27 2
d30 1
a30 2
ALL_TARGET=		lame
MAKE_FLAGS+=		GTK= GTKLIBS=
d32 1
a32 1
ALL_TARGET=		lame mp3x
a37 3
.if ${FLAVOR:L} != "no_x11"
	${INSTALL_PROGRAM} ${WRKBUILD}/mp3x ${PREFIX}/bin
.endif
@


1.4
log
@add no_x11 flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/08/23 17:19:33 jakob Exp $
d13 1
a13 1
MAINTAINER=		jakob@@openbsd.org
@


1.3
log
@update to v3.86beta
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/08/16 16:42:01 turan Exp $
d6 1
a6 1
NEED_VERSION=		1.302
a19 2
LIB_DEPENDS=		gtk.1.2::x11/gtk+

d22 8
d31 2
d36 1
d38 1
@


1.2
log
@patents do not allow the sale of mp3 encoders.
http://mp3licensing.com/royalty/swenc.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/07/31 09:15:18 jakob Exp $
d3 2
a4 2
DISTNAME=		lame3.85beta
PKGNAME=		lame-3.85beta
d22 1
a22 1
WRKDIST=		${WRKDIR}/lame3.85
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/07/11 07:47:10 jakob Exp $
d15 1
a15 1
PERMIT_PACKAGE_CDROM=	Yes
d17 1
a17 1
PERMIT_DISTFILES_CDROM=	Yes
@


1.1.1.1
log
@Lame Ain't an MP3 Encoder

LAME is an educational tool to be used for learning about MP3 encoding.
The goal of the LAME project is to improve the psycho acoustics, quality
and speed of MP3 encoding.
@
text
@@
