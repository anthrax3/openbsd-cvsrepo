head	1.3;
access;
symbols
	OPENBSD_5_3:1.2.0.8
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.6
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.4
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.1.1.0.4
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.2
	OPENBSD_4_8_BASE:1.1.1.1
	dcoppa_20100531:1.1.1.1
	dcoppa:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2013.05.28.10.03.00;	author dcoppa;	state dead;
branches;
next	1.2;

1.2
date	2011.03.30.14.00.48;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2010.05.31.19.37.36;	author dcoppa;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.05.31.19.37.36;	author dcoppa;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Bye bye last.fm: marked broken since four months and nobody cared.
@
text
@$OpenBSD: patch-src_libUnicorn_draglabel_cpp,v 1.2 2011/03/30 14:00:48 dcoppa Exp $
--- src/libUnicorn/draglabel.cpp.orig	Mon Mar 28 15:20:34 2011
+++ src/libUnicorn/draglabel.cpp	Mon Mar 28 15:20:36 2011
@@@@ -324,6 +324,10 @@@@ DragLabel::calcFontProperties( DragItem& d, bool isHea
     {
         rect.setHeight( fm.height() );
     }
+    if ( fm.width( d.m_text ) > rect.width() )
+    {
+        rect.setWidth( fm.width( d.m_text ) );
+    }
 
     // boundingRect sometimes returns negative values so make sure it's at 0, 0
     rect.moveTo( 0, 0 );
@


1.2
log
@Update to last.fm 1.5.4.27091

Still happy with gcc 3.3.5

Tested on sparc64 and i386
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Initial revision
@
text
@d2 2
a3 2
--- src/libUnicorn/draglabel.cpp.orig	Thu May 27 22:50:30 2010
+++ src/libUnicorn/draglabel.cpp	Thu May 27 22:50:51 2010
@


1.1.1.1
log
@Import audio/last.fm, the official Last.fm radio player application.

OK steven@@, sthen@@
@
text
@@
