head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.14
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.10
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.12
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.8
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.6
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.4
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2
	bcallah_2013-May-15:1.1.1.1
	bcallah:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2013.05.15.12.41.30;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.05.15.06.24.53;	author bcallah;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.05.15.06.24.53;	author bcallah;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Unbreak.
Don't enforce dependency on tango-icon-theme.
@
text
@$OpenBSD: patch-Makefile,v 1.1.1.1 2013/05/15 06:24:53 bcallah Exp $
--- Makefile.orig	Thu Feb  9 03:50:01 2012
+++ Makefile	Wed May 15 09:21:54 2013
@@@@ -16,6 +16,7 @@@@ include build/version
 .PHONY : all clean realclean cleanicons install install-desktop
 
 INSTALL=install
+MANDIR=$(PREFIX)/man
 
 
 # Convert to Platform specific names
@@@@ -153,24 +154,33 @@@@ LINGUAS?=$(TRANSLATIONS)
 #----------------------------------------------------------
 install: $(BINNAME)
 	@@echo "    Installing $(INSTALL_DIR)/bin/gogglesmm ..."
-	@@$(INSTALL) -m 755 -D src/gogglesmm $(INSTALL_DIR)/bin/gogglesmm
+	@@$(BSD_INSTALL_PROGRAM) src/gogglesmm $(INSTALL_DIR)/bin/gogglesmm
 	@@echo "    Installing $(INSTALL_DIR)/share/applications/gogglesmm.desktop"
-	@@$(INSTALL) -m 644 -D extra/gogglesmm.desktop $(INSTALL_DIR)/share/applications/gogglesmm.desktop
+	@@$(BSD_INSTALL_DATA_DIR) $(INSTALL_DIR)/share/applications
+	@@$(BSD_INSTALL_DATA) extra/gogglesmm.desktop $(INSTALL_DIR)/share/applications/gogglesmm.desktop
 	@@echo "    Installing Icons"
-	$(INSTALL) -m 644 -D icons/gogglesmm_16.png $(INSTALL_DIR)/share/icons/hicolor/16x16/apps/gogglesmm.png
-	$(INSTALL) -m 644 -D extra/gogglesmm_22.png $(INSTALL_DIR)/share/icons/hicolor/22x22/apps/gogglesmm.png
-	$(INSTALL) -m 644 -D extra/gogglesmm_24.png $(INSTALL_DIR)/share/icons/hicolor/24x24/apps/gogglesmm.png
-	$(INSTALL) -m 644 -D icons/gogglesmm_32.png $(INSTALL_DIR)/share/icons/hicolor/32x32/apps/gogglesmm.png
-	$(INSTALL) -m 644 -D extra/gogglesmm_48.png $(INSTALL_DIR)/share/icons/hicolor/48x48/apps/gogglesmm.png
-	$(INSTALL) -m 644 -D extra/gogglesmm.svg $(INSTALL_DIR)/share/icons/hicolor/scalable/apps/gogglesmm.svg
+	@@$(BSD_INSTALL_DATA_DIR) $(INSTALL_DIR)/share/icons/hicolor/16x16/apps/
+	@@$(BSD_INSTALL_DATA) icons/gogglesmm_16.png $(INSTALL_DIR)/share/icons/hicolor/16x16/apps/gogglesmm.png
+	@@$(BSD_INSTALL_DATA_DIR) $(INSTALL_DIR)/share/icons/hicolor/22x22/apps/
+	@@$(BSD_INSTALL_DATA) extra/gogglesmm_22.png $(INSTALL_DIR)/share/icons/hicolor/22x22/apps/gogglesmm.png
+	@@$(BSD_INSTALL_DATA_DIR) $(INSTALL_DIR)/share/icons/hicolor/24x24/apps/
+	@@$(BSD_INSTALL_DATA) extra/gogglesmm_24.png $(INSTALL_DIR)/share/icons/hicolor/24x24/apps/gogglesmm.png
+	@@$(BSD_INSTALL_DATA_DIR) $(INSTALL_DIR)/share/icons/hicolor/32x32/apps/
+	@@$(BSD_INSTALL_DATA) icons/gogglesmm_32.png $(INSTALL_DIR)/share/icons/hicolor/32x32/apps/gogglesmm.png
+	@@$(BSD_INSTALL_DATA_DIR) $(INSTALL_DIR)/share/icons/hicolor/48x48/apps/
+	@@$(BSD_INSTALL_DATA) extra/gogglesmm_48.png $(INSTALL_DIR)/share/icons/hicolor/48x48/apps/gogglesmm.png
+	@@$(BSD_INSTALL_DATA_DIR) $(INSTALL_DIR)/share/icons/hicolor/scalable/apps/
+	@@$(BSD_INSTALL_DATA) extra/gogglesmm.svg $(INSTALL_DIR)/share/icons/hicolor/scalable/apps/gogglesmm.svg
 	@@echo "    Installing $(INSTALL_MANDIR)/man1/gogglesmm.1"
-	@@$(INSTALL) -m 644 -D extra/gogglesmm.1 $(INSTALL_MANDIR)/man1/gogglesmm.1
+	@@$(BSD_INSTALL_MAN_DIR) $(INSTALL_MANDIR)/man1/
+	@@$(BSD_INSTALL_MAN) extra/gogglesmm.1 $(INSTALL_MANDIR)/man1/gogglesmm.1
 ifneq (,$(findstring nls,$(OPTIONS)))
 	@@echo "    Installing Translations"
 	@@linguas='$(filter $(TRANSLATIONS),$(LINGUAS))'; \
 	for tr in $$linguas ; do \
     echo "    Installing $(INSTALL_LOCALEDIR)/$$tr/LC_MESSAGES/gogglesmm.mo" ;\
-  	$(INSTALL) -m 644 -D po/$$tr.mo -T $(INSTALL_LOCALEDIR)/$$tr/LC_MESSAGES/gogglesmm.mo ; \
+	$(BSD_INSTALL_DATA_DIR) $(INSTALL_LOCALEDIR)/$$tr/LC_MESSAGES/ ; \
+	$(BSD_INSTALL_DATA) po/$$tr.mo $(INSTALL_LOCALEDIR)/$$tr/LC_MESSAGES/gogglesmm.mo ; \
 	done;
 endif
 
@


1.1
log
@Initial revision
@
text
@d1 12
a12 4
$OpenBSD$
--- Makefile.orig	Wed Feb  8 21:50:01 2012
+++ Makefile	Sat May  4 02:56:19 2013
@@@@ -153,24 +153,32 @@@@ LINGUAS?=$(TRANSLATIONS)
d17 1
a17 1
+	@@$(INSTALL) -m 755 src/gogglesmm $(INSTALL_DIR)/bin/gogglesmm
d20 2
a21 2
+	mkdir -p $(INSTALL_DIR)/share/applications
+	@@$(INSTALL) -m 644 extra/gogglesmm.desktop $(INSTALL_DIR)/share/applications/gogglesmm.desktop
d29 12
a40 12
+	mkdir -p $(INSTALL_DIR)/share/icons/hicolor/16x16/apps/
+	$(INSTALL) -m 644 icons/gogglesmm_16.png $(INSTALL_DIR)/share/icons/hicolor/16x16/apps/gogglesmm.png
+	mkdir -p $(INSTALL_DIR)/share/icons/hicolor/22x22/apps/
+	$(INSTALL) -m 644 extra/gogglesmm_22.png $(INSTALL_DIR)/share/icons/hicolor/22x22/apps/gogglesmm.png
+	mkdir -p $(INSTALL_DIR)/share/icons/hicolor/24x24/apps/
+	$(INSTALL) -m 644 extra/gogglesmm_24.png $(INSTALL_DIR)/share/icons/hicolor/24x24/apps/gogglesmm.png
+	mkdir -p $(INSTALL_DIR)/share/icons/hicolor/32x32/apps/
+	$(INSTALL) -m 644 icons/gogglesmm_32.png $(INSTALL_DIR)/share/icons/hicolor/32x32/apps/gogglesmm.png
+	mkdir -p $(INSTALL_DIR)/share/icons/hicolor/48x48/apps/
+	$(INSTALL) -m 644 extra/gogglesmm_48.png $(INSTALL_DIR)/share/icons/hicolor/48x48/apps/gogglesmm.png
+	mkdir -p $(INSTALL_DIR)/share/icons/hicolor/scalable/apps/
+	$(INSTALL) -m 644 extra/gogglesmm.svg $(INSTALL_DIR)/share/icons/hicolor/scalable/apps/gogglesmm.svg
d43 2
a44 1
+	@@$(INSTALL) -m 644 extra/gogglesmm.1 $(INSTALL_MANDIR)/man1/gogglesmm.1
d51 2
a52 2
+	mkdir -p $(INSTALL_LOCALEDIR)/$$tr/LC_MESSAGES/ ; \
+	$(INSTALL) -m 644 po/$$tr.mo $(INSTALL_LOCALEDIR)/$$tr/LC_MESSAGES/gogglesmm.mo ; \
@


1.1.1.1
log
@Import audio/gogglesmm, a music collection manager and player.
ok brett@@
@
text
@@
