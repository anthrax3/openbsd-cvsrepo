head	1.11;
access;
symbols
	OPENBSD_6_0:1.11.0.16
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.12
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.11.0.14
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.11.0.10
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.11.0.8
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.6
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.11.0.4
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.11.0.2
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.9.0.2
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.2
	OPENBSD_5_0:1.7.0.2
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.6.0.4
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.6.0.2
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.11
date	2012.09.27.06.17.08;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2012.08.24.12.14.47;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2012.07.13.17.03.32;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2011.09.24.06.45.57;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2011.04.13.06.47.22;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2010.04.22.16.29.49;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2009.10.11.14.11.58;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2009.09.17.17.43.43;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2009.07.12.20.00.27;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.05.08.11.56;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.09.17.34.32;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Minor update to libcanberra-0.30.
@
text
@$OpenBSD: patch-configure_ac,v 1.10 2012/08/24 12:14:47 ajacoutot Exp $
--- configure.ac.orig	Tue Sep 25 02:21:07 2012
+++ configure.ac	Thu Sep 27 07:58:59 2012
@@@@ -296,6 +296,36 @@@@ else
     HAVE_OSS=0
 fi
 
+### SNDIO support (optional) ###
+
+AC_ARG_ENABLE([sndio],
+    AC_HELP_STRING([--disable-sndio], [Disable optional sndio support]),
+        [
+            case "${enableval}" in
+                yes) sndio=yes ;;
+                no) sndio=no ;;
+                *) AC_MSG_ERROR(bad value ${enableval} for --disable-sndio) ;;
+            esac
+        ],
+        [sndio=auto])
+
+if test "x${sndio}" != xno ; then
+    AC_CHECK_HEADERS(sndio.h)
+    if test "${ac_cv_header_sndio_h}" = "yes"; then
+	HAVE_SNDIO=1
+        AC_DEFINE([HAVE_SNDIO], 1, [Have sndio?])
+        SNDIO_LIBS='-lsndio'
+    else
+	HAVE_SNDIO=0
+        if test "x$sndio" = xyes ; then
+            AC_MSG_ERROR([*** sndio not found ***])
+        fi
+    fi
+else
+    HAVE_SNDIO=0
+fi
+AC_SUBST(SNDIO_LIBS)
+
 ### PulseAudio (optional) ####
 
 AC_ARG_ENABLE([pulse],
@@@@ -597,6 +627,7 @@@@ BUILTIN_DSO=0
 BUILTIN_PULSE=0
 BUILTIN_ALSA=0
 BUILTIN_OSS=0
+BUILTIN_SNDIO=0
 BUILTIN_GSTREAMER=0
 BUILTIN_NULL=0
 
@@@@ -609,6 +640,7 @@@@ case "x$with_builtin" in
         BUILTIN_PULSE=1
         HAVE_ALSA=0
 	HAVE_OSS=0
+	HAVE_SNDIO=0
 	HAVE_GSTREAMER=0
         HAVE_NULL=0
      ;;
@@@@ -620,6 +652,7 @@@@ case "x$with_builtin" in
 
         BUILTIN_ALSA=1
 	HAVE_OSS=0
+	HAVE_SNDIO=0
         HAVE_PULSE=0
 	HAVE_GSTREAMER=0
         HAVE_NULL=0
@@@@ -633,6 +666,7 @@@@ case "x$with_builtin" in
         BUILTIN_GSTREAMER=1
         HAVE_ALSA=0
 	HAVE_OSS=0
+	HAVE_SNDIO=0
         HAVE_PULSE=0
         HAVE_NULL=0
      ;;
@@@@ -644,11 +678,25 @@@@ case "x$with_builtin" in
 
 	BUILTIN_OSS=1
 	HAVE_ALSA=0
+	HAVE_SNDIO=0
 	HAVE_PULSE=0
 	HAVE_GSTREAMER=0
 	HAVE_NULL=0
      ;;
 
+     xsndio)
+        if test "x$HAV_SNDIO" != x1 ; then
+	        AC_MSG_ERROR([*** sndio selected for builtin driver, but not enabled. ***])
+	fi
+
+	BUILTIN_SNDIO=1
+	HAVE_ALSA=0
+	HAVE_OSS=0
+	HAVE_PULSE=0
+	HAVE_GSTREAMER=0
+	HAVE_NULL=0
+     ;;
+
      xnull)
         if test "x$HAVE_NULL" != x1 ; then
                 AC_MSG_ERROR([*** Null output selected for builtin driver, but not enabled. ***])
@@@@ -656,6 +704,7 @@@@ case "x$with_builtin" in
 
         BUILTIN_NULL=1
         HAVE_PULSE=0
+	HAVE_SNDIO=0
         HAVE_ALSA=0
 	HAVE_OSS=0
 	HAVE_GSTREAMER=0
@@@@ -671,7 +720,7 @@@@ case "x$with_builtin" in
         AC_MSG_ERROR([*** Unknown driver $with_builtin selected for builtin ***])
 esac
 
-if test "x$HAVE_PULSE" != x1 -a "x$HAVE_ALSA" != x1 -a "x$HAVE_OSS" != x1 -a "x$HAVE_GSTREAMER" != x1 -a "x$HAVE_NULL" != x1 ; then
+if test "x$HAVE_PULSE" != x1 -a "x$HAVE_ALSA" != x1 -a "x$HAVE_OSS" != x1 -a "x$HAVE_SNDIO" != x1 -a "x$HAVE_GSTREAMER" != x1 -a "x$HAVE_NULL" != x1 ; then
    AC_MSG_ERROR([*** No backend enabled. ***])
 fi
 
@@@@ -679,23 +728,27 @@@@ AC_SUBST(HAVE_DSO)
 AC_SUBST(HAVE_PULSE)
 AC_SUBST(HAVE_ALSA)
 AC_SUBST(HAVE_OSS)
+AC_SUBST(HAVE_SNDIO)
 AC_SUBST(HAVE_GSTREAMER)
 AC_SUBST(HAVE_NULL)
 AC_SUBST(BUILTIN_DSO)
 AC_SUBST(BUILTIN_PULSE)
 AC_SUBST(BUILTIN_ALSA)
 AC_SUBST(BUILTIN_OSS)
+AC_SUBST(BUILTIN_SNDIO)
 AC_SUBST(BUILTIN_GSTREAMER)
 AC_SUBST(BUILTIN_NULL)
 AM_CONDITIONAL([HAVE_PULSE], [test "x$HAVE_PULSE" = x1])
 AM_CONDITIONAL([HAVE_ALSA], [test "x$HAVE_ALSA" = x1])
 AM_CONDITIONAL([HAVE_OSS], [test "x$HAVE_OSS" = x1])
+AM_CONDITIONAL([HAVE_SNDIO], [test "x$HAVE_SNDIO" = x1])
 AM_CONDITIONAL([HAVE_GSTREAMER], [test "x$HAVE_GSTREAMER" = x1])
 AM_CONDITIONAL([HAVE_NULL], [test "x$HAVE_NULL" = x1])
 AM_CONDITIONAL([BUILTIN_DSO], [test "x$BUILTIN_DSO" = x1])
 AM_CONDITIONAL([BUILTIN_PULSE], [test "x$BUILTIN_PULSE" = x1])
 AM_CONDITIONAL([BUILTIN_ALSA], [test "x$BUILTIN_ALSA" = x1])
 AM_CONDITIONAL([BUILTIN_OSS], [test "x$BUILTIN_OSS" = x1])
+AM_CONDITIONAL([BUILTIN_SNDIO], [test "x$BUILTIN_SNDIO" = x1])
 AM_CONDITIONAL([BUILTIN_GSTREAMER], [test "x$BUILTIN_GSTREAMER" = x1])
 AM_CONDITIONAL([BUILTIN_NULL], [test "x$BUILTIN_NULL" = x1])
 
@@@@ -754,6 +807,15 @@@@ if test "x$BUILTIN_OSS" = "x1" ; then
     ENABLE_BUILTIN_OSS=yes
 fi
 
+ENABLE_SNDIO=no
+if test "x$HAVE_SNDIO" = "x1" ; then
+    ENABLE_SNDIO=yes
+fi
+ENABLE_BUILTIN_SNDIO=no
+if test "x$BUILTIN_SNDIO" = "x1" ; then
+    ENABLE_BUILTIN_SNDIO=yes
+fi
+
 ENABLE_GSTREAMER=no
 if test "x$HAVE_GSTREAMER" = "x1" ; then
    ENABLE_GSTREAMER=yes
@@@@ -814,6 +876,8 @@@@ echo "
     Builtin ALSA:           ${ENABLE_BUILTIN_ALSA}
     Enable OSS:             ${ENABLE_OSS}
     Builtin OSS:            ${ENABLE_BUILTIN_OSS}
+    Enable SNDIO:           ${ENABLE_SNDIO}
+    Builtin SNDIO:          ${ENABLE_BUILTIN_SNDIO}
     Enable GStreamer:       ${ENABLE_GSTREAMER}
     Builtin GStreamer:      ${ENABLE_BUILTIN_GSTREAMER}
     Enable Null Output:     ${ENABLE_NULL}
@


1.10
log
@Remove the as-needed pthread hack.

from Brad
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_ac,v 1.9 2012/07/13 17:03:32 ajacoutot Exp $
--- configure.ac.orig	Tue May 15 12:09:53 2012
+++ configure.ac	Fri Aug 24 14:01:44 2012
@@@@ -295,6 +295,36 @@@@ else
d41 1
a41 1
@@@@ -596,6 +626,7 @@@@ BUILTIN_DSO=0
d49 1
a49 1
@@@@ -608,6 +639,7 @@@@ case "x$with_builtin" in
d57 1
a57 1
@@@@ -619,6 +651,7 @@@@ case "x$with_builtin" in
d65 1
a65 1
@@@@ -632,6 +665,7 @@@@ case "x$with_builtin" in
d73 1
a73 1
@@@@ -643,11 +677,25 @@@@ case "x$with_builtin" in
d99 1
a99 1
@@@@ -655,6 +703,7 @@@@ case "x$with_builtin" in
d107 1
a107 1
@@@@ -670,7 +719,7 @@@@ case "x$with_builtin" in
d116 1
a116 1
@@@@ -678,23 +727,27 @@@@ AC_SUBST(HAVE_DSO)
d144 1
a144 1
@@@@ -753,6 +806,15 @@@@ if test "x$BUILTIN_OSS" = "x1" ; then
d160 1
a160 1
@@@@ -813,6 +875,8 @@@@ echo "
@


1.9
log
@Update to libcanberra-0.29.
@
text
@d1 1
a1 4
$OpenBSD: patch-configure_ac,v 1.8 2011/09/24 06:45:57 ajacoutot Exp $

Remove --as-needed (undefined symbol pthread_*).

d3 2
a4 10
+++ configure.ac	Fri Jul 13 18:37:21 2012
@@@@ -114,7 +114,6 @@@@ CC_CHECK_FLAGS_APPEND([with_cflags], [CFLAGS], [\
 AC_SUBST([WARNINGFLAGS], $with_cflags)
 
 CC_CHECK_FLAGS_APPEND([with_ldflags], [LDFLAGS], [\
-        -Wl,--as-needed \
         -Wl,--gc-sections])
 AC_SUBST([GCLDFLAGS], $with_ldflags)
 
@@@@ -295,6 +294,36 @@@@ else
d41 1
a41 1
@@@@ -596,6 +625,7 @@@@ BUILTIN_DSO=0
d49 1
a49 1
@@@@ -608,6 +638,7 @@@@ case "x$with_builtin" in
d57 1
a57 1
@@@@ -619,6 +650,7 @@@@ case "x$with_builtin" in
d65 1
a65 1
@@@@ -632,6 +664,7 @@@@ case "x$with_builtin" in
d73 1
a73 1
@@@@ -643,11 +676,25 @@@@ case "x$with_builtin" in
d99 1
a99 1
@@@@ -655,6 +702,7 @@@@ case "x$with_builtin" in
d107 1
a107 1
@@@@ -670,7 +718,7 @@@@ case "x$with_builtin" in
d116 1
a116 1
@@@@ -678,23 +726,27 @@@@ AC_SUBST(HAVE_DSO)
d144 1
a144 1
@@@@ -753,6 +805,15 @@@@ if test "x$BUILTIN_OSS" = "x1" ; then
d160 1
a160 1
@@@@ -813,6 +874,8 @@@@ echo "
@


1.8
log
@Remove libtool related part in this patch; not needed since our libtool
got updated.
@
text
@d1 15
a15 4
$OpenBSD: patch-configure_ac,v 1.7 2011/04/13 06:47:22 ajacoutot Exp $
--- configure.ac.orig	Thu Feb 24 22:55:54 2011
+++ configure.ac	Tue Apr 12 15:02:53 2011
@@@@ -246,6 +246,36 @@@@ else
d52 1
a52 1
@@@@ -553,6 +583,7 @@@@ BUILTIN_DSO=0
d60 1
a60 1
@@@@ -565,6 +596,7 @@@@ case "x$with_builtin" in
d68 1
a68 1
@@@@ -576,6 +608,7 @@@@ case "x$with_builtin" in
d76 1
a76 1
@@@@ -589,6 +622,7 @@@@ case "x$with_builtin" in
d84 1
a84 1
@@@@ -600,11 +634,25 @@@@ case "x$with_builtin" in
d110 1
a110 1
@@@@ -612,6 +660,7 @@@@ case "x$with_builtin" in
d118 1
a118 1
@@@@ -627,7 +676,7 @@@@ case "x$with_builtin" in
d127 1
a127 1
@@@@ -635,23 +684,27 @@@@ AC_SUBST(HAVE_DSO)
d155 1
a155 1
@@@@ -710,6 +763,15 @@@@ if test "x$BUILTIN_OSS" = "x1" ; then
d171 1
a171 1
@@@@ -770,6 +832,8 @@@@ echo "
@


1.7
log
@MULTIPACKAGE this port into:
    -main, the main libcanberra library
    -gtk, libcanberra-gtk (gtk+2)
    -gtk3 libcanberra-gtk3 (gtk+3)

This is needed for the ongoing GNOME3 work without forcing a global move
to gtk+3. The -gtk subpackage may disappear in the future when nothing
uses it.

This move will prevent the login/logout sounds to work in
gnome-session-2.X but it is a necessary evil to move forward.

EDONOTCARE/agreed by several
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_ac,v 1.6 2010/04/22 16:29:49 ajacoutot Exp $
a3 9
@@@@ -91,7 +91,7 @@@@ dnl can give the proper place to find libltdl through 
 dnl variables like LDFLAGS and CPPFLAGS.
 
 AC_CHECK_HEADER([ltdl.h],
-    [AC_CHECK_LIB([ltdl], [lt_dladvise_init], [LIBLTDL=-lltdl], [LIBLTDL=])],
+    [AC_CHECK_LIB([ltdl], [lt_dlopen], [LIBLTDL=-lltdl], [LIBLTDL=])],
     [LIBLTDL=])
 
 AS_IF([test "x$LIBLTDL" = "x"],
@


1.6
log
@Update to libcanberra-0.24.
@
text
@d1 4
a4 21
$OpenBSD: patch-configure_ac,v 1.5 2009/10/11 14:11:58 ajacoutot Exp $
--- configure.ac.orig	Mon Apr 19 17:07:05 2010
+++ configure.ac	Thu Apr 22 18:16:26 2010
@@@@ -23,14 +23,14 @@@@ m4_define([ca_major],[0])
 m4_define([ca_minor],[24])
 m4_define([ca_version],[ca_major.ca_minor])
 
-AC_PREREQ(2.63)
+AC_PREREQ(2.62)
 
 AC_INIT([libcanberra],[ca_version],[mzyvopnaoreen (at) 0pointer (dot) de])
 AC_CONFIG_SRCDIR([src/common.c])
 AC_CONFIG_HEADERS([config.h])
 AC_CONFIG_MACRO_DIR(m4)
 
-AM_INIT_AUTOMAKE([foreign 1.10 -Wall])
+AM_INIT_AUTOMAKE([foreign 1.9 -Wall])
 
 AC_SUBST(PACKAGE_URL, [http://0pointer.de/lennart/projects/libcanberra/])
 AC_SUBST(LIBCANBERRA_VERSION_INFO, [2:3:2])
@@@@ -90,7 +90,7 @@@@ dnl can give the proper place to find libltdl through 
d13 1
a13 1
@@@@ -245,6 +245,36 @@@@ else
d50 1
a50 1
@@@@ -467,6 +497,7 @@@@ BUILTIN_DSO=0
d58 1
a58 1
@@@@ -479,6 +510,7 @@@@ case "x$with_builtin" in
d66 1
a66 1
@@@@ -490,6 +522,7 @@@@ case "x$with_builtin" in
d74 1
a74 1
@@@@ -503,6 +536,7 @@@@ case "x$with_builtin" in
d82 1
a82 1
@@@@ -514,11 +548,25 @@@@ case "x$with_builtin" in
d108 1
a108 1
@@@@ -526,6 +574,7 @@@@ case "x$with_builtin" in
d116 1
a116 1
@@@@ -541,7 +590,7 @@@@ case "x$with_builtin" in
d125 1
a125 1
@@@@ -549,23 +598,27 @@@@ AC_SUBST(HAVE_DSO)
d153 1
a153 1
@@@@ -623,6 +676,15 @@@@ if test "x$BUILTIN_OSS" = "x1" ; then
d169 1
a169 1
@@@@ -673,6 +735,8 @@@@ echo "
@


1.5
log
@Update to libcanberra-0.18.
@
text
@d1 3
a3 3
$OpenBSD: patch-configure_ac,v 1.4 2009/09/17 17:43:43 ajacoutot Exp $
--- configure.ac.orig	Sat Sep 19 05:05:11 2009
+++ configure.ac	Sun Oct 11 15:58:13 2009
d5 1
a5 1
 m4_define([ca_minor],[18])
d20 2
a21 2
 
@@@@ -91,7 +91,7 @@@@ dnl can give the proper place to find libltdl through 
d30 1
a30 1
@@@@ -246,6 +246,36 @@@@ else
d67 1
a67 1
@@@@ -468,6 +498,7 @@@@ BUILTIN_DSO=0
d75 1
a75 1
@@@@ -480,6 +511,7 @@@@ case "x$with_builtin" in
d83 1
a83 1
@@@@ -491,6 +523,7 @@@@ case "x$with_builtin" in
d91 1
a91 1
@@@@ -504,6 +537,7 @@@@ case "x$with_builtin" in
d99 1
a99 1
@@@@ -515,11 +549,25 @@@@ case "x$with_builtin" in
d125 1
a125 1
@@@@ -527,6 +575,7 @@@@ case "x$with_builtin" in
d133 1
a133 1
@@@@ -542,7 +591,7 @@@@ case "x$with_builtin" in
d142 1
a142 1
@@@@ -550,23 +599,27 @@@@ AC_SUBST(HAVE_DSO)
d170 1
a170 1
@@@@ -624,6 +677,15 @@@@ if test "x$BUILTIN_OSS" = "x1" ; then
d186 1
a186 1
@@@@ -674,6 +736,8 @@@@ echo "
@


1.4
log
@Update to libcanberra-0.17.
* add vala vapi file
* numerous updates to Gtk support
* add new ca_context_playing() call
* several bugfixes

Makes use of newer sound-theme-freedesktop.
@
text
@d1 3
a3 3
$OpenBSD: patch-configure_ac,v 1.3 2009/07/12 20:00:27 ajacoutot Exp $
--- configure.ac.orig	Sat Sep 12 00:04:45 2009
+++ configure.ac	Thu Sep 17 18:48:39 2009
d5 1
a5 1
 m4_define([ca_minor],[17])
@


1.3
log
@- update to libcanberra-0.14
- take maintainer

ok jasper@@
@
text
@d1 3
a3 3
$OpenBSD: patch-configure_ac,v 1.2 2009/03/05 08:11:56 ajacoutot Exp $
--- configure.ac.orig	Thu Jul  2 02:56:30 2009
+++ configure.ac	Mon Jul  6 10:32:05 2009
d5 1
a5 1
 m4_define([ca_minor],[14])
d21 1
a21 1
@@@@ -89,7 +89,7 @@@@ dnl can give the proper place to find libltdl through 
d30 1
a30 1
@@@@ -244,6 +244,36 @@@@ else
d67 1
a67 1
@@@@ -466,6 +496,7 @@@@ BUILTIN_DSO=0
d75 1
a75 1
@@@@ -478,6 +509,7 @@@@ case "x$with_builtin" in
d83 1
a83 1
@@@@ -489,6 +521,7 @@@@ case "x$with_builtin" in
d91 1
a91 1
@@@@ -502,6 +535,7 @@@@ case "x$with_builtin" in
d99 1
a99 1
@@@@ -513,11 +547,25 @@@@ case "x$with_builtin" in
d125 1
a125 1
@@@@ -525,6 +573,7 @@@@ case "x$with_builtin" in
d133 1
a133 1
@@@@ -540,7 +589,7 @@@@ case "x$with_builtin" in
d142 1
a142 1
@@@@ -548,23 +597,27 @@@@ AC_SUBST(HAVE_DSO)
d170 1
a170 1
@@@@ -622,6 +675,15 @@@@ if test "x$BUILTIN_OSS" = "x1" ; then
d186 1
a186 1
@@@@ -672,6 +734,8 @@@@ echo "
@


1.2
log
@- update to libcanberra-0.11
@
text
@d1 6
a6 6
$OpenBSD: patch-configure_ac,v 1.1 2009/01/09 17:34:32 jakemsr Exp $
--- configure.ac.orig	Wed Jan 21 21:59:28 2009
+++ configure.ac	Tue Mar  3 09:32:42 2009
@@@@ -19,14 +19,14 @@@@
 # License along with libcanberra. If not, see
 # <http://www.gnu.org/licenses/>.
d11 1
a11 1
 AC_INIT([libcanberra], 0.11, [mzyvopnaoreen (at) 0pointer (dot) de])
d21 2
a22 1
@@@@ -65,7 +65,6 @@@@ done
d24 4
a27 5
 #### libtool stuff ####
 LT_PREREQ(2.2)
-LT_CONFIG_LTDL_DIR([libltdl])
 LT_INIT([dlopen win32-dll disable-static])
 LTDL_INIT([convenience recursive])
d29 2
a30 1
@@@@ -230,6 +229,36 @@@@ else
d67 1
a67 1
@@@@ -451,6 +480,7 @@@@ BUILTIN_DSO=0
d75 1
a75 1
@@@@ -463,6 +493,7 @@@@ case "x$with_builtin" in
d83 1
a83 1
@@@@ -474,6 +505,7 @@@@ case "x$with_builtin" in
d91 1
a91 1
@@@@ -487,6 +519,7 @@@@ case "x$with_builtin" in
d99 1
a99 1
@@@@ -498,18 +531,32 @@@@ case "x$with_builtin" in
d125 1
a125 1
         fi
d128 1
a128 1
-        HAVE_PULSE=0
d133 1
a133 1
@@@@ -525,7 +572,7 @@@@ case "x$with_builtin" in
d142 1
a142 1
@@@@ -533,23 +580,27 @@@@ AC_SUBST(HAVE_DSO)
d170 1
a170 1
@@@@ -604,6 +655,15 @@@@ if test "x$BUILTIN_OSS" = "x1" ; then
d186 1
a186 1
@@@@ -654,6 +714,8 @@@@ echo "
@


1.1
log
@- add sndio backend
- remove OSS backend

requested/tested by ajacoutot@@
@
text
@d1 27
a27 9
$OpenBSD$
--- configure.ac.orig	Fri Dec 26 14:54:31 2008
+++ configure.ac	Fri Dec 26 15:05:18 2008
@@@@ -70,7 +70,7 @@@@ AC_LIBTOOL_WIN32_DLL
 AC_PROG_LIBTOOL
 AC_SUBST(LTDLINCL)
 AC_SUBST(LIBLTDL)
-AC_CONFIG_SUBDIRS(libltdl)
+dnl AC_CONFIG_SUBDIRS(libltdl)
d29 1
a29 3
 #### Determine build environment ####
 
@@@@ -233,6 +233,36 @@@@ else
d66 1
a66 1
@@@@ -454,6 +484,7 @@@@ BUILTIN_DSO=0
d74 1
a74 1
@@@@ -466,6 +497,7 @@@@ case "x$with_builtin" in
d82 1
a82 1
@@@@ -477,6 +509,7 @@@@ case "x$with_builtin" in
d90 1
a90 1
@@@@ -490,6 +523,7 @@@@ case "x$with_builtin" in
d98 7
a104 1
@@@@ -506,6 +540,19 @@@@ case "x$with_builtin" in
d124 5
a128 2
@@@@ -515,6 +562,7 @@@@ case "x$with_builtin" in
         HAVE_PULSE=0
a130 1
+	HAVE_SNDIO=0
d132 1
a132 3
      ;;
 
@@@@ -528,7 +576,7 @@@@ case "x$with_builtin" in
d141 1
a141 1
@@@@ -536,23 +584,27 @@@@ AC_SUBST(HAVE_DSO)
d169 1
a169 1
@@@@ -606,6 +658,15 @@@@ if test "x$BUILTIN_OSS" = "x1" ; then
d185 1
a185 1
@@@@ -656,6 +717,8 @@@@ echo "
@

