head	1.7;
access;
symbols
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.2
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.7
date	2012.07.13.17.03.32;	author ajacoutot;	state dead;
branches;
next	1.6;

1.6
date	2011.09.30.06.51.31;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2011.04.13.06.47.22;	author ajacoutot;	state dead;
branches;
next	1.4;

1.4
date	2010.10.24.13.29.43;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2009.07.12.20.00.27;	author ajacoutot;	state dead;
branches;
next	1.2;

1.2
date	2009.03.05.08.11.56;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.09.17.34.32;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Update to libcanberra-0.29.
@
text
@$OpenBSD: patch-Makefile_am,v 1.6 2011/09/30 06:51:31 ajacoutot Exp $

XXX
/bin/sh[1]: ELF: not found
/bin/sh[2]: ÿÿÿ
ySu~%=i: not found
/bin/sh[418]: syntax error: `(' unexpected

--- Makefile.am.orig	Fri Sep 30 08:25:13 2011
+++ Makefile.am	Fri Sep 30 08:25:19 2011
@@@@ -26,7 +26,7 @@@@ EXTRA_DIST = \
 	vala/libcanberra.vapi \
 	vala/libcanberra-gtk.vapi
 
-SUBDIRS = src gtkdoc doc
+SUBDIRS = src doc
 
 MAINTAINERCLEANFILES = README
 noinst_DATA = README
@


1.6
log
@Disable gstreamer support; libcanberra has native support for sndio(7).
@
text
@d1 1
a1 1
$OpenBSD$
@


1.5
log
@MULTIPACKAGE this port into:
    -main, the main libcanberra library
    -gtk, libcanberra-gtk (gtk+2)
    -gtk3 libcanberra-gtk3 (gtk+3)

This is needed for the ongoing GNOME3 work without forcing a global move
to gtk+3. The -gtk subpackage may disappear in the future when nothing
uses it.

This move will prevent the login/logout sounds to work in
gnome-session-2.X but it is a necessary evil to move forward.

EDONOTCARE/agreed by several
@
text
@d1 13
a13 4
$OpenBSD: patch-Makefile_am,v 1.4 2010/10/24 13:29:43 naddy Exp $
--- Makefile.am.orig	Sun Oct 24 07:26:22 2010
+++ Makefile.am	Sun Oct 24 07:26:47 2010
@@@@ -46,11 +46,11 @@@@ schemas_DATA     = libcanberra.schemas
d15 5
a19 15
 if GCONF_SCHEMAS_INSTALL
 install-data-local:
-                if test -z "$(DESTDIR)" ; then \
-                        for p in $(schemas_DATA) ; do \
-                                GCONF_CONFIG_SOURCE=$(GCONF_SCHEMA_CONFIG_SOURCE) $(GCONFTOOL) --makefile-install-rule $(top_builddir)/data/$$p ; \
-                        done \
-                fi
+		if test -z "$(DESTDIR)" ; then \
+			for p in $(schemas_DATA) ; do \
+				GCONF_CONFIG_SOURCE=$(GCONF_SCHEMA_CONFIG_SOURCE) $(GCONFTOOL) --makefile-install-rule $(top_builddir)/data/$$p ; \
+			done \
+		fi
 else
 install-data-local:
 endif
@


1.4
log
@proactively fix for gmake 3.82
@
text
@d1 1
a1 1
$OpenBSD$
@


1.3
log
@- update to libcanberra-0.14
- take maintainer

ok jasper@@
@
text
@d1 4
a4 5
$OpenBSD: patch-Makefile_am,v 1.2 2009/03/05 08:11:56 ajacoutot Exp $
--- Makefile.am.orig	Tue Mar  3 09:16:19 2009
+++ Makefile.am	Tue Mar  3 09:16:33 2009
@@@@ -19,7 +19,7 @@@@
 dist_doc_DATA = README
d6 15
a20 6
 EXTRA_DIST = bootstrap.sh autogen.sh LGPL libcanberra.schemas
-SUBDIRS = libltdl src gtkdoc doc
+SUBDIRS = src gtkdoc doc
 
 MAINTAINERCLEANFILES = README
 noinst_DATA = README
@


1.2
log
@- update to libcanberra-0.11
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_am,v 1.1 2009/01/09 17:34:32 jakemsr Exp $
@


1.1
log
@- add sndio backend
- remove OSS backend

requested/tested by ajacoutot@@
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.am.orig	Fri Dec 26 16:32:45 2008
+++ Makefile.am	Fri Dec 26 16:32:45 2008
d8 1
a8 1
-SUBDIRS = src gtkdoc libltdl doc
@

