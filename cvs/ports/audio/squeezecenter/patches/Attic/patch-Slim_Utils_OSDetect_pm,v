head	1.2;
access;
symbols
	sthen_20081017:1.1.1.1 sthen:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2009.01.28.01.36.00;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2008.10.17.09.59.26;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.10.17.09.59.26;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to 7.3.2
@
text
@$OpenBSD: patch-Slim_Utils_OSDetect_pm,v 1.1 2008/10/17 09:59:26 sthen Exp $
--- Slim/Utils/OSDetect.pm.orig	Fri Aug 29 10:00:59 2008
+++ Slim/Utils/OSDetect.pm	Sat Oct 11 14:59:23 2008
@@@@ -124,7 +124,7 @@@@ sub initSearchPath {
 
 	if ($detectedOS ne "win") {
 
-		push @@paths, (split(/:/, $ENV{'PATH'}), qw(/usr/bin /usr/local/bin /usr/libexec /sw/bin /usr/sbin));
+		push @@paths, (split(/:/, $ENV{'PATH'}), qw(/usr/bin /usr/local/bin /usr/libexec /sw/bin /usr/sbin /usr/local/libexec));
 
 	} else {
 
@@@@ -370,6 +370,55 @@@@ sub dirsFor {
 			push @@dirs, catdir( $Bin, $dir );
 		}
 
+	} elsif (isOpenBSD()) {
+
+		if ($dir =~ /^(?:Firmware|Graphics|HTML|IR|MySQL|SQL|Bin)$/) {
+
+			push @@dirs, "${LOCALBASE}/share/squeezecenter/$dir";
+
+		} elsif ($dir eq 'Plugins') {
+			
+			push @@dirs, "${LOCALBASE}/share/squeezecenter/$dir";
+			push @@dirs, "${LOCALBASE}/libdata/perl5/site_perl/Slim/Plugin";
+
+		} elsif ($dir =~ /^(?:Bin|lib)$/) {
+
+			push @@dirs, "${LOCALBASE}/libdata/squeezecenter";
+
+		} elsif ($dir eq 'strings' || $dir eq 'revision') {
+
+			push @@dirs, "${LOCALBASE}/share/squeezecenter";
+
+		} elsif ($dir =~ /^(?:types|convert)$/) {
+
+			push @@dirs, "${SYSCONFDIR}/squeezecenter";
+
+		} elsif ($dir eq 'prefs') {
+
+			push @@dirs, "/var/db/squeezecenter/prefs";
+
+		} elsif ($dir eq 'log') {
+
+			push @@dirs, "/var/log/squeezecenter";
+
+		} elsif ($dir eq 'cache') {
+
+			push @@dirs, "/var/db/squeezecenter/cache";
+
+		} elsif ($dir eq 'MySQL') {
+
+			# Do nothing - use the depended upon MySQL install.
+
+		} elsif ( $dir =~ /^(?:music|playlists)$/ ) {
+
+			push @@dirs, '';
+
+		} else {
+
+			warn "dirsFor: Didn't find a match request: [$dir]\n";
+
+		}
+
 	} else {
 
 		# Everyone else - *nix.
@@@@ -478,6 +527,18 @@@@ sub isRHorSUSE {
 		return 1;
 	}
 
+	return 0;
+}
+
+sub isOpenBSD {
+
+	# Initialize
+	my $OS      = OS();
+	my $details = details();
+
+	if ($details->{'osName'} eq 'openbsd') {
+                return 1;
+        }       
 	return 0;
 }
 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@import squeezecenter:

Formerly known as SlimServer, this is a streaming audio server
for use with the SlimDevices/Logitech network music players -
Squeezebox, Transporter and SLiMP3.

* Web browser UI to control the player and manage playlists
* MP3 & WMA Internet radio
* Alarm clock
* Automatically imports metadata tags
* Browse and search by title, artist, album or genre
* Shuffle and repeat albums or songs
* Create, save, and import .pls, .cue and .m3u playlist files
* Displays current date and time when not playing
* Open protocol and command line API
* Expandable through 3rd party plug-ins and skins
* Supports multiple synchronized players
* Listen from any computer using an MP3 software player
@
text
@@
