head	1.63;
access;
symbols
	OPENBSD_6_0:1.62.0.6
	OPENBSD_6_0_BASE:1.62
	OPENBSD_5_9:1.62.0.2
	OPENBSD_5_9_BASE:1.62
	OPENBSD_5_8:1.62.0.4
	OPENBSD_5_8_BASE:1.62
	OPENBSD_5_7:1.58.0.4
	OPENBSD_5_7_BASE:1.58
	OPENBSD_5_6:1.58.0.2
	OPENBSD_5_6_BASE:1.58
	OPENBSD_5_5:1.52.0.2
	OPENBSD_5_5_BASE:1.52
	OPENBSD_5_4:1.50.0.2
	OPENBSD_5_4_BASE:1.50
	OPENBSD_5_3:1.48.0.4
	OPENBSD_5_3_BASE:1.48
	OPENBSD_5_2:1.48.0.2
	OPENBSD_5_2_BASE:1.48
	OPENBSD_5_1_BASE:1.45
	OPENBSD_5_1:1.45.0.2
	OPENBSD_5_0:1.38.0.2
	OPENBSD_5_0_BASE:1.38
	OPENBSD_4_9:1.37.0.2
	OPENBSD_4_9_BASE:1.37
	OPENBSD_4_8:1.31.0.2
	OPENBSD_4_8_BASE:1.31
	OPENBSD_4_7:1.30.0.2
	OPENBSD_4_7_BASE:1.30
	OPENBSD_4_6:1.25.0.2
	OPENBSD_4_6_BASE:1.25
	OPENBSD_4_5:1.23.0.2
	OPENBSD_4_5_BASE:1.23
	OPENBSD_4_4:1.21.0.2
	OPENBSD_4_4_BASE:1.21
	OPENBSD_4_3:1.20.0.2
	OPENBSD_4_3_BASE:1.20
	OPENBSD_4_2:1.13.0.2
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.6.0.2
	OPENBSD_4_1_BASE:1.6
	jasper_20061027:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.63
date	2016.11.24.11.45.17;	author landry;	state Exp;
branches;
next	1.62;
commitid	UI10ZZfwg5skTvI1;

1.62
date	2015.05.22.11.31.10;	author ajacoutot;	state Exp;
branches;
next	1.61;
commitid	2khjHXfpTaOuNVcx;

1.61
date	2015.04.21.18.51.24;	author sthen;	state Exp;
branches;
next	1.60;
commitid	ptMCPiyuhL0JiHRZ;

1.60
date	2015.04.04.09.20.59;	author ajacoutot;	state Exp;
branches;
next	1.59;
commitid	kS3kwKZogsvzYmEY;

1.59
date	2015.03.27.08.43.01;	author ajacoutot;	state Exp;
branches;
next	1.58;
commitid	9SD62DzRZ5qtR5xU;

1.58
date	2014.07.09.17.43.52;	author ajacoutot;	state Exp;
branches;
next	1.57;
commitid	Nm4l5yAcUVwu1rIN;

1.57
date	2014.07.09.13.55.59;	author ajacoutot;	state Exp;
branches;
next	1.56;
commitid	c4pRJ4t1whiJdImt;

1.56
date	2014.04.02.09.36.09;	author jasper;	state Exp;
branches;
next	1.55;

1.55
date	2014.04.01.18.06.28;	author jasper;	state Exp;
branches;
next	1.54;

1.54
date	2014.04.01.17.03.13;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2014.03.16.09.42.02;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2013.10.26.08.02.57;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2013.09.20.05.32.57;	author dcoppa;	state Exp;
branches;
next	1.50;

1.50
date	2013.03.21.08.45.12;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2013.03.10.22.55.02;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2012.06.15.08.32.14;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2012.02.26.15.06.10;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2012.02.16.21.36.03;	author landry;	state Exp;
branches;
next	1.45;

1.45
date	2012.01.03.07.03.54;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2011.12.03.18.55.28;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2011.11.04.12.18.51;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2011.11.04.08.42.25;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2011.10.12.12.54.30;	author jasper;	state Exp;
branches;
next	1.40;

1.40
date	2011.09.16.08.26.10;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2011.08.23.08.42.45;	author landry;	state Exp;
branches;
next	1.38;

1.38
date	2011.07.11.14.04.42;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2010.11.26.07.07.56;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2010.11.15.00.22.46;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.24.21.00.29;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.18.16.52.44;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2010.10.11.08.11.16;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2010.09.05.22.00.13;	author sthen;	state Exp;
branches;
next	1.31;

1.31
date	2010.04.09.13.31.13;	author landry;	state Exp;
branches;
next	1.30;

1.30
date	2009.12.22.15.43.15;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2009.11.22.21.53.51;	author landry;	state Exp;
branches;
next	1.28;

1.28
date	2009.09.21.18.39.16;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2009.09.21.18.33.06;	author landry;	state Exp;
branches;
next	1.26;

1.26
date	2009.08.10.06.29.52;	author kili;	state Exp;
branches;
next	1.25;

1.25
date	2009.06.10.20.33.59;	author kili;	state Exp;
branches;
next	1.24;

1.24
date	2009.04.23.19.21.03;	author landry;	state Exp;
branches;
next	1.23;

1.23
date	2009.01.30.22.47.08;	author landry;	state Exp;
branches;
next	1.22;

1.22
date	2008.10.28.13.33.16;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2008.06.15.00.04.49;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2008.01.26.12.13.51;	author landry;	state Exp;
branches;
next	1.19;

1.19
date	2007.12.16.19.13.08;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2007.12.15.18.56.35;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2007.12.15.16.53.48;	author landry;	state Exp;
branches;
next	1.16;

1.16
date	2007.12.15.13.11.22;	author landry;	state Exp;
branches;
next	1.15;

1.15
date	2007.11.13.12.44.22;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2007.09.15.21.26.01;	author simon;	state Exp;
branches;
next	1.13;

1.13
date	2007.06.15.17.29.17;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.26.21.08.07;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2007.05.26.15.10.51;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2007.05.14.19.35.08;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2007.04.12.20.24.29;	author sturm;	state Exp;
branches;
next	1.8;

1.8
date	2007.03.28.20.23.10;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2007.03.23.23.41.59;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2007.02.11.00.56.57;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2007.01.15.21.25.09;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2006.12.16.12.22.32;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2006.11.11.21.04.27;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2006.10.27.14.24.21;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2006.10.27.14.11.16;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.10.27.14.11.16;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.63
log
@Invert broken logic to fix a bunch of vfprintf %s NULL spamming my logs.
@
text
@# $OpenBSD: Makefile,v 1.62 2015/05/22 11:31:10 ajacoutot Exp $

COMMENT=		GNOME music player client

VERSION=		11.8.16
DISTNAME=		gmpc-${VERSION}
REVISION =		13

CATEGORIES=		audio

MAINTAINER=		Landry Breuil <landry@@openbsd.org>

HOMEPAGE =		http://gmpclient.org/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 c cairo dbus-1 dbus-glib-1 expat ffi
WANTLIB += fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 graphite2 gthread-2.0
WANTLIB += gtk-x11-2.0 harfbuzz lzma m mpd pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs soup-2.4
WANTLIB += sqlite3 unique-1.0 xcb xcb-render xcb-shm xml2 z

MASTER_SITES=		http://www.musicpd.org/download/gmpc/${VERSION}/

MODULES=		devel/gettext textproc/intltool x11/gnome

USE_GMAKE=		Yes

CONFIGURE_STYLE=	gnu

# fuck you vala, for running valac without reason and generating broken code.
post-patch:
	touch ${WRKSRC}/src/gmpc_vala.stamp

BUILD_DEPENDS=		x11/gob2

MODGNOME_TOOLS += desktop-file-utils gtk-update-icon-cache vala yelp

CONFIGURE_ARGS+=	--enable-appindicator=no

LIB_DEPENDS=		audio/libmpd>=11.8.17 \
			x11/gtk+2 \
			devel/libunique \
			devel/libsoup

.include <bsd.port.mk>
@


1.62
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2015/04/21 18:51:24 sthen Exp $
d7 1
a7 1
REVISION =		12
@


1.61
log
@add some simple missing lzma WANTLIBs (crept in via libxml)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2015/04/04 09:20:59 ajacoutot Exp $
d7 1
a7 1
REVISION =		11
@


1.60
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2015/03/27 08:43:01 ajacoutot Exp $
d7 1
a7 1
REVISION =		10
d18 7
a24 9
WANTLIB=		ICE SM X11 Xcomposite Xcursor Xdamage Xext \
			Xfixes Xi Xinerama Xrandr Xrender atk-1.0 c cairo \
			expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
			gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 \
			gthread-2.0 gtk-x11-2.0 m pango-1.0 \
			pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread \
			xml2 z pthread-stubs sqlite3 xcb \
			dbus-1 dbus-glib-1 xcb-shm graphite2 harfbuzz \
			mpd soup-2.4 xcb-render ffi unique-1.0
@


1.59
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/07/09 17:43:52 ajacoutot Exp $
d7 1
a7 1
REVISION =		9
@


1.58
log
@The x11/gnome MODULE will soon stop setting USE_GMAKE unconditionally, so
explicitely add it where needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2014/07/09 13:55:59 ajacoutot Exp $
d7 1
a7 1
REVISION =		8
@


1.57
log
@These need textproc/intltool in MODULES since they are not GNOME_PROJECT
ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2014/04/02 09:36:09 jasper Exp $
d31 2
@


1.56
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/04/01 18:06:28 jasper Exp $
d7 1
a7 1
REVISION =		7
d30 1
a30 1
MODULES=		devel/gettext x11/gnome
@


1.55
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/04/01 17:03:13 jasper Exp $
d40 1
a40 1
MODGNOME_TOOLS += vala yelp  gtk-update-icon-cache  desktop-file-utils
@


1.54
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/03/16 09:42:02 ajacoutot Exp $
d40 1
a40 3
MODGNOME_TOOLS=		vala yelp
MODGNOME_TOOLS +=	gtk-update-icon-cache
MODGNOME_TOOLS +=	desktop-file-utils
@


1.53
log
@Simplify by using the x11/gnome MODULE.
Renge PLIST and WANTLIB while here.

ok landry@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/10/26 08:02:57 ajacoutot Exp $
d41 2
a42 2
MODGNOME_ICON_CACHE=	Yes
MODGNOME_DESKTOP_FILE=	Yes
@


1.52
log
@Fix dependencies and bump after the recent libsoup -gnome => -main merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/09/20 05:32:57 dcoppa Exp $
d7 1
a7 1
REVISION =		6
d18 1
a18 1
WANTLIB=		ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext \
d24 2
a25 2
			xml2 z pthread-stubs sqlite3 xcb stdc++ \
			GL Xxf86vm dbus-1 dbus-glib-1 drm xcb-shm \
d30 1
a30 1
MODULES=		devel/gettext textproc/intltool
a31 1
USE_GMAKE=		Yes
d38 5
a42 7
BUILD_DEPENDS=		x11/gob2 \
			x11/gnome/doc-utils \
			lang/vala

RUN_DEPENDS=		devel/desktop-file-utils \
			x11/gnome/yelp \
			x11/gtk+2,-guic
a43 2
CONFIGURE_ENV+= 	LDFLAGS="-L${LOCALBASE}/lib -liconv" \
			CPPFLAGS="-I${LOCALBASE}/include"
@


1.51
log
@Switch to new MASTER_SITES.

ok landry@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/03/21 08:45:12 ajacoutot Exp $
d7 1
a7 1
REVISION =		5
d54 1
a54 1
			devel/libsoup,-main
@


1.50
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/03/10 22:55:02 espie Exp $
d28 1
a28 1
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=musicpd/}
@


1.49
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/06/15 08:32:14 ajacoutot Exp $
a32 1
USE_LIBTOOL=		Yes
@


1.48
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2012/02/26 15:06:10 ajacoutot Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.47
log
@Tweak after recent vala update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/02/16 21:36:03 landry Exp $
d7 1
a7 1
REVISION =		4
@


1.46
log
@Fix icon warnings upon startup, play/stop/prev/next buttons were broken.
http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=646822
http://repo.or.cz/w/gmpc.git/commit/ced4f26e053bff5bb04205f623a179fc97fdfe52
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/01/03 07:03:54 ajacoutot Exp $
d45 1
a45 1
			lang/vala>=0.7.10
@


1.45
log
@Clean up the use of USE_GROFF for ports where mandoc doesn't have any
ERRORs and formatting looks Ok.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/12/03 18:55:28 ajacoutot Exp $
d7 1
a7 1
REVISION =		3
d38 4
@


1.44
log
@Depends on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/11/04 12:18:51 jasper Exp $
a36 1
USE_GROFF =	Yes
@


1.43
log
@tyop
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/11/04 08:42:25 jasper Exp $
d7 1
a7 1
REVISION =		2
d45 2
a46 1
			x11/gnome/yelp
@


1.42
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/10/12 12:54:30 jasper Exp $
d27 1
a27 1
			xml2 z pthread-stubs sqlite3 xcb stdc++
@


1.41
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/09/16 08:26:10 espie Exp $
d7 1
a7 1
REVISION =		1
d27 1
a27 1
			xml2 z pthread-stubs sqlite3 xcb \
@


1.40
log
@normalize pkgpath in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/08/23 08:42:45 landry Exp $
d7 1
a7 1
REVISION =		0
d27 1
a27 1
			tasn1 xml2 z pthread-stubs sqlite3 xcb \
d29 1
a29 1
			mpd soup-2.4 xcb-render xcb-render-util
@


1.39
log
@Update to gmpc 11.8.16.
see http://blog.sarine.nl/2011/08/17/gmpc-11-8/ for the list of changes.
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/07/11 14:04:42 jasper Exp $
d7 1
@


1.38
log
@no need to keep using the gcc3 module on sparc

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/11/26 07:07:56 espie Exp $
d5 1
a5 1
VERSION=		0.20.0
a6 1
REVISION=		2
d10 1
a10 1
MAINTAINER=		Landry Breuil <gaston@@gcu.info>
d12 1
a12 1
HOMEPAGE=		http://gmpc.wikia.com/wiki/Gnome_Music_Player_Client
d22 3
a24 3
			expat fontconfig freetype gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 \
			gio-2.0 glib-2.0 gmodule-2.0 gnutls gobject-2.0 \
			gpg-error gthread-2.0 gtk-x11-2.0 m pango-1.0 \
d27 2
a28 1
			mpd sexy glade-2.0 soup-2.4 xcb-render xcb-render-util
d40 1
d43 2
a44 1
RUN_DEPENDS=		devel/desktop-file-utils
d46 1
a46 1
CONFIGURE_ENV+= 	LDFLAGS="-L${LOCALBASE}/lib" \
d48 1
a48 1
CONFIGURE_ARGS+=	--enable-system-libsexy
d50 3
a52 3
LIB_DEPENDS=		audio/libmpd>=0.20.0 \
			x11/libsexy \
			devel/libglade2 \
@


1.37
log
@redo depends with >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/11/15 00:22:46 espie Exp $
d7 1
a7 1
REVISION=		1
d32 1
a32 4
MODULES=		devel/gettext gcc3 textproc/intltool

MODGCC3_ARCHES= 	sparc
MODGCC3_LANGS=  	c
@


1.36
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/10/24 21:00:29 ajacoutot Exp $
d43 1
a43 1
			vala->=0.7.10:lang/vala
d51 1
a51 1
LIB_DEPENDS=		libmpd->=0.20.0:audio/libmpd \
@


1.35
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/18 16:52:44 espie Exp $
d42 2
a43 2
BUILD_DEPENDS=		::x11/gob2 \
			:vala->=0.7.10:lang/vala
d45 1
a45 1
RUN_DEPENDS=		:desktop-file-utils-*:devel/desktop-file-utils
d51 4
a54 4
LIB_DEPENDS=		:libmpd->=0.20.0:audio/libmpd \
			::x11/libsexy \
			::devel/libglade2 \
			::devel/libsoup,-main
@


1.34
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/10/11 08:11:16 jasper Exp $
a37 1
USE_X11=		Yes
@


1.33
log
@- fix WANTLIB after cairo update.

these and upcoming fixes test built by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/09/05 22:00:13 sthen Exp $
d40 1
@


1.32
log
@new-style LIB_DEPENDS/REVISION, sync WANTLIB, bump where necessary.
checked with check-lib-depends and PLIST_DB "make package".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/04/09 13:31:13 landry Exp $
d7 1
a7 1
REVISION=		0
d24 1
a24 1
			gio-2.0 glib-2.0 glitz gmodule-2.0 gnutls gobject-2.0 \
@


1.31
log
@Update to gmpc 0.20.0, now depends on vala 0.7.10 at least to build.
ok ajacoutot@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/12/22 15:43:15 ajacoutot Exp $
d7 1
d20 1
d27 2
a28 1
			tasn1 xml2 z pthread-stubs sqlite3 xcb
d51 4
a54 4
LIB_DEPENDS=		mpd:libmpd->=0.20.0:audio/libmpd \
			sexy::x11/libsexy \
			glade-2.0::devel/libglade2 \
			soup-2.4::devel/libsoup,-main
@


1.30
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/11/22 21:53:51 landry Exp $
d5 1
a5 1
VERSION=		0.19.1
a6 1
PKGNAME=		${DISTNAME}p0
d39 2
a40 1
BUILD_DEPENDS=		::x11/gob2
d46 1
a46 2
CONFIGURE_ARGS+=	--enable-configdir \
			--enable-system-libsexy
d48 1
a48 1
LIB_DEPENDS=		mpd:libmpd->=0.19.0:audio/libmpd \
@


1.29
log
@Update to gmpc-0.19.1, bugfix release (brings a slightly improved 'now
playing' window)

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/09/21 18:39:16 jasper Exp $
d7 2
@


1.28
log
@- tighten dependency on libmpd

"arg" landry@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/09/21 18:33:06 landry Exp $
d5 1
a5 1
VERSION=		0.19.0
a6 1
PKGNAME=		${DISTNAME}p0
d47 1
a47 1
LIB_DEPENDS=		mpd:libmpd->=${VERSION}:audio/libmpd \
@


1.27
log
@Update to gmpc 0.19.0.
While here, remove MESSAGE, users are supposed to have updated gmpc
since 2007.
ok jasper@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/08/10 06:29:52 kili Exp $
d7 1
d48 1
a48 1
LIB_DEPENDS=		mpd:libmpd->=0.18:audio/libmpd \
@


1.26
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/06/10 20:33:59 kili Exp $
d5 1
a5 1
VERSION=		0.18.0
a6 1
PKGNAME=		${DISTNAME}p1
d19 1
a19 1
			Xfixes Xi Xinerama Xrandr Xrender atk-1.0 c cairo crypto \
d22 3
a24 3
			gpg-error gthread-2.0 gtk-x11-2.0 idn m pango-1.0 \
			pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread ssl \
			tasn1 xml2 z
d50 1
a50 2
			soup-2.4::devel/libsoup,-main \
			curl::net/curl
@


1.25
log
@
WANTLIB += gcrypt and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/04/23 19:21:03 landry Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d22 4
a25 3
			gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 gthread-2.0 \
			gtk-x11-2.0 idn m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
			pcre pixman-1 png pthread ssl xml2 z gnutls gpg-error tasn1
@


1.24
log
@Update to gmpc 0.18, explicitely depend on libmpd 0.18.
ok ajacoutot@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/01/30 22:47:08 landry Exp $
d7 1
d21 1
a21 1
			expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
@


1.23
log
@Update to gmpc 0.17:
- switch to sourceforge MASTER_SITES
- use system libsexy
- remove now unneeded patch
- Fix licence marker
ok ajacoutot@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/10/28 13:33:16 jasper Exp $
d5 1
a5 1
VERSION=		0.17.0
d11 1
a11 1
HOMEPAGE=		http://gmpcwiki.sarine.nl/
d23 1
a23 1
			pcre pixman-1 png pthread ssl xml2 z
d46 1
a46 1
LIB_DEPENDS=		mpd.>=2::audio/libmpd \
d49 1
@


1.22
log
@- it's GNOME, not Gnome2 or gnome or any other variation

discussed with and agreed by ajacoutot@@ some time ago
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/06/15 00:04:49 sthen Exp $
d5 1
a5 1
VERSION=		0.15.5.0
a6 1
PKGNAME=		${DISTNAME}p4
d11 1
a11 1
HOMEPAGE=		http://sarine.nl/gmpc
d13 1
a13 1
# GPL 
d21 1
a21 1
			glib-2.0 glitz gmodule-2.0 gobject-2.0 gthread-2.0 \
d25 1
a25 2
MASTER_SITES=		http://download.sarine.nl/gmpc-${VERSION:S/.0//}/ \
			http://humppa.nl/distfiles/gmpc/
d37 2
d44 1
a44 1
			--enable-artist-browser
d47 1
@


1.21
log
@sync wantlib and bump packages. ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/01/26 12:13:51 landry Exp $
d3 1
a3 1
COMMENT=		gnome music player client
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
@


1.20
log
@- remove p5-XML-Parser as BUILD_DEPENDS, already here because of
 texproc/intltool
- remove unneeded gtk-update-icon-cache, icons are not installed in
 ${PREFIX}/share/hicolor and there is no index.theme.
- remove hicolor-icon-theme from RUN_DEPENDS while here, and bump PKGNAME.

spotted by ajacoutot@@, thanks !
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/12/16 19:13:08 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
d24 1
a24 1
			pcre png pthread ssl xml2 z
@


1.19
log
@tweak
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/12/15 18:56:35 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d39 2
a40 3
BUILD_DEPENDS=		::textproc/p5-XML-Parser
RUN_DEPENDS=		::x11/hicolor-icon-theme \
			:desktop-file-utils-*:devel/desktop-file-utils
@


1.18
log
@- add missing update-desktop-database goo

"reads fine" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/12/15 16:53:48 landry Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.17
log
@Oops, sorry, stupid typo.
No PKGNAME bump as it didn't build..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/12/15 13:11:22 landry Exp $
d7 1
d40 2
a41 1
RUN_DEPENDS=		::x11/hicolor-icon-theme
@


1.16
log
@Update gmpc to 0.15.5.0
- add MODULES textproc/intltool
- rearrange dependency on libmpd
- enable artist browser
- enable configdir option, see pkg/MESSAGE for migrating existing conf.
with tweaks and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/11/13 12:44:22 steven Exp $
d28 1
a28 1
MODULES=		devel/gettext gcc3 texproc/intltool
@


1.15
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/09/15 21:26:01 simon Exp $
d5 1
a5 1
VERSION=		0.15.1
a6 1
PKGNAME=		${DISTNAME}p0
d18 6
a23 6
WANTLIB=	ICE SM X11 Xau Xdmcp Xcursor Xext Xfixes Xi Xinerama Xrandr \
		Xcomposite Xdamage pcre \
		Xrender atk-1.0 c cairo crypto expat fontconfig freetype \
		gdk-x11-2.0 gdk_pixbuf-2.0 glib-2.0 glitz gmodule-2.0 \
		gobject-2.0 gthread-2.0 gtk-x11-2.0 idn m pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 png pthread ssl xml2 z
d25 1
a25 1
MASTER_SITES=		http://download.sarine.nl/gmpc-${VERSION}/ \
d28 1
a28 1
MODULES=		devel/gettext gcc3
d42 2
d45 1
a45 1
LIB_DEPENDS=		mpd:libmpd->=0.14:audio/libmpd \
@


1.14
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/06/15 17:29:17 jasper Exp $
d7 1
d20 1
@


1.13
log
@- update gmpc to 0.15.1
- regen patch while here

from Landry Breuil <gaston at gcu.info> (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/05/26 21:08:07 jasper Exp $
d3 1
a3 1
COMMENT=		"gnome music player client"
@


1.12
log
@add humppa.nl as master_site, the orignal one is timing out every now and then.

reminded by and ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/05/26 15:10:51 jasper Exp $
d5 1
a5 1
VERSION=		0.15.0
@


1.11
log
@update gmpc to 0.15.0

from new maintainer Landry Breuil <gaston at gcu.info>,
with small tweaks by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/05/14 19:35:08 naddy Exp $
d24 2
a25 1
MASTER_SITES=		http://download.sarine.nl/gmpc-${VERSION}/
@


1.10
log
@wantlib updates now that curl pulls in libidn
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/04/12 20:24:29 sturm Exp $
d5 1
a5 1
VERSION=		0.14.0
a6 1
PKGNAME=		${DISTNAME}p1
d9 2
d37 1
a37 1

d41 1
a41 1
LIB_DEPENDS=		mpd:libmpd->=0.13:audio/libmpd \
@


1.9
log
@simple WANTLIB fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/03/28 20:23:10 naddy Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d17 4
a20 3
WANTLIB=	ICE SM X11 Xau Xdmcp Xrender atk-1.0 c cairo crypto expat \
		fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 glib-2.0 glitz \
		gmodule-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0 m pango-1.0 \
@


1.8
log
@Don't prevent required linking with -lSM -lICE.  (How did this ever work?)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/03/23 23:41:59 jasper Exp $
d7 1
d17 2
a18 2
WANTLIB=	ICE SM X11 Xext Xrender atk-1.0 c cairo crypto fontconfig \
		freetype gdk-x11-2.0 gdk_pixbuf-2.0 glib-2.0 glitz \
@


1.7
log
@- update to 0.14.0,
- pyr@@ drops maintainership.

based on a diff by Vlad Glagolev and Landry Breuil, with fixes by bernd@@

ok bernd@@, pyr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/02/11 00:56:57 steven Exp $
d36 1
a36 3
			CPPFLAGS="-I${LOCALBASE}/include" \
			sm_CFLAGS="-I/usr/X11R6/include" \
			sm_LIBS="-L/usr/X11R6/lib"
@


1.6
log
@WANTLIB fixes, mostly needed by recent cairo update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/01/15 21:25:09 jasper Exp $
d5 2
a6 2
DISTNAME=		gmpc-0.13.0
PKGNAME=		${DISTNAME}p1
a10 2
MAINTAINER=		Pierre-Yves Ritschard <pyr@@spootnik.org>

d16 4
a19 5
WANTLIB=		X11 Xext Xrender c fontconfig freetype m pthread z \
			ICE SM atk-1.0 cairo gdk-x11-2.0 gdk_pixbuf-2.0 \
			glib-2.0 glitz gmodule-2.0 gobject-2.0 gthread-2.0 \
			gtk-x11-2.0 pango-1.0 pangocairo-1.0 \
			pangoft2-1.0 png xml2
d21 1
a21 1
MASTER_SITES=		http://download.qballcow.nl/programs/gmpc-0.13/
d28 1
d35 8
a42 5
CONFIGURE_ENV+= 	LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ENV+= 	CPPFLAGS="-I${LOCALBASE}/include"

LIB_DEPENDS=		mpd.>=0::audio/libmpd \
			glade-2.0::devel/libglade2
@


1.5
log
@- update HOMEPAGE
- bump PKGNAME

ok pyr@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/12/16 12:22:32 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d19 1
a19 1
			atk-1.0 cairo gdk-x11-2.0 gdk_pixbuf-2.0 \
@


1.4
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/11/11 21:04:27 steven Exp $
d6 1
d9 1
a9 1
HOMEPAGE=		http://cms.qballcow.nl/index.php?page=Gnome_Music_Player_Client
@


1.3
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/10/27 14:24:21 jasper Exp $
d34 1
a34 2
BUILD_DEPENDS=		::devel/pkgconfig \
			::textproc/p5-XML-Parser
@


1.2
log
@USE_LIBTOOL=Yes

spotted by bernd
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/10/27 14:11:16 jasper Exp $
d30 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d30 1
@


1.1.1.1
log
@import gmpc 0.13.0

GMPC is a frontend for the mpd (Music Player Daemon).  It's focused on
being fast and easy to use, while still making optimal use of all the
functions in mpd.

from Pierre-Yves Ritschard <pyr at spootnik dot org>

feedback and ok steven
@
text
@@
