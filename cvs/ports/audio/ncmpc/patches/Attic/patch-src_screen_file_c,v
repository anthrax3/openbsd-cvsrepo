head	1.3;
access;
symbols
	OPENBSD_4_7:1.2.0.10
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.8
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.6
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.0.4
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.2
	OPENBSD_4_1_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2010.04.05.19.05.11;	author landry;	state dead;
branches;
next	1.2;

1.2
date	2007.09.19.19.15.13;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.11.17.36.40;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to ncmpc 0.16.1, from maintainer Tobias Ulmer, thanks!
@
text
@$OpenBSD: patch-src_screen_file_c,v 1.2 2007/09/19 19:15:13 jasper Exp $
--- src/screen_file.c.orig	Wed Sep 19 19:27:39 2007
+++ src/screen_file.c	Wed Sep 19 19:37:41 2007
@@@@ -230,7 +230,7 @@@@ change_directory(screen_t *screen, mpdclient_t *c, fil
       {
 	/* enter sub */
 	mpd_Directory *dir = entity->info.directory;
-	path = utf8_to_locale(dir->path);      
+      	path = g_strdup(dir->path);
 	/* save current list window state */
 	list_window_push_state(lw_state,lw); 
       }
@@@@ -549,7 +549,7 @@@@ browse_close(void)
 static char *
 browse_title(char *str, size_t size)
 {
-  g_snprintf(str, size, _("Browse: %s"), basename(filelist->path));
+  g_snprintf(str, size, _("Browse: %s"), utf8_to_locale(basename(filelist->path)));
   return str;
 }
 
@


1.2
log
@update ncmpc to an svn snapshot (6899),
includes lots of bug fixes and new features

ok Tobias Ulmer (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD: patch-src_screen_file_c,v 1.1 2007/01/11 17:36:40 jasper Exp $
@


1.1
log
@replace broken chars with '?' and make the "Unable to convert..." message
go away.

from MAINTAINER (Tobias Ulmer <tobias@@tmux.org>)

"go ahead" bernd@@
@
text
@d1 4
a4 4
$OpenBSD$
--- src/screen_file.c.orig	Sun Jan 23 18:37:42 2005
+++ src/screen_file.c	Tue Jan  2 16:19:47 2007
@@@@ -255,7 +255,7 @@@@
d11 3
a13 3
 	push_lw_state(); 
 	list_window_reset(lw);
@@@@ -566,7 +566,7 @@@@
@

