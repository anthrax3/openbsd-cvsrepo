head	1.2;
access;
symbols
	OPENBSD_4_6:1.1.0.8
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.6
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.4
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2010.01.11.05.11.32;	author jakemsr;	state dead;
branches;
next	1.1;

1.1
date	2007.09.18.18.30.35;	author mgrimm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@-update to hydrogen-0.9.4: bugfixes, qt3->qt4, code cleanup & file renaming
-add sndio audio and midi support, drop OSS audio support
- take maintainership
maintainer change suggested by grange@@ (former maintainer), ok ratchov@@
@
text
@$OpenBSD: patch-src_lib_FLACFile_cpp,v 1.1 2007/09/18 18:30:35 mgrimm Exp $
--- src/lib/FLACFile.cpp.orig	Tue Nov  8 10:31:22 2005
+++ src/lib/FLACFile.cpp	Sun Sep 16 12:13:04 2007
@@@@ -164,15 +164,13 @@@@ void FLACFile_real::load( string sFilename )
 	}
 
 	set_metadata_ignore_all();
-	set_filename( sFilename.c_str() );
 
-	State s=init();
-	if( s != FLAC__FILE_DECODER_OK ) {
+	if( FLAC__STREAM_DECODER_INIT_STATUS_OK != init( sFilename.c_str() ) ) {
 		errorLog( "[load] Error in init()" );
 	}
 
-	if ( process_until_end_of_file() == false ) {
-		errorLog( "[load] Error in process_until_end_of_file()" );
+	if ( process_until_end_of_stream() == false ) {
+		errorLog( "[load] Error in process_until_end_of_stream()" );
 	}
 }
 
@


1.1
log
@Make Hydrogen deal with the audio/flac update:
 - Fix WANTLIB and LIB_DEPENDS,
 - add -logg to LDFLAGS, as libOggFLAC is now part of libFLAC and depends on it,
 - adjust to API changes.

ok naddy@@
@
text
@d1 1
a1 1
$OpenBSD$
@

