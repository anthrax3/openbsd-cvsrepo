head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.16
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.12
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.14
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.10
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.8
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.6
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.4
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2013.02.06.13.23.03;	author zhuk;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Unbreak Clementine build in wild environment (i.e., outta of my laptop):

  * Better handling of libexecinfo. I moved from adding some goo to
    CMakeLists.txt to writing proper FindExecinfo.cmake package.
  * Force source directory, or visualization presets could miss
    installation;
  * Force "plist" in WANTLIB, as it's being used by plugin;
  * Add back fftw3 dependency: while we use external libchromaprint now,
    fftw3 is also needed for so called "moodbar".
  * Nit: remove libnjb, it's use was actually gone in the last release;

Lots of input from sthen@@ and nigel@@, committing ASAP.
@
text
@$OpenBSD$
--- 3rdparty/libprojectm/CMakeLists.txt.orig	Wed Feb  6 16:10:58 2013
+++ 3rdparty/libprojectm/CMakeLists.txt	Wed Feb  6 16:11:33 2013
@@@@ -164,7 +164,7 @@@@ CONFIGURE_FILE("${CMAKE_CURRENT_SOURCE_DIR}/libproject
 CONFIGURE_FILE("${CMAKE_CURRENT_SOURCE_DIR}/config.inp.in" "${CMAKE_CURRENT_SOURCE_DIR}/config.inp" @@ONLY)
 
 if(BUNDLE_PROJECTM_PRESETS)
-  FILE(GLOB presets "presets/*.milk" "presets/*.prjm" "presets/*.tga")
+  FILE(GLOB presets "${CMAKE_CURRENT_SOURCE_DIR}/presets/*.milk" "${CMAKE_CURRENT_SOURCE_DIR}/presets/*.prjm" "${CMAKE_CURRENT_SOURCE_DIR}/presets/*.tga")
   if (APPLE)
     foreach (preset ${presets})
       get_filename_component(PRESET_NAME ${preset} NAME)
@
