head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.4
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.1.1.1.0.18
	OPENBSD_5_8_BASE:1.1.1.1
	OPENBSD_5_7:1.1.1.1.0.14
	OPENBSD_5_7_BASE:1.1.1.1
	OPENBSD_5_6:1.1.1.1.0.12
	OPENBSD_5_6_BASE:1.1.1.1
	OPENBSD_5_5:1.1.1.1.0.10
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.8
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.6
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.4
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.2
	landry_20110609:1.1.1.1
	dwatteau:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2016.01.17.01.16.38;	author juanfra;	state Exp;
branches;
next	1.1;
commitid	vDhhxDQWiaQMjGv5;

1.1
date	2011.09.06.07.10.56;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.09.06.07.10.56;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to cmus 2.7.1. From Donovan Watteau (MAINTAINER).
Tests and the updated quirks file by Florian Stinglmayr.
@
text
@$OpenBSD: patch-Makefile,v 1.1.1.1 2011/09/06 07:10:56 landry Exp $

Fix install(1) usage.

--- Makefile.orig	Mon Jul 13 12:00:56 2015
+++ Makefile	Tue Jul 28 14:05:50 2015
@@@@ -262,17 +262,21 @@@@ plugins: $(ip-y) $(op-y)
 man: $(man1) $(man7)
 
 install-main: main
-	$(INSTALL) -m755 $(bindir) cmus cmus-remote
+	${BSD_INSTALL_PROGRAM} cmus cmus-remote $(DESTDIR)$(bindir)
 
 install-plugins: plugins
-	$(INSTALL) -m755 $(libdir)/cmus/ip $(ip-y)
-	$(INSTALL) -m755 $(libdir)/cmus/op $(op-y)
+	${BSD_INSTALL_PROGRAM_DIR} $(DESTDIR)$(libdir)/cmus/ip
+	${BSD_INSTALL_PROGRAM_DIR} $(DESTDIR)$(libdir)/cmus/op
+	${BSD_INSTALL_PROGRAM} $(ip-y) $(DESTDIR)$(libdir)/cmus/ip
+	${BSD_INSTALL_PROGRAM} $(op-y) $(DESTDIR)$(libdir)/cmus/op
 
 install-data: man
-	$(INSTALL) -m644 $(datadir)/cmus $(data)
-	$(INSTALL) -m644 $(mandir)/man1 $(man1)
-	$(INSTALL) -m644 $(mandir)/man7 $(man7)
-	$(INSTALL) -m755 $(exampledir) cmus-status-display
+	${BSD_INSTALL_DATA_DIR} $(DESTDIR)$(datadir)/cmus
+	${BSD_INSTALL_DATA} $(data) $(DESTDIR)$(datadir)/cmus
+	${BSD_INSTALL_MAN} $(man1) $(DESTDIR)$(mandir)/man1
+	${BSD_INSTALL_MAN} $(man7) $(DESTDIR)$(mandir)/man7
+	${BSD_INSTALL_DATA_DIR} $(DESTDIR)$(exampledir)
+	${BSD_INSTALL_SCRIPT} cmus-status-display $(DESTDIR)$(exampledir)
 
 install: all install-main install-plugins install-data
 
@


1.1
log
@Initial revision
@
text
@d1 8
a8 28
$OpenBSD$
--- Makefile.orig	Thu May 26 20:47:33 2011
+++ Makefile	Mon Jul  4 16:23:00 2011
@@@@ -139,6 +139,7 @@@@ alsa-objs		:= alsa.lo mixer_alsa.lo
 arts-objs		:= arts.lo
 oss-objs		:= oss.lo mixer_oss.lo
 sun-objs		:= sun.lo mixer_sun.lo
+sndio-objs		:= sndio.lo
 ao-objs			:= ao.lo
 waveout-objs		:= waveout.lo
 roar-objs               := roar.lo
@@@@ -148,6 +149,7 @@@@ op-$(CONFIG_ALSA)	+= alsa.so
 op-$(CONFIG_ARTS)	+= arts.so
 op-$(CONFIG_OSS)	+= oss.so
 op-$(CONFIG_SUN)	+= sun.so
+op-$(CONFIG_SNDIO)	+= sndio.so
 op-$(CONFIG_AO)		+= ao.so
 op-$(CONFIG_WAVEOUT)	+= waveout.so
 op-$(CONFIG_ROAR)       += roar.so
@@@@ -157,6 +159,7 @@@@ $(alsa-objs): CFLAGS	+= $(ALSA_CFLAGS)
 $(arts-objs): CFLAGS	+= $(ARTS_CFLAGS)
 $(oss-objs):  CFLAGS	+= $(OSS_CFLAGS)
 $(sun-objs):  CFLAGS	+= $(SUN_CFLAGS)
+$(sndio-objs): CFLAGS	+= $(SNDIO_CFLAGS)
 $(ao-objs):   CFLAGS	+= $(AO_CFLAGS)
 $(waveout-objs): CFLAGS += $(WAVEOUT_CFLAGS)
 $(roar-objs): CFLAGS	+= $(ROAR_CFLAGS)
@@@@ -175,6 +178,9 @@@@ oss.so: $(oss-objs) $(libcmus-y)
d10 25
a34 5
 sun.so: $(sun-objs) $(libcmus-y)
 	$(call cmd,ld_dl,$(SUN_LIBS))
+
+sndio.so: $(sndio-objs) $(libcmus-y)
+	$(call cmd,ld_dl,$(SNDIO_LIBS))
a35 2
 ao.so: $(ao-objs) $(libcmus-y)
 	$(call cmd,ld_dl,$(AO_LIBS))
@


1.1.1.1
log
@Import cmus 2.4.2, from MAINTAINER Donovan Watteau.

cmus is a small ncurses-based music player. It supports various output
methods by output plugins. It has got completely configurable key
bindings and it can be controlled from the outside via cmus-remote(1).

sndio backend from Donovan with feedback from ratchov@@
with testing on arm & ok kili@@
@
text
@@
