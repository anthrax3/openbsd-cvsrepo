head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.4
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.8
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.4
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.6
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.2.0.4
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	shadchin_20120908:1.1.1.1
	shadchin:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2016.09.13.08.48.11;	author dcoppa;	state Exp;
branches;
next	1.5;
commitid	BT8XpOWAlRecYDdn;

1.5
date	2014.09.23.13.44.03;	author dcoppa;	state Exp;
branches;
next	1.4;
commitid	zFndqvTxqvS2gudg;

1.4
date	2014.02.07.22.20.13;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2014.01.29.20.43.26;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2013.01.03.11.54.49;	author shadchin;	state Exp;
branches;
next	1.1;

1.1
date	2012.08.08.18.06.48;	author shadchin;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.08.08.18.06.48;	author shadchin;	state Exp;
branches;
next	;


desc
@@


1.6
log
@
Update to deadbeef-0.7.2

Most of the work done by Timo Myyra, thanks!
Some tweaks by me.
@
text
@$OpenBSD: patch-configure_ac,v 1.5 2014/09/23 13:44:03 dcoppa Exp $
--- configure.ac.orig	Tue Mar 15 21:20:56 2016
+++ configure.ac	Mon Sep  5 08:53:07 2016
@@@@ -83,6 +83,7 @@@@ AC_ARG_ENABLE(alsa,     [AS_HELP_STRING([--disable-als
 AC_ARG_ENABLE(oss,      [AS_HELP_STRING([--disable-oss     ], [disable Open Sound System output plugin (default: enabled)])], [enable_oss=$enableval], [enable_oss=yes])
 AC_ARG_ENABLE(pulse,    [AS_HELP_STRING([--disable-pulse   ], [disable PulseAudio output plugin (default: enabled)])], [enable_pulse=$enableval], [enable_pulse=yes])
 AC_ARG_ENABLE(coreaudio,[AS_HELP_STRING([--disable-coreaudio], [disable CoreAudio output plugin (default: enabled)])], [enable_coreaudio=$enableval], [enable_coreaudio=yes])
+AC_ARG_ENABLE(sndio,    [AS_HELP_STRING([--disable-sndio   ], [disable sndio output plugin (default: enabled)])], [enable_sndio=$enableval], [enable_sndio=yes])
 AC_ARG_ENABLE(gtk3,     [AS_HELP_STRING([--disable-gtk3     ], [disable GTK3 version of gtkui plugin (default: enabled)])], [enable_gtk3=$enableval], [enable_gtk3=yes])
 AC_ARG_ENABLE(gtk2,     [AS_HELP_STRING([--disable-gtk2     ], [disable GTK2 version of gtkui plugin (default: enabled)])], [enable_gtk2=$enableval], [enable_gtk2=yes])
 AC_ARG_ENABLE(vfs_curl, [AS_HELP_STRING([--disable-vfs-curl], [disable HTTP streaming vfs plugin (default: enabled)])], [enable_vfs_curl=$enableval], [enable_vfs_curl=yes])
@@@@ -188,8 +189,8 @@@@ AS_IF([test "${enable_portable}" != "no" -a "${enable_
     PREFIXFLAGS=" -DLIBDIR=\\\"$libdir\\\" -DPREFIX=\\\"$prefix\\\" -DDOCDIR=\\\"$docdir\\\""
 ])
 
-CXXFLAGS="$CXXFLAGS $INSANE_CXXFLAGS -D_GNU_SOURCE $PREFIXFLAGS -DDDB_WARN_DEPRECATED=1"
-CFLAGS="$CFLAGS $INSANE_CFLAGS -D_GNU_SOURCE $PREFIXFLAGS -DDDB_WARN_DEPRECATED=1"
+CXXFLAGS="$CXXFLAGS $INSANE_CXXFLAGS -D_GNU_SOURCE $PREFIXFLAGS"
+CFLAGS="$CFLAGS $INSANE_CFLAGS -D_GNU_SOURCE $PREFIXFLAGS"
 
 AS_IF([test "${enable_staticlink}" != "no"], [
     HAVE_ZLIB=yes
@@@@ -287,6 +288,17 @@@@ AS_IF([test "${enable_coreaudio}" != "no" -a "${found_
 
 AC_SUBST(COREAUDIO_LIBS)
 
+AC_CHECK_HEADER([sndio.h], [found_sndio_h=yes], [found_sndio_h=no])
+AC_CHECK_LIB([sndio], [main], [found_sndio_lib=yes], [found_sndio_lib=no])
+AS_IF([test "${enable_sndio}" != "no" -a "${found_sndio_h}" != "no" -a "${found_sndio_lib}" != "no"], [
+  AC_DEFINE(HAVE_SNDIO, 1, [Build sndio support])
+  HAVE_SNDIO=yes
+  SNDIO_LIBS="-lsndio"
+])
+
+AC_SUBST(SNDIO_LIBS)
+
+
 AS_IF([test "${enable_ffmpeg}" != "no"], [
     AS_IF([test "${enable_staticlink}" != "no"], [
         FFMPEG_DEPS_CFLAGS="-I../../$LIB/include"
@@@@ -394,11 +406,11 @@@@ AS_IF([test "${enable_vorbis}" != "no"], [
         AC_SUBST(VORBIS_LIBS)
         AC_SUBST(VORBIS_CFLAGS)
     ], [
-        AC_CHECK_LIB([vorbis], [main], [HAVE_VORBIS=yes])
-        AC_CHECK_LIB([vorbisfile], [main], [HAVE_VORBISFILE=yes])
+        AC_CHECK_LIB([vorbis], [main], [HAVE_VORBIS=yes], [], [-logg -lm])
+        AC_CHECK_LIB([vorbisfile], [main], [HAVE_VORBISFILE=yes], [], [-lvorbis -logg -lm])
         AS_IF([test "$HAVE_VORBIS" = "yes" -a "${HAVE_VORBISFILE}" = "yes"], [
             HAVE_VORBISPLUGIN=yes
-            VORBIS_LIBS="-lvorbis -lvorbisfile"
+            VORBIS_LIBS="-lvorbis -lvorbisfile -logg -lm"
             AC_SUBST(VORBIS_LIBS)
         ])
     ])
@@@@ -430,10 +442,10 @@@@ AS_IF([test "${enable_flac}" != "no"], [
         AC_SUBST(FLAC_CFLAGS)
         AC_SUBST(FLAC_LIBS)
     ], [
-        AC_CHECK_LIB([FLAC], [main], [HAVE_FLAC=yes])
+        AC_CHECK_LIB([FLAC], [main], [HAVE_FLAC=yes], [], [-logg -lm])
         AS_IF([test "${HAVE_FLAC}" = "yes"], [
             HAVE_FLACPLUGIN=yes
-            FLAC_LIBS="-lFLAC"
+            FLAC_LIBS="-lFLAC -logg -lm"
             AC_SUBST(FLAC_LIBS)
         ])
     ])
@@@@ -739,7 +751,7 @@@@ AS_IF([test "${enable_aac}" != "no"], [
 ])
 
 AS_IF([test "${enable_mms}" != "no"], [
-    LIBMMS_LIBS=""
+    LIBMMS_LIBS="-lmms"    
     AC_SUBST(LIBMMS_LIBS)
     HAVE_MMS=yes
 ])
@@@@ -796,7 +808,7 @@@@ AS_IF([test "${enable_sc68}" != "no"], [
     HAVE_SC68=yes
 ])
 
-PLUGINS_DIRS="plugins/liboggedit plugins/libmp4ff plugins/libparser plugins/lastfm plugins/mp3 plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/shellexecui plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/alac plugins/wma plugins/pltbrowser plugins/coreaudio plugins/sc68"
+PLUGINS_DIRS="plugins/liboggedit plugins/libparser plugins/lastfm plugins/mp3 plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/shellexecui plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/alac plugins/wma plugins/pltbrowser plugins/coreaudio plugins/sc68 plugins/sndio"
 
 AM_CONDITIONAL(APE_USE_YASM, test "x$APE_USE_YASM" = "xyes")
 AM_CONDITIONAL(HAVE_VORBIS, test "x$HAVE_VORBISPLUGIN" = "xyes")
@@@@ -811,6 +823,7 @@@@ AM_CONDITIONAL(HAVE_GTK2, test "x$HAVE_GTK2" = "xyes")
 AM_CONDITIONAL(HAVE_GTK3, test "x$HAVE_GTK3" = "xyes")
 AM_CONDITIONAL(HAVE_ALSA, test "x$HAVE_ALSAPLUGIN" = "xyes")
 AM_CONDITIONAL(HAVE_COREAUDIO, test "x$HAVE_COREAUDIO" = "xyes")
+AM_CONDITIONAL(HAVE_SNDIO, test "x$HAVE_SNDIO" = "xyes")
 AM_CONDITIONAL(HAVE_FFMPEG, test "x$HAVE_FFMPEGPLUGIN" = "xyes")
 AM_CONDITIONAL(HAVE_PULSE, test "x$HAVE_PULSEPLUGIN" = "xyes")
 AM_CONDITIONAL(HAVE_ARTWORK, test "x$HAVE_ARTWORK" = "xyes")
@@@@ -870,7 +883,6 @@@@ Makefile
 pixmaps/Makefile
 icons/Makefile
 plugins/liboggedit/Makefile
-plugins/libmp4ff/Makefile
 plugins/libparser/Makefile
 plugins/gme/Makefile
 plugins/alsa/Makefile
@@@@ -916,6 +928,7 @@@@ plugins/wma/Makefile
 plugins/pltbrowser/Makefile
 plugins/sc68/Makefile
 plugins/coreaudio/Makefile
+plugins/sndio/Makefile
 intl/Makefile
 po/Makefile.in
 deadbeef.desktop
@@@@ -952,6 +965,7 @@@@ PRINT_PLUGIN_INFO([alsa],[ALSA output],[test "x$HAVE_A
 PRINT_PLUGIN_INFO([oss],[oss output plugin],[test "x$HAVE_OSS" = "xyes"])
 PRINT_PLUGIN_INFO([pulse],[PulseAudio output plugin],[test "x$HAVE_PULSEPLUGIN" = "xyes"])
 PRINT_PLUGIN_INFO([coreaudio],[CoreAudio output plugin],[test "x$HAVE_COREAUDIO" = "xyes"])
+PRINT_PLUGIN_INFO([sndio],[sndio output plugin],[test "x$HAVE_SNDIO" = "xyes"])
 PRINT_PLUGIN_INFO([sid],[SID player based on libsidplay2],[test "x$HAVE_SID" = "xyes"])
 PRINT_PLUGIN_INFO([ffap],[Monkey's audio (APE) decoder],[test "x$HAVE_FFAP" = "xyes"])
 PRINT_PLUGIN_INFO([lastfm],[last.fm scrobbler],[test "x$HAVE_LASTFM" = "xyes"])
@


1.5
log
@
Update to deadbeef-0.6.2
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_ac,v 1.4 2014/02/07 22:20:13 dcoppa Exp $
--- configure.ac.orig	Tue Aug  5 20:01:05 2014
+++ configure.ac	Tue Sep 23 14:32:19 2014
@@@@ -82,6 +82,7 @@@@ AC_ARG_ENABLE(alsa,     [AS_HELP_STRING([--disable-als
d12 1
a12 1
@@@@ -183,8 +184,8 @@@@ AS_IF([test "${enable_portable}" != "no" -a "${enable_
d23 1
a23 1
@@@@ -270,6 +271,16 @@@@ AS_IF([test "${enable_coreaudio}" != "no" -a "${found_
d28 2
a29 2
+
+AS_IF([test "${enable_sndio}" != "no" -a "${found_sndio_h}" != "no"], [
d37 1
d41 1
a41 1
@@@@ -358,11 +369,11 @@@@ AS_IF([test "${enable_vorbis}" != "no"], [
d56 1
a56 1
@@@@ -395,10 +406,10 @@@@ AS_IF([test "${enable_flac}" != "no"], [
d69 1
a69 1
@@@@ -695,7 +706,7 @@@@ AS_IF([test "${enable_aac}" != "no"], [
d74 1
a74 1
+    LIBMMS_LIBS="-lmms"
d78 2
a79 2
@@@@ -748,7 +759,7 @@@@ AS_IF([test "${enable_pltbrowser}" != "no"], [
     HAVE_PLTBROWSER=yes
d82 2
a83 2
-PLUGINS_DIRS="plugins/liboggedit plugins/libmp4ff plugins/libparser plugins/lastfm plugins/mpgmad plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/shellexecui plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/alac plugins/wma plugins/pltbrowser plugins/coreaudio"
+PLUGINS_DIRS="plugins/liboggedit plugins/libparser plugins/lastfm plugins/mpgmad plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/shellexecui plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/alac plugins/wma plugins/pltbrowser plugins/coreaudio plugins/sndio"
d87 1
a87 1
@@@@ -762,6 +773,7 @@@@ AM_CONDITIONAL(HAVE_GTK2, test "x$HAVE_GTK2" = "xyes")
d95 1
a95 9
@@@@ -841,6 +853,7 @@@@ PRINT_PLUGIN_INFO([alsa],[ALSA output],[test "x$HAVE_A
 PRINT_PLUGIN_INFO([oss],[oss output plugin],[test "x$HAVE_OSS" = "xyes"])
 PRINT_PLUGIN_INFO([pulse],[PulseAudio output plugin],[test "x$HAVE_PULSEPLUGIN" = "xyes"])
 PRINT_PLUGIN_INFO([coreaudio],[CoreAudio output plugin],[test "x$HAVE_COREAUDIO" = "xyes"])
+PRINT_PLUGIN_INFO([sndio],[sndio output plugin],[test "x$HAVE_SNDIO" = "xyes"])
 PRINT_PLUGIN_INFO([sid],[SID player based on libsidplay2],[test "x$HAVE_SID" = "xyes"])
 PRINT_PLUGIN_INFO([ffap],[Monkey's audio (APE) decoder],[test "x$HAVE_FFAP" = "xyes"])
 PRINT_PLUGIN_INFO([lastfm],[last.fm scrobbler],[test "x$HAVE_LASTFM" = "xyes"])
@@@@ -888,7 +901,6 @@@@ Makefile
d103 1
a103 2
@@@@ -933,6 +945,7 @@@@ plugins/alac/Makefile
 plugins/wma/Makefile
d105 1
d111 8
@


1.4
log
@
Bugfix update to deadbeef-0.6.1
@
text
@d1 12
a12 12
$OpenBSD: patch-configure_ac,v 1.3 2014/01/29 20:43:26 dcoppa Exp $
--- configure.ac.orig	Sun Feb  2 20:49:04 2014
+++ configure.ac	Fri Feb  7 09:09:55 2014
@@@@ -126,6 +126,7 @@@@ AC_ARG_ENABLE(alac, [AS_HELP_STRING([--enable-alac    
 AC_ARG_ENABLE(wma, [AS_HELP_STRING([--enable-wma      ], [build WMA plugin (default: auto)])], [enable_wma=$enableval], [enable_wma=yes])
 AC_ARG_ENABLE(pltbrowser, [AS_HELP_STRING([--enable-pltbrowser      ], [build playlist browser gui plugin (default: auto)])], [enable_pltbrowser=$enableval], [enable_pltbrowser=yes])
 AC_ARG_ENABLE(abstract_socket, [AS_HELP_STRING([--enable-abstract-socket      ], [use abstract UNIX socket for IPC (default: disabled)])], [enable_abstract_socket=$enableval], [enable_abstract_socket=no])
+AC_ARG_ENABLE(sndio, [AS_HELP_STRING([--enable-sndio      ], [enable sndio output plugin (default: enabled)])], [enable_sndio=$enableval], [enable_sndio=yes])
 
 AS_IF([test "${enable_staticlink}" != "no"], [
     AC_DEFINE_UNQUOTED([STATICLINK], [1], [Define if building static version])
@@@@ -182,8 +183,8 @@@@ AS_IF([test "${enable_portable}" != "no" -a "${enable_
d23 18
a40 2
@@@@ -324,11 +325,11 @@@@ AS_IF([test "${enable_vorbis}" != "no"], [
         VORBIS_LIBS="../../$LIB/lib/libogg.a ../../$LIB/lib/libvorbis.a ../../$LIB/lib/libvorbisenc.a ../../$LIB/lib/libvorbisfile.a"
d42 1
d55 2
a56 2
@@@@ -341,10 +342,10 @@@@ AS_IF([test "${enable_flac}" != "no"], [
         FLAC_LIBS="../../$LIB/lib/libFLAC.a ../../$LIB/lib/libogg.a"
d68 10
a77 1
@@@@ -671,8 +672,12 @@@@ AS_IF([test "${enable_pltbrowser}" != "no"], [
d81 2
a82 4
-PLUGINS_DIRS="plugins/libmp4ff plugins/libparser plugins/lastfm plugins/mpgmad plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/shellexecui plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/alac plugins/wma plugins/pltbrowser plugins/coreaudio"
+AS_IF([test "${enable_sndio}" != "no"], [
+    HAVE_SNDIO=yes
+])
a83 2
+PLUGINS_DIRS="plugins/libparser plugins/lastfm plugins/mpgmad plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/shellexecui plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/alac plugins/wma plugins/pltbrowser plugins/coreaudio plugins/sndio"
+
d86 4
a89 5
 AM_CONDITIONAL(HAVE_FLAC, test "x$HAVE_FLACPLUGIN" = "xyes")
@@@@ -729,6 +734,7 @@@@ AM_CONDITIONAL(STATICLINK, test "x$STATICLINK" = "xyes
 AM_CONDITIONAL(PORTABLE, test "x$PORTABLE" = "xyes")
 AM_CONDITIONAL(PORTABLE_FULL, test "x$PORTABLE_FULL" = "xyes")
 AM_CONDITIONAL(USE_ABSTRACT_SOCKET_NAME, test "x$USE_ABSTRACT_SOCKET_NAME" = "xyes")
d91 7
a97 7
 
 AC_SUBST(PLUGINS_DIRS)
 
@@@@ -800,6 +806,7 @@@@ PRINT_PLUGIN_INFO([mono2stereo],[mono2stereo DSP plugi
 PRINT_PLUGIN_INFO([alac],[ALAC plugin],[test "x$HAVE_ALAC" = "xyes"])
 PRINT_PLUGIN_INFO([wma],[WMA plugin],[test "x$HAVE_WMA" = "xyes"])
 PRINT_PLUGIN_INFO([pltbrowser],[playlist browser gui plugin],[test "x$HAVE_PLTBROWSER" = "xyes"])
d99 4
a102 5
 
 echo
 
@@@@ -807,7 +814,6 @@@@ AC_CONFIG_FILES([
 Makefile
d105 1
d110 1
a110 1
@@@@ -852,6 +858,7 @@@@ plugins/alac/Makefile
@


1.3
log
@
Update to deadbeef-0.6.0

Audio stuttering problem fixed by ratchov@@, thanks a lot!

OK juanfra@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_ac,v 1.2 2013/01/03 11:54:49 shadchin Exp $
--- configure.ac.orig	Sun Nov 24 19:51:17 2013
+++ configure.ac	Wed Jan 15 18:24:29 2014
@@@@ -133,6 +133,7 @@@@ AC_ARG_ENABLE(alac, [AS_HELP_STRING([--enable-alac    
d12 1
a12 1
@@@@ -178,8 +179,8 @@@@ AS_IF([test "${enable_portable}" != "no" -a "${enable_
d23 1
a23 1
@@@@ -318,11 +319,11 @@@@ AS_IF([test "${enable_vorbis}" != "no"], [
d38 1
a38 1
@@@@ -335,10 +336,10 @@@@ AS_IF([test "${enable_flac}" != "no"], [
d51 1
a51 1
@@@@ -664,8 +665,12 @@@@ AS_IF([test "${enable_pltbrowser}" != "no"], [
d55 1
a55 1
-PLUGINS_DIRS="plugins/libmp4ff plugins/libparser plugins/lastfm plugins/mpgmad plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/shellexecui plugins/alac plugins/wma plugins/pltbrowser plugins/coreaudio"
d60 1
a60 1
+PLUGINS_DIRS="plugins/libparser plugins/lastfm plugins/mpgmad plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/shellexecui plugins/alac plugins/wma plugins/pltbrowser plugins/coreaudio plugins/sndio"
d65 1
a65 1
@@@@ -722,6 +727,7 @@@@ AM_CONDITIONAL(STATICLINK, test "x$STATICLINK" = "xyes
d73 1
a73 1
@@@@ -793,6 +799,7 @@@@ PRINT_PLUGIN_INFO([shellexecui],[GTK user interface fo
d81 1
a81 1
@@@@ -800,7 +807,6 @@@@ AC_CONFIG_FILES([
d89 1
a89 1
@@@@ -845,6 +851,7 @@@@ plugins/alac/Makefile
@


1.2
log
@Update to 0.5.6.

tested mikeb@@, tweaks and ok brad@@, ok dcoppa@@
@
text
@d1 8
a8 8
$OpenBSD: patch-configure_ac,v 1.1.1.1 2012/08/08 18:06:48 shadchin Exp $
--- configure.ac.orig	Tue Oct 23 01:36:08 2012
+++ configure.ac	Tue Oct 23 22:36:22 2012
@@@@ -111,6 +111,7 @@@@ AC_ARG_ENABLE(mono2stereo,      [AS_HELP_STRING([--ena
 AC_ARG_ENABLE(shellexecui, [AS_HELP_STRING([--enable-shellexecui      ], [build shellexec GTK UI plugin (default: auto)])], [enable_shellexecui=$enableval], [enable_shellexecui=yes])
 AC_ARG_ENABLE(alac, [AS_HELP_STRING([--enable-alac      ], [build ALAC plugin (default: auto)])], [enable_alac=$enableval], [enable_alac=yes])
 AC_ARG_ENABLE(abstract_socket, [AS_HELP_STRING([--enable-abstract-socket      ], [use abstract socket (default: enabled)])], [enable_abstract_socket=$enableval], [enable_abstract_socket=yes])
+AC_ARG_ENABLE(sndio,    [AS_HELP_STRING([--enable-sndio   ], [enable sndio output plugin (default: enabled)])], [enable_sndio=$enableval], [enable_sndio=yes])
d10 1
a10 1
 if test "x$enable_staticlink" != "xno" ; then
d12 13
a24 12
@@@@ -278,11 +279,11 @@@@ if test "x$enable_staticlink" != "xno" ; then
     VORBIS_LIBS="../../$LIB/lib/libogg.a ../../$LIB/lib/libvorbis.a ../../$LIB/lib/libvorbisenc.a ../../$LIB/lib/libvorbisfile.a"
     AC_SUBST(VORBIS_LIBS)
 else
-    AC_CHECK_LIB([vorbis], [main], [HAVE_VORBIS=yes])
-    AC_CHECK_LIB([vorbisfile], [main], [HAVE_VORBISFILE=yes])
+    AC_CHECK_LIB([vorbis], [main], [HAVE_VORBIS=yes], [], [-logg -lm])
+    AC_CHECK_LIB([vorbisfile], [main], [HAVE_VORBISFILE=yes], [], [-lvorbis -logg -lm])
     if test "x$HAVE_VORBIS" = "xyes" && test "x$HAVE_VORBISFILE" = "xyes" ; then
         HAVE_VORBISPLUGIN=yes
-        VORBIS_LIBS="-lvorbis -lvorbisfile"
+        VORBIS_LIBS="-lvorbis -lvorbisfile -logg -lm"
d26 14
a39 12
     fi
 fi
@@@@ -295,10 +296,10 @@@@ if test "x$enable_staticlink" != "xno" ; then
     FLAC_LIBS="../../$LIB/lib/libFLAC.a ../../$LIB/lib/libogg.a"
     AC_SUBST(FLAC_LIBS)
 else
-    AC_CHECK_LIB([FLAC], [main], [HAVE_FLAC=yes])
+    AC_CHECK_LIB([FLAC], [main], [HAVE_FLAC=yes], [], [-logg -lm])
     if test "x$HAVE_FLAC" = "xyes" ; then
         HAVE_FLACPLUGIN=yes
-        FLAC_LIBS="-lFLAC"
+        FLAC_LIBS="-lFLAC -logg -lm"
d41 13
a53 5
     fi
 fi
@@@@ -603,8 +604,11 @@@@ if test "x$enable_alac" != "xno" ; then
     HAVE_ALAC=yes
 fi
d55 2
a56 1
+if test "x$enable_sndio" != "xno" ; then
d58 1
a58 4
+fi
 
-PLUGINS_DIRS="plugins/lastfm plugins/mpgmad plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/shellexecui plugins/alac"
+PLUGINS_DIRS="plugins/lastfm plugins/mpgmad plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/shellexecui plugins/alac plugins/sndio"
d60 3
d65 1
a65 1
@@@@ -657,6 +661,7 @@@@ AM_CONDITIONAL(STATICLINK, test "x$STATICLINK" = "xyes
d73 1
a73 3
@@@@ -724,6 +729,7 @@@@ PRINT_PLUGIN_INFO([shn],[SHN plugin based on xmms-shn]
 PRINT_PLUGIN_INFO([mono2stereo],[mono2stereo DSP plugin],[test "x$HAVE_MONO2STEREO" = "xyes"])
 PRINT_PLUGIN_INFO([shellexecui],[GTK user interface for configuring shellexec plugin],[test "x$HAVE_SHELLEXECUI" = "xyes"])
d75 2
d81 12
a92 4
@@@@ -771,6 +777,7 @@@@ plugins/shn/Makefile
 plugins/mono2stereo/Makefile
 plugins/shellexecui/Makefile
 plugins/alac/Makefile
@


1.1
log
@Initial revision
@
text
@d1 4
a4 6
$OpenBSD$
--- configure.ac.orig	Tue Jun  5 00:10:17 2012
+++ configure.ac	Tue Jun  5 22:05:24 2012
@@@@ -110,6 +110,7 @@@@ AC_ARG_ENABLE(shn,      [AS_HELP_STRING([--enable-shn 
 AC_ARG_ENABLE(psf,      [AS_HELP_STRING([--enable-psf      ], [build AOSDK-based PSF(,QSF,SSF,DSF) plugin (default: auto)])], [enable_psf=$enableval], [enable_psf=yes])
 AC_ARG_ENABLE(mono2stereo,      [AS_HELP_STRING([--enable-mono2stereo      ], [build mono2stereo DSP plugin (default: auto)])], [enable_mono2stereo=$enableval], [enable_mono2stereo=yes])
d6 2
d12 1
a12 1
@@@@ -264,11 +265,11 @@@@ if test "x$enable_staticlink" != "xno" ; then
d27 1
a27 1
@@@@ -281,10 +282,10 @@@@ if test "x$enable_staticlink" != "xno" ; then
d40 2
a41 2
@@@@ -588,8 +589,12 @@@@ if test "x$enable_mono2stereo" != "xno" ; then
     HAVE_MONO2STEREO=yes
a43 1
-PLUGINS_DIRS="plugins/lastfm plugins/mpgmad plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/shellexecui"
d48 3
a50 2
+PLUGINS_DIRS="plugins/lastfm plugins/mpgmad plugins/vorbis plugins/flac plugins/wavpack plugins/sndfile plugins/vfs_curl plugins/cdda plugins/gtkui plugins/alsa plugins/ffmpeg plugins/hotkeys plugins/oss plugins/artwork plugins/adplug plugins/ffap plugins/sid plugins/nullout plugins/supereq plugins/vtx plugins/gme plugins/pulse plugins/notify plugins/musepack plugins/wildmidi plugins/tta plugins/dca plugins/aac plugins/mms plugins/shellexec plugins/dsp_libsrc plugins/m3u plugins/vfs_zip plugins/converter plugins/dumb plugins/shn plugins/ao plugins/mono2stereo plugins/shellexecui plugins/sndio"
+
d53 4
a56 5
 AM_CONDITIONAL(HAVE_WAVPACK, test "x$HAVE_WAVPACKPLUGIN" = "xyes")
@@@@ -640,6 +645,7 @@@@ AM_CONDITIONAL(HAVE_MONO2STEREO, test "x$HAVE_MONO2STE
 AM_CONDITIONAL(HAVE_SHELLEXECUI, test "x$HAVE_SHELLEXECUI" = "xyes")
 AM_CONDITIONAL(HAVE_SM, test "x$HAVE_SM" = "xyes")
 AM_CONDITIONAL(HAVE_ICE, test "x$HAVE_ICE" = "xyes")
d61 1
a61 2
@@@@ -705,6 +711,7 @@@@ PRINT_PLUGIN_INFO([dumb],[DUMB module plugin, for MOD,
 PRINT_PLUGIN_INFO([shn],[SHN plugin based on xmms-shn],[test "x$HAVE_SHN" = "xyes"])
d64 1
d69 1
a69 2
@@@@ -751,6 +758,7 @@@@ plugins/ao/Makefile
 plugins/shn/Makefile
d72 1
@


1.1.1.1
log
@Import deadbeef 0.5.5.

DeaDBeeF (as in 0xDEADBEEF) is an audio player for GNU/Linux, BSD,
OpenSolaris and probably other UNIX-like systems.

ok dcoppa@@
@
text
@@
