head	1.3;
access;
symbols
	OPENBSD_5_6:1.1.0.8
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.6
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.4
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2016.09.13.08.48.12;	author dcoppa;	state Exp;
branches;
next	1.2;
commitid	BT8XpOWAlRecYDdn;

1.2
date	2014.09.23.13.44.03;	author dcoppa;	state dead;
branches;
next	1.1;
commitid	zFndqvTxqvS2gudg;

1.1
date	2012.08.10.17.25.01;	author shadchin;	state Exp;
branches;
next	;


desc
@@


1.3
log
@
Update to deadbeef-0.7.2

Most of the work done by Timo Myyra, thanks!
Some tweaks by me.
@
text
@$OpenBSD$
--- plugins/dumb/Makefile.am.orig	Sun Jun 19 13:26:18 2016
+++ plugins/dumb/Makefile.am	Thu Sep  8 08:09:20 2016
@@@@ -4,15 +4,13 @@@@ EXTRA_DIST = $(dumbpath)/readme.txt $(dumbpath)/Change
 if HAVE_DUMB
 pkglib_LTLIBRARIES = ddb_dumb.la
 
-ddb_dumb_la_CFLAGS = $(CFLAGS) -I$(dumbpath)/include -std=gnu99
-ddb_dumb_la_LDFLAGS = -module -avoid-version -lm
 if HAVE_SSE2
-noinst_LIBRARIES = libdumbsse2.a
-libdumbsse2_a_SOURCES = dumb-kode54/src/helpers/resampler_sse2.c
-libdumbsse2_a_CFLAGS = $(CFLAGS) -I$(dumbpath)/include -std=gnu99 -msse2 -fPIC
-ddb_dumb_la_LIBADD = libdumbsse2.a
+ddb_dumb_la_CFLAGS = $(CFLAGS) -I$(dumbpath)/include -std=gnu99 -msse2
+else
+ddb_dumb_la_CFLAGS = $(CFLAGS) -I$(dumbpath)/include -std=gnu99
 endif
 
+ddb_dumb_la_LDFLAGS = -module -avoid-version -lm
 
 ddb_dumb_la_SOURCES =\
 dumb-kode54/src/it/loadmod2.c\
@@@@ -115,4 +113,7 @@@@ dumb-kode54/src/helpers/resample.inc\
 dumb-kode54/src/helpers/resamp2.inc\
 dumb-kode54/src/helpers/resamp3.inc\
 cdumb.c
+if HAVE_SSE2
+ddb_dumb_la_SOURCES += dumb-kode54/src/helpers/resampler_sse2.c
+endif
 endif
@


1.2
log
@
Update to deadbeef-0.6.2
@
text
@d1 5
a5 4
$OpenBSD: patch-plugins_dumb_Makefile_am,v 1.1 2012/08/10 17:25:01 shadchin Exp $
--- plugins/dumb/Makefile.am.orig	Thu Aug  9 23:43:15 2012
+++ plugins/dumb/Makefile.am	Thu Aug  9 23:43:24 2012
@@@@ -6,7 +6,7 @@@@ EXTRA_DIST = $(dumbpath)/readme.txt $(dumbpath)/Change
d8 12
a19 2
 AM_CFLAGS = $(CFLAGS) -I$(dumbpath)/include -std=c99
-ddb_dumb_la_LDFLAGS = -module -lm
d23 9
a31 1
 dumb-kode54/src/it/readam.c\
@


1.1
log
@Changes proposed by aja@@:
* add @@comment for the libtool la files corresponding to modules
* fix RUN_DEPENDS
* add '${CONFIGURE_SHARED} --disable-static' in CONFIGURE_ARGS
* remove post-install hack, add the -avoid-version libtool option in the
  corresponding Makefile(s).

ok aja@@, dcoppa@@
@
text
@d1 1
a1 1
$OpenBSD$
@

