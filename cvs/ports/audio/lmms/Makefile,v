head	1.10;
access;
symbols
	OPENBSD_6_1:1.10.0.4
	OPENBSD_6_1_BASE:1.10
	OPENBSD_6_0:1.10.0.2
	OPENBSD_6_0_BASE:1.10
	OPENBSD_5_9:1.9.0.10
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.12
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.9.0.8
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.9.0.6
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.9.0.4
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.9.0.2
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.8.0.2
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.6.0.4
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.2
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	jakemsr-p2k10:1.1.1.1
	jakemsr:1.1.1;
locks; strict;
comment	@# @;


1.10
date	2016.03.18.23.12.15;	author naddy;	state Exp;
branches;
next	1.9;
commitid	KZAl4KEiw6a3Jixw;

1.9
date	2013.03.10.22.55.03;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2012.12.09.07.29.57;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2012.10.31.10.18.57;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2011.10.12.12.54.30;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.09.19.13.48.15;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.09.16.08.26.10;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2011.07.11.12.08.24;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2010.11.15.00.22.47;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.28.22.33.41;	author jakemsr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.10.28.22.33.41;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.10
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@# $OpenBSD: Makefile,v 1.9 2013/03/10 22:55:03 espie Exp $

ONLY_FOR_ARCHS =	${GCC4_ARCHS}

COMMENT =		music studio with tracking, sampling and MIDI

DISTNAME =		lmms-0.4.8
REVISION =		3
CATEGORIES =		audio

HOMEPAGE =		http://lmms.sourceforge.net/

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =		ICE SM QtGui QtXml X11 Xext Xft Xinerama c fltk jack \
			fftw3f fluidsynth fontconfig freetype m ncurses ogg \
			pthread readline samplerate sndfile sndio vorbis \
			vorbisenc vorbisfile z stdc++

MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=lmms/}
EXTRACT_SUFX =		.tar.bz2

MODULES =		x11/qt4 devel/cmake

BUILD_DEPENDS =		audio/portaudio-svn
RUN_DEPENDS =		devel/desktop-file-utils \
			misc/shared-mime-info
LIB_DEPENDS =		audio/jack \
			math/fftw3,float \
			audio/fluidsynth \
			audio/libsamplerate \
			audio/libvorbis \
			x11/fltk

USE_X11 =		Yes

CONFIGURE_ENV =		CFLAGS="${CFLAGS} -I${X11BASE}/include" \
			CXXFLAGS="${CXXFLAGS} -I${X11BASE}/include" \
			LDFLAGS="${LDFLAGS} -L${X11BASE}/lib"
CONFIGURE_ARGS =	-DWANT_OSS=OFF -DWANT_SDL=OFF -DWANT_PULSEAUDIO=OFF

# these are all available as separate ports
CONFIGURE_ARGS +=	-DWANT_CALF=OFF -DWANT_CAPS=OFF -DWANT_CMT=OFF \
			-DWANT_SWH=OFF -DWANT_TAP=OFF

MAKE_FLAGS +=		VERBOSE=1

NO_TEST =		Yes

post-patch:
	cp ${FILESDIR}/FindSndio.cmake ${WRKSRC}/cmake/modules/
	cp ${FILESDIR}/{Audio,Midi}Sndio.h ${WRKSRC}/include/
	cp ${FILESDIR}/AudioSndio.cpp ${WRKSRC}/src/core/audio/
	cp ${FILESDIR}/MidiSndio.cpp ${WRKSRC}/src/core/midi/

.include <bsd.port.mk>
@


1.9
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.8 2012/12/09 07:29:57 brad Exp $

SHARED_ONLY =		Yes
@


1.8
log
@Jacob Meuser disappeared a year and a half ago so remove him as MAINTAINER.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/10/31 10:18:57 sthen Exp $
a16 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =	Yes
d51 1
a51 1
NO_REGRESS =		Yes
@


1.7
log
@missing build dep on portaudio.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/10/12 12:54:30 jasper Exp $
d8 1
d10 2
a11 1
REVISION =		2
a12 1
CATEGORIES =		audio
a13 2

MAINTAINER =		Jacob Meuser <jakemsr@@openbsd.org>
@


1.6
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/09/19 13:48:15 jasper Exp $
d32 1
@


1.5
log
@explicitly disable pulseaudio in these ports so they won't pick it up
when it becomes available.

thanks to sthen@@ for grepping the sources
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/09/16 08:26:10 espie Exp $
d9 1
a9 1
REVISION =		1
d25 1
a25 1
			vorbisenc vorbisfile z
@


1.4
log
@normalize pkgpath in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/07/11 12:08:24 jasper Exp $
d46 1
a46 1
CONFIGURE_ARGS =	-DWANT_OSS=OFF -DWANT_SDL=OFF
@


1.3
log
@- these ports were already ONLY_FOR_ARCHS=${GCC4_ARCHS} by using the gcc4
module on all arches. so remove the module usage and set ONLY_FOR_ARCHS instead

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/11/15 00:22:47 espie Exp $
d9 1
a9 1
REVISION =		0
@


1.2
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/10/28 22:33:41 jakemsr Exp $
d5 2
d9 1
d30 1
a30 3
MODULES =		x11/qt4 devel/cmake gcc4
MODGCC4_ARCHES =	*
MODGCC4_LANGS =		c c++
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d31 8
a38 9
RUN_DEPENDS =		:desktop-file-utils-*:devel/desktop-file-utils \
			:shared-mime-info-*:misc/shared-mime-info
LIB_DEPENDS =		::x11/qt4 \
			::audio/jack \
			::math/fftw3,float \
			::audio/fluidsynth \
			::audio/libsamplerate \
			::audio/libvorbis \
			::x11/fltk
@


1.1.1.1
log
@initial import of audio/lmms

LMMS is a music production program.  This includes the creation of
melodies and beats, the synthesis and mixing of sounds, and arrangement
of samples.  You can have fun with your MIDI keyboard and much more.

Features:

* Song Editor for composing songs
* A Beat+Bassline Editor for creating beats and basslines
* An easy to use Piano Roll for editing patterns and melodies
* An FX mixer with 64 FX channels and arbitrary number of effects
  allow unlimited mixing possibilities
* Many powerful instrument and effects plugins out of the box
* Full user defined track based automation and computer controlled
  automation sources
* Compatible with many standards such as SoundFont2, LADSPA, and full
  MIDI support
* Import of MIDI and FLP (Frootyloops Project) files

import requested by armani@@, some midi bits improved by ratchov@@,
reviewed by ratchov@@ and stsp@@ "why isn't that imported yet" from
several
@
text
@@
