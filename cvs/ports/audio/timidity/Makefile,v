head	1.46;
access;
symbols
	OPENBSD_6_0:1.46.0.8
	OPENBSD_6_0_BASE:1.46
	OPENBSD_5_9:1.46.0.4
	OPENBSD_5_9_BASE:1.46
	OPENBSD_5_8:1.46.0.6
	OPENBSD_5_8_BASE:1.46
	OPENBSD_5_7:1.46.0.2
	OPENBSD_5_7_BASE:1.46
	OPENBSD_5_6:1.44.0.6
	OPENBSD_5_6_BASE:1.44
	OPENBSD_5_5:1.44.0.4
	OPENBSD_5_5_BASE:1.44
	OPENBSD_5_4:1.44.0.2
	OPENBSD_5_4_BASE:1.44
	OPENBSD_5_3:1.43.0.4
	OPENBSD_5_3_BASE:1.43
	OPENBSD_5_2:1.43.0.2
	OPENBSD_5_2_BASE:1.43
	OPENBSD_5_1_BASE:1.42
	OPENBSD_5_1:1.42.0.2
	OPENBSD_5_0:1.41.0.4
	OPENBSD_5_0_BASE:1.41
	OPENBSD_4_9:1.41.0.2
	OPENBSD_4_9_BASE:1.41
	OPENBSD_4_8:1.35.0.4
	OPENBSD_4_8_BASE:1.35
	OPENBSD_4_7:1.35.0.2
	OPENBSD_4_7_BASE:1.35
	OPENBSD_4_6:1.32.0.8
	OPENBSD_4_6_BASE:1.32
	OPENBSD_4_5:1.32.0.6
	OPENBSD_4_5_BASE:1.32
	OPENBSD_4_4:1.32.0.4
	OPENBSD_4_4_BASE:1.32
	OPENBSD_4_3:1.32.0.2
	OPENBSD_4_3_BASE:1.32
	OPENBSD_4_2:1.30.0.4
	OPENBSD_4_2_BASE:1.30
	OPENBSD_4_1:1.30.0.2
	OPENBSD_4_1_BASE:1.30
	OPENBSD_4_0:1.29.0.4
	OPENBSD_4_0_BASE:1.29
	OPENBSD_3_9:1.29.0.2
	OPENBSD_3_9_BASE:1.29
	OPENBSD_3_8:1.28.0.2
	OPENBSD_3_8_BASE:1.28
	OPENBSD_3_7:1.27.0.2
	OPENBSD_3_7_BASE:1.27
	OPENBSD_3_6:1.25.0.4
	OPENBSD_3_6_BASE:1.25
	OPENBSD_3_5:1.25.0.2
	OPENBSD_3_5_BASE:1.25
	OPENBSD_3_4:1.24.0.2
	OPENBSD_3_4_BASE:1.24
	OPENBSD_3_3:1.23.0.2
	OPENBSD_3_3_BASE:1.23
	OPENBSD_3_2:1.22.0.2
	OPENBSD_3_2_BASE:1.22
	OPENBSD_3_1:1.21.0.2
	OPENBSD_3_1_BASE:1.21
	OPENBSD_3_0:1.20.0.2
	OPENBSD_3_0_BASE:1.20
	OPENBSD_2_9_TRACKING_SWITCH:1.20
	OPENBSD_2_9:1.17.0.2
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.14.0.2
	OPENBSD_2_8_BASE:1.14
	OPENBSD_2_7:1.13.0.2
	OPENBSD_2_7_BASE:1.13
	OPENBSD_2_6:1.4.0.2
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	marc_1999-Feb-06:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.46
date	2015.01.24.11.07.57;	author schwarze;	state Exp;
branches;
next	1.45;
commitid	7awk5YK2lMTW4w3F;

1.45
date	2014.12.09.20.45.59;	author sthen;	state Exp;
branches;
next	1.44;
commitid	tWAQF6KyiOoRKcOo;

1.44
date	2013.03.10.22.55.06;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2012.02.21.16.21.41;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2011.10.17.12.40.44;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2010.11.15.00.22.48;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2010.10.24.21.00.29;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2010.10.18.16.52.47;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2010.10.11.08.11.17;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2010.08.27.00.52.01;	author jakemsr;	state Exp;
branches;
next	1.36;

1.36
date	2010.08.23.11.17.17;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2009.08.10.14.14.21;	author sthen;	state Exp;
branches;
next	1.34;

1.34
date	2009.08.10.06.29.52;	author kili;	state Exp;
branches;
next	1.33;

1.33
date	2009.07.30.19.35.00;	author jakemsr;	state Exp;
branches;
next	1.32;

1.32
date	2007.11.22.12.52.34;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2007.09.15.21.26.03;	author simon;	state Exp;
branches;
next	1.30;

1.30
date	2006.12.17.09.01.47;	author steven;	state Exp;
branches;
next	1.29;

1.29
date	2006.01.30.10.13.11;	author jsg;	state Exp;
branches;
next	1.28;

1.28
date	2005.06.11.00.15.14;	author jaredy;	state Exp;
branches;
next	1.27;

1.27
date	2004.11.21.17.51.47;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2004.10.09.16.51.44;	author jolan;	state Exp;
branches;
next	1.25;

1.25
date	2003.10.26.23.49.31;	author naddy;	state Exp;
branches;
next	1.24;

1.24
date	2003.05.18.23.41.55;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2002.10.24.22.20.03;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2002.07.17.21.22.01;	author lebel;	state Exp;
branches;
next	1.21;

1.21
date	2002.03.21.20.35.42;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2001.07.26.19.08.16;	author pvalchev;	state Exp;
branches;
next	1.19;

1.19
date	2001.07.06.08.05.28;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2001.07.05.10.53.49;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2001.04.18.15.01.05;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2001.04.13.03.24.23;	author obecian;	state Exp;
branches;
next	1.15;

1.15
date	2001.01.05.16.35.58;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.06.10.17.39.23;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.03.24.22.39.00;	author espie;	state Exp;
branches
	1.13.2.1;
next	1.12;

1.12
date	2000.03.24.22.11.35;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.23.21.59.58;	author turan;	state Exp;
branches;
next	1.10;

1.10
date	2000.02.16.10.52.08;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2000.02.15.05.03.58;	author turan;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.13.08.07.42;	author turan;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.12.09.31.15;	author turan;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.12.08.41.07;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.12.08.02.10;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	99.09.06.18.33.22;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.04.01.06.20.02;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.04.01.02.57.52;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.02.07.05.18.48;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.02.07.05.18.48;	author marc;	state Exp;
branches;
next	;

1.13.2.1
date	2000.09.15.04.42.58;	author marc;	state Exp;
branches;
next	;


desc
@@


1.46
log
@only minor formatting differences; drop USE_GROFF; no bump needed
@
text
@# $OpenBSD: Makefile,v 1.45 2014/12/09 20:45:59 sthen Exp $

COMMENT=	MIDI to WAV renderer and player

V=		2.13.2
DISTNAME=	TiMidity++-${V}
PKGNAME=	timidity-${V}
REVISION=	5
CATEGORIES=	audio

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=timidity/}
MASTER_SITES0=	http://www.anime.net/~goemon/timidity/
TIINS=		goemon.tgz
DISTFILES=	${TIINS}:0 ${DISTNAME}.tar.gz

HOMEPAGE=	http://timidity.sourceforge.net/

# GPL, copyrighted patches in goemon patchset
PERMIT_PACKAGE_CDROM=   copyrighted patches
PERMIT_PACKAGE_FTP=     copyrighted patches
PERMIT_DISTFILES_FTP=   copyrighted patches

WANTLIB=		c m ncurses sndio

CONFIGURE_STYLE=autoconf automake
AUTOCONF_VERSION = 2.59
AUTOMAKE_VERSION = 1.9
CONFIGURE_ARGS= --enable-audio=sndio \
		--with-default-output=sndio \
		--enable-vt100 \
		--enable-ncurses \
		--enable-server \
		--with-default-path=${SYSCONFDIR}

FLAVORS=	gtk2 xaw
FLAVOR?=

.if ${FLAVOR:Mgtk2}
CONFIGURE_ARGS+=--enable-gtk
MODULES=	devel/gettext
LIB_DEPENDS+=	x11/gtk+2
WANTLIB+=	X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
		Xi Xinerama Xrandr Xrender atk-1.0 cairo expat \
		fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
		glib-2.0 gio-2.0 gmodule-2.0 gobject-2.0 \
		gtk-x11-2.0 gthread-2.0 pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pixman-1 png pthread pthread-stubs xcb \
		xcb-render xcb-render-util z
.endif

.if ${FLAVOR:Mxaw}
CONFIGURE_ARGS+=--enable-xaw
WANTLIB+=	ICE SM X11 Xaw Xext Xmu Xt
.endif

.if ! ${FLAVOR:Mgtk2} && ! ${FLAVOR:Mxaw}
CONFIGURE_ARGS+=--without-x
.endif

USE_GMAKE=	Yes
NO_TEST=	Yes

WRKDIST=	${WRKDIR}
WRKSRC=		${WRKDIR}/${DISTNAME}
DATA_DIRS=	gsdrum00 gsdrum08 gsdrum40

post-patch:
	cp ${FILESDIR}/sndio_a.c \
		${WRKSRC}/timidity/sndio_a.c
	cd ${WRKSRC} && AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} aclocal -I autoconf

pre-configure:
	cd ${WRKSRC}; AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} automake \
		--foreign --add-missing --copy

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/timidity/goemon
	${INSTALL_DATA} ${WRKDIST}/goemon/*.* ${PREFIX}/share/timidity/goemon
.for DDIR in ${DATA_DIRS}
	${INSTALL_DATA_DIR} ${PREFIX}/share/timidity/goemon/${DDIR}
	${INSTALL_DATA} ${WRKDIST}/goemon/${DDIR}/*.* \
	    ${PREFIX}/share/timidity/goemon/${DDIR}
.endfor
	${INSTALL_DATA} ${WRKDIST}/goemon.cfg ${PREFIX}/share/timidity/goemon
	@@echo -e "dir ${TRUEPREFIX}/share/timidity/goemon\nsource goemon.cfg" \
	    >> ${WRKDIR}/timidity.cfg
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/timidity
	${INSTALL_DATA} ${WRKDIR}/timidity.cfg ${PREFIX}/share/examples/timidity

.include <bsd.port.mk>
@


1.45
log
@srand_deterministic
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/03/10 22:55:06 espie Exp $
a34 1
USE_GROFF =	Yes
@


1.44
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/02/21 16:21:41 ajacoutot Exp $
d8 1
a8 1
REVISION=	4
@


1.43
log
@CONFIGURE_STYLE autoconf already appends gnu, so no need to explicitely
list it.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/10/17 12:40:44 espie Exp $
a20 1
PERMIT_DISTFILES_CDROM= copyrighted patches
d62 1
a62 1
NO_REGRESS=	Yes
@


1.42
log
@zap :L in flavor checks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/11/15 00:22:48 espie Exp $
d26 1
a26 1
CONFIGURE_STYLE=autoconf automake gnu
@


1.41
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/10/24 21:00:29 ajacoutot Exp $
d40 1
a40 1
.if ${FLAVOR:L:Mgtk2}
d53 1
a53 1
.if ${FLAVOR:L:Mxaw}
d58 1
a58 1
.if ! ${FLAVOR:L:Mgtk2} && ! ${FLAVOR:L:Mxaw}
@


1.40
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/10/18 16:52:47 espie Exp $
d43 1
a43 1
LIB_DEPENDS+=	::x11/gtk+2
@


1.39
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/10/11 08:11:17 jasper Exp $
a42 1
USE_X11=	Yes
a54 1
USE_X11=	Yes
@


1.38
log
@- fix WANTLIB after cairo update.

these and upcoming fixes test built by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/08/27 00:52:01 jakemsr Exp $
d36 1
@


1.37
log
@* quit building audio(4) backend
* fix compilation of xaw FLAVOR
* REVISION and bump
* fix and new style LIB_DEPENDS/WANTLIB
ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/08/23 11:17:17 sthen Exp $
d8 1
a8 1
REVISION=	3
d47 1
a47 1
		glib-2.0 glitz gio-2.0 gmodule-2.0 gobject-2.0 \
@


1.36
log
@fix MASTER_SITES0; pointed out by Rodney Hopkins on misc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/08/10 14:14:21 sthen Exp $
d7 2
a8 1
PKGNAME=	timidity-${V}p2
d29 1
a29 1
CONFIGURE_ARGS= --enable-audio=sndio,sun \
d43 1
a43 1
LIB_DEPENDS+=	gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2
d46 5
a50 3
		fontconfig freetype glib-2.0 glitz gio-2.0 gmodule-2.0 \
		gobject-2.0 pango-1.0 pangocairo-1.0 pangoft2-1.0 \
		pixman-1 png pthread-stubs xcb z
d56 1
a56 1
WANTLIB+=	ICE SM X11 Xaw Xext Xmu Xt pthread-stubs xcb
@


1.35
log
@Add automake to CONFIGURE_STYLE so the build dependencies are added.
Build-time only, doesn't affect the package -> no bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/08/10 06:29:52 kili Exp $
d11 1
a11 1
MASTER_SITES0=	ftp://ftp.kiarchive.ru/pub/misc/hardware/soundcard/gus/
@


1.34
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/07/30 19:35:00 jakemsr Exp $
d25 1
a25 1
CONFIGURE_STYLE=autoconf gnu
@


1.33
log
@sndio support from IWATA Ray (iwata at quasiquote org), with a tweak
from ratchov@@
ok ratchov@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/11/22 12:52:34 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	timidity-${V}p1
d47 1
a47 1
		pixman-1 png z
d53 1
a53 1
WANTLIB+=	ICE SM X11 Xaw Xext Xmu Xt
@


1.32
log
@- add a xaw FLAVOR
- reformat DESCR
- fix WANTLIB

based on a submission from Bryan Linton <bl at shoshoni dot info>
"go for it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2007/09/15 21:26:03 simon Exp $
d23 1
a23 1
WANTLIB=		c m ncurses 
d25 5
a29 4
CONFIGURE_STYLE=gnu
CONFIGURE_ENV+=	CFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ARGS= --enable-audio=sun \
d45 3
a47 2
		fontconfig freetype glib-2.0 glitz gmodule-2.0 \
		gobject-2.0 pango-1.0 pangocairo-1.0 pangoft2-1.0 png z
d66 11
@


1.31
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2006/12/17 09:01:47 steven Exp $
d4 4
a7 2
DISTNAME=	TiMidity++-2.13.2
PKGNAME=	${DISTNAME:L:S/++//}p0
d22 1
d34 1
a34 1
FLAVORS=	gtk2
d42 13
a54 4
WANTLIB+=	X11 Xext Xrender atk-1.0 fontconfig freetype \
		glib-2.0 gmodule-2.0 gobject-2.0 pango-1.0 \
		pangoft2-1.0 pangocairo-1.0 glitz cairo png z
.else
@


1.30
log
@fix WANTLIB and LIB_DEPENDS for gtk2 flavor
remove pkgconfig dependency while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2006/01/30 10:13:11 jsg Exp $
d3 1
a3 1
COMMENT=	"MIDI to WAV renderer and player"
d16 4
a19 4
PERMIT_PACKAGE_CDROM=   "copyrighted patches"
PERMIT_PACKAGE_FTP=     "copyrighted patches"
PERMIT_DISTFILES_CDROM= "copyrighted patches"
PERMIT_DISTFILES_FTP=   "copyrighted patches"
@


1.29
log
@The original version of timidity is long unmaintained now, so
switch to timidity++.

help from and ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/06/11 00:15:14 jaredy Exp $
d5 1
a5 1
PKGNAME=	${DISTNAME:L:S/++//}
d38 4
a41 5
LIB_DEPENDS+=	gdk-x11-2.0.0.11,gdk_pixbuf-2.0.0.11,gtk-x11-2.0.0.11::x11/gtk+2
BUILD_DEPENDS+=	:pkgconfig-*:devel/pkgconfig
WANTLIB+=	X11 Xext Xft Xrender atk-1.0.0.0 fontconfig freetype \
		glib-2.0.0.0 gmodule-2.0.0.0 gobject-2.0.0.0 pango-1.0.0.0 \
		pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 
@


1.28
log
@oops, bump package name after config.h patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/11/21 17:51:47 espie Exp $
d4 2
a5 2
DISTNAME=	timidity-0.2i
PKGNAME=	${DISTNAME}p0
d8 1
a8 1
MASTER_SITES=	http://sca.uwaterloo.ca/www.cgs.fi/tt/timidity/
d10 1
a10 1
TIINS=	goemon.tgz
a11 1
EXTRACT_ONLY=	${DISTNAME}.tar.gz
d13 1
a13 5
PERMIT_PACKAGE_CDROM=	"copyrighted patches"
PERMIT_PACKAGE_FTP=	"copyrighted patches"
PERMIT_DISTFILES_CDROM=	"copyrighted patches"
PERMIT_DISTFILES_FTP=	"copyrighted patches"
WANTLIB=		c m ossaudio
d15 30
a44 12

FLAVORS=motif curses slang
FLAVOR?=motif

.if ${FLAVOR:L:Mcurses}
MAKE_FLAGS+=-DCURSES
WANTLIB+=		curses
.endif
.if ${FLAVOR:L:Mmotif} || ${FLAVOR:L:Mlesstif}
MAKE_FLAGS+=-DMOTIF
USE_MOTIF=	any
WANTLIB+=		X11 Xext Xt
a45 7
.if ${FLAVOR:L:Mslang}
MAKE_FLAGS+=-DSLANG
LIB_DEPENDS+=slang.::devel/libslang
WANTLIB+=		curses
.endif

MAKE_ENV=	CC="${CC}"
d47 1
d50 3
a52 2
INSTALL_TARGET= install.all
FAKE_FLAGS=PREFIX=${PREFIX} DESTDIR=${WRKINST} ${MAKE_FLAGS}
d55 12
a66 7
	${INSTALL_MAN} ${WRKSRC}/timidity.1 ${PREFIX}/man/man1
	@@cd ${PREFIX}/lib/timidity && \
	${TAR} zxf ${FULLDISTDIR}/${TIINS} && \
	cp goemon.cfg goemon.cfg.bak && \
	sed 's=dir goemon=dir ${TRUEPREFIX}/lib/timidity/goemon=' \
	   < goemon.cfg.bak > goemon.cfg && \
	rm -f goemon.cfg.bak
@


1.27
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/10/09 16:51:44 jolan Exp $
d5 1
@


1.26
log
@make fetchable again
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2003/10/26 23:49:31 naddy Exp $
d17 1
d25 1
d30 1
d35 1
@


1.25
log
@Use FULLDISTDIR to refer to distribution file location.
From: Xavier Santolaria <xavier@@santolaria.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2003/05/18 23:41:55 naddy Exp $
d7 1
a7 1
MASTER_SITES=	http://www.goice.co.jp/member/mo/timidity/dist/
@


1.24
log
@Make clear why the redistribution of this is supposed to be restricted.
Further review might be in order.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/10/24 22:20:03 naddy Exp $
d44 1
a44 1
	${TAR} zxf ${DISTDIR}/${TIINS} && \
@


1.23
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2002/07/17 21:22:01 lebel Exp $
d13 4
a16 4
PERMIT_PACKAGE_CDROM=	No
PERMIT_PACKAGE_FTP=	No
PERMIT_DISTFILES_CDROM=	No
PERMIT_DISTFILES_FTP=	No
@


1.22
log
@respect ${CC}.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2002/03/21 20:35:42 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.515
a12 2
MAINTAINER=	ports@@openbsd.org

d35 3
@


1.21
log
@bump NEED_VERSION for distinfo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/07/26 19:08:16 pvalchev Exp $
d36 1
@


1.20
log
@tar ->
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/07/06 08:05:28 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.400
@


1.19
log
@Fix motif interface (missed -LXext)
Flavorize (slang and curses interface... curses non-functional currently).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/07/05 10:53:49 espie Exp $
d42 1
a42 1
	tar zxf ${DISTDIR}/${TIINS} && \
@


1.18
log
@Install man page as well
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/04/18 15:01:05 espie Exp $
d20 9
d30 5
d37 1
a37 1
FAKE_FLAGS=PREFIX=${PREFIX} DESTDIR=${WRKINST}
@


1.17
log
@Fix USE_MOTIF, especially for those ports with `motif' flavors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/04/13 03:24:23 obecian Exp $
d26 1
@


1.16
log
@+ bump NEED_VERSION, add COMMENT to Makefile
+ rm pkg/COMMENT
+ rm deprecated LICENSE_TYPE, add NEED_VERSION,
  spaces->tabs (general update/cleanup, some ports are OLD)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/01/05 16:35:58 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.364
d20 1
a20 1
USE_MOTIF=	Yes
@


1.15
log
@bye bye NO_CDROM and MIRROR_DISTFILE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/06/10 17:39:23 espie Exp $
d3 9
a11 8
DISTNAME=       timidity-0.2i
CATEGORIES=     audio
NEED_VERSION=	1.336
MASTER_SITES= 	http://www.goice.co.jp/member/mo/timidity/dist/
MASTER_SITES0=  ftp://ftp.kiarchive.ru/pub/misc/hardware/soundcard/gus/
TIINS=          goemon.tgz
DISTFILES=      ${TIINS}:0 ${DISTNAME}.tar.gz
EXTRACT_ONLY=   ${DISTNAME}.tar.gz
d13 1
a13 1
MAINTAINER=     ports@@openbsd.org
@


1.14
log
@Various minor clean-ups:
- use new CONFIGURE_STYLE
- use PLIST/DESCR substitution to add HOMEPAGE and various fragments
- add systematic @@comment $OpenBSD$ to PLIST
- remove FAKE=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/03/24 22:39:00 espie Exp $
d5 1
a5 1
NEED_VERSION=	1.91
a7 1
NO_CDROM=       "Uses copyrighted patches"
a11 1

a13 1
LICENSE_TYPE=		"GPL NONE"
@


1.13
log
@Fix X11 move (/usr/local), fake.
Use MASTER_SITES0.
Note that timidity is fairly old, a port of timidity++ might be a good idea.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/03/24 22:11:35 espie Exp $
a24 1
FAKE=		Yes
@


1.13.2.1
log
@bring cut-off audio into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/06/10 17:39:23 espie Exp $
d25 1
@


1.12
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 16
# $OpenBSD: Makefile,v 1.11 2000/03/23 21:59:58 turan Exp $

BROKEN= compile errers
#motif_i.c:53: Xm/Xm.h: No such file or directory
#motif_i.c:54: Xm/Form.h: No such file or directory
#motif_i.c:55: Xm/Text.h: No such file or directory
#motif_i.c:56: Xm/PushB.h: No such file or directory
#motif_i.c:57: Xm/Label.h: No such file or directory
#motif_i.c:58: Xm/Scale.h: No such file or directory
#motif_i.c:59: Xm/List.h: No such file or directory
#motif_i.c:60: Xm/Frame.h: No such file or directory
#motif_i.c:61: Xm/RowColumn.h: No such file or directory
#motif_i.c:62: Xm/CascadeB.h: No such file or directory
#motif_i.c:63: Xm/FileSB.h: No such file or directory
#motif_i.c:64: Xm/FileSB.h: No such file or directory
#motif_i.c:65: Xm/ToggleB.h: No such file or directory
d6 2
a7 2
MASTER_SITES=   ftp://ftp.kiarchive.ru/pub/misc/hardware/soundcard/gus/ \
		http://www.goice.co.jp/member/mo/timidity/dist/
d10 1
a10 1
DISTFILES=      ${TIINS} ${DISTNAME}.tar.gz
d17 4
a20 4
PERMIT_PACKAGE_CDROM=	NO
PERMIT_PACKAGE_FTP=	NO
PERMIT_DISTFILES_CDROM=	NO
PERMIT_DISTFILES_FTP=	NO
d22 1
a22 1
USE_MOTIF=	yes
d25 2
d30 1
a30 1
	${TAR} -zxf ${DISTDIR}/${TIINS} && \
d32 1
a32 1
	sed 's=dir goemon=dir ${PREFIX}/lib/timidity/goemon=' \
@


1.11
log
@broken, compile errors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/02/16 10:52:08 espie Exp $
d20 1
a27 1
NEED_VERSION=	1.91
@


1.10
log
@All the Makefiles cvs missed first time around...
@
text
@d1 16
a16 1
# $OpenBSD: Makefile,v 1.9 2000/02/15 05:03:58 turan Exp $
@


1.9
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/13 08:07:42 turan Exp $
d29 2
a30 2
	${CP} goemon.cfg goemon.cfg.bak && \
	${SED} 's=dir goemon=dir ${PREFIX}/lib/timidity/goemon=' \
d32 1
a32 1
	${RM} -f goemon.cfg.bak
@


1.8
log
@add NONE.  restrict.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/12 09:31:15 turan Exp $
d17 4
a20 4
PERMIT_PKG_CDROM=	NO
PERMIT_PKG_FTP=		NO
PERMIT_DISTF_CDROM=	NO
PERMIT_DISTF_FTP=	NO
@


1.7
log
@dual GPL,NONE licenses.  make the whole GPL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/02/12 08:41:07 turan Exp $
d16 5
a20 5
LICENSE_TYPE=		GPL
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.6
log
@none licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/02/12 08:02:10 turan Exp $
d16 1
a16 1
LICENSE_TYPE=		GPL/NONE
@


1.5
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/09/06 18:33:22 brad Exp $
d16 1
a16 1
LICENSE_TYPE=		GPL
@


1.4
log
@- replace LIB_DEPENDS with USE_MOTIF
- tar -> ${TAR}, cp -> ${CP}, sed -> ${SED}, rm -> ${RM} -f
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/04/01 06:20:02 brad Exp $
d15 6
@


1.3
log
@fix dependency lists, fix email address's and remove unnecessary comments
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/04/01 02:57:52 brad Exp $
d7 1
d10 3
a12 1
LIB_DEPENDS=    Xm.1:${PORTSDIR}/x11/lesstif
d16 1
a16 1
NO_CDROM=       "Uses copyrighted patches"
a17 1
EXTRACT_ONLY=   ${DISTNAME}.tar.gz
d21 4
a24 4
	cd ${PREFIX}/lib/timidity && \
	tar zxf ${DISTDIR}/${TIINS} && \
	cp goemon.cfg goemon.cfg.bak && \
	sed 's=dir goemon=dir ${PREFIX}/lib/timidity/goemon=' \
d26 1
a26 1
	rm goemon.cfg.bak
@


1.2
log
@remove unnecessary comments and fix email address's
@
text
@d1 1
a1 1
# $OpenBSD$
d9 1
a9 1
LIB_DEPENDS=    Xm.1.:${PORTSDIR}/x11/lesstif
d11 1
a11 1
MAINTAINER=     ache@@FreeBSD.ORG
@


1.1
log
@Initial revision
@
text
@d1 1
a1 6
# New ports collection makefile for:    timidity
# Homepage: http://www.cgs.fi/~tt/timidity/
# Version required:     0.2i
# Original port by:	ache
# OpenBSD port by:	rys@@glacid.com
#
a16 1
MAN1=           timidity.1
@


1.1.1.1
log
@timidity; Joe <rys@@tir.com>
@
text
@@
