head	1.3;
access;
symbols
	OPENBSD_4_5:1.2.0.6
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.0.10
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.8
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.6
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.4
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.2
	OPENBSD_3_8_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2009.06.14.10.06.08;	author sthen;	state dead;
branches;
next	1.2;

1.2
date	2007.12.30.20.23.15;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2005.08.16.18.24.10;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.3
log
@sparc64 has sporadic build failures unless -O0 is used for some files;
this was patched in Makefile.in in the past but a change that was made
to run autoconf has knocked this out. switch to patching Makefile.am
instead. from Brad; ok robert@@ (maintainer)
@
text
@$OpenBSD: gcc-Input_mpg123_Makefile_in,v 1.2 2007/12/30 20:23:15 naddy Exp $
--- Input/mpg123/Makefile.in.orig	Fri Nov 16 22:54:40 2007
+++ Input/mpg123/Makefile.in	Tue Dec 11 00:22:18 2007
@@@@ -455,6 +455,13 @@@@ distclean-compile:
 @@AMDEP_TRUE@@@@am__fastdepCC_FALSE@@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @@AMDEPBACKSLASH@@
 @@am__fastdepCC_FALSE@@	$(LTCOMPILE) -c -o $@@ $<
 
+layer3.lo: layer3.c
+@@am__fastdepCC_TRUE@@	if $(LTCOMPILE) -O0 -MT $@@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@@ $<; \
+@@am__fastdepCC_TRUE@@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
+@@AMDEP_TRUE@@@@am__fastdepCC_FALSE@@	source='$<' object='$@@' libtool=yes @@AMDEPBACKSLASH@@
+@@AMDEP_TRUE@@@@am__fastdepCC_FALSE@@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @@AMDEPBACKSLASH@@
+@@am__fastdepCC_FALSE@@	$(LTCOMPILE) -O0 -c -o $@@ $<
+
 .s.o:
 	$(CCASCOMPILE) -c $<
 
@


1.2
log
@- fix a buffer overflow that garbled the status display of the XMMS sun
audio plugin while playing; use proper unsigned types while there
- sync the gcc workaround patch with the new automake output
@
text
@d1 1
a1 1
$OpenBSD: gcc-Input_mpg123_Makefile_in,v 1.1 2005/08/16 18:24:10 sturm Exp $
@


1.1
log
@work around an ICE by compiling single files with -O0 on sparc64

ok pval
@
text
@d1 6
a6 6
$OpenBSD$
--- Input/mpg123/Makefile.in.orig	Sun Aug 14 11:26:30 2005
+++ Input/mpg123/Makefile.in	Sun Aug 14 11:28:57 2005
@@@@ -426,6 +426,17 @@@@ distclean-compile:
 @@AMDEP_TRUE@@@@am__fastdepCC_FALSE@@	$(CCDEPMODE) $(depcomp) @@AMDEPBACKSLASH@@
 @@am__fastdepCC_FALSE@@	$(LTCOMPILE) -c -o $@@ `test -f '$<' || echo '$(srcdir)/'`$<
d9 2
a10 5
+@@am__fastdepCC_TRUE@@	if $(LTCOMPILE) -O0 -MT $@@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
+@@am__fastdepCC_TRUE@@	  -c -o $@@ `test -f '$<' || echo '$(srcdir)/'`$<; \
+@@am__fastdepCC_TRUE@@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; \
+@@am__fastdepCC_TRUE@@	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
+@@am__fastdepCC_TRUE@@	fi
d12 2
a13 3
+@@AMDEP_TRUE@@@@am__fastdepCC_FALSE@@	depfile='$(DEPDIR)/$*.Plo' tmpdepfile='$(DEPDIR)/$*.TPlo' @@AMDEPBACKSLASH@@
+@@AMDEP_TRUE@@@@am__fastdepCC_FALSE@@	$(CCDEPMODE) $(depcomp) @@AMDEPBACKSLASH@@
+@@am__fastdepCC_FALSE@@	$(LTCOMPILE) -c -o $@@ `test -f '$<' || echo '$(srcdir)/'`$<
d16 1
a16 1
 	$(CCASCOMPILE) -c `test -f '$<' || echo '$(srcdir)/'`$<
@

