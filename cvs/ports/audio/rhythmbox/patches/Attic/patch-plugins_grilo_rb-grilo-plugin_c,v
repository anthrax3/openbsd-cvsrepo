head	1.4;
access;
symbols
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3;
locks; strict;
comment	@# @;


1.4
date	2016.08.20.13.38.52;	author ajacoutot;	state dead;
branches;
next	1.3;
commitid	nRS6sDCqT91FUYvr;

1.3
date	2016.04.25.15.52.14;	author jasper;	state Exp;
branches;
next	1.2;
commitid	9zlyeK333TlcdvHi;

1.2
date	2012.09.30.14.58.39;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2012.09.29.12.20.14;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to rhythmbox-3.4.
- drop the gettext MODULE
@
text
@$OpenBSD: patch-plugins_grilo_rb-grilo-plugin_c,v 1.3 2016/04/25 15:52:14 jasper Exp $

https://bugzilla.gnome.org/show_bug.cgi?id=759589

--- plugins/grilo/rb-grilo-plugin.c.orig	Fri Aug  7 12:20:22 2015
+++ plugins/grilo/rb-grilo-plugin.c	Mon Apr 25 17:38:57 2016
@@@@ -213,7 +213,7 @@@@ impl_activate (PeasActivatable *plugin)
 	pi->registry = grl_registry_get_default ();
 	g_signal_connect (pi->registry, "source-added", G_CALLBACK (grilo_source_added_cb), pi);
 	g_signal_connect (pi->registry, "source-removed", G_CALLBACK (grilo_source_removed_cb), pi);
-	if (grl_registry_load_all_plugins (pi->registry, &error) == FALSE) {
+	if (grl_registry_load_all_plugins (pi->registry, TRUE, &error) == FALSE) {
 		g_warning ("Failed to load Grilo plugins: %s", error->message);
 		g_clear_error (&error);
 	}
@


1.3
log
@apply patch from RH, via upstream bugzilla to unbreak with rygel 0.3
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@Update to rhythmbox-2.98.
@
text
@d1 1
a1 1
$OpenBSD: patch-plugins_grilo_rb-grilo-plugin_c,v 1.1 2012/09/29 12:20:14 ajacoutot Exp $
d3 1
a3 4
From 86eb47f705b2f0e6e8ba8d90073c961d47dbfb95 Mon Sep 17 00:00:00 2001
From: Jasper Lievisse Adriaanse <jasper@@humppa.nl>
Date: Fri, 17 Aug 2012 13:28:05 +0000
Subject: grilo: Port to the grilo 0.2 API
d5 11
a15 29
--- plugins/grilo/rb-grilo-plugin.c.orig	Thu May 31 00:51:09 2012
+++ plugins/grilo/rb-grilo-plugin.c	Sat Sep 29 14:05:14 2012
@@@@ -65,7 +65,7 @@@@ typedef struct
 {
 	PeasExtensionBase parent;
 
-	GrlPluginRegistry *registry;
+	GrlRegistry *registry;
 	GHashTable *sources;
 	RBShellPlayer *shell_player;
 	gulong emit_cover_art_id;
@@@@ -93,7 +93,7 @@@@ rb_grilo_plugin_init (RBGriloPlugin *plugin)
 static void
 rb_grilo_plugin_source_deleted (RBGriloSource *source, RBGriloPlugin *plugin)
 {
-	GrlMediaSource *media_source;
+	GrlSource *media_source;
 
 	g_object_get (source, "media-source", &media_source, NULL);
 	g_hash_table_remove (plugin->sources, media_source);
@@@@ -101,7 +101,7 @@@@ rb_grilo_plugin_source_deleted (RBGriloSource *source,
 }
 
 static void
-grilo_source_added_cb (GrlPluginRegistry *registry, GrlMediaPlugin *grilo_plugin, RBGriloPlugin *plugin)
+grilo_source_added_cb (GrlRegistry *registry, GrlPlugin *grilo_plugin, RBGriloPlugin *plugin)
 {
 	RBSource *grilo_source;
 	RBShell *shell;
@


1.1
log
@Unbreak after recent grilo update.
Enable the zeitgeist plugin.
@@comment -> post-install rm
@
text
@d1 1
a1 1
$OpenBSD$
@

