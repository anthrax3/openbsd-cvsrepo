head	1.158;
access;
symbols
	OPENBSD_6_1:1.158.0.2
	OPENBSD_6_1_BASE:1.158
	OPENBSD_6_0:1.155.0.2
	OPENBSD_6_0_BASE:1.155
	OPENBSD_5_9:1.150.0.2
	OPENBSD_5_9_BASE:1.150
	OPENBSD_5_8:1.147.0.4
	OPENBSD_5_8_BASE:1.147
	OPENBSD_5_7:1.143.0.2
	OPENBSD_5_7_BASE:1.143
	OPENBSD_5_6:1.141.0.2
	OPENBSD_5_6_BASE:1.141
	OPENBSD_5_5:1.131.0.2
	OPENBSD_5_5_BASE:1.131
	OPENBSD_5_4:1.123.0.2
	OPENBSD_5_4_BASE:1.123
	OPENBSD_5_3:1.111.0.2
	OPENBSD_5_3_BASE:1.111
	OPENBSD_5_2:1.102.0.2
	OPENBSD_5_2_BASE:1.102
	OPENBSD_5_1_BASE:1.96
	OPENBSD_5_1:1.96.0.2
	OPENBSD_5_0:1.74.0.2
	OPENBSD_5_0_BASE:1.74
	OPENBSD_4_9:1.67.0.2
	OPENBSD_4_9_BASE:1.67
	OPENBSD_4_8:1.52.0.2
	OPENBSD_4_8_BASE:1.52
	OPENBSD_4_7:1.48.0.2
	OPENBSD_4_7_BASE:1.48
	OPENBSD_4_6:1.38.0.2
	OPENBSD_4_6_BASE:1.38
	OPENBSD_4_5:1.23.0.2
	OPENBSD_4_5_BASE:1.23
	OPENBSD_4_4:1.20.0.2
	OPENBSD_4_4_BASE:1.20
	OPENBSD_4_3:1.17.0.2
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.13.0.2
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.10.0.2
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.7.0.2
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.1.1.1.0.4
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	marcm_2004-dec-21:1.1.1.1
	marcm:1.1.1;
locks; strict;
comment	@# @;


1.158
date	2017.01.03.18.54.48;	author shadchin;	state Exp;
branches;
next	1.157;
commitid	4wXCEmNOFtHPEQ29;

1.157
date	2016.09.10.09.55.34;	author ajacoutot;	state Exp;
branches;
next	1.156;
commitid	6n6RxPx4S4CR7kIJ;

1.156
date	2016.08.20.13.38.52;	author ajacoutot;	state Exp;
branches;
next	1.155;
commitid	nRS6sDCqT91FUYvr;

1.155
date	2016.07.09.08.46.24;	author sthen;	state Exp;
branches;
next	1.154;
commitid	5V5x7yAKWjzdrmlj;

1.154
date	2016.04.28.11.13.15;	author ajacoutot;	state Exp;
branches;
next	1.153;
commitid	MXI1DpaFM03YoPJr;

1.153
date	2016.04.25.15.52.14;	author jasper;	state Exp;
branches;
next	1.152;
commitid	9zlyeK333TlcdvHi;

1.152
date	2016.04.03.09.39.57;	author ajacoutot;	state Exp;
branches;
next	1.151;
commitid	gRrLL4jxpWVqnIeW;

1.151
date	2016.03.20.16.12.22;	author naddy;	state Exp;
branches;
next	1.150;
commitid	guiZq8cnNbVyyHzx;

1.150
date	2016.01.24.10.50.25;	author ajacoutot;	state Exp;
branches;
next	1.149;
commitid	xHZ9Fs5tJGVpOUZe;

1.149
date	2016.01.17.17.29.07;	author sthen;	state Exp;
branches;
next	1.148;
commitid	bS2FIbTCCkF3XjOq;

1.148
date	2015.10.07.05.50.25;	author ajacoutot;	state Exp;
branches;
next	1.147;
commitid	cfUqLA2EnNvfaPZH;

1.147
date	2015.04.19.10.22.01;	author ajacoutot;	state Exp;
branches;
next	1.146;
commitid	WBaiiURoAyqxj2x2;

1.146
date	2015.04.04.09.21.00;	author ajacoutot;	state Exp;
branches;
next	1.145;
commitid	kS3kwKZogsvzYmEY;

1.145
date	2015.03.29.12.35.34;	author ajacoutot;	state Exp;
branches;
next	1.144;
commitid	cksJNti7yis3OruM;

1.144
date	2015.03.27.08.43.02;	author ajacoutot;	state Exp;
branches;
next	1.143;
commitid	9SD62DzRZ5qtR5xU;

1.143
date	2014.10.25.14.29.24;	author ajacoutot;	state Exp;
branches;
next	1.142;
commitid	wx3F9zOP4ukl5sqV;

1.142
date	2014.09.30.07.46.36;	author ajacoutot;	state Exp;
branches;
next	1.141;
commitid	q7fDk5Rz38DrXztL;

1.141
date	2014.06.03.11.31.10;	author rpointel;	state Exp;
branches;
next	1.140;
commitid	6MYfT2Ou9qCxFPW4;

1.140
date	2014.05.25.09.02.09;	author ajacoutot;	state Exp;
branches;
next	1.139;

1.139
date	2014.04.02.09.36.09;	author jasper;	state Exp;
branches;
next	1.138;

1.138
date	2014.04.01.18.06.28;	author jasper;	state Exp;
branches;
next	1.137;

1.137
date	2014.04.01.17.03.13;	author jasper;	state Exp;
branches;
next	1.136;

1.136
date	2014.04.01.15.31.45;	author jasper;	state Exp;
branches;
next	1.135;

1.135
date	2014.04.01.13.21.44;	author ajacoutot;	state Exp;
branches;
next	1.134;

1.134
date	2014.04.01.08.08.22;	author ajacoutot;	state Exp;
branches;
next	1.133;

1.133
date	2014.03.28.09.30.34;	author ajacoutot;	state Exp;
branches;
next	1.132;

1.132
date	2014.03.23.13.18.56;	author ajacoutot;	state Exp;
branches;
next	1.131;

1.131
date	2013.10.13.09.27.13;	author ajacoutot;	state Exp;
branches;
next	1.130;

1.130
date	2013.10.06.09.08.50;	author ajacoutot;	state Exp;
branches;
next	1.129;

1.129
date	2013.09.28.08.50.46;	author ajacoutot;	state Exp;
branches;
next	1.128;

1.128
date	2013.09.27.13.40.15;	author ajacoutot;	state Exp;
branches;
next	1.127;

1.127
date	2013.09.24.18.53.27;	author ajacoutot;	state Exp;
branches;
next	1.126;

1.126
date	2013.09.16.08.24.17;	author ajacoutot;	state Exp;
branches;
next	1.125;

1.125
date	2013.09.12.09.12.13;	author ajacoutot;	state Exp;
branches;
next	1.124;

1.124
date	2013.09.05.08.25.26;	author ajacoutot;	state Exp;
branches;
next	1.123;

1.123
date	2013.05.31.15.34.40;	author ajacoutot;	state Exp;
branches;
next	1.122;

1.122
date	2013.04.16.13.17.00;	author ajacoutot;	state Exp;
branches;
next	1.121;

1.121
date	2013.04.16.10.21.58;	author ajacoutot;	state Exp;
branches;
next	1.120;

1.120
date	2013.04.15.13.21.00;	author ajacoutot;	state Exp;
branches;
next	1.119;

1.119
date	2013.04.15.08.42.54;	author ajacoutot;	state Exp;
branches;
next	1.118;

1.118
date	2013.04.13.11.50.11;	author ajacoutot;	state Exp;
branches;
next	1.117;

1.117
date	2013.04.13.08.40.22;	author ajacoutot;	state Exp;
branches;
next	1.116;

1.116
date	2013.04.11.11.08.03;	author ajacoutot;	state Exp;
branches;
next	1.115;

1.115
date	2013.04.11.09.45.03;	author ajacoutot;	state Exp;
branches;
next	1.114;

1.114
date	2013.04.07.14.20.50;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2013.03.31.14.41.00;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2013.03.10.22.55.05;	author espie;	state Exp;
branches;
next	1.111;

1.111
date	2013.01.21.11.00.38;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2013.01.15.14.30.42;	author ajacoutot;	state Exp;
branches;
next	1.109;

1.109
date	2012.10.06.07.33.30;	author ajacoutot;	state Exp;
branches;
next	1.108;

1.108
date	2012.10.05.17.00.51;	author ajacoutot;	state Exp;
branches;
next	1.107;

1.107
date	2012.09.30.14.58.38;	author ajacoutot;	state Exp;
branches;
next	1.106;

1.106
date	2012.09.29.12.20.14;	author ajacoutot;	state Exp;
branches;
next	1.105;

1.105
date	2012.09.10.09.50.21;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2012.09.01.14.36.56;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2012.08.04.14.32.25;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2012.07.13.09.11.22;	author jasper;	state Exp;
branches;
next	1.101;

1.101
date	2012.06.15.08.32.14;	author ajacoutot;	state Exp;
branches;
next	1.100;

1.100
date	2012.06.03.11.12.30;	author ajacoutot;	state Exp;
branches;
next	1.99;

1.99
date	2012.03.12.07.42.11;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2012.02.25.11.24.28;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2012.02.21.11.30.12;	author ajacoutot;	state Exp;
branches;
next	1.96;

1.96
date	2012.01.16.12.10.02;	author ajacoutot;	state Exp;
branches;
next	1.95;

1.95
date	2012.01.04.14.25.40;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2011.12.27.12.21.10;	author ajacoutot;	state Exp;
branches;
next	1.93;

1.93
date	2011.12.21.15.54.53;	author ajacoutot;	state Exp;
branches;
next	1.92;

1.92
date	2011.12.15.10.46.27;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2011.12.03.18.55.28;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2011.11.04.08.42.25;	author jasper;	state Exp;
branches;
next	1.89;

1.89
date	2011.10.17.07.16.58;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2011.10.14.07.19.26;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2011.10.04.15.10.44;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2011.09.28.14.59.39;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2011.09.28.09.51.35;	author jasper;	state Exp;
branches;
next	1.84;

1.84
date	2011.09.25.13.40.42;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2011.09.20.21.04.24;	author jasper;	state Exp;
branches;
next	1.82;

1.82
date	2011.09.20.20.51.51;	author jasper;	state Exp;
branches;
next	1.81;

1.81
date	2011.09.19.07.31.45;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2011.09.17.14.15.32;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2011.09.16.08.26.11;	author espie;	state Exp;
branches;
next	1.78;

1.78
date	2011.09.12.20.00.43;	author jasper;	state Exp;
branches;
next	1.77;

1.77
date	2011.09.12.12.07.24;	author jasper;	state Exp;
branches;
next	1.76;

1.76
date	2011.09.12.07.26.18;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2011.08.30.06.52.57;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2011.06.15.09.33.02;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2011.06.08.17.31.33;	author jasper;	state Exp;
branches;
next	1.72;

1.72
date	2011.06.02.17.09.31;	author kili;	state Exp;
branches;
next	1.71;

1.71
date	2011.05.14.21.29.03;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2011.04.21.07.04.56;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2011.04.07.19.07.24;	author ajacoutot;	state Exp;
branches;
next	1.68;

1.68
date	2011.04.05.16.37.58;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2011.01.07.11.01.36;	author jasper;	state Exp;
branches;
next	1.66;

1.66
date	2010.11.15.00.22.48;	author espie;	state Exp;
branches;
next	1.65;

1.65
date	2010.10.24.15.53.55;	author sthen;	state Exp;
branches;
next	1.64;

1.64
date	2010.10.22.07.33.47;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2010.10.18.21.35.48;	author sthen;	state Exp;
branches;
next	1.62;

1.62
date	2010.10.18.16.52.47;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2010.10.18.13.19.50;	author jasper;	state Exp;
branches;
next	1.60;

1.60
date	2010.10.11.08.11.17;	author jasper;	state Exp;
branches;
next	1.59;

1.59
date	2010.09.29.07.42.59;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2010.09.25.18.13.13;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2010.09.19.14.48.18;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2010.09.03.11.53.24;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2010.08.30.21.36.15;	author fgsch;	state Exp;
branches;
next	1.54;

1.54
date	2010.08.26.12.08.32;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2010.08.22.10.23.34;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2010.04.24.17.14.00;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2010.03.28.10.48.50;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2010.03.26.08.10.45;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2010.03.21.10.10.56;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2009.12.22.15.43.15;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2009.11.29.09.25.27;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2009.11.22.11.18.34;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2009.10.16.00.59.37;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2009.09.28.18.32.02;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2009.09.18.12.11.12;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2009.09.06.10.46.25;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2009.08.23.19.30.21;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2009.08.10.06.29.52;	author kili;	state Exp;
branches;
next	1.39;

1.39
date	2009.07.12.20.05.23;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2009.06.11.18.27.02;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2009.06.08.16.58.15;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2009.06.07.05.30.09;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2009.06.03.19.04.43;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2009.06.02.04.23.22;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2009.05.31.21.27.01;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2009.05.31.21.22.53;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2009.05.31.14.11.36;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2009.04.28.10.26.35;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2009.03.23.15.39.39;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2009.03.20.16.56.34;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.03.19.13.50.28;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2009.03.14.18.32.34;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2009.03.14.11.36.24;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2009.03.14.10.40.51;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.01.30.18.38.53;	author sturm;	state Exp;
branches;
next	1.22;

1.22
date	2009.01.20.23.15.39;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2008.12.19.10.00.28;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2008.06.09.22.59.42;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2008.06.02.14.10.06;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2008.05.14.09.41.56;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2007.12.19.07.31.15;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2007.10.26.15.05.12;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2007.10.24.22.41.36;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2007.09.15.21.26.02;	author simon;	state Exp;
branches;
next	1.13;

1.13
date	2007.06.28.16.30.09;	author martynas;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.19.09.13.54;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2007.04.12.20.24.30;	author sturm;	state Exp;
branches;
next	1.10;

1.10
date	2007.01.13.11.27.56;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2006.12.16.12.22.32;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2006.09.18.11.40.06;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.08.01.16.20.46;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2006.08.01.12.13.28;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2006.06.13.13.17.56;	author bernd;	state Exp;
branches;
next	1.4;

1.4
date	2006.01.19.20.32.58;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2005.11.16.06.39.22;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2005.11.15.12.50.36;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.22.06.17.28;	author marcm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.12.22.06.17.28;	author marcm;	state Exp;
branches;
next	;


desc
@@


1.158
log
@Add a MODPY_PYOEXTENSION variable.
Beginning with Python 3.5 .pyo files are no longer used and
have been replaced by a more flexible scheme that includes
the optimization level explicitly in .pyc name (See PEP-488).
@
text
@# $OpenBSD: Makefile,v 1.157 2016/09/10 09:55:34 ajacoutot Exp $

COMMENT=		integrated music management application for GNOME

GNOME_PROJECT=		rhythmbox
GNOME_VERSION=		3.4.1
REVISION=		0

SHARED_LIBS +=  rhythmbox-core       0.0      # 7.0

CATEGORIES=		audio

MAINTAINER=		Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
			Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv2 with exception clause
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender archive atk-1.0 atk-bridge-2.0
WANTLIB += atspi bz2 c cairo cairo-gobject crypto dbus-1 epoxy
WANTLIB += expat ffi fontconfig freetype gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 girepository-1.0 glib-2.0 gmime-2.6 gmodule-2.0
WANTLIB += gobject-2.0 gpg-error gpod graphite2 grilo-0.3 gstaudio-1.0
WANTLIB += gstbase-1.0 gstcontroller-1.0 gstpbutils-1.0 gstreamer-1.0
WANTLIB += gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 harfbuzz
WANTLIB += iconv intl json-glib-1.0 lz4 lzma lzo2 m notify orc-0.4
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre peas-1.0
WANTLIB += peas-gtk-1.0 pixman-1 plist png pthread pthread-stubs
WANTLIB += soup-2.4 sqlite3 tdb totem-plparser xcb xcb-render
WANTLIB += xcb-shm xml2 z

MODULES=		devel/dconf \
			lang/python \
			x11/gnome

BUILD_DEPENDS=		devel/py-gobject3${MODPY_FLAVOR}
RUN_DEPENDS=		devel/py-gobject3${MODPY_FLAVOR}

# needed for the tests
BUILD_DEPENDS +=	devel/check

LIB_DEPENDS=		audio/libgpod \
			databases/tdb \
			devel/json-glib \
			devel/libnotify \
			devel/libpeas \
			multimedia/gstreamer1/plugins-base \
			x11/gnome/grilo \
			x11/gnome/totem-pl-parser

# context plugin
RUN_DEPENDS +=		www/py-mako${MODPY_FLAVOR}

# calls grl_registry_load...plugin
RUN_DEPENDS +=		x11/gnome/grilo-plugins>=0.3.0

# needed for flac support
RUN_DEPENDS +=		multimedia/gstreamer1/plugins-good

# needed for mp3 support
RUN_DEPENDS +=		multimedia/gstreamer1/plugins-libav

MODGNOME_TOOLS += desktop-file-utils gobject-introspection gtk-update-icon-cache
MODGNOME_TOOLS += vala yelp

MODGNOME_LDFLAGS=	-L${X11BASE}/lib
MODGNOME_CPPFLAGS=	-I${X11BASE}/include
MODPY_VERSION=		${MODPY_DEFAULT_VERSION_3}

CONFIGURE_STYLE= 	gnu
CONFIGURE_ARGS=		--without-brasero \
			--without-hal \
			--without-gudev \
			--disable-fm-radio \
			--disable-lirc

# XXX requires libdmapsharing
CONFIGURE_ARGS +=	--disable-daap

# XXX requires hal|udev|gvfs-mtp
CONFIGURE_ARGS +=	--without-mtp

# XXX requires libmx
CONFIGURE_ARGS +=	--disable-visualizer

# WRKBUILD/tests
TEST_IS_INTERACTIVE=	x11

post-install:
	rm ${PREFIX}/lib/rhythmbox/{,sample-}plugins/*/*.la
	rm ${PREFIX}/lib/rhythmbox/sample-plugins/*/*.a
	rm ${PREFIX}/lib/mozilla/plugins/*.{a,la}
	# XXX hangs: check at next rhythmbox update
	rm -rf ${PREFIX}/{lib,share}/rhythmbox/plugins/replaygain

.include <bsd.port.mk>
@


1.157
log
@Update to rhythmbox-3.4.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.156 2016/08/20 13:38:52 ajacoutot Exp $
d7 1
@


1.156
log
@Update to rhythmbox-3.4.
- drop the gettext MODULE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2016/07/09 08:46:24 sthen Exp $
d6 1
a6 1
GNOME_VERSION=		3.4
@


1.155
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2016/04/28 11:13:15 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		3.3.1
REVISION=		2
d18 7
a24 8
WANTLIB += EGL GL ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm archive
WANTLIB += atk-1.0 atk-bridge-2.0 atspi bz2 c cairo cairo-gobject
WANTLIB += dbus-1 drm enchant epoxy estdc++ expat ffi fontconfig
WANTLIB += freetype gbm gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0
WANTLIB += glapi glib-2.0 gmime-2.6 gmodule-2.0 gobject-2.0 gpg-error
WANTLIB += gpod graphite2 grilo-0.3 gstapp-1.0 gstaudio-1.0 gstbase-1.0
WANTLIB += gstcontroller-1.0 gstfft-1.0 gstpbutils-1.0 gstreamer-1.0
d26 5
a30 7
WANTLIB += harfbuzz-icu hyphen icudata icui18n icuuc javascriptcoregtk-4.0
WANTLIB += jpeg json-glib-1.0 lzma lzo2 m notify orc-0.4 pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre peas-1.0 peas-gtk-1.0
WANTLIB += pixman-1 plist png pthread pthread-stubs secret-1 soup-2.4
WANTLIB += sqlite3 stdc++ tdb totem-plparser webkit2gtk-4.0 webp
WANTLIB += xcb xcb-dri2 xcb-glx xcb-render xcb-shape xcb-shm xcb-xfixes
WANTLIB += xml2 xslt z crypto lz4
a32 1
			devel/gettext \
d47 2
a48 2
			www/webkitgtk4 \
			x11/gnome/grilo>=0.3.0 \
@


1.154
log
@zeitgeist is going away, so drop support for it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2016/04/25 15:52:14 jasper Exp $
d7 1
a7 1
REVISION=		1
d34 1
a34 1
WANTLIB += xml2 xslt z
@


1.153
log
@apply patch from RH, via upstream bugzilla to unbreak with rygel 0.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2016/04/03 09:39:57 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
a60 3

# rbzeitgeist plugin
RUN_DEPENDS +=		productivity/zeitgeist
@


1.152
log
@Update to rhythmbox-3.3.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2016/03/20 16:12:22 naddy Exp $
d7 1
d25 1
a25 1
WANTLIB += gpod graphite2 grilo-0.2 gstapp-1.0 gstaudio-1.0 gstbase-1.0
d53 1
a53 1
			x11/gnome/grilo \
d60 1
a60 1
RUN_DEPENDS +=		x11/gnome/grilo-plugins
@


1.151
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.150 2016/01/24 10:50:25 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		3.3
d18 16
a33 17
WANTLIB += EGL GL ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xt archive atk-1.0 atk-bridge-2.0
WANTLIB += atspi bz2 c cairo cairo-gobject dbus-1 enchant epoxy
WANTLIB += expat ffi fontconfig freetype gbm gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 girepository-1.0 glib-2.0 gmime-2.6 gmodule-2.0
WANTLIB += gobject-2.0 gpg-error gpod graphite2 grilo-0.2 gstapp-1.0
WANTLIB += gstaudio-1.0 gstbase-1.0 gstcontroller-1.0 gstfft-1.0
WANTLIB += gstpbutils-1.0 gstreamer-1.0 gsttag-1.0 gstvideo-1.0
WANTLIB += gthread-2.0 gtk-3 harfbuzz harfbuzz-icu icudata icui18n
WANTLIB += icuuc javascriptcoregtk-3.0 jpeg json-glib-1.0 lzma
WANTLIB += m notify orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre peas-1.0 peas-gtk-1.0 pixman-1 plist png pthread
WANTLIB += pthread-stubs secret-1 soup-2.4 sqlite3 stdc++ tdb
WANTLIB += totem-plparser webkitgtk-3.0 webp xcb xcb-render xcb-shm
WANTLIB += xml2 xslt z lzo2
WANTLIB += X11-xcb Xxf86vm drm glapi xcb-dri2 xcb-glx xcb-shape
WANTLIB += xcb-xfixes
d51 1
a51 1
			www/webkit,gtk3 \
d100 1
a100 1
	# XXX hangs: check at next upgrade of rhythmbox
@


1.150
log
@Update to rhythmbox-3.3.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.149 2016/01/17 17:29:07 sthen Exp $

SHARED_ONLY=		Yes
@


1.149
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.148 2015/10/07 05:50:25 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.2.1
REVISION=		1
d90 1
a90 1
# XXX requires hal|udev
@


1.148
log
@Bring consistency in GStreamer dependencies:
- remove most dependencies on plugins-bad and plugins-ugly; there is no reason
on depend on these because they should only provide support for rare and/or
rarely used codecs
- for standard how-of-the-box support for most modern files, always depend on
plugins-good and plugins-ffmpeg|libav.

gstreamer1 parts from Brad, gstreamer-0.10 parts from me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2015/04/19 10:22:01 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d36 2
@


1.147
log
@Update to rhythmbox-3.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2015/04/04 09:21:00 ajacoutot Exp $
d9 1
d70 1
a70 1
RUN_DEPENDS +=		multimedia/gstreamer1/plugins-ugly
@


1.146
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2015/03/29 12:35:34 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.2
REVISION=		0
d34 1
a34 1
WANTLIB += xml2 xslt z
@


1.145
log
@Update to rhythmbox-3.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2015/03/27 08:43:02 ajacoutot Exp $
d9 1
@


1.144
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2014/10/25 14:29:24 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.1
REVISION=		1
d22 9
a30 9
WANTLIB += atspi bz2 c cairo cairo-gobject dbus-1
WANTLIB += enchant expat ffi fontconfig freetype gbm gcrypt gdk-3
WANTLIB += gdk_pixbuf-2.0 gio-2.0 girepository-1.0 glib-2.0
WANTLIB += gmime-2.6 gmodule-2.0 gobject-2.0 gpg-error gpod graphite2
WANTLIB += grilo-0.2 gstapp-1.0 gstaudio-1.0 gstbase-1.0 gstcontroller-1.0
WANTLIB += gstfft-1.0 gstpbutils-1.0 gstreamer-1.0 gsttag-1.0
WANTLIB += gstvideo-1.0 gthread-2.0 gtk-3 harfbuzz harfbuzz-icu
WANTLIB += icudata icui18n icuuc javascriptcoregtk-3.0 jpeg json-glib-1.0
WANTLIB += lzma m notify orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0
@


1.143
log
@Regen WANTLIB to unbreak after recent webkit update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2014/09/30 07:46:36 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
@


1.142
log
@Update to rhythmbox-3.1; this version is needed by an upcoming gtk+3 update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2014/06/03 11:31:10 rpointel Exp $
d9 1
d23 1
a23 1
WANTLIB += atspi bz2 c cairo cairo-gobject dbus-1 dbus-glib-1
d25 1
a25 1
WANTLIB += gdk_pixbuf-2.0 geoclue gio-2.0 girepository-1.0 glib-2.0
@


1.141
log
@changed python3 default version so bump revision.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2014/05/25 09:02:09 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.0.3
REVISION =	0
d23 1
a23 1
WANTLIB += enchant expat ffi fontconfig freetype gcrypt gdk-3
@


1.140
log
@Update to rhythmbox-3.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2014/04/02 09:36:09 jasper Exp $
d9 1
@


1.139
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2014/04/01 18:06:28 jasper Exp $
d8 1
a8 2
GNOME_VERSION=		3.0.2
REVISION=		1
d32 3
a34 3
WANTLIB += pthread-stubs secret-1 soup-2.4 sqlite3
WANTLIB += stdc++ tdb totem-plparser webkitgtk-3.0 webp xcb xcb-render
WANTLIB += xcb-shm xml2 xslt z
@


1.138
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2014/04/01 17:03:13 jasper Exp $
d72 1
a72 1
MODGNOME_TOOLS += desktop-file-utils gtk-update-icon-cache gobject-introspection
@


1.137
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2014/04/01 15:31:45 jasper Exp $
d72 3
a74 3
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS +=	gtk-update-icon-cache
MODGNOME_TOOLS= 	gobject-introspection vala yelp
@


1.136
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2014/04/01 13:21:44 ajacoutot Exp $
d72 2
a73 2
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
@


1.135
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 2/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2014/04/01 08:08:22 ajacoutot Exp $
d74 1
a74 1
MODGNOME_TOOLS= 	gi vala yelp
@


1.134
log
@Re-instate cdda; non functional but stop hiding things so that we can start
to work on them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2014/03/28 09:30:34 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
a78 2
LIBTOOL_FLAGS=		--tag=disable-static

d80 1
a80 2
CONFIGURE_ARGS=		--disable-static \
			--without-brasero \
d100 2
a101 1
	rm ${PREFIX}/lib/mozilla/plugins/*.la
@


1.133
log
@Consistency in the x11/gnome/grilo-plugins dependency and add where missing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2014/03/23 13:18:56 ajacoutot Exp $
d9 1
a105 2
	# requires cdda support in gvfs -> HAL/gudev
	rm -rf ${PREFIX}/{lib,share}/rhythmbox/plugins/audiocd
@


1.132
log
@Update to rhythmbox-3.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2013/10/13 09:27:13 ajacoutot Exp $
d59 1
a59 1
# grilo plugin
@


1.131
log
@Update to rhythmbox-3.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2013/10/06 09:08:50 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=		3.0.1
d32 1
a32 1
WANTLIB += pthread-stubs secret-1 soup-2.4 soup-gnome-2.4 sqlite3
@


1.130
log
@Regen WANTLIB after orc got put back into gstreamer1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2013/09/28 08:50:46 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		3.0
REVISION=		5
d23 12
a34 12
WANTLIB += enchant expat ffi fontconfig freetype gailutil-3 gcrypt
WANTLIB += gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0 girepository-1.0
WANTLIB += glib-2.0 gmime-2.6 gmodule-2.0 gobject-2.0 gpg-error
WANTLIB += gpod graphite2 grilo-0.2 gstapp-1.0 gstaudio-1.0 gstbase-1.0
WANTLIB += gstcontroller-1.0 gstfft-1.0 gstpbutils-1.0 gstreamer-1.0
WANTLIB += gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 harfbuzz
WANTLIB += harfbuzz-icu icudata icui18n icuuc javascriptcoregtk-3.0
WANTLIB += jpeg json-glib-1.0 lzma m notify pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre peas-1.0 peas-gtk-1.0 pixman-1 plist
WANTLIB += png pthread pthread-stubs secret-1 soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 stdc++ tdb totem-plparser webkitgtk-3.0 webp
WANTLIB += xcb xcb-render xcb-shm xml2 xslt z orc-0.4
@


1.129
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2013/09/27 13:40:15 ajacoutot Exp $
d9 1
a9 1
REVISION=		4
d35 1
a35 1
WANTLIB += xcb xcb-render xcb-shm xml2 xslt z
@


1.128
log
@Regen WANTLIB to unbreak.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2013/09/24 18:53:27 ajacoutot Exp $
d9 1
a9 1
REVISION=		3
a13 2

HOMEPAGE=		http://projects.gnome.org/rhythmbox/
@


1.127
log
@Fix WANTLIB after recent gstreamer1 update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2013/09/16 08:24:17 ajacoutot Exp $
d9 1
a9 1
REVISION=		2
d25 3
a27 3
WANTLIB += atspi bz2 c cairo cairo-gobject crypto curl dbus-1
WANTLIB += dbus-glib-1 enchant expat ffi fontconfig freetype gailutil-3
WANTLIB += gcrypt gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0 girepository-1.0
d32 6
a37 7
WANTLIB += harfbuzz-icu icudata icui18n icuuc idn javascriptcoregtk-3.0
WANTLIB += jpeg json-glib-1.0 lua5.1 lzma m notify pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre peas-1.0 peas-gtk-1.0
WANTLIB += pixman-1 plist png pthread pthread-stubs quvi secret-1
WANTLIB += soup-2.4 soup-gnome-2.4 sqlite3 ssl stdc++ tdb totem-plparser
WANTLIB += webkitgtk-3.0 webp xcb xcb-render xcb-shm xml2 xslt
WANTLIB += z
@


1.126
log
@metadata: GDBusServer new-connection signal needs a return value (upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2013/09/12 09:12:13 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d33 1
a33 1
WANTLIB += jpeg json-glib-1.0 lua5.1 lzma m notify orc-0.4 pango-1.0
@


1.125
log
@Make the rbzeitgeist plugins closer to py3 support -- note that this
plugin is non-functionnal yet since rhythmbox switched to py3 but zeitgeist
is still py2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2013/09/05 08:25:26 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d23 1
a23 1
WANTLIB += GL ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes
d66 3
d71 1
@


1.124
log
@Update to rhythmbox-3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2013/05/31 15:34:40 ajacoutot Exp $
d9 1
@


1.123
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2013/04/16 13:17:00 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		2.99.1
REVISION=		4
d31 1
a31 1
WANTLIB += icui18n idn javascriptcoregtk-3.0
d44 2
a45 2
BUILD_DEPENDS=		devel/py-gobject3
RUN_DEPENDS=		devel/py-gobject3
d55 1
a55 1
			www/webkit,gtk3>=2.0.0 \
d60 1
a60 1
RUN_DEPENDS +=		www/py-mako
d75 1
@


1.122
log
@goi -> gi (gnome MODULE change).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2013/04/16 10:21:58 ajacoutot Exp $
d9 1
a9 1
REVISION=		3
d32 1
a32 1
WANTLIB += icudata icui18n icule icuuc idn javascriptcoregtk-3.0
@


1.121
log
@Bump after py-gobject3 change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2013/04/15 13:21:00 ajacoutot Exp $
d73 1
a73 1
MODGNOME_TOOLS= 	goi vala yelp
@


1.120
log
@Missing RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2013/04/15 08:42:54 ajacoutot Exp $
d9 1
a9 1
REVISION=		2
@


1.119
log
@Add a fix to properly load the im-status plugin.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2013/04/13 11:50:11 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d46 1
@


1.118
log
@Re-enable WebKit support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2013/04/13 08:40:22 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
@


1.117
log
@Update to rhythmbox-2.99.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2013/04/11 11:08:03 ajacoutot Exp $
d9 1
d23 2
a24 2
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender archive atk-1.0 atk-bridge-2.0
d26 5
a30 4
WANTLIB += expat ffi fontconfig freetype gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 girepository-1.0 glib-2.0 gmime-2.6 gmodule-2.0
WANTLIB += gobject-2.0 gpg-error gpod graphite2 grilo-0.2 gstaudio-1.0
WANTLIB += gstbase-1.0 gstcontroller-1.0 gstpbutils-1.0 gstreamer-1.0
d32 6
a37 5
WANTLIB += icudata icule icuuc idn json-glib-1.0 lua5.1 lzma m
WANTLIB += notify orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre peas-1.0 peas-gtk-1.0 pixman-1 plist png pthread
WANTLIB += pthread-stubs quvi soup-2.4 soup-gnome-2.4 sqlite3
WANTLIB += ssl tdb totem-plparser xcb xcb-render xcb-shm xml2
d55 1
a55 1
			multimedia/gstreamer1/plugins-base \
a84 3

# XXX re-enable when webkit links to gstreamer-1.0
CONFIGURE_ARGS +=	--without-webkit
@


1.116
log
@Disable webkit support; our antique webkit port links to gstreamer-0.10
but rhythmbox uses and links to to gstreamer-1.0 so we end up with
symbol clashings and eventually a crash :-(
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2013/04/11 09:45:03 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		2.99
REVISION=		0
d103 2
@


1.115
log
@Remove uneeded BUILD_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2013/04/07 14:20:50 ajacoutot Exp $
d9 1
d23 2
a24 2
WANTLIB += GL ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xt archive atk-1.0 atk-bridge-2.0
d26 11
a36 14
WANTLIB += dbus-glib-1 enchant expat ffi fontconfig freetype gailutil-3
WANTLIB += gcrypt gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0 girepository-1.0
WANTLIB += glib-2.0 gmime-2.6 gmodule-2.0 gobject-2.0 gpg-error
WANTLIB += gpod graphite2 grilo-0.2 gstapp-0.10 gstaudio-0.10
WANTLIB += gstaudio-1.0 gstbase-0.10 gstbase-1.0 gstcontroller-1.0
WANTLIB += gstfft-0.10 gstinterfaces-0.10 gstpbutils-0.10 gstpbutils-1.0
WANTLIB += gstreamer-0.10 gstreamer-1.0 gsttag-1.0 gstvideo-0.10
WANTLIB += gstvideo-1.0 gthread-2.0 gtk-3 harfbuzz icudata icui18n
WANTLIB += icule icuuc idn javascriptcoregtk-3.0 jpeg json-glib-1.0
WANTLIB += lua5.1 lzma m notify orc-0.4 pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre peas-1.0 peas-gtk-1.0 pixman-1 plist
WANTLIB += png pthread pthread-stubs quvi soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 ssl stdc++ tdb totem-plparser webkitgtk-3.0
WANTLIB += xcb xcb-render xcb-shm xml2 xslt z
a53 1
			www/webkit,gtk3 \
d83 3
@


1.114
log
@Update to rhythmbox-2.99.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2013/03/31 14:41:00 ajacoutot Exp $
d45 1
a45 2
BUILD_DEPENDS=		audio/libmusicbrainz \
			devel/py-gobject3
@


1.113
log
@Regen WANTLIB to unbreak.

reported by sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2013/03/10 22:55:05 espie Exp $
d8 1
a8 2
GNOME_VERSION=		2.98
REVISION=		4
d10 1
a10 1
SHARED_LIBS +=  rhythmbox-core       0.0      # .0.0
d22 13
a34 9
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender archive
WANTLIB += atk-1.0 bz2 c cairo cairo-gobject dbus-1 expat
WANTLIB += ffi fontconfig freetype gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 girepository-1.0 glib-2.0 gmime-2.6 gmodule-2.0
WANTLIB += gobject-2.0 gpg-error gpod graphite2
WANTLIB += gstbase-0.10 gstcontroller-0.10 gstinterfaces-0.10
WANTLIB += gstpbutils-0.10 gstreamer-0.10 gsttag-0.10 gthread-2.0
WANTLIB += gtk-3 json-glib-1.0 lzma m notify pango-1.0 pangocairo-1.0
d36 3
a38 4
WANTLIB += png pthread pthread-stubs soup-2.4 soup-gnome-2.4 sqlite3
WANTLIB += tdb totem-plparser xcb xcb-render xcb-shm xml2
WANTLIB += z crypto curl idn lua5.1 quvi ssl icuuc
WANTLIB += atk-bridge-2.0 atspi grilo-0.2 harfbuzz icudata icule
d40 2
a41 2
MODULES=		devel/gettext \
			x11/gnome \
d43 1
a43 1
			devel/dconf
d54 1
a54 1
			devel/libnotify>=0.7.2 \
d56 2
a57 1
			multimedia/gstreamer-0.10/plugins-base \
d61 2
a62 5
RUN_DEPENDS=		audio/libmusicbrainz \
			devel/py-gobject3 \
			multimedia/gstreamer-0.10/py-gstreamer \
			www/py-mako \
			x11/dbus-python
d64 5
a68 2
# needed for sndio(7) support
RUN_DEPENDS +=		multimedia/gstreamer-0.10/plugins-good
d70 1
a70 1
RUN_DEPENDS +=		multimedia/gstreamer-0.10/plugins-ugly
a84 1
			--without-webkit \
d89 1
a89 1
CONFIGURE_ARGS +=	--disable-daap --without-mdns
d94 1
a94 1
# XXX requires new clutter-{x11,gst,gtk} and libmx
a96 4
# XXX plugins subpackage?
CONFIGURE_ARGS +=	--disable-browser-plugin
CONFIGURE_ENV +=	MOZILLA_PLUGINDIR=${PREFIX}/lib/mozilla-plugins

d102 2
a103 1
	# XXX segfault: check at next upgrade of rhythmbox
@


1.112
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2013/01/21 11:00:38 ajacoutot Exp $
d9 1
a9 1
REVISION=		3
d23 1
a23 1
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
d28 1
a28 1
WANTLIB += gnome-keyring gobject-2.0 gpg-error gpod
@


1.111
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2013/01/15 14:30:42 ajacoutot Exp $
a21 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d100 1
a100 1
REGRESS_IS_INTERACTIVE=	x11
@


1.110
log
@Remove the replaygain plugin for the time being. It makes rhythmbox
sefgault.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2012/10/06 07:33:30 ajacoutot Exp $
d9 1
a9 1
REVISION=		2
d27 2
a28 2
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm archive
WANTLIB += atk-1.0 bz2 c cairo cairo-gobject dbus-1 drm expat
d37 1
a37 1
WANTLIB += stdc++ tdb totem-plparser xcb xcb-render xcb-shm xml2
@


1.109
log
@Missing LIB_DEPENDS after webkit lost some of its bloat.

spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2012/10/05 17:00:51 ajacoutot Exp $
d9 1
a9 1
REVISION=		1
d107 2
@


1.108
log
@depend on multimedia/gstreamer-0.10/plugins-ugly for mp3 support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2012/09/30 14:58:38 ajacoutot Exp $
d9 1
a9 1
REVISION=		0
d57 1
@


1.107
log
@Update to rhythmbox-2.98.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2012/09/29 12:20:14 ajacoutot Exp $
d9 1
d67 3
a69 1
RUN_DEPENDS+=		multimedia/gstreamer-0.10/plugins-good
@


1.106
log
@Unbreak after recent grilo update.
Enable the zeitgeist plugin.
@@comment -> post-install rm
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.105 2012/09/10 09:50:21 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=		2.97
REVISION=		4
a45 1
			devel/gobject-introspection \
d70 1
a70 2
MODGNOME_TOOLS= 	yelp

d74 2
d77 2
a78 1
CONFIGURE_ARGS=		--without-brasero \
a84 3
# Don't compile the vala (useless) sample plugin.
CONFIGURE_ARGS +=	--disable-vala

d102 1
a102 1
	rm ${PREFIX}/lib/rhythmbox/plugins/*/*.la
@


1.105
log
@Unbreak when avahi is not around; spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2012/09/01 14:36:56 ajacoutot Exp $
d7 1
a7 1
REVISION=		3
d29 1
a29 1
WANTLIB += gnome-keyring gobject-2.0 gpg-error gpod grilo-0.1
d36 2
a37 1
WANTLIB += z crypto curl idn lua5.1 quvi ssl
d59 3
a61 2
RUN_DEPENDS=		multimedia/gstreamer-0.10/py-gstreamer \
			x11/dbus-python \
d63 1
a63 2
			audio/libmusicbrainz \
			devel/py-gobject3
d76 1
a76 6
CONFIGURE_ARGS=		--with-database=tree \
			--with-gnome-keyring \
			--with-ipod \
			--with-x \
			--enable-python \
			--without-brasero \
a87 1
#CONFIGURE_ARGS	+=	--with-mdns=avahi
d103 1
a103 2
# needs ZeitgeistClient
	find ${PREFIX} -type d -name rbzeitgeist | xargs -r rm -rf
@


1.104
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2012/08/04 14:32:25 ajacoutot Exp $
d7 1
a7 1
REVISION=		2
a77 1
			--with-mdns=avahi \
d91 2
a92 1
CONFIGURE_ARGS +=	--disable-daap
@


1.103
log
@Add BUILD_DEPENDS on devel/check which is needed to build the tests.
spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2012/07/13 09:11:22 jasper Exp $
d7 1
a7 1
REVISION=		1
@


1.102
log
@fix wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2012/06/15 08:32:14 ajacoutot Exp $
d46 3
@


1.101
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2012/06/03 11:12:30 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
d36 1
a36 1
WANTLIB += z crypto curl idn lua quvi ssl
@


1.100
log
@Update to rhythmbox-2.97.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2012/03/12 07:42:11 ajacoutot Exp $
d7 1
@


1.99
log
@Update to rhythmbox-2.96.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2012/02/25 11:24:28 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.96
d35 1
a35 1
WANTLIB += z
d43 1
d65 1
a65 1
MODGNOME_TOOLS= 	goi yelp
@


1.98
log
@Enable support for the grilo plugin.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2012/02/21 11:30:12 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.95
REVISION=		1
a79 1
			--disable-daap \
d86 3
a102 2
# needs gnome-keyring python bindings (used to be in py-gnome-desktop)
	find ${PREFIX} -type d -name magnatune | xargs -r rm -rf
@


1.97
log
@Sync WANTLIB after gmime update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2012/01/16 12:10:02 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
d26 2
a27 2
WANTLIB += atk-1.0 bz2 c cairo cairo-gobject dbus-1 drm
WANTLIB += expat ffi fontconfig freetype gcrypt gdk-3 gdk_pixbuf-2.0
d29 1
a29 1
WANTLIB += gnome-keyring gobject-2.0 gpg-error gpod
d31 6
a36 6
WANTLIB += gstpbutils-0.10 gstreamer-0.10 gsttag-0.10
WANTLIB += gthread-2.0 gtk-3 json-glib-1.0 lzma m notify pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre peas-1.0 peas-gtk-1.0
WANTLIB += pixman-1 plist png pthread pthread-stubs soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 stdc++ tdb totem-plparser xcb xcb-render xcb-shm
WANTLIB += xml2 z
d46 2
a47 2
LIB_DEPENDS=		devel/libpeas \
			audio/libgpod \
d50 3
a52 2
			x11/gnome/totem-pl-parser \
			databases/tdb
@


1.96
log
@Update to rhythmbox-2.95.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2012/01/04 14:25:40 ajacoutot Exp $
d7 1
d26 1
a26 1
WANTLIB += assuan atk-1.0 bz2 c cairo cairo-gobject dbus-1 drm
d29 1
a29 1
WANTLIB += gnome-keyring gobject-2.0 gpg-error gpgme-pthread gpod
d31 1
a31 1
WANTLIB += gstpbutils-0.10 gstreamer-0.10 gsttag-0.10 gstvideo-0.10
@


1.95
log
@Update to a newer snap to prevent rhythmbox from crashing
notication-daemon.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2011/12/27 12:21:10 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.90.1.7
a64 1
CONFIGURE_STYLE= 	gnu
d67 2
d86 1
a86 1
# XXX requires libmtp >= 0.3
a103 24

### XXX remove this chunk when updating to a 'real' release ############
### Also convert to new gnome.port.mk CONFIGURE_ARGS ############
# Tue Dec 27 13:07:07 CET 2011
MASTER_SITES=		http://distfiles.bsdfrog.org/

BUILD_DEPENDS +=	x11/gnome/common \
			devel/autoconf/${AUTOCONF_VERSION} \
			devel/automake/${AUTOMAKE_VERSION} \
			textproc/gtk-doc \
			devel/libtool

AUTOCONF_VERSION=	2.65
AUTOMAKE_VERSION=	1.11
CONFIGURE_STYLE=	gnu

do-configure:
	@@cd ${WRKSRC} && \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		env ${CONFIGURE_ENV} \
		./autogen.sh ${CONFIGURE_ARGS} --disable-maintainer-mode \
			--disable-silent-rules --disable-uninstalled-build
### end XXX ############################################################
@


1.94
log
@Update to a newer git snapshot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2011/12/21 15:54:53 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.90.1.6
@


1.93
log
@Update to a newer git snapshot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2011/12/15 10:46:27 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.90.1.5
d106 1
a106 1
# Wed Dec 21 16:03:28 CET 2011
a107 1
EXTRACT_SUFX=		.tar.gz
@


1.92
log
@Pass --disable-uninstalled-build to CONFIGURE_ARGS to prevent rhythmbox from
trying to load the desktop file from the build directory.
Cluestick from jmatthew@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2011/12/03 18:55:28 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.90.1.4
REVISION=		3
d25 2
a26 2
WANTLIB += assuan atk-1.0 bz2 c cairo cairo-gobject dbus-1
WANTLIB += drm expat ffi fontconfig freetype gcrypt gdk-3 gdk_pixbuf-2.0
d33 3
a35 3
WANTLIB += pixman-1 png pthread pthread-stubs soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 totem-plparser xcb xcb-render xcb-shm xml2
WANTLIB += z stdc++
d49 2
a50 1
			x11/gnome/totem-pl-parser
d106 1
a106 1
# Wed Sep 28 16:26:51 CEST 2011
@


1.91
log
@Depends on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2011/11/04 08:42:25 jasper Exp $
d7 1
a7 1
REVISION=		2
d126 1
a126 1
			--disable-silent-rules
@


1.90
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2011/10/17 07:16:58 ajacoutot Exp $
d7 1
a7 1
REVISION=		1
d62 1
@


1.89
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2011/10/14 07:19:26 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
d36 1
a36 1
WANTLIB += z
@


1.88
log
@Update to a new git snapshot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2011/10/04 15:10:44 ajacoutot Exp $
d7 1
d32 1
a32 1
WANTLIB += gthread-2.0 gtk-3 json-glib-1.0 kvm lzma m notify pango-1.0
@


1.87
log
@Unbreak by passing proper CONFIGURE_ENV. Also install man pages in the
standard location.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2011/09/28 14:59:39 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.90.1.3
REVISION=		0
d25 1
a25 1
WANTLIB += assuan atk-1.0 bz2 c cairo cairo-gobject dbus-1 dbus-glib-1
d64 2
a65 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"
@


1.86
log
@Update to a new snapshot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2011/09/28 09:51:35 jasper Exp $
d7 1
d117 1
a117 1
CONFIGURE_STYLE=	none
d123 1
@


1.85
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2011/09/25 13:40:42 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.90.1.2
REVISION=		0
d31 1
a31 1
WANTLIB += gthread-2.0 gtk-3 json-glib-1.0 lzma m notify pango-1.0
d35 1
a35 1
WANTLIB += z kvm
d42 2
a43 1
BUILD_DEPENDS=		audio/libmusicbrainz
d54 2
a55 1
			audio/libmusicbrainz
d60 1
a60 1
MODGNOME_DESKTOP_FILE=		Yes
d104 1
a104 1
# Sat Sep 17 15:51:41 CEST 2011
d106 1
@


1.84
log
@Enable media keys support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2011/09/20 21:04:24 jasper Exp $
d102 1
@


1.83
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2011/09/20 20:51:51 jasper Exp $
d7 1
d36 1
a36 1
WANTLIB += z
a84 3
# XXX requires media-keys support (i.e. pulseaudio) in gnome-settings-daemon
CONFIGURE_ARGS +=	--disable-mmkeys

a95 2
# needs media-keys support in G-S-D
	find ${PREFIX} -type d -name mmkeys | xargs -r rm -rf
@


1.82
log
@switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2011/09/19 07:31:45 ajacoutot Exp $
d64 1
a64 2
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--with-database=tree \
@


1.81
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2011/09/17 14:15:32 ajacoutot Exp $
d42 1
a42 2
BUILD_DEPENDS=		devel/gobject-introspection \
			audio/libmusicbrainz
d59 1
a59 1
MODGNOME_HELP_FILES=	Yes
@


1.80
log
@Update to a new snapshot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2011/09/16 08:26:11 espie Exp $
d59 1
a59 1
DESKTOP_FILES=		Yes
@


1.79
log
@normalize pkgpath in bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2011/09/12 20:00:43 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		2.90.1.1
REVISION =		0
d108 1
a109 2

WRKDIST=		${WRKDIR}/rhythmbox
@


1.78
log
@- adjust comment after py-gnome-desktop removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2011/09/12 12:07:24 jasper Exp $
d7 1
@


1.77
log
@switch the rest of the ports using gnome.port.mk over to .tar.xz where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2011/09/12 07:26:18 ajacoutot Exp $
d102 1
a102 1
# needs gnome-keyring python bindings (py-gnome-desktop)
@


1.76
log
@Start the GNOME3 merge armageddon... breakage expected.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/08/31 10:30:51 ajacoutot Exp $
a6 2

EXTRACT_SUFX=		.tar.xz
@


1.75
log
@Fix WANTLIB after gmime/gpgme update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2011/06/15 09:33:02 ajacoutot Exp $
d3 1
a3 4
# coherence plugin is installed but not activated by default so we don't
# enforce dependency on multimedia/coherence to lower requirements

COMMENT=		music management application for GNOME
d6 1
a6 1
GNOME_VERSION=		0.12.8
d8 1
a8 1
REVISION =		15
d25 13
a37 13
WANTLIB += GL ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm
WANTLIB += atk-1.0 avahi-client avahi-common avahi-glib c cairo
WANTLIB += dbus-1 dbus-glib-1 drm expat ffi fontconfig freetype
WANTLIB += gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmime-2.6 gmodule-2.0 gnome-keyring gnome-media-profiles
WANTLIB += gobject-2.0 gpg-error gpod gstbase-0.10 gstcontroller-0.10
WANTLIB += gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10
WANTLIB += gthread-2.0 gtk-x11-2.0 m notify pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += soup-2.4 soup-gnome-2.4 sqlite3 totem-plparser
WANTLIB += util xcb xcb-render xcb-shm xml2 z assuan gpgme-pthread
WANTLIB += ${MODPY_WANTLIB} archive bz2 lzma
d42 4
a45 1
			devel/gconf2
d47 3
a49 2
BUILD_DEPENDS=		multimedia/gstreamer-0.10/py-gstreamer
LIB_DEPENDS=		${MODPY_LIB_DEPENDS} \
d51 8
a58 13
			x11/gnome/media \
			x11/gnome/totem-pl-parser \
			multimedia/gstreamer-0.10/plugins-base \
			devel/libsoup,-gnome \
			net/avahi \
			audio/libgpod \
			x11/gtk+2
RUN_DEPENDS+=		x11/gnome/icon-theme \
			multimedia/gstreamer-0.10/py-gstreamer

# needed for the magnatune plugin
RUN_DEPENDS+=		x11/gnome/py-gnome-desktop
# needed for sndio
a60 2
REGRESS_DEPENDS=	devel/check

a62 1
MODGCONF2_SCHEMAS_DIR=	rhythmbox
d65 2
d70 1
d74 1
a74 1
			--enable-daap \
d76 3
a78 2
			--without-libbrasero-media \
			--without-libnautilus-burn \
d82 1
a82 1
# XXX needs vala<=0.10, ours is too new
d85 2
a86 1
USE_GROFF =	Yes
d88 2
a89 5
# requires libmtp >= 0.3
CONFIGURE_ARGS+=	--without-mtp

CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"
d91 2
a92 3
# XXX TODO: plugins subpackage
CONFIGURE_ARGS+=	--disable-browser-plugin
CONFIGURE_ENV+=		MOZILLA_PLUGINDIR=${PREFIX}/lib/mozilla-plugins
d94 37
a130 1
REGRESS_IS_INTERACTIVE= x11
@


1.74
log
@Remove useless patches, sync WANTLIB and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2011/06/08 17:31:33 jasper Exp $
d11 1
a11 1
REVISION =		14
d33 1
a33 1
WANTLIB += gmime-2.4 gmodule-2.0 gnome-keyring gnome-media-profiles
d39 1
a39 1
WANTLIB += util xcb xcb-render xcb-shm xml2 z
@


1.73
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2011/06/02 17:09:31 kili Exp $
d11 1
a11 1
REVISION =		13
d40 1
a40 1
WANTLIB += ${MODPY_WANTLIB}
@


1.72
log
@--disable-silent-rules is now added to CONFIGURE_ARGS per default,
if CONFIGURE_STYLE = gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2011/05/14 21:29:03 ajacoutot Exp $
d11 1
a11 1
REVISION =		12
@


1.71
log
@deve/gconf2 is about to loose its dependency on x11/gtk+2 so explicitely
register x11/gtk+2 for ports depending on gconf2 that don't have another
dependency that would bring it.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/04/21 07:04:56 ajacoutot Exp $
a72 1
			--disable-silent-rules \
@


1.70
log
@Fix build/run with new libnotify.

tested in a bulk by landry, thanks!
ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/04/07 19:07:24 ajacoutot Exp $
d11 1
a11 1
REVISION =		11
d55 2
a56 1
			audio/libgpod
@


1.69
log
@Add a comment, no pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/04/05 16:37:58 ajacoutot Exp $
d11 1
a11 1
REVISION =		10
d34 1
a34 1
WANTLIB += gnutls gobject-2.0 gpg-error gpod gstbase-0.10 gstcontroller-0.10
d37 2
a38 2
WANTLIB += pangoft2-1.0 pcre pixman-1 png proxy pthread pthread-stubs
WANTLIB += soup-2.4 soup-gnome-2.4 sqlite3 tasn1 totem-plparser
d49 1
a49 1
			devel/libnotify \
@


1.68
log
@--disable-scrollkeeper is not needed when rarian is in the dependency
chain (scrollkeer is a compatility wrapper that does nothing).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/01/07 11:01:36 jasper Exp $
a81 1
			--disable-vala \
d84 4
@


1.67
log
@- unbreak by regenerating WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2010/11/15 00:22:48 espie Exp $
a78 1
			--disable-scrollkeeper \
@


1.66
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2010/10/24 15:53:55 sthen Exp $
d11 1
a11 1
REVISION =		9
d28 12
a39 11
WANTLIB += ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp ffi
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender atk-1.0 notify c cairo
WANTLIB += dbus-1 dbus-glib-1 expat fontconfig gnutls freetype gcrypt
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 gmime-2.4 glib-2.0
WANTLIB += gmodule-2.0 gnome-keyring avahi-glib gpod gobject-2.0
WANTLIB += gpg-error gstbase-0.10 gstcontroller-0.10 gstinterfaces-0.10
WANTLIB += gstpbutils-0.10 gstreamer-0.10   gthread-2.0 gtk-x11-2.0 m
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png proxy
WANTLIB += pthread pthread-stubs soup-2.4 sqlite3 tasn1 util xcb xml2 z
WANTLIB += eggdbus-1 xcb-render xcb-render-util gnome-media-profiles
WANTLIB += totem-plparser soup-gnome-2.4 avahi-client avahi-common
@


1.65
log
@Add MODPY_WANTLIB, adjust MODPY_LIB_DEPENDS to new-style LIB_DEPENDS,
update all ports to match. Plists don't change -> no bump.
Looks ok to jasper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2010/10/22 07:33:47 ajacoutot Exp $
d46 1
a46 1
BUILD_DEPENDS=		::multimedia/gstreamer-0.10/py-gstreamer
d48 9
a56 9
			::devel/libnotify \
			::x11/gnome/media \
			::x11/gnome/totem-pl-parser \
			::multimedia/gstreamer-0.10/plugins-base \
			::devel/libsoup,-gnome \
			::net/avahi \
			::audio/libgpod
RUN_DEPENDS+=		::x11/gnome/icon-theme \
			::multimedia/gstreamer-0.10/py-gstreamer
d59 1
a59 1
RUN_DEPENDS+=		::x11/gnome/py-gnome-desktop
d61 1
a61 1
RUN_DEPENDS+=		::multimedia/gstreamer-0.10/plugins-good
d63 1
a63 1
REGRESS_DEPENDS=	::devel/check
@


1.64
log
@Better HOMEPAGE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/10/18 21:35:48 sthen Exp $
d39 1
@


1.63
log
@fix a few tabtabUSE_GROFF, problem pointed out by Alexandr Shadchin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/10/18 16:52:47 espie Exp $
d11 1
a11 1
REVISION =		8
d17 1
a17 1
HOMEPAGE=		http://www.rhythmbox.org/
@


1.62
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/10/18 13:19:50 jasper Exp $
d84 1
a84 1
			USE_GROFF =	Yes
@


1.61
log
@- use_x11 is default now from gnome.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/10/11 08:11:17 jasper Exp $
d84 1
@


1.60
log
@- fix WANTLIB after cairo update.

these and upcoming fixes test built by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/09/29 07:42:59 ajacoutot Exp $
a63 1
USE_X11=		Yes
@


1.59
log
@Merge from upstream:
rename 'pause' to avoid conflict with pause(2) (bug #620199)

Needed for the upcoming glib2 update.

thanks to landry@@ for the bulk result
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/09/25 18:13:13 ajacoutot Exp $
d11 1
a11 1
REVISION =		7
d31 1
a31 1
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 gmime-2.4 glib-2.0 glitz
@


1.58
log
@Make rhythmbox start again after recent python 2.6.6 update.
Merged from upstream git.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/09/19 14:48:18 ajacoutot Exp $
d11 1
a11 1
REVISION =		6
@


1.57
log
@Several cleanups:
- add missing run_depends on py-gnome-desktop (needed for the magnatune
plugin)
- remove the audiocd plugin which requires cdda support in gvfs and that
is only possible with either HAL or gudev
- remove the "Scan Removable Media" from the interface, as for the same
reason we disable the audiocd plugin
- enable support for iPod (untested I own no such device)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/09/03 11:53:24 ajacoutot Exp $
d11 1
a11 1
REVISION =		5
@


1.56
log
@sndio gstreamer support is provided in gstreamer-plugins-good, so add it
as a RUN_DEPENDS.
I'm not forcing a dependency on gstreamer-plugins-ugly (needed for e.g.
mp3 support) because it doesn't have a full PERMIT_* = YES.
Users can install it manually if needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/08/30 21:36:15 fgsch Exp $
d11 1
a11 1
REVISION =		4
d28 11
a38 11
WANTLIB += ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender asn1 atk-1.0
WANTLIB += c cairo crypto dbus-1 dbus-glib-1 expat fontconfig
WANTLIB += freetype gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 glitz gmime-2.4 gmodule-2.0 gnome-keyring
WANTLIB += gnutls gobject-2.0 gpg-error gssapi gstbase-0.10 gstcontroller-0.10
WANTLIB += gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10 gsttag-0.10
WANTLIB += gthread-2.0 gtk-x11-2.0 krb5 m neon pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png proxy pthread pthread-stubs
WANTLIB += soup-2.4 sqlite3 ssl tasn1 util xcb xml2 z
WANTLIB += eggdbus-1 xcb-render xcb-render-util
d47 8
a54 9
			musicbrainz3::audio/libmusicbrainz \
			notify::devel/libnotify \
			gnome-media-profiles::x11/gnome/media \
			totem-plparser:totem-pl-parser->=2.28.1:x11/gnome/totem-pl-parser \
			gstcdda-0.10:gstreamer-cdda->=0.10.25:multimedia/gstreamer-0.10/plugins-base,-cdda \
			soup-gnome-2.4.>=1::devel/libsoup,-gnome \
			avahi-client,avahi-common,avahi-glib::net/avahi \
			ffi::devel/libffi
RUN_DEPENDS=		::x11/gnome/icon-theme \
d56 3
a79 2
			--without-mtp \
			--without-ipod \
d85 3
@


1.55
log
@Yet another round of bumps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/08/26 12:08:32 ajacoutot Exp $
d11 1
a11 1
REVISION =		3
d57 3
@


1.54
log
@Remove gstreamer-gnome dependency. It was deprecated in gstreamer 2
releases ago in favor or giosync (gvfs).
While here, remove duplicate --without-all configure args which was also
noticed by Markus Bergkvist.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/08/22 10:23:34 ajacoutot Exp $
d11 1
a11 1
REVISION=		2
@


1.53
log
@Remove MESSAGE. We cannot add the same blurb to each and every GNOME
programs, so we will probably factorise it in a MESSAGE in the gtk+2 pkg.

"yes yes yes" sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/04/24 17:14:00 ajacoutot Exp $
d11 1
a11 1
REVISION=		1
d45 1
a45 2
BUILD_DEPENDS=		:gstreamer-gnome->=0.10.25:multimedia/gstreamer-0.10/plugins-base,-gnome \
			::multimedia/gstreamer-0.10/py-gstreamer
d55 1
a55 2
RUN_DEPENDS=		:gstreamer-plugins-base->=0.10.25:multimedia/gstreamer-0.10/plugins-base,-gnome \
			::x11/gnome/icon-theme \
a76 1
			--without-hal \
@


1.52
log
@WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/03/28 10:48:50 ajacoutot Exp $
d10 2
a11 1
PKGNAME=		${DISTNAME}p0
@


1.51
log
@Update to rhythmbox-0.12.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/03/26 08:10:45 ajacoutot Exp $
d10 1
d31 1
a31 1
WANTLIB += glade-2.0 glib-2.0 glitz gmime-2.4 gmodule-2.0 gnome-keyring
d37 1
@


1.50
log
@Add a small reminder comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/03/21 10:10:56 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=		0.12.7
@


1.49
log
@Update to rhythmbox-0.12.7.
Fix coherence UPnP support; we don't enforce dependency on it, but if it's
installed it can be used.

ok jasper@@
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.48 2009/12/22 15:43:15 ajacoutot Exp $
@


1.48
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2009/11/29 09:25:27 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		0.12.6
PKGNAME=		${DISTNAME}p1
@


1.47
log
@No need for these tweaks, we now have recent versions of gstreamer and
totem-pl-parser.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/11/22 11:18:34 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.46
log
@Update to rhythmbox-0.12.6.
Lots of bugfixes.
Rework dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/10/16 00:59:37 jasper Exp $
d7 1
d24 3
a26 4
WANTLIB += ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender asn1 atk-1.0 bonobo-2 bonobo-activation c cairo
WANTLIB += com_err crypto dbus-1 dbus-glib-1 expat fontconfig
d28 1
a28 1
WANTLIB += glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-keyring
d30 4
a33 5
WANTLIB += gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10 gthread-2.0
WANTLIB += gtk-x11-2.0 krb5 m neon nspr4 nss3 pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 plc4 plds4 png proxy pthread
WANTLIB += pthread-stubs smime3 softokn3 soup-2.4 sqlite3 ssl
WANTLIB += ssl3 tasn1 util xcb xml2 z
d40 1
a40 1
BUILD_DEPENDS=		:gstreamer-gnome->=0.10.19:multimedia/gstreamer-0.10/plugins-base,-gnome \
d46 2
a47 3
			totem-plparser::x11/gnome/totem-pl-parser \
			camel-1.2.>=10,edataserver-1.2::databases/evolution-data-server \
			gstcdda-0.10,gsttag-0.10::multimedia/gstreamer-0.10/plugins-base,-cdda \
d51 1
a51 1
RUN_DEPENDS=		:gstreamer-plugins-base->=0.10.19:multimedia/gstreamer-0.10/plugins-base,-gnome \
@


1.45
log
@unbreak
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/09/28 18:32:02 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		0.12.5
PKGNAME=		${DISTNAME}p1
d17 1
a17 1
# GPLv2
d25 10
a34 12
WANTLIB += Xrender art_lgpl_2 asn1 atk-1.0 avahi-client avahi-common
WANTLIB += avahi-glib bonobo-2 bonobo-activation bonoboui-2 c
WANTLIB += cairo com_err crypto dbus-1 dbus-glib-1 expat fontconfig
WANTLIB += freetype gailutil gcrypt gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2
WANTLIB += gnome-keyring gnomecanvas-2 gnomevfs-2 gnutls gobject-2.0
WANTLIB += gpg-error gssapi gstbase-0.10 gstcontroller-0.10 gstinterfaces-0.10
WANTLIB += gstpbutils-0.10 gstreamer-0.10 gthread-2.0 gtk-x11-2.0
WANTLIB += krb5 m neon nspr4 nss3 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png popt pthread proxy smime3 softokn3
WANTLIB += soup-2.4 sqlite3 ssl ssl3 tasn1 util xml2
WANTLIB += pthread-stubs xcb z
a45 1
			gnomeui-2::x11/gnome/libgnomeui \
d50 3
a52 1
			soup-gnome-2.4.>=1::devel/libsoup,-gnome
@


1.44
log
@Fix dependencies after gstreamer-plugins-* merge.
looks good to landry@@, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/09/18 12:11:12 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
a55 1
			:gstreamer-plugins-good->=0.10.8:multimedia/gstreamer-0.10/plugins-good,-gconf \
@


1.43
log
@Bugfix update to rhythmbox-0.12.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2009/09/06 10:46:25 ajacoutot Exp $
d7 1
a55 3
			:gstreamer-plugins-base->=0.10.19:multimedia/gstreamer-0.10/plugins-base,-ogg \
			:gstreamer-plugins-base->=0.10.19:multimedia/gstreamer-0.10/plugins-base,-vorbis \
			:gstreamer-plugins-good->=0.10.8:multimedia/gstreamer-0.10/plugins-good,-flac \
a56 1
			:gstreamer-plugins-ugly->=0.10.7:multimedia/gstreamer-0.10/plugins-ugly,-mad \
@


1.42
log
@Make use of REGRESS_IS_INTERACTIVE=x11

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/08/23 19:30:21 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		0.12.4
@


1.41
log
@Update to rhythmbox-0.12.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2009/08/10 06:29:52 kili Exp $
d96 1
a96 5
# The regression tests require a running instance of X.
# You will also need to set the XAUTHORITY environment variable to point 
# to the appropriate .Xauthority file. 
REGRESS_IS_INTERACTIVE= Yes
REGRESS_FLAGS=DISPLAY=${DISPLAY} XAUTHORITY=${XAUTHORITY}
@


1.40
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/07/12 20:05:23 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		0.12.3
PKGNAME =		${DISTNAME}p0
d9 1
a50 1
			sexy::x11/libsexy \
d71 1
a85 1
			--disable-browser-plugin \
d91 4
@


1.39
log
@- update to rhythmbox-0.12.3; lots of bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/06/11 18:27:02 ajacoutot Exp $
d7 1
d35 2
a36 1
WANTLIB += soup-2.4 sqlite3 ssl ssl3 tasn1 util xml2 z
@


1.38
log
@Bump after recent gconf2 MODULE change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/06/08 16:58:15 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		0.12.2
PKGNAME=		${DISTNAME}p4
d33 1
a33 1
WANTLIB += pcre pixman-1 plc4 plds4 png popt pthread smime3 softokn3
d51 2
a52 1
			gstcdda-0.10,gsttag-0.10::multimedia/gstreamer-0.10/plugins-base,-cdda
@


1.37
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2009/06/07 05:30:09 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
@


1.36
log
@Convert to using the new gconf2.port.mk module.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/06/03 19:04:43 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.35
log
@- enable daap support now that we have avahi
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/06/02 04:23:22 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d28 1
a28 1
WANTLIB += freetype gailutil gconf-2 gcrypt gdk-x11-2.0 gdk_pixbuf-2.0
d39 2
a40 1
			lang/python
d66 1
a69 2
			--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/rhythmbox/ \
			--disable-schemas-install \
@


1.34
log
@- reorder configure args
- safe bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/05/31 21:27:01 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d23 13
a35 14
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite \
		Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender art_lgpl_2 asn1 atk-1.0 bonobo-2 sqlite3 \
		bonobo-activation bonoboui-2 c cairo com_err crypto \
		dbus-1 dbus-glib-1 expat fontconfig freetype \
		gailutil gconf-2 gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 \
		glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2 \
		gnome-keyring gnomecanvas-2 gnomevfs-2 gnutls gobject-2.0 \
		gpg-error gssapi gstbase-0.10 gstcontroller-0.10 \
		gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10 \
		gthread-2.0 gtk-x11-2.0 krb5 m neon nspr4 nss3 \
		pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 \
		plc4 plds4 png popt pthread smime3 softokn3 soup-2.4 \
		ssl ssl3 tasn1 util xml2 z
d72 1
d75 1
a86 3
# no need to enable avahi without daap
CONFIGURE_ARGS+=	--disable-daap \
			--without-mdns
@


1.33
log
@- also no breakfast or lunch for antoine tommorow.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/05/31 21:22:53 ajacoutot Exp $
d7 1
a75 1
			--disable-daap \
a76 1
			--without-mdns \
d85 5
a89 2
			--disable-lirc \
			--disable-daap
@


1.32
log
@- unbreak... no bbq for me

discovered the hard way by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/05/31 14:11:36 ajacoutot Exp $
d59 1
a59 1
			::py-gstreamer
@


1.31
log
@- update to rhythmbox-0.12.2
- enable python plugins
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/04/28 10:26:35 ajacoutot Exp $
d42 1
a42 1
			::py-gstreamer
@


1.30
log
@- update to rhythmbox-0.12.1
lots of crasher and bug fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/03/23 15:39:39 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		0.12.1
d38 2
a39 1
			x11/gnome
d41 4
a44 2
BUILD_DEPENDS=		:gstreamer-gnome->=0.10.19:multimedia/gstreamer-0.10/plugins-base,-gnome
LIB_DEPENDS=		musicbrainz3::audio/libmusicbrainz \
d58 2
a59 1
			::x11/gnome/icon-theme
d73 1
a74 1
			--disable-python \
d86 2
a87 1
			--disable-lirc
@


1.29
log
@- add same MESSAGE as evolution so that people don't think rhythmbox deps
are broken

found out by rgouveia on #bsdcow
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/03/20 16:56:34 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		0.12.0
PKGNAME=		${DISTNAME}p1
a60 1
AUTOCONF_VERSION=	2.62
d62 1
a62 1
CONFIGURE_STYLE= 	autoconf
d84 1
a84 1
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.28
log
@- 2 hobbits maintain this
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/03/19 13:50:28 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.27
log
@- update to new stable rhythmbox-0.12.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/03/14 18:32:34 ajacoutot Exp $
d7 1
d13 3
@


1.26
log
@- regen PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/03/14 11:36:24 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		0.11.5
PKGNAME=		${DISTNAME}p5
d44 2
a45 1
			camel-1.2.>=10,edataserver-1.2::databases/evolution-data-server
d58 2
a59 1
AUTOCONF_VERSION=	2.61
d61 1
a61 1
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
a63 1
			--enable-nautilus-menu \
d65 2
a66 1
			--with-metadata-helper \
a69 2
			--disable-ipod-writing \
			--without-cd-burning \
d74 3
d80 1
a80 2
			--disable-lirc \
			--without-internal-gsequence
@


1.25
log
@- nothing should have to run_depends on rarian anymore
- explicitely add build_depends on rarian where gnome-doc-utils is also a
build dependency as it does not itself run_depends on rarian anymore

This was the 2nd and hopefully last pass of rarian/scrollkeeper cleaning.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/03/14 10:40:51 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p4
@


1.24
log
@- first pass at cleaning rarian/scrollkeeper handling
remove rarian-sk-update from PLIST ; it is only a wrapper that does
noting: librarian takes care of everything now.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/01/30 18:38:53 sturm Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
d52 1
a52 2
			::x11/gnome/icon-theme \
			::textproc/rarian
@


1.23
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/01/20 23:15:39 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
@


1.22
log
@- regen WANTLIB after libgnome esound support removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/12/19 10:00:28 ajacoutot Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d25 1
a25 1
		gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 \
d27 2
a28 2
		gnome-keyring gnomecanvas-2 gnomevfs-2 gobject-2.0 \
		gssapi gstbase-0.10 gstcontroller-0.10 \
d33 1
a33 1
		ssl ssl3 util xml2 z
@


1.21
log
@- scrollkeeper -> rarian
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/06/09 22:59:42 ajacoutot Exp $
d7 2
a8 1
PKGNAME=		${DISTNAME}p0
d22 3
a24 3
		Xrender art_lgpl_2 asn1 atk-1.0 audiofile bonobo-2 \
		bonobo-activation bonoboui-2 c cairo com_err crypto db \
		dbus-1 dbus-glib-1 esd expat fontconfig freetype \
d30 1
a30 1
		gthread-2.0 gtk-x11-2.0 jpeg krb5 m neon nspr4 nss3 \
@


1.20
log
@- unbreak (after libsoup update) by upgrading to version 0.11.5
breakage reported by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/06/02 14:10:06 ajacoutot Exp $
d7 1
d51 2
a52 1
			::x11/gnome/icon-theme
@


1.19
log
@- remove support for MODGNOME_DEVHELP_FILES from the gnome MODULE ;
it makes more sense to add devhelp as run_depends for gnome-session and
leave it to the user to install it manually for other packages

"if you're as happy as a pig in poop, commit it" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/05/14 09:41:56 jasper Exp $
d6 1
a6 2
GNOME_VERSION=		0.10.1
PKGNAME=		${DISTNAME}p0
d21 11
a31 9
		bonobo-activation bonoboui-2 c cairo camel-1.2 com_err \
		crypto db dbus-1 dbus-glib-1 edataserver-1.2 esd expat \
		fontconfig freetype gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 \
		glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2 gnome-keyring \
		gnomecanvas-2 gnomevfs-2 gobject-2.0 gssapi gstbase-0.10 \
		gstinterfaces-0.10 gstreamer-0.10 gthread-2.0 gtk-x11-2.0 \
		jpeg krb5 m neon nspr4 nss3 pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre plc4 plds4 png popt pthread smime3 \
		softokn3 soup-2.2 ssl ssl3 util xml2 z
d42 2
a43 1
			sexy::x11/libsexy
d66 2
@


1.18
log
@- update rhythmbox to 0.10.1 (makes it work again)
- use the updated gstreamer framework
- re-word DESCR
- misc. tweaks to Makefile

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/12/19 07:31:15 ajacoutot Exp $
d7 1
a53 1
MODGNOME_DEVHELP_FILES= Yes
@


1.17
log
@- add/fix gconftool-2 goo

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/10/26 15:05:12 jasper Exp $
d3 1
a3 1
BROKEN=			needs an update to 0.11.x (and working totem)
d5 3
a7 4
COMMENT=		Music Management Application

DISTNAME=		rhythmbox-0.8.8
PKGNAME=		${DISTNAME}p6
d10 1
a10 3
HOMEPAGE=		http://www.rhythmbox.org

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/rhythmbox/0.8/}
d12 1
a12 1
# LGPL
d15 1
a15 1
PERMIT_DISTFILES_CDROM=	Yes
d17 32
a48 25
WANTLIB=		ICE SM X11 Xau Xdmcp Xrender \
			c crypto expat fontconfig freetype pthread m ssl z \
			ORBit-2 ORBitCosNaming-2 art_lgpl_2.>=5 atk-1.0 \
			audiofile bonobo-2 bonobo-activation.>=4.0 bonoboui-2 \
			esd.>=2 gconf-2 glade-2.0 jpeg popt xml2 \
			glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 \
			pango-1.0 pangocairo-1.0 pangoft2-1.0 \
			gdk-x11-2.0 gdk_pixbuf-2.0 gtk-x11-2.0 \
			gnome-2 gnome-keyring gnomecanvas-2 gnomeui-2 gnomevfs-2 \
			gstcontrol-0.8.>=5.0 gstreamer-0.8.>=5.0 cairo glitz png

MODULES=		devel/gettext

BUILD_DEPENDS=  	:scrollkeeper-*:textproc/scrollkeeper \
			:p5-XML-Parser-*:textproc/p5-XML-Parser \
			:gstreamer-gnome-0.8.*:devel/gstreamer-plugins,-gnome
LIB_DEPENDS= 		gstgconf-0.8::devel/gstreamer-plugins \
			gnomeui-2::x11/gnome/libgnomeui
RUN_DEPENDS=		:desktop-file-utils-*:devel/desktop-file-utils \
			:scrollkeeper-*:textproc/scrollkeeper \
			:gstreamer-flac-0.8.*:devel/gstreamer-plugins,-flac \
			:gstreamer-gnome-0.8.*:devel/gstreamer-plugins,-gnome \
			:gstreamer-mad-0.8.*:devel/gstreamer-plugins,-mad \
			:gstreamer-ogg-0.8.*:devel/gstreamer-plugins,-ogg \
			:gstreamer-vorbis-0.8.*:devel/gstreamer-plugins,-vorbis
d51 23
a73 6
USE_GMAKE=		Yes
USE_LIBTOOL=		Yes
CONFIGURE_STYLE= 	gnu
CONFIGURE_ARGS+=	--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/rhythmbox/
CONFIGURE_ARGS+=	--disable-schemas-install
CONFIGURE_ARGS+=	--enable-nautilus-menu
d77 5
a81 2
post-patch:
	@@ln -s /usr/bin/true ${WRKDIR}/bin/scrollkeeper-update
@


1.16
log
@reflect reality a bit better
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/10/24 22:41:36 jasper Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p5
@


1.15
log
@mark broken after gtk update, it needs an update anyway
(will be updated soon)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/09/15 21:26:02 simon Exp $
d3 1
a3 1
BROKEN=			needs an update to 0.10.x
@


1.14
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.13 2007/06/28 16:30:09 martynas Exp $
@


1.13
log
@make audio files play by default under gnome by updating desktop
database; "of course!" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/05/19 09:13:54 jasper Exp $
d3 1
a3 1
COMMENT=		"Music Management Application"
@


1.12
log
@remove marcm@@ as maintainer

ok marcm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/04/12 20:24:30 sturm Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p4
d36 2
a37 1
RUN_DEPENDS=		:scrollkeeper-*:textproc/scrollkeeper \
@


1.11
log
@simple WANTLIB fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/01/13 11:27:56 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p3
a9 1
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
@


1.10
log
@unconfuse pkg_add, make sure all gstreamer-0.8 dependencies get the
right packages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/12/16 12:22:32 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
d19 2
a20 2
WANTLIB=		ICE SM X11 Xext Xrender \
			c crypto fontconfig freetype pthread m ssl z \
@


1.9
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/09/18 11:40:06 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d34 1
a34 1
			:gstreamer-gnome-*:devel/gstreamer-plugins,-gnome
d38 5
a42 5
			:gstreamer-flac-*:devel/gstreamer-plugins,-flac \
			:gstreamer-gnome-*:devel/gstreamer-plugins,-gnome \
			:gstreamer-mad-*:devel/gstreamer-plugins,-mad \
			:gstreamer-ogg-*:devel/gstreamer-plugins,-ogg \
			:gstreamer-vorbis-*:devel/gstreamer-plugins,-vorbis
@


1.8
log
@remove `empty' version spec (.0.0) which is no longer needed to desambiguate
library names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/08/01 16:20:46 espie Exp $
d32 1
a32 2
BUILD_DEPENDS=  	:pkgconfig-*:devel/pkgconfig \
			:scrollkeeper-*:textproc/scrollkeeper \
@


1.7
log
@new specs
missed audio files, and chinese.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/08/01 12:13:28 espie Exp $
d21 1
a21 1
			ORBit-2 ORBitCosNaming-2 art_lgpl_2.>=5 atk-1.0.0.0 \
d23 4
a26 4
			esd.>=2 gconf-2 glade-2.0.0.0 jpeg popt xml2 \
			glib-2.0.0.0 gmodule-2.0.0.0 gobject-2.0.0.0 gthread-2.0.0.0 \
			pango-1.0.0.0 pangocairo-1.0.0.0 pangoft2-1.0.0.0 \
			gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 gtk-x11-2.0.0.0 \
d36 1
a36 1
LIB_DEPENDS= 		gstgconf-0.8.0.0::devel/gstreamer-plugins \
@


1.6
log
@new-style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/06/13 13:17:56 bernd Exp $
d21 1
a21 1
			ORBit-2 ORBitCosNaming-2 art_lgpl_2.5 atk-1.0.0.0 \
@


1.5
log
@First chunk of WANTLIB fixes after gtk+2 upgrade.

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/01/19 20:32:58 steven Exp $
d22 2
a23 2
			audiofile bonobo-2 bonobo-activation.4.0 bonoboui-2 \
			esd.2 gconf-2 glade-2.0.0.0 jpeg popt xml2 \
d28 1
a28 1
			gstcontrol-0.8.5.0 gstreamer-0.8.5.0 cairo glitz png
@


1.4
log
@fix WANTLIB after gtk+2 downgrade
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/11/16 06:39:22 marcm Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d19 1
a19 1
WANTLIB=		ICE SM X11 Xext Xft Xrender \
d25 1
a25 2
			pango-1.0.0.0 pangox-1.0.0.0 pangoft2-1.0.0.0 \
			pangoxft-1.0.0.0 \
d28 1
a28 1
			gstcontrol-0.8.5.0 gstreamer-0.8.5.0
@


1.3
log
@Update to 0.8.8, the latest in the 0.8 tree.  USE_LIBTOOL.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/11/15 12:50:36 wilfried Exp $
d6 1
d19 1
a19 1
WANTLIB=		ICE SM X11 Xext Xrender \
d25 2
a26 1
			pango-1.0.0.0 pangocairo-1.0.0.0 pangoft2-1.0.0.0 \
d29 1
a29 2
			gstcontrol-0.8.5.0 gstreamer-0.8.5.0 \
			cairo glitz png
d31 1
a31 1
MODULES=		gettext
@


1.2
log
@fix wantlib + bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/12/22 06:17:28 marcm Exp $
d5 1
a5 2
DISTNAME=		rhythmbox-0.8.7
PKGNAME=		${DISTNAME}p0
d34 2
a35 1
			:p5-XML-Parser-*:textproc/p5-XML-Parser
d38 2
a39 1
RUN_DEPENDS=		:gstreamer-flac-*:devel/gstreamer-plugins,-flac \
d47 1
d51 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/08/06 20:45:06 marcm Exp $
d6 1
d19 1
a19 1
WANTLIB=		ICE SM X11 Xcursor Xext Xft Xinerama Xrender \
d25 1
a25 1
			pango-1.0.0.0 pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 \
d29 1
@


1.1.1.1
log
@Import of rhythmbox.  An iTunes-like music player for GNOME that uses
the gstreamer framework.
@
text
@@
