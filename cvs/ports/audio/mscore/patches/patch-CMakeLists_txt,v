head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.6
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.4
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2015.08.22.02.47.27;	author bcallah;	state Exp;
branches;
next	1.2;
commitid	pw9QpL4xSsjrtT5M;

1.2
date	2015.05.19.13.40.41;	author bcallah;	state Exp;
branches;
next	1.1;
commitid	NtIZ86CCq5RK4JFQ;

1.1
date	2015.03.23.19.08.52;	author bcallah;	state Exp;
branches;
next	;
commitid	sezVcU75oMvf5sfd;


desc
@@


1.3
log
@Maintenance update to 2.0.2
@
text
@$OpenBSD: patch-CMakeLists_txt,v 1.2 2015/05/19 13:40:41 bcallah Exp $
--- CMakeLists.txt.orig	Thu Jul 16 17:02:34 2015
+++ CMakeLists.txt	Fri Aug 21 18:42:23 2015
@@@@ -125,7 +125,7 @@@@ else (APPLE)
       set(CMAKE_CXX_FLAGS_RELEASE "-std=gnu++0x -mno-ms-bitfields -O2 -DNDEBUG -DQT_NO_DEBUG")
    else (MINGW)
       set(CMAKE_CXX_FLAGS_DEBUG   "-std=c++11 -fPIC -fPIE -g")
-      set(CMAKE_CXX_FLAGS_RELEASE "-std=c++11 -fPIC -O2 -DNDEBUG -DQT_NO_DEBUG")
+      set(CMAKE_CXX_FLAGS_RELEASE "-std=c++11 -fPIC -DNDEBUG -DQT_NO_DEBUG")
    endif (MINGW)
 endif(APPLE)
 
@@@@ -194,11 +194,11 @@@@ endif (APPLE)
 ## alsa >= 1.0.0
 ##
 
-if (APPLE OR MINGW)
+if (APPLE OR MINGW OR UNIX)
       message("Disabling ALSA support due to OS X or MINGW build.")
       set (USE_ALSA 0)
       set (HAS_MIDI 1)
-else (APPLE OR MINGW)
+else (APPLE OR MINGW OR UNIX)
       PKGCONFIG (alsa 1.0.0 ALSA_INCDIR ALSA_LIBDIR ALSA_LIB ALSA_CPP )
       if (NOT ALSA_INCDIR)
             message(FATAL_ERROR "Fatal error: ALSA >= 1.0.0 required")
@@@@ -207,7 +207,7 @@@@ else (APPLE OR MINGW)
             set (USE_ALSA 1)
             set (HAS_MIDI 1)
       endif (NOT ALSA_INCDIR)
-endif (APPLE OR MINGW)
+endif (APPLE OR MINGW OR UNIX)
 
 ##
 ## pulseaudio
@@@@ -217,8 +217,8 @@@@ if (APPLE OR MINGW)
       set (USE_PULSEAUDIO 0)
 else (APPLE OR MINGW)
       if (PULSEAUDIO_FOUND)
-            set(USE_PULSEAUDIO 1)
-            message("Pulseaudio found.")
+            set(USE_PULSEAUDIO 0)
+            message("Pulseaudio not used.")
       else (PULSEAUDIO_FOUND)
             set(USE_PULSEAUDIO 0)
             message("Pulseaudio not found.")
@@@@ -431,7 +431,7 @@@@ if (NOT MINGW AND NOT APPLE)
             )
     endif (GZIP_EXECUTABLE AND NOT CMAKE_SYSTEM_NAME MATCHES "OpenBSD")
     # install man pages in either compressed or uncompressed form
-    install( FILES ${MAN_TARGET} DESTINATION share/man/man1 COMPONENT doc)
+    install( FILES ${MAN_TARGET} DESTINATION man/man1 COMPONENT doc)
     # add .MSCZ and .MSCX to MIME database (informs system that filetypes .MSCZ & .MSCX are MuseScore files)
     install( FILES ${PROJECT_SOURCE_DIR}/build/musescore.xml DESTINATION share/mime/packages COMPONENT doc)
     # Note: must now run "update-mime-database" to apply changes. This is done in the Makefile.
@@@@ -449,11 +449,11 @@@@ add_custom_command(
     DEPENDS ${PROJECT_SOURCE_DIR}/all.h
     WORKING_DIRECTORY ${PROJECT_BINARY_DIR}
     )
-if (MINGW)
+if (MINGW OR UNIX)
   set(BUILD_PCH false)
-else (MINGW)
+else (MINGW OR UNIX)
   set(BUILD_PCH true)
-endif(MINGW)
+endif(MINGW OR UNIX)
 
 precompiled_header(QT_INCLUDES all ${BUILD_PCH})
 
@@@@ -528,18 +528,18 @@@@ include(Packaging)
 ##  custom target for translation generation
 ##
 
-add_custom_target(lupdate
+add_custom_target(lupdate-qt5
    COMMAND ${PROJECT_SOURCE_DIR}/build/gen-qt-projectfile ${PROJECT_SOURCE_DIR} > mscore.pro
-   COMMAND ${QT_LUPDATE_EXECUTABLE} ${PROJECT_BINARY_DIR}/mscore.pro
+   COMMAND lupdate-qt5 ${PROJECT_BINARY_DIR}/mscore.pro
    COMMAND ${PROJECT_SOURCE_DIR}/build/gen-instruments-projectfile ${PROJECT_SOURCE_DIR}/share/instruments > instruments.pro
-   COMMAND ${QT_LUPDATE_EXECUTABLE} ${PROJECT_BINARY_DIR}/instruments.pro
+   COMMAND lupdate-qt5 ${PROJECT_BINARY_DIR}/instruments.pro
    WORKING_DIRECTORY ${PROJECT_BINARY_DIR}
    )
 
-add_custom_target(lrelease
+add_custom_target(lrelease-qt5
    COMMAND ${PROJECT_SOURCE_DIR}/build/gen-qt-projectfile ${PROJECT_SOURCE_DIR} > mscore.pro
    COMMAND ${PROJECT_SOURCE_DIR}/build/gen-qt-projectfile ${PROJECT_SOURCE_DIR}/share/instruments > instruments.pro
-   COMMAND ${QT_LRELEASE_EXECUTABLE} ${PROJECT_SOURCE_DIR}/share/locale/*.ts
+   COMMAND lrelease-qt5 ${PROJECT_SOURCE_DIR}/share/locale/*.ts
    WORKING_DIRECTORY ${PROJECT_BINARY_DIR}
    )
 
@


1.2
log
@Maintenance update to 2.0.1
@
text
@d1 3
a3 3
$OpenBSD: patch-CMakeLists_txt,v 1.1 2015/03/23 19:08:52 bcallah Exp $
--- CMakeLists.txt.orig	Mon May  4 12:50:37 2015
+++ CMakeLists.txt	Mon May 18 23:49:38 2015
d13 1
a13 1
@@@@ -179,11 +179,11 @@@@ SET(QT_USE_QTHELP        TRUE)
d27 1
a27 1
@@@@ -192,7 +192,7 @@@@ else (APPLE OR MINGW)
d36 1
a36 1
@@@@ -202,8 +202,8 @@@@ if (APPLE OR MINGW)
d47 10
a56 1
@@@@ -378,11 +378,11 @@@@ add_custom_command(
d71 1
a71 1
@@@@ -456,18 +456,18 @@@@ include(Packaging)
d78 2
a79 2
-   COMMAND ${QT_LUPDATE_EXECUTABLE} -noobsolete ${PROJECT_BINARY_DIR}/mscore.pro
+   COMMAND lupdate-qt5 -noobsolete ${PROJECT_BINARY_DIR}/mscore.pro
d81 2
a82 2
-   COMMAND ${QT_LUPDATE_EXECUTABLE} -noobsolete ${PROJECT_BINARY_DIR}/instruments.pro
+   COMMAND lupdate-qt5 -noobsolete ${PROJECT_BINARY_DIR}/instruments.pro
@


1.1
log
@Welcome MuseScore 2.0.0 -- this is MuseScore ported to Qt5 and lots of
improvements. Thanks to upstream for working with me to get a most things
upstreamed.
@
text
@d1 4
a4 4
$OpenBSD$
--- CMakeLists.txt.orig	Sat Mar 21 06:32:53 2015
+++ CMakeLists.txt	Sat Mar 21 13:13:13 2015
@@@@ -119,7 +119,7 @@@@ else (APPLE)
d13 1
a13 1
@@@@ -173,11 +173,11 @@@@ SET(QT_USE_QTHELP        TRUE)
d27 1
a27 1
@@@@ -186,7 +186,7 @@@@ else (APPLE OR MINGW)
d36 1
a36 1
@@@@ -196,8 +196,8 @@@@ if (APPLE OR MINGW)
d47 1
a47 1
@@@@ -372,11 +372,11 @@@@ add_custom_command(
d62 1
a62 1
@@@@ -450,18 +450,18 @@@@ include(Packaging)
@

