head	1.28;
access;
symbols
	OPENBSD_6_1:1.28.0.4
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.28.0.2
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.27.0.2
	OPENBSD_5_9_BASE:1.27
	OPENBSD_5_8:1.27.0.4
	OPENBSD_5_8_BASE:1.27
	OPENBSD_5_7:1.26.0.8
	OPENBSD_5_7_BASE:1.26
	OPENBSD_5_6:1.26.0.6
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.26.0.4
	OPENBSD_5_5_BASE:1.26
	OPENBSD_5_4:1.26.0.2
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.24.0.2
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.23.0.8
	OPENBSD_5_2_BASE:1.23
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.6
	OPENBSD_5_0:1.23.0.4
	OPENBSD_5_0_BASE:1.23
	OPENBSD_4_9:1.23.0.2
	OPENBSD_4_9_BASE:1.23
	OPENBSD_4_8:1.20.0.4
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.20.0.2
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.19.0.4
	OPENBSD_4_6_BASE:1.19
	OPENBSD_4_5:1.19.0.2
	OPENBSD_4_5_BASE:1.19
	OPENBSD_4_4:1.18.0.2
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.17.0.2
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.15.0.2
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.12.0.2
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.10.0.2
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.9.0.2
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.6.0.2
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.5.0.2
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.4.0.2
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.1.1.1.0.2
	OPENBSD_3_4_BASE:1.1.1.1
	naddy_20030612:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.28
date	2016.03.11.20.28.22;	author naddy;	state Exp;
branches;
next	1.27;
commitid	UYLP8TE6V7RS2GhJ;

1.27
date	2015.03.16.18.07.37;	author naddy;	state Exp;
branches;
next	1.26;
commitid	IJdm3Zowcdkcxp5X;

1.26
date	2013.03.21.08.45.13;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.10.22.55.05;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2012.08.06.12.21.05;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2010.11.15.00.22.48;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.10.18.16.52.47;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.09.06.00.04.28;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2010.01.02.20.44.19;	author jakemsr;	state Exp;
branches;
next	1.19;

1.19
date	2008.08.31.19.40.44;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2008.05.04.15.16.43;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2008.01.04.17.48.33;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2007.09.15.21.26.03;	author simon;	state Exp;
branches;
next	1.15;

1.15
date	2007.07.28.17.06.20;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2007.05.29.23.52.20;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2007.05.08.15.17.48;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2006.10.28.10.30.41;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2006.10.11.21.55.47;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2006.08.01.12.13.28;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2006.01.10.11.26.09;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2005.12.23.15.05.18;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2005.10.18.23.24.25;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2005.05.10.20.29.11;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2004.11.21.17.51.46;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2004.07.27.19.35.20;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2003.11.20.15.54.32;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2003.09.29.23.45.42;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2003.06.12.00.52.02;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.06.12.00.52.02;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.28
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.27 2015/03/16 18:07:37 naddy Exp $

COMMENT=	patent-free speech codec

DISTNAME=	speex-1.2rc1
REVISION=	1
CATEGORIES=	audio
HOMEPAGE=	http://www.speex.org/
SHARED_LIBS +=	speex                8.0      # .6.0
SHARED_LIBS +=	speexdsp             1.0      # .6.0

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	http://downloads.xiph.org/releases/speex/

LIB_DEPENDS=	audio/libogg
WANTLIB=	c m ogg>=5 sndio

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--with-ogg=${LOCALBASE}
CONFIGURE_ENV=	CPPFLAGS="-DUSE_SNDIO"

MAKE_FLAGS=	docdir=${TRUEPREFIX}/share/doc/speex \
		mandir=${TRUEPREFIX}/man


.include <bsd.port.mk>
@


1.27
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/21 08:45:13 ajacoutot Exp $
d23 1
a23 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-ogg=${LOCALBASE}
@


1.26
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/10 22:55:05 espie Exp $
d6 1
a6 1
REVISION=	0
@


1.25
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/08/06 12:21:05 naddy Exp $
a21 1
USE_LIBTOOL=	Yes
@


1.24
log
@clean up USE_GROFF in my own ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/11/15 00:22:48 espie Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.23
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/10/18 16:52:47 espie Exp $
a25 1
USE_GROFF =	Yes
@


1.22
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/09/06 00:04:28 sthen Exp $
d22 2
a23 2
LIB_DEPENDS=	::audio/libogg
WANTLIB=	c m ogg.>=5 sndio
@


1.21
log
@new-style REVISIONS/LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/01/02 20:44:19 jakemsr Exp $
d26 1
@


1.20
log
@use sndio for audio
ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/08/31 19:40:44 naddy Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d22 2
a23 2
LIB_DEPENDS=	ogg.>=5::audio/libogg
WANTLIB=	c m sndio
@


1.19
log
@update to 1.2rc1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/05/04 15:16:43 jasper Exp $
d6 1
d23 1
a23 1
WANTLIB=	c m
d29 1
@


1.18
log
@- update speex to 1.2beta3
- switch CONFIGURE_STYLE back to gnu, suggested by naddy.

tested in bulk build and ok naddy@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/01/04 17:48:33 espie Exp $
d5 1
a5 1
DISTNAME=	speex-1.2beta3
d8 2
a9 2
SHARED_LIBS +=	speex                7.0      # .5.0
SHARED_LIBS +=	speexdsp             0.0      # .5.0
@


1.17
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/09/15 21:26:03 simon Exp $
d5 1
a5 1
DISTNAME=	speex-1.2beta2
d8 2
a9 1
SHARED_LIBS +=	speex                6.0      # .5.0
d25 1
a25 2
AUTOCONF_VERSION=2.61
CONFIGURE_STYLE=autoconf
@


1.16
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/07/28 17:06:20 naddy Exp $
a30 1
FAKE_FLAGS=	${MAKE_FLAGS} DESTDIR=${WRKINST}
@


1.15
log
@fix building on gcc2 archs; from Moritz Grimm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/05/29 23:52:20 naddy Exp $
d3 1
a3 1
COMMENT=	"patent-free speech codec"
@


1.14
log
@update to all-improved 1.2beta2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/05/08 15:17:48 naddy Exp $
d24 2
a25 1
CONFIGURE_STYLE=gnu
@


1.13
log
@Update to 1.2beta1, the currently recommended version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/10/28 10:30:41 espie Exp $
d5 1
a5 1
DISTNAME=	speex-1.2beta1
d8 1
a8 1
SHARED_LIBS +=	speex                5.0      # .5.0
@


1.12
log
@re-format SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/10/11 21:55:47 steven Exp $
d5 1
a5 2
DISTNAME=	speex-1.0.5
PKGNAME=	${DISTNAME}p0
d8 1
a8 1
SHARED_LIBS +=	speex                4.0      # .4.0
d26 1
a26 1
		--with-ogg-dir=${LOCALBASE}
@


1.11
log
@fix master site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/08/01 12:13:28 espie Exp $
d9 1
a9 1
SHARED_LIBS=	speex	4.0
@


1.10
log
@new-style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/01/10 11:26:09 espie Exp $
d19 1
a19 1
MASTER_SITES=	${HOMEPAGE}download/
@


1.9
log
@zap more MODGNU_SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/12/23 15:05:18 espie Exp $
d21 1
a21 1
LIB_DEPENDS=	ogg.5::audio/libogg
@


1.8
log
@SHARED_LIBS + FAKE_FLAGS changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/10/18 23:24:25 naddy Exp $
a9 1
MODGNU_SHARED_LIBS=	speex	''
@


1.7
log
@switch over to USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/05/10 20:29:11 naddy Exp $
d9 2
d30 4
a33 3
FAKE_FLAGS=	${DESTDIRNAME}=${WRKINST} \
		docdir=${PREFIX}/share/doc/speex \
		mandir=${PREFIX}/man
@


1.6
log
@Maintenance update to 1.0.5.

The main change with this release is that it includes API additions
from the 1.1.x branch (while being backward compatible), so that
transition from 1.0.x to 1.1.x can be made easier.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/11/21 17:51:46 espie Exp $
d6 1
a16 1
WANTLIB=		c m
d21 1
d23 1
@


1.5
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/07/27 19:35:20 naddy Exp $
d5 1
a5 1
DISTNAME=	speex-1.0.4
d20 1
a20 1
LIB_DEPENDS=	ogg.4::audio/libogg
@


1.4
log
@Update to 1.0.4.

Changes in this release:
* Headers are now in ${PREFIX}/include/speex/ (but a copy is still in
  ${PREFIX}/include for compat reasons).
* Pseudo-gapless playback (i.e. playback has the same number of samples).
* Fixed a potential bug (unconfirmed) that might cause a segfault
  in special circumstances.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/11/20 15:54:32 naddy Exp $
d16 1
@


1.3
log
@update to 1.0.3: minor fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/09/29 23:45:42 naddy Exp $
d5 1
a5 1
DISTNAME=	speex-1.0.3
@


1.2
log
@Maintenance update to 1.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/06/12 00:52:02 naddy Exp $
d5 1
a5 1
DISTNAME=	speex-1.0.2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	speex-1.0.1
d21 1
a21 1
CONFIGURE_STYLE= autoconf
@


1.1.1.1
log
@Import speex 1.0.1.

Speex is a patent-free audio codec designed especially for voice
(unlike Vorbis which targets general audio) signals and providing
good narrowband and wideband quality.  This project aims to be
complementary to the Vorbis codec.
@
text
@@
