head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.14
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.10
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.12
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.8
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.14
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.12
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.10
	OPENBSD_5_0:1.2.0.8
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.6
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.4
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.1.0.4
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2013.03.29.12.37.43;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.10.15.15.44.50;	author jakemsr;	state Exp;
branches;
next	1.1;

1.1
date	2008.12.26.08.45.12;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- update to FluidSynth 1.1.6

- disable jack dependency, it doesn't work (noticed by Jan Stary)

- add a note explaining that you need a soundfount and point people
at the generaluser-gs-soundfont package
@
text
@$OpenBSD$
--- src/Makefile.am.orig	Thu Aug 16 05:01:13 2012
+++ src/Makefile.am	Mon Mar 25 00:05:56 2013
@@@@ -40,6 +40,9 @@@@ if OSS_SUPPORT
 fluid_oss = drivers/fluid_oss.c
 endif
 
+if SNDIO_SUPPORT
+fluid_sndio = drivers/fluid_sndio.c
+endif
 
 # if LASH_SUPPORT || LADCCA_SUPPORT (Makefile supports OR?)
 if LASH_SUPPORT
@@@@ -68,6 +71,7 @@@@ EXTRA_DIST = fluid_dll.c \
     drivers/fluid_oss.c \
     drivers/fluid_portaudio.c \
     drivers/fluid_pulse.c \
+    drivers/fluid_sndio.c \
     drivers/fluid_sndmgr.c \
     drivers/fluid_winmidi.c \
     config_macos.h \
@@@@ -93,6 +97,7 @@@@ libfluidsynth_la_SOURCES = \
 	$(fluid_oss) \
 	$(fluid_portaudio) \
 	$(fluid_pulse) \
+	$(fluid_sndio) \
 	$(fluid_windows) \
 	$(fluid_dart) \
 	$(fluid_rtkit) \
@@@@ -181,7 +186,7 @@@@ INCLUDES = -I$(top_srcdir)/include \
 libfluidsynth_la_LIBADD = $(LIBFLUID_LIBS) $(LASH_LIBS) $(LADCCA_LIBS) \
   $(READLINE_LIBS) $(COREAUDIO_LIBS) $(COREMIDI_LIBS) $(JACK_LIBS) \
   $(ALSA_LIBS) $(PULSE_LIBS) $(PORTAUDIO_LIBS) $(DART_LIBS)  \
-  $(GLIB_LIBS) $(LIBSNDFILE_LIBS) $(DBUS_LIBS)
+  $(GLIB_LIBS) $(LIBSNDFILE_LIBS) $(DBUS_LIBS) $(SNDIO_LIBS)
 
 libfluidsynth_la_LDFLAGS = \
 	-version-info @@LT_VERSION_INFO@@ \
@


1.2
log
@- update to 1.0.9
- inlude sndio(7) midi support from ratchov@@
- 'libsndio' -> 'sndio' renaming throughout
- completely disable OSS support
@
text
@d1 5
a5 5
$OpenBSD: patch-src_Makefile_am,v 1.1 2008/12/26 08:45:12 jakemsr Exp $
--- src/Makefile.am.orig	Tue Feb  3 23:34:02 2009
+++ src/Makefile.am	Tue Oct 13 21:12:04 2009
@@@@ -33,6 +33,10 @@@@ if OSS_SUPPORT
 fluid_oss = fluid_oss.c
d9 1
a9 1
+fluid_sndio = fluid_sndio.c
d11 1
a11 1
+
d14 9
a22 11
 fluid_lash = fluid_lash.c
@@@@ -49,7 +53,7 @@@@ endif
 # Extra files and optional drivers
 EXTRA_DIST = fluid_dll.c fluid_dsound.c fluid_winmidi.c fluid_portaudio.c \
 	fluid_coreaudio.c fluid_alsa.c fluid_oss.c fluid_pulse.c \
-	fluid_dsp_simple.c \
+	fluid_sndio.c fluid_dsp_simple.c \
 	fluid_sndmgr.c config_macos.h config_macosx.h config_macosx_pb.h \
 	config_win32.h fluid_jack.c fluid_dart.c
 
@@@@ -65,6 +69,7 @@@@ libfluidsynth_la_SOURCES = \
d29 2
a30 3
 	fluid_adriver.c \
@@@@ -129,7 +134,7 @@@@ INCLUDES = -I$(top_srcdir)/include $(LASH_CFLAGS) $(LA
 
d33 3
a35 2
-  $(ALSA_LIBS) $(PULSE_LIBS) $(PORTAUDIO_LIBS) $(DART_LIBS)
+  $(ALSA_LIBS) $(PULSE_LIBS) $(PORTAUDIO_LIBS) $(DART_LIBS) $(SNDIO_LIBS)
@


1.1
log
@- add sndio backend
- drop OSS audio support but keep "OSS" midi support
@
text
@d1 5
a5 5
$OpenBSD$
--- src/Makefile.am.orig	Sun Nov 11 12:06:28 2007
+++ src/Makefile.am	Sat Dec 20 17:37:23 2008
@@@@ -17,8 +17,12 @@@@ if MINGW32_SUPPORT
 fluid_windows = fluid_dll.c fluid_dsound.c fluid_winmidi.c
d8 3
a10 4
-if OSS_SUPPORT
+# if OSS_SUPPORT
 fluid_oss = fluid_oss.c
+# endif
a11 4
+if LIBSNDIO_SUPPORT
+fluid_libsndio = fluid_libsndio.c
 endif
 
d13 3
a15 2
@@@@ -33,7 +37,7 @@@@ endif
 
d18 3
a20 3
-	fluid_coreaudio.c fluid_alsa.c fluid_oss.c \
+	fluid_coreaudio.c fluid_alsa.c fluid_oss.c fluid_libsndio.c \
 	fluid_dsp_simple.c \
d22 3
a24 4
 	config_win32.h fluid_jack.c
@@@@ -47,6 +51,7 @@@@ libfluidsynth_la_SOURCES = \
 	$(fluid_jack) \
 	$(fluid_lash) \
d26 3
a28 1
+	$(fluid_libsndio) \
d30 1
d32 1
a32 3
 	fluid_adriver.h \
@@@@ -108,7 +113,7 @@@@ INCLUDES = -I$(top_srcdir)/include $(LASH_CFLAGS) $(LA
   $(READLINE_CFLAGS) $(JACK_CFLAGS) $(ALSA_CFLAGS)
d35 4
a38 2
-  $(READLINE_LIBS) $(COREAUDIO_LIBS) $(JACK_LIBS) $(ALSA_LIBS)
+  $(READLINE_LIBS) $(COREAUDIO_LIBS) $(JACK_LIBS) $(ALSA_LIBS) $(LIBSNDIO_LIBS)
a40 1
 	-export-dynamic $(LIBFLUID_LDFLAGS)
@

