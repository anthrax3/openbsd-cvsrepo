head	1.34;
access;
symbols
	OPENBSD_6_2:1.34.0.2
	OPENBSD_6_2_BASE:1.34
	OPENBSD_6_1:1.32.0.2
	OPENBSD_6_1_BASE:1.32
	OPENBSD_6_0:1.30.0.2
	OPENBSD_6_0_BASE:1.30
	OPENBSD_5_9:1.28.0.2
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.27.0.6
	OPENBSD_5_8_BASE:1.27
	OPENBSD_5_7:1.27.0.2
	OPENBSD_5_7_BASE:1.27
	OPENBSD_5_6:1.26.0.6
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.26.0.4
	OPENBSD_5_5_BASE:1.26
	OPENBSD_5_4:1.26.0.2
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.24.0.2
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.21.0.2
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.4
	OPENBSD_5_0:1.20.0.2
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.19.0.2
	OPENBSD_4_9_BASE:1.19
	OPENBSD_4_8:1.17.0.4
	OPENBSD_4_8_BASE:1.17
	OPENBSD_4_7:1.17.0.2
	OPENBSD_4_7_BASE:1.17
	OPENBSD_4_6:1.16.0.2
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.15.0.2
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.13.0.4
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.2
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.12.0.4
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.12.0.2
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.11.0.2
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.10.0.2
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.8.0.4
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.7.0.4
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.7.0.2
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.6.0.2
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.5.0.2
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.4.0.2
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	pvalchev_20010204:1.1.1.1
	pvalchev:1.1.1;
locks; strict;
comment	@# @;


1.34
date	2017.06.23.10.51.25;	author fcambus;	state Exp;
branches;
next	1.33;
commitid	ASZ2Ys11WUxSmmrN;

1.33
date	2017.06.15.10.00.56;	author fcambus;	state Exp;
branches;
next	1.32;
commitid	aL7n8GcPoJ8S2Gt7;

1.32
date	2016.09.16.08.37.14;	author fcambus;	state Exp;
branches;
next	1.31;
commitid	x7aAOyohkolD5Xiw;

1.31
date	2016.08.27.18.59.08;	author naddy;	state Exp;
branches;
next	1.30;
commitid	igffmCT5qy4gAEOk;

1.30
date	2016.03.26.15.58.51;	author awolk;	state Exp;
branches;
next	1.29;
commitid	m5yow3G0q4GmRc6C;

1.29
date	2016.03.11.19.59.12;	author naddy;	state Exp;
branches;
next	1.28;
commitid	pguKLBEFv33DrgKU;

1.28
date	2015.08.25.13.18.24;	author sthen;	state Exp;
branches;
next	1.27;
commitid	ezNehs3ayqMPx5Ri;

1.27
date	2014.10.18.14.56.28;	author bcallah;	state Exp;
branches;
next	1.26;
commitid	QEdIt7Vzd2bsCGN7;

1.26
date	2013.03.21.08.45.12;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.10.22.55.03;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2013.01.13.09.10.40;	author sthen;	state Exp;
branches;
next	1.23;

1.23
date	2013.01.02.15.13.02;	author stsp;	state Exp;
branches;
next	1.22;

1.22
date	2012.08.10.20.11.41;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2012.03.29.13.38.13;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2011.04.16.21.21.24;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.18.16.52.45;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.09.06.00.04.28;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2010.01.11.04.25.26;	author jakemsr;	state Exp;
branches;
next	1.16;

1.16
date	2009.03.06.21.24.52;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2008.12.22.20.28.18;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2008.10.23.22.06.26;	author miod;	state Exp;
branches;
next	1.13;

1.13
date	2007.09.15.21.26.01;	author simon;	state Exp;
branches;
next	1.12;

1.12
date	2006.10.28.10.30.41;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2006.08.01.12.13.28;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2006.01.07.22.35.17;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2005.12.23.15.29.08;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2004.11.21.17.51.45;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2004.01.24.19.57.34;	author pvalchev;	state Exp;
branches;
next	1.6;

1.6
date	2003.06.16.04.30.57;	author pvalchev;	state Exp;
branches;
next	1.5;

1.5
date	2002.12.29.19.29.56;	author fgsch;	state Exp;
branches;
next	1.4;

1.4
date	2002.05.13.18.50.36;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.03.15.09.30.33;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.04.00.02.46;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2002.02.05.03.52.00;	author pvalchev;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.02.05.03.52.00;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.34
log
@Update libmikmod to 3.3.11.1.

Thanks Ozkan Sezer for the heads up.
@
text
@# $OpenBSD: Makefile,v 1.33 2017/06/15 10:00:56 fcambus Exp $

COMMENT =	mikmod sound library

DISTNAME =	libmikmod-3.3.11.1
SHARED_LIBS +=	mikmod               4.0      # .3.0
CATEGORIES =	audio devel

MAINTAINER =	Frederic Cambus <fcambus@@openbsd.org>

HOMEPAGE =	http://mikmod.sourceforge.net/

# LGPLv2.1+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB +=	m pthread sndio

MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=mikmod/}

SEPARATE_BUILD = Yes
CONFIGURE_STYLE = gnu

CONFIGURE_ARGS+= --disable-dl \
		 --disable-oss \
		 --disable-esd

.include <bsd.port.mk>
@


1.33
log
@Update libmikmod to 3.3.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2016/09/16 08:37:14 fcambus Exp $
d5 1
a5 1
DISTNAME =	libmikmod-3.3.11
@


1.32
log
@Update to libmikmod 3.3.10

OK juanfra@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2016/08/27 18:59:08 naddy Exp $
d5 1
a5 1
DISTNAME =	libmikmod-3.3.10
@


1.31
log
@bugfix update to 3.3.9 from maintainer Frederic Cambus
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/03/26 15:58:51 awolk Exp $
d5 1
a5 1
DISTNAME =	libmikmod-3.3.9
d9 1
a9 1
MAINTAINER =	Frederic Cambus <fred@@statdns.com>
d16 1
a16 1
WANTLIB += m pthread sndio
@


1.30
log
@Update to audio/libmikmod 3.3.8

from Frederic Cambus the new MAINTAINER

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/03/11 19:59:12 naddy Exp $
d5 1
a5 1
DISTNAME =	libmikmod-3.3.8
@


1.29
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/08/25 13:18:24 sthen Exp $
d3 1
a3 1
COMMENT=	mikmod sound library
d5 1
a5 1
DISTNAME=	libmikmod-3.3.7
d7 1
a7 2
CATEGORIES=	audio devel
REVISION=	0
d9 3
a11 1
HOMEPAGE=	http://mikmod.shlomifish.org/
d14 1
a14 1
PERMIT_PACKAGE_CDROM=	Yes
d18 4
a21 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=mikmod/}
a22 4
SEPARATE_BUILD=	Yes
CONFIGURE_STYLE= gnu
CFLAGS +=	-DDRV_SNDIO
CONFIGURE_ENV=	LIBRARY_LIB="-lsndio"
a25 3

post-extract:
	cp ${FILESDIR}/drv_sndio.c ${WRKSRC}/drivers
@


1.28
log
@remove bcallah as maintainer of his ports, at his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/10/18 14:56:28 bcallah Exp $
a22 1
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
@


1.27
log
@Update to 3.3.7, take maintainer, and overhaul pkg/DESCR
tweaks and prods naddy@@ sthen@@
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/21 08:45:12 ajacoutot Exp $
d8 1
a10 1
MAINTAINER=	Brian Callahan <bcallah@@openbsd.org>
@


1.26
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/10 22:55:03 espie Exp $
d5 2
a6 2
DISTNAME=	libmikmod-3.2.0
SHARED_LIBS +=	mikmod               3.0      # .3.0
d10 1
d12 1
a12 2
MAINTAINER=	Peter Valchev <pvalchev@@openbsd.org>

d15 1
a15 1
MASTER_SITES=	${HOMEPAGE}files/
d17 1
a17 1
WANTLIB=	m sndio
@


1.25
log
@PERMIT/REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/01/13 09:10:40 sthen Exp $
a20 1
USE_LIBTOOL=	Yes
@


1.24
log
@update to libmikmod 3.2.0, with/ok tobiasu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/01/02 15:13:02 stsp Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.23
log
@Fix a NULL dereference in libmikmod triggered by the games/ri-li port.
While here, make the build honour CFLAGS.
Tweak and ok brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/08/10 20:11:41 naddy Exp $
d5 3
a7 5
VERSION=	3.1.10
DISTNAME=	libmikmod-${VERSION}
REVISION=	10
SHARED_LIBS +=	mikmod               2.4      # .2.4
CATEGORIES=    	audio devel
d9 1
a9 1
HOMEPAGE=	http://mikmod.raphnet.net/
d18 1
a18 2
MASTER_SITES=	${HOMEPAGE}/files/libmikmod/ \
		${MASTER_SITE_SUNSITE:=apps/sound/libs/}
d20 1
a20 1
WANTLIB=	sndio
d25 1
a25 1
CFLAGS += 	-DDRV_SNDIO
@


1.22
log
@kill a few unneeded groff dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/03/29 13:38:13 sthen Exp $
d7 1
a7 1
REVISION=	9
d28 2
a29 1
CONFIGURE_ENV=	CFLAGS="-DDRV_SNDIO" LIBRARY_LIB="-lsndio"
@


1.21
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/04/16 21:21:24 jasper Exp $
a27 1
USE_GROFF =	Yes
@


1.20
log
@- remove unnecessary NULL casts
- sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/18 16:52:45 espie Exp $
d25 1
a25 1
SEPARATE_BUILD=	concurrent
@


1.19
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/09/06 00:04:28 sthen Exp $
d7 1
a7 1
REVISION=	8
@


1.18
log
@new-style REVISIONS/LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/01/11 04:25:26 jakemsr Exp $
d28 1
@


1.17
log
@use sndio instead of audio(4) for audio, although it seems nothing in
the ports tree actually uses libmikmod's audio output API.  kill
esd FLAVOR too.
ok pvalchev@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/03/06 21:24:52 jasper Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p8
@


1.16
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/12/22 20:28:18 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p7
d23 2
d28 1
d31 2
a32 4
		 --enable-oss

FLAVORS=	esd
FLAVOR?=
d34 2
a35 7
.if ${FLAVOR:L:Mesd}
CONFIGURE_ARGS+= --enable-esd
LIB_DEPENDS+=	esd.>=2::audio/esound
WANTLIB+=	audiofile m sndio
.else
CONFIGURE_ARGS+= --disable-esd
.endif
@


1.15
log
@quote first argument of AC_DEFUN to silence warnings from aclocal 1.8+
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/10/23 22:06:26 miod Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p6
d36 1
a36 1
WANTLIB+=	audiofile m
@


1.14
log
@Avoid setting envelope cursors to negative values; found the hard way with
0-point envelopes in kgb.xm on amd64 (blame recent malloc changes, it used
to work not so long ago on mips and alpha).

ok maintainer@@ (for politeness' sake - I wrote this code after all so I don't
need his opinion (-: )
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/09/15 21:26:01 simon Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p5
@


1.13
log
@remove surrounding quotes from COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/10/28 10:30:41 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
@


1.12
log
@re-format SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/08/01 12:13:28 espie Exp $
d3 1
a3 1
COMMENT=	"mikmod sound library"
@


1.11
log
@new-style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/01/07 22:35:17 brad Exp $
d8 1
a8 1
SHARED_LIBS=	mikmod	2.4
@


1.10
log
@remove MODGNU_SHARED_LIBS and unused libtool patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/12/23 15:29:08 espie Exp $
d35 1
a35 1
LIB_DEPENDS+=	esd.2::audio/esound
@


1.9
log
@more SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/11/21 17:51:45 espie Exp $
a8 1
MODGNU_SHARED_LIBS=	mikmod	''
a21 4

PATCH_LIST=     ${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltconfig \
                ${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltmain_sh \
                patch-*
@


1.8
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/01/24 19:57:34 pvalchev Exp $
d7 3
a9 1
PKGNAME=	${DISTNAME}p3
d30 1
@


1.7
log
@fix homepage; from xsa
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/06/16 04:30:57 pvalchev Exp $
d38 1
@


1.6
log
@Fix corrupted 16bit .wav files generation on big endian platforms; from unzel miod
Bump patchlevel to p3 to distinguish fixed version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/12/29 19:29:56 fgsch Exp $
d10 1
a10 1
HOMEPAGE=	http://www.mikmod.org
@


1.5
log
@byebye NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/05/13 18:50:36 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.4
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/03/15 09:30:33 pvalchev Exp $
a8 1
NEED_VERSION=	1.504
@


1.3
log
@more fixes from miod
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/03/04 00:02:46 pvalchev Exp $
d21 1
a21 2
		${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR=apps/sound/libs
@


1.2
log
@Fix from miod@@
- looping envelope would not play correctly if the loop end point is
  the last point of the envelope.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/02/05 03:52:00 pvalchev Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@Import of libmikmod-3.1.10

The MikMod sound library is an excellent way for a programmer to
add music and sound effects to an application. It is a powerful
and flexible library, with a simple and easy-to-learn API.

WWW: http://www.mikmod.org
@
text
@@
