head	1.2;
access;
symbols
	OPENBSD_5_2:1.1.0.22
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.20
	OPENBSD_5_0:1.1.0.18
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.16
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.14
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.12
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.10
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.8
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.6
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.4
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.2
	OPENBSD_4_2_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2012.09.01.14.10.03;	author landry;	state dead;
branches;
next	1.1;

1.1
date	2007.04.22.15.04.39;	author martynas;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to seamonkey 2.12.

- see http://www.seamonkey-project.org/releases/seamonkey2.12/
- garbage collect nsSound.cpp, the original one uses libcanberra
properly and thus sndio.
- remove patch from #750620, merged upstream (mfbt/double-conversion)
- remove patches from #691898, merged upstream (yarr jit ppc)
- remove useless crashreporter patch, we don't have breakpad
@
text
@#!/bin/sh
# $OpenBSD: genchrome,v 1.1 2007/04/22 15:04:39 martynas Exp $
# Generate installed-chrome.txt entries for SeaMonkey

if [ $# -ne 2 ]; then
	echo "usage: $0 [file] [language]"
	exit 1
fi

xx=`echo "$2" | cut -d- -f1`
YY=`echo "$2" | cut -d- -f2`

# xx-YY.jar
grep "registerChrome(.*[,(] *cf *,.*);" "$1" |
	cut -d\" -f2 |
	sed "s/^/locale,install,url,jar:resource:\/chrome\/$2.jar!\/locale\/$2\//"

# YY.jar
grep "registerChrome(.*[,(] *rf *,.*);" "$1" |
	cut -d\" -f2 |
	sed "s/^/locale,install,url,jar:resource:\/chrome\/$YY.jar!\/locale\/$YY\//"

# xx-unix.jar
grep "registerChrome(.*[,(] *pf *,.*);" "$1" |
	cut -d\" -f2 |
	sort |	# not 100% true, but hey, i've checked
	uniq |	# and every install.js has same 3 entries.
	sed "s/^/locale,install,url,jar:resource:\/chrome\/$xx-unix.jar!\/locale\/$2\//"
@


1.1
log
@- include all supported language packs;
- generate chrome registry once (speeds up startup, esp.
with lots of chromes -- our case), noticed by kurt@@;
- work around pref-contentpacks bug;
discussed and tested by naddy@@, kurt@@, ajacoutot@@
ok naddy@@
@
text
@d2 1
a2 1
# $OpenBSD$
@

