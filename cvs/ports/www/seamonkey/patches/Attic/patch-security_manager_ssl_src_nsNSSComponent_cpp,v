head	1.5;
access;
symbols
	OPENBSD_4_7:1.4.0.4
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.2
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.3.0.4
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.2
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.1.0.6
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.4
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.2;
locks; strict;
comment	@# @;


1.5
date	2010.04.03.09.30.15;	author landry;	state dead;
branches;
next	1.4;

1.4
date	2009.06.23.18.38.54;	author martynas;	state Exp;
branches;
next	1.3;

1.3
date	2008.07.17.16.49.33;	author martynas;	state Exp;
branches;
next	1.2;

1.2
date	2008.07.05.00.42.31;	author martynas;	state Exp;
branches;
next	1.1;

1.1
date	2007.03.26.20.41.37;	author martynas;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2007.05.01.16.18.35;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Major update to seamonkey 2.0.4, now built upon mozilla-1.9.1/firefox
3.5/thunderbird 3 codebase. See for details:
http://www.seamonkey-project.org/releases/seamonkey2.0.4/
Backing up your profile before upgrading is recommended..
Update also largely based on www/firefox35 port.
Tested on i386/amd64/sparc64/powerpc by myself and on alpha by naddy@@

ok naddy@@
@
text
@$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.4 2009/06/23 18:38:54 martynas Exp $
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Fri Jun  5 14:59:03 2009
+++ security/manager/ssl/src/nsNSSComponent.cpp	Tue Jun 23 21:33:04 2009
@@@@ -756,11 +756,10 @@@@ nsNSSComponent::InstallLoadableRoots()
       return;
 
     const char *possible_ckbi_locations[] = {
+      0, // This special value means: 
+        //   search for ckbi in the the system NSS_LIBDIR
       NS_GRE_DIR,
-      NS_XPCOM_CURRENT_PROCESS_DIR,
-      0 // This special value means: 
-        //   search for ckbi in the directories on the shared
-        //   library/DLL search path
+      NS_XPCOM_CURRENT_PROCESS_DIR
     };
 
     for (size_t il = 0; il < sizeof(possible_ckbi_locations)/sizeof(const char*); ++il) {
@@@@ -769,7 +768,7 @@@@ nsNSSComponent::InstallLoadableRoots()
 
       if (!possible_ckbi_locations[il])
       {
-        fullModuleName = PR_GetLibraryName(nsnull, "nssckbi");
+        fullModuleName = PR_GetLibraryName(NSS_LIBDIR, "nssckbi");
       }
       else
       {
@


1.4
log
@seamonkey-1.1.17.  MFSA 2009-33; MFSA 2009-32; MFSA 2009-29; MFSA
2009-27; MFSA 2009-26; MFSA 2009-24; MFSA 2009-21; MFSA 2009-17.
@
text
@d1 1
a1 1
$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.3 2008/07/17 16:49:33 martynas Exp $
@


1.3
log
@security update to seamonkey-1.1.11.  MFSA 2008-34
ok kurt@@, naddy@@
@
text
@d1 4
a4 4
$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.2 2008/07/05 00:42:31 martynas Exp $
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Thu Jul  3 01:57:55 2008
+++ security/manager/ssl/src/nsNSSComponent.cpp	Wed Jul 16 03:47:35 2008
@@@@ -702,11 +702,10 @@@@ nsNSSComponent::InstallLoadableRoots()
d19 1
a19 1
@@@@ -715,7 +714,7 @@@@ nsNSSComponent::InstallLoadableRoots()
@


1.2
log
@- security update to seamonkey-1.1.10:
http://www.mozilla.org/projects/security/known-vulnerabilities.html#seamonkey1.1.10
- remove bogus hindi langpack, spotted by naddy@@
- security coreconf integrated upstream, remove
- fix linking, sync wantlib, add bin markers
ok kurt@@, naddy@@
@
text
@d1 4
a4 4
$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.1 2007/03/26 20:41:37 martynas Exp $
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Mon Jun 16 01:23:30 2008
+++ security/manager/ssl/src/nsNSSComponent.cpp	Wed Jul  2 18:25:57 2008
@@@@ -700,11 +700,10 @@@@ nsNSSComponent::InstallLoadableRoots()
d19 1
a19 1
@@@@ -713,7 +712,7 @@@@ nsNSSComponent::InstallLoadableRoots()
@


1.1
log
@major update to seamonkey 1.1.1
ok kurt@@, naddy@@
@
text
@d1 4
a4 4
$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.1 2007/01/12 21:46:17 kurt Exp $
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Mon May 15 21:24:30 2006
+++ security/manager/ssl/src/nsNSSComponent.cpp	Wed Jan 10 18:13:16 2007
@@@@ -699,11 +699,10 @@@@ nsNSSComponent::InstallLoadableRoots()
d19 1
a19 1
@@@@ -712,7 +711,7 @@@@ nsNSSComponent::InstallLoadableRoots()
@


1.1.2.1
log
@MFC:
SECURITY update to SeaMonkey 1.0.8; ok kurt@@, martynas

For details see
http://www.mozilla.org/projects/security/known-vulnerabilities.html#SeaMonkey
---
major update to seamonkey 1.1.1
@
text
@d1 1
a1 1
$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.1 2007/03/26 20:41:37 martynas Exp $
@

