head	1.4;
access;
symbols
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2014.04.29.21.47.00;	author landry;	state dead;
branches;
next	1.3;

1.3
date	2014.03.24.21.34.21;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2014.03.10.20.44.12;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2013.12.12.19.58.39;	author landry;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to seamonkey 2.26rc1 (to ride the mozilla.port.mk changes) and
lightning 3.1.

- See http://www.seamonkey-project.org/releases/seamonkey2.26/
- Fixes MFSA 2014-34,36->39,41->47
- remove now useless config.mk patch, was only here for enigmail
- add patches to fix lightning display (#1001985)
- set spellchecker.dictionary_path to look for systemwide dicts

(note that seamonkey-i18n is not update yet on purpose, as 2.26 final is
not yet available, langpacks are not there *yet* - will be fixed tmrw)
@
text
@$OpenBSD: patch-config_config_mk,v 1.3 2014/03/24 21:34:21 landry Exp $
Fix fallout from http://hg.mozilla.org/releases/comm-release/rev/a6ab55f00e21
XPIDL_LINK being undefined breaks enigmail build
--- config/config.mk.orig	Wed Mar  5 00:26:31 2014
+++ config/config.mk	Sat Mar  8 23:59:03 2014
@@@@ -401,6 +401,7 @@@@ MY_RULES	:= $(DEPTH)/config/myrules.mk
 # Default command macros; can be overridden in <arch>.mk.
 #
 CCC		= $(CXX)
+XPIDL_LINK = $(PYTHON) $(LIBXUL_DIST)/sdk/bin/xpt.py link
 
 OS_INCLUDES += $(NSPR_CFLAGS) $(NSS_CFLAGS) $(MOZ_JPEG_CFLAGS) $(MOZ_PNG_CFLAGS) $(MOZ_ZLIB_CFLAGS)
 
@


1.3
log
@Update to seamonkey 2.25.

- See http://www.seamonkey-project.org/releases/seamonkey2.25/
- Fixes MFSA-2014-15->32 (except 21,24,25, not relevant to SM?)
- Remove enigmail subpackage, build goo & patches, will be
superseded by mail/enigmail,-seamonkey
- add an all-openbsd.js file to customize default preferences and
install it in defaults/pref/. Use it to set
extensions.autoDisableScopes to 3, so that extensions installed in
${LOCALBASE}/lib/mozilla/extensions/${APPID} are enabled by default.
- remove libffi patches, were merged upstream in #928390 and #928381
@
text
@d1 1
a1 1
$OpenBSD: patch-config_config_mk,v 1.2 2014/03/10 20:44:12 landry Exp $
@


1.2
log
@Update to seamonkey 2.24.

See http://www.seamonkey-project.org/releases/seamonkey2.24/
- Fixes MFSA-2014-01 to 13, excluding 06 and 10
- remove GStreamerLoader.cpp patch, merged in 927898 (or now useless)
- remove patch-mozilla_gfx_layers_BufferUnrotate_cpp, merged in 929439
- remove patch-mozilla_ipc_chromium_src_base_debug_util_posix_cc, merged
  in 927810 (was p_psflags change in base)

There *might* be an issue building enigmail, but i dont remember if it
appeared in 2.24 or 2.25, and i'll handle that shortly. Let's ride the
gcc4+www/mozilla MODULE change!
@
text
@d1 1
a1 1
$OpenBSD: patch-config_config_mk,v 1.1 2013/12/12 19:58:39 landry Exp $
d4 3
a6 3
--- config/config.mk.orig	Tue Feb  4 08:00:57 2014
+++ config/config.mk	Wed Feb  5 21:46:54 2014
@@@@ -404,6 +404,7 @@@@ MY_RULES	:= $(DEPTH)/config/myrules.mk
@


1.1
log
@Update to seamonkey 2.23.

- See http://www.seamonkey-project.org/releases/seamonkey2.23/
- Fixes MFSA-2013-104 -> 117 (all but 105, in fact)
- remove patch-ipc_chromium_src_base_dir_reader_bsd_h (#909005),
  the getdents() patch has been merged upstream.
- temporarly add a config/config.mk patch to reinstate XPIDL_LINK,
  fallout from http://hg.mozilla.org/releases/comm-release/rev/a6ab55f00e21
  (this is needed for enigmail to build fine.)
@
text
@d1 1
a1 1
$OpenBSD$
d4 3
a6 3
--- config/config.mk.orig	Tue Dec 10 10:22:36 2013
+++ config/config.mk	Tue Dec 10 10:22:57 2013
@@@@ -325,6 +325,7 @@@@ MY_RULES	:= $(DEPTH)/config/myrules.mk
@

