head	1.3;
access;
symbols
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2013.04.06.14.48.10;	author landry;	state dead;
branches;
next	1.2;

1.2
date	2013.03.03.17.39.15;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2013.01.11.23.17.32;	author landry;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to seamonkey 2.17.

- See http://www.seamonkey-project.org/releases/seamonkey2.17/
- Fixes MFSA 2013-30->40
- switch back to use clang on i386, now that llvm got fixed there
- backport libffi i386 fix (TODO: switch to systemwide libffi if possible)
- nicer fix to avoid installing the sdk lib/headers
@
text
@$OpenBSD: patch-mozilla_toolkit_mozapps_installer_packager_mk,v 1.2 2013/03/03 17:39:15 landry Exp $
--- mozilla/toolkit/mozapps/installer/packager.mk.orig	Mon Feb 18 05:06:49 2013
+++ mozilla/toolkit/mozapps/installer/packager.mk	Sun Feb 24 10:22:32 2013
@@@@ -900,7 +900,7 @@@@ ifeq (bundle,$(MOZ_FS_LAYOUT))
 	$(error "make install" is not supported on this platform. Use "make package" instead.)
 endif
 	$(NSINSTALL) -D $(DESTDIR)$(installdir)
-	(cd $(DIST)/$(MOZ_PKG_DIR) && tar --exclude=precomplete $(TAR_CREATE_FLAGS) - .) | \
+	(cd $(DIST)/$(MOZ_PKG_DIR) && $(TAR) --exclude=precomplete $(TAR_CREATE_FLAGS) - .) | \
 	  (cd $(DESTDIR)$(installdir) && tar -xf -)
 	$(NSINSTALL) -D $(DESTDIR)$(bindir)
 	$(RM) -f $(DESTDIR)$(bindir)/$(MOZ_APP_NAME)
@


1.2
log
@Update to seamonkey 2.16 / enigmail 1.5.1

- see http://www.seamonkey-project.org/releases/seamonkey2.16/
- fixes MFSA 2013-21->28
- provides a builtin pdf viewer (pdf.js)
- remove patch-mozilla_toolkit_system_gnome_nsGIOService_cpp (#805202), firefox
now properly links with gio instead of dlopening it
- remove patch-mozilla_toolkit_xre_nsXREDirProvider_cpp and
patch-mozilla_xpcom_io_nsAppFileLocationProvider_cpp, merged upstream (#803955)
@
text
@d1 1
a1 1
$OpenBSD: patch-mozilla_toolkit_mozapps_installer_packager_mk,v 1.1 2013/01/11 23:17:32 landry Exp $
@


1.1
log
@Update to seamonkey 2.15/enigmail 1.5.0/lightning 2.0beta1

- see http://www.seamonkey-project.org/releases/seamonkey2.15/
- fixes MFSA 2013-01 -> 20
- build with clang on i386/amd64 and with gcc 4.6 on powerpc. Required
since upstream dropped support for gcc < 4.4.
- don't build against systemwide jpeg anymore since it now needs its
internal libjpeg-turbo.
- add a stub method to sydney_audio_sndio.c in post-patch.
- add patch-mozilla_toolkit_mozapps_installer_packager_mk to fix a tar
  vs $(TAR) usage (bug #815793)
- remove patch-ipc_chromium_src_base_atomicops_h, not needed anymore
- remove enigmail genxpi patch, and to a SUBST_VARS dance with an
XPCOM_ABI variable for the consistent naming of the new internal
libsuprocess ipc lib.
- add an enigmail patch to link with -shared
@
text
@d1 4
a4 4
$OpenBSD$
--- mozilla/toolkit/mozapps/installer/packager.mk.orig	Mon Dec 17 19:47:48 2012
+++ mozilla/toolkit/mozapps/installer/packager.mk	Mon Dec 17 19:48:07 2012
@@@@ -890,7 +890,7 @@@@ ifeq (bundle,$(MOZ_FS_LAYOUT))
@

