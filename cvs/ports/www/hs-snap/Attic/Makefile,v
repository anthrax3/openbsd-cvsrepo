head	1.16;
access;
symbols
	OPENBSD_5_7:1.15.0.2
	OPENBSD_5_7_BASE:1.15
	OPENBSD_5_6:1.14.0.4
	OPENBSD_5_6_BASE:1.14
	OPENBSD_5_5:1.14.0.2
	OPENBSD_5_5_BASE:1.14
	OPENBSD_5_4:1.13.0.2
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.10.0.2
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	kili_20110924:1.1.1.1
	kili:1.1.1;
locks; strict;
comment	@# @;


1.16
date	2015.07.18.20.32.38;	author kili;	state dead;
branches;
next	1.15;
commitid	rj412dQIIoBHVC2Q;

1.15
date	2014.12.03.21.56.45;	author kili;	state Exp;
branches;
next	1.14;
commitid	3ZRBoZ9htUwSGAvN;

1.14
date	2013.11.25.14.16.23;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2013.07.19.07.00.37;	author kili;	state Exp;
branches;
next	1.12;

1.12
date	2013.05.04.21.17.17;	author kili;	state Exp;
branches;
next	1.11;

1.11
date	2013.03.11.11.44.42;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2013.01.20.18.06.55;	author kili;	state Exp;
branches;
next	1.9;

1.9
date	2012.12.02.20.48.54;	author kili;	state Exp;
branches;
next	1.8;

1.8
date	2012.10.28.23.31.33;	author kili;	state Exp;
branches;
next	1.7;

1.7
date	2012.10.19.18.56.14;	author kili;	state Exp;
branches;
next	1.6;

1.6
date	2012.10.11.14.45.53;	author dcoppa;	state Exp;
branches;
next	1.5;

1.5
date	2012.09.02.21.51.15;	author kili;	state Exp;
branches;
next	1.4;

1.4
date	2012.04.28.19.34.09;	author kili;	state Exp;
branches;
next	1.3;

1.3
date	2012.01.21.12.05.17;	author kili;	state Exp;
branches;
next	1.2;

1.2
date	2011.12.27.21.25.49;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2011.09.24.19.05.32;	author kili;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.09.24.19.05.32;	author kili;	state Exp;
branches;
next	;


desc
@@


1.16
log
@Remove hs-snap & friends to also get rid of some then unused
dependencies (which will follow tomorrow). It's better to build and
update frameworks like snap with cabal (from the cabal-install
package) and eventually to keep only those hs-ports which are
required for end user tools like darcs, xmonad, hpodder etc.

ok aja@@ dcoppa@@
@
text
@# $OpenBSD: Makefile,v 1.15 2014/12/03 21:56:45 kili Exp $

COMMENT =		Snap project starter and glue code library

DISTNAME =		snap-0.12.0
REVISION =		0
CATEGORIES =		www
HOMEPAGE =		http://snapframework.com/

MAINTAINER =		Jim Razmus II <jim@@openbsd.org>, \
			Matthias Kilian <kili@@openbsd.org>

# BSD3
PERMIT_PACKAGE_CDROM =	Yes

MODULES =		converters/libiconv \
			lang/ghc

MODGHC_BUILD =		cabal hackage haddock register

# Support dynamic project reloading via hint.
MODGHC_SETUP_CONF_ARGS =-f hint

WANTLIB +=		c m pthread util z

RUN_DEPENDS +=		devel/hs-MonadCatchIO-transformers>=0.2,<0.4 \
			devel/hs-aeson>=0.6,<0.7 \
			devel/hs-cereal>=0.3,<0.4 \
			devel/hs-comonad>=1.1,<3.1 \
			devel/hs-configurator>=0.1,<0.3 \
			devel/hs-directory-tree>=0.11,<0.12 \
			devel/hs-dlist>=0.5,<0.6 \
			devel/hs-errors>=1.4,<1.5 \
			devel/hs-hashable>=1.1,<1.2 \
			devel/hs-lens>=3.7.6,<3.10 \
			devel/hs-logict>=0.4.2,<0.7 \
			devel/hs-mtl>2.0,<2.2 \
			devel/hs-regex-posix>=0.95,<1 \
			devel/hs-stm>=2.2,<2.5 \
			devel/hs-syb>=0.1,<0.5 \
			devel/hs-text>=0.11,<0.12 \
			devel/hs-unordered-containers>=0.1.4,<0.3 \
			devel/hs-vector>=0.7.1,<0.11 \
			devel/hs-vector-algorithms>=0.4,<0.6 \
			security/hs-mwc-random>=0.8,<0.13 \
			security/hs-pwstore-fast>=2.2,<2.4 \
			textproc/hs-attoparsec>=0.10,<0.11 \
			textproc/hs-heist>=0.12,<0.13 \
			textproc/hs-xmlhtml>=0.1,<0.3 \
			www/hs-clientsession>=0.8,<0.10 \
			www/hs-snap-core>=0.9,<0.11 \
			www/hs-snap-server>=0.9,<0.11

# Those are NOT mentioned in snap.cabal, but they are required by
# default snap projects created with "snap init", so it's probably a
# good idea to add them:
RUN_DEPENDS +=		www/hs-snap-loader-dynamic \
			www/hs-snap-loader-static

BUILD_DEPENDS +=	${RUN_DEPENDS}

# Reuse snaps minimal Setup.hs in the project templates to allow
# building a snap project with something like
# $ runghc Setup.hs configure && runghc Setup.hs build
post-extract:
.for t in barebones default tutorial
	@@cp -p ${WRKSRC}/Setup.hs ${WRKSRC}/project_template/$t/Setup.hs
.endfor

.include <bsd.port.mk>
@


1.15
log
@Remove dependencies on devel/hs-haskeline and devel/hs-transformers,
to unbreak ports like databases/sqlports (noticed by naddy).

plist changes and bumps included, but a little bit pointless (the
ports are still unbuildable).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/11/25 14:16:23 sthen Exp $
@


1.14
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/07/19 07:00:37 kili Exp $
d6 1
a41 1
			devel/hs-transformers>=0.2,<0.4 \
@


1.13
log
@Update to snap-0.12.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/05/04 21:17:17 kili Exp $
a60 3

# Haddock is a memory pig on this port.
VMEM_WARNING =		Yes
@


1.12
log
@Bump after update of textproc/hs-attoparsec.

Greetings to espie@@ (btw: it's ghc that sucks, not haskell).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/03/11 11:44:42 espie Exp $
d5 1
a5 2
DISTNAME =		snap-0.9.2.2
REVISION =		3
d28 1
d30 3
a32 3
			devel/hs-data-lens>=2.0.1,<2.11 \
			devel/hs-data-lens-template>=2.1,<2.2 \
			devel/hs-directory-tree>=0.10,<0.12 \
d34 2
a35 1
			devel/hs-logict>=0.4.2,<0.6 \
d37 1
d39 1
a39 1
			devel/hs-syb>=0.1,<0.4 \
d46 1
a46 1
			security/hs-pwstore-fast>=2.3,<2.4 \
d48 1
a48 1
			textproc/hs-heist>=0.7,<0.9 \
d50 3
a52 3
			www/hs-clientsession>=0.8,<0.9 \
			www/hs-snap-core>=0.9.2,<0.10 \
			www/hs-snap-server>=0.9.2,<0.10
@


1.11
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/01/20 18:06:55 kili Exp $
d6 1
a6 1
REVISION =		2
@


1.10
log
@Regenerate plist for profiling libs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/12/02 20:48:54 kili Exp $
a14 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.9
log
@Bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/10/28 23:31:33 kili Exp $
d6 1
a6 1
REVISION =		1
@


1.8
log
@Move the @@exec and @@unexec lines running the {,un}register.sh scripts
and the line with the unregister.sh script down to the bottom of
the plist. Silences all the blurb about ".../*.haddock doesn't exist
or isn't a file."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/10/19 18:56:14 kili Exp $
d6 1
a6 1
REVISION =		0
@


1.7
log
@Update to hs-snap-0.9.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/10/11 14:45:53 dcoppa Exp $
d6 1
@


1.6
log
@Fix fallout of haskell ports, now that devel/gmp is no more a
dependency for ghc - this is the last one
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/09/02 21:51:15 kili Exp $
d5 1
a5 2
DISTNAME =		snap-0.8.1
REVISION =		0
d34 1
a34 1
			devel/hs-directory-tree>=0.10,<0.11 \
a35 1
			devel/hs-hint>=0.3.3.1,<0.4 \
d38 1
a38 2
			devel/hs-safe>=0.3,<0.4 \
			devel/hs-stm>=2.2,<2.4 \
d43 1
a44 2
			devel/hs-vector>=0.7.1,<0.10 \
			security/hs-crypto>=4.2,<4.3 \
d46 1
a46 2
			security/hs-pwstore-fast>=2.2,<2.3 \
			security/hs-skein>=0.1.0.3,<0.2 \
d49 10
a58 4
			textproc/hs-xmlhtml>=0.1,<0.2.1 \
			www/hs-clientsession>=0.7.3.6,<0.8 \
			www/hs-snap-core>=0.8.1,<0.9 \
			www/hs-snap-server>=0.8.1,<0.9 \
@


1.5
log
@Update to snap-0.8.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/04/28 19:34:09 kili Exp $
d6 1
d27 1
a27 1
WANTLIB +=		c gmp m pthread util z
@


1.4
log
@Update to hs-snap-0.7.

ok jasper@@

(and added myself as maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/12/27 21:25:49 kili Exp $
d5 1
a5 1
DISTNAME =		snap-0.7
d28 2
a29 2
RUN_DEPENDS +=		devel/hs-MonadCatchIO-transformers>=0.2,<0.3 \
			devel/hs-aeson>=0.4,<0.5 \
d32 1
a33 1
			devel/hs-data-lens>=2.0.1,<2.1 \
d38 1
a38 1
			devel/hs-mtl>2.0,<2.1 \
d40 1
a40 1
			devel/hs-stm>=2.2,<2.3 \
d43 2
a44 2
			devel/hs-transformers>=0.2,<0.3 \
			devel/hs-unordered-containers>=0.1.4,<0.2 \
d48 1
a48 1
			security/hs-mwc-random>=0.8,<0.11 \
d52 2
a53 2
			textproc/hs-heist>=0.7,<0.8 \
			textproc/hs-xmlhtml>=0.1,<0.2 \
d55 2
a56 2
			www/hs-snap-core>=0.7,<0.8 \
			www/hs-snap-server>=0.7,<0.8 \
@


1.3
log
@This needs a bump after the update of hs-attoparsec.

Add myself to MAINTAINER.
@
text
@d5 1
a5 2
DISTNAME =		snap-0.5.3.1
REVISION =		1
d23 3
d28 30
a57 16
RUN_DEPENDS +=		archivers/hs-zlib \
			devel/hs-blaze-builder \
			devel/hs-cereal \
			devel/hs-directory-tree \
			devel/hs-dlist \
			devel/hs-enumerator \
			devel/hs-hint \
			devel/hs-MonadCatchIO-transformers \
			devel/hs-mtl \
			devel/hs-text \
			devel/hs-unix-compat \
			textproc/hs-attoparsec \
			textproc/hs-heist \
			textproc/hs-bytestring-nums \
			www/hs-snap-core \
			www/hs-snap-server
d60 3
d67 3
a69 2
	@@cp -p ${WRKSRC}/Setup.hs ${WRKSRC}/project_template/default/Setup.hs
	@@cp -p ${WRKSRC}/Setup.hs ${WRKSRC}/project_template/barebones/Setup.hs
@


1.2
log
@Bump to enforce updates.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/09/24 19:05:32 kili Exp $
d6 1
a6 1
REVISION =		0
d10 2
a11 1
MAINTAINER =		Jim Razmus II <jim@@openbsd.org>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
@


1.1.1.1
log
@Snap skeleton project generator and the snap library containing
convenience functions and support code for the generator.

ok jasper@@ jim@@

@
text
@@
