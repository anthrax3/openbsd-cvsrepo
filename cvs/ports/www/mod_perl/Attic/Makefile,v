head	1.46;
access;
symbols
	OPENBSD_5_9:1.45.0.2
	OPENBSD_5_9_BASE:1.45
	OPENBSD_5_8:1.44.0.6
	OPENBSD_5_8_BASE:1.44
	OPENBSD_5_7:1.44.0.2
	OPENBSD_5_7_BASE:1.44
	OPENBSD_5_6:1.43.0.2
	OPENBSD_5_6_BASE:1.43
	OPENBSD_5_5:1.41.0.4
	OPENBSD_5_5_BASE:1.41
	OPENBSD_5_4:1.41.0.2
	OPENBSD_5_4_BASE:1.41
	OPENBSD_5_3:1.38.0.4
	OPENBSD_5_3_BASE:1.38
	OPENBSD_5_2:1.38.0.2
	OPENBSD_5_2_BASE:1.38
	OPENBSD_5_1_BASE:1.36
	OPENBSD_5_1:1.36.0.2
	OPENBSD_5_0:1.35.0.2
	OPENBSD_5_0_BASE:1.35
	OPENBSD_4_9:1.34.0.2
	OPENBSD_4_9_BASE:1.34
	OPENBSD_4_8:1.30.0.4
	OPENBSD_4_8_BASE:1.30
	OPENBSD_4_7:1.30.0.2
	OPENBSD_4_7_BASE:1.30
	OPENBSD_4_6:1.29.0.2
	OPENBSD_4_6_BASE:1.29
	OPENBSD_4_5:1.27.0.2
	OPENBSD_4_5_BASE:1.27
	OPENBSD_4_4:1.23.0.2
	OPENBSD_4_4_BASE:1.23
	OPENBSD_4_3:1.22.0.2
	OPENBSD_4_3_BASE:1.22
	OPENBSD_4_2:1.21.0.2
	OPENBSD_4_2_BASE:1.21
	OPENBSD_4_1:1.18.0.8
	OPENBSD_4_1_BASE:1.18
	OPENBSD_4_0:1.18.0.6
	OPENBSD_4_0_BASE:1.18
	OPENBSD_3_9:1.18.0.4
	OPENBSD_3_9_BASE:1.18
	OPENBSD_3_8:1.18.0.2
	OPENBSD_3_8_BASE:1.18
	OPENBSD_3_7:1.17.0.2
	OPENBSD_3_7_BASE:1.17
	OPENBSD_3_6:1.15.0.2
	OPENBSD_3_6_BASE:1.15
	OPENBSD_3_5:1.14.0.2
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.13.0.2
	OPENBSD_3_4_BASE:1.13
	OPENBSD_3_3:1.12.0.2
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.11.0.2
	OPENBSD_3_2_BASE:1.11
	OPENBSD_3_1:1.10.0.2
	OPENBSD_3_1_BASE:1.10
	OPENBSD_3_0:1.8.0.2
	OPENBSD_3_0_BASE:1.8
	OPENBSD_2_9_TRACKING_SWITCH:1.7
	OPENBSD_2_9:1.6.0.2
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_8:1.3.0.2
	OPENBSD_2_8_BASE:1.3
	brad_2000-09-06:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.46
date	2016.04.28.17.43.23;	author sthen;	state dead;
branches;
next	1.45;
commitid	l20MhochuRfAT0hn;

1.45
date	2015.12.03.21.24.32;	author sthen;	state Exp;
branches;
next	1.44;
commitid	qh8BBe4z9PLvLPKf;

1.44
date	2014.11.19.01.39.33;	author sthen;	state Exp;
branches;
next	1.43;
commitid	V9tjfCMkXmo7J7t8;

1.43
date	2014.06.14.10.34.45;	author sthen;	state Exp;
branches;
next	1.42;
commitid	HiKZ10xJk2o55vyF;

1.42
date	2014.03.13.17.33.27;	author sthen;	state Exp;
branches;
next	1.41;

1.41
date	2013.04.20.13.55.48;	author sthen;	state Exp;
branches;
next	1.40;

1.40
date	2013.03.22.15.55.53;	author sthen;	state Exp;
branches;
next	1.39;

1.39
date	2013.03.11.11.44.43;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2012.06.13.12.41.14;	author okan;	state Exp;
branches;
next	1.37;

1.37
date	2012.05.18.20.56.25;	author sthen;	state Exp;
branches;
next	1.36;

1.36
date	2011.09.17.10.29.44;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2011.05.10.08.03.49;	author sthen;	state Exp;
branches;
next	1.34;

1.34
date	2010.11.22.08.36.49;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2010.10.19.08.02.54;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2010.09.26.17.45.14;	author sebastia;	state Exp;
branches;
next	1.31;

1.31
date	2010.09.24.15.37.42;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2010.02.26.14.45.03;	author sthen;	state Exp;
branches;
next	1.29;

1.29
date	2009.06.05.16.13.15;	author dhill;	state Exp;
branches;
next	1.28;

1.28
date	2009.06.03.00.48.51;	author pyr;	state Exp;
branches;
next	1.27;

1.27
date	2008.10.11.10.58.58;	author simon;	state Exp;
branches;
next	1.26;

1.26
date	2008.10.01.14.31.35;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2008.09.30.13.18.59;	author simon;	state Exp;
branches;
next	1.24;

1.24
date	2008.09.24.18.33.08;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2008.05.09.08.24.31;	author mbalmer;	state Exp;
branches;
next	1.22;

1.22
date	2007.09.15.20.38.22;	author merdely;	state Exp;
branches;
next	1.21;

1.21
date	2007.06.30.15.32.30;	author simon;	state Exp;
branches;
next	1.20;

1.20
date	2007.06.26.19.19.46;	author simon;	state Exp;
branches;
next	1.19;

1.19
date	2007.05.04.08.43.05;	author bernd;	state Exp;
branches;
next	1.18;

1.18
date	2005.07.06.23.18.11;	author jolan;	state Exp;
branches
	1.18.6.1
	1.18.8.1;
next	1.17;

1.17
date	2004.12.11.13.29.22;	author alek;	state Exp;
branches;
next	1.16;

1.16
date	2004.11.26.10.18.06;	author alek;	state Exp;
branches;
next	1.15;

1.15
date	2004.04.13.14.37.26;	author peter;	state Exp;
branches;
next	1.14;

1.14
date	2003.10.18.19.44.47;	author sturm;	state Exp;
branches;
next	1.13;

1.13
date	2003.05.22.14.16.23;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2002.11.21.14.37.36;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2002.05.15.17.58.50;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2002.03.17.04.55.03;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2002.01.16.03.30.55;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2001.09.07.22.37.59;	author peter;	state Exp;
branches;
next	1.7;

1.7
date	2001.08.13.02.57.14;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2001.04.22.10.41.57;	author peter;	state Exp;
branches;
next	1.5;

1.5
date	2001.04.18.23.08.29;	author avsm;	state Exp;
branches;
next	1.4;

1.4
date	2001.02.09.19.19.39;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2000.10.22.18.46.03;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2000.09.23.23.43.36;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.06.07.52.45;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.09.06.07.52.45;	author brad;	state Exp;
branches;
next	;

1.18.6.1
date	2007.05.05.08.20.00;	author sturm;	state Exp;
branches;
next	;

1.18.8.1
date	2007.05.05.08.28.41;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.46
log
@unhook mod_perl, everything using it has been moved to ap2-mod_perl (mod_perl2)
@
text
@# $OpenBSD: Makefile,v 1.45 2015/12/03 21:24:32 sthen Exp $

COMMENT=	module that embeds a Perl interpreter into Apache

DISTNAME=	mod_perl-1.32pre20130312
REVISION=	3
CATEGORIES=	www perl5

# svn checkout; upstream is at http://perl.apache.org/dist/
# or ${MASTER_SITE_PERL_CPAN:=Apache/} but is now mostly dead
# for apache 1.x
MASTER_SITES=	https://spacehopper.org/mirrors/

HOMEPAGE=	http://perl.apache.org/

MODULES=	apache-module

MODAPACHE_NAME= perl
MODAPACHE_LOCATION= ${WRKBUILD}/apaci
MODAPACHE_FILE=	${MODAPACHE_LOCATION}/libperl.so

# Apache
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c m perl util

RUN_DEPENDS=		devel/p5-Devel-Symdump \
			www/p5-libwww \
			www/p5-HTML-Parser

SUBST_VARS=	PKGNAME

NO_TEST=	Yes

CONFIGURE_STYLE= perl
CONFIGURE_ARGS=	USE_APXS="1" EVERYTHING="1" WITH_APXS="${MODAPACHE_APXS}"

INSTALL_TARGET=	pure_install doc_install

post-build:
	@@${MODAPACHE_CREATE_ENABLE_SCRIPT}

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/mod_perl
	${INSTALL_DATA} ${WRKSRC}/htdocs/manual/mod/* \
		${PREFIX}/share/doc/mod_perl
	${MODAPACHE_INSTALL}

.include <bsd.port.mk>
@


1.45
log
@switch my distfiles mirror to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2014/11/19 01:39:33 sthen Exp $
@


1.44
log
@fix mod_perl 1.x build with new perl, from afresh1@@. not tested at runtime,
but it knocks out enough ports from the build that it's worth doing it this way
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2014/06/14 10:34:45 sthen Exp $
d12 1
a12 1
MASTER_SITES=	http://spacehopper.org/mirrors/
@


1.43
log
@@@comment zero-byte perl .bs files in all packages which don't have p5-* PKGNAMEs
and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2014/03/13 17:33:27 sthen Exp $
d6 1
a6 1
REVISION=	2
@


1.42
log
@handle httpd move, originally from florian@@, tweaks by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/04/20 13:55:48 sthen Exp $
d6 1
a6 1
REVISION=	1
@


1.41
log
@Don't install Apache::SizeLimit for the old version of mod_perl, it
conflicts with the new one. Found by Chris Bennett.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/03/22 15:55:53 sthen Exp $
d6 1
a6 1
REVISION=	0
a29 1
BUILD_DEPENDS=		${RUN_DEPENDS}
d36 1
a36 1
CONFIGURE_ARGS=	USE_APXS="1" EVERYTHING="1" WITH_APXS="/usr/sbin/apxs"
@


1.40
log
@update to an svn snapshot of mod_perl.
fix configure script for our shell.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2013/03/11 11:44:43 espie Exp $
d6 1
@


1.39
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2012/06/13 12:41:14 okan Exp $
d5 1
a5 3
DISTNAME=	mod_perl-1.31
PKGNAME=	${DISTNAME}
REVISION=	6
d7 5
a11 2
MASTER_SITES=	http://perl.apache.org/dist/ \
		${MASTER_SITE_PERL_CPAN:=Apache/}
d23 2
a24 1
WANTLIB=		c m perl util 
a36 1
USE_GROFF =	Yes
@


1.38
log
@rename local variable to avoid conflict with perl; from Brad.

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2012/05/18 20:56:25 sthen Exp $
a21 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d31 1
a31 1
NO_REGRESS=	Yes
@


1.37
log
@use /etc/rc.d/httpd restart in MESSAGE, not apachectl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/09/17 10:29:44 sthen Exp $
d7 1
a7 1
REVISION=	5
@


1.36
log
@Better @@exec-update lines; don't produce an error with pkg_add updates
if the module is installed but not activated. From Mikolaj Kucharski with
help from halex@@, looks good to halex.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/05/10 08:03:49 sthen Exp $
d7 1
a7 1
REVISION=	4
@


1.35
log
@- add a run dependency of p5-Devel-Symdump (Apache::Status uses this.
it has some checks to display a warning rather than fail, but this isn't
done consistently, so it's easier to just add the dep).

- fix @@exec-update in the case where mod_perl was installed but not enabled

from Mikolaj Kucharski, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/11/22 08:36:49 espie Exp $
d7 1
a7 1
REVISION=	3
@


1.34
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/10/19 08:02:54 espie Exp $
d7 1
a7 1
REVISION=	2
d27 2
a28 1
RUN_DEPENDS=		www/p5-libwww \
@


1.33
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/09/26 17:45:14 sebastia Exp $
d27 2
a28 2
RUN_DEPENDS=		::www/p5-libwww \
			::www/p5-HTML-Parser
@


1.32
log
@bump apache modules, since mod_headers in base httpd was updated.

OK, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/09/24 15:37:42 sthen Exp $
d37 1
@


1.31
log
@bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/02/26 14:45:03 sthen Exp $
d7 1
a7 1
REVISION=	1
@


1.30
log
@bump PKGNAMEs, the httpd abi changed, resulting in segfaults after
updating httpd until newly-built packages are installed.

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/06/05 16:13:15 dhill Exp $
d6 2
a7 1
PKGNAME=	${DISTNAME}p0
@


1.29
log
@update to 1.31

ok simon@@ merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/06/03 00:48:51 pyr Exp $
d6 1
@


1.28
log
@Bump apache modules after my recent ABI breakage, to be on the safe side.
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2008/10/11 10:58:58 simon Exp $
d5 1
a5 2
DISTNAME=	mod_perl-1.30
PKGNAME=	${DISTNAME}p7
d24 4
@


1.27
log
@Take fix from upstream to make it work with perl 5.10.

Also noticed by, tested and ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2008/10/01 14:31:35 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p6
@


1.26
log
@reinstate manpages, now perl/lib/ExtUtils/MM_Unix.pm is repaired.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/09/30 13:18:59 simon Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p5
@


1.25
log
@regen packaging list for new perl and bump

noticed by and ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/09/24 18:33:08 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
@


1.24
log
@- fix build with GCC2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/05/09 08:24:31 mbalmer Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.23
log
@Fix for new httpd module ABI.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/09/15 20:38:22 merdely Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.22
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2007/06/30 15:32:30 simon Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.21
log
@bump versions as MODAPACHE_FINAL changed
and fix mod_security packaging while there

"go ahead" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2007/06/26 19:19:46 simon Exp $
d3 1
a3 1
COMMENT=	"module that embeds a Perl interpreter into Apache"
@


1.20
log
@finish switch to apache module framework, change license for
mod_auth_mysql and remove two maintainers on their own request

feedback & ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/05/04 08:43:05 bernd Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.19
log
@Security update to mod_perl-1.30. (CVE-2007-1349)

Fix unescaped variable interpolation in Apache::PerlRun regular expression
to prevent regex engine tampering.

Details:
http://perl.apache.org/dist/mod_perl-1.0-current/Changes

test & ok simon@@
@
text
@d1 1
a1 5
# $OpenBSD: Makefile,v 1.18 2005/07/06 23:18:11 jolan Exp $

# This port currently only works with archs supporting dynamic loading
# and has Apache that supports DSO's.
SHARED_ONLY=	Yes
d6 1
d13 6
d36 1
a36 2
	@@sed -e s#!!PREFIX!!#${PREFIX}#g \
	< ${FILESDIR}/mod_perl-enable > ${WRKBUILD}/mod_perl-enable
a39 1
	${INSTALL_DATA} ${WRKBUILD}/apaci/libperl.so ${PREFIX}/lib/mod_perl.so
d42 1
a42 1
	${INSTALL_SCRIPT} ${WRKBUILD}/mod_perl-enable ${PREFIX}/sbin
@


1.18
log
@remove peter galbavy as maintainer per his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2004/12/11 13:29:22 alek Exp $
d9 1
a9 2
DISTNAME=	mod_perl-1.29
PKGNAME=	${DISTNAME}p0
@


1.18.8.1
log
@MFC:
Security update to mod_perl-1.30. (CVE-2007-1349)

Fix unescaped variable interpolation in Apache::PerlRun regular expression
to prevent regex engine tampering.

Details:
http://perl.apache.org/dist/mod_perl-1.0-current/Changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2005/07/06 23:18:11 jolan Exp $
d9 2
a10 1
DISTNAME=	mod_perl-1.30
@


1.18.6.1
log
@MFC:
Security update to mod_perl-1.30. (CVE-2007-1349)

Fix unescaped variable interpolation in Apache::PerlRun regular expression
to prevent regex engine tampering.

Details:
http://perl.apache.org/dist/mod_perl-1.0-current/Changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2005/07/06 23:18:11 jolan Exp $
d9 2
a10 1
DISTNAME=	mod_perl-1.30
@


1.17
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2004/11/26 10:18:06 alek Exp $
a15 2

MAINTAINER=	Peter Galbavy <peter.galbavy@@knowtion.net>
@


1.16
log
@- Replace DEINSTALL witn @@unexec and UNMESSAGE
- Bump PKGNAME

ok Peter Galbavy (MAINTAINER), naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/04/13 14:37:26 peter Exp $
d24 1
@


1.15
log
@Update to 1.29.

Patch to set perl_destruct_level to -1 no longer appears required. Tested with
perl 5.8.2 on i386. Typical problems used to include failed restarts via SIGHUP
which have now gone away.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2003/10/18 19:44:47 sturm Exp $
d5 1
a5 1
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
d10 1
@


1.14
log
@license markers and some corrections
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2003/05/22 14:16:23 naddy Exp $
d9 1
a9 1
DISTNAME=	mod_perl-1.27
d26 2
d29 1
a29 2
CONFIGURE_ARGS=	USE_APXS="1" EVERYTHING="1" PERL_DEBUG=1 \
		WITH_APXS="/usr/sbin/apxs" PERL_USELARGEFILES="0"
@


1.13
log
@Use NO_SHARED_ARCHS rather than hardcoding the list of architectures that
support dynamic loading.  From Xavier Santolaria <xavier@@santolaria.net>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/11/21 14:37:36 naddy Exp $
d18 1
@


1.12
log
@Update to 1.27; from Peter Galbavy <peter.galbavy@@knowtion.net>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/05/15 17:58:50 espie Exp $
d5 1
a5 1
ONLY_FOR_ARCHS=	alpha i386 m68k powerpc sparc sparc64
@


1.11
log
@MASTER_SITE_SUBDIR kill
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/03/17 04:55:03 brad Exp $
d9 1
a9 1
DISTNAME=	mod_perl-1.26
a10 1
NEED_VERSION=	1.500
@


1.10
log
@Enable these modules on alpha, powerpc and sparc64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/01/16 03:30:55 brad Exp $
d13 1
a13 2
		${MASTER_SITE_PERL_CPAN}
MASTER_SITE_SUBDIR= Apache
@


1.9
log
@- bump NEED_VERSION
- rename checksums file
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/09/07 22:37:59 peter Exp $
d5 1
a5 1
ONLY_FOR_ARCHS=	i386 m68k sparc
@


1.8
log
@update my e-mail address

as an aside, should any arch's, apart from i386/m68k/sparc be supporting
DSO in Apache ? So many changes recently...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/08/13 02:57:14 brad Exp $
d11 1
a11 1
NEED_VERSION=	1.435
@


1.7
log
@upgrade to mod_perl 1.26
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/04/22 10:41:57 peter Exp $
d18 1
a18 1
MAINTAINER=	Peter Galbavy <peter.galbavy@@knowledge.com>
d28 1
a28 1
CONFIGURE_ARGS=	USE_APXS="1" EVERYTHING="1" \
@


1.6
log
@take over being maintainer from ports@@

ok'd espie (yesterday)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/04/18 23:08:29 avsm Exp $
d3 2
a4 1
# This port current only works with archs supporting dynamic loading
d9 1
a9 1
DISTNAME=	mod_perl-1.25
d11 1
a11 1
NEED_VERSION=	1.401
d17 1
d25 2
d28 2
a29 1
CONFIGURE_ARGS=	USE_APXS="1" EVERYTHING="1" WITH_APXS="/usr/sbin/apxs" PERL_USELARGEFILES="0"
d35 1
a35 1
	< ${FILESDIR}/mod_perl-enable > ${WRKDIR}/mod_perl-enable
d42 1
a42 1
	${INSTALL_SCRIPT} ${WRKDIR}/mod_perl-enable ${PREFIX}/sbin
@


1.5
log
@- revert MAINTAINER to ports@@ until Pavel's email stops bouncing
- integrate COMMENT, bump NEED_VERSION
- dont rm some directories that are used by other CPAN modules
- build without LARGEFILE support, since in-tree Apache does not include it
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/02/09 19:19:39 brad Exp $
d16 1
a16 1
MAINTAINER=	ports@@openbsd.org
@


1.4
log
@upgrade to mod_perl 1.25
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/10/22 18:46:03 espie Exp $
d6 2
d10 1
a10 1
NEED_VERSION=	1.337
d16 1
a16 2

MAINTAINER=	Pavel Korovin <pvk@@openbsd.ru>
d24 1
a24 1
CONFIGURE_ARGS=	USE_APXS="1" EVERYTHING="1" WITH_APXS="/usr/sbin/apxs"
@


1.3
log
@Update pvk MAINTAINER name.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/09/23 23:43:36 brad Exp $
d3 1
d6 1
a6 1
DISTNAME=	mod_perl-1.24
@


1.2
log
@replace do-configure workaround with proper use of CONFIGURE_STYLE and
CONFIGURE_ARGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/09/06 07:52:45 brad Exp $
d14 1
a14 1
MAINTAINER=	pvk@@openbsd.ru
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
NEED_VERSION=	1.324
d21 3
a24 15

do-configure:
	@@arch=`/usr/bin/perl -e 'use Config; print $$Config{archname}, "\n";'`; \
	cd ${WRKSRC}; ${SETENV} ${MAKE_ENV} \
	/usr/bin/perl Makefile.PL \
	USE_APXS=1 EVERYTHING=1 WITH_APXS=/usr/sbin/apxs \
	PREFIX='$${DESTDIR}${PREFIX}' \
	INSTALLSITELIB='$${DESTDIR}${PREFIX}/libdata/perl5/site_perl' \
	INSTALLSITEARCH="\$${INSTALLSITELIB}/$$arch" \
	INSTALLPRIVLIB='$${DESTDIR}/usr/libdata/perl5' \
	INSTALLARCHLIB="\$${INSTALLPRIVLIB}/$$arch" \
	INSTALLMAN1DIR='$${DESTDIR}${PREFIX}/man/man1' \
	INSTALLMAN3DIR='$${DESTDIR}${PREFIX}/man/man3' \
	INSTALLBIN='$${PREFIX}/bin' \
	INSTALLSCRIPT='$${INSTALLBIN}'
@


1.1.1.1
log
@add mod_perl port; From: Pavel Korovin <pvk@@openbsd.ru>
--
Tested on i386 (by Pavel), SPARC (by me). Needs testing on m68k-based
systems.
--
The Apache/Perl integration project brings together the full power of the
Perl programming language and the Apache HTTP server. This is achieved by
linking the Perl runtime library into the server and providing an object
oriented Perl interface to the server's C language API.

These pieces are seamlessly glued together by the `mod_perl' server
plugin, making it is possible to write Apache modules entirely in Perl.
In addition, the persistent interpreter embedded in the server avoids the
overhead of starting an external interpreter program and the additional
Perl start-up (compile) time.
@
text
@@
