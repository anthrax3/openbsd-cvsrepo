head	1.22;
access;
symbols
	OPENBSD_6_1:1.22.0.2
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.18.0.2
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.17.0.2
	OPENBSD_5_9_BASE:1.17
	OPENBSD_5_8:1.15.0.4
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.13.0.6
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.13.0.4
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.2
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.8.0.2
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.7.0.4
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.2
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	fgsch_20110328:1.1.1.1
	fgsch:1.1.1;
locks; strict;
comment	@# @;


1.22
date	2017.02.23.02.51.10;	author danj;	state Exp;
branches;
next	1.21;
commitid	sFxv4v2eGZsuQXRy;

1.21
date	2017.01.03.19.28.48;	author landry;	state Exp;
branches;
next	1.20;
commitid	FjegDtQNQE99RNGk;

1.20
date	2016.11.10.21.58.41;	author danj;	state Exp;
branches;
next	1.19;
commitid	4ER2f1Ti7zNi2Qmp;

1.19
date	2016.11.02.16.50.02;	author danj;	state Exp;
branches;
next	1.18;
commitid	YPK1uBp7kkEAo0h4;

1.18
date	2016.04.16.19.06.26;	author shadchin;	state Exp;
branches;
next	1.17;
commitid	wfEd7xGXnB5Lv2RG;

1.17
date	2015.09.29.10.52.54;	author sthen;	state Exp;
branches;
next	1.16;
commitid	YNrJu4NUvrCuknd3;

1.16
date	2015.09.24.10.43.39;	author jca;	state Exp;
branches;
next	1.15;
commitid	sNDnFIHliUn5KmAX;

1.15
date	2015.05.18.11.29.38;	author jasper;	state Exp;
branches;
next	1.14;
commitid	g3eYBWefuCrWTDW1;

1.14
date	2015.04.02.14.21.17;	author jasper;	state Exp;
branches;
next	1.13;
commitid	4Dkfcsk2uZtFDSwy;

1.13
date	2013.12.25.18.45.12;	author fgsch;	state Exp;
branches;
next	1.12;

1.12
date	2013.06.04.07.57.13;	author fgsch;	state Exp;
branches;
next	1.11;

1.11
date	2013.05.02.20.09.35;	author fgsch;	state Exp;
branches;
next	1.10;

1.10
date	2013.03.11.11.44.48;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2013.03.10.10.57.51;	author fgsch;	state Exp;
branches;
next	1.8;

1.8
date	2012.08.10.20.13.10;	author fgsch;	state Exp;
branches;
next	1.7;

1.7
date	2011.12.29.15.14.01;	author fgsch;	state Exp;
branches;
next	1.6;

1.6
date	2011.10.05.08.36.58;	author fgsch;	state Exp;
branches;
next	1.5;

1.5
date	2011.09.16.12.00.08;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2011.07.14.22.34.02;	author fgsch;	state Exp;
branches;
next	1.3;

1.3
date	2011.07.08.08.11.04;	author fgsch;	state Exp;
branches;
next	1.2;

1.2
date	2011.06.08.18.15.29;	author rpointel;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.28.00.20.20;	author fgsch;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.03.28.00.20.20;	author fgsch;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Maintainer update to py-flask-0.12
@
text
@# $OpenBSD: Makefile,v 1.21 2017/01/03 19:28:48 landry Exp $

COMMENT =		microframework based on Werkzeug and Jinja 2

MODPY_EGG_VERSION =	0.12
DISTNAME =		Flask-${MODPY_EGG_VERSION}
PKGNAME =		py-${DISTNAME:L}

CATEGORIES =		www devel

HOMEPAGE =		http://flask.pocoo.org/

MAINTAINER =		Daniel Jakots <obsd@@chown.me>

# BSD
PERMIT_PACKAGE_CDROM =	Yes

MODULES =		lang/python
MODPY_PI =		Yes
MODPY_SETUPTOOLS =	Yes

FLAVORS =		python3
FLAVOR ?=

RUN_DEPENDS =		devel/py-blinker${MODPY_FLAVOR} \
			www/py-itsdangerous${MODPY_FLAVOR} \
			www/py-jinja2${MODPY_FLAVOR} \
			www/py-werkzeug${MODPY_FLAVOR} \
			devel/py-click${MODPY_FLAVOR}
BUILD_DEPENDS =		textproc/py-sphinx${MODPY_FLAVOR} \
			www/py-itsdangerous${MODPY_FLAVOR} \
			www/py-werkzeug${MODPY_FLAVOR}
TEST_DEPENDS =		${RUN_DEPENDS} \
			devel/py-test${MODPY_FLAVOR}

MAKE_ENV =		PYTHONPATH="${WRKSRC}" SPHINXBUILD=${LOCALBASE}/bin/sphinx-build${MODPY_BIN_SUFFIX}

post-build:
	@@cd ${WRKSRC}/docs && ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} html

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/${MODPY_PY_PREFIX}flask
	cd ${WRKSRC}/docs/_build/html && \
	    pax -rw * ${PREFIX}/share/doc/${MODPY_PY_PREFIX}flask
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/${MODPY_PY_PREFIX}flask
	cd ${WRKSRC}/examples && pax -rw * \
	    ${PREFIX}/share/examples/${MODPY_PY_PREFIX}flask
	mv ${PREFIX}/bin/flask ${PREFIX}/bin/flask${MODPY_BIN_SUFFIX}

do-test:
	cd ${WRKSRC} && LC_ALL=C.UTF-8 ${MODPY_BIN} -m pytest tests

.include <bsd.port.mk>
@


1.21
log
@bump ports depending on python3 in www
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/11/10 21:58:41 danj Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	0.11.1
a7 1
REVISION =		0
d51 1
a51 1
	cd ${WRKSRC} && LC_ALL=C.UTF-8 ${MODPY_BIN} -m pytest tests examples
@


1.20
log
@Remove superfluous if ${FLAVOR:Mpython3}

tweaks and ok rpointel@@ shadchin@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2016/11/02 16:50:02 danj Exp $
d8 1
@


1.19
log
@Update to py-flask-0.11.1 and take maintainership

ok landry@@ rpointel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2016/04/16 19:06:26 shadchin Exp $
a47 1
.if ${FLAVOR:Mpython3}
a48 1
.endif
@


1.18
log
@* Switch on py3-sphinx for python3
* Prevent build from calling out to the internet

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/09/29 10:52:54 sthen Exp $
d3 1
a3 1
COMMENT = 	microframework based on Werkzeug and Jinja 2
d5 3
a7 4
MODPY_EGG_VERSION =	0.10.1
REVISION =	2
DISTNAME =	Flask-${MODPY_EGG_VERSION}
PKGNAME =	py-${DISTNAME:L}
d9 1
a9 1
CATEGORIES =	www devel
d11 3
a13 1
HOMEPAGE =	http://flask.pocoo.org/
d18 2
a19 3
MODULES =	lang/python

MODPY_PI =	Yes
d22 1
a22 1
FLAVORS =	python3
d25 10
a34 8
RUN_DEPENDS =	devel/py-blinker${MODPY_FLAVOR} \
		www/py-itsdangerous${MODPY_FLAVOR} \
		www/py-jinja2${MODPY_FLAVOR}>=2.4 \
		www/py-werkzeug${MODPY_FLAVOR}>=0.7
BUILD_DEPENDS =	textproc/py-sphinx${MODPY_FLAVOR} \
		www/py-itsdangerous${MODPY_FLAVOR} \
		www/py-werkzeug${MODPY_FLAVOR}>=0.7
TEST_DEPENDS = ${RUN_DEPENDS}
d36 1
a36 1
MAKE_ENV =	PYTHONPATH="${WRKSRC}" SPHINXBUILD=${LOCALBASE}/bin/sphinx-build${MODPY_BIN_SUFFIX}
d48 6
a53 1
	rm ${PREFIX}/share/examples/${MODPY_PY_PREFIX}flask/persona/{static/,}.DS_Store
@


1.17
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2015/09/24 10:43:39 jca Exp $
d6 1
a6 1
REVISION =	1
d29 1
a29 1
BUILD_DEPENDS =	textproc/py-sphinx \
d34 1
a34 1
MAKE_ENV =	PYTHONPATH="${WRKSRC}"
@


1.16
log
@python3 flavor for Flask
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/05/18 11:29:38 jasper Exp $
d6 1
a6 1
REVISION =	0
@


1.15
log
@remove another bunch of @@rm -f, some of which were hiding the arguments no
longer existed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2015/04/02 14:21:17 jasper Exp $
d6 1
a16 2
MODPY_PI =	Yes

d19 1
d22 7
a28 4
RUN_DEPENDS =	devel/py-blinker \
		www/py-itsdangerous \
		www/py-jinja2>=2.4 \
		www/py-werkzeug>=0.7
d30 2
a31 2
		www/py-itsdangerous \
		www/py-werkzeug>=0.7
@


1.14
log
@- switch to MODPY_PI
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/12/25 18:45:12 fgsch Exp $
d43 1
a43 1
	rm -f ${PREFIX}/share/examples/${MODPY_PY_PREFIX}flask/persona/{static/,}.DS_Store
@


1.13
log
@Update to Flask 0.10.1. Fix docs installation path.

Similar diff also submitted by frantisek holop.  input and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/06/04 07:57:13 fgsch Exp $
d16 1
a16 1
MASTER_SITES =	${MASTER_SITE_PYPI:=F/Flask/}
@


1.12
log
@Remove MODPY_JSON from RDEP and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/05/02 20:09:35 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	0.9
a7 1
REVISION =	2
d23 1
d27 1
d37 1
a37 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/docs/${MODPY_PY_PREFIX}flask
d39 1
a39 2
	    pax -rw * ${PREFIX}/share/docs/${MODPY_PY_PREFIX}flask
	rm -rf ${PREFIX}/share/docs/${MODPY_PY_PREFIX}flask/_sources
d43 1
@


1.11
log
@Regen after py-sphinx update and bump.  While here ensure docs are
built with the right environment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/03/11 11:44:48 espie Exp $
d8 1
a8 1
REVISION =	1
d25 1
a25 2
		www/py-werkzeug>=0.7 \
		${MODPY_JSON}
@


1.10
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/03/10 10:57:51 fgsch Exp $
d8 1
a8 1
REVISION =	0
d31 2
d34 1
a34 1
	cd ${WRKSRC}/docs && PYTHONPATH=.. $(MAKE_PROGRAM) html
d38 3
a41 3
	cd ${WRKSRC}/docs/_build/html && pax -rw \
	    _images _static deploying patterns tutorial *.{inv,js,html} \
	    ${PREFIX}/share/docs/${MODPY_PY_PREFIX}flask
@


1.9
log
@build and install the html doc. bump.
benoit@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/08/10 20:13:10 fgsch Exp $
d29 1
a29 1
REGRESS_DEPENDS = ${RUN_DEPENDS}
@


1.8
log
@Update to flask 0.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/12/29 15:14:01 fgsch Exp $
d8 1
a15 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =	Yes
d27 2
d31 3
d35 1
d37 5
a41 2
	cd ${WRKSRC}/examples && \
	    pax -rw * ${PREFIX}/share/examples/${MODPY_PY_PREFIX}flask
@


1.7
log
@Add py-blinker to dependencies and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/10/05 08:36:58 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	0.8
a7 1
REVISION =	0
d27 1
a27 1
		www/py-werkzeug>=0.6.1 \
d32 1
a32 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/py-flask
d34 1
a34 1
	    pax -rw * ${PREFIX}/share/examples/py-flask
@


1.6
log
@update to flask 0.8.
from wen heping (wenheping-at-gmail-dot-com)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/09/16 12:00:08 espie Exp $
d8 1
d26 2
a27 1
RUN_DEPENDS =	www/py-jinja2>=2.4 \
@


1.5
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/07/14 22:34:02 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	0.7.2
a7 1
REVISION=	0
@


1.4
log
@Update to flask 0.7.2.
martynas@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/07/08 08:11:04 fgsch Exp $
d8 1
@


1.3
log
@Update to flask 0.7.
martynas@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/06/08 18:15:29 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	0.7
@


1.2
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/03/28 00:20:20 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	0.6.1
a7 1
REVISION =	0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
@


1.1.1.1
log
@Import py-flask, a microframework for Python based on Werkzeug, Jinja 2
and good intentions.
martynas@@ ok
@
text
@@
