head	1.3;
access;
symbols
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	landry_20140908:1.1.1.1
	hfriedrichsen:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2015.08.18.13.04.26;	author sthen;	state dead;
branches;
next	1.2;
commitid	JSAzLWA21nhlyt34;

1.2
date	2014.10.01.06.42.36;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	mYcanCjgnk1mRFy9;

1.1
date	2014.09.08.20.01.03;	author landry;	state Exp;
branches
	1.1.1.1;
next	;
commitid	0K5cRoHwvJRbYhua;

1.1.1.1
date	2014.09.08.20.01.03;	author landry;	state Exp;
branches;
next	;
commitid	0K5cRoHwvJRbYhua;


desc
@@


1.3
log
@remove dwb, suggested by Henrik Friedrichsen (maintainer), ok jca
http://marc.info/?l=openbsd-ports&m=143593955506953&w=2
@
text
@$OpenBSD: patch-config_mk,v 1.2 2014/10/01 06:42:36 ajacoutot Exp $

Drop -DGTK_DISABLE_DEPRECATED to build with gtk>=3.14.

--- config.mk.orig	Fri Mar  7 12:39:43 2014
+++ config.mk	Wed Oct  1 08:34:55 2014
@@@@ -146,12 +146,10 @@@@ BASE_SCRIPT=base.js
 CFLAGS := $(CFLAGS)
 CFLAGS += -Wall 
 CFLAGS += -Werror=format-security 
-CFLAGS += -pipe
-CFLAGS += --ansi
+CFLAGS += -Wno-variadic-macros
+CFLAGS += -ansi
 CFLAGS += -std=c99
 CFLAGS += -D_POSIX_C_SOURCE='200112L'
-CFLAGS += -O2
-CFLAGS += -g
 CFLAGS += -D_BSD_SOURCE
 CFLAGS += -D_NETBSD_SOURCE
 CFLAGS += -D__BSD_VISIBLE
@@@@ -159,21 +157,21 @@@@ CFLAGS += -D__BSD_VISIBLE
 CFLAGS += $(shell pkg-config --cflags $(LIBS))
 
 ifeq ($(shell pkg-config --exists '$(LIBSOUP) >= 2.38' && echo 1), 1)
-M4FLAGS += -DWITH_LIBSOUP_2_38=1 -G
+M4FLAGS += -DWITH_LIBSOUP_2_38=1
 CFLAGS += -DWITH_LIBSOUP_2_38=1
 endif
 
 ifeq (${DISABLE_HSTS}, 1)
 CFLAGS += -DDISABLE_HSTS
 else 
-M4FLAGS += -DWITH_HSTS=1 -G 
+M4FLAGS += -DWITH_HSTS=1 
 endif
 
 CFLAGS_OPTIONS := $(CFLAGS)
 
 ifeq (${USEGTK3}, 1) 
 CPPFLAGS+=-DGTK_DISABLE_SINGLE_INCLUDES
-CPPFLAGS+=-DGTK_DISABLE_DEPRECATED
+#CPPFLAGS+=-DGTK_DISABLE_DEPRECATED
 CPPFLAGS+=-DGDK_DISABLE_DEPRECATED
 CPPFLAGS+=-DGSEAL_ENABLE
 M4FLAGS += -DWITH_GTK3=1
@


1.2
log
@Fix build with upcoming gtk>=3.14.
While here add NO_TEST and regen PLIST.
@
text
@d1 1
a1 1
$OpenBSD: patch-config_mk,v 1.1.1.1 2014/09/08 20:01:03 landry Exp $
@


1.1
log
@Initial revision
@
text
@d1 6
a6 3
$OpenBSD$
--- config.mk.orig	Fri Mar  7 11:39:43 2014
+++ config.mk	Mon Sep  8 20:27:06 2014
d22 1
a22 1
@@@@ -159,14 +157,14 @@@@ CFLAGS += -D__BSD_VISIBLE
d39 8
@


1.1.1.1
log
@Import dwb 2014.03.07.

dwb is a lightweight web browser based on the webkit web browser engine and
the gtk toolkit. dwb is highly customizable and can be easily configured
through a web interface.
It is mostly keyboard driven, inspired by firefox's vimperator plugin.

From maintainer Henrik Friedrichsen with tweaks from me and sthen@@, ok sthen@@
@
text
@@
