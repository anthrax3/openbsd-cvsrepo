head	1.2;
access;
symbols
	naddy_20100329:1.1.1.1 naddy:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2010.03.30.18.07.28;	author naddy;	state dead;
branches;
next	1.1;

1.1
date	2010.03.29.20.44.10;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.03.29.20.44.10;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Patching an autogenerated file that is different on different archs doesn't
really work.  Fix it up with a perl -i substitution instead.
@
text
@$OpenBSD: patch-js_src_xpconnect_src_dom_quickstubs_cpp_diff,v 1.1 2010/03/29 20:44:10 naddy Exp $
--- js/src/xpconnect/src/dom_quickstubs.cpp.diff.orig	Thu Jan 21 19:20:07 2010
+++ js/src/xpconnect/src/dom_quickstubs.cpp.diff	Thu Jan 21 19:23:46 2010
@@@@ -0,0 +1,20 @@@@
+--- dom_quickstubs.cpp.orig	Thu Jan 21 17:16:42 2010
++++ dom_quickstubs.cpp	Thu Jan 21 17:21:17 2010
+@@@@ -5273,7 +5273,7 @@@@
+     xpc_qsDOMString arg0(cx, &argv[0]);
+     if (!arg0.IsValid())
+         return JS_FALSE;
+-    nsCOMPtr<nsIVariant> arg1(already_AddRefed<nsIVariant>(XPCVariant::newVariant(ccx, argv[1])));
++    nsCOMPtr<nsIVariant> arg1 = nsCOMPtr<nsIVariant>(already_AddRefed<nsIVariant>(XPCVariant::newVariant(ccx, argv[1])));
+     if (!arg1)
+         return JS_FALSE;
+     nsresult rv;
+@@@@ -5305,7 +5305,7 @@@@
+         return JSVAL_VOID;
+     }
+     XPCReadableJSStringWrapper arg0(_arg0);
+-    nsCOMPtr<nsIVariant> arg1(already_AddRefed<nsIVariant>(XPCVariant::newVariant(ccx, _arg1)));
++    nsCOMPtr<nsIVariant> arg1 = nsCOMPtr<nsIVariant>(already_AddRefed<nsIVariant>(XPCVariant::newVariant(ccx, _arg1)));
+     if (!arg1) {
+         js_SetTraceableNativeFailed(cx);
+         return JSVAL_VOID;
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-js_src_xpconnect_src_dom_quickstubs_cpp_diff,v 1.1 2009/06/21 12:30:58 martynas Exp $
@


1.1.1.1
log
@Import Firefox 3.6.2.  Work in progress, not linked to the build.
Builds and runs on amd64 and i386, needs work elsewhere.
From martynas@@ for 3.6; slightly updated by yours truly.
@
text
@@
