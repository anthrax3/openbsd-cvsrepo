head	1.2;
access;
symbols
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.08.23.20.33.21;	author landry;	state dead;
branches;
next	1.1;

1.1
date	2011.03.26.10.58.36;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to firefox36 3.6.20, fixes MFSA 2011-30.
Remove patches merged upstream (#643137 & #629057)
@
text
@$OpenBSD: patch-gfx_ots_include_opentype-sanitiser_h,v 1.1 2011/03/26 10:58:36 landry Exp $
https://bugzilla.mozilla.org/show_bug.cgi?id=643137
--- gfx/ots/include/opentype-sanitiser.h.orig	Fri Mar 18 00:02:27 2011
+++ gfx/ots/include/opentype-sanitiser.h	Fri Mar 18 00:02:35 2011
@@@@ -64,8 +64,10 @@@@ class OTSStream {
     }
 
     while (length >= 4) {
-      chksum_ += ntohl(*reinterpret_cast<const uint32_t*>(
-          reinterpret_cast<const uint8_t*>(data) + offset));
+      uint32_t tmp;
+      std::memcpy(&tmp, reinterpret_cast<const uint8_t *>(data) + offset,
+        sizeof(uint32_t));
+      chksum_ += ntohl(tmp);
       length -= 4;
       offset += 4;
     }
@


1.1
log
@Resurrect www/firefox36 from the Attic, installing 3.6.16 in
${LOCALBASE}/firefox36 with firefox36 binary. Needed for archs
firefox 4 doesn't support (yet?). Yes, i'm looking at you sparc64.
Not yet linked to the build.
@
text
@d1 1
a1 1
$OpenBSD: patch-gfx_ots_include_opentype-sanitiser_h,v 1.1 2011/03/24 11:41:11 landry Exp $
@

