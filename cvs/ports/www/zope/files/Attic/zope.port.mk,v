head	1.4;
access;
symbols
	OPENBSD_3_5:1.2.0.4
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2004.08.03.12.08.10;	author xsa;	state dead;
branches;
next	1.3;

1.3
date	2004.08.03.10.16.36;	author xsa;	state Exp;
branches;
next	1.2;

1.2
date	2003.07.31.07.01.22;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2003.07.17.15.11.38;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.4
log
@
prepare for MODULES= www/zope
@
text
@# $OpenBSD: zope.port.mk,v 1.3 2004/08/03 10:16:36 xsa Exp $
#
#	zope.port.mk - Xavier Santolaria <xavier@@santolaria.net>
#	This file is in the public domain.

MODZOPE_PYTHON_VERSION=	2.3

BUILD_DEPENDS+= ::lang/python/${MODZOPE_PYTHON_VERSION}
RUN_DEPENDS+=	::www/zope

MODZOPE_HOME=		${PREFIX}/lib/zope
MODZOPE_PRODUCTSDIR=	${MODZOPE_HOME}/lib/python/Products

PYTHON_BIN=		${LOCALBASE}/bin/python${MODZOPE_PYTHON_VERSION}
PYTHON_LIBDIR=		${LOCALBASE}/lib/python${MODZOPE_PYTHON_VERSION}
PYTHON_INCLUDEDIR=	${LOCALBASE}/include/python${MODZOPE_PYTHON_VERSION}

NO_REGRESS=	Yes

# dirty way to do it with no modifications in bsd.port.mk
.if !target(do-build)
do-build:
	${PYTHON_BIN} ${PYTHON_LIBDIR}/compileall.py ${WRKDIST}
.endif

post-install:
	${CHOWN} -R ${LIBOWN}:${LIBGRP} ${MODZOPE_PRODUCTSDIR}
@


1.3
log
@
update to zope-2.7.2!!!
new MAINTAINER timeout ...
some input from Aleksander Piotrowski;
@
text
@d1 1
a1 1
# $OpenBSD: zope.port.mk,v 1.2 2003/07/31 07:01:22 jolan Exp $
@


1.2
log
@Author (Xavier Santolaria) puts these into the PD.
@
text
@d1 1
a1 1
# $OpenBSD: zope.port.mk,v 1.1 2003/07/17 15:11:38 naddy Exp $
d6 1
a6 1
MODZOPE_PYTHON_VERSION=	2.1
d8 1
a8 1
BUILD_DEPENDS+= :python->=${MODZOPE_PYTHON_VERSION},<2.2:lang/python/${MODZOPE_PYTHON_VERSION}
d20 2
d24 1
@


1.1
log
@Introduce zope module and make zope-* ports use it.
From: Xavier Santolaria <xavier@@santolaria.net>
@
text
@d1 4
a4 1
# $OpenBSD$
@

