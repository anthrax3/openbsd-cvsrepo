head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.4
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.2
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.1.0.6
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.8
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.4
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2017.03.07.15.36.45;	author landry;	state Exp;
branches;
next	1.2;
commitid	aJih20t9NVbMIVBm;

1.2
date	2016.04.27.14.01.02;	author landry;	state Exp;
branches;
next	1.1;
commitid	LtlayUWmUYaPN5KT;

1.1
date	2014.07.24.18.09.57;	author landry;	state Exp;
branches;
next	;
commitid	uUO4or9LxUjFwUja;


desc
@@


1.3
log
@Update firefox-esr to 52.0.

See https://www.mozilla.org/en-US/firefox/52.0esr/releasenotes/

This release switches to Gtk3 by default, following upstream. It also
still supports NPAPI plugins (java etc..) for the 52esr lifetime (around
1 year).

This way, 6.1 will ship with a supported branch of esr instead of the
soon-to-be-dead 45 branch.

Discussed with naddy@@
@
text
@$OpenBSD: patch-intl_icu_source_Makefile_in,v 1.2 2016/04/27 14:01:02 landry Exp $

https://bugzilla.mozilla.org/show_bug.cgi?id=990196

install -c -o root -g bin -m 555 /usr/obj/ports/firefox-29.0beta3/mozilla-beta/intl/icu/source/config/icu-config-top config/icu-config
install: config/icu-config: chown/chgrp: Operation not permitted
Makefile:313: recipe for target 'config/icu-config' failed
gmake[6]: *** [config/icu-config] Error 71
gmake[6]: Leaving directory '/usr/obj/ports/firefox-29.0beta3/build-amd64/js/src/intl/icu/target'
Makefile:77: recipe for target 'buildicu' failed

--- intl/icu/source/Makefile.in.orig	Tue Feb 28 02:55:48 2017
+++ intl/icu/source/Makefile.in	Thu Mar  2 19:50:28 2017
@@@@ -325,7 +325,7 @@@@ $(top_builddir)/config/pkgdataMakefile:
 
 $(top_builddir)/config/icu-config: $(top_builddir)/Makefile $(top_srcdir)/config/icu-config-top $(top_srcdir)/config/icu-config-bottom $(top_builddir)/config/Makefile.inc @@platform_make_fragment@@ $(top_srcdir)/config/make2sh.sed
 	-$(RMV) $@@
-	$(INSTALL_SCRIPT) $(top_srcdir)/config/icu-config-top $@@
+	install -m 555 $(top_srcdir)/config/icu-config-top $@@
 	chmod u+w $@@
 	@@echo "# Following from @@platform_make_fragment@@" >> $@@
 	LC_ALL=C sed -f $(top_srcdir)/config/make2sh.sed < $(top_builddir)/config/Makefile.inc | grep -v '#M#' | uniq >> $@@
@


1.2
log
@Update firefox-esr to 45 branch with 45.1.0.

- See https://www.mozilla.org/en-US/firefox/45.1.0/releasenotes/
- Fixes MFSA 2016-39, 44 & 47
- Stays with Gtk2 for now, will probably move to Gtk3 with 52 at the end
  of the year
- Bring some patches from www/mozilla-firefox to fix build issues/enable
  W^X/etc
- Disable gstreamer, now uses ffmpeg at runtime of found like firefox
- Use bundled libevent
@
text
@d1 1
a1 1
$OpenBSD: patch-intl_icu_source_Makefile_in,v 1.1 2014/07/24 18:09:57 landry Exp $
d12 3
a14 3
--- intl/icu/source/Makefile.in.orig	Wed Apr 20 23:32:52 2016
+++ intl/icu/source/Makefile.in	Tue Apr 26 16:15:45 2016
@@@@ -333,7 +333,7 @@@@ $(top_builddir)/config/pkgdataMakefile:
@


1.1
log
@Update to firefox-esr 31 (technically the same as firefox 31).

The reasoning to update www/firefox-esr is simple: the esr31 branch will
be supported for the next 56 weeks, while the esr24 branch will die in
12 weeks - this way, 5.6-stable will receive updates.

- See https://www.mozilla.org/en-US/firefox/31.0/releasenotes/
- Fixes MFSA 2014-56->66
- Add libvpx hack for clang build (#982693)
- Build against gstreamer1
- Add skia patches for i386/sse3 (#1028827)
- Add intl install patch (#990196)
- Remove patch-ipc_chromium_src_base_debug_util_posix_cc, merged (#927810)
- Remove patch-ipc_chromium_src_base_dir_reader_bsd_h, merged (#909005)
- Remove patch-js_src_ctypes_libffi_src_x86_freebsd_S, merged (#928381)

ok sthen@@ jasper@@ naddy@@
@
text
@d1 1
a1 1
$OpenBSD: patch-intl_icu_source_Makefile_in,v 1.1 2014/04/29 21:26:43 landry Exp $
d12 3
a14 3
--- intl/icu/source/Makefile.in.orig	Sun Mar 30 23:17:59 2014
+++ intl/icu/source/Makefile.in	Sun Mar 30 23:18:18 2014
@@@@ -311,7 +311,7 @@@@ $(top_builddir)/config/pkgdataMakefile:
@

