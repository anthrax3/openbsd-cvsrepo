head	1.2;
access;
symbols
	OPENBSD_5_5:1.1.1.1.0.2
	OPENBSD_5_5_BASE:1.1.1.1
	landry_20131120:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2014.07.24.18.09.57;	author landry;	state dead;
branches;
next	1.1;
commitid	uUO4or9LxUjFwUja;

1.1
date	2013.11.20.20.57.29;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.11.20.20.57.29;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to firefox-esr 31 (technically the same as firefox 31).

The reasoning to update www/firefox-esr is simple: the esr31 branch will
be supported for the next 56 weeks, while the esr24 branch will die in
12 weeks - this way, 5.6-stable will receive updates.

- See https://www.mozilla.org/en-US/firefox/31.0/releasenotes/
- Fixes MFSA 2014-56->66
- Add libvpx hack for clang build (#982693)
- Build against gstreamer1
- Add skia patches for i386/sse3 (#1028827)
- Add intl install patch (#990196)
- Remove patch-ipc_chromium_src_base_debug_util_posix_cc, merged (#927810)
- Remove patch-ipc_chromium_src_base_dir_reader_bsd_h, merged (#909005)
- Remove patch-js_src_ctypes_libffi_src_x86_freebsd_S, merged (#928381)

ok sthen@@ jasper@@ naddy@@
@
text
@$OpenBSD: patch-js_src_ctypes_libffi_src_x86_freebsd_S,v 1.1 2013/11/20 20:57:29 landry Exp $
backport devel/libffi/patches/patch-src_x86_freebsd_S
Fix stack alignment on *BSD/i386
http://sourceware.org/ml/libffi-discuss/2013/msg00127.html
https://bugzilla.mozilla.org/show_bug.cgi?id=928381
https://hg.mozilla.org/integration/mozilla-inbound/rev/96420ca47200
Remove in 28
--- js/src/ctypes/libffi/src/x86/freebsd.S.orig	Sat Apr  6 11:20:35 2013
+++ js/src/ctypes/libffi/src/x86/freebsd.S	Sat Apr  6 11:20:51 2013
@@@@ -49,6 +49,9 @@@@ ffi_call_SYSV:
 	movl  16(%ebp),%ecx
 	subl  %ecx,%esp
 
+	/* Align the stack pointer to 16-bytes */
+	andl  $0xfffffff0, %esp
+
 	movl  %esp,%eax
 
 	/* Place all of the ffi_prep_args in position  */
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-js_src_ctypes_libffi_src_x86_freebsd_S,v 1.2 2013/11/04 21:12:37 landry Exp $
@


1.1.1.1
log
@Import firefox ESR 24.1.1.

Firefox ESR is intended for groups who deploy and maintain the desktop
environment in large organizations such as universities and other
schools, county or city governments and businesses. During the extended
cycle, no new features will be added to a Firefox ESR; only
high-risk/high-impact security vulnerabilities or major stability fixes
will be corrected.

Note that using it on OpenBSD is NOT supported by mozilla. People
willing to deploy it should subscribe to the EWG mailing list.

http://www.mozilla.org/en-US/firefox/organizations/faq/

Installs as firefox-esr and doesnt conflict with mainline www/mozilla-firefox.
Learn to use several profiles if you plan to use both.

req'd by several.
@
text
@@
