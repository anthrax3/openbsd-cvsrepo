head	1.14;
access;
symbols
	OPENBSD_6_1:1.14.0.2
	OPENBSD_6_1_BASE:1.14
	OPENBSD_6_0:1.11.0.6
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.2
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.11.0.4
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.8.0.6
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.8.0.4
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.8.0.2
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3
	jeremy_2012-Dec-20:1.1.1.1
	jeremy:1.1.1;
locks; strict;
comment	@# @;


1.14
date	2016.12.25.14.34.40;	author zhuk;	state Exp;
branches;
next	1.13;
commitid	l6KSNN1DfB6ABkhu;

1.13
date	2016.11.04.21.26.38;	author jeremy;	state Exp;
branches;
next	1.12;
commitid	HROmyU3ponxbNpWO;

1.12
date	2016.09.23.15.25.23;	author jeremy;	state Exp;
branches;
next	1.11;
commitid	EzH3HJci4MmjphnF;

1.11
date	2015.07.26.03.20.01;	author jeremy;	state Exp;
branches;
next	1.10;
commitid	ddCff4u9B4bDgiW2;

1.10
date	2015.07.18.15.46.11;	author jeremy;	state Exp;
branches;
next	1.9;
commitid	dT77vUpdkg5VEaUi;

1.9
date	2015.04.01.20.55.45;	author jeremy;	state Exp;
branches;
next	1.8;
commitid	ZM6UJUgX4yRdYI5e;

1.8
date	2014.01.15.02.13.58;	author jeremy;	state Exp;
branches;
next	1.7;

1.7
date	2014.01.11.22.51.03;	author jeremy;	state Exp;
branches;
next	1.6;

1.6
date	2013.10.26.23.55.38;	author jeremy;	state Exp;
branches;
next	1.5;

1.5
date	2013.04.13.15.45.47;	author jeremy;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.11.11.44.49;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2013.01.09.17.38.52;	author jeremy;	state Exp;
branches;
next	1.2;

1.2
date	2012.12.21.07.56.42;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2012.12.20.16.22.28;	author jeremy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.12.20.16.22.28;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.14
log
@Adapt to new x11/qt5 layout, mostly REVISION bumps due to changed deps.

The devel/kf5 to be handled separately, please wait.
@
text
@# $OpenBSD: Makefile,v 1.13 2016/11/04 21:26:38 jeremy Exp $

COMMENT =	capybara driver that uses WebKit

DISTNAME =	capybara-webkit-1.11.1
REVISION =	1
CATEGORIES =	www

HOMEPAGE=	https://github.com/thoughtbot/capybara-webkit

# MIT
PERMIT_PACKAGE_CDROM =	Yes

MODULES =	lang/ruby
CONFIGURE_STYLE = ruby gem ext

USE_WXNEEDED =	Yes
MAKE_ENV =	QMAKE=qmake-qt5 LDFLAGS="-Wl,-z,wxneeded"
WANTLIB +=	GL Qt5Core Qt5Gui Qt5Network Qt5WebKit Qt5WebKitWidgets
WANTLIB +=	Qt5Widgets stdc++

BUILD_DEPENDS =	${RUN_DEPENDS}
RUN_DEPENDS =	www/ruby-capybara,${MODRUBY_FLAVOR}>=2.3.0,<2.8.0 \
		x11/qt5

LIB_DEPENDS =	x11/qt5/qtwebkit

.include <bsd.port.mk>
@


1.13
log
@Bump ruby gem ext ports after change to PLISTs

This does not include all ruby gem ext ports, but the remaining ones have
updates that will be committed separately.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2016/09/23 15:25:23 jeremy Exp $
d6 1
a6 1
REVISION =	0
d25 2
@


1.12
log
@Update to capybara-webkit 1.11.1

Set USE_WXNEEDED, as the webkit_server executable uses W|X code.
Also set LDFLAGS to make sure wxneeded is set by the linker.
Add a patch to the qmake file so that LDFLAGS, CFLAGS, and
CXXFLAGS are respected.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2015/07/26 03:20:01 jeremy Exp $
d6 1
@


1.11
log
@Update to capybara-webkit 1.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2015/07/18 15:46:11 jeremy Exp $
d5 1
a5 1
DISTNAME =	capybara-webkit-1.6.0
d16 4
a19 3
MAKE_ENV = QMAKE=qmake-qt5
WANTLIB += GL Qt5Core Qt5Gui Qt5Network Qt5WebKit Qt5WebKitWidgets
WANTLIB += Qt5Widgets stdc++
d22 1
a22 1
RUN_DEPENDS =	www/ruby-capybara,${MODRUBY_FLAVOR}>=2.3.0,<2.5.0 \
@


1.10
log
@Remove unnecessary dependency on ruby-json.

The json library is shipped with ruby 1.9+, and these ports support the
json library that comes with ruby.  While here, remove some
MODRUBY_ICONV_DEPENDS as those only are necessary on ruby 1.8.

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2015/04/01 20:55:45 jeremy Exp $
d5 1
a5 2
DISTNAME =	capybara-webkit-1.5.0
REVISION =	0
@


1.9
log
@Update to capybara-webkit 1.5.0

Switch to using qt5 instead of qt4, as upstream is planning on dropping
qt4 support.  Remove local patches, now included upstream.

Thanks to Mike Burns and Matt Horan for feedback and getting the
changes applied upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2014/01/15 02:13:58 jeremy Exp $
d6 1
d22 1
a22 2
RUN_DEPENDS =	converters/ruby-json,${MODRUBY_FLAVOR} \
		www/ruby-capybara,${MODRUBY_FLAVOR}>=2.3.0,<2.5.0 \
@


1.8
log
@Bump ruby gem ext ports after change to WANTLIB in ruby.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2014/01/11 22:51:03 jeremy Exp $
d5 1
a5 2
DISTNAME =	capybara-webkit-0.13.0
REVISION =	5
d16 3
a18 2
WANTLIB += ICE QtCore QtGui QtNetwork QtWebKit SM X11 Xext Xi
WANTLIB += Xinerama Xrender fontconfig freetype pthread stdc++
d22 2
a23 2
		www/ruby-capybara,${MODRUBY_FLAVOR}>=1.0.0,<1.2 \
		x11/qt4
@


1.7
log
@Remove extension source directory from package so that ruby21 FLAVOR
packages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/10/26 23:55:38 jeremy Exp $
d6 1
a6 1
REVISION =	4
@


1.6
log
@Bump all ruby gem ports supporting rbx FLAVOR due to change to rubinius
gem directory when upgrading rubinius from 1.2.4 to 2.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/04/13 15:45:47 jeremy Exp $
d6 1
a6 1
REVISION =	3
@


1.5
log
@Remove dependency on www/webkit, as this uses QtWebKit, included in
x11/qt4.

Pointed out by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/03/11 11:44:49 espie Exp $
d6 1
a6 1
REVISION =	2
@


1.4
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/01/09 17:38:52 jeremy Exp $
d6 1
a6 1
REVISION =	1
a22 1
		www/webkit \
@


1.3
log
@Revision bump ruby C extension ports after addition of pthread to
WANTLIB.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/12/21 07:56:42 jasper Exp $
a12 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.2
log
@tweak DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/12/20 16:22:28 jeremy Exp $
d6 1
a6 1
REVISION =	0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/01/06 04:24:23 jeremy Exp $
d6 1
@


1.1.1.1
log
@Add ruby-capybara-webkit-0.13.0

A capybara driver that uses WebKit via QtWebKit.

OK sthen@@
@
text
@@
