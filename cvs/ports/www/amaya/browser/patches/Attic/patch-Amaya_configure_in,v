head	1.4;
access;
symbols
	OPENBSD_5_2:1.3.0.10
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.8
	OPENBSD_5_0:1.3.0.6
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.4
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.2.0.26
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.24
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.22
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.20
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.18
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.16
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.14
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.12
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.10
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.8
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.6
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.4
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.1.0.10
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.8
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.6
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.4
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2013.01.16.07.40.36;	author jasper;	state dead;
branches;
next	1.3;

1.3
date	2010.06.06.12.27.26;	author kili;	state Exp;
branches;
next	1.2;

1.2
date	2003.12.20.01.17.43;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.10.02.20.18.59;	author heko;	state Exp;
branches;
next	;


desc
@@


1.4
log
@remove amaya, it's been marked broken for 1.5 years now, and hasn't been updated
in over a decade...time to officially put this browser to rest in the Attic.

ok kili@@
@
text
@$OpenBSD: patch-Amaya_configure_in,v 1.3 2010/06/06 12:27:26 kili Exp $
--- Amaya/configure.in.orig	Tue Jul  3 13:23:50 2001
+++ Amaya/configure.in	Sat Jun  5 14:30:06 2010
@@@@ -55,8 +55,8 @@@@ AC_PATH_PROG(DIFF, diff, /usr/bin/diff, $PATH:/bin:/us
 AC_ARG_WITH(graphic-libs, [  --without-graphic-libs    doesn't use provided libjpeg, libpng.])
 if test "$withval" = "no" ; then
 dnl
-    AC_MSG_CHECKING([for libjpeg version = 6b])
-    AC_EGREP_CPP([x 62 *x],
+    AC_MSG_CHECKING([for libjpeg version = 7])
+    AC_EGREP_CPP([x 70 *x],
         [#include <jpeglib.h>
          x JPEG_LIB_VERSION x],
 dnl
@@@@ -69,8 +69,8 @@@@ dnl
         )
 dnl    
 dnl
-    AC_MSG_CHECKING([for libpng version = 1.0.x])
-    AC_EGREP_CPP([x \"1.0\..*\" *x],
+    AC_MSG_CHECKING([for libpng version = 1.2.x])
+    AC_EGREP_CPP([x \"1.2\..*\" *x],
         [#include <png.h>
 	x PNG_LIBPNG_VER_STRING x],
 dnl
@@@@ -232,43 +232,32 @@@@ AC_FUNC_VPRINTF
 AC_CHECK_FUNCS(getcwd gethostname gettimeofday getwd mkdir mktime putenv select socket strdup strerror strftime strstr strtod strtol uname lstat strcasecmp strncasecmp strchr memcpy)
 
 GTK_OPTIONS=
-AC_ARG_WITH(gtk, [  --with-gtk              use GTK instead of Motif])
-if test "$withval" = "yes" ; then
-  for ac_dir in               \
-    /usr/lib/glib/include     \
-    /usr/X11R6/include        \
-                              \
-    /usr/include/X11R6        \
-    /usr/local/X11R6/include  \
-    /usr/local/include/X11R6  \
-                              \
-    /usr/X11/include          \
-    /usr/include/X11          \
-    /usr/local/X11/include    \
-    /usr/local/include/X11    \
-                              \
-    /usr/X386/include         \
-    /usr/x386/include         \
-    /usr/XFree86/include/X11  \
-    /usr/dt/include           \
-    /usr/include              \
-    /usr/local/include        \
-    /usr/local/lib/glib/include  \
-    ; \
-  do
-    if test -r "$ac_dir/gdk/gdk.h"; then
-      no_gtk= ac_gtk_includes=$ac_dir
-      break
-    fi
-  done
 
+motif_includes_with=
+AC_ARG_WITH(motif-includes,
+[  --with-motif-includes=DIR
+                          Motif include files are in DIR],
+motif_includes_with="$withval")
+motif_libraries_with=
+AC_ARG_WITH(motif-libraries,
+[  --with-motif-libraries=DIR
+                          Motif libraries are in DIR],
+motif_libraries_with="$withval")
+
+AC_ARG_WITH(gtk, [  --with-gtk              use GTK instead of Motif],
+	use_gtk="$withval")
+no_gtk=yes
+if test "$use_gtk" != "no" ; then
+
 GTK_INCLUDES="`gtk-config --cflags`"
 AC_SUBST(GTK_INCLUDES)
 GTK_LIBRARIES="`gtk-config --libs` -lgdk_imlib -ltiff -lgif"
 AC_SUBST(GTK_LIBRARIES)
 GTK_OPTIONS=-D_GTK
+  no_gtk=no
   no_motif=yes
 else
+
 dnl
 dnl Checking for Motif libraries and includes
 dnl
@@@@ -281,6 +270,7 @@@@ AC_DEFUN(AC_PATH_MOTIF_DIRECT,
 test -z "$motif_direct_test_function" && motif_direct_test_function=XmCreatePushButton
 test -z "$motif_direct_test_include" && motif_direct_test_include=Xm/Xm.h
   for ac_dir in               \
+    $motif_includes_with      \
     /usr/include/Motif1.2     \
     /usr/Motif1.2/include     \
                               \
@@@@ -335,6 +325,7 @@@@ ac_save_LIBS="$LIBS"
 LIBS="-l$motif_direct_test_library $LIBS"
 # First see if replacing the include by lib works.
 for ac_dir in `echo "$ac_motif_includes" | sed s/include/lib/` \
+    $motif_libraries_with \
     /usr/lib/Motif1.2     \
     /usr/Motif1.2/lib     \
                           \
@@@@ -744,21 +735,23 @@@@ if test "$build_amaya" = "yes" ; then
     fi
 fi
 
-if test "$no_motif" = yes ; then
-    echo "Motif seems not installed on this machine"
-    echo "Amaya need Motif 1.2 or 2.0"
-else
-if test "$motif_includes" = "" ; then
-    echo "Motif includes were not found"
-    echo "Amaya might not compile"
-    echo "Edit your Option file"
-else
-if test "$motif_libraries" = "" ; then
-    echo "Motif libraries were not found"
-    echo "Amaya might not compile"
-    echo "Edit your Option file"
-fi
-fi
+if test "$no_gtk" = yes ; then
+	if test "$no_motif" = yes ; then
+	    echo "Motif seems not installed on this machine"
+	    echo "Amaya need Motif 1.2 or 2.0"
+	else
+	if test "$motif_includes" = "" ; then
+	    echo "Motif includes were not found"
+	    echo "Amaya might not compile"
+	    echo "Edit your Option file"
+	else
+	if test "$motif_libraries" = "" ; then
+	    echo "Motif libraries were not found"
+	    echo "Amaya might not compile"
+	    echo "Edit your Option file"
+	fi
+	fi
+	fi
 fi
 
 echo "Now start \"make all\" (GNU make preferably) to build the bianries"
@


1.3
log
@Fix www/amaya/browser:

- don't declare static stuff (that's only needed in one file) as
  extern in a header file.

- Use system jpeg again.
@
text
@d1 1
a1 1
$OpenBSD: patch-Amaya_configure_in,v 1.2 2003/12/20 01:17:43 espie Exp $
@


1.2
log
@Get the correct png and zlib includes.
@
text
@d1 14
a14 3
$OpenBSD: patch-Amaya_configure_in,v 1.1 2001/10/02 20:18:59 heko Exp $
--- Amaya/configure.in.orig	2001-07-03 13:23:50.000000000 +0200
+++ Amaya/configure.in	2003-12-20 02:05:54.000000000 +0100
d59 1
a59 1
+
d75 1
a75 1
 
@


1.1
log
@o Upgrade to Amaya 5.1
o Add gtk flavor, don't build it yet in www/amaya/Makefile until some
  scrollbar dysfunctionality is fixed.
o Build amaya against system versions of: jpeg, png, zlib,
  expat, md5; some of the patches for this come from FreeBSD
o Add HOMEPAGE
o Unify dictionary installation to a common $frag (a bunch
  of dictionaries will be imported later separately)
o Take over maintainer; ok naddy@@
o Fix missing trailing slash in MASTER_SITES
@
text
@d1 14
a14 3
$OpenBSD$
--- Amaya/configure.in.orig	Tue Jul  3 14:23:50 2001
+++ Amaya/configure.in	Fri Sep 14 07:06:06 2001
@

