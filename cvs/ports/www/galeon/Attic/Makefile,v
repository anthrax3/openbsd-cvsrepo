head	1.57;
access;
symbols
	OPENBSD_4_7:1.55.0.2
	OPENBSD_4_7_BASE:1.55
	OPENBSD_4_6:1.51.0.2
	OPENBSD_4_6_BASE:1.51
	OPENBSD_4_5:1.43.0.2
	OPENBSD_4_5_BASE:1.43
	OPENBSD_4_4:1.40.0.2
	OPENBSD_4_4_BASE:1.40
	OPENBSD_4_3:1.39.0.2
	OPENBSD_4_3_BASE:1.39
	OPENBSD_4_2:1.36.0.2
	OPENBSD_4_2_BASE:1.36
	OPENBSD_4_1:1.32.0.2
	OPENBSD_4_1_BASE:1.32
	OPENBSD_4_0:1.27.0.2
	OPENBSD_4_0_BASE:1.27
	OPENBSD_3_9:1.25.0.2
	OPENBSD_3_9_BASE:1.25
	OPENBSD_3_8:1.20.0.2
	OPENBSD_3_8_BASE:1.20
	OPENBSD_3_7:1.18.0.2
	OPENBSD_3_7_BASE:1.18
	OPENBSD_3_6:1.11.0.4
	OPENBSD_3_6_BASE:1.11
	OPENBSD_3_5:1.11.0.2
	OPENBSD_3_5_BASE:1.11
	OPENBSD_3_4:1.8.0.2
	OPENBSD_3_4_BASE:1.8
	wilfried_20030523:1.1.1.1
	wilfried:1.1.1;
locks; strict;
comment	@# @;


1.57
date	2010.04.24.00.07.55;	author jasper;	state dead;
branches;
next	1.56;

1.56
date	2010.04.03.00.32.56;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2009.12.22.13.02.11;	author sthen;	state Exp;
branches;
next	1.54;

1.54
date	2009.11.24.09.01.47;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2009.08.10.06.34.56;	author kili;	state Exp;
branches;
next	1.52;

1.52
date	2009.07.27.21.44.14;	author martynas;	state Exp;
branches;
next	1.51;

1.51
date	2009.06.22.10.43.58;	author sthen;	state Exp;
branches;
next	1.50;

1.50
date	2009.06.11.18.27.02;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2009.06.08.16.58.16;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2009.06.07.06.44.42;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2009.04.16.08.11.13;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2009.03.19.09.31.21;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2009.03.14.11.36.25;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2009.03.14.10.40.52;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2008.12.23.11.36.08;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2008.12.22.22.26.18;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2008.12.17.18.43.30;	author jasper;	state Exp;
branches;
next	1.40;

1.40
date	2008.06.03.14.56.09;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2008.01.23.16.37.16;	author martynas;	state Exp;
branches;
next	1.38;

1.38
date	2007.12.15.21.14.22;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2007.09.15.20.38.21;	author merdely;	state Exp;
branches;
next	1.36;

1.36
date	2007.08.08.17.24.58;	author martynas;	state Exp;
branches;
next	1.35;

1.35
date	2007.05.17.17.47.38;	author martynas;	state Exp;
branches;
next	1.34;

1.34
date	2007.05.15.14.47.36;	author martynas;	state Exp;
branches;
next	1.33;

1.33
date	2007.04.07.14.54.12;	author steven;	state Exp;
branches;
next	1.32;

1.32
date	2006.12.16.12.22.35;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2006.11.17.19.41.58;	author kurt;	state Exp;
branches;
next	1.30;

1.30
date	2006.10.01.22.23.47;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2006.09.18.12.00.00;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2006.09.18.09.04.03;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2006.08.04.00.10.42;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2006.06.13.13.34.56;	author bernd;	state Exp;
branches;
next	1.25;

1.25
date	2006.01.19.13.13.07;	author steven;	state Exp;
branches;
next	1.24;

1.24
date	2005.11.16.10.01.53;	author wilfried;	state Exp;
branches;
next	1.23;

1.23
date	2005.09.22.17.05.49;	author kurt;	state Exp;
branches;
next	1.22;

1.22
date	2005.09.10.17.14.28;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2005.09.10.07.02.05;	author wilfried;	state Exp;
branches;
next	1.20;

1.20
date	2005.06.02.18.27.03;	author sturm;	state Exp;
branches;
next	1.19;

1.19
date	2005.03.29.19.33.40;	author wilfried;	state Exp;
branches;
next	1.18;

1.18
date	2005.03.13.05.06.18;	author kurt;	state Exp;
branches;
next	1.17;

1.17
date	2005.01.18.12.57.52;	author wilfried;	state Exp;
branches;
next	1.16;

1.16
date	2004.12.22.09.01.20;	author wilfried;	state Exp;
branches;
next	1.15;

1.15
date	2004.12.21.11.34.00;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2004.12.19.12.22.24;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2004.12.11.13.29.21;	author alek;	state Exp;
branches;
next	1.12;

1.12
date	2004.09.29.07.51.17;	author xsa;	state Exp;
branches;
next	1.11;

1.11
date	2004.02.25.02.35.17;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2004.01.18.10.49.03;	author wilfried;	state Exp;
branches;
next	1.9;

1.9
date	2003.12.04.15.02.51;	author wilfried;	state Exp;
branches;
next	1.8;

1.8
date	2003.08.18.14.24.40;	author wilfried;	state Exp;
branches;
next	1.7;

1.7
date	2003.08.15.11.33.04;	author wilfried;	state Exp;
branches;
next	1.6;

1.6
date	2003.08.15.08.49.33;	author wilfried;	state Exp;
branches;
next	1.5;

1.5
date	2003.07.12.06.27.12;	author marcm;	state Exp;
branches;
next	1.4;

1.4
date	2003.07.04.06.41.12;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2003.07.01.11.11.31;	author wilfried;	state Exp;
branches;
next	1.2;

1.2
date	2003.05.24.11.08.17;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2003.05.23.10.39.29;	author wilfried;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.05.23.10.39.29;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.57
log
@- remove dead browser, there are more than enough better browsers in the tree nowadays

agreed by a bullfrog and uruk-hai.
@
text
@# $OpenBSD: Makefile,v 1.56 2010/04/03 00:32:56 sthen Exp $

COMMENT=	GNOME web browser based on gecko

DISTNAME=	galeon-2.0.7
PKGNAME=	${DISTNAME}p11

CATEGORIES=	www

HOMEPAGE=	http://galeon.sourceforge.net/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite \
		Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender art_lgpl_2 atk-1.0 bonobo-2 bonobo-activation \
		bonoboui-2 c cairo crypto dbus-1 dbus-glib-1 expat \
		fontconfig freebl3 freetype gailutil gdk-x11-2.0 \
		gdk_pixbuf-2.0 gio-2.0 glade-2.0 glib-2.0 glitz gmodule-2.0 \
		gnome-2 gnome-keyring gnomecanvas-2 gnomevfs-2 gobject-2.0 \
		gthread-2.0 gtk-x11-2.0 m nspr4 nss3 nssckbi pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pcre pixman-1 plc4 plds4 \
		png popt pthread smime3 softokn3 ssl ssl3 startup-notification-1 \
		stdc++ util z avahi-client avahi-common avahi-glib \
		pthread-stubs xcb execinfo xcb-atom xcb-aux xcb-event

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=galeon/}

MODULES=	devel/gettext \
		textproc/intltool \
		devel/gconf2

BUILD_DEPENDS=	:xulrunner-devel->=1.8,<1.9:devel/xulrunner/1.8,-devel \
		::textproc/rarian \
		${RUN_DEPENDS}
RUN_DEPENDS=	::devel/desktop-file-utils \
		::devel/iso-codes \
		::x11/gnome/doc-utils \
		::x11/gnome/icon-theme \
		::x11/gnome/themes \
		::x11/gnome/yelp

LIB_DEPENDS=	xulrunner/gtkembedmoz,xulrunner/xpcom,xulrunner/xul:xulrunner->=1.8,<1.9:devel/xulrunner/1.8 \
		xml2::textproc/libxml \
		gnome-desktop-2::x11/gnome/desktop \
		gnomeui-2::x11/gnome/libgnomeui

CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/nss -I${X11BASE}/include -I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -lfreebl3 -lnss3 -lnssckbi -lsmime3 -lsoftokn3 -lssl3 -pthread -L${X11BASE}/lib -L${LOCALBASE}/xulrunner"

USE_X11=	Yes
USE_GMAKE=	Yes
USE_LIBTOOL=	Yes
MODGCONF2_SCHEMAS_DIR= galeon

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-mozilla="xulrunner" \
		--disable-gtkhtml

pre-configure:
	${SUBST_CMD} ${WRKSRC}/mozilla/mozilla-embed-shell.cpp \
		${WRKSRC}/doc/C/plugins.xml \
		${WRKSRC}/doc/es/plugins.xml

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/galeon/
	mv ${WRKINST}${SYSCONFDIR}/sound/ \
		${PREFIX}/share/examples/galeon/sound/

.include <bsd.port.mk>
@


1.56
log
@sync WANTLIB/LIB_DEPENDS, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2009/12/22 13:02:11 sthen Exp $
@


1.55
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.
prodded by espie@@
discussed with espie@@ ajacoutot@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2009/11/24 09:01:47 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p10
d29 1
a29 1
		pthread-stubs xcb
@


1.54
log
@Fix xulrunner package spec.

from an original diff for yelp by Mikolaj Kucharski
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2009/08/10 06:34:56 kili Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p9
@


1.53
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/07/27 21:44:14 martynas Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p8
d37 1
a37 1
BUILD_DEPENDS=	:xulrunner-devel->=1.8.1:devel/xulrunner/1.8,-devel \
d47 1
a47 1
LIB_DEPENDS=	xulrunner/gtkembedmoz,xulrunner/xpcom,xulrunner/xul:xulrunner->=1.8.1:devel/xulrunner/1.8 \
@


1.52
log
@adapt for the new xulrunner infrastructure.
no breakage in bulk build & bumps done by sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/06/22 10:43:58 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p7
d28 2
a29 1
		stdc++ util z avahi-client avahi-common avahi-glib
@


1.51
log
@sync wantlib, bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/06/11 18:27:02 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p6
d36 1
a36 1
BUILD_DEPENDS=	:xulrunner-devel->=1.8.1:devel/xulrunner,-devel \
d46 1
a46 1
LIB_DEPENDS=	xulrunner/gtkembedmoz,xulrunner/xpcom,xulrunner/xul:xulrunner->=1.8.1:devel/xulrunner \
@


1.50
log
@Bump after recent gconf2 MODULE change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/06/08 16:58:16 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p5
d28 1
a28 1
		stdc++ util z
@


1.49
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/06/07 06:44:42 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
@


1.48
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2009/04/16 08:11:13 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.47
log
@- now that we have rarian, the 'scrollkeeper-update -> /bin/true' hack
is not needed as the legacy scrollkeeper-update provided by rarian does
not do anything anymore

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/03/19 09:31:21 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d22 1
a22 1
		fontconfig freebl3 freetype gailutil gconf-2 gdk-x11-2.0 \
d33 2
a34 1
		textproc/intltool
d57 1
a61 2
		--with-gconf-schema-file-dir="${LOCALBASE}/share/schemas/galeon" \
		--disable-schemas-install \
@


1.46
log
@- fix mozilla plugins directory
- regen WANTLIB+PLIST while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/03/14 11:36:25 ajacoutot Exp $
a62 3

post-patch:
	@@ln -s /usr/bin/true ${WRKDIR}/bin/scrollkeeper-update
@


1.45
log
@- nothing should have to run_depends on rarian anymore
- explicitely add build_depends on rarian where gnome-doc-utils is also a
build dependency as it does not itself run_depends on rarian anymore

This was the 2nd and hopefully last pass of rarian/scrollkeeper cleaning.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/03/14 10:40:52 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d20 2
a21 2
		Xrender art_lgpl_2 atk-1.0 audiofile bonobo-2 bonobo-activation \
		bonoboui-2 c cairo crypto dbus-1 dbus-glib-1 esd expat \
d25 1
a25 1
		gthread-2.0 gtk-x11-2.0 jpeg m nspr4 nss3 nssckbi pango-1.0 \
d56 1
d58 2
a59 1
CONFIGURE_ARGS=	--with-mozilla="xulrunner" \
d66 5
@


1.44
log
@- first pass at cleaning rarian/scrollkeeper handling
remove rarian-sk-update from PLIST ; it is only a wrapper that does
noting: librarian takes care of everything now.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2008/12/23 11:36:08 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d36 1
a39 1
		::textproc/rarian \
@


1.43
log
@- update galeon to 2.0.7
- re-order WANTLIB
- re-order *_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2008/12/22 22:26:18 jasper Exp $
d6 2
@


1.42
log
@- tweak post-install
- mention license version
- remove bogus ${WRKDIST}
- sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2008/12/17 18:43:30 jasper Exp $
d5 1
a5 3
V=		2.0.3
DISTNAME=	galeon-${V}
PKGNAME=	${DISTNAME}p5
d15 12
a26 12
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcursor Xdmcp \
		Xext Xfixes Xi Xinerama Xrandr Xrender art_lgpl_2 atk-1.0 \
		audiofile bonobo-2 bonobo-activation bonoboui-2 c cairo \
		crypto dbus-1 dbus-glib-1 esd expat fontconfig freetype \
		gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0 glib-2.0 \
		glitz gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2 \
		gnomevfs-2 gobject-2.0 gthread-2.0 gtk-x11-2.0 jpeg \
		m nspr4 pango-1.0 pangocairo-1.0 pangoft2-1.0 plc4 \
		plds4 png popt pthread ssl startup-notification-1 stdc++ \
		util z \
		freebl3 nss3 nssckbi smime3 softokn3 ssl3 \
		Xcomposite Xdamage gailutil pcre gio-2.0 pixman-1
d35 12
a46 11
RUN_DEPENDS=	:gnome-doc-utils->=0.3.2:x11/gnome/doc-utils \
		:gnome-icon-theme-*:x11/gnome/icon-theme \
		:gnome-themes-*:x11/gnome/themes \
		:iso-codes-*:devel/iso-codes \
		:rarian-*:textproc/rarian \
		:yelp-*:x11/gnome/yelp \
		:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS=	gnome-desktop-2::x11/gnome/desktop \
		gnomeui-2.>=1400::x11/gnome/libgnomeui \
		xulrunner/gtkembedmoz,xulrunner/xpcom,xulrunner/xul:xulrunner->=1.8.1:devel/xulrunner \
		xml2.>=6.12::textproc/libxml
d55 2
a56 2
CONFIGURE_ARGS=	--with-mozilla=xulrunner \
		--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/galeon \
@


1.41
log
@- switch to rarian instead of scrollkeeper
- regen PLIST

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2008/06/03 14:56:09 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
d12 1
a12 1
# GPL
d28 1
a28 1
		Xcomposite Xdamage gailutil pcre
a60 2
WRKDIST=	${WRKDIR}/galeon-${V}/

d65 3
a67 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/galeon/sound/events
	${INSTALL_DATA} ${WRKINST}${SYSCONFDIR}/sound/events/galeon.soundlist ${PREFIX}/share/examples/galeon/sound/events/
@


1.40
log
@- use the in-tree intltool utilities (textproc/intltool MODULE) instead
of the ones bundled in sources
PLIST_DB seems happy with the change so no bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2008/01/23 16:37:16 martynas Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
d41 1
a41 1
		:scrollkeeper-*:textproc/scrollkeeper \
@


1.39
log
@make it use xulrunner-devel instead of firefox-devel.  improvements,
testing and ok kurt@@ and naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2007/12/15 21:14:22 ajacoutot Exp $
d32 2
a33 1
MODULES=	devel/gettext
a35 1
		:p5-XML-Parser-*:textproc/p5-XML-Parser \
@


1.38
log
@- add update-desktop-database goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2007/09/15 20:38:21 merdely Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
d27 2
a28 1
		freebl3 nss3 nssckbi smime3 softokn3 ssl3
d34 1
a34 1
BUILD_DEPENDS=	:mozilla-firefox-devel->=2.0:www/mozilla-firefox,-devel \
d46 1
a46 1
		mozilla-firefox/gtkembedmoz,mozilla-firefox/xpcom,mozilla-firefox/xpcom_core:mozilla-firefox->=2.0:www/mozilla-firefox \
d50 1
a50 1
		LDFLAGS="-L${LOCALBASE}/lib -lfreebl3 -lnss3 -lnssckbi -lsmime3 -lsoftokn3 -lssl3 -pthread -L${X11BASE}/lib -L${LOCALBASE}/mozilla-firefox"
d56 1
a56 1
CONFIGURE_ARGS=	--with-mozilla=firefox \
@


1.37
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2007/08/08 17:24:58 martynas Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d41 2
a42 1
		:yelp-*:x11/gnome/yelp
@


1.36
log
@- make scrollkeeper not to update it's database during fake, fixes
writes to LOCALBASE/var/scrollkeeper (reported by kurt@@);
- add forgotten @@unexec to uninstall schemas;
- bump PKGNAME;
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2007/05/17 17:47:38 martynas Exp $
d3 1
a3 1
COMMENT=	"GNOME web browser based on gecko"
@


1.35
log
@make ssl pages work: crypto and nss have some conflicting functions
and it started to use SHA1_Update (and others) from md32_common
ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2007/05/15 14:47:36 martynas Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d60 3
@


1.34
log
@update to 2.0.3; ok jasper@@, kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/04/07 14:54:12 steven Exp $
d7 1
d26 2
a27 1
		util z
d47 2
a48 2
CONFIGURE_ENV=	CPPFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include" \
		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/mozilla-firefox -L${LOCALBASE}/lib"
@


1.33
log
@USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2006/12/16 12:22:35 espie Exp $
d5 1
a5 1
V=		1.3.21
a6 1
PKGNAME=	${DISTNAME}p7
d16 10
a25 9
WANTLIB= ORBit-2 ORBitCosNaming-2 art_lgpl_2 atk-1.0 audiofile \
	 bonobo-2 bonobo-activation bonoboui-2 esd gconf-2 \
	 gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0 glib-2.0 \
	 gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2 \
	 gnomevfs-2 gobject-2.0 gthread-2.0 gtk-x11-2.0 jpeg \
	 pango-1.0 pangoft2-1.0 pangocairo-1.0 popt cairo glitz \
	 startup-notification-1 xml2 ICE SM X11 Xext Xrender png \
	 c crypto fontconfig freetype m pthread ssl stdc++ z \
	 nspr4 plc4 plds4
d31 1
a31 2
BUILD_DEPENDS=	:mozilla->=1.7.13p2:www/mozilla \
		:mozilla-devel->=1.7.13p2:www/mozilla,-devel \
d33 11
a43 4
		:scrollkeeper->=0.3.12:textproc/scrollkeeper
LIB_DEPENDS= 	gnome-desktop-2::x11/gnome/desktop \
		gnomeui-2::x11/gnome/libgnomeui \
		mozilla/gtkembedmoz,mozilla/xpcom:mozilla->=1.7.13p2:www/mozilla
d46 1
a46 2
		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/mozilla -L${LOCALBASE}/lib" \
		MOZILLA_CONFIG=${LOCALBASE}/mozilla/mozilla-config
d52 2
a53 1
CONFIGURE_ARGS=	--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/galeon \
a58 3
post-patch:
	@@ln -s /usr/bin/true ${WRKDIR}/bin/scrollkeeper-update

d60 2
a61 3
	@@mv -f ${PREFIX}/bin/galeon ${PREFIX}/bin/galeon-bin
	${INSTALL_SCRIPT} ${FILESDIR}/galeon ${PREFIX}/bin
	@@perl -pi -e 's|%%LOCALBASE%%|${LOCALBASE}|g;' ${PREFIX}/bin/galeon
@


1.32
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2006/11/17 19:41:58 kurt Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p6
d45 1
@


1.31
log
@adjust depends due to www/mozilla conversion to devel/nspr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2006/10/01 22:23:47 brad Exp $
a32 1
 		:pkgconfig-*:devel/pkgconfig \
@


1.30
log
@stop using the gcc3 module on the alpha architecture.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2006/09/18 12:00:00 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p5
d24 2
a25 1
	 c crypto fontconfig freetype m pthread ssl stdc++ z
d31 2
a32 2
BUILD_DEPENDS=	:mozilla->=1.7.11:www/mozilla \
		:mozilla-devel->=1.7.11:www/mozilla,-devel \
d38 1
a38 1
		mozilla/gtkembedmoz,mozilla/xpcom,mozilla/plds4,mozilla/plc4,mozilla/nspr4:mozilla->=1.7.11:www/mozilla
@


1.29
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2006/09/18 09:04:03 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
d28 1
a28 3
MODULES=	devel/gettext gcc3
MODGCC3_ARCHES=	alpha
MODGCC3_LANGS=	C++
@


1.28
log
@new style libs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2006/08/04 00:10:42 espie Exp $
d17 7
a23 7
WANTLIB= ORBit-2.0.0 ORBitCosNaming-2.0.0 art_lgpl_2.0.0 atk-1.0.0.0 audiofile \
	 bonobo-2.0.0 bonobo-activation bonoboui-2.0.0 esd gconf-2.0.0 \
	 gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 glade-2.0.0.0 glib-2.0.0.0 \
	 gmodule-2.0.0.0 gnome-2.0.0 gnome-keyring gnomecanvas-2.0.0 \
	 gnomevfs-2.0.0 gobject-2.0.0.0 gthread-2.0.0.0 gtk-x11-2.0.0.0 jpeg \
	 pango-1.0.0.0 pangoft2-1.0.0.0 pangocairo-1.0.0.0 popt cairo glitz \
	 startup-notification-1 xml2.0.0 ICE SM X11 Xext Xrender png \
@


1.27
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2006/06/13 13:34:56 bernd Exp $
d23 1
a23 1
	 startup-notification-1.0 xml2.0.0 ICE SM X11 Xext Xrender png \
@


1.26
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/01/19 13:13:07 steven Exp $
d38 1
a38 1
		gnomeui-2.0::x11/gnome/libgnomeui \
@


1.25
log
@- fix WANTLIB after gtk+2 downgrade
- MODULES=devel/gettext where appropriate and sync PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/11/16 10:01:53 wilfried Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
d22 2
a23 2
	 pango-1.0.0.0 pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 popt \
	 startup-notification-1.0 xml2.0.0 ICE SM X11 Xext Xft Xrender \
@


1.24
log
@fix wantlib + bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/09/22 17:05:49 kurt Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
d18 2
a19 2
	 bonobo-2.0.0 bonobo-activation bonoboui-2.0.0 cairo esd gconf-2.0.0 \
	 gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 glade-2.0.0.0 glib-2.0.0.0 glitz \
d22 2
a23 2
	 pango-1.0.0.0 pangoft2-1.0.0.0 pangocairo-1.0.0.0 png popt \
	 startup-notification-1.0 xml2.0.0 ICE SM X11 Xext Xrender \
@


1.23
log
@update depends now that mozilla is gtk2 by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2005/09/10 17:14:28 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d17 8
a24 10
WANTLIB= ORBit-2.0.0 ORBitCosNaming-2.0.0 art_lgpl_2.0.0 atk-1.0.0.0 \
        audiofile bonobo-2.0.0 bonobo-activation bonoboui-2.0.0 \
        esd gconf-2.0.0 gdk-x11-2.0.0.0 \
        gdk_pixbuf-2.0.0.0 glade-2.0.0.0 glib-2.0.0.0 gmodule-2.0.0.0 \
        gnome-2.0.0 gnome-keyring gnomecanvas-2.0.0 gnomevfs-2.0.0 \
        gobject-2.0.0.0 gthread-2.0.0.0 gtk-x11-2.0.0.0 jpeg \
        pango-1.0.0.0 pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 \
        popt startup-notification-1.0 xml2.0.0 ICE SM X11 Xft Xrender \
        c crypto fontconfig freetype m pthread ssl stdc++ z

@


1.22
log
@make sure we grab mozilla libs, and not nspr.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2005/09/10 07:02:05 wilfried Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d34 2
a35 2
BUILD_DEPENDS=	:mozilla-*-gtk2:www/mozilla,gtk2 \
		:mozilla-devel-*-gtk2:www/mozilla,-devel,gtk2 \
d41 1
a41 1
		mozilla/gtkembedmoz,mozilla/xpcom,mozilla/plds4,mozilla/plc4,mozilla/nspr4:mozilla-*-gtk2:www/mozilla,gtk2
@


1.21
log
@update to 1.3.21 - "It's the thought that counts"
add missing @@sample dir, noticed by kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2005/06/02 18:27:03 sturm Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}
d44 1
a44 1
		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib" \
@


1.20
log
@disable nautilus-view (doesn't build anymore) and update dependencies
after gnome update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2005/03/29 19:33:40 wilfried Exp $
d5 1
a5 1
V=		1.3.20
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d45 1
a45 1
		MOZILLA_CONFIG=/usr/local/mozilla/mozilla-config
@


1.19
log
@update galeon to 1.3.20 - "In Soviet Russia focus steals you!"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2005/03/13 05:06:18 kurt Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}
d19 1
a19 1
        eel-2.0.0 esd gailutil gconf-2.0.0 gdk-x11-2.0.0.0 \
d24 1
a24 1
        popt xml2.0.0 ICE SM X11 Xcursor Xext Xft Xinerama Xrender \
d39 2
a40 2
LIB_DEPENDS= 	gnomeui-2.0::x11/gnome/libgnomeui \
		nautilus::x11/gnome/nautilus \
a51 1
		--enable-nautilus-view \
@


1.18
log
@- Mark broken: requires upgrade to sync with mozilla

okay pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2005/01/18 12:57:52 wilfried Exp $
d3 1
a3 1
BROKEN="requires upgrade to sync with mozilla"
d5 4
a8 1
COMMENT=		"GNOME web browser based on gecko"
d10 1
a10 7
V=			1.2.13
DISTNAME=		galeon-${V}
PKGNAME=		${DISTNAME}p1
CATEGORIES=		www
MOZ=			1.7.5

HOMEPAGE=		http://galeon.sourceforge.net/
d17 39
a55 36
WANTLIB=		ICE IIOP ORBit ORBitCosNaming ORBitutil SM X11 Xext \
			Xi Xinerama audiofile c esd gconf-1 gconf-gtk-1 gdk \
			gdk_imlib glib gmodule gnome gthread gtk \
			jpeg m oaf png popt \
			pthread stdc++ tiff ungif wrap xml z \

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=galeon/}

MODULES=		devel/gettext gcc3
MODGCC3_ARCHES=		alpha
MODGCC3_LANGS=		C++

BUILD_DEPENDS=		:mozilla-${MOZ}-!gtk2:www/mozilla \
			:mozilla-devel-${MOZ}-!gtk2:www/mozilla,-devel \
			:scrollkeeper->=0.3.12:textproc/scrollkeeper
RUN_DEPENDS=		:scrollkeeper->=0.3.12:textproc/scrollkeeper
LIB_DEPENDS=		art_lgpl,gnomesupport,gnomeui::x11/gnome/libs \
			gdk_pixbuf::graphics/gdk-pixbuf \
			glade,glade-gnome:libglade-*-gnome:devel/libglade,gnome \
			gnomevfs::x11/gnome/vfs
LIB_DEPENDS+= 		mozilla/gtkembedmoz,mozilla/gtksuperwin,mozilla/xpcom,mozilla/nspr4,mozilla/plc4,mozilla/plds4:mozilla-${MOZ}-!gtk2:www/mozilla

CONFIGURE_ENV=		CPPFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include" \
			LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib" \
			MOZILLA_CONFIG=/usr/local/mozilla/mozilla-config

USE_X11=		Yes
USE_GMAKE=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--disable-werror \
			--disable-scrollkeeper-update \
			--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/galeon \
			--with-mozilla-snapshot=${MOZ} \
			--with-mozilla-home=${LOCALBASE}/mozilla \
			--with-mozilla-libs=${LOCALBASE}/mozilla/lib \
			--with-mozilla-includes=${LOCALBASE}/mozilla/include
d57 2
a58 1
WRKDIST=		${WRKDIR}/galeon-${V}/
d61 3
a63 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/schemas/galeon
	${INSTALL_DATA} ${WRKSRC}/galeon.schemas ${PREFIX}/share/schemas/galeon/
@


1.17
log
@mozilla-!gtk2, noted by naddy@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.16 2004/12/22 09:01:20 wilfried Exp $
d11 1
a11 1
MOZ=			1.6
@


1.16
log
@powerppc has gcc3 in base
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/12/21 11:34:00 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d30 2
a31 2
BUILD_DEPENDS=		:mozilla-${MOZ}:www/mozilla \
			:mozilla-devel-${MOZ}:www/mozilla,-devel \
d38 1
a38 1
LIB_DEPENDS+= 		mozilla/gtkembedmoz,mozilla/gtksuperwin,mozilla/xpcom,mozilla/nspr4,mozilla/plc4,mozilla/plds4:mozilla-${MOZ}:www/mozilla
@


1.15
log
@fix pkgspec in dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/12/19 12:22:24 espie Exp $
d27 1
a27 1
MODGCC3_ARCHES=		alpha powerpc
@


1.14
log
@fix missing lib depends that need a path.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/12/11 13:29:21 alek Exp $
d7 1
d36 1
a36 1
			glade,glade-gnome::devel/libglade,gnome \
@


1.13
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/09/29 07:51:17 xsa Exp $
d19 3
a21 3
			gdk_imlib glib gmodule gnome gthread gtk gtkembedmoz \
			gtksuperwin jpeg m nspr4 oaf plc4 plds4 png popt \
			pthread stdc++ tiff ungif wrap xml xpcom z 
d32 1
a32 2
RUN_DEPENDS=		:mozilla-${MOZ}:www/mozilla \
			:scrollkeeper->=0.3.12:textproc/scrollkeeper
d37 1
a37 2

#			gtkembedmoz,gtksuperwin,nspr4,plc4,plds4,xpcom::www/mozilla
@


1.12
log
@new-style MODULES;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/02/25 02:35:17 naddy Exp $
d17 5
@


1.11
log
@The sparc64 compiler is gcc3 now; don't require the gcc3 module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/01/18 10:49:03 wilfried Exp $
d20 1
a20 1
MODULES=		gettext gcc3
@


1.10
log
@use mozilla 1.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2003/12/04 15:02:51 wilfried Exp $
d21 1
a21 1
MODGCC3_ARCHES=		alpha sparc64 powerpc
@


1.9
log
@update galeon to 1.2.13 "Can't let it go"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2003/08/18 14:24:40 wilfried Exp $
d8 1
a8 1
MOZ=			1.6a
@


1.8
log
@use gcc3 for powerpc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2003/08/15 11:33:04 wilfried Exp $
d5 1
a5 1
V=			1.2.11
d8 1
a8 1
MOZ=			1.4
d37 2
a38 1
			LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib"
@


1.7
log
@make it compile on sparc64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/08/15 08:49:33 wilfried Exp $
d21 1
a21 1
MODGCC3_ARCHES=		alpha sparc64
@


1.6
log
@typo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/07/12 06:27:12 marcm Exp $
d20 3
a22 1
MODULES=		gettext
@


1.5
log
@Don't try to use the custom scrollkeeper catalog anymore.  It's gone :).

Update *_DEPENDS version accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/07/04 06:41:12 marcm Exp $
d20 1
a20 1
MODULE=			gettext
@


1.4
log
@Properly handle GConf schemas and scrollkeeper omf files.  Should make
it work when installed as a package now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/07/01 11:11:31 wilfried Exp $
d24 3
a26 2
			:scrollkeeper-*:textproc/scrollkeeper
RUN_DEPENDS=		:mozilla-${MOZ}:www/mozilla
@


1.3
log
@update to 1.2.11 "Tommi wishes it would go away"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/05/24 11:08:17 wilfried Exp $
d20 2
a21 2
MODULE=			iconv \
	  		gettext
d26 1
a26 6
LIB_DEPENDS=		audiofile::devel/libaudiofile \
			esd::audio/esound \
			tiff::graphics/tiff \
			ungif::graphics/libungif \
			gthread::devel/glib \
			gdk_imlib::graphics/imlib \
a27 1
			gconf-1,gconf-gtk-1::devel/gconf \
d29 3
a31 5
			IIOP,ORBit,ORBitCosNaming,ORBitutil::devel/ORBit \
			art_lgpl,gnome,gnomesupport,gnomeui::x11/gnome/libs \
			gnomevfs::x11/gnome/vfs \
			oaf::x11/gnome/oaf \
			xml::textproc/libxml1
d41 1
d48 4
@


1.2
log
@add subpackage spec, from sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/05/23 10:39:29 wilfried Exp $
d5 2
a6 2
V=			1.2.10
DISTNAME=		galeon-${V}a
d8 1
a8 1
MOZ=			1.4b
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d23 1
a23 1
			:mozilla-devel-${MOZ}:www/mozilla \
@


1.1.1.1
log
@Import galeon 1.2.10a

Galeon is a GNOME Web browser based on gecko (the mozilla rendering
engine). It's fast, it has a light interface, and it is fully
standards-compliant.
@
text
@@
