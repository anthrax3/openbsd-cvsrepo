head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.8
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.6.0.6
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.6.0.4
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.4.0.4
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.1.1.0.2
	OPENBSD_5_5_BASE:1.1.1.1
	sebastia_20131029:1.1.1.1
	sebastia:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2015.12.14.07.01.04;	author sebastia;	state Exp;
branches;
next	1.5;
commitid	klUVg73rZrG702bo;

1.5
date	2015.10.05.11.20.57;	author sthen;	state Exp;
branches;
next	1.4;
commitid	cuXFSrnUbeG2TwSl;

1.4
date	2015.07.31.11.48.22;	author sebastia;	state Exp;
branches;
next	1.3;
commitid	jFdZc4XICYI6ShFB;

1.3
date	2015.07.18.21.08.28;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	uyNMX9lnGUur7ur2;

1.2
date	2014.05.22.09.50.22;	author sebastia;	state Exp;
branches;
next	1.1;

1.1
date	2013.10.29.06.16.37;	author sebastia;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.10.29.06.16.37;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to 5.5rc3
besides some minor cosmetics, change dependency from apache-module to
apache2
@
text
@# $OpenBSD: README,v 1.5 2015/10/05 11:20:57 sthen Exp $

+-----------------------------------------------------------------------
| Running ${FULLPKGNAME} on OpenBSD
+-----------------------------------------------------------------------

The OpenGroupware system user
=============================

The system user and group intended to run the OpenGroupware application server
is called _opengroupware. The users home directory is ${VARBASE}/opengroupware.

OpenGroupware with apache-httpd
===============================

OpenGroupware requires the mod_ngobjweb module used with Apache2. The one
that comes with the OpenGroupware package is built against apache-httpd
package.

Per default the web server runs in a chroot environment. Therefore you have to
copy some files into the server's chroot environment:

# mkdir -p ${VARBASE}/www/htdocs/OpenGroupware55.woa
# cp -R ${TRUEPREFIX}/share/opengroupware/www \
	${VARBASE}/www/htdocs/OpenGroupware55.woa/WebServerResources

The web server needs the ngobjweb Apache module loaded. The following line
need to be added to ${SYSCONFDIR}/apache2/httpd2.conf:

LoadModule ngobjweb_module ${PREFIX}/lib/apache2/ngobjweb_module.so

A sample configuration is installed as example
# cp ${TRUEPREFIX}/share/examples/opengroupware/opengroupware.conf ${SYSCONFDIR}/etc/apache2/extra

Enable the loading of that file in ${SYSCONFDIR}/apache2/httpd2.conf:
Include ${SYSCONFDIR}/extra/opengroupware.conf

Then restart apache to make the changes effective
# rcctl restart apache2

OpenGroupware configuration example
===================================

Example configuration files for a simple setup are installed with the package.
In order to use them, copy the files as user _opengroupware
to the users Defaults directory:

$ cp ${TRUEPREFIX}/share/examples/opengroupware/*.plist ~/GNUstep/Defaults/

The example assumes you have all the services necessary to run OpenGroupware
on the localhost. These are an LDAP server, an IMAP server, and a PostgreSQL
database.

You can edit the OpenGroupware configuration files manually with your
favourite text editor, but doing so is discouraged. Better use the GNUstep
defaults(1) tool. See the manual page for advice how to use it.

Initializing the database
=========================

Change to the _postgresql user, and create the database:

# su - _postgresql
$ createuser _opengroupware
$ createdb -O _opengroupware -E UTF-8 -t template0 opengroupware
$ psql -U _opengroupware opengroupware < \
	${TRUEPREFIX}/lib/opengroupware/commands/OGo.model/Resources/pg-build-schema.psql

You may have to edit the pg_hba.conf to grant access for the
_opengroupware user.
@


1.5
log
@httpd->apache in rc script name
@
text
@d1 1
a1 1
# $OpenBSD: README,v 1.4 2015/07/31 11:48:22 sebastia Exp $
d13 2
a14 2
OpenGroupware with apache-httpd-openbsd
=======================================
d16 3
a18 6
OpenGroupware requires the mod_ngobjweb module used with Apache. The one
that comes with the OpenGroupware package is built against apache-httpd-openbsd
package, which is based on Apache 1.3. Since the httpd 1.3 configuration is
slightly different than the Apache 2 configuration explained in the OGo WIKI,
here is an example. It's assumed that the httpd and OGo run on the same host.
The httpd listens on port 80, and OGo is listening on its default port 20000.
d27 2
a28 2
The web server needs the ngobjweb Apache module loaded. Enable it
by running:
d30 1
a30 1
# ${TRUEPREFIX}/sbin/mod_ngobjweb-enable
d33 7
a39 2
# cp ${TRUEPREFIX}/share/examples/opengroupware/opengroupware.conf ${VARBASE}/www/conf/modules
# rcctl restart apache
@


1.4
log
@Mention apache-httpd-openbsd package instead of the non existing apache
httpd from base. Pointed out by zhukov@@

OK sthen@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: README,v 1.3 2015/07/18 21:08:28 ajacoutot Exp $
d37 1
a37 1
# rcctl restart httpd
@


1.3
log
@Stop mentioning sudo(8).
@
text
@d1 1
a1 1
# $OpenBSD: README,v 1.2 2014/05/22 09:50:22 sebastia Exp $
d13 2
a14 2
OpenGroupware with httpd from OpenBSD base
==========================================
d16 6
a21 4
Since the httpd 1.3 configuration is slightly different than the Apache 2
configuration explained in the OGo WIKI, here is an example. It's assumed
that the httpd and OGo run on the same host. The httpd listens on port 80,
and OGo is listening on its default port 20000.
d23 1
a23 1
The OpenBSD httpd runs in a chroot environment, therefore you have to
d30 1
a30 1
OpenGroupware needs the ngobjweb Apache module loaded. Enable it
@


1.2
log
@bump revision due to gnustep.port.mk overhaul and portcheck fixes

feedback and OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: README,v 1.1.1.1 2013/10/29 06:16:37 sebastia Exp $
d24 2
a25 2
$ sudo mkdir -p ${VARBASE}/www/htdocs/OpenGroupware55.woa
$ sudo cp -R ${TRUEPREFIX}/share/opengroupware/www \
d31 1
a31 1
$ sudo ${TRUEPREFIX}/sbin/mod_ngobjweb-enable
d34 2
a35 2
$ sudo cp ${TRUEPREFIX}/share/examples/opengroupware/opengroupware.conf ${VARBASE}/www/conf/modules
$ sudo /etc/rc.d/httpd restart
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d11 1
a11 1
is called _opengroupware. The users home directory is /var/opengroupware.
d24 1
a24 1
$ sudo mkdir -p /var/www/htdocs/OpenGroupware55.woa
d26 1
a26 1
	/var/www/htdocs/OpenGroupware55.woa/WebServerResources
d34 1
a34 1
$ sudo cp ${TRUEPREFIX}/share/examples/opengroupware/opengroupware.conf /var/www/conf/modules
@


1.1.1.1
log
@OpenGroupware is a full-featured groupware system developed in
Objective-C on SOPE using a WebObject paradigm.  Besides the standard
groupware features as webmail, contacts, appointment and task
management, it also provides a project and document management facility.

Feedback and suggestions from landry@@ and ajacoutot@@

OK landry@@, ajacoutot@@

@
text
@@
