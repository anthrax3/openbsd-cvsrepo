head	1.7;
access;
symbols
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.2
	OPENBSD_5_0:1.5.0.2
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.7
date	2012.05.23.15.13.41;	author jasper;	state dead;
branches;
next	1.6;

1.6
date	2011.12.07.12.18.01;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2011.04.29.07.41.15;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.04.12.10.32.49;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2011.04.12.08.05.05;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.03.30.19.54.29;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.29.12.24.39;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.7
log
@be gone, you belong in lang/ now.
@
text
@$OpenBSD: patch-deps_v8_SConstruct,v 1.6 2011/12/07 12:18:01 sthen Exp $

- Remove extra zoom-zoom!
- Don't link with -lpthread but use -pthread instead.

--- deps/v8/SConstruct.orig	Wed Nov 16 13:43:22 2011
+++ deps/v8/SConstruct	Wed Nov 16 13:44:20 2011
@@@@ -94,7 +94,7 @@@@ LIBRARY_FLAGS = {
       'CPPDEFINES':   ['ENABLE_DISASSEMBLER', 'DEBUG'],
     },
     'mode:release': {
-      'CCFLAGS':      ['-O3', '-fomit-frame-pointer', '-fdata-sections',
+      'CCFLAGS':      ['-fomit-frame-pointer', '-fdata-sections',
                        '-ffunction-sections'],
     },
     'os:linux': {
@@@@ -358,7 +358,8 @@@@ MKSNAPSHOT_EXTRA_FLAGS = {
       'LINKFLAGS': ['-mt']
     },
     'os:openbsd': {
-      'LIBS': ['execinfo', 'pthread']
+      'LIBS': ['execinfo'],
+      'LINKFLAGS': ['-pthread'],
     },
     'os:win32': {
       'LIBS': ['winmm', 'ws2_32'],
@


1.6
log
@update to node 0.6.3, parts from Aaron Bieber
(further update 0.6.5 to be done soonish, but let's get this in first)
@
text
@d1 1
a1 1
$OpenBSD$
@


1.5
log
@Zap zoom zoom (-O3)

prompted by zthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-deps_v8_SConstruct,v 1.4 2011/04/12 10:32:49 jasper Exp $
d6 4
a9 4
--- deps/v8/SConstruct.orig	Sat Apr 23 02:06:25 2011
+++ deps/v8/SConstruct	Fri Apr 29 00:07:18 2011
@@@@ -154,7 +154,7 @@@@ LIBRARY_FLAGS = {
       }
d15 3
a17 3
       'os:android': {
         'CCFLAGS':    ['-mthumb', '-Os'],
@@@@ -368,7 +368,8 @@@@ MKSNAPSHOT_EXTRA_FLAGS = {
d23 1
a23 1
+      'LINKFLAGS': ['-pthread']
@


1.4
log
@- update to 0.4.5
@
text
@d1 1
a1 1
$OpenBSD: patch-deps_v8_SConstruct,v 1.3 2011/04/12 08:05:05 jasper Exp $
d3 1
d6 11
a16 2
--- deps/v8/SConstruct.orig	Tue Apr 12 10:05:56 2011
+++ deps/v8/SConstruct	Tue Apr 12 10:06:54 2011
@


1.3
log
@- don't force -Werror, fixes build on i386.

reported by STeve Andre', fix suggested by aja@@
@
text
@d1 1
a1 1
$OpenBSD: patch-deps_v8_SConstruct,v 1.2 2011/03/30 19:54:29 jasper Exp $
a2 1
- Don't force -Werror, breaks build on i386.
d5 3
a7 11
--- deps/v8/SConstruct.orig	Sat Mar 26 09:48:02 2011
+++ deps/v8/SConstruct	Tue Apr 12 09:50:13 2011
@@@@ -306,7 +306,6 @@@@ V8_EXTRA_FLAGS = {
   'gcc': {
     'all': {
       'WARNINGFLAGS': ['-Wall',
-                       '-Werror',
                        '-W',
                        '-Wno-unused-parameter',
                        '-Wnon-virtual-dtor']
@@@@ -369,7 +368,8 @@@@ MKSNAPSHOT_EXTRA_FLAGS = {
@


1.2
log
@- update node to 0.4.4 with various patches from chrome to make this build
@
text
@d1 1
a1 1
$OpenBSD: patch-deps_v8_SConstruct,v 1.1 2010/12/29 12:24:39 jasper Exp $
d3 2
a4 1
Don't link with -lpthread but use -pthread instead.
d7 10
a16 2
+++ deps/v8/SConstruct	Sat Mar 26 14:32:08 2011
@@@@ -369,7 +369,8 @@@@ MKSNAPSHOT_EXTRA_FLAGS = {
@


1.1
log
@- don't link with -lpthread
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- deps/v8/SConstruct.orig	Wed Dec 29 13:06:58 2010
+++ deps/v8/SConstruct	Wed Dec 29 13:07:25 2010
@@@@ -361,7 +361,8 @@@@ MKSNAPSHOT_EXTRA_FLAGS = {
@

