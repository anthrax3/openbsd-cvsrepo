head	1.6;
access;
symbols
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.4.0.2
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.2.0.6
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.4
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	jolan_2005-may-25:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2007.11.13.21.24.48;	author martynas;	state dead;
branches;
next	1.5;

1.5
date	2007.04.01.09.36.16;	author martynas;	state Exp;
branches;
next	1.4;

1.4
date	2007.02.23.18.17.17;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2006.12.04.09.47.54;	author jolan;	state Exp;
branches;
next	1.2;

1.2
date	2005.07.13.04.49.56;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2005.05.25.06.59.10;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.05.25.06.59.10;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.6
log
@update to minimo-20071108;  testing on zaurus and ok kili@@
@
text
@$OpenBSD: patch-xpcom_reflect_xptcall_src_md_unix_Makefile_in,v 1.5 2007/04/01 09:36:16 martynas Exp $
--- xpcom/reflect/xptcall/src/md/unix/Makefile.in.orig	Tue Nov 28 07:29:22 2006
+++ xpcom/reflect/xptcall/src/md/unix/Makefile.in	Wed Mar 28 12:08:58 2007
@@@@ -68,6 +68,12 @@@@ CPPSRCS		:= xptcinvoke_unixish_x86.cpp xptcstubs_unixi
 endif
 endif
 #
+# OpenBSD/amd64
+#
+ifeq ($(OS_ARCH)$(OS_TEST),OpenBSDamd64)
+CPPSRCS		:= xptcinvoke_openbsd_amd64.cpp xptcstubs_openbsd_amd64.cpp
+endif
+#
 # New code for Linux, et. al., with gcc
 # Migrate other platforms here after testing
 #
@@@@ -129,6 +135,12 @@@@ CPPSRCS		:= xptcinvoke_osf1_alpha.cpp xptcstubs_osf1_a
 ASFILES		:= xptcinvoke_asm_osf1_alpha.s xptcstubs_asm_osf1_alpha.s
 endif
 #
+# OpenBSD/Alpha
+#
+ifeq ($(OS_ARCH)$(OS_TEST),OpenBSDalpha)
+CPPSRCS		:= xptcinvoke_openbsd_alpha.cpp xptcstubs_openbsd_alpha.cpp
+endif
+#
 # Linux/Alpha
 #
 ifneq (,$(filter Linuxalpha FreeBSDalpha NetBSDalpha,$(OS_ARCH)$(OS_TEST)))                           
@@@@ -162,6 +174,17 @@@@ ifneq (,$(filter arm% sa110,$(OS_TEST)))
 CPPSRCS		:= xptcinvoke_arm_netbsd.cpp xptcstubs_arm_netbsd.cpp
 endif
 endif
+######################################################################
+#
+# OpenBSD/ARM
+#
+# NOTE: won't work w/o optimizations (-O1, -O2)
+ifeq ($(OS_ARCH),OpenBSD)
+ifneq (,$(filter armish zaurus,$(OS_TEST)))
+CPPSRCS         := xptcinvoke_arm_openbsd.cpp xptcstubs_arm_openbsd.cpp
+CXXFLAGS	+= -O2
+endif
+endif
 
 ######################################################################
 # HPPA
@@@@ -278,6 +301,14 @@@@ ASFILES		:= xptcinvoke_asm_ppc_netbsd.s xptcstubs_asm_
 endif
 
 #
+# OpenBSD/PPC
+#
+ifneq (,$(filter OpenBSDmacppc,$(OS_ARCH)$(OS_TEST)))                           
+CPPSRCS		:= xptcinvoke_ppc_openbsd.cpp xptcstubs_ppc_openbsd.cpp
+ASFILES		:= xptcinvoke_asm_ppc_openbsd.s xptcstubs_asm_ppc_openbsd.s
+endif
+
+#
 # Darwin/PPC
 #
 ifeq ($(OS_ARCH),Darwin)
@@@@ -349,6 +380,20 @@@@ endif
 endif
 
 endif
+endif
+#
+# OpenBSD/SPARC
+#
+ifeq ($(OS_ARCH)$(OS_TEST),OpenBSDsparc)
+CPPSRCS		:= xptcinvoke_sparc_netbsd.cpp xptcstubs_sparc_netbsd.cpp
+ASFILES		:= xptcinvoke_asm_sparc_netbsd.s xptcstubs_asm_sparc_netbsd.s
+endif
+#   
+# OpenBSD/SPARC64
+#   
+ifeq ($(OS_ARCH)$(OS_TEST),OpenBSDsparc64)
+CPPSRCS		:= xptcinvoke_sparc64_openbsd.cpp xptcstubs_sparc64_openbsd.cpp
+ASFILES		:= xptcinvoke_asm_sparc64_openbsd.s xptcstubs_asm_sparcv9_solaris.s
 endif
 
 ######################################################################
@


1.5
log
@- update to minimo-20070320 -- 4 months with lots of changes, including
security fixes, and the wholly new interface;
- don't force optimizations;
- use external nss;
ok kili@@
@
text
@d1 1
a1 1
$OpenBSD: patch-xpcom_reflect_xptcall_src_md_unix_Makefile_in,v 1.4 2007/02/23 18:17:17 robert Exp $
@


1.4
log
@implement xptcinvoke and xptcstubs for arm based on the linux code,
and fix an endianess issue that makes minimo work on arm based
architectures;

the problem has been fixed by Martynas Venckus;
@
text
@d1 4
a4 4
$OpenBSD: patch-xpcom_reflect_xptcall_src_md_unix_Makefile_in,v 1.3 2006/12/04 09:47:54 jolan Exp $
--- xpcom/reflect/xptcall/src/md/unix/Makefile.in.orig	Tue Nov 14 22:09:15 2006
+++ xpcom/reflect/xptcall/src/md/unix/Makefile.in	Fri Feb 23 15:25:48 2007
@@@@ -68,6 +68,12 @@@@ CPPSRCS		:= xptcinvoke_unixish_x86.cpp x
d17 1
a17 1
@@@@ -129,6 +135,12 @@@@ CPPSRCS		:= xptcinvoke_osf1_alpha.cpp xp
d48 1
a48 1
@@@@ -278,6 +301,14 @@@@ ASFILES		:= xptcinvoke_asm_ppc_netbsd.s 
@


1.3
log
@update to 20061120, from Martynas Venckus
@
text
@d1 3
a3 3
$OpenBSD: patch-xpcom_reflect_xptcall_src_md_unix_Makefile_in,v 1.2 2005/07/13 04:49:56 jolan Exp $
--- xpcom/reflect/xptcall/src/md/unix/Makefile.in.orig	Tue Nov 14 23:09:15 2006
+++ xpcom/reflect/xptcall/src/md/unix/Makefile.in	Sat Nov 18 21:49:17 2006
d30 19
a48 1
@@@@ -278,6 +290,14 @@@@ ASFILES		:= xptcinvoke_asm_ppc_netbsd.s 
d63 1
a63 1
@@@@ -349,6 +369,20 @@@@ endif
@


1.2
log
@update to 20050712
@
text
@d1 17
a17 4
$OpenBSD: patch-xpcom_reflect_xptcall_src_md_unix_Makefile_in,v 1.1.1.1 2005/05/25 06:59:10 jolan Exp $
--- xpcom/reflect/xptcall/src/md/unix/Makefile.in.orig	Thu Jun 16 22:15:13 2005
+++ xpcom/reflect/xptcall/src/md/unix/Makefile.in	Tue Jul 12 22:06:58 2005
@@@@ -128,6 +128,12 @@@@ CPPSRCS		:= xptcinvoke_osf1_alpha.cpp xp
d30 1
a30 1
@@@@ -277,6 +283,15 @@@@ ASFILES		:= xptcinvoke_asm_ppc_netbsd.s 
d36 1
a36 2
+ifneq (,$(filter OpenBSDmacppc,$(OS_ARCH)$(OS_TEST)))                          
+ 
d45 1
a45 1
@@@@ -348,6 +363,27 @@@@ endif
a49 1
+
d54 2
a55 2
+CPPSRCS                := xptcinvoke_sparc_netbsd.cpp xptcstubs_sparc_netbsd.cpp
+ASFILES                := xptcinvoke_asm_sparc_netbsd.s xptcstubs_asm_sparc_netbsd.s
d61 2
a62 8
+CPPSRCS                := xptcinvoke_sparc64_openbsd.cpp xptcstubs_sparc64_openbsd.cpp
+ASFILES                := xptcinvoke_asm_sparc64_openbsd.s xptcstubs_asm_sparcv9_solaris.s
+endif
+#
+# OpenBSD/amd64
+#
+ifeq ($(OS_ARCH)$(OS_TEST),OpenBSDamd64)
+CPPSRCS                := xptcinvoke_openbsd_amd64.cpp xptcstubs_openbsd_amd64.cpp
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD: patch-xpcom_reflect_xptcall_src_md_unix_Makefile_in,v 1.7 2005/03/13 05:02:17 kurt Exp $
--- xpcom/reflect/xptcall/src/md/unix/Makefile.in.orig	Tue Jan 11 23:17:45 2005
+++ xpcom/reflect/xptcall/src/md/unix/Makefile.in	Tue Jan 11 23:27:01 2005
@@@@ -111,6 +111,12 @@@@ CPPSRCS		:= xptcinvoke_osf1_alpha.cpp xp
d17 1
a17 1
@@@@ -260,6 +266,15 @@@@ ASFILES		:= xptcinvoke_asm_ppc_netbsd.s 
d33 1
a33 1
@@@@ -331,6 +346,27 @@@@ endif
@


1.1.1.1
log
@minimo-20050524, mini mozilla

this is smaller than firefox and has special handling for small screens
which is useful for machines like the zaurus.  unfortunately, it's not
there yet, see the TODO.  please don't add this to the www Makefile yet.
@
text
@@
