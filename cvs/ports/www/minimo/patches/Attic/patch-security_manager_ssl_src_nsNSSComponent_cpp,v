head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2007.04.01.13.19.58;	author martynas;	state dead;
branches;
next	1.1;

1.1
date	2007.04.01.09.36.16;	author martynas;	state Exp;
branches;
next	;


desc
@@


1.2
log
@more work on minimo:
- WANTLIB for xenocara;
- fix initxpcom crashes with HACK_AROUND_NONREENTRANT_INITXPCOM;
- respect the layout, data files belong to /usr/local/share/minimo;
- respect homepage;
- cleanup;
"looks ok" robert@@
@
text
@$OpenBSD: patch-security_manager_ssl_src_nsNSSComponent_cpp,v 1.1 2007/04/01 09:36:16 martynas Exp $
--- security/manager/ssl/src/nsNSSComponent.cpp.orig	Mon May 15 21:24:30 2006
+++ security/manager/ssl/src/nsNSSComponent.cpp	Wed Jan 10 18:13:16 2007
@@@@ -699,11 +699,10 @@@@ nsNSSComponent::InstallLoadableRoots()
       return;
 
     const char *possible_ckbi_locations[] = {
+      0, // This special value means: 
+        //   search for ckbi in the the system NSS_LIBDIR
       NS_GRE_DIR,
-      NS_XPCOM_CURRENT_PROCESS_DIR,
-      0 // This special value means: 
-        //   search for ckbi in the directories on the shared
-        //   library/DLL search path
+      NS_XPCOM_CURRENT_PROCESS_DIR
     };
 
     for (size_t il = 0; il < sizeof(possible_ckbi_locations)/sizeof(const char*); ++il) {
@@@@ -712,7 +711,7 @@@@ nsNSSComponent::InstallLoadableRoots()
 
       if (!possible_ckbi_locations[il])
       {
-        fullModuleName = PR_GetLibraryName(nsnull, "nssckbi");
+        fullModuleName = PR_GetLibraryName(NSS_LIBDIR, "nssckbi");
       }
       else
       {
@


1.1
log
@- update to minimo-20070320 -- 4 months with lots of changes, including
security fixes, and the wholly new interface;
- don't force optimizations;
- use external nss;
ok kili@@
@
text
@d1 1
a1 1
$OpenBSD$
@

