head	1.3;
access;
symbols
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.1.0.4
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2007.08.08.17.34.41;	author martynas;	state dead;
branches;
next	1.2;

1.2
date	2006.12.04.09.47.54;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2005.10.20.16.18.26;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.3
log
@security update to minimo-20070804 which fixes recent gecko
vulnerabilities (and has some minimo-2.0 interface fixes);  ok naddy@@
tested by kili@@ on zaurus, thank you.
@
text
@$OpenBSD: patch-xpcom_reflect_xptcall_src_md_unix_xptc_platforms_unixish_x86_h,v 1.2 2006/12/04 09:47:54 jolan Exp $
--- xpcom/reflect/xptcall/src/md/unix/xptc_platforms_unixish_x86.h.orig	Thu Feb 23 21:37:11 2006
+++ xpcom/reflect/xptcall/src/md/unix/xptc_platforms_unixish_x86.h	Mon Oct 30 18:18:44 2006
@@@@ -107,12 +107,16 @@@@
 #define THUNK_BASED_THIS_ADJUST
 
 #elif defined(__OpenBSD__) 
+#if __GNUC__ >= 3
+#define THUNK_BASED_THIS_ADJUST
+#else
 /* OpenBSD instroduces GCC 2.95.x in late May 1999 */
 #include <sys/param.h>
 #if OpenBSD <= 199905
 #define THUNK_BASED_THIS_ADJUST
 #else
 #define CFRONT_STYLE_THIS_ADJUST
+#endif
 #endif
 
 #elif defined(__bsdi__) 
@


1.2
log
@update to 20061120, from Martynas Venckus
@
text
@d1 1
a1 1
$OpenBSD: patch-xpcom_reflect_xptcall_src_md_unix_xptc_platforms_unixish_x86_h,v 1.1 2005/10/20 16:18:26 jolan Exp $
@


1.1
log
@might as well make this work on i386 too
@
text
@d1 4
a4 5
$OpenBSD$
--- xpcom/reflect/xptcall/src/md/unix/xptc_platforms_unixish_x86.h.orig	Sun Apr 18 09:18:18 2004
+++ xpcom/reflect/xptcall/src/md/unix/xptc_platforms_unixish_x86.h	Thu Oct 20 02:37:41 2005
@@@@ -106,13 +106,17 @@@@
 #elif defined(__NetBSD__) 
d7 1
a7 2
-#elif defined(__OpenBSD__) 
+#elif defined(__OpenBSD__)
@

