head	1.8;
access;
symbols
	OPENBSD_4_8:1.7.0.10
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.8
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.6
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.4
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.2
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.6.0.4
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.6.0.2
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.4.0.2
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.2.0.6
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.4
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	jolan_2005-may-25:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2010.10.26.09.09.34;	author landry;	state dead;
branches;
next	1.7;

1.7
date	2008.07.08.20.37.30;	author martynas;	state Exp;
branches;
next	1.6;

1.6
date	2007.04.01.13.19.58;	author martynas;	state Exp;
branches;
next	1.5;

1.5
date	2007.04.01.09.36.15;	author martynas;	state Exp;
branches;
next	1.4;

1.4
date	2006.12.04.09.47.54;	author jolan;	state Exp;
branches;
next	1.3;

1.3
date	2006.11.17.19.03.14;	author kurt;	state Exp;
branches;
next	1.2;

1.2
date	2005.07.13.04.49.56;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2005.05.25.06.59.10;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.05.25.06.59.10;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Minimo 1.8.1.19 was released >2 years ago, its codebase is ffx-2.x,
unmaintained upstream, etc. Another mozilla port bites the dust.
(i'll port its descendant fennec once ffx4 works, if it works someday..)

no objections from zaurus/arm users (sthen, kili, deraadt, todd...)
agreed by stephan@@ & steven@@ at trofea
@
text
@$OpenBSD: patch-security_coreconf_OpenBSD_mk,v 1.7 2008/07/08 20:37:30 martynas Exp $
--- security/coreconf/OpenBSD.mk.orig	Sun May  6 11:08:36 2007
+++ security/coreconf/OpenBSD.mk	Wed Jul  2 11:52:33 2008
@@@@ -56,7 +56,7 @@@@ OS_LIBS			+= -pthread
 DSO_LDOPTS		+= -pthread
 endif
 
-DLL_SUFFIX		= so.1.0
+DLL_SUFFIX		= so.${SO_VERSION}
 
 OS_CFLAGS		= $(DSO_CFLAGS) $(OS_REL_CFLAGS) -ansi -Wall -pipe -DOPENBSD
 
@


1.7
log
@- start normal versioning;  stick with branches of firefox 2 releases,
so that we don't end up with non-stable versions
- security update to minimo-1.8.1.15v0
tested by kili@@ and sthen@@ on arm, i386
ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-security_coreconf_OpenBSD_mk,v 1.6 2007/04/01 13:19:58 martynas Exp $
@


1.6
log
@more work on minimo:
- WANTLIB for xenocara;
- fix initxpcom crashes with HACK_AROUND_NONREENTRANT_INITXPCOM;
- respect the layout, data files belong to /usr/local/share/minimo;
- respect homepage;
- cleanup;
"looks ok" robert@@
@
text
@d1 6
a6 6
$OpenBSD: patch-security_coreconf_OpenBSD_mk,v 1.5 2007/04/01 09:36:15 martynas Exp $
--- security/coreconf/OpenBSD.mk.orig	Sun Apr 25 18:02:17 2004
+++ security/coreconf/OpenBSD.mk	Thu Mar 22 20:29:45 2007
@@@@ -42,7 +42,7 @@@@ CC			= gcc
 CCC			= g++
 RANLIB			= ranlib
d8 2
a9 7
-CPU_ARCH		:= $(shell uname -p)
+CPU_ARCH		:= $(shell arch -s)
 ifeq ($(CPU_ARCH),i386)
 OS_REL_CFLAGS		= -Di386
 CPU_ARCH		= x86
@@@@ -64,7 +64,7 @@@@ OS_LIBS			= 
 ARCH			= openbsd
d11 1
a11 4
 DSO_CFLAGS		= -fPIC -DPIC
-DSO_LDOPTS		= -shared -Wl,-soname,lib$(LIBRARY_NAME)$(LIBRARY_VERSION).$(DLL_SUFFIX)
+DSO_LDOPTS		= -shared -fPIC -Wl,-soname,lib$(LIBRARY_NAME)$(LIBRARY_VERSION).$(DLL_SUFFIX)
 DSO_LDFLAGS		=
a12 1
 MKSHLIB			= $(CC) $(DSO_LDOPTS)
@


1.5
log
@- update to minimo-20070320 -- 4 months with lots of changes, including
security fixes, and the wholly new interface;
- don't force optimizations;
- use external nss;
ok kili@@
@
text
@d1 1
a1 1
$OpenBSD: patch-security_coreconf_OpenBSD_mk,v 1.4 2006/12/04 09:47:54 jolan Exp $
a12 9
@@@@ -55,7 +55,7 @@@@ OS_LIBS			+= -pthread
 DSO_LDOPTS		+= -pthread
 endif
 
-DLL_SUFFIX		= so.1.0
+DLL_SUFFIX		= so.${SO_VERSION}
 
 OS_CFLAGS		= $(DSO_CFLAGS) $(OS_REL_CFLAGS) -ansi -Wall -pipe -DOPENBSD
 
@


1.4
log
@update to 20061120, from Martynas Venckus
@
text
@d1 1
a1 1
$OpenBSD: patch-security_coreconf_OpenBSD_mk,v 1.3 2006/11/17 19:03:14 kurt Exp $
d3 3
a5 11
+++ security/coreconf/OpenBSD.mk	Sat Nov 18 14:13:15 2006
@@@@ -37,12 +37,12 @@@@
 
 include $(CORE_DEPTH)/coreconf/UNIX.mk
 
-DEFAULT_COMPILER	= gcc
-CC			= gcc
-CCC			= g++
+DEFAULT_COMPILER	= ${CC}
+#CC			= ${CC}
+CCC			= ${CXX}
d22 1
a22 1
@@@@ -64,8 +64,8 @@@@ OS_LIBS			= 
d30 1
a30 3
-MKSHLIB			= $(CC) $(DSO_LDOPTS)
+MKSHLIB			= $(CC) -Wl,-Bsymbolic $(DSO_LDOPTS)
 
@


1.3
log
@use devel/nspr instead of internal nspr. now using libc strtod and __dtoa
via devel/nspr. okay pvalchev@@
@
text
@d1 3
a3 3
$OpenBSD: patch-security_coreconf_OpenBSD_mk,v 1.2 2005/07/13 04:49:56 jolan Exp $
--- security/coreconf/OpenBSD.mk.orig	Sun Apr 25 11:02:17 2004
+++ security/coreconf/OpenBSD.mk	Tue Nov  7 14:10:34 2006
d30 1
a30 1
@@@@ -64,8 +64,9 @@@@ OS_LIBS			= 
d38 2
a39 1
 MKSHLIB			= $(CC) $(DSO_LDOPTS)
a40 1
+NSPR_LIBS             = $(shell pkg-config --libs nspr)
@


1.2
log
@update to 20050712
@
text
@d1 3
a3 3
$OpenBSD: patch-security_coreconf_OpenBSD_mk,v 1.1.1.1 2005/05/25 06:59:10 jolan Exp $
--- security/coreconf/OpenBSD.mk.orig	Sun Apr 25 10:02:17 2004
+++ security/coreconf/OpenBSD.mk	Tue Jul 12 22:06:58 2005
d30 1
a30 1
@@@@ -64,7 +64,7 @@@@ OS_LIBS			= 
d39 2
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD: patch-security_coreconf_OpenBSD_mk,v 1.10 2005/04/11 15:03:18 kurt Exp $
--- security/coreconf/OpenBSD.mk.orig	Tue Sep 16 16:50:50 2003
+++ security/coreconf/OpenBSD.mk	Tue Apr  5 19:44:03 2005
@@@@ -35,12 +35,12 @@@@
d21 1
a21 1
@@@@ -53,7 +53,7 @@@@ OS_LIBS			+= -pthread
d30 1
a30 1
@@@@ -62,7 +62,7 @@@@ OS_LIBS			= 
@


1.1.1.1
log
@minimo-20050524, mini mozilla

this is smaller than firefox and has special handling for small screens
which is useful for machines like the zaurus.  unfortunately, it's not
there yet, see the TODO.  please don't add this to the www Makefile yet.
@
text
@@
