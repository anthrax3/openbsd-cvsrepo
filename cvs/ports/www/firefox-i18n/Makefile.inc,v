head	1.86;
access;
symbols
	OPENBSD_6_1:1.84.0.2
	OPENBSD_6_1_BASE:1.84
	OPENBSD_6_0:1.73.0.2
	OPENBSD_6_0_BASE:1.73
	OPENBSD_5_9:1.64.0.2
	OPENBSD_5_9_BASE:1.64
	OPENBSD_5_8:1.48.0.2
	OPENBSD_5_8_BASE:1.48
	OPENBSD_5_7:1.41.0.2
	OPENBSD_5_7_BASE:1.41
	OPENBSD_5_6:1.35.0.2
	OPENBSD_5_6_BASE:1.35
	OPENBSD_5_5:1.29.0.2
	OPENBSD_5_5_BASE:1.29
	OPENBSD_5_4:1.25.0.2
	OPENBSD_5_4_BASE:1.25
	OPENBSD_5_3:1.17.0.2
	OPENBSD_5_3_BASE:1.17
	OPENBSD_5_2:1.6.0.2
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.86
date	2017.05.06.07.15.58;	author landry;	state Exp;
branches;
next	1.85;
commitid	3xNNUGfM70ybOPmC;

1.85
date	2017.04.20.06.12.58;	author landry;	state Exp;
branches;
next	1.84;
commitid	WUt99C6A8mADidu3;

1.84
date	2017.03.28.20.07.27;	author landry;	state Exp;
branches
	1.84.2.1;
next	1.83;
commitid	JnDgOGKzVue6jKNP;

1.83
date	2017.03.20.19.35.15;	author landry;	state Exp;
branches;
next	1.82;
commitid	wPvjzUwqR6dzLn5m;

1.82
date	2017.03.07.15.31.38;	author landry;	state Exp;
branches;
next	1.81;
commitid	TBtrve6ZlRazGi25;

1.81
date	2017.01.24.21.33.09;	author landry;	state Exp;
branches;
next	1.80;
commitid	nWPQGTUORNhJi9af;

1.80
date	2016.12.14.13.30.34;	author landry;	state Exp;
branches;
next	1.79;
commitid	vf9bqvBZrlsfFTnD;

1.79
date	2016.11.30.21.38.53;	author landry;	state Exp;
branches;
next	1.78;
commitid	ARQYFHusD0PyPahH;

1.78
date	2016.11.29.08.11.34;	author landry;	state Exp;
branches;
next	1.77;
commitid	3a061v47Ktg7SWoj;

1.77
date	2016.11.15.22.01.15;	author landry;	state Exp;
branches;
next	1.76;
commitid	IsOIopB1HwudOJln;

1.76
date	2016.10.24.09.33.08;	author landry;	state Exp;
branches;
next	1.75;
commitid	hP9i93zPTh1EL4EG;

1.75
date	2016.09.24.14.46.45;	author landry;	state Exp;
branches;
next	1.74;
commitid	w7r9hfTRbhEpho6T;

1.74
date	2016.08.02.17.50.04;	author landry;	state Exp;
branches;
next	1.73;
commitid	C4uQzGWx3WTtTKku;

1.73
date	2016.07.10.10.04.44;	author landry;	state Exp;
branches;
next	1.72;
commitid	3YKahdSTsMu3Bymo;

1.72
date	2016.06.08.19.25.42;	author landry;	state Exp;
branches;
next	1.71;
commitid	U1wa35WXoimcLF5j;

1.71
date	2016.05.05.06.53.19;	author landry;	state Exp;
branches;
next	1.70;
commitid	WPuNI5ZjasVbidJc;

1.70
date	2016.04.28.17.44.20;	author landry;	state Exp;
branches;
next	1.69;
commitid	NBkIn3lbzEUsZWHH;

1.69
date	2016.04.28.16.51.40;	author ajacoutot;	state Exp;
branches;
next	1.68;
commitid	o3L4vprxtzYDQaBP;

1.68
date	2016.04.28.11.46.41;	author landry;	state Exp;
branches;
next	1.67;
commitid	GH141T2VKOY4A8Xi;

1.67
date	2016.04.27.14.07.59;	author landry;	state Exp;
branches;
next	1.66;
commitid	ZAohKMoW0xon2Uu1;

1.66
date	2016.03.19.13.37.37;	author landry;	state Exp;
branches;
next	1.65;
commitid	oPIRgLBFc6m7JwRV;

1.65
date	2016.03.14.20.48.43;	author landry;	state Exp;
branches;
next	1.64;
commitid	RRyzzZuPWgdXYfVi;

1.64
date	2016.02.13.07.39.25;	author landry;	state Exp;
branches;
next	1.63;
commitid	gCy83UszOnxEo54v;

1.63
date	2016.02.09.09.21.27;	author landry;	state Exp;
branches;
next	1.62;
commitid	HzGrOB3s5nn7N1nC;

1.62
date	2016.01.27.18.12.43;	author landry;	state Exp;
branches;
next	1.61;
commitid	nKS7cLLBGZuVCu8f;

1.61
date	2016.01.22.10.28.58;	author landry;	state Exp;
branches;
next	1.60;
commitid	2W78YUr1mye8HWDY;

1.60
date	2016.01.07.09.24.20;	author landry;	state Exp;
branches;
next	1.59;
commitid	0N4MfPFCqtRHe69g;

1.59
date	2016.01.07.08.51.04;	author jasper;	state Exp;
branches;
next	1.58;
commitid	qsAJAI5Qqk7PoWv7;

1.58
date	2016.01.01.21.40.56;	author jasper;	state Exp;
branches;
next	1.57;
commitid	MFxYjStLbYEd6Pjz;

1.57
date	2015.12.23.17.41.36;	author landry;	state Exp;
branches;
next	1.56;
commitid	JSyBkfrhw5ACbQJc;

1.56
date	2015.12.16.10.12.14;	author landry;	state Exp;
branches;
next	1.55;
commitid	P5NxfYHFaYSg9xkK;

1.55
date	2015.11.04.07.35.51;	author landry;	state Exp;
branches;
next	1.54;
commitid	bfkXFH77Ra3vNCam;

1.54
date	2015.10.16.12.04.40;	author landry;	state Exp;
branches;
next	1.53;
commitid	wjYewTs5zSOiMeVn;

1.53
date	2015.10.05.08.48.14;	author landry;	state Exp;
branches;
next	1.52;
commitid	q1mGwbu9kB3KRLLA;

1.52
date	2015.09.24.20.21.15;	author landry;	state Exp;
branches;
next	1.51;
commitid	ZpTmiMdCoguHXVvL;

1.51
date	2015.09.19.13.09.38;	author landry;	state Exp;
branches;
next	1.50;
commitid	XNDSu6U8jeva04cS;

1.50
date	2015.08.31.20.08.40;	author landry;	state Exp;
branches;
next	1.49;
commitid	TnLyWB4CBO1lKZnU;

1.49
date	2015.08.11.21.14.53;	author landry;	state Exp;
branches;
next	1.48;
commitid	PZV1YnNy4qgq0kAy;

1.48
date	2015.08.07.13.39.36;	author landry;	state Exp;
branches;
next	1.47;
commitid	hC7pseykcdvUW1VE;

1.47
date	2015.07.05.20.03.36;	author landry;	state Exp;
branches;
next	1.46;
commitid	gOunmwYFnJAI66Mg;

1.46
date	2015.05.16.07.22.14;	author landry;	state Exp;
branches;
next	1.45;
commitid	OBqrLFw4uaY12You;

1.45
date	2015.04.03.22.59.16;	author landry;	state Exp;
branches;
next	1.44;
commitid	3Gtytjd99B1nPW8m;

1.44
date	2015.04.02.18.17.50;	author landry;	state Exp;
branches;
next	1.43;
commitid	gL59hhX5298RVohE;

1.43
date	2015.03.23.21.02.03;	author landry;	state Exp;
branches;
next	1.42;
commitid	WmKgFwPRmsexbf7u;

1.42
date	2015.03.16.19.53.54;	author landry;	state Exp;
branches;
next	1.41;
commitid	9ZKCoTD1IAa0M4Ts;

1.41
date	2015.01.28.17.45.02;	author landry;	state Exp;
branches;
next	1.40;
commitid	LcvRkE6V8RFtrGR1;

1.40
date	2015.01.14.17.33.44;	author landry;	state Exp;
branches;
next	1.39;
commitid	fYaHl28bnsgsNtwv;

1.39
date	2014.12.04.17.50.12;	author landry;	state Exp;
branches;
next	1.38;
commitid	INISJ8UiDVuV9dmk;

1.38
date	2014.11.10.15.40.02;	author landry;	state Exp;
branches;
next	1.37;
commitid	Fyp3tTicAmm1aDK4;

1.37
date	2014.10.17.07.26.21;	author landry;	state Exp;
branches;
next	1.36;
commitid	o0aJsKp8pdgUDvq2;

1.36
date	2014.09.02.16.43.04;	author landry;	state Exp;
branches;
next	1.35;
commitid	oUjXdZ5B9Zpw9SaL;

1.35
date	2014.07.24.18.13.18;	author landry;	state Exp;
branches;
next	1.34;
commitid	dVw24FTcu4sxmzSo;

1.34
date	2014.06.14.13.03.31;	author landry;	state Exp;
branches;
next	1.33;
commitid	5JfKMLDsRpzthlIZ;

1.33
date	2014.05.10.05.50.56;	author landry;	state Exp;
branches;
next	1.32;

1.32
date	2014.04.29.21.26.43;	author landry;	state Exp;
branches;
next	1.31;

1.31
date	2014.03.24.21.11.37;	author landry;	state Exp;
branches;
next	1.30;

1.30
date	2014.03.10.20.59.53;	author landry;	state Exp;
branches;
next	1.29;

1.29
date	2013.12.12.19.53.19;	author landry;	state Exp;
branches;
next	1.28;

1.28
date	2013.10.31.07.58.25;	author landry;	state Exp;
branches;
next	1.27;

1.27
date	2013.09.19.13.19.17;	author landry;	state Exp;
branches;
next	1.26;

1.26
date	2013.08.08.06.57.13;	author landry;	state Exp;
branches;
next	1.25;

1.25
date	2013.06.26.19.29.16;	author landry;	state Exp;
branches
	1.25.2.1;
next	1.24;

1.24
date	2013.06.11.07.28.18;	author landry;	state Exp;
branches;
next	1.23;

1.23
date	2013.05.30.14.21.11;	author landry;	state Exp;
branches;
next	1.22;

1.22
date	2013.04.06.14.44.52;	author landry;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.11.12.27.54;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.11.11.44.41;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2013.03.07.23.51.49;	author landry;	state Exp;
branches;
next	1.18;

1.18
date	2013.03.03.17.34.15;	author landry;	state Exp;
branches;
next	1.17;

1.17
date	2013.02.06.22.44.47;	author landry;	state Exp;
branches;
next	1.16;

1.16
date	2013.01.19.23.50.16;	author landry;	state Exp;
branches;
next	1.15;

1.15
date	2013.01.11.22.57.39;	author landry;	state Exp;
branches;
next	1.14;

1.14
date	2012.12.04.21.24.33;	author landry;	state Exp;
branches;
next	1.13;

1.13
date	2012.11.24.10.22.39;	author landry;	state Exp;
branches;
next	1.12;

1.12
date	2012.10.27.08.11.00;	author landry;	state Exp;
branches;
next	1.11;

1.11
date	2012.10.11.18.37.23;	author landry;	state Exp;
branches;
next	1.10;

1.10
date	2012.10.10.20.57.29;	author landry;	state Exp;
branches;
next	1.9;

1.9
date	2012.09.09.19.50.31;	author landry;	state Exp;
branches;
next	1.8;

1.8
date	2012.09.01.13.58.29;	author landry;	state Exp;
branches;
next	1.7;

1.7
date	2012.08.07.08.56.55;	author landry;	state Exp;
branches;
next	1.6;

1.6
date	2012.06.16.10.21.57;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2012.06.11.15.30.59;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2012.04.30.15.29.39;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2012.03.16.21.31.50;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2012.02.20.20.22.04;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2012.01.22.17.10.31;	author landry;	state Exp;
branches;
next	;

1.25.2.1
date	2013.11.14.09.57.07;	author jasper;	state Exp;
branches;
next	1.25.2.2;

1.25.2.2
date	2013.12.01.22.06.55;	author jasper;	state Exp;
branches;
next	1.25.2.3;

1.25.2.3
date	2013.12.15.13.52.30;	author jasper;	state Exp;
branches;
next	1.25.2.4;

1.25.2.4
date	2014.02.05.08.16.26;	author jasper;	state Exp;
branches;
next	1.25.2.5;

1.25.2.5
date	2014.03.26.18.09.07;	author jasper;	state Exp;
branches;
next	;

1.84.2.1
date	2017.04.20.19.44.45;	author landry;	state Exp;
branches;
next	1.84.2.2;
commitid	FPZjxs6KRlLvhncc;

1.84.2.2
date	2017.05.06.07.24.08;	author landry;	state Exp;
branches;
next	;
commitid	4Tl5SNoVNiTsNfnP;


desc
@@


1.86
log
@Bugfix update to firefox 53.0.2.

See https://www.mozilla.org/en-US/firefox/53.0.2/releasenotes/
Fixes MFSA2017-14, but that only affects Windows.
@
text
@# $OpenBSD: Makefile.inc,v 1.85 2017/04/20 06:12:58 landry Exp $

# Unversioned distfiles
PORTROACH =	ignore:1

# keep in sync with working archs.. sigh
ONLY_FOR_ARCHS =	amd64 i386

PKG_ARCH =	*

FV =		53.0.2
V =		${FV:C/b.$//}
NAME =		firefox-i18n

CATEGORIES =	www

HOMEPAGE =	https://wiki.mozilla.org/L10n:Home_Page

MAINTAINER =	Landry Breuil <landry@@openbsd.org>

# Mozilla public license
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =	https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${FV}/linux-i686/xpi/ \
		http://releases.mozilla.org/pub/mozilla.org/firefox/releases/${FV}/linux-i686/xpi/

LANGUAGES =	ach af an ar as ast az bg bn-BD bn-IN br bs ca cs cy da de dsb el en-GB en-US en-ZA eo \
		es-AR es-CL es-ES es-MX et eu fa ff fi fr fy-NL ga-IE gd gl gu-IN he \
		hi-IN hr hsb hu hy-AM id \
		is it ja kk km kn ko lij lt lv mai mk ml mr ms nb-NO nl nn-NO \
		or pa-IN pl pt-BR pt-PT rm ro ru si sk sl son sq sr sv-SE \
		ta te th tr uk vi xh zh-CN zh-TW

BUILD_DEPENDS =	archivers/unzip
RUN_DEPENDS =	firefox-${FV:S/b/beta/}:www/mozilla-firefox

DIST_SUBDIR =	mozilla/${NAME}-${FV}
NO_BUILD =	Yes
NO_TEST =	Yes
EXTRACT_ONLY =

.for i in ${LANGUAGES}
SUPDISTFILES +=	$i.xpi
.endfor

PKGNAME =	${NAME}-$L-${FV:S/b/beta/}
COMMENT =	$L language pack for Firefox
DISTFILES =	$L.xpi

# use the same for all subpackages
PKGDIR =	${.CURDIR}/../pkg
PLIST =		${PKGDIR}/PLIST
DESCR =		${PKGDIR}/DESCR
CHECKSUM_FILE =	${.CURDIR}/../distinfo
MESSAGE=	${PKGDIR}/MESSAGE
SUBST_VARS =	V L

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/lib/firefox-$V/browser/extensions
	${INSTALL_DATA} ${FULLDISTDIR}/$L.xpi ${PREFIX}/lib/firefox-$V/browser/extensions/langpack-$L@@firefox.mozilla.org.xpi
@


1.85
log
@Update to firefox 53.0.

See https://www.mozilla.org/en-US/firefox/53.0/releasenotes/ and
https://www.mozilla.org/en-US/security/advisories/mfsa2017-10/.

- Now depends on rust and cargo to build.
- Remove patch-browser_installer_Makefile_in, sdk was removed in #1333826
- Ship a small distribution.ini to show package source in about dialog
- Add a blurb from Michael Reed about installing ffmpeg package to play
HTML5 audio/video.

Tested by several
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.84 2017/03/28 20:07:27 landry Exp $
d11 1
a11 1
FV =		53.0
@


1.84
log
@Bugfix update to firefox 52.0.2.

See https://www.mozilla.org/en-US/firefox/52.0.2/releasenotes/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.83 2017/03/20 19:35:15 landry Exp $
d11 1
a11 1
FV =		52.0.2
@


1.84.2.1
log
@MFC: update to firefox 53.0.

Over time i'll see if i keep doing this in -stable or give up.
"Stable" packages for i386 and amd64 available at https://packages.rhaalovely.net/
signed with https://packages.rhaalovely.net/landry-mozilla-pkg.pub

Changes from -current include:
- dont bump SO_VERSION
- build against bundled nss/nspr (53 wants nss 3.29.5)
- add selected patches from devel/nspr and security/nss
- build against bundled hunspell (53 wants 1.6)
- add BDEP on rust/cargo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.84 2017/03/28 20:07:27 landry Exp $
d11 1
a11 1
FV =		53.0
@


1.84.2.2
log
@MFC: update to firefox 53.0.2.

Stable packages for i386 and amd64 available at https://packages.rhaalovely.net/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.84.2.1 2017/04/20 19:44:45 landry Exp $
d11 1
a11 1
FV =		53.0.2
@


1.83
log
@Update to firefox 52.0.1.

Fixes MFSA 2017-08/CVE-2017-5428, see
https://www.mozilla.org/en-US/security/advisories/mfsa2017-08/

While here, add a patch from semarie@@ (tested by and ok danj@@) to tweak
a last-minute change in the jit engine memory allocator that happened to
fix a security issue in 52 branch (bug #1334933/CVE-2017-5400) - see
https://hg.mozilla.org/releases/mozilla-esr52/rev/6b35bbf96b67.

Sadly, this change resulted in a browser crashing at startup
on OpenBSD with the default limits, because the jit engine tried to
allocate 1Gb (previously 640Mb in #1334933, then 1Gb because of
#1337561, see
https://hg.mozilla.org/releases/mozilla-esr52/rev/65bb26d07408) and hit
the default datasize ulimit of 768Mb. The patch makes it allocate 128Mb
instead (as it's done on 32bit architectures), while a better (?) fix
might be devised in bug #1347139.

Generally speaking, if you see firefox crashing with ENOMEM errors,
raise the datasize limit for your login class, write your own wrapper
script to temporarly raise the limit when starting firefox, or stop
using the modern web. Websites are ginormous, deal with it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.82 2017/03/07 15:31:38 landry Exp $
d11 1
a11 1
FV =		52.0.1
@


1.82
log
@Update mozilla-firefox to 52.0.

See https://www.mozilla.org/en-US/firefox/52.0/releasenotes/

Remove patch for #1335827, merged upstream.

Note that this release removes support for NPAPI plugins (java, etc..) -
users relying on those should migrate to firefox-esr, where NPAPI
plugins will be supported for the lifetime of 52esr branch.

Tested by several, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.81 2017/01/24 21:33:09 landry Exp $
d11 1
a11 1
FV =		52.0
@


1.81
log
@Update to firefox 51.0.

See https://www.mozilla.org/en-US/firefox/51.0/releasenotes/ and MFSA
2017-01 (https://www.mozilla.org/en-US/security/advisories/mfsa2017-01/)

Remove patch-netwerk_protocol_http_Http2Session_cpp (#1290037)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.80 2016/12/14 13:30:34 landry Exp $
d11 1
a11 1
FV =		51.0
@


1.80
log
@Bugfix update to firefox 50.1.0.

See https://www.mozilla.org/en-US/firefox/50.1.0/releasenotes/ and
https://www.mozilla.org/en-US/security/advisories/mfsa2016-94/.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.79 2016/11/30 21:38:53 landry Exp $
d11 1
a11 1
FV =		50.1.0
d27 1
a27 1
LANGUAGES =	ach af an ar as ast az be bg bn-BD bn-IN br bs ca cs cy da de dsb el en-GB en-US en-ZA eo \
@


1.79
log
@Security update to firefox 50.0.2.

See https://www.mozilla.org/en-US/firefox/50.0.2/releasenotes/ and
https://www.mozilla.org/en-US/security/advisories/mfsa2016-92/ (link not
up yet). A javascript exploit for windows was found in the wild, and the
vulnerability could technically be exploited on other platforms..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.78 2016/11/29 08:11:34 landry Exp $
d11 1
a11 1
FV =		50.0.2
@


1.78
log
@Bugfix update to firefox 50.0.1.

See https://www.mozilla.org/en-US/firefox/50.0.1/releasenotes/ and
https://www.mozilla.org/en-US/security/advisories/mfsa2016-91/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.77 2016/11/15 22:01:15 landry Exp $
d11 1
a11 1
FV =		50.0.1
@


1.77
log
@Update to firefox 50.0.

See https://www.mozilla.org/en-US/firefox/50.0/releasenotes/
and https://www.mozilla.org/en-US/security/advisories/mfsa2016-89/

Switch back to build against systemwide sqlite3 coming from the
ports-tree. Remove the build goo for macppc|sparc64|alpha, it's unlikely
this will ever come back...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.76 2016/10/24 09:33:08 landry Exp $
d11 1
a11 1
FV =		50.0
@


1.76
log
@Update to firefox 49.0.2.

See https://www.mozilla.org/en-US/firefox/49.0.2/releasenotes/ and
https://www.mozilla.org/en-US/security/advisories/mfsa2016-87/
Fixes MFSA-2016-87:
- CVE-2016-5287 / bugzil.la/1309823
- CVE-2016-5288 / bugzil.la/1310183 (bug information private)

prodded by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.75 2016/09/24 14:46:45 landry Exp $
d11 1
a11 1
FV =		49.0.2
@


1.75
log
@Update to firefox 49.0.1.

See https://www.mozilla.org/en-US/firefox/49.0/releasenotes/ (.1 is for
a windows-only fix) - not that 'loop' (ex-firefox hello) was removed
from the browser.
- Fixes MFSA 2016-85
- Remove media/ffvpx/config.h patch, merged upstream/fixed differently in
bug #1239550
- Set media.autoplay.enabled to false by default, i'm usually wary of
  changing upstream defaults, but this one is unfuriating with "the
modern web and all this funky video ads".. this one got support from
many.
- Add a blurb to README explaining how to enable/test e10s/multi-process
  support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.74 2016/08/02 17:50:04 landry Exp $
d11 1
a11 1
FV =		49.0.1
@


1.74
log
@Update to firefox 48.0.

- See https://www.mozilla.org/en-US/firefox/48.0/releasenotes/
- Fixes MFSA 2016-62->84
- See
  https://blog.mozilla.org/blog/2016/08/02/exciting-improvements-in-firefox-for-desktop-and-android/
for user-facing changes
- Switch CONFIGURE_STYLE to simple as it's really not a gnu script
  anymore..
- Remove gtk 3.20 jumbo patch, most gtk3 issues are either fixed or
  being worked on, and the patch isnt maintainable
- Remove patch-gfx_skia_moz_build, it isn't needed anymore on i386, and
  SSE2 will soon be a hard runtime requirement anyway
- Remove patch-media_libcubeb_src_cubeb_sndio_c, merged upstream (#1153151 & #1153179)
- Remove
  patch-toolkit_components_protobuf_src_google_protobuf_stubs_atomicops_h,
merged upstream (#1192556)
- Note that WebRT was removed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.73 2016/07/10 10:04:44 landry Exp $
d11 1
a11 1
FV =		48.0
@


1.73
log
@Minor bugfix update to firefox 47.0.1.

- See https://www.mozilla.org/en-US/firefox/47.0.1/releasenotes/
- Fixes #1278605 & #1277522
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.72 2016/06/08 19:25:42 landry Exp $
d11 1
a11 1
FV =		47.0.1
@


1.72
log
@Update to firefox 47.0.

- See https://www.mozilla.org/en-US/firefox/47.0/releasenotes/
- Fixes MFSA 2016-49->61
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.71 2016/05/05 06:53:19 landry Exp $
d11 1
a11 1
FV =		47.0
@


1.71
log
@Bugfix update to firefox 46.0.1.

- See https://www.mozilla.org/en-US/firefox/46.0.1/releasenotes/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.70 2016/04/28 17:44:20 landry Exp $
d11 1
a11 1
FV =		46.0.1
@


1.70
log
@Revert the revert. I made you a Makefile but CVS ated it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.69 2016/04/28 16:51:40 ajacoutot Exp $
d11 1
a11 1
FV =		46.0
@


1.69
log
@Revert, there's no en-US directory and this breaks sqlports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.68 2016/04/28 11:46:41 landry Exp $
d27 1
a27 1
LANGUAGES =	ach af an ar as ast az be bg bn-BD bn-IN br bs ca cs cy da de dsb el en-GB en-ZA eo \
@


1.68
log
@Readd en-US that was left behind (#1267847)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.67 2016/04/27 14:07:59 landry Exp $
d27 1
a27 1
LANGUAGES =	ach af an ar as ast az be bg bn-BD bn-IN br bs ca cs cy da de dsb el en-GB en-US en-ZA eo \
@


1.67
log
@Update firefox-i18n to 46.0.

en-US langpack was removed, but ach (Acholi), an (Aragonese), as
(Assamese), az (Azerbaijani), dsb (Lower Sorbian), ff (Pulaar-Fulfulde),
hsb (Upper Sorbian), km (Khmer), lij (Ligurian), ms (Malay) and xh
(Xhosa) were added.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.66 2016/03/19 13:37:37 landry Exp $
d27 1
a27 1
LANGUAGES =	ach af an ar as ast az be bg bn-BD bn-IN br bs ca cs cy da de dsb el en-GB en-ZA eo \
@


1.66
log
@Bugfix update to firefox 45.0.1.

See https://www.mozilla.org/en-US/firefox/45.0.1/releasenotes/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.65 2016/03/14 20:48:43 landry Exp $
d11 1
a11 1
FV =		45.0.1
d27 4
a30 4
LANGUAGES =	af ar ast be bg bn-BD bn-IN br bs ca cs cy da de el en-GB en-US en-ZA eo \
		es-AR es-CL es-ES es-MX et eu fa fi fr fy-NL ga-IE gd gl gu-IN he \
		hi-IN hr hu hy-AM id \
		is it ja kk kn ko lt lv mai mk ml mr nb-NO nl nn-NO \
d32 1
a32 1
		ta te th tr uk vi zh-CN zh-TW
@


1.65
log
@Update to firefox 45.0.

- See https://www.mozilla.org/en-US/firefox/45.0/releasenotes/
- Fixes MFSA 2016-16->38
- libmozgnome was removed upstream
- gtk3 is still not enabled by default upstream
- Remove dependency on gstreamer1, ffmpeg/libavcodec is opened on the fly
if available, as tested by naddy@@

Sidenote: no, i havent looked at i386/llvm breakage yet. i386 is the new vax.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.64 2016/02/13 07:39:25 landry Exp $
d11 1
a11 1
FV =		45.0
@


1.64
log
@Security update to firefox 44.0.2.

See https://www.mozilla.org/en-US/firefox/44.0.2/releasenotes/
Fixes MFSA2016-13.
ok sthen@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.63 2016/02/09 09:21:27 landry Exp $
d11 1
a11 1
FV =		44.0.2
@


1.63
log
@Bugfix update to firefox 44.0.1.

See https://www.mozilla.org/en-US/firefox/44.0.1/releasenotes/

ok sthen@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.62 2016/01/27 18:12:43 landry Exp $
d11 1
a11 1
FV =		44.0.1
@


1.62
log
@Update to firefox-44.0.

* See https://www.mozilla.org/en-US/firefox/44.0/releasenotes/
* Fixes MFSA 2016-01 -> 12
* Fix CONFIGURE_STYLE, no need for autohell?
* Use bundled libevent
* Remove useless MOZILLA_AUTOCONF_DIRS

Note that starting with fx 45, gstreamer will be deprecated in favor of
ffmpeg. If it works, haven't tested it yet...
Tested by/discussed with naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.61 2016/01/22 10:28:58 landry Exp $
d11 1
a11 1
FV =		44.0
@


1.61
log
@Face reality, various mozillas only build on amd64 or i386.

The last reliable gecko builds on macppc were done with:
OpenBSD 5.8-current (GENERIC.MP) #761: Mon Aug 31 08:01:30 MDT 2015
(mpi@@ says SecurePLT was commited beginning of Sep, so .. related?)

Thunderbird and firefox-esr strangely built on sparc64 (by accident?) in
may and june (when it was gecko 31) but other than that firefox itself
never built in 2015.

Anybody is welcome to look into this, just add you beloved arch to
ONLY_FOR_ARCHS in mozilla.port.mk.

While here, also amend ONLY_FOR_ARCHS in langpacks ports, no point in
packaging them if you don't have the corresponding package.

Avoids wasting hours during bulks, only keep xulrunner building on
powerpc and sparc64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.60 2016/01/07 09:24:20 landry Exp $
d11 1
a11 1
FV =		43.0.4
@


1.60
log
@Minor update to firefox 43.0.4.

See https://www.mozilla.org/en-US/firefox/43.0.4/releasenotes/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.59 2016/01/07 08:51:04 jasper Exp $
d7 1
a7 1
ONLY_FOR_ARCHS =	amd64 i386 powerpc sparc64
@


1.59
log
@aja pointed out this should be "ignore:1"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.58 2016/01/01 21:40:56 jasper Exp $
d11 1
a11 1
FV =		43.0.2
@


1.58
log
@ignore these for they are unversioned distfiles
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.57 2015/12/23 17:41:36 landry Exp $
d4 1
a4 1
PORTROACH =	ignore
@


1.57
log
@Update to firefox 43.0.2.

See https://www.mozilla.org/en-US/firefox/43.0.2/releasenotes/
No binary change for us since this is only to force updates for poor
windows users, because microsoft now requires SHA256 certs. But ppl
wont complain that OpenBSD doesn't ship the latest and greatest!
@
text
@d1 4
a4 1
# $OpenBSD: Makefile.inc,v 1.56 2015/12/16 10:12:14 landry Exp $
@


1.56
log
@Update to firefox 43.0.

See https://www.mozilla.org/en-US/firefox/43.0/releasenotes/
Fixes MFSA 2015-134 -> 149

- Remove merged patch about freetype paths/versions
- Remove outdated mention of 'disable anti-aliasing', from matthieu@@

Tested (among others) by benoit@@, mmcc@@ and naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.55 2015/11/04 07:35:51 landry Exp $
d8 1
a8 1
FV =		43.0
@


1.55
log
@Update to firefox 42.0.

- See https://www.mozilla.org/en-US/firefox/42.0/releasenotes/
- Fixes MFSA-2015-116 -> 133
- Tested by several, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.54 2015/10/16 12:04:40 landry Exp $
d8 1
a8 1
FV =		42.0
@


1.54
log
@Security update to firefox 41.0.2.

Fixes MFSA 2015-115 / CVE-2015-7184 (Cross-origin restriction bypass using Fetch)
https://www.mozilla.org/en-US/security/advisories/mfsa2015-115/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.53 2015/10/05 08:48:14 landry Exp $
d8 1
a8 1
FV =		41.0.2
@


1.53
log
@Bugfix update to firefox 41.0.1.

- See https://www.mozilla.org/en-US/firefox/41.0.1/releasenotes/
- Mostly windows-only bugfixes but a bookmark handling regression might
affect us (see #1206376)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.52 2015/09/24 20:21:15 landry Exp $
d8 1
a8 1
FV =		41.0.1
@


1.52
log
@Update to firefox 41.0.

- See https://www.mozilla.org/en-US/firefox/41.0/releasenotes/
- Fixes MFSA 2015-96->114
- Add patch to workaround build failure on 32-bits (#1192556)
- Note that powerpc still fails due to the same issue but a
 hack^Wworkaround hasnt been found yet.

Firefox 42 will probably default to build with Gtk3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.51 2015/09/19 13:09:38 landry Exp $
d8 1
a8 1
FV =		41.0
@


1.51
log
@Remove the now defunct ftp://ftp.mozilla.org from MASTER_SITES.

Default to https://ftp.mozilla.org/ and use http://releases.mozilla.org/
as a fallback like the other mozilla ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.50 2015/08/31 20:08:40 landry Exp $
d8 1
a8 1
FV =		40.0.3
@


1.50
log
@Update to firefox 40.0.3.

- See https://www.mozilla.org/en-US/firefox/40.0.3/releasenotes/
- Fixes MFSA-2015-94 & 95
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.49 2015/08/11 21:14:53 landry Exp $
d22 1
a22 2
		http://releases.mozilla.org/pub/mozilla.org/firefox/releases/${FV}/linux-i686/xpi/ \
		ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${FV}/linux-i686/xpi/
@


1.49
log
@Update to firefox{,-i18n} 40.0.

- See https://www.mozilla.org/en-US/firefox/40.0/releasenotes/
- Fixes MFSA-2015-79->92
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.48 2015/08/07 13:39:36 landry Exp $
d8 1
a8 1
FV =		40.0
@


1.48
log
@SECURITY update to firefox 39.0.3 & firefox-esr 38.1.1.

Fixes MFSA2015-78, see
https://blog.mozilla.org/security/2015/08/06/firefox-exploit-found-in-the-wild/
and https://www.mozilla.org/en-US/security/advisories/mfsa2015-78/

ok naddy@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.47 2015/07/05 20:03:36 landry Exp $
d8 1
a8 1
FV =		39.0.3
@


1.47
log
@Update to firefix{,-i18n} 39.0.

- See https://www.mozilla.org/en-US/firefox/39.0/releasenotes/
- Fixes MFSA 2015-59 -> 71
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.46 2015/05/16 07:22:14 landry Exp $
d8 1
a8 1
FV =		39.0
@


1.46
log
@Update to firefox 38.0.1.

- See https://www.mozilla.org/en-US/firefox/38.0.1/releasenotes/ and
  https://www.mozilla.org/en-US/firefox/38.0/releasenotes/
- Fixes MFSA 2015-46->58
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.45 2015/04/03 22:59:16 landry Exp $
d8 1
a8 1
FV =		38.0.1
@


1.45
log
@Bugfix update to firefox 37.0.1.

- See https://www.mozilla.org/en-US/firefox/37.0.1/releasenotes/
- Fixes MFSA 2015-43 & 44
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.44 2015/04/02 18:17:50 landry Exp $
d8 1
a8 1
FV =		37.0.1
@


1.44
log
@Update to firefox 37.0.

- See https://www.mozilla.org/en-US/firefox/37.0/releasenotes/
- Fixes MFSA 2015-30 -> 42
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.43 2015/03/23 21:02:03 landry Exp $
d8 1
a8 1
FV =		37.0
@


1.43
log
@Security update to firefox 36.0.4.

- See https://www.mozilla.org/en-US/firefox/36.0.4/releasenotes/
- Fixes MFSA 2015-28/29 (Pwn2Own)
- While here, backport commit from ratchov@@ in #1144087 fixing audio
  glitches in the sndio backend when playing youtube videos
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.42 2015/03/16 19:53:54 landry Exp $
d8 1
a8 1
FV =		36.0.4
@


1.42
log
@Update to firefox-36.0.1.

- See https://www.mozilla.org/en-US/firefox/36.0.1/releasenotes/
- Fixes MFSA 2015-11->27
- widget code moved, move nsPrintSettingsImpl.cpp patch around
- remove patch-xpcom_reflect_xptcall_md_unix_moz_build, merged in #971897
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.41 2015/01/28 17:45:02 landry Exp $
d8 1
a8 1
FV =		36.0.1
@


1.41
log
@Update to firefox 35.0.1.

- See https://www.mozilla.org/en-US/firefox/35.0.1/releasenotes/
- while here, demote gstreamer1-plugins-good from RUN_DEPENDS to a
  simple note in the README. It seems having a fully working
out-of-the-box multimedia experience is not worth the attack surface
this brings via all its dependencies.

Note: this doesnt change anything for existing installs, if
gstreamer1-plugins-good/libav is found at runtime firefox will still use
it to play html audio/video. If you dont want that behaviour, have a
look in about:config for the various media.*.enabled keys. Or use lynx.

prodded by tedu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.40 2015/01/14 17:33:44 landry Exp $
d8 1
a8 1
FV =		35.0.1
@


1.40
log
@Update to firefox 35.0.

- See https://www.mozilla.org/en-US/firefox/35.0/releasenotes/
- Fixes MFSA 2015-01 -> 09
- Remove patch-js_src_jscpucfg_h, merged upstream in #1065055
- Fix patch-gfx_skia_moz_build to use the correct SSE4_1 macro

tested by at least bcallah@@, brett@@, patrick keshishian and RD Thrush, thx!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.39 2014/12/04 17:50:12 landry Exp $
d8 1
a8 1
FV =		35.0
@


1.39
log
@Update to firefox 34.0.

- See https://www.mozilla.org/en-US/firefox/34.0/releasenotes/
- Fixes MFSA-2014-83->91
- Remove patch-toolkit_library_libxul_mk, merged (#1036832)
- Remove patch-gfx_skia_trunk_src_opts_SkBitmapProcState_opts_SSSE3_cpp,
  merged upstream (but the root issue on i386 is still being worked on, #1028827)
- Add patch-xpcom_reflect_xptcall_md_unix_moz_build from (#971897),
  fixes the download progressbars. Nice work from Fabian Raetz, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.38 2014/11/10 15:40:02 landry Exp $
d8 1
a8 1
FV =		34.0
@


1.38
log
@Update to firefox 33.1.

- See https://www.mozilla.org/en-US/firefox/33.1/releasenotes/,
, https://www.mozilla.org/en-US/firefox/tiles/ and
 https://support.mozilla.org/en-US/kb/forget-button-quickly-delete-your-browsing-history

This is a special release celebrating the 10 years anniversary of the
release of firefox 1.0. 34.0 will be released on the regular schedule in ~ two weeks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.37 2014/10/17 07:26:21 landry Exp $
d8 1
a8 1
FV =		33.1
d28 1
a28 1
		is it ja kk kn ko ku lt lv mai mk ml mr nb-NO nl nn-NO \
d30 1
a30 1
		ta te th tr uk vi zh-CN zh-TW zu
@


1.37
log
@Update to firefox 33.0.

- See https://www.mozilla.org/en-US/firefox/33.0/releasenotes/
- Fixes MFSA 2014-74-->82
- build with systemwide icu4c, workarounds #1064665 (and as a side
  effect shrinks the libs/packages by 1 or 2 megs)
- add patch-toolkit_library_libxul_mk from bug #1036832 to workaround a
  linking failure with our ancient binutils
- remove patch-media_libvpx_Makefile_in from #982693 fixing libvpx build
  on i386, a variation of it was merged upstream

tested by bcallah@@, benoit@@ and Fabian Raetz, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.36 2014/09/02 16:43:04 landry Exp $
d8 1
a8 1
FV =		33.0
@


1.36
log
@Update to firefox 32.0

- see https://www.mozilla.org/en-US/firefox/32.0/releasenotes/
- remove patch-toolkit_components_downloads_nsDownloadManager_cpp and
  patch-xpcom_io_SpecialSystemDirectory_cpp fiddling with modes when
creating user dirs, they never made sense to me, and this is the wrong
place to touch this.
- remove patch-webapprt_moz_build, patch-webapprt_gtk2_Makefile_in and
  patch-configure_in from #1012447, merged upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.35 2014/07/24 18:13:18 landry Exp $
d8 1
a8 1
FV =		32.0
@


1.35
log
@Update to firefox-i18n 31.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.34 2014/06/14 13:03:31 landry Exp $
d8 1
a8 1
FV =		31.0
@


1.34
log
@Update to firefox 30.0.

- See http://www.mozilla.org/en-US/firefox/30.0/releasenotes/
- Fixes MFSA 2014-48->54
- Switch to use gstreamer 1.0 by default
- Add a bunch of patches from #992613, #991613, #1012447 to build
  properly with gtk3
- Note that this fixes runtime on ppc which was broken since 29 (see
  #961488), which was quite a hairy one
- Still running fine on sparc64 !
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.33 2014/05/10 05:50:56 landry Exp $
d8 1
a8 1
FV =		30.0
@


1.33
log
@Bugfix update to firefox 29.0.1.

- see http://www.mozilla.org/en-US/firefox/29.0.1/releasenotes/
- mostly fixes two annoying bugs with broken session restore (#1001167),
  pdf.js printing (#1003707), and disables seer for causing some
slow shutdowns (#1005958).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.32 2014/04/29 21:26:43 landry Exp $
d8 1
a8 1
FV =		29.0.1
@


1.32
log
@Update to firefox 29.0, with the brand new Australis UI.

- See http://www.mozilla.org/en-US/firefox/29.0/releasenotes/
- Fixes MFSA 2014-34->47
- add spellchecker.dictionary_path as a default pref in all-openbsd.js,
pointing to ${LOCALBASE}/share/mozilla-dicts/ so that it looks for
systemwide dictionaries.
- Remove now useless patch-extensions_spellcheck_hunspell_src_mozHunspell_cpp
- Add patch for #990196, tries to use INSTALL_SCRIPT during build which
  badly fails as user.

Note that starting with Fx 29, the sync protocol v1.1 used by
www/mozilla-sync still works but is not advertised anymore, and will be
phased out by v1.5 in Fx 31. www/mozilla-sync port will be updated in the
meantime, but users will have to reconfigure all their instances...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.31 2014/03/24 21:11:37 landry Exp $
d8 1
a8 1
FV =		29.0
@


1.31
log
@Update to firefox 28.0.

- See http://www.mozilla.org/en-US/firefox/28.0/releasenotes/
- Fixes MFSA 2014-15->32
- add an all-openbsd.js file to modify default preferences instead of
  patching browser/app/profile/firefox.js like pigs. Install it in
browser/defaults/preferences/ so that it is effective by default for
newer profiles. Currently, we only use it to disable safebrowsing
feature..
- remove libffi patches, were merged upstream in #928390 and #928381
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.30 2014/03/10 20:59:53 landry Exp $
d8 1
a8 1
FV =		28.0
@


1.30
log
@Update to firefox-i18n 27.0.1.
Note: ak (Akan), lg (Luganda), nso (Northern Sotho) & ta-LK (Tamil,
Sri Lanka) were removed upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.29 2013/12/12 19:53:19 landry Exp $
d8 1
a8 1
FV =		27.0.1
@


1.29
log
@Update to firefox 26.0.

- see http://www.mozilla.org/en-US/firefox/26.0/releasenotes/
- fixes MFSA 2013-104 -> 117
- remove now useless sydney_audio_sndio.c file, nothing uses it anymore
- remove patch-ipc_chromium_src_base_dir_reader_bsd_h-from (#909005),
  the getdents() patch has been merged upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.28 2013/10/31 07:58:25 landry Exp $
d8 1
a8 1
FV =		26.0
d25 1
a25 1
LANGUAGES =	af ak ar ast be bg bn-BD bn-IN br bs ca cs cy da de el en-GB en-US en-ZA eo \
d28 1
a28 1
		is it ja kk kn ko ku lg lt lv mai mk ml mr nb-NO nl nn-NO nso \
d30 1
a30 1
		ta-LK ta te th tr uk vi zh-CN zh-TW zu
@


1.28
log
@Update to firefox 25.0.

- see http://www.mozilla.org/en-US/firefox/25.0/releasenotes/
- fixes MFSA 2013-93 -> 102
- remove USE_GROFF (from naddy@@)
- remove LDEP on gst-plugins-base, gst is dlopened at runtime now, and
  there's a RDEP on gst-plugins-good anyway.
- add patch from #927898 to fix gst runtime dlopening (reminded by dcoppa@@)
- add comment about ipc patches from #927810 & #909005
- remove 3 useless patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.27 2013/09/19 13:19:17 landry Exp $
d8 1
a8 1
FV =		25.0
@


1.27
log
@Update to firefox 24.0.

- see http://www.mozilla.org/en-US/firefox/24.0/releasenotes/
- fixes MFSA 2013-76 -> 92
- remove BROKEN-sparc64, it now works thanks the awesome work of
  martin@@netbsd.org in bugs #871101 & #871555 among others i forgot
- add sparc64 & alpha (insane!) to MODGCC4_ARCHS
- remove patch-gfx_thebes_gfxPlatform_cpp, was merged upstream in
  #722975 (and we dont build with system cairo anyway now)
- remove useless patch-parser_html_Makefile_in, maybe it made sense in
  the gcc 3 / ffx 3.6 days but those are over...

(note: a spellchecker issue since fx 23 is known, and might be fixed
later on)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.26 2013/08/08 06:57:13 landry Exp $
d8 1
a8 1
FV =		24.0
@


1.26
log
@Update to firefox 23.0.

- http://www.mozilla.org/en-US/firefox/23.0/releasenotes/
- fixes MFSA 2013-63->75
- also use --disable-debug-symbols on powerpc otherwise linking fails..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25 2013/06/26 19:29:16 landry Exp $
d4 1
a4 1
ONLY_FOR_ARCHS =	amd64 i386 powerpc
d8 1
a8 1
FV =		23.0
@


1.25
log
@Update to firefox 22.0.

- see http://www.mozilla.org/en-US/firefox/22.0/releasenotes/ (ok,
  webrtc isnt enabled yet by default on *BSD but we're working on it :)
- fixes MFSA 2013-49->62
- remove all patches related to sydneyaudio which got removed upstream,
  sound uses libcubeb which has a native sndio backend since ages (thx
to ratchov!). also remove related post-patch target while here.
- add temporary workaround (TERM=xterm) for bug #878089
- switch i386 to use clang again, using --disable-debug-symbols to make
  the code smaller (who said 'gross hack' ?)
- update patch-gfx_thebes_gfxPlatform_cpp to match what got commited
  upstream in r52b02042b27f
- remove patch-js_src_vm_SPSProfiler_cpp which unbroke powerpc, finally
  got commited in 22 branch
- rework fx-i18n's MESSAGE to be more in line with reality (discussed
  with Marcus Merighi)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.24 2013/06/11 07:28:18 landry Exp $
d8 1
a8 1
FV =		22.0
@


1.25.2.1
log
@browsers have become a major security issue, so bring firefox up to date in -stable by
bumping it to 24.1.0esr and sync language packs.

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25 2013/06/26 19:29:16 landry Exp $
d8 2
a9 2
FV =		24.1.0esr
V =		${FV:C/b.$//:C/esr$//}
d33 1
a33 1
RUN_DEPENDS =	firefox-${FV:S/b/beta/:S/esr//}:www/mozilla-firefox
d44 1
a44 1
PKGNAME =	${NAME}-$L-${FV:S/b/beta/:S/esr//}
@


1.25.2.2
log
@- update to firefox-i18n-24.1.1esr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25.2.1 2013/11/14 09:57:07 jasper Exp $
d8 1
a8 1
FV =		24.1.1esr
@


1.25.2.3
log
@- sync to match firefox-24.2.0esr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25.2.2 2013/12/01 22:06:55 jasper Exp $
d8 1
a8 1
FV =		24.2.0esr
@


1.25.2.4
log
@sync with firefox-esr to 24.3.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25.2.3 2013/12/15 13:52:30 jasper Exp $
d8 1
a8 1
FV =		24.3.0esr
@


1.25.2.5
log
@sync with firefox-esr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25.2.4 2014/02/05 08:16:26 jasper Exp $
d8 1
a8 1
FV =		24.4.0esr
@


1.24
log
@Fix langpacks by installing them under firefox-$V/browser/extensions
instead of firefox-$V/extensions, the location changed in firefox 21.0.
Note that to properly activate a langpack, it seems you still need to
set general.useragent.locale in about:config.. to be investigated.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.23 2013/05/30 14:21:11 landry Exp $
d8 1
a8 2
FV =		21.0
REVISION =	0
@


1.23
log
@Update to firefox-i18n 21.0

While here, rewrite MESSAGE to be more in line with reality. That part
from Marcus Merighi, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.22 2013/04/06 14:44:52 landry Exp $
d9 1
d58 2
a59 2
	${INSTALL_DATA_DIR} ${PREFIX}/lib/firefox-$V/extensions
	${INSTALL_DATA} ${FULLDISTDIR}/$L.xpi ${PREFIX}/lib/firefox-$V/extensions/langpack-$L@@firefox.mozilla.org.xpi
@


1.22
log
@Update to firefox 20.0.

- See http://www.mozilla.org/en-US/firefox/20.0/releasenotes/
- Fixes MFSA 2013-30->40
- switch back to use clang on i386, now that llvm got fixed there
- backport libffi i386 fix (TODO: switch to systemwide libffi if possible)
- add nicer fix to avoid installing the sdk lib/headers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.21 2013/03/11 12:27:54 sthen Exp $
d8 1
a8 1
FV =		20.0
@


1.21
log
@PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.20 2013/03/11 11:44:41 espie Exp $
d8 1
a8 1
FV =		19.0.2
@


1.20
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.19 2013/03/07 23:51:49 landry Exp $
a19 2
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.19
log
@Security update to firefox 19.0.2.

Fixes MFSA-2013-29 / CVE-2013-0787 / bug #848644 (vupen @@ pwn2own)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.18 2013/03/03 17:34:15 landry Exp $
a20 1
PERMIT_DISTFILES_CDROM =Yes
d39 1
a39 1
NO_REGRESS =	Yes
@


1.18
log
@Update to firefox 19.0.1.

- see http://www.mozilla.org/en-US/firefox/19.0/releasenotes/
- fixes MFSA 2013-21->28
- provides a builtin pdf viewer (pdf.js)
- remove patch-toolkit_system_gnome_nsGIOService_cpp (#805202), firefox
  now properly links with gio instead of dlopening it
- remove patch-toolkit_xre_nsXREDirProvider_cpp and
  patch-xpcom_io_nsAppFileLocationProvider_cpp, merged upstream (#803955)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.17 2013/02/06 22:44:47 landry Exp $
d8 1
a8 1
FV =		19.0.1
@


1.17
log
@Bugfix update to firefox 18.0.2, fixing 'JavaScript related stability
issues' for a well known social network site (bug #831626).

While here remove patch for #830303, commited upstream just after 18.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.16 2013/01/19 23:50:16 landry Exp $
d8 1
a8 1
FV =		18.0.2
@


1.16
log
@Bugfix update to firefox 18.0.1.

http://www.mozilla.org/en-US/firefox/18.0.1/releasenotes/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.15 2013/01/11 22:57:39 landry Exp $
d8 1
a8 1
FV =		18.0.1
@


1.15
log
@Update to firefox-i18n 18.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.14 2012/12/04 21:24:33 landry Exp $
d8 1
a8 1
FV =		18.0
@


1.14
log
@Bugfix update to firefox 17.0.1.

- Fixes bug #814101 - Font Issue
- Reverted user agent change (was bug #588909) causing some website
  incompatibilities, see #815743
- Readd the --with-system-jpeg locally (to remove in 18), and remove all the
  configure_env/args/build_depends stuff that moved to moz.port.mk.
- add @@pkgpath/@@conflict markers to update www/firefox35 users to the
  latest and greatest !
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.13 2012/11/24 10:22:39 landry Exp $
d8 1
a8 1
FV =		17.0.1
@


1.13
log
@Update to firefox-i18n 17.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.12 2012/10/27 08:11:00 landry Exp $
d8 1
a8 1
FV =		17.0
@


1.12
log
@SECURITY update to firefox 16.0.2.

Fixes MFSA2012-90.
http://www.mozilla.org/security/announce/2012/mfsa2012-90.html
Tb & seamonkey will follow soon..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.11 2012/10/11 18:37:23 landry Exp $
d8 1
a8 1
FV =		16.0.2
@


1.11
log
@SECURITY update to firefox 16.0.1.

See https://blog.mozilla.org/security/2012/10/10/security-vulnerability-in-firefox-16/
and http://arstechnica.com/security/2012/10/firefox-16-vulnerability-attack-code-available-online/
for more details on the issue affecting only 16.0.
Bug #720619 (still sg-only)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.10 2012/10/10 20:57:29 landry Exp $
d8 1
a8 1
FV =		16.0.1
@


1.10
log
@Update to firefox-i18n 16.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.9 2012/09/09 19:50:31 landry Exp $
d8 1
a8 1
FV =		16.0
@


1.9
log
@Bugfix update to firefox 15.0.1.

Fixes a regression in private browsing mode, see
https://bugzilla.mozilla.org/show_bug.cgi?id=787743.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.8 2012/09/01 13:58:29 landry Exp $
d8 1
a8 1
FV =		15.0.1
@


1.8
log
@Update to firefox-i18n 15.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.7 2012/08/07 08:56:55 landry Exp $
d8 1
a8 1
FV =		15.0
@


1.7
log
@Update to firefox-i18n 14.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.6 2012/06/16 10:21:57 landry Exp $
d8 1
a8 1
FV =		14.0.1
@


1.6
log
@Bugfix update to firefox 13.0.1.
See http://www.mozilla.org/en-US/firefox/13.0.1/releasenotes/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.5 2012/06/11 15:30:59 landry Exp $
d8 1
a8 1
FV =		13.0.1
@


1.5
log
@Update to firefox-i18n 13.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.4 2012/04/30 15:29:39 landry Exp $
d8 1
a8 1
FV =		13.0
@


1.4
log
@Update to firefox-i18n 12.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.3 2012/03/16 21:31:50 landry Exp $
d8 1
a8 1
FV =		12.0
@


1.3
log
@Update to firefox-i18n 11.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.2 2012/02/20 20:22:04 landry Exp $
d8 1
a8 1
FV =		11.0
@


1.2
log
@Update to firefox-i18n 10.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.1 2012/01/22 17:10:31 landry Exp $
d8 1
a8 1
FV =		10.0.2
@


1.1
log
@Convert firefox-i18n to use subdirs/Makefile.inc instead of abusing
multipackages, allows to parallelize builds in dpb. This way they also
share PLIST and DESCR.. while here take maintainership (agreed by previous)
and set @@pkgpath for seamless updates.
prodded by/based on an initial work by espie@@
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
a8 1
FV =		9.0.1
a47 1
REVISION =	0
@

