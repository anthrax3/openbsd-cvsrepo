head	1.12;
access;
symbols
	OPENBSD_5_0:1.9.0.2
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.6.0.2
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.1.1.1.0.2
	OPENBSD_4_7_BASE:1.1.1.1
	ajacoutot_20100104:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2011.12.03.12.52.04;	author ajacoutot;	state dead;
branches;
next	1.11;

1.11
date	2011.11.16.15.56.37;	author robert;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.16.12.00.06;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2011.07.22.10.20.10;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2011.07.09.00.14.45;	author robert;	state Exp;
branches;
next	1.7;

1.7
date	2011.06.02.13.41.41;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.22.08.36.47;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.12.13.54.28;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2010.09.06.14.56.28;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2010.09.06.14.47.19;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.03.21.10.32.31;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.01.04.08.58.11;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.01.04.08.58.11;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Remove: development is dead upstream and considering the nature of this
port, it's better not to have it rather than ship an old and unsupported
version.
@
text
@# $OpenBSD: Makefile,v 1.11 2011/11/16 15:56:37 robert Exp $

COMMENT=	PHP OpenID implementation

V=		1.2.1
BASE_URL=	http://source.keyboard-monkeys.org

DISTNAME=	cid-${V}
PKGNAME=	community-id-${V}

REVISION=	7

CATEGORIES=	www security

HOMEPAGE=	${BASE_URL}/projects/show/communityid

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	${BASE_URL}/attachments/download/110/

MODULES=	lang/php

# php-gd-*-!no_x11 because we need freetype support
RUN_DEPENDS=	php-gd-*-!no_x11:lang/php/${MODPHP_VERSION},-gd \
		lang/php/${MODPHP_VERSION},-gmp \
		lang/php/${MODPHP_VERSION},-mysqli

WRKDIST=	${WRKDIR}/communityid

NO_BUILD=	Yes
NO_REGRESS=	Yes
PKG_ARCH=	*

PREFIX=		/var/www
INSTDIR=	${PREFIX}/communityid
SUBST_VARS=	INSTDIR BASE_URL

do-install:
	cp -Rp ${WRKBUILD} ${INSTDIR}
	chown -R ${SHAREOWN}:${SHAREGRP} ${INSTDIR}
	find ${INSTDIR} -type f -name \*.orig | xargs rm
	${INSTALL_DATA} ${FILESDIR}/communityid.conf \
		${INSTDIR}/communityid.conf.dist

.include <bsd.port.mk>
@


1.11
log
@switch php to version 5.3 by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/16 12:00:06 espie Exp $
@


1.10
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/07/22 10:20:10 sthen Exp $
d11 1
a11 1
REVISION=	6
@


1.9
log
@Bump for PKGSPEC changes in ports/lang/php/Makefile.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/07/09 00:14:45 robert Exp $
d11 1
a11 1
REVISION=	5
@


1.8
log
@switch to lang/php
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/06/02 13:41:41 ajacoutot Exp $
d11 1
a11 1
REVISION=	4
@


1.7
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/11/22 08:36:47 espie Exp $
d11 1
a11 1
REVISION=	3
d27 6
a32 4
# php5-gd-*-!no_x11 because we need freetype support
RUN_DEPENDS=	php5-gd-*-!no_x11:www/php5/extensions,-gd \
		www/php5/extensions,-gmp \
		www/php5/extensions,-mysqli
@


1.6
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/12 13:54:28 jasper Exp $
d11 1
a11 1
REVISION=	2
@


1.5
log
@switch to pkg-readmes

ok ajacoutot@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/09/06 14:56:28 ajacoutot Exp $
d28 3
a30 3
RUN_DEPENDS=	:php5-gd-*-!no_x11:www/php5/extensions,-gd \
		:php5-gmp-*:www/php5/extensions,-gmp \
		:php5-mysqli-*:www/php5/extensions,-mysqli
@


1.4
log
@Add some @@unexec-delete so that this package don't leave bogus links
behind.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/09/06 14:47:19 ajacoutot Exp $
d11 1
a11 1
REVISION=	1
a40 4

post-extract:
	${SUBST_CMD} -c ${FILESDIR}/README.OpenBSD \
		${WRKSRC}/README.OpenBSD
@


1.3
log
@Simplify installation, now works out of the box without the need to tweak
anything when following README.OpenBSD.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/03/21 10:32:31 ajacoutot Exp $
d11 1
a11 1
REVISION=	0
@


1.2
log
@Update to community-id-1.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/01/04 08:58:11 ajacoutot Exp $
d11 2
d50 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
V=		1.1.1
d23 1
a23 1
MASTER_SITES=	${BASE_URL}/attachments/download/74/
@


1.1.1.1
log
@Import community-id-1.1.1

Community-ID is an OpenID implementation in PHP which is OpenID 2.0
compliant. Users can keep track of their trusted sites and manage them.
For Community-ID administrators statistics are available to track
registration of new users, authorized users per day or the number of
trusted sites. Administrators can set the site in maintenance mode or
send emails to all registered users.
@
text
@@
