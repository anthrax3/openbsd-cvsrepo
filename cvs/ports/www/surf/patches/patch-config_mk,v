head	1.7;
access;
symbols
	OPENBSD_6_1:1.7.0.6
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.7.0.4
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.8
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.6
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.4
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.3.0.10
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.8
	OPENBSD_5_0:1.3.0.6
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.4
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	landry_20091108:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2015.12.23.20.40.03;	author jung;	state Exp;
branches;
next	1.6;
commitid	yc2Ucp60Mrjmz5rf;

1.6
date	2015.07.19.05.58.59;	author czarkoff;	state Exp;
branches;
next	1.5;
commitid	bcuFyTQ1qKyyRPs7;

1.5
date	2013.03.11.17.08.51;	author bcallah;	state Exp;
branches;
next	1.4;

1.4
date	2012.10.30.18.27.55;	author zinke;	state Exp;
branches;
next	1.3;

1.3
date	2010.06.07.07.24.00;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2009.12.17.21.06.20;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2009.11.08.12.17.18;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.11.08.12.17.18;	author landry;	state Exp;
branches;
next	;


desc
@@


1.7
log
@update surf to 0.7

ok gsoares
@
text
@$OpenBSD: patch-config_mk,v 1.6 2015/07/19 05:58:59 czarkoff Exp $
use TRUEPREFIX instead of patching Makefile to remove DESTDIR
--- config.mk.orig	Sat Dec 19 15:59:30 2015
+++ config.mk	Sat Dec 19 20:58:35 2015
@@@@ -4,27 +4,27 @@@@ VERSION = 0.7
 # Customize below to fit your system
 
 # paths
-PREFIX = /usr/local
-MANPREFIX = ${PREFIX}/share/man
+PREFIX ?= /usr/local 
+MANPREFIX = ${PREFIX}/man
 
-X11INC = /usr/X11R6/include
-X11LIB = /usr/X11R6/lib
+X11INC = ${X11BASE}/include
+X11LIB = ${X11BASE}/lib
 
-GTKINC = `pkg-config --cflags gtk+-2.0 webkit-1.0`
-GTKLIB = `pkg-config --libs gtk+-2.0 webkit-1.0`
+GTKINC != pkg-config --cflags gtk+-2.0 webkit-1.0
+GTKLIB != pkg-config --libs gtk+-2.0 webkit-1.0
 
 # includes and libs
-INCS = -I. -I/usr/include -I${X11INC} ${GTKINC}
-LIBS = -L/usr/lib -lc -L${X11LIB} -lX11 ${GTKLIB} -lgthread-2.0
+INCS = -I${X11INC} ${GTKINC}
+LIBS = -L${X11LIB} -lX11 ${GTKLIB}
 
 # flags
-CPPFLAGS = -DVERSION=\"${VERSION}\" -D_DEFAULT_SOURCE
-CFLAGS = -std=c99 -pedantic -Wall -Os ${INCS} ${CPPFLAGS}
-LDFLAGS = -g ${LIBS}
+CPPFLAGS += -DVERSION=\"${VERSION}\" -D_DEFAULT_SOURCE
+CFLAGS += -std=c99 -pedantic -Wall -Os ${INCS} ${CPPFLAGS}
+LDFLAGS += ${LIBS}
 
 # Solaris
 #CFLAGS = -fast ${INCS} -DVERSION=\"${VERSION}\"
 #LDFLAGS = ${LIBS}
 
 # compiler and linker
-CC = cc
+#CC = cc
@


1.6
log
@Remove "-pthread" from LIBS

Regen WANTLIB while there.

OK jung@@
@
text
@d1 1
a1 1
$OpenBSD: patch-config_mk,v 1.5 2013/03/11 17:08:51 bcallah Exp $
d3 3
a5 3
--- config.mk.orig	Sun Mar 10 22:59:36 2013
+++ config.mk	Sun Mar 10 23:01:27 2013
@@@@ -4,22 +4,22 @@@@ VERSION = 0.6
d11 2
a12 2
+PREFIX = ${TRUEPREFIX}
+MANPREFIX = ${TRUEPREFIX}/man
d14 4
a17 2
 X11INC = /usr/X11R6/include
 X11LIB = /usr/X11R6/lib
d27 2
a28 2
+INCS = ${GTKINC}
+LIBS = ${GTKLIB}
d31 1
a31 1
 CPPFLAGS = -DVERSION=\"${VERSION}\" -D_BSD_SOURCE
d33 4
a36 2
+CFLAGS += -std=c99 ${INCS} ${CPPFLAGS}
 LDFLAGS = -g ${LIBS}
d39 1
a39 1
@@@@ -27,4 +27,4 @@@@ LDFLAGS = -g ${LIBS}
@


1.5
log
@Update www/surf to 0.6
ok jung@@ (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD: patch-config_mk,v 1.4 2012/10/30 18:27:55 zinke Exp $
d26 1
a26 1
+LIBS = -pthread ${GTKLIB}
@


1.4
log
@update to surf version 0.5

ok landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-config_mk,v 1.3 2010/06/07 07:24:00 landry Exp $
d3 3
a5 3
--- config.mk.orig	Sun Oct 28 18:52:06 2012
+++ config.mk	Sun Oct 28 18:59:47 2012
@@@@ -4,23 +4,22 @@@@ VERSION = 0.5
d19 2
a20 2
+GTKINC!= pkg-config --cflags gtk+-2.0 webkit-1.0
+GTKLIB!= pkg-config --libs gtk+-2.0 webkit-1.0
a24 1
-#       -ljavascriptcoregtk-1.0
d29 1
a29 1
 CPPFLAGS = -DVERSION=\"${VERSION}\"
d35 1
a35 1
@@@@ -28,4 +27,4 @@@@ LDFLAGS = -g ${LIBS}
@


1.3
log
@Update to surf 0.4, based on a diff from Stanley Lieber on ports. Fix
WANTLIB while here.
@
text
@d1 1
a1 1
$OpenBSD: patch-config_mk,v 1.2 2009/12/17 21:06:20 landry Exp $
d3 3
a5 3
--- config.mk.orig	Sun May 30 22:05:25 2010
+++ config.mk	Mon Jun  7 09:20:47 2010
@@@@ -4,20 +4,20 @@@@ VERSION = 0.4
d12 1
a12 1
+MANPREFIX = ${PREFIX}/man
d14 5
a18 2
-GTKINC=$(shell pkg-config --cflags gtk+-2.0 webkit-1.0)
-GTKLIB=$(shell pkg-config --libs gtk+-2.0 webkit-1.0)
a21 1
 
d23 3
a25 2
-INCS = -I. -I/usr/include ${GTKINC}
-LIBS = -L/usr/lib -lc ${GTKLIB} -lgthread-2.0
d36 1
a36 1
@@@@ -25,4 +25,4 @@@@ LDFLAGS = -g ${LIBS}
@


1.2
log
@Fix a nasty hardcoded /usr/local which wasn't patched away, use
TRUEPREFIX instead. spotted while looking at tabbed port..
@
text
@d1 1
a1 1
$OpenBSD: patch-config_mk,v 1.1.1.1 2009/11/08 12:17:18 landry Exp $
d3 3
a5 3
--- config.mk.orig	Fri Oct 30 13:41:02 2009
+++ config.mk	Thu Dec 17 21:43:56 2009
@@@@ -4,20 +4,20 @@@@ VERSION = 0.3
d30 1
a30 1
 LDFLAGS = -s ${LIBS}
d33 1
a33 1
@@@@ -25,4 +25,4 @@@@ LDFLAGS = -s ${LIBS}
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
$OpenBSD$
d4 3
a6 2
+++ config.mk	Sun Nov  8 13:00:22 2009
@@@@ -5,19 +5,19 @@@@ VERSION = 0.3
d9 1
a9 1
 PREFIX = /usr/local
d11 1
@


1.1.1.1
log
@Import surf 0.3:
surf is a minimalistic web browser using webkit, in the spirit of
dwm/suckless.org softwares. It supports the Xembedded protocol which
makes it possible to embed it into another application. Furthermore
one can point surf to another URI by setting its XProperties.
Based on a submission from Tobias Ulmer some times ago on ports@@, thanks!
@
text
@@
