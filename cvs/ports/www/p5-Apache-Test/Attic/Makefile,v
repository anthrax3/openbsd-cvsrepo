head	1.24;
access;
symbols
	OPENBSD_5_9:1.19.0.2
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.18.0.4
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.17.0.4
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.17.0.2
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.15.0.4
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.15.0.2
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.14.0.10
	OPENBSD_5_3_BASE:1.14
	OPENBSD_5_2:1.14.0.8
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.6
	OPENBSD_5_0:1.14.0.4
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.12.0.2
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.11.0.8
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.11.0.6
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.4
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.11.0.2
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.8.0.4
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.5.0.2
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.4.0.4
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.2
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.3.0.4
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	naddy_20040417:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.24
date	2016.04.29.08.20.35;	author sthen;	state dead;
branches;
next	1.23;
commitid	cj9DiHjCyHSemkrs;

1.23
date	2016.04.28.17.00.21;	author sthen;	state Exp;
branches;
next	1.22;
commitid	TNVdd9c01FubREaD;

1.22
date	2016.04.28.16.49.41;	author sthen;	state Exp;
branches;
next	1.21;
commitid	YBEy8anaxhU2fD6N;

1.21
date	2016.04.28.16.12.53;	author sthen;	state Exp;
branches;
next	1.20;
commitid	3cnXjXShCBdiByGx;

1.20
date	2016.03.20.19.57.13;	author naddy;	state Exp;
branches;
next	1.19;
commitid	WXJcpbKc0PauxEav;

1.19
date	2015.11.05.19.08.59;	author jca;	state Exp;
branches;
next	1.18;
commitid	UGP8xDGOujwrZOVl;

1.18
date	2015.07.17.23.58.43;	author ajacoutot;	state Exp;
branches;
next	1.17;
commitid	oY2rvgPTcr4esxta;

1.17
date	2014.03.24.07.47.23;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2014.03.13.21.13.53;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.11.11.44.44;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.12.03.11.46.51;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.19.08.02.54;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.07.13.20.14.23;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2008.05.01.10.12.22;	author simon;	state Exp;
branches;
next	1.10;

1.10
date	2008.04.30.19.25.23;	author simon;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.15.20.38.23;	author merdely;	state Exp;
branches;
next	1.8;

1.8
date	2007.01.29.16.31.58;	author simon;	state Exp;
branches;
next	1.7;

1.7
date	2007.01.16.17.52.06;	author simon;	state Exp;
branches;
next	1.6;

1.6
date	2007.01.10.19.21.47;	author bernd;	state Exp;
branches;
next	1.5;

1.5
date	2006.03.18.07.40.47;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2005.04.12.20.00.08;	author mjc;	state Exp;
branches;
next	1.3;

1.3
date	2004.07.04.23.42.59;	author mjc;	state Exp;
branches;
next	1.2;

1.2
date	2004.06.22.23.09.14;	author mjc;	state Exp;
branches;
next	1.1;

1.1
date	2004.04.16.22.17.14;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.04.16.22.17.14;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.24
log
@p5-Apache-Test and p5-Apache-Reload were previously disabled in the
mod_perl/ap2-mod_perl builds and packaged separately, to avoid conflicts
between the two mod_perls. This isn't needed any more so move them into
the man ap2-mod_perl package, fixing a loop found by nigel@@.
@
text
@# $OpenBSD: Makefile,v 1.23 2016/04/28 17:00:21 sthen Exp $

COMMENT=	test wrapper with helpers for testing Apache

MODULES=	cpan
PKG_ARCH=	*
DISTNAME=	Apache-Test-1.39
REVISION=	0
CATEGORIES=	www

# Apache License 2.0
PERMIT_PACKAGE_CDROM=	Yes

MAKE_ENV+=	APACHE_TEST_HTTPD=${LOCALBASE}/sbin/httpd2

RUN_DEPENDS=	www/apache-httpd
TEST_DEPENDS +=	www/p5-libwww

pre-configure:
	@@perl -pi -e 's|%%LOCALBASE%%|${LOCALBASE}|g' \
		${WRKSRC}/lib/Apache/TestConfig.pm

post-install:
	find ${PREFIX}/${P5SITE} -name '*.orig' -print0 | xargs -r0 rm

.include <bsd.port.mk>
@


1.23
log
@fix /etc/apache2/httpd.conf -> /etc/apache2/httpd2.conf
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2016/04/28 16:49:41 sthen Exp $
@


1.22
log
@update to p5-Apache-Test-1.39
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/04/28 16:12:53 sthen Exp $
d8 1
@


1.21
log
@drop apache1 option
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/03/20 19:57:13 naddy Exp $
d7 1
a7 2
DISTNAME=	Apache-Test-1.30
REVISION=	5
@


1.20
log
@Remove SHARED_ONLY from all CPAN Perl ports and the cpan and perl MODULES.
Add WANTLIB+=perl and PKG_ARCH=* as appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/11/05 19:08:59 jca Exp $
d8 1
a8 1
REVISION=	4
d14 1
a14 2
# Sets the default, but can be overridden, therefore allow a choice of run dep.
MAKE_ENV+=	APACHE_TEST_HTTPD=${LOCALBASE}/sbin/httpd
d16 1
a16 1
RUN_DEPENDS=	apache-httpd-*|apache-httpd-openbsd-*:www/apache-httpd-openbsd
@


1.19
log
@Drop MAINTAINER, the mail address bounces.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/07/17 23:58:43 ajacoutot Exp $
d6 1
@


1.18
log
@Bump after apache-http subpackaging.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2014/03/24 07:47:23 jasper Exp $
d7 1
a7 1
REVISION=	3
a8 2

MAINTAINER=	Simon Bertrang <simon@@openbsd.org>
@


1.17
log
@TEST_DEPENDS=${RUN_DEPENDS} already gets set by cpan.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/03/13 21:13:53 sthen Exp $
d7 1
a7 1
REVISION=	2
@


1.16
log
@fixup for new httpd location, spotted by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/11 11:44:44 espie Exp $
d19 1
a19 2
TEST_DEPENDS=	${RUN_DEPENDS} \
		www/p5-libwww
@


1.15
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/12/03 11:46:51 ajacoutot Exp $
d3 1
a3 1
COMMENT=	Test wrapper with helpers for testing Apache
d7 1
a7 1
REVISION=	1
a8 1
USE_GROFF =	Yes
d15 6
a20 1
MAKE_ENV+=	APACHE_TEST_HTTPD=/usr/sbin/httpd
d25 3
@


1.14
log
@Bump after recent cpan.port.mk change.
ok jasper@@
(final commit)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/19 08:02:54 espie Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.13
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/07/13 20:14:23 sthen Exp $
d7 1
a7 1
REVISION=	0
@


1.12
log
@use REVISION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/05/01 10:12:22 simon Exp $
d9 1
@


1.11
log
@Make it work with our mod_perl which has slightely different filenames
and locations.  All ports i've checked depending on this can now run
their regression tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/04/30 19:25:23 simon Exp $
d7 1
a7 1
PKGNAME=	p5-${DISTNAME}p0
@


1.10
log
@Update to version 1.30 and while here make it actually work with our
httpd(8) by adding chroot(2) support, disabled by default as expected
with this module.
Otherwise no user would be able to run his tests without the effort of
setting up a chroot(2) environment with Perl and everything else, and
obviously also running them as root.

To enable chroot set the APACHE_TEST_CHROOT environment variable or
start the tests with `./t/TEST -chroot 1'.

I'm also taking over maintainership.

Tested by and looks good to landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/09/15 20:38:23 merdely Exp $
d7 1
d19 4
@


1.9
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/01/29 16:31:58 simon Exp $
d6 1
a6 1
DISTNAME=	Apache-Test-1.29
d9 1
a9 1
MAINTAINER=	Michael Coulter <mjc@@openbsd.org>
d17 1
a17 2
# does not work
NO_REGRESS=	Yes
@


1.8
log
@resolve conflict between p5-Apache-Test and ap2-mod_perl

ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/01/16 17:52:06 simon Exp $
d3 1
a3 1
COMMENT=	"Test wrapper with helpers for testing Apache"
@


1.7
log
@cpanify, use SHARED_ONLY and set one license

looks ok to jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/01/10 19:21:47 bernd Exp $
d6 1
a6 2
DISTNAME=	Apache-Test-1.28
PKGNAME=	p5-${DISTNAME}p1
@


1.6
log
@p5-Apache-Test and ap2-mod_perl have some conflicting manpages.
Add @@conflict markers.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/03/18 07:40:47 sturm Exp $
d5 1
d7 2
a8 3
PKGNAME=	p5-${DISTNAME}p0
CATEGORIES=	www perl5
MASTER_SITES=	${MASTER_SITE_PERL_CPAN:=Apache/}
a16 2

CONFIGURE_STYLE=perl
@


1.5
log
@update to p5-Apache-Test 1.28

from Deanna Phillips <deanna at sdf.lonestar.org>
ok maintainer mjc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/04/12 20:00:08 mjc Exp $
d6 1
a6 1
PKGNAME=	p5-${DISTNAME}
@


1.4
log
@update to 1.21
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/07/04 23:42:59 mjc Exp $
d5 1
a5 1
DISTNAME=	Apache-Test-1.21
@


1.3
log
@update my e-mail address
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/06/22 23:09:14 mjc Exp $
d5 1
a5 1
DISTNAME=	Apache-Test-1.11
@


1.2
log
@update to Apache-Test-1.11
pvalchev@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/04/16 22:17:14 naddy Exp $
d10 1
a10 1
MAINTAINER=	Michael Coulter <mjc@@bitz.ca>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	Apache-Test-1.09
@


1.1.1.1
log
@Import Apache::Test 1.09, submitted by Michael Coulter <mjc@@bitz.ca>.

Apache::Test is a wrapper around the standard Test.pm
with helpers for testing an Apache server.
@
text
@@
