head	1.2;
access;
symbols
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2014.11.07.11.13.09;	author sthen;	state dead;
branches;
next	1.1;
commitid	0LFy7zsWjWlfm9i9;

1.1
date	2014.05.15.22.30.08;	author bluhm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update p5-Mojo to 5.58, one of the interim updates was an "emergency release
for a serious security issue that can result in parameter injection attacks,
everybody should update!". From Mark Patruck, ok nigel@@

Freshen DESCR/COMMENT while there.
@
text
@$OpenBSD: patch-lib_Mojo_IOLoop_Server_pm,v 1.1 2014/05/15 22:30:08 bluhm Exp $
https://github.com/kraih/mojo/issues/622

--- lib/Mojo/IOLoop/Server.pm.orig	Sun May 11 20:27:28 2014
+++ lib/Mojo/IOLoop/Server.pm	Tue May 13 23:04:55 2014
@@@@ -127,7 +127,7 @@@@ sub _accept {
     # Start TLS handshake
     $self->emit_safe(accept => $handle) and next unless my $tls = $self->{tls};
     $self->_handshake($self->{handles}{$handle} = $handle)
-      if $handle = IO::Socket::SSL->start_SSL($handle, %$tls);
+      if $handle = IO::Socket::SSL->start_SSL($handle, %$tls, SSL_server => 1);
   }
 }
 
@


1.1
log
@- update p5-Mojolicious to 4.99
- fix wrong invocation of IO::Socket::SSL
tested by Remi Locherer; OK ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD$
@

