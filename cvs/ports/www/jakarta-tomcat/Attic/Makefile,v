head	1.9;
access;
symbols
	OPENBSD_4_0:1.8.0.2
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.7.0.6
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.7.0.4
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.6.0.12
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.6.0.10
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.8
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.6.0.6
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.4
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.6.0.2
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	reinhard_20010617:1.1.1.1
	reinhard:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2006.10.25.18.19.32;	author kurt;	state dead;
branches;
next	1.8;

1.8
date	2006.08.03.17.48.50;	author kurt;	state Exp;
branches;
next	1.7;

1.7
date	2004.11.04.21.47.13;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2002.01.05.15.24.46;	author reinhard;	state Exp;
branches;
next	1.5;

1.5
date	2001.11.20.10.14.56;	author reinhard;	state Exp;
branches;
next	1.4;

1.4
date	2001.11.13.22.13.24;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2001.07.07.13.12.18;	author reinhard;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2001.06.18.09.48.24;	author reinhard;	state Exp;
branches;
next	1.1;

1.1
date	2001.06.17.12.18.16;	author reinhard;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.06.17.12.18.16;	author reinhard;	state Exp;
branches;
next	;

1.3.2.1
date	2001.11.23.23.59.50;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.9
log
@replaced by www/tomcat
@
text
@# $OpenBSD: Makefile,v 1.8 2006/08/03 17:48:50 kurt Exp $

     SUBDIR+= v4
     SUBDIR+= v5

.include <bsd.port.subdir.mk>
@


1.8
log
@remove tomcat v3. discussed on list a year ago and no one has stepped
up to maintain this. several okays last year and ian@@ now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/11/04 21:47:13 naddy Exp $
@


1.7
log
@+v5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/01/05 15:24:46 reinhard Exp $
a2 1
     SUBDIR+= v3
@


1.6
log
@split port into version 3 and 4
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
@


1.5
log
@security update to 3.2.3
- distinfo
thx pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/11/13 22:13:24 espie Exp $
d3 2
a4 1
COMMENT=	"java servlet 2.2 and java server pages 1.1 server"
d6 1
a6 43
V=		3.2.3
DISTNAME=	jakarta-tomcat-${V}
CATEGORIES=	www
NEED_VERSION=	1.499
MASTER_SITES=	http://jakarta.apache.org/builds/jakarta-tomcat/release/v${V}/bin/
EXTRACT_SUFX=	.zip

HOMEPAGE=	http://jakarta.apache.org/

MAINTAINER=	Reinhard J. Sammer <reinhard@@openbsd.org>

JDK_VERSION=	1.2-blackdown
JAVA_HOME=	${LOCALBASE}/jdk${JDK_VERSION}
RUN_DEPENDS=	:jdk-blackdown-*:devel/jdk/${JDK_VERSION}

# Apache Software License
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

NO_BUILD=	Yes
NO_REGRESS=	Yes

WRKSRC=		${WRKDIR}/${DISTNAME}

DIRS=	bin conf doc lib logs src webapps 
CONFDIR=	/etc/tomcat
TOMCATDIR=	/var/tomcat
SUBST_VARS=	TOMCATDIR CONFDIR

post-patch:
	@@perl -pi -e 's|JAVA_HOME|${JAVA_HOME}|g' ${WRKSRC}/conf/workers.properties
	@@perl -pi -e 's|TOMCATDIR|${TOMCATDIR}|g' ${WRKSRC}/bin/tomcat.sh
	@@perl -pi -e 's|PREFIX|${PREFIX}|g' ${WRKSRC}/bin/tomcat.sh

do-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/tomcat
	@@${INSTALL_DATA} ${WRKSRC}/LICENSE ${PREFIX}/tomcat
	@@cd ${WRKDIST}/bin && chmod +x *.sh	# for .zip file
	@@cd ${WRKDIST} && tar cf - ${DIRS} | (cd ${PREFIX}/tomcat && tar -xf -)

.include "bsd.port.mk"
@


1.4
log
@Kill remaining RUN_DEPENDS/BUILD_DEPENDS first parters.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/07/07 13:12:18 reinhard Exp $
d5 2
a6 1
DISTNAME=	jakarta-tomcat-3.2.2
d8 3
a10 2
NEED_VERSION=	1.496
MASTER_SITES=	http://jakarta.apache.org/builds/jakarta-tomcat/release/v3.2.2/bin/
d16 3
a18 3
# XXX: USE_JAVA=TBD
JAVA_HOME=	${LOCALBASE}/jdk1.2-blackdown
RUN_DEPENDS=	::devel/jdk/1.2-blackdown 
d27 1
d44 1
@


1.3
log
@update to jakarta-tomcat-3.2.2
Version 3.2.2 fixes a large number of bugs and all known specification
compliance issues.  The 3.2.x branch will continue in maintenance mode,
but no new feature releases are planned.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/06/18 09:48:24 reinhard Exp $
d7 1
a7 1
NEED_VERSION=	1.419
d16 1
a16 1
RUN_DEPENDS=	${JAVA_HOME}/bin/java::devel/jdk/1.2-blackdown 
@


1.3.2.1
log
@MFC:
update to 3.2.3; security update that closes a serious security hole;
from reinhard@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/07/07 13:12:18 reinhard Exp $
d5 1
a5 2
V=		3.2.3
DISTNAME=	jakarta-tomcat-${V}
d7 2
a8 3
NEED_VERSION=	1.475
MASTER_SITES=	http://jakarta.apache.org/builds/jakarta-tomcat/release/v${V}/bin/
EXTRACT_SUFX=	.zip
d14 3
a16 3
JDK_VERSION=	1.2-blackdown
JAVA_HOME=	${LOCALBASE}/jdk${JDK_VERSION}
RUN_DEPENDS=	${JAVA_HOME}/bin/java::devel/jdk/${JDK_VERSION}
a40 1
	@@cd ${WRKDIST}/bin && chmod +x *.sh	# for .zip file
@


1.2
log
@$TOMCAT_HOME is /var/tomcat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/06/17 12:18:16 reinhard Exp $
d5 1
a5 1
DISTNAME=	jakarta-tomcat-3.2.1
d7 2
a8 2
NEED_VERSION=	1.414
MASTER_SITES=	http://jakarta.apache.org/builds/jakarta-tomcat/release/v3.2.1/bin/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a33 1
	@@perl -pi -e 's|PREFIX|${PREFIX}|g' ${WRKSRC}/conf/workers.properties
@


1.1.1.1
log
@Tomcat is the Java Servlet / Java Server Page environment produced
by the Apache Foundation's Jakarta Project.  Tomcat can be run as a
standalone web server with Servlet and JSP support, or using Apache
Server as it's web server via the mod_jserv Apache module (the
www/ap-jserv package).
@
text
@@
