head	1.6;
access;
symbols
	OPENBSD_4_3:1.5.0.20
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.5.0.18
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.16
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.14
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.5.0.12
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.5.0.10
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.8
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.5.0.6
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.5.0.4
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.2.0.4
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.2
	OPENBSD_3_2_BASE:1.2
	avsm_2002-06-24:1.1.1.1
	avsm:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2008.05.27.07.07.29;	author jasper;	state dead;
branches;
next	1.5;

1.5
date	2003.05.23.20.07.18;	author avsm;	state Exp;
branches;
next	1.4;

1.4
date	2003.04.03.14.04.48;	author avsm;	state Exp;
branches;
next	1.3;

1.3
date	2003.04.03.10.27.22;	author avsm;	state dead;
branches;
next	1.2;

1.2
date	2002.09.11.23.16.48;	author avsm;	state Exp;
branches;
next	1.1;

1.1
date	2002.06.24.19.27.48;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.06.24.19.27.48;	author avsm;	state Exp;
branches;
next	;


desc
@@


1.6
log
@it's a sunny day....and the right time to kill php4.

it has been unlinked from the builds for some monthts now, and everybody
should've upgraded to php5 a long time ago.

from brad@@, ok robert@@
@
text
@$OpenBSD: patch-ext_gd_config_m4,v 1.5 2003/05/23 20:07:18 avsm Exp $
--- ext/gd/config.m4.orig	Mon Apr 21 20:07:50 2003
+++ ext/gd/config.m4	Fri May 23 14:56:44 2003
@@@@ -87,13 +87,13 @@@@ AC_DEFUN(PHP_GD_PNG,[
       AC_MSG_ERROR([PNG support requires ZLIB. Use --with-zlib-dir=<DIR>])
     fi
 
-    if test ! -f $GD_PNG_DIR/include/png.h; then
+    if test ! -f $GD_PNG_DIR/include/libpng/png.h; then
       AC_MSG_ERROR([png.h not found.])
     fi
 
     PHP_CHECK_LIBRARY(png,png_write_image,
     [
-      PHP_ADD_INCLUDE($GD_PNG_DIR/include)
+      PHP_ADD_INCLUDE($GD_PNG_DIR/include/libpng)
       PHP_ADD_LIBRARY_WITH_PATH(z, $PHP_ZLIB_DIR/lib, GD_SHARED_LIBADD)
       PHP_ADD_LIBRARY_WITH_PATH(png, $GD_PNG_DIR/lib, GD_SHARED_LIBADD)
     ],[
@


1.5
log
@update to php-4.3.2RC4, no extensions added or removed
@
text
@d1 1
a1 1
$OpenBSD: patch-ext_gd_config_m4,v 1.4 2003/04/03 14:04:48 avsm Exp $
@


1.4
log
@cvs missed these patches
@
text
@d1 12
a12 5
$OpenBSD$
--- ext/gd/config.m4.orig	Sat Jan 25 18:05:54 2003
+++ ext/gd/config.m4	Sat Jan 25 18:06:32 2003
@@@@ -86,7 +86,7 @@@@ AC_DEFUN(PHP_GD_PNG,[
     
@


1.3
log
@update to php4-extensions-4.3.1
@
text
@d1 4
a4 5
$OpenBSD: patch-ext_gd_config_m4,v 1.2 2002/09/11 23:16:48 avsm Exp $
--- ext/gd/config.m4.orig	Wed Apr 24 00:18:06 2002
+++ ext/gd/config.m4	Sun Sep  8 00:28:41 2002
@@@@ -135,6 +135,8 @@@@ AC_DEFUN(PHP_GD_FREETYPE2,[
     done
d6 7
a12 39
     if test -n "$FREETYPE2_DIR" ; then
+      PHP_ADD_LIBRARY_WITH_PATH(Xfont, $FREETYPE2_DIR/lib, GD_SHARED_LIBADD)
+      PHP_ADD_LIBRARY_WITH_PATH(fntstubs, $FREETYPE2_DIR/lib, GD_SHARED_LIBADD)
       PHP_ADD_LIBRARY_WITH_PATH(freetype, $FREETYPE2_DIR/lib, GD_SHARED_LIBADD)
       PHP_ADD_INCLUDE($FREETYPE2_INC_DIR)
       AC_DEFINE(USE_GD_IMGSTRTTF, 1, [ ])
@@@@ -209,6 +211,7 @@@@ PHP_ARG_WITH(gd, for GD support,
 [  --with-gd[=DIR]         Include GD support (DIR is GD's install dir).])
 
 if test "$PHP_GD" != "no"; then
+  remember_ext_shared=$ext_shared
 
   PHP_EXTENSION(gd, $ext_shared)
   PHP_SUBST(GD_SHARED_LIBADD)
@@@@ -239,6 +242,7 @@@@ dnl Various checks for GD features
     done
   done
 
+  ext_shared=$remember_ext_shared
   if test -n "$GD_INCLUDE" -a -n "$GD_LIB" ; then
     PHP_ADD_LIBRARY_WITH_PATH(gd, $GD_LIB, GD_SHARED_LIBADD)
     AC_DEFINE(HAVE_LIBGD,1,[ ])
@@@@ -246,16 +250,6 @@@@ dnl Various checks for GD features
   else
     AC_MSG_ERROR([Unable to find libgd.(a|so) anywhere under $GD_SEARCH_PATHS])
   fi 
-
-dnl NetBSD package structure
-  if test -f /usr/pkg/include/gd/gd.h -a -z "$GD_INCLUDE" ; then
-    GD_INCLUDE=/usr/pkg/include/gd
-  fi
-
-dnl SuSE 6.x package structure
-  if test -f /usr/include/gd/gd.h -a -z "$GD_INCLUDE" ; then
-    GD_INCLUDE=/usr/include/gd
-  fi
 
   PHP_EXPAND_PATH($GD_INCLUDE, GD_INCLUDE)
   PHP_ADD_INCLUDE($GD_INCLUDE)
@


1.2
log
@- update to php4-4.2.3
- include the domxml extension as a subpackage
- include some extra modules with PEAR which also disappeared
- only link against freetype1, not freetype2
@
text
@d1 1
a1 1
$OpenBSD: patch-ext_gd_config_m4,v 1.1.1.1 2002/06/24 19:27:48 avsm Exp $
@


1.1
log
@Initial revision
@
text
@d1 13
a13 4
$OpenBSD$
--- ext/gd/config.m4.orig	Wed Apr 24 01:18:06 2002
+++ ext/gd/config.m4	Wed Jun 19 12:39:19 2002
@@@@ -209,6 +209,7 @@@@ PHP_ARG_WITH(gd, for GD support,
d21 1
a21 1
@@@@ -239,6 +240,7 @@@@ dnl Various checks for GD features
d29 1
a29 1
@@@@ -246,16 +248,6 @@@@ dnl Various checks for GD features
@


1.1.1.1
log
@Import php4-4.2.1 extensions

This module generates a bunch of php4 extensions as shared modules,
and seperates them out into multiple packages.

End result is that you can pkg_add individual modules now without
getting into the mess of flavors that we've had in the past. 

Work by wilfried@@ and me,  espie@@ ok
@
text
@@
