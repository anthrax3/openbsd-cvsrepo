head	1.5;
access;
symbols
	OPENBSD_4_3:1.4.0.20
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.18
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.16
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.14
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.12
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.10
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.8
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.6
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_4:1.4.0.4
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_3:1.2.0.4
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.2
	OPENBSD_3_2_BASE:1.2
	avsm_2002-06-24:1.1.1.1
	avsm:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2008.05.27.07.07.29;	author jasper;	state dead;
branches;
next	1.4;

1.4
date	2004.01.05.17.02.33;	author avsm;	state Exp;
branches
	1.4.4.1;
next	1.3;

1.3
date	2003.04.03.10.27.22;	author avsm;	state dead;
branches;
next	1.2;

1.2
date	2002.07.09.18.14.17;	author avsm;	state Exp;
branches;
next	1.1;

1.1
date	2002.06.24.19.27.48;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.06.24.19.27.48;	author avsm;	state Exp;
branches;
next	;

1.4.4.1
date	2004.07.20.23.23.07;	author robert;	state Exp;
branches;
next	;


desc
@@


1.5
log
@it's a sunny day....and the right time to kill php4.

it has been unlinked from the builds for some monthts now, and everybody
should've upgraded to php5 a long time ago.

from brad@@, ok robert@@
@
text
@$OpenBSD: patch-ext_pdf_config_m4,v 1.4 2004/01/05 17:02:33 avsm Exp $
--- ext/pdf/config.m4.orig	2004-01-05 09:30:28.000000000 +0000
+++ ext/pdf/config.m4	2004-01-05 09:32:53.000000000 +0000
@@@@ -72,7 +72,7 @@@@ if test "$PHP_PDFLIB" != "no"; then
     ],[
       AC_MSG_ERROR([libtiff not found!])
     ],[
-      -L$PHP_TIFF_DIR/lib
+      -L$PHP_TIFF_DIR/lib -ljpeg -lz
     ])
   else
     AC_MSG_WARN([If configure fails, try --with-tiff-dir=<DIR>])
@


1.4
log
@fix build after recent tiff changes; prodded by naddy@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.4.4.1
log
@Update to 4.3.8:
SECURITY: PHP memory_limit remote vulnerability
http://security.e-matters.de/advisories/112004.html
It contains a lot of other fixes too, check the
changelog at http://www.php.net/ChangeLog-4.php#4.3.8 .

ok pvalchev@@
@
text
@d1 1
a1 1
$OpenBSD: patch-ext_pdf_config_m4,v 1.4 2004/01/05 17:02:33 avsm Exp $
@


1.3
log
@update to php4-extensions-4.3.1
@
text
@d1 12
a12 67
$OpenBSD: patch-ext_pdf_config_m4,v 1.2 2002/07/09 18:14:17 avsm Exp $
--- ext/pdf/config.m4.orig	Mon Dec  3 23:54:09 2001
+++ ext/pdf/config.m4	Mon Jul  8 21:17:07 2002
@@@@ -5,9 +5,23 @@@@ dnl
 PHP_ARG_WITH(pdflib,for PDFlib support,
 [  --with-pdflib[=DIR]     Include PDFlib support.])
 
+pdflib_ext_shared=$ext_shared
+
+PHP_ARG_WITH(jpeg-dir, for the location of libjpeg,
+[  --with-jpeg-dir[=DIR]     PDFLIB: define libjpeg install directory.
+                                     (OPTIONAL for PDFlib v4)])
+
+PHP_ARG_WITH(png-dir, for the location of libpng,
+[  --with-png-dir[=DIR]      PDFLIB: define libpng install directory.
+                                     (OPTIONAL for PDFlib v4)])
+
+PHP_ARG_WITH(tiff-dir, for the location of libtiff,
+[  --with-tiff-dir[=DIR]     PDFLIB: define libtiff install directory.
+                                     (OPTIONAL for PDFlib v4)])
+
 if test "$PHP_PDFLIB" != "no"; then
 
-  PHP_EXTENSION(pdf, $ext_shared)
+  PHP_EXTENSION(pdf, $pdflib_ext_shared)
   PHP_SUBST(PDFLIB_SHARED_LIBADD)
 
   dnl #
@@@@ -16,9 +30,6 @@@@ if test "$PHP_PDFLIB" != "no"; then
 
   dnl # libjpeg
     
-  PHP_ARG_WITH(jpeg-dir, for the location of libjpeg, 
-  [  --with-jpeg-dir[=DIR]     PDFLIB: define libjpeg install directory. (OPTIONAL for PDFlib v4)])
-
   if test "$PHP_JPEG_DIR" != "no"; then
     PHP_CHECK_LIBRARY(jpeg,jpeg_read_header, 
     [
@@@@ -34,9 +45,6 @@@@ if test "$PHP_PDFLIB" != "no"; then
 
   dnl # libpng
 
-  PHP_ARG_WITH(png-dir, for the location of libpng, 
-  [  --with-png-dir[=DIR]      PDFLIB: define libpng install directory.  (OPTIONAL for PDFlib v4)])
- 
   if test "$PHP_PNG_DIR" != "no"; then
     PHP_CHECK_LIBRARY(png,png_create_info_struct, 
     [
@@@@ -52,9 +60,6 @@@@ if test "$PHP_PDFLIB" != "no"; then
 
   dnl # libtiff
 
-  PHP_ARG_WITH(tiff-dir, for the location of libtiff,
-  [  --with-tiff-dir[=DIR]     PDFLIB: define libtiff install directory. (OPTIONAL for PDFlib v4)])
-
   if test "$PHP_TIFF_DIR" != "no"; then
     PHP_CHECK_LIBRARY(tiff,TIFFOpen, 
     [
@@@@ -111,7 +116,7 @@@@ Use the options --with-tiff-dir=<DIR>, -
 See config.log for more information.
 ])
         ],[
-          -L$PHP_PDFLIB/lib
+          -L$PHP_PDFLIB/lib $PDFLIB_SHARED_LIBADD
         ])
       else
         AC_MSG_ERROR([pdflib.h not found! Check the path passed to --with-pdflib=<PATH>. PATH should be the install prefix directory.])
@


1.2
log
@now all the subpackages load successfully into macppc as well without
any library errors
@
text
@d1 1
a1 1
$OpenBSD: patch-ext_pdf_config_m4,v 1.1.1.1 2002/06/24 19:27:48 avsm Exp $
@


1.1
log
@Initial revision
@
text
@d1 4
a4 5
$OpenBSD$
--- ext/pdf/config.m4.orig	Tue Dec  4 00:54:09 2001
+++ ext/pdf/config.m4	Wed Jun 19 13:22:18 2002
@@@@ -4,6 +4,7 @@@@ dnl
 
a6 1
+remember_ext_shared=$ext_shared
d8 14
d24 4
a27 2
@@@@ -83,6 +84,7 @@@@ if test "$PHP_PDFLIB" != "no"; then
   dnl # The main PDFlib configure
d29 1
d31 37
a67 9
+  ext_shared=$remember_ext_shared
   case $PHP_PDFLIB in
     yes)
       AC_CHECK_LIB(pdf, PDF_show_boxed, [
@@@@ -119,3 +121,4 @@@@ See config.log for more information.
     ;;
   esac
 fi
+
@


1.1.1.1
log
@Import php4-4.2.1 extensions

This module generates a bunch of php4 extensions as shared modules,
and seperates them out into multiple packages.

End result is that you can pkg_add individual modules now without
getting into the mess of flavors that we've had in the past. 

Work by wilfried@@ and me,  espie@@ ok
@
text
@@
