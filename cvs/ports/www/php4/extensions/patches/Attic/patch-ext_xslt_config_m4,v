head	1.4;
access;
symbols
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_3:1.1.1.1.0.4
	OPENBSD_3_3_BASE:1.1.1.1
	OPENBSD_3_2:1.1.1.1.0.2
	OPENBSD_3_2_BASE:1.1.1.1
	avsm_2002-06-24:1.1.1.1
	avsm:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2004.04.17.11.26.59;	author avsm;	state dead;
branches;
next	1.3;

1.3
date	2004.01.06.02.00.08;	author espie;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2003.04.03.10.27.22;	author avsm;	state dead;
branches;
next	1.1;

1.1
date	2002.06.24.19.27.48;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.06.24.19.27.48;	author avsm;	state Exp;
branches;
next	;

1.3.2.1
date	2004.07.17.00.36.33;	author robert;	state dead;
branches;
next	;


desc
@@


1.4
log
@update to php-4.3.6
@
text
@$OpenBSD: patch-ext_xslt_config_m4,v 1.3 2004/01/06 02:00:08 espie Exp $
--- ext/xslt/config.m4.orig	2003-10-03 07:25:43.000000000 +0200
+++ ext/xslt/config.m4	2004-01-06 02:45:17.000000000 +0100
@@@@ -67,7 +67,7 @@@@ if test "$PHP_XSLT" != "no"; then
        SABINF_CFLAGS=`$XSLT_DIR/bin/sablot-config --cflags`
        SABINF_LIBS=`$XSLT_DIR/bin/sablot-config --libs`
        SABINF_PREFIX=`$XSLT_DIR/bin/sablot-config --prefix`
-       SABINF_ALL="\"Cflags: $SABINF_CFLAGS\nLibs: $SABINF_LIBS\nPrefix: $SABINF_PREFIX\""
+       SABINF_ALL="\"Cflags: $SABINF_CFLAGS\\\nLibs: $SABINF_LIBS\\\nPrefix: $SABINF_PREFIX\""
        PHP_DEFINE(SAB_INFO, "$SABINF_ALL")
     else
        AC_MSG_RESULT(not found)
@


1.3
log
@zap multiline constant, now that the tiff issue has been fixed.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.3.2.1
log
@Update to 4.3.8:
SECURITY: PHP memory_limit remote vulnerability
http://security.e-matters.de/advisories/112004.html
It contains a lot of other fixes too, check the
changelog at http://www.php.net/ChangeLog-4.php#4.3.8 .

Tested by many; ok brad@@
@
text
@d1 1
a1 1
$OpenBSD: patch-ext_xslt_config_m4,v 1.3 2004/01/06 02:00:08 espie Exp $
@


1.2
log
@update to php4-extensions-4.3.1
@
text
@d1 12
a12 57
$OpenBSD: patch-ext_xslt_config_m4,v 1.1 2002/06/24 19:27:48 avsm Exp $
--- ext/xslt/config.m4.orig	Thu May  2 12:24:03 2002
+++ ext/xslt/config.m4	Wed Jun 19 13:14:45 2002
@@@@ -8,21 +8,16 @@@@ dnl +-----------------------------------
 
 PHP_ARG_ENABLE(xslt, whether to enable xslt support,
 [  --enable-xslt           Enable xslt support.])
-
-PHP_ARG_WITH(xslt-sablot, for XSLT Sablotron backend,
-[  --with-xslt-sablot=DIR    XSLT: Enable the sablotron backend.])
-
-PHP_ARG_WITH(expat-dir, libexpat dir for Sablotron XSL support,
-[  --with-expat-dir=DIR      XSLT: libexpat dir for Sablotron])
-
-PHP_ARG_WITH(sablot-js, enable JavaScript for Sablotron,
-[  --with-sablot-js=DIR    Sablotron: enable JavaScript support for Sablotron])
+remember_xslt_ext_shared=$ext_shared
 
 if test "$PHP_XSLT" != "no"; then
 
   PHP_EXTENSION(xslt, $ext_shared)
   PHP_SUBST(XSLT_SHARED_LIBADD)
 
+  PHP_ARG_WITH(xslt-sablot, for XSLT Sablotron backend,
+  [  --with-xslt-sablot=DIR    XSLT: Enable the sablotron backend.])
+
   if test "$PHP_XSLT_SABLOT" != "no"; then
     XSLT_CHECK_DIR=$PHP_XSLT_SABLOT
     XSLT_TEST_FILE=/include/sablot.h
@@@@ -54,6 +49,9 @@@@ if test "$PHP_XSLT" != "no"; then
   fi
 					
   if test "$PHP_XSLT_SABLOT" != "no"; then
+    PHP_ARG_WITH(expat-dir, libexpat dir for Sablotron XSL support,
+    [  --with-expat-dir=DIR      XSLT: libexpat dir for Sablotron])
+
     found_expat=no
     for i in $PHP_EXPAT_DIR $XSLT_DIR /usr/local /usr; do
       if test -f $i/lib/libexpat.a -o -f $i/lib/libexpat.$SHLIB_SUFFIX_NAME; then
@@@@ -76,6 +74,9 @@@@ if test "$PHP_XSLT" != "no"; then
     PHP_SETUP_ICONV(XSLT_SHARED_LIBADD, [], [
       AC_MSG_ERROR([iconv not found, in order to build sablotron you need the iconv library])
     ])
+
+    PHP_ARG_WITH(sablot-js, enable JavaScript for Sablotron,
+    [  --with-sablot-js=DIR    Sablotron: enable JavaScript support for Sablotron])
  
     if test "$PHP_SABLOT_JS" != "no"; then
       found_js=no
@@@@ -94,6 +95,7 @@@@ if test "$PHP_XSLT" != "no"; then
     fi
   fi
 
+  ext_shared=$remember_xslt_ext_shared
   PHP_ADD_INCLUDE($XSLT_DIR/include)
   PHP_ADD_LIBRARY_WITH_PATH($XSLT_LIBNAME, $XSLT_DIR/lib, XSLT_SHARED_LIBADD)
 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Import php4-4.2.1 extensions

This module generates a bunch of php4 extensions as shared modules,
and seperates them out into multiple packages.

End result is that you can pkg_add individual modules now without
getting into the mess of flavors that we've had in the past. 

Work by wilfried@@ and me,  espie@@ ok
@
text
@@
