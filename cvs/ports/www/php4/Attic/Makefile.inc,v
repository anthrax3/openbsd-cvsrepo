head	1.35;
access;
symbols
	OPENBSD_4_3:1.34.0.2
	OPENBSD_4_3_BASE:1.34
	OPENBSD_4_2:1.33.0.6
	OPENBSD_4_2_BASE:1.33
	OPENBSD_4_1:1.33.0.4
	OPENBSD_4_1_BASE:1.33
	OPENBSD_4_0:1.33.0.2
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.32.0.2
	OPENBSD_3_9_BASE:1.32
	OPENBSD_3_8:1.31.0.2
	OPENBSD_3_8_BASE:1.31
	OPENBSD_3_7:1.29.0.2
	OPENBSD_3_7_BASE:1.29
	OPENBSD_3_6:1.25.0.2
	OPENBSD_3_6_BASE:1.25
	OPENBSD_3_5:1.18.0.2
	OPENBSD_3_5_BASE:1.18
	OPENBSD_3_4:1.15.0.2
	OPENBSD_3_4_BASE:1.15
	OPENBSD_3_3:1.8.0.2
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.7.0.2
	OPENBSD_3_2_BASE:1.7;
locks; strict;
comment	@# @;


1.35
date	2008.05.27.07.07.28;	author jasper;	state dead;
branches;
next	1.34;

1.34
date	2008.01.28.15.40.35;	author robert;	state Exp;
branches;
next	1.33;

1.33
date	2006.07.18.21.22.56;	author alek;	state Exp;
branches;
next	1.32;

1.32
date	2005.11.01.11.09.31;	author mbalmer;	state Exp;
branches;
next	1.31;

1.31
date	2005.07.12.15.49.27;	author robert;	state Exp;
branches
	1.31.2.1;
next	1.30;

1.30
date	2005.04.04.21.11.41;	author robert;	state Exp;
branches;
next	1.29;

1.29
date	2005.02.06.13.10.38;	author wilfried;	state Exp;
branches
	1.29.2.1;
next	1.28;

1.28
date	2004.12.20.21.06.22;	author robert;	state Exp;
branches;
next	1.27;

1.27
date	2004.12.18.14.15.55;	author robert;	state Exp;
branches;
next	1.26;

1.26
date	2004.09.25.11.17.46;	author robert;	state Exp;
branches;
next	1.25;

1.25
date	2004.07.15.00.49.46;	author robert;	state Exp;
branches
	1.25.2.1;
next	1.24;

1.24
date	2004.06.08.17.54.21;	author robert;	state Exp;
branches;
next	1.23;

1.23
date	2004.06.08.15.59.54;	author robert;	state Exp;
branches;
next	1.22;

1.22
date	2004.06.06.18.25.35;	author avsm;	state Exp;
branches;
next	1.21;

1.21
date	2004.06.06.18.09.22;	author avsm;	state Exp;
branches;
next	1.20;

1.20
date	2004.04.17.11.26.59;	author avsm;	state Exp;
branches;
next	1.19;

1.19
date	2004.04.08.12.38.59;	author avsm;	state Exp;
branches;
next	1.18;

1.18
date	2004.02.29.00.08.07;	author avsm;	state Exp;
branches
	1.18.2.1;
next	1.17;

1.17
date	2004.02.25.19.56.36;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2003.11.15.18.11.35;	author avsm;	state Exp;
branches;
next	1.15;

1.15
date	2003.08.28.22.30.38;	author avsm;	state Exp;
branches
	1.15.2.1;
next	1.14;

1.14
date	2003.05.28.19.29.14;	author avsm;	state Exp;
branches;
next	1.13;

1.13
date	2003.05.23.20.08.33;	author avsm;	state Exp;
branches;
next	1.12;

1.12
date	2003.05.22.14.16.23;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2003.05.02.19.54.22;	author avsm;	state Exp;
branches;
next	1.10;

1.10
date	2003.04.30.19.15.57;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2003.04.03.10.25.23;	author avsm;	state Exp;
branches;
next	1.8;

1.8
date	2002.10.29.01.42.41;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2002.09.11.23.16.48;	author avsm;	state Exp;
branches;
next	1.6;

1.6
date	2002.08.20.02.56.48;	author avsm;	state Exp;
branches;
next	1.5;

1.5
date	2002.07.24.14.49.03;	author avsm;	state Exp;
branches;
next	1.4;

1.4
date	2002.07.22.16.47.33;	author avsm;	state Exp;
branches;
next	1.3;

1.3
date	2002.07.12.10.13.56;	author avsm;	state Exp;
branches;
next	1.2;

1.2
date	2002.06.24.19.36.07;	author avsm;	state Exp;
branches;
next	1.1;

1.1
date	2002.06.24.19.17.49;	author avsm;	state Exp;
branches;
next	;

1.15.2.1
date	2004.07.20.23.23.06;	author robert;	state Exp;
branches;
next	;

1.18.2.1
date	2004.07.17.00.36.33;	author robert;	state Exp;
branches;
next	1.18.2.2;

1.18.2.2
date	2004.07.17.00.52.33;	author robert;	state Exp;
branches;
next	1.18.2.3;

1.18.2.3
date	2004.12.22.17.26.56;	author robert;	state Exp;
branches;
next	1.18.2.4;

1.18.2.4
date	2005.04.20.12.28.40;	author robert;	state Exp;
branches;
next	;

1.25.2.1
date	2004.12.22.17.19.14;	author robert;	state Exp;
branches;
next	1.25.2.2;

1.25.2.2
date	2005.04.20.12.23.45;	author robert;	state Exp;
branches;
next	1.25.2.3;

1.25.2.3
date	2005.07.23.13.37.20;	author robert;	state Exp;
branches;
next	;

1.29.2.1
date	2005.05.23.20.21.31;	author robert;	state Exp;
branches;
next	1.29.2.2;

1.29.2.2
date	2005.07.14.21.36.10;	author robert;	state Exp;
branches;
next	1.29.2.3;

1.29.2.3
date	2005.11.03.09.24.50;	author sturm;	state Exp;
branches;
next	;

1.31.2.1
date	2005.11.03.09.26.14;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.35
log
@it's a sunny day....and the right time to kill php4.

it has been unlinked from the builds for some monthts now, and everybody
should've upgraded to php5 a long time ago.

from brad@@, ok robert@@
@
text
@# $OpenBSD: Makefile.inc,v 1.34 2008/01/28 15:40:35 robert Exp $

# !!! Support for PHP 4 has been discontinued since 2007-12-31,
# !!! and no more security fixes are going to be released after 2008-08-08.
# !!! Consider upgrading to php5!

# This port currently only works with archs supporting dynamic loading
# and has Apache that supports DSO's.
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}

V=		4.4.1
DISTNAME=	php-${V}
CATEGORIES=	www lang

MAINTAINER=	Robert Nagy <robert@@openbsd.org>
HOMEPAGE=	http://www.php.net/

MASTER_SITES=	http://us2.php.net/distributions/ \
		http://se.php.net/distributions/ \
		http://no.php.net/distributions/ \
		http://uk.php.net/distributions/

# UPGRADERS: please read BOTH the PHP and Zend licenses
# and make sure they are safe before an upgrade

PERMIT_PACKAGE_CDROM=   Yes
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes

PHP_CONFIG_PATH=	/var/www/conf
PHP_CONFIG_FILE=	${PHP_CONFIG_PATH}/php.ini

# where the main php4 module is stored (outside the chroot)
APACHE_MODULE_SUBDIR=	lib/php
APACHE_MODULE_DIR=	${LOCALBASE}/${APACHE_MODULE_SUBDIR}

# where the PEAR and extension modules are (inside the chroot)
CHROOT_DIR?=		/var/www
PEAR_DIR?=		${CHROOT_DIR}/pear
MODULES_SUBDIR=		lib/php/modules
MODULES_DIR=		${CHROOT_DIR}/${MODULES_SUBDIR}

.if ${USE_GCC3:L:Myes}
PHP_LDFLAGS=		-lstdc++ -lm
.endif

CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.52
CONFIGURE_ENV=          CFLAGS="${CFLAGS} -I${LOCALBASE}/include -pthread" \
                        LDFLAGS="-L${LOCALBASE}/lib ${PHP_LDFLAGS}" \
			EXTENSION_DIR=${MODULES_DIR}
MAKE_ENV=               ${CONFIGURE_ENV}

CONFIGURE_ARGS+=	--enable-shared \
			--disable-static \
			--disable-rpath \
			--with-config-file-path=${PHP_CONFIG_PATH} \
			--enable-inline-optimization \
			--with-pic

# default included extensions
CONFIGURE_ARGS+= 	--with-openssl \
			--with-zlib

REGRESS_TARGET=		test
REGRESS_FLAGS=		NO_INTERACTION=1

CHECKSUM_FILE=		${.CURDIR}/../distinfo
PATCH_LIST=		${.CURDIR}/../patches/patch-* \
			patch-*
@


1.34
log
@unlink php4 from the package builds because it's not going to be supported
in a couple of months and people should use php5 in any conditions.

it's going to stay in the tree for a little more time with a comment about
the reasons, just to help people upgrading to php5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.33 2006/07/18 21:22:56 alek Exp $
@


1.33
log
@Make it work after recent iodbc changes
@
text
@d1 5
a5 1
# $OpenBSD: Makefile.inc,v 1.32 2005/11/01 11:09:31 mbalmer Exp $
@


1.32
log
@Update to PHP4 version 4.4.1.

The complete changelog is available at http://www.php.net/ChangeLog-4.php#4.4.1

SECURITY: This version fixes a vulnerability described in detail
at http://www.hardened-php.net/advisory_202005.79.html and
http://www.hardened-php.net/index.76.html

ok robert@@, bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.31 2005/07/12 15:49:27 robert Exp $
d46 1
a46 1
CONFIGURE_ENV=          CFLAGS="${CFLAGS} -I${LOCALBASE}/include" \
@


1.31
log
@upgrade to 4.4.0;

This release also includes PEAR XML-RPC version 1.3.1 which
fixes a security vulnerability.
For more information, please visit:
http://www.vuxml.org/openbsd/b9d96cbe-f2d2-11d9-82d5-00065bd5b0b6.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.30 2005/04/04 21:11:41 robert Exp $
d7 1
a7 1
V=		4.4.0
@


1.31.2.1
log
@MFC:
Update to PHP4 version 4.4.1.

The complete changelog is available at http://www.php.net/ChangeLog-4.php#4.4.1

SECURITY: This version fixes a vulnerability described in detail
at http://www.hardened-php.net/advisory_202005.79.html and
http://www.hardened-php.net/index.76.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.31 2005/07/12 15:49:27 robert Exp $
d7 1
a7 1
V=		4.4.1
@


1.30
log
@update to 4.3.11;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.29 2005/02/06 13:10:38 wilfried Exp $
d7 1
a7 1
V=		4.3.11
@


1.29
log
@kill whitespace at eol, ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.28 2004/12/20 21:06:22 robert Exp $
d7 1
a7 1
V=		4.3.10
@


1.29.2.1
log
@SECURITY: update to 4.3.11
fixes multiple vulnerabilities
http://www.vuxml.org/openbsd/c6f452e8-b00a-11d9-825c-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.29 2005/02/06 13:10:38 wilfried Exp $
d7 1
a7 1
V=		4.3.11
@


1.29.2.2
log
@upgrade to 4.4.0;

This release also includes PEAR XML-RPC version 1.3.1 which
fixes a security vulnerability.
For more information, please visit:
http://www.vuxml.org/openbsd/b9d96cbe-f2d2-11d9-82d5-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.29.2.1 2005/05/23 20:21:31 robert Exp $
d7 1
a7 1
V=		4.4.0
@


1.29.2.3
log
@MFC:
Update to PHP4 version 4.4.1.

The complete changelog is available at http://www.php.net/ChangeLog-4.php#4.4.1

SECURITY: This version fixes a vulnerability described in detail
at http://www.hardened-php.net/advisory_202005.79.html and
http://www.hardened-php.net/index.76.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.29.2.2 2005/07/14 21:36:10 robert Exp $
d7 1
a7 1
V=		4.4.1
@


1.28
log
@use ${.CURDIR} for PATCH_LIST and CHECKSUM_FILE; idea from jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.27 2004/12/18 14:15:55 robert Exp $
d48 1
a48 1
			EXTENSION_DIR=${MODULES_DIR} 
d60 1
a60 1
			--with-zlib 
@


1.27
log
@SECURITY:
update to 4.3.10; fixes several vulnerabilites;
move to a central checksum file;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.26 2004/09/25 11:17:46 robert Exp $
d65 2
a66 2
CHECKSUM_FILE?=		${PORTSDIR}/www/php4/distinfo
PATCH_LIST=		${PORTSDIR}/www/php4/patches/patch-* \
@


1.26
log
@upgrade to 4.3.9;
This release also re-introduces ability to write GIF images
via the bundled GD extension.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25 2004/07/15 00:49:46 robert Exp $
d7 1
a7 1
V=		4.3.9
d65 1
@


1.25
log
@Update to 4.3.8:
SECURITY: PHP memory_limit remote vulnerability
http://security.e-matters.de/advisories/112004.html

Add Type 1 support for the gd extension,
from Aleksander Piotrowski <Aleksander.Piotrowski@@nic.com.pl>;

move to @@dir
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.24 2004/06/08 17:54:21 robert Exp $
d7 1
a7 1
V=		4.3.8
@


1.25.2.1
log
@SECURITY:
update to 4.3.10;
http://www.vuxml.org/openbsd/86ec9d8c-50ff-11d9-87a4-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25 2004/07/15 00:49:46 robert Exp $
d7 1
a7 1
V=		4.3.10
@


1.25.2.2
log
@SECURITY:
update to version 4.3.11; fixes multiple vulnerabilities
http://www.vuxml.org/openbsd/c6f452e8-b00a-11d9-825c-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25.2.1 2004/12/22 17:19:14 robert Exp $
d7 1
a7 1
V=		4.3.11
@


1.25.2.3
log
@upgrade to 4.4.0;

This release also includes PEAR XML-RPC version 1.3.1 which
fixes a security vulnerability.
For more information, please visit:
http://www.vuxml.org/openbsd/b9d96cbe-f2d2-11d9-82d5-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25.2.2 2005/04/20 12:23:45 robert Exp $
d7 1
a7 1
V=		4.4.0
@


1.24
log
@Replace defined(USE_GCC3) with ${USE_GCC3:L:Myes}

from avsm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.23 2004/06/08 15:59:54 robert Exp $
d7 1
a7 1
V=		4.3.7
@


1.23
log
@take over maintainance; remove some unnecessary line;
remove iconv from MODULES because gettext includes it

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.22 2004/06/06 18:25:35 avsm Exp $
d40 1
a40 1
.if defined(USE_GCC3)
@


1.22
log
@drop maintainer, jolan might pick this up
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.21 2004/06/06 18:09:22 avsm Exp $
d11 1
a41 2
.else
PHP_LDFLAGS=		# nothing for now
@


1.21
log
@update to php4-4.3.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.20 2004/04/17 11:26:59 avsm Exp $
a10 1
MAINTAINER=     Anil Madhavapeddy <avsm@@openbsd.org>
@


1.20
log
@update to php-4.3.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.19 2004/04/08 12:38:59 avsm Exp $
d7 1
a7 1
V=		4.3.6
@


1.19
log
@update to php4-4.3.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.18 2004/02/29 00:08:07 avsm Exp $
d7 1
a7 1
V=		4.3.5
@


1.18
log
@Update to php4-4.3.5RC3 (final RC), fixes some 64-bit bugs conveniently in
time for amd64 to work.  Also some gcc3 fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.17 2004/02/25 19:56:36 naddy Exp $
d7 1
a7 1
V=		4.3.5RC3
d14 1
a14 2
MASTER_SITES=	http://downloads.php.net/ilia/ \
		http://us2.php.net/distributions/ \
@


1.18.2.1
log
@Update to 4.3.8:
SECURITY: PHP memory_limit remote vulnerability
http://security.e-matters.de/advisories/112004.html
It contains a lot of other fixes too, check the
changelog at http://www.php.net/ChangeLog-4.php#4.3.8 .

Tested by many; ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.18 2004/02/29 00:08:07 avsm Exp $
d7 1
a7 1
V=		4.3.8
d11 1
a11 1
MAINTAINER=     Robert Nagy <robert@@openbsd.org>
d14 2
a15 1
MASTER_SITES=	http://us2.php.net/distributions/ \
@


1.18.2.2
log
@Ok second try commiting the php fix. I love cvs.

ok brad@@
@
text
@@


1.18.2.3
log
@SECURITY:
update to 4.3.10;
http://www.vuxml.org/openbsd/86ec9d8c-50ff-11d9-87a4-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.18.2.2 2004/07/17 00:52:33 robert Exp $
d7 1
a7 1
V=		4.3.10
@


1.18.2.4
log
@SECURITY:
update to version 4.3.11; fixes multiple vulnerabilities
http://www.vuxml.org/openbsd/c6f452e8-b00a-11d9-825c-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.18.2.3 2004/12/22 17:26:56 robert Exp $
d7 1
a7 1
V=		4.3.11
@


1.17
log
@remove workaround for gcc2.95/sparc64 compiler bug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.16 2003/11/15 18:11:35 avsm Exp $
d7 1
a7 1
V=		4.3.4
d14 2
a15 1
MASTER_SITES=	http://us2.php.net/distributions/ \
d41 6
d50 1
a50 1
                        LDFLAGS="-L${LOCALBASE}/lib" \
@


1.16
log
@update to php4-4.3.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.15 2003/08/28 22:30:38 avsm Exp $
a56 7

.if ${MACHINE_ARCH} == "sparc64"
post-configure:
	@@cp ${WRKBUILD}/Makefile ${WRKBUILD}/Makefile.bak
	@@sed '/^ext\/standard\/sha1.lo/{n;s/ -c / -O0 -c /;}' \
		${WRKBUILD}/Makefile.bak >${WRKBUILD}/Makefile
.endif
@


1.15
log
@Update to php-4.3.3; tested by many on ports@@, thanks folks!
naddy@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.14 2003/05/28 19:29:14 avsm Exp $
d7 1
a7 1
V=		4.3.3
@


1.15.2.1
log
@Update to 4.3.8:
SECURITY: PHP memory_limit remote vulnerability
http://security.e-matters.de/advisories/112004.html
It contains a lot of other fixes too, check the
changelog at http://www.php.net/ChangeLog-4.php#4.3.8 .

ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.18.2.2 2004/07/17 00:52:33 robert Exp $
d7 1
a7 1
V=		4.3.8
d11 1
a11 1
MAINTAINER=     Robert Nagy <robert@@openbsd.org>
a39 6
.if defined(USE_GCC3)
PHP_LDFLAGS=		-lstdc++ -lm
.else
PHP_LDFLAGS=		# nothing for now
.endif

d43 1
a43 1
                        LDFLAGS="-L${LOCALBASE}/lib ${PHP_LDFLAGS}" \
@


1.14
log
@update to php4-4.3.2; pretty much the same as the final RC
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.13 2003/05/23 20:08:33 avsm Exp $
d7 1
a7 1
V=		4.3.2
d14 1
a14 1
MASTER_SITES=	http://www.php.net/distributions/ \
@


1.13
log
@update to php4-4.3.2RC4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.12 2003/05/22 14:16:23 naddy Exp $
d7 1
a7 1
V=		4.3.2RC4
d14 1
a14 2
MASTER_SITES=	http://downloads.php.net/jani/ \
		http://www.php.net/distributions/ \
@


1.12
log
@Use NO_SHARED_ARCHS rather than hardcoding the list of architectures that
support dynamic loading.  From Xavier Santolaria <xavier@@santolaria.net>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.11 2003/05/02 19:54:22 avsm Exp $
d7 1
a7 1
V=		4.3.1
d14 2
a15 1
MASTER_SITES=	http://www.php.net/distributions/ \
d42 1
@


1.11
log
@missed this; new chroot-friendly layout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.10 2003/04/30 19:15:57 naddy Exp $
d5 1
a5 1
ONLY_FOR_ARCHS=	alpha i386 m68k powerpc sparc sparc64
@


1.10
log
@work around gcc 2.95 compiler bug on sparc64; ok avsm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.9 2003/04/03 10:25:23 avsm Exp $
a8 1

a11 1

d30 7
d38 1
a38 2
MODULES_DIR=		${LOCALBASE}/${MODULES_SUBDIR}
PEAR_DIR=		${LOCALBASE}/lib/php
d66 3
@


1.9
log
@upgrade to php4-4.3.1 ; now the regress suite works as well
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.8 2002/10/29 01:42:41 naddy Exp $
d52 7
@


1.8
log
@There is a regression test suite, but I don't know how to best run
them within the framework of this port, so temporarily disable the
tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.7 2002/09/11 23:16:48 avsm Exp $
d7 1
a7 1
V=		4.2.3
d34 1
d53 2
a54 2
# XXX  How to run the test suite?
NO_REGRESS=		Yes
@


1.7
log
@- update to php4-4.2.3
- include the domxml extension as a subpackage
- include some extra modules with PEAR which also disappeared
- only link against freetype1, not freetype2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.6 2002/08/20 02:56:48 avsm Exp $
d51 3
@


1.6
log
@cvs missed out this file in my last commit.

spotted by jcs@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.5 2002/07/24 14:49:03 avsm Exp $
d7 1
a7 1
V=		4.2.2
@


1.5
log
@warn upgraders to read both php and zend licenses before upgrading
the port
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.4 2002/07/22 16:47:33 avsm Exp $
d29 3
a31 1
PHP_CONFIG_FILE=	/var/www/conf
d44 1
a44 1
			--with-config-file-path=${PHP_CONFIG_FILE} \
a50 2

USE_LIBTOOL=	Yes
@


1.4
log
@upgrade to php-4.2.2, from brad@@

closes a security hole: http://www.php.net/release_4_2_2.php
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.3 2002/07/12 10:13:56 avsm Exp $
d20 3
@


1.3
log
@- move bundled extensions to core/ to save build time
- MACHINE_ARCH is predefined; jcs@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.2 2002/06/24 19:36:07 avsm Exp $
d7 1
a7 1
V=		4.2.1
a10 1
NEED_VERSION=	1.502
d44 1
a44 2
CONFIGURE_ARGS+= \
			--with-openssl \
@


1.2
log
@remove the --with-pear here - not needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.1 2002/06/24 19:17:49 avsm Exp $
d47 1
a47 12
			--with-zlib \
			--enable-bcmath \
			--enable-calendar \
			--enable-ctype \
			--enable-ftp \
			--with-pcre-regex \
			--with-posix \
			--enable-session --enable-trans-sid \
			--enable-sockets \
			--enable-sysvsem \
			--enable-sysvshm \
			--enable-yp
@


1.1
log
@delete the existing php4 port in preparation for the new, hopefully
improved one.
@
text
@d1 1
a1 1
# $OpenBSD$
a40 1
			--with-pear \
@

