head	1.3;
access;
symbols
	OPENBSD_4_3:1.2.0.20
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.18
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.16
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.14
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.12
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.10
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.8
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.6
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.4
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2008.05.27.07.07.28;	author jasper;	state dead;
branches;
next	1.2;

1.2
date	2003.08.28.22.30.38;	author avsm;	state Exp;
branches;
next	1.1;

1.1
date	2003.05.23.20.06.22;	author avsm;	state Exp;
branches;
next	;


desc
@@


1.3
log
@it's a sunny day....and the right time to kill php4.

it has been unlinked from the builds for some monthts now, and everybody
should've upgraded to php5 a long time ago.

from brad@@, ok robert@@
@
text
@$OpenBSD: patch-pear_PEAR_Config_php,v 1.2 2003/08/28 22:30:38 avsm Exp $
--- pear/PEAR/Config.php.orig	2003-08-14 13:12:51.000000000 -0700
+++ pear/PEAR/Config.php	2003-08-25 19:17:56.000000000 -0700
@@@@ -66,12 +66,7 @@@@ if (getenv('PHP_PEAR_HTTP_PROXY')) {
 if (getenv('PHP_PEAR_INSTALL_DIR')) {
     define('PEAR_CONFIG_DEFAULT_PHP_DIR', getenv('PHP_PEAR_INSTALL_DIR'));
 } else {
-    if (@@is_dir($PEAR_INSTALL_DIR)) {
-        define('PEAR_CONFIG_DEFAULT_PHP_DIR',
-               $PEAR_INSTALL_DIR);
-    } else {
-        define('PEAR_CONFIG_DEFAULT_PHP_DIR', $PEAR_INSTALL_DIR);
-    }
+    define('PEAR_CONFIG_DEFAULT_PHP_DIR', OPENBSD_PEAR_ROOT.'/lib');
 }
 
 // Default for ext_dir
@@@@ -93,8 +88,7 @@@@ if (getenv('PHP_PEAR_EXTENSION_DIR')) {
 if (getenv('PHP_PEAR_DOC_DIR')) {
     define('PEAR_CONFIG_DEFAULT_DOC_DIR', getenv('PHP_PEAR_DOC_DIR'));
 } else {
-    define('PEAR_CONFIG_DEFAULT_DOC_DIR',
-           $PEAR_INSTALL_DIR.DIRECTORY_SEPARATOR.'docs');
+    define('PEAR_CONFIG_DEFAULT_DOC_DIR', OPENBSD_PEAR_ROOT.'/doc');
 }
 
 // Default for bin_dir
@@@@ -108,25 +102,21 @@@@ if (getenv('PHP_PEAR_BIN_DIR')) {
 if (getenv('PHP_PEAR_DATA_DIR')) {
     define('PEAR_CONFIG_DEFAULT_DATA_DIR', getenv('PHP_PEAR_DATA_DIR'));
 } else {
-    define('PEAR_CONFIG_DEFAULT_DATA_DIR',
-           $PEAR_INSTALL_DIR.DIRECTORY_SEPARATOR.'data');
+    define('PEAR_CONFIG_DEFAULT_DATA_DIR', OPENBSD_PEAR_ROOT.'/data');
 }
 
 // Default for test_dir
 if (getenv('PHP_PEAR_TEST_DIR')) {
     define('PEAR_CONFIG_DEFAULT_TEST_DIR', getenv('PHP_PEAR_TEST_DIR'));
 } else {
-    define('PEAR_CONFIG_DEFAULT_TEST_DIR',
-           $PEAR_INSTALL_DIR.DIRECTORY_SEPARATOR.'tests');
+    define('PEAR_CONFIG_DEFAULT_TEST_DIR', OPENBSD_PEAR_ROOT.'/tests');
 }
 
 // Default for cache_dir
 if (getenv('PHP_PEAR_CACHE_DIR')) {
     define('PEAR_CONFIG_DEFAULT_CACHE_DIR', getenv('PHP_PEAR_CACHE_DIR'));
 } else {
-    define('PEAR_CONFIG_DEFAULT_CACHE_DIR',
-           System::tmpdir() . DIRECTORY_SEPARATOR . 'pear' .
-           DIRECTORY_SEPARATOR . 'cache');
+    define('PEAR_CONFIG_DEFAULT_CACHE_DIR', OPENBSD_PEAR_ROOT.'/cache');
 }
 
 // Default for php_bin
@@@@ -176,9 +166,7 @@@@ if (getenv('PHP_PEAR_SIG_TYPE')) {
 if (getenv('PHP_PEAR_SIG_BIN')) {
     define('PEAR_CONFIG_DEFAULT_SIG_BIN', getenv('PHP_PEAR_SIG_BIN'));
 } else {
-    define('PEAR_CONFIG_DEFAULT_SIG_BIN',
-           System::which(
-               'gpg', OS_WINDOWS ? 'c:\gnupg\gpg.exe' : '/usr/local/bin/gpg'));
+    define('PEAR_CONFIG_DEFAULT_SIG_BIN', PHP_PREFIX . '/bin/gpg');
 }
 
 // Default for sig_keydir
@


1.2
log
@Update to php-4.3.3; tested by many on ports@@, thanks folks!
naddy@@ ok
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@upgrade to php4-4.3.2RC4.  this is the final release candidate for
4.3.2, and should be a hell of a lot more stable than 4.3.1, especially
on 64-bit architectures

this commit also merges the pear/ stuff into a subpackage of core;
its no longer necessary to have a separate directory just for the pear libs.
@
text
@d1 14
a14 10
$OpenBSD: patch-pear_PEAR_Config_php,v 1.2 2003/05/02 19:50:22 avsm Exp $
--- pear/PEAR/Config.php.orig	Sat Apr 12 00:48:38 2003
+++ pear/PEAR/Config.php	Fri May 23 19:35:12 2003
@@@@ -65,7 +65,7 @@@@ if (getenv('PHP_PEAR_INSTALL_DIR')) {
         define('PEAR_CONFIG_DEFAULT_PHP_DIR',
                PEAR_INSTALL_DIR.DIRECTORY_SEPARATOR.'lib');
     } else {
-        define('PEAR_CONFIG_DEFAULT_PHP_DIR', PEAR_INSTALL_DIR);
+        define('PEAR_CONFIG_DEFAULT_PHP_DIR', OPENBSD_PEAR_ROOT.'/lib');
     }
d17 3
a19 1
@@@@ -81,7 +81,7 @@@@ if (getenv('PHP_PEAR_DOC_DIR')) {
d22 3
a24 3
     define('PEAR_CONFIG_DEFAULT_DOC_DIR',
-           PEAR_INSTALL_DIR.DIRECTORY_SEPARATOR.'docs');
+           OPENBSD_PEAR_ROOT.'/doc');
d28 2
a29 1
@@@@ -96,7 +96,7 @@@@ if (getenv('PHP_PEAR_DATA_DIR')) {
d32 3
a34 3
     define('PEAR_CONFIG_DEFAULT_DATA_DIR',
-           PEAR_INSTALL_DIR.DIRECTORY_SEPARATOR.'data');
+           OPENBSD_PEAR_ROOT.'/data');
d38 1
a38 1
@@@@ -104,7 +104,7 @@@@ if (getenv('PHP_PEAR_TEST_DIR')) {
d41 3
a43 3
     define('PEAR_CONFIG_DEFAULT_TEST_DIR',
-           PEAR_INSTALL_DIR.DIRECTORY_SEPARATOR.'tests');
+           OPENBSD_PEAR_ROOT.'/tests');
d47 1
a47 1
@@@@ -112,8 +112,7 @@@@ if (getenv('PHP_PEAR_CACHE_DIR')) {
d50 1
a50 1
     define('PEAR_CONFIG_DEFAULT_CACHE_DIR',
d53 1
a53 1
+           OPENBSD_PEAR_ROOT.'/cache');
d57 2
a58 1
@@@@ -164,8 +163,7 @@@@ if (getenv('PHP_PEAR_SIG_BIN')) {
d61 1
a61 1
     define('PEAR_CONFIG_DEFAULT_SIG_BIN',
d64 1
a64 1
+            PHP_PREFIX . '/bin/gpg');
@

