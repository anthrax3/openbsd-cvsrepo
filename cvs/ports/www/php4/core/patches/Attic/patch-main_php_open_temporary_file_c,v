head	1.3;
access;
symbols
	OPENBSD_3_3:1.1.1.1.0.4
	OPENBSD_3_3_BASE:1.1.1.1
	OPENBSD_3_2:1.1.1.1.0.2
	OPENBSD_3_2_BASE:1.1.1.1
	avsm_2002-06-24:1.1.1.1
	avsm:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2003.05.02.19.49.01;	author avsm;	state dead;
branches;
next	1.2;

1.2
date	2003.04.03.10.26.25;	author avsm;	state Exp;
branches;
next	1.1;

1.1
date	2002.06.24.19.23.41;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.06.24.19.23.41;	author avsm;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Make php chroot-friendly by default; the default pear directory is
/var/www/pear and php modules go into /var/www/lib/php.

Everything else still lives outside the chroot

Also tidy up the pkg/INSTALL message while I'm here
@
text
@$OpenBSD: patch-main_php_open_temporary_file_c,v 1.2 2003/04/03 10:26:25 avsm Exp $
--- main/php_open_temporary_file.c.orig	Sun Jan 19 17:05:39 2003
+++ main/php_open_temporary_file.c	Sun Jan 19 17:05:52 2003
@@@@ -128,7 +128,7 @@@@ static FILE *php_do_open_temporary_file(
 		trailing_slash = "/";
 	}
 
-	(void)snprintf(opened_path, MAXPATHLEN, "%s%s%sXXXXXX", path, trailing_slash, pfx);
+	(void)snprintf(opened_path, MAXPATHLEN, "%s%s%sXXXXXXXXXX", path, trailing_slash, pfx);
 
 #ifdef PHP_WIN32
 	if (GetTempFileName(path, pfx, 0, opened_path)) {
@


1.2
log
@Update to php4-core-4.3.1
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD: patch-main_php_open_temporary_file_c,v 1.1 2001/05/10 22:58:34 avsm Exp $
--- main/php_open_temporary_file.c.orig	Thu May 10 19:32:30 2001
+++ main/php_open_temporary_file.c	Thu May 10 19:32:44 2001
@@@@ -110,7 +110,7 @@@@ static FILE *php_do_open_temporary_file(
@


1.1.1.1
log
@Import php4-core-4.2.1

Installs the barebones php4 with only the gettext, iconv and recode
modules compiled in.

All of the other modules have to be installed as shared modules on
top of this.

In addition to the Apache module, this package also includes a php
command-line binary which can be used in shell scripts.  The binary
uses the same /var/www/conf/php.ini file as the Apache module.

There is some non-i386 breakage at the moment (notably macppc).

Work by wilfried@@ and me.  espie@@ ok
@
text
@@
