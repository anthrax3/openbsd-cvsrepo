head	1.6;
access;
symbols
	OPENBSD_3_6:1.4.0.6
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.4.0.4
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.4.0.2
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.3.0.4
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	avsm_2002-06-24:1.1.1.1
	avsm:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2004.11.24.19.03.15;	author robert;	state dead;
branches;
next	1.5;

1.5
date	2004.11.18.16.36.18;	author robert;	state Exp;
branches;
next	1.4;

1.4
date	2003.05.02.19.49.01;	author avsm;	state Exp;
branches;
next	1.3;

1.3
date	2002.08.12.04.27.41;	author avsm;	state Exp;
branches;
next	1.2;

1.2
date	2002.06.26.21.32.56;	author avsm;	state Exp;
branches;
next	1.1;

1.1
date	2002.06.24.19.23.41;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.06.24.19.23.41;	author avsm;	state Exp;
branches;
next	;


desc
@@


1.6
log
@switch to MESSAGE and UNMESSAGE; fix the redefinition of socklen_t;
Put correct paths into php-config and phpize scripts;
bump PKGNAME
@
text
@#!/bin/sh
#
# $OpenBSD: INSTALL,v 1.5 2004/11/18 16:36:18 robert Exp $
#
# php4 installation

# exit on errors, use a sane path and install prefix
#
set -e
PATH=/bin:/usr/bin:/sbin:/usr/sbin
PREFIX=${PKG_PREFIX:-/usr/local}

do_notice()
{
    echo
    echo "+---------------"
    echo "| To finish the install, enable the php4 module with:"
    echo "|	$PREFIX/sbin/phpxs -s"
    echo "|"
    echo "| To enable parsing of PHP scripts, add the following to"
    echo "| /var/www/conf/httpd.conf:"
    echo "|"
    echo "|       AddType application/x-httpd-php .php"
    echo "|"
    echo "| Copy the config file below into ${PHP_CONFIG_FILE}"
    echo "| ${PREFIX}/share/examples/php4/php.ini-recommended"
    echo "|"
    echo "| Don't forget that the default OpenBSD httpd is chrooted"
    echo "| into /var/www by default, so you may need to create support"
    echo "| directories such as /var/www/tmp for PHP to work correctly."
    echo "+---------------"
    echo
}

# verify proper execution
#
if [ $# -ne 2 ]; then
    echo "usage: $0 distname { PRE-INSTALL | POST-INSTALL }" >&2
    exit 1
fi

# Verify/process the command
#
case $2 in
    PRE-INSTALL)
	: nothing to pre-install for this port
	;;
    POST-INSTALL)
	do_notice $1
	;;
    *)
	echo "usage: $0 distname { PRE-INSTALL | POST-INSTALL }" >&2
	exit 1
	;;
esac

exit 0
@


1.5
log
@Let's use ${LOCALBASE}/share/examples/php4/ for the example configuration
files. requested by f@@obiit.org
@
text
@d3 1
a3 1
# $OpenBSD: INSTALL,v 1.4 2003/05/02 19:49:01 avsm Exp $
@


1.4
log
@Make php chroot-friendly by default; the default pear directory is
/var/www/pear and php modules go into /var/www/lib/php.

Everything else still lives outside the chroot

Also tidy up the pkg/INSTALL message while I'm here
@
text
@d3 1
a3 1
# $OpenBSD: INSTALL,v 1.3 2002/08/12 04:27:41 avsm Exp $
d26 1
a26 1
    echo "| ${PREFIX}/share/doc/php4/php.ini-recommended"
@


1.3
log
@- remove dependency on external libtool
- ltmain patch no longer needed
- move the php.ini extension lines to the end of the file
- introduce a new 'phpxs' command which enables/disables
  modules from a shell without needing to manually edit php.ini
- libphp4.so now installs into the same module dir as the extensions
- php4-enable is now done by 'phpxs -s' so remove it

tested by wilfried@@, feedback from naddy@@
@
text
@d3 1
a3 1
# $OpenBSD: INSTALL,v 1.2 2002/06/26 21:32:56 avsm Exp $
d17 2
a18 2
    echo "| To finish the install, you need to enable the php4"
    echo "| module using the following command"
d20 1
a20 4
    echo "|       $PREFIX/sbin/phpxs -s"
    echo "|"
    echo "| To actually enable parsing of PHP scripts, you also"
    echo "| need to manually add the following to your "
d26 5
a30 1
    echo "| ${PREFIX}/share/doc/php4/php.ini-dist"
@


1.2
log
@fix tpyo, from <aleksander.piotrowski@@piestrak.waw.pl>
@
text
@d3 1
a3 1
# $OpenBSD: INSTALL,v 1.1.1.1 2002/06/24 19:23:41 avsm Exp $
d20 1
a20 1
    echo "|       $PREFIX/sbin/php4-enable"
d28 1
a28 1
    echo "| Copy the config file below into /var/www/conf/php.ini"
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
# $OpenBSD: INSTALL,v 1.5 2001/10/04 21:27:44 avsm Exp $
d28 1
a28 1
    echo "| Copy the config file below into /var/www/confsample/php.ini"
@


1.1.1.1
log
@Import php4-core-4.2.1

Installs the barebones php4 with only the gettext, iconv and recode
modules compiled in.

All of the other modules have to be installed as shared modules on
top of this.

In addition to the Apache module, this package also includes a php
command-line binary which can be used in shell scripts.  The binary
uses the same /var/www/conf/php.ini file as the Apache module.

There is some non-i386 breakage at the moment (notably macppc).

Work by wilfried@@ and me.  espie@@ ok
@
text
@@
