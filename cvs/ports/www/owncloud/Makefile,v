head	1.112;
access;
symbols
	OPENBSD_6_1:1.111.0.2
	OPENBSD_6_1_BASE:1.111
	OPENBSD_6_0:1.106.0.2
	OPENBSD_6_0_BASE:1.106
	OPENBSD_5_9:1.102.0.2
	OPENBSD_5_9_BASE:1.102
	OPENBSD_5_8:1.90.0.4
	OPENBSD_5_8_BASE:1.90
	OPENBSD_5_7:1.80.0.2
	OPENBSD_5_7_BASE:1.80
	OPENBSD_5_6:1.71.0.2
	OPENBSD_5_6_BASE:1.71
	OPENBSD_5_5:1.60.0.2
	OPENBSD_5_5_BASE:1.60
	OPENBSD_5_4:1.49.0.2
	OPENBSD_5_4_BASE:1.49
	OPENBSD_5_3:1.35.0.2
	OPENBSD_5_3_BASE:1.35
	OPENBSD_5_2:1.17.0.2
	OPENBSD_5_2_BASE:1.17
	ajacoutot_20120315:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.112
date	2017.04.20.11.20.20;	author ajacoutot;	state Exp;
branches;
next	1.111;
commitid	gAgKmTzc17tZ0dzT;

1.111
date	2017.02.02.05.55.42;	author ajacoutot;	state Exp;
branches
	1.111.2.1;
next	1.110;
commitid	CembtNEEmUjYt26O;

1.110
date	2016.12.15.09.31.15;	author ajacoutot;	state Exp;
branches;
next	1.109;
commitid	9XrQ6FRtW5UJMOL3;

1.109
date	2016.11.10.09.14.07;	author ajacoutot;	state Exp;
branches;
next	1.108;
commitid	bhyvemHtc6eUjWTw;

1.108
date	2016.09.20.08.03.50;	author ajacoutot;	state Exp;
branches;
next	1.107;
commitid	E6U5Lhn3hGx2Sdn6;

1.107
date	2016.07.30.14.25.37;	author ajacoutot;	state Exp;
branches;
next	1.106;
commitid	sISn6meSLM2fbfeC;

1.106
date	2016.06.30.07.22.17;	author ajacoutot;	state Exp;
branches
	1.106.2.1;
next	1.105;
commitid	Ag87zcK2AxQpEX1l;

1.105
date	2016.05.04.05.27.36;	author ajacoutot;	state Exp;
branches;
next	1.104;
commitid	IwmyPEbEjM4OrIEm;

1.104
date	2016.04.26.12.05.19;	author ajacoutot;	state Exp;
branches;
next	1.103;
commitid	7tlV0q2JayuNVsl1;

1.103
date	2016.03.14.09.29.05;	author ajacoutot;	state Exp;
branches;
next	1.102;
commitid	5a4C6ldIZPsVB7GN;

1.102
date	2015.12.30.10.04.36;	author ajacoutot;	state Exp;
branches
	1.102.2.1;
next	1.101;
commitid	Z4KKu0Yo8H8799KR;

1.101
date	2015.12.30.08.53.07;	author ajacoutot;	state Exp;
branches;
next	1.100;
commitid	KPS5JjAiubB5JNFM;

1.100
date	2015.12.30.06.44.34;	author ajacoutot;	state Exp;
branches;
next	1.99;
commitid	sgcZTxlrBXwe1Qj1;

1.99
date	2015.12.30.06.37.02;	author ajacoutot;	state Exp;
branches;
next	1.98;
commitid	Czk9v51SREOzUbB0;

1.98
date	2015.12.23.06.19.01;	author ajacoutot;	state Exp;
branches;
next	1.97;
commitid	vEftpM6MOE77mxlx;

1.97
date	2015.11.26.07.38.34;	author ajacoutot;	state Exp;
branches;
next	1.96;
commitid	XeHWJmVfVJ1xbcdg;

1.96
date	2015.11.18.08.30.56;	author ajacoutot;	state Exp;
branches;
next	1.95;
commitid	8nd5ADTHVuSAX8zv;

1.95
date	2015.11.16.09.53.12;	author ajacoutot;	state Exp;
branches;
next	1.94;
commitid	WkVcqybBR2Xc9oyr;

1.94
date	2015.10.21.06.02.25;	author ajacoutot;	state Exp;
branches;
next	1.93;
commitid	yKVQyvienaqseJxg;

1.93
date	2015.09.11.07.32.31;	author ajacoutot;	state Exp;
branches;
next	1.92;
commitid	dqgzlhdUxxI5SFUT;

1.92
date	2015.09.03.05.43.57;	author ajacoutot;	state Exp;
branches;
next	1.91;
commitid	2au6BTT8IDxYtSwl;

1.91
date	2015.08.13.06.53.37;	author ajacoutot;	state Exp;
branches;
next	1.90;
commitid	hRXmPBlDklEPMDGu;

1.90
date	2015.07.30.16.04.38;	author kirby;	state Exp;
branches
	1.90.4.1;
next	1.89;
commitid	CobrGyRqI8XXTuwy;

1.89
date	2015.07.17.17.39.54;	author ajacoutot;	state Exp;
branches;
next	1.88;
commitid	PtcJ7vxXu3OKwMMa;

1.88
date	2015.07.09.10.22.43;	author ajacoutot;	state Exp;
branches;
next	1.87;
commitid	7mnumw2p2KKwcH7F;

1.87
date	2015.07.09.08.09.06;	author ajacoutot;	state Exp;
branches;
next	1.86;
commitid	sNI1i9Babm3lY9Pd;

1.86
date	2015.06.09.07.02.33;	author ajacoutot;	state Exp;
branches;
next	1.85;
commitid	TYfkt1VBAGYpA2Pr;

1.85
date	2015.06.05.06.00.22;	author robert;	state Exp;
branches;
next	1.84;
commitid	PS9YXjRm9KQkIZjT;

1.84
date	2015.05.08.09.08.44;	author espie;	state Exp;
branches;
next	1.83;
commitid	8WaxsMNN6opOzn9t;

1.83
date	2015.05.04.07.43.58;	author ajacoutot;	state Exp;
branches;
next	1.82;
commitid	zxwyBmhBHqFJtOwY;

1.82
date	2015.04.04.15.31.44;	author ajacoutot;	state Exp;
branches;
next	1.81;
commitid	77HKf1TX4pboNlll;

1.81
date	2015.03.15.08.49.10;	author ajacoutot;	state Exp;
branches;
next	1.80;
commitid	4aevEx9F7sgDyQ3Z;

1.80
date	2014.12.12.12.34.55;	author ajacoutot;	state Exp;
branches
	1.80.2.1;
next	1.79;
commitid	2NBYKVPcelAAlUGN;

1.79
date	2014.12.01.10.16.06;	author ajacoutot;	state Exp;
branches;
next	1.78;
commitid	98jGDuwwze60ZMKx;

1.78
date	2014.11.16.22.15.02;	author sthen;	state Exp;
branches;
next	1.77;
commitid	Sk5gAOPcpXgRSLJf;

1.77
date	2014.11.14.07.44.04;	author ajacoutot;	state Exp;
branches;
next	1.76;
commitid	l51u4WQ6k10N9wYp;

1.76
date	2014.11.06.17.13.40;	author sthen;	state Exp;
branches;
next	1.75;
commitid	ig1O4RkSPXzTZYwZ;

1.75
date	2014.09.14.05.58.07;	author ajacoutot;	state Exp;
branches;
next	1.74;
commitid	Wm0mDRCXhQhfZWj1;

1.74
date	2014.08.29.16.19.16;	author ajacoutot;	state Exp;
branches;
next	1.73;
commitid	cxbl3aJQhSj3RnAL;

1.73
date	2014.08.27.06.58.00;	author ajacoutot;	state Exp;
branches;
next	1.72;
commitid	LV57HYD4QXzcqbWn;

1.72
date	2014.08.14.06.55.42;	author ajacoutot;	state Exp;
branches;
next	1.71;
commitid	u8GgVtDqY86a9wVU;

1.71
date	2014.06.29.17.08.56;	author ajacoutot;	state Exp;
branches
	1.71.2.1;
next	1.70;
commitid	RteLPH9wmHQTkx9z;

1.70
date	2014.06.24.08.49.14;	author ajacoutot;	state Exp;
branches;
next	1.69;
commitid	kVyAweiHRzkUhIJ7;

1.69
date	2014.06.02.06.10.18;	author ajacoutot;	state Exp;
branches;
next	1.68;
commitid	Y2nwSPOS66wYoZgd;

1.68
date	2014.04.29.14.47.39;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2014.04.11.16.28.17;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2014.03.28.10.30.28;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2014.03.24.16.50.43;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2014.03.24.15.09.16;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2014.03.22.09.40.21;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2014.03.16.09.58.10;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2014.03.09.22.25.02;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2014.01.23.07.35.32;	author ajacoutot;	state Exp;
branches
	1.60.2.1;
next	1.59;

1.59
date	2013.12.15.08.07.42;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2013.12.13.16.26.06;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2013.12.13.15.33.18;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2013.11.15.10.50.40;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2013.10.05.08.18.02;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2013.09.18.00.04.31;	author sthen;	state Exp;
branches;
next	1.53;

1.53
date	2013.09.11.07.53.01;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2013.09.09.10.18.21;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2013.08.14.09.52.34;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2013.08.12.04.11.21;	author robert;	state Exp;
branches;
next	1.49;

1.49
date	2013.07.16.10.11.46;	author ajacoutot;	state Exp;
branches
	1.49.2.1;
next	1.48;

1.48
date	2013.07.10.13.37.40;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2013.07.05.09.34.35;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2013.06.06.21.13.18;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2013.06.01.20.30.37;	author stsp;	state Exp;
branches;
next	1.44;

1.44
date	2013.05.14.13.44.31;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2013.05.01.07.16.15;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2013.04.27.15.50.39;	author stsp;	state Exp;
branches;
next	1.41;

1.41
date	2013.04.20.06.38.55;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2013.04.11.16.45.31;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2013.04.03.17.40.48;	author robert;	state Exp;
branches;
next	1.38;

1.38
date	2013.03.14.07.48.55;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2013.03.11.11.44.43;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2013.03.07.17.41.35;	author stsp;	state Exp;
branches;
next	1.35;

1.35
date	2013.02.20.15.32.21;	author ajacoutot;	state Exp;
branches
	1.35.2.1;
next	1.34;

1.34
date	2013.01.22.12.08.01;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2012.12.20.15.18.01;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2012.12.03.14.13.00;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2012.11.27.11.38.27;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2012.11.22.15.37.47;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2012.11.14.12.19.23;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2012.10.26.12.10.29;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2012.10.26.12.09.13;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2012.10.26.09.27.08;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2012.10.25.12.38.12;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2012.10.25.12.26.40;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2012.10.17.09.16.10;	author robert;	state Exp;
branches;
next	1.22;

1.22
date	2012.10.16.09.43.11;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2012.10.16.09.19.23;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2012.08.27.10.39.42;	author robert;	state Exp;
branches;
next	1.19;

1.19
date	2012.08.16.08.50.22;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.08.04.15.06.07;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2012.07.04.12.37.15;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2012.06.24.11.12.26;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2012.06.23.15.32.45;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2012.06.21.07.00.20;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2012.06.18.14.12.02;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2012.06.18.14.02.24;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2012.06.16.12.52.32;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2012.06.16.11.18.29;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2012.06.16.08.35.13;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2012.06.11.13.11.54;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2012.06.05.07.17.12;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2012.06.02.06.54.57;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.05.03.07.20.42;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2012.04.24.10.15.57;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.04.11.09.52.05;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.04.03.16.31.00;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.03.15.16.50.44;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.03.15.16.50.44;	author ajacoutot;	state Exp;
branches;
next	;

1.35.2.1
date	2013.05.01.09.30.56;	author jasper;	state Exp;
branches;
next	1.35.2.2;

1.35.2.2
date	2013.05.14.14.04.45;	author ajacoutot;	state Exp;
branches;
next	1.35.2.3;

1.35.2.3
date	2013.06.06.21.32.33;	author ajacoutot;	state Exp;
branches;
next	1.35.2.4;

1.35.2.4
date	2013.07.10.13.40.34;	author ajacoutot;	state Exp;
branches;
next	1.35.2.5;

1.35.2.5
date	2013.09.08.08.02.31;	author ajacoutot;	state Exp;
branches;
next	;

1.49.2.1
date	2013.10.30.12.47.26;	author jasper;	state Exp;
branches;
next	1.49.2.2;

1.49.2.2
date	2013.11.15.10.59.47;	author ajacoutot;	state Exp;
branches;
next	1.49.2.3;

1.49.2.3
date	2013.12.26.10.59.30;	author ajacoutot;	state Exp;
branches;
next	1.49.2.4;

1.49.2.4
date	2014.03.14.15.27.55;	author jasper;	state Exp;
branches;
next	1.49.2.5;

1.49.2.5
date	2014.04.29.14.49.59;	author ajacoutot;	state Exp;
branches;
next	;

1.60.2.1
date	2014.03.14.14.39.57;	author jasper;	state Exp;
branches;
next	1.60.2.2;

1.60.2.2
date	2014.04.29.14.48.29;	author ajacoutot;	state Exp;
branches;
next	1.60.2.3;

1.60.2.3
date	2014.06.29.17.12.09;	author ajacoutot;	state Exp;
branches;
next	;
commitid	JNDFFO2uKYZsamGE;

1.71.2.1
date	2014.11.14.07.45.51;	author ajacoutot;	state Exp;
branches;
next	1.71.2.2;
commitid	m4jetPQE6PzZvPLM;

1.71.2.2
date	2015.03.30.08.49.23;	author ajacoutot;	state Exp;
branches;
next	;
commitid	McNuHaIWjTKoOZwk;

1.80.2.1
date	2015.03.30.08.59.12;	author ajacoutot;	state Exp;
branches;
next	1.80.2.2;
commitid	JS7zzk9IJ8sViiZ2;

1.80.2.2
date	2015.05.04.09.33.36;	author ajacoutot;	state Exp;
branches;
next	1.80.2.3;
commitid	k2GbNYaPRB3IPxQD;

1.80.2.3
date	2015.07.09.08.26.58;	author ajacoutot;	state Exp;
branches;
next	1.80.2.4;
commitid	9ijAITtTYuEMnH03;

1.80.2.4
date	2015.10.12.18.26.57;	author ajacoutot;	state Exp;
branches;
next	;
commitid	CXBMePuPYkh8RNoq;

1.90.4.1
date	2015.10.12.18.31.08;	author ajacoutot;	state Exp;
branches;
next	1.90.4.2;
commitid	tRJXXcfQSJq1SqCh;

1.90.4.2
date	2015.11.16.09.47.04;	author ajacoutot;	state Exp;
branches;
next	1.90.4.3;
commitid	dZNVtUD6arHI8NeH;

1.90.4.3
date	2016.01.11.08.34.39;	author ajacoutot;	state Exp;
branches;
next	;
commitid	R6myM0DlsXOhHmBh;

1.102.2.1
date	2016.08.21.12.12.02;	author ajacoutot;	state Exp;
branches;
next	;
commitid	KeSO68elOFXby9Cx;

1.106.2.1
date	2016.07.31.06.19.53;	author ajacoutot;	state Exp;
branches;
next	1.106.2.2;
commitid	BWKYXnqIdG1yQsOG;

1.106.2.2
date	2016.11.10.09.19.20;	author ajacoutot;	state Exp;
branches;
next	1.106.2.3;
commitid	LY9p5FKJNF0MqaM7;

1.106.2.3
date	2016.12.15.09.42.01;	author ajacoutot;	state Exp;
branches;
next	1.106.2.4;
commitid	BMytbn7ckemnct5D;

1.106.2.4
date	2017.02.02.06.01.56;	author ajacoutot;	state Exp;
branches;
next	;
commitid	b5NYvsaIhBPf3CMK;

1.111.2.1
date	2017.04.20.11.21.46;	author ajacoutot;	state Exp;
branches;
next	;
commitid	8PAyOWZ9akjFQE59;


desc
@@


1.112
log
@Update to owncloud-9.1.5.
@
text
@# $OpenBSD: Makefile,v 1.111 2017/02/02 05:55:42 ajacoutot Exp $

COMMENT=		easy and universal access to shared and/or personal files

V=			9.1.5
DISTNAME=		owncloud-${V}
EXTRACT_SUFX=		.tar.bz2

CATEGORIES=		www

HOMEPAGE=		http://owncloud.org/

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# AGPLv3 (GNU Affero Public License)
# jQuery: MIT / GPLv3
# HTTP: 3 clause BSD
# MDB2: BSD-like
# User: AGPL
# XML/RPC: MIT / PHP
# Silk icons: Creative Commons Attribution
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=		http://download.owncloud.org/community/

MODULES=		lang/php

NO_BUILD=		Yes
NO_TEST=		Yes
PKG_ARCH=		*

WRKDIST=		${WRKDIR}/owncloud

PREFIX=			${VARBASE}/www
INSTDIR=		${PREFIX}/owncloud
TINSTDIR=		${TRUEPREFIX}/owncloud
VR=			${V:R}
SUBST_VARS=		INSTDIR TINSTDIR MODPHP_BIN VR

RUN_DEPENDS=		lang/php/${MODPHP_VERSION},-gd \
			lang/php/${MODPHP_VERSION},-zip

# http user authentication
RUN_DEPENDS +=		lang/php/${MODPHP_VERSION},-curl

# apps extraction
RUN_DEPENDS +=		lang/php/${MODPHP_VERSION},-bz2

# sorting of non-ASCII characters
RUN_DEPENDS +=		lang/php/${MODPHP_VERSION},-intl

# increase file encryption performance
RUN_DEPENDS +=		lang/php/${MODPHP_VERSION},-mcrypt

# distributed caching and Transactional File Locking
RUN_DEPENDS +=		databases/pecl-redis

do-install:
	cp -Rp ${WRKSRC} ${INSTDIR}
	mv ${INSTDIR}/.htaccess ${INSTDIR}/.htaccess.dist
	find ${INSTDIR} -name '*.orig' -print0 | xargs -r0 rm
	chown -R ${BINOWN}:${BINGRP} ${INSTDIR}

	chmod +x ${INSTDIR}/occ
	perl -pi -e '$$. == 1 && s|^.*env php.*$$|\#!${MODPHP_BIN}|;' \
		-e 'close ARGV if eof;' \
		${INSTDIR}/occ

	${INSTALL_DATA_DIR} ${PREFIX}/conf/modules.sample
	${SUBST_CMD} -m 0644 -c ${FILESDIR}/httpd-owncloud.conf.dist.in \
		${PREFIX}/conf/modules.sample/httpd-owncloud.conf.dist

.include <bsd.port.mk>
@


1.111
log
@Update to owncloud-9.1.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2016/12/15 09:31:15 ajacoutot Exp $
d5 1
a5 1
V=			9.1.4
@


1.111.2.1
log
@MFC:
Update to owncloud-9.1.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2017/02/02 05:55:42 ajacoutot Exp $
d5 1
a5 1
V=			9.1.5
@


1.110
log
@Update to owncloud-9.1.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2016/11/10 09:14:07 ajacoutot Exp $
d5 1
a5 1
V=			9.1.3
@


1.109
log
@Update to owncloud-9.1.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2016/09/20 08:03:50 ajacoutot Exp $
d5 1
a5 1
V=			9.1.2
@


1.108
log
@Update to owncloud-9.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2016/07/30 14:25:37 ajacoutot Exp $
d5 1
a5 1
V=			9.1.1
@


1.107
log
@Update to owncloud-9.1.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2016/06/30 07:22:17 ajacoutot Exp $
d5 1
a5 1
V=			9.1.0
@


1.106
log
@Update to owncloud-9.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2016/05/04 05:27:36 ajacoutot Exp $
d5 1
a5 1
V=			9.0.3
@


1.106.2.1
log
@Bugfix update to owncloud-9.0.4; keeping up-to-date on the previous
release to ease upgrade to 9.1.X for 6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2016/06/30 07:22:17 ajacoutot Exp $
d5 1
a5 1
V=			9.0.4
@


1.106.2.2
log
@Maintenance update to owncloud-9.0.6; keeping up-to-date on the previous
release to ease upgrade to 9.1.X for 6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106.2.1 2016/07/31 06:19:53 ajacoutot Exp $
d5 1
a5 1
V=			9.0.6
@


1.106.2.3
log
@Maintenance update to owncloud-9.0.7; keeping up-to-date on the previous
release to ease upgrade to 9.1.X for 6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106.2.2 2016/11/10 09:19:20 ajacoutot Exp $
d5 1
a5 1
V=			9.0.7
@


1.106.2.4
log
@Maintenance update to owncloud-9.0.8; keeping up-to-date on the previous
release to ease upgrade to 9.1.X for 6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106.2.3 2016/12/15 09:42:01 ajacoutot Exp $
d5 1
a5 1
V=			9.0.8
@


1.105
log
@Update to owncloud-9.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2016/04/26 12:05:19 ajacoutot Exp $
d5 1
a5 1
V=			9.0.2
@


1.104
log
@Update to owncloud-9.0.1.
Probably needs more love to be able to work under nginx|httpd.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2016/03/14 09:29:05 ajacoutot Exp $
d5 1
a5 1
V=			9.0.1
@


1.103
log
@Update to owncloud-8.2.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2015/12/30 10:04:36 ajacoutot Exp $
d5 1
a5 1
V=			8.2.3
@


1.102
log
@@@sample /var/www/conf/modules.sample/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2015/12/30 08:53:07 ajacoutot Exp $
d5 1
a5 1
V=			8.2.2
a7 1
REVISION=		3
@


1.102.2.1
log
@SECURITY update to owncloud-8.2.7.

https://owncloud.org/security/advisory/?id=oc-sa-2016-007
https://owncloud.org/security/advisory/?id=oc-sa-2016-008
https://owncloud.org/security/advisory/?id=oc-sa-2016-010
https://owncloud.org/security/advisory/?id=oc-sa-2016-014
https://owncloud.org/security/advisory/?id=oc-sa-2016-015
https://owncloud.org/security/advisory/?id=oc-sa-2016-012

from Todd Mortimer, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2015/12/30 10:04:36 ajacoutot Exp $
d5 1
a5 1
V=			8.2.7
d8 1
@


1.101
log
@Better handle /var/www/conf/modules/httpd-owncloud.conf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2015/12/30 06:44:34 ajacoutot Exp $
d8 1
a8 1
REVISION=		2
@


1.100
log
@Tweaks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2015/12/30 06:37:02 ajacoutot Exp $
d8 1
a8 1
REVISION=		1
@


1.99
log
@Add sample redis configuration.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2015/12/23 06:19:01 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
@


1.98
log
@Update to owncloud-8.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2015/11/26 07:38:34 ajacoutot Exp $
d8 1
@


1.97
log
@Depends on databases/pecl-redis.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2015/11/18 08:30:56 ajacoutot Exp $
d5 1
a5 1
V=			8.2.1
a7 1
REVISION=		0
@


1.96
log
@Update to owncloud-8.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2015/11/16 09:53:12 ajacoutot Exp $
d8 1
d55 3
@


1.95
log
@Add 2 patches from upstream to unbreak LDAP support (reported by Olivier Mehani).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2015/10/21 06:02:25 ajacoutot Exp $
d5 1
a5 1
V=			8.2.0
a7 1
REVISION=		0
@


1.94
log
@Update to owncloud-8.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2015/09/11 07:32:31 ajacoutot Exp $
d8 1
@


1.93
log
@Update to owncloud-8.1.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2015/09/03 05:43:57 ajacoutot Exp $
d5 1
a5 1
V=			8.1.3
@


1.92
log
@Update to owncloud-8.1.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2015/08/13 06:53:37 ajacoutot Exp $
d5 1
a5 1
V=			8.1.2
@


1.91
log
@Update to owncloud-8.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2015/07/30 16:04:38 kirby Exp $
d5 1
a5 1
V=			8.1.1
@


1.90
log
@mention new desktop client for owncloud. noticed by zhuk@@
remove couple of trailing white spaces while here.
OK ajacoutot@@, maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2015/07/17 17:39:54 ajacoutot Exp $
d5 1
a5 1
V=			8.1.0
a7 1
REVISION=		2
@


1.90.4.1
log
@SECURITY update to owncloud-8.1.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2015/07/30 16:04:38 kirby Exp $
d5 1
a5 1
V=			8.1.3
d8 1
@


1.90.4.2
log
@Reliability update to owncloud-8.1.4.
Includes 2 patches merged from upstream to unbreak LDAP support
(reported by Olivier Mehani).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90.4.1 2015/10/12 18:31:08 ajacoutot Exp $
d5 1
a5 1
V=			8.1.4
@


1.90.4.3
log
@SECURITY update to owncloud-8.1.5.
CVE-2016-1498, CVE-2016-1499, CVE-2016-1500

prodded by Todd Mortimer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90.4.2 2015/11/16 09:47:04 ajacoutot Exp $
d5 1
a5 1
V=			8.1.5
@


1.89
log
@Set ownership to the "www" user.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2015/07/09 10:22:43 ajacoutot Exp $
d8 1
a8 1
REVISION=		1
@


1.88
log
@Encryption works without the need for openssl(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2015/07/09 08:09:06 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
@


1.87
log
@SECURITY update to owncloud-8.1.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2015/06/09 07:02:33 ajacoutot Exp $
d8 1
@


1.86
log
@Update to owncloud-8.0.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2015/06/05 06:00:22 robert Exp $
d3 1
a3 1
COMMENT=	easy and universal access to shared and/or personal files
d5 3
a7 3
V=		8.0.4
DISTNAME=	owncloud-${V}
EXTRACT_SUFX=	.tar.bz2
d9 1
a9 1
CATEGORIES=	www
d11 1
a11 1
HOMEPAGE=	http://owncloud.org/
d13 1
a13 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
d24 1
a24 1
MASTER_SITES=	http://download.owncloud.org/community/
d26 1
a26 1
MODULES=	lang/php
d28 26
a53 18
NO_BUILD=	Yes
NO_TEST=	Yes
PKG_ARCH=	*

WRKDIST=	${WRKDIR}/owncloud

PREFIX=		${VARBASE}/www
INSTDIR=	${PREFIX}/owncloud
TINSTDIR=	${TRUEPREFIX}/owncloud
VR=		${V:R}
SUBST_VARS=	INSTDIR TINSTDIR MODPHP_BIN VR

RUN_DEPENDS=	lang/php/${MODPHP_VERSION},-curl \
		lang/php/${MODPHP_VERSION},-gd \
		lang/php/${MODPHP_VERSION},-intl \
		lang/php/${MODPHP_VERSION},-mcrypt \
		lang/php/${MODPHP_VERSION},-xmlrpc \
		lang/php/${MODPHP_VERSION},-zip
d60 5
@


1.85
log
@bump revision due to the change of the default php version to 5.6
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2015/05/08 09:08:44 espie Exp $
d5 1
a5 1
V=		8.0.3
a7 1
REVISION=	0
@


1.84
log
@don't depend on modes in the ports tree being what we want installed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2015/05/04 07:43:58 ajacoutot Exp $
d8 1
@


1.83
log
@Update to owncloud-8.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2015/04/04 15:31:44 ajacoutot Exp $
d54 1
a54 1
	${SUBST_CMD} -c ${FILESDIR}/httpd-owncloud.conf.dist.in \
@


1.82
log
@Stop talking about ocsync; it's going to be removed at some point since it
was merged into mirall upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2015/03/15 08:49:10 ajacoutot Exp $
d5 1
a5 1
V=		8.0.2
a7 1
REVISION=	0
@


1.81
log
@Update to owncloud-8.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2014/12/12 12:34:55 ajacoutot Exp $
d8 1
@


1.80
log
@Update to owncloud-7.0.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2014/12/01 10:16:06 ajacoutot Exp $
d5 1
a5 1
V=		7.0.4
d52 4
@


1.80.2.1
log
@SECURITY update to owncloud-7.0.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2014/12/12 12:34:55 ajacoutot Exp $
d5 1
a5 1
V=		7.0.5
@


1.80.2.2
log
@Remove bogus patch that prevented cron.php from working properly.
reported by Todd Mortimer, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80.2.1 2015/03/30 08:59:12 ajacoutot Exp $
a7 1
REVISION=	0
@


1.80.2.3
log
@Reliability update to owncloud-7.0.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80.2.2 2015/05/04 09:33:36 ajacoutot Exp $
d5 1
a5 1
V=		7.0.7
d8 1
@


1.80.2.4
log
@SECURITY update to owncloud-7.0.10.

from Todd Mortimer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80.2.3 2015/07/09 08:26:58 ajacoutot Exp $
d5 1
a5 1
V=		7.0.10
@


1.79
log
@Reword a bit (triggered by an email from Johan Huldtgren).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2014/11/16 22:15:02 sthen Exp $
d5 1
a5 1
V=		7.0.3
a7 1
REVISION=	1
@


1.78
log
@Tweak owncloud's readme, pecl-APC went away. OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2014/11/14 07:44:04 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
@


1.77
log
@Update to owncloud-7.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2014/11/06 17:13:40 sthen Exp $
d8 1
@


1.76
log
@bump REVISION for php version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2014/09/14 05:58:07 ajacoutot Exp $
d5 1
a5 1
V=		7.0.2
a7 1
REVISION=	1
@


1.75
log
@MySQL -> MariaDB in READMEs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2014/08/29 16:19:16 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
@


1.74
log
@Update to owncloud-7.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2014/08/27 06:58:00 ajacoutot Exp $
d8 1
@


1.73
log
@Cope with openssl(1) move from /usr/sbin to /usr/bin

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2014/08/14 06:55:42 ajacoutot Exp $
d5 1
a5 1
V=		7.0.1
a7 1
REVISION=	0
@


1.72
log
@Update to owncloud-7.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2014/06/29 17:08:56 ajacoutot Exp $
d8 1
@


1.71
log
@SECURITY update to owncloud-6.0.4.
http://owncloud.org/changelog/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2014/06/24 08:49:14 ajacoutot Exp $
d5 1
a5 1
V=		6.0.4
d37 2
a38 1
SUBST_VARS=	INSTDIR TINSTDIR MODPHP_BIN
@


1.71.2.1
log
@SECURITY update to owncloud-6.0.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2014/06/29 17:08:56 ajacoutot Exp $
d5 1
a5 1
V=		6.0.6
@


1.71.2.2
log
@SECURITY update to owncloud-6.0.7.
patch from Todd Mortimer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71.2.1 2014/11/14 07:45:51 ajacoutot Exp $
d5 1
a5 1
V=		6.0.7
@


1.70
log
@Talk about mirall.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2014/06/02 06:10:18 ajacoutot Exp $
d5 1
a5 1
V=		6.0.3
a7 1
REVISION=	1
@


1.69
log
@Fix typo in COMMENT.
spotted by Carson Chittom.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2014/04/29 14:47:39 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
@


1.68
log
@SECURITY update to owncloud-6.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2014/04/11 16:28:17 ajacoutot Exp $
d3 1
a3 1
COMMENT=	easy and universal access to shared and/or personnal files
d8 1
@


1.67
log
@5.0 -> 6.0 in URL

spotted by "rgouveia"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2014/03/28 10:30:28 ajacoutot Exp $
d5 1
a5 1
V=		6.0.2
a7 1
REVISION=	5
@


1.66
log
@Cope with recent php and nginx default configuration changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2014/03/24 16:50:43 ajacoutot Exp $
d8 1
a8 1
REVISION=	4
@


1.65
log
@Add and fix links to doc.owncloud.org.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2014/03/24 15:09:16 ajacoutot Exp $
d8 1
a8 1
REVISION=	3
@


1.64
log
@Remove empty line.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2014/03/22 09:40:21 ajacoutot Exp $
d8 1
a8 1
REVISION=	2
@


1.63
log
@Rework this port to make it work with nginx(8) by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2014/03/16 09:58:10 ajacoutot Exp $
d8 1
a8 1
REVISION=	1
@


1.62
log
@Do not use "@@owner www" but "@@group www"; this allows swapping between
different web servers more easily by adding the corresponding httpd user
to the www group.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2014/03/09 22:25:02 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
d42 2
a48 2
	${SUBST_CMD} -c ${FILESDIR}/owncloud.conf \
		${INSTDIR}/owncloud.conf.dist
@


1.61
log
@SECURITY update to owncloud-6.0.2.
Rework README to fix cronjobs and add a section about encryption and chroot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/01/23 07:35:32 ajacoutot Exp $
d8 1
@


1.60
log
@Update to owncloud-6.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/12/15 08:07:42 ajacoutot Exp $
d5 1
a5 1
V=		6.0.1
@


1.60.2.1
log
@SECURITY update to owncloud-6.0.2.
Rework README to fix cronjobs and add a section about encryption and chroot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/01/23 07:35:32 ajacoutot Exp $
d5 1
a5 1
V=		6.0.2
@


1.60.2.2
log
@SECURITY update to owncloud-6.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60.2.1 2014/03/14 14:39:57 jasper Exp $
d5 1
a5 1
V=		6.0.3
@


1.60.2.3
log
@SECURITY update to owncloud-6.0.4.
http://owncloud.org/changelog/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60.2.2 2014/04/29 14:48:29 ajacoutot Exp $
d5 1
a5 1
V=		6.0.4
@


1.59
log
@Update to owncloud-6.0.0a.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/12/13 16:26:06 ajacoutot Exp $
d5 1
a5 1
V=		6.0.0a
@


1.58
log
@Stupid PLIST substitution.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/12/13 15:33:18 ajacoutot Exp $
d5 1
a5 1
V=		6.0.0
a7 1
REVISION=	0
@


1.57
log
@MAJOR update to owncloud-6.0.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/11/15 10:50:40 ajacoutot Exp $
d8 1
@


1.56
log
@SECURITY update to owncloud-5.0.13.
* Fix a possible security bypass on admin page under certain
circumstances and MariaDB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/10/05 08:18:02 ajacoutot Exp $
d5 1
a5 1
V=		5.0.13
a45 1
	find ${INSTDIR} -name '*.orig' -print0 | xargs -r0 rm
d49 1
a49 1
	find ${INSTDIR} -name '*.orig' -exec rm {} \;
@


1.55
log
@Update to owncloud-5.0.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/09/18 00:04:31 sthen Exp $
d5 1
a5 1
V=		5.0.12
@


1.54
log
@tweak owncloud README, ok aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/09/11 07:53:01 ajacoutot Exp $
d5 1
a5 2
V=		5.0.11
REVISION=	0
@


1.53
log
@Update to owncloud-5.0.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/09/09 10:18:21 ajacoutot Exp $
d6 1
@


1.52
log
@Better cronjob task.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/08/14 09:52:34 ajacoutot Exp $
d5 1
a5 1
V=		5.0.10
a7 1
REVISION=	0
@


1.51
log
@Update to owncloud-5.0.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/08/12 04:11:21 robert Exp $
d8 1
@


1.50
log
@bump REVISION due to the php update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/07/16 10:11:46 ajacoutot Exp $
d5 1
a5 1
V=		5.0.9
a6 1
REVISION=	0
@


1.49
log
@Update to owncloud-5.0.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/07/10 13:37:40 ajacoutot Exp $
d7 1
@


1.49.2.1
log
@There has been report that the current version in stable does not play
well with sync clients which can end up in creating duplicate files all
over the storage space.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/07/16 10:11:46 ajacoutot Exp $
d5 1
a5 1
V=		5.0.10
@


1.49.2.2
log
@Bring owncloud-5.0.13 from -current:
SECURITY: Fix a possible security bypass on admin page under certain
circumstances and MariaDB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49.2.1 2013/10/30 12:47:26 jasper Exp $
d5 1
a5 1
V=		5.0.13
a37 3

BUILD_DEPENDS+=	archivers/gtar
TAR=		gtar
@


1.49.2.3
log
@Update to owncloud-5.0.14a. This is the most recent 5.X release and we
need it for proper upgrade to 6.X for OpenBSD 5.5.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49.2.2 2013/11/15 10:59:47 ajacoutot Exp $
d5 1
a5 1
V=		5.0.14a
@


1.49.2.4
log
@security update to owncloud-5.0.15
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49.2.3 2013/12/26 10:59:30 ajacoutot Exp $
d5 1
a5 1
V=		5.0.15
@


1.49.2.5
log
@SECURITY update to owncloud-5.0.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49.2.4 2014/03/14 15:27:55 jasper Exp $
d5 1
a5 1
V=		5.0.16
@


1.48
log
@SECURITY update to owncloud-5.0.8:
* XSS vulnerability in "Share Interface" (oC-SA-2013-029)
* Authentication bypass in "user_webdavauth" (oC-SA-2013-030)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/07/05 09:34:35 jasper Exp $
d5 1
a5 1
V=		5.0.8
@


1.47
log
@use ${VARBASE} instead of hardcoding /var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/06/06 21:13:18 ajacoutot Exp $
d5 1
a5 1
V=		5.0.7
@


1.46
log
@SECURITY update to owncloud-5.0.7.
Multiple XSS vulnerabilities (oC-SA-2013-028)
Changelog: http://owncloud.org/changelog/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/06/01 20:30:37 stsp Exp $
d34 1
a34 1
PREFIX=		/var/www
@


1.45
log
@Update UTF-8 locale workaround in owncloud's README to account for
/usr/share/locale layout changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/05/14 13:44:31 ajacoutot Exp $
d5 1
a5 1
V=		5.0.6
a6 1
REVISION=	0
@


1.44
log
@SECURITY update to owncloud-5.0.6.
Details at: http://owncloud.org/changelog/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/05/01 07:16:15 jasper Exp $
d7 1
@


1.43
log
@modules.sample/ always lives in /var/www, so no need for ${PREFIX} here.

as discussed with aja@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/04/27 15:50:39 stsp Exp $
d5 1
a5 2
V=		5.0.5
REVISION=	1
a24 5

# Yubikey support
MASTER_SITES0=		http://nerd.hu/
PATCHFILES=		owncloud-5.0.3-yubikey.patch:0
PATCH_DIST_STRIP=	-p1
@


1.42
log
@Document a workaround for the UTF-8 locale problem in owncloud 5. ok aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/04/20 06:38:55 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
@


1.41
log
@SECURITY update to owncloud-5.0.5.
oC-SA-2013-017
oC-SA-2013-018
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/04/11 16:45:31 ajacoutot Exp $
d6 1
@


1.40
log
@SECURITY update to owncloud-5.0.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2013/04/03 17:40:48 robert Exp $
d5 1
a5 1
V=		5.0.4
@


1.39
log
@update to 5.0.3, based on ajacoutot@@'s diff

ok ajacoutot@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/03/14 07:48:55 ajacoutot Exp $
d5 1
a5 1
V=		5.0.3
@


1.38
log
@SECURITY update to owncloud-4.5.8.
=> CVE-2013-1822, Multiple XSS vulnerabilities
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/03/11 11:44:43 espie Exp $
d5 1
a5 1
V=		4.5.8
d28 1
a28 1
PATCHFILES=		owncloud-4.5.1-yubikey.patch:0
d51 1
@


1.37
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/03/07 17:41:35 stsp Exp $
d5 1
a5 1
V=		4.5.7
a6 1
REVISION=	0
d24 1
a24 1
MASTER_SITES=	${HOMEPAGE}releases/
@


1.36
log
@Fix typos in README for www/owncloud. ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/02/20 15:32:21 ajacoutot Exp $
a23 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d35 1
a35 1
NO_REGRESS=	Yes
@


1.35
log
@SECURITY update to owncloud-4.5.7.

Multiple XSS vulnerabilities (oC-SA-2013-003)
Multiple CSRF vulnerabilities (oC-SA-2013-004)
PHP settings disclosure (oC-SA-2013-005)
Multiple code executions (oC-SA-2013-006)
Privilege escalation in the calendar application (oC-SA-2013-007)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/01/22 12:08:01 ajacoutot Exp $
d7 1
@


1.35.2.1
log
@security update to owncloud-5.0.3, includes fixes for CVE-2013-1822
CVE-2013-1850 CVE-2013-1851
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/02/20 15:32:21 ajacoutot Exp $
d5 1
a5 1
V=		5.0.5
d27 1
a27 1
MASTER_SITES=	http://download.owncloud.org/community/
d31 1
a31 1
PATCHFILES=		owncloud-5.0.3-yubikey.patch:0
a53 1
	find ${INSTDIR} -name '*.orig' -print0 | xargs -r0 rm
@


1.35.2.2
log
@MFC:
SECURITY update to owncloud-5.0.6.
Details at: http://owncloud.org/changelog/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/05/14 13:44:31 ajacoutot Exp $
d5 1
a5 1
V=		5.0.6
d24 1
a24 1
PERMIT_DISTFILES_CDROM=	Yes
d28 5
@


1.35.2.3
log
@MFC:
SECURITY update to owncloud-5.0.7.
Multiple XSS vulnerabilities (oC-SA-2013-028)
Changelog: http://owncloud.org/changelog/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35.2.2 2013/05/14 14:04:45 ajacoutot Exp $
d5 1
a5 1
V=		5.0.7
@


1.35.2.4
log
@MFC:
SECURITY update to owncloud-5.0.8:
* XSS vulnerability in "Share Interface" (oC-SA-2013-029)
* Authentication bypass in "user_webdavauth" (oC-SA-2013-030)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35.2.3 2013/06/06 21:32:33 ajacoutot Exp $
d5 1
a5 1
V=		5.0.8
@


1.35.2.5
log
@MFC: update to owncloud 5.0.10.
There has been report that the current version in stable does not play
well with sync clients which can end up in creating duplicate files all
over the storage space.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/08/14 09:52:34 ajacoutot Exp $
d5 1
a5 1
V=		5.0.10
@


1.34
log
@SECURITY update to owncloud-4.5.6:
* Fix multiple XSS problems: CVE-2013-0201, CVE-2013-0202, CVE-2013-0203
* Fix Code execution in external storage: CVE-2013-0204
* Removed remoteStorage app because of unfixed security problems.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2012/12/20 15:18:01 ajacoutot Exp $
d5 1
a5 1
V=		4.5.6
@


1.33
log
@SECURITY update to owncloud-4.5.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2012/12/03 14:13:00 ajacoutot Exp $
d5 1
a5 1
V=		4.5.5
@


1.32
log
@Bugfix update to owncloud-4.5.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2012/11/27 11:38:27 ajacoutot Exp $
d5 1
a5 1
V=		4.5.4
@


1.31
log
@Update to owncloud-4.5.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2012/11/22 15:37:47 ajacoutot Exp $
d5 1
a5 1
V=		4.5.3
@


1.30
log
@Fix owncloud on PostgreSQL 9.2.

from upstream via "viq"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2012/11/14 12:19:23 ajacoutot Exp $
d5 1
a5 1
V=		4.5.2
a7 1
REVISION=	0
@


1.29
log
@Bugfix update to owncloud-4.5.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/10/26 12:10:29 ajacoutot Exp $
d8 1
@


1.28
log
@Missed file in previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2012/10/26 12:09:13 ajacoutot Exp $
d5 1
a5 1
V=		4.5.1
a7 1
REVISION=	1
d31 1
a31 1
PATCHFILES=		owncloud-${V}-yubikey.patch:0
@


1.27
log
@Document the cron(8) job.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/10/26 09:27:08 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
@


1.26
log
@Update to owncloud-4.5.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/10/25 12:38:12 ajacoutot Exp $
d8 1
d46 1
a46 1
SUBST_VARS=	INSTDIR TINSTDIR
@


1.25
log
@Make config.sample.php writable by the 'www' user.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/10/25 12:26:40 ajacoutot Exp $
d5 1
a5 1
V=		4.5.0
a7 1
REVISION=	3
@


1.24
log
@Extend the upgrade section.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/10/17 09:16:10 robert Exp $
d8 1
a8 1
REVISION=	2
@


1.23
log
@merge the yubikey auth module to owncloud 4.5.0
requested by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/10/16 09:43:11 ajacoutot Exp $
d8 1
a8 1
REVISION=	1
@


1.22
log
@csync -> ocsync
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/10/16 09:19:23 ajacoutot Exp $
d5 2
a6 1
DISTNAME=	owncloud-4.5.0
d8 1
a8 1
REVISION=	0
d32 1
a32 1
#PATCHFILES=		owncloud-yubikey.patch:0
@


1.21
log
@Major update to owncloud-4.5.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/08/27 10:39:42 robert Exp $
d7 1
@


1.20
log
@add yubikey support by using a distpatch, ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/08/16 08:50:22 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	owncloud-4.0.7
a7 2
REVISION=	0

d30 1
a30 1
PATCHFILES=		owncloud-yubikey.patch:0
@


1.19
log
@Update to owncloud-4.0.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/08/04 15:06:07 ajacoutot Exp $
d8 2
d29 5
@


1.18
log
@SECURITY update to owncloud-4.0.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/07/04 12:37:15 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	owncloud-4.0.6
@


1.17
log
@Update to owncloud-4.0.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/06/24 11:12:26 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	owncloud-4.0.4
@


1.16
log
@Upstream rerolled the tarball.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/06/23 15:32:45 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	owncloud-4.0.3
a6 1
REVISION=	0
@


1.15
log
@Update to owncloud-4.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/06/21 07:00:20 ajacoutot Exp $
d7 1
@


1.14
log
@Adapt now that pdo_sqlite is part of main php.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/06/18 14:12:02 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	owncloud-4.0.2
REVISION=	5
@


1.13
log
@Make the example more readable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/06/18 14:02:24 ajacoutot Exp $
d6 1
a6 1
REVISION=	4
a42 1
		lang/php/${MODPHP_VERSION},-pdo_sqlite \
@


1.12
log
@Add an example to use csync to synchronize owncloud with a local dir.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/06/16 12:52:32 sthen Exp $
d6 1
a6 1
REVISION=	3
@


1.11
log
@pecl-zip replaced with php-zip, adjust deps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2012/06/16 11:18:29 ajacoutot Exp $
d6 1
a6 1
REVISION=	2
@


1.10
log
@The apps directory needs to be writable by the web server, pointed out by
robert at peichaer dot org.
While here, add a few tweaks to the README.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/06/16 08:35:13 ajacoutot Exp $
d6 1
a6 1
REVISION=	1
d42 1
a42 2
RUN_DEPENDS=	archivers/pecl-zip \
		lang/php/${MODPHP_VERSION},-curl \
d45 2
a46 1
		lang/php/${MODPHP_VERSION},-xmlrpc
@


1.9
log
@Mention csync (upcoming package).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/06/11 13:11:54 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
@


1.8
log
@SECURITY update to owncloud-4.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/06/05 07:17:12 ajacoutot Exp $
d6 1
@


1.7
log
@Update to owncloud-4.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/06/02 06:54:57 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	owncloud-4.0.1
@


1.6
log
@Update to owncloud-4.0.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/05/03 07:20:42 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	owncloud-4.0.0
d52 1
@


1.5
log
@Update to owncloud-3.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/04/24 10:15:57 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	owncloud-3.0.3
d43 3
a45 1
		lang/php/${MODPHP_VERSION},-gd
@


1.4
log
@Config/doc tweaks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/04/11 09:52:05 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	owncloud-3.0.2
REVISION=	0
@


1.3
log
@Update to owncloud-3.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/04/03 16:31:00 ajacoutot Exp $
d6 1
@


1.2
log
@Update to owncloud-3.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/03/15 16:50:44 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	owncloud-3.0.1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	owncloud-3.0.0
@


1.1.1.1
log
@Import owncloud-3.0.0.

ownCloud gives you easy and universal access to all of your files.
It also provides a platform to easily view, sync and share your
contacts, calendars, bookmarks and files across all your devices.

ok robert@@
@
text
@@
