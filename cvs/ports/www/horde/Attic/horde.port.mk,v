head	1.7;
access;
symbols
	OPENBSD_5_5:1.6.0.14
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.12
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.10
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.8
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.6
	OPENBSD_5_0:1.6.0.4
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.2
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.4.0.2
	OPENBSD_4_8_BASE:1.4
	sthen_20100730:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2014.07.11.00.03.06;	author sthen;	state dead;
branches;
next	1.6;
commitid	XjjZzcN2Fvzlt6Ri;

1.6
date	2011.01.07.15.32.41;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.22.08.36.48;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.07.30.22.10.54;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2010.07.30.21.24.39;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2010.07.30.15.31.17;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2010.07.30.11.27.06;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.07.30.11.27.06;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Unhook www/horde - these ports are for Horde 3 which is EOL and doesn't work
well with current PHP versions - Horde 5 is maintained upstream but it's split
in 132 pieces which doesn't really fit well with ports, especially as it's
strongly advised to be installed from their PEAR server. For more information,
see http://www.horde.org/apps/groupware/docs/INSTALL

Reminded by Adam Thompson.
@
text
@# $OpenBSD: horde.port.mk,v 1.6 2011/01/07 15:32:41 jasper Exp $

CATEGORIES +=	www www/horde

HORDE_MODULE ?=	${DISTNAME:C/-h3-.*//}

HORDE_SITES ?= \
	http://ftp.horde.org/pub/ \
	ftp://ftp.horde.org/pub/ \
	ftp://ftp.de.horde.org/mirrors/ftp.de.horde.org/pub/ \
	ftp://ftp.tw.horde.org/pub/ \
	ftp://ftp.us.horde.org/pub/software/horde/

PKG_ARCH ?=	*

PREFIX ?=	/var/www
INSTDIR ?=	horde/${HORDE_MODULE}
SUBST_VARS +=	INSTDIR

.if ${HORDE_MODULE}
SUBST_VARS +=	HORDE_MODULE HORDE_NAME
RUN_DEPENDS +=	www/horde/horde>=3.0
MASTER_SITES ?=	${HORDE_SITES:=${HORDE_MODULE}/}
HOMEPAGE ?=	http://www.horde.org/${HORDE_MODULE}/
.endif

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/${INSTDIR}
	cp -R ${WRKDIST}/* ${PREFIX}/${INSTDIR}
	chown -R ${BINOWN}:${BINGRP} ${PREFIX}/${INSTDIR}
	chown -R ${BINOWN}:www ${PREFIX}/${INSTDIR}/config
	find ${PREFIX}/${INSTDIR} -name \*.orig -print0 | xargs -0 -r rm

@


1.6
log
@- zap defunt master site that's timing out

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: horde.port.mk,v 1.5 2010/11/22 08:36:48 espie Exp $
@


1.5
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: horde.port.mk,v 1.4 2010/07/30 22:10:54 sthen Exp $
a7 1
	http://ftp.se.horde.org/ \
a10 1
	ftp://ftp.se.horde.org/mirror/horde/pub/ \
@


1.4
log
@- add another http MASTER_SITE
- move common dep's to the module, no plist changes
- tidy Makefiles
@
text
@d1 1
a1 1
# $OpenBSD: horde.port.mk,v 1.3 2010/07/30 21:24:39 sthen Exp $
d24 1
a24 1
RUN_DEPENDS +=	:horde->=3.0:www/horde/horde
@


1.3
log
@- move Horde distribution sites list across to horde.port.mk, no point
cluttering network.conf.template now they're in one place

- add an http variant at the head of the list
@
text
@d1 1
a1 1
# $OpenBSD: horde.port.mk,v 1.2 2010/07/30 15:31:17 sthen Exp $
d8 1
a15 2
MASTER_SITES ?=	${HORDE_SITES:=${HORDE_MODULE}/}

d20 6
a26 4

.if !${HORDE_MODULE:Mhorde}
SUBST_VARS +=	HORDE_MODULE HORDE_NAME INSTDIR
HORDE_RUNDEP =	:horde->=3.0:www/horde/horde
@


1.2
log
@fix RUN_DEPENDS and bump, remove some pointless junk from imp/Makefile
@
text
@d1 1
a1 1
# $OpenBSD: horde.port.mk,v 1.1.1.1 2010/07/30 11:27:06 sthen Exp $
d6 10
a15 1
MASTER_SITES ?=	${MASTER_SITE_HORDE:=${HORDE_MODULE}/}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d12 1
d16 1
a16 1
HORDE_RUNDEP =	:horde->=3.0:devel/horde
@


1.1.1.1
log
@Import the various Horde components (horde, imp, ingo, kronolith, etc)
under a common directory, sharing infrastructure with Makefile.inc and
horde.port.mk. Update components to current versions while there.
Thanks Johan Huldtgren for suggestions and testing and ajacoutot@@
for suggestions and ok.
@
text
@@
