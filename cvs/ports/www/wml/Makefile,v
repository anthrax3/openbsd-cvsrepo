head	1.23;
access;
symbols
	OPENBSD_6_1:1.23.0.4
	OPENBSD_6_1_BASE:1.23
	OPENBSD_6_0:1.23.0.2
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.19.0.8
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.19.0.4
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.19.0.2
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.15.0.4
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.15.0.2
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.11.0.8
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.11.0.6
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.4
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.5.0.2
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.3.0.4
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.2
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.1.1.0.6
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.4
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.2
	OPENBSD_4_0_BASE:1.1.1.1
	bernd_2006-jul-14:1.1.1.1
	bernd:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2016.07.09.08.46.24;	author sthen;	state Exp;
branches;
next	1.22;
commitid	5V5x7yAKWjzdrmlj;

1.22
date	2016.05.12.14.00.13;	author espie;	state Exp;
branches;
next	1.21;
commitid	ahNJS3ufsPPzbnzQ;

1.21
date	2016.04.12.15.19.40;	author naddy;	state Exp;
branches;
next	1.20;
commitid	N3rcp9eNnhmCMrQO;

1.20
date	2016.01.19.11.58.19;	author naddy;	state Exp;
branches;
next	1.19;
commitid	MeoDHglzrvtnED26;

1.19
date	2014.03.24.07.47.23;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2014.03.21.13.10.54;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2014.03.21.12.55.23;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2014.03.21.09.49.24;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.22.21.52.16;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2013.03.21.08.48.55;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2013.03.20.23.08.12;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2013.03.11.11.44.50;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2011.05.01.20.43.24;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.03.15.19.49.42;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.22.08.36.55;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.27.12.48.55;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2010.10.19.08.02.58;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2010.10.17.22.00.07;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2010.07.31.14.35.15;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2009.11.09.17.09.22;	author bernd;	state Exp;
branches;
next	1.3;

1.3
date	2008.10.01.20.15.04;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	2007.09.15.20.38.26;	author merdely;	state Exp;
branches;
next	1.1;

1.1
date	2006.07.14.16.12.12;	author bernd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.07.14.16.12.12;	author bernd;	state Exp;
branches;
next	;


desc
@@


1.23
log
@sync WANTLIB
@
text
@# $OpenBSD: Makefile,v 1.22 2016/05/12 14:00:13 espie Exp $

COMMENT=		Website META Language: off-line HTML generation toolkit

DISTNAME=		wml-2.0.11
REVISION=		11
CATEGORIES=		www

HOMEPAGE=		http://www.thewml.org/

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=		${HOMEPAGE}/distrib/

WANTLIB=		c iconv intl m ncurses perl pthread
LIB_DEPENDS=		devel/gettext

RUN_DEPENDS=		graphics/p5-GD \
			graphics/p5-Image-Size \
			math/p5-Bit-Vector \
			www/p5-HTML-Clean \
			www/tidyp>=1.04p1
BUILD_DEPENDS=		${RUN_DEPENDS}

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--with-openworld
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

MAKE_ENV=		EXT_TIDY=${LOCALBASE}/bin/tidy \
			EXT_HTMLCLEAN=${LOCALBASE}/bin/htmlclean

post-extract:
	rm ${WRKSRC}/wml_aux/tidy/*.orig

.include <bsd.port.mk>
@


1.22
log
@Term-ReadKey is part of the base system now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/04/12 15:19:40 naddy Exp $
d6 1
a6 1
REVISION=		10
d16 1
a16 1
WANTLIB=		c iconv intl m ncurses perl util
@


1.21
log
@replace gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/01/19 11:58:19 naddy Exp $
d6 1
a6 1
REVISION=		9
d19 1
a19 2
RUN_DEPENDS=		devel/p5-Term-ReadKey \
			graphics/p5-GD \
@


1.20
log
@fix intermittent mp4h segfault: use libc realloc() instead of a broken
replacement function
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/03/24 07:47:23 jasper Exp $
d6 1
a6 1
REVISION=		8
d16 2
a17 2
WANTLIB=		c m ncurses perl util
MODULES=		devel/gettext
@


1.19
log
@TEST_DEPENDS=${RUN_DEPENDS} already gets set by cpan.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/03/21 13:10:54 sthen Exp $
d6 1
a6 1
REVISION=		7
@


1.18
log
@more tweaks; put the =encoding lines after __END__ in files which have
both source and pod
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2014/03/21 12:55:23 jasper Exp $
a25 1
TEST_DEPENDS=		${RUN_DEPENDS}
@


1.17
log
@Fix remaining pod2man errors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/03/21 09:49:24 sthen Exp $
d6 1
a6 1
REVISION=		6
@


1.16
log
@explicitly set pod encoding
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/22 21:52:16 sthen Exp $
d6 1
a6 1
REVISION=		5
@


1.15
log
@patch to fix with perl 5.16
regen plist while there
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/03/21 08:48:55 ajacoutot Exp $
d6 1
a6 1
REVISION=		4
@


1.14
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/03/20 23:08:12 sthen Exp $
d6 1
a6 1
REVISION=		3
@


1.13
log
@better COMMENT and fix regression tests
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/03/11 11:44:50 espie Exp $
a26 2

USE_LIBTOOL=		Yes
@


1.12
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/05/01 20:43:24 jasper Exp $
d3 1
a3 1
COMMENT=		Website META Language
d6 1
a6 1
REVISION=		2
d26 1
d28 1
a28 2
USE_LIBTOOL =	Yes
USE_GROFF =	Yes
@


1.11
log
@don't force rm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/03/15 19:49:42 jasper Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.10
log
@- switch from www/tidy to www/tidyp which is API compatible

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/22 08:36:55 espie Exp $
d42 1
a42 1
	@@rm -f ${WRKSRC}/wml_aux/tidy/*.orig
@


1.9
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/27 12:48:55 steven Exp $
d6 1
a6 1
REVISION=		1
d27 1
a27 1
			www/tidy
@


1.8
log
@works with openbsd libtool now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/10/17 22:00:07 jasper Exp $
d22 6
a27 6
RUN_DEPENDS=		::devel/p5-Term-ReadKey \
			::graphics/p5-GD \
			::graphics/p5-Image-Size \
			::math/p5-Bit-Vector \
			::www/p5-HTML-Clean \
			::www/tidy
@


1.7
log
@USE_GROFF=Yes
@
text
@d30 1
a30 5
# Using perl libtool gives:
# strip: /usr/obj/ports/wml-2.0.11/fake-amd64//usr/local/libexec/wml/#INST@@29788#:
#	File format not recognized
# May be unrelated, but forcing GNU libtool lets this build at least.
USE_LIBTOOL=		Gnu
@


1.6
log
@- use gnu libtool for now, so at least it builds. and add a comment about it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/07/31 14:35:15 naddy Exp $
d35 1
@


1.5
log
@LP64 fix
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/11/09 17:09:22 bernd Exp $
d17 1
a17 1
MASTER_SITES=		${HOMEPAGE}distrib/
d30 5
a34 1
USE_LIBTOOL=		Yes
@


1.4
log
@Remove myself from MAINTAINER and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/10/01 20:15:04 millert Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d11 1
a11 1
# GPL
@


1.3
log
@Update to wml 2.0.11 and fix an assumption in configure that is
not valid for perl-5.10.0.  OK bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/09/15 20:38:26 merdely Exp $
d6 1
a9 2

MAINTAINER=		Bernd Ahlers <bernd@@openbsd.org>
@


1.2
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/07/14 16:12:12 bernd Exp $
d5 1
a5 1
DISTNAME=		wml-2.0.9
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
COMMENT=		"Website META Language"
@


1.1.1.1
log
@Initial import of wml-2.0.9.

WML is a free and extensible Webdesigner's off-line HTML generation
toolkit. It consists of a control frontend driving up to nine backends
in a sequential pass-oriented filtering scheme.  Each backend provides
one particular core language.  For maximum power WML additionally ships
with a well-suited set of include files which provide higher-level
features built on top of the backend core languages.  While not trivial
and idiot proof WML provides most of the core features real hackers
always wanted for HTML generation.

Lots of testing and feedback from steven@@. Thanks!
@
text
@@
