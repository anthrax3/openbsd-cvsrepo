head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.10
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.8
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.4
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.6
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.2.0.28
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.26
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.24
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.22
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.20
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.18
	OPENBSD_5_0:1.2.0.16
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.14
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.12
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.10
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.8
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.6
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.1.1.0.10
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.8
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.6
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.4
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.2
	OPENBSD_3_8_BASE:1.1.1.1
	aanriot_20050806:1.1.1.1
	aanriot:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2014.08.20.21.15.23;	author kili;	state Exp;
branches;
next	1.2;
commitid	YbYIzyyrWbhVof8P;

1.2
date	2008.02.03.15.06.48;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2005.08.06.21.21.53;	author aanriot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.08.06.21.21.53;	author aanriot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to polipo-1.1.1.

Two users (David Schaefer and me) are happy. no feedback from the
third user.
@
text
@--- Makefile.orig	Thu May 15 00:19:43 2014
+++ Makefile	Sun Aug 17 20:09:15 2014
@@@@ -1,9 +1,8 @@@@
-PREFIX = /usr/local
 BINDIR = $(PREFIX)/bin
 MANDIR = $(PREFIX)/man
 INFODIR = $(PREFIX)/info
-LOCAL_ROOT = /usr/share/polipo/www
-DISK_CACHE_ROOT = /var/cache/polipo
+LOCAL_ROOT = ${PREFIX}/share/doc/polipo
+DISK_CACHE_ROOT = /var/polipo/cache
 
 # To compile with Unix CC:
 
@@@@ -12,7 +11,6 @@@@ DISK_CACHE_ROOT = /var/cache/polipo
 # To compile with GCC:
 
 # CC = gcc
-CDEBUGFLAGS = -Os -g -Wall -fno-strict-aliasing
 
 # To compile on a pure POSIX system:
 
@@@@ -60,7 +58,7 @@@@ FILE_DEFINES = -DLOCAL_ROOT=\"$(LOCAL_ROOT)/\" \
 
 DEFINES = $(FILE_DEFINES) $(PLATFORM_DEFINES)
 
-CFLAGS = $(MD5INCLUDES) $(CDEBUGFLAGS) $(DEFINES) $(EXTRA_DEFINES)
+CFLAGS += $(MD5INCLUDES) $(CDEBUGFLAGS) $(DEFINES) $(EXTRA_DEFINES)
 
 SRCS = util.c event.c io.c chunk.c atom.c object.c log.c diskcache.c main.c \
        config.c local.c http.c client.c server.c auth.c tunnel.c \
@@@@ -86,20 +84,19 @@@@ all: polipo$(EXE) polipo.info html/index.html localind
 install: install.binary install.man
 
 install.binary: all
-	mkdir -p $(TARGET)$(BINDIR)
-	mkdir -p $(TARGET)$(LOCAL_ROOT)
-	mkdir -p $(TARGET)$(LOCAL_ROOT)/doc
+	${BSD_INSTALL_DATA_DIR} $(TARGET)$(BINDIR)
+	${BSD_INSTALL_DATA_DIR} $(TARGET)$(LOCAL_ROOT)
+	${BSD_INSTALL_DATA_DIR} $(TARGET)$(LOCAL_ROOT)/doc
 	rm -f $(TARGET)$(BINDIR)/polipo
-	cp -f polipo $(TARGET)$(BINDIR)/
-	cp -f html/* $(TARGET)$(LOCAL_ROOT)/doc
-	cp -f localindex.html $(TARGET)$(LOCAL_ROOT)/index.html
+	${BSD_INSTALL_PROGRAM} polipo $(TARGET)$(BINDIR)/
+	${BSD_INSTALL_DATA} html/* $(TARGET)$(LOCAL_ROOT)/doc
+	${BSD_INSTALL_DATA} localindex.html $(TARGET)$(LOCAL_ROOT)/index.html
 
 install.man: all
-	mkdir -p $(TARGET)$(MANDIR)/man1
-	mkdir -p $(TARGET)$(INFODIR)
-	cp -f polipo.man $(TARGET)$(MANDIR)/man1/polipo.1
-	cp polipo.info $(TARGET)$(INFODIR)/
-	install-info --info-dir=$(TARGET)$(INFODIR) polipo.info
+	${BSD_INSTALL_MAN_DIR} $(TARGET)$(MANDIR)/man1
+	${BSD_INSTALL_DATA_DIR} $(TARGET)$(INFODIR)
+	${BSD_INSTALL_MAN} polipo.man $(TARGET)$(MANDIR)/man1/polipo.1
+	${BSD_INSTALL_DATA} polipo.info $(TARGET)$(INFODIR)/
 
 
 polipo.info: polipo.texi
@


1.2
log
@
Update to 1.0.4 and take maintainership.

ok sthen@@
@
text
@d1 2
a2 2
--- Makefile.orig	Sat Oct  6 15:43:15 2007
+++ Makefile	Fri Nov 16 23:48:55 2007
d15 2
a16 1
@@@@ -13,7 +12,6 @@@@ DISK_CACHE_ROOT = /var/cache/polipo
d19 1
a19 4
 # CDEBUGFLAGS = -Os -g -Wall -std=gnu99
-CDEBUGFLAGS = -Os -g -Wall
 # CDEBUGFLAGS = -Os -Wall
 # CDEBUGFLAGS = -g -Wall
d21 3
a23 1
@@@@ -63,7 +61,7 @@@@ FILE_DEFINES = -DLOCAL_ROOT=\"$(LOCAL_ROOT)/\" \
d32 1
a32 1
@@@@ -89,20 +87,19 @@@@ all: polipo$(EXE) polipo.info html/index.html localind
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
--- Makefile.orig	Mon Jun 28 23:30:07 2004
+++ Makefile	Fri Aug  5 22:45:35 2005
@@@@ -1,15 +1,15 @@@@
a9 1
+#LOCAL_ROOT = ${PREFIX}/share/polipo
d13 3
a15 1
 # CDEBUGFLAGS = -O
d18 2
a19 3
 # CDEBUGFLAGS = -O -g -Wall -std=gnu99
-CDEBUGFLAGS = -O -g -Wall
+# CDEBUGFLAGS = -O -g -Wall
d23 1
a23 1
@@@@ -47,7 +47,7 @@@@ FILE_DEFINES = -DLOCAL_ROOT=\"$(LOCAL_RO
d32 1
a32 1
@@@@ -71,21 +71,17 @@@@ all: polipo polipo.info html/index.html 
d39 3
a41 3
+	$(BSD_INSTALL_DATA_DIR) $(TARGET)$(BINDIR)
+	$(BSD_INSTALL_DATA_DIR) $(TARGET)$(LOCAL_ROOT)
+	$(BSD_INSTALL_DATA_DIR) $(TARGET)$(LOCAL_ROOT)/doc
d46 3
a48 3
+	$(BSD_INSTALL_PROGRAM) polipo $(TARGET)$(BINDIR)/
+	$(BSD_INSTALL_DATA) html/* $(TARGET)$(LOCAL_ROOT)/doc
+	$(BSD_INSTALL_DATA) localindex.html $(TARGET)$(LOCAL_ROOT)/index.html
d55 6
a60 4
-	install-info --info-dir=$(INFODIR) polipo.info
-
+	$(BSD_INSTALL_MAN) polipo.man $(TARGET)$(MANDIR)/man1/polipo.1
+	$(BSD_INSTALL_DATA) polipo.info $(TARGET)$(INFODIR)/
a62 1
 	makeinfo polipo.texi
@


1.1.1.1
log
@import polipo 0.9.8.

Polipo is a small and fast caching web proxy (a web cache, an HTTP
proxy) designed to be used by one person or a small group of people. I
like to think that is similar in spirit to WWWOFFLE, but the
implementation techniques are more like the ones ones used by Squid.

from Jon Trembley <jon@@brain-box.net>;
help and ok alek@@
@
text
@@
