head	1.2;
access;
symbols
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2014.10.15.15.01.14;	author giovanni;	state dead;
branches;
next	1.1;
commitid	7YHr148TPHHYcWAE;

1.1
date	2014.07.03.13.13.59;	author giovanni;	state Exp;
branches
	1.1.2.1;
next	;
commitid	Fo7BZFlANUOfkhUU;

1.1.2.1
date	2014.12.10.13.58.12;	author jasper;	state dead;
branches;
next	;
commitid	WsA42ueJ9Wth7Liw;


desc
@@


1.2
log
@Update to 4.2.10
Force compatibility with MySQL 5.0.x to be able to connect to remote databases
@
text
@$OpenBSD: patch-libraries_structure_lib_php,v 1.1 2014/07/03 13:13:59 giovanni Exp $
Fix for CVE-2014-4348
--- libraries/structure.lib.php.orig	Thu Jun 26 11:25:45 2014
+++ libraries/structure.lib.php	Thu Jun 26 11:27:54 2014
@@@@ -2735,9 +2735,8 @@@@ function PMA_checkFavoriteTable($db, $current_table)
 function PMA_getHtmlForFavoriteAnchor($db, $current_table, $titles)
 {
     $html_output  = '<a ';
-    $html_output .= 'id="' . preg_replace(
-        '/\s+/', '', $current_table['TABLE_NAME']
-    ) . '_favorite_anchor" ';
+    $html_output .= 'id="' . md5($current_table['TABLE_NAME'])
+        . '_favorite_anchor" ';
     $html_output .= 'class="ajax favorite_table_anchor';
 
     // Check if current table is already in favorite list.
@@@@ -2751,7 +2750,7 @@@@ function PMA_getHtmlForFavoriteAnchor($db, $current_ta
     $html_output .= 'href="' . $fav_url
         . '" title="' . ($already_favorite ? __("Remove from Favorites")
         : __("Add to Favorites"))
-        . '" data-favtargets="' . $db . "." . $current_table['TABLE_NAME']
+        . '" data-favtargets="' . md5($db . "." . $current_table['TABLE_NAME'])
         . '" >'
         . (!$already_favorite ? $titles['NoFavorite']
         : $titles['Favorite']) . '</a>';
@


1.1
log
@
backport security fixes for CVE-2014-4348 and CVE-2014-4349
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@security update to 4.3.0, addressing PMASA-2014-[12-18]
@
text
@d1 1
a1 1
$OpenBSD: patch-libraries_structure_lib_php,v 1.1 2014/07/03 13:13:59 giovanni Exp $
@


