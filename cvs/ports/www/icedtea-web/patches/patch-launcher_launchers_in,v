head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.4
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2016.05.15.13.20.43;	author landry;	state Exp;
branches;
next	1.1;
commitid	CfVxoyZBtpv3NYx0;

1.1
date	2015.03.24.20.29.10;	author landry;	state Exp;
branches;
next	;
commitid	FxzszpQYc54YsvqM;


desc
@@


1.2
log
@Update to icedtea-web 1.6.2.

Jirib submitted a similar diff a while ago
Drop maintainership as i never really used this, and java on the web is dead.
@
text
@$OpenBSD: patch-launcher_launchers_in,v 1.1 2015/03/24 20:29:10 landry Exp $
2nd chunk needed for:
Error: could not find libjava.so
Error: Could not find Java SE Runtime Environment.
--- launcher/launchers.in.orig	Wed Feb  3 14:47:43 2016
+++ launcher/launchers.in	Wed Mar  9 17:35:04 2016
@@@@ -1,4 +1,4 @@@@
-#!/bin/bash
+#!${TRUEPREFIX}/bin/bash
 
 JAVA=@@JAVA@@
 LAUNCHER_BOOTCLASSPATH=@@LAUNCHER_BOOTCLASSPATH@@
@@@@ -95,6 +95,6 @@@@ while [ "$j" -lt "${#ARGS[@@]}" ]; do
   k=$((k+1))
 done
 
-exec -a "$PROGRAM_NAME" "${COMMAND[@@]}"
+exec "${COMMAND[@@]}"
 
 exit $?
@


1.1
log
@Update to icedtea-web 1.5.2.

Patches from kurt@@ merged upstream. Add shells/bash to bdep/rdep since the
launcher scripts are really too horrible.
See http://mail.openjdk.java.net/pipermail/distro-pkg-dev/2014-April/027133.html
for the 1.5.x first release and
http://mail.openjdk.java.net/pipermail/distro-pkg-dev/2014-November/030195.html
for this last one.

Tested with midori on http://javatester.org/version.html
@
text
@d1 1
a1 1
$OpenBSD$
d5 2
a6 2
--- launcher/launchers.in.orig	Wed Nov 26 17:39:23 2014
+++ launcher/launchers.in	Tue Mar 24 21:15:51 2015
@

