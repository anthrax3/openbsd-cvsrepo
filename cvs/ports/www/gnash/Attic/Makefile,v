head	1.65;
access;
symbols
	OPENBSD_6_0:1.64.0.2
	OPENBSD_6_0_BASE:1.64
	OPENBSD_5_9:1.63.0.2
	OPENBSD_5_9_BASE:1.63
	OPENBSD_5_8:1.62.0.4
	OPENBSD_5_8_BASE:1.62
	OPENBSD_5_7:1.61.0.4
	OPENBSD_5_7_BASE:1.61
	OPENBSD_5_6:1.61.0.2
	OPENBSD_5_6_BASE:1.61
	OPENBSD_5_5:1.59.0.2
	OPENBSD_5_5_BASE:1.59
	OPENBSD_5_4:1.57.0.2
	OPENBSD_5_4_BASE:1.57
	OPENBSD_5_3:1.54.0.2
	OPENBSD_5_3_BASE:1.54
	OPENBSD_5_2:1.51.0.2
	OPENBSD_5_2_BASE:1.51
	OPENBSD_5_1_BASE:1.49
	OPENBSD_5_1:1.49.0.2
	OPENBSD_5_0:1.44.0.2
	OPENBSD_5_0_BASE:1.44
	OPENBSD_4_9:1.38.0.2
	OPENBSD_4_9_BASE:1.38
	OPENBSD_4_8:1.26.0.2
	OPENBSD_4_8_BASE:1.26
	OPENBSD_4_7:1.24.0.2
	OPENBSD_4_7_BASE:1.24
	OPENBSD_4_6:1.22.0.6
	OPENBSD_4_6_BASE:1.22
	OPENBSD_4_5:1.22.0.4
	OPENBSD_4_5_BASE:1.22
	OPENBSD_4_4:1.22.0.2
	OPENBSD_4_4_BASE:1.22
	OPENBSD_4_3:1.19.0.2
	OPENBSD_4_3_BASE:1.19
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	jolan_20060921:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.65
date	2016.11.05.16.45.43;	author ajacoutot;	state dead;
branches;
next	1.64;
commitid	unO9pHWUMxa96QsB;

1.64
date	2016.03.18.21.38.26;	author naddy;	state Exp;
branches;
next	1.63;
commitid	BVkebQSTXSZokeRG;

1.63
date	2016.01.23.18.57.37;	author landry;	state Exp;
branches;
next	1.62;
commitid	RGx5ndX4W9IdXjtG;

1.62
date	2015.03.27.08.15.03;	author ajacoutot;	state Exp;
branches;
next	1.61;
commitid	pJtemCapJ8nySttp;

1.61
date	2014.04.16.05.31.11;	author brad;	state Exp;
branches;
next	1.60;

1.60
date	2014.04.10.06.13.04;	author brad;	state Exp;
branches;
next	1.59;

1.59
date	2013.11.16.07.15.22;	author landry;	state Exp;
branches;
next	1.58;

1.58
date	2013.09.25.07.58.46;	author sthen;	state Exp;
branches;
next	1.57;

1.57
date	2013.03.21.08.48.55;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2013.03.11.11.44.42;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2013.03.08.00.58.26;	author brad;	state Exp;
branches;
next	1.54;

1.54
date	2013.02.05.11.50.48;	author brad;	state Exp;
branches;
next	1.53;

1.53
date	2012.09.26.19.19.56;	author brad;	state Exp;
branches;
next	1.52;

1.52
date	2012.09.22.17.33.29;	author naddy;	state Exp;
branches;
next	1.51;

1.51
date	2012.06.15.08.32.18;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2012.02.22.13.22.00;	author dcoppa;	state Exp;
branches;
next	1.49;

1.49
date	2011.12.19.21.23.24;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2011.12.15.09.47.23;	author sthen;	state Exp;
branches;
next	1.47;

1.47
date	2011.12.03.23.20.53;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2011.11.23.21.13.27;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2011.09.16.12.00.06;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2011.06.02.17.09.32;	author kili;	state Exp;
branches
	1.44.2.1;
next	1.43;

1.43
date	2011.04.15.21.43.14;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2011.04.03.15.02.11;	author dcoppa;	state Exp;
branches;
next	1.41;

1.41
date	2011.03.27.10.42.24;	author dcoppa;	state Exp;
branches;
next	1.40;

1.40
date	2011.03.25.09.45.17;	author dcoppa;	state Exp;
branches;
next	1.39;

1.39
date	2011.03.23.16.20.02;	author dcoppa;	state Exp;
branches;
next	1.38;

1.38
date	2011.01.15.10.56.51;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2010.12.03.07.27.03;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2010.11.22.08.36.48;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.11.07.18.58.24;	author dcoppa;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.27.07.57.34;	author dcoppa;	state Exp;
branches;
next	1.33;

1.33
date	2010.10.24.21.40.09;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2010.10.19.08.02.53;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2010.10.13.06.26.04;	author dcoppa;	state Exp;
branches;
next	1.30;

1.30
date	2010.10.12.10.05.31;	author dcoppa;	state Exp;
branches;
next	1.29;

1.29
date	2010.10.12.09.38.16;	author dcoppa;	state Exp;
branches;
next	1.28;

1.28
date	2010.08.26.21.32.11;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2010.08.26.12.09.07;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2010.06.13.14.35.28;	author landry;	state Exp;
branches;
next	1.25;

1.25
date	2010.06.11.09.40.43;	author dcoppa;	state Exp;
branches;
next	1.24;

1.24
date	2009.10.14.12.51.45;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.09.28.18.33.15;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2008.07.29.18.46.08;	author martynas;	state Exp;
branches;
next	1.21;

1.21
date	2008.07.09.02.25.44;	author jakemsr;	state Exp;
branches;
next	1.20;

1.20
date	2008.06.28.15.46.33;	author deanna;	state Exp;
branches;
next	1.19;

1.19
date	2007.12.18.22.04.32;	author deanna;	state Exp;
branches;
next	1.18;

1.18
date	2007.10.21.09.25.48;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2007.10.02.19.09.44;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2007.09.24.07.46.38;	author jakemsr;	state Exp;
branches;
next	1.15;

1.15
date	2007.09.15.20.38.21;	author merdely;	state Exp;
branches;
next	1.14;

1.14
date	2007.08.09.22.08.19;	author deanna;	state Exp;
branches;
next	1.13;

1.13
date	2007.07.16.04.02.38;	author deanna;	state Exp;
branches;
next	1.12;

1.12
date	2007.07.07.10.47.04;	author deanna;	state Exp;
branches;
next	1.11;

1.11
date	2007.05.25.16.17.45;	author jakemsr;	state Exp;
branches;
next	1.10;

1.10
date	2007.05.15.17.01.01;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2007.05.11.20.20.23;	author deanna;	state Exp;
branches;
next	1.8;

1.8
date	2007.02.15.17.07.21;	author steven;	state Exp;
branches
	1.8.2.1;
next	1.7;

1.7
date	2007.02.11.20.36.06;	author deanna;	state Exp;
branches;
next	1.6;

1.6
date	2006.12.08.15.40.26;	author deanna;	state Exp;
branches;
next	1.5;

1.5
date	2006.11.20.20.37.51;	author bernd;	state Exp;
branches;
next	1.4;

1.4
date	2006.11.20.04.06.41;	author jolan;	state Exp;
branches;
next	1.3;

1.3
date	2006.10.16.08.27.19;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2006.09.21.23.14.48;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2006.09.21.15.48.10;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.09.21.15.48.10;	author jolan;	state Exp;
branches;
next	;

1.8.2.1
date	2007.05.15.05.50.35;	author sturm;	state Exp;
branches;
next	;

1.44.2.1
date	2011.11.23.21.14.43;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.65
log
@Remove www/gnash because... well :-)
General agreement from the b2k16 hackroom a couple days ago and Brad is ok
to remove it as well.
@
text
@# $OpenBSD: Makefile,v 1.64 2016/03/18 21:38:26 naddy Exp $

ONLY_FOR_ARCHS=	${GCC4_ARCHS}

COMMENT=	SWF player with Firefox browser plugin

VER=		0.8.10
DISTNAME=	gnash-${VER}
REVISION=	9
EPOCH=		0
CATEGORIES=	www
MASTER_SITES=	${MASTER_SITE_GNU:=gnash/${VER}/}
EXTRACT_SUFX=	.tar.bz2

HOMEPAGE=	https://www.gnu.org/software/gnash/

MAINTAINER=	Brad Smith <brad@@comstyle.com>

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	SDL X11 agg avcodec avformat avutil boost_iostreams \
		boost_program_options-mt boost_system-mt boost_thread-mt \
		c curl fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
		gif glib-2.0 gobject-2.0 gtk-x11-2.0 jpeg ltdl m png \
		pthread speex speexdsp stdc++ swresample swscale z

MODULES=	devel/gettext
BUILD_DEPENDS=	devel/xulrunner/24,-devel
RUN_DEPENDS=	devel/desktop-file-utils \
		x11/gtk+3,-guic
LIB_DEPENDS=	audio/speex \
		devel/boost \
		devel/libtool,-ltdl \
		devel/sdl \
		graphics/agg \
		graphics/ffmpeg>=20121026 \
		graphics/jpeg \
		graphics/giflib \
		graphics/png \
		net/curl \
		x11/gtk+2

USE_GMAKE=	Yes
LIBTOOL_FLAGS+=	--tag=disable-static
AUTOCONF_VERSION=2.64
CONFIGURE_STYLE= autoconf
CONFIGURE_ARGS=	--disable-cygnal \
		--disable-jemalloc \
		--enable-renderer=agg \
		--enable-gui=gtk \
		--enable-media=ffmpeg \
		--without-gconf \
		--with-npapi-plugindir=${LOCALBASE}/lib/mozilla/plugins
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

INSTALL_TARGET=	install install-plugins

# testsuite available at http://www.gnashdev.org/testcases/
NO_TEST=	Yes

SUBST_VARS=	VER

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnash
	${INSTALL_DATA} ${WRKSRC}/libbase/{gnashpluginrc,gnashrc} \
	    ${PREFIX}/share/examples/gnash

.include <bsd.port.mk>
@


1.64
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2016/01/23 18:57:37 landry Exp $
@


1.63
log
@Add a working HOMEPAGE.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.62 2015/03/27 08:15:03 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.62
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2014/04/16 05:31:11 brad Exp $
d11 1
a11 1
REVISION=	8
d17 1
a17 1
HOMEPAGE=	http://gnashdev.org
@


1.61
log
@Reinstate some macro removal from macros/ffmpeg.m4 that was blown away by
accident with the previous commit so as to not have an unnecessary and
hidden dependency on libdca (libdts).

Reported by and ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/04/10 06:13:04 brad Exp $
d11 1
a11 1
REVISION=	7
d33 1
a33 1
		x11/gtk+2,-guic
@


1.60
log
@Back port updated FFmpeg backend for Gnash to bring in some
bug fixes and deal with newer FFmpeg.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/11/16 07:15:22 landry Exp $
d11 1
a11 1
REVISION=	6
@


1.59
log
@Switch to use xulrunner/24, bump REVISION.
ok brad@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/09/25 07:58:46 sthen Exp $
d11 1
a11 1
REVISION=	5
d28 1
a28 1
		pthread speex speexdsp stdc++ swscale z
@


1.58
log
@libungif->giflib and patch where necessary, ok jasper@@ aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/03/21 08:48:55 ajacoutot Exp $
d11 1
a11 1
REVISION=	4
d31 1
a31 1
BUILD_DEPENDS=	devel/xulrunner/1.9,-devel
@


1.57
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/03/11 11:44:42 espie Exp $
d11 1
a11 1
REVISION=	3
d25 4
a28 4
		boost_program_options-mt boost_thread-mt c curl fontconfig \
		freetype gdk-x11-2.0 gdk_pixbuf-2.0 gif glib-2.0 gobject-2.0 \
		gtk-x11-2.0 jpeg ltdl m png pthread speex speexdsp \
		stdc++ swscale z
d41 1
a41 1
		graphics/libungif \
@


1.56
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/03/08 00:58:26 brad Exp $
a46 1
USE_LIBTOOL=	Yes
@


1.55
log
@Switch back to the FFmpeg media backend and add some patches from
upstream to allow building with newer FFmpeg API.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/02/05 11:50:48 brad Exp $
a22 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d64 1
a64 1
NO_REGRESS=	Yes
@


1.54
log
@Switch to using the GStreamer media backend.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/09/26 19:19:56 brad Exp $
d11 1
a11 1
REVISION=	2
d27 2
a28 2
WANTLIB=	SDL X11 agg boost_iostreams boost_program_options-mt \
		boost_system-mt boost_thread-mt c curl fontconfig \
d30 2
a31 2
		gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10 gtk-x11-2.0 \
		jpeg ltdl m png pthread speex speexdsp stdc++ z \
a35 3
		multimedia/gstreamer-0.10/plugins-ffmpeg \
		multimedia/gstreamer-0.10/plugins-good \
		multimedia/gstreamer-0.10/plugins-ugly \
d42 1
a45 1
		multimedia/gstreamer-0.10/plugins-base \
d58 1
a58 1
		--enable-media=gst \
@


1.53
log
@Rip out some autoconf checks which are intended to workaround
FFmpeg quirks with other OS's but result in hidden dependencies
on OpenBSD.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/09/22 17:33:29 naddy Exp $
d11 1
a11 1
REVISION=	1
d27 2
a28 2
WANTLIB=	SDL X11 agg avcodec avformat avutil boost_iostreams \
		boost_program_options-mt boost_thread-mt c curl fontconfig \
d30 2
a31 2
		gtk-x11-2.0 jpeg ltdl m png pthread speex speexdsp \
		stdc++ swscale z \
d36 3
a44 1
		graphics/ffmpeg \
d48 1
d61 1
a61 1
		--enable-media=ffmpeg \
@


1.52
log
@fix build after pango 1.31 update: pangox is gone
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/06/15 08:32:18 ajacoutot Exp $
d11 1
a11 1
REVISION=	0
@


1.51
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/02/22 13:22:00 dcoppa Exp $
d52 2
a53 1
CONFIGURE_STYLE= gnu
@


1.50
log
@Bugfixing update to gnash-0.8.10

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/12/19 21:23:24 sthen Exp $
d11 1
@


1.49
log
@Actually check for and use mkstemps() rather than use a broken check
for glibc version and some hand-rolled alternative. From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/12/15 09:47:23 sthen Exp $
d9 1
a9 1
VER=		0.8.9
a10 1
REVISION=	6
d14 1
d51 1
a51 2
CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.67
d57 1
@


1.48
log
@Fix CVE-2011-4328 in Gnash; creating world-readable cookies under /tmp
with predictable filenames. From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/12/03 23:20:53 ajacoutot Exp $
d11 1
a11 1
REVISION=	5
@


1.47
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/11/23 21:13:27 jasper Exp $
d11 1
a11 1
REVISION=	4
d25 6
a30 5
WANTLIB=	SDL X11 agg avcodec avformat avutil boost_program_options-mt \
		boost_thread-mt c curl freetype fontconfig gdk_pixbuf-2.0 \
		gdk-x11-2.0 gif glib-2.0 gobject-2.0 gtk-x11-2.0 jpeg ltdl m \
		glib-2.0 gobject-2.0 gtk-x11-2.0 png pthread speex speexdsp \
		stdc++ swscale z
@


1.46
log
@Security fix for SA46955
GNU Gnash Cookie Disclosure Security Issue

ok brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/09/16 12:00:06 espie Exp $
d11 1
a11 1
REVISION=	3
d33 2
a34 1
RUN_DEPENDS=	devel/desktop-file-utils
@


1.45
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/06/02 17:09:32 kili Exp $
d11 1
a11 1
REVISION=	2
@


1.44
log
@--disable-silent-rules is now added to CONFIGURE_ARGS per default,
if CONFIGURE_STYLE = gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/04/15 21:43:14 sthen Exp $
d11 1
a11 1
REVISION=	1
@


1.44.2.1
log
@Security fix for SA46955
GNU Gnash Cookie Disclosure Security Issue

ok brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/06/02 17:09:32 kili Exp $
d11 1
a11 1
REVISION=	2
@


1.43
log
@switch to autoconf 2.67, from Brad. config.h's checked.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/04/03 15:02:11 dcoppa Exp $
a52 1
		--disable-silent-rules \
@


1.42
log
@Some fixes backported from upstream:

- Remove dependency on bzip2.
- Remove some OpenBSD build hacks which have been broken for quite
  awhile and are not necessary anyway.
- Update FFmpeg macro for newer versions.

From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/03/27 10:42:24 dcoppa Exp $
d50 1
a50 2
# Should be 2.67
AUTOCONF_VERSION= 2.65
@


1.41
log
@gnash needs an EPOCH bump:
20060919 > 0.8.9

spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/03/25 09:45:17 dcoppa Exp $
d11 1
a11 1
REVISION=	0
d34 1
a34 2
LIB_DEPENDS=	archivers/bzip2 \
		audio/speex \
d49 3
a51 1
CONFIGURE_STYLE= gnu
@


1.40
log
@general clean up and simplification, no functional changes.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/03/23 16:20:02 dcoppa Exp $
d12 1
@


1.39
log
@Update to gnash-0.8.9

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/01/15 10:56:51 jasper Exp $
d11 1
d50 1
a50 1
CONFIGURE_ARGS+=--disable-cygnal \
a55 1
		--with-libintl-prefix=${LOCALBASE} \
d57 1
a57 1
CONFIGURE_ENV+=	CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include -I${X11BASE}/include" \
@


1.38
log
@- remove USE_GROFF=Yes, manpages checked by brad.

from brad (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/12/03 07:27:03 jasper Exp $
d9 1
a9 1
VER=		0.8.8
a10 1
REVISION=	2
a13 2
SHARED_LIBS=	gnashrender	0.0

d23 5
a27 11
WANTLIB=	ICE SDL>=8 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext \
		Xfixes Xi Xinerama Xrandr Xrender Xv agg>=2 atk-1.0 \
		avcodec>=14 avformat>=13 avutil>=7 boost_date_time-mt>=2 \
		boost_thread-mt>=2 bz2 c cairo crypto curl>=5 expat faac \
		faad freetype fontconfig gdk_pixbuf-2.0 gdk-x11-2.0 gif>=5 \
		gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gsm gthread-2.0 \
		gtk-x11-2.0 idn jpeg>=63 mp3lame m ogg orc-0.4 pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pangox-1.0 pcre pixman-1 png>=9 \
		pthread-stubs pthread schroedinger-1.0 sndio speex>=8 \
		speexdsp>=1 ssl stdc++ swscale>=2 theora usbhid vorbis \
		vorbisenc x264 xcb xcb-render xcb-render-util z
d30 2
d35 1
d46 1
a46 3
# Gnash requires GNU libtool 2.2 or greater, so use the bundled one
USE_LIBTOOL=	gnu
LIBTOOL=	${WRKSRC}/libtool
@


1.37
log
@- boolean variables only take boolean values, not random chit chat.

from mikolaj kucharski.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/11/22 08:36:48 espie Exp $
a53 1
USE_GROFF=	Yes
@


1.36
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/11/07 18:58:24 dcoppa Exp $
d71 2
a72 1
NO_REGRESS=	testsuite available at http://www.gnashdev.org/testcases/
@


1.35
log
@Backport a bunch of bug fixes from upstream, including fixing WAV
header writing on 64-bit archs.

From Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/27 07:57:34 dcoppa Exp $
d26 5
a30 5
WANTLIB=	ICE SDL.>=8 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext \
		Xfixes Xi Xinerama Xrandr Xrender Xv agg.>=2 atk-1.0 \
		avcodec.>=14 avformat.>=13 avutil.>=7 boost_date_time-mt.>=2 \
		boost_thread-mt.>=2 bz2 c cairo crypto curl.>=5 expat faac \
		faad freetype fontconfig gdk_pixbuf-2.0 gdk-x11-2.0 gif.>=5 \
d32 4
a35 4
		gtk-x11-2.0 idn jpeg.>=63 mp3lame m ogg orc-0.4 pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pangox-1.0 pcre pixman-1 png.>=9 \
		pthread-stubs pthread schroedinger-1.0 sndio speex.>=8 \
		speexdsp.>=1 ssl stdc++ swscale.>=2 theora usbhid vorbis \
d39 11
a49 11
LIB_DEPENDS=	::archivers/bzip2 \
		::audio/speex \
		::devel/boost \
		::devel/sdl \
		::graphics/agg \
		::graphics/ffmpeg \
		::graphics/jpeg \
		::graphics/libungif \
		::graphics/png \
		::net/curl \
		::x11/gtk+2
@


1.34
log
@Remove local patches to change the config dir so that the config dir
goes back to the default.

From Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/10/24 21:40:09 ajacoutot Exp $
d11 1
a11 1
REVISION=	1
@


1.33
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/10/19 08:02:53 espie Exp $
d11 1
a11 1
REVISION=	0
d54 1
a54 1
USE_GROFF =	Yes
@


1.32
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/10/13 06:26:04 dcoppa Exp $
a50 1
USE_X11=	Yes
@


1.31
log
@Zap "--disable-debugger" from CONFIGURE_ARGS

No bump, as debugger was already disabled by default.

From Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/10/12 10:05:31 dcoppa Exp $
d55 1
@


1.30
log
@tyop in pkg/DESCR :(

While here, a better comment into Makefile as well...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/10/12 09:38:16 dcoppa Exp $
a52 1

a56 1

a58 1
		--disable-debugger \
@


1.29
log
@Update to gnash-0.8.8
From Brad, who also takes maintainership.

OK dcoppa@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/08/26 21:32:11 ajacoutot Exp $
d11 1
d54 1
a54 1
# gnash requires libtool->=2.2, so use the bundled one
@


1.28
log
@Remove dependency on gstreamer-libsoup which is about to be merged into
gstreamer-plugins-good.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/08/26 12:09:07 ajacoutot Exp $
d5 1
a5 1
COMMENT=	flash player with firefox browser plugin
d7 3
a9 1
VER=		0.8.3
d11 2
d14 1
a14 4
REVISION=	6

CATEGORIES=	www
MASTER_SITES=	http://getgnash.org/packages/releases/
d18 1
a18 1
MAINTAINER=	Deanna Phillips <deanna@@openbsd.org>
d25 11
a35 8

WANTLIB=	c crypto expat freetype fontconfig \
		glib-2.0 gobject-2.0 gthread-2.0 gmodule-2.0\
		idn pcre jpeg m pthread ssl stdc++ z \
		gstbase-0.10 gstreamer-0.10 curl xml2 agg \
		gdk_pixbuf-2.0 gtk-x11-2.0 gdk-x11-2.0 ltdl \
		boost_thread-mt boost_date_time-mt \
		gstpbutils-0.10
d38 4
a41 3

LIB_DEPENDS+=	::net/curl \
		::textproc/libxml \
d43 6
a48 9
		::x11/gtk+2 \
		::devel/boost \
		::devel/libtool,-ltdl \
		::multimedia/gstreamer-0.10/plugins-base

RUN_DEPENDS+=	:gstreamer-ffmpeg->=0.10.4p0:multimedia/gstreamer-0.10/plugins-ffmpeg \
		::multimedia/gstreamer-0.10/plugins-ugly \
		::multimedia/gstreamer-0.10/plugins-bad \
		::multimedia/gstreamer-0.10/plugins-good
d52 4
a55 1
USE_LIBTOOL=	Yes
d59 1
a59 8

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gnash
	${INSTALL_DATA} ${WRKSRC}/libbase/{gnashpluginrc,gnashrc} \
	${PREFIX}/share/examples/gnash

CONFIGURE_ARGS+=--with-npapi-plugindir=${LOCALBASE}/lib/mozilla/plugins \
		--disable-cygnal \
d61 2
d65 5
a69 5
		--with-libintl-prefix=${LOCALBASE}

CONFIGURE_ENV+=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		GST_REGISTRY=${WRKDIR}/registry.${MACHINE_ARCH}.bin
d75 1
a75 2
SHARED_LIBS=	gnashnet 0.0 \
		mozsdk 0.0
d77 4
a80 1
SUBST_VARS=	VER
@


1.27
log
@Remove gstreamer-gnome dependency. It was deprecated in gstreamer 2
releases ago in favor or giosync (gvfs).
Switch to new depends/revision and regen PLIST.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/06/13 14:35:28 landry Exp $
d10 1
a10 1
REVISION=	5
d46 1
a46 2
		::multimedia/gstreamer-0.10/plugins-good \
		:gstreamer-libsoup->=0.10.19p1:multimedia/gstreamer-0.10/plugins-good,-soup
@


1.26
log
@Install plugin in lib/mozilla/plugins instead of lib/mozilla-plugins
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/06/11 09:40:43 dcoppa Exp $
d9 2
a10 1
PKGNAME=	${DISTNAME}p4
d28 4
a31 1
		gstbase-0.10 gstreamer-0.10
d35 7
a41 7
LIB_DEPENDS+=	curl.>=5::net/curl \
		xml2.>=9.0::textproc/libxml \
		agg.>=2::graphics/agg \
		gdk_pixbuf-2.0,gtk-x11-2.0,gdk-x11-2.0::x11/gtk+2 \
		boost_thread-mt.>=1,boost_date_time-mt.>=1:boost->=1.34.1p2:devel/boost \
		ltdl::devel/libtool,-ltdl \
		gstpbutils-0.10::multimedia/gstreamer-0.10/plugins-base
d47 1
a47 1
		:gstreamer-gnome->=0.10.19p1:multimedia/gstreamer-0.10/plugins-base,-gnome
@


1.25
log
@Prevent gst-inspect from writing to /root/.gstreamer-0.10/ during
the configure stage.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/10/14 12:51:45 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p3
d57 1
a57 1
CONFIGURE_ARGS+=--with-npapi-plugindir=${LOCALBASE}/lib/mozilla-plugins \
@


1.24
log
@As found out the hard way by landry@@ autoaudiosink (and probably other
things) do not run out of the box without the confelements.
We will merge confelements into the main gstreamer-plugins-good
package so that everything works out of the box.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/09/28 18:33:15 ajacoutot Exp $
d65 2
a66 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.23
log
@Fix dependencies after gstreamer-plugins-* merge.
looks good to landry@@, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/07/29 18:46:08 martynas Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p2
d42 1
a42 1
		:gstreamer-confelements-*:multimedia/gstreamer-0.10/plugins-good,-gconf \
@


1.22
log
@don't redefine isnan and isinf.  from sthen@@
ok sthen@@, deanna@@, naddy@@
@
text
@d1 2
a2 1
# $OpenBSD: Makefile,v 1.21 2008/07/09 02:25:44 jakemsr Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p1
d40 1
a40 1
		:gstreamer-mad-*:multimedia/gstreamer-0.10/plugins-ugly,-mad \
a41 1
		:gstreamer-plugins-good->=0.10.8p3:multimedia/gstreamer-0.10/plugins-good \
@


1.21
log
@
gst-ffmpeg is now gstreamer-ffmpeg

feedback/ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/06/28 15:46:33 deanna Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
@


1.20
log
@Update to 0.8.3

patch-server_asobj_SoundGst_cpp from guilherme m. schroeder on ports@@
patch-server_asobj_NetStreamGst_cpp from Deomid Ryabkov on gnash-dev

With help from kurt@@ and brad@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/12/18 22:04:32 deanna Exp $
d8 1
d38 1
a38 1
RUN_DEPENDS+=	:gst-ffmpeg->=0.10.4:multimedia/gstreamer-0.10/plugins-ffmpeg \
@


1.19
log
@update boost depends. it's once again a single package.

ok ajacoutot@@, steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/10/21 09:25:48 espie Exp $
d5 3
a7 9
DISTNAME=	gnash-0.8.0
PKGNAME=	${DISTNAME}p3
SHARED_LIBS +=	gnashbase 2.0
SHARED_LIBS +=	gnashgeo 2.0
SHARED_LIBS +=	gnashamf 2.0
SHARED_LIBS +=	gnashserver 2.0
SHARED_LIBS +=	gnashbackend 2.0
SHARED_LIBS +=	gnashgui 2.0
SHARED_LIBS +=	gnashplayer 2.0
d10 1
a10 1
MASTER_SITES=	${MASTER_SITE_GNU:=/gnash/0.8.0/}
d12 1
a12 1
HOMEPAGE=	http://gnash.lulu.com
d16 2
a17 2
# patented codecs
PERMIT_PACKAGE_CDROM=	No
d22 5
a26 1
LIBTOOL_FLAGS+=	--tag=disable-static
a27 7
NO_REGRESS=	testsuite available at http://www.gnashdev.org/testcases/
USE_GMAKE=	Yes
USE_LIBTOOL=	Yes
USE_X11=	Yes

BUILD_DEPENDS+=	::devel/boost

a30 1
		theora.>=2::multimedia/libtheora \
d33 1
a33 1
		boost_thread-mt,boost_date_time::devel/boost \
d35 1
a35 15
		SDL.>=7::devel/sdl \
		vorbis,vorbisenc::audio/libvorbis \
		avcodec.>=9,avutil.>=2,avformat.>=9::graphics/ffmpeg

WANTLIB=	Xau Xcursor Xdmcp Xfixes Xi Xinerama Xrandr expat \
		freetype fontconfig Xrender usbhid Xext X11 ICE SM \
		stdc++ m pthread c ssl crypto z ogg cairo \
		glib-2.0 pango-1.0 pangoft2-1.0 pangocairo-1.0 pangox-1.0 \
		gobject-2.0 gmodule-2.0 atk-1.0 png jpeg glitz idn

CONFIGURE_STYLE=gnu

.for dir in libamf backend libbase libgeometry gui server
 LINKDIRS+=-L${WRKSRC}/${dir}/.libs
.endfor
d37 18
a54 3
CONFIGURE_ENV+=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="${LINKDIRS} \
		-L${LOCALBASE}/lib"
d56 1
a56 3
CONFIGURE_ARGS+=--enable-media=ffmpeg \
		--with-plugindir=${LOCALBASE}/lib/mozilla-plugins \
		--disable-klash \
a60 1
		--without-gcc-arch \
d63 11
a73 7
MAKE_FLAGS+=	libgnashbase_la_LDFLAGS= \
		libgnashgeo_la_LDFLAGS= \
		libgnashamf_la_LDFLAGS= \
		libgnashserver_la_LDFLAGS= \
		libgnashbackend_la_LDFLAGS= \
		libgnashgui_la_LDFLAGS= \
		libgnashplayer_la_LDFLAGS=
@


1.18
log
@fix build after expat move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/10/02 19:09:44 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d43 1
a43 1
		boost_thread-mt,boost_date_time::devel/boost,-libs \
@


1.17
log
@we prefer the idiom of MODULES=devel/gettext over MODULES=gettext

"looks good" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/09/24 07:46:38 jakemsr Exp $
a72 2
		--with-expat-incl=${X11BASE}/include \
		--with-expat-lib=${X11BASE}/lib \
@


1.16
log
@prepare for newer ffmpeg which no longer wrap headers in 'extern "C" {}'
for inclusion from C++ sources

from gnash CVS

ok deanna@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/09/15 20:38:21 merdely Exp $
d29 1
a29 1
MODULES=	gettext
@


1.15
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/08/09 22:08:19 deanna Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.14
log
@Remove unneeded libgsm dependency, and prevent it from being picked up
if present.  This allows us to set PERMIT_PACKAGE_FTP=Yes.

ok espie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/07/16 04:02:38 deanna Exp $
d4 1
a4 1
COMMENT=	"flash player with firefox browser plugin"
d30 1
a30 1
NO_REGRESS=	"testsuite available at http://www.gnashdev.org/testcases/"
@


1.13
log
@Fix link order so that this can build properly when an older version
is installed.  Problem noticed by Richard Storm.  Bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/07/07 10:47:04 deanna Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d24 1
a24 1
PERMIT_PACKAGE_FTP=	No
d44 1
a44 1
		gsm::audio/gsm ltdl::devel/libtool,-ltdl \
@


1.12
log
@Update to gnash 0.8.0.

Tested by ajacoutot@@, Peter Hessler, RD Thrush, jufi@@, ian@@ and
others, thanks!

Help from and ok steven@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/05/25 16:17:45 jakemsr Exp $
d6 1
d57 4
d62 2
a63 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.11
log
@update WANTLIB after graphics/ffmpeg update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/05/15 17:01:01 naddy Exp $
d5 8
a12 10
DISTNAME=	gnash-0.7.2
PKGNAME=	${DISTNAME}p5
SHARED_LIBS +=	gnashbase 1.0
SHARED_LIBS +=	gnashgeo 1.0
SHARED_LIBS +=	gnashamf 1.0
SHARED_LIBS +=	gnashserver 1.0
SHARED_LIBS +=	gnashbackend 1.0
SHARED_LIBS +=	gnashgui 1.0

EXTRACT_SUFX=	.tar.bz2
d15 1
a15 1
MASTER_SITES=	ftp://ftp.gnu.org/pub/gnu/gnash/0.7.2/
d17 1
a17 1
HOMEPAGE=	http://www.gnu.org/software/gnash/
d21 3
a23 3
# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
d29 1
a29 1
NO_REGRESS=	"testsuite available at http://www.gnu.org/software/gnash/testcases"
d36 2
a37 1
LIB_DEPENDS+=	curl.>=4::net/curl \
d41 6
a46 2
		avcodec.>=7,avutil.>=1,avformat.>=7::graphics/ffmpeg \
		gdk_pixbuf-2.0,gtk-x11-2.0,gdk-x11-2.0::x11/gtk+2
d49 2
a50 2
		freetype fontconfig Xrender usbhid Xext X11 z \
		stdc++ m pthread c ssl crypto ogg cairo \
d52 1
a52 1
		gobject-2.0 gmodule-2.0 atk-1.0 png jpeg glitz SDL idn
d55 1
d57 1
a57 2
		LDFLAGS="-L${LOCALBASE}/lib" \
		ac_cv_lib_gsm_gsm_encode=no
d59 1
a59 2
CONFIGURE_ARGS+=--enable-plugin \
		--enable-sound=SDL \
a60 1
		--without-arts \
d62 2
d66 12
a77 9
		--with-mp3-decoder=ffmpeg \
		--without-gcc-arch

MAKE_FLAGS+=	libgnashbase_la_LDFLAGS='-version-info 1:0' \
		libgnashgeo_la_LDFLAGS='-version-info 1:0' \
		libgnashamf_la_LDFLAGS='-version-info 1:0' \
		libgnashserver_la_LDFLAGS='-version-info 1:0' \
		libgnashbackend_la_LDFLAGS='-version-info 1:0' \
		libgnashgui_la_LDFLAGS='-version-info 1:0'
@


1.10
log
@chase wantlib changes after curl update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/05/11 20:20:23 deanna Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
d46 2
a47 3
		freetype fontconfig Xrender ossaudio usbhid \
		Xext X11 z stdc++ m pthread c ssl crypto \
		faac faad mp3lame ogg vorbis vorbisenc cairo \
@


1.9
log
@Security fix for CVE-2007-2500 - a vulnerability in the parser could
lead to remote code execution.  This patch was found in the gnash
bugtracker.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/02/15 17:07:21 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
d45 3
a47 2
WANTLIB=	freetype fontconfig Xrender ossaudio usbhid \
		ICE SM Xext X11 z stdc++ m pthread c ssl crypto \
d50 1
a50 1
		gobject-2.0 gmodule-2.0 atk-1.0 png jpeg glitz SDL
@


1.8
log
@add some missing libraries to WANTLIB, and move some indirect LIB_DEPENDS
to WANTLIB.

ok bernd@@ deanna@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/02/11 20:36:06 deanna Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.8.2.1
log
@MFC:
Security fix for CVE-2007-2500 - a vulnerability in the parser could
lead to remote code execution.  This patch was found in the gnash
bugtracker.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/02/15 17:07:21 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.7
log
@Fix a memory leak in the agg renderer by adding a patch from Gnash
CVS.  This is the fix for gnash bug #18309:

http://savannah.gnu.org/bugs/?func=detailitem&item_id=18309

Also update the DESCR to make it clear that this version does not
support gootube.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/12/08 15:40:26 deanna Exp $
d6 8
a13 1
PKGNAME=	${DISTNAME}p1
d38 1
a38 2
LIB_DEPENDS+=	atk-1.0.>=1011::devel/atk \
		curl.>=4::net/curl \
a40 5
		ogg.>=5::audio/libogg \
		png.>=5::graphics/png \
		jpeg.>=62::graphics/jpeg \
		glitz.>=1::graphics/glitz \
		SDL.>=6::devel/sdl \
a41 1
		cairo.>=4::graphics/cairo \
d43 1
a43 6
		glib-2.0.>=1000.3,gmodule-2.0.>=1000.3::devel/glib2 \
		gobject-2.0.>=1000.3::devel/glib2 \
		pango-1.0.>=1200.3,pangocairo-1.0.>=1200.3::devel/pango \
		pangoft2-1.0.>=1200.3,pangox-1.0.>=1200.3::devel/pango \
		gdk_pixbuf-2.0.>=802.1,gtk-x11-2.0.>=802.1::x11/gtk+2 \
		gdk-x11-2.0.>=802.1::x11/gtk+2
d46 4
a49 1
		Xext X11 z stdc++ m pthread c ssl crypto
a71 7

SHARED_LIBS +=	gnashbase 1.0
SHARED_LIBS +=	gnashgeo 1.0
SHARED_LIBS +=	gnashamf 1.0
SHARED_LIBS +=	gnashserver 1.0
SHARED_LIBS +=	gnashbackend 1.0
SHARED_LIBS +=	gnashgui 1.0
@


1.6
log
@Don't pick up unnecessary libgsm.  Noticed by Hans Zimmerman, thanks!

Also bump pkgname and update my email address.

Ok jolan@@, espie@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/11/20 20:37:51 bernd Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.5
log
@Fix BUILD_DEPENDS and RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/11/20 04:06:41 jolan Exp $
d6 1
d14 1
a14 1
MAINTAINER=	Deanna Phillips <deanna@@sdf.lonestar.org>
d55 3
a57 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.4
log
@update to 0.7.2, from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/10/16 08:27:19 steven Exp $
d28 1
a28 1
BUILD_DEPENDS+=	boost-headers::devel/boost
@


1.3
log
@use SETENV instead of env
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/09/21 23:14:48 jolan Exp $
d5 3
a7 5
DISTNAME=	gnash-20060919
.for _lib in gnashasobjs gnashbackend gnashbase gnashgeo gnashserver \
	gnashamf gnashgui gnashplugin
SHARED_LIBS+= ${_lib} 0.0
.endfor
d9 1
a9 1
MASTER_SITES=	http://mirrors.protection.cx/~jolan/
a20 2
AUTOCONF_VERSION=2.59
AUTOMAKE_VERSION=1.9
d23 1
a23 1
NO_REGRESS=	Yes
d28 1
a28 3
BUILD_DEPENDS+=	::devel/autoconf/${AUTOCONF_VERSION} \
		::devel/automake/${AUTOMAKE_VERSION} \
		::devel/metaauto
a30 1
		SDL_mixer.>=3::devel/sdl-mixer \
d33 15
a47 1
		gtkglext-x11-1.0.>=0,gdkglext-x11-1.0.>=0::x11/gtkglext
d49 2
a50 6
WANTLIB=	GL GLU ICE SM X11 Xext Xmu Xrender Xt c crypto fontconfig \
		freetype m pthread ssl stdc++ usbhid z \
		SDL cairo gdk-x11-2.0 gdk_pixbuf-2.0 glib-2.0 glitz \
		gmodule-2.0 gobject-2.0 gtk-x11-2.0 jpeg mikmod ogg \
		pango-1.0 pangocairo-1.0 pangoft2-1.0 pangox-1.0 png smpeg \
		vorbis vorbisfile
d58 20
a77 5
		--without-arts

pre-configure:
	cd ${WRKSRC} && ${SETENV} AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} ./autogen.sh
@


1.2
log
@add auto* to build_depends, noticed by steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/09/21 15:48:10 jolan Exp $
d58 2
a59 2
	cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	AUTOMAKE_VERSION=${AUTOMAKE_VERSION} ./autogen.sh
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d23 2
d32 4
a48 2
AUTOCONF_VERSION=2.59
AUTOMAKE_VERSION=1.9
@


1.1.1.1
log
@gnash-20060919, flash player with firefox browser plugin, from deanna
phillips with some tweaks by me.  not really usable imho, but getting
there
@
text
@@
