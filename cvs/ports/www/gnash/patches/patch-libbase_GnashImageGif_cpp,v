head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.6
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.1.0.6
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.03.28.22.10.04;	author sthen;	state Exp;
branches;
next	1.1;
commitid	peBNCrjBk94LOdwJ;

1.1
date	2013.09.25.07.58.47;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@..more giflib fallout </me gnashes teeth>
@
text
@$OpenBSD: patch-libbase_GnashImageGif_cpp,v 1.1 2013/09/25 07:58:47 sthen Exp $

giflib 5.0+

--- libbase/GnashImageGif.cpp.orig	Thu Jan 19 19:17:48 2012
+++ libbase/GnashImageGif.cpp	Sat Mar 28 22:09:28 2015
@@@@ -121,7 +121,7 @@@@ GifInput::GifInput(boost::shared_ptr<IOChannel> in)
 GifInput::~GifInput()
 {
     // Clean up allocated data.
-    DGifCloseFile(_gif);
+    DGifCloseFile(_gif, NULL);
 }
 
 size_t
@@@@ -269,7 +269,7 @@@@ GifInput::processRecord(GifRecordType record)
 void
 GifInput::read()
 {
-    _gif = DGifOpen(_inStream.get(), &readData); 
+    _gif = DGifOpen(_inStream.get(), &readData, NULL); 
 
     GifRecordType record;
 
@


1.1
log
@libungif->giflib and patch where necessary, ok jasper@@ aja@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 11
a15 2
--- libbase/GnashImageGif.cpp.orig	Thu Sep 19 06:51:00 2013
+++ libbase/GnashImageGif.cpp	Thu Sep 19 06:51:07 2013
@

