head	1.44;
access;
symbols
	OPENBSD_6_1:1.43.0.2
	OPENBSD_6_1_BASE:1.43
	OPENBSD_6_0:1.34.0.2
	OPENBSD_6_0_BASE:1.34
	OPENBSD_5_9:1.29.0.2
	OPENBSD_5_9_BASE:1.29
	OPENBSD_5_8:1.17.0.2
	OPENBSD_5_8_BASE:1.17
	OPENBSD_5_7:1.11.0.2
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.7.0.2
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	landry_20131120:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.44
date	2017.04.20.06.12.58;	author landry;	state Exp;
branches;
next	1.43;
commitid	WUt99C6A8mADidu3;

1.43
date	2017.03.28.20.06.41;	author landry;	state Exp;
branches
	1.43.2.1;
next	1.42;
commitid	NcPGyBRLjwRx76o8;

1.42
date	2017.03.20.19.37.06;	author landry;	state Exp;
branches;
next	1.41;
commitid	NpU77YDkfMi3m5i9;

1.41
date	2017.03.07.15.36.46;	author landry;	state Exp;
branches;
next	1.40;
commitid	aJih20t9NVbMIVBm;

1.40
date	2017.01.24.21.35.09;	author landry;	state Exp;
branches;
next	1.39;
commitid	jWPA9odZ2urvqkA3;

1.39
date	2016.12.14.13.44.19;	author landry;	state Exp;
branches;
next	1.38;
commitid	XTfFIvqT2apzPEna;

1.38
date	2016.11.30.21.49.10;	author landry;	state Exp;
branches;
next	1.37;
commitid	NPLiw5gioMUhM3aD;

1.37
date	2016.11.15.21.53.47;	author landry;	state Exp;
branches;
next	1.36;
commitid	FvnZdSeYk2EjFlxv;

1.36
date	2016.09.24.14.41.47;	author landry;	state Exp;
branches;
next	1.35;
commitid	qBFGAzhf6cgajRPp;

1.35
date	2016.08.02.17.43.30;	author landry;	state Exp;
branches;
next	1.34;
commitid	soVZx4G0HixtaR4h;

1.34
date	2016.06.08.19.23.29;	author landry;	state Exp;
branches;
next	1.33;
commitid	L2oDgfZsZGB3mNHf;

1.33
date	2016.05.05.06.54.28;	author landry;	state Exp;
branches;
next	1.32;
commitid	CK0XRBIE3gOSwPO3;

1.32
date	2016.04.27.14.10.54;	author landry;	state Exp;
branches;
next	1.31;
commitid	bUgmCdBJcUpNbrwC;

1.31
date	2016.03.19.13.35.59;	author landry;	state Exp;
branches;
next	1.30;
commitid	5uHNfcmd3NETDZgK;

1.30
date	2016.03.14.20.37.13;	author landry;	state Exp;
branches;
next	1.29;
commitid	ABaNQYD0Gwvtd3Y7;

1.29
date	2016.02.13.07.40.42;	author landry;	state Exp;
branches
	1.29.2.1;
next	1.28;
commitid	D6yCupLOXgjoGVaP;

1.28
date	2016.01.27.18.07.27;	author landry;	state Exp;
branches;
next	1.27;
commitid	hBjScen5PsujvoeF;

1.27
date	2016.01.22.10.28.58;	author landry;	state Exp;
branches;
next	1.26;
commitid	2W78YUr1mye8HWDY;

1.26
date	2016.01.07.08.51.04;	author jasper;	state Exp;
branches;
next	1.25;
commitid	qsAJAI5Qqk7PoWv7;

1.25
date	2016.01.01.21.40.56;	author jasper;	state Exp;
branches;
next	1.24;
commitid	MFxYjStLbYEd6Pjz;

1.24
date	2015.12.23.17.40.22;	author landry;	state Exp;
branches;
next	1.23;
commitid	tpHEfpiOQdzhKoBx;

1.23
date	2015.12.16.10.08.53;	author landry;	state Exp;
branches;
next	1.22;
commitid	D5Y4l8so6DZUB0pk;

1.22
date	2015.11.04.07.34.19;	author landry;	state Exp;
branches;
next	1.21;
commitid	18aRzUITff2NQGQY;

1.21
date	2015.09.24.20.22.06;	author landry;	state Exp;
branches;
next	1.20;
commitid	OiIpfuMDHssCDOzY;

1.20
date	2015.09.19.13.09.38;	author landry;	state Exp;
branches;
next	1.19;
commitid	XNDSu6U8jeva04cS;

1.19
date	2015.08.31.20.07.49;	author landry;	state Exp;
branches;
next	1.18;
commitid	cNWtsOldxOzrAZI1;

1.18
date	2015.08.11.21.16.51;	author landry;	state Exp;
branches;
next	1.17;
commitid	Bg1qeH6hOINoBexW;

1.17
date	2015.08.07.13.39.36;	author landry;	state Exp;
branches
	1.17.2.1;
next	1.16;
commitid	hC7pseykcdvUW1VE;

1.16
date	2015.07.05.20.05.46;	author landry;	state Exp;
branches;
next	1.15;
commitid	MJMOqRcPF7kbgh0a;

1.15
date	2015.05.16.07.26.12;	author landry;	state Exp;
branches;
next	1.14;
commitid	3RkX44RQlwBQdvxO;

1.14
date	2015.04.02.18.20.08;	author landry;	state Exp;
branches;
next	1.13;
commitid	PcK7QRfI9ve2af7H;

1.13
date	2015.03.23.21.08.16;	author landry;	state Exp;
branches;
next	1.12;
commitid	yE4AL3kRg043Pr7Y;

1.12
date	2015.03.16.19.56.32;	author landry;	state Exp;
branches;
next	1.11;
commitid	cIcNV9Mlp2cxvt8H;

1.11
date	2015.01.14.17.35.43;	author landry;	state Exp;
branches
	1.11.2.1;
next	1.10;
commitid	s5l1rsDQFKZwigo8;

1.10
date	2014.12.04.17.52.47;	author landry;	state Exp;
branches;
next	1.9;
commitid	i8n36GQ2GN1xv49g;

1.9
date	2014.10.17.07.19.26;	author landry;	state Exp;
branches;
next	1.8;
commitid	UeVbWvidx6kpe8tJ;

1.8
date	2014.09.02.16.36.52;	author landry;	state Exp;
branches;
next	1.7;
commitid	BFdH5kbXNTfwf7OX;

1.7
date	2014.07.24.18.18.33;	author landry;	state Exp;
branches
	1.7.2.1;
next	1.6;
commitid	4nnGwaqKDHjBnqSV;

1.6
date	2014.06.12.19.00.31;	author jasper;	state Exp;
branches;
next	1.5;
commitid	1OvQJzcuWY0BUvb9;

1.5
date	2014.04.29.21.30.57;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2014.03.24.21.14.52;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2014.02.05.08.01.09;	author jasper;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2013.12.12.20.00.15;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2013.11.20.20.58.40;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.11.20.20.58.40;	author landry;	state Exp;
branches;
next	;

1.3.2.1
date	2014.04.02.07.36.14;	author jasper;	state Exp;
branches;
next	1.3.2.2;

1.3.2.2
date	2014.05.07.08.35.57;	author jasper;	state Exp;
branches;
next	1.3.2.3;

1.3.2.3
date	2014.06.12.19.03.14;	author jasper;	state Exp;
branches;
next	1.3.2.4;
commitid	RzntLSMK240QW89l;

1.3.2.4
date	2014.07.30.11.57.30;	author jasper;	state Exp;
branches;
next	1.3.2.5;
commitid	GHHK18NY3byQ8h6c;

1.3.2.5
date	2014.09.10.06.44.55;	author jasper;	state Exp;
branches;
next	;
commitid	nk0utllXsDKVlXsy;

1.7.2.1
date	2014.09.18.13.56.51;	author jasper;	state Exp;
branches;
next	1.7.2.2;
commitid	HXdYBlqubqWo5Gsq;

1.7.2.2
date	2014.10.22.18.17.17;	author jasper;	state Exp;
branches;
next	1.7.2.3;
commitid	XvyHOGpWKguSqCsv;

1.7.2.3
date	2014.12.05.12.34.29;	author jasper;	state Exp;
branches;
next	1.7.2.4;
commitid	RfbDML6qI8XzvbQk;

1.7.2.4
date	2015.01.29.13.13.10;	author jasper;	state Exp;
branches;
next	1.7.2.5;
commitid	8P008nBDdEkIgIee;

1.7.2.5
date	2015.03.18.16.19.15;	author jasper;	state Exp;
branches;
next	1.7.2.6;
commitid	1XrfXEkHO3RGqtIK;

1.7.2.6
date	2015.03.25.10.13.29;	author jasper;	state Exp;
branches;
next	1.7.2.7;
commitid	CLxqmYqlfIK8xKQt;

1.7.2.7
date	2015.04.09.06.43.50;	author jasper;	state Exp;
branches;
next	;
commitid	PRhk3Is0Qq2tAaaL;

1.11.2.1
date	2015.03.18.16.20.16;	author jasper;	state Exp;
branches;
next	1.11.2.2;
commitid	iz8skc1c3QeFZh8n;

1.11.2.2
date	2015.03.25.10.12.45;	author jasper;	state Exp;
branches;
next	1.11.2.3;
commitid	oilmQHZrQiB8dr5U;

1.11.2.3
date	2015.04.09.06.49.00;	author jasper;	state Exp;
branches;
next	;
commitid	HubyeSoR3uKuCAFC;

1.17.2.1
date	2015.09.01.14.54.28;	author jasper;	state Exp;
branches;
next	1.17.2.2;
commitid	8qJjnWSnXneqeqzU;

1.17.2.2
date	2015.09.30.07.02.15;	author jasper;	state Exp;
branches;
next	1.17.2.3;
commitid	D6jSOayr98qtVkJC;

1.17.2.3
date	2015.12.24.14.10.14;	author jasper;	state Exp;
branches;
next	1.17.2.4;
commitid	OZ4AGTJDIV9eDtod;

1.17.2.4
date	2016.01.29.08.43.14;	author jasper;	state Exp;
branches;
next	1.17.2.5;
commitid	x4kTgJjrDMRNKkRH;

1.17.2.5
date	2016.02.15.10.51.09;	author jasper;	state Exp;
branches;
next	1.17.2.6;
commitid	Od5M367PgvFbMrfw;

1.17.2.6
date	2016.03.21.09.41.42;	author jasper;	state Exp;
branches;
next	;
commitid	NGCxrl3vc8mpFF8d;

1.29.2.1
date	2016.03.30.12.13.56;	author jasper;	state Exp;
branches;
next	1.29.2.2;
commitid	3NrlfxBFjY9wlcMO;

1.29.2.2
date	2016.05.23.12.29.55;	author jasper;	state Exp;
branches;
next	;
commitid	wx3GWOkBsoQmP3sX;

1.43.2.1
date	2017.04.20.19.40.50;	author landry;	state Exp;
branches;
next	;
commitid	NRT43GMlkZv7uyqT;


desc
@@


1.44
log
@Update to firefox 53.0.

See https://www.mozilla.org/en-US/firefox/53.0/releasenotes/ and
https://www.mozilla.org/en-US/security/advisories/mfsa2017-10/.

- Now depends on rust and cargo to build.
- Remove patch-browser_installer_Makefile_in, sdk was removed in #1333826
- Ship a small distribution.ini to show package source in about dialog
- Add a blurb from Michael Reed about installing ffmpeg package to play
HTML5 audio/video.

Tested by several
@
text
@# $OpenBSD: Makefile.inc,v 1.43 2017/03/28 20:06:41 landry Exp $

# Unversioned distfiles
PORTROACH =	ignore:1

# keep in sync with working archs.. sigh
ONLY_FOR_ARCHS =	amd64 i386

PKG_ARCH =	*

FV =		52.1.0
V =		${FV:C/b.$//}
NAME =		firefox-esr-i18n

CATEGORIES =	www

HOMEPAGE =	https://wiki.mozilla.org/L10n:Home_Page

MAINTAINER =	Landry Breuil <landry@@openbsd.org>

# Mozilla public license
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =	https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${FV}esr/linux-i686/xpi/ \
		http://releases.mozilla.org/pub/mozilla.org/firefox/releases/${FV}esr/linux-i686/xpi/

LANGUAGES =	ach af an ar as ast az bg bn-BD bn-IN br bs ca cs cy da de dsb el en-GB en-US en-ZA eo \
		es-AR es-CL es-ES es-MX et eu fa ff fi fr fy-NL ga-IE gd gl gn gu-IN he \
		hi-IN hr hsb hu hy-AM id \
		is it ja kk km kn ko lij lt lv mai mk ml mr ms nb-NO nl nn-NO \
		or pa-IN pl pt-BR pt-PT rm ro ru si sk sl son sq sr sv-SE \
		ta te th tr uk uz vi xh zh-CN zh-TW

BUILD_DEPENDS =	archivers/unzip
RUN_DEPENDS =	firefox-esr-${FV:S/b/beta/}:www/firefox-esr

DIST_SUBDIR =	mozilla/${NAME}-esr-${FV}
NO_BUILD =	Yes
NO_TEST =	Yes
EXTRACT_ONLY =

.for i in ${LANGUAGES}
SUPDISTFILES +=	$i.xpi
.endfor

PKGNAME =	${NAME}-$L-${FV:S/b/beta/}
COMMENT =	$L language pack for Firefox ESR
DISTFILES =	$L.xpi

# use the same for all subpackages
PKGDIR =	${.CURDIR}/../pkg
PLIST =		${PKGDIR}/PLIST
DESCR =		${PKGDIR}/DESCR
CHECKSUM_FILE =	${.CURDIR}/../distinfo
MESSAGE=	${PKGDIR}/MESSAGE
SUBST_VARS =	V L

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/lib/firefox-esr-$V/browser/extensions
	${INSTALL_DATA} ${FULLDISTDIR}/$L.xpi ${PREFIX}/lib/firefox-esr-$V/browser/extensions/langpack-$L@@firefox.mozilla.org.xpi
@


1.43
log
@Bugfix update to firefox-esr 52.0.2.

See https://www.mozilla.org/en-US/firefox/52.0.2esr/releasenotes/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.42 2017/03/20 19:37:06 landry Exp $
d11 1
a11 1
FV =		52.0.2
@


1.43.2.1
log
@MFC: update to firefox-esr 52.1.0.

Over time i'll see if i maintain this or give up.
Stable packages for i386 and amd64 available at https://packages.rhaalovely.net/
signed with https://packages.rhaalovely.net/landry-mozilla-pkg.pub
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.43 2017/03/28 20:06:41 landry Exp $
d11 1
a11 1
FV =		52.1.0
@


1.42
log
@Update to firefox-esr 52.0.1.

Fixes MFSA 2017-08/CVE-2017-5428, see
https://www.mozilla.org/en-US/security/advisories/mfsa2017-08/

While here, add a patch from semarie@@ (tested by and ok danj@@) to tweak
a last-minute change in the jit engine memory allocator that happened to
fix a security issue in 52 branch (bug #1334933/CVE-2017-5400) - see
https://hg.mozilla.org/releases/mozilla-esr52/rev/6b35bbf96b67.

Sadly, this change resulted in a browser crashing at startup
on OpenBSD with the default limits, because the jit engine tried to
allocate 1Gb (previously 640Mb in #1334933, then 1Gb because of
#1337561, see
https://hg.mozilla.org/releases/mozilla-esr52/rev/65bb26d07408) and hit
the default datasize ulimit of 768Mb. The patch makes it allocate 128Mb
instead (as it's done on 32bit architectures), while a better (?) fix
might be devised in bug #1347139.

Generally speaking, if you see firefox crashing with ENOMEM errors,
raise the datasize limit for your login class, write your own wrapper
script to temporarly raise the limit when starting firefox, or stop
using the modern web. Websites are ginormous, deal with it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.41 2017/03/07 15:36:46 landry Exp $
d11 1
a11 1
FV =		52.0.1
@


1.41
log
@Update firefox-esr to 52.0.

See https://www.mozilla.org/en-US/firefox/52.0esr/releasenotes/

This release switches to Gtk3 by default, following upstream. It also
still supports NPAPI plugins (java etc..) for the 52esr lifetime (around
1 year).

This way, 6.1 will ship with a supported branch of esr instead of the
soon-to-be-dead 45 branch.

Discussed with naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.40 2017/01/24 21:35:09 landry Exp $
d11 1
a11 1
FV =		52.0
@


1.40
log
@Update to firefox-esr 45.7.0.

See https://www.mozilla.org/en-US/firefox/45.7.0/releasenotes/ and MFSA
2017-02 (https://www.mozilla.org/en-US/security/advisories/mfsa2017-02/)

Remove patch-netwerk_protocol_http_Http2Session_cpp (#1290037)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.39 2016/12/14 13:44:19 landry Exp $
d11 1
a11 1
FV =		45.7.0
d27 1
a27 1
LANGUAGES =	ach af an ar as ast az be bg bn-BD bn-IN br bs ca cs cy da de dsb el en-GB en-US en-ZA eo \
@


1.39
log
@Update to firefox-esr 45.6.0.

See https://www.mozilla.org/en-US/firefox/45.6.0/releasenotes/ and
https://www.mozilla.org/en-US/security/advisories/mfsa2016-95/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.38 2016/11/30 21:49:10 landry Exp $
d11 1
a11 1
FV =		45.6.0
@


1.38
log
@Security update to firefox-esr 45.5.1.

See https://www.mozilla.org/en-US/firefox/45.5.1/releasenotes/ and
https://www.mozilla.org/en-US/security/advisories/mfsa2016-92/ (link not
up yet). A javascript exploit for windows was found in the wild, and the
vulnerability could technically be exploited on other platforms..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.37 2016/11/15 21:53:47 landry Exp $
d11 1
a11 1
FV =		45.5.1
@


1.37
log
@Update to firefox-esr 45.5.0.

See https://www.mozilla.org/en-US/firefox/45.5.0/releasenotes/ and
https://www.mozilla.org/en-US/security/advisories/mfsa2016-90/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.36 2016/09/24 14:41:47 landry Exp $
d11 1
a11 1
FV =		45.5.0
@


1.36
log
@Update to firefox-esr 45.4.0.

See https://www.mozilla.org/en-US/firefox/45.4.0/releasenotes/
Fixes https://www.mozilla.org/en-US/security/advisories/mfsa2016-86/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.35 2016/08/02 17:43:30 landry Exp $
d11 1
a11 1
FV =		45.4.0
@


1.35
log
@Update to firefox-esr 45.3.0.

- See https://www.mozilla.org/en-US/firefox/45.3.0/releasenotes/
- Fixes MFSA-2016-62->65,67,70,72,73,76->80
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.34 2016/06/08 19:23:29 landry Exp $
d11 1
a11 1
FV =		45.3.0
@


1.34
log
@Update to firefox-esr 45.2.0.

- See https://www.mozilla.org/en-US/firefox/45.2.0/releasenotes/
- Fixes MFSA 2016-49->53, 55, 56, 58
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.33 2016/05/05 06:54:28 landry Exp $
d11 1
a11 1
FV =		45.2.0
@


1.33
log
@Bugfix update to firefox-esr 45.1.1.

- See https://www.mozilla.org/en-US/firefox/45.1.1/releasenotes/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.32 2016/04/27 14:10:54 landry Exp $
d11 1
a11 1
FV =		45.1.1
@


1.32
log
@Update firefox-esr-i18n to 45.1.0.

an (Aragonese), az (Azerbaijani), dsb (Lower Sorbian), gn (Paraguayan
Guarani), hsb (Upper Sorbian), ms (Malay), uz (Uzbek) and xh (Xhosa)
were added.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.31 2016/03/19 13:35:59 landry Exp $
d11 1
a11 1
FV =		45.1.0
@


1.31
log
@Bugfix update to firefox-esr 38.7.1.

See https://www.mozilla.org/en-US/firefox/38.7.1/releasenotes/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.30 2016/03/14 20:37:13 landry Exp $
d11 1
a11 1
FV =		38.7.1
d27 4
a30 4
LANGUAGES =	ach ar ast be bg bn-BD bn-IN br bs ca cs cy da de el en-GB en-US en-ZA eo \
		es-AR es-CL es-ES es-MX et eu fa ff fi fr fy-NL ga-IE gd gl gu-IN he \
		hi-IN hr hu hy-AM id \
		is it ja kk km kn ko lij lt lv mai mk ml mr nb-NO nl nn-NO \
d32 1
a32 1
		ta te th tr uk vi zh-CN zh-TW
@


1.30
log
@Update to firefox-esr 38.7.0.

- See https://www.mozilla.org/en-US/firefox/38.7.0/releasenotes/
- Fixes MFSA 2015-81, 2015-136, 2016-16, 17, 20, 21, 23, 24, 25, 27, 28,
  31, 34, 35 & 37

Heads-up ! This port will switch to the 45 branch within the 6 coming weeks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.29 2016/02/13 07:40:42 landry Exp $
d11 1
a11 1
FV =		38.7.0
@


1.29
log
@Security update to firefox-esr 38.6.1.

See https://www.mozilla.org/en-US/firefox/38.6.1/releasenotes/
Fixes https://www.mozilla.org/en-US/security/advisories/mfsa2016-14/
ok sthen@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.28 2016/01/27 18:07:27 landry Exp $
d11 1
a11 1
FV =		38.6.1
@


1.29.2.1
log
@sync for firefox-38.7.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.31 2016/03/19 13:35:59 landry Exp $
d11 1
a11 1
FV =		38.7.1
@


1.29.2.2
log
@sync with firefox-esr-38.8.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.29.2.1 2016/03/30 12:13:56 jasper Exp $
d11 1
a11 1
FV =		38.8.0
@


1.28
log
@Update to firefox-esr 38.6.0.

* See https://www.mozilla.org/en-US/firefox/38.6.0/releasenotes/
* Fixes MFSA 2015-150, 2016-01 & 2016-03

Note that with esr45 around the corner, esr38 will only be supported for
two more point releases.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.27 2016/01/22 10:28:58 landry Exp $
d11 1
a11 1
FV =		38.6.0
@


1.27
log
@Face reality, various mozillas only build on amd64 or i386.

The last reliable gecko builds on macppc were done with:
OpenBSD 5.8-current (GENERIC.MP) #761: Mon Aug 31 08:01:30 MDT 2015
(mpi@@ says SecurePLT was commited beginning of Sep, so .. related?)

Thunderbird and firefox-esr strangely built on sparc64 (by accident?) in
may and june (when it was gecko 31) but other than that firefox itself
never built in 2015.

Anybody is welcome to look into this, just add you beloved arch to
ONLY_FOR_ARCHS in mozilla.port.mk.

While here, also amend ONLY_FOR_ARCHS in langpacks ports, no point in
packaging them if you don't have the corresponding package.

Avoids wasting hours during bulks, only keep xulrunner building on
powerpc and sparc64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.26 2016/01/07 08:51:04 jasper Exp $
d11 1
a11 1
FV =		38.5.2
@


1.26
log
@aja pointed out this should be "ignore:1"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.25 2016/01/01 21:40:56 jasper Exp $
d7 1
a7 1
ONLY_FOR_ARCHS =	amd64 i386 powerpc sparc64
@


1.25
log
@ignore these for they are unversioned distfiles
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.24 2015/12/23 17:40:22 landry Exp $
d4 1
a4 1
PORTROACH =	ignore
@


1.24
log
@Update to firefox-esr 38.5.2.

See https://www.mozilla.org/en-US/firefox/38.5.2/releasenotes/
No binary change for us since this is only to force updates for poor
windows users, because microsoft now requires SHA256 certs. But ppl wont
complain that OpenBSD doesn't ship the latest and greatest!
@
text
@d1 4
a4 1
# $OpenBSD: Makefile.inc,v 1.23 2015/12/16 10:08:53 landry Exp $
@


1.23
log
@Update to firefox-esr 38.5.0.

See https://www.mozilla.org/en-US/firefox/38.5.0/releasenotes/
Fixes MFSA 2015-134,138,139,145,146,147,149
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.22 2015/11/04 07:34:19 landry Exp $
d8 1
a8 1
FV =		38.5.0
@


1.22
log
@Update to firefox-esr 38.4.0.

- See https://www.mozilla.org/en-US/firefox/38.4.0/releasenotes/
- Fixes MFSA 2015-116, 122, 123, 127, 128, 130 -> 133
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.21 2015/09/24 20:22:06 landry Exp $
d8 1
a8 1
FV =		38.4.0
@


1.21
log
@Update to firefox-esr 38.3.0.

- See https://www.mozilla.org/en-US/firefox/38.3/releasenotes/
- Fixes MFSA 2015-96, 100, 101, 105, 106, 110, 111, 112 & 113
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.20 2015/09/19 13:09:38 landry Exp $
d8 1
a8 1
FV =		38.3.0
@


1.20
log
@Remove the now defunct ftp://ftp.mozilla.org from MASTER_SITES.

Default to https://ftp.mozilla.org/ and use http://releases.mozilla.org/
as a fallback like the other mozilla ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.19 2015/08/31 20:07:49 landry Exp $
d8 1
a8 1
FV =		38.2.1
@


1.19
log
@Update to firefox-esr 38.2.1.

- See https://www.mozilla.org/en-US/firefox/38.2.1/releasenotes/
- Fixes MFSA-2015-94 & 95.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.18 2015/08/11 21:16:51 landry Exp $
d22 1
a22 2
		http://releases.mozilla.org/pub/mozilla.org/firefox/releases/${FV}esr/linux-i686/xpi/ \
		ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${FV}esr/linux-i686/xpi/
@


1.18
log
@Update to firefox-esr{,-i18n} 38.2.0.

- See https://www.mozilla.org/en-US/firefox/40.0/releasenotes/
- Fixes MFSA-2015-79, 80, 82, 83, 84, 85, 87, 88, 89, 90 & 92
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.17 2015/08/07 13:39:36 landry Exp $
d8 1
a8 1
FV =		38.2.0
@


1.17
log
@SECURITY update to firefox 39.0.3 & firefox-esr 38.1.1.

Fixes MFSA2015-78, see
https://blog.mozilla.org/security/2015/08/06/firefox-exploit-found-in-the-wild/
and https://www.mozilla.org/en-US/security/advisories/mfsa2015-78/

ok naddy@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.16 2015/07/05 20:05:46 landry Exp $
d8 1
a8 1
FV =		38.1.1
@


1.17.2.1
log
@update to firefox-esr-i18n-esr-38.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.17 2015/08/07 13:39:36 landry Exp $
d8 1
a8 1
FV =		38.2.1
@


1.17.2.2
log
@sync with firefox-38.3.0esr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.17.2.1 2015/09/01 14:54:28 jasper Exp $
d8 1
a8 1
FV =		38.3.0
@


1.17.2.3
log
@sync for firefox-esr-35.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.17.2.2 2015/09/30 07:02:15 jasper Exp $
d8 1
a8 1
FV =		38.5.2
@


1.17.2.4
log
@missed in previous
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.17.2.3 2015/12/24 14:10:14 jasper Exp $
d8 1
a8 1
FV =		38.6.0
@


1.17.2.5
log
@sync for firefox-esr-38.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.17.2.4 2016/01/29 08:43:14 jasper Exp $
d8 1
a8 1
FV =		38.6.1
@


1.17.2.6
log
@sync w/ firefox-esr
@
text
@d1 1
a1 4
# $OpenBSD: Makefile.inc,v 1.31 2016/03/19 13:35:59 landry Exp $

# Unversioned distfiles
PORTROACH =	ignore:1
d4 1
a4 1
ONLY_FOR_ARCHS =	amd64 i386
d8 1
a8 1
FV =		38.7.1
d22 2
a23 1
		http://releases.mozilla.org/pub/mozilla.org/firefox/releases/${FV}esr/linux-i686/xpi/
@


1.16
log
@Update to firefox-esr{,-i18n} 38.1.0.

- See https://www.mozilla.org/en-US/firefox/38.1.0/releasenotes/
- Fixes MFSA 2015-59 -> 71 (unaffected by 2015-68)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.15 2015/05/16 07:26:12 landry Exp $
d8 1
a8 1
FV =		38.1.0
@


1.15
log
@Update to firefox-esr 38.0.1.

- See https://www.mozilla.org/en-US/firefox/38.0.1/releasenotes/ and
  https://www.mozilla.org/en-US/firefox/38.0/releasenotes/
- Fixes MFSA 2015-46->58
- switch i386 back to use clang.
- use system icu4c
- remove bunch of now useless/merged patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.14 2015/04/02 18:20:08 landry Exp $
d8 1
a8 1
FV =		38.0.1
@


1.14
log
@Update to firefox-esr 31.6.0.

- See https://www.mozilla.org/en-US/firefox/31.6.0/releasenotes/
- Fixes MFSA 2015-30, 31, 33, 37, 40
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.13 2015/03/23 21:08:16 landry Exp $
d8 1
a8 1
FV =		31.6.0
d25 1
a25 1
LANGUAGES =	ach ar ast be bg bn-BD bn-IN br bs ca cs csb cy da de el en-GB en-US en-ZA eo \
d28 1
a28 1
		is it ja kk km kn ko ku lij lt lv mai mk ml mr nb-NO nl nn-NO \
d30 1
a30 1
		ta te th tr uk vi zh-CN zh-TW zu
@


1.13
log
@Security update to firefox-esr 31.5.3.

- See https://www.mozilla.org/en-US/firefox/31.5.2/releasenotes/
- Fixes MFSA-2015-28/29 (Pwn2Own)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.12 2015/03/16 19:56:32 landry Exp $
d8 1
a8 1
FV =		31.5.3
@


1.12
log
@Update to firefox-esr 31.5.0.

- See https://www.mozilla.org/en-US/firefox/31.5.0/releasenotes/
- Fixes MFSA 2015-11, 12, 16, 19 & 24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.11 2015/01/14 17:35:43 landry Exp $
d8 1
a8 1
FV =		31.5.0
@


1.11
log
@Update to firefox-esr 31.4.0

- See https://www.mozilla.org/en-US/firefox/31.4.0/releasenotes/
- Fixes MFSA 2015-01, 03, 04 & 06
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.10 2014/12/04 17:52:47 landry Exp $
d8 1
a8 1
FV =		31.4.0
@


1.11.2.1
log
@sync with firefox-esr 31.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.12 2015/03/16 19:56:32 landry Exp $
d8 1
a8 1
FV =		31.5.0
@


1.11.2.2
log
@sync with firefox-esr-31.5.3esr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.11.2.1 2015/03/18 16:20:16 jasper Exp $
d8 1
a8 1
FV =		31.5.3
@


1.11.2.3
log
@missed in previous
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.14 2015/04/02 18:20:08 landry Exp $
d8 1
a8 1
FV =		31.6.0
@


1.10
log
@Update to firefox-esr 31.3.0.

- See https://www.mozilla.org/en-US/firefox/31.3.0/releasenotes/
- Fixes MFSA-2014-83,85,87->90
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.9 2014/10/17 07:19:26 landry Exp $
d8 1
a8 1
FV =		31.3.0
@


1.9
log
@Bugfix update to firefox-esr 31.2.0.

- See https://www.mozilla.org/en-US/firefox/31.2.0/releasenotes/
- Fixes MFSA 2013-74,75,76,77,79,81,82.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.8 2014/09/02 16:36:52 landry Exp $
d8 1
a8 1
FV =		31.2.0
@


1.8
log
@Update to firefox-esr 31.1.0.

See https://www.mozilla.org/en-US/firefox/31.1.0/releasenotes/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.7 2014/07/24 18:18:33 landry Exp $
d8 1
a8 1
FV =		31.1.0
@


1.7
log
@update to firefox-esr-i18n 31.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.6 2014/06/12 19:00:31 jasper Exp $
d8 1
a8 1
FV =		31.0
@


1.7.2.1
log
@Security update to firefox-esr-31.1.0esr

https://www.mozilla.org/en-US/firefox/31.1.0/releasenotes/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.7 2014/07/24 18:18:33 landry Exp $
d8 1
a8 1
FV =		31.1.0
@


1.7.2.2
log
@sync with firefox-esr-31.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.7.2.1 2014/09/18 13:56:51 jasper Exp $
d8 1
a8 1
FV =		31.2.0
@


1.7.2.3
log
@update language packs to 31.3.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.7.2.2 2014/10/22 18:17:17 jasper Exp $
d8 1
a8 1
FV =		31.3.0
@


1.7.2.4
log
@sync with firefox-31.4.0esr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.7.2.3 2014/12/05 12:34:29 jasper Exp $
d8 1
a8 1
FV =		31.4.0
@


1.7.2.5
log
@sync with firefox-esr 31.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.12 2015/03/16 19:56:32 landry Exp $
d8 1
a8 1
FV =		31.5.0
@


1.7.2.6
log
@sync with firefox-esr-31.5.3esr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.11.2.2 2015/03/25 10:12:45 jasper Exp $
d8 1
a8 1
FV =		31.5.3
@


1.7.2.7
log
@sync with firefox-31.6.0esr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.7.2.6 2015/03/25 10:13:29 jasper Exp $
d8 1
a8 1
FV =		31.6.0
@


1.6
log
@- update to firefox-esr-i18n 24.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.5 2014/04/29 21:30:57 landry Exp $
d8 1
a8 1
FV =		24.6.0
d25 1
a25 1
LANGUAGES =	ach af ak ar ast be bg bn-BD bn-IN br bs ca cs csb cy da de el en-GB en-US en-ZA eo \
d28 1
a28 1
		is it ja kk km kn ko ku lg lij lt lv mai mk ml mr nb-NO nl nn-NO nso \
d30 1
a30 1
		ta-LK ta te th tr uk vi zh-CN zh-TW zu
@


1.5
log
@Update to firefox-esr 24.5.0.

- See http://www.mozilla.org/en-US/firefox/24.5.0/releasenotes/
- Fixes MFSA-2014-34,35,37,38,42,43,44 & 46
- add a default prefs all-openbsd.js file, pointing
  spellchecker.dictionary_path to ${LOCALBASE}/share/mozilla-dicts/ so
that systemwide dictionaries are looked for by default.
- while here the same file disables safebrowsing feature, as is already
  done in www/mozilla-firefox.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.4 2014/03/24 21:14:52 landry Exp $
d8 1
a8 1
FV =		24.5.0
@


1.4
log
@Update to firefox-esr 24.4.0.

- See http://www.mozilla.org/en-US/firefox/24.4.0/releasenotes/
- Fixes MFSA-2014-15->17,26->32
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.3 2014/02/05 08:01:09 jasper Exp $
d8 1
a8 1
FV =		24.4.0
@


1.3
log
@sync with firefox-esr to 24.3.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.2 2013/12/12 20:00:15 landry Exp $
d8 1
a8 1
FV =		24.3.0
@


1.3.2.1
log
@sync with firefox-24.4.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.3 2014/02/05 08:01:09 jasper Exp $
d8 1
a8 1
FV =		24.4.0
@


1.3.2.2
log
@sync with firefox-esr 24.5.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.3.2.1 2014/04/02 07:36:14 jasper Exp $
d8 1
a8 1
FV =		24.5.0
@


1.3.2.3
log
@- update to firefox-esr-i18n 24.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.3.2.2 2014/05/07 08:35:57 jasper Exp $
d8 1
a8 1
FV =		24.6.0
@


1.3.2.4
log
@update to firefox-esr-i18n 24.7.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.3.2.3 2014/06/12 19:03:14 jasper Exp $
d8 1
a8 1
FV =		24.7.0
@


1.3.2.5
log
@sync with firefox-24.8.0esr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.3.2.4 2014/07/30 11:57:30 jasper Exp $
d8 1
a8 1
FV =		24.8.0
@


1.2
log
@Update to firefox-esr 24.2.0.

- Fixes MFSA 2013-104, 108, 109, 111, 113 -> 117
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.1.1.1 2013/11/20 20:58:40 landry Exp $
d8 1
a8 1
FV =		24.2.0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.inc,v 1.28 2013/10/31 07:58:25 landry Exp $
d8 1
a8 1
FV =		24.1.1
@


1.1.1.1
log
@Import the 85 langpacks for Firefox ESR 24.1.1.
@
text
@@
