head	1.7;
access;
symbols
	OPENBSD_4_9:1.4.0.4
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.2
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.7
date	2011.04.15.11.44.53;	author landry;	state dead;
branches;
next	1.6;

1.6
date	2011.04.09.11.05.06;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2011.03.30.21.39.14;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2010.04.28.06.56.38;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2010.04.26.19.55.58;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2008.11.20.23.41.32;	author martynas;	state Exp;
branches;
next	1.1;

1.1
date	2008.07.04.13.47.25;	author martynas;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Remove, unneeded since the better rpath-link fix went to configure.in patch.
@
text
@$OpenBSD: patch-js_src_xpconnect_shell_Makefile_in,v 1.6 2011/04/09 11:05:06 landry Exp $
/usr/bin/ld: warning: libSM.so.8.0, needed by /usr/X11R6/lib/libXt.so.10.0, not found (try using -rpath or -rpath-link)
/usr/bin/ld: warning: libICE.so.9.0, needed by /usr/X11R6/lib/libXt.so.10.0, not found (try using -rpath or -rpath-link)
https://bugzilla.mozilla.org/show_bug.cgi?id=648721
--- js/src/xpconnect/shell/Makefile.in.orig	Wed Aug 18 21:21:00 2010
+++ js/src/xpconnect/shell/Makefile.in	Sat Sep  4 11:20:50 2010
@@@@ -54,6 +54,8 @@@@ CMMSRCS += xpcshellMacUtils.mm
 endif
 
 LIBS		= \
+		-Wl,-rpath-link,${LOCALBASE}/lib \
+		-Wl,-rpath-link,${X11BASE}/lib \
 		$(DIST)/lib/$(LIB_PREFIX)xpcomglue_s.$(LIB_SUFFIX) \
 		$(LIBXUL_LIBS) \
 		$(XPCOM_LIBS) \
@


1.6
log
@Better patches for sndio integration and kerberos/gssapi authentication
as pushed upstream, see
https://bugzilla.mozilla.org/show_bug.cgi?id=648726 and
https://bugzilla.mozilla.org/show_bug.cgi?id=648730
No binary change..
@
text
@d1 1
a1 1
$OpenBSD: patch-js_src_xpconnect_shell_Makefile_in,v 1.5 2011/03/30 21:39:14 landry Exp $
@


1.5
log
@Lo and behold, update to mozilla-firefox 4.0 !
Too much changes to list them, just enjoy it. Thanks to the ones who
tested the betas/rc.
ok jasper@@
@
text
@d1 4
a4 1
$OpenBSD: patch-js_src_xpconnect_shell_Makefile_in,v 1.4 2010/04/28 06:56:38 landry Exp $
@


1.4
log
@Various cleanups, as done in www/firefox35 :
- use SUBST_CMD instead of perl -pi -e
- use ${LOCALBASE}/${TRUEPREFIX}/${X11BASE} instead of the handpatched
  _XXX_ ones
- harmonize default systemwide plugins/extensions search path to
  lib/mozilla/{plugins,extensions} as done in other mozilla ports
@
text
@d1 4
a4 4
$OpenBSD: patch-js_src_xpconnect_shell_Makefile_in,v 1.3 2010/04/26 19:55:58 landry Exp $
--- js/src/xpconnect/shell/Makefile.in.orig	Wed Jun 17 07:21:48 2009
+++ js/src/xpconnect/shell/Makefile.in	Sat Jun 20 22:09:10 2009
@@@@ -60,6 +60,8 @@@@ CMMSRCS += xpcshellMacUtils.mm
d12 1
a12 1
 		$(MOZ_JS_LIBS) \
@


1.3
log
@Update www/mozilla-firefox from 3.0.19 to 3.6.3, merging the wip done in
www/firefox36 mostly by martynas@@ and naddy@@.
Note that the java plugin from devel/jdk currently doesn't work with this
version of firefox, in the meantime users really needed it will have to
use www/firefox35.
ok naddy@@
@
text
@d1 1
a1 1
$OpenBSD: patch-js_src_xpconnect_shell_Makefile_in,v 1.1.1.1 2010/03/29 20:44:09 naddy Exp $
d8 2
a9 2
+		-Wl,-rpath-link,_LOCALBASE_/lib \
+		-Wl,-rpath-link,_X11BASE_/lib \
@


1.2
log
@it is the right time to update to mozilla-firefox-3.0.4, which has
been tested good enough, and i've fixed all the issues i'm aware
of.  furthermore 2.0 branch has basically reached eol, since there
will be only one minor update (2.0.0.19)
discussed with kurt@@, naddy@@ and porters
pkgname change handling help naddy@@
ok naddy@@
@
text
@d1 4
a4 4
$OpenBSD: patch-js_src_xpconnect_shell_Makefile_in,v 1.2 2008/09/24 19:25:40 martynas Exp $
--- js/src/xpconnect/shell/Makefile.in.orig	Thu Aug  7 12:12:57 2008
+++ js/src/xpconnect/shell/Makefile.in	Tue Sep 23 20:37:32 2008
@@@@ -59,6 +59,8 @@@@ CMMSRCS += xpcshellMacUtils.mm
d8 2
a9 2
+		-Wl,-rpath-link,_LOCALBASE_/lib/ \
+		-Wl,-rpath-link,_X11BASE_/lib/ \
d11 1
a12 1
 		$(XPCOM_LIBS) \
@


1.1
log
@security update to mozilla-firefox-2.0.0.15, fixes MFSA 2008-33,
MFSA 2008-32, MFSA 2008-31, MFSA 2008-30, MFSA 2008-29, MFSA 2008-28,
MFSA 2008-27, MFSA 2008-25, MFSA 2008-24, MFSA 2008-23, MFSA 2008-22,
MFSA 2008-21
http://www.mozilla.org/projects/security/known-vulnerabilities.html#Firefox2.0.0.15
ok kurt@@, naddy@@
@
text
@d1 5
a5 5
$OpenBSD$
--- js/src/xpconnect/shell/Makefile.in.orig	Tue Apr  5 15:35:51 2005
+++ js/src/xpconnect/shell/Makefile.in	Wed Jul  2 13:36:12 2008
@@@@ -56,6 +56,8 @@@@ REQUIRES	= xpconnect \
 CPPSRCS		= xpcshell.cpp
d10 1
a12 1
 		$(NSPR_LIBS) \
@

