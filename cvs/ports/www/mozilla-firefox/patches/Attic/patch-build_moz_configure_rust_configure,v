head	1.1;
access;
symbols
	OPENBSD_6_1:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2017.09.28.16.50.29;	author landry;	state dead;
branches
	1.1.2.1;
next	;
commitid	LNxIrrNYWD4PQgi0;

1.1.2.1
date	2017.09.28.16.50.29;	author landry;	state Exp;
branches;
next	;
commitid	LNxIrrNYWD4PQgi0;


desc
@@


1.1
log
@file patch-build_moz_configure_rust_configure was initially added on branch OPENBSD_6_1.
@
text
@@


1.1.2.1
log
@Sort-of-MFC: Update to firefox 56.0.

- see https://www.mozilla.org/en-US/firefox/56.0/releasenotes/
- fixes https://www.mozilla.org/en-US/security/advisories/mfsa2017-21/

- disable stylo css engine (see #1341234 & #1401093)
- pass --enable-release (#1386371) & --enable-rust-simd (#1261841)
- add a patch to fix javascript debugger in devtools (#1400197)
- add a patch to lower the rust version requirement, as we dont build
  stylo, and i'm not going to update rust in -stable..

"Stable" packages for i386 and amd64 available at https://packages.rhaalovely.net/
signed with https://packages.rhaalovely.net/landry-mozilla-pkg.pub
@
text
@a0 17
$OpenBSD$

Lower rust/cargo requirement for -stable, we dont build stylo anyway

--- build/moz.configure/rust.configure.orig	Thu Sep 28 07:23:10 2017
+++ build/moz.configure/rust.configure	Thu Sep 28 08:24:56 2017
@@@@ -55,8 +55,8 @@@@ def rust_compiler(rustc_info, cargo_info):
         You can install rust by running './mach bootstrap'
         or by directly running the installer from https://rustup.rs/
         '''))
-    rustc_min_version = Version('1.17.0')
-    cargo_min_version = Version('0.{}'.format(rustc_min_version.minor + 1))
+    rustc_min_version = Version('1.16.0')
+    cargo_min_version = Version('0.16.0')
 
     version = rustc_info.version
     if version < rustc_min_version:
@

