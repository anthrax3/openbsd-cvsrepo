head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2012.10.10.20.56.14;	author landry;	state dead;
branches;
next	1.2;

1.2
date	2012.09.01.13.56.45;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2012.08.07.08.55.40;	author landry;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to firefox 16.0.

- see http://www.mozilla.org/en-US/firefox/16.0/releasenotes/ for details
- install an icon into share/pixmaps to fix desktop file icon path
- garbage collect patch-browser_installer_Makefile_in, and
  patch-browser_installer_package-manifest_in, were from upstream
- remove patch-build_unix_mozilla_in, useless since bin/firefox is not a
  script anymore since a while
- remove patch-build_unix_run-mozilla_sh, firefox can be directly
  debugged in gdb now. update README accordingly
- remove patch-config_autoconf_mk_in, XCFLAGS are already passed
- update patch-content_media_gstreamer_nsGStreamerReader_cpp to fix
  gstreamer on BE archs (#777696)
- update patch-extensions_spellcheck_hunspell_src_mozHunspell_cpp after
  nsILocalFile api removal
- remove useless patch-gfx_thebes_Makefile_in pangox patch
- fix PLIST to use proper MOZILLA_VERSION instead of beta MOZILLA_VER
@
text
@$OpenBSD: patch-browser_installer_package-manifest_in,v 1.2 2012/09/01 13:56:45 landry Exp $
https://hg.mozilla.org/mozilla-central/rev/ede54971747f
--- browser/installer/package-manifest.in.orig	Wed Aug 15 07:47:06 2012
+++ browser/installer/package-manifest.in	Sun Aug 19 13:30:25 2012
@@@@ -58,9 +58,11 @@@@
 #ifndef MOZ_STATIC_JS
 @@BINPATH@@/@@DLL_PREFIX@@mozjs@@DLL_SUFFIX@@
 #endif
+#ifndef MOZ_NATIVE_NSPR
 @@BINPATH@@/@@DLL_PREFIX@@nspr4@@DLL_SUFFIX@@
 @@BINPATH@@/@@DLL_PREFIX@@plc4@@DLL_SUFFIX@@
 @@BINPATH@@/@@DLL_PREFIX@@plds4@@DLL_SUFFIX@@
+#endif
 @@BINPATH@@/@@DLL_PREFIX@@xpcom@@DLL_SUFFIX@@
 #ifdef XP_MACOSX
 @@BINPATH@@/XUL
@@@@ -109,7 +111,9 @@@@
 #endif
 @@BINPATH@@/platform.ini
 #ifndef XP_OS2
+#ifndef MOZ_NATIVE_SQLITE
 @@BINPATH@@/@@DLL_PREFIX@@mozsqlite3@@DLL_SUFFIX@@
+#endif
 #else
 @@BINPATH@@/mozsqlt3@@DLL_SUFFIX@@
 #endif
@@@@ -579,6 +583,7 @@@@
 ; NSS libraries are signed in the staging directory,
 ; meaning their .chk files are created there directly.
 ;
+#ifndef MOZ_NATIVE_NSS
 @@BINPATH@@/@@DLL_PREFIX@@freebl3@@DLL_SUFFIX@@
 @@BINPATH@@/@@DLL_PREFIX@@nss3@@DLL_SUFFIX@@
 @@BINPATH@@/@@DLL_PREFIX@@nssckbi@@DLL_SUFFIX@@
@@@@ -589,6 +594,7 @@@@
 @@BINPATH@@/@@DLL_PREFIX@@smime3@@DLL_SUFFIX@@
 @@BINPATH@@/@@DLL_PREFIX@@softokn3@@DLL_SUFFIX@@
 @@BINPATH@@/@@DLL_PREFIX@@ssl3@@DLL_SUFFIX@@
+#endif
 @@BINPATH@@/chrome/pippki@@JAREXT@@
 @@BINPATH@@/chrome/pippki.manifest
 @@BINPATH@@/components/pipboot.xpt
@


1.2
log
@Update to firefox 15.0.

- see http://www.mozilla.org/en-US/firefox/15.0/releasenotes/
- add -Os hack to fix a relocation error when linking on ppc (as was
  done in tb since 10..)
- garbage collect nsSound.cpp, the original one uses libcanberra
  properly and thus sndio.
- remove patch from #750620, merged upstream (mfbt/double-conversion)
- remove patches from #747257, merged upstream (gstreamer fix)
- remove patches from #691898, merged upstream (yarr jit ppc)
@
text
@d1 1
a1 1
$OpenBSD: patch-browser_installer_package-manifest_in,v 1.1 2012/08/07 08:55:40 landry Exp $
@


1.1
log
@Update to firefox 14.0.1.

- see http://www.mozilla.org/en-US/firefox/14.0.1/releasenotes/
- enable H.264 video support through gstreamer. Mention that one needs to
  manually install gstreamer-ffmpeg. Not all videos/sites will work.
- backport cset from #776838 & #747257 for various gst fixes.
- backport cset from #750620 to fix ppc (and other exotic archs) build.
- backport cset from #752895 to fix packaging issues.
- remove patch-content_xslt_src_base_txDouble_cpp, useless since mozilla
  switched to mfbt/double-conversion.
- remove nss opening hack in Sync, it works fine without it.
- remove the -rpath hack, not needed since matthew's ld.so fix from 12/06
@
text
@d1 1
a1 1
$OpenBSD$
d3 3
a5 3
--- browser/installer/package-manifest.in.orig	Sun Jun 17 17:00:56 2012
+++ browser/installer/package-manifest.in	Sun Jun 17 17:02:09 2012
@@@@ -54,9 +54,11 @@@@
d17 1
a17 1
@@@@ -105,7 +107,9 @@@@
d27 1
a27 1
@@@@ -560,6 +564,7 @@@@
d35 1
a35 1
@@@@ -570,6 +575,7 @@@@
@

