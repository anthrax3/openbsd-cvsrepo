head	1.8;
access;
symbols
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.5.0.2
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.4
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.2.0.4
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2;
locks; strict;
comment	@# @;


1.8
date	2013.06.26.19.29.15;	author landry;	state dead;
branches;
next	1.7;

1.7
date	2013.04.06.14.44.52;	author landry;	state Exp;
branches;
next	1.6;

1.6
date	2012.09.01.13.56.45;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2012.03.16.21.31.24;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2011.04.09.11.05.06;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2011.03.30.21.39.14;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2010.07.22.21.42.13;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2010.04.26.19.55.58;	author landry;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Update to firefox 22.0.

- see http://www.mozilla.org/en-US/firefox/22.0/releasenotes/ (ok,
  webrtc isnt enabled yet by default on *BSD but we're working on it :)
- fixes MFSA 2013-49->62
- remove all patches related to sydneyaudio which got removed upstream,
  sound uses libcubeb which has a native sndio backend since ages (thx
to ratchov!). also remove related post-patch target while here.
- add temporary workaround (TERM=xterm) for bug #878089
- switch i386 to use clang again, using --disable-debug-symbols to make
  the code smaller (who said 'gross hack' ?)
- update patch-gfx_thebes_gfxPlatform_cpp to match what got commited
  upstream in r52b02042b27f
- remove patch-js_src_vm_SPSProfiler_cpp which unbroke powerpc, finally
  got commited in 22 branch
- rework fx-i18n's MESSAGE to be more in line with reality (discussed
  with Marcus Merighi)
@
text
@$OpenBSD: patch-media_libsydneyaudio_src_Makefile_in,v 1.7 2013/04/06 14:44:52 landry Exp $
https://bugzilla.mozilla.org/show_bug.cgi?id=648726
--- media/libsydneyaudio/src/Makefile.in.orig	Wed Feb 20 14:28:19 2013
+++ media/libsydneyaudio/src/Makefile.in	Sun Feb 24 17:33:12 2013
@@@@ -70,6 +70,12 @@@@ CSRCS		= \
 		$(NULL)
 endif
 
+ifeq ($(OS_ARCH),OpenBSD)
+CSRCS		= \
+		sydney_audio_sndio.c \
+		$(NULL)
+endif
+
 ifeq ($(OS_ARCH),WINNT)
 OS_LIBS += winmm.lib
 endif
@


1.7
log
@Update to firefox 20.0.

- See http://www.mozilla.org/en-US/firefox/20.0/releasenotes/
- Fixes MFSA 2013-30->40
- switch back to use clang on i386, now that llvm got fixed there
- backport libffi i386 fix (TODO: switch to systemwide libffi if possible)
- add nicer fix to avoid installing the sdk lib/headers
@
text
@d1 1
a1 1
$OpenBSD: patch-media_libsydneyaudio_src_Makefile_in,v 1.6 2012/09/01 13:56:45 landry Exp $
@


1.6
log
@Update to firefox 15.0.

- see http://www.mozilla.org/en-US/firefox/15.0/releasenotes/
- add -Os hack to fix a relocation error when linking on ppc (as was
  done in tb since 10..)
- garbage collect nsSound.cpp, the original one uses libcanberra
  properly and thus sndio.
- remove patch from #750620, merged upstream (mfbt/double-conversion)
- remove patches from #747257, merged upstream (gstreamer fix)
- remove patches from #691898, merged upstream (yarr jit ppc)
@
text
@d1 1
a1 1
$OpenBSD: patch-media_libsydneyaudio_src_Makefile_in,v 1.5 2012/03/16 21:31:24 landry Exp $
d3 3
a5 3
--- media/libsydneyaudio/src/Makefile.in.orig	Wed Aug 15 07:48:04 2012
+++ media/libsydneyaudio/src/Makefile.in	Sun Aug 19 13:50:30 2012
@@@@ -68,6 +68,12 @@@@ CSRCS		= \
@


1.5
log
@Update to firefox 11.0.
- Fixes MFSA 2012-12->19
- see http://www.mozilla.org/en-US/firefox/11.0/releasenotes/
- complete patchset for #691898, still fixes build on ppc (and hopefully
  commited in firefox 14...)
- add patchset from #706955, workarounds #669050 (xpcshell hangs during
  make install and chokes on CSPUtils.csm, threads related..)
- remove obsolete/commited patches
@
text
@d1 1
a1 1
$OpenBSD: patch-media_libsydneyaudio_src_Makefile_in,v 1.4 2011/04/09 11:05:06 landry Exp $
d3 3
a5 3
--- media/libsydneyaudio/src/Makefile.in.orig	Thu Feb  2 00:39:20 2012
+++ media/libsydneyaudio/src/Makefile.in	Tue Feb 14 18:42:12 2012
@@@@ -100,6 +100,12 @@@@ CSRCS		= \
@


1.4
log
@Better patches for sndio integration and kerberos/gssapi authentication
as pushed upstream, see
https://bugzilla.mozilla.org/show_bug.cgi?id=648726 and
https://bugzilla.mozilla.org/show_bug.cgi?id=648730
No binary change..
@
text
@d1 1
a1 1
$OpenBSD: patch-media_libsydneyaudio_src_Makefile_in,v 1.3 2011/03/30 21:39:14 landry Exp $
d3 3
a5 3
--- media/libsydneyaudio/src/Makefile.in.orig	Wed Jul 21 02:52:30 2010
+++ media/libsydneyaudio/src/Makefile.in	Sun Aug  1 12:58:33 2010
@@@@ -93,6 +93,12 @@@@ CSRCS		= \
@


1.3
log
@Lo and behold, update to mozilla-firefox 4.0 !
Too much changes to list them, just enjoy it. Thanks to the ones who
tested the betas/rc.
ok jasper@@
@
text
@d1 2
a2 1
$OpenBSD: patch-media_libsydneyaudio_src_Makefile_in,v 1.2 2010/07/22 21:42:13 landry Exp $
@


1.2
log
@Security/Reliability update to firefox 3.6.7, fixes MFSA-2010-34 -> 47
http://www.mozilla.org/security/known-vulnerabilities/firefox36.html
ok naddy@@
@
text
@d1 5
a5 5
$OpenBSD: patch-media_libsydneyaudio_src_Makefile_in,v 1.1 2010/04/26 19:55:58 landry Exp $
--- media/libsydneyaudio/src/Makefile.in.orig	Tue Jul 13 21:10:28 2010
+++ media/libsydneyaudio/src/Makefile.in	Wed Jul 21 09:54:46 2010
@@@@ -83,6 +83,12 @@@@ CSRCS         = \
               $(NULL)
@


1.1
log
@Update www/mozilla-firefox from 3.0.19 to 3.6.3, merging the wip done in
www/firefox36 mostly by martynas@@ and naddy@@.
Note that the java plugin from devel/jdk currently doesn't work with this
version of firefox, in the meantime users really needed it will have to
use www/firefox35.
ok naddy@@
@
text
@d1 5
a5 5
$OpenBSD: patch-media_libsydneyaudio_src_Makefile_in,v 1.1.1.1 2010/03/29 20:44:10 naddy Exp $
--- media/libsydneyaudio/src/Makefile.in.orig	Mon Aug 24 18:52:50 2009
+++ media/libsydneyaudio/src/Makefile.in	Thu Sep 10 23:35:11 2009
@@@@ -77,6 +77,12 @@@@ CSRCS		= \
 		$(NULL)
@

