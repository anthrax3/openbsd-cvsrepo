head	1.5;
access;
symbols
	OPENBSD_4_9:1.4.0.4
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.2
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.1.0.6
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.4
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2011.03.30.21.39.14;	author landry;	state dead;
branches;
next	1.4;

1.4
date	2010.06.28.21.24.22;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2010.05.10.12.36.09;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2010.04.26.19.55.58;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2008.11.20.23.41.32;	author martynas;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Lo and behold, update to mozilla-firefox 4.0 !
Too much changes to list them, just enjoy it. Thanks to the ones who
tested the betas/rc.
ok jasper@@
@
text
@$OpenBSD: patch-accessible_src_atk_nsAppRootAccessible_cpp,v 1.4 2010/06/28 21:24:22 landry Exp $
--- accessible/src/atk/nsAppRootAccessible.cpp.orig	Fri Jun 11 22:40:50 2010
+++ accessible/src/atk/nsAppRootAccessible.cpp	Thu Jun 24 10:08:30 2010
@@@@ -56,7 +56,7 @@@@ typedef GType (* AtkGetTypeType) (void);
 GType g_atk_hyperlink_impl_type = G_TYPE_INVALID;
 static PRBool sATKChecked = PR_FALSE;
 static PRLibrary *sATKLib = nsnull;
-static const char sATKLibName[] = "libatk-1.0.so.0";
+static const char sATKLibName[] = "libatk-1.0.so";
 static const char sATKHyperlinkImplGetTypeSymbol[] =
     "atk_hyperlink_impl_get_type";
 static const char sAccEnv [] = "GNOME_ACCESSIBILITY";
@@@@ -118,8 +118,8 @@@@ static GHashTable *key_listener_list = NULL;
 static guint key_snooper_id = 0;
 
 G_BEGIN_DECLS
-typedef void (*GnomeAccessibilityInit) (void);
-typedef void (*GnomeAccessibilityShutdown) (void);
+typedef void (*GnomeAccessibilityInit) ();
+typedef void (*GnomeAccessibilityShutdown) ();
 G_END_DECLS
 
 struct MaiUtil
@@@@ -762,9 +762,11 @@@@ LoadGtkModule(GnomeAccessibilityModule& aModule)
     }
 
     //we have loaded the library, try to get the function ptrs
-    if (!(aModule.init = PR_FindFunctionSymbol(aModule.lib,
+    if (!(aModule.init = (GnomeAccessibilityInit)
+                                PR_FindFunctionSymbol(aModule.lib,
                                                aModule.initName)) ||
-        !(aModule.shutdown = PR_FindFunctionSymbol(aModule.lib,
+        !(aModule.shutdown = (GnomeAccessibilityShutdown) 
+                                PR_FindFunctionSymbol(aModule.lib,
                                                    aModule.shutdownName))) {
 
         //fail, :(
@


1.4
log
@Update to mozilla-firefox 3.6.6. Fixes a bunch of MFSA, see
http://www.mozilla.org/security/known-vulnerabilities/firefox36.html
The new plugin sandboxing code is disabled because :
- it only supports binary blobs plugins we don't have
- it is an horrible maze of #ifdef linux-apple-win32 coming straight
  from an old version of chromium. Future versions should have better BSD
support..
tested by several on ports@@, thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-accessible_src_atk_nsAppRootAccessible_cpp,v 1.3 2010/05/10 12:36:09 espie Exp $
@


1.3
log
@gcc3 and gcc4 disagree, so put a common cast to make them compile.
(also compile some file with -O1 in moz)
@
text
@d1 4
a4 4
$OpenBSD: patch-mozilla_accessible_src_atk_nsAppRootAccessible_cpp,v 1.1 2010/04/03 09:30:14 landry Exp $
--- accessible/src/atk/nsAppRootAccessible.cpp.orig	Wed Mar 17 19:32:26 2010
+++ accessible/src/atk/nsAppRootAccessible.cpp	Mon May 10 09:47:01 2010
@@@@ -55,7 +55,7 @@@@ typedef GType (* AtkGetTypeType) (void);
d13 1
a13 1
@@@@ -117,8 +117,8 @@@@ static GHashTable *key_listener_list = NULL;
d24 1
a24 1
@@@@ -757,9 +757,11 @@@@ LoadGtkModule(GnomeAccessibilityModule& aModule)
@


1.2
log
@Update www/mozilla-firefox from 3.0.19 to 3.6.3, merging the wip done in
www/firefox36 mostly by martynas@@ and naddy@@.
Note that the java plugin from devel/jdk currently doesn't work with this
version of firefox, in the meantime users really needed it will have to
use www/firefox35.
ok naddy@@
@
text
@d1 4
a4 4
$OpenBSD: patch-accessible_src_atk_nsAppRootAccessible_cpp,v 1.1.1.1 2010/03/29 20:44:09 naddy Exp $
--- accessible/src/atk/nsAppRootAccessible.cpp.orig	Wed Jan  6 05:35:10 2010
+++ accessible/src/atk/nsAppRootAccessible.cpp	Sun Jan 10 17:47:23 2010
@@@@ -56,7 +56,7 @@@@ typedef GType (* AtkGetTypeType) (void);
d13 25
@


1.1
log
@it is the right time to update to mozilla-firefox-3.0.4, which has
been tested good enough, and i've fixed all the issues i'm aware
of.  furthermore 2.0 branch has basically reached eol, since there
will be only one minor update (2.0.0.19)
discussed with kurt@@, naddy@@ and porters
pkgname change handling help naddy@@
ok naddy@@
@
text
@d1 4
a4 4
$OpenBSD: patch-accessible_src_atk_nsAppRootAccessible_cpp,v 1.1.1.1 2008/07/25 01:52:55 martynas Exp $
--- accessible/src/atk/nsAppRootAccessible.cpp.orig	Thu Oct 11 13:13:32 2007
+++ accessible/src/atk/nsAppRootAccessible.cpp	Fri Jun 13 19:31:10 2008
@@@@ -55,7 +55,7 @@@@ typedef GType (* AtkGetTypeType) (void);
@

