head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2012.09.01.13.56.45;	author landry;	state dead;
branches;
next	1.1;

1.1
date	2012.08.07.08.55.40;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to firefox 15.0.

- see http://www.mozilla.org/en-US/firefox/15.0/releasenotes/
- add -Os hack to fix a relocation error when linking on ppc (as was
  done in tb since 10..)
- garbage collect nsSound.cpp, the original one uses libcanberra
  properly and thus sndio.
- remove patch from #750620, merged upstream (mfbt/double-conversion)
- remove patches from #747257, merged upstream (gstreamer fix)
- remove patches from #691898, merged upstream (yarr jit ppc)
@
text
@$OpenBSD: patch-uriloader_exthandler_nsExternalHelperAppService_cpp,v 1.1 2012/08/07 08:55:40 landry Exp $
https://hg.mozilla.org/mozilla-central/rev/a19f0356c09d
--- uriloader/exthandler/nsExternalHelperAppService.cpp.orig	Fri Jul 13 23:43:17 2012
+++ uriloader/exthandler/nsExternalHelperAppService.cpp	Wed Jul 25 00:02:32 2012
@@@@ -437,6 +437,9 @@@@ static nsDefaultMimeTypeEntry defaultMimeEntries [] = 
   { VIDEO_WEBM, "webm" },
   { AUDIO_WEBM, "webm" },
 #endif
+#ifdef MOZ_GSTREAMER
+  { VIDEO_MP4, "mp4" },
+#endif
 #ifdef MOZ_RAW
   { VIDEO_RAW, "yuv" }
 #endif
@@@@ -507,6 +510,7 @@@@ static nsExtraMimeTypeEntry extraMimeEntries [] =
   { AUDIO_OGG, "oga", "Ogg Audio" },
   { VIDEO_WEBM, "webm", "Web Media Video" },
   { AUDIO_WEBM, "webm", "Web Media Audio" },
+  { VIDEO_MP4, "mp4", "MPEG-4 Video" },
   { VIDEO_RAW, "yuv", "Raw YUV Video" },
   { AUDIO_WAV, "wav", "Waveform Audio" }
 };
@


1.1
log
@Update to firefox 14.0.1.

- see http://www.mozilla.org/en-US/firefox/14.0.1/releasenotes/
- enable H.264 video support through gstreamer. Mention that one needs to
  manually install gstreamer-ffmpeg. Not all videos/sites will work.
- backport cset from #776838 & #747257 for various gst fixes.
- backport cset from #750620 to fix ppc (and other exotic archs) build.
- backport cset from #752895 to fix packaging issues.
- remove patch-content_xslt_src_base_txDouble_cpp, useless since mozilla
  switched to mfbt/double-conversion.
- remove nss opening hack in Sync, it works fine without it.
- remove the -rpath hack, not needed since matthew's ld.so fix from 12/06
@
text
@d1 1
a1 1
$OpenBSD$
@

