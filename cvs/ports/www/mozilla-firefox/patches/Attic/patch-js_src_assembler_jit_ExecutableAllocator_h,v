head	1.4;
access;
symbols
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2012.09.01.13.56.45;	author landry;	state dead;
branches;
next	1.3;

1.3
date	2012.08.07.08.55.40;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2012.06.11.15.29.56;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2012.05.09.20.36.40;	author landry;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to firefox 15.0.

- see http://www.mozilla.org/en-US/firefox/15.0/releasenotes/
- add -Os hack to fix a relocation error when linking on ppc (as was
  done in tb since 10..)
- garbage collect nsSound.cpp, the original one uses libcanberra
  properly and thus sndio.
- remove patch from #750620, merged upstream (mfbt/double-conversion)
- remove patches from #747257, merged upstream (gstreamer fix)
- remove patches from #691898, merged upstream (yarr jit ppc)
@
text
@$OpenBSD: patch-js_src_assembler_jit_ExecutableAllocator_h,v 1.3 2012/08/07 08:55:40 landry Exp $
https://hg.mozilla.org/mozilla-central/rev/f5a3a7b9c6b0
--- js/src/assembler/jit/ExecutableAllocator.h.orig	Wed Jun 13 01:46:43 2012
+++ js/src/assembler/jit/ExecutableAllocator.h	Sun Jun 17 12:04:02 2012
@@@@ -468,8 +468,6 @@@@ class ExecutableAllocator { (public)
     {
         sync_instruction_memory((caddr_t)code, size);
     }
-#else
-    #error "The cacheFlush support is missing on this platform."
 #endif
 
 private:
@


1.3
log
@Update to firefox 14.0.1.

- see http://www.mozilla.org/en-US/firefox/14.0.1/releasenotes/
- enable H.264 video support through gstreamer. Mention that one needs to
  manually install gstreamer-ffmpeg. Not all videos/sites will work.
- backport cset from #776838 & #747257 for various gst fixes.
- backport cset from #750620 to fix ppc (and other exotic archs) build.
- backport cset from #752895 to fix packaging issues.
- remove patch-content_xslt_src_base_txDouble_cpp, useless since mozilla
  switched to mfbt/double-conversion.
- remove nss opening hack in Sync, it works fine without it.
- remove the -rpath hack, not needed since matthew's ld.so fix from 12/06
@
text
@d1 1
a1 1
$OpenBSD: patch-js_src_assembler_jit_ExecutableAllocator_h,v 1.2 2012/06/11 15:29:56 landry Exp $
@


1.2
log
@Update to firefox 13.0.

See https://www.mozilla.org/en-US/firefox/13.0/releasenotes/ for details
- set SEPARATE_BUILD (workarounds #736961)
- cleanup useless dirs (from #717616)
@
text
@d1 1
a1 1
$OpenBSD: patch-js_src_assembler_jit_ExecutableAllocator_h,v 1.1 2012/05/09 20:36:40 landry Exp $
d3 3
a5 3
--- js/src/assembler/jit/ExecutableAllocator.h.orig	Wed May  2 05:16:48 2012
+++ js/src/assembler/jit/ExecutableAllocator.h	Wed May  9 23:06:34 2012
@@@@ -467,8 +467,6 @@@@ class ExecutableAllocator { (public)
@


1.1
log
@Sync patches with what has (finally _o/ \o/ \o_ !) been commited
upstream for bug #691898, fixing build on powerpc (and other non
yarr-jit archs..), see
https://hg.mozilla.org/mozilla-central/rev/f5a3a7b9c6b0
@
text
@d1 1
a1 1
$OpenBSD$
d3 3
a5 3
--- js/src/assembler/jit/ExecutableAllocator.h.orig	Wed May  9 22:01:13 2012
+++ js/src/assembler/jit/ExecutableAllocator.h	Wed May  9 22:01:28 2012
@@@@ -445,8 +445,6 @@@@ class ExecutableAllocator { (public)
@

