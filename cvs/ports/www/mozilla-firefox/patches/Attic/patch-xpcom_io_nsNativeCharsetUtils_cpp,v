head	1.4;
access;
symbols
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.1.1.1.0.4
	OPENBSD_3_6_BASE:1.1.1.1
	OPENBSD_3_5:1.1.1.1.0.2
	OPENBSD_3_5_BASE:1.1.1.1
	wilfried_2004-04-15:1.1.1.1
	wilfried:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2005.12.20.23.44.00;	author bernd;	state dead;
branches;
next	1.3;

1.3
date	2005.03.02.19.30.18;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2004.11.26.18.29.15;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2004.02.15.19.37.25;	author wilfried;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.02.15.19.37.25;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to Firefox 1.5.

Team work by wilfried@@, kurt@@ and me.

Tested by many. Thanks a lot!

ok kurt@@ krw@@ jolan@@ ian@@ pvalchev@@
@
text
@$OpenBSD: patch-xpcom_io_nsNativeCharsetUtils_cpp,v 1.3 2005/03/02 19:30:18 naddy Exp $
--- xpcom/io/nsNativeCharsetUtils.cpp.orig	Tue Nov  9 21:46:03 2004
+++ xpcom/io/nsNativeCharsetUtils.cpp	Fri Feb 25 21:09:20 2005
@@@@ -329,7 +329,11 @@@@ nsNativeCharsetConverter::LazyInit()
 {
     const char  *blank_list[] = { "", NULL };
     const char **native_charset_list = blank_list;
+#ifdef CODESET
     const char  *native_charset = nl_langinfo(CODESET);
+#else
+    const char  *native_charset = nsnull;
+#endif
     if (native_charset == nsnull) {
         NS_ERROR("native charset is unknown");
         // fallback to ISO-8859-1
@


1.3
log
@* Update to 1.0.1.  Fixes IDN spoofing and other vulnerabilities.
* Dependency fixes from alek@@
* Don't install world-writable files and directories related to
extensions.  Breaks functionality in that area.
@
text
@d1 1
a1 1
$OpenBSD: patch-xpcom_io_nsNativeCharsetUtils_cpp,v 1.2 2004/11/26 18:29:15 pvalchev Exp $
@


1.2
log
@mozilla-firefox-1.0; based on work by wilfried/robert/naddy
@
text
@d1 4
a4 4
$OpenBSD: patch-xpcom_io_nsNativeCharsetUtils_cpp,v 1.1.1.1 2004/02/15 19:37:25 wilfried Exp $
--- xpcom/io/nsNativeCharsetUtils.cpp.orig	2004-05-27 20:55:10.000000000 +0200
+++ xpcom/io/nsNativeCharsetUtils.cpp	2004-06-16 09:50:16.000000000 +0200
@@@@ -295,7 +295,11 @@@@ nsNativeCharsetConverter::LazyInit()
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD: patch-xpcom_io_nsNativeCharsetUtils_cpp,v 1.2 2004/01/18 11:51:10 wilfried Exp $
--- xpcom/io/nsNativeCharsetUtils.cpp.orig	2003-07-30 07:58:28.000000000 +0200
+++ xpcom/io/nsNativeCharsetUtils.cpp	2003-12-12 12:41:30.000000000 +0100
@@@@ -294,7 +294,11 @@@@ nsNativeCharsetConverter::LazyInit()
@


1.1.1.1
log
@import of mozilla firefox 0.8
@
text
@@
