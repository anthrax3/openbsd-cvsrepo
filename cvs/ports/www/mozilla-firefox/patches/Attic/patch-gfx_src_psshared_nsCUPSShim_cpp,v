head	1.7;
access;
symbols
	OPENBSD_4_9:1.5.0.2
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.4.0.2
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.3.0.6
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.4
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.2
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.2.0.6
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.4
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.0.6
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.4
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.7
date	2011.03.30.21.39.14;	author landry;	state dead;
branches;
next	1.6;

1.6
date	2011.03.02.14.39.48;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2010.12.26.13.16.29;	author stsp;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2010.04.26.19.55.58;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2008.11.20.23.41.32;	author martynas;	state Exp;
branches;
next	1.2;

1.2
date	2007.04.06.14.33.36;	author martynas;	state Exp;
branches;
next	1.1;

1.1
date	2006.02.06.08.21.53;	author wilfried;	state Exp;
branches;
next	;

1.5.2.1
date	2011.04.27.02.55.44;	author william;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Lo and behold, update to mozilla-firefox 4.0 !
Too much changes to list them, just enjoy it. Thanks to the ones who
tested the betas/rc.
ok jasper@@
@
text
@$OpenBSD: patch-gfx_src_psshared_nsCUPSShim_cpp,v 1.6 2011/03/02 14:39:48 landry Exp $
--- gfx/src/psshared/nsCUPSShim.cpp.orig	Wed Mar  2 10:32:33 2011
+++ gfx/src/psshared/nsCUPSShim.cpp	Wed Mar  2 10:32:58 2011
@@@@ -59,7 +59,7 @@@@ static const int gSymNameCt = sizeof(gSymName) / sizeo
 PRBool
 nsCUPSShim::Init()
 {
-    mCupsLib = PR_LoadLibrary("libcups.so.2");
+    mCupsLib = PR_LoadLibrary("libcups.so");
     if (!mCupsLib)
         return PR_FALSE;
 
@


1.6
log
@Update to firefox 3.6.14. (Fixes MFSA-2011-01->11)
Patches for https://bugzilla.mozilla.org/show_bug.cgi?id=573039 merged
upstream.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.5
log
@Apply patch from upstream to fix the "Print" and "Print Preview" crashes.
https://bugzilla.mozilla.org/show_bug.cgi?id=573039
https://bug573039.bugzilla.mozilla.org/attachment.cgi?id=499233
suggested by and ok landry@@
@
text
@d1 3
a3 5
$OpenBSD: patch-gfx_src_psshared_nsCUPSShim_cpp,v 1.4 2010/04/26 19:55:58 landry Exp $
https://bugzilla.mozilla.org/show_bug.cgi?id=573039
https://bug573039.bugzilla.mozilla.org/attachment.cgi?id=499233
--- gfx/src/psshared/nsCUPSShim.cpp.orig	Sun Dec 26 11:07:52 2010
+++ gfx/src/psshared/nsCUPSShim.cpp	Sun Dec 26 11:08:25 2010
a12 11
@@@@ -87,10 +87,4 @@@@ nsCUPSShim::Init()
         }
     }
     return PR_TRUE;
-}
-
-nsCUPSShim::~nsCUPSShim()
-{
-    if (mCupsLib)
-        PR_UnloadLibrary(mCupsLib);
 }
@


1.5.2.1
log
@SECURITY UPDATE to mozilla-firefox-3.6.16

ok jasper landry

thanks to landry for doing all the work in -current's www/firefox36,
which this was based on.
@
text
@d1 5
a5 3
$OpenBSD: patch-gfx_src_psshared_nsCUPSShim_cpp,v 1.5 2010/12/26 13:16:29 stsp Exp $
--- gfx/src/psshared/nsCUPSShim.cpp.orig	Wed Mar  2 10:32:33 2011
+++ gfx/src/psshared/nsCUPSShim.cpp	Wed Mar  2 10:32:58 2011
d15 11
@


1.4
log
@Update www/mozilla-firefox from 3.0.19 to 3.6.3, merging the wip done in
www/firefox36 mostly by martynas@@ and naddy@@.
Note that the java plugin from devel/jdk currently doesn't work with this
version of firefox, in the meantime users really needed it will have to
use www/firefox35.
ok naddy@@
@
text
@d1 5
a5 3
$OpenBSD: patch-gfx_src_psshared_nsCUPSShim_cpp,v 1.1.1.1 2010/03/29 20:44:09 naddy Exp $
--- gfx/src/psshared/nsCUPSShim.cpp.orig	Sun May  8 18:01:20 2005
+++ gfx/src/psshared/nsCUPSShim.cpp	Fri Apr  6 17:21:07 2007
d15 11
@


1.3
log
@it is the right time to update to mozilla-firefox-3.0.4, which has
been tested good enough, and i've fixed all the issues i'm aware
of.  furthermore 2.0 branch has basically reached eol, since there
will be only one minor update (2.0.0.19)
discussed with kurt@@, naddy@@ and porters
pkgname change handling help naddy@@
ok naddy@@
@
text
@d1 1
a1 1
$OpenBSD: patch-gfx_src_psshared_nsCUPSShim_cpp,v 1.1.1.1 2008/07/25 01:52:55 martynas Exp $
@


1.2
log
@- make it check LOCALBASE/share/mozilla-dicts, the global dictionaries
location for all mozilla ports;
- regen patches (due to the current changes);
- bump pkgname;
discussed with naddy@@, kurt@@, ajacoutot@@
ok naddy@@
@
text
@d1 1
a1 1
$OpenBSD: patch-gfx_src_psshared_nsCUPSShim_cpp,v 1.1 2006/02/06 08:21:53 wilfried Exp $
@


1.1
log
@Firefox 1.5.0.1 is a stability-and-security update to Firefox 1.5.
It also includes a number of low-risk fixes for other types of bugs.
@
text
@d1 4
a4 4
$OpenBSD$
--- gfx/src/psshared/nsCUPSShim.cpp.orig	Sun May  8 17:01:20 2005
+++ gfx/src/psshared/nsCUPSShim.cpp	Thu Jan 12 13:18:31 2006
@@@@ -59,7 +59,7 @@@@ static const int gSymNameCt = sizeof(gSy
@

