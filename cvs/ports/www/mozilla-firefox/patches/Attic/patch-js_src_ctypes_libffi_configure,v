head	1.6;
access;
symbols
	OPENBSD_5_5:1.5.0.2
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.4.0.4
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2014.03.24.21.11.37;	author landry;	state dead;
branches;
next	1.5;

1.5
date	2013.12.12.19.53.19;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2012.09.01.13.56.45;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2012.04.30.15.28.42;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2011.12.08.01.47.02;	author nigel;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.30.21.39.14;	author landry;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to firefox 28.0.

- See http://www.mozilla.org/en-US/firefox/28.0/releasenotes/
- Fixes MFSA 2014-15->32
- add an all-openbsd.js file to modify default preferences instead of
  patching browser/app/profile/firefox.js like pigs. Install it in
browser/defaults/preferences/ so that it is effective by default for
newer profiles. Currently, we only use it to disable safebrowsing
feature..
- remove libffi patches, were merged upstream in #928390 and #928381
@
text
@$OpenBSD: patch-js_src_ctypes_libffi_configure,v 1.5 2013/12/12 19:53:19 landry Exp $
https://hg.mozilla.org/integration/mozilla-inbound/rev/a434e4fc3482
Remove in 28
--- js/src/ctypes/libffi/configure.orig	Wed Aug 15 07:47:31 2012
+++ js/src/ctypes/libffi/configure	Sun Aug 19 13:56:24 2012
@@@@ -11213,7 +11213,7 @@@@ case "$host" in
 	TARGET=FRV; TARGETDIR=frv
 	;;
 
-  hppa*-*-linux* | parisc*-*-linux*)
+  hppa*-*-linux* | hppa*-*-openbsd* | parisc*-*-linux*)
 	TARGET=PA_LINUX; TARGETDIR=pa
 	;;
   hppa*64-*-hpux*)
@@@@ -11256,7 +11256,7 @@@@ case "$host" in
   mips-sgi-irix5.* | mips-sgi-irix6.*)
 	TARGET=MIPS; TARGETDIR=mips
 	;;
-  mips*-*linux*)
+  mips*-*linux* | mips*-*-openbsd*)
 	# Support 128-bit long double for NewABI.
 	HAVE_LONG_DOUBLE='defined(__mips64)'
 	TARGET=MIPS; TARGETDIR=mips
@


1.5
log
@Update to firefox 26.0.

- see http://www.mozilla.org/en-US/firefox/26.0/releasenotes/
- fixes MFSA 2013-104 -> 117
- remove now useless sydney_audio_sndio.c file, nothing uses it anymore
- remove patch-ipc_chromium_src_base_dir_reader_bsd_h-from (#909005),
  the getdents() patch has been merged upstream.
@
text
@d1 1
a1 1
$OpenBSD: patch-js_src_ctypes_libffi_configure,v 1.4 2012/09/01 13:56:45 landry Exp $
@


1.4
log
@Update to firefox 15.0.

- see http://www.mozilla.org/en-US/firefox/15.0/releasenotes/
- add -Os hack to fix a relocation error when linking on ppc (as was
  done in tb since 10..)
- garbage collect nsSound.cpp, the original one uses libcanberra
  properly and thus sndio.
- remove patch from #750620, merged upstream (mfbt/double-conversion)
- remove patches from #747257, merged upstream (gstreamer fix)
- remove patches from #691898, merged upstream (yarr jit ppc)
@
text
@d1 3
a3 1
$OpenBSD: patch-js_src_ctypes_libffi_configure,v 1.3 2012/04/30 15:28:42 landry Exp $
@


1.3
log
@Update to firefox 12.0.

- see http://www.mozilla.org/en-US/firefox/12.0/releasenotes/ for details
- two patches moved (patch-widget_src_xpwidgets_nsPrintSettingsImpl_cpp
  and patch-widget_src_gtk2_Makefile_in)
- add two new patches for bug #691898 (patch-js_src_jsapi_cpp and
  /patch-js_src_jsprvtd_h)
- add patch-gfx_thebes_gfxPlatform_cpp to workaround regression
  introduced in bug #715658, which prevents one from building against
systemwide cairo.
- patch-extensions_auth_nsAuthGSSAPI_cpp from bug #667325 got merged
- patch-js_src_js-config_h_in and patch-js_src_jscpucfg_h from #714312 got
  merged
- patch-ipc_chromium_src_base_dir_reader_posix_ -from #714315 got merged
@
text
@d1 3
a3 3
$OpenBSD: patch-js_src_ctypes_libffi_configure,v 1.2 2011/12/08 01:47:02 nigel Exp $
--- js/src/ctypes/libffi/configure.orig	Wed Apr 11 15:55:00 2012
+++ js/src/ctypes/libffi/configure	Wed Apr 18 22:08:49 2012
d17 2
a18 2
-  mips*-*-linux*)
+  mips*-*-linux* | mips*-*-openbsd* )
@


1.2
log
@Update Firefox v7.0.1 to v8.0.1 continued
patches from mpi@@ for macppc

Ok mpi@@, dcoppa@@
@
text
@d1 4
a4 4
$OpenBSD: patch-js_src_ctypes_libffi_configure,v 1.1 2011/03/30 21:39:14 landry Exp $
--- js/src/ctypes/libffi/configure.orig	Fri Nov  4 21:34:01 2011
+++ js/src/ctypes/libffi/configure	Thu Nov 10 00:21:25 2011
@@@@ -11212,7 +11212,7 @@@@ case "$host" in
d13 1
a13 1
@@@@ -11255,7 +11255,7 @@@@ case "$host" in
@


1.1
log
@Lo and behold, update to mozilla-firefox 4.0 !
Too much changes to list them, just enjoy it. Thanks to the ones who
tested the betas/rc.
ok jasper@@
@
text
@d1 3
a3 3
$OpenBSD$
--- js/src/ctypes/libffi/configure.orig	Wed Aug 18 21:20:57 2010
+++ js/src/ctypes/libffi/configure	Sat Sep  4 11:20:37 2010
a21 9
@@@@ -11277,7 +11277,7 @@@@ case "$host" in
   powerpc-*-aix* | rs6000-*-aix*)
 	TARGET=POWERPC_AIX; TARGETDIR=powerpc
 	;;
-  powerpc-*-freebsd*)
+  powerpc-*-freebsd* | powerpc-*-openbsd* )
 	TARGET=POWERPC_FREEBSD; TARGETDIR=powerpc
 	;;
   powerpc*-*-rtems*)
@

