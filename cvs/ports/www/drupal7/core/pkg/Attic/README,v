head	1.7;
access;
symbols
	OPENBSD_5_9:1.6.0.8
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.10
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.6
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.4
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.2
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3;
locks; strict;
comment	@# @;


1.7
date	2016.06.30.11.55.48;	author espie;	state dead;
branches;
next	1.6;
commitid	Ukq4CG44TSn39O1v;

1.6
date	2014.02.08.18.52.10;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2013.05.05.19.24.13;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.17.07.21.17;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.06.21.07.00.20;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.06.10.16.33.00;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2012.04.10.12.52.32;	author espie;	state Exp;
branches;
next	;


desc
@@


1.7
log
@scrub old shit and wrong import
@
text
@$OpenBSD: README,v 1.6 2014/02/08 18:52:10 espie Exp $

+-----------------------------------------------------------------------
| Running ${FULLPKGNAME} on OpenBSD
+-----------------------------------------------------------------------

To enable a decent configuration of drupal, please create a symbolic
link:

ln -sf ../modules.sample/${DRUPAL}.conf \
	/var/www/conf/modules

Drupal can work with a PostgreSQL, MySQL or SQLite3 database.
Support for SQLite3 is included with the main php package; to use
another database, the corresponding package needs to be installed:
    php-pdo_pgsql or php-pdo_mysql

If you just want to try out drupal, you don't need any database server,
an sqlite file will do just fine.

Don't forget to set the character set to utf8 in your database.

In mysql, assuming you're connected as admin initially.

create user drupal@@localhost identified by 'password';
create database drupal character set utf8;
grant all on drupal.* to drupal@@localhost;

Note that the default max_allowed_packet is too small if you install
a few modules. See /etc/my.cnf.

In postgresql, assuming an `admin' account has all rights:

createuser -U admin --pwprompt --no-superuser --createdb --no-createrole drupal
createdb -U drupal -E UTF8 drupal

Updating from a drupal6 installation:
- to do
@


1.6
log
@security update
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.5 2013/05/05 19:24:13 jasper Exp $
@


1.5
log
@modules.sample/ always lives in /var/www, so no need for ${PREFIX} here.

as discussed with aja@@
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.4 2013/03/17 07:21:17 ajacoutot Exp $
d28 3
@


1.4
log
@Remove duplicate information that is to be moved to the mysql README.

ok brad@@ sthen@@ jasper@@
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.3 2012/06/21 07:00:20 ajacoutot Exp $
d11 1
a11 1
	${TRUEPREFIX}/conf/modules
@


1.3
log
@Adapt now that pdo_sqlite is part of main php.
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.2 2012/06/10 16:33:00 jasper Exp $
a19 16

In order to run with standard OpenBSD chroot'ed httpd:

- make sure you can connect to your database.

Create a directory for the mysql socket and adjust permissions:

	install -d -g _mysql -o _mysql /var/www/var/run/mysql

Adjust ${SYSCONFDIR}/my.cnf to put the mysql socket into the chroot.

	[client]
	socket = /var/www/var/run/mysql/mysql.sock

	[mysqld]
	socket = /var/www/var/run/mysql/mysql.sock
@


1.2
log
@tweak the mysql socket dir instructions

ok espie@@
@
text
@d1 5
a5 1
$OpenBSD: README,v 1.1 2012/04/10 12:52:32 espie Exp $
d12 5
@


1.1
log
@... and core
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.1 2010/11/15 12:58:52 stephan Exp $
d16 1
a16 1
Create a directory for the mysql socket.
d18 1
a18 1
	mkdir -p /var/www/var/run/mysql
@

