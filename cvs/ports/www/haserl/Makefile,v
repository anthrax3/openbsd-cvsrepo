head	1.7;
access;
symbols
	OPENBSD_6_1:1.7.0.8
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.7.0.6
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.4
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	rpe_20121026:1.1.1.1
	rpe:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2015.03.16.09.14.05;	author sthen;	state Exp;
branches;
next	1.6;
commitid	ZqbJVGYLxt4kKCPS;

1.6
date	2015.03.14.20.52.47;	author naddy;	state Exp;
branches;
next	1.5;
commitid	jnrLBcPmz76yfcWI;

1.5
date	2014.09.16.10.44.17;	author sthen;	state Exp;
branches;
next	1.4;
commitid	8LtI8CqZkyTYQi6R;

1.4
date	2014.01.23.23.58.34;	author sthen;	state Exp;
branches
	1.4.2.1
	1.4.4.1;
next	1.3;

1.3
date	2013.03.11.11.44.42;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2012.10.26.23.11.52;	author rpe;	state Exp;
branches;
next	1.1;

1.1
date	2012.10.26.16.32.10;	author rpe;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.10.26.16.32.10;	author rpe;	state Exp;
branches;
next	;

1.4.2.1
date	2014.09.16.10.44.58;	author sthen;	state Exp;
branches;
next	;
commitid	nGqXxBoY8vi4uP3a;

1.4.4.1
date	2014.09.16.10.44.37;	author sthen;	state Exp;
branches;
next	;
commitid	8PyP5cL1POhPuh0C;


desc
@@


1.7
log
@bugfix update to haserl-0.9.35
@
text
@# $OpenBSD: Makefile,v 1.6 2015/03/14 20:52:47 naddy Exp $

COMMENT=	tiny cgi web script handler using shell or Lua

DISTNAME=	haserl-0.9.35

CATEGORIES=	www

HOMEPAGE=	http://haserl.sourceforge.net/

MAINTAINER=	Stuart Henderson <sthen@@openbsd.org>

# GPLv2 only
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c

MASTER_SITES= ${MASTER_SITE_SOURCEFORGE:=haserl/}

FLAVORS=	no_lua static
FLAVOR?=

USE_GMAKE=	Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --enable-bash-extensions
CONFIGURE_ENV+=	LDFLAGS="${LDFLAGS}"
LDFLAGS=	-L${LOCALBASE}/lib

.if !${FLAVOR:Mno_lua}
MODULES+=	lang/lua
CONFIGURE_ARGS+= --with-lua=lua${MODLUA_DEP_VERSION} # pkg-config name
WANTLIB+=	${MODLUA_WANTLIB} m
LIB_DEPENDS=	${MODLUA_LIB_DEPENDS}
.endif

.if ${FLAVOR:Mstatic}
LDFLAGS+=	${STATIC}
.endif

.include <bsd.port.mk>
@


1.6
log
@switch from "-static" to "${STATIC}, i.e., build static PIE executables
on most archs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/09/16 10:44:17 sthen Exp $
d5 1
a5 2
DISTNAME=	haserl-0.9.33
REVISION=	0
@


1.5
log
@SECURITY update to haserl 0.9.33, fixing various vulnerabilities including a
heap overflow in sliding_buffer.c
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2014/01/23 23:58:34 sthen Exp $
d6 1
d38 1
a38 1
LDFLAGS+=	-static
@


1.4
log
@update to haserl 0.9.32, no need for a patch to autoconf input to select
the lua version any more, upstream now accepts the pkg-config name as
a configure argument (because every OS uses a different name for this..)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 11:44:42 espie Exp $
d5 1
a5 1
DISTNAME=	haserl-0.9.32
@


1.4.2.1
log
@SECURITY update to haserl 0.9.33, fixing various vulnerabilities including a
heap overflow in sliding_buffer.c
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/09/16 10:44:17 sthen Exp $
d5 1
a5 1
DISTNAME=	haserl-0.9.33
@


1.4.4.1
log
@SECURITY update to haserl 0.9.33, fixing various vulnerabilities including a
heap overflow in sliding_buffer.c
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2014/01/23 23:58:34 sthen Exp $
d5 1
a5 1
DISTNAME=	haserl-0.9.33
@


1.3
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/10/26 23:11:52 rpe Exp $
d5 1
a5 1
DISTNAME=	haserl-0.9.29
d24 1
a24 2
CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.68
d31 1
a31 1
CONFIGURE_ARGS+= --with-lua
@


1.2
log
@use CONFIGURE_ENV to pass LD_FLAGS to configure

prodded by and ok aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/10/26 16:32:10 rpe Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.54 2008/01/13 16:43:57 espie Exp $
d29 2
a30 2
CONFIGURE_ARGS+= --enable-bash-extensions \
		LDFLAGS="${LDFLAGS}"
@


1.1.1.1
log
@add from openbsd-wip git repo

ok sthen@@ (Maintainer)
@
text
@@
