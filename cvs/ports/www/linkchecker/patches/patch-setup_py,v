head	1.14;
access;
symbols
	OPENBSD_6_2:1.14.0.12
	OPENBSD_6_2_BASE:1.14
	OPENBSD_6_1:1.14.0.10
	OPENBSD_6_1_BASE:1.14
	OPENBSD_6_0:1.14.0.8
	OPENBSD_6_0_BASE:1.14
	OPENBSD_5_9:1.14.0.4
	OPENBSD_5_9_BASE:1.14
	OPENBSD_5_8:1.14.0.6
	OPENBSD_5_8_BASE:1.14
	OPENBSD_5_7:1.14.0.2
	OPENBSD_5_7_BASE:1.14
	OPENBSD_5_6:1.13.0.8
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.6
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.4
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.12.0.2
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.2
	OPENBSD_5_0:1.10.0.4
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.9.0.4
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.8.0.14
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.12
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.10
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.8
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.8.0.6
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.4
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.8.0.2
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.6.0.6
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.4
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.2
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.2.0.4
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.1.0.4
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.2
	OPENBSD_3_3_BASE:1.1;
locks; strict;
comment	@# @;


1.14
date	2014.12.06.21.26.42;	author kirby;	state Exp;
branches;
next	1.13;
commitid	iWvbgFMsVb8h8r10;

1.13
date	2013.01.26.14.43.08;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2012.07.05.11.37.51;	author gonzalo;	state Exp;
branches;
next	1.11;

1.11
date	2011.10.01.20.14.46;	author kili;	state Exp;
branches;
next	1.10;

1.10
date	2011.01.14.19.56.01;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2009.12.03.18.57.45;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2006.07.31.21.30.30;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2006.07.05.18.31.07;	author alek;	state Exp;
branches;
next	1.6;

1.6
date	2005.01.25.09.15.44;	author xsa;	state Exp;
branches;
next	1.5;

1.5
date	2005.01.23.22.27.49;	author xsa;	state Exp;
branches;
next	1.4;

1.4
date	2005.01.12.23.56.27;	author xsa;	state Exp;
branches;
next	1.3;

1.3
date	2004.10.04.15.01.44;	author xsa;	state Exp;
branches;
next	1.2;

1.2
date	2004.02.04.17.33.50;	author xsa;	state Exp;
branches;
next	1.1;

1.1
date	2002.11.10.09.34.59;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.14
log
@update to linkchecker-9.3
patch from maintainer Amit Kulkarni with some tweaks by yours truly.
ok sthen@@
@
text
@$OpenBSD$
--- setup.py.orig	Wed Jul 16 09:37:19 2014
+++ setup.py	Fri Nov 28 15:55:33 2014
@@@@ -368,6 +368,7 @@@@ class MyInstallLib (install_lib, object):
             else:
                 val = getattr(cmd_obj, attr)
             if attr == 'install_data':
+                val = sys.prefix 
                 cdir = os.path.join(val, "share", "linkchecker")
                 data.append('config_dir = %r' % cnormpath(cdir))
             elif attr == 'install_lib':
@@@@ -654,8 +655,7 @@@@ myemail = "bastian.kleineidam@@web.de"
 
 data_files = [
     ('share/linkchecker',
-        ['config/linkcheckerrc',
-        'doc/html/lccollection.qhc', 'doc/html/lcdoc.qch']),
+        ['config/linkcheckerrc',]),
     ('share/linkchecker/examples',
         ['cgi-bin/lconline/leer.html.en',
          'cgi-bin/lconline/leer.html.de',
@@@@ -669,11 +669,9 @@@@ data_files = [
 ]
 
 if os.name == 'posix':
-    data_files.append(('share/man/man1', ['doc/en/linkchecker.1', 'doc/en/linkchecker-gui.1']))
-    data_files.append(('share/man/man5', ['doc/en/linkcheckerrc.5']))
-    data_files.append(('share/man/de/man1', ['doc/de/linkchecker.1', 'doc/de/linkchecker-gui.1']))
-    data_files.append(('share/man/de/man5', ['doc/de/linkcheckerrc.5']))
-    data_files.append(('share/linkchecker/examples',
+    data_files.append(('man/man1', ['doc/en/linkchecker.1', 'doc/en/linkchecker-gui.1']))
+    data_files.append(('man/man5', ['doc/en/linkcheckerrc.5']))
+    data_files.append(('share/examples/linkchecker',
               ['config/linkchecker-completion',
                'doc/examples/check_blacklist.sh',
                'doc/examples/check_for_x_errors.sh',
@@@@ -896,9 +894,6 @@@@ args = dict(
         'py2exe': MyPy2exe,
         'py2app': MyPy2app,
     },
-    package_dir = {
-        'linkcheck_dns.dns': 'third_party/dnspython/dns',
-    },
     packages = [
         'linkcheck',
         'linkcheck.bookmarks',
@@@@ -913,10 +908,6 @@@@ args = dict(
         'linkcheck.network',
         'linkcheck.parser',
         'linkcheck.plugins',
-        'linkcheck_dns.dns',
-        'linkcheck_dns.dns.rdtypes',
-        'linkcheck_dns.dns.rdtypes.ANY',
-        'linkcheck_dns.dns.rdtypes.IN',
     ],
     ext_modules = [
         Extension('linkcheck.HtmlParser.htmlsax',
@


1.13
log
@- update to linkchecker-8.3

from amit kulkarni (MAINTAINER)
@
text
@d1 4
a4 3
--- setup.py.orig	Tue Jan 22 15:59:18 2013
+++ setup.py	Tue Jan 22 16:06:05 2013
@@@@ -355,6 +355,7 @@@@ class MyInstallLib (install_lib, object):
d8 1
a8 1
+		val = sys.prefix
d12 11
a22 1
@@@@ -650,11 +651,11 @@@@ data_files = [
a32 2
+#    data_files.append(('share/man/de/man1', ['doc/de/linkchecker.1', 'doc/de/linkchecker-gui.1']))
+#    data_files.append(('share/man/de/man5', ['doc/de/linkcheckerrc.5']))
d37 2
a38 1
@@@@ -898,9 +899,6 @@@@ o a command line, GUI and web interface
a39 1
         'register': MyRegister,
d47 1
a47 3
@@@@ -913,10 +911,6 @@@@ o a command line, GUI and web interface
         'linkcheck.HtmlParser',
         'linkcheck.logger',
d49 2
@


1.12
log
@Update for Linkchecker for 7.9 with some changes:

* checking: Catch any errors initializing the MIME database.
* checking: Fix writing temporary files.
* checking: Properly handle URLs with user/password information.

And others.

Delete --no-compile to build pyc and add devel/desktop-file-utils

Tested on i386.

Ok Amit Kulkarni (maintainer) aja@@
@
text
@d1 3
a3 3
--- setup.py.orig	Sun Jun 10 17:17:44 2012
+++ setup.py	Sun Jul  1 19:54:30 2012
@@@@ -314,6 +314,7 @@@@ class MyInstallLib (install_lib, object):
d11 1
a11 1
@@@@ -609,11 +610,11 @@@@ data_files = [
d28 1
a28 1
@@@@ -841,9 +842,6 @@@@ o a command line, GUI and web interface
d33 1
a33 1
-        'dns': 'third_party/dnspython/dns',
d38 1
a38 1
@@@@ -856,10 +854,6 @@@@ o a command line, GUI and web interface
d42 4
a45 4
-        'dns',
-        'dns.rdtypes',
-        'dns.rdtypes.ANY',
-        'dns.rdtypes.IN',
@


1.11
log
@Dun't include the bundled dnspython, which causes conflicts. Use
net/py-dnspython instead (as a run-dependency).

Drop bogus build-dependency on net/py-dns.

Remvove USE_GROFF=Yes.

With and ok Amit Kulkarni (maintainer)
@
text
@d1 3
a3 3
--- setup.py.orig	Mon Jul 25 21:35:36 2011
+++ setup.py	Sun Aug 21 18:41:33 2011
@@@@ -248,6 +248,7 @@@@ class MyInstallLib (install_lib, object):
d11 1
a11 20
@@@@ -521,10 +522,16 @@@@ myname = "Bastian Kleineidam"
 myemail = "calvin@@users.sourceforge.net"
 
 data_files = [
+    ('share/locale/de/LC_MESSAGES',
+        ['build/share/locale/de/LC_MESSAGES/LinkChecker.mo']),
+    ('share/locale/fr/LC_MESSAGES',
+        ['build/share/locale/fr/LC_MESSAGES/LinkChecker.mo']),
+    ('share/locale/es/LC_MESSAGES',
+        ['build/share/locale/es/LC_MESSAGES/LinkChecker.mo']),
     ('share/linkchecker',
         ['config/linkcheckerrc', 'config/logging.conf',
-        'doc/html/lccollection.qhc', 'doc/html/lcdoc.qch']),
-    ('share/linkchecker/examples',
+        'doc/html/lccollection.qhcp', 'doc/html/lcdoc.qhp']),
+    ('share/examples/linkchecker',
         ['cgi-bin/lconline/leer.html.en',
          'cgi-bin/lconline/leer.html.de',
          'cgi-bin/lconline/index.html',
@@@@ -537,11 +544,11 @@@@ data_files = [
d28 1
a28 1
@@@@ -753,9 +760,6 @@@@ o a (Fast)CGI web interface (requires HTTP server)
d38 1
a38 1
@@@@ -768,10 +772,6 @@@@ o a (Fast)CGI web interface (requires HTTP server)
@


1.10
log
@- update linkchecker to 6.2
@
text
@d1 3
a3 3
--- setup.py.orig	Tue Dec 28 17:18:57 2010
+++ setup.py	Tue Jan 11 16:09:20 2011
@@@@ -122,6 +122,7 @@@@ class MyInstallLib (install_lib, object):
d11 1
a11 1
@@@@ -364,10 +365,16 @@@@ myname = "Bastian Kleineidam"
d30 1
a30 1
@@@@ -381,11 +388,11 @@@@ data_files = [
d47 21
@


1.9
log
@update to 5.1, from Daniel Dickman.
@
text
@d1 3
a3 3
--- setup.py.orig	Mon Aug  3 17:53:01 2009
+++ setup.py	Wed Dec  2 01:28:07 2009
@@@@ -121,6 +121,7 @@@@ class MyInstallLib (install_lib, object):
d11 1
a11 1
@@@@ -371,10 +372,16 @@@@ myname = "Bastian Kleineidam"
d30 1
a30 1
@@@@ -388,11 +395,11 @@@@ data_files = [
@


1.8
log
@update linkchecker to 4.2
ok alek
@
text
@d1 3
a3 4
--- setup.py.orig	Sun Jul 30 16:44:11 2006
+++ setup.py	Sun Jul 30 16:47:49 2006
@@@@ -95,7 +95,9 @@@@ class MyInstall (install, object):
                 val = getattr(self, attr)[cutoff:]
d5 1
a5 2
                 val = getattr(self, attr)
+            val = "!!SITEPKG!!"		
d7 1
a7 1
+                val = sys.prefix	    
d10 2
a11 2
             data.append("%s = %r" % (attr, cnormpath(val)))
@@@@ -475,9 +477,15 @@@@ myname = "Bastian Kleineidam"
d15 17
a31 15
+         ('share/locale/de/LC_MESSAGES',
+             ['build/share/locale/de/LC_MESSAGES/linkchecker.mo']),
+         ('share/locale/fr/LC_MESSAGES',
+             ['build/share/locale/fr/LC_MESSAGES/linkchecker.mo']),
+         ('share/locale/es/LC_MESSAGES',
+             ['build/share/locale/es/LC_MESSAGES/linkchecker.mo']),
          ('share/linkchecker',
              ['config/linkcheckerrc', 'config/logging.conf', ]),
-         ('share/linkchecker/examples',
+         ('share/examples/linkchecker',
              ['cgi-bin/lconline/leer.html.en',
               'cgi-bin/lconline/leer.html.de',
               'cgi-bin/lconline/index.html',
@@@@ -489,10 +497,10 @@@@ data_files = [
       ]
d34 4
a37 3
-    data_files.append(('share/man/man1', ['doc/en/linkchecker.1']))
-    data_files.append(('share/man/de/man1', ['doc/de/linkchecker.1']))
-    data_files.append(('share/man/fr/man1', ['doc/fr/linkchecker.1']))
d39 4
a42 3
+    data_files.append(('man/man1', ['doc/en/linkchecker.1']))
+#    data_files.append(('share/man/de/man1', ['doc/de/linkchecker.1']))
+#    data_files.append(('share/man/fr/man1', ['doc/fr/linkchecker.1']))
d44 3
a46 3
               ['config/linkchecker-completion', 'config/linkcheck-cron.sh']))
 elif win_compiling:
     data_files.append(('share/linkchecker/doc',
@


1.7
log
@- update to 4.1
- xsa@@ drops maintainership

ok xsa@@, tested by aanriot@@
@
text
@d1 2
a2 3
$OpenBSD: patch-setup_py,v 1.6 2005/01/25 09:15:44 xsa Exp $
--- setup.py.orig	Mon May 29 14:31:27 2006
+++ setup.py	Tue Jul  4 20:49:38 2006
d7 1
a7 1
+            val = "!!SITEPKG!!"
d9 1
a9 1
+                val = sys.prefix
d13 1
a13 1
@@@@ -475,9 +482,15 @@@@ myname = "Bastian Kleineidam"
d27 4
a30 4
              ['cgi/lconline/leer.html.en', 'cgi/lconline/leer.html.de',
               'cgi/lconline/index.html', 'cgi/lconline/lc_cgi.html.en',
               'cgi/lconline/lc_cgi.html.de', 'cgi/lconline/check.js',
@@@@ -485,10 +498,10 @@@@ data_files = [
@


1.6
log
@Update to linkchecker-2.2;
@
text
@d1 4
a4 4
$OpenBSD: patch-setup_py,v 1.5 2005/01/23 22:27:49 xsa Exp $
--- setup.py.orig	Mon Jan 24 16:02:06 2005
+++ setup.py	Tue Jan 25 10:07:07 2005
@@@@ -85,7 +85,9 @@@@ class MyInstall (install, object):
d14 10
a23 2
@@@@ -248,7 +250,7 @@@@ data_files = [
              ['share/locale/nl/LC_MESSAGES/linkchecker.mo']),
d31 1
a31 1
@@@@ -256,10 +258,10 @@@@ data_files = [
d44 1
a44 1
 elif os.name == 'nt':
@


1.5
log
@oops, make this actually work as expected; problem initially found
by saad@@; ok/input alek@@. bump PKGNAME;
@
text
@d1 4
a4 4
$OpenBSD: patch-setup_py,v 1.4 2005/01/12 23:56:27 xsa Exp $
--- setup.py.orig	Tue Jan 11 13:04:34 2005
+++ setup.py	Sat Jan 22 20:25:23 2005
@@@@ -98,6 +98,7 @@@@ class MyInstall (install, object):
a8 6
             if win_compiling and d in win_path_scheme:
                 # look for placeholders to replace
                 oldpath, newpath = win_path_scheme[d]
@@@@ -105,6 +106,7 @@@@ class MyInstall (install, object):
                 if oldpath in val:
                     val = val.replace(oldpath, newpath)
d14 1
a14 1
@@@@ -242,7 +244,7 @@@@ data_files = [
d23 1
a23 1
@@@@ -250,10 +252,10 @@@@ data_files = [
@


1.4
log
@Update to linkchecker-2.1;
@
text
@d1 1
a1 1
$OpenBSD: patch-setup_py,v 1.3 2004/10/04 15:01:44 xsa Exp $
d3 18
a20 2
+++ setup.py	Wed Jan 12 15:45:50 2005
@@@@ -242,7 +242,7 @@@@ data_files = [
d29 1
a29 1
@@@@ -250,10 +250,10 @@@@ data_files = [
@


1.3
log
@update to linkchecker-1.13.5;
@
text
@d1 4
a4 4
$OpenBSD: patch-setup_py,v 1.2 2004/02/04 17:33:50 xsa Exp $
--- setup.py.orig	Mon Sep 20 11:05:17 2004
+++ setup.py	Mon Oct  4 16:49:21 2004
@@@@ -234,13 +234,13 @@@@ o a (Fast)CGI web interface (requires HT
d6 2
a7 2
          ('share/linkchecker', ['config/linkcheckerrc',
                                 'config/logging.conf', ]),
d13 15
a27 7
               'cgi/lc.cgi', 'cgi/lc.fcgi',
               'config/linkchecker-completion', 'config/linkcheck-cron.sh']),
-         ('share/man/man1', ['linkchecker.1']),
+         ('man/man1', ['linkchecker.1']),
       ],
       classifiers = [
         'Topic :: Internet :: WWW/HTTP :: Site Management :: Link Checking',
@


1.2
log
@
- update to 1.12.0
- take MAINTAINER

ok sturm@@ jakob@@ (ex-MAINTAINER)
@
text
@d1 7
a7 7
$OpenBSD$
--- setup.py.orig	2004-01-29 20:14:40.000000000 +0100
+++ setup.py	2004-02-04 01:46:42.000000000 +0100
@@@@ -194,13 +194,13 @@@@ o a (Fast)CGI web interface (requires HT
          ('share/locale/nl/LC_MESSAGES',
              ['share/locale/nl/LC_MESSAGES/linkcheck.mo']),
          ('share/linkchecker', ['linkcheckerrc']),
d10 5
a14 5
              ['lconline/leer.html.en', 'lconline/leer.html.de',
               'lconline/index.html', 'lconline/lc_cgi.html.en',
               'lconline/lc_cgi.html.de', 'lconline/check.js',
               'lc.cgi', 'lc.fcgi', 'lc.sz_fcgi', 'linkchecker.bat',
               'linkchecker-completion', 'linkcheck-cron.sh']),
@


1.1
log
@install manpage correctly and remove unneeded patch
@
text
@d2 13
a14 6
--- setup.py.orig	Sun Oct 13 23:56:05 2002
+++ setup.py	Sun Nov 10 10:32:42 2002
@@@@ -171,6 +171,6 @@@@ o a (Fast)CGI web interface (requires HT
              ['lconline/leer.html',
               'lconline/index.html', 'lconline/lc_cgi.html',
               'lc.cgi','lc.fcgi','lc.sz_fcgi','linkchecker.bat']),
d18 2
a19 1
 )
@

