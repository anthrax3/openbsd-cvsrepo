head	1.27;
access;
symbols
	OPENBSD_4_7:1.26.0.2
	OPENBSD_4_7_BASE:1.26
	OPENBSD_4_6:1.24.0.2
	OPENBSD_4_6_BASE:1.24
	OPENBSD_4_5:1.23.0.2
	OPENBSD_4_5_BASE:1.23
	OPENBSD_4_4:1.20.0.2
	OPENBSD_4_4_BASE:1.20
	OPENBSD_4_3:1.17.0.2
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.13.0.2
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.9.0.4
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.2
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.7.0.4
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.4.0.2
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.2.0.4
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.2
	OPENBSD_3_2_BASE:1.2
	avsm_2002-08-11:1.1.1.1
	avsm:1.1.1;
locks; strict;
comment	@# @;


1.27
date	2010.07.30.11.28.22;	author sthen;	state dead;
branches;
next	1.26;

1.26
date	2009.09.28.13.09.15;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2009.09.15.17.37.22;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2009.03.30.18.36.37;	author mbalmer;	state Exp;
branches;
next	1.23;

1.23
date	2008.12.07.12.36.06;	author mbalmer;	state Exp;
branches;
next	1.22;

1.22
date	2008.11.08.11.23.07;	author mbalmer;	state Exp;
branches;
next	1.21;

1.21
date	2008.10.30.09.49.39;	author mbalmer;	state Exp;
branches;
next	1.20;

1.20
date	2008.05.15.19.44.52;	author mbalmer;	state Exp;
branches;
next	1.19;

1.19
date	2008.05.15.18.45.32;	author mbalmer;	state Exp;
branches;
next	1.18;

1.18
date	2008.05.08.09.57.56;	author mbalmer;	state Exp;
branches;
next	1.17;

1.17
date	2008.01.09.23.02.38;	author mbalmer;	state Exp;
branches;
next	1.16;

1.16
date	2007.10.01.09.19.13;	author mbalmer;	state Exp;
branches;
next	1.15;

1.15
date	2007.09.15.20.38.21;	author merdely;	state Exp;
branches;
next	1.14;

1.14
date	2007.05.05.13.59.52;	author mbalmer;	state Exp;
branches;
next	1.13;

1.13
date	2006.11.29.13.37.12;	author mbalmer;	state Exp;
branches;
next	1.12;

1.12
date	2006.11.29.13.27.24;	author mbalmer;	state Exp;
branches;
next	1.11;

1.11
date	2006.11.02.17.54.59;	author mbalmer;	state Exp;
branches;
next	1.10;

1.10
date	2006.11.01.10.51.19;	author mbalmer;	state Exp;
branches;
next	1.9;

1.9
date	2005.11.13.19.47.34;	author mbalmer;	state Exp;
branches
	1.9.2.1
	1.9.4.1;
next	1.8;

1.8
date	2005.10.31.15.34.34;	author mbalmer;	state Exp;
branches;
next	1.7;

1.7
date	2005.03.09.07.16.46;	author mbalmer;	state Exp;
branches;
next	1.6;

1.6
date	2004.07.19.05.09.49;	author kevlo;	state Exp;
branches;
next	1.5;

1.5
date	2004.02.01.20.22.18;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2003.07.04.23.35.25;	author avsm;	state Exp;
branches;
next	1.3;

1.3
date	2003.04.03.11.18.21;	author avsm;	state Exp;
branches;
next	1.2;

1.2
date	2002.08.17.01.51.08;	author avsm;	state Exp;
branches;
next	1.1;

1.1
date	2002.08.12.01.21.19;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.08.12.01.21.19;	author avsm;	state Exp;
branches;
next	;

1.9.2.1
date	2006.11.30.22.03.52;	author sturm;	state Exp;
branches;
next	;

1.9.4.1
date	2006.11.30.21.03.40;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.27
log
@Drop the old horde ports, new versions are now in ports/www/horde
which is also linked to the build with this commit.
@
text
@# $OpenBSD: Makefile,v 1.26 2009/09/28 13:09:15 sthen Exp $ 

COMMENT=	web based calendar application using the horde framework

HORDE_MODULE=	kronolith
HORDE_NAME=	Kronolith

DISTNAME=	${HORDE_MODULE}-h3-2.3.2
CATEGORIES=	www mail
HOMEPAGE=	http://www.horde.org/${HORDE_MODULE}/

# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	${MASTER_SITE_HORDE:=kronolith/}

NO_BUILD=	Yes
NO_REGRESS=	Yes
PKG_ARCH=	*

PREFIX=		/var/www
INSTDIR=	${PREFIX}/horde
SUBST_VARS=	INSTDIR HORDE_NAME HORDE_MODULE

RUN_DEPENDS=	:horde->=3.0:devel/horde \
		:pear-Date-*:devel/pear-Date \
		:imp-h3-*:mail/imp

pre-fake:
	${INSTALL_DATA_DIR} ${INSTDIR}

do-install:
	mv ${WRKDIST} ${INSTDIR}/${HORDE_MODULE}
	chown -R ${BINOWN}:daemon ${INSTDIR}/${HORDE_MODULE}
	chown -R ${BINOWN}:www ${INSTDIR}/${HORDE_MODULE}/config
	find ${INSTDIR}/${HORDE_MODULE} -name \*.orig -exec rm {} \;

.include <bsd.port.mk>
@


1.26
log
@Update the Horde suite to current versions. devel/horde has SECURITY fixes
including XSS (prefs, MIME viewer) and preventing overwriting of webserver-
accessible files (image form fields, e.g. with Turba). For more information
see http://lists.horde.org/archives/announce/2009/000512.html.

Thanks Vijay Sankar, Michiel van Baak and Daniel Levai for testing/feedback.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/09/15 17:37:22 jasper Exp $ 
@


1.25
log
@remove marc balmer as maintainer of all of his ports, to take away the
illusion marc still maintains them. as requested by himself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/03/30 18:36:37 mbalmer Exp $ 
d8 1
a8 2
DISTNAME=	${HORDE_MODULE}-h3-2.3.1
PKGNAME=	${DISTNAME}p0
@


1.24
log
@Update to kronolith 3.2.1

The major changes compared to the Kronolith version H3 (2.3) are:
   * Added script to import events from SquirrelMail calendars.
   * Added option to manually change attendee responses.
   * Improved holidays support.
   * Many minor bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/12/07 12:36:06 mbalmer Exp $ 
d9 1
a11 2

MAINTAINER=	Marc Balmer <mbalmer@@openbsd.org>
@


1.23
log
@Remove an unneeded cast.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/11/08 11:23:07 mbalmer Exp $ 
d8 1
a8 2
DISTNAME=	${HORDE_MODULE}-h3-2.3
PKGNAME=	${DISTNAME}p2
d40 1
@


1.22
log
@Forgot to regen the patch, somehow.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/10/30 09:49:39 mbalmer Exp $ 
d9 1
a9 1
PKGNAME=	${DISTNAME}p1
@


1.21
log
@Update Kronolith to version 2.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/05/15 19:44:52 mbalmer Exp $ 
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
@


1.20
log
@Correctly handle @@groups (vodoo...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/05/15 18:45:32 mbalmer Exp $ 
d8 2
a9 2
DISTNAME=	${HORDE_MODULE}-h3-2.1.8
PKGNAME=	${DISTNAME}p1
@


1.19
log
@Make sure installed files have a sane ownership.

Noticed by naddy and sturm.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/05/08 09:57:56 mbalmer Exp $ 
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
@


1.18
log
@Minor security update to Kronolith 2.1.8.  Change the way the package
is built by first unpacking the distfile so it can be patched.
Sprinkle a few SQL typecasts where needed to make Kronolith happy
again with PostgreSQL 8.3.x.  Discussed with simon.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/01/09 23:02:38 mbalmer Exp $ 
d9 1
d40 1
@


1.17
log
@The Horde Team is pleased to announce the final release of the Kronolith
Calendar Application version H3 (2.1.7).

This is a bugfix release that also fixes privilege escalation in the Horde API
and missing ownership validation in the share management. All users are
encouraged to upgrade to this version.

Major changes compared to the Kronolith H3 (2.1.6) version are:
    * Fixed privilege escalation in the Horde API.
    * Fixed missing ownership validation on share changes.
    * Updated Japanese translation.
    * Small bugfixes and improvements.

The full list of changes (from version H3 (2.1.6)) can be viewed here:
http://cvs.horde.org/diff.php/kronolith/docs/CHANGES?r1=1.165.2.158&r2=1.165.2.161.2.3&ty=h
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/10/01 09:19:13 mbalmer Exp $ 
d8 1
a8 1
DISTNAME=	${HORDE_MODULE}-h3-2.1.7
a24 1
EXTRACT_ONLY=
d38 2
a39 2
	@@cd ${INSTDIR} && tar zxf ${FULLDISTDIR}/${DISTNAME}${EXTRACT_SUFX}
	@@mv ${INSTDIR}/${DISTNAME} ${INSTDIR}/${HORDE_MODULE}
@


1.16
log
@Maintenance update to Kronolith 2.1.6

Major changes compared to the Kronolith H3 (2.1.5) version are:
    * Updated German, Polish, Simplified Chinese, and Spanish translations.
    * Small bugfixes and improvements.

The full list of changes (from version H3 (2.1.5)) can be viewed here:

http://cvs.horde.org/diff.php/kronolith/docs/CHANGES?r1=1.165.2.149&r2=1.165.2.158&ty=h
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/09/15 20:38:21 merdely Exp $ 
d8 1
a8 1
DISTNAME=	${HORDE_MODULE}-h3-2.1.6
@


1.15
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/05/05 13:59:52 mbalmer Exp $ 
d8 1
a8 1
DISTNAME=	${HORDE_MODULE}-h3-2.1.5
@


1.14
log
@Update to Kronolith H3 2.1.5

See http://lists.horde.org/archives/announce/2007/000322.html for details.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/11/29 13:37:12 mbalmer Exp $ 
d3 1
a3 1
COMMENT=	"web based calendar application using the horde framework"
@


1.13
log
@Security update to Kronolith 2.1.4.

Major changes compared to the Kronolith H3 (2.1.3) version are:
* Close arbitrary file inclusion in free/busy views.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/11/29 13:27:24 mbalmer Exp $ 
d8 1
a8 1
DISTNAME=	${HORDE_MODULE}-h3-2.1.4
@


1.12
log
@Fix comment, bump package name.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/11/02 17:54:59 mbalmer Exp $ 
d8 1
a8 2
DISTNAME=	${HORDE_MODULE}-h3-2.1.3
PKGNAME=	${DISTNAME}p0
@


1.11
log
@Update to version 2.1.3, bugfixes and a slovenian translation.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/11/01 10:51:19 mbalmer Exp $ 
d3 1
a3 1
COMMENT=	"addressbook for imp"
d9 1
@


1.10
log
@The imp addressbook, update to version 2.1.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/11/13 19:47:34 mbalmer Exp $ 
d8 1
a8 1
DISTNAME=	${HORDE_MODULE}-h3-2.1.2
@


1.9
log
@Update to Kronolith H3 2.0.5.

Major changes compared to the Kronolith version H3 (2.0.4) are:
    * Fix reminder emails.
    * Fix warnings with Internet Explorer on HTTPS connections.

The full list of changes (from version H3 (2.0.4)) can be viewed here:

http://cvs.horde.org/diff.php/kronolith/docs/CHANGES?r1=1.165.2.68&r2=1.165.2.69.2.1&ty=h
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/10/31 15:34:34 mbalmer Exp $ 
d8 1
a8 1
DISTNAME=	${HORDE_MODULE}-h3-2.0.5
a30 1
PHP_VERSION=	5
d32 2
a33 1
		:php${PHP_VERSION}-imap-*:www/php${PHP_VERSION}/extensions,-imap
@


1.9.2.1
log
@Security update to Kronolith 2.0.7

Major changes compared to the Kronolith H3 (2.0.5) version are:
* Close arbitrary file inclusion in free/busy views.
* Close several XSS problems with calendar and event fields.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/11/13 19:47:34 mbalmer Exp $ 
d8 1
a8 1
DISTNAME=	${HORDE_MODULE}-h3-2.0.7
@


1.9.4.1
log
@Security update to Kronolith 2.0.7

Major changes compared to the Kronolith H3 (2.0.5) version are:
* Close arbitrary file inclusion in free/busy views.
* Close several XSS problems with calendar and event fields.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/11/13 19:47:34 mbalmer Exp $ 
d8 1
a8 1
DISTNAME=	${HORDE_MODULE}-h3-2.0.7
@


1.8
log
@Update to kronolith-h3-2.0.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/07/31 23:34:10 avsm Exp $ 
d8 1
a8 1
DISTNAME=	${HORDE_MODULE}-h3-2.0.4
@


1.7
log
@Update to version h3-2.0.2 and take maintainership with avsm@@s consent.

ok nikolay@@
@
text
@d8 1
a8 1
DISTNAME=	${HORDE_MODULE}-h3-2.0.2
@


1.6
log
@upgrade to 1.1.2. ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/02/01 20:22:18 sturm Exp $ 
d3 1
a3 1
COMMENT=	"calendar and scheduling application for Horde"
a4 1
V=		1.1.2
d8 2
a9 2
DISTNAME=	${HORDE_MODULE}-${V}
CATEGORIES=	www
d12 1
a12 1
MAINTAINER=	Anil Madhavapeddy <avsm@@openbsd.org>
d31 3
a33 4
RUN_DEPENDS=	:horde->=2.2.1:devel/horde \
		:pear-Date->=1.3:devel/pear-Date \
		:pear-HTML-Common->=1.2.1:www/pear-HTML-Common \
		:pear-HTML-Select->=1.2.1:www/pear-HTML-Select
d40 1
a40 1
	@@mv ${INSTDIR}/${HORDE_MODULE}-${V} ${INSTDIR}/${HORDE_MODULE}
@


1.5
log
@mark arch independent
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/07/04 23:35:25 avsm Exp $ 
d5 1
a5 1
V=		1.0
d33 3
a35 1
		:pear-Date->=1.3:devel/pear-Date
@


1.4
log
@NO_CONFIGURE is obsolete
from naddy@@, Xavier Santolaria <xavier@@santolaria.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/04/03 11:18:21 avsm Exp $ 
d25 1
@


1.3
log
@correct MASTER_SITE, add dependency on pear-Date
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/08/17 01:51:08 avsm Exp $ 
a24 1
NO_CONFIGURE=	Yes
@


1.2
log
@use MASTER_SITE_HORDE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/08/12 01:21:19 avsm Exp $ 
d21 1
a21 1
MASTER_SITES=	${MASTER_SITE_HORDE:=kronolith/tarballs/}
d32 2
a33 1
RUN_DEPENDS=	:horde->=2.1:devel/horde
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/08/12 01:14:19 avsm Exp $ 
d21 1
a21 1
MASTER_SITES=	ftp://ftp.horde.org/pub/${HORDE_MODULE}/tarballs/
@


1.1.1.1
log
@import kronolith-1.0
--

Kronolith is the Horde calendar application. It provides a stable
and featureful individual calendar system for every Horde user, and
collaboration/scheduling features are starting to take shape. It
makes extensive use of the Horde Framework to provide integration
with other applications.

@
text
@@
