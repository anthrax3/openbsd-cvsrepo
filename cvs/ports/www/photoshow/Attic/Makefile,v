head	1.10;
access;
symbols
	OPENBSD_5_4:1.7.0.2
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.4.0.4
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	ajacoutot_20111204:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.10
date	2013.09.19.15.54.08;	author ajacoutot;	state dead;
branches;
next	1.9;

1.9
date	2013.08.12.04.11.21;	author robert;	state Exp;
branches;
next	1.8;

1.8
date	2013.08.06.19.12.15;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2013.07.05.09.34.35;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2013.05.05.19.24.13;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2013.03.11.11.44.47;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2012.06.16.12.52.32;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2012.03.15.13.38.33;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.01.24.09.28.10;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2011.12.04.11.04.27;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.12.04.11.04.27;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.10
log
@It makes no sense to distribute some webapps using the pkg tools when it's
just a matter of following upstream and untarring under htdocs.
webapp as a pkg needs to have some added value and no, 'pkg_add webapp' is
not easier if the app has actually no maintainer -- it is safer to follow
upstream.
photoshow is one of them and is not even maintained upstream, so zap it.

discusssed with and ok sthen@@
@
text
@# $OpenBSD: Makefile,v 1.9 2013/08/12 04:11:21 robert Exp $

COMMENT=	easy to use web gallery

DISTNAME=	photoshow-0.0.20130722
REVISION=	0
CATEGORIES=	www graphics

HOMEPAGE=	http://www.photoshow-gallery.com/

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	http://distfiles.bsdfrog.org/

MODULES=	lang/php

NO_BUILD=	Yes
NO_TEST=	Yes
PKG_ARCH=	*

PREFIX=		${VARBASE}/www
INSTDIR=	${PREFIX}/photoshow
TINSTDIR=	${TRUEPREFIX}/photoshow
SUBST_VARS=	INSTDIR TINSTDIR

RUN_DEPENDS=	lang/php/${MODPHP_VERSION},-zip

do-install:
	cp -R ${WRKSRC} ${INSTDIR}
	mv ${INSTDIR}/config.php ${INSTDIR}/config.php.dist
	${SUBST_CMD} -c ${FILESDIR}/photoshow.conf \
		${INSTDIR}/photoshow.conf.dist
	${SUBST_CMD} -c ${FILESDIR}/dot.htaccess \
		${INSTDIR}/.htaccess.dist
	find ${INSTDIR} -type f -name \*.orig -or -name \*.beforesubst | xargs rm
	chown -R ${BINOWN}:${BINGRP} ${INSTDIR}

.include <bsd.port.mk>
@


1.9
log
@bump REVISION due to the php update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/08/06 19:12:15 ajacoutot Exp $
@


1.8
log
@Update to photoshow-0.0.20130722.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/07/05 09:34:35 jasper Exp $
d6 1
@


1.7
log
@use ${VARBASE} instead of hardcoding /var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/05/05 19:24:13 jasper Exp $
d5 1
a5 1
DISTNAME=	photoshow-0.0.20111228
a6 1
REVISION=	2
@


1.6
log
@modules.sample/ always lives in /var/www, so no need for ${PREFIX} here.

as discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/03/11 11:44:47 espie Exp $
d22 1
a22 1
PREFIX=		/var/www
@


1.5
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/06/16 12:52:32 sthen Exp $
d7 1
a7 1
REVISION=	1
@


1.4
log
@pecl-zip replaced with php-zip, adjust deps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/03/15 13:38:33 ajacoutot Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d19 1
a19 1
NO_REGRESS=	Yes
@


1.3
log
@Drop maintainership.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/01/24 09:28:10 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
d30 1
a30 1
RUN_DEPENDS=	archivers/pecl-zip
@


1.2
log
@Update to photoshow-0.0.20111228.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/12/04 11:04:27 ajacoutot Exp $
d7 1
a9 2

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	photoshow-0.0.20111203
d35 1
a35 1
	mv ${INSTDIR}/conf.ini ${INSTDIR}/conf.ini.dist
@


1.1.1.1
log
@Import photoshow-0.0.20111203.

PhotoShow is a very easy to use web gallery installable on any web
server.
<...>

tested on sparc64 (myself) and macppc mpi@@
ok mpi@@
@
text
@@
