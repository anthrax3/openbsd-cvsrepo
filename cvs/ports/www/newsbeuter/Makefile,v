head	1.12;
access;
symbols
	OPENBSD_6_1:1.8.0.2
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.6.0.4
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.3.0.6
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.2.0.4
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	abieber_20131016:1.1.1.1
	abieber:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2017.07.26.22.45.31;	author sthen;	state Exp;
branches;
next	1.11;
commitid	tD4MFrpYYDDL2UFT;

1.11
date	2017.07.16.19.19.03;	author espie;	state Exp;
branches;
next	1.10;
commitid	tt0GhWK5c4uf9ILG;

1.10
date	2017.05.31.08.08.17;	author espie;	state Exp;
branches;
next	1.9;
commitid	ij92FtFXiSiT1ani;

1.9
date	2017.05.27.05.07.48;	author espie;	state Exp;
branches;
next	1.8;
commitid	qYZPq4cRqUwktOm1;

1.8
date	2017.02.05.21.58.16;	author abieber;	state Exp;
branches;
next	1.7;
commitid	SMBpPzDDc5o0V7FK;

1.7
date	2016.09.23.09.16.58;	author sthen;	state Exp;
branches;
next	1.6;
commitid	XLnI6AbHAmyVU5mO;

1.6
date	2015.10.05.19.46.22;	author jca;	state Exp;
branches;
next	1.5;
commitid	TKEiDdo381vyU61R;

1.5
date	2015.08.24.12.37.52;	author jasper;	state Exp;
branches;
next	1.4;
commitid	L7syuW2rUae2SoUr;

1.4
date	2015.08.24.11.31.07;	author jasper;	state Exp;
branches;
next	1.3;
commitid	hCipcnjCI7bk576T;

1.3
date	2014.12.31.08.42.27;	author landry;	state Exp;
branches;
next	1.2;
commitid	vf8MnqY339W3vwfX;

1.2
date	2013.10.17.07.46.12;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.10.16.18.05.25;	author abieber;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.10.16.18.05.25;	author abieber;	state Exp;
branches;
next	;


desc
@@


1.12
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.11 2017/07/16 19:19:03 espie Exp $

COMMENT =		open-source RSS/Atom feed reader for text terminals
DISTNAME =		newsbeuter-2.9
CATEGORIES =		www
REVISION =		0

HOMEPAGE =		http://newsbeuter.org/

# MIT
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c crypto curl iconv intl json-c m ncursesw pthread
WANTLIB += sqlite3 stfl xml2 ${COMPILER_LIBCXX}

MASTER_SITES =		http://newsbeuter.org/downloads/

COMPILER =		gcc

BUILD_DEPENDS =		devel/gettext-tools

LIB_DEPENDS =		databases/sqlite3 \
			devel/gettext \
			devel/stfl \
			devel/json-c \
			textproc/libxml	\
			net/curl

MAKE_FLAGS =		CXX="${CXX}"
FAKE_FLAGS =		mandir=${PREFIX}/man

USE_GMAKE =		Yes
CONFIGURE_STYLE =	simple
CONFIGURE_SCRIPT =	config.sh

.include <bsd.port.mk>
@


1.11
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2017/05/31 08:08:17 espie Exp $
d6 1
@


1.10
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2017/05/27 05:07:48 espie Exp $
d13 1
a13 1
WANTLIB += sqlite3 stfl xml2 ${LIBECXX}
@


1.9
log
@WANT_CXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2017/02/05 21:58:16 abieber Exp $
d17 1
a17 2
WANT_CXX =		base gcc

@


1.8
log
@Update to 2.9

- remove MAINTAINER per their request.
- start using gcc4.
- remove devel/gettext module, still using it for building.
- remove upstreamed patches.
- add new patches for replacing wordexp with glob stuff.

OK fcambus@@, clue stick hitting from sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2016/09/23 09:16:58 sthen Exp $
d13 1
a13 1
WANTLIB += sqlite3 stfl xml2
d17 1
a17 1
MODULES =		gcc4
a18 2
MODGCC4_LANGS =	c c++
MODGCC4_ARCHS =	*
@


1.7
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/10/05 19:46:22 jca Exp $
d4 1
a4 2
DISTNAME =		newsbeuter-2.7
REVISION =		1
d9 1
a9 3
MAINTAINER =		Kyle Isom <kyle@@tyrfingr.is>

# mit
d12 2
a13 2
WANTLIB += c crypto curl json-c m ncursesw pthread sqlite3
WANTLIB += stdc++ stfl xml2
d17 6
a22 1
MODULES =		devel/gettext
d25 1
a36 3

post-extract:
	rm $(WRKSRC)/src/google*.cpp
@


1.6
log
@Fix time_t handling and unbreak on 32 bits archs.

newsbeuter stores feeds and articles timestamps as time_t in its sqlite
database, but does so incorrectly.  Fix sqlite3 and logging format
string so that they use the proper (long long) idiom.

Issue reported and fix tested by Raf Czlonka, ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/08/24 12:37:52 jasper Exp $
d5 1
a5 1
REVISION =		0
d22 2
a23 1
LIB_DEPENDS =		devel/stfl \
@


1.5
log
@remove individual BROKEN markers for ports depending on json-c; instead mark
json-c BROKEN that's where the lack of atomic ops wreaks havoc.

landry@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/08/24 11:31:07 jasper Exp $
d5 1
@


1.4
log
@broken mips64 (atomic ops)
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.3 2014/12/31 08:42:27 landry Exp $

BROKEN-hppa =		undefined reference to `__sync_val_compare_and_swap_4' in libjson-c
BROKEN-mips64 =		undefined reference to `__sync_val_compare_and_swap_4' in libjson-c
@


1.3
log
@Yet another bunch of ports that reliably fail to build on hppa.

BROKEN-hppa =	SIGILL when running lilypond
BROKEN-hppa =	libjson-c.so.0.0: undefined reference to __sync_val_compare_and_swap_4
BROKEN-hppa=	missing atomic ops
BROKEN-hppa=	./iodev/hdimage/hdimage.cc:807: error: 'bx_bswap32' was not declared in this scope
BROKEN-hppa =	cc1plus: error: unrecognized command line option '-std=c++11'
BROKEN-hppa =	src/bin/jp2/convert.c:192: error: expected identifier or '(' before '__extension__'
BROKEN-hppa=	libpt.so.7.0: undefined reference to __sync_fetch_and_or_4
BROKEN-hppa=	ykpers-json.c:42: error: redefinition of typedef 'json_bool'
BROKEN-hppa=	OOM on src/lxml/lxml.etree.c
BROKEN-hppa =	undefined reference to `__sync_val_compare_and_swap_4' in libjson-c
BROKEN-hppa =	rake fails when linking PassengerHelperAgent
BROKEN-hppa =	kstars/kstars/tools/scriptbuilder.cpp:103: internal compiler error: Segmentation fault
BROKEN-hppa=	build stuck on virt-viewer-window.c

See http://build-failures.rhaalovely.net/hppa/
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.2 2013/10/17 07:46:12 ajacoutot Exp $
a8 1
BROKEN-hppa =	undefined reference to `__sync_val_compare_and_swap_4' in libjson-c
@


1.2
log
@Respect CXX.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/10/16 18:05:25 abieber Exp $
d6 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.68 2013/10/02 07:34:45 ajacoutot Exp $
d26 1
@


1.1.1.1
log
@Initial import of newsbeuter, a mutt like news reader. 

Thanks Kyle Isom <kyle@@tryfingr.is> for building the port!

OK juanfra@@, bcallah@@
@
text
@@
