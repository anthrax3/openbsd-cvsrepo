head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2014.05.09.11.40.44;	author florian;	state dead;
branches;
next	1.1;

1.1
date	2014.04.19.11.47.39;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@No need for HAVE_SSL_RAND_EGD local patch, change pushed upstream (by
just removing the code).
While here switch naming scheme to YYYYMMDD, so no need for PKGNAME
and REVISION.
input/ok sthen@@
@
text
@$OpenBSD: patch-src_modules_ssl_ssl_engine_rand_c,v 1.1 2014/04/19 11:47:39 sthen Exp $
--- src/modules/ssl/ssl_engine_rand.c.orig	Sat Apr 19 05:43:46 2014
+++ src/modules/ssl/ssl_engine_rand.c	Sat Apr 19 05:46:30 2014
@@@@ -116,6 +116,7 @@@@ int ssl_rand_seed(server_rec *s, pool *p, ssl_rsctx_t 
                 nDone += ssl_rand_feedfp(p, fp, pRandSeed->nBytes);
                 ssl_util_ppclose(s, p, fp);
             }
+#ifdef HAVE_SSL_RAND_EGD
             else if (pRandSeed->nSrc == SSL_RSSRC_EGD) {
                 /*
                  * seed in contents provided by the external
@@@@ -125,6 +126,7 @@@@ int ssl_rand_seed(server_rec *s, pool *p, ssl_rsctx_t 
                     continue;
                 nDone += n;
             }
+#endif
             else if (pRandSeed->nSrc == SSL_RSSRC_BUILTIN) {
                 /*
                  * seed in the current time (usually just 4 bytes)
@


1.1
log
@fix following RAND_egd removal
@
text
@d1 1
a1 1
$OpenBSD$
@

