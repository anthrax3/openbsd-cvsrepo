head	1.25;
access;
symbols
	OPENBSD_6_0:1.24.0.2
	OPENBSD_6_0_BASE:1.24
	OPENBSD_5_9:1.23.0.4
	OPENBSD_5_9_BASE:1.23
	OPENBSD_5_8:1.23.0.6
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.23.0.2
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.22.0.2
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.21.0.4
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.21.0.2
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.18.0.8
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.6
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.4
	OPENBSD_5_0:1.18.0.2
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.15.0.2
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.12.0.4
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.11.0.4
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.2
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.10.0.2
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.8.0.4
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.7.0.4
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.2
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.5.0.4
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.2
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	sturm_2004-Feb-11:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2017.02.06.20.28.32;	author sthen;	state Exp;
branches;
next	1.24;
commitid	o4jH3JaEdON0pzgr;

1.24
date	2016.04.04.16.09.10;	author naddy;	state Exp;
branches;
next	1.23;
commitid	u3lQjrjlcAL26lGp;

1.23
date	2015.02.06.14.55.41;	author sthen;	state Exp;
branches;
next	1.22;
commitid	Yeg4pv3CCqhoGrML;

1.22
date	2014.06.14.10.34.45;	author sthen;	state Exp;
branches;
next	1.21;
commitid	HiKZ10xJk2o55vyF;

1.21
date	2013.04.20.16.28.09;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.21.08.48.55;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2013.03.11.11.44.41;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2011.06.21.20.21.21;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2011.04.16.21.13.44;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2011.03.28.23.04.42;	author simon;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.22.08.36.48;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.11.12.35.09;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.19.08.02.53;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2009.10.11.19.47.25;	author steven;	state Exp;
branches;
next	1.11;

1.11
date	2008.10.02.20.32.19;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2008.06.01.20.39.26;	author simon;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.15.20.38.21;	author merdely;	state Exp;
branches;
next	1.8;

1.8
date	2006.11.06.10.44.35;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.01.14.11.46.15;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2005.12.30.22.26.50;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2005.01.10.18.12.03;	author pedro;	state Exp;
branches;
next	1.4;

1.4
date	2004.12.11.13.29.21;	author alek;	state Exp;
branches;
next	1.3;

1.3
date	2004.07.03.14.23.32;	author pedro;	state Exp;
branches;
next	1.2;

1.2
date	2004.02.14.22.57.41;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2004.02.11.20.13.35;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.02.11.20.13.35;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.25
log
@Add perl to WANTLIB, second batch. This used to be done automatically but
since SHARED_ONLY support was removed across the ports tree the perl module
no longer adds it, so it must be done manually for any perl ports that
provide perl shared-library modules (i.e. libdata/perl5/site_perl/$ARCH/*.so)
and you must not remove them from WANTLIB even if they show as "Extra".
@
text
@# $OpenBSD: Makefile,v 1.24 2016/04/04 16:09:10 naddy Exp $

COMMENT=		FastCGI Development Kit

DISTNAME=		fcgi-2.4.0
REVISION=		12
CATEGORIES=		www
SHARED_LIBS +=	fcgi                 0.0      # .0.0
SHARED_LIBS +=	fcgi++               1.0      # .1.0

HOMEPAGE=		http://www.fastcgi.com/

MAINTAINER=		Adam Montague <amontague@@siriushosting.com>

# See LICENSE.TERMS. Some source files (from the same authors) have other
# licenses but LICENSE.TERMS says "The following terms apply to all files
# associated with the Software and Documentation unless explicitly
# disclaimed in individual files". Also see analysis at
# http://www.fastcgi.com/archives/fastcgi-developers/2010-June/000559.html
PERMIT_PACKAGE_CDROM=   Yes

WANTLIB=		c m stdc++
WANTLIB += perl # uses perl ABI

MASTER_SITES=		${HOMEPAGE}/dist/


CONFIGURE_STYLE=	gnu

CAT3_FILES=		FCGI_Accept FCGI_Finish FCGI_SetExitStatus \
			FCGI_StartFilterData

post-configure:
	@@cd ${WRKSRC}/perl && perl Makefile.PL

post-build:
	@@cd ${WRKSRC}/perl && ${MAKE}

post-install:
	${INSTALL_MAN} ${WRKSRC}/doc/cgi-fcgi.1 ${PREFIX}/man/cat1/cgi-fcgi.0
.for file in ${CAT3_FILES}
	${INSTALL_MAN} ${WRKSRC}/doc/${file}.3 ${PREFIX}/man/cat3/${file}.0
.endfor
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/fcgi
	${INSTALL_DATA} ${WRKSRC}/doc/*.htm* ${WRKSRC}/doc/*.gif \
	${PREFIX}/share/doc/fcgi
	@@cd ${WRKSRC}/perl && ${MAKE} install

.include <bsd.port.mk>
@


1.24
log
@g/c PFRAG.shared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/02/06 14:55:41 sthen Exp $
d6 1
a6 1
REVISION=		11
d23 1
@


1.23
log
@Convert fcgi's use of select() to poll() to avoid an FD_SET overflow.
Simplified from a diff in debian/ubuntu.

Conversion looks good to deraadt, ok jca

While there, update license marker.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/06/14 10:34:45 sthen Exp $
d6 1
a6 1
REVISION=		10
@


1.22
log
@@@comment zero-byte perl .bs files in all packages which don't have p5-* PKGNAMEs
and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/04/20 16:28:09 sthen Exp $
d6 1
a6 1
REVISION=		9
d15 5
a19 1
# BSD-like
@


1.21
log
@perl .bs file should be in PFRAG.shared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/21 08:48:55 ajacoutot Exp $
d6 1
a6 1
REVISION=		8
@


1.20
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/03/11 11:44:41 espie Exp $
d6 1
a6 1
REVISION=		7
@


1.19
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/06/21 20:21:21 naddy Exp $
a21 1
USE_LIBTOOL=		Yes
@


1.18
log
@remove USE_GROFF from ports that already ship a preformatted page
in their source
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/04/16 21:13:44 sthen Exp $
a16 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
@


1.17
log
@- remove unnecessary NULL casts
- sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/03/28 23:04:42 simon Exp $
a25 1
USE_GROFF =		Yes
@


1.16
log
@fix warnings emitted from the perl interpreter
and regen plist while at it

from Markus Hennecke

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/11/22 08:36:48 espie Exp $
d6 1
a6 1
REVISION=		6
d20 2
a21 1
WANTLIB=		c
@


1.15
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/11/11 12:35:09 sthen Exp $
d6 1
a6 1
REVISION=		5
@


1.14
log
@new-style LIB_DEPENDS/REVISION/WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/19 08:02:53 espie Exp $
d25 1
a25 1
USE_GROFF =	Yes
@


1.13
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/10/11 19:47:25 steven Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p5
@


1.12
log
@feed libfcgi.la instead of -lfcgi into the libtool invocation here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/06/01 20:39:26 simon Exp $
d25 1
@


1.11
log
@bump packages with Perl .so modules; the old ones don't work
with new perl and the package signature doesn't change, so we
have to do this ourselves to make pkg_add updates work.

ok simon@@
@
text
@d6 1
a6 1
PKGNAME=		${DISTNAME}p4
@


1.10
log
@make IPC::{Run,Run3,Open3} and friends happy under FastCGI, regen
patches and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/09/15 20:38:21 merdely Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p3
@


1.9
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/11/06 10:44:35 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
@


1.8
log
@add perl support. from maintainer with input by mbalmer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/01/14 11:46:15 espie Exp $
d3 1
a3 1
COMMENT=		"FastCGI Development Kit"
@


1.7
log
@remaining shared libs bumps for C++ libs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/12/30 22:26:50 sturm Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d8 2
a9 2
SHARED_LIBS=		fcgi++	1.0 \
			fcgi	0.0
d20 1
a20 1
WANTLIB=		c 
d31 6
d45 1
@


1.6
log
@SHARED_LIBS, USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/01/10 18:12:03 pedro Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d8 1
a8 1
SHARED_LIBS=		fcgi++	0.0 \
@


1.5
log
@New maintainer, Adam Montague <amontague@@siriushosting.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/12/11 13:29:21 alek Exp $
d6 1
d8 2
d23 2
@


1.4
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/07/03 14:23:32 pedro Exp $
d10 1
a10 1
MAINTAINER=		Pedro Martelletto <pedro@@openbsd.org>
@


1.3
log
@forgot to change these to openbsd.org as well
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/02/14 22:57:41 sturm Exp $
d17 1
@


1.2
log
@these are preformated man pages, install accordingly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/02/11 20:13:35 sturm Exp $
d10 1
a10 1
MAINTAINER=		Pedro Martelletto <pbastos@@rdc.puc-rio.br>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d22 3
d26 4
a29 2
	${INSTALL_MAN} ${WRKSRC}/doc/*.1 ${PREFIX}/man/man1
	${INSTALL_MAN} ${WRKSRC}/doc/*.3 ${PREFIX}/man/man3
@


1.1.1.1
log
@Initial import of fcgi 2.4.0

FastCGI is a fast, open, and secure Web server interface that solves the
performance problems inherent in CGI without introducing any of the new
problems associated with writing applications to lower-level Web server APIs.

WWW: http://www.fastcgi.com/

from Pedro Martelletto <pbastos at rdc.puc-rio.br>
@
text
@@
