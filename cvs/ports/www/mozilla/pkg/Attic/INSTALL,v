head	1.4;
access;
symbols
	OPENBSD_3_7:1.3.0.6
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.4
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2005.04.11.15.03.18;	author kurt;	state dead;
branches;
next	1.3;

1.3
date	2004.02.15.19.44.01;	author wilfried;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.25.12.01.16;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2003.05.18.15.22.45;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- bump major shlib version
- fix CUPS printing: fix partial so version and don't dlclose lib.
- remove partial so version on freetype & esd
- move INSTALL/DEINSTALL code to PLIST
- Add MESSAGE regarding profiles

okay wilfried@@
@
text
@#!/bin/sh
# $OpenBSD: INSTALL,v 1.3 2004/02/15 19:44:01 wilfried Exp $
#
# Pre/post-installation setup of mozilla

# exit on errors, use a sane path and install prefix
#
set -e
PATH=/bin:/usr/bin:/sbin:/usr/sbin
PREFIX=${PKG_PREFIX:-/usr/local}
MOZ=${PREFIX}/mozilla

# Verify proper execution
#
if [ $# -ne 2 ]; then
    echo "usage: $0 distname { PRE-INSTALL | POST-INSTALL }" >&2
    exit 1
fi

# Verify/process the command
#
case $2 in
    PRE-INSTALL)
	: nothing to pre-install for this port
	;;
    POST-INSTALL)
	cd ${MOZ}
	rm -rf /tmp/.mozilla
	env HOME=/tmp LD_LIBRARY_PATH=${MOZ} ./regxpcom
	env HOME=/tmp LD_LIBRARY_PATH=${MOZ} ./regchrome
	rm -rf /tmp/.mozilla
	;;
    *)
	echo "usage: $0 distname { PRE-INSTALL | POST-INSTALL }" >&2
	exit 1
	;;
esac

exit 0
@


1.3
log
@sync port/patches with other mozillas
@
text
@d2 1
a2 1
# $OpenBSD: INSTALL,v 1.2 2003/06/25 12:01:16 wilfried Exp $
@


1.2
log
@add/use regchrome
@
text
@d2 1
a2 1
# $OpenBSD: INSTALL,v 1.1 2003/05/18 15:22:45 wilfried Exp $
d28 4
a31 2
	LD_LIBRARY_PATH=${MOZ} ./regxpcom
	LD_LIBRARY_PATH=${MOZ} ./regchrome
@


1.1
log
@create the data files on install instead
@
text
@d2 1
a2 1
# $OpenBSD$
d29 1
@

