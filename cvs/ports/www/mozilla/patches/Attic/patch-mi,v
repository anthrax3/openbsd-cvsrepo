head	1.2;
access;
symbols
	OPENBSD_3_3:1.1.0.8
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.6
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.4
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1;
locks; strict;
comment	@# @;


1.2
date	2003.04.13.02.40.48;	author david;	state dead;
branches;
next	1.1;

1.1
date	2001.08.13.14.16.35;	author drahn;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to the latest mozilla release (1.4a)
add correct dependencies
simplify configure options
ok pvalchev@@

XXX: this port is still marked BROKEN (doesn't run)
@
text
@--- nsprpub/config/FreeBSD.mk.orig	Wed Oct 20 14:19:53 1999
+++ nsprpub/config/FreeBSD.mk	Thu Dec 21 01:16:34 2000
@@@@ -21,24 +21,26 @@@@
 
 include $(MOD_DEPTH)/config/UNIX.mk
 
-CC			= gcc
-CCC			= g++
 RANLIB			= ranlib
+CCC				= ${CXX}
+
+# During FreeBSD port build, CFLAGS contains all of the optimizations
+# flags desired...
+OPTIMIZER		= $(MOZ_OPTIMIZE_FLAGS)
 
 ifeq ($(OS_TEST),alpha)
 CPU_ARCH		= alpha
 else
-OS_REL_CFLAGS		= -Di386
 CPU_ARCH		= x86
 endif
 CPU_ARCH_TAG		= _$(CPU_ARCH)
 
-OS_CFLAGS		= $(DSO_CFLAGS) $(OS_REL_CFLAGS) -ansi -Wall -pipe $(THREAD_FLAG) -DFREEBSD -DHAVE_STRERROR -DHAVE_BSD_FLOCK
+OS_CFLAGS		= $(DSO_CFLAGS) $(OS_REL_CFLAGS) -ansi -Wall -pipe -DFREEBSD -DHAVE_STRERROR -DHAVE_BSD_FLOCK
 
 ifeq ($(USE_PTHREADS),1)
 IMPL_STRATEGY		= _PTH
-DEFINES			+= -D_THREAD_SAFE
-THREAD_FLAG		+= -pthread
+DEFINES			+= -D_THREAD_SAFE -D_REENTRANT
+DSO_LDOPTS		+= -pthread
 else
 IMPL_STRATEGY		= _EMU
 DEFINES			+= -D_PR_LOCAL_THREADS_ONLY
@


1.1
log
@Update to 0.9.3, still fails to run, but other people can work
on the ld.so problems too.
heavily based on the FreeBSD port.
@
text
@@

