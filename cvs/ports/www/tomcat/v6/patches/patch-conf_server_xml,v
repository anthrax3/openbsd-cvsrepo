head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.2
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.3.0.20
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.16
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.18
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.14
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.12
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.10
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.8
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.6
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.1.1.0.10
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.8
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.6
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.4
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	kurt_20090109:1.1.1.1
	kurt:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2017.03.23.18.35.30;	author dcoppa;	state Exp;
branches;
next	1.3;
commitid	0ddGdZhspkWy5EyN;

1.3
date	2011.10.17.11.11.46;	author dcoppa;	state Exp;
branches;
next	1.2;

1.2
date	2011.07.04.07.41.37;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.09.21.38.43;	author kurt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.01.09.21.38.43;	author kurt;	state Exp;
branches;
next	;


desc
@@


1.4
log
@
Updates:

v6 -> 6.0.51
v7 -> 7.0.76
v8 -> 8.5.12
@
text
@$OpenBSD: patch-conf_server_xml,v 1.3 2011/10/17 11:11:46 dcoppa Exp $
--- conf/server.xml.orig	Thu Mar  9 21:28:01 2017
+++ conf/server.xml	Thu Mar 23 17:57:29 2017
@@@@ -66,12 +66,12 @@@@
          APR (HTTP/AJP) Connector: /docs/apr.html
          Define a non-SSL HTTP/1.1 Connector on port 8080
     -->
-    <Connector port="8080" protocol="HTTP/1.1" 
+    <Connector address="0.0.0.0" port="8080" protocol="HTTP/1.1" 
                connectionTimeout="20000" 
                redirectPort="8443" />
     <!-- A "Connector" using the shared thread pool-->
     <!--
-    <Connector executor="tomcatThreadPool"
+    <Connector executor="tomcatThreadPool" address="0.0.0.0"
                port="8080" protocol="HTTP/1.1" 
                connectionTimeout="20000" 
                redirectPort="8443" />
@@@@ -81,13 +81,13 @@@@
          connector should be using the OpenSSL style configuration
          described in the APR documentation -->
     <!--
-    <Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
+    <Connector address="0.0.0.0" port="8443" protocol="HTTP/1.1" SSLEnabled="true"
                maxThreads="150" scheme="https" secure="true"
                clientAuth="false" sslProtocol="TLS" />
     -->
 
     <!-- Define an AJP 1.3 Connector on port 8009 -->
-    <Connector port="8009" protocol="AJP/1.3" redirectPort="8443" />
+    <Connector address="0.0.0.0" port="8009" protocol="AJP/1.3" redirectPort="8443" />
 
 
     <!-- An Engine represents the entry point (within Catalina) that processes
@@@@ -129,7 +129,7 @@@@
       <!-- Define the default virtual host
            Note: XML Schema validation will not work with Xerces 2.2.
        -->
-      <Host name="localhost"  appBase="webapps"
+      <Host name="localhost"  appBase="${CATALINA_BASE}/webapps"
             unpackWARs="true" autoDeploy="true"
             xmlValidation="false" xmlNamespaceAware="false">
 
@


1.3
log
@Do not hardcode /{etc,var}/tomcat/

Fix the host-manager webapp

Fix {v5,v6}/pkg/README-main files
@
text
@d1 3
a3 3
$OpenBSD: patch-conf_server_xml,v 1.2 2011/07/04 07:41:37 dcoppa Exp $
--- conf/server.xml.orig	Wed Feb  2 20:06:47 2011
+++ conf/server.xml	Wed Jun 22 11:03:34 2011
d35 1
a35 1
@@@@ -125,7 +125,7 @@@@
@


1.2
log
@Updates v5 to v5.5.33.

Update v6 to v6.0.32, switch it to use SUBST_CMD, removes kurt@@ as
maintainer.

For both v5 and v6, use absolute path for javaPathHelper to avoid
errors when starting tomcat.

Various cleanups to pkg-readmes.

tested by some ports@@ readers
"looks ok, but I can't test it" sthen@@
ok ian@@, jasper@@

Second step of a plan to have better tomcat ports.
More to come: rc scripts, further cleanups, Tomcat7...
@
text
@d1 1
a1 1
$OpenBSD: patch-conf_server_xml,v 1.1.1.1 2009/01/09 21:38:43 kurt Exp $
d40 1
a40 1
+      <Host name="localhost"  appBase="/var/tomcat/webapps"
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- conf/server.xml.orig	Mon Jul 21 20:01:12 2008
+++ conf/server.xml	Thu Jan  1 15:03:32 2009
@@@@ -64,12 +64,12 @@@@
d19 1
a19 1
@@@@ -79,13 +79,13 @@@@
d35 1
a35 1
@@@@ -123,7 +123,7 @@@@
@


1.1.1.1
log
@Import tomcat/v6 6.0.18:
Java servlet 2.5 and Java server pages 2.1 server
okay & comments ian@@
@
text
@@
