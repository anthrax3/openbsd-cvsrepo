head	1.4;
access;
symbols
	OPENBSD_6_0:1.2.0.8
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	dcoppa_20141006:1.1.1.1
	dcoppa:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2016.12.15.11.41.43;	author dcoppa;	state Exp;
branches;
next	1.3;
commitid	GgVnxVn0MASGKcwz;

1.3
date	2016.09.08.12.54.14;	author dcoppa;	state Exp;
branches;
next	1.2;
commitid	S0C7pOjRgznUkobG;

1.2
date	2015.01.19.14.30.57;	author dcoppa;	state Exp;
branches;
next	1.1;
commitid	cLPPBfO9SvLtnlxH;

1.1
date	2014.10.06.08.15.50;	author dcoppa;	state Exp;
branches
	1.1.1.1;
next	;
commitid	hPuoe2opv8Yxgm2L;

1.1.1.1
date	2014.10.06.08.15.50;	author dcoppa;	state Exp;
branches;
next	;
commitid	hPuoe2opv8Yxgm2L;


desc
@@


1.4
log
@
Update to tomcat-8.5.9
@
text
@$OpenBSD: patch-conf_server_xml,v 1.3 2016/09/08 12:54:14 dcoppa Exp $
--- conf/server.xml.orig	Mon Dec  5 21:20:27 2016
+++ conf/server.xml	Thu Dec 15 12:17:55 2016
@@@@ -66,12 +66,12 @@@@
          APR (HTTP/AJP) Connector: /docs/apr.html
          Define a non-SSL/TLS HTTP/1.1 Connector on port 8080
     -->
-    <Connector port="8080" protocol="HTTP/1.1"
+    <Connector address="0.0.0.0" port="8080" protocol="HTTP/1.1"
                connectionTimeout="20000"
                redirectPort="8443" />
     <!-- A "Connector" using the shared thread pool-->
     <!--
-    <Connector executor="tomcatThreadPool"
+    <Connector executor="tomcatThreadPool" address="0.0.0.0"
                port="8080" protocol="HTTP/1.1"
                connectionTimeout="20000"
                redirectPort="8443" />
@@@@ -85,7 +85,7 @@@@
          the SSLImplementation selected. JSSE style configuration is used below.
     -->
     <!--
-    <Connector port="8443" protocol="org.apache.coyote.http11.Http11NioProtocol"
+    <Connector address="0.0.0.0" port="8443" protocol="org.apache.coyote.http11.Http11NioProtocol"
                maxThreads="150" SSLEnabled="true">
         <SSLHostConfig>
             <Certificate certificateKeystoreFile="conf/localhost-rsa.jks"
@@@@ -100,7 +100,7 @@@@
          configuration is used below.
     -->
     <!--
-    <Connector port="8443" protocol="org.apache.coyote.http11.Http11AprProtocol"
+    <Connector address="0.0.0.0" port="8443" protocol="org.apache.coyote.http11.Http11AprProtocol"
                maxThreads="150" SSLEnabled="true" >
         <UpgradeProtocol className="org.apache.coyote.http2.Http2Protocol" />
         <SSLHostConfig>
@@@@ -113,7 +113,7 @@@@
     -->
 
     <!-- Define an AJP 1.3 Connector on port 8009 -->
-    <Connector port="8009" protocol="AJP/1.3" redirectPort="8443" />
+    <Connector address="0.0.0.0" port="8009" protocol="AJP/1.3" redirectPort="8443" />
 
 
     <!-- An Engine represents the entry point (within Catalina) that processes
@@@@ -145,7 +145,7 @@@@
                resourceName="UserDatabase"/>
       </Realm>
 
-      <Host name="localhost"  appBase="webapps"
+      <Host name="localhost"  appBase="${CATALINA_BASE}/webapps"
             unpackWARs="true" autoDeploy="true">
 
         <!-- SingleSignOn valve, share authentication between web applications
@


1.3
log
@
Update v8 to Tomcat 8.5.5.

While here, ensure that the shell scripts under ${PREFIX}/tomcat/bin/
have the right permissions.
@
text
@d1 3
a3 3
$OpenBSD: patch-conf_server_xml,v 1.2 2015/01/19 14:30:57 dcoppa Exp $
--- conf/server.xml.orig	Wed Aug 31 21:53:52 2016
+++ conf/server.xml	Thu Sep  8 13:36:18 2016
d19 2
a20 2
@@@@ -81,7 +81,7 @@@@
          using the JSSE engine, the JSSE configuration attributes must be used.
d28 2
a29 2
@@@@ -95,7 +95,7 @@@@
          the OpenSSL configuration attributes must be used.
d37 1
a37 1
@@@@ -108,7 +108,7 @@@@
d46 1
a46 1
@@@@ -140,7 +140,7 @@@@
@


1.2
log
@
Update to tomcat-8.0.17
@
text
@d1 3
a3 3
$OpenBSD: patch-conf_server_xml,v 1.1.1.1 2014/10/06 08:15:50 dcoppa Exp $
--- conf/server.xml.orig	Fri Jan  9 10:02:07 2015
+++ conf/server.xml	Mon Jan 19 08:24:28 2015
d19 3
a21 3
@@@@ -82,13 +82,13 @@@@
          OpenSSL style configuration is required as described in the APR/native
          documentation -->
d25 13
a37 2
                maxThreads="150" SSLEnabled="true" scheme="https" secure="true"
                clientAuth="false" sslProtocol="TLS" />
d46 1
a46 1
@@@@ -120,7 +120,7 @@@@
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- conf/server.xml.orig	Wed Sep 24 22:05:51 2014
+++ conf/server.xml	Fri Oct  3 13:17:54 2014
d6 1
a6 1
          Define a non-SSL HTTP/1.1 Connector on port 8080
@


1.1.1.1
log
@
Import tomcat-8.0.14

bogus @@conflict,@@pkgpath annotations spotted by jasper@@
ok ian@@

@
text
@@
