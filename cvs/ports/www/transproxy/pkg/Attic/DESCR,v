head	1.8;
access;
symbols
	OPENBSD_5_0:1.7.0.2
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.5.0.30
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.28
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.26
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.24
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.22
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.20
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.18
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.5.0.16
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.14
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.12
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.5.0.10
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.5.0.8
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.6
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.5.0.4
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.4.0.8
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.6
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.4.0.4
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.4.0.2
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.3.0.4
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.2.0.2
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.1.1.1.0.8
	OPENBSD_2_7_BASE:1.1.1.1
	OPENBSD_2_6:1.1.1.1.0.6
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.4
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	form_980618:1.1.1.1
	form:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2011.09.10.06.16.51;	author ajacoutot;	state dead;
branches;
next	1.7;

1.7
date	2011.04.14.08.56.39;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2011.03.07.07.25.40;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2003.12.15.21.55.40;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2002.02.11.13.38.27;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	2000.12.21.21.20.55;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2000.10.05.21.48.10;	author jakob;	state Exp;
branches;
next	1.1;

1.1
date	98.06.18.06.22.53;	author form;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.06.18.06.22.53;	author form;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Remove tansproxy. It's not needed anymore (PF "route-to" works perfect
for that purpose).

ok sthen@@
@
text
@transproxy - transparently proxy HTTP and other requests.

This program is used with pf(4) to intercept things like http requests and
divert them to a www proxy server (eg: squid), without requiring user
intervention or configuration.

It accepts connections on the redirected port, connects to the real proxy
server and transports data between the two sockets.

Unlike some other transparent proxy solutions, this does not require the
proxy to run on the machine itself.

In most cases, it is preferable to use PF "route-to" rules rather than
transproxy; relayd(8) can health-check the proxy and add these rules
dynamically if required. The transproxy package is kept for special
cases and to simplify upgrades.
@


1.7
log
@Suggest that people use route-to instead, it's more reliable (but keep the
package around for now in case there are any special cases, and to simplify
upgrades). ok aja@@
@
text
@@


1.6
log
@Long overdue update to transproxy-1.6 (fixes a problem with posting
large amount of data amongst other things).

Add an rc.d(8) script.
Add a _tproxy user/group and make tproxy runs as this user by default.
Remove jakob@@ from maintainer per his request.

While here, do some cleanings:
* clean-up indent
* don't overwrite CC, CFLAGS and PREFIX
* fix patch naming
* fix a wording in DESCR
* comment tproxyrun and tproxywatch, they are useless under OpenBSD
@
text
@d12 5
@


1.5
log
@remove WWW lines
@
text
@d11 1
a11 1
proxy run on the machine itself.
@


1.4
log
@transproxy is used with pf, not ipfilter; nick@@wanadoo.be
@
text
@a11 2

WWW: ${HOMEPAGE}
@


1.3
log
@If HOMEPAGE is defined in Makefile, reference it in DESCR, too.
authorized by espie@@

Fix a few minor cosmetic issues along the way.
@
text
@d3 3
a5 3
This program is used with Darren Reed's IPFILTER package and used
to intercept things like http requests and divert them to a www proxy
server (eg: squid), without requiring user intervention or configuration.
@


1.2
log
@- update to v1.3
- set MAINTAINER to myself
@
text
@d12 2
@


1.1
log
@Initial revision
@
text
@a11 12

Use something like:
/usr/local/sbin/tproxy -b 127.0.0.1 -s 8081 [squidip] [squidport]

(bind to localhost for safety), and the following ipnat rules:

rdr ppp0 0.0.0.0/0 port 80 -> 127.0.0.1 port 8081
rdr ppp1 0.0.0.0/0 port 80 -> 127.0.0.1 port 8081
[..etc..]

---
Ported to OpenBSD by Oleg Safiullin <form@@vs.itam.nsc.ru>
@


1.1.1.1
log
@Transparent HTTP proxy for IPFILTER
@
text
@@
