head	1.5;
access;
symbols
	OPENBSD_6_0:1.5.0.6
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.4.0.26
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.24
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.22
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.20
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.18
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.16
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.14
	OPENBSD_5_0:1.4.0.12
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.10
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.8
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.6
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.4
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.2
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.3.0.4
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.0.2
	OPENBSD_4_1_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2015.05.15.08.08.04;	author stsp;	state Exp;
branches;
next	1.4;
commitid	Cjn8n79ocvk9kzM0;

1.4
date	2008.09.02.22.05.23;	author bernd;	state Exp;
branches;
next	1.3;

1.3
date	2008.01.28.19.48.47;	author bernd;	state Exp;
branches;
next	1.2;

1.2
date	2007.03.25.17.40.55;	author deanna;	state Exp;
branches;
next	1.1;

1.1
date	2006.12.25.20.40.02;	author deanna;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update www/apache-httpd to 2.4.12.
Manual configuration updates might be required, see
http://httpd.apache.org/docs/2.4/upgrading.html
MPMs can now be loaded at runtime. The default config keeps using 'prefork'.
Based on an initial diff by claudio@@
ok sthen@@ ajacoutot@@
@
text
@$OpenBSD: patch-support_rotatelogs_c,v 1.4 2008/09/02 22:05:23 bernd Exp $
--- support/rotatelogs.c.orig	Thu Apr 17 11:00:36 2014
+++ support/rotatelogs.c	Sat Jan 10 15:07:45 2015
@@@@ -123,7 +123,7 @@@@ static void usage(const char *argv0, const char *reaso
             "or \n\nTransferLog \"|%s /some/where 5M\"\n\n", argv0);
 #endif
     fprintf(stderr,
-            "to httpd.conf. By default, the generated name will be\n"
+            "to httpd2.conf. By default, the generated name will be\n"
             "<logfile>.nnnn where nnnn is the system time at which the log\n"
             "nominally starts (N.B. if using a rotation time, the time will\n"
             "always be a multiple of the rotation time, so you can synchronize\n"
@


1.4
log
@Security update to apache-httpd-2.2.9. (CVE-2008-2364 and CVE-2007-6420)

http://www.apache.org/dist/httpd/CHANGES_2.2.9

Also fix LIB_DEPENDS and use the external pcre library instead of the shipped
one.

ok dlg@@, simon@@, merdely@@ (pre-lock)
@
text
@d1 4
a4 4
$OpenBSD: patch-support_rotatelogs_c,v 1.3 2008/01/28 19:48:47 bernd Exp $
--- support/rotatelogs.c.orig	Fri May  9 15:43:24 2008
+++ support/rotatelogs.c	Thu Jul 24 12:22:15 2008
@@@@ -86,7 +86,7 @@@@ static void usage(const char *argv0, const char *reaso
d8 5
a12 5
-            "to httpd.conf. The generated name will be /some/where.nnnn "
+            "to httpd2.conf. The generated name will be /some/where.nnnn "
             "where nnnn is the\nsystem time at which the log nominally "
             "starts (N.B. if using a rotation time,\nthe time will always "
             "be a multiple of the rotation time, so you can synchronize\n"
@


1.3
log
@Security update to apache2 2.2.8.

(CVE-2007-6420, CVE-2007-6421, CVE-2007-6422, CVE-2007-6423,
CVE-2008-0005, CVE-2007-6388)

http://lists.grok.org.uk/pipermail/full-disclosure/2008-January/059626.html
http://lists.grok.org.uk/pipermail/full-disclosure/2008-January/059560.html
http://lists.grok.org.uk/pipermail/full-disclosure/2008-January/059561.html

ok dlg@@
@
text
@d1 4
a4 4
$OpenBSD: patch-support_rotatelogs_c,v 1.2 2007/03/25 17:40:55 deanna Exp $
--- support/rotatelogs.c.orig	Wed Jan 23 22:25:37 2008
+++ support/rotatelogs.c	Wed Jan 23 22:25:43 2008
@@@@ -83,7 +83,7 @@@@ static void usage(const char *argv0, const char *reaso
@


1.2
log
@Update to 2.2.4.  This is principally a bugfix release.  See
Changelog: http://www.apache.org/dist/httpd/CHANGES_2.2

While here, regen patches with the new diff.

ok dlg
@
text
@d1 5
a5 5
$OpenBSD: patch-support_rotatelogs_c,v 1.1 2006/12/25 20:40:02 deanna Exp $
--- support/rotatelogs.c.orig	Wed Dec 13 07:11:56 2006
+++ support/rotatelogs.c	Sun Mar 25 13:21:04 2007
@@@@ -107,7 +107,7 @@@@ int main (int argc, const char * const argv[])
                 "or \n\nTransferLog \"|%s /some/where 5M\"\n\n", argv[0]);
d7 6
a12 6
         fprintf(stderr,
-                "to httpd.conf. The generated name will be /some/where.nnnn "
+                "to httpd2.conf. The generated name will be /some/where.nnnn "
                 "where nnnn is the\nsystem time at which the log nominally "
                 "starts (N.B. if using a rotation time,\nthe time will always "
                 "be a multiple of the rotation time, so you can synchronize\n"
@


1.1
log
@- stop setting SYSCONFDIR

- put config files in /etc/apache2 instead of /var since this is not
chrooted

- make a couple of comments that refer to 'httpd' refer to 'httpd2'
instead

- don't install the build makefiles

ideas from bernd@@ and steven@@, ok steven@@
@
text
@d1 4
a4 4
$OpenBSD$
--- support/rotatelogs.c.orig	Sun Dec 17 11:13:52 2006
+++ support/rotatelogs.c	Sun Dec 17 11:14:36 2006
@@@@ -107,7 +107,7 @@@@ int main (int argc, const char * const a
@

