head	1.8;
access;
symbols
	OPENBSD_6_1:1.8.0.8
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.6
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.2
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.4
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.5.0.34
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.32
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.30
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.28
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.26
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.24
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.22
	OPENBSD_5_0:1.5.0.20
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.18
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.16
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.14
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.12
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.10
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.8
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.6
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.5.0.4
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	deanna_20061214:1.1.1.1
	deanna:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2015.07.18.00.33.53;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	d57HLtwucZxWtNBw;

1.7
date	2015.07.17.23.57.58;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	GPN98iERQFsJfE19;

1.6
date	2015.05.15.08.08.04;	author stsp;	state Exp;
branches;
next	1.5;
commitid	Cjn8n79ocvk9kzM0;

1.5
date	2007.01.09.10.47.37;	author dlg;	state Exp;
branches;
next	1.4;

1.4
date	2007.01.09.09.56.57;	author dlg;	state Exp;
branches;
next	1.3;

1.3
date	2007.01.05.22.57.11;	author dlg;	state Exp;
branches;
next	1.2;

1.2
date	2006.12.25.20.40.02;	author deanna;	state Exp;
branches;
next	1.1;

1.1
date	2006.12.14.07.14.21;	author deanna;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.12.14.07.14.21;	author deanna;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Cleanup.
@
text
@$OpenBSD: patch-config_layout,v 1.7 2015/07/17 23:57:58 ajacoutot Exp $
--- config.layout.orig	Tue Apr 17 16:01:41 2012
+++ config.layout	Sat Jul 18 02:20:52 2015
@@@@ -229,25 +229,25 @@@@
 #   OpenBSD Layout
 <Layout OpenBSD>
     prefix:        /var/www
-    exec_prefix:   /usr
+    exec_prefix:   %%PREFIX%%
     bindir:        ${exec_prefix}/bin
     sbindir:       ${exec_prefix}/sbin
     libdir:        ${exec_prefix}/lib
-    libexecdir:    ${exec_prefix}/lib/apache/modules
-    mandir:        ${exec_prefix}/share/man
-    sysconfdir:    ${prefix}/conf
+    libexecdir:    ${exec_prefix}/lib/apache2
+    mandir:        ${exec_prefix}/man
     datadir:       ${prefix}
-    installbuilddir: ${prefix}/build
-    errordir:      ${prefix}/error
-    iconsdir:      ${prefix}/icons
-    htdocsdir:     ${prefix}/htdocs
-    manualdir:     ${datadir}/manual
-    cgidir:        ${prefix}/cgi-bin
-    includedir:    ${exec_prefix}/lib/apache/include
-    localstatedir: ${prefix}
-    runtimedir:    ${prefix}/logs
-    logfiledir:    ${prefix}/logs
-    proxycachedir: ${prefix}/proxy
+    sysconfdir:    %%CONFDIR%%
+    installbuilddir: ${exec_prefix}/share/apache2/build
+    errordir:      ${datadir}/error
+    iconsdir:      ${datadir}/icons
+    htdocsdir:     ${datadir}/htdocs
+    manualdir:     ${exec_prefix}/share/doc/apache2
+    cgidir:        ${datadir}/cgi-bin
+    includedir:    ${exec_prefix}/include/apache2
+    localstatedir: ${datadir}
+    runtimedir:    ${datadir}/logs
+    logfiledir:    ${datadir}/logs
+    proxycachedir: ${datadir}/proxy
 </Layout>
 
 # FreeBSD Layout
@


1.7
log
@Move default document root to /var/www to be able to switch between web
servers easily; idea from stsp@@
Split the package into -main and -common (which holds common files for
apache 1 and 2).

discussed with stsp@@ sthen@@
ok stsp@@
@
text
@d1 1
a1 1
$OpenBSD: patch-config_layout,v 1.6 2015/05/15 08:08:04 stsp Exp $
d3 2
a4 3
+++ config.layout	Sat Jan 10 14:31:17 2015
@@@@ -228,26 +228,26 @@@@
 
d7 1
a7 1
-    prefix:        /var/www
a8 1
+    prefix:        /var/www
@


1.6
log
@Update www/apache-httpd to 2.4.12.
Manual configuration updates might be required, see
http://httpd.apache.org/docs/2.4/upgrading.html
MPMs can now be loaded at runtime. The default config keeps using 'prefork'.
Based on an initial diff by claudio@@
ok sthen@@ ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD: patch-config_layout,v 1.5 2007/01/09 10:47:37 dlg Exp $
d10 1
a10 1
+    prefix:        /var/apache2
@


1.5
log
@enable all the modules, and build them as shared objects. mark the port
SHARED_ONLY.

ok robert@@
@
text
@d1 4
a4 4
$OpenBSD: patch-config_layout,v 1.4 2007/01/09 09:56:57 dlg Exp $
--- config.layout.orig	Tue Jan  9 06:59:42 2007
+++ config.layout	Tue Jan  9 07:00:28 2007
@@@@ -252,26 +252,26 @@@@
@


1.4
log
@switch apache2 from a gnu style configure to a simple one so we can
define prefix the way apache likes it.

this is because apache2 has a different understanding of what the prefix
means, and our understanding and application of it on this port leads to
extremely confused paths in a lot of its generated files.

our understanding of prefix is to mean the path at which the binaries,
libs, manpages, and so on are stored, ie, /usr/local. apache2 understands
prefix to mean "install architecture-independent files", or in real terms
the ServerRoot. obviously using /usr/local as the server root when we want
to use /var/apache2 for that purpose is uncomfortable for it, and it leads
to things like broken paths in the default config files and builds of
modules.

ok robert@@
@
text
@d1 1
a1 1
$OpenBSD: patch-config_layout,v 1.1.1.1 2006/12/14 07:14:21 deanna Exp $
d18 1
a18 1
+    libexecdir:    ${exec_prefix}/lib
@


1.3
log
@move the dir with the build files out of /var/apache2 and into
/usr/local/share/apache2.

based on a suggestion from robert@@
@
text
@d2 2
a3 2
--- config.layout.orig	Mon Nov 22 04:50:36 2004
+++ config.layout	Sat Jan  6 08:29:31 2007
d10 2
a11 2
+    prefix:        %%PREFIX%%
+    exec_prefix:   ${prefix}
d18 3
a20 1
-    datadir:       ${prefix}
a31 3
+    libexecdir:    ${exec_prefix}/lib
+    mandir:        ${exec_prefix}/man
+    datadir:       /var/apache2
@


1.2
log
@- stop setting SYSCONFDIR

- put config files in /etc/apache2 instead of /var since this is not
chrooted

- make a couple of comments that refer to 'httpd' refer to 'httpd2'
instead

- don't install the build makefiles

ideas from bernd@@ and steven@@, ok steven@@
@
text
@d2 2
a3 2
--- config.layout.orig	Sun Nov 21 13:50:36 2004
+++ config.layout	Sun Dec 10 20:33:02 2006
d34 1
a34 1
+    installbuilddir: ${datadir}/build
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d33 1
a33 1
+    sysconfdir:    ${datadir}/conf
@


1.1.1.1
log
@Bringing this in now so that we can work on it here.  Batting tarballs
back and forth in email messages doesn't make any sense when we have a
cvs tree to work in.

So, not hooked into the package builds yet.

Original work and port name from dlg.

ok robert@@, dlg@@

@
text
@@
