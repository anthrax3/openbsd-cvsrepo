head	1.4;
access;
symbols
	OPENBSD_4_8:1.3.0.18
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.16
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.14
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.12
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.10
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.8
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.6
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.4
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.2
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2
	alek_20051103:1.1.1.1
	alek:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2010.11.13.07.44.33;	author ajacoutot;	state dead;
branches;
next	1.3;

1.3
date	2006.05.27.16.08.16;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2005.11.04.09.31.25;	author alek;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2005.11.03.16.23.13;	author alek;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.11.03.16.23.13;	author alek;	state Exp;
branches;
next	;

1.2.2.1
date	2007.02.26.16.29.06;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Move to pkg-readmes.
@
text
@$OpenBSD: README,v 1.3 2006/05/27 16:08:16 alek Exp $

If you haven't already run the module enabler, you can manually enable
Kerberos support by adding the following lines into httpd.conf near the
other authentication modules.

	# user authentication using kerberos
	LoadModule auth_kerb_module /usr/lib/apache/modules/mod_auth_kerb.so

To require Kerberos authenication for a directory (or file or location),
enclose that location in a block that looks like this. The mod_auth_kerb
documentation is a bit sketchy yet, but this was taken from a working OpenBSD
machine using mod_auth_kerb. Only the names have been changed to protect
the realm. Obviously, you must have Kerberos working before this module can
do anything useful.

	# A Kerberos Authenticated Directory
	<Directory /var/www/htdocs/private>
		AuthType Kerberos
		AuthName "Kerberos Userid and Password"
		KrbMethodNegotiate off
		KrbMethodK5Passwd on
		KrbAuthRealms YOUR.REALM
		KrbVerifyKDC on
		Krb5Keytab /var/www/conf/httpd.keytab
		KrbServiceName http
		require valid-user
	</Directory>

It is suggested that you create a keytab for httpd that is readable but not
writeable by apache, and has no relation to your other Kerberos keys. One
way to do this:

	ktutil -k /var/www/conf/httpd.keytab add -V 1 -e des-cbc-crc \
		-w PASSWORD -p http/host.domain.tld@@YOUR.REALM

Depending on your ID management system, you may be able to simply "get" a
principal, though you will needed the appropriate kdc privileges to do so:

	ktutil -k /var/www/conf/httpd.keytab get \
		http/host.domain.tld@@YOUR.REALM

Once you have created the keytab with the web server's principal, you should
restrict permissions on the keytab:

	chown root:www /var/www/conf/httpd.keytab
	chmod 0440 /var/www/conf/httpd.keytab

Thus, if httpd is ever convinced to give access to the keytab, it will be
unable to make changes to the keytab, and will be unable to do anything more
than serve up its own keytab (which is bad enough).
@


1.3
log
@Update to 5.0rc7; from Chris Kuethe <chris.kuethe@@gmail.com>
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.2 2005/11/04 09:31:25 alek Exp $
@


1.2
log
@- Better gramma
- Bump PKGNAME

From Mark Peoples at asu dot edu via Chris Kuethe <chris.kuethe@@gmail.com>
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.1.1.1 2005/11/03 16:23:13 alek Exp $
d35 11
a45 1
		-w PASSWORD -p http/host.domain.tld@@REALM.TLD
@


1.2.2.1
log
@MFC:
Update to mod-auth-kerb 5.3. Fixes possible buffer overflow.
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.2 2005/11/04 09:31:25 alek Exp $
d35 1
a35 11
		-w PASSWORD -p http/host.domain.tld@@YOUR.REALM

Depending on your ID management system, you may be able to simply "get" a
principal, though you will needed the appropriate kdc privileges to do so:

	ktutil -k /var/www/conf/httpd.keytab get \
		http/host.domain.tld@@YOUR.REALM

Once you have created the keytab with the web server's principal, you should
restrict permissions on the keytab:

@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d12 1
a12 1
documenation is a bit sketchy yet, but this was taken from a working openbsd
d14 1
a14 1
the realm. Obviously, you must have working Kerberos before this module can
@


1.1.1.1
log
@Import mod_auth_kerb 5.0rc6

This is the Apache Kerberos authentication module. It
allows any Apache web-server to become a Kerberos client
for authentication requests.

From Chris Kuethe <ckuethe@@ualberta.ca>
@
text
@@
