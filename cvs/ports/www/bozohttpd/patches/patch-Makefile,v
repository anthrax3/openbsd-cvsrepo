head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.4
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.4.0.6
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.8
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.4
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.2.0.18
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.16
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.14
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.12
	OPENBSD_5_0:1.2.0.10
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.8
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.6
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.4
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2;
locks; strict;
comment	@# @;


1.6
date	2017.02.21.09.59.46;	author benoit;	state Exp;
branches;
next	1.5;
commitid	cHLT0Lbt28IJSKi1;

1.5
date	2016.05.25.09.13.39;	author benoit;	state Exp;
branches;
next	1.4;
commitid	gtyguFLZYF006kYA;

1.4
date	2014.04.06.15.48.25;	author benoit;	state Exp;
branches;
next	1.3;

1.3
date	2013.11.01.07.18.11;	author benoit;	state Exp;
branches;
next	1.2;

1.2
date	2009.04.02.13.15.39;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.26.16.26.41;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to bozohttpd-20170201.
@
text
@$OpenBSD: patch-Makefile,v 1.5 2016/05/25 09:13:39 benoit Exp $
--- Makefile.orig	Wed Feb  1 05:21:23 2017
+++ Makefile	Mon Feb 13 09:46:58 2017
@@@@ -23,17 +23,17 @@@@
 # for setting CFLAGS relevant to your make, eg
 #   % make COPTS="-DDO_HTPASSWD"
 
-COPTS+=	-DDO_HTPASSWD
+COPTS+=	-DDO_HTPASSWD -DNO_LUA_SUPPORT
 PROG=	bozohttpd
-LINKS=	${BINDIR}/bozohttpd ${BINDIR}/httpd
+#LINKS=	${BINDIR}/bozohttpd ${BINDIR}/httpd
 MAN=	bozohttpd.8
-MLINKS+=bozohttpd.8 httpd.8
+#MLINKS+=bozohttpd.8 httpd.8
 SRCS=	bozohttpd.c ssl-bozo.c auth-bozo.c cgi-bozo.c daemon-bozo.c \
 	tilde-luzah-bozo.c dir-index-bozo.c content-bozo.c lua-bozo.c
 SRCS+=	main.c
 
-LDADD=	-lcrypt -llua -lm
-DPADD=	${LIBCRYPT} ${LIBLUA} ${LIBM}
+LDADD=	-lm
+DPADD=	${LIBM}
 
 WARNS?=	4
 
@@@@ -50,16 +50,16 @@@@ LDADD+=		-lnbutil
 
 .include <bsd.own.mk>
 
-.if ${MKCRYPTO} != "no"
+#.if ${MKCRYPTO} != "no"
 
 LDADD+=	-lssl -lcrypto
 DPADD+=	${LIBSSL} ${LIBCRYPTO}
 
-.else
+#.else
 
-COPTS+=	-DNO_SSL_SUPPORT
+#COPTS+=	-DNO_SSL_SUPPORT
 
-.endif
+#.endif
 
 #
 # Build release things.
@


1.5
log
@Update to bozohttpd-20160415.
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.orig	Fri Apr 15 22:44:06 2016
+++ Makefile	Wed May 25 10:59:17 2016
d27 1
a27 1
@@@@ -50,16 +50,16 @@@@
@


1.4
log
@Update bozohttpd to 20140201.
@
text
@d2 3
a4 3
--- Makefile.orig	Thu Jan  2 09:24:28 2014
+++ Makefile	Sun Apr  6 17:29:51 2014
@@@@ -19,31 +19,31 @@@@
a8 2
-PROG=	httpd
-MAN=	httpd.8
d10 6
a15 3
+PROG=	bozohttpd
+MAN=	bozohttpd.8
 BUILDSYMLINKS+=bozohttpd.8 httpd.8
d26 2
@


1.3
log
@Update to bozohttp 20130711.
@
text
@d2 4
a5 3
--- Makefile.orig	Thu Jul 11 10:52:21 2013
+++ Makefile	Fri Nov  1 08:02:21 2013
@@@@ -19,30 +19,30 @@@@
d8 1
a8 1
 COPTS+=	-DDO_HTPASSWD
d11 1
d16 1
a16 1
 	tilde-luzah-bozo.c dir-index-bozo.c content-bozo.c
d19 4
a22 4
-LDADD=	-lcrypt
-DPADD=	${LIBCRYPT}
+#LDADD=	-lcrypt
+#DPADD=	${LIBCRYPT}
@


1.2
log
@- update bozohttpd to 20080303

from benoit lecocq;
maintainer timed-out
@
text
@d1 5
a5 10
$OpenBSD: patch-Makefile,v 1.1 2009/03/26 16:26:41 naddy Exp $
--- Makefile.orig	Tue Sep 27 22:09:20 2005
+++ Makefile	Thu Apr  2 15:14:12 2009
@@@@ -29,7 +29,7 @@@@ check:
 clean:
 	cd $(.CURDIR)/testsuite; $(MAKE) clean
 
-CRYPTOLIBS=	-lcrypto -lssl
+CRYPTOLIBS=	-lssl -lcrypto
 CRYPTODEPS=	$(LIBCRYPTO) $(LIBSSL)
d7 36
a42 1
 NROFF?=		nroff
@


1.1
log
@fix library order for static linking
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.orig	Thu Mar 26 17:25:02 2009
+++ Makefile	Thu Mar 26 17:25:15 2009
@@@@ -23,7 +23,7 @@@@ check:
@

