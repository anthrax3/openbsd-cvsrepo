head	1.160;
access;
symbols
	OPENBSD_6_1:1.150.0.2
	OPENBSD_6_1_BASE:1.150
	OPENBSD_6_0:1.140.0.2
	OPENBSD_6_0_BASE:1.140
	OPENBSD_5_9:1.132.0.2
	OPENBSD_5_9_BASE:1.132
	OPENBSD_5_8:1.128.0.4
	OPENBSD_5_8_BASE:1.128
	OPENBSD_5_7:1.122.0.2
	OPENBSD_5_7_BASE:1.122
	OPENBSD_5_6:1.117.0.2
	OPENBSD_5_6_BASE:1.117
	OPENBSD_5_5:1.106.0.2
	OPENBSD_5_5_BASE:1.106
	OPENBSD_5_4:1.101.0.2
	OPENBSD_5_4_BASE:1.101
	OPENBSD_5_3:1.87.0.2
	OPENBSD_5_3_BASE:1.87
	OPENBSD_5_2:1.79.0.2
	OPENBSD_5_2_BASE:1.79
	OPENBSD_5_1_BASE:1.75
	OPENBSD_5_1:1.75.0.2
	OPENBSD_5_0:1.63.0.2
	OPENBSD_5_0_BASE:1.63
	OPENBSD_4_9:1.58.0.2
	OPENBSD_4_9_BASE:1.58
	OPENBSD_4_8:1.48.0.2
	OPENBSD_4_8_BASE:1.48
	OPENBSD_4_7:1.44.0.2
	OPENBSD_4_7_BASE:1.44
	OPENBSD_4_6:1.38.0.2
	OPENBSD_4_6_BASE:1.38
	OPENBSD_4_5:1.29.0.2
	OPENBSD_4_5_BASE:1.29
	OPENBSD_4_4:1.22.0.2
	OPENBSD_4_4_BASE:1.22
	OPENBSD_4_3:1.20.0.2
	OPENBSD_4_3_BASE:1.20
	OPENBSD_4_2:1.16.0.2
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.11.0.2
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.7.0.2
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.6.0.2
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	wilfried_2005-01-16:1.1.1.1
	wilfried:1.1.1;
locks; strict;
comment	@# @;


1.160
date	2017.09.23.11.41.31;	author sthen;	state Exp;
branches;
next	1.159;
commitid	sE7M6PXgTiIvVH3V;

1.159
date	2017.09.04.18.10.19;	author jasper;	state Exp;
branches;
next	1.158;
commitid	RonW5UxgEKRZ6eoY;

1.158
date	2017.07.26.22.45.31;	author sthen;	state Exp;
branches;
next	1.157;
commitid	tD4MFrpYYDDL2UFT;

1.157
date	2017.07.24.18.26.51;	author jasper;	state Exp;
branches;
next	1.156;
commitid	hE0ksZvdaDgW7w0g;

1.156
date	2017.05.31.08.08.17;	author espie;	state Exp;
branches;
next	1.155;
commitid	ij92FtFXiSiT1ani;

1.155
date	2017.05.28.12.13.06;	author espie;	state Exp;
branches;
next	1.154;
commitid	wU20KEAZW1VRcVDp;

1.154
date	2017.05.27.05.07.48;	author espie;	state Exp;
branches;
next	1.153;
commitid	qYZPq4cRqUwktOm1;

1.153
date	2017.05.13.15.47.52;	author espie;	state Exp;
branches;
next	1.152;
commitid	yRNyJbijCiPbW9FN;

1.152
date	2017.05.10.19.21.04;	author jasper;	state Exp;
branches;
next	1.151;
commitid	l2ICcCYMNHurTUjh;

1.151
date	2017.04.17.10.57.08;	author jasper;	state Exp;
branches;
next	1.150;
commitid	1fwp9m6LzcflYMY6;

1.150
date	2017.03.29.13.27.12;	author ajacoutot;	state Exp;
branches;
next	1.149;
commitid	fUFr8G3En9VWAQry;

1.149
date	2017.03.20.18.32.52;	author jasper;	state Exp;
branches;
next	1.148;
commitid	76ml69789f580kbO;

1.148
date	2017.02.18.17.33.51;	author ajacoutot;	state Exp;
branches;
next	1.147;
commitid	kjw4RQ4AAUYktD89;

1.147
date	2017.02.18.17.32.37;	author ajacoutot;	state Exp;
branches;
next	1.146;
commitid	bw6Y0vDo3oixdVWL;

1.146
date	2017.02.06.17.57.29;	author jasper;	state Exp;
branches;
next	1.145;
commitid	XP5pjBeQtnMSBhXY;

1.145
date	2017.01.21.13.08.22;	author jasper;	state Exp;
branches;
next	1.144;
commitid	MCnpMzVWkIGi6cPo;

1.144
date	2016.12.30.18.16.26;	author jasper;	state Exp;
branches;
next	1.143;
commitid	6Uh5JIqFmVZ3vChH;

1.143
date	2016.11.22.19.21.48;	author jasper;	state Exp;
branches;
next	1.142;
commitid	0Z0FlQxRPsoQeTk6;

1.142
date	2016.11.07.19.46.23;	author jasper;	state Exp;
branches;
next	1.141;
commitid	aHPuXdjn42GB5KH3;

1.141
date	2016.10.31.10.23.19;	author jasper;	state Exp;
branches;
next	1.140;
commitid	09Q0rs3o8Hqj4SD0;

1.140
date	2016.06.27.11.17.27;	author jasper;	state Exp;
branches
	1.140.2.1;
next	1.139;
commitid	qAnWAMOqeUAoYFsL;

1.139
date	2016.05.09.17.37.22;	author jasper;	state Exp;
branches;
next	1.138;
commitid	Sy82D8x0ZdxfekTs;

1.138
date	2016.04.26.07.39.17;	author jasper;	state Exp;
branches;
next	1.137;
commitid	KYr3spdP1ezNDchl;

1.137
date	2016.04.25.14.18.19;	author jasper;	state Exp;
branches;
next	1.136;
commitid	EB8VipDAjHDbjFTw;

1.136
date	2016.04.11.08.05.45;	author jasper;	state Exp;
branches;
next	1.135;
commitid	NSOqUZRPnYsqdr8g;

1.135
date	2016.03.18.23.12.19;	author naddy;	state Exp;
branches;
next	1.134;
commitid	KZAl4KEiw6a3Jixw;

1.134
date	2016.03.15.10.11.25;	author jasper;	state Exp;
branches;
next	1.133;
commitid	VsFJAKnKgjjSDaWk;

1.133
date	2016.02.25.07.44.01;	author jasper;	state Exp;
branches;
next	1.132;
commitid	NNTQqcpxEii5UjD6;

1.132
date	2016.01.08.12.44.54;	author jasper;	state Exp;
branches;
next	1.131;
commitid	2EPOEpbay3e5K5Mw;

1.131
date	2015.12.11.12.27.31;	author jasper;	state Exp;
branches;
next	1.130;
commitid	VvI5ir1mspfxC0qH;

1.130
date	2015.11.24.10.36.10;	author jasper;	state Exp;
branches;
next	1.129;
commitid	tLnuIZR8N7e0PPpf;

1.129
date	2015.10.24.14.07.56;	author jasper;	state Exp;
branches;
next	1.128;
commitid	cig5KkqcxJQAGGPQ;

1.128
date	2015.07.09.21.36.05;	author jasper;	state Exp;
branches;
next	1.127;
commitid	w2f3LlDEQohY7U4z;

1.127
date	2015.06.24.07.26.05;	author jasper;	state Exp;
branches;
next	1.126;
commitid	9mABspkWVGIBCJXk;

1.126
date	2015.05.12.13.31.42;	author jasper;	state Exp;
branches;
next	1.125;
commitid	3rHVk4oqgA25ydNr;

1.125
date	2015.04.15.09.40.52;	author ajacoutot;	state Exp;
branches;
next	1.124;
commitid	dfR1rb9OtImYnGFF;

1.124
date	2015.04.04.09.21.04;	author ajacoutot;	state Exp;
branches;
next	1.123;
commitid	kS3kwKZogsvzYmEY;

1.123
date	2015.04.03.11.24.55;	author jasper;	state Exp;
branches;
next	1.122;
commitid	6l5Ogd5DnwW74Cif;

1.122
date	2014.11.25.04.54.51;	author ajacoutot;	state Exp;
branches;
next	1.121;
commitid	1hdBNMFg5AgxCYzW;

1.121
date	2014.11.16.13.57.47;	author jasper;	state Exp;
branches;
next	1.120;
commitid	qSnb6R8P7f1HdGJZ;

1.120
date	2014.10.16.07.23.11;	author jasper;	state Exp;
branches;
next	1.119;
commitid	YaAbjvZ59PUn8nfP;

1.119
date	2014.10.15.21.22.39;	author jasper;	state Exp;
branches;
next	1.118;
commitid	Yll8AKRpxQfIlccz;

1.118
date	2014.10.13.09.41.22;	author ajacoutot;	state Exp;
branches;
next	1.117;
commitid	LQDSpejZU4o0XGPY;

1.117
date	2014.05.12.14.12.28;	author jasper;	state Exp;
branches;
next	1.116;

1.116
date	2014.04.14.19.50.09;	author matthieu;	state Exp;
branches;
next	1.115;

1.115
date	2014.04.02.09.36.12;	author jasper;	state Exp;
branches;
next	1.114;

1.114
date	2014.04.01.18.06.30;	author jasper;	state Exp;
branches;
next	1.113;

1.113
date	2014.04.01.17.03.14;	author jasper;	state Exp;
branches;
next	1.112;

1.112
date	2014.04.01.13.21.14;	author ajacoutot;	state Exp;
branches;
next	1.111;

1.111
date	2014.03.28.10.05.10;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2014.03.28.09.17.37;	author jasper;	state Exp;
branches;
next	1.109;

1.109
date	2014.03.27.09.09.39;	author jasper;	state Exp;
branches;
next	1.108;

1.108
date	2014.03.27.09.08.53;	author jasper;	state Exp;
branches;
next	1.107;

1.107
date	2014.03.09.21.50.10;	author ajacoutot;	state Exp;
branches;
next	1.106;

1.106
date	2013.10.06.09.08.51;	author ajacoutot;	state Exp;
branches;
next	1.105;

1.105
date	2013.09.28.08.50.38;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2013.09.27.16.31.28;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2013.09.26.15.59.42;	author jasper;	state Exp;
branches;
next	1.102;

1.102
date	2013.09.24.18.53.28;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2013.05.31.15.34.56;	author ajacoutot;	state Exp;
branches;
next	1.100;

1.100
date	2013.05.31.14.46.01;	author jasper;	state Exp;
branches;
next	1.99;

1.99
date	2013.05.31.14.43.20;	author jasper;	state Exp;
branches;
next	1.98;

1.98
date	2013.04.18.14.30.22;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2013.04.17.09.56.54;	author jasper;	state Exp;
branches;
next	1.96;

1.96
date	2013.04.15.07.53.27;	author jasper;	state Exp;
branches;
next	1.95;

1.95
date	2013.04.13.12.08.32;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2013.04.13.10.06.08;	author jasper;	state Exp;
branches;
next	1.93;

1.93
date	2013.04.13.09.33.29;	author ajacoutot;	state Exp;
branches;
next	1.92;

1.92
date	2013.04.13.09.27.34;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2013.04.03.06.57.56;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2013.03.31.21.28.58;	author sthen;	state Exp;
branches;
next	1.89;

1.89
date	2013.03.29.15.29.28;	author jasper;	state Exp;
branches;
next	1.88;

1.88
date	2013.03.11.11.44.41;	author espie;	state Exp;
branches;
next	1.87;

1.87
date	2013.01.05.12.56.59;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2012.12.23.14.59.25;	author sthen;	state Exp;
branches;
next	1.85;

1.85
date	2012.10.03.06.36.23;	author ajacoutot;	state Exp;
branches;
next	1.84;

1.84
date	2012.09.28.14.50.13;	author jasper;	state Exp;
branches;
next	1.83;

1.83
date	2012.09.28.10.32.07;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2012.09.07.06.00.27;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2012.09.01.14.36.58;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2012.08.14.08.10.53;	author jasper;	state Exp;
branches;
next	1.79;

1.79
date	2012.05.22.21.22.35;	author jasper;	state Exp;
branches;
next	1.78;

1.78
date	2012.04.18.15.39.30;	author jasper;	state Exp;
branches;
next	1.77;

1.77
date	2012.04.07.13.31.29;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2012.04.03.15.40.29;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2011.12.03.23.20.53;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2011.10.18.16.09.52;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2011.10.18.14.26.19;	author jasper;	state Exp;
branches;
next	1.72;

1.72
date	2011.10.17.16.56.27;	author jasper;	state Exp;
branches;
next	1.71;

1.71
date	2011.10.13.06.56.30;	author jasper;	state Exp;
branches;
next	1.70;

1.70
date	2011.09.28.09.51.36;	author jasper;	state Exp;
branches;
next	1.69;

1.69
date	2011.09.20.21.04.25;	author jasper;	state Exp;
branches;
next	1.68;

1.68
date	2011.09.20.20.51.52;	author jasper;	state Exp;
branches;
next	1.67;

1.67
date	2011.09.19.07.39.06;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2011.09.16.12.00.06;	author espie;	state Exp;
branches;
next	1.65;

1.65
date	2011.09.12.12.07.26;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2011.09.12.07.26.19;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2011.05.16.08.24.31;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2011.05.11.06.02.15;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2011.04.21.07.06.43;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2011.04.07.19.41.32;	author jasper;	state Exp;
branches;
next	1.59;

1.59
date	2011.04.05.16.37.59;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2010.12.11.06.33.58;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2010.11.22.08.36.48;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2010.11.11.12.35.09;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2010.10.19.08.02.53;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2010.10.18.13.41.15;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2010.10.11.08.19.03;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2010.09.15.19.16.57;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2010.09.05.16.54.36;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2010.08.31.05.59.16;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2010.08.22.07.48.07;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2010.05.07.13.17.04;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2010.04.23.10.41.40;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2010.04.22.20.49.26;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2010.04.20.18.51.10;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2009.12.22.13.02.11;	author sthen;	state Exp;
branches;
next	1.43;

1.43
date	2009.12.16.11.47.11;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2009.10.13.09.57.41;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2009.08.10.06.34.56;	author kili;	state Exp;
branches;
next	1.40;

1.40
date	2009.07.27.21.44.14;	author martynas;	state Exp;
branches;
next	1.39;

1.39
date	2009.07.12.20.34.03;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2009.06.22.10.43.58;	author sthen;	state Exp;
branches;
next	1.37;

1.37
date	2009.06.11.18.27.02;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2009.06.08.16.58.16;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2009.06.07.06.44.42;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2009.04.26.11.01.05;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2009.04.06.10.09.06;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2009.03.16.10.44.43;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2009.03.14.11.36.25;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2009.03.14.10.40.52;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2009.02.15.17.33.52;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2009.01.22.19.06.27;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.01.12.20.13.17;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2009.01.06.09.52.49;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2008.12.17.18.43.30;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2008.11.19.14.12.41;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2008.10.28.14.09.16;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2008.06.02.14.10.07;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2008.05.26.08.32.57;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2008.01.23.16.38.00;	author martynas;	state Exp;
branches;
next	1.19;

1.19
date	2007.12.19.07.31.15;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2007.12.15.21.14.22;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2007.09.15.20.38.21;	author merdely;	state Exp;
branches;
next	1.16;

1.16
date	2007.08.08.17.30.10;	author martynas;	state Exp;
branches;
next	1.15;

1.15
date	2007.06.04.18.35.36;	author martynas;	state Exp;
branches;
next	1.14;

1.14
date	2007.05.17.17.48.53;	author martynas;	state Exp;
branches;
next	1.13;

1.13
date	2007.05.15.14.01.19;	author martynas;	state Exp;
branches;
next	1.12;

1.12
date	2007.04.07.14.54.12;	author steven;	state Exp;
branches;
next	1.11;

1.11
date	2006.12.16.12.22.35;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2006.11.17.19.35.07;	author kurt;	state Exp;
branches;
next	1.9;

1.9
date	2006.11.13.12.53.08;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2006.09.18.12.00.00;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.06.13.13.34.56;	author bernd;	state Exp;
branches;
next	1.6;

1.6
date	2006.01.19.13.13.08;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2005.11.16.09.37.00;	author wilfried;	state Exp;
branches;
next	1.4;

1.4
date	2005.09.22.17.04.43;	author kurt;	state Exp;
branches;
next	1.3;

1.3
date	2005.03.16.02.02.56;	author kurt;	state Exp;
branches;
next	1.2;

1.2
date	2005.01.18.08.11.38;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2005.01.16.14.30.04;	author wilfried;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.01.16.14.30.04;	author wilfried;	state Exp;
branches;
next	;

1.140.2.1
date	2017.02.07.18.21.35;	author jasper;	state Exp;
branches;
next	;
commitid	Izudxb892BoBkCjj;


desc
@@


1.160
log
@sync GNOMEish WANTLIBs
@
text
@# $OpenBSD: Makefile,v 1.159 2017/09/04 18:10:19 jasper Exp $

COMMENT=	GNOME web browser based on webkit

GNOME_PROJECT=	epiphany
GNOME_VERSION=	3.24.4
MAJOR_V=	${GNOME_VERSION:R}
SUBST_VARS=	MAJOR_V
REVISION=	0

CATEGORIES=	www

MAINTAINER=	Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
		Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += EGL GL ICE SM X11 X11-xcb Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm atk-1.0
WANTLIB += atk-bridge-2.0 atspi c cairo cairo-gobject dbus-1 drm enchant
WANTLIB += epoxy $(LIBECXX) execinfo expat ffi fontconfig freetype
WANTLIB += gbm gck-1 gcr-base-3 gcr-ui-3 gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glapi glib-2.0 gmodule-2.0 gnome-desktop-3
WANTLIB += gobject-2.0 gpg-error graphite2 gstapp-1.0 gstaudio-1.0
WANTLIB += gstbase-1.0 gstfft-1.0 gstpbutils-1.0 gstreamer-1.0
WANTLIB += gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 harfbuzz
WANTLIB += harfbuzz-icu hyphen iconv icudata icui18n icuuc intl
WANTLIB += javascriptcoregtk-4.0 jpeg lzma m notify orc-0.4 p11-kit
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs secret-1 soup-2.4 sqlite3
WANTLIB += webkit2gtk-4.0 webp xcb xcb-dri2 xcb-glx xcb-render
WANTLIB += xcb-shm xcb-xfixes xml2 xslt z json-glib-1.0
WANTLIB += GLESv2 gstallocators-1.0 gstbadallocators-1.0 gstgl-1.0
WANTLIB += tasn1

BUILD_DEPENDS=	devel/iso-codes \
		devel/gsettings-desktop-schemas

RUN_DEPENDS=	devel/iso-codes \
		devel/gsettings-desktop-schemas

LIB_DEPENDS=	devel/libexecinfo \
		devel/libnotify \
		multimedia/gstreamer1/plugins-base \
		www/webkitgtk4 \
		x11/gnome/desktop \
		x11/gnome/gcr

# webkit browsing
RUN_DEPENDS +=	multimedia/gstreamer1/plugins-libav

MODULES=	devel/dconf \
		x11/gnome

COMPILER =	gcc
COMPILER_LANGS =	c

MODGNOME_TOOLS=	desktop-file-utils gtk-update-icon-cache yelp

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--disable-nss \
		--with-distributor-name="OpenBSD ports"

# error: 'for' loop initial declarations are only allowed in C99 or C11 mode
MODGNOME_CPPFLAGS=	-I${X11BASE}/include -std=c99

TEST_DEPENDS=		${BASE_PKGPATH}
TEST_IS_INTERACTIVE=	x11
PORTHOME=		${WRKDIR}

post-install:
	rm ${PREFIX}/lib/epiphany/web-extensions/*.{a,la}

.include <bsd.port.mk>
@


1.159
log
@update to epiphany-3.24.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2017/07/26 22:45:31 sthen Exp $
d9 1
d34 2
@


1.158
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.157 2017/07/24 18:26:51 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.24.3
a8 1
REVISION=	0
@


1.157
log
@update to epiphany-3.24.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.156 2017/05/31 08:08:17 espie Exp $
d9 1
@


1.156
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2017/05/28 12:13:06 espie Exp $
d6 1
a6 1
GNOME_VERSION=	3.24.2
d20 1
a20 2
WANTLIB += atk-bridge-2.0 atspi avahi-client avahi-common avahi-glib
WANTLIB += avahi-gobject c cairo cairo-gobject dbus-1 drm enchant
d32 1
a32 1
WANTLIB += xcb-shm xcb-xfixes xml2 xslt z
a42 1
		net/avahi \
@


1.155
log
@unbreak
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2017/05/27 05:07:48 espie Exp $
d55 2
a56 2
WANT_CXX =	base gcc
MODGCC4_LANGS =	c
@


1.154
log
@WANT_CXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2017/05/13 15:47:52 espie Exp $
d53 1
a53 2
		x11/gnome \
		gcc4
@


1.153
log
@same LIBECXX as used by webkitgtk4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2017/05/10 19:21:04 jasper Exp $
d56 2
a57 1
MODGCC4_ARCHS=*
@


1.152
log
@update to epiphany-3.24.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2017/04/17 10:57:08 jasper Exp $
d22 1
a22 1
WANTLIB += epoxy estdc++ execinfo expat ffi fontconfig freetype
@


1.151
log
@update to epiphany-3.24.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.150 2017/03/29 13:27:12 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	3.24.1
@


1.150
log
@Sync WANTLIB after recent www/webkitgtk4 update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.149 2017/03/20 18:32:52 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.22.7
a8 1
REVISION=	0
d58 1
a58 1
MODGNOME_TOOLS=	desktop-file-utils yelp
d64 2
a65 1
MODGNOME_CPPFLAGS=	-I${X11BASE}/include
d72 1
a72 1
	rm ${PREFIX}/lib/epiphany/${MAJOR_V}/web-extensions/*.{a,la}
@


1.149
log
@update to epiphany-3.22.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.148 2017/02/18 17:33:51 ajacoutot Exp $
d9 1
d19 7
a25 7
WANTLIB += EGL GL ICE SM X11 X11-xcb Xcomposite Xcursor
WANTLIB += Xdamage Xext Xfixes Xi Xinerama Xrandr Xrender
WANTLIB += Xt Xxf86vm atk-1.0 atk-bridge-2.0 atspi avahi-client
WANTLIB += avahi-common avahi-glib avahi-gobject c cairo cairo-gobject
WANTLIB += dbus-1 drm enchant estdc++ execinfo expat ffi fontconfig
WANTLIB += freetype gbm gck-1 gcr-base-3 gcr-ui-3 gcrypt gdk-3
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glapi glib-2.0 gmodule-2.0 gnome-desktop-3
d29 4
a32 4
WANTLIB += harfbuzz-icu icudata icui18n icuuc javascriptcoregtk-4.0
WANTLIB += jpeg lzma m notify orc-0.4 p11-kit pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += secret-1 soup-2.4 sqlite3 stdc++
d34 1
a34 2
WANTLIB += xcb-shm xcb-xfixes xml2 xslt z tasn1
WANTLIB += epoxy hyphen intl iconv gmp gnutls hogweed idn2 nettle
@


1.148
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2017/02/18 17:32:37 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	3.22.6
a8 1
REVISION=	0
@


1.147
log
@idn -> idn2 after gnutls WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2017/02/06 17:57:29 jasper Exp $
d9 1
@


1.146
log
@- update to epiphany-3.22.6

Fixes 'password extraction sweep attack on password manager'
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2017/01/21 13:08:22 jasper Exp $
d34 1
a34 1
WANTLIB += epoxy hyphen intl iconv gmp gnutls hogweed idn nettle
@


1.145
log
@update to epiphany-3.22.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2016/12/30 18:16:26 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.22.5
@


1.144
log
@update to epiphany-3.22.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2016/11/22 19:21:48 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.22.4
@


1.143
log
@update to epiphany-3.22.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2016/11/07 19:46:23 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.22.3
@


1.142
log
@update to epiphany-3.22.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2016/10/31 10:23:19 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.22.2
@


1.141
log
@update to epiphany-3.22.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2016/06/27 11:17:27 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.22.1
@


1.140
log
@update to epiphany-3.20.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2016/05/09 17:37:22 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.20.3
d18 1
a18 1
WANTLIB += EGL GL ICE SM X11 X11-xcb XRes Xcomposite Xcursor
d31 4
a34 4
WANTLIB += secret-1 soup-2.4 sqlite3 startup-notification-1 stdc++
WANTLIB += webkit2gtk-4.0 webp wnck-3 xcb xcb-dri2 xcb-glx xcb-render
WANTLIB += xcb-shape xcb-shm xcb-util xcb-xfixes xml2 xslt z
WANTLIB += epoxy hyphen intl iconv
a43 2
		devel/libwnck3 \
		devel/startup-notification \
@


1.140.2.1
log
@- update to epiphany-3.20.7

Fixes password extraction sweep attack on password manager
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2016/06/27 11:17:27 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.20.7
@


1.139
log
@update to epiphany-3.20.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2016/04/26 07:39:17 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.20.2
@


1.138
log
@update to epiphany-3.20.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2016/04/25 14:18:19 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.20.1
@


1.137
log
@update to epiphany-3.20.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2016/04/11 08:05:45 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.20.0
@


1.136
log
@update to epiphany-3.18.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2016/03/18 23:12:19 naddy Exp $
d6 1
a6 1
GNOME_VERSION=	3.18.6
d34 1
a34 1
WANTLIB += epoxy hyphen
d56 4
a59 2
		devel/gettext \
		x11/gnome
@


1.135
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2016/03/15 10:11:25 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.18.5
@


1.134
log
@update to epiphany-3.18.5
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.133 2016/02/25 07:44:01 jasper Exp $

SHARED_ONLY=	Yes
@


1.133
log
@update to epiphany-3.18.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2016/01/08 12:44:54 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.18.4
@


1.132
log
@update to epiphany-3.18.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2015/12/11 12:27:31 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.18.3
@


1.131
log
@update to epiphany-3.18.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2015/11/24 10:36:10 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.18.2
@


1.130
log
@update to epiphany-3.18.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2015/10/24 14:07:56 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.18.1
d20 2
a21 2
WANTLIB += EGL GL ICE SM X11 X11-xcb XRes Xau Xcomposite Xcursor
WANTLIB += Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender
@


1.129
log
@update to epiphany-3.18.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2015/07/09 21:36:05 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.18.0
@


1.128
log
@update to epiphany-3.16.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2015/06/24 07:26:05 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.16.3
d36 1
a36 1
WANTLIB += epoxy gmp gnutls hogweed nettle tasn1
@


1.127
log
@update to epiphany-3.16.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2015/05/12 13:31:42 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.16.2
@


1.126
log
@update to epiphany-3.16.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2015/04/15 09:40:52 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.16.1
@


1.125
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2015/04/04 09:21:04 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.16.0
a10 1
REVISION=	1
@


1.124
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2015/04/03 11:24:55 jasper Exp $
d11 1
a11 1
REVISION=	0
@


1.123
log
@update to epiphany-3.16.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2014/11/25 04:54:51 ajacoutot Exp $
d11 1
@


1.122
log
@Fix gstreamer dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2014/11/16 13:57:47 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.14.2
a10 1
REVISION=	0
d36 1
@


1.121
log
@update to epiphany-3.14.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2014/10/16 07:23:11 jasper Exp $
d10 2
d29 4
a32 4
WANTLIB += gstbase-1.0 gstfft-1.0 gstpbutils-1.0
WANTLIB += gstreamer-1.0 gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3
WANTLIB += harfbuzz harfbuzz-icu icudata icui18n icuuc javascriptcoregtk-4.0
WANTLIB += jpeg m notify orc-0.4 p11-kit pango-1.0 pangocairo-1.0
d36 1
a36 1
WANTLIB += xcb-shape xcb-shm xcb-util xcb-xfixes xml2 xslt z lzma
d48 1
a48 1
		multimedia/gstreamer1/plugins-bad \
d61 1
a61 1
MODGNOME_TOOLS += desktop-file-utils yelp
a71 2

SUBST_VARS+=		MAJOR_V
@


1.120
log
@update to epiphany-3.14.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2014/10/15 21:22:39 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.14.1
d27 1
a27 1
WANTLIB += gstbase-1.0 gstfft-1.0 gstmpegts-1.0 gstpbutils-1.0
d34 1
a34 1
WANTLIB += xcb-shape xcb-shm xcb-util xcb-xfixes xml2 xslt z
@


1.119
log
@- use a variable for the major version and add it to SUBST_VARS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2014/10/13 09:41:22 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.12.1
REVISION=	0
d19 16
a34 15
WANTLIB += EGL GL ICE SM X11 X11-xcb XRes Xcomposite Xcursor Xdamage
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt atk-1.0 atk-bridge-2.0
WANTLIB += atspi avahi-client avahi-common avahi-glib avahi-gobject
WANTLIB += c cairo cairo-gobject dbus-1 dbus-glib-1 enchant execinfo
WANTLIB += expat ffi fontconfig freetype gbm gck-1 gcr-base-3
WANTLIB += gcr-ui-3 gcrypt gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-desktop-3 gobject-2.0 gpg-error
WANTLIB += graphite2 gstapp-1.0 gstaudio-1.0 gstbase-1.0 gstfft-1.0
WANTLIB += gstpbutils-1.0 gstreamer-1.0 gsttag-1.0 gstvideo-1.0
WANTLIB += gthread-2.0 gtk-3 harfbuzz harfbuzz-icu icudata icui18n
WANTLIB += icuuc javascriptcoregtk-3.0 jpeg m notify orc-0.4 p11-kit
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs secret-1 soup-2.4 sqlite3
WANTLIB += startup-notification-1 stdc++ webkit2gtk-3.0 webp wnck-3
WANTLIB += xcb xcb-render xcb-shm xcb-util xml2 xslt z
d46 1
d48 1
a48 2
		textproc/libxslt \
		www/webkit,gtk3 \
@


1.118
log
@Regen WANTLIB; libgcr-3 is not used anymore and will go shortly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2014/05/12 14:12:28 jasper Exp $
d10 1
d42 1
a42 2
LIB_DEPENDS=	textproc/libxslt \
		devel/libexecinfo \
d47 1
d71 2
d74 1
a74 1
	rm ${PREFIX}/lib/epiphany/3.12/web-extensions/*.{a,la}
@


1.117
log
@update to epiphany-3.12.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2014/04/14 19:50:09 matthieu Exp $
d9 1
d19 15
a33 16
WANTLIB += GL ICE SM X11 X11-xcb XRes Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xt atk-1.0
WANTLIB += atk-bridge-2.0 atspi avahi-client avahi-common avahi-glib
WANTLIB += avahi-gobject c cairo cairo-gobject dbus-1 dbus-glib-1
WANTLIB += enchant execinfo expat ffi fontconfig freetype
WANTLIB += gck-1 gcr-3 gcr-base-3 gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += geoclue gio-2.0 glib-2.0 gmodule-2.0 gnome-desktop-3
WANTLIB += gobject-2.0 gpg-error graphite2 gstapp-1.0 gstaudio-1.0
WANTLIB += gstbase-1.0 gstfft-1.0 gstpbutils-1.0 gstreamer-1.0
WANTLIB += gsttag-1.0 gstvideo-1.0 gthread-2.0 gtk-3 harfbuzz
WANTLIB += icui18n javascriptcoregtk-3.0 jpeg orc-0.4 EGL harfbuzz-icu
WANTLIB += m notify p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs secret-1 soup-2.4
WANTLIB += sqlite3 startup-notification-1 stdc++ webkit2gtk-3.0
WANTLIB += webp wnck-3 xcb xcb-util xcb-render xcb-shm
WANTLIB += xml2 xslt z icudata icuuc
@


1.116
log
@Update WANTLIB for xcb libs update. Tested by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2014/04/02 09:36:12 jasper Exp $
d8 1
a8 2
GNOME_VERSION=	3.12.0
REVISION=	3
@


1.115
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2014/04/01 18:06:30 jasper Exp $
d9 1
a9 1
REVISION=	2
d33 1
a33 1
WANTLIB += webp wnck-3 xcb xcb-aux xcb-render xcb-shm
@


1.114
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2014/04/01 17:03:14 jasper Exp $
d59 1
a59 1
MODGNOME_TOOLS += yelp desktop-file-utils
@


1.113
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2014/04/01 13:21:14 ajacoutot Exp $
d59 1
a59 2
MODGNOME_TOOLS=		yelp
MODGNOME_TOOLS +=	desktop-file-utils
@


1.112
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 1/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2014/03/28 10:05:10 ajacoutot Exp $
d60 1
a60 1
MODGNOME_DESKTOP_FILE=	Yes
@


1.111
log
@Drop libtool la file.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2014/03/28 09:17:37 jasper Exp $
d9 1
a9 1
REVISION=	1
a58 2
LIBTOOL_FLAGS=	--tag=disable-static

d63 1
a63 2
CONFIGURE_ARGS=	--disable-static \
		--disable-nss \
d73 1
a73 1
	rm ${PREFIX}/lib/epiphany/3.12/web-extensions/*.la
@


1.110
log
@fix MODGNOME_TOOLS line, it's 'yelp', not 'yes'
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2014/03/27 09:09:39 jasper Exp $
d9 1
a9 1
REVISION=	0
d33 1
a33 1
WANTLIB += webp wnck-3 xcb xcb-aux xcb-render xcb-shm xkbfile
d74 3
@


1.109
log
@drop unused COMMENT that escaped from previous commit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2014/03/09 21:50:10 ajacoutot Exp $
d9 1
d61 1
a61 1
MODGNOME_TOOLS=		Yes
@


1.108
log
@update to epiphany-3.12.0 and no longer mark it BROKEN, webkit2 works well
enough (not perfect, there are still some issues).
@
text
@a2 3
# add to meta/gnome,-extra when un-BROKEN
#BROKEN=		needs fuctionnal webkit2

@


1.107
log
@Drop uneeded patches now that the underlying issue has been fixed usptream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2013/10/06 09:08:51 ajacoutot Exp $
d4 1
a4 1
BROKEN=		needs fuctionnal webkit2
d11 1
a11 2
GNOME_VERSION=	3.8.2
REVISION=	4
d25 1
a25 1
WANTLIB += enchant execinfo expat ffi fontconfig freetype gailutil-3
d31 1
a31 1
WANTLIB += icui18n javascriptcoregtk-3.0 jpeg orc-0.4
d34 1
a34 1
WANTLIB += sqlite3 startup-notification-1 stdc++ webkitgtk-3.0
d36 1
a36 1
WANTLIB += xml2 xslt z
d63 1
d75 1
a75 1
PORTHOME=		/tmp
@


1.106
log
@Regen WANTLIB after orc got put back into gstreamer1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2013/09/28 08:50:38 ajacoutot Exp $
d4 1
a4 1
BROKEN=		needs webkit2
d12 1
a12 5
REVISION=	3

# NOTE: when M changes, increment M accordingly
M=		${GNOME_VERSION:C/^([0-9]+\.[0-9]+).*/\1/}
SUBST_VARS=	M
a14 1
USE_GROFF =	Yes
d51 1
a51 1
		www/webkit,gtk3>=2.0.0 \
d74 1
a74 1
TEST_IS_INTERACTIVE=	X11
@


1.105
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2013/09/27 16:31:28 ajacoutot Exp $
d12 1
a12 1
REVISION=	2
d37 1
a37 1
WANTLIB += icui18n javascriptcoregtk-3.0 jpeg
@


1.104
log
@Small comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2013/09/26 15:59:42 jasper Exp $
d12 1
a12 1
REVISION=	1
a19 2

HOMEPAGE=	http://projects.gnome.org/epiphany/
@


1.103
log
@mark epiphany broken as the hobbits didn't get an epiphany in trying to
work around the webkit2 dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2013/09/24 18:53:28 ajacoutot Exp $
d3 1
@


1.102
log
@Fix WANTLIB after recent gstreamer1 update.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.101 2013/05/31 15:34:56 ajacoutot Exp $
@


1.101
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2013/05/31 14:46:01 jasper Exp $
d9 1
a9 1
REVISION=	0
d37 1
a37 1
WANTLIB += m notify orc-0.4 p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0
@


1.100
log
@allow regress tests to run
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2013/05/31 14:43:20 jasper Exp $
d9 1
d36 1
a36 1
WANTLIB += icudata icui18n icule icuuc javascriptcoregtk-3.0 jpeg
@


1.99
log
@update to epiphany-3.8.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2013/04/18 14:30:22 ajacoutot Exp $
d76 1
d78 1
@


1.98
log
@Missing LIB_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2013/04/17 09:56:54 jasper Exp $
d8 1
a8 2
GNOME_VERSION=	3.8.1
REVISION=	0
d75 2
@


1.97
log
@update to epiphany-3.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2013/04/15 07:53:27 jasper Exp $
d9 1
d54 1
@


1.96
log
@plug a memleak and reduce some console spam; from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2013/04/13 12:08:32 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.8.0
REVISION=	1
@


1.95
log
@Regen PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2013/04/13 10:06:08 jasper Exp $
d9 1
a9 1
REVISION=	0
@


1.94
log
@- update to epiphany-3.8.0 now that we have webkit 2.0.0!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/04/03 06:57:56 ajacoutot Exp $
d9 1
d65 1
a65 1
LIBTOOL_FLAGS=		--tag=disable-static
@


1.93
log
@I forgot that with gstreamer1, sndio(7) support is directly integrated in
plugins-base which webkit already provides; so no need for plugins-good
dependency anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2013/04/13 09:27:34 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.4.3
REVISION=	9
d25 16
a40 14
WANTLIB += GL ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xt atk-1.0 atk-bridge-2.0
WANTLIB += atspi avahi-client avahi-common avahi-glib avahi-gobject
WANTLIB += c cairo cairo-gobject dbus-1 dbus-glib-1 enchant execinfo
WANTLIB += expat ffi fontconfig freetype gailutil-3 gcrypt gdk-3
WANTLIB += gdk_pixbuf-2.0 geoclue gio-2.0 girepository-1.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gpg-error graphite2 gstapp-0.10
WANTLIB += gstaudio-0.10 gstbase-0.10 gstfft-0.10 gstinterfaces-0.10
WANTLIB += gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10 gthread-2.0
WANTLIB += gtk-3 harfbuzz icudata icui18n icule icuuc javascriptcoregtk-3.0
WANTLIB += jpeg m notify orc-0.4 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 stdc++ webkitgtk-3.0 xcb xcb-render xcb-shm
WANTLIB += xml2 xslt z gnome-keyring
a48 1
		devel/gobject-introspection \
d51 5
a55 3
		devel/libsoup,-gnome \
		www/webkit,gtk3 \
		x11/gnome/libgnome-keyring
a66 1
MODGNOME_TOOLS=		goi yelp
@


1.92
log
@Webkit uses gstreamer1 now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/04/03 06:57:56 ajacoutot Exp $
d9 1
a9 1
REVISION=	8
d56 1
a56 2
RUN_DEPENDS +=	multimedia/gstreamer1/plugins-libav \
		multimedia/gstreamer1/plugins-good
@


1.91
log
@Do not build_depends on devel/desktop-file-utils.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/03/31 21:28:58 sthen Exp $
d9 1
a9 1
REVISION=	7
d56 2
a57 2
RUN_DEPENDS +=	multimedia/gstreamer-0.10/plugins-ffmpeg \
		multimedia/gstreamer-0.10/plugins-good
@


1.90
log
@sync wantlib/lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/03/29 15:29:28 jasper Exp $
d41 3
a43 1
BUILD_DEPENDS=	${RUN_DEPENDS}
d46 1
@


1.89
log
@- remove mentions of epiphany-extensions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/03/11 11:44:41 espie Exp $
d9 1
a9 1
REVISION=	6
d26 10
a35 10
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt Xxf86vm atk-1.0
WANTLIB += avahi-client avahi-common avahi-glib avahi-gobject
WANTLIB += c cairo cairo-gobject dbus-1 dbus-glib-1 drm enchant
WANTLIB += execinfo expat ffi fontconfig freetype gailutil-3 gcrypt
WANTLIB += gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-keyring gobject-2.0 gpg-error
WANTLIB += gstapp-0.10 gstaudio-0.10 gstbase-0.10 gstfft-0.10
WANTLIB += gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10
WANTLIB += gthread-2.0 gtk-3 icudata icui18n icuuc javascriptcoregtk-3.0
d37 3
a39 4
WANTLIB += pcre pixman-1 png pthread pthread-stubs soup-2.4
WANTLIB += soup-gnome-2.4 sqlite3 stdc++ webkitgtk-3.0 xcb xcb-render
WANTLIB += atk-bridge-2.0 atspi harfbuzz icule
WANTLIB += xcb-shm xml2 xslt z girepository-1.0
d49 2
a50 1
		www/webkit,gtk3
@


1.88
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2013/01/05 12:56:59 ajacoutot Exp $
a6 5
# PLIST regen is needed for at least the following ports when
# the epiphany extensions directory changes:
# (i.e. ${LOCALBASE}/lib/epiphany/${M}/extensions)
# www/epiphany-extensions

d11 1
a11 2
# NOTE: when M changes, increment M accordingly and bump:
# www/epiphany-extensions
@


1.87
log
@Loosen up dependency on net/avahi.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2012/12/23 14:59:25 sthen Exp $
a30 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.86
log
@sync WANTLIB/LIB_DEPENDS (gobject-introspection, checked with jasper@@ that
nothing special is needed as it uses MODGNOME_TOOLS=goi)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2012/10/03 06:36:23 ajacoutot Exp $
d14 1
a14 1
REVISION=	5
a58 1
		net/avahi \
@


1.85
log
@Explicitely add dependencies on multimedia/gstreamer-0.10/plugins-ffmpeg and
multimedia/gstreamer-0.10/plugins-good now that webkit lost these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2012/09/28 14:50:13 jasper Exp $
d14 1
a14 1
REVISION=	4
d49 1
a49 1
WANTLIB += xcb-shm xml2 xslt z
d55 1
@


1.84
log
@- drop support for seed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2012/09/28 10:32:07 ajacoutot Exp $
d14 1
a14 1
REVISION=	3
d60 4
@


1.83
log
@Sync WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2012/09/07 06:00:27 ajacoutot Exp $
d14 1
a14 1
REVISION=	2
d40 1
a40 1
WANTLIB += gdk-3 gdk_pixbuf-2.0 geoclue gio-2.0 girepository-1.0
d46 1
a46 1
WANTLIB += pcre pixman-1 png pthread pthread-stubs seed-gtk3 soup-2.4
d59 1
a59 2
		www/webkit,gtk3 \
		x11/gnome/seed
a72 1
		--enable-seed \
@


1.82
log
@Missing LIB_DEPENDS; spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2012/09/01 14:36:58 ajacoutot Exp $
d14 1
a14 1
REVISION=	1
d48 1
@


1.81
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2012/08/14 08:10:53 jasper Exp $
d14 1
a14 1
REVISION=	0
d57 2
a58 1
		www/webkit,gtk3>=1.8.2v0 \
@


1.80
log
@- update to 3.4.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2012/05/22 21:22:35 jasper Exp $
d14 1
@


1.79
log
@- update to 3.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2012/04/18 15:39:30 jasper Exp $
d13 1
a13 1
GNOME_VERSION=	3.4.2
d56 1
@


1.78
log
@- update to 3.4.1
* bug fixes and translation updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2012/04/07 13:31:29 ajacoutot Exp $
d13 1
a13 1
GNOME_VERSION=	3.4.1
@


1.77
log
@Sync comments.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2012/04/03 15:40:29 ajacoutot Exp $
d13 1
a13 1
GNOME_VERSION=	3.4.0.1
@


1.76
log
@Update to epiphany-3.4.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2011/12/03 23:20:53 ajacoutot Exp $
d15 2
d19 1
@


1.75
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2011/10/18 16:09:52 ajacoutot Exp $
d13 1
a13 2
GNOME_VERSION=	3.2.1
REVISION=	2
d33 10
a42 8
WANTLIB += c cairo cairo-gobject dbus-1 drm enchant execinfo expat
WANTLIB += ffi fontconfig freetype gailutil-3 gcrypt gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 girepository-1.0 glib-2.0 gmodule-2.0 gnome-keyring
WANTLIB += gobject-2.0 gpg-error gstapp-0.10 gstbase-0.10 gstinterfaces-0.10
WANTLIB += gstpbutils-0.10 gstreamer-0.10 gstvideo-0.10 gthread-2.0
WANTLIB += gtk-3 icudata icui18n icuuc javascriptcoregtk-3.0 jpeg
WANTLIB += m notify pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png pthread pthread-stubs seed-gtk3 soup-2.4
d48 1
a48 2
		devel/gsettings-desktop-schemas \
		x11/gtk+2,-guic
d51 1
a51 1
		devel/libnotify>=0.7.2 \
d53 1
a53 1
		x11/gnome/seed>=3.2.0p0
d60 1
d62 1
a62 2
MODGNOME_ICON_CACHE=	Yes
MODGNOME_TOOLS= goi yelp
d66 1
a66 3
		--disable-zeroconf \
		--with-distributor-name="OpenBSD ports" \
		--with-ca-file=/etc/ssl/cert.pem \
d68 1
a68 1
		--disable-nss
a70 1
CONFIGURE_ENV=		HOME=/tmp
@


1.74
log
@Fix LIB_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2011/10/18 14:26:19 jasper Exp $
d14 1
a14 1
REVISION=	0
d47 2
a48 1
		devel/gsettings-desktop-schemas
d60 2
a61 1
MODGNOME_DESKTOP_FILE=		Yes
@


1.73
log
@- update to 3.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2011/10/17 16:56:27 jasper Exp $
d14 1
d40 2
a41 2
WANTLIB += kvm m notify pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs seed-gtk3 soup-2.4
a51 1
		devel/startup-notification \
@


1.72
log
@Remove non-functioning and confusing button untill the underlying issue
has been addressed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2011/10/13 06:56:30 jasper Exp $
d13 1
a13 2
GNOME_VERSION=	3.2.0
REVISION=	0
@


1.71
log
@- update to 3.2.0

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/09/28 09:51:36 jasper Exp $
d14 1
@


1.70
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2011/09/20 21:04:25 jasper Exp $
d13 1
a13 2
GNOME_VERSION=	3.0.4
REVISION=	0
d33 10
a42 11
WANTLIB += c cairo cairo-gobject dbus-1 dbus-glib-1 drm enchant
WANTLIB += execinfo expat ffi fontconfig freetype gailutil-3 gcrypt
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0 glib-2.0
WANTLIB += gmodule-2.0 gnome-keyring gobject-2.0 gpg-error gstapp-0.10
WANTLIB += gstbase-0.10 gstinterfaces-0.10 gstpbutils-0.10 gstreamer-0.10
WANTLIB += gstvideo-0.10 gthread-2.0 gtk-3 icudata icui18n icuuc
WANTLIB += jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs seed-gtk3 soup-2.4 soup-gnome-2.4
WANTLIB += sqlite3 startup-notification-1 stdc++ webkitgtk-3.0
WANTLIB += xcb xcb-atom xcb-aux xcb-event xcb-render xcb-shm xml2
WANTLIB += xslt z
d52 1
a52 1
		x11/gnome/seed
@


1.69
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2011/09/20 20:51:52 jasper Exp $
d72 2
a73 3
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		HOME=/tmp
@


1.68
log
@switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/09/19 07:39:06 ajacoutot Exp $
d65 1
a65 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-static \
@


1.67
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/09/16 12:00:06 espie Exp $
d62 1
a62 1
MODGNOME_HELP_FILES= 	Yes
a65 1
		--enable-introspection \
a66 1
		--disable-gtk-doc \
@


1.66
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/09/12 12:07:26 jasper Exp $
d61 1
a61 1
DESKTOP_FILES=		Yes
@


1.65
log
@switch the rest of the ports using gnome.port.mk over to .tar.xz where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/09/12 07:26:19 ajacoutot Exp $
d14 1
@


1.64
log
@Start the GNOME3 merge armageddon... breakage expected.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/07/05 16:45:40 jasper Exp $
a43 2

EXTRACT_SUFX=	.tar.xz
@


1.63
log
@Add the EPOCH to the webkit dependency.

spotted by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/05/11 06:02:15 ajacoutot Exp $
d9 1
a9 1
# (i.e. ${LOCALBASE}/lib/epiphany/${API_V}/extensions)
d13 1
a13 2
GNOME_VERSION=	2.30.6
REVISION=	5
d16 1
a16 2
API_V=		2.29
SUBST_VARS=	M API_V
d31 19
a49 20
WANTLIB += ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xt atk-1.0 c
WANTLIB += cairo dbus-1 dbus-glib-1 enchant expat fontconfig
WANTLIB += freetype gailutil gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-keyring gobject-2.0
WANTLIB += gpg-error gstapp-0.10 gstbase-0.10 gstpbutils-0.10 gstreamer-0.10
WANTLIB += gstvideo-0.10 gthread-2.0 gtk-x11-2.0 icudata icui18n
WANTLIB += icuuc jpeg m nspr4 nss3 pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 plc4 plds4 png pthread pthread-stubs
WANTLIB += smime3 softokn3 soup-2.4 sqlite3 ssl3 startup-notification-1
WANTLIB += stdc++ xcb xcb-atom xcb-aux xcb-event  xcb-render gstinterfaces-0.10
WANTLIB += xml2 z GL Xxf86vm drm nssutil3 xcb-shm ffi girepository-1.0
WANTLIB += xslt>=1 execinfo notify>=2 webkitgtk-1.0 soup-gnome-2.4>=1.1

BUILD_DEPENDS=	devel/gobject-introspection \
		${RUN_DEPENDS}
RUN_DEPENDS=	x11/gnome/icon-theme \
		x11/gnome/themes \
		devel/iso-codes \
		x11/gnome/py-gnome
d53 3
a55 2
		www/webkit>=1.4.0v0 \
		devel/libsoup,-gnome
d57 1
a57 1
MODULES=	devel/gconf2 \
a63 1
MODGCONF2_SCHEMAS_DIR=  epiphany
d72 3
a74 1
		--with-ca-file=/etc/ssl/cert.pem
@


1.62
log
@Fix after recent webkit update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2011/04/21 07:06:43 ajacoutot Exp $
d14 1
a14 1
REVISION=	4
d56 1
a56 1
		www/webkit>=1.4.0 \
@


1.61
log
@Fix build/run with new libnotify.

tested in a bulk by landry, thanks!
ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2011/04/07 19:41:32 jasper Exp $
d14 1
a14 1
REVISION=	3
d37 1
a37 1
WANTLIB += glib-2.0 gmodule-2.0 gnome-keyring gnutls gobject-2.0
d41 1
a41 1
WANTLIB += pcre pixman-1 plc4 plds4 png proxy pthread pthread-stubs
d43 3
a45 3
WANTLIB += stdc++ tasn1 xcb xcb-atom xcb-aux xcb-event  xcb-render
WANTLIB += xml2 z GL Xxf86vm drm nssutil3 util xcb-shm
WANTLIB += xslt>=1 execinfo notify>=2 webkit-1.0>=2.1 soup-gnome-2.4>=1.1
d56 1
a56 1
		www/webkit \
@


1.60
log
@Add introspection support (needed for on-going GNOME 3 work).

This is the last port currently in tree which needed this.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/04/05 16:37:59 ajacoutot Exp $
d14 1
a14 1
REVISION=	2
d55 1
a55 1
		devel/libnotify \
@


1.59
log
@--disable-scrollkeeper is not needed when rarian is in the dependency
chain (scrollkeer is a compatility wrapper that does nothing).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/12/11 06:33:58 ajacoutot Exp $
d14 1
a14 1
REVISION=	1
d47 2
a48 1
BUILD_DEPENDS=	${RUN_DEPENDS}
d70 1
a70 1
		--enable-introspection=no \
@


1.58
log
@Regen WANTLIB to unbreak installation.

prodded by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/11/22 08:36:48 espie Exp $
a70 1
		--disable-scrollkeeper \
@


1.57
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/11/11 12:35:09 sthen Exp $
d14 1
a14 1
REVISION=	0
d35 1
a35 1
WANTLIB += cairo dbus-1 dbus-glib-1 eggdbus-1 enchant expat fontconfig
d44 1
a44 1
WANTLIB += xcb-render-util xml2 z
@


1.56
log
@new-style LIB_DEPENDS/REVISION/WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/10/19 08:02:53 espie Exp $
d45 1
a45 1
WANTLIB += xslt.>=1 execinfo notify.>=2 webkit-1.0.>=2.1 soup-gnome-2.4.>=1.1
d48 9
a56 9
RUN_DEPENDS=	:gnome-icon-theme-*:x11/gnome/icon-theme \
		:gnome-themes-*:x11/gnome/themes \
		:iso-codes-*:devel/iso-codes \
		::x11/gnome/py-gnome
LIB_DEPENDS=	::textproc/libxslt \
		::devel/libexecinfo \
		::devel/libnotify \
		::www/webkit \
		::devel/libsoup,-gnome
@


1.55
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/10/18 13:41:15 jasper Exp $
d45 1
d52 5
a56 5
LIB_DEPENDS=	xslt.>=1::textproc/libxslt \
		execinfo::devel/libexecinfo \
		notify.>=2::devel/libnotify \
		webkit-1.0.>=2.1::www/webkit \
		soup-gnome-2.4.>=1.1::devel/libsoup,-gnome
@


1.54
log
@- use_x11 comes from gnome.port.mk now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/10/11 08:19:03 jasper Exp $
d20 1
@


1.53
log
@- fix WANTLIB after cairo update.

(please note chromium is still broken, but will be dealt with soon)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/09/15 19:16:57 ajacoutot Exp $
a59 1
USE_X11=		Yes
@


1.52
log
@Minor update to epiphany-2.30.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/09/05 16:54:36 ajacoutot Exp $
d14 1
d36 1
a36 1
WANTLIB += glib-2.0 glitz gmodule-2.0 gnome-keyring gnutls gobject-2.0
@


1.51
log
@Merge upstream commit 479f0a9a7ec095a8457e7d5b70695207e81f40c6 to fix
a loooong standing bug.

"pdm-dialog: do not crash when clearing the passwords from prefs dialog
The code (wrongly) assumed we could only be called from withing the
PDM dialog. Do some refactoring to make it more generic.
Bug #606933"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/08/31 05:59:16 ajacoutot Exp $
d13 1
a13 3
GNOME_VERSION=	2.30.5

REVISION=	0
@


1.50
log
@Maintainance update to epiphany-2.30.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/08/22 07:48:07 ajacoutot Exp $
d14 2
@


1.49
log
@Maintainance update to epiphany-2.30.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/05/07 13:17:04 ajacoutot Exp $
d13 1
a13 1
GNOME_VERSION=	2.30.3
@


1.48
log
@Update comment, no binary change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/04/23 10:41:40 ajacoutot Exp $
d13 1
a13 1
GNOME_VERSION=	2.30.2
@


1.47
log
@Fix CONFIGURE_ARGS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/04/22 20:49:26 jasper Exp $
d9 1
a9 1
# (i.e. ${LOCALBASE}/lib/epiphany/2.29/extensions)
a10 1
# x11/gnome/seahorse-plugins
@


1.46
log
@- update epiphany to 2.30.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/04/20 18:51:10 jasper Exp $
d68 1
a73 1
		--with-introspection=no \
@


1.45
log
@errr...based on mozilla? no way jose!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/12/22 13:02:11 sthen Exp $
d9 1
a9 1
# (i.e. ${LOCALBASE}/lib/epiphany/2.28/extensions)
d14 1
a14 2
GNOME_VERSION=	2.28.2
PKGNAME=	${DISTNAME}p1
d17 2
a18 1
SUBST_VARS=	M
d34 2
a35 2
WANTLIB += cairo dbus-1 dbus-glib-1 enchant expat fontconfig freetype
WANTLIB += gailutil gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
d37 1
a37 1
WANTLIB += gpg-error gstbase-0.10 gstpbutils-0.10 gstreamer-0.10
d42 2
a43 1
WANTLIB += stdc++ tasn1 xcb xcb-atom xcb-aux xcb-event xml2 z
d53 2
a54 2
		webkit-1.0::www/webkit \
		soup-gnome-2.4.>=1::devel/libsoup,-gnome
d71 4
a74 1
		--disable-zeroconf
@


1.44
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.
prodded by espie@@
discussed with espie@@ ajacoutot@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/12/16 11:47:11 ajacoutot Exp $
d5 1
a5 1
COMMENT=	GNOME web browser based on mozilla
d15 1
a15 1
PKGNAME=	${DISTNAME}p0
@


1.43
log
@Update to epiphany-2.28.2.
Regen wantlib while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2009/10/13 09:57:41 jasper Exp $
d15 1
@


1.42
log
@- update epiphany to 2.28.0
* this switches epiphany from xulrunner to webkit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/08/10 06:34:56 kili Exp $
d14 1
a14 1
GNOME_VERSION=	2.28.0
d36 3
a38 2
WANTLIB += gthread-2.0 gtk-x11-2.0 icudata icui18n icuuc jpeg
WANTLIB += m nspr4 nss3 pango-1.0 pangocairo-1.0 pangoft2-1.0
@


1.41
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2009/07/27 21:44:14 martynas Exp $
d9 1
a9 1
# (i.e. ${LOCALBASE}/lib/epiphany/2.24/extensions)
d14 1
a14 2
GNOME_VERSION=	2.24.3
PKGNAME=	${DISTNAME}p11
d31 12
a42 2
BUILD_DEPENDS=	${RUN_DEPENDS} \
		:xulrunner-devel->=1.8.1:devel/xulrunner/1.8,-devel
d47 1
a47 6
LIB_DEPENDS=	${MODPY_LIB_DEPENDS} \
		gnome-desktop-2::x11/gnome/desktop \
		gnomeui-2.>=1400::x11/gnome/libgnomeui \
		xulrunner/gtkembedmoz,xulrunner/mozjs,xulrunner/xpcom,xulrunner/xul:xulrunner->=1.8.1:devel/xulrunner/1.8 \
		xml2.>=6.12::textproc/libxml \
		xslt.>=1::textproc/libxslt \
d49 13
a61 28
		canberra,canberra-gtk::audio/libcanberra \
		notify.>=2::devel/libnotify

MODULES=	devel/gettext \
		lang/python \
		x11/gnome \
		devel/gconf2

WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite \
		Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender art_lgpl_2 atk-1.0 bonobo-2 \
		bonobo-activation bonoboui-2 c cairo crypto dbus-1 \
		dbus-glib-1 expat fontconfig freebl3 freetype \
		gailutil gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 \
		glade-2.0 glib-2.0 glitz gmodule-2.0 gnome-2 \
		gnome-keyring gnomecanvas-2 gnomevfs-2 gobject-2.0 \
		gthread-2.0 gtk-x11-2.0 ltdl m nspr4 nss3 nssckbi ogg \
		pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 \
		plc4 plds4 png popt pthread smime3 softokn3 ssl \
		ssl3 startup-notification-1 stdc++ util vorbis \
		vorbisfile z avahi-client avahi-common avahi-glib \
		pthread-stubs xcb

USE_X11=	Yes
LIBTOOL_FLAGS=	--tag=disable-static
DESKTOP_FILES=	Yes
MODGNOME_HELP_FILES= Yes
MODGCONF2_SCHEMAS_DIR= epiphany
a65 3
		--with-engine=mozilla \
		--with-gecko=xulrunner \
		--enable-python \
a68 2
# xulrunner needs to be compiled with spell-check support (enchant)
CONFIGURE_ARGS+= --disable-spell-checker
d70 2
a71 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/nss -I${LOCALBASE}/include -I${LOCALBASE}/xulrunner/include/pipnss/ -I${X11BASE}/include" \
		LDFLAGS="-Wl,-rpath-link,${LOCALBASE}/lib/ -Wl,-rpath-link,${X11BASE}/lib/ -L${LOCALBASE}/lib -lfreebl3 -lnss3 -lnssckbi -lsmime3 -lsoftokn3 -lssl3 -pthread -lexecinfo -L${LOCALBASE}/xulrunner" \
@


1.40
log
@adapt for the new xulrunner infrastructure.
no breakage in bulk build & bumps done by sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/07/12 20:34:03 ajacoutot Exp $
d15 1
a15 1
PKGNAME=	${DISTNAME}p10
d65 2
a66 1
		vorbisfile z avahi-client avahi-common avahi-glib
@


1.39
log
@- better homepage
- add reminder comment

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/06/22 10:43:58 sthen Exp $
d15 1
a15 1
PKGNAME=	${DISTNAME}p9
d33 1
a33 1
		:xulrunner-devel->=1.8.1:devel/xulrunner,-devel
d41 1
a41 1
		xulrunner/gtkembedmoz,xulrunner/mozjs,xulrunner/xpcom,xulrunner/xul:xulrunner->=1.8.1:devel/xulrunner \
@


1.38
log
@sync wantlib, bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/06/11 18:27:02 ajacoutot Exp $
d7 6
d15 1
a15 1
PKGNAME=	${DISTNAME}p8
d21 1
a21 1
HOMEPAGE=	http://www.gnome.org/projects/epiphany/
@


1.37
log
@Bump after recent gconf2 MODULE change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2009/06/08 16:58:16 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p7
d59 1
a59 1
		vorbisfile z
@


1.36
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/06/07 06:44:42 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p6
@


1.35
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/04/26 11:01:05 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p5
@


1.34
log
@CONFIGURE_ENV += PYTHON="${MODPY_BIN}" is inherited from the python module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/04/06 10:09:06 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p4
d44 2
a45 1
		x11/gnome
d52 1
a52 1
		gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 \
d65 1
a71 1
		--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/epiphany \
a72 1
		--disable-schemas-install \
@


1.33
log
@- cope with recent gnome.port.mk / MODGNOME_HELP_FILES changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/03/16 10:44:43 ajacoutot Exp $
d81 1
a81 2
		HOME=/tmp \
		PYTHON="${MODPY_BIN}"
@


1.32
log
@- fix mozilla plugins path
(not sure why we diverted from default but...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/03/14 11:36:25 ajacoutot Exp $
d27 1
a27 3
		::textproc/rarian \
		:xulrunner-devel->=1.8.1:devel/xulrunner,-devel \
		:gnome-doc-utils->=0.3.2:x11/gnome/doc-utils
@


1.31
log
@- nothing should have to run_depends on rarian anymore
- explicitely add build_depends on rarian where gnome-doc-utils is also a
build dependency as it does not itself run_depends on rarian anymore

This was the 2nd and hopefully last pass of rarian/scrollkeeper cleaning.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/03/14 10:40:52 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p3
@


1.30
log
@- first pass at cleaning rarian/scrollkeeper handling
remove rarian-sk-update from PLIST ; it is only a wrapper that does
noting: librarian takes care of everything now.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/02/15 17:33:52 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p2
d27 1
a32 1
		::textproc/rarian \
@


1.29
log
@- add the 2 hobbits as MAINTAINER

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/01/22 19:06:27 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p1
@


1.28
log
@- fix WANTLIB after esound removal from libgnome
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/01/12 20:13:17 jasper Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
d16 3
@


1.27
log
@- update epiphany to 2.24.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/01/06 09:52:49 ajacoutot Exp $
d9 1
d47 1
a47 1
		Xrender art_lgpl_2 atk-1.0 audiofile bonobo-2 \
d49 1
a49 1
		dbus-glib-1 esd expat fontconfig freebl3 freetype \
d55 1
a55 1
		plc4 plds4 png popt pthread smime3 sndio softokn3 ssl \
@


1.26
log
@- major update to epiphany-2.24.2.1
- use x11/gnome MODULE

thanks to jasper@@ for fixing a stupid bug where one couldn't save
untrusted certificates
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/12/17 18:43:30 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	2.24.2.1
@


1.25
log
@- switch to rarian instead of scrollkeeper
- regen PLIST

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/11/19 14:12:41 ajacoutot Exp $
a3 1
COMMENT=	extremely lightweight and simple web browser for GNOME
d5 7
a11 4
M=		2.18
V=		2.18.2
DISTNAME=	epiphany-${V}
PKGNAME=	${DISTNAME}p7
d22 4
a25 6
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/epiphany/$M/}

BUILD_DEPENDS=	:xulrunner-devel->=1.8.1:devel/xulrunner,-devel
BUILD_DEPENDS+=	${RUN_DEPENDS}
RUN_DEPENDS=	:gnome-doc-utils->=0.3.2:x11/gnome/doc-utils \
		:gnome-icon-theme-*:x11/gnome/icon-theme \
d29 3
a31 3
		:yelp-*:x11/gnome/yelp \
		:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS=	gnome-desktop-2::x11/gnome/desktop \
d36 21
a56 15
		execinfo::devel/libexecinfo

MODULES=	devel/gettext

WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcursor Xdmcp \
		Xext Xfixes Xi Xinerama Xrandr Xrender art_lgpl_2 atk-1.0 \
		audiofile bonobo-2 bonobo-activation bonoboui-2 c cairo \
		crypto dbus-1 dbus-glib-1 esd expat fontconfig freetype \
		gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0 glib-2.0 \
		glitz gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2 \
		gnomevfs-2 gobject-2.0 gthread-2.0 gtk-x11-2.0 \
		m nspr4 pango-1.0 pangocairo-1.0 pangoft2-1.0 plc4 \
		plds4 png popt pthread ssl startup-notification-1 util z \
		freebl3 nss3 nssckbi smime3 softokn3 ssl3 \
		Xcomposite Xdamage gailutil pcre gio-2.0 pixman-1
d59 3
a61 2
USE_GMAKE=	Yes
USE_LIBTOOL=	Yes
d64 4
a67 1
CONFIGURE_ARGS+=--with-gecko=xulrunner \
d69 1
a69 1
		--disable-python \
d71 7
a77 2
		--disable-scrollkeeper
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/nss -I${LOCALBASE}/include" \
d79 2
a80 6
		HOME=/tmp

SUBST_VARS+=	M

post-configure:
	rm -fr /tmp/.mozilla
@


1.24
log
@- add libexecinfo to lib_depends (no configure switch to disable it)
- while here: regen WANTLIB+PLIST and specify license marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/10/28 14:09:16 jasper Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p6
d28 1
a28 1
		:scrollkeeper-*:textproc/scrollkeeper \
@


1.23
log
@- it's GNOME, not Gnome2 or gnome or any other variation

discussed with and agreed by ajacoutot@@ some time ago
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/06/02 14:10:07 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p5
d14 1
a14 1
# GPL
d35 2
a36 1
		xslt.>=1::textproc/libxslt
d46 1
a46 1
		gnomevfs-2 gobject-2.0 gthread-2.0 gtk-x11-2.0 jpeg \
d50 1
a50 1
		Xcomposite Xdamage gailutil pcre
d63 1
a63 1
		LDFLAGS="-Wl,-rpath-link,${LOCALBASE}/lib/ -Wl,-rpath-link,${X11BASE}/lib/ -L${LOCALBASE}/lib -lfreebl3 -lnss3 -lnssckbi -lsmime3 -lsoftokn3 -lssl3 -pthread -L${LOCALBASE}/xulrunner" \
@


1.22
log
@- remove support for MODGNOME_DEVHELP_FILES from the gnome MODULE ;
it makes more sense to add devhelp as run_depends for gnome-session and
leave it to the user to install it manually for other packages

"if you're as happy as a pig in poop, commit it" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/05/26 08:32:57 ajacoutot Exp $
d4 1
a4 1
COMMENT=	extremely lightweight and simple web browser for gnome
d9 1
a9 1
PKGNAME=	${DISTNAME}p4
@


1.21
log
@- since devhelp files are provided, make it run_depends on devhelp so
that we can actually see them

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/01/23 16:38:00 martynas Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p3
d30 1
a30 2
		:desktop-file-utils-*:devel/desktop-file-utils \
		:devhelp-*:x11/gnome/devhelp
@


1.20
log
@make it use xulrunner-devel instead of firefox-devel.  improvements,
testing and ok kurt@@ and naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/12/19 07:31:15 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p2
d30 2
a31 1
		:desktop-file-utils-*:devel/desktop-file-utils
@


1.19
log
@- add/fix gconftool-2 goo

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/12/15 21:14:22 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p1
d22 1
a22 1
BUILD_DEPENDS=	:mozilla-firefox-devel->=2.0:www/mozilla-firefox,-devel
d33 1
a33 1
		mozilla-firefox/gtkembedmoz,mozilla-firefox/mozjs,mozilla-firefox/xpcom,mozilla-firefox/xpcom_core:mozilla-firefox->=2.0:www/mozilla-firefox \
d48 2
a49 1
		freebl3 nss3 nssckbi smime3 softokn3 ssl3
d56 1
a56 1
CONFIGURE_ARGS+=--with-gecko=firefox \
d62 1
a62 1
		LDFLAGS="-L${LOCALBASE}/lib -lfreebl3 -lnss3 -lnssckbi -lsmime3 -lsoftokn3 -lssl3 -pthread -L${LOCALBASE}/mozilla-firefox" \
@


1.18
log
@- add update-desktop-database goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/09/15 20:38:21 merdely Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
@


1.17
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/08/08 17:30:10 martynas Exp $
d9 1
d29 2
a30 1
		:yelp-*:x11/gnome/yelp
@


1.16
log
@- pass --disable-scrollkeeper to not run scrollkeeper during build;
- no PKGNAME bump;
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/06/04 18:35:36 martynas Exp $
d4 1
a4 1
COMMENT=	"extremely lightweight and simple web browser for gnome"
@


1.15
log
@- update to 2.18.2;
- disable python;
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/05/17 17:48:53 martynas Exp $
d56 2
a57 1
		--disable-schemas-install
@


1.14
log
@make ssl pages work: crypto and nss have some conflicting functions
and it started to use SHA1_Update (and others) from md32_common
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/05/15 14:01:19 martynas Exp $
d7 1
a7 1
V=		2.18.1
a8 1
PKGNAME=	${DISTNAME}p0
d55 1
@


1.13
log
@- major update to 2.18.1;
- Igor Boehm drops maintainership;
build_depends fix from steven@@; input/ok jasper@@, kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/04/07 14:54:12 steven Exp $
d9 1
d46 2
a47 1
		plds4 png popt pthread ssl startup-notification-1 util z
d57 2
a58 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/mozilla-firefox -L${LOCALBASE}/lib" \
@


1.12
log
@USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/12/16 12:22:35 espie Exp $
d3 1
d6 2
a7 2
M=		1.4
V=		1.4.8
a8 1
PKGNAME=	${DISTNAME}p5
a12 2
MAINTAINER=	Igor Boehm <igor@@bytelabs.org>

a19 3
EXTRACT_SUFX=	.tar.bz2

MOZDIR=		mozilla
d21 4
a24 4
BUILD_DEPENDS=	:mozilla-devel->=1.7.13p2:www/mozilla,-devel \
		:p5-XML-Parser-*:textproc/p5-XML-Parser \
		:scrollkeeper-*:textproc/scrollkeeper
RUN_DEPENDS=	:gnome-desktop-*:x11/gnome/desktop \
d26 8
a33 3
		:gnome-icon-theme-*:x11/gnome/icon-theme
LIB_DEPENDS=	gnomeui-2::x11/gnome/libgnomeui \
		${MOZDIR}/gtkembedmoz,${MOZDIR}/xpcom:mozilla->=1.7.13p2:www/mozilla
d37 9
a45 9
WANTLIB=	ORBit-2 ORBitCosNaming-2 art_lgpl_2 atk-1.0 \
		audiofile bonobo-2 bonobo-activation bonoboui-2 esd \
		gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0 \
		glib-2.0 gmodule-2.0 gtk-x11-2.0 \
		jpeg gnome-2 gnome-keyring gnomecanvas-2 \
		gnomevfs-2 gobject-2.0 gthread-2.0 nspr4 pango-1.0 \
		pangoft2-1.0 pangocairo-1.0 plc4 plds4 cairo glitz png \
		popt xml2 ICE SM X11 Xext Xrender c crypto fontconfig \
		freetype m pthread ssl stdc++ z
d50 1
d52 2
a53 3
CONFIGURE_ARGS+=${CONFIGURE_SHARED}
CONFIGURE_ARGS+=--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/epiphany \
		--program-suffix=-bin \
d56 2
a57 1
		LDFLAGS="-L${LOCALBASE}/${MOZDIR} -L${LOCALBASE}/lib"
d61 2
a62 9
post-patch:
	@@ln -s /usr/bin/true ${WRKDIR}/bin/scrollkeeper-update

post-install:
	@@rm -f ${PREFIX}/bin/epiphany
	${INSTALL_SCRIPT} ${FILESDIR}/epiphany ${PREFIX}/bin
	@@perl -pi -e 's|%%LOCALBASE%%|${LOCALBASE}|g;' \
		-e 's|%%MOZDIR%%|${MOZDIR}|g;'\
		 ${PREFIX}/bin/epiphany
@


1.11
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/11/17 19:35:07 kurt Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p4
d49 1
@


1.10
log
@adjust depends due to www/mozilla conversion to devel/nspr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/11/13 12:53:08 steven Exp $
a26 1
		:pkgconfig-*:devel/pkgconfig \
@


1.9
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/09/18 12:00:00 espie Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p3
d26 1
a26 1
BUILD_DEPENDS=	:mozilla-devel->=1.7.11:www/mozilla,-devel \
d34 1
a34 1
		${MOZDIR}/gtkembedmoz,${MOZDIR}/nspr4,${MOZDIR}/plc4,${MOZDIR}/plds4,${MOZDIR}/xpcom:mozilla->=1.7.11:www/mozilla
d43 2
a44 2
		gnomevfs-2 gobject-2.0 gthread-2.0 pango-1.0 \
		pangoft2-1.0 pangocairo-1.0 cairo glitz png \
@


1.8
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/06/13 13:34:56 bernd Exp $
d48 1
@


1.7
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/01/19 13:13:08 steven Exp $
d38 1
a38 1
WANTLIB=	ORBit-2 ORBitCosNaming-2 art_lgpl_2 atk-1.0.0.0 \
d40 2
a41 2
		gconf-2 gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 glade-2.0.0.0 \
		glib-2.0.0.0 gmodule-2.0.0.0 gtk-x11-2.0.0.0 \
d43 2
a44 2
		gnomevfs-2 gobject-2.0.0.0 gthread-2.0.0.0 pango-1.0.0.0 \
		pangoft2-1.0.0.0 pangocairo-1.0.0.0 cairo glitz png \
@


1.6
log
@- fix WANTLIB after gtk+2 downgrade
- MODULES=devel/gettext where appropriate and sync PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/11/16 09:37:00 wilfried Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p2
d44 2
a45 2
		pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 \
		popt xml2 ICE SM X11 Xext Xft Xrender c crypto fontconfig \
@


1.5
log
@fix wantlib + bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/09/22 17:04:43 kurt Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
d36 2
d41 2
a42 2
		glib-2.0.0.0 gmodule-2.0.0.0 gtk-x11-2.0.0.0 iconv \
		intl jpeg gnome-2 gnome-keyring gnomecanvas-2 \
d44 2
a45 2
		pangoft2-1.0.0.0 pangocairo-1.0.0.0 cairo glitz png \
		popt xml2 ICE SM X11 Xext Xrender c crypto fontconfig \
@


1.4
log
@update depends and wantlib now that mozilla is gtk2 by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/03/16 02:02:56 kurt Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d42 2
a43 2
		pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 \
		popt xml2 ICE SM X11 Xft Xrender c crypto fontconfig \
@


1.3
log
@- unbreak build by upgrading to version 1.4.8
- avoid linking to devel/nspr if installed
- prepare for mozilla versioning (adjust MOZDIR as needed)

With help from maintainer Igor Boehm
okay pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/01/18 08:11:38 wilfried Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}
d26 1
a26 1
BUILD_DEPENDS=	:mozilla-devel-*-gtk2:www/mozilla,-devel,gtk2 \
d34 1
a34 1
		${MOZDIR}/gtkembedmoz,${MOZDIR}/nspr4,${MOZDIR}/plc4,${MOZDIR}/plds4,${MOZDIR}/xpcom:mozilla-*-gtk2:www/mozilla,gtk2
d43 2
a44 3
		popt xml2 ICE SM X11 Xcursor Xext Xft Xinerama \
		Xrender c crypto fontconfig freetype m pthread ssl \
		stdc++ z
@


1.2
log
@add missing dependencies, from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/01/16 14:30:04 wilfried Exp $
d5 2
a6 1
V=		1.2.10
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d21 1
a21 1
MASTER_SITES=	${MASTER_SITE_GNOME:=sources/epiphany/1.2/}
d24 2
d32 1
a32 1
		:hicolor-icon-theme-*:x11/hicolor-icon-theme
d34 1
a34 1
		mozilla/gtkembedmoz,mozilla/nspr4,mozilla/plc4,mozilla/plds4,mozilla/xpcom:mozilla-*-gtk2:www/mozilla,gtk2
d36 10
a45 10
WANTLIB=        ORBit-2 ORBitCosNaming-2 art_lgpl_2 atk-1.0.0.0 \
                audiofile bonobo-2 bonobo-activation bonoboui-2 esd \
                gconf-2 gdk-x11-2.0.0.0 gdk_pixbuf-2.0.0.0 glade-2.0.0.0 \
                glib-2.0.0.0 gmodule-2.0.0.0 gtk-x11-2.0.0.0 iconv \
                intl jpeg gnome-2 gnome-keyring gnomecanvas-2 \
                gnomevfs-2 gobject-2.0.0.0 gthread-2.0.0.0 pango-1.0.0.0 \
                pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 \
                popt xml2 ICE SM X11 Xcursor Xext Xft Xinerama \
                Xrender c crypto fontconfig freetype m pthread ssl \
                stdc++ z
d51 1
d54 3
a56 1
		LDFLAGS="-L${LOCALBASE}/lib"
d64 3
a66 1
	@@perl -pi -e 's|%%LOCALBASE%%|${LOCALBASE}|g;' ${PREFIX}/bin/epiphany
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD:$
d7 1
d25 5
a29 2
		:p5-XML-Parser-*:textproc/p5-XML-Parser
RUN_DEPENDS=	:gnome-desktop-*:x11/gnome/desktop
@


1.1.1.1
log
@Import of epiphany-1.2.10, from Igor Boehm

Extremely lightweight and simple web browser for gnome
@
text
@@
