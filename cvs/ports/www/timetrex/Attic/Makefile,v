head	1.38;
access;
symbols
	OPENBSD_5_3:1.37.0.4
	OPENBSD_5_3_BASE:1.37
	OPENBSD_5_2:1.37.0.2
	OPENBSD_5_2_BASE:1.37
	OPENBSD_5_1_BASE:1.36
	OPENBSD_5_1:1.36.0.2
	OPENBSD_5_0:1.29.0.2
	OPENBSD_5_0_BASE:1.29
	OPENBSD_4_9:1.24.0.2
	OPENBSD_4_9_BASE:1.24
	OPENBSD_4_8:1.19.0.2
	OPENBSD_4_8_BASE:1.19
	OPENBSD_4_7:1.15.0.2
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.12.0.2
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.8.0.2
	OPENBSD_4_5_BASE:1.8
	ajacoutot_20080917:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.38
date	2013.03.08.06.56.54;	author ajacoutot;	state dead;
branches;
next	1.37;

1.37
date	2012.03.15.12.48.05;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2012.01.20.07.35.17;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2012.01.11.22.27.26;	author sthen;	state Exp;
branches;
next	1.34;

1.34
date	2011.11.21.07.54.52;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2011.11.16.15.56.38;	author robert;	state Exp;
branches;
next	1.32;

1.32
date	2011.10.16.15.07.20;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2011.09.27.11.56.47;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2011.09.16.12.00.09;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2011.07.22.10.20.11;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2011.07.08.23.01.39;	author robert;	state Exp;
branches;
next	1.27;

1.27
date	2011.06.23.06.52.32;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2011.06.02.13.41.42;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2011.03.21.14.13.02;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.12.29.12.20.40;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2010.11.25.08.56.13;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.11.22.08.36.54;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.06.08.35.34;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2010.08.21.20.35.37;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2010.06.22.18.32.04;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2010.05.11.07.19.00;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2010.04.02.07.44.51;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2010.03.20.16.54.40;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.12.27.18.17.47;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.11.20.11.41.42;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.10.22.09.09.26;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.05.29.20.12.31;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.04.14.19.41.26;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2009.03.25.11.26.50;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2009.03.05.07.57.03;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2008.12.29.16.48.51;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2008.12.26.09.50.54;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.11.12.18.44.53;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.10.07.10.42.27;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.09.22.06.43.16;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.09.18.13.36.07;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.09.17.13.54.54;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.09.17.10.08.21;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.09.17.10.08.21;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.38
log
@Remove timetrex. It's not possible to patch this port since there are
some checksum checks in the installer and it's becoming a maintenance
nightmare. People wanting to use it are better of downloading the
tarball directly and use the official installer/updater.

ok jasper@@
@
text
@# $OpenBSD: Makefile,v 1.37 2012/03/15 12:48:05 ajacoutot Exp $

COMMENT=	web-based payroll and time management suite

V=		5.0.3
DISTNAME=	TimeTrex_Standard_Edition_v${V}
PKGNAME=	timetrex-${V}
CATEGORIES=	www productivity
REVISION=	0

EXTRACT_SUFX=	.zip

HOMEPAGE=	http://www.timetrex.com/

# AGPLv3 (GNU Affero Public License)
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=timetrex/}

MODULES=	lang/php
RUN_DEPENDS=	lang/php/${MODPHP_VERSION},-gd \
		lang/php/${MODPHP_VERSION},-soap \
		php-mysql-${MODPHP_VSPEC}|php-pgsql-${MODPHP_VSPEC}:lang/php/${MODPHP_VERSION},-mysql \
		www/pear

NO_BUILD=	Yes
NO_REGRESS=	Yes
PKG_ARCH=	*

PREFIX=		/var/www
INSTDIR=	${PREFIX}/timetrex
SUBST_VARS=	INSTDIR MODPHP_BIN

do-install:
	mv ${WRKSRC} ${INSTDIR}
	${SUBST_CMD} ${INSTDIR}/timetrex.ini.php-example_linux
	find ${INSTDIR} -type f -name \*.orig -or -name \*.bak | xargs rm
	find ${INSTDIR} -name \*.beforesubst | xargs rm
	chown -R ${BINOWN}:${BINGRP} ${INSTDIR}

.include <bsd.port.mk>
@


1.37
log
@Fix path to php and php.ini.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2012/01/20 07:35:17 ajacoutot Exp $
@


1.36
log
@Update to timetrex-5.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2012/01/11 22:27:26 sthen Exp $
d9 1
@


1.35
log
@use MODPHP_VSPEC for either|or dependencies on php5 extension modules
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/11/21 07:54:52 ajacoutot Exp $
d5 1
a5 2
V=		3.7.0
REVISION=	0
@


1.34
log
@Update to timetrex-3.7.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/11/16 15:56:38 robert Exp $
d6 1
d26 1
a26 1
		php-mysql-*|php-pgsql-*:lang/php/${MODPHP_VERSION},-mysql \
@


1.33
log
@switch php to version 5.3 by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/10/16 15:07:20 ajacoutot Exp $
d5 1
a5 2
V=		3.5.1
REVISION=	5
@


1.32
log
@php5-ldap -> php-ldap.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/09/27 11:56:47 sthen Exp $
d6 1
a6 1
REVISION=	4
@


1.31
log
@${LOCALBASE}/bin/php is no good any more, use MODPHP_BIN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/09/16 12:00:09 espie Exp $
d6 1
a6 1
REVISION=	3
@


1.30
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/07/22 10:20:11 sthen Exp $
d6 1
a6 1
REVISION=	2
d35 1
a35 1
SUBST_VARS=	INSTDIR
@


1.29
log
@Bump for PKGSPEC changes in ports/lang/php/Makefile.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/07/08 23:01:39 robert Exp $
d6 1
a6 1
REVISION=	1
@


1.28
log
@switch to lang/php
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/06/23 06:52:32 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
@


1.27
log
@Update to timetrex-3.5.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/06/02 13:41:42 ajacoutot Exp $
d6 1
d23 4
a26 3
RUN_DEPENDS=	www/php5/extensions,-gd \
		www/php5/extensions,-soap \
		php5-mysql-*|php5-pgsql-*:www/php5/extensions,-mysql \
@


1.26
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/03/21 14:13:02 ajacoutot Exp $
d5 1
a5 1
V=		3.3.1
a8 2

REVISION=	1
@


1.25
log
@Add a RUN_DEPENDS on php5-mysql *or* php5-pgsql.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/12/29 12:20:40 ajacoutot Exp $
d10 1
a10 1
REVISION=	0
@


1.24
log
@Update to timetrex-3.3.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/11/25 08:56:13 ajacoutot Exp $
d10 2
d26 1
@


1.23
log
@Update to timetrex-3.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/11/22 08:36:54 espie Exp $
d5 1
a5 1
V=		3.3.0
@


1.22
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/11/06 08:35:34 ajacoutot Exp $
d5 1
a5 1
V=		3.2.1
a8 2

REVISION=	0
@


1.21
log
@Move to pkg-readmes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/08/21 20:35:37 ajacoutot Exp $
d24 3
a26 3
RUN_DEPENDS=	:php5-gd-*:www/php5/extensions,-gd \
		:php5-soap-*:www/php5/extensions,-soap \
		::www/pear
@


1.20
log
@Maintainance update to timetrex-3.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/06/22 18:32:04 ajacoutot Exp $
d10 2
d38 1
a38 3
	${INSTALL_DATA} ${FILESDIR}/README.OpenBSD ${INSTDIR}
	${SUBST_CMD} ${INSTDIR}/timetrex.ini.php-example_linux \
		${INSTDIR}/README.OpenBSD
@


1.19
log
@Update to timetrex-3.1.2.
* This release contains several minor bugfixes and updated tax tables
for the US and Canada.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/05/11 07:19:00 ajacoutot Exp $
d5 1
a5 1
V=		3.1.2
@


1.18
log
@Update to timetrex-3.1.0.
* add support for LDAP authentication.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/04/02 07:44:51 ajacoutot Exp $
d5 1
a5 1
V=		3.1.0
@


1.17
log
@Minor update to timetrex-3.0.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/03/20 16:54:40 ajacoutot Exp $
d5 1
a5 1
V=		3.0.8
d14 1
a14 2
# TimeTrex Public License Version 1.1.0 ("TPL")
# (i.e modified MPL)
d40 1
@


1.16
log
@Maintainance update to version 3.0.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/12/27 18:17:47 ajacoutot Exp $
d5 1
a5 1
V=		3.0.7
@


1.15
log
@Update to timetrex-3.0.4.

"This release contains a couple new features, including additional weekly
overtime policy types and accrual milestone rollover limits, as well as
several bugfixes."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/11/20 11:41:42 ajacoutot Exp $
d5 1
a5 1
V=		3.0.4
@


1.14
log
@Minor update to timetrex-3.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/10/22 09:09:26 ajacoutot Exp $
d5 1
a5 1
V=		3.0.2
@


1.13
log
@Update to timetrex-3.0.0.
Tweak README.OpenBSD while here and remove myself from maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/05/29 20:12:31 ajacoutot Exp $
d5 1
a5 1
V=		3.0.0
@


1.12
log
@- small update to timetrex-2.2.22
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/04/14 19:41:26 ajacoutot Exp $
d5 1
a5 1
V=		2.2.22
a12 2

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
@


1.11
log
@- update to timetrex-2.2.21
(fixes a few minor bugs with the tax forms and authorization list)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/03/25 11:26:50 ajacoutot Exp $
d5 1
a5 1
V=		2.2.21
@


1.10
log
@- update to timetrex-2.2.20
* minor bugfixes
- unbreak pkgname while here... no cookie for me!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/03/05 07:57:03 ajacoutot Exp $
d5 1
a5 1
V=		2.2.20
@


1.9
log
@- bugfix update to timetrex-2.2.19
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/12/29 16:48:51 ajacoutot Exp $
d5 1
a5 1
V=		2.2.19
d7 1
@


1.8
log
@- use @@group marker instead of @@owner so that other webservers can run this
without tweaking perms
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/12/26 09:50:54 ajacoutot Exp $
d5 1
a5 1
V=		2.2.17
a6 1
PKGNAME=	timetrex-${V}p0
@


1.7
log
@- update to timetrex-2.2.17
* several minor bugfixes
* additional cheque format
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/11/12 18:44:53 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	timetrex-${V}
@


1.6
log
@- bugfix update to timetrex-2.2.16
CV: ----------------------------------------------------------------------
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/10/07 10:42:27 ajacoutot Exp $
d5 1
a5 1
V=		2.2.16
@


1.5
log
@- bugfix update to timetrex-2.2.15
This release has several bugfixes, including a fix for an issue that may
have caused accrual policies to stop calculating accrued time for some
employees.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/09/22 06:43:16 ajacoutot Exp $
d5 1
a5 1
V=		2.2.15
@


1.4
log
@- upstream re-rolled the distfile
- bump to be on the safe side

spotted by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/09/18 13:36:07 ajacoutot Exp $
d5 1
a5 1
V=		2.2.14
d7 1
a7 1
PKGNAME=	timetrex-${V}p0
@


1.3
log
@- update to timetrex-2.2.14
This release contains a detailed printable timesheet as well asseveral
bugfixes, including one bug that in rare circumstances may have caused
timesheets to be calculated incorrectly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/09/17 13:54:54 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	timetrex-${V}
@


1.2
log
@- TRUEPREFIX and LOCALBASE are already part of the default SUBST_VARS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/09/17 10:08:21 ajacoutot Exp $
d5 1
a5 1
V=		2.2.13
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d35 1
a35 1
SUBST_VARS=	INSTDIR TRUEPREFIX
@


1.1.1.1
log
@Import timetrex-2.2.13

TimeTrex is a complete web-based payroll and time management suite which
offers employee scheduling, attendance (timeclock, timesheet), job
costing, invoicing and payroll all in a tightly integrated package.

"looks good" to fkr@@
@
text
@@
