head	1.4;
access;
symbols
	OPENBSD_5_4:1.3.0.6
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.14
	OPENBSD_5_0:1.2.0.12
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.10
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.1.0.8
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.6
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.4
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	mantis_20061011:1.1.1.1
	mbalmer:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2013.09.23.11.37.07;	author ajacoutot;	state dead;
branches;
next	1.3;

1.3
date	2012.06.13.00.41.39;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2008.11.16.10.41.37;	author mbalmer;	state Exp;
branches;
next	1.1;

1.1
date	2006.10.11.18.28.27;	author mbalmer;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.10.11.18.28.27;	author mbalmer;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Remove the following webapps:
- ezpublish, no maintainer, last updated 2009/08/24
- mantis, no maintainer, out of date
- phplist, very outdated and no-one maintains it
- phpmemcachedadmin, port only extract the distfile and that's it
- vtigercrm, port only extract the distfile and that's it

While we do this in a case-by-case basis, this was done for one of the
following reasons:
* do not give user a sense of security because there is a pkg available
when it is in fact outdated/unmaintained and including possible security
issues
* package with no added value besides extracting the distfile under
/var/www are pretty useless -- they demand an effort to be kept up to
date for no benefits (except if someone actually maintains it of course)
* some webapps must complete a strict version update path -- eg.
updating from 1.0 to 1.5 requires updating to 1.1, 1.2, 1.3 and 1.4
first -- that does not work well with pkg

ok Wen Heping (MAINTAINER of vtigercrm)
ok sthen@@ jasper@@ robert@@

PS: no we are not in a rampage to remove lots of www apps -- just some when
it makes sense
@
text
@$OpenBSD: patch-admin_install_php,v 1.3 2012/06/13 00:41:39 sthen Exp $
--- admin/install.php.orig	Sat Jun  9 06:29:02 2012
+++ admin/install.php	Sat Jun  9 14:13:47 2012
@@@@ -823,6 +823,15 @@@@ if( 5 == $t_install_state ) {
 			print_test_result( BAD, false, 'cannot write ' . $t_config_filename );
 		}
 	} else {
+		# already exists, see if it is the placeholder file
+		if ( ( config_get( 'placeholder', '' ) == "yes" ) ) {
+			if ( $fd = @@fopen( $t_config_filename, 'w' ) ) {
+				fwrite( $fd, $t_config );
+				fclose( $fd );
+				print_test_result( GOOD );
+				$t_write_failed = false;
+			}
+		} else
 		# already exists, see if the information is the same
 		if ( ( $f_hostname != config_get( 'hostname', '' ) ) ||
 			( $f_db_type != config_get( 'db_type', '' ) ) ||
@


1.3
log
@Major update to Mantis 1.2.11, many (including SECURITY) fixes since
the previous version in tree which was rather outdated.  ok jasper@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@Update mantis to version 1.1.4.

Consult http://www.mantisbt.org/manual/manual.installation.upgrading.php
for details/hints on how to upgrade.
@
text
@d1 19
a19 19
$OpenBSD: patch-admin_install_php,v 1.1.1.1 2006/10/11 18:28:27 mbalmer Exp $
--- admin/install.php.orig	Sat Feb  2 03:10:41 2008
+++ admin/install.php	Sun Nov 16 11:30:23 2008
@@@@ -808,6 +808,15 @@@@ if ( 5 == $t_install_state ) {
 				print_test_result( BAD, false, 'cannot write ' . $t_config_filename );
 			}
 		} else {
+			# already exists, see if it is the placeholder file
+			if ( ( config_get( 'placeholder', '' ) == "yes" ) ) {
+				if ( $fd = @@fopen( $t_config_filename, 'w' ) ) {
+					fwrite( $fd, $t_config );
+					fclose( $fd );
+					print_test_result( GOOD );
+					$t_write_failed = false;
+				}
+			} else
 			# already exists, see if the information is the same
 			if ( ( $f_hostname != config_get( 'hostname', '' ) ) ||
 					( $f_db_type != config_get( 'db_type', '' ) ) ||
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- admin/install.php.orig	Fri May  5 18:03:25 2006
+++ admin/install.php	Sun Oct  8 15:11:51 2006
@@@@ -640,6 +640,15 @@@@ if ( 5 == $t_install_state ) {
@


1.1.1.1
log
@mantis is a web based bug tacking system, using php5 and a mysql database.
it is used by quite some projects now and fairly easy to use.

thanks to xsa and aanriot for their feedback
@
text
@@
