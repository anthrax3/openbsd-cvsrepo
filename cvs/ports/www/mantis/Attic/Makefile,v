head	1.25;
access;
symbols
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.19.0.2
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.18.0.2
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.2
	OPENBSD_5_0:1.13.0.4
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.13.0.2
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.11.0.4
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.11.0.2
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.10.0.4
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.2
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.7.0.2
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	mantis_20061011:1.1.1.1
	mbalmer:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2013.09.23.11.37.06;	author ajacoutot;	state dead;
branches;
next	1.24;

1.24
date	2013.08.12.04.11.21;	author robert;	state Exp;
branches;
next	1.23;

1.23
date	2013.07.05.09.37.26;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2013.07.05.09.34.35;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.17.07.21.17;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.11.11.44.42;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2012.09.10.09.16.33;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2012.06.13.00.41.39;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2012.01.11.22.27.26;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2011.11.16.15.56.37;	author robert;	state Exp;
branches;
next	1.15;

1.15
date	2011.10.16.18.17.22;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2011.10.16.15.20.33;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.22.08.36.49;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.11.12.35.14;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2009.09.15.17.37.22;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2008.12.23.10.51.02;	author mbalmer;	state Exp;
branches;
next	1.9;

1.9
date	2008.12.07.16.03.09;	author mbalmer;	state Exp;
branches;
next	1.8;

1.8
date	2008.11.16.10.41.37;	author mbalmer;	state Exp;
branches;
next	1.7;

1.7
date	2008.07.17.21.47.41;	author okan;	state Exp;
branches;
next	1.6;

1.6
date	2007.09.15.20.38.22;	author merdely;	state Exp;
branches;
next	1.5;

1.5
date	2007.06.25.12.12.15;	author mbalmer;	state Exp;
branches;
next	1.4;

1.4
date	2007.05.01.12.00.58;	author mbalmer;	state Exp;
branches;
next	1.3;

1.3
date	2007.04.17.10.00.26;	author mbalmer;	state Exp;
branches;
next	1.2;

1.2
date	2006.11.20.20.37.51;	author bernd;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2006.10.11.18.28.27;	author mbalmer;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.10.11.18.28.27;	author mbalmer;	state Exp;
branches;
next	;

1.2.2.1
date	2007.05.01.16.35.46;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.25
log
@Remove the following webapps:
- ezpublish, no maintainer, last updated 2009/08/24
- mantis, no maintainer, out of date
- phplist, very outdated and no-one maintains it
- phpmemcachedadmin, port only extract the distfile and that's it
- vtigercrm, port only extract the distfile and that's it

While we do this in a case-by-case basis, this was done for one of the
following reasons:
* do not give user a sense of security because there is a pkg available
when it is in fact outdated/unmaintained and including possible security
issues
* package with no added value besides extracting the distfile under
/var/www are pretty useless -- they demand an effort to be kept up to
date for no benefits (except if someone actually maintains it of course)
* some webapps must complete a strict version update path -- eg.
updating from 1.0 to 1.5 requires updating to 1.1, 1.2, 1.3 and 1.4
first -- that does not work well with pkg

ok Wen Heping (MAINTAINER of vtigercrm)
ok sthen@@ jasper@@ robert@@

PS: no we are not in a rampage to remove lots of www apps -- just some when
it makes sense
@
text
@# $OpenBSD: Makefile,v 1.24 2013/08/12 04:11:21 robert Exp $

COMMENT=	web based bug tracking

V=		1.2.11
DISTNAME=	mantisbt-$V
PKGNAME=	mantis-$V
REVISION=	2
CATEGORIES=	www
HOMEPAGE=	http://www.mantisbt.org/

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=mantisbt/}

MODULES=	lang/php

NO_BUILD=	Yes
NO_TEST=	Yes
PKG_ARCH=	*

PREFIX=		${VARBASE}/www
INSTDIR=	${VARBASE}/www/mantis
SUBST_VARS=	INSTDIR

RUN_DEPENDS=	mail/femail,-chroot \
		php-mysql-${MODPHP_VSPEC}|php-pgsql-${MODPHP_VSPEC}:lang/php/${MODPHP_VERSION},-mysql

do-install:
	@@-test ! -d ${PREFIX}/mantis && mkdir ${PREFIX}/mantis
	@@cd ${WRKDIST}; tar cf - . | (cd ${PREFIX}/mantis; tar xf -)
	@@find ${PREFIX}/mantis -type f -name '*.orig' -exec rm {} +
	@@echo "<?php \$$g_placeholder = 'yes'; ?>" > \
		${PREFIX}/mantis/config_inc.php.placeholder

.include <bsd.port.mk>
@


1.24
log
@bump REVISION due to the php update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/07/05 09:37:26 jasper Exp $
@


1.23
log
@use ${VARBASE} instead of hardcoding /var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/07/05 09:34:35 jasper Exp $
d8 1
a8 1
REVISION=	1
@


1.22
log
@use ${VARBASE} instead of hardcoding /var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/17 07:21:17 ajacoutot Exp $
d24 1
a24 1
INSTDIR=	/var/www/mantis
@


1.21
log
@Remove duplicate information that is to be moved to the mysql README.

ok brad@@ sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/11 11:44:42 espie Exp $
d23 1
a23 1
PREFIX=		/var/www
@


1.20
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/09/10 09:16:33 jasper Exp $
d8 1
a8 1
REVISION=	0
@


1.19
log
@move various MESSAGEs into READMEs and apply some small modifictions for consistency

eyeballed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/06/13 00:41:39 sthen Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d20 1
a20 1
NO_REGRESS=	Yes
@


1.18
log
@Major update to Mantis 1.2.11, many (including SECURITY) fixes since
the previous version in tree which was rather outdated.  ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/01/11 22:27:26 sthen Exp $
d8 1
@


1.17
log
@use MODPHP_VSPEC for either|or dependencies on php5 extension modules
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/11/16 15:56:37 robert Exp $
d5 3
a7 4
V=		1.1.6
DISTNAME=	mantisbt-${V}
PKGNAME=	mantis-${V}
REVISION=	5
d11 1
a11 1
# GPL
d35 1
@


1.16
log
@switch php to version 5.3 by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/10/16 18:17:22 ajacoutot Exp $
d8 1
a8 1
REVISION=	4
d31 1
a31 1
		php-mysql-*|php-pgsql-*:lang/php/${MODPHP_VERSION},-mysql
@


1.15
log
@Unbreak by adding missing lang/php MODULE.

spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/10/16 15:20:33 ajacoutot Exp $
d8 1
a8 1
REVISION=	3
@


1.14
log
@php5 -> php.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/22 08:36:49 espie Exp $
d19 2
@


1.13
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/11 12:35:14 sthen Exp $
d8 1
a8 1
REVISION=	2
d28 2
a29 1
RUN_DEPENDS=	mail/femail,-chroot
@


1.12
log
@new-style LIB_DEPENDS/REVISION/WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/09/15 17:37:22 jasper Exp $
d28 1
a28 1
RUN_DEPENDS=	::mail/femail,-chroot
@


1.11
log
@remove marc balmer as maintainer of all of his ports, to take away the
illusion marc still maintains them. as requested by himself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/12/23 10:51:02 mbalmer Exp $
d7 2
a8 1
PKGNAME=	mantis-${V}p2
@


1.10
log
@Update to version 1.1.6 and add a patch so that new users can sign up.
(See http://www.mantisbt.org/forums/viewtopic.php?f=3&t=4146 for details)

Fix found by Mischa Diehm.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/12/07 16:03:09 mbalmer Exp $
d7 1
a7 1
PKGNAME=	mantis-${V}p1
a9 2

MAINTAINER=	Marc Balmer <mbalmer@@openbsd.org>
@


1.9
log
@Update to mantis 1.1.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/11/16 10:41:37 mbalmer Exp $
d5 1
a5 1
V=		1.1.5
d7 1
a7 1
PKGNAME=	mantis-${V}p2
@


1.8
log
@Update mantis to version 1.1.4.

Consult http://www.mantisbt.org/manual/manual.installation.upgrading.php
for details/hints on how to upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/07/17 21:47:41 okan Exp $
d5 3
a7 1
DISTNAME=	mantis-1.1.4
@


1.7
log
@replace mini_sendmail with femail.

ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/09/15 20:38:22 merdely Exp $
d5 1
a5 2
DISTNAME=	mantis-1.0.7
PKGNAME=	${DISTNAME}p2
d7 1
a7 1
HOMEPAGE=	http://www.mantisbugtracker.com/
@


1.6
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/06/25 12:12:15 mbalmer Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d28 1
a28 1
RUN_DEPENDS=	:mini_sendmail-chroot->=1.3.6:mail/mini_sendmail,-chroot
@


1.5
log
@Remove the RUN_DEPENDS to php5-mysql since Mantis can use either MySQL or
PostgreSQL.  Add a note to MESSAGE that a database of the users liking has
to be installed.  Bump packagename.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/05/01 12:00:58 mbalmer Exp $
d3 1
a3 1
COMMENT=	"web based bug tracking"
@


1.4
log
@Add a @@group marker.   Reminded by Nikolay Sturm.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/04/17 10:00:26 mbalmer Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d28 1
a28 2
RUN_DEPENDS=	:php5-mysql->=5.0.0:www/php5/extensions,-mysql \
		:mini_sendmail-chroot->=1.3.6:mail/mini_sendmail,-chroot
@


1.3
log
@Security update to Mantis 1.0.7.  This fixes several bugs and three
vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/11/20 20:37:51 bernd Exp $
d6 1
@


1.2
log
@Fix BUILD_DEPENDS and RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/10/11 18:28:27 mbalmer Exp $
d5 1
a5 2
DISTNAME=	mantis_1.0.5
PKGNAME=	${DISTNAME:S/_/-/}p0
@


1.2.2.1
log
@MFC:
Security update to Mantis 1.0.7.  This fixes several bugs and three
vulnerabilities.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/11/20 20:37:51 bernd Exp $
d5 2
a6 1
DISTNAME=	mantis-1.0.7
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
PKGNAME=	${DISTNAME:S/_/-/}
d28 2
a29 2
RUN_DEPENDS=	php5-mysql-.>=5.0.0::www/php5/extensions,-mysql \
		mini_sendmail-chroot-.>=1.3.6::mail/mini_sendmail,-chroot
@


1.1.1.1
log
@mantis is a web based bug tacking system, using php5 and a mysql database.
it is used by quite some projects now and fairly easy to use.

thanks to xsa and aanriot for their feedback
@
text
@@
