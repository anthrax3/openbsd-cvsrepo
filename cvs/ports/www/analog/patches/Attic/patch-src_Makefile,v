head	1.4;
access;
symbols
	OPENBSD_3_7:1.2.0.14
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.12
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.10
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.8
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.6
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1;
locks; strict;
comment	@# @;


1.4
date	2005.07.05.14.28.40;	author naddy;	state dead;
branches;
next	1.3;

1.3
date	2005.04.18.22.32.36;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.11.22.11.10.39;	author form;	state Exp;
branches;
next	1.1;

1.1
date	2001.05.20.05.56.37;	author form;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2002.05.18.02.31.16;	author form;	state Exp;
branches;
next	;


desc
@@


1.4
log
@use existing ports rather than building private copies of libgd, libpng, etc
@
text
@$OpenBSD: patch-src_Makefile,v 1.3 2005/04/18 22:32:36 naddy Exp $
--- src/Makefile.orig	Sun Mar 23 14:57:02 2003
+++ src/Makefile	Mon Apr 18 21:42:20 2005
@@@@ -2,10 +2,10 @@@@
 # Please read docs/Readme.html, or http://www.analog.cx/
 # This is a general Unix-like Makefile: Makefiles for other OS's can be found
 #   in the "build" directory.
-CC = gcc           # which compiler to use: eg cc, acc, gcc. NB Different
+#CC = gcc           # which compiler to use: eg cc, acc, gcc. NB Different
 #                    compilers need different CFLAGS, e.g., -O instead of -O2.
 MAKE = make        # which "make" to use
-CFLAGS = -O2    # options, e.g. for optimisation or ANSI compilation.
+#CFLAGS = -O2    # options, e.g. for optimisation or ANSI compilation.
 #                 HP/UX cc needs CFLAGS = -Aa (HP/UX 9) or -Ae (HP/UX 10)
 #                 BeOS needs CFLAGS = -O2 -Wl,-L/boot/home/config/lib
 #                 BS2000/OSD needs CFLAGS = -XLLML -XLLMK
@@@@ -66,7 +66,7 @@@@ HEADERS = anlghead.h anlghea2.h anlghea3
 ALLCFLAGS = $(CFLAGS) $(DEFS) -D$(OS)
 ALLOBJS = $(OBJS) $(SUBDIROBJS)
 
-$(PROGRAM): $(OBJS) $(SUBDIRS) $(HEADERS) Makefile
+$(PROGRAM): $(OBJS) $(SUBDIRS) $(HEADERS)
 	$(CC) $(CFLAGS) -o $(TARGET) $(ALLOBJS) $(LIBS)
 	@@echo "***"
 	@@echo "***IMPORTANT: You must read the licence before using analog"
@@@@ -86,61 +86,61 @@@@ pcre: ALWAYS
 zlib: ALWAYS
 	cd zlib && $(MAKE) 'CC=$(CC)' 'ALLCFLAGS=$(ALLCFLAGS)'
 
-alias.o: alias.c $(HEADERS) Makefile
+alias.o: alias.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c alias.c
 
-analog.o: analog.c $(HEADERS) Makefile
+analog.o: analog.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c analog.c
 
-cache.o: cache.c $(HEADERS) Makefile
+cache.o: cache.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c cache.c
 
-dates.o: dates.c $(HEADERS) Makefile
+dates.o: dates.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c dates.c
 
-globals.o: globals.c $(HEADERS) Makefile
+globals.o: globals.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c globals.c
 
-hash.o: hash.c $(HEADERS) Makefile
+hash.o: hash.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c hash.c
 
-init.o: init.c $(HEADERS) Makefile
+init.o: init.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c init.c
 
-init2.o: init2.c $(HEADERS) Makefile
+init2.o: init2.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c init2.c
 
-input.o: input.c $(HEADERS) Makefile
+input.o: input.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c input.c
 
-macinput.o: macinput.c $(HEADERS) Makefile
+macinput.o: macinput.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c macinput.c
 
-macstuff.o: macstuff.c $(HEADERS) Makefile
+macstuff.o: macstuff.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c macstuff.c
 
-output.o: output.c $(HEADERS) Makefile
+output.o: output.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c output.c
 
-output2.o: output2.c $(HEADERS) Makefile
+output2.o: output2.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c output2.c
 
-process.o: process.c $(HEADERS) Makefile
+process.o: process.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c process.c
 
-settings.o: settings.c $(HEADERS) Makefile
+settings.o: settings.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c settings.c
 
-sort.o: sort.c $(HEADERS) Makefile
+sort.o: sort.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c sort.c
 
-tree.o: tree.c $(HEADERS) Makefile
+tree.o: tree.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c tree.c
 
-utils.o: utils.c $(HEADERS) Makefile
+utils.o: utils.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c utils.c
 
-win32.o: win32.c $(HEADERS) Makefile
+win32.o: win32.c $(HEADERS)
 	$(CC) $(ALLCFLAGS) -c win32.c
 
 force:
@


1.3
log
@Fix several out of bounds accesses.
Parts from Wolfgang S. Rupprecht via PR 4175; testing by Sam Smith.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_Makefile,v 1.2 2001/11/22 11:10:39 form Exp $
@


1.2
log
@upgrade to 5.1
@
text
@d1 4
a4 5
$OpenBSD$
--- src/Makefile.orig	Thu Nov 22 17:06:08 2001
+++ src/Makefile	Thu Nov 22 17:07:16 2001
@@@@ -1,9 +1,9 @@@@
 # Makefile for analog 5.1
d6 2
d17 1
a17 1
@@@@ -56,7 +56,7 @@@@ HEADERS = anlghead.h anlghea2.h anlghea3
d24 3
a26 3
 	@@echo '***'
 	@@echo '***IMPORTANT: You must read the licence before using analog'
@@@@ -76,61 +76,61 @@@@ pcre: ALWAYS
@


1.1
log
@upgrade to 5.01
@
text
@d1 5
a5 5
$OpenBSD: update-patches,v 1.4 2001/03/31 22:54:41 espie Exp $
--- src/Makefile.orig	Sun May 20 12:22:31 2001
+++ src/Makefile	Sun May 20 12:24:23 2001
@@@@ -1,8 +1,8 @@@@
 # Makefile for analog 5.01
d10 1
d14 1
d16 1
a16 2
 #                 NeXTSTEP needs CFLAGS = -O2 -pipe -no-precomp 
@@@@ -52,7 +52,7 @@@@ HEADERS = anlghead.h anlghea2.h anlghea3
d25 1
a25 1
@@@@ -72,61 +72,61 @@@@ pcre: ALWAYS
d27 1
a27 1
 	cd zlib && make 'CC=$(CC)' 'ALLCFLAGS=$(ALLCFLAGS)'
@


1.1.2.1
log
@Upgrade to 5.23 (from interface security fix); brad
@
text
@d1 5
a5 5
$OpenBSD$
--- src/Makefile.orig	Thu Nov 22 17:06:08 2001
+++ src/Makefile	Thu Nov 22 17:07:16 2001
@@@@ -1,9 +1,9 @@@@
 # Makefile for analog 5.1
a9 1
 MAKE = make        # which "make" to use
a12 1
 #                 BeOS needs CFLAGS = -O2 -Wl,-L/boot/home/config/lib
d14 2
a15 1
@@@@ -56,7 +56,7 @@@@ HEADERS = anlghead.h anlghea2.h anlghea3
d24 1
a24 1
@@@@ -76,61 +76,61 @@@@ pcre: ALWAYS
d26 1
a26 1
 	cd zlib && $(MAKE) 'CC=$(CC)' 'ALLCFLAGS=$(ALLCFLAGS)'
@


