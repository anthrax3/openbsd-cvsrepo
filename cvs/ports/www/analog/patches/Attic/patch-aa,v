head	1.6;
access;
symbols
	OPENBSD_2_7:1.5.0.2
	OPENBSD_2_7_BASE:1.5
	OPENBSD_2_6:1.3.0.2
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	form_980811:1.1.1.1
	form:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2000.05.31.18.48.38;	author form;	state dead;
branches;
next	1.5;

1.5
date	2000.04.01.17.23.54;	author form;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	99.12.13.17.26.55;	author form;	state Exp;
branches;
next	1.3;

1.3
date	99.07.05.19.35.58;	author form;	state Exp;
branches;
next	1.2;

1.2
date	99.02.24.06.07.26;	author fgsch;	state Exp;
branches;
next	1.1;

1.1
date	98.08.11.09.14.46;	author form;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.08.11.09.14.46;	author form;	state Exp;
branches;
next	;

1.5.2.1
date	2000.09.15.05.21.32;	author marc;	state dead;
branches;
next	;


desc
@@


1.6
log
@upgrade to 4.11
install examples
@
text
@# $OpenBSD: patch-aa,v 1.5 2000/04/01 17:23:54 form Exp $

--- Makefile.orig	Sun Apr  2 00:32:47 2000
+++ Makefile	Sun Apr  2 00:35:40 2000
@@@@ -1,8 +1,8 @@@@
 # Makefile for analog 4.1
 # Please read docs/Readme.html, or http://www.analog.cx/
-CC = gcc           # which compiler to use: eg cc, acc, gcc. NB Different
+#CC = gcc           # which compiler to use: eg cc, acc, gcc. NB Different
 #                    compilers need different CFLAGS, e.g., -O instead of -O2.
-CEXTRAFLAGS = -O2  # options, e.g. for optimisation or ANSI compilation.
+#CEXTRAFLAGS = -O2  # options, e.g. for optimisation or ANSI compilation.
 #                    HP/UX cc requires CEXTRAFLAGS = -Aa (HP/UX 9) or ...
 #                    -Ae (HP/UX 10);       BS2000/OSD requires -XLLML -XLLMK;
 #                    NeXTSTEP apparently needs...
@@@@ -29,7 +29,9 @@@@
 	input.o macinput.o macstuff.o output.o output2.o pcre.o process.o \
 	settings.o sort.o tree.o utils.o win32.o
 HEADERS = anlghead.h anlghea2.h anlghea3.h anlghea4.h macdir.h pcre.h
-CFLAGS = $(CEXTRAFLAGS) $(DEFS) -D$(OS)
+CFLAGS += $(CEXTRAFLAGS) $(DEFS) -D$(OS)
+
+all:	$(PROGRAM)
 
 $(PROGRAM): $(OBJS) $(HEADERS) Makefile
 	$(CC) $(CEXTRAFLAGS) $(OBJS) -o $(PROGRAM) $(LIBS)
@@@@ -39,64 +41,64 @@@@
 
 # There doesn't seem to be a good way to write all these rules in a generic
 # form that works for all "make" programs
-alias.o: alias.c $(HEADERS) Makefile
+alias.o: alias.c $(HEADERS)
 	$(CC) $(CFLAGS) -c alias.c
 
-analog.o: analog.c $(HEADERS) Makefile
+analog.o: analog.c $(HEADERS)
 	$(CC) $(CFLAGS) -c analog.c
 
-cache.o: cache.c $(HEADERS) Makefile
+cache.o: cache.c $(HEADERS)
 	$(CC) $(CFLAGS) -c cache.c
 
-dates.o: dates.c $(HEADERS) Makefile
+dates.o: dates.c $(HEADERS)
 	$(CC) $(CFLAGS) -c dates.c
 
-globals.o: globals.c $(HEADERS) Makefile
+globals.o: globals.c $(HEADERS)
 	$(CC) $(CFLAGS) -c globals.c
 
-hash.o: hash.c $(HEADERS) Makefile
+hash.o: hash.c $(HEADERS)
 	$(CC) $(CFLAGS) -c hash.c
 
-init.o: init.c $(HEADERS) Makefile
+init.o: init.c $(HEADERS)
 	$(CC) $(CFLAGS) -c init.c
 
-init2.o: init2.c $(HEADERS) Makefile
+init2.o: init2.c $(HEADERS)
 	$(CC) $(CFLAGS) -c init2.c
 
-input.o: input.c $(HEADERS) Makefile
+input.o: input.c $(HEADERS)
 	$(CC) $(CFLAGS) -c input.c
 
-macinput.o: macinput.c $(HEADERS) Makefile
+macinput.o: macinput.c $(HEADERS)
 	$(CC) $(CFLAGS) -c macinput.c
 
-macstuff.o: macstuff.c $(HEADERS) Makefile
+macstuff.o: macstuff.c $(HEADERS)
 	$(CC) $(CFLAGS) -c macstuff.c
 
-output.o: output.c $(HEADERS) Makefile
+output.o: output.c $(HEADERS)
 	$(CC) $(CFLAGS) -c output.c
 
-output2.o: output2.c $(HEADERS) Makefile
+output2.o: output2.c $(HEADERS)
 	$(CC) $(CFLAGS) -c output2.c
 
-pcre.o: pcre.c pcre.h pcrechar.c pcreintl.h Makefile
+pcre.o: pcre.c pcre.h pcrechar.c pcreintl.h
 	$(CC) $(CFLAGS) -c pcre.c
 
-process.o: process.c $(HEADERS) Makefile
+process.o: process.c $(HEADERS)
 	$(CC) $(CFLAGS) -c process.c
 
-settings.o: settings.c $(HEADERS) Makefile
+settings.o: settings.c $(HEADERS)
 	$(CC) $(CFLAGS) -c settings.c
 
-sort.o: sort.c $(HEADERS) Makefile
+sort.o: sort.c $(HEADERS)
 	$(CC) $(CFLAGS) -c sort.c
 
-tree.o: tree.c $(HEADERS) Makefile
+tree.o: tree.c $(HEADERS)
 	$(CC) $(CFLAGS) -c tree.c
 
-utils.o: utils.c $(HEADERS) Makefile
+utils.o: utils.c $(HEADERS)
 	$(CC) $(CFLAGS) -c utils.c
 
-win32.o: win32.c $(HEADERS) Makefile
+win32.o: win32.c $(HEADERS)
 	$(CC) $(CFLAGS) -c win32.c
 
 force:
@


1.5
log
@upgrade to 4.1
@
text
@d1 1
a1 1
# $OpenBSD: patch-aa,v 1.4 1999/12/13 17:26:55 form Exp $
@


1.5.2.1
log
@bring www as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: patch-aa,v 1.5 2000/04/01 17:23:54 form Exp $
@


1.4
log
@update to 4.0
@
text
@d1 1
a1 1
# $OpenBSD: patch-aa,v 1.3 1999/07/05 19:35:58 form Exp $
d3 2
a4 2
--- Makefile.orig	Mon Dec 13 22:46:44 1999
+++ Makefile	Mon Dec 13 22:49:42 1999
d6 2
a7 2
 # Makefile for analog 4.0
 # Please read docs/Readme.html, or http://www.statslab.cam.ac.uk/~sret1/analog/
d14 6
a19 6
 #                    -Ae (HP/UX 10);       BS2000/OSD requires -XLLML -XLLMK
 DEFS =             # any of -DNOPIPES -DNODNS -DNODIRENT -DNOOPEN -DNOREGEX ...
@@@@ -25,7 +25,9 @@@@
 	input.o macinput.o macstuff.o output.o output2.o process.o settings.o \
 	sort.o tree.o utils.o win32.o
 HEADERS = anlghead.h anlghea2.h anlghea3.h anlghea4.h macdir.h
d27 1
a27 1
@@@@ -35,61 +37,61 @@@@
d82 4
@


1.3
log
@Update to 3.31.
@
text
@d1 1
a1 1
# $OpenBSD: $
d3 2
a4 2
--- Makefile.orig	Sat Jun 19 18:19:18 1999
+++ Makefile	Tue Jul  6 00:29:54 1999
d6 1
a6 1
 # Makefile for analog 3.31
d15 3
a17 3
 DEFS =             # any of -DNOPIPES -DNODNS -DNODIRENT -DNOOPEN -DEBCDIC ...
@@@@ -25,76 +25,78 @@@@
 	macinput.o macstuff.o output.o output2.o process.o settings.o \
d19 1
a19 1
 HEADERS = analhead.h analhea2.h macdir.h
d22 2
d25 3
a27 13
 # Form interface options:
 FORMPROG = anlgform.cgi     # The program that processes the data from the form
 FORMSRC = anlgform.c        # The source code for that program
 
-$(PROGRAM): $(OBJS) $(HEADERS) Makefile
-	$(CC) $(CEXTRAFLAGS) $(OBJS) -o $(PROGRAM) $(LIBS)
+all:	$(PROGRAM) $(FORMPROG)
+
+$(PROGRAM): $(OBJS) $(HEADERS)
+	$(CC) $(CFLAGS) $(OBJS) -o $(PROGRAM) $(LIBS)
 	@@echo '***'
 	@@echo '***IMPORTANT: You must read the licence before using analog'
 	@@echo '***'
d47 4
d107 1
a107 7
-$(FORMPROG): $(FORMSRC) Makefile
-	$(CC) $(CEXTRAFLAGS) $(FORMSRC) -o $(FORMPROG)
+$(FORMPROG): $(FORMSRC)
+	$(CC) $(CFLAGS) $(FORMSRC) -o $(FORMPROG)
 
 form: $(FORMPROG)
 
@


1.2
log
@Update to 3.11. Change master sites.
@
text
@d1 6
a6 3
--- Makefile.orig	Wed Feb 24 01:55:34 1999
+++ Makefile	Wed Feb 24 01:57:58 1999
@@@@ -2,7 +2,7 @@@@
d8 2
a9 1
 CC = gcc           # which compiler to use: eg cc, acc, gcc. NB Different
d11 13
a23 6
-CFLAGS = -O2       # options, e.g. for optimisation or ANSI compilation.
+#CFLAGS = -O2 ${CFLAGS}      # options, e.g. for optimisation or ANSI compilation.
 #                    HP/UX cc needs -Aa (HP/UX 9) or -Ae (HP/UX 10)
 #                    Some Linuces might need -I/usr/src/linux/include
 DEFS =             # any of -DNOPIPES -DNODNS -DNODIRENT -DNOSTRCMP -DEBCDIC
@@@@ -28,13 +28,15 @@@@
d28 2
a29 1
+all:	$(FORMPROG) $(PROGRAM)
d32 1
a32 1
 	$(CC) $(CFLAGS) $(OBJS) -o $(PROGRAM) $(LIBS)
d37 80
a116 3
-$(OBJS): $(HEADERS) Makefile
+$(OBJS): $(HEADERS) 
 	$(CC) $(CFLAGS) $(DEFS) -D$(OS) -c $*.c
a117 1
 $(FORMPROG): $(FORMSRC) Makefile
@


1.1
log
@Initial revision
@
text
@d1 29
a29 50
*** Makefile.orig	Tue Jun 16 00:57:00 1998
--- Makefile	Tue Aug 11 15:44:44 1998
***************
*** 2,8 ****
  # Please read docs/Readme.html, or http://www.statslab.cam.ac.uk/~sret1/analog/
  CC = gcc           # which compiler to use: eg cc, acc, gcc. NB Different
  #                    compilers need different CFLAGS, e.g., -O instead of -O2.
! CFLAGS = -O2       # options, e.g. for optimisation or ANSI compilation.
  #                    HP/UX cc needs -Aa
  #                    Some Linuces might need -I/usr/src/linux/include
  DEFS =             # any of -DNOPIPES -DNODNS -DNODIRENT -DNOSTRCMP -DEBCDIC
--- 2,8 ----
  # Please read docs/Readme.html, or http://www.statslab.cam.ac.uk/~sret1/analog/
  CC = gcc           # which compiler to use: eg cc, acc, gcc. NB Different
  #                    compilers need different CFLAGS, e.g., -O instead of -O2.
! #CFLAGS = -O2 ${CFLAGS}      # options, e.g. for optimisation or ANSI compilation.
  #                    HP/UX cc needs -Aa
  #                    Some Linuces might need -I/usr/src/linux/include
  DEFS =             # any of -DNOPIPES -DNODNS -DNODIRENT -DNOSTRCMP -DEBCDIC
***************
*** 27,39 ****
  FORMPROG = anlgform.cgi     # The program that processes the data from the form
  FORMSRC = anlgform.c        # The source code for that program
  
! $(PROGRAM): $(OBJS) $(HEADERS) Makefile
  	$(CC) $(CFLAGS) $(OBJS) -o $(PROGRAM) $(LIBS)
  	@@echo '***'
  	@@echo '***IMPORTANT: You must read the licence before using analog'
  	@@echo '***'
  
! $(OBJS): $(HEADERS) Makefile
  	$(CC) $(CFLAGS) $(DEFS) -D$(OS) -c $*.c
  
  $(FORMPROG): $(FORMSRC) Makefile
--- 27,41 ----
  FORMPROG = anlgform.cgi     # The program that processes the data from the form
  FORMSRC = anlgform.c        # The source code for that program
  
! all:	$(FORMPROG) $(PROGRAM)
! 
! $(PROGRAM): $(OBJS) $(HEADERS)
  	$(CC) $(CFLAGS) $(OBJS) -o $(PROGRAM) $(LIBS)
  	@@echo '***'
  	@@echo '***IMPORTANT: You must read the licence before using analog'
  	@@echo '***'
  
! $(OBJS): $(HEADERS)
  	$(CC) $(CFLAGS) $(DEFS) -D$(OS) -c $*.c
  
  $(FORMPROG): $(FORMSRC) Makefile
@


1.1.1.1
log
@analog 3.0, powerful httpd log analyzer with CGI.
@
text
@@
