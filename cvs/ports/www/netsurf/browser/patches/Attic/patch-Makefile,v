head	1.7;
access;
symbols
	OPENBSD_5_7:1.6.0.2
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.5.0.6
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.4
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.4.0.8
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.6
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.4
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.1.1.1.0.2
	OPENBSD_4_8_BASE:1.1.1.1
	landry_20100629:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2015.03.30.03.01.51;	author bentley;	state dead;
branches;
next	1.6;
commitid	6FMbIblumRVSRK0T;

1.6
date	2014.10.13.09.29.20;	author bentley;	state Exp;
branches;
next	1.5;
commitid	bVM2NdZD9FlJaD2A;

1.5
date	2013.05.03.07.32.34;	author bentley;	state Exp;
branches;
next	1.4;

1.4
date	2011.07.18.20.10.11;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2010.09.30.19.45.04;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2010.09.30.07.26.05;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.06.29.20.11.13;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.06.29.20.11.13;	author landry;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Update to netsurf-3.3.

Changelog at:
http://download.netsurf-browser.org/netsurf/releases/ChangeLog.txt

ok landry@@
@
text
@$OpenBSD: patch-Makefile,v 1.6 2014/10/13 09:29:20 bentley Exp $
--- Makefile.orig	Tue Aug 26 08:57:21 2014
+++ Makefile	Sat Oct  4 02:23:52 2014
@@@@ -447,7 +447,7 @@@@ endef
 # Set up the WARNFLAGS here so that they can be overridden in the Makefile.config
 WARNFLAGS = -W -Wall -Wundef -Wpointer-arith \
 	-Wcast-align -Wwrite-strings -Wstrict-prototypes \
-	-Wmissing-prototypes -Wmissing-declarations -Wredundant-decls \
+	-Wmissing-prototypes -Wmissing-declarations \
 	-Wnested-externs -Wuninitialized
 ifneq ($(CC_MAJOR),2)
   WARNFLAGS += -Wno-unused-parameter 
@


1.6
log
@Update to netsurf-3.2 (and associated libraries).

While here, fix regression tests in hubbub (broken since json-c update).

ok landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.5 2013/05/03 07:32:34 bentley Exp $
@


1.5
log
@Update to netsurf-3.0.

Changelog here:
http://download.netsurf-browser.org/netsurf/releases/ChangeLog.txt

Thanks to sthen@@ tobiasu@@ jturner@@ for testing.

ok sthen@@
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.orig	Fri Apr 19 14:27:45 2013
+++ Makefile	Thu Apr 25 01:11:09 2013
@@@@ -404,7 +404,7 @@@@ endef
@


1.4
log
@Update to netsurf 2.7, the RISC OS/AmigaOS lightweight web browser.
See http://www.netsurf-browser.org/downloads/releases/ChangeLog.txt for
a list of changes..
from Anthony J. Bentley with a few tweaks from me, thanks!
@
text
@d1 4
a4 19
$OpenBSD: patch-Makefile,v 1.3 2010/09/30 19:45:04 landry Exp $

XXX make it compile with gtk+2 2.22 (*_DISABLE_DEPRECATED)
gtk/gtk_tabs.c:41: error: expected declaration specifiers or '...' before 'GtkNotebookPage'

--- Makefile.orig	Sun Jun 19 00:34:29 2011
+++ Makefile	Sun Jun 19 00:35:34 2011
@@@@ -128,8 +128,8 @@@@ ifneq ($(TARGET),riscos)
   endif
 endif
 
-Q=@@
-VQ=@@
+Q=
+VQ=
 PERL=perl
 MKDIR=mkdir
 TOUCH=touch
@@@@ -318,7 +318,7 @@@@ endef
d10 2
a11 2
 	-Wnested-externs
 ifneq ($(GCCVER),2)
@


1.3
log
@Update to netsurf 2.6, based on a diff from Anthony J Bentley (thanks!)
Remove -Wredundant-decls while here..
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.2 2010/09/30 07:26:05 ajacoutot Exp $
d6 3
a8 3
--- Makefile.orig	Tue Sep 21 21:35:54 2010
+++ Makefile	Thu Sep 30 21:37:56 2010
@@@@ -110,8 +110,8 @@@@ ifneq ($(TARGET),riscos)
d19 1
a19 1
@@@@ -198,7 +198,7 @@@@ OBJROOT = build-$(HOST)-$(TARGET)$(SUBTARGET)
a27 8
@@@@ -452,7 +452,6 @@@@ ifeq ($(TARGET),gtk)
   $(eval $(call pkg_config_find_and_add,PNG,libpng,PNG  ))
 
   GTKCFLAGS := -std=c99 -Dgtk -Dnsgtk \
-		-DGTK_DISABLE_DEPRECATED \
 		-D_BSD_SOURCE \
 		-D_XOPEN_SOURCE=600 \
 		-D_POSIX_C_SOURCE=200112L \
@


1.2
log
@Fix build with new GTK+2.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.1.1.1 2010/06/29 20:11:13 landry Exp $
d6 3
a8 3
--- Makefile.orig	Mon Apr 19 22:56:28 2010
+++ Makefile	Thu Sep 30 07:49:36 2010
@@@@ -102,8 +102,8 @@@@ ifneq ($(TARGET),riscos)
d19 10
a28 10
@@@@ -424,7 +424,7 @@@@ endif
 # ----------------------------------------------------------------------------
 
 ifeq ($(TARGET),gtk)
-  LDFLAGS += $(shell $(PKG_CONFIG) --libs libxml-2.0 libcurl libhubbub openssl)
+  LDFLAGS += $(shell $(PKG_CONFIG) --libs libxml-2.0 libcurl libhubbub)
   LDFLAGS += $(shell $(PKG_CONFIG) --libs libcss)
 
   # define additional CFLAGS and LDFLAGS requirements for pkg-configed libs here
@@@@ -444,7 +444,6 @@@@ ifeq ($(TARGET),gtk)
a35 56
@@@@ -452,7 +451,7 @@@@ ifeq ($(TARGET),gtk)
 		-DGTK_RESPATH=\"$(NETSURF_GTK_RESOURCES)\" \
 		$(WARNFLAGS) -I. -g \
 		$(shell $(PKG_CONFIG) --cflags libglade-2.0 gtk+-2.0) \
-		$(shell $(PKG_CONFIG) --cflags libhubbub libcurl openssl) \
+		$(shell $(PKG_CONFIG) --cflags libhubbub libcurl) \
 		$(shell xml2-config --cflags)
 
   GTKLDFLAGS := $(shell $(PKG_CONFIG) --cflags --libs libglade-2.0 gtk+-2.0 gthread-2.0 gmodule-2.0 lcms)
@@@@ -799,26 +798,26 @@@@ clean: $(CLEANS)
 install-gtk: nsgtk
 	mkdir -p $(DESTDIR)$(NETSURF_GTK_RESOURCES)throbber
 	mkdir -p $(DESTDIR)$(NETSURF_GTK_BIN)
-	@@cp -v nsgtk $(DESTDIR)$(NETSURF_GTK_BIN)netsurf
-	@@cp -vRL gtk/res/adblock.css $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/arrow_down_8x32.png $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/blankpage $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/ca-bundle.txt $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/default.css $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/default.ico $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/favicon.png $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/gtkdefault.css $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/license $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/languages $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/netsurf.xpm $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/netsurf-16x16.xpm $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/quirks.css $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/themelist $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/throbber/*.png $(DESTDIR)$(NETSURF_GTK_RESOURCES)/throbber
-	@@cp -vRL gtk/res/toolbarIndices $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/Aliases $(DESTDIR)$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/docs $(DESTDIR)/$(NETSURF_GTK_RESOURCES)
-	@@cp -vRL gtk/res/SearchEngines $(DESTDIR)$(NETSURF_GTK_RESOURCES)SearchEngines
+	@@cp nsgtk $(DESTDIR)$(NETSURF_GTK_BIN)netsurf
+	@@cp -RL gtk/res/adblock.css $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/arrow_down_8x32.png $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/blankpage $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/ca-bundle.txt $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/default.css $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/default.ico $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/favicon.png $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/gtkdefault.css $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/license $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/languages $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/netsurf.xpm $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/netsurf-16x16.xpm $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/quirks.css $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/themelist $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/throbber/*.png $(DESTDIR)$(NETSURF_GTK_RESOURCES)/throbber
+	@@cp -RL gtk/res/toolbarIndices $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/Aliases $(DESTDIR)$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/docs $(DESTDIR)/$(NETSURF_GTK_RESOURCES)
+	@@cp -RL gtk/res/SearchEngines $(DESTDIR)$(NETSURF_GTK_RESOURCES)SearchEngines
 	gzip -9v < gtk/res/downloads.glade > $(DESTDIR)$(NETSURF_GTK_RESOURCES)downloads.glade
 	gzip -9v < gtk/res/history.glade > $(DESTDIR)$(NETSURF_GTK_RESOURCES)history.glade
 	gzip -9v < gtk/res/login.glade > $(DESTDIR)$(NETSURF_GTK_RESOURCES)login.glade
@


1.1
log
@Initial revision
@
text
@d1 5
a5 1
$OpenBSD$
d7 1
a7 1
+++ Makefile	Fri Jun 25 19:04:35 2010
d28 9
a36 1
@@@@ -452,7 +452,7 @@@@ ifeq ($(TARGET),gtk)
d45 1
a45 1
@@@@ -799,26 +799,26 @@@@ clean: $(CLEANS)
@


1.1.1.1
log
@Import netsurf-2.5, a very lightweight web browser for RISC OS and UNIX-like
platforms. It doesn't do javascript, but who cares about web2.0 anyway ?
Sub-projects are :
- hubbub : HTML parser
- libcss : CSS parser and selection engine
- libnsbmp : BMP/ICO decoding library
- libnsgif : GIF decoding library
- libparserutils : utility library for parser building
- libwapcaplet : string internment library

Currently SIGBUS'es on sparc64 in libcss, being worked on with upstream.

Loosely based on a submission from Anthony J Bentley, reworked by myself.
@
text
@@
