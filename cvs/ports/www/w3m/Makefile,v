head	1.88;
access;
symbols
	OPENBSD_6_1:1.88.0.2
	OPENBSD_6_1_BASE:1.88
	OPENBSD_6_0:1.85.0.8
	OPENBSD_6_0_BASE:1.85
	OPENBSD_5_9:1.85.0.4
	OPENBSD_5_9_BASE:1.85
	OPENBSD_5_8:1.85.0.6
	OPENBSD_5_8_BASE:1.85
	OPENBSD_5_7:1.85.0.2
	OPENBSD_5_7_BASE:1.85
	OPENBSD_5_6:1.84.0.2
	OPENBSD_5_6_BASE:1.84
	OPENBSD_5_5:1.83.0.4
	OPENBSD_5_5_BASE:1.83
	OPENBSD_5_4:1.83.0.2
	OPENBSD_5_4_BASE:1.83
	OPENBSD_5_3:1.81.0.2
	OPENBSD_5_3_BASE:1.81
	OPENBSD_5_2:1.80.0.2
	OPENBSD_5_2_BASE:1.80
	OPENBSD_5_1_BASE:1.79
	OPENBSD_5_1:1.79.0.2
	OPENBSD_5_0:1.78.0.2
	OPENBSD_5_0_BASE:1.78
	OPENBSD_4_9:1.77.0.2
	OPENBSD_4_9_BASE:1.77
	OPENBSD_4_8:1.70.0.4
	OPENBSD_4_8_BASE:1.70
	OPENBSD_4_7:1.70.0.2
	OPENBSD_4_7_BASE:1.70
	OPENBSD_4_6:1.69.0.2
	OPENBSD_4_6_BASE:1.69
	OPENBSD_4_5:1.68.0.4
	OPENBSD_4_5_BASE:1.68
	OPENBSD_4_4:1.68.0.2
	OPENBSD_4_4_BASE:1.68
	OPENBSD_4_3:1.67.0.2
	OPENBSD_4_3_BASE:1.67
	OPENBSD_4_2:1.66.0.2
	OPENBSD_4_2_BASE:1.66
	OPENBSD_4_1:1.64.0.2
	OPENBSD_4_1_BASE:1.64
	OPENBSD_4_0:1.62.0.2
	OPENBSD_4_0_BASE:1.62
	OPENBSD_3_9:1.60.0.2
	OPENBSD_3_9_BASE:1.60
	OPENBSD_3_8:1.59.0.4
	OPENBSD_3_8_BASE:1.59
	OPENBSD_3_7:1.59.0.2
	OPENBSD_3_7_BASE:1.59
	OPENBSD_3_6:1.57.0.2
	OPENBSD_3_6_BASE:1.57
	OPENBSD_3_5:1.55.0.2
	OPENBSD_3_5_BASE:1.55
	OPENBSD_3_4:1.54.0.2
	OPENBSD_3_4_BASE:1.54
	OPENBSD_3_3:1.53.0.2
	OPENBSD_3_3_BASE:1.53
	OPENBSD_3_2:1.48.0.2
	OPENBSD_3_2_BASE:1.48
	OPENBSD_3_1:1.44.0.2
	OPENBSD_3_1_BASE:1.44
	OPENBSD_3_0:1.27.0.2
	OPENBSD_3_0_BASE:1.27
	OPENBSD_2_9_TRACKING_SWITCH:1.23
	OPENBSD_2_9:1.17.0.2
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.14.0.2
	OPENBSD_2_8_BASE:1.14
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	dugsong_1999-Oct-26:1.1.1.1
	dugsong:1.1.1;
locks; strict;
comment	@# @;


1.88
date	2016.12.21.20.54.16;	author naddy;	state Exp;
branches;
next	1.87;
commitid	4Yz26EGxbbzrkkT0;

1.87
date	2016.11.19.12.06.06;	author ajacoutot;	state Exp;
branches;
next	1.86;
commitid	EyyH99KUHhmJN7J6;

1.86
date	2016.11.11.22.45.58;	author naddy;	state Exp;
branches;
next	1.85;
commitid	4u2L8Ca2RgRoPMZT;

1.85
date	2015.01.22.21.17.47;	author naddy;	state Exp;
branches;
next	1.84;
commitid	wIL6LWr8oTpXM8oh;

1.84
date	2014.07.16.08.20.01;	author ajacoutot;	state Exp;
branches;
next	1.83;
commitid	7WOy7G4EGDECYmDt;

1.83
date	2013.06.01.21.06.20;	author kurt;	state Exp;
branches;
next	1.82;

1.82
date	2013.03.11.11.44.50;	author espie;	state Exp;
branches;
next	1.81;

1.81
date	2013.02.09.14.49.53;	author sthen;	state Exp;
branches;
next	1.80;

1.80
date	2012.02.20.18.25.47;	author sthen;	state Exp;
branches;
next	1.79;

1.79
date	2011.09.16.12.00.09;	author espie;	state Exp;
branches;
next	1.78;

1.78
date	2011.03.12.23.20.16;	author sthen;	state Exp;
branches;
next	1.77;

1.77
date	2010.11.22.10.16.08;	author espie;	state Exp;
branches;
next	1.76;

1.76
date	2010.11.22.08.36.55;	author espie;	state Exp;
branches;
next	1.75;

1.75
date	2010.11.11.12.35.18;	author sthen;	state Exp;
branches;
next	1.74;

1.74
date	2010.10.24.21.40.10;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2010.10.19.08.02.57;	author espie;	state Exp;
branches;
next	1.72;

1.72
date	2010.10.11.08.19.04;	author jasper;	state Exp;
branches;
next	1.71;

1.71
date	2010.09.30.07.21.20;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2009.08.10.06.34.56;	author kili;	state Exp;
branches;
next	1.69;

1.69
date	2009.06.22.10.43.58;	author sthen;	state Exp;
branches;
next	1.68;

1.68
date	2008.04.01.17.43.04;	author kurt;	state Exp;
branches;
next	1.67;

1.67
date	2007.09.15.20.38.26;	author merdely;	state Exp;
branches;
next	1.66;

1.66
date	2007.07.18.17.29.46;	author naddy;	state Exp;
branches;
next	1.65;

1.65
date	2007.07.14.22.18.23;	author kili;	state Exp;
branches;
next	1.64;

1.64
date	2007.01.01.23.38.51;	author naddy;	state Exp;
branches;
next	1.63;

1.63
date	2006.11.13.12.53.08;	author steven;	state Exp;
branches;
next	1.62;

1.62
date	2006.08.12.15.51.38;	author naddy;	state Exp;
branches
	1.62.2.1;
next	1.61;

1.61
date	2006.08.04.00.10.42;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2006.02.10.18.54.58;	author sturm;	state Exp;
branches
	1.60.2.1;
next	1.59;

1.59
date	2005.02.22.10.23.39;	author alek;	state Exp;
branches;
next	1.58;

1.58
date	2004.12.11.13.29.22;	author alek;	state Exp;
branches;
next	1.57;

1.57
date	2004.08.10.08.46.50;	author xsa;	state Exp;
branches;
next	1.56;

1.56
date	2004.06.26.04.57.35;	author naddy;	state Exp;
branches;
next	1.55;

1.55
date	2003.10.18.19.45.00;	author sturm;	state Exp;
branches;
next	1.54;

1.54
date	2003.03.29.00.32.46;	author naddy;	state Exp;
branches;
next	1.53;

1.53
date	2002.12.12.01.18.54;	author naddy;	state Exp;
branches;
next	1.52;

1.52
date	2002.12.12.01.10.53;	author naddy;	state Exp;
branches;
next	1.51;

1.51
date	2002.12.01.23.41.32;	author naddy;	state Exp;
branches;
next	1.50;

1.50
date	2002.11.27.22.25.02;	author naddy;	state Exp;
branches;
next	1.49;

1.49
date	2002.11.07.14.19.23;	author naddy;	state Exp;
branches;
next	1.48;

1.48
date	2002.09.14.00.10.08;	author naddy;	state Exp;
branches
	1.48.2.1;
next	1.47;

1.47
date	2002.08.28.12.38.15;	author naddy;	state Exp;
branches;
next	1.46;

1.46
date	2002.07.20.12.03.18;	author naddy;	state Exp;
branches;
next	1.45;

1.45
date	2002.05.15.17.58.51;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2002.04.07.00.54.46;	author naddy;	state Exp;
branches
	1.44.2.1;
next	1.43;

1.43
date	2002.03.11.23.00.24;	author naddy;	state Exp;
branches;
next	1.42;

1.42
date	2002.03.11.18.36.42;	author naddy;	state Exp;
branches;
next	1.41;

1.41
date	2002.03.10.15.20.05;	author naddy;	state Exp;
branches;
next	1.40;

1.40
date	2002.03.10.07.44.43;	author brad;	state Exp;
branches;
next	1.39;

1.39
date	2002.02.04.15.05.32;	author naddy;	state Exp;
branches;
next	1.38;

1.38
date	2002.02.02.03.19.01;	author naddy;	state Exp;
branches;
next	1.37;

1.37
date	2002.02.01.14.33.32;	author naddy;	state Exp;
branches;
next	1.36;

1.36
date	2002.01.20.22.17.51;	author naddy;	state Exp;
branches;
next	1.35;

1.35
date	2002.01.07.18.16.12;	author naddy;	state Exp;
branches;
next	1.34;

1.34
date	2001.12.22.16.14.29;	author naddy;	state Exp;
branches;
next	1.33;

1.33
date	2001.12.20.22.36.10;	author naddy;	state Exp;
branches;
next	1.32;

1.32
date	2001.11.17.02.36.40;	author naddy;	state Exp;
branches;
next	1.31;

1.31
date	2001.11.16.21.35.44;	author naddy;	state Exp;
branches;
next	1.30;

1.30
date	2001.11.05.15.40.07;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2001.10.25.16.14.51;	author naddy;	state Exp;
branches;
next	1.28;

1.28
date	2001.10.24.12.23.32;	author naddy;	state Exp;
branches;
next	1.27;

1.27
date	2001.10.06.18.33.50;	author naddy;	state Exp;
branches;
next	1.26;

1.26
date	2001.09.29.14.57.52;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2001.09.29.11.41.03;	author naddy;	state Exp;
branches;
next	1.24;

1.24
date	2001.09.22.14.27.48;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2001.08.02.14.59.07;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2001.08.01.23.18.53;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2001.07.31.15.27.08;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2001.07.30.00.24.19;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2001.06.22.01.15.40;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2001.05.05.22.41.28;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2001.04.03.22.54.50;	author naddy;	state Exp;
branches
	1.17.2.1;
next	1.16;

1.16
date	2001.03.30.17.19.08;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2001.03.24.12.56.14;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2000.10.22.14.03.54;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.08.25.02.24.10;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2000.07.14.17.50.13;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.07.10.00.17.55;	author d;	state Exp;
branches;
next	1.10;

1.10
date	2000.04.10.20.03.20;	author dugsong;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2000.03.08.03.10.58;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.15.21.32.34;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.15.18.59.02;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.15.05.05.26;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.12.06.30.06;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.10.14.38.36;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2000.02.09.05.38.34;	author d;	state Exp;
branches;
next	1.2;

1.2
date	2000.01.30.22.35.13;	author d;	state Exp;
branches;
next	1.1;

1.1
date	99.10.26.14.20.07;	author dugsong;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.10.26.14.20.07;	author dugsong;	state Exp;
branches;
next	;

1.10.2.1
date	2000.09.15.05.22.25;	author marc;	state Exp;
branches;
next	;

1.17.2.1
date	2001.06.22.01.58.10;	author lebel;	state Exp;
branches;
next	;

1.44.2.1
date	2002.11.30.02.54.32;	author brad;	state Exp;
branches;
next	1.44.2.2;

1.44.2.2
date	2002.12.13.02.28.31;	author naddy;	state Exp;
branches;
next	;

1.48.2.1
date	2002.11.29.15.54.43;	author naddy;	state Exp;
branches;
next	1.48.2.2;

1.48.2.2
date	2002.12.02.03.21.32;	author brad;	state Exp;
branches;
next	1.48.2.3;

1.48.2.3
date	2002.12.13.02.27.53;	author naddy;	state Exp;
branches;
next	;

1.60.2.1
date	2007.01.04.20.17.52;	author sturm;	state Exp;
branches;
next	;

1.62.2.1
date	2007.01.03.20.36.17;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.88
log
@Security update, switch to Debian upstream (0.5.3+git20161120), and
complete overhaul:
* Fixes for 23 CVEs.
* Switch the image flavor to use the lighter imlib2 dependency.
* Drop the japanese flavor; gettext localization is sufficient.
* Convert Japanese docs to UTF-8.
@
text
@# $OpenBSD: Makefile,v 1.87 2016/11/19 12:06:06 ajacoutot Exp $

COMMENT=	pager/text-based web browser

DISTNAME=	w3m-0.5.3
REVISION=	5
CATEGORIES=	www
HOMEPAGE=	http://w3m.sourceforge.net/

# BSD-like
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	c crypto curses gc iconv intl m ssl z

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=w3m/}
MASTER_SITES0=	${MASTER_SITE_DEBIAN:=main/w/w3m/}

DISTFILES=	${DISTNAME}.tar.gz \
		w3m_0.5.3-33.debian.tar.xz:0

BUILD_DEPENDS=	devel/gettext-tools

LIB_DEPENDS=	devel/boehm-gc devel/gettext

FLAVORS=	image
FLAVOR?=

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--disable-xface \
		--with-termlib=curses \
		--with-gc=${LOCALBASE}

NO_TEST=	Yes

.if ${FLAVOR:Mimage}
LIB_DEPENDS+=	graphics/imlib2
CONFIGURE_ARGS+=--with-imagelib=imlib2
WANTLIB+=	Imlib2 X11 Xext freetype
.else
CONFIGURE_ARGS+=--enable-image=no
.endif

PATCH_DIST_STRIP= -p1

do-distpatch:
	@@for p in ${WRKDIR}/debian/patches/*.patch; do \
	    ${PATCH} ${PATCH_DIST_ARGS} < $$p; \
	done

post-build:
	cd ${WRKSRC}/doc-jp; \
	    for f in ${EUC_JP}; do \
		iconv -f euc-jp -t utf-8 $$f >$$f.tmp; \
		mv $$f.tmp $$f; \
	    done; \
	    for f in ${ISO_2022_JP}; do \
		iconv -f iso-2022-jp -t utf-8 $$f >$$f.tmp; \
		mv $$f.tmp $$f; \
	    done

post-install:
.for src dst in doc "" doc-jp ja doc-de de
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/w3m/${dst}
	cd ${WRKSRC}/${src}; \
	    ${INSTALL_DATA} !(w3m.1|CVS|*${DISTORIG}|README.cygwin) \
		${PREFIX}/share/doc/w3m/${dst}
.endfor

EUC_JP=		FAQ.html HISTORY MANUAL.html README README.SSL README.cookie \
		README.dict README.func README.img README.keymap README.m17n \
		README.mailcap README.menu README.migemo README.mouse \
		README.siteconf STORY.html menu.default menu.submenu w3m.1
ISO_2022_JP=	README.passwd README.pre_form README.tab

.include <bsd.port.mk>
@


1.87
log
@Needs devel/gettext-tools.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2016/11/11 22:45:58 naddy Exp $
d6 1
a6 1
REVISION=	4
d13 1
a13 1
WANTLIB=	c crypto curses gc iconv intl m pthread ssl z
d16 4
d25 1
a25 1
FLAVORS=	image japanese
d36 3
a38 7
LIB_DEPENDS+=	x11/gtk+2
CONFIGURE_ARGS+=--with-imagelib=gtk2
WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 cairo fontconfig freetype
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gdk_pixbuf_xlib-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gtk-x11-2.0
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0
d43 17
a59 8
.if ${FLAVOR:Mjapanese}
FULLPKGNAME=	ja-${PKGNAME}${FLAVOR_EXT:S/-japanese//}
CATEGORIES+=	japanese
CONFIGURE_ARGS+=--enable-japanese=U
DOCSRC=		${WRKSRC}/doc-jp
.else
DOCSRC=		${WRKSRC}/doc
.endif
d62 12
a73 4
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/w3m
	cd ${DOCSRC}; \
	find . -type f \! \( -name w3m.1 -or -path "*/CVS/*" \) -print0 | \
	xargs -0r -J % ${INSTALL_DATA} % ${PREFIX}/share/doc/w3m
@


1.86
log
@clean up:
* switch to UTF-8 by default
* sync wantlib for image flavor
* replace gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2015/01/22 21:17:47 naddy Exp $
d16 2
@


1.85
log
@Drop USE_GROFF: trivial page footer differences only.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2014/07/16 08:20:01 ajacoutot Exp $
d6 1
a6 1
REVISION=	3
d13 1
a13 1
WANTLIB += c crypto curses gc>=3 m pthread ssl z
d17 1
a17 2
MODULES=	devel/gettext
LIB_DEPENDS=	devel/boehm-gc
d32 2
a33 2
WANTLIB += GL X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 cairo expat fontconfig freetype
d35 2
a36 3
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 png
WANTLIB += pthread-stubs xcb xcb-render xcb-shm
d44 1
a44 1
CONFIGURE_ARGS+=--enable-japanese=E
a46 1
CONFIGURE_ARGS+=--enable-m17n=ISO-8859-1
@


1.84
log
@/usr/bin/lynx is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2013/06/01 21:06:20 kurt Exp $
a28 1
USE_GROFF=	Yes
@


1.83
log
@- Adjust to changed boehm-gc API in 7.2d. okay sthen, landry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2013/03/11 11:44:50 espie Exp $
d6 1
a6 1
REVISION=	2
a24 1
		--with-browser=/usr/bin/lynx \
@


1.82
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2013/02/09 14:49:53 sthen Exp $
d6 1
a6 1
REVISION=	1
@


1.81
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2012/02/20 18:25:47 sthen Exp $
a11 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d29 1
a29 1
NO_REGRESS=	Yes
@


1.80
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2011/09/16 12:00:09 espie Exp $
d35 1
a35 1
.if ${FLAVOR:L:Mimage}
d48 1
a48 1
.if ${FLAVOR:L:Mjapanese}
@


1.79
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2011/03/12 23:20:16 sthen Exp $
d6 1
a6 1
REVISION=	0
d38 6
a43 7
WANTLIB += X11 Xau Xcursor Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender atk-1.0 cairo expat fontconfig freetype glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 png Xcomposite Xdamage gio-2.0 pixman-1
WANTLIB += pthread-stubs xcb gdk_pixbuf-2.0 gdk_pixbuf_xlib-2.0
WANTLIB += gdk-x11-2.0>=1000 gtk-x11-2.0>=1000
WANTLIB += GL Xxf86vm drm gthread-2.0 xcb-render xcb-shm
@


1.78
log
@update w3m to 0.5.3, additional testing + ok pirofti@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2010/11/22 10:16:08 espie Exp $
d6 1
@


1.77
log
@remaining WANTLIB go .>=   to >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2010/11/22 08:36:55 espie Exp $
d5 1
a5 2
DISTNAME=	w3m-0.5.2
REVISION=	4
d32 1
a33 5
DOCS=	FAQ.html HISTORY MANUAL.html README README.dict README.func \
	README.m17n README.mouse README.pre_form README.tab STORY.html \
	keymap.default keymap.lynx menu.default menu.submenu

USE_GROFF =	Yes
a36 1
DOCS+=		README.img
d43 1
a51 2
DOCS+=		README.SSL README.cookie README.keymap \
		README.mailcap README.menu
d60 3
a62 1
	cd ${DOCSRC}; ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/w3m
@


1.76
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2010/11/11 12:35:18 sthen Exp $
d16 1
a16 1
WANTLIB += c crypto curses gc.>=3 m pthread ssl z
@


1.75
log
@new-style LIB_DEPENDS/REVISION/WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2010/10/24 21:40:10 ajacoutot Exp $
d21 1
a21 1
LIB_DEPENDS=	::devel/boehm-gc
d40 1
a40 1
LIB_DEPENDS+=	::x11/gtk+2
d48 1
a48 1
WANTLIB += gdk-x11-2.0.>=1000 gtk-x11-2.0.>=1000
@


1.74
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2010/10/19 08:02:57 espie Exp $
d16 2
d21 1
a21 2
LIB_DEPENDS=	gc.>=3::devel/boehm-gc
WANTLIB=	c crypto curses m pthread ssl z
d40 1
a40 1
LIB_DEPENDS+=	gdk-x11-2.0.>=1000,gtk-x11-2.0.>=1000::x11/gtk+2
d43 6
a48 5
WANTLIB+=	X11 Xau Xcursor Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender atk-1.0 cairo expat fontconfig freetype glib-2.0 \
		gmodule-2.0 gobject-2.0 pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 png Xcomposite Xdamage gio-2.0 pixman-1 \
		pthread-stubs xcb gdk_pixbuf-2.0 gdk_pixbuf_xlib-2.0
@


1.73
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2010/10/11 08:19:04 jasper Exp $
a38 1
USE_X11=	Yes
@


1.72
log
@- fix WANTLIB after cairo update.

(please note chromium is still broken, but will be dealt with soon)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2010/09/30 07:21:20 ajacoutot Exp $
d37 1
@


1.71
log
@Fix DEPENDS after gtk+2 and gdk-pixbuf split.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2009/08/10 06:34:56 kili Exp $
d6 1
a6 1
REVISION=	3
d44 1
a44 1
		glitz gmodule-2.0 gobject-2.0 pango-1.0 pangocairo-1.0 \
@


1.70
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2009/06/22 10:43:58 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d39 1
a39 1
LIB_DEPENDS+=	gdk-x11-2.0.>=1000,gdk_pixbuf-2.0.>=1000,gdk_pixbuf_xlib-2.0.>=1000,gtk-x11-2.0.>=1000::x11/gtk+2
d46 1
a46 1
		pthread-stubs xcb
@


1.69
log
@sync wantlib, bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2008/04/01 17:43:04 kurt Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d45 2
a46 1
		pangoft2-1.0 png Xcomposite Xdamage gio-2.0 pixman-1
@


1.68
log
@- adjust to depend on threaded boehm-gc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2007/09/15 20:38:26 merdely Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d45 1
a45 1
		pangoft2-1.0 png
@


1.67
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2007/07/18 17:29:46 naddy Exp $
d6 1
d19 2
a20 2
LIB_DEPENDS=	gc.>=2::devel/boehm-gc
WANTLIB=	c crypto curses m ssl z
@


1.66
log
@update to bugfix release 0.5.2 and switch image support to GTK+2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2007/07/14 22:18:23 kili Exp $
d3 1
a3 1
COMMENT=	"pager/text-based web browser"
@


1.65
log
@
Works for amd64 and sparc64 now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2007/01/01 23:38:51 naddy Exp $
d5 1
a5 2
DISTNAME=	w3m-0.5.1
PKGNAME=	${DISTNAME}p2
a13 1
WANTLIB=		c crypto curses m ssl z
a15 1
MASTER_SITES0=	http://www2u.biglobe.ne.jp/~hsaka/w3m/patch/
d18 2
a19 1
LIB_DEPENDS=	gc.>=1::devel/boehm-gc
d38 2
a39 2
LIB_DEPENDS+=	gdk_pixbuf.>=2,gdk_pixbuf_xlib.>=2::graphics/gdk-pixbuf
CONFIGURE_ARGS+=--with-imagelib=gdk-pixbuf
d41 4
a44 1
WANTLIB+=	X11 Xext Xi gdk glib gmodule gtk jpeg png tiff
@


1.64
log
@SECURITY:
Fix format string vulnerability.
http://www.openpkg.com/security/advisories/OpenPKG-SA-2006.044.html

via Han Boetes
@
text
@d1 1
a1 5
# $OpenBSD: Makefile,v 1.63 2006/11/13 12:53:08 steven Exp $

.if ${MACHINE_ARCH} == "amd64" || ${MACHINE_ARCH} == "sparc64"
BROKEN=		crashes
.endif
@


1.63
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2006/08/12 15:51:38 naddy Exp $
d10 1
a10 1
PKGNAME=	${DISTNAME}p1
a12 2

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>
@


1.62
log
@don't build on amd64/sparc64 due to unresolved crashes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2006/08/04 00:10:42 espie Exp $
d45 1
@


1.62.2.1
log
@MFC:
SECURITY:
Fix format string vulnerability.
http://www.openpkg.com/security/advisories/OpenPKG-SA-2006.044.html

via Han Boetes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2006/08/12 15:51:38 naddy Exp $
d10 1
a10 1
PKGNAME=	${DISTNAME}p2
@


1.61
log
@new lib specs
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.60 2006/02/10 18:54:58 sturm Exp $
@


1.60
log
@use fclose() on fdopen()'ed file streams instead of pclose()

from TAKAHASHI Tamotsu in ports/5010
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2005/02/22 10:23:39 alek Exp $
d23 1
a23 1
LIB_DEPENDS=	gc.1::devel/boehm-gc
d41 1
a41 1
LIB_DEPENDS+=	gdk_pixbuf.2,gdk_pixbuf_xlib.2::graphics/gdk-pixbuf
@


1.60.2.1
log
@MFC:
SECURITY:
Fix format string vulnerability.
http://www.openpkg.com/security/advisories/OpenPKG-SA-2006.044.html

via Han Boetes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2006/02/10 18:54:58 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.59
log
@- Fix libintl linking
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2004/12/11 13:29:22 alek Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.58
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2004/08/10 08:46:50 xsa Exp $
d6 1
@


1.57
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2004/06/26 04:57:35 naddy Exp $
d16 1
d43 1
@


1.56
log
@update to 0.5.1: integrates M17N support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2003/10/18 19:45:00 sturm Exp $
d20 1
a20 1
MODULES=	gettext
@


1.55
log
@license markers and some corrections
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2003/03/29 00:32:46 naddy Exp $
d5 1
a5 6
VERSION=	0.4.1
M17N_VERSION=	20030308
REVISION=

DISTNAME=	w3m-${VERSION}
PKGNAME=	${DISTNAME}${REVISION}
d20 1
a20 3
SUPDISTFILES=	w3m-${VERSION}${EXTRACT_SUFX} \
		w3m-${VERSION}-stable-m17n-${M17N_VERSION}${EXTRACT_SUFX}:0

d23 1
a23 1
FLAVORS=	image japanese m17n
d26 5
a30 11
CONFIGURE_STYLE= simple
CONFIGURE_ARGS=	--nonstop \
		--prefix="${PREFIX}" \
		--gc-includedir="${LOCALBASE}/include" \
		--gc-libdir="${LOCALBASE}/lib" \
		--sysconfdir="${SYSCONFDIR}/w3m" \
		--model=monster \
		--mimetypes=/var/www/conf/mime.types
CONFIGURE_ENV=	use_ssl_verify=y \
		dmail=mail ded=vi dbrowser=lynx \
		use_bundled_gclib=n
d35 1
a35 1
	README.mouse README.pre_form README.tab STORY.html \
d40 1
a40 1
CONFIGURE_ENV+=	use_image=y
d42 2
d49 1
a49 1
CONFIGURE_ARGS+= --lang=ja --code=n
d54 1
a54 1
CONFIGURE_ARGS+= --lang=en
a55 8
.endif

.if ${FLAVOR:L:Mm17n}
DISTNAME=	w3m-${VERSION}-stable-m17n-${M17N_VERSION}
PKGNAME=	w3m-${VERSION}.${M17N_VERSION}${REVISION}
DISTFILES=	${DISTNAME}${EXTRACT_SUFX}:0
CONFIGURE_ARGS+= --suffix="" --charset=UTF-8
DOCS+=		README.m17n
@


1.54
log
@Update to 0.4.1.  Major new features are:
 * tab browsing
 * customizable mouse operations
 * two-stroke keybinding
 * undo for cursor moves
 * background downloading
 * data: URL support
 * news:, nntp: newsgroup support
 * folding lines for plain text
 * listing of links
 * setting default values for forms by pre_form

Also fix mimetypes typo; from J.A. Neitzel <jneitzel@@bluemarble.net>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2002/12/12 01:18:54 naddy Exp $
d16 1
@


1.53
log
@No more need for manual man page installation.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2002/12/12 01:10:53 naddy Exp $
d5 2
a6 2
VERSION=	0.3.2.2
M17N_VERSION=	20021207
d39 1
a39 1
		--mimetypes=/var/www/mime.types
d46 2
a47 2
DOCS=	FAQ.html HISTORY MANUAL.html \
	README README.dict README.func STORY.html \
@


1.52
log
@SECURITY update to 0.3.2.2:
"Hironori SAKAMOTO <hsaka@@mth.biglobe.ne.jp> found another security
vulnerability in w3m 0.3.2.x that w3m will miss to escape html tag
in img alt attribute, so malicious frame html may deceive you to
access your local files, cookies and so on."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2002/12/01 23:41:32 naddy Exp $
a77 1
	${INSTALL_MAN} ${DOCSRC}/w3m.1 ${PREFIX}/man/man1
@


1.51
log
@always prefer gdk_pixbuf over Imlib; from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2002/11/27 22:25:02 naddy Exp $
d5 3
a7 3
VERSION=	0.3.2.1
M17N_VERSION=	20021127
REVISION=	p1
d25 1
a25 1
		w3m-${VERSION}-m17n-${M17N_VERSION}${EXTRACT_SUFX}:0
a31 2
PATCH_LIST=	patch-*

d69 1
a69 1
DISTNAME=	w3m-${VERSION}-m17n-${M17N_VERSION}
a73 1
PATCH_LIST+=	m17n-patch-*
@


1.50
log
@Update to 0.3.2.1.
SECURITY: This fixes a vulnerability where w3m fails to escape HTML
tags in frame contents, so malicious frame HTML can deceive you and
access your local files, cookies and so on.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2002/11/07 14:19:23 naddy Exp $
d7 1
d10 1
d53 1
a53 1
LIB_DEPENDS+=	Imlib.19::graphics/imlib
d72 1
a72 1
PKGNAME=	w3m-${VERSION}.${M17N_VERSION}
@


1.49
log
@Update to 0.3.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2002/09/14 00:10:08 naddy Exp $
d5 2
a6 2
VERSION=	0.3.2
M17N_VERSION=	20021107
d30 2
d74 1
@


1.48
log
@Don't clobber LIB_DEPENDS in image flavor.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2002/08/28 12:38:15 naddy Exp $
d5 2
a6 2
VERSION=	0.3.1
M17N_VERSION=	20020717
@


1.48.2.1
log
@MFC:
SECURITY update to 0.3.2.1.: This fixes a vulnerability where w3m
fails to escape HTML tags in frame contents, so malicious frame
HTML can deceive you and access your local files, cookies and so on.
@
text
@d1 1
a1 1
# $OpenBSD$
d5 2
a6 2
VERSION=	0.3.2.1
M17N_VERSION=	20021127
a29 2
PATCH_LIST=	patch-*

a71 1
PATCH_LIST+=	m17n-patch-*
@


1.48.2.2
log
@MFC:
always prefer gdk_pixbuf over Imlib; from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48.2.1 2002/11/29 15:54:43 naddy Exp $
a6 1
REVISION=	p1
a8 1
PKGNAME=	${DISTNAME}${REVISION}
d51 1
a51 1
LIB_DEPENDS+=	gdk_pixbuf.2,gdk_pixbuf_xlib.2::graphics/gdk-pixbuf
d70 1
a70 1
PKGNAME=	w3m-${VERSION}.${M17N_VERSION}${REVISION}
@


1.48.2.3
log
@MFC:
SECURITY update to 0.3.2.2:
"Hironori SAKAMOTO <hsaka@@mth.biglobe.ne.jp> found another security
vulnerability in w3m 0.3.2.x that w3m will miss to escape html tag
in img alt attribute, so malicious frame html may deceive you to
access your local files, cookies and so on."
@
text
@d1 1
a1 1
# $OpenBSD$
d5 3
a7 3
VERSION=	0.3.2.2
M17N_VERSION=	20021207
REVISION=
d25 1
a25 1
		w3m-${VERSION}-stable-m17n-${M17N_VERSION}${EXTRACT_SUFX}:0
d32 2
d71 1
a71 1
DISTNAME=	w3m-${VERSION}-stable-m17n-${M17N_VERSION}
d76 1
d81 1
@


1.47
log
@Use the devel/boehm-gc port instead of the bundled gc library.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2002/07/20 12:03:18 naddy Exp $
d49 1
a49 1
LIB_DEPENDS=	Imlib.19::graphics/imlib
@


1.46
log
@Maintenance update to 0.3.1.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.45 2002/05/15 17:58:51 espie Exp $

ONLY_FOR_ARCHS=	alpha i386 m68k powerpc sparc
d19 2
a20 2
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=w3m/}
MASTER_SITES0=		http://www2u.biglobe.ne.jp/~hsaka/w3m/patch/
d25 2
d33 2
d39 2
a40 1
		dmail=mail ded=vi dbrowser=lynx
@


1.45
log
@MASTER_SITE_SUBDIR kill
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2002/04/07 00:54:46 naddy Exp $
d7 2
a8 2
VERSION=	0.3
M17N_VERSION=	20020311
a11 1
NEED_VERSION=	1.504
a44 3
PATCH_LIST=	patch-gc_dyn_load_c \
		patch-gc_include_private_gcconfig_h

a68 6
PATCH_LIST+=	patch-m17n-configure
.else
PATCH_LIST+=	patch-configure \
		patch-etc_c \
		patch-image_c \
		patch-search_c
@


1.44
log
@Somebody upstream secretly snuck in OpenBSD/alpha support without ever
telling me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2002/03/11 23:00:24 naddy Exp $
d22 1
a22 2
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=	w3m
@


1.44.2.1
log
@MFC:
SECURITY update to 0.3.2.1.: This fixes a vulnerability where w3m
fails to escape HTML tags in frame contents, so malicious frame
HTML can deceive you and access your local files, cookies and so on.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2002/04/07 00:54:46 naddy Exp $
d7 2
a8 2
VERSION=	0.3.2.1
M17N_VERSION=	20021127
d12 1
a31 2
PATCH_LIST=	patch-*

d47 3
d51 1
a51 1
LIB_DEPENDS+=	Imlib.19::graphics/imlib
d74 6
a79 1
PATCH_LIST+=	m17n-patch-*
@


1.44.2.2
log
@MFC:
SECURITY update to 0.3.2.2:
"Hironori SAKAMOTO <hsaka@@mth.biglobe.ne.jp> found another security
vulnerability in w3m 0.3.2.x that w3m will miss to escape html tag
in img alt attribute, so malicious frame html may deceive you to
access your local files, cookies and so on."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44.2.1 2002/11/30 02:54:32 brad Exp $
d7 2
a8 3
VERSION=	0.3.2.2
M17N_VERSION=	20021207
REVISION=
a10 1
PKGNAME=	${DISTNAME}${REVISION}
d21 1
a21 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
d23 1
a23 1
MASTER_SITES0=	http://www2u.biglobe.ne.jp/~hsaka/w3m/patch/
d26 1
a26 1
		w3m-${VERSION}-stable-m17n-${M17N_VERSION}${EXTRACT_SUFX}:0
d31 2
d67 2
a68 2
DISTNAME=	w3m-${VERSION}-stable-m17n-${M17N_VERSION}
PKGNAME=	w3m-${VERSION}.${M17N_VERSION}${REVISION}
d72 1
d77 1
@


1.43
log
@fix distfile fetching for m17n flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2002/03/11 18:36:42 naddy Exp $
d3 1
a3 1
ONLY_FOR_ARCHS=	i386 sparc m68k powerpc
@


1.42
log
@Update to 0.3 and m17n-20020311.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2002/03/10 15:20:05 naddy Exp $
d71 1
@


1.41
log
@Rename setpgrp() macro to avoid clash with function prototype.
This makes the m17n flavor build again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2002/03/10 07:44:43 brad Exp $
d7 2
a8 2
VERSION=	0.2.5
M17N_VERSION=	20020202
a24 1
MASTER_SITES1=		http://sites.inka.de/mips/unix/distfiles/
d27 1
a27 2
		w3m-${VERSION}-m17n-${M17N_VERSION}${EXTRACT_SUFX}:0 \
		w3m-0.2.5-img-2.2.patch.gz:1
d47 2
a48 5
PATCH_LIST=	patch-configure \
		patch-etc_c \
		patch-search_c \
		patch-gc_include_private_gcconfig_h \
		patch-gc_dyn_load_c
a50 5
.  if !${FLAVOR:L:Mm17n}
PATCHFILES=	w3m-0.2.5-img-2.2.patch.gz:1
PATCH_DIST_STRIP= -p1
.  endif
PATCH_LIST+=	patch-image_c
d73 1
d75 4
a78 1
PATCH_LIST+=	patch-file_c
@


1.40
log
@add powerpc support, mostly related to ELF.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2002/02/04 15:05:32 naddy Exp $
d50 2
d60 1
@


1.39
log
@Fold w3m-m17n as flavor back into w3m.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2002/02/02 03:19:01 naddy Exp $
d3 1
a3 1
ONLY_FOR_ARCHS=	i386 sparc m68k
d49 3
a51 1
PATCH_LIST=	patch-configure
@


1.38
log
@Update to 0.2.5.  Major new features in this release are:
* RFC2617: HTTP Digest authentication
* rc: default_url=0(empty) 1(current URL) 2(link URL)
* GOTO_RELATIVE (M-u)
* highlight for incremental search
* use w3mmail.cgi for mailto: URL
* support external URI loader
* support -dump_extra ftp://
* new regex implementation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2002/02/01 14:33:32 naddy Exp $
d5 1
a5 4
COMMENT=		"text-based web browser/pager"
COMMENT-image=		"text-based web browser/pager with inline image support"
COMMENT-japanese=	"Japanese text-based web browser/pager"
COMMENT-japanese-image=	"Japanese text-based web browser/pager with image support"
d8 1
d12 1
a12 1
NEED_VERSION=	1.498
d24 2
a25 4
MASTER_SITES0=		http://sites.inka.de/mips/unix/distfiles/
SUPDISTFILES=		${DISTFILES} ${IMG_PATCH}
IMG_PATCH=		w3m-${VERSION}-img-2.2.patch.gz:0
PATCH_DIST_STRIP=	-p1
d27 5
a31 1
FLAVORS=	image japanese
d49 2
d52 4
a55 1
PATCHFILES=	${IMG_PATCH}
d62 1
a62 6

.  if ${FLAVOR:L:Mimage}
FULLPKGNAME=	ja-${PKGNAME}-image
.  else
FULLPKGNAME=	ja-${PKGNAME}
.  endif
a67 1

a68 1

d71 1
d73 7
@


1.37
log
@Update image patch to 2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2002/01/20 22:17:51 naddy Exp $
d6 1
a7 1
COMMENT-image=		"text-based web browser/pager with inline image support"
d10 1
a10 2
VERSION=	0.2.4
IMG_VERSION=	2.2
d26 1
a26 1
MASTER_SITES0=		http://www2u.biglobe.ne.jp/~hsaka/w3m/patch/
d28 1
a28 1
IMG_PATCH=		w3m-${VERSION}-img-${IMG_VERSION}.patch.gz:0
d31 1
a31 1
FLAVORS=	japanese image
a49 1
PKGNAME=	w3m-${VERSION}.${IMG_VERSION}
@


1.36
log
@Resurrect image flavor now that Hironori Sakamoto's patch tracks
the w3m head version again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/01/07 18:16:12 naddy Exp $
d11 1
a11 1
IMG_VERSION=	1.18
@


1.35
log
@Update to 0.2.4:
* Support RFC2818 (https) server identity check
* Support incremental search (C-s, C-r)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2001/12/22 16:14:29 naddy Exp $
d7 2
d10 4
a13 1
DISTNAME=	w3m-0.2.4
d27 4
d32 1
a32 1
FLAVORS=	japanese
d50 8
d60 3
d64 1
@


1.34
log
@SECURITY update to 0.2.3.2:
Hironori Sakamoto found some vulnerabilities in w3m support scripts,
such as multipart.cgi, w3mman2html.cgi and w3mhelp.cgi.  Attacker
could run arbitrary commands on user's machine with user's privilege
by using malicious html pages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2001/12/20 22:36:10 naddy Exp $
d8 1
a8 1
DISTNAME=	w3m-0.2.3.2
@


1.33
log
@Update to 0.2.3.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2001/11/17 02:36:40 naddy Exp $
d8 1
a8 1
DISTNAME=	w3m-0.2.3.1
a28 2
		--libdir="${PREFIX}/libexec/w3m" \
		--helpdir="${PREFIX}/share/w3m" \
@


1.32
log
@- install man page in language corresponding to flavor
- handle mime.types better
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2001/11/16 21:35:44 naddy Exp $
d8 1
a8 1
DISTNAME=	w3m-0.2.2
d27 10
a36 7
CONFIGURE_ARGS= -nonstop -prefix="${PREFIX}" -cflags="${CFLAGS}" \
		-model=monster
CONFIGURE_ENV=	use_nntp=y use_ssl_verify=y \
		dmail=mail ded=vi dbrowser=lynx dcc="${CC}" \
		dtermlib="${TERMLIB}" def_helpdir="${PREFIX}/share/w3m" \
		def_libdir="${PREFIX}/libexec/w3m" \
		MIME_TYPES="/var/www/conf/mime.types"
d47 1
a47 1
CONFIGURE_ARGS+= -lang=ja -code=n
d54 1
a54 1
CONFIGURE_ARGS+= -lang=en
a57 3

pre-build:
	@@cd ${WRKBUILD}/gc; ${MAKE_PROGRAM} clean
@


1.31
log
@Update to 0.2.2; w3m is now hosted on SourceForge.

Radical pruning to make this port manageable again:
- Remove image and m17n flavors.  The corresponding functionality
  may eventually return in some other form.
- Rename kanji flavor to "japanese".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/11/05 15:40:07 naddy Exp $
d32 3
a34 1
		def_libdir="${PREFIX}/libexec/w3m"
d61 1
a61 1
	${INSTALL_MAN} ${WRKSRC}/doc/w3m.1 ${PREFIX}/man/man1
a62 2

NO_REGRESS=	Yes
@


1.30
log
@Update plain and image flavor to inu branch version 1.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2001/10/25 16:14:51 naddy Exp $
d6 1
a6 13
COMMENT-kanji=		"Japanese text-based web browser/pager"
COMMENT-image=		"text-based web browser/pager with inline image support"
COMMENT-m17n=		"multi-script text-based web browser/pager"
COMMENT-kanji-m17n=	"Japanese multi-script text-based web browser/pager"
COMMENT-kanji-image=	"Japanese text-based web browser/pager with image support"

V_AITO=		0.2.1	# aito's official release
V_INU=		1.5	# inu branch
V_IMG=		1.12	# image extension
V_M17N=		0.19	# multilingualization extension

AITO_DISTNAME=	w3m-${V_AITO}
INU_DISTNAME=	w3m-${V_AITO}-inu-${V_INU}
d8 1
d10 2
a11 2
NEED_VERSION=	1.474
HOMEPAGE=	http://ei5nazha.yz.yamagata-u.ac.jp/~aito/w3m/eng/
d20 2
a21 13
MASTER_SITES=	ftp://ei5nazha.yz.yamagata-u.ac.jp/w3m/ \
		http://mi.med.tohoku.ac.jp/~satodai/w3m/src/ \
		http://www.instinct.org/w3m/ \
		ftp://ftp.wiretapped.net/pub/w3m/
MASTER_SITES0=	http://mi.med.tohoku.ac.jp/~satodai/w3m/inu/200110/
MASTER_SITES1=	http://www2u.biglobe.ne.jp/~hsaka/w3m/patch/

INU_DISTFILE=	${INU_DISTNAME}${EXTRACT_SUFX}:0
IMG_PATCH=	w3m-${V_AITO}-inu-${V_INU}-img-${V_IMG}.patch:1
M17N_PATCH=	w3m-${V_AITO}-m17n-${V_M17N}.patch.gz:1
PATCH_DIST_STRIP= -p1
SUPDISTFILES=	${AITO_DISTNAME}${EXTRACT_SUFX} ${INU_DISTFILE} \
		${IMG_PATCH} ${M17N_PATCH}
d23 1
a23 1
FLAVORS=	kanji image m17n
a25 2
PATCH_LIST=	patch-*

a33 2
NO_REGRESS=	Yes

d38 1
a38 31
.if ${FLAVOR:L:Mimage} && ${FLAVOR:L:Mm17n}
ERRORS+=	"Fatal: Flavors 'image' and 'm17n' are mutually exclusive."
.endif

.if  ${FLAVOR:L:Mimage}

DISTNAME=	${INU_DISTNAME}
PKGNAME=	w3m-${V_AITO}.inu.${V_INU}.${V_IMG}
DISTFILES=	${INU_DISTFILE}
PATCHFILES=	${IMG_PATCH}
HOMEPAGE=	http://www2u.biglobe.ne.jp/~hsaka/w3m/
DOCS+=		README.img
LIB_DEPENDS+=	Imlib.19::graphics/imlib

.elif ${FLAVOR:L:Mm17n}

DISTNAME=	${AITO_DISTNAME}
PKGNAME=	${DISTNAME}.${V_M17N}p1
PATCHFILES=	${M17N_PATCH}
HOMEPAGE=	http://www2u.biglobe.ne.jp/~hsaka/w3m/
CONFIGURE_ARGS+= -suffix="" -charset=UTF-8
DOCS+=		README.m17n
PATCH_LIST+=	m17n-*

.else

DISTNAME=	${INU_DISTNAME}
PKGNAME=	w3m-${V_AITO}.inu.${V_INU}
DISTFILES=	${INU_DISTFILE}

.endif
a39 7
.if ${FLAVOR:L:Mkanji}

.  if   ${FLAVOR:L:Mimage}
FULLPKGNAME=	ja-${PKGNAME}-img
.  elif ${FLAVOR:L:Mm17n}
FULLPKGNAME=	ja-${PKGNAME}-m17n
.  else
a40 1
.  endif
d54 3
d60 3
a62 1
	cd ${DOCSRC} && ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/w3m
@


1.29
log
@no regression test framework
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/10/24 12:23:32 naddy Exp $
d13 2
a14 2
V_INU=		1.4	# inu branch
V_IMG=		1.11	# image extension
d35 1
a35 1
MASTER_SITES0=	http://mi.med.tohoku.ac.jp/~satodai/w3m/inusrc/200109/
d42 1
a42 1
SUPDISTFILES=	${DISTNAME}${EXTRACT_SUFX} ${INU_DISTFILE} \
@


1.28
log
@update base and image flavor to 0.2.1-inu-4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/10/06 18:33:50 naddy Exp $
d57 2
@


1.27
log
@add Australian mirror
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/09/29 14:57:52 naddy Exp $
d12 7
a18 3
V_BASE=		0.2.1
V_IMG=		1.10
V_M17N=		0.19
a19 2
DISTNAME=	w3m-${V_BASE}
PKGNAME=	${DISTNAME}p3
d21 1
a21 1
NEED_VERSION=	1.427
d35 2
a36 1
MASTER_SITES0=	http://www2u.biglobe.ne.jp/~hsaka/w3m/patch/
d38 3
a40 2
IMG_PATCH=	w3m-${V_BASE}-img-${V_IMG}.patch:0
M17N_PATCH=	w3m-${V_BASE}-m17n-${V_M17N}.patch.gz:0
d42 2
a43 1
SUPDISTFILES=	${DISTFILES} ${IMG_PATCH} ${M17N_PATCH}
d68 3
a70 1
PKGNAME=	${DISTNAME}.${V_IMG}p1
a73 1
PATCH_LIST+=	base-mimehead_c base-url_c
d78 1
d88 3
a90 1
PATCH_LIST+=	base-*
@


1.26
log
@- Handle URLs with abbreviated scheme correctly.
  Submitted by d@@, actual patch taken from m17n flavor.
- Bump package revisions.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/09/29 11:41:03 naddy Exp $
d31 2
a32 1
		http://www.instinct.org/w3m/
@


1.25
log
@SECURITY: fix arbitray command execution from remote in m17n flavor.
By Hironori Sakamoto <hsaka@@mth.biglobe.ne.jp>.
Noticed by brad@@ in NetBSD.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/09/22 14:27:48 naddy Exp $
d17 1
a17 1
PKGNAME=	${DISTNAME}p2
d62 1
a62 1
PKGNAME=	${DISTNAME}.${V_IMG}
d66 1
a66 1
PATCH_LIST+=	base-mimehead_c
@


1.24
log
@Enable SSL verification feature.
Suggested by Yozo TODA <yozo@@imit.chiba-u.ac.jp>; input from heko@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/08/02 14:59:07 naddy Exp $
d71 1
a71 1
PKGNAME=	${DISTNAME}.${V_M17N}
d76 1
@


1.23
log
@fix flavored COMMENT, pointed out by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/08/01 23:18:53 naddy Exp $
d47 2
a48 1
CONFIGURE_ENV=	use_nntp=y dmail=mail ded=vi dbrowser=lynx dcc="${CC}" \
@


1.22
log
@update image flavor to 1.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/07/31 15:27:08 naddy Exp $
d6 1
a6 1
COMMENT-kanji=		"text-based web browser/pager, japanese flavor"
d9 2
a10 2
COMMENT-kanji-m17n=	"multi-script text-based web browser/pager, japanese flavor"
COMMENT-image-kanji=	"text-based web browser/pager with image support, japanese flavor"
@


1.21
log
@Add "image" flavor for Hironori Sakamoto's experimental extension
to display inline images when w3m is run from an X11 terminal
emulator.  Ils sont fous, ces Japonais !
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/07/30 00:24:19 naddy Exp $
d13 1
a13 1
V_IMG=		1.9
@


1.20
log
@Add patch to fix a display problem in message mode (-m).
From Hironori Sakamoto <h-saka@@lsi.nec.co.jp> via w3m-dev-en list.
Bump package revision.
Problem was already addressed in m17n version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/06/22 01:15:40 naddy Exp $
d7 1
d10 1
d12 3
a14 2
V_AITO=		0.2.1
V_HSAKA=	0.19
d16 1
a16 1
DISTNAME=	w3m-${V_AITO}
d19 1
a19 1
NEED_VERSION=	1.364
d34 4
a37 2
M17NPATCH=	w3m-${V_AITO}-m17n-${V_HSAKA}.patch.gz:0
SUPDISTFILES=	${DISTFILES} ${M17NPATCH}
d39 1
a39 1
FLAVORS=	kanji m17n
d42 2
d55 21
a75 6
.if ${FLAVOR:L:Mm17n}
PKGNAME=		${DISTNAME}.${V_HSAKA}
PATCHFILES=		${M17NPATCH}
PATCH_DIST_STRIP=	-p1
CONFIGURE_ARGS+=	-suffix="" -charset=UTF-8
DOCS+=			README.m17n
d77 3
a79 1
PATCH_LIST=		patch-* no_m17n-*
d84 12
a95 12
. if ${FLAVOR:L:Mm17n}
FULLPKGNAME=		ja-${PKGNAME}-m17n
. else
FULLPKGNAME=		ja-${PKGNAME}
. endif
CATEGORIES+=		japanese
CONFIGURE_ARGS+=	-lang=ja
# XXX w3m resets kterm to jis before displaying a page anyway.
CONFIGURE_ARGS+=	-code=n
DOCS+=			README.SSL README.cookie README.keymap \
			README.mailcap README.menu
DOCSRC=			${WRKSRC}/doc-jp
d99 2
a100 2
CONFIGURE_ARGS+=	-lang=en
DOCSRC=			${WRKSRC}/doc
@


1.19
log
@SECURITY: Fix remote buffer overflow in !m17n flavors and bump package
revision accordingly.  Problem reported on w3m-dev-en list.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/05/05 22:41:28 naddy Exp $
d14 1
a14 1
PKGNAME=	${DISTNAME}p1
@


1.18
log
@Update m17n flavor to w3m-m17n-0.19.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/04/03 22:54:50 naddy Exp $
d14 1
d54 2
@


1.17
log
@limit to i386, sparc, m68k; m68k confirmed by miod@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/03/30 17:19:08 naddy Exp $
d11 1
a11 1
V_HSAKA=	0.18
a50 1
PATCH_LIST=		patch-* m17n-*
@


1.17.2.1
log
@MFC:
SECURITY: Fix remote buffer overflow in !m17n flavors and bump package
revision accordingly.  Problem reported on w3m-dev-en list.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/06/22 01:15:40 naddy Exp $
d11 1
a11 1
V_HSAKA=	0.19
a13 1
PKGNAME=	${DISTNAME}p1
d51 1
a53 2
.else
PATCH_LIST=		patch-* no_m17n-*
@


1.16
log
@- Add multilingualization (m17n) flavor based on Hironori Sakamoto's
  m17n patch.  This allows to display pages in all kinds of scripts
  and encodings in a UTF-8 xterm.
- Always use the included boehm-gc; problem reported by espie@@.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.15 2001/03/24 12:56:14 naddy Exp $
@


1.15
log
@- Take over maintainership; okay dugsong@@
- Update to w3m-0.2.1.
- Replace post-bsd.port.mk fumbling with FULLPKGNAME and PFRAGs.
- Install Japanese docs for respective flavor.
- Pull COMMENT* into Makefile.
- Remove useless/obsolete verbiage from DESCR.
- Miscellaneous cleanups.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/10/22 14:03:54 espie Exp $
d3 4
a6 2
COMMENT=	"text-based web browser/pager"
COMMENT-kanji=	"text-based web browser/pager, japanese flavor"
d8 4
a11 1
DISTNAME=	w3m-0.2.1
d13 1
a13 1
NEED_VERSION=	1.363
d26 7
a40 3
FLAVORS=	kanji
FLAVOR?=

d45 9
d56 7
a62 3
FULLPKGNAME=	ja-${PKGNAME}
CATEGORIES+=	japanese
CONFIGURE_ARGS+= -lang=ja
d64 4
a67 3
CONFIGURE_ARGS+= -code=n
DOCS+=	README.SSL README.cookie README.keymap README.mailcap README.menu
DOCDIR=	${WRKSRC}/doc-jp
d71 2
a72 2
CONFIGURE_ARGS+= -lang=en
DOCDIR=	${WRKSRC}/doc
d79 1
a79 1
	cd ${DOCDIR} && ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/w3m
@


1.14
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/08/25 02:24:10 brad Exp $
d3 4
a6 1
DISTNAME=	w3m-0.1.10
d8 1
a8 5
NEED_VERSION=	1.310
MASTER_SITES=	ftp://ftp.firedrake.org/w3m/ \
		ftp://ei5nazha.yz.yamagata-u.ac.jp/w3m/ \
		http://www.instinct.org/w3m/

d11 1
a11 1
MAINTAINER=	Dug Song <dugsong@@monkey.org>
d18 4
d23 1
a23 1
CONFIGURE_ARGS= -nonstop -prefix="${PREFIX}" -cflags="${CFLAGS} -Wall" \
d32 4
d37 4
a40 2
CATEGORIES+=		japanese
CONFIGURE_ARGS+=	-lang=ja
d42 4
a45 1
CONFIGURE_ARGS+=	-code=n
d47 4
a50 1
CONFIGURE_ARGS+=	-lang=en
a52 4
DOCS=	FAQ.html HISTORY MANUAL.html \
	README README.cygwin README.dict README.func STORY.html \
	keymap.default keymap.lynx menu.default menu.submenu

d56 1
a56 1
	cd ${WRKSRC}/doc; ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/w3m
a58 7
# XXX Tweak PKGNAME
.if ${FLAVOR:L:Mkanji}
PKGNAME:=	ja-${PKGNAME:S/-kanji//}
PKG_ARGS+=	-C 'w3m-*'
.else
PKG_ARGS+=	-C 'ja-w3m-*'
.endif
@


1.13
log
@- fixup Makefile
- use better filenames for patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/07/14 17:50:13 espie Exp $
d12 1
a12 1
MAINTAINER=	dugsong@@monkey.org
@


1.12
log
@Add kanji FLAVOR to w3m, suggestion of Toda-san.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/07/10 00:17:55 d Exp $
d10 2
a12 1
HOMEPAGE=	http://ei5nazha.yz.yamagata-u.ac.jp/~aito/w3m/eng/
a13 1
LICENSE_TYPE=		BSD
d19 8
a26 1
FLAVORS=		kanji
a37 14
CONFIGURE_STYLE=	simple
CONFIGURE_ARGS+=	-nonstop
CONFIGURE_ARGS+=	-prefix "${PREFIX}" -cflags="${CPPFLAGS}"
CONFIGURE_ARGS+=	-model=monster
CONFIGURE_ENV+=		dmail=mail
CONFIGURE_ENV+=		ded=vi
CONFIGURE_ENV+=		dbrowser=lynx
CONFIGURE_ENV+=		dcc="${CC}"
CONFIGURE_ENV+=		dtermlib="${TERMLIB}"
CONFIGURE_ENV+=		def_helpdir="${PREFIX}/share/w3m"
CONFIGURE_ENV+=		def_libdir="${PREFIX}/libexec/w3m"
CONFIGURE_ENV+=		use_nntp=y

MAN1=	w3m.1
d45 1
a45 3
.for doc in ${DOCS}
	${INSTALL_DATA} ${WRKSRC}/doc/${doc} ${PREFIX}/share/doc/w3m
.endfor
@


1.11
log
@upgrade to w3m-0.1.10 (how did this get missed?)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/04/10 20:03:20 dugsong Exp $
d19 12
a33 2
CONFIGURE_ARGS+=	-lang=en
CONFIGURE_ARGS+=	-model=monster
d57 7
@


1.10
log
@upgrade to w3m-0.1.8, from d@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/03/08 03:10:58 espie Exp $
d3 1
a3 1
DISTNAME=	w3m-0.1.8
d5 1
d11 1
d19 19
a37 2
HAS_CONFIGURE=	Yes
CONFIGURE_ARGS=	-yes
d39 1
a39 11
FAKE=Yes
WRKDIST=	${WRKDIR}/w3m

HOST!=	uname -n

pre-configure:
	@@echo "# Configuration at ${HOST}" > ${WRKBUILD}/config.param
	@@sed -e 's|!!PREFIX!!|${PREFIX}|' ${FILESDIR}/config.param >> \
		${WRKBUILD}/config.param

pre-install:
d42 3
a44 1
	${INSTALL_DATA} ${WRKSRC}/doc/[F-Sk-m]* ${PREFIX}/share/doc/w3m
@


1.10.2.1
log
@bring www as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/07/14 17:50:13 espie Exp $
d3 1
a3 1
DISTNAME=	w3m-0.1.10
a4 1
NEED_VERSION=	1.310
a9 1
HOMEPAGE=	http://ei5nazha.yz.yamagata-u.ac.jp/~aito/w3m/eng/
d17 2
a18 2
FLAVORS=		kanji
FLAVOR?=
d20 2
a21 26
.if ${FLAVOR:L:Mkanji}
CATEGORIES+=		japanese
CONFIGURE_ARGS+=	-lang=ja
# XXX w3m resets kterm to jis before displaying a page anyway.
CONFIGURE_ARGS+=	-code=n
.else
CONFIGURE_ARGS+=	-lang=en
.endif

CONFIGURE_STYLE=	simple
CONFIGURE_ARGS+=	-nonstop
CONFIGURE_ARGS+=	-prefix "${PREFIX}" -cflags="${CPPFLAGS}"
CONFIGURE_ARGS+=	-model=monster
CONFIGURE_ENV+=		dmail=mail
CONFIGURE_ENV+=		ded=vi
CONFIGURE_ENV+=		dbrowser=lynx
CONFIGURE_ENV+=		dcc="${CC}"
CONFIGURE_ENV+=		dtermlib="${TERMLIB}"
CONFIGURE_ENV+=		def_helpdir="${PREFIX}/share/w3m"
CONFIGURE_ENV+=		def_libdir="${PREFIX}/libexec/w3m"
CONFIGURE_ENV+=		use_nntp=y

MAN1=	w3m.1
DOCS=	FAQ.html HISTORY MANUAL.html \
	README README.cygwin README.dict README.func STORY.html \
	keymap.default keymap.lynx menu.default menu.submenu
d23 8
a30 1
post-install:
d33 1
a33 3
.for doc in ${DOCS}
	${INSTALL_DATA} ${WRKSRC}/doc/${doc} ${PREFIX}/share/doc/w3m
.endfor
a35 7
# XXX Tweak PKGNAME
.if ${FLAVOR:L:Mkanji}
PKGNAME:=	ja-${PKGNAME:S/-kanji//}
PKG_ARGS+=	-C 'w3m-*'
.else
PKG_ARGS+=	-C 'ja-w3m-*'
.endif
@


1.9
log
@Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/15 21:32:34 brad Exp $
d3 1
a3 1
DISTNAME=	w3m-0.1.6
@


1.8
log
@previous use of a separate configure script to create config.param is bad,
remove it
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/15 18:59:02 brad Exp $
a18 1
MAKE_ENV=	DESTDIR=
d20 1
d26 1
a26 1
	@@echo "# Configuretion at ${HOST}" > ${WRKBUILD}/config.param
@


1.7
log
@style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/02/15 05:05:26 turan Exp $
d22 7
@


1.6
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 6
# Makefile for:		w3m
# Version required:	0.1.6
# Date created:		31 Jan 2000
# Who:			dugsong@@monkey.org
#
# $OpenBSD: Makefile,v 1.5 2000/02/12 06:30:06 turan Exp $
a3 1

d5 1
a5 3

MASTER_SITES=	\
		ftp://ftp.firedrake.org/w3m/ \
d12 4
a15 6
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES

WRKDIST=	${WRKDIR}/w3m
d17 1
a18 1
HAS_CONFIGURE=	yes
d21 2
d24 3
a26 3
	${INSTALL_MAN} ${WRKSRC}/doc/w3m.1 ${PREFIX}/man/man1/
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/w3m/
	${INSTALL_DATA} ${WRKSRC}/doc/[F-Sk-m]* ${PREFIX}/share/doc/w3m/
@


1.5
log
@bsd licenses
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 2000/02/10 14:38:36 espie Exp $
d20 4
a23 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.4
log
@WRKDIST
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 2000/02/09 05:38:34 d Exp $
d18 6
@


1.3
log
@correct URL
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 2000/01/30 22:35:13 d Exp $
d19 1
a19 1
WRKSRC=		${WRKDIR}/w3m
@


1.2
log
@From: Marc Espie <Marc.Espie@@liafa.jussieu.fr>
> Looks like cvs missed the Makefile...
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/10/26 14:20:07 dugsong Exp $
d15 1
a15 1
		http://www.instinct.org/~pgl/w3m/
@


1.1
log
@Initial revision
@
text
@d2 2
a3 2
# Version required:	991008
# Date created:		08 Oct 1999
d6 1
a6 1
# $OpenBSD$
d8 1
a8 1
DISTNAME=	w3m-991008
d12 1
a12 1
MASTER_SITES=	ftp://ei5nazha.yz.yamagata-u.ac.jp/w3m/ \
d14 1
d21 8
a28 2
NO_CONFIGURE=	yes

@


1.1.1.1
log
@w3m port
@
text
@@
