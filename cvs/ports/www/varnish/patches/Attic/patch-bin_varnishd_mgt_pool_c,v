head	1.4;
access;
symbols
	OPENBSD_5_4:1.3.0.8
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.6
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2013.09.23.08.23.15;	author jasper;	state dead;
branches;
next	1.3;

1.3
date	2011.12.23.13.06.30;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2010.09.11.13.03.46;	author jim;	state Exp;
branches;
next	1.1;

1.1
date	2010.06.30.21.49.37;	author jim;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- update to varnish 3.0.4
- add rc script

rc script ok aja@@
maintainer timed-out
@
text
@$OpenBSD: patch-bin_varnishd_mgt_pool_c,v 1.3 2011/12/23 13:06:30 jasper Exp $
--- bin/varnishd/mgt_pool.c.orig	Mon Oct 24 03:25:13 2011
+++ bin/varnishd/mgt_pool.c	Tue Nov 29 20:39:42 2011
@@@@ -78,7 +78,11 @@@@ tweak_stack_size(struct cli *cli, const struct parspec
 	unsigned low, u;
 	char buf[12];
 
+#if defined (__OpenBSD__)
+	low = PTHREAD_STACK_MIN;
+#else
 	low = sysconf(_SC_THREAD_STACK_MIN);
+#endif
 
 	if (arg != NULL && !strcmp(arg, "32bit")) {
 		u = 65536;
@


1.3
log
@- update to 3.0.2

from Gonzalo L. R.
maintainer timed-out
@
text
@d1 1
a1 1
$OpenBSD: patch-bin_varnishd_mgt_pool_c,v 1.2 2010/09/11 13:03:46 jim Exp $
@


1.2
log
@update to 2.1.3 inspired by patch from Marius ROMAN <marius.roman at gmail.com>, modifications by me with input from ajacoutot@@

ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD$
--- bin/varnishd/mgt_pool.c.orig	Wed May  5 03:32:03 2010
+++ bin/varnishd/mgt_pool.c	Sun Jun 27 14:10:25 2010
@@@@ -80,7 +80,11 @@@@ tweak_stack_size(struct cli *cli, const struct parspec
d14 1
a14 1
 	if (arg != NULL && !strcmp(arg, "32")) {
@


1.1
log
@update to 2.1.2, take maintainer, and correct homepage.  putting in tree to get more eyes on it.

ok robert@@
@
text
@@

