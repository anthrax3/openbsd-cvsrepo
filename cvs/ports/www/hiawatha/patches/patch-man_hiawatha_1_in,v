head	1.9;
access;
symbols
	OPENBSD_6_2:1.9.0.2
	OPENBSD_6_2_BASE:1.9
	OPENBSD_6_1:1.8.0.2
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.6.0.4
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.3.0.8
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2017.04.17.09.25.50;	author juanfra;	state Exp;
branches;
next	1.8;
commitid	BpbhoN4OxnjMON0T;

1.8
date	2016.10.07.01.49.28;	author juanfra;	state Exp;
branches;
next	1.7;
commitid	mOfla4kqDFlY3nO3;

1.7
date	2016.08.27.08.17.54;	author juanfra;	state Exp;
branches;
next	1.6;
commitid	ELuhQvf15pPXhYUK;

1.6
date	2015.11.17.14.34.43;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	FkNg5F7mwQH4Ywqa;

1.5
date	2015.05.25.09.24.31;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	mzKn2WIUK47hBCaB;

1.4
date	2015.05.02.15.42.02;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	Wr4MrEtFEC7RKFQC;

1.3
date	2013.04.26.09.15.24;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2013.04.14.20.21.15;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2012.12.12.09.39.53;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Update to hiawatha 10.6.
@
text
@$OpenBSD: patch-man_hiawatha_1_in,v 1.8 2016/10/07 01:49:28 juanfra Exp $
--- man/hiawatha.1.in.orig	Sat Mar  4 09:36:56 2017
+++ man/hiawatha.1.in	Mon Apr 17 11:15:45 2017
@@@@ -160,12 +160,12 @@@@ Example: CGIextension = cgi
 .B CGIhandler = <CGI handler>:<extension>[, <extension>, ...]
 Specify the handler for a CGI extension. A handler is an executable which will run the CGI script.
 .br
-Example: CGIhandler = /usr/bin/php5-cgi:php,php5
+Example: CGIhandler = ${LOCALBASE}/bin/php-fastcgi:php,php5
 .TP
 .B CGIwrapper = <CGI wrapper>
 Specify the wrapper for CGI processes. A secure CGI wrapper is included in the Hiawatha package (see cgi-wrapper(1) for more information).
 .br
-Default = @@CMAKE_INSTALL_FULL_SBINDIR@@/cgi-wrapper, example: CGIwrapper = /bin/cgi-wrapper
+Default = @@CMAKE_INSTALL_FULL_SBINDIR@@/cgi-wrapper, example: CGIwrapper = ${PREFIX}/sbin/cgi-wrapper/cgi-wrapper
 .TP
 .B ChallengeClient = <threshold>, (httpheader|javascript), <ban-time>[, <secret>]
 Challenge the client to verify that it's a real web browser and not an HTTP bot. When the total amount of connections reaches <threshold>, Hiawatha sends a response to the first request in a connection which will make the client resend the request, but now with a cookie. The cookie can be set via an HTTP Set-Cookie header or a Javascript. Further requests are only accepted when the client sends this cookie. Otherwise, the client is banned for <ban-time> seconds. This feature can be used to reduce the effects of a DDoS attack. The <secret> can be a random string of up to 20 characters (the rest is ignored) and is used to generate the cookie. When not set, Hiawatha will generate a random secret.
@@@@ -205,7 +205,7 @@@@ Example: HideProxy = 192.168.10.20
 .B Include <filename>|<directory>
 Include another configuration file or configuration files in a directory.
 .br
-Example: Include /etc/hiawatha/hosts.conf
+Example: Include ${SYSCONFDIR}/hiawatha/hosts.conf
 .TP
 .B KickOnBan = yes|no
 Close all other connections that originate from the same IP in case of a ban.
@@@@ -298,7 +298,7 @@@@ Example: RequestLimitMask = deny 192.168.0.1
 .B ServerId = <userid>|<userid>:<groupid>[, <groupid>, ...]
 The userid and groupid(s) the server will change to. If only a userid is specified, the groupid(s) will be looked up in /etc/passwd and /etc/group. The userid en groupid of user root are not allowed here. The userid or groupid can also be a name.
 .br
-Default = 65534:65534, example: ServerId = www-data
+Default = 579:579, example: ServerId = _hiawatha
 .TP
 .B ServerString = <text>
 The text behind 'Server:' in the HTTP header of a response. Use 'none' to completely remove the Server string from the HTTP header.
@@@@ -654,7 +654,7 @@@@ Example: ScriptAlias = /script.cgi:/usr/lib/script.cgi
 .B ShowIndex = yes|no|<XSLT file with full path>|xml
 Return a directory listing in HTML format for a directory request when the startfile does not exist. If you want to change the index layout completely, specify the path of a XSLT file. If the XSLT file is not found or 'xml' is used, Hiawatha will output the XML of the directory index. An example of the XML output can be found in extra/index.xml inside the source package.
 .br
-Default = no, example: ShowIndex = /etc/hiawatha/index.xslt
+Default = no, example: ShowIndex = ${SYSCONFDIR}/hiawatha/index.xslt
 .br
 
 (requires that Hiawatha was not compiled with -DENABLE_XSLT=off)
@@@@ -1045,7 +1045,7 @@@@ and
 (only valid in the root directory of a website)
 
 .SH MIMETYPES
-Specify the mimetypes of files in /etc/hiawatha/mimetypes.conf.
+Specify the mimetypes of files in ${SYSCONFDIR}/hiawatha/mimetypes.conf.
 .TP
 .B <mimetype> <extension> [<extension> ...]
 Example: image/jpeg jpg jpeg jpe
@@@@ -1065,13 +1065,13 @@@@ Unban all IP addresses.
 Clear the internal cache (requires that Hiawatha was not compiled with -DENABLE_CACHE=off).
 
 .SH FILES
-.B /usr/sbin/hiawatha
+.B ${PREFIX}/sbin/hiawatha
 .br
-.B /etc/hiawatha/hiawatha.conf
+.B ${SYSCONFDIR}/hiawatha/hiawatha.conf
 .br
-.B /etc/hiawatha/mime.types
+.B ${SYSCONFDIR}/hiawatha/mime.types
 .br
-.B /etc/hiawatha/cgi-wrapper.conf
+.B ${SYSCONFDIR}/hiawatha/cgi-wrapper.conf
 
 
 .SH SEE ALSO
@


1.8
log
@Update to hiawatha 10.4.
@
text
@d1 4
a4 4
$OpenBSD: patch-man_hiawatha_1_in,v 1.7 2016/08/27 08:17:54 juanfra Exp $
--- man/hiawatha.1.in.orig	Thu Oct  6 17:00:19 2016
+++ man/hiawatha.1.in	Fri Oct  7 03:24:03 2016
@@@@ -158,12 +158,12 @@@@ Example: CGIextension = cgi
d19 1
a19 1
@@@@ -203,7 +203,7 @@@@ Example: HideProxy = 192.168.10.20
d28 1
a28 1
@@@@ -296,7 +296,7 @@@@ Example: RequestLimitMask = deny 192.168.0.1
d37 1
a37 1
@@@@ -635,7 +635,7 @@@@ Example: ScriptAlias = /script.cgi:/usr/lib/script.cgi
d46 1
a46 1
@@@@ -1026,7 +1026,7 @@@@ and
d55 1
a55 1
@@@@ -1046,13 +1046,13 @@@@ Unban all IP addresses.
@


1.7
log
@Update to hiawatha 10.3. Change the port to use the ports version of
polarssl. Add myself as MAINTAINER.

OK jca@@.
@
text
@d1 3
a3 3
$OpenBSD: patch-man_hiawatha_1_in,v 1.6 2015/11/17 14:34:43 ajacoutot Exp $
--- man/hiawatha.1.in.orig	Sun Jun  5 10:26:13 2016
+++ man/hiawatha.1.in	Sat Aug 27 01:58:47 2016
d46 1
a46 1
@@@@ -1021,7 +1021,7 @@@@ and
d55 1
a55 1
@@@@ -1041,13 +1041,13 @@@@ Unban all IP addresses.
@


1.6
log
@Update to hiawatha-9.15.
@
text
@d1 3
a3 3
$OpenBSD: patch-man_hiawatha_1_in,v 1.5 2015/05/25 09:24:31 ajacoutot Exp $
--- man/hiawatha.1.in.orig	Mon Oct 12 21:03:06 2015
+++ man/hiawatha.1.in	Tue Nov 17 15:33:02 2015
d28 1
a28 1
@@@@ -293,7 +293,7 @@@@ Example: RequestLimitMask = deny 192.168.0.1
d37 1
a37 1
@@@@ -631,7 +631,7 @@@@ Example: ScriptAlias = /script.cgi:/usr/lib/script.cgi
d46 1
a46 1
@@@@ -1011,7 +1011,7 @@@@ and
d55 1
a55 1
@@@@ -1038,13 +1038,13 @@@@ Unban all IP addresses.
@


1.5
log
@Update to hiawatha-9.13.
@
text
@d1 3
a3 3
$OpenBSD: patch-man_hiawatha_1_in,v 1.4 2015/05/02 15:42:02 ajacoutot Exp $
--- man/hiawatha.1.in.orig	Mon May  4 19:06:03 2015
+++ man/hiawatha.1.in	Mon May 25 11:22:29 2015
d28 1
a28 1
@@@@ -288,7 +288,7 @@@@ Example: RequestLimitMask = deny 192.168.0.1
d37 1
a37 1
@@@@ -626,7 +626,7 @@@@ Example: ScriptAlias = /script.cgi:/usr/lib/script.cgi
d46 1
a46 1
@@@@ -1009,7 +1009,7 @@@@ and
d55 1
a55 1
@@@@ -1036,13 +1036,13 @@@@ Unban all IP addresses.
@


1.4
log
@Update to hiawatha-9.12.
@
text
@d1 3
a3 3
$OpenBSD: patch-man_hiawatha_1_in,v 1.3 2013/04/26 09:15:24 sthen Exp $
--- man/hiawatha.1.in.orig	Thu Feb 12 11:39:30 2015
+++ man/hiawatha.1.in	Sat May  2 17:36:33 2015
d18 1
a18 1
 Challenge the client to verify that it's a real web browser and not an HTTP bot. When the total amount of connections reaches <threshold>, Hiawatha sends a response to the first request in a connection which will make the client resend the request, but now with a cookie. The cookie can be set via a HTTP Set-Cookie header or a Javascript. Further requests are only accepted when the client sends this cookie. Otherwise, the client is banned for <ban-time> seconds. This feature can be used to reduce the effects of a DDoS attack. The <secret> can be a random string of up to 20 characters (the rest is ignored) and is used to generate the cookie. When not set, Hiawatha will generate a random secret.
d28 1
a28 1
@@@@ -283,7 +283,7 @@@@ Example: RequestLimitMask = deny 192.168.0.1
@


1.3
log
@update to hiawatha 9.1
@
text
@d1 4
a4 4
$OpenBSD: patch-man_hiawatha_1_in,v 1.2 2013/04/14 20:21:15 sthen Exp $
--- man/hiawatha.1.in.orig	Tue Apr 16 12:10:26 2013
+++ man/hiawatha.1.in	Fri Apr 26 10:04:40 2013
@@@@ -147,12 +147,12 @@@@ Example: CGIextension = cgi
d6 1
a6 1
 Specify the handler for a CGI extension. A handler is an executable which will 'run' the CGI script.
d8 1
a8 1
-Example: CGIhandler = /usr/bin/php4-cgi:php,php4
d17 3
a19 3
 .B ConnectionsPerIP = <number>
 Maximum number of simultaneous connections per IP address.
@@@@ -187,7 +187,7 @@@@ Example: HideProxy = 192.168.10.20
d21 1
a21 1
 Include another configurationfile or configurationfiles in a directory.
d28 2
a29 2
@@@@ -272,7 +272,7 @@@@ Example: RequestLimitMask = deny 192.168.0.1
 .B ServerId = <userid>|<userid>:<groupid>[,<groupid>, ...]
d37 1
a37 1
@@@@ -562,7 +562,7 @@@@ Example: Setenv PHPRC = /var/www/conf
d39 1
a39 1
 Return a directory listing in HTML format for a directory request when the startfile does not exist. If you want to change the index layout completely, specify the path of a XSLT file. If the XSLT file is not found or 'xml' is used, Hiawatha will output the XML of the directory index. The content of a .hiawatha_index in that directory will be included in the XML.
d46 2
a47 2
@@@@ -924,7 +924,7 @@@@ and
 .B UseGZfile
d55 1
a55 1
@@@@ -951,13 +951,13 @@@@ Unban all IP addresses.
@


1.2
log
@update to hiawatha-9.0
@
text
@d1 3
a3 3
$OpenBSD: patch-man_hiawatha_1_in,v 1.1 2012/12/12 09:39:53 jasper Exp $
--- man/hiawatha.1.in.orig	Sat Mar 30 22:41:13 2013
+++ man/hiawatha.1.in	Sun Apr 14 21:05:40 2013
d37 1
a37 1
@@@@ -557,7 +557,7 @@@@ Example: Setenv PHPRC = /var/www/conf
d46 1
a46 1
@@@@ -922,7 +922,7 @@@@ and
d55 1
a55 1
@@@@ -949,13 +949,13 @@@@ Unban all IP addresses.
@


1.1
log
@- update to hiawatha-8.6
@
text
@d1 4
a4 4
$OpenBSD$
--- man/hiawatha.1.in.orig	Wed Dec 12 09:16:46 2012
+++ man/hiawatha.1.in	Wed Dec 12 09:19:41 2012
@@@@ -150,12 +150,12 @@@@ Example: CGIextension = cgi
d19 1
a19 1
@@@@ -185,7 +185,7 @@@@ Example: HideProxy = 192.168.10.20
d28 1
a28 1
@@@@ -267,7 +267,7 @@@@ Example: RequestLimitMask = deny 192.168.0.1
d37 1
a37 1
@@@@ -558,7 +558,7 @@@@ Example: Setenv PHPRC = /var/www/conf
d46 1
a46 1
@@@@ -928,7 +928,7 @@@@ and
d55 1
a55 1
@@@@ -955,15 +955,15 @@@@ Unban all IP addresses.
a69 3
 .br
-.B /etc/hiawatha/php-fcgi.conf
+.B ${SYSCONFDIR}/hiawatha/php-fcgi.conf
@

