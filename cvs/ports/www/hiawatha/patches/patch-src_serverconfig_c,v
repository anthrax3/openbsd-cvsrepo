head	1.10;
access;
symbols
	OPENBSD_6_2:1.10.0.2
	OPENBSD_6_2_BASE:1.10
	OPENBSD_6_1:1.9.0.2
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.7.0.4
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.3.0.8
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.10
date	2017.04.17.09.25.50;	author juanfra;	state Exp;
branches;
next	1.9;
commitid	BpbhoN4OxnjMON0T;

1.9
date	2016.10.07.01.49.28;	author juanfra;	state Exp;
branches;
next	1.8;
commitid	mOfla4kqDFlY3nO3;

1.8
date	2016.08.27.08.17.54;	author juanfra;	state Exp;
branches;
next	1.7;
commitid	ELuhQvf15pPXhYUK;

1.7
date	2015.11.17.14.34.43;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	FkNg5F7mwQH4Ywqa;

1.6
date	2015.08.14.09.59.06;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	fu0mlHkAjQSpl9M4;

1.5
date	2015.05.25.09.24.31;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	mzKn2WIUK47hBCaB;

1.4
date	2015.05.02.15.42.02;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	Wr4MrEtFEC7RKFQC;

1.3
date	2013.04.26.09.15.24;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2013.04.14.20.21.15;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2012.12.12.09.39.53;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.10
log
@Update to hiawatha 10.6.
@
text
@$OpenBSD: patch-src_serverconfig_c,v 1.9 2016/10/07 01:49:28 juanfra Exp $
--- src/serverconfig.c.orig	Sun Mar 12 21:11:43 2017
+++ src/serverconfig.c	Mon Apr 17 11:15:45 2017
@@@@ -26,7 +26,7 @@@@
 #include "libfs.h"
 #include "memdbg.h"
 
-#define ID_NOBODY             65534
+#define ID_HIAWATHA            579
 #define MAX_LENGTH_CONFIGLINE  1024
 #define MAX_CACHE_SIZE         1024
 #define MAX_UPLOAD_SIZE        2047
@@@@ -296,8 +296,8 @@@@ t_config *default_config(void) {
 	config->tomahawk_port      = NULL;
 #endif
 
-	config->server_uid         = (uid_t)ID_NOBODY;
-	config->server_gid         = (gid_t)ID_NOBODY;
+	config->server_uid         = (uid_t)ID_HIAWATHA;
+	config->server_gid         = (gid_t)ID_HIAWATHA;
 	config->server_string      = "Hiawatha v"VERSION;
 	init_groups(&(config->groups));
 	init_charlist(&(config->cgi_extension));
@


1.9
log
@Update to hiawatha 10.4.
@
text
@d1 3
a3 3
$OpenBSD: patch-src_serverconfig_c,v 1.8 2016/08/27 08:17:54 juanfra Exp $
--- src/serverconfig.c.orig	Sun Sep 25 09:33:39 2016
+++ src/serverconfig.c	Fri Oct  7 03:24:03 2016
d13 1
a13 1
@@@@ -294,8 +294,8 @@@@ t_config *default_config(void) {
@


1.8
log
@Update to hiawatha 10.3. Change the port to use the ports version of
polarssl. Add myself as MAINTAINER.

OK jca@@.
@
text
@d1 3
a3 3
$OpenBSD: patch-src_serverconfig_c,v 1.7 2015/11/17 14:34:43 ajacoutot Exp $
--- src/serverconfig.c.orig	Thu Jun  2 09:50:25 2016
+++ src/serverconfig.c	Sat Aug 27 01:58:47 2016
d13 1
a13 1
@@@@ -290,8 +290,8 @@@@ t_config *default_config(void) {
@


1.7
log
@Update to hiawatha-9.15.
@
text
@d1 3
a3 3
$OpenBSD: patch-src_serverconfig_c,v 1.6 2015/08/14 09:59:06 ajacoutot Exp $
--- src/serverconfig.c.orig	Tue Oct 13 09:02:18 2015
+++ src/serverconfig.c	Tue Nov 17 15:33:02 2015
d13 1
a13 1
@@@@ -285,8 +285,8 @@@@ t_config *default_config(void) {
@


1.6
log
@Update to hiawatha-9.14.
@
text
@d1 3
a3 3
$OpenBSD: patch-src_serverconfig_c,v 1.5 2015/05/25 09:24:31 ajacoutot Exp $
--- src/serverconfig.c.orig	Thu Jul 16 10:02:24 2015
+++ src/serverconfig.c	Fri Aug 14 11:58:39 2015
d13 1
a13 1
@@@@ -263,8 +263,8 @@@@ t_config *default_config(void) {
@


1.5
log
@Update to hiawatha-9.13.
@
text
@d1 3
a3 3
$OpenBSD: patch-src_serverconfig_c,v 1.4 2015/05/02 15:42:02 ajacoutot Exp $
--- src/serverconfig.c.orig	Mon May  4 19:05:27 2015
+++ src/serverconfig.c	Mon May 25 11:22:29 2015
d13 1
a13 1
@@@@ -262,8 +262,8 @@@@ t_config *default_config(void) {
@


1.4
log
@Update to hiawatha-9.12.
@
text
@d1 4
a4 4
$OpenBSD: patch-src_serverconfig_c,v 1.3 2013/04/26 09:15:24 sthen Exp $
--- src/serverconfig.c.orig	Thu Feb 12 10:47:22 2015
+++ src/serverconfig.c	Sat May  2 17:38:17 2015
@@@@ -27,7 +27,7 @@@@
d13 1
a13 1
@@@@ -280,8 +280,8 @@@@ t_config *default_config(void) {
@


1.3
log
@update to hiawatha 9.1
@
text
@d1 4
a4 5
$OpenBSD: patch-src_serverconfig_c,v 1.2 2013/04/14 20:21:15 sthen Exp $
--- src/serverconfig.c.orig	Mon Apr 15 16:57:46 2013
+++ src/serverconfig.c	Fri Apr 26 10:04:40 2013
@@@@ -28,7 +28,7 @@@@
 #include "libstr.h"
d6 1
d9 5
a13 5
+#define ID_HIAWATHA             579
 #define MAX_LENGTH_CONFIGLINE   512
 #define MAX_CACHE_SIZE          100
 #define MAX_UPLOAD_SIZE         100
@@@@ -265,8 +265,8 @@@@ t_config *default_config(void) {
@


1.2
log
@update to hiawatha-9.0
@
text
@d1 4
a4 4
$OpenBSD: patch-src_serverconfig_c,v 1.1 2012/12/12 09:39:53 jasper Exp $
--- src/serverconfig.c.orig	Sat Mar 30 22:41:13 2013
+++ src/serverconfig.c	Sun Apr 14 21:04:44 2013
@@@@ -29,7 +29,7 @@@@
d13 1
a13 1
@@@@ -263,8 +263,8 @@@@ t_config *default_config(void) {
@


1.1
log
@- update to hiawatha-8.6
@
text
@d1 3
a3 3
$OpenBSD$
--- src/serverconfig.c.orig	Wed Oct 31 19:16:45 2012
+++ src/serverconfig.c	Wed Dec 12 09:05:41 2012
d11 1
a11 1
 #define MAX_CACHE_SIZE           50
d13 1
a13 1
@@@@ -261,8 +261,8 @@@@ t_config *default_config(void) {
@

