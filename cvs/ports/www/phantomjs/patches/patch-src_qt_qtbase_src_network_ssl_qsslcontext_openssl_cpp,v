head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.07.05.11.54.22;	author sthen;	state Exp;
branches;
next	;
commitid	S8t3RgAhZPi5nc1y;


desc
@@


1.1
log
@update to phantomjs-2.1.1, from Pavel Korovin
no reply from maintainer
@
text
@$OpenBSD$

Index: src/qt/qtbase/src/network/ssl/qsslcontext_openssl.cpp
--- src/qt/qtbase/src/network/ssl/qsslcontext_openssl.cpp.orig
+++ src/qt/qtbase/src/network/ssl/qsslcontext_openssl.cpp
@@@@ -338,7 +338,7 @@@@ init_context:
 
     const QVector<QSslEllipticCurve> qcurves = sslContext->sslConfiguration.ellipticCurves();
     if (!qcurves.isEmpty()) {
-#if OPENSSL_VERSION_NUMBER >= 0x10002000L && !defined(OPENSSL_NO_EC)
+#if OPENSSL_VERSION_NUMBER >= 0x10002000L && !defined(OPENSSL_NO_EC) && defined(SSL_CTRL_SET_CURVES)
         // Set the curves to be used
         if (q_SSLeay() >= 0x10002000L) {
             // SSL_CTX_ctrl wants a non-const pointer as last argument,
@
