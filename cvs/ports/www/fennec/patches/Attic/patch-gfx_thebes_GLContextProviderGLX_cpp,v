head	1.2;
access;
symbols
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.10.03.21.08.12;	author landry;	state dead;
branches;
next	1.1;

1.1
date	2011.06.28.22.01.18;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to fennec/firefox mobile 7.0.1.
@
text
@$OpenBSD: patch-gfx_thebes_GLContextProviderGLX_cpp,v 1.1 2011/06/28 22:01:18 landry Exp $
Open correct libGL for WebGL
--- gfx/thebes/GLContextProviderGLX.cpp.orig	Wed Jun 15 23:57:26 2011
+++ gfx/thebes/GLContextProviderGLX.cpp	Wed Jun 22 14:24:23 2011
@@@@ -102,7 +102,11 @@@@ GLXLibrary::EnsureInitialized()
         // see e.g. bug 608526: it is intrinsically interesting to know whether we have dynamically linked to libGL.so.1
         // because at least the NVIDIA implementation requires an executable stack, which causes mprotect calls,
         // which trigger glibc bug http://sourceware.org/bugzilla/show_bug.cgi?id=12225
+#ifdef __OpenBSD__
+        const char *libGLfilename = "libGL.so";
+#else
         const char *libGLfilename = "libGL.so.1";
+#endif
         ScopedGfxFeatureReporter reporter(libGLfilename);
         mOGLLibrary = PR_LoadLibrary(libGLfilename);
         if (!mOGLLibrary) {
@


1.1
log
@Update to fennec/firefox for mobile 5.0, sync patches from www/mozilla-firefox..
Tested on amd64 and macppc.
@
text
@d1 1
a1 1
$OpenBSD: patch-gfx_thebes_GLContextProviderGLX_cpp,v 1.2 2011/06/28 05:43:57 landry Exp $
@

