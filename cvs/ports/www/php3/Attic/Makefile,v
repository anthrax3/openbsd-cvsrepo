head	1.46;
access;
symbols
	OPENBSD_3_2:1.45.0.2
	OPENBSD_3_2_BASE:1.45
	OPENBSD_3_1:1.43.0.2
	OPENBSD_3_1_BASE:1.43
	OPENBSD_3_0:1.37.0.2
	OPENBSD_3_0_BASE:1.37
	OPENBSD_2_9_TRACKING_SWITCH:1.34
	OPENBSD_2_9:1.32.0.2
	OPENBSD_2_9_BASE:1.32
	OPENBSD_2_8:1.21.0.2
	OPENBSD_2_8_BASE:1.21
	OPENBSD_2_7:1.11.0.2
	OPENBSD_2_7_BASE:1.11
	kevlo_2000-Jan-14:1.1.1.1
	kevlo:1.1.1;
locks; strict;
comment	@# @;


1.46
date	2003.02.05.19.19.16;	author brad;	state dead;
branches;
next	1.45;

1.45
date	2002.09.09.22.16.20;	author brad;	state Exp;
branches;
next	1.44;

1.44
date	2002.08.07.22.16.54;	author avsm;	state Exp;
branches;
next	1.43;

1.43
date	2002.03.17.04.55.03;	author brad;	state Exp;
branches;
next	1.42;

1.42
date	2002.02.27.16.31.59;	author brad;	state Exp;
branches;
next	1.41;

1.41
date	2001.11.19.01.38.58;	author brad;	state Exp;
branches;
next	1.40;

1.40
date	2001.11.18.19.57.25;	author brad;	state Exp;
branches;
next	1.39;

1.39
date	2001.11.17.00.12.23;	author naddy;	state Exp;
branches;
next	1.38;

1.38
date	2001.10.24.12.38.46;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2001.10.16.08.01.44;	author espie;	state Exp;
branches
	1.37.2.1;
next	1.36;

1.36
date	2001.10.15.23.45.45;	author avsm;	state Exp;
branches;
next	1.35;

1.35
date	2001.08.17.19.34.51;	author brad;	state Exp;
branches;
next	1.34;

1.34
date	2001.06.03.05.32.16;	author brad;	state Exp;
branches;
next	1.33;

1.33
date	2001.05.06.04.22.56;	author lebel;	state Exp;
branches;
next	1.32;

1.32
date	2001.03.07.19.05.34;	author brad;	state Exp;
branches
	1.32.2.1;
next	1.31;

1.31
date	2001.02.27.23.00.26;	author avsm;	state Exp;
branches;
next	1.30;

1.30
date	2001.02.26.05.52.17;	author avsm;	state Exp;
branches;
next	1.29;

1.29
date	2001.02.22.20.03.48;	author avsm;	state Exp;
branches;
next	1.28;

1.28
date	2001.02.07.09.15.42;	author jakob;	state Exp;
branches;
next	1.27;

1.27
date	2001.02.07.09.14.38;	author jakob;	state Exp;
branches;
next	1.26;

1.26
date	2001.01.28.13.31.28;	author jakob;	state Exp;
branches;
next	1.25;

1.25
date	2001.01.04.00.51.23;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2000.12.14.15.25.20;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2000.12.14.14.04.09;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2000.11.24.07.39.00;	author jakob;	state Exp;
branches;
next	1.21;

1.21
date	2000.10.29.20.37.13;	author jakob;	state Exp;
branches
	1.21.2.1;
next	1.20;

1.20
date	2000.10.22.15.43.41;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2000.10.04.21.54.05;	author jakob;	state Exp;
branches;
next	1.18;

1.18
date	2000.07.20.11.26.13;	author jakob;	state Exp;
branches;
next	1.17;

1.17
date	2000.07.18.21.55.43;	author jakob;	state Exp;
branches;
next	1.16;

1.16
date	2000.06.20.20.30.34;	author jakob;	state Exp;
branches;
next	1.15;

1.15
date	2000.06.20.20.29.49;	author jakob;	state Exp;
branches;
next	1.14;

1.14
date	2000.06.05.09.16.32;	author jakob;	state Exp;
branches;
next	1.13;

1.13
date	2000.06.05.09.05.53;	author jakob;	state Exp;
branches;
next	1.12;

1.12
date	2000.06.05.09.02.30;	author jakob;	state Exp;
branches;
next	1.11;

1.11
date	2000.04.17.19.29.47;	author jakob;	state Exp;
branches
	1.11.2.1;
next	1.10;

1.10
date	2000.04.09.17.38.39;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2000.04.07.14.01.59;	author kevlo;	state Exp;
branches;
next	1.8;

1.8
date	2000.04.05.06.39.30;	author jakob;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.17.07.51.04;	author jakob;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.05.23.00.34;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.28.10.36.27;	author kevlo;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.16.10.52.14;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2000.02.01.15.19.14;	author kevlo;	state Exp;
branches;
next	1.2;

1.2
date	2000.01.15.04.48.02;	author kevlo;	state Exp;
branches;
next	1.1;

1.1
date	2000.01.14.09.06.46;	author kevlo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.01.14.09.06.46;	author kevlo;	state Exp;
branches;
next	;

1.11.2.1
date	2000.09.15.05.22.12;	author marc;	state Exp;
branches;
next	;

1.21.2.1
date	2000.12.15.01.06.11;	author naddy;	state Exp;
branches;
next	1.21.2.2;

1.21.2.2
date	2000.12.15.20.13.29;	author naddy;	state Exp;
branches;
next	;

1.32.2.1
date	2002.02.27.16.45.19;	author brad;	state Exp;
branches;
next	;

1.37.2.1
date	2002.01.16.23.52.07;	author brad;	state Exp;
branches;
next	1.37.2.2;

1.37.2.2
date	2002.02.27.16.39.12;	author brad;	state Exp;
branches;
next	;


desc
@@


1.46
log
@bye.
@
text
@# $OpenBSD: Makefile,v 1.45 2002/09/09 22:16:20 brad Exp $

IGNORE=		"has been superseded by php4"

COMMENT=	"server-side HTML-embedded scripting language"

PKGNAME=	php3
CATEGORIES=	www lang
DISTFILES=

PERMIT_PACKAGE_CDROM=   Yes
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes

.include <bsd.port.mk>
@


1.45
log
@this should have been stubbed out in the first place.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2002/08/07 22:16:54 avsm Exp $
@


1.44
log
@mark as broken, since its no longer supported, use php4 instead
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2002/03/17 04:55:03 brad Exp $
d3 1
a3 1
BROKEN=		"unsupported with possible security holes - use php4 instead"
d7 1
a7 7
# This port currently only works with archs supporting dynamic loading
# and has Apache that supports DSO's.
ONLY_FOR_ARCHS=	alpha i386 m68k powerpc sparc sparc64

VERSION=	3.0.18
DISTNAME=	php-${VERSION}
PKGNAME=	php3-${VERSION}p2
d9 1
a9 10
NEED_VERSION=	1.500

HOMEPAGE=	http://www.php.net/

MAINTAINER=     Jakob Schlyter <jakob@@openbsd.org>

MASTER_SITES=	http://www.php.net/distributions/ \
		http://us.php.net/distributions/ \
		http://se.php.net/distributions/ \
		http://no.php.net/distributions/
a14 52

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--with-apxs=/usr/sbin/apxs \
			--with-pcre-regex \
			--with-xml \
			--with-config-file-path=/var/www/conf

LIB_DEPENDS+=		expat.2::textproc/expat
LIB_DEPENDS+=		gdbm::databases/gdbm

FLAVORS=	imap gd mysql postgresql
FLAVOR?= 

.if ${FLAVOR:L:Mimap}
CONFIGURE_ARGS+=	--with-imap=${LOCALBASE}
LIB_DEPENDS+=		c-client.3:c-client->=4.40p1:mail/c-client
.else
CONFIGURE_ARGS+=	--without-imap
.endif

.if ${FLAVOR:L:Mgd}
CONFIGURE_ARGS+=	--with-gd  --with-jpegdir=${LOCALBASE}/lib
LIB_DEPENDS+=		gd.18::graphics/gd
CONFIGURE_ENV+=		LDFLAGS="-L${LOCALBASE}/lib -ljpeg"
.else
CONFIGURE_ARGS+=	--without-gd
.endif

.if ${FLAVOR:L:Mmysql}
CONFIGURE_ARGS+=	--with-mysql 
LIB_DEPENDS+=		lib/mysql/mysqlclient.10:mysql-client-3.23.*:databases/mysql
.else
CONFIGURE_ARGS+=	--without-mysql 
.endif

.if ${FLAVOR:L:Mpostgresql}
CONFIGURE_ARGS+=	--with-pgsql=${LOCALBASE}
LIB_DEPENDS+=		pq.2::databases/postgresql
.else
CONFIGURE_ARGS+=	--without-pgsql
.endif

do-install:
	${INSTALL_DATA} ${WRKBUILD}/libphp3.so ${PREFIX}/lib
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/php3
	${INSTALL_DATA} ${WRKSRC}/doc/* ${PREFIX}/share/doc/php3
	${INSTALL_DATA} ${WRKSRC}/doc/* ${PREFIX}/share/doc/php3
	${INSTALL_DATA} ${WRKSRC}/php3.ini-dist ${PREFIX}/share/doc/php3
	@@sed 's,y0y0y0,${TRUEPREFIX},' \
		<${FILESDIR}/php3-enable >${PREFIX}/sbin/php3-enable
	@@chown ${BINOWN}:${BINGRP} ${PREFIX}/sbin/php3-enable
	@@chmod ${BINMODE} ${PREFIX}/sbin/php3-enable
@


1.43
log
@Enable these modules on alpha, powerpc and sparc64.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.42 2002/02/27 16:31:59 brad Exp $
@


1.42
log
@security fixes

PHP supports multipart/form-data POST requests (as described in RFC1867)
known as POST fileuploads. Unfourtunately there are several flaws in the
php_mime_split function that could be used by an attacker to execute
arbitrary code.
- broken boundary check
- arbitrary heap overflow
--
Ok'd by: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2001/11/19 01:38:58 brad Exp $
d7 1
a7 1
ONLY_FOR_ARCHS=	i386 m68k sparc
@


1.41
log
@- bump NEED_VERSION
- rename checksums file
- remove --without-gdbm since it seems to be a no-op
- move LIB_DEPENDS on gdbm to the location where it makes most sense
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2001/11/18 19:57:25 brad Exp $
d9 3
a11 2
DISTNAME=	php-3.0.18
PKGNAME=	php3-3.0.18
d13 1
a13 1
NEED_VERSION=	1.489
@


1.40
log
@- add pkgspec for c-client
- link with libcom_err_pic vs. libcom_err
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2001/11/17 00:12:23 naddy Exp $
d12 1
a12 1
NEED_VERSION=	1.474
a31 1
			--without-gdbm \
d35 1
a49 1
LIB_DEPENDS+=		gdbm::databases/gdbm
@


1.39
log
@add lib/mysql path to library dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2001/10/24 12:38:46 espie Exp $
d42 1
a42 1
LIB_DEPENDS+=		c-client.3::mail/c-client
@


1.38
log
@Full lib-depends.
Note that, even --without-gdbm, php3 does pick an installed gdbm...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2001/10/16 08:01:44 espie Exp $
d58 1
a58 1
LIB_DEPENDS+=		mysqlclient.10:mysql-client-3.23.*:databases/mysql
@


1.37
log
@Don't grab gdbm if it's installed, since we don't depend on it...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2001/10/15 23:45:45 avsm Exp $
d12 1
a12 1
NEED_VERSION=	1.435
d50 1
@


1.37.2.1
log
@Upgrade Pine to 4.44 which requires newer c-client.
This also fixes dependency entries for c-client and brings in some other
minor fixes from the -current ports tree.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2001/10/16 08:01:44 espie Exp $
d10 1
a10 1
PKGNAME=	php3-3.0.18p1
d12 1
a12 1
NEED_VERSION=	1.475
d32 1
a35 1
LIB_DEPENDS+=		gdbm::databases/gdbm
d42 1
a42 1
LIB_DEPENDS+=		c-client.4:c-client->=4.41:mail/c-client
@


1.37.2.2
log
@MFC:
security fixes

PHP supports multipart/form-data POST requests (as described in RFC1867)
known as POST fileuploads. Unfourtunately there are several flaws in the
php_mime_split function that could be used by an attacker to execute
arbitrary code.
- broken boundary check
- arbitrary heap overflow
--
Ok'd by: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37.2.1 2002/01/16 23:52:07 brad Exp $
d9 2
a10 3
VERSION=	3.0.18
DISTNAME=	php-${VERSION}
PKGNAME=	php3-${VERSION}p2
@


1.36
log
@Repair imap FLAVOR:
- c-client is at shlib version 3 now
- link in with kerberos libraries like php4

pointed out by brad, tested by heko, ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2001/08/17 19:34:51 brad Exp $
d32 1
@


1.35
log
@add to comment about dynamic loading and mention the need for Apache to
support DSO's.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2001/06/03 05:32:16 brad Exp $
d40 2
a41 2
CONFIGURE_ARGS+=	--with-imap=${PREFIX}
LIB_DEPENDS+=		c-client.2::mail/c-client
@


1.34
log
@update dependency entries for MySQL.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2001/05/06 04:22:56 lebel Exp $
d5 2
a6 1
# This port current only works with archs supporting dynamic loading
d12 1
a12 1
NEED_VERSION=	1.402
@


1.33
log
@www: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2001/03/07 19:05:34 brad Exp $
d55 1
a55 1
LIB_DEPENDS+=		mysqlclient::databases/mysql
@


1.32
log
@remove major rev for mysqlclient dependency entry.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.31 2001/02/27 23:00:26 avsm Exp $
d11 1
a11 1
NEED_VERSION=	1.336
@


1.32.2.1
log
@MFC:
security fixes

PHP supports multipart/form-data POST requests (as described in RFC1867)
known as POST fileuploads. Unfourtunately there are several flaws in the
php_mime_split function that could be used by an attacker to execute
arbitrary code.
- broken boundary check
- arbitrary heap overflow
--
Ok'd by: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2001/03/07 19:05:34 brad Exp $
d6 2
a7 3
VERSION=	3.0.18
DISTNAME=	php-${VERSION}
PKGNAME=	php3-${VERSION}p2
@


1.31
log
@work with the new pgsql port layout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/02/26 05:52:17 avsm Exp $
d53 1
a53 1
LIB_DEPENDS+=		mysqlclient.10::databases/mysql
@


1.30
log
@/usr/local -> LOCALBASE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2001/02/22 20:03:48 avsm Exp $
d59 1
a59 1
CONFIGURE_ARGS+=	--with-pgsql=${LOCALBASE}/lib/pgsql
@


1.29
log
@use LOCALBASE, not PREFIX in the pgsql configure.  Also add this to the
php3 port.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/02/07 09:15:42 jakob Exp $
d44 1
a44 1
CONFIGURE_ARGS+=	--with-gd  --with-jpegdir=/usr/local/lib
@


1.28
log
@add gd flavour; <armando@@theghet.to>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/01/28 13:31:28 jakob Exp $
d59 1
a59 1
CONFIGURE_ARGS+=	--with-pgsql
@


1.27
log
@fix expat dependency
@
text
@d33 1
a33 1
FLAVORS=	imap mysql postgresql
d41 8
@


1.26
log
@update mysql depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/01/04 00:51:23 brad Exp $
d31 1
a31 1
LIB_DEPENDS+=		expat.1.::textproc/expat
@


1.25
log
@remove mips and powerpc from ONLY_FOR_ARCHS, these platforms do not even
ship with an Apache compiled with DSO support yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/12/14 15:25:20 brad Exp $
d45 1
a45 1
LIB_DEPENDS+=		mysqlclient.6::databases/mysql
@


1.24
log
@a few BUILD_DEPENDS -> LIB_DEPENDS
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.23 2000/12/14 14:04:09 espie Exp $
d9 1
a9 1
NEED_VERSION=	1.319
a23 3

# This port current only works with archs supporting dynamic loading
ONLY_FOR_ARCHS=	i386 m68k sparc mips
@


1.23
log
@Fix dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/11/24 07:39:00 jakob Exp $
d34 1
a34 2

FLAVOR?=
d38 1
a38 1
BUILD_DEPENDS+=		${PREFIX}/lib/libc-client.a::mail/c-client
d45 1
a45 1
BUILD_DEPENDS+=		${PREFIX}/lib/mysql/libmysqlclient.a::databases/mysql
d52 1
a52 1
BUILD_DEPENDS+=		${PREFIX}/pgsql/lib/libpq.a::databases/postgresql
d63 1
a63 1
	sed 's,y0y0y0,${TRUEPREFIX},' \
d65 2
a66 2
	chown ${BINOWN}:${BINGRP} ${PREFIX}/sbin/php3-enable
	chmod ${BINMODE} ${PREFIX}/sbin/php3-enable
@


1.22
log
@update to v3.0.18. excerpt from ChangeLog below.

--
October 21, 2000, Version 3.0.18
- Fixed file upload bugs (Sascha)

October 11, 2000, Version 3.0.17
- Fixed output functions (Sascha)
- Added odbc_tables() (Frank)
- Fixed htmlspecialchars/htmlentities inconsistencies (Rasmus)
- Added is_uploaded_file() (Zeev)
- Clean up htmlspecialchars/htmlentities inconsistencies (Rasmus)
- Add optional charset parameter to sybase_[p]connect (alf@@alpha.ulatina.ac.cr)
- Fixed incorrect handling of 0-precision strings (e.g., %4.0s)
  in printf (Ken Coar)
- You can now call Ora_Error() without prameters to get the reason
  for a failed connection attempt. (Kirill Maximov)
- Fixed crash in OCIFetchStatement() when trying to read after
  all data has already been read. (Thies)
- Added --enable-sigchild. Use this option if you encounter
  <defunc> processes when using Oracle 8i. (Thies)
- Uncommitted outstanding OCI8 transactions are now rolled back
  before the connection is closed. (Thies)
- Improved configure checks for Oracle 8i. (Thies)
- Added imap_mime_header_decode() function (Skalski)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/10/29 20:37:13 jakob Exp $
d31 1
a31 1
BUILD_DEPENDS+=		${PREFIX}/lib/libexpat.a::textproc/expat
@


1.21
log
@FLAVORize imap support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/10/22 15:43:41 espie Exp $
d3 2
a4 2
DISTNAME=	php-3.0.16
PKGNAME=	php3-3.0.16
@


1.21.2.1
log
@MFC: BUILD_DEPENDS -> LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/10/29 20:37:13 jakob Exp $
d31 1
a31 1
LIB_DEPENDS+=		expat.1.::textproc/expat
d34 2
a35 1
FLAVOR?= 
d39 1
a39 1
LIB_DEPENDS+=		c-client.2::mail/c-client
d46 1
a46 1
LIB_DEPENDS+=		mysqlclient.6::databases/mysql
d53 1
a53 1
LIB_DEPENDS+=		pq.2::databases/postgresql
d64 1
a64 1
	@@sed 's,y0y0y0,${TRUEPREFIX},' \
d66 2
a67 2
	@@chown ${BINOWN}:${BINGRP} ${PREFIX}/sbin/php3-enable
	@@chmod ${BINMODE} ${PREFIX}/sbin/php3-enable
@


1.21.2.2
log
@Increment package version after fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21.2.1 2000/12/15 01:06:11 naddy Exp $
d4 1
a4 1
PKGNAME=	php3-3.0.16p1
@


1.20
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/10/04 21:54:05 jakob Exp $
d6 1
a6 1
NEED_VERSION=	1.305
a28 1
			--with-imap=${PREFIX} \
d31 1
a31 2
BUILD_DEPENDS+=		${PREFIX}/lib/libexpat.a::textproc/expat \
			${PREFIX}/lib/libc-client.a::mail/c-client
d33 1
a33 1
FLAVORS=	mysql postgresql
d36 9
a44 1
.if ${FLAVOR:L} == "mysql"
d51 1
a51 1
.if ${FLAVOR:L} == "postgresql"
@


1.19
log
@add fullname to MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/07/20 11:26:13 jakob Exp $
d6 1
a6 1
NEED_VERSION=	1.302
@


1.18
log
@add HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/07/18 21:55:43 jakob Exp $
d10 1
a10 1
MAINTAINER=     jakob@@openbsd.org
@


1.17
log
@depend on c-client port instead of imap-uw
add patch to make configure detect the c-client include-files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/06/20 20:30:34 jakob Exp $
d7 2
@


1.16
log
@bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/06/20 20:29:49 jakob Exp $
d31 1
a31 1
			${PREFIX}/lib/libimap.a::mail/imap-uw
@


1.15
log
@remove fake
add comment to PLIST
CONFIGURE_STYLE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/06/05 09:16:32 jakob Exp $
d6 1
a6 1
NEED_VERSION=	1.234
@


1.14
log
@enable PCRE regex
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/06/05 09:05:53 jakob Exp $
d23 1
a23 3
GNU_CONFIGURE=	yes
FAKE=		yes

@


1.13
log
@build with support for imap using imap-uw port.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/06/05 09:02:30 jakob Exp $
d27 1
a27 1
			--without-pcre-regex \
@


1.12
log
@add postgresql flavor; <kevlo@@>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/04/17 19:29:47 jakob Exp $
d29 1
d32 2
a33 1
BUILD_DEPENDS+=		${PREFIX}/lib/libexpat.a::textproc/expat
@


1.11
log
@add mysql flavour
fake installation and add php3-enable script

(ok turan@@ before freeze)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/04/09 17:38:39 espie Exp $
d6 1
d33 1
a33 1
FLAVORS=	mysql
d41 7
@


1.11.2.1
log
@bring www as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/07/20 11:26:13 jakob Exp $
a5 3
NEED_VERSION=	1.302

HOMEPAGE=	http://www.php.net/
d22 3
a24 1
CONFIGURE_STYLE=	gnu
d26 1
a26 1
			--with-pcre-regex \
a27 1
			--with-imap=${PREFIX} \
d30 1
a30 2
BUILD_DEPENDS+=		${PREFIX}/lib/libexpat.a::textproc/expat \
			${PREFIX}/lib/libc-client.a::mail/c-client
d32 1
a32 1
FLAVORS=	mysql postgresql
a39 7
.endif

.if ${FLAVOR:L} == "postgresql"
CONFIGURE_ARGS+=	--with-pgsql
BUILD_DEPENDS+=		${PREFIX}/pgsql/lib/libpq.a::databases/postgresql
.else
CONFIGURE_ARGS+=	--without-pgsql
@


1.10
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/04/07 14:01:59 kevlo Exp $
a5 1
FAKE=No
d23 1
d27 1
d30 10
a39 4
.if defined(USE_MYSQL)
CONFIGURE_ARGS+=        --with-mysql 
LIB_DEPENDS=		mysqlclient.6::databases/mysql
PKGNAME=		php3-3.0.16-mysql
d42 2
a43 2
post-install:
	${CHMOD} ${LIBMODE} `apxs -q LIBEXECDIR`/libphp3.so
d46 6
a51 1
	${INSTALL_DATA} ${WRKSRC}/php3.ini-dist /var/www/conf/php3.ini
@


1.9
log
@Add USE_MYSQL to compile with MySQL. Just run ``make USE_MYSQL=yes install''
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/04/05 06:39:30 jakob Exp $
d6 1
@


1.8
log
@Update to PHP v3.0.16
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/03/17 07:51:04 jakob Exp $
d24 2
a25 2
CONFIGURE_ARGS=		--with-apxs=/usr/sbin/apxs
CONFIGURE_ARGS+=	--without-pcre-regex \
d27 6
@


1.7
log
@Fix library permissions; matthew patton <mep@@netsec.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/03/05 23:00:34 jakob Exp $
d3 2
a4 2
DISTNAME=	php-3.0.15
PKGNAME=	php3-3.0.15
@


1.6
log
@fix license info
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/02/28 10:36:27 kevlo Exp $
d29 1
d32 1
a32 1
	cp ${WRKSRC}/php3.ini-dist /var/www/conf/php3.ini
@


1.5
log
@Upgrade to version 3.0.15 and add the license info.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/16 10:52:14 espie Exp $
a13 1
LICENSE_TYPE=           GPL
@


1.4
log
@All the Makefiles cvs missed first time around...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/02/01 15:19:14 kevlo Exp $
d3 2
a4 2
DISTNAME=	php-3.0.14
PKGNAME=	php3-3.0.14
d13 6
@


1.3
log
@Add the PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/01/15 04:48:02 kevlo Exp $
d26 1
a26 1
	${CP} ${WRKSRC}/php3.ini-dist /var/www/conf/php3.ini
@


1.2
log
@Add the config file php.ini is located in /var/www/conf/.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/01/14 09:06:46 kevlo Exp $
d4 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d19 2
a20 1
CONFIGURE_ARGS+=	--without-pcre-regex
d25 1
@


1.1.1.1
log
@At the most basic level, PHP can do anything any other CGI program can
do, such as collect form data, generate dynamic page content, or send
and receive cookies.

PHP also has support for talking to other services using protocols
such as IMAP, SNMP, NNTP, POP3, or even HTTP. You can also open raw
network sockets and interact using other protocols.

More information availible at http://www.php.net/ 

This port is worked by Jakob Schlyter <jakob@@openbsd.org>.
@
text
@@
