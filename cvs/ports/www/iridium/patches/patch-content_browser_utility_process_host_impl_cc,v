head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.2
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.3.0.2
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2017.04.19.05.16.47;	author robert;	state Exp;
branches;
next	1.3;
commitid	jpW2BiKwA9H7U7d6;

1.3
date	2016.10.27.18.30.41;	author robert;	state Exp;
branches;
next	1.2;
commitid	lED1Oks5HVh03mCa;

1.2
date	2016.05.28.14.49.39;	author robert;	state Exp;
branches;
next	1.1;
commitid	e1vpcgKLVeZdUbdR;

1.1
date	2016.04.27.12.46.16;	author robert;	state Exp;
branches;
next	;
commitid	yOrwVI71D7bLHmrO;


desc
@@


1.4
log
@update to 57.0
@
text
@$OpenBSD: patch-content_browser_utility_process_host_impl_cc,v 1.8 2017/03/14 12:18:54 robert Exp $
--- content/browser/utility_process_host_impl.cc.orig.port	Thu Mar  9 21:04:32 2017
+++ content/browser/utility_process_host_impl.cc	Fri Mar 10 07:46:23 2017
@@@@ -44,7 +44,7 @@@@
 #include "services/service_manager/public/cpp/interface_provider.h"
 #include "ui/base/ui_base_switches.h"
 
-#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX)
+#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX) && !defined(OS_BSD)
 #include "content/public/browser/zygote_handle_linux.h"
 #endif  // defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX)
 
@@@@ -55,7 +55,7 @@@@
 
 namespace content {
 
-#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX)
+#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX) && !defined(OS_BSD)
 namespace {
 ZygoteHandle g_utility_zygote;
 }  // namespace
@@@@ -74,7 +74,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
         launch_elevated_(launch_elevated)
 #elif defined(OS_POSIX)
         env_(env)
-#if !defined(OS_MACOSX) && !defined(OS_ANDROID)
+#if !defined(OS_MACOSX) && !defined(OS_ANDROID) && !defined(OS_BSD)
         ,
         no_sandbox_(no_sandbox)
 #endif  // !defined(OS_MACOSX)  && !defined(OS_ANDROID)
@@@@ -106,7 +106,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
 
 #elif defined(OS_POSIX)
 
-#if !defined(OS_MACOSX) && !defined(OS_ANDROID)
+#if !defined(OS_MACOSX) && !defined(OS_ANDROID) && !defined(OS_BSD)
   ZygoteHandle* GetZygote() override {
     if (no_sandbox_ || !exposed_dir_.empty())
       return nullptr;
@@@@ -127,7 +127,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
   bool launch_elevated_;
 #elif defined(OS_POSIX)
   base::EnvironmentMap env_;
-#if !defined(OS_MACOSX) && !defined(OS_ANDROID)
+#if !defined(OS_MACOSX) && !defined(OS_ANDROID) && !defined(OS_BSD)
   bool no_sandbox_;
 #endif  // !defined(OS_MACOSX) && !defined(OS_ANDROID)
 #endif  // OS_WIN
@@@@ -236,7 +236,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
   name_ = name;
 }
 
-#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX)
+#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX) && !defined(OS_BSD)
 // static
 void UtilityProcessHostImpl::EarlyZygoteLaunch() {
   DCHECK(!g_utility_zygote);
@


1.3
log
@update to 54.0
@
text
@d1 3
a3 3
$OpenBSD: patch-content_browser_utility_process_host_impl_cc,v 1.5 2016/10/26 06:22:08 robert Exp $
--- content/browser/utility_process_host_impl.cc.orig.port	Wed Oct 12 21:02:59 2016
+++ content/browser/utility_process_host_impl.cc	Wed Oct 19 12:56:04 2016
d5 1
a5 1
 #include "services/shell/public/cpp/interface_provider.h"
d22 1
a22 1
@@@@ -75,7 +75,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d25 1
a25 1
         env_(env),
d28 2
a29 1
         no_sandbox_(no_sandbox),
d31 1
a31 2
         ipc_fd_(host->TakeClientFileDescriptor())
@@@@ -107,7 +107,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d40 1
a40 1
@@@@ -129,7 +129,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d48 2
a49 2
   base::ScopedFD ipc_fd_;
@@@@ -238,7 +238,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
@


1.2
log
@update to 51.1
@
text
@d1 5
a5 5
$OpenBSD: patch-content_browser_utility_process_host_impl_cc,v 1.2 2016/05/27 06:28:21 robert Exp $
--- content/browser/utility_process_host_impl.cc.orig.port	Wed May 25 21:01:01 2016
+++ content/browser/utility_process_host_impl.cc	Thu May 26 08:09:46 2016
@@@@ -37,7 +37,7 @@@@
 #include "ipc/ipc_switches.h"
d13 1
a13 1
@@@@ -48,7 +48,7 @@@@
d22 1
a22 1
@@@@ -68,7 +68,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d31 1
a31 1
@@@@ -100,7 +100,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d40 1
a40 1
@@@@ -122,7 +122,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d49 1
a49 1
@@@@ -231,7 +231,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
@


1.1
log
@update to iridium-50.0 and sync recent changes with chromium
@
text
@d1 3
a3 3
$OpenBSD: patch-content_browser_utility_process_host_impl_cc,v 1.1 2016/04/16 19:08:46 robert Exp $
--- content/browser/utility_process_host_impl.cc.orig.port	Sat Apr 16 11:05:48 2016
+++ content/browser/utility_process_host_impl.cc	Sat Apr 16 11:06:33 2016
d49 1
a49 1
@@@@ -238,7 +238,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
@

