head	1.2;
access;
symbols
	OPENBSD_6_1:1.1.0.2
	OPENBSD_6_1_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2017.04.19.05.16.46;	author robert;	state Exp;
branches;
next	1.1;
commitid	jpW2BiKwA9H7U7d6;

1.1
date	2016.10.27.18.30.40;	author robert;	state Exp;
branches;
next	;
commitid	lED1Oks5HVh03mCa;


desc
@@


1.2
log
@update to 57.0
@
text
@$OpenBSD: patch-build_toolchain_gcc_toolchain_gni,v 1.4 2016/12/10 15:35:25 robert Exp $
--- build/toolchain/gcc_toolchain.gni.orig.port	Fri Dec  2 17:57:33 2016
+++ build/toolchain/gcc_toolchain.gni	Fri Dec  2 17:57:59 2016
@@@@ -11,6 +11,11 @@@@ import("//build/toolchain/cc_wrapper.gni")
 import("//build/toolchain/goma.gni")
 import("//build/toolchain/toolchain.gni")
 
+declare_args() {
+  extra_cppflags = ""
+  extra_ldflags = ""
+}
+
 # This template defines a toolchain for something that works like gcc
 # (including clang).
 #
@@@@ -279,7 +284,7 @@@@ template("gcc_toolchain") {
       # POSIX-like toolchains such as NaCl on Windows).
       ar_wrapper =
           rebase_path("//build/toolchain/gcc_ar_wrapper.py", root_build_dir)
-      command = "$python_path \"$ar_wrapper\"$whitelist_flag --output={{output}} --ar=\"$ar\" {{arflags}} rcsD @@\"$rspfile\""
+      command = "$python_path \"$ar_wrapper\"$whitelist_flag --output={{output}} --ar=\"$ar\" {{arflags}} rcs @@\"$rspfile\""
       description = "AR {{output}}"
       rspfile_content = "{{inputs}}"
       outputs = [
@@@@ -482,7 +487,7 @@@@ template("clang_toolchain") {
   }
 
   gcc_toolchain(target_name) {
-    prefix = rebase_path("$clang_base_path/bin", root_build_dir)
+    prefix = "/usr/local/bin"
     cc = "$prefix/clang"
     cxx = "$prefix/clang++"
     ld = cxx
@


1.1
log
@update to 54.0
@
text
@d1 4
a4 4
$OpenBSD: patch-build_toolchain_gcc_toolchain_gni,v 1.3 2016/10/26 06:22:07 robert Exp $
--- build/toolchain/gcc_toolchain.gni.orig.port	Fri Oct 21 00:01:59 2016
+++ build/toolchain/gcc_toolchain.gni	Tue Oct 25 08:33:20 2016
@@@@ -10,6 +10,11 @@@@ import("//build/toolchain/cc_wrapper.gni")
d16 1
a16 1
@@@@ -258,7 +263,7 @@@@ template("gcc_toolchain") {
d20 2
a21 2
-      command = "$python_path \"$ar_wrapper\" --output={{output}} --ar=\"$ar\" {{arflags}} rcsD @@\"$rspfile\""
+      command = "$python_path \"$ar_wrapper\" --output={{output}} --ar=\"$ar\" {{arflags}} rcs @@\"$rspfile\""
d25 1
a25 1
@@@@ -453,7 +458,7 @@@@ template("clang_toolchain") {
@

