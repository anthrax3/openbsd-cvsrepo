head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.2
	OPENBSD_6_2_BASE:1.3;
locks; strict;
comment	@# @;


1.3
date	2017.04.19.05.16.47;	author robert;	state Exp;
branches;
next	1.2;
commitid	jpW2BiKwA9H7U7d6;

1.2
date	2016.04.27.12.46.16;	author robert;	state dead;
branches;
next	1.1;
commitid	yOrwVI71D7bLHmrO;

1.1
date	2016.03.23.20.13.07;	author robert;	state Exp;
branches;
next	;
commitid	2hNT21XsdisESysQ;


desc
@@


1.3
log
@update to 57.0
@
text
@$OpenBSD: patch-media_capture_video_linux_v4l2_capture_delegate_cc,v 1.4 2017/03/14 12:18:54 robert Exp $
--- media/capture/video/linux/v4l2_capture_delegate.cc.orig.port	Thu Mar  9 21:04:34 2017
+++ media/capture/video/linux/v4l2_capture_delegate.cc	Fri Mar 10 19:56:24 2017
@@@@ -4,8 +4,10 @@@@
 
 #include "media/capture/video/linux/v4l2_capture_delegate.h"
 
+#if !defined(OS_BSD)
 #include <linux/version.h>
 #include <linux/videodev2.h>
+#endif
 #include <poll.h>
 #include <sys/fcntl.h>
 #include <sys/ioctl.h>
@@@@ -21,10 +23,10 @@@@
 #include "media/capture/video/blob_utils.h"
 #include "media/capture/video/linux/video_capture_device_linux.h"
 
-#if LINUX_VERSION_CODE < KERNEL_VERSION(4, 6, 0)
+// #if LINUX_VERSION_CODE < KERNEL_VERSION(4, 6, 0)
 // 16 bit depth, Realsense F200.
 #define V4L2_PIX_FMT_Z16 v4l2_fourcc('Z', '1', '6', ' ')
-#endif
+// #endif
 
 // TODO(aleksandar.stojiljkovic): Wrap this with kernel version check once the
 // format is introduced to kernel.
@


1.2
log
@update to iridium-50.0 and sync recent changes with chromium
@
text
@d1 22
a22 10
$OpenBSD: patch-media_capture_video_linux_v4l2_capture_delegate_cc,v 1.1 2016/03/23 20:13:07 robert Exp $
--- media/capture/video/linux/v4l2_capture_delegate.cc.orig.port	Sat Mar  5 23:46:39 2016
+++ media/capture/video/linux/v4l2_capture_delegate.cc	Sat Mar  5 23:46:53 2016
@@@@ -48,10 +48,8 @@@@ static struct {
     {V4L2_PIX_FMT_YUYV, PIXEL_FORMAT_YUY2, 1},
     {V4L2_PIX_FMT_UYVY, PIXEL_FORMAT_UYVY, 1},
     {V4L2_PIX_FMT_RGB24, PIXEL_FORMAT_RGB24, 1},
-#if !defined(OS_OPENBSD)
     // TODO(mcasas): add V4L2_PIX_FMT_YVU420M when available in bots.
     {V4L2_PIX_FMT_YUV420M, PIXEL_FORMAT_I420, 3},
d24 4
a27 15
     // MJPEG is usually sitting fairly low since we don't want to have to
     // decode.
     // However, is needed for large resolutions due to USB bandwidth
@@@@ -76,11 +74,9 @@@@ V4L2CaptureDelegate::CreateV4L2CaptureDelegate(
       return make_scoped_refptr(new V4L2CaptureDelegateSinglePlane(
           device_name, v4l2_task_runner, power_line_frequency));
     case VideoCaptureDevice::Name::V4L2_MULTI_PLANE:
-#if !defined(OS_OPENBSD)
       return make_scoped_refptr(new V4L2CaptureDelegateMultiPlane(
           device_name, v4l2_task_runner, power_line_frequency));
     default:
-#endif
       NOTIMPLEMENTED() << "Unknown V4L2 capture API type";
       return scoped_refptr<V4L2CaptureDelegate>();
   }
@


1.1
log
@update to 49.0
@
text
@d1 1
a1 1
$OpenBSD: patch-media_capture_video_linux_v4l2_capture_delegate_cc,v 1.1 2016/03/06 10:51:14 robert Exp $
@

