head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.2
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.1.0.2
	OPENBSD_6_1_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2017.04.19.05.16.47;	author robert;	state Exp;
branches;
next	1.1;
commitid	jpW2BiKwA9H7U7d6;

1.1
date	2016.10.27.18.30.41;	author robert;	state Exp;
branches;
next	;
commitid	lED1Oks5HVh03mCa;


desc
@@


1.2
log
@update to 57.0
@
text
@$OpenBSD: patch-ui_views_mus_aura_init_cc,v 1.6 2017/03/14 12:18:54 robert Exp $
--- ui/views/mus/aura_init.cc.orig.port	Thu Mar  9 21:04:49 2017
+++ ui/views/mus/aura_init.cc	Fri Mar 10 07:46:26 2017
@@@@ -22,7 +22,7 @@@@
 #include "ui/views/mus/mus_client.h"
 #include "ui/views/views_delegate.h"
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
 #include "components/font_service/public/cpp/font_loader.h"
 #endif
 
@@@@ -69,7 +69,7 @@@@ AuraInit::AuraInit(service_manager::Connector* connect
   InitializeResources(connector);
 
 // Initialize the skia font code to go ask fontconfig underneath.
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
   font_loader_ = sk_make_sp<font_service::FontLoader>(connector);
   SkFontConfigInterface::SetGlobal(font_loader_.get());
 #endif
@@@@ -82,7 +82,7 @@@@ AuraInit::AuraInit(service_manager::Connector* connect
 }
 
 AuraInit::~AuraInit() {
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
   if (font_loader_.get()) {
     SkFontConfigInterface::SetGlobal(nullptr);
     // FontLoader is ref counted. We need to explicitly shutdown the background
@


1.1
log
@update to 54.0
@
text
@d1 5
a5 5
$OpenBSD: patch-ui_views_mus_aura_init_cc,v 1.3 2016/10/26 06:22:08 robert Exp $
--- ui/views/mus/aura_init.cc.orig.port	Tue Oct 25 21:56:44 2016
+++ ui/views/mus/aura_init.cc	Tue Oct 25 22:15:07 2016
@@@@ -19,7 +19,7 @@@@
 #include "ui/base/ui_base_paths.h"
d13 10
a22 1
@@@@ -63,7 +63,7 @@@@ AuraInit::AuraInit(shell::Connector* connector,
a30 9
@@@@ -91,7 +91,7 @@@@ void AuraInit::InitializeResources(shell::Connector* c
       std::move(pak_file_2), ui::SCALE_FACTOR_100P);
 
 // Initialize the skia font code to go ask fontconfig underneath.
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
   font_loader_ = sk_make_sp<font_service::FontLoader>(connector);
   SkFontConfigInterface::SetGlobal(font_loader_.get());
 #endif
@

