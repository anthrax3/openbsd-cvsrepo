head	1.6;
access;
symbols
	OPENBSD_4_9:1.4.0.14
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.12
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.10
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.8
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.1.1.1.0.8
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.6
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.4
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	robert_20041002:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2011.07.09.00.28.54;	author robert;	state dead;
branches;
next	1.5;

1.5
date	2011.06.18.19.49.22;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.05.09.11.34;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2007.04.01.21.37.27;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2006.10.21.11.44.10;	author robert;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2004.10.02.11.32.37;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.10.02.11.32.37;	author robert;	state Exp;
branches
	1.1.1.1.8.1;
next	;

1.1.1.1.8.1
date	2007.06.17.07.55.53;	author sturm;	state Exp;
branches;
next	;

1.2.2.1
date	2007.06.17.07.54.58;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.6
log
@bye bye
@
text
@$OpenBSD: patch-main_php_open_temporary_file_c,v 1.5 2011/06/18 19:49:22 sthen Exp $
--- main/php_open_temporary_file.c.orig.port	Sun Jan  3 09:23:27 2010
+++ main/php_open_temporary_file.c	Sat Jun 18 12:14:55 2011
@@@@ -131,7 +131,7 @@@@ static int php_do_open_temporary_file(const char *path
 		trailing_slash = "/";
 	}
 
-	if (spprintf(&opened_path, 0, "%s%s%sXXXXXX", new_state.cwd, trailing_slash, pfx) >= MAXPATHLEN) {
+	if (spprintf(&opened_path, 0, "%s%s%sXXXXXXXXXX", new_state.cwd, trailing_slash, pfx) >= MAXPATHLEN) {
 		efree(opened_path);
 		free(new_state.cwd);
 		return -1;
@


1.5
log
@Use PATCHORIG, regen patches and rename the files which didn't match the
normal update-patches filenames. This avoids update-patches picking up the
.orig files in PHP distfiles and make it easier to keep in-sync. ok robert@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.4
log
@update to version 5.2.4 and remove some obsolete CONFIGURE_ARGS;
@
text
@d2 2
a3 2
--- main/php_open_temporary_file.c.orig	Fri Aug 10 12:13:15 2007
+++ main/php_open_temporary_file.c	Fri Aug 31 09:26:46 2007
@


1.3
log
@- add a fastcgi subpackage to core because now we are able to build
more than one php binaries within one workdir (idea from FreeBSD)
- move pdo_sqlite support from core to extensions and also add a pdo_mysql
and a pdo_sqlite subpackage
- regen patches while here
- bump PKGNAMEs
@
text
@d1 4
a4 4
$OpenBSD: patch-main_php_open_temporary_file_c,v 1.2 2006/10/21 11:44:10 robert Exp $
--- main/php_open_temporary_file.c.orig	Mon Jan  1 10:36:11 2007
+++ main/php_open_temporary_file.c	Sun Apr  1 13:42:42 2007
@@@@ -120,7 +120,7 @@@@ static int php_do_open_temporary_file(const char *path
d8 2
a9 2
-	if (spprintf(&opened_path, 0, "%s%s%sXXXXXX", path, trailing_slash, pfx) >= MAXPATHLEN) {
+	if (spprintf(&opened_path, 0, "%s%s%sXXXXXXXXXX", path, trailing_slash, pfx) >= MAXPATHLEN) {
d11 1
a12 1
 	}
@


1.2
log
@update to version 5.1.6 and replace the hardened patchset with
the suhosin patchset;

kill the hardened flavor because we are going to use suhosin
patchet by default;
@
text
@d1 4
a4 4
$OpenBSD$
--- main/php_open_temporary_file.c.orig	Wed May 24 01:22:26 2006
+++ main/php_open_temporary_file.c	Fri Aug 18 21:15:57 2006
@@@@ -120,7 +120,7 @@@@
@


1.2.2.1
log
@assorted security patches, from debian
@
text
@d1 1
a1 1
$OpenBSD: patch-main_php_open_temporary_file_c,v 1.2 2006/10/21 11:44:10 robert Exp $
d3 2
a4 2
+++ main/php_open_temporary_file.c	Sun Jun 10 10:40:37 2007
@@@@ -120,7 +120,7 @@@@ static int php_do_open_temporary_file(co
@


1.1
log
@Initial revision
@
text
@d2 3
a4 3
--- main/php_open_temporary_file.c.orig	Mon Jul 26 23:14:59 2004
+++ main/php_open_temporary_file.c	Mon Jul 26 23:15:13 2004
@@@@ -130,7 +130,7 @@@@
d8 5
a12 5
-	(void)snprintf(opened_path, MAXPATHLEN, "%s%s%sXXXXXX", path, trailing_slash, pfx);
+	(void)snprintf(opened_path, MAXPATHLEN, "%s%s%sXXXXXXXXXX", path, trailing_slash, pfx);
 
 #ifdef PHP_WIN32
 	if (GetTempFileName(path, pfx, 0, opened_path)) {
@


1.1.1.1
log
@Import php-5.0.2;

PHP5 is a widely-used general-purpose scripting language 
that is especially suited for Web development and can be 
embedded into HTML. 
@
text
@@


1.1.1.1.8.1
log
@assorted security patches, from debian
@
text
@d1 4
a4 4
$OpenBSD: patch-main_php_open_temporary_file_c,v 1.1.1.1 2004/10/02 11:32:37 robert Exp $
--- main/php_open_temporary_file.c.orig	Sun Jan  1 13:50:17 2006
+++ main/php_open_temporary_file.c	Sun Jun 10 19:33:35 2007
@@@@ -124,7 +124,7 @@@@ static int php_do_open_temporary_file(co
@

