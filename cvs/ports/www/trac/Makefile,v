head	1.64;
access;
symbols
	OPENBSD_6_2:1.64.0.2
	OPENBSD_6_2_BASE:1.64
	OPENBSD_6_1:1.62.0.2
	OPENBSD_6_1_BASE:1.62
	OPENBSD_6_0:1.60.0.2
	OPENBSD_6_0_BASE:1.60
	OPENBSD_5_9:1.57.0.2
	OPENBSD_5_9_BASE:1.57
	OPENBSD_5_8:1.53.0.4
	OPENBSD_5_8_BASE:1.53
	OPENBSD_5_7:1.48.0.2
	OPENBSD_5_7_BASE:1.48
	OPENBSD_5_6:1.44.0.2
	OPENBSD_5_6_BASE:1.44
	OPENBSD_5_5:1.43.0.2
	OPENBSD_5_5_BASE:1.43
	OPENBSD_5_4:1.42.0.2
	OPENBSD_5_4_BASE:1.42
	OPENBSD_5_3:1.41.0.2
	OPENBSD_5_3_BASE:1.41
	OPENBSD_5_2:1.38.0.2
	OPENBSD_5_2_BASE:1.38
	OPENBSD_5_1_BASE:1.35
	OPENBSD_5_1:1.35.0.2
	OPENBSD_5_0:1.34.0.2
	OPENBSD_5_0_BASE:1.34
	OPENBSD_4_9:1.31.0.2
	OPENBSD_4_9_BASE:1.31
	OPENBSD_4_8:1.26.0.2
	OPENBSD_4_8_BASE:1.26
	OPENBSD_4_7:1.24.0.2
	OPENBSD_4_7_BASE:1.24
	OPENBSD_4_6:1.21.0.2
	OPENBSD_4_6_BASE:1.21
	OPENBSD_4_5:1.17.0.2
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.15.0.2
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.13.0.2
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.11.0.2
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	blovett_20050321:1.1.1.1
	blovett:1.1.1;
locks; strict;
comment	@# @;


1.64
date	2017.06.24.20.19.42;	author sthen;	state Exp;
branches;
next	1.63;
commitid	50NM0PrliR3EJrJZ;

1.63
date	2017.04.04.21.38.51;	author sthen;	state Exp;
branches;
next	1.62;
commitid	uOGGB1XfQ2wIFJLM;

1.62
date	2017.01.06.13.29.38;	author sthen;	state Exp;
branches;
next	1.61;
commitid	HswrWjvMkFWTJFWM;

1.61
date	2016.09.13.13.24.37;	author sthen;	state Exp;
branches;
next	1.60;
commitid	rDIBPa6TJQ6NkiXm;

1.60
date	2016.07.05.13.24.07;	author sthen;	state Exp;
branches;
next	1.59;
commitid	NjidI6uxpXNFEMD3;

1.59
date	2016.05.09.13.38.32;	author sthen;	state Exp;
branches;
next	1.58;
commitid	7mzdFLELcJVzgPWd;

1.58
date	2016.02.25.00.50.20;	author sthen;	state Exp;
branches;
next	1.57;
commitid	mZckfVixxiL0rkBB;

1.57
date	2015.10.05.12.59.37;	author kirby;	state Exp;
branches;
next	1.56;
commitid	muaqMVRW7UQvSWqA;

1.56
date	2015.09.29.10.53.17;	author sthen;	state Exp;
branches;
next	1.55;
commitid	ZtuTo3oaLRMlW17M;

1.55
date	2015.09.17.11.42.34;	author sthen;	state Exp;
branches;
next	1.54;
commitid	Iu3nf2QA2UoKbxgI;

1.54
date	2015.08.11.20.55.17;	author sthen;	state Exp;
branches;
next	1.53;
commitid	4HsUoM4Qk0WKJTkm;

1.53
date	2015.07.18.01.27.51;	author sthen;	state Exp;
branches;
next	1.52;
commitid	z8sDqZG7Hf7zxWh3;

1.52
date	2015.07.07.14.44.58;	author sthen;	state Exp;
branches;
next	1.51;
commitid	3ip2eKfpCQusYvJT;

1.51
date	2015.07.06.11.25.36;	author sthen;	state Exp;
branches;
next	1.50;
commitid	fXrDP8itzF5x6yPc;

1.50
date	2015.06.18.10.37.35;	author sthen;	state Exp;
branches;
next	1.49;
commitid	EqOSk4y1yY9mum7P;

1.49
date	2015.03.29.20.06.45;	author sthen;	state Exp;
branches;
next	1.48;
commitid	EnaHmEJJ8XmjqiFn;

1.48
date	2015.02.08.17.19.32;	author sthen;	state Exp;
branches;
next	1.47;
commitid	2M5mF9T7kAHlzXjb;

1.47
date	2015.01.13.15.40.04;	author sthen;	state Exp;
branches;
next	1.46;
commitid	2ieTd7TxpVBVq196;

1.46
date	2014.10.26.14.22.01;	author sthen;	state Exp;
branches;
next	1.45;
commitid	Zum1G1DlTMN8bUkM;

1.45
date	2014.09.17.21.48.55;	author sthen;	state Exp;
branches;
next	1.44;
commitid	kZw1LuFFiHFlBdZ0;

1.44
date	2014.07.22.10.55.41;	author ajacoutot;	state Exp;
branches;
next	1.43;
commitid	3LzguPEQl5LkjlcD;

1.43
date	2013.09.30.19.35.52;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2013.03.11.11.44.50;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2013.02.03.14.27.25;	author sthen;	state Exp;
branches;
next	1.40;

1.40
date	2012.09.15.10.02.22;	author sthen;	state Exp;
branches;
next	1.39;

1.39
date	2012.09.11.13.03.34;	author sthen;	state Exp;
branches;
next	1.38;

1.38
date	2012.04.22.11.41.55;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2012.03.03.11.42.06;	author sthen;	state Exp;
branches;
next	1.36;

1.36
date	2012.02.16.21.19.51;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2011.09.16.12.00.09;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2011.06.24.22.41.56;	author sthen;	state Exp;
branches;
next	1.33;

1.33
date	2011.06.08.18.15.30;	author rpointel;	state Exp;
branches;
next	1.32;

1.32
date	2011.04.28.13.36.41;	author rpointel;	state Exp;
branches;
next	1.31;

1.31
date	2010.12.22.19.55.00;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2010.12.21.18.17.27;	author kili;	state Exp;
branches;
next	1.29;

1.29
date	2010.11.22.08.36.54;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2010.10.11.13.38.11;	author sthen;	state Exp;
branches;
next	1.27;

1.27
date	2010.08.30.22.15.24;	author sthen;	state Exp;
branches;
next	1.26;

1.26
date	2010.07.06.23.16.21;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2010.03.20.23.53.56;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2009.12.04.12.12.32;	author sthen;	state Exp;
branches;
next	1.23;

1.23
date	2009.08.03.13.14.17;	author sthen;	state Exp;
branches;
next	1.22;

1.22
date	2009.07.26.17.39.15;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2009.06.20.13.40.57;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2009.04.25.12.54.57;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2009.03.16.22.20.02;	author kili;	state Exp;
branches;
next	1.18;

1.18
date	2009.03.04.21.11.11;	author kili;	state Exp;
branches;
next	1.17;

1.17
date	2008.09.03.13.29.33;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2008.09.03.13.26.16;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2008.06.09.22.05.49;	author fkr;	state Exp;
branches;
next	1.14;

1.14
date	2008.06.05.06.09.37;	author fkr;	state Exp;
branches;
next	1.13;

1.13
date	2007.10.08.08.22.43;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2007.09.15.20.38.26;	author merdely;	state Exp;
branches;
next	1.11;

1.11
date	2007.08.02.22.36.47;	author aanriot;	state Exp;
branches;
next	1.10;

1.10
date	2007.05.30.22.03.04;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2007.05.20.13.47.26;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2006.11.21.04.05.18;	author pvalchev;	state Exp;
branches
	1.8.2.1;
next	1.7;

1.7
date	2006.11.10.07.46.25;	author mbalmer;	state Exp;
branches;
next	1.6;

1.6
date	2006.07.20.04.43.28;	author steven;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2006.07.09.10.11.49;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2006.06.06.09.32.56;	author alek;	state Exp;
branches;
next	1.3;

1.3
date	2006.06.03.09.49.35;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2006.06.03.08.28.21;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2006.03.21.21.17.10;	author msf;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.03.21.21.17.10;	author msf;	state Exp;
branches;
next	;

1.6.2.1
date	2006.11.10.09.41.54;	author sturm;	state Exp;
branches;
next	1.6.2.2;

1.6.2.2
date	2007.05.31.14.11.46;	author sturm;	state Exp;
branches;
next	;

1.8.2.1
date	2007.05.31.14.11.22;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.64
log
@update to trac-1.2.2
@
text
@# $OpenBSD: Makefile,v 1.63 2017/04/04 21:38:51 sthen Exp $

COMMENT=	wiki and bug tracking system for software projects

MODPY_EGG_VERSION=1.2.2
PORTROACH=	limitw:1,even
DISTNAME=	Trac-${MODPY_EGG_VERSION:S/post/.post/}
PKGNAME=	trac-${MODPY_EGG_VERSION:S/post/pl/}
CATEGORIES=	www devel

MAINTAINER=	Stuart Henderson <sthen@@openbsd.org>

HOMEPAGE=	http://trac.edgewall.org/

MASTER_SITES=	http://ftp.edgewall.com/pub/trac/ \
		ftp://ftp.edgewall.com/pub/trac/

MODPY_SETUPTOOLS=	Yes

# BSD
PERMIT_PACKAGE_CDROM=   Yes

MODULES=	lang/python

COMMON_DEPS=	devel/py-babel>=0.9.6 \
		www/py-genshi>=0.6

RUN_DEPENDS=	${COMMON_DEPS} \
		devel/subversion,-python \
		textproc/py-docutils \
		textproc/py-pygments

BUILD_DEPENDS=	${COMMON_DEPS}

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/trac
	cd ${WRKSRC} && pax -rw contrib/ ${PREFIX}/share/examples/trac

do-test:
	@@cd ${WRKSRC} && PYTHONPATH=. ${MODPY_BIN} ./trac/test.py

.include <bsd.port.mk>
@


1.63
log
@update to Trac-1.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2017/01/06 13:29:38 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.2.1
@


1.62
log
@update to Trac 1.2; major update so as usual you'll need to upgrade
the trac environment and should check the rest of the guide at
https://trac.edgewall.org/wiki/TracUpgrade
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2016/09/13 13:24:37 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.2
@


1.61
log
@bugfix update to Trac-1.0.13
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2016/05/09 13:38:32 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.13
@


1.60
log
@bugfix update to trac-1.0.12
@
text
@d5 1
a5 1
MODPY_EGG_VERSION=1.0.12
@


1.59
log
@update to Trac-1.0.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2016/02/25 00:50:20 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.11
@


1.58
log
@update to trac-1.0.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2015/10/05 12:59:37 kirby Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.10
@


1.57
log
@fix rcctl syntax
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2015/09/29 10:53:17 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.9
a9 1
REVISION=	1
@


1.56
log
@bump REVISION for setuptools dep change. (should be the last one)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2015/09/17 11:42:34 sthen Exp $
d10 1
a10 1
REVISION=	0
@


1.55
log
@update to Trac-1.0.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2015/08/11 20:55:17 sthen Exp $
d10 1
@


1.54
log
@update to trac-1.0.8, fixing a regression introduced in 1.0.7: the
session for an authenticated username containing non-alphanumeric
characters could not be retrieved, resulting in the user being denied
access to every realm and resource.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2015/07/18 01:27:51 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.8
@


1.53
log
@update to trac-1.0.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2015/07/07 14:44:58 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.7
@


1.52
log
@use su -m instead of -s /bin/sh, suggested by millert
add some missing -c
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2015/07/06 11:25:36 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.6post2
a9 1
REVISION=	1
@


1.51
log
@Remove use of sudo from pkg READMEs in a few ports as packages and their
instructions are meant to work on a fresh install.

- easy cases: replace some '$ sudo somecommand' with '# somecommand'
(while there I've swapped some "${RCDIR}/foo start" with "rcctl foo start").

- replace some 'sudo -u user somecommand foo bar' with
'su -s /bin/sh user "/path/to/somecommand foo bar"' and similar.
Not pretty with the -s, but many of the uids that need to run
these commands have /sbin/nologin as their usual shell.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2015/06/18 10:37:35 sthen Exp $
d10 1
a10 1
REVISION=	0
@


1.50
log
@update to trac-1.0.6post2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2015/03/29 20:06:45 sthen Exp $
d10 1
@


1.49
log
@update to trac-1.0.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2015/02/08 17:19:32 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.5
d7 2
a8 2
DISTNAME=	Trac-${MODPY_EGG_VERSION}
PKGNAME=	trac-${MODPY_EGG_VERSION}
@


1.48
log
@bugfix update to trac 1.0.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2015/01/13 15:40:04 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.4
@


1.47
log
@update to trac 1.0.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2014/10/26 14:22:01 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.3
@


1.46
log
@update to trac 1.0.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2014/09/17 21:48:55 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.2
@


1.45
log
@add PORTROACH annotation to skip dev versions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2014/07/22 10:55:41 ajacoutot Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0.1
a6 1
REVISION=	1
@


1.44
log
@Tweak documentation according to recent rc changes.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/09/30 19:35:52 sthen Exp $
d6 1
@


1.43
log
@install contrib scripts etc. to examples/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/03/11 11:44:50 espie Exp $
d6 1
a6 1
REVISION=	0
@


1.42
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/02/03 14:27:25 sthen Exp $
d6 1
d34 4
@


1.41
log
@bugfix update to Trac 1.0.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2012/09/15 10:02:22 sthen Exp $
a20 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
d34 1
a34 1
do-regress:
@


1.40
log
@update to Trac 1.0

- if you have problems with authentication with the standalone tracd,
review http://trac.edgewall.org/wiki/0.11/TracStandalone#UsingAuthentication
about use of absolute paths, previously they were explicitly not supported
but worked in some cases, now they don't work.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2012/09/11 13:03:34 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=1.0
@


1.39
log
@maintenance update to Trac 0.12.4; minor fixes only
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2012/04/22 11:41:55 ajacoutot Exp $
d5 1
a5 1
MODPY_EGG_VERSION=0.12.4
d27 4
a30 2
RUN_DEPENDS=	databases/py-sqlite2 \
		devel/py-babel \
d33 1
a33 2
		textproc/py-pygments \
		www/py-genshi>=0.6
d35 1
a35 2
BUILD_DEPENDS=	devel/py-babel \
		www/py-genshi>=0.6
@


1.38
log
@Use RCDIR instead of /etc/rc.d when refering to packages rc scripts.

discussed with espie and sthen
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2012/03/03 11:42:06 sthen Exp $
d5 1
a5 2
MODPY_EGG_VERSION=0.12.3
REVISION=	1
@


1.37
log
@Install an rc script for trac and use a dedicated uid.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2012/02/16 21:19:51 sthen Exp $
d6 1
a6 1
REVISION=	0
@


1.36
log
@update to trac 0.12.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/09/16 12:00:09 espie Exp $
d6 1
@


1.35
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/06/24 22:41:56 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=0.12.2
a7 1
REVISION=	2
d14 2
a15 2
MASTER_SITES=	ftp://ftp.edgewall.com/pub/trac/ \
		http://ftp.edgewall.com/pub/trac/
@


1.34
log
@- move docs from MESSAGE to README

- drop mandatory deps on enscript and clearsilver; both are supported
but optional. (note, clearsilver support will be going away in trac 0.13).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/06/08 18:15:30 rpointel Exp $
d8 1
a8 1
REVISION=	1
@


1.33
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/04/28 13:36:41 rpointel Exp $
d8 1
a8 1
REVISION=	0
a30 1
		print/enscript \
a32 1
		clearsilver-*-python:www/clearsilver,python \
@


1.32
log
@Update trac to 0.12.2.
ok sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/12/22 19:55:00 sthen Exp $
d8 1
@


1.31
log
@add missing build dep needed now we have added i18n support;
spotted jasper@@, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/12/21 18:17:27 kili Exp $
d5 1
a5 1
MODPY_EGG_VERSION=0.12.1
a7 1
REVISION=	0
@


1.30
log
@Enable i18n support.

ok sthen@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/11/22 08:36:54 espie Exp $
d37 2
a38 1
BUILD_DEPENDS=	devel/py-babel
@


1.29
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/10/11 13:38:11 sthen Exp $
d8 1
d29 1
d36 2
@


1.28
log
@update trac to 0.12.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/08/30 22:15:24 sthen Exp $
d27 7
a33 7
RUN_DEPENDS=	::databases/py-sqlite2 \
		::devel/subversion,-python \
		::print/enscript \
		::textproc/py-docutils \
		::textproc/py-pygments \
		:clearsilver-*-python:www/clearsilver,python \
		:py-genshi->=0.6:www/py-genshi
@


1.27
log
@python bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/07/06 23:16:21 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=0.12
a7 1
REVISION=	0
@


1.26
log
@update to 0.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/03/20 23:53:56 sthen Exp $
d8 1
@


1.25
log
@update to 0.11.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/12/04 12:12:32 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=0.11.7
d33 1
a33 1
		::www/py-genshi
@


1.24
log
@Update to 0.11.6 and take maintainer, maintainer timeout.

This has bug/SECURITY fixes and performance improvements, see
http://trac.edgewall.org/wiki/ChangeLog
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/08/03 13:14:17 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=0.11.6
@


1.23
log
@add missing dependency on py-genshi and sort RUN_DEPENDS while
there. bump PKGNAME. pointed out by Edd Barrett.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/07/26 17:39:15 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=0.11.5
d7 1
a7 1
PKGNAME=	trac-${MODPY_EGG_VERSION}p0
d10 1
a10 1
MAINTAINER=	Ben Lovett <ben@@tilderoot.com>
@


1.22
log
@bugfix update to 0.11.5; maintainer timed out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/06/20 13:40:57 sthen Exp $
d7 1
a7 1
PKGNAME=	trac-${MODPY_EGG_VERSION}
d29 1
d33 1
a33 1
		::print/enscript
@


1.21
log
@update to 0.11.4; maintainer (Ben Lovett) agrees with the update.
rolls in trac-adminplugin; pkgpath/conflict set accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/04/25 12:54:57 ajacoutot Exp $
d5 1
a5 1
MODPY_EGG_VERSION=0.11.4
@


1.20
log
@- remove uneeded build_depends which would prevent trac from packaging in
a regular bulk

ok sthen@@
cvs: ----------------------------------------------------------------------
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/03/16 22:20:02 kili Exp $
d5 3
a7 3
MODPY_EGG_VERSION=0.10.5
DISTNAME=	trac-${MODPY_EGG_VERSION}
PKGNAME=	${DISTNAME}p2
d17 2
d30 1
a32 5

post-install:
	@@perl -pi -e 's#${WRKINST}##' ${WRKSRC}/trac/siteconfig.py
	@@${INSTALL_SCRIPT} ${WRKSRC}/trac/siteconfig.py \
		${PREFIX}/lib/python${MODPY_VERSION}/site-packages/trac/
@


1.19
log
@
Bump for python deps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/03/04 21:11:11 kili Exp $
d25 1
a25 1
MY_DEPENDS=	::databases/py-sqlite2 \
d28 1
a28 3
		:clearsilver-*-python:www/clearsilver,python

RUN_DEPENDS=	${MY_DEPENDS} \
a29 2

BUILD_DEPENDS=	${MY_DEPENDS}
@


1.18
log
@Add an explicit pkgspec for clearsilver-*-python. Else you end up
with the default flavor of clearsilver, which isn't enough for trac.

no objections, naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/09/03 13:29:33 sthen Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
@


1.17
log
@regenerate PLIST (.egg-info was missing) and use MODPY_EGG_VERSION, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/09/03 13:26:16 sthen Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d28 1
a28 1
		::www/clearsilver,python
@


1.16
log
@SECURITY update to trac 0.10.5

- Fixes cross-site redirection in quickjump found by Russ McRee.
- Fixes wiki engine XSS found by Nathan Collins.
- Added PostgreSQL 8.3 support.
- Fixes FineGrainedPermissions for scoped repositories.
- Fixes problem with repository syncing raising exceptions.

ok Ben Lovett (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/06/09 22:05:49 fkr Exp $
d5 3
a7 1
DISTNAME=	trac-0.10.5
@


1.15
log
@mention the need for updating trac's database if updating from a previous
version of the port. discussed on ports@@, suggestion from sthen@@
maintainer (ben lovett) ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/06/05 06:09:37 fkr Exp $
d5 1
a5 2
DISTNAME=	trac-0.10.4
PKGNAME=	${DISTNAME}p3
@


1.14
log
@switch dependency to newer sqlite, as a lot of third party plugins
require this, it is also the recommendation from the trac developers.
discussed on ports@@
ok ben lovett (maintainer), martynas@@ and bernd@@ a while ago
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/10/08 08:22:43 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.13
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/09/15 20:38:26 merdely Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d24 1
a24 1
MY_DEPENDS=	::databases/py-sqlite \
@


1.12
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/08/02 22:36:47 aanriot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.11
log
@add print/enscript in RUN_DEPENDS, used by trac for the source code
color syntaxing.

ok Ben Lovett, pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/05/30 22:03:04 naddy Exp $
d3 1
a3 1
COMMENT=	"wiki and bug tracking system for software projects"
@


1.10
log
@Update to 0.10.4: MSIE XSS vulnerability and bug fixes.
From: Stuart Henderson, ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/05/20 13:47:26 steven Exp $
d6 1
d24 1
a24 1
RUN_DEPENDS=	::databases/py-sqlite \
d28 5
a32 1
BUILD_DEPENDS=	${RUN_DEPENDS}
@


1.9
log
@shorter comment
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/11/21 04:05:18 pvalchev Exp $
d5 1
a5 2
DISTNAME=	trac-0.10.2
PKGNAME=	${DISTNAME}p0
@


1.8
log
@update to trac-0.10.2; maintainer Ben Lovett
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/11/10 07:46:25 mbalmer Exp $
d3 1
a3 1
COMMENT=	"enhanced wiki and bug tracking system for software projects"
d6 1
@


1.8.2.1
log
@MFC:
Update to 0.10.4: MSIE XSS vulnerability and bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/11/21 04:05:18 pvalchev Exp $
d5 1
a5 1
DISTNAME=	trac-0.10.4
@


1.7
log
@security update to trac 0.10.1 (fixes a csrf vulnerability)
changelog available here: http://trac.edgewall.org/wiki/ChangeLog

from Maintainer, Ben Lovett <ben@@tilderoot.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/07/20 04:43:28 steven Exp $
d5 1
a5 1
DISTNAME=	trac-0.10.1
@


1.6
log
@fix homepages and a few master sites
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/07/09 10:11:49 steven Exp $
d5 1
a5 2
DISTNAME=	trac-0.9.6
PKGNAME=	${DISTNAME}p0
@


1.6.2.1
log
@MFC:
security update to trac 0.10.1 (fixes a csrf vulnerability)
changelog available here: http://trac.edgewall.org/wiki/ChangeLog
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/07/20 04:43:28 steven Exp $
d5 2
a6 1
DISTNAME=	trac-0.10.1
@


1.6.2.2
log
@MFC:
Update to 0.10.4: MSIE XSS vulnerability and bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6.2.1 2006/11/10 09:41:54 sturm Exp $
d5 1
a5 1
DISTNAME=	trac-0.10.4
@


1.5
log
@SECURITY update to trac 0.9.6

* Fixed reStructuredText breach of privacy and denial of service
  vulnerability found by Felix Wiemann.

from maintainer Ben Lovett <ben at tilderoot.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/06/06 09:32:56 alek Exp $
d6 1
d11 1
a11 1
HOMEPAGE=	http://projects.edgewall.com/trac/
@


1.4
log
@Update to 0.9.5

From Will Maier via Ben Lovett <ben@@tilderoot.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/06/03 09:49:35 alek Exp $
d5 1
a5 1
DISTNAME=	trac-0.9.5
@


1.3
log
@Bump PKGNAME after recent python switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/06/03 08:28:21 alek Exp $
d5 1
a5 2
DISTNAME=	trac-0.9.4
PKGNAME=	${DISTNAME}p0
a28 2
NO_REGRESS=	Yes

d32 4
a35 1
 	   ${PREFIX}/lib/python${MODPY_VERSION}/site-packages/trac/
@


1.2
log
@NO_REGRESS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/03/21 21:17:10 msf Exp $
d6 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d28 2
@


1.1.1.1
log
@- initial import of trac 0.9.4 submitted by Ben Lovett

Trac is an enhanced wiki and issue tracking system for software development
projects. Trac uses a minimalistic approach to web-based software project
management. Our mission; to help developers write great software while
staying out of the way. Trac should impose as little as possible on a
team's established development process and policies.

It provides an interface to Subversion, an integrated Wiki and convenient
report facilities.

ok sturm@@
@
text
@@
