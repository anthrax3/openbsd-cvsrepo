head	1.8;
access;
symbols
	OPENBSD_6_0:1.7.0.16
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.12
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.14
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.10
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.8
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.6
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.4
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.2
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.6.0.8
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.6
	OPENBSD_5_0:1.6.0.4
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.2
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.5.0.4
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	ajacoutot_20080905:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2016.09.03.23.38.57;	author juanfra;	state dead;
branches;
next	1.7;
commitid	bzvmsnXb7PaY7kDJ;

1.7
date	2012.12.12.02.17.40;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2010.12.20.07.51.58;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.01.13.08.47.57;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2009.07.27.17.06.16;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2009.05.15.06.57.18;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.04.08.21.30.54;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2008.09.05.11.19.48;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.09.05.11.19.48;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Remove www/cherokee.

Upstream is almost dead. The package is a webserver, so better safe than sorry.

Help jca@@ sthen@@. OK jca@@ and MAINTAINER.
@
text
@$OpenBSD: patch-cherokee_conf_sample_pre,v 1.7 2012/12/12 02:17:40 brad Exp $
--- cherokee.conf.sample.pre.orig	Wed Oct 12 14:07:44 2011
+++ cherokee.conf.sample.pre	Wed Oct 19 13:49:33 2011
@@@@ -13,6 +13,9 @@@@
 #
 server!bind!1!port = 80
 server!timeout = 15
+server!user = _cherokee
+server!group = _cherokee
+server!ipv6 = 0
 server!keepalive = 1
 server!keepalive_max_requests = 500
 server!server_tokens = full
@@@@ -27,11 +30,11 @@@@ vserver!1!directory_index = index.html
 
 vserver!1!logger = combined
 vserver!1!logger!access!type = file
-vserver!1!logger!access!filename = %localstatedir%/log/cherokee.access
+vserver!1!logger!access!filename = %localstatedir%/log/cherokee/cherokee.access
 vserver!1!logger!access!buffsize = 16384
 
 vserver!1!error_writer!type = file
-vserver!1!error_writer!filename = %localstatedir%/log/cherokee.error
+vserver!1!error_writer!filename = %localstatedir%/log/cherokee/cherokee.error
 
 vserver!1!rule!1!match = default
 vserver!1!rule!1!handler = common
@


1.7
log
@Upgrade to cherokee 1.2.101.

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-cherokee_conf_sample_pre,v 1.6 2010/12/20 07:51:58 ajacoutot Exp $
@


1.6
log
@Update to cherokee-1.0.14.

From Fernando Quintero (maintainer).
Several fixes/tweaks as well as the rc script added by myself.
@
text
@d1 3
a3 3
$OpenBSD$
--- cherokee.conf.sample.pre.orig	Thu May 20 03:28:51 2010
+++ cherokee.conf.sample.pre	Wed Dec 15 16:37:42 2010
a27 9
@@@@ -49,7 +52,7 @@@@ vserver!1!rule!3!handler = file
 
 vserver!1!rule!4!match = directory
 vserver!1!rule!4!match!directory = /cgi-bin
-vserver!1!rule!4!document_root = %prefix%/lib/cgi-bin
+vserver!1!rule!4!document_root = %wwwroot%/cgi-bin
 vserver!1!rule!4!handler = cgi
 
 vserver!1!rule!5!match = directory
@


1.5
log
@SECURITY: CVE-2009-4489
http://www.vupen.com/english/advisories/2010/0090
(thanks fgsch@@ for the link/notice)

Update to cherokee-0.99.39.
Remove debug FLAVOR and use ifdef DEBUG.
Add rrdtool to run_depends.
Byte-compile python modules so that they are registered in the PLIST.

Be careful as cherokee is not started using ${PREFIX}/sbin/cherokee, not
cherokee-guardian anymore.

Fernando Quintero (maintainer) ok
MESSAGE tweak and ok sthen@@, ok jasper@@
@
text
@d1 3
a3 3
$OpenBSD: patch-cherokee_conf_sample_pre,v 1.4 2009/07/27 17:06:16 sthen Exp $
--- cherokee.conf.sample.pre.orig	Tue Jan 12 10:24:13 2010
+++ cherokee.conf.sample.pre	Tue Jan 12 10:26:20 2010
d33 1
a33 1
+vserver!1!rule!4!document_root = %wwwroot%/cgi-bin/
@


1.4
log
@- update to 0.99.20

- unbreak group setting; Cherokee assumed a fixed size 1k buffer for
getgrnam_r which is insufficient on some OS, including OpenBSD. symptom
was that group setting resulted in ERANGE. This just bumps the buffer
to 8k which isn't a perfect fix, but serves our purposes for now;
see ports@@ archives at http://marc.info/?t=124832494600002&r=1&w=2
for more discussion.

maintainer ok.
@
text
@d1 3
a3 3
$OpenBSD: patch-cherokee_conf_sample_pre,v 1.3 2009/05/15 06:57:18 sthen Exp $
--- cherokee.conf.sample.pre.orig	Mon May 25 08:16:06 2009
+++ cherokee.conf.sample.pre	Tue Jun  9 22:35:47 2009
d14 1
a14 1
@@@@ -27,10 +30,10 @@@@ vserver!1!directory_index = index.html
d21 4
a24 3
 vserver!1!logger!error!type = file
-vserver!1!logger!error!filename = %localstatedir%/log/cherokee.error
+vserver!1!logger!error!filename = %localstatedir%/log/cherokee/cherokee.error
d28 1
a28 1
@@@@ -48,7 +51,7 @@@@ vserver!1!rule!3!handler = file
@


1.3
log
@bugfix update to 0.99.15 from Brad, maintainer ok.
@
text
@d1 3
a3 3
$OpenBSD: patch-cherokee_conf_sample_pre,v 1.2 2009/04/08 21:30:54 sthen Exp $
--- cherokee.conf.sample.pre.orig	Tue May 12 04:27:39 2009
+++ cherokee.conf.sample.pre	Thu May 14 20:39:33 2009
d14 1
a14 1
@@@@ -27,10 +30,10 @@@@ vserver!1!directory_index = index.php,index.html
@


1.2
log
@update to 0.99.0, remove conflict with spawn-fcgi/old lighttpd.
maintainer unresponsive, ok ajacoutot
@
text
@d1 4
a4 4
$OpenBSD: patch-cherokee_conf_sample_pre,v 1.1.1.1 2008/09/05 11:19:48 ajacoutot Exp $
--- cherokee.conf.sample.pre.orig	Wed Feb 25 08:04:54 2009
+++ cherokee.conf.sample.pre	Wed Apr  8 10:26:53 2009
@@@@ -10,6 +10,9 @@@@
d14 1
a14 1
@@@@ -24,10 +27,10 @@@@ vserver!1!directory_index = index.php,index.html
d27 1
a27 1
@@@@ -45,7 +48,7 @@@@ vserver!1!rule!3!handler = file
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- cherokee.conf.sample.pre.orig	Mon Aug 18 20:56:55 2008
+++ cherokee.conf.sample.pre	Sat Aug 30 18:59:25 2008
d6 2
a7 2
 server!port = 80
 server!port_tls = 443
a10 1
 server!timeout = 60
d13 2
a14 1
@@@@ -26,10 +29,10 @@@@ vserver!1!directory_index = index.php,index.html
d27 1
a27 1
@@@@ -47,7 +50,7 @@@@ vserver!1!rule!3!handler = file
d31 1
a31 1
-vserver!1!rule!4!document_root = %prefix%/lib/cgi-bin/
@


1.1.1.1
log
@Import cherokee-0.8.1

Cherokee is a very fast, flexible and easy to configure Web Server. It
supports the widespread technologies nowadays: FastCGI, SCGI, PHP, CGI,
TLS and SSL encrypted connections, Virtual hosts, Authentication, on the
fly encoding, Load balancing, Apache compatible log files, and much
more.

based on a submission from Fernando Quintero (MAINTAINER)
testing, feedback and ok sthen@@
@
text
@@
