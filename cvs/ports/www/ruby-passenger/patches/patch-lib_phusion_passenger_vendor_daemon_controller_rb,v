head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.6
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2015.07.26.01.33.26;	author jeremy;	state Exp;
branches;
next	;
commitid	XHDvbHl3gYXQ5RX5;


desc
@@


1.1
log
@Update to passenger 5.0.14

Remove subpackages, revert to a single package, since standalone package
is now only 10% the size of the main package.
@
text
@$OpenBSD$

OpenBSD doesn't allowing connecting to 0.0.0.0.

--- lib/phusion_passenger/vendor/daemon_controller.rb.orig	Sun Jul 19 00:49:22 2015
+++ lib/phusion_passenger/vendor/daemon_controller.rb	Sun Jul 19 00:50:01 2015
@@@@ -708,6 +708,7 @@@@ private
         case type
         when :tcp
           hostname, port = args
+          hostname = '127.0.0.1' if hostname == '0.0.0.0'
           sockaddr = Socket.pack_sockaddr_in(port, hostname)
           ping_tcp_socket(sockaddr)
         when :unix
@
