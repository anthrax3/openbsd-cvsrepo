head	1.5;
access;
symbols
	OPENBSD_5_7:1.4.0.4
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.3.0.10
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.8
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.6
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2015.07.26.01.31.39;	author jeremy;	state dead;
branches;
next	1.4;
commitid	eLAwVRv9PoQSs8EB;

1.4
date	2014.06.24.21.43.02;	author jeremy;	state Exp;
branches;
next	1.3;
commitid	7wpvj72TnIOd2X3b;

1.3
date	2011.12.13.18.38.17;	author jeremy;	state Exp;
branches;
next	1.2;

1.2
date	2011.05.17.03.25.18;	author william;	state Exp;
branches;
next	1.1;

1.1
date	2010.11.08.23.47.37;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to passenger 5.0.14

Remove subpackages, revert to a single package, since standalone package
is now only 10% the size of the main package.
@
text
@$OpenBSD: patch-build_documentation_rb,v 1.4 2014/06/24 21:43:02 jeremy Exp $
--- build/documentation.rb.orig	Thu May 29 05:13:24 2014
+++ build/documentation.rb	Thu Jun  5 09:17:32 2014
@@@@ -45,7 +45,6 @@@@ Packaging::ASCII_DOCS.each do |target|
 		if juvia_site_key
 			command << " -c juvia --juvia-url http://juvia.phusion.nl --juvia-site-key #{juvia_site_key}"
 		end
-		sh(command)
 	end
 	
 	task :clean do
@


1.4
log
@Update passenger to 4.0.44.  Update the nginx version used by
passenger standalone to 1.4.7.

Thanks to Frank Groeneveld for feedback and testing.
@
text
@d1 1
a1 1
$OpenBSD: patch-build_documentation_rb,v 1.3 2011/12/13 18:38:17 jeremy Exp $
@


1.3
log
@Update to 3.0.11.  Support by the standalone version of passenger by
splitting into a multipackage, with a subpackage for the standalone
version (which embeds a version of nginx).  The standalone version
operates much like other ruby webservers, serving a single ruby/rack
application.

Switch to using the gem version of passenger.  Because the gem
installs into a versioned directory, setup symlinks to the
versioned directory so that nginx configuration files don't need
to be modified when the version is updated.
@
text
@d1 11
a11 12
$OpenBSD: patch-build_documentation_rb,v 1.2 2011/05/17 03:25:18 william Exp $
--- build/documentation.rb.orig	Thu Jan  1 01:00:00 1970
+++ build/documentation.rb	Tue Nov 15 23:50:42 2011
@@@@ -29,7 +29,7 @@@@ task :doc => Packaging::ASCII_DOCS
 Packaging::ASCII_DOCS.each do |target|
 	source = target.sub(/\.html$/, '.txt')
 	file target => [source] + Dir["doc/users_guide_snippets/**/*"] do
-		if PlatformInfo.asciidoc
+		if false
 			if target =~ /apache/i
 				type = "-a apache"
 			elsif target =~ /nginx/i
@


1.2
log
@Update to passenger 3.0.7

Ignore EINVAL from sigaltstack, seems to be what ruby itself does in 1.9

committing on behalf of jeremy@@, who did all the work,
tested on i386 and tested packaging on amd64.  All so I can commit a
simple nginx update... THANKS.

ok jasper
@
text
@d1 4
a4 4
$OpenBSD: patch-build_documentation_rb,v 1.1 2010/11/08 23:47:37 jeremy Exp $
--- build/documentation.rb.orig	Sun Dec  5 11:54:35 2010
+++ build/documentation.rb	Wed Apr 27 10:30:11 2011
@@@@ -36,7 +36,7 @@@@ task :doc => Packaging::ASCII_DOCS
@


1.1
log
@Update ruby-passenger to 3.0.0.  Switch the directory name from
phusion_passenger to phusion-passenger, since that's the name used
by upstream. Also tested by Pierre-Yves Ritschard.

OK landry@@
@
text
@d1 4
a4 4
$OpenBSD$
--- build/documentation.rb.orig	Sun Nov  7 19:51:08 2010
+++ build/documentation.rb	Sun Nov  7 19:51:47 2010
@@@@ -29,7 +29,7 @@@@ task :doc => Packaging::ASCII_DOCS
@

