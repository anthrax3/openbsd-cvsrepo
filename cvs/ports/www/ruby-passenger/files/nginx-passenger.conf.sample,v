head	1.5;
access;
symbols
	OPENBSD_6_1:1.5.0.2
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.4.0.14
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.10
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.12
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.8
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.6
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.4
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.3.0.6
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.1.1.0.4
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.2
	OPENBSD_4_7_BASE:1.1.1.1
	bernd_2009-08-20:1.1.1.1
	bernd:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2016.11.04.22.08.19;	author jeremy;	state Exp;
branches;
next	1.4;
commitid	mG0eEu14lhvUQNFX;

1.4
date	2013.05.07.23.20.11;	author jeremy;	state Exp;
branches;
next	1.3;

1.3
date	2011.12.13.18.38.17;	author jeremy;	state Exp;
branches;
next	1.2;

1.2
date	2010.11.08.23.47.37;	author jeremy;	state Exp;
branches;
next	1.1;

1.1
date	2009.08.20.20.36.13;	author bernd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.08.20.20.36.13;	author bernd;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to passenger 5.0.30

Update embedded nginx to 1.10.2.

Support nginx dynamic modules.

All files that were patched previously got moved, add patches for the
new locations.

Remove all of the pointless hiding of build steps behind progress bars.

OK robert@@
@
text
@# $OpenBSD: nginx-passenger.conf.sample,v 1.4 2013/05/07 23:20:11 jeremy Exp $
#
# Example nginx.conf for Phusion Passenger
#
# Please read the official Phusion Passenger user guide for nginx.
# http://www.modrails.com/documentation/Users guide Nginx.html

user www;
worker_processes  1;
load_module "modules/ngx_http_passenger_module.so";

events {
    worker_connections  1024;
}

error_log  /var/www/logs/error.log;

http {
    include       mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

    keepalive_timeout  65;

    # The passenger root. (passenger-config --root)
    passenger_root ${PASSENGER_ROOT};

    # Some more
    passenger_log_level 1;
    passenger_ruby ${RUBY};

    server {
        listen       80;
        server_name  localhost;

        passenger_enabled on; # actually enable passenger for this vhost
        rails_env production; # set the RAILS_ENV

        # Path to the public folder of your rails app.
        root   /var/www/app/public;

        access_log  /var/www/logs/access.log  main;
    }
}
@


1.4
log
@Use libev from ports instead of embedded libev. Clean up WANTLIB and
DEPENDS.  Update nginx config file to reflect current user/paths.

libev issue discovered by naddy@@.

OK naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: nginx-passenger.conf.sample,v 1.3 2011/12/13 18:38:17 jeremy Exp $
d10 1
@


1.3
log
@Update to 3.0.11.  Support by the standalone version of passenger by
splitting into a multipackage, with a subpackage for the standalone
version (which embeds a version of nginx).  The standalone version
operates much like other ruby webservers, serving a single ruby/rack
application.

Switch to using the gem version of passenger.  Because the gem
installs into a versioned directory, setup symlinks to the
versioned directory so that nginx configuration files don't need
to be modified when the version is updated.
@
text
@d1 1
a1 1
# $OpenBSD: nginx-passenger.conf.sample,v 1.2 2010/11/08 23:47:37 jeremy Exp $
d8 1
a8 1
user _nginx;
d15 1
a15 1
error_log  /var/log/nginx/error.log;
d42 1
a42 1
        root   /var/nginx/app/public;
d44 1
a44 1
        access_log  /var/log/nginx/access.log  main;
@


1.2
log
@Update ruby-passenger to 3.0.0.  Switch the directory name from
phusion_passenger to phusion-passenger, since that's the name used
by upstream. Also tested by Pierre-Yves Ritschard.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: nginx-passenger.conf.sample,v 1.1.1.1 2009/08/20 20:36:13 bernd Exp $
d28 1
a28 1
    passenger_root /usr/local/lib/phusion_passenger;
d32 1
a32 1
    passenger_ruby /usr/local/bin/ruby18;
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d32 1
a32 1
    passenger_ruby /usr/local/bin/ruby;
@


1.1.1.1
log
@Initial import of ruby-passenger-2.2.4.

Phusion Passenger is an Nginx module, which makes deploying Ruby
and Ruby on Rails applications on Nginx a breeze. It follows the
usual Ruby on Rails conventions, such as "Don't-Repeat-Yourself"
and ease of setup, while at the same time providing enough
flexibility.

Tested by many.

With hints from Jeremy Evans and msf@@.   
@
text
@@
