head	1.3;
access;
symbols
	OPENBSD_6_0:1.2.0.10
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.6
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2017.03.08.10.51.08;	author espie;	state Exp;
branches;
next	1.2;
commitid	hDG0bLMb2SJthEhX;

1.2
date	2014.04.21.19.31.57;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2013.11.21.16.10.46;	author landry;	state Exp;
branches;
next	;


desc
@@


1.3
log
@remove hidden dependency on execinfo
okay landry@@
@
text
@$OpenBSD: patch-CMakeLists_txt,v 1.2 2014/04/21 19:31:57 landry Exp $
also find -lfreetype2 during linking
--- CMakeLists.txt.orig	Sun Aug 30 13:56:26 2015
+++ CMakeLists.txt	Tue Mar  7 20:43:09 2017
@@@@ -69,20 +69,16 @@@@ if (UNIX)
         add_definitions("-DHAVE_SIGNAL_H")
     endif ()
 
-    find_file (EXEC_INFO execinfo.h)
-    if (EXEC_INFO)
-        set(VALAFLAGS ${VALAFLAGS} -D HAVE_EXECINFO_H)
-    endif ()
 endif ()
 
 find_library (X11 X11)
 if (X11)
     # Pass /usr/X11R6/include for OpenBSD
     find_file (SCRNSAVER X11/extensions/scrnsaver.h /usr/X11R6/include)
-    find_library (XSS Xss /usr/lib/X11R6/lib)
+    find_library (XSS Xss /usr/X11R6/lib)
     if (SCRNSAVER AND XSS)
         add_definitions("-DHAVE_X11_EXTENSIONS_SCRNSAVER_H")
-        set(OPTS_LIBRARIES "${OPTS_LIBRARIES};${XSS};${X11}")
+        set(OPTS_LIBRARIES "${OPTS_LIBRARIES};${XSS};${X11};-L${X11BASE}/lib")
     endif ()
 endif ()
 
@


1.2
log
@Update to midori 0.5.8.

Enable webkit2 support in the gtk3 flavor to ease testing, now that it
sort-of works... and move some of the plugins not yet ported to
PFRAG.no-gtk3. Sync WANTLIB while here..
@
text
@d1 1
a1 1
$OpenBSD$
d3 13
a15 3
--- CMakeLists.txt.orig	Thu Apr  3 23:23:17 2014
+++ CMakeLists.txt	Mon Apr 21 19:30:18 2014
@@@@ -74,10 +74,10 @@@@ find_library (X11 X11)
@


1.1
log
@Update to midori 0.5.6.

Upstream switched from waf to cmake (yay!) so rewrite patches. Fix
WANTLIB all around while here.
@
text
@d2 9
a10 5
Ensure Xrender is found.
--- CMakeLists.txt.orig	Wed Nov 20 02:26:52 2013
+++ CMakeLists.txt	Thu Nov 21 15:23:12 2013
@@@@ -77,7 +77,7 @@@@ if (X11)
     find_library (XSS Xss /usr/lib/X11R6/lib)
d13 2
a14 2
-        set(OPTS_LIBRARIES "${OPTS_LIBRARIES};${XSS}")
+        set(OPTS_LIBRARIES "${OPTS_LIBRARIES};${XSS};-L${X11BASE}/lib")
@

