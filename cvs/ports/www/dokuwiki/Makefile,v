head	1.23;
access;
symbols
	OPENBSD_6_2:1.23.0.2
	OPENBSD_6_2_BASE:1.23
	OPENBSD_6_1:1.22.0.4
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.22.0.2
	OPENBSD_6_0_BASE:1.22
	OPENBSD_5_9:1.21.0.2
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.20.0.4
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.18.0.2
	OPENBSD_5_7_BASE:1.18
	OPENBSD_5_6:1.15.0.2
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.14.0.2
	OPENBSD_5_5_BASE:1.14
	OPENBSD_5_4:1.11.0.2
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.8.0.2
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.6.0.2
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.2
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	pea_20110721:1.1.1.1
	pea:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2017.05.10.12.32.48;	author pea;	state Exp;
branches;
next	1.22;
commitid	S0OnH6iTA4Syu5iH;

1.22
date	2016.07.16.09.55.37;	author pea;	state Exp;
branches;
next	1.21;
commitid	T1LNPYb31MatDCII;

1.21
date	2015.11.06.15.48.57;	author pea;	state Exp;
branches;
next	1.20;
commitid	IWSxVPeZGmYALIYq;

1.20
date	2015.06.05.06.00.22;	author robert;	state Exp;
branches;
next	1.19;
commitid	PS9YXjRm9KQkIZjT;

1.19
date	2015.04.10.07.11.06;	author landry;	state Exp;
branches;
next	1.18;
commitid	dmNO5ZZvcUYZWHRd;

1.18
date	2014.12.16.09.55.55;	author pea;	state Exp;
branches;
next	1.17;
commitid	RhJDu1hCE5Uw0mWf;

1.17
date	2014.11.06.17.13.40;	author sthen;	state Exp;
branches;
next	1.16;
commitid	ig1O4RkSPXzTZYwZ;

1.16
date	2014.10.02.08.18.56;	author pea;	state Exp;
branches;
next	1.15;
commitid	hFEoyESO27IZgkdn;

1.15
date	2014.05.30.13.20.13;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2014.01.06.14.46.02;	author pea;	state Exp;
branches;
next	1.13;

1.13
date	2013.08.29.16.30.09;	author pea;	state Exp;
branches;
next	1.12;

1.12
date	2013.08.12.04.11.21;	author robert;	state Exp;
branches;
next	1.11;

1.11
date	2013.07.05.09.34.35;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2013.06.09.13.42.02;	author rpe;	state Exp;
branches;
next	1.9;

1.9
date	2013.03.11.11.44.41;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2012.10.17.11.49.44;	author pea;	state Exp;
branches;
next	1.7;

1.7
date	2012.09.10.09.16.33;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2012.07.17.17.28.35;	author landry;	state Exp;
branches;
next	1.5;

1.5
date	2012.04.20.13.19.59;	author pea;	state Exp;
branches;
next	1.4;

1.4
date	2012.02.01.09.12.30;	author pea;	state Exp;
branches
	1.4.2.1;
next	1.3;

1.3
date	2011.11.16.15.56.37;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2011.09.16.12.00.06;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2011.07.21.09.52.28;	author pea;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.07.21.09.52.28;	author pea;	state Exp;
branches
	1.1.1.1.2.1;
next	;

1.1.1.1.2.1
date	2012.03.05.15.10.44;	author pea;	state Exp;
branches;
next	;

1.4.2.1
date	2012.04.20.13.28.58;	author pea;	state Exp;
branches;
next	;


desc
@@


1.23
log
@Update to 2017-02-19b
@
text
@# $OpenBSD: Makefile,v 1.22 2016/07/16 09:55:37 pea Exp $

COMMENT =	standards compliant, simple to use Wiki

VERSION =	2017-02-19b
DISTNAME =	dokuwiki-${VERSION}
PKGNAME =	dokuwiki-${VERSION:S/-/./g}
CATEGORIES =	www
HOMEPAGE =	http://www.dokuwiki.org/dokuwiki

MAINTAINER =	Pierre-Emmanuel Andre <pea@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =	http://download.dokuwiki.org/src/dokuwiki/

EXTRACT_SUFX =	.tgz
NO_BUILD =	Yes
NO_TEST =	Yes
PKG_ARCH =	*

MODULES=	lang/php

PREFIX =	${VARBASE}/www
INSTDIR =	${PREFIX}/dokuwiki
TINSTDIR =	${TRUEPREFIX}/dokuwiki
SUBST_VARS =	INSTDIR TINSTDIR

RUN_DEPENDS =	lang/php/${MODPHP_VERSION},-gd

do-install:
	cp -Rp ${WRKDIST} ${INSTDIR}
	chown -R ${SHAREOWN}:${SHAREGRP} ${INSTDIR}

.include <bsd.port.mk>
@


1.22
log
@Bugfix update to 2016-06-26a
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/11/06 15:48:57 pea Exp $
d5 1
a5 1
VERSION =	2016-06-26a
@


1.21
log
@Update to 2015-08-10a
From Michael Lesniewski <lesniewskister at gmail dot com>, thanks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/06/05 06:00:22 robert Exp $
d5 1
a5 1
VERSION =	2015-08-10a
@


1.20
log
@bump revision due to the change of the default php version to 5.6
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/04/10 07:11:06 landry Exp $
d5 1
a5 1
VERSION =	2014-09-29d
a9 1
REVISION =	0
@


1.19
log
@Update to dokuwiki 2014-09-29d.
ok pea@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/12/16 09:55:55 pea Exp $
d10 1
@


1.18
log
@Update to 2014-09-29b

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2014/11/06 17:13:40 sthen Exp $
d5 1
a5 1
VERSION =	2014-09-29b
@


1.17
log
@bump REVISION for php version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/10/02 08:18:56 pea Exp $
d5 1
a5 1
VERSION =	2014-05-05
a9 1
REVISION =	0
@


1.16
log
@Update to 2014-05-05

Feebacks and ok chrisz@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2014/05/30 13:20:13 sthen Exp $
d10 1
@


1.15
log
@bump ports which may have been installed when /var/www/modules.sample didn't
exist, to force an update to make sure that their config samples get installed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/01/06 14:46:02 pea Exp $
d5 1
a5 1
VERSION =	2013-12-08
a9 1
REVISION =	0
a33 1
	${SUBST_CMD} -c ${FILESDIR}/dokuwiki.conf ${INSTDIR}/dokuwiki.conf.dist
@


1.14
log
@Update to the last version (Binky 2013-12-08)

"go ahead" ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/08/29 16:30:09 pea Exp $
d6 2
a7 2
DISTNAME = 	dokuwiki-${VERSION}
PKGNAME = 	dokuwiki-${VERSION:S/-/./g}
d10 1
d19 1
a19 1
EXTRACT_SUFX = 	.tgz
@


1.13
log
@Update to 2013-05-10a

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/08/12 04:11:21 robert Exp $
d5 1
a5 1
VERSION =	2013-05-10a
d16 1
a16 1
MASTER_SITES =	http://www.splitbrain.org/_media/projects/dokuwiki/
@


1.12
log
@bump REVISION due to the php update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/07/05 09:34:35 jasper Exp $
d5 1
a5 1
VERSION =	2013-05-10
a9 1
REVISION =	0
@


1.11
log
@use ${VARBASE} instead of hardcoding /var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/06/09 13:42:02 rpe Exp $
d10 1
@


1.10
log
@update dokuwiki to 2013-05-10

- add a apache configuration file snippet
- change README accordingly
- zap WRKDIST in Makefile

ok sthen@@ pea@@ (Maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/03/11 11:44:41 espie Exp $
d25 1
a25 1
PREFIX =	/var/www
@


1.9
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/10/17 11:49:44 pea Exp $
d5 1
a5 1
VERSION =	2012-10-13
d27 2
a28 2
SUBST_VARS =	INSTDIR
WRKDIST = 	${WRKDIR}/${DISTNAME:S/c//}
d34 1
@


1.8
log
@Update to 2012-10-13 (Adora Belle)

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/09/10 09:16:33 jasper Exp $
a14 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d20 1
a20 1
NO_REGRESS =	Yes
@


1.7
log
@move various MESSAGEs into READMEs and apply some small modifictions for consistency

eyeballed by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/07/17 17:28:35 landry Exp $
d5 1
a5 1
VERSION =	2012-01-25b
a7 1
REVISION =	0
@


1.6
log
@Update to dokuwiki 2012-01-25b.

Hotfix release for a XSS issue, see
http://bugs.splitbrain.org/index.php?do=details&task_id=2561

From Christopher Zimmermann, commiting on behalf of pea@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/04/20 13:19:59 pea Exp $
d8 1
@


1.5
log
@Security update to 2012-01-25a (XSS security issue)
Reminded by Christopher Zimmermann, thanks.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/02/01 09:12:30 pea Exp $
d5 1
a5 1
VERSION =	2012-01-25a
@


1.4
log
@Update to 2012-01-25
Reminded by Christopher Zimmermann (thanks !).

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/11/16 15:56:37 robert Exp $
d5 1
a5 1
VERSION =	2012-01-25
@


1.4.2.1
log
@Security update to 2012-01-25a (XSS security issue)
Reminded by Christopher Zimmermann, thanks.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/02/01 09:12:30 pea Exp $
d5 1
a5 1
VERSION =	2012-01-25a
@


1.3
log
@switch php to version 5.3 by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/09/16 12:00:06 espie Exp $
d5 3
a7 3
DISTNAME = 	dokuwiki-2011-05-25a
PKGNAME = 	${DISTNAME:S/-05-/.05./}
REVISION=	1
@


1.2
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/07/21 09:52:28 pea Exp $
d7 1
a7 1
REVISION=	0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@Import dokuwiki.

DokuWiki is a standards compliant, simple to use Wiki, mainly aimed at
creating documentation of any kind. It is targeted at developer teams,
workgroups and small companies. It has a simple but powerful syntax
which makes sure the datafiles remain readable outside the Wiki and
eases the creation of structured texts. All data is stored in plain text
files, no database is required.

With tweaks/feedbacks from landry@@, thanks.

ok landry@@
@
text
@@


1.1.1.1.2.1
log
@Security update to 2011-05-25b (broken salt generation)

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/07/21 09:52:28 pea Exp $
d5 1
a5 1
DISTNAME = 	dokuwiki-2011-05-25b
@

