head	1.41;
access;
symbols
	OPENBSD_6_2:1.41.0.6
	OPENBSD_6_2_BASE:1.41
	OPENBSD_6_1:1.41.0.4
	OPENBSD_6_1_BASE:1.41
	OPENBSD_6_0:1.41.0.2
	OPENBSD_6_0_BASE:1.41
	OPENBSD_5_9:1.40.0.10
	OPENBSD_5_9_BASE:1.40
	OPENBSD_5_8:1.40.0.12
	OPENBSD_5_8_BASE:1.40
	OPENBSD_5_7:1.40.0.8
	OPENBSD_5_7_BASE:1.40
	OPENBSD_5_6:1.40.0.6
	OPENBSD_5_6_BASE:1.40
	OPENBSD_5_5:1.40.0.4
	OPENBSD_5_5_BASE:1.40
	OPENBSD_5_4:1.40.0.2
	OPENBSD_5_4_BASE:1.40
	OPENBSD_5_3:1.39.0.6
	OPENBSD_5_3_BASE:1.39
	OPENBSD_5_2:1.39.0.4
	OPENBSD_5_2_BASE:1.39
	OPENBSD_5_1_BASE:1.39
	OPENBSD_5_1:1.39.0.2
	OPENBSD_5_0:1.38.0.2
	OPENBSD_5_0_BASE:1.38
	OPENBSD_4_9:1.34.0.2
	OPENBSD_4_9_BASE:1.34
	OPENBSD_4_8:1.31.0.2
	OPENBSD_4_8_BASE:1.31
	OPENBSD_4_7:1.29.0.2
	OPENBSD_4_7_BASE:1.29
	OPENBSD_4_6:1.28.0.2
	OPENBSD_4_6_BASE:1.28
	OPENBSD_4_5:1.27.0.2
	OPENBSD_4_5_BASE:1.27
	OPENBSD_4_4:1.24.0.2
	OPENBSD_4_4_BASE:1.24
	OPENBSD_4_3:1.22.0.2
	OPENBSD_4_3_BASE:1.22
	OPENBSD_4_2:1.20.0.4
	OPENBSD_4_2_BASE:1.20
	OPENBSD_4_1:1.20.0.2
	OPENBSD_4_1_BASE:1.20
	OPENBSD_4_0:1.17.0.2
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.16.0.2
	OPENBSD_3_9_BASE:1.16
	OPENBSD_3_8:1.13.0.2
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.10.0.2
	OPENBSD_3_7_BASE:1.10
	jolan_2004-scotchtoberfest-13:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.41
date	2016.04.13.17.35.48;	author juanfra;	state Exp;
branches;
next	1.40;
commitid	cltDFZ7RLtzF3744;

1.40
date	2013.03.11.11.44.43;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2011.10.26.16.12.08;	author mglocker;	state Exp;
branches;
next	1.38;

1.38
date	2011.06.23.22.50.30;	author naddy;	state Exp;
branches;
next	1.37;

1.37
date	2011.03.20.12.04.19;	author mglocker;	state Exp;
branches;
next	1.36;

1.36
date	2011.03.17.17.43.14;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2011.03.14.09.15.34;	author sthen;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.20.15.23.04;	author naddy;	state Exp;
branches
	1.34.2.1;
next	1.33;

1.33
date	2010.10.19.08.02.54;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2010.08.31.08.15.45;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2010.04.08.20.54.18;	author mglocker;	state Exp;
branches;
next	1.30;

1.30
date	2010.04.08.13.59.03;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2009.08.05.07.25.48;	author mglocker;	state Exp;
branches;
next	1.28;

1.28
date	2009.04.06.10.44.06;	author mglocker;	state Exp;
branches;
next	1.27;

1.27
date	2008.12.10.20.31.02;	author mglocker;	state Exp;
branches;
next	1.26;

1.26
date	2008.11.27.19.04.38;	author mglocker;	state Exp;
branches;
next	1.25;

1.25
date	2008.09.09.18.54.57;	author mglocker;	state Exp;
branches;
next	1.24;

1.24
date	2008.04.25.07.34.54;	author mglocker;	state Exp;
branches;
next	1.23;

1.23
date	2008.04.23.10.52.35;	author mglocker;	state Exp;
branches;
next	1.22;

1.22
date	2007.09.25.08.57.48;	author mglocker;	state Exp;
branches;
next	1.21;

1.21
date	2007.09.15.20.38.22;	author merdely;	state Exp;
branches;
next	1.20;

1.20
date	2007.02.12.17.58.46;	author mglocker;	state Exp;
branches;
next	1.19;

1.19
date	2007.02.07.09.58.08;	author mglocker;	state Exp;
branches;
next	1.18;

1.18
date	2006.10.19.10.04.47;	author mglocker;	state Exp;
branches;
next	1.17;

1.17
date	2006.04.18.20.17.47;	author jolan;	state Exp;
branches;
next	1.16;

1.16
date	2006.01.27.06.54.50;	author steven;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2006.01.17.06.47.56;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2005.09.05.17.36.30;	author jolan;	state Exp;
branches;
next	1.13;

1.13
date	2005.07.20.12.28.10;	author aanriot;	state Exp;
branches;
next	1.12;

1.12
date	2005.06.04.14.42.41;	author mbalmer;	state Exp;
branches;
next	1.11;

1.11
date	2005.04.20.06.29.58;	author mbalmer;	state Exp;
branches;
next	1.10;

1.10
date	2005.03.09.18.19.16;	author niallo;	state Exp;
branches;
next	1.9;

1.9
date	2005.02.28.23.24.56;	author mbalmer;	state Exp;
branches;
next	1.8;

1.8
date	2005.02.07.18.46.07;	author pvalchev;	state Exp;
branches;
next	1.7;

1.7
date	2005.01.24.10.17.51;	author mbalmer;	state Exp;
branches;
next	1.6;

1.6
date	2005.01.22.09.56.49;	author mbalmer;	state Exp;
branches;
next	1.5;

1.5
date	2004.12.13.20.45.52;	author jolan;	state Exp;
branches;
next	1.4;

1.4
date	2004.12.12.22.36.05;	author jolan;	state Exp;
branches;
next	1.3;

1.3
date	2004.12.11.13.29.22;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2004.10.16.21.28.36;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2004.10.13.06.26.51;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.10.13.06.26.51;	author jolan;	state Exp;
branches;
next	;

1.16.2.1
date	2006.05.01.18.00.02;	author sturm;	state Exp;
branches;
next	;

1.34.2.1
date	2011.03.17.17.46.08;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.41
log
@Update to nostromo 1.9.6. From Marcus Glocker (MAINTAINER).
@
text
@# $OpenBSD: Makefile,v 1.40 2013/03/11 11:44:43 espie Exp $

COMMENT=		simple, fast and secure HTTP server

DISTNAME=		nostromo-1.9.6
CATEGORIES=		www
MASTER_SITES=		http://www.nazgul.ch/dev/

HOMEPAGE=		http://www.nazgul.ch/dev_nostromo.html

MAINTAINER=		Marcus Glocker <marcus@@nazgul.ch>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c crypto ssl

NO_TEST=		Yes

# Change bsd.port.mk vars
WRKSRC=			${WRKDIST}/src

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/nhttpd/nhttpd ${PREFIX}/sbin
	${INSTALL_PROGRAM} ${WRKSRC}/tools/crypt ${PREFIX}/sbin
	${INSTALL_MAN} ${WRKSRC}/nhttpd/nhttpd.8 ${PREFIX}/man/man8
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/nostromo
	${INSTALL_DATA} ${WRKDIST}/ChangeLog ${PREFIX}/share/doc/nostromo
	${INSTALL_DATA} ${WRKDIST}/README ${PREFIX}/share/doc/nostromo
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/nostromo
	${INSTALL_DATA} ${WRKDIST}/htdocs/cgi-bin/printenv \
		${PREFIX}/share/examples/nostromo
	${INSTALL_DATA} ${WRKDIST}/conf/mimes \
		${PREFIX}/share/examples/nostromo
	${INSTALL_DATA} ${WRKDIST}/conf/nhttpd.conf-dist \
		${PREFIX}/share/examples/nostromo
	${INSTALL_DATA} ${WRKDIST}/htdocs/index.html \
		${PREFIX}/share/examples/nostromo
	${INSTALL_DATA} ${WRKDIST}/htdocs/nostromo.gif \
		${PREFIX}/share/examples/nostromo
	${INSTALL_DATA} ${WRKDIST}/icons/dir.gif \
		${PREFIX}/share/examples/nostromo
	${INSTALL_DATA} ${WRKDIST}/icons/file.gif \
		${PREFIX}/share/examples/nostromo

.include <bsd.port.mk>
@


1.40
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/10/26 16:12:08 mglocker Exp $
d3 1
a3 1
COMMENT=		Nostromo webserver
d5 1
a5 1
DISTNAME=		nostromo-1.9.5
d9 1
a9 1
HOMEPAGE=		http://www.nazgul.ch/dev.html
@


1.39
log
@Update to nostromo-1.9.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/06/23 22:50:30 naddy Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d18 1
a18 1
NO_REGRESS=		Yes
@


1.38
log
@Cope with bsd.man.mk changes and install source man pages.
While here, also update some PLISTs, fix PREFIX use, etc.
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/03/20 12:04:19 mglocker Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.9.4
@


1.37
log
@Update to nostromo-1.9.4.

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/03/17 17:43:14 jasper Exp $
d29 1
a29 2
	${INSTALL_MAN} ${WRKSRC}/nhttpd/nhttpd.cat8 \
		${PREFIX}/man/cat8/nhttpd.0
@


1.36
log
@Security fix for CVE-2011-0751
Nostromo Directory Traversal Vulnerability.

from and ok mglocker@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/03/14 09:15:34 sthen Exp $
d5 1
a5 2
DISTNAME=		nostromo-1.9.3
REVISION=		1
@


1.35
log
@fix various typos, from Anthony J. Bentley with a few tweaks by myself
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/20 15:23:04 naddy Exp $
d6 1
a6 1
REVISION=		0
@


1.34
log
@ports that preformat man pages with mandoc via bsd.man.mk don't need groff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/10/19 08:02:54 espie Exp $
d6 1
@


1.34.2.1
log
@Security fix for CVE-2011-0751
Nostromo Directory Traversal Vulnerability.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/20 15:23:04 naddy Exp $
a5 1
REVISION=		0
@


1.33
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/08/31 08:15:45 ajacoutot Exp $
a20 1
USE_GROFF =	Yes
@


1.32
log
@Remove PKGNAME=${DISTNAME} constructs where possible, as this is the
default anyway.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/04/08 20:54:18 mglocker Exp $
d21 1
@


1.31
log
@Bump to nostromo 1.9.3; fixes mdoc upstream.

OK naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/04/08 13:59:03 naddy Exp $
a5 1
PKGNAME=		${DISTNAME}
@


1.30
log
@mdoc fix; install cat page
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/08/05 07:25:48 mglocker Exp $
d5 2
a6 2
DISTNAME=		nostromo-1.9.2
PKGNAME=		${DISTNAME}p0
@


1.29
log
@Update to nostromo-1.9.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/04/06 10:44:06 mglocker Exp $
d6 1
d30 2
a31 1
	${INSTALL_MAN} ${WRKSRC}/nhttpd/nhttpd.8 ${PREFIX}/man/man8
@


1.28
log
@Update to nostromo 1.9.1.

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2008/12/10 20:31:02 mglocker Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.9.1
@


1.27
log
@Update to latest nostromo version 1.9.

OK mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2008/11/27 19:04:38 mglocker Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.9
@


1.26
log
@Update to latest nostromo release 1.8.8.

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/09/09 18:54:57 mglocker Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.8.8
@


1.25
log
@Update to latest version nostromo 1.8.7.

Help and OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/04/25 07:34:54 mglocker Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.8.7
@


1.24
log
@Update to latest release 1.8.6.

"aber sicher doch!" mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/04/23 10:52:35 mglocker Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.8.6
a32 1
	${INSTALL_DATA} ${WRKDIST}/TODO ${PREFIX}/share/doc/nostromo
@


1.23
log
@Make nostromo compile on alpha arch again.

Spotted, tested, and OK merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/09/25 08:57:48 mglocker Exp $
d5 1
a5 2
DISTNAME=		nostromo-1.8.5
PKGNAME=		${DISTNAME}p0
@


1.22
log
@Bump to new version 1.8.5.

Diff fix and OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2007/09/15 20:38:22 merdely Exp $
d6 1
@


1.21
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2007/02/12 17:58:46 mglocker Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.8.4
@


1.20
log
@Update to nostromo 1.8.4

ok espie@@ mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/02/07 09:58:08 mglocker Exp $
d3 1
a3 1
COMMENT=		"Nostromo webserver"
@


1.19
log
@Update to 1.8.3.

ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/10/19 10:04:47 mglocker Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.8.3
@


1.18
log
@Update to 1.8.2.  For ChangeLog read
http://www.nazgul.ch/dev/nostromo_cl.txt

ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/04/18 20:17:47 jolan Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.8.2
@


1.17
log
@SECURITY: update to 1.7.9 which fixes a buffer overflow in the
http_header_comp() function
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/01/27 06:54:50 steven Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.7.9
@


1.16
log
@update to nostromo 1.7.8

from Marcus Glocker (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/01/17 06:47:56 steven Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.7.8
@


1.16.2.1
log
@MFC:
SECURITY: update to 1.7.9 which fixes a buffer overflow in the
http_header_comp() function
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/01/27 06:54:50 steven Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.7.9
@


1.15
log
@update to nostromo-1.7.7

from Marcus Glocker <marcus at nazgul.ch> (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2005/09/05 17:36:30 jolan Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.7.7
d35 1
a35 1
	${INSTALL_DATA} ${WRKDIST}/cgi-bin/printenv \
@


1.14
log
@update to 1.7.5, from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2005/07/20 12:28:10 aanriot Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.7.5
@


1.13
log
@update to 1.7.4, from Marcus Glocker <marcus@@nazgul.ch>.

ok alek@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/06/04 14:42:41 mbalmer Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.7.4
@


1.12
log
@Update to version 1.7.3.

From maintainer, Marcus Glocker, marcus (at) nazgul (dot) ch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/04/20 06:29:58 mbalmer Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.7.3
@


1.11
log
@Update to version 1.7.2

From MAINTAINER marcus at nazgul . ch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/03/09 18:19:16 niallo Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.7.2
@


1.10
log
@Update to 1.7.1 which includes the head method and fixes a bug in basic
authentication that could cause the use of an unitialised char array.
From: Marcus Glocker <marcus@@nazgul.ch>
ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/02/28 23:24:56 mbalmer Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.7.1
@


1.9
log
@Update to version 1.7.

from maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/02/07 18:46:07 pvalchev Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.7
@


1.8
log
@update to nostromo-1.6, now with ipv6 support
from maintainer Marcus Glocker <marcus@@nazgul.ch>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/01/24 10:17:51 mbalmer Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.6
@


1.7
log
@BUGFIX:
chroot mode caused process hang if /dev/null where not found in the chroot
environment.

From the author, Marcus Glocker <marcus@@nazgul.ch>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/01/22 09:56:49 mbalmer Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.5.1
@


1.6
log
@Updated to 1.5

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/12/13 20:45:52 jolan Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.5
@


1.5
log
@proper update to 1.4, from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/12/12 22:36:05 jolan Exp $
d3 1
a3 1
COMMENT=		"Nostromo Hypertext Transfer Protocol"
d5 1
a5 2
DISTNAME=		nostromo-1.4
PKGNAME=		${DISTNAME}p0
d18 2
a19 1
WANTLIB=		c 
a21 1
WANTLIB=		c
d33 1
@


1.4
log
@update to 1.4, from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/12/11 13:29:22 alek Exp $
d6 1
d22 1
d29 1
a35 2
		${PREFIX}/share/examples/nostromo
	${INSTALL_DATA} ${WRKDIST}/conf/crypt \
@


1.3
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/10/16 21:28:36 jolan Exp $
d5 1
a5 1
DISTNAME=		nostromo-1.2
@


1.2
log
@update to 1.2, from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/10/13 06:26:51 jolan Exp $
d18 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=		nostromo-1.1
@


1.1.1.1
log
@nostromo-1.1, nostromo http server
@
text
@@
