head	1.4;
access;
symbols
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2
	wilfried_20030518:1.1.1.1
	wilfried:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2004.02.15.19.38.03;	author wilfried;	state dead;
branches;
next	1.3;

1.3
date	2004.01.18.11.51.10;	author wilfried;	state Exp;
branches;
next	1.2;

1.2
date	2003.08.11.12.56.33;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2003.05.18.20.43.49;	author wilfried;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.05.18.20.43.49;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.4
log
@renamed as firefox
@
text
@$OpenBSD: patch-nsprpub_configure_in,v 1.3 2004/01/18 11:51:10 wilfried Exp $
--- nsprpub/configure.in.orig	2003-08-30 02:18:18.000000000 +0200
+++ nsprpub/configure.in	2003-12-12 12:41:29.000000000 +0100
@@@@ -1483,6 +1483,7 @@@@ mips-sony-newsos*)
     AC_DEFINE(XP_UNIX)
     AC_DEFINE(OPENBSD)
     AC_DEFINE(HAVE_BSD_FLOCK)
+    AC_DEFINE(HAVE_SOCKLEN_T)
     CFLAGS="$CFLAGS -ansi -Wall"
     CXXFLAGS="$CXXFLAGS -ansi -Wall"
     DLL_SUFFIX=so.1.0
@@@@ -1490,12 +1491,8 @@@@ mips-sony-newsos*)
     MDCPUCFG_H=_openbsd.cfg
     PR_MD_CSRCS=openbsd.c
     USE_NSPR_THREADS=1
-    case "$OS_TEST" in
-    alpha|mips|pmax)
-        DSO_LDOPTS=-shared ;;
-    *)
-        DSO_LDOPTS=-Bshareable ;;
-    esac
+    DSO_LDOPTS='-shared -fPIC'
+    MKSHLIB='$(CC) $(DSO_LDOPTS) -o $@@'
     ;;
 
 *-openvms*)
@@@@ -2179,7 +2176,8 @@@@ if test -n "$USE_PTHREADS"; then
 	    AC_DEFINE(_THREAD_SAFE)
 	    dnl -pthread links in -lc_r, so don't specify it explicitly.
 	    if test "$ac_cv_have_dash_pthread" = "yes"; then
-	        _PTHREAD_LDFLAGS=
+	        _PTHREAD_LDFLAGS=-pthread
+	        LDFLAGS="${_PTHREAD_LDFLAGS} ${LDFLAGS}"
 	    fi
 	    ;;
     *-linux*)
@


1.3
log
@sync patches
@
text
@d1 1
a1 1
$OpenBSD: patch-nsprpub_configure_in,v 1.2 2003/08/11 12:56:33 wilfried Exp $
@


1.2
log
@_PRSockLen_T must be the same size as socklen_t
@
text
@d1 3
a3 3
$OpenBSD: patch-nsprpub_configure_in,v 1.1.1.1 2003/05/18 20:43:49 wilfried Exp $
--- nsprpub/configure.in.orig	2003-05-19 21:05:48.000000000 +0200
+++ nsprpub/configure.in	2003-08-11 14:27:44.000000000 +0200
d27 1
a27 1
@@@@ -2168,7 +2165,8 @@@@ if test -n "$USE_PTHREADS"; then
@


1.1
log
@Initial revision
@
text
@d1 12
a12 4
$OpenBSD$
--- nsprpub/configure.in.orig	Tue Apr 29 18:36:32 2003
+++ nsprpub/configure.in	Sun May 18 04:46:44 2003
@@@@ -1490,12 +1490,8 @@@@ mips-sony-newsos*)
d27 1
a27 1
@@@@ -2167,7 +2163,8 @@@@ if test -n "$USE_PTHREADS"; then
@


1.1.1.1
log
@import of mozilla-firebird 0.6

The Mozilla Firebird project is a redesign of Mozilla's browser
component, written using the XUL user interface language and designed
to be cross-platform.
@
text
@@
