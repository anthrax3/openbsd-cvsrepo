head	1.4;
access;
symbols
	OPENBSD_4_1:1.3.0.6
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.4
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.2
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.1.0.2
	OPENBSD_3_8_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2007.03.17.18.54.40;	author pedro;	state dead;
branches;
next	1.3;

1.3
date	2005.12.02.01.12.08;	author jolan;	state Exp;
branches;
next	1.2;

1.2
date	2005.09.06.16.51.44;	author pedro;	state Exp;
branches;
next	1.1;

1.1
date	2005.08.02.17.41.08;	author pedro;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Remove ports that still lack a proper update to Lua 5.1 after more than
a year, okay sturm@@
@
text
@$OpenBSD: patch-src_t_xavante_start_lua,v 1.3 2005/12/02 01:12:08 jolan Exp $
--- src/t_xavante_start.lua.orig	Mon Jul  4 13:37:44 2005
+++ src/t_xavante_start.lua	Thu Dec  1 18:27:06 2005
@@@@ -1,4 +1,4 @@@@
-#!/usr/local/bin/lua50
+#!@@localbase@@/bin/lua
 -------------------------------------------------------------------------------
 -- Starts the Xavante Web server.
 --
@@@@ -8,18 +8,8 @@@@
 -- Copyright (c) 2004-2005 Kepler Project
 -------------------------------------------------------------------------------
 
---- compatibility code for Lua version 5.0 providing 5.1 behavior
-if string.find (_VERSION, "Lua 5.0") and not _COMPAT51 then
-	if not LUA_PATH then
-		LUA_PATH = [[LUA_PATH]]
-	end
-	require"compat-5.1"
-	package.cpath = [[LUA_CPATH]]
-end
 
 require "xavante.server"
-
-xavante.setwebdir([[XAVANTE_WEB]])
 
 -------------------------------------------------------------------------------
 -- Loads the configuration file and starts Xavante
@


1.3
log
@put all the configuration stuff into a single file in SYSCONFDIR and
some tiny tweaks

with help from and ok pedro@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_t_xavante_start_lua,v 1.2 2005/09/06 16:51:44 pedro Exp $
@


1.2
log
@Privilege separation support for Xavante, okay jolan@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_t_xavante_start_lua,v 1.1 2005/08/02 17:41:08 pedro Exp $
--- src/t_xavante_start.lua.orig	Mon Jul  4 15:37:44 2005
+++ src/t_xavante_start.lua	Thu Aug 18 13:57:10 2005
d10 1
a10 1
@@@@ -8,18 +8,10 @@@@
d24 1
a24 1
 
a25 1
+xavante.setwebdir([[@@xavanteweb@@]])
@


1.1
log
@Upgrade to xavante-1.1, okay jolan@@
@
text
@d1 9
a9 3
$OpenBSD$
--- src/t_xavante_start.lua.orig	Mon Aug  1 06:52:03 2005
+++ src/t_xavante_start.lua	Mon Aug  1 06:58:39 2005
@

