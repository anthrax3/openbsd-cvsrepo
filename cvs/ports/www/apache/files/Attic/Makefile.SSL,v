head	1.2;
access;
symbols
	apache_1_3:1.1.1.1
	apache:1.1.1;
locks; strict;
comment	@# @;


1.2
date	98.02.17.04.00.43;	author marc;	state dead;
branches;
next	1.1;

1.1
date	97.11.17.23.01.02;	author joey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.11.17.23.01.02;	author joey;	state Exp;
branches;
next	;


desc
@@


1.2
log
@apache 1.3b3 plus no2slash-loop-fix patch
@
text
@#
# Makefile for building and installing secure apache
#
all::
	cd src; ${MAKE} PREFIX=@@@@PREFIX@@@@ $@@

configure::
	cd src; ./Configure

certificate::
	cd src; ${MAKE} PREFIX=@@@@PREFIX@@@@ $@@

INSTALL_FILE=${INSTALL} -c -m 644 -o bin -g bin

CONF_DIR=   @@@@PREFIX@@@@/etc/apache

install::
	-mkdir -p ${CONF_DIR}
	-mkdir -p @@@@PREFIX@@@@/www/data
	-mkdir -p @@@@PREFIX@@@@/www/icons
	-mkdir -p @@@@PREFIX@@@@/www/cgi-bin
	${INSTALL} -c -s -m 755 -o root src/httpsd @@@@PREFIX@@@@/sbin
	${INSTALL} -c -m 644 -o nobody icons/* @@@@PREFIX@@@@/www/icons
	for file in httpd.conf srm.conf access.conf ; do \
	    if [ -f ${CONF_DIR}/$$file ] ; then \
		${INSTALL_FILE} conf/$$file-dist ${CONF_DIR} ; \
	    else \
		${INSTALL_FILE} conf/$$file-dist ${CONF_DIR}/$$file ; \
	    fi ; \
	done
	for file in httpd.conf ; do \
	    ${INSTALL_FILE} SSLconf/conf/$$file ${CONF_DIR}/$$file-SSL ; \
	done
	if [ -f ${CONF_DIR}/mime.types ] ; then \
	    ${INSTALL_FILE} conf/mime.types ${CONF_DIR}/mime.types-dist ; \
	else \
	    ${INSTALL_FILE} conf/mime.types ${CONF_DIR} ; \
	fi ; \
	${INSTALL_FILE} SSLconf/conf/mime.types ${CONF_DIR}/mime.types-SSL ; \
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@
@
text
@@
