head	1.22;
access;
symbols
	OPENBSD_6_0:1.21.0.6
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.21.0.2
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.21.0.4
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.20.0.2
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.19.0.2
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.18.0.2
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.16.0.2
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.14.0.4
	OPENBSD_5_3_BASE:1.14
	OPENBSD_5_2:1.14.0.2
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.2
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.7.0.2
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.6.0.2
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.3.0.6
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.4
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.2
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.1.1.1.0.2
	OPENBSD_4_3_BASE:1.1.1.1
	winiger_20071005:1.1.1.1
	winiger:1.1.1;
locks; strict;
comment	@# @;


1.22
date	2016.09.06.11.33.54;	author sthen;	state Exp;
branches;
next	1.21;
commitid	86S3qqlndjSIYZDJ;

1.21
date	2015.06.05.06.00.23;	author robert;	state Exp;
branches;
next	1.20;
commitid	PS9YXjRm9KQkIZjT;

1.20
date	2014.11.06.17.13.41;	author sthen;	state Exp;
branches;
next	1.19;
commitid	ig1O4RkSPXzTZYwZ;

1.19
date	2014.05.07.18.10.27;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2013.08.12.04.11.22;	author robert;	state Exp;
branches;
next	1.17;

1.17
date	2013.08.09.08.40.47;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2013.07.05.09.34.36;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.11.11.44.50;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2012.02.17.22.17.16;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2011.11.16.15.56.38;	author robert;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.16.12.00.09;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2011.07.08.23.01.39;	author robert;	state Exp;
branches;
next	1.10;

1.10
date	2011.05.02.17.16.41;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2011.03.06.13.55.57;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2011.03.05.13.43.00;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.22.08.36.54;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2010.07.01.13.15.52;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2009.11.14.11.06.42;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2009.09.15.17.37.22;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2008.04.17.19.57.27;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2008.04.17.19.45.24;	author mbalmer;	state Exp;
branches;
next	1.1;

1.1
date	2007.10.05.13.32.32;	author winiger;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.10.05.13.32.32;	author winiger;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Fix syweb's path to rrdtool and mention PHP's use of /bin/sh in
running programs. Prompted by a mail from thuban at yeuxdelibad.net
and an old diff from Ralf Horstmann that I probably missed
because it was sent to ports@@ rather than the maintainer.
Convert MESSAGE to README while there.
@
text
@# $OpenBSD: Makefile,v 1.21 2015/06/05 06:00:23 robert Exp $

COMMENT=	web frontend to symon
DISTNAME=	syweb-0.65
REVISION=	4
CATEGORIES=	www sysutils

MAINTAINER=	Stuart Henderson <sthen@@openbsd.org>

HOMEPAGE=	http://www.xs4all.nl/~wpd/symon

# BSD
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${HOMEPAGE}/philes/

NO_TEST=	Yes
NO_BUILD=	Yes

PREFIX=		${VARBASE}/www

MODULES=	lang/php
RUN_DEPENDS=	net/rrdtool

WRKDIST=	${WRKDIR}/syweb

do-install:
	find ${WRKDIR} -name \*.orig -exec rm {} \;
	${TAR} -C ${WRKDIST} -cf - htdocs symon | ${TAR} -C ${PREFIX} -xpf -
	${INSTALL_DATA_DIR} ${PREFIX}/symon
	${INSTALL_SCRIPT} ${WRKDIST}/install_rrdtool.sh ${PREFIX}/symon
	mkdir ${PREFIX}/symon/rrds
	mkdir ${PREFIX}/symon/cache
	cd ${PREFIX}/htdocs/syweb && mv setup.inc setup.inc.sample
	chown -R ${SHAREOWN}:${SHAREGRP} ${PREFIX}/htdocs/syweb ${PREFIX}/symon
	sed -i "s,'/bin/rrdtool','${LOCALBASE}/bin/rrdtool'," \
	    ${PREFIX}/htdocs/syweb/setup.inc.sample

.include <bsd.port.mk>
@


1.21
log
@bump revision due to the change of the default php version to 5.6
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/11/06 17:13:41 sthen Exp $
d3 4
a6 4
COMMENT=		web frontend to symon
DISTNAME=		syweb-0.65
REVISION=		3
CATEGORIES=		www sysutils
d8 1
a8 1
MAINTAINER=		Stuart Henderson <sthen@@openbsd.org>
d10 1
a10 1
HOMEPAGE=		http://www.xs4all.nl/~wpd/symon
d15 1
a15 1
MASTER_SITES=		${HOMEPAGE}/philes/
d17 2
a18 2
NO_TEST=		Yes
NO_BUILD=		Yes
d22 2
a23 2
MODULES=		lang/php
RUN_DEPENDS=		net/rrdtool
d25 1
a25 1
WRKDIST=		${WRKDIR}/syweb
d36 2
@


1.20
log
@bump REVISION for php version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/05/07 18:10:27 sthen Exp $
d5 1
a5 1
REVISION=		2
@


1.19
log
@point users at rrdtool's pkg-readme to install rrdtool in chroot, now that
cairo is needed it's a little more complicated than before. @@comment syweb's
install_rrdtool script which is no longer needed.

pointed out by Giancarlo Razzolini.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/08/12 04:11:22 robert Exp $
d5 1
a5 1
REVISION=		1
@


1.18
log
@bump REVISION due to the php update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/08/09 08:40:47 sthen Exp $
d5 1
a5 1
REVISION=		0
@


1.17
log
@update to syweb 0.65
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/07/05 09:34:36 jasper Exp $
d5 1
@


1.16
log
@use ${VARBASE} instead of hardcoding /var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/11 11:44:50 espie Exp $
d4 1
a4 1
DISTNAME=		syweb-0.64
@


1.15
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/02/17 22:17:16 sthen Exp $
d19 1
a19 1
PREFIX=			/var/www
@


1.14
log
@Update to syweb 0.64 - notable addition: graph pfs for pf states;
ln -s pf.rrd pfs.rrd for them to show up in your graphs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/11/16 15:56:38 robert Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d16 1
a16 1
NO_REGRESS=		Yes
@


1.13
log
@switch php to version 5.3 by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/16 12:00:09 espie Exp $
d4 1
a4 2
DISTNAME=		syweb-0.63
REVISION=		2
@


1.12
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/07/08 23:01:39 robert Exp $
d5 1
a5 1
REVISION=		1
@


1.11
log
@switch to lang/php
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/05/02 17:16:41 sthen Exp $
d5 1
a5 1
REVISION=		0
@


1.10
log
@update syweb to 0.63

* to avoid warnings, merge your setup.inc changes with setup.inc.sample
  (or at least add $symon['options']['driveserial']=1; to your config).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/03/06 13:55:57 sthen Exp $
d5 1
d25 2
a26 2
RUN_DEPENDS=		net/rrdtool \
			www/php5/core>=5.2
@


1.9
log
@update to 0.62, rolling in the patch to graph_defaults.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/03/05 13:43:00 sthen Exp $
d4 1
a4 1
DISTNAME=		syweb-0.62
@


1.8
log
@update syweb to 0.61 and add a patch so that cpu graphs on single-cpu
systems aren't broken.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/11/22 08:36:54 espie Exp $
d4 1
a4 1
DISTNAME=		syweb-0.61
@


1.7
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/07/01 13:15:52 sthen Exp $
d4 1
a4 1
DISTNAME=		syweb-0.60
@


1.6
log
@update to 0.60; upgrading users who have modified setup.inc will need
to merge changes from setup.inc.sample.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/11/14 11:06:42 sthen Exp $
d24 2
a25 2
RUN_DEPENDS=		:rrdtool-*:net/rrdtool \
			:php5-core->=5.2:www/php5/core
@


1.5
log
@- match upper-case chars when detecting rrd file types; avoids problems
with processes with names containing upper-case characters.

- take MAINTAINER, bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/09/15 17:37:22 jasper Exp $
d4 1
a4 2
DISTNAME=		syweb-0.55
PKGNAME=		${DISTNAME}p3
d37 1
@


1.4
log
@remove marc balmer as maintainer of all of his ports, to take away the
illusion marc still maintains them. as requested by himself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/04/17 19:57:27 sthen Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p2
d7 2
@


1.3
log
@setup.inc is user-configurable; use @@sample to avoid conflicts at
update time. ok mbalmer (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/04/17 19:45:24 mbalmer Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p1
a8 1
MAINTAINER=		Marc Balmer <mbalmer@@openbsd.org>
@


1.2
log
@Take maintainership, ok former mainteiner (winiger@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/10/05 13:32:32 winiger Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p0
d36 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
d9 1
a9 1
MAINTAINER=		Marc Winiger <winiger@@openbsd.org>
@


1.1.1.1
log
@syweb is a web interface that shows graphs for measurement data
gathered by symon/symux.

ok and additional patches by sthen@@

@
text
@@
