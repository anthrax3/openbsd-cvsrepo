head	1.9;
access;
symbols
	OPENBSD_6_1:1.8.0.2
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2;
locks; strict;
comment	@# @;


1.9
date	2017.06.25.21.53.56;	author robert;	state Exp;
branches;
next	1.8;
commitid	l6xAjqoVop0UE8Em;

1.8
date	2017.03.14.12.18.54;	author robert;	state Exp;
branches;
next	1.7;
commitid	FgEdsLreTqAdn1i5;

1.7
date	2017.01.26.17.08.25;	author robert;	state Exp;
branches;
next	1.6;
commitid	SWz5LewWpip0ZZLw;

1.6
date	2016.12.10.15.35.25;	author robert;	state Exp;
branches;
next	1.5;
commitid	D24Pj03ujnweitOe;

1.5
date	2016.10.26.06.22.08;	author robert;	state Exp;
branches;
next	1.4;
commitid	Dt81be1Osjz00Uwx;

1.4
date	2016.09.01.16.28.11;	author robert;	state Exp;
branches;
next	1.3;
commitid	0duujWXlyOCBrehm;

1.3
date	2016.07.31.13.11.44;	author robert;	state Exp;
branches;
next	1.2;
commitid	dRegVegviFQGKQZc;

1.2
date	2016.05.27.06.28.21;	author robert;	state Exp;
branches;
next	1.1;
commitid	cpiCcJ3vjht5tEkH;

1.1
date	2016.04.16.19.08.46;	author robert;	state Exp;
branches;
next	;
commitid	SE10dvx9aTcZrjRO;


desc
@@


1.9
log
@update to 59.0.3071.109
@
text
@$OpenBSD: patch-content_browser_utility_process_host_impl_cc,v 1.8 2017/03/14 12:18:54 robert Exp $
Index: content/browser/utility_process_host_impl.cc
--- content/browser/utility_process_host_impl.cc.orig
+++ content/browser/utility_process_host_impl.cc
@@@@ -43,7 +43,7 @@@@
 #include "services/service_manager/public/cpp/interface_provider.h"
 #include "ui/base/ui_base_switches.h"
 
-#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX)
+#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX) && !defined(OS_BSD)
 #include "content/public/browser/zygote_handle_linux.h"
 #endif  // defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX)
 
@@@@ -54,7 +54,7 @@@@
 
 namespace content {
 
-#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX)
+#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX) && !defined(OS_BSD)
 namespace {
 ZygoteHandle g_utility_zygote;
 }  // namespace
@@@@ -73,7 +73,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
         launch_elevated_(launch_elevated)
 #elif defined(OS_POSIX)
         env_(env)
-#if !defined(OS_MACOSX) && !defined(OS_ANDROID)
+#if !defined(OS_MACOSX) && !defined(OS_ANDROID) && !defined(OS_BSD)
         ,
         no_sandbox_(no_sandbox)
 #endif  // !defined(OS_MACOSX)  && !defined(OS_ANDROID)
@@@@ -105,7 +105,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
 
 #elif defined(OS_POSIX)
 
-#if !defined(OS_MACOSX) && !defined(OS_ANDROID)
+#if !defined(OS_MACOSX) && !defined(OS_ANDROID) && !defined(OS_BSD)
   ZygoteHandle* GetZygote() override {
     if (no_sandbox_ || !exposed_dir_.empty())
       return nullptr;
@@@@ -126,7 +126,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
   bool launch_elevated_;
 #elif defined(OS_POSIX)
   base::EnvironmentMap env_;
-#if !defined(OS_MACOSX) && !defined(OS_ANDROID)
+#if !defined(OS_MACOSX) && !defined(OS_ANDROID) && !defined(OS_BSD)
   bool no_sandbox_;
 #endif  // !defined(OS_MACOSX) && !defined(OS_ANDROID)
 #endif  // OS_WIN
@@@@ -237,7 +237,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
   name_ = name;
 }
 
-#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX)
+#if defined(OS_POSIX) && !defined(OS_ANDROID) && !defined(OS_MACOSX) && !defined(OS_BSD)
 // static
 void UtilityProcessHostImpl::EarlyZygoteLaunch() {
   DCHECK(!g_utility_zygote);
@


1.8
log
@update to 57.0.2987.98
@
text
@d1 5
a5 4
$OpenBSD: patch-content_browser_utility_process_host_impl_cc,v 1.7 2017/01/26 17:08:25 robert Exp $
--- content/browser/utility_process_host_impl.cc.orig.port	Thu Mar  9 21:04:32 2017
+++ content/browser/utility_process_host_impl.cc	Fri Mar 10 07:46:23 2017
@@@@ -44,7 +44,7 @@@@
d14 1
a14 1
@@@@ -55,7 +55,7 @@@@
d23 1
a23 1
@@@@ -74,7 +74,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d32 1
a32 1
@@@@ -106,7 +106,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d41 1
a41 1
@@@@ -127,7 +127,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d50 1
a50 1
@@@@ -236,7 +236,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
@


1.7
log
@update to 56.0.2924.76
@
text
@d1 4
a4 4
$OpenBSD$
--- content/browser/utility_process_host_impl.cc.orig.port	Tue Jan  3 20:42:36 2017
+++ content/browser/utility_process_host_impl.cc	Tue Jan  3 20:43:31 2017
@@@@ -43,7 +43,7 @@@@
d13 1
a13 1
@@@@ -54,7 +54,7 @@@@
d22 1
a22 1
@@@@ -73,7 +73,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d31 1
a31 1
@@@@ -105,7 +105,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d40 1
a40 1
@@@@ -126,7 +126,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d49 1
a49 1
@@@@ -235,7 +235,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
@


1.6
log
@update to 55.0.2883.75; add lpr support to the system dialog while here
@
text
@d1 3
a3 3
$OpenBSD: patch-content_browser_utility_process_host_impl_cc,v 1.5 2016/10/26 06:22:08 robert Exp $
--- content/browser/utility_process_host_impl.cc.orig.port	Fri Dec  2 00:02:13 2016
+++ content/browser/utility_process_host_impl.cc	Fri Dec  2 17:44:54 2016
d5 1
a5 1
 #include "services/shell/public/cpp/interface_provider.h"
d22 1
a22 1
@@@@ -74,7 +74,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d25 1
a25 1
         env_(env),
d28 2
a29 1
         no_sandbox_(no_sandbox),
d31 1
a31 2
         ipc_fd_(host->TakeClientFileDescriptor())
@@@@ -106,7 +106,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d40 1
a40 1
@@@@ -128,7 +128,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d48 2
a49 2
   base::ScopedFD ipc_fd_;
@@@@ -237,7 +237,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
@


1.5
log
@update to 54.0.2840.71
@
text
@d1 4
a4 4
$OpenBSD: patch-content_browser_utility_process_host_impl_cc,v 1.4 2016/09/01 16:28:11 robert Exp $
--- content/browser/utility_process_host_impl.cc.orig.port	Wed Oct 12 21:02:59 2016
+++ content/browser/utility_process_host_impl.cc	Wed Oct 19 12:56:04 2016
@@@@ -44,7 +44,7 @@@@
d13 1
a13 1
@@@@ -55,7 +55,7 @@@@
d22 1
a22 1
@@@@ -75,7 +75,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d31 1
a31 1
@@@@ -107,7 +107,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d40 1
a40 1
@@@@ -129,7 +129,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d49 1
a49 1
@@@@ -238,7 +238,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
@


1.4
log
@update to 53.0.2785.89
@
text
@d1 5
a5 5
$OpenBSD: patch-content_browser_utility_process_host_impl_cc,v 1.3 2016/07/31 13:11:44 robert Exp $
--- content/browser/utility_process_host_impl.cc.orig.port	Thu Sep  1 00:03:31 2016
+++ content/browser/utility_process_host_impl.cc	Thu Sep  1 11:12:22 2016
@@@@ -46,7 +46,7 @@@@
 #include "services/shell/public/cpp/interface_registry.h"
d13 1
a13 1
@@@@ -57,7 +57,7 @@@@
d22 1
a22 1
@@@@ -77,7 +77,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d31 1
a31 1
@@@@ -109,7 +109,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d40 1
a40 1
@@@@ -131,7 +131,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d49 1
a49 1
@@@@ -256,7 +256,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
@


1.3
log
@update to 52.0.2743.82
@
text
@d1 5
a5 5
$OpenBSD: patch-content_browser_utility_process_host_impl_cc,v 1.2 2016/05/27 06:28:21 robert Exp $
--- content/browser/utility_process_host_impl.cc.orig.port	Wed Jul 20 21:03:24 2016
+++ content/browser/utility_process_host_impl.cc	Thu Jul 21 10:25:30 2016
@@@@ -38,7 +38,7 @@@@
 #include "ipc/ipc_switches.h"
d13 1
a13 1
@@@@ -49,7 +49,7 @@@@
d22 1
a22 1
@@@@ -69,7 +69,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d31 1
a31 1
@@@@ -101,7 +101,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d40 1
a40 1
@@@@ -123,7 +123,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d49 1
a49 1
@@@@ -232,7 +232,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
@


1.2
log
@update to 51.0.2704.63
@
text
@d1 4
a4 4
$OpenBSD: patch-content_browser_utility_process_host_impl_cc,v 1.1 2016/04/16 19:08:46 robert Exp $
--- content/browser/utility_process_host_impl.cc.orig.port	Wed May 25 21:01:01 2016
+++ content/browser/utility_process_host_impl.cc	Thu May 26 08:09:46 2016
@@@@ -37,7 +37,7 @@@@
d13 1
a13 1
@@@@ -48,7 +48,7 @@@@
d22 1
a22 1
@@@@ -68,7 +68,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d31 1
a31 1
@@@@ -100,7 +100,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d40 1
a40 1
@@@@ -122,7 +122,7 @@@@ class UtilitySandboxedProcessLauncherDelegate
d49 1
a49 1
@@@@ -231,7 +231,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
@


1.1
log
@update to 50.0.2661.75
@
text
@d1 3
a3 3
$OpenBSD$
--- content/browser/utility_process_host_impl.cc.orig.port	Sat Apr 16 11:05:48 2016
+++ content/browser/utility_process_host_impl.cc	Sat Apr 16 11:06:33 2016
d49 1
a49 1
@@@@ -238,7 +238,7 @@@@ void UtilityProcessHostImpl::SetName(const base::strin
@

