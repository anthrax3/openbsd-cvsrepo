head	1.17;
access;
symbols
	OPENBSD_6_1:1.16.0.2
	OPENBSD_6_1_BASE:1.16
	OPENBSD_5_6:1.10.0.2
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.5.0.2
	OPENBSD_5_5_BASE:1.5;
locks; strict;
comment	@# @;


1.17
date	2017.04.28.14.21.00;	author robert;	state Exp;
branches;
next	1.16;
commitid	XFDnyB7tGNawHUbl;

1.16
date	2017.03.14.12.18.53;	author robert;	state Exp;
branches;
next	1.15;
commitid	FgEdsLreTqAdn1i5;

1.15
date	2017.01.26.17.08.25;	author robert;	state Exp;
branches;
next	1.14;
commitid	SWz5LewWpip0ZZLw;

1.14
date	2016.12.10.15.35.25;	author robert;	state Exp;
branches;
next	1.13;
commitid	D24Pj03ujnweitOe;

1.13
date	2016.10.26.06.22.07;	author robert;	state Exp;
branches;
next	1.12;
commitid	Dt81be1Osjz00Uwx;

1.12
date	2014.10.13.06.49.19;	author robert;	state dead;
branches;
next	1.11;
commitid	GAMY6AdJxC6cdD6g;

1.11
date	2014.09.11.19.04.52;	author robert;	state Exp;
branches;
next	1.10;
commitid	WrglT9ERNBhPArdd;

1.10
date	2014.07.20.17.22.33;	author robert;	state Exp;
branches;
next	1.9;
commitid	yFSQqywU9tg3Fhqe;

1.9
date	2014.05.24.15.27.34;	author robert;	state Exp;
branches;
next	1.8;

1.8
date	2014.04.17.16.27.53;	author robert;	state Exp;
branches;
next	1.7;

1.7
date	2014.04.07.19.32.03;	author robert;	state Exp;
branches;
next	1.6;

1.6
date	2014.03.11.14.52.01;	author robert;	state Exp;
branches;
next	1.5;

1.5
date	2014.02.10.18.34.59;	author robert;	state Exp;
branches;
next	1.4;

1.4
date	2014.02.10.07.02.24;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2014.01.18.11.42.03;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2013.12.12.10.43.18;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2013.10.29.06.51.34;	author robert;	state Exp;
branches;
next	;


desc
@@


1.17
log
@update to 58.0.3029.81
@
text
@$OpenBSD: patch-chrome_browser_browser_process_impl_cc,v 1.16 2017/03/14 12:18:53 robert Exp $
--- chrome/browser/browser_process_impl.cc.orig.port	Wed Apr 19 21:06:29 2017
+++ chrome/browser/browser_process_impl.cc	Thu Apr 27 19:55:59 2017
@@@@ -171,7 +171,7 @@@@
 #include "chrome/browser/media/webrtc/webrtc_log_uploader.h"
 #endif
 
-#if defined(OS_WIN) || defined(OS_MACOSX) || defined(OS_LINUX)
+#if defined(OS_WIN) || defined(OS_MACOSX) || defined(OS_LINUX) || defined(OS_BSD)
 #include "chrome/browser/memory/tab_manager.h"
 #endif
 
@@@@ -789,7 +789,7 @@@@ gcm::GCMDriver* BrowserProcessImpl::gcm_driver() {
 
 memory::TabManager* BrowserProcessImpl::GetTabManager() {
   DCHECK(CalledOnValidThread());
-#if defined(OS_WIN) || defined(OS_MACOSX) || defined(OS_LINUX)
+#if defined(OS_WIN) || defined(OS_MACOSX) || defined(OS_LINUX) || defined(OS_BSD)
   if (!tab_manager_.get())
     tab_manager_.reset(new memory::TabManager());
   return tab_manager_.get();
@


1.16
log
@update to 57.0.2987.98
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_browser_process_impl_cc,v 1.15 2017/01/26 17:08:25 robert Exp $
--- chrome/browser/browser_process_impl.cc.orig.port	Thu Mar  9 21:04:27 2017
+++ chrome/browser/browser_process_impl.cc	Fri Mar 10 07:46:17 2017
@@@@ -170,7 +170,7 @@@@
d13 1
a13 1
@@@@ -783,7 +783,7 @@@@ gcm::GCMDriver* BrowserProcessImpl::gcm_driver() {
@


1.15
log
@update to 56.0.2924.76
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_browser_process_impl_cc,v 1.14 2016/12/10 15:35:25 robert Exp $
--- chrome/browser/browser_process_impl.cc.orig.port	Thu Dec 15 00:02:04 2016
+++ chrome/browser/browser_process_impl.cc	Tue Jan  3 20:29:55 2017
@@@@ -165,7 +165,7 @@@@
d13 1
a13 1
@@@@ -771,7 +771,7 @@@@ gcm::GCMDriver* BrowserProcessImpl::gcm_driver() {
@


1.14
log
@update to 55.0.2883.75; add lpr support to the system dialog while here
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_browser_process_impl_cc,v 1.13 2016/10/26 06:22:07 robert Exp $
--- chrome/browser/browser_process_impl.cc.orig.port	Fri Dec  2 00:02:07 2016
+++ chrome/browser/browser_process_impl.cc	Fri Dec  2 17:44:52 2016
@@@@ -163,7 +163,7 @@@@
d13 1
a13 1
@@@@ -768,7 +768,7 @@@@ gcm::GCMDriver* BrowserProcessImpl::gcm_driver() {
@


1.13
log
@update to 54.0.2840.71
@
text
@d1 5
a5 5
$OpenBSD$
--- chrome/browser/browser_process_impl.cc.orig.port	Tue Oct 25 21:56:43 2016
+++ chrome/browser/browser_process_impl.cc	Tue Oct 25 22:00:31 2016
@@@@ -162,7 +162,7 @@@@
 #include "chrome/browser/media/webrtc_log_uploader.h"
d13 1
a13 1
@@@@ -778,7 +778,7 @@@@ gcm::GCMDriver* BrowserProcessImpl::gcm_driver() {
@


1.12
log
@update to 38.0.2125.101
@
text
@d1 6
a6 4
$OpenBSD: patch-chrome_browser_browser_process_impl_cc,v 1.11 2014/09/11 19:04:52 robert Exp $
--- chrome/browser/browser_process_impl.cc.orig.port	Wed Sep 10 01:47:11 2014
+++ chrome/browser/browser_process_impl.cc	Wed Sep 10 22:05:40 2014
@@@@ -248,7 +248,7 @@@@ void BrowserProcessImpl::StartTearDown() {
d8 4
a11 1
   ExtensionRendererState::GetInstance()->Shutdown();
d13 1
a13 13
-#if !defined(OS_ANDROID) && !defined(OS_IOS)
+#if !defined(OS_ANDROID) && !defined(OS_IOS) && !defined(OS_BSD)
   media_file_system_registry_.reset();
   // Remove the global instance of the Storage Monitor now. Otherwise the
   // FILE thread would be gone when we try to release it in the dtor and
@@@@ -938,7 +938,7 @@@@ void BrowserProcessImpl::PreMainMessageLoopRun() {
     promo_resource_service_->StartAfterDelay();
   }
 
-#if !defined(OS_ANDROID) && !defined(OS_IOS)
+#if !defined(OS_ANDROID) && !defined(OS_IOS) && !defined(OS_BSD)
   storage_monitor::StorageMonitor::Create();
 #endif
d15 7
@


1.11
log
@update to 37.0.2062.120
@
text
@d1 1
a1 1
$OpenBSD: patch-chrome_browser_browser_process_impl_cc,v 1.10 2014/07/20 17:22:33 robert Exp $
@


1.10
log
@update to 36.0.1985.125;

from this release Chromium uses Aura instead of Gtk+ so the UI will look
a bit different, and that is completely normal.
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_browser_process_impl_cc,v 1.9 2014/05/24 15:27:34 robert Exp $
--- chrome/browser/browser_process_impl.cc.orig.port	Tue Jul 15 13:01:31 2014
+++ chrome/browser/browser_process_impl.cc	Thu Jul 17 12:25:31 2014
@@@@ -239,7 +239,7 @@@@ void BrowserProcessImpl::StartTearDown() {
d13 1
a13 1
@@@@ -890,7 +890,7 @@@@ void BrowserProcessImpl::PreMainMessageLoopRun() {
@


1.9
log
@update to 35.0.1916.114
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/browser_process_impl.cc.orig.port	Thu May 22 21:48:19 2014
+++ chrome/browser/browser_process_impl.cc	Thu May 22 21:48:51 2014
@@@@ -256,7 +256,7 @@@@ void BrowserProcessImpl::StartTearDown() {
d13 2
a14 1
@@@@ -948,7 +948,7 @@@@ void BrowserProcessImpl::PreMainMessageLoopRun() {
a15 1
 #endif
@


1.8
log
@update to 34.0.1847.116 and disable Werror for the future clang update
@
text
@d2 3
a4 3
--- chrome/browser/browser_process_impl.cc.orig.port	Wed Apr  2 21:04:38 2014
+++ chrome/browser/browser_process_impl.cc	Wed Apr 16 23:09:02 2014
@@@@ -261,7 +261,7 @@@@ void BrowserProcessImpl::StartTearDown() {
d13 1
a13 1
@@@@ -954,7 +954,7 @@@@ void BrowserProcessImpl::PreMainMessageLoopRun() {
d19 1
a19 1
   StorageMonitor::Create();
@


1.7
log
@properly initialize the media filesystem registry to avoid a crash while
closing the settings/about/history pages
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_browser_process_impl_cc,v 1.6 2014/03/11 14:52:01 robert Exp $
--- chrome/browser/browser_process_impl.cc.orig.port	Sat Mar 15 04:22:08 2014
+++ chrome/browser/browser_process_impl.cc	Mon Apr  7 21:16:02 2014
@@@@ -258,7 +258,7 @@@@ void BrowserProcessImpl::StartTearDown() {
d11 3
a13 21
   // Delete |storage_monitor_| now. Otherwise the FILE thread would be gone
   // when we try to release it in the dtor and Valgrind would report a
@@@@ -642,7 +642,7 @@@@ BookmarkPromptController* BrowserProcessImpl::bookmark
 }
 
 StorageMonitor* BrowserProcessImpl::storage_monitor() {
-#if defined(OS_ANDROID) || defined(OS_IOS)
+#if defined(OS_ANDROID) || defined(OS_IOS) || defined(OS_BSD)
   return NULL;
 #else
   return storage_monitor_.get();
@@@@ -651,7 +651,7 @@@@ StorageMonitor* BrowserProcessImpl::storage_monitor() 
 
 void BrowserProcessImpl::set_storage_monitor_for_test(
     scoped_ptr<StorageMonitor> monitor) {
-#if !defined(OS_ANDROID) && !defined(OS_IOS)
+#if !defined(OS_ANDROID) && !defined(OS_IOS) && !defined(OS_BSD)
   storage_monitor_ = monitor.Pass();
 #endif
 }
@@@@ -962,7 +962,7 @@@@ void BrowserProcessImpl::PreMainMessageLoopRun() {
d19 1
a19 1
   storage_monitor_.reset(StorageMonitor::Create());
@


1.6
log
@update to 33.0.1750.146
@
text
@d1 3
a3 12
$OpenBSD: patch-chrome_browser_browser_process_impl_cc,v 1.5 2014/02/10 18:34:59 robert Exp $
--- chrome/browser/browser_process_impl.cc.orig.port	Thu Feb 20 21:27:48 2014
+++ chrome/browser/browser_process_impl.cc	Fri Feb 21 19:39:55 2014
@@@@ -108,7 +108,7 @@@@
 #include "ui/aura/env.h"
 #endif
 
-#if !defined(OS_ANDROID) && !defined(OS_IOS)
+#if !defined(OS_ANDROID) && !defined(OS_IOS) && !defined(OS_BSD)
 #include "chrome/browser/media_galleries/media_file_system_registry.h"
 #endif
 
d22 1
a22 1
@@@@ -651,13 +651,13 @@@@ StorageMonitor* BrowserProcessImpl::storage_monitor() 
a30 7
 
 MediaFileSystemRegistry* BrowserProcessImpl::media_file_system_registry() {
-#if defined(OS_ANDROID) || defined(OS_IOS)
+#if defined(OS_ANDROID) || defined(OS_IOS) || defined(OS_BSD)
     return NULL;
 #else
   if (!media_file_system_registry_)
@


1.5
log
@revert update due to ports being locked and this not being a security update
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_browser_process_impl_cc,v 1.3 2014/01/18 11:42:03 robert Exp $
--- chrome/browser/browser_process_impl.cc.orig.port	Mon Jan 13 22:00:18 2014
+++ chrome/browser/browser_process_impl.cc	Thu Jan 16 12:26:42 2014
d13 1
a13 1
@@@@ -255,7 +255,7 @@@@ void BrowserProcessImpl::StartTearDown() {
d22 1
a22 1
@@@@ -635,7 +635,7 @@@@ BookmarkPromptController* BrowserProcessImpl::bookmark
d31 1
a31 1
@@@@ -644,13 +644,13 @@@@ StorageMonitor* BrowserProcessImpl::storage_monitor() 
d47 1
a47 1
@@@@ -952,7 +952,7 @@@@ void BrowserProcessImpl::PreMainMessageLoopRun() {
@


1.4
log
@update to 32.0.1700.107
@
text
@d2 2
a3 2
--- chrome/browser/browser_process_impl.cc.orig.port	Mon Feb  3 21:15:23 2014
+++ chrome/browser/browser_process_impl.cc	Sun Feb  9 15:41:08 2014
d47 1
a47 1
@@@@ -955,7 +955,7 @@@@ void BrowserProcessImpl::PreMainMessageLoopRun() {
@


1.3
log
@update to 32.0.1700.76
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_browser_process_impl_cc,v 1.2 2013/12/12 10:43:18 robert Exp $
--- chrome/browser/browser_process_impl.cc.orig.port	Mon Jan 13 22:00:18 2014
+++ chrome/browser/browser_process_impl.cc	Thu Jan 16 12:26:42 2014
d47 1
a47 1
@@@@ -952,7 +952,7 @@@@ void BrowserProcessImpl::PreMainMessageLoopRun() {
@


1.2
log
@update to 31.0.1650.63
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/browser_process_impl.cc.orig.port	Thu Dec  5 15:34:19 2013
+++ chrome/browser/browser_process_impl.cc	Thu Dec  5 15:35:40 2013
@@@@ -106,7 +106,7 @@@@
d13 1
a13 1
@@@@ -251,7 +251,7 @@@@ void BrowserProcessImpl::StartTearDown() {
d22 1
a22 1
@@@@ -620,7 +620,7 @@@@ BookmarkPromptController* BrowserProcessImpl::bookmark
d31 1
a31 1
@@@@ -629,13 +629,13 @@@@ StorageMonitor* BrowserProcessImpl::storage_monitor() 
d47 1
a47 1
@@@@ -923,7 +923,7 @@@@ void BrowserProcessImpl::PreMainMessageLoopRun() {
@


1.1
log
@update to 30.0.1599.101
@
text
@d2 12
a13 3
--- chrome/browser/browser_process_impl.cc.orig.port	Fri Oct 11 19:29:35 2013
+++ chrome/browser/browser_process_impl.cc	Sat Oct 19 17:37:32 2013
@@@@ -244,7 +244,7 @@@@ void BrowserProcessImpl::StartTearDown() {
d22 1
a22 1
@@@@ -618,7 +618,7 @@@@ BookmarkPromptController* BrowserProcessImpl::bookmark
d25 1
a25 1
 chrome::StorageMonitor* BrowserProcessImpl::storage_monitor() {
d31 1
a31 1
@@@@ -627,7 +627,7 @@@@ chrome::StorageMonitor* BrowserProcessImpl::storage_mo
d34 1
a34 1
     scoped_ptr<chrome::StorageMonitor> monitor) {
d40 7
d53 1
a53 1
   storage_monitor_.reset(chrome::StorageMonitor::Create());
@

