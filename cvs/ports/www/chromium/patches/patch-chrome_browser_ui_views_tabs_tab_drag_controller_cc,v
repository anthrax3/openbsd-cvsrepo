head	1.16;
access;
symbols
	OPENBSD_6_1:1.16.0.2
	OPENBSD_6_1_BASE:1.16
	OPENBSD_6_0:1.12.0.2
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.16
date	2017.03.14.12.18.53;	author robert;	state Exp;
branches;
next	1.15;
commitid	FgEdsLreTqAdn1i5;

1.15
date	2017.01.26.17.08.25;	author robert;	state Exp;
branches;
next	1.14;
commitid	SWz5LewWpip0ZZLw;

1.14
date	2016.10.26.06.22.08;	author robert;	state Exp;
branches;
next	1.13;
commitid	Dt81be1Osjz00Uwx;

1.13
date	2016.07.31.13.11.44;	author robert;	state Exp;
branches;
next	1.12;
commitid	dRegVegviFQGKQZc;

1.12
date	2016.05.27.06.28.20;	author robert;	state Exp;
branches;
next	1.11;
commitid	cpiCcJ3vjht5tEkH;

1.11
date	2016.04.16.19.08.46;	author robert;	state Exp;
branches;
next	1.10;
commitid	SE10dvx9aTcZrjRO;

1.10
date	2016.03.06.10.51.14;	author robert;	state Exp;
branches;
next	1.9;
commitid	Upms3IeOsaLsGxbP;

1.9
date	2016.01.23.18.49.31;	author robert;	state Exp;
branches;
next	1.8;
commitid	KVrkvcBYFue8N3VB;

1.8
date	2015.12.05.16.13.32;	author robert;	state Exp;
branches;
next	1.7;
commitid	D0GFSwUDbKAnIs1m;

1.7
date	2015.09.05.16.06.50;	author robert;	state Exp;
branches;
next	1.6;
commitid	rTmBXJaDIIWe1XKA;

1.6
date	2015.05.24.15.51.53;	author robert;	state Exp;
branches;
next	1.5;
commitid	rFaYcWD2ntiXn5nr;

1.5
date	2015.01.22.11.16.41;	author robert;	state Exp;
branches;
next	1.4;
commitid	yDb21GVFY5iIUXUw;

1.4
date	2014.11.19.21.27.32;	author robert;	state Exp;
branches;
next	1.3;
commitid	Fr3Mh6eWvxxgNbvB;

1.3
date	2014.10.13.06.49.19;	author robert;	state Exp;
branches;
next	1.2;
commitid	GAMY6AdJxC6cdD6g;

1.2
date	2014.09.11.19.04.52;	author robert;	state Exp;
branches;
next	1.1;
commitid	WrglT9ERNBhPArdd;

1.1
date	2014.07.20.17.22.34;	author robert;	state Exp;
branches;
next	;
commitid	yFSQqywU9tg3Fhqe;


desc
@@


1.16
log
@update to 57.0.2987.98
@
text
@$OpenBSD: patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc,v 1.15 2017/01/26 17:08:25 robert Exp $
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Thu Mar  9 21:04:29 2017
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Fri Mar 10 07:46:20 2017
@@@@ -251,7 +251,7 @@@@ void TabDragController::Init(
   //     synchronous on desktop Linux, so use that.
   // - Ash
   //     Releasing capture on Ash cancels gestures so avoid it.
-#if defined(OS_LINUX) || defined(USE_ASH)
+#if defined(OS_LINUX) || defined(USE_ASH) || defined(OS_BSD)
   can_release_capture_ = false;
 #endif
   start_point_in_screen_ = gfx::Point(source_tab_offset, mouse_offset.y());
@@@@ -597,7 +597,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
     else
       target_tabstrip->GetWidget()->SetCapture(attached_tabstrip_);
 
-#if !defined(OS_LINUX) || defined(OS_CHROMEOS)
+#if (!defined(OS_BSD) && !defined(OS_LINUX)) || defined(OS_CHROMEOS)
     // EndMoveLoop is going to snap the window back to its original location.
     // Hide it so users don't see this. Hiding a window in Linux aura causes
     // it to lose capture so skip it.
@@@@ -1787,7 +1787,7 @@@@ TabDragController::Liveness TabDragController::GetLoca
     if (dragged_window)
       exclude.insert(dragged_window);
   }
-#if defined(OS_LINUX) && !defined(OS_CHROMEOS)
+#if (defined(OS_BSD) || defined(OS_LINUX)) && !defined(OS_CHROMEOS)
   // Exclude windows which are pending deletion via Browser::TabStripEmpty().
   // These windows can be returned in the Linux Aura port because the browser
   // window which was used for dragging is not hidden once all of its tabs are
@


1.15
log
@update to 56.0.2924.76
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc,v 1.14 2016/10/26 06:22:08 robert Exp $
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Thu Dec 15 00:02:05 2016
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Tue Jan  3 20:29:57 2017
@@@@ -270,7 +270,7 @@@@ void TabDragController::Init(
d13 3
a15 3
@@@@ -620,7 +620,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
     // that to effect the position of any windows.
     SetWindowPositionManaged(browser_widget->GetNativeWindow(), false);
d22 1
a22 1
@@@@ -1819,7 +1819,7 @@@@ TabDragController::Liveness TabDragController::GetLoca
@


1.14
log
@update to 54.0.2840.71
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc,v 1.13 2016/07/31 13:11:44 robert Exp $
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Wed Oct 12 21:02:55 2016
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Wed Oct 19 12:56:01 2016
@@@@ -281,7 +281,7 @@@@ void TabDragController::Init(
d13 1
a13 1
@@@@ -631,7 +631,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d22 1
a22 1
@@@@ -1830,7 +1830,7 @@@@ TabDragController::Liveness TabDragController::GetLoca
@


1.13
log
@update to 52.0.2743.82
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc,v 1.12 2016/05/27 06:28:20 robert Exp $
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Wed Jul 20 21:03:21 2016
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Thu Jul 21 10:25:28 2016
@@@@ -269,7 +269,7 @@@@ void TabDragController::Init(
d13 1
a13 1
@@@@ -609,7 +609,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d22 1
a22 1
@@@@ -1799,7 +1799,7 @@@@ TabDragController::Liveness TabDragController::GetLoca
@


1.12
log
@update to 51.0.2704.63
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc,v 1.11 2016/04/16 19:08:46 robert Exp $
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Wed May 25 21:00:58 2016
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Thu May 26 08:09:42 2016
d13 1
a13 1
@@@@ -627,7 +627,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d22 1
a22 1
@@@@ -1817,7 +1817,7 @@@@ TabDragController::Liveness TabDragController::GetLoca
@


1.11
log
@update to 50.0.2661.75
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Thu Apr 14 08:46:11 2016
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Thu Apr 14 08:46:51 2016
@@@@ -268,7 +268,7 @@@@ void TabDragController::Init(
d13 1
a13 1
@@@@ -618,7 +618,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d22 1
a22 1
@@@@ -1791,7 +1791,7 @@@@ gfx::NativeWindow TabDragController::GetLocalProcessWi
@


1.10
log
@update to 49.0.2623.75
@
text
@d2 3
a4 3
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Thu Mar  3 10:04:33 2016
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Thu Mar  3 10:05:04 2016
@@@@ -274,7 +274,7 @@@@ void TabDragController::Init(
d8 2
a9 2
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
d11 3
a13 3
 #else
   can_release_capture_ =
@@@@ -626,7 +626,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d22 1
a22 1
@@@@ -1806,7 +1806,7 @@@@ gfx::NativeWindow TabDragController::GetLocalProcessWi
@


1.9
log
@update to 48.0.2564.82
@
text
@d2 3
a4 3
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Fri Jan 22 22:07:37 2016
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Fri Jan 22 22:08:15 2016
@@@@ -272,7 +272,7 @@@@ void TabDragController::Init(
d13 1
a13 1
@@@@ -624,7 +624,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d22 4
a25 4
@@@@ -1799,7 +1799,7 @@@@ gfx::NativeWindow TabDragController::GetLocalProcessWi
       attached_tabstrip_->GetWidget()->GetNativeWindow();
   if (exclude_dragged_view && dragged_window)
     exclude.insert(dragged_window);
@


1.8
log
@update to 47.0.2526.73
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc,v 1.7 2015/09/05 16:06:50 robert Exp $
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Tue Nov 24 21:00:54 2015
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Wed Dec  2 08:18:32 2015
d18 1
a18 1
+#if (!defined(OS_LINUX) && !defined(OS_BSD)) || defined(OS_CHROMEOS)
d22 4
a25 4
@@@@ -1803,7 +1803,7 @@@@ gfx::NativeWindow TabDragController::GetLocalProcessWi
     if (dragged_window)
       exclude.insert(dragged_window);
   }
d27 1
a27 1
+#if (defined(OS_LINUX) || defined(OS_BSD)) && !defined(OS_CHROMEOS)
@


1.7
log
@update to 45.0.2454.85
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc,v 1.6 2015/05/24 15:51:53 robert Exp $
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Sat Aug 22 21:01:52 2015
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Wed Sep  2 07:31:55 2015
d22 1
a22 1
@@@@ -1804,7 +1804,7 @@@@ gfx::NativeWindow TabDragController::GetLocalProcessWi
@


1.6
log
@update to 43.0.2357.65
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc,v 1.5 2015/01/22 11:16:41 robert Exp $
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Thu May 14 00:23:04 2015
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Wed May 20 08:34:56 2015
@@@@ -266,7 +266,7 @@@@ void TabDragController::Init(
d13 1
a13 1
@@@@ -618,7 +618,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d22 1
a22 1
@@@@ -1784,7 +1784,7 @@@@ gfx::NativeWindow TabDragController::GetLocalProcessWi
@


1.5
log
@update to 40.0.2214.91
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc,v 1.4 2014/11/19 21:27:32 robert Exp $
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Wed Dec  3 03:13:21 2014
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Sat Dec  6 11:34:25 2014
d13 1
a13 1
@@@@ -621,7 +621,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d22 1
a22 1
@@@@ -1791,7 +1791,7 @@@@ gfx::NativeWindow TabDragController::GetLocalProcessWi
@


1.4
log
@update to 39.0.2171.65
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Wed Nov 19 08:41:15 2014
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Wed Nov 19 08:42:14 2014
@@@@ -255,7 +255,7 @@@@ void TabDragController::Init(
d13 1
a13 1
@@@@ -610,7 +610,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d15 1
a15 1
     SetWindowPositionManaged(browser_widget->GetNativeView(), false);
d22 1
a22 1
@@@@ -1774,7 +1774,7 @@@@ gfx::NativeWindow TabDragController::GetLocalProcessWi
@


1.3
log
@update to 38.0.2125.101
@
text
@d1 7
a7 7
$OpenBSD: patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc,v 1.2 2014/09/11 19:04:52 robert Exp $
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Thu Oct  2 19:39:46 2014
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Fri Oct 10 16:10:30 2014
@@@@ -233,7 +233,7 @@@@ void TabDragController::Init(
       source_tabstrip->GetWidget()->GetNativeView());
   host_desktop_type_ = chrome::GetHostDesktopTypeForNativeView(
       source_tabstrip->GetWidget()->GetNativeView());
d10 1
a10 1
   use_aura_capture_policy_ = true;
d12 2
a13 2
   use_aura_capture_policy_ =
@@@@ -581,7 +581,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d18 1
a18 1
+#if (defined(OS_LINUX) || defined(OS_BSD)) && !defined(OS_CHROMEOS)
d22 1
a22 1
@@@@ -1742,7 +1742,7 @@@@ gfx::NativeWindow TabDragController::GetLocalProcessWi
@


1.2
log
@update to 37.0.2062.120
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc,v 1.1 2014/07/20 17:22:34 robert Exp $
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Wed Sep 10 01:47:12 2014
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Wed Sep 10 22:05:40 2014
@@@@ -256,7 +256,7 @@@@ void TabDragController::Init(
d13 1
a13 1
@@@@ -702,7 +702,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d22 1
a22 1
@@@@ -1939,7 +1939,7 @@@@ gfx::NativeWindow TabDragController::GetLocalProcessWi
@


1.1
log
@update to 36.0.1985.125;

from this release Chromium uses Aura instead of Gtk+ so the UI will look
a bit different, and that is completely normal.
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/ui/views/tabs/tab_drag_controller.cc.orig.port	Sat Jul 19 03:27:25 2014
+++ chrome/browser/ui/views/tabs/tab_drag_controller.cc	Sat Jul 19 03:31:23 2014
@@@@ -265,7 +265,7 @@@@ void TabDragController::Init(
d13 1
a13 1
@@@@ -711,7 +711,7 @@@@ TabDragController::DragBrowserToNewTabStrip(
d22 1
a22 1
@@@@ -1925,7 +1925,7 @@@@ gfx::NativeWindow TabDragController::GetLocalProcessWi
@

