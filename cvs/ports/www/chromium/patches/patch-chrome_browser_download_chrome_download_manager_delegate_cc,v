head	1.15;
access;
symbols
	OPENBSD_6_1:1.12.0.2
	OPENBSD_6_1_BASE:1.12
	OPENBSD_6_0:1.6.0.2
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@# @;


1.15
date	2017.09.09.19.16.43;	author robert;	state Exp;
branches;
next	1.14;
commitid	o4y7MpMU3y8aR1pv;

1.14
date	2017.07.27.14.23.46;	author robert;	state Exp;
branches;
next	1.13;
commitid	UqlSU0wmYWtcPgqI;

1.13
date	2017.06.25.21.53.56;	author robert;	state Exp;
branches;
next	1.12;
commitid	l6xAjqoVop0UE8Em;

1.12
date	2017.03.14.12.18.53;	author robert;	state Exp;
branches;
next	1.11;
commitid	FgEdsLreTqAdn1i5;

1.11
date	2017.01.26.17.08.25;	author robert;	state Exp;
branches;
next	1.10;
commitid	SWz5LewWpip0ZZLw;

1.10
date	2016.12.10.15.35.25;	author robert;	state Exp;
branches;
next	1.9;
commitid	D24Pj03ujnweitOe;

1.9
date	2016.09.01.16.28.11;	author robert;	state Exp;
branches;
next	1.8;
commitid	0duujWXlyOCBrehm;

1.8
date	2016.08.17.11.06.50;	author robert;	state Exp;
branches;
next	1.7;
commitid	ho0WBaBoHvorC0o0;

1.7
date	2016.07.31.13.11.44;	author robert;	state Exp;
branches;
next	1.6;
commitid	dRegVegviFQGKQZc;

1.6
date	2016.04.16.19.08.45;	author robert;	state Exp;
branches;
next	1.5;
commitid	SE10dvx9aTcZrjRO;

1.5
date	2016.03.06.10.51.14;	author robert;	state Exp;
branches;
next	1.4;
commitid	Upms3IeOsaLsGxbP;

1.4
date	2016.01.23.18.49.31;	author robert;	state Exp;
branches;
next	1.3;
commitid	KVrkvcBYFue8N3VB;

1.3
date	2015.05.24.15.51.52;	author robert;	state Exp;
branches;
next	1.2;
commitid	rFaYcWD2ntiXn5nr;

1.2
date	2015.04.27.16.38.25;	author robert;	state Exp;
branches;
next	1.1;
commitid	jwX00slFR1NY9xHC;

1.1
date	2015.02.15.19.51.28;	author robert;	state Exp;
branches;
next	;
commitid	aXaFfxvdOjpKJO7H;


desc
@@


1.15
log
@update to 61.0.3163.79
@
text
@$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.14 2017/07/27 14:23:46 robert Exp $
Index: chrome/browser/download/chrome_download_manager_delegate.cc
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig
+++ chrome/browser/download/chrome_download_manager_delegate.cc
@@@@ -875,7 +875,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
         target_info->is_filetype_handled_safely)
       DownloadItemModel(item).SetShouldPreferOpeningInBrowser(true);
 
-#if defined(OS_LINUX) || defined(OS_CHROMEOS)
+#if defined(OS_LINUX) || defined(OS_CHROMEOS) || defined(OS_BSD)
     if (item->GetOriginalMimeType() == "application/x-x509-user-cert")
       DownloadItemModel(item).SetShouldPreferOpeningInBrowser(true);
 #endif
@@@@ -895,7 +895,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
 
 bool ChromeDownloadManagerDelegate::IsOpenInBrowserPreferreredForFile(
     const base::FilePath& path) {
-#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_MACOSX)
+#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_MACOSX) || defined(OS_BSD)
   if (path.MatchesExtension(FILE_PATH_LITERAL(".pdf"))) {
     return !download_prefs_->ShouldOpenPdfInSystemReader();
   }
@


1.14
log
@update to 60.0.3112.78
@
text
@d1 1
a1 1
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.13 2017/06/25 21:53:56 robert Exp $
d5 1
a5 1
@@@@ -830,7 +830,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
d14 1
a14 1
@@@@ -844,7 +844,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.13
log
@update to 59.0.3071.109
@
text
@d1 1
a1 1
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.12 2017/03/14 12:18:53 robert Exp $
d5 1
a5 1
@@@@ -828,7 +828,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
d14 1
a14 1
@@@@ -842,7 +842,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.12
log
@update to 57.0.2987.98
@
text
@d1 5
a5 4
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.11 2017/01/26 17:08:25 robert Exp $
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Thu Mar  9 21:04:28 2017
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Fri Mar 10 07:46:18 2017
@@@@ -777,7 +777,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
d14 1
a14 1
@@@@ -792,7 +792,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.11
log
@update to 56.0.2924.76
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.10 2016/12/10 15:35:25 robert Exp $
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Thu Dec 15 00:02:04 2016
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Tue Jan  3 20:29:55 2017
@@@@ -778,7 +778,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
d13 1
a13 1
@@@@ -793,7 +793,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.10
log
@update to 55.0.2883.75; add lpr support to the system dialog while here
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.9 2016/09/01 16:28:11 robert Exp $
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Fri Dec  2 00:02:07 2016
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Fri Dec  2 17:44:52 2016
@@@@ -772,7 +772,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
d13 1
a13 1
@@@@ -787,7 +787,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.9
log
@update to 53.0.2785.89
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.8 2016/08/17 11:06:50 robert Exp $
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Thu Sep  1 00:03:27 2016
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Thu Sep  1 11:12:20 2016
@@@@ -774,7 +774,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
d13 1
a13 1
@@@@ -789,7 +789,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.8
log
@Move chromium to the new build system (gn - generate ninja)

This commit moves the chromium port to use gn to generate ninja files
which will hopefully resolve the random build errors. Gyp is dead so
this move has to be done anyway.

Also change the way how we handle openbsd. Let's assume we are running
on linux and only handle !linux cases where needed. This also ensures
that a change on linux will for sure end up in our builds as well.
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.7 2016/07/31 13:11:44 robert Exp $
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Wed Aug  3 21:02:12 2016
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Sat Aug 13 15:56:10 2016
@@@@ -757,7 +757,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
d13 1
a13 1
@@@@ -772,7 +772,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.7
log
@update to 52.0.2743.82
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.6 2016/04/16 19:08:45 robert Exp $
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Wed Jul 20 21:03:19 2016
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Thu Jul 21 10:25:26 2016
@@@@ -737,7 +737,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
d13 1
a13 1
@@@@ -752,7 +752,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.6
log
@update to 50.0.2661.75
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Thu Apr 14 08:35:53 2016
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Thu Apr 14 08:36:06 2016
@@@@ -736,7 +736,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
d13 1
a13 1
@@@@ -751,7 +751,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.5
log
@update to 49.0.2623.75
@
text
@d1 13
a13 4
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.4 2016/01/23 18:49:31 robert Exp $
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Wed Feb 24 21:01:31 2016
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Thu Mar  3 09:43:25 2016
@@@@ -752,7 +752,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
d17 2
a18 3
-#if defined(OS_WIN) || defined(OS_LINUX) || \
+#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_BSD) || \
     (defined(OS_MACOSX) && !defined(OS_IOS))
d21 1
@


1.4
log
@update to 48.0.2564.82
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.3 2015/05/24 15:51:52 robert Exp $
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Wed Jan 20 21:01:19 2016
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Fri Jan 22 19:58:58 2016
@@@@ -740,7 +740,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.3
log
@update to 43.0.2357.65
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.2 2015/04/27 16:38:25 robert Exp $
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Thu May 14 00:35:45 2015
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Wed May 20 08:34:56 2015
@@@@ -731,7 +731,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.2
log
@update to 42.0.2311.90
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_chrome_download_manager_delegate_cc,v 1.1 2015/02/15 19:51:28 robert Exp $
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Wed Apr 15 00:31:21 2015
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Wed Apr 15 08:32:50 2015
@@@@ -720,7 +720,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@


1.1
log
@use mesa to get the gpu vendor and device id and pass it to chromium because
we can't use libpci due to permission restrictions and use some more UI code
on BSD as well
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/download/chrome_download_manager_delegate.cc.orig.port	Sun Feb 15 11:06:29 2015
+++ chrome/browser/download/chrome_download_manager_delegate.cc	Sun Feb 15 11:06:44 2015
@@@@ -719,7 +719,7 @@@@ void ChromeDownloadManagerDelegate::OnDownloadTargetDe
@

