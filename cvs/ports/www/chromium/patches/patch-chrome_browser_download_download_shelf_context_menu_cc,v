head	1.6;
access;
symbols
	OPENBSD_6_0:1.4.0.2
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2016.10.26.06.22.08;	author robert;	state Exp;
branches;
next	1.5;
commitid	Dt81be1Osjz00Uwx;

1.5
date	2016.09.01.16.28.11;	author robert;	state Exp;
branches;
next	1.4;
commitid	0duujWXlyOCBrehm;

1.4
date	2016.03.06.10.51.14;	author robert;	state Exp;
branches;
next	1.3;
commitid	Upms3IeOsaLsGxbP;

1.3
date	2015.05.24.15.51.53;	author robert;	state Exp;
branches;
next	1.2;
commitid	rFaYcWD2ntiXn5nr;

1.2
date	2015.04.27.16.38.25;	author robert;	state Exp;
branches;
next	1.1;
commitid	jwX00slFR1NY9xHC;

1.1
date	2015.01.22.11.16.40;	author robert;	state Exp;
branches;
next	;
commitid	yDb21GVFY5iIUXUw;


desc
@@


1.6
log
@update to 54.0.2840.71
@
text
@$OpenBSD: patch-chrome_browser_download_download_shelf_context_menu_cc,v 1.5 2016/09/01 16:28:11 robert Exp $
--- chrome/browser/download/download_shelf_context_menu.cc.orig.port	Wed Oct 12 21:02:54 2016
+++ chrome/browser/download/download_shelf_context_menu.cc	Wed Oct 19 12:55:58 2016
@@@@ -127,7 +127,7 @@@@ base::string16 DownloadShelfContextMenu::GetLabelForCo
                    : IDS_DOWNLOAD_MENU_PLATFORM_OPEN_ALWAYS;
           break;
         }
-#elif defined(OS_MACOSX) || defined(OS_LINUX)
+#elif defined(OS_MACOSX) || defined(OS_LINUX) || defined(OS_BSD)
         if (can_open_pdf_in_system_viewer) {
           id = IDS_DOWNLOAD_MENU_PLATFORM_OPEN_ALWAYS;
           break;
@


1.5
log
@update to 53.0.2785.89
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_download_shelf_context_menu_cc,v 1.4 2016/03/06 10:51:14 robert Exp $
--- chrome/browser/download/download_shelf_context_menu.cc.orig.port	Thu Sep  1 00:03:27 2016
+++ chrome/browser/download/download_shelf_context_menu.cc	Thu Sep  1 11:12:20 2016
@@@@ -133,7 +133,7 @@@@ base::string16 DownloadShelfContextMenu::GetLabelForCo
@


1.4
log
@update to 49.0.2623.75
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_download_shelf_context_menu_cc,v 1.3 2015/05/24 15:51:53 robert Exp $
--- chrome/browser/download/download_shelf_context_menu.cc.orig.port	Wed Feb 24 00:01:58 2016
+++ chrome/browser/download/download_shelf_context_menu.cc	Thu Mar  3 09:43:25 2016
@@@@ -142,7 +142,7 @@@@ base::string16 DownloadShelfContextMenu::GetLabelForCo
@


1.3
log
@update to 43.0.2357.65
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/download/download_shelf_context_menu.cc.orig.port	Wed May 20 10:02:47 2015
+++ chrome/browser/download/download_shelf_context_menu.cc	Wed May 20 10:03:00 2015
@@@@ -143,7 +143,7 @@@@ base::string16 DownloadShelfContextMenu::GetLabelForCo
@


1.2
log
@update to 42.0.2311.90
@
text
@d2 6
a7 24
--- chrome/browser/download/download_shelf_context_menu.cc.orig.port	Wed Apr 15 09:23:59 2015
+++ chrome/browser/download/download_shelf_context_menu.cc	Wed Apr 15 09:24:37 2015
@@@@ -123,7 +123,7 @@@@ bool DownloadShelfContextMenu::IsCommandIdChecked(int 
           download_crx_util::IsExtensionDownload(*download_item_);
     case ALWAYS_OPEN_TYPE:
 #if defined(OS_WIN) || defined(OS_LINUX) || \
-    (defined(OS_MACOSX) && !defined(OS_IOS))
+    (defined(OS_MACOSX) && !defined(OS_IOS)) || defined(OS_BSD)
       if (CanOpenPdfInSystemViewer()) {
         DownloadPrefs* prefs = DownloadPrefs::FromBrowserContext(
             download_item_->GetBrowserContext());
@@@@ -163,7 +163,7 @@@@ void DownloadShelfContextMenu::ExecuteCommand(int comm
       DownloadPrefs* prefs = DownloadPrefs::FromBrowserContext(
           download_item_->GetBrowserContext());
 #if defined(OS_WIN) || defined(OS_LINUX) || \
-    (defined(OS_MACOSX) && !defined(OS_IOS))
+    (defined(OS_MACOSX) && !defined(OS_IOS)) || defined(OS_BSD)
       if (CanOpenPdfInSystemViewer()) {
         prefs->SetShouldOpenPdfInSystemReader(!is_checked);
         DownloadItemModel(download_item_).SetShouldPreferOpeningInBrowser(
@@@@ -392,14 +392,14 @@@@ int DownloadShelfContextMenu::GetAlwaysOpenStringId() 
     return IsAdobeReaderDefaultPDFViewer()
                ? IDS_DOWNLOAD_MENU_ALWAYS_OPEN_PDF_IN_READER
                : IDS_DOWNLOAD_MENU_PLATFORM_OPEN_ALWAYS;
d10 3
a12 20
   if (CanOpenPdfInSystemViewer())
     return IDS_DOWNLOAD_MENU_PLATFORM_OPEN_ALWAYS;
 #endif
   return IDS_DOWNLOAD_MENU_ALWAYS_OPEN_TYPE;
 }
 
-#if defined(OS_WIN) || defined(OS_MACOSX) || defined(OS_LINUX)
+#if defined(OS_WIN) || defined(OS_MACOSX) || defined(OS_LINUX) || defined(OS_BSD)
 bool DownloadShelfContextMenu::IsDownloadPdf() const {
   base::FilePath path = download_item_->GetTargetFilePath();
   return path.MatchesExtension(FILE_PATH_LITERAL(".pdf"));
@@@@ -411,7 +411,7 @@@@ bool DownloadShelfContextMenu::CanOpenPdfInSystemViewe
   return IsDownloadPdf() &&
          (IsAdobeReaderDefaultPDFViewer() ? is_adobe_pdf_reader_up_to_date_ :
                                             true);
-#elif defined(OS_MACOSX) || defined(OS_LINUX)
+#elif defined(OS_MACOSX) || defined(OS_LINUX) || defined(OS_BSD)
   return IsDownloadPdf();
 #endif
 }
@


1.1
log
@update to 40.0.2214.91
@
text
@d2 3
a4 4
--- chrome/browser/download/download_shelf_context_menu.cc.orig.port	Sat Dec  6 16:55:11 2014
+++ chrome/browser/download/download_shelf_context_menu.cc	Sat Dec  6 16:56:00 2014
@@@@ -122,7 +122,7 @@@@ bool DownloadShelfContextMenu::IsCommandIdChecked(int 
       return download_item_->GetOpenWhenComplete() ||
d7 3
a9 3
-#if defined(OS_WIN) || defined(OS_LINUX) || \
+#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_BSD) || \
     (defined(OS_MACOSX) && !defined(OS_IOS))
d12 2
a13 2
@@@@ -162,7 +162,7 @@@@ void DownloadShelfContextMenu::ExecuteCommand(int comm
       bool is_checked = IsCommandIdChecked(ALWAYS_OPEN_TYPE);
d16 3
a18 3
-#if defined(OS_WIN) || defined(OS_LINUX) || \
+#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_BSD) || \
     (defined(OS_MACOSX) && !defined(OS_IOS))
d21 5
a25 4
@@@@ -390,14 +390,14 @@@@ int DownloadShelfContextMenu::GetAlwaysOpenStringId() 
 #if defined(OS_WIN)
   if (CanOpenPdfInSystemViewer())
     return IDS_DOWNLOAD_MENU_ALWAYS_OPEN_PDF_IN_READER;
d39 1
a39 1
@@@@ -409,7 +409,7 @@@@ bool DownloadShelfContextMenu::CanOpenPdfInSystemViewe
@

