head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.2
	OPENBSD_6_1_BASE:1.4;
locks; strict;
comment	@# @;


1.4
date	2017.03.14.12.18.54;	author robert;	state Exp;
branches;
next	1.3;
commitid	FgEdsLreTqAdn1i5;

1.3
date	2017.01.26.17.08.26;	author robert;	state Exp;
branches;
next	1.2;
commitid	SWz5LewWpip0ZZLw;

1.2
date	2016.04.16.19.08.46;	author robert;	state dead;
branches;
next	1.1;
commitid	SE10dvx9aTcZrjRO;

1.1
date	2016.03.06.10.51.14;	author robert;	state Exp;
branches;
next	;
commitid	Upms3IeOsaLsGxbP;


desc
@@


1.4
log
@update to 57.0.2987.98
@
text
@$OpenBSD$
--- media/capture/video/linux/v4l2_capture_delegate.cc.orig.port	Thu Mar  9 21:04:34 2017
+++ media/capture/video/linux/v4l2_capture_delegate.cc	Fri Mar 10 19:56:24 2017
@@@@ -4,8 +4,10 @@@@
 
 #include "media/capture/video/linux/v4l2_capture_delegate.h"
 
+#if !defined(OS_BSD)
 #include <linux/version.h>
 #include <linux/videodev2.h>
+#endif
 #include <poll.h>
 #include <sys/fcntl.h>
 #include <sys/ioctl.h>
@@@@ -21,10 +23,10 @@@@
 #include "media/capture/video/blob_utils.h"
 #include "media/capture/video/linux/video_capture_device_linux.h"
 
-#if LINUX_VERSION_CODE < KERNEL_VERSION(4, 6, 0)
+// #if LINUX_VERSION_CODE < KERNEL_VERSION(4, 6, 0)
 // 16 bit depth, Realsense F200.
 #define V4L2_PIX_FMT_Z16 v4l2_fourcc('Z', '1', '6', ' ')
-#endif
+// #endif
 
 // TODO(aleksandar.stojiljkovic): Wrap this with kernel version check once the
 // format is introduced to kernel.
@


1.3
log
@update to 56.0.2924.76
@
text
@d2 3
a4 3
--- media/capture/video/linux/v4l2_capture_delegate.cc.orig.port	Wed Jan  4 09:20:12 2017
+++ media/capture/video/linux/v4l2_capture_delegate.cc	Wed Jan  4 09:21:26 2017
@@@@ -4,7 +4,9 @@@@
d10 1
d15 1
a15 1
@@@@ -20,10 +22,10 @@@@
d20 1
a20 1
+// XXX(robert) #if LINUX_VERSION_CODE < KERNEL_VERSION(4, 6, 0)
d24 1
a24 1
+//#endif
@


1.2
log
@update to 50.0.2661.75
@
text
@d1 21
a21 10
$OpenBSD: patch-media_capture_video_linux_v4l2_capture_delegate_cc,v 1.1 2016/03/06 10:51:14 robert Exp $
--- media/capture/video/linux/v4l2_capture_delegate.cc.orig.port	Sat Mar  5 23:46:39 2016
+++ media/capture/video/linux/v4l2_capture_delegate.cc	Sat Mar  5 23:46:53 2016
@@@@ -48,10 +48,8 @@@@ static struct {
     {V4L2_PIX_FMT_YUYV, PIXEL_FORMAT_YUY2, 1},
     {V4L2_PIX_FMT_UYVY, PIXEL_FORMAT_UYVY, 1},
     {V4L2_PIX_FMT_RGB24, PIXEL_FORMAT_RGB24, 1},
-#if !defined(OS_OPENBSD)
     // TODO(mcasas): add V4L2_PIX_FMT_YVU420M when available in bots.
     {V4L2_PIX_FMT_YUV420M, PIXEL_FORMAT_I420, 3},
d23 4
a26 15
     // MJPEG is usually sitting fairly low since we don't want to have to
     // decode.
     // However, is needed for large resolutions due to USB bandwidth
@@@@ -76,11 +74,9 @@@@ V4L2CaptureDelegate::CreateV4L2CaptureDelegate(
       return make_scoped_refptr(new V4L2CaptureDelegateSinglePlane(
           device_name, v4l2_task_runner, power_line_frequency));
     case VideoCaptureDevice::Name::V4L2_MULTI_PLANE:
-#if !defined(OS_OPENBSD)
       return make_scoped_refptr(new V4L2CaptureDelegateMultiPlane(
           device_name, v4l2_task_runner, power_line_frequency));
     default:
-#endif
       NOTIMPLEMENTED() << "Unknown V4L2 capture API type";
       return scoped_refptr<V4L2CaptureDelegate>();
   }
@


1.1
log
@update to 49.0.2623.75
@
text
@d1 1
a1 1
$OpenBSD$
@

