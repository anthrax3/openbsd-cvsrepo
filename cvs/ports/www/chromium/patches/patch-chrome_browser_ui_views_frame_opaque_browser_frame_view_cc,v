head	1.23;
access;
symbols
	OPENBSD_6_1:1.22.0.2
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.19.0.2
	OPENBSD_6_0_BASE:1.19
	OPENBSD_5_9:1.16.0.2
	OPENBSD_5_9_BASE:1.16
	OPENBSD_5_8:1.12.0.4
	OPENBSD_5_8_BASE:1.12
	OPENBSD_5_7:1.9.0.2
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.5.0.2
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.23
date	2017.07.27.14.23.46;	author robert;	state Exp;
branches;
next	1.22;
commitid	UqlSU0wmYWtcPgqI;

1.22
date	2017.01.26.17.08.25;	author robert;	state Exp;
branches;
next	1.21;
commitid	SWz5LewWpip0ZZLw;

1.21
date	2016.10.26.06.22.08;	author robert;	state Exp;
branches;
next	1.20;
commitid	Dt81be1Osjz00Uwx;

1.20
date	2016.07.31.13.11.44;	author robert;	state Exp;
branches;
next	1.19;
commitid	dRegVegviFQGKQZc;

1.19
date	2016.05.27.06.28.20;	author robert;	state Exp;
branches;
next	1.18;
commitid	cpiCcJ3vjht5tEkH;

1.18
date	2016.04.16.19.08.46;	author robert;	state Exp;
branches;
next	1.17;
commitid	SE10dvx9aTcZrjRO;

1.17
date	2016.03.06.10.51.14;	author robert;	state Exp;
branches;
next	1.16;
commitid	Upms3IeOsaLsGxbP;

1.16
date	2016.01.23.18.49.31;	author robert;	state Exp;
branches;
next	1.15;
commitid	KVrkvcBYFue8N3VB;

1.15
date	2015.12.05.16.13.32;	author robert;	state Exp;
branches;
next	1.14;
commitid	D0GFSwUDbKAnIs1m;

1.14
date	2015.10.14.16.42.07;	author robert;	state Exp;
branches;
next	1.13;
commitid	iw6THZfJQngZlw1r;

1.13
date	2015.09.05.16.06.50;	author robert;	state Exp;
branches;
next	1.12;
commitid	rTmBXJaDIIWe1XKA;

1.12
date	2015.07.23.13.44.04;	author robert;	state Exp;
branches;
next	1.11;
commitid	vxhJdppNzKtP7lYz;

1.11
date	2015.05.24.15.51.53;	author robert;	state Exp;
branches;
next	1.10;
commitid	rFaYcWD2ntiXn5nr;

1.10
date	2015.04.27.16.38.25;	author robert;	state Exp;
branches;
next	1.9;
commitid	jwX00slFR1NY9xHC;

1.9
date	2015.01.22.11.16.41;	author robert;	state Exp;
branches;
next	1.8;
commitid	yDb21GVFY5iIUXUw;

1.8
date	2014.11.19.21.27.32;	author robert;	state Exp;
branches;
next	1.7;
commitid	Fr3Mh6eWvxxgNbvB;

1.7
date	2014.10.13.06.49.19;	author robert;	state Exp;
branches;
next	1.6;
commitid	GAMY6AdJxC6cdD6g;

1.6
date	2014.09.11.19.04.52;	author robert;	state Exp;
branches;
next	1.5;
commitid	WrglT9ERNBhPArdd;

1.5
date	2014.07.20.17.22.34;	author robert;	state Exp;
branches;
next	1.4;
commitid	yFSQqywU9tg3Fhqe;

1.4
date	2011.08.16.08.17.44;	author robert;	state dead;
branches;
next	1.3;

1.3
date	2011.06.08.20.36.56;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2011.03.15.11.38.05;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2011.02.08.09.43.02;	author espie;	state Exp;
branches;
next	;


desc
@@


1.23
log
@update to 60.0.3112.78
@
text
@$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.22 2017/01/26 17:08:25 robert Exp $
Index: chrome/browser/ui/views/frame/opaque_browser_frame_view.cc
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc
@@@@ -38,7 +38,7 @@@@
 #include "ui/views/window/frame_background.h"
 #include "ui/views/window/window_shape.h"
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
 #include "ui/views/controls/menu/menu_runner.h"
 #endif
 
@@@@ -292,7 +292,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
 void OpaqueBrowserFrameView::OnMenuButtonClicked(views::MenuButton* source,
                                                  const gfx::Point& point,
                                                  const ui::Event* event) {
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
   views::MenuRunner menu_runner(frame()->GetSystemMenuModel(),
                                 views::MenuRunner::HAS_MNEMONICS);
   menu_runner.RunMenuAt(browser_view()->GetWidget(), window_icon_,
@


1.22
log
@update to 56.0.2924.76
@
text
@d1 4
a4 3
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.21 2016/10/26 06:22:08 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Thu Dec 15 00:02:05 2016
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Tue Jan  3 20:29:57 2017
d22 1
a22 1
   ignore_result(menu_runner.RunMenuAt(browser_view()->GetWidget(),
@


1.21
log
@update to 54.0.2840.71
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.20 2016/07/31 13:11:44 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Wed Oct 12 21:02:55 2016
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Wed Oct 19 12:56:01 2016
d13 1
a13 1
@@@@ -293,7 +293,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
@


1.20
log
@update to 52.0.2743.82
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.19 2016/05/27 06:28:20 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Wed Jul 20 21:03:20 2016
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Thu Jul 21 10:25:28 2016
@@@@ -52,7 +52,7 @@@@
d13 1
a13 1
@@@@ -308,7 +308,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
@


1.19
log
@update to 51.0.2704.63
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.18 2016/04/16 19:08:46 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Wed May 25 21:00:58 2016
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Thu May 26 08:09:42 2016
@@@@ -53,7 +53,7 @@@@
d13 1
a13 1
@@@@ -309,7 +309,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
@


1.18
log
@update to 50.0.2661.75
@
text
@d1 3
a3 3
$OpenBSD$
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Thu Apr 14 08:45:55 2016
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Thu Apr 14 08:46:06 2016
d13 1
a13 1
@@@@ -311,7 +311,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
@


1.17
log
@update to 49.0.2623.75
@
text
@d1 6
a6 6
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.16 2016/01/23 18:49:31 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Wed Feb 24 21:01:31 2016
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Thu Mar  3 09:43:26 2016
@@@@ -57,7 +57,7 @@@@
 #include "chrome/browser/ui/views/profiles/supervised_user_avatar_label.h"
 #endif
d13 4
a16 4
@@@@ -339,7 +339,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
 
 void OpaqueBrowserFrameView::OnMenuButtonClicked(views::View* source,
                                                  const gfx::Point& point) {
@


1.16
log
@update to 48.0.2564.82
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Fri Jan 22 22:05:32 2016
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Fri Jan 22 22:05:50 2016
@@@@ -55,7 +55,7 @@@@
d13 1
a13 1
@@@@ -336,7 +336,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
@


1.15
log
@update to 47.0.2526.73
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.14 2015/10/14 16:42:07 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Tue Nov 24 21:00:54 2015
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Wed Dec  2 08:18:32 2015
d13 1
a13 10
@@@@ -82,7 +82,7 @@@@ const int kContentEdgeShadowThickness = 2;
 const int kIconMinimumSize = 16;
 #endif
 
-#if defined(OS_LINUX) && !defined(OS_CHROMEOS)
+#if defined(OS_BSD) || (defined(OS_LINUX) && !defined(OS_CHROMEOS))
 // The number of pixels to move the frame background image upwards when using
 // the GTK+ theme and the titlebar is condensed.
 const int kGTKThemeCondensedFrameTopInset = 15;
@@@@ -342,7 +342,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
a21 9
@@@@ -630,7 +630,7 @@@@ void OpaqueBrowserFrameView::PaintMaximizedFrameBorder
   frame_background_->set_theme_image(GetFrameImage());
   frame_background_->set_theme_overlay_image(GetFrameOverlayImage());
   frame_background_->set_top_area_height(GetTopAreaHeight());
-#if defined(OS_LINUX) && !defined(OS_CHROMEOS)
+#if defined(OS_BSD) || (defined(OS_LINUX) && !defined(OS_CHROMEOS))
   // The window manager typically shows a gradient in the native title bar (when
   // the system title bar pref is set, or when maximized on Ubuntu). Hide the
   // gradient in the tab strip (by shifting it up vertically) to avoid a
@


1.14
log
@update to 46.0.2490.71
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.13 2015/09/05 16:06:50 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Tue Oct 13 21:04:32 2015
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Wed Oct 14 07:41:13 2015
@@@@ -54,7 +54,7 @@@@
d13 1
a13 1
@@@@ -81,7 +81,7 @@@@ const int kContentEdgeShadowThickness = 2;
d22 1
a22 1
@@@@ -341,7 +341,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
d31 1
a31 1
@@@@ -629,7 +629,7 @@@@ void OpaqueBrowserFrameView::PaintMaximizedFrameBorder
@


1.13
log
@update to 45.0.2454.85
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.12 2015/07/23 13:44:04 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Tue Sep  1 22:10:42 2015
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Wed Sep  2 07:31:55 2015
d22 1
a22 1
@@@@ -336,7 +336,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
d31 1
a31 1
@@@@ -622,7 +622,7 @@@@ void OpaqueBrowserFrameView::PaintMaximizedFrameBorder
@


1.12
log
@update to 44.0.2403.89
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.11 2015/05/24 15:51:53 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Wed Jul 15 22:29:58 2015
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Wed Jul 22 08:37:29 2015
@@@@ -53,7 +53,7 @@@@
d13 1
a13 2
@@@@ -78,7 +78,7 @@@@ const int kContentEdgeShadowThickness = 2;
 // The icon never shrinks below 16 px on a side.
d15 1
d22 1
a22 1
@@@@ -333,7 +333,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
d31 1
a31 1
@@@@ -619,7 +619,7 @@@@ void OpaqueBrowserFrameView::PaintMaximizedFrameBorder
@


1.11
log
@update to 43.0.2357.65
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.10 2015/04/27 16:38:25 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Thu May 14 00:35:45 2015
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Wed May 20 08:34:56 2015
d22 1
a22 1
@@@@ -338,7 +338,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
d31 1
a31 1
@@@@ -624,7 +624,7 @@@@ void OpaqueBrowserFrameView::PaintMaximizedFrameBorder
@


1.10
log
@update to 42.0.2311.90
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Wed Apr 15 09:27:17 2015
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Wed Apr 15 09:27:53 2015
@@@@ -54,7 +54,7 @@@@
d13 1
a13 1
@@@@ -79,7 +79,7 @@@@ const int kContentEdgeShadowThickness = 2;
d22 1
a22 1
@@@@ -341,7 +341,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
d31 1
a31 1
@@@@ -637,7 +637,7 @@@@ void OpaqueBrowserFrameView::PaintMaximizedFrameBorder
@


1.9
log
@update to 40.0.2214.91
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.8 2014/11/19 21:27:32 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Wed Dec  3 03:32:11 2014
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Sat Dec  6 11:34:25 2014
d18 1
a18 1
+#if (defined(OS_BSD) || defined(OS_LINUX)) && !defined(OS_CHROMEOS)
d22 1
a22 1
@@@@ -335,7 +335,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
d31 1
a31 10
@@@@ -588,7 +588,7 @@@@ gfx::Rect OpaqueBrowserFrameView::IconBounds() const {
 }
 
 bool OpaqueBrowserFrameView::ShouldShowWindowTitleBar() const {
-#if defined(OS_LINUX) && !defined(OS_CHROMEOS)
+#if (defined(OS_BSD) || defined(OS_LINUX)) && !defined(OS_CHROMEOS)
   // Do not show the custom title bar if the system title bar option is enabled.
   if (!frame()->UseCustomFrame())
     return false;
@@@@ -633,7 +633,7 @@@@ void OpaqueBrowserFrameView::PaintMaximizedFrameBorder
d36 1
a36 1
+#if (defined(OS_BSD) || defined(OS_LINUX)) && !defined(OS_CHROMEOS)
@


1.8
log
@update to 39.0.2171.65
@
text
@d1 6
a6 6
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.7 2014/10/13 06:49:19 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Wed Nov 19 06:13:08 2014
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Wed Nov 19 08:38:25 2014
@@@@ -52,7 +52,7 @@@@
 #include "ui/views/window/frame_background.h"
 #include "ui/views/window/window_shape.h"
d13 1
a13 1
@@@@ -77,7 +77,7 @@@@ const int kContentEdgeShadowThickness = 2;
d22 1
a22 1
@@@@ -318,7 +318,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
d31 1
a31 1
@@@@ -571,7 +571,7 @@@@ gfx::Rect OpaqueBrowserFrameView::IconBounds() const {
d40 1
a40 1
@@@@ -616,7 +616,7 @@@@ void OpaqueBrowserFrameView::PaintMaximizedFrameBorder
@


1.7
log
@update to 38.0.2125.101
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Fri Oct 10 16:20:08 2014
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Fri Oct 10 16:20:59 2014
@@@@ -53,7 +53,7 @@@@
d13 1
a13 1
@@@@ -78,7 +78,7 @@@@ const int kContentEdgeShadowThickness = 2;
d22 1
a22 1
@@@@ -316,7 +316,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
d31 1
a31 1
@@@@ -569,7 +569,7 @@@@ gfx::Rect OpaqueBrowserFrameView::IconBounds() const {
d40 1
a40 1
@@@@ -614,7 +614,7 @@@@ void OpaqueBrowserFrameView::PaintMaximizedFrameBorder
@


1.6
log
@update to 37.0.2062.120
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.5 2014/07/20 17:22:34 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Wed Sep 10 01:47:12 2014
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Wed Sep 10 22:05:40 2014
d18 1
a18 1
+#if (defined(OS_LINUX) || defined(OS_BSD)) && !defined(OS_CHROMEOS)
d22 1
a22 1
@@@@ -357,7 +357,7 @@@@ void OpaqueBrowserFrameView::ButtonPressed(views::Butt
d28 2
a29 1
   views::MenuRunner menu_runner(frame()->GetSystemMenuModel());
d31 1
a31 2
                                       window_icon_,
@@@@ -566,7 +566,7 @@@@ gfx::Rect OpaqueBrowserFrameView::IconBounds() const {
d36 1
a36 1
+#if (defined(OS_LINUX) || defined(OS_BSD)) && !defined(OS_CHROMEOS)
d40 1
a40 1
@@@@ -611,7 +611,7 @@@@ void OpaqueBrowserFrameView::PaintMaximizedFrameBorder
d45 1
a45 1
+#if (defined(OS_LINUX) || defined(OS_BSD)) && !defined(OS_CHROMEOS)
@


1.5
log
@update to 36.0.1985.125;

from this release Chromium uses Aura instead of Gtk+ so the UI will look
a bit different, and that is completely normal.
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig.port	Sat Jul 19 03:27:25 2014
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Sat Jul 19 03:30:43 2014
@@@@ -52,7 +52,7 @@@@
d13 1
a13 1
@@@@ -77,7 +77,7 @@@@ const int kContentEdgeShadowThickness = 2;
@


1.4
log
@update to the next stable release (13.0.782.112)
@
text
@d1 6
a6 6
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.3 2011/06/08 20:36:56 robert Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig	Mon Jun  6 11:12:09 2011
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Wed Jun  8 09:58:36 2011
@@@@ -30,7 +30,7 @@@@
 #include "views/window/window_resources.h"
 #include "views/window/window_shape.h"
d9 2
a10 2
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
 #include "views/window/hit_test.h"
d13 36
@


1.3
log
@Update to the new stable branch: 12.0.742.91
http://googlechromereleases.blogspot.com/2011/06/chrome-stable-release.html
@
text
@d1 1
a1 1
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.2 2011/03/15 11:38:05 robert Exp $
@


1.2
log
@update to 10.0.648.133
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc,v 1.1 2011/02/08 09:43:02 espie Exp $
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig	Fri Mar 11 10:01:41 2011
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Mon Mar 14 10:55:37 2011
@@@@ -29,7 +29,7 @@@@
@


1.1
log
@late update to chromium 9, robert@@ did the work, but he doesn't have the
time right now.
Tree is still locked!
Reasons for the update:
- good work that can be used now
- only builds on i386/amd64, and they're fast
- multiple security problems in old chrome
- old chrome half working, can't break it more than it was.

This one requires resources (see MESSAGE), but it's ways more stable.

Again, discussed with sthen@@, jasper@@, naddy@@, miod@@
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/ui/views/frame/opaque_browser_frame_view.cc.orig	Fri Jan 21 10:20:24 2011
+++ chrome/browser/ui/views/frame/opaque_browser_frame_view.cc	Sun Jan 23 23:27:32 2011
@@@@ -28,7 +28,7 @@@@
@

