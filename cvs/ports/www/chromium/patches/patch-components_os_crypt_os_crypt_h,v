head	1.3;
access;
symbols
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2017.09.09.19.16.43;	author robert;	state Exp;
branches;
next	1.2;
commitid	o4y7MpMU3y8aR1pv;

1.2
date	2016.10.26.06.22.08;	author robert;	state Exp;
branches;
next	1.1;
commitid	Dt81be1Osjz00Uwx;

1.1
date	2016.09.08.13.00.34;	author robert;	state Exp;
branches;
next	;
commitid	PxHqyYGmSllQoH8A;


desc
@@


1.3
log
@update to 61.0.3163.79
@
text
@$OpenBSD$

Index: components/os_crypt/os_crypt.h
--- components/os_crypt/os_crypt.h.orig
+++ components/os_crypt/os_crypt.h
@@@@ -14,7 +14,7 @@@@
 #include "base/strings/string16.h"
 #include "build/build_config.h"
 
-#if defined(OS_LINUX) && !defined(OS_CHROMEOS) && defined(UNIT_TEST)
+#if (defined(OS_BSD) || defined(OS_LINUX)) && !defined(OS_CHROMEOS) && defined(UNIT_TEST)
 class KeyStorageLinux;
 #endif  // defined(OS_LINUX) && !defined(OS_CHROMEOS) && defined(UNIT_TEST)
 
@@@@ -28,7 +28,7 @@@@ struct Config;
 // true for Linux, if a password management tool is available.
 class OSCrypt {
  public:
-#if defined(OS_LINUX) && !defined(OS_CHROMEOS)
+#if (defined(OS_BSD) || defined(OS_LINUX)) && !defined(OS_CHROMEOS)
   // Set the configuration of OSCrypt.
   static void SetConfig(std::unique_ptr<os_crypt::Config> config);
 
@@@@ -67,7 +67,7 @@@@ class OSCrypt {
   DISALLOW_IMPLICIT_CONSTRUCTORS(OSCrypt);
 };
 
-#if defined(OS_LINUX) && !defined(OS_CHROMEOS) && defined(UNIT_TEST)
+#if (defined(OS_BSD) || defined(OS_LINUX)) && !defined(OS_CHROMEOS) && defined(UNIT_TEST)
 // For unit testing purposes, inject methods to be used.
 // |get_key_storage_mock| provides the desired |KeyStorage| implementation.
 // If the provider returns |nullptr|, a hardcoded password will be used.
@


1.2
log
@update to 54.0.2840.71
@
text
@d1 6
a6 4
$OpenBSD: patch-components_os_crypt_os_crypt_h,v 1.1 2016/09/08 13:00:34 robert Exp $
--- components/os_crypt/os_crypt.h.orig.port	Wed Oct 12 21:02:58 2016
+++ components/os_crypt/os_crypt.h	Wed Oct 19 12:56:03 2016
@@@@ -13,7 +13,7 @@@@
d10 4
a13 4
-#if defined(OS_LINUX) && !defined(OS_CHROMEOS)
+#if (defined(OS_LINUX) || defined(OS_BSD)) && !defined(OS_CHROMEOS)
 #include "components/os_crypt/key_storage_linux.h"
 #endif  // defined(OS_LINUX) && !defined(OS_CHROMEOS)
d15 1
a15 1
@@@@ -23,7 +23,7 @@@@
d20 13
a32 4
+#if (defined(OS_LINUX) || defined(OS_BSD)) && !defined(OS_CHROMEOS)
   // If |store_type| is a known password store, we will attempt to use it.
   // In any other case, we default to auto-detecting the store.
   // This should not be changed after OSCrypt has been used.
@


1.1
log
@update to 53.0.2785.101
@
text
@d1 4
a4 4
$OpenBSD$
--- components/os_crypt/os_crypt.h.orig.port	Thu Sep  8 11:53:56 2016
+++ components/os_crypt/os_crypt.h	Thu Sep  8 11:54:38 2016
@@@@ -11,7 +11,7 @@@@
d13 1
a13 1
@@@@ -21,7 +21,7 @@@@
@

