head	1.4;
access;
symbols
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2;
locks; strict;
comment	@# @;


1.4
date	2012.02.17.10.19.51;	author robert;	state dead;
branches;
next	1.3;

1.3
date	2012.01.06.16.27.26;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2011.12.14.16.58.19;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2011.10.27.07.59.09;	author robert;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to 17.0.963.56
@
text
@$OpenBSD: patch-content_browser_plugin_service_cc,v 1.3 2012/01/06 16:27:26 robert Exp $
--- content/browser/plugin_service.cc.orig	Thu Jan  5 09:01:16 2012
+++ content/browser/plugin_service.cc	Fri Jan  6 10:08:00 2012
@@@@ -37,7 +37,7 @@@@
 #include "webkit/plugins/npapi/plugin_list.h"
 #include "webkit/plugins/webplugininfo.h"
 
-#if defined(OS_POSIX) && !defined(OS_MACOSX)
+#if defined(OS_POSIX) && !defined(OS_MACOSX) && !defined(OS_OPENBSD)
 using ::base::files::FilePathWatcher;
 #endif
 
@@@@ -81,7 +81,7 @@@@ static void NotifyPluginsOfActivation() {
     plugin->OnAppActivation();
   }
 }
-#elif defined(OS_POSIX)
+#elif defined(OS_POSIX) && !defined(OS_OPENBSD)
 // Delegate class for monitoring directories.
 class PluginDirWatcherDelegate : public FilePathWatcher::Delegate {
   virtual void OnFilePathChanged(const FilePath& path) OVERRIDE {
@@@@ -165,7 +165,7 @@@@ void PluginService::StartWatchingPlugins() {
       hklm_watcher_.StartWatching(hklm_event_.get(), this);
     }
   }
-#elif defined(OS_POSIX) && !defined(OS_MACOSX)
+#elif defined(OS_POSIX) && !defined(OS_MACOSX) && !defined(OS_OPENBSD)
 // The FilePathWatcher produces too many false positives on MacOS (access time
 // updates?) which will lead to enforcing updates of the plugins way too often.
 // On ChromeOS the user can't install plugins anyway and on Windows all
@@@@ -602,7 +602,7 @@@@ PepperPluginInfo* PluginService::GetRegisteredPpapiPlu
   return &ppapi_plugins_[ppapi_plugins_.size() - 1];
 }
 
-#if defined(OS_POSIX) && !defined(OS_MACOSX)
+#if defined(OS_POSIX) && !defined(OS_MACOSX) && !defined(OS_OPENBSD)
 // static
 void PluginService::RegisterFilePathWatcher(
     FilePathWatcher *watcher,
@


1.3
log
@update to 16.0.912.75 and backport a fix from Chromium SVN to fix the KDE
issues
@
text
@d1 1
a1 1
$OpenBSD: patch-content_browser_plugin_service_cc,v 1.2 2011/12/14 16:58:19 robert Exp $
@


1.2
log
@update to 16.0.912.63
@
text
@d1 3
a3 3
$OpenBSD: patch-content_browser_plugin_service_cc,v 1.1 2011/10/27 07:59:09 robert Exp $
--- content/browser/plugin_service.cc.orig	Wed Dec  7 09:01:17 2011
+++ content/browser/plugin_service.cc	Tue Dec 13 21:23:12 2011
d13 1
a13 1
@@@@ -86,7 +86,7 @@@@ static void NotifyPluginsOfActivation() {
d22 1
a22 1
@@@@ -170,7 +170,7 @@@@ void PluginService::StartWatchingPlugins() {
d31 1
a31 1
@@@@ -607,7 +607,7 @@@@ PepperPluginInfo* PluginService::GetRegisteredPpapiPlu
@


1.1
log
@update to 15.0.874.102.

switch from using the hacked macosx transport dib to the linux one
which uses sysv shms.
make sure you also have a current kernel before using this version
@
text
@d1 4
a4 4
$OpenBSD$
--- content/browser/plugin_service.cc.orig	Fri Oct 21 10:29:43 2011
+++ content/browser/plugin_service.cc	Wed Oct 26 14:10:40 2011
@@@@ -30,7 +30,7 @@@@
d13 1
a13 1
@@@@ -46,7 +46,7 @@@@ static void NotifyPluginsOfActivation() {
d22 1
a22 1
@@@@ -123,7 +123,7 @@@@ void PluginService::StartWatchingPlugins() {
d31 1
a31 1
@@@@ -496,7 +496,7 @@@@ PepperPluginInfo* PluginService::GetRegisteredPpapiPlu
@

