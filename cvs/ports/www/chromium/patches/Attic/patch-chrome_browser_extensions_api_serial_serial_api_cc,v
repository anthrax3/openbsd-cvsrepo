head	1.5;
access;
symbols
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3;
locks; strict;
comment	@# @;


1.5
date	2014.10.13.06.49.19;	author robert;	state dead;
branches;
next	1.4;
commitid	GAMY6AdJxC6cdD6g;

1.4
date	2014.09.11.19.04.52;	author robert;	state Exp;
branches;
next	1.3;
commitid	WrglT9ERNBhPArdd;

1.3
date	2014.07.20.17.22.33;	author robert;	state Exp;
branches;
next	1.2;
commitid	yFSQqywU9tg3Fhqe;

1.2
date	2014.05.24.15.27.34;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2014.04.17.16.27.53;	author robert;	state Exp;
branches;
next	;


desc
@@


1.5
log
@update to 38.0.2125.101
@
text
@$OpenBSD: patch-chrome_browser_extensions_api_serial_serial_api_cc,v 1.4 2014/09/11 19:04:52 robert Exp $
--- chrome/browser/extensions/api/serial/serial_api.cc.orig.port	Wed Sep 10 22:15:19 2014
+++ chrome/browser/extensions/api/serial/serial_api.cc	Wed Sep 10 22:15:57 2014
@@@@ -85,11 +85,13 @@@@ bool SerialGetDevicesFunction::Prepare() {
 void SerialGetDevicesFunction::Work() {
   DCHECK_CURRENTLY_ON(BrowserThread::FILE);
 
+#if !defined(OS_BSD)
   scoped_ptr<device::SerialDeviceEnumerator> enumerator =
       device::SerialDeviceEnumerator::Create();
   mojo::Array<device::SerialDeviceInfoPtr> devices = enumerator->GetDevices();
   results_ = serial::GetDevices::Results::Create(
       devices.To<std::vector<linked_ptr<serial::DeviceInfo> > >());
+#endif
 }
 
 SerialConnectFunction::SerialConnectFunction() {}
@


1.4
log
@update to 37.0.2062.120
@
text
@d1 1
a1 1
$OpenBSD$
@


1.3
log
@update to 36.0.1985.125;

from this release Chromium uses Aura instead of Gtk+ so the UI will look
a bit different, and that is completely normal.
@
text
@d2 3
a4 3
--- chrome/browser/extensions/api/serial/serial_api.cc.orig.port	Thu Jul 17 12:39:39 2014
+++ chrome/browser/extensions/api/serial/serial_api.cc	Thu Jul 17 12:39:57 2014
@@@@ -85,6 +85,7 @@@@ bool SerialGetDevicesFunction::Prepare() {
a8 1
   device::SerialDeviceInfoList devices;
d11 3
a13 4
@@@@ -106,6 +107,7 @@@@ void SerialGetDevicesFunction::Work() {
   }
 
   results_ = serial::GetDevices::Results::Create(out_devices);
@


1.2
log
@update to 35.0.1916.114
@
text
@d1 6
a6 4
$OpenBSD: patch-chrome_browser_extensions_api_serial_serial_api_cc,v 1.1 2014/04/17 16:27:53 robert Exp $
--- chrome/browser/extensions/api/serial/serial_api.cc.orig.port	Wed May 14 21:23:11 2014
+++ chrome/browser/extensions/api/serial/serial_api.cc	Thu May 22 21:42:27 2014
@@@@ -84,7 +84,7 @@@@ bool SerialGetDevicesFunction::Prepare() {
d8 1
a8 4
 void SerialGetDevicesFunction::Work() {
   DCHECK(BrowserThread::CurrentlyOn(BrowserThread::FILE));
-
+#if !defined(OS_BSD) //XXX(rene) quick hack
d12 1
a12 1
@@@@ -106,6 +106,7 @@@@ void SerialGetDevicesFunction::Work() {
@


1.1
log
@update to 34.0.1847.116 and disable Werror for the future clang update
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/extensions/api/serial/serial_api.cc.orig.port	Wed Apr 16 12:46:41 2014
+++ chrome/browser/extensions/api/serial/serial_api.cc	Wed Apr 16 12:47:18 2014
@@@@ -83,7 +83,7 @@@@ bool SerialGetDevicesFunction::Prepare() {
d13 1
a13 1
@@@@ -105,6 +105,7 @@@@ void SerialGetDevicesFunction::Work() {
@

