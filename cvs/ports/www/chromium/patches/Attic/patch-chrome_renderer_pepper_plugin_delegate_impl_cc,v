head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2011.06.08.20.36.56;	author robert;	state dead;
branches;
next	1.3;

1.3
date	2011.04.29.13.18.01;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2011.03.16.10.52.46;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.15.11.38.05;	author robert;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to the new stable branch: 12.0.742.91
http://googlechromereleases.blogspot.com/2011/06/chrome-stable-release.html
@
text
@$OpenBSD: patch-chrome_renderer_pepper_plugin_delegate_impl_cc,v 1.3 2011/04/29 13:18:01 robert Exp $
--- chrome/renderer/pepper_plugin_delegate_impl.cc.orig	Thu Apr 28 11:44:58 2011
+++ chrome/renderer/pepper_plugin_delegate_impl.cc	Thu Apr 28 11:45:20 2011
@@@@ -54,7 +54,7 @@@@
 #include "webkit/plugins/ppapi/ppb_flash_impl.h"
 #include "webkit/plugins/ppapi/ppb_flash_net_connector_impl.h"
 
-#if defined(OS_MACOSX)
+#if defined(OS_MACOSX) || defined(OS_OPENBSD)
 #include "chrome/renderer/render_thread.h"
 #endif
 
@@@@ -81,7 +81,7 @@@@ class PlatformImage2DImpl
         dib_(dib) {
   }
 
-#if defined(OS_MACOSX)
+#if defined(OS_MACOSX) || defined(OS_OPENBSD)
   // On Mac, we have to tell the browser to free the transport DIB.
   virtual ~PlatformImage2DImpl() {
     if (dib_.get()) {
@@@@ -99,7 +99,7 @@@@ class PlatformImage2DImpl
     *byte_count = dib_->size();
 #if defined(OS_WIN)
     return reinterpret_cast<intptr_t>(dib_->handle());
-#elif defined(OS_MACOSX)
+#elif defined(OS_MACOSX) || defined(OS_OPENBSD)
     return static_cast<intptr_t>(dib_->handle().fd);
 #elif defined(OS_LINUX)
     return static_cast<intptr_t>(dib_->handle());
@@@@ -499,7 +499,7 @@@@ PepperPluginDelegateImpl::CreateImage2D(int width, int
   uint32 buffer_size = width * height * 4;
 
   // Allocate the transport DIB and the PlatformCanvas pointing to it.
-#if defined(OS_MACOSX)
+#if defined(OS_MACOSX) || defined(OS_OPENBSD)
   // On the Mac, shared memory has to be created in the browser in order to
   // work in the sandbox.  Do this by sending a message to the browser
   // requesting a TransportDIB (see also
@


1.3
log
@update to the latest stable version which is now 11.0.696.60
+ switch from using system sqlite to the bundled one because they have
  many modifications that are needed
+ add a new mirror for the distfile because the google one is utterly slow
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@Add some missing patches that were missed by the previous commit
and move back to KERN_PROC from KERN_PROC2 now that we can.
@
text
@d1 4
a4 5
$OpenBSD: patch-chrome_renderer_pepper_plugin_delegate_impl_cc,v 1.1 2011/03/15 11:38:05 robert Exp $
--- chrome/renderer/pepper_plugin_delegate_impl.cc.orig	Fri Mar 11 10:01:45 2011
+++ chrome/renderer/pepper_plugin_delegate_impl.cc	Wed Mar 16 10:31:35 2011
@@@@ -48,7 +48,7 @@@@
 #include "webkit/plugins/ppapi/ppapi_plugin_instance.h"
d6 1
a9 1
 #include "chrome/common/render_messages.h"
d12 2
a13 1
@@@@ -76,7 +76,7 @@@@ class PlatformImage2DImpl
d22 1
a22 1
@@@@ -94,7 +94,7 @@@@ class PlatformImage2DImpl
d31 1
a31 1
@@@@ -494,7 +494,7 @@@@ PepperPluginDelegateImpl::CreateImage2D(int width, int
@


1.1
log
@update to 10.0.648.133
@
text
@d1 3
a3 3
$OpenBSD$
--- chrome/renderer/pepper_plugin_delegate_impl.cc.orig	Mon Mar 14 17:17:52 2011
+++ chrome/renderer/pepper_plugin_delegate_impl.cc	Mon Mar 14 17:18:24 2011
d31 9
@

