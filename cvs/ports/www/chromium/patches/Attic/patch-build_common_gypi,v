head	1.47;
access;
symbols
	OPENBSD_6_0:1.45.0.2
	OPENBSD_6_0_BASE:1.45
	OPENBSD_5_9:1.42.0.2
	OPENBSD_5_9_BASE:1.42
	OPENBSD_5_8:1.35.0.4
	OPENBSD_5_8_BASE:1.35
	OPENBSD_5_7:1.31.0.2
	OPENBSD_5_7_BASE:1.31
	OPENBSD_5_6:1.24.0.2
	OPENBSD_5_6_BASE:1.24
	OPENBSD_5_5:1.20.0.2
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.16.0.2
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.2
	OPENBSD_5_0:1.8.0.2
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2;
locks; strict;
comment	@# @;


1.47
date	2016.08.17.11.06.50;	author robert;	state dead;
branches;
next	1.46;
commitid	ho0WBaBoHvorC0o0;

1.46
date	2016.07.31.13.11.44;	author robert;	state Exp;
branches;
next	1.45;
commitid	dRegVegviFQGKQZc;

1.45
date	2016.05.27.06.28.20;	author robert;	state Exp;
branches;
next	1.44;
commitid	cpiCcJ3vjht5tEkH;

1.44
date	2016.04.16.19.08.45;	author robert;	state Exp;
branches;
next	1.43;
commitid	SE10dvx9aTcZrjRO;

1.43
date	2016.03.06.10.51.14;	author robert;	state Exp;
branches;
next	1.42;
commitid	Upms3IeOsaLsGxbP;

1.42
date	2016.01.23.18.49.31;	author robert;	state Exp;
branches;
next	1.41;
commitid	KVrkvcBYFue8N3VB;

1.41
date	2015.12.12.22.55.23;	author sthen;	state Exp;
branches;
next	1.40;
commitid	yheWWyztwzBc9Kan;

1.40
date	2015.12.12.20.20.01;	author robert;	state Exp;
branches;
next	1.39;
commitid	pICiE7sceSszB2d2;

1.39
date	2015.12.05.16.13.32;	author robert;	state Exp;
branches;
next	1.38;
commitid	D0GFSwUDbKAnIs1m;

1.38
date	2015.10.24.09.10.35;	author robert;	state Exp;
branches;
next	1.37;
commitid	8y9xKxIunw8cVkhM;

1.37
date	2015.10.14.16.42.07;	author robert;	state Exp;
branches;
next	1.36;
commitid	iw6THZfJQngZlw1r;

1.36
date	2015.09.05.16.06.50;	author robert;	state Exp;
branches;
next	1.35;
commitid	rTmBXJaDIIWe1XKA;

1.35
date	2015.07.23.13.44.04;	author robert;	state Exp;
branches;
next	1.34;
commitid	vxhJdppNzKtP7lYz;

1.34
date	2015.05.24.15.51.52;	author robert;	state Exp;
branches;
next	1.33;
commitid	rFaYcWD2ntiXn5nr;

1.33
date	2015.04.27.16.38.25;	author robert;	state Exp;
branches;
next	1.32;
commitid	jwX00slFR1NY9xHC;

1.32
date	2015.03.18.19.26.29;	author robert;	state Exp;
branches;
next	1.31;
commitid	aPwx9j7rbIsa650M;

1.31
date	2015.01.24.18.07.46;	author sthen;	state Exp;
branches;
next	1.30;
commitid	OOJnCRnc9VCyAALT;

1.30
date	2015.01.22.11.16.40;	author robert;	state Exp;
branches;
next	1.29;
commitid	yDb21GVFY5iIUXUw;

1.29
date	2014.11.19.21.27.32;	author robert;	state Exp;
branches;
next	1.28;
commitid	Fr3Mh6eWvxxgNbvB;

1.28
date	2014.11.14.21.04.36;	author robert;	state Exp;
branches;
next	1.27;
commitid	8GeG8ezephDzABrX;

1.27
date	2014.10.13.06.49.19;	author robert;	state Exp;
branches;
next	1.26;
commitid	GAMY6AdJxC6cdD6g;

1.26
date	2014.09.15.06.29.56;	author robert;	state Exp;
branches;
next	1.25;
commitid	wrHoSdj9o4sHYCS0;

1.25
date	2014.09.11.19.04.52;	author robert;	state Exp;
branches;
next	1.24;
commitid	WrglT9ERNBhPArdd;

1.24
date	2014.07.20.17.22.33;	author robert;	state Exp;
branches;
next	1.23;
commitid	yFSQqywU9tg3Fhqe;

1.23
date	2014.05.24.15.27.34;	author robert;	state Exp;
branches;
next	1.22;

1.22
date	2014.04.17.16.27.53;	author robert;	state Exp;
branches;
next	1.21;

1.21
date	2014.03.11.14.52.01;	author robert;	state Exp;
branches;
next	1.20;

1.20
date	2014.01.18.11.42.03;	author robert;	state Exp;
branches;
next	1.19;

1.19
date	2013.12.12.10.43.18;	author robert;	state Exp;
branches;
next	1.18;

1.18
date	2013.10.29.06.51.34;	author robert;	state Exp;
branches;
next	1.17;

1.17
date	2013.09.29.19.04.00;	author robert;	state Exp;
branches;
next	1.16;

1.16
date	2013.07.15.14.59.30;	author robert;	state Exp;
branches;
next	1.15;

1.15
date	2013.05.30.18.42.18;	author robert;	state Exp;
branches;
next	1.14;

1.14
date	2013.04.03.08.19.10;	author robert;	state Exp;
branches;
next	1.13;

1.13
date	2012.02.17.10.19.50;	author robert;	state dead;
branches;
next	1.12;

1.12
date	2011.12.14.16.58.19;	author robert;	state Exp;
branches;
next	1.11;

1.11
date	2011.10.27.07.59.08;	author robert;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.19.08.55.26;	author robert;	state Exp;
branches;
next	1.9;

1.9
date	2011.08.16.08.17.44;	author robert;	state Exp;
branches;
next	1.8;

1.8
date	2011.06.15.19.41.02;	author robert;	state Exp;
branches;
next	1.7;

1.7
date	2011.06.08.20.36.56;	author robert;	state Exp;
branches;
next	1.6;

1.6
date	2011.05.26.11.39.14;	author robert;	state Exp;
branches;
next	1.5;

1.5
date	2011.04.29.13.18.01;	author robert;	state Exp;
branches;
next	1.4;

1.4
date	2011.04.15.10.10.27;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2011.03.15.11.38.05;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2011.02.08.09.43.02;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.13.09.51.45;	author espie;	state Exp;
branches;
next	;


desc
@@


1.47
log
@Move chromium to the new build system (gn - generate ninja)

This commit moves the chromium port to use gn to generate ninja files
which will hopefully resolve the random build errors. Gyp is dead so
this move has to be done anyway.

Also change the way how we handle openbsd. Let's assume we are running
on linux and only handle !linux cases where needed. This also ensures
that a change on linux will for sure end up in our builds as well.
@
text
@$OpenBSD: patch-build_common_gypi,v 1.46 2016/07/31 13:11:44 robert Exp $
--- build/common.gypi.orig.port	Thu Jul 21 10:29:22 2016
+++ build/common.gypi	Thu Jul 21 10:31:56 2016
@@@@ -1641,7 +1641,7 @@@@
       ['OS=="win"', {
         'windows_driver_kit_path%': '$(WDK_DIR)',
       }],
-      ['os_posix==1 and OS!="mac" and OS!="ios"', {
+      ['os_posix==1 and OS!="mac" and OS!="ios" and OS!="openbsd"', {
         'conditions': [
           ['target_arch=="mipsel" or target_arch=="mips64el"', {
             'werror%': '',
@@@@ -3573,6 +3573,13 @@@@
     },
   },
   'conditions': [
+    ['OS=="openbsd"', {
+      'target_defaults': {
+        'cflags': [
+          '-Wno-unknown-warning-option',
+        ],
+      },
+    }],
     ['os_posix==1', {
       'target_defaults': {
         'ldflags': [
@@@@ -5955,8 +5962,8 @@@@
     ['clang==1 and ((OS!="mac" and OS!="ios") or clang_xcode==0) '
         'and OS!="win"', {
       'make_global_settings': [
-        ['CC', '<(make_clang_dir)/bin/clang'],
-        ['CXX', '<(make_clang_dir)/bin/clang++'],
+        ['CC', '/usr/local/bin/clang'],
+        ['CXX', '/usr/local/bin/clang++'],
         ['CC.host', '$(CC)'],
         ['CXX.host', '$(CXX)'],
       ],
@


1.46
log
@update to 52.0.2743.82
@
text
@d1 1
a1 1
$OpenBSD$
@


1.45
log
@update to 51.0.2704.63
@
text
@d1 4
a4 65
$OpenBSD: patch-build_common_gypi,v 1.44 2016/04/16 19:08:45 robert Exp $
--- build/common.gypi.orig.port	Wed May 25 21:00:55 2016
+++ build/common.gypi	Thu May 26 08:09:40 2016
@@@@ -113,7 +113,7 @@@@
 
           'conditions': [
             # Windows and Linux use Aura, but not Ash.
-            ['OS=="win" or OS=="linux"', {
+            ['OS=="win" or OS=="linux" or OS=="openbsd"', {
               'use_aura%': 1,
             }],
 
@@@@ -255,13 +255,13 @@@@
           }],
 
           # Enable HiDPI on Mac OS, Windows and Linux (including Chrome OS).
-          ['OS=="mac" or OS=="win" or OS=="linux"', {
+          ['OS=="mac" or OS=="win" or OS=="linux" or OS=="openbsd"', {
             'enable_hidpi%': 1,
           }],
 
           # Enable Top Chrome Material Design on Chrome OS, Windows, and Linux,
           # and Mac.
-          ['chromeos==1 or OS=="win" or OS=="linux" or OS=="mac"', {
+          ['chromeos==1 or OS=="win" or OS=="linux" or OS=="mac" or OS=="openbsd"', {
             'enable_topchrome_md%': 1,
           }],
 
@@@@ -790,7 +790,7 @@@@
         }],
 
         # DBus usage.
-        ['OS=="linux" and embedded==0', {
+        ['(OS=="linux" or OS=="openbsd") and embedded==0', {
           'use_dbus%': 1,
         }, {
           'use_dbus%': 0,
@@@@ -892,7 +892,7 @@@@
 
         # Use GPU accelerated cross process image transport by default
         # on linux builds with the Aura window manager
-        ['use_aura==1 and OS=="linux"', {
+        ['use_aura==1 and (OS=="linux" or OS=="openbsd")', {
           'ui_compositor_image_transport%': 1,
         }, {
           'ui_compositor_image_transport%': 0,
@@@@ -1005,7 +1005,7 @@@@
         # --help for more information. Meant to be overriden with GYP_DEFINES.
         # TODO(maruel): Remove the conditions as more configurations are
         # supported.
-        ['OS!="ios" and OS!="android" and chromeos==0', {
+        ['OS!="ios" and OS!="android" and chromeos==0 and OS!="openbsd"', {
           'test_isolation_mode%': 'check',
         }, {
           'test_isolation_mode%': 'noop',
@@@@ -1021,7 +1021,7 @@@@
         }, {
           'use_openmax_dl_fft%': 0,
         }],
-        ['OS=="win" or OS=="linux"', {
+        ['OS=="win" or OS=="linux" or OS=="openbsd"', {
           'enable_mdns%' : 1,
         }],
 
@@@@ -1663,7 +1663,7 @@@@
d13 1
a13 1
@@@@ -3594,6 +3594,13 @@@@
d27 1
a27 10
@@@@ -4719,7 +4726,7 @@@@
     }],
     # FreeBSD-specific options; note that most FreeBSD options are set above,
     # with Linux.
-    ['OS=="freebsd"', {
+    ['OS=="freebsd" or OS=="openbsd"', {
       'target_defaults': {
         'ldflags': [
           '-Wl,--no-keep-memory',
@@@@ -6005,8 +6012,8 @@@@
@


1.44
log
@update to 50.0.2661.75
@
text
@d1 4
a4 4
$OpenBSD$
--- build/common.gypi.orig.port	Thu Apr 14 08:30:54 2016
+++ build/common.gypi	Thu Apr 14 08:35:16 2016
@@@@ -112,7 +112,7 @@@@
d13 1
a13 1
@@@@ -254,13 +254,13 @@@@
d29 1
a29 1
@@@@ -778,7 +778,7 @@@@
d38 1
a38 1
@@@@ -881,7 +881,7 @@@@
d47 1
a47 1
@@@@ -987,7 +987,7 @@@@
d56 1
a56 1
@@@@ -1003,7 +1003,7 @@@@
d65 1
a65 1
@@@@ -1633,7 +1633,7 @@@@
d74 1
a74 1
@@@@ -3592,6 +3592,13 @@@@
d88 1
a88 1
@@@@ -4710,7 +4717,7 @@@@
d97 1
a97 1
@@@@ -6003,8 +6010,8 @@@@
@


1.43
log
@update to 49.0.2623.75
@
text
@d2 2
a3 2
--- build/common.gypi.orig.port	Wed Feb 24 21:01:30 2016
+++ build/common.gypi	Thu Mar  3 17:37:31 2016
d7 1
a7 1
             # Windows and Linux (including Chrome OS) use Aura and Ash.
a9 1
               'use_ash%': 1,
d12 2
a13 1
@@@@ -249,12 +249,12 @@@@
d22 4
a25 3
           # Enable Top Chrome Material Design on Chrome OS, Windows, and Linux.
-          ['chromeos==1 or OS=="win" or OS=="linux"', {
+          ['chromeos==1 or OS=="win" or OS=="linux" or OS=="openbsd"', {
d29 1
a29 1
@@@@ -784,7 +784,7 @@@@
d38 1
a38 1
@@@@ -889,7 +889,7 @@@@
d47 1
a47 1
@@@@ -995,7 +995,7 @@@@
d56 1
a56 1
@@@@ -1011,7 +1011,7 @@@@
d65 1
a65 1
@@@@ -1636,7 +1636,7 @@@@
d74 1
a74 1
@@@@ -3613,6 +3613,13 @@@@
d88 1
a88 1
@@@@ -4735,7 +4742,7 @@@@
d93 1
a93 1
+    ['OS=="openbsd"', {
d97 1
a97 1
@@@@ -6031,8 +6038,8 @@@@
@


1.42
log
@update to 48.0.2564.82
@
text
@d1 4
a4 4
$OpenBSD: patch-build_common_gypi,v 1.41 2015/12/12 22:55:23 sthen Exp $
--- build/common.gypi.orig.port	Wed Jan 20 21:01:18 2016
+++ build/common.gypi	Fri Jan 22 19:58:58 2016
@@@@ -105,7 +105,7 @@@@
d13 1
a13 1
@@@@ -229,12 +229,12 @@@@
d28 1
a28 1
@@@@ -761,7 +761,7 @@@@
d37 1
a37 1
@@@@ -868,7 +868,7 @@@@
d46 1
a46 1
@@@@ -974,7 +974,7 @@@@
d55 1
a55 1
@@@@ -990,7 +990,7 @@@@
d61 1
a61 1
             'enable_mdns%' : 1,
d64 1
a64 1
@@@@ -1617,7 +1617,7 @@@@
d73 1
a73 1
@@@@ -3609,6 +3609,13 @@@@
d87 1
a87 1
@@@@ -4695,7 +4702,7 @@@@
d96 1
a96 1
@@@@ -5980,8 +5987,8 @@@@
@


1.41
log
@Disable upstream's attempt to use a 64-bit linker for i386 ("ia32") builds
ok robert@@
@
text
@d1 3
a3 3
$OpenBSD: patch-build_common_gypi,v 1.40 2015/12/12 20:20:01 robert Exp $
--- build/common.gypi.orig.port	Tue Dec  8 21:02:47 2015
+++ build/common.gypi	Sat Dec 12 14:14:55 2015
d28 1
a28 1
@@@@ -767,7 +767,7 @@@@
d37 1
a37 1
@@@@ -879,7 +879,7 @@@@
d46 1
a46 1
@@@@ -985,7 +985,7 @@@@
d55 1
a55 1
@@@@ -1001,7 +1001,7 @@@@
d64 1
a64 1
@@@@ -1624,7 +1624,7 @@@@
d73 1
a73 1
@@@@ -3641,6 +3641,13 @@@@
d87 1
a87 1
@@@@ -4727,7 +4734,7 @@@@
d96 1
a96 1
@@@@ -5954,8 +5961,8 @@@@
@


1.40
log
@remove unused patches up and enable some more functionalty like HiDPI support
@
text
@d1 1
a1 1
$OpenBSD: patch-build_common_gypi,v 1.39 2015/12/05 16:13:32 robert Exp $
d64 9
@


1.39
log
@update to 47.0.2526.73
@
text
@d1 3
a3 3
$OpenBSD: patch-build_common_gypi,v 1.38 2015/10/24 09:10:35 robert Exp $
--- build/common.gypi.orig.port	Tue Nov 24 21:00:52 2015
+++ build/common.gypi	Wed Dec  2 08:18:32 2015
d13 15
@


1.38
log
@update to 46.0.2490.80
@
text
@d1 3
a3 3
$OpenBSD: patch-build_common_gypi,v 1.37 2015/10/14 16:42:07 robert Exp $
--- build/common.gypi.orig.port	Tue Oct 13 21:04:30 2015
+++ build/common.gypi	Thu Oct 22 21:05:18 2015
d13 1
a13 1
@@@@ -773,7 +773,7 @@@@
d22 1
a22 1
@@@@ -887,7 +887,7 @@@@
d31 1
a31 1
@@@@ -986,7 +986,7 @@@@
d40 1
a40 1
@@@@ -1002,7 +1002,7 @@@@
d49 1
a49 1
@@@@ -3654,6 +3654,13 @@@@
d63 1
a63 1
@@@@ -4745,7 +4752,7 @@@@
d72 1
a72 1
@@@@ -5986,8 +5993,8 @@@@
@


1.37
log
@update to 46.0.2490.71
@
text
@d1 1
a1 1
$OpenBSD: patch-build_common_gypi,v 1.36 2015/09/05 16:06:50 robert Exp $
d3 1
a3 1
+++ build/common.gypi	Wed Oct 14 07:41:13 2015
d49 1
a49 1
@@@@ -3654,6 +3654,14 @@@@
a55 1
+          '-fno-stack-protector',
d63 1
a63 1
@@@@ -4745,7 +4753,7 @@@@
d72 1
a72 1
@@@@ -5986,8 +5994,8 @@@@
@


1.36
log
@update to 45.0.2454.85
@
text
@d1 3
a3 3
$OpenBSD$
--- build/common.gypi.orig.port	Wed Sep  2 07:33:36 2015
+++ build/common.gypi	Wed Sep  2 07:36:10 2015
d13 1
a13 1
@@@@ -767,7 +767,7 @@@@
d22 1
a22 1
@@@@ -880,7 +880,7 @@@@
d31 1
a31 1
@@@@ -981,7 +981,7 @@@@
d40 1
a40 1
@@@@ -997,7 +997,7 @@@@
d49 1
a49 1
@@@@ -3612,6 +3612,14 @@@@
d64 1
a64 1
@@@@ -4693,7 +4701,7 @@@@
d73 1
a73 1
@@@@ -5939,8 +5947,8 @@@@
@


1.35
log
@update to 44.0.2403.89
@
text
@d1 4
a4 4
$OpenBSD: patch-build_common_gypi,v 1.34 2015/05/24 15:51:52 robert Exp $
--- build/common.gypi.orig.port	Wed Jul 15 22:29:56 2015
+++ build/common.gypi	Wed Jul 22 08:37:29 2015
@@@@ -97,7 +97,7 @@@@
d7 3
a9 3
             # ChromeOS and Windows use Aura and Ash.
-            ['chromeos==1 or OS=="win" or OS=="linux"', {
+            ['chromeos==1 or OS=="win" or OS=="linux" or OS=="openbsd"', {
d13 1
a13 1
@@@@ -735,7 +735,7 @@@@
d22 1
a22 1
@@@@ -845,7 +845,7 @@@@
d31 1
a31 1
@@@@ -970,7 +970,7 @@@@
d40 1
a40 1
@@@@ -986,7 +986,7 @@@@
d49 1
a49 1
@@@@ -3561,6 +3561,14 @@@@
d64 1
a64 1
@@@@ -4626,7 +4634,7 @@@@
d73 1
a73 1
@@@@ -5860,8 +5868,8 @@@@
@


1.34
log
@update to 43.0.2357.65
@
text
@d1 4
a4 4
$OpenBSD: patch-build_common_gypi,v 1.33 2015/04/27 16:38:25 robert Exp $
--- build/common.gypi.orig.port	Thu May 14 00:35:44 2015
+++ build/common.gypi	Wed May 20 08:34:56 2015
@@@@ -94,7 +94,7 @@@@
d13 1
a13 1
@@@@ -725,7 +725,7 @@@@
d22 1
a22 1
@@@@ -831,7 +831,7 @@@@
d31 1
a31 1
@@@@ -958,7 +958,7 @@@@
d40 1
a40 1
@@@@ -974,7 +974,7 @@@@
d49 1
a49 1
@@@@ -3527,6 +3527,14 @@@@
d64 1
a64 1
@@@@ -4598,7 +4606,7 @@@@
d73 1
a73 1
@@@@ -5772,8 +5780,8 @@@@
@


1.33
log
@update to 42.0.2311.90
@
text
@d1 3
a3 3
$OpenBSD: patch-build_common_gypi,v 1.32 2015/03/18 19:26:29 robert Exp $
--- build/common.gypi.orig.port	Wed Apr 15 00:31:20 2015
+++ build/common.gypi	Thu Apr 23 08:26:31 2015
d13 1
a13 1
@@@@ -694,7 +694,7 @@@@
d22 1
a22 1
@@@@ -803,7 +803,7 @@@@
d31 1
a31 1
@@@@ -928,7 +928,7 @@@@
d40 1
a40 1
@@@@ -944,7 +944,7 @@@@
d49 1
a49 1
@@@@ -3488,6 +3488,14 @@@@
d64 1
a64 1
@@@@ -4474,7 +4482,7 @@@@
d73 1
a73 1
@@@@ -5754,8 +5762,8 @@@@
@


1.32
log
@update to 41.0.2272.89
@
text
@d1 3
a3 3
$OpenBSD: patch-build_common_gypi,v 1.31 2015/01/24 18:07:46 sthen Exp $
--- build/common.gypi.orig.port	Tue Mar 10 23:41:39 2015
+++ build/common.gypi	Wed Mar 11 07:22:50 2015
d13 10
a22 1
@@@@ -800,7 +800,7 @@@@
d31 1
a31 1
@@@@ -925,7 +925,7 @@@@
d40 1
a40 1
@@@@ -941,7 +941,7 @@@@
d49 1
a49 1
@@@@ -3510,6 +3510,14 @@@@
d64 1
a64 1
@@@@ -4460,7 +4468,7 @@@@
d73 1
a73 1
@@@@ -5696,8 +5704,8 @@@@
@


1.31
log
@Repair chromium builds on i386, we are bumping into the hard 2GB MAXDSIZ
limit during linking:

- use --no-keep-memory
- disable pdf support on i386
(conditionalize the libpdf.so PLIST entry based on arch)

We are still very close to the limit and I suspect it may still intermittently
fail.

ok robert@@
@
text
@d1 3
a3 3
$OpenBSD: patch-build_common_gypi,v 1.30 2015/01/22 11:16:40 robert Exp $
--- build/common.gypi.orig.port	Wed Jan 21 13:28:14 2015
+++ build/common.gypi	Sat Jan 24 04:26:54 2015
d13 1
a13 1
@@@@ -827,7 +827,7 @@@@
d22 1
a22 1
@@@@ -952,7 +952,7 @@@@
d31 1
a31 1
@@@@ -968,7 +968,7 @@@@
d40 1
a40 1
@@@@ -3520,6 +3520,14 @@@@
d55 1
a55 1
@@@@ -4477,7 +4485,7 @@@@
d64 1
a64 1
@@@@ -5778,8 +5786,8 @@@@
@


1.30
log
@update to 40.0.2214.91
@
text
@d1 3
a3 3
$OpenBSD$
--- build/common.gypi.orig.port	Thu Dec 18 10:40:58 2014
+++ build/common.gypi	Sun Dec 21 15:30:56 2014
d55 9
@


1.29
log
@update to 39.0.2171.65
@
text
@d1 4
a4 4
$OpenBSD: patch-build_common_gypi,v 1.28 2014/11/14 21:04:36 robert Exp $
--- build/common.gypi.orig.port	Wed Nov 19 06:13:07 2014
+++ build/common.gypi	Wed Nov 19 08:38:24 2014
@@@@ -91,7 +91,7 @@@@
d13 1
a13 1
@@@@ -809,7 +809,7 @@@@
d22 4
a25 4
@@@@ -936,7 +936,7 @@@@
         # NOTE: The check for disable_nacl==0 and component=="static_library"
         # can't be used here because these variables are not defined yet, but it
         # is still not supported.
d31 1
a31 1
@@@@ -952,7 +952,7 @@@@
d40 4
a43 4
@@@@ -3517,6 +3517,14 @@@@
         ],
       },
     }],
d52 1
a52 1
     ['os_posix==1 and OS!="mac" and OS!="ios"', {
d54 2
a55 2
         # Enable -Werror by default, but put it in a variable so it can
@@@@ -5683,8 +5691,8 @@@@
@


1.28
log
@update to 38.0.2125.122
@
text
@d1 3
a3 3
$OpenBSD: patch-build_common_gypi,v 1.27 2014/10/13 06:49:19 robert Exp $
--- build/common.gypi.orig.port	Thu Nov 13 23:01:51 2014
+++ build/common.gypi	Fri Nov 14 22:03:05 2014
d13 1
a13 1
@@@@ -782,7 +782,7 @@@@
d22 1
a22 1
@@@@ -915,7 +915,7 @@@@
d31 1
a31 1
@@@@ -931,7 +931,7 @@@@
d40 1
a40 1
@@@@ -3425,6 +3425,14 @@@@
d55 1
a55 1
@@@@ -5550,8 +5558,8 @@@@
@


1.27
log
@update to 38.0.2125.101
@
text
@d1 3
a3 3
$OpenBSD: patch-build_common_gypi,v 1.26 2014/09/15 06:29:56 robert Exp $
--- build/common.gypi.orig.port	Thu Oct  2 19:39:45 2014
+++ build/common.gypi	Sat Oct 11 09:51:07 2014
d55 1
a55 1
@@@@ -5547,8 +5555,8 @@@@
@


1.26
log
@use GPU accelerated cross process image transport on openbsd as well
@
text
@d1 4
a4 4
$OpenBSD: patch-build_common_gypi,v 1.25 2014/09/11 19:04:52 robert Exp $
--- build/common.gypi.orig.port	Wed Sep 10 01:47:11 2014
+++ build/common.gypi	Sat Sep 13 14:21:07 2014
@@@@ -87,7 +87,7 @@@@
d13 1
a13 1
@@@@ -754,7 +754,7 @@@@
d22 1
a22 1
@@@@ -887,7 +887,7 @@@@
d31 10
a40 1
@@@@ -3311,6 +3311,14 @@@@
d55 1
a55 1
@@@@ -5385,8 +5393,8 @@@@
@


1.25
log
@update to 37.0.2062.120
@
text
@d1 1
a1 1
$OpenBSD: patch-build_common_gypi,v 1.24 2014/07/20 17:22:33 robert Exp $
d3 1
a3 1
+++ build/common.gypi	Wed Sep 10 22:28:34 2014
d13 9
@


1.24
log
@update to 36.0.1985.125;

from this release Chromium uses Aura instead of Gtk+ so the UI will look
a bit different, and that is completely normal.
@
text
@d1 13
a13 4
$OpenBSD$
--- build/common.gypi.orig.port	Tue Jul 15 13:03:13 2014
+++ build/common.gypi	Sat Jul 19 01:01:48 2014
@@@@ -857,7 +857,7 @@@@
d22 1
a22 10
@@@@ -896,7 +896,7 @@@@
         # except when building Android WebView.
         # TODO(jshin): Handle 'use_system_icu' on Linux (Chromium).
         # Set the data reduction proxy origin for Android Webview.
-        ['android_webview_build==0', {
+        ['android_webview_build==0 and OS!="freebsd" and OS!="openbsd"', {
           'icu_use_data_file_flag%' : 1,
           'spdy_proxy_auth_origin%': '',
           'data_reduction_proxy_probe_url%': '',
@@@@ -3177,6 +3177,14 @@@@
d37 1
a37 1
@@@@ -5158,8 +5166,8 @@@@
@


1.23
log
@update to 35.0.1916.114
@
text
@d2 3
a4 12
--- build/common.gypi.orig.port	Thu May 22 21:46:17 2014
+++ build/common.gypi	Fri May 23 18:24:14 2014
@@@@ -297,7 +297,7 @@@@
       'image_loader_extension%': 0,
 
       # Python version.
-      'python_ver%': '2.6',
+      'python_ver%': '2.7',
 
       # Set NEON compilation flags.
       'arm_neon%': 1,
@@@@ -836,7 +836,7 @@@@
d13 1
a13 2
@@@@ -878,7 +878,7 @@@@
         # By default, use ICU data file (icudtl.dat) on all platforms
d16 1
d20 3
a22 3
         }, {
           'icu_use_data_file_flag%' : 0,
@@@@ -3111,6 +3111,14 @@@@
d37 1
a37 1
@@@@ -5114,8 +5122,8 @@@@
@


1.22
log
@update to 34.0.1847.116 and disable Werror for the future clang update
@
text
@d2 3
a4 3
--- build/common.gypi.orig.port	Wed Apr  2 21:03:54 2014
+++ build/common.gypi	Wed Apr 16 22:52:50 2014
@@@@ -269,7 +269,7 @@@@
d13 1
a13 1
@@@@ -781,7 +781,7 @@@@
d22 10
a31 10
@@@@ -1322,7 +1322,7 @@@@
           # TODO(jungshik): Turn this on on Android.
           # For ChromeOS, this should be turned on in chromeos-chrome.ebuild
           # file as well by adding icu_use_data_file_flag=1 to BUILD_DEFINES.
-          ['OS!="android"', {
+          ['OS!="android" and OS!="openbsd"', {
             'icu_use_data_file_flag%': 1,
           }],
         ],
@@@@ -2969,6 +2969,14 @@@@
d46 1
a46 10
@@@@ -3411,7 +3419,7 @@@@
               # Clang considers the `register` keyword as deprecated, but e.g.
               # code generated by flex (used in angle) contains that keyword.
               # http://crbug.com/255186
-              '-Wno-deprecated-register',
+              # '-Wno-deprecated-register',
             ],
             'cflags!': [
               # Clang doesn't seem to know know this flag.
@@@@ -4883,8 +4891,8 @@@@
@


1.21
log
@update to 33.0.1750.146
@
text
@d2 3
a4 3
--- build/common.gypi.orig.port	Fri Feb 21 19:40:46 2014
+++ build/common.gypi	Fri Feb 21 19:42:41 2014
@@@@ -280,7 +280,7 @@@@
d13 1
a13 1
@@@@ -789,7 +789,7 @@@@
d17 2
a18 2
-        ['OS!="mac" and OS!="ios" and OS!="android" and chromeos==0', {
+        ['OS!="mac" and OS!="ios" and OS!="android" and chromeos==0 and OS!="openbsd"', {
d22 10
a31 10
@@@@ -1283,7 +1283,7 @@@@
       }],
       ['os_posix==1 and OS!="mac" and OS!="ios"', {
         # Figure out the python architecture to decide if we build pyauto.
-        'python_arch%': '<!(<(DEPTH)/build/linux/python_arch.sh <(sysroot)/usr/<(system_libdir)/libpython<(python_ver).so.1.0)',
+        'python_arch%': '<!(<(DEPTH)/build/linux/python_arch.sh <(sysroot)/usr/local/<(system_libdir)/libpython<(python_ver).so.0.0)',
         'conditions': [
           ['target_arch=="mipsel"', {
             'werror%': '',
@@@@ -2911,6 +2911,14 @@@@
d46 1
a46 1
@@@@ -3335,7 +3343,7 @@@@
d55 3
a57 3
@@@@ -4688,8 +4696,8 @@@@
     }],
     ['clang==1', {
@


1.20
log
@update to 32.0.1700.76
@
text
@d2 3
a4 3
--- build/common.gypi.orig.port	Thu Jan 16 12:28:43 2014
+++ build/common.gypi	Thu Jan 16 12:49:12 2014
@@@@ -223,7 +223,7 @@@@
d13 1
a13 1
@@@@ -709,7 +709,7 @@@@
d22 1
a22 1
@@@@ -1187,7 +1187,7 @@@@
d31 1
a31 1
@@@@ -2810,6 +2810,14 @@@@
d46 1
a46 1
@@@@ -3234,7 +3242,7 @@@@
d52 14
a65 23
 
               # This warns about auto_ptr<>, used in third-party code.
               '-Wno-deprecated-declarations',
@@@@ -4590,15 +4598,15 @@@@
         ['OS=="android"', {
           # Android could use the goma with clang.
           'make_global_settings': [
-            ['CC', '<!(/bin/echo -n ${ANDROID_GOMA_WRAPPER} ${CHROME_SRC}/<(make_clang_dir)/bin/clang)'],
-            ['CXX', '<!(/bin/echo -n ${ANDROID_GOMA_WRAPPER} ${CHROME_SRC}/<(make_clang_dir)/bin/clang++)'],
+            ['CC', '/usr/local/bin/clang'],
+            ['CXX', '/usr/local/bin/clang++'],
             ['CC.host', '$(CC)'],
             ['CXX.host', '$(CXX)'],
           ],
         }, {
           'make_global_settings': [
-            ['CC', '<(make_clang_dir)/bin/clang'],
-            ['CXX', '<(make_clang_dir)/bin/clang++'],
+            ['CC', '/usr/local/bin/clang'],
+            ['CXX', '/usr/local/bin/clang++'],
             ['CC.host', '$(CC)'],
             ['CXX.host', '$(CXX)'],
           ],
@


1.19
log
@update to 31.0.1650.63
@
text
@d1 3
a3 3
$OpenBSD: patch-build_common_gypi,v 1.18 2013/10/29 06:51:34 robert Exp $
--- build/common.gypi.orig.port	Wed Dec  4 21:56:09 2013
+++ build/common.gypi	Thu Dec  5 15:32:45 2013
a10 1
 
d12 2
a13 1
@@@@ -711,7 +711,7 @@@@
d22 1
a22 1
@@@@ -1185,7 +1185,7 @@@@
d31 1
a31 1
@@@@ -2775,6 +2775,14 @@@@
d46 1
a46 1
@@@@ -3208,7 +3216,7 @@@@
d52 13
a64 4
             ],
             'cflags!': [
               # Clang doesn't seem to know know this flag.
@@@@ -4624,8 +4632,8 @@@@
a71 1
             ['LINK', '$(CXX)'],
d74 1
@


1.18
log
@update to 30.0.1599.101
@
text
@d1 4
a4 4
$OpenBSD: patch-build_common_gypi,v 1.17 2013/09/29 19:04:00 robert Exp $
--- build/common.gypi.orig.port	Fri Oct 11 19:29:16 2013
+++ build/common.gypi	Mon Oct 28 14:04:28 2013
@@@@ -224,7 +224,7 @@@@
d13 1
a13 1
@@@@ -695,7 +695,7 @@@@
d22 1
a22 1
@@@@ -1163,7 +1163,7 @@@@
d31 1
a31 1
@@@@ -2746,6 +2746,14 @@@@
d46 1
a46 1
@@@@ -3179,7 +3187,7 @@@@
d55 1
a55 1
@@@@ -4615,8 +4623,8 @@@@
@


1.17
log
@update to 29.0.1547.76
@
text
@d1 13
a13 4
$OpenBSD$
--- build/common.gypi.orig.port	Sun Sep 22 16:19:30 2013
+++ build/common.gypi	Sun Sep 22 16:20:16 2013
@@@@ -672,7 +672,7 @@@@
d22 34
a55 1
@@@@ -4503,8 +4503,8 @@@@
@


1.16
log
@update to 28.0.1500.45
@
text
@d1 4
a4 4
$OpenBSD: patch-build_common_gypi,v 1.15 2013/05/30 18:42:18 robert Exp $
--- build/common.gypi.orig.port	Wed Jun 12 09:28:37 2013
+++ build/common.gypi	Sun Jul  7 16:03:49 2013
@@@@ -673,7 +673,7 @@@@
d8 2
a9 2
-        ['inside_chromium_build==1 and OS!="mac" and OS!="ios" and OS!="android" and chromeos==0', {
+        ['inside_chromium_build==1 and OS!="mac" and OS!="ios" and OS!="android" and chromeos==0 and OS!="openbsd"', {
d13 1
a13 1
@@@@ -4383,8 +4383,8 @@@@
@


1.15
log
@update to 27.0.1453.93
@
text
@d1 13
a13 4
$OpenBSD: patch-build_common_gypi,v 1.14 2013/04/03 08:19:10 robert Exp $
--- build/common.gypi.orig.port	Fri May 17 22:44:40 2013
+++ build/common.gypi	Thu May 30 00:10:48 2013
@@@@ -4100,8 +4100,8 @@@@
@


1.14
log
@- update to 26.0.1410.43
- switch chromium to use clang/llvm instead of gcc
- switch back to the internal libvpx because it's an unreleased version
  at this point
- re-enable SSE2 support
@
text
@d1 4
a4 4
$OpenBSD$
--- build/common.gypi.orig.port	Fri Mar 22 02:13:42 2013
+++ build/common.gypi	Tue Apr  2 21:05:17 2013
@@@@ -3956,8 +3956,8 @@@@
@


1.13
log
@update to 17.0.963.56
@
text
@d1 14
a14 28
$OpenBSD: patch-build_common_gypi,v 1.12 2011/12/14 16:58:19 robert Exp $
--- build/common.gypi.orig	Tue Dec 13 21:29:10 2011
+++ build/common.gypi	Tue Dec 13 21:40:53 2011
@@@@ -1149,9 +1149,11 @@@@
               '-Wextra',
               '-Werror',
             ],
-            'cflags': [
+            'ccflags': [
               # Don't warn about hash_map in third-party code.
               '-Wno-deprecated',
+            ],
+            'cflags': [
               # Don't warn about printf format problems.
               # This is off by default in gcc but on in Ubuntu's gcc(!).
               '-Wno-format',
@@@@ -1242,7 +1244,10 @@@@
               ['exclude', '(^|/)(wayland)_[^/]*\\.(h|cc)$'],
             ],
           }],
-          ['OS!="linux"', {
+          # Do not exclude the linux files on OpenBSD since most of them can be
+          # shared at this point.
+          # In case a file is not needed, it is going to be excluded later on.
+          ['OS!="linux" and OS!="openbsd"', {
             'sources/': [
               ['exclude', '_linux(_unittest)?\\.(h|cc)$'],
               ['exclude', '(^|/)linux/'],
@


1.12
log
@update to 16.0.912.63
@
text
@d1 1
a1 1
$OpenBSD$
@


1.11
log
@update to 15.0.874.102.

switch from using the hacked macosx transport dib to the linux one
which uses sysv shms.
make sure you also have a current kernel before using this version
@
text
@d2 3
a4 3
--- build/common.gypi.orig	Wed Oct 26 13:56:52 2011
+++ build/common.gypi	Wed Oct 26 14:22:38 2011
@@@@ -960,9 +960,11 @@@@
d9 1
a9 1
+            'cflags_cc': [
d17 1
a17 10
@@@@ -973,7 +975,7 @@@@
               '-Wsign-compare',
             ]
           }],
-          [ 'os_posix==1 and OS!="mac" and chromeos==0', {
+          [ 'os_posix==1 and OS!="mac" and OS!="openbsd" and chromeos==0', {
             'cflags': [
               # Don't warn about ignoring the return value from e.g. close().
               # This is off by default in some gccs but on by default in others.
@@@@ -1045,7 +1047,10 @@@@
@


1.10
log
@update to 14.0.835.163
@
text
@d2 26
a27 31
--- build/common.gypi.orig	Fri Sep 16 18:18:11 2011
+++ build/common.gypi	Sat Sep 17 11:23:00 2011
@@@@ -131,7 +131,7 @@@@
       'webui_task_manager%': 0,
 
       # Python version.
-      'python_ver%': '2.6',
+      'python_ver%': '2.7',
 
       # Set ARM-v7 compilation flags
       'armv7%': 0,
@@@@ -255,7 +255,7 @@@@
         }],
 
         # Enable smooth scrolling for Linux and ChromeOS
-        ['OS=="linux"', {
+        ['OS=="linux" or OS=="openbsd"', {
           'enable_smooth_scrolling%': 1,
         }, {
           'enable_smooth_scrolling%': 0,
@@@@ -516,7 +516,7 @@@@
         # This is used to tweak build flags for gcc 4.4.
         'gcc_version%': '<!(python <(DEPTH)/build/compiler_version.py)',
         # Figure out the python architecture to decide if we build pyauto.
-        'python_arch%': '<!(<(DEPTH)/build/linux/python_arch.sh <(sysroot)/usr/lib/libpython<(python_ver).so.1.0)',
+	'python_arch%': '<!(<(DEPTH)/build/linux/python_arch.sh <(sysroot)/usr/local/lib/libpython<(python_ver).so.1.0)',
         'conditions': [
           ['branding=="Chrome"', {
             'linux_breakpad%': 1,
@@@@ -956,7 +956,7 @@@@
               ['exclude', '(^|/)(gtk|x11)_[^/]*\\.(h|cc)$'],
d31 3
a37 18
@@@@ -1088,7 +1088,7 @@@@
           },
         },
         'conditions': [
-          ['OS=="linux"', {
+          ['OS=="linux" or OS=="openbsd"', {
             'cflags': [
               '<@@(debug_extra_cflags)',
             ],
@@@@ -1148,7 +1148,7 @@@@
           ['win_use_allocator_shim==0', {
             'defines': ['NO_TCMALLOC'],
           }],
-          ['OS=="linux"', {
+          ['OS=="linux" or OS=="openbsd"', {
             'cflags': [
              '<@@(release_extra_cflags)',
             ],
@


1.9
log
@update to the next stable release (13.0.782.112)
@
text
@d2 4
a5 4
--- build/common.gypi.orig	Tue Aug  2 20:15:36 2011
+++ build/common.gypi	Wed Aug  3 09:30:30 2011
@@@@ -98,7 +98,7 @@@@
       'file_manager_extension%': 0,
d13 2
a14 2
@@@@ -354,7 +354,7 @@@@
     'linux_strip_reliability_tests%': 0,
d16 7
a22 16
     # Enable TCMalloc.
-    'linux_use_tcmalloc%': 1,
+    'linux_use_tcmalloc%': 0,
 
     # Disable TCMalloc's debugallocation.
     'linux_use_debugallocation%': 0,
@@@@ -377,7 +377,7 @@@@
 
     # Used to disable Native Client at compile time, for platforms where it
     # isn't supported
-    'disable_nacl%': 0,
+    'disable_nacl%': 1,
 
     # Set Thumb compilation flags.
     'arm_thumb%': 0,
@@@@ -445,7 +445,7 @@@@
d27 1
a27 1
+        'python_arch%': '<!(<(DEPTH)/build/linux/python_arch.sh <(sysroot)/usr/local/lib/libpython<(python_ver).so.1.0)',
d31 1
a31 1
@@@@ -850,7 +850,7 @@@@
d40 18
@


1.8
log
@Use MODPY_VERSION instead of hardcoding 2.6 which is not the case anymore
since we default to python 2.7
@
text
@d1 4
a4 4
$OpenBSD: patch-build_common_gypi,v 1.7 2011/06/08 20:36:56 robert Exp $
--- build/common.gypi.orig	Mon Jun  6 11:11:46 2011
+++ build/common.gypi	Wed Jun  8 09:58:35 2011
@@@@ -95,7 +95,7 @@@@
d8 2
a9 2
-      'python_ver%': '2.5',
+      'python_ver%': '${MODPY_VERSION}',
d13 1
a13 1
@@@@ -316,7 +316,7 @@@@
d22 1
a22 1
@@@@ -337,7 +337,7 @@@@
d31 1
a31 1
@@@@ -405,7 +405,7 @@@@
d40 1
a40 10
@@@@ -478,7 +478,7 @@@@
         ],
       }],
 
-      ['OS=="mac" or (OS=="linux" and chromeos==0 and target_arch!="arm")', {
+      ['OS=="mac" or OS=="openbsd" or (OS=="linux" and chromeos==0 and target_arch!="arm")', {
         'use_cups%': 1,
       }, {
         'use_cups%': 0,
@@@@ -779,7 +779,7 @@@@
@


1.7
log
@Update to the new stable branch: 12.0.742.91
http://googlechromereleases.blogspot.com/2011/06/chrome-stable-release.html
@
text
@d1 1
a1 1
$OpenBSD: patch-build_common_gypi,v 1.6 2011/05/26 11:39:14 robert Exp $
d9 1
a9 1
+      'python_ver%': '2.6',
@


1.6
log
@- re-enable flock in the build
- add support for detecting if an sqlite3 db is on an NFS mount
- fix printing: Chrome can only print to PDF and that is why you
  cannot print to LPD directly. It requres CUPS.
@
text
@d1 5
a5 5
$OpenBSD: patch-build_common_gypi,v 1.5 2011/04/29 13:18:01 robert Exp $
--- build/common.gypi.orig	Fri May 20 10:35:18 2011
+++ build/common.gypi	Thu May 26 11:41:51 2011
@@@@ -97,7 +97,7 @@@@
       'fastbuild%': 0,
d13 1
a13 1
@@@@ -311,7 +311,7 @@@@
d22 1
a22 1
@@@@ -332,7 +332,7 @@@@
d31 1
a31 1
@@@@ -394,7 +394,7 @@@@
d40 1
a40 1
@@@@ -460,7 +460,7 @@@@
d49 1
a49 1
@@@@ -752,7 +752,7 @@@@
@


1.5
log
@update to the latest stable version which is now 11.0.696.60
+ switch from using system sqlite to the bundled one because they have
  many modifications that are needed
+ add a new mirror for the distfile because the google one is utterly slow
@
text
@d1 3
a3 3
$OpenBSD: patch-build_common_gypi,v 1.4 2011/04/15 10:10:27 robert Exp $
--- build/common.gypi.orig	Tue Apr 26 10:01:32 2011
+++ build/common.gypi	Thu Apr 28 11:17:49 2011
d40 9
@


1.4
log
@update to 10.0.648.205 and use python 2.6
@
text
@d1 4
a4 4
$OpenBSD: patch-build_common_gypi,v 1.3 2011/03/15 11:38:05 robert Exp $
--- build/common.gypi.orig	Wed Apr 13 10:01:33 2011
+++ build/common.gypi	Fri Apr 15 12:08:33 2011
@@@@ -92,7 +92,7 @@@@
d13 1
a13 1
@@@@ -280,7 +280,7 @@@@
d22 1
a22 1
@@@@ -301,7 +301,7 @@@@
d31 1
a31 1
@@@@ -360,7 +360,7 @@@@
d40 1
a40 1
@@@@ -691,7 +691,7 @@@@
@


1.3
log
@update to 10.0.648.133
@
text
@d1 12
a12 3
$OpenBSD$
--- build/common.gypi.orig	Mon Mar 14 11:03:15 2011
+++ build/common.gypi	Mon Mar 14 11:03:54 2011
@


1.2
log
@late update to chromium 9, robert@@ did the work, but he doesn't have the
time right now.
Tree is still locked!
Reasons for the update:
- good work that can be used now
- only builds on i386/amd64, and they're fast
- multiple security problems in old chrome
- old chrome half working, can't break it more than it was.

This one requires resources (see MESSAGE), but it's ways more stable.

Again, discussed with sthen@@, jasper@@, naddy@@, miod@@
@
text
@d2 3
a4 12
--- build/common.gypi.orig	Tue Jan 25 12:41:03 2011
+++ build/common.gypi	Wed Feb  2 15:03:20 2011
@@@@ -15,7 +15,7 @@@@
 
     'internal_pdf%': 0,
 
-    # This allows to use libcros from the current system, ie. /usr/lib/
+    # This allows to use libcros from the current system, ie. /usr/local/lib/
     # The cros_api will be pulled in as a static library, and all headers
     # from the system include dirs.
     'system_libcros%': '0',
@@@@ -271,7 +271,7 @@@@
d13 1
a13 1
@@@@ -295,7 +295,7 @@@@
d22 1
a22 1
@@@@ -326,7 +326,7 @@@@
d27 1
a27 1
+        'python_arch%': '<!(<(DEPTH)/build/linux/python_arch.sh <(sysroot)/usr/local/lib/libpython<(python_ver).so.1)',
d31 1
a31 1
@@@@ -631,7 +631,7 @@@@
@


1.1
log
@cut the "monster patches" into small pieces. pval can fix it to his liking
if he comes back.
In the mean time, fix build of chromium by adding the required
-I/usr/local/includes to gyp glue where needed.
@
text
@d2 13
a14 13
--- build/common.gypi.orig	Tue Mar 30 07:28:31 2010
+++ build/common.gypi	Sun Nov 28 00:11:29 2010
@@@@ -84,7 +84,7 @@@@
       'linux_fpic%': 0,
 
       # Python version.
-      'python_ver%': '2.5',
+      'python_ver%': '2.6',
 
       # Set ARM-v7 compilation flags
       'armv7%': 0,
@@@@ -203,14 +203,14 @@@@
     'linux_strip_binary%': 0,
d20 3
a22 2
     # Set to select the Title Case versions of strings in GRD files.
     'use_titlecase_in_grd_files%': 0,
d31 1
a31 1
@@@@ -225,7 +225,7 @@@@
d38 1
a38 1
           ['branding=="Chrome" or linux_chromium_breakpad==1', {
d40 2
a41 2
@@@@ -486,7 +486,7 @@@@
               ['exclude', '/(gtk|x11)_[^/]*\\.cc$'],
d45 1
a45 1
+          ['OS!="linux" and OS!="freebsd" and OS!="openbsd"', {
d47 2
a48 2
               ['exclude', '_linux(_unittest)?\\.cc$'],
               ['exclude', '/linux/'],
@

