head	1.9;
access;
symbols
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2016.04.16.19.08.45;	author robert;	state dead;
branches;
next	1.8;
commitid	SE10dvx9aTcZrjRO;

1.8
date	2016.03.06.10.51.14;	author robert;	state Exp;
branches;
next	1.7;
commitid	Upms3IeOsaLsGxbP;

1.7
date	2016.01.23.18.49.31;	author robert;	state Exp;
branches;
next	1.6;
commitid	KVrkvcBYFue8N3VB;

1.6
date	2015.05.24.15.51.53;	author robert;	state Exp;
branches;
next	1.5;
commitid	rFaYcWD2ntiXn5nr;

1.5
date	2015.03.18.19.26.29;	author robert;	state Exp;
branches;
next	1.4;
commitid	aPwx9j7rbIsa650M;

1.4
date	2015.02.15.19.51.28;	author robert;	state Exp;
branches;
next	1.3;
commitid	aXaFfxvdOjpKJO7H;

1.3
date	2014.11.19.21.27.32;	author robert;	state Exp;
branches;
next	1.2;
commitid	Fr3Mh6eWvxxgNbvB;

1.2
date	2014.09.11.19.04.52;	author robert;	state Exp;
branches;
next	1.1;
commitid	WrglT9ERNBhPArdd;

1.1
date	2014.07.20.17.22.33;	author robert;	state Exp;
branches;
next	;
commitid	yFSQqywU9tg3Fhqe;


desc
@@


1.9
log
@update to 50.0.2661.75
@
text
@$OpenBSD: patch-chrome_browser_ui_aura_chrome_browser_main_extra_parts_aura_cc,v 1.8 2016/03/06 10:51:14 robert Exp $
--- chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc.orig.port	Wed Feb 24 21:01:31 2016
+++ chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc	Thu Mar  3 09:43:26 2016
@@@@ -20,7 +20,7 @@@@
 #include "ui/gfx/screen.h"
 #include "ui/views/widget/native_widget_aura.h"
 
-#if defined(OS_LINUX) && !defined(OS_CHROMEOS)
+#if (defined(OS_BSD) || defined(OS_LINUX)) && !defined(OS_CHROMEOS)
 #include "base/prefs/pref_service.h"
 #include "chrome/browser/profiles/profile.h"
 #include "chrome/common/pref_names.h"
@@@@ -77,7 +77,7 @@@@ chrome::HostDesktopType GetInitialDesktop() {
       command_line->HasSwitch(switches::kViewerLaunchViaAppId)) {
     return chrome::HOST_DESKTOP_TYPE_ASH;
   }
-#elif defined(OS_LINUX)
+#elif defined(OS_LINUX) || defined(OS_BSD)
   const base::CommandLine* command_line =
       base::CommandLine::ForCurrentProcess();
   if (command_line->HasSwitch(switches::kOpenAsh))
@@@@ -145,7 +145,7 @@@@ void ChromeBrowserMainExtraPartsAura::PreCreateThreads
 }
 
 void ChromeBrowserMainExtraPartsAura::PreProfileInit() {
-#if defined(OS_LINUX) && !defined(OS_CHROMEOS)
+#if (defined(OS_LINUX) || defined(OS_BSD)) && !defined(OS_CHROMEOS)
   // Now that we have some minimal ui initialized, check to see if we're
   // running as root and bail if we are.
   DetectRunningAsRoot();
@@@@ -159,7 +159,7 @@@@ void ChromeBrowserMainExtraPartsAura::PostMainMessageL
   // after the metrics service is deleted.
 }
 
-#if defined(OS_LINUX) && !defined(OS_CHROMEOS)
+#if (defined(OS_LINUX) || defined(OS_BSD)) && !defined(OS_CHROMEOS)
 void ChromeBrowserMainExtraPartsAura::DetectRunningAsRoot() {
   if (getuid() == 0) {
     const base::CommandLine& command_line =
@


1.8
log
@update to 49.0.2623.75
@
text
@d1 1
a1 1
$OpenBSD: patch-chrome_browser_ui_aura_chrome_browser_main_extra_parts_aura_cc,v 1.7 2016/01/23 18:49:31 robert Exp $
@


1.7
log
@update to 48.0.2564.82
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_aura_chrome_browser_main_extra_parts_aura_cc,v 1.6 2015/05/24 15:51:53 robert Exp $
--- chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc.orig.port	Wed Jan 20 21:01:19 2016
+++ chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc	Fri Jan 22 19:58:58 2016
@@@@ -19,7 +19,7 @@@@
d13 1
a13 1
@@@@ -73,7 +73,7 @@@@ chrome::HostDesktopType GetInitialDesktop() {
d22 1
a22 1
@@@@ -140,7 +140,7 @@@@ void ChromeBrowserMainExtraPartsAura::PreCreateThreads
d31 1
a31 1
@@@@ -154,7 +154,7 @@@@ void ChromeBrowserMainExtraPartsAura::PostMainMessageL
@


1.6
log
@update to 43.0.2357.65
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_ui_aura_chrome_browser_main_extra_parts_aura_cc,v 1.5 2015/03/18 19:26:29 robert Exp $
--- chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc.orig.port	Thu May 14 00:23:04 2015
+++ chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc	Thu May 21 20:54:03 2015
d13 1
a13 1
@@@@ -72,7 +72,7 @@@@ chrome::HostDesktopType GetInitialDesktop() {
d22 1
a22 1
@@@@ -137,7 +137,7 @@@@ void ChromeBrowserMainExtraPartsAura::PreCreateThreads
d31 1
a31 1
@@@@ -151,7 +151,7 @@@@ void ChromeBrowserMainExtraPartsAura::PostMainMessageL
@


1.5
log
@update to 41.0.2272.89
@
text
@d1 13
a13 4
$OpenBSD$
--- chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc.orig.port	Wed Mar 11 07:31:46 2015
+++ chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc	Wed Mar 11 07:32:43 2015
@@@@ -69,7 +69,7 @@@@ chrome::HostDesktopType GetInitialDesktop() {
d22 1
a22 1
@@@@ -130,7 +130,7 @@@@ void ChromeBrowserMainExtraPartsAura::PreCreateThreads
d31 1
a31 1
@@@@ -144,7 +144,7 @@@@ void ChromeBrowserMainExtraPartsAura::PostMainMessageL
@


1.4
log
@use mesa to get the gpu vendor and device id and pass it to chromium because
we can't use libpci due to permission restrictions and use some more UI code
on BSD as well
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_aura_chrome_browser_main_extra_parts_aura_cc,v 1.3 2014/11/19 21:27:32 robert Exp $
--- chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc.orig.port	Wed Feb 11 08:15:34 2015
+++ chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc	Sun Feb 15 11:05:48 2015
@@@@ -68,7 +68,7 @@@@ chrome::HostDesktopType GetInitialDesktop() {
d10 2
a11 1
   const CommandLine* command_line = CommandLine::ForCurrentProcess();
d13 1
a13 2
     return chrome::HOST_DESKTOP_TYPE_ASH;
@@@@ -128,7 +128,7 @@@@ void ChromeBrowserMainExtraPartsAura::PreCreateThreads
d22 1
a22 1
@@@@ -142,7 +142,7 @@@@ void ChromeBrowserMainExtraPartsAura::PostMainMessageL
d30 1
a30 1
     const CommandLine& command_line = *CommandLine::ForCurrentProcess();
@


1.3
log
@update to 39.0.2171.65
@
text
@d1 12
a12 3
$OpenBSD: patch-chrome_browser_ui_aura_chrome_browser_main_extra_parts_aura_cc,v 1.2 2014/09/11 19:04:52 robert Exp $
--- chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc.orig.port	Wed Nov 19 06:13:08 2014
+++ chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc	Wed Nov 19 08:38:25 2014
@


1.2
log
@update to 37.0.2062.120
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_aura_chrome_browser_main_extra_parts_aura_cc,v 1.1 2014/07/20 17:22:33 robert Exp $
--- chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc.orig.port	Wed Sep 10 01:47:12 2014
+++ chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc	Wed Sep 10 22:05:40 2014
@@@@ -131,7 +131,7 @@@@ void ChromeBrowserMainExtraPartsAura::PreCreateThreads
d13 1
a13 1
@@@@ -145,7 +145,7 @@@@ void ChromeBrowserMainExtraPartsAura::PostMainMessageL
@


1.1
log
@update to 36.0.1985.125;

from this release Chromium uses Aura instead of Gtk+ so the UI will look
a bit different, and that is completely normal.
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc.orig.port	Sat Jul 19 03:27:25 2014
+++ chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc	Sat Jul 19 03:28:30 2014
@@@@ -118,7 +118,7 @@@@ void ChromeBrowserMainExtraPartsAura::PreCreateThreads
d13 1
a13 1
@@@@ -132,7 +132,7 @@@@ void ChromeBrowserMainExtraPartsAura::PostMainMessageL
@

