head	1.5;
access;
symbols
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3;
locks; strict;
comment	@# @;


1.5
date	2011.09.19.08.55.26;	author robert;	state dead;
branches;
next	1.4;

1.4
date	2011.08.16.08.17.44;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2011.06.08.20.36.56;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2011.04.29.13.18.02;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.15.11.38.05;	author robert;	state Exp;
branches;
next	;


desc
@@


1.5
log
@update to 14.0.835.163
@
text
@$OpenBSD: patch-webkit_plugins_ppapi_ppb_pdf_impl_cc,v 1.4 2011/08/16 08:17:44 robert Exp $
--- webkit/plugins/ppapi/ppb_pdf_impl.cc.orig	Wed Jul 27 10:01:05 2011
+++ webkit/plugins/ppapi/ppb_pdf_impl.cc	Tue Aug  2 20:12:21 2011
@@@@ -25,7 +25,7 @@@@
 namespace webkit {
 namespace ppapi {
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
 class PrivateFontFile : public Resource {
  public:
   PrivateFontFile(PluginInstance* instance, int fd)
@@@@ -170,7 +170,7 @@@@ PP_Resource GetFontFileWithFallback(
     PP_Instance instance_id,
     const PP_FontDescription_Dev* description,
     PP_PrivateFontCharset charset) {
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
   PluginInstance* instance = ResourceTracker::Get()->GetInstance(instance_id);
   if (!instance)
     return 0;
@@@@ -201,7 +201,7 @@@@ bool GetFontTableForPrivateFontFile(PP_Resource font_f
                                     uint32_t table,
                                     void* output,
                                     uint32_t* output_length) {
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
   scoped_refptr<PrivateFontFile> font(
       Resource::GetAs<PrivateFontFile>(font_file));
   if (!font.get())
@@@@ -334,7 +334,7 @@@@ const PPB_PDF* PPB_PDF_Impl::GetInterface() {
   return &ppb_pdf;
 }
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
 bool PrivateFontFile::GetFontTable(uint32_t table,
                                    void* output,
                                    uint32_t* output_length) {
@


1.4
log
@update to the next stable release (13.0.782.112)
@
text
@d1 1
a1 1
$OpenBSD: patch-webkit_plugins_ppapi_ppb_pdf_impl_cc,v 1.3 2011/06/08 20:36:56 robert Exp $
@


1.3
log
@Update to the new stable branch: 12.0.742.91
http://googlechromereleases.blogspot.com/2011/06/chrome-stable-release.html
@
text
@d1 3
a3 3
$OpenBSD: patch-webkit_plugins_ppapi_ppb_pdf_impl_cc,v 1.2 2011/04/29 13:18:02 robert Exp $
--- webkit/plugins/ppapi/ppb_pdf_impl.cc.orig	Mon Jun  6 11:11:25 2011
+++ webkit/plugins/ppapi/ppb_pdf_impl.cc	Wed Jun  8 09:58:37 2011
d13 1
a13 1
@@@@ -165,7 +165,7 @@@@ PP_Resource GetFontFileWithFallback(
d22 1
a22 1
@@@@ -196,7 +196,7 @@@@ bool GetFontTableForPrivateFontFile(PP_Resource font_f
d31 1
a31 1
@@@@ -329,7 +329,7 @@@@ const PPB_PDF* PPB_PDF_Impl::GetInterface() {
@


1.2
log
@update to the latest stable version which is now 11.0.696.60
+ switch from using system sqlite to the bundled one because they have
  many modifications that are needed
+ add a new mirror for the distfile because the google one is utterly slow
@
text
@d1 3
a3 3
$OpenBSD: patch-webkit_plugins_ppapi_ppb_pdf_impl_cc,v 1.1 2011/03/15 11:38:05 robert Exp $
--- webkit/plugins/ppapi/ppb_pdf_impl.cc.orig	Tue Apr 26 10:01:06 2011
+++ webkit/plugins/ppapi/ppb_pdf_impl.cc	Thu Apr 28 11:17:49 2011
d13 1
a13 1
@@@@ -159,7 +159,7 @@@@ PP_Resource GetFontFileWithFallback(
d22 1
a22 1
@@@@ -190,7 +190,7 @@@@ bool GetFontTableForPrivateFontFile(PP_Resource font_f
d31 1
a31 1
@@@@ -315,7 +315,7 @@@@ const PPB_PDF* PPB_PDF_Impl::GetInterface() {
@


1.1
log
@update to 10.0.648.133
@
text
@d1 3
a3 3
$OpenBSD$
--- webkit/plugins/ppapi/ppb_pdf_impl.cc.orig	Mon Mar 14 11:54:25 2011
+++ webkit/plugins/ppapi/ppb_pdf_impl.cc	Mon Mar 14 11:54:37 2011
d13 1
a13 1
@@@@ -145,7 +145,7 @@@@ PP_Resource GetFontFileWithFallback(
d22 1
a22 1
@@@@ -176,7 +176,7 @@@@ bool GetFontTableForPrivateFontFile(PP_Resource font_f
d31 1
a31 1
@@@@ -301,7 +301,7 @@@@ const PPB_PDF* PPB_PDF_Impl::GetInterface() {
@

