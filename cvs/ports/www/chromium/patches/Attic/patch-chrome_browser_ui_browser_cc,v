head	1.13;
access;
symbols
	OPENBSD_5_8:1.10.0.4
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.6.0.2
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.13
date	2015.12.05.16.13.32;	author robert;	state dead;
branches;
next	1.12;
commitid	D0GFSwUDbKAnIs1m;

1.12
date	2015.10.14.16.42.07;	author robert;	state Exp;
branches;
next	1.11;
commitid	iw6THZfJQngZlw1r;

1.11
date	2015.09.05.16.06.50;	author robert;	state Exp;
branches;
next	1.10;
commitid	rTmBXJaDIIWe1XKA;

1.10
date	2015.07.23.13.44.04;	author robert;	state Exp;
branches;
next	1.9;
commitid	vxhJdppNzKtP7lYz;

1.9
date	2015.05.24.15.51.53;	author robert;	state Exp;
branches;
next	1.8;
commitid	rFaYcWD2ntiXn5nr;

1.8
date	2015.04.27.16.38.25;	author robert;	state Exp;
branches;
next	1.7;
commitid	jwX00slFR1NY9xHC;

1.7
date	2015.03.18.19.26.29;	author robert;	state Exp;
branches;
next	1.6;
commitid	aPwx9j7rbIsa650M;

1.6
date	2015.02.15.19.51.28;	author robert;	state Exp;
branches;
next	1.5;
commitid	aXaFfxvdOjpKJO7H;

1.5
date	2011.08.16.08.17.44;	author robert;	state dead;
branches;
next	1.4;

1.4
date	2011.06.08.20.36.56;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2011.04.29.13.18.01;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2011.03.15.11.38.05;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2011.02.08.09.43.02;	author espie;	state Exp;
branches;
next	;


desc
@@


1.13
log
@update to 47.0.2526.73
@
text
@$OpenBSD: patch-chrome_browser_ui_browser_cc,v 1.12 2015/10/14 16:42:07 robert Exp $
--- chrome/browser/ui/browser.cc.orig.port	Tue Oct 13 21:04:32 2015
+++ chrome/browser/ui/browser.cc	Wed Oct 14 07:41:13 2015
@@@@ -1377,7 +1377,7 @@@@ void Browser::OnWindowDidShow() {
   window_has_shown_ = true;
 
 // CurrentProcessInfo::CreationTime() is missing on some platforms.
-#if defined(OS_MACOSX) || defined(OS_WIN) || defined(OS_LINUX)
+#if defined(OS_MACOSX) || defined(OS_WIN) || defined(OS_LINUX) || defined(OS_BSD)
   // Measure the latency from startup till the first browser window becomes
   // visible.
   static bool is_first_browser_window = true;
@


1.12
log
@update to 46.0.2490.71
@
text
@d1 1
a1 1
$OpenBSD: patch-chrome_browser_ui_browser_cc,v 1.11 2015/09/05 16:06:50 robert Exp $
@


1.11
log
@update to 45.0.2454.85
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_browser_cc,v 1.10 2015/07/23 13:44:04 robert Exp $
--- chrome/browser/ui/browser.cc.orig.port	Tue Sep  1 22:10:42 2015
+++ chrome/browser/ui/browser.cc	Wed Sep  2 07:31:55 2015
@@@@ -1371,7 +1371,7 @@@@ void Browser::OnWindowDidShow() {
@


1.10
log
@update to 44.0.2403.89
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_browser_cc,v 1.9 2015/05/24 15:51:53 robert Exp $
--- chrome/browser/ui/browser.cc.orig.port	Wed Jul 15 22:29:58 2015
+++ chrome/browser/ui/browser.cc	Wed Jul 22 08:37:29 2015
@@@@ -1312,7 +1312,7 @@@@ void Browser::OnWindowDidShow() {
@


1.9
log
@update to 43.0.2357.65
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_browser_cc,v 1.8 2015/04/27 16:38:25 robert Exp $
--- chrome/browser/ui/browser.cc.orig.port	Thu May 14 00:35:45 2015
+++ chrome/browser/ui/browser.cc	Wed May 20 08:34:56 2015
@@@@ -1285,7 +1285,7 @@@@ void Browser::OnWindowDidShow() {
@


1.8
log
@update to 42.0.2311.90
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_browser_cc,v 1.7 2015/03/18 19:26:29 robert Exp $
--- chrome/browser/ui/browser.cc.orig.port	Wed Apr 15 00:31:21 2015
+++ chrome/browser/ui/browser.cc	Wed Apr 15 08:32:50 2015
@@@@ -1284,7 +1284,7 @@@@ void Browser::OnWindowDidShow() {
@


1.7
log
@update to 41.0.2272.89
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_browser_cc,v 1.6 2015/02/15 19:51:28 robert Exp $
--- chrome/browser/ui/browser.cc.orig.port	Tue Mar 10 23:41:40 2015
+++ chrome/browser/ui/browser.cc	Wed Mar 11 07:22:50 2015
@@@@ -1288,7 +1288,7 @@@@ void Browser::OnWindowDidShow() {
@


1.6
log
@use mesa to get the gpu vendor and device id and pass it to chromium because
we can't use libpci due to permission restrictions and use some more UI code
on BSD as well
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/ui/browser.cc.orig.port	Sun Feb 15 11:09:25 2015
+++ chrome/browser/ui/browser.cc	Sun Feb 15 11:09:31 2015
@@@@ -1258,7 +1258,7 @@@@ void Browser::OnWindowDidShow() {
@


1.5
log
@update to the next stable release (13.0.782.112)
@
text
@d1 5
a5 4
$OpenBSD: patch-chrome_browser_ui_browser_cc,v 1.4 2011/06/08 20:36:56 robert Exp $
--- chrome/browser/ui/browser.cc.orig	Mon Jun  6 11:12:09 2011
+++ chrome/browser/ui/browser.cc	Wed Jun  8 09:58:36 2011
@@@@ -291,7 +291,7 @@@@ Browser::~Browser() {
d7 6
a12 43
   BrowserList::RemoveBrowser(this);
 
-#if defined(OS_WIN) || defined(OS_LINUX)
+#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_OPENBSD)
   if (!BrowserList::HasBrowserWithProfile(profile_)) {
     // We're the last browser window with this profile. We need to nuke the
     // TabRestoreService, which will start the shutdown of the
@@@@ -846,7 +846,7 @@@@ string16 Browser::GetWindowTitleForCurrentTab() const 
   // On Mac or ChromeOS, we don't want to suffix the page title with
   // the application name.
   return title;
-#elif defined(OS_WIN) || defined(OS_LINUX)
+#elif defined(OS_WIN) || defined(OS_LINUX) || defined(OS_OPENBSD)
   int string_id = IDS_BROWSER_WINDOW_TITLE_FORMAT;
   // Don't append the app name to window titles on app frames and app popups
   if (type_ & TYPE_APP)
@@@@ -1532,7 +1532,7 @@@@ void Browser::ToggleFullscreenMode() {
   window_->SetFullscreen(!window_->IsFullscreen());
   // On Linux, setting fullscreen mode is an async call to the X server, which
   // may or may not support fullscreen mode.
-#if !defined(OS_LINUX)
+#if !defined(OS_LINUX) && !defined(OS_OPENBSD)
   UpdateCommandsForFullscreenMode(window_->IsFullscreen());
 #endif
 }
@@@@ -1798,7 +1798,7 @@@@ void Browser::OpenFile() {
 
 void Browser::OpenCreateShortcutsDialog() {
   UserMetrics::RecordAction(UserMetricsAction("CreateShortcut"), profile_);
-#if defined(OS_WIN) || defined(OS_LINUX)
+#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_OPENBSD)
   TabContentsWrapper* current_tab = GetSelectedTabContentsWrapper();
   DCHECK(current_tab &&
       web_app::IsValidUrl(current_tab->tab_contents()->GetURL())) <<
@@@@ -2608,7 +2608,7 @@@@ void Browser::DuplicateContentsAt(int index) {
 }
 
 void Browser::CloseFrameAfterDragSession() {
-#if defined(OS_WIN) || defined(OS_LINUX)
+#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_OPENBSD)
   // This is scheduled to run after we return to the message loop because
   // otherwise the frame will think the drag session is still active and ignore
   // the request.
@


1.4
log
@Update to the new stable branch: 12.0.742.91
http://googlechromereleases.blogspot.com/2011/06/chrome-stable-release.html
@
text
@d1 1
a1 1
$OpenBSD: patch-chrome_browser_ui_browser_cc,v 1.3 2011/04/29 13:18:01 robert Exp $
@


1.3
log
@update to the latest stable version which is now 11.0.696.60
+ switch from using system sqlite to the bundled one because they have
  many modifications that are needed
+ add a new mirror for the distfile because the google one is utterly slow
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_browser_cc,v 1.2 2011/03/15 11:38:05 robert Exp $
--- chrome/browser/ui/browser.cc.orig	Tue Apr 26 10:01:43 2011
+++ chrome/browser/ui/browser.cc	Thu Apr 28 11:17:49 2011
@@@@ -277,7 +277,7 @@@@ Browser::~Browser() {
d13 1
a13 1
@@@@ -817,7 +817,7 @@@@ string16 Browser::GetWindowTitleForCurrentTab() const 
d22 1
a22 1
@@@@ -1499,7 +1499,7 @@@@ void Browser::ToggleFullscreenMode() {
d31 1
a31 1
@@@@ -1758,7 +1758,7 @@@@ void Browser::OpenFile() {
d40 1
a40 1
@@@@ -2595,7 +2595,7 @@@@ void Browser::DuplicateContentsAt(int index) {
@


1.2
log
@update to 10.0.648.133
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_ui_browser_cc,v 1.1 2011/02/08 09:43:02 espie Exp $
--- chrome/browser/ui/browser.cc.orig	Fri Mar 11 10:01:42 2011
+++ chrome/browser/ui/browser.cc	Mon Mar 14 10:55:37 2011
@@@@ -263,7 +263,7 @@@@ Browser::~Browser() {
d13 1
a13 1
@@@@ -810,7 +810,7 @@@@ string16 Browser::GetWindowTitleForCurrentTab() const 
d22 1
a22 1
@@@@ -1459,7 +1459,7 @@@@ void Browser::ToggleFullscreenMode() {
d31 1
a31 1
@@@@ -1706,7 +1706,7 @@@@ void Browser::OpenFile() {
d40 1
a40 1
@@@@ -2516,7 +2516,7 @@@@ void Browser::DuplicateContentsAt(int index) {
@


1.1
log
@late update to chromium 9, robert@@ did the work, but he doesn't have the
time right now.
Tree is still locked!
Reasons for the update:
- good work that can be used now
- only builds on i386/amd64, and they're fast
- multiple security problems in old chrome
- old chrome half working, can't break it more than it was.

This one requires resources (see MESSAGE), but it's ways more stable.

Again, discussed with sthen@@, jasper@@, naddy@@, miod@@
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/ui/browser.cc.orig	Fri Jan 21 10:20:24 2011
+++ chrome/browser/ui/browser.cc	Sun Jan 23 23:27:32 2011
@@@@ -272,7 +272,7 @@@@ Browser::~Browser() {
d13 1
a13 1
@@@@ -800,7 +800,7 @@@@ string16 Browser::GetWindowTitleForCurrentTab() const 
d22 1
a22 1
@@@@ -1446,7 +1446,7 @@@@ void Browser::ToggleFullscreenMode() {
d31 1
a31 1
@@@@ -1697,7 +1697,7 @@@@ void Browser::OpenFile() {
d40 1
a40 1
@@@@ -2499,7 +2499,7 @@@@ void Browser::DuplicateContentsAt(int index) {
@

