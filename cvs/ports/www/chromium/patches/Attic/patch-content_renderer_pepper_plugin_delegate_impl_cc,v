head	1.6;
access;
symbols
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.2
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2012.02.17.10.19.51;	author robert;	state dead;
branches;
next	1.5;

1.5
date	2011.12.14.16.58.19;	author robert;	state Exp;
branches;
next	1.4;

1.4
date	2011.10.27.07.59.09;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2011.09.19.08.55.26;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2011.08.16.08.17.44;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2011.06.08.20.36.56;	author robert;	state Exp;
branches;
next	;


desc
@@


1.6
log
@update to 17.0.963.56
@
text
@$OpenBSD: patch-content_renderer_pepper_plugin_delegate_impl_cc,v 1.5 2011/12/14 16:58:19 robert Exp $
--- content/renderer/pepper_plugin_delegate_impl.cc.orig	Wed Dec  7 09:01:18 2011
+++ content/renderer/pepper_plugin_delegate_impl.cc	Tue Dec 13 21:23:12 2011
@@@@ -145,7 +145,7 @@@@ class PlatformImage2DImpl
     return reinterpret_cast<intptr_t>(dib_->handle());
 #elif defined(OS_MACOSX)
     return static_cast<intptr_t>(dib_->handle().fd);
-#elif defined(OS_LINUX)
+#elif defined(OS_POSIX)
     return static_cast<intptr_t>(dib_->handle());
 #endif
   }
@


1.5
log
@update to 16.0.912.63
@
text
@d1 1
a1 1
$OpenBSD: patch-content_renderer_pepper_plugin_delegate_impl_cc,v 1.4 2011/10/27 07:59:09 robert Exp $
@


1.4
log
@update to 15.0.874.102.

switch from using the hacked macosx transport dib to the linux one
which uses sysv shms.
make sure you also have a current kernel before using this version
@
text
@d1 4
a4 4
$OpenBSD$
--- content/renderer/pepper_plugin_delegate_impl.cc.orig	Fri Oct 21 10:29:44 2011
+++ content/renderer/pepper_plugin_delegate_impl.cc	Wed Oct 26 14:10:40 2011
@@@@ -142,7 +142,7 @@@@ class PlatformImage2DImpl
@


1.3
log
@update to 14.0.835.163
@
text
@d1 4
a4 15
$OpenBSD: patch-content_renderer_pepper_plugin_delegate_impl_cc,v 1.2 2011/08/16 08:17:44 robert Exp $
--- content/renderer/pepper_plugin_delegate_impl.cc.orig	Wed Sep 14 10:01:11 2011
+++ content/renderer/pepper_plugin_delegate_impl.cc	Fri Sep 16 18:17:23 2011
@@@@ -121,7 +121,7 @@@@ class PlatformImage2DImpl
         dib_(dib) {
   }
 
-#if defined(OS_MACOSX)
+#if defined(OS_MACOSX) || defined(OS_OPENBSD)
   // On Mac, we have to tell the browser to free the transport DIB.
   virtual ~PlatformImage2DImpl() {
     if (dib_.get()) {
@@@@ -139,7 +139,7 @@@@ class PlatformImage2DImpl
     *byte_count = dib_->size();
 #if defined(OS_WIN)
d6 1
a6 2
-#elif defined(OS_MACOSX)
+#elif defined(OS_MACOSX) || defined(OS_OPENBSD)
d8 2
a9 1
 #elif defined(OS_LINUX)
d11 2
a12 9
@@@@ -802,7 +802,7 @@@@ PepperPluginDelegateImpl::CreateImage2D(int width, int
   uint32 buffer_size = width * height * 4;
 
   // Allocate the transport DIB and the PlatformCanvas pointing to it.
-#if defined(OS_MACOSX)
+#if defined(OS_MACOSX) || defined(OS_OPENBSD)
   // On the Mac, shared memory has to be created in the browser in order to
   // work in the sandbox.  Do this by sending a message to the browser
   // requesting a TransportDIB (see also
@


1.2
log
@update to the next stable release (13.0.782.112)
@
text
@d1 4
a4 4
$OpenBSD: patch-content_renderer_pepper_plugin_delegate_impl_cc,v 1.1 2011/06/08 20:36:56 robert Exp $
--- content/renderer/pepper_plugin_delegate_impl.cc.orig	Wed Jul 27 10:01:09 2011
+++ content/renderer/pepper_plugin_delegate_impl.cc	Tue Aug  2 20:12:17 2011
@@@@ -116,7 +116,7 @@@@ class PlatformImage2DImpl
d13 1
a13 1
@@@@ -134,7 +134,7 @@@@ class PlatformImage2DImpl
d22 1
a22 1
@@@@ -774,7 +774,7 @@@@ PepperPluginDelegateImpl::CreateImage2D(int width, int
@


1.1
log
@Update to the new stable branch: 12.0.742.91
http://googlechromereleases.blogspot.com/2011/06/chrome-stable-release.html
@
text
@d1 4
a4 4
$OpenBSD$
--- content/renderer/pepper_plugin_delegate_impl.cc.orig	Wed Jun  8 10:34:09 2011
+++ content/renderer/pepper_plugin_delegate_impl.cc	Wed Jun  8 10:34:29 2011
@@@@ -112,7 +112,7 @@@@ class PlatformImage2DImpl
d13 1
a13 1
@@@@ -130,7 +130,7 @@@@ class PlatformImage2DImpl
d22 1
a22 1
@@@@ -758,7 +758,7 @@@@ PepperPluginDelegateImpl::CreateImage2D(int width, int
@

