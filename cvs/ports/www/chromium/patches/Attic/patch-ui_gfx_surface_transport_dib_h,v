head	1.3;
access;
symbols
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2011.10.27.07.59.09;	author robert;	state dead;
branches;
next	1.2;

1.2
date	2011.09.19.08.55.26;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2011.06.08.20.36.56;	author robert;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to 15.0.874.102.

switch from using the hacked macosx transport dib to the linux one
which uses sysv shms.
make sure you also have a current kernel before using this version
@
text
@$OpenBSD: patch-ui_gfx_surface_transport_dib_h,v 1.2 2011/09/19 08:55:26 robert Exp $
--- ui/gfx/surface/transport_dib.h.orig	Wed Sep 14 10:02:00 2011
+++ ui/gfx/surface/transport_dib.h	Fri Sep 16 18:17:25 2011
@@@@ -8,7 +8,7 @@@@
 
 #include "base/basictypes.h"
 
-#if defined(OS_WIN) || defined(OS_MACOSX)
+#if defined(OS_WIN) || defined(OS_MACOSX) || defined(OS_OPENBSD)
 #include "base/shared_memory.h"
 #endif
 
@@@@ -78,7 +78,7 @@@@ class TransportDIB {
     static int fake_handle = 10;
     return reinterpret_cast<Handle>(fake_handle++);
   }
-#elif defined(OS_MACOSX)
+#elif defined(OS_MACOSX) || defined(OS_OPENBSD)
   typedef base::SharedMemoryHandle Handle;
   // On Mac, the inode number of the backing file is used as an id.
   typedef base::SharedMemoryId Id;
@@@@ -184,11 +184,12 @@@@ class TransportDIB {
 
  private:
   TransportDIB();
-#if defined(OS_WIN) || defined(OS_MACOSX)
+#if defined(OS_WIN) || defined(OS_MACOSX) || defined(OS_OPENBSD)
   explicit TransportDIB(base::SharedMemoryHandle dib);
   base::SharedMemory shared_memory_;
   uint32 sequence_num_;
-#elif defined(USE_X11)
+#endif
+#if defined(USE_X11)
   Id key_;  // SysV shared memory id
   void* address_;  // mapped address
   XSharedMemoryId x_shm_;  // X id for the shared segment
@


1.2
log
@update to 14.0.835.163
@
text
@d1 1
a1 1
$OpenBSD: patch-ui_gfx_surface_transport_dib_h,v 1.1 2011/06/08 20:36:56 robert Exp $
@


1.1
log
@Update to the new stable branch: 12.0.742.91
http://googlechromereleases.blogspot.com/2011/06/chrome-stable-release.html
@
text
@d1 3
a3 3
$OpenBSD$
--- ui/gfx/surface/transport_dib.h.orig	Wed Jun  8 10:13:26 2011
+++ ui/gfx/surface/transport_dib.h	Wed Jun  8 15:21:28 2011
@

