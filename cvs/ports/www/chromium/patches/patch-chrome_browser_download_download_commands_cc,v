head	1.14;
access;
symbols
	OPENBSD_6_2:1.14.0.2
	OPENBSD_6_2_BASE:1.14
	OPENBSD_6_1:1.11.0.2
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.6.0.2
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2;
locks; strict;
comment	@# @;


1.14
date	2017.09.09.19.16.43;	author robert;	state Exp;
branches;
next	1.13;
commitid	o4y7MpMU3y8aR1pv;

1.13
date	2017.07.27.14.23.46;	author robert;	state Exp;
branches;
next	1.12;
commitid	UqlSU0wmYWtcPgqI;

1.12
date	2017.04.28.14.21.00;	author robert;	state Exp;
branches;
next	1.11;
commitid	XFDnyB7tGNawHUbl;

1.11
date	2017.03.14.12.18.53;	author robert;	state Exp;
branches;
next	1.10;
commitid	FgEdsLreTqAdn1i5;

1.10
date	2016.12.10.15.35.25;	author robert;	state Exp;
branches;
next	1.9;
commitid	D24Pj03ujnweitOe;

1.9
date	2016.10.26.06.22.08;	author robert;	state Exp;
branches;
next	1.8;
commitid	Dt81be1Osjz00Uwx;

1.8
date	2016.09.01.16.28.11;	author robert;	state Exp;
branches;
next	1.7;
commitid	0duujWXlyOCBrehm;

1.7
date	2016.07.31.13.11.44;	author robert;	state Exp;
branches;
next	1.6;
commitid	dRegVegviFQGKQZc;

1.6
date	2016.04.16.19.08.45;	author robert;	state Exp;
branches;
next	1.5;
commitid	SE10dvx9aTcZrjRO;

1.5
date	2016.03.06.10.51.14;	author robert;	state Exp;
branches;
next	1.4;
commitid	Upms3IeOsaLsGxbP;

1.4
date	2015.10.14.16.42.07;	author robert;	state Exp;
branches;
next	1.3;
commitid	iw6THZfJQngZlw1r;

1.3
date	2015.09.05.16.06.50;	author robert;	state Exp;
branches;
next	1.2;
commitid	rTmBXJaDIIWe1XKA;

1.2
date	2015.07.23.13.44.04;	author robert;	state Exp;
branches;
next	1.1;
commitid	vxhJdppNzKtP7lYz;

1.1
date	2015.05.24.15.51.53;	author robert;	state Exp;
branches;
next	;
commitid	rFaYcWD2ntiXn5nr;


desc
@@


1.14
log
@update to 61.0.3163.79
@
text
@$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.13 2017/07/27 14:23:46 robert Exp $
Index: chrome/browser/download/download_commands.cc
--- chrome/browser/download/download_commands.cc.orig
+++ chrome/browser/download/download_commands.cc
@@@@ -222,7 +222,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
       return download_item_->GetOpenWhenComplete() ||
              download_crx_util::IsExtensionDownload(*download_item_);
     case ALWAYS_OPEN_TYPE:
-#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_MACOSX)
+#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_MACOSX) || defined(OS_BSD)
       if (CanOpenPdfInSystemViewer()) {
         DownloadPrefs* prefs = DownloadPrefs::FromBrowserContext(
             download_item_->GetBrowserContext());
@@@@ -266,7 +266,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
       bool is_checked = IsCommandChecked(ALWAYS_OPEN_TYPE);
       DownloadPrefs* prefs = DownloadPrefs::FromBrowserContext(
           download_item_->GetBrowserContext());
-#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_MACOSX)
+#if defined(OS_WIN) || defined(OS_LINUX) || defined(OS_MACOSX) || defined(OS_BSD)
       if (CanOpenPdfInSystemViewer()) {
         prefs->SetShouldOpenPdfInSystemReader(!is_checked);
         DownloadItemModel(download_item_)
@@@@ -379,7 +379,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
   return browser_displayer.browser();
 }
 
-#if defined(OS_WIN) || defined(OS_MACOSX) || defined(OS_LINUX)
+#if defined(OS_WIN) || defined(OS_MACOSX) || defined(OS_LINUX) || defined(OS_BSD)
 bool DownloadCommands::IsDownloadPdf() const {
   base::FilePath path = download_item_->GetTargetFilePath();
   return path.MatchesExtension(FILE_PATH_LITERAL(".pdf"));
@@@@ -396,7 +396,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
   return IsDownloadPdf() &&
          (IsAdobeReaderDefaultPDFViewer() ? is_adobe_pdf_reader_up_to_date
                                           : true);
-#elif defined(OS_MACOSX) || defined(OS_LINUX)
+#elif defined(OS_MACOSX) || defined(OS_LINUX) || defined(OS_BSD)
   return IsDownloadPdf();
 #endif
 }
@


1.13
log
@update to 60.0.3112.78
@
text
@d1 1
a1 1
$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.12 2017/04/28 14:21:00 robert Exp $
d5 1
a5 1
@@@@ -218,7 +218,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
d14 1
a14 1
@@@@ -262,7 +262,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d23 1
a23 1
@@@@ -375,7 +375,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d32 1
a32 1
@@@@ -392,7 +392,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.12
log
@update to 58.0.3029.81
@
text
@d1 5
a5 4
$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.11 2017/03/14 12:18:53 robert Exp $
--- chrome/browser/download/download_commands.cc.orig.port	Wed Apr 19 21:06:29 2017
+++ chrome/browser/download/download_commands.cc	Thu Apr 27 19:55:59 2017
@@@@ -219,7 +219,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
d14 1
a14 1
@@@@ -263,7 +263,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d23 1
a23 1
@@@@ -376,7 +376,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d32 1
a32 1
@@@@ -393,7 +393,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.11
log
@update to 57.0.2987.98
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.10 2016/12/10 15:35:25 robert Exp $
--- chrome/browser/download/download_commands.cc.orig.port	Thu Mar  9 21:04:28 2017
+++ chrome/browser/download/download_commands.cc	Fri Mar 10 07:46:18 2017
@@@@ -218,7 +218,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
d13 1
a13 1
@@@@ -262,7 +262,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d22 1
a22 1
@@@@ -375,7 +375,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d31 1
a31 1
@@@@ -392,7 +392,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.10
log
@update to 55.0.2883.75; add lpr support to the system dialog while here
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.9 2016/10/26 06:22:08 robert Exp $
--- chrome/browser/download/download_commands.cc.orig.port	Fri Dec  2 00:02:07 2016
+++ chrome/browser/download/download_commands.cc	Fri Dec  2 17:44:52 2016
@@@@ -217,7 +217,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
d13 1
a13 1
@@@@ -261,7 +261,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d22 1
a22 1
@@@@ -374,7 +374,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d31 1
a31 1
@@@@ -391,7 +391,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.9
log
@update to 54.0.2840.71
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.8 2016/09/01 16:28:11 robert Exp $
--- chrome/browser/download/download_commands.cc.orig.port	Wed Oct 12 21:02:54 2016
+++ chrome/browser/download/download_commands.cc	Wed Oct 19 12:55:58 2016
@@@@ -219,7 +219,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
d13 1
a13 1
@@@@ -263,7 +263,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d22 1
a22 1
@@@@ -375,7 +375,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d31 1
a31 1
@@@@ -392,7 +392,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.8
log
@update to 53.0.2785.89
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.7 2016/07/31 13:11:44 robert Exp $
--- chrome/browser/download/download_commands.cc.orig.port	Thu Sep  1 00:03:27 2016
+++ chrome/browser/download/download_commands.cc	Thu Sep  1 11:12:20 2016
@@@@ -212,7 +212,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
d13 1
a13 1
@@@@ -255,7 +255,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d22 1
a22 1
@@@@ -358,7 +358,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d31 1
a31 1
@@@@ -375,7 +375,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.7
log
@update to 52.0.2743.82
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.6 2016/04/16 19:08:45 robert Exp $
--- chrome/browser/download/download_commands.cc.orig.port	Wed Jul 20 21:03:19 2016
+++ chrome/browser/download/download_commands.cc	Thu Jul 21 10:25:26 2016
d22 1
a22 1
@@@@ -353,7 +353,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d31 1
a31 1
@@@@ -370,7 +370,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.6
log
@update to 50.0.2661.75
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/download/download_commands.cc.orig.port	Thu Apr 14 08:36:11 2016
+++ chrome/browser/download/download_commands.cc	Thu Apr 14 08:36:32 2016
@@@@ -211,7 +211,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
d13 1
a13 1
@@@@ -254,7 +254,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d22 1
a22 1
@@@@ -352,7 +352,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d31 1
a31 1
@@@@ -369,7 +369,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.5
log
@update to 49.0.2623.75
@
text
@d1 3
a3 3
$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.4 2015/10/14 16:42:07 robert Exp $
--- chrome/browser/download/download_commands.cc.orig.port	Wed Feb 24 21:01:31 2016
+++ chrome/browser/download/download_commands.cc	Thu Mar  3 09:43:25 2016
d5 1
d8 2
a9 3
 #if defined(OS_WIN) || defined(OS_LINUX) || \
-    (defined(OS_MACOSX) && !defined(OS_IOS))
+    (defined(OS_MACOSX) && !defined(OS_IOS)) || defined(OS_BSD)
d13 2
a14 1
@@@@ -255,7 +255,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d17 2
a18 3
 #if defined(OS_WIN) || defined(OS_LINUX) || \
-    (defined(OS_MACOSX) && !defined(OS_IOS))
+    (defined(OS_MACOSX) && !defined(OS_IOS)) || defined(OS_BSD)
d22 1
a22 1
@@@@ -325,7 +325,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d31 1
a31 1
@@@@ -342,7 +342,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.4
log
@update to 46.0.2490.71
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.3 2015/09/05 16:06:50 robert Exp $
--- chrome/browser/download/download_commands.cc.orig.port	Wed Oct  7 04:42:08 2015
+++ chrome/browser/download/download_commands.cc	Wed Oct 14 07:41:13 2015
@@@@ -115,7 +115,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
d13 1
a13 1
@@@@ -158,7 +158,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d22 1
a22 1
@@@@ -225,7 +225,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d31 1
a31 1
@@@@ -242,7 +242,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.3
log
@update to 45.0.2454.85
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.2 2015/07/23 13:44:04 robert Exp $
--- chrome/browser/download/download_commands.cc.orig.port	Tue Sep  1 22:10:41 2015
+++ chrome/browser/download/download_commands.cc	Wed Sep  2 07:31:55 2015
@@@@ -117,7 +117,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
d13 1
a13 1
@@@@ -160,7 +160,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d22 1
a22 1
@@@@ -227,7 +227,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d31 1
a31 1
@@@@ -244,7 +244,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.2
log
@update to 44.0.2403.89
@
text
@d1 4
a4 4
$OpenBSD: patch-chrome_browser_download_download_commands_cc,v 1.1 2015/05/24 15:51:53 robert Exp $
--- chrome/browser/download/download_commands.cc.orig.port	Wed Jul 15 22:29:57 2015
+++ chrome/browser/download/download_commands.cc	Wed Jul 22 08:37:29 2015
@@@@ -118,7 +118,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
d13 1
a13 1
@@@@ -161,7 +161,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d22 1
a22 1
@@@@ -228,7 +228,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d31 1
a31 1
@@@@ -245,7 +245,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@


1.1
log
@update to 43.0.2357.65
@
text
@d1 4
a4 4
$OpenBSD$
--- chrome/browser/download/download_commands.cc.orig.port	Wed May 20 10:03:11 2015
+++ chrome/browser/download/download_commands.cc	Thu May 21 20:50:47 2015
@@@@ -100,7 +100,7 @@@@ bool DownloadCommands::IsCommandChecked(Command comman
d13 1
a13 1
@@@@ -144,7 +144,7 @@@@ void DownloadCommands::ExecuteCommand(Command command)
d22 1
a22 1
@@@@ -218,7 +218,7 @@@@ Browser* DownloadCommands::GetBrowser() const {
d31 1
a31 1
@@@@ -235,7 +235,7 @@@@ bool DownloadCommands::CanOpenPdfInSystemViewer() cons
@

