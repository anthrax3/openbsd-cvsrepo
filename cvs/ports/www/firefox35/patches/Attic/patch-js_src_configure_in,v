head	1.7;
access;
symbols
	OPENBSD_5_2:1.6.0.10
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.8
	OPENBSD_5_0:1.6.0.6
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.4
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.6.0.2
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2;
locks; strict;
comment	@# @;


1.7
date	2012.12.04.21.10.12;	author landry;	state dead;
branches;
next	1.6;

1.6
date	2010.03.31.15.56.45;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2010.02.24.16.59.49;	author sthen;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2009.07.21.19.53.17;	author martynas;	state Exp;
branches;
next	1.3;

1.3
date	2009.07.20.20.04.02;	author martynas;	state Exp;
branches;
next	1.2;

1.2
date	2009.06.23.17.55.57;	author martynas;	state Exp;
branches;
next	1.1;

1.1
date	2009.06.21.11.36.11;	author martynas;	state Exp;
branches;
next	;

1.5.2.1
date	2010.06.12.03.42.22;	author william;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Retire www/firefox35.

You served us well but you're EOL'ed upstream since 18 months, and your
only reason d'etre was the java plugin from jdk 1.6. But those days this
one doesnt receive updates from oracle, and icedtea-web seems to do a
good job at running java crapplets.
Users will be upgraded for free to www/mozilla-firefox !

General agreement/yays from ajacoutot@@ tobiasu@@ dcoppa@@ krw@@ kurt@@
@
text
@$OpenBSD: patch-js_src_configure_in,v 1.6 2010/03/31 15:56:45 naddy Exp $
--- js/src/configure.in.orig	Mon Mar 15 15:53:51 2010
+++ js/src/configure.in	Tue Mar 30 22:40:16 2010
@@@@ -904,7 +904,7 @@@@ HOST_AR='$(AR)'
 HOST_AR_FLAGS='$(AR_FLAGS)'
 
 MOZ_JS_LIBS='-L$(libdir) -lmozjs'
-MOZ_FIX_LINK_PATHS='-Wl,-rpath-link,$(LIBXUL_DIST)/bin -Wl,-rpath-link,$(PREFIX)/lib'
+MOZ_FIX_LINK_PATHS='-Wl,-rpath-link,$(LIBXUL_DIST)/bin -Wl,-rpath-link,$(PREFIX)/lib -L$(LIBXUL_DIST)/bin'
 
 MOZ_COMPONENT_NSPR_LIBS='-L$(LIBXUL_DIST)/bin $(NSPR_LIBS)'
 MOZ_XPCOM_OBSOLETE_LIBS='-L$(LIBXUL_DIST)/lib -lxpcom_compat'
@@@@ -2134,7 +2134,7 @@@@ case "$target" in
 	;;
 
 *-openbsd*)
-    DLL_SUFFIX=".so.1.0"
+    DLL_SUFFIX=".so.${SO_VERSION}"
     DSO_CFLAGS=''
     DSO_PIC_CFLAGS='-fPIC'
     DSO_LDOPTS='-shared -fPIC'
@@@@ -2466,7 +2466,7 @@@@ arm*-*)
     ENABLE_JIT=1
     NANOJIT_ARCH=ARM
     ;;
-sparc*-*)
+sparc-*)
     ENABLE_JIT=1
     NANOJIT_ARCH=Sparc
     ;;
@@@@ -2503,7 +2503,7 @@@@ darwin*)
 solaris*)
     AC_DEFINE(AVMPLUS_UNIX)
     ;;
-freebsd*|kfreebsd*)
+freebsd*|kfreebsd*|openbsd*)
     AC_DEFINE(AVMPLUS_UNIX)
     ;;
 *cygwin*|*mingw*|*mks*|*msvc*|*wince)
@


1.6
log
@SECURITY update to 3.5.9:
MFSA 2010-24  XMLDocument::load() doesn't check nsIContentPolicy
MFSA 2010-23 Image src redirect to mailto: URL opens email editor
MFSA 2010-22 Update NSS to support TLS renegotiation indication
MFSA 2010-20 Chrome privilege escalation via forced URL drag and drop
MFSA 2010-19 Dangling pointer vulnerability in nsPluginArray
MFSA 2010-18 Dangling pointer vulnerability in nsTreeContentView
MFSA 2010-17 Remote code execution with use-after-free in nsTreeSelection
MFSA 2010-16 Crashes with evidence of memory corruption
@
text
@d1 1
a1 1
$OpenBSD: patch-js_src_configure_in,v 1.5 2010/02/24 16:59:49 sthen Exp $
@


1.5
log
@SECURITY update to Firefox 3.5.8. Same diff from naddy@@ and Daniel Dickman.
Update sqlite dependency while there.

ok naddy@@
(reminder, ports is not fully open, do not commit without specific permission)
@
text
@d1 3
a3 3
$OpenBSD: patch-js_src_configure_in,v 1.4 2009/07/21 19:53:17 martynas Exp $
--- js/src/configure.in.orig	Tue Feb  2 23:25:17 2010
+++ js/src/configure.in	Fri Feb 19 00:08:38 2010
d13 1
a13 1
@@@@ -2133,7 +2133,7 @@@@ case "$target" in
d22 1
a22 1
@@@@ -2465,7 +2465,7 @@@@ arm*-*)
d31 1
a31 1
@@@@ -2502,7 +2502,7 @@@@ darwin*)
@


1.5.2.1
log
@MFC:

SECURITY UPDATE to firefox35-3.5.9

Also fix bug#514645
@
text
@d1 3
a3 3
$OpenBSD: patch-js_src_configure_in,v 1.5 2010/02/24 16:59:49 sthen Exp $
--- js/src/configure.in.orig	Mon Mar 15 15:53:51 2010
+++ js/src/configure.in	Tue Mar 30 22:40:16 2010
d13 1
a13 1
@@@@ -2134,7 +2134,7 @@@@ case "$target" in
d22 1
a22 1
@@@@ -2466,7 +2466,7 @@@@ arm*-*)
d31 1
a31 1
@@@@ -2503,7 +2503,7 @@@@ darwin*)
@


1.4
log
@do not even try to let configure.in pick up nanojit on sparc64.
sparc* also matches sparc64;  however, native asm code is missing
for jit on sparc64, and jit is not ready for 64-bit in general (yet).
should fix sparc64.  reported by matthieu@@.
@
text
@d1 4
a4 4
$OpenBSD: patch-js_src_configure_in,v 1.3 2009/07/20 20:04:02 martynas Exp $
--- js/src/configure.in.orig	Wed Jul 15 18:34:51 2009
+++ js/src/configure.in	Tue Jul 21 22:47:41 2009
@@@@ -906,7 +906,7 @@@@ HOST_AR='$(AR)'
d13 1
a13 1
@@@@ -2135,7 +2135,7 @@@@ case "$target" in
d22 1
a22 1
@@@@ -2467,7 +2467,7 @@@@ arm*-*)
d31 1
a31 1
@@@@ -2504,7 +2504,7 @@@@ darwin*)
@


1.3
log
@recognize openbsd nanojit target;  giving jit a chance to build
@
text
@d1 1
a1 1
$OpenBSD: patch-js_src_configure_in,v 1.2 2009/06/23 17:55:57 martynas Exp $
d3 1
a3 1
+++ js/src/configure.in	Mon Jul 20 22:59:15 2009
d22 9
@


1.2
log
@ddo not even try to pick up&mix native nspr&nss;  unbreaks if local
nss&nspr is presentt
cleanup xpconnect a bit
bump package name to p2
@
text
@d1 3
a3 3
$OpenBSD: patch-js_src_configure_in,v 1.1 2009/06/21 11:36:11 martynas Exp $
--- js/src/configure.in.orig	Wed Jun 17 07:21:47 2009
+++ js/src/configure.in	Tue Jun 23 13:33:37 2009
d22 9
@


1.1
log
@- use so_version for js
- add js to guess_dirs, and run autoconf for it
- dont redef system types
@
text
@d1 1
a1 1
$OpenBSD$
d3 10
a12 1
+++ js/src/configure.in	Sun Jun 21 13:22:13 2009
@

