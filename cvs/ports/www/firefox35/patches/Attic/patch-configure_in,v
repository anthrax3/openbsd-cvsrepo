head	1.8;
access;
symbols
	OPENBSD_5_2:1.7.0.4
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.2
	OPENBSD_5_0:1.6.0.6
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.4
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.6.0.2
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	martynas_20090621:1.1.1.1
	martynas:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2012.12.04.21.10.12;	author landry;	state dead;
branches;
next	1.7;

1.7
date	2011.12.15.23.05.44;	author nigel;	state Exp;
branches;
next	1.6;

1.6
date	2010.03.31.15.56.45;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2010.02.24.16.59.49;	author sthen;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2009.11.27.21.18.52;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2009.06.23.17.55.57;	author martynas;	state Exp;
branches;
next	1.2;

1.2
date	2009.06.21.13.26.19;	author martynas;	state Exp;
branches;
next	1.1;

1.1
date	2009.06.21.01.31.24;	author martynas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.06.21.01.31.24;	author martynas;	state Exp;
branches;
next	;

1.5.2.1
date	2010.06.12.03.42.22;	author william;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Retire www/firefox35.

You served us well but you're EOL'ed upstream since 18 months, and your
only reason d'etre was the java plugin from jdk 1.6. But those days this
one doesnt receive updates from oracle, and icedtea-web seems to do a
good job at running java crapplets.
Users will be upgraded for free to www/mozilla-firefox !

General agreement/yays from ajacoutot@@ tobiasu@@ dcoppa@@ krw@@ kurt@@
@
text
@$OpenBSD: patch-configure_in,v 1.7 2011/12/15 23:05:44 nigel Exp $
--- configure.in.orig	Wed Apr 20 22:26:00 2011
+++ configure.in	Wed Dec 14 16:24:53 2011
@@@@ -999,7 +999,7 @@@@ MOZ_PNG_LIBS='$(call EXPAND_LIBNAME_PATH,mozpng,$(DEPT
 
 MOZ_JS_LIBS='-L$(LIBXUL_DIST)/bin -lmozjs'
 DYNAMIC_XPCOM_LIBS='-L$(LIBXUL_DIST)/bin -lxpcom -lxpcom_core'
-MOZ_FIX_LINK_PATHS='-Wl,-rpath-link,$(LIBXUL_DIST)/bin -Wl,-rpath-link,$(prefix)/lib'
+MOZ_FIX_LINK_PATHS='-Wl,-rpath-link,$(LIBXUL_DIST)/bin -Wl,-rpath-link,$(prefix)/lib -L$(LIBXUL_DIST)/bin'
 XPCOM_FROZEN_LDOPTS='-L$(LIBXUL_DIST)/bin -lxpcom'
 LIBXUL_LIBS='$(XPCOM_FROZEN_LDOPTS) -lxul'
 XPCOM_GLUE_LDOPTS='$(LIBXUL_DIST)/lib/$(LIB_PREFIX)xpcomglue_s.$(LIB_SUFFIX) $(XPCOM_FROZEN_LDOPTS)'
@@@@ -2355,7 +2355,7 @@@@ case "$target" in
 	;;
 
 *-openbsd*)
-    DLL_SUFFIX=".so.1.0"
+    DLL_SUFFIX=".so.${SO_VERSION}"
     DSO_CFLAGS=''
     DSO_PIC_CFLAGS='-fPIC'
     DSO_LDOPTS='-shared -fPIC'
@@@@ -4026,9 +4026,9 @@@@ AC_CACHE_CHECK(for __thread keyword for TLS variables,
                             ac_cv_thread_keyword=yes,
                             ac_cv_thread_keyword=no)])
 LDFLAGS=$_SAVE_LDFLAGS
-if test "$ac_cv_thread_keyword" = yes; then
-  AC_DEFINE(HAVE_THREAD_TLS_KEYWORD)
-fi
+dnl if test "$ac_cv_thread_keyword" = yes; then
+dnl   AC_DEFINE(HAVE_THREAD_TLS_KEYWORD)
+dnl fi
 
 dnl End of C++ language/feature checks
 AC_LANG_C
@@@@ -5078,8 +5078,8 @@@@ then
     dnl GTK2 toolkit is in use.
     if test "$MOZ_ENABLE_GTK2"
     then
-        MOZ_ENABLE_GNOMEVFS=1
-        MOZ_ENABLE_GCONF=1
+        MOZ_ENABLE_GNOMEVFS=
+        MOZ_ENABLE_GCONF=
         MOZ_ENABLE_LIBGNOME=1
     fi
 
@


1.7
log
@always build without gconf

Ok jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.6 2010/03/31 15:56:45 naddy Exp $
@


1.6
log
@SECURITY update to 3.5.9:
MFSA 2010-24  XMLDocument::load() doesn't check nsIContentPolicy
MFSA 2010-23 Image src redirect to mailto: URL opens email editor
MFSA 2010-22 Update NSS to support TLS renegotiation indication
MFSA 2010-20 Chrome privilege escalation via forced URL drag and drop
MFSA 2010-19 Dangling pointer vulnerability in nsPluginArray
MFSA 2010-18 Dangling pointer vulnerability in nsTreeContentView
MFSA 2010-17 Remote code execution with use-after-free in nsTreeSelection
MFSA 2010-16 Crashes with evidence of memory corruption
@
text
@d1 3
a3 3
$OpenBSD: patch-configure_in,v 1.5 2010/02/24 16:59:49 sthen Exp $
--- configure.in.orig	Mon Mar 15 15:53:43 2010
+++ configure.in	Tue Mar 30 22:42:34 2010
d35 11
@


1.5
log
@SECURITY update to Firefox 3.5.8. Same diff from naddy@@ and Daniel Dickman.
Update sqlite dependency while there.

ok naddy@@
(reminder, ports is not fully open, do not commit without specific permission)
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.4 2009/11/27 21:18:52 naddy Exp $
--- configure.in.orig	Tue Feb  2 23:25:10 2010
+++ configure.in	Fri Feb 19 00:08:38 2010
@@@@ -998,7 +998,7 @@@@ MOZ_PNG_LIBS='$(call EXPAND_LIBNAME_PATH,mozpng,$(DEPT
d13 1
a13 1
@@@@ -2340,7 +2340,7 @@@@ case "$target" in
d22 1
a22 2
@@@@ -4007,9 +4007,9 @@@@ AC_CACHE_CHECK(for __thread keyword for TLS variables,
                             [return tlsIsMainThread;],
d25 1
@


1.5.2.1
log
@MFC:

SECURITY UPDATE to firefox35-3.5.9

Also fix bug#514645
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.5 2010/02/24 16:59:49 sthen Exp $
--- configure.in.orig	Mon Mar 15 15:53:43 2010
+++ configure.in	Tue Mar 30 22:42:34 2010
@@@@ -999,7 +999,7 @@@@ MOZ_PNG_LIBS='$(call EXPAND_LIBNAME_PATH,mozpng,$(DEPT
d13 1
a13 1
@@@@ -2355,7 +2355,7 @@@@ case "$target" in
d22 2
a23 1
@@@@ -4026,9 +4026,9 @@@@ AC_CACHE_CHECK(for __thread keyword for TLS variables,
a25 1
 LDFLAGS=$_SAVE_LDFLAGS
@


1.4
log
@SECURITY update to 3.5.5.  For the list of horrors, see
http://www.mozilla.org/security/known-vulnerabilities/firefox35.html
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_in,v 1.3 2009/06/23 17:55:57 martynas Exp $
--- configure.in.orig	Mon Nov  2 22:42:44 2009
+++ configure.in	Fri Nov 27 03:01:08 2009
@@@@ -1000,7 +1000,7 @@@@ MOZ_PNG_LIBS='$(call EXPAND_LIBNAME_PATH,mozpng,$(DEPT
d13 1
a13 1
@@@@ -2342,7 +2342,7 @@@@ case "$target" in
d22 1
a22 1
@@@@ -4009,9 +4009,9 @@@@ AC_CACHE_CHECK(for __thread keyword for TLS variables,
@


1.3
log
@ddo not even try to pick up&mix native nspr&nss;  unbreaks if local
nss&nspr is presentt
cleanup xpconnect a bit
bump package name to p2
@
text
@d1 3
a3 3
$OpenBSD: patch-configure_in,v 1.2 2009/06/21 13:26:19 martynas Exp $
--- configure.in.orig	Wed Jun 17 07:21:41 2009
+++ configure.in	Tue Jun 23 13:33:05 2009
d22 13
@


1.2
log
@hunk not needed for nss-3.12.3;  which we now have to depend on
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.1.1.1 2009/06/21 01:31:24 martynas Exp $
d3 10
a12 1
+++ configure.in	Sat Jun 20 22:09:10 2009
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.15 2008/11/20 23:41:32 martynas Exp $
a12 9
@@@@ -4132,7 +4132,7 @@@@ MOZ_ARG_WITH_BOOL(system-nss,
     _USE_SYSTEM_NSS=1 )
 
 if test -n "$_USE_SYSTEM_NSS"; then
-    AM_PATH_NSS(3.12.0, [MOZ_NATIVE_NSS=1], [MOZ_NATIVE_NSS=])
+    AM_PATH_NSS(3.12, [MOZ_NATIVE_NSS=1], [MOZ_NATIVE_NSS=])
 fi
 
 if test -n "$MOZ_NATIVE_NSS"; then
@


1.1.1.1
log
@import firefox35-3.5rc2, been using it for couple of months.
wip, not linked to the build yet.  needs nspr&nss updates.
@
text
@@
