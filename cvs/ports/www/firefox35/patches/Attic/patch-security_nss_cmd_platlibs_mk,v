head	1.4;
access;
symbols
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2010.06.28.21.32.05;	author landry;	state dead;
branches;
next	1.3;

1.3
date	2010.03.31.15.56.45;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2009.11.27.21.18.52;	author naddy;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2009.06.21.18.42.15;	author martynas;	state Exp;
branches;
next	;

1.2.2.1
date	2010.06.12.03.42.22;	author william;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Maintenance update to firefox35-3.5.10, Fixes yet another bunch of MFSA,
http://www.mozilla.org/security/known-vulnerabilities/firefox35.html

While here, make it build against systemwide nss/nspr, as others do, and
remove corresponding patches for local copy of nss/nspr. Use newer
${SUBST_CMD} semantics to prettify do-install: target.
@
text
@$OpenBSD: patch-security_nss_cmd_platlibs_mk,v 1.3 2010/03/31 15:56:45 naddy Exp $
--- security/nss/cmd/platlibs.mk.orig	Mon Mar 15 15:54:07 2010
+++ security/nss/cmd/platlibs.mk	Tue Mar 30 22:40:17 2010
@@@@ -179,10 +179,11 @@@@ endif
 # $(EXTRA_SHARED_LIBS) come before $(OS_LIBS), except on AIX.
 EXTRA_SHARED_LIBS += \
 	-L$(DIST)/lib \
-	$(SQLITE) \
 	-L$(NSSUTIL_LIB_DIR) \
-	-lnssutil3 \
 	-L$(NSPR_LIB_DIR) \
+	-L$(LOCALBASE)/lib \
+	$(SQLITE) \
+	-lnssutil3 \
 	-lplc4 \
 	-lplds4 \
 	-lnspr4 \
@


1.3
log
@SECURITY update to 3.5.9:
MFSA 2010-24  XMLDocument::load() doesn't check nsIContentPolicy
MFSA 2010-23 Image src redirect to mailto: URL opens email editor
MFSA 2010-22 Update NSS to support TLS renegotiation indication
MFSA 2010-20 Chrome privilege escalation via forced URL drag and drop
MFSA 2010-19 Dangling pointer vulnerability in nsPluginArray
MFSA 2010-18 Dangling pointer vulnerability in nsTreeContentView
MFSA 2010-17 Remote code execution with use-after-free in nsTreeSelection
MFSA 2010-16 Crashes with evidence of memory corruption
@
text
@d1 1
a1 1
$OpenBSD: patch-security_nss_cmd_platlibs_mk,v 1.2 2009/11/27 21:18:52 naddy Exp $
@


1.2
log
@SECURITY update to 3.5.5.  For the list of horrors, see
http://www.mozilla.org/security/known-vulnerabilities/firefox35.html
@
text
@d1 4
a4 4
$OpenBSD: patch-security_nss_cmd_platlibs_mk,v 1.1 2009/06/21 18:42:15 martynas Exp $
--- security/nss/cmd/platlibs.mk.orig	Wed Nov 25 21:50:05 2009
+++ security/nss/cmd/platlibs.mk	Wed Nov 25 21:51:56 2009
@@@@ -195,10 +195,11 @@@@ endif
@


1.2.2.1
log
@MFC:

SECURITY UPDATE to firefox35-3.5.9

Also fix bug#514645
@
text
@d1 4
a4 4
$OpenBSD: patch-security_nss_cmd_platlibs_mk,v 1.2 2009/11/27 21:18:52 naddy Exp $
--- security/nss/cmd/platlibs.mk.orig	Mon Mar 15 15:54:07 2010
+++ security/nss/cmd/platlibs.mk	Tue Mar 30 22:40:17 2010
@@@@ -179,10 +179,11 @@@@ endif
@


1.1
log
@register nspr&nss;  regen plist
let nspr&nss find external sqlite3
RAND_DEV = /dev/arandom
--disable-jit
@
text
@d1 4
a4 4
$OpenBSD$
--- security/nss/cmd/platlibs.mk.orig	Sun Jun 21 21:34:18 2009
+++ security/nss/cmd/platlibs.mk	Sun Jun 21 21:34:45 2009
@@@@ -201,9 +201,10 @@@@ endif
d8 4
a11 1
+	-L$(NSPR_LIB_DIR) \
d13 2
a14 3
 	$(SQLITE) \
 	-lnssutil3 \
-	-L$(NSPR_LIB_DIR) \
@

