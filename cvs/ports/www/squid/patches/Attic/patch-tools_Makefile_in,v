head	1.5;
access;
symbols
	OPENBSD_5_2:1.3.0.12
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.10
	OPENBSD_5_0:1.3.0.8
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.6
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.4
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.10
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.8
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.6
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.4
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.0.2
	OPENBSD_4_1_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2013.01.22.14.30.46;	author sthen;	state dead;
branches;
next	1.4;

1.4
date	2012.11.28.17.45.29;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2009.10.30.00.56.57;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.20.00.52.32;	author todd;	state Exp;
branches
	1.2.10.1;
next	1.1;

1.1
date	2006.10.03.05.00.49;	author brad;	state Exp;
branches;
next	;

1.2.10.1
date	2010.02.09.03.07.43;	author william;	state Exp;
branches;
next	;


desc
@@


1.5
log
@landry@@ noticed that www/squid was picking up execinfo.h in bulk causing
#ifdef'd headers to be used and dpb was junking it thus breaking the build;
fix by improving detection for backtrace_symbol_fd / libexecinfo and
explicitly using it.
@
text
@$OpenBSD: patch-tools_Makefile_in,v 1.4 2012/11/28 17:45:29 sthen Exp $

## intending to link a static cachemgr.cgi, but this is not enough.

--- tools/Makefile.in.orig	Sat Oct 20 13:40:24 2012
+++ tools/Makefile.in	Fri Nov  9 22:42:29 2012
@@@@ -84,6 +84,7 @@@@ cachemgr__CGIEXT__DEPENDENCIES = $(top_builddir)/src/i
 	$(am__DEPENDENCIES_3) $(am__DEPENDENCIES_3)
 cachemgr__CGIEXT__LINK = $(LIBTOOL) --tag=CXX $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CXXLD) \
+	-nopie -static \
 	$(cachemgr__CGIEXT__CXXFLAGS) $(CXXFLAGS) $(AM_LDFLAGS) \
 	$(LDFLAGS) -o $@@
 am_squidclient_OBJECTS = squidclient.$(OBJEXT) stub_debug.$(OBJEXT) \
@@@@ -438,7 +439,7 @@@@ cachemgr__CGIEXT__SOURCES = cachemgr.cc \
 	test_tools.cc \
 	time.cc
 
-cachemgr__CGIEXT__CXXFLAGS = -DDEFAULT_CACHEMGR_CONFIG=\"$(DEFAULT_CACHEMGR_CONFIG)\" $(AM_CXXFLAGS)
+cachemgr__CGIEXT__CXXFLAGS = -fno-pie -DDEFAULT_CACHEMGR_CONFIG=\"$(DEFAULT_CACHEMGR_CONFIG)\" $(AM_CXXFLAGS)
 all: all-recursive
 
 .SUFFIXES:
@


1.4
log
@Update to Squid 3.2.3.

This is merged from work by myself and Matthias Pitzl @@ genua, thanks to
Rodolfo Gouveia for testing with NTLM.

Flavours have been removed:

- the external helper programs for NTLM/LDAP are now in subpackages:
squid-ldap and squid-ntlm.

- SNMP support is built by default in Squid 3.x so this has moved
to the main package (no external dependencies for this).
@
text
@d1 1
a1 1
$OpenBSD$
@


1.3
log
@update to the latest bug fix release in the 2.7 branch. From Brad (maintainer).
@
text
@d1 23
a23 11
$OpenBSD: patch-tools_Makefile_in,v 1.2 2007/05/20 00:52:32 todd Exp $
--- tools/Makefile.in.orig	Thu Apr 30 21:24:45 2009
+++ tools/Makefile.in	Wed Oct 28 19:16:47 2009
@@@@ -62,6 +62,7 @@@@ PROGRAMS = $(bin_PROGRAMS) $(libexec_PROGRAMS)
 am_cachemgr__CGIEXT__OBJECTS = cachemgr__CGIEXT_-cachemgr.$(OBJEXT)
 cachemgr__CGIEXT__OBJECTS = $(am_cachemgr__CGIEXT__OBJECTS)
 cachemgr__CGIEXT__LDADD = $(LDADD)
+cachemgr__CGIEXT__LDFLAGS = -static
 am__DEPENDENCIES_1 =
 cachemgr__CGIEXT__DEPENDENCIES = $(am__DEPENDENCIES_1)
 cachemgr__CGIEXT__LINK = $(CCLD) $(cachemgr__CGIEXT__CFLAGS) $(CFLAGS) \
@


1.2
log
@update to 2.6 stable13, from brad@@ (maint)
ok kili@@ tested by me
@
text
@d1 4
a4 4
$OpenBSD: patch-tools_Makefile_in,v 1.1 2006/10/03 05:00:49 brad Exp $
--- tools/Makefile.in.orig	Sat Nov  4 18:20:05 2006
+++ tools/Makefile.in	Sat May 12 23:44:44 2007
@@@@ -65,6 +65,7 @@@@ PROGRAMS = $(bin_PROGRAMS) $(libexec_PROGRAMS)
d11 1
a11 1
 am_cossdump_OBJECTS = cossdump.$(OBJEXT)
@


1.2.10.1
log
@MFC:

SECURITY FIX

Resolves:  CVE-2009-2855, CVE-2010-0308, and bugfixes

ok Brad jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-tools_Makefile_in,v 1.3 2009/10/30 00:56:57 sthen Exp $
--- tools/Makefile.in.orig	Thu Apr 30 21:24:45 2009
+++ tools/Makefile.in	Wed Oct 28 19:16:47 2009
@@@@ -62,6 +62,7 @@@@ PROGRAMS = $(bin_PROGRAMS) $(libexec_PROGRAMS)
d11 1
a11 1
 cachemgr__CGIEXT__LINK = $(CCLD) $(cachemgr__CGIEXT__CFLAGS) $(CFLAGS) \
@


1.1
log
@upgrade to 2.6.STABLE4

Squid 2.6 supports kqueue and hw accelerated SSL via OpenSSL,
as well as many other improvements.
@
text
@d1 4
a4 4
$OpenBSD$
--- tools/Makefile.in.orig	Fri Sep 22 05:09:50 2006
+++ tools/Makefile.in	Tue Sep 26 19:32:49 2006
@@@@ -65,6 +65,7 @@@@ PROGRAMS = $(bin_PROGRAMS) $(libexec_PRO
@

