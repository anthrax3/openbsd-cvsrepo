head	1.11;
access;
symbols
	OPENBSD_3_6:1.9.0.2
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.8.0.4
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.2
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.7.0.4
	OPENBSD_3_3_BASE:1.7
	OPENBSD_3_2:1.7.0.2
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.6.0.2
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.4.0.6
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.4
	OPENBSD_2_9:1.4.0.4
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.1.0.4
	OPENBSD_2_7_BASE:1.1
	OPENBSD_2_6:1.1.0.2
	OPENBSD_2_6_BASE:1.1;
locks; strict;
comment	@# @;


1.11
date	2004.12.07.19.33.33;	author alek;	state dead;
branches;
next	1.10;

1.10
date	2004.10.31.07.20.29;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2004.04.15.07.34.11;	author xsa;	state Exp;
branches;
next	1.8;

1.8
date	2003.07.08.20.43.21;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2002.08.23.14.10.20;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2002.02.20.20.31.27;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2002.02.20.01.17.03;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2000.07.29.00.04.58;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2000.07.19.06.47.03;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2000.06.28.07.08.31;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.05.09.20.01.56;	author brad;	state Exp;
branches
	1.1.4.1;
next	;

1.1.4.1
date	2000.09.15.05.22.19;	author marc;	state Exp;
branches;
next	;


desc
@@


1.11
log
@- Kill DEINSTALL
- Replace INSTALL with @@samples, @@execs, etc.
- Add WANTLIB marker
- Bump PKGNAME
@
text
@#!/bin/sh
# $OpenBSD: DEINSTALL,v 1.10 2004/10/31 07:20:29 brad Exp $
#
# Squid de-installation

PATH=/bin:/usr/bin:/sbin:/usr/sbin
PREFIX=${PKG_PREFIX:-/usr/local}
CONFIG_DIR=${SYSCONFDIR}/squid
SQUIDDIR=${SQUIDDIR}

if [ ${PKG_DELETE_EXTRA} != Yes -a -d $CONFIG_DIR ]; then
	echo "+---------------"
	echo "| To completely deinstall the $1 package you need to perform"
	echo "| these steps as root:"
	echo "|"
	echo "|           rm -rf $CONFIG_DIR"
	echo "|           rm -rf $PREFIX/share/squid"
	echo "|           rm -rf $SQUIDDIR"
	echo "|           rm -f /var/run/squid.pid"
	echo "|"
	echo "| Do not do this if you plan on re-installing $1"
	echo "| at some future time."
	echo "+---------------"
fi

exit 0
@


1.10
log
@use @@newgroup / @@newuser
@
text
@d2 1
a2 1
# $OpenBSD: DEINSTALL,v 1.9 2004/04/15 07:34:11 xsa Exp $
@


1.9
log
@
@@extraaaaaaaaaaaaaaaaa ...
ok dhartmei@@ jolan@@ brad@@ for their respective port;
@
text
@d2 1
a2 1
# $OpenBSD: DEINSTALL,v 1.8 2003/07/08 20:43:21 brad Exp $
a9 2
SQUIDUSER=_squid
SQUIDGROUP=_squid
a15 2
	echo "|           userdel $SQUIDUSER"
	echo "|           groupdel $SQUIDGROUP"
@


1.8
log
@switch to new schema for user/group.
--
From: sturm@@
Thanks to mpech@@ for testing and pointing out the user/group
I almost missed in MESSAGE.
@
text
@d2 1
a2 1
# $OpenBSD: DEINSTALL,v 1.7 2002/08/23 14:10:20 brad Exp $
d13 16
a28 16
echo
echo "+---------------"
echo "| To completely deinstall the $1 package you need to perform"
echo "| these steps as root:"
echo "|"
echo "|           userdel $SQUIDUSER"
echo "|           groupdel $SQUIDGROUP"
echo "|           rm -rf $CONFIG_DIR"
echo "|           rm -rf $PREFIX/share/squid"
echo "|           rm -rf $SQUIDDIR"
echo "|           rm -f /var/run/squid.pid"
echo "|"
echo "| Do not do this if you plan on re-installing $1"
echo "| at some future time."
echo "+---------------"
echo
@


1.7
log
@upgrade to Squid 2.5.PRE11
@
text
@d2 1
a2 1
# $OpenBSD: DEINSTALL,v 1.6 2002/02/20 20:31:27 brad Exp $
d10 2
a11 2
SQUIDUSER=squid
SQUIDGROUP=squid
@


1.6
log
@use uid/gid of squid:squid instead of nobody:nogroup
@
text
@d2 1
a2 1
# $OpenBSD: DEINSTALL,v 1.5 2002/02/20 01:17:03 brad Exp $
d8 1
a8 1
CONFIG_DIR=${SYSCONFDIR}
@


1.5
log
@upgrade to Squid 2.5.PRE4
- The port now runs as uid/gid of nobody:nobody instead of www:www
- This needs some testing, especially the transparent proxy support for PF
@
text
@d2 1
a2 1
# $OpenBSD: DEINSTALL,v 1.4 2000/07/29 00:04:58 brad Exp $
d4 1
a4 1
# squid de-installation
a5 1
set -e
d10 2
d18 2
@


1.4
log
@- unconditionally show DEINSTALL message since there is more than just the
config directory that has to be removed
- change a whole bunch of vars in INSTALL from ${FOO} to $FOO so they do
not get substituded and have the substitution occur only once at the top
of the INSTALL script
@
text
@d2 1
a2 1
# $OpenBSD: DEINSTALL,v 1.3 2000/07/19 06:47:03 brad Exp $
d10 1
a10 1
STATEDIR=${STATEDIR}
d19 1
a19 1
echo "|           rm -rf $STATEDIR"
@


1.3
log
@add #!/bin/sh
@
text
@d2 1
a2 1
# $OpenBSD: DEINSTALL,v 1.2 2000/06/28 07:08:31 brad Exp $
d8 3
a10 1
CONFIG_FILE=${SYSCONFDIR}/squid.conf
d12 14
a25 16
if [ -f ${CONFIG_FILE} ]; then
    echo
    echo "+---------------"
    echo "| To completely deinstall the $1 package you need to perform"
    echo "| these steps as root:"
    echo "|"
    echo "|           rm -rf ${SYSCONFDIR}"
    echo "|           rm -rf ${PREFIX}/share/squid"
    echo "|           rm -rf ${STATEDIR}"
    echo "|           rm -f /var/run/squid.pid"
    echo "|"
    echo "| Do not do this if you plan on re-installing $1"
    echo "| at some future time."
    echo "+---------------"
    echo
fi
@


1.2
log
@upgrade to Squid 2.3.STABLE3

- NOTE: you can now override the dir used for cache/logs by using the
variable STATEDIR. i.e., "make STATEDIR=/alternate/dir package", and it
will be substituted into the INSTALL/DEINSTALL scripts.
@
text
@d1 2
a2 1
# $OpenBSD: DEINSTALL,v 1.1 1999/05/09 20:01:56 brad Exp $
@


1.1
log
@upgrade to Squid 2.2
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 2
PREFIX=${PKG_PREFIX:-/usr/local}
CONFIG_FILE=/etc/squid/squid.conf
d15 3
a17 3
    echo "|           rm -rf /etc/squid"
    echo "|           rm -rf /usr/local/share/squid"
    echo "|           rm -rf /var/squid"
@


1.1.4.1
log
@bring www as of cut-over date into 2.7 branch
@
text
@d1 1
a1 2
#!/bin/sh
# $OpenBSD: DEINSTALL,v 1.4 2000/07/29 00:04:58 brad Exp $
d8 1
a8 2
CONFIG_DIR=${SYSCONFDIR}
STATEDIR=${STATEDIR}
d10 16
a25 14
echo
echo "+---------------"
echo "| To completely deinstall the $1 package you need to perform"
echo "| these steps as root:"
echo "|"
echo "|           rm -rf $CONFIG_DIR"
echo "|           rm -rf $PREFIX/share/squid"
echo "|           rm -rf $STATEDIR"
echo "|           rm -f /var/run/squid.pid"
echo "|"
echo "| Do not do this if you plan on re-installing $1"
echo "| at some future time."
echo "+---------------"
echo
@


