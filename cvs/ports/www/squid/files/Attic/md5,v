head	1.20;
access;
symbols
	OPENBSD_3_0:1.19.0.2
	OPENBSD_3_0_BASE:1.19
	OPENBSD_2_9_TRACKING_SWITCH:1.19
	OPENBSD_2_9:1.18.0.2
	OPENBSD_2_9_BASE:1.18
	OPENBSD_2_8:1.14.0.2
	OPENBSD_2_8_BASE:1.14
	OPENBSD_2_7:1.9.0.2
	OPENBSD_2_7_BASE:1.9
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	marc_1998-Sep-13:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.20
date	2002.02.20.01.17.03;	author brad;	state dead;
branches;
next	1.19;

1.19
date	2001.07.20.14.37.38;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2001.03.14.14.39.55;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2000.12.08.17.09.53;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2000.11.21.23.36.54;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2000.11.17.22.35.53;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.08.11.06.30.35;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2000.07.23.18.21.20;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2000.07.20.22.41.40;	author chris;	state Exp;
branches;
next	1.11;

1.11
date	2000.07.20.01.17.10;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2000.06.28.07.08.29;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2000.03.30.21.59.26;	author brad;	state Exp;
branches
	1.9.2.1;
next	1.8;

1.8
date	2000.01.17.15.38.38;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	99.12.09.19.48.18;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.10.01.00.01.55;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	99.07.08.23.27.39;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.05.22.18.23.33;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.05.09.20.01.51;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.03.04.05.59.13;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.09.14.01.36.52;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.09.14.01.36.52;	author marc;	state Exp;
branches;
next	;

1.9.2.1
date	2000.09.15.05.22.14;	author marc;	state Exp;
branches;
next	;


desc
@@


1.20
log
@upgrade to Squid 2.5.PRE4
- The port now runs as uid/gid of nobody:nobody instead of www:www
- This needs some testing, especially the transparent proxy support for PF
@
text
@MD5 (squid/squid-2.3.STABLE5-src.tar.gz) = 1a1ae6f496600f3af697692a5ad031f0
RMD160 (squid/squid-2.3.STABLE5-src.tar.gz) = f7fdde83ff8371379465a9e6f827889bb3836317
SHA1 (squid/squid-2.3.STABLE5-src.tar.gz) = 1d72129f9cfc36147c911b8058040877839b554a
@


1.19
log
@upgrade to Squid 2.3.STABLE5
@
text
@@


1.18
log
@add a distribution patch:

squid-2.3.stable4-snmp-community-null-pointer.patch
Sending an unparsable SNMP query to Squid can cause a segment violation
@
text
@d1 3
a3 27
MD5 (squid/squid-2.3.STABLE4-src.tar.gz) = c38c083f44c222a8d026fa129c30b98f
MD5 (squid/squid-2.3.stable4-accel_only_access.patch) = db8e4eb9c1712a4adde7e9aaed0b5249
MD5 (squid/squid-2.3.stable4-carp-assertion.patch) = c3d48a2b4fc26c0d90eb4c30ae34d3d6
MD5 (squid/squid-2.3.stable4-ftp_icon_not_found.patch) = f1383b24672f9a8317c2c16302a94eaa
MD5 (squid/squid-2.3.stable4-html_quoting.patch) = 68228709d011c93c2cccd9ac723fb462
MD5 (squid/squid-2.3.stable4-internal_dns_rcode_table_formatting.patch) = bec46f5a1fcbd9aa1deb9d518c5c11a5
MD5 (squid/squid-2.3.stable4-invalid_ip_acl_entry.patch) = 436eb77056bed5d45547c739d1123bd3
MD5 (squid/squid-2.3.stable4-ipfw_configure.patch) = 4453c53a712280a26fdca42c950bc94f
MD5 (squid/squid-2.3.stable4-snmp-community-null-pointer.patch) = 9f0cc927a440a289b8d515aec451303f
RMD160 (squid/squid-2.3.STABLE4-src.tar.gz) = 0719f8e916b7f4cd011abcd17faf3ec68339c9b2
RMD160 (squid/squid-2.3.stable4-accel_only_access.patch) = 81abb8b22d8f3dc2ed0538e335754e253ca489bc
RMD160 (squid/squid-2.3.stable4-carp-assertion.patch) = 0e94d16275a2ceb8581d64448e664704527f7f35
RMD160 (squid/squid-2.3.stable4-ftp_icon_not_found.patch) = 8e01afa8a06e54a2ac6f4ac28a3c79d03d69ffd7
RMD160 (squid/squid-2.3.stable4-html_quoting.patch) = af531eff52fac881320d4c9bcec14912abbf9308
RMD160 (squid/squid-2.3.stable4-internal_dns_rcode_table_formatting.patch) = cd1522b16eabe046b80076eac8e89c992ca4ffd4
RMD160 (squid/squid-2.3.stable4-invalid_ip_acl_entry.patch) = 1447cb011f6e472e65e27690d7dfbe5589ecab59
RMD160 (squid/squid-2.3.stable4-ipfw_configure.patch) = 3c895c9800d86a32cd73d192c1d97a76db8493ee
RMD160 (squid/squid-2.3.stable4-snmp-community-null-pointer.patch) = 0c40408fb9f8d74adb60730d2fb93af9a35d461c
SHA1 (squid/squid-2.3.STABLE4-src.tar.gz) = 69fba1c0c14ff7b40837ab6357eed706ad55b3ae
SHA1 (squid/squid-2.3.stable4-accel_only_access.patch) = e6f6932e5e5c4a5dde462dcce221ee9fb0a2342d
SHA1 (squid/squid-2.3.stable4-carp-assertion.patch) = 5d02606b3c65c07034fc8505e12802392656232a
SHA1 (squid/squid-2.3.stable4-ftp_icon_not_found.patch) = 59fca251f4250d7a4580aeb40190abe144575285
SHA1 (squid/squid-2.3.stable4-html_quoting.patch) = 5a1e21a212f784ef8bfb277f80e69819adcc7e84
SHA1 (squid/squid-2.3.stable4-internal_dns_rcode_table_formatting.patch) = 4403fe55cb75762c24701d45e1a36789cd7c84e5
SHA1 (squid/squid-2.3.stable4-invalid_ip_acl_entry.patch) = 8792fcad959176f62a20ff2b8892303e0026bf65
SHA1 (squid/squid-2.3.stable4-ipfw_configure.patch) = fd5b0464723312c1e73f2b027ab3baa0220be6e9
SHA1 (squid/squid-2.3.stable4-snmp-community-null-pointer.patch) = 1ee87cb442bf0540678740100934cfb60bdcea04
@


1.17
log
@add a distribution patch: (and update checksum for HTML quoting patch)

squid-2.3.stable4-carp-assertion.patch
Comparing floating point numbers for equality is tricky. The old way can cause an assertion even though two numbers actually do add up to 1
@
text
@d9 1
d18 1
d27 1
@


1.16
log
@update checksums for squid-2.3.stable4-html_quoting.patch patch now that
the issue has been fixed.
@
text
@d3 1
d5 1
a5 1
MD5 (squid/squid-2.3.stable4-html_quoting.patch) = bc36804ebe04b77b5427a4534683927d
d11 1
d13 1
a13 1
RMD160 (squid/squid-2.3.stable4-html_quoting.patch) = 7a4c507831f69e1c51f78c84f4bd841dd4c364f3
d19 1
d21 1
a21 1
SHA1 (squid/squid-2.3.stable4-html_quoting.patch) = f890a2ff480e23b3036cd9069a6bb45dfafde5c2
@


1.15
log
@add 2 distribution patches: (and fix a mistake in the HTML quoting patch)

squid-2.3.stable4-accel_only_access.patch
clientAccessCheck incorrectly returns ACCESS_ALLOWED for proxy requests
when configured as an HTTP accelerator only

squid-2.3.stable4-html_quoting.patch
Everywhere where Squid inserts text received from the network into a HTML
page (error pages, FTP listings, Gopher listings, ...) care must be taken
to ensure that the text is properly encoded as HTML, or a malicious user
might be able to insert script code or other HTML tags, and exploit the
web browser of any user visiting their page or clicking on that funny link
received in a email..
@
text
@d4 1
a4 1
MD5 (squid/squid-2.3.stable4-html_quoting.patch) = 9f9d8ed38e3706ba4e6d851fae35f1bf
d11 1
a11 1
RMD160 (squid/squid-2.3.stable4-html_quoting.patch) = f5be2c30f31fd9f69e1acd375d45432b5d076b5b
d18 1
a18 1
SHA1 (squid/squid-2.3.stable4-html_quoting.patch) = d1691ef351e8c41600271e68ebc9c835232f3cb4
@


1.14
log
@add 2 distribution patches:

squid-2.3.stable4-ipfw_configure.patch
The configure script uses "==" when it should use "=" for /bin/test

squid-2.3.stable4-invalid_ip_acl_entry.patch
The code that scans ACL tokens for IP addresses and hostnames couldn't
tell that "123.foo.com" is a hostname rather than an IP address
@
text
@d2 1
d4 1
d9 1
d11 1
d16 1
d18 1
@


1.13
log
@add a distribution patch:

squid-2.3.stable4-internal_dns_rcode_table_formatting.patch
Missing a newline on cachemgr output
@
text
@d4 2
d9 2
d14 2
@


1.12
log
@Add a patch for Squid STABLE4 that fixes ftp icons
@
text
@d3 1
d6 1
d9 1
@


1.11
log
@upgrade to Squid 2.3.STABLE4
@
text
@d2 1
d4 1
d6 1
@


1.10
log
@upgrade to Squid 2.3.STABLE3

- NOTE: you can now override the dir used for cache/logs by using the
variable STATEDIR. i.e., "make STATEDIR=/alternate/dir package", and it
will be substituted into the INSTALL/DEINSTALL scripts.
@
text
@d1 3
a3 12
MD5 (squid/squid-2.3.STABLE3-src.tar.gz) = 8c2384ea5e17c68941fea4cdeef3b6f7
MD5 (squid/squid-2.3.stable3-carp_compile.patch) = 6bc79fd59484d7b4acc55d268a6e5081
MD5 (squid/squid-2.3.stable3-storeExpiredReferenceAge.patch) = e98c735db35ed1f38363e54d9bf6d788
MD5 (squid/squid-2.3.stable3-zero-content-length.patch) = 8e885f8ae0c3c2fefda682133f26cc06
RMD160 (squid/squid-2.3.STABLE3-src.tar.gz) = f5a27b3d69a363afbf7bee8b725cec5053b21443
RMD160 (squid/squid-2.3.stable3-carp_compile.patch) = 55efcce592bda061a14f57eab75d5c1d7a3e5a5e
RMD160 (squid/squid-2.3.stable3-storeExpiredReferenceAge.patch) = 350a234ca5fa3fd55d8f109a7b33e842fc8f3347
RMD160 (squid/squid-2.3.stable3-zero-content-length.patch) = b43f966c254444a99ff5f8e0f22e54ac40fe0ebf
SHA1 (squid/squid-2.3.STABLE3-src.tar.gz) = 1a043657be3adbd41b93e341a53f02685834e046
SHA1 (squid/squid-2.3.stable3-carp_compile.patch) = 2e463e0c904548f59b20cf15e4b059b7e7a1d858
SHA1 (squid/squid-2.3.stable3-storeExpiredReferenceAge.patch) = 40098a26c3723a9df6357ad46b2ec6e65d40508c
SHA1 (squid/squid-2.3.stable3-zero-content-length.patch) = b704bf7dda98e46d15e6d54ed20171ba69ad69e8
@


1.9
log
@- bump NEED_VERSION
- fix MASTER_SITES URLs, squid.nlanr.net -> www.squid-cache.org
- use DIST_SUBDIR
- YES -> Yes
- remove unnecessary CONFIGURE_ARGS option
- remove STRIP variable since INSTALL_PROGRAM has used INSTALL_STRIP for
awhile now, better fix coming soon
@
text
@d1 12
a12 15
MD5 (squid/squid-2.2.STABLE5-src.tar.gz) = e5b02867a4c58ac5db191041a9c298b6
MD5 (squid/squid-2.2.stable5-domain-match.patch) = 4731e1f7f7886b7e733432fb3a9496c1
MD5 (squid/squid-2.2.stable5-ipcache_negative.patch) = 20bfacdf3722a9957ea5ca6c64626aa2
MD5 (squid/squid-2.2.stable5-newlines_in_auth.patch) = 5860cdc5613486f04571b81da40d4958
MD5 (squid/squid-2.2.stable5-no_cache.patch) = adb98dcb868da61ffcf5035cbf7f1049
RMD160 (squid/squid-2.2.STABLE5-src.tar.gz) = ea2dada08f2d63cb83be8a97717e403ee62330e7
RMD160 (squid/squid-2.2.stable5-domain-match.patch) = a9fa78b0891bee8aec684b91fe3af58b408ae75a
RMD160 (squid/squid-2.2.stable5-ipcache_negative.patch) = dcb9ac05647d92f476704c3f24d5984cac1d90e1
RMD160 (squid/squid-2.2.stable5-newlines_in_auth.patch) = b81e3e685ebeb8503eb2ab79b8f90be4c2552802
RMD160 (squid/squid-2.2.stable5-no_cache.patch) = 8677052f0f57549e3bc4859f05a0caf650d44e7d
SHA1 (squid/squid-2.2.STABLE5-src.tar.gz) = ab03c701a3e21805bcf313b54f95dd3fe435a67f
SHA1 (squid/squid-2.2.stable5-domain-match.patch) = b03c2bbd7da4f89e724badae4d977289de2deb7b
SHA1 (squid/squid-2.2.stable5-ipcache_negative.patch) = 23bb13dbe470a31b190b6ce6e0982591f9fe4a66
SHA1 (squid/squid-2.2.stable5-newlines_in_auth.patch) = 5fa99dce569b9e297890e4fe275d6b97f38d8456
SHA1 (squid/squid-2.2.stable5-no_cache.patch) = 3dadd96c7b9081d1c4b79a7137ced42459fcd744
@


1.9.2.1
log
@bring www as of cut-over date into 2.7 branch
@
text
@d1 15
a15 15
MD5 (squid/squid-2.3.STABLE4-src.tar.gz) = c38c083f44c222a8d026fa129c30b98f
MD5 (squid/squid-2.3.stable4-ftp_icon_not_found.patch) = f1383b24672f9a8317c2c16302a94eaa
MD5 (squid/squid-2.3.stable4-internal_dns_rcode_table_formatting.patch) = bec46f5a1fcbd9aa1deb9d518c5c11a5
MD5 (squid/squid-2.3.stable4-invalid_ip_acl_entry.patch) = 436eb77056bed5d45547c739d1123bd3
MD5 (squid/squid-2.3.stable4-ipfw_configure.patch) = 4453c53a712280a26fdca42c950bc94f
RMD160 (squid/squid-2.3.STABLE4-src.tar.gz) = 0719f8e916b7f4cd011abcd17faf3ec68339c9b2
RMD160 (squid/squid-2.3.stable4-ftp_icon_not_found.patch) = 8e01afa8a06e54a2ac6f4ac28a3c79d03d69ffd7
RMD160 (squid/squid-2.3.stable4-internal_dns_rcode_table_formatting.patch) = cd1522b16eabe046b80076eac8e89c992ca4ffd4
RMD160 (squid/squid-2.3.stable4-invalid_ip_acl_entry.patch) = 1447cb011f6e472e65e27690d7dfbe5589ecab59
RMD160 (squid/squid-2.3.stable4-ipfw_configure.patch) = 3c895c9800d86a32cd73d192c1d97a76db8493ee
SHA1 (squid/squid-2.3.STABLE4-src.tar.gz) = 69fba1c0c14ff7b40837ab6357eed706ad55b3ae
SHA1 (squid/squid-2.3.stable4-ftp_icon_not_found.patch) = 59fca251f4250d7a4580aeb40190abe144575285
SHA1 (squid/squid-2.3.stable4-internal_dns_rcode_table_formatting.patch) = 4403fe55cb75762c24701d45e1a36789cd7c84e5
SHA1 (squid/squid-2.3.stable4-invalid_ip_acl_entry.patch) = 8792fcad959176f62a20ff2b8892303e0026bf65
SHA1 (squid/squid-2.3.stable4-ipfw_configure.patch) = fd5b0464723312c1e73f2b027ab3baa0220be6e9
@


1.8
log
@- check that PATCH_DEBUG is set to yes instead of just being defined
- change MAINTAINER, ports@@ -> brad@@
- add 2 distribution patches;

squid-2.2.stable5-domain-match.patch
Matching a hostname and a domain name doesn't always work, depending on
leading dots and other edge conditions. Plus, the code for matching in
ACL's worked one way, while the code for matching 'cache_peer_domain' list
worked slighly different.

The patch below makes all host/domain matching operate the same way. It
also changes the rules a bit, so your current configuration probably will
not work the way you want after applying this patch.

- patch was included in the patches dir because of the difference in
relative path in comparison to all the other distribution patches.

squid-2.2.stable5-mkhttpdlogtime-end-of-year.patch = patch-ai
mkhttpdlogtime() generates a date string of the form 31/Dec/1999:23:59:59 +0900.
But when the year changes, the timezone offset will be wrong, for example:
01/Jan/2000:00:00:00 -1500.
@
text
@d1 15
a15 15
MD5 (squid-2.2.STABLE5-src.tar.gz) = e5b02867a4c58ac5db191041a9c298b6
MD5 (squid-2.2.stable5-domain-match.patch) = 4731e1f7f7886b7e733432fb3a9496c1
MD5 (squid-2.2.stable5-ipcache_negative.patch) = 20bfacdf3722a9957ea5ca6c64626aa2
MD5 (squid-2.2.stable5-newlines_in_auth.patch) = 5860cdc5613486f04571b81da40d4958
MD5 (squid-2.2.stable5-no_cache.patch) = adb98dcb868da61ffcf5035cbf7f1049
RMD160 (squid-2.2.STABLE5-src.tar.gz) = ea2dada08f2d63cb83be8a97717e403ee62330e7
RMD160 (squid-2.2.stable5-domain-match.patch) = a9fa78b0891bee8aec684b91fe3af58b408ae75a
RMD160 (squid-2.2.stable5-ipcache_negative.patch) = dcb9ac05647d92f476704c3f24d5984cac1d90e1
RMD160 (squid-2.2.stable5-newlines_in_auth.patch) = b81e3e685ebeb8503eb2ab79b8f90be4c2552802
RMD160 (squid-2.2.stable5-no_cache.patch) = 8677052f0f57549e3bc4859f05a0caf650d44e7d
SHA1 (squid-2.2.STABLE5-src.tar.gz) = ab03c701a3e21805bcf313b54f95dd3fe435a67f
SHA1 (squid-2.2.stable5-domain-match.patch) = b03c2bbd7da4f89e724badae4d977289de2deb7b
SHA1 (squid-2.2.stable5-ipcache_negative.patch) = 23bb13dbe470a31b190b6ce6e0982591f9fe4a66
SHA1 (squid-2.2.stable5-newlines_in_auth.patch) = 5fa99dce569b9e297890e4fe275d6b97f38d8456
SHA1 (squid-2.2.stable5-no_cache.patch) = 3dadd96c7b9081d1c4b79a7137ced42459fcd744
@


1.7
log
@add 3 distribution patches;

squid-2.2.stable5-newlines_in_auth.patch
After decoding the base64 encoded "user:password" pair given by the
client, squid doesn't strip out any '\n' found in the resulting
string. Given such a string, any external authenticator will receive two
lines instead of one, and most probably send two results. Now, any
subsequent authentification exchange will have its answer shifted by
one. Therefore, a malicious user can gain access to sites they should not
have access to.

squid-2.2.stable5-ipcache_negative.patch
The IP cache immediately removes entries that should be negatively
cached. This appears to be due to some changes made for retrying failed
connections.

squid-2.2.stable5-no_cache.patch
A missing no_cache list is treated the same as no_cache deny all.
@
text
@d2 1
d7 1
d12 1
@


1.6
log
@upgrade to Squid 2.2-STABLE5
@
text
@d2 3
d6 3
d10 3
@


1.5
log
@upgrade to Squid 2.2-STABLE4
@
text
@d1 3
a3 3
MD5 (squid-2.2.STABLE4-src.tar.gz) = 4bd0bfe6fd63b10967afb5683f52a90f
RMD160 (squid-2.2.STABLE4-src.tar.gz) = e609f731f16e4b8bd27f5be4bb80689f0b8f5559
SHA1 (squid-2.2.STABLE4-src.tar.gz) = d9c0b1373d4916af0003233ef7e50b1921b724af
@


1.4
log
@upgrade to Squid 2.2.STABLE3
@
text
@d1 3
a3 3
MD5 (squid-2.2.STABLE3-src.tar.gz) = bd18cc92bed5a5f28a0757298c99b542
RMD160 (squid-2.2.STABLE3-src.tar.gz) = 3c2ef0ed06a37da43e9cb822288f0820d6422bd7
SHA1 (squid-2.2.STABLE3-src.tar.gz) = 21570f3625fd8baed118bfe69ddd3b69e4206164
@


1.3
log
@upgrade to Squid 2.2
@
text
@d1 3
a3 3
MD5 (squid-2.2.STABLE2-src.tar.gz) = 310e4d604b071214cf4cd9688502b0e8
RMD160 (squid-2.2.STABLE2-src.tar.gz) = b72c8e83bd666c6ae11c7c923ddc2ebc3c2270f3
SHA1 (squid-2.2.STABLE2-src.tar.gz) = d2b30a19d2f7cd89e3f99aab282315ace0b6bf63
@


1.2
log
@add sha1 and rmd160 checksum to the existing md5 sums for all files;
Porters: please make sure you use bsd.port.mk 1.75 or later when
updating ports.  That version of the makefile adds all sums.  Previous
versions of the makefile will still work for people installing ports.
@
text
@d1 3
a3 3
MD5 (squid-1.1.22-src.tar.gz) = 828101d443836c4bd362cf0b9e46e6a0
RMD160 (squid-1.1.22-src.tar.gz) = d5a0836204cd59465d075a6355d412cd070d4972
SHA1 (squid-1.1.22-src.tar.gz) = 626b3c9d157b51c5ec5680cd151a774aea158a5a
@


1.1
log
@Initial revision
@
text
@d2 2
@


1.1.1.1
log
@squid port from d@@openbsd.org
@
text
@@
