head	1.2;
access;
symbols
	OPENBSD_5_0:1.1.0.6
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.4
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.09.18.22.44.18;	author landry;	state dead;
branches;
next	1.1;

1.1
date	2010.05.06.19.25.51;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Die die old horrible unmaintained piece of code. Too much bad memories
in there.
prodded by aja@@
@
text
@$OpenBSD: patch-src_dialogs_kz-about-dialog_c,v 1.1 2010/05/06 19:25:51 landry Exp $
--- src/dialogs/kz-about-dialog.c.orig	Mon May  3 22:09:12 2010
+++ src/dialogs/kz-about-dialog.c	Mon May  3 22:09:30 2010
@@@@ -78,7 +78,7 @@@@ cb_expose_event(GtkWidget *widget, GdkEventExpose *eve
 
 	/* Draw background image */
 	gdk_draw_pixbuf(widget->window,
-			widget->style->bg_gc[GTK_WIDGET_STATE(widget)],
+			widget->style->bg_gc[gtk_widget_get_state(widget)],
 			image,
 			0, 0,
 			0, 0,
@@@@ -87,7 +87,7 @@@@ cb_expose_event(GtkWidget *widget, GdkEventExpose *eve
 			0, 0);
 	/* Draw logo at top right */
 	gdk_draw_pixbuf(widget->window,
-			widget->style->fg_gc[GTK_WIDGET_STATE(widget)],
+			widget->style->fg_gc[gtk_widget_get_state(widget)],
 			logo,
 			0, 0,
 			bg_width - logo_width, 0,
@@@@ -113,7 +113,7 @@@@ cb_expose_event(GtkWidget *widget, GdkEventExpose *eve
 	pango_layout_set_alignment(info_layout, PANGO_ALIGN_RIGHT);
 	pango_layout_get_pixel_extents(info_layout, &link, &logical);
 	gdk_draw_layout(widget->window,
-			widget->style->fg_gc[GTK_WIDGET_STATE(widget)],
+			widget->style->fg_gc[gtk_widget_get_state(widget)],
 			bg_width - logical.width, logo_height,
 			info_layout);
 	g_free (version);
@@@@ -127,7 +127,7 @@@@ cb_expose_event(GtkWidget *widget, GdkEventExpose *eve
 	pango_layout_set_width(copyright_layout, -1);
 	pango_layout_get_pixel_extents(copyright_layout, &link, &logical);
 	gdk_draw_layout(widget->window,
-			widget->style->fg_gc[GTK_WIDGET_STATE(widget)],
+			widget->style->fg_gc[gtk_widget_get_state(widget)],
 			bg_width - logical.width, bg_height - logical.height,
 			copyright_layout);
 
@


1.1
log
@WIP on unbreaking kazehakase:
- update to 0.5.8
- backport upstream svn r3871 to let it build with latest gtk+2
- switch to xulrunner 1.9.x (breaks gecko backend while here)
- don't try to create a dbus server socket in a non-existent dir
It is still badly broken, as upstream doesn't seem to care about
shipping working stuff... but at least it builds and packages.
@
text
@d1 1
a1 1
$OpenBSD$
@

