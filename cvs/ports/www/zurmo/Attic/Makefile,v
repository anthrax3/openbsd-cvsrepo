head	1.14;
access;
symbols
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	ajacoutot_20120804:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.14
date	2013.09.19.14.57.25;	author ajacoutot;	state dead;
branches;
next	1.13;

1.13
date	2013.08.12.04.11.22;	author robert;	state Exp;
branches;
next	1.12;

1.12
date	2013.07.05.09.34.36;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2013.03.25.16.49.41;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2013.03.12.06.13.33;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2013.03.12.05.55.28;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2013.03.11.11.44.50;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2013.03.06.08.51.00;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2013.02.05.16.54.32;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2013.01.29.12.15.05;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2013.01.29.10.48.41;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2013.01.29.10.25.08;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.08.05.22.16.21;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.08.04.15.19.32;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.08.04.15.19.32;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.14
log
@Remove zurmo. The upgrade procedure requires going through an
intermediate version which does not even work properly.
@
text
@# $OpenBSD: Makefile,v 1.13 2013/08/12 04:11:22 robert Exp $

COMMENT=	customer relationship management (CRM) software

V=		1.1.31
REVISION=	0
DISTNAME=	zurmo-stable-${V}.658d8cfa5c16
PKGNAME=	zurmo-${V}

CATEGORIES=	www productivity

HOMEPAGE=	http://zurmo.org/

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	http://dev2.zurmo.com/downloads/

NO_BUILD=	Yes
NO_TEST=	Yes
PKG_ARCH=	*

PREFIX=		${VARBASE}/www
INSTDIR=	${PREFIX}/zurmo
TINSTDIR=	${TRUEPREFIX}/zurmo
SUBST_VARS=	INSTDIR TINSTDIR

MODULES=	lang/php
RUN_DEPENDS=	lang/php/${MODPHP_VERSION},-curl \
		lang/php/${MODPHP_VERSION},-imap \
		lang/php/${MODPHP_VERSION},-mysql \
		lang/php/${MODPHP_VERSION},-pdo_mysql \
		lang/php/${MODPHP_VERSION},-soap \
		misc/memcached \
		www/pecl-APC \
		www/pecl-memcache

do-extract:
	mkdir ${WRKDIST}
	${GZIP_CMD} -dc ${FULLDISTDIR}/${DISTFILES} | ${TAR} xf - -C ${WRKDIST}

do-install:
	cp -Rp ${WRKDIST}/zurmo ${INSTDIR}
	find ${PREFIX} -name '*.orig' -print0 | xargs -0 rm
	# "Remove the api test entry script for production use."
	# "If this website is in production mode, please remove the app/test.php file."
	rm ${PREFIX}/zurmo/app/test.php
	${SUBST_CMD} -c ${FILESDIR}/zurmo.conf \
	    ${INSTDIR}/zurmo.conf.dist
	chown -R ${SHAREOWN}:${SHAREGRP} ${INSTDIR}

.include <bsd.port.mk>
@


1.13
log
@bump REVISION due to the php update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/07/05 09:34:36 jasper Exp $
@


1.12
log
@use ${VARBASE} instead of hardcoding /var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/03/25 16:49:41 ajacoutot Exp $
d6 1
@


1.11
log
@update to zurmo-1.1.31.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/03/12 06:13:33 ajacoutot Exp $
d22 1
a22 1
PREFIX=		/var/www
@


1.10
log
@Forgot to add this patch in previous...
Tweak README while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/03/12 05:55:28 ajacoutot Exp $
d5 2
a6 2
V=		1.1.30
DISTNAME=	zurmo-stable-${V}.21bbcc52bd20
a7 1
REVISION=	0
@


1.9
log
@Update to zurmo-1.1.30.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/03/11 11:44:50 espie Exp $
d8 1
@


1.8
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/03/06 08:51:00 ajacoutot Exp $
d5 2
a6 2
V=		1.1.20
DISTNAME=	zurmo-stable-${V}.e84b9e76d27d
@


1.7
log
@Update to zurmo-1.1.20.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/02/05 16:54:32 ajacoutot Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d19 1
a19 1
NO_REGRESS=	Yes
@


1.6
log
@Don't check for the webserver, both in-tree httpd(8) and nginx(8) work fine.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/01/29 12:15:05 ajacoutot Exp $
d5 2
a6 2
V=		1.0.20
DISTNAME=	zurmo-stable-${V}.46dd9c95bfed
a7 1
REVISION=	1
d19 1
a19 1
MASTER_SITES=	http://dev.zurmo.com/downloads/
d46 1
@


1.5
log
@Typo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/01/29 10:48:41 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
@


1.4
log
@Remove comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/01/29 10:25:08 ajacoutot Exp $
d8 1
@


1.3
log
@Update to zurmo-1.0.20.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/08/05 22:16:21 ajacoutot Exp $
a38 3

# XXX needs memcached >= 2.2.0
#RUN_DEPENDS +=	misc/memcached
@


1.2
log
@Missed in previous.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/08/04 15:19:32 ajacoutot Exp $
d5 2
a6 2
V=		0.7.10
DISTNAME=	zurmo-stable-${V}.2b36c58196f9
a7 1
REVISION=	0
d36 3
a38 1
		www/pecl-APC
d48 1
a48 1
	cp -Rp ${WRKDIST} ${INSTDIR}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
@


1.1.1.1
log
@Import zurmo-0.7.10.

Zurmo is an open source CRM  application written in PHP utilizing
jQuery, Yii Framework, and RedBeanPHP.

The goal with Zurmo is to provide an easy-to-use, easy-to-customize CRM
application that can be adapted to any business use case. 
Special care has been taken to think through many different use cases
with a system designed to provide a high degree of flexibility, covering
a wide variety of use cases out of the box.
<...>

ok jasper@@
@
text
@@
