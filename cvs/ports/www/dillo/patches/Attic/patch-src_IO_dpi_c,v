head	1.10;
access;
symbols
	OPENBSD_5_3:1.9.0.14
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.9.0.12
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.10
	OPENBSD_5_0:1.9.0.8
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.6
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.9.0.4
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.8.0.4
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.2
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.7.0.8
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.6
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.7.0.4
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.2
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.6.0.8
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.6.0.6
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.4
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.2
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.5.0.4
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.4.0.2
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2;
locks; strict;
comment	@# @;


1.10
date	2013.04.19.14.33.51;	author bcallah;	state dead;
branches;
next	1.9;

1.9
date	2010.03.01.14.53.34;	author benoit;	state Exp;
branches;
next	1.8;

1.8
date	2008.10.19.08.42.55;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2006.09.22.04.13.19;	author pvalchev;	state Exp;
branches;
next	1.6;

1.6
date	2004.12.04.20.44.27;	author couderc;	state Exp;
branches;
next	1.5;

1.5
date	2004.02.21.01.37.19;	author couderc;	state Exp;
branches;
next	1.4;

1.4
date	2003.05.04.18.33.59;	author couderc;	state Exp;
branches;
next	1.3;

1.3
date	2003.04.28.18.20.53;	author couderc;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.02.19.15.42;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2003.02.22.17.11.05;	author couderc;	state Exp;
branches;
next	;


desc
@@


1.10
log
@Update www/dillo to 3.0.3
ok sthen@@
@
text
@$OpenBSD: patch-src_IO_dpi_c,v 1.9 2010/03/01 14:53:34 benoit Exp $
--- src/IO/dpi.c.orig	Thu Feb  4 23:09:33 2010
+++ src/IO/dpi.c	Tue Feb 23 10:41:48 2010
@@@@ -363,12 +363,12 @@@@
       /* This is the child process.  Execute the command. */
       char *path1 = dStrconcat(dGethomedir(), "/.dillo/dpid", NULL);
       Dpi_close_fd(st_pipe[0]);
-      if (execl(path1, "dpid", (char*)NULL) == -1) {
+      if (execl(path1, "dpid", (void *)NULL) == -1) {
          dFree(path1);
          path1 = dStrconcat(DILLO_BINDIR, "dpid", NULL);
-         if (execl(path1, "dpid", (char*)NULL) == -1) {
+         if (execl(path1, "dpid", (void *)NULL) == -1) {
             dFree(path1);
-            if (execlp("dpid", "dpid", (char*)NULL) == -1) {
+            if (execlp("dpid", "dpid", (void *)NULL) == -1) {
                MSG("Dpi_start_dpid (child): %s\n", dStrerror(errno));
                if (Dpi_blocking_write(st_pipe[1], "ERROR", 5) == -1) {
                   MSG("Dpi_start_dpid (child): can't write to pipe.\n");
@


1.9
log
@- update dillo to 2.2
- update patches
- regen PLIST

This update fixes security vulnerability.
Detailed information: http://secunia.com/advisories/38569/

ok jasper@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.8
log
@- major upgrade to dillo 2.0
it now uses the fltk2 toolkit instead of gtk1
add a patch to fix accessing websites that have ipv6 addr while you don't

full changelog:
http://cvs.auriga.wearlab.de/cgi-bin/cvsweb.cgi/dillo2/ChangeLog?rev=HEAD;cvsroot=dillo

from new MAINTAINER James Turner (former maintainer Jim Uhl resigned)
requested by kili@@
@
text
@d1 4
a4 4
$OpenBSD: patch-src_IO_dpi_c,v 1.7 2006/09/22 04:13:19 pvalchev Exp $
--- src/IO/dpi.c.orig	Sat Oct 18 11:09:20 2008
+++ src/IO/dpi.c	Sat Oct 18 11:10:10 2008
@@@@ -302,9 +302,9 @@@@ static int Dpi_start_dpid(void)
d8 1
a8 1
-      if (execl(path1, "dpid", NULL) == -1) {
d11 9
a19 5
-         if (execlp("dpid", "dpid", NULL) == -1) {
+         if (execlp("dpid", "dpid", (void *)NULL) == -1) {
             MSG("Dpi_start_dpid (child): %s\n", dStrerror(errno));
             do
                n = write(st_pipe[1], "ERROR", 5);
@


1.7
log
@Update to new version (0.8.6) and unbreak.
From new maintainer Jim Uhl <juhl@@mala.bc.ca>
@
text
@d1 4
a4 4
$OpenBSD: patch-src_IO_dpi_c,v 1.6 2004/12/04 20:44:27 couderc Exp $
--- src/IO/dpi.c.orig	Wed Mar 15 07:50:04 2006
+++ src/IO/dpi.c	Tue Jun 20 21:20:04 2006
@@@@ -330,9 +330,9 @@@@
d6 1
a6 1
       gchar *path1 = a_Misc_prepend_user_home(".dillo/dpid");
d10 1
a10 1
          g_free(path1);
d13 1
a13 1
             DEBUG_MSG(4, "Dpi_start_dpid (child): %s\n", g_strerror(errno));
@


1.6
log
@update to 0.8.3, based on a diff from Chris Kuethe.
@
text
@d1 4
a4 4
$OpenBSD$
--- src/IO/dpi.c.orig	Thu Jul 15 15:37:28 2004
+++ src/IO/dpi.c	Sat Dec  4 19:28:46 2004
@@@@ -339,9 +339,9 @@@@ static gint Dpi_start_dpid()
d7 1
a7 1
       close(st_pipe[0]);
d14 2
a15 2
             write(st_pipe[1], "ERROR", 5);
             close(st_pipe[1]);
@


1.5
log
@update to 0.8
@
text
@d2 3
a4 3
--- src/IO/dpi.c.orig	2004-02-21 01:46:30.000000000 +0100
+++ src/IO/dpi.c	2004-02-21 01:46:42.000000000 +0100
@@@@ -334,9 +334,9 @@@@ static gint Dpi_start_dpid()
@


1.4
log
@update to 0.7.2, mostly from Jon Olsson <jon@@joshua.haninge.kth.se>
@
text
@d2 3
a4 4
--- src/IO/dpi.c.orig	Wed Apr 30 13:37:08 2003
+++ src/IO/dpi.c	Wed Apr 30 13:37:42 2003
@@@@ -305,9 +305,9 @@@@ static gint Dpi_launch_server()
    if (pid == 0) {
d6 4
a9 3
       gchar *path1 = a_Misc_prepend_user_home(".dillo/bm_srv12");
-      if (execl(path1, "bm_srv12", NULL) == -1) {
+      if (execl(path1, "bm_srv12", (void *)NULL) == -1) {
d11 5
a15 14
-         if (execlp("bm_srv12", "bm_srv12", NULL) == -1)
+         if (execlp("bm_srv12", "bm_srv12", (void *)NULL) == -1)
             exit (EXIT_FAILURE);
       }
    } else if (pid < 0) {
@@@@ -358,7 +358,7 @@@@ static gint Dpi_connect_socket(gint retr
 
    if ((SockFD = socket(AF_LOCAL, SOCK_STREAM, 0)) == -1)
       perror("[dpi::socket]");
-   else if (connect(SockFD, (void*)&pun, D_SUN_LEN(&pun)) == -1) {
+   else if (connect(SockFD, (void*)&pun, SUN_LEN(&pun)) == -1) {
       err = errno;
       SockFD = -1;
       g_print("[dpi::connect] errno:%d %s\n", errno, g_strerror(errno));
@


1.3
log
@update to 0.7.1.2 from henning@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_IO_dpi_c,v 1.2 2003/03/02 19:15:42 pvalchev Exp $
--- src/IO/dpi.c.orig	Fri Feb 28 20:43:06 2003
+++ src/IO/dpi.c	Wed Apr 23 20:25:28 2003
@


1.2
log
@cast NULL sentinel to a pointer
@
text
@d1 3
a3 3
$OpenBSD: patch-src_IO_dpi_c,v 1.1 2003/02/22 17:11:05 couderc Exp $
--- src/IO/dpi.c.orig	Thu Feb 13 14:56:14 2003
+++ src/IO/dpi.c	Sun Mar  2 12:08:18 2003
d16 1
a16 3
@@@@ -362,7 +362,7 @@@@ static gint Dpi_connect_socket()
       return -1;
    }
d18 7
a24 5
-   if (connect(SockFD, (void*)&pun, D_SUN_LEN(&pun)) == -1) {
+   if (connect(SockFD, (void*)&pun, SUN_LEN(&pun)) == -1) {
       perror("[connect]");
       return -1;
    }
@


1.1
log
@some fixes :
- use native SUN_LEN macro
- sweet fix for threaded name resolution from dhartmei@@
@
text
@d1 15
a15 3
$OpenBSD$
--- src/IO/dpi.c.orig	Thu Feb 13 22:56:14 2003
+++ src/IO/dpi.c	Thu Feb 20 21:24:50 2003
@

