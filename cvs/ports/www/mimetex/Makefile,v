head	1.8;
access;
symbols
	OPENBSD_6_2:1.8.0.10
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.8.0.8
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.6
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.2
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.4
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.7.0.2
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.6.0.6
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.4
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.4.0.10
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.8
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.6
	OPENBSD_5_0:1.4.0.4
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.3.0.4
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.6
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.4
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	mimetex_20080516:1.1.1.1
	mbalmer:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2015.03.14.20.52.47;	author naddy;	state Exp;
branches;
next	1.7;
commitid	jnrLBcPmz76yfcWI;

1.7
date	2014.08.10.10.11.47;	author espie;	state Exp;
branches;
next	1.6;
commitid	P5JeeGPxtOlVWV5b;

1.6
date	2013.07.05.09.34.35;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2013.03.11.11.44.43;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.11.11.12.35.14;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2010.02.06.22.15.21;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2008.05.16.16.32.14;	author mbalmer;	state Exp;
branches;
next	1.1;

1.1
date	2008.05.16.15.21.23;	author mbalmer;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.05.16.15.21.23;	author mbalmer;	state Exp;
branches;
next	;


desc
@@


1.8
log
@switch from "-static" to "${STATIC}, i.e., build static PIE executables
on most archs
@
text
@# $OpenBSD: Makefile,v 1.7 2014/08/10 10:11:47 espie Exp $

COMMENT=		parse LaTeX math expressions into gif images

DISTNAME=		mimetex-1.65
REVISION=		2
CATEGORIES=		www

HOMEPAGE=		http://www.forkosh.com/mimetex.html
MAINTAINER=		Mischa Diehm <md@@msys.ch>

# GPLv2 or later
PERMIT_PACKAGE_CDROM=   Yes

MASTER_SITES=		http://meta-planets.net/~openbsd/

NO_TEST=     	Yes

PREFIX=		${VARBASE}/www
INSTDIR=		${PREFIX}/cgi-bin

do-build:
	cd ${WRKDIST} && ${CC} ${CFLAGS} ${STATIC} -DAA mimetex.c gifsave.c \
	    -lm -o ${WRKDIST}/mimetex

do-install:
	${INSTALL_DATA_DIR} ${INSTDIR}
	${INSTALL_PROGRAM} ${WRKDIST}/mimetex ${INSTDIR}

.include <bsd.port.mk>
@


1.7
log
@more appropriate uses of INSTALL_PROGRAM.
Unhardcode chown.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/07/05 09:34:35 jasper Exp $
d6 1
a6 1
REVISION=		1
d23 2
a24 2
	cd ${WRKDIST} && ${CC} ${CFLAGS} -static -DAA mimetex.c gifsave.c -lm \
	    -o ${WRKDIST}/mimetex
@


1.6
log
@use ${VARBASE} instead of hardcoding /var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/03/11 11:44:43 espie Exp $
d28 1
a28 1
	${INSTALL} -o ${BINOWN} ${WRKDIST}/mimetex ${INSTDIR}
@


1.5
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/11/11 12:35:14 sthen Exp $
d19 1
a19 1
PREFIX=			/var/www
@


1.4
log
@new-style LIB_DEPENDS/REVISION/WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/02/06 22:15:21 jasper Exp $
a13 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
d17 1
a17 1
NO_REGRESS=     	Yes
@


1.3
log
@saying pkg_arch=* when invoking cc is wrong wrong wrong

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/05/16 16:32:14 mbalmer Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
@


1.2
log
@Respect ${CC} and ${CFLAGS}, do the compiling in a do-build target and
clarify the license (GPLv2 or later)

After feedback from ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/05/16 15:21:23 mbalmer Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
a20 1
PKG_ARCH=       	*
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d12 1
a12 1
# GPL
a19 1
NO_BUILD=       	Yes
d26 4
a30 2
	cd ${WRKDIST} && cc -static -DAA mimetex.c gifsave.c -lm \
		-o ${WRKDIST}/mimetex
@


1.1.1.1
log
@mimetex is a CGI program to convert LaTeX math formulae into gif images
without the need to install LaTeX in httpds chroot.

From Mischa Diehm <md@@msys.ch>, maintainer (a new porter, so give him the
drill he needs...)

Thanks to merdely to host the distfile and rerolling it as a gzipped tarball.
@
text
@@
