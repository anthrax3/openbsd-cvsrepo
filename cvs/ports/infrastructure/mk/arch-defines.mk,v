head	1.34;
access;
symbols
	OPENBSD_6_1:1.32.0.2
	OPENBSD_6_1_BASE:1.32
	OPENBSD_6_0:1.26.0.2
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.23.0.2
	OPENBSD_5_9_BASE:1.23
	OPENBSD_5_8:1.23.0.4
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.22.0.2
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.20.0.2
	OPENBSD_5_6_BASE:1.20
	OPENBSD_5_5:1.19.0.2
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.16.0.2
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.6.0.2
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.34
date	2017.04.13.11.15.15;	author fcambus;	state Exp;
branches;
next	1.33;
commitid	OWF3vV9fTZlEHJz4;

1.33
date	2017.04.10.11.18.28;	author sthen;	state Exp;
branches;
next	1.32;
commitid	ViS1JTECyiwI6WyA;

1.32
date	2017.03.01.21.58.53;	author naddy;	state Exp;
branches;
next	1.31;
commitid	5cdIzb36H6YItCYb;

1.31
date	2017.01.23.10.50.25;	author phessler;	state Exp;
branches;
next	1.30;
commitid	yS1xcBeiJ4A4XplM;

1.30
date	2017.01.01.10.50.18;	author ajacoutot;	state Exp;
branches;
next	1.29;
commitid	3qlJfIBIEHP0Fd7q;

1.29
date	2016.09.03.14.36.20;	author naddy;	state Exp;
branches;
next	1.28;
commitid	B0feyRD5p1ukmSdq;

1.28
date	2016.09.01.09.26.56;	author jasper;	state Exp;
branches;
next	1.27;
commitid	mGXZDACLXraIn0ow;

1.27
date	2016.08.10.15.19.39;	author jasper;	state Exp;
branches;
next	1.26;
commitid	Q7dAgAIfABpMO0rg;

1.26
date	2016.05.11.22.00.26;	author naddy;	state Exp;
branches;
next	1.25;
commitid	rJugxhWPbo5weWfg;

1.25
date	2016.03.10.12.20.06;	author naddy;	state Exp;
branches;
next	1.24;
commitid	FvuwTC2rqnVYRjNS;

1.24
date	2016.03.09.17.21.44;	author naddy;	state Exp;
branches;
next	1.23;
commitid	pjIkrlzWLd0hqcyH;

1.23
date	2015.03.18.16.19.39;	author kspillner;	state Exp;
branches;
next	1.22;
commitid	dygCPcO2kHAsKp4t;

1.22
date	2015.01.04.06.09.45;	author brad;	state Exp;
branches;
next	1.21;
commitid	ae7icKemb59kC0Ei;

1.21
date	2014.09.07.16.27.24;	author chrisz;	state Exp;
branches;
next	1.20;
commitid	lLcnlC9Hn7LAZz9M;

1.20
date	2014.03.19.13.28.04;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2013.10.22.13.19.40;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2013.08.09.11.02.28;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2013.08.07.11.11.52;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2013.07.05.21.48.01;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.25.17.41.46;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2013.03.25.10.33.43;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2013.02.10.20.27.42;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2013.02.01.05.18.48;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2013.01.08.00.36.17;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2012.12.01.21.12.28;	author miod;	state Exp;
branches;
next	1.9;

1.9
date	2012.08.29.00.41.01;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2012.08.21.16.32.04;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2012.08.18.21.45.28;	author avsm;	state Exp;
branches;
next	1.6;

1.6
date	2012.07.08.18.35.48;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2012.06.20.21.17.38;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2012.06.04.18.41.46;	author pascal;	state Exp;
branches;
next	1.3;

1.3
date	2012.04.12.15.06.05;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2012.04.12.11.46.35;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2011.12.08.08.15.36;	author espie;	state Exp;
branches;
next	;


desc
@@


1.34
log
@Remove aviion from architecture constants, the OpenBSD/aviion port has
been discontinued after the 5.7 release.

OK sthen@@
@
text
@# $OpenBSD: arch-defines.mk,v 1.33 2017/04/10 11:18:28 sthen Exp $
#
# ex:ts=4 sw=4 filetype=make:
#
#	derived from bsd.port.mk in 2011
#	This file is in the public domain.
#	It is actually a part of bsd.port.mk that won't be included manually.
#

# architecture constants

ARCH ?!= uname -m

ALL_ARCHS = alpha amd64 arm hppa i386 landisk loongson luna88k \
	m88k macppc mips64 mips64el octeon sgi socppc sparc64
# not all powerpc have apm(4), hence the use of macppc
APM_ARCHS = amd64 i386 loongson macppc sparc64
BE_ARCHS = hppa m88k mips64 powerpc sparc64
LE_ARCHS = aarch64 alpha amd64 arm i386 mips64el sh
LP64_ARCHS = aarch64 alpha amd64 sparc64 mips64 mips64el
CLANG_ARCHS = aarch64
GCC4_ARCHS = alpha amd64 arm armv7 i386 hppa landisk loongson \
	macppc mips64 mips64el octeon powerpc sgi sh socppc sparc64
GCC3_ARCHS = luna88k m88k
# XXX easier for ports that depend on mono
MONO_ARCHS = amd64 i386
LLVM_ARCHS = aarch64 amd64 arm i386 powerpc mips64 mips64el sparc64
OCAML_NATIVE_ARCHS = i386 amd64
OCAML_NATIVE_DYNLINK_ARCHS = i386 amd64
GO_ARCHS = amd64 i386


.for PROP in ALL APM BE LE LP64 CLANG GCC4 GCC3 MONO LLVM \
                           OCAML_NATIVE OCAML_NATIVE_DYNLINK GO
.  for A B in ${MACHINE_ARCH} ${ARCH}
.    if !empty(${PROP}_ARCHS:M$A) || !empty(${PROP}_ARCHS:M$B)
PROPERTIES += ${PROP:L}
.    endif
.  endfor
.endfor

.if ${PROPERTIES:Mclang}
LIBCXX = c++ c++abi pthread
.else
LIBCXX = stdc++
.endif
@


1.33
log
@Define LIBCXX, to hold the name of the standard C++ library/libraries
for use in WANTLIB. Method independently suggested by espie@@ and myself,
ok phessler@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.32 2017/03/01 21:58:53 naddy Exp $
d14 2
a15 3
ALL_ARCHS = alpha amd64 arm aviion hppa i386 landisk loongson \
	luna88k m88k macppc mips64 mips64el octeon sgi socppc \
	sparc64
d24 1
a24 1
GCC3_ARCHS = aviion luna88k m88k
@


1.32
log
@add CLANG_ARCHS to PROPERTIES
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.31 2017/01/23 10:50:25 phessler Exp $
d42 6
@


1.31
log
@add aarch64 definitions to the ports framework

facts verified by patrick@@ and kettenis@@
OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.30 2017/01/01 10:50:18 ajacoutot Exp $
d34 1
a34 1
.for PROP in ALL APM BE LE LP64 GCC4 GCC3 MONO LLVM \
@


1.30
log
@Add arm to LLVM_ARCHS.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.29 2016/09/03 14:36:20 naddy Exp $
d20 3
a22 2
LE_ARCHS = alpha amd64 arm i386 mips64el sh
LP64_ARCHS = alpha amd64 sparc64 mips64 mips64el
d28 1
a28 1
LLVM_ARCHS = amd64 arm i386 powerpc mips64 mips64el sparc64
@


1.29
log
@zaurus is no more
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.28 2016/09/01 09:26:56 jasper Exp $
d27 1
a27 1
LLVM_ARCHS = amd64 i386 powerpc mips64 mips64el sparc64
@


1.28
log
@retire sparc
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.27 2016/08/10 15:19:39 jasper Exp $
d16 1
a16 1
	sparc64 zaurus
d18 1
a18 1
APM_ARCHS = amd64 arm i386 loongson macppc sparc64 zaurus
d23 1
a23 1
	macppc mips64 mips64el octeon powerpc sgi sh socppc sparc64 zaurus
@


1.27
log
@remove armish
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.26 2016/05/11 22:00:26 naddy Exp $
d15 1
a15 1
	luna88k m88k macppc mips64 mips64el octeon sgi socppc sparc \
d18 2
a19 2
APM_ARCHS = amd64 arm i386 loongson macppc sparc sparc64 zaurus
BE_ARCHS = hppa m88k mips64 powerpc sparc sparc64
d23 1
a23 1
	macppc mips64 mips64el octeon powerpc sgi sh socppc sparc sparc64 zaurus
d27 2
a28 2
LLVM_ARCHS = amd64 i386 powerpc mips64 mips64el sparc sparc64
OCAML_NATIVE_ARCHS = i386 sparc amd64
@


1.26
log
@remove hppa64 architecture
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.25 2016/03/10 12:20:06 naddy Exp $
d14 1
a14 1
ALL_ARCHS = alpha amd64 arm armish aviion hppa i386 landisk loongson \
d22 1
a22 1
GCC4_ARCHS = alpha amd64 arm armish armv7 i386 hppa landisk loongson \
@


1.25
log
@no more non-shared archs:
NO_SHARED_ARCHS and "no_shared" in PROPERTIES are no longer set
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.24 2016/03/09 17:21:44 naddy Exp $
d14 1
a14 1
ALL_ARCHS = alpha amd64 arm armish aviion hppa hppa64 i386 landisk loongson \
d19 1
a19 1
BE_ARCHS = hppa hppa64 m88k mips64 powerpc sparc sparc64
d21 2
a22 2
LP64_ARCHS = alpha amd64 hppa64 sparc64 mips64 mips64el
GCC4_ARCHS = alpha amd64 arm armish armv7 i386 hppa hppa64 landisk loongson \
@


1.24
log
@We are done providing support for the vax.
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.23 2015/03/18 16:19:39 kspillner Exp $
a21 1
NO_SHARED_ARCHS =
d33 1
a33 1
.for PROP in ALL APM BE LE LP64 NO_SHARED GCC4 GCC3 MONO LLVM \
@


1.23
log
@The Go programming language is only for amd64 and i386, so add a GO_ARCHS
define for convenience.  Not used yet, but will be useful for some upcoming
Go ports.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.22 2015/01/04 06:09:45 brad Exp $
d16 1
a16 1
	sparc64 vax zaurus
d20 1
a20 1
LE_ARCHS = alpha amd64 arm i386 mips64el sh vax
d22 1
a22 1
NO_SHARED_ARCHS = vax
d25 1
a25 1
GCC3_ARCHS = aviion luna88k m88k vax
@


1.22
log
@garbage collect the ELF property
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.21 2014/09/07 16:27:24 chrisz Exp $
d31 1
d35 1
a35 1
                               OCAML_NATIVE OCAML_NATIVE_DYNLINK
@


1.21
log
@PowerPC native code is broken at the moment.
Therefore build native code only for the time being.
Hopefully this can be reverted soon.

ok jca@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.20 2014/03/19 13:28:04 jasper Exp $
a40 1
PROPERTIES += elf
@


1.20
log
@sync with recent hp300/mvme{6,8}8k/m68k removal

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.19 2013/10/22 13:19:40 jasper Exp $
d29 1
a29 1
OCAML_NATIVE_ARCHS = i386 sparc amd64 powerpc
@


1.19
log
@s/beagle/armv7/

ok abieber@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.18 2013/08/09 11:02:28 naddy Exp $
d14 3
a16 3
ALL_ARCHS = alpha amd64 arm armish aviion hp300 hppa hppa64 i386 landisk \
	loongson luna88k m68k m88k macppc mips64 mips64el \
	mvme68k mvme88k octeon sgi socppc sparc sparc64 vax zaurus
d19 1
a19 1
BE_ARCHS = hppa hppa64 m68k m88k mips64 powerpc sparc sparc64
d23 3
a25 4
GCC4_ARCHS = alpha amd64 arm armish armv7 i386 hppa hppa64 \
	landisk loongson macppc mips64 	mips64el mvmeppc octeon \
	powerpc sgi sh socppc sparc sparc64 zaurus
GCC3_ARCHS = aviion hp300 luna88k m68k m88k mvme68k mvme88k vax
@


1.18
log
@remove last mentions of GCC2_ARCHS variable
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.17 2013/08/07 11:11:52 naddy Exp $
d23 1
a23 1
GCC4_ARCHS = alpha amd64 arm armish beagle i386 hppa hppa64 \
@


1.17
log
@vax now uses gcc3.
Retain GCC2_ARCHS until all references to it have been removed.
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.16 2013/07/05 21:48:01 espie Exp $
a26 1
GCC2_ARCHS = 
d34 1
a34 1
.for PROP in ALL APM BE LE LP64 NO_SHARED GCC4 GCC3 GCC2 MONO LLVM \
@


1.16
log
@no longer depend upon base's elf toolchain
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.15 2013/03/25 17:41:46 jasper Exp $
d26 2
a27 2
GCC3_ARCHS = aviion hp300 luna88k m68k m88k mvme68k mvme88k
GCC2_ARCHS = vax
@


1.15
log
@gumstix was buried under a palm tree.
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.14 2013/03/25 10:33:43 jasper Exp $
a42 1
.if ${ELF_TOOLCHAIN:L} == "yes"
a43 1
.endif
@


1.14
log
@octeon will be a GCC4 arch.
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.13 2013/02/10 20:27:42 miod Exp $
d16 1
a16 1
	mvme68k mvme88k octeon palm sgi socppc sparc sparc64 vax zaurus
d23 2
a24 2
GCC4_ARCHS = alpha amd64 arm armish beagle gumstix i386 hppa hppa64 \
	landisk loongson macppc mips64 	mips64el mvmeppc octeon palm \
@


1.13
log
@m68k arches now use gcc 3
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.12 2013/02/01 05:18:48 brad Exp $
d16 1
a16 1
	mvme68k mvme88k palm sgi socppc sparc sparc64 vax zaurus
d24 2
a25 2
	landisk loongson macppc mips64 \
	mips64el mvmeppc palm powerpc sgi sh socppc sparc sparc64 zaurus
@


1.12
log
@Enable m88k for shared libs.

ok miod@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.11 2013/01/08 00:36:17 brad Exp $
d26 2
a27 2
GCC3_ARCHS = aviion luna88k m88k mvme88k
GCC2_ARCHS = hp300 m68k mvme68k vax
@


1.11
log
@Enable LLVM on mips64.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.10 2012/12/01 21:12:28 miod Exp $
d22 1
a22 1
NO_SHARED_ARCHS = m88k vax
@


1.10
log
@m88k ports now use gcc 3; ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.9 2012/08/29 00:41:01 sthen Exp $
d30 1
a30 1
LLVM_ARCHS = amd64 i386 powerpc sparc sparc64
@


1.9
log
@add sparc to LLVM_ARCHS, from Brad. (sparc64 is still listed, CLang does not
work on sparc64 at present, but other parts of LLVM may still be useful).
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.8 2012/08/21 16:32:04 sthen Exp $
d14 1
a14 1
ALL_ARCHS = alpha amd64 arm armish hppa hppa64 i386 landisk \
d18 1
a18 1
APM_ARCHS = amd64 arm i386 loongson macppc sparc sparc64
d26 2
a27 2
GCC3_ARCHS =
GCC2_ARCHS = aviion luna88k m68k m88k mvme68k mvme88k vax
@


1.8
log
@don't list arm twice in ALL_ARCHS, pointed out by Brad some time ago
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.7 2012/08/18 21:45:28 avsm Exp $
d30 1
a30 1
LLVM_ARCHS = amd64 i386 powerpc sparc64
@


1.7
log
@Add ocaml_native and ocaml_native_dynlink properties to the arch defines.
These will be used shortly by the ocaml-4 port update.
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.6 2012/07/08 18:35:48 sthen Exp $
d14 1
a14 1
ALL_ARCHS = alpha amd64 arm armish arm hppa hppa64 i386 landisk \
@


1.6
log
@add LLVM_ARCHS, handled like MONO_ARCHS for easier detection of which
arch can use LLVM.  ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.5 2012/06/20 21:17:38 jasper Exp $
d31 2
d34 3
a36 1
.for PROP in ALL APM BE LE LP64 NO_SHARED GCC4 GCC3 GCC2 MONO LLVM
@


1.5
log
@zap mac68k references
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.4 2012/06/04 18:41:46 pascal Exp $
d30 1
d32 1
a32 1
.for PROP in ALL APM BE LE LP64 NO_SHARED GCC4 GCC3 GCC2 MONO
@


1.4
log
@Add BE_ARCHS and LE_ARCHS vars to be able to determine endianness.

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.3 2012/04/12 15:06:05 landry Exp $
d15 1
a15 1
	loongson luna88k m68k m88k mac68k macppc mips64 mips64el \
d27 1
a27 1
GCC2_ARCHS = aviion luna88k m68k m88k mac68k mvme68k mvme88k vax
@


1.3
log
@Oops, unbreak by providing an empty GCC3_ARCHS.
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.2 2012/04/12 11:46:35 landry Exp $
d19 2
d31 1
a31 1
.for PROP in ALL APM LP64 NO_SHARED GCC4 GCC3 GCC2 MONO
@


1.2
log
@Move sh/landisk to GCC4_ARCHS.
ok phessler@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: arch-defines.mk,v 1.1 2011/12/08 08:15:36 espie Exp $
d24 1
@


1.1
log
@move the architecture *constants* to a private arch-defines.mk file
That way, bsd.port.arch.mk can still make available in a Makefile, but
we can also include them early in bsd.port.mk, so that they will always
be available from modules and Makefile.inc.
@
text
@d1 1
a1 1
# $OpenBSD: bsd.port.arch.mk,v 1.9 2011/11/29 15:11:18 naddy Exp $
d22 2
a23 3
	loongson macppc mips64 \
	mips64el mvmeppc palm powerpc sgi socppc sparc sparc64 zaurus
GCC3_ARCHS = landisk sh
@

