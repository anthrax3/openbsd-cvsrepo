head	1.8;
access;
symbols
	OPENBSD_5_7:1.7.0.6
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.4
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.3.0.12
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.10
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.8
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.6
	OPENBSD_5_0:1.3.0.4
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3;
locks; strict;
comment	@.\" @;


1.8
date	2015.06.10.09.06.26;	author espie;	state dead;
branches;
next	1.7;
commitid	ZlAd5vdSGFqYIJ4d;

1.7
date	2014.02.08.13.22.24;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2014.02.08.10.47.59;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2013.10.12.10.19.20;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2013.08.24.16.06.12;	author zhuk;	state Exp;
branches;
next	1.3;

1.3
date	2010.09.09.19.17.06;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2010.09.03.18.51.19;	author schwarze;	state Exp;
branches;
next	1.1;

1.1
date	2010.08.20.14.09.59;	author espie;	state Exp;
branches;
next	;


desc
@@


1.8
log
@bye bye, use check-problems now
@
text
@.\"	$OpenBSD: check-conflicts.1,v 1.7 2014/02/08 13:22:24 espie Exp $
.\"
.\" Copyright (c) 2010 Marc Espie <espie@@openbsd.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: February 8 2014 $
.Dt CHECK-CONFLICTS 1
.Os
.Sh NAME
.Nm check-conflicts
.Nd verify conflicts between packages
.Sh SYNOPSIS
.Nm check-conflicts
.Op Fl ev
.Op Fl d Ar plist_dir
.Op Fl p Ar ports_dir
.Op Ar pkgname ...
.Sh DESCRIPTION
.Nm
is used to check a collection of packages for unregistered conflicts.
A conflict is a file that belongs to two distinct packages.
Common directories are not a problem.
.Pp
By default, packages with the same stem
.Po
see
.Xr packages-specs 7
.Pc
are registered to conflict.
This can be changed to add or remove extra conflict registration with
.Cm @@option no-default-conflict
or
.Cm @@conflict
.Po
see
.Xr package-create 1
.Pc .
.Pp
Conflicts between packages mean that a user can't have both packages installed
at the same time.
In some cases (same software, different version), this is expected, but
the packages should be marked as conflicting, so that
.Xr pkg_add 1
knows how to deal with it.
In other cases, this is an oversight from the ports maintainer, and action
should be taken to make sure both packages can be installed simultaneously.
Conflicts also interact with dependencies, and sometimes a missing dependency
will show up as an unregistered conflict.
.Nm
requires a set of packing-lists to operate, which it can obtain from the
package itself, or from external sources.
.Pp
Options are as follows:
.Bl -tag -width packing-list
.It Fl e
Check for extra logical conflicts, by adding supplementary
formatted/unformatted manpages, as same name manpages under the
same base directory will shadow one another.
.It Fl v
Be verbose
.It Fl d Ar plist-dir
Scan directory
.Ar plist-dir
for packing-lists
.Po
see the description of
.Ev PLIST_DB
in
.Xr bsd.port.mk 5
.Pc .
.It Fl p Ar portsdir
Traverse the ports directory for packing-lists, using
.Ar print-plist-all .
More than one directory could be specified by delimiting them by colon,
e.g.:
.Pa /usr/ports/x11/kde:/usr/ports/x11/kde4 .
.Pp
If
.Fl d Ar plist-dir
is also used, traverse only the directories corresponding to the packages
under
.Ar plist-dir
to figure out current pkgnames, and annotate those with a
.Sq !
in the report.
.El
.Sh SEE ALSO
.Xr pkg_add 1 ,
.Xr pkg_create 1 ,
.Xr bsd.port.mk 5 ,
.Xr packages-specs 7
@


1.7
log
@document extra semantics
@
text
@d1 1
a1 1
.\"	$OpenBSD: check-conflicts.1,v 1.6 2014/02/08 10:47:59 espie Exp $
@


1.6
log
@missing annotation
@
text
@d1 1
a1 1
.\"	$OpenBSD: check-conflicts.1,v 1.5 2013/10/12 10:19:20 espie Exp $
d17 1
a17 1
.Dd $Mdocdate: October 12 2013 $
d88 9
@


1.5
log
@document -e option
@
text
@d1 1
a1 1
.\"	$OpenBSD: check-conflicts.1,v 1.4 2013/08/24 16:06:12 zhuk Exp $
d17 1
a17 1
.Dd $Mdocdate: August 24 2013 $
d27 1
a27 1
.Op Fl p ports_dir
@


1.4
log
@Add support for specifying multiple port directories in check-conflicts -p.
@
text
@d1 1
a1 1
.\"	$OpenBSD: check-conflicts.1,v 1.3 2010/09/09 19:17:06 jasper Exp $
d17 1
a17 1
.Dd $Mdocdate: September 9 2010 $
d25 1
a25 1
.Op Fl v
d66 4
@


1.3
log
@- various minor style nits
- start explanation of options with a capital letter for consistency
   with other man pages.
- sprinkle some more .Xr where needed
- slight rewording in some places

feedback and ok espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: check-conflicts.1,v 1.2 2010/09/03 18:51:19 schwarze Exp $
d17 1
a17 1
.Dd $Mdocdate: September 3 2010 $
d81 3
@


1.2
log
@fix a few mdoc(7) syntax errors found by mandoc -Tlint
one of them was fatal (no formatted output at all)
another one caused information loss in the formatted output
@
text
@d1 1
a1 1
.\"	$OpenBSD: check-conflicts.1,v 1.1 2010/08/20 14:09:59 espie Exp $
d17 1
a17 1
.Dd $Mdocdate: August 20 2010 $
d50 2
a51 2
Conflicts between packages means a user can't install both packages at
once.
@


1.1
log
@finish renaming check-conflicts, add (c), document check-conflicts
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d17 1
a17 1
.Dd $Mdocdate$
d81 1
@

