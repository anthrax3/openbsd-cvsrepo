head	1.10;
access;
symbols
	OPENBSD_6_0:1.10.0.2
	OPENBSD_6_0_BASE:1.10
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.7.0.4
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.6.0.2
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.5.0.14
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.12
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.10
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.8
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.6
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.4
	OPENBSD_5_0:1.5.0.2
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.10
date	2016.06.10.21.14.37;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	TDplJpNKHpeSr9qV;

1.9
date	2015.12.02.10.29.09;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	XEgr0ZOlZJWaykuv;

1.8
date	2015.11.16.13.04.36;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	W3TWqEykNcdoUnQQ;

1.7
date	2015.07.24.07.29.12;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	mp79c7kmAlpaGRFK;

1.6
date	2014.08.14.19.54.10;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	Zz0kvtQLqbzHb8Tp;

1.5
date	2011.03.10.13.46.59;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2011.03.06.16.50.11;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.03.03.15.55.43;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.03.02.06.32.53;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2011.01.15.19.18.48;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.10
log
@Extend rc.d template with daemon_rtable.
@
text
@Below is an rc.d(8) script template containing all usable variables and
functions set to their defaults.
See rc.subr(8) for more information.

-----------------------------------8<-----------------------------------
#!/bin/sh
#
# $OpenBSD: rc.template,v 1.9 2015/12/02 10:29:09 ajacoutot Exp $

daemon="${TRUEPREFIX}/bin/foobar"
#daemon_flags=
#daemon_rtable=0
#daemon_timeout="30"
#daemon_user="root"

. /etc/rc.d/rc.subr

#pexp="${daemon}${daemon_flags:+ ${daemon_flags}}"
#rc_bg= # (undefined)
#rc_reload= # (undefined)
#rc_usercheck=YES

#rc_pre() {
#}

#rc_start() {
#	${rcexec} "${daemon} ${daemon_flags} ${_bg}"
#}

#rc_check() {
#	pgrep -T "${daemon_rtable}" -q -xf "${pexp}"
#}

#rc_reload() {
#	pkill -HUP -T "${daemon_rtable}" -xf "${pexp}"
#}

#rc_stop() {
#	pkill -T "${daemon_rtable}" -xf "${pexp}"
#}

#rc_post() {
#}

rc_cmd $1
-----------------------------------8<-----------------------------------
@


1.9
log
@Tweak.
@
text
@d8 1
a8 1
# $OpenBSD: rc.template,v 1.8 2015/11/16 13:04:36 ajacoutot Exp $
d12 1
d31 1
a31 1
#	pgrep -q -xf "^${pexp}"
d35 1
a35 1
#	pkill -HUP -xf "^${pexp}"
d39 1
a39 1
#	pkill -xf "^${pexp}"
@


1.8
log
@Sort.
@
text
@d8 1
a8 1
# $OpenBSD: rc.template,v 1.7 2015/07/24 07:29:12 ajacoutot Exp $
d11 1
a11 1
#daemon_flags=""
@


1.7
log
@Sync template with recent rc.subr(8) changes.
@
text
@d8 1
a8 1
# $OpenBSD: rc.template,v 1.6 2014/08/14 19:54:10 ajacoutot Exp $
d12 1
a13 1
#daemon_timeout="30"
@


1.6
log
@Sync with reality.
@
text
@d8 1
a8 1
# $OpenBSD: rc.template,v 1.5 2011/03/10 13:46:59 ajacoutot Exp $
d30 1
a30 1
#	pgrep -q -f "^${pexp}"
d34 1
a34 1
#	pkill -HUP -f "^${pexp}"
d38 1
a38 1
#	pkill -f "^${pexp}"
@


1.5
log
@Sync with new defaults.
@
text
@d8 1
a8 1
# $OpenBSD: rc.template,v 1.4 2011/03/06 16:50:11 ajacoutot Exp $
d13 1
d20 1
d30 1
a30 1
#	pkill -0 -f "^${pexp}"
@


1.4
log
@Mention rc_bg.
@
text
@d8 1
a8 1
# $OpenBSD: rc.template,v 1.3 2011/03/03 15:55:43 ajacoutot Exp $
d24 1
a24 2
#	type rc_pre >/dev/null && rc_pre
#	${rcexec} "${daemon} ${daemon_flags}" >/dev/null
d28 1
a28 1
#	pgrep -f "^${pexp}" >/dev/null
a36 1
#	type rc_post >/dev/null && rc_post || return 0
@


1.3
log
@rc.d(8) -> rc.subr(8).
@
text
@d8 1
a8 1
# $OpenBSD: rc.template,v 1.2 2011/03/02 06:32:53 ajacoutot Exp $
d17 1
@


1.2
log
@daemon_shell is no more.
@
text
@d3 1
a3 1
See rc.d(8) for more information.
d5 1
a5 1
------------------------8<------------------------
d8 1
a8 1
# $OpenBSD: rc.template,v 1.1 2011/01/15 19:18:48 ajacoutot Exp $
d44 1
a44 1
------------------------8<------------------------
@


1.1
log
@Add a template rc script.
rc.subr(8)/rc.d(8) is coming soon.

ok robert@@
@
text
@d8 1
a8 1
# $OpenBSD$
a12 1
#daemon_shell="/bin/ksh"
@

