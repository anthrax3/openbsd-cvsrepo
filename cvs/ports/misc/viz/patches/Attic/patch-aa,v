head	1.2;
access;
symbols
	OPENBSD_4_2:1.1.1.1.0.32
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.30
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.28
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.26
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.24
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.22
	OPENBSD_3_7_BASE:1.1.1.1
	OPENBSD_3_6:1.1.1.1.0.20
	OPENBSD_3_6_BASE:1.1.1.1
	OPENBSD_3_5:1.1.1.1.0.18
	OPENBSD_3_5_BASE:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.16
	OPENBSD_3_4_BASE:1.1.1.1
	OPENBSD_3_3:1.1.1.1.0.14
	OPENBSD_3_3_BASE:1.1.1.1
	OPENBSD_3_2:1.1.1.1.0.12
	OPENBSD_3_2_BASE:1.1.1.1
	OPENBSD_3_1:1.1.1.1.0.10
	OPENBSD_3_1_BASE:1.1.1.1
	OPENBSD_3_0:1.1.1.1.0.8
	OPENBSD_3_0_BASE:1.1.1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	OPENBSD_2_9:1.1.1.1.0.6
	OPENBSD_2_9_BASE:1.1.1.1
	OPENBSD_2_8:1.1.1.1.0.4
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.2
	OPENBSD_2_7_BASE:1.1.1.1
	kevlo_1999-Nov-10:1.1.1.1
	kevlo:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2007.10.26.22.00.31;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	99.11.10.02.00.01;	author kevlo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.11.10.02.00.01;	author kevlo;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- use our naming scheme for patches
@
text
@--- Makefile.patched	Sat Mar  8 18:07:20 1997
+++ Makefile	Sat Mar  8 18:08:02 1997
@@@@ -1,42 +1,30 @@@@
 #######
-# Where the executable goes
-BINDIR=/usr/local/bin
-
-#######
-# Man pages
-
-MANDIR=/usr/local/man/man1
-MANEXT=1
-
-#######
 # CC
-CC=gcc
+CC=cc
 
 #######
 # Define's
 # Define STRINGS if <strings.h> is to be used in place of <string.h>
 # Define NOMEM if <memory.h> isn't available.
 # Define EBCDIC if that character set is used.
-DEFS =  -D_HPUX_SOURCE # -DNOMEM -DSTRINGS # -DEBCDIC
+DEFS = # -D_HPUX_SOURCE # -DNOMEM -DSTRINGS # -DEBCDIC
 
+#######
 # Sizes of shorts, ints, longs.  (This has to be a #define: the sizeof
 # operator isn't sufficient because we need to use the sizes in the argument
 # to a #if expression.)
 SIZES = -DL_SHORT=2 -DL_INT=4 -DL_LONG=4
 
-
 #######
 # CFLAGS
 # Always keep $(DEFS) and $(SIZES) in CFLAGS
-CFLAGS = -O $(DEFS) $(SIZES)
+CFLAGS+= $(DEFS) $(SIZES)
 
 #######
 # LDFLAGS,LDLIBS
-
 LDFLAGS=
 LDLIBS=
 
-
 ####################################################################
 # You shouldn't have to modify anything below this line.
 ####################################################################
@@@@ -89,15 +77,13 @@@@
 	$(CC) $(CFLAGS) -c inviz_num.c
 
 install: viz inviz
-	cp viz $(BINDIR) && chmod 755 $(BINDIR)/viz
-	cp inviz $(BINDIR) && chmod 755 $(BINDIR)/inviz
-	cp viz.1 $(MANDIR)/viz.$(MANEXT) && \
-		chmod 644 $(MANDIR)/viz.$(MANEXT)
-	cp inviz.1 $(MANDIR)/inviz.$(MANEXT) && \
-		chmod 644 $(MANDIR)/inviz.$(MANEXT)
+	install -c -s -m 755 viz $(PREFIX)/bin/viz
+	install -c -s -m 755 inviz $(PREFIX)/bin/inviz
+	install -c -m 644 viz.1 $(PREFIX)/man/man1/viz.1
+	install -c -m 644 inviz.1 $(PREFIX)/man/man1/inviz.1
 
 clean:
-	rm -f *.o viz inviz y.tab.c y.tab.h
+	rm -f *.o viz inviz y.tab.c y.tab.h vizgrammar.c
 
 # Because of the wide variation in shar commands, the shar arguments
 # used below sticks to a minimal set, and we generate various shar file
--- viz.c.patched	Sat Mar  8 18:07:20 1997
+++ viz.c	Sat Mar  8 18:07:26 1997
@@@@ -55,14 +55,17 @@@@
 #define VIZ_MAIN
 #include "viz.h"
 
+#ifndef _SYS_ERRNO_H_
 extern errno;
 extern int sys_nerr;
 extern char *sys_errlist[];
+#endif
 
-
+#ifndef _STDLIB_H_
 extern char *malloc();
 extern optind, opterr;
 extern char *optarg;
+#endif
 
 char *prog;
 struct Format Fmt = {
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Import of viz port.
@
text
@@
