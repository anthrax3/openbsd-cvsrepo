head	1.2;
access;
symbols
	OPENBSD_4_6:1.1.0.4
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2009.07.13.09.40.02;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2008.09.01.08.51.03;	author brad;	state Exp;
branches;
next	;


desc
@@


1.2
log
@openbabel-2.2.2: major bugfix release and a stable upgrade

It includes the new Standardized InChI identifier, fixes for many
stereochemistry errors, significantly improved aromatic/Kekule bond
assignment, and coordinate generation. Many more bugfixes and small
improvements are included.
@
text
@$OpenBSD: patch-include_openbabel_fingerprint_h,v 1.1 2008/09/01 08:51:03 brad Exp $
--- include/openbabel/fingerprint.h.orig	Sun Aug 31 22:58:48 2008
+++ include/openbabel/fingerprint.h	Sun Aug 31 23:01:45 2008
@@@@ -90,7 +90,11 @@@@ const char* TypeID() (public)
       int andfp = vec1[i] & p2[i];
       int orfp = vec1[i] | p2[i];
       // Count bits
-#ifdef __GNUC__
+      /* GCC 3.4 supports a "population count" builtin, which on many targets is
+         implemented with a single instruction.  There is a fallback definition
+         in libgcc in case a target does not have one, which should be just as
+         good as the static function below.  */
+#if __GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4)
       andbits += __builtin_popcount(andfp);
       orbits += __builtin_popcount(orfp);
 #else
@


1.1
log
@Pull in a patch from the openbabel source repo to remove
the unconditional use of __builtin_popcount if using GCC.
Eliminates the need for a newer GCC version.

ok ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD$
@

