head	1.34;
access;
symbols
	OPENBSD_6_0:1.31.0.2
	OPENBSD_6_0_BASE:1.31
	OPENBSD_5_9:1.29.0.2
	OPENBSD_5_9_BASE:1.29
	OPENBSD_5_8:1.29.0.4
	OPENBSD_5_8_BASE:1.29
	OPENBSD_5_7:1.28.0.2
	OPENBSD_5_7_BASE:1.28
	OPENBSD_5_6:1.25.0.2
	OPENBSD_5_6_BASE:1.25
	OPENBSD_5_5:1.24.0.2
	OPENBSD_5_5_BASE:1.24
	OPENBSD_5_4:1.22.0.2
	OPENBSD_5_4_BASE:1.22
	OPENBSD_5_3:1.20.0.2
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.17.0.2
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.2
	OPENBSD_5_0:1.15.0.2
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.11.0.2
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.8.0.2
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.7.0.2
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.6.0.4
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.4.0.8
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.6
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.4
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.3.0.2
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.2.0.2
	OPENBSD_3_7_BASE:1.2
	alek_20041110:1.1.1.1
	alek:1.1.1;
locks; strict;
comment	@# @;


1.34
date	2016.11.14.17.44.49;	author giovanni;	state Exp;
branches;
next	1.33;
commitid	EryVVFXVwf0W0hrX;

1.33
date	2016.10.25.21.08.48;	author giovanni;	state Exp;
branches;
next	1.32;
commitid	Xv6bsx3ZqBdVqrjX;

1.32
date	2016.09.02.14.20.31;	author giovanni;	state Exp;
branches;
next	1.31;
commitid	FABizfCeVAVMDsc6;

1.31
date	2016.03.09.14.50.11;	author giovanni;	state Exp;
branches
	1.31.2.1;
next	1.30;
commitid	kMrS9fQvG65cDUJa;

1.30
date	2016.03.05.21.30.16;	author giovanni;	state Exp;
branches;
next	1.29;
commitid	S6FC6Op5k445eW4s;

1.29
date	2015.05.05.15.43.03;	author giovanni;	state Exp;
branches;
next	1.28;
commitid	7z0U3D2ZEaUXADef;

1.28
date	2015.02.19.08.01.59;	author giovanni;	state Exp;
branches;
next	1.27;
commitid	CavZcI5PGRkX43nP;

1.27
date	2014.11.04.21.16.45;	author sthen;	state Exp;
branches;
next	1.26;
commitid	0iVlXZAfsJbukEv3;

1.26
date	2014.11.04.15.11.05;	author giovanni;	state Exp;
branches;
next	1.25;
commitid	Y4nNv8XLaKRDHSq5;

1.25
date	2014.07.15.18.17.06;	author giovanni;	state Exp;
branches;
next	1.24;
commitid	pqOLzhTqg9WpiJnT;

1.24
date	2014.01.05.13.32.43;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2013.08.07.21.32.11;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2013.04.25.21.33.21;	author sthen;	state Exp;
branches
	1.22.2.1;
next	1.21;

1.21
date	2013.03.11.11.23.57;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2013.01.14.22.35.04;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2012.11.29.22.10.01;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2012.08.23.17.51.22;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2012.04.03.16.37.42;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2011.12.25.14.37.28;	author sebastia;	state Exp;
branches;
next	1.15;

1.15
date	2011.07.11.12.13.03;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.19.07.23.12;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.18.20.52.09;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.10.14.12.33.03;	author sebastia;	state Exp;
branches;
next	1.11;

1.11
date	2010.07.21.14.07.43;	author landry;	state Exp;
branches;
next	1.10;

1.10
date	2010.04.21.12.23.37;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2009.08.07.10.46.41;	author jasper;	state Exp;
branches
	1.9.2.1;
next	1.8;

1.8
date	2009.05.01.02.00.02;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2008.11.06.13.06.56;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2007.12.27.17.42.50;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2007.09.15.23.54.17;	author merdely;	state Exp;
branches;
next	1.4;

1.4
date	2005.11.16.22.56.08;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2005.08.06.20.37.47;	author alek;	state Exp;
branches;
next	1.2;

1.2
date	2004.12.22.11.48.33;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2004.11.10.20.23.31;	author alek;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.11.10.20.23.31;	author alek;	state Exp;
branches;
next	;

1.9.2.1
date	2010.07.17.00.34.20;	author william;	state Exp;
branches;
next	;

1.22.2.1
date	2014.01.05.13.34.49;	author jasper;	state Exp;
branches;
next	;

1.31.2.1
date	2016.11.14.18.41.12;	author giovanni;	state Exp;
branches;
next	;
commitid	aXsXiH1wVxBr9ZZf;


desc
@@


1.34
log
@Security update to 1.4.33
fixes a remote code execution but pledge(2) is protecting us
@
text
@# $OpenBSD: Makefile,v 1.33 2016/10/25 21:08:48 giovanni Exp $

COMMENT=	distributed memory object caching system

DISTNAME=	memcached-1.4.33
CATEGORIES=	misc

HOMEPAGE=	http://www.memcached.org/

MAINTAINER=	Giovanni Bechis <giovanni@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

# uses pledge()
WANTLIB += c event pthread

FLAVOR?=
FLAVORS=	sasl

MASTER_SITES=		http://memcached.org/files/

CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ARGS=		--with-libevent=/usr \
			--disable-coverage \
			--disable-docs
TEST_TARGET=		test
TEST_DEPENDS=		devel/p5-Test-MockSleep

.if ${FLAVOR:Msasl}
CONFIGURE_ARGS+=	--enable-sasl
LIB_DEPENDS=		security/cyrus-sasl2
WANTLIB+=		sasl2
.else
CONFIGURE_ARGS+=	--disable-sasl
.endif

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/memcached
	${INSTALL_DATA} ${WRKSRC}/doc/*.txt ${PREFIX}/share/doc/memcached
	${INSTALL_SCRIPT} ${WRKSRC}/scripts/memcached-tool ${PREFIX}/bin/memcached-tool
	${INSTALL_DATA} ${WRKSRC}/scripts/memcached-tool.1 ${PREFIX}/man/man1/

.include <bsd.port.mk>
@


1.33
log
@Security update to 1.4.32, one patch applied upstream
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2016/09/02 14:20:31 giovanni Exp $
d5 1
a5 1
DISTNAME=	memcached-1.4.32
@


1.32
log
@Update to 1.4.31
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2016/03/09 14:50:11 giovanni Exp $
d5 1
a5 1
DISTNAME=	memcached-1.4.31
@


1.31
log
@Add pledge(2) support
hints from semarie@@ and sthen@@
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/03/05 21:30:16 giovanni Exp $
d5 1
a5 2
DISTNAME=	memcached-1.4.25
REVISION=	0
@


1.31.2.1
log
@Security update to 1.4.33
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2016/10/25 21:08:48 giovanni Exp $
d5 2
a6 1
DISTNAME=	memcached-1.4.33
@


1.30
log
@Update to 1.4.25 and add a tool to monitor the memcached server
hint and ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/05/05 15:43:03 giovanni Exp $
d6 1
d16 1
@


1.29
log
@Update to 1.4.24
ok gonzalo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/02/19 08:01:59 giovanni Exp $
d5 1
a5 1
DISTNAME=	memcached-1.4.24
d42 2
@


1.28
log
@honours CFLAGS and remove an old comment on a patch
diff by Donovan Watteau
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/11/04 21:16:45 sthen Exp $
d5 1
a5 2
DISTNAME=	memcached-1.4.21
REVISION=	1
@


1.27
log
@Move memcached's sasl support (recently enabled in the port) to a flavour
rather than enabling it unconditionally. For some situations, packet filtering
is good enough, and increasing the codebase by 5x to add user authentication
isn't so desirable ;)    ok giovanni@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2014/11/04 15:11:05 giovanni Exp $
d6 1
a6 1
REVISION=	0
d24 1
a24 1
CONFIGURE_ENV=		CFLAGS="-I${LOCALBASE}/include" \
@


1.26
log
@Update to 1.4.21
enable sasl2 authentication
move MESSAGE to README file
prodded by Frantisek Holop and gonzalo@@
ok gonzalo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/07/15 18:17:06 giovanni Exp $
d6 1
d16 4
a19 2
LIB_DEPENDS=		security/cyrus-sasl2
WANTLIB=		c event pthread sasl2
d28 1
a28 2
			--disable-docs \
			--enable-sasl
d31 8
@


1.25
log
@
Long overdue update to 1.4.20 and take maintainership
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/01/05 13:32:43 jasper Exp $
d5 1
a5 1
DISTNAME=	memcached-1.4.20
d15 2
a16 1
WANTLIB=		c event pthread
d21 2
d25 2
a26 1
			--disable-docs
@


1.24
log
@security fixes for CVE-2011-4971 and CVE-2013-0179

from donovan watteau
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/08/07 21:32:11 naddy Exp $
d5 1
a5 2
DISTNAME=	memcached-1.4.14
REVISION=	1
d10 2
d17 1
a17 2
MASTER_SITES=		https://memcached.googlecode.com/files/
MASTER_SITES0=		${HOMEPAGE}/dist/
d24 1
@


1.23
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/04/25 21:33:21 sthen Exp $
d5 2
a6 2
DISTNAME =	memcached-1.4.14
REVISION =	0
@


1.22
log
@printf format string fix for long long time_t
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/11 11:23:57 espie Exp $
d16 1
a16 1
MASTER_SITES=		http://memcached.googlecode.com/files/
@


1.22.2.1
log
@security fixes for CVE-2011-4971 and CVE-2013-0179

from donovan watteau
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/04/25 21:33:21 sthen Exp $
d5 2
a6 2
DISTNAME=	memcached-1.4.14
REVISION=	1
@


1.21
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/01/14 22:35:04 sthen Exp $
d6 1
@


1.20
log
@- add --disable-docs to memcached CONFIGURE_ARGS, fixing the build
if xml2rfc was installed at build time.

- enable regression tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/11/29 22:10:01 sthen Exp $
a11 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d22 1
a22 1
REGRESS_TARGET=		test
@


1.19
log
@Update to memcached 1.4.14.

Generous maintainer timeout, previous update was also timed out -> drop maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/08/23 17:51:22 ajacoutot Exp $
d22 4
a25 1
CONFIGURE_ARGS=		--with-libevent=/usr --disable-coverage
@


1.18
log
@Remove pthread patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/04/03 16:37:42 sthen Exp $
d5 1
a5 1
DISTNAME =	memcached-1.4.13
a6 1
REVISION=	0
a8 2

MAINTAINER=	Scott Vokes <vokes.s@@gmail.com>
@


1.17
log
@update to memcached 1.4.13, lots of bug fixes amd improvements.
maintainer timeout, OK sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/12/25 14:37:28 sebastia Exp $
d7 1
@


1.16
log
@update memcached 1.4.5 -> 1.4.10.
Added rc script.

tested with www/sogo on i386 by me, and with devel/subversion by stsp@@ on amd64

OK stsp@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/07/11 12:13:03 jasper Exp $
d5 1
a5 1
DISTNAME =	memcached-1.4.10
d8 1
a8 1
HOMEPAGE=	http://www.danga.com/memcached/
d17 1
d24 1
a24 2
CONFIGURE_ARGS= 	--with-libevent=/usr --disable-coverage
USE_GROFF =		Yes
@


1.15
log
@- no need to use the gcc3 module anymore on sparc

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/11/19 07:23:12 espie Exp $
d5 1
a5 2
DISTNAME=	memcached-1.4.5
REVISION=	0
@


1.14
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/18 20:52:09 espie Exp $
d6 1
a18 3

MODULES=		gcc3
MODGCC3_ARCHES=		sparc
@


1.13
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/10/14 12:33:03 sebastia Exp $
d27 1
a27 1
USE_GROFF =	Yes
@


1.12
log
@Update memcached to 1.4.5

OK landry@@, maintainer timed out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/07/21 14:07:43 landry Exp $
d27 1
@


1.11
log
@Don't use -Wredundant-decls.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/04/21 12:23:37 jasper Exp $
d5 1
a5 2
DISTNAME=	memcached-1.4.3
REVISION=	1
d18 3
@


1.10
log
@SECURITY UPDATE of memcached to 1.4.3
* resolves the DoS in CVE-2010-1152

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/08/07 10:46:41 jasper Exp $
d6 1
@


1.9
log
@- update memcached to 1.4.0 ("many improvements have been made, upgrading is
recommended")

from Scott Vokes (MAINTAINER), thanks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/05/01 02:00:02 sthen Exp $
d5 1
a5 1
DISTNAME=	memcached-1.4.0
@


1.9.2.1
log
@MFC:

SECURITY UPDATE to memcached-1.4.3

Resolves CVE-2010-1152
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/08/07 10:46:41 jasper Exp $
d5 1
a5 1
DISTNAME=	memcached-1.4.3
@


1.8
log
@- maintenance update to 1.2.8 from Scott Vokes (maintainer).
- set REGRESS_TARGET to something more useful.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/11/06 13:06:56 sthen Exp $
d5 1
a5 1
DISTNAME=	memcached-1.2.8
d17 1
a17 1
WANTLIB=		c event
d19 2
a20 2
MASTER_SITES=		${HOMEPAGE}/dist/
MASTER_SITES0=		http://memcached.googlecode.com/files/
d23 1
a23 3
CONFIGURE_ARGS= 	--with-libevent=/usr

REGRESS_TARGET=		test
@


1.7
log
@update to 1.2.6, from arn at antora.ru on ports@@.

- major crash fixes: "If you have stability issues with
any previous release, please upgrade to this one."
- minor bugfixes, updates
- ipv6 support
- "noreply" mode for many commands
- out of memory errors more clear
- added eviction/OOM tracking per slab class
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/12/27 17:42:50 jasper Exp $
d5 1
a5 1
DISTNAME=	memcached-1.2.6
d10 2
d20 1
d24 2
@


1.6
log
@- update memcached to 1.2.4
- install documentation
- remove maintainer (alek@@) per his request

ok alek@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/09/15 23:54:17 merdely Exp $
d5 1
a5 1
DISTNAME=	memcached-1.2.4
d15 1
a15 1
WANTLIB=		c event pthread
@


1.5
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/11/16 22:56:08 naddy Exp $
d5 1
a5 2
DISTNAME=	memcached-1.1.12
PKGNAME=	${DISTNAME}p0
a9 2
MAINTAINER=	Aleksander Piotrowski <alek@@openbsd.org>

d13 1
a13 1
PERMIT_DISTFILES_CDROM=	Yes
d15 3
a17 1
WANTLIB=		c event
d19 2
a20 1
MASTER_SITES=	${HOMEPAGE}/dist/
d22 3
a24 2
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--with-libevent=/usr
@


1.4
log
@wantlib fix
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/08/06 20:37:47 alek Exp $
d3 1
a3 1
COMMENT=	"distributed memory object caching system"
@


1.3
log
@Update to 1.1.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/12/22 11:48:33 alek Exp $
d6 1
d18 1
a18 1
WANTLIB=		c
@


1.2
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/11/10 20:23:31 alek Exp $
d5 1
a5 1
DISTNAME=	memcached-1.1.11
a22 2

NO_REGRESS=	Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d17 1
@


1.1.1.1
log
@Import memcached 1.1.11

memcached is a high-performance, distributed memory object caching
system, generic in nature, but intended for use in speeding up dynamic
web applications by alleviating database load.

help and ok naddy@@
@
text
@@
