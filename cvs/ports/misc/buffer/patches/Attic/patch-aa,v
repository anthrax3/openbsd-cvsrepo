head	1.4;
access;
symbols
	OPENBSD_3_5:1.3.0.18
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.16
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.14
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.12
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.10
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.3.0.8
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	OPENBSD_2_9:1.3.0.6
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.3.0.4
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.2.0.4
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.1.1.1.0.4
	OPENBSD_2_4_BASE:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	buffer1_17:1.1.1.1
	buffer:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2004.06.25.03.52.15;	author xsa;	state dead;
branches;
next	1.3;

1.3
date	99.12.07.04.23.04;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.03.11.20.19.29;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	97.12.17.23.11.45;	author joey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.17.23.11.45;	author joey;	state Exp;
branches;
next	;


desc
@@


1.4
log
@
respect CC; sync patches while there;
okay naddy@@.
@
text
@--- Makefile.orig	Sat Oct 30 16:51:23 1999
+++ Makefile	Tue Nov  2 01:15:00 1999
@@@@ -23,8 +23,8 @@@@
 	$(RM) -f *.o core buffer .merrs
 
 install: buffer
-	install -cs -m 0755 -o root -g wheel buffer $(INSTBIN)/buffer
-	install -c  -m 0644 -o root -g wheel buffer.man $(INSTMAN)/buffer.1
+	${BSD_INSTALL_PROGRAM} buffer $(INSTBIN)/buffer
+	${BSD_INSTALL_MAN} buffer.man $(INSTMAN)/buffer.1
 
 buffer.tar: $(ALL)
 	$(RM) -f buffer.tar
@


1.3
log
@upgrade to buffer 1.17.1
-
PR# 960
@
text
@@


1.2
log
@general clean-up; Christian Weisgerber <naddy@@unix-ag.uni-kl.de>
@
text
@d1 3
a3 28
--- Makefile.orig	Wed Jul 14 17:59:17 1993
+++ Makefile	Thu Mar 11 18:51:57 1999
@@@@ -4,13 +4,13 @@@@
 #   You should also add -DSYS5 for Ultrix, AIX, and Solarix.
 # Add -DDEF_SHMEM=n if you can only have n bytes of shared memory
 #   (eg: -DDEF_SHMEM=524288 if you can only have half a meg.)
-CFLAGS=
+CFLAGS+=
 
 # Where to install buffer and its manual pages
-INSTBIN=/usr/local/bin
-INSTMAN=/usr/man/manl
+INSTBIN=${PREFIX}/bin
+INSTMAN=${PREFIX}/man/man1
 # The manual page section (normally l or 1)
-S=l
+S=1
 
 RM=/bin/rm
 ALL=README buffer.man Makefile buffer.c sem.c COPYING
@@@@ -18,18 +18,14 @@@@
 all: buffer
 
 buffer: buffer.o sem.o
-	$(CC) -o buffer $(CFLAGS) buffer.o sem.o
+	$(CC) -o buffer buffer.o sem.o
 
 clean:
d7 2
a8 6
-	rm -f $(INSTBIN)/buffer
-	cp buffer $(INSTBIN)/buffer
-	chmod 111 $(INSTBIN)/buffer
-	rm -f $(INSTMAN)/buffer.$S
-	cp buffer.man $(INSTMAN)/buffer.$S
-	chmod 444 $(INSTMAN)/buffer.$S
d10 1
a10 1
+	${BSD_INSTALL_MAN} buffer.man $(INSTMAN)/buffer.$S
@


1.1
log
@Initial revision
@
text
@d1 8
a8 4
diff -udr buffer.ORG/Makefile buffer/Makefile
--- buffer.ORG/Makefile	Wed Jul 14 17:59:17 1993
+++ Makefile	Thu Nov 16 20:09:23 1995
@@@@ -8,7 +8,7 @@@@
d11 1
a11 1
 INSTBIN=/usr/local/bin
d13 2
a14 1
+INSTMAN=/usr/local/man/manl
d16 2
a17 1
 S=l
d19 24
a42 19
diff -udr buffer.ORG/buffer.c buffer/buffer.c
--- buffer.ORG/buffer.c	Wed Jul 14 17:59:17 1993
+++ buffer.c	Fri Nov 17 20:23:58 1995
@@@@ -384,6 +384,7 @@@@
 }
 
 /* The interrupt handler */
+void
 shutdown()
 {
 	static int shutting;
@@@@ -400,6 +401,7 @@@@
 }
 
 /* Shutdown because the child has ended */
+void
 child_shutdown()
 {
 	/* Find out which child has died.  (They may not be my
@


1.1.1.1
log
@
buffer 
@
text
@@
