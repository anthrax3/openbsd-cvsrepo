head	1.62;
access;
symbols
	OPENBSD_6_1:1.62.0.10
	OPENBSD_6_1_BASE:1.62
	OPENBSD_6_0:1.62.0.8
	OPENBSD_6_0_BASE:1.62
	OPENBSD_5_9:1.62.0.4
	OPENBSD_5_9_BASE:1.62
	OPENBSD_5_8:1.62.0.6
	OPENBSD_5_8_BASE:1.62
	OPENBSD_5_7:1.62.0.2
	OPENBSD_5_7_BASE:1.62
	OPENBSD_5_6:1.60.0.4
	OPENBSD_5_6_BASE:1.60
	OPENBSD_5_5:1.60.0.2
	OPENBSD_5_5_BASE:1.60
	OPENBSD_5_4:1.58.0.2
	OPENBSD_5_4_BASE:1.58
	OPENBSD_5_3:1.56.0.4
	OPENBSD_5_3_BASE:1.56
	OPENBSD_5_2:1.56.0.2
	OPENBSD_5_2_BASE:1.56
	OPENBSD_5_1_BASE:1.54
	OPENBSD_5_1:1.54.0.2
	OPENBSD_5_0:1.53.0.4
	OPENBSD_5_0_BASE:1.53
	OPENBSD_4_9:1.53.0.2
	OPENBSD_4_9_BASE:1.53
	OPENBSD_4_8:1.49.0.4
	OPENBSD_4_8_BASE:1.49
	OPENBSD_4_7:1.49.0.2
	OPENBSD_4_7_BASE:1.49
	OPENBSD_4_6:1.48.0.4
	OPENBSD_4_6_BASE:1.48
	OPENBSD_4_5:1.48.0.2
	OPENBSD_4_5_BASE:1.48
	OPENBSD_4_4:1.46.0.4
	OPENBSD_4_4_BASE:1.46
	OPENBSD_4_3:1.46.0.2
	OPENBSD_4_3_BASE:1.46
	OPENBSD_4_2:1.44.0.6
	OPENBSD_4_2_BASE:1.44
	OPENBSD_4_1:1.44.0.4
	OPENBSD_4_1_BASE:1.44
	OPENBSD_4_0:1.44.0.2
	OPENBSD_4_0_BASE:1.44
	OPENBSD_3_9:1.43.0.2
	OPENBSD_3_9_BASE:1.43
	OPENBSD_3_8:1.38.0.4
	OPENBSD_3_8_BASE:1.38
	OPENBSD_3_7:1.38.0.2
	OPENBSD_3_7_BASE:1.38
	OPENBSD_3_6:1.33.0.2
	OPENBSD_3_6_BASE:1.33
	OPENBSD_3_5:1.31.0.2
	OPENBSD_3_5_BASE:1.31
	OPENBSD_3_4:1.30.0.2
	OPENBSD_3_4_BASE:1.30
	OPENBSD_3_3:1.25.0.4
	OPENBSD_3_3_BASE:1.25
	OPENBSD_3_2:1.25.0.2
	OPENBSD_3_2_BASE:1.25
	OPENBSD_3_1:1.23.0.2
	OPENBSD_3_1_BASE:1.23
	OPENBSD_3_0:1.21.0.2
	OPENBSD_3_0_BASE:1.21
	OPENBSD_2_9_TRACKING_SWITCH:1.19
	OPENBSD_2_9:1.17.0.2
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.14.0.2
	OPENBSD_2_8_BASE:1.14
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.1.1.1.0.2
	OPENBSD_2_6_BASE:1.1.1.1
	magicpoint-1_05a:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.62
date	2014.11.20.09.11.21;	author brad;	state Exp;
branches;
next	1.61;
commitid	BPYMviz9SDw9xKdp;

1.61
date	2014.08.10.07.25.45;	author espie;	state Exp;
branches;
next	1.60;
commitid	kRiiIVhoFQ30uRJ4;

1.60
date	2013.10.11.20.37.21;	author naddy;	state Exp;
branches;
next	1.59;

1.59
date	2013.09.25.07.58.43;	author sthen;	state Exp;
branches;
next	1.58;

1.58
date	2013.06.23.13.22.40;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2013.03.11.11.23.57;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2012.02.24.07.18.01;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2012.02.21.16.21.42;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2011.09.16.10.31.23;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2010.11.19.07.23.12;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2010.11.05.08.24.50;	author sthen;	state Exp;
branches;
next	1.51;

1.51
date	2010.10.24.21.26.49;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2010.10.18.20.52.09;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2009.08.10.06.33.02;	author kili;	state Exp;
branches;
next	1.48;

1.48
date	2009.02.18.08.15.50;	author giovanni;	state Exp;
branches;
next	1.47;

1.47
date	2009.02.13.13.57.17;	author giovanni;	state Exp;
branches;
next	1.46;

1.46
date	2007.11.14.09.43.40;	author steven;	state Exp;
branches;
next	1.45;

1.45
date	2007.09.15.23.54.17;	author merdely;	state Exp;
branches;
next	1.44;

1.44
date	2006.08.03.20.04.52;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2006.02.08.22.15.33;	author aanriot;	state Exp;
branches;
next	1.42;

1.42
date	2005.11.05.09.28.42;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2005.11.03.18.28.56;	author naddy;	state Exp;
branches;
next	1.40;

1.40
date	2005.11.03.14.46.01;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2005.11.01.21.33.56;	author fgsch;	state Exp;
branches;
next	1.38;

1.38
date	2005.03.01.18.35.37;	author jcs;	state Exp;
branches;
next	1.37;

1.37
date	2005.03.01.18.19.52;	author jcs;	state Exp;
branches;
next	1.36;

1.36
date	2005.02.25.13.34.37;	author alek;	state Exp;
branches;
next	1.35;

1.35
date	2004.12.22.11.48.33;	author alek;	state Exp;
branches;
next	1.34;

1.34
date	2004.11.26.03.42.13;	author kevlo;	state Exp;
branches;
next	1.33;

1.33
date	2004.08.10.09.48.18;	author xsa;	state Exp;
branches;
next	1.32;

1.32
date	2004.04.09.09.52.09;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2003.11.07.04.26.28;	author pvalchev;	state Exp;
branches;
next	1.30;

1.30
date	2003.09.02.19.28.11;	author pvalchev;	state Exp;
branches;
next	1.29;

1.29
date	2003.08.13.01.41.16;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2003.08.13.01.39.17;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2003.07.16.19.24.25;	author naddy;	state Exp;
branches;
next	1.26;

1.26
date	2003.04.19.13.30.47;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2002.09.27.16.24.41;	author pvalchev;	state Exp;
branches;
next	1.24;

1.24
date	2002.06.16.13.33.49;	author kevlo;	state Exp;
branches;
next	1.23;

1.23
date	2001.11.26.16.09.59;	author kevlo;	state Exp;
branches;
next	1.22;

1.22
date	2001.11.19.12.34.07;	author kevlo;	state Exp;
branches;
next	1.21;

1.21
date	2001.10.15.11.36.01;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2001.08.28.08.10.21;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2001.06.22.02.04.22;	author kevlo;	state Exp;
branches;
next	1.18;

1.18
date	2001.05.24.02.28.02;	author kevlo;	state Exp;
branches;
next	1.17;

1.17
date	2001.03.30.08.13.33;	author kevlo;	state Exp;
branches;
next	1.16;

1.16
date	2001.03.30.03.01.42;	author kevlo;	state Exp;
branches;
next	1.15;

1.15
date	2001.03.07.22.34.45;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.10.22.15.42.47;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.07.10.02.09.50;	author angelos;	state Exp;
branches;
next	1.12;

1.12
date	2000.07.10.02.08.29;	author angelos;	state Exp;
branches;
next	1.11;

1.11
date	2000.06.26.03.35.39;	author jason;	state Exp;
branches;
next	1.10;

1.10
date	2000.04.20.12.49.29;	author kevlo;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2000.04.09.17.37.10;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.03.24.23.28.23;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.05.18.30.36;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.15.05.04.49;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.12.06.30.00;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.11.01.10.07;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	99.11.03.05.24.13;	author kevlo;	state Exp;
branches;
next	1.2;

1.2
date	99.10.26.04.56.37;	author turan;	state Exp;
branches;
next	1.1;

1.1
date	99.07.14.19.32.51;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.07.14.19.32.51;	author angelos;	state Exp;
branches;
next	;

1.10.2.1
date	2000.09.15.05.05.27;	author marc;	state Exp;
branches;
next	;


desc
@@


1.62
log
@- malloc.h header fixes
- sync WANTLIBs
- remove a no longer necessary patch for configure for the mng test
- add some patches to resolve implicit delaration messages from compiler
- drop USE_GROFF

ok sthen@@
@
text
@# $OpenBSD: Makefile,v 1.61 2014/08/10 07:25:45 espie Exp $

COMMENT=	X11-based presentation tool

DISTNAME=	magicpoint-1.09a
REVISION=	0
EPOCH=		0
CATEGORIES=	misc productivity
MASTER_SITES=	ftp://sh.wide.ad.jp/WIDE/free-ware/mgp/

HOMEPAGE=	http://member.wide.ad.jp/wg/mgp/

PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	ICE SM X11 Xau Xdmcp Xext Xmu Xt Xtst c gif m mng png ttf util

# plus sign is for localized (i.e. Japanese) version
LIB_DEPENDS+=	print/freetype \
		graphics/png \
		graphics/libmng \
		graphics/giflib
RUN_DEPENDS+=	graphics/netpbm \
		print/ghostscript/gnu-fonts

MODULES=	devel/gettext

AUTOCONF_VERSION=2.13
# XXX while autoconf will append gnu in CONFIGURE_STYLE, we explicitely
# set it anyway because order matters
CONFIGURE_STYLE=autoconf gnu imake no-autoheader
CONFIGURE_ARGS=	--disable-vflib
CONFIGURE_ARGS+= --enable-gif
CONFIGURE_ARGS+= --enable-freetype-charset16

NO_TEST=	Yes

post-configure:
	@@cd ${WRKSRC}/contrib/xmindpath && \
		ac_cv_path_install='install -c' \
		./configure --prefix='$${DESTDIR}${PREFIX}'

post-build:
	@@cd ${WRKSRC}/contrib/xmindpath && ${MAKE_PROGRAM}
	@@cd ${WRKSRC}/contrib/xwintoppm && ${XMKMF}

DOCS=	COPYRIGHT COPYRIGHT.jp FAQ README README.fonts README.fonts.jp \
	README.lang SYNTAX TODO.jp USAGE USAGE.jp
SAMPLES=	README README.jp cloud.jpg dad.eps dad.jpg default.mgp \
		embed-jp.mgp embed.mgp gradation-jp.mgp \
		gradation.mgp mgp-old1.jpg mgp-old2.jpg mgp-old3.jpg \
		mgp.mng mgp1.jpg mgp2.jpg mgp3.jpg mgp3.xbm mgprc-sample \
		multilingual.mgp sample-fr.mgp sample-jp.mgp sample.mgp \
		sendmail6-jp.mgp sendmail6.mgp tutorial-jp.mgp tutorial.mgp \
		v6-jp.mgp v6.mgp v6header.eps v6header.jpg
EMACS=	README mgp.el mgp.sty sample.tex ../mgp-mode.el

MAKE_FLAGS +=	CDEBUGFLAGS="${CFLAGS}"
# NOTE: there are some discussions/twists in gzip'ing xmindpath.1.
post-install:
	@@cd ${WRKSRC}/contrib/xmindpath && ${MAKE_PROGRAM} install
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/mgp/sample
	${INSTALL_DATA_DIR} ${PREFIX}/share/mgp/emacs
	@@for i in $(DOCS); do \
	   ${INSTALL_DATA} ${WRKSRC}/$$i ${PREFIX}/share/doc/mgp; \
	done
	@@for i in $(SAMPLES); do \
	   ${INSTALL_DATA} ${WRKSRC}/sample/$$i ${PREFIX}/share/doc/mgp/sample; \
	done
	@@for i in $(EMACS); do \
		 ${INSTALL_DATA} ${WRKSRC}/contrib/mgp-el/$$i \
			 ${PREFIX}/share/mgp/emacs; \
	done
	${INSTALL_SCRIPT} ${WRKSRC}/contrib/eqn2eps.sh \
		 ${PREFIX}/bin/eqn2eps
	${INSTALL_SCRIPT} ${WRKSRC}/contrib/mgp2html.pl \
		${PREFIX}/bin/mgp2html
	${INSTALL_SCRIPT} ${WRKSRC}/contrib/mgp2latex.pl \
		${PREFIX}/bin/mgp2latex
	${INSTALL_SCRIPT} ${WRKSRC}/contrib/tex2eps.sh \
		${PREFIX}/bin/tex2eps
	
.include <bsd.port.mk>
@


1.61
log
@force install without path in xmindpath contrib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/10/11 20:37:21 naddy Exp $
d6 1
d15 1
a15 3
WANTLIB=	c ICE jpeg lcms m SM util \
		Xt Xau Xdmcp Xmu Xext X11 Xtst z \
		pthread-stubs xcb ttf png mng gif
a26 1
USE_GROFF =	Yes
@


1.60
log
@Fix version number using EPOCH.
Regenerate PLIST now that imake installs the source man pages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/09/25 07:58:43 sthen Exp $
d41 1
d59 1
a59 1
MAKE_FLAGS+=	CDEBUGFLAGS="${CFLAGS}"
@


1.59
log
@libungif->giflib and patch where necessary, ok jasper@@ aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/06/23 13:22:40 espie Exp $
d6 1
a6 3
# hack
PKGNAME=	magicpoint-1.11b
REVISION=	12
@


1.58
log
@minimal fixes to mgpembed to at least let it start with somewhat modern
perl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/03/11 11:23:57 espie Exp $
d8 1
a8 1
REVISION=	11
d18 1
a18 1
		pthread-stubs xcb ttf png mng ungif
d24 1
a24 1
		graphics/libungif
@


1.57
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/02/24 07:18:01 ajacoutot Exp $
d8 1
a8 1
REVISION=	10
@


1.56
log
@Re-add 'gnu' to CONFIGURE_ARGS. It is needed in this case because order
matters.

spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/02/21 16:21:42 ajacoutot Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d39 1
a39 1
NO_REGRESS=	Yes
@


1.55
log
@CONFIGURE_STYLE autoconf already appends gnu, so no need to explicitely
list it.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/09/16 10:31:23 espie Exp $
d35 3
a37 1
CONFIGURE_STYLE=autoconf imake no-autoheader
@


1.54
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/11/19 07:23:12 espie Exp $
d35 1
a35 1
CONFIGURE_STYLE=autoconf gnu imake no-autoheader
@


1.53
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/11/05 08:24:50 sthen Exp $
d8 1
a8 1
REVISION=	9
@


1.52
log
@move to revision/new-style lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/10/24 21:26:49 ajacoutot Exp $
d24 6
a29 6
LIB_DEPENDS+=	::print/freetype \
		::graphics/png \
		::graphics/libmng \
		::graphics/libungif
RUN_DEPENDS+=	::graphics/netpbm \
		::print/ghostscript/gnu-fonts
@


1.51
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/10/18 20:52:09 espie Exp $
d7 2
a8 1
PKGNAME=	magicpoint-1.11bp9
d21 1
a21 1
		pthread-stubs xcb
d24 4
a27 4
LIB_DEPENDS+=	ttf.>=1::print/freetype \
		png.>=2::graphics/png \
		mng::graphics/libmng \
		ungif.>=5::graphics/libungif
@


1.50
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/08/10 06:33:02 kili Exp $
a31 1
USE_X11=	Yes
@


1.49
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/02/18 08:15:50 giovanni Exp $
d33 1
@


1.48
log
@
Add a patch to let mgpnet(1) work
"if it works for you" sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2009/02/13 13:57:17 giovanni Exp $
d7 1
a7 1
PKGNAME=	magicpoint-1.11bp8
d19 2
a20 1
		Xt Xau Xdmcp Xmu Xext X11 Xtst z
@


1.47
log
@
Fix a segfault when using unicode chars with ttf fonts
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2007/11/14 09:43:40 steven Exp $
d7 1
a7 1
PKGNAME=	magicpoint-1.11bp7
@


1.46
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2007/09/15 23:54:17 merdely Exp $
d7 1
a7 1
PKGNAME=	magicpoint-1.11bp6
@


1.45
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2006/08/03 20:04:52 espie Exp $
d7 1
a7 1
PKGNAME=	magicpoint-1.11bp5
d17 3
a19 2
WANTLIB=		c ICE jpeg lcms m SM util \
			Xt Xmu Xext X11 Xtst z
@


1.44
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2006/02/08 22:15:33 aanriot Exp $
d3 1
a3 1
COMMENT=	"X11-based presentation tool"
@


1.43
log
@- Fix WANTLIB and add a dependency to print/ghostscript/gnu-fonts to
  make things look better by default.
- Bump PKGNAME.

ok and help matthieu@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2005/11/05 09:28:42 espie Exp $
d21 2
a22 2
LIB_DEPENDS+=	ttf.1::print/freetype \
		png.2::graphics/png \
d24 1
a24 1
		ungif.5::graphics/libungif
@


1.42
log
@This is *REALLY* a pile of shit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2005/11/03 18:28:56 naddy Exp $
d7 1
a7 1
PKGNAME=	magicpoint-1.11bp4
d17 2
a18 2
WANTLIB=		ICE SM X11 Xext Xft Xmu Xt Xtst c fontconfig m util z \
			jpeg lcms
d25 2
a26 1
RUN_DEPENDS+=	pnmscale::graphics/netpbm
@


1.41
log
@Always explicitly set the AUTOCONF_VERSION to use.  In some cases
the default was not appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2005/11/03 14:46:01 espie Exp $
d7 1
a7 1
PKGNAME=	magicpoint-1.11bp3
@


1.40
log
@regen patch
fix completely brain-dead formula for computing padding that worked by
accident (except for 32 bits display)
make sure we get our CFLAGS and not the shit it wants (especially since
we use -fno-strict-aliasing anyways).

and bump PKGNAME, of course...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2005/11/01 21:33:56 fgsch Exp $
d30 1
@


1.39
log
@working master site.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2005/03/01 18:35:37 jcs Exp $
d7 1
a7 1
PKGNAME=	magicpoint-1.11bp2
d56 1
@


1.38
log
@fix png support by looking in the right include directory

bump to 1.11bp2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2005/03/01 18:19:52 jcs Exp $
d9 1
a9 1
MASTER_SITES=	ftp://ftp.mew.org/pub/MagicPoint/
@


1.37
log
@revert to magicpoint-1.09a and merge in newer infrastructure
changes, newer 1.11 versions are busted

call it magicpoint-1.11bp1 as a temporary hack

requested by deraadt and henning
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/08/10 09:48:18 xsa Exp $
d7 1
a7 1
PKGNAME=	magicpoint-1.11bp1
@


1.36
log
@- Fix libintl & libmng detection
- Adjust WANTLIB marker
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2004/12/22 11:48:33 alek Exp $
d5 3
a7 2
DISTNAME=	magicpoint-1.11b
PKGNAME=	${DISTNAME}p0
d9 1
a9 1
MASTER_SITES=	ftp://sh.wide.ad.jp/WIDE/free-ware/mgp/
d11 1
a11 1
HOMEPAGE=	http://www.mew.org/mgp/
a36 3
pre-patch:
	perl -pi -e 's|malloc.h|stdlib.h|' ${WRKSRC}/image/new.c

d46 1
a46 1
	README.lang README.xft SYNTAX USAGE USAGE.jp
d72 1
a72 3
		${PREFIX}/bin/eqn2eps
	${INSTALL_SCRIPT} ${WRKSRC}/contrib/latex2eps.sh \
		${PREFIX}/bin/latex2eps
@


1.35
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2004/11/26 03:42:13 kevlo Exp $
d6 1
d16 2
a17 1
WANTLIB=		ICE SM X11 Xext Xft Xmu Xt Xtst c fontconfig m util z
@


1.34
log
@upgrade to magicpoint 1.11b
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/08/10 09:48:18 xsa Exp $
d15 1
@


1.33
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/04/09 09:52:09 espie Exp $
d5 1
a5 2
DISTNAME=	magicpoint-1.09a
PKGNAME=	${DISTNAME}p1
d7 1
a7 1
MASTER_SITES=	ftp://ftp.mew.org/pub/MagicPoint/
d33 3
d45 1
a45 1
	README.lang SYNTAX TODO.jp USAGE USAGE.jp
d71 3
a73 1
		 ${PREFIX}/bin/eqn2eps
@


1.32
log
@sprinkle no-autoheader for the coming change to autoconf CONFIGURE_STYLE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2003/11/07 04:26:28 pvalchev Exp $
d24 1
a24 1
MODULES=	gettext
@


1.31
log
@enable 16-bit charset support; pointed out by deraadt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2003/09/02 19:28:11 pvalchev Exp $
d27 1
a27 1
CONFIGURE_STYLE=autoconf gnu imake
@


1.30
log
@can go on the CD again (freetype)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2003/08/13 01:41:16 espie Exp $
d30 1
@


1.29
log
@#$!#@@# typo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2003/08/13 01:39:17 espie Exp $
d12 1
a12 1
PERMIT_PACKAGE_CDROM=	"Patents on freetype1"
@


1.28
log
@adjust licensing for freetype1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2003/07/16 19:24:25 naddy Exp $
d12 1
a12 1
PERMIT_PACKAGE_CDROM=	"Patents on freetype1""
@


1.27
log
@remove MANx and MANLANG cruft
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2003/04/19 13:30:47 espie Exp $
d12 1
a12 1
PERMIT_PACKAGE_CDROM=	Yes
@


1.26
log
@move freetype1 includes in a separate subdirectory.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/09/27 16:24:41 pvalchev Exp $
a39 2

MAN1=	mgp.1 mgp2ps.1 mgpembed.1 mgpnet.1 xwintoppm.1 xmindpath.1
@


1.25
log
@Do not install this with special permissions (setuid uucp), and write tty
locking files in /var/spool/lock rather than /var/spool/uucp.  Users need
to be in group dialer for that, and to open the serial devices now; this
matches OpenBSD tip(1) behaviour; itojun said it looks ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/06/16 13:33:49 kevlo Exp $
d27 1
a27 1
CONFIGURE_STYLE=gnu imake
@


1.24
log
@- add netpbm package to run properly; Thanks to Denis Afonin <dfa@@solo.ee>.
- drop maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/11/26 16:09:59 kevlo Exp $
d6 1
a7 1
NEED_VERSION=	1.499
@


1.23
log
@remove gif FLAVOR; mentioned by brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/11/19 12:34:07 kevlo Exp $
a11 2
MAINTAINER=	Kevin Lo <kevlo@@openbsd.org>

d22 1
d69 1
a69 1
	${INSTALL_PROGRAM} ${WRKSRC}/contrib/eqn2eps.sh \
d71 1
a71 1
	${INSTALL_PROGRAM} ${WRKSRC}/contrib/mgp2html.pl \
d73 1
a73 1
	${INSTALL_PROGRAM} ${WRKSRC}/contrib/mgp2latex.pl \
d75 1
a75 1
	${INSTALL_PROGRAM} ${WRKSRC}/contrib/tex2eps.sh \
@


1.22
log
@- upgrade to version 1.09a
- add FLAVOR gif
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/10/15 11:36:01 espie Exp $
d22 2
a23 1
		mng::graphics/libmng
a29 6

FLAVORS=	gif
FLAVOR?=

.if ${FLAVOR:L:Mgif}
LIB_DEPENDS=	ungif.5::graphics/libungif
a30 1
.endif
@


1.21
log
@More dependency breakage: wbd needs tcl,tk.
magicpoint will use gettext and mng.
And angst uses libnet, which was recently updated to shared (grrr).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/08/28 08:10:21 espie Exp $
d5 1
a5 1
DISTNAME=	magicpoint-1.08a
d7 1
a7 1
NEED_VERSION=	1.474
d26 1
d30 10
d50 1
a50 1
DOCS=	COPYRIGHT COPYRIGHT.jp README README.fonts README.fonts.jp \
a84 1

@


1.20
log
@Fix magicpoint wrt latest bsd.port.mk developments.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/06/22 02:04:22 kevlo Exp $
d7 1
a7 1
NEED_VERSION=	1.448
d21 4
a24 1
		png.2::graphics/png
@


1.19
log
@upgrade to version 1.08a.
--
Submitted by obecian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/05/24 02:28:02 kevlo Exp $
d7 1
a7 1
NEED_VERSION=	1.378
d23 1
a23 1
CONFIGURE_STYLE=imake gnu
@


1.18
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/03/30 08:13:33 kevlo Exp $
d5 1
a5 1
DISTNAME=	magicpoint-1.07a
d32 1
d37 1
a37 5
	SYNTAX TODO.jp USAGE USAGE.jp
SAMPLES=	README README.jp ascii.mgp cloud.jpg dad.eps dad.jpg dns.mgp \
		default.mgp gradation.mgp mgp-old1.jpg mgp-old2.jpg \
		mgp-old3.jpg mgp1.jpg mgp2.jpg mgp3.jpg sample.mgp \
		tutorial.mgp v6.mgp v6header.eps v6header.jpg
d39 1
a39 1
		dns-jp.mgp embed-jp.mgp embed.mgp gradation-jp.mgp \
d41 1
a41 1
		mgp1.jpg mgp2.jpg mgp3.jpg mgp3.xbm mgprc-sample \
d45 1
d51 1
d58 13
@


1.17
log
@Fix DESCR: /usr/X11R6 -> /usr/local
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/03/30 03:01:42 kevlo Exp $
d21 1
a21 1
		png.1::graphics/png
@


1.16
log
@- integrate COMMENT
- bump NNED_VERSION
- add HOMEPAGE
- takeover maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/03/07 22:34:45 brad Exp $
a5 2
# question is for localized (i.e. Japanese) version
PKGNAME?=	magicpoint-1.07a
@


1.15
log
@- fixup Makefile
- remove FreeBSD-ism
- mkdir -> ${INSTALL_DATA_DIR}
- make -> ${MAKE_PROGRAM}
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.14 2000/10/22 15:42:47 espie Exp $
d9 1
a9 1
NEED_VERSION=	1.336
d12 3
a14 1
MAINTAINER=	ports@@openbsd.org
@


1.14
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 8
# OpenBSD makefile for:	magicpoint
# Version required:	1.07a
# Date created:		July 13 1999
# Whom:			Angelos D. Keromytis
#
# $Id: Makefile,v 1.13 2000/07/10 02:09:50 angelos Exp $
# $OpenBSD: Makefile,v 1.13 2000/07/10 02:09:50 angelos Exp $
#
d7 1
a7 1
NEED_VERSION=	1.305
a11 1
LICENSE_TYPE=		BSD
d25 2
a26 1
	cd ${WRKSRC}/contrib/xmindpath; ./configure --prefix='$${DESTDIR}${PREFIX}'
d29 1
a29 1
	cd ${WRKSRC}/contrib/xmindpath; make
d49 4
a52 5
	(cd ${WRKSRC}/contrib/xmindpath; make install)
.if !defined(NOPORTDOCS)
	mkdir -p ${PREFIX}/share/doc/mgp
	for i in $(DOCS); do \
		${INSTALL_DATA} ${WRKSRC}/$$i ${PREFIX}/share/doc/mgp; \
d54 2
a55 3
	mkdir -p ${PREFIX}/share/doc/mgp/sample
	for i in $(SAMPLES); do \
		${INSTALL_DATA} ${WRKSRC}/sample/$$i ${PREFIX}/share/doc/mgp/sample; \
a56 1
.endif
@


1.13
log
@Change maintainer on this one too.
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.12 2000/07/10 02:08:29 angelos Exp $
# $OpenBSD: Makefile,v 1.12 2000/07/10 02:08:29 angelos Exp $
d13 2
a14 2
CATEGORIES=	misc
NEED_VERSION=	 1.230
d29 1
a29 2
USE_IMAKE=	Yes
GNU_CONFIGURE=	Yes
@


1.12
log
@Remove FAKE=yes, add dependency on png
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.11 2000/06/26 03:35:39 jason Exp $
# $OpenBSD: Makefile,v 1.11 2000/06/26 03:35:39 jason Exp $
d17 1
a17 1
MAINTAINER=	angelos@@openbsd.org
@


1.11
log
@I -said- update to 1.07a
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.10 2000/04/20 12:49:29 kevlo Exp $
# $OpenBSD: Makefile,v 1.10 2000/04/20 12:49:29 kevlo Exp $
d26 2
a27 1
LIB_DEPENDS+=	ttf.1::print/freetype
a28 1
FAKE=		Yes
@


1.10
log
@FAKE...
@
text
@d2 1
a2 1
# Version required:	1.05a
d6 2
a7 2
# $Id: Makefile,v 1.9 2000/04/09 17:37:10 espie Exp $
# $OpenBSD: Makefile,v 1.9 2000/04/09 17:37:10 espie Exp $
d10 1
a10 1
DISTNAME=	magicpoint-1.05a
d12 1
a12 1
PKGNAME?=	magicpoint-1.05a
d43 5
a47 5
SAMPLES=	README README.jp ascii.mgp cloud.gif dad.eps dad.gif dns.mgp \
		default.mgp gradation.mgp mgp-old1.gif mgp-old2.gif \
		mgp-old3.gif mgp1.gif mgp2.gif mgp3.gif sample.mgp \
		tutorial.mgp v6.mgp v6header.eps v6header.gif
SAMPLES=	README README.jp cloud.gif dad.eps dad.gif default.mgp \
d49 2
a50 2
		gradation.mgp mgp-old1.gif mgp-old2.gif mgp-old3.gif \
		mgp1.gif mgp2.gif mgp3.gif mgp3.xbm mgprc-sample \
d53 1
a53 1
		v6-jp.mgp v6.mgp v6header.eps v6header.gif
@


1.10.2.1
log
@bring misc as of cut-over date into 2.7 branch
@
text
@d2 1
a2 1
# Version required:	1.07a
d6 2
a7 2
# $Id: Makefile,v 1.13 2000/07/10 02:09:50 angelos Exp $
# $OpenBSD: Makefile,v 1.13 2000/07/10 02:09:50 angelos Exp $
d10 1
a10 1
DISTNAME=	magicpoint-1.07a
d12 1
a12 1
PKGNAME?=	magicpoint-1.07a
d17 1
a17 1
MAINTAINER=	ports@@openbsd.org
d26 1
a26 2
LIB_DEPENDS+=	ttf.1::print/freetype \
		png.1::graphics/png
d28 1
d43 5
a47 5
SAMPLES=	README README.jp ascii.mgp cloud.jpg dad.eps dad.jpg dns.mgp \
		default.mgp gradation.mgp mgp-old1.jpg mgp-old2.jpg \
		mgp-old3.jpg mgp1.jpg mgp2.jpg mgp3.jpg sample.mgp \
		tutorial.mgp v6.mgp v6header.eps v6header.jpg
SAMPLES=	README README.jp cloud.jpg dad.eps dad.jpg default.mgp \
d49 2
a50 2
		gradation.mgp mgp-old1.jpg mgp-old2.jpg mgp-old3.jpg \
		mgp1.jpg mgp2.jpg mgp3.jpg mgp3.xbm mgprc-sample \
d53 1
a53 1
		v6-jp.mgp v6.mgp v6header.eps v6header.jpg
@


1.9
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.8 2000/03/24 23:28:23 espie Exp $
# $OpenBSD: Makefile,v 1.8 2000/03/24 23:28:23 espie Exp $
a14 1
FAKE=No
d28 1
d34 1
a34 1
	cd ${WRKSRC}/contrib/xmindpath; ./configure --prefix=${PREFIX}
@


1.8
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.7 2000/03/05 18:30:36 espie Exp $
# $OpenBSD: Makefile,v 1.7 2000/03/05 18:30:36 espie Exp $
d15 1
@


1.7
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.6 2000/02/15 05:04:49 turan Exp $
# $OpenBSD: Makefile,v 1.6 2000/02/15 05:04:49 turan Exp $
d14 1
a14 1
NEED_VERSION=	1.223
d26 1
a26 1
LIB_DEPENDS+=	ttf.1:print/freetype
@


1.6
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.5 2000/02/12 06:30:00 turan Exp $
# $OpenBSD: Makefile,v 1.5 2000/02/12 06:30:00 turan Exp $
d14 1
d20 4
a23 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d26 1
a26 1
LIB_DEPENDS+=	ttf.1:${PORTSDIR}/print/freetype
d28 2
a29 2
USE_IMAKE=	yes
GNU_CONFIGURE=	yes
d33 1
a33 1
	(cd ${WRKSRC}/contrib/xmindpath; ./configure --prefix=${PREFIX})
d36 1
a36 1
	(cd ${WRKSRC}/contrib/xmindpath; make)
@


1.5
log
@bsd licenses
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.4 2000/02/11 01:10:07 espie Exp $
# $OpenBSD: Makefile,v 1.4 2000/02/11 01:10:07 espie Exp $
d19 4
a22 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.4
log
@Kill a large set of deprecated variables.
Thoroughly unsubtle, most mkdir -p should probably be INSTALL* at
*install stage, and echo/ECHO_MSG is somewhat unsorted.

It's quite possible I missed a few automated changes...
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.3 1999/11/03 05:24:13 kevlo Exp $
# $OpenBSD: Makefile,v 1.3 1999/11/03 05:24:13 kevlo Exp $
d17 6
@


1.3
log
@Bad packing lists fixed.
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.2 1999/10/26 04:56:37 turan Exp $
# $OpenBSD: Makefile,v 1.2 1999/10/26 04:56:37 turan Exp $
d51 1
a51 1
	${MKDIR} ${PREFIX}/share/doc/mgp
d55 1
a55 1
	${MKDIR} ${PREFIX}/share/doc/mgp/sample
@


1.2
log
@These ports have bad packing lists.

Ports tree is now unlocked.  Read the new policy first.
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.1.1.1 1999/07/14 19:32:51 angelos Exp $
# $OpenBSD: Makefile,v 1.1.1.1 1999/07/14 19:32:51 angelos Exp $
a8 2

BROKEN=		bad packing lists
@


1.1
log
@Initial revision
@
text
@d6 2
a7 2
# $Id: Makefile,v 1.10 1999/06/17 08:33:48 itojun Exp $
# $OpenBSD$
d9 2
@


1.1.1.1
log
@MagicPoint 1.05a, presentation tool (from FreeBSD)
@
text
@@
