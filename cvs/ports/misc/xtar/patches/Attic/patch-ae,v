head	1.3;
access;
symbols
	OPENBSD_2_6:1.1.1.1.0.6
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.4
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	xtar:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2000.04.16.00.58.13;	author angelos;	state dead;
branches;
next	1.2;

1.2
date	99.12.08.04.51.51;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	98.05.20.06.56.35;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.05.20.06.56.35;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Not needed.
@
text
@--- common/tmpfile.c.orig	Tue May  9 04:06:46 1995
+++ common/tmpfile.c	Thu Oct 21 20:43:13 1999
@@@@ -90,7 +90,12 @@@@
 char *tmpfile_create()
 {
     TMP_FILE *ptr, *tf;
-    char *filename = strdup(tmpnam(NULL));
+    char xxx[40];
+    char *filename;
+
+   sprintf(xxx, "/tmp/tmpf.XXXXXXXX");
+   close(mkstemp(xxx));
+   filename = strdup(xxx);
 
     if(filename == NULL)
         return(NULL);
@


1.2
log
@- convert patches to unified diffs
- cleanup Makefile
@
text
@@


1.1
log
@Initial revision
@
text
@d1 16
a16 24
*** common/tmpfile.c.orig	Wed May 20 02:47:47 1998
--- common/tmpfile.c	Wed May 20 02:51:16 1998
***************
*** 90,96 ****
  char *tmpfile_create()
  {
      TMP_FILE *ptr, *tf;
!     char *filename = strdup(tmpnam(NULL));
  
      if(filename == NULL)
          return(NULL);
--- 90,101 ----
  char *tmpfile_create()
  {
      TMP_FILE *ptr, *tf;
!     char xxx[40];
!     char *filename;
! 
!    sprintf(xxx, "/tmp/tmpf.XXXXXXXX");
!    close(mkstemp(xxx));
!    filename = strdup(xxx);
  
      if(filename == NULL)
          return(NULL);
@


1.1.1.1
log
@xtar port
@
text
@@
