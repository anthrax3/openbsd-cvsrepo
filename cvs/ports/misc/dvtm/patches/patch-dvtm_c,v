head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.6
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.4
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3;
locks; strict;
comment	@# @;


1.3
date	2015.12.28.16.18.53;	author jasper;	state Exp;
branches;
next	1.2;
commitid	saXudUhz546setNt;

1.2
date	2009.02.11.20.49.35;	author sthen;	state dead;
branches;
next	1.1;

1.1
date	2009.01.30.01.33.00;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to dvtm-0.14
@
text
@$OpenBSD$

Add sys/signal.h for SIGWINCH

--- dvtm.c.orig	Mon Dec 28 16:40:33 2015
+++ dvtm.c	Mon Dec 28 16:57:53 2015
@@@@ -36,6 +36,11 @@@@
 #endif
 #include "vt.h"
 
+/* Needed for SIGWINCH */
+#ifdef __OpenBSD__
+#include <sys/signal.h>
+#endif
+
 #ifdef PDCURSES
 int ESCDELAY;
 #endif
@@@@ -164,8 +169,12 @@@@ typedef struct {
 } Editor;
 
 #define LENGTH(arr) (sizeof(arr) / sizeof((arr)[0]))
+#ifndef MAX
 #define MAX(x, y)   ((x) > (y) ? (x) : (y))
+#endif
+#ifndef MIN
 #define MIN(x, y)   ((x) < (y) ? (x) : (y))
+#endif
 #define TAGMASK     ((1 << LENGTH(tags)) - 1)
 
 #ifdef NDEBUG
@


1.2
log
@bugfix update to 0.5.1, ok maintainer.
@
text
@d1 9
a9 10
$OpenBSD: patch-dvtm_c,v 1.1 2009/01/30 01:33:00 sthen Exp $
--- dvtm.c.orig	Thu Jan 29 19:52:03 2009
+++ dvtm.c	Thu Jan 29 19:52:05 2009
@@@@ -839,7 +839,7 @@@@ setup() {
 	signal(SIGWINCH, sigwinch_handler);
 	signal(SIGCHLD, sigchld_handler);
 	signal(SIGTERM, sigterm_handler);
-	set_escdelay(esc_delay);
+	ESCDELAY = esc_delay;
 }
d11 21
a31 1
 static void
@


1.1
log
@update to 0.5, ok with Emilien Gaspar (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
@

