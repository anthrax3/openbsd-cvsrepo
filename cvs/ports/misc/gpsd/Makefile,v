head	1.62;
access;
symbols
	OPENBSD_6_1:1.62.0.8
	OPENBSD_6_1_BASE:1.62
	OPENBSD_6_0:1.62.0.6
	OPENBSD_6_0_BASE:1.62
	OPENBSD_5_9:1.62.0.2
	OPENBSD_5_9_BASE:1.62
	OPENBSD_5_8:1.62.0.4
	OPENBSD_5_8_BASE:1.62
	OPENBSD_5_7:1.60.0.2
	OPENBSD_5_7_BASE:1.60
	OPENBSD_5_6:1.59.0.2
	OPENBSD_5_6_BASE:1.59
	OPENBSD_5_5:1.57.0.2
	OPENBSD_5_5_BASE:1.57
	OPENBSD_5_4:1.54.0.2
	OPENBSD_5_4_BASE:1.54
	OPENBSD_5_3:1.51.0.2
	OPENBSD_5_3_BASE:1.51
	OPENBSD_5_2:1.47.0.2
	OPENBSD_5_2_BASE:1.47
	OPENBSD_5_1_BASE:1.46
	OPENBSD_5_1:1.46.0.2
	OPENBSD_5_0:1.43.0.2
	OPENBSD_5_0_BASE:1.43
	OPENBSD_4_9:1.40.0.2
	OPENBSD_4_9_BASE:1.40
	OPENBSD_4_8:1.33.0.2
	OPENBSD_4_8_BASE:1.33
	OPENBSD_4_7:1.31.0.2
	OPENBSD_4_7_BASE:1.31
	OPENBSD_4_6:1.29.0.2
	OPENBSD_4_6_BASE:1.29
	OPENBSD_4_5:1.27.0.2
	OPENBSD_4_5_BASE:1.27
	OPENBSD_4_4:1.25.0.2
	OPENBSD_4_4_BASE:1.25
	OPENBSD_4_3:1.20.0.2
	OPENBSD_4_3_BASE:1.20
	OPENBSD_4_2:1.14.0.4
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.14.0.2
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.8.0.2
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.6.0.2
	OPENBSD_3_9_BASE:1.6
	marcm_2005-sep-04:1.1.1.1
	marcm:1.1.1;
locks; strict;
comment	@# @;


1.62
date	2015.06.05.06.00.21;	author robert;	state Exp;
branches;
next	1.61;
commitid	PS9YXjRm9KQkIZjT;

1.61
date	2015.03.20.22.47.41;	author naddy;	state Exp;
branches;
next	1.60;
commitid	QOpUQJ8BomkHfmKe;

1.60
date	2014.11.06.17.13.39;	author sthen;	state Exp;
branches;
next	1.59;
commitid	ig1O4RkSPXzTZYwZ;

1.59
date	2014.07.09.16.49.35;	author jasper;	state Exp;
branches;
next	1.58;
commitid	DrFfqEFlhFyZpgej;

1.58
date	2014.07.09.09.24.47;	author kirby;	state Exp;
branches;
next	1.57;
commitid	ONpumUfXEdlsx35B;

1.57
date	2013.11.10.12.12.26;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2013.10.10.02.08.23;	author brad;	state Exp;
branches;
next	1.55;

1.55
date	2013.08.12.04.11.20;	author robert;	state Exp;
branches;
next	1.54;

1.54
date	2013.07.05.07.38.47;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2013.03.21.08.46.33;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2013.03.11.11.23.57;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.50;

1.50
date	2012.12.21.13.04.27;	author sthen;	state Exp;
branches;
next	1.49;

1.49
date	2012.09.27.17.26.05;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2012.08.23.17.51.22;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2012.04.01.19.38.57;	author sthen;	state Exp;
branches;
next	1.46;

1.46
date	2012.01.26.08.03.57;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2011.11.16.15.56.37;	author robert;	state Exp;
branches;
next	1.44;

1.44
date	2011.09.16.10.31.23;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2011.07.22.10.20.10;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2011.07.08.21.02.33;	author robert;	state Exp;
branches;
next	1.41;

1.41
date	2011.06.08.17.36.17;	author jasper;	state Exp;
branches;
next	1.40;

1.40
date	2010.11.25.08.55.24;	author sebastia;	state Exp;
branches;
next	1.39;

1.39
date	2010.11.19.07.23.11;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2010.11.05.08.24.50;	author sthen;	state Exp;
branches;
next	1.37;

1.37
date	2010.10.24.21.26.49;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.10.18.20.52.09;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.09.01.06.20.56;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2010.08.30.17.11.35;	author fgsch;	state Exp;
branches;
next	1.33;

1.33
date	2010.05.11.18.36.13;	author dcoppa;	state Exp;
branches;
next	1.32;

1.32
date	2010.04.24.20.18.39;	author naddy;	state Exp;
branches;
next	1.31;

1.31
date	2009.12.16.14.59.40;	author kili;	state Exp;
branches;
next	1.30;

1.30
date	2009.08.10.06.33.02;	author kili;	state Exp;
branches;
next	1.29;

1.29
date	2009.04.26.11.01.04;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2009.03.23.20.17.57;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2009.02.17.07.45.11;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2009.02.10.23.23.27;	author ckuethe;	state Exp;
branches;
next	1.25;

1.25
date	2008.07.25.20.25.59;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2008.06.13.04.13.36;	author ckuethe;	state Exp;
branches;
next	1.23;

1.23
date	2008.04.16.06.53.35;	author ckuethe;	state Exp;
branches;
next	1.22;

1.22
date	2008.04.13.21.24.07;	author kili;	state Exp;
branches;
next	1.21;

1.21
date	2008.03.15.19.17.11;	author ckuethe;	state Exp;
branches;
next	1.20;

1.20
date	2008.01.22.11.42.19;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2008.01.04.18.57.07;	author ckuethe;	state Exp;
branches;
next	1.18;

1.18
date	2007.11.14.09.43.40;	author steven;	state Exp;
branches;
next	1.17;

1.17
date	2007.10.08.08.22.41;	author steven;	state Exp;
branches;
next	1.16;

1.16
date	2007.09.15.23.54.16;	author merdely;	state Exp;
branches;
next	1.15;

1.15
date	2007.09.04.21.06.07;	author jolan;	state Exp;
branches;
next	1.14;

1.14
date	2007.02.15.18.37.07;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2007.02.08.23.03.38;	author ckuethe;	state Exp;
branches;
next	1.12;

1.12
date	2006.11.23.07.52.15;	author ckuethe;	state Exp;
branches;
next	1.11;

1.11
date	2006.11.13.11.20.25;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2006.11.02.07.03.29;	author steven;	state Exp;
branches;
next	1.9;

1.9
date	2006.10.27.23.47.23;	author ckuethe;	state Exp;
branches;
next	1.8;

1.8
date	2006.08.01.18.38.23;	author alek;	state Exp;
branches;
next	1.7;

1.7
date	2006.04.24.16.38.10;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2006.01.14.20.05.49;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2006.01.14.00.28.45;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2005.12.25.23.21.57;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2005.09.16.09.51.27;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2005.09.05.19.43.41;	author marcm;	state Exp;
branches;
next	1.1;

1.1
date	2005.09.05.00.34.59;	author marcm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.09.05.00.34.59;	author marcm;	state Exp;
branches;
next	;


desc
@@


1.62
log
@bump revision due to the change of the default php version to 5.6
ok aja@@
@
text
@# $OpenBSD: Makefile,v 1.61 2015/03/20 22:47:41 naddy Exp $

COMMENT-main=		service daemon that monitors one or more GPSes
COMMENT-x11=		GUI test apps using gpsd
COMMENT-php=		web-based gpsd monitor in php

VERSION=		2.95
DISTNAME=		gpsd-${VERSION}
PKGNAME-main=		gpsd-${VERSION}
PKGNAME-x11=		gpsd-x11-${VERSION}
PKGNAME-php=		gpsd-php-${VERSION}
SHARED_LIBS=		gps	19.0 \
			gpsd	0.0
CATEGORIES=		misc geo

REVISION-main=		7
REVISION-php=		8
REVISION-x11=		2

HOMEPAGE=		http://www.catb.org/gpsd/

# BSD
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=gpsd.berlios/} \
			${MASTER_SITE_SAVANNAH:=gpsd/}

MODULES +=		lang/python lang/php
MODPHP_BUILDDEP=	No
USE_GROFF =		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--disable-ntpshm \
			--enable-gpsd-user=_gpsd \
			--enable-tnt \
			--enable-oceanserver

PSEUDO_FLAVORS =	no_x11
FLAVOR?=

MULTI_PACKAGES=		-main -php -x11

BUILD_DEPENDS=		textproc/docbook-xsl

RUN_DEPENDS-main=	${MODPY_RUN_DEPENDS}
LIB_DEPENDS-main=	devel/libusb1

RUN_DEPENDS-x11 =	${BASE_PKGPATH}

.include <bsd.port.arch.mk>

.if ${BUILD_PACKAGES:M-x11}
CONFIGURE_ENV+=		CPPFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include" \
			LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib -lm -pthread -lutil"
.else
CONFIGURE_ARGS+=	--without-x
CONFIGURE_ENV +=	LDFLAGS="-lm -pthread -lutil"
.endif

WANTLIB-main=		m ncurses c pthread stdc++ usb-1.0 util ${MODPY_WANTLIB}

# the php display script doesn't depend on having any of gpsd around,
# it just sits there and looks pretty.
PKG_ARCH-php=		*
RUN_DEPENDS-php=	lang/php/${MODPHP_VERSION},-gd
PREFIX-php=		${VARBASE}/www/

PYTHON_SCRIPTS=		gpsprof gps/gps.py gpsfake gpscat xgps gpsspeed

pre-configure:
.for file in ${PYTHON_SCRIPTS}
	perl -pi -e 's,/usr/bin/env python,${MODPY_BIN},g' ${WRKSRC}/${file}
.endfor

post-install:
	${INSTALL_DATA_DIR} ${WRKINST}/var/www/gpsd
	${INSTALL_SCRIPT} ${WRKSRC}/gpsd.php ${WRKINST}/var/www/gpsd
	${INSTALL_DATA} ${WRKSRC}/gpsd_config.h ${PREFIX}/include

.include <bsd.port.mk>
@


1.61
log
@fold PFRAG.shared into PLIST for SHARED_ONLY ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/11/06 17:13:39 sthen Exp $
d17 1
a17 1
REVISION-php=		7
@


1.60
log
@bump REVISION for php version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/07/09 16:49:35 jasper Exp $
d16 1
a16 1
REVISION-main=		6
@


1.59
log
@- remove unreachable homepages on berlios and add a working one where applicable
- move master sites to the berliosbot created sourceforge projects
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/07/09 09:24:47 kirby Exp $
d17 1
a17 1
REVISION-php=		6
@


1.58
log
@ - Berlios is almost dead, so update homepage url
 - regen distinfo while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/11/10 12:12:26 espie Exp $
d25 2
a26 1
MASTER_SITES=		${MASTER_SITE_BERLIOS:=gpsd/}
@


1.57
log
@simplify with bsd.port.arch.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/10/10 02:08:23 brad Exp $
d16 3
a18 3
REVISION-main=		5
REVISION-php=		5
REVISION-x11=		1
d20 1
a20 1
HOMEPAGE=		http://gpsd.berlios.de/
@


1.56
log
@Remove Chris Kuethe as maintainer. OpenBSD e-mail address bounces and has been
inactive for quite awhile.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/08/12 04:11:20 robert Exp $
d39 1
a39 1
MULTI_PACKAGES=		-main -php
a45 5
.if ${FLAVOR:Mno_x11}
CONFIGURE_ARGS+=	--without-x
CONFIGURE_ENV +=	LDFLAGS="-lm -pthread -lutil"
.else
MULTI_PACKAGES +=	-x11
d47 4
d53 3
@


1.55
log
@bump REVISION due to the php update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/07/05 07:38:47 jasper Exp $
d16 3
a18 3
REVISION-main=		4
REVISION-php=		4
REVISION-x11=		0
a20 2

MAINTAINER=		Chris Kuethe <ckuethe@@openbsd.org>
@


1.54
log
@use ${VARBASE} instead of hardcoding /var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/03/21 08:46:33 ajacoutot Exp $
d17 1
a17 1
REVISION-php=		3
@


1.53
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/03/11 11:23:57 espie Exp $
d64 1
a64 1
PREFIX-php=		/var/www/
@


1.52
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/02/09 14:49:51 sthen Exp $
a30 1
USE_LIBTOOL=		yes
@


1.51
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/12/21 13:04:27 sthen Exp $
a25 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.50
log
@missing LIB_DEPENDS/wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/09/27 17:26:05 ajacoutot Exp $
d52 1
a52 1
.if ${FLAVOR:L:Mno_x11}
@


1.49
log
@docbook-xsl already comes with libxslt.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/08/23 17:51:22 ajacoutot Exp $
d16 1
a16 1
REVISION-main=		3
d50 1
d62 1
a62 1
WANTLIB-main=		m ncurses c pthread stdc++ util
@


1.48
log
@Remove pthread patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2012/04/01 19:38:57 sthen Exp $
d47 1
a47 3
BUILD_DEPENDS=		textproc/libxslt \
			textproc/docbook \
			textproc/docbook-xsl
@


1.47
log
@php is only a run dep (noticed by Brian Callahan) so use
MODPHP_BUILDDEP=No.  No bump needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/01/26 08:03:57 ajacoutot Exp $
d16 3
a18 2
REVISION-main=		2
REVISION-php=		2
@


1.46
log
@Put these users in the daemon class to be consistent with all the other
ones in ports.

discussed with and ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/11/16 15:56:37 robert Exp $
d32 1
@


1.45
log
@switch php to version 5.3 by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/09/16 10:31:23 espie Exp $
d16 1
a16 1
REVISION-main=		1
@


1.44
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/07/22 10:20:10 sthen Exp $
d17 1
a17 1
REVISION-php=		1
@


1.43
log
@Bump for PKGSPEC changes in ports/lang/php/Makefile.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/07/08 21:02:33 robert Exp $
d16 1
a16 1
REVISION-main=		0
@


1.42
log
@switch to lang/php
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/06/08 17:36:17 jasper Exp $
d17 1
a17 1
REVISION-php=		0
@


1.41
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/11/25 08:55:24 sebastia Exp $
d17 1
d31 1
a31 1
MODULES +=		lang/python
d49 2
d66 1
a66 1
RUN_DEPENDS-php=	www/php5/extensions,-gd
@


1.40
log
@Update gpsd to 2.95

OK ckuehte@@ (MAINTAINER), landry@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/11/19 07:23:11 espie Exp $
d15 2
@


1.39
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/11/05 08:24:50 sthen Exp $
d4 1
a4 1
COMMENT-motif=		motif-based test apps using gpsd
a5 1
COMMENT-python=		python bindings for gpsd
d7 1
a7 1
VERSION=		2.38
d10 1
a10 3
REVISION-main =		1
PKGNAME-motif=		gpsd-motif-${VERSION}
REVISION-motif =	4
d12 2
a13 3
PKGNAME-python=		gpsd-python-${VERSION}
REVISION-python =	3
SHARED_LIBS=		gps	18.0
d28 1
d34 2
a35 1
			--disable-garmintxt
d37 1
a37 1
PSEUDO_FLAVORS=		no_motif no_python
d46 1
a46 1
.if ${FLAVOR:L:Mno_motif}
d48 1
d50 2
a51 5
MULTI_PACKAGES+=	-motif
WANTLIB-motif=		ICE Xaw7 Xau Xdmcp Xext Xft Xmu Xpm Xrender X11 SM Xt \
			c m pthread expat fontconfig freetype iconv jpeg png \
			pthread-stubs xcb z Xm gps
LIB_DEPENDS-motif=	x11/openmotif misc/gpsd
d53 1
a53 1
			LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib -lm"
d56 1
a56 12
.if ${FLAVOR:L:Mno_python}
CONFIGURE_ARGS+=	--disable-python
.else
MULTI_PACKAGES+=	-python
MODULES=		lang/python
RUN_DEPENDS-python=	misc/gpsd
WANTLIB-python=
RUN_DEPENDS-main=
RUN_DEPENDS-motif=
.endif

WANTLIB-main=		m ncurses c pthread
d64 1
a64 1
PYTHON_SCRIPTS=		gpsprof gps.py gpsfake gpscat
@


1.38
log
@move to revision/new-style lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/10/24 21:26:49 ajacoutot Exp $
d33 1
a33 1
USE_GROFF =	Yes
d44 3
a46 3
BUILD_DEPENDS=		::textproc/libxslt \
			::textproc/docbook \
			::textproc/docbook-xsl
d55 1
a55 1
LIB_DEPENDS-motif=	::x11/openmotif ::misc/gpsd
d65 1
a65 1
RUN_DEPENDS-python=	::misc/gpsd
d76 1
a76 1
RUN_DEPENDS-php=	:php5-gd-*:www/php5/extensions,-gd
@


1.37
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/10/18 20:52:09 espie Exp $
d54 2
a55 2
			pthread-stubs xcb z
LIB_DEPENDS-motif=	Xm::x11/openmotif gps::misc/gpsd
@


1.36
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/09/01 06:20:56 ajacoutot Exp $
a55 1
USE_X11=		Yes
@


1.35
log
@Fix PKGNAME after the python bump batch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/08/30 17:11:35 fgsch Exp $
d33 1
@


1.34
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/05/11 18:36:13 dcoppa Exp $
d10 1
@


1.33
log
@Unbreak python scripts
Fix PLISTs

OK sthen@@, ckuethe@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/04/24 20:18:39 naddy Exp $
d10 3
a12 2
PKGNAME-main=		gpsd-${VERSION}p1
PKGNAME-motif=		gpsd-motif-${VERSION}p4
d14 2
a15 1
PKGNAME-python=		gpsd-python-${VERSION}p2
@


1.32
log
@fix build and WANTLIB after libXp removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/12/16 14:59:40 kili Exp $
d10 2
a11 2
PKGNAME-main=		gpsd-${VERSION}p0
PKGNAME-motif=		gpsd-motif-${VERSION}p3
d13 1
a13 1
PKGNAME-python=		gpsd-python-${VERSION}p1
d62 1
a62 1
LIB_DEPENDS-python=	gps::misc/gpsd
d76 7
a88 1

@


1.31
log
@Tell configure to use -lm.
Adjust WANTLIB-motif and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/08/10 06:33:02 kili Exp $
d11 1
a11 1
PKGNAME-motif=		gpsd-motif-${VERSION}p2
d48 1
a48 1
WANTLIB-motif=		ICE Xaw8 Xau Xdmcp Xext Xft Xmu Xp Xpm Xrender X11 SM Xt \
@


1.30
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/04/26 11:01:04 ajacoutot Exp $
d11 1
a11 1
PKGNAME-motif=		gpsd-motif-${VERSION}p1
d49 1
a49 1
			c m pthread expat fontconfig freetype iconv \
d54 1
a54 1
			LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib"
@


1.29
log
@CONFIGURE_ENV += PYTHON="${MODPY_BIN}" is inherited from the python module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/03/23 20:17:57 jasper Exp $
d11 1
a11 1
PKGNAME-motif=		gpsd-motif-${VERSION}p0
d49 2
a50 1
			c m pthread expat fontconfig freetype iconv z
@


1.28
log
@- more missing bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/02/17 07:45:11 jasper Exp $
a64 1
CONFIGURE_ENV+=		PYTHON="${MODPY_BIN}"
@


1.27
log
@- use -pthread instead of -lpthread
- fix WANTLIB a bit

"should be ok" ckuethe@@ (MAINTAINER), "looks ok to me" ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/02/10 23:23:27 ckuethe Exp $
d13 1
a13 1
PKGNAME-python=		gpsd-python-${VERSION}p0
@


1.26
log
@update to gpsd 2.38. ok mbalmer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/07/25 20:25:59 sthen Exp $
d10 2
a11 2
PKGNAME-main=		gpsd-${VERSION}
PKGNAME-motif=		gpsd-motif-${VERSION}
d13 1
a13 1
PKGNAME-python=		gpsd-python-${VERSION}
d48 1
a48 1
WANTLIB-motif=		ICE Xaw Xau Xdmcp Xext Xft Xmu Xp Xrender X11 SM Xt \
d62 1
a62 1
WANTLIB-python=		c m pthread
@


1.25
log
@shared library and PKGNAME bumps due to use of isinf/isnan/nan
following libc/libm changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/06/13 04:13:36 ckuethe Exp $
d8 1
a8 1
VERSION=		2.37
d10 1
a10 1
PKGNAME-main=		gpsd-${VERSION}p2
d13 1
a13 1
PKGNAME-python=		gpsd-python-${VERSION}p0
d52 2
a53 2
CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.24
log
@remove openbsd-specific timestampin code since ldattach -p is the right
way to do this.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/04/16 06:53:35 ckuethe Exp $
d10 1
a10 1
PKGNAME-main=		gpsd-${VERSION}p1
d14 1
a14 1
SHARED_LIBS=		gps	17.0
@


1.23
log
@stevesk@@ pointed out that gpsctl was in the wrong package (-python). fix.
while i'm here, also actually ship the libgpsd pkgconfig file.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/04/13 21:24:07 kili Exp $
d10 1
a10 1
PKGNAME-main=		gpsd-${VERSION}p0
@


1.22
log
@
Remove PATCH_LIST.

ok ckuethe@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/03/15 19:17:11 ckuethe Exp $
d10 1
a10 1
PKGNAME-main=		gpsd-${VERSION}
d13 1
a13 1
PKGNAME-python=		gpsd-python-${VERSION}
@


1.21
log
@update to gpsd 2.37. fixes the C++ bindings, among other things.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/01/22 11:42:19 espie Exp $
a57 1
PATCH_LIST=		nopython-* patch-*
a65 1
PATCH_LIST=		python-* patch-*
@


1.20
log
@make it install *complete* header files.
Also install .pc files while we're there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/01/04 18:57:07 ckuethe Exp $
d8 1
a8 1
VERSION=		2.36
d10 1
a10 1
PKGNAME-main=		gpsd-${VERSION}p0
d14 1
a14 1
SHARED_LIBS=		gps	16.0
@


1.19
log
@update to gpsd-2.36. new device drivers, stability fixes, and a fix for
date handling in leap years.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/11/14 09:43:40 steven Exp $
d10 1
a10 1
PKGNAME-main=		gpsd-${VERSION}
d81 1
@


1.18
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/10/08 08:22:41 steven Exp $
d8 1
a8 1
VERSION=		2.34
d11 1
a11 1
PKGNAME-motif=		gpsd-motif-${VERSION}p0
d13 1
a13 1
PKGNAME-python=		gpsd-python-${VERSION}p1
d31 3
a33 1
CONFIGURE_ARGS+=	--disable-ntpshm
@


1.17
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/09/15 23:54:16 merdely Exp $
d11 1
a11 1
PKGNAME-motif=		gpsd-motif-${VERSION}
d46 2
a47 1
WANTLIB-motif=		ICE Xaw X11 SM Xt c m pthread
@


1.16
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/09/04 21:06:07 jolan Exp $
d13 1
a13 1
PKGNAME-python=		gpsd-python-${VERSION}p0
@


1.15
log
@make the no_python flavor work as advertised

ok ckuethe (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/02/15 18:37:07 steven Exp $
d3 4
a6 4
COMMENT-main=		"service daemon that monitors one or more GPSes"
COMMENT-motif=		"motif-based test apps using gpsd"
COMMENT-php=		"web-based gpsd monitor in php"
COMMENT-python=		"python bindings for gpsd"
@


1.14
log
@fix WANTLIB of the python subpackage.

ok naddy@@ ckuethe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/02/08 23:03:38 ckuethe Exp $
d54 2
a55 1
CONFIGURE_ARGS+=	--without-python
d64 1
@


1.13
log
@Update to gpsd 2.34 (plus a patch from current).
Notable changes include
	- removal of unbounded string functions
	- automatic support for nmea(4) timedelta sensors
	- lots of driver updates
	- profiled and cleaned up hot spots
	- runtime reliability fixes

Lots of good advice from steven and naddy, ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/11/23 07:52:15 ckuethe Exp $
d13 1
a13 1
PKGNAME-python=		gpsd-python-${VERSION}
d59 1
@


1.12
log
@use new MULTI_PACKAGES style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/11/13 11:20:25 steven Exp $
d5 2
d8 1
a8 1
VERSION=		2.33
d10 4
a13 2
PKGNAME-main=		gpsd-${VERSION}p0
PKGNAME-motif=		gpsd-motif-${VERSION}p0
d33 1
a33 1
PSEUDO_FLAVORS=		no_motif
d36 1
a36 1
MULTI_PACKAGES=		-main
d38 7
a44 1
.if !${FLAVOR:L:Mno_motif}
d46 2
a47 1
LIB_DEPENDS=		::x11/openmotif
d51 4
d56 6
a61 1
CONFIGURE_ARGS+=	--without-x
a64 1
LIB_DEPENDS-main=	
d66 9
a74 2
WANTLIB-motif=		ICE Xaw X11 SM Xt c m pthread
LIB_DEPENDS-motif=	Xm::x11/openmotif gps::misc/gpsd
d77 1
@


1.11
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/11/02 07:03:29 steven Exp $
d3 1
a3 1
COMMENT=		"service daemon that monitors one or more GPSes"
d8 2
a9 2
#PKGNAME=		gpsd-${VERSION}
PKGNAME-motif=		gpsd-motif-${VERSION}
d17 1
a17 3
WANTLIB=		m ncurses c pthread

# GPL
a27 1
CONFIGURE_ENV=		CPPFLAGS="-I${X11BASE}/include"
d32 2
d35 2
a37 1
MULTI_PACKAGES=		-motif
d40 2
a41 1
BUILD_DEPENDS=		::x11/openmotif
d44 2
a45 1
SUBPACKAGE?=
d47 2
a48 7
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-motif"
WANTLIB=		ICE Xaw X11 SM Xt c m pthread
LIB_DEPENDS=		Xm::x11/openmotif \
			gps::misc/gpsd
. endif
.endif
@


1.10
log
@add 'geo' to categories for these.
ok ckuethe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/10/27 23:47:23 ckuethe Exp $
d36 1
@


1.9
log
@Update gpsd 2.29 -> 2.33
Suggestions and testing by jolan@@ and steven@@ - Thanks!
ok jolan, steven
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/08/01 18:38:23 alek Exp $
d11 1
a11 1
CATEGORIES=		misc
@


1.8
log
@Use MASTER_SITE_BERLIOS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/04/24 16:38:10 steven Exp $
d6 1
a6 1
VERSION=		2.29
d8 2
a9 2
PKGNAME=		gpsd-${VERSION}p2
PKGNAME-motif=		gpsd-motif-${VERSION}p0
d15 1
a15 1
MAINTAINER=		Chris Kuethe <chris.kuethe@@gmail.com>
@


1.7
log
@for building the -motif subpackage we do need openmotif.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/01/14 20:05:49 steven Exp $
d25 1
a25 1
MASTER_SITES=		http://download.berlios.de/gpsd/
@


1.6
log
@zap unneeded MODGNU_SHARED_LIBS and related patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/01/14 00:28:45 espie Exp $
d39 1
@


1.5
log
@SHARED_LIBS bump for C++, math -> multimedia
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/12/25 23:21:57 steven Exp $
a10 1
MODGNU_SHARED_LIBS=	gps	''
@


1.4
log
@SHARED_LIBS
ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/09/16 09:51:27 espie Exp $
d8 1
a8 1
PKGNAME=		gpsd-${VERSION}p1
d10 1
a10 1
SHARED_LIBS=		gps	15.0
@


1.3
log
@Fix a buglet in bsd.port.mk where the PSEUDO_FLAVORS get encoded into
the FULLPKGPATH, thus providing changes to packing-lists which shouldn't
happen, and making update more difficult.

Accordingly, bump all pkgnames with PSEUDO_FLAVORS, and provide an
update @@pkgpath for the bug for most of them (left out the ones with 3
or 4 pseudo flavors for space constraints...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/09/05 19:43:41 marcm Exp $
d10 2
@


1.2
log
@Switch MAINTAINER to Chris Kuethe.  Since he's a gpsd committer, it seemd
to make sense.

Re-enable garmin support, from Chris Kuethe.  Bump package name.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/09/05 00:34:59 marcm Exp $
d8 1
a8 1
PKGNAME=		gpsd-${VERSION}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/08/09 06:15:27 marcm Exp $
d8 2
a9 1
PKGNAME-motif=		gpsd-motif-${VERSION}
d14 1
a14 1
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
a27 1
CONFIGURE_ARGS+=	--disable-garmin
@


1.1.1.1
log
@Gpsd is a client/server setup for talking to GPS units.  It speaks
all the appropriate GPS lingos and (hopefully) can provide a unified
interface to all of them.
@
text
@@
