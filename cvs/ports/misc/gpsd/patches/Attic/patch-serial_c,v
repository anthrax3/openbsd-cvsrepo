head	1.2;
access;
symbols
	OPENBSD_4_0:1.1.1.1.0.4
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.2
	OPENBSD_3_9_BASE:1.1.1.1
	marcm_2005-sep-04:1.1.1.1
	marcm:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2006.10.27.23.47.23;	author ckuethe;	state dead;
branches;
next	1.1;

1.1
date	2005.09.05.00.34.59;	author marcm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.09.05.00.34.59;	author marcm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update gpsd 2.29 -> 2.33
Suggestions and testing by jolan@@ and steven@@ - Thanks!
ok jolan, steven
@
text
@$OpenBSD: patch-serial_c,v 1.1 2005/09/05 00:34:59 marcm Exp $
--- serial.c.orig	Tue Aug 16 17:07:13 2005
+++ serial.c	Sun Aug 21 14:12:28 2005
@@@@ -97,7 +97,7 @@@@ void gpsd_set_speed(struct gps_device_t 
 int gpsd_open(struct gps_device_t *session)
 {
     gpsd_report(1, "opening GPS data source at '%s'\n", session->gpsdata.gps_device);
-    if ((session->gpsdata.gps_fd = open(session->gpsdata.gps_device, O_RDWR|O_NOCTTY)) < 0) {
+    if ((session->gpsdata.gps_fd = open(session->gpsdata.gps_device, O_RDWR|O_NONBLOCK|O_NOCTTY)) < 0) {
 	gpsd_report(1, "device open failed: %s\n", strerror(errno));
 	return -1;
     }
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Gpsd is a client/server setup for talking to GPS units.  It speaks
all the appropriate GPS lingos and (hopefully) can provide a unified
interface to all of them.
@
text
@@
