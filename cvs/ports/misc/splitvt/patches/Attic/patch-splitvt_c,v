head	1.3;
access;
symbols
	OPENBSD_4_2:1.2.0.8
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.6
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.1.0.16
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.14
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.12
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.10
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.8
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.6
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.4
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.2
	OPENBSD_3_1_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2007.09.16.20.58.19;	author jasper;	state dead;
branches;
next	1.2;

1.2
date	2005.10.31.20.27.14;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2002.02.20.22.34.10;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update splitvt to 1.6.6
@
text
@$OpenBSD: patch-splitvt_c,v 1.2 2005/10/31 20:27:14 naddy Exp $
--- splitvt.c.orig	Mon Oct 31 21:03:34 2005
+++ splitvt.c	Mon Oct 31 21:03:53 2005
@@@@ -19,6 +19,7 @@@@ static char *version=
 #include	<fcntl.h>
 #include	<signal.h>
 #include	<stdio.h>
+#include	<stdlib.h>
 #include	<errno.h>
 #include	<pwd.h>
 #ifdef HAVE_UNISTD_H
@


1.2
log
@- update to 1.6.5
- fix LP64 problems; fixes amd64 crash reported by Marcos Latas
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@fix another char signedness issue; naddy and me
@
text
@d2 10
a11 22
--- splitvt.c.orig	Tue Dec 12 14:52:15 1995
+++ splitvt.c	Wed Feb 20 15:29:23 2002
@@@@ -105,7 +105,7 @@@@ char *argv[];
 	extern int errno, optind;
 	extern char *optarg;
 
-	int i, len, maxfds, numready;
+	int i, len, maxfds, numready, x;
 	char buffer[BUFSIZ], *ptr;
 	char *xterm_title=NULL;
 	struct timeval tv, *tvptr;
@@@@ -379,8 +379,9 @@@@ char *argv[];
 		if ( FD_ISSET(ttyfd, &read_mask) )
 		{
 			do {
-				if ( (buffer[0]=event_getc(&X_event)) == EOF )
+				if ( (x=event_getc(&X_event)) == EOF )
 					finish(0);
+				buffer[0] = x;
 
 				if ( X_event.happening ) {
 					/* Work only on button press */
@

