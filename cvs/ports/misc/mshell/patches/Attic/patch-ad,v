head	1.3;
access;
symbols
	OPENBSD_3_2:1.2.0.12
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.10
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.8
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.6
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.4
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.2
	OPENBSD_2_7_BASE:1.2
	OPENBSD_2_6:1.1.1.1.0.6
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.4
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	mshell:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2002.12.23.07.42.00;	author pvalchev;	state dead;
branches;
next	1.2;

1.2
date	99.11.14.01.27.06;	author rohee;	state Exp;
branches;
next	1.1;

1.1
date	98.05.20.08.01.32;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.05.20.08.01.32;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- when there is no license, we are not allowed to distribute it at all!
- rename patches with update-patches
@
text
@$OpenBSD: patch-ad,v 1.2 1999/11/14 01:27:06 rohee Exp $

--- mshell.c.orig	Sun Nov 14 02:15:12 1999
+++ mshell.c	Sun Nov 14 02:15:42 1999
@@@@ -1,6 +1,8 @@@@
 #include "mshell.h"
 #include <setjmp.h>
-char * index ();
+
+#include <stdlib.h>
+#include <string.h>
 
 
 extern char     G_homevar      [];
@@@@ -26,8 +28,7 @@@@ char *m;
 	     exec_string   [DESCLEN],
 	     *args         [MAXARGS],
 	     *menu_array   [LINES],
-	     tmpword       [WORDLEN],
-	     *malloc();
+	     tmpword       [WORDLEN];
 
 	int  i, 
 	     idx,
@@@@ -35,8 +36,7 @@@@ char *m;
 	     firsttime = TRUE,
 	     dontdisplay = FALSE,
 	     unix_flag,
-	     menu_flag,
-	     exit();
+	     menu_flag;
 
 	static jmp_buf topenv;
 	static int topenvset;
@@@@ -49,7 +49,7 @@@@ char *m;
 	signal (SIGPIPE, SIG_IGN);	/* ignore dead pipes */
 	log("enter", m);
 
-	while TRUE {
+	while (TRUE) {
 
 		if (!topenvset) {
 			topenvset = TRUE;
@@@@ -142,7 +142,7 @@@@ char *m;
 
 			if ( strcmp (action_string, NULLSTR) == 0 ) {
 				invalid_option = TRUE;
-				printf ("\tNo such help option name as: %s\!\!\n", opt2);
+				printf ("\tNo such help option name as: %s!!\n", opt2);
 			}
 			else {
 				tmpword[0] = EOS;
@


1.2
log
@unbroke port
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Initial revision
@
text
@d1 52
a52 19
*** mshell.c.orig	Sat Sep 24 00:51:51 1994
--- mshell.c	Sat Sep 24 00:52:20 1994
***************
*** 142,148 ****
  
  			if ( strcmp (action_string, NULLSTR) == 0 ) {
  				invalid_option = TRUE;
! 				printf ("\tNo such help option name as: %s\!\!\n", opt2);
  			}
  			else {
  				tmpword[0] = EOS;
--- 142,148 ----
  
  			if ( strcmp (action_string, NULLSTR) == 0 ) {
  				invalid_option = TRUE;
! 				printf ("\tNo such help option name as: %s!!\n", opt2);
  			}
  			else {
  				tmpword[0] = EOS;
@


1.1.1.1
log
@mshell port
@
text
@@
