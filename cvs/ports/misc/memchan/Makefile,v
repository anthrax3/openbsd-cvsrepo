head	1.12;
access;
symbols
	OPENBSD_6_1:1.11.0.4
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.11.0.2
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.9.0.10
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.12
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.9.0.8
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.9.0.6
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.9.0.4
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.9.0.2
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.8.0.2
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.7.0.2
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.6
	OPENBSD_5_0:1.6.0.4
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.2
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	sebastia_20100728:1.1.1.1
	sebastia:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2017.06.02.19.54.15;	author schwarze;	state Exp;
branches;
next	1.11;
commitid	GCutnOOilKXNLPNG;

1.11
date	2016.03.18.23.12.18;	author naddy;	state Exp;
branches;
next	1.10;
commitid	KZAl4KEiw6a3Jixw;

1.10
date	2016.03.11.20.28.28;	author naddy;	state Exp;
branches;
next	1.9;
commitid	UYLP8TE6V7RS2GhJ;

1.9
date	2013.03.11.11.23.57;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2012.08.23.20.03.57;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2012.03.29.13.38.40;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2011.01.05.18.16.58;	author sebastia;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.19.07.23.12;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.18.20.52.09;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2010.08.03.14.19.52;	author sebastia;	state Exp;
branches;
next	1.2;

1.2
date	2010.07.29.10.58.02;	author sebastia;	state Exp;
branches;
next	1.1;

1.1
date	2010.07.28.17.24.01;	author sebastia;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.07.28.17.24.01;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.12
log
@drop USE_GROFF and bump; mandoc groks enough \l now
@
text
@# $OpenBSD: Makefile,v 1.11 2016/03/18 23:12:18 naddy Exp $

COMMENT =		in-memory channels for Tcl

DISTNAME =		Memchan2.3
PKGNAME =		memchan-2.3
REVISION =		1
SHARED_LIBS =		Memchan23 0.0
CATEGORIES =		misc
HOMEPAGE =		http://memchan.sourceforge.net/
MAINTAINER =		Sebastian Reitenbach <sebastia@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c

MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=memchan/}
MODULES =		lang/tcl

BUILD_DEPENDS =		${MODTCL_BUILD_DEPENDS} \
			devel/tcllib

RUN_DEPENDS =		${MODTCL_RUN_DEPENDS}

FAKE_FLAGS =		PKG_DIR=memchan \
			INSTALL_PROGRAM='${INSTALL_DATA}'

SEPARATE_BUILD =	Yes
CONFIGURE_STYLE =	gnu

CONFIGURE_ARGS +=	--with-tcl=${MODTCL_LIBDIR} \
			--libdir=${MODTCL_TCLDIR} \
			--includedir=${PREFIX}/include/memchan \
			SHLIB_VERSION=${LIBMemchan23_VERSION}

TEST_TARGET =	test
WRKDIST =		${WRKDIR}/Memchan2.3

.include <bsd.port.mk>
@


1.11
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2016/03/11 20:28:28 naddy Exp $
d7 1
a7 1
REVISION =		0
a29 1
USE_GROFF =		Yes
@


1.10
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.9 2013/03/11 11:23:57 espie Exp $

SHARED_ONLY =		Yes
@


1.9
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/08/23 20:03:57 sthen Exp $
d35 1
a35 2
CONFIGURE_ARGS +=	${CONFIGURE_SHARED} \
			--with-tcl=${MODTCL_LIBDIR} \
@


1.8
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/03/29 13:38:40 sthen Exp $
a16 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d41 1
a41 1
REGRESS_TARGET =	test
@


1.7
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/01/05 18:16:58 sebastia Exp $
d9 1
d20 2
@


1.6
log
@Update to new Tcl layout, Makefile cleanup.
While there, update to 2.3, getting rid of the patches directory
With help from stu@@

OK stu@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/19 07:23:12 espie Exp $
d31 1
a31 1
SEPARATE_BUILD =	concurrent
@


1.5
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/10/18 20:52:09 espie Exp $
d3 1
a3 1
SHARED_ONLY =	Yes
d5 1
a5 1
COMMENT =	in-memory channels for Tcl, chunks and fifos
d7 6
a12 2
DISTNAME =	memchan-2.2.1
SHARED_LIBS =	Memchan221	0.0
d14 8
a21 1
CATEGORIES =	misc
d23 2
a24 1
HOMEPAGE =	http://memchan.sourceforge.net/
d26 1
a26 1
MAINTAINER =	Sebastian Reitenbach <sebastia@@openbsd.org>
d28 2
a29 12
# BSD
PERMIT_PACKAGE_CDROM =		Yes
PERMIT_PACKAGE_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes

MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=memchan/}

MODULES =	lang/tcl
BUILD_DEPENDS =	${MODTCL_BUILD_DEPENDS} \
		devel/tcllib
RUN_DEPENDS =	${MODTCL_RUN_DEPENDS}
d31 2
a32 1
SEPARATE_BUILD =	simple
d34 2
a35 1
CONFIGURE_ARGS	=	${CONFIGURE_SHARED} \
d37 4
a40 3
			--with-tcl-include-dir=${MODTCL_INCDIR} \
			--with-tcl-lib-dir=${MODTCL_LIBDIR} \
			--prefix=${DESTDIR}${PREFIX}
d42 1
a42 6
SUBST_VARS =		LIBMemchan221_VERSION
USE_GROFF =		Yes

pre-configure:
	cp  ${WRKSRC}/doc/random.man  ${WRKSRC}/doc/mchan-random.man
	${SUBST_CMD} ${WRKSRC}/configure
@


1.4
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/08/03 14:19:52 sebastia Exp $
d26 1
a26 1
		::devel/tcllib
d38 1
a38 1
USE_GROFF =	Yes
@


1.3
log
@Revert to 1.1, using INSTALL_DATA is a no go in pre-configure, prevents non-root builds

pointed out by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2010/07/28 17:24:01 sebastia Exp $
d38 1
@


1.2
log
@Use install-data instead of cp in pre-configure.
Pointed out by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/07/28 17:24:01 sebastia Exp $
d40 1
a40 1
	${INSTALL_DATA} ${WRKSRC}/doc/random.man  ${WRKSRC}/doc/mchan-random.man
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d40 1
a40 1
	cp  ${WRKSRC}/doc/random.man  ${WRKSRC}/doc/mchan-random.man
@


1.1.1.1
log
@import memchan at the right place
in-memory channels for Tcl, chunks and fifos

Memchan is an extension to Tcl implementing memory channels, 
i.e. channels storing the data placed into them in memory, 
not on disk.

OK landry@@

@
text
@@
