head	1.2;
access;
symbols
	OPENBSD_4_5:1.1.0.28
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.26
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.24
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.22
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.20
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.18
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.16
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.14
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.12
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.10
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.8
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.6
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.4
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.2
	OPENBSD_3_2_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2009.06.07.00.19.53;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2002.09.29.17.22.05;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- remove more old and orphaned qt2 programs

cheering from a bunch of frogs
agreed by espie@@
@
text
@$OpenBSD: patch-tabdlg_cpp,v 1.1 2002/09/29 17:22:05 naddy Exp $
--- tabdlg.cpp.orig	Thu Jul 19 03:20:59 2001
+++ tabdlg.cpp	Wed Jul 31 22:05:50 2002
@@@@ -122,6 +122,7 @@@@ QFile g(dmesg);
 	cstr = *it;
 	cstr.insert(0,"/dev/r");
 	cstr.insert(cstr.length(), "c");
+	cstr3 = cstr;
 	cstr.insert(0, "cdrecord dev=");
 	cstr.insert(cstr.length(), " -scanbus");
 	fp = popen(cstr, "r");
@@@@ -129,28 +130,17 @@@@ QFile g(dmesg);
 	stop = 0;
 	while((f.readLine(cstr2, 512) != -1) && (stop != 1))
 	  {
-	    cstr2 = cstr2.left(cstr2.length() -1 ); // get rid 0x0A
-	    if(cstr2.find("devname:") != -1)
+            if((cstr2.find("scsibus") == -1) && (cstr2.find("libscg") == -1) && (cstr2.find("devname:") == -1) && (cstr2.find(QString("cdrecord"),0,false) == -1))
 	      {
-		cstr2.replace(QRegExp("^.*: "), "");
-		cstr2.replace(QRegExp("'"), "");
-		cstr2.replace(QRegExp(" "), "");
-		cstr3 = cstr2;
-	      }
-	    else
-	      {
-		if((cstr2.find("scsibus") == -1) && (cstr2.find("libscg") == -1) && ( cstr2.find("scsidev:") == -1) && (cstr2.find(QString("cdrecord"),0,false) == -1))
+		if(cstr2.find("*") != 12)
 		  {
-		    if(cstr2.find("*") != 12)
-		      {
-			cstr2 = cstr2.simplifyWhiteSpace();
-			scname = cstr2.mid(8, 55);
-			scdev = cstr2.left(5);
-			cstr3.insert(cstr3.length(), ":" + scdev + "  " + scname);
-			comb_devicename->insertItem(cstr3);
-			comb_audiodevicename->insertItem(cstr3);
-			stop = 1;
-		      }
+		    cstr2 = cstr2.simplifyWhiteSpace();
+		    scname = cstr2.mid(8, 55);
+		    scdev = cstr2.left(5);
+		    cstr3.insert(cstr3.length(), ":" + scdev + "  " + scname);
+		    comb_devicename->insertItem(cstr3);
+		    comb_audiodevicename->insertItem(cstr3);
+		    stop = 1;
 		  }
 	      }
 	  }
@


1.1
log
@Fix for new cdrtools output; from Jacob Meuser <jakemsr@@jakemsr.com>.
@
text
@d1 1
a1 1
$OpenBSD$
@

