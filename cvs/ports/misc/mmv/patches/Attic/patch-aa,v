head	1.3;
access;
symbols
	OPENBSD_3_2:1.2.0.8
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.6
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.4
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.1.1.1.0.10
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.8
	OPENBSD_2_7_BASE:1.1.1.1
	OPENBSD_2_6:1.1.1.1.0.6
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.4
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	angelos:1.1.1.1
	mmv:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2002.12.23.19.11.48;	author pvalchev;	state dead;
branches;
next	1.2;

1.2
date	2001.02.27.22.32.26;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	98.06.08.02.52.33;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.06.08.02.52.33;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- reformat DESCR
- regen patches with update-patches
- fix manpage xref to umask(2)
from new maintainer Sebastian Stark <seb@@todesplanet.de>
@
text
@$OpenBSD: patch-aa,v 1.2 2001/02/27 22:32:26 naddy Exp $
--- mmv.c.orig	Tue Feb 27 23:12:39 2001
+++ mmv.c	Tue Feb 27 23:13:11 2001
@@@@ -88,7 +88,6 @@@@ on the command line.\n";
 #endif
 
 #include <stdio.h>
-#include <ctype.h>
 
 #ifdef MSDOS
 /* for MS-DOS (under Turbo C 1.5)*/
@@@@ -121,12 +120,12 @@@@ extern unsigned _stklen = 10000;
 #else
 /* for various flavors of UN*X */
 
+#include <string.h>
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <sys/file.h>
 
 extern char *getenv();
-extern long lseek();
 extern char *malloc();
 
 #ifdef DIRENT
@@@@ -176,7 +175,6 @@@@ extern char *strcpy(), *strchr();
 
 #else
 /* for System V and BSD */
-#include <string.h>
 #include <sys/signal.h>
 #include <fcntl.h>
 #endif
@@@@ -370,7 +368,7 @@@@ static int movealias(/* REP *first, REP 
 static int snap(/* REP *first, REP *p */);
 static void showdone(/* REP *fin */);
 static void breakout(/*  */);
-static int breakrep(/* */);
+static void breakrep(/* */);
 static void breakstat(/* */);
 static void quit(/*  */);
 static int copymove(/* REP *p */);
@@@@ -389,7 +387,6 @@@@ static void cleanup(/*  */);
 static int getstat(/* char *full, FILEINFO *f */);
 static int dwritable(/* HANDLE *h */);
 static int fwritable(/* char *hname, FILEINFO *f */);
-static void memmove(/* void *to, void *from, int k */);
 #endif
 #ifndef RENAME
 static int rename(/* char *from, char *to */);
@@@@ -2550,10 +2547,9 @@@@ static void breakout()
 }
 
 
-static int breakrep()
+static void breakrep()
 {
 	gotsig = 1;
-	return(1);
 }
 
 
@@@@ -2832,7 +2828,7 @@@@ static void chgive(p, k)
 }
 
 
-#ifndef MSDOS
+#if 0
 static void memmove(to, from, k)
 	char *to, *from;
 	unsigned k;
@


1.2
log
@- rewrite extraction stage to make this behave with WRKOBJDIR
- fix warnings
- improve installation
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Initial revision
@
text
@d1 71
a71 98
*** mmv.c.old	Wed Mar  1 05:23:56 1995
--- mmv.c	Thu Mar  2 05:43:37 1995
***************
*** 88,94 ****
  #endif
  
  #include <stdio.h>
- #include <ctype.h>
  
  #ifdef MSDOS
  /* for MS-DOS (under Turbo C 1.5)*/
--- 88,93 ----
***************
*** 126,132 ****
  #include <sys/file.h>
  
  extern char *getenv();
- extern long lseek();
  extern char *malloc();
  
  #ifdef DIRENT
--- 125,130 ----
***************
*** 176,182 ****
  
  #else
  /* for System V and BSD */
- #include <string.h>
  #include <sys/signal.h>
  #include <fcntl.h>
  #endif
--- 174,179 ----
***************
*** 370,376 ****
  static int snap(/* REP *first, REP *p */);
  static void showdone(/* REP *fin */);
  static void breakout(/*  */);
! static int breakrep(/* */);
  static void breakstat(/* */);
  static void quit(/*  */);
  static int copymove(/* REP *p */);
--- 367,373 ----
  static int snap(/* REP *first, REP *p */);
  static void showdone(/* REP *fin */);
  static void breakout(/*  */);
! static void breakrep(/* */);
  static void breakstat(/* */);
  static void quit(/*  */);
  static int copymove(/* REP *p */);
***************
*** 389,395 ****
  static int getstat(/* char *full, FILEINFO *f */);
  static int dwritable(/* HANDLE *h */);
  static int fwritable(/* char *hname, FILEINFO *f */);
- static void memmove(/* void *to, void *from, int k */);
  #endif
  #ifndef RENAME
  static int rename(/* char *from, char *to */);
--- 386,391 ----
***************
*** 2550,2559 ****
  }
  
  
! static int breakrep()
  {
  	gotsig = 1;
- 	return(1);
  }
  
  
--- 2546,2554 ----
  }
  
  
! static void breakrep()
  {
  	gotsig = 1;
  }
  
  
***************
*** 2832,2838 ****
  }
  
  
! #ifndef MSDOS
  static void memmove(to, from, k)
  	char *to, *from;
  	unsigned k;
--- 2827,2833 ----
  }
  
  
! #if 0
  static void memmove(to, from, k)
  	char *to, *from;
  	unsigned k;
@


1.1.1.1
log
@
@
text
@@
