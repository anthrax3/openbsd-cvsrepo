head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.05.07.23.57.16;	author espie;	state Exp;
branches;
next	;
commitid	IszdCXs5hmPs0hF8;


desc
@@


1.1
log
@make it build with clang, clean up a shitload of warnings and errors,
make it obey CFLAGS, extract the embedded source so we can patch it.
@
text
@$OpenBSD$

Index: roclcdr/impl/tools/schedules.c
--- roclcdr/impl/tools/schedules.c.orig
+++ roclcdr/impl/tools/schedules.c
@@@@ -50,7 +50,7 @@@@ static Boolean isHourlyInRange(iILcDriverInt inst, iON
   int     hours    = 0;
   int     mins     = 0;
 
-  long modeltime = data->model->getTime( data->model );
+  time_t modeltime = data->model->getTime( data->model );
   struct tm* ltm;
 
   ltm = localtime( &modeltime );
@@@@ -214,7 +214,7 @@@@ Boolean checkScheduleTime( iILcDriverInt inst, const c
     /* check if the schedule index is correct: */
     while( entry != NULL ) {
       if( idx == scheduleIdx ) {
-        long modeltime = data->model->getTime( data->model );
+        time_t modeltime = data->model->getTime( data->model );
         struct tm* ltm;
         int modelminutes    = 0;
         int scheduleminutes = 0;
@
