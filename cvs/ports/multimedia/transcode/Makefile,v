head	1.62;
access;
symbols
	OPENBSD_6_0:1.62.0.2
	OPENBSD_6_0_BASE:1.62
	OPENBSD_5_9:1.61.0.2
	OPENBSD_5_9_BASE:1.61
	OPENBSD_5_8:1.60.0.4
	OPENBSD_5_8_BASE:1.60
	OPENBSD_5_7:1.58.0.2
	OPENBSD_5_7_BASE:1.58
	OPENBSD_5_6:1.57.0.2
	OPENBSD_5_6_BASE:1.57
	OPENBSD_5_5:1.56.0.4
	OPENBSD_5_5_BASE:1.56
	OPENBSD_5_4:1.56.0.2
	OPENBSD_5_4_BASE:1.56
	OPENBSD_5_3:1.54.0.2
	OPENBSD_5_3_BASE:1.54
	OPENBSD_5_2:1.50.0.2
	OPENBSD_5_2_BASE:1.50
	OPENBSD_5_1_BASE:1.47
	OPENBSD_5_1:1.47.0.2
	OPENBSD_5_0:1.45.0.2
	OPENBSD_5_0_BASE:1.45
	OPENBSD_4_9:1.39.0.2
	OPENBSD_4_9_BASE:1.39
	OPENBSD_4_8:1.31.0.2
	OPENBSD_4_8_BASE:1.31
	OPENBSD_4_7:1.29.0.2
	OPENBSD_4_7_BASE:1.29
	OPENBSD_4_6:1.22.0.2
	OPENBSD_4_6_BASE:1.22
	OPENBSD_4_5:1.20.0.4
	OPENBSD_4_5_BASE:1.20
	OPENBSD_4_4:1.20.0.2
	OPENBSD_4_4_BASE:1.20
	OPENBSD_4_3:1.19.0.2
	OPENBSD_4_3_BASE:1.19
	OPENBSD_4_2:1.16.0.2
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.13.0.2
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.9.0.2
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.7.0.2
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.4.0.2
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.2.0.2
	OPENBSD_3_7_BASE:1.2
	naddy_20050125:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.62
date	2016.03.18.21.38.24;	author naddy;	state Exp;
branches;
next	1.61;
commitid	BVkebQSTXSZokeRG;

1.61
date	2015.08.25.14.03.21;	author sthen;	state Exp;
branches;
next	1.60;
commitid	8u6wAbmxSoakT67t;

1.60
date	2015.04.28.06.35.06;	author ajacoutot;	state Exp;
branches;
next	1.59;
commitid	tr3XsOq5EJv6iti7;

1.59
date	2015.04.06.16.03.00;	author schwarze;	state Exp;
branches;
next	1.58;
commitid	Z7l7IDamR9hlabz6;

1.58
date	2014.11.19.09.36.53;	author brad;	state Exp;
branches;
next	1.57;
commitid	6aQLTyfuDS2L2RIx;

1.57
date	2014.05.05.11.51.37;	author brad;	state Exp;
branches;
next	1.56;

1.56
date	2013.03.21.08.46.33;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2013.03.11.11.35.44;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.53;

1.53
date	2013.01.19.08.42.35;	author brad;	state Exp;
branches;
next	1.52;

1.52
date	2012.08.29.13.16.42;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2012.08.29.07.48.42;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2012.07.06.15.01.06;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2012.05.03.06.06.59;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2012.03.29.13.38.40;	author sthen;	state Exp;
branches;
next	1.47;

1.47
date	2011.09.24.09.40.53;	author sthen;	state Exp;
branches;
next	1.46;

1.46
date	2011.09.16.10.31.24;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2011.06.27.21.17.55;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2011.06.27.13.38.30;	author sthen;	state Exp;
branches;
next	1.43;

1.43
date	2011.06.15.23.16.15;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2011.06.15.18.11.16;	author sthen;	state Exp;
branches;
next	1.41;

1.41
date	2011.04.18.23.37.07;	author sthen;	state Exp;
branches;
next	1.40;

1.40
date	2011.03.29.20.04.55;	author jakemsr;	state Exp;
branches;
next	1.39;

1.39
date	2010.11.19.07.23.15;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2010.10.25.10.11.22;	author sthen;	state Exp;
branches;
next	1.37;

1.37
date	2010.10.25.07.46.43;	author landry;	state Exp;
branches;
next	1.36;

1.36
date	2010.10.24.21.40.39;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.24.21.27.41;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.18.21.25.07;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2010.09.30.19.42.14;	author landry;	state Exp;
branches;
next	1.32;

1.32
date	2010.08.25.23.27.21;	author sthen;	state Exp;
branches;
next	1.31;

1.31
date	2010.06.11.20.06.50;	author landry;	state Exp;
branches;
next	1.30;

1.30
date	2010.05.26.22.18.22;	author jakemsr;	state Exp;
branches;
next	1.29;

1.29
date	2010.01.11.08.49.27;	author jakemsr;	state Exp;
branches;
next	1.28;

1.28
date	2009.11.03.14.32.33;	author sthen;	state Exp;
branches;
next	1.27;

1.27
date	2009.08.25.13.16.40;	author sthen;	state Exp;
branches;
next	1.26;

1.26
date	2009.08.18.22.24.13;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2009.08.10.06.33.02;	author kili;	state Exp;
branches;
next	1.24;

1.24
date	2009.07.19.22.49.12;	author sthen;	state Exp;
branches;
next	1.23;

1.23
date	2009.07.19.13.05.02;	author sthen;	state Exp;
branches;
next	1.22;

1.22
date	2009.03.11.09.29.33;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2009.03.04.20.21.57;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2008.07.09.02.13.01;	author jakemsr;	state Exp;
branches;
next	1.19;

1.19
date	2008.01.26.02.17.50;	author jakemsr;	state Exp;
branches;
next	1.18;

1.18
date	2007.09.24.07.57.01;	author jakemsr;	state Exp;
branches;
next	1.17;

1.17
date	2007.09.06.19.15.14;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2007.05.29.23.06.58;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2007.05.29.05.33.16;	author pvalchev;	state Exp;
branches;
next	1.14;

1.14
date	2007.05.25.16.13.48;	author jakemsr;	state Exp;
branches;
next	1.13;

1.13
date	2007.01.23.10.39.01;	author robert;	state Exp;
branches;
next	1.12;

1.12
date	2006.12.16.12.22.34;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2006.12.02.20.24.17;	author pvalchev;	state Exp;
branches;
next	1.10;

1.10
date	2006.11.13.11.20.25;	author steven;	state Exp;
branches;
next	1.9;

1.9
date	2006.08.03.23.15.57;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2006.03.20.05.52.33;	author jakemsr;	state Exp;
branches;
next	1.7;

1.7
date	2006.02.03.05.25.21;	author jakemsr;	state Exp;
branches;
next	1.6;

1.6
date	2006.02.03.05.13.05;	author jakemsr;	state Exp;
branches;
next	1.5;

1.5
date	2005.11.13.21.11.13;	author jakemsr;	state Exp;
branches;
next	1.4;

1.4
date	2005.08.16.18.24.10;	author sturm;	state Exp;
branches;
next	1.3;

1.3
date	2005.07.23.15.23.43;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2005.02.09.23.41.43;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2005.01.25.21.58.59;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.01.25.21.58.59;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.62
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@# $OpenBSD: Makefile,v 1.61 2015/08/25 14:03:21 sthen Exp $

COMMENT=	video stream processing tools

DISTNAME=	transcode-1.1.7
REVISION=	7
CATEGORIES=	multimedia
MASTER_SITES=	http://cdn.bitbucket.org/france/transcode-tcforge/downloads/
EXTRACT_SUFX=	.tar.bz2

HOMEPAGE=	http://www.transcoding.org/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SDL SM X11 Xau Xaw Xdmcp Xext Xmu Xpm Xt Xv a52 avcodec
WANTLIB += avformat avutil bz2 c crypto dv dvdread freetype gsm jpeg
WANTLIB += m mp3lame mpeg2 mpeg2convert ogg opus postproc pthread
WANTLIB += pthread-stubs quicktime sndio speex ssl theora
WANTLIB += usbhid vorbis vorbisenc vorbisfile vpx x264 xcb xml2 z
WANTLIB += lzma stdc++ swresample x265

# xvidcore is dlopen()d so check-lib-depends shows it as Extra, however we
# want to track changes to the ABI to ensure transcode is updated if needed.
WANTLIB += xvidcore

FLAVORS=	lzo mjpegtools altivec
FLAVOR?=

.if ${MACHINE_ARCH} == "i386"
PKG_ARGS+=	-Di386=1
.else
PKG_ARGS+=	-Di386=0
.endif

MODULES=	devel/gettext

AUTOCONF_VERSION= 2.68
AUTOMAKE_VERSION= 1.11

LIB_DEPENDS=	audio/lame \
		audio/liba52 \
		audio/libogg \
		audio/libvorbis \
		devel/libdvdread \
		devel/sdl \
		graphics/ffmpeg>=20121026 \
		graphics/jpeg \
		graphics/libmpeg2 \
		multimedia/libdv \
		multimedia/libquicktime \
		multimedia/libtheora \
		multimedia/x264 \
		multimedia/xvidcore \
		textproc/libxml

RUN_DEPENDS=	audio/sox \
		audio/vorbis-tools \
		audio/toolame \
		graphics/ffmpeg \
		x11/mplayer

BUILD_DEPENDS+=	devel/libtool \
		${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}

SEPARATE_BUILD=	Yes
LIBTOOL_FLAGS+=	--tag=disable-static
CONFIGURE_STYLE= gnu
MODGNU_CONFIG_GUESS_DIRS=${WRKSRC}/autotools
CONFIGURE_ARGS+=--enable-a52 \
		--enable-bktr \
		--enable-freetype2 \
		--enable-lame \
		--enable-libdv \
		--enable-libdvdread \
		--enable-libiconv \
		--enable-libjpeg \
		--enable-libmpeg2 \
		--enable-libmpeg2convert \
		--enable-libpostproc \
		--enable-libquicktime \
		--enable-libxml2 \
		--enable-netstream \
		--enable-ogg \
		--enable-sdl \
		--enable-statbuffer \
		--enable-sndio \
		--enable-theora \
		--enable-vorbis \
		--enable-xvid \
		--enable-x264
CONFIGURE_ENV+=	CPPFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include" \
		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib"

.if ${FLAVOR:Mlzo}
CONFIGURE_ARGS+=--enable-lzo
WANTLIB +=	lzo2
LIB_DEPENDS+=	archivers/lzo2
PKG_ARGS+=	-Dlzo=1
.else
PKG_ARGS+=	-Dlzo=0
.endif

.if ${FLAVOR:Mmjpegtools}
CONFIGURE_ARGS+=--enable-mjpegtools
WANTLIB +=	mjpegutils
LIB_DEPENDS+=	multimedia/mjpegtools
RUN_DEPENDS+=	multimedia/mjpegtools
PKG_ARGS+=	-Dmjpegtools=1
.else
PKG_ARGS+=	-Dmjpegtools=0
.endif

.if ${FLAVOR:Maltivec}
ONLY_FOR_ARCHS=	powerpc
CONFIGURE_ARGS+=--enable-altivec
.else
CONFIGURE_ARGS+=--disable-altivec
.endif

post-extract:
	@@cp ${FILESDIR}/import_sndio.c ${WRKSRC}/import

post-patch:
	@@cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} autoreconf -if

post-install:
	@@rm -f ${PREFIX}/lib/transcode/*.la

.include <bsd.port.mk>
@


1.61
log
@wantlib
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.60 2015/04/28 06:35:06 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.60
log
@Cope with FFmpeg 20150412.

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2015/04/06 16:03:00 schwarze Exp $
d8 1
a8 1
REVISION=	6
d19 1
a19 1
WANTLIB += avformat avutil bz2 c crypto dv dvdcss dvdread freetype gsm jpeg
d23 1
@


1.59
log
@Drop USE_GROFF (minor whitespace differences only).  No bump needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/11/19 09:36:53 brad Exp $
d8 1
a8 1
REVISION=	5
d20 3
a22 4
WANTLIB += m mp3lame mpeg2 mpeg2convert ogg opus orc-0.4 postproc pthread
WANTLIB += pthread-stubs quicktime schroedinger-1.0 sndio speex ssl theora
WANTLIB += theoradec theoraenc usbhid vorbis vorbisenc vorbisfile vpx x264
WANTLIB += xcb xml2 z
@


1.58
log
@Fix the autoconf script to be able to find the pkg-config file for libdvdread.
The file name is dvdread.pc not libdvdread.pc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2014/05/05 11:51:37 brad Exp $
a69 1
USE_GROFF =	Yes
@


1.57
log
@- Pull in some bits to deal with newer FFmpeg API. While testing I found
transcode was already broken as is due to it relying on certain functionality
with presets which is no longer relevant for more modern FFmpeg. Searching
via Google showed the same bug being reported with Debian, Gentoo and Arch.
They have eliminted the use of presets but that just exposed another bug.
So this builds with newer FFmpeg but it is essentially just as broken as
before. If anyone wants to take a look at this and figure out why it is
crashing go ahead.
- Merge the quicktime FLAVOR into the main port / package. IMO it doesn't
make sense to have an app like this that cannot work with the MP4 container

FFmpeg bits taken from FreeBSD and Debian packages.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/03/21 08:46:33 ajacoutot Exp $
d8 1
a8 1
REVISION=	4
@


1.56
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/03/11 11:35:44 espie Exp $
d8 1
a8 1
REVISION=	3
d18 6
a23 6
WANTLIB += ICE SDL SM X11 Xau Xaw Xdmcp Xext Xmu Xpm Xt Xv a52
WANTLIB += avcodec avformat avutil bz2 c crypto dv dvdread freetype
WANTLIB += gsm jpeg m mp3lame mpeg2 mpeg2convert ogg orc-0.4 postproc
WANTLIB += pthread pthread-stubs schroedinger-1.0 sndio speex ssl
WANTLIB += theora theoradec theoraenc usbhid vorbis vorbisenc
WANTLIB += vorbisfile vpx x264 xcb xml2 z
d29 1
a29 1
FLAVORS=	lzo mjpegtools quicktime altivec
d38 1
a38 1
MODULES=	converters/libiconv
d53 1
d85 1
d110 1
a110 1
WANTLIB +=	mjpegutils-1.9
a115 10
.endif

.if ${FLAVOR:Mquicktime}
CONFIGURE_ARGS+=--enable-libquicktime
LIB_DEPENDS+=	multimedia/libquicktime
WANTLIB +=	quicktime
MODULES+=	devel/gettext
PKG_ARGS+=	-Dquicktime=1
.else
PKG_ARGS+=	-Dquicktime=0
@


1.55
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/02/09 14:49:51 sthen Exp $
a68 1
USE_LIBTOOL=	Yes
@


1.54
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2013/01/19 08:42:35 brad Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.53
log
@Update for newer FFmpeg API.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/08/29 13:16:42 ajacoutot Exp $
d101 1
a101 1
.if ${FLAVOR:L:Mlzo}
d110 1
a110 1
.if ${FLAVOR:L:Mmjpegtools}
d120 1
a120 1
.if ${FLAVOR:L:Mquicktime}
d130 1
a130 1
.if ${FLAVOR:L:Maltivec}
@


1.52
log
@No need for LIBAVCODEC_EXTRA_LIBS; discussed with Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/08/29 07:48:42 ajacoutot Exp $
d8 1
a8 1
REVISION=	2
d22 1
a22 1
WANTLIB += avcodec avformat avutil bz2 c dv dvdread freetype
d24 1
a24 1
WANTLIB += pthread pthread-stubs schroedinger-1.0 sndio speex
d43 3
d52 1
a52 1
		graphics/ffmpeg>=20080620p10 \
d67 3
a69 1
BUILD_DEPENDS+=	devel/libtool
a71 1

d75 1
a75 3
CONFIGURE_STYLE= autoconf automake
AUTOCONF_VERSION= 2.68
AUTOMAKE_VERSION= 1.11
d138 1
a138 4
	@@cp ${FILESDIR}/import_sndio.c ${WRKSRC}/import/

AUTO_ENV=	AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION}
d141 2
a142 1
	@@cd ${WRKSRC}; ${AUTO_ENV} aclocal
d144 2
a145 2
pre-configure:
	@@cd ${WRKSRC}; ${AUTO_ENV} automake --foreign
@


1.51
log
@Some more pthread related cleaning up for "multimedia".

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2012/07/06 15:01:06 ajacoutot Exp $
d8 1
a8 1
REVISION=	1
d97 1
a97 2
		LDFLAGS="-L${X11BASE}/lib -L${LOCALBASE}/lib" \
		LIBAVCODEC_EXTRA_LIBS="-pthread"
@


1.50
log
@Remove unnecessary patch; the code already does the right thing.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2012/05/03 06:06:59 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
@


1.49
log
@Bugfix update to transcode 1.1.7.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/03/29 13:38:40 sthen Exp $
d8 1
@


1.48
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/09/24 09:40:53 sthen Exp $
d7 1
a7 2
DISTNAME=	transcode-1.1.5
REVISION=	12
d9 1
a9 1
MASTER_SITES=	${MASTER_SITE_BERLIOS:=tcforge/}
d71 2
a72 2
AUTOCONF_VERSION= 2.61
AUTOMAKE_VERSION= 1.9
d110 1
a110 1
WANTLIB +=	mjpegutils>=3
@


1.47
log
@cleaning; remove nonexistent/default autoconf options, doesn't change anything.
From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/09/16 10:31:24 espie Exp $
d66 1
a66 1
SEPARATE_BUILD=	concurrent
@


1.46
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/06/27 21:17:55 sthen Exp $
a75 1
		--enable-a52-default-decoder \
a76 1
		--disable-faac \
@


1.45
log
@Remove --enable-faac for clarity, transcode's aac encoder code is not
currently built/used. Worked out by Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/06/27 13:38:30 sthen Exp $
d8 1
a8 1
REVISION=	11
@


1.44
log
@sync WANTLIB and bump.
zap a few stray space-tabs while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/06/15 23:16:15 sthen Exp $
d8 1
a8 1
REVISION=	10
d78 1
a78 1
		--enable-faac \
@


1.43
log
@revert last and add xvidcore to WANTLIB instead, allowing the
library dependency to be tracked properly. even though it's
dlopen(3)'d not linked directly, we still need to make sure the
package is compatible with the library.

it will show as Extra in lib-depends-check, that's not important
(but add a comment to make sure people don't think it can be removed).

pointed out by jakemsr and discussed with brad and espie.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/06/15 18:11:16 sthen Exp $
d8 1
a8 1
REVISION=	9
d22 1
a22 1
WANTLIB += avcodec avformat avutil bz2 c dv dvdread faac freetype
d43 1
a43 2
LIB_DEPENDS=	audio/faac \
		audio/lame \
@


1.42
log
@transcode does dlopen(libxvidcore) at runtime rather than link against it,
so it isn't a WANTLIB. Therefore the LIB_DEPENDS entry for multimedia/xvidcore
gets stripped out of the packing list at package build time. This means that
A) the dependency isn't pulled in directly (though as it's provided by other
deps the package does work OK) and B) print-package-signature doesn't
match pkg_info -S, triggering unnecessary rebuilds with dpb -R.

Move xvidcore from LIB_DEPENDS to BUILD+RUN_DEPENDS to fix this.
From Nigel Taylor.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/04/18 23:37:07 sthen Exp $
d8 1
a8 1
REVISION=	8
d28 4
d56 1
a62 1
		multimedia/xvidcore \
d65 1
a65 2
BUILD_DEPENDS+=	devel/libtool \
		multimedia/xvidcore
@


1.41
log
@sync WANTLIB (re: ffmpeg update), from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/03/29 20:04:55 jakemsr Exp $
d8 1
a8 1
REVISION=	7
a51 1
		multimedia/xvidcore \
d58 1
d61 2
a62 1
BUILD_DEPENDS+=	devel/libtool
@


1.40
log
@ffmpeg no longer depends on faad.  remove faad from WANTLIB in ports
that were pulling it in via ffmpeg.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/11/19 07:23:15 espie Exp $
d8 1
a8 1
REVISION=	6
d21 6
a26 6
WANTLIB += ICE SDL SM X11 Xau Xaw Xdmcp Xext Xmu Xpm Xt
WANTLIB += Xv bz2 a52 avcodec avformat avutil c dv dvdread faac
WANTLIB += freetype gsm jpeg m mp3lame mpeg2 mpeg2convert ogg orc-0.4
WANTLIB += postproc pthread-stubs pthread schroedinger-1.0 sndio
WANTLIB += speex theora usbhid vorbis vorbisenc vorbisfile x264
WANTLIB += xcb xml2 xvidcore z
@


1.39
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/10/25 10:11:22 sthen Exp $
d8 1
a8 1
REVISION=	5
d22 1
a22 1
WANTLIB += Xv bz2 a52 avcodec avformat avutil c dv dvdread faac faad
@


1.38
log
@sync WANTLIB, pointed out by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/10/25 07:46:43 landry Exp $
d39 21
a59 21
LIB_DEPENDS=	::audio/faac \
		::audio/lame \
		::audio/liba52 \
		::audio/libogg \
		::audio/libvorbis \
		::devel/libdvdread \
		::devel/sdl \
		:ffmpeg->=20080620p10:graphics/ffmpeg \
		::graphics/jpeg \
		::graphics/libmpeg2 \
		::multimedia/libdv \
		::multimedia/libtheora \
		::multimedia/x264 \
		::multimedia/xvidcore \
		::textproc/libxml

RUN_DEPENDS=	::audio/sox \
		::audio/vorbis-tools \
		::audio/toolame \
		::graphics/ffmpeg \
		::x11/mplayer
d61 1
a61 1
BUILD_DEPENDS+=	::devel/libtool
d101 2
a102 1
LIB_DEPENDS+=	lzo2::archivers/lzo2
d110 3
a112 2
LIB_DEPENDS+=	mjpegutils.>=3::multimedia/mjpegtools
RUN_DEPENDS+=	::multimedia/mjpegtools
d120 2
a121 1
LIB_DEPENDS+=	quicktime::multimedia/libquicktime
@


1.37
log
@unbreak: readd vorbisenc and vorbisfile to WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/10/24 21:40:39 sthen Exp $
d8 1
a8 1
REVISION=	4
d21 1
a21 1
WANTLIB += ICE SDL SM X11 Xau Xaw Xdmcp Xext Xpm Xrandr Xrender Xt
d25 2
a26 1
WANTLIB += speex theora usbhid vorbis vorbisenc vorbisfile x264 xcb xml2 xvidcore z
d38 1
d54 1
@


1.36
log
@lib_depends, revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/10/24 21:27:41 ajacoutot Exp $
d25 1
a25 1
WANTLIB += speex theora usbhid vorbis x264 xcb xml2 xvidcore z
@


1.35
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/18 21:25:07 espie Exp $
d20 6
a25 3
WANTLIB=	ICE SM X11 Xau Xaw Xdmcp Xext Xpm Xrandr Xrender Xt \
		Xv bz2 c faad freetype gsm m orc-0.4 pthread-stubs pthread \
		schroedinger-1.0 sndio speex usbhid xcb z
d37 16
a52 17
LIB_DEPENDS=	SDL.>=2::devel/sdl \
		a52::audio/liba52 \
		avcodec.>=13.1,avformat.>=12,avutil.>=6,postproc.>=6:ffmpeg->=20080620p10:graphics/ffmpeg \
		dv.>=4::multimedia/libdv \
		dvdread.>=3::devel/libdvdread \
		jpeg.>=62::graphics/jpeg \
		mp3lame::audio/lame \
		faac::audio/faac \
		mpeg2,mpeg2convert::graphics/libmpeg2 \
		ogg.>=5::audio/libogg \
		theora.>=1::multimedia/libtheora \
		vorbis.>=3,vorbisenc.>=2,vorbisfile.>=4::audio/libvorbis \
		xml2.>=8::textproc/libxml \
		xvidcore::multimedia/xvidcore \
		x264::multimedia/x264
RUN_DEPENDS=	::graphics/ffmpeg \
		::audio/sox \
d55 1
@


1.34
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/09/30 19:42:14 landry Exp $
a58 1
USE_X11=	Yes
@


1.33
log
@Add gnu libtool to BUILD_DEPENDS and bump. Autofoo needs libtool m4 macros.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/08/25 23:27:21 sthen Exp $
d61 1
@


1.32
log
@- chase the library change in multimedia/schroedinger; oil->orc
- add various other missing WANTLIB (and LIB_DEPENDS in some cases)
- while there move PKGNAME=..pX to REVISION, and move some ports
to new-style LIB_DEPENDS

original diff from Brad, extensive checking by me (clean build of everything
related to liboil).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/06/11 20:06:50 landry Exp $
d8 1
a8 1
REVISION=	3
d54 2
@


1.31
log
@Remove sparc64-specific patch now that it switched to gcc4.
From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/05/26 22:18:22 jakemsr Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p2
d21 1
a21 1
		Xv bz2 c faad freetype gsm m oil-0.3 pthread-stubs pthread \
d125 1
a125 1
	cp ${FILESDIR}/import_sndio.c ${WRKSRC}/import/
d131 1
a131 1
	cd ${WRKSRC}; ${AUTO_ENV} aclocal
d134 1
a134 1
	cd ${WRKSRC}; ${AUTO_ENV} automake --foreign
@


1.30
log
@wantlib changes due to ffmpeg update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/01/11 08:49:27 jakemsr Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
a30 4
.endif

.if ${MACHINE_ARCH} == "sparc64"
PATCH_LIST=	patch-* gcc-*
@


1.29
log
@- add sndio recording support
- drop sun audio support
- allow non-filenames for audio input names
with feedback from ratchov@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/11/03 14:32:33 sthen Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d21 2
a22 2
		Xv bz2 c faad freetype m oil-0.3 pthread-stubs pthread \
		schroedinger-1.0 sndio usbhid xcb z
@


1.28
log
@update to 1.1.5, from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/08/25 13:16:40 sthen Exp $
d8 1
d64 1
a64 1
CONFIGURE_STYLE= autoconf
d66 1
d86 1
a86 1
		--enable-sunau \
d127 12
@


1.27
log
@update to 1.1.4, from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/08/18 22:24:13 sthen Exp $
d7 1
a7 1
DISTNAME=	transcode-1.1.4
d76 2
@


1.26
log
@update 1.0.5->1.1.3, from Brad. Various new features and bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/08/10 06:33:02 kili Exp $
d7 1
a7 1
DISTNAME=	transcode-1.1.3
d92 3
a94 3
CONFIGURE_ARGS+=	--enable-lzo
LIB_DEPENDS+=		lzo2::archivers/lzo2
PKG_ARGS+=		-Dlzo=1
d96 1
a96 1
PKG_ARGS+=		-Dlzo=0
@


1.25
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/07/19 22:49:12 sthen Exp $
d3 1
a3 1
SHARED_ONLY=		Yes
d5 1
a5 1
COMMENT=		video stream processing tools
d7 4
a10 3
DISTNAME=		transcode-1.0.5
PKGNAME=		${DISTNAME}p5
CATEGORIES=		multimedia
d12 1
a12 1
HOMEPAGE=		http://www.transcoding.org/
d19 3
d23 1
a23 8
WANTLIB += ICE SM X11 Xau Xaw Xdmcp Xext Xpm Xrandr Xrender Xt
WANTLIB += Xv c faac faad freetype m pthread sndio usbhid x264
WANTLIB += z oil-0.3 schroedinger-1.0 pthread-stubs xcb

MASTER_SITES=		http://fromani.exit1.org/
EXTRACT_SUFX=		.tar.bz2

FLAVORS=		lzo mjpegtools quicktime altivec
d27 1
a27 1
PKG_ARGS+=		-Di386=1
d29 1
a29 1
PKG_ARGS+=		-Di386=0
d31 1
d33 1
a33 1
PATCH_LIST=		patch-* gcc-*
d36 29
a64 32
LIB_DEPENDS=		SDL.>=2::devel/sdl \
			a52::audio/liba52 \
			avcodec.>=13.1,avutil.>=6:ffmpeg->=20080620p10:graphics/ffmpeg \
			dv.>=4::multimedia/libdv \
			dvdread.>=3::devel/libdvdread \
			iconv.>=4::converters/libiconv \
			jpeg.>=62::graphics/jpeg \
			mp3lame::audio/lame \
			mpeg2,mpeg2convert::graphics/libmpeg2 \
			ogg.>=5::audio/libogg \
			postproc.>=6::graphics/ffmpeg \
			theora.>=1::multimedia/libtheora \
			vorbis.>=3,vorbisenc.>=2,vorbisfile.>=4::audio/libvorbis \
			xml2.>=8::textproc/libxml

RUN_DEPENDS=		::graphics/ffmpeg \
			::audio/sox \
			::audio/vorbis-tools \
			::audio/toolame \
			::multimedia/xvidcore \
			::x11/mplayer

SEPARATE_BUILD=		concurrent

USE_X11=		Yes
USE_LIBTOOL=		Yes
LIBTOOL_FLAGS+=		--tag=disable-static
CONFIGURE_STYLE=	gnu
CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
			LIBAVCODEC_EXTRA_LIBS="-pthread"

d66 24
a89 21

CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--enable-netstream \
			--enable-statbuffer \
			--enable-a52 \
			--enable-a52-default-decoder \
			--enable-bktr \
			--enable-freetype2 \
			--enable-lame \
			--enable-libdv \
			--enable-libdvdread \
			--enable-libiconv \
			--enable-libjpeg \
			--enable-libpostproc \
			--enable-libxml2 \
			--enable-ogg \
			--enable-sdl \
			--enable-sunau \
			--enable-theora \
			--enable-vorbis \
			--with-libpostproc-includes="${LOCALBASE}/include/libpostproc"
d93 1
a93 1
LIB_DEPENDS+=		lzo.>=1::archivers/lzo
d100 4
a103 4
CONFIGURE_ARGS+=	--enable-mjpegtools
LIB_DEPENDS+=		mjpegutils.>=3::multimedia/mjpegtools
RUN_DEPENDS+=		::multimedia/mjpegtools
PKG_ARGS+=		-Dmjpegtools=1
d105 1
a105 1
PKG_ARGS+=		-Dmjpegtools=0
d109 4
a112 4
CONFIGURE_ARGS+=	--enable-libquicktime
LIB_DEPENDS+=		quicktime::multimedia/libquicktime
WANTLIB+=		GL intl
PKG_ARGS+=		-Dquicktime=1
d114 1
a114 1
PKG_ARGS+=		-Dquicktime=0
d118 2
a119 2
ONLY_FOR_ARCHS=		powerpc
CONFIGURE_ARGS+=	--enable-altivec
d121 1
a121 1
CONFIGURE_ARGS+=	--disable-altivec
@


1.24
log
@set the pkgspec for LIB_DEPENDS on ffmpeg to a version with schroedinger
included, so the tools know that old ffmpeg versions won't satisfy the
dependencies listed in WANTLIB.

this way, attempting to install these packages with old ffmpeg will
no longer give you a cryptic error message as seen by dhill@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/07/19 13:05:02 sthen Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p4
d21 1
a21 1
WANTLIB += z oil-0.3 schroedinger-1.0
@


1.23
log
@add schroedinger/oil WANTLIB, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/03/11 09:29:33 sthen Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p3
d40 1
a40 1
			avcodec.>=10,avutil.>=4::graphics/ffmpeg \
@


1.22
log
@sync WANTLIB and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/03/04 20:21:57 jasper Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p2
d21 1
a21 1
WANTLIB += z
@


1.21
log
@- fix license versions
- regen DESCRs, PLISTS
- regen WANTLIBs

ok ajacoutot@@ landry@@ (as part of another diff)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/07/09 02:13:01 jakemsr Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p1
d19 3
a21 3
WANTLIB=		ICE SM X11 Xau Xaw Xdmcp Xext Xpm Xrandr \
			Xrender Xt Xv c faac faad freetype m \
			pthread sndio usbhid x264 z
@


1.20
log
@
* FFmpeg headers moved
* FFmpeg LIB_DEPENDS/WANTLIB changes
* add @@bin markers in PLISTs
* bump PKGNAMEs

feedback/ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/01/26 02:17:50 jakemsr Exp $
d8 1
a8 1
PKGNAME=		${DISTNAME}p0
d13 1
a13 1
# GPL
d18 1
d21 1
a21 1
			pthread usbhid x264 z
@


1.19
log
@maintenence update to 1.0.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/09/24 07:57:01 jakemsr Exp $
d8 1
d90 1
a90 1
			--with-libpostproc-includes="${LOCALBASE}/include/postproc"
d112 1
a112 1
WANTLIB+=		png
@


1.18
log
@- libavcodec no longer allows registering individual codecs, so register
  all codecs (from transcode CVS)
- our libavcodec does not have an encoder named 'h264', but it does have
  'libx264'.  H.264 encoding is now possible.
- bump PKGNAME
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.17 2007/09/06 19:15:14 naddy Exp $
d7 1
a7 2
DISTNAME=		transcode-1.0.3rc2
PKGNAME=		${DISTNAME}p3
d17 3
a19 2
WANTLIB=		ICE SM X11 Xau Xaw Xdmcp Xext Xi Xpm Xt Xv \
			c freetype m pthread usbhid z glib gmodule intl
d22 1
d38 1
a38 1
			avcodec.>=7::graphics/ffmpeg \
a40 1
			gdk.>=1.2,gtk.>=1.2::x11/gtk+ \
d48 1
a48 1
			vorbis.>=3,vorbisfile.>=4::audio/libvorbis \
d62 1
a62 1
SHARED_ONLY=		Yes
a76 1
			--enable-gtk \
@


1.17
log
@sync FLAVORS and DESCR; from Pierre Riteau
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/05/29 23:06:58 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
@


1.16
log
@- fix CONFIGURE_ARGS

"oops..." pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/05/29 05:33:16 pvalchev Exp $
d3 1
a3 1
COMMENT=		"video stream processing tools"
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
@


1.15
log
@fix altivec support on powerpc and add an altivec flavour; ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/05/25 16:13:48 jakemsr Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d120 1
a120 1
CONFIGURE_ARGS==	--disable-altivec
@


1.14
log
@update WANTLIB and LIB_DEPENDS after graphics/ffmpeg update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/01/23 10:39:01 robert Exp $
d21 1
a21 1
FLAVORS=		lzo mjpegtools quicktime
d114 7
@


1.13
log
@update to version 1.0.3rc2;

from Nikns Siankin <nikns@@secure.lv>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/12/16 12:22:34 espie Exp $
d6 1
d16 2
a17 2
WANTLIB=		ICE SM X11 Xaw Xext Xi Xpm Xt Xv c freetype \
			m pthread usbhid z glib gmodule intl
d35 1
a35 1
			avcodec.>=7,avutil.>=1::graphics/ffmpeg \
d64 1
a64 1
			LIBAVCODEC_EXTRA_LIBS="-lavutil -lm -lz -pthread"
@


1.12
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/12/02 20:24:17 pvalchev Exp $
d5 1
a5 2
DISTNAME=		transcode-1.0.2
PKGNAME=		${DISTNAME}p2
d18 1
a18 2
MASTER_SITES=		http://www.jakemsr.com/transcode/ \
			http://kraymer.de/mirroring/
@


1.11
log
@Remove jakemsr@@ from maintainer position, as he has been inactive and
email has been bouncing for several months.  Jacob, if you get this
and/or get back to things, let us know.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/11/13 11:20:25 steven Exp $
a23 2

BUILD_DEPENDS+=		::devel/pkgconfig
@


1.10
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/08/03 23:15:57 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
a9 2

MAINTAINER=		Jacob Meuser <jakemsr@@openbsd.org>
@


1.9
log
@new style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/03/20 05:52:33 jakemsr Exp $
d63 1
@


1.8
log
@- accomodate fr libavcodec changes
- bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/02/03 05:25:21 jakemsr Exp $
d38 15
a52 15
LIB_DEPENDS=		SDL.2::devel/sdl \
			a52.0::audio/liba52 \
			avcodec.7,avutil.1::graphics/ffmpeg \
			dv.4::multimedia/libdv \
			dvdread.3::devel/libdvdread \
			gdk.1.2,gtk.1.2::x11/gtk+ \
			iconv.4::converters/libiconv \
			jpeg.62::graphics/jpeg \
			mp3lame.0::audio/lame \
			mpeg2.0,mpeg2convert.0::graphics/libmpeg2 \
			ogg.5::audio/libogg \
			postproc.6::graphics/ffmpeg \
			theora.1::multimedia/libtheora \
			vorbis.3,vorbisfile.4::audio/libvorbis \
			xml2.8::textproc/libxml
d96 1
a96 1
LIB_DEPENDS+=		lzo.1::archivers/lzo
d104 1
a104 1
LIB_DEPENDS+=		mjpegutils.3::multimedia/mjpegtools
d113 1
a113 1
LIB_DEPENDS+=		quicktime.0::multimedia/libquicktime
@


1.7
log
@oops, libmjpegutils is only at version 3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/02/03 05:13:05 jakemsr Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d19 1
a19 2
			m pthread usbhid vorbisenc z \
			glib gmodule intl
d40 1
a40 1
			avcodec.6::graphics/ffmpeg \
d68 1
a68 1
			LIBAVCODEC_EXTRA_LIBS="-lmp3lame -la52 -lvorbisenc -lvorbis -logg"
@


1.6
log
@libmjpegutils is now a shared library.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/11/13 21:11:13 jakemsr Exp $
d105 1
a105 1
LIB_DEPENDS+=		mjpegutils.4::multimedia/mjpegtools
@


1.5
log
@update to version 1.0.2

transcode changes (annoted):
- lots of bug fixes and code cleanup
- i386 nasm code replaced
- several speed improvements
- new filters: facemask, ascii
- can read raw DVD ISO images
- new export profile: xvcd
- auto-probe support for bktr and sunau
- safer string functions
- much improved amd64 support
- removed local copies of bbmpeg, libdvenc, libmpeg2 and libpostproc
- uses external libmpeg2 and libpostproc
- fixed out-of-bounds memory access in VOB demuxer
- fixed double free() in AVI handling

port changes:
- most patches integrated
- USE_LIBTOOL
- update my email address


OK wilfried@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/08/16 18:24:10 sturm Exp $
d6 1
d105 1
a105 1
BUILD_DEPENDS+=		::multimedia/mjpegtools
@


1.4
log
@work around an ICE by compiling single files with -O0 on sparc64

ok pval
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/07/23 15:23:43 sturm Exp $
d5 1
a5 2
DISTNAME=		transcode-0.6.14
PKGNAME=		${DISTNAME}p2
d10 1
a10 1
MAINTAINER=		Jacob Meuser <jakemsr@@jakemsr.com>
d17 3
a19 2
WANTLIB=		ICE SM X11 Xext Xv c freetype m pthread \
			usbhid vorbisenc z
d22 1
a22 1
			http://dl.fkb.wormulon.net/transcode/
a29 1
BUILD_DEPENDS+=		::devel/nasm
d38 1
a38 1
LIB_DEPENDS=    	SDL.2::devel/sdl \
d40 1
a40 1
			avcodec.4.9::graphics/ffmpeg \
d43 1
d47 1
d49 2
d63 1
d67 2
a68 2
			LDFLAGS="-L${LOCALBASE}/lib" \
			FFMPEG_LIBS_EXTRALIBS="-lmp3lame -la52 -lvorbisenc -lvorbis -logg"
d73 2
d78 3
d82 4
d90 1
d92 1
a92 6
			--enable-ffbin \
			--disable-3dnow \
			--disable-sse \
			--disable-sse2 \
			--disable-cmov \
			--disable-altivec
a118 2

NO_REGRESS=		Yes
@


1.3
log
@workaround a compiler problem on sparc64

maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/02/09 23:41:43 naddy Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
@


1.2
log
@- update ffmpeg to snapshot 20050130
- remove inter-library dependencies
- chase fallout in dependent ports

From: Jacob Meuser <jakemsr@@jakemsr.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/01/25 21:58:59 naddy Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d34 3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d18 2
a19 2
WANTLIB=		ICE SM X11 Xaw Xext Xpm Xt Xv c freetype \
			m pthread stdc++ usbhid z
d60 4
a63 1
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.1.1.1
log
@Reimport into new category (ok jolan@@, xsa@@, robert@@).

Update to 0.6.14; from new maintainer Jacob Meuser <jakemsr@@jakemsr.com>.

Notable changes:
- new import module for bktr(4) devices, import_bktr
- new import module for audio(4) devices, import_sunau
- export profiles
- better error checking
- uses YV12/I420 colorspace by default instead of RGB
- uses external ffmpeg/libavcodec
- optimized memcpy on i386
- many small bugs fixed
@
text
@@
