head	1.33;
access;
symbols
	OPENBSD_6_2:1.33.0.2
	OPENBSD_6_2_BASE:1.33
	OPENBSD_6_1:1.31.0.4
	OPENBSD_6_1_BASE:1.31
	OPENBSD_6_0:1.31.0.2
	OPENBSD_6_0_BASE:1.31
	OPENBSD_5_9:1.28.0.2
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.25.0.6
	OPENBSD_5_8_BASE:1.25
	OPENBSD_5_7:1.25.0.2
	OPENBSD_5_7_BASE:1.25
	OPENBSD_5_6:1.24.0.4
	OPENBSD_5_6_BASE:1.24
	OPENBSD_5_5:1.24.0.2
	OPENBSD_5_5_BASE:1.24
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.22.0.2
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.19.0.2
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.2
	OPENBSD_5_0:1.7.0.2
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	sthen_20101019:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.33
date	2017.09.24.14.54.17;	author nigel;	state Exp;
branches;
next	1.32;
commitid	h65zvoPMjBKivqRo;

1.32
date	2017.07.24.21.20.20;	author nigel;	state Exp;
branches;
next	1.31;
commitid	JReIx9f5cvItQje9;

1.31
date	2016.05.13.07.56.55;	author nigel;	state Exp;
branches;
next	1.30;
commitid	xDbnBi4eOvF795y5;

1.30
date	2016.05.12.14.00.13;	author espie;	state Exp;
branches;
next	1.29;
commitid	ahNJS3ufsPPzbnzQ;

1.29
date	2016.03.20.19.56.50;	author naddy;	state Exp;
branches;
next	1.28;
commitid	WXJcpbKc0PauxEav;

1.28
date	2016.01.06.10.57.46;	author sthen;	state Exp;
branches;
next	1.27;
commitid	czTdcsS8671KUVKO;

1.27
date	2015.10.16.21.00.46;	author sthen;	state Exp;
branches;
next	1.26;
commitid	Lo8DspakPotok9kV;

1.26
date	2015.10.16.15.37.28;	author sthen;	state Exp;
branches;
next	1.25;
commitid	lcgLZYnEdMcFtsUA;

1.25
date	2014.10.24.16.56.32;	author nigel;	state Exp;
branches;
next	1.24;
commitid	eXQ57IdmbP0ZSIWV;

1.24
date	2013.08.07.21.32.13;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2013.03.11.11.35.43;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2012.10.22.12.32.15;	author nigel;	state Exp;
branches;
next	1.21;

1.21
date	2012.10.12.20.31.45;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2012.09.27.23.35.49;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2012.07.16.10.14.28;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2012.04.28.14.14.49;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2012.03.13.00.43.55;	author nigel;	state Exp;
branches;
next	1.16;

1.16
date	2012.01.30.11.46.36;	author nigel;	state Exp;
branches;
next	1.15;

1.15
date	2012.01.24.22.19.28;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2012.01.24.11.59.57;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2011.12.17.19.55.10;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2011.11.22.16.22.22;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2011.11.02.12.40.32;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2011.10.09.20.14.28;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.19.12.40.06;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2011.08.16.08.23.09;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2011.07.12.13.02.28;	author sthen;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2011.03.11.00.39.44;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2011.03.07.23.50.09;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2010.12.13.12.00.33;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2010.12.02.21.49.28;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2010.11.19.07.23.13;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.19.08.09.16;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.10.19.08.09.16;	author sthen;	state Exp;
branches;
next	;

1.7.2.1
date	2011.08.24.07.52.00;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.33
log
@Update to latest version. Use sthen@@ suggestions for Makefile.

Ok sthen@@
@
text
@# $OpenBSD: Makefile,v 1.32 2017/07/24 21:20:20 nigel Exp $

COMMENT=	download flash video files from various sites

GH_ACCOUNT=	monsieurvideo
GH_PROJECT=	get-flash-videos
GH_TAGNAME=	1.25.94
DISTNAME=	get_flash_videos-${GH_TAGNAME}

CATEGORIES=	multimedia perl5

MAINTAINER=	Nigel Taylor <nigel@@openbsd.org>

# Apache 2.0
PERMIT_PACKAGE_CDROM=	Yes

MODULES=	perl
CONFIGURE_STYLE=perl
PKG_ARCH=	*

BUILD_DEPENDS=	devel/p5-Tie-IxHash
# main program, and listed in MYMETA.json
RUN_DEPENDS=	www/p5-LWP-Protocol-https \
		www/p5-LWP-Protocol-socks \
		www/p5-libwww \
		devel/p5-Module-Find \
		devel/p5-Term-ProgressBar \
		www/p5-URI \
		www/p5-WWW-Mechanize
# modules
RUN_DEPENDS+=	multimedia/p5-Data-AMF \
		multimedia/p5-Storable-AMF \
		rtmpdump-*|flvstreamer-*:net/rtmpdump \
		security/p5-Crypt-Blowfish_PP \
		security/p5-Crypt-Rijndael \
		security/p5-Digest-HMAC \
		textproc/p5-XML-Simple

pre-configure:
	cd ${WRKSRC}; sed -i \
	    's,/etc/get_flash_videosrc,${SYSCONFDIR}/get_flash_videosrc,g' \
	    doc/get_flash_videos.pod get_flash_videos

post-install:
	cd ${WRKINST}; find . -name '*.orig' -exec rm {} +

.include <bsd.port.mk>
@


1.32
log
@Update to version 1.25.93 site change to itv, tv3play now viafree

Ok sthen@@ bcallah@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2016/05/13 07:56:55 nigel Exp $
d5 4
a8 4
V=		1.25.93
DISTNAME=	get_flash_videos-$V
PKGNAME=	${DISTNAME}
CATEGORIES=	multimedia
d10 1
a10 1
HOMEPAGE=	https://get-flash-videos.googlecode.com/
d17 2
a18 1
MODULES=	cpan
a19 5

GH_ACCOUNT=	monsieurvideo
GH_PROJECT=	get-flash-videos
GH_TAGNAME=	$V
MASTER_SITES=	${MASTER_SITES_GITHUB}
@


1.31
log
@Take over as MAINTAINER, update to 1.25.92 version.
Ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/05/12 14:00:13 espie Exp $
d5 1
a5 1
V=		1.25.92
@


1.30
log
@Term-ReadKey is part of the base system now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/03/20 19:56:50 naddy Exp $
d5 1
a5 1
V=		1.25.91
a8 1
REVISION =	0
d12 1
a12 1
MAINTAINER=	Stuart Henderson <sthen@@openbsd.org>
d31 1
d44 1
a44 1
	cd ${WRKSRC}; perl -pi -e \
@


1.29
log
@Remove SHARED_ONLY from all CPAN Perl ports and the cpan and perl MODULES.
Add WANTLIB+=perl and PKG_ARCH=* as appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2016/01/06 10:57:46 sthen Exp $
d9 1
d35 1
a35 2
RUN_DEPENDS+=	devel/p5-Term-ReadKey \
		multimedia/p5-Data-AMF \
@


1.28
log
@update to get_flash_videos-1.25.91, not much change but quietens portroach
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/10/16 21:00:46 sthen Exp $
d18 1
@


1.27
log
@fix MASTER_SITES for get_flash_videos, MODULES=cpan overrides the default for
github GH_* variables, so it needs to be set explicitly to MASTER_SITES_GITHUB.
found by naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/10/16 15:37:28 sthen Exp $
d5 3
a7 4
V=		20151008
DISTNAME=	App-get_flash_videos-1.24.$V
PKGNAME=	get_flash_videos-1.24.$V
#WRKDIST=	${WRKDIR}/monsieurvideo-get-flash-videos-c52cdf6
d21 1
a21 1
GH_COMMIT=	e927a6cc9a62744a814cad691ab74855de4cc673
@


1.26
log
@update to a newer github version of get_flash_videos
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/10/24 16:56:32 nigel Exp $
d23 1
@


1.25
log
@Update for p5-libwww 6.08, update to later version.
Ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/08/07 21:32:13 naddy Exp $
d3 1
a3 1
COMMENT=		download flash video files from various sites
d5 5
a9 7
DISTNAME=		App-get_flash_videos-1.24.20130320
PKGNAME=		get_flash_videos-1.24.20130320
REVISION=		0
#DISTNAME=		monsieurvideo-get-flash-videos-v1.24_02-292-gc52cdf6
#PKGNAME=		get_flash_videos-1.24.20121012
#WRKDIST=		${WRKDIR}/monsieurvideo-get-flash-videos-c52cdf6
CATEGORIES=		multimedia
d11 1
a11 1
HOMEPAGE=		https://get-flash-videos.googlecode.com/
d13 1
a13 1
MAINTAINER=		Stuart Henderson <sthen@@openbsd.org>
d18 23
a40 25
MODULES=		cpan
CPAN_AUTHOR=		MONSIEUR
# git checkout
#MASTER_SITES=		http://spacehopper.org/mirrors/
#MASTER_SITES=		https://github.com/downloads/njtaylor/get-flash-videos/
# No CPAN version yet....
MASTER_SITES=		${HOMEPAGE}files/

BUILD_DEPENDS=		devel/p5-Tie-IxHash
RUN_DEPENDS=		devel/p5-Module-Find \
			devel/p5-Term-ReadKey \
			devel/p5-Tie-IxHash \
			multimedia/p5-Data-AMF \
			multimedia/p5-Storable-AMF \
			rtmpdump-*|flvstreamer-*:net/rtmpdump \
			security/p5-Crypt-Blowfish_PP \
			security/p5-Crypt-Rijndael \
			security/p5-Digest-HMAC \
			textproc/p5-XML-Simple \
			security/p5-IO-Socket-SSL \
			www/p5-libwww \
			www/p5-LWP-Protocol-https \
			www/p5-LWP-Protocol-socks \
			www/p5-URI \
			www/p5-WWW-Mechanize
@


1.24
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/11 11:35:43 espie Exp $
d5 2
a6 2
DISTNAME=		App-get_flash_videos-1.24.20121020
PKGNAME=		get_flash_videos-1.24.20121020
d24 3
a26 1
MASTER_SITES=		https://github.com/downloads/njtaylor/get-flash-videos/
d29 2
a30 1
RUN_DEPENDS=		devel/p5-Term-ReadKey \
a31 1
			multimedia/p5-AMF-Connection \
d37 1
d39 1
d41 1
@


1.23
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/10/22 12:32:15 nigel Exp $
d7 1
d13 1
a13 1
HOMEPAGE=		http://get-flash-videos.googlecode.com/
@


1.22
log
@Fixes for Youtube, Svtplay, vimeo. From monsieurvideo pending pull requests.

Ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/10/12 20:31:45 sthen Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.21
log
@update get-flash-videos to a newer snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/09/27 23:35:49 sthen Exp $
d5 5
a9 3
DISTNAME=		monsieurvideo-get-flash-videos-v1.24_02-292-gc52cdf6
PKGNAME=		get_flash_videos-1.24.20121012
WRKDIST=		${WRKDIR}/monsieurvideo-get-flash-videos-c52cdf6
d25 2
a26 2
MASTER_SITES=		http://spacehopper.org/mirrors/
#MASTER_SITES=		https://github.com/downloads/njtaylor/get-flash-videos/
@


1.20
log
@unbreak youtube with get_flash_videos; they now require a signature url param.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/07/16 10:14:28 sthen Exp $
d5 3
a7 4
DISTNAME=		monsieurvideo-get-flash-videos-v1.24_02-268-g162d964
PKGNAME=		get_flash_videos-1.24.20120716
REVISION=		0
WRKDIST=		${WRKDIR}/monsieurvideo-get-flash-videos-162d964
@


1.19
log
@update to a newer git checkout, various updates to sites and notably a fix
for Vimeo. ok phessler@@ (who reported the Vimeo problem and pulled a diff from
upstream, but there are enough other fixes to warrant a full update).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/04/28 14:14:49 ajacoutot Exp $
d7 1
@


1.18
log
@Add a RUN_DEPENDS on rtmpdump (default) or flvstreamer.
This is required for some formats.

Adapt DESCR accordingly.

input and ok sthen@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/03/13 00:43:55 nigel Exp $
d5 3
a7 2
DISTNAME=		App-get_flash_videos-1.24.20120309
PKGNAME=		${DISTNAME:S/App-//}
a9 2
REVISION=		0

d23 2
a24 2
#MASTER_SITES=		http://spacehopper.org/mirrors/
MASTER_SITES=		https://github.com/downloads/njtaylor/get-flash-videos/
@


1.17
log
@Update for Channel 4 - 4od site change, Arte XML handling,
Google Video Search

oOk sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/01/30 11:46:36 nigel Exp $
d9 2
d33 1
@


1.16
log
@Update for Channel4 and Itv Sites.

Ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/01/24 22:19:28 sthen Exp $
d5 1
a5 1
DISTNAME=		App-get_flash_videos-1.24.20120129
@


1.15
log
@switch to a different tarball from nigel@@'s tree.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/01/24 11:59:57 sthen Exp $
d5 2
a6 4
DISTNAME=		App-get_flash_videos-1.24.20120120
#PKGNAME=		${DISTNAME:S/App-//}
PKGNAME=		get_flash_videos-1.24.20120124
REVISION=		0
@


1.14
log
@update to a newer get_flash_videos snapshot

- UK users: adds support for c4, pointed out by nigel@@

- add a patch to deal with the "simple browser" fallback webpage that
gets sent when requests hit youtube via the youtu.be redirector,
pointed out by Antti Harri
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/12/17 19:55:10 sthen Exp $
d5 4
a8 2
DISTNAME=		App-get_flash_videos-1.24.20120124
PKGNAME=		${DISTNAME:S/App-//}
d24 2
a25 1
MASTER_SITES=		http://spacehopper.org/mirrors/
d30 1
d32 1
@


1.13
log
@Fix a typo causing an error message. Noticed when investigating search
breakage due to Google changes, reported by Antti Harri (this diff doesn't
fix searches though).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/11/22 16:22:22 sthen Exp $
d5 1
a5 2
DISTNAME=		App-get_flash_videos-1.24.20111112
REVISION=		0
d28 1
d40 3
@


1.12
log
@update to newer get-flash-videos snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/11/02 12:40:32 sthen Exp $
d6 1
@


1.11
log
@allow HD downloads from vimeo where available; from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/10/09 20:14:28 sthen Exp $
d5 1
a5 1
DISTNAME=		App-get_flash_videos-1.24.20110712
a6 1
REVISION=		3
@


1.10
log
@add upstream patch: Get Youtube video title from video info - restores
sane filenames.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/09/19 12:40:06 sthen Exp $
d7 1
a7 1
REVISION=		2
@


1.9
log
@fix get_flash_videos issue on youtube pages with utf8, reported by Antti Harri.
From swdyh's g-f-v fork on github
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/08/16 08:23:09 sthen Exp $
d7 1
a7 1
REVISION=		1
@


1.8
log
@fix following youtube changes; patch pointed out by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/07/12 13:02:28 sthen Exp $
d7 1
a7 1
REVISION=		0
@


1.7
log
@update to a snapshot, supports more sites etc.
Additional testing by laurent@@, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/03/11 00:39:44 sthen Exp $
d7 1
@


1.7.2.1
log
@Fix youtube functionality in OPENBSD_5_0, original commit by sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/08/16 08:23:09 sthen Exp $
a6 1
REVISION=		0
@


1.6
log
@add deps on p5-XML-Simple and p5-LWP-Protocol-socks;
thanks Antti Harri and Nigel Taylor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/03/07 23:50:09 sthen Exp $
d5 1
a5 1
DISTNAME=		App-get_flash_videos-1.24
a6 1
REVISION =		1
d14 1
a14 1
PERMIT_PACKAGE_CDROM=	Yes 
d21 2
a22 1
USE_GROFF=		Yes
@


1.5
log
@- add dependencies on new ports to provide support for sites using AMF
and working with SOCKS proxies

- add some updates (also in upstream git repository) for brightcove
and itv.

All from Nigel Taylor, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/12/13 12:00:33 jasper Exp $
d7 1
a7 1
REVISION =		0
a23 2
# optional deps, not in ports yet:
# LWP::Protocol::socks (for socks proxies)
d29 1
d31 1
@


1.4
log
@- PKG_ARCH is taken care of by cpan.port.mk

ok sthen@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/12/02 21:49:28 sthen Exp $
d7 1
a24 1
# Data::AMF::Packet (for nbc)
d29 2
@


1.3
log
@- update get_flash_videos to 1.24
- switch to the modular version on CPAN, as well as being better for
patching if necessary, this also includes regression tests and a manual
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/11/19 07:23:13 espie Exp $
a31 2

PKG_ARCH=		*
@


1.2
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/10/19 08:09:16 sthen Exp $
d5 2
a6 2
DISTNAME=		get_flash_videos-1.23
EXTRACT_SUFX=
d19 3
a21 3
# any patches sent upstream should be against the modular source,
# see http://github.com/monsieurvideo/get-flash-videos
MASTER_SITES=		${HOMEPAGE}files/
d26 1
d28 1
a32 2
NO_BUILD=		Yes
NO_REGRESS=		Yes
a33 1
WRKDIST=		${WRKDIR}
d35 4
a38 5
do-extract:
	cp ${DISTDIR}/${DISTNAME} ${WRKSRC}/get_flash_videos

do-install:
	${INSTALL_SCRIPT} ${WRKSRC}/get_flash_videos ${PREFIX}/bin
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/09/27 20:20:35 sthen Exp $
d26 4
a29 4
RUN_DEPENDS=		::devel/p5-Term-ReadKey \
			::www/p5-libwww \
			::www/p5-URI \
			::www/p5-WWW-Mechanize
@


1.1.1.1
log
@import ports/multimedia/get_flash_videos, suggestions/ok jasper@@

Download or play videos from various Flash-based video hosting
sites, without having to use the Flash player. You may optionally
install rtmpdump to allow download from additional sites.
@
text
@@
