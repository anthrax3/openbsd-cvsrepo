head	1.43;
access;
symbols
	OPENBSD_6_1:1.43.0.2
	OPENBSD_6_1_BASE:1.43
	OPENBSD_6_0:1.41.0.2
	OPENBSD_6_0_BASE:1.41
	OPENBSD_5_9:1.40.0.2
	OPENBSD_5_9_BASE:1.40
	OPENBSD_5_8:1.39.0.4
	OPENBSD_5_8_BASE:1.39
	OPENBSD_5_7:1.36.0.6
	OPENBSD_5_7_BASE:1.36
	OPENBSD_5_6:1.36.0.4
	OPENBSD_5_6_BASE:1.36
	OPENBSD_5_5:1.36.0.2
	OPENBSD_5_5_BASE:1.36
	OPENBSD_5_4:1.35.0.2
	OPENBSD_5_4_BASE:1.35
	OPENBSD_5_3:1.34.0.2
	OPENBSD_5_3_BASE:1.34
	OPENBSD_5_2:1.33.0.2
	OPENBSD_5_2_BASE:1.33
	OPENBSD_5_1_BASE:1.31
	OPENBSD_5_1:1.31.0.2
	OPENBSD_5_0:1.26.0.2
	OPENBSD_5_0_BASE:1.26
	OPENBSD_4_9:1.24.0.2
	OPENBSD_4_9_BASE:1.24
	OPENBSD_4_8:1.22.0.2
	OPENBSD_4_8_BASE:1.22
	OPENBSD_4_7:1.20.0.2
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.16.0.2
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.13.0.2
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.10.0.2
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	ajacoutot_20071115:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.43
date	2017.01.03.19.23.48;	author landry;	state Exp;
branches;
next	1.42;
commitid	UIdF62x2zabAFZjG;

1.42
date	2016.08.27.16.49.48;	author ajacoutot;	state Exp;
branches;
next	1.41;
commitid	BEO5GyMBI0AIWg5d;

1.41
date	2016.04.12.15.54.26;	author ajacoutot;	state Exp;
branches;
next	1.40;
commitid	iwTqLglIoRLfpSmN;

1.40
date	2015.12.30.13.02.24;	author ajacoutot;	state Exp;
branches;
next	1.39;
commitid	RUw4TWyUKB3wCmdf;

1.39
date	2015.07.26.12.32.37;	author ajacoutot;	state Exp;
branches;
next	1.38;
commitid	OMF5UsCSXWVMw1rA;

1.38
date	2015.06.18.09.03.33;	author ajacoutot;	state Exp;
branches;
next	1.37;
commitid	vpNgNLdUvfemthuO;

1.37
date	2015.04.04.09.21.02;	author ajacoutot;	state Exp;
branches;
next	1.36;
commitid	kS3kwKZogsvzYmEY;

1.36
date	2013.09.10.13.26.46;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2013.03.11.11.35.43;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2012.11.08.07.18.39;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2012.06.19.10.29.01;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2012.05.23.07.50.59;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2011.12.31.08.14.33;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2011.12.09.07.25.58;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2011.11.27.16.53.55;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2011.11.22.08.55.23;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2011.09.16.10.31.23;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2011.06.20.13.24.28;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2011.06.08.18.18.13;	author rpointel;	state Exp;
branches;
next	1.24;

1.24
date	2010.11.19.07.23.12;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2010.08.30.17.46.56;	author fgsch;	state Exp;
branches;
next	1.22;

1.22
date	2010.03.23.21.48.41;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2010.03.21.10.48.10;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2009.12.22.15.46.59;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2009.11.27.18.14.48;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2009.08.07.17.19.14;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.07.20.09.05.12;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2009.05.25.18.14.07;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.05.15.08.11.59;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.03.25.13.39.40;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2009.01.25.16.14.25;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2008.08.24.22.02.26;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2008.08.20.08.30.36;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2008.06.24.10.43.21;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2008.05.26.13.49.59;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2008.04.16.13.35.23;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2008.03.24.13.31.59;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2007.12.12.14.24.19;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2007.12.09.14.32.46;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2007.11.22.09.36.43;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.18.10.23.55;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2007.11.17.11.06.14;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2007.11.15.15.55.15;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.11.15.15.55.15;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.43
log
@bump ports depending on python3 in math, misc and multimedia
@
text
@# $OpenBSD: Makefile,v 1.42 2016/08/27 16:49:48 ajacoutot Exp $

COMMENT=		video DVDs and CDs creation tool

MODPY_EGG_VERSION=	${GH_TAGNAME}
DISTNAME=		devede-${MODPY_EGG_VERSION}
REVISION=		0

GH_TAGNAME=		4.8.0
GH_ACCOUNT=		rastersoft
GH_PROJECT=		devedeng

CATEGORIES=		multimedia x11

HOMEPAGE=		http://www.rastersoft.com/programas/devede.html

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

MODULES=		lang/python

MODPY_ADJ_FILES=	src/devede_ng.py
MODPY_VERSION=		${MODPY_DEFAULT_VERSION_3}

BUILD_DEPENDS=		devel/gettext-tools

# needed because NO_BUILD is set below
BUILD_DEPENDS +=	${_MODPY_BUILD_DEPENDS}

RUN_DEPENDS=		devel/desktop-file-utils \
			devel/py-gobject3${MODPY_FLAVOR}

# pygobject GTK3 introspection (not provided by indirect dependencies)
RUN_DEPENDS +=		x11/gtk+3

PKG_ARCH=		*
NO_BUILD=		Yes
NO_TEST=		Yes

pre-configure:
	${SUBST_CMD} ${WRKSRC}/setup.py \
		${WRKSRC}/src/devedeng/configuration_data.py

post-install:
	cd ${PREFIX}/bin && ln -s devede_ng.py devede

.include <bsd.port.mk>
@


1.42
log
@Update to devede-4.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2016/04/12 15:54:26 ajacoutot Exp $
d7 1
@


1.41
log
@Update to devede-4.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2015/12/30 13:02:24 ajacoutot Exp $
d8 1
a8 1
GH_TAGNAME=		4.6.1
@


1.40
log
@Update to devede-4.4.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2015/07/26 12:32:37 ajacoutot Exp $
d8 1
a8 1
GH_TAGNAME=		4.4.0
@


1.39
log
@Needs devel/gettext-tools.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2015/06/18 09:03:33 ajacoutot Exp $
d8 1
a8 1
GH_TAGNAME=		4.0
a43 2
	rmdir ${PREFIX}/share/doc/devede_ng/html
	rmdir ${PREFIX}/share/doc/devede_ng
@


1.38
log
@Update to devede-4.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2015/04/04 09:21:02 ajacoutot Exp $
d23 2
@


1.37
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/09/10 13:26:46 ajacoutot Exp $
d3 1
a3 1
COMMENT=	video DVDs and CDs creation tool
d5 2
a6 2
DISTNAME=	devede-3.23.0
REVISION=	1
d8 3
a10 1
CATEGORIES=	multimedia x11
d12 1
a12 1
EXTRACT_SUFX=	.tar.bz2
d14 1
a14 1
HOMEPAGE=	http://www.rastersoft.com/programas/devede.html
d19 1
a19 1
MASTER_SITES=	http://www.rastersoft.com/descargas/
d21 2
a22 1
MODULES=	lang/python
d24 2
a25 12
RUN_DEPENDS=	devel/desktop-file-utils \
		devel/xdg-utils \
		graphics/vcdimager \
		multimedia/dvdauthor \
		sysutils/cdrtools \
		x11/dbus-python \
		x11/mplayer \
		x11/py-gtk2

PKG_ARCH=	*
NO_BUILD=	Yes
NO_TEST=	Yes
d27 2
a28 1
MODPY_ADJ_FILES=devede
d30 6
a35 1
SUBST_VARS=	^MODPY_SITEPKG
d38 7
a44 9
	@@find ${WRKSRC} -name \*.py | \
		xargs perl -pi -e 's,/usr/bin/env python,${MODPY_BIN},g'
	${SUBST_CMD} \
		${WRKSRC}/{devede_other,devede_executor,devede,devede_fonts}.py

do-install:
	cd ${WRKSRC} && \
		/bin/sh install.sh prefix=${TRUEPREFIX} uninstall=no
	find ${PREFIX} -name \*.orig -or -name \*~ | xargs rm
@


1.36
log
@Bump after dbus-python got renamed to py-dbus.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/03/11 11:35:43 espie Exp $
d6 1
a6 1
REVISION=	0
@


1.35
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2012/11/08 07:18:39 ajacoutot Exp $
d6 1
@


1.34
log
@Update to devede-3.23.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2012/06/19 10:29:01 ajacoutot Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d31 1
a31 1
NO_REGRESS=	Yes
@


1.33
log
@Add missing dependency on x11/dbus-python; reported by "silversidhe".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2012/05/23 07:50:59 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	devede-3.22.0
REVISION=	0
d23 3
a25 1
RUN_DEPENDS=	x11/py-gtk2 \
a26 1
		graphics/vcdimager \
d28 1
d30 1
a30 3
		devel/xdg-utils \
		devel/desktop-file-utils \
		x11/dbus-python
@


1.32
log
@Update to devede-3.22.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/12/31 08:14:33 ajacoutot Exp $
d6 1
d30 2
a31 1
		devel/desktop-file-utils
@


1.31
log
@Update to devede-3.21.0.
* uses FFmpeg by default instead of mencoder
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/12/09 07:25:58 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.21.0
d27 1
a27 1
		graphics/ffmpeg \
a30 4
.if ${MACHINE_ARCH} == "i386"
RUN_DEPENDS+=	devel/py-psyco
PKG_ARCH=	${MACHINE_ARCH},${ARCH}
.else
a31 2
.endif

d34 2
@


1.30
log
@Bugfix update to devede-3.20.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/11/27 16:53:55 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.20.0
d27 1
a27 1
		x11/mplayer \
a36 2

WRKDIST=	${WRKDIR}/devede
@


1.29
log
@Bugfix update to devede-3.19.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/11/22 08:55:23 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.19.0
@


1.28
log
@Update to devede-3.18.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/09/16 10:31:23 espie Exp $
d5 1
a5 1
DISTNAME=	devede-3.18.0
@


1.27
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/06/20 13:24:28 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	devede-3.16.9
REVISION=		0
d38 2
d53 1
a53 1
		/bin/sh install.sh prefix=${TRUEPREFIX} libdir=${MODPY_SITEPKG} uninstall=no
@


1.26
log
@Update to devede-3.16.9.
Drop maintainership.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/06/08 18:18:13 rpointel Exp $
d6 1
@


1.25
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/11/19 07:23:12 espie Exp $
d5 1
a5 2
DISTNAME=	devede-3.16.6
REVISION =	1
a9 2

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
@


1.24
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/08/30 17:46:56 fgsch Exp $
d6 1
a6 1
REVISION =	0
@


1.23
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/03/23 21:48:41 ajacoutot Exp $
d26 7
a32 7
RUN_DEPENDS=	::x11/py-gtk2 \
		::multimedia/dvdauthor \
		::graphics/vcdimager \
		::sysutils/cdrtools \
		::x11/mplayer \
		::devel/xdg-utils \
		:desktop-file-utils-*:devel/desktop-file-utils
d35 1
a35 1
RUN_DEPENDS+=	::devel/py-psyco
@


1.22
log
@Unbreak by updating to devede-3.16.6.

breakage spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/03/21 10:48:10 ajacoutot Exp $
d6 1
@


1.21
log
@Update to devede-3.16.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/12/22 15:46:59 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.16.4
@


1.20
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/11/27 18:14:48 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	devede-3.15.0
PKGNAME=	${DISTNAME}p0
@


1.19
log
@Update to devede-3.15.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/08/07 17:19:14 ajacoutot Exp $
d6 2
@


1.18
log
@Fix py-psyco support.
Fix path to fonts.

from FreeBSD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/07/20 09:05:12 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	devede-3.14.0
PKGNAME=	${DISTNAME}p0
@


1.17
log
@Update to devede-3.14.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/05/25 18:14:07 ajacoutot Exp $
d6 1
d48 2
a49 1
	${SUBST_CMD} ${WRKSRC}/{devede_other,devede_executor,devede}.py
@


1.16
log
@- minor update to devede-3.13.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/05/15 08:11:59 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.13.1
@


1.15
log
@- update to devede-3.13.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/03/25 13:39:40 jasper Exp $
d5 1
a5 1
DISTNAME=	devede-3.13.0
d52 1
@


1.14
log
@- more missing package name bumps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/01/25 16:14:25 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	devede-3.12
PKGNAME=	${DISTNAME}p0
d29 1
@


1.13
log
@- minor update to devede-3.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/08/24 22:02:26 ajacoutot Exp $
d6 1
@


1.12
log
@- bugfix update to DeVeDe 3.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/08/20 08:30:36 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.11
@


1.11
log
@- update to devede-3.10 (several enhancements, see changelog in source
for details)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/06/24 10:43:21 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.10
@


1.10
log
@- small bugfix update to devede-3.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/05/26 13:49:59 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.9
@


1.9
log
@- update to devede-3.8
- use SUBST_CMD

* video bitrate is automatically adjusted
* subtitle's language may be specified
* video can be rotated and flipped
* more elegant menu system...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/04/16 13:35:23 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.8
@


1.8
log
@- bugfix update to devede-3.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/03/24 13:31:59 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.7
d41 2
d46 1
a46 4
	@@perl -pi -e 's,!!LOCALBASE!!,${LOCALBASE},g;' \
		-e 's,!!PREFIX!!,${PREFIX},g;' \
		-e 's,!!MODPY_SITEPKG!!,${MODPY_SITEPKG},g' \
		${WRKSRC}/{devede_other,devede_executor,devede}.py
@


1.7
log
@- we have some kind of os.statvfs now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/12/12 14:24:19 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	devede-3.6
PKGNAME=	${DISTNAME}p0
d45 2
a46 1
		-e 's,!!PREFIX!!,${PREFIX},g' \
d50 2
a51 1
	cd ${WRKSRC} && /bin/sh install.sh prefix=${TRUEPREFIX} uninstall=no
@


1.6
log
@- update to devede-3.6
(minor bugfixes)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/12/09 14:32:46 ajacoutot Exp $
d6 1
@


1.5
log
@- minor update to devede-3.5
(compatibility improvement and new/fixed translations)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/11/22 09:36:43 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.5
@


1.4
log
@- update to devede-3.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/11/18 10:23:55 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	devede-3.4
@


1.3
log
@- since os.statvfs is not here to check for us, add a warning about
minimum free space needed for media creation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/11/17 11:06:14 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	devede-3.3
PKGNAME=	${DISTNAME}p1
@


1.2
log
@- don't hardcode path
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/11/15 15:55:15 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d45 3
@


1.1.1.1
log
@Import devede-3.3

DeVeDe is a program to create video DVDs and CDs (VCD, sVCD or CVD),
suitables for home players, from any number of video files, in any of
the formats supported by MPlayer.
@
text
@@
