head	1.54;
access;
symbols
	OPENBSD_6_1:1.46.0.2
	OPENBSD_6_1_BASE:1.46
	OPENBSD_6_0:1.40.0.2
	OPENBSD_6_0_BASE:1.40
	OPENBSD_5_9:1.35.0.2
	OPENBSD_5_9_BASE:1.35
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.30.0.2
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.27.0.2
	OPENBSD_5_6_BASE:1.27
	OPENBSD_5_5:1.24.0.2
	OPENBSD_5_5_BASE:1.24
	OPENBSD_5_4:1.18.0.2
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	ajacoutot_20120906:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.54
date	2017.09.28.21.14.37;	author naddy;	state Exp;
branches;
next	1.53;
commitid	ZP248JLu4Xpn3ESG;

1.53
date	2017.09.19.11.51.50;	author ajacoutot;	state Exp;
branches;
next	1.52;
commitid	LLvNR8KZCxLxj2qf;

1.52
date	2017.09.19.07.26.50;	author ajacoutot;	state Exp;
branches;
next	1.51;
commitid	lIK7FkS4kATd6Ruk;

1.51
date	2017.07.26.22.45.27;	author sthen;	state Exp;
branches;
next	1.50;
commitid	tD4MFrpYYDDL2UFT;

1.50
date	2017.07.16.19.19.00;	author espie;	state Exp;
branches;
next	1.49;
commitid	tt0GhWK5c4uf9ILG;

1.49
date	2017.05.13.10.33.14;	author espie;	state Exp;
branches;
next	1.48;
commitid	xjqcKVpidK6S21C6;

1.48
date	2017.05.08.10.46.53;	author ajacoutot;	state Exp;
branches;
next	1.47;
commitid	IXz5SgR26e4fXSKG;

1.47
date	2017.04.10.11.46.23;	author sthen;	state Exp;
branches;
next	1.46;
commitid	BLsh88fJB8thZTwY;

1.46
date	2017.01.31.03.34.02;	author ajacoutot;	state Exp;
branches;
next	1.45;
commitid	HBrhS7EGYN70KvIJ;

1.45
date	2017.01.20.13.43.47;	author ajacoutot;	state Exp;
branches;
next	1.44;
commitid	38OgWpHDBnHEjePk;

1.44
date	2016.11.30.11.08.02;	author ajacoutot;	state Exp;
branches;
next	1.43;
commitid	jcEpjzlbtY4BLVpj;

1.43
date	2016.11.23.14.52.15;	author dcoppa;	state Exp;
branches;
next	1.42;
commitid	QWGFJlWNBZ6vYTbs;

1.42
date	2016.11.02.22.19.52;	author ajacoutot;	state Exp;
branches;
next	1.41;
commitid	64MVkUCN2JFd3W5G;

1.41
date	2016.10.26.12.35.08;	author ajacoutot;	state Exp;
branches;
next	1.40;
commitid	KLOhQ3DPI5LztBTS;

1.40
date	2016.06.13.11.15.16;	author ajacoutot;	state Exp;
branches
	1.40.2.1;
next	1.39;
commitid	UAcuD5NUIvG3MQ9E;

1.39
date	2016.06.10.02.30.43;	author ajacoutot;	state Exp;
branches;
next	1.38;
commitid	U9lMjvf2AhwVzITq;

1.38
date	2016.06.05.10.49.04;	author landry;	state Exp;
branches;
next	1.37;
commitid	Ft6Wl15bOtP5iUd6;

1.37
date	2016.06.05.10.00.01;	author landry;	state Exp;
branches;
next	1.36;
commitid	tqy8wnwFNFb2jE74;

1.36
date	2016.04.10.10.13.30;	author ajacoutot;	state Exp;
branches;
next	1.35;
commitid	tlmHPHNipuExh86p;

1.35
date	2016.01.21.07.23.58;	author ajacoutot;	state Exp;
branches;
next	1.34;
commitid	ltrmgSPZSXatRn3i;

1.34
date	2016.01.07.17.32.07;	author feinerer;	state Exp;
branches;
next	1.33;
commitid	wKpeNEx8KbTqnDiR;

1.33
date	2015.09.27.08.22.05;	author ajacoutot;	state Exp;
branches;
next	1.32;
commitid	7bFY4OttH7fTnpA1;

1.32
date	2015.08.17.19.52.39;	author sthen;	state Exp;
branches;
next	1.31;
commitid	bdULBh9zZMZltgme;

1.31
date	2015.04.04.09.21.02;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	kS3kwKZogsvzYmEY;

1.30
date	2015.01.07.08.42.04;	author brad;	state Exp;
branches;
next	1.29;
commitid	kNCGaahIDWIisqDK;

1.29
date	2014.11.09.14.46.35;	author ajacoutot;	state Exp;
branches;
next	1.28;
commitid	5jHhxDUTm4eX8nWa;

1.28
date	2014.10.07.16.05.25;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	Wyj5J1wz5v4Mawpu;

1.27
date	2014.04.30.06.13.49;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2014.04.19.17.47.13;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2014.04.01.16.31.41;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2013.11.21.17.00.17;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2013.10.26.08.02.57;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2013.10.06.09.08.18;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2013.09.27.14.36.19;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2013.09.24.18.29.47;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2013.08.30.07.46.55;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2013.07.13.06.49.30;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2013.06.04.15.32.14;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.04.27.14.48.32;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.31.13.19.45;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2013.03.22.17.22.08;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2013.01.08.13.48.54;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2013.01.01.14.23.25;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2012.11.24.08.19.16;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2012.10.25.14.00.40;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2012.10.17.11.49.59;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2012.10.08.12.42.04;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2012.09.26.07.38.57;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2012.09.22.06.09.43;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.09.18.07.54.14;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2012.09.14.08.04.19;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.09.10.17.30.15;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.09.10.11.32.32;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.09.06.13.01.30;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.09.06.13.01.30;	author ajacoutot;	state Exp;
branches;
next	;

1.40.2.1
date	2016.11.24.08.09.01;	author dcoppa;	state Exp;
branches;
next	;
commitid	PPt5qeCKtXrhGBer;


desc
@@


1.54
log
@Unbreak autoconf checks with clang by not using nested functions
@
text
@# $OpenBSD: Makefile,v 1.53 2017/09/19 11:51:50 ajacoutot Exp $

# XXX ossaudio(3) is only enabled to be used as a mixing device by
# x11/xfce4/xfce4-mixer

COMMENT-main=		good elements for GStreamer
COMMENT-pulse=		pulseaudio(1) element for GStreamer

DISTNAME=		gst-plugins-good-${V}
PKGNAME=		${GST_PKGNAME_PREFIX}-plugins-good-${V}

PKGNAME-main=		${PKGNAME}
PKGNAME-pulse=		${GST_PKGNAME_PREFIX}-plugins-pulse-${V}

REVISION-main=		0
REVISION-pulse=		1

MASTER_SITES=		${MASTER_SITE_GST:=gst-plugins-good/}

WANTLIB += ffi glib-2.0 gmodule-2.0 gobject-2.0 gstaudio-1.0 gstbase-1.0
WANTLIB += gstpbutils-1.0 gstreamer-1.0 gsttag-1.0 gstvideo-1.0
WANTLIB += m orc-0.4 pcre pthread z X11 Xext xcb iconv intl execinfo

WANTLIB-main +=	${WANTLIB}
WANTLIB-main += FLAC Xdamage Xfixes bz2 xml2 pthread-stubs
WANTLIB-main += gdk_pixbuf-2.0 gio-2.0 gstcontroller-1.0 lzma
WANTLIB-main += gstfft-1.0 gstnet-1.0 gstriff-1.0 gstrtp-1.0 gstrtsp-1.0 xcb-render
WANTLIB-main += gstallocators-1.0 gstsdp-1.0 jpeg ogg ossaudio png shout soup-2.4
WANTLIB-main += speex sqlite3 ${COMPILER_LIBCXX} tag theora vorbis vpx>=5 wavpack xcb-shm
WANTLIB-main += Xrender cairo cairo-gobject expat fontconfig freetype pixman-1
WANTLIB-main += v4l2 v4lconvert

# comes from multimedia/libvpx using lang/clang MODULE on i386|amd64 only
# which includes gcc4 MODULE with adds gcc-libs in dependency scope
.if ${MACHINE_ARCH:Mi386} || ${MACHINE_ARCH:Mamd64}
WANTLIB-main += $(LIBECXX)
.endif

WANTLIB-pulse += ${WANTLIB}
WANTLIB-pulse += pulse sndfile X11-xcb Xi Xtst ICE FLAC ogg
WANTLIB-pulse += vorbis vorbisenc dbus-1 SM

MULTI_PACKAGES=		-main -pulse

LIB_DEPENDS=		${P}/plugins-base=${V}

LIB_DEPENDS-main=	${LIB_DEPENDS} \
			archivers/bzip2 \
			audio/flac \
			audio/speex \
			audio/taglib \
			audio/wavpack \
			devel/libsoup \
			graphics/gdk-pixbuf2 \
			multimedia/libv4l \
			multimedia/libvpx \
			net/libshout

LIB_DEPENDS-pulse=	${LIB_DEPENDS} \
			audio/pulseaudio
RUN_DEPENDS-pulse=	${BASE_PKGPATH},-main=${V}

CONFIGURE_ARGS=		--disable-aalib \
			--disable-jack \
			--disable-libcaca \
			--disable-libdv \
			--disable-oss4 \
			--disable-sunaudio \
			--disable-waveform \
			--disable-dv1394

pre-configure:
	sed -i 's,/dev/dsp,/dev/audio,g' \
		${WRKSRC}/docs/plugins/gst-plugins-good-plugins.args \
		${WRKSRC}/docs/plugins/html/gst-plugins-good-plugins-osssink.html \
		${WRKSRC}/docs/plugins/html/gst-plugins-good-plugins-osssrc.html \
		${WRKSRC}/sys/oss/gstosssink.c \
		${WRKSRC}/sys/oss/gstosssrc.c

.include <bsd.port.mk>
@


1.53
log
@Sync WANTLIB after recent pulseaudio update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2017/09/19 07:26:50 ajacoutot Exp $
d15 2
a16 1
REVISION-pulse=		0
@


1.52
log
@Update gstreamer1 stack to version 1.12.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2017/07/26 22:45:27 sthen Exp $
d15 2
d39 1
a39 1
WANTLIB-pulse += gdbm pulse sndfile X11-xcb Xi Xtst ICE FLAC ogg
@


1.51
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2017/07/16 19:19:00 espie Exp $
a13 2
REVISION-main=		0
REVISION-pulse=		0
@


1.50
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2017/05/13 10:33:14 espie Exp $
d14 2
@


1.49
log
@vpx builds just fine with base clang instead of ports clang, unhardcode
libestdc++ accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2017/05/08 10:46:53 ajacoutot Exp $
d26 1
a26 1
WANTLIB-main += speex sqlite3 ${LIBCXX} tag theora vorbis vpx>=5 wavpack xcb-shm
@


1.48
log
@Update to gstreamer1-plugins-good-1.12.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2017/04/10 11:46:23 sthen Exp $
d33 1
a33 1
WANTLIB-main += estdc++
@


1.47
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2017/01/31 03:34:02 ajacoutot Exp $
d19 1
a19 1
WANTLIB += m orc-0.4 pcre pthread z X11 Xext xcb iconv intl
d37 2
a38 2
WANTLIB-pulse += execinfo gdbm pulse sndfile X11-xcb Xi Xtst ICE
WANTLIB-pulse += FLAC ogg vorbis vorbisenc dbus-1 SM
@


1.46
log
@Bump to 1.10.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2017/01/20 13:43:47 ajacoutot Exp $
d26 1
a26 1
WANTLIB-main += speex sqlite3 stdc++ tag theora vorbis vpx>=5 wavpack xcb-shm
@


1.45
log
@Regen WANTLIB to unbreak after pulseaudio lost its dependency on json-c.

reported by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2016/11/30 11:08:02 ajacoutot Exp $
a13 2

REVISION-pulse=		0
@


1.44
log
@Bump the gstreamer1 stack to version 1.10.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2016/11/23 14:52:15 dcoppa Exp $
d15 2
d40 1
a40 1
WANTLIB-pulse += FLAC ogg vorbis vorbisenc dbus-1 json-c SM
@


1.43
log
@
Security fix for flxdec: add some write bounds checking

Without checking the bounds of the frame we are writing into, we can
write off the end of the destination buffer.

https://scarybeastsecurity.blogspot.dk/2016/11/0day-exploit-advancing-exploitation.html

https://bugzilla.gnome.org/show_bug.cgi?id=774834

From upstream git

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2016/11/02 22:19:52 ajacoutot Exp $
a13 2

REVISION-main=		0
@


1.42
log
@Update to gstreamer1-plugins-good-1.10.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2016/10/26 12:35:08 ajacoutot Exp $
d14 2
@


1.41
log
@http -> https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2016/06/13 11:15:16 ajacoutot Exp $
a13 2
REVISION-main=		0
REVISION-pulse=		0
@


1.40
log
@Update to gstreamer1-plugins-good-1.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2016/06/10 02:30:43 ajacoutot Exp $
d14 2
@


1.40.2.1
log
@
MFC: security fixes for gstreamer-0.10 and gstreamer1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2016/06/13 11:15:16 ajacoutot Exp $
a13 2

REVISION-main=		0
@


1.39
log
@Unbreak after the estdc++ WANTLIB tweak.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2016/06/05 10:49:04 landry Exp $
a13 3

REVISION-main=		0
REVISION-pulse=		0
@


1.38
log
@Fix previous - since those ports don't directly use gcc4 MODULE,
MODGCC4_CPPWANTLIB cant be defined/used there..

Manually add estdc++ to WANTLIB only on amd64 & i386, with a big comment
explaining why. sigh.

Discussed with sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2016/06/05 10:00:01 landry Exp $
d16 1
d36 1
a36 1
WANTLIB += estdc++
@


1.37
log
@Fix packaging on !(amd64|i386) by using MODGCC4_CPPWANTLIB instead of
estdc++.

Those two ports have multimedia/libvpx in their dependency chain, and
the latter uses lang/clang MODULE but only on i386 & amd64 only, which
in turns adds gcc4 to MODULES and thus adds lang/gcc/4.9,-libs to
LIB_DEPENDS.. but only for i386 & amd64 - thus breaking other archs with
'Missing library for estdc++'.

Using MODGCC4_CPPWANTLIB fixes this, because it is set on archs using
lang/clang, and unset on the others.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2016/04/10 10:13:30 ajacoutot Exp $
d30 7
a36 1
WANTLIB-main += v4l2 v4lconvert ${MODGCC4_CPPWANTLIB}
@


1.36
log
@Update to gstreamer1-plugins-good-1.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2016/01/21 07:23:58 ajacoutot Exp $
d15 2
d30 1
a30 1
WANTLIB-main += v4l2 v4lconvert estdc++
@


1.35
log
@Update to gstreamer1-plugins-good-1.6.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2016/01/07 17:32:07 feinerer Exp $
d19 1
a19 1
WANTLIB += m orc-0.4 pcre pthread z X11 Xext xcb
d28 1
a28 1
WANTLIB-main += v4l2 v4lconvert
@


1.34
log
@Use libv4l

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/09/27 08:22:05 ajacoutot Exp $
a9 1
REVISION=		0
@


1.33
log
@Update to gstreamer1-plugins-good-1.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/08/17 19:52:39 sthen Exp $
d10 1
d29 1
d47 1
@


1.32
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/04/04 09:21:02 ajacoutot Exp $
d14 2
a15 2
REVISION-main=		2
REVISION-pulse=		0
d19 1
a19 1
WANTLIB += m orc-0.4 pcre pthread z ICE SM X11 Xext xcb
d30 2
a31 4
WANTLIB-pulse += execinfo gdbm pulse sndfile X11-xcb Xi Xtst
WANTLIB-pulse += FLAC ogg vorbis vorbisenc dbus-1 json-c

MASTER_SITES=		${MASTER_SITE_GST:=gst-plugins-good/}
d58 2
a59 1
			--disable-waveform
d62 1
a62 1
	perl -pi -e 's,/dev/dsp,/dev/audio,g' \
@


1.31
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/01/07 08:42:04 brad Exp $
d14 1
a14 1
REVISION-main=		1
d25 1
a25 1
WANTLIB-main += gstsdp-1.0 jpeg ogg ossaudio png shout soup-2.4
@


1.30
log
@Re-enable the V4L2 support after the workarounded that was added to
uvideo(4) has been commited.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/11/09 14:46:35 ajacoutot Exp $
d14 2
a15 1
REVISION-main=		0
@


1.29
log
@Update to gstreamer1-plugins-good-1.4.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/10/07 16:05:25 ajacoutot Exp $
d14 1
@


1.28
log
@Update to gstreamer1-plugins-good-1.4.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/04/30 06:13:49 brad Exp $
d21 1
a21 1
WANTLIB-main += gdk_pixbuf-2.0 gio-2.0 gstcontroller-1.0
@


1.27
log
@Require libvpx 1.3.0 so GStreamer builds the VP9 support within
its vpx plugin.

ok ajacotout@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2014/04/19 17:47:13 ajacoutot Exp $
a14 2
REVISION-main=		0

d45 1
a45 1
			multimedia/libvpx>=1.3.0 \
@


1.26
log
@Update to gstreamer1-plugins-good-1.2.4.
Drop v4l2 support since our implementation has never been kept up-to-date.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/04/01 16:31:41 ajacoutot Exp $
d15 2
d26 1
a26 1
WANTLIB-main += speex sqlite3 stdc++ tag theora vorbis vpx wavpack xcb-shm
d47 1
a47 1
			multimedia/libvpx \
@


1.25
log
@Seems I forgot that part in previous rampage...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/11/21 17:00:17 ajacoutot Exp $
a14 3
REVISION-main=		0
REVISION-pulse=		0

d20 2
a21 2
WANTLIB-main += FLAC Xdamage Xfixes Xv bz2 xml2 pthread-stubs
WANTLIB-main += gdk_pixbuf-2.0 gio-2.0 gstcontroller-1.0 gstallocators-1.0
@


1.24
log
@Update to gstreamer1-plugins-good-1.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/10/26 08:02:57 ajacoutot Exp $
d14 3
@


1.23
log
@Fix dependencies and bump after the recent libsoup -gnome => -main merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/10/06 09:08:18 ajacoutot Exp $
a13 3

REVISION-main=		2
REVISION-pulse=		0
@


1.22
log
@Enable orc support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/09/27 14:36:19 ajacoutot Exp $
d15 1
a15 1
REVISION-main=		1
@


1.21
log
@Register conflict with gstreamer1-plugins-bad-<1.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/09/24 18:29:47 ajacoutot Exp $
d15 2
a16 1
REVISION-main=		0
d20 1
a20 1
WANTLIB += m pcre pthread z ICE SM X11 Xext xcb
a61 3

# needs orc >= 0.4.16
CONFIGURE_ARGS +=	--disable-orc
@


1.20
log
@Update to gstreamer1-plugins-good-1.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/08/30 07:46:55 ajacoutot Exp $
d14 2
@


1.19
log
@Update to gstreamer1-plugins-good-1.0.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/07/13 06:49:30 ajacoutot Exp $
d17 1
a17 1
WANTLIB += gthread-2.0 m orc-0.4 pcre pthread z ICE SM X11 Xext xcb
d21 1
a21 1
WANTLIB-main += gdk_pixbuf-2.0 gio-2.0 gstcontroller-1.0
d23 1
a23 1
WANTLIB-main += gstsdp-1.0 jpeg ogg ossaudio png shout soup-2.4 soup-gnome-2.4
d35 1
a35 1
LIB_DEPENDS=		${P}/plugins-base
d43 1
a43 1
			devel/libsoup,-gnome \
d49 1
a49 1
			audio/pulseaudio>=2.1
d59 3
@


1.18
log
@Update to streamer1-plugins-good-1.0.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/06/04 15:32:14 ajacoutot Exp $
a8 1
V=			1.0.8
@


1.17
log
@Bump after the pulseaudio update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/04/27 14:48:32 ajacoutot Exp $
d9 1
a9 1
V=			1.0.7
a15 2
REVISION-pulse=		0

d29 2
a30 2
WANTLIB-pulse += execinfo gdbm json pulse sndfile X11-xcb Xi Xtst
WANTLIB-pulse += FLAC ogg vorbis vorbisenc
@


1.16
log
@Update to gstreamer1-plugins-good-1.0.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/31 13:19:45 ajacoutot Exp $
d15 2
@


1.15
log
@Unbreak by fixing WANTLIB.

reported by sthen@@ and rpe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/03/22 17:22:08 ajacoutot Exp $
d9 1
a9 1
V=			1.0.6
a14 2

REVISION-main=		0
@


1.14
log
@Update to gstreamer1-plugins-good-1.0.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/01/08 13:48:54 ajacoutot Exp $
d16 2
d23 2
a24 2
WANTLIB-main += FLAC Xdamage Xfixes Xv bz2 dbus-1 gcrypt xml2 pthread-stubs
WANTLIB-main += gdk_pixbuf-2.0 gio-2.0 gnome-keyring gpg-error gstcontroller-1.0
@


1.13
log
@Update to gstreamer1-plugins-good-1.0.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/01/01 14:23:25 ajacoutot Exp $
d9 1
a9 1
V=			1.0.5
d21 1
a21 1
WANTLIB-main += FLAC Xdamage Xfixes Xv bz2 dbus-1 gcrypt xml2
d23 1
a23 1
WANTLIB-main += gstfft-1.0 gstnet-1.0 gstriff-1.0 gstrtp-1.0 gstrtsp-1.0
d26 1
a26 2
WANTLIB-main += GL Xau Xdmcp Xrender Xxf86vm cairo cairo-gobject drm
WANTLIB-main += expat fontconfig freetype pixman-1 pthread-stubs xcb-render
d30 1
@


1.12
log
@Bump after the pulseaudio update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/11/24 08:19:16 ajacoutot Exp $
d4 1
a4 1
# audio/pulseaudio and x11/xfce4/xfce4-mixer
d9 1
a9 1
V=			1.0.3
a15 2
REVISION-pulse=		0

d18 1
a18 1
WANTLIB += gthread-2.0 m orc-0.4 pcre pthread z
d21 1
a21 1
WANTLIB-main += FLAC ICE SM X11 Xdamage Xext Xfixes Xv bz2 dbus-1 gcrypt
d25 3
a27 2
WANTLIB-main += speex sqlite3 stdc++ tag theora vorbis vpx wavpack xcb
WANTLIB-main += xml2
d30 1
a30 1
WANTLIB-pulse += execinfo gdbm json pulse sndfile
@


1.11
log
@Update to gstreamer1-plugins-good-1.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2012/10/25 14:00:40 ajacoutot Exp $
d15 2
@


1.10
log
@Updtae to gstreamer1-plugins-good-1.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/10/17 11:49:59 ajacoutot Exp $
d9 1
a9 1
V=			1.0.2
@


1.9
log
@Bump pulseaudio requirements.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/10/08 12:42:04 ajacoutot Exp $
d9 1
a9 1
V=			1.0.1
a14 2

REVISION-pulse=		0
@


1.8
log
@Update to gstreamer1-plugins-good-1.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/09/26 07:38:57 ajacoutot Exp $
d16 2
d51 1
a51 1
			audio/pulseaudio
@


1.7
log
@Update to stable gstreamer1-plugins-good-1.0.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/09/22 06:09:43 ajacoutot Exp $
d9 1
a9 1
V=			1.0.0
@


1.6
log
@Remove broken sndio(7) support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/09/18 07:54:14 ajacoutot Exp $
d9 1
a9 1
V=			0.11.99
a14 2

REVISION-main=		0
@


1.5
log
@Update to gstreamer1-plugins-good-0.11.99.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/09/14 08:04:19 ajacoutot Exp $
d16 2
a61 12
### SNDIO ###
CONFIGURE_ARGS +=	--disable-sndio # XXX someone will need to port this
CONFIGURE_STYLE +=	gnu
AUTOMAKE_VERSION=	1.12
BUILD_DEPENDS +=	${MODGNU_AUTOMAKE_DEPENDS} \
			${MODGNU_AUTOCONF_DEPENDS}
BUILD_DEPENDS +=	devel/libtool # needs needs libtoolize

post-extract:
	cp -R ${FILESDIR} ${WRKSRC}/ext/sndio

# autopoint(1) uses HOME, make sure it exists
a62 7
	cd ${WRKSRC} && HOME=${WRKDIST} \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		AUTOMAKE=automake-${AUTOMAKE_VERSION} \
		NOCONFIGURE="true" \
		${CONFIGURE_ENV} ./autogen.sh ${CONFIGURE_ARGS}
### END SNDIO ###
@


1.4
log
@Update to gstreamer1-plugins-good-0.11.94.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/09/10 17:30:15 ajacoutot Exp $
d9 1
a9 1
V=			0.11.94
d25 1
a25 1
WANTLIB-main += speex sqlite3 stdc++ tag theora vorbis wavpack xcb
d45 1
@


1.3
log
@Make RUN_DEPENDS-pulse depend on the same version as -main.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/09/10 11:32:32 ajacoutot Exp $
d9 1
a9 1
V=			0.11.93
a15 3
REVISION-main=		0
REVISION-pulse=		0

d22 5
a26 4
WANTLIB-main += gio-2.0 gnome-keyring gpg-error gstfft-1.0 gstnet-1.0
WANTLIB-main += gstriff-1.0 gstrtp-1.0 gstrtsp-1.0 gstsdp-1.0 jpeg
WANTLIB-main += ogg ossaudio png shout soup-2.4 soup-gnome-2.4 speex
WANTLIB-main += sqlite3 stdc++ tag theora vorbis wavpack xcb xml2
d44 1
a44 1
			graphics/jpeg \
@


1.2
log
@Enable pulseaudio(1) and put it into its own subpackage:
gstreamer1-plugins-pulse
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/09/06 13:01:30 ajacoutot Exp $
d17 1
d51 1
a51 1
RUN_DEPENDS-pulse=	${BASE_PKGPATH},-main
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 2
a7 1
COMMENT=		good elements for GStreamer
d13 18
a30 8
WANTLIB += FLAC ICE SM X11 Xdamage Xext Xfixes Xv bz2 dbus-1 ffi
WANTLIB += gcrypt gio-2.0 glib-2.0 gmodule-2.0 gnome-keyring gobject-2.0
WANTLIB += gpg-error gstaudio-1.0 gstbase-1.0 gstfft-1.0 gstnet-1.0
WANTLIB += gstpbutils-1.0 gstreamer-1.0 gstriff-1.0 gstrtp-1.0
WANTLIB += gstrtsp-1.0 gstsdp-1.0 gsttag-1.0 gstvideo-1.0 gthread-2.0
WANTLIB += jpeg m ogg orc-0.4 ossaudio pcre png pthread shout
WANTLIB += soup-2.4 soup-gnome-2.4 speex sqlite3 stdc++ tag theora
WANTLIB += vorbis wavpack xcb xml2 z
d34 5
a38 1
LIB_DEPENDS=		${P}/plugins-base \
d48 4
a56 1
			--disable-pulse \
@


1.1.1.1
log
@Import gstreamer1-plugins-good-0.11.93.

ok jasper@@
@
text
@@
