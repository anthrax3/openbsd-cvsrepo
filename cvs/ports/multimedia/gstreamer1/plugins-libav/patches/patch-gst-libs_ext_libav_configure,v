head	1.14;
access;
symbols
	OPENBSD_6_2:1.14.0.2
	OPENBSD_6_2_BASE:1.14
	OPENBSD_6_1:1.13.0.2
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.11.0.2
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.8.0.4
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.7.0.2
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.6.0.2
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.5.0.2
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	ajacoutot_20120915:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.14
date	2017.06.20.11.48.53;	author ajacoutot;	state Exp;
branches;
next	1.13;
commitid	T8syi8D8ZjaI1ZCp;

1.13
date	2016.11.30.11.08.02;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	jcEpjzlbtY4BLVpj;

1.12
date	2016.11.02.22.21.35;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	pMBVr47W44BJ3fgb;

1.11
date	2016.06.13.11.16.17;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	xQpimEGQVa0Gyi6a;

1.10
date	2016.04.10.10.14.12;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	LOPE5zkGzXwLR3I8;

1.9
date	2015.09.27.08.22.42;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	G6vWT8X6sD2LpNzG;

1.8
date	2015.05.22.06.40.19;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	5wX6Wih1rcU9lh7f;

1.7
date	2014.10.07.16.06.09;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	h2iidnqDD0fsUg3h;

1.6
date	2014.04.19.17.48.24;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2013.09.24.18.30.47;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2013.04.27.14.49.21;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.22.17.22.50;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2013.01.27.09.12.55;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2012.09.15.12.24.16;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.09.15.12.24.16;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.14
log
@Update the gstreamer1 gang to version 1.12.1.
@
text
@$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.13 2016/11/30 11:08:02 ajacoutot Exp $
Index: gst-libs/ext/libav/configure
--- gst-libs/ext/libav/configure.orig
+++ gst-libs/ext/libav/configure
@@@@ -5180,7 +5180,7 @@@@ EOF
     exit 1
 fi
 
-disabled optimizations || check_cflags -fomit-frame-pointer
+enabled x86_32 && check_cflags -fomit-frame-pointer
 
 enable_weak_pic() {
     disabled pic && return
@


1.13
log
@Bump the gstreamer1 stack to version 1.10.2.
@
text
@d1 7
a7 6
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.12 2016/11/02 22:21:35 ajacoutot Exp $
--- gst-libs/ext/libav/configure.orig	Tue Nov 29 14:56:08 2016
+++ gst-libs/ext/libav/configure	Wed Nov 30 11:31:45 2016
@@@@ -5097,7 +5097,7 @@@@ die_license_disabled version3 libvo_amrwbenc
 
 enabled version3 && { enabled gpl && enable gplv3 || enable lgplv3; }
@


1.12
log
@Update to gstreamer1-plugins-libav-1.10.0.
@
text
@d1 4
a4 4
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.11 2016/06/13 11:16:17 ajacoutot Exp $
--- gst-libs/ext/libav/configure.orig	Tue Nov  1 17:01:32 2016
+++ gst-libs/ext/libav/configure	Wed Nov  2 21:42:30 2016
@@@@ -5091,7 +5091,7 @@@@ die_license_disabled version3 libvo_amrwbenc
@


1.11
log
@Update to gstreamer1-plugins-libav-1.8.2.
@
text
@d1 4
a4 4
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.10 2016/04/10 10:14:12 ajacoutot Exp $
--- gst-libs/ext/libav/configure.orig	Thu Jun  9 10:26:39 2016
+++ gst-libs/ext/libav/configure	Mon Jun 13 12:51:01 2016
@@@@ -4889,7 +4889,7 @@@@ die_license_disabled version3 libvo_amrwbenc
@


1.10
log
@Update to gstreamer1-plugins-libav-1.8.0.
@
text
@d1 4
a4 4
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.9 2015/09/27 08:22:42 ajacoutot Exp $
--- gst-libs/ext/libav/configure.orig	Thu Mar 24 11:20:00 2016
+++ gst-libs/ext/libav/configure	Sat Apr  9 12:16:13 2016
@@@@ -4896,7 +4896,7 @@@@ die_license_disabled version3 libvo_amrwbenc
@


1.9
log
@Update to gstreamer1-plugins-libav-1.6.0.
@
text
@d1 4
a4 4
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.8 2015/05/22 06:40:19 ajacoutot Exp $
--- gst-libs/ext/libav/configure.orig	Fri Sep 25 23:06:33 2015
+++ gst-libs/ext/libav/configure	Sat Sep 26 11:32:31 2015
@@@@ -4671,7 +4671,7 @@@@ die_license_disabled version3 libvo_amrwbenc
@


1.8
log
@Sync with ffmpeg configure patch.
@
text
@d1 4
a4 4
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.7 2014/10/07 16:06:09 ajacoutot Exp $
--- gst-libs/ext/libav/configure.orig	Wed Sep 24 10:55:09 2014
+++ gst-libs/ext/libav/configure	Tue Oct  7 17:20:02 2014
@@@@ -3552,7 +3552,7 @@@@ die_license_disabled version3 libvo_amrwbenc
@


1.7
log
@Update to gstreamer1-plugins-libav-1.4.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.6 2014/04/19 17:48:24 ajacoutot Exp $
a12 19
@@@@ -4073,7 +4073,6 @@@@ check_disable_warning -Wno-pointer-sign
 # add some linker flags
 check_ldflags -Wl,--warn-common
 check_ldflags -Wl,-rpath-link=libswscale:libavfilter:libavdevice:libavformat:libavcodec:libavutil:libavresample
-test_ldflags -Wl,-Bsymbolic && append SHFLAGS -Wl,-Bsymbolic
 
 # add some strip flags
 # -wN '..@@*' is more selective than -x, but not available everywhere.
@@@@ -4118,10 +4117,6 @@@@ fi
 if [ -z "$optflags" ]; then
     if enabled small; then
         optflags=$cflags_size
-    elif enabled optimizations; then
-        optflags=$cflags_speed
-    else
-        optflags=$cflags_noopt
     fi
 fi
 
@


1.6
log
@Update to gstreamer1-plugins-libav-1.2.4.
@
text
@d1 4
a4 4
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.5 2013/09/24 18:30:47 ajacoutot Exp $
--- gst-libs/ext/libav/configure.orig	Fri Apr 18 12:30:33 2014
+++ gst-libs/ext/libav/configure	Sat Apr 19 19:11:10 2014
@@@@ -3143,7 +3143,7 @@@@ die_license_disabled version3 libvo_amrwbenc
d11 3
a13 3
 enable_pic() {
     enable pic
@@@@ -3619,7 +3619,6 @@@@ enabled extra_warnings && check_cflags -Winline
d19 3
a21 3
 enabled xmm_clobber_test &&
     check_ldflags -Wl,--wrap,avcodec_open2              \
@@@@ -3648,10 +3647,6 @@@@ fi
@


1.5
log
@Update to gstreamer1-plugins-libav-1.2.0.
@
text
@d1 4
a4 4
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.4 2013/04/27 14:49:21 ajacoutot Exp $
--- gst-libs/ext/libav/configure.orig	Tue Sep 24 14:41:14 2013
+++ gst-libs/ext/libav/configure	Tue Sep 24 18:28:02 2013
@@@@ -3132,7 +3132,7 @@@@ die_license_disabled version3 libvo_amrwbenc
d13 1
a13 1
@@@@ -3608,7 +3608,6 @@@@ enabled extra_warnings && check_cflags -Winline
d21 1
a21 1
@@@@ -3637,10 +3636,6 @@@@ fi
@


1.4
log
@Update to gstreamer1-plugins-libav-1.0.7.
@
text
@d1 4
a4 4
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.3 2013/03/22 17:22:50 ajacoutot Exp $
--- gst-libs/ext/libav/configure.orig	Fri Apr 26 13:29:24 2013
+++ gst-libs/ext/libav/configure	Sat Apr 27 16:33:50 2013
@@@@ -2624,7 +2624,7 @@@@ die_license_disabled version3 libvo_amrwbenc
d13 1
a13 1
@@@@ -3065,7 +3065,6 @@@@ enabled extra_warnings && check_cflags -Winline
d16 1
a16 1
 check_ldflags -Wl,-rpath-link=libpostproc:libswscale:libavfilter:libavdevice:libavformat:libavcodec:libavutil
d19 11
a29 10
 echo "X{};" > $TMPV
 if test_ldflags -Wl,--version-script,$TMPV; then
@@@@ -3084,10 +3083,6 @@@@ if [ -n "$optflags" ]; then
     add_cflags $optflags
 elif enabled small; then
     add_cflags $size_cflags
-elif enabled optimizations; then
-    add_cflags $speed_cflags
-else
-    add_cflags $noopt_cflags
d31 1
a31 2
 check_cflags -fno-math-errno
 check_cflags -fno-signed-zeros
@


1.3
log
@Update to gstreamer1-plugins-libav-1.0.6.
@
text
@d1 4
a4 4
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.2 2013/01/27 09:12:55 brad Exp $
--- gst-libs/ext/libav/configure.orig	Fri Mar 22 15:34:41 2013
+++ gst-libs/ext/libav/configure	Fri Mar 22 18:04:35 2013
@@@@ -2623,7 +2623,7 @@@@ die_license_disabled version3 libvo_amrwbenc
d13 1
a13 1
@@@@ -3066,7 +3066,6 @@@@ enabled extra_warnings && check_cflags -Winline
d21 1
a21 1
@@@@ -3085,10 +3084,6 @@@@ if [ -n "$optflags" ]; then
@


1.2
log
@Remove the use of the -Bsymbolic linker flag as a workaround to allow
linking Libav on mips64. Copied over from FFmpeg.

ok ajacoutot@@
@
text
@d1 3
a3 3
$OpenBSD: patch-gst-libs_ext_libav_configure,v 1.1.1.1 2012/09/15 12:24:16 ajacoutot Exp $
--- gst-libs/ext/libav/configure.orig	Tue Jan  8 05:54:55 2013
+++ gst-libs/ext/libav/configure	Fri Jan 25 06:07:33 2013
d13 1
a13 1
@@@@ -3067,7 +3067,6 @@@@ enabled extra_warnings && check_cflags -Winline
d21 1
a21 1
@@@@ -3086,10 +3085,6 @@@@ if [ -n "$optflags" ]; then
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- gst-libs/ext/libav/configure.orig	Sat Sep 15 09:18:23 2012
+++ gst-libs/ext/libav/configure	Sat Sep 15 09:20:00 2012
d13 9
a21 1
@@@@ -3086,10 +3086,6 @@@@ if [ -n "$optflags" ]; then
@


1.1.1.1
log
@Import gstreamer1-plugins-libav-0.11.94.

This is GStreamer, a framework for streaming media.
This package contains the "libav" elements for gstreamer-1.0.

This module contains a GStreamer plugin for libav (FFmpeg).

ok jasper@@
@
text
@@
