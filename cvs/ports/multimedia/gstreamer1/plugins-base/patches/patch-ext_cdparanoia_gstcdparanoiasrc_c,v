head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.8
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.4
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.6
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.1.1.0.6
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.4
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.2
	OPENBSD_5_3_BASE:1.1.1.1
	ajacoutot_20120906:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2014.10.07.16.05.11;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	IPQLPLY4e5rGu9QQ;

1.2
date	2014.03.09.22.33.12;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.09.06.13.00.53;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.09.06.13.00.53;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to gstreamer1-plugins-base-1.4.3.
@
text
@$OpenBSD: patch-ext_cdparanoia_gstcdparanoiasrc_c,v 1.2 2014/03/09 22:33:12 ajacoutot Exp $

XXX old cdparanoia-3.a9.8 (cdparanoia-III-9.8) does not have cache control.

--- ext/cdparanoia/gstcdparanoiasrc.c.orig	Mon Jul 21 10:22:55 2014
+++ ext/cdparanoia/gstcdparanoiasrc.c	Tue Oct  7 16:32:02 2014
@@@@ -255,6 +255,7 @@@@ gst_cd_paranoia_src_open (GstAudioCdSrc * audiocdsrc, 
     GST_INFO_OBJECT (src, "search overlap set to %u", src->search_overlap);
   }
 
+#ifdef PARANOIA_CB_CACHEERR
   cache_size = src->cache_size;
   if (cache_size == -1) {
     /* if paranoia mode is low (the default), assume we're doing playback */
@@@@ -265,6 +266,7 @@@@ gst_cd_paranoia_src_open (GstAudioCdSrc * audiocdsrc, 
   }
   paranoia_cachemodel_size (src->p, cache_size);
   GST_INFO_OBJECT (src, "set cachemodel size to %u", cache_size);
+#endif
 
   src->next_sector = -1;
 
@


1.2
log
@Update to gstreamer1-plugins-base-1.2.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-ext_cdparanoia_gstcdparanoiasrc_c,v 1.1.1.1 2012/09/06 13:00:53 ajacoutot Exp $
d5 3
a7 3
--- ext/cdparanoia/gstcdparanoiasrc.c.orig	Sun Mar  2 12:37:28 2014
+++ ext/cdparanoia/gstcdparanoiasrc.c	Sun Mar  2 12:37:57 2014
@@@@ -257,6 +257,7 @@@@ gst_cd_paranoia_src_open (GstAudioCdSrc * audiocdsrc, 
d15 1
a15 1
@@@@ -267,6 +268,7 @@@@ gst_cd_paranoia_src_open (GstAudioCdSrc * audiocdsrc, 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
Our cdparanoia version does not have cache control.
d5 3
a7 3
--- ext/cdparanoia/gstcdparanoiasrc.c.orig	Sat May 26 20:07:05 2012
+++ ext/cdparanoia/gstcdparanoiasrc.c	Wed Sep  5 10:30:03 2012
@@@@ -257,17 +257,6 @@@@ gst_cd_paranoia_src_open (GstAudioCdSrc * audiocdsrc, 
d11 10
a20 11
-  cache_size = src->cache_size;
-  if (cache_size == -1) {
-    /* if paranoia mode is low (the default), assume we're doing playback */
-    if (src->paranoia_mode <= PARANOIA_MODE_FRAGMENT)
-      cache_size = 150;
-    else
-      cache_size = paranoia_cachemodel_size (src->p, -1);
-  }
-  paranoia_cachemodel_size (src->p, cache_size);
-  GST_INFO_OBJECT (src, "set cachemodel size to %u", cache_size);
-
a22 1
   return TRUE;
@


1.1.1.1
log
@Import gstreamer1-plugins-base-0.11.93.

ok jasper@@
@
text
@@
