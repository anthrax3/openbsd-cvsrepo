head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.05.19.13.19.59;	author espie;	state Exp;
branches;
next	;
commitid	vGEUQS0IZkj9kEjh;


desc
@@


1.1
log
@build with clang
@
text
@$OpenBSD$
pre-declare, not enough to shup up all warnings

Index: src/singleton.h
--- src/singleton.h.orig
+++ src/singleton.h
@@@@ -58,6 +58,8 @@@@ class SingletonManager : public zmm::Object (protected
 template <class T>
 class Singleton : public zmm::Object
 {
+protected:
+    static zmm::Ref<Mutex> mutex;
 public:
     static zmm::Ref<T> getInstance()
     {
@@@@ -87,7 +89,6 @@@@ class Singleton : public zmm::Object (protected)
     virtual void init() { }
     virtual void shutdown() { }
     
-    static zmm::Ref<Mutex> mutex;
     static zmm::Ref<T> instance;
     static bool singletonActive;
     
@
