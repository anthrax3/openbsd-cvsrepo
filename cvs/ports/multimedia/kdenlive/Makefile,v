head	1.7;
access;
symbols
	OPENBSD_6_0:1.7.0.4
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	zhuk_20140714:1.1.1.1
	zhuk:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2015.08.12.12.33.02;	author zhuk;	state Exp;
branches;
next	1.6;
commitid	ce7KTgaEH5THY5ES;

1.6
date	2015.08.12.10.00.50;	author zhuk;	state Exp;
branches;
next	1.5;
commitid	Pk7qR6tOWzdl1MAm;

1.5
date	2015.07.20.07.18.29;	author zhuk;	state Exp;
branches;
next	1.4;
commitid	cH0bomDpDrPvrcND;

1.4
date	2015.05.28.10.17.24;	author pascal;	state Exp;
branches;
next	1.3;
commitid	020U4lCPk8wUkCOz;

1.3
date	2015.03.27.08.13.02;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	qkrQPO6KjSKIuf3s;

1.2
date	2014.07.22.18.56.39;	author zhuk;	state Exp;
branches;
next	1.1;
commitid	rTwFqJaIapeKiGhC;

1.1
date	2014.07.14.09.16.51;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;
commitid	XJoZXxp0CN9Builx;

1.1.1.1
date	2014.07.14.09.16.51;	author zhuk;	state Exp;
branches;
next	;
commitid	XJoZXxp0CN9Builx;


desc
@@


1.7
log
@MODGETTEXT_TOOLS is already set by default. Pointed out by aja@@.

It looks like I need to stop juicing and restart coffeing...
@
text
@# $OpenBSD: Makefile,v 1.6 2015/08/12 10:00:50 zhuk Exp $

COMMENT =		non-linear video editor for KDE
VERSION =		0.9.10
DISTNAME =		kdenlive-${VERSION}
CATEGORIES =		multimedia

HOMEPAGE =		http://www.kdenlive.org/
MAINTAINER =		KDE porting team <openbsd-kde@@googlegroups.com>

# GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =  c m pthread
WANTLIB += GL GLU ICE SM X11 Xext
WANTLIB += lib/qt4/QtDBus lib/qt4/QtGui lib/qt4/QtNetwork
WANTLIB += lib/qt4/QtOpenGL lib/qt4/QtScript lib/qt4/QtSvg lib/qt4/QtXml
WANTLIB += ${KDE4LIB}/kdeui ${KDE4LIB}/kio ${KDE4LIB}/knewstuff3
WANTLIB += ${KDE4LIB}/knotifyconfig ${KDE4LIB}/krossui
WANTLIB += ${KDE4LIB}/nepomukcore ${KDE4LIB}/solid
WANTLIB += mlt mlt++ qjson soprano

MASTER_SITES =		${MASTER_SITE_KDE:=stable/kdenlive/${VERSION}/src/}
EXTRACT_SUFX =		.tar.bz2

MODULES =		x11/kde4 devel/gettext

RUN_DEPENDS =		devel/desktop-file-utils \
			misc/shared-mime-info \
			multimedia/mlt,-gpl2 \
			x11/gtk+3,-guic

LIB_DEPENDS =		devel/qjson \
			multimedia/mlt,-main \
			${MODKDE4_DEP_DIR}/nepomuk-core>=${MODKDE4_DEP_VERSION}

CONFIGURE_ARGS =	-DCMAKE_DISABLE_FIND_PACKAGE_LibV4L2=Yes

MODKDE4_GETTEXT_MARKER =	kdenlive.po
# upstream bug, putting all l10n files at the same place
#post-patch:
#	cd ${WRKSRC}/po; for lc in */CMakeLists.txt; do \
#		l=$${lc%/CMakeLists.txt}; \
#		perl -pi -e "s,\(fr ,\($$l ," $$lc; \
#	done

.include <bsd.port.mk>
@


1.6
log
@More gettext-tools love for KDE4 ports.

Inspired by recent aja@@ commit in ktorrent-kde4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/07/20 07:18:29 zhuk Exp $
a26 1
MODGETTEXT_TOOLS =	Yes
@


1.5
log
@Update kdenlive to 0.9.10.

Requires recent kde4.port.mk to build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/05/28 10:17:24 pascal Exp $
d27 1
@


1.4
log
@gcc4 bumps, reminded by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/03/27 08:13:02 ajacoutot Exp $
d4 1
a4 1
VERSION =		0.9.8
a6 1
REVISION =		2
d39 1
d41 5
a45 5
post-patch:
	cd ${WRKSRC}/po; for lc in */CMakeLists.txt; do \
		l=$${lc%/CMakeLists.txt}; \
		perl -pi -e "s,\(fr ,\($$l ," $$lc; \
	done
@


1.3
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/07/22 18:56:39 zhuk Exp $
d7 1
a7 1
REVISION =		1
@


1.2
log
@Missing LIB_DEPENDS on nepomuk-core.

Detailed explanation: port-lib-depends-check won't complain, because this
port have RDEP on kde-runtime, which in turn has itself nepomuk-core as
a dependency. But at the build time RDEPs aren't installed, and sooner or
later things would break... And this finally happened at naddy@@'s.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2014/07/14 09:16:51 zhuk Exp $
d7 1
a7 1
REVISION =		0
d32 1
a32 1
			x11/gtk+2,-guic
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
d35 2
a36 1
			multimedia/mlt,-main
@


1.1.1.1
log
@Kdenlive is a free open-source video editor, which supports DV,
AVCHD and HDV editing. Kdenlive relies on several other open source
projects, such as FFmpeg, the MLT video framework and Frei0r effects.

okay landry@@
@
text
@@
