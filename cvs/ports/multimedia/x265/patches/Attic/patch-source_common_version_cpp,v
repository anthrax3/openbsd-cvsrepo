head	1.5;
access;
symbols
	brad_20140904:1.1.1.1 brad:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2015.11.09.06.44.09;	author ajacoutot;	state dead;
branches;
next	1.4;
commitid	wizMmVYftri7cVV0;

1.4
date	2015.10.01.15.13.36;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	jRLTdddb6avm75zA;

1.3
date	2014.11.02.11.36.48;	author brad;	state dead;
branches;
next	1.2;
commitid	ELp7Pc16upI0oUQA;

1.2
date	2014.09.05.15.29.41;	author brad;	state Exp;
branches;
next	1.1;
commitid	yBvK2SdLezUhEHtU;

1.1
date	2014.09.04.05.37.41;	author brad;	state Exp;
branches
	1.1.1.1;
next	;
commitid	PknvhOeWaMsrwaYu;

1.1.1.1
date	2014.09.04.05.37.41;	author brad;	state Exp;
branches;
next	;
commitid	PknvhOeWaMsrwaYu;


desc
@@


1.5
log
@Update to x265-1.8.93.

from Brad (maintainer)
@
text
@$OpenBSD: patch-source_common_version_cpp,v 1.4 2015/10/01 15:13:36 ajacoutot Exp $

threading: add a slow-path for platforms with no system atomics

--- source/common/version.cpp.orig	Thu Oct  1 04:15:54 2015
+++ source/common/version.cpp	Thu Oct  1 04:17:39 2015
@@@@ -75,6 +75,12 @@@@
 #define NVM_BITS        "[32 bit]"
 #endif
 
+#if NO_ATOMICS
+#define ATOMICS "[no-atomics]"
+#else
+#define ATOMICS ""
+#endif
+
 #if CHECKED_BUILD
 #define CHECKED         "[CHECKED] "
 #else
@@@@ -90,4 +96,4 @@@@ const int x265_max_bit_depth = 8;
 #endif
 
 const char *x265_version_str = XSTR(X265_VERSION);
-const char *x265_build_info_str = NVM_ONOS NVM_COMPILEDBY NVM_BITS CHECKED BITDEPTH;
+const char *x265_build_info_str = NVM_ONOS NVM_COMPILEDBY NVM_BITS ATOMICS CHECKED BITDEPTH;
@


1.4
log
@Unbreak on all archs.

from Brad (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
@


1.3
log
@Update to x265 1.4.

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-source_common_version_cpp,v 1.2 2014/09/05 15:29:41 brad Exp $
d3 1
a3 1
https://bitbucket.org/multicoreware/x265/commits/821c2eef4d52
d5 14
a18 8
--- source/common/version.cpp.orig	Thu Aug 21 17:49:02 2014
+++ source/common/version.cpp	Sun Aug 31 12:44:20 2014
@@@@ -63,6 +63,8 @@@@
 #define NVM_ONOS        "[Cygwin]"
 #elif __APPLE__
 #define NVM_ONOS        "[Mac OS X]"
+#elif __OpenBSD__
+#define NVM_ONOS        "[OpenBSD]"
d20 1
a20 1
 #define NVM_ONOS "[Unk-OS]"
d22 4
@


1.2
log
@Sync one of the patches with what was commited upstream and add URLs
to the commited patches.

ok ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD: patch-source_common_version_cpp,v 1.1.1.1 2014/09/04 05:37:41 brad Exp $
@


1.1
log
@Initial revision
@
text
@d1 4
a4 1
$OpenBSD$
@


1.1.1.1
log
@Import of x265.

x265 is an open-source project and free application library for
encoding video streams into the H.265/High Efficiency Video Coding
(HEVC) format.

ok ajacoutot@@
@
text
@@
