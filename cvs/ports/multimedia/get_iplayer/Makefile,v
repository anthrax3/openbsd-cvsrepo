head	1.102;
access;
symbols
	OPENBSD_6_1:1.102.0.2
	OPENBSD_6_1_BASE:1.102
	OPENBSD_6_0:1.100.0.2
	OPENBSD_6_0_BASE:1.100
	OPENBSD_5_9:1.99.0.2
	OPENBSD_5_9_BASE:1.99
	OPENBSD_5_8:1.93.0.4
	OPENBSD_5_8_BASE:1.93
	OPENBSD_5_7:1.83.0.2
	OPENBSD_5_7_BASE:1.83
	OPENBSD_5_6:1.74.0.2
	OPENBSD_5_6_BASE:1.74
	OPENBSD_5_5:1.70.0.2
	OPENBSD_5_5_BASE:1.70
	OPENBSD_5_4:1.68.0.2
	OPENBSD_5_4_BASE:1.68
	OPENBSD_5_3:1.64.0.2
	OPENBSD_5_3_BASE:1.64
	OPENBSD_5_2:1.60.0.2
	OPENBSD_5_2_BASE:1.60
	OPENBSD_5_1_BASE:1.59
	OPENBSD_5_1:1.59.0.2
	OPENBSD_5_0:1.56.0.2
	OPENBSD_5_0_BASE:1.56
	OPENBSD_4_9:1.53.0.2
	OPENBSD_4_9_BASE:1.53
	OPENBSD_4_8:1.46.0.2
	OPENBSD_4_8_BASE:1.46
	OPENBSD_4_7:1.39.0.2
	OPENBSD_4_7_BASE:1.39
	OPENBSD_4_6:1.15.0.2
	OPENBSD_4_6_BASE:1.15
	sthen_20090417:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.102
date	2016.11.19.14.16.02;	author sthen;	state Exp;
branches;
next	1.101;
commitid	9dICTkvgaqKDXM9z;

1.101
date	2016.11.19.14.10.20;	author sthen;	state Exp;
branches;
next	1.100;
commitid	yQxWYlspmMGPe3wy;

1.100
date	2016.06.11.22.15.05;	author sthen;	state Exp;
branches;
next	1.99;
commitid	llf24R0x7KKG4U0W;

1.99
date	2016.02.01.19.53.13;	author sthen;	state Exp;
branches;
next	1.98;
commitid	4KkCxKxOTNOmz7Yf;

1.98
date	2016.01.31.21.27.10;	author sthen;	state Exp;
branches;
next	1.97;
commitid	7THYZVQvtQWW4kjq;

1.97
date	2016.01.25.17.05.49;	author sthen;	state Exp;
branches;
next	1.96;
commitid	TN4P1Bq5lJW0qP1c;

1.96
date	2016.01.19.00.20.59;	author sthen;	state Exp;
branches;
next	1.95;
commitid	iVBOiy3JjwDabSVJ;

1.95
date	2016.01.14.12.05.01;	author sthen;	state Exp;
branches;
next	1.94;
commitid	UBAcY0NZ0FE63B9B;

1.94
date	2016.01.14.09.53.31;	author sthen;	state Exp;
branches;
next	1.93;
commitid	4gaR7FyvP6NPzvoo;

1.93
date	2015.07.06.13.49.49;	author sthen;	state Exp;
branches;
next	1.92;
commitid	57YPIYINmPZYoJND;

1.92
date	2015.06.05.09.08.39;	author sthen;	state Exp;
branches;
next	1.91;
commitid	1NSYAvN73xbznUqL;

1.91
date	2015.06.03.15.22.07;	author sthen;	state Exp;
branches;
next	1.90;
commitid	OV2BvvtFzTkxvYpQ;

1.90
date	2015.06.02.15.29.45;	author sthen;	state Exp;
branches;
next	1.89;
commitid	XfWkScO8S06YLFLd;

1.89
date	2015.04.12.11.50.13;	author sthen;	state Exp;
branches;
next	1.88;
commitid	gNOOco1wXFND08Lh;

1.88
date	2015.03.20.14.50.16;	author sthen;	state Exp;
branches;
next	1.87;
commitid	VtU9HNbeoTxXPeNK;

1.87
date	2015.03.17.11.34.52;	author jasper;	state Exp;
branches;
next	1.86;
commitid	c08FuAcGEgba3LgG;

1.86
date	2015.03.17.10.34.07;	author sthen;	state Exp;
branches;
next	1.85;
commitid	yVBFTxblTVCWJkBz;

1.85
date	2015.03.16.08.43.30;	author sthen;	state Exp;
branches;
next	1.84;
commitid	n9dz7WVSQ0bbQ9gS;

1.84
date	2015.03.14.20.45.42;	author sthen;	state Exp;
branches;
next	1.83;
commitid	aEYciFnRSB40Y6TU;

1.83
date	2014.12.22.14.57.10;	author sthen;	state Exp;
branches
	1.83.2.1;
next	1.82;
commitid	AcO0xjvCLcSGHuOK;

1.82
date	2014.12.16.11.32.11;	author sthen;	state Exp;
branches;
next	1.81;
commitid	i1zMzHmpADclreJ5;

1.81
date	2014.12.02.02.25.40;	author sthen;	state Exp;
branches;
next	1.80;
commitid	vjaOfPLZivcbizoO;

1.80
date	2014.11.03.10.17.09;	author sthen;	state Exp;
branches;
next	1.79;
commitid	NMDIEfXGOsaGLICy;

1.79
date	2014.10.24.17.01.11;	author nigel;	state Exp;
branches;
next	1.78;
commitid	AQW4Dv5CESjiU79u;

1.78
date	2014.10.20.11.45.29;	author sthen;	state Exp;
branches;
next	1.77;
commitid	9kR616FD71xqpECt;

1.77
date	2014.10.15.01.32.36;	author sthen;	state Exp;
branches;
next	1.76;
commitid	opALrVYPgxej1iNV;

1.76
date	2014.09.03.10.16.43;	author sthen;	state Exp;
branches;
next	1.75;
commitid	ea73iHpsceuIalIL;

1.75
date	2014.08.10.09.58.06;	author espie;	state Exp;
branches;
next	1.74;
commitid	jyyOLTDxRdjpw44n;

1.74
date	2014.04.06.17.03.03;	author sthen;	state Exp;
branches;
next	1.73;

1.73
date	2014.03.28.16.18.21;	author sthen;	state Exp;
branches;
next	1.72;

1.72
date	2014.03.11.17.07.22;	author nigel;	state Exp;
branches;
next	1.71;

1.71
date	2014.03.09.21.07.49;	author sthen;	state Exp;
branches;
next	1.70;

1.70
date	2013.09.30.22.43.30;	author sthen;	state Exp;
branches;
next	1.69;

1.69
date	2013.09.29.22.57.56;	author sthen;	state Exp;
branches;
next	1.68;

1.68
date	2013.06.22.22.53.14;	author sthen;	state Exp;
branches;
next	1.67;

1.67
date	2013.06.06.21.11.09;	author sthen;	state Exp;
branches;
next	1.66;

1.66
date	2013.05.04.09.24.34;	author sthen;	state Exp;
branches;
next	1.65;

1.65
date	2013.03.11.11.35.43;	author espie;	state Exp;
branches;
next	1.64;

1.64
date	2013.01.27.22.22.25;	author sthen;	state Exp;
branches
	1.64.2.1;
next	1.63;

1.63
date	2012.12.07.14.56.06;	author sthen;	state Exp;
branches;
next	1.62;

1.62
date	2012.10.18.12.27.51;	author sthen;	state Exp;
branches;
next	1.61;

1.61
date	2012.08.08.23.17.28;	author sthen;	state Exp;
branches;
next	1.60;

1.60
date	2012.06.28.15.40.25;	author sthen;	state Exp;
branches;
next	1.59;

1.59
date	2011.11.04.22.51.19;	author sthen;	state Exp;
branches;
next	1.58;

1.58
date	2011.11.01.16.33.19;	author sthen;	state Exp;
branches;
next	1.57;

1.57
date	2011.09.05.17.07.29;	author nigel;	state Exp;
branches;
next	1.56;

1.56
date	2011.05.28.20.42.17;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2011.04.20.23.07.24;	author sthen;	state Exp;
branches;
next	1.54;

1.54
date	2011.04.19.16.39.47;	author sthen;	state Exp;
branches;
next	1.53;

1.53
date	2011.01.09.17.31.58;	author sthen;	state Exp;
branches;
next	1.52;

1.52
date	2010.11.19.07.23.13;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2010.10.19.01.07.41;	author sthen;	state Exp;
branches;
next	1.50;

1.50
date	2010.10.18.21.25.07;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2010.10.18.13.52.30;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2010.09.27.20.20.35;	author sthen;	state Exp;
branches;
next	1.47;

1.47
date	2010.08.26.01.44.26;	author jakemsr;	state Exp;
branches;
next	1.46;

1.46
date	2010.06.04.23.04.32;	author sthen;	state Exp;
branches;
next	1.45;

1.45
date	2010.06.01.15.05.38;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2010.05.28.15.46.02;	author sthen;	state Exp;
branches;
next	1.43;

1.43
date	2010.05.27.23.33.45;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2010.05.26.20.24.23;	author sthen;	state Exp;
branches;
next	1.41;

1.41
date	2010.05.26.20.13.06;	author sthen;	state Exp;
branches;
next	1.40;

1.40
date	2010.05.01.21.17.25;	author sthen;	state Exp;
branches;
next	1.39;

1.39
date	2010.02.26.18.48.06;	author sthen;	state Exp;
branches;
next	1.38;

1.38
date	2010.01.12.12.46.15;	author sthen;	state Exp;
branches;
next	1.37;

1.37
date	2010.01.08.14.30.30;	author sthen;	state Exp;
branches;
next	1.36;

1.36
date	2010.01.04.11.15.35;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2009.12.31.14.53.33;	author sthen;	state Exp;
branches;
next	1.34;

1.34
date	2009.12.27.19.32.52;	author sthen;	state Exp;
branches;
next	1.33;

1.33
date	2009.12.21.21.52.27;	author sthen;	state Exp;
branches;
next	1.32;

1.32
date	2009.12.20.22.18.43;	author sthen;	state Exp;
branches;
next	1.31;

1.31
date	2009.11.21.23.15.02;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2009.11.14.18.42.35;	author sthen;	state Exp;
branches;
next	1.29;

1.29
date	2009.11.09.19.47.41;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2009.11.06.14.35.46;	author sthen;	state Exp;
branches;
next	1.27;

1.27
date	2009.10.25.20.01.12;	author sthen;	state Exp;
branches;
next	1.26;

1.26
date	2009.10.10.10.42.42;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2009.09.27.23.47.14;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2009.09.21.22.30.58;	author sthen;	state Exp;
branches;
next	1.23;

1.23
date	2009.09.10.17.09.48;	author sthen;	state Exp;
branches;
next	1.22;

1.22
date	2009.09.05.15.54.25;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2009.08.30.12.58.14;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2009.08.23.19.16.17;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2009.08.17.13.52.20;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2009.07.30.13.25.47;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2009.07.27.08.39.14;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2009.07.12.19.41.43;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2009.06.24.00.21.25;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2009.06.24.00.02.20;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2009.06.19.01.04.50;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2009.06.15.09.01.22;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2009.06.14.11.47.45;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2009.05.25.17.54.01;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2009.05.25.00.22.52;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2009.05.13.09.31.44;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2009.05.04.23.22.56;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2009.05.02.23.04.38;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2009.05.01.02.09.56;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2009.04.29.00.59.07;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2009.04.21.15.13.04;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.04.19.13.32.20;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2009.04.17.21.27.09;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.04.17.21.27.09;	author sthen;	state Exp;
branches;
next	;

1.64.2.1
date	2013.06.06.21.17.57;	author sthen;	state Exp;
branches;
next	;

1.83.2.1
date	2015.06.03.15.23.13;	author sthen;	state Exp;
branches;
next	;
commitid	Oq6JxQB0PzHVKwqy;


desc
@@


1.102
log
@minor get_iplayer tweaks:
- remove tvmode/radiomode from sample options file
- add RDEP on XML::LibXML (soft dependency)
@
text
@# $OpenBSD: Makefile,v 1.101 2016/11/19 14:10:20 sthen Exp $

COMMENT=		download/stream programmes from BBC iPlayer

GH_ACCOUNT=		get-iplayer
GH_PROJECT=		get_iplayer
GH_TAGNAME=		v2.97
REVISION=		0

CATEGORIES=		multimedia

HOMEPAGE=		http://www.infradead.org/get_iplayer/

# GPLv3+
PERMIT_PACKAGE_CDROM=	Yes

MAINTAINER=		Stuart Henderson <sthen@@openbsd.org>

RUN_DEPENDS=		audio/p5-MP3-Tag \
			graphics/ffmpeg \
			multimedia/atomicparsley \
			net/rtmpdump>=2.4 \
			textproc/p5-XML-LibXML \
			textproc/p5-XML-Simple \
			www/p5-HTML-Parser>=3.71 \
			www/p5-LWP-Protocol-https \
			www/p5-libwww>=6.0

BUILD_DEPENDS=		${RUN_DEPENDS}

NO_TEST=		Yes
PKG_ARCH=		*

pre-configure:
	${SUBST_CMD} ${WRKSRC}/get_iplayer

do-build:
	-cd ${WRKSRC}; env -i HOME=${WRKSRC} ./get_iplayer --manpage get_iplayer.1

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/get_iplayer/plugins
	${SUBST_DATA} -m 644 \
	   ${FILESDIR}/options.sample ${PREFIX}/share/get_iplayer/options.sample
	${INSTALL_SCRIPT} ${WRKSRC}/get_iplayer ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/get_iplayer.1 ${PREFIX}/man/man1

#sed -i 's,2.95-dev,2.95-dev-${GH_COMMIT:C/(.{9}).*/\1/},' ${PREFIX}/bin/get_iplayer

.include <bsd.port.mk>
@


1.101
log
@update to get_iplayer-2.97
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2016/06/11 22:15:05 sthen Exp $
d8 1
d23 1
@


1.100
log
@update to newer get_iplayer snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2016/02/01 19:53:13 sthen Exp $
a4 2
# `a' suffix needs to stay until at least 2.95 proper
DISTNAME=		get_iplayer-2.95pre20160611a
d7 1
a7 1
GH_COMMIT=		96da6fc1decb8836a75100065a7fc28e822304f0
a42 2
	sed -i 's,2.95-dev,2.95-dev-${GH_COMMIT:C/(.{9}).*/\1/},' \
		${PREFIX}/bin/get_iplayer
d44 2
@


1.99
log
@update snap, and print the commit id in the version string
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2016/01/31 21:27:10 sthen Exp $
d5 2
a6 1
DISTNAME=		get_iplayer-2.95pre20160201a
d9 1
a9 1
GH_COMMIT=		b4bc3d68e3de67615235cabaaf695be090abf0f3
@


1.98
log
@update to a newer get_iplayer snapshot, fixing a problem reported by jmc
where tv listings were fetched unnecessarily
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2016/01/25 17:05:49 sthen Exp $
d5 1
a5 1
DISTNAME=		get_iplayer-2.95pre20160130a
d8 1
a8 1
GH_COMMIT=		77dc3ce4e1af99f131902285a7c1d007afbdeb07
d44 2
@


1.97
log
@get_iplayer doesn't need to depend on the crusty id3lib tagger, it prefers
perl MP3::Tag instead which is better (and already a dependency, so this
doesn't involve any runtime change). remove dep and associated patch.
tweak sample config while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2016/01/19 00:20:59 sthen Exp $
d5 1
a5 2
DISTNAME=		get_iplayer-2.95pre20160117a
REVISION=		0
d8 1
a8 1
GH_COMMIT=		1b25ba25fb8c7b28c2c71082c75408a8cd3531f0
@


1.96
log
@update to newer get_iplayer snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2016/01/14 12:05:01 sthen Exp $
d6 1
d20 1
a20 2
RUN_DEPENDS=		audio/id3lib \
			audio/p5-MP3-Tag \
@


1.95
log
@Update get_iplayer again, the xml feeds got readded around the same time I made
the last commit. Still sticking with the devel version as it has DASH support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2016/01/14 09:53:31 sthen Exp $
d5 1
a5 1
DISTNAME=		get_iplayer-2.95pre20160114a
d8 1
a8 1
GH_COMMIT=		480f4b531fca4412abf63ffb3e1d34fe40dac17a
@


1.94
log
@Switch to devel version of get_iplayer which has a minimal workaround to
reinstate --pid/--url downloading following removal of the old XML data
sources that it was using.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2015/07/06 13:49:49 sthen Exp $
d5 1
a5 1
DISTNAME=		get_iplayer-2.95pre20160114
d8 1
a8 1
GH_COMMIT=		e7bfcf55c1ac15f2fe780156e07d3ae30e21e9a7
@


1.93
log
@show examples of HLS streaming in default config file
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2015/06/05 09:08:39 sthen Exp $
d5 5
a9 4
V=			2.94
REVISION=		0
DISTNAME=		get_iplayer-$V
DISTFILES=		${DISTNAME}{v$V}${EXTRACT_SUFX}
a11 1
# http://git.infradead.org/get_iplayer.git
a18 2
MASTER_SITES=		https://github.com/get-iplayer/get_iplayer/archive/

a44 2
	${INSTALL_SCRIPT} ${WRKSRC}/plugins/* \
	    ${PREFIX}/share/get_iplayer/plugins
@


1.92
log
@update to get_iplayer 2.94
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2015/06/03 15:22:07 sthen Exp $
d6 1
@


1.91
log
@update to get_iplayer 2.93, coping with bbc changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2015/06/02 15:29:45 sthen Exp $
d5 1
a5 1
V=			2.93
@


1.90
log
@fix typos in get_iplayer warning messages resulting in 'Not a SCALAR reference'
being triggered by some radio programs following the move to audio factory / HLS
pointed out by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2015/04/12 11:50:13 sthen Exp $
d5 1
a5 2
V=			2.92
REVISION=		3
@


1.89
log
@remove PORTROACH annotation to see if the github handler rewrite can now handle
this by itself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2015/03/20 14:50:16 sthen Exp $
d6 1
a6 1
REVISION=		2
@


1.88
log
@/usr/bin/env perl -> /usr/bin/perl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2015/03/17 11:34:52 jasper Exp $
a6 1
PORTROACH=		limit:[0-9]
@


1.87
log
@remove MESSAGE which is no longer of use since ffmpeg is an RDEP now

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2015/03/17 10:34:07 sthen Exp $
d6 1
a6 1
REVISION=		1
@


1.86
log
@since the BBC transition to Audio Factory (requiring HLS for most decent quality
radio streams), ffmpeg is now a requirement for many common uses of get_iplayer,
so add it as RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2015/03/16 08:43:30 sthen Exp $
d6 1
a6 1
REVISION=		0
@


1.85
log
@add a portroach limit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2015/03/14 20:45:42 sthen Exp $
d6 1
d24 1
@


1.84
log
@update to get_iplayer 2.92
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2014/12/22 14:57:10 sthen Exp $
d6 1
@


1.83
log
@update to get_iplayer 2.91
https://github.com/get-iplayer/get_iplayer/wiki/release291
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2014/12/16 11:32:11 sthen Exp $
d5 1
a5 1
V=			2.91
@


1.83.2.1
log
@MFC: update to get_iplayer 2.93, coping with bbc changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2015/06/03 15:22:07 sthen Exp $
d5 1
a5 1
V=			2.93
a21 1
			graphics/ffmpeg \
@


1.82
log
@update to newer get_iplayer snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2014/12/02 02:25:40 sthen Exp $
d5 1
a5 1
V=			2.90pl2
d7 1
a7 3
GH_ACCOUNT=		get-iplayer
GH_PROJECT=		get_iplayer
GH_COMMIT=		dd05178b5ee435e5d8d8cbe2ffc4e55412dce66c
d18 1
a18 1
#MASTER_SITES=		ftp://ftp.infradead.org/pub/get_iplayer/
@


1.81
log
@update to newer get_iplayer snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2014/11/03 10:17:09 sthen Exp $
d5 1
a5 1
V=			2.90pl1
d7 1
a7 1
GH_ACCOUNT=		dinkypumpkin
d9 1
a9 1
GH_COMMIT=		ffd66144bf2a37412cc8479bf9b7dafb25b6db4c
@


1.80
log
@update to get_iplayer 2.90, based on a diff from nigel@@

This switches to different programme data feeds following the BBC
removing the ones used previously. However, these are less useful than
the previous feeds, and may well also be removed. See release notes for
more: https://github.com/dinkypumpkin/get_iplayer/wiki/release289
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2014/10/24 17:01:11 nigel Exp $
d5 1
a5 1
V=			2.90
d9 1
a9 2
GH_TAGNAME=		v$V
GH_COMMIT=		138437e40c26fa9edfc2896078617fe768e84331
@


1.79
log
@Update for p5-libwww 6.08, add dependencies on seperated modules.
Ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2014/10/20 11:45:29 sthen Exp $
d5 2
a6 2
DISTNAME=		get_iplayer-2.87
REVISION=		0
d9 2
a10 2
GH_TAGNAME=		v2.87
GH_COMMIT=		d7732f37451b4392fccfbf81ec14d8b4215bd80c
@


1.78
log
@update to get_iplayer 2.87
release notes at https://github.com/dinkypumpkin/get_iplayer/wiki/release287
(including details on how get_iplayer handles the new 30-day expiry; in short,
use pid/url for programmes past 7 days)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2014/10/15 01:32:36 sthen Exp $
d6 1
d29 2
a30 1
			www/p5-libwww>=5.826
@


1.77
log
@switch to git head, prompted by a warning message reported by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2014/09/03 10:16:43 sthen Exp $
d5 1
a5 1
DISTNAME=		get_iplayer-2.86.20141013
d8 2
a9 1
GH_COMMIT=		c1c9c2e28b6f812eda50611f5e76d025b3fb4f7c
@


1.76
log
@pull up get_iplayer changes from git head
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2014/08/10 09:58:06 espie Exp $
d5 4
a8 2
DISTNAME=		get_iplayer-2.86
REVISION=		0
d19 1
a19 1
MASTER_SITES=		ftp://ftp.infradead.org/pub/get_iplayer/
@


1.75
log
@use more specific version of SUBST_* where appropriate
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2014/04/06 17:03:03 sthen Exp $
d6 1
@


1.74
log
@update to get_iplayer 2.86
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2014/03/28 16:18:21 sthen Exp $
d39 1
a39 1
	${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} -m 644 -c \
@


1.73
log
@add a patch from nigel@@ so that https urls aren't detected as being malformed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2014/03/11 17:07:22 nigel Exp $
d5 1
a5 1
DISTNAME=		get_iplayer-2.85
a6 1
REVISION=		1
@


1.72
log
@Update p5-HTML-Parser to 3.71 recommended for get_iplayer

Ok @@shen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2014/03/09 21:07:49 sthen Exp $
d7 1
a7 1
REVISION=		0
@


1.71
log
@update to get_iplayer 2.85
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2013/09/30 22:43:30 sthen Exp $
d7 1
d24 1
a24 1
			www/p5-HTML-Parser \
@


1.70
log
@update to get_iplayer-2.84
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/09/29 22:57:56 sthen Exp $
d5 1
a5 1
DISTNAME=		get_iplayer-2.84
@


1.69
log
@sync with upstream; mostly handle new subtitle format, and some fixes for radio
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/06/22 22:53:14 sthen Exp $
d5 1
a5 2
DISTNAME=		get_iplayer-2.83
REVISION=		0
@


1.68
log
@update to get_iplayer 2.83
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/06/06 21:11:09 sthen Exp $
d6 1
@


1.67
log
@update SWF player url for swfVfy.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/05/04 09:24:34 sthen Exp $
d5 1
a5 3
DISTNAME=		get_iplayer-2.82pl3
REVISION=		0
WRKDIST=		${WRKDIR}/get_iplayer
d16 1
a16 2
MASTER_SITES=		http://spacehopper.org/mirrors/
#MASTER_SITES=		ftp://ftp.infradead.org/pub/get_iplayer/
@


1.66
log
@update get_iplayer to a newer snapshot, includes some fixes to the XML files
it optionally outputs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/03/11 11:35:43 espie Exp $
d3 1
a3 1
COMMENT =		download/stream programmes from BBC iPlayer
d5 4
a8 3
DISTNAME =		get_iplayer-2.82pl3
WRKDIST =		${WRKDIR}/get_iplayer
CATEGORIES =		multimedia
d11 1
a11 1
HOMEPAGE =		http://www.infradead.org/get_iplayer/
d14 1
a14 1
PERMIT_PACKAGE_CDROM =	Yes
d16 1
a16 1
MAINTAINER =		Stuart Henderson <sthen@@openbsd.org>
d18 2
a19 2
MASTER_SITES =		http://spacehopper.org/mirrors/
#MASTER_SITES =		ftp://ftp.infradead.org/pub/get_iplayer/
d21 1
a21 1
RUN_DEPENDS =		audio/id3lib \
d29 1
a29 1
BUILD_DEPENDS =		${RUN_DEPENDS}
d31 2
a32 2
NO_TEST =		Yes
PKG_ARCH =		*
d43 1
a43 1
	    ${FILESDIR}/options.sample ${PREFIX}/share/get_iplayer/options.sample
@


1.65
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2013/01/27 22:22:25 sthen Exp $
d5 2
a6 3
PKGNAME =		get_iplayer-2.82pl2
REVISION =		0
DISTNAME =		get_iplayer-gfa7d46f
a34 1
	${SUBST_CMD} -c ${FILESDIR}/options.sample ${WRKSRC}/options.sample
d41 2
a42 1
	${INSTALL_DATA} ${WRKSRC}/options.sample ${PREFIX}/share/get_iplayer
@


1.64
log
@update get_iplayer's User-Agent list, the ones it was masquerading as
are so 2009
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2012/12/07 14:56:06 sthen Exp $
a14 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d31 1
a31 1
NO_REGRESS =		Yes
@


1.64.2.1
log
@MFC get_iplayer update; the SWF player URL changed, so the old one now breaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/06/06 21:11:09 sthen Exp $
d3 1
a3 1
COMMENT=		download/stream programmes from BBC iPlayer
d5 4
a8 4
DISTNAME=		get_iplayer-2.82pl3
REVISION=		0
WRKDIST=		${WRKDIR}/get_iplayer
CATEGORIES=		multimedia
d11 1
a11 1
HOMEPAGE=		http://www.infradead.org/get_iplayer/
d14 4
a17 4
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
d19 1
a19 1
MAINTAINER=		Stuart Henderson <sthen@@openbsd.org>
d21 2
a22 2
MASTER_SITES=		http://spacehopper.org/mirrors/
#MASTER_SITES=		ftp://ftp.infradead.org/pub/get_iplayer/
d24 1
a24 1
RUN_DEPENDS=		audio/id3lib \
d32 1
a32 1
BUILD_DEPENDS=		${RUN_DEPENDS}
d34 2
a35 2
NO_REGRESS=		Yes
PKG_ARCH=		*
@


1.63
log
@update to newer get_iplayer snapshot, supports multiple default versions
of one programme (e.g. short and longer versions of Sky at Night).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2012/10/18 12:27:51 sthen Exp $
d6 1
@


1.62
log
@update get_iplayer to a more recent snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2012/08/08 23:17:28 sthen Exp $
d5 2
a6 2
DISTNAME =		get_iplayer-2.82pl1
WRKDIST =		${WRKDIR}/get_iplayer-87850e7
@


1.61
log
@add a few patches from get_iplayer git repo

- hh:mm:ss format for --start/stop
- add --no-artwork option
- fix live streaming broken by live rewind
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/06/28 15:40:25 sthen Exp $
d5 2
a6 2
DISTNAME =		get_iplayer-2.82
REVISION =		0
d20 2
a21 1
MASTER_SITES =		ftp://ftp.infradead.org/pub/get_iplayer/
@


1.60
log
@update to get_iplayer 2.82 and add a patch meant to fix livetv playing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/11/04 22:51:19 sthen Exp $
d6 1
@


1.59
log
@switch swf url again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/11/01 16:33:19 sthen Exp $
d5 1
a5 2
DISTNAME =		get_iplayer-2.80
REVISION =		1
@


1.58
log
@Pass a newer swf url to rtmpdump, BBC updated things.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2011/09/05 17:07:29 nigel Exp $
d6 1
a6 1
REVISION =		0
@


1.57
log
@update to version 2.80

ok sthen@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2011/05/28 20:42:17 sthen Exp $
d6 1
@


1.56
log
@Move get_iplayer to a self-packaged tarball from git upstream, fixes include:
- ensure correct file extension is used if certain modes fail
- convert AAC radio recordings to m4a format with metadata tags
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/04/20 23:07:24 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.79pl1
d19 1
a19 3
# repackaged from git
MASTER_SITES =		http://spacehopper.org/mirrors/
#MASTER_SITES =		ftp://ftp.infradead.org/pub/get_iplayer/
d22 1
d24 1
a24 1
			net/rtmpdump>=2.1 \
a30 1
USE_GROFF =		Yes
@


1.55
log
@"Radio 7" became "Radio 4 extra". from upstream via Nigel Taylor, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/04/19 16:39:47 sthen Exp $
d5 1
a5 2
DISTNAME =		get_iplayer-2.79
REVISION =		1
d12 1
a12 1
PERMIT_PACKAGE_CDROM =	Yes 
d19 3
a21 1
MASTER_SITES =		ftp://ftp.infradead.org/pub/get_iplayer/
@


1.54
log
@switch to a new url to the swf file passed to rtmpdump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/01/09 17:31:58 sthen Exp $
d6 1
a6 1
REVISION =		0
@


1.53
log
@update to 2.79
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/11/19 07:23:13 espie Exp $
d6 1
@


1.52
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/10/19 01:07:41 sthen Exp $
d5 1
a5 2
DISTNAME =		get_iplayer-2.78
REVISION =		4
@


1.51
log
@no need to list MAINTAINER twice
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/10/18 21:25:07 espie Exp $
d22 6
a27 6
RUN_DEPENDS =		::audio/id3lib \
			::multimedia/atomicparsley \
			:rtmpdump->=2.1:net/rtmpdump \
			::textproc/p5-XML-Simple \
			::www/p5-HTML-Parser \
			:p5-libwww->=5.826:www/p5-libwww
@


1.50
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/10/18 13:52:30 sthen Exp $
a11 2
MAINTAINER =		Stuart Henderson <sthen@@openbsd.org>

d31 1
a31 1
USE_GROFF =	Yes
@


1.49
log
@Update to newer swf player url.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/09/27 20:20:35 sthen Exp $
d33 1
@


1.48
log
@- add a fix for live streaming from upstream
- fix perl 5.12 warnings
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/08/26 01:44:26 jakemsr Exp $
d6 1
a6 1
REVISION =		3
@


1.47
log
@* set $HOME during do-build, so the manual gets built when USE_SYSTRACE
is set
* switch to REVISION, bump
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/06/04 23:04:32 sthen Exp $
d6 1
a6 1
REVISION =		2
@


1.46
log
@fix rtsp modes, from upstream repo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/06/01 15:05:38 sthen Exp $
d6 1
a6 1
PKGNAME =		${DISTNAME}p1
d41 1
a41 1
	-cd ${WRKSRC}; ./get_iplayer --manpage get_iplayer.1
@


1.45
log
@Fix typo in slist= generation for akamai. From upstream repo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/05/28 15:46:02 sthen Exp $
d6 1
a6 1
PKGNAME =		${DISTNAME}p0
@


1.44
log
@update to 2.78, and roll RUN_DEPENDS into BUILD_DEPENDS to avoid the
bad idiom of RUN_DEPENDS=${BUILD_DEPENDS}.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/05/27 23:33:45 sthen Exp $
d6 1
@


1.43
log
@- add the manpage back in (generated from the script itself, so a
couple of RUN_DEPENDS move to BUILD_DEPENDS).

- cherrypick a couple of diffs from git (notably, automatically add
the correct swfVfy url to rtmpdump; if you've set this manually in
/etc/get_iplayer/options you can remove it).

- improve COMMENT, update HOMEPAGE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/05/26 20:24:23 sthen Exp $
d5 1
a5 2
DISTNAME =		get_iplayer-2.77
PKGNAME =		${DISTNAME}p1
d26 1
a26 3
			${BUILD_DEPENDS}

BUILD_DEPENDS =		::textproc/p5-XML-Simple \
d29 2
@


1.42
log
@Add patches from upstream git repo. Fixes another cdn
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/05/26 20:13:06 sthen Exp $
d3 1
a3 1
COMMENT =		download BBC iPlayer and ITV programmes
d6 1
a6 1
PKGNAME =		${DISTNAME}p0
d9 2
a10 1
HOMEPAGE =		http://linuxcentre.net/get_iplayer/
d27 3
a29 1
			::textproc/p5-XML-Simple \
a32 1
NO_BUILD =		Yes
d40 3
d49 1
@


1.41
log
@update to infradead.org's v2.77, fixes flash streams following CDN changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/05/01 21:17:25 sthen Exp $
d6 1
@


1.40
log
@cherrypick a couple of patches from github, including one which fixes iphone mode.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/02/26 18:48:06 sthen Exp $
d5 1
a5 2
DISTNAME =		get_iplayer-2.72
PKGNAME =		${DISTNAME}p0
d20 1
a20 2
MASTER_SITES =		http://linuxcentre.net/get_iplayer/packages/ \
			http://linuxcentre.net/get_iplayer/packages/archive/
a42 1
	${INSTALL_MAN} ${WRKSRC}/get_iplayer.1 ${PREFIX}/man/man1
@


1.39
log
@- update to 2.71, fixes things following some bbc changes
- better DESCR

ok jasper@@
(reminder, ports is not fully open, do not commit without specific permission)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/01/12 12:46:15 sthen Exp $
d6 1
@


1.38
log
@update get_iplayer to 2.58
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/01/08 14:30:30 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.58
d25 2
a26 1
			:flvstreamer->=1.9:net/flvstreamer \
@


1.37
log
@update to 2.56;

* Fix flvstreamer/rtmpdump version detection.
* Improved episode name extraction from meta-data to include episode
number where appropriate.
* Added episode and series numbers to caches.
* Added freevo as a metadata format.
* Added --email options to allow for scheduled html search results to be
sent by email (Credit: Stroller).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/01/04 11:15:35 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.56
@


1.36
log
@Update to 2.55, adds --pvrscheduler option to run the PVR at regular
intervals, various other bugfixes/improvements.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/12/31 14:53:33 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.55
@


1.35
log
@update to 2.53 with various improvements and cleanups
N.B. deprecated options have been removed in this update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/12/27 19:32:52 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.53
@


1.34
log
@update to 2.52, parse embedded mp3 flashaudio programmes that don't have
the 'encoding' attribute set.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/12/21 21:52:27 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.52
@


1.33
log
@Update to 2.51, fixes url encoding for prepend-type proxies, and fixes a bug
if only iphone mode is specified.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/12/20 22:18:43 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.51
@


1.32
log
@update to 2.50, fixes iphone mode and world service aac audio following bbc changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/11/21 23:15:02 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.50
@


1.31
log
@update to 2.49, also bump flvstreamer RUN_DEPENDS to 1.9 (the new
flvstreamer fixes some problems with Flash Media Server 3.5.x)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/11/14 18:42:35 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.49
@


1.30
log
@Update to 2.48
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/11/09 19:47:41 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.48
d25 1
a25 1
			:flvstreamer->=1.8:net/flvstreamer \
@


1.29
log
@update to 2.46
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/11/06 14:35:46 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.46
@


1.28
log
@update to 2.45, fixing a bug which caused iPlayer HD to fail with some CDNs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/10/25 20:01:12 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.45
@


1.27
log
@- update to 2.43
- take maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/10/10 10:42:42 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.43
d24 1
@


1.26
log
@minor update to 2.41
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/09/27 23:47:14 sthen Exp $
d5 1
a5 2
DISTNAME =		get_iplayer-2.41

d9 2
@


1.25
log
@Bugfix update to 2.40
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/09/21 22:30:58 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.40
@


1.24
log
@update to 2.37, list myself as MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/09/10 17:09:48 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.37
@


1.23
log
@Update to 2.31; various fixes and improvements
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/09/05 15:54:25 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.31
d16 2
@


1.22
log
@Update get_iplayer to 2.26
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/08/30 12:58:14 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.26
@


1.21
log
@- update to 2.22; minor bugfixes and improvements.

- set PKG_ARCH=*

- note that upstream moved to Linux FHS /var/lib/get_iplayer/options;
we patch to retain hier(7)-compatible /etc/get_iplayer/options
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/08/23 19:16:17 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.22
@


1.20
log
@update get_iplayer to 2.18
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/08/17 13:52:20 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.18
d27 1
@


1.19
log
@Update to 2.16; various fixes, adds new flashstd iPlayer
TV mode (480kbps H.264 640x360).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/07/30 13:25:47 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.16
@


1.18
log
@update to 2.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/07/27 08:39:14 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.13
@


1.17
log
@update get_iplayer to 2.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/07/12 19:41:43 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.11
@


1.16
log
@update to 2.09; note that "vmode" in /etc/options/get_iplayer should be
changed to "tvmode". (both are ok on the command line).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/06/24 00:21:25 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.09
@


1.15
log
@force the newer flvstreamer to be used; bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/06/24 00:02:20 sthen Exp $
d5 1
a5 2
DISTNAME =		get_iplayer-2.03
PKGNAME =		${DISTNAME}p0
@


1.14
log
@update to 2.03; adds support for BBC World Service live and bulletin AAC
streams from the worldservice page, bumps iPlayer swf version and fixes
some bugs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/06/19 01:04:50 sthen Exp $
d6 1
d22 1
a22 1
			::net/flvstreamer \
@


1.13
log
@update to 2.01; fixes and new features.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/06/15 09:01:22 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-2.01
@


1.12
log
@install a sample configuration file demonstrating some useful options.
bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/06/14 11:47:45 sthen Exp $
d5 1
a5 2
DISTNAME =		get_iplayer-1.99
PKGNAME =		${DISTNAME}p0
@


1.11
log
@Update to get_iplayer 1.99; adds support for live streams and embedded
media on many BBC web pages. Live streams tested by Pedro la Peu, thanks!
(he was seeing problems with mplayer stuttering about 50% of the time,
but perfect on reconnecting).

Try "get_iplayer --pid tv:<url or channel> --stdout --nowrite" piped
into "mplayer -cache 512 -" or "ffplay -".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/05/25 17:54:01 sthen Exp $
d6 1
d31 1
d35 1
@


1.10
log
@- update to 1.90
- add .../archive/ to MASTER_SITES, old files are moved there
- force packagemanager to be set to restrict updates from inside
the software, following conversation with oga@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/05/25 00:22:52 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-1.90
@


1.9
log
@update to 1.88 and switch to flvstreamer from rtmpdump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/05/13 09:31:44 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-1.88
d17 2
a18 1
MASTER_SITES =		http://linuxcentre.net/get_iplayer/packages/
@


1.8
log
@update to 1.85; hulu and channel4 were removed, too much work keeping on
top of their changes. (channel4 were apparently showing one episode of
Countdown for every request to people using this....ho ho ho)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/05/04 23:22:56 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-1.85
d20 1
a20 1
			:rtmpdump->=1.5:net/rtmpdump \
@


1.7
log
@update to 1.77; minor bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/05/02 23:04:38 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-1.77
d22 1
a22 2
			::www/p5-libwww
# XXX wants a newer p5-libwww feature; workaround in patches/patch-get_iplayer
d27 3
d31 1
d33 2
@


1.6
log
@update to 1.75; various fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/05/01 02:09:56 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-1.75
@


1.5
log
@update to 1.72, channel five added
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/04/29 00:59:07 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-1.72
@


1.4
log
@update to 1.70 with support for Channel4 4oD, based on a diff
from David Cathcart.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/04/21 15:13:04 sthen Exp $
d5 1
a5 1
DISTNAME =		get_iplayer-1.70
@


1.3
log
@remove Hulu.com mention from pkg/DESCR; the website had a footnote
buried away "* currently requires an external Hulu PID decrypt program"
which is not included.  bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/04/19 13:32:20 sthen Exp $
d5 1
a5 2
DISTNAME =		get_iplayer-1.63
PKGNAME =		${DISTNAME}p0
d20 1
a20 1
			::net/rtmpdump \
@


1.2
log
@update to 1.63, adding new CDN making flashhigh work again following
BBC changes. pointed out by David Cathcart.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/04/17 21:27:09 sthen Exp $
d6 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME =		get_iplayer-1.61
@


1.1.1.1
log
@import get_iplayer, port from David Cathcart with a few tweaks by myself:

This tool allows you to search, index and download/stream:

    * BBC iPlayer TV - H.264 / Quicktime / mov and Flash / AVI
    * BBC iPlayer Radio (Local and National) - 128+ kbps MP3 / AAC and 
       Realaudio
    * BBC Podcasts - 128 kb/s MP3 / AAC
    * BBC iPlayer TV subtitles - SubRip / srt
    * ITV player Catch-up or classic TV - WMV / ASF
    * Hulu.com* TV - MP4
    * Hulu.com* Closed-captions / subtitles - SubRip / srt

get_iplayer has PVR-like capabilities (like Sky+ / TiVo / Series-Link);
You can save lists of programme searches which are automatically
downloaded when they become available.
@
text
@@
