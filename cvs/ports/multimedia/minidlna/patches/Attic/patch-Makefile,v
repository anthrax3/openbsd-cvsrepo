head	1.3;
access;
symbols
	OPENBSD_5_3:1.1.1.1.0.2
	OPENBSD_5_3_BASE:1.1.1.1
	sthen_20121010:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2013.05.07.20.37.23;	author sthen;	state dead;
branches;
next	1.2;

1.2
date	2013.03.15.17.15.24;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2012.10.10.10.45.05;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.10.10.10.45.05;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to MiniDLNA 1.1.0, rolling in a bunch of patches which have been committed upstream
@
text
@$OpenBSD: patch-Makefile,v 1.2 2013/03/15 17:15:24 sthen Exp $
--- Makefile.orig	Tue Jan 17 22:49:01 2012
+++ Makefile	Fri Mar 15 17:08:35 2013
@@@@ -30,7 +30,7 @@@@ BASEOBJS = minidlna.o upnphttp.o upnpdescgen.o upnpsoa
            upnpreplyparse.o minixml.o \
            getifaddr.o daemonize.o upnpglobalvars.o \
            options.o minissdp.o uuid.o upnpevents.o \
-           sql.o utils.o metadata.o scanner.o inotify.o \
+           sql.o utils.o metadata.o scanner.o \
            tivo_utils.o tivo_beacon.o tivo_commands.o \
            tagutils/textutils.o tagutils/misc.o tagutils/tagutils.o \
            playlist.o image_utils.o albumart.o log.o
@@@@ -64,14 +64,14 @@@@ install-conf:
 	$(INSTALL) -d $(ETCINSTALLDIR)
 	$(INSTALL) --mode=0644 minidlna.conf $(ETCINSTALLDIR)
 
-minidlna:	$(BASEOBJS) $(LNXOBJS) $(LIBS)
+minidlna:	$(BASEOBJS) $(LNXOBJS)
 	@@echo Linking $@@
-	@@$(CC) $(CFLAGS) $(LDFLAGS) -o $@@ $(BASEOBJS) $(LNXOBJS) $(LIBS)
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@@ $(BASEOBJS) $(LNXOBJS) $(LIBS)
 
 
 testupnpdescgen:	$(TESTUPNPDESCGENOBJS)
 	@@echo Linking $@@
-	@@$(CC) $(CFLAGS) -o $@@ $(TESTUPNPDESCGENOBJS)
+	$(CC) $(CFLAGS) -o $@@ $(TESTUPNPDESCGENOBJS)
 
 config.h:	genconfig.sh
 	./genconfig.sh
@@@@ -128,8 +128,4 @@@@ log.o: log.h
 .SUFFIXES: .c .o
 
 .c.o:
-	@@echo Compiling $*.c
-	@@$(CC) $(CFLAGS) -o $@@ -c $< && exit 0;\
-		echo "The following command failed:" 1>&2;\
-		echo "$(CC) $(CFLAGS) -o $@@ -c $<";\
-		$(CC) $(CFLAGS) -o $@@ -c $< &>/dev/null
+	$(CC) $(CFLAGS) -o $@@ -c $<
@


1.2
log
@sync with minidlna stable; fixes a few bugs and adds compat with ffmpeg 1.0
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.1.1.1 2012/10/10 10:45:05 sthen Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ Makefile	Sat Sep 22 01:49:14 2012
d13 3
a15 1
@@@@ -66,12 +66,12 @@@@ install-conf:
d17 2
a18 1
 minidlna:	$(BASEOBJS) $(LNXOBJS) $(LIBS)
@


1.1.1.1
log
@import ports/multimedia/minidlna, ok/testing landry@@

MiniDLNA is lightweight server software written in C, capable of
serving media files to DLNA/UPnP-AV clients (televisions, tablets,
etc).
@
text
@@
