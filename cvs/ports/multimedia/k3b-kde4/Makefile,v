head	1.8;
access;
symbols
	OPENBSD_6_1:1.8.0.6
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.4
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.2
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.1.1.0.2
	OPENBSD_5_6_BASE:1.1.1.1
	zhuk_20140709:1.1.1.1
	zhuk:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2015.08.12.12.33.02;	author zhuk;	state Exp;
branches;
next	1.7;
commitid	ce7KTgaEH5THY5ES;

1.7
date	2015.08.12.10.00.50;	author zhuk;	state Exp;
branches;
next	1.6;
commitid	Pk7qR6tOWzdl1MAm;

1.6
date	2015.07.15.09.56.28;	author zhuk;	state Exp;
branches;
next	1.5;
commitid	WoetyP9v4XYisr5z;

1.5
date	2015.05.28.10.17.24;	author pascal;	state Exp;
branches;
next	1.4;
commitid	020U4lCPk8wUkCOz;

1.4
date	2015.04.04.09.30.30;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	QSLndtZiU46ysFLn;

1.3
date	2015.03.27.08.13.02;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	qkrQPO6KjSKIuf3s;

1.2
date	2014.08.12.08.06.28;	author zhuk;	state Exp;
branches;
next	1.1;
commitid	AzYt0fVTXeVZ1dBf;

1.1
date	2014.07.09.16.40.41;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;
commitid	sJDllkC6wzE36ASX;

1.1.1.1
date	2014.07.09.16.40.41;	author zhuk;	state Exp;
branches;
next	;
commitid	sJDllkC6wzE36ASX;


desc
@@


1.8
log
@MODGETTEXT_TOOLS is already set by default. Pointed out by aja@@.

It looks like I need to stop juicing and restart coffeing...
@
text
@# $OpenBSD: Makefile,v 1.7 2015/08/12 10:00:50 zhuk Exp $

COMMENT =		CD/DVD creator
DISTNAME =		k3b-2.0.3a
CATEGORIES =		multimedia

# bump away from KDE3 version
SHARED_LIBS =		k3blib		50.1
SHARED_LIBS +=		k3bdevice	50.1

HOMEPAGE =		http://www.k3b.org/

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =  c m pthread
WANTLIB += ICE SM X11 Xext
WANTLIB += lib/qt4/Qt3Support lib/qt4/QtDBus lib/qt4/QtGui
WANTLIB += lib/qt4/QtNetwork lib/qt4/QtSql lib/qt4/QtSvg
WANTLIB += lib/qt4/QtWebKit lib/qt4/QtXml
WANTLIB += ${KDE4LIB}/kcddb ${KDE4LIB}/kcmutils ${KDE4LIB}/kde3support
WANTLIB += ${KDE4LIB}/kdeui ${KDE4LIB}/kemoticons ${KDE4LIB}/kfile
WANTLIB += ${KDE4LIB}/kidletime ${KDE4LIB}/kio ${KDE4LIB}/knotifyconfig
WANTLIB += ${KDE4LIB}/kparts ${KDE4LIB}/kprintutils ${KDE4LIB}/kpty
WANTLIB += ${KDE4LIB}/kutils ${KDE4LIB}/nepomuk ${KDE4LIB}/nepomukutils
WANTLIB += ${KDE4LIB}/solid
WANTLIB += FLAC FLAC++ avcodec avformat avutil dvdread mad mp3lame
WANTLIB += mpcdec samplerate soprano sndfile tag vorbis

MASTER_SITES =		${MASTER_SITE_KDE:=stable/k3b/}

MODULES =		x11/kde4 devel/gettext

RUN_DEPENDS =		devel/desktop-file-utils \
			misc/shared-mime-info \
			x11/gtk+3,-guic

# /usr/local/share/dbus-1/system-services/
RUN_DEPENDS +=		x11/dbus,-suid

# Optional
#			audio/sox \
#			misc/cdrdao \
#			multimedia/transcode \
#			sysutils/cdrtools \
#			sysutils/dvd+rw-tools \

LIB_DEPENDS =		audio/flac \
			audio/lame \
			audio/libmad \
			audio/libsamplerate \
			audio/libsndfile \
			audio/libvorbis \
			audio/musepack \
			audio/taglib \
			devel/libdvdread \
			graphics/ffmpeg>=20121026 \
			${MODKDE4_DEP_DIR}/libkcddb>=${MODKDE4_DEP_VERSION}

CONFIGURE_ARGS =	-DK3B_ENABLE_MUSICBRAINZ:Bool=No

WRKDIST =		${WRKDIR}/${DISTNAME:C/[^0-9]*$//}

# systemd stuff, o' really?
post-install:
	rm -R ${WRKINST}/etc/dbus-1

.include <bsd.port.mk>
@


1.7
log
@More gettext-tools love for KDE4 ports.

Inspired by recent aja@@ commit in ktorrent-kde4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/07/15 09:56:28 zhuk Exp $
a32 1
MODGETTEXT_TOOLS =	Yes
@


1.6
log
@Bugfix update to K3b 2.0.3a.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/05/28 10:17:24 pascal Exp $
d33 1
@


1.5
log
@gcc4 bumps, reminded by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/04/04 09:30:30 ajacoutot Exp $
d4 1
a4 1
DISTNAME =		k3b-2.0.2
a5 1
REVISION =		3
d8 2
a9 2
SHARED_LIBS =		k3blib		50.0
SHARED_LIBS +=		k3bdevice	50.0
d16 1
a16 1
WANTLIB =  c m pthread stdc++
d30 1
a30 2
MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=k3b/}
EXTRACT_SUFX =		.tar.bz2
d61 2
@


1.4
log
@These need to RUN_DEPENDS on x11/dbus,-suid now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/03/27 08:13:02 ajacoutot Exp $
d6 1
a6 1
REVISION =		2
@


1.3
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/08/12 08:06:28 zhuk Exp $
d6 1
a6 1
REVISION =		1
d39 3
@


1.2
log
@Prepare for new FFMpeg. Will work on both old and new, but the bump should
happen now, as the patch it uses routines we have in current FFMpeg already.

Initial prodding by brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2014/07/09 16:40:41 zhuk Exp $
d6 1
a6 1
REVISION =		0
d38 1
a38 1
			x11/gtk+2,-guic
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/01/19 09:51:30 brad Exp $
d6 1
@


1.1.1.1
log
@K3b was created to be a feature-rich and easy to handle CD burning
application.  It can do many things, such as creating or copying audio,
data, video or mixed-mode CDs, CD ripping, and DVD ripping, burning and
blanking.

This is a KDE4 version of multimedia/k3b, thus SHARED_LIBS aren't 0.0.

Okay landry@@
@
text
@@
