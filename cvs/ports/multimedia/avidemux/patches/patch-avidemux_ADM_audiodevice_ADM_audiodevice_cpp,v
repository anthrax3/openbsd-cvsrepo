head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.30
	OPENBSD_6_2_BASE:1.1
	OPENBSD_6_1:1.1.0.28
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.26
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.22
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.24
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.20
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.18
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.16
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.14
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.12
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.10
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.8
	OPENBSD_5_0:1.1.0.6
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.4
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2010.04.26.02.09.03;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.1
log
@sndio supported by default; drop ossaudio(3), artsd and esd support.
@
text
@$OpenBSD$
--- avidemux/ADM_audiodevice/ADM_audiodevice.cpp.orig	Sat Jun 28 01:20:38 2008
+++ avidemux/ADM_audiodevice/ADM_audiodevice.cpp	Wed Apr 21 09:32:24 2010
@@@@ -66,8 +66,10 @@@@
 #include "ADM_audiodevice/ADM_deviceAudioCore.h"
 #endif
 
+#ifdef USE_SNDIO
+#include "ADM_devicesndio.h"
+#endif
 
-
 #include "gui_action.hxx"
 #include "audio_out.h"
 
@@@@ -148,6 +150,7 @@@@ AUDIO_DEVICE id;
 			case DEVICE_ARTS:									
 			case DEVICE_ALSA:
 			case DEVICE_COREAUDIO:
+			case DEVICE_SNDIO:
 			case DEVICE_SDL:
 			case DEVICE_WIN32:
 			case DEVICE_ESD:
@@@@ -255,6 +258,12 @@@@ void AVDM_switch(AUDIO_DEVICE action)
 							 	currentDevice=DEVICE_ALSA;
 								break;
 
+#endif
+#ifdef USE_SNDIO
+		case DEVICE_SNDIO:
+								device=new sndioAudioDevice;
+								currentDevice=DEVICE_SNDIO;
+								break;
 #endif
 #ifdef USE_SDL
 		case DEVICE_SDL:
@
