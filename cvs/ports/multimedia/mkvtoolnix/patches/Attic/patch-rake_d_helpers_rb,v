head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2015.06.20.06.08.01;	author ajacoutot;	state dead;
branches;
next	1.1;
commitid	JthuH1X2RFilH6Rp;

1.1
date	2015.05.27.21.18.48;	author ajacoutot;	state Exp;
branches;
next	;
commitid	4xqY7BI7NdLo6z5n;


desc
@@


1.2
log
@Update to mkvtoolnix-8.0.0.

from brad (maintainer)
@
text
@$OpenBSD: patch-rake_d_helpers_rb,v 1.1 2015/05/27 21:18:48 ajacoutot Exp $

build system: force UTF-8 string encoding when reading source files

--- rake.d/helpers.rb.orig	Tue May 26 14:14:05 2015
+++ rake.d/helpers.rb	Tue May 26 14:14:37 2015
@@@@ -237,7 +237,7 @@@@ def remove_files_by_patters patterns
 end
 
 def read_files *file_names
-  Hash[ *file_names.flatten.collect { |file_name| [ file_name, IO.readlines(file_name) ] }.flatten(1) ]
+  Hash[ *file_names.flatten.collect { |file_name| [ file_name, IO.readlines(file_name).collect { |line| line.force_encoding "UTF-8" } ] }.flatten(1) ]
 end
 
 class Rake::Task
@


1.1
log
@Update to mkvtoolnix-7.9.0.

from brad (maintainer) with a few tweaks
@
text
@d1 1
a1 1
$OpenBSD$
@

