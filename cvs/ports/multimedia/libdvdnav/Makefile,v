head	1.24;
access;
symbols
	OPENBSD_6_0:1.24.0.6
	OPENBSD_6_0_BASE:1.24
	OPENBSD_5_9:1.24.0.2
	OPENBSD_5_9_BASE:1.24
	OPENBSD_5_8:1.24.0.4
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.23.0.2
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.22.0.6
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.22.0.4
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.22.0.2
	OPENBSD_5_4_BASE:1.22
	OPENBSD_5_3:1.19.0.2
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.17.0.2
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.6
	OPENBSD_5_0:1.15.0.4
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.2
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.10.0.2
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.8.0.8
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.6
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.4
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.2
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.7.0.6
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.4
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.2
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.6.0.2
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.1.1.1.0.4
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	jolan_20041216:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.24
date	2015.04.27.12.17.36;	author ajacoutot;	state Exp;
branches;
next	1.23;
commitid	Wh6SUm9UqNySK8zl;

1.23
date	2014.11.29.07.36.37;	author brad;	state Exp;
branches;
next	1.22;
commitid	oyvCEL0CHHvsZHap;

1.22
date	2013.03.21.08.46.33;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.13.00.36.36;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.11.11.35.44;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2012.09.26.00.04.09;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2012.09.05.08.09.27;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2012.05.09.06.17.36;	author fgsch;	state Exp;
branches;
next	1.16;

1.16
date	2012.05.03.06.50.37;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.19.07.23.13;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.28.10.02.05;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.27.15.46.06;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2010.10.24.21.40.38;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2010.09.28.19.27.30;	author landry;	state Exp;
branches;
next	1.10;

1.10
date	2010.06.02.16.55.38;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2009.07.30.19.07.15;	author jakemsr;	state Exp;
branches;
next	1.8;

1.8
date	2007.09.16.03.24.28;	author merdely;	state Exp;
branches;
next	1.7;

1.7
date	2006.03.28.10.25.09;	author jakemsr;	state Exp;
branches;
next	1.6;

1.6
date	2005.12.28.15.28.28;	author jakemsr;	state Exp;
branches;
next	1.5;

1.5
date	2005.11.09.16.37.46;	author jolan;	state Exp;
branches;
next	1.4;

1.4
date	2005.11.03.09.03.37;	author jakemsr;	state Exp;
branches;
next	1.3;

1.3
date	2005.11.03.04.25.08;	author jolan;	state Exp;
branches;
next	1.2;

1.2
date	2005.10.02.20.30.47;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.16.07.37.59;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.12.16.07.37.59;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.24
log
@Update to libdvdnav-5.0.3.
Tested with mplayer / mpv / ogle and xine-lib.

from brad
@
text
@# $OpenBSD: Makefile,v 1.23 2014/11/29 07:36:37 brad Exp $

COMMENT=	DVD navigation library

VER=		5.0.3
DISTNAME=	libdvdnav-${VER}
EPOCH=		0
CATEGORIES=	multimedia
MASTER_SITES=	http://download.videolan.org/pub/videolan/libdvdnav/${VER}/
EXTRACT_SUFX=	.tar.bz2

SHARED_LIBS=	dvdnav		7.1

HOMEPAGE=	http://dvdnav.mplayerhq.hu/

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	dvdread>=6.1 pthread

LIB_DEPENDS=	devel/libdvdread>=5.0.3

CONFIGURE_STYLE= gnu

.include <bsd.port.mk>
@


1.23
log
@Update to libdvdnav 5.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/03/21 08:46:33 ajacoutot Exp $
d5 1
a5 1
VER=		5.0.1
d12 1
a12 1
SHARED_LIBS=	dvdnav		7.0
d16 1
a16 1
# GPLv2
d19 1
a19 1
WANTLIB=	dvdread pthread
d21 1
a21 1
LIB_DEPENDS=	devel/libdvdread>=5.0.0
@


1.22
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/13 00:36:36 brad Exp $
d5 2
a6 2
DISTNAME=	libdvdnav-4.2.0
REVISION=	2
d9 1
a9 1
MASTER_SITES=	${HOMEPAGE}releases/
d12 1
a12 2
SHARED_LIBS=	dvdnav		6.2 \
		dvdnavmini	6.2
d21 1
a21 9
AUTOCONF_VERSION= 2.61
AUTOMAKE_VERSION= 1.10

# needs libtoolize
BUILD_DEPENDS=	${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS} \
		devel/libtool

LIB_DEPENDS=	devel/libdvdread>=4.2.0
a23 4

post-patch:
	@@cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} ./autogen.sh noconfig
@


1.21
log
@Remove SHARED_ONLY now that it has been removed from libdvdread.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/11 11:35:44 espie Exp $
a31 1
USE_LIBTOOL=	Yes
@


1.20
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.19 2012/09/26 00:04:09 brad Exp $

SHARED_ONLY=	Yes
@


1.19
log
@Bring in a whole bunch of bug fixes from microe's git repo on github.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/09/05 08:09:27 ajacoutot Exp $
a19 2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a20 1
PERMIT_PACKAGE_FTP=	Yes
@


1.18
log
@- Set SHARED_ONLY as dvdread requires dlopen()
- Remove -pthread patching
- Fix up pkg-config file
from Brad

- regen WANTLIB and merge PFRAG.shared into PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/05/09 06:17:36 fgsch Exp $
d8 1
a8 1
REVISION=	1
d14 2
a15 2
SHARED_LIBS=	dvdnav		6.1 \
		dvdnavmini	6.1
d25 1
a25 1
WANTLIB += dvdread pthread
@


1.17
log
@Allow to compile libdvdnav when another version is installed.
ajacoutot@@ ok
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.16 2012/05/03 06:50:37 ajacoutot Exp $
d8 1
a9 1
REVISION =	0
d25 1
a25 1
WANTLIB=	dvdread
@


1.16
log
@Update to libdvdnav-4.2.0.

from Brad, ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/11/19 07:23:13 espie Exp $
d7 1
@


1.15
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/10/28 10:02:05 steven Exp $
d3 3
a5 3
COMMENT=	DVD read/navigation library
DISTNAME=	libdvdnav-4.1.3
REVISION=	1
d8 2
d11 2
a12 2
SHARED_LIBS=	dvdnav	6.0 \
		dvdnavmini	6.0
d14 1
a14 1
MASTER_SITES=	http://www1.mplayerhq.hu/MPlayer/releases/dvdnav/
d22 1
a22 3
WANTLIB += dvdread

EXTRACT_SUFX=	.tar.bz2
d24 2
a25 2
AUTOMAKE_VERSION=1.9
AUTOCONF_VERSION=2.59
a26 3
USE_LIBTOOL=	Yes

BUILD_DEPENDS=	${MODGNU_AUTOCONF_DEPENDS} ${MODGNU_AUTOMAKE_DEPENDS}
d28 3
a30 1
BUILD_DEPENDS+=	devel/libtool
d32 1
a32 1
LIB_DEPENDS=	devel/libdvdread
d34 2
a35 3
CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	DVDREAD_CFLAGS="-I${LOCALBASE}/include" \
		DVDREAD_LIBS="-L${LOCALBASE}/lib -ldvdread"
d38 1
a38 1
	cd ${WRKSRC} && env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
@


1.14
log
@this builds fine with openbsd libtool so set USE_LIBTOOL=yes

however auto* needs libtoolize or some other libtool macros, therefore add
a build dependency on gnu libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/27 15:46:06 steven Exp $
d31 1
a31 1
BUILD_DEPENDS+=	::devel/libtool
d33 1
a33 1
LIB_DEPENDS=	::devel/libdvdread
@


1.13
log
@indicate reason for gnu libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/10/24 21:40:38 sthen Exp $
d26 2
a27 2
# needs libtoolize
USE_LIBTOOL=	gnu
d30 2
@


1.12
log
@lib_depends, revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/09/28 19:27:30 landry Exp $
d26 1
@


1.11
log
@Set USE_LIBTOOL=gnu. This needs libtoolize. While here switch to
REVISION/EPOCH and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/06/02 16:55:38 ajacoutot Exp $
d20 2
d30 1
a30 1
LIB_DEPENDS=	dvdread.>=4.3::devel/libdvdread
@


1.10
log
@Bundled dvdread was removed about 10 months ago, so fix pkgconfig file
accordingly.

ok jakemsr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/07/30 19:07:15 jakemsr Exp $
d5 2
a6 1
PKGNAME=	${DISTNAME}p0v0
d24 1
a24 1
USE_LIBTOOL=	Yes
@


1.9
log
@update to libdvdnav-4.1.3 from the mplayer project.  no longer
includes a private copy of libdvdread.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/09/16 03:24:28 merdely Exp $
d5 1
a5 1
PKGNAME=	${DISTNAME}v0
@


1.8
log
@Remove surrounding quotes in COMMENT*/PERMIT_*

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/03/28 10:25:09 jakemsr Exp $
d4 2
a5 2
DISTNAME=	libdvdnav-20051102
PKGNAME=	${DISTNAME}p2
d8 2
a9 2
SHARED_LIBS=		dvdnav	5.0
MODGNU_SHARED_LIBS=	dvdnav	'-export-symbols-regex "(^dvdnav.*|^nav.*|^ifo.*|^DVD.*)"'
d11 1
a11 1
MASTER_SITES=	http://mirrors.protection.cx/~jolan/
d13 1
a13 3
HOMEPAGE=	http://dvd.sourceforge.net/

# GPL
d19 2
d27 2
d30 2
d35 1
a35 1
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} ./autogen.sh
@


1.7
log
@use the right CFLAGS for pthread linkage

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/12/28 15:28:28 jakemsr Exp $
d3 1
a3 1
COMMENT=	"DVD read/navigation library"
@


1.6
log
@SHARED_LIBS

a little help and OK steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/11/09 16:37:46 jolan Exp $
d5 1
a5 1
PKGNAME=	${DISTNAME}p1
a25 1
WANTLIB=	pthread
@


1.5
log
@remove old ld.so findlibrary work-around
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/11/03 09:03:37 jakemsr Exp $
d7 4
@


1.4
log
@libdvd support, lifted from devel/libdvdread

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/11/03 04:25:08 jolan Exp $
d5 1
a5 1
PKGNAME=	${DISTNAME}p0
@


1.3
log
@update to 20051102, mostly from jakemsr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/10/02 20:30:47 jolan Exp $
d5 1
@


1.2
log
@update to 0.1.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/12/16 07:37:59 jolan Exp $
d3 2
a4 2
COMMENT=	"library for developers of multimedia applications"
DISTNAME=	libdvdnav-0.1.10
d6 1
a6 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=dvd/}
d16 2
d20 1
d24 4
a27 2
CONFIGURE_ENV+=	CPPFLAGS="-I${LOCALBASE}/include" \
	LDFLAGS="-L${LOCALBASE}/lib" LIBS="-pthread"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 1
DISTNAME=	libdvdnav-0.1.9
d16 2
a18 2

LIB_DEPENDS=	dvdread.3.0::devel/libdvdread
@


1.1.1.1
log
@libdvdnav-0.1.9, dvd navigation library
@
text
@@
