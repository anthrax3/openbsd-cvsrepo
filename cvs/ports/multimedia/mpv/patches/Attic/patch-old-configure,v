head	1.3;
access;
symbols
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	bentley_20150111:1.1.1.1
	bentley:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2015.05.06.06.51.03;	author czarkoff;	state dead;
branches;
next	1.2;
commitid	eRM13y7aEANkAHjo;

1.2
date	2015.02.17.01.27.11;	author brad;	state Exp;
branches;
next	1.1;
commitid	NIfApaDcAJCytdZr;

1.1
date	2015.01.11.08.21.39;	author bentley;	state Exp;
branches
	1.1.1.1;
next	;
commitid	nMjfhgeq0fXtAKP5;

1.1.1.1
date	2015.01.11.08.21.39;	author bentley;	state Exp;
branches;
next	;
commitid	nMjfhgeq0fXtAKP5;


desc
@@


1.3
log
@update to 0.9.1

OK bentley@@, brad@@, sthen@@.
@
text
@$OpenBSD: patch-old-configure,v 1.2 2015/02/17 01:27:11 brad Exp $
--- old-configure.orig	Mon Jan 26 20:23:08 2015
+++ old-configure	Fri Feb 13 21:55:41 2015
@@@@ -191,7 +191,7 @@@@ options_state_machine() {
     opt_yes_no _libavresample "libavresample (preferred over libswresample)"
     opt_yes_no _libswresample "libswresample"
     opt_yes_no _caca        "CACA  video output"
-    opt_yes_no _sdl2        "SDL2 video and audio outputs" no
+    opt_yes_no _sdl2        "SDL2 video and audio outputs"
     opt_yes_no _xv          "Xv video output"
     opt_yes_no _vdpau       "VDPAU acceleration"
     opt_yes_no _vaapi       "VAAPI acceleration"
@@@@ -328,7 +328,7 @@@@ test -z "$_bindir"  && _bindir="$_prefix/bin"
 test -z "$_mandir"  && _mandir="$_prefix/share/man"
 test -z "$_confdir" && _confdir="$_prefix/etc/mpv"
 
-mplayer_tmpdir=$(mktemp -d --tmpdir mpv-configure-XXXX)
+mplayer_tmpdir=$(mktemp -d mpv-configure-XXXXXX)
 test -n "$mplayer_tmpdir" || die "Unable to create tmpdir."
 trap 'rm -rf "$mplayer_tmpdir"' EXIT
 
@@@@ -665,6 +665,8 @@@@ EOF
     _gl_wayland=yes
     libs_mplayer="$libs_mplayer -lGL -lEGL"
     test "$_gl_wayland" = yes && res_comment="$res_comment wayland"
+  else
+    _gl_wayland=no
   fi
   if test "$_x11" = yes && test "$_gl" = yes && pkg_config_add "egl"; then
     _gl_x11_egl=yes
@@@@ -863,9 +865,11 @@@@ test_lua() {
 
 test_lua "lua >= 5.1.0 lua < 5.2.0"
 test_lua "lua5.1 >= 5.1.0" # debian
+test_lua "lua51 >= 5.1.0" # OpenBSD
 test_lua "luajit >= 2.0.0"
 test_lua "lua >= 5.2.0"
 test_lua "lua5.2 >= 5.2.0" # debian
+test_lua "lua52 >= 5.2.0" # OpenBSD
 
 test "$_lua" != yes && check_yes_no no LUA
 
@@@@ -983,8 +987,13 @@@@ cat > $TMPC << EOF
 #define HAVE_NETBSD_THREAD_NAME 0
 #define HAVE_DXVA2_HWACCEL 0
 
+#ifdef __OpenBSD__
+#define DEFAULT_CDROM_DEVICE "/dev/rcd0c"
+#define DEFAULT_DVD_DEVICE   "/dev/rcd0c"
+#else
 #define DEFAULT_CDROM_DEVICE "/dev/cdrom"
 #define DEFAULT_DVD_DEVICE   "/dev/dvd"
+#endif
 #define PATH_DEV_DSP "/dev/dsp"
 #define PATH_DEV_MIXER "/dev/mixer"
 
@


1.2
log
@Use the correct default devices for CDROM / DVD playback on OpenBSD; copied
over from MPlayer.

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-old-configure,v 1.1.1.1 2015/01/11 08:21:39 bentley Exp $
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- old-configure.orig	Sat Dec 20 12:00:13 2014
+++ old-configure	Fri Jan  2 23:33:22 2015
d22 1
a22 1
@@@@ -670,6 +670,8 @@@@ EOF
d31 1
a31 1
@@@@ -864,9 +866,11 @@@@ test_lua() {
d42 14
@


1.1.1.1
log
@Import mpv-0.7.2.

mpv is a fork of mplayer2 and MPlayer.  Its option parser was improved
to behave more like other CLI programs, and many option names and
semantics were reworked to make them more intuitive and memorable.
Instead of default GUI it provides a small controller interface that is
triggered by mouse movement.  OpenGL video output is capable of many
features loved by videophiles, such as video scaling with popular high
quality algorithms, color management, and more, as well as of hardware
decoding using VDPAU and VAAPI.

From Dmitrij D. Czarkoff. ok sthen@@
@
text
@@
