head	1.37;
access;
symbols
	OPENBSD_6_2:1.37.0.2
	OPENBSD_6_2_BASE:1.37
	OPENBSD_6_1:1.35.0.2
	OPENBSD_6_1_BASE:1.35
	OPENBSD_6_0:1.28.0.2
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.24.0.2
	OPENBSD_5_9_BASE:1.24
	OPENBSD_5_8:1.13.0.4
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.6.0.2
	OPENBSD_5_7_BASE:1.6
	bentley_20150111:1.1.1.1
	bentley:1.1.1;
locks; strict;
comment	@# @;


1.37
date	2017.08.10.10.25.15;	author sthen;	state Exp;
branches;
next	1.36;
commitid	K6tzllaCRxwQLTsb;

1.36
date	2017.06.13.20.30.26;	author schwarze;	state Exp;
branches;
next	1.35;
commitid	ODcVno1zSmdLw8ZJ;

1.35
date	2016.11.25.15.02.43;	author czarkoff;	state Exp;
branches;
next	1.34;
commitid	hBLw2vMAH4YDbRL2;

1.34
date	2016.10.20.17.28.52;	author czarkoff;	state Exp;
branches;
next	1.33;
commitid	i91sLW4UhVcCGZ1R;

1.33
date	2016.09.13.16.12.14;	author naddy;	state Exp;
branches;
next	1.32;
commitid	LsYahYRn03mp1yEc;

1.32
date	2016.09.04.17.29.28;	author czarkoff;	state Exp;
branches;
next	1.31;
commitid	QNc7RnvhD2MqjdWF;

1.31
date	2016.08.16.14.08.40;	author czarkoff;	state Exp;
branches;
next	1.30;
commitid	jV82rXr7xOFPY4pe;

1.30
date	2016.08.08.15.05.17;	author czarkoff;	state Exp;
branches;
next	1.29;
commitid	li7DyrwVqkT5T1ik;

1.29
date	2016.08.06.06.47.46;	author landry;	state Exp;
branches;
next	1.28;
commitid	KjatKDPEMF4hThdQ;

1.28
date	2016.07.10.15.27.55;	author czarkoff;	state Exp;
branches;
next	1.27;
commitid	NKRlaH1xgIIBVDBh;

1.27
date	2016.05.04.09.13.10;	author czarkoff;	state Exp;
branches;
next	1.26;
commitid	uyKZauvZcRrHT8lA;

1.26
date	2016.04.27.11.39.04;	author czarkoff;	state Exp;
branches;
next	1.25;
commitid	YUsYGjYkiu6bz8CP;

1.25
date	2016.03.05.12.52.11;	author czarkoff;	state Exp;
branches;
next	1.24;
commitid	CbhWbKfPJPPEFoB5;

1.24
date	2016.02.07.21.30.00;	author czarkoff;	state Exp;
branches;
next	1.23;
commitid	04PnODkuuWkYVjyE;

1.23
date	2016.02.04.09.23.20;	author czarkoff;	state Exp;
branches;
next	1.22;
commitid	vfT0rceP7gCZbEdj;

1.22
date	2016.01.12.09.09.57;	author czarkoff;	state Exp;
branches;
next	1.21;
commitid	nR2EQZKQYa7AEoKU;

1.21
date	2016.01.08.18.47.01;	author feinerer;	state Exp;
branches;
next	1.20;
commitid	D19nSrJQpGyb56NV;

1.20
date	2015.12.28.08.25.52;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	dQAckNgNf9ZYvamY;

1.19
date	2015.11.22.18.33.04;	author czarkoff;	state Exp;
branches;
next	1.18;
commitid	w5Jn0A1mkJ140Agn;

1.18
date	2015.10.02.07.34.14;	author bentley;	state Exp;
branches;
next	1.17;
commitid	2pEnWnNDZWn8J5ro;

1.17
date	2015.09.26.04.02.31;	author czarkoff;	state Exp;
branches;
next	1.16;
commitid	271C5piWylstfuPU;

1.16
date	2015.09.11.14.46.29;	author bentley;	state Exp;
branches;
next	1.15;
commitid	9QitZKROyvGgk5TV;

1.15
date	2015.09.10.10.43.06;	author bentley;	state Exp;
branches;
next	1.14;
commitid	JbRoyRoDlKKC24Lj;

1.14
date	2015.08.25.11.04.38;	author jca;	state Exp;
branches;
next	1.13;
commitid	jWHBCzKs5xKamlhw;

1.13
date	2015.05.30.07.27.40;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	il5qOKhg8lt3hlE3;

1.12
date	2015.05.24.10.30.55;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	kg72tzmqlgBqC17R;

1.11
date	2015.05.23.07.58.40;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	qTvuhR7WvdyQK1z8;

1.10
date	2015.05.06.06.51.03;	author czarkoff;	state Exp;
branches;
next	1.9;
commitid	eRM13y7aEANkAHjo;

1.9
date	2015.03.27.08.13.02;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	qkrQPO6KjSKIuf3s;

1.8
date	2015.03.27.06.11.27;	author czarkoff;	state Exp;
branches;
next	1.7;
commitid	ez5kZfLJkCmRo4j8;

1.7
date	2015.03.17.09.00.56;	author czarkoff;	state Exp;
branches;
next	1.6;
commitid	kRutvw8CX1kdNHMv;

1.6
date	2015.02.17.01.27.11;	author brad;	state Exp;
branches;
next	1.5;
commitid	NIfApaDcAJCytdZr;

1.5
date	2015.02.13.13.49.45;	author sthen;	state Exp;
branches;
next	1.4;
commitid	8GjbVXt9hlNnUpcc;

1.4
date	2015.01.12.06.31.04;	author bentley;	state Exp;
branches;
next	1.3;
commitid	NdRoSar4CpHKKPxg;

1.3
date	2015.01.11.23.52.08;	author sthen;	state Exp;
branches;
next	1.2;
commitid	5ZVnKANKenqjXjUd;

1.2
date	2015.01.11.19.44.53;	author bentley;	state Exp;
branches;
next	1.1;
commitid	AQ9wTCZfWDLwRUBx;

1.1
date	2015.01.11.08.21.39;	author bentley;	state Exp;
branches
	1.1.1.1;
next	;
commitid	nMjfhgeq0fXtAKP5;

1.1.1.1
date	2015.01.11.08.21.39;	author bentley;	state Exp;
branches;
next	;
commitid	nMjfhgeq0fXtAKP5;


desc
@@


1.37
log
@aarch64 has atomic ops; from Brad
@
text
@# $OpenBSD: Makefile,v 1.36 2017/06/13 20:30:26 schwarze Exp $

# archs with atomic ops
ONLY_FOR_ARCHS =	aarch64 alpha amd64 i386 mips64 mips64el powerpc sparc64
BROKEN-powerpc =	atomics detection fails

COMMENT =		movie player based on MPlayer/mplayer2

GH_ACCOUNT =		mpv-player
GH_PROJECT =		mpv
GH_TAGNAME =		v0.22.0
REVISION =		0

CATEGORIES =		multimedia x11

HOMEPAGE =		http://mpv.io/

MAINTAINER =		Dmitrij D. Czarkoff <czarkoff@@openbsd.org>

WAF =			${WRKSRC}/waf-1.8.19
MASTER_SITES0 =		http://waf.io/
DISTFILES =		${DISTNAME}{${GH_TAGNAME}}${EXTRACT_SUFX} ${WAF:T}:0
EXTRACT_ONLY =		${DISTNAME}${EXTRACT_SUFX}

# GPLv2+
PERMIT_PACKAGE_CDROM =	patents
PERMIT_PACKAGE_FTP =	Yes

WANTLIB += EGL GL SDL2 X11 X11-xcb Xau Xdamage Xdmcp Xext Xfixes
WANTLIB += Xinerama Xrandr Xrender Xss Xv Xxf86vm ass avcodec
WANTLIB += avdevice avfilter avformat avresample avutil bluray
WANTLIB += c cdio cdio_cdda cdio_paranoia drm dvdnav dvdread expat
WANTLIB += fontconfig freetype fribidi gbm iconv jpeg lcms2 m
WANTLIB += opus postproc pthread pthread-stubs sndio speex swresample
WANTLIB += swscale v4l2 v4lconvert vpx x264 x265 xcb xcb-dri2
WANTLIB += xcb-glx z ${MODLUA_WANTLIB}

MODULES =		lang/lua \
			lang/python

BUILD_DEPENDS =		audio/ladspa \
			textproc/py-docutils

LIB_DEPENDS =		audio/libcdio \
			converters/libiconv \
			devel/libdvdread \
			devel/sdl2 \
			graphics/ffmpeg>=20151112 \
			graphics/jpeg \
			graphics/lcms2 \
			multimedia/libass \
			multimedia/libbluray>=0.8.0 \
			multimedia/libdvdnav \
			multimedia/libv4l

MODPY_RUNDEP =		No
RUN_DEPENDS =		devel/desktop-file-utils \
			x11/gtk+3,-guic

CONFIGURE_ARGS =	--confloaddir=${SYSCONFDIR}/mpv \
			--confdir=${LOCALBASE}/share/examples/mpv \
			--mandir=${LOCALBASE}/man \
			--docdir=${LOCALBASE}/share/examples/mpv \
			--zshdir=${LOCALBASE}/share/zsh/vendor-completions \
			--enable-encoding \
			--enable-sndio \
			--enable-sdl2 \
			--enable-zsh-comp \
			--disable-alsa \
			--disable-caca \
			--disable-enca \
			--disable-jack \
			--disable-libarchive \
			--disable-libguess \
			--disable-rubberband \
			--disable-oss-audio \
			--disable-openal \
			--disable-optimize \
			--disable-pulse \
			--disable-rsound \
			--disable-libsmbclient \
			--disable-uchardet \
			--disable-vaapi \
			--disable-vaapi-glx \
			--disable-vaapi-hwaccel \
			--disable-vaapi-x-egl \
			--disable-vaapi-x11 \
			--disable-vaapi-wayland \
			--disable-vapoursynth \
			--disable-vapoursynth-lazy \
			--disable-vdpau \
			--disable-vdpau-hwaccel \
			--disable-videotoolbox-hwaccel \
			--disable-videotoolbox-gl \
			--disable-wayland

MAKE_ENV +=		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"
MAKE_ENV +=		CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include"
MAKE_FLAGS =		-o "${WRKBUILD}" -t "${WRKSRC}" --destdir="${DESTDIR}"

NO_TEST =		Yes

WRKBUILD =		${WRKSRC}/${MACHINE_ARCH}

.if ${MACHINE_ARCH} == "i386"
CFLAGS +=		-march=i586
.endif

post-patch:
	cp ${DISTDIR}/${WAF:T} ${WAF}

do-configure:
	cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MODPY_BIN} ${WAF} \
				${MAKE_FLAGS} configure ${CONFIGURE_ARGS}

do-build:
	cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MODPY_BIN} ${WAF} \
				${MAKE_FLAGS} build -v

do-install:
	cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MODPY_BIN} ${WAF} \
				${MAKE_FLAGS} install
	${INSTALL_DATA} ${WRKDIST}/TOOLS/mpv_identify.sh \
	                ${WRKDIST}/TOOLS/umpv \
	                	${PREFIX}/share/examples/mpv
	${MODPY_BIN_ADJ} ${PREFIX}/share/examples/mpv/umpv
	sed -Ei 's,(/dev/dvd|/dev/cdrom),/dev/rcd0c,g' ${PREFIX}/man/man1/mpv.1

.include <bsd.port.mk>
@


1.36
log
@mandoc handles reStructuredText output now, drop USE_GROFF and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2016/11/25 15:02:43 czarkoff Exp $
d4 1
a4 1
ONLY_FOR_ARCHS =	alpha amd64 i386 mips64 mips64el powerpc sparc64
@


1.35
log
@Update mpv to 0.22.0

Per suggestion by jca@@ libsmbclient support is disabled.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2016/10/20 17:28:52 czarkoff Exp $
d12 1
a100 1
USE_GROFF =		Yes
@


1.34
log
@update to mpv 0.21.0

Two patches that are added in this commit are already upstreamed, so they
should be removed with next update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2016/09/13 16:12:14 naddy Exp $
d11 1
a11 1
GH_TAGNAME =		v0.21.0
d32 2
a33 2
WANTLIB += fontconfig freetype fribidi gbm iconv jpeg lcms2 m opus postproc
WANTLIB += pthread pthread-stubs smbclient sndio speex swresample
a40 1
			graphics/libmng \
d53 1
a53 2
			multimedia/libv4l \
			net/samba
d80 1
@


1.33
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2016/09/04 17:29:28 czarkoff Exp $
d11 1
a11 1
GH_TAGNAME =		v0.20.0
d57 1
a57 1
MODPY_RUNDEP ?=		No
d110 3
a113 1
	cp ${DISTDIR}/${WAF:T} ${WAF}
@


1.32
log
@update to mpv-0.20.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2016/08/16 14:08:40 czarkoff Exp $
d32 1
a32 1
WANTLIB += fontconfig freetype fribidi gbm jpeg lcms2 m opus postproc
d37 1
a37 2
MODULES =		converters/libiconv \
			lang/lua \
d45 1
@


1.31
log
@update to mpv-0.19.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2016/08/08 15:05:17 czarkoff Exp $
d11 1
a11 1
GH_TAGNAME =		v0.19.0
@


1.30
log
@update to mpv-0.18.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/08/06 06:47:46 landry Exp $
d11 1
a11 1
GH_TAGNAME =		v0.18.1
@


1.29
log
@Mark BROKEN on powerpc: atomics detection fails
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2016/07/10 15:27:55 czarkoff Exp $
d11 1
a11 1
GH_TAGNAME =		v0.18.0
@


1.28
log
@update to mpv-0.18.0

unrelated changes:

 - X11BASE is hooked up explicitly, so that several tests in waf don't fail
 - WRKBUILD is set to subdirectory of WRKSRC, so that mpv does not get relinked
   during "make install"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2016/05/04 09:13:10 czarkoff Exp $
d5 1
@


1.27
log
@re-enable encoding

from Josh Grosse
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2016/04/27 11:39:04 czarkoff Exp $
d10 1
a10 2
GH_TAGNAME =		v0.17.0
REVISION =		0
d31 1
a31 1
WANTLIB += fontconfig freetype fribidi jpeg lcms2 m opus postproc
a70 1
			--disable-dxva2-hwaccel \
a71 1
			--disable-gpl3 \
d96 2
a97 2
MAKE_ENV +=		LDFLAGS="-L${LOCALBASE}/lib"
MAKE_ENV +=		CPPFLAGS="-I${LOCALBASE}/include"
d102 2
@


1.26
log
@update to mpv-0.17.0 from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2016/03/05 12:52:11 czarkoff Exp $
d11 1
d66 1
@


1.25
log
@update to mpv-0.16.0

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2016/02/07 21:30:00 czarkoff Exp $
d10 1
a10 1
GH_TAGNAME =		v0.16.0
@


1.24
log
@unbreak mpv on i386

tested by kili@@, ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2016/02/04 09:23:20 czarkoff Exp $
d10 1
a10 1
GH_TAGNAME =		v0.15.0
@


1.23
log
@update to mpv-0.15.0

changes:

 - old-configure is gone, so use waf
 - instead of patching cd/dvd device names, use sed
 - explicitly disable dependencies we don't have but may get in future

ok, tweaks and testing bentley@@, jasper@@ and sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2016/01/12 09:09:57 czarkoff Exp $
d103 4
@


1.22
log
@update to mpv 0.14.0

Original patch from brad@@

OK feinerer@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/01/08 18:47:01 feinerer Exp $
d8 3
a10 3
GH_ACCOUNT=		mpv-player
GH_PROJECT=		mpv
GH_TAGNAME=		v0.14.0
d18 5
d27 8
a34 4
WANTLIB += EGL GL SDL2 X11 Xext Xinerama Xrandr Xss Xv ass avcodec
WANTLIB += avdevice avfilter avformat avutil bluray c cdio cdio_cdda
WANTLIB += cdio_paranoia dvdnav dvdread jpeg lcms2 m pthread smbclient
WANTLIB += sndio swresample swscale v4l2 z ${MODLUA_WANTLIB}
d56 1
a56 4
# zsh.pl needs to find the binary that was just built
PORTPATH =		\
	${WRKDIR}/bin:${WRKBUILD}:/usr/bin:/bin:/usr/sbin:/sbin:${DEPBASE}/bin:${LOCALBASE}/bin:${X11BASE}/bin

d60 2
a61 5
CFLAGS +=		-I. -I.. -I${LOCALBASE}/include

CONFIGURE_STYLE =	simple
CONFIGURE_SCRIPT =	TOOLS/old-configure
CONFIGURE_ARGS +=	--confdir=${SYSCONFDIR}/mpv \
d63 3
a65 2
			--extra-ldflags="`pkg-config --libs sdl2`" \
			--extra-cflags="`pkg-config --cflags sdl2`" \
d67 1
d70 1
d72 1
d76 2
a77 2
			--disable-ossaudio \
			--disable-optimization \
d79 1
d82 18
a99 6
			--disable-uchardet
CONFIGURE_ENV +=	TMPDIR=${WRKBUILD}

USE_GMAKE =		Yes
MAKE_FLAGS =		V=1
FAKE_FLAGS =		CONFDIR=${DESTDIR}${PREFIX}/share/examples/mpv
d104 13
a116 4
post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/mpv
	${INSTALL_DATA} ${WRKDIST}/etc/*.conf \
	                ${WRKDIST}/TOOLS/mpv_identify.sh \
d119 2
@


1.21
log
@Use libv4l

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/12/28 08:25:52 ajacoutot Exp $
a7 4
V =			0.13.0
DISTNAME =		mpv-${V}
REVISION =		0

d10 1
a10 1
GH_TAGNAME=		v${V}
d22 1
a22 1
WANTLIB += EGL GL X11 Xext Xinerama Xrandr Xss Xv ass avcodec
d24 2
a25 2
WANTLIB += cdio_paranoia dvdnav dvdread jpeg lcms2 m pthread
WANTLIB += smbclient sndio swresample swscale v4l2 z ${MODLUA_WANTLIB}
d37 1
d54 1
a54 1
CFLAGS +=		-I. -I.. -I${LOCALBASE}/include `pkg-config --cflags smbclient`
d60 3
a62 1
			--extra-ldflags="-L${LOCALBASE}/lib" \
a75 4

# pkg-config says smbclient's version is 0
CONFIGURE_ARGS +=	--enable-smb \
			--extra-libs="-lsmbclient"
@


1.20
log
@Enable mpv on mips64 now that it has atomic ops.

from Brad, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/11/22 18:33:04 czarkoff Exp $
d10 1
d29 1
a29 1
WANTLIB += smbclient sndio swresample swscale z ${MODLUA_WANTLIB}
d47 1
@


1.19
log
@update mpv to 0.13.0

Patch from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/10/02 07:34:14 bentley Exp $
d3 2
a4 1
ONLY_FOR_ARCHS =	alpha amd64 i386 powerpc sparc64
@


1.18
log
@Backport an upstream fix for (some?) radeondrm hardware.

ok czarkoff@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/09/26 04:02:31 czarkoff Exp $
d7 1
a7 2
V =			0.11.0
REVISION =		0
d39 1
a39 1
			graphics/ffmpeg \
@


1.17
log
@Update to mpv 0.11.0

From brad@@, ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2015/09/11 14:46:29 bentley Exp $
d8 1
@


1.16
log
@mpv's build assumes that mpv is in PATH during fake; make sure it's so.

Reported by naddy@@, fix from brad, ok czarkoff@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/09/10 10:43:06 bentley Exp $
d6 2
a7 1
V =			0.10.0
d18 1
a18 1
MAINTAINER =		Dmitrij D. Czarkoff <czarkoff@@gmail.com>
@


1.15
log
@Update to mpv-0.10.0.

from brad. ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2015/08/25 11:04:38 jca Exp $
d45 4
@


1.14
log
@Move samba4 to samba, and tweak the ports tree to use it.

ok ajacoutot@@

Upcoming commits will add additional tweaks.

Many thanks to Vadim Zhukov (who did most of the work), Ian McWilliam
(co-maintainer), Stuart Henderson who provided lots of support and
feedback, Antoine Jacoutot who patiently dealt with my broken diffs,
and more generally all the people involved.  Most of the recent work was
done during p2k15 and c2k15.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2015/05/30 07:27:40 ajacoutot Exp $
d6 1
a6 1
V =			0.9.2
d52 1
a52 1
CONFIGURE_SCRIPT =	old-configure
d60 1
d66 2
a67 1
			--disable-rsound
@


1.13
log
@Build mpv on a few more archs.
Lightly tested on i386, macppc and sparc64.

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2015/05/24 10:30:55 ajacoutot Exp $
d49 1
a49 1
CFLAGS +=		-I. -I.. -I${LOCALBASE}/include
@


1.12
log
@Update to mpv-0.9.2.

from brad
ok bentley@@ czarkoff@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2015/05/23 07:58:40 ajacoutot Exp $
d3 1
a3 3
# requires 64-bit atomic ops.
# some other arch could probably be added..certainly fails on i386
ONLY_FOR_ARCHS =	amd64
@


1.11
log
@Enable libbluray support.

from brad
ok czarkoff@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2015/05/06 06:51:03 czarkoff Exp $
d8 1
a8 1
V =			0.9.1
a9 1
REVISION =		0
@


1.10
log
@update to 0.9.1

OK bentley@@, brad@@, sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2015/03/27 08:13:02 ajacoutot Exp $
d10 1
d27 3
a29 4
WANTLIB += avdevice avfilter avformat avresample avutil c cdio
WANTLIB += cdio_cdda cdio_paranoia dvdnav dvdread jpeg lcms2
WANTLIB += m postproc pthread smbclient sndio swresample swscale z
WANTLIB += ${MODLUA_WANTLIB}
d40 1
a40 1
			devel/libdvdread>=4.1.0 \
d45 2
a46 1
			multimedia/libdvdnav>=4.2.0 \
a59 1
			--disable-bluray \
@


1.9
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/03/27 06:11:27 czarkoff Exp $
d8 1
a8 1
V =			0.8.3
a9 1
REVISION =		0
a63 1
			--disable-mpg123 \
d69 1
@


1.8
log
@Update to mpv 0.8.3

OK bentley@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/03/17 09:00:56 czarkoff Exp $
d10 1
d50 1
a50 1
			x11/gtk+2,-guic
@


1.7
log
@update to 0.8.2, from Henrik Friedrichsen, ok bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/02/13 13:49:45 sthen Exp $
d8 1
a8 1
V =			0.8.2
@


1.6
log
@Use the correct default devices for CDROM / DVD playback on OpenBSD; copied
over from MPlayer.

ok sthen@@
@
text
@d8 1
a8 1
V =			0.7.3
a9 1
REVISION =		0
d28 2
a29 1
WANTLIB += m postproc pthread smbclient sndio swscale z ${MODLUA_WANTLIB}
a68 1
			--disable-portaudio \
@


1.5
log
@update to mpv 0.7.3, from Dmitrij D. Czarkoff, ok bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/01/12 06:31:04 bentley Exp $
d10 1
@


1.4
log
@Set MAINTAINER to Dmitrij D. Czarkoff, by request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/01/11 23:52:08 sthen Exp $
d8 1
a8 1
V =			0.7.2
a9 1
REVISION =		1
@


1.3
log
@don't build on i386 (wants 64-bit atomic ops)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2015/01/11 19:44:53 bentley Exp $
d10 1
a10 1
REVISION =		0
d19 2
@


1.2
log
@Don't pick up libcaca if it's installed.

Problem pointed out by Fabian Raetz.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2015/01/11 08:21:39 bentley Exp $
d3 3
a5 2
# undefined reference to `__sync_fetch_and_add_8'
ONLY_FOR_ARCHS =	amd64 i386
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d9 1
d57 1
@


1.1.1.1
log
@Import mpv-0.7.2.

mpv is a fork of mplayer2 and MPlayer.  Its option parser was improved
to behave more like other CLI programs, and many option names and
semantics were reworked to make them more intuitive and memorable.
Instead of default GUI it provides a small controller interface that is
triggered by mouse movement.  OpenGL video output is capable of many
features loved by videophiles, such as video scaling with popular high
quality algorithms, color management, and more, as well as of hardware
decoding using VDPAU and VAAPI.

From Dmitrij D. Czarkoff. ok sthen@@
@
text
@@
