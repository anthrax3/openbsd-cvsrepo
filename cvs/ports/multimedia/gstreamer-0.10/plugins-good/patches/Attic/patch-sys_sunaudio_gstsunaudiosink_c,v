head	1.7;
access;
symbols
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.4.0.6
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.4
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.0.4
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.2
	OPENBSD_4_1_BASE:1.1;
locks; strict;
comment	@# @;


1.7
date	2010.04.28.15.26.14;	author ajacoutot;	state dead;
branches;
next	1.6;

1.6
date	2010.04.28.08.03.23;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2009.11.29.09.17.38;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.06.21.21.03.56;	author deanna;	state Exp;
branches;
next	1.3;

1.3
date	2008.05.13.15.11.51;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2007.09.16.18.15.23;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.09.23.22.56;	author espie;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Remove patches that we longer need as sunaudio is disabled now.
spotted by jakemsr@@
@
text
@$OpenBSD: patch-sys_sunaudio_gstsunaudiosink_c,v 1.6 2010/04/28 08:03:23 ajacoutot Exp $
--- sys/sunaudio/gstsunaudiosink.c.orig	Thu Mar 18 18:55:13 2010
+++ sys/sunaudio/gstsunaudiosink.c	Wed Apr 28 09:06:23 2010
@@@@ -41,7 +41,6 @@@@
 
 #include <fcntl.h>
 #include <string.h>
-#include <stropts.h>
 #include <unistd.h>
 #include <sys/mman.h>
 
@@@@ -312,13 +311,14 @@@@ gst_sunaudiosink_open (GstAudioSink * asink)
       sunaudiosink->info.monitor_gain);
   GST_DEBUG_OBJECT (sunaudiosink, "output_muted %d",
       sunaudiosink->info.output_muted);
+#ifndef __OpenBSD__
   GST_DEBUG_OBJECT (sunaudiosink, "hw_features %08x",
       sunaudiosink->info.hw_features);
   GST_DEBUG_OBJECT (sunaudiosink, "sw_features %08x",
       sunaudiosink->info.sw_features);
   GST_DEBUG_OBJECT (sunaudiosink, "sw_features_enabled %08x",
       sunaudiosink->info.sw_features_enabled);
-
+#endif
   return TRUE;
 
 open_failed:
@@@@ -613,7 +613,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * asink)
   }
 
   /* Flush the audio */
-  ret = ioctl (sunaudiosink->fd, I_FLUSH, FLUSHW);
+  ret = ioctl (sunaudiosink->fd, AUDIO_FLUSH);
   if (ret == -1) {
     GST_ELEMENT_ERROR (sunaudiosink, RESOURCE, SETTINGS, (NULL), ("%s",
             strerror (errno)));
@@@@ -628,7 +628,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * asink)
 
   g_cond_signal (sunaudiosink->sleep_cond);
 
-  ret = ioctl (sunaudiosink->fd, I_FLUSH, FLUSHW);
+  ret = ioctl (sunaudiosink->fd, AUDIO_FLUSH);
   if (ret == -1) {
     GST_ELEMENT_ERROR (sunaudiosink, RESOURCE, SETTINGS, (NULL), ("%s",
             strerror (errno)));
@


1.6
log
@Update to gstreamer-plugins-good-0.10.22.
@
text
@d1 1
a1 1
$OpenBSD: patch-sys_sunaudio_gstsunaudiosink_c,v 1.5 2009/11/29 09:17:38 ajacoutot Exp $
@


1.5
log
@Major update to GStreamer plugins-good 0.10.17.
Months (years?) of changes, refer to the source for changelog.

Simplify DESCR.
Remove -esd subpackage (idea from landry, and ok espie@@ naddy@@)
Remove sunaudio support (solaris) and enable ossaudio to have mixing
capabilities (audio still handled with sndio by default).

tested on a bulk by jasper@@
feedback and sparc64+macppc testing from landry@@

"commitski" jasper, ok landry@@
@
text
@d1 3
a3 3
$OpenBSD: patch-sys_sunaudio_gstsunaudiosink_c,v 1.4 2008/06/21 21:03:56 deanna Exp $
--- sys/sunaudio/gstsunaudiosink.c.orig	Tue May 12 02:00:07 2009
+++ sys/sunaudio/gstsunaudiosink.c	Mon Nov 23 18:28:12 2009
d12 1
a12 1
@@@@ -316,13 +315,14 @@@@ gst_sunaudiosink_open (GstAudioSink * asink)
d28 1
a28 1
@@@@ -617,7 +617,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * asink)
d37 1
a37 1
@@@@ -632,7 +632,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * asink)
@


1.4
log
@Enable the debugging subsystem.

Discussed with ajacoutot@@ who did not object.
@
text
@d1 4
a4 4
$OpenBSD: patch-sys_sunaudio_gstsunaudiosink_c,v 1.3 2008/05/13 15:11:51 espie Exp $
--- sys/sunaudio/gstsunaudiosink.c.orig	Wed Apr  2 18:37:28 2008
+++ sys/sunaudio/gstsunaudiosink.c	Wed Jun 11 21:10:21 2008
@@@@ -44,7 +44,6 @@@@
d12 1
a12 1
@@@@ -320,13 +319,14 @@@@ gst_sunaudiosink_open (GstAudioSink * asink)
d28 1
a28 1
@@@@ -625,7 +625,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * asink)
d37 1
a37 1
@@@@ -640,7 +640,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * asink)
@


1.3
log
@update to recent gstreamer + plugins. Some breakage might occur, it will
be dealt with afterwards.
@
text
@d1 3
a3 3
$OpenBSD: patch-sys_sunaudio_gstsunaudiosink_c,v 1.2 2007/09/16 18:15:23 naddy Exp $
--- sys/sunaudio/gstsunaudiosink.c.orig	Thu Apr  3 00:37:28 2008
+++ sys/sunaudio/gstsunaudiosink.c	Mon May 12 14:28:03 2008
d12 17
a28 1
@@@@ -625,7 +624,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * asink)
d37 1
a37 1
@@@@ -640,7 +639,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * asink)
@


1.2
log
@sync patches
@
text
@d1 4
a4 4
$OpenBSD: patch-sys_sunaudio_gstsunaudiosink_c,v 1.1 2007/01/09 23:22:56 espie Exp $
--- sys/sunaudio/gstsunaudiosink.c.orig	Sat Dec 16 14:51:48 2006
+++ sys/sunaudio/gstsunaudiosink.c	Sun Sep 16 20:09:41 2007
@@@@ -42,7 +42,6 @@@@
d12 1
a12 1
@@@@ -623,7 +622,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * asink)
d21 1
a21 1
@@@@ -638,7 +637,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * asink)
@


1.1
log
@all of gstreamer is happy with SEPARATE_BUILD.

patch it to compile and build the sunaudio plugin.
Not really functional yet, though...
@
text
@d1 3
a3 3
$OpenBSD$
--- sys/sunaudio/gstsunaudiosink.c.orig	Tue Jan  9 23:19:43 2007
+++ sys/sunaudio/gstsunaudiosink.c	Tue Jan  9 23:22:54 2007
d12 1
a12 1
@@@@ -623,7 +622,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * a
d21 1
a21 1
@@@@ -638,7 +637,7 @@@@ gst_sunaudiosink_reset (GstAudioSink * a
@

