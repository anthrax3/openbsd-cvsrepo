head	1.102;
access;
symbols
	OPENBSD_6_0:1.100.0.4
	OPENBSD_6_0_BASE:1.100
	OPENBSD_5_9:1.100.0.2
	OPENBSD_5_9_BASE:1.100
	OPENBSD_5_8:1.98.0.4
	OPENBSD_5_8_BASE:1.98
	OPENBSD_5_7:1.96.0.2
	OPENBSD_5_7_BASE:1.96
	OPENBSD_5_6:1.95.0.2
	OPENBSD_5_6_BASE:1.95
	OPENBSD_5_5:1.94.0.2
	OPENBSD_5_5_BASE:1.94
	OPENBSD_5_4:1.91.0.2
	OPENBSD_5_4_BASE:1.91
	OPENBSD_5_3:1.90.0.2
	OPENBSD_5_3_BASE:1.90
	OPENBSD_5_2:1.84.0.2
	OPENBSD_5_2_BASE:1.84
	OPENBSD_5_1_BASE:1.81
	OPENBSD_5_1:1.81.0.2
	OPENBSD_5_0:1.77.0.2
	OPENBSD_5_0_BASE:1.77
	OPENBSD_4_9:1.70.0.2
	OPENBSD_4_9_BASE:1.70
	OPENBSD_4_8:1.58.0.2
	OPENBSD_4_8_BASE:1.58
	OPENBSD_4_7:1.50.0.2
	OPENBSD_4_7_BASE:1.50
	OPENBSD_4_6:1.43.0.2
	OPENBSD_4_6_BASE:1.43
	OPENBSD_4_5:1.32.0.2
	OPENBSD_4_5_BASE:1.32
	OPENBSD_4_4:1.21.0.2
	OPENBSD_4_4_BASE:1.21
	OPENBSD_4_3:1.15.0.2
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	new:1.1.1.1
	gstreamer:1.1.1;
locks; strict;
comment	@# @;


1.102
date	2016.11.23.14.52.15;	author dcoppa;	state Exp;
branches;
next	1.101;
commitid	QWGFJlWNBZ6vYTbs;

1.101
date	2016.10.26.12.35.08;	author ajacoutot;	state Exp;
branches;
next	1.100;
commitid	KLOhQ3DPI5LztBTS;

1.100
date	2016.01.07.17.35.09;	author feinerer;	state Exp;
branches
	1.100.4.1;
next	1.99;
commitid	AFPprAHbRC2E8Tv0;

1.99
date	2016.01.01.14.50.14;	author feinerer;	state Exp;
branches;
next	1.98;
commitid	EoLpk9kB7GaOXejV;

1.98
date	2015.06.10.21.42.26;	author sthen;	state Exp;
branches;
next	1.97;
commitid	KAX1WKnTNUH3EZBA;

1.97
date	2015.04.04.09.21.02;	author ajacoutot;	state Exp;
branches;
next	1.96;
commitid	kS3kwKZogsvzYmEY;

1.96
date	2014.10.23.23.20.07;	author brad;	state Exp;
branches;
next	1.95;
commitid	gny9wDO4hVeC4Brg;

1.95
date	2014.04.01.16.31.40;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2013.11.20.08.53.06;	author ajacoutot;	state Exp;
branches;
next	1.93;

1.93
date	2013.10.26.08.02.57;	author ajacoutot;	state Exp;
branches;
next	1.92;

1.92
date	2013.09.27.17.49.06;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2013.03.31.13.23.26;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2013.02.06.14.23.06;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2012.10.04.07.39.51;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2012.09.10.08.05.09;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2012.09.09.06.38.09;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2012.09.06.14.30.59;	author ajacoutot;	state Exp;
branches;
next	1.85;

1.85
date	2012.09.06.12.37.58;	author ajacoutot;	state Exp;
branches;
next	1.84;

1.84
date	2012.02.21.15.27.13;	author ajacoutot;	state Exp;
branches;
next	1.83;

1.83
date	2012.02.21.13.40.10;	author ajacoutot;	state Exp;
branches;
next	1.82;

1.82
date	2012.02.21.08.46.08;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2012.01.25.14.06.27;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2011.10.29.08.12.32;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2011.09.30.19.05.50;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2011.09.16.10.31.23;	author espie;	state Exp;
branches;
next	1.77;

1.77
date	2011.07.07.23.18.43;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2011.06.16.09.10.10;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2011.05.15.08.32.09;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2011.04.28.13.10.57;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2011.04.07.12.37.28;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2011.03.08.17.21.48;	author ajacoutot;	state Exp;
branches;
next	1.71;

1.71
date	2011.03.07.19.44.35;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2010.12.02.14.04.49;	author ajacoutot;	state Exp;
branches;
next	1.69;

1.69
date	2010.11.19.07.23.13;	author espie;	state Exp;
branches;
next	1.68;

1.68
date	2010.11.06.20.48.11;	author espie;	state Exp;
branches;
next	1.67;

1.67
date	2010.10.28.11.39.53;	author steven;	state Exp;
branches;
next	1.66;

1.66
date	2010.10.24.21.27.41;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2010.10.11.08.15.54;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2010.10.02.07.40.05;	author jasper;	state Exp;
branches;
next	1.63;

1.63
date	2010.09.30.13.46.06;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2010.09.30.07.21.20;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2010.09.12.22.33.57;	author jakemsr;	state Exp;
branches;
next	1.60;

1.60
date	2010.09.03.15.48.14;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2010.08.26.21.33.27;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2010.07.24.09.25.01;	author sthen;	state Exp;
branches;
next	1.57;

1.57
date	2010.07.24.07.35.08;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2010.07.22.19.17.33;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2010.07.05.07.33.38;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2010.06.02.12.06.54;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2010.04.28.08.03.23;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2010.04.06.09.21.21;	author kili;	state Exp;
branches;
next	1.51;

1.51
date	2010.03.21.11.24.46;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2009.12.14.11.36.26;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2009.11.29.09.17.38;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2009.10.14.13.59.23;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2009.09.28.19.52.15;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2009.09.28.18.27.13;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2009.09.08.08.00.18;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2009.08.10.06.33.02;	author kili;	state Exp;
branches;
next	1.43;

1.43
date	2009.06.11.18.26.44;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2009.06.08.16.46.11;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2009.06.07.06.02.20;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2009.06.03.20.24.31;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2009.04.11.14.37.21;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2009.03.27.15.48.51;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2009.03.27.15.12.19;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2009.03.16.22.20.02;	author kili;	state Exp;
branches;
next	1.35;

1.35
date	2009.03.16.12.03.18;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2009.03.10.23.19.17;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2009.03.05.07.49.45;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2009.02.05.20.32.08;	author sthen;	state Exp;
branches
	1.32.2.1;
next	1.31;

1.31
date	2009.01.30.02.18.53;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2009.01.29.20.40.43;	author sturm;	state Exp;
branches;
next	1.29;

1.29
date	2009.01.26.12.32.43;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2009.01.25.18.55.31;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.01.18.09.05.19;	author sturm;	state Exp;
branches;
next	1.26;

1.26
date	2009.01.16.02.44.17;	author jakemsr;	state Exp;
branches;
next	1.25;

1.25
date	2008.11.03.23.24.08;	author jakemsr;	state Exp;
branches;
next	1.24;

1.24
date	2008.09.24.23.01.32;	author jakemsr;	state Exp;
branches;
next	1.23;

1.23
date	2008.09.22.15.45.56;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2008.09.22.15.36.56;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2008.06.21.21.03.56;	author deanna;	state Exp;
branches;
next	1.20;

1.20
date	2008.06.14.17.17.26;	author deanna;	state Exp;
branches;
next	1.19;

1.19
date	2008.06.01.08.21.15;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2008.05.18.13.37.22;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2008.05.16.14.24.01;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2008.05.13.15.11.51;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2008.02.14.18.51.59;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2007.10.21.14.33.07;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2007.10.14.11.12.54;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2007.10.08.08.22.41;	author steven;	state Exp;
branches;
next	1.11;

1.11
date	2007.09.18.18.33.25;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2007.09.16.03.24.28;	author merdely;	state Exp;
branches;
next	1.9;

1.9
date	2007.05.14.05.51.43;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2007.02.11.00.56.57;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2007.01.10.12.58.31;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2007.01.10.01.41.02;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2007.01.10.00.34.49;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2007.01.09.23.22.56;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2007.01.09.22.01.27;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2007.01.09.21.33.25;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.08.17.37.27;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.08.17.37.27;	author espie;	state Exp;
branches;
next	;

1.32.2.1
date	2009.08.16.01.08.34;	author william;	state Exp;
branches;
next	;

1.100.4.1
date	2016.11.24.08.09.01;	author dcoppa;	state Exp;
branches;
next	;
commitid	PPt5qeCKtXrhGBer;


desc
@@


1.102
log
@
Security fix for flxdec: add some write bounds checking

Without checking the bounds of the frame we are writing into, we can
write off the end of the destination buffer.

https://scarybeastsecurity.blogspot.dk/2016/11/0day-exploit-advancing-exploitation.html

https://bugzilla.gnome.org/show_bug.cgi?id=774834

From upstream git

OK ajacoutot@@
@
text
@# $OpenBSD: Makefile,v 1.101 2016/10/26 12:35:08 ajacoutot Exp $

# XXX ossaudio(3) is only enabled to be used as a mixing device by
# audio/pulseaudio and x11/xfce4/xfce4-mixer

COMMENT-main=		good elements for GStreamer
COMMENT-aalib=		aalib element for GStreamer (plugins-good)
COMMENT-dv=		dv element for GStreamer (plugins-good)
COMMENT-caca=		libcaca element for GStreamer (plugins-good)

V=			0.10.31
DISTNAME=		gst-plugins-good-${V}
PKGNAME=		gstreamer-plugins-good-${V}

PKGNAME-main=		gstreamer-plugins-good-${V}
PKGNAME-aalib=		gstreamer-aalib-${V}
PKGNAME-dv=		gstreamer-dv-${V}
PKGNAME-caca=		gstreamer-libcaca-${V}
EPOCH-main=		0

REVISION-main=		18
REVISION-aalib=		8
REVISION-dv=		8
REVISION-caca=		8

MULTI_PACKAGES=		-main -aalib -dv -caca

MASTER_SITES=		${MASTER_SITE_GST:=gst-plugins-good/}

MODULES=		devel/gconf2
MODGCONF2_LIBDEP=	No
MODGCONF2_SCHEMAS_DIR=	gst-plugins

WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 lzma pthread
WANTLIB += pcre xml2 m z gstreamer-0.10 gstbase-0.10 ffi

WANTLIB-main += ${WANTLIB} ${MODGCONF2_WANTLIB}
WANTLIB-main += FLAC ICE SM X11 Xdamage Xext Xfixes Xrender
WANTLIB-main += Xv bz2 cairo cairo-gobject dbus-1 dbus-glib-1
WANTLIB-main += expat fontconfig freetype gdk_pixbuf-2.0
WANTLIB-main += gio-2.0 gstaudio-0.10 gstcontroller-0.10 xcb-shm
WANTLIB-main += gstfft-0.10 gstinterfaces-0.10 gstnetbuffer-0.10 gstpbutils-0.10
WANTLIB-main += gstriff-0.10 gstrtp-0.10 gstrtsp-0.10 gstsdp-0.10 gsttag-0.10
WANTLIB-main += gstvideo-0.10 jpeg ogg orc-0.4 ossaudio pixman-1 png
WANTLIB-main += pthread-stubs shout sndio soup-2.4 soup-gnome-2.4 speex
WANTLIB-main += sqlite3 stdc++ tag theora v4l2 v4lconvert vorbis wavpack
WANTLIB-main += xcb xcb-render

WANTLIB-aalib += ${WANTLIB}
WANTLIB-aalib += X11 aa ncurses xcb

WANTLIB-caca += ${WANTLIB}
WANTLIB-caca += X11 caca ncursesw xcb

WANTLIB-dv += ${WANTLIB}
WANTLIB-dv += dv gstaudio-0.10 gstinterfaces-0.10 gstpbutils-0.10

RUN_DEPENDS=		${BUILD_PKGPATH}
LIB_DEPENDS=		${P}/core

# needed for ${WRKSRC}/tests/
BUILD_DEPENDS += x11/gtk+2

LIB_DEPENDS-main=	${LIB_DEPENDS} \
			${MODGCONF2_LIB_DEPENDS} \
			${P}/plugins-base \
			archivers/bzip2 \
			audio/flac \
			audio/speex \
			audio/taglib \
			audio/wavpack \
			devel/libsoup \
			devel/orc \
			graphics/gdk-pixbuf2 \
			graphics/jpeg \
			multimedia/libv4l \
			net/libshout
RUN_DEPENDS-main=	${MODGCONF2_RUN_DEPENDS} \
			${MODGETTEXT_RUN_DEPENDS}

LIB_DEPENDS-aalib=	${LIB_DEPENDS} \
			graphics/aalib

LIB_DEPENDS-dv=		${LIB_DEPENDS} \
			${P}/plugins-base \
			multimedia/libdv

LIB_DEPENDS-caca=	${LIB_DEPENDS} \
			graphics/libcaca

CONFIGURE_ARGS=		--with-aalib-prefix=${LOCALBASE} \
			--disable-dv1394 \
			--disable-pulse \
			--disable-sunaudio \
			--disable-esd \
			--disable-esdtest \
			--disable-oss4 \
			--disable-jack \
			--enable-goom

### SNDIO ###
CONFIGURE_STYLE +=	gnu
AUTOMAKE_VERSION=	1.10
BUILD_DEPENDS +=	${MODGNU_AUTOMAKE_DEPENDS} \
			${MODGNU_AUTOCONF_DEPENDS}
BUILD_DEPENDS +=	devel/libtool # needs needs libtoolize

post-extract:
	cp -R ${FILESDIR} ${WRKSRC}/ext/sndio

# autopoint(1) uses HOME, make sure it exists
pre-configure:
	cd ${WRKSRC} && HOME=${WRKDIST} \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		AUTOMAKE=automake-${AUTOMAKE_VERSION} \
		NOCONFIGURE="true" \
		${CONFIGURE_ENV} ./autogen.sh ${CONFIGURE_ARGS}
### END SNDIO ###
	perl -pi -e 's,/dev/dsp,/dev/audio,g' \
		${WRKSRC}/docs/plugins/gst-plugins-good-plugins.args \
		${WRKSRC}/docs/plugins/html/gst-plugins-good-plugins-osssink.html \
		${WRKSRC}/docs/plugins/html/gst-plugins-good-plugins-osssrc.html \
		${WRKSRC}/sys/oss/gstosssink.c \
		${WRKSRC}/sys/oss/gstosssrc.c

.include <bsd.port.mk>
@


1.101
log
@http -> https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2016/01/07 17:35:09 feinerer Exp $
d21 1
a21 1
REVISION-main=		17
@


1.100
log
@Use libv4l

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2016/01/01 14:50:14 feinerer Exp $
d21 4
a24 4
REVISION-main=		16
REVISION-aalib=		7
REVISION-dv=		7
REVISION-caca=		7
@


1.100.4.1
log
@
MFC: security fixes for gstreamer-0.10 and gstreamer1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2016/01/07 17:35:09 feinerer Exp $
d21 1
a21 1
REVISION-main=		17
@


1.99
log
@Deal with recent videoio.h update

"please do it" ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2015/06/10 21:42:26 sthen Exp $
d21 1
a21 1
REVISION-main=		15
d46 2
a47 1
WANTLIB-main += sqlite3 stdc++ tag theora vorbis wavpack xcb xcb-render
d76 1
@


1.98
log
@sync wantlib, mostly lzma (from xml2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2015/04/04 09:21:02 ajacoutot Exp $
d21 1
a21 1
REVISION-main=		14
@


1.97
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2014/10/23 23:20:07 brad Exp $
d21 4
a24 4
REVISION-main=		13
REVISION-aalib=		6
REVISION-dv=		6
REVISION-caca=		6
d34 1
a34 1
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 pthread
@


1.96
log
@Remove V4L2 anonymous unions workaround patch.

Diff sent to the MAINTAINER but it sounds like he is possibly
away travelling so put it in so it still builds.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2014/04/01 16:31:40 ajacoutot Exp $
d21 4
a24 4
REVISION-main=		12
REVISION-aalib=		5
REVISION-dv=		5
REVISION-caca=		5
@


1.95
log
@Seems I forgot that part in previous rampage...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2013/11/20 08:53:06 ajacoutot Exp $
d21 1
a21 1
REVISION-main=		11
@


1.94
log
@Sync wantlib; after a mail from dave del debbio.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2013/10/26 08:02:57 ajacoutot Exp $
d21 4
a24 4
REVISION-main=		10
REVISION-aalib=		4
REVISION-dv=		4
REVISION-caca=		4
@


1.93
log
@Fix dependencies and bump after the recent libsoup -gnome => -main merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2013/09/27 17:49:06 ajacoutot Exp $
d21 1
a21 1
REVISION-main=		9
d38 1
a38 1
WANTLIB-main += FLAC ICE SM X11 Xau Xdamage Xext Xfixes Xrender
@


1.92
log
@Bump after devel/gconf2,-main is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/03/31 13:23:26 ajacoutot Exp $
d21 1
a21 1
REVISION-main=		8
d71 1
a71 1
			devel/libsoup,-gnome \
@


1.91
log
@Unbreak by fixing WANTLIB.

reported by sthen@@, rpe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/02/06 14:23:06 ajacoutot Exp $
d21 4
a24 4
REVISION-main=		7
REVISION-aalib=		3
REVISION-dv=		3
REVISION-caca=		3
@


1.90
log
@Quiet gconftool-2:
gconf_ping() will try to shutdown gconfd, but since installing pkg is
done as root, there is not gconfd nor dbus that can be started when
DISPLAY isn't set and an annoying warning is issued.

discussed with espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2012/10/04 07:39:51 ajacoutot Exp $
d21 1
a21 1
REVISION-main=		6
d38 4
a41 4
WANTLIB-main += FLAC GL ICE SM X11 Xau Xdamage Xdmcp Xext Xfixes Xrender
WANTLIB-main += Xv Xxf86vm bz2 cairo cairo-gobject dbus-1 dbus-glib-1
WANTLIB-main += drm expat fontconfig freetype gcrypt gdk_pixbuf-2.0
WANTLIB-main += gio-2.0 gnome-keyring gpg-error gstaudio-0.10 gstcontroller-0.10
a46 1
WANTLIB-main += xcb-shm
@


1.89
log
@Need x11/gtk+2 at build time to build the tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2012/09/10 08:05:09 ajacoutot Exp $
d21 1
a21 1
REVISION-main=		5
@


1.88
log
@Sanitize WRKDIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2012/09/09 06:38:09 ajacoutot Exp $
d60 3
@


1.87
log
@Fix i18n initialization (from upstream).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2012/09/06 14:30:59 ajacoutot Exp $
d13 1
d21 4
a24 4
REVISION-main=		4
REVISION-aalib=		2
REVISION-dv=		2
REVISION-caca=		2
@


1.86
log
@Simplify patching.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2012/09/06 12:37:58 ajacoutot Exp $
d20 1
a20 1
REVISION-main=		3
@


1.85
log
@HUGE cleanup to be in synced with upcoming gstreamer1.
Add DIST_SUBDIR, req. by jasper@@
Merge -cdda into -main for plugins-base.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2012/02/21 15:27:13 ajacoutot Exp $
d20 1
a20 1
REVISION-main=		2
d115 6
@


1.84
log
@Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2012/02/21 13:40:10 ajacoutot Exp $
d6 18
a23 30
COMMENT-main =		good elements for GStreamer
COMMENT-aalib =		aalib element for GStreamer (plugins-good)
COMMENT-dv =		dv element for GStreamer (plugins-good)
COMMENT-caca =		libcaca element for GStreamer (plugins-good)

V =			0.10.31
DISTNAME =		gst-plugins-good-$V

PKGNAME-main =		gstreamer-plugins-good-${V}
PKGNAME-aalib =		gstreamer-aalib-${V}
PKGNAME-dv =		gstreamer-dv-${V}
PKGNAME-caca =		gstreamer-libcaca-${V}
EPOCH-main =		0

REVISION-main =		1
REVISION-aalib =	1
REVISION-dv =		1
REVISION-caca =		1

MULTI_PACKAGES =	-main -aalib \
			-dv -caca

MASTER_SITES =		${MASTER_SITE_GST:=gst-plugins-good/}

MODULES =		devel/gettext \
			devel/gconf2

USE_LIBTOOL=		Yes
# needs libtoolize
BUILD_DEPENDS +=	devel/libtool
d25 5
d33 28
a60 22
.for i in ${MULTI_PACKAGES}
REGRESS_DEPENDS +=	${BASE_PKGPATH},${i}
.endfor

RUN_DEPENDS =		${BUILD_PKGPATH}
WANTLIB =		glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 \
			pcre xml2 m z gstreamer-0.10 gstbase-0.10 ffi
LIB_DEPENDS =		$P/core>=0.10.36

WANTLIB-main =		${WANTLIB} ${MODGCONF2_WANTLIB} gdk_pixbuf-2.0 \
			ICE SM X11 Xdamage Xext Xfixes sndio ossaudio \
			gstcontroller-0.10 Xau Xdmcp xcb-render cairo-gobject \
			pthread-stubs xcb Xrender cairo expat orc-0.4 \
			fontconfig freetype ogg pixman-1 png Xv \
			stdc++ theora vorbis dbus-1 GL Xxf86vm \
			gstaudio-0.10 gstinterfaces-0.10 gstnetbuffer-0.10 \
			gstriff-0.10 gstrtp-0.10 gsttag-0.10 gstvideo-0.10 \
			gstfft-0.10 gstrtsp-0.10 gstsdp-0.10 gstpbutils-0.10 \
			FLAC jpeg tag wavpack speex gsttag-0.10 shout bz2 \
			gcrypt gio-2.0 gnome-keyring drm xcb-shm \
			gpg-error soup-2.4 soup-gnome-2.4 sqlite3 dbus-glib-1
LIB_DEPENDS-main =	${LIB_DEPENDS} \
a61 1
			devel/orc>=0.4.6 \
d63 1
d65 1
a65 1
			graphics/jpeg \
a67 4
			audio/speex \
			$P/plugins-base \
			net/libshout \
			archivers/bzip2 \
d69 5
a73 2
			graphics/gdk-pixbuf2
RUN_DEPENDS-main =	${MODGCONF2_RUN_DEPENDS} \
d76 1
a76 3
WANTLIB-aalib=		${WANTLIB} \
			X11 ncurses xcb aa
LIB_DEPENDS-aalib =	${LIB_DEPENDS} \
d79 5
a83 8
WANTLIB-dv =		${WANTLIB} dv gstaudio-0.10 gstinterfaces-0.10 gstpbutils-0.10
LIB_DEPENDS-dv =	${LIB_DEPENDS} \
			multimedia/libdv \
			${P}/plugins-base

WANTLIB-caca =		${WANTLIB} \
			X11 ncursesw xcb caca
LIB_DEPENDS-caca =	${LIB_DEPENDS} \
d86 1
a86 1
CONFIGURE_ARGS +=	--with-aalib-prefix=${LOCALBASE} \
a87 3
			--disable-hal \
			--disable-osx_audio \
			--disable-osx_video \
a88 1
			--disable-directsound \
a91 1
			--disable-jack \
d94 8
a101 4
			--enable-gst_v4l2 \
			--enable-goom \
			--enable-orc
CONFIGURE_ENV +=	ac_cv_path_PYTHON=""
a105 3
AUTOMAKE_VERSION =	1.10
BUILD_DEPENDS +=	${MODGNU_AUTOMAKE_DEPENDS}

d108 7
a114 3
	cd ${WRKSRC} && HOME=${WRKDIST} AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} AUTOMAKE=automake-${AUTOMAKE_VERSION} \
		NOCONFIGURE="true" ${CONFIGURE_ENV} ./autogen.sh ${CONFIGURE_ARGS}
@


1.83
log
@sndio_debug -> gst_sndio_debug to prevent symbol name clash with sndio(7).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2012/02/21 08:46:08 ajacoutot Exp $
d20 4
a23 4
REVISION-main =		0
REVISION-aalib =	0
REVISION-dv =		0
REVISION-caca =		0
d46 1
a46 1
			pcre xml2 m z gstreamer-0.10 gstbase-0.10 ffi util
@


1.82
log
@Update to gstreamer-plugins-good-0.10.31.
Detail changelog available at:
http://download.gnome.org/sources/gst-plugins-good/0.10/gst-plugins-good-0.10.31.changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2012/01/25 14:06:27 ajacoutot Exp $
d20 5
d46 1
a46 1
			pcre xml2 m z gstreamer-0.10 gstbase-0.10 ffi
@


1.81
log
@Rename libsndio{sink,src} to sndio{sink,src}.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2011/10/29 08:12:32 ajacoutot Exp $
d11 1
a11 1
V =			0.10.30
a17 6

REVISION-main = 	3
REVISION-aalib = 	2
REVISION-dv = 		2
REVISION-caca = 	2

d42 1
a42 1
LIB_DEPENDS =		$P/core>=0.10.30
d78 1
a78 1
WANTLIB-dv =		${WANTLIB} dv gstaudio-0.10 gstinterfaces-0.10
@


1.80
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2011/09/30 19:05:50 ajacoutot Exp $
d19 1
a19 1
REVISION-main = 	2
d113 1
a113 1
	cp -R ${FILESDIR} ${WRKSRC}/ext/libsndio
@


1.79
log
@Add comment about ossaudio(3).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2011/09/16 10:31:23 espie Exp $
d19 4
a22 4
REVISION-main = 	1
REVISION-aalib = 	1
REVISION-dv = 		1
REVISION-caca = 	1
d47 1
a47 1
			pcre xml2 m z gstreamer-0.10 gstbase-0.10
d55 1
a55 1
			stdc++ theora vorbis ORBit-2 dbus-1 GL Xxf86vm \
d61 1
a61 1
			gpg-error soup-2.4 soup-gnome-2.4 sqlite3
d80 1
a80 1
			X11 ncurses Xau Xdmcp pthread-stubs xcb aa
d90 1
a90 1
			X11 ncursesw Xau Xdmcp pthread-stubs xcb caca
@


1.78
log
@normalize pkgpath
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.77 2011/07/07 23:18:43 ajacoutot Exp $
@


1.77
log
@Reality is hard but one has to accept it... take maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2011/06/16 09:10:10 ajacoutot Exp $
d16 4
a19 4
REVISION-main = 	0
REVISION-aalib = 	0
REVISION-dv = 		0
REVISION-caca = 	0
@


1.76
log
@Minor update to gstreamer-plugins-good-0.10.30.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2011/05/15 08:32:09 ajacoutot Exp $
d15 5
@


1.75
log
@Update to gstreamer-plugins-good-0.10.29.
* amrparse, aacparse, ac3parse, flacparse, mpegaudioparse, dcaparse audio parsers
* muxers now mux based on running time
* ISO MP4 muxers: mp4mux/3gppmux/qtmux/mj2mux
* new matroskaparse element
* new v4l2radio element
* rtpsession: support RTCP Early Feedback (the AVPF profile)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2011/04/28 13:10:57 ajacoutot Exp $
d8 1
a8 1
V =			0.10.29
@


1.74
log
@Regen dependencies after recent updates: drop eggdbus dependency.
(this will also fix a symbol conflict between libeggdbus and glib2)

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2011/04/07 12:37:28 ajacoutot Exp $
d8 1
a8 1
V =			0.10.28
a17 2
REVISION-main =		1

d44 1
a44 1
			gstcontroller-0.10 Xau Xdmcp xcb-render \
d98 1
d114 1
a114 1
		NOCONFIGURE="true" ./autogen.sh
@


1.73
log
@Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2011/03/08 17:21:48 ajacoutot Exp $
d18 1
a18 1
REVISION-main =		0
d69 1
a69 2
			graphics/gdk-pixbuf2 \
			devel/eggdbus
@


1.72
log
@Update to gstreamer-plugins-good-0.10.28.
No change since it's only a compile fix for linux, but this keeps us up
to date.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2011/03/07 19:44:35 ajacoutot Exp $
d18 2
d54 2
a55 2
			gcrypt gio-2.0 gnome-keyring gnutls drm xcb-shm \
			gpg-error proxy soup-2.4 soup-gnome-2.4 sqlite3 tasn1
@


1.71
log
@Update to gstreamer-plugins-good-0.10.27.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2010/12/02 14:04:49 ajacoutot Exp $
d8 1
a8 1
V =			0.10.27
@


1.70
log
@Update to gstreamer-plugins-good-0.10.26.
Relase notes available at:
 http://gstreamer.freedesktop.org/releases/gst-plugins-good/0.10.26.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2010/11/19 07:23:13 espie Exp $
d8 1
a8 1
V =			0.10.26
d46 1
a46 1
			fontconfig freetype ogg pixman-1 png \
d97 1
@


1.69
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2010/11/06 20:48:11 espie Exp $
d8 1
a8 1
V =			0.10.25
a15 1
REVISION-main =		2
a16 1
REVISION-caca =		0
d44 1
a44 1
			gstcontroller-0.10 Xau Xdmcp xcb-render xcb-render-util \
d47 1
a47 1
			stdc++ theora vorbis ORBit-2 dbus-1 dbus-glib-1 \
d52 1
a52 1
			eggdbus-1 gcrypt gio-2.0 gnome-keyring gnutls \
@


1.68
log
@gconf2 module goes wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2010/10/28 11:39:53 steven Exp $
d30 1
a30 1
BUILD_DEPENDS +=	::devel/libtool
d36 1
a36 1
REGRESS_DEPENDS +=	::${BASE_PKGPATH},${i}
d39 1
a39 1
RUN_DEPENDS =		::${BUILD_PKGPATH}
d42 1
a42 1
LIB_DEPENDS =		:gstreamer->=0.10.30:$P/core
d58 13
a70 13
			:orc->=0.4.6:devel/orc \
			::${P}/plugins-base \
			::audio/flac \
			::graphics/jpeg \
			::audio/taglib \
			::audio/wavpack \
			::audio/speex \
			::$P/plugins-base \
			::net/libshout \
			::archivers/bzip2 \
			::devel/libsoup,-gnome \
			::graphics/gdk-pixbuf2 \
			::devel/eggdbus
d77 1
a77 1
			::graphics/aalib
d81 2
a82 2
			::multimedia/libdv \
			::${P}/plugins-base
d87 1
a87 1
			::graphics/libcaca
@


1.67
log
@another libtoolize user:
use openbsd libtool and add a build dependency on gnu libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2010/10/24 21:27:41 ajacoutot Exp $
d44 1
a44 1
WANTLIB-main =		${WANTLIB} gdk_pixbuf-2.0 \
@


1.66
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2010/10/11 08:15:54 jasper Exp $
d28 3
a30 2
# XXX: needs libtoolize
USE_LIBTOOL=		gnu
@


1.65
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2010/10/02 07:40:05 jasper Exp $
a24 1
USE_X11 =		Yes
@


1.64
log
@this also needs libtoolize to build, so set to gnu libtool..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/09/30 13:46:06 ajacoutot Exp $
d16 1
a16 1
REVISION-main =		1
d48 1
a48 1
			fontconfig freetype glitz ogg pixman-1 png \
@


1.63
log
@Merge -gdk into -main now that gdk-pixbuf has been moved away from gtk+2.

jasper agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/09/30 07:21:20 ajacoutot Exp $
d28 3
@


1.62
log
@Fix DEPENDS after gtk+2 and gdk-pixbuf split.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/09/12 22:33:57 jakemsr Exp $
a5 1
COMMENT-gdk =		gdk pixbuf element for GStreamer (plugins-good)
a13 1
PKGNAME-gdk =		gstreamer-gdk-pixbuf-${V}
d16 1
a16 1
REVISION-main =		0
d18 1
a18 1
REVISION-gdk =		0
d21 1
a21 1
			-dv -gdk -caca
d41 1
a41 1
WANTLIB-main =		${WANTLIB} \
d65 3
a67 1
			::devel/libsoup,-gnome
a80 6
WANTLIB-gdk =		${WANTLIB} \
			gio-2.0 gdk_pixbuf-2.0 gstvideo-0.10
LIB_DEPENDS-gdk =	${LIB_DEPENDS} \
			::graphics/gdk-pixbuf2 \
			::$P/plugins-base

d82 1
a82 1
			X11 ncurses Xau Xdmcp pthread-stubs xcb caca
@


1.61
log
@* no more anonymous unions in video(4)
* bump REVISION-main
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/09/03 15:48:14 ajacoutot Exp $
d20 1
d84 1
a84 1
			::x11/gtk+2 \
@


1.60
log
@Update to gstreamer-plugins-good-0.10.25.
More info at:
http://gstreamer.freedesktop.org/releases/gst-plugins-good/0.10.25.html

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/08/26 21:33:27 ajacoutot Exp $
d18 1
@


1.59
log
@Merge -soup into -main.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/07/24 09:25:01 sthen Exp $
d9 1
a9 1
V =			0.10.24
a18 6

REVISION-main =		2
REVISION-aalib =	1
REVISION-dv =		1
REVISION-gdk =		1
REVISION-caca =		1
@


1.58
log
@plugins-{base,good} require gstreamer-0.10.30; tighten LIB_DEPENDS pkgspec
and bump. pointed out by Brian on ports. ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/07/24 07:35:08 ajacoutot Exp $
a7 1
COMMENT-soup =		libsoup element for GStreamer (plugins-good)
a12 1
EPOCH-main =		0
a16 1
PKGNAME-soup =		gstreamer-libsoup-${V}
d18 7
a24 1
REVISION =		1
d27 1
a27 1
			-dv -gdk -caca -soup
d56 3
a58 1
			FLAC jpeg tag wavpack speex gsttag-0.10 shout bz2
d70 2
a71 1
			::archivers/bzip2
a94 8

WANTLIB-soup =		${WANTLIB} \
			ORBit-2 dbus-1 dbus-glib-1 gcrypt gio-2.0 \
			gnome-keyring gnutls gpg-error gsttag-0.10 proxy \
			sqlite3 tasn1 eggdbus-1 soup-2.4 soup-gnome-2.4
LIB_DEPENDS-soup =	${LIB_DEPENDS} \
			${MODGCONF2_LIB_DEPENDS} \
			::devel/libsoup,-gnome
@


1.57
log
@Better COMMENT for plugins subpackages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/07/22 19:17:33 ajacoutot Exp $
d21 1
a21 5
REVISION-aalib =	0
REVISION-dv =		0
REVISION-gdk =		0
REVISION-caca =		0
REVISION-soup =		0
d42 1
a42 1
LIB_DEPENDS =		:gstreamer->=0.10.29:$P/core
@


1.56
log
@Update to gstreamer-plugins-good-0.10.24.
Requires automake-1.10.
Enable orc support.
Convert to new DEPENDS and EPOCH.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/07/05 07:33:38 espie Exp $
d4 5
a8 5
COMMENT-aalib =		aalib element for GStreamer (good)
COMMENT-dv =		dv element for GStreamer (good)
COMMENT-gdk =		gdk pixbuf element for GStreamer (good)
COMMENT-caca =		libcaca element for GStreamer (good)
COMMENT-soup =		libsoup element for GStreamer (good)
d14 1
a14 1
EPOCH-main=		0
d20 6
@


1.55
log
@soup is not in gnome sub
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/06/02 12:06:54 ajacoutot Exp $
d10 1
a10 1
V =			0.10.23
d13 2
a14 1
PKGNAME-main =		gstreamer-plugins-good-${V}v0
d39 2
a40 2
			pcre xml2 m z
LIB_DEPENDS =		gstreamer-0.10,gstbase-0.10:gstreamer->=0.10.29:$P/core
d45 1
a45 1
			pthread-stubs xcb Xrender cairo expat \
d47 5
a51 1
			stdc++ theora vorbis ORBit-2 dbus-1 dbus-glib-1
d54 10
a63 10
			oil-0.3::devel/liboil \
			gstaudio-0.10,gstinterfaces-0.10,gstnetbuffer-0.10,gstriff-0.10,gstrtp-0.10,gsttag-0.10,gstvideo-0.10,gstfft-0.10,gstrtsp-0.10,gstsdp-0.10,gstpbutils-0.10::${P}/plugins-base \
			FLAC.>=9::audio/flac \
			jpeg.>=62::graphics/jpeg \
			tag.>=7::audio/taglib \
			wavpack::audio/wavpack \
			speex::audio/speex \
			gsttag-0.10::$P/plugins-base \
			shout::net/libshout \
			bz2.>=10::archivers/bzip2
d68 1
a68 1
			X11 ncurses Xau Xdmcp pthread-stubs xcb
d70 1
a70 1
			aa::graphics/aalib
d72 1
a72 1
WANTLIB-dv =		${WANTLIB}
d74 2
a75 2
			dv::multimedia/libdv \
			gstaudio-0.10,gstinterfaces-0.10::${P}/plugins-base
d78 1
a78 1
			gio-2.0
d80 2
a81 2
			gdk_pixbuf-2.0::x11/gtk+2 \
			gstvideo-0.10::$P/plugins-base
d84 1
a84 1
			X11 ncurses Xau Xdmcp pthread-stubs xcb
d86 1
a86 1
			caca::graphics/libcaca
d91 1
a91 1
			sqlite3 tasn1 eggdbus-1 soup-2.4
d94 1
a94 1
			soup-gnome-2.4::devel/libsoup,-gnome
d108 2
a109 1
			--enable-goom
d115 1
a115 1
AUTOMAKE_VERSION =	1.9
@


1.54
log
@Update to gstreamer-plugins-good-0.10.23
support for WebM/VP8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/04/28 08:03:23 ajacoutot Exp $
d86 1
a86 1
			sqlite3 tasn1 eggdbus-1
d89 1
a89 1
			soup-2.4,soup-gnome-2.4::devel/libsoup,-gnome
@


1.53
log
@Update to gstreamer-plugins-good-0.10.22.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/04/06 09:21:21 kili Exp $
d10 1
a10 1
V =			0.10.22
d101 1
@


1.52
log
@Adjust @@conflict marker for gstreamer-plugins-bad; libgstshapewipe.so
has been moved with version 0.10.18, not 0.10.8.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/03/21 11:24:46 ajacoutot Exp $
d10 1
a10 1
V =			0.10.21
d13 1
a13 1
PKGNAME-main =		gstreamer-plugins-good-${V}p0v0
d39 1
a39 1
LIB_DEPENDS =		gstreamer-0.10,gstbase-0.10:gstreamer->=0.10:$P/core
d43 1
a43 1
			gstcontroller-0.10 Xau Xdmcp \
d86 1
a86 1
			sqlite3 tasn1
@


1.51
log
@Update to gstreamer-plugins-good-0.10.21.
libgstshapewipe has moved from bad to good.

survived a bulk and tests from jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/12/14 11:36:26 espie Exp $
d13 1
a13 1
PKGNAME-main =		gstreamer-plugins-good-${V}v0
@


1.50
log
@fix merge disaster: to merge subpackages together, it's not enough to put
@@conflict markers, the @@pkgpath markers should also indicate what's going on.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/11/29 09:17:38 ajacoutot Exp $
d10 1
a10 1
V =			0.10.17
d13 6
a18 6
PKGNAME-main =		gstreamer-plugins-good-$Vp0v0
PKGNAME-aalib =		gstreamer-aalib-$V
PKGNAME-dv =		gstreamer-dv-$V
PKGNAME-gdk =		gstreamer-gdk-pixbuf-$V
PKGNAME-caca =		gstreamer-libcaca-$V
PKGNAME-soup =		gstreamer-libsoup-$V
d50 1
a50 1
			gstaudio-0.10,gstinterfaces-0.10,gstnetbuffer-0.10,gstriff-0.10,gstrtp-0.10,gsttag-0.10,gstvideo-0.10,gstfft-0.10,gstrtsp-0.10,gstsdp-0.10,gstpbutils-0.10::$P/plugins-base \
d70 1
a70 1
			gstaudio-0.10,gstinterfaces-0.10::$P/plugins-base
@


1.49
log
@Major update to GStreamer plugins-good 0.10.17.
Months (years?) of changes, refer to the source for changelog.

Simplify DESCR.
Remove -esd subpackage (idea from landry, and ok espie@@ naddy@@)
Remove sunaudio support (solaris) and enable ossaudio to have mixing
capabilities (audio still handled with sndio by default).

tested on a bulk by jasper@@
feedback and sparc64+macppc testing from landry@@

"commitski" jasper, ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/10/14 13:59:23 ajacoutot Exp $
d13 1
a13 1
PKGNAME-main =		gstreamer-plugins-good-$Vv0
@


1.48
log
@Merge confelements subpackage into -main.
Gstreamer should now work out of the box for most usages... at last...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2009/09/28 19:52:15 ajacoutot Exp $
d3 6
a8 7
COMMENT-main =		multimedia framework - good plugins
COMMENT-aalib =		multimedia framework - aalib plugin
COMMENT-esd =		multimedia framework - esound plugin
COMMENT-dv =		multimedia framework - dv plugin
COMMENT-gdk =		multimedia framework - gdk pixbuf plugin
COMMENT-caca =		multimedia framework - libcaca plugin
COMMENT-soup =		multimedia framework - libsoup plugin
d10 1
a10 1
V =			0.10.8
d13 6
a18 7
PKGNAME-main =		gstreamer-plugins-good-$Vp77v0
PKGNAME-aalib =		gstreamer-aalib-$Vp6
PKGNAME-esd =		gstreamer-esd-$Vp6
PKGNAME-dv =		gstreamer-dv-$Vp5
PKGNAME-gdk =		gstreamer-gdk-pixbuf-$Vp8
PKGNAME-caca =		gstreamer-libcaca-$Vp6
PKGNAME-soup =		gstreamer-libsoup-$Vp6
d20 1
a20 1
MULTI_PACKAGES =	-main -aalib -esd \
d32 4
d39 1
a39 1
LIB_DEPENDS =		gstreamer-0.10:gstreamer->=0.10:$P/core
d42 2
a43 2
			ICE SM X11 Xdamage Xext Xfixes sndio \
			gstcontroller-0.10 gstbase-0.10 Xau Xdmcp \
d50 1
a50 1
			gstaudio-0.10,gstinterfaces-0.10,gstnetbuffer-0.10,gstriff-0.10,gstrtp-0.10,gsttag-0.10,gstvideo-0.10,gstfft-0.10,gstrtsp-0.10,gstsdp-0.10::$P/plugins-base \
d57 4
a60 2
			shout::net/libshout
RUN_DEPENDS-main =	${MODGCONF2_RUN_DEPENDS}
d63 1
a63 1
			X11 ncurses gstbase-0.10 Xau Xdmcp pthread-stubs xcb
d67 1
a67 8
WANTLIB-esd =		${WANTLIB} \
			audiofile gstbase-0.10 sndio
LIB_DEPENDS-esd=	${LIB_DEPENDS} \
			esd::audio/esound \
			gstaudio-0.10,gstinterfaces-0.10::$P/plugins-base

WANTLIB-dv =		${WANTLIB} \
			gstbase-0.10
d73 1
a73 5
			X11 Xcomposite Xdamage Xext Xrender atk-1.0 \
			cairo fontconfig freetype gio-2.0 glitz pango-1.0 \
			pangocairo-1.0 pangoft2-1.0 pixman-1 png gstbase-0.10 \
			Xau Xcursor Xdmcp Xfixes Xi Xinerama Xrandr expat \
			pthread-stubs xcb
d75 1
a75 1
			gdk_pixbuf-2.0,gtk-x11-2.0,gdk-x11-2.0::x11/gtk+2 \
d79 3
a81 2
			X11 gstbase-0.10 ncurses Xau Xdmcp pthread-stubs xcb
LIB_DEPENDS-caca =	${LIB_DEPENDS}
d84 3
a86 2
			gcrypt gio-2.0 gnutls gpg-error gstbase-0.10 \
			tasn1 gsttag-0.10
d88 2
a89 1
			soup-2.4::devel/libsoup
a90 6
BUILD_DEPENDS +=	${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS}  \
			::graphics/libcaca

AUTOMAKE_VERSION =	1.9
CONFIGURE_STYLE =	gnu
a91 1
			--disable-cdio \
d93 8
a100 2
			--without-check \
			--enable-experimental \
d102 2
a103 5
			--enable-goom \
			--with-default-audiosink=libsndiosink \
			--with-default-audiosrc=libsndiosrc \
			--with-default-videosink=xvimagesink \
			--with-default-videosrc=v4l2src
d108 3
d114 2
a115 1
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} NOCONFIGURE="true" ./autogen.sh
@


1.47
log
@Several cleanings, typos and consistencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/09/28 18:27:13 ajacoutot Exp $
a4 1
COMMENT-gconf =		multimedia framework - conf elements
d14 1
a14 1
PKGNAME-main =		gstreamer-plugins-good-$Vp76v0
a15 1
PKGNAME-gconf =		gstreamer-confelements-$Vp9
d22 1
a22 1
MULTI_PACKAGES =	-main -aalib -gconf -esd \
d44 1
a44 1
			stdc++ theora vorbis
d46 1
d56 1
a56 1
RUN_DEPENDS-main =	
a61 7

WANTLIB-gconf =		${WANTLIB} \
			ORBit-2 dbus-1 dbus-glib-1
LIB_DEPENDS-gconf =	${LIB_DEPENDS} \
			${MODGCONF2_LIB_DEPENDS}
RUN_DEPENDS-gconf =	${RUN_DEPENDS} \
			${MODGCONF2_RUN_DEPENDS}
@


1.46
log
@Merge several (most usefull) plugins into -main.
This will help with getting good functionnality working without hunting
for dependencies.

feedback from Brad, sthen@@, jasper@@ and landry@@, thanks!
looks good to landry@@, ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/09/08 08:00:18 ajacoutot Exp $
d14 9
a22 8
PKGNAME-main =		gstreamer-plugins-good-$Vp16v0
PKGNAME-aalib =		gstreamer-aalib-$Vp5
PKGNAME-gconf =		gstreamer-confelements-$Vp8
PKGNAME-esd =		gstreamer-esd-$Vp5
PKGNAME-dv =		gstreamer-dv-$Vp4
PKGNAME-gdk =		gstreamer-gdk-pixbuf-$Vp7
PKGNAME-caca =		gstreamer-libcaca-$Vp5
PKGNAME-soup =		gstreamer-libsoup-$Vp5
a25 1
SHARED_LIBS =
a56 1

a72 1

a78 1

a88 1

a92 2
BUILD_DEPENDS +=	::graphics/libcaca

a94 1

a99 1

d104 3
a106 1
			${MODGNU_AUTOMAKE_DEPENDS} 
@


1.45
log
@autopoint(1) uses HOME, make sure it exists.
prodded by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/08/10 06:33:02 kili Exp $
a4 1
COMMENT-cairo =		multimedia framework - cairo plugin
a6 3
COMMENT-flac =		multimedia framework - flac plugin
COMMENT-speex =		multimedia framework - speex plugin
COMMENT-taglib =	multimedia framework - taglib plugin
a7 2
COMMENT-jpeg =		multimedia framework - jpeg plugin
COMMENT-png =		multimedia framework - png plugin
a9 1
COMMENT-shout =		multimedia framework - shoutcast plugin
a10 1
COMMENT-wavpack =	multimedia framework - wavpack plugin
d14 1
a14 1
PKGNAME-main =		gstreamer-plugins-good-$Vp15v0
a15 1
PKGNAME-cairo =		gstreamer-cairo-$Vp6
a17 3
PKGNAME-flac =		gstreamer-flac-$Vp4
PKGNAME-speex =		gstreamer-speex-$Vp4
PKGNAME-taglib =	gstreamer-taglib-$Vp4
a18 2
PKGNAME-jpeg =		gstreamer-jpeg-$Vp4
PKGNAME-png =		gstreamer-png-$Vp5
a20 1
PKGNAME-shout =		gstreamer-shoutcast-$Vp4
a21 1
PKGNAME-wavpack =	gstreamer-wavpack-$Vp3
d23 2
a24 3
MULTI_PACKAGES =	-main -aalib -cairo -gconf -esd -flac -speex \
			-taglib -dv -jpeg -png -gdk -caca -shout -soup \
			-wavpack
d44 3
a46 1
			pthread-stubs xcb
d49 9
a57 1
			gstaudio-0.10,gstinterfaces-0.10,gstnetbuffer-0.10,gstriff-0.10,gstrtp-0.10,gsttag-0.10,gstvideo-0.10,gstfft-0.10,gstrtsp-0.10,gstsdp-0.10::$P/plugins-base
a64 6
WANTLIB-cairo =		${WANTLIB} \
			X11 Xau Xdmcp Xrender fontconfig freetype \
			pixman-1 glitz png gstbase-0.10 expat pthread-stubs xcb
LIB_DEPENDS-cairo =	${LIB_DEPENDS} \
			cairo::graphics/cairo

a78 21
WANTLIB-flac =		${WANTLIB} \
			ogg gstbase-0.10

LIB_DEPENDS-flac =	${LIB_DEPENDS} \
			FLAC::audio/flac \
			gsttag-0.10::$P/plugins-base

WANTLIB-speex =		${WANTLIB} \
			gstbase-0.10

LIB_DEPENDS-speex =	${LIB_DEPENDS} \
			speex::audio/speex \
			gsttag-0.10::$P/plugins-base

WANTLIB-taglib =	${WANTLIB} \
			stdc++ gstbase-0.10

LIB_DEPENDS-taglib =	${LIB_DEPENDS} \
			gsttag-0.10::$P/plugins-base \
			tag::audio/taglib

a85 10
WANTLIB-jpeg =		${WANTLIB} \

LIB_DEPENDS-jpeg =	${LIB_DEPENDS} \
			jpeg::graphics/jpeg

WANTLIB-png =		${WANTLIB} \

LIB_DEPENDS-png =	${LIB_DEPENDS} \
			png::graphics/png

a103 7
WANTLIB-shout =		${WANTLIB} \
			gstbase-0.10 ogg speex vorbis theora

LIB_DEPENDS-shout =	${LIB_DEPENDS} \
			speex::audio/speex \
			shout::net/libshout

a109 6

WANTLIB-wavpack =	${WANTLIB}

LIB_DEPENDS-wavpack =	${LIB_DEPENDS} \
			wavpack::audio/wavpack \
			gstaudio-0.10,gstbase-0.10,gstinterfaces-0.10::$P/plugins-base
@


1.44
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/06/11 18:26:44 ajacoutot Exp $
d187 1
d189 1
a189 1
	cd ${WRKSRC} && AUTOCONF_VERSION=${AUTOCONF_VERSION} \
@


1.43
log
@Tweak after recent gconf2 MODULE change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2009/06/08 16:46:11 ajacoutot Exp $
d22 3
a24 3
PKGNAME-main =		gstreamer-plugins-good-$Vp14v0
PKGNAME-aalib =		gstreamer-aalib-$Vp4
PKGNAME-cairo =		gstreamer-cairo-$Vp5
d33 2
a34 2
PKGNAME-gdk =		gstreamer-gdk-pixbuf-$Vp6
PKGNAME-caca =		gstreamer-libcaca-$Vp4
d60 2
a61 1
			gstcontroller-0.10 gstbase-0.10 Xau Xdmcp
d68 1
a68 1
			X11 ncurses gstbase-0.10 Xau Xdmcp
d74 1
a74 1
			pixman-1 glitz png gstbase-0.10 expat
d134 2
a135 1
			Xau Xcursor Xdmcp Xfixes Xi Xinerama Xrandr expat
d144 1
a144 1
			X11 gstbase-0.10 ncurses Xau Xdmcp
@


1.42
log
@Only the -gconf subpackage needs to run_depends on gconf2.
Actually add the devel/gconf2 MODULE, spotted by kili@@

ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/06/07 06:02:20 ajacoutot Exp $
d22 16
a37 16
PKGNAME-main =		gstreamer-plugins-good-$Vp13v0
PKGNAME-aalib =		gstreamer-aalib-$Vp3
PKGNAME-cairo =		gstreamer-cairo-$Vp4
PKGNAME-gconf =		gstreamer-confelements-$Vp6
PKGNAME-esd =		gstreamer-esd-$Vp4
PKGNAME-flac =		gstreamer-flac-$Vp3
PKGNAME-speex =		gstreamer-speex-$Vp3
PKGNAME-taglib =	gstreamer-taglib-$Vp3
PKGNAME-dv =		gstreamer-dv-$Vp3
PKGNAME-jpeg =		gstreamer-jpeg-$Vp3
PKGNAME-png =		gstreamer-png-$Vp4
PKGNAME-gdk =		gstreamer-gdk-pixbuf-$Vp5
PKGNAME-caca =		gstreamer-libcaca-$Vp3
PKGNAME-shout =		gstreamer-shoutcast-$Vp3
PKGNAME-soup =		gstreamer-libsoup-$Vp4
PKGNAME-wavpack =	gstreamer-wavpack-$Vp2
a50 1
MODGCONF2_RUNDEP=	No
d81 2
@


1.41
log
@Convert to using the new gconf2.port.mk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2009/06/03 20:24:31 jasper Exp $
d22 16
a37 16
PKGNAME-main =		gstreamer-plugins-good-$Vp12v0
PKGNAME-aalib =		gstreamer-aalib-$Vp2
PKGNAME-cairo =		gstreamer-cairo-$Vp3
PKGNAME-gconf =		gstreamer-confelements-$Vp5
PKGNAME-esd =		gstreamer-esd-$Vp3
PKGNAME-flac =		gstreamer-flac-$Vp2
PKGNAME-speex =		gstreamer-speex-$Vp2
PKGNAME-taglib =	gstreamer-taglib-$Vp2
PKGNAME-dv =		gstreamer-dv-$Vp2
PKGNAME-jpeg =		gstreamer-jpeg-$Vp2
PKGNAME-png =		gstreamer-png-$Vp3
PKGNAME-gdk =		gstreamer-gdk-pixbuf-$Vp4
PKGNAME-caca =		gstreamer-libcaca-$Vp2
PKGNAME-shout =		gstreamer-shoutcast-$Vp2
PKGNAME-soup =		gstreamer-libsoup-$Vp3
PKGNAME-wavpack =	gstreamer-wavpack-$Vp1
d47 2
a48 1
MODULES =		devel/gettext
d51 1
@


1.40
log
@- SECURITY FIX for SA35205
(GStreamer Good Plug-ins PNG Processing Integer Overflow Vulnerability)

patch from upstream git

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/04/11 14:37:21 ajacoutot Exp $
d25 1
a25 1
PKGNAME-gconf =		gstreamer-confelements-$Vp4
d49 3
d79 1
a79 1
			gconf-2::devel/gconf2
a170 2
			--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gst-plugins \
			--disable-schemas-install \
@


1.39
log
@GStreamer configure script does not set --disable-debug by default and
for a good reason. One of them being that the gstdebug.so plugin is
actually needed by other apps.

gstreamer,-main: move some files from -main to -frontend ; fix dependencies

Regen all PLISTs and bump all PKGNAMEs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/03/27 15:48:51 ajacoutot Exp $
d22 1
a22 1
PKGNAME-main =		gstreamer-plugins-good-$Vp11v0
d32 1
a32 1
PKGNAME-png =		gstreamer-png-$Vp2
@


1.38
log
@- missing bump for -gconf
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/03/27 15:12:19 ajacoutot Exp $
d22 16
a37 16
PKGNAME-main =		gstreamer-plugins-good-$Vp10v0
PKGNAME-aalib =		gstreamer-aalib-$Vp1
PKGNAME-cairo =		gstreamer-cairo-$Vp2
PKGNAME-gconf =		gstreamer-confelements-$Vp3
PKGNAME-esd =		gstreamer-esd-$Vp2
PKGNAME-flac =		gstreamer-flac-$Vp1
PKGNAME-speex =		gstreamer-speex-$Vp1
PKGNAME-taglib =	gstreamer-taglib-$Vp1
PKGNAME-dv =		gstreamer-dv-$Vp1
PKGNAME-jpeg =		gstreamer-jpeg-$Vp1
PKGNAME-png =		gstreamer-png-$Vp1
PKGNAME-gdk =		gstreamer-gdk-pixbuf-$Vp3
PKGNAME-caca =		gstreamer-libcaca-$Vp1
PKGNAME-shout =		gstreamer-shoutcast-$Vp1
PKGNAME-soup =		gstreamer-libsoup-$Vp2
PKGNAME-wavpack =	gstreamer-wavpack-$Vp0
@


1.37
log
@- unbreak and re-enable the goom plugin by fixing a variable in
gst-default.m4 ; rhythmbox does not crash anymore with goom
- enhance configure output
- fix PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2009/03/16 22:20:02 kili Exp $
d25 1
a25 1
PKGNAME-gconf =		gstreamer-confelements-$Vp2
@


1.36
log
@
Bump for python deps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/03/16 12:03:18 ajacoutot Exp $
d22 1
a22 1
PKGNAME-main =		gstreamer-plugins-good-$V10
d172 1
a176 7

# XXX probably our default thread stack size is too low
# #0  0x09b37a78 in plugin_info_init (pp=0x85e35000, nbVisuals=-2048700416)
#    at /usr/obj/ports/gst-plugins-good-0.10.8/gst-plugins-good-0.10.8/gst/goom/plugin_info.c:92
#        p = Cannot access memory at address 0x88f22290
# XXX When fixed, remove x11/gnome/totem/patches/patch-configure
CONFIGURE_ARGS +=	--disable-goom
@


1.35
log
@- tweak XXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/03/10 23:19:17 espie Exp $
d23 2
a24 2
PKGNAME-aalib =		gstreamer-aalib-$Vp0
PKGNAME-cairo =		gstreamer-cairo-$Vp1
@


1.34
log
@bump for python deps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/03/05 07:49:45 ajacoutot Exp $
d181 1
@


1.33
log
@- disable goom plugin for now as it makes gstreamer based apps crash; I
will look into it

jasper@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/02/05 20:32:08 sthen Exp $
d25 13
a37 13
PKGNAME-gconf =		gstreamer-confelements-$Vp1
PKGNAME-esd =		gstreamer-esd-$Vp1
PKGNAME-flac =		gstreamer-flac-$Vp0
PKGNAME-speex =		gstreamer-speex-$Vp0
PKGNAME-taglib =	gstreamer-taglib-$Vp0
PKGNAME-dv =		gstreamer-dv-$Vp0
PKGNAME-jpeg =		gstreamer-jpeg-$Vp0
PKGNAME-png =		gstreamer-png-$Vp0
PKGNAME-gdk =		gstreamer-gdk-pixbuf-$Vp2
PKGNAME-caca =		gstreamer-libcaca-$Vp0
PKGNAME-shout =		gstreamer-shoutcast-$Vp0
PKGNAME-soup =		gstreamer-libsoup-$Vp1
PKGNAME-wavpack =	gstreamer-wavpack-$V
@


1.32
log
@bump PKGNAME-main, thanks naddy@@ for pointing it out.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/01/30 02:18:53 sthen Exp $
d22 1
a22 1
PKGNAME-main =		gstreamer-plugins-good-$Vp9
d176 6
@


1.32.2.1
log
@MFC:

- SECURITY FIX for SA35205
(GStreamer Good Plug-ins PNG Processing Integer Overflow Vulnerability)

patch from upstream git

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/02/05 20:32:08 sthen Exp $
d22 1
a22 1
PKGNAME-main =		gstreamer-plugins-good-$Vp12
d32 1
a32 1
PKGNAME-png =		gstreamer-png-$Vp3
@


1.31
log
@- tidy DESCR-main (sort, add modules moved from other packages)
- wavpack is picked up by configure if installed; package it
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/01/29 20:40:43 sturm Exp $
d22 1
a22 1
PKGNAME-main =		gstreamer-plugins-good-$Vp8
@


1.30
log
@fix WANTLIB of -soup subpackage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/01/26 12:32:43 jasper Exp $
d18 1
d37 1
d40 2
a41 1
			-taglib -dv -jpeg -png -gdk -caca -shout -soup
d153 6
@


1.29
log
@- roll in a SECURITY FIX for SA33650,
which could lead to heap based overflows and memory corruption.

patch taken from upstream git.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/01/25 18:55:31 ajacoutot Exp $
d35 1
a35 1
PKGNAME-soup =		gstreamer-libsoup-$Vp0
d145 2
a146 1
			gio-2.0 gstbase-0.10 gsttag-0.10
@


1.28
log
@- re-enable the sunaudio plugin
since the OSS plugin removal, no mixer was left available for gstreamer
anymore; the sunaudio will only be available as a mixer, not for audio i/o
which is a job for sndio

"sure" jakemsr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/01/18 09:05:19 sturm Exp $
d21 1
a21 1
PKGNAME-main =		gstreamer-plugins-good-$Vp7
@


1.27
log
@if you change half the WANTLIBs, you have to bump half the PKGNAMEs,
not just -main
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/01/16 02:44:17 jakemsr Exp $
d21 1
a21 1
PKGNAME-main =		gstreamer-plugins-good-$Vp6
@


1.26
log
@- remove OSS backend and related patches
- update DESCR to reflect reality
- use appbufsz instead of bufsz in the sndio backends

partly from Brad, thanks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/11/03 23:24:08 jakemsr Exp $
d24 2
a25 2
PKGNAME-gconf =		gstreamer-confelements-$Vp0
PKGNAME-esd =		gstreamer-esd-$Vp0
d32 1
a32 1
PKGNAME-gdk =		gstreamer-gdk-pixbuf-$Vp1
@


1.25
log
@
add linsbdio backend and use it by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/09/24 23:01:32 jakemsr Exp $
d21 1
a21 1
PKGNAME-main =		gstreamer-plugins-good-$Vp5
a36 1

d52 1
a52 1
			ICE SM X11 Xdamage Xext Xfixes ossaudio sndio \
d71 1
a71 1
			ORBit-2
d76 1
a76 1
			audiofile gstbase-0.10
d122 1
a122 1
			cairo fontconfig freetype glitz pango-1.0 \
@


1.24
log
@
fix -soup WANTLIB

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/09/22 15:45:56 ajacoutot Exp $
d21 1
a21 1
PKGNAME-main =		gstreamer-plugins-good-$Vp4
d53 1
a53 1
			ICE SM X11 Xdamage Xext Xfixes ossaudio \
d151 4
d163 2
a164 2
			--with-default-audiosink=osssink \
			--with-default-audiosrc=osssrc \
d167 7
@


1.23
log
@- oops, missed bump
... I can here Nikolay's sword ready to cut my head off...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/09/22 15:36:56 ajacoutot Exp $
d35 1
a35 1
PKGNAME-soup =		gstreamer-libsoup-$V
d146 1
a146 1
			gio-2.0 gstbase-0.10.0 gsttag-0.10
@


1.22
log
@- if libsoup is installed, the souphttpsrc plugin will be built, so add
a corresponding subpackage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/06/21 21:03:56 deanna Exp $
d21 1
a21 1
PKGNAME-main =		gstreamer-plugins-good-$Vp3
@


1.21
log
@Enable the debugging subsystem.

Discussed with ajacoutot@@ who did not object.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/06/14 17:17:26 deanna Exp $
d17 1
d35 1
d39 1
a39 1
			-taglib -dv -jpeg -png -gdk -caca -shout
d144 6
@


1.20
log
@Fix a counting error that was causing the oss audio sink to perform
half a million audio ioctls on variable rate devices before it got
around to playing any sound.  Unbreaks gstreamer on auich.  Upstream
as gnome bug 538068.

ok espie, ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/06/01 08:21:15 sthen Exp $
d20 14
a33 14
PKGNAME-main =		gstreamer-plugins-good-$Vp2
PKGNAME-aalib =		gstreamer-aalib-$V
PKGNAME-cairo =		gstreamer-cairo-$Vp0
PKGNAME-gconf =		gstreamer-confelements-$V
PKGNAME-esd =		gstreamer-esd-$V
PKGNAME-flac =		gstreamer-flac-$V
PKGNAME-speex =		gstreamer-speex-$V
PKGNAME-taglib =	gstreamer-taglib-$V
PKGNAME-dv =		gstreamer-dv-$V
PKGNAME-jpeg =		gstreamer-jpeg-$V
PKGNAME-png =		gstreamer-png-$V
PKGNAME-gdk =		gstreamer-gdk-pixbuf-$Vp0
PKGNAME-caca =		gstreamer-libcaca-$V
PKGNAME-shout =		gstreamer-shoutcast-$V
d135 1
a135 1
			
d138 1
a138 1
			
@


1.19
log
@sync WANTLIB, bump package version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/05/18 13:37:22 ajacoutot Exp $
d20 1
a20 1
PKGNAME-main =		gstreamer-plugins-good-$Vp1
@


1.18
log
@- some files from older gstreamer-plugins-bad are now in
gstreamer-plugins-good; add conflict marker accordingly and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/05/16 14:24:01 ajacoutot Exp $
d22 1
a22 1
PKGNAME-cairo =		gstreamer-cairo-$V
d31 1
a31 1
PKGNAME-gdk =		gstreamer-gdk-pixbuf-$V
d65 1
a65 1
			glitz png gstbase-0.10 expat
d122 1
a122 1
			pangocairo-1.0 pangoft2-1.0 png gstbase-0.10 \
@


1.17
log
@- add v4l2 plug-in
- remove a patch;
defaults sink and src can now be set using configure options
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/05/13 15:11:51 espie Exp $
d20 1
a20 1
PKGNAME-main =		gstreamer-plugins-good-$Vp0
@


1.16
log
@update to recent gstreamer + plugins. Some breakage might occur, it will
be dealt with afterwards.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/02/14 18:51:59 ajacoutot Exp $
d20 1
a20 1
PKGNAME-main =		gstreamer-plugins-good-$V
d148 7
a154 1
			--disable-schemas-install
@


1.15
log
@- fix OSS audio output with azalia(4); patch from jakemsr@@, thanks ;-)
- we're using autotools, so patch gst-default.m4 instead of configure to
add sensible output defaults; problem noticed by jakemsr@@
- fix WANTLIB while here

ok jakemsr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/10/21 14:33:07 espie Exp $
d3 31
a33 31
COMMENT-main=		multimedia framework - good plugins
COMMENT-aalib=		multimedia framework - aalib plugin
COMMENT-cairo=		multimedia framework - cairo plugin
COMMENT-gconf=		multimedia framework - conf elements
COMMENT-esd=		multimedia framework - esound plugin
COMMENT-flac=		multimedia framework - flac plugin
COMMENT-speex=		multimedia framework - speex plugin
COMMENT-taglib=		multimedia framework - taglib plugin
COMMENT-dv=		multimedia framework - dv plugin
COMMENT-jpeg=		multimedia framework - jpeg plugin
COMMENT-png=		multimedia framework - png plugin
COMMENT-gdk=		multimedia framework - gdk pixbuf plugin
COMMENT-caca=		multimedia framework - libcaca plugin
COMMENT-shout=		multimedia framework - shoutcast plugin

V=			0.10.5
DISTNAME=		gst-plugins-good-$V
PKGNAME-main=		gstreamer-plugins-good-$Vp2
PKGNAME-aalib=		gstreamer-aalib-$Vp2
PKGNAME-cairo=		gstreamer-cairo-$Vp3
PKGNAME-gconf=		gstreamer-confelements-$Vp3
PKGNAME-esd=		gstreamer-esd-$Vp1
PKGNAME-flac=		gstreamer-flac-$Vp2
PKGNAME-speex=		gstreamer-speex-$Vp1
PKGNAME-taglib=		gstreamer-taglib-$Vp1
PKGNAME-dv=		gstreamer-dv-$Vp1
PKGNAME-jpeg=		gstreamer-jpeg-$Vp1
PKGNAME-png=		gstreamer-png-$Vp1
PKGNAME-gdk=		gstreamer-gdk-pixbuf-$Vp3
PKGNAME-caca=		gstreamer-libcaca-$Vp2
PKGNAME-shout=		gstreamer-shoutcast-$Vp1
d36 1
a36 1
MULTI_PACKAGES=		-main -aalib -cairo -gconf -esd -flac -speex \
d38 1
a38 1
SHARED_LIBS=
d40 1
a40 1
MASTER_SITES=		${MASTER_SITE_GST:=gst-plugins-good/}
d42 2
a43 2
USE_X11=		Yes
MODULES=		devel/gettext
d45 2
a46 2
RUN_DEPENDS=		::${BUILD_PKGPATH}
WANTLIB=		glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 \
d48 1
a48 1
LIB_DEPENDS=		gstreamer-0.10:gstreamer->=0.10:multimedia/gstreamer-0.10/core
d50 1
a50 1
WANTLIB-main=		${WANTLIB} \
d53 1
a53 1
LIB_DEPENDS-main=	${LIB_DEPENDS} \
d55 2
a56 2
			gstaudio-0.10,gstinterfaces-0.10,gstnetbuffer-0.10,gstriff-0.10,gstrtp-0.10,gsttag-0.10,gstvideo-0.10::multimedia/gstreamer-0.10/plugins-base
RUN_DEPENDS-main=	
d60 1
a60 1
LIB_DEPENDS-aalib=	${LIB_DEPENDS} \
d63 1
a63 1
WANTLIB-cairo=		${WANTLIB} \
d66 1
a66 1
LIB_DEPENDS-cairo=	${LIB_DEPENDS} \
d69 1
a69 1
WANTLIB-gconf=		${WANTLIB} \
d71 1
a71 1
LIB_DEPENDS-gconf=	${LIB_DEPENDS} \
d74 1
a74 1
WANTLIB-esd=		${WANTLIB} \
d79 1
a79 1
			gstaudio-0.10,gstinterfaces-0.10::multimedia/gstreamer-0.10/plugins-base
d81 1
a81 1
WANTLIB-flac=		${WANTLIB} \
d84 1
a84 1
LIB_DEPENDS-flac=	${LIB_DEPENDS} \
d86 1
a86 1
			gsttag-0.10::multimedia/gstreamer-0.10/plugins-base
d88 1
a88 1
WANTLIB-speex=		${WANTLIB} \
d91 1
a91 1
LIB_DEPENDS-speex=	${LIB_DEPENDS} \
d93 1
a93 1
			gsttag-0.10::multimedia/gstreamer-0.10/plugins-base
d95 2
a96 2
WANTLIB-taglib=		${WANTLIB} \
			stdc++
d98 2
a99 2
LIB_DEPENDS-taglib=	${LIB_DEPENDS} \
			gsttag-0.10::multimedia/gstreamer-0.10/plugins-base \
d102 1
a102 1
WANTLIB-dv=		${WANTLIB} \
d105 1
a105 1
LIB_DEPENDS-dv=		${LIB_DEPENDS} \
d107 1
a107 1
			gstaudio-0.10,gstinterfaces-0.10::multimedia/gstreamer-0.10/plugins-base
d109 1
a109 1
WANTLIB-jpeg=		${WANTLIB} \
d111 1
a111 1
LIB_DEPENDS-jpeg=	${LIB_DEPENDS} \
d114 1
a114 1
WANTLIB-png=		${WANTLIB} \
d116 1
a116 1
LIB_DEPENDS-png=	${LIB_DEPENDS} \
d119 1
a119 1
WANTLIB-gdk=		${WANTLIB} \
d125 3
a127 2
LIB_DEPENDS-gdk=	${LIB_DEPENDS} \
			gdk_pixbuf-2.0,gtk-x11-2.0,gdk-x11-2.0::x11/gtk+2
d129 1
a129 1
BUILD_DEPENDS+=		::graphics/libcaca
d131 1
a131 1
WANTLIB-caca=		${WANTLIB} \
d134 1
a134 1
LIB_DEPENDS-caca=	${LIB_DEPENDS}
d136 1
a136 1
WANTLIB-shout=		${WANTLIB} \
d139 1
a139 1
LIB_DEPENDS-shout=	${LIB_DEPENDS} \
d143 1
a143 1
CONFIGURE_ARGS+=	--with-aalib-prefix=${LOCALBASE} \
@


1.14
log
@fix build after check commit: explicitly disable check, since this leads
to errors otherwise.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/10/14 11:12:54 ajacoutot Exp $
d20 14
a33 14
PKGNAME-main=		gstreamer-plugins-good-$Vp1
PKGNAME-aalib=		gstreamer-aalib-$Vp1
PKGNAME-cairo=		gstreamer-cairo-$Vp2
PKGNAME-gconf=		gstreamer-confelements-$Vp2
PKGNAME-esd=		gstreamer-esd-$Vp0
PKGNAME-flac=		gstreamer-flac-$Vp1
PKGNAME-speex=		gstreamer-speex-$Vp0
PKGNAME-taglib=		gstreamer-taglib-$Vp0
PKGNAME-dv=		gstreamer-dv-$Vp0
PKGNAME-jpeg=		gstreamer-jpeg-$Vp0
PKGNAME-png=		gstreamer-png-$Vp0
PKGNAME-gdk=		gstreamer-gdk-pixbuf-$Vp2
PKGNAME-caca=		gstreamer-libcaca-$Vp1
PKGNAME-shout=		gstreamer-shoutcast-$Vp0
d47 1
a47 1
			xml2 m z
d120 4
a123 3
			X11 Xext Xrender atk-1.0 cairo fontconfig freetype \
			glitz pango-1.0 pangocairo-1.0 pangoft2-1.0 png \
			gstbase-0.10 Xau Xcursor Xdmcp Xfixes Xi Xinerama Xrandr expat
@


1.13
log
@- USE_X11
- fix WANTLIB
- fix gconf subpackage: install schemas in correct place
- set audio output to oss by default so that sound works out-of-the-box
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/10/08 08:22:41 steven Exp $
d144 1
@


1.12
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/09/18 18:33:25 naddy Exp $
d20 4
a23 4
PKGNAME-main=		gstreamer-plugins-good-$Vp0
PKGNAME-aalib=		gstreamer-aalib-$Vp0
PKGNAME-cairo=		gstreamer-cairo-$Vp1
PKGNAME-gconf=		gstreamer-confelements-$Vp1
d31 2
a32 2
PKGNAME-gdk=		gstreamer-gdk-pixbuf-$Vp1
PKGNAME-caca=		gstreamer-libcaca-$Vp0
d42 1
d52 1
a52 1
			gstcontroller-0.10 gstbase-0.10
d59 1
a59 1
			X11 ncurses gstbase-0.10
d64 2
a65 2
			ICE SM X11 Xext Xrender fontconfig freetype \
			glitz png gstbase-0.10
a71 1
			popt::devel/popt \
d119 1
a119 1
WANTLIB-gdk=		${WANTLIB} ICE SM \
d122 1
a122 1
			gstbase-0.10
d130 1
a130 1
			X11 gstbase-0.10 ncurses
d144 2
a145 3

post-install:
		${INSTALL_DATA} ${WRKINST}${SYSCONFDIR}/gconf/schemas/gstreamer-${VERSION}.schemas ${PREFIX}/lib/gstreamer-${VERSION}/schemas.sample
@


1.11
log
@adapt FLAC support to the FLAC 1.1.3+ API
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/09/16 03:24:28 merdely Exp $
d20 14
a33 14
PKGNAME-main=		gstreamer-plugins-good-$V
PKGNAME-aalib=		gstreamer-aalib-$V
PKGNAME-cairo=		gstreamer-cairo-$Vp0
PKGNAME-gconf=		gstreamer-confelements-$Vp0
PKGNAME-esd=		gstreamer-esd-$V
PKGNAME-flac=		gstreamer-flac-$Vp0
PKGNAME-speex=		gstreamer-speex-$V
PKGNAME-taglib=		gstreamer-taglib-$V
PKGNAME-dv=		gstreamer-dv-$V
PKGNAME-jpeg=		gstreamer-jpeg-$V
PKGNAME-png=		gstreamer-png-$V
PKGNAME-gdk=		gstreamer-gdk-pixbuf-$Vp0
PKGNAME-caca=		gstreamer-libcaca-$V
PKGNAME-shout=		gstreamer-shoutcast-$V
@


1.10
log
@Remove surrounding quotes in COMMENT*/PERMIT_*

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/05/14 05:51:43 jasper Exp $
d25 1
a25 1
PKGNAME-flac=		gstreamer-flac-$V
d82 1
a82 1
			gstbase-0.10
@


1.9
log
@move popt into LIB_DEPENDS

spotted by Mikolaj Kucharski

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/02/11 00:56:57 steven Exp $
d3 14
a16 14
COMMENT-main=		"multimedia framework - good plugins"
COMMENT-aalib=		"multimedia framework - aalib plugin"
COMMENT-cairo=		"multimedia framework - cairo plugin"
COMMENT-gconf=		"multimedia framework - conf elements"
COMMENT-esd=		"multimedia framework - esound plugin"
COMMENT-flac=		"multimedia framework - flac plugin"
COMMENT-speex=		"multimedia framework - speex plugin"
COMMENT-taglib=		"multimedia framework - taglib plugin"
COMMENT-dv=		"multimedia framework - dv plugin"
COMMENT-jpeg=		"multimedia framework - jpeg plugin"
COMMENT-png=		"multimedia framework - png plugin"
COMMENT-gdk=		"multimedia framework - gdk pixbuf plugin"
COMMENT-caca=		"multimedia framework - libcaca plugin"
COMMENT-shout=		"multimedia framework - shoutcast plugin"
@


1.8
log
@WANTLIB fixes, mostly needed by recent cairo update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/01/10 12:58:31 espie Exp $
d23 1
a23 1
PKGNAME-gconf=		gstreamer-confelements-$V
d69 1
a69 1
			ORBit-2 popt
d71 1
@


1.7
log
@more clean-up: re-add dvdread and mpeg plugins.
add correct annotations for full install, tweak some lib depends.
add run depends from all subpackages to their respective main packages
so that they can use the correct message files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/01/10 01:41:02 espie Exp $
d22 1
a22 1
PKGNAME-cairo=		gstreamer-cairo-$V
d31 1
a31 1
PKGNAME-gdk=		gstreamer-gdk-pixbuf-$V
d63 1
a63 1
			X11 Xext Xrender fontconfig freetype \
d118 1
a118 1
WANTLIB-gdk=		${WANTLIB} \
@


1.6
log
@add shoutcast and libcaca plugins
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/01/10 00:34:49 espie Exp $
d42 3
a46 5
#			m z popt ICE SM X11 Xdamage Xext Xfixes \
#			ORBit-2 gconf-2

MODULES=		devel/gettext

d55 1
d137 1
@


1.5
log
@a few plugins more: dv, gdk_pixbuf, jpeg, png, taglib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/01/09 23:22:56 espie Exp $
d15 2
d32 2
d37 1
a37 1
			-taglib -dv -jpeg -png -gdk
d127 13
a142 3
			--disable-ladspa \
			--disable-libcaca \
			--disable-shout2
@


1.4
log
@all of gstreamer is happy with SEPARATE_BUILD.

patch it to compile and build the sunaudio plugin.
Not really functional yet, though...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/01/09 22:01:27 espie Exp $
d10 5
d25 5
d32 2
a33 1
MULTI_PACKAGES=		-main -aalib -cairo -gconf -esd -flac -speex
d91 32
a125 2
			--disable-gdk_pixbuf \
			--disable-jpeg \
d128 1
a128 4
			--disable-libdv \
			--disable-libpng \
			--disable-shout2 \
			--disable-taglib
a131 5

#			dv::multimedia/libdv \
#			jpeg::graphics/jpeg \
#			png::graphics/png \

@


1.3
log
@reactivate speex and flac as separate plugins
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/01/09 21:33:25 espie Exp $
a89 1
			--disable-sunaudio \
@


1.2
log
@start repackaging into independent packages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/01/08 17:37:27 espie Exp $
d8 2
d18 2
d22 1
a22 1
MULTI_PACKAGES=		-main -aalib -cairo -gconf -esd
d66 14
a82 1
			--disable-flac \
a89 1
			--disable-speex \
a95 2
#			FLAC::audio/flac \
#			speex::audio/speex \
a96 1
#			xml2::textproc/libxml \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/11/13 06:46:50 marcm Exp $
d3 5
a7 1
COMMENT-main=		"multimedia framework - plugins good"
d12 4
d17 2
a18 1
MULTI_PACKAGES=		-main
d23 4
a26 3
WANTLIB=		m z popt ICE SM X11 Xdamage Xext Xfixes glib-2.0 \
			gmodule-2.0 gobject-2.0 gthread-2.0 ossaudio \
			ORBit-2 gconf-2
d30 7
a36 10
LIB_DEPENDS=		oil-0.3::devel/liboil \
			audiofile::devel/libaudiofile \
			esd::audio/esound \
			FLAC::audio/flac \
			speex::audio/speex \
			dv::multimedia/libdv \
			xml2::textproc/libxml \
			jpeg::graphics/jpeg \
			png::graphics/png \
			gstreamer-0.10,gstbase-0.10,gstcontroller-0.10:gstreamer->=0.10:multimedia/gstreamer-0.10/core \
d39 22
d62 1
a62 2
CONFIGURE_ARGS+=	--disable-aalib \
			--disable-cairo \
d65 3
d70 2
d73 1
a74 1
			--disable-gdk_pixbuf \
d76 11
@


1.1.1.1
log
@new gstreamer-0.10 that can mostly co-exist with the older gstreamer.
Lots of packaging details to figure out yet.
@
text
@@
