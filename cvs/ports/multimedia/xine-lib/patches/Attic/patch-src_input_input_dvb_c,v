head	1.10;
access;
symbols
	OPENBSD_4_9:1.9.0.6
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.9.0.4
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.8.0.4
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.2
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.7.0.2
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.4.0.2
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.1.1.1.0.2
	OPENBSD_4_0_BASE:1.1.1.1
	jakemsr:1.1.1.1
	jakemsr-20060324:1.1.1;
locks; strict;
comment	@# @;


1.10
date	2011.04.15.23.22.31;	author sthen;	state dead;
branches;
next	1.9;

1.9
date	2010.01.05.11.48.51;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2008.08.20.01.54.01;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2008.07.02.01.02.42;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2008.06.18.01.26.41;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2007.10.31.10.55.37;	author jakemsr;	state Exp;
branches;
next	1.4;

1.4
date	2007.06.13.10.58.29;	author jakemsr;	state Exp;
branches;
next	1.3;

1.3
date	2007.05.01.20.05.10;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2006.10.12.04.48.14;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2006.03.24.22.43.41;	author jakemsr;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.03.24.22.43.41;	author jakemsr;	state Exp;
branches
	1.1.1.1.2.1;
next	;

1.1.1.1.2.1
date	2006.11.01.13.13.03;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.10
log
@remove casts now that NULL is a void *
from Brad.
@
text
@$OpenBSD: patch-src_input_input_dvb_c,v 1.9 2010/01/05 11:48:51 sthen Exp $
--- src/input/input_dvb.c.orig	Mon Nov 30 15:55:45 2009
+++ src/input/input_dvb.c	Wed Dec  2 20:34:56 2009
@@@@ -903,7 +903,7 @@@@ static channel_t *load_channels(xine_t *xine, xine_str
   if (!f) {
     xprintf(xine, XINE_VERBOSITY_LOG, _("input_dvb: failed to open dvb channel file '%s': %s\n"), filename, strerror (errno));
     if (!f && stream)
-      _x_message(stream, XINE_MSG_FILE_NOT_FOUND, filename, "Please run the dvbscan utility.", NULL);
+      _x_message(stream, XINE_MSG_FILE_NOT_FOUND, filename, "Please run the dvbscan utility.", (char *)NULL);
     return NULL;
   }
   if (fstat(fileno(f), &st) || !S_ISREG (st.st_mode)) {
@@@@ -2585,7 +2585,7 @@@@ static off_t dvb_plugin_read (input_plugin_t *this_gen
 
   /* no data for several seconds - tell the user a possible reason */
   if(this->read_failcount==5){
-    _x_message(this->stream,1,"DVB Signal Lost.  Please check connections.", NULL);
+    _x_message(this->stream,1,"DVB Signal Lost.  Please check connections.", (char *)NULL);
   }
 #ifdef DVB_NO_BUFFERING
   if(this->newchannel){
@


1.9
log
@Update to xine-lib 1.1.17 and disable win32 codecs. From Brad.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_input_input_dvb_c,v 1.8 2008/08/20 01:54:01 brad Exp $
@


1.8
log
@update to Xine-lib 1.1.15

This release contains some security fixes, notably a DoS via
corrupted Ogg files (CVS-2008-3231), some related fixes, and
fixes for a few possible buffer overflows.

ok jakemsr@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_input_input_dvb_c,v 1.7 2008/07/02 01:02:42 brad Exp $
--- src/input/input_dvb.c.orig	Thu Aug  7 13:52:41 2008
+++ src/input/input_dvb.c	Thu Aug 14 18:48:39 2008
d17 2
a18 2
-    _x_message(this->stream,1,"DVB Signal Lost.  Please check connections.", NULL); 
+    _x_message(this->stream,1,"DVB Signal Lost.  Please check connections.", (char *)NULL); 
@


1.7
log
@update to Xine-lib 1.1.14

ok jakemsr@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_input_input_dvb_c,v 1.6 2008/06/18 01:26:41 brad Exp $
--- src/input/input_dvb.c.orig	Wed Jun 25 09:04:09 2008
+++ src/input/input_dvb.c	Sun Jun 29 20:54:12 2008
d13 1
a13 1
@@@@ -2584,7 +2584,7 @@@@ static off_t dvb_plugin_read (input_plugin_t *this_gen
@


1.6
log
@update to Xine-lib 1.1.13

This release contains a security fix (buffer overflow in the NSF demuxer,
CVE-2008-1878). There are also a few bug fixes, and a new JACK output
plugin.

ok jakemsr@@
@
text
@d1 4
a4 4
$OpenBSD: patch-src_input_input_dvb_c,v 1.5 2007/10/31 10:55:37 jakemsr Exp $
--- src/input/input_dvb.c.orig	Sat Jun 14 19:15:10 2008
+++ src/input/input_dvb.c	Mon Jun 16 02:30:50 2008
@@@@ -892,7 +892,7 @@@@ static channel_t *load_channels(xine_t *xine, xine_str
d13 1
a13 1
@@@@ -2568,7 +2568,7 @@@@ static off_t dvb_plugin_read (input_plugin_t *this_gen
@


1.5
log
@maintainence update to xine-lib-1.1.8

from brad@@
@
text
@d1 4
a4 4
$OpenBSD: patch-src_input_input_dvb_c,v 1.4 2007/06/13 10:58:29 jakemsr Exp $
--- src/input/input_dvb.c.orig	Sat Aug 18 19:36:45 2007
+++ src/input/input_dvb.c	Wed Oct 17 20:29:24 2007
@@@@ -894,7 +894,7 @@@@ static channel_t *load_channels(xine_t *xine, xine_str
d13 1
a13 1
@@@@ -2578,7 +2578,7 @@@@ static off_t dvb_plugin_read (input_plugin_t *this_gen
@


1.4
log
@update to xine-lib-1.1.7

- use some CONFIGURE_ENV instead of patching
- rearrange/update CONFIGURE_ARGS
- many patches no longer relevant
- add CD audio support

input, tetsing and prodding from brad@@
@
text
@d1 3
a3 3
$OpenBSD$
--- src/input/input_dvb.c.orig	Wed May 16 15:40:49 2007
+++ src/input/input_dvb.c	Fri Jun  8 17:27:46 2007
d13 1
a13 1
@@@@ -2550,7 +2550,7 @@@@ static off_t dvb_plugin_read (input_plugin_t *this_gen
@


1.3
log
@regen patches
@
text
@d1 13
a13 4
$OpenBSD: patch-src_input_input_dvb_c,v 1.2 2006/10/12 04:48:14 brad Exp $
--- src/input/input_dvb.c.orig	Sun Jul  9 16:37:35 2006
+++ src/input/input_dvb.c	Tue May  1 22:03:06 2007
@@@@ -986,8 +986,8 @@@@ static int tuner_tune_it (tuner_t *this, struct dvb_fr
d15 7
a21 9
   if (poll(pfd,1,3000)){
       if (pfd[0].revents & POLLIN){
-	  if (ioctl(this->fd_frontend, FE_GET_EVENT, &event) == -EOVERFLOW){
-	      print_error("EOVERFLOW");
+	  if (ioctl(this->fd_frontend, FE_GET_EVENT, &event) == -EINVAL){
+	      print_error("EINVAL");
 	      return 0;
 	  }
 	  if (event.parameters.frequency <= 0)
@


1.2
log
@upgrade to xine-lib 1.1.2

* Security fixes:
  - CVE-2006-2802: possible buffer overflow in the HTTP plugin.
  - possible buffer overflow via bad indexes in specially-crafted AVI files
* Fix a potential crash with fixed-size lacing in the Matroska demuxer
* Enable AMD64 mmx/sse support in some plugins (tvtime, libmpeg2, goom...)
* Fix xxmc subpictures (broken since 1.1.1)
* Add support for RealPlayer 10 codecs

WANTLIB tweak from bernd@@

testing by steven@@ and bernd@@
@
text
@d1 4
a4 4
$OpenBSD: patch-src_input_input_dvb_c,v 1.1.1.1 2006/03/24 22:43:41 jakemsr Exp $
--- src/input/input_dvb.c.orig	Sun Jul  9 10:37:35 2006
+++ src/input/input_dvb.c	Fri Sep 15 17:53:21 2006
@@@@ -986,8 +986,8 @@@@ static int tuner_tune_it (tuner_t *this,
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- src/input/input_dvb.c.orig	Fri Oct 14 16:02:16 2005
+++ src/input/input_dvb.c	Thu Dec 29 23:39:05 2005
@@@@ -965,8 +965,8 @@@@ static int tuner_tune_it (tuner_t *this,
@


1.1.1.1
log
@initial import of xine-lib

xine is a free multimedia player. It plays back CDs, DVDs, and VCDs. It
also decodes multimedia files like AVI, MOV, WMV, and MP3 from local
disk drives, and displays multimedia streamed over the Internet. It
interprets many of the most common multimedia formats available - and
some of the most uncommon formats, too.

prodded by jolan@@ and bernd@@

@
text
@@


1.1.1.1.2.1
log
@MFC:
upgrade to xine-lib 1.1.2

* Security fixes:
- CVE-2006-2802: possible buffer overflow in the HTTP plugin.
- possible buffer overflow via bad indexes in specially-crafted AVI files
* Fix a potential crash with fixed-size lacing in the Matroska demuxer
* Enable AMD64 mmx/sse support in some plugins (tvtime, libmpeg2, goom...)
* Fix xxmc subpictures (broken since 1.1.1)
* Add support for RealPlayer 10 codecs

WANTLIB tweak from bernd@@
@
text
@d1 4
a4 4
$OpenBSD: patch-src_input_input_dvb_c,v 1.2 2006/10/12 04:48:14 brad Exp $
--- src/input/input_dvb.c.orig	Sun Jul  9 10:37:35 2006
+++ src/input/input_dvb.c	Fri Sep 15 17:53:21 2006
@@@@ -986,8 +986,8 @@@@ static int tuner_tune_it (tuner_t *this,
@

