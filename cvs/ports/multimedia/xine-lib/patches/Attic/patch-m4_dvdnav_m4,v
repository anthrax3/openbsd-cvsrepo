head	1.3;
access;
symbols
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.0.4
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2011.11.16.00.43.17;	author sthen;	state dead;
branches;
next	1.2;

1.2
date	2010.09.13.20.12.16;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2009.07.30.19.12.44;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to xine-lib 1.1.20, from Brad
@
text
@$OpenBSD: patch-m4_dvdnav_m4,v 1.2 2010/09/13 20:12:16 sthen Exp $
--- m4/dvdnav.m4.orig	Wed Mar 10 15:46:05 2010
+++ m4/dvdnav.m4	Sun Jul 25 15:33:46 2010
@@@@ -84,6 +84,7 @@@@ dnl checks the results of dvdnav-config to some extent
 dnl
       rm -f conf.dvdnavtest
       AC_RUN_IFELSE([AC_LANG_SOURCE([[
+#include <stdint.h>
 #include <dvdnav/dvdnav.h>
 #include <stdio.h>
 #include <stdlib.h>
@@@@ -129,6 +130,7 @@@@ main ()
 ]])],[],[no_dvdnav=yes],[no_dvdnav=cc])
        if test "x$no_dvdnav" = xcc; then
          AC_LINK_IFELSE([AC_LANG_PROGRAM([[
+#include <stdint.h>
 #include <dvdnav/dvdnav.h>
 #include <stdio.h>
 ]], [[ return 0; ]])],[no_dvdnav=''],[no_dvdnav=yes])
@@@@ -141,7 +143,9 @@@@ main ()
        AC_MSG_RESULT(yes)
        ifelse([$2], , :, [$2])
        dnl nav_*.h seem to have been moved from dvdnav at some point?
-       AC_CHECK_HEADERS([dvdread/nav_types.h])
+       AC_CHECK_HEADERS([dvdread/nav_types.h],,,
+[#include <stdint.h>
+])
     else
       AC_MSG_RESULT(no)
       if test "$DVDNAV_CONFIG" = "no" ; then
@@@@ -157,6 +161,7 @@@@ main ()
           CFLAGS="$CFLAGS $DVDNAV_CFLAGS"
           LIBS="$LIBS $DVDNAV_LIBS"
           AC_LINK_IFELSE([AC_LANG_PROGRAM([[
+#include <stdint.h>
 #include <dvdnav/dvdnav.h>
 #include <stdio.h>
 ]], [[ return 0; ]])],
@


1.2
log
@update xine-lib to 1.1.19 and switch to new-style LIB_DEPENDS/WANTLIB
from Brad, thanks landry@@ for testing in bulk build
@
text
@d1 1
a1 1
$OpenBSD: patch-m4_dvdnav_m4,v 1.1 2009/07/30 19:12:44 jakemsr Exp $
@


1.1
log
@adjust header locations after libdvdnav update
@
text
@d1 4
a4 4
$OpenBSD$
--- m4/dvdnav.m4.orig	Thu Apr 17 09:54:27 2008
+++ m4/dvdnav.m4	Mon Jul 13 17:16:35 2009
@@@@ -84,7 +84,8 @@@@ dnl checks the results of dvdnav-config to some extent
a7 1
-#include <dvdnav.h>
d9 1
a9 1
+#include <dvdnav/dvdnav.h>
d12 27
a38 1
 #include <string.h>
@

