head	1.3;
access;
symbols
	OPENBSD_4_5:1.2.0.8
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.6
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.4
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.0.4
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.2
	OPENBSD_4_0_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2009.04.04.00.28.56;	author sthen;	state dead;
branches;
next	1.2;

1.2
date	2007.06.13.10.58.29;	author jakemsr;	state Exp;
branches;
next	1.1;

1.1
date	2006.03.27.11.04.28;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Security update to 1.1.16.3 from Brad (maintainer) - int overflows in
the 4XM demux (TKADV2009-004, CVE-2009-0385) and the Quicktime demux.
@
text
@$OpenBSD: patch-src_libw32dll_wine_pe_image_c,v 1.2 2007/06/13 10:58:29 jakemsr Exp $
--- src/libw32dll/wine/pe_image.c.orig	Sun Apr 15 10:42:16 2007
+++ src/libw32dll/wine/pe_image.c	Sun May 20 22:40:14 2007
@@@@ -900,7 +900,7 @@@@ void PE_UnloadLibrary(WINE_MODREF *wm)
  */
 static void extend_stack_for_dll_alloca(void)
 {
-#ifndef __FreeBSD__
+#if !defined(__FreeBSD__) && !defined(__OpenBSD__)
     void* mem=alloca(0x20000);
     *(int*)mem=0x1234;
 #endif
@


1.2
log
@update to xine-lib-1.1.7

- use some CONFIGURE_ENV instead of patching
- rearrange/update CONFIGURE_ARGS
- many patches no longer relevant
- add CD audio support

input, tetsing and prodding from brad@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@- fix win32-codecs support.  libtool won't allow linking static libs
  (libi386.a) into shared objects, so we use the source file for
  i386_set_ldt() from libi386.
- no need for OSS audio support.
- use the right CFLAGS for pthread linkage.

OK jolan@@
@
text
@d2 3
a4 3
--- src/libw32dll/wine/pe_image.c.orig	Sun Mar 26 18:06:55 2006
+++ src/libw32dll/wine/pe_image.c	Sun Mar 26 18:06:55 2006
@@@@ -897,7 +897,7 @@@@ void PE_UnloadLibrary(WINE_MODREF *wm)
@

