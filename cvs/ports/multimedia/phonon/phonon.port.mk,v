head	1.7;
access;
symbols
	OPENBSD_6_0:1.7.0.2
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.2.0.4
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2;
locks; strict;
comment	@# @;


1.7
date	2016.05.27.02.50.05;	author zhuk;	state Exp;
branches;
next	1.6;
commitid	VAvQ9TjgGCiDIAPe;

1.6
date	2016.05.27.00.00.37;	author zhuk;	state Exp;
branches;
next	1.5;
commitid	z6t7hxHGkbHAU4Us;

1.5
date	2015.06.26.09.18.15;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	G7yQIqVDIawGKBC3;

1.4
date	2014.11.01.20.32.54;	author zhuk;	state Exp;
branches;
next	1.3;
commitid	1GXV09U7oBpf6YS6;

1.3
date	2014.07.10.19.50.25;	author zhuk;	state Exp;
branches;
next	1.2;
commitid	QVQcP2pDNqjWtiP7;

1.2
date	2013.04.25.11.54.01;	author zhuk;	state Exp;
branches;
next	1.1;

1.1
date	2013.04.24.08.53.37;	author zhuk;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Fix plugin dependencies for Qt5 case.
@
text
@# $OpenBSD: phonon.port.mk,v 1.6 2016/05/27 00:00:37 zhuk Exp $
.if ${MODULES:Mx11/qt5} || ${MODULES:Mdevel/kf5}
MODPHONON_WANTLIB =	phonon4qt5
MODPHONON_LIB_DEPENDS =	phonon-qt5->=4.8.0:multimedia/phonon,qt5
.else
MODPHONON_WANTLIB =	${MODKDE4_LIB_DIR}/phonon_s
MODPHONON_LIB_DEPENDS =	phonon->=4.8.0:multimedia/phonon
.endif

# If enabled (default), make sure at least one Phonon backend is
# installed prior installing affected port.
MODPHONON_PLUGIN_DEPS ?=	Yes
.if ${MODPHONON_PLUGIN_DEPS:L} == "yes"
. if ${MODULES:Mx11/qt5} || ${MODULES:Mdevel/kf5}
MODPHONON_RUN_DEPENDS =	phonon-qt5-gstreamer-*:multimedia/phonon-backend/gstreamer,qt5
. else
MODPHONON_RUN_DEPENDS =	phonon-vlc-*|phonon-gstreamer-*:multimedia/phonon-backend/vlc
. endif
.endif

WANTLIB +=	${MODPHONON_WANTLIB}
LIB_DEPENDS +=	${MODPHONON_LIB_DEPENDS}
RUN_DEPENDS +=	${MODPHONON_RUN_DEPENDS}
@


1.6
log
@Add support for Qt5/KF5-enabled ports.
@
text
@d1 1
a1 1
# $OpenBSD: phonon.port.mk,v 1.5 2015/06/26 09:18:15 ajacoutot Exp $
d14 3
d18 1
@


1.5
log
@Make it possible to depend on phonon-gstreamer and not just phonon-vlc
(vlc is currently broken); this was the intent initialy.

ok zhuk@@
@
text
@d1 5
a5 1
# $OpenBSD: phonon.port.mk,v 1.4 2014/11/01 20:32:54 zhuk Exp $
d8 1
@


1.4
log
@Update Phonon to 4.8.1.

This also updates its backends, due to some API changes it's easier to this
in a single batch. The biggest news here are that phonon-gstreamer switches
to GStreamer 1.0, finally.
@
text
@d1 1
a1 1
# $OpenBSD: phonon.port.mk,v 1.3 2014/07/10 19:50:25 zhuk Exp $
d9 1
a9 1
MODPHONON_RUN_DEPENDS =	phonon-vlc-*|phonon-vlc-*:multimedia/phonon-backend/vlc
@


1.3
log
@Another meaningful update from KDE land: Phonon 4.7.2 and friends.
Main change is that VLC backend becames the default (and really performs
better than GStreamer one).

(now please get your children out of display)

Another change is that due the fact that Phonon now supports library
renaming upstream, libphononexperimental.so becomes
libphonon_sexperimental.so. This doesn't affect any ports imported as of now.

REVISION bumps for the dependant ports to follow.
@
text
@d1 1
a1 1
# $OpenBSD: phonon.port.mk,v 1.2 2013/04/25 11:54:01 zhuk Exp $
d3 1
a3 1
MODPHONON_LIB_DEPENDS =	phonon->=4.7.0:multimedia/phonon
@


1.2
log
@When Phonon was moved from WIP, REVISION in port was removed, but reference
to it in phonon.port.mk wasn't => build is broken.

Noticed by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: phonon.port.mk,v 1.1 2013/04/24 08:53:37 zhuk Exp $
d3 1
a3 1
MODPHONON_LIB_DEPENDS =	phonon->=4.6.0:multimedia/phonon
d9 1
a9 1
MODPHONON_RUN_DEPENDS =	phonon-gstreamer-*|phonon-vlc-*:multimedia/phonon-backend/gstreamer
@


1.1
log
@Update Phonon to 4.6.0. Major changes:
  * Main library renamed from "phonon" to "phonon_s", to avoid clashing
    with Qt4's one.
  * Backends now live in multimedia/phonon-backend port (committed earlier).
  * The multimedia/phonon module added, to avoid adding complicated
    RDEP strings to ports of Phonon users.
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
MODPHONON_LIB_DEPENDS =	phonon->=4.6.0p2:multimedia/phonon
@

