head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.6
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.4.0.4
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.2
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.3.0.10
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.12
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.8
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.20
	OPENBSD_5_0:1.1.1.1.0.18
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.16
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.14
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.12
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.10
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.8
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.6
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.4
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	ajacoutot_20070729:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2016.04.26.18.06.26;	author jca;	state Exp;
branches;
next	1.3;
commitid	Y2yEyM7LQC8vYyHx;

1.3
date	2013.06.04.15.41.25;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2012.03.21.23.52.16;	author fgsch;	state Exp;
branches;
next	1.1;

1.1
date	2007.07.29.17.07.49;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.07.29.17.07.49;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Cope with the netpbm update

"go go go" naddy@@
@
text
@$OpenBSD: patch-Makefile,v 1.3 2013/06/04 15:41:25 naddy Exp $
--- Makefile.orig	Mon Dec  8 10:28:02 2003
+++ Makefile	Tue Apr 26 15:54:05 2016
@@@@ -3,13 +3,13 @@@@
 #
 
 # use always:
-DEFINES :=  
-LIBS    := -lm 
-INCLUDES :=
+DEFINES := -DHAVE_GETLINE
+LIBS    := -lm -L!!LOCALBASE!!/lib
+INCLUDES := -I!!LOCALBASE!!/include -I!!LOCALBASE!!/include/netpbm
 
 ### enable ppm support ###
 DEFINES  += -D_HAVE_LIB_PPM_
-LIBS     += -lppm
+LIBS     += -lnetpbm
 
 ### enable PNG support ###
 DEFINES += -D_HAVE_PNG_
@@@@ -19,11 +19,10 @@@@ LIBS    += -lpng
 DEFINES += -D_HAVE_ZLIB_
 LIBS    += -lz
 
-CC = gcc
 WARN     = -Wall -Wstrict-prototypes 
-COPT     = -g -O2  
+COPT     = -g -O2
 
-CFLAGS = $(COPT) $(WARN) $(DEFINES) $(INCLUDES) 
+CFLAGS += $(WARN) $(DEFINES) $(INCLUDES) 
 
 # list of all files that are part of the package
 PACKAGE_FILES = Makefile \
@@@@ -50,14 +49,20 @@@@ RELEASE=4
 # Main targets
 
 TARGETS = subtitle2pgm srttool subtitle2vobsub vobsub2pgm
+DOCS = README* gocrfilter_* pgm2txt
 
 all:  $(TARGETS) 
 
+install: all
+	$(BSD_INSTALL_PROGRAM) $(TARGETS) $(PREFIX)/bin
+	$(BSD_INSTALL_DATA_DIR) $(PREFIX)/share/doc/$(PACKAGE)
+	$(BSD_INSTALL_DATA) $(DOCS) $(PREFIX)/share/doc/$(PACKAGE)
+
 # Generic Rules
 
 %.o:%.c
 	@@echo Compiling $<
-	@@$(CC) -c $(CFLAGS) $<
+	$(CC) -c $(CFLAGS) $<
 
 # Dependencies
 subtitle2pgm.o: subtitle2pgm.c spudec.h subtitle2pgm.h
@@@@ -70,19 +75,19 @@@@ vobsub2pgm.o: vobsub2pgm.c vobsub.h spudec.h
 # Target
 subtitle2pgm: subtitle2pgm.o spudec.o
 	@@echo "Linking $@@"
-	@@$(CC) $(LIBS) $^ -o $@@  
+	$(CC) $(LIBS) $^ -o $@@  
 
 subtitle2vobsub: subtitle2vobsub.o vobsub.o 
 	@@echo "Linking $@@"
-	@@$(CC) $(LIBS) $^ -o $@@  
+	$(CC) $(LIBS) $^ -o $@@  
 
 srttool: srttool.o
 	@@echo "Linking $@@"
-	@@$(CC) $(LIBS) -g $^ -o $@@  
+	$(CC) $(LIBS) -g $^ -o $@@  
 
 vobsub2pgm: vobsub2pgm.o vobsub.o spudec.o
 	@@echo "Linking $@@"
-	@@$(CC) $(LIBS) -g $^ -o $@@  
+	$(CC) $(LIBS) -g $^ -o $@@  
 
 .PHONY: clean dist rpm
 clean:
@


1.3
log
@the png headers are now directly under include/
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.2 2012/03/21 23:52:16 fgsch Exp $
--- Makefile.orig	Mon Dec  8 09:28:02 2003
+++ Makefile	Fri Mar 16 23:46:57 2012
d13 1
a13 1
+INCLUDES := -I!!LOCALBASE!!/include
@


1.2
log
@switch to libc getline(3).
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.1.1.1 2007/07/29 17:07:49 ajacoutot Exp $
d13 1
a13 1
+INCLUDES := -I!!LOCALBASE!!/include -I!!LOCALBASE!!/include/libpng
@


1.1
log
@Initial revision
@
text
@d1 5
a5 4
$OpenBSD$
--- Makefile.orig	Mon Dec  8 10:28:02 2003
+++ Makefile	Sun Jul 29 19:04:51 2007
@@@@ -4,12 +4,12 @@@@
d8 1
a8 1
 DEFINES :=  
d11 1
@


1.1.1.1
log
@Import subtitleripper-0.3.4

If you want to convert DVD subtitles into text format (e.g. subrip
format) or VobSub format, this program could be useful for you. However,
it is only one tiny tool that you need in the process of producing srt
files.


From Jeremy Evans <openbsd at jeremyevans dot net> (MAINTAINER) with
some tweaks by myself.
@
text
@@
