head	1.41;
access;
symbols
	OPENBSD_6_1:1.37.0.4
	OPENBSD_6_1_BASE:1.37
	OPENBSD_6_0:1.37.0.2
	OPENBSD_6_0_BASE:1.37
	OPENBSD_5_9:1.36.0.2
	OPENBSD_5_9_BASE:1.36
	OPENBSD_5_8:1.35.0.4
	OPENBSD_5_8_BASE:1.35
	OPENBSD_5_7:1.34.0.8
	OPENBSD_5_7_BASE:1.34
	OPENBSD_5_6:1.34.0.6
	OPENBSD_5_6_BASE:1.34
	OPENBSD_5_5:1.34.0.4
	OPENBSD_5_5_BASE:1.34
	OPENBSD_5_4:1.34.0.2
	OPENBSD_5_4_BASE:1.34
	OPENBSD_5_3:1.32.0.2
	OPENBSD_5_3_BASE:1.32
	OPENBSD_5_2:1.30.0.2
	OPENBSD_5_2_BASE:1.30
	OPENBSD_5_1_BASE:1.29
	OPENBSD_5_1:1.29.0.2
	OPENBSD_5_0:1.28.0.4
	OPENBSD_5_0_BASE:1.28
	OPENBSD_4_9:1.28.0.2
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.20.0.4
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.20.0.2
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.19.0.2
	OPENBSD_4_6_BASE:1.19
	OPENBSD_4_5:1.18.0.2
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.16.0.2
	OPENBSD_4_4_BASE:1.16
	OPENBSD_4_3:1.15.0.2
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.13.0.4
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.13.0.2
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.7.0.2
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.5.0.2
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.2.0.4
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.2
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.1.1.1.0.2
	OPENBSD_3_6_BASE:1.1.1.1
	sturm_2004-Jul-09:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.41
date	2017.07.16.19.19.00;	author espie;	state Exp;
branches;
next	1.40;
commitid	tt0GhWK5c4uf9ILG;

1.40
date	2017.06.03.16.14.00;	author schwarze;	state Exp;
branches;
next	1.39;
commitid	gEIfm62XKi4OjPoO;

1.39
date	2017.05.24.09.26.35;	author espie;	state Exp;
branches;
next	1.38;
commitid	PS3USgraZEwVCXng;

1.38
date	2017.04.10.11.46.23;	author sthen;	state Exp;
branches;
next	1.37;
commitid	BLsh88fJB8thZTwY;

1.37
date	2016.03.11.20.28.28;	author naddy;	state Exp;
branches;
next	1.36;
commitid	UYLP8TE6V7RS2GhJ;

1.36
date	2015.08.19.18.55.05;	author sthen;	state Exp;
branches;
next	1.35;
commitid	IjqIBfZ0w3tzCTnv;

1.35
date	2015.03.19.12.12.20;	author naddy;	state Exp;
branches;
next	1.34;
commitid	SNpBhh910kaH34mE;

1.34
date	2013.03.21.08.46.33;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2013.03.11.11.35.44;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.31;

1.31
date	2012.09.05.16.31.36;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2012.06.20.08.45.37;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2011.09.16.10.31.23;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2010.11.22.09.30.38;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2010.11.19.07.23.15;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.11.11.19.46.30;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2010.11.11.11.19.10;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2010.10.24.21.27.41;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2010.10.18.21.25.07;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.10.11.08.15.54;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2010.08.25.20.45.52;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2009.08.10.06.33.02;	author kili;	state Exp;
branches;
next	1.19;

1.19
date	2009.03.04.20.21.57;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2009.01.30.00.41.24;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2008.11.07.01.15.01;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2008.06.01.08.21.15;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2008.01.26.02.10.26;	author jakemsr;	state Exp;
branches;
next	1.14;

1.14
date	2007.09.16.03.24.28;	author merdely;	state Exp;
branches;
next	1.13;

1.13
date	2007.02.11.00.56.57;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2007.02.08.11.31.16;	author bernd;	state Exp;
branches;
next	1.11;

1.11
date	2006.12.22.16.30.17;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2006.12.16.12.22.34;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2006.12.02.20.24.17;	author pvalchev;	state Exp;
branches;
next	1.8;

1.8
date	2006.11.13.11.20.25;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2006.08.03.23.15.57;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2006.06.13.13.29.09;	author bernd;	state Exp;
branches;
next	1.5;

1.5
date	2006.02.03.05.08.41;	author jakemsr;	state Exp;
branches;
next	1.4;

1.4
date	2006.01.15.20.34.06;	author jakemsr;	state Exp;
branches;
next	1.3;

1.3
date	2006.01.10.02.23.37;	author jakemsr;	state Exp;
branches;
next	1.2;

1.2
date	2005.02.25.15.22.51;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2004.07.09.11.58.39;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.07.09.11.58.39;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.41
log
@use COMPILER_LIBCXX where applicable
@
text
@# $OpenBSD: Makefile,v 1.40 2017/06/03 16:14:00 schwarze Exp $

COMMENT=		tools to edit/modify/encode video streams

DISTNAME=		mjpegtools-2.0.0
REVISION=		4
CATEGORIES=		multimedia
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=mjpeg/}

SHARED_LIBS=		lavfile		5.0 \
			lavjpeg		5.0 \
			lavplay		5.0 \
			mjpegutils	5.0 \
			mpeg2encpp	6.0 \
			mplex2		6.0 \

HOMEPAGE=		http://mjpeg.sourceforge.net/

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += SDL SDL_gfx X11 Xcomposite Xcursor Xdamage Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 c cairo dv expat
WANTLIB += ffi fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 graphite2
WANTLIB += gthread-2.0 gtk-x11-2.0 harfbuzz jpeg m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += sndio ${COMPILER_LIBCXX} usbhid xcb xcb-render xcb-shm z

MODULES=		devel/gettext
LIB_DEPENDS=		devel/sdl \
			devel/sdl-gfx \
			graphics/jpeg \
			graphics/png \
			multimedia/libdv \
			x11/gtk+2 \

CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.68
CONFIGURE_ARGS+=	--with-x \
			--without-v4l
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"

FLAVORS=		quicktime optimized
FLAVOR?=

.if !${FLAVOR:Moptimized}
CONFIGURE_ARGS+=	--disable-simd-accel
.endif

.if ${FLAVOR:Mquicktime}
LIB_DEPENDS +=		multimedia/libquicktime
WANTLIB+=		quicktime>=2
.else
CONFIGURE_ARGS +=	--without-libquicktime
.endif

.include <bsd.port.mk>
@


1.40
log
@Minimally patch up the extremely crappy mjpegtools(1) manual to give
it a chance to render at all.

While here, drop USE_GROFF.  While mjpegtools(1) does contain .ec, it
never passes an argument and never calls .eo, so it has no effect.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2017/05/24 09:26:35 espie Exp $
d28 1
a28 1
WANTLIB += sndio ${LIBCXX} usbhid xcb xcb-render xcb-shm z
@


1.39
log
@build with clang, remove nopic non sense, two phase dependent lookup, and
a shitload of actual abs errors...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2017/04/10 11:46:23 sthen Exp $
d6 1
a6 1
REVISION=		3
a37 1
USE_GROFF=		Yes
@


1.38
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2016/03/11 20:28:28 naddy Exp $
d6 1
a6 1
REVISION=		2
@


1.37
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2015/08/19 18:55:05 sthen Exp $
d28 1
a28 1
WANTLIB += sndio stdc++ usbhid xcb xcb-render xcb-shm z
@


1.36
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2015/03/19 12:12:20 naddy Exp $
d41 1
a41 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--with-x \
@


1.35
log
@fold lib-only PFRAG.shared into PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/03/21 08:46:33 ajacoutot Exp $
d6 1
a6 1
REVISION=		1
d22 7
a28 8
WANTLIB=		GL SDL SDL_gfx X11 Xau Xcomposite Xcursor Xdamage \
			Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm \
			atk-1.0 c cairo drm dv expat ffi fontconfig freetype \
			gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 \
			gobject-2.0 gthread-2.0 gtk-x11-2.0 jpeg m pango-1.0 \
			pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread \
			pthread-stubs sndio stdc++ usbhid xcb xcb-render \
			xcb-shm z
@


1.34
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/03/11 11:35:44 espie Exp $
d6 1
a6 1
REVISION=		0
@


1.33
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/02/09 14:49:51 sthen Exp $
a38 1
USE_LIBTOOL=		Yes
@


1.32
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2012/09/05 16:31:36 jasper Exp $
a20 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.31
log
@- adjust LDFLAGS
- remove check for no_x11 SDL as SDL does not link directly with X libs
and mpjeptools is built with X support

from Brad
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2012/06/20 08:45:37 jasper Exp $
d55 1
a55 1
.if !${FLAVOR:L:Moptimized}
d59 1
a59 1
.if ${FLAVOR:L:Mquicktime}
@


1.30
log
@- update to mjpegtools-2.0.0

from brad
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/09/16 10:31:23 espie Exp $
d6 1
d35 1
a35 1
LIB_DEPENDS=		sdl-*-!no_x11:devel/sdl \
d50 1
a50 1
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.29
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/11/22 09:30:38 espie Exp $
d5 1
a5 2
DISTNAME=		mjpegtools-1.9.0rc3
REVISION=		7
d7 8
a14 12
SHARED_LIBS=		lavfile		4.0 \
			lavfile-1.9	4.0 \
			lavjpeg		4.0 \
			lavjpeg-1.9	4.0 \
			lavplay		4.0 \
			lavplay-1.9	4.0 \
			mjpegutils	4.0 \
			mjpegutils-1.9	4.0 \
			mpeg2encpp	5.0 \
			mpeg2encpp-1.9	5.0 \
			mplex2		5.0 \
			mplex2-1.9	5.0
d24 8
a31 10
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=mjpeg/}

WANTLIB=		X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext \
			Xfixes Xi Xinerama Xrandr Xrender atk-1.0 c cairo \
			expat fontconfig freetype gio-2.0 glib-2.0 \
			gmodule-2.0 gobject-2.0 m pango-1.0 pangocairo-1.0 \
			pangoft2-1.0 pcre pthread pthread-stubs pixman-1 \
                        sndio stdc++ usbhid xcb z gthread-2.0 xcb-render \
			xcb-render-util SDL dv jpeg png gdk-x11-2.0 \
			gdk_pixbuf-2.0 gtk-x11-2.0
d33 1
a33 1
MODULES+=		devel/gettext
d35 1
a35 1
			multimedia/libdv \
d38 1
d42 3
a44 2
USE_GROFF =		Yes
CONFIGURE_STYLE=	gnu
d47 3
a49 6
			--with-libpng \
			--with-libdv

CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
			LDFLAGS="-L${LOCALBASE}/lib" \
			PKG_CONFIG="/usr/bin/pkg-config"
d54 1
a54 3
.if ${FLAVOR:L:Moptimized}
CONFIGURE_ARGS+=	--enable-simd-accel
.else
d60 1
a60 2
WANTLIB +=		quicktime>=2 GL
CONFIGURE_ARGS +=	--with-libquicktime
@


1.28
log
@missed a few depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/11/19 07:23:15 espie Exp $
d6 1
a6 1
REVISION=		6
@


1.27
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/11/11 19:46:30 espie Exp $
d69 2
a70 2
LIB_DEPENDS +=		::multimedia/libquicktime
WANTLIB +=		quicktime.>=2 GL
@


1.26
log
@fix some WANTLIB we missed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/11/11 11:19:10 espie Exp $
d41 5
a45 5
LIB_DEPENDS=		:sdl-*-!no_x11:devel/sdl \
			::multimedia/libdv \
			::graphics/jpeg \
			::graphics/png \
			::x11/gtk+2 \
@


1.25
log
@zap WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/10/24 21:27:41 ajacoutot Exp $
d69 1
a69 1
LIB_DEPENDS +=		quicktime.>=2::multimedia/libquicktime
@


1.24
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/10/18 21:25:07 espie Exp $
d48 1
a48 1
USE_GROFF =	Yes
d69 3
a71 3
LIB_DEPENDS+=		quicktime.>=2::multimedia/libquicktime
CONFIGURE_ARGS+=	--with-libquicktime
WANTLIB+=		GL
d73 1
a73 1
CONFIGURE_ARGS+=	--without-libquicktime
@


1.23
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/10/11 08:15:54 jasper Exp $
a46 1
USE_X11=		Yes
@


1.22
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/08/25 20:45:52 sthen Exp $
d49 1
@


1.21
log
@add missing wantlibs, new-style lib_depends/revision, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/08/10 06:33:02 kili Exp $
d6 1
a6 1
REVISION=		5
d33 1
a33 1
			expat fontconfig freetype gio-2.0 glib-2.0 glitz \
@


1.20
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/03/04 20:21:57 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p4
d36 3
a38 1
			sndio stdc++ usbhid xcb z
d41 5
a45 5
LIB_DEPENDS=		SDL.>=2:sdl-*-!no_x11:devel/sdl \
			dv.>=4::multimedia/libdv \
			jpeg.>=62::graphics/jpeg \
			png.>=4::graphics/png \
			gdk-x11-2.0.>=400.0,gdk_pixbuf-2.0.>=400.0,gtk-x11-2.0.>=400.0::x11/gtk+2 \
@


1.19
log
@- fix license versions
- regen DESCRs, PLISTS
- regen WANTLIBs

ok ajacoutot@@ landry@@ (as part of another diff)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/01/30 00:41:24 sthen Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p3
d35 2
a36 2
			pangoft2-1.0 pcre pthread pixman-1 sndio stdc++ \
			usbhid z
@


1.18
log
@- sync WANTLIB
- better license marker
- regen PLIST since we're bumping the package anyway
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/11/07 01:15:01 brad Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
d49 3
a51 1
			--with-x --with-libpng --with-libdv
@


1.17
log
@Clean up dependencies a bit.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/06/01 08:21:15 sthen Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d23 1
a23 1
# GPL
d33 4
a36 3
			expat fontconfig freetype glib-2.0 glitz gmodule-2.0 \
			gobject-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
			pcre pthread pixman-1 stdc++ usbhid z
@


1.16
log
@sync WANTLIB, bump package version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/01/26 02:10:26 jakemsr Exp $
d6 1
a6 1
PKGNAME=		mjpegtools-1.9.0rc3p0
d32 4
a35 3
			Xfixes Xi Xinerama Xrandr Xrender c cairo expat \
			fontconfig freetype glitz m pcre pthread pixman-1 \
			stdc++ usbhid z
a37 1

a41 2
			atk-1.0.>=800.0::devel/atk \
			glib-2.0.>=600.0,gmodule-2.0.>=600.0,gobject-2.0.>=600.0::devel/glib2 \
a42 1
			pango-1.0.>=1001.0,pangoft2-1.0.>=1001.0,pangocairo-1.0.>=1001.0::devel/pango
a45 1

@


1.15
log
@maintenence update to 1.9.0rc3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/09/16 03:24:28 merdely Exp $
d6 1
d33 2
a34 2
			fontconfig freetype glitz m pcre pthread stdc++ \
			usbhid z
@


1.14
log
@Remove surrounding quotes in COMMENT*/PERMIT_*

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/02/11 00:56:57 steven Exp $
d5 1
a5 2
DISTNAME=		mjpegtools-1.8.0
PKGNAME=		${DISTNAME}p3
d7 12
a18 12
SHARED_LIBS=		lavfile		3.0 \
			lavfile-1.8	3.0 \
			lavjpeg		3.0 \
			lavjpeg-1.8	3.0 \
			lavplay		3.0 \
			lavplay-1.8	3.0 \
			mjpegutils	3.0 \
			mjpegutils-1.8	3.0 \
			mpeg2encpp	4.0 \
			mpeg2encpp-1.8	4.0 \
			mplex2		4.0 \
			mplex2-1.8	4.0
d30 4
a33 2
WANTLIB=		ICE SM X11 Xext Xrender c cairo fontconfig \
			freetype glitz m pthread stdc++ usbhid z
a47 2
AUTOMAKE_VERSION=	1.9
AUTOCONF_VERSION=	2.59
d49 1
a49 2
SEPARATE_BUILD=		concurrent
CONFIGURE_STYLE=	autoconf no-autoheader automake
d53 1
a53 1
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
d69 1
a72 4

pre-configure:
	cd ${WRKSRC} && env AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} automake
@


1.13
log
@WANTLIB fixes, mostly needed by recent cairo update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/02/08 11:31:16 bernd Exp $
d3 1
a3 1
COMMENT=		"tools to edit/modify/encode video streams"
@


1.12
log
@Missing @@conflict marker for mplex.
(mplex already has the @@conflict marker.)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/12/22 16:30:17 steven Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
d31 1
a31 1
WANTLIB=		X11 Xext Xrender c cairo fontconfig \
@


1.11
log
@unbreak by finding pkg-config in the right place
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/12/16 12:22:34 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
@


1.10
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/12/02 20:24:17 pvalchev Exp $
d57 1
a57 1
			PKG_CONFIG="${LOCALBASE}/bin/pkg-config"
@


1.9
log
@Remove jakemsr@@ from maintainer position, as he has been inactive and
email has been bouncing for several months.  Jacob, if you get this
and/or get back to things, let us know.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/11/13 11:20:25 steven Exp $
a34 2

BUILD_DEPENDS=		::devel/pkgconfig
@


1.8
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/08/03 23:15:57 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
a21 2

MAINTAINER=		Jacob Meuser <jakemsr@@openbsd.org>
@


1.7
log
@new style specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/06/13 13:29:09 bernd Exp $
d49 1
@


1.6
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/02/03 05:08:41 jakemsr Exp $
d40 8
a47 8
LIB_DEPENDS=		SDL.2:sdl-*-!no_x11:devel/sdl \
			dv.4::multimedia/libdv \
			jpeg.62::graphics/jpeg \
			png.4::graphics/png \
			atk-1.0.800.0::devel/atk \
			glib-2.0.600.0,gmodule-2.0.600.0,gobject-2.0.600.0::devel/glib2 \
			gdk-x11-2.0.400.0,gdk_pixbuf-2.0.400.0,gtk-x11-2.0.400.0::x11/gtk+2 \
			pango-1.0.1001.0,pangoft2-1.0.1001.0,pangocairo-1.0.1001.0::devel/pango
d72 1
a72 1
LIB_DEPENDS+=		quicktime.2::multimedia/libquicktime
@


1.5
log
@update to mjpegtools-1.8.0

libmjpegutils is now a shared library.  see $HOMEPAGE for other
changes.

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d33 2
a34 2
WANTLIB=		X11 Xext Xft Xrender c fontconfig \
			freetype m pthread stdc++ usbhid z
d47 1
a47 1
			pango-1.0.1001.0,pangoft2-1.0.1001.0,pangox-1.0.1001.0,pangoxft-1.0.1001.0::devel/pango
@


1.4
log
@bump a couple more C++ shared lib versions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/01/10 02:23:37 jakemsr Exp $
d5 1
a5 2
DISTNAME=		mjpegtools-1.6.2
PKGNAME=		${DISTNAME}p2
d7 12
a18 12
SHARED_LIBS=		lavfile		2.2 \
			lavfile-1.6	2.2 \
			lavjpeg		2.2 \
			lavjpeg-1.6	2.2 \
			lavplay		2.2 \
			lavplay-1.6	2.2 \
			mpeg2enc	2.2 \
			mpeg2enc-1.6	2.2 \
			mpeg2encpp	3.0 \
			mpeg2encpp-1.6	3.0 \
			mplex2		3.0 \
			mplex2-1.6	3.0
d22 1
a22 1
MAINTAINER=		Jacob Meuser <jakemsr@@jakemsr.com>
a28 1
WANTLIB=		X11 stdc++ pthread glib m usbhid c gmodule Xi Xext z
d32 5
a36 1
MODULES=		devel/gettext
d38 1
a40 1
			gdk.1.2,gtk.1.2::x11/gtk+ \
d42 9
a50 1
			png.4::graphics/png
d53 7
a59 11

USE_LIBTOOL=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--with-x --enable-xfree-ext \
			--with-dv=${LOCALBASE} --with-dv-yv12 \
			--disable-zalpha

CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include  \
				-I${LOCALBASE}/include/libpng" \
			LDFLAGS="-L${LOCALBASE}/lib"
a65 4
.  if ${MACHINE_ARCH} == "i386"
BUILD_DEPENDS+=		::devel/nasm
CONFIGURE_ARGS+=	--enable-cmov-extension
.  endif
d67 1
a67 2
CONFIGURE_ARGS+=	--disable-cmov-extension \
			--disable-simd-accel
d71 2
a72 2
LIB_DEPENDS+=		quicktime.0::multimedia/libquicktime
CONFIGURE_ARGS+=	--with-quicktime
d74 1
a74 1
CONFIGURE_ARGS+=	--without-quicktime
d77 3
a79 4
post-install:
	${INSTALL_DATA} ${WRKBUILD}/utils/libmjpegutils_pic.a ${PREFIX}/lib

NO_REGRESS=		Yes
@


1.3
log
@SHARED_LIBS
USE_LIBTOOL

ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/02/25 15:22:51 alek Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d16 4
a19 4
			mpeg2encpp	2.2 \
			mpeg2encpp-1.6	2.2 \
			mplex2		2.2 \
			mplex2-1.6	2.2
@


1.2
log
@- Add devel/gettext MODULE
- Add WANTLIB marker
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/07/09 11:58:39 sturm Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d8 12
d44 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d18 1
d22 1
@


1.1.1.1
log
@Initial import of mjpegtools 1.6.2

The mjpegtools are a set of programs that can do recording, playback,
editing and eventual MPEG compression of audio and video under Linux.

Although primarily intended for use with capture / playback boards
based on the Zoran ZR36067 MJPEG codec chip, the mjpegtools can easily
be used to process and compress MJPEG video streams captured using
xawtv using simple frame-buffer devices.

WWW: http://mjpeg.sourceforge.net/

from Jacob Meuser <jakemsr at jakemsr.com>
@
text
@@
