head	1.4;
access;
symbols
	OPENBSD_6_1:1.3.0.20
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.18
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.14
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.16
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.12
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.10
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.8
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.6
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_4_2:1.1.0.8
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.6
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.4
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2017.05.24.09.26.35;	author espie;	state Exp;
branches;
next	1.3;
commitid	PS3USgraZEwVCXng;

1.3
date	2012.06.20.08.45.37;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2008.01.26.02.10.26;	author jakemsr;	state dead;
branches;
next	1.1;

1.1
date	2006.02.03.05.08.41;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.4
log
@build with clang, remove nopic non sense, two phase dependent lookup, and
a shitload of actual abs errors...
@
text
@$OpenBSD: patch-configure_ac,v 1.3 2012/06/20 08:45:37 jasper Exp $
Index: configure.ac
--- configure.ac.orig
+++ configure.ac
@@@@ -361,6 +361,8 @@@@ case $host_cpu in
     ;;
 esac
 
+# remove nonsense
+PROGRAM_NOPIC=""
 dnl Apple's darwin works on multiple hosts now, so add a catchall override
 dnl after processing normal hosts
 case $host in
@@@@ -443,35 +445,6 @@@@ EOF
       AC_MSG_RESULT(no)
     fi
   fi
-fi
-
-dnl *********************************************************************
-dnl For x86 and ppc machines check which code model we should use.  This is
-dnl done with the helper script cpuinfo.sh because the logic to do the job
-dnl correctly is complex and lengthy (about as long as the entire configure.ac
-dnl file).
-
-if test x$have_x86cpu = xtrue -o x$have_ppccpu = xtrue; then
-  if test x$host_alias != x; then
-    dnl This is to allow cross compiling
-    AC_MSG_CHECKING(sub-architecture settings)
-    if test x$have_x86cpu = xtrue; then
-       host_mod_cpu=`echo $host_cpu | tr _ -`
-       ARCHFLAGS="-march=$host_mod_cpu -mcpu=$host_mod_cpu"
-    fi
-  else
-    if test ! -r $srcdir/cpuinfo.sh; then
-       AC_MSG_ERROR([cpuinfo.sh script not found - do a cvs update])
-    fi
-    AC_MSG_CHECKING(sub-architecture settings)
-    chmod +x $srcdir/cpuinfo.sh
-    if test x$have_x86cpu = xtrue; then
-       ARCHFLAGS=`$srcdir/cpuinfo.sh x86`
-    elif test x$have_ppccpu = xtrue; then
-       ARCHFLAGS=`$srcdir/cpuinfo.sh ppc`
-    fi
-  fi
-  AC_MSG_RESULT($ARCHFLAGS)
 fi
 
 dnl **********************************************************************
@


1.3
log
@- update to mjpegtools-2.0.0

from brad
ok aja@@
@
text
@d1 16
a16 4
$OpenBSD$
--- configure.ac.orig	Wed Oct  5 00:34:39 2011
+++ configure.ac	Wed Oct  5 00:35:53 2011
@@@@ -445,35 +445,6 @@@@ EOF
d18 2
a19 2
 fi
 
d47 2
a48 2
-fi
-
a49 2
 dnl Handle forcing static linkage in key places
 if test "x$enable_static_build" = "xyes" ; then
@


1.2
log
@maintenence update to 1.9.0rc3
@
text
@d1 6
a6 6
$OpenBSD: patch-configure_ac,v 1.1 2006/02/03 05:08:41 jakemsr Exp $
--- configure.ac.orig	Sun Sep 18 18:58:48 2005
+++ configure.ac	Thu Dec 22 02:14:18 2005
@@@@ -446,7 +446,8 @@@@ dnl done with the helper script cpuinfo.
 dnl correctly is complex and lengthy (about as long as the entire configure.ac
 dnl file).
d8 6
d15 25
a39 5
+# if test x$have_x86cpu = xtrue -o x$have_ppccpu = xtrue; then
+if false ; then
   if test x$host_alias != x; then
     dnl This is to allow cross compiling
     AC_MSG_CHECKING(sub-architecture settings)
@


1.1
log
@update to mjpegtools-1.8.0

libmjpegutils is now a shared library.  see $HOMEPAGE for other
changes.

ok jolan@@
@
text
@d1 1
a1 1
$OpenBSD$
@

