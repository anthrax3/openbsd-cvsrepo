head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.20
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.18
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.14
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.16
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.12
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.10
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.8
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.6
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_3_6:1.1.1.1.0.2
	OPENBSD_3_6_BASE:1.1.1.1
	sturm_2004-Jun-26:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2012.03.30.06.09.54;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2004.10.13.01.44.20;	author jolan;	state dead;
branches;
next	1.1;

1.1
date	2004.06.26.18.00.27;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.06.26.18.00.27;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Fix some ports improperly using the POSIX feature test macros. Just
checking if they're defined is wrong as -1 is a valid value to indicate
the feature is not supported. No package bumps as the code sections in
question are not being built at the moment.

from Brad
@
text
@$OpenBSD$
--- encodedv/dvconnect.c.orig	Sat Mar 24 10:10:08 2012
+++ encodedv/dvconnect.c	Sat Mar 24 10:13:34 2012
@@@@ -857,7 +857,7 @@@@ int send_raw(const char*const* filenames, int channel,
 
 int rt_raisepri (int pri)
 {
-#ifdef _SC_PRIORITY_SCHEDULING
+#if defined(_POSIX_PRIORITY_SCHEDULING) && (_POSIX_PRIORITY_SCHEDULING > 0)
 	struct sched_param scp;
 
 	/*
@


1.2
log
@update to 0.103, remove sprintf usage

from maintainer
@
text
@d1 10
a10 4
$OpenBSD: patch-encodedv_dvconnect_c,v 1.1 2004/06/26 18:00:27 sturm Exp $
--- encodedv/dvconnect.c.orig	2004-01-16 07:38:21.000000000 -0800
+++ encodedv/dvconnect.c	2004-05-01 16:59:58.000000000 -0700
@@@@ -31,6 +31,7 @@@@
a11 7
 #include <stdio.h>
 #include <sys/ioctl.h>
+#include <sys/types.h>
 #include <sys/mman.h>
 #include <sys/time.h>
 #include <unistd.h>
@@@@ -854,6 +855,12 @@@@ int rt_raisepri (int pri)
a12 19
 	 * Verify that scheduling is available
 	 */
+
+#if defined(__OpenBSD__)
+		fprintf (stderr, "WARNING: RR-scheduler not available, "
+			 "disabling.\n");
+		return (-1);
+#else
 	if (sysconf (_SC_PRIORITY_SCHEDULING) == -1) {
 		fprintf (stderr, "WARNING: RR-scheduler not available, "
 			 "disabling.\n");
@@@@ -868,6 +875,7 @@@@ int rt_raisepri (int pri)
 	}
 #endif
 	return (0);
+#endif
 }
 
 /* ------------------------------------------------------------------------
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Initial import libdv 0.102

The Quasar DV codec (libdv) is a software codec for DV video, the
encoding format used by most digital camcorders, typically those
that support the IEEE 1394 (a.k.a. FireWire or i.Link) interface.
Libdv was developed according to the official standards for DV video:
IEC 61834 and SMPTE 314M.

WWW: http://libdv.sourceforge.net/

from Jacob Meuser <jakemsr at jakemsr.com>
@
text
@@
