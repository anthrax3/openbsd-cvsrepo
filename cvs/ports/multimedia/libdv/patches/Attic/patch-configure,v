head	1.8;
access;
symbols
	OPENBSD_5_7:1.7.0.18
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.16
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.14
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.12
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.10
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.8
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.6
	OPENBSD_5_0:1.7.0.4
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.2
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.5.0.6
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.4
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.2
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.4.0.14
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.12
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.10
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.8
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.6
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.4
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.1.1.1.0.2
	OPENBSD_3_6_BASE:1.1.1.1
	sturm_2004-Jun-26:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2015.05.02.13.03.14;	author ajacoutot;	state dead;
branches;
next	1.7;
commitid	dExXyeOZ4d2fCCBM;

1.7
date	2010.08.23.07.51.22;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2010.08.21.12.22.41;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2009.03.06.20.04.56;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2005.12.28.13.43.07;	author jakemsr;	state Exp;
branches;
next	1.3;

1.3
date	2005.02.22.22.24.36;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2004.10.13.01.44.20;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2004.06.26.18.00.27;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.06.26.18.00.27;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Drop uneeded patches.
@
text
@$OpenBSD: patch-configure,v 1.7 2010/08/23 07:51:22 jasper Exp $
--- configure.orig	Mon Sep 25 22:11:47 2006
+++ configure	Sat Aug 21 14:23:04 2010
@@@@ -20807,6 +20807,8 @@@@ OS_ARCH=`uname -s | sed -e 's|/|_|g'`
 if test x$OS_ARCH = xFreeBSD -o x$OS_ARCH = xOpenBSD; then
    CFLAGS="$CFLAGS -pthread"
    CXXFLAGS="$CXXFLAGS -pthread"
+   PTHREAD_LIBS="-pthread"
+   echo "\toverriding with -pthread for OpenBSD" >&6
 fi
 
 
@@@@ -21463,7 +21465,7 @@@@ fi
 
 
 for ac_header in fcntl.h sys/time.h unistd.h linux/videodev.h sys/soundcard.h \
-endian.h machine/endian.h inttypes.h
+inttypes.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@


1.7
log
@- update libdv to 1.0.0
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.6 2010/08/21 12:22:41 jasper Exp $
@


1.6
log
@- instead of commenting the goo to use -pthread, actually use it.
shrinks patch a bit
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.5 2009/03/06 20:04:56 jasper Exp $
--- configure.orig	Tue Nov 30 04:23:44 2004
+++ configure	Sat Aug 21 14:20:46 2010
@@@@ -20395,6 +20395,8 @@@@ OS_ARCH=`uname -s | sed -e 's|/|_|g'`
d13 1
a13 1
@@@@ -20972,7 +20974,7 @@@@ fi
d21 1
a21 1
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
@


1.5
log
@- drop dependency on gtk+1, nobody objected about playdv

ok ajacoutot@@ landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.4 2005/12/28 13:43:07 jakemsr Exp $
d3 5
a7 23
+++ configure	Mon Mar  2 21:59:06 2009
@@@@ -20320,13 +20320,13 @@@@ fi
 
 
 
-echo "$as_me:$LINENO: checking for pthread_create in -lpthread" >&5
-echo $ECHO_N "checking for pthread_create in -lpthread... $ECHO_C" >&6
+echo "$as_me:$LINENO: checking for pthread_create in -pthread" >&5
+echo $ECHO_N "checking for pthread_create in -pthread... $ECHO_C" >&6
 if test "${ac_cv_lib_pthread_pthread_create+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lpthread  $LIBS"
+LIBS="-pthread  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -20385,17 +20385,17 @@@@ fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_pthread_pthread_create" >&5
 echo "${ECHO_T}$ac_cv_lib_pthread_pthread_create" >&6
 if test $ac_cv_lib_pthread_pthread_create = yes; then
-   PTHREAD_LIBS="-lpthread"
d9 1
d13 1
a13 16
-OS_ARCH=`uname -s | sed -e 's|/|_|g'`
+#OS_ARCH=`uname -s | sed -e 's|/|_|g'`
 # FreeBSD and OpenBSD have neither -lpthread nor integrated pthreads in libc.
 # Instead -pthread is used to the compiler/linker to get pthreads working right.
-if test x$OS_ARCH = xFreeBSD -o x$OS_ARCH = xOpenBSD; then
-   CFLAGS="$CFLAGS -pthread"
-   CXXFLAGS="$CXXFLAGS -pthread"
-fi
+#if test x$OS_ARCH = xFreeBSD -o x$OS_ARCH = xOpenBSD; then
+#   CFLAGS="$CFLAGS -pthread"
+#   CXXFLAGS="$CXXFLAGS -pthread"
+#fi
 
 
 
@@@@ -20972,7 +20972,7 @@@@ fi
@


1.4
log
@- SHARED_LIBS and USE_LIBTOOL
- update my email address
- pkg-config knows about ${X11BASE}/lib/pkgconfig for about 7 months now
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.3 2005/02/22 22:24:36 naddy Exp $
--- configure.orig	Mon Nov 29 19:23:44 2004
+++ configure	Fri Feb 11 01:22:37 2005
@@@@ -20320,13 +20331,13 @@@@ fi
d21 1
a21 1
@@@@ -20385,17 +20396,17 @@@@ fi
d45 1
a45 1
@@@@ -20972,7 +20983,7 @@@@ fi
@


1.3
log
@Update to 0.104.  This release features optimized assembly for
amd64.  playdv can now play at the proper rate on amd64 machines.

Changes in the port:
* Remove inter-library dependencies (does not affect dependent ports).
* Fix playdv double-free crash at EOF.
* Can no longer be built with SEPARATE_BUILD, needs more investigation.
* WANTLIB markers.

From: Jacob Meuser <jakemsr@@jakemsr.com>
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.2 2004/10/13 01:44:20 jolan Exp $
a3 71
@@@@ -3761,12 +3761,10 @@@@ nto-qnx*)
   ;;
 
 openbsd*)
-  lt_cv_file_magic_cmd=/usr/bin/file
-  lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
   if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
-    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB shared object'
+    lt_cv_deplibs_check_method='match_pattern /lib[^/]+(\.so\.[0-9]+\.[0-9]+|\.so|_pic\.a)$'
   else
-    lt_cv_deplibs_check_method='file_magic OpenBSD.* shared library'
+    lt_cv_deplibs_check_method='match_pattern /lib[^/]+(\.so\.[0-9]+\.[0-9]+|_pic\.a)$'
   fi
   ;;
 
@@@@ -8175,7 +8173,7 @@@@ openbsd*)
   version_type=sunos
   need_lib_prefix=no
   need_version=yes
-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+  library_names_spec='${libname}${shared_ext}$versuffix'
   finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
   shlibpath_var=LD_LIBRARY_PATH
   if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
@@@@ -10585,6 +10583,19 @@@@ if test -z "$aix_libpath"; then aix_libp
     # Workaround some broken pre-1.5 toolchains
     output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2>&1 | grep conftest.$objext | $SED -e "s:-lgcc -lc -lgcc::"'
     ;;
+  openbsd*)
+      hardcode_direct_CXX=yes
+      hardcode_shlibpath_var_CXX=no
+      archive_cmds_CXX='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $lib'
+      hardcode_libdir_flag_spec_CXX='${wl}-rpath,$libdir'
+      if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
+        archive_expsym_cmds_CXX='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${
+wl}-retain-symbols-file,$export_symbols -o $lib'
+        export_dynamic_flag_spec_CXX='${wl}-E'
+        whole_archive_flag_spec_CXX="$wlarc"'--whole-archive$convenience '"$wlarc"'--no-whole-archive'
+      fi
+      output_verbose_link_cmd='echo'
+      ;;
   osf3*)
     case $cc_basename in
       KCC)
@@@@ -11894,7 +11905,7 @@@@ openbsd*)
   version_type=sunos
   need_lib_prefix=no
   need_version=yes
-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+  library_names_spec='${libname}${shared_ext}$versuffix'
   finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
   shlibpath_var=LD_LIBRARY_PATH
   if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
@@@@ -15064,7 +15075,7 @@@@ openbsd*)
   version_type=sunos
   need_lib_prefix=no
   need_version=yes
-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+  library_names_spec='${libname}${shared_ext}$versuffix'
   finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
   shlibpath_var=LD_LIBRARY_PATH
   if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
@@@@ -17432,7 +17443,7 @@@@ openbsd*)
   version_type=sunos
   need_lib_prefix=no
   need_version=yes
-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'
+  library_names_spec='${libname}${shared_ext}$versuffix'
   finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
   shlibpath_var=LD_LIBRARY_PATH
   if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
@


1.2
log
@update to 0.103, remove sprintf usage

from maintainer
@
text
@d1 4
a4 16
$OpenBSD: patch-configure,v 1.1.1.1 2004/06/26 18:00:27 sturm Exp $
--- configure.orig	Wed Jul 14 08:51:11 2004
+++ configure	Mon Oct  4 19:45:02 2004
@@@@ -3503,7 +3503,10 @@@@ else
   # I'd rather use --version here, but apparently some GNU ld's only accept -v.
 case `$LD -v 2>&1 </dev/null` in
 *GNU* | *'with BFD'*)
-  lt_cv_prog_gnu_ld=yes
+  case $host_os in
+    openbsd*) lt_cv_prog_gnu_ld=no ;;
+    *) lt_cv_prog_gnu_ld=yes ;;
+  esac
   ;;
 *)
   lt_cv_prog_gnu_ld=no
@@@@ -3720,12 +3723,10 @@@@ nto-qnx*)
d19 1
a19 1
@@@@ -8134,7 +8135,7 @@@@ openbsd*)
d28 1
a28 1
@@@@ -10544,6 +10545,19 @@@@ if test -z "$aix_libpath"; then aix_libp
d48 1
a48 1
@@@@ -11853,7 +11867,7 @@@@ openbsd*)
d57 1
a57 1
@@@@ -15023,7 +15037,7 @@@@ openbsd*)
d66 1
a66 1
@@@@ -17391,7 +17405,7 @@@@ openbsd*)
d75 1
a75 1
@@@@ -20260,13 +20274,13 @@@@ fi
d92 1
a92 1
@@@@ -20325,17 +20339,17 @@@@ fi
d116 1
a116 1
@@@@ -20912,7 +20926,7 @@@@ fi
@


1.1
log
@Initial revision
@
text
@d1 87
a87 13
$OpenBSD$
--- configure.orig	2004-03-27 11:43:21.000000000 -0800
+++ configure	2004-05-01 17:07:37.000000000 -0700
@@@@ -7419,7 +7419,7 @@@@ if test -z "$aix_libpath"; then aix_libp
       hardcode_shlibpath_var=no
       if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
 	archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
-	hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
+	hardcode_libdir_flag_spec='${wl}-R$libdir'
 	export_dynamic_flag_spec='${wl}-E'
       else
        case $host_os in
@@@@ -20088,13 +20088,13 @@@@ fi
d104 1
a104 1
@@@@ -20153,7 +20153,7 @@@@ fi
d113 24
@


1.1.1.1
log
@Initial import libdv 0.102

The Quasar DV codec (libdv) is a software codec for DV video, the
encoding format used by most digital camcorders, typically those
that support the IEEE 1394 (a.k.a. FireWire or i.Link) interface.
Libdv was developed according to the official standards for DV video:
IEC 61834 and SMPTE 314M.

WWW: http://libdv.sourceforge.net/

from Jacob Meuser <jakemsr at jakemsr.com>
@
text
@@
