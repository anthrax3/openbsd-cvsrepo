head	1.5;
access;
symbols
	OPENBSD_5_7:1.4.0.24
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.22
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.20
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.18
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.16
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.14
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.12
	OPENBSD_5_0:1.4.0.10
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.8
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.6
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.4
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.2
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.3.0.18
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.16
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.14
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.12
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.10
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.8
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.6
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.1.1.1.0.2
	OPENBSD_3_6_BASE:1.1.1.1
	sturm_2004-Jun-26:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2015.05.02.13.03.14;	author ajacoutot;	state dead;
branches;
next	1.4;
commitid	dExXyeOZ4d2fCCBM;

1.4
date	2009.03.06.20.04.56;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2005.02.22.22.24.36;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2004.10.13.01.44.20;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2004.06.26.18.00.27;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.06.26.18.00.27;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Drop uneeded patches.
@
text
@$OpenBSD: patch-libdv_dv_c,v 1.4 2009/03/06 20:04:56 jasper Exp $
--- libdv/dv.c.orig	Wed Oct 20 05:49:24 2004
+++ libdv/dv.c	Mon Mar  2 21:59:07 2009
@@@@ -67,8 +67,12 @@@@
 #define DV_MB420_YUV_MMX(a,b,c,d,e) dv_mb420_YUY2_mmx(a,b,c,d,e)
 #endif 
 
+#ifndef MIN
 #define MIN(a,b) ((a)<(b)?(a):(b))
+#endif
+#ifndef MAX
 #define MAX(a,b) ((a)<(b)?(b):(a))
+#endif
 
 int dv_use_mmx;
 
@@@@ -798,7 +802,7 @@@@ dv_get_timestamp (dv_decoder_t *dv, char *tstptr)
     int  id;
 
   if ((id = dv -> ssyb_pack [0x13]) != 0xff) {
-    sprintf (tstptr,
+    snprintf (tstptr, 128,
              "%02d:%02d:%02d.%02d",
              ((dv -> ssyb_data [id] [3] >> 4) & 0x03) * 10 +
               (dv -> ssyb_data [id] [3] & 0x0f),
@@@@ -853,7 +857,7 @@@@ dv_get_recording_datetime (dv_decoder_t *dv, char *dtp
     year = dv -> ssyb_data [id1] [3];
     year = (year & 0x0f) + 10 * ((year >> 4) & 0x0f);
     year += (year < 25) ? 2000 : 1900;
-    sprintf (dtptr,
+    snprintf (dtptr, 128,
              "%04d-%02d-%02d %02d:%02d:%02d",
              year,
              ((dv -> ssyb_data [id1] [2] >> 4) & 0x01) * 10 +
@@@@ -875,7 +879,7 @@@@ dv_get_recording_datetime (dv_decoder_t *dv, char *dtp
     year = dv -> vaux_data [id1] [3];
     year = (year & 0x0f) + 10 * ((year >> 4) & 0x0f);
     year += (year < 25) ? 2000 : 1900;
-    sprintf (dtptr,
+    snprintf (dtptr, 128,
              "%04d-%02d-%02d %02d:%02d:%02d",
              year,
              ((dv -> vaux_data [id1] [2] >> 4) & 0x01) * 10 +
@


1.4
log
@- drop dependency on gtk+1, nobody objected about playdv

ok ajacoutot@@ landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-libdv_dv_c,v 1.3 2005/02/22 22:24:36 naddy Exp $
@


1.3
log
@Update to 0.104.  This release features optimized assembly for
amd64.  playdv can now play at the proper rate on amd64 machines.

Changes in the port:
* Remove inter-library dependencies (does not affect dependent ports).
* Fix playdv double-free crash at EOF.
* Can no longer be built with SEPARATE_BUILD, needs more investigation.
* WANTLIB markers.

From: Jacob Meuser <jakemsr@@jakemsr.com>
@
text
@d1 3
a3 3
$OpenBSD: patch-libdv_dv_c,v 1.2 2004/10/13 01:44:20 jolan Exp $
--- libdv/dv.c.orig	Tue Oct 19 20:49:24 2004
+++ libdv/dv.c	Fri Feb 11 01:22:37 2005
d17 1
a17 1
@@@@ -798,7 +802,7 @@@@ dv_get_timestamp (dv_decoder_t *dv, char
d26 1
a26 1
@@@@ -853,7 +857,7 @@@@ dv_get_recording_datetime (dv_decoder_t 
d35 1
a35 1
@@@@ -875,7 +879,7 @@@@ dv_get_recording_datetime (dv_decoder_t 
@


1.2
log
@update to 0.103, remove sprintf usage

from maintainer
@
text
@d1 3
a3 3
$OpenBSD: patch-libdv_dv_c,v 1.1.1.1 2004/06/26 18:00:27 sturm Exp $
--- libdv/dv.c.orig	Tue Jul  6 17:44:22 2004
+++ libdv/dv.c	Mon Oct  4 19:33:31 2004
d17 1
a17 1
@@@@ -791,7 +795,7 @@@@ dv_get_timestamp (dv_decoder_t *dv, char
d26 1
a26 1
@@@@ -846,7 +850,7 @@@@ dv_get_recording_datetime (dv_decoder_t 
d35 1
a35 1
@@@@ -868,7 +872,7 @@@@ dv_get_recording_datetime (dv_decoder_t 
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- libdv/dv.c.orig	2004-03-15 12:22:20.000000000 -0800
+++ libdv/dv.c	2004-05-02 17:04:41.000000000 -0700
d16 28
a43 1
 pthread_mutex_t dv_mutex = PTHREAD_MUTEX_INITIALIZER;
@


1.1.1.1
log
@Initial import libdv 0.102

The Quasar DV codec (libdv) is a software codec for DV video, the
encoding format used by most digital camcorders, typically those
that support the IEEE 1394 (a.k.a. FireWire or i.Link) interface.
Libdv was developed according to the official standards for DV video:
IEC 61834 and SMPTE 314M.

WWW: http://libdv.sourceforge.net/

from Jacob Meuser <jakemsr at jakemsr.com>
@
text
@@
