head	1.13;
access;
symbols
	OPENBSD_6_1:1.13.0.2
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.11.0.4
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.2
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.10.0.4
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.9.0.4
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.9.0.2
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.7.0.8
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.6
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.4
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.2
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.4
	OPENBSD_5_0:1.5.0.2
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	ckuethe_20101004:1.1.1.1
	ckuethe:1.1.1;
locks; strict;
comment	@# @;


1.13
date	2017.01.15.09.59.11;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	GKi2f0UlSuvApYRZ;

1.12
date	2016.08.07.01.33.52;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	Ff3yLMKH563GGm0b;

1.11
date	2015.11.13.07.14.26;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	v8oVJJILth66Yude;

1.10
date	2015.04.26.07.58.22;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	5ZWrxJX3TDw6pU0R;

1.9
date	2014.04.29.23.58.06;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2014.03.17.14.01.09;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2012.05.22.18.22.50;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2012.02.28.12.28.29;	author dcoppa;	state Exp;
branches;
next	1.5;

1.5
date	2011.03.17.16.54.16;	author edd;	state Exp;
branches;
next	1.4;

1.4
date	2010.11.06.23.28.23;	author jakemsr;	state Exp;
branches;
next	1.3;

1.3
date	2010.10.31.21.05.38;	author ckuethe;	state Exp;
branches;
next	1.2;

1.2
date	2010.10.07.18.59.47;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.04.23.56.16;	author ckuethe;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.10.04.23.56.16;	author ckuethe;	state Exp;
branches;
next	;


desc
@@


1.13
log
@Update to libvpx-1.6.1.

from Brad (maintainer)
@
text
@$OpenBSD: patch-configure,v 1.12 2016/08/07 01:33:52 ajacoutot Exp $
--- configure.orig	Thu Jan 12 15:27:27 2017
+++ configure	Sat Jan 14 18:47:23 2017
@@@@ -113,6 +113,7 @@@@ all_platforms="${all_platforms} armv7s-darwin-gcc"
 all_platforms="${all_platforms} armv8-linux-gcc"
 all_platforms="${all_platforms} mips32-linux-gcc"
 all_platforms="${all_platforms} mips64-linux-gcc"
+all_platforms="${all_platforms} sparc-linux-gcc"
 all_platforms="${all_platforms} sparc-solaris-gcc"
 all_platforms="${all_platforms} x86-android-gcc"
 all_platforms="${all_platforms} x86-darwin8-gcc"
@@@@ -175,19 +176,6 @@@@ if [ "`cd \"${source_path}\" && pwd`" != "`pwd`" ]; th
   fi
 fi
 
-# check installed doxygen version
-doxy_version=$(doxygen --version 2>/dev/null)
-doxy_major=${doxy_version%%.*}
-if [ ${doxy_major:-0} -ge 1 ]; then
-    doxy_version=${doxy_version#*.}
-    doxy_minor=${doxy_version%%.*}
-    doxy_patch=${doxy_version##*.}
-
-    [ $doxy_major -gt 1 ] && enable_feature doxygen
-    [ $doxy_minor -gt 5 ] && enable_feature doxygen
-    [ $doxy_minor -eq 5 ] && [ $doxy_patch -ge 3 ] && enable_feature doxygen
-fi
-
 # disable codecs when their source directory does not exist
 [ -d "${source_path}/vp8" ] || disable_codec vp8
 [ -d "${source_path}/vp9" ] || disable_codec vp9
@@@@ -496,7 +484,7 @@@@ process_detect() {
         # here rather than at option parse time because the target auto-detect
         # magic happens after the command line has been parsed.
         case "${tgt_os}" in
-        linux|os2|darwin*|iphonesimulator*)
+        linux|*bsd|os2|darwin*|iphonesimulator*)
             # Supported platforms
             ;;
         *)
@


1.12
log
@Update to libvpx-1.6.0.

from Brad (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.11 2015/11/13 07:14:26 ajacoutot Exp $
--- configure.orig	Wed Jul 20 21:15:41 2016
+++ configure	Fri Aug  5 18:46:34 2016
@@@@ -114,6 +114,7 @@@@ all_platforms="${all_platforms} armv7s-darwin-gcc"
d12 1
a12 1
@@@@ -181,19 +182,6 @@@@ if [ "`cd \"${source_path}\" && pwd`" != "`pwd`" ]; th
d32 1
a32 1
@@@@ -505,7 +493,7 @@@@ process_detect() {
@


1.11
log
@Update to libvpx-1.5.0.

from Brad (maintainer)
@
text
@d1 5
a5 5
$OpenBSD: patch-configure,v 1.10 2015/04/26 07:58:22 ajacoutot Exp $
--- configure.orig	Mon Nov  9 17:12:38 2015
+++ configure	Thu Nov 12 01:25:23 2015
@@@@ -111,6 +111,7 @@@@ all_platforms="${all_platforms} armv7-win32-vs14"
 all_platforms="${all_platforms} armv7s-darwin-gcc"
d12 1
a12 1
@@@@ -176,19 +177,6 @@@@ if [ "`cd \"${source_path}\" && pwd`" != "`pwd`" ]; th
d30 11
a40 21
 [ -d "${source_path}/vp8" ] || disable_feature vp8
 [ -d "${source_path}/vp9" ] || disable_feature vp9
@@@@ -503,18 +491,6 @@@@ EOF
 }
 
 process_detect() {
-    if enabled shared; then
-        # Can only build shared libs on a subset of platforms. Doing this check
-        # here rather than at option parse time because the target auto-detect
-        # magic happens after the command line has been parsed.
-        if ! enabled linux && ! enabled os2; then
-            if enabled gnu; then
-                echo "--enable-shared is only supported on ELF; assuming this is OK"
-            else
-                die "--enable-shared only supported on ELF and OS/2 for now"
-            fi
-        fi
-    fi
     if [ -z "$CC" ] || enabled external_build; then
         echo "Bypassing toolchain for environment detection."
         enable_feature external_build
@


1.10
log
@Update to libvpx-1.4.0.
Run-time tested on amd64, i386 and sparc64. Build tested on hppa.

from brad (maintainer)
@
text
@d1 7
a7 7
$OpenBSD: patch-configure,v 1.9 2014/04/29 23:58:06 brad Exp $
--- configure.orig	Tue Mar 31 11:01:15 2015
+++ configure	Tue Mar 31 11:08:39 2015
@@@@ -118,6 +118,7 @@@@ all_platforms="${all_platforms} ppc32-linux-gcc"
 all_platforms="${all_platforms} ppc64-darwin8-gcc"
 all_platforms="${all_platforms} ppc64-darwin9-gcc"
 all_platforms="${all_platforms} ppc64-linux-gcc"
d12 1
a12 1
@@@@ -187,19 +188,6 @@@@ if [ "`cd \"${source_path}\" && pwd`" != "`pwd`" ]; th
d29 4
a32 4
 # install everything except the sources, by default. sources will have
 # to be enabled when doing dist builds, since that's no longer a common
 # case.
@@@@ -543,18 +531,6 @@@@ EOF
d40 1
a40 1
-        if ! enabled linux; then
d44 1
a44 1
-                die "--enable-shared only supported on ELF for now"
@


1.9
log
@Update to libvpx 1.3.0.

ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.7 2012/05/22 18:22:50 ajacoutot Exp $
--- configure.orig	Fri Jan 10 15:12:42 2014
+++ configure	Mon Feb 17 14:39:50 2014
@@@@ -108,6 +108,7 @@@@ all_platforms="${all_platforms} ppc32-linux-gcc"
d12 3
a14 3
@@@@ -160,19 +161,6 @@@@ for t in ${all_targets}; do
     [ -f ${source_path}/${t}.mk ] && enable_feature ${t}
 done
d32 1
a32 1
@@@@ -501,18 +489,6 @@@@ EOF
@


1.8
log
@Update to libvpx 1.2.0.

ok sthen@@
@
text
@d2 3
a4 9
--- configure.orig	Mon Oct 14 14:16:36 2013
+++ configure	Thu Dec  5 21:42:57 2013
@@@@ -1,4 +1,4 @@@@
-#!/bin/bash
+#!${BASH}
 ##
 ##  configure
 ##
@@@@ -104,6 +104,7 @@@@ all_platforms="${all_platforms} ppc32-linux-gcc"
d10 1
d12 2
a13 3
 all_platforms="${all_platforms} x86-darwin8-icc"
@@@@ -146,19 +147,6 @@@@ for t in ${all_targets}; do
     [ -f ${source_path}/${t}.mk ] && enable ${t}
d24 3
a26 3
-    [ $doxy_major -gt 1 ] && enable doxygen
-    [ $doxy_minor -gt 5 ] && enable doxygen
-    [ $doxy_minor -eq 5 ] && [ $doxy_patch -ge 3 ] && enable doxygen
d32 1
a32 1
@@@@ -452,18 +440,6 @@@@ EOF
d48 1
a48 1
     if [ -z "$CC" ]; then
d50 1
a50 1
         enable external_build
@


1.7
log
@Update to libvpx 1.1.0.
Also patched to fix operation on strict alignment archs: this fixes
libvpx on alpha/arm/hppa/mips64/sparc/sparc64.

from Brad (maintainer)
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.6 2012/02/28 12:28:29 dcoppa Exp $
--- configure.orig	Tue May  8 19:14:00 2012
+++ configure	Wed May 16 17:07:35 2012
d10 1
a10 1
@@@@ -103,6 +103,7 @@@@ all_platforms="${all_platforms} ppc32-linux-gcc"
d18 1
a18 1
@@@@ -145,19 +146,6 @@@@ for t in ${all_targets}; do
d38 1
a38 1
@@@@ -449,12 +437,6 @@@@ EOF
d46 7
a52 1
-        enabled linux || die "--enable-shared only supported on ELF for now"
@


1.6
log
@Update to libvpx 1.0.0.

From brad, with tweaks by me.
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.5 2011/03/17 16:54:16 edd Exp $
--- configure.orig	Fri Jan 27 13:36:39 2012
+++ configure	Sun Jan 29 21:11:03 2012
d10 1
a10 1
@@@@ -101,6 +101,7 @@@@ all_platforms="${all_platforms} ppc32-linux-gcc"
d18 1
a18 1
@@@@ -136,19 +137,6 @@@@ for t in ${all_targets}; do
d38 1
a38 1
@@@@ -433,12 +421,6 @@@@ EOF
@


1.5
log
@update to libvpx 0.9.6 from brad.

OK by MAINTAINER (brad)
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.4 2010/11/06 23:28:23 jakemsr Exp $
--- configure.orig	Fri Mar  4 15:40:37 2011
+++ configure	Tue Mar  8 21:12:29 2011
d10 1
a10 1
@@@@ -100,6 +100,7 @@@@ all_platforms="${all_platforms} ppc32-linux-gcc"
d18 1
a18 1
@@@@ -132,19 +133,6 @@@@ for t in ${all_targets}; do
d38 1
a38 1
@@@@ -416,12 +404,6 @@@@ EOF
@


1.4
log
@let it build on sparc64
from Brad
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.3 2010/10/31 21:05:38 ckuethe Exp $
--- configure.orig	Thu Oct 28 09:14:14 2010
+++ configure	Wed Nov  3 20:31:26 2010
d10 1
a10 1
@@@@ -101,6 +101,7 @@@@ all_platforms="${all_platforms} ppc32-linux-gcc"
d38 1
a38 1
@@@@ -415,12 +403,6 @@@@ EOF
@


1.3
log
@update to libvpx 0.9.5, from brad. tested with an upcoming update of mplayer
ok edd@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.2 2010/10/07 18:59:47 kili Exp $
d3 1
a3 1
+++ configure	Thu Oct 28 22:06:24 2010
d10 9
a18 1
@@@@ -132,19 +132,6 @@@@ for t in ${all_targets}; do
d38 1
a38 1
@@@@ -415,12 +402,6 @@@@ EOF
@


1.2
log
@Don't pick up and use doxygen (wasting time) when it's installed.
From brad, who sent me this version a couple of days when i did
some testing ov libvpx and whined about my valuable cpu cycles.
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.1.1.1 2010/10/04 23:56:16 ckuethe Exp $
--- configure.orig	Thu Sep  2 14:56:47 2010
+++ configure	Mon Oct  4 22:26:58 2010
d10 1
a10 1
@@@@ -128,19 +128,6 @@@@ for t in ${all_targets}; do
d30 1
a30 1
@@@@ -408,12 +395,6 @@@@ EOF
d38 1
a38 1
-	enabled linux || die "--enable-shared only supported on ELF for now"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ configure	Sat Sep 25 14:53:47 2010
d10 21
a30 1
@@@@ -408,12 +408,6 @@@@ EOF
@


1.1.1.1
log
@import of the Google/ON2 VP8 codec, from brad
@
text
@@
