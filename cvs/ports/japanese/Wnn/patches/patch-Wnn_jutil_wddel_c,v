head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.6
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.1.0.4
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.07.25.16.47.12;	author espie;	state Exp;
branches;
next	1.1;
commitid	lfUoLFpbeIFyf3Ry;

1.1
date	2014.03.23.17.22.45;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@move to new auth checks. Add "a few" includes to placate a lot of warnings.
(and bump affected packages of course)
@
text
@$OpenBSD: patch-Wnn_jutil_wddel_c,v 1.1 2014/03/23 17:22:45 espie Exp $
--- Wnn/jutil/wddel.c.orig	Mon Nov 30 08:35:07 1992
+++ Wnn/jutil/wddel.c	Sat Jul 25 17:05:26 2015
@@@@ -53,6 +53,7 @@@@ static char *rcs_id = "$Id: wddel.c,v 1.5 1992/11/30 0
 */
 
 #include <stdio.h>
+#include <stdlib.h>
 #include "commonhd.h"
 #include "config.h"
 #include "jllib.h"
@@@@ -199,7 +200,7 @@@@ char **argv;
 	fprintf(stderr, "The specified dictionary isn't registable\n");
 	exit(1);
     }
-    while(gets(s)){
+    while(fgets(s, sizeof s, stdin)){
 	char com[LENGTHYOMI];
 	char Com[LENGTHYOMI];
 	int ima, hindo;
@


1.1
log
@zap gets usage. very straightforward, since all those are to fixed sized
buffers (also synch the documentation, which contains cut&paste from
the original code).
@
text
@d1 12
a12 4
$OpenBSD$
--- Wnn/jutil/wddel.c.orig	Sun Mar 23 18:10:08 2014
+++ Wnn/jutil/wddel.c	Sun Mar 23 18:10:25 2014
@@@@ -199,7 +199,7 @@@@ char **argv;
@

