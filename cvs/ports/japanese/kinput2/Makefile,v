head	1.33;
access;
symbols
	OPENBSD_6_2:1.33.0.16
	OPENBSD_6_2_BASE:1.33
	OPENBSD_6_1:1.33.0.14
	OPENBSD_6_1_BASE:1.33
	OPENBSD_6_0:1.33.0.12
	OPENBSD_6_0_BASE:1.33
	OPENBSD_5_9:1.33.0.8
	OPENBSD_5_9_BASE:1.33
	OPENBSD_5_8:1.33.0.10
	OPENBSD_5_8_BASE:1.33
	OPENBSD_5_7:1.33.0.6
	OPENBSD_5_7_BASE:1.33
	OPENBSD_5_6:1.33.0.4
	OPENBSD_5_6_BASE:1.33
	OPENBSD_5_5:1.33.0.2
	OPENBSD_5_5_BASE:1.33
	OPENBSD_5_4:1.31.0.2
	OPENBSD_5_4_BASE:1.31
	OPENBSD_5_3:1.29.0.2
	OPENBSD_5_3_BASE:1.29
	OPENBSD_5_2:1.28.0.2
	OPENBSD_5_2_BASE:1.28
	OPENBSD_5_1_BASE:1.27
	OPENBSD_5_1:1.27.0.2
	OPENBSD_5_0:1.24.0.4
	OPENBSD_5_0_BASE:1.24
	OPENBSD_4_9:1.24.0.2
	OPENBSD_4_9_BASE:1.24
	OPENBSD_4_8:1.21.0.2
	OPENBSD_4_8_BASE:1.21
	OPENBSD_4_7:1.19.0.2
	OPENBSD_4_7_BASE:1.19
	OPENBSD_4_6:1.18.0.8
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.6
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.4
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.16.0.4
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.16.0.2
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.15.0.8
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.15.0.6
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.15.0.4
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.15.0.2
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.14.0.6
	OPENBSD_3_6_BASE:1.14
	OPENBSD_3_5:1.14.0.4
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.14.0.2
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.11.0.2
	OPENBSD_3_3_BASE:1.11
	OPENBSD_3_2:1.10.0.4
	OPENBSD_3_2_BASE:1.10
	OPENBSD_3_1:1.10.0.2
	OPENBSD_3_1_BASE:1.10
	OPENBSD_3_0:1.8.0.2
	OPENBSD_3_0_BASE:1.8
	OPENBSD_2_9_TRACKING_SWITCH:1.7
	OPENBSD_2_9:1.5.0.2
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.1.1.1.0.2
	OPENBSD_2_7_BASE:1.1.1.1
	SUZUKI:1.1.1.1
	kinput2:1.1.1;
locks; strict;
comment	@# @;


1.33
date	2013.10.11.21.20.57;	author naddy;	state Exp;
branches;
next	1.32;

1.32
date	2013.10.11.20.39.36;	author naddy;	state Exp;
branches;
next	1.31;

1.31
date	2013.03.11.12.17.51;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2013.03.11.11.12.33;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2013.02.09.14.49.51;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2012.03.17.23.01.09;	author naddy;	state Exp;
branches;
next	1.27;

1.27
date	2011.12.02.14.36.14;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2011.11.01.16.27.06;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2011.09.16.10.02.38;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2010.11.17.08.05.17;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2010.10.24.21.22.23;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.10.18.18.13.15;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.07.25.05.58.31;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2010.04.24.20.18.39;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2009.08.10.06.32.05;	author kili;	state Exp;
branches;
next	1.18;

1.18
date	2007.11.13.17.10.26;	author steven;	state Exp;
branches;
next	1.17;

1.17
date	2007.09.16.00.33.57;	author merdely;	state Exp;
branches;
next	1.16;

1.16
date	2006.11.13.11.20.25;	author steven;	state Exp;
branches;
next	1.15;

1.15
date	2005.02.22.13.52.25;	author alek;	state Exp;
branches;
next	1.14;

1.14
date	2003.08.04.13.11.48;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2003.04.14.15.02.09;	author wilfried;	state Exp;
branches;
next	1.12;

1.12
date	2003.04.10.18.08.56;	author jsyn;	state Exp;
branches;
next	1.11;

1.11
date	2002.10.27.00.52.43;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2002.03.21.20.57.09;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2002.01.25.22.20.14;	author jsyn;	state Exp;
branches;
next	1.8;

1.8
date	2001.09.19.16.03.10;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2001.06.20.01.43.23;	author pvalchev;	state Exp;
branches;
next	1.6;

1.6
date	2001.05.06.05.15.13;	author lebel;	state Exp;
branches;
next	1.5;

1.5
date	2001.03.22.22.06.39;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2000.10.22.19.02.00;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2000.10.22.15.42.23;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2000.06.11.01.53.48;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2000.04.26.00.43.12;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.26.00.43.12;	author espie;	state Exp;
branches
	1.1.1.1.2.1;
next	;

1.1.1.1.2.1
date	2000.09.15.04.54.27;	author marc;	state Exp;
branches;
next	;


desc
@@


1.33
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@# $OpenBSD: Makefile,v 1.32 2013/10/11 20:39:36 naddy Exp $

COMMENT-canna=		X input method for Japanese, canna support
COMMENT-canna-wnn=	X input method for Japanese, canna and wnn support
COMMENT-wnn=		X input method for Japanese, wnn support

DISTNAME=	kinput2-v3
PKGNAME=	ja-kinput2-3.0
REVISION=	7
MASTER_SITES=	ftp://ftp.sra.co.jp/pub/x11/kinput2/
CATEGORIES=	japanese x11

# License: NOFEE
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	ICE SM X11 Xau Xaw Xdmcp Xext Xmu Xpm Xt c

MAINTAINER=	SUZUKI Hitoshi <sigh@@kuzirabekon.econ.nagasaki-u.ac.jp>

CONFIGURE_STYLE=imake
FLAVORS=	canna wnn
FLAVOR?=	wnn


.if ${FLAVOR:Mwnn}
BUILD_DEPENDS+=	japanese/Wnn
.endif
.if ${FLAVOR:Mcanna}
PERMIT_PACKAGE_CDROM=	Canna prevents it
PERMIT_PACKAGE_FTP =	Yes
WANTLIB += canna16
LIB_DEPENDS=	japanese/canna
.endif

PORT_DOCDIR=${PREFIX}/share/doc/kinput2

pre-configure:
	mv -f ${WRKSRC}/Kinput2.conf ${WRKSRC}/Kinput2.conf.org
	cp ${FILESDIR}/Kinput2.conf ${WRKSRC}/Kinput2.conf
.if ${FLAVOR:Mwnn}
	echo "#define UseWnn" >>${WRKSRC}/Kinput2.conf
.endif
.if ${FLAVOR:Mcanna}
	echo "#define UseCanna" >>${WRKSRC}/Kinput2.conf
.endif

NO_TEST=	Yes

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/kinput2
	cp ${WRKSRC}/README ${PORT_DOCDIR}
	cp ${WRKSRC}/NEWS ${PORT_DOCDIR}
	@@(cd ${WRKSRC}/doc; tar -cf - . | \
		(cd ${PORT_DOCDIR}; tar -xf -))
	@@chown -R ${SHAREOWN}:${SHAREGRP} ${PORT_DOCDIR}

.include <bsd.port.mk>
@


1.32
log
@Regenerate PLISTs now that imake installs the source man pages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/03/11 12:17:51 espie Exp $
a23 1
USE_GROFF =	Yes
@


1.31
log
@fix small differences in PERMIT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/03/11 11:12:33 espie Exp $
d9 1
a9 1
REVISION=	6
@


1.30
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/02/09 14:49:51 sthen Exp $
d31 1
@


1.29
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/03/17 23:01:09 naddy Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d47 1
a47 1
NO_REGRESS=	Yes
@


1.28
log
@getline -> get_line
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/12/02 14:36:14 espie Exp $
d43 1
a43 1
.if ${FLAVOR:L:Mwnn}
d46 1
a46 1
.if ${FLAVOR:L:Mcanna}
@


1.27
log
@bye bye FLAVOR:L
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/11/01 16:27:06 jasper Exp $
d9 1
a9 1
REVISION=	5
@


1.26
log
@- fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/09/16 10:02:38 espie Exp $
d29 1
a29 1
.if ${FLAVOR:L:Mwnn}
d32 1
a32 1
.if ${FLAVOR:L:Mcanna}
@


1.25
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/11/17 08:05:17 espie Exp $
d9 1
a9 1
REVISION=	4
d19 1
a19 1
WANTLIB=	ICE SM X11 Xau Xaw Xdmcp Xext Xmu Xpm Xt c pthread-stubs xcb
@


1.24
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/10/24 21:22:23 ajacoutot Exp $
d9 1
a9 1
REVISION=	3
@


1.23
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/10/18 18:13:15 espie Exp $
d30 1
a30 1
BUILD_DEPENDS+=	::japanese/Wnn
d35 1
a35 1
LIB_DEPENDS=	::japanese/canna
@


1.22
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/07/25 05:58:31 ajacoutot Exp $
a26 1
USE_X11=	Yes
@


1.21
log
@Move to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/04/24 20:18:39 naddy Exp $
d28 1
@


1.20
log
@fix build and WANTLIB after libXp removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/08/10 06:32:05 kili Exp $
d8 2
a9 1
PKGNAME=	ja-kinput2-3.0p2
d18 1
d34 2
a35 1
LIB_DEPENDS=	canna16::japanese/canna
@


1.19
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/11/13 17:10:26 steven Exp $
d8 1
a8 1
PKGNAME=	ja-kinput2-3.0p1
d17 1
a17 1
WANTLIB=	ICE SM X11 Xau Xaw Xdmcp Xext Xmu Xp Xpm Xt c pthread-stubs xcb
@


1.18
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/09/16 00:33:57 merdely Exp $
d8 1
a8 1
PKGNAME=	ja-kinput2-3.0p0
d17 1
a17 1
WANTLIB=	Xau Xdmcp Xpm Xmu Xaw X11 c Xt SM Xp Xext ICE
@


1.17
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/11/13 11:20:25 steven Exp $
d8 1
a8 1
PKGNAME=	ja-kinput2-3.0
d17 1
a17 1
WANTLIB=		Xpm Xmu Xaw X11 c Xt SM Xp Xext ICE
@


1.16
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2005/02/22 13:52:25 alek Exp $
d3 3
a5 3
COMMENT-canna=		"X input method for Japanese, canna support"
COMMENT-canna-wnn=	"X input method for Japanese, canna and wnn support"
COMMENT-wnn=		"X input method for Japanese, wnn support"
d31 1
a31 1
PERMIT_PACKAGE_CDROM=	"Canna prevents it"
@


1.15
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2003/08/04 13:11:48 espie Exp $
d8 1
d25 1
a25 1
PKGNAME=	ja-kinput2-3.0
@


1.14
log
@Canna disallows package on cdrom
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2003/04/14 15:02:09 wilfried Exp $
d16 1
@


1.13
log
@POSIX chown, ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2003/04/10 18:08:56 jsyn Exp $
d29 1
@


1.12
log
@quote COMMENTs; ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/10/27 00:52:43 naddy Exp $
d52 1
a52 1
	@@chown -R ${SHAREOWN}.${SHAREGRP} ${PORT_DOCDIR}
@


1.11
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/03/21 20:57:09 espie Exp $
d3 3
a5 3
COMMENT-canna=		X input method for Japanese, canna support
COMMENT-canna-wnn=	X input method for Japanese, canna and wnn support
COMMENT-wnn=		X input method for Japanese, wnn support
@


1.10
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/01/25 22:20:14 jsyn Exp $
a9 1
NEED_VERSION=   1.515
d43 2
@


1.9
log
@add missing CVS tag
@
text
@d1 1
a1 1
# $OpenBSD$
d10 1
a10 1
NEED_VERSION=   1.458
@


1.8
log
@Update dependencies (kill first part when needed).

Update japanese/README... 2.4 is looong past.
@
text
@d1 1
a1 2
# Date created: 26 Apr. 2000
# Whom:		SUZUKI Hitoshi <sigh@@kuzirabekon.econ.nagasaki-u.ac.jp>
@


1.7
log
@Remove deprecated LICENSE_TYPE and set appropriate # comments
with its contents.
@
text
@d11 1
a11 1
NEED_VERSION=   1.402
d28 1
a28 1
BUILD_DEPENDS+=	${LOCALBASE}/lib/libwnn.a::japanese/Wnn
@


1.6
log
@last few COMMENT-* removed. Mission accomplished.
@
text
@d13 1
a13 1
LICENSE_TYPE=	NOFEE
@


1.5
log
@- mkdir -> ${INSTALL_DATA_DIR}
- kill off FreeBSD-ism (NOPORTDOCS knob)
--
Patch from: Pete Fritchman <petef@@databits.net>
@
text
@d4 4
d11 1
a11 1
NEED_VERSION=   1.305
@


1.4
log
@Two more maintainers
@
text
@d43 1
a43 1
	-mkdir ${PREFIX}/share/doc/kinput2
@


1.3
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d15 1
a15 1
MAINTAINER=	sigh@@kuzirabekon.econ.nagasaki-u.ac.jp
@


1.2
log
@Convert to new style bsd.port.mk
@
text
@d7 1
a7 1
NEED_VERSION=   1.300
@


1.1
log
@Initial revision
@
text
@d7 1
d17 1
a17 3
NEED_VERSION=   1.270
USE_IMAKE=	Yes
FAKE=		Yes
@


1.1.1.1
log
@X input method for japanese.
Port by Hitoshi Suzuki <sigh@@kuzirabekon.econ.nagasaki-u.ac.jp>, 
with a few flavor tricks by me.

Domo arigato, Suzuki san !
@
text
@@


1.1.1.1.2.1
log
@bring japanese as of cut-over date into 2.7 branch
@
text
@a6 1
NEED_VERSION=   1.300
d16 3
a18 1
CONFIGURE_STYLE=imake
@

