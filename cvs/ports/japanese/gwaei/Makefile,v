head	1.23;
access;
symbols
	OPENBSD_6_2:1.23.0.4
	OPENBSD_6_2_BASE:1.23
	OPENBSD_6_1:1.23.0.2
	OPENBSD_6_1_BASE:1.23
	OPENBSD_6_0:1.21.0.4
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.21.0.2
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.20.0.4
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.17.0.2
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.16.0.2
	OPENBSD_5_6_BASE:1.16
	OPENBSD_5_5:1.10.0.4
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.10.0.2
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.5.0.2
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	fgsch_20120313:1.1.1.1
	fgsch:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2016.11.04.11.35.19;	author sthen;	state Exp;
branches;
next	1.22;
commitid	Gg5LRcnQlqj5M3F7;

1.22
date	2016.09.08.10.36.48;	author jasper;	state Exp;
branches;
next	1.21;
commitid	MRB8Dc7OKr7d5lcV;

1.21
date	2015.10.30.12.47.40;	author sthen;	state Exp;
branches;
next	1.20;
commitid	IIzCiS5xiW9Dmxlk;

1.20
date	2015.05.05.17.00.18;	author sthen;	state Exp;
branches;
next	1.19;
commitid	ukCYGVBlglFzny8e;

1.19
date	2015.04.04.09.21.02;	author ajacoutot;	state Exp;
branches;
next	1.18;
commitid	kS3kwKZogsvzYmEY;

1.18
date	2015.03.27.08.13.02;	author ajacoutot;	state Exp;
branches;
next	1.17;
commitid	qkrQPO6KjSKIuf3s;

1.17
date	2014.10.12.10.20.49;	author ajacoutot;	state Exp;
branches;
next	1.16;
commitid	NEwyqKWamwLhXhqN;

1.16
date	2014.07.09.17.43.52;	author ajacoutot;	state Exp;
branches;
next	1.15;
commitid	Nm4l5yAcUVwu1rIN;

1.15
date	2014.07.09.13.55.59;	author ajacoutot;	state Exp;
branches;
next	1.14;
commitid	c4pRJ4t1whiJdImt;

1.14
date	2014.05.08.17.24.48;	author zhuk;	state Exp;
branches;
next	1.13;

1.13
date	2014.04.02.09.36.11;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2014.04.01.18.06.29;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2014.04.01.17.03.13;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2013.05.31.15.34.49;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2013.05.27.20.18.12;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2013.05.26.09.30.55;	author kirby;	state Exp;
branches;
next	1.7;

1.7
date	2013.03.27.18.02.51;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2013.03.11.11.12.33;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2013.02.05.23.37.06;	author fgsch;	state Exp;
branches;
next	1.4;

1.4
date	2012.06.15.08.32.16;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.03.13.19.40.27;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.03.13.10.07.45;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.03.13.01.08.42;	author fgsch;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.03.13.01.08.42;	author fgsch;	state Exp;
branches;
next	;


desc
@@


1.23
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@# $OpenBSD: Makefile,v 1.22 2016/09/08 10:36:48 jasper Exp $

COMMENT =	japanese-english dictionary program

DISTNAME =	gwaei-3.2.0
REVISION =	15

SHARED_LIBS =	waei	0.0

CATEGORIES =	japanese

HOMEPAGE =	http://sourceforge.net/projects/gwaei/

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi c cairo
WANTLIB += cairo-gobject crypto curl dbus-1 epoxy expat ffi fontconfig
WANTLIB += freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 graphite2 gthread-2.0 gtk-3 harfbuzz iconv intl m
WANTLIB += nghttp2 pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs ssl xcb xcb-render xcb-shm z

MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=gwaei/}

MODULES =	devel/dconf \
		textproc/intltool \
		x11/gnome

USE_GMAKE=	Yes

RUN_DEPENDS =	fonts/ja-kanjistrokeorders-ttf \
		textproc/docbook
LIB_DEPENDS =	devel/gettext \
		net/curl \
		x11/gtk+3

CONFIGURE_STYLE = gnu
CONFIGURE_ARGS += ENCHANT="${LOCALBASE}/bin/enchant"

MODGNOME_TOOLS += desktop-file-utils gtk-update-icon-cache yelp

pre-configure:
	${SUBST_CMD} ${WRKSRC}/src/gwaei/help/C/*.{in,xml}

.include <bsd.port.mk>
@


1.22
log
@- drop gettext module
- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/10/30 12:47:40 sthen Exp $
d6 1
a6 1
REVISION =	14
d17 8
a25 9

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += c cairo cairo-gobject crypto curl dbus-1 epoxy expat
WANTLIB += ffi fontconfig freetype gdk-3 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 graphite2 gthread-2.0
WANTLIB += gtk-3 harfbuzz iconv idn intl m nghttp2 pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += ssl xcb xcb-render xcb-shm z
@


1.21
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/05/05 17:00:18 sthen Exp $
d6 1
a6 1
REVISION =	13
d17 1
a17 7
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi c cairo
WANTLIB += cairo-gobject crypto curl dbus-1 epoxy expat ffi fontconfig
WANTLIB += freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 graphite2 gthread-2.0 gtk-3 harfbuzz idn m
WANTLIB += nghttp2 pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png
WANTLIB += pthread pthread-stubs ssl xcb xcb-render xcb-shm z
d19 8
a26 1
MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=gwaei/}
a28 1
		devel/gettext \
d36 2
a37 1
LIB_DEPENDS =	net/curl \
@


1.20
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/04/04 09:21:02 ajacoutot Exp $
d6 1
a6 1
REVISION =	12
d22 1
a22 1
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png
@


1.19
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/03/27 08:13:02 ajacoutot Exp $
d6 1
a6 1
REVISION =	11
d17 7
a23 8
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += c cairo cairo-gobject crypto curl dbus-1 expat ffi
WANTLIB += fontconfig freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 graphite2 gthread-2.0 gtk-3
WANTLIB += harfbuzz idn m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs ssl xcb xcb-render
WANTLIB += xcb-shm z
@


1.18
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2014/10/12 10:20:49 ajacoutot Exp $
d6 1
a6 1
REVISION =	10
@


1.17
log
@Regen WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/07/09 17:43:52 ajacoutot Exp $
d6 1
a6 1
REVISION =	9
@


1.16
log
@The x11/gnome MODULE will soon stop setting USE_GMAKE unconditionally, so
explicitely add it where needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2014/07/09 13:55:59 ajacoutot Exp $
d6 1
a6 1
REVISION =	8
d17 8
a24 8
WANTLIB =	ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi \
		Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi \
		c cairo cairo-gobject crypto curl dbus-1 expat ffi \
		fontconfig freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 \
		gmodule-2.0 gobject-2.0 gthread-2.0 gtk-3 harfbuzz \
		idn m pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs \
		ssl xcb xcb-render xcb-shm z graphite2
@


1.15
log
@These need textproc/intltool in MODULES since they are not GNOME_PROJECT
ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/05/08 17:24:48 zhuk Exp $
d32 2
@


1.14
log
@Missing devel/dconf in MODULES. Packaging checked on i386.
Spotted while testing portcheck improvements.
okay ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2014/04/02 09:36:11 jasper Exp $
d6 1
a6 1
REVISION =	7
d30 1
@


1.13
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/04/01 18:06:29 jasper Exp $
d6 1
a6 1
REVISION =	6
d28 2
a29 1
MODULES =	devel/gettext \
@


1.12
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2014/04/01 17:03:13 jasper Exp $
d39 1
a39 1
MODGNOME_TOOLS +=  desktop-file-utils  gtk-update-icon-cache yelp
@


1.11
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/05/31 15:34:49 ajacoutot Exp $
d39 1
a39 3
MODGNOME_TOOLS =	yelp
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS +=	gtk-update-icon-cache
@


1.10
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/05/27 20:18:12 naddy Exp $
d40 2
a41 2
MODGNOME_DESKTOP_FILE =	Yes
MODGNOME_ICON_CACHE =	Yes
@


1.9
log
@missing bump after homepage change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/05/26 09:30:55 kirby Exp $
d6 1
a6 1
REVISION =	5
d22 1
a22 1
		icudata icule icuuc idn m pango-1.0 pangocairo-1.0 \
@


1.8
log
@ - update HOMEPAGE
 - update MASTER_SITES where needed
 - regen distinfo while here
patch from Martin Natano with tweaks by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/03/27 18:02:51 ajacoutot Exp $
d6 1
a6 1
REVISION =	4
@


1.7
log
@Fix build with glib2>=2.36.0.
Regen WANTLIB.
Merge PLISTs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/03/11 11:12:33 espie Exp $
d5 1
a5 2
V =		3.2.0
DISTNAME =	gwaei-${V}
d12 1
a12 1
HOMEPAGE =	http://www.zacharydovel.com/software/gwaei/
d26 1
a26 1
MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=gwaei/${V}/}
@


1.6
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/02/05 23:37:06 fgsch Exp $
d7 1
a7 1
REVISION =	3
d25 1
a25 1
		ssl xcb xcb-render xcb-shm z
d44 1
a44 1
post-patch:
@


1.5
log
@fix crash with recent glib/gtk versions. full update will happen post 5.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/06/15 08:32:16 ajacoutot Exp $
a16 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.4
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/03/13 19:40:27 ajacoutot Exp $
d7 1
a7 1
REVISION =	2
d13 1
a13 1
HOMEPAGE =	http://gwaei.sourceforge.net/
d21 6
a26 5
WANTLIB =	GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
		Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c cairo \
		cairo-gobject crypto curl drm expat ffi fontconfig \
		freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 \
		gobject-2.0 gthread-2.0 gtk-3 idn m pango-1.0 pangocairo-1.0 \
d28 1
a28 1
		ssl stdc++ xcb xcb-render xcb-shm z
@


1.3
log
@Use the x11/gnome MODULE and add dependency on yelp to be able to
display the help.

ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/03/13 10:07:45 ajacoutot Exp $
d7 1
a7 1
REVISION =	1
@


1.2
log
@s/TRUEPREFIX/LOCALBASE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/03/13 01:08:42 fgsch Exp $
d7 1
a7 1
REVISION =	0
d32 1
a32 1
		textproc/intltool
d34 2
a35 5
BUILD_DEPENDS =	x11/gnome/doc-utils
RUN_DEPENDS =	devel/desktop-file-utils \
		fonts/ja-kanjistrokeorders-ttf \
		textproc/docbook \
		x11/gtk+2,-guic
d39 2
a40 2
USE_GMAKE =	Yes
USE_LIBTOOL =	Yes
d42 3
a44 3
CONFIGURE_STYLE = gnu
CONFIGURE_ARGS += ${CONFIGURE_SHARED} \
		  ENCHANT="${LOCALBASE}/bin/enchant"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@Import gwaei 3.2.0, a japanese-english dictionary.
input and ok sthen@@
@
text
@@
